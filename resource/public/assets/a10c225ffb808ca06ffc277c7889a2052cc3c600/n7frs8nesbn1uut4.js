var M=Object.defineProperty,G=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var g=(i,s,t)=>s in i?M(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,l=(i,s)=>{for(var t in s||(s={}))P.call(s,t)&&g(i,t,s[t]);if(f)for(var t of f(s))_.call(s,t)&&g(i,t,s[t]);return i},h=(i,s)=>G(i,C(s));import{b as z,r as v,u as B,j as e,M as d,d as k}from"./jj85rqzpbnvv3emr.js";import{o as y,C as L,ai as A,B as j,R as I}from"./lef5ym39glv4981l.js";import{bM as w,bN as E}from"./mclphevd122040jw.js";import{a as S}from"./fpayvvmhdp5pkskd.js";function U({isOpen:i,onClose:s,account:t,gpt:b}){const T=z(),[m,u]=v.useState(!1),[a,n]=v.useState(b),c=a==null?void 0:a.tools.filter(o=>o.type!==y.JIT_PLUGIN),p=a==null?void 0:a.tools.filter(o=>o.type===y.JIT_PLUGIN),N=B();return e.jsxs(L,{testId:"modal-approve-gpt",size:"custom",className:"max-w-lg text-sm",isOpen:i,onClose:A,type:"success",title:T.formatMessage(r.approveGPTTitle),children:[a==null?e.jsx("div",{className:"h-96",children:e.jsx(S,{popoverClassName:"bg-token-main-surface-secondary!",onSelect:o=>{n(o)}})}):e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"border-token-border-default flex gap-4 border-b pb-6",children:[a.gizmo.display.profile_picture_url!=null?e.jsx("img",{src:a.gizmo.display.profile_picture_url,className:"h-24 w-24 rounded-full",width:96,height:96}):e.jsx(w,{className:"h-96 w-96 text-gray-400"}),e.jsxs("div",{className:"text-token-text-primary flex flex-col gap-1",children:[e.jsx("p",{className:"text-lg font-semibold",children:a.gizmo.display.name}),e.jsx("p",{children:a.gizmo.display.description}),e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,h(l({},r.gptByLine),{values:{authorName:a.gizmo.author.display_name}}))})]})]}),e.jsx("div",{className:"border-token-border-default flex border-b py-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{className:"w-24 font-semibold",children:e.jsx(d,l({},r.capabilitiesTitle))}),e.jsx("div",{className:"text-token-text-primary flex flex-col gap-1",children:c&&c.length>0?c.map(o=>e.jsx("p",{children:E(t,o.type)},o.id)):e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,l({},r.noCapabilitiesEnabled))})})]})}),e.jsx("div",{className:"flex py-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{className:"w-24 font-semibold",children:e.jsx(d,l({},r.actionsTitle))}),e.jsx("div",{className:"text-token-text-primary flex flex-col gap-1",children:p&&p.length>0?p.map(o=>{var x;return e.jsx("p",{children:(x=o.metadata.domain)!=null?x:""},o.id)}):e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(d,l({},r.noCustomActions))})})]})})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(j,{color:"secondary",onClick:()=>{n(void 0),s(!1)},loading:m,children:e.jsx(d,l({},r.cancelButtonText))}),e.jsx(j,{color:"primary",loading:m,disabled:a==null,onClick:()=>{a!=null&&(u(!0),I.safePost("/accounts/{account_id}/gpts/{third_party_gizmo_id}/approve",{parameters:{path:{account_id:t.id,third_party_gizmo_id:a.gizmo.id}}}).finally(()=>{N.invalidateQueries({queryKey:["gizmo"]}),s(!0),n(void 0),u(!1)}))},children:e.jsx(d,l({},r.approveButtonText))})]})]})}const r=k({approveGPTTitle:{id:"approveGPTModal.approveGPTTitle",defaultMessage:"Approve a third-party GPT"},cancelButtonText:{id:"approveGPTModal.cancelButtonText",defaultMessage:"Cancel"},approveButtonText:{id:"approveGPTModal.approveButtonText",defaultMessage:"Approve"},gptByLine:{id:"approveGPTModal.gptByLine",defaultMessage:"By {authorName}"},capabilitiesTitle:{id:"approveGPTModal.capabilitiesTitle",defaultMessage:"Capabilities"},actionsTitle:{id:"approveGPTModal.actionsTitle",defaultMessage:"Actions"},noCapabilitiesEnabled:{id:"approveGPTModal.noCapabilitiesEnabled",defaultMessage:"No capabilities enabled"},noCustomActions:{id:"approveGPTModal.noCustomActions",defaultMessage:"No custom actions"}});export{U as A};
//# sourceMappingURL=n7frs8nesbn1uut4.js.map

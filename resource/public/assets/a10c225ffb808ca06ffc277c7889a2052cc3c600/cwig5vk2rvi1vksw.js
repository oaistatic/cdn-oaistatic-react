var He=Object.defineProperty,Qe=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var Pe=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable;var Ie=(a,e,s)=>e in a?He(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,R=(a,e)=>{for(var s in e||(e={}))ze.call(e,s)&&Ie(a,s,e[s]);if(Pe)for(var s of Pe(e))Ye.call(e,s)&&Ie(a,s,e[s]);return a},me=(a,e)=>Qe(a,$e(e));import{r as b,aj as Ge,j as t,A as ge,m as ee,c as K,M as Q,d as Ke,f as Ve,b as xe}from"./jj85rqzpbnvv3emr.js";import{i as ne,bG as Xe,a9 as se,b as Ze,cj as Ae,O as Je,bF as et,bo as ke,t as J,P as W,dF as Oe,co as tt,r as st,ft as nt,B as G,aE as ot,oF as it,e as Se,v as at,gu as rt,R as lt,A as ct,id as ve,aC as ut,oG as dt,jG as mt,gm as ft,mH as gt,bI as fe}from"./lef5ym39glv4981l.js";import{u as pt}from"./d64g4smj0v6wfguu.js";import{cY as ht,cZ as xt,c_ as yt,k as bt,c$ as _t,d0 as wt,d1 as Ue,d2 as St,bq as vt,br as kt,an as jt,d3 as Nt,d4 as Et,d5 as Tt,d6 as Mt,d7 as Ct,a9 as Pt,d8 as It,d9 as At}from"./mclphevd122040jw.js";import{s as oe,R as Ot}from"./eyrb6sf5jz8ri0pt.js";import{M as Ut}from"./n9gjott769mxfmpz.js";import{T as Ft,S as Lt,F as Dt}from"./pb6aizka92emjg8u.js";import{M as Wt}from"./e0efgancp8wep37e.js";import{H as qt}from"./g4tl5lt9yqf20m4s.js";import{a as Rt,b as Bt}from"./l041el2tch1t3nkf.js";import"./cfjmhsr8xf6xwmmf.js";import"./m46a0bw94g3hbrbv.js";import"./mueia064md5nlhd6.js";import"./eyi9jrf1bwm7dn6f.js";import"./bm60ocel3j0ixm99.js";import"./eksfatdee5z30mgz.js";import"./gd5k9khi2ma4fx2d.js";import"./jucwzbakxra299c6.js";import"./ebxncu61uuayv8xb.js";import"./lz6nvf1wtn80mpd2.js";import"./xx3svpq6qe4q5uu1.js";import"./ng0sx063g0r0whhb.js";import"./fvmxudg74tbhlabl.js";import"./hnotrmacgvnfyexv.js";import"./gyvvad7btmtz1x9o.js";import"./n6vmm5pyahusdy8e.js";import"./dta5t6ifyam55mk9.js";import"./easgat082167v0i8.js";import"./cncd8uuk5eicbkeu.js";import"./cdk0cmbgnafohb1q.js";import"./mtg83aqpqaxteb09.js";import"./fr4ckts5oz9jhhs0.js";import"./mw2u7timj0qnsnvj.js";import"./dvqe6kc43fkjsavv.js";import"./f3wj76d1ulqyss85.js";const Ht=(a,e,s)=>{"use forget";var v;const o=K.c(18);let u;o[0]!==e||o[1]!==s?(u=["onboardingSteps",e,s],o[0]=e,o[1]=s,o[2]=u):u=o[2];const l=!a;let i;o[3]!==a||o[4]!==e||o[5]!==s?(i=()=>{const w=lt.safePost("/onboarding/steps",{requestBody:{main_usage:void 0,main_usages:e,user_description:s,exclude_feature_steps:a},authOption:ct.SendIfAvailable}),k=new Promise(es);return Promise.race([w,k])},o[3]=a,o[4]=e,o[5]=s,o[6]=i):i=o[6];let r;o[7]!==u||o[8]!==l||o[9]!==i?(r={queryKey:u,enabled:l,queryFn:i},o[7]=u,o[8]=l,o[9]=i,o[10]=r):r=o[10];const{data:n,isLoading:f,isSuccess:c,isError:m}=Ve(r);let g;o[11]!==(n==null?void 0:n.steps)?(g=(v=n==null?void 0:n.steps)!=null?v:[],o[11]=n==null?void 0:n.steps,o[12]=g):g=o[12];const p=m||(n==null?void 0:n.isError);let x;return o[13]!==f||o[14]!==c||o[15]!==g||o[16]!==p?(x={steps:g,isLoading:f,isSuccess:c,isError:p},o[13]=f,o[14]=c,o[15]=g,o[16]=p,o[17]=x):x=o[17],x};function ie(a){"use forget";const e=K.c(7),{children:s,className:o}=a;let u,l,i,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={opacity:0,y:7},l={opacity:1,y:0},i={duration:.2},r={opacity:0,y:-7},e[0]=u,e[1]=l,e[2]=i,e[3]=r):(u=e[0],l=e[1],i=e[2],r=e[3]);let n;return e[4]!==s||e[5]!==o?(n=t.jsx(ee.div,{className:o,initial:u,animate:l,transition:i,exit:r,children:s}),e[4]=s,e[5]=o,e[6]=n):n=e[6],n}function Qt(a){"use forget";const e=K.c(8),{isUserInfoReady:s,setShowLoadingScreen:o,userName:u}=a;let l,i;e[0]!==o?(l=()=>{const f=setTimeout(()=>{o(!1)},3900);return()=>clearTimeout(f)},i=[o],e[0]=o,e[1]=l,e[2]=i):(l=e[1],i=e[2]),b.useEffect(l,i);let r;e[3]!==s||e[4]!==u?(r=s&&t.jsx("h1",{className:"text-token-text-primary mb-2 text-center text-3xl leading-9 font-medium",children:t.jsxs(ge,{children:[t.jsx(ee.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},exit:{opacity:0,y:-10},children:u?t.jsx(Q,me(R({},A.niceToMeetYou),{values:{name:u}})):t.jsx(Q,R({},A.niceToMeetYouWithoutName))}),t.jsx(ee.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.5},exit:{opacity:0,y:-10},children:t.jsx(Q,R({},A.hereIsAQuickTour))})]})}),e[3]=s,e[4]=u,e[5]=r):r=e[5];let n;return e[6]!==r?(n=t.jsx(ie,{className:"max-sm:px-5 max-sm:py-4",children:r}),e[6]=r,e[7]=n):n=e[7],n}function $t(a){"use forget";const e=K.c(23),{clientThreadId:s,createNewThread:o,isNewThread:u,endOnboarding:l}=a,i=ne(),{eligible:r,isLoading:n,markAsViewed:f}=vt(kt.Onboarding);let c,m;e[0]!==o||e[1]!==i||e[2]!==u?(c=()=>{se(i,"109457",{disableExposureLog:!0}).get("new_thread_after_onboarding",!1)&&!u&&o()},m=[o,i,u],e[0]=o,e[1]=i,e[2]=u,e[3]=c,e[4]=m):(c=e[3],m=e[4]),b.useEffect(c,m);let g,p;e[5]!==r||e[6]!==n||e[7]!==f?(g=()=>{r&&!n&&f()},p=[f,r,n],e[5]=r,e[6]=n,e[7]=f,e[8]=g,e[9]=p):(g=e[8],p=e[9]),b.useEffect(g,p);let x;e[10]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(ve,{className:"text-token-text-primary h-9 w-9 text-4xl"}),e[10]=x):x=e[10];let v;e[11]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4 text-center max-sm:flex-1",children:[x,t.jsx("p",{className:"text-token-text-primary text-center text-3xl",children:t.jsx(Q,R({},A.allDone))})]}),e[11]=v):v=e[11];let w;e[12]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("div",{className:"text-token-text-secondary relative mt-auto w-full text-center text-base",children:t.jsx(Ot,{})}),e[12]=w):w=e[12];let k;e[13]!==l?(k=()=>{l(!0)},e[13]=l,e[14]=k):k=e[14];let _;e[15]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(Q,R({},A.continue)),e[15]=_):_=e[15];let y;e[16]!==k?(y=t.jsx(G,{size:"large",color:"primary",onClick:k,fullWidth:!0,children:_}),e[16]=k,e[17]=y):y=e[17];let j;e[18]!==s?(j=t.jsx("div",{className:"text-token-text-secondary relative mt-auto flex w-full items-center justify-center text-center text-sm",children:t.jsx(Mt,{clientThreadId:s,variant:"byContinuing"})}),e[18]=s,e[19]=j):j=e[19];let N;return e[20]!==y||e[21]!==j?(N=t.jsxs(ie,{className:"flex flex-col items-center justify-between max-sm:h-full max-sm:w-full max-sm:py-4 sm:w-[320px] sm:justify-center sm:gap-y-12",children:[v,t.jsxs("div",{className:"flex flex-col gap-y-4 max-sm:w-full max-sm:px-6",children:[w,y,j]})]}),e[20]=y,e[21]=j,e[22]=N):N=e[22],N}function zt(a){"use forget";const e=K.c(11),{steps:s,stepIndex:o,toolProgress:u,isUserInfoReady:l,handleGoBack:i}=a;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={minHeight:"var(--screen-thread-header-min-height,60px)"},e[0]=r):r=e[0];let n;e[1]!==l||e[2]!==s||e[3]!==u?(n=s&&s.length>0&&l&&t.jsx("div",{className:"absolute start-0 top-0 h-2 w-full",children:t.jsx(ee.div,{className:"bg-token-bg-primary-inverse h-1.5",initial:{width:"0%",opacity:0},animate:{width:"".concat(u*100,"%"),opacity:1},transition:{duration:.3}})}),e[1]=l,e[2]=s,e[3]=u,e[4]=n):n=e[4];let f;e[5]!==i||e[6]!==o?(f=o>0?t.jsx(G,{onClick:i,color:"ghost",className:"border-none",icon:Ct}):t.jsx("div",{}),e[5]=i,e[6]=o,e[7]=f):f=e[7];let c;return e[8]!==n||e[9]!==f?(c=t.jsxs("div",{className:"absolute start-0 top-0 z-10 flex w-full items-center justify-between bg-none px-4",style:r,children:[n,f]}),e[8]=n,e[9]=f,e[10]=c):c=e[10],c}function Yt(a){"use forget";const e=K.c(18),{step:s,steps:o,stepIndex:u,wrapUp:l,gotoStep:i,isNextButtonDisabled:r}=a,n=xe(),f=Fe(s,u,o.length,l,i);if((s==null?void 0:s.step_type)==="usage_question"||(s==null?void 0:s.step_type)==="self_description")return null;let c;e[0]!==n||e[1]!==s?(c=s&&t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-3xl leading-9 font-medium",children:s.title?s.title:pe[s.step_type]?n.formatMessage(pe[s.step_type]):null}),t.jsx("p",{className:"text-token-text-secondary text-base leading-normal font-normal",children:s.subtitle?s.subtitle:he[s.step_type]?n.formatMessage(he[s.step_type]):null})]}),e[0]=n,e[1]=s,e[2]=c):c=e[2];let m;e[3]!==n?(m=n.formatMessage(oe.next),e[3]=n,e[4]=m):m=e[4];let g;e[5]!==r||e[6]!==m||e[7]!==f?(g=t.jsx(G,{onClick:f,color:"primary",size:"large",className:"mt-4",disabled:r,children:m}),e[5]=r,e[6]=m,e[7]=f,e[8]=g):g=e[8];let p;e[9]!==n||e[10]!==u||e[11]!==o.length||e[12]!==l?(p=u!==o.length-1&&t.jsx(G,{onClick:()=>l(),color:"ghost",children:n.formatMessage(A.skipTour)}),e[9]=n,e[10]=u,e[11]=o.length,e[12]=l,e[13]=p):p=e[13];let x;return e[14]!==c||e[15]!==g||e[16]!==p?(x=t.jsx("div",{className:"from-bg-token-bg-primary via-bg-token-bg-primary absolute start-0 bottom-0 z-30 w-full bg-gradient-to-t to-transparent px-4 pb-8",children:t.jsxs("div",{className:"bg-token-bg-primary shadow-token-border-heavy flex w-full flex-col gap-y-2 rounded-3xl px-6 py-5 text-center shadow-[0px_10px_30px_0px]",children:[c,g,p]})}),e[14]=c,e[15]=g,e[16]=p,e[17]=x):x=e[17],x}function Ds({clientThreadId:a,setClientThreadId:e}){"use forget";var Ce;const s=ne(),o=Xe(s,a),u=se(s,"109457",{disableExposureLog:!0}),l=u.get("onboarding_skip_usage_question",!1),i=u.get("onboarding_unified_user_prompts",!1),{isOpen:r,closeModal:n,markAsViewed:f}=ht(),[c,m]=b.useState(0),[g,p]=b.useState(new Set(["usage_question"])),[x,v]=b.useState([]),[w,k]=b.useState(),[_,y]=b.useState(l),[j,N]=b.useState(!1),[T,P]=b.useState(l),[F,E]=b.useState(!1),[L,O]=b.useState(null),[B,D]=b.useState(!1),[C,I]=b.useState(null),{steps:S,isLoading:q,isError:Y}=Ht(!_,_?i?["justCurious"]:x:[],_?w:void 0),M=Ze(),H=xt({clientThreadId:a}),{createNewThread:U,resetThread:z}=yt({clientThreadId:a,setClientThreadId:e}),[$,V,X]=Ae(a,d=>[fe.hasUserMessage(d),fe.getRequestId(d),!!d&&!d.isLoading]),Z=Je(()=>{var d;return((d=bt(o))==null?void 0:d.value)===et.STREAMING}),je=_t(V)||Z,te=se(s,"109457",{disableExposureLog:!0}),Ne=te.get("skip_button_continues",!1),Ee=te.get("keep_onboarding_after_dismiss",!1),Le=!ke();b.useEffect(()=>{r?(J(s,"chatgpt_onboarding_flow_shown"),W.logEvent("Onboarding Shown"),f()):Oe.setOnboardingConvoState(null)},[s,r,f]),b.useEffect(()=>{Y&&(f(),n(),W.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_getting_steps"}),W.logEvent("Onboarding Error",{error:Y}))},[Y,f,n]),b.useEffect(()=>{const d=S[c];q||!d||g.has(d.step_type)||(p(le=>new Set([...le,d.step_type])),d.step_prompt&&(Oe.setOnboardingConvoState({onboardingConvoClientThreadId:a}),te.get("new_thread_for_each_prompt",!1)?(U(),setTimeout(()=>{I(d)},500)):I(d)))},[c,q,g,S,U,a,te]);const ye=Ge("/c/:conversationId"),De=!!(ye!=null&&ye.params.conversationId),be=Ae(a,d=>!!d&&fe.getIsNewConversation(d)&&!fe.hasUserMessage(d)),Te=je&&!De,Me=S.filter(d=>d.step_type==="usage_question"||d.step_type==="self_description");b.useEffect(()=>{if(!C||te.get("new_thread_for_each_prompt",!1)&&(!be||!X))return;const d=C.step_metadata;C.step_type!=="dalle"&&te.get("use_dynamic_response",!1)&&d!=null&&d.onboarding&&(delete d.onboarding.system_hints,delete d.onboarding.hardcoded_response),H({eventSource:"url",stepPrompt:C.step_prompt,messageMetadata:d,authorMetadata:{real_author:tt.Onboarding}}),I(null)},[C,H,te,be,X]);const h=S[c];b.useEffect(()=>{const d=h==null?void 0:h.step_type;(d==="usage_question"||d==="self_description")&&$&&r&&(U(),p(re=>new Set(Array.from(re).filter(le=>le==="usage_question"||le==="self_description"))))},[h==null?void 0:h.step_type,U,$,r]),b.useEffect(()=>{h!=null&&h.step_type&&(J(s,"chatgpt_onboarding_step_shown",void 0,{step_type:h==null?void 0:h.step_type,step_index:c.toString()}),W.logEvent("Onboarding Step Shown",{step_type:h==null?void 0:h.step_type,step_index:c.toString()}))},[c,h==null?void 0:h.step_type,s]),b.useEffect(()=>{!T&&!q&&_&&m(d=>d+1)},[T,_,q]);const ce=b.useCallback(()=>{N(!0)},[]),ue=b.useCallback(d=>{N(!1),c===S.length-1&&_?(J(s,"chatgpt_onboarding_flow_finished"),W.logEvent("Onboarding Finished")):(J(s,"chatgpt_onboarding_flow_dismissed",void 0,{step_type:h==null?void 0:h.step_type,step_index:c.toString()}),W.logEvent("Onboarding Dismissed",{step_type:h==null?void 0:h.step_type,step_index:c.toString()})),d&&!Ee&&f(),n()},[s,c,S.length,_,h==null?void 0:h.step_type,Ee,f,n]);wt(b.useCallback(({error:d})=>{d&&(W.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_in_onboarding_stream"}),W.logEvent("Onboarding Error",{error:d}),ue(!0),z())},[ue,z]));const We=Ue(),de=st(s),_e=b.useCallback(d=>{v(d),d.includes("work")&&(de==null?void 0:de.isFree())&&se(s,"109457").get("work_question_upsell",!1)?E(!0):S.find(Be=>Be.step_type==="self_description")||(P(!0),y(!0)),J(s,"chatgpt_onboarding_usage_question_selected",void 0,{main_usages:d.join(", ")}),W.logEvent("Onboarding Usage Question Selected",{main_usages:d.join(", ")})},[de,s,S]),qe=d=>{k(d),y(!0),m(re=>re+1),J(s,"chatgpt_onboarding_self_description_entered",void 0,{main_usages:x.join(", ")}),W.logEvent("Onboarding Self Description Entered",{main_usages:x.join(", ")})},Re=()=>{J(s,"chatgpt_onboarding_go_back",void 0,{step_type:h==null?void 0:h.step_type,step_index:c.toString()}),W.logEvent("Onboarding Go Back",{step_type:h==null?void 0:h.step_type,step_index:c.toString()}),m(d=>d-1)},we=b.useCallback(()=>{Ne?_e([]):ce()},[_e,Ne,ce]);return Y?null:t.jsx(nt,{fallback:()=>(ue(!0),W.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_in_onboarding_modal"}),t.jsx(t.Fragment,{})),name:"NewUserOnboardingFlowModal",children:t.jsx(ge,{children:t.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},exit:{opacity:0},className:"bg-token-bg-primary absolute inset-0 start-0 top-0 z-50 h-full w-full",children:t.jsx(St,{clientThreadId:a,children:t.jsxs("div",{className:"flex h-full max-h-full flex-col",children:[!j&&!q&&!T&&_&&(Le?t.jsx(Yt,{step:h,steps:S,stepIndex:c,wrapUp:ce,gotoStep:m,isNextButtonDisabled:Te}):t.jsx(zt,{steps:S,stepIndex:c,toolProgress:(c+1-Me.length)/(S.length-Me.length),isUserInfoReady:_,handleGoBack:Re})),t.jsx("div",{className:"flex min-h-0 flex-1 flex-col items-center justify-center overflow-hidden",children:t.jsx(ge,{mode:"wait",children:j?t.jsx($t,{clientThreadId:a,createNewThread:U,isNewThread:be,endOnboarding:ue},"wrapping-up"):_?q||T?t.jsx(Qt,{isUserInfoReady:_,setShowLoadingScreen:P,userName:(Ce=M==null?void 0:M.first_name)!=null?Ce:void 0},"loading"):(h==null?void 0:h.step_type)==="self_description"?t.jsx(Vt,{mainUsages:x,selfDescriptionProp:w,onEnterSelfDescription:qe},"self-description"):["dalle","file_upload","canvas","voice","ask_any_question"].includes(h==null?void 0:h.step_type)?t.jsx(Jt,{step:h,gotoStep:m,stepIndex:c,totalSteps:S.length,wrapUp:ce,clientThreadId:a,isCompletionInProgress:je,isNextButtonDisabled:Te},"tools-onboarding"):null:B?t.jsx(Kt,{teamFreeTrialPromo:We,onContinue:()=>{D(!1),E(!1),P(!0),y(!0)},onSkip:we},"team-trial-step"):F?t.jsx(Gt,{value:L,onChange:d=>{W.logEventWithStatsig("Onboarding Work Plan Question Selected","chatgpt_onboarding_team_work_question_selected",{option:d}),O(d)},onContinue:()=>{if(L==="team"){D(!0);return}if(!S.find(d=>d.step_type==="self_description")){P(!0),y(!0),E(!1);return}y(!0),E(!1)},onSkip:we},"work-plan-question"):t.jsx(Ut,{mainUsagesProp:x,onSelectMainUsages:_e,onSkip:we},"usage-question")})})]})})})})})}const Gt=a=>{"use forget";const e=K.c(52),{value:s,onChange:o,onContinue:u,onSkip:l}=a,i=xe();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0],b.useEffect(ts,r);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{children:t.jsx("h1",{className:"text-token-text-primary mb-4 text-center text-3xl leading-9 font-medium",children:t.jsx(Q,R({},A.howPlanToUse))})}),e[1]=n):n=e[1];let f;e[2]!==o?(f=()=>o("self"),e[2]=o,e[3]=f):f=e[3];const c=s==="self"?"max-sm:bg-token-interactive-bg-secondary-selected bg-token-interactive-bg-secondary-selected":"max-sm:bg-token-interactive-bg-secondary-hover hover:bg-token-interactive-bg-secondary-hover";let m;e[4]!==c?(m=Se("flex w-full cursor-pointer items-center gap-x-3 rounded-lg p-4 text-start",c),e[4]=c,e[5]=m):m=e[5];let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(ut,{className:"icon"}),e[6]=g):g=e[6];let p;e[7]!==i?(p=i.formatMessage(A.forMyself),e[7]=i,e[8]=p):p=e[8];let x;e[9]!==p?(x=t.jsx("span",{className:"flex-1 cursor-pointer",children:p}),e[9]=p,e[10]=x):x=e[10];let v;e[11]!==s?(v=s==="self"&&t.jsx(ve,{className:"text-token-text-primary"}),e[11]=s,e[12]=v):v=e[12];let w;e[13]!==f||e[14]!==m||e[15]!==x||e[16]!==v?(w=t.jsxs("button",{onClick:f,className:m,children:[g,x,v]}),e[13]=f,e[14]=m,e[15]=x,e[16]=v,e[17]=w):w=e[17];let k;e[18]!==o?(k=()=>o("team"),e[18]=o,e[19]=k):k=e[19];const _=s==="team"?"max-sm:bg-token-interactive-bg-secondary-selected bg-token-interactive-bg-secondary-selected":"max-sm:bg-token-interactive-bg-secondary-hover hover:bg-token-interactive-bg-secondary-hover";let y;e[20]!==_?(y=Se("flex w-full cursor-pointer items-center gap-x-3 rounded-lg p-4 text-start",_),e[20]=_,e[21]=y):y=e[21];let j;e[22]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(Pt,{className:"icon"}),e[22]=j):j=e[22];let N;e[23]!==i?(N=i.formatMessage(A.withATeam),e[23]=i,e[24]=N):N=e[24];let T;e[25]!==N?(T=t.jsx("span",{className:"flex-1 cursor-pointer",children:N}),e[25]=N,e[26]=T):T=e[26];let P;e[27]!==s?(P=s==="team"&&t.jsx(ve,{className:"text-token-text-primary"}),e[27]=s,e[28]=P):P=e[28];let F;e[29]!==k||e[30]!==y||e[31]!==T||e[32]!==P?(F=t.jsxs("button",{onClick:k,className:y,children:[j,T,P]}),e[29]=k,e[30]=y,e[31]=T,e[32]=P,e[33]=F):F=e[33];let E;e[34]!==w||e[35]!==F?(E=t.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[n,t.jsxs("div",{className:"flex min-h-0 flex-1 flex-col items-start justify-start gap-y-2 overflow-y-auto",children:[w,F]})]}),e[34]=w,e[35]=F,e[36]=E):E=e[36];const L=!s;let O;e[37]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(Q,R({},A.continue)),e[37]=O):O=e[37];let B;e[38]!==u||e[39]!==L?(B=t.jsx(G,{size:"large",color:"primary",onClick:u,disabled:L,className:"mt-10",fullWidth:!0,children:O}),e[38]=u,e[39]=L,e[40]=B):B=e[40];let D;e[41]!==l?(D=()=>{W.logEventWithStatsig("Work Plan Question Skipped","chatgpt_onboarding_team_work_question_skipped"),l()},e[41]=l,e[42]=D):D=e[42];let C;e[43]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(Q,R({},oe.skip)),e[43]=C):C=e[43];let I;e[44]!==D?(I=t.jsx(G,{size:"large",color:"ghost",onClick:D,fullWidth:!0,children:C}),e[44]=D,e[45]=I):I=e[45];let S;e[46]!==B||e[47]!==I?(S=t.jsxs("div",{className:"flex w-full flex-col gap-2 sm:gap-3",children:[B,I]}),e[46]=B,e[47]=I,e[48]=S):S=e[48];let q;return e[49]!==E||e[50]!==S?(q=t.jsxs(ie,{className:"flex flex-col justify-between max-sm:h-full max-sm:overflow-y-auto max-sm:px-6 max-sm:pt-10 max-sm:pb-5 sm:w-[320px]",children:[E,S]}),e[49]=E,e[50]=S,e[51]=q):q=e[51],q},Kt=a=>{"use forget";const e=K.c(51),{onContinue:s,teamFreeTrialPromo:o,onSkip:u}=a,l=ne(),i=ot(),{country:r}=Rt(),n=r!=null?r:it;let f;e[0]!==i||e[1]!==n?(f={country:n,currentAccount:i,location:"NewUserOnboardingFlow",shouldUsePaidSubscriptionBillingCurrency:!1},e[0]=i,e[1]=n,e[2]=f):f=e[2];const c=Bt(f),{eligible:m,campaignId:g}=Ue();let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=jt({shouldUseOnboardingFeatures:!0}),e[3]=p):p=e[3];const x=p;let v;e[4]!==m?(v=Nt({shouldUseOnboardingFeatures:!0,isTrialEnabled:m}),e[4]=m,e[5]=v):v=e[5];const w=v;let k;e[6]===Symbol.for("react.memo_cache_sentinel")?(k={data:{workspaceName:""}},e[6]=k):k=e[6];const _=pt(k);let y;e[7]!==l?(y=It(),e[7]=l,e[8]=y):y=e[8];const j=y,[N,T]=b.useState(!1);let P;const F=i==null?void 0:i.subscriptionAnalyticsParams;let E;e[9]!==F?(E=me(R({},F),{referrer:document.referrer,parentComponent:"NewUserOnboardingFlow"}),e[9]=F,e[10]=E):E=e[10],P=E;const L=P;let O,B;e[11]!==m?(O=()=>{W.logEventWithStatsig("Team Trial Step Shown","chatgpt_onboarding_team_trial_step_shown",{is_eligible_for_team_trial:m})},B=[m],e[11]=m,e[12]=O,e[13]=B):(O=e[12],B=e[13]),b.useEffect(O,B);const D=o.eligible?A.tryBusinessFor30Days:A.upgradeYourPlan;let C;e[14]!==D?(C=t.jsx("h1",{className:"text-token-text-primary mb-2 text-center text-3xl leading-9 font-medium",children:t.jsx(Q,R({},D))}),e[14]=D,e[15]=C):C=e[15];let I;e[16]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("p",{className:"text-token-text-secondary mb-8 text-center text-base",children:t.jsx(Q,R({},A.chatgptUpgradedForBusiness))}),e[16]=I):I=e[16];let S;e[17]!==m||e[18]!==s?(S=()=>{W.logEventWithStatsig("Free Plan Selected","chatgpt_onboarding_team_trial_continue_clicked",{isTeamFreeTrialPromoEligible:m}),s()},e[17]=m,e[18]=s,e[19]=S):S=e[19];let q,Y;e[20]===Symbol.for("react.memo_cache_sentinel")?(q=Se("w-[100%]"),Y=t.jsx(Q,R({},x.callToAction.active)),e[20]=q,e[21]=Y):(q=e[20],Y=e[21]);let M;e[22]!==S?(M=t.jsx(G,{color:"secondary",size:"large",onClick:S,className:q,children:Y}),e[22]=S,e[23]=M):M=e[23];let H;e[24]!==c||e[25]!==M?(H=t.jsx(Dt,{billingDetails:c,isWebRedesign:!0,cta:M,shouldUseComparisonSpacing:!0,shouldUseOnboardingFeatures:!0,className:"h-full shadow-xl md:rounded-4xl!"}),e[24]=c,e[25]=M,e[26]=H):H=e[26];let U;e[27]!==L||e[28]!==c||e[29]!==i||e[30]!==j||e[31]!==_||e[32]!==N||e[33]!==m||e[34]!==w||e[35]!==g?(U=i&&t.jsx(Ft,{analyticsParams:L,billingDetails:c,currentAccount:i,planLoading:null,isWebRedesign:!0,type:Et.highlight,shouldUseComparisonSpacing:!0,shouldUseOnboardingFeatures:!0,className:"shadow-xl md:w-[468px]! md:rounded-4xl!",cta:t.jsx(Lt,{className:"w-full",planType:at.SELF_SERVE_BUSINESS,activeColor:"purple",loading:N,onClick:()=>{W.logEventWithStatsig("Team Trial Selected","chatgpt_onboarding_team_trial_upgrade_clicked",{isTeamFreeTrialPromoEligible:m}),T(!0),_({priceInterval:Tt.FLEXIBLE,billingDetails:c,promoData:m?{coupon:g,state:"eligible",redemption:null}:void 0,numSeats:m?5:j})},testId:"select-plan-button-teams-create",children:t.jsx(Q,R({},w.callToAction.inactive))})}),e[27]=L,e[28]=c,e[29]=i,e[30]=j,e[31]=_,e[32]=N,e[33]=m,e[34]=w,e[35]=g,e[36]=U):U=e[36];let z;e[37]!==H||e[38]!==U?(z=t.jsxs("div",{className:"flex w-full flex-col gap-8 md:flex-row md:items-start md:justify-center",children:[H,U]}),e[37]=H,e[38]=U,e[39]=z):z=e[39];let $;e[40]!==C||e[41]!==z?($=t.jsxs("div",{className:"flex w-full max-w-[980px] flex-col items-center",children:[C,I,z]}),e[40]=C,e[41]=z,e[42]=$):$=e[42];let V;e[43]!==u?(V=()=>{W.logEventWithStatsig("Team Trial Step Skipped","chatgpt_onboarding_team_trial_step_skipped"),u()},e[43]=u,e[44]=V):V=e[44];let X;e[45]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(Q,R({},oe.skip)),e[45]=X):X=e[45];let Z;e[46]!==V?(Z=t.jsx("div",{className:"mt-8 flex w-full justify-center",children:t.jsx(G,{size:"large",color:"ghost",className:"max-w-[320px]",onClick:V,fullWidth:!0,children:X})}),e[46]=V,e[47]=Z):Z=e[47];let ae;return e[48]!==$||e[49]!==Z?(ae=t.jsxs(ie,{className:"flex flex-col justify-between max-sm:h-full max-sm:overflow-y-auto max-sm:px-6 max-sm:pt-10 max-sm:pb-5",children:[$,Z]}),e[48]=$,e[49]=Z,e[50]=ae):ae=e[50],ae};function Vt(a){"use forget";const e=K.c(26),{mainUsages:s,selfDescriptionProp:o,onEnterSelfDescription:u}=a,l=ne(),[i,r]=b.useState(o),n=xe(),f=!ke();let c;s.includes("school")?c=A.exampleSchoolSelfDescription:s.includes("work")?c=A.exampleWorkSelfDescription:s.includes("funAndEntertainment")?c=A.exampleFunAndEntertainmentSelfDescription:c=A.examplePersonalTasksSelfDescription;const m=c;let g;e[0]!==l?(g=se(l,"109457",{disableExposureLog:!0}).get("write_custom_instructions_in_onboarding",!1),e[0]=l,e[1]=g):g=e[1];const p=g;let x;e[2]!==u||e[3]!==i||e[4]!==p?(x=()=>{u(i),p&&i&&dt({aboutUserMessage:i,aboutModelMessage:"",disabledTools:[],enabled:!0}).catch(Zt)},e[2]=u,e[3]=i,e[4]=p,e[5]=x):x=e[5];const v=x;let w;e[6]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("h1",{className:"text-token-text-primary mb-4 text-3xl leading-9 font-medium",children:t.jsx(Q,R({},A.anythingElseYouWantMeToKnow))}),e[6]=w):w=e[6];const k=p?A.selfDescriptionReasonSaveToCustomInstructions:A.selfDescriptionReason;let _;e[7]===Symbol.for("react.memo_cache_sentinel")?(_={customInstructions:Xt},e[7]=_):_=e[7];let y;e[8]!==k?(y=t.jsxs("div",{children:[w,t.jsx("p",{className:"text-token-text-secondary text-base",children:t.jsx(Q,me(R({},k),{values:_}))})]}),e[8]=k,e[9]=y):y=e[9];let j;e[10]!==n||e[11]!==m?(j=n.formatMessage(m),e[10]=n,e[11]=m,e[12]=j):j=e[12];let N;e[13]===Symbol.for("react.memo_cache_sentinel")?(N=O=>r(O.target.value),e[13]=N):N=e[13];let T;e[14]!==i||e[15]!==j?(T=t.jsx(At,{className:"!dark:bg-white/5 border-token-border-default placeholder-token-text-tertiary mt-10 rounded-sm border bg-black/5! p-5 text-base!",placeholder:j,rows:4,value:i,onChange:N,autoFocus:!0}),e[14]=i,e[15]=j,e[16]=T):T=e[16];const P=f?"large":"medium";let F;e[17]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(Q,R({},oe.next)),e[17]=F):F=e[17];let E;e[18]!==v||e[19]!==f||e[20]!==P?(E=t.jsx(G,{size:P,color:"primary",onClick:v,className:"mt-10",fullWidth:f,children:F}),e[18]=v,e[19]=f,e[20]=P,e[21]=E):E=e[21];let L;return e[22]!==T||e[23]!==E||e[24]!==y?(L=t.jsxs(ie,{className:"flex w-[640px] flex-col items-start max-sm:w-full max-sm:overflow-y-auto max-sm:px-5 max-sm:py-4",children:[y,T,E]}),e[22]=T,e[23]=E,e[24]=y,e[25]=L):L=e[25],L}function Xt(a){return t.jsx("a",{href:qt,className:"underline",target:"_blank",rel:"noreferrer",children:a})}function Zt(){}function Fe(a,e,s,o,u){"use forget";const l=K.c(8),i=rt(),r=ne();let n;return l[0]!==r||l[1]!==i||l[2]!==u||l[3]!==(a==null?void 0:a.step_type)||l[4]!==e||l[5]!==s||l[6]!==o?(n=()=>{e<s-1?(J(r,"chatgpt_onboarding_flow_next_clicked",void 0,{source_step_type:a==null?void 0:a.step_type,source_step_index:e.toString()}),W.logEvent("Onboarding Next",{source_step_type:a==null?void 0:a.step_type,source_step_index:e.toString()}),(a==null?void 0:a.step_type)==="file_upload"&&mt.reset(i),u(e+1)):o()},l[0]=r,l[1]=i,l[2]=u,l[3]=a==null?void 0:a.step_type,l[4]=e,l[5]=s,l[6]=o,l[7]=n):n=l[7],n}function Jt(a){"use forget";var q,Y;const e=K.c(35),{step:s,gotoStep:o,stepIndex:u,totalSteps:l,wrapUp:i,clientThreadId:r,isCompletionInProgress:n,isNextButtonDisabled:f}=a,c=ne();let m;e[0]!==c?(m=se(c,"109457",{disableExposureLog:!0}).get("onboarding_auto_scroll",!1),e[0]=c,e[1]=m):m=e[1];const g=m,p=b.useRef(null),x=b.useRef(!1),v=xe(),w=!ke(),k=Fe(s,u,l,i,o),_=!!((Y=(q=s==null?void 0:s.step_metadata)==null?void 0:q.onboarding)!=null&&Y.hardcoded_response),y=(s==null?void 0:s.step_type)==="dalle";let j,N;e[2]!==g?(j=()=>{if(!g)return;const M=p.current;if(!M)return;const H=function(){x.current=!0},U=function(){x.current=!0},z=function(V){[" ","PageUp","PageDown","End","Home","ArrowUp","ArrowDown"].includes(V.key)&&(x.current=!0)};return M.addEventListener("wheel",H,{passive:!0}),M.addEventListener("touchmove",U,{passive:!0}),M.addEventListener("keydown",z),()=>{M.removeEventListener("wheel",H),M.removeEventListener("touchmove",U),M.removeEventListener("keydown",z)}},N=[g],e[2]=g,e[3]=j,e[4]=N):(j=e[3],N=e[4]),b.useEffect(j,N);let T,P;e[5]!==g||e[6]!==n||e[7]!==_?(T=()=>{if(_||!g)return;let M=null;const H=function(){const $=p.current;$&&$.scrollTo({top:$.scrollHeight})};function U(){x.current||(H(),n&&(M=requestAnimationFrame(U)))}return n?(x.current=!1,M=requestAnimationFrame(U)):H(),()=>{M&&cancelAnimationFrame(M)}},P=[n,_,g],e[5]=g,e[6]=n,e[7]=_,e[8]=T,e[9]=P):(T=e[8],P=e[9]),b.useEffect(T,P);const F=b.useRef(n);let E,L;e[10]!==n||e[11]!==y||e[12]!==w?(E=()=>{if(!w)return;const M=F.current;if(F.current=n,M&&!n&&y&&p.current){const H=p.current.querySelectorAll("#thread article"),U=H[H.length-1];U&&U.scrollIntoView({behavior:"smooth"})}},L=[n,y,w],e[10]=n,e[11]=y,e[12]=w,e[13]=E,e[14]=L):(E=e[13],L=e[14]),b.useEffect(E,L);let O;e[15]!==k||e[16]!==v||e[17]!==f||e[18]!==w||e[19]!==s||e[20]!==u||e[21]!==i?(O=!w&&t.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:t.jsxs(ee.div,{className:"flex w-[90%] flex-1 flex-col items-center justify-center gap-2 text-center sm:w-[320px]",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsxs(ge,{mode:"wait",children:[t.jsx(ee.h1,{className:"text-token-text-primary mb-2 text-3xl font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},exit:{opacity:0,y:-10},children:s.title?s.title:pe[s.step_type]?v.formatMessage(pe[s.step_type]):null},"title-".concat(u)),t.jsx(ee.p,{className:"text-token-text-secondary mb-6 text-base",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},exit:{opacity:0,y:-10},children:s.subtitle?s.subtitle:he[s.step_type]?v.formatMessage(he[s.step_type]):null},"subtitle-".concat(u))]}),t.jsxs("div",{className:"flex w-full flex-col gap-3",children:[t.jsx(G,{size:"large",color:"primary",onClick:k,fullWidth:!0,disabled:f,children:t.jsx(Q,R({},oe.next))}),t.jsx(G,{onClick:()=>i(),color:"ghost",size:"large",className:"max-sm:hidden",children:v.formatMessage(A.skipTour)})]})]})}),e[15]=k,e[16]=v,e[17]=f,e[18]=w,e[19]=s,e[20]=u,e[21]=i,e[22]=O):O=e[22];let B;e[23]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(t.Fragment,{}),e[23]=B):B=e[23];let D;e[24]!==r?(D=t.jsx("div",{className:"pointer-events-none min-h-full w-full",children:t.jsx(Wt,{hideHeader:!0,hideDisclaimer:!0,clientThreadId:r,renderEmptyState:B})}),e[24]=r,e[25]=D):D=e[25];let C;e[26]!==r||e[27]!==D?(C=t.jsx(ft,{clientThreadId:r,ignoreParentComposerController:!0,children:D}),e[26]=r,e[27]=D,e[28]=C):C=e[28];let I;e[29]!==r||e[30]!==C?(I=t.jsx("div",{className:"relative flex h-full flex-1 flex-col sm:min-w-[360px] sm:pt-20 sm:pb-20",children:t.jsx("div",{ref:p,className:"bg-token-bg-primary shadow-token-border-default h-full w-full overflow-auto shadow-[0_0_50px] max-sm:pb-40 sm:rounded-[30px]",children:t.jsx(gt,{clientThreadId:r,children:C})})}),e[29]=r,e[30]=C,e[31]=I):I=e[31];let S;return e[32]!==I||e[33]!==O?(S=t.jsxs(ie,{className:"flex h-full w-full flex-row self-center sm:px-8 md:px-12 lg:px-16 xl:px-24",children:[O,I]}),e[32]=I,e[33]=O,e[34]=S):S=e[34],S}const A=Ke({close:{defaultMessage:"Close",id:"chatgpt.new-onboarding.close"},done:{defaultMessage:"Done",id:"chatgpt.new-onboarding.done"},submit:{defaultMessage:"Submit",id:"chatgpt.new-onboarding.submit"},finish:{defaultMessage:"Finish",id:"chatgpt.new-onboarding.finish"},tellMeWhyHere:{defaultMessage:"Tell me about why you’re here.",id:"chatgpt.new-onboarding.tell-me-why-here"},preparingOnboardingExperience:{defaultMessage:"Preparing your onboarding experience...",id:"chatgpt.new-onboarding.preparing-onboarding-experience"},niceToMeetYouQuickTourWithName:{defaultMessage:"Nice to meet you, {name}.<nextLine></nextLine>Here’s a quick tour...",id:"chatgpt.new-onboarding.nice-to-meet-you-quick-tour-with-name"},niceToMeetYouQuickTour:{defaultMessage:"Nice to meet you.<nextLine></nextLine>Here’s a quick tour...",id:"chatgpt.new-onboarding.nice-to-meet-you-quick-tour"},niceToMeetYou:{defaultMessage:"Nice to meet you, {name}.",id:"chatgpt.new-onboarding.nice-to-meet-you"},niceToMeetYouWithoutName:{defaultMessage:"Nice to meet you.",id:"chatgpt.new-onboarding.nice-to-meet-you-without-name"},hereIsAQuickTour:{defaultMessage:"Here’s a quick tour...",id:"chatgpt.new-onboarding.heres-quick-tour"},allDone:{defaultMessage:"You're all set",id:"chatgpt.new-onboarding.all-done-2"},oneLastQuestion:{defaultMessage:"One last question:",id:"chatgpt.new-onboarding.one-last-question-2"},anythingElseYouWantMeToKnow:{defaultMessage:"Is there anything else you’d like me to know?",id:"chatgpt.new-onboarding.anything-else-you-want-me-to-know-2"},oneQuestionAnythingElse:{defaultMessage:"One last question: Is there anything else you’d like me to know?",id:"chatgpt.new-onboarding.one-more-question"},selfDescriptionReason:{defaultMessage:"Details like your job, hobbies, or interests make my responses more relevant.",id:"chatgpt.new-onboarding.self-description-reason"},allSetLetMeShowYouAroundWithoutName:{defaultMessage:"All set!<nextLine></nextLine>Now, let me show you around...",id:"chatgpt.new-onboarding.all-set-let-me-show-you-around-without-name"},selfDescriptionReasonSaveToCustomInstructions:{defaultMessage:"Details like your job, hobbies, or interests make my responses more relevant. I’ll save this information as <customInstructions>Custom Instructions</customInstructions>, which you can update any time.",id:"chatgpt.new-onboarding.self-description-reason-save-to-custom-instructions"},exampleSchoolSelfDescription:{defaultMessage:"I'm a college student studying computer science, and I love to play the guitar.",id:"chatgpt.new-onboarding.example-school-self-description"},exampleWorkSelfDescription:{defaultMessage:"I'm a graphic designer based in Berlin, and I enjoy painting and attending art exhibitions.",id:"chatgpt.new-onboarding.example-work-self-description"},examplePersonalTasksSelfDescription:{defaultMessage:"I live in Sydney and love cooking new recipes and planning travel itineraries.",id:"chatgpt.new-onboarding.example-personal-tasks-self-description"},exampleFunAndEntertainmentSelfDescription:{defaultMessage:"I'm a music enthusiast based in Nashville, and I can talk for hours about guitar techniques and songwriting.",id:"chatgpt.new-onboarding.example-fun-and-entertainment-self-description"},tryChatGPT:{defaultMessage:"Try ChatGPT",id:"chatgpt.new-onboarding.try-chatgpt"},howPlanToUse:{defaultMessage:"How do you plan to use ChatGPT?",id:"chatgpt.new-onboarding.how-plan-to-use"},forMyself:{defaultMessage:"For myself",id:"chatgpt.new-onboarding.for-myself"},withATeam:{defaultMessage:"With a team",id:"chatgpt.new-onboarding.with-a-team"},upgradeYourPlan:{defaultMessage:"Upgrade your plan",id:"chatgpt.new-onboarding.upgrade-your-plan"},tryBusinessFor30Days:{defaultMessage:"Try Business for 30 days",id:"chatgpt.new-onboarding.try-chatgpt-30-days"},chatgptUpgradedForBusiness:{defaultMessage:"ChatGPT, upgraded for business",id:"chatgpt.new-onboarding.upgraded-for-business"},skipTour:{defaultMessage:"Skip Tour",id:"chatgpt.new-onboarding.skip-tour"},gotIt:{defaultMessage:"Got it",id:"chatgpt.new-onboarding.got-it"},continue:{defaultMessage:"Continue",id:"chatgpt.new-onboarding.continue"}}),pe={usage_question:A.tellMeWhyHere},he={usage_question:oe.suggestUsefulIdeas};function es(a){return setTimeout(()=>a({steps:[],isError:!0}),7e3)}function ts(){W.logEventWithStatsig("Work Plan Question Shown","chatgpt_onboarding_team_work_question_shown")}export{Qt as LoadingState,Ds as default};
//# sourceMappingURL=cwig5vk2rvi1vksw.js.map

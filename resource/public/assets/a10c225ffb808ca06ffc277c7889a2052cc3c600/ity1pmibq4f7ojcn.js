const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/9z485wf4plyfoo73.js","assets/jj85rqzpbnvv3emr.js","assets/lef5ym39glv4981l.js","assets/root-ogjlcpyy.css","assets/mclphevd122040jw.js","assets/conversation-small-g7l5datj.css","assets/cncd8uuk5eicbkeu.js","assets/dta5t6ifyam55mk9.js","assets/cdk0cmbgnafohb1q.js","assets/gyvvad7btmtz1x9o.js","assets/n6vmm5pyahusdy8e.js","assets/l041el2tch1t3nkf.js","assets/easgat082167v0i8.js","assets/8ozhe80bi2ty3gk4.js"])))=>i.map(i=>d[i]);
var Ye=Object.defineProperty,Ze=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var Ue=(r,e,t)=>e in r?Ye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J=(r,e)=>{for(var t in e||(e={}))tt.call(e,t)&&Ue(r,t,e[t]);if(qe)for(var t of qe(e))st.call(e,t)&&Ue(r,t,e[t]);return r},ye=(r,e)=>Ze(r,et(e));import{c as q,j as a,r as R,M as Q,L as ot,b as Te,g as nt}from"./jj85rqzpbnvv3emr.js";import{ex as He,ey as Ve,O as L,i as me,j as Ge,e as O,cj as it,r as Se,cc as lt,B as Je,iK as We,jk as at,hv as rt,jj as W,iz as ct,mr as mt,gG as ft,f as dt,bo as ut,fv as xt,bD as gt,qm as De,bi as Be,ff as pt}from"./lef5ym39glv4981l.js";import{kZ as ht,kY as vt,mS as jt,l4 as bt,mg as yt,gF as St,kW as Ke,jd as Ct,dP as K,mT as ce,jf as _t,kQ as Ee,kU as $t,kV as wt,fN as Pt,fO as kt,mt as Nt,b2 as Mt,b3 as Et,mU as It,kX as Tt,mV as Ft,l2 as zt}from"./mclphevd122040jw.js";import{D as Lt}from"./cncd8uuk5eicbkeu.js";import{P as At}from"./cdk0cmbgnafohb1q.js";import{S as Ot,u as Rt}from"./9z485wf4plyfoo73.js";import{u as Ie,P as qt,a as Ut}from"./mmb0lhn0nhp0jx69.js";import"./dta5t6ifyam55mk9.js";import"./gyvvad7btmtz1x9o.js";import"./n6vmm5pyahusdy8e.js";import"./l041el2tch1t3nkf.js";import"./easgat082167v0i8.js";const Dt=He(()=>Ve(()=>import("./9z485wf4plyfoo73.js").then(r=>r.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(r=>r.SnorlaxFileModal));function Bt(r){"use forget";const e=q.c(11),{project:t,onNavigateToConversation:f}=r;ht(t.id);let n;e[0]!==t?(n=()=>t.conversations$().all$(),e[0]=t,e[1]=n):n=e[1];const i=L(n);let s;e[2]!==t?(s=()=>t.conversations$().canShowConversations$(),e[2]=t,e[3]=s):s=e[3];const c=L(s);let m;e[4]!==c||e[5]!==i||e[6]!==f||e[7]!==t?(m=c&&a.jsx(Ht,{items:i,project:t,onNavigateToConversation:f}),e[4]=c,e[5]=i,e[6]=f,e[7]=t,e[8]=m):m=e[8];let o;return e[9]!==m?(o=a.jsx("section",{children:m}),e[9]=m,e[10]=o):o=e[10],o}function Ht(r){"use forget";var U,z;const e=q.c(47),{project:t,items:f,onNavigateToConversation:n}=r,i=me();let s;e[0]!==i?(s=Ge(i,"773249106"),e[0]=i,e[1]=s):s=e[1];const c=s;let m;e[2]!==t?(m=()=>t.conversations$().canFetchMore$(),e[2]=t,e[3]=m):m=e[3];const o=L(m);let g;e[4]!==t?(g=()=>t.gizmo$(),e[4]=t,e[5]=g):g=e[5];const l=L(g);let p;e[6]!==t?(p=()=>t.conversations$().awaitingManualRetry$(),e[6]=t,e[7]=p):p=e[7];const d=L(p);let v;e[8]!==t?(v=()=>t.conversations$().fetchMore$,e[8]=t,e[9]=v):v=e[9];const u=L(v);let b;e[10]!==t?(b=()=>t.conversations$().cursor$(),e[10]=t,e[11]=b):b=e[11];const h=L(b);let j;e[12]!==t?(j=()=>t.conversations$().isLoading$(),e[12]=t,e[13]=j):j=e[13];const x=L(j);let y;e[14]!==t?(y=()=>t.isShared$(),e[14]=t,e[15]=y):y=e[15];const P=L(y);let S;e[16]!==((U=l==null?void 0:l.gizmo)==null?void 0:U.author)||e[17]!==f?(S=f==null?void 0:f.some(D=>{var G,V;return"owner"in D&&((G=D.owner)==null?void 0:G.user_id)!==((V=l==null?void 0:l.gizmo)==null?void 0:V.author.user_id)}),e[16]=(z=l==null?void 0:l.gizmo)==null?void 0:z.author,e[17]=f,e[18]=S):S=e[18];const k=c&&(P||S),$=x&&"skeleton";let w;e[19]!==$?(w=O("divide-token-bg-tertiary group divide-y",$),e[19]=$,e[20]=w):w=e[20];let M;e[21]!==l||e[22]!==f||e[23]!==n||e[24]!==k?(M=l&&f&&f.map(D=>a.jsx("li",{className:"group hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex min-h-16 cursor-pointer items-center p-3 text-sm select-none",children:a.jsx(Wt,{conversation:D,gizmo:l,showAvatar:k!=null?k:!1,onNavigateToConversation:n})},D.id)),e[21]=l,e[22]=f,e[23]=n,e[24]=k,e[25]=M):M=e[25];let E;e[26]!==o||e[27]!==u||e[28]!==x?(E=!x&&o&&a.jsx(Je,{type:"button",onClick:u,className:"keyboard-not-focused:sr-only",children:a.jsx(Q,{id:"project.conversation-list.load-more",defaultMessage:"Load more conversations"})}),e[26]=o,e[27]=u,e[28]=x,e[29]=E):E=e[29];let N;e[30]!==d||e[31]!==t?(N=d&&a.jsx(We,{type:"normal",className:"mt-2",dangerCtaText:"Try again",onDangerCtaClick:()=>{t.conversations$().awaitingManualRetry$.set(!1)},content:a.jsx(Q,{id:"project.conversation-list.awaiting-manual-retry",defaultMessage:"Loading more conversations failed. Please try again."}),icon:a.jsx(jt,{className:"icon"})}),e[30]=d,e[31]=t,e[32]=N):N=e[32];let I;e[33]!==x?(I=x&&a.jsx(Vt,{}),e[33]=x,e[34]=I):I=e[34];let F;e[35]!==o||e[36]!==h||e[37]!==u?(F=a.jsx(Jt,{canFetchMore:o,fetchMore:u},h),e[35]=o,e[36]=h,e[37]=u,e[38]=F):F=e[38];let A;return e[39]!==x||e[40]!==w||e[41]!==M||e[42]!==E||e[43]!==N||e[44]!==I||e[45]!==F?(A=a.jsxs("ol",{className:w,"aria-busy":x,children:[M,E,N,I,F]}),e[39]=x,e[40]=w,e[41]=M,e[42]=E,e[43]=N,e[44]=I,e[45]=F,e[46]=A):A=e[46],A}function Vt(){"use forget";const r=q.c(6),e=Te();let t;r[0]!==e?(t=()=>Array.from({length:2},(s,c)=>({id:c,title:e.formatMessage({id:"project.conversation-list.loading-title",defaultMessage:"Loading conversation title..."}),snippet:e.formatMessage({id:"project.conversation-list.loading-snippet",defaultMessage:"Loading conversation snippet..."})})),r[0]=e,r[1]=t):t=r[1];const[f]=R.useState(t);let n;r[2]!==f?(n=f.map(Gt),r[2]=f,r[3]=n):n=r[3];let i;return r[4]!==n?(i=a.jsx(a.Fragment,{children:n}),r[4]=n,r[5]=i):i=r[5],i}function Gt(r){return a.jsx("li",{className:"mt-1 flex min-h-15 items-center p-3 text-sm",inert:!0,"aria-hidden":!0,children:a.jsx(Qe,{conversationTitle:r.title,showAvatar:!0,monogram:null,snippet:r.snippet,skeleton:!0})},r.id)}function Jt(r){"use forget";const e=q.c(8),{canFetchMore:t,fetchMore:f}=r;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={threshold:1},e[0]=n):n=e[0];const[i,s]=yt(n);let c,m;if(e[1]!==t||e[2]!==f||e[3]!==i?(c=()=>{t&&i&&f()},m=[t,f,i],e[1]=t,e[2]=f,e[3]=i,e[4]=c,e[5]=m):(c=e[4],m=e[5]),R.useEffect(c,m),!t)return null;let o;return e[6]!==s?(o=a.jsx("div",{className:"min-h-0 w-full",inert:!0,ref:s}),e[6]=s,e[7]=o):o=e[7],o}const Wt=r=>{"use forget";var M,E;const e=q.c(36),{conversation:t,gizmo:f,showAvatar:n,onNavigateToConversation:i}=r,s=(M=it(t.id,Kt))!=null?M:t.title,[c,m]=R.useState(!1);let o,g;e[0]!==t.id?(o=()=>at(bt,{editTitleInMainScreen:N=>{const{serverThreadId:I}=N;I===t.id&&m(!0)}}),g=[t.id],e[0]=t.id,e[1]=o,e[2]=g):(o=e[1],g=e[2]),R.useEffect(o,g);const l=me(),{snippet:p}=t;let d,v,u,b,h;if(e[3]!==t||e[4]!==l||e[5]!==f){const N=(E=Se(l))==null?void 0:E.normalizedAccountUserId;d="owner"in t?t.owner:null,b=d==null?void 0:d.user_id,v=d==null?void 0:d.name,u=d==null?void 0:d.user_email,h=lt(t.id,f,!0,b,N),e[3]=t,e[4]=l,e[5]=f,e[6]=d,e[7]=v,e[8]=u,e[9]=b,e[10]=h}else d=e[6],v=e[7],u=e[8],b=e[9],h=e[10];const j=h;let x;e[11]!==t||e[12]!==c?(x=c?a.jsx(vt,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{m(!1)}}):null,e[11]=t,e[12]=c,e[13]=x):x=e[13];let y;e[14]!==t||e[15]!==c?(y=!c&&a.jsx(Ot,{conversation:t,isNewProjectPage:!0}),e[14]=t,e[15]=c,e[16]=y):y=e[16];const P=p?!1:"snippet";let S;e[17]!==d||e[18]!==v||e[19]!==u||e[20]!==b?(S=d&&v&&b?{label:v,id:b,sublabel:u}:null,e[17]=d,e[18]=v,e[19]=u,e[20]=b,e[21]=S):S=e[21];let _;e[22]!==s||e[23]!==n||e[24]!==p||e[25]!==x||e[26]!==y||e[27]!==P||e[28]!==S?(_=a.jsx(Qe,{conversationTitle:s,editor:x,overflowMenu:y,snippet:p,skeleton:P,showAvatar:n,monogram:S}),e[22]=s,e[23]=n,e[24]=p,e[25]=x,e[26]=y,e[27]=P,e[28]=S,e[29]=_):_=e[29];const k=_;if(c)return k;let $;e[30]!==i?($=N=>{i==null||i(),(N.target instanceof HTMLElement&&N.target.dataset.preventDefault||N.target instanceof SVGElement)&&N.preventDefault()},e[30]=i,e[31]=$):$=e[31];let w;return e[32]!==k||e[33]!==j||e[34]!==$?(w=a.jsx(ot,{to:j,draggable:!1,className:"w-full",onClick:$,children:k}),e[32]=k,e[33]=j,e[34]=$,e[35]=w):w=e[35],w};function Qe({showAvatar:r,monogram:e,editor:t,overflowMenu:f,conversationTitle:n,skeleton:i,snippet:s}){return a.jsxs("div",{className:O("flex w-full items-center gap-4",i&&"group skeleton"),children:[r&&a.jsx(St,{monogram:e}),a.jsxs("div",{className:"grow overflow-hidden",children:[t||a.jsx("div",{className:O("text-sm font-medium",i===!0&&"skeleton-child w-fit min-w-[50%]"),children:n}),a.jsx("div",{className:O("text-token-text-secondary min-h-0 truncate text-sm",i&&"skeleton-child mt-px w-fit"),children:s})]}),f]})}function Kt(r){return r==null?void 0:r.title}function Qt(r){"use forget";var P,S;const e=q.c(21),{onRequestEdit:t,onRequestAddFiles:f,onRequestUpdateProject:n,projectData:i}=r,s=me(),c=R.use(Ke),m=L(c.isSkeleton$),{canEdit:o}=rt(i),g=(P=Se(s))==null?void 0:P.normalizedAccountUserId,l=((S=i==null?void 0:i.gizmo.author)==null?void 0:S.user_id)===g;let p;e[0]!==c?(p=()=>{var _;return!!((_=c.conversations$().all$())!=null&&_.length)},e[0]=c,e[1]=p):p=e[1];const d=L(p),v=m&&"group skeleton",u=!d&&"max-md:flex-1 max-md:flex-col max-md:items-center max-md:justify-center max-md:gap-1.5",b=d&&"max-md:flex-col max-md:gap-4";let h;e[2]!==v||e[3]!==u||e[4]!==b?(h=O("flex justify-between",v,u,b),e[2]=v,e[3]=u,e[4]=b,e[5]=h):h=e[5];let j;e[6]!==o||e[7]!==l||e[8]!==t||e[9]!==n||e[10]!==c?(j=a.jsx(Zt,{canEditEmoji:o,canEditName:l,project:c,onRequestEdit:t,onRequestUpdateProject:n}),e[6]=o,e[7]=l,e[8]=t,e[9]=n,e[10]=c,e[11]=j):j=e[11];let x;e[12]!==o||e[13]!==f||e[14]!==c||e[15]!==i?(x=a.jsx(Xt,{canEdit:o,project:c,projectData:i,onRequestAddFiles:f}),e[12]=o,e[13]=f,e[14]=c,e[15]=i,e[16]=x):x=e[16];let y;return e[17]!==h||e[18]!==j||e[19]!==x?(y=a.jsxs("div",{className:h,children:[j,x]}),e[17]=h,e[18]=j,e[19]=x,e[20]=y):y=e[20],y}function Xt(r){"use forget";const e=q.c(29),{canEdit:t,project:f,projectData:n,onRequestAddFiles:i}=r;let s;e[0]!==n?(s=n!=null?n:{},e[0]=n,e[1]=s):s=e[1];const{files:c}=s;let m;e[2]!==c?(m=c===void 0?[]:c,e[2]=c,e[3]=m):m=e[3];const o=m,g=!o.length,l=L(f.isSkeleton$);let p,d;if(!l&&g&&!t)return null;if(g){let x;e[4]!==t||e[5]!==n?(x=n?a.jsx(Q,J({},t?K.addFilesButtonLabel:K.viewFilesButtonLabel)):null,e[4]=t,e[5]=n,e[6]=x):x=e[6],p=x,d=null}else{let x,y;if(e[7]!==o||e[8]!==(n==null?void 0:n.gizmo)){const S=o.slice(0,3);let _;e[12]!==o.length?(_=a.jsx(Q,ye(J({},K.filesCount),{values:{count:o.length}})),e[12]=o.length,e[13]=_):_=e[13],p=_,x="isolate inline-flex items-center max-sm:sr-only";let k;e[14]!==(n==null?void 0:n.gizmo)?(k=($,w)=>a.jsx(Yt,{file:$,index:w,gizmoId:n==null?void 0:n.gizmo.id},$.file_id),e[14]=n==null?void 0:n.gizmo,e[15]=k):k=e[15],y=S.map(k),e[7]=o,e[8]=n==null?void 0:n.gizmo,e[9]=x,e[10]=y,e[11]=p}else x=e[9],y=e[10],p=e[11];let P;e[16]!==x||e[17]!==y?(P=a.jsx("div",{className:x,children:y}),e[16]=x,e[17]=y,e[18]=P):P=e[18],d=P}const v=l&&"skeleton-child w-20";let u;e[19]!==v?(u=O("max-md:w-fit",v,"group/project-control-tile"),e[19]=v,e[20]=u):u=e[20];const b=l&&"";let h;e[21]!==b?(h=O(b,"gap-1.5 text-token-text-secondary"),e[21]=b,e[22]=h):h=e[22];let j;return e[23]!==d||e[24]!==p||e[25]!==i||e[26]!==u||e[27]!==h?(j=a.jsxs(Je,{color:"secondary",onClick:i,className:u,contentWrapperClassName:h,children:[d,p]}),e[23]=d,e[24]=p,e[25]=i,e[26]=u,e[27]=h,e[28]=j):j=e[28],j}function Yt(r){"use forget";const e=q.c(20),{file:t,index:f,gizmoId:n}=r,i=t.name;let s;e[0]!==t.file_id||e[1]!==i?(s=ct(i)&&t.file_id!=null,e[0]=t.file_id,e[1]=i,e[2]=s):s=e[2];const c=s;let m;e[3]!==t.file_id||e[4]!==i||e[5]!==n||e[6]!==c?(m=c&&a.jsx($t,{fileName:i,fileId:t.file_id,gizmoId:n,className:"[box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]"}),e[3]=t.file_id,e[4]=i,e[5]=n,e[6]=c,e[7]=m):m=e[7];const o=m,g=f>0&&"-ms-2";let l;e[8]!==g?(l=O("border-token-bg-primary group-hover/project-control-tile:border-token-main-surface-secondary relative size-5 overflow-hidden rounded-md border-2",g),e[8]=g,e[9]=l):l=e[9];const p=10-f;let d;e[10]!==p?(d={zIndex:p},e[10]=p,e[11]=d):d=e[11];let v;e[12]!==t.name||e[13]!==o?(v=o||a.jsx(wt,{className:"h-4 w-4 shrink-0 rounded-none [box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]",glyphClassName:"h-3 w-3",filename:t.name,contextConnectorInfo:void 0}),e[12]=t.name,e[13]=o,e[14]=v):v=e[14];let u;return e[15]!==t.file_id||e[16]!==l||e[17]!==d||e[18]!==v?(u=a.jsx("span",{className:l,style:d,children:v},t.file_id),e[15]=t.file_id,e[16]=l,e[17]=d,e[18]=v,e[19]=u):u=e[19],u}function Zt(r){"use forget";const e=q.c(49),{canEditEmoji:t,canEditName:f,onRequestEdit:n,onRequestUpdateProject:i,project:s}=r;let c;e[0]!==s?(c=()=>s.theme$(),e[0]=s,e[1]=c):c=e[1];const m=Ie(c);let o;e[2]!==s?(o=()=>s.emoji$(),e[2]=s,e[3]=o):o=e[3];const g=Ie(o);let l;e[4]!==s?(l=()=>s.title$(),e[4]=s,e[5]=l):l=e[5];const p=Ie(l);let d;e[6]!==s?(d=()=>s.status$(),e[6]=s,e[7]=d):d=e[7];const v=L(d),u=L(s.isSkeleton$),b=L(p),h=Te(),j=me();let x;e[8]!==j||e[9]!==g||e[10]!==s||e[11]!==m||e[12]!==p?(x=()=>{W(()=>s.theme$(),z=>m.set(z)),W(()=>s.emoji$(),z=>g.set(z)),W(()=>s.title$(),z=>p.set(z)),W(()=>m,z=>Ee({ctx:j,id:s.id,theme:z()})),W(()=>g,z=>Ee({ctx:j,id:s.id,emoji:z()})),W(()=>p,z=>Ee({ctx:j,id:s.id,name:z()}))},e[8]=j,e[9]=g,e[10]=s,e[11]=m,e[12]=p,e[13]=x):x=e[13],R.useEffect(x);const y=v==="empty"?"max-md:flex-col":"";let P;e[14]!==y?(P=O("flex items-center gap-1.5 max-md:-translate-x-1",y),e[14]=y,e[15]=P):P=e[15];let S;e[16]!==g||e[17]!==i||e[18]!==m||e[19]!==p?(S=async(z,D)=>{!z&&D&&await(i==null?void 0:i({theme:m(),emoji:g(),name:p()}))},e[16]=g,e[17]=i,e[18]=m,e[19]=p,e[20]=S):S=e[20];const _=ce(S),k=!t;let $;e[21]!==g||e[22]!==s.isShared$||e[23]!==s.isSkeleton$||e[24]!==k||e[25]!==m?($=a.jsx(qt,{className:"ms-0! [--focus-outline-margin:-4px] disabled:cursor-default! disabled:opacity-100!",disabled:k,emoji$:g,isShared$:s.isShared$,isSkeleton$:s.isSkeleton$,theme$:m,size:"lg",strict:!0}),e[21]=g,e[22]=s.isShared$,e[23]=s.isSkeleton$,e[24]=k,e[25]=m,e[26]=$):$=e[26];let w;e[27]!==g||e[28]!==$||e[29]!==_||e[30]!==m?(w=a.jsx(Ut,{theme$:m,emoji$:g,onOpenChange:_,children:$}),e[27]=g,e[28]=$,e[29]=_,e[30]=m,e[31]=w):w=e[31];const M=!f,E=u&&"skeleton-child";let N;e[32]!==E?(N=O("min-w-0",E),e[32]=E,e[33]=N):N=e[33];let I;e[34]!==h||e[35]!==b?(I=h.formatMessage({id:"edit-title",defaultMessage:"Edit the title of {projectName}"},{projectName:b}),e[34]=h,e[35]=b,e[36]=I):I=e[36];let F;e[37]!==b?(F=a.jsx("h1",{className:"md:text-page-header text-balance [--text-lg--line-height:28px] [--text-lg:22px] max-md:text-lg max-md:font-normal",children:b}),e[37]=b,e[38]=F):F=e[38];let A;e[39]!==n||e[40]!==M||e[41]!==N||e[42]!==I||e[43]!==F?(A=a.jsx("button",{disabled:M,onClick:n,name:"project-title",className:N,"aria-label":I,children:F}),e[39]=n,e[40]=M,e[41]=N,e[42]=I,e[43]=F,e[44]=A):A=e[44];let U;return e[45]!==w||e[46]!==A||e[47]!==P?(U=a.jsxs("div",{className:P,children:[w,A]}),e[45]=w,e[46]=A,e[47]=P,e[48]=U):U=e[48],U}function es(r){"use forget";const e=q.c(38),{children:t,composer:f,composerLayout:n,disclaimer:i,postComposerContent:s,conversations:c,sizing:m,dragOverlay:o,status:g}=r,l=g==="has-conversations"?"top":"center",p=g==="empty"&&"items-center max-md:[align-items:unset] max-md:[--composer-container-flex:0] max-md:[--composer-container-height:auto]";let d;e[0]!==p?(d=O("flex min-h-full",p),e[0]=p,e[1]=d):d=e[1];const v=g!=="has-conversations"?"grid-rows-[1fr_minmax(0,180px)] max-md:grid-rows-[1fr_0]":"grid-rows-[auto_min-content_min-content]";let u;e[2]!==v?(u=O("grid h-full [width:min(90cqw,var(--thread-content-max-width))] flex-1",v),e[2]=v,e[3]=u):u=e[3];const b=g!=="empty"&&"gap-8 pb-6",h=l==="top"?"mt-13 self-start max-md:mt-0":"self-center max-md:h-full";let j;e[4]!==b||e[5]!==h?(j=O("flex min-w-0 flex-col",b,h),e[4]=b,e[5]=h,e[6]=j):j=e[6];const x=g==="empty"?"max-md:h-full max-md:justify-between md:gap-8":"content-fade-top";let y;e[7]!==x?(y=O("offset-padding-top-4 sticky top-(--header-height) z-10 flex flex-col gap-[inherit] max-md:top-0 md:[--offset-y-bottom:-30px]",x),e[7]=x,e[8]=y):y=e[8];let P;e[9]!==f||e[10]!==n?(P=n==="top"&&a.jsx(a.Fragment,{children:f}),e[9]=f,e[10]=n,e[11]=P):P=e[11];let S;e[12]!==t||e[13]!==s||e[14]!==P||e[15]!==y?(S=a.jsxs("div",{className:y,children:[t,P,s]}),e[12]=t,e[13]=s,e[14]=P,e[15]=y,e[16]=S):S=e[16];let _;e[17]!==c||e[18]!==o||e[19]!==S||e[20]!==j?(_=a.jsxs("div",{className:j,children:[S,c,o]}),e[17]=c,e[18]=o,e[19]=S,e[20]=j,e[21]=_):_=e[21];let k;e[22]===Symbol.for("react.memo_cache_sentinel")?(k=a.jsx("div",{}),e[22]=k):k=e[22];let $;e[23]!==f||e[24]!==n||e[25]!==i||e[26]!==g?($=(n==="bottom"||i)&&a.jsxs("div",{className:O("content-fade sticky flex w-full flex-col gap-1 [--content-fade-top:-15px] md:px-[60px]",n==="bottom"&&"[--composer-container-height:auto] [--content-fade-top:-40px] max-md:p-0 max-md:pb-1",i?g==="empty"?"bottom-0 max-md:pt-2 md:fixed md:start-0 md:end-0":"bottom-0":"before:bg-token-bg-primary relative bottom-2 p-2 before:absolute before:inset-0 before:top-full before:h-2 before:w-full before:content-['']"),children:[n==="bottom"&&f,i]}),e[23]=f,e[24]=n,e[25]=i,e[26]=g,e[27]=$):$=e[27];let w;e[28]!==_||e[29]!==$||e[30]!==u?(w=a.jsxs(_t,{className:u,children:[_,k,$]}),e[28]=_,e[29]=$,e[30]=u,e[31]=w):w=e[31];let M;e[32]!==m||e[33]!==w?(M=a.jsx(Ct,ye(J({verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard"},m),{children:w})),e[32]=m,e[33]=w,e[34]=M):M=e[34];let E;return e[35]!==M||e[36]!==d?(E=a.jsx("div",{className:d,children:M}),e[35]=M,e[36]=d,e[37]=E):E=e[37],E}const ts=He(()=>Ve(()=>import("./8ozhe80bi2ty3gk4.js"),__vite__mapDeps([13,1,2,3,4,5])).then(r=>r.ProjectJoinModal));function hs(r){"use forget";var Fe,ze,Le,Ae,Oe,Re;const e=q.c(102),{clientThreadId:t,gizmoId:f,currentModelId:n,onRequestCompletion:i}=r,s=me(),c=Pt();let m;e[0]!==s||e[1]!==f||e[2]!==c?(m=kt(s)(f,c),e[0]=s,e[1]=f,e[2]=c,e[3]=m):m=e[3];const o=m;let g;e[4]!==o?(g=()=>o.serverState$().data,e[4]=o,e[5]=g):g=e[5];const l=L(g);let p;e[6]!==o?(p=()=>o.status$(),e[6]=o,e[7]=p):p=e[7];const d=L(p);let v;e[8]!==s?(v=(ze=(Fe=mt(s))==null?void 0:Fe.user)==null?void 0:ze.email,e[8]=s,e[9]=v):v=e[9];const u=v;let b;e[10]!==s?(b=(Le=Se(s))==null?void 0:Le.normalizedAccountUserId,e[10]=s,e[11]=b):b=e[11];const h=b;let j;e[12]!==o||e[13]!==l||e[14]!==u||e[15]!==h?(j=()=>!h||!u||!l||gt(()=>o.serverState$().isFetching)?!1:!De({gizmo:l,user_id:h,user_email:u}),e[12]=o,e[13]=l,e[14]=u,e[15]=h,e[16]=j):j=e[16];const[x,y]=R.useState(j),P=Ge(s,"773249106");let S;e[17]!==o.lastScrollPosition$?(S=()=>{var T;const C=document.querySelector("main");o.lastScrollPosition$.set((T=C==null?void 0:C.scrollTop)!=null?T:null)},e[17]=o.lastScrollPosition$,e[18]=S):S=e[18];const _=S;let k,$;e[19]!==o||e[20]!==_?(k=()=>{var re;const C=new AbortController,T=o.lastScrollPosition$();o.lastScrollPosition$.set(null);const B=document.querySelector("main");return T!==null&&B&&(B.scrollTop=T,B.focus()),"navigation"in window&&((re=window.navigation)==null||re.addEventListener("navigate",()=>_(),{signal:C.signal})),()=>{C.abort()}},$=[o,_],e[19]=o,e[20]=_,e[21]=k,e[22]=$):(k=e[21],$=e[22]),R.useEffect(k,$);let w;e[23]!==i?(w=C=>{i(Mt(C))},e[23]=i,e[24]=w):w=e[24];const M=ce(w);let E;e[25]!==i?(E=async C=>{const T=await Et(C);i(T)},e[25]=i,e[26]=E):E=e[26];const N=ce(E);let I;e[27]!==s||e[28]!==o||e[29]!==l?(I=()=>{l&&Be(s,Dt,{gizmo:l,project:o})},e[27]=s,e[28]=o,e[29]=l,e[30]=I):I=e[30];const F=ce(I),A=Te(),U=Se(s),D=!(U&&!U.isTeam()&&!U.isEnterprisey()),G=ft(),V=dt(),[Ce,fe]=R.useState(!1),Xe=ut(),{onDropConversation:_e,canDropConversation:H}=Rt(void 0,f),$e=nt();let de;e[31]===Symbol.for("react.memo_cache_sentinel")?(de=[],e[31]=de):de=e[31],R.useEffect(ss,de);let ue,xe;e[32]!==G?(ue=()=>{const C=It(G),T=C();return C.set(!0),()=>{C.set(T)}},xe=[G],e[32]=G,e[33]=ue,e[34]=xe):(ue=e[33],xe=e[34]),R.useEffect(ue,xe);let ge;e[35]!==s||e[36]!==A||e[37]!==o||e[38]!==l?(ge=()=>{l&&Be(s,Tt,{submitButtonTitle:A.formatMessage(K.projectSettingsSubmitButton),gizmo:l,project:o})},e[35]=s,e[36]=A,e[37]=o,e[38]=l,e[39]=ge):ge=e[39];const we=ce(ge);let pe;e[40]!==o||e[41]!==V?(pe=async C=>{try{await o.queueUpdate$(C)}catch(T){const re=pt(T);V==null||V.warning(re!=null?re:"Error",{duration:5,hasCloseButton:!0})}},e[40]=o,e[41]=V,e[42]=pe):pe=e[42];const Pe=ce(pe);let he,ve;if(e[43]!==o||e[44]!==u||e[45]!==h?(he=()=>{if(!(!h||!u))return W(()=>({data:o.serverState$().data,isFetching:o.serverState$().isFetching}),C=>{const{data:T,isFetching:B}=C;T&&!B&&!De({gizmo:T,user_id:h,user_email:u})&&y(!0)})},ve=[h,u,o],e[43]=o,e[44]=u,e[45]=h,e[46]=he,e[47]=ve):(he=e[46],ve=e[47]),R.useEffect(he,ve),x&&l&&P){let C;e[48]!==$e?(C=()=>$e("/"),e[48]=$e,e[49]=C):C=e[49];let T;e[50]===Symbol.for("react.memo_cache_sentinel")?(T=()=>y(!1),e[50]=T):T=e[50];let B;return e[51]!==l||e[52]!==C?(B=a.jsx(ts,{onClose:C,onJoinProjectSuccess:T,projectData:l}),e[51]=l,e[52]=C,e[53]=B):B=e[53],B}let je;e[54]!==((Ae=l==null?void 0:l.gizmo)==null?void 0:Ae.conversation_copy_in_progress)?(je=((Oe=l==null?void 0:l.gizmo)==null?void 0:Oe.conversation_copy_in_progress)===!0?a.jsx(We,{type:"info",content:a.jsx(Q,J({},K.projectCopyInProgressBanner)),icon:a.jsx(xt,{className:"text-token-text-secondary h-5 w-5"})}):null,e[54]=(Re=l==null?void 0:l.gizmo)==null?void 0:Re.conversation_copy_in_progress,e[55]=je):je=e[55];const ke=je;let X;e[56]!==H?(X=C=>{C.preventDefault(),H&&fe(!0)},e[56]=H,e[57]=X):X=e[57];let Y;e[58]!==H||e[59]!==_e?(Y=C=>{C.preventDefault(),H&&(fe(!1),_e())},e[58]=H,e[59]=_e,e[60]=Y):Y=e[60];let Z,ee;e[61]!==H?(Z=C=>{C.preventDefault(),H&&fe(!0)},ee=C=>{C.preventDefault(),H&&fe(!1)},e[61]=H,e[62]=Z,e[63]=ee):(Z=e[62],ee=e[63]);const Ne=d==="empty"||Xe?"top":"bottom",Me=d==="empty"?"center":"bottom";let te;e[64]!==t||e[65]!==n||e[66]!==M||e[67]!==N||e[68]!==Me?(te=a.jsx(At,{clientThreadId:t,currentModelId:n,hideHeader:!0,isProjectThread:!0,isNewThread:!0,layoutMode:Me,onContinueGenerating:M,onRequestCompletion:N}),e[64]=t,e[65]=n,e[66]=M,e[67]=N,e[68]=Me,e[69]=te):te=e[69];let se;e[70]!==t||e[71]!==D?(se=D&&a.jsx("div",{className:"text-token-text-secondary flex w-full items-center justify-center text-center text-xs text-pretty md:pb-0.5",children:a.jsx(Ft,{clientThreadId:t})}),e[70]=t,e[71]=D,e[72]=se):se=e[72];let oe;e[73]!==o||e[74]!==_?(oe=a.jsx(Bt,{project:o,onNavigateToConversation:_}),e[73]=o,e[74]=_,e[75]=oe):oe=e[75];let ne;e[76]!==Ce||e[77]!==l?(ne=Ce&&a.jsx(os,{gizmo:l}),e[76]=Ce,e[77]=l,e[78]=ne):ne=e[78];let ie;e[79]!==F||e[80]!==we||e[81]!==Pe||e[82]!==l?(ie=a.jsx(Qt,{projectData:l,onRequestEdit:we,onRequestAddFiles:F,onRequestUpdateProject:Pe}),e[79]=F,e[80]=we,e[81]=Pe,e[82]=l,e[83]=ie):ie=e[83];let le;e[84]!==ke||e[85]!==d||e[86]!==Ne||e[87]!==te||e[88]!==se||e[89]!==oe||e[90]!==ne||e[91]!==ie?(le=a.jsx(es,{status:d,composerLayout:Ne,composer:te,disclaimer:se,postComposerContent:ke,conversations:oe,dragOverlay:ne,children:ie}),e[84]=ke,e[85]=d,e[86]=Ne,e[87]=te,e[88]=se,e[89]=oe,e[90]=ne,e[91]=ie,e[92]=le):le=e[92];let ae;e[93]!==X||e[94]!==Y||e[95]!==Z||e[96]!==ee||e[97]!==le?(ae=a.jsx("div",{onDragOver:X,onDrop:Y,onDragEnter:Z,onDragLeave:ee,children:le}),e[93]=X,e[94]=Y,e[95]=Z,e[96]=ee,e[97]=le,e[98]=ae):ae=e[98];let be;return e[99]!==o||e[100]!==ae?(be=a.jsx(Ke,{value:o,children:ae}),e[99]=o,e[100]=ae,e[101]=be):be=e[101],be}function ss(){Nt()}function os(r){"use forget";var m;const e=q.c(6),{gizmo:t}=r;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=a.jsx(zt,{className:"h-12 w-12",style:{color:"var(--icon-accent)"}}),e[0]=f):f=e[0];const n=(m=t==null?void 0:t.gizmo.display.name)!=null?m:"project";let i;e[1]!==n?(i=a.jsx("h3",{className:"text-center",children:a.jsx(Q,ye(J({},K.addConversationToNamedSnorlax),{values:{projectName:n}}))}),e[1]=n,e[2]=i):i=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx("h4",{className:"text-center",children:a.jsx(Q,J({},K.moveConversation))}),e[3]=s):s=e[3];let c;return e[4]!==i?(c=a.jsxs(Lt,{children:[f,i,s]}),e[4]=i,e[5]=c):c=e[5],c}export{hs as ProjectHomePage};
//# sourceMappingURL=ity1pmibq4f7ojcn.js.map

var O=Object.defineProperty,w=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var P=(a,e,t)=>e in a?O(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,h=(a,e)=>{for(var t in e||(e={}))T.call(e,t)&&P(a,t,e[t]);if(f)for(var t of f(e))x.call(e,t)&&P(a,t,e[t]);return a},g=(a,e)=>w(a,S(e));import{G as L,i as b,g as k,ad as v,r as i,ag as j,j as n,d as F}from"./jj85rqzpbnvv3emr.js";import{C as K}from"./eyi9jrf1bwm7dn6f.js";import{C as A,i as l,a as C}from"./lz6nvf1wtn80mpd2.js";import{A as N}from"./g4mp939381bmy3dx.js";import{c1 as U,aE as D,i as I,j as q,E as G,L as H,p as z,kM as V,P as Y,H as $}from"./lef5ym39glv4981l.js";import"./mclphevd122040jw.js";import"./gd5k9khi2ma4fx2d.js";import"./pb6aizka92emjg8u.js";import"./eksfatdee5z30mgz.js";import"./mueia064md5nlhd6.js";import"./l041el2tch1t3nkf.js";import"./bsf7l1uf8r87aw3y.js";import"./hc8beflnn681x6ow.js";const M={pro:"chatgptpro",plus:"chatgptplusplan"},y={[C.SORA]:"sora_redirect",[C.OPERATOR]:"operator_redirect"};function B(a){l(a)&&(window.location.href=A[a])}const ue=L(function(){const[e]=b(),t=k(),R=U(),{plan:s}=v(),o=e.get("checkout_from"),u=i.useRef(!1),r=D(),p=i.useMemo(()=>r==null?void 0:r.subscriptionAnalyticsParams,[r]),E=I(),c=q(E,"1719651090");if(!s||!(s in M))throw j("/");return i.useEffect(()=>{if(!r||u.current)return;if(u.current=!0,o==="vza493q"){r.hasPaidSubscription()&&r.isPro()?window.location.href=A[o]:c||t("/");return}(async()=>{const m=l(o)&&y[o]?y[o]:"purchase_plan_redirect";try{l(o)&&H.setItem(z.CheckoutFrom,o);const d=await K.getCheckoutLink({plan_name:M[s],billing_details:{currency:V}});Y.logEvent("Account Pay: Purchase Plan Redirect",g(h({},p),{plan:s,location:m})),window.location.href=d.url}catch(d){$(t,m)}})()},[t,R,s,o,p,c,r]),n.jsxs(n.Fragment,{children:[r&&o==="vza493q"&&c&&n.jsx(N,{currentAccount:r,onClose:()=>B(o),subtitle:_.operatorModalSubtitle,title:_.operatorModalTitle}),n.jsx("div",{className:"flex h-full w-full items-center justify-center",children:n.jsx(G,{})})]})}),_=F({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{ue as default};
//# sourceMappingURL=cxnxyyjm34fuxec2.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/oup0p7xztimao0r3.js","assets/jj85rqzpbnvv3emr.js","assets/mclphevd122040jw.js","assets/lef5ym39glv4981l.js","assets/root-ogjlcpyy.css","assets/conversation-small-g7l5datj.css","assets/bm60ocel3j0ixm99.js","assets/eksfatdee5z30mgz.js","assets/cfjmhsr8xf6xwmmf.js","assets/m46a0bw94g3hbrbv.js","assets/mueia064md5nlhd6.js","assets/eyi9jrf1bwm7dn6f.js","assets/l041el2tch1t3nkf.js","assets/gd5k9khi2ma4fx2d.js"])))=>i.map(i=>d[i]);
var X=Object.defineProperty;var w=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var I=(s,a,t)=>a in s?X(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,y=(s,a)=>{for(var t in a||(a={}))Y.call(a,t)&&I(s,t,a[t]);if(w)for(var t of w(a))J.call(a,t)&&I(s,t,a[t]);return s};import{ex as W,ey as O,i as p,y as M,fw as Z,P as u,bx as L,eE as n,aE as ee,a as S,ek as se,g_ as te,fW as ae,aG as T,dF as N,ej as U,$ as ne,a0 as oe,b as D,f as ie,dY as A,T as re,hi as B,H as F,bi as j,d as le,a9 as ce,t as H,bv as de,c as ue,z as P,dP as ge}from"./lef5ym39glv4981l.js";import{b as _,j as e,s as pe,M as c,g as b,u as me,r as he}from"./jj85rqzpbnvv3emr.js";import{K as xe,L as z,M as fe,W as v,Q as ve,R as Me,U as Se,V as R,X as h,Y as je,Z as _e,$ as be,a0 as ke,a1 as we,a2 as Ie,a3 as ye,a4 as Pe,a5 as Ce,a6 as Q,a7 as Ee,a8 as We,a9 as G,aa as Oe,ab as K,ac as Le,ad as Te,ae as Ne,af as Ue,ag as De,ah as Ae,ai as Be,aj as C,ak as Fe,al as He,am as ze,an as Re,ao as Qe,ap as Ge}from"./mclphevd122040jw.js";function Ke(s,a){return a||!(s!=null&&s.isWorkspaceAccount())?!1:!((s==null?void 0:s.isEdu())&&(s==null?void 0:s.isStandardUserOfAccount()))}const xs=({clientThreadId:s})=>{const a=_(),t=p();return M(t)?null:e.jsx(Z,{contentAlign:"end",sideOffset:4,triggerButton:e.jsx("button",{onClick:()=>{u.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:"header"})},"aria-label":a.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),"data-testid":"profile-button",className:"group user-select-none ps-2 focus:outline-0",children:e.jsx("div",{className:"group-hover:bg-token-interactive-bg-secondary-selected touch:h-10 touch:w-10 group-keyboard-focused:focus-ring flex h-9 w-9 items-center justify-center rounded-full",children:e.jsx(qe,{})})}),children:e.jsx($,{clientThreadId:s})})};function fs(){const s=h();return e.jsxs(n.Root,{onOpenChange:a=>{a&&u.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:s})},children:[e.jsx($e,{isTinyBar:s==="tiny_bar"}),e.jsx(n.Portal,{children:e.jsx(n.Content,{side:"top",size:"auto",className:"min-w-[calc(var(--sidebar-width)-12px)]",children:e.jsx($,{})})})]})}function $e({isTinyBar:s}){const{data:a}=S(),t=ue(a),i=Fe(),r=He(),o=_(),{enableProfileUpgradePill:l}=K(),{enableNewSidebarCTAs:d}=ze(),g=l&&!d(),x=b();if(!t||!a)return null;const f=t!=null&&t.isWorkspaceAccount(),q=a!=null&&a.accountItems.length>1;let m;f||q?m=i:t!=null&&t.isFree()?m=o.formatMessage(Re().name):t!=null&&t.isPlus()?m=o.formatMessage(Qe().name):t!=null&&t.isPro()&&(m=o.formatMessage(Ge().name));const k=o.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),V=(t==null?void 0:t.data.ekmConfig)!=null?e.jsxs("div",{className:"relative",children:[e.jsx(v,{}),e.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:e.jsx(ge,{className:"h-2 w-2","aria-hidden":"true"})})]}):e.jsx(v,{});return e.jsx(n.BasicTrigger,{asChild:!0,children:e.jsx(A,{as:"div",fillContainer:!0,"data-testid":"accounts-profile-button","aria-label":k,size:"large",icon:V,iconOnly:s,iconAriaLabel:k,label:r,role:"button",trailing:!s&&g?e.jsx(e.Fragment,{children:e.jsx(B,{onClick:()=>{F(x,"sidebar profile")},"aria-label":o.formatMessage(P.upgrade),className:"-my-1.5 -ms-2 -me-2.5 cursor-default py-1.5 ps-2 pe-2.5",children:e.jsx("span",{className:"btn-secondary btn btn-small my-0 me-0 cursor-default hover:cursor-pointer",children:e.jsx(c,y({},P.upgrade))})})}):void 0,secondary:m&&e.jsx("div",{className:"truncate",dir:"auto",children:m})})})}const $=({clientThreadId:s})=>{const a=p(),t=M(a),i=L(),r=xe(a);return e.jsxs("div",{className:"flex flex-col",children:[t?e.jsx(Ve,{}):e.jsx(ls,{}),e.jsx(ss,{}),e.jsx(n.Separator,{}),!t&&e.jsx(ds,{clientThreadId:s}),t?e.jsx(Ze,{}):e.jsx(z,{}),t&&!i&&e.jsx(as,{}),(r||!1)&&e.jsx(n.Separator,{}),r&&e.jsx(fe,{}),!1]})},qe=()=>{const s=p();return M(s)?e.jsx(v,{showPlanTypeBadge:!0}):e.jsx(ve,{className:"icon-lg"})},Ve=()=>{const s=ee(),{data:a}=S(),t=a&&a.accountItems.length>1,i=L(),r=t&&!i,o=Ke(s,i),l=pe(),d=l.pathname+l.search+(l.search?"&":"?")+"refresh_account=true";return e.jsxs(e.Fragment,{children:[e.jsx(Xe,{currentAccount:s}),r&&e.jsxs(e.Fragment,{children:[e.jsx(Me,{accountSwitcherRedirectUrl:d}),e.jsx(E,{shouldShowPlusIcon:o}),e.jsx(n.Separator,{})]}),!r&&e.jsx(E,{shouldShowPlusIcon:o}),e.jsx(is,{currentAccount:s}),e.jsx(cs,{}),o&&e.jsx(Ye,{}),!1,!1,e.jsx(Se,{}),e.jsx(es,{})]})};function Xe({currentAccount:s}){var d;const a=_(),t=D(),i=b(),r=ie();if(!t)return null;const o=s&&s.isWorkspaceAccount()&&!s.isEnterprisey(),l=a.formatMessage({id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Team workspace"});return e.jsx(A,{as:"div",onClick:async g=>{await Pe(t.id,r,g),r.success("Copied your User ID to clipboard")},icon:Ie,className:"text-token-text-tertiary bg-transparent!",trailing:o&&e.jsx(re,{label:l,className:"leading-0",side:"right",children:e.jsx(B,{onClick:()=>{F(i,"profile menu")},"aria-label":l,children:e.jsx(ye,{className:"icon-sm"})})}),label:(d=t.email)!=null?d:t.name})}const Ye=()=>{const s=h();return e.jsx(n.LinkItem,{to:"/admin",icon:Q,onClick:()=>{u.logEventWithStatsig("Account: Open Workspace Settings","chatgpt_account_open_workspace_settings",{location:s})},children:e.jsx(c,{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Workspace settings"})})},Je=()=>e.jsx(n.LinkItem,{icon:Ue,external:!0,to:"https://openai.com/chatgpt/download",children:e.jsx(c,{id:"mDFGM/",defaultMessage:"Download apps"})}),Ze=()=>{const s=h();return e.jsxs(n.Sub,{onOpenChange:a=>{a&&(u.logEventWithStatsig("Account: Open Help Menu","chatgpt_account_help_menu_open",{location:s}),ne.count(oe.DEFAULT,"chatgpt_account_help_menu_open",{location:s}))},children:[e.jsx(n.SubMenuTrigger,{icon:be,children:e.jsx(c,{defaultMessage:"Help",id:"navigation.helpMenu"})}),e.jsx(n.Portal,{children:e.jsxs(n.SubContent,{align:"end",children:[e.jsx(z,{}),e.jsx(ke,{}),e.jsx(Je,{}),e.jsx(ts,{})]})})]})},es=()=>{const s=h(),a=b(),t=me();return e.jsx(n.Item,{onClick:()=>{a("#settings/".concat(de.Personalization)),u.logEventWithStatsig("Account: Click Customize ChatGPT","chatgpt_account_open_customize_chatgpt",{location:s})},icon:Te,onMouseOver:()=>{t.prefetchQuery(Ne())},children:e.jsx(c,{id:"S0v338",defaultMessage:"Personalization"})})},ss=()=>{const{openSettings:s}=se(),a=h();return e.jsx(n.Item,{icon:te,onClick:()=>{u.logEventWithStatsig("Account: Click Settings","chatgpt_account_open_settings",{location:a}),s()},"data-testid":"settings-menu-item",children:e.jsx(c,{defaultMessage:"Settings",id:"navigation.settings.0"})})},ts=()=>e.jsx(n.Item,{className:"touch:hidden",icon:De,onSelect:()=>{Ae.set(!0)},children:e.jsx(c,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),as=()=>e.jsx(n.Item,{onSelect:()=>{u.logEvent("Account: Click Log Out",{eventSource:"mouse"}),u.logLogOutButtonClicked({location:"profile_drop_down"}),N.openModal(U.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:we,children:e.jsx(c,{defaultMessage:"Log out",id:"navigation.logOut.0"})}),ns=W(()=>O(()=>import("./oup0p7xztimao0r3.js").then(s=>s.t),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(s=>s.TeamManageSeatsModal)),os=W(()=>O(()=>import("./mclphevd122040jw.js").then(s=>s.D$),__vite__mapDeps([2,1,3,4,5])).then(s=>s.AdminInviteModal)),is=({currentAccount:s})=>{var g,x;const a=p(),t=s==null?void 0:s.id,i=(g=s==null?void 0:s.isTeam())!=null?g:!1,r=(x=s==null?void 0:s.isQuorum())!=null?x:!1,o=le(f=>f.currentWorkspace),d=((o==null?void 0:o.role)!=null?We(o.role):!1)&&i&&ce(a,"3622976851").get("is_nav_add_seats_button_enabled",!1);return!i&&!r||!s?null:d&&t?e.jsx(rs,{accountId:t}):e.jsx(n.Item,{"data-testid":"settings-menu-item-invite-teammates",onSelect:()=>{u.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"profile_drop_down"}),H(a,"chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"}),j(a,os,{workspace:s})},icon:G,children:e.jsx(c,{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add teammates"})})},rs=({accountId:s})=>{const a=p(),{data:t}=Be(),i=he.useCallback(()=>{if(!s||!t||!t.billing_period||!t.active_until)return;const r=t.seats_entitled,o=new Date(t.active_until),l={currency:t.billing_currency},d=t.billing_period==="monthly"?C.FLEXIBLE:C.ANNUAL;j(a,ns,{initialTeamBillingType:d,initialSeats:r,accountId:s,renewalDate:o,billingDetails:l})},[s,a,t]);return e.jsx(n.Item,{"data-testid":"settings-menu-item-invite-teammates",onSelect:()=>{u.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"profile_drop_down"}),H(a,"chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddSeats",step:"OpenModal"}),i()},icon:G,children:e.jsx(c,{id:"navigation.addSeats",defaultMessage:"Add seats"})})},ls=()=>e.jsx(n.LinkItem,{icon:R,external:!0,to:"https://openai.com/chatgpt/pricing/",children:e.jsx(c,{id:"J1y7uV",defaultMessage:"See plans and pricing"})}),cs=()=>{const{showUpgradePlan:s,onUpgradeClick:a}=Oe("chatgpt_upgrade_in_settings_menu_clicked","Upgrade In Settings Menu Clicked","profile-dropdown-menu"),{enableUpgradeMenuSparkleIcon:t}=K();return s?e.jsx(n.Item,{icon:t?e.jsx(Le,{className:"icon-sm"}):R,onSelect:()=>a("Upper right settings menu"),children:e.jsx(c,{id:"navigation.upgradePlan",defaultMessage:"Upgrade plan"})}):null},E=({shouldShowPlusIcon:s})=>{const a=p(),t=h(),i=D(),{data:r}=S(),o=!!(r!=null&&r.accountItems.some(g=>g.isEnterprisey())),l=(i==null?void 0:i.email_domain_type)==="professional";return!l||o||!(l&&!o&&T(a).getLayer("3217430380").get("enable_workspace_discovery",!1))?null:e.jsx(n.Item,{onSelect:()=>{u.logEventWithStatsig("Account: Open Workspace Discovery","chatgpt_workspace_discovery_modal_shown",{location:t}),j(a,Ee,{mode:"dismissible",section:"discoverable",source:"find_workspaces"})},icon:s?Ce:Q,children:e.jsx(c,{defaultMessage:"Find workspaces",id:"navigation.findWorkspaces"})})},ds=({clientThreadId:s})=>{const a=p(),t=ae(s),i=je();return T(a).checkGate("3376455464")&&(t||i)?e.jsx(n.Item,{icon:_e,onClick:()=>{N.openModal(U.ReportConversation)},children:e.jsx(c,{id:"profileMenu.reportConversation",defaultMessage:"Report conversation"})}):null};export{Xe as L,xs as P,fs as S};
//# sourceMappingURL=dvqe6kc43fkjsavv.js.map

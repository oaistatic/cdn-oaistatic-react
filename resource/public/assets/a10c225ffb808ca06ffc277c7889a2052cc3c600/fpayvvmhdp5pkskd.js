var Me=Object.freeze,Le=Object.defineProperty,as=Object.defineProperties;var os=Object.getOwnPropertyDescriptors;var Te=Object.getOwnPropertySymbols;var ns=Object.prototype.hasOwnProperty,ls=Object.prototype.propertyIsEnumerable;var Ee=(t,e,r)=>e in t?Le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,k=(t,e)=>{for(var r in e||(e={}))ns.call(e,r)&&Ee(t,r,e[r]);if(Te)for(var r of Te(e))ls.call(e,r)&&Ee(t,r,e[r]);return t},ee=(t,e)=>as(t,os(e));var xe=(t,e)=>Me(Le(t,"raw",{value:Me(e||t.slice())}));import{j as s,r as y,M as j,d as ue,L as be,m as cs,g as ge,u as ds,c as J,b as ie,v as _e,aq as ms}from"./jj85rqzpbnvv3emr.js";import{B as V,P as A,g$ as us,i as X,j as Se,ae as Ue,ac as gs,e as D,aD as fs,F as Fe,T as fe,qv as hs,gT as xs,qw as ps,qx as ys,f$ as Z,p_ as ye,f6 as te,fw as Be,eE as me,f1 as vs,fx as js,G as se,qy as bs,dP as Ss,r as ke,aA as ks,E as He,qz as ws,qA as Ns,nu as qe,aa as zs,qB as Cs,W as K,L as Ps,p as Gs,aE as $e,qC as Rs,gU as Ms,lr as Ts,m as Es,cp as Ls,je as Ae,mb as _s,jz as As,H as Qe,mo as Ds,gK as Ws,gZ as Is,mh as Os}from"./lef5ym39glv4981l.js";import{nu as Us,a3 as Ke,nv as Fs,gO as Bs,jZ as we,bW as Ne,be as Hs,ne as qs,bu as ze,kT as $s,a6 as Qs,bA as Ve,bB as Ye,ak as Xe,nw as Ks,kk as Vs,H as Ys,mM as Xs,aU as de,at as Y}from"./mclphevd122040jw.js";import{S as Ze}from"./daioev77nl79ehf6.js";import{N as Zs}from"./mw2u7timj0qnsnvj.js";import{P as Js}from"./dvqe6kc43fkjsavv.js";import{G as et}from"./fc3ognvcdyovy00k.js";import{G as st,C as tt}from"./m07wx0qobxpm3v8p.js";function rt({href:t,children:e,onClickTrackingEventName:r,onClick:a}){function i(){r&&A.logEvent(r),a==null||a()}return t?s.jsx(V,{as:"link",to:t,onClick:i,size:"large",children:e}):s.jsx(V,{onClick:i,size:"large",children:e})}function Kt({gizmo:t}){const e=us(t),[r,a]=y.useState(!1),i=X(),o=Se(i,"1855896025");return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(ve,{redirectUrl:e}),s.jsxs("div",{className:"flex grow flex-col items-center justify-center p-2",children:[s.jsx(Us,{gizmo:t,isAnon:!0,children:s.jsxs("div",{className:"mt-7 flex flex-col items-center gap-4",children:[s.jsx(rt,{onClick:()=>Ue(i,{callbackUrl:e}),children:s.jsx(j,{id:"gizmo.anonLandingPage.login",defaultMessage:"Sign up to chat"})}),s.jsxs("div",{className:"text-token-text-tertiary flex gap-2 text-sm whitespace-nowrap",children:[s.jsx("div",{children:s.jsx(j,{id:"gizmo.anonLandingPage.loginSubtext",defaultMessage:"Sign up or Log in to chat"})}),o&&s.jsxs(s.Fragment,{children:["|",s.jsx("div",{onClick:()=>a(!0),className:"cursor-pointer",children:s.jsx(j,{id:"gizmo.anonLandingPage.report",defaultMessage:"Report illegal content"})})]})]})]})}),r&&s.jsx(et,{onClose:()=>a(!1),gizmoId:t.gizmo.id})]})]})}function ve({redirectUrl:t,className:e}){const r=X(),a=gs(at.signUpCta);return s.jsxs("div",{className:D("flex items-center justify-between px-7 py-4",e),children:[s.jsx(it,{}),s.jsx(V,{color:"primary",onClick:()=>Ue(r,{callbackUrl:t}),children:s.jsx(j,k({},a))})]})}function it(){return s.jsx(be,{to:"/",children:s.jsx(fs,{className:"h-8 w-8"})})}const at=ue({signUpCta:{id:"gizmo.anonLandingPage.signup",defaultMessage:"Sign up"}});function re({delay:t,animateTap:e=!0,children:r}){return s.jsx(cs.div,{whileTap:{scale:e?.98:void 0},initial:{opacity:0,translateY:5},animate:{opacity:1,translateY:0,transition:{duration:.3,ease:"easeIn",delay:t!=null?t:0}},children:r})}var ot=(t=>(t.Enabled="enabled",t.ComingSoon="coming-soon",t))(ot||{});function nt({gizmoResource:t}){var i,o;const e=(i=t.gizmo.vanity_metrics)==null?void 0:i.num_conversations_str,r=(o=t.gizmo.share_recipient)!=null?o:se.Private,a=bs(r);return s.jsxs("div",{children:[t.gizmo.share_recipient!==se.Private&&e!=null?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ze,{className:"icon-sm"}),s.jsx("span",{children:s.jsx(j,ee(k({},dt.conversationCountStrLabel),{values:{numConvos:e}}))})]}):void 0,s.jsxs("div",{className:"flex items-center gap-1",children:[r===se.Link||r===se.Marketplace?s.jsx($s,{className:"icon-sm shrink-0"}):r===se.Workspace?s.jsx(Qs,{className:"icon-sm shrink-0"}):s.jsx(Ss,{className:"icon-sm shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:a})]})]})}function Vt({gizmoResource:t,canRemoveRecent:e}){var c,g,f;const r=X(),a=ge(),{canEdit:i}=xs(t),{canDelete:o}=ps(t),d=ys(t),n=!!((c=t.gizmo.tags)!=null&&c.includes(Z.FirstParty));return s.jsx(Je,{href:d?ye(t.gizmo.id):te(r,t),icon:s.jsx(Ne,{isFirstParty:n,src:(g=t==null?void 0:t.gizmo.display.profile_picture_url)!=null?g:void 0,className:"h-[42px] w-[42px] shrink-0"}),title:t.gizmo.display.name||Fs,isDraft:d,description:(f=t.gizmo.display.description)!=null?f:"",byline:i?s.jsx(nt,{gizmoResource:t}):s.jsx(we,{gizmo:t}),buttons:s.jsxs(s.Fragment,{children:[i&&s.jsx(fe,{label:s.jsx(j,{id:"gizmo.gpt.grid.EditGPT",defaultMessage:"Edit GPT"}),className:"flex justify-center",side:"top",children:s.jsx("button",{className:"text-token-text-primary rounded-lg px-3 py-2 transition-transform duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{a(ye(t.gizmo.id))},children:s.jsx(Bs,{className:"icon-sm"})})}),s.jsx(ct,{gizmoResource:t,canDelete:o,canRemoveRecent:e})]})})}var Ie;const lt=Fe.div(Ie||(Ie=xe(["flex h-[42px] w-[42px] shrink-0 items-center justify-center rounded-full border border-dashed\n",""])),({$disabled:t})=>t?"":"border-token-border-default bg-token-main-surface-secondary");function Yt({type:t}){const e=hs(),r=t==="coming-soon";return s.jsxs(fe,{disabled:!r,label:s.jsx(j,{id:"gizmo.gpt.grid.CreateGPTComingSoon",defaultMessage:"GPT creation will be available in the coming weeks"}),triggerAs:null,children:[s.jsx(Je,{href:e,disabled:r,icon:s.jsx(lt,{$disabled:r,children:s.jsx(Ke,{className:D("icon-sm",r&&"opacity-30")})}),title:s.jsx("div",{className:"flex items-center gap-1",children:s.jsx(j,{id:"gizmo.gpt.grid.CreateGPT",defaultMessage:"Create a GPT"})}),description:"Customize a version of ChatGPT for a specific purpose",byline:r?s.jsx("div",{className:"flex items-center justify-end",children:s.jsx("div",{className:"flex items-center",children:s.jsx(j,{id:"gizmo.gpt.grid.ComingSoon",defaultMessage:"Coming soon"})})}):void 0}),s.jsx("div",{className:"h-px bg-gray-100 dark:bg-gray-700"})]})}function Je({href:t,icon:e,title:r,isDraft:a=!1,description:i,byline:o,buttons:d,disabled:n,className:c}){const g=D("flex items-center px-2 py-4 rounded-xl",n?"":"hover:bg-token-main-surface-secondary",c),f=s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex grow items-center overflow-hidden md:w-3/5 md:grow-0",children:[e,s.jsxs("div",{className:D("grow overflow-hidden ps-4 pe-9 leading-tight",n?"opacity-50":"hover:cursor-pointer"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-semibold",children:r}),a&&s.jsx(fe,{label:s.jsx(j,{id:"gizmo.gpt.grid.Draft",defaultMessage:"Draft"}),className:"flex justify-center",side:"top",children:s.jsx("div",{className:"m-1.5 inline-block h-1.5 w-1.5 rounded-full bg-gray-200 dark:bg-gray-600"})})]}),s.jsx("div",{className:"line-clamp-2 overflow-hidden text-sm break-words text-ellipsis",children:i}),o!=null&&s.jsx("div",{className:"text-token-text-tertiary text-sm text-ellipsis md:hidden",children:o})]})]}),o!=null&&s.jsx("div",{className:"text-token-text-tertiary hidden flex-1 text-sm text-ellipsis md:block",children:o}),d!=null&&s.jsx("div",{onClick:p=>{p.preventDefault()},onPointerDownCapture:p=>{p.stopPropagation()},className:"flex h-9 shrink-0 justify-end gap-2 font-semibold md:w-[100px]",children:d})]});return n?s.jsx(re,{children:s.jsx("span",{className:g,children:f})}):s.jsx(re,{children:s.jsx(be,{className:g,to:t,children:f})})}function ct({gizmoResource:t,canDelete:e,canRemoveRecent:r}){const[a,i]=y.useState(!1),[o,d]=y.useState(!1),n=ds();return!e&&!r?null:s.jsxs(s.Fragment,{children:[s.jsxs(Be,{side:"top",contentAlign:"end",sideOffset:8,open:o,onOpenChange:c=>d(c),triggerButton:s.jsx("button",{color:"secondary",className:"text-token-text-primary rounded-lg bg-transparent px-3 py-2 duration-100 ease-in hover:bg-white active:scale-[0.9] dark:bg-transparent dark:hover:bg-gray-700",onClick:()=>{d(c=>!c)},children:s.jsx(js,{className:"icon"})}),children:[e&&s.jsx(me.Item,{color:"danger",onClick:()=>{i(!0)},icon:Hs,children:s.jsx(j,{id:"gizmo.gpt.grid.DeleteGPT",defaultMessage:"Delete GPT"})}),r&&s.jsx(me.Item,{onClick:()=>{vs.removeFromRecent(n,t.gizmo.id)},children:s.jsx(j,{id:"gizmo.gpt.grid.RemoveFromRecent",defaultMessage:"Remove from Recent"})})]}),a&&s.jsx(qs,{children:s.jsx(st,{gizmoId:t.gizmo.id,onSuccess:()=>{i(!1)},onClose:()=>{i(!1)}})})]})}const dt=ue({conversationCountStrLabel:{id:"gizmo.gpt.grid.conversationCountStrLabel",defaultMessage:"{numConvos} Chats"}});function es({gizmo:t,children:e,onClick:r,onModalOpen:a,onModalClose:i,selectOnly:o,className:d}){const n=X(),c=Se(n,"1825130190"),[g,f]=y.useState(!1);return o?s.jsx("a",{className:D("gizmo-link cursor-pointer",d),href:"#",onClick:p=>{p.preventDefault(),r==null||r(p)},children:e}):c?s.jsxs(s.Fragment,{children:[g&&s.jsx(Ve,{gizmoId:t.gizmo.id,creatorId:t.gizmo.author.user_id,onClose:()=>{f(!1),i==null||i()},children:s.jsx(Ye,{as:"link",to:te(n,t)})}),s.jsx("a",{className:D("gizmo-link cursor-pointer",d),href:"#",onClick:p=>{p.preventDefault(),r==null||r(p),f(!0),a==null||a()},children:e})]}):s.jsx(be,{to:te(n,t),className:D("gizmo-link",d),target:"_blank",onClick:r,children:e})}function mt(t){"use forget";const e=J.c(28),{placeholder:r,effectiveRole:a,onSelect:i,popoverClassName:o}=t,d=ie(),[n,c]=y.useState("ALL"),[g,f]=y.useState(""),[p,h]=y.useState(""),[l,x]=y.useState(null),v=X();let w;if(e[0]!==v){const T=ke(v);w=T==null?void 0:T.isWorkspaceAccount(),e[0]=v,e[1]=w}else w=e[1];const u=w,G=u!==void 0&&u;let b,P;e[2]!==g?(b=()=>{const T=setTimeout(()=>{h(g)},250);return()=>{clearTimeout(T)}},P=[g],e[2]=g,e[3]=b,e[4]=P):(b=e[3],P=e[4]),y.useEffect(b,P);const N=X(),M=ge();let E;e[5]!==i||e[6]!==M||e[7]!==N?(E=T=>{if(i){i(T);return}if(!Se(N,"1825130190")){const W=te(N,T);M(W);return}x(T)},e[5]=i,e[6]=M,e[7]=N,e[8]=E):E=e[8];const z=E;let L;e[9]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(ks,{className:"text-token-text-tertiary icon absolute start-5 top-1/2 z-30 -translate-y-1/2"}),e[9]=L):L=e[9];let C;e[10]!==d||e[11]!==r||e[12]!==o||e[13]!==g?(C=(T,F)=>s.jsxs(tt,{label:r!=null?r:d.formatMessage(B.discoverySearch),inputClassName:"bg-token-main-surface-primary! py-4 px-3 rounded-xl font-normal text-base! ps-12",popoverClassName:D("-top-3! border-token-border-default! rounded-xl",o!=null?o:"bg-token-main-surface-primary!"),className:"border-token-border-default! rounded-xl! p-0! ring-0!",name:"search",inputValue:g,onInputChange:f,onTabChange:W=>c(W==="WORKSPACE"?"WORKSPACE":"ALL"),suggestions:T,RenderTab:gt,children:[F,F==null&&s.jsx("div",{className:"w-full py-4",children:s.jsx(ft,{})})]}),e[10]=d,e[11]=r,e[12]=o,e[13]=g,e[14]=C):C=e[14];let U;e[15]!==n||e[16]!==p||e[17]!==a||e[18]!==z||e[19]!==G||e[20]!==C?(U=s.jsx(ht,{activeTab:n,query:p,effectiveRole:a,setPopoverForceOpen:ut,onSelect:z,showWorkspaceResults:G,renderCombobox:C}),e[15]=n,e[16]=p,e[17]=a,e[18]=z,e[19]=G,e[20]=C,e[21]=U):U=e[21];let R;e[22]!==l||e[23]!==N?(R=l&&s.jsx(Ve,{gizmoId:l.gizmo.id,creatorId:l.gizmo.author.user_id,onClose:()=>{x(null)},children:s.jsx(Ye,{as:"link",to:te(N,l)})}),e[22]=l,e[23]=N,e[24]=R):R=e[24];let H;return e[25]!==U||e[26]!==R?(H=s.jsxs("div",{className:"relative z-0",children:[L,U,R]}),e[25]=U,e[26]=R,e[27]=H):H=e[27],H}function ut(){}function gt(t){"use forget";const e=J.c(4),{tab:r}=t,a=Xe();if(r==="ALL"){let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(j,k({},B.discoveryAllResultsHeader)),e[0]=i):i=e[0],i}if(r==="WORKSPACE"){let i;return e[1]!==a?(i=s.jsx(j,ee(k({},B.discoveryWorkspaceResultsHeader),{values:{workspaceName:a}})),e[1]=a,e[2]=i):i=e[2],i}if(r==="discoverySearchRecentlyUsed"){let i;return e[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(j,k({},B.discoverySearchRecentlyUsed)),e[3]=i):i=e[3],i}return r}function ft(){return s.jsx("div",{className:"flex items-center justify-center py-1",children:s.jsx(He,{})})}function ht(t){"use forget";var E;const e=J.c(20),{activeTab:r,query:a,effectiveRole:i,setPopoverForceOpen:o,showWorkspaceResults:d,onSelect:n,renderCombobox:c}=t;let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],e[0]=g):g=e[0],y.useEffect(yt,g);const{data:f,isLoading:p}=ws(a),{data:h,isLoading:l}=Ns(a,d);let x;e[1]===Symbol.for("react.memo_cache_sentinel")?(x={cutId:"recent",limit:3},e[1]=x):x=e[1];const{data:v,isLoading:w}=qe(x),u=f==null?void 0:f.items,G=f==null?void 0:f.cursor,b=h==null?void 0:h.items,P=h==null?void 0:h.cursor;let N;e[2]!==(v==null?void 0:v.pages)?(N=(E=v==null?void 0:v.pages.flatMap(xt))!=null?E:[],e[2]=v==null?void 0:v.pages,e[3]=N):N=e[3];let M;return e[4]!==r||e[5]!==i||e[6]!==w||e[7]!==p||e[8]!==l||e[9]!==n||e[10]!==a||e[11]!==c||e[12]!==o||e[13]!==d||e[14]!==u||e[15]!==G||e[16]!==b||e[17]!==P||e[18]!==N?(M=s.jsx(vt,{debouncedQuery:a,searchResults:u,isLoadingSearch:p,searchResultsCursor:G,showWorkspaceResults:d,workspaceSearchResults:b,workspaceSearchResultsCursor:P,isLoadingWorkspaceSearch:l,isLoadingRecent:w,recent:N,effectiveRole:i,setPopoverForceOpen:o,onSelect:n,activeTab:r,renderCombobox:c}),e[4]=r,e[5]=i,e[6]=w,e[7]=p,e[8]=l,e[9]=n,e[10]=a,e[11]=c,e[12]=o,e[13]=d,e[14]=u,e[15]=G,e[16]=b,e[17]=P,e[18]=N,e[19]=M):M=e[19],M}function xt(t){return t.list.items.map(pt)}function pt(t){return t.resource}function yt(){A.logEvent("Search Start")}function vt(t){"use forget";const e=J.c(25),{activeTab:r,debouncedQuery:a,searchResults:i,isLoadingSearch:o,searchResultsCursor:d,showWorkspaceResults:n,workspaceSearchResults:c,workspaceSearchResultsCursor:g,isLoadingWorkspaceSearch:f,recent:p,isLoadingRecent:h,effectiveRole:l,setPopoverForceOpen:x,onSelect:v,renderCombobox:w}=t;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=_e(),e[0]=u):u=e[0];const G=y.useRef(u);let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=[],e[1]=b):b=e[1],y.useEffect(jt,b);let P,N;e[2]!==a||e[3]!==o||e[4]!==i?(P=()=>{!o&&i&&(G.current=_e(),i.length>0?Promise.all(i.map((z,L)=>{A.logEvent("Search Display Result",{search_id:G.current,gizmo_id:z.gizmo.id,position:L,query:a})})):A.logEvent("Search No Results",{query:a}))},N=[i,o,a],e[2]=a,e[3]=o,e[4]=i,e[5]=P,e[6]=N):(P=e[5],N=e[6]),y.useEffect(P,N);let M;e[7]!==p?(M=p!=null?p:[],e[7]=p,e[8]=M):M=e[8];let E;return e[9]!==r||e[10]!==a||e[11]!==l||e[12]!==h||e[13]!==o||e[14]!==f||e[15]!==v||e[16]!==w||e[17]!==i||e[18]!==d||e[19]!==x||e[20]!==n||e[21]!==M||e[22]!==c||e[23]!==g?(E=s.jsx(bt,{query:a,activeTab:r,searchIdRef:G,searchResults:i,searchResultsCursor:d,isLoadingSearch:o,showWorkspaceResults:n,workspaceSearchResults:c,workspaceSearchResultsCursor:g,isLoadingWorkspaceSearch:f,isLoadingRecent:h,recentSearchResults:M,setPopoverForceOpen:x,effectiveRole:l,onSelect:v,renderCombobox:w}),e[9]=r,e[10]=a,e[11]=l,e[12]=h,e[13]=o,e[14]=f,e[15]=v,e[16]=w,e[17]=i,e[18]=d,e[19]=x,e[20]=n,e[21]=M,e[22]=c,e[23]=g,e[24]=E):E=e[24],E}function jt(){A.logEvent("Search Start")}function pe(t){"use forget";const e=J.c(6),{children:r,onClick:a,isSelected:i,isClickable:o}=t,d="text-token-text-tertiary px-3 pb-2 text-xs ".concat(i?"border-b-2 font-bold":"font-semibold"," ").concat(o?"cursor-pointer":"");let n;e[0]!==a?(n=()=>{a==null||a()},e[0]=a,e[1]=n):n=e[1];let c;return e[2]!==r||e[3]!==d||e[4]!==n?(c=s.jsx("div",{className:d,onClick:n,children:r}),e[2]=r,e[3]=d,e[4]=n,e[5]=c):c=e[5],c}function bt(t){"use forget";var Ce,Pe,Ge,Re;const e=J.c(74),{query:r,searchIdRef:a,isLoadingRecent:i,searchResults:o,searchResultsCursor:d,isLoadingSearch:n,showWorkspaceResults:c,workspaceSearchResults:g,workspaceSearchResultsCursor:f,isLoadingWorkspaceSearch:p,recentSearchResults:h,setPopoverForceOpen:l,activeTab:x,effectiveRole:v,onSelect:w,renderCombobox:u}=t;let G;e[0]!==o?(G=o===void 0?[]:o,e[0]=o,e[1]=G):G=e[1];const b=G;let P;e[2]!==g?(P=g===void 0?[]:g,e[2]=g,e[3]=P):P=e[3];const N=P,M=zs(),[E,z]=y.useState(!1),L=Cs(r,E,x==="WORKSPACE",x==="WORKSPACE"?f:d);let C;e[4]!==((Ce=L.data)==null?void 0:Ce.pages)?(C=(Ge=(Pe=L.data)==null?void 0:Pe.pages.flatMap(wt))!=null?Ge:[],e[4]=(Re=L.data)==null?void 0:Re.pages,e[5]=C):C=e[5];let U;e[6]!==L||e[7]!==C?(U=ee(k({},L),{data:C}),e[6]=L,e[7]=C,e[8]=U):U=e[8];const{data:R,hasNextPage:H,fetchNextPage:T,isFetchingNextPage:F,isError:W}=U,[ae,rs]=y.useState(R.length),is=y.useRef(null);let oe,ne;e[9]!==ae||e[10]!==R.length?(oe=()=>{var m;R.length>ae&&(rs(R.length),(m=is.current)==null||m.scrollIntoView({behavior:"smooth",block:"nearest"}))},ne=[R.length,ae],e[9]=ae,e[10]=R.length,e[11]=oe,e[12]=ne):(oe=e[11],ne=e[12]),y.useEffect(oe,ne);let le;e[13]!==v||e[14]!==M||e[15]!==w||e[16]!==r||e[17]!==a?(le=(m,S)=>{var I,$;const _=(I=m.gizmo.vanity_metrics)==null?void 0:I.num_conversations_str,q=(($=m.gizmo.tags)==null?void 0:$.includes(Z.WorkspaceDisabled))&&v!==K.OWNER;return{id:m.gizmo.id,className:D("group flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-gray-50 dark:hover:bg-white/10",q&&"opacity-50 hover:opacity-100"),focusedClassName:"bg-gray-50 dark:bg-white/10",onClick:()=>{w?w(m):A.logEvent("Store Click Gizmo",{search_id:a.current,gizmo_id:m.gizmo.id,position:S,query:r,section:"search"})},children:s.jsx(zt,{resource:m,grayedOut:q!=null?q:!1,isScreenSm:M,numConvos:_})}},e[13]=v,e[14]=M,e[15]=w,e[16]=r,e[17]=a,e[18]=le):le=e[18];const Q=le;if(r===""&&h&&h.length>0){let m;return e[19]!==Q||e[20]!==h||e[21]!==u?(m=u({discoverySearchRecentlyUsed:h.map(Q)},null),e[19]=Q,e[20]=h,e[21]=u,e[22]=m):m=e[22],m}if(r===""&&i){let m;return e[23]!==u?(m=u([],null),e[23]=u,e[24]=m):m=e[24],m}if(r===""){let m;if(e[25]!==u){let S;e[27]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(pe,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,k({},B.discoverySearchRecentlyUsedEmpty))}),e[27]=S):S=e[27],m=u([],S),e[25]=u,e[26]=m}else m=e[26];return m}if(r!==""&&!n&&x==="ALL"&&(b==null||b.length===0)){let m;if(e[28]!==u){let S;e[30]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("div",{className:"text-token-text-tertiary mt-4 px-3 pb-2 text-xs font-semibold",children:s.jsx(j,k({},B.discoveryNoResultsSearch))}),e[30]=S):S=e[30],m=u([],S),e[28]=u,e[29]=m}else m=e[29];return m}if(r!==""&&!p&&x==="WORKSPACE"&&(N==null||N.length===0)){let m;if(e[31]!==u){let S;e[33]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("div",{className:"text-token-text-tertiary mt-4 px-3 pb-2 text-xs font-semibold",children:s.jsx(j,k({},B.discoveryNoResultsSearch))}),e[33]=S):S=e[33],m=u([],S),e[31]=u,e[32]=m}else m=e[32];return m}if(c){if(r!==""&&!n&&!p&&(!b||b.length===0)&&(!N||N.length===0)){let m;if(e[34]!==u){let S;e[36]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("div",{className:"mx-2",children:s.jsx(pe,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,k({},B.discoveryNoResultsSearch))})}),e[36]=S):S=e[36],m=u([],S),e[34]=u,e[35]=m}else m=e[35];return m}}else{if(n){let m;return e[37]!==u?(m=u([],null),e[37]=u,e[38]=m):m=e[38],m}if(r!==""&&!n&&(!b||b.length===0)){let m;if(e[39]!==u){let S;e[41]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("div",{className:"mx-2",children:s.jsx(pe,{onClick:void 0,isSelected:void 0,isClickable:!1,children:s.jsx(j,k({},B.discoveryNoResultsSearch))})}),e[41]=S):S=e[41],m=u([],S),e[39]=u,e[40]=m}else m=e[40];return m}}let ce;if(e[42]!==T||e[43]!==H||e[44]!==W||e[45]!==F||e[46]!==E||e[47]!==R||e[48]!==Q||e[49]!==u||e[50]!==b||e[51]!==d||e[52]!==l||e[53]!==N||e[54]!==f){let m=[];if(b){const _=b.map(Q);m=[...m,..._]}if(b&&R){const _=R.map(Q);m=[...m,..._]}if((!E&&R.length===0||H||F||W)&&d!=null){let _;e[56]!==T||e[57]!==l?(_=()=>{z(!0),T(),l==null||l(!0)},e[56]=T,e[57]=l,e[58]=_):_=e[58];const q=W?"danger-outline":"secondary";let I;e[59]!==W?(I=W?s.jsx(j,k({},B.discoveryLoadMoreError)):s.jsx(j,k({},B.discoveryLoadMore)),e[59]=W,e[60]=I):I=e[60];let $;e[61]!==F||e[62]!==q||e[63]!==I?($=s.jsx(V,{color:q,onClick:kt,loading:F,fullWidth:!0,className:"mt-2 md:mt-3",children:I}),e[61]=F,e[62]=q,e[63]=I,e[64]=$):$=e[64];const he={id:"all-load-more-button",className:"",onClick:_,children:$};m=[...m,he]}const S={ALL:m};if(N){const _=N.map(Q);S.WORKSPACE=_}if(N&&R){const _=R.map(Q);S.WORKSPACE=[...S.WORKSPACE,..._]}if((!E&&R.length===0||H||F||W)&&f!=null){let _;e[65]!==T||e[66]!==l?(_=()=>{z(!0),T(),l==null||l(!0)},e[65]=T,e[66]=l,e[67]=_):_=e[67];const q=W?"danger-outline":"secondary";let I;e[68]!==W?(I=W?s.jsx(j,k({},B.discoveryLoadMoreError)):s.jsx(j,k({},B.discoveryLoadMore)),e[68]=W,e[69]=I):I=e[69];let $;e[70]!==F||e[71]!==q||e[72]!==I?($=s.jsx(V,{color:q,onClick:St,fullWidth:!0,className:"mt-2 md:mt-3",loading:F,children:I}),e[70]=F,e[71]=q,e[72]=I,e[73]=$):$=e[73];const he={id:"workspace-load-more-button",className:"",onClick:_,children:$};S.WORKSPACE=[...S.WORKSPACE,he]}ce=u(S,null),e[42]=T,e[43]=H,e[44]=W,e[45]=F,e[46]=E,e[47]=R,e[48]=Q,e[49]=u,e[50]=b,e[51]=d,e[52]=l,e[53]=N,e[54]=f,e[55]=ce}else ce=e[55];return ce}function St(){}function kt(){}function wt(t){return t.items.map(Nt)}function Nt(t){return t}function zt(t){"use forget";var G,b;const e=J.c(25),{resource:r,grayedOut:a,isScreenSm:i,numConvos:o}=t,d=!!((G=r.gizmo.tags)!=null&&G.includes(Z.FirstParty)),n=(b=r.gizmo.display.profile_picture_url)!=null?b:void 0,c=a&&"grayscale group-hover:grayscale-0";let g;e[0]!==c?(g=D("h-8 w-8 shrink-0",c),e[0]=c,e[1]=g):g=e[1];let f;e[2]!==d||e[3]!==n||e[4]!==g?(f=s.jsx(Ne,{isFirstParty:d,src:n,className:g}),e[2]=d,e[3]=n,e[4]=g,e[5]=f):f=e[5];let p;e[6]!==r.gizmo.display.name?(p=s.jsx("div",{className:"flex flex-row items-end space-x-2",children:s.jsx("span",{className:"shrink-0 truncate text-sm font-semibold",children:r.gizmo.display.name})}),e[6]=r.gizmo.display.name,e[7]=p):p=e[7];let h;e[8]!==i||e[9]!==r.gizmo.display.description?(h=i&&s.jsx("span",{className:"text-token-text-tertiary max-w-md truncate text-xs",children:r.gizmo.display.description}),e[8]=i,e[9]=r.gizmo.display.description,e[10]=h):h=e[10];let l;e[11]!==r?(l=s.jsx("div",{className:"-mt-1",children:s.jsx(we,{gizmo:r,className:"text-token-text-tertiary truncate text-xs",hideLink:!0})}),e[11]=r,e[12]=l):l=e[12];let x;e[13]!==o?(x=o&&s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 font-semibold",style:{marginTop:"-2px"},children:[s.jsx(ze,{className:"icon-xs"}),s.jsx("span",{className:"line-clamp-1 text-xs",children:o})]}),e[13]=o,e[14]=x):x=e[14];let v;e[15]!==l||e[16]!==x?(v=s.jsxs("div",{className:"flex items-center gap-2",children:[l,x]}),e[15]=l,e[16]=x,e[17]=v):v=e[17];let w;e[18]!==v||e[19]!==p||e[20]!==h?(w=s.jsxs("div",{className:"flex flex-col space-y-1 truncate",children:[p,h,v]}),e[18]=v,e[19]=p,e[20]=h,e[21]=w):w=e[21];let u;return e[22]!==w||e[23]!==f?(u=s.jsxs(s.Fragment,{children:[f,w]}),e[22]=w,e[23]=f,e[24]=u):u=e[24],u}const B=ue({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"}});var Oe;const ss=Fe.div(Oe||(Oe=xe(["grid grid-cols-1 gap-x-1.5 gap-y-1 md:gap-x-2 md:gap-y-1.5 lg:grid-cols-2 lg:gap-x-3 lg:gap-y-2.5"]))),je="gpt_store";function Ct(t,e){e.scrollLeft>t.offsetLeft?e.scrollBy({left:t.offsetLeft-e.scrollLeft-20,behavior:"smooth"}):e.scrollLeft+e.clientWidth<t.offsetLeft+t.clientWidth&&e.scrollBy({left:t.offsetLeft+t.clientWidth-e.clientWidth-e.scrollLeft+20,behavior:"smooth"})}function Xt({anon:t}){const[e]=y.useState(()=>Ps.getItem(Gs.GizmoDiscoveryLocale)),r=$e(),[a,i]=y.useState(!1),o=r!=null&&r.isOwnerOfAccount()&&!a?K.OWNER:K.STANDARD;return s.jsx(Pt,{anon:t,currAccount:r,requestedLocale:e,effectiveRole:o,setPretendStandardUser:i})}function Pt({anon:t,currAccount:e,requestedLocale:r,effectiveRole:a,setPretendStandardUser:i}){const[o,d]=y.useState(void 0),n=!!t||(e==null?void 0:e.isPersonalAccount())&&!0,{data:c,isLoading:g,isError:f}=Rs(r,n);y.useEffect(()=>{c&&d({locale:c.locale,workspace_filtered:c.workspace_filtered,cuts:c.cuts.map(h=>({info:h.info,list:{items:h.list.items.map(l=>l.resource),cursor:h.list.cursor}}))})},[c]);const p=(...h)=>{var x,v;const l=qe(...h);return ee(k({},l),{data:(v=(x=l.data)==null?void 0:x.pages.flatMap(w=>w.list.items.map(u=>u.resource)))!=null?v:[]})};return s.jsx(Rt,{anon:t,discoveryLanding:o,isLoading:g,isError:f,effectiveRole:a,setPretendStandardUser:i,useFetchMoreQuery:p})}function Gt(t,e){if(t)return s.jsx(de,{type:"info",children:s.jsx(j,k({},O.discoveryResidencyRestriction))});switch(e){case"allow_none":return s.jsx(de,{type:"info",children:s.jsx(j,k({},O.discoveryThirdPartyDisabled))});case"allow_specific":return s.jsx(de,{type:"info",children:s.jsx(j,k({},O.discoveryThirdPartySpecific))});default:return null}}function Rt({anon:t,discoveryLanding:e,isLoading:r,isError:a,effectiveRole:i,setPretendStandardUser:o,useFetchMoreQuery:d}){var N,M,E;const n=$e(),c=Es(n==null?void 0:n.getWorkspaceId()),g=y.useRef({}),[f,p]=y.useState({}),h=y.useMemo(()=>Xs(Ls(e==null?void 0:e.cuts.map(z=>({id:z.info.id,name:z.info.display_group}))),"name"),[e]),l=y.useRef(null),x=(N=h.find(z=>f[z.id]))!=null?N:h[0];y.useEffect(()=>{const z=g.current,L=new IntersectionObserver(C=>{C.forEach(U=>{for(const R of h){const H=z[R.id];H!=null&&U.target===H&&p(T=>ee(k({},T),{[R.id]:U.isIntersecting}))}})},{root:null,rootMargin:"-96px",threshold:.1});return Object.values(z).forEach(C=>{C!=null&&L.observe(C)}),()=>{Object.values(z).forEach(C=>{C!=null&&L.unobserve(C)})}},[g,h]);const v=y.useRef(null),w=s.jsx("div",{className:"flex h-full w-full items-center justify-center",children:a?s.jsx(de,{type:"danger",children:s.jsx(j,k({},O.discoveryError))}):s.jsx(He,{})}),u=(n==null?void 0:n.data.residencyRegion)!=null&&n.data.residencyRegion!=="no_constraint"&&n.data.residencyRegion!=="us",G=(M=c.data)==null?void 0:M.allow_third_party_gpts,b=Gt(u,G),P=s.jsxs("div",{className:"screen-arch:w-full mx-auto max-w-3xl overflow-x-clip px-4",children:[s.jsx(Mt,{}),s.jsxs("div",{className:"bg-token-bg-primary sticky top-14 z-30 -mt-2 mb-12 flex flex-col gap-6 pt-2 [@media(min-width:1560px)]:top-0",children:[!t&&s.jsx(mt,{}),s.jsx("div",{ref:l,className:"scroll-mt-28"}),b,h.length>0&&s.jsx(Tt,{displayGroups:h,currentDisplayGroup:x,scrollToDisplayGroup:z=>{var C;((C=g.current[z.id])!=null?C:l.current).scrollIntoView({behavior:"smooth",block:"start"})}})]}),(E=e==null?void 0:e.cuts.map(z=>{var L;return z.info.display_type==="featured"?s.jsx(At,{info:z.info,items:z.list.items,ref:C=>{C!=null&&(g.current[z.info.id]=C)},effectiveRole:i},z.info.id):s.jsx(Wt,{info:z.info,items:z.list.items,cursor:(L=z.list.cursor)!=null?L:void 0,ref:C=>{C!=null&&(g.current[z.info.id]=C)},anon:t,effectiveRole:i,useFetchMoreQuery:d},z.info.id)}))!=null?E:[]]});return r||a?s.jsxs(s.Fragment,{children:[t?s.jsx(ve,{redirectUrl:Ae(),className:"bg-token-main-surface-primary sticky top-0 z-30 h-14"}):s.jsx(De,{}),w]}):s.jsxs("div",{ref:v,className:"h-full overflow-y-auto",children:[t?s.jsx(ve,{redirectUrl:Ae(),className:"bg-token-main-surface-primary sticky top-0 z-30 h-14"}):s.jsxs(s.Fragment,{children:[(n==null?void 0:n.isWorkspaceAccount())&&s.jsx(Lt,{role:i,onPretendStandardUser:z=>{o(z)}}),s.jsx(De,{})]}),P,(e==null?void 0:e.workspace_filtered)&&!(n!=null&&n.isOwnerOfAccount())&&s.jsx(Et,{})]})}function Mt(){return s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"my-2 text-center text-3xl font-bold md:my-4 md:text-5xl",children:s.jsx(j,k({},O.discoverySplashHeader))}),s.jsx("div",{className:"text-token-text-secondary mx-auto w-full text-center text-sm md:text-lg md:leading-tight",children:s.jsx(j,k({},O.discoverySplashDescription))})]})}function Tt({displayGroups:t,currentDisplayGroup:e,scrollToDisplayGroup:r}){const a=y.useRef(null),i=ie(),o=(...l)=>i.formatMessage(...l),d=y.useRef({}),[n,c]=y.useState(!1);y.useEffect(()=>{if(n||e==null)return;const x=d.current[e.id];if(x==null)return;const v=a.current;v!=null&&Ct(x,v)},[e,n]);const[g,f]=y.useState(!1),[p,h]=y.useState(!1);return y.useEffect(()=>{const l=a.current,x=()=>{l!=null&&(f(l.scrollLeft>0),h(l.scrollLeft+l.clientWidth<l.scrollWidth))};return l==null||l.addEventListener("scroll",x),window.addEventListener("resize",x),x(),()=>{l==null||l.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[a]),s.jsxs("div",{className:"bg-token-main-surface-primary sticky top-14 z-10 -ms-4 w-screen py-2 text-sm md:ms-0 md:w-full md:pb-0",children:[g&&s.jsx("div",{className:"absolute start-0 top-2 hidden h-full items-end bg-linear-to-r from-white from-50% to-transparent pe-8 md:block dark:from-gray-800",children:s.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/20",onClick:()=>{a.current!=null&&a.current.scrollBy({left:-400,behavior:"smooth"})},children:s.jsx(Ds,{className:"icon-sm"})})}),s.jsx("div",{className:"no-scrollbar flex scroll-m-5 gap-1.5 overflow-x-auto md:overflow-hidden",ref:a,children:t.map(l=>s.jsx("div",{className:D("md:text-token-text-primary cursor-pointer scroll-mx-5 rounded-3xl px-3 py-2 whitespace-nowrap select-none first:ms-4 last:me-4 md:bg-transparent md:px-2 md:first:ms-0 md:last:me-0",l.id===(e==null?void 0:e.id)?"border-token-text-primary text-token-main-surface-primary bg-black md:rounded-none md:border-b-2 dark:bg-gray-100 dark:md:bg-transparent":"bg-token-main-surface-secondary hover:text-token-text-primary md:text-token-text-tertiary hover:bg-gray-100 md:rounded-lg md:hover:bg-gray-50 dark:hover:bg-white/20 dark:md:bg-transparent dark:md:hover:bg-gray-700"),onClick:()=>{c(!0),r(l),setTimeout(()=>{c(!1)},1e3),A.logEvent("Store Click Category",{category:l.id})},ref:x=>{x!=null&&(d.current[l.id]=x)},children:o({id:"gizmo.categoryName.".concat(l.name),defaultMessage:l.name,description:"store category"})},l.id))}),p&&s.jsx("div",{className:"absolute end-0 top-2 hidden h-full bg-linear-to-l from-white from-50% to-transparent ps-8 md:block dark:from-gray-800",children:s.jsx("button",{className:"mt-2 rounded-full bg-gray-100 p-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-white/10",onClick:()=>{a.current!=null&&a.current.scrollBy({left:400,behavior:"smooth"})},children:s.jsx(Ws,{className:"icon-sm"})})})]})}function Et(){const t=ie(),e=Xe(),r=Os();return s.jsxs("div",{className:D("bg-token-main-surface-secondary text-token-text-secondary screen-arch:static fixed bottom-0 flex w-full items-center justify-center gap-2 p-3 text-sm",r&&"md:w-[calc(100%-16rem)]"),children:[s.jsx(Ze,{className:"icon-sm"}),t.formatMessage(O.discoveryThirdPartyGPTsDisabled,{workspaceName:e})]})}function Lt({role:t,onPretendStandardUser:e}){const r=ie();return Is()?s.jsxs("div",{className:"h-52px flex w-full items-center justify-center gap-2 bg-gray-100 p-3 text-sm dark:bg-gray-700",children:[s.jsx(Ze,{className:"icon-sm"}),s.jsx(j,{id:"gizmo.discovery.browsingAsOwner",defaultMessage:"You're viewing as a <b>workspace member</b>",values:{b:i=>s.jsxs(Y.Root,{defaultValue:t,onValueChange:o=>{e(o===K.STANDARD)},children:[s.jsxs(Y.Trigger,{className:"-mx-2 -my-2 bg-transparent px-1 font-semibold",children:[s.jsx(fe,{disabled:t!==K.OWNER,label:r.formatMessage({id:"gizmo.discovery.browsingAsOwnerTooltip",defaultMessage:"Owners can access all third-party GPTs, even if they haven’t been approved."}),side:"bottom",triggerAs:null,children:s.jsx(Y.Value,{})}),s.jsx(Y.Icon,{})]}),s.jsx(Y.Portal,{children:s.jsxs(Y.Content,{children:[s.jsx(Y.Item,{value:K.OWNER,children:s.jsx(j,{id:"gizmo.discovery.browsingOwnerRole",defaultMessage:"workspace owner"})}),s.jsx(Y.Item,{value:K.STANDARD,children:s.jsx(j,{id:"gizmo.discovery.browsingMemberRole",defaultMessage:"workspace member"})})]})})]})}})]}):null}function De({isMobile:t=!1}){var f;const e=ye(),r=ge(),a=ie(),{canCreate:i,isLoading:o}=Ms(),d=X(),n=ke(d),c=(f=n==null?void 0:n.planType)!=null?f:"unknown",g=()=>{i?(A.logEvent("Store Create Gizmo"),r(e)):(A.logUpsellGetPlusButtonClicked({location:je,type:"create_gpt",plan_type:c}),Qe(r,"Gizmo Discovery page upsell"))};return s.jsx(s.Fragment,{children:s.jsxs(Vs,{className:D("z-30 flex w-full items-center justify-between whitespace-nowrap",t&&"ps-2 pe-0",!t&&"max-md:hidden"),children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"hidden md:flex",children:s.jsx(Zs,{clientThreadId:Ts})}),s.jsx("h1",{className:"px-2 text-lg font-normal select-none [text-box-trim:trim-both] [view-transition-name:var(--vt-tool-page-title)]",children:s.jsx(j,{id:"h8AzQb",defaultMessage:"Explore GPTs"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"hidden items-center gap-2 md:flex",children:[i&&s.jsx(V,{color:"ghost",onClick:()=>{r("/gpts/mine"),A.logEvent("Store My Gizmos")},children:s.jsx(j,k({},O.discoveryMyGPTs))}),s.jsx(_t,{canCreateGPTs:i,loadingPermissions:o,createUrl:e})]}),s.jsx("div",{className:"md:hidden",children:s.jsxs(Be,{contentAlign:"end",triggerButton:s.jsx(Ys,{"aria-label":a.formatMessage({id:"pdxBIm",defaultMessage:"Open actions menu"})}),children:[i&&s.jsx(me.Item,{onClick:()=>{r("/gpts/mine"),A.logEvent("Store My Gizmos")},children:s.jsx(j,k({},O.discoveryMyGPTs))}),s.jsx(me.Item,{onClick:g,children:s.jsx(j,k({},O.discoveryCreateGPT))})]})}),s.jsx("div",{className:"hidden md:block",children:s.jsx(Js,{})})]})]})})}const _t=({canCreateGPTs:t,loadingPermissions:e,createUrl:r})=>{var G;const[a,i]=y.useState(!1),o=y.useRef(void 0),d=_s(),n=X(),c=ke(n),g=c==null?void 0:c.isFree(),f=c==null?void 0:c.isWorkspaceAccount(),p=(G=c==null?void 0:c.planType)!=null?G:"unknown",h="create_gpt",l=()=>{t||(A.logPopoverHover({location:je,type:h,plan_type:p}),clearTimeout(o.current),i(!0))},x=()=>{t||(o.current=d(function(){i(!1)},300))},v=ge(),w=()=>{A.logUpsellGetPlusButtonClicked({location:je,type:h,plan_type:p}),Qe(v,"Gizmo Discovery page upsell")},u=t?()=>A.logEvent("Store Create Gizmo"):b=>b.preventDefault();return s.jsxs("div",{onMouseEnter:l,onMouseLeave:x,className:"screen-arch:flex screen-arch:items-center relative",children:[s.jsx(V,{color:"secondary",disabled:!t,visuallyDisabled:!t,onClick:u,as:"link",to:r,icon:Ke,"data-testid":"create-gpt-discovery-button",loading:e,children:s.jsx(j,k({},O.discoveryCreateGPT))}),!t&&a&&s.jsx("div",{className:"border-token-border-default bg-token-main-surface-primary screen-arch:top-12 absolute end-0 z-10 mt-2 w-64 rounded-lg border p-3 text-sm shadow-lg",children:g?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"from-token-text-tertiary mb-2 text-start font-normal break-words whitespace-normal",children:s.jsx(j,k({},O.createGPTUpsell))}),s.jsx(V,{color:"secondary",onClick:w,size:"small",children:s.jsx(j,k({},As(n)))})]}):f?s.jsx("p",{className:"from-token-text-tertiary mb-2 text-start font-normal break-words whitespace-normal",children:s.jsx(j,k({},O.createGPTDisabledByAdmin))}):null})]})},At=y.forwardRef(function({info:e,items:r,effectiveRole:a},i){return s.jsx(ts,{title:e.title,description:e.description,ref:i,children:s.jsx(ss,{children:r.map((o,d)=>s.jsx(Dt,{resource:o,effectiveRole:a},"".concat(d,"-").concat(o.gizmo.id)))})})});function Dt({resource:t,effectiveRole:e}){var i,o,d,n;const r=(i=t.gizmo.vanity_metrics)==null?void 0:i.num_conversations_str,a=((o=t.gizmo.tags)==null?void 0:o.includes(Z.WorkspaceDisabled))&&e!==K.OWNER;return s.jsx(re,{children:s.jsxs(es,{gizmo:t,className:D("group flex h-24 items-center gap-5 overflow-hidden rounded-xl bg-gray-50 px-7 py-8 hover:bg-gray-100 md:h-32 lg:h-36 dark:bg-gray-700 dark:hover:bg-white/10",a&&"opacity-50 hover:opacity-100"),onClick:()=>{A.logEvent("Store Click Gizmo",{gizmo_id:t.gizmo.id,section:"featured"})},children:[s.jsx(Ne,{isFirstParty:!!((d=t.gizmo.tags)!=null&&d.includes(Z.FirstParty)),src:(n=t.gizmo.display.profile_picture_url)!=null?n:void 0,className:D("h-16 w-16 shrink-0 md:h-24 md:w-24",a&&"grayscale group-hover:grayscale-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"line-clamp-2 font-semibold md:text-lg",children:t.gizmo.display.name}),s.jsx("span",{className:"line-clamp-2 text-xs md:line-clamp-3",children:t.gizmo.display.description}),s.jsxs("div",{className:"text-token-text-tertiary mt-1 line-clamp-1 flex justify-start gap-1 text-xs",children:[s.jsx(we,{gizmo:t,className:"text-xs",hideLink:!0}),r&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-[10px]",children:"•"}),s.jsx(ze,{className:"mt-0.5 h-3 w-3"}),r]})]})]})]})})}const Wt=y.forwardRef(function({info:e,items:r,cursor:a,anon:i,effectiveRole:o,useFetchMoreQuery:d},n){const[c,g]=y.useState(r.length===0),{data:f,hasNextPage:p,fetchNextPage:h,isFetchingNextPage:l,isError:x}=d({cutId:e.id,locale:e.locale,limit:6,cursor:a,enabled:c});y.useEffect(()=>{r.length===0&&h()},[h,r.length]);const[v,w]=y.useState(f.length),u=y.useRef(null),G=ms(.1);return y.useEffect(()=>{var b;f.length>v&&(w(f.length),(b=u.current)==null||b.scrollIntoView({behavior:"smooth",block:"nearest"}))},[f.length,v]),s.jsxs(ts,{title:e.title,description:e.description,ref:n,children:[s.jsxs(ss,{children:[r.map((b,P)=>s.jsx(We,{resource:b,rank:P+1,cutId:e.id,effectiveRole:o},P)),f.map((b,P)=>s.jsx(We,{resource:b,rank:r.length+P+1,cutId:e.id,delay:G(P-v,f.length-v),effectiveRole:o},P))]}),(!c||p||l||x)&&!i&&a!=null&&s.jsx(V,{color:x?"danger-outline":"secondary",onClick:()=>{g(!0),A.logEvent("Store Load More",{section:e.id}),h()},fullWidth:!0,className:"mt-2 md:mt-3",loading:l,children:x?s.jsx(j,k({},O.discoveryLoadMoreError)):s.jsx(j,k({},O.discoveryLoadMore))}),s.jsx("div",{ref:u})]})});function We({resource:t,rank:e,cutId:r,delay:a,effectiveRole:i}){var n,c;const o=((n=t.gizmo.tags)==null?void 0:n.includes(Z.WorkspaceDisabled))&&i!==K.OWNER,d=(c=t.gizmo.tags)==null?void 0:c.includes(Z.FirstParty);return s.jsx(re,{delay:a,children:s.jsxs(es,{gizmo:t,className:D("group hover:bg-token-main-surface-secondary flex h-[104px] items-center gap-2.5 overflow-hidden rounded-xl px-1 py-4 md:px-3 md:py-4 lg:px-3",o&&"opacity-50 hover:opacity-100"),onClick:()=>{A.logEvent("Store Click Gizmo",{gizmo_id:t.gizmo.id,position:e,section:d?"first_party":r})},children:[s.jsx("div",{className:"text-md flex w-8 shrink-0 items-center justify-center font-semibold",children:e}),s.jsx(Ks,{resource:t,grayedOut:o})]},t.gizmo.id)})}const ts=y.forwardRef(function({title:e,description:r,className:a,children:i},o){return s.jsxs("div",{ref:o,className:"h-fit scroll-mt-28 last:min-h-[calc(100vh-8rem)]",children:[s.jsxs(re,{animateTap:!1,children:[s.jsx("div",{className:"text-xl font-semibold md:text-2xl",children:e}),r&&s.jsx("div",{className:"text-token-text-tertiary text-sm md:text-base",children:r})]}),s.jsx("div",{className:D("mt-4 mb-10",a),children:i})]})}),O=ue({discoveryAllResultsHeader:{id:"gizmo.discovery.AllResultsHeader",defaultMessage:"All"},discoveryWorkspaceResultsHeader:{id:"gizmo.discovery.workspaceResultsHeaderName",defaultMessage:"{workspaceName} workspace"},discoveryEmpty:{id:"gizmo.discovery.empty",defaultMessage:"Nothing to discover"},discoveryNoResultsSearch:{id:"gizmo.discovery.search.empty",defaultMessage:"No results found"},discoveryError:{id:"gizmo.discovery.error",defaultMessage:"Error loading GPTs"},discoverySearch:{id:"gizmo.discovery.search",defaultMessage:"Search GPTs"},discoverySearchSmall:{id:"gizmo.discovery.searchSmall",defaultMessage:"Search"},discoverySearchRecentlyUsed:{id:"gizmo.discovery.search.recentlyUsed",defaultMessage:"Recently Used"},discoverySearchRecentlyUsedEmpty:{id:"gizmo.discovery.search.recentlyUsedEmpty",defaultMessage:"No recently used GPTs"},discoverySearchResults:{id:"gizmo.discovery.search.results",defaultMessage:"Search Results"},discoveryLoadMore:{id:"gizmo.discovery.loadMore",defaultMessage:"See more"},discoveryLoadMoreError:{id:"gizmo.discovery.loadMoreError",defaultMessage:"Error loading more"},discoveryMyGPTs:{id:"gizmo.discovery.myGPTs",defaultMessage:"My GPTs"},discoveryCreateGPT:{id:"gizmo.discovery.createGPT",defaultMessage:"Create"},discoveryThirdPartyGPTsDisabled:{id:"gizmo.discovery.thirdPartyGPTsDisabled",defaultMessage:"Your admin has blocked GPTs created outside {workspaceName}."},discoverySplashHeader:{id:"gizmo.discovery.splashHeader",defaultMessage:"GPTs"},discoverySplashDescription:{id:"gizmo.discovery.splashDescription",defaultMessage:"Discover and create custom versions of ChatGPT that combine instructions, extra knowledge, and any combination of skills."},discoveryGlobalViewOn:{id:"gizmo.discovery.globalViewOn",defaultMessage:"Global View On"},discoveryGlobalViewOff:{id:"gizmo.discovery.globalViewOff",defaultMessage:"Global View Off"},createdAgoLabel:{id:"gizmo.discovery.createdAgoLabel",defaultMessage:"Created {createdAgo}"},createGPTUpsell:{id:"gizmo.discovery.createGPTUpsell",defaultMessage:"Get ChatGPT Plus to create and share your own GPTs"},createGPTDisabledByAdmin:{id:"bOPXXW",defaultMessage:"Your admin has disabled the ability to create GPTs."},discoveryResidencyRestriction:{id:"gizmo.discovery.residencyRestriction",defaultMessage:"To comply with data residency requirements, only GPTs created within your workspace are accessible. All third-party GPTs are not available."},discoveryThirdPartyDisabled:{id:"gizmo.discovery.thirdPartyDisabled",defaultMessage:"Your admin has disabled all third-party GPTs. Only workspace GPTs are available."},discoveryThirdPartySpecific:{id:"gizmo.discovery.thirdPartySpecific",defaultMessage:"Your admin has disabled most third-party GPTs, except for specific ones that have been explicitly approved. Workspace GPTs are available."}});export{Yt as C,De as G,mt as a,Xt as b,ot as c,Vt as d,Kt as e,rt as f};
//# sourceMappingURL=fpayvvmhdp5pkskd.js.map

import{r as R,j as o}from"./jj85rqzpbnvv3emr.js";import{mp as u,e as g,dZ as tt,f as et,eJ as st,gK as nt}from"./lef5ym39glv4981l.js";import{me as rt,a4 as ot}from"./mclphevd122040jw.js";function it(t){const c=L(t,new WeakMap);try{return structuredClone(c)}catch(f){}return c}function L(t,e){if(t===null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="bigint")return t;if(typeof t=="symbol"||typeof t=="function"||typeof t>"u")return String(t);if(e.has(t))return e.get(t);try{return structuredClone(t)}catch(s){}const c=Object.prototype.toString.call(t);if(c==="[object Date]")return new Date(t.getTime());if(c==="[object RegExp]")return at(t);if(c==="[object ArrayBuffer]")return t.slice(0);if(c==="[object DataView]"){const s=t,n=L(s.buffer,e);try{return new DataView(n,s.byteOffset,s.byteLength)}catch(r){return String(t)}}if(ArrayBuffer.isView(t)&&!(t instanceof DataView))try{const s=t.constructor;if(typeof t.slice=="function")return t.slice();const n=new s(t.length);return n.set(t),n}catch(s){return String(t)}if(c==="[object Map]"){const s=new Map;e.set(t,s);for(const[n,r]of t)s.set(w(n,e),w(r,e));return s}if(c==="[object Set]"){const s=new Set;e.set(t,s);for(const n of t)s.add(w(n,e));return s}if(typeof Blob<"u"&&t instanceof Blob)try{return typeof File<"u"&&t instanceof File?new File([t],t.name,{type:t.type,lastModified:t.lastModified}):new Blob([t],{type:t.type})}catch(s){return String(t)}if(typeof URL<"u"&&t instanceof URL)try{return new URL(t.toString())}catch(s){return String(t)}if(typeof URLSearchParams<"u"&&t instanceof URLSearchParams)try{return new URLSearchParams(t.toString())}catch(s){return String(t)}if(t instanceof Error){const s=t;let n;try{const r=s.constructor;n=typeof r=="function"?new r(s.message):new Error(s.message)}catch(r){n=new Error(s.message)}if(n.name=s.name,typeof s.stack=="string"&&(n.stack=s.stack),"cause"in s)try{n.cause=w(s.cause,e)}catch(r){n.cause=String(s.cause)}for(const r of Object.keys(s))try{n[r]=w(s[r],e)}catch(l){n[r]=String(s[r])}return n}if(typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof WeakMap<"u"&&t instanceof WeakMap||typeof WeakSet<"u"&&t instanceof WeakSet)return String(t);if(Array.isArray(t)){const s=new Array(t.length);e.set(t,s);for(let n=0;n<t.length;n++)n in t&&(s[n]=w(t[n],e));return s}const f={};e.set(t,f);for(const s of Object.keys(t)){let n;try{n=t[s]}catch(r){n=String(r)}f[s]=w(n,e)}return f}function w(t,e){try{return structuredClone(t)}catch(c){}return L(t,e)}function at(t){const e=new RegExp(t.source,t.flags);return e.lastIndex=t.lastIndex,e}const _="ABORT",U="CALL",W="REJECT",k="RESOLVE";function m(t,e){const c=n=>{const r=n.data;if(Array.isArray(r)&&r[0]===U){n.stopImmediatePropagation();const[l]=n.ports;if(!l)throw new Error("RPCCallMessage must contains a port.");e?async function(){const p=new AbortController;try{l.onmessage=({data:i})=>Array.isArray(i)&&i[0]===_&&p.abort(),l.postMessage([k,await e.call({signal:p.signal},...r.slice(1))])}catch(i){if(i instanceof Error&&i.name==="DataCloneError")try{l.postMessage([k,await e.call({signal:p.signal},...it(r.slice(1)))]);return}catch(a){}l.postMessage([W,i])}finally{l.close()}}():(l.postMessage([W,new Error("No function was registered on this RPC. This is probably calling a client which do not implement the function.")]),l.close())}};t.addEventListener("message",c),t.start();const f=n=>(...r)=>new Promise((l,p)=>{var d;const{port1:i,port2:a}=new MessageChannel;i.onmessage=h=>{const y=h.data;y[0]===k?l(y[1]):p(y[1]),i.close()},(d=n==null?void 0:n.signal)==null||d.addEventListener("abort",()=>{i.postMessage([_]),i.close(),p(new Error("Aborted."))}),t.postMessage([U,...r],[a,...n.transfer||[]])}),s=f({});return s.withOptions=f,s}const G="GENERATOR_GENERATE";function $(t,e){const c=n=>{const r=n.data;if(Array.isArray(r)&&r[0]===G){if(n.stopImmediatePropagation(),!e)throw new Error("No function was registered on this RPC. This is probably calling a client which do not implement the function.");const[l,p,...i]=r,a=e(...i);m(p.next,a.next.bind(a)),m(p.return,d=>{var h;return((h=a.return)==null?void 0:h.call(a,d))||{done:!0}}),m(p.throw,d=>{var h;return((h=a.throw)==null?void 0:h.call(a,d))||Promise.reject(d)}),m(p.asyncDispose,async()=>{var y,b;const d=Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose"),h=Symbol.dispose||Symbol.for("Symbol.dispose");d in a?await((y=a[d])==null?void 0:y.call(a)):h in a&&((b=a[h])==null||b.call(a))})}};t.addEventListener("message",c),t.start();const f=n=>{let r;return(...l)=>{var I;const{port1:p,port2:i}=new MessageChannel,{port1:a,port2:d}=new MessageChannel,{port1:h,port2:y}=new MessageChannel,{port1:b,port2:O}=new MessageChannel,j={signal:n.signal},A=()=>{p.close(),i.close(),a.close(),d.close(),h.close(),y.close(),b.close(),O.close()},q=m(p).withOptions(j),Q=m(a).withOptions(j),Y=m(h).withOptions(j),V=m(b).withOptions(j);let N=!1;const P=async x=>{if(r==null||r(),N)return{done:!0};const B=await x();return B.done&&(N=!0,A()),B},v=async x=>{r==null||r(),await x(),N=!0,A(),r=()=>{throw new Error("This generator has been disposed.")}},T={next:x=>P(()=>Q(x)),return:x=>P(()=>Y(x)),throw:x=>P(()=>V(x)),[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")]:()=>v(()=>q()),[Symbol.asyncIterator]:()=>T};return t.postMessage([G,{asyncDispose:i,next:d,return:y,throw:O},...l],[...n.transfer||[],i,d,y,O]),(I=n.signal)==null||I.addEventListener("abort",()=>{r=()=>{throw new Error("This generator has been aborted.")},A()},{once:!0}),T}},s=f({});return s.withOptions=f,s}const mt=async(t,e,c=[])=>{const f=new Set(Object.keys(e).filter(p=>{var i,a;return((a=(i=e[p])==null?void 0:i.constructor)==null?void 0:a.name)==="AsyncGeneratorFunction"})),s={};for(const[p,i]of Object.entries(e)){const a=new MessageChannel;f.has(p)?$(a.port1,i):m(a.port1,i),s[p]=a.port2}const{ports:n,replyPort:r}=await new Promise(p=>{const i=a=>{a.data.type==="init"&&a.source&&a.source===t.contentWindow&&(window.removeEventListener("message",i),p(a.data))};window.addEventListener("message",i)});return r.postMessage(s,Object.values(s)),r.start(),Object.fromEntries(Object.entries(n).map(([p,i])=>[p,c.includes(p)?$(i):m(i)]))},ct="{{.sandboxHost}}",ft="https://".concat(ct),{origin:pt,protocol:gt}=new URL(ft),xt=[pt,"https://cdn.jsdelivr.net","https://cdn.tailwindcss.com","https://esm.sh","https://unpkg.com","https://pypi.org","https://files.pythonhosted.org"],S=t=>Array.isArray(t)||u(t)||t instanceof Map||t instanceof Set,C=t=>t==null||typeof t=="string"||typeof t=="number"||typeof t=="boolean",z=t=>u(t)?Object.entries(t):Array.from(t.entries()),F=t=>"".concat(typeof t,":").concat(typeof t=="object"?JSON.stringify(t):t),wt=({isPreview:t=!1,isInitialLevelExpanded:e=!1,value:c})=>{const[f,s]=R.useState(e);return C(c)?o.jsx(E,{value:c,depth:0}):S(c)?o.jsxs("span",{className:g("relative z-0 max-w-full font-mono text-sm leading-6",f&&"w-full flex-auto"),children:[o.jsxs("span",{role:"button",className:"group/row flex flex-wrap items-center gap-x-1 italic",onClick:()=>s(!f),children:[!t&&o.jsx(Z,{isExpanded:f}),o.jsx(X,{value:c,depth:0}),o.jsx(M,{value:c})]}),f&&!t&&o.jsx("div",{className:"ps-6",children:o.jsx(K,{value:c,depth:0})})]}):o.jsx("span",{className:"truncate",children:String(c)})},J=({value:t,depth:e=0})=>S(t)?o.jsx(K,{depth:e,value:t}):C(t)?o.jsx(E,{depth:e,value:t}):o.jsx("span",{className:"truncate",children:String(t)}),X=({value:t,depth:e=0})=>{const c=Array.isArray(t),f=z(t);return o.jsxs("div",{className:"inline-flex max-w-fit min-w-0 grow basis-0",children:[!u(t)&&o.jsx(D,{isShort:!0,isSecondary:!0,collection:t}),c?"[":"{",o.jsx("span",{className:"inline-flex max-w-fit min-w-0 shrink grow basis-0 overflow-hidden",children:f.map(([s,n],r)=>{let l=null;return S(n)?l=o.jsx(D,{collection:n}):C(n)?l=o.jsx(E,{truncate:!0,depth:e+1,value:n}):l=o.jsx(J,{depth:e+1,value:n}),o.jsxs(R.Fragment,{children:[(u(t)||t instanceof Map)&&o.jsx("span",{className:"text-token-text-secondary min-w-[2em] shrink truncate whitespace-pre",children:o.jsx(H,{value:t,propertyKey:s})}),l,r<f.length-1&&o.jsx("span",{className:"whitespace-pre",children:", "})]},F(s))})}),c?"]":"}"]})},K=({value:t,depth:e=0})=>{const[c,f]=R.useState(()=>new Set),s=z(t);return o.jsx("ol",{className:"flex flex-col ps-6 font-mono",children:s.map(([n,r])=>{const l=F(n),p=c.has(l),i=S(r),a=()=>{f(d=>{const h=new Set(d);return h.has(l)?h.delete(l):h.add(l),h})};return o.jsxs("li",{className:g("flex ps-1 whitespace-nowrap",i&&"flex-col",!i&&"group/row flex-wrap"),onClick:d=>d.stopPropagation(),children:[o.jsxs("span",{onClick:i?a:void 0,role:i?"button":void 0,className:g("group/row z-10 -ms-1 min-w-0 items-center gap-x-1",i?"flex":"inline-flex"),children:[i&&o.jsxs(o.Fragment,{children:[o.jsx(lt,{}),o.jsx(Z,{shiftLeft:!0,isExpanded:p})]}),o.jsx("span",{className:g("font-bold",(u(t)||Array.isArray(t))&&"text-red-900 dark:text-blue-400"),children:o.jsx(H,{value:t,propertyKey:n})}),i&&!p&&o.jsx(X,{value:r,depth:e+1}),i&&p&&o.jsx(D,{isSecondary:!0,collection:r}),i&&o.jsx(M,{value:r})]}),(!i||p)&&o.jsx(J,{value:r,depth:e+1}),(typeof r=="string"||typeof r=="number")&&o.jsx(M,{value:r})]},l)})})},E=({value:t,truncate:e=!1})=>typeof t=="string"?o.jsxs("span",{className:g("dark:text-blue-75 text-red-500",e&&"max-w-fit min-w-[2em] shrink-0 grow basis-0 overflow-hidden text-ellipsis whitespace-nowrap",!e&&"break-words break-all whitespace-normal"),children:["'",t,"'"]}):o.jsx("span",{className:g("whitespace-nowrap",t==null?"text-token-text-secondary":"dark:text-brand-purple-600 text-blue-500"),children:String(t)}),lt=()=>o.jsx("span",{className:"absolute start-0 end-0 z-[-1] h-6 rounded-md group-hover/row:bg-gray-50 dark:group-hover/row:bg-gray-700"}),D=({collection:t,isSecondary:e=!1,isShort:c=!1})=>{let f=null;return Array.isArray(t)&&t.length>0?f=c?"(".concat(t.length,")"):"Array(".concat(t.length,")"):t instanceof Set?f="Set(".concat(t.size,")"):t instanceof Map?f="Map(".concat(t.size,")"):u(t)&&(f="{â€¦}"),f&&o.jsx("span",{className:g(e&&"text-token-text-secondary"),children:f})},H=({value:t,propertyKey:e})=>u(t)||Array.isArray(t)?"".concat(st(e),": "):t instanceof Map?o.jsxs("span",{className:"inline-flex items-center gap-1",children:[C(e)?o.jsx(E,{value:e,depth:0}):o.jsx("span",{className:"text-token-text-secondary",children:JSON.stringify(e)}),o.jsx(nt,{className:"icon-sm text-token-text-secondary"})]}):null,Z=({isExpanded:t,shiftLeft:e=!1})=>o.jsx("button",{className:g("flex h-5 shrink-0 items-center overflow-hidden",e&&"ms-[-16px]"),children:o.jsx(tt,{className:g("icon-sm text-token-text-secondary transition-transform",t&&"rotate-90")})}),M=({value:t})=>{const e=et(),c=()=>{ot(JSON.stringify(t),e)};return o.jsx("span",{className:g("text-token-text-secondary relative inline-block h-4 self-center opacity-0 transition-opacity","group-hover/row:opacity-100 group-hover/row:delay-500","hover:after:bg-token-main-surface-tertiary after:pointer-events-none after:absolute after:inset-[-4px] after:z-0 after:rounded-lg after:content-['']"),children:o.jsx(rt,{iconClassName:"icon-sm z-10",iconOnly:!0,onCopy:c})})};export{pt as C,wt as L,gt as a,xt as b,ft as c,mt as i};
//# sourceMappingURL=zta1pq4ds1hak11y.js.map

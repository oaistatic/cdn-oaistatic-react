var z=Object.defineProperty,H=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var L=(t,a,s)=>a in t?z(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,o=(t,a)=>{for(var s in a||(a={}))Y.call(a,s)&&L(t,s,a[s]);if(D)for(var s of D(a))V.call(a,s)&&L(t,s,a[s]);return t},T=(t,a)=>H(t,X(a));import{b as h,j as e,M as c,d as A,r as l,i as I,u as $,g as F,A as q,s as K,m as Q}from"./jj85rqzpbnvv3emr.js";import{aE as k,nR as J,f as R,b as Z,P as m,B as x,z as W,i as ee,a9 as ae,dV as te,q as se,eo as ne}from"./lef5ym39glv4981l.js";import{S as b,c as oe,P as G,a as O,b as ie}from"./eidlgl3d7n00b8fn.js";import{g1 as re,ga as ce,f_ as le,ai as de,jU as ue}from"./mclphevd122040jw.js";import{A as me}from"./jgexukwtrnsycyko.js";import{I as pe}from"./cfjmhsr8xf6xwmmf.js";import{u as ge,m as fe}from"./mej2ctt6swvc1m1z.js";import{G as xe}from"./ox4t38w0o8phwghu.js";function he({workspaceName:t,onChangeWorkspaceName:a,showHeader:s=!0}){const n=h();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(c,o({},E.workspaceNameLabel))}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(c,o({},E.workspaceNameDescription))})]}),e.jsx(pe,{className:"w-full",type:"text",name:"workspace-name",placeholder:n.formatMessage(E.exampleTeamWorkspaceName),value:t,onChange:i=>a(i.target.value),maxLength:64})]})}const E=A({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Set a workspace name for your team. The name can be changed at any time."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}});function je({onNext:t}){const a=k();return a?e.jsx(ve,{onNext:t,currentAccount:a}):e.jsx(J,{})}function ve({onNext:t,currentAccount:a}){const s=h(),n=R(),i=Z(),d=a.data,j=re(s,a,i),[r,y]=l.useState(j||""),[w]=I(),f=w.get("account_id"),v=ge(f!=null?f:a.data.id),P=l.useCallback(async()=>{if(!a)return;const p=a.subscriptionAnalyticsParams;m.logEvent("Account Pay: Create Workspace Modal Clicked",p);try{r!==d.name&&(await v.mutateAsync({name:r}),m.logEvent("Account Pay: Create Workspace Modal Renamed",p)),t()}catch(g){n.warning(s.formatMessage(fe.saveError),{hasCloseButton:!0})}},[a,d.name,s,t,v,n,r]);return l.useEffect(()=>{if(!a)return;const p=a.subscriptionAnalyticsParams;m.logEvent("Account Pay: Create Workspace Modal Show",p)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(c,o({},ce.nameWorkspace))}),e.jsx(oe,{children:e.jsx(he,{workspaceName:r,onChangeWorkspaceName:y,showHeader:!1})}),e.jsx(x,{loading:v.isPending||a==null,onClick:()=>{P()},disabled:r.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(c,o({},W.continueButtonText))})]})}var B=(t=>(t.Landing="landing",t.Setup="setup",t.Naming="naming",t.Invite="invite",t.CAOnboarding="caOnboarding",t.Complete="complete",t))(B||{});const Se={enter:t=>({translateX:t>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:t=>({translateX:t<=0?"50%":"-50%",opacity:0})},C=["landing","naming","invite","caOnboarding","complete"];function ke(){const t=$(),a=F(),{currentPath:s,currentStep:n}=we(),i=ee(),d=h(),j=R(),[r,y]=l.useState(1),[w]=I(),f=w.get("account_id"),v=ae(i,"2239990662");function P(){v.get("should_hard_navigate_to_root_path_for_team",!1)?window.location.href="/":a("/")}l.useEffect(()=>{function g(){y(-1)}return window.addEventListener("popstate",g),()=>{window.removeEventListener("popstate",g)}},[]);const p=()=>{y(1);let g=C.indexOf(n);const N=C[g+1],_=N==="caOnboarding"?se(i,"555825174").get("enabled",!1):!1;N==="caOnboarding"&&m.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:f,experimentFlag:_}),N==="caOnboarding"&&!_&&g++;const U=g+1;f||P(),g!==-1&&U<C.length&&a(s+"#"+C[U])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(q,{mode:"wait",custom:r,children:[n==="landing"&&e.jsx(S,{initial:!1,custom:r,children:e.jsx(be,{onNext:p})},"landing"),n==="naming"&&e.jsx(S,{initial:!1,custom:r,children:e.jsx(je,{onNext:p})},"naming"),n==="invite"&&e.jsx(S,{custom:r,children:e.jsx(ye,{onNext:p})},"invite"),n==="caOnboarding"&&e.jsx(S,{custom:r,children:e.jsx(Ce,{onNext:p})},"caOnboarding"),n==="complete"&&e.jsx(S,{custom:r,children:e.jsx(Me,{onNext:()=>{p(),f&&te(t,f,i,d,j),P()}})},"complete")]})})}const S=t=>e.jsx(Q.div,o({initial:"enter",animate:"center",exit:"exit",variants:Se,transition:{translateX:{type:"just"},opacity:{duration:.2}}},t));function be({onNext:t}){const a=k(),s=l.useCallback(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,d=new URLSearchParams(window.location.search).get("referrer")||document.referrer;m.logEvent("Account Pay: Payment Confirmation Modal Clicked",T(o({},n),{referrer:d}))},[a]);return l.useEffect(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,d=new URLSearchParams(window.location.search).get("referrer")||document.referrer;m.logEvent("Account Pay: Payment Confirmation Modal Show",T(o({},n),{referrer:d}))},[a]),e.jsxs(e.Fragment,{children:[e.jsx(G,{isTrial:!1}),e.jsx(b,{children:e.jsx(c,o({},u.standard))}),e.jsx(O,{children:e.jsx(c,o({},u.description))}),e.jsx(x,{onClick:()=>{t(),s()},size:"large",loading:a==null,fullWidth:!0,children:e.jsx(c,o({},W.continueButtonText))})]})}function ye({onNext:t}){const a=h(),s=k(),{data:n}=de(),i=l.useMemo(()=>s==null?void 0:s.subscriptionAnalyticsParams,[s]);return l.useEffect(()=>{s!=null&&m.logEvent("Account Pay: Invite Collaborators Modal Show",i)},[i,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(c,T(o({},u.inviteTitle),{values:{seatCount:n.seats_entitled,workspaceName:s.data.name}}))}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(c,o({},u.completeDescription))}),e.jsx(me,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:a.formatMessage(u.skipAddMembers),onCancel:t,onSuccess:t,seatCount:n.seats_entitled})]})}const Pe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",Te="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function Ce({onNext:t}){const a=h(),s=k(),[n,i]=l.useState(!1),[d,j]=l.useState(!1);return l.useEffect(()=>{if(!s)return;const r=s.subscriptionAnalyticsParams;m.logEvent("Account Pay: Contextual Answers Step Shown",r)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-max-[384px] h-max-[170px] relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:Pe,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>j(!0)}),!d&&e.jsx("img",{src:Te,alt:a.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:a.formatMessage(u.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:a.formatMessage(u.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(x,{onClick:()=>i(!0),icon:ne,size:"large",fullWidth:!0,children:a.formatMessage(u.caOnboardingConnectButton)}),e.jsx(x,{onClick:()=>t(),size:"large",fullWidth:!0,color:"ghost",children:a.formatMessage(u.skipCaOnboarding)})]}),n&&e.jsx(xe,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:r=>{i(!1),r&&t()}})]})}function Me({onNext:t}){const a=k(),s=l.useMemo(()=>a==null?void 0:a.subscriptionAnalyticsParams,[a]);l.useEffect(()=>{m.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{m.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(c,o({},u.completeTitle))}),e.jsx(O,{children:e.jsx(c,o({},u.completeDescription))}),e.jsx(x,{onClick:()=>{t(),n()},size:"large",fullWidth:!0,children:e.jsx(c,o({},u.continueToChatgpt))})]})}function we(){const{hash:t,pathname:a,search:s}=K(),n=t.slice(1);return{currentStep:Ne(n)?n:"landing",currentPath:a+s}}const Ne=le(B),u=A({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function Re({isTrial:t,isTeam:a}){const s=h(),n=F(),i=l.useCallback(d=>{d.preventDefault(),m.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs(ie,{children:[e.jsx(ue,{children:e.jsx("title",{children:s.formatMessage(M.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:a?e.jsx(ke,{}):e.jsx(Ee,{isTrial:t,onContinue:i})})]})}function Ee({isTrial:t,onContinue:a}){const s=t?M.trial:M.standard;return e.jsxs(e.Fragment,{children:[e.jsx(G,{isTrial:!!t}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(b,{children:e.jsx(c,o({},s))}),e.jsx(O,{children:e.jsx(c,o({},M.paymentReceived))}),e.jsx(x,{onClick:a,size:"large",fullWidth:!0,children:e.jsx(c,o({},W.continueButtonText))})]})]})}const M=A({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{Re as P};
//# sourceMappingURL=wycvggppgal926if.js.map

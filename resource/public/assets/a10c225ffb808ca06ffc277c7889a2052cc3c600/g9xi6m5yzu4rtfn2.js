var D=Object.defineProperty;var S=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var _=(s,r,t)=>r in s?D(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,p=(s,r)=>{for(var t in r||(r={}))M.call(r,t)&&_(s,t,r[t]);if(S)for(var t of S(r))A.call(r,t)&&_(s,t,r[t]);return s};import{j as e,m as o,d as I,r as d,M as u}from"./jj85rqzpbnvv3emr.js";import{e as h,hA as P,gE as T,T as H,P as k,bK as V}from"./lef5ym39glv4981l.js";import{jK as F,eI as q,eJ as a,h2 as x,gl as B,n3 as G}from"./mclphevd122040jw.js";import{i as K}from"./ns51nblw8ziscsgd.js";import{N as U}from"./nfygy4vif6crzpny.js";import{u as W}from"./lbaueofbjv8jfqwm.js";const rs=({gap:s,padding:r=4,size:t=3})=>e.jsx(o.div,{className:h("grid h-full max-w-full flex-1 grid-cols-3 items-center"),style:{gap:s,padding:r},children:F(3,i=>e.jsx(o.div,{className:"dark:bg-white-400 aspect-square rounded-full bg-gray-400",animate:{translateY:["0%","-50%","0%","0%","0%"]},style:{translateX:.5,width:t,height:t},transition:{repeat:1/0,type:"keyframes",delay:i/10,duration:.7}},i))});var N=(s=>(s.javascript="javascript",s.typescript="typescript",s.bash="bash",s.zsh="zsh",s.html="html",s.css="css",s.python="python",s.json="json",s.sql="sql",s.go="go",s.yaml="yaml",s.java="java",s.rust="rust",s.cpp="cpp",s.swift="swift",s.php="php",s.xml="xml",s.ruby="ruby",s.haskell="haskell",s.kotlin="kotlin",s.csharp="csharp",s.c="c",s.objectivec="objectivec",s.r="r",s.lua="lua",s.dart="dart",s.scala="scala",s.perl="perl",s.commonlisp="commonlisp",s.clojure="clojure",s.ocaml="ocaml",s.powershell="powershell",s.verilog="verilog",s.dockerfile="dockerfile",s.vue="vue",s.other="other",s))(N||{});function J(s){if(q(s))switch(s){case a.CODE_REACT:return"typescript";default:return P(s.replace(/^code\//,""),Object.values(N),"other")}}function O(s){return s.includes("'react'")||s.includes('"react"')}function es(s,r){switch(s){case a.CODE_HTML:case a.CODE_REACT:return!0;case a.CODE_JAVASCRIPT:case a.CODE_TYPESCRIPT:return O(r);default:return!1}}function is(s){return T([a.CODE_PYTHON],s)}function as(s,r){var i;let t=(i=J(s))!=null?i:null;return(O(r)||s===a.CODE_REACT)&&(t="react"),t&&K(t)?t:null}const X=36,ns=-24,Y=280,ls=Y+X,os=40;var z=(s=>(s.COLLAPSED="collapsed",s.EXPANDED="expanded",s))(z||{});function ps({isDisabled:s=!1,isCodePreviewable:r=!1,isCodeRunning:t,disabledTooltip:i,clientThreadId:f,onClick:c}){const[m,v]=d.useState(t),[{width:n},R]=W();d.useEffect(()=>{let j=null;return!t||r?v(t):(j=setTimeout(()=>{v(t)},200),()=>clearTimeout(j))},[t,r]);const b=()=>({conversation_id:f?V(f):void 0}),w=()=>{k.logEventWithStatsig("Canvas Run Code Button Clicked","chatgpt_canvas_run_code_button_clicked",b()),setTimeout(()=>c==null?void 0:c())},y=e.jsx(o.button,{disabled:s||t&&!m,onClick:w,className:h("btn btn-primary ms-1 rounded-full sm:min-w-28",m?h(U,"border-transparent"):"hover:bg-opacity-90"),animate:{width:n!=null?n:0},initial:{width:n!=null?n:0},transition:{type:"spring",bounce:.24,duration:.4},children:e.jsx("div",{ref:R,children:m?e.jsxs(o.div,{className:"flex items-center gap-1.5 ps-1 pe-1 sm:ps-2 sm:pe-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsx(x,{className:"icon"}),e.jsx("span",{className:"hidden sm:inline",children:e.jsx(u,p({},l.stopCode))})]}):e.jsxs(o.div,{className:"flex items-center gap-1.5 ps-1 pe-1 sm:ps-2 sm:pe-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsx(B,{className:"icon"}),e.jsx("span",{className:"hidden whitespace-nowrap sm:inline",children:e.jsx(u,p({},r?l.previewCode:l.runCode))})]})})}),E=s&&i?i:t?null:e.jsx(u,p({},r?l.previewCodeTooltip:l.runCodeTooltip));return E?e.jsx(H,{label:E,children:y}):y}const l=I({previewCode:{id:"M1TBxe",defaultMessage:"Preview"},runCode:{id:"LiKr5n",defaultMessage:"Run code"},stopCode:{id:"nCwG4+",defaultMessage:"Stop"},runCodeTooltip:{id:"UeNB/S",defaultMessage:"See output and debug"},previewCodeTooltip:{id:"/qJKMH",defaultMessage:"Preview in canvas"}});class Q{constructor(r){this.params=r}get isReadonly(){return Object.values(this.params).some(r=>!!r)}get isHistoricalVersion(){return!!this.params.isHistoricalVersion}get isStreaming(){return!!this.params.isTextdocStreaming||!!this.params.isRequestActive}get isTextdocStreaming(){return!!this.params.isTextdocStreaming}get isStreamingFromNative(){return this.isStreaming&&this.params.streamingSource===G.NATIVE}get isRestoring(){return!!this.params.isRestoring}get isShowingChanges(){return!!this.params.isShowingChanges}get isReadonlyFromQueryParam(){return!!this.params.isReadonlyFromQueryParam}}const cs=s=>new Q(s);export{os as C,Y as E,z as G,rs as T,cs as a,J as b,ls as c,is as d,ps as e,N as f,as as g,X as h,es as i,ns as j,l as m};
//# sourceMappingURL=g9xi6m5yzu4rtfn2.js.map

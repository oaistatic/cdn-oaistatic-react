const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mclphevd122040jw.js","assets/jj85rqzpbnvv3emr.js","assets/lef5ym39glv4981l.js","assets/root-ogjlcpyy.css","assets/conversation-small-g7l5datj.css","assets/dvf8g0gnxj4wljvn.js","assets/jucwzbakxra299c6.js","assets/g2ai8r9l01vd7cnd.js","assets/op3gurrbylc7rzc2.js","assets/unxkrwgznbe8ggl6.js"])))=>i.map(i=>d[i]);
var ft=Object.defineProperty,ht=Object.defineProperties;var Mt=Object.getOwnPropertyDescriptors;var Fe=Object.getOwnPropertySymbols;var bt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var Ge=(t,e,s)=>e in t?ft(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,b=(t,e)=>{for(var s in e||(e={}))bt.call(e,s)&&Ge(t,s,e[s]);if(Fe)for(var s of Fe(e))St.call(e,s)&&Ge(t,s,e[s]);return t},I=(t,e)=>ht(t,Mt(e));import{i as ot,aa as kt,ac as Ct,bx as xt,B as ze,ae as qe,P as V,an as $e,C as st,ex as F,ey as G,a9 as At,d as Z,h as at,dC as Ot,op as yt,on as Nt,cj as vt,a as wt,c as Lt,b as Dt,aG as _t,j as Wt,om as Bt,j5 as Pt,oN as It,dA as Et,ej as Y,dF as He,oO as X,j6 as Tt,ai as Rt}from"./lef5ym39glv4981l.js";import{c as Ut,d as J,r as u,j as n,m as Qe,M as E,A as jt,s as Ye,b as Vt}from"./jj85rqzpbnvv3emr.js";import{dR as nt,b_ as Ft,b$ as Gt,c1 as zt,c0 as Xe,c2 as qt,dS as $t,dT as Ht,c8 as Qt,b5 as Yt,dU as Xt,dV as Zt,dW as Jt,dX as Kt,dY as eo,dZ as to,d_ as oo,d$ as so,e0 as ao,e1 as no,aX as io,e2 as lo,e3 as ro,e4 as co,e5 as uo,e6 as go,e7 as mo,e8 as po,e9 as fo,ea as ho,eb as Mo,ec as bo,cY as So,ed as ko,cI as Co,ee as xo,ef as Ao,eg as Oo,eh as yo,ei as No,ej as vo,ek as wo,el as Lo,em as Do,a$ as _o,en as Wo,eo as Bo,ep as Po,eq as Io,er as Eo,es as To,et as Ro,eu as Uo,ev as jo,ew as Vo,ex as Fo,ey as Go,ez as zo,eA as qo,P as Ze,a7 as it,eB as $o,eC as Je}from"./mclphevd122040jw.js";import{g as Ke}from"./jxokrjy8ycftw0wv.js";const Ho=t=>{"use forget";const e=Ut.c(32),{onClose:s}=t,i=ot(),O=kt(),S=Ct(D.signUpCta),_=O?"center":"bottom",{isOpen:l,onClose:r}=nt();let k;e[0]===Symbol.for("react.memo_cache_sentinel")?(k=xt(),e[0]=k):k=e[0];const f=k,[A,W]=u.useState(!1),y=Ft();let N,C;e[1]!==l?(N=()=>{if(l){if(f){const p=setTimeout(()=>W(!0),3e3);return()=>clearTimeout(p)}W(!0)}else W(!1)},C=[l,f],e[1]=l,e[2]=N,e[3]=C):(N=e[2],C=e[3]),u.useEffect(N,C);let v,w;e[4]!==l?(v=()=>{l&&(V.logEvent("No Auth Welcome Back Modal Shown"),$e.logEvent("chatgpt_no_auth_welcome_back_modal_shown"))},w=[l],e[4]=l,e[5]=v,e[6]=w):(v=e[5],w=e[6]),u.useEffect(v,w);const{user:z}=Gt(),c=!!z&&y!==Xe.control;if(!A)return null;let x;e[7]!==i||e[8]!==s?(x=p=>{s(),qt(i,p)},e[7]=i,e[8]=s,e[9]=x):x=e[9];const L=x,B=c?" ":null;let h;e[10]!==s||e[11]!==r?(h=()=>{s(),r==null||r()},e[10]=s,e[11]=r,e[12]=h):h=e[12];let M;e[13]!==c||e[14]!==y||e[15]!==L?(M=c&&n.jsx(Qe.div,I(b({},Ke),{children:n.jsx(zt,{onSwitchToGenericLoginOrSignup:L,isSsoOptionsVisible:y===Xe.ssoExpanded,title:D.title2.defaultMessage})}),"log-back"),e[13]=c,e[14]=y,e[15]=L,e[16]=M):M=e[16];let o;e[17]!==i||e[18]!==c||e[19]!==s||e[20]!==r||e[21]!==S?(o=!c&&n.jsx(Qe.div,I(b({},Ke),{children:n.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[n.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:n.jsx(E,b({},f?et.title:D.title))}),n.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:n.jsx(E,b({},f?et.subtitle:D.subtitle))}),n.jsx(ze,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"".concat(f?"":"mb-2 sm:mb-3"),"data-testid":"welcome-login-button",onClick:()=>{qe(i,{fallbackScreenHint:"login",callback:Qo})},children:n.jsx(E,b({},D.logInCta))}),!f&&n.jsx(ze,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{qe(i,{fallbackScreenHint:"signup",callback:Yo})},children:n.jsx(E,b({},S))}),!f&&n.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:p=>{p.preventDefault(),V.logEvent("No Auth Welcome Modal Stay Logged Out Link Clicked"),$e.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),s(),r==null||r()},"data-testid":"dismiss-welcome",children:n.jsx(E,b({},D.stayLoggedOutLink))})]})}),"control"),e[17]=i,e[18]=c,e[19]=s,e[20]=r,e[21]=S,e[22]=o):o=e[22];let g;e[23]!==o||e[24]!==M?(g=n.jsxs(jt,{mode:"wait",initial:!1,children:[M,o]}),e[23]=o,e[24]=M,e[25]=g):g=e[25];let m;return e[26]!==c||e[27]!==_||e[28]!==g||e[29]!==B||e[30]!==h?(m=n.jsx(st,{testId:"modal-no-auth-welcome-back",isOpen:!0,title:B,onClose:h,shouldIgnoreClickOutside:!0,showCloseButton:c,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:_,children:g}),e[26]=c,e[27]=_,e[28]=g,e[29]=B,e[30]=h,e[31]=m):m=e[31],m},D=J({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"NoAuthWelcomeBackModal.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},title2:{id:"NoAuthWelcomeBackModal.title2",defaultMessage:"Log back in"},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),et=J({title:{id:"NoAuthWelcomeBackModal.Desktop.title",defaultMessage:"Restoring your session"},subtitle:{id:"NoAuthWelcomeBackModal.Desktop.subtitle",defaultMessage:"Youâ€™ll be logged back in automatically. If not, you can log in below."}});function Qo(t){V.logLogInButtonClicked({provider:t,location:"No Auth Welcome Back Modal"})}function Yo(t){V.logSignUpButtonClicked({provider:t,location:"No Auth Welcome Back Modal"})}const Xo=F(()=>G(()=>import("./mclphevd122040jw.js").then(t=>t.DY),__vite__mapDeps([0,1,2,3,4])).then(t=>t.WorkspaceDiscoveryRenamePromptModal)),Zo=F(()=>G(()=>import("./dvf8g0gnxj4wljvn.js"),__vite__mapDeps([5,1,0,2,3,4,6,7]))),Jo=F(()=>G(()=>import("./op3gurrbylc7rzc2.js"),__vite__mapDeps([8,1,0,2,3,4,6,7]))),Ko=F(()=>G(()=>import("./unxkrwgznbe8ggl6.js"),__vite__mapDeps([9,1,2,3])).then(t=>t.RequestWorkspaceAccessModal)),es=({onClose:t})=>{const e=Vt(),s=Z(at.isBusinessWorkspace),i=Z(S=>S.currentWorkspace),O=s?e.formatMessage(tt.workspaceWelcome,{workspaceName:i==null?void 0:i.name}):"ChatGPT";return n.jsx(st,{testId:"modal-onboarding",isOpen:!0,onClose:Rt,type:"success",title:O,size:"custom",noPadding:!0,className:"max-w-3xl",description:e.formatMessage(tt.personalOnboardingSubheading),children:n.jsx($o,{onClose:t,scope:s?Je.Workspace:Je.Personal})})},ts=({onClose:t})=>{const e=Tt.useStore();return u.useEffect(()=>(e.setOnCloseSideEffect(t),e.setManualVisibility(!0),()=>{e.setManualVisibility(!1)}),[t,e]),null};function os(t){return n.jsx(it,I(b({},t),{mode:"blocking",section:"both",source:"first_login"}))}function ss(t){return n.jsx(it,I(b({},t),{mode:"blocking",section:"existing",source:"should_select_workspace"}))}function cs({clientThreadId:t,page:e,isIosDirectPurchaseFlow:s}){const i=ot(),[O,S]=u.useState(0),_=At(i,"109457"),{hasSeenOnboardingDate:l}=$t(),r=l===!1&&_.get("is_new_user_banner_disclaimer_enabled",!1),{hasSeenWorkspaceDiscoveryFirstLoginDate:k}=Ht(),{hasSeenTeamOwnerOnboardingDate:f}=Qt(),A=Z(at.isBusinessWorkspace),[W,y]=u.useState(!1),N=Ye(),C=Ot(N),{data:v,isPending:w,isEnabled:z}=Yt(),c=Xt(v,w&&z),x=yt(),L=Nt(),[B,h]=vt(t,a=>[!a||a.isLoading,a==null?void 0:a.conversationOrigin]),M=B&&!!t,{data:o,isError:g}=wt(),m=Lt(o),p=o!=null,K=Zt(15),[P,lt]=u.useState(!1);u.useEffect(()=>{K&&!P&&lt(!0)},[K,P]);const ee=Jt(),q=Dt(),te=(q==null?void 0:q.email_domain_type)==="professional",rt=!!(o!=null&&o.accountItems.some(a=>a.isEnterprisey())),T=te&&!rt&&_t(i).getLayer("3217430380").get("enable_workspace_discovery",!1),ct=!!(te&&k===!1&&T&&P),{data:R,isLoading:oe}=Kt(ct),se=!!(o&&(o==null?void 0:o.accountItems.length)>1&&o.currentAccountId==null),ae=o==null?void 0:o.accountItems.some(a=>a.isPersonalAccount()),ne=!!(o!=null&&o.accountItems)&&o.accountItems.length>0&&o.accountItems.every(({canAccessWithCurrentSession:a})=>!a),{eligible:ie,isLoading:le}=eo(),re=Wt(i,"1542198993"),{punchOutRequireLoginInfo:ce}=to(),{state:de}=oo(),{isOpen:ue}=so(),{isOpen:ge}=ao(),{isOpen:me,isLoading:pe}=no(o==null?void 0:o.currentAccountId),{isOpen:fe,isLoading:he}=io(),{isOpen:Me,isLoading:be}=lo(),{isOpen:Se,isLoading:ke}=ro(),{isOpen:Ce,isLoading:xe}=co(),{isOpen:Ae,isLoading:Oe}=nt(),{isOpen:ye}=Bt(),{state:Ne}=uo(),ve=go(),we=mo(),Le=po(),De=fo(),_e="hide",We=ho(),Be=Mo(),{isOpen:Pe,isLoading:Ie}=bo(),{isOpen:dt}=So(),{isOpen:ut}=ko(),{isOpen:gt}=Co(),{isOpen:Ee,open:Te}=xo(),{shouldShowCookieBanner:Re,isCookieConsentBannerLoading:Ue}=Pt();u.useEffect(()=>{r&&!A&&!C&&!Ee&&Te()},[r,A,Ee,C,Te]);const $=u.useMemo(()=>[{Component:Ao,visibility:["chat","codex"],getModalState:()=>ce?"show":"hide",isDeferrable:!1},{Component:Oo,visibility:["chat","codex"],getModalState:()=>de,isDeferrable:!1},{Component:yo,visibility:["chat"],getModalState:()=>Ne,isDeferrable:!1},{Component:Xo,visibility:["chat","codex"],getModalState:()=>pe?"loading":me?"show":"hide",isDeferrable:!1},{Component:os,visibility:["chat","codex"],getModalState:()=>{var d,Q;return!T||x!=null||k||g?"hide":k==null||oe?"loading":((Q=(d=R==null?void 0:R.workspaces)==null?void 0:d.length)!=null?Q:0)>0&&P?"show":"hide"},isDeferrable:!1},{Component:T?ss:No,visibility:["chat","codex"],getModalState:()=>x!=null||g?"hide":p?se?"show":"hide":"loading",isDeferrable:!1},{Component:vo,visibility:["codex"],getModalState:()=>ee,isDeferrable:!1},{Component:wo,visibility:["chat"],getModalState:()=>Ie?"loading":Pe?"show":"hide",isDeferrable:!1},{Component:Lo,visibility:["chat"],getModalState:()=>ue?"show":"hide",isDeferrable:!1},{Component:Do,visibility:["chat"],getModalState:()=>ve,isDeferrable:!0},{Component:_o,visibility:["chat"],getModalState:()=>he||M?"loading":h===X.APPLE?"hide":fe?"show":"hide",isDeferrable:!0},{Component:It,visibility:["chat"],getModalState:()=>M?"loading":h===X.APPLE?"hide":ye?"show":"hide",isDeferrable:!0},{Component:Ho,visibility:["chat"],getModalState:()=>Oe||M?"loading":h===X.APPLE?"hide":Ae?"show":"hide",isDeferrable:!0},{Component:ts,visibility:["chat","codex"],getModalState:()=>Ue?"loading":Re?"show":"hide",isDeferrable:!1},{Component:es,visibility:["chat"],getModalState:()=>A||r||C?"hide":l===null?"loading":l===!1?"show":"hide",isDeferrable:!0},{Component:Ko,visibility:["chat","codex"],getModalState:()=>x!==null?"show":g||p?"hide":"loading",isDeferrable:!1},{Component:Zo,visibility:["chat","codex"],getModalState:()=>L!=null?"show":g||p?"hide":"loading",isDeferrable:!1},{Component:Wo,visibility:["chat","codex"],getModalState:()=>p?ne?"show":"hide":"loading",isDeferrable:!1},{Component:Bo,visibility:["chat","codex"],getModalState:()=>be?"loading":Me?"show":"hide",isDeferrable:!1},{Component:Po,visibility:["chat","codex"],getModalState:()=>ke?"loading":Se?"show":"hide",isDeferrable:!1},{Component:Io,visibility:["chat","codex"],getModalState:()=>"hide",isDeferrable:!1},{Component:Jo,visibility:["chat","codex"],getModalState:()=>!(m!=null&&m.isTeam())||!(m!=null&&m.isOwnerOfAccount())||!ae?"hide":!p||f===null?"loading":f===!1?"show":"hide",isDeferrable:!1},{Component:Eo,visibility:["chat"],getModalState:()=>A?xe?"loading":Ce?"show":"hide":"hide",isDeferrable:!1},{Component:To,visibility:["chat","codex"],getModalState:()=>A?l===null?"loading":l===!1?"show":"hide":"hide",isDeferrable:!0},{Component:Ro,visibility:["chat"],getModalState:()=>le?"loading":ie&&re?"show":"hide",isDeferrable:!1},{Component:Uo,visibility:["chat","codex"],getModalState:()=>c,isDeferrable:!1},{Component:jo,visibility:["chat"],getModalState:()=>we,isDeferrable:!1},{Component:Vo,visibility:["chat"],getModalState:()=>We,isDeferrable:!1},{Component:Fo,visibility:["chat"],getModalState:()=>Be,isDeferrable:!1},{Component:Go,visibility:["chat"],getModalState:()=>Le,isDeferrable:!1},{Component:d=>null,visibility:["chat"],getModalState:()=>_e,isDeferrable:!0},{Component:zo,visibility:["chat"],getModalState:()=>De,isDeferrable:!0},{Component:qo,visibility:["chat"],getModalState:()=>ge?"show":"hide",isDeferrable:!1}].filter(d=>d.visibility.includes(e)),[e,ce,de,Ne,Ie,Pe,ve,he,pe,me,M,h,fe,ue,Oe,Ae,Ue,Re,A,r,C,l,k,g,R,oe,se,p,x,L,ne,be,Me,ke,Se,m,ae,f,xe,Ce,le,ie,re,T,c,we,Le,De,We,Be,ee,P,ye,ge,_e]),mt=W;function je(a){if(a!=null)return a.isDeferrable&&mt?"hide":a.Component?a.getModalState():"hide"}const H=$[O],U=je(H);U==="hide"&&S((()=>{let d=O+1;for(;d<$.length;d++)if(je($[d])!=="hide")return d;return d})());const{pathname:j}=Ye(),Ve=u.useRef(j);if(u.useEffect(()=>{Ve.current!==j&&(Ve.current=j,S(0))},[j]),u.useEffect(()=>{const a=U==="show",d=Et.getState().activeModals.has(Y.BlockingInitialComponent);a!==d&&(a?He.openModal(Y.BlockingInitialComponent):He.closeModal(Y.BlockingInitialComponent))},[U]),H==null)return Ze.trackNamespace(Ze.NS_COMPOSER),n.jsx("span",{"data-testid":"blocking-initial-modals-done",className:"hidden"});if(U!=="show"||dt||ut||gt||s)return null;const pt=H.Component;return n.jsx(pt,{onClose:()=>{y(!0),S(a=>a+1)}})}const tt=J({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},personalOnboardingSubheading:{id:"BlockingInitialModals.personalOnboardingSubheading",defaultMessage:"Tips for getting started"}});export{cs as B};
//# sourceMappingURL=hqbuxjfjvu1puiaw.js.map

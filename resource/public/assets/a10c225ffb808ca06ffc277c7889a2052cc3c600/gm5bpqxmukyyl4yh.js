var v=Object.defineProperty,C=Object.defineProperties;var l=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var p=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&p(e,r,t[r]);if(i)for(var r of i(t))c.call(t,r)&&p(e,r,t[r]);return e},d=(e,t)=>C(e,l(t));var u=(e,t)=>{var r={};for(var o in e)h.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&i)for(var o of i(e))t.indexOf(o)<0&&c.call(e,o)&&(r[o]=e[o]);return r};import{G as _,a6 as E,j as s,f as I,r as n}from"./jj85rqzpbnvv3emr.js";import{C as j}from"./ka8yvzszndzglfav.js";import{i as y,nU as T,fg as R,fh as g,cm as A,E as P,R as F}from"./lef5ym39glv4981l.js";import{S as G}from"./mclphevd122040jw.js";import"./hqbuxjfjvu1puiaw.js";import"./jxokrjy8ycftw0wv.js";import"./jk4cx3iywxazx01l.js";import"./e0efgancp8wep37e.js";import"./xx3svpq6qe4q5uu1.js";import"./ng0sx063g0r0whhb.js";import"./fvmxudg74tbhlabl.js";import"./hnotrmacgvnfyexv.js";import"./gyvvad7btmtz1x9o.js";import"./n6vmm5pyahusdy8e.js";import"./l041el2tch1t3nkf.js";import"./dta5t6ifyam55mk9.js";import"./easgat082167v0i8.js";import"./cncd8uuk5eicbkeu.js";import"./cdk0cmbgnafohb1q.js";import"./mtg83aqpqaxteb09.js";import"./fr4ckts5oz9jhhs0.js";import"./mw2u7timj0qnsnvj.js";import"./dvqe6kc43fkjsavv.js";import"./f3wj76d1ulqyss85.js";import"./du2fkn1o0qxwuukg.js";import"./n82i9qkvs5r9bggc.js";import"./9z485wf4plyfoo73.js";function N(e){const t=e.sharedConversationId,{data:r,isError:o}=I({queryKey:["shared-conversation/".concat(t)],queryFn:()=>F.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),f=y(),[a]=n.useState(()=>T(f,t).id),[S,x]=n.useState(!1);return n.useEffect(()=>{o&&(window.location.href=R(g.SHARE_NOT_FOUND))},[o]),n.useEffect(()=>{r&&a&&(A.updateThreadFromServer(a,r,{skipIfExisting:!0,continuingFromSharedConversationId:t}),x(!0))},[r,t,a]),S&&r?s.jsx(G.Provider,{value:{serverSharedThreadId:e.sharedConversationId},children:s.jsx(j,d(m({},e.chatPageProps),{clientThreadId:a}))}):s.jsx("div",{className:"flex h-full items-center justify-center",children:s.jsx(P,{className:"text-token-text-tertiary"})})}const nt=_(function(){const o=E(),{sharedConversationId:t}=o,r=u(o,["sharedConversationId"]);return s.jsx(N,d(m({},r),{sharedConversationId:t}))});export{nt as default};
//# sourceMappingURL=gm5bpqxmukyyl4yh.js.map

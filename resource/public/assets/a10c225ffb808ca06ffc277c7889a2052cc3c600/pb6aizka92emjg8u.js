var us=Object.defineProperty,ds=Object.defineProperties;var ms=Object.getOwnPropertyDescriptors;var Ye=Object.getOwnPropertySymbols;var _t=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var yt=(s,e,a)=>e in s?us(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,G=(s,e)=>{for(var a in e||(e={}))_t.call(e,a)&&yt(s,a,e[a]);if(Ye)for(var a of Ye(e))Pt.call(e,a)&&yt(s,a,e[a]);return s},Q=(s,e)=>ds(s,ms(e));var St=(s,e)=>{var a={};for(var n in s)_t.call(s,n)&&e.indexOf(n)<0&&(a[n]=s[n]);if(s!=null&&Ye)for(var n of Ye(s))e.indexOf(n)<0&&Pt.call(s,n)&&(a[n]=s[n]);return a};import{r as W,j as t,c as me,M as y,d as ze,L as ve,b as pe,u as ps,f as lt,g as gs}from"./jj85rqzpbnvv3emr.js";import{P as H,a9 as We,v as N,z as X,B as He,fj as fs,e as oe,r1 as It,C as $e,hj as hs,bw as Mt,aj as ys,r7 as ke,h8 as Nt,h9 as Ft,ha as Tt,hb as Rt,hc as it,hd as Ut,he as ct,hf as At,hg as Lt,f as Ot,aE as _s,k_ as Ie,w as Yt,an as Ct,h3 as Ps,L as xt,p as bt,E as Bt,ez as be,qg as Ss,qh as Ms,g2 as Cs,i as Gt,y as xs,kN as he,r8 as bs,l9 as xe,r9 as ws,q$ as Ds,r0 as js,r5 as vs,T as Xe,r2 as Ht,t as Ge,ra as Es,R as ks,aH as zt,r as Is,j8 as Ns,dF as Fs,rb as Ts}from"./lef5ym39glv4981l.js";import{an as Rs,ok as ut,oz as ne,fy as Ze,fw as et,fu as tt,fs as st,fq as at,on as wt,lW as Us,mn as As,oA as Ls,lX as Wt,bD as dt,oB as $,fo as Os,ao as Ys,fV as $t,oC as Bs,oD as Ee,oE as Ce,oj as Dt,oq as Gs,d1 as Hs,d3 as zs,fU as Ws,fW as $s,fX as qs,g5 as le,g6 as fe,om as Je,fK as Vs}from"./mclphevd122040jw.js";import{u as jt}from"./eksfatdee5z30mgz.js";import{u as Ks}from"./mueia064md5nlhd6.js";import{i as Qs,C as Xs}from"./lz6nvf1wtn80mpd2.js";const qt=()=>{H.logEvent("Account Portal: Click Get Help")};function Js(s){if(fs(s))return"secondary";switch(s){case N.FREE:return"green";case N.GO:return"green";case N.PLUS:return"green";case N.SELF_SERVE_BUSINESS:return"primary";case N.PRO:return"primary";case N.QUORUM:return"primary"}}function nt(u){var i=u,{isCurrentPlan:s=!1,planType:e,disabled:a,loading:n=!1,onClick:o,children:c,testId:r,activeColor:m}=i,f=St(i,["isCurrentPlan","planType","disabled","loading","onClick","children","testId","activeColor"]);return t.jsx(He,Q(G({fullWidth:!0,size:"large",color:s?"secondary":m||Js(e),disabled:a,loading:n,onClick:o,"data-testid":r,className:a?"bg-token-sidebar-surface-tertiary text-token-text-primary hover:bg-token-sidebar-surface-tertiary dark:bg-token-text-tertiary border-none font-semibold":"font-semibold"},f),{children:c}))}function Vt(s,e){const[a,n]=W.useState(!1);W.useEffect(()=>{if(!a){n(!0);return}s?H.logEventWithStatsig("Email Verify Popup Shown","chatgpt_email_verify_popup_shown",e):H.logEventWithStatsig("Email Verify Popup Hidden","chatgpt_email_verify_popup_hidden",e)},[s])}function Kt({ctx:s,shouldLogExposure:e}){return We(s,"2273762597",{disableExposureLog:!e})}function Zs({ctx:s,shouldLogExposure:e}){return Kt({ctx:s,shouldLogExposure:e}).get("web_plus_intro_offer_coupon","none")}function ea({ctx:s,shouldLogExposure:e}){return Kt({ctx:s,shouldLogExposure:e}).get("is_plus_intro_offer_enabled",!1)}function ta({ctx:s,planType:e}){const n=We(s,"978971143").get("cta_type","default");if(e===N.PLUS)switch(n){case"long_ctas":return X.longCtaPlus;case"upgrade_to_x":return X.upgradeToPlus;case"join_x":return X.joinPlus;case"unlock_x":return X.unlockPlus;default:return X.getPlus}else switch(n){case"long_ctas":return X.longCtaPro;case"upgrade_to_x":return X.upgradeToPro;case"join_x":return X.joinPro;case"unlock_x":return X.unlockPro;default:return X.getPro}}const ka=s=>{"use forget";const e=me.c(18),{billingDetails:a,isWebRedesign:n,shouldUseComparisonSpacing:o,shouldUseOnboardingFeatures:c,isUnifiedPricingPage:r,className:m,cta:f}=s;let u;e[0]!==n||e[1]!==c?(u=Rs({isWebRedesign:n,shouldUseOnboardingFeatures:c}),e[0]=n,e[1]=c,e[2]=u):u=e[2];const i=u;let l;e[3]!==f||e[4]!==n||e[5]!==i?(l=f!=null?f:t.jsx(He,{color:"secondary",disabled:!0,size:"large",className:oe(n?"btn-secondary disabled:bg-token-bg-primary w-[100%]":"bg-token-sidebar-surface-tertiary text-token-text-primary hover:bg-token-sidebar-surface-tertiary dark:bg-token-text-tertiary dark:text-token-text-primary dark:hover:bg-token-text-tertiary w-[100%] border-none font-semibold"),children:t.jsx(y,G({},i.callToAction.inactive))}),e[3]=f,e[4]=n,e[5]=i,e[6]=l):l=e[6];let p;e[7]!==n?(p=[t.jsx(y,Q(G({},sa.haveExistingPlan),{values:{link:P=>t.jsx(ve,{target:"_blank",to:It,onClick:qt,className:oe("underline",n&&"font-medium"),children:P},"row-plus-plan-help-link")}}),"existing-plan-help")],e[7]=n,e[8]=p):p=e[8];let d;return e[9]!==a||e[10]!==m||e[11]!==r||e[12]!==n||e[13]!==i||e[14]!==o||e[15]!==l||e[16]!==p?(d=t.jsx(ut,{className:m,isUnifiedPricingPage:r,planType:N.FREE,pricingPlan:i,shouldUseComparisonSpacing:o,callToActionButton:l,additionalLinks:p,billingDetails:a,isWebRedesign:n}),e[9]=a,e[10]=m,e[11]=r,e[12]=n,e[13]=i,e[14]=o,e[15]=l,e[16]=p,e[17]=d):d=e[17],d},sa=ze({haveExistingPlan:{id:"FreeColumn.haveExistingPlan",defaultMessage:"Have an existing plan? <link>See billing help</link>"}});function aa({isOpen:s,onClose:e,onContinue:a,analyticsParams:n}){W.useEffect(()=>{s&&H.logEventWithStatsig("Mobile Subscription Warning Modal Shown","chatgpt_mobile_subscription_warning_modal_shown",n)},[n,s]);const o=()=>{H.logEventWithStatsig("Mobile Subscription Warning Modal Continue Clicked","chatgpt_mobile_subscription_warning_modal_continue_clicked",n),a()},c=()=>{H.logEventWithStatsig("Mobile Subscription Warning Modal Close Clicked","chatgpt_mobile_subscription_warning_modal_close_clicked",n),e()};return t.jsx($e,{testId:"modal-mobile-subscription-warning",isOpen:s,onClose:c,type:"warning",icon:hs,title:t.jsx(y,G({},Be.checkSubscriptionHeader)),primaryButton:t.jsx(Mt.Button,{title:Be.dismissModal.defaultMessage,color:"primary",onClick:c}),secondaryButton:t.jsx(Mt.Button,{title:Be.continueToNextStep.defaultMessage,color:"secondary",onClick:o}),children:t.jsx("span",{className:"gap-2 text-gray-600",children:Be.checkSubscriptionBody.defaultMessage})})}const Be=ze({checkSubscriptionHeader:{id:"mobileSubscriptionWarningModal.checkSubscriptionHeader",defaultMessage:"Check your App Store subscription"},checkSubscriptionBody:{id:"mobileSubscriptionWarningModal.checkSubscriptionBody",defaultMessage:"Your subscription through the Apple App Store is currently on pause due to a payment issue. Please resolve that issue to resume using ChatGPT Plus and avoid duplicate charges."},dismissModal:{id:"mobileSubscriptionWarningModal.dismissModal",defaultMessage:"Cancel"},continueToNextStep:{id:"mobileSubscriptionWarningModal.continueToNextStep",defaultMessage:"I understand, continue anyways"}}),Qt=ys(s=>({recentlyDowngraded:!1,recentlyUpgraded:!1,recentlyCanceled:!1,setRecentlyDowngraded:e=>s({recentlyDowngraded:e}),setRecentlyUpgraded:e=>s({recentlyUpgraded:e}),setRecentlyCanceled:e=>s({recentlyCanceled:e})}));function ot(s,e,a,n){let o,c;n===Nt?(o=Ze,c=Ft):n===Tt?(o=et,c=Rt):n===it?(o=tt,c=Ut):n===ct?(o=st,c=At):(o=at,c=Lt);const r=o*e;let m;if("percentage"in a)m=r*(1-a.percentage/100);else if("value"in a)m=r-a.value;else throw new Error("Invalid discount type");return{formattedDiscountedCost:s.formatNumber(m,{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:2}),currencySymbol:c}}function Xt(s,e,a,n){const o=G({},e);let c;if(n&&(n.period==="year"?n.num_periods===1?c=s.formatMessage({id:"pricingPlanConstants.promoCostSubtitleForSingleYear",defaultMessage:"for the first year"}):c=s.formatMessage({id:"pricingPlanConstants.promoCostSubtitleForPluralYears",defaultMessage:"for the first {num_years} years"},{num_years:n.num_periods}):n.num_periods===1?c=s.formatMessage({id:"pricingPlanConstants.promoCostSubtitleForSingleMonth",defaultMessage:"for the first month"}):c=s.formatMessage({id:"pricingPlanConstants.promoCostSubtitleForPluralMonths",defaultMessage:"for the first {num_months} months"},{num_months:n.num_periods})),o.costDuration={id:"promoCostDuration",defaultMessage:c,description:"Cost duration for promo plan"},"percentage"in a||"discount_type"in a&&a.discount_type===ke.PERCENTAGE){const r=("percentage"in a?a.percentage:a.amount)/100;o.costInDollars={id:"discountedCost",defaultMessage:ne((1-r)*at).toString()},o.costInEuros={id:"discountedCostEuros",defaultMessage:ne((1-r)*Ze).toString()},o.costInPounds={id:"discountedCostPounds",defaultMessage:ne((1-r)*et).toString()},o.costInINR={id:"discountedCostInr",defaultMessage:ne((1-r)*tt).toString()},o.costInIDR={id:"discountedCostIDR",defaultMessage:ne((1-r)*st).toString()}}else if("value"in a||a.discount_type===ke.FIXED){const r="value"in a?a.value:a.amount;o.costInDollars={id:"discountedCost",defaultMessage:ne(at-r).toString()},o.costInEuros={id:"discountedCostEuros",defaultMessage:ne(Ze-r).toString()},o.costInPounds={id:"discountedCostPounds",defaultMessage:ne(et-r).toString()},o.costInINR={id:"discountedCostInr",defaultMessage:ne(tt-r).toString()},o.costInIDR={id:"discountedCostIDR",defaultMessage:ne(st-r).toString()}}return o}function Jt(s){switch(s){case N.FREE:return"chatgptfreeplan";case N.GO:return"chatgptgoplan";case N.PLUS:return"chatgptplusplan";case N.PRO:return"chatgptpro";case N.SELF_SERVE_BUSINESS:return"chatgptteamplan";default:throw new Error("Invalid plan type: ".concat(s))}}function de(s){return dt(s.toLowerCase())}function na({isOpen:s,onClose:e,accountId:a,initialPlanType:n,updatedPlanType:o,billingDetails:c,promoMetadata:r,promoCode:m,fullPriceResumeDateString:f,onPromoClose:u}){"use no forget";var q,Te,we;const i=pe(),l=Ot(),p=_s(),[d,P]=W.useState(!1),h=(r==null?void 0:r.plan_type_change)==="equal",M=n===o&&!h,S=wt(n)<wt(o),E=Jt(o);W.useEffect(()=>{H.logTogglePlanManagementModal({isOpen:!0})},[]);const _=()=>{H.logTogglePlanManagementModal({isOpen:!1}),e()},b=Us(a),w=As(a),F=Ls(a),{data:C,isError:k,isLoading:T}=Wt(a,void 0,E,void 0,h);!M&&k&&((p==null?void 0:p.planType)===N.SELF_SERVE_BUSINESS?l.warning(i.formatMessage({id:"planManagement.errorUpgradingTeam",defaultMessage:"Updates to {capitalizedUpdatedPlanType} aren't yet supported for users with Team subscriptions"},{capitalizedUpdatedPlanType:de(o)}),{hasCloseButton:!0}):l.warning(i.formatMessage({id:"planManagement.errorFetchingPreview",defaultMessage:"There was a problem updating your subscription"}),{hasCloseButton:!0}),e());const x=Z=>new Intl.DateTimeFormat(i.locale,{year:"numeric",month:"short",day:"numeric"}).format(Z),j=p==null?void 0:p.getDaysUntilPlanRenews();let R=typeof j=="number"&&j>0?Ie(new Date,j):null,g=R?x(R):"";const A=p==null?void 0:p.getDaysUntilSubscriptionCancelAt();R&&typeof j=="number"&&typeof A=="number"&&A>0&&A>j&&(R=Ie(new Date,A),g=x(R));const{recentlyCanceled:D,setRecentlyUpgraded:L,setRecentlyDowngraded:U}=Qt(),Y=(p==null?void 0:p.willRenewSubscription())||D,[O,I]=W.useState(!1),v=ps();if(!p)return null;const z=h?R:C!=null&&C.renewal_date?new Date(C.renewal_date):null,J=z?z.toLocaleDateString(i.locale,{year:"numeric",month:"long",day:"numeric"}):i.formatMessage(X.notApplicable),se=f?new Date(f).toLocaleDateString(i.locale,{year:"numeric",month:"long",day:"numeric"}):i.formatMessage(X.notApplicable),{goCost:ie,plusCost:Ne,proCost:Fe,currencySymbol:re}=fa(c.currency),qe=(Te=(q=r==null?void 0:r.duration)==null?void 0:q.num_periods)!=null?Te:1,{formattedDiscountedCost:V}=r!=null&&r.discount?ot(i,qe,r.discount,(we=re.code.defaultMessage)==null?void 0:we.toString()):{formattedDiscountedCost:null},ye=async Z=>{var _e;P(!0);try{if(M)await w.mutateAsync(a),l.success(g===""?i.formatMessage({id:"planManagement.successfullyRenewedSubscription2",defaultMessage:"Your subscription has been renewed."}):i.formatMessage({id:"planManagement.successfullyRenewedSubscription",defaultMessage:"Your subscription has been renewed. Your subscription will auto-renew on {renewalDate}."},{renewalDate:g}),{hasCloseButton:!0}),H.logEvent("Renew Plan Success",{planType:Z}),Ct.logEvent("chatgpt_renew_plan_success",null,{planType:Z});else if(h&&m)await b.mutateAsync({accountId:a,updatedPlan:void 0,updatedPriceInterval:void 0,updatedSeats:void 0,updatedPromoCode:m}),l.success(g===""?i.formatMessage({id:"planManagement.successfullyRenewedSubscriptionPromotion",defaultMessage:"Your subscription has been updated and will auto-renew at the promotional rate of {promotionalCost} during your next billing cycle."},{promotionalCost:V}):i.formatMessage({id:"planManagement.successfullyRenewedSubscriptionPromotion2",defaultMessage:"Your subscription has been updated and will auto-renew at your promotional rate of {promotionalCost} on {renewalDate}."},{renewalDate:g,promotionalCost:V}),{hasCloseButton:!0});else{Y||(await w.mutateAsync(a),I(!0));const Ve=m?void 0:E;await b.mutateAsync({accountId:a,updatedPlan:Ve,updatedPriceInterval:void 0,updatedSeats:void 0,updatedPromoCode:m!=null?m:void 0});const Pe=S?i.formatMessage({id:"planManagement.successfullyUpdatedSubscription",defaultMessage:"You're now subscribed to ChatGPT {capitalizedUpdatedPlanType}"},{capitalizedUpdatedPlanType:de(o)}):i.formatMessage({id:"planManagement.updatedSubscriptionToPlus",defaultMessage:"Your subscription has been updated. Your subscription will change to {capitalizedUpdatedPlanType} on {renewalDateFormatted}."},{renewalDateFormatted:J,capitalizedUpdatedPlanType:de(o)});if(Z!==o){const Re=S?"Upgrade Plan Success":"Downgrade Plan Success",Ke=S?"chatgpt_upgrade_plan_success":"chatgpt_downgrade_plan_success";H.logEvent(Re,{fromPlan:Z,toPlan:o}),Ct.logEvent(Ke,null,{fromPlan:Z,toPlan:o}),S?L(!0):U(!0),l.success(Pe,{hasCloseButton:!0})}localStorage.setItem("subscriptionUpdateMessage_".concat(p.id),Pe)}v.invalidateQueries(Ps());const ue=xt.getItem(bt.CheckoutFrom);Qs(ue)&&(xt.removeItem(bt.CheckoutFrom),window.location.href=Xs[ue]),e()}catch(ue){((_e=ue==null?void 0:ue.detail)==null?void 0:_e.error_type)==="card_declined"?l.warning(i.formatMessage({id:"planManagement.cardDeclinedError",defaultMessage:"Payment error. Your card may be invalid or authentication may be needed."}),{hasCloseButton:!0}):l.warning(i.formatMessage({id:"planManagement.errorUpdatingSubscription",defaultMessage:"There was a problem updating your subscription"}),{hasCloseButton:!0}),O&&await F.mutateAsync(a),e()}finally{P(!1),m&&(u==null||u())}};let ce=Ne;return o===N.GO?ce=ie:o===N.PRO?ce=Fe:o!==N.PLUS&&Yt.error("Invalid target plan type: ".concat(o)),t.jsx($e,{testId:"modal-plan-management",type:"success",isOpen:s,onClose:_,size:"custom",noPadding:!0,className:"max-w-xl",showCloseButton:!0,title:i.formatMessage({id:"planManagementModal.title",defaultMessage:"Confirm plan changes"}),removePopoverStyling:!0,headerClassName:"py-4! px-6! [&_h2]:font-medium",children:T?t.jsx(Zt,{}):h||M&&p?t.jsx(ga,{account:p,renewalDate:g,handleUpdate:()=>ye(n),isUpdating:d,onClose:_,targetPlanCost:ce,currencySymbol:re,promoMetadata:r,fullPriceResumeDateFormatted:se,formattedDiscountedCost:V,renewalDateFormatted:J}):k||!C?null:S?t.jsx(ra,{accountId:a,handleUpdate:()=>ye(n),isUpdating:d,onClose:_,initialPlanType:n,updatedPlanType:o,currencySymbol:re}):t.jsx(pa,{renewalDate:C.renewal_date,handleUpdate:()=>ye(n),isUpdating:d,onClose:_,targetPlanCost:ce,currentPlanType:n,updatedPlanType:o,currencySymbol:re,promoMetadata:r,fullPriceResumeDateFormatted:se,formattedDiscountedCost:V})})}function Zt(){"use forget";const s=me.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("div",{className:"flex items-center justify-center p-6",children:t.jsx(Bt,{})}),s[0]=e):e=s[0],e}function oa(s){"use forget";const e=me.c(12),{adjustmentMessage:a,proratedCreditMessage:n,proratedCreditInfoMessage:o}=s;let c;e[0]!==a?(c=t.jsx("span",{className:"font-semibold",children:a}),e[0]=a,e[1]=c):c=e[1];let r;e[2]!==n?(r=t.jsx("span",{className:"font-semibold text-green-600",children:n}),e[2]=n,e[3]=r):r=e[3];let m;e[4]!==c||e[5]!==r?(m=t.jsxs("div",{className:"mt-4 flex justify-between",children:[c,r]}),e[4]=c,e[5]=r,e[6]=m):m=e[6];let f;e[7]!==o?(f=t.jsx("span",{className:"text-token-text-secondary text-sm",children:o}),e[7]=o,e[8]=f):f=e[8];let u;return e[9]!==m||e[10]!==f?(u=t.jsxs("div",{children:[m,f]}),e[9]=m,e[10]=f,e[11]=u):u=e[11],u}function ra(s){"use forget";const e=me.c(42),{accountId:a,handleUpdate:n,isUpdating:o,onClose:c,currencySymbol:r,updatedPlanType:m,initialPlanType:f}=s,u=pe();let i;e[0]!==m?(i=Jt(m),e[0]=m,e[1]=i):i=e[1];const{data:l,isError:p,isLoading:d}=Wt(a,void 0,i);if(d){let x;return e[2]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(Zt,{}),e[2]=x):x=e[2],x}if(p||!l)return null;let P,h,M;if(e[3]!==r||e[4]!==l||e[5]!==f||e[6]!==u||e[7]!==m){const x=ca({data:l,intl:u,currencySymbol:r,currentPlanType:f});P="px-6 pb-6",e[11]!==r||e[12]!==l||e[13]!==m?(h=t.jsx(ua,{data:l,currencySymbol:r,updatedPlanType:m}),e[11]=r,e[12]=l,e[13]=m,e[14]=h):h=e[14],M=x.filter(ia).map(la),e[3]=r,e[4]=l,e[5]=f,e[6]=u,e[7]=m,e[8]=P,e[9]=h,e[10]=M}else P=e[8],h=e[9],M=e[10];let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("hr",{className:"mt-4 mb-4"}),e[15]=S):S=e[15];let E;e[16]!==r||e[17]!==l?(E=t.jsx(da,{data:l,currencySymbol:r}),e[16]=r,e[17]=l,e[18]=E):E=e[18];let _;e[19]!==l.default_payment_method?(_=l.default_payment_method&&t.jsxs(t.Fragment,{children:[t.jsx("hr",{className:"mt-4 mb-4"}),t.jsx(ma,{defaultPaymentMethod:l.default_payment_method})]}),e[19]=l.default_payment_method,e[20]=_):_=e[20];let b;e[21]!==u?(b=u.formatMessage({id:"planUpgradeModal.cancel",defaultMessage:"Cancel"}),e[21]=u,e[22]=b):b=e[22];let w;e[23]!==c||e[24]!==b?(w=t.jsx(be,{title:b,color:"secondary",onClick:c}),e[23]=c,e[24]=b,e[25]=w):w=e[25];let F;e[26]!==u?(F=u.formatMessage({id:"planUpgradeModal.payNow",defaultMessage:"Pay now"}),e[26]=u,e[27]=F):F=e[27];let C;e[28]!==n||e[29]!==o||e[30]!==F?(C=t.jsx(be,{title:F,color:"primary",onClick:n,loading:o}),e[28]=n,e[29]=o,e[30]=F,e[31]=C):C=e[31];let k;e[32]!==C||e[33]!==w?(k=t.jsxs("div",{className:"mt-8 flex justify-end gap-2",children:[w,C]}),e[32]=C,e[33]=w,e[34]=k):k=e[34];let T;return e[35]!==k||e[36]!==P||e[37]!==h||e[38]!==M||e[39]!==E||e[40]!==_?(T=t.jsxs("div",{className:P,children:[h,M,S,E,_,k]}),e[35]=k,e[36]=P,e[37]=h,e[38]=M,e[39]=E,e[40]=_,e[41]=T):T=e[41],T}function la(s,e){return t.jsx(oa,{adjustmentMessage:s.adjustmentMessage,proratedCreditMessage:s.proratedCreditMessage,proratedCreditInfoMessage:s.proratedCreditInfoMessage},e)}function ia(s){return s.value!==0}function ca({data:s,intl:e,currencySymbol:a,currentPlanType:n}){return[{adjustmentMessage:t.jsx(y,{id:"planUpgradeModal.adjustment",defaultMessage:"Adjustment"}),proratedCreditMessage:t.jsx(y,{id:"planUpgradeModal.proratedCredit",defaultMessage:"-{currencySign}{adjustment}",values:{currencySign:e.formatMessage(a.sign),adjustment:(-s.negative_line_item_total/100).toFixed(2)}}),proratedCreditInfoMessage:t.jsx(y,{id:"planUpgradeModal.proratedCreditInfo",defaultMessage:"Prorated credit for the remainder of your {currentPlanType} subscription",values:{currentPlanType:n}}),value:s.negative_line_item_total},{adjustmentMessage:t.jsx(y,{id:"planUpgradeModal.discount",defaultMessage:"Adjustment"}),proratedCreditMessage:t.jsx(y,{id:"planUpgradeModal.discountAmount",defaultMessage:"-{currencySign}{discount}",values:{currencySign:e.formatMessage(a.sign),discount:(s.discount_amount/100).toFixed(2)}}),proratedCreditInfoMessage:t.jsx(y,{id:"planUpgradeModal.discountInfo",defaultMessage:"Account discount applied"}),value:s.discount_amount},{adjustmentMessage:t.jsx(y,{id:"planUpgradeModal.credits",defaultMessage:"Adjustments"}),proratedCreditMessage:t.jsx(y,{id:"planUpgradeModal.creditsAmount",defaultMessage:"-{currencySign}{credits}",values:{currencySign:e.formatMessage(a.sign),credits:(s.applied_balance/100).toFixed(2)}}),proratedCreditInfoMessage:t.jsx(y,{id:"planUpgradeModal.creditsInfo",defaultMessage:"Credits applied"}),value:s.applied_balance}]}function ua({data:s,currencySymbol:e,updatedPlanType:a}){const n=pe();return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"font-semibold",children:t.jsx(y,{id:"planUpgradeModal.subscription",defaultMessage:"ChatGPT {capitalizedUpdatedPlanType} subscription",values:{capitalizedUpdatedPlanType:de(a)}})}),t.jsx("span",{className:"font-semibold",children:t.jsx(y,{id:"planUpgradeModal.subscriptionCost",defaultMessage:"{currencySign}{totalCost}",values:{currencySign:n.formatMessage(e.sign),totalCost:(s.positive_line_item_total/100).toFixed(2)}})})]}),t.jsx("span",{className:"text-token-text-secondary text-sm",children:t.jsx(y,{id:"planUpgradeModal.billingCycle",defaultMessage:"Billed monthly, starting today"})})]})}function da(s){"use forget";const e=me.c(17),{data:a,currencySymbol:n}=s,o=pe();let c;e[0]!==n.sign||e[1]!==a.amount_due.amount_excluding_tax||e[2]!==a.amount_due.tax_amount||e[3]!==o?(c=a.amount_due.tax_amount>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-4 flex justify-between",children:[t.jsx("span",{className:"font-semibold",children:t.jsx(y,{id:"planUpgradeModal.subTotal",defaultMessage:"Subtotal"})}),t.jsx("span",{children:t.jsx(y,{id:"planUpgradeModal.subtotalPrice",defaultMessage:"{currencySign}{totalCost}",values:{currencySign:o.formatMessage(n.sign),totalCost:(a.amount_due.amount_excluding_tax/100).toFixed(2)}})})]}),t.jsxs("div",{className:"mt-2 flex justify-between",children:[t.jsxs("span",{className:"font-semibold",children:[t.jsx(y,{id:"planUpgradeModal.tax",defaultMessage:"Tax"}),t.jsx("span",{className:"text-token-text-secondary font-normal",children:t.jsx(y,{id:"planUpgradeModal.taxPercent",defaultMessage:" {taxPercent}%",values:{taxPercent:(a.amount_due.tax_amount/a.amount_due.amount_excluding_tax*100).toFixed(0)}})})]}),t.jsx("span",{children:t.jsx(y,{id:"planUpgradeModal.taxAmount",defaultMessage:"{currencySign}{tax}",values:{currencySign:o.formatMessage(n.sign),tax:(a.amount_due.tax_amount/100).toFixed(2)}})})]})]}),e[0]=n.sign,e[1]=a.amount_due.amount_excluding_tax,e[2]=a.amount_due.tax_amount,e[3]=o,e[4]=c):c=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("span",{className:"font-semibold",children:t.jsx(y,{id:"planUpgradeModal.totalDueToday",defaultMessage:"Total due today"})}),e[5]=r):r=e[5];let m;e[6]!==n.sign||e[7]!==o?(m=o.formatMessage(n.sign),e[6]=n.sign,e[7]=o,e[8]=m):m=e[8];const f=a.amount_due.amount/100;let u;e[9]!==f?(u=f.toFixed(2),e[9]=f,e[10]=u):u=e[10];let i;e[11]!==m||e[12]!==u?(i=t.jsxs("div",{className:"mt-2 flex justify-between",children:[r,t.jsx("span",{className:"font-semibold",children:t.jsx(y,{id:"planUpgradeModal.totalDueTodayAmount",defaultMessage:"{currencySign}{totalCost}",values:{currencySign:m,totalCost:u}})})]}),e[11]=m,e[12]=u,e[13]=i):i=e[13];let l;return e[14]!==c||e[15]!==i?(l=t.jsxs(t.Fragment,{children:[c,i]}),e[14]=c,e[15]=i,e[16]=l):l=e[16],l}function ma(s){"use forget";var r;const e=me.c(6),{defaultPaymentMethod:a}=s;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("span",{className:"font-semibold",children:t.jsx(y,{id:"planUpgradeModal.paymentMethod",defaultMessage:"Payment Method"})}),e[0]=n):n=e[0];let o;e[1]!==a.card_brand?(o=(r=a.card_brand)==null?void 0:r.toUpperCase(),e[1]=a.card_brand,e[2]=o):o=e[2];let c;return e[3]!==a.card_last4||e[4]!==o?(c=t.jsxs("div",{className:"flex justify-between",children:[n,t.jsxs("span",{className:"text-token-text-secondary",children:[o," *",a.card_last4]})]}),e[3]=a.card_last4,e[4]=o,e[5]=c):c=e[5],c}function pa(s){"use forget";var se,ie;const e=me.c(66),{renewalDate:a,handleUpdate:n,isUpdating:o,onClose:c,targetPlanCost:r,currentPlanType:m,currencySymbol:f,updatedPlanType:u,promoMetadata:i,fullPriceResumeDateFormatted:l,formattedDiscountedCost:p}=s,d=pe(),P=(i==null?void 0:i.plan_type_change)==="downgrade",h=(ie=(se=i==null?void 0:i.duration)==null?void 0:se.period)!=null?ie:"month";let M;e[0]!==d||e[1]!==a?(M=a?new Date(a).toLocaleDateString(d.locale,{year:"numeric",month:"long",day:"numeric"}):d.formatMessage(X.notApplicable),e[0]=d,e[1]=a,e[2]=M):M=e[2];const S=M;let E;e[3]!==m?(E=de(m),e[3]=m,e[4]=E):E=e[4];let _;e[5]!==u?(_=de(u),e[5]=u,e[6]=_):_=e[6];let b;e[7]!==S||e[8]!==E||e[9]!==_?(b=t.jsx("p",{className:"text-token-text-secondary",children:t.jsx(y,{id:"planDowngradeModal.currentSubscription",defaultMessage:"Your current {currentPlanType} subscription will remain active until {renewalDateFormatted}, when it will change to {nextPlanType}.",values:{renewalDateFormatted:S,currentPlanType:E,nextPlanType:_}})}),e[7]=S,e[8]=E,e[9]=_,e[10]=b):b=e[10];const w=P?"text-token-text-primary text-[15px]":"font-semibold";let F;e[11]!==u?(F=de(u),e[11]=u,e[12]=F):F=e[12];let C;e[13]!==F?(C=t.jsx(y,{id:"planDowngradeModal.newPlan",defaultMessage:"ChatGPT {capitalizedUpdatedPlanType}",values:{capitalizedUpdatedPlanType:F}}),e[13]=F,e[14]=C):C=e[14];let k;e[15]!==w||e[16]!==C?(k=t.jsx("span",{className:w,children:C}),e[15]=w,e[16]=C,e[17]=k):k=e[17];let T;e[18]!==f||e[19]!==p||e[20]!==d||e[21]!==P||e[22]!==r?(T=P?t.jsx("span",{className:"text-token-text-primary text-[15px]",children:t.jsx(y,{id:"planDowngradeModal.newPlanCostOfPromo",defaultMessage:"{promotionalCost} w/ promo",values:{promotionalCost:p}})}):t.jsx("span",{className:"text-token-text-secondary",children:t.jsx(y,{id:"planDowngradeModal.newPlanCost",defaultMessage:"{currencyCode} {currencySign}{planCost}/month",values:{currencyCode:d.formatMessage(f.code),currencySign:d.formatMessage(f.sign),planCost:d.formatMessage(r)}})}),e[18]=f,e[19]=p,e[20]=d,e[21]=P,e[22]=r,e[23]=T):T=e[23];let x;e[24]!==k||e[25]!==T?(x=t.jsxs("div",{className:"flex justify-between",children:[k,T]}),e[24]=k,e[25]=T,e[26]=x):x=e[26];const j=P&&"text-token-text-secondary text-xs";let R;e[27]!==j?(R=oe("text-token-text-secondary",j),e[27]=j,e[28]=R):R=e[28];let g;e[29]!==l||e[30]!==P||e[31]!==h||e[32]!==S?(g=P?rt({fullPriceResumeDateFormatted:l,period:h,type:"billingStartAfterPromo"}):t.jsx(y,{id:"planDowngradeModal.billingStart",defaultMessage:"Billing will start on {renewalDateFormatted}",values:{renewalDateFormatted:S}}),e[29]=l,e[30]=P,e[31]=h,e[32]=S,e[33]=g):g=e[33];let A;e[34]!==R||e[35]!==g?(A=t.jsx("span",{className:R,children:g}),e[34]=R,e[35]=g,e[36]=A):A=e[36];let D;e[37]!==f||e[38]!==d||e[39]!==P||e[40]!==r?(D=P&&t.jsx("span",{className:"text-token-text-secondary text-xs",children:t.jsx(y,{id:"planDowngradeModal.newPlanCostAfterPromo",defaultMessage:"{currencySign}{planCost}/month after",values:{currencySign:d.formatMessage(f.sign),planCost:d.formatMessage(r)}})}),e[37]=f,e[38]=d,e[39]=P,e[40]=r,e[41]=D):D=e[41];let L;e[42]!==A||e[43]!==D?(L=t.jsxs("div",{className:"flex items-center justify-between",children:[A,D]}),e[42]=A,e[43]=D,e[44]=L):L=e[44];let U;e[45]!==x||e[46]!==L?(U=t.jsxs("div",{className:"bg-token-main-surface-secondary mt-4 flex flex-col gap-1 rounded-2xl! rounded-md border-[1px] p-4",children:[x,L]}),e[45]=x,e[46]=L,e[47]=U):U=e[47];let Y;e[48]!==d?(Y=d.formatMessage({id:"planDowngradeModal.cancel",defaultMessage:"Cancel"}),e[48]=d,e[49]=Y):Y=e[49];let O;e[50]!==c||e[51]!==Y?(O=t.jsx(be,{title:Y,color:"secondary",onClick:c}),e[50]=c,e[51]=Y,e[52]=O):O=e[52];let I;e[53]!==d?(I=d.formatMessage({id:"planDowngradeModal.confirm",defaultMessage:"Confirm"}),e[53]=d,e[54]=I):I=e[54];let v;e[55]!==n||e[56]!==o||e[57]!==I?(v=t.jsx(be,{title:I,color:"primary",onClick:n,loading:o}),e[55]=n,e[56]=o,e[57]=I,e[58]=v):v=e[58];let z;e[59]!==O||e[60]!==v?(z=t.jsxs("div",{className:"mt-8 flex justify-end gap-2",children:[O,v]}),e[59]=O,e[60]=v,e[61]=z):z=e[61];let J;return e[62]!==U||e[63]!==z||e[64]!==b?(J=t.jsxs("div",{className:"px-6 pb-6",children:[b,U,z]}),e[62]=U,e[63]=z,e[64]=b,e[65]=J):J=e[65],J}function ga(s){"use forget";var J,se;const e=me.c(63),{account:a,renewalDate:n,handleUpdate:o,isUpdating:c,onClose:r,targetPlanCost:m,currencySymbol:f,promoMetadata:u,fullPriceResumeDateFormatted:i,renewalDateFormatted:l,formattedDiscountedCost:p}=s,d=pe(),P=a.data.subscriptionStatus.planType;let h;e[0]!==P?(h=de(P),e[0]=P,e[1]=h):h=e[1];const M=h,S=(u==null?void 0:u.plan_type_change)==="equal",E=(se=(J=u==null?void 0:u.duration)==null?void 0:J.period)!=null?se:"month";let _;e[2]!==S||e[3]!==E||e[4]!==M||e[5]!==n||e[6]!==l?(_=S?rt({renewalDateFormatted:l,period:E,type:"currentSubscriptionPromo"}):t.jsx(y,{id:"planRenewalModal.currentSubscription",defaultMessage:"Your current {planName} subscription will auto-renew on {renewalDate}.",values:{planName:M,renewalDate:n}}),e[2]=S,e[3]=E,e[4]=M,e[5]=n,e[6]=l,e[7]=_):_=e[7];let b;e[8]!==_?(b=t.jsx("p",{className:"text-token-text-primary",children:_}),e[8]=_,e[9]=b):b=e[9];const w=S?"text-token-text-primary text-[15px]":"font-semibold";let F;e[10]!==M?(F=t.jsx(y,{id:"planRenewalModal.newPlan",defaultMessage:"ChatGPT {planName}",values:{planName:M}}),e[10]=M,e[11]=F):F=e[11];let C;e[12]!==w||e[13]!==F?(C=t.jsx("span",{className:w,children:F}),e[12]=w,e[13]=F,e[14]=C):C=e[14];let k;e[15]!==f||e[16]!==p||e[17]!==d||e[18]!==S||e[19]!==m?(k=S?t.jsx("span",{className:"text-token-text-primary text-[15px]",children:t.jsx(y,{id:"planRenewalModal.newPlanCostAfterPromo",defaultMessage:"{promotionalCost} w/ promo",values:{promotionalCost:p}})}):t.jsx("span",{className:"text-token-text-secondary",children:t.jsx(y,{id:"planRenewalModal.newPlanCost",defaultMessage:"{currencyCode} {currencySign}{planCost}/month",values:{currencyCode:d.formatMessage(f.code),currencySign:d.formatMessage(f.sign),planCost:d.formatMessage(m)}})}),e[15]=f,e[16]=p,e[17]=d,e[18]=S,e[19]=m,e[20]=k):k=e[20];let T;e[21]!==C||e[22]!==k?(T=t.jsxs("div",{className:"flex justify-between",children:[C,k]}),e[21]=C,e[22]=k,e[23]=T):T=e[23];const x=S&&"text-token-text-secondary text-xs";let j;e[24]!==x?(j=oe("text-token-text-secondary",x),e[24]=x,e[25]=j):j=e[25];let R;e[26]!==i||e[27]!==S||e[28]!==n?(R=S?t.jsx(y,{id:"planRenewalModal.billingStartAfterPromo",defaultMessage:"Billing will start on {fullPriceResumeDateFormatted}",values:{fullPriceResumeDateFormatted:i}}):t.jsx(y,{id:"planRenewalModal.billingStart",defaultMessage:"Billing will auto-renew on {renewalDate}",values:{renewalDate:n}}),e[26]=i,e[27]=S,e[28]=n,e[29]=R):R=e[29];let g;e[30]!==j||e[31]!==R?(g=t.jsx("span",{className:j,children:R}),e[30]=j,e[31]=R,e[32]=g):g=e[32];let A;e[33]!==f||e[34]!==d||e[35]!==S||e[36]!==E||e[37]!==m?(A=S&&t.jsx("span",{className:"text-token-text-secondary text-xs",children:rt({period:E,type:"newPlanCostAfterPromo",currencySign:d.formatMessage(f.sign),planCost:d.formatMessage(m)})}),e[33]=f,e[34]=d,e[35]=S,e[36]=E,e[37]=m,e[38]=A):A=e[38];let D;e[39]!==g||e[40]!==A?(D=t.jsxs("div",{className:"flex items-center justify-between",children:[g,A]}),e[39]=g,e[40]=A,e[41]=D):D=e[41];let L;e[42]!==D||e[43]!==T?(L=t.jsxs("div",{className:"bg-token-main-surface-secondary mt-4 flex flex-col gap-1 rounded-2xl! rounded-md border-[1px] p-4",children:[T,D]}),e[42]=D,e[43]=T,e[44]=L):L=e[44];let U;e[45]!==d?(U=d.formatMessage({id:"planRenewalModal.cancel",defaultMessage:"Cancel"}),e[45]=d,e[46]=U):U=e[46];let Y;e[47]!==r||e[48]!==U?(Y=t.jsx(be,{title:U,color:"secondary",onClick:r}),e[47]=r,e[48]=U,e[49]=Y):Y=e[49];let O;e[50]!==d?(O=d.formatMessage({id:"planRenewalModal.confirm",defaultMessage:"Confirm"}),e[50]=d,e[51]=O):O=e[51];let I;e[52]!==o||e[53]!==c||e[54]!==O?(I=t.jsx(be,{title:O,color:"primary",onClick:o,loading:c}),e[52]=o,e[53]=c,e[54]=O,e[55]=I):I=e[55];let v;e[56]!==Y||e[57]!==I?(v=t.jsxs("div",{className:"mt-8 flex justify-end gap-2",children:[Y,I]}),e[56]=Y,e[57]=I,e[58]=v):v=e[58];let z;return e[59]!==L||e[60]!==v||e[61]!==b?(z=t.jsxs("div",{className:"px-6 pb-6",children:[b,L,v]}),e[59]=L,e[60]=v,e[61]=b,e[62]=z):z=e[62],z}function fa(s){return s===Nt?{goCost:$.go.goCostInEuros,plusCost:$.plus.plusCostInEuros,proCost:$.pro.proCostInEuros,currencySymbol:Ft}:s===Tt?{goCost:$.go.goCostInPounds,plusCost:$.plus.plusCostInPounds,proCost:$.pro.proCostInPounds,currencySymbol:Rt}:s===it?{goCost:$.go.goCostInINR,plusCost:$.plus.plusCostInINR,proCost:$.pro.proCostInINR,currencySymbol:Ut}:s===ct?{goCost:$.go.goCostInIDR,plusCost:$.plus.plusCostInIDR,proCost:$.pro.proCostInIDR,currencySymbol:At}:{goCost:$.go.goCost,plusCost:$.plus.plusCost,proCost:$.pro.proCost,currencySymbol:Lt}}function rt({fullPriceResumeDateFormatted:s,renewalDateFormatted:e,period:a,type:n,currencySign:o,planCost:c}){switch(["month","year"].includes(a)||Yt.warn("Invalid period passed to PlanManagementModal.getPeriodFormattedMessage",{period:a}),n){case"billingStartAfterPromo":return t.jsx(y,{id:"planDowngradeModal.billingResumeAfterPromo",defaultMessage:"Billing will resume on {fullPriceResumeDateFormatted}",values:{fullPriceResumeDateFormatted:s}});case"currentSubscriptionPromo":return t.jsx(y,{id:"planRenewalModal.currentSubscriptionPromo",defaultMessage:"After the billing cycle for your current plan ends on {renewalDateFormatted}, your promotional subscription will go into effect.",values:{renewalDateFormatted:e}});case"newPlanCostAfterPromo":if(a==="month")return t.jsx(y,{id:"planDowngradeModal.newPlanCostAfterPromoMonth",defaultMessage:"{currencySign}{planCost}/month after",values:{currencySign:o,planCost:c}});if(a==="year")return t.jsx(y,{id:"planDowngradeModal.newPlanCostAfterPromoYear",defaultMessage:"{currencySign}{planCost}/year after",values:{currencySign:o,planCost:c}});break}}function vt(s,e){const a=Ie(new Date,s);return new Intl.DateTimeFormat(e,{year:"numeric",month:"short",day:"numeric"}).format(a)}function ha({isWebRedesign:s,currentAccount:e,intl:a,billingDetails:n,pricingPlan:o,promoMetadata:c,columnPlanType:r}){var h;if(c||!e.data.subscriptionStatus.discount)return{activeDiscountMetadata:null,scheduledAdditionalLink:null};const m=e.getDaysUntilPlanDiscountExpires(),f=e.data.subscriptionStatus.discount,u=e.planType,i=e.getNextPlanType(),l=(h=f.discount_start_in_num_periods)!=null?h:0,p=l>0&&u===r&&!i,d=l>0&&i===r,P=a.formatNumber(f.amount,{style:"currency",currency:n.currency,minimumFractionDigits:0,maximumFractionDigits:2});return p||d?{activeDiscountMetadata:null,scheduledAdditionalLink:t.jsx("div",{className:"mb-3 w-full",children:t.jsx("div",{className:oe(s?"font-medium text-[#615EEB]":"text-green-600","px-1 text-sm"),children:f.discount_type===ke.PERCENTAGE?t.jsx(y,{id:"PlusColumn.scheduledPercentDiscount",defaultMessage:"Your {discountPercent}% discount will apply in {numPeriods, plural, one {the next billing period} other {# billing periods}}.",values:{discountPercent:f.amount,numPeriods:l}}):t.jsx(y,{id:"PlusColumn.scheduledFixedDiscount",defaultMessage:"Your {discountFixed} discount will apply in {numPeriods, plural, one {the next billing period} other {# billing periods}}.",values:{discountFixed:P,numPeriods:l}})})})}:l>0||r!==e.data.subscriptionStatus.planType?{activeDiscountMetadata:null,scheduledAdditionalLink:null}:(o.cost=Xt(a,o.cost,f),f.discount_type===ke.PERCENTAGE?{activeDiscountMetadata:{discount:{percentage:f.amount,expires_at:m?vt(m,a.locale):void 0}},scheduledAdditionalLink:null}:f.discount_type===ke.FIXED?{activeDiscountMetadata:{discount:{value:f.amount,expires_at:m?vt(m,a.locale):void 0}},scheduledAdditionalLink:null}:{activeDiscountMetadata:null,scheduledAdditionalLink:null})}function Et(s,e,a,n){let o;switch(s){case"month":o=Ms(new Date,e);break;case"year":o=Ss(new Date,e);break}return n&&o&&(o=Ie(o,n)),new Intl.DateTimeFormat(a,{year:"numeric",month:"short",day:"numeric"}).format(o)}function ya({intl:s,pricingPlan:e,planName:a,promoMetadata:n,currency:o,currentAccount:c}){var T,x,j,R,g,A,D,L,U,Y,O;const{costTitle:r,currencySymbol:m}=Os(e,o),f=(x=(T=r==null?void 0:r.defaultMessage)==null?void 0:T.toString())!=null?x:"20",u=dt(a.toLowerCase()),{schedule:i}=n,l=(R=(j=n.duration)==null?void 0:j.period)!=null?R:"month",p=(A=(g=n.duration)==null?void 0:g.num_periods)!=null?A:1,d=(D=i==null?void 0:i.start_after_num_periods)!=null?D:0,P=(L=i==null?void 0:i.period)!=null?L:l,h=d>0?Et(P,d,s.locale):void 0,M=Et(l,p+(d>0?d:0),s.locale,c==null?void 0:c.getDaysUntilPlanRenews()),S=Xt(s,e.cost,n.discount,(U=n.duration)!=null?U:{num_periods:1,period:"month"}),E=(O=(Y=m.code.defaultMessage)==null?void 0:Y.toString())!=null?O:"USD",_=s.formatNumber(parseFloat(f)||0,{style:"currency",currency:E,minimumFractionDigits:0,maximumFractionDigits:2}),b=(n==null?void 0:n.no_auto_renewal_at_discount_end)===!0;let w;switch(l){case"month":d>0?p===1?w=s.formatMessage(B.promoPlanDisclaimerScheduledForSingleMonth,{start_date:h,end_date:M,cost:_,plan_name:u}):w=s.formatMessage(B.promoPlanDisclaimerScheduledForPluralMonths,{num_months:p,start_date:h,end_date:M,cost:_,plan_name:u}):p===1?w=b?s.formatMessage(B.promoPlanDisclaimerNoRenewForSingleMonth,{}):s.formatMessage(B.promoPlanDisclaimerForSingleMonth,{date:M,cost:_,plan_name:u}):w=b?s.formatMessage(B.promoPlanDisclaimerNoRenewForPluralMonths,{num_months:p}):s.formatMessage(B.promoPlanDisclaimerForPluralMonths,{num_months:p,date:M,cost:_,plan_name:u});break;case"year":d>0?p===1?w=s.formatMessage(B.promoPlanDisclaimerScheduledForSingleYear,{start_date:h,end_date:M,cost:_,plan_name:u}):w=s.formatMessage(B.promoPlanDisclaimerScheduledForPluralYears,{num_years:p,start_date:h,end_date:M,cost:_,plan_name:u}):p===1?w=b?s.formatMessage(B.promoPlanDisclaimerNoRenewForSingleYear,{}):s.formatMessage(B.promoPlanDisclaimerForSingleYear,{date:M,cost:_,plan_name:u}):w=b?s.formatMessage(B.promoPlanDisclaimerNoRenewForPluralYears,{num_years:p}):s.formatMessage(B.promoPlanDisclaimerForPluralYears,{num_years:p,date:M,cost:_,plan_name:u});break;case"hour":throw new Error("Period 'hour' is not supported")}const F="<article>"+s.formatMessage(B.termsApply)+"</article> "+w;let C=n.summary;if(d>0){const{formattedDiscountedCost:I}=ot(s,1,n.discount,o),v=I;switch(l){case"month":p===1?C=s.formatMessage(B.promoSummaryScheduledForSingleMonth,{discounted_cost:v}):C=s.formatMessage(B.promoSummaryScheduledForPluralMonths,{discounted_cost:v,num_months:p});break;case"year":p===1?C=s.formatMessage(B.promoSummaryScheduledForSingleYear,{discounted_cost:v}):C=s.formatMessage(B.promoSummaryScheduledForPluralYears,{discounted_cost:v,num_years:p});break}}let k=S;if(d>0){const{formattedDiscountedCost:I}=ot(s,1,n.discount,o);let v;switch(l){case"month":p===1?v=s.formatMessage(B.promoCostSubtitleScheduledForSingleMonth,{start_date:h,discounted_cost:I}):v=s.formatMessage(B.promoCostSubtitleScheduledForPluralMonths,{start_date:h,discounted_cost:I,num_months:p});break;case"year":p===1?v=s.formatMessage(B.promoCostSubtitleScheduledForSingleYear,{start_date:h,discounted_cost:I}):v=s.formatMessage(B.promoCostSubtitleScheduledForPluralYears,{start_date:h,discounted_cost:I,num_years:p});break}k=Q(G({},e.cost),{costDuration:{id:"promoCostDurationScheduled",defaultMessage:v,description:"Cost duration subtitle for scheduled promo indicating when discount starts and for how long"}})}return e=Q(G({},e),{summary:{id:"promoSummary",defaultMessage:C},disclaimer:{id:"promoDisclaimer",defaultMessage:F,article:"https://help.openai.com/en/articles/10492689-chatgpt-plus-promotions-referrals"},fullPriceResumeDateString:M,cost:k,callToAction:Q(G({},e.callToAction),{promo:{id:"pricingPlanConstants.promo.callToAction",defaultMessage:"Apply to My Subscription",description:"Payment call to action for existing subscribers adding a discount to their plan"}})}),e}const B=ze({specialOffer:{id:"pricingPlanConstants.specialOffer",defaultMessage:"SPECIAL OFFER"},promoPlanDisclaimerForPluralMonths:{id:"pricingPlanConstants.promoPlanDisclaimerForPluralMonths",defaultMessage:"Promo pricing applies for {num_months} months. Starting {date}, ChatGPT {plan_name} will continue at {cost}/month. Cancel anytime."},promoPlanDisclaimerScheduledForPluralMonths:{id:"pricingPlanConstants.promoPlanDisclaimerScheduledForPluralMonths",defaultMessage:"Promo pricing applies for {num_months} months starting {start_date}. Starting {end_date}, ChatGPT {plan_name} will continue at {cost}/month. Cancel anytime."},promoPlanDisclaimerScheduledForSingleMonth:{id:"pricingPlanConstants.promoPlanDisclaimerScheduledForSingleMonth",defaultMessage:"Promo pricing applies for 1 month starting {start_date}. Starting {end_date}, ChatGPT {plan_name} will continue at {cost}/month. Cancel anytime."},promoPlanDisclaimerScheduledForPluralYears:{id:"pricingPlanConstants.promoPlanDisclaimerScheduledForPluralYears",defaultMessage:"Promo pricing applies for {num_years} years starting {start_date}. Starting {end_date}, ChatGPT {plan_name} will continue at {cost}/year. Cancel anytime."},promoPlanDisclaimerScheduledForSingleYear:{id:"pricingPlanConstants.promoPlanDisclaimerScheduledForSingleYear",defaultMessage:"Promo pricing applies for 1 year starting {start_date}. Starting {end_date}, ChatGPT {plan_name} will continue at {cost}/year. Cancel anytime."},promoPlanDisclaimerForSingleMonth:{id:"pricingPlanConstants.promoPlanDisclaimerForSingleMonth",defaultMessage:"Promo pricing applies for 1 month. Starting {date}, ChatGPT {plan_name} will continue at {cost}/month. Cancel anytime."},promoPlanDisclaimerNoRenewForPluralMonths:{id:"pricingPlanConstants.promoPlanDisclaimerNoRenewForPluralMonths",defaultMessage:"Promo pricing applies for {num_months} months."},promoPlanDisclaimerNoRenewForSingleMonth:{id:"pricingPlanConstants.promoPlanDisclaimerNoRenewForSingleMonth",defaultMessage:"Promo pricing applies for 1 month."},promoCostSubtitleScheduledForPluralMonths:{id:"pricingPlanConstants.promoCostSubtitleScheduledForPluralMonths",defaultMessage:"Starting {start_date}: {discounted_cost}/month for {num_months} months"},promoCostSubtitleScheduledForSingleMonth:{id:"pricingPlanConstants.promoCostSubtitleScheduledForSingleMonth",defaultMessage:"Starting {start_date}: {discounted_cost}/month for 1 month"},promoCostSubtitleScheduledForPluralYears:{id:"pricingPlanConstants.promoCostSubtitleScheduledForPluralYears",defaultMessage:"Starting {start_date}: {discounted_cost}/year for {num_years} years"},promoCostSubtitleScheduledForSingleYear:{id:"pricingPlanConstants.promoCostSubtitleScheduledForSingleYear",defaultMessage:"Starting {start_date}: {discounted_cost}/year for 1 year"},promoPlanDisclaimerForPluralYears:{id:"pricingPlanConstants.promoPlanDisclaimerForPluralYears",defaultMessage:"Promo pricing applies for {num_years} years. Starting {date}, ChatGPT {plan_name} will continue at {cost}/year. Cancel anytime."},promoPlanDisclaimerForSingleYear:{id:"pricingPlanConstants.promoPlanDisclaimerForSingleYear",defaultMessage:"Promo pricing applies for 1 year. Starting {date}, ChatGPT {plan_name} will continue at {cost}/year. Cancel anytime."},promoPlanDisclaimerNoRenewForPluralYears:{id:"pricingPlanConstants.promoPlanDisclaimerNoRenewForPluralYears",defaultMessage:"Promo pricing applies for {num_years} years."},promoPlanDisclaimerNoRenewForSingleYear:{id:"pricingPlanConstants.promoPlanDisclaimerNoRenewForSingleYear",defaultMessage:"Promo pricing applies for 1 year."},termsApply:{id:"pricingPlanConstants.termsApply",defaultMessage:"Terms apply."},promoSummaryScheduledForPluralMonths:{id:"pricingPlanConstants.promoSummaryScheduledForPluralMonths",defaultMessage:"Pay for the first month, then the next {num_months} months are {discounted_cost}."},promoSummaryScheduledForSingleMonth:{id:"pricingPlanConstants.promoSummaryScheduledForSingleMonth",defaultMessage:"Pay for the first month, then the next month is {discounted_cost}."},promoSummaryScheduledForPluralYears:{id:"pricingPlanConstants.promoSummaryScheduledForPluralYears",defaultMessage:"Pay for the first year, then the next {num_years} years are {discounted_cost}."},promoSummaryScheduledForSingleYear:{id:"pricingPlanConstants.promoSummaryScheduledForSingleYear",defaultMessage:"Pay for the first year, then the next year is {discounted_cost}."}}),Me=N.PLUS,_a=()=>lt({queryKey:["has-app-store-subscription-in-billing-retry"],queryFn:async()=>await ks.safeGet("/subscriptions/has_app_store_subscription_in_billing_retry")});function Pa(s,e){const a=s.data.subscriptionStatus.planType,n=s.getNextPlanType();let o=s.getDaysUntilPlanChanges(),c=n===N.PLUS&&a===N.PRO||n===N.GO&&[N.PRO,N.PLUS].includes(a);return e&&!c&&(o=s.getDaysUntilPlanRenews(),c=!0),{daysUntilPlanChanges:o,isDowngradeScheduled:c,nextPlanType:n}}function Sa(s,e){const a=Ie(new Date,s);return new Intl.DateTimeFormat(e,{year:"numeric",month:"short",day:"numeric"}).format(a)}function kt(s){return Es.includes(s)?s:"USD"}function Ma(s,e,a,n){if(s==="plus-10-for-3-months")switch(a.currency){case"USD":{const o={value:10,currency_code:kt(a.currency)};return{plan_name:he.PLUS,title:"",summary:e.formatMessage(n?Ee.headline:Ce.plusSummary),discount:o,duration:{num_periods:3,period:"month"},price_period:"recurring",promotion_type:"discount",promotion_type_label:null}}case"EUR":case"GBP":return{plan_name:he.PLUS,title:"",summary:e.formatMessage(n?Ee.headline:Ce.plusSummary),discount:{percentage:52.18},duration:{num_periods:3,period:"month"},price_period:"recurring",promotion_type:"discount",promotion_type_label:null};case"INR":return null;case"IDR":return null}else if(s==="plus-10-for-12-mos")switch(a.currency){case"USD":{const o={value:10,currency_code:kt(a.currency)};return{plan_name:he.PLUS,title:"",summary:e.formatMessage(n?Ee.headline:Ce.plusSummary),discount:o,duration:{num_periods:12,period:"month"},price_period:"recurring",promotion_type:"discount",promotion_type_label:null}}case"EUR":case"GBP":return{plan_name:he.PLUS,title:"",summary:e.formatMessage(n?Ee.headline:Ce.plusSummary),discount:{percentage:52.18},duration:{num_periods:12,period:"month"},price_period:"recurring",promotion_type:"discount",promotion_type_label:null};case"INR":return null;case"IDR":return null}return null}const Ia=({analyticsParams:s,className:e,currentAccount:a,planLoading:n,isPromoLoading:o,onUpgradeButtonClick:c,setPlanLoading:r,plusPricingPlan:m=null,shouldShowAdditionalLinks:f=!0,billingDetails:u,promoCode:i=null,promoMetadata:l=null,onClose:p,disableForMobile:d=!1,type:P,isWebRedesign:h,shouldUseComparisonSpacing:M,isUnifiedPricingPage:S,autoUpgrade:E=!1,fromiOSWebview:_=!1})=>{"use forget";const{data:b}=Cs(),{data:w,refetch:F}=lt(zt),{data:{value:C}={}}=_a(),{trackSelectedPixels:k}=jt({key:N.PLUS}),{trackSelectedPixels:T}=jt({key:"plus-secondary"}),x=a.features,j=Gt(),R=!xs(j),g=pe(),A=Ot();let D=m||Ys({isWebRedesign:h});const L=Zs({ctx:j,shouldLogExposure:!1}),{data:U}=$t(L);l==null&&(U==null?void 0:U.coupon)===L&&(U==null?void 0:U.state)==="eligible"&&ea({ctx:j,shouldLogExposure:!0})&&(l=Ma(L,g,u,h),i=L);const{eligible:Y,campaignId:O}=Bs();let I;l==null&&Y&&(!i&&O&&(I=O),l={plan_name:he.PLUS,title:"",summary:g.formatMessage(h?Ee.headline:Ce.plusSummary),discount:{percentage:100},duration:{num_periods:1,period:"month"},price_period:"recurring",promotion_type:"discount",promotion_type_label:g.formatMessage(ae.specialOffer)});const v=W.useRef(!1),z=W.useRef(!1),[J,se]=W.useState(!1),[ie,Ne]=W.useState(!1),[Fe,re]=W.useState(!1),{recentlyDowngraded:qe}=Qt();let V=[];const ye=a.isOrWasPaidCustomer(),ce=a.hasPaidSubscription(),q=ce&&a.isPlus(),Te=ce&&a.isPro(),we=a.getLastActiveSubscription(),Z=We(j,"3950229590"),{prepareCheckoutSession:_e,navigateToCheckout:ue}=Ks(),Ve=bs(b),Pe=x.includes("disable_plus_upgrade_ui")&&!ye,{daysUntilPlanChanges:Re,isDowngradeScheduled:Ke,nextPlanType:mt}=Pa(a,qe),ee=W.useMemo(()=>Q(G({},s),{promoCode:i,promoCampaign:I,planType:Me,isUpgradeUiDisabled:Pe}),[s,i,I,Pe]),es=!!(w!=null&&w.email),De=W.useRef(new Map),Qe=W.useRef(null);W.useEffect(()=>{if(!q&&Z.get("enabled_prefetch_checkout_for_plus",!1)){const K={plan_name:he.PLUS,billing_details:u,promo_code:i,promo_campaign:I},te=JSON.stringify(K);if(!De.current.has(te)){H.logEventWithStatsig("Account Pay: Prefetch Checkout Session","chatgpt_account_payment_modal_prefetch_checkout_session",ee),De.current.clear();const ge=Z.get("skip_sentinel_checkout",!1),Se=_e(K,{skipSentinelCheckout:ge,fromiOSWebview:_});De.current.set(te,Se)}}},[_e,ee,u,i,x,q,Z,O,I,_]);const ts=()=>{const K={plan_name:he.PLUS,billing_details:u,promo_code:i,promo_campaign:I},te=De.current.get(JSON.stringify(K));if(te)return H.logEventWithStatsig("Account Pay: Using Prefetched Checkout Session","chatgpt_account_payment_modal_using_prefetched_checkout_session",ee),te;H.logEventWithStatsig("Account Pay: Click to Fetch Checkout Session","chatgpt_account_payment_modal_click_to_fetch_checkout_session",ee),De.current.clear();const ge=Z.get("skip_sentinel_checkout",!1);return _e(K,{skipSentinelCheckout:ge,fromiOSWebview:_})},ss=async({skipEmailCheck:K})=>{var te,ge;if(!es&&!K){re(!0);return}r==null||r(N.PLUS),H.logEvent("Account Pay: Payment Checkout Clicked",ee),Ge(j,"chatgpt_account_payment_modal_upgrade_button_click",Me),Qe.current=Date.now();try{const Se=await ts();let Oe;Qe.current&&(Oe=Date.now()-Qe.current),H.logEvent("Account Pay: Navigating to Payment Checkout",Q(G({},ee),{url:(te=Se.url)!=null?te:"",latency_ms:Oe}));const ht={url:String((ge=Se.url)!=null?ge:"")};Oe!==void 0&&(ht.latency_ms=Oe.toString()),Ge(j,"chatgpt_account_payment_modal_navigating_to_checkout",Me,ht),await ue(Se)}catch(Se){A.warning(g.formatMessage(ae.paymentErrorWarning),{hasCloseButton:!0})}r==null||r(null)},as=()=>{H.logEvent("Account Portal: Click iOS Manage Subscription",ee)},ns=()=>{H.logEvent("Account Portal: Click Android Manage Subscription",ee)},os=q&&[xe.CHATGPT_IOS,xe.SORA_IOS].includes(we.purchase_origin_platform),rs=q&&we.purchase_origin_platform===xe.MOBILE_ANDROID;Ve&&!q&&V.push(t.jsx(ve,{to:ws,target:"_blank",className:oe(h?"px-1 font-medium":"px-2","underline"),children:t.jsx(y,G({},ae.limitsApply))},"row-plus-plan-usage-limits")),os&&V.push(t.jsx(ve,{to:Ds,target:"_blank",onClick:as,className:oe(h?"px-1 font-medium":"px-2","underline"),children:g.formatMessage(Dt.manageSubscriptionIos.callToAction)},"row-plus-plan-manage-ios")),rs&&V.push(t.jsx(ve,{to:js,target:"_blank",onClick:ns,className:oe(h?"px-1 font-medium":"px-2","underline"),children:g.formatMessage(Dt.manageSubscriptionAndroid.callToAction)},"row-plus-plan-manage-android")),q&&ye&&V.push(t.jsx(ve,{target:"_blank",to:It,onClick:qt,className:oe(h?"px-1 font-medium":"px-2","underline"),children:t.jsx(y,G({},ae.billingHelp))},"row-plus-plan-help-link"));const Ue=({skipAppStoreSubscriptionInBillingRetryCheck:K=!1,skipEmailCheck:te=!1}={})=>{if(C&&!K)return se(!0);if(c)return c(u,ee);ce&&!q&&!a.isActiveSubscriptionGratis()?(H.logEvent("Account Pay: Payment Checkout Clicked",ee),Ge(j,"chatgpt_account_payment_modal_upgrade_button_click",Me),Ne(!0)):(k(),T(),ss({skipEmailCheck:te}))};W.useEffect(()=>{!E||z.current||(z.current=!0,Ue())},[E]);const Ae=(K,te)=>t.jsx(nt,{planType:Me,isCurrentPlan:q&&!Le,disabled:K,onClick:te,testId:"select-plan-button-plus-upgrade",activeColor:Te?"secondary":h&&P==="highlight"||P==="promo"?"purple":P==="standard"||ls?"primary":void 0,children:n===N.PLUS&&!ie?t.jsx(Bt,{}):Le&&q&&D.callToAction.promo?g.formatMessage(D.callToAction.promo):q?g.formatMessage(D.callToAction.active):pt&&R&&D.callToAction.inactiveUnauthenticated?g.formatMessage(D.callToAction.inactiveUnauthenticated):g.formatMessage(ta({ctx:j,planType:N.PLUS}))});Vt(Fe,{plan:ee});const Le=l!=null,ls=(l==null?void 0:l.promotion_type)==="student_discount",pt=l!=null&&"referrer_name"in l,is=(!q||Le)&&n==null;V=Le?[]:V;const{activeDiscountMetadata:gt,scheduledAdditionalLink:ft}=ha({isWebRedesign:h,currentAccount:a,intl:g,billingDetails:u,pricingPlan:D,promoMetadata:l,columnPlanType:N.PLUS});if(ft&&V.unshift(ft),gt&&(D.summary=Ce.plusSummaryWithDiscount),l&&(D=ya({intl:g,pricingPlan:D,promoMetadata:l,currency:u.currency,planName:N.PLUS,currentAccount:a})),o!=null&&o)return null;const cs=Ca(a);return t.jsxs(t.Fragment,{children:[t.jsx(ut,{planType:Me,elementId:vs,pricingPlan:D,shouldUseComparisonSpacing:M,isUnifiedPricingPage:S,callToActionButton:Pe?t.jsx("div",{className:"relative w-full",children:t.jsx(Xe,{side:"bottom",sideOffset:20,label:g.formatMessage(ae.highDemandDisabledText),children:Ae(!0,()=>{})})}):d&&cs?t.jsx("div",{children:t.jsx(Xe,{side:"top",sideOffset:20,label:g.formatMessage({id:"I2JCGZ",defaultMessage:"Mobile subscriptions are currently not eligible for this promotion."}),onOpenChange:K=>{K&&!v.current&&(pt&&Gs.logMobileSubscriptionTooltipOpen(),v.current=!0)},children:t.jsx("div",{children:Ae(!0,()=>{})})})}):t.jsxs("div",{children:[Re&&Ke&&mt?t.jsx(Xe,{side:"top",sideOffset:20,label:t.jsx(y,{id:"Rd9wuM",defaultMessage:"Your subscription will change to {nextPlanType} on {date}.",values:{date:Sa(Re,g.locale),nextPlanType:dt(mt.toLowerCase())}}),children:Ae(!0,()=>{})}):Ae(!is,Ue),t.jsx(aa,{isOpen:J,onClose:()=>se(!1),onContinue:()=>Ue({skipAppStoreSubscriptionInBillingRetryCheck:!0}),analyticsParams:ee}),ie&&t.jsx(na,{isOpen:ie,onClose:()=>Ne(!1),accountId:a.id,initialPlanType:a.planType,updatedPlanType:N.PLUS,billingDetails:u,promoMetadata:l,promoCode:i,onPromoClose:p,fullPriceResumeDateString:D.fullPriceResumeDateString})]}),secondaryCallToActionButton:P==="promo"?t.jsx(He,{size:"large",color:"secondary",onClick:p,children:t.jsx(y,G({},ae.notNow))}):null,additionalLinks:f?V:[],type:P,promoMetadata:l,activeDiscountMetadata:gt,billingDetails:u,className:e,isWebRedesign:h}),t.jsx($e,{testId:"modal-add-email",isOpen:Fe,onClose:()=>re(!1),type:"success",className:"max-w-sm",children:t.jsx(Ht,{enterEmailTitle:g.formatMessage(ae.addEmailTitle),enterEmailDescription:g.formatMessage(ae.addEmailDescription),onVerified:()=>{F(),re(!1),Ue({skipEmailCheck:!0})},cancelFlowButton:t.jsx(He,{className:"w-full rounded-md",color:"secondary",onClick:()=>re(!1),children:t.jsx(y,G({},ae.cancelAddEmail))})})})]})};function Ca(s){const e=s.hasPaidSubscription(),a=s.getLastActiveSubscription(),n=e&&[xe.CHATGPT_IOS,xe.SORA_IOS].includes(a.purchase_origin_platform),o=e&&a.purchase_origin_platform===xe.MOBILE_ANDROID;return n||o}const ae=ze({specialOffer:{id:"pricingPlanConstants.specialOffer",defaultMessage:"SPECIAL OFFER"},addEmailTitle:{id:"AccountPaymentModal.addEmailTitle",defaultMessage:"Email required"},addEmailDescription:{id:"AccountPaymentModal.addEmailDescription",defaultMessage:"You'll be able to login with this email. It will also be used for account updates (like password resets) and information about OpenAI services."},cancelAddEmail:{id:"AccountPaymentModal.cancelAddEmail",defaultMessage:"Cancel"},haveExistingPlan:{id:"AccountPaymentModal.haveExistingPlan",defaultMessage:"Have an existing plan?"},billingHelp:{id:"AccountPaymentModel.billingHelp",defaultMessage:"I need help with a billing issue"},paymentErrorWarning:{id:"AccountPaymentModal.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."},accountErrorWarning:{id:"AccountPaymentModal.accountErrorWarning",defaultMessage:"The account management page encountered an error. Please try again. If the problem continues, please visit help.openai.com."},limitsApply:{id:"xda4i3",defaultMessage:"Limits apply"},notNow:{id:"AccountPaymentModal.notNow",defaultMessage:"Not Now"},highDemandDisabledText:{id:"AccountPaymentModal.highDemandDisabledText",defaultMessage:"Due to high demand, we've temporarily paused upgrades."}}),je=N.SELF_SERVE_BUSINESS,Na=({analyticsParams:s,planLoading:e,billingDetails:a,isWebRedesign:n,isUnifiedPricingPage:o,showBusinessTooltips:c,type:r=Je.standard,shouldUseComparisonSpacing:m,shouldUseOnboardingFeatures:f,className:u,cta:i})=>{const{data:l,refetch:p}=lt(zt),d=pe(),P=Gt(),h=Is(P),M=gs(),S=Vs(),[E,_]=W.useState(!1),b=h==null?void 0:h.isTeam(),w=h==null?void 0:h.isPlus(),F=Q(G({},s),{planType:je}),C=!!(l!=null&&l.email),k=We(P,"111733276").get("show_upgrade_page_v2_copy",!1),T=Hs();let x=zs({isWebRedesign:n,isBusinessUpgradeV2CopyEnabled:k,shouldUseOnboardingFeatures:f,isTrialEnabled:T.eligible,showBusinessTooltips:c});const j=Ws(),{data:R}=$t(j!=null?j:""),g=R!=null?R:T.eligible?{coupon:T.campaignId,state:"eligible",redemption:null}:void 0,A=(g==null?void 0:g.coupon)===$s&&(g==null?void 0:g.state)==="eligible",D=g&&qs(g==null?void 0:g.coupon)&&(g==null?void 0:g.state)==="eligible";let L=null;(A||D)&&(L={plan_name:"chatgptteamplan",title:"",summary:"",discount:{value:0,currency_code:"USD"},duration:{num_periods:1,period:"month"},price_period:"recurring",promotion_type:"discount",promotion_type_label:null}),A?x=Q(G({},x),{cost:Q(G({},x.cost),{costInDollars:le.promoCost,costInPounds:le.promoCost,costInEuros:le.promoCost,costInINR:le.promoCostINR,costInIDR:le.promoCostIDR,costDuration:le.promoCostDuration}),disclaimer:a.currency===it?le.team1dollarPromoDisclaimerINR:a.currency===ct?le.team1dollarPromoDisclaimerIDR:le.team1dollarPromoDisclaimer}):D&&(x=Q(G({},x),{cost:Q(G({},x.cost),{costInDollars:fe.promoCost,costInPounds:fe.promoCost,costInEuros:fe.promoCost,costInINR:fe.promoCostINR,costInIDR:fe.promoCost,costDuration:fe.promoCostDuration}),disclaimer:fe.teamFreeTrialPromoDisclaimerWithPerSeatMonthlyPrice}));const U=Y=>{var v;if(!C&&!Y){_(!0);return}H.logEvent("Account Pay: Payment Checkout Clicked",F),Ge(P,"chatgpt_account_payment_modal_upgrade_button_click",je);const I=(v=new URLSearchParams(window.location.search).get("referrer"))!=null?v:document.referrer;Fs.setPurchaseWorkspaceData({minimumSeats:S,billingDetails:a,promoData:(g==null?void 0:g.state)==="eligible"?g:void 0,referrer:I}),Ts(M)};return Vt(E,{plan:F}),t.jsxs(t.Fragment,{children:[t.jsx(ut,{planType:je,isWebRedesign:n,className:oe(u,n&&!o&&"md:max-w-117"),elementId:Ns,pricingPlan:x,promoData:g,promoMetadata:L,type:r,shouldUseComparisonSpacing:m,isUnifiedPricingPage:o,isBusinessUpgradeV2CopyEnabled:k,useRecommendedBadge:r===Je.highlight,callToActionButton:t.jsxs("div",{className:"flex flex-col gap-2",children:[b&&t.jsx(nt,{planType:je,isCurrentPlan:!0,disabled:e!=null||b,onClick:()=>U(),testId:"select-plan-button-teams-upgrade",children:d.formatMessage(x.callToAction.active)}),i!=null?i:t.jsx(nt,{className:"w-full",planType:je,disabled:e!=null,activeColor:r===Je.highlight?"purple":void 0,onClick:()=>U(),testId:"select-plan-button-teams-create",children:b||w?d.formatMessage(x.callToAction.create):d.formatMessage(x.callToAction.inactive)})]}),billingDetails:a}),t.jsx($e,{testId:"modal-add-email",isOpen:E,onClose:()=>_(!1),type:"success",className:"max-w-sm",children:t.jsx(Ht,{enterEmailTitle:d.formatMessage(ae.addEmailTitle),enterEmailDescription:d.formatMessage(ae.addEmailDescription),onVerified:async()=>{_(!1),await p(),U(!0)}})})]})};export{oa as A,ka as F,aa as M,na as P,nt as S,Na as T,Vt as a,ta as b,ya as c,ha as d,Ia as e,Sa as f,Pa as g,qt as h,ot as i,fa as j,da as k,ma as l,ae as m,Qt as u};
//# sourceMappingURL=pb6aizka92emjg8u.js.map

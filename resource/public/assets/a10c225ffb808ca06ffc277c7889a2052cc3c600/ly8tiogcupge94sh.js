var I=Object.defineProperty,U=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var D=(t,s,n)=>s in t?I(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,r=(t,s)=>{for(var n in s||(s={}))X.call(s,n)&&D(t,n,s[n]);if(P)for(var n of P(s))q.call(s,n)&&D(t,n,s[n]);return t},k=(t,s)=>U(t,W(s));import{b as h,j as e,M as a,L as N,r as K,d as z,ak as F,G as Z}from"./jj85rqzpbnvv3emr.js";import{dQ as Q}from"./mclphevd122040jw.js";import{W as Y}from"./i5w9a1ap4yrxpqjj.js";import{i as J,pj as O,hZ as v,es as _,E as T,B as x,i6 as $,lC as V,N as G,U as j,d as b,h as w,a1 as ee,bu as E,bv as A,j4 as te,f as se,nL as ae,o5 as ne,o6 as oe,qe as ie,qf as le,i5 as H,T as re}from"./lef5ym39glv4981l.js";import{R as ce}from"./m83mvyv553om663v.js";import{h as de}from"./jza9spsuu2f7ynxb.js";import{x as me,c as xe}from"./ef92qx749w9klz4o.js";import"./hqbuxjfjvu1puiaw.js";import"./jxokrjy8ycftw0wv.js";import"./jk4cx3iywxazx01l.js";import"./hc8beflnn681x6ow.js";import"./mw2u7timj0qnsnvj.js";import"./dvqe6kc43fkjsavv.js";import"./nk7ydxm8ptxusvbt.js";import"./k059n59kmbyb9lsl.js";import"./ojb4d4bxj44fs0l8.js";import"./oz589d7sqtxcbljf.js";import"./kxedrjbxv2qblujd.js";function ge(){var i;J();const t=h(),s=V("installations/select_target"),{isConnected:n,isLoading:l,error:m,openGithubModal:d,refetch:g,handleDisconnect:u}=O(_.GITHUB_CONNECTOR,"github","/codex/settings/data",v.CODEX),{data:o,isLoading:f}=me();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-md font-medium",children:e.jsx(a,{id:"wham.githubConnectionsRow.githubConnector",defaultMessage:"GitHub"})}),m?e.jsx(ce,{refetchConnectorData:g}):f||l?e.jsx("div",{className:"flex w-full items-center justify-center gap-2",children:e.jsx(T,{className:"h-6 w-6"})}):n?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-token-text-primary flex items-center gap-2 text-sm",children:e.jsx(a,{id:"wham.githubConnectionsRow.title",defaultMessage:"Connected to <b>{githubLogin}</b>",values:{b:p=>e.jsx("b",{children:p}),githubLogin:(i=o==null?void 0:o.github_handle)!=null?i:"GitHub"}})}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(x,{color:"danger-outline",className:"w-fit",loading:l,onClick:u,"aria-label":t.formatMessage({id:"wham.githubConnectionRow.disconnectAriaLabel",defaultMessage:"Button to disconnect GitHub connection"}),children:e.jsx(a,{id:"wham.githubConnectionRow.disconnect",defaultMessage:"Disconnect"})}),e.jsx(x,{color:"secondary",className:"w-fit",onClick:()=>de(s),"aria-label":t.formatMessage({id:"wham.githubConnectionRow.settingsAriaLabel",defaultMessage:"Button to go to GitHub installations settings page"}),children:e.jsx(a,{id:"wham.githubConnectionRow.settings",defaultMessage:"Settings"})})]})]}):e.jsxs("div",{className:"text-token-text-secondary flex flex-col gap-2 text-sm",children:[e.jsx("p",{className:"pb-2 text-xs",children:e.jsx(a,{id:"wham.githubConnectionsRow.githubConnection",defaultMessage:"Connect to your GitHub repositories to use in Codex"})}),e.jsx(x,{icon:n?void 0:$,color:"primary",className:"w-fit",loading:l,onClick:d,children:e.jsx(a,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"})})]})]})}function ue(){const{data:t,isLoading:s}=G(j.CodexTrainingAllowed),{data:n}=G(j.TrainingAllowed),l=h(),m=b(w.isBusinessWorkspace),d=b(w.isTeamPlan),g=b(w.isEduPlan),u=ee();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(a,{id:"wham.modelTrainingSettingsRow.modelTraining",defaultMessage:"Model improvement"})}),s?e.jsx("div",{className:"flex items-center justify-center pt-4",children:e.jsx(T,{className:"icon me-1.5"})}):m?e.jsx("div",{className:"text-token-text-secondary text-sm",children:e.jsx(a,r({},d?{id:"settingsModal.chatTrainingTeamsTooltip",defaultMessage:"ChatGPT Business automatically disables training.",description:"Tooltip for the disabled chat training toggle."}:g?{id:"settingsModal.chatTrainingEduTooltip",defaultMessage:"ChatGPT Edu automatically disables training.",description:"Tooltip for the disabled chat training toggle."}:{id:"settingsModal.chatTrainingEnterpriseTooltip",defaultMessage:"ChatGPT Enterprise automatically disables training.",description:"Tooltip for the disabled chat training toggle."}))}):e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"text-token-text-secondary bg-token-bg-secondary mt-2 flex rounded-md px-4 py-4 text-sm",children:n?e.jsx(a,{id:"h0CRL1",defaultMessage:"Model improvement is enabled in <settingsLink>ChatGPT data controls</settingsLink>. Your tasks can be used to improve Codex.",values:{settingsLink:o=>e.jsx(N,{to:E(A.DataControls),className:"ms-1 underline",children:o})}}):e.jsx(a,{id:"/kZNls",defaultMessage:"Training is disabled. Access your ChatGPT data controls <settingsLink>here</settingsLink>.",values:{settingsLink:o=>e.jsx(N,{to:E(A.DataControls),className:"ms-1 underline","aria-label":l.formatMessage({id:"wham.modelTrainingSettingsRow.settingsLinkAriaLabel",defaultMessage:"Link to ChatGPT data controls settings page"}),children:o})}})}),e.jsx("div",{className:"flex w-fit text-sm",children:e.jsx(te,{label:l.formatMessage({id:"wham.modelTrainingSettingsRow.allowTraining",defaultMessage:"Include environments"}),enabled:!!t,ariaLabel:l.formatMessage({id:"wham.modelTrainingSettingsRow.allowTrainingAriaLabel",defaultMessage:"Toggle to include environments in model training data"}),onChange:o=>{xe.recordDataCheckToggle(o),u.mutate({setting:j.CodexTrainingAllowed,value:o})},testId:"improve-model-toggle"})}),e.jsx("p",{className:"text-token-text-secondary text-xs leading-5",children:e.jsx(a,{id:"wham.modelTrainingSettingsRow.disclaimer",defaultMessage:"Allow additional context from your Codex environments to help improve our models. We take steps to protect your privacy. <link>Learn more</link>.",values:{link:o=>e.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",className:"underline",rel:"noopener noreferrer","aria-label":l.formatMessage({id:"wham.modelTrainingSettingsRow.learnMoreAriaLabel",defaultMessage:"Link to learn more about model improvement and privacy settings"}),children:o})}})})]})]})}const c=z({slackConnectorTitle:{id:"wham.slackConnectionsRow.slackConnector",defaultMessage:"Slack"},slackConnectorDescription:{id:"wham.slackConnectionsRow.slackConnection",defaultMessage:"Connect to Slack so you can ask @codex to answer questions or draft PRs right from Slack."},slackConnectorConnected:{id:"wham.slackConnectionsRow.title",defaultMessage:"Connected as <b>{account}</b>"},slackConnectorInstallNote:{id:"wham.slackConnectionsRow.installNote",defaultMessage:"Remember: if the Codex app isnâ€™t installed yet, ask your Slack workspace admin to install it via <link>this page</link> first."},connectSlack:{id:"wham.slackConnectionsRow.connectSlack",defaultMessage:"Connect to Slack"},disconnectSlack:{id:"wham.slackConnectionRow.disconnect",defaultMessage:"Disconnect"},retrySlack:{id:"wham.slackConnectionsRow.retry",defaultMessage:"Failed to load Slack connection"},retryTooltip:{id:"wham.slackConnectionsRow.retryTooltip",defaultMessage:"Click to retry"},defaultWorkspaceName:{id:"wham.slackConnectionsRow.defaultWorkspaceName",defaultMessage:"Slack workspace"}});function he({refetchConnectorData:t}){const s=h();return e.jsx(re,{label:s.formatMessage(c.retryTooltip),children:e.jsx(x,{color:"secondary",size:"small",type:"button",className:"border-token-border-default flex w-fit items-center gap-1.5 rounded-full! border",onClick:t,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(H,{"aria-hidden":!0,className:"icon-sm"}),e.jsx(a,r({},c.retrySlack))]})})})}function fe(){var M,S,y,R,L;const t=h(),s=se(),n=ae(),l=K.useCallback(()=>{ne({redirectUri:oe(),connectorPlatformParams:{connectorId:le,name:"Slack",actionNames:null,oauthClientId:ie,oauthClientScopes:null},redirectTo:"/codex/settings/data",intl:t,toaster:s,productSku:v.CODEX,openPopup:n})},[t,s,n]),{isConnected:m,isLoading:d,error:g,openConnectorModal:u,refetch:o,handleDisconnect:f,link:i,hasConnectorMetadata:p}=O(_.SLACK_CODEX_CONNECTOR,"slack","/codex/settings/data",v.CODEX,l,l);if(!p)return null;const B=(L=(R=(y=(M=i==null?void 0:i.owner_profile)==null?void 0:M.nickname)!=null?y:(S=i==null?void 0:i.owner_profile)==null?void 0:S.name)!=null?R:i==null?void 0:i.name)!=null?L:t.formatMessage(c.defaultWorkspaceName);return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-md font-medium",children:e.jsx(a,r({},c.slackConnectorTitle))}),g?e.jsx(he,{refetchConnectorData:o}):d?e.jsx("div",{className:"flex w-full items-center justify-center gap-2",children:e.jsx(T,{className:"h-6 w-6"})}):m?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-token-text-primary flex items-center gap-2 text-sm",children:e.jsx(a,k(r({},c.slackConnectorConnected),{values:{b:C=>e.jsx("b",{children:C}),account:B}}))}),e.jsx("div",{className:"flex flex-row gap-2",children:e.jsx(x,{color:"danger-outline",className:"w-fit",loading:d,onClick:f,children:e.jsx(a,r({},c.disconnectSlack))})})]}):e.jsxs("div",{className:"text-token-text-secondary flex flex-col gap-3 text-sm",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(a,k(r({},c.slackConnectorInstallNote),{values:{link:C=>e.jsx(N,{className:"text-token-text-link underline",to:"/codex/slack",children:C})}}))}),e.jsx("p",{className:"pb-2 text-xs",children:e.jsx(a,r({},c.slackConnectorDescription))}),e.jsx(x,{icon:m?void 0:H,color:"primary",className:"w-fit",loading:d,onClick:u,children:e.jsx(a,r({},c.connectSlack))})]})]})}function pe(){return e.jsx("div",{className:"border-token-border-heavy flex items-center border-b",children:e.jsx("div",{className:"py-2 text-xl leading-7 font-medium",children:e.jsx(a,{id:"wham.dataControlsHeader.general",defaultMessage:"Data controls"})})})}function Ce(){const{eligible:t}=Q();return t?e.jsx(F,{to:"/codex"}):e.jsx(Y,{topPadding:!0,children:e.jsxs("div",{className:"mx-auto flex h-full max-w-screen-xl flex-1 flex-col gap-2 ps-4 pe-12",children:[e.jsx(pe,{}),e.jsxs("div",{className:"flex max-w-3xl flex-col",children:[e.jsxs("div",{className:"flex flex-col gap-4 pb-16",children:[e.jsx("div",{className:"flex pt-4",children:e.jsx(ge,{})}),e.jsx("div",{className:"flex pt-4",children:e.jsx(fe,{})}),e.jsx("div",{className:"flex pt-4",children:e.jsx(ue,{})})]}),!1]})]})})}const He=()=>[{title:"Codex"}],Be=Z(function(){return e.jsx(Ce,{})});export{Be as default,He as meta};
//# sourceMappingURL=ly8tiogcupge94sh.js.map

var H=Object.defineProperty,K=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var R=(o,e,a)=>e in o?H(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,W=(o,e)=>{for(var a in e||(e={}))Q.call(e,a)&&R(o,a,e[a]);if(z)for(var a of z(e))X.call(e,a)&&R(o,a,e[a]);return o},$=(o,e)=>K(o,J(e));import{b as v,r as m,j as t,m as h,A as M,d as Y}from"./jj85rqzpbnvv3emr.js";import{ed as Z,bq as tt,br as et,mD as st,j7 as at,mE as it,p4 as ot}from"./mclphevd122040jw.js";import{P as u,i as rt,a9 as nt,aI as ct,e as f,B as S,_ as lt}from"./lef5ym39glv4981l.js";import{S as dt}from"./byc485nmh825ib1a.js";import{s as j,R as pt}from"./eyrb6sf5jz8ri0pt.js";import{s as gt}from"./l2l4d2d2bzani7km.js";const mt="{{.assetPrefix}}/assets/check-ic8w9al5.webp",ut={src:mt},bt="{{.assetPrefix}}/assets/prompt_tour_bg_1-iuffr7bz.webp",ht={src:bt},xt="{{.assetPrefix}}/assets/prompt_tour_bg_1_dark-np9f86bj.webp",ft={src:xt},yt="{{.assetPrefix}}/assets/redesign_house-j7tyooum.webp",kt={src:yt},wt="{{.assetPrefix}}/assets/sms-iu0m1fyn.webp",_t={src:wt},jt="{{.assetPrefix}}/assets/static_onboarding_bg_1-ecvwtnea.webp",Mt={src:jt},St="{{.assetPrefix}}/assets/static_onboarding_bg_2-j383egmg.webp",Nt={src:St},vt="{{.assetPrefix}}/assets/static_onboarding_bg_3-ooawgpki.webp",q={src:vt},Ct="{{.assetPrefix}}/assets/static_onboarding_bg_3_dark-c2x8mkcs.webp",Pt={src:Ct},Tt="{{.assetPrefix}}/assets/static_onboarding_bg_all_set-gymwu5pk.webp",Et={src:Tt},i=Y({title:{id:"static-new-user-onboarding.title",defaultMessage:"Welcome to ChatGPT"},askAnythingTitle:{id:"static-new-user-onboarding.ask-anything.title",defaultMessage:"Ask anything"},askAnythingDescription:{id:"static-new-user-onboarding.ask-anything.description",defaultMessage:"From quick questions to big ideas, ChatGPT is here to help."},askAnythingPrompt:{id:"static-new-user-onboarding.ask-anything.prompt-2",defaultMessage:"Help me build a morning routine to start my day with more focus"},pictureThisTitle:{id:"static-new-user-onboarding.picture-this.title-2",defaultMessage:"Create images"},pictureThisDescription:{id:"static-new-user-onboarding.picture-this.description",defaultMessage:"Describe an idea and watch it come to life, or edit your photos with just a phrase."},pictureThisPrompt:{id:"static-new-user-onboarding.picture-this.prompt-2",defaultMessage:"Redesign this room with new paint and furniture"},pictureThisLongPrompt:{id:"static-new-user-onboarding.picture-this.long-prompt-2",defaultMessage:"Redesign this room with new paint and furniture. I'll attach the photo of the room."},easyUploadsTitle:{id:"static-new-user-onboarding.easy-uploads.title-2",defaultMessage:"Chat about images or files"},easyUploadsDescription:{id:"static-new-user-onboarding.easy-uploads.description",defaultMessage:"Get instant summaries or analysis by uploading images and documents."},easyUploadsPrompt:{id:"static-new-user-onboarding.easy-uploads.prompt-2",defaultMessage:"Look at this screenshot. Do you think it’s a scam or a phishing attempt?"},easyUploadsPromptLong:{id:"static-new-user-onboarding.easy-uploads.prompt-long-2",defaultMessage:"Look at this screenshot. Do you think it’s a scam or a phishing attempt? I'll attach the screenshot."},tryIt:{id:"static-new-user-onboarding.try-it",defaultMessage:"Try it"},next:{id:"static-new-user-onboarding.next",defaultMessage:"Next"},close:{id:"static-new-user-onboarding.close",defaultMessage:"Close"},screenshot:{id:"static-new-user-onboarding.screenshot",defaultMessage:"Screenshot"},quickHeadsup:{id:"static-new-user-onboarding.quick-headsup",defaultMessage:"A quick heads up"},startTour:{id:"static-new-user-onboarding.start-tour",defaultMessage:"Start Tour"}}),B="static-onboarding.all-set";function Ot({prompt:o,onSubmit:e}){const a=v();return t.jsxs("span",{className:"group bg-token-bg-elevated-primary border-token-border-light inline-flex items-end justify-center gap-3 self-stretch rounded-3xl border p-3 ps-4 shadow-xl backdrop-blur-[20px]",onClick:()=>{u.logEventWithStatsig("Onboarding Click Composer","chatgpt_onboarding_flow_click_composer")},children:[t.jsx("span",{className:"text-token-text-primary flex-1 justify-end text-start text-sm leading-tight font-normal opacity-65 duration-300 sm:group-hover:opacity-100",children:o}),t.jsx(S,{icon:dt,size:"small",label:a.formatMessage(j.tryNow),onClick:d=>{e(d),u.logEventWithStatsig("Onboarding Click Composer Submit","chatgpt_onboarding_flow_click_composer_submit")},className:"h-7 w-7 transition-all duration-300 sm:opacity-65 sm:group-hover:opacity-100"})]})}function Dt(o){const e=v(),a=lt(),d=it(),y={id:B,bg:Et.src,title:e.formatMessage(j.allSet),description:t.jsx("span",{className:"text-token-text-secondary text-center text-base leading-6",children:t.jsx(pt,{})}),hideSecondaryButton:!0,sticker:{image:ut.src,imageClassName:"w-24 h-24 rounded-2xl"}};return o==="PROMPTS"?[{id:"static-onboarding.see-what-chatgpt-can-do",bg:a?ft.src:ht.src,title:e.formatMessage(j.promptOnboardingTitle),description:e.formatMessage(j.promptOnboardingSubtitle),sticker:{image:_t.src,imageClassName:"w-[140px] h-[140px] rounded-2xl"},hideSecondaryButton:!0},...d.slice(0,3).map(p=>{var k;return{id:(k=p.id)!=null?k:"",bgColor:p.accentColor,title:p.title,description:p.body,descriptionStyle:"composer",promptLong:p.prompt,sticker:{image:p.iconImageUrl,imageClassName:"w-[140px] h-[140px]"}}}),$(W({},y),{bg:a?Pt.src:q.src,sticker:void 0})]:[{id:"static-onboarding.ask-anything",bg:Mt.src,prompt:e.formatMessage(i.askAnythingPrompt),title:e.formatMessage(i.askAnythingTitle),description:e.formatMessage(i.askAnythingDescription),sticker:{image:gt.src,imageClassName:"w-24 h-24 sm:w-28 sm:h-28 rotate-[-5deg] rounded-2xl absolute top-0 right-full translate-x-5 sm:translate-x-6 -translate-y-8"},bubbleClassName:"rotate-[-1deg]",className:"flex-row-reverse translate-x-3 sm:translate-x-4"},{id:"static-onboarding.picture-this",bg:Nt.src,prompt:e.formatMessage(i.pictureThisPrompt),promptLong:e.formatMessage(i.pictureThisLongPrompt),title:e.formatMessage(i.pictureThisTitle),description:e.formatMessage(i.pictureThisDescription),sticker:{image:kt.src,imageClassName:"w-24 h-24 origin-top-left rotate-[3.61deg] -translate-x-1.5 translate-y-4  rounded-3xl shadow-[0_4px_12px_rgba(0,0,0,0.2)]"},bubbleClassName:"rotate-[-1deg]"},{id:"static-onboarding.easy-uploads",bg:q.src,prompt:e.formatMessage(i.easyUploadsPrompt),promptLong:e.formatMessage(i.easyUploadsPromptLong),title:e.formatMessage(i.easyUploadsTitle),description:e.formatMessage(i.easyUploadsDescription),sticker:{icon:t.jsx(ot,{}),text:e.formatMessage(i.screenshot)+".png"},className:"rotate-[1deg]"},y]}function qt({clientThreadId:o}){var O,D,A,L,U;const{isOpen:e,isLoading:a,closeModal:d,markAsViewed:y}=Z(),{markAsViewed:p,eligible:k}=tt(et.Onboarding),w=v(),C=st({clientThreadId:o}),P=m.useCallback(()=>{u.logEventWithStatsig("Onboarding Dismissed","chatgpt_onboarding_flow_dismissed"),d()},[d]),T=m.useCallback((r,x,n)=>{var b,I;const l=(b=n.promptLong)!=null?b:n.prompt;if(l)try{C({suggestedPrompt:{id:n.id,type:at.Starter,title:(I=n.title)!=null?I:"",body:typeof n.description=="string"?n.description:"",prompt:l},index:x,isOnboarding:!0}),d(),u.logEventWithStatsig("Onboarding Try Prompt","chatgpt_onboarding_flow_try_prompt",{step_index:x,prompt_id:n.id})}catch(N){u.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{error:N instanceof Error?N.message:String(N)})}},[C,d]),F=rt(),_=nt(F,"109457",{disableExposureLog:!0}).get("feature_tour_slide_type","FEATURES"),g=Dt(_);m.useEffect(()=>{const r=g.flatMap(n=>{var b;const l=[];return n.bg&&l.push(n.bg),(b=n.sticker)!=null&&b.image&&l.push(n.sticker.image),l});Array.from(new Set(r)).forEach(n=>{var b;const l=new Image;l.src=n,(b=l.decode)==null||b.call(l).catch(()=>{})})},[g]);const[c,E]=m.useState(0);m.useEffect(()=>{e&&!a&&(y(),u.logEventWithStatsig("Onboarding Shown","chatgpt_onboarding_flow_shown"))},[e,a,y]),m.useEffect(()=>{e&&!a&&u.logEventWithStatsig("Onboarding Step Shown","chatgpt_onboarding_step_shown",{step_index:c})},[c,e,a]),m.useEffect(()=>{var r;e&&!a&&((r=g[c])==null?void 0:r.id)===B&&k&&p()},[c,e,a,p,g,k]);const G=m.useCallback(()=>{u.logEventWithStatsig("Onboarding Next","chatgpt_onboarding_flow_next_clicked",{step_index:c}),E(r=>Math.min(r+1,g.length-1))},[c,g.length]),V=m.useCallback(()=>{u.logEventWithStatsig("Onboarding Finished","chatgpt_onboarding_flow_finished"),d()},[d]);if(!e||a)return null;const s=g[c];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:[t.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35},className:"absolute inset-0 bg-black/60","aria-hidden":"true",onClick:P}),t.jsx(M,{mode:"wait",children:t.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35},className:"relative z-10 w-full sm:max-w-[480px]",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.15)"},onClick:r=>r.stopPropagation(),children:t.jsxs("div",{className:"overflow-hidden rounded-t-3xl sm:rounded-3xl",children:[t.jsx("button",{type:"button","aria-label":w.formatMessage(i.close),onClick:P,className:"outline-token-border-xlight absolute end-3 top-3 z-20 rounded-full bg-white/30 p-2 shadow outline outline-1 backdrop-blur-md focus:ring-2 focus:ring-blue-500 focus:outline-none",children:t.jsx(ct,{className:"icon text-black"})}),t.jsxs("div",{className:"bg-token-bg-primary pointer-events-none relative h-48 w-full select-none sm:h-52",children:[t.jsxs(M,{initial:!1,children:[s.bg&&t.jsx(h.img,{src:s.bg,alt:w.formatMessage(i.title),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 h-full w-full rounded-t-3xl object-cover object-top"},s.bg),s.bgColor&&t.jsx(h.div,{className:"absolute inset-0",style:{background:s.bgColor},initial:{opacity:0},animate:{opacity:.1},exit:{opacity:0},transition:{duration:.5}},s.bgColor)]}),_==="PROMPTS"&&t.jsx("div",{className:"from-token-bg-primary absolute start-0 bottom-0 z-10 h-full w-full bg-gradient-to-t from-[0%] to-transparent to-[30%]"}),t.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center px-6 sm:px-8",children:t.jsx(M,{mode:"wait",children:t.jsxs(h.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:f("relative ms-1.5 flex max-w-[80%] sm:max-w-[70%]",(O=s.sticker)!=null&&O.text?"flex-col items-end":"items-center",s.className),children:[((D=s.sticker)==null?void 0:D.text)&&t.jsx(h.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:"z-10 -translate-x-2 translate-y-1 rounded-full bg-white/80 px-3 py-1.5 text-sm shadow-lg backdrop-blur-md",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-base text-gray-800",children:[s.sticker.icon&&t.jsx("span",{children:s.sticker.icon}),t.jsx("span",{children:s.sticker.text})]})}),s.prompt&&t.jsx("div",{className:f("pointer-events-auto inline-block rounded-3xl px-4 py-3 leading-6 text-black shadow-lg backdrop-blur-sm supports-[backdrop-filter]:bg-white/80 sm:px-5 sm:py-4 sm:text-lg",s.bubbleClassName),children:s.prompt}),((A=s.sticker)==null?void 0:A.image)&&t.jsx(h.img,{src:s.sticker.image,alt:"",initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:f((L=s.sticker.imageClassName)!=null?L:"h-16 w-16 -translate-x-3 rotate-10 rounded-2xl shadow-[0_4px_12px_rgba(0,0,0,0.2)]")})]},s.id)})})]}),t.jsxs("div",{className:f("bg-token-main-surface-primary flex flex-col justify-center px-8 pb-8",_==="PROMPTS"?"pt-0":"pt-6"),children:[t.jsx(M,{mode:"wait",children:t.jsxs(h.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,delay:.1},children:[t.jsx("h2",{className:f("text-token-text-primary mb-4 text-center",_==="PROMPTS"?"text-xl font-medium":"text-2xl font-semibold"),children:s.title}),t.jsx("p",{className:f("text-token-text-secondary mx-auto text-center text-base leading-6",_==="PROMPTS"?"min-h-[5rem]":"min-h-[4.5rem] max-w-[80%]"),children:s.descriptionStyle==="composer"?t.jsx(Ot,{prompt:s.description,onSubmit:r=>T(r,c,s)}):s.description})]},s.id)}),t.jsx("div",{className:"my-6 flex items-center justify-center","aria-hidden":"true",children:g.map((r,x)=>t.jsx("button",{onClick:()=>E(x),className:"p-[3px]",children:t.jsx("div",{className:f("h-1.5 w-1.5 rounded-full transition-colors duration-300 ease-out",x===c?"bg-token-main-surface-primary-inverse":"bg-token-bg-secondary dark:bg-token-bg-tertiary")})},x))}),t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[!s.hideSecondaryButton&&((U=s.secondaryButton)!=null?U:t.jsx(S,{size:"large",color:"secondary",className:"flex-1",onClick:r=>T(r,c,s),children:w.formatMessage(i.tryIt)})),c<g.length-1?t.jsx(S,{size:"large",color:"primary",className:"flex-1",onClick:G,children:w.formatMessage(i.next)}):t.jsx(S,{size:"large",color:"primary",className:"flex-1",onClick:V,children:w.formatMessage(j.done)})]})]})]})})})]})}export{qt as default};
//# sourceMappingURL=i7ccy3s598cxt4cl.js.map

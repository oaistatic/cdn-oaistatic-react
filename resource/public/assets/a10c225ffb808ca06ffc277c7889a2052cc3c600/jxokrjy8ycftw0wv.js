var Ne=Object.defineProperty,Ce=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var xe=(s,e,i)=>e in s?Ne(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,I=(s,e)=>{for(var i in e||(e={}))Le.call(e,i)&&xe(s,i,e[i]);if(be)for(var i of be(e))Ie.call(e,i)&&xe(s,i,e[i]);return s},ee=(s,e)=>Ce(s,Me(e));import{c as fe,b as Fe,j as t,m as ye,r as de,A as Ee,M as ce}from"./jj85rqzpbnvv3emr.js";import{hB as De,hC as _e,ax as je,hD as Oe,hE as Pe,hF as we,hG as Ae,fz as ke,hH as Ue,hI as Ke,bj as Re,hJ as pe,hK as ve,hL as We,hM as Te,hN as Be}from"./mclphevd122040jw.js";import{au as Ve,az as qe,pD as ze,p4 as $e,P as ue,i as Ge,e as He,ax as Je}from"./lef5ym39glv4981l.js";import{w as Xe,P as Qe,i as Ye}from"./jk4cx3iywxazx01l.js";function Ze(){return Xe(De,arguments)}const et=s=>{"use forget";const e=fe.c(22),{usernameKind:i,emailProps:l,phoneProps:d,emailField:r,phoneNumberField:f,disabled:v}=s,g=Fe(),C=st(),u=_e.useStore();let b;e[0]!==g?(b=g.formatMessage({id:"dynamicUsernameInput.email",defaultMessage:"Email address"}),e[0]=g,e[1]=b):b=e[1];const x=b,E=_e.useUsernameKindSwitching();let D;e[2]===Symbol.for("react.memo_cache_sentinel")?(D={initial:{opacity:0,height:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:"auto"},transition:{opacity:{duration:.1},height:{duration:.22,ease:"easeInOut"}},layout:!0},e[2]=D):D=e[2];const O=D;let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y={initial:{opacity:0,height:60},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:60},transition:{opacity:{duration:.1},height:{duration:.22,ease:"easeInOut"}},layout:!0},e[3]=y):y=e[3];const a=y;let _;e[4]!==u?(_=function(){u.exitUsernameKindSwitching()},e[4]=u,e[5]=_):_=e[5];const S=_,F=je(ot),Y=je(at);let o;e[6]!==v||e[7]!==r||e[8]!==x||e[9]!==l||e[10]!==g||e[11]!==F||e[12]!==Y||e[13]!==f||e[14]!==d||e[15]!==C||e[16]!==i||e[17]!==E?(o=i==="email"?t.jsx(ye.div,ee(I({className:"-m-1 overflow-hidden p-1"},E?I({},O):{}),{children:t.jsx(Se,{children:N=>{var h;const{ref:M}=N;return t.jsx($e,ee(I({ref:M,name:r.name,value:r.state.value,onChange:p=>{r.handleChange(p.target.value),F()},inputClassName:"w-full rounded-full! text-base! sm:text-base! px-5! py-3! h-14!",error:(h=r.state.meta.errors.join(","))!=null?h:void 0,showErrorIcon:!0,ariaLabel:x,placeholder:x,className:"focus-within:border-token-border-heavy! rounded-full! border-[var(--border-heavy)] p-0! px-0! py-0! focus-within:ring-1",autoComplete:"email",autoFocus:!0},l),{disabled:v}))}})}),"email"):i==="phone_number"?t.jsx(ye.div,ee(I({className:"-m-1 overflow-hidden p-1"},E?I({},a):{}),{children:t.jsx(Se,{children:N=>{var h;const{ref:M}=N;return t.jsx(Qe,ee(I({nativeInputRef:M,countries:C,value:f.state.value,setValue:p=>{f.handleChange(p),Y()},error:(h=f.state.meta.errors.join(","))!=null?h:void 0,label:g.formatMessage({id:"dynamicUsernameInput.phone",defaultMessage:"Phone number"})},d),{disabled:v}))}})}),"phone_number"):null,e[6]=v,e[7]=r,e[8]=x,e[9]=l,e[10]=g,e[11]=F,e[12]=Y,e[13]=f,e[14]=d,e[15]=C,e[16]=i,e[17]=E,e[18]=o):o=e[18];let j;return e[19]!==S||e[20]!==o?(j=t.jsx("div",{className:"relative",children:t.jsx(Ee,{mode:"wait",initial:!1,onExitComplete:S,children:o})}),e[19]=S,e[20]=o,e[21]=j):j=e[21],j},tt=Ve({countryCodes:qe(ze())});function st(){"use forget";const s=fe.c(4);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e="1063781658",s[0]=e):e=s[0];let i;s[1]===Symbol.for("react.memo_cache_sentinel")?(i={countryCodes:[]},s[1]=i):i=s[1];const{countryCodes:l}=Oe(e,tt,i);let d,r;return s[2]!==l?(r=l==null?void 0:l.filter(it),s[2]=l,s[3]=r):r=s[3],d=r,d}function it(s){return Ze(s)}const Se=({children:s})=>{"use forget";const e=de.useRef(null);return de.useEffect(()=>{if(e.current)return Pe(e.current)},[]),t.jsx(t.Fragment,{children:s({ref:e})})};function ot(){return ue.logAuthModalEmailTyped()}function at(){return ue.logAuthModalPhoneNumberTyped()}const dt=s=>{"use forget";const e=fe.c(82),{onClose:i,title:l,subtitle:d,callbackUrl:r,authorizationParams:f,isStayLoggedOutVisible:v,isUsernameOnTop:g}=s,C=g===void 0?!1:g,u=Fe();let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b={loginStrategy:"existing_user"},e[0]=b):b=e[0];const{phoneNumberOption:x,emailOption:E,optionsForDisplay:D}=we(b),O=D.length>1;let y;e[1]!==x.enabled?(y={allowPhone:x.enabled},e[1]=x.enabled,e[2]=y):y=e[2];const[a,_]=Ae(y),S=E.tempDisabled,F=x.tempDisabled,Y=a==="email"&&S||a==="phone_number"&&F,[o,j]=de.useState(!1),N=de.useId(),M=Ge();let h;e[3]!==f||e[4]!==r||e[5]!==M?(h=Ue(M,r,f),e[3]=f,e[4]=r,e[5]=M,e[6]=h):h=e[6];const p=h;let te;e[7]!==p?(te=async n=>{j(!0),await Ke(p,n,"login modal"),j(!1)},e[7]=p,e[8]=te):te=e[8];const Z=te;let se;e[9]===Symbol.for("react.memo_cache_sentinel")?(se={email:"",phoneNumber:""},e[9]=se):se=e[9];let P;e[10]!==p||e[11]!==a?(P=async n=>{const{value:m}=n;j(!0),await p({screen_hint:"login_or_signup",login_hint:a==="email"?m.email:m.phoneNumber},L=>{ue.logLoginOrSignUpButtonClicked({location:"login modal",provider:L,idp:a})}),j(!1)},e[10]=p,e[11]=a,e[12]=P):P=e[12];let w;e[13]!==u||e[14]!==a?(w={onSubmit:n=>{const{value:m}=n,L={};return a==="email"?m.email?Re.test(m.email)||(L.email=u.formatMessage({id:"loginForm.emailInvalid",defaultMessage:"Email is not valid."})):L.email=u.formatMessage({id:"loginForm.emailRequired",defaultMessage:"Email is required."}):a==="phone_number"&&(m.phoneNumber?Ye(m.phoneNumber)||(L.phoneNumber=u.formatMessage({id:"loginForm.phoneNumberInvalid",defaultMessage:"Phone number is not valid."})):L.phoneNumber=u.formatMessage({id:"loginForm.phoneNumberRequired",defaultMessage:"Phone number is required."})),{fields:L}}},e[13]=u,e[14]=a,e[15]=w):w=e[15];let ie;e[16]!==P||e[17]!==w?(ie={defaultValues:se,onSubmit:P,validators:w},e[16]=P,e[17]=w,e[18]=ie):ie=e[18];const c=ke(ie);let A;e[19]!==a?(A=n=>a===n.name,e[19]=a,e[20]=A):A=e[20];let k,U,K;e[21]!==Z||e[22]!==o?(k=n=>{const{tempDisabled:m}=n;return t.jsx(pe,{provider:"google",disabled:m||o,className:"h-14 rounded-full text-base",onClick:()=>Z("google")})},U=n=>{const{tempDisabled:m}=n;return t.jsx(pe,{provider:"microsoft",disabled:m||o,className:"h-14 rounded-full text-base",onClick:()=>Z("microsoft")})},K=n=>{const{tempDisabled:m}=n;return t.jsx(pe,{provider:"apple",disabled:m||o,className:"h-14 rounded-full text-base",onClick:()=>Z("apple")})},e[21]=Z,e[22]=o,e[23]=k,e[24]=U,e[25]=K):(k=e[23],U=e[24],K=e[25]);let R,W;e[26]!==o||e[27]!==_||e[28]!==c||e[29]!==a?(R=()=>t.jsx(ve,{usernameKind:a,setUsernameKind:_,form:c,disabled:o}),W=()=>t.jsx(ve,{usernameKind:a,setUsernameKind:_,form:c,disabled:o}),e[26]=o,e[27]=_,e[28]=c,e[29]=a,e[30]=R,e[31]=W):(R=e[30],W=e[31]);let oe;e[32]!==A||e[33]!==k||e[34]!==U||e[35]!==K||e[36]!==R||e[37]!==W?(oe=t.jsx(We,{loginStrategy:"existing_user",omitIf:A,google:k,microsoft:U,apple:K,email:R,phone_number:W}),e[32]=A,e[33]=k,e[34]=U,e[35]=K,e[36]=R,e[37]=W,e[38]=oe):oe=e[38];const ae=oe;let T;e[39]!==o||e[40]!==S||e[41]!==F||e[42]!==c.Field||e[43]!==a?(T=n=>t.jsx(c.Field,{name:"phoneNumber",children:m=>t.jsx(et,{usernameKind:a,emailProps:{disabled:S},phoneProps:{disabled:F},emailField:n,phoneNumberField:m,disabled:o})}),e[39]=o,e[40]=S,e[41]=F,e[42]=c.Field,e[43]=a,e[44]=T):T=e[44];let B;e[45]!==T||e[46]!==c.Field?(B=t.jsx(c.Field,{name:"email",children:T}),e[45]=T,e[46]=c.Field,e[47]=B):B=e[47];const he=Y||o;let V;e[48]!==he?(V=t.jsx(Te,{color:"primary",disabled:he}),e[48]=he,e[49]=V):V=e[49];let ne;e[50]!==B||e[51]!==V?(ne=t.jsxs(t.Fragment,{children:[B,V]}),e[50]=B,e[51]=V,e[52]=ne):ne=e[52];const le=ne;let re;e[53]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx(Be,{children:t.jsx(ce,{id:"loginForm.or",defaultMessage:"OR"})}),e[53]=re):re=e[53];const ge=re;let q;e[54]!==l?(q=l!=null?l:t.jsx(ce,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[54]=l,e[55]=q):q=e[55];let z;e[56]!==q?(z=t.jsx("h2",{className:"text-center text-3xl font-normal",children:q}),e[56]=q,e[57]=z):z=e[57];let $;e[58]!==d?($=d!=null?d:t.jsx(ce,{id:"loginForm.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."}),e[58]=d,e[59]=$):$=e[59];let G;e[60]!==$?(G=t.jsx("p",{className:"mb-4 px-4 text-center text-base",children:$}),e[60]=$,e[61]=G):G=e[61];let H;e[62]!==c?(H=n=>{n.preventDefault(),c.handleSubmit()},e[62]=c,e[63]=H):H=e[63];let J;e[64]!==O||e[65]!==C||e[66]!==ae||e[67]!==le?(J=C?t.jsxs(t.Fragment,{children:[le,O&&t.jsxs(t.Fragment,{children:[ge,ae]})]}):t.jsxs(t.Fragment,{children:[O&&t.jsxs(t.Fragment,{children:[ae,ge]}),le]}),e[64]=O,e[65]=C,e[66]=ae,e[67]=le,e[68]=J):J=e[68];let X;e[69]!==o||e[70]!==v||e[71]!==i?(X=v&&t.jsx("div",{className:"text-center",children:t.jsx("a",{href:"#",className:He("text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",o&&"opacity-50"),onClick:n=>{n.preventDefault(),ue.logEventWithStatsig("No Auth Welcome Modal Stay Logged Out Link Clicked","chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),Je.addAction("chatgpt_auth_modal_stay_logged_out"),i()},"data-testid":"dismiss-welcome",children:t.jsx(ce,{id:"LoginForm.stayLoggedOut",defaultMessage:"Stay logged out"})})}),e[69]=o,e[70]=v,e[71]=i,e[72]=X):X=e[72];let Q;e[73]!==N||e[74]!==H||e[75]!==J||e[76]!==X?(Q=t.jsxs("form",{className:"flex flex-col gap-4","aria-labelledby":N,autoComplete:"on",onSubmit:H,children:[J,X]}),e[73]=N,e[74]=H,e[75]=J,e[76]=X,e[77]=Q):Q=e[77];let me;return e[78]!==z||e[79]!==G||e[80]!==Q?(me=t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col items-stretch gap-5 px-6 pb-10","data-testid":"login-form",children:[z,G,Q]})}),e[78]=z,e[79]=G,e[80]=Q,e[81]=me):me=e[81],me},ut={initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.22,ease:[.4,0,.2,1]}};export{dt as L,ut as g};
//# sourceMappingURL=jxokrjy8ycftw0wv.js.map

var y=Object.defineProperty;var x=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var M=(a,i,s)=>i in a?y(a,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[i]=s,l=(a,i)=>{for(var s in i||(i={}))C.call(i,s)&&M(a,s,i[s]);if(x)for(var s of x(i))N.call(i,s)&&M(a,s,i[s]);return a};import{r as h,j as e,b as g,M as o,d as E}from"./jj85rqzpbnvv3emr.js";import{c6 as P,be as D,c7 as v}from"./mclphevd122040jw.js";import{S as L}from"./jucwzbakxra299c6.js";import{on as B,R as u,C as j,ai as b,ez as c,oo as w,e as A}from"./lef5ym39glv4981l.js";import{H as I}from"./g2ai8r9l01vd7cnd.js";const m=({value:a,isSelected:i,onSelect:s,workspacePlanType:r})=>e.jsxs("button",{className:"mb-2 flex w-full cursor-pointer items-center justify-between outline-hidden lg:text-start",onClick:()=>s(a),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="transfer"?e.jsx(L,{className:"icon-sm"}):e.jsx(D,{className:"icon-sm"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:a==="transfer"?e.jsx(o,l({},t.initialModalTransferLabel)):e.jsx(o,l({},t.initialModalExportLabel))}),e.jsx("div",{className:"text-token-text-secondary text-sm",children:a==="transfer"?w(r)?e.jsx(o,l({},t.initialModalTransferEduDetail)):e.jsx(o,l({},t.initialModalTransferEnterpriseDetail)):e.jsx(o,l({},t.initialModalExportDetail))})]})]}),e.jsx("div",{className:A({"flex h-4 w-4 shrink-0 rounded-full border align-middle":!0,"bg-black":i}),children:i&&e.jsx(v,{className:"m-auto h-3 w-3 scale-x-75 stroke-4 text-white"})})]}),S=({setCurrentStep:a,destinationWorkspaceName:i,destinationWorkspaceProfilePictureUrl:s,destinationWorkspacePlanType:r})=>{const[n,f]=h.useState(""),d=g(),k=async()=>{n==="transfer"?a(1):n==="export"&&a(2)},T=w(r)?d.formatMessage(t.initialModalEduTitle):d.formatMessage(t.initialModalEnterpriseTitle);return e.jsx(j,{testId:"modal-account-transfer",isOpen:!0,onClose:b,type:"warning",title:T,primaryButton:e.jsx(c,{title:d.formatMessage(t.initialModalConfirm),onClick:k,color:"primary",className:"ms-4"}),children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex w-full items-center gap-4",children:[e.jsx(P,{src:s,size:"large"}),e.jsx("div",{className:"font-semibold",children:i})]}),e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"mb-2 text-base font-semibold",children:e.jsx(o,l({},t.initialModalExplanation))}),e.jsx("div",{className:"text-token-text-secondary mb-2 text-sm",children:e.jsx(o,l({},t.initialModalMustChoose))}),e.jsxs("ul",{className:"text-token-text-secondary list-disc ps-5 text-sm",children:[e.jsx("li",{className:"mb-2",children:e.jsx(o,l({},t.initialModalDataDelete))}),e.jsx("li",{children:e.jsx(o,l({},t.initialModalBilling))})]})]}),e.jsx(m,{value:"transfer",isSelected:n==="transfer",onSelect:f,workspacePlanType:r}),e.jsx(I,{}),e.jsx(m,{value:"export",isSelected:n==="export",onSelect:f,workspacePlanType:r})]})})},p=({currentStep:a,setCurrentStep:i,performAction:s})=>{const r=g();return e.jsx(j,{testId:"modal-account-transfer-selected",isOpen:!0,onClose:b,type:"success",title:r.formatMessage(t.selectedModalTitle),primaryButton:e.jsx(c,{title:a===1?r.formatMessage(t.transferModalConfirm):r.formatMessage(t.exportModalConfirm),color:a===2?"danger":"primary",onClick:s}),secondaryButton:e.jsx(c,{title:r.formatMessage(t.selectedModalBack),color:"secondary",onClick:async()=>{i(0)}}),children:e.jsxs("div",{className:"pb-4",children:[e.jsx("h3",{className:"mb-2 text-base font-semibold",children:a===1?e.jsx(o,l({},t.transferModalConfirmTitle)):e.jsx(o,l({},t.exportModalConfirmTitle))}),a===1?e.jsx("div",{className:"text-token-text-secondary text-sm",children:e.jsx(o,l({},t.transferModalConfirmLabel))}):e.jsxs("ul",{className:"text-token-text-secondary list-disc ps-5 text-sm",children:[e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},t.exportModalChatHistoryLabel))}),e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},t.exportModalDeleteLabel))}),e.jsx("li",{className:"mb-1",children:e.jsx(o,l({},t.exportModalChatDownloadLabel))})]}),e.jsx("h4",{className:"text-token-text-primary pt-5 font-semibold",children:a==1?e.jsx(o,l({},t.transferModalProceed)):e.jsx(o,l({},t.exportModalProceed))})]})})};function R(){const[a,i]=h.useState(0),s=B();if(!s)return null;switch(a){case 0:return e.jsx(S,{setCurrentStep:i,destinationWorkspaceName:s.destinationWorkspaceName,destinationWorkspaceProfilePictureUrl:s.destinationWorkspaceProfilePictureUrl,destinationWorkspacePlanType:s.destinationWorkspacePlanType});case 1:return e.jsx(p,{currentStep:a,setCurrentStep:i,performAction:async()=>{(await u.safePost("/accounts/transfer",{requestBody:{workspace_id:s.destinationWorkspaceId}})).success&&(window.location.href="/")}});case 2:return e.jsx(p,{currentStep:a,setCurrentStep:i,performAction:async()=>{(await u.safePost("/accounts/export_and_deactivate")).success&&(window.location.href="/")}})}}const t=E({initialModalEnterpriseTitle:{id:"initialModal.title",defaultMessage:"You've been added to a ChatGPT Enterprise workspace"},initialModalEduTitle:{id:"initialModal.eduTitle",defaultMessage:"You've been added to a ChatGPT Edu workspace"},initialModalExplanation:{id:"initialModal.explanation",defaultMessage:"What should we do with your existing workspace?"},initialModalMustChoose:{id:"initialModal.mustChoose",defaultMessage:"In order to join this new workspace, you must choose to either migrate or export your existing chat history."},initialModalDataDelete:{id:"initialModal.dataDelete",defaultMessage:"All Plugins and Custom Instructions in the existing workspace will be deleted."},initialModalBilling:{id:"initialModal.billing",defaultMessage:"If you have a ChatGPT Plus subscription, it will be canceled and refunded upon completing this step."},initialModalConfirm:{id:"initialModal.confirm",defaultMessage:"Continue"},initialModalTransferLabel:{id:"initialModal.transferLabel",defaultMessage:"Transfer existing chat history and GPTs"},initialModalTransferEnterpriseDetail:{id:"initialModal.initialModalTransferEnterpriseDetail",defaultMessage:"Merge into the Enterprise workspace"},initialModalTransferEduDetail:{id:"initialModal.initialModalTransferEduDetail",defaultMessage:"Merge into the Edu workspace"},initialModalExportLabel:{id:"initialModal.exportLabel",defaultMessage:"Export and delete existing chat history"},initialModalExportDetail:{id:"initialModal.exportDetail",defaultMessage:"Delete the existing workspace"},selectedModalTitle:{id:"selectedModal.title",defaultMessage:"Are you sure?"},selectedModalBack:{id:"selectedModal.back",defaultMessage:"Back"},transferModalConfirmTitle:{id:"transferModal.confirmTitle",defaultMessage:"Transferring chat history is permanent and can't be undone."},transferModalConfirmLabel:{id:"transferModal.confirmLabel",defaultMessage:"Your chat history and GPTs will be transferred to the new workspace and your existing workspace will be deleted."},transferModalConfirm:{id:"transferModal.confirm",defaultMessage:"Confirm transfer"},transferModalProceed:{id:"transferModal.proceed",defaultMessage:'To proceed, click "Confirm transfer" below.'},exportModalConfirmTitle:{id:"exportModal.confirmTitle",defaultMessage:"Deleting chat history is permanent and can't be undone."},exportModalChatHistoryLabel:{id:"exportModal.chatHistoryLabel",defaultMessage:"Your chat history will be included in the export."},exportModalDeleteLabel:{id:"exportModal.deleteLabel",defaultMessage:"Your GPTs, Plugins and Custom Instructions will be deleted."},exportModalChatDownloadLabel:{id:"exportModal.chatDownloadLabel",defaultMessage:"The data will be sent to your registered email in a downloadable file. The download link will expire 24 hours after you receive it."},exportModalConfirm:{id:"exportModal.confirm",defaultMessage:"Export and delete workspace"},exportModalProceed:{id:"exportModal.proceed",defaultMessage:'To proceed, click "Export and delete workspace" below.'}});export{R as default};
//# sourceMappingURL=dvf8g0gnxj4wljvn.js.map

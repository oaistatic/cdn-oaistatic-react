const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hs8fygn783tukjzj.js","assets/jj85rqzpbnvv3emr.js","assets/lef5ym39glv4981l.js","assets/root-ogjlcpyy.css","assets/mclphevd122040jw.js","assets/conversation-small-g7l5datj.css","assets/c9981m30wjsnzhw5.js","assets/ek7qgesc03yusf3u.js","assets/mgvl43usqxj4xeax.js","assets/k6u2cn52t3dhqz8s.js","assets/ctl8k0odelcp7jyc.js","assets/b2ln7neoy4kpkhx3.js"])))=>i.map(i=>d[i]);
var yl=Object.freeze,wl=Object.defineProperty,Ru=Object.defineProperties;var Eu=Object.getOwnPropertyDescriptors;var so=Object.getOwnPropertySymbols;var vl=Object.prototype.hasOwnProperty,bl=Object.prototype.propertyIsEnumerable;var xl=e=>{throw TypeError(e)};var ss=(e,t,n)=>t in e?wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||(t={}))vl.call(t,n)&&ss(e,n,t[n]);if(so)for(var n of so(t))bl.call(t,n)&&ss(e,n,t[n]);return e},G=(e,t)=>Ru(e,Eu(t));var Wr=(e,t)=>{var n={};for(var r in e)vl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&so)for(var r of so(e))t.indexOf(r)<0&&bl.call(e,r)&&(n[r]=e[r]);return n};var pe=(e,t,n)=>ss(e,typeof t!="symbol"?t+"":t,n),Tu=(e,t,n)=>t.has(e)||xl("Cannot "+n);var kl=(e,t,n)=>t.has(e)?xl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n);var lo=(e,t,n)=>(Tu(e,t,"access private method"),n);var Cl=(e,t)=>yl(wl(e,"raw",{value:yl(t||e.slice())}));import{j as H,A as Ra,m as Co,M as Xt,q as Ea,r as d,b as Ps,h as Iu,R as Ot,l as $i,f as Ta}from"./jj85rqzpbnvv3emr.js";import{il as Ia,v9 as _u,R as Au,im as Ds,io as Ls,ey as Fs,ax as Ri,e as nn,va as Pu,q_ as Du,be as _a,h5 as Lu,vb as Fu,cu as zu,P as ir,kl as Hu,eE as or,dZ as Ou,iw as Nu,vc as $u,ik as Wu,gl as Aa,E as Pa,fW as Bu,i as ju,r as Uu,eN as Xu,T as Ei,F as qu}from"./lef5ym39glv4981l.js";import{h0 as zs,zV as Vu,zW as Ku,bg as _n,qI as Sl,m9 as Yu,o1 as Gu,c7 as Zu,dt as Qu,dg as Wi,at as Br,zX as Da,ax as Ju,jH as ed,dK as td,lm as La,zY as nd,gx as rd,df as Ml,gt as id}from"./mclphevd122040jw.js";import{S as od,a as sd,b as Fa,c as ld}from"./c9981m30wjsnzhw5.js";import{S as za}from"./ek7qgesc03yusf3u.js";import{B as ad,L as cd,m as Hi,i as Ti,a as ud,e as dd,c as Ha,r as Ht,v as fd,t as hd,d as gd,b as md,A as Oa,P as Na,f as $a,g as pd,S as yd,C as wd,h as vd,j as bd,p as xd,k as kd,l as Cd,n as Sd,o as Md}from"./mgvl43usqxj4xeax.js";import{r as br}from"./k6u2cn52t3dhqz8s.js";import{u as Rd,b as Ed,c as Td}from"./ctl8k0odelcp7jyc.js";const Id=({isHovered:e=!1})=>H.jsx(Ra,{children:e&&H.jsxs(Co.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",ease:"easeInOut",duration:.2},className:"border-token-border-default bg-token-main-surface-primary text-token-text-secondary absolute end-2 bottom-2 flex items-center justify-center rounded-md border px-3 py-2 text-xs",children:[H.jsx(zs,{className:"icon me-1.5"}),H.jsx(Xt,{id:"ILz2tL",defaultMessage:"Interactive charts of this type not yet supported"})]})}),_d=({fileId:e})=>Ea({queryKey:["ada-visualization","chart",e],queryFn:async()=>{var n;const t=await Ds(e);if(t.status===Ls.Success){const r=await fetch(t.download_url);if(r.status!==200)throw new Error("Failed to download chart json from interpreter");const i=await r.json();return{content:{chart_type:i.type,title:i.title,labels:i.labels,datasets:i.datasets,x_label:i.x_label,y_label:i.y_label},file_name:(n=t.file_name)!=null?n:"",download_url:t.download_url}}else throw new Error("Failed to download chart json from interpreter")},staleTime:Ia}),Ad=({fileId:e,fileName:t})=>Ea({queryKey:["ada-visualization","table",e],queryFn:async()=>{var n;if(t&&_u(t)){const r=await Au.safeGet("/ada/parse_xls/{file_id}",{parameters:{path:{file_id:e}}});return{content:r.sheets.map(i=>({name:i.name,columnNames:i.columns.map(o=>o.name),columnTypes:i.columns.map(()=>"string"),rows:Dd(i.columns)})),download_url:r.download_url,file_name:t}}else{const r=await Ds(e);if(r.status===Ls.Success){const i=await fetch(r.download_url);return Pd(i,(n=r.file_name)!=null?n:"",r.download_url)}else throw new Error("Failed to download from interpreter")}},staleTime:Ia,throwOnError:!1});async function Pd(e,t,n){const r=await e.text(),{parse:i}=await Fs(async()=>{const{parse:s}=await import("./dazlcucbtqh9yz3g.js");return{parse:s}},[]),o=i(r);return{content:{columnNames:o.shift(),columnTypes:o[0].map(()=>"string"),rows:o},file_name:t,download_url:n}}function Dd(e){const t=e[0].values.length,n=[];for(let r=0;r<t;r++){const i=e.map(o=>o.values[r]);n.push(i)}return n}const Wa=d.forwardRef(({chart:e},t)=>{const{datasets:n}=e,r=d.useMemo(()=>n.map(i=>{const{data:o,label:s,colors:l}=i;return{label:s,data:o,backgroundColor:l,borderColor:l,borderRadius:4}}),[n]);return H.jsx(ad,{ref:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{crosshair:!1,legend:{display:!1},title:{display:!1,text:e.title},tooltip:{enabled:!0,animation:{duration:0},mode:"point",position:"nearest",backgroundColor:"rgba(0, 0, 0, 1)",titleColor:"white",titleFont:{size:16,weight:"bold"},bodyFont:{size:12},displayColors:!1,bodyColor:"rgba(255, 255, 255, 0.7)",cornerRadius:8,caretSize:6,padding:{top:12,bottom:6,left:16,right:16},yAlign:"bottom",callbacks:{title:function(i){return i[0].formattedValue},label:()=>""}}},scales:{x:{title:{display:!1},grid:{display:!1}},y:{title:{display:!1},grid:{lineWidth:i=>i.tick.value===0?0:1},border:{dash:[3,3]}}}},data:{labels:e.labels,datasets:r}})});Wa.displayName="BarChart";const Ba=e=>{if(typeof e=="string"){const t=parseFloat(e);return isNaN(t)?e:t.toFixed(2)}else if(typeof e=="number")return e.toFixed(2);return e},ja=d.forwardRef(({chart:e},t)=>{const{datasets:n}=e,r=d.useMemo(()=>{const i=n.length;return n.map(o=>{const{data:s,label:l,colors:a}=o,c=s.length;return{label:l,data:s,backgroundColor:a,borderColor:a,pointRadius:0,pointHoverRadius:5,pointHitRadius:10,tension:.2,borderWidth:Ld(i,c),pointBackgroundColor:["rgba(255, 255, 255, 1)"],pointBorderWidth:3,pointHoverBorderWidth:3}})},[n]);return H.jsx(cd,{ref:t,options:{maintainAspectRatio:!1,scales:{x:{title:{display:!1,text:e.x_label},grid:{display:!1},ticks:{callback:Ba}},y:{title:{display:!1,text:e.y_label},grid:{lineWidth:i=>i.tick.value===0?0:1},border:{dash:[3,3]}}},plugins:{legend:{display:!1},crosshair:!1,title:{display:!1,text:e.title},tooltip:{enabled:!0,mode:"point",animation:{duration:0},position:"nearest",backgroundColor:"rgba(0, 0, 0, 1)",titleColor:"white",titleFont:{size:16,weight:"bold"},bodyFont:{size:12},displayColors:!1,bodyColor:"rgba(255, 255, 255, 0.7)",cornerRadius:8,caretSize:6,padding:{top:12,bottom:12,left:16,right:16},callbacks:{title:function(i){return i[0].label},label:function(i){const{dataset:{label:o},parsed:{y:s}}=i,l=o?"".concat(o,": "):"";return"".concat(l).concat(s.toFixed(2))}}}}},data:{labels:e.labels,datasets:r}})}),Ld=(e,t)=>t>15?1:e>10?e>50?.5:1:3;ja.displayName="LineChart";/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var Rl=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),Ii={toTextLines:function(e){var t=[],n;for(e=[].concat(e);e.length;)n=e.pop(),typeof n=="string"?t.unshift.apply(t,n.split("\n")):Array.isArray(n)?e.push.apply(e,n):Ti(e)||t.unshift(""+n);return t},textSize:function(e,t,n){var r=[].concat(t),i=r.length,o=e.font,s=0,l;for(e.font=n.string,l=0;l<i;++l)s=Math.max(e.measureText(r[l]).width,s);return e.font=o,{height:i*n.lineHeight,width:s}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n=e.slice(),r=[],i,o,s,l;for(i=0,s=t.length;i<s;++i)l=t[i],o=n.indexOf(l),o===-1?r.push([l,1]):n.splice(o,1);for(i=0,s=n.length;i<s;++i)r.push([n[i],-1]);return r},rasterize:function(e){return Math.round(e*Rl)/Rl}};function ls(e,t){var n=t.x,r=t.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=e.x-n,o=e.y-r,s=Math.sqrt(i*i+o*o);return{x:s?i/s:0,y:s?o/s:-1}}function Fd(e,t,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i);break}return{x:e,y:t,vx:n,vy:r}}var zd=0,Ua=1,Xa=2,qa=4,Va=8;function ao(e,t,n){var r=zd;return e<n.left?r|=Ua:e>n.right&&(r|=Xa),t<n.top?r|=Va:t>n.bottom&&(r|=qa),r}function Hd(e,t){for(var n=e.x0,r=e.y0,i=e.x1,o=e.y1,s=ao(n,r,t),l=ao(i,o,t),a,c,u;!(!(s|l)||s&l);)a=s||l,a&Va?(c=n+(i-n)*(t.top-r)/(o-r),u=t.top):a&qa?(c=n+(i-n)*(t.bottom-r)/(o-r),u=t.bottom):a&Xa?(u=r+(o-r)*(t.right-n)/(i-n),c=t.right):a&Ua&&(u=r+(o-r)*(t.left-n)/(i-n),c=t.left),a===s?(n=c,r=u,s=ao(n,r,t)):(i=c,o=u,l=ao(i,o,t));return{x0:n,x1:i,y0:r,y1:o}}function co(e,t){var n=t.anchor,r=e,i,o;return t.clamp&&(r=Hd(r,t.area)),n==="start"?(i=r.x0,o=r.y0):n==="end"?(i=r.x1,o=r.y1):(i=(r.x0+r.x1)/2,o=(r.y0+r.y1)/2),Fd(i,o,e.vx,e.vy,t.align)}var uo={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),i=Math.sin(n),o=e.innerRadius,s=e.outerRadius;return co({x0:e.x+r*o,y0:e.y+i*o,x1:e.x+r*s,y1:e.y+i*s,vx:r,vy:i},t)},point:function(e,t){var n=ls(e,t.origin),r=n.x*e.options.radius,i=n.y*e.options.radius;return co({x0:e.x-r,y0:e.y-i,x1:e.x+r,y1:e.y+i,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=ls(e,t.origin),r=e.x,i=e.y,o=0,s=0;return e.horizontal?(r=Math.min(e.x,e.base),o=Math.abs(e.base-e.x)):(i=Math.min(e.y,e.base),s=Math.abs(e.base-e.y)),co({x0:r,y0:i+s,x1:r+o,y1:i,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=ls(e,t.origin);return co({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},Bn=Ii.rasterize;function Od(e){var t=e.borderWidth||0,n=e.padding,r=e.size.height,i=e.size.width,o=-i/2,s=-r/2;return{frame:{x:o-n.left-t,y:s-n.top-t,w:i+n.width+t*2,h:r+n.height+t*2},text:{x:o,y:s,w:i,h:r}}}function Nd(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return e.horizontal?{x:r,y:null}:{x:null,y:r}}function $d(e){return e instanceof Oa?uo.arc:e instanceof Na?uo.point:e instanceof $a?uo.bar:uo.fallback}function Wd(e,t,n,r,i,o){var s=Math.PI/2;if(o){var l=Math.min(o,i/2,r/2),a=t+l,c=n+l,u=t+r-l,h=n+i-l;e.moveTo(t,c),a<u&&c<h?(e.arc(a,c,l,-Math.PI,-s),e.arc(u,c,l,-s,0),e.arc(u,h,l,0,s),e.arc(a,h,l,s,Math.PI)):a<u?(e.moveTo(a,n),e.arc(u,c,l,-s,s),e.arc(a,c,l,s,Math.PI+s)):c<h?(e.arc(a,c,l,-Math.PI,0),e.arc(a,h,l,0,Math.PI)):e.arc(a,c,l,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,i)}function Bd(e,t,n){var r=n.backgroundColor,i=n.borderColor,o=n.borderWidth;!r&&(!i||!o)||(e.beginPath(),Wd(e,Bn(t.x)+o/2,Bn(t.y)+o/2,Bn(t.w)-o,Bn(t.h)-o,n.borderRadius),e.closePath(),r&&(e.fillStyle=r,e.fill()),i&&o&&(e.strokeStyle=i,e.lineWidth=o,e.lineJoin="miter",e.stroke()))}function jd(e,t,n){var r=n.lineHeight,i=e.w,o=e.x,s=e.y+r/2;return t==="center"?o+=i/2:(t==="end"||t==="right")&&(o+=i),{h:r,w:i,x:o,y:s}}function Ud(e,t,n){var r=e.shadowBlur,i=n.stroked,o=Bn(n.x),s=Bn(n.y),l=Bn(n.w);i&&e.strokeText(t,o,s,l),n.filled&&(r&&i&&(e.shadowBlur=0),e.fillText(t,o,s,l),r&&i&&(e.shadowBlur=r))}function Xd(e,t,n,r){var i=r.textAlign,o=r.color,s=!!o,l=r.font,a=t.length,c=r.textStrokeColor,u=r.textStrokeWidth,h=c&&u,g;if(!(!a||!s&&!h))for(n=jd(n,i,l),e.font=l.string,e.textAlign=i,e.textBaseline="middle",e.shadowBlur=r.textShadowBlur,e.shadowColor=r.textShadowColor,s&&(e.fillStyle=o),h&&(e.lineJoin="round",e.lineWidth=u,e.strokeStyle=c),g=0,a=t.length;g<a;++g)Ud(e,t[g],{stroked:h,filled:s,w:n.w,x:n.x,y:n.y+n.h*g})}var Ka=function(e,t,n,r){var i=this;i._config=e,i._index=r,i._model=null,i._rects=null,i._ctx=t,i._el=n};Hi(Ka.prototype,{_modelize:function(e,t,n,r){var i=this,o=i._index,s=hd(Ht([n.font,{}],r,o)),l=Ht([n.color,gd.color],r,o);return{align:Ht([n.align,"center"],r,o),anchor:Ht([n.anchor,"center"],r,o),area:r.chart.chartArea,backgroundColor:Ht([n.backgroundColor,null],r,o),borderColor:Ht([n.borderColor,null],r,o),borderRadius:Ht([n.borderRadius,0],r,o),borderWidth:Ht([n.borderWidth,0],r,o),clamp:Ht([n.clamp,!1],r,o),clip:Ht([n.clip,!1],r,o),color:l,display:e,font:s,lines:t,offset:Ht([n.offset,4],r,o),opacity:Ht([n.opacity,1],r,o),origin:Nd(i._el,r),padding:md(Ht([n.padding,4],r,o)),positioner:$d(i._el),rotation:Ht([n.rotation,0],r,o)*(Math.PI/180),size:Ii.textSize(i._ctx,t,s),textAlign:Ht([n.textAlign,"start"],r,o),textShadowBlur:Ht([n.textShadowBlur,0],r,o),textShadowColor:Ht([n.textShadowColor,l],r,o),textStrokeColor:Ht([n.textStrokeColor,l],r,o),textStrokeWidth:Ht([n.textStrokeWidth,0],r,o)}},update:function(e){var t=this,n=null,r=null,i=t._index,o=t._config,s,l,a,c=Ht([o.display,!0],e,i);c&&(s=e.dataset.data[i],l=fd(Ha(o.formatter,[s,e]),s),a=Ti(l)?[]:Ii.toTextLines(l),a.length&&(n=t._modelize(c,a,o,e),r=Od(n))),t._model=n,t._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n=this,r=e.ctx,i=n._model,o=n._rects,s;this.visible()&&(r.save(),i.clip&&(s=i.area,r.beginPath(),r.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),r.clip()),r.globalAlpha=Ii.bound(0,i.opacity,1),r.translate(Bn(t.x),Bn(t.y)),r.rotate(i.rotation),Bd(r,o.frame,i),Xd(r,i.lines,o.text,i),r.restore())}});var qd=Number.MIN_SAFE_INTEGER||-9007199254740991,Vd=Number.MAX_SAFE_INTEGER||9007199254740991;function hi(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t.x,s=t.y;return{x:o+r*(e.x-o)-i*(e.y-s),y:s+i*(e.x-o)+r*(e.y-s)}}function El(e,t){var n=Vd,r=qd,i=t.origin,o,s,l,a,c;for(o=0;o<e.length;++o)s=e[o],l=s.x-i.x,a=s.y-i.y,c=t.vx*l+t.vy*a,n=Math.min(n,c),r=Math.max(r,c);return{min:n,max:r}}function fo(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/i,vy:(t.y-e.y)/i,origin:e,ln:i}}var Ya=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Hi(Ya.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,r=t._rect;return e=hi(e,t.center(),-t._rotation),!(e.x<r.x-n||e.y<r.y-n||e.x>r.x+r.w+n*2||e.y>r.y+r.h+n*2)},intersects:function(e){var t=this._points(),n=e._points(),r=[fo(t[0],t[1]),fo(t[0],t[3])],i,o,s;for(this._rotation!==e._rotation&&r.push(fo(n[0],n[1]),fo(n[0],n[3])),i=0;i<r.length;++i)if(o=El(t,r[i]),s=El(n,r[i]),o.max<s.min||s.max<o.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,r=e.center();return[hi({x:t.x,y:t.y},r,n),hi({x:t.x+t.w,y:t.y},r,n),hi({x:t.x+t.w,y:t.y+t.h},r,n),hi({x:t.x,y:t.y+t.h},r,n)]}});function Ga(e,t,n){var r=t.positioner(e,t),i=r.vx,o=r.vy;if(!i&&!o)return{x:r.x,y:r.y};var s=n.w,l=n.h,a=t.rotation,c=Math.abs(s/2*Math.cos(a))+Math.abs(l/2*Math.sin(a)),u=Math.abs(s/2*Math.sin(a))+Math.abs(l/2*Math.cos(a)),h=1/Math.max(Math.abs(i),Math.abs(o));return c*=i*h,u*=o*h,c+=t.offset*i,u+=t.offset*o,{x:r.x+c,y:r.y+u}}function Kd(e,t){var n,r,i,o;for(n=e.length-1;n>=0;--n)for(i=e[n].$layout,r=n-1;r>=0&&i._visible;--r)o=e[r].$layout,o._visible&&i._box.intersects(o._box)&&t(i,o);return e}function Yd(e){var t,n,r,i,o,s,l;for(t=0,n=e.length;t<n;++t)r=e[t],i=r.$layout,i._visible&&(l=new Proxy(r._el,{get:(a,c)=>a.getProps([c],!0)[c]}),o=r.geometry(),s=Ga(l,r.model(),o),i._box.update(s,o,r.rotation()));return Kd(e,function(a,c){var u=a._hidable,h=c._hidable;u&&h||h?c._visible=!1:u&&(a._visible=!1)})}var _i={prepare:function(e){var t=[],n,r,i,o,s;for(n=0,i=e.length;n<i;++n)for(r=0,o=e[n].length;r<o;++r)s=e[n][r],t.push(s),s.$layout={_box:new Ya,_hidable:!1,_visible:!0,_set:n,_idx:s._index};return t.sort(function(l,a){var c=l.$layout,u=a.$layout;return c._idx===u._idx?u._set-c._set:u._idx-c._idx}),this.update(t),t},update:function(e){var t=!1,n,r,i,o,s;for(n=0,r=e.length;n<r;++n)i=e[n],o=i.model(),s=i.$layout,s._hidable=o&&o.display==="auto",s._visible=i.visible(),t|=s._hidable;t&&Yd(e)},lookup:function(e,t){var n,r;for(n=e.length-1;n>=0;--n)if(r=e[n].$layout,r&&r._visible&&r._box.contains(t))return e[n];return null},draw:function(e,t){var n,r,i,o,s,l;for(n=0,r=t.length;n<r;++n)i=t[n],o=i.$layout,o._visible&&(s=i.geometry(),l=Ga(i._el,i.model(),s),o._box.update(l,s,i.rotation()),i.draw(e,l))}},Gd=function(e){if(Ti(e))return null;var t=e,n,r,i;if(ud(e))if(!Ti(e.label))t=e.label;else if(!Ti(e.r))t=e.r;else for(t="",n=Object.keys(e),i=0,r=n.length;i<r;++i)t+=(i!==0?", ":"")+n[i]+": "+e[n[i]];return""+t},Zd={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:Gd,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},an="$datalabels",Za="$default";function Qd(e,t){var n=e.datalabels,r={},i=[],o,s;return n===!1?null:(n===!0&&(n={}),t=Hi({},[t,n]),o=t.labels||{},s=Object.keys(o),delete t.labels,s.length?s.forEach(function(l){o[l]&&i.push(Hi({},[t,o[l],{_key:l}]))}):i.push(t),r=i.reduce(function(l,a){return dd(a.listeners||{},function(c,u){l[u]=l[u]||{},l[u][a._key||Za]=c}),delete a.listeners,l},{}),{labels:i,listeners:r})}function xs(e,t,n,r){if(t){var i=n.$context,o=n.$groups,s;t[o._set]&&(s=t[o._set][o._key],s&&Ha(s,[i,r])===!0&&(e[an]._dirty=!0,n.update(i)))}}function Jd(e,t,n,r,i){var o,s;!n&&!r||(n?r?n!==r&&(s=o=!0):s=!0:o=!0,s&&xs(e,t.leave,n,i),o&&xs(e,t.enter,r,i))}function ef(e,t){var n=e[an],r=n._listeners,i,o;if(!(!r.enter&&!r.leave)){if(t.type==="mousemove")o=_i.lookup(n._labels,t);else if(t.type!=="mouseout")return;i=n._hovered,n._hovered=o,Jd(e,r,i,o,t)}}function tf(e,t){var n=e[an],r=n._listeners.click,i=r&&_i.lookup(n._labels,t);i&&xs(e,r,i,t)}var nf={id:"datalabels",defaults:Zd,beforeInit:function(e){e[an]={_actives:[]}},beforeUpdate:function(e){var t=e[an];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var r=t.index,i=e[an],o=i._datasets[r]=[],s=e.isDatasetVisible(r),l=e.data.datasets[r],a=Qd(l,n),c=t.meta.data||[],u=e.ctx,h,g,p,f,x,M,C,b;for(u.save(),h=0,p=c.length;h<p;++h)if(C=c[h],C[an]=[],s&&C&&e.getDataVisibility(h)&&!C.skip)for(g=0,f=a.labels.length;g<f;++g)x=a.labels[g],M=x._key,b=new Ka(x,u,C,h),b.$groups={_set:r,_key:M||Za},b.$context={active:!1,chart:e,dataIndex:h,dataset:l,datasetIndex:r},b.update(b.$context),C[an].push(b),o.push(b);u.restore(),Hi(i._listeners,a.listeners,{merger:function(E,T,w){T[E]=T[E]||{},T[E][t.index]=w[E],i._listened=!0}})},afterUpdate:function(e){e[an]._labels=_i.prepare(e[an]._datasets)},afterDatasetsDraw:function(e){_i.draw(e,e[an]._labels)},beforeEvent:function(e,t){if(e[an]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":ef(e,n);break;case"click":tf(e,n);break}}},afterEvent:function(e){var t=e[an],n=t._actives,r=t._actives=e.getActiveElements(),i=Ii.arrayDiff(n,r),o,s,l,a,c,u,h;for(o=0,s=i.length;o<s;++o)if(c=i[o],c[1])for(h=c[0].element[an]||[],l=0,a=h.length;l<a;++l)u=h[l],u.$context.active=c[1]===1,u.update(u.$context);(t._dirty||i.length)&&(_i.update(t._labels),e.render()),delete t._dirty}};const Qa=d.forwardRef(({chart:e},t)=>{const{datasets:n}=e,r=d.useMemo(()=>{const i=getComputedStyle(document.documentElement);return n.map(o=>{const{data:s,colors:l,label:a}=o;return{label:a,data:s,backgroundColor:l,borderWidth:2,borderColor:[i.getPropertyValue("--main-surface-primary").trim()]}})},[n]);return H.jsx("div",{className:"h-full w-full py-2",children:H.jsx(pd,{ref:t,options:{responsive:!0,maintainAspectRatio:!1,plugins:{crosshair:!1,legend:{display:!1},title:{display:!1},tooltip:{enabled:!0,animation:{duration:0},mode:"index",position:"average",backgroundColor:"rgba(0, 0, 0, 1)",titleColor:"white",titleFont:{size:16,weight:"bold"},bodyFont:{size:12},displayColors:!1,bodyColor:"rgba(255, 255, 255, 0.7)",cornerRadius:8,caretSize:6,padding:{top:12,bottom:12,left:16,right:16},callbacks:{title:i=>i[0].formattedValue,label:function(i){const o=e.labels[i.dataIndex],s=n[0],l=s.data[i.dataIndex],a=s.data.reduce((u,h)=>Number(u)+Number(h),0),c=parseFloat((l/Number(a)*100).toFixed(2));return"".concat(o," · ").concat(c,"%")}}},datalabels:{color:"white",textAlign:"center",font:{weight:"bold",size:16},backgroundColor:function(i){const o=i.dataset.data[i.dataIndex],s=i.dataset.data.reduce((a,c)=>Number(a)+Number(c),0);return o/Number(s)*100>=15?"rgba(0, 0, 0, 0.1)":"transparent"},borderRadius:15,padding:{top:6,bottom:6,left:8,right:8},formatter:(i,o)=>{const s=o.dataset.data.reduce((a,c)=>Number(a)+Number(c),0);return i/Number(s)*100>=15?i.toFixed(2):""}}}},plugins:[nf],data:{labels:e.labels,datasets:r}})})});Qa.displayName="PieChart";const Ja=d.forwardRef(({chart:e},t)=>{const{datasets:n}=e,r=d.useMemo(()=>{const i=n.reduce((o,s)=>o+s.data.length,0);return n.map(o=>{const{data:s,label:l,colors:a}=o;return{label:l,data:s,backgroundColor:a,borderColor:a,pointRadius:i>50?i>200?2:4:8,pointHoverRadius:i>50?4:8}})},[n]);return H.jsx(yd,{ref:t,options:{maintainAspectRatio:!1,scales:{x:{title:{display:!1},grid:{display:!1},ticks:{callback:Ba}},y:{title:{display:!1},grid:{lineWidth:i=>i.tick.value===0?0:1},border:{dash:[3,3]}}},elements:{point:{radius:0}},plugins:{legend:{display:!1},title:{display:!1,text:e.title},crosshair:!1,tooltip:{enabled:!0,mode:"point",position:"nearest",animation:{duration:0},backgroundColor:"rgba(0, 0, 0, 1)",titleColor:"white",titleFont:{size:16,weight:"bold"},bodyFont:{size:12},displayColors:!1,bodyColor:"rgba(255, 255, 255, 0.7)",cornerRadius:8,caretSize:6,padding:{top:12,bottom:12,left:16,right:16},callbacks:{title:function(){return""},label:function(i){const o=i.dataset.label?"".concat(i.dataset.label,": "):"";return"".concat(o," X=").concat(i.parsed.x.toFixed(2),", Y=").concat(i.parsed.y.toFixed(2)," \n")}}}}},data:{labels:e.labels,datasets:r}})});Ja.displayName="ScatterChart";wd.register(Oa,vd,bd,$a,xd,kd,Cd,Sd,Na,Md);const ec=16,Tl={bar:Wa,pie:Qa,line:ja,scatter:Ja};function Il({item:e,formattedName:t}){return H.jsxs("div",{className:"inline-flex items-center gap-1",children:[H.jsx("div",{className:"h-3 w-3 rounded-xs",style:{backgroundColor:e.color}}),t]})}function rf({items:e,hideAxisLabels:t=!1,xLabel:n="",yLabel:r=""}){const i=Ps();function o(s,l){const a=l.indexOf(s);return a<l.length-2?"".concat(s.name,", "):a===l.length-2?"".concat(s.name).concat(l.length>2?", ":" "," ").concat(i.formatMessage({id:"Gt7UQw",defaultMessage:"and"})):s.name}return H.jsxs("div",{className:"text-token-text-primary flex w-full flex-wrap items-center gap-1 px-4 text-xs",children:[!t&&H.jsx(Xt,{id:"Wn04Wd",defaultMessage:"{yLabel} by {xLabel}",values:{xLabel:H.jsxs("div",{className:"inline-flex items-center gap-0.5",children:[H.jsx(sd,{className:"icon-sm text-token-text-secondary"}),n]}),yLabel:H.jsxs("div",{className:"inline-flex items-center gap-0.5",children:[H.jsx(od,{className:"icon-sm text-token-text-secondary"}),r]})}}),e.length>1&&e.length<ec&&(t?H.jsx(Xt,{id:"WKJKdH",defaultMessage:"For {legendItems}",values:{legendItems:e.map((s,l)=>H.jsx(Il,{item:s,formattedName:o(s,e)},l))}}):H.jsx(Xt,{id:"Isulib",defaultMessage:"for {legendItems}",values:{legendItems:e.map((s,l)=>H.jsx(Il,{item:s,formattedName:o(s,e)},l))}}))]})}const tc=d.forwardRef(({chart:e},t)=>{const n=d.useRef(null);d.useImperativeHandle(t,()=>({getBase64Image:()=>{if(!n.current){Ri.addError("Chart instance is not yet available.");return}return n.current.toBase64Image()}}));const r=d.useCallback(()=>{if(e.chart_type==="pie"){const o=e.datasets[0].colors;if(o&&Array.isArray(o))return e.labels.map((s,l)=>{var a;return{name:s,color:(a=o[l])!=null?a:""}})}else return e.datasets.map(o=>({name:o.label,color:Array.isArray(o.colors)?o.colors[0]:o.colors}));return[]},[e]);if(!(e.chart_type in Tl))return H.jsx(Xt,{id:"Chart.invalidChartType",defaultMessage:"Invalid chart type"});const i=Tl[e.chart_type];return H.jsxs("div",{className:"flex h-full w-full flex-col items-center",children:[H.jsx("div",{className:"w-full flex-initial",style:{flexBasis:"28px"},children:H.jsx(rf,{xLabel:e.x_label,yLabel:e.y_label,items:r(),hideAxisLabels:e.chart_type==="pie"})}),H.jsx("div",{className:nn("flex w-full grow items-center justify-center px-4 pb-3"),style:{minHeight:"0"},children:H.jsx(i,{chart:e,ref:n})})]})});tc.displayName="Chart";function nc(e="This should not happen"){throw new Error(e)}function yn(e,t="Assertion failed"){if(!e)return nc(t)}function Oi(e,t){return nc(t!=null?t:"Hell froze over")}function of(e,t){try{return e()}catch(n){return t}}const _l=Object.prototype.hasOwnProperty;function Gr(e,t){let n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Gr(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(_l.call(e,n)&&++r&&!_l.call(t,n)||!(n in t)||!Gr(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var as,Al;function sf(){if(Al)return as;Al=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return as=n,as}var cs,Pl;function lf(){if(Pl)return cs;Pl=1;var e=sf(),t=Pu();function n(r,i){return r!=null&&t(r,i,e)}return cs=n,cs}var af=lf();const cf=Iu(af),So=null,Hs=void 0;var ce;(function(e){e.Uri="uri",e.Text="text",e.Image="image",e.RowID="row-id",e.Number="number",e.Bubble="bubble",e.Boolean="boolean",e.Loading="loading",e.Markdown="markdown",e.Drilldown="drilldown",e.Protected="protected",e.Custom="custom"})(ce||(ce={}));var Dl;(function(e){e.HeaderRowID="headerRowID",e.HeaderCode="headerCode",e.HeaderNumber="headerNumber",e.HeaderString="headerString",e.HeaderBoolean="headerBoolean",e.HeaderAudioUri="headerAudioUri",e.HeaderVideoUri="headerVideoUri",e.HeaderEmoji="headerEmoji",e.HeaderImage="headerImage",e.HeaderUri="headerUri",e.HeaderPhone="headerPhone",e.HeaderMarkdown="headerMarkdown",e.HeaderDate="headerDate",e.HeaderTime="headerTime",e.HeaderEmail="headerEmail",e.HeaderReference="headerReference",e.HeaderIfThenElse="headerIfThenElse",e.HeaderSingleValue="headerSingleValue",e.HeaderLookup="headerLookup",e.HeaderTextTemplate="headerTextTemplate",e.HeaderMath="headerMath",e.HeaderRollup="headerRollup",e.HeaderJoinStrings="headerJoinStrings",e.HeaderSplitString="headerSplitString",e.HeaderGeoDistance="headerGeoDistance",e.HeaderArray="headerArray",e.RowOwnerOverlay="rowOwnerOverlay",e.ProtectedColumnOverlay="protectedColumnOverlay"})(Dl||(Dl={}));var Mo;(function(e){e.Triangle="triangle",e.Dots="dots"})(Mo||(Mo={}));const Do="___gdg_header_cell_",rc=Do+"checked",ic=Do+"unchecked",uf=Do+"indeterminate";function ho(e){return"width"in e&&typeof e.width=="number"}async function Ll(e){return typeof e=="object"?e:await e()}function Xr(e){return!(e.kind===ce.Loading||e.kind===ce.Bubble||e.kind===ce.RowID||e.kind===ce.Protected||e.kind===ce.Drilldown)}function Vr(e){return e.kind===Sn.Marker||e.kind===Sn.NewRow}function Mi(e){if(!Xr(e)||e.kind===ce.Image)return!1;if(e.kind===ce.Text||e.kind===ce.Number||e.kind===ce.Markdown||e.kind===ce.Uri||e.kind===ce.Custom||e.kind===ce.Boolean)return e.readonly!==!0;Oi(e,"A cell was passed with an invalid kind")}function df(e){return cf(e,"editor")}function ks(e){var t;return!((t=e.readonly)!=null&&t)}var Sn;(function(e){e.NewRow="new-row",e.Marker="marker"})(Sn||(Sn={}));function ff(e){if(e.length===0)return[];const t=[...e],n=[];t.sort(function(r,i){return r[0]-i[0]}),n.push([...t[0]]);for(const r of t.slice(1)){const i=n[n.length-1];i[1]<r[0]?n.push([...r]):i[1]<r[1]&&(i[1]=r[1])}return n}let go;const $n=class $n{constructor(t){pe(this,"items");this.items=t}offset(t){if(t===0)return this;const n=this.items.map(r=>[r[0]+t,r[1]+t]);return new $n(n)}add(t){const n=typeof t=="number"?[t,t+1]:t,r=ff([...this.items,n]);return new $n(r)}remove(t){const n=[...this.items],r=typeof t=="number"?t:t[0],i=typeof t=="number"?t+1:t[1];for(const[o,s]of n.entries()){const[l,a]=s;if(l<=i&&r<=a){const c=[];l<r&&c.push([l,r]),i<a&&c.push([i,a]),n.splice(o,1,...c)}}return new $n(n)}first(){if(this.items.length!==0)return this.items[0][0]}last(){if(this.items.length!==0)return this.items.slice(-1)[0][1]-1}hasIndex(t){for(let n=0;n<this.items.length;n++){const[r,i]=this.items[n];if(t>=r&&t<i)return!0}return!1}hasAll(t){for(let n=t[0];n<t[1];n++)if(!this.hasIndex(n))return!1;return!0}some(t){for(const n of this)if(t(n))return!0;return!1}equals(t){if(t===this)return!0;if(t.items.length!==this.items.length)return!1;for(let n=0;n<this.items.length;n++){const r=t.items[n],i=this.items[n];if(r[0]!==i[0]||r[1]!==i[1])return!1}return!0}toArray(){const t=[];for(const[n,r]of this.items)for(let i=n;i<r;i++)t.push(i);return t}get length(){let t=0;for(const[n,r]of this.items)t+=r-n;return t}*[Symbol.iterator](){for(const[t,n]of this.items)for(let r=t;r<n;r++)yield r}};pe($n,"empty",()=>go!=null?go:go=new $n([])),pe($n,"fromSingleSelection",t=>$n.empty().add(t));let nt=$n;var hf=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,us=Vu(function(e){return hf.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),gf=function(){const t=Array.prototype.slice.call(arguments).filter(Boolean),n={},r=[];t.forEach(o=>{(o?o.split(" "):[]).forEach(l=>{if(l.startsWith("atm_")){const[,a]=l.split("_");n[a]=l}else r.push(l)})});const i=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.push(n[o]);return i.push(...r),i.join(" ")},Fl=gf,mf=e=>e.toUpperCase()===e,pf=e=>t=>e.indexOf(t)===-1,oc=(e,t)=>{const n={};return Object.keys(e).filter(pf(t)).forEach(r=>{n[r]=e[r]}),n};function yf(e,t,n){const r=oc(t,n);if(!e){const i=typeof us=="function"?{default:us}:us;Object.keys(r).forEach(o=>{i.default(o)||delete r[o]})}return r}var wf=(e,t)=>{};function vf(e){let t="";return n=>{const r=(o,s)=>{const{as:l=e,class:a=t}=o,c=n.propsAsIs===void 0?!(typeof l=="string"&&l.indexOf("-")===-1&&!mf(l[0])):n.propsAsIs,u=yf(c,o,["as","class"]);u.ref=s,u.className=n.atomic?Fl(n.class,u.className||a):Fl(u.className||a,n.class);const{vars:h}=n;if(h){const g={};for(const x in h){const M=h[x],C=M[0],b=M[1]||"",E=typeof C=="function"?C(o):C;wf(E,n.name),g["--".concat(x)]="".concat(E).concat(b)}const p=u.style||{},f=Object.keys(p);f.length>0&&f.forEach(x=>{g[x]=p[x]}),u.style=g}return e.__linaria&&e!==l?(u.as=l,Ot.createElement(e,u)):Ot.createElement(l,u)},i=Ot.forwardRef?Ot.forwardRef(r):o=>{const s=oc(o,["innerRef"]);return r(s,o.innerRef)};return i.displayName=n.name,i.__linaria={className:n.class||t,extends:e},i}}var vn=vf;const bf=vn("div")({name:"ImageOverlayEditorStyle",class:"gdg-i2iowwq",propsAsIs:!1});var ds={},gi={},mo={},po={},zl;function xf(){return zl||(zl=1,function(e){(function(t,n){n(e,$i(),Du())})(po,function(t,n,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=f;var i=s(n),o=s(r);function s(b){return b&&b.__esModule?b:{default:b}}var l=Object.assign||function(b){for(var E=1;E<arguments.length;E++){var T=arguments[E];for(var w in T)Object.prototype.hasOwnProperty.call(T,w)&&(b[w]=T[w])}return b};function a(b,E){var T={};for(var w in b)E.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(b,w)&&(T[w]=b[w]);return T}function c(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}var u=function(){function b(E,T){for(var w=0;w<T.length;w++){var A=T[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,T,w){return T&&b(E.prototype,T),w&&b(E,w),E}}();function h(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function g(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var p=!1;function f(b){p=b}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){f(!0)}}))}catch(b){}function x(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return p?b:b.capture}function M(b){if("touches"in b){var E=b.touches[0],T=E.pageX,w=E.pageY;return{x:T,y:w}}var A=b.screenX,O=b.screenY;return{x:A,y:O}}var C=function(b){g(E,b);function E(){var T;c(this,E);for(var w=arguments.length,A=Array(w),O=0;O<w;O++)A[O]=arguments[O];var S=h(this,(T=E.__proto__||Object.getPrototypeOf(E)).call.apply(T,[this].concat(A)));return S._handleSwipeStart=S._handleSwipeStart.bind(S),S._handleSwipeMove=S._handleSwipeMove.bind(S),S._handleSwipeEnd=S._handleSwipeEnd.bind(S),S._onMouseDown=S._onMouseDown.bind(S),S._onMouseMove=S._onMouseMove.bind(S),S._onMouseUp=S._onMouseUp.bind(S),S._setSwiperRef=S._setSwiperRef.bind(S),S}return u(E,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,x({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,x({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(w){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(w))}},{key:"_onMouseMove",value:function(w){this.mouseDown&&this._handleSwipeMove(w)}},{key:"_onMouseUp",value:function(w){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(w)}},{key:"_handleSwipeStart",value:function(w){var A=M(w),O=A.x,S=A.y;this.moveStart={x:O,y:S},this.props.onSwipeStart(w)}},{key:"_handleSwipeMove",value:function(w){if(this.moveStart){var A=M(w),O=A.x,S=A.y,k=O-this.moveStart.x,L=S-this.moveStart.y;this.moving=!0;var I=this.props.onSwipeMove({x:k,y:L},w);I&&w.cancelable&&w.preventDefault(),this.movePosition={deltaX:k,deltaY:L}}}},{key:"_handleSwipeEnd",value:function(w){this.props.onSwipeEnd(w);var A=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-A?this.props.onSwipeLeft(1,w):this.movePosition.deltaX>A&&this.props.onSwipeRight(1,w),this.movePosition.deltaY<-A?this.props.onSwipeUp(1,w):this.movePosition.deltaY>A&&this.props.onSwipeDown(1,w)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(w){this.swiper=w,this.props.innerRef(w)}},{key:"render",value:function(){var w=this.props;w.tagName;var A=w.className,O=w.style,S=w.children;w.allowMouseEvents,w.onSwipeUp,w.onSwipeDown,w.onSwipeLeft,w.onSwipeRight,w.onSwipeStart,w.onSwipeMove,w.onSwipeEnd,w.innerRef,w.tolerance;var k=a(w,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,l({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:A,style:O},k),S)}}]),E}(n.Component);C.displayName="ReactSwipe",C.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},C.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=C})}(po)),po}var Hl;function sc(){return Hl||(Hl=1,function(e){(function(t,n){n(e,xf())})(mo,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=r.default})}(mo)),mo}var mi={},Ol;function lc(){if(Ol)return mi;Ol=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.default=void 0;var e=t(Ku());function t(i){return i&&i.__esModule?i:{default:i}}function n(i,o,s){return o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}var r={ROOT:function(o){return(0,e.default)(n({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,e.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,s){return(0,e.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":s==="horizontal","axis-vertical":s!=="horizontal"})},SLIDER:function(o,s){return(0,e.default)({thumbs:!o,slider:o,animated:!s})},ITEM:function(o,s,l){return(0,e.default)({thumb:!o,slide:o,selected:s,previous:l})},ARROW_PREV:function(o){return(0,e.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,e.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,e.default)({dot:!0,selected:o})}};return mi.default=r,mi}var pi={},yi={},Nl;function kf(){if(Nl)return yi;Nl=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.outerWidth=void 0;var e=function(n){var r=n.offsetWidth,i=getComputedStyle(n);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return yi.outerWidth=e,yi}var wi={},$l;function Os(){if($l)return wi;$l=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.default=void 0;var e=function(n,r,i){var o=n===0?n:n+r,s=i==="horizontal"?[o,0,0]:[0,o,0],l="translate3d",a="("+s.join(",")+")";return l+a};return wi.default=e,wi}var vi={},Wl;function ac(){if(Wl)return vi;Wl=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.default=void 0;var e=function(){return window};return vi.default=e,vi}var Bl;function cc(){if(Bl)return pi;Bl=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.default=void 0;var e=a($i()),t=s(lc()),n=kf(),r=s(Os()),i=s(sc()),o=s(ac());function s(S){return S&&S.__esModule?S:{default:S}}function l(){if(typeof WeakMap!="function")return null;var S=new WeakMap;return l=function(){return S},S}function a(S){if(S&&S.__esModule)return S;if(S===null||c(S)!=="object"&&typeof S!="function")return{default:S};var k=l();if(k&&k.has(S))return k.get(S);var L={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in S)if(Object.prototype.hasOwnProperty.call(S,v)){var _=I?Object.getOwnPropertyDescriptor(S,v):null;_&&(_.get||_.set)?Object.defineProperty(L,v,_):L[v]=S[v]}return L.default=S,k&&k.set(S,L),L}function c(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(L){return typeof L}:c=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},c(S)}function u(){return u=Object.assign||function(S){for(var k=1;k<arguments.length;k++){var L=arguments[k];for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(S[I]=L[I])}return S},u.apply(this,arguments)}function h(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function g(S,k){for(var L=0;L<k.length;L++){var I=k[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}function p(S,k,L){return k&&g(S.prototype,k),S}function f(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),k&&x(S,k)}function x(S,k){return x=Object.setPrototypeOf||function(I,v){return I.__proto__=v,I},x(S,k)}function M(S){var k=E();return function(){var I=T(S),v;if(k){var _=T(this).constructor;v=Reflect.construct(I,arguments,_)}else v=I.apply(this,arguments);return C(this,v)}}function C(S,k){return k&&(c(k)==="object"||typeof k=="function")?k:b(S)}function b(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(S){return!1}}function T(S){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},T(S)}function w(S,k,L){return k in S?Object.defineProperty(S,k,{value:L,enumerable:!0,configurable:!0,writable:!0}):S[k]=L,S}var A=function(k){return k.hasOwnProperty("key")},O=function(S){f(L,S);var k=M(L);function L(I){var v;return h(this,L),v=k.call(this,I),w(b(v),"itemsWrapperRef",void 0),w(b(v),"itemsListRef",void 0),w(b(v),"thumbsRef",void 0),w(b(v),"setItemsWrapperRef",function(_){v.itemsWrapperRef=_}),w(b(v),"setItemsListRef",function(_){v.itemsListRef=_}),w(b(v),"setThumbsRef",function(_,R){v.thumbsRef||(v.thumbsRef=[]),v.thumbsRef[R]=_}),w(b(v),"updateSizes",function(){if(!(!v.props.children||!v.itemsWrapperRef||!v.thumbsRef)){var _=e.Children.count(v.props.children),R=v.itemsWrapperRef.clientWidth,y=v.props.thumbWidth?v.props.thumbWidth:(0,n.outerWidth)(v.thumbsRef[0]),z=Math.floor(R/y),N=z<_,V=N?_-z:0;v.setState(function(oe,re){return{itemSize:y,visibleItems:z,firstItem:N?v.getFirstItem(re.selectedItem):0,lastPosition:V,showArrows:N}})}}),w(b(v),"handleClickItem",function(_,R,y){if(!A(y)||y.key==="Enter"){var z=v.props.onSelectItem;typeof z=="function"&&z(_,R)}}),w(b(v),"onSwipeStart",function(){v.setState({swiping:!0})}),w(b(v),"onSwipeEnd",function(){v.setState({swiping:!1})}),w(b(v),"onSwipeMove",function(_){var R=_.x;if(!v.state.itemSize||!v.itemsWrapperRef||!v.state.visibleItems)return!1;var y=0,z=e.Children.count(v.props.children),N=-(v.state.firstItem*100)/v.state.visibleItems,V=Math.max(z-v.state.visibleItems,0),oe=-V*100/v.state.visibleItems;N===y&&R>0&&(R=0),N===oe&&R<0&&(R=0);var re=v.itemsWrapperRef.clientWidth,Y=N+100/(re/R);return v.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ne){v.itemsListRef.style[ne]=(0,r.default)(Y,"%",v.props.axis)}),!0}),w(b(v),"slideRight",function(_){v.moveTo(v.state.firstItem-(typeof _=="number"?_:1))}),w(b(v),"slideLeft",function(_){v.moveTo(v.state.firstItem+(typeof _=="number"?_:1))}),w(b(v),"moveTo",function(_){_=_<0?0:_,_=_>=v.state.lastPosition?v.state.lastPosition:_,v.setState({firstItem:_})}),v.state={selectedItem:I.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},v}return p(L,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(v){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==v.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(v){var _=v;return v>=this.state.lastPosition&&(_=this.state.lastPosition),v<this.state.firstItem+this.state.visibleItems&&(_=this.state.firstItem),v<this.state.firstItem&&(_=v),_}},{key:"renderItems",value:function(){var v=this;return this.props.children.map(function(_,R){var y=t.default.ITEM(!1,R===v.state.selectedItem),z={key:R,ref:function(V){return v.setThumbsRef(V,R)},className:y,onClick:v.handleClickItem.bind(v,R,v.props.children[R]),onKeyDown:v.handleClickItem.bind(v,R,v.props.children[R]),"aria-label":"".concat(v.props.labels.item," ").concat(R+1),style:{width:v.props.thumbWidth}};return e.default.createElement("li",u({},z,{role:"button",tabIndex:0}),_)})}},{key:"render",value:function(){var v=this;if(!this.props.children)return null;var _=e.Children.count(this.props.children)>1,R=this.state.showArrows&&this.state.firstItem>0,y=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,z={},N=-this.state.firstItem*(this.state.itemSize||0),V=(0,r.default)(N,"px",this.props.axis),oe=this.props.transitionTime+"ms";return z={WebkitTransform:V,MozTransform:V,MsTransform:V,OTransform:V,transform:V,msTransform:V,WebkitTransitionDuration:oe,MozTransitionDuration:oe,MsTransitionDuration:oe,OTransitionDuration:oe,transitionDuration:oe,msTransitionDuration:oe},e.default.createElement("div",{className:t.default.CAROUSEL(!1)},e.default.createElement("div",{className:t.default.WRAPPER(!1),ref:this.setItemsWrapperRef},e.default.createElement("button",{type:"button",className:t.default.ARROW_PREV(!R),onClick:function(){return v.slideRight()},"aria-label":this.props.labels.leftArrow}),_?e.default.createElement(i.default,{tagName:"ul",className:t.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:z,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):e.default.createElement("ul",{className:t.default.SLIDER(!1,this.state.swiping),ref:function(Y){return v.setItemsListRef(Y)},style:z},this.renderItems()),e.default.createElement("button",{type:"button",className:t.default.ARROW_NEXT(!y),onClick:function(){return v.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),L}(e.Component);return pi.default=O,w(O,"displayName","Thumbs"),w(O,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),pi}var bi={},jl;function Cf(){if(jl)return bi;jl=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.default=void 0;var e=function(){return document};return bi.default=e,bi}var gn={},Ul;function uc(){if(Ul)return gn;Ul=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.setPosition=gn.getPosition=gn.isKeyboardEvent=gn.defaultStatusFormatter=gn.noop=void 0;var e=$i(),t=n(Os());function n(a){return a&&a.__esModule?a:{default:a}}var r=function(){};gn.noop=r;var i=function(c,u){return"".concat(c," of ").concat(u)};gn.defaultStatusFormatter=i;var o=function(c){return c?c.hasOwnProperty("key"):!1};gn.isKeyboardEvent=o;var s=function(c,u){if(u.infiniteLoop&&++c,c===0)return 0;var h=e.Children.count(u.children);if(u.centerMode&&u.axis==="horizontal"){var g=-c*u.centerSlidePercentage,p=h-1;return c&&(c!==p||u.infiniteLoop)?g+=(100-u.centerSlidePercentage)/2:c===p&&(g+=100-u.centerSlidePercentage),g}return-c*100};gn.getPosition=s;var l=function(c,u){var h={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(g){h[g]=(0,t.default)(c,"%",u)}),h};return gn.setPosition=l,gn}var In={},Xl;function Sf(){if(Xl)return In;Xl=1,Object.defineProperty(In,"__esModule",{value:!0}),In.fadeAnimationHandler=In.slideStopSwipingHandler=In.slideSwipeAnimationHandler=In.slideAnimationHandler=void 0;var e=$i(),t=r(Os()),n=uc();function r(h){return h&&h.__esModule?h:{default:h}}function i(h,g){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);g&&(f=f.filter(function(x){return Object.getOwnPropertyDescriptor(h,x).enumerable})),p.push.apply(p,f)}return p}function o(h){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{};g%2?i(Object(p),!0).forEach(function(f){s(h,f,p[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):i(Object(p)).forEach(function(f){Object.defineProperty(h,f,Object.getOwnPropertyDescriptor(p,f))})}return h}function s(h,g,p){return g in h?Object.defineProperty(h,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[g]=p,h}var l=function(g,p){var f={},x=p.selectedItem,M=x,C=e.Children.count(g.children)-1,b=g.infiniteLoop&&(x<0||x>C);if(b)return M<0?g.centerMode&&g.centerSlidePercentage&&g.axis==="horizontal"?f.itemListStyle=(0,n.setPosition)(-(C+2)*g.centerSlidePercentage-(100-g.centerSlidePercentage)/2,g.axis):f.itemListStyle=(0,n.setPosition)(-(C+2)*100,g.axis):M>C&&(f.itemListStyle=(0,n.setPosition)(0,g.axis)),f;var E=(0,n.getPosition)(x,g),T=(0,t.default)(E,"%",g.axis),w=g.transitionTime+"ms";return f.itemListStyle={WebkitTransform:T,msTransform:T,OTransform:T,transform:T},p.swiping||(f.itemListStyle=o(o({},f.itemListStyle),{},{WebkitTransitionDuration:w,MozTransitionDuration:w,OTransitionDuration:w,transitionDuration:w,msTransitionDuration:w})),f};In.slideAnimationHandler=l;var a=function(g,p,f,x){var M={},C=p.axis==="horizontal",b=e.Children.count(p.children),E=0,T=(0,n.getPosition)(f.selectedItem,p),w=p.infiniteLoop?(0,n.getPosition)(b-1,p)-100:(0,n.getPosition)(b-1,p),A=C?g.x:g.y,O=A;T===E&&A>0&&(O=0),T===w&&A<0&&(O=0);var S=T+100/(f.itemSize/O),k=Math.abs(A)>p.swipeScrollTolerance;return p.infiniteLoop&&k&&(f.selectedItem===0&&S>-100?S-=b*100:f.selectedItem===b-1&&S<-b*100&&(S+=b*100)),(!p.preventMovementUntilSwipeScrollTolerance||k||f.swipeMovementStarted)&&(f.swipeMovementStarted||x({swipeMovementStarted:!0}),M.itemListStyle=(0,n.setPosition)(S,p.axis)),k&&!f.cancelClick&&x({cancelClick:!0}),M};In.slideSwipeAnimationHandler=a;var c=function(g,p){var f=(0,n.getPosition)(p.selectedItem,g),x=(0,n.setPosition)(f,g.axis);return{itemListStyle:x}};In.slideStopSwipingHandler=c;var u=function(g,p){var f=g.transitionTime+"ms",x="ease-in-out",M={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:x,msTransitionTimingFunction:x,MozTransitionTimingFunction:x,WebkitTransitionTimingFunction:x,OTransitionTimingFunction:x};return p.swiping||(M=o(o({},M),{},{WebkitTransitionDuration:f,MozTransitionDuration:f,OTransitionDuration:f,transitionDuration:f,msTransitionDuration:f})),{slideStyle:M,selectedStyle:o(o({},M),{},{opacity:1,position:"relative"}),prevStyle:o({},M)}};return In.fadeAnimationHandler=u,In}var ql;function Mf(){if(ql)return gi;ql=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.default=void 0;var e=u($i()),t=a(sc()),n=a(lc()),r=a(cc()),i=a(Cf()),o=a(ac()),s=uc(),l=Sf();function a(I){return I&&I.__esModule?I:{default:I}}function c(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return c=function(){return I},I}function u(I){if(I&&I.__esModule)return I;if(I===null||h(I)!=="object"&&typeof I!="function")return{default:I};var v=c();if(v&&v.has(I))return v.get(I);var _={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in I)if(Object.prototype.hasOwnProperty.call(I,y)){var z=R?Object.getOwnPropertyDescriptor(I,y):null;z&&(z.get||z.set)?Object.defineProperty(_,y,z):_[y]=I[y]}return _.default=I,v&&v.set(I,_),_}function h(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(_){return typeof _}:h=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(I)}function g(){return g=Object.assign||function(I){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var R in _)Object.prototype.hasOwnProperty.call(_,R)&&(I[R]=_[R])}return I},g.apply(this,arguments)}function p(I,v){var _=Object.keys(I);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(I);v&&(R=R.filter(function(y){return Object.getOwnPropertyDescriptor(I,y).enumerable})),_.push.apply(_,R)}return _}function f(I){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?p(Object(_),!0).forEach(function(R){k(I,R,_[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(_)):p(Object(_)).forEach(function(R){Object.defineProperty(I,R,Object.getOwnPropertyDescriptor(_,R))})}return I}function x(I,v){if(!(I instanceof v))throw new TypeError("Cannot call a class as a function")}function M(I,v){for(var _=0;_<v.length;_++){var R=v[_];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}function C(I,v,_){return v&&M(I.prototype,v),I}function b(I,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(v&&v.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),v&&E(I,v)}function E(I,v){return E=Object.setPrototypeOf||function(R,y){return R.__proto__=y,R},E(I,v)}function T(I){var v=O();return function(){var R=S(I),y;if(v){var z=S(this).constructor;y=Reflect.construct(R,arguments,z)}else y=R.apply(this,arguments);return w(this,y)}}function w(I,v){return v&&(h(v)==="object"||typeof v=="function")?v:A(I)}function A(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function O(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(I){return!1}}function S(I){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},S(I)}function k(I,v,_){return v in I?Object.defineProperty(I,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):I[v]=_,I}var L=function(I){b(_,I);var v=T(_);function _(R){var y;x(this,_),y=v.call(this,R),k(A(y),"thumbsRef",void 0),k(A(y),"carouselWrapperRef",void 0),k(A(y),"listRef",void 0),k(A(y),"itemsRef",void 0),k(A(y),"timer",void 0),k(A(y),"animationHandler",void 0),k(A(y),"setThumbsRef",function(N){y.thumbsRef=N}),k(A(y),"setCarouselWrapperRef",function(N){y.carouselWrapperRef=N}),k(A(y),"setListRef",function(N){y.listRef=N}),k(A(y),"setItemsRef",function(N,V){y.itemsRef||(y.itemsRef=[]),y.itemsRef[V]=N}),k(A(y),"autoPlay",function(){e.Children.count(y.props.children)<=1||(y.clearAutoPlay(),y.props.autoPlay&&(y.timer=setTimeout(function(){y.increment()},y.props.interval)))}),k(A(y),"clearAutoPlay",function(){y.timer&&clearTimeout(y.timer)}),k(A(y),"resetAutoPlay",function(){y.clearAutoPlay(),y.autoPlay()}),k(A(y),"stopOnHover",function(){y.setState({isMouseEntered:!0},y.clearAutoPlay)}),k(A(y),"startOnLeave",function(){y.setState({isMouseEntered:!1},y.autoPlay)}),k(A(y),"isFocusWithinTheCarousel",function(){return y.carouselWrapperRef?!!((0,i.default)().activeElement===y.carouselWrapperRef||y.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),k(A(y),"navigateWithKeyboard",function(N){if(y.isFocusWithinTheCarousel()){var V=y.props.axis,oe=V==="horizontal",re={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},Y=oe?re.ArrowRight:re.ArrowDown,ne=oe?re.ArrowLeft:re.ArrowUp;Y===N.keyCode?y.increment():ne===N.keyCode&&y.decrement()}}),k(A(y),"updateSizes",function(){if(!(!y.state.initialized||!y.itemsRef||y.itemsRef.length===0)){var N=y.props.axis==="horizontal",V=y.itemsRef[0];if(V){var oe=N?V.clientWidth:V.clientHeight;y.setState({itemSize:oe}),y.thumbsRef&&y.thumbsRef.updateSizes()}}}),k(A(y),"setMountState",function(){y.setState({hasMount:!0}),y.updateSizes()}),k(A(y),"handleClickItem",function(N,V){if(e.Children.count(y.props.children)!==0){if(y.state.cancelClick){y.setState({cancelClick:!1});return}y.props.onClickItem(N,V),N!==y.state.selectedItem&&y.setState({selectedItem:N})}}),k(A(y),"handleOnChange",function(N,V){e.Children.count(y.props.children)<=1||y.props.onChange(N,V)}),k(A(y),"handleClickThumb",function(N,V){y.props.onClickThumb(N,V),y.moveTo(N)}),k(A(y),"onSwipeStart",function(N){y.setState({swiping:!0}),y.props.onSwipeStart(N)}),k(A(y),"onSwipeEnd",function(N){y.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),y.props.onSwipeEnd(N),y.clearAutoPlay(),y.state.autoPlay&&y.autoPlay()}),k(A(y),"onSwipeMove",function(N,V){y.props.onSwipeMove(V);var oe=y.props.swipeAnimationHandler(N,y.props,y.state,y.setState.bind(A(y)));return y.setState(f({},oe)),!!Object.keys(oe).length}),k(A(y),"decrement",function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;y.moveTo(y.state.selectedItem-(typeof N=="number"?N:1))}),k(A(y),"increment",function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;y.moveTo(y.state.selectedItem+(typeof N=="number"?N:1))}),k(A(y),"moveTo",function(N){if(typeof N=="number"){var V=e.Children.count(y.props.children)-1;N<0&&(N=y.props.infiniteLoop?V:0),N>V&&(N=y.props.infiniteLoop?0:V),y.selectItem({selectedItem:N}),y.state.autoPlay&&y.state.isMouseEntered===!1&&y.resetAutoPlay()}}),k(A(y),"onClickNext",function(){y.increment(1)}),k(A(y),"onClickPrev",function(){y.decrement(1)}),k(A(y),"onSwipeForward",function(){y.increment(1),y.props.emulateTouch&&y.setState({cancelClick:!0})}),k(A(y),"onSwipeBackwards",function(){y.decrement(1),y.props.emulateTouch&&y.setState({cancelClick:!0})}),k(A(y),"changeItem",function(N){return function(V){(!(0,s.isKeyboardEvent)(V)||V.key==="Enter")&&y.moveTo(N)}}),k(A(y),"selectItem",function(N){y.setState(f({previousItem:y.state.selectedItem},N),function(){y.setState(y.animationHandler(y.props,y.state))}),y.handleOnChange(N.selectedItem,e.Children.toArray(y.props.children)[N.selectedItem])}),k(A(y),"getInitialImage",function(){var N=y.props.selectedItem,V=y.itemsRef&&y.itemsRef[N],oe=V&&V.getElementsByTagName("img")||[];return oe[0]}),k(A(y),"getVariableItemHeight",function(N){var V=y.itemsRef&&y.itemsRef[N];if(y.state.hasMount&&V&&V.children.length){var oe=V.children[0].getElementsByTagName("img")||[];if(oe.length>0){var re=oe[0];if(!re.complete){var Y=function ke(){y.forceUpdate(),re.removeEventListener("load",ke)};re.addEventListener("load",Y)}}var ne=oe[0]||V.children[0],le=ne.clientHeight;return le>0?le:null}return null});var z={initialized:!1,previousItem:R.selectedItem,selectedItem:R.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:R.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return y.animationHandler=typeof R.animationHandler=="function"&&R.animationHandler||R.animationHandler==="fade"&&l.fadeAnimationHandler||l.slideAnimationHandler,y.state=f(f({},z),y.animationHandler(R,z)),y}return C(_,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(y,z){!y.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!y.autoFocus&&this.props.autoFocus&&this.forceFocus(),z.swiping&&!this.state.swiping&&this.setState(f({},this.props.stopSwipingHandler(this.props,this.state))),(y.selectedItem!==this.props.selectedItem||y.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),y.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var y=this;this.bindEvents(),this.state.autoPlay&&e.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var z=y.getInitialImage();z&&!z.complete?z.addEventListener("load",y.setMountState):y.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var y=this.carouselWrapperRef;this.props.stopOnHover&&y&&(y.addEventListener("mouseenter",this.stopOnHover),y.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var y=this.carouselWrapperRef;this.props.stopOnHover&&y&&(y.removeEventListener("mouseenter",this.stopOnHover),y.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var y=this.getInitialImage();y&&y.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var y;(y=this.carouselWrapperRef)===null||y===void 0||y.focus()}},{key:"renderItems",value:function(y){var z=this;return this.props.children?e.Children.map(this.props.children,function(N,V){var oe=V===z.state.selectedItem,re=V===z.state.previousItem,Y=oe&&z.state.selectedStyle||re&&z.state.prevStyle||z.state.slideStyle||{};z.props.centerMode&&z.props.axis==="horizontal"&&(Y=f(f({},Y),{},{minWidth:z.props.centerSlidePercentage+"%"})),z.state.swiping&&z.state.swipeMovementStarted&&(Y=f(f({},Y),{},{pointerEvents:"none"}));var ne={ref:function(ke){return z.setItemsRef(ke,V)},key:"itemKey"+V+(y?"clone":""),className:n.default.ITEM(!0,V===z.state.selectedItem,V===z.state.previousItem),onClick:z.handleClickItem.bind(z,V,N),style:Y};return e.default.createElement("li",ne,z.props.renderItem(N,{isSelected:V===z.state.selectedItem,isPrevious:V===z.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var y=this,z=this.props,N=z.showIndicators,V=z.labels,oe=z.renderIndicator,re=z.children;return N?e.default.createElement("ul",{className:"control-dots"},e.Children.map(re,function(Y,ne){return oe&&oe(y.changeItem(ne),ne===y.state.selectedItem,ne,V.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?e.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,e.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||e.Children.count(this.props.children)===0?null:e.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var y=this;if(!this.props.children||e.Children.count(this.props.children)===0)return null;var z=this.props.swipeable&&e.Children.count(this.props.children)>1,N=this.props.axis==="horizontal",V=this.props.showArrows&&e.Children.count(this.props.children)>1,oe=V&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,re=V&&(this.state.selectedItem<e.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,Y=this.renderItems(!0),ne=Y.shift(),le=Y.pop(),ke={className:n.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},J={};if(N){if(ke.onSwipeLeft=this.onSwipeForward,ke.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var _e=this.getVariableItemHeight(this.state.selectedItem);J.height=_e||"auto"}}else ke.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ke.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ke.style=f(f({},ke.style),{},{height:this.state.itemSize}),J.height=this.state.itemSize;return e.default.createElement("div",{"aria-label":this.props.ariaLabel,className:n.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},e.default.createElement("div",{className:n.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,oe,this.props.labels.leftArrow),e.default.createElement("div",{className:n.default.WRAPPER(!0,this.props.axis),style:J},z?e.default.createElement(t.default,g({tagName:"ul",innerRef:this.setListRef},ke,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&le,this.renderItems(),this.props.infiniteLoop&&ne):e.default.createElement("ul",{className:n.default.SLIDER(!0,this.state.swiping),ref:function(ye){return y.setListRef(ye)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&le,this.renderItems(),this.props.infiniteLoop&&ne)),this.props.renderArrowNext(this.onClickNext,re,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),_}(e.default.Component);return gi.default=L,k(L,"displayName","Carousel"),k(L,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:s.noop,onClickThumb:s.noop,onChange:s.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(v,_,R){return e.default.createElement("button",{type:"button","aria-label":R,className:n.default.ARROW_PREV(!_),onClick:v})},renderArrowNext:function(v,_,R){return e.default.createElement("button",{type:"button","aria-label":R,className:n.default.ARROW_NEXT(!_),onClick:v})},renderIndicator:function(v,_,R,y){return e.default.createElement("li",{className:n.default.DOT(_),onClick:v,onKeyDown:v,value:R,key:R,role:"button",tabIndex:0,"aria-label":"".concat(y," ").concat(R+1)})},renderItem:function(v){return v},renderThumbs:function(v){var _=e.Children.map(v,function(R){var y=R;if(R.type!=="img"&&(y=e.Children.toArray(R.props.children).find(function(z){return z.type==="img"})),!!y)return y});return _.filter(function(R){return R}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):_},statusFormatter:s.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:l.slideSwipeAnimationHandler,stopSwipingHandler:l.slideStopSwipingHandler}),gi}var Vl={},Kl;function Rf(){return Kl||(Kl=1),Vl}var Yl;function Ef(){return Yl||(Yl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return r.default}});var t=i(Mf()),n=Rf(),r=i(cc());function i(o){return o&&o.__esModule?o:{default:o}}}(ds)),ds}var Tf=Ef();function Vt(e,t,n,r,i=!1){const o=d.useRef();o.current=t,d.useEffect(()=>{if(n===null||n.addEventListener===void 0)return;const s=n,l=a=>{var c;(c=o.current)==null||c.call(s,a)};return s.addEventListener(e,l,{passive:r,capture:i}),()=>{s.removeEventListener(e,l,{capture:i})}},[e,n,r,i])}function jr(e,t){return e===void 0?void 0:t}const If=Math.PI;function Gl(e){return e*If/180}const dc=(e,t,n)=>({x1:e-n/2,y1:t-n/2,x2:e+n/2,y2:t+n/2}),fc=(e,t,n,r,i)=>{switch(e){case"left":return Math.floor(t)+r+i/2;case"center":return Math.floor(t+n/2);case"right":return Math.floor(t+n)-r-i/2}},hc=(e,t,n)=>Math.min(e,t-n*2),gc=(e,t,n)=>n.x1<=e&&e<=n.x2&&n.y1<=t&&t<=n.y2,Ns=e=>{var n;const t=(n=e.fgColor)!=null?n:"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M12.7073 7.05029C7.87391 11.8837 10.4544 9.30322 6.03024 13.7273C5.77392 13.9836 5.58981 14.3071 5.50189 14.6587L4.52521 18.5655C4.38789 19.1148 4.88543 19.6123 5.43472 19.475L9.34146 18.4983C9.69313 18.4104 10.0143 18.2286 10.2706 17.9722L16.9499 11.2929",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}),d.createElement("path",{d:"M20.4854 4.92901L19.0712 3.5148C18.2901 2.73375 17.0238 2.73375 16.2428 3.5148L14.475 5.28257C15.5326 7.71912 16.4736 8.6278 18.7176 9.52521L20.4854 7.75744C21.2665 6.97639 21.2665 5.71006 20.4854 4.92901Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",vectorEffect:"non-scaling-stroke"}))},_f=e=>{var n;const t=(n=e.fgColor)!=null?n:"currentColor";return d.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},d.createElement("path",{d:"M19 6L10.3802 17L5.34071 11.8758",vectorEffect:"non-scaling-stroke",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))};function Af(e,t,n){const[r,i]=d.useState(e),o=d.useRef(!0);d.useEffect(()=>()=>{o.current=!1},[]);const s=d.useRef(_a(l=>{o.current&&i(l)},n));return d.useLayoutEffect(()=>{o.current&&s.current(()=>e())},t),r}const Pf="֑-߿יִ-﷽ﹰ-ﻼ",Df="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Lf=new RegExp("^[^"+Df+"]*["+Pf+"]");function $s(e){return Lf.test(e)?"rtl":"not-rtl"}let yo;function Cs(){if(typeof document>"u")return 0;if(yo!==void 0)return yo;const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.id="testScrollbar",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.append(e),document.body.append(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),t.remove(),yo=n-r,yo}const vr=Symbol();function Ff(e){const t=d.useRef([vr,e]);t.current[1]!==e&&(t.current[0]=e),t.current[1]=e;const[n,r]=d.useState(e),[,i]=d.useState(),o=d.useCallback(l=>{const a=t.current[0];a!==vr&&(l=typeof l=="function"?l(a):l,l===a)||(a!==vr&&i({}),r(c=>typeof l=="function"?l(a===vr?c:a):l),t.current[0]=vr)},[]),s=d.useCallback(()=>{t.current[0]=vr,i({})},[]);return[t.current[0]===vr?n:t.current[0],o,s]}function mc(e){if(e.length===0)return"";let t=0,n=0;for(const r of e){if(n+=r.length,n>1e4)break;t++}return e.slice(0,t).join(", ")}function zf(e){const t=d.useRef(e);return Gr(e,t.current)||(t.current=e),d.useMemo(()=>t.current,[t.current])}const Hf=e=>{const{urls:t,canWrite:n,onEditClick:r,renderImage:i}=e,o=t.filter(l=>l!=="");if(o.length===0)return null;const s=o.length>1;return d.createElement(bf,{"data-testid":"GDG-default-image-overlay-editor"},d.createElement(Tf.Carousel,{showArrows:s,showThumbs:!1,swipeable:s,emulateTouch:s,infiniteLoop:s},o.map(l=>{var c;const a=(c=i==null?void 0:i(l))!=null?c:d.createElement("img",{draggable:!1,src:l});return d.createElement("div",{className:"gdg-centering-container",key:l},a)})),n&&r&&d.createElement("button",{className:"gdg-edit-icon",onClick:r},d.createElement(Ns,null)))};function Ws(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Sr=Ws();function pc(e){Sr=e}const yc=/[&<>"']/,Of=new RegExp(yc.source,"g"),wc=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Nf=new RegExp(wc.source,"g"),$f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zl=e=>$f[e];function mn(e,t){if(t){if(yc.test(e))return e.replace(Of,Zl)}else if(wc.test(e))return e.replace(Nf,Zl);return e}const Wf=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Bf(e){return e.replace(Wf,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const jf=/(^|[^\[])\^/g;function mt(e,t){let n=typeof e=="string"?e:e.source;t=t||"";const r={replace:(i,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(jf,"$1"),n=n.replace(i,s),r},getRegex:()=>new RegExp(n,t)};return r}function Ql(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(t){return null}return e}const Ai={exec:()=>null};function Jl(e,t){const n=e.replace(/\|/g,(o,s,l)=>{let a=!1,c=s;for(;--c>=0&&l[c]==="\\";)a=!a;return a?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function wo(e,t,n){const r=e.length;if(r===0)return"";let i=0;for(;i<r&&e.charAt(r-i-1)===t;)i++;return e.slice(0,r-i)}function Uf(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}function ea(e,t,n,r){const i=t.href,o=t.title?mn(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:o,text:mn(s)}}function Xf(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const r=n[1];return t.split("\n").map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[s]=o;return s.length>=r.length?i.slice(r.length):i}).join("\n")}class Ro{constructor(t){pe(this,"options");pe(this,"rules");pe(this,"lexer");this.options=t||Sr}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:wo(r,"\n")}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const r=n[0],i=Xf(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=wo(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const r=wo(n[0].replace(/^ *>[ \t]?/gm,""),"\n"),i=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:o,text:r}}}list(t){let n=this.rules.block.list.exec(t);if(n){let r=n[1].trim();const i=r.length>1,o={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?"\\d{1,9}\\".concat(r.slice(-1)):"\\".concat(r),this.options.pedantic&&(r=i?r:"[*+-]");const s=new RegExp("^( {0,3}".concat(r,")((?:[	 ][^\\n]*)?(?:\\n|$))"));let l="",a="",c=!1;for(;t;){let u=!1;if(!(n=s.exec(t))||this.rules.block.hr.test(t))break;l=n[0],t=t.substring(l.length);let h=n[2].split("\n",1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),g=t.split("\n",1)[0],p=0;this.options.pedantic?(p=2,a=h.trimStart()):(p=n[2].search(/[^ ]/),p=p>4?1:p,a=h.slice(p),p+=n[1].length);let f=!1;if(!h&&/^ *$/.test(g)&&(l+=g+"\n",t=t.substring(g.length+1),u=!0),!u){const C=new RegExp("^ {0,".concat(Math.min(3,p-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))")),b=new RegExp("^ {0,".concat(Math.min(3,p-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),E=new RegExp("^ {0,".concat(Math.min(3,p-1),"}(?:```|~~~)")),T=new RegExp("^ {0,".concat(Math.min(3,p-1),"}#"));for(;t;){const w=t.split("\n",1)[0];if(g=w,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),E.test(g)||T.test(g)||C.test(g)||b.test(t))break;if(g.search(/[^ ]/)>=p||!g.trim())a+="\n"+g.slice(p);else{if(f||h.search(/[^ ]/)>=4||E.test(h)||T.test(h)||b.test(h))break;a+="\n"+g}!f&&!g.trim()&&(f=!0),l+=w+"\n",t=t.substring(w.length+1),h=g.slice(p)}}o.loose||(c?o.loose=!0:/\n *\n *$/.test(l)&&(c=!0));let x=null,M;this.options.gfm&&(x=/^\[[ xX]\] /.exec(a),x&&(M=x[0]!=="[ ] ",a=a.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:l,task:!!x,checked:M,loose:!1,text:a,tokens:[]}),o.raw+=l}o.items[o.items.length-1].raw=l.trimEnd(),o.items[o.items.length-1].text=a.trimEnd(),o.raw=o.raw.trimEnd();for(let u=0;u<o.items.length;u++)if(this.lexer.state.top=!1,o.items[u].tokens=this.lexer.blockTokens(o.items[u].text,[]),!o.loose){const h=o.items[u].tokens.filter(p=>p.type==="space"),g=h.length>0&&h.some(p=>/\n.*\n/.test(p.raw));o.loose=g}if(o.loose)for(let u=0;u<o.items.length;u++)o.items[u].loose=!0;return o}}html(t){const n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){const n=this.rules.block.def.exec(t);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:o}}}table(t){const n=this.rules.block.table.exec(t);if(!n||!/[:|]/.test(n[2]))return;const r=Jl(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),o=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split("\n"):[],s={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const l of i)/^ *-+: *$/.test(l)?s.align.push("right"):/^ *:-+: *$/.test(l)?s.align.push("center"):/^ *:-+ *$/.test(l)?s.align.push("left"):s.align.push(null);for(const l of r)s.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of o)s.rows.push(Jl(l,s.header.length).map(a=>({text:a,tokens:this.lexer.inline(a)})));return s}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const r=n[1].charAt(n[1].length-1)==="\n"?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:mn(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=wo(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=Uf(n[2],"()");if(s>-1){const a=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,a).trim(),n[3]=""}}let i=n[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],o=s[3])}else o=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),ea(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(t,n){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const i=(r[2]||r[1]).replace(/\s+/g," "),o=n[i.toLowerCase()];if(!o){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return ea(r,o,r[0],this.lexer)}}emStrong(t,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(t);if(!i||i[3]&&r.match(new RegExp("[\\p{L}\\p{N}]","u")))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const s=[...i[0]].length-1;let l,a,c=s,u=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*t.length+s);(i=h.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(a=[...l].length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&s%3&&!((s+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);const g=[...i[0]][0].length,p=t.slice(0,s+i.index+g+a);if(Math.min(s,a)%2){const x=p.slice(1,-1);return{type:"em",raw:p,text:x,tokens:this.lexer.inlineTokens(x)}}const f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=mn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){const n=this.rules.inline.autolink.exec(t);if(n){let r,i;return n[2]==="@"?(r=mn(n[1]),i="mailto:"+r):(r=mn(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r,i;let n;if(n=this.rules.inline.url.exec(t)){let o,s;if(n[2]==="@")o=mn(n[0]),s="mailto:"+o;else{let l;do l=n[0],n[0]=(i=(r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])!=null?i:"";while(l!==n[0]);o=mn(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:o,href:s,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(t){const n=this.rules.inline.text.exec(t);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=mn(n[0]),{type:"text",raw:n[0],text:r}}}}const qf=/^(?: *(?:\n|$))+/,Vf=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Kf=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Bi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Yf=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,vc=/(?:[*+-]|\d{1,9}[.)])/,bc=mt(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,vc).getRegex(),Bs=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Gf=/^[^\n]+/,js=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Zf=mt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",js).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Qf=mt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,vc).getRegex(),Lo="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Us=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Jf=mt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Us).replace("tag",Lo).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xc=mt(Bs).replace("hr",Bi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Lo).getRegex(),eh=mt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",xc).getRegex(),Xs={blockquote:eh,code:Vf,def:Zf,fences:Kf,heading:Yf,hr:Bi,html:Jf,lheading:bc,list:Qf,newline:qf,paragraph:xc,table:Ai,text:Gf},ta=mt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Bi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Lo).getRegex(),th=G(j({},Xs),{table:ta,paragraph:mt(Bs).replace("hr",Bi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ta).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Lo).getRegex()}),nh=G(j({},Xs),{html:mt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Us).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ai,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mt(Bs).replace("hr",Bi).replace("heading"," *#{1,6} *[^\n]").replace("lheading",bc).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),kc=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,rh=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Cc=/^( {2,}|\\)\n(?!\s*$)/,ih=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ji="\\p{P}$+<=>`^|~",oh=mt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ji).getRegex(),sh=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,lh=mt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ji).getRegex(),ah=mt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ji).getRegex(),ch=mt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ji).getRegex(),uh=mt(/\\([punct])/,"gu").replace(/punct/g,ji).getRegex(),dh=mt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),fh=mt(Us).replace("(?:-->|$)","-->").getRegex(),hh=mt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",fh).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Eo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,gh=mt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Eo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Sc=mt(/^!?\[(label)\]\[(ref)\]/).replace("label",Eo).replace("ref",js).getRegex(),Mc=mt(/^!?\[(ref)\](?:\[\])?/).replace("ref",js).getRegex(),mh=mt("reflink|nolink(?!\\()","g").replace("reflink",Sc).replace("nolink",Mc).getRegex(),qs={_backpedal:Ai,anyPunctuation:uh,autolink:dh,blockSkip:sh,br:Cc,code:rh,del:Ai,emStrongLDelim:lh,emStrongRDelimAst:ah,emStrongRDelimUnd:ch,escape:kc,link:gh,nolink:Mc,punctuation:oh,reflink:Sc,reflinkSearch:mh,tag:hh,text:ih,url:Ai},ph=G(j({},qs),{link:mt(/^!?\[(label)\]\((.*?)\)/).replace("label",Eo).getRegex(),reflink:mt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Eo).getRegex()}),Ss=G(j({},qs),{escape:mt(kc).replace("])","~|])").getRegex(),url:mt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),yh=G(j({},Ss),{br:mt(Cc).replace("{2,}","*").getRegex(),text:mt(Ss.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),vo={normal:Xs,gfm:th,pedantic:nh},xi={normal:qs,gfm:Ss,breaks:yh,pedantic:ph};class Fn{constructor(t){pe(this,"tokens");pe(this,"options");pe(this,"state");pe(this,"tokenizer");pe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Sr,this.options.tokenizer=this.options.tokenizer||new Ro,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:vo.normal,inline:xi.normal};this.options.pedantic?(n.block=vo.pedantic,n.inline=xi.pedantic):this.options.gfm&&(n.block=vo.gfm,this.options.breaks?n.inline=xi.breaks:n.inline=xi.gfm),this.tokenizer.rules=n}static get rules(){return{block:vo,inline:xi}}static lex(t,n){return new Fn(n).lex(t)}static lexInline(t,n){return new Fn(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,a,c)=>a+"    ".repeat(c.length));let r,i,o,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+="\n":n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const a=t.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},a),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(o=t.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],s&&i.type==="paragraph"?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=o.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r,i,o,s=t,l,a,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,l.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(t)){t=t.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(t,s,c)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(t)){t=t.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(t))){t=t.substring(r.raw.length),n.push(r);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const h=t.slice(1);let g;this.options.extensions.startInline.forEach(p=>{g=p.call({lexer:this},h),typeof g=="number"&&g>=0&&(u=Math.min(u,g))}),u<1/0&&u>=0&&(o=t.substring(0,u+1))}if(r=this.tokenizer.inlineText(o)){t=t.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),a=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(t){const u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class To{constructor(t){pe(this,"options");this.options=t||Sr}code(t,n,r){var o;const i=(o=(n||"").match(/^\S*/))==null?void 0:o[0];return t=t.replace(/\n$/,"")+"\n",i?'<pre><code class="language-'+mn(i)+'">'+(r?t:mn(t,!0))+"</code></pre>\n":"<pre><code>"+(r?t:mn(t,!0))+"</code></pre>\n"}blockquote(t){return"<blockquote>\n".concat(t,"</blockquote>\n")}html(t,n){return t}heading(t,n,r){return"<h".concat(n,">").concat(t,"</h").concat(n,">\n")}hr(){return"<hr>\n"}list(t,n,r){const i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+">\n"+t+"</"+i+">\n"}listitem(t,n,r){return"<li>".concat(t,"</li>\n")}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return"<p>".concat(t,"</p>\n")}table(t,n){return n&&(n="<tbody>".concat(n,"</tbody>")),"<table>\n<thead>\n"+t+"</thead>\n"+n+"</table>\n"}tablerow(t){return"<tr>\n".concat(t,"</tr>\n")}tablecell(t,n){const r=n.header?"th":"td";return(n.align?"<".concat(r,' align="').concat(n.align,'">'):"<".concat(r,">"))+t+"</".concat(r,">\n")}strong(t){return"<strong>".concat(t,"</strong>")}em(t){return"<em>".concat(t,"</em>")}codespan(t){return"<code>".concat(t,"</code>")}br(){return"<br>"}del(t){return"<del>".concat(t,"</del>")}link(t,n,r){const i=Ql(t);if(i===null)return r;t=i;let o='<a href="'+t+'"';return n&&(o+=' title="'+n+'"'),o+=">"+r+"</a>",o}image(t,n,r){const i=Ql(t);if(i===null)return r;t=i;let o='<img src="'.concat(t,'" alt="').concat(r,'"');return n&&(o+=' title="'.concat(n,'"')),o+=">",o}text(t){return t}}class Vs{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,r){return""+r}image(t,n,r){return""+r}br(){return""}}class zn{constructor(t){pe(this,"options");pe(this,"renderer");pe(this,"textRenderer");this.options=t||Sr,this.options.renderer=this.options.renderer||new To,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Vs}static parse(t,n){return new zn(n).parse(t)}static parseInline(t,n){return new zn(n).parseInline(t)}parse(t,n=!0){let r="";for(let i=0;i<t.length;i++){const o=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=o,l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){r+=l||"";continue}}switch(o.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const s=o;r+=this.renderer.heading(this.parseInline(s.tokens),s.depth,Bf(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":{const s=o;r+=this.renderer.code(s.text,s.lang,!!s.escaped);continue}case"table":{const s=o;let l="",a="";for(let u=0;u<s.header.length;u++)a+=this.renderer.tablecell(this.parseInline(s.header[u].tokens),{header:!0,align:s.align[u]});l+=this.renderer.tablerow(a);let c="";for(let u=0;u<s.rows.length;u++){const h=s.rows[u];a="";for(let g=0;g<h.length;g++)a+=this.renderer.tablecell(this.parseInline(h[g].tokens),{header:!1,align:s.align[g]});c+=this.renderer.tablerow(a)}r+=this.renderer.table(l,c);continue}case"blockquote":{const s=o,l=this.parse(s.tokens);r+=this.renderer.blockquote(l);continue}case"list":{const s=o,l=s.ordered,a=s.start,c=s.loose;let u="";for(let h=0;h<s.items.length;h++){const g=s.items[h],p=g.checked,f=g.task;let x="";if(g.task){const M=this.renderer.checkbox(!!p);c?g.tokens.length>0&&g.tokens[0].type==="paragraph"?(g.tokens[0].text=M+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&g.tokens[0].tokens[0].type==="text"&&(g.tokens[0].tokens[0].text=M+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:M+" "}):x+=M+" "}x+=this.parse(g.tokens,c),u+=this.renderer.listitem(x,f,!!p)}r+=this.renderer.list(u,l,a);continue}case"html":{const s=o;r+=this.renderer.html(s.text,s.block);continue}case"paragraph":{const s=o;r+=this.renderer.paragraph(this.parseInline(s.tokens));continue}case"text":{let s=o,l=s.tokens?this.parseInline(s.tokens):s.text;for(;i+1<t.length&&t[i+1].type==="text";)s=t[++i],l+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);r+=n?this.renderer.paragraph(l):l;continue}default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}parseInline(t,n){n=n||this.renderer;let r="";for(let i=0;i<t.length;i++){const o=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=this.options.extensions.renderers[o.type].call({parser:this},o);if(s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=s||"";continue}}switch(o.type){case"escape":{const s=o;r+=n.text(s.text);break}case"html":{const s=o;r+=n.html(s.text);break}case"link":{const s=o;r+=n.link(s.href,s.title,this.parseInline(s.tokens,n));break}case"image":{const s=o;r+=n.image(s.href,s.title,s.text);break}case"strong":{const s=o;r+=n.strong(this.parseInline(s.tokens,n));break}case"em":{const s=o;r+=n.em(this.parseInline(s.tokens,n));break}case"codespan":{const s=o;r+=n.codespan(s.text);break}case"br":{r+=n.br();break}case"del":{const s=o;r+=n.del(this.parseInline(s.tokens,n));break}case"text":{const s=o;r+=n.text(s.text);break}default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return r}}class Pi{constructor(t){pe(this,"options");this.options=t||Sr}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}pe(Pi,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Cr,Ms,Rc;class wh{constructor(...t){kl(this,Cr);pe(this,"defaults",Ws());pe(this,"options",this.setOptions);pe(this,"parse",lo(this,Cr,Ms).call(this,Fn.lex,zn.parse));pe(this,"parseInline",lo(this,Cr,Ms).call(this,Fn.lexInline,zn.parseInline));pe(this,"Parser",zn);pe(this,"Renderer",To);pe(this,"TextRenderer",Vs);pe(this,"Lexer",Fn);pe(this,"Tokenizer",Ro);pe(this,"Hooks",Pi);this.use(...t)}walkTokens(t,n){var i,o;let r=[];for(const s of t)switch(r=r.concat(n.call(this,s)),s.type){case"table":{const l=s;for(const a of l.header)r=r.concat(this.walkTokens(a.tokens,n));for(const a of l.rows)for(const c of a)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{const l=s;r=r.concat(this.walkTokens(l.items,n));break}default:{const l=s;(o=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&o[l.type]?this.defaults.extensions.childTokens[l.type].forEach(a=>{r=r.concat(this.walkTokens(l[a],n))}):l.tokens&&(r=r.concat(this.walkTokens(l.tokens,n)))}}return r}use(...t){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const i=j({},r);if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=n.renderers[o.name];s?n.renderers[o.name]=function(...l){let a=o.renderer.apply(this,l);return a===!1&&(a=s.apply(this,l)),a}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=n[o.level];s?s.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),i.extensions=n),r.renderer){const o=this.defaults.renderer||new To(this.defaults);for(const s in r.renderer){if(!(s in o))throw new Error("renderer '".concat(s,"' does not exist"));if(s==="options")continue;const l=s,a=r.renderer[l],c=o[l];o[l]=(...u)=>{let h=a.apply(o,u);return h===!1&&(h=c.apply(o,u)),h||""}}i.renderer=o}if(r.tokenizer){const o=this.defaults.tokenizer||new Ro(this.defaults);for(const s in r.tokenizer){if(!(s in o))throw new Error("tokenizer '".concat(s,"' does not exist"));if(["options","rules","lexer"].includes(s))continue;const l=s,a=r.tokenizer[l],c=o[l];o[l]=(...u)=>{let h=a.apply(o,u);return h===!1&&(h=c.apply(o,u)),h}}i.tokenizer=o}if(r.hooks){const o=this.defaults.hooks||new Pi;for(const s in r.hooks){if(!(s in o))throw new Error("hook '".concat(s,"' does not exist"));if(s==="options")continue;const l=s,a=r.hooks[l],c=o[l];Pi.passThroughHooks.has(s)?o[l]=u=>{if(this.defaults.async)return Promise.resolve(a.call(o,u)).then(g=>c.call(o,g));const h=a.call(o,u);return c.call(o,h)}:o[l]=(...u)=>{let h=a.apply(o,u);return h===!1&&(h=c.apply(o,u)),h}}i.hooks=o}if(r.walkTokens){const o=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(l){let a=[];return a.push(s.call(this,l)),o&&(a=a.concat(o.call(this,l))),a}}this.defaults=j(j({},this.defaults),i)}),this}setOptions(t){return this.defaults=j(j({},this.defaults),t),this}lexer(t,n){return Fn.lex(t,n!=null?n:this.defaults)}parser(t,n){return zn.parse(t,n!=null?n:this.defaults)}}Cr=new WeakSet,Ms=function(t,n){return(r,i)=>{const o=j({},i),s=j(j({},this.defaults),o);this.defaults.async===!0&&o.async===!1&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const l=lo(this,Cr,Rc).call(this,!!s.silent,!!s.async);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(a=>t(a,s)).then(a=>s.hooks?s.hooks.processAllTokens(a):a).then(a=>s.walkTokens?Promise.all(this.walkTokens(a,s.walkTokens)).then(()=>a):a).then(a=>n(a,s)).then(a=>s.hooks?s.hooks.postprocess(a):a).catch(l);try{s.hooks&&(r=s.hooks.preprocess(r));let a=t(r,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let c=n(a,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(a){return l(a)}}},Rc=function(t,n){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",t){const i="<p>An error occurred:</p><pre>"+mn(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}};const kr=new wh;function dt(e,t){return kr.parse(e,t)}dt.options=dt.setOptions=function(e){return kr.setOptions(e),dt.defaults=kr.defaults,pc(dt.defaults),dt};dt.getDefaults=Ws;dt.defaults=Sr;dt.use=function(...e){return kr.use(...e),dt.defaults=kr.defaults,pc(dt.defaults),dt};dt.walkTokens=function(e,t){return kr.walkTokens(e,t)};dt.parseInline=kr.parseInline;dt.Parser=zn;dt.parser=zn.parse;dt.Renderer=To;dt.TextRenderer=Vs;dt.Lexer=Fn;dt.lexer=Fn.lex;dt.Tokenizer=Ro;dt.Hooks=Pi;dt.parse=dt;dt.options;dt.setOptions;dt.use;dt.walkTokens;dt.parseInline;zn.parse;Fn.lex;const vh=vn("div")({name:"MarkdownContainer",class:"gdg-mnuv029",propsAsIs:!1});class bh extends Ot.PureComponent{constructor(){super(...arguments);pe(this,"targetElement",null);pe(this,"containerRefHook",n=>{this.targetElement=n,this.renderMarkdownIntoDiv()})}renderMarkdownIntoDiv(){const{targetElement:n,props:r}=this;if(n===null)return;const{contents:i,createNode:o}=r,s=dt(i),l=document.createRange();l.selectNodeContents(n),l.deleteContents();let a=o==null?void 0:o(s);if(a===void 0){const u=document.createElement("template");u.innerHTML=s,a=u.content}n.append(a);const c=n.getElementsByTagName("a");for(const u of c)u.target="_blank",u.rel="noreferrer noopener"}render(){return this.renderMarkdownIntoDiv(),Ot.createElement(vh,{ref:this.containerRefHook})}}const xh=vn("textarea")({name:"InputBox",class:"gdg-izpuzkl",propsAsIs:!1}),kh=vn("div")({name:"ShadowBox",class:"gdg-s69h75o",propsAsIs:!1}),Ch=vn("div")({name:"GrowingEntryStyle",class:"gdg-g1y0xocz",propsAsIs:!1});let na=0;const Fo=e=>{const f=e,{placeholder:t,value:n,onKeyDown:r,highlight:i,altNewline:o,validatedSelection:s}=f,l=Wr(f,["placeholder","value","onKeyDown","highlight","altNewline","validatedSelection"]),{onChange:a,className:c}=l,u=d.useRef(null),h=n!=null?n:"";yn(a!==void 0,"GrowingEntry must be a controlled input area");const[g]=d.useState(()=>"input-box-"+(na=(na+1)%1e7));d.useEffect(()=>{const x=u.current;if(x===null||x.disabled)return;const M=h.toString().length;x.focus(),x.setSelectionRange(i?0:M,M)},[]),d.useLayoutEffect(()=>{var x;if(s!==void 0){const M=typeof s=="number"?[s,null]:s;(x=u.current)==null||x.setSelectionRange(M[0],M[1])}},[s]);const p=d.useCallback(x=>{x.key==="Enter"&&x.shiftKey&&o===!0||r==null||r(x)},[o,r]);return d.createElement(Ch,{className:"gdg-growing-entry"},d.createElement(kh,{className:c},h+"\n"),d.createElement(xh,G(j({},l),{className:(c!=null?c:"")+" gdg-input",id:g,ref:u,onKeyDown:p,value:h,placeholder:t,dir:"auto"})))},fs={};let tr=null;function Sh(){const e=document.createElement("div");return e.style.opacity="0",e.style.pointerEvents="none",e.style.position="fixed",document.body.append(e),e}function Rs(e){const t=e.toLowerCase().trim();if(fs[t]!==void 0)return fs[t];tr=tr||Sh(),tr.style.color="#000",tr.style.color=t;const n=getComputedStyle(tr).color;tr.style.color="#fff",tr.style.color=t;const r=getComputedStyle(tr).color;if(r!==n)return[0,0,0,1];let i=r.replace(/[^\d.,]/g,"").split(",").map(Number.parseFloat);return i.length<4&&i.push(1),i=i.map(o=>Number.isNaN(o)?0:o),fs[t]=i,i}function Zr(e,t){const[n,r,i]=Rs(e);return"rgba(".concat(n,", ").concat(r,", ").concat(i,", ").concat(t,")")}function wn(e,t){if(t===void 0)return e;const[n,r,i,o]=Rs(e);if(o===1)return e;const[s,l,a,c]=Rs(t),u=o+c*(1-o),h=(o*n+c*s*(1-o))/u,g=(o*r+c*l*(1-o))/u,p=(o*i+c*a*(1-o))/u;return"rgba(".concat(h,", ").concat(g,", ").concat(p,", ").concat(u,")")}var qr=new Map,Kr=new Map,Es=new Map;function Mh(){qr.clear(),Es.clear(),Kr.clear()}function Rh(e,t,n,r,i){var o,s,l;let a=0,c={};for(let h of e)a+=(o=n.get(h))!=null?o:i,c[h]=((s=c[h])!=null?s:0)+1;let u=t-a;for(let h of Object.keys(c)){let g=c[h],p=(l=n.get(h))!=null?l:i,f=p*g/a,x=u*f*r/g,M=p+x;n.set(h,M)}}function Eh(e,t){var n;let r=new Map,i=0;for(let c of"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890,.-+=?"){let u=e.measureText(c).width;r.set(c,u),i+=u}let o=i/r.size,s=3,l=(t/o+s)/(s+1),a=r.keys();for(let c of a)r.set(c,((n=r.get(c))!=null?n:o)*l);return r}function Di(e,t,n,r){var i,o;let s=Kr.get(n);if(r&&s!==void 0&&s.count>2e4){let c=Es.get(n);if(c===void 0&&(c=Eh(e,s.size),Es.set(n,c)),s.count>5e5){let h=0;for(let g of t)h+=(i=c.get(g))!=null?i:s.size;return h*1.01}let u=e.measureText(t);return Rh(t,u.width,c,Math.max(.05,1-s.count/2e5),s.size),Kr.set(n,{count:s.count+t.length,size:s.size}),u.width}let l=e.measureText(t),a=l.width/t.length;if(((o=s==null?void 0:s.count)!=null?o:0)>2e4)return l.width;if(s===void 0)Kr.set(n,{count:t.length,size:a});else{let c=a-s.size,u=t.length/(s.count+t.length),h=s.size+c*u;Kr.set(n,{count:s.count+t.length,size:h})}return l.width}function Th(e,t,n,r,i,o,s,l){if(t.length<=1)return t.length;if(i<n)return-1;let a=Math.floor(n/i*o),c=Di(e,t.slice(0,Math.max(0,a)),r,s);if(c!==n)if(c<n){for(;c<n;)a++,c=Di(e,t.slice(0,Math.max(0,a)),r,s);a--}else for(;c>n;){let u=t.lastIndexOf(" ",a-1);u>0?a=u:a--,c=Di(e,t.slice(0,Math.max(0,a)),r,s)}if(t[a]!==" "){let u=0;u=t.lastIndexOf(" ",a),u>0&&(a=u)}return a}function Ih(e,t,n,r,i,o){let s="".concat(t,"_").concat(n,"_").concat(r,"px"),l=qr.get(s);if(l!==void 0)return l;if(r<=0)return[];let a=[],c=t.split("\n"),u=Kr.get(n),h=u===void 0?t.length:r/u.size*1.5,g=i&&u!==void 0&&u.count>2e4;for(let p of c){let f=Di(e,p.slice(0,Math.max(0,h)),n,g),x=Math.min(p.length,h);if(f<=r)a.push(p);else{for(;f>r;){let M=Th(e,p,r,n,f,x,g),C=p.slice(0,Math.max(0,M));p=p.slice(C.length),a.push(C),f=Di(e,p.slice(0,Math.max(0,h)),n,g),x=Math.min(p.length,h)}f>0&&a.push(p)}}return a=a.map((p,f)=>f===0?p.trimEnd():p.trim()),qr.set(s,a),qr.size>500&&qr.delete(qr.keys().next().value),a}function _h(e,t){return Ot.useMemo(()=>e.map((n,r)=>G(j({},n),{sourceIndex:r,sticky:r<t})),[e,t])}function Ah(e,t){const[n,r]=t;if(e.columns.hasIndex(n)||e.rows.hasIndex(r))return!0;if(e.current!==void 0){if(Li(e.current.cell,t))return!0;const i=[e.current.range,...e.current.rangeStack];for(const o of i)if(n>=o.x&&n<o.x+o.width&&r>=o.y&&r<o.y+o.height)return!0}return!1}function Ni(e,t){return(e!=null?e:"")===(t!=null?t:"")}function Ph(e,t,n){return n.current===void 0||e[1]!==n.current.cell[1]?!1:t.span===void 0?n.current.cell[0]===e[0]:n.current.cell[0]>=t.span[0]&&n.current.cell[0]<=t.span[1]}function Ec(e,t){const[n,r]=e;return n>=t.x&&n<t.x+t.width&&r>=t.y&&r<t.y+t.height}function Li(e,t){return(e==null?void 0:e[0])===(t==null?void 0:t[0])&&(e==null?void 0:e[1])===(t==null?void 0:t[1])}function Tc(e){return[e.x+e.width-1,e.y+e.height-1]}function ra(e,t,n){const r=n.x,i=n.x+n.width-1,o=n.y,s=n.y+n.height-1,[l,a]=e;if(a<o||a>s)return!1;if(t.span===void 0)return l>=r&&l<=i;const[c,u]=t.span;return c>=r&&c<=i||u>=r&&c<=i||c<r&&u>i}function Dh(e,t,n){let r=0;if(n.current===void 0)return r;ra(e,t,n.current.range)&&r++;for(const i of n.current.rangeStack)ra(e,t,i)&&r++;return r}function Ic(e,t){let n=e;if(t!==void 0){let r=[...e];const i=n[t.src];t.src>t.dest?(r.splice(t.src,1),r.splice(t.dest,0,i)):(r.splice(t.dest+1,0,i),r.splice(t.src,1)),r=r.map((o,s)=>G(j({},o),{sticky:e[s].sticky})),n=r}return n}function Qr(e,t){let n=0;const r=Ic(e,t);for(let i=0;i<r.length;i++){const o=r[i];if(o.sticky)n+=o.width;else break}return n}function Jr(e,t,n){if(typeof n=="number")return t*n;{let r=0;for(let i=e-t;i<e;i++)r+=n(i);return r}}function Ts(e,t,n,r,i){const o=Ic(e,r),s=[];for(const c of o)if(c.sticky)s.push(c);else break;if(s.length>0)for(const c of s)n-=c.width;let l=t,a=i!=null?i:0;for(;a<=n&&l<o.length;)a+=o[l].width,l++;for(let c=t;c<l;c++){const u=o[c];u.sticky||s.push(u)}return s}function Lh(e,t,n){let r=0;for(const i of t){const o=i.sticky?r:r+(n!=null?n:0);if(e<=o+i.width)return i.sourceIndex;r+=i.width}return-1}function Fh(e,t,n,r,i,o,s,l,a,c){const u=r+i;if(n&&e<=i)return-2;if(e<=u)return-1;let h=t;for(let f=0;f<c;f++){const x=o-1-f,M=typeof s=="number"?s:s(x);if(h-=M,e>=h)return x}const g=o-c,p=e-(a!=null?a:0);if(typeof s=="number"){const f=Math.floor((p-u)/s)+l;return f>=g?void 0:f}else{let f=u;for(let x=l;x<g;x++){const M=s(x);if(p<=f+M)return x;f+=M}return}}let ko=0,Fi={};const zh=typeof window>"u";async function Hh(){var e;zh||((e=document==null?void 0:document.fonts)==null?void 0:e.ready)===void 0||(await document.fonts.ready,ko=0,Fi={},Mh())}Hh();function _c(e,t,n,r){return"".concat(e,"_").concat(r!=null?r:t==null?void 0:t.font,"_").concat(n)}function zo(e,t,n){const r=_c(e,t,"middle",n);let i=Fi[r];return i===void 0&&(i=t.measureText(e),Fi[r]=i,ko++),ko>1e4&&(Fi={},ko=0),i}function Oh(e,t){const n=_c(e,void 0,"middle",t);return Fi[n]}function lr(e,t){return typeof t!="string"&&(t=t.baseFontFull),Nh(e,t)}function ia(e,t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ";e.save(),e.textBaseline=t;const r=e.measureText(n);return e.restore(),r}const oa=[];function Nh(e,t){for(const o of oa)if(o.key===t)return o.val;const n=ia(e,"alphabetic"),i=-(ia(e,"middle").actualBoundingBoxDescent-n.actualBoundingBoxDescent)+n.actualBoundingBoxAscent/2;return oa.push({key:t,val:i}),i}function $h(e,t,n,r,i,o){const{ctx:s,rect:l,theme:a}=e;let c=Number.MAX_SAFE_INTEGER;const u=500;if(t!==void 0&&(c=n-t,c<u)){const h=1-c/u;s.globalAlpha=h,s.fillStyle=a.bgSearchResult,s.fillRect(l.x+1,l.y+1,l.width-(i?2:1),l.height-(o?2:1)),s.globalAlpha=1,r!==void 0&&(r.fillStyle=a.bgSearchResult)}return c<u}function Ui(e,t,n){const{ctx:r,theme:i}=e,o=t!=null?t:{},s=n!=null?n:i.textDark;return s!==o.fillStyle&&(r.fillStyle=s,o.fillStyle=s),o}function Ac(e,t,n,r,i,o,s,l,a){a==="right"?e.fillText(t,n+i-(l.cellHorizontalPadding+.5),r+o/2+s):a==="center"?e.fillText(t,n+i/2,r+o/2+s):e.fillText(t,n+l.cellHorizontalPadding+.5,r+o/2+s)}function Pc(e,t){const n=zo("ABCi09jgqpy",e,t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function Wh(e,t){e.includes("\n")&&(e=e.split(/\r?\n/,1)[0]);const n=t/4;return e.length>n&&(e=e.slice(0,n)),e}function Bh(e,t,n,r,i,o,s,l,a,c){const u=l.baseFontFull,h=Ih(e,t,u,i-l.cellHorizontalPadding*2,c!=null?c:!1),g=Pc(e,u),p=l.lineHeight*g,f=g+p*(h.length-1),x=f+l.cellVerticalPadding>o;x&&(e.save(),e.rect(n,r,i,o),e.clip());const M=r+o/2-f/2;let C=Math.max(r+l.cellVerticalPadding,M);for(const b of h)if(Ac(e,b,n,C,i,g,s,l,a),C+=p,C>r+o)break;x&&e.restore()}function Wn(e,t,n,r,i){const{ctx:o,rect:s,theme:l}=e,{x:a,y:c,width:u,height:h}=s;r=r!=null?r:!1,r||(t=Wh(t,u));const g=lr(o,l),p=$s(t)==="rtl";if(n===void 0&&p&&(n="right"),p&&(o.direction="rtl"),t.length>0){let f=!1;n==="right"?(o.textAlign="right",f=!0):n!==void 0&&n!=="left"&&(o.textAlign=n,f=!0),r?Bh(o,t,a,c,u,h,g,l,n,i):Ac(o,t,a,c,u,h,g,l,n),f&&(o.textAlign="start"),p&&(o.direction="inherit")}}function jn(e,t,n,r,i,o){typeof o=="number"&&(o={tl:o,tr:o,br:o,bl:o}),o={tl:Math.max(0,Math.min(o.tl,i/2,r/2)),tr:Math.max(0,Math.min(o.tr,i/2,r/2)),bl:Math.max(0,Math.min(o.bl,i/2,r/2)),br:Math.max(0,Math.min(o.br,i/2,r/2))},e.moveTo(t+o.tl,n),e.arcTo(t+r,n,t+r,n+o.tr,o.tr),e.arcTo(t+r,n+i,t+r-o.br,n+i,o.br),e.arcTo(t,n+i,t,n+i-o.bl,o.bl),e.arcTo(t,n,t+o.tl,n,o.tl)}function jh(e,t,n){e.arc(t,n-1.25*3.5,1.25,0,2*Math.PI,!1),e.arc(t,n,1.25,0,2*Math.PI,!1),e.arc(t,n+1.25*3.5,1.25,0,2*Math.PI,!1)}function Uh(e,t,n){const r=function(l,a){const c=a.x-l.x,u=a.y-l.y,h=Math.sqrt(c*c+u*u),g=c/h,p=u/h;return{x:c,y:a.y-l.y,len:h,nx:g,ny:p,ang:Math.atan2(p,g)}};let i;const o=t.length;let s=t[o-1];for(let l=0;l<o;l++){let a=t[l%o];const c=t[(l+1)%o],u=r(a,s),h=r(a,c),g=u.nx*h.ny-u.ny*h.nx,p=u.nx*h.nx-u.ny*-h.ny;let f=Math.asin(g<-1?-1:g>1?1:g),x=1,M=!1;p<0?f<0?f=Math.PI+f:(f=Math.PI-f,x=-1,M=!0):f>0&&(x=-1,M=!0),i=a.radius!==void 0?a.radius:n;const C=f/2;let b=Math.abs(Math.cos(C)*i/Math.sin(C)),E;b>Math.min(u.len/2,h.len/2)?(b=Math.min(u.len/2,h.len/2),E=Math.abs(b*Math.sin(C)/Math.cos(C))):E=i;let T=a.x+h.nx*b,w=a.y+h.ny*b;T+=-h.ny*E*x,w+=h.nx*E*x,e.arc(T,w,E,u.ang+Math.PI/2*x,h.ang-Math.PI/2*x,M),s=a,a=c}e.closePath()}function Is(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f){const x={x:0,y:o+c,width:0,height:0};if(e>=p.length||t>=u||t<-2||e<0)return x;const M=o-i;if(e>=h){const C=s>e?-1:1,b=Qr(p);x.x+=b+a;for(let E=s;E!==e;E+=C)x.x+=p[C===1?E:E-1].width*C}else for(let C=0;C<e;C++)x.x+=p[C].width;if(x.width=p[e].width+1,t===-1)x.y=i,x.height=M;else if(t===-2){x.y=0,x.height=i;let C=e;const b=p[e].group,E=p[e].sticky;for(;C>0&&Ni(p[C-1].group,b)&&p[C-1].sticky===E;){const w=p[C-1];x.x-=w.width,x.width+=w.width,C--}let T=e;for(;T+1<p.length&&Ni(p[T+1].group,b)&&p[T+1].sticky===E;){const w=p[T+1];x.width+=w.width,T++}if(!E){const w=Qr(p),A=x.x-w;A<0&&(x.x-=A,x.width+=A),x.x+x.width>n&&(x.width=n-x.x)}}else if(t>=u-g){let C=u-t;for(x.y=r;C>0;){const b=t+C-1;x.height=typeof f=="number"?f:f(b),x.y-=x.height,C--}x.height+=1}else{const C=l>t?-1:1;if(typeof f=="number"){const b=t-l;x.y+=b*f}else for(let b=l;b!==t;b+=C)x.y+=f(b)*C;x.height=(typeof f=="number"?f:f(t))+1}return x}const Ks=1<<21;function An(e,t){return(t+2)*Ks+e}function Dc(e){return e%Ks}function Ys(e){return Math.floor(e/Ks)-2}function Gs(e){const t=Dc(e),n=Ys(e);return[t,n]}class Lc{constructor(){pe(this,"visibleWindow",{x:0,y:0,width:0,height:0});pe(this,"freezeCols",0);pe(this,"freezeRows",[]);pe(this,"isInWindow",t=>{const n=Dc(t),r=Ys(t),i=this.visibleWindow,o=n>=i.x&&n<=i.x+i.width||n<this.freezeCols,s=r>=i.y&&r<=i.y+i.height||this.freezeRows.includes(r);return o&&s})}setWindow(t,n,r){this.visibleWindow.x===t.x&&this.visibleWindow.y===t.y&&this.visibleWindow.width===t.width&&this.visibleWindow.height===t.height&&this.freezeCols===n&&Gr(this.freezeRows,r)||(this.visibleWindow=t,this.freezeCols=n,this.freezeRows=r,this.clearOutOfWindow())}}class Xh extends Lc{constructor(){super(...arguments);pe(this,"cache",new Map);pe(this,"setValue",(n,r)=>{this.cache.set(An(n[0],n[1]),r)});pe(this,"getValue",n=>this.cache.get(An(n[0],n[1])));pe(this,"clearOutOfWindow",()=>{for(const[n]of this.cache.entries())this.isInWindow(n)||this.cache.delete(n)})}}class zi{constructor(t=[]){pe(this,"cells");this.cells=new Set(t.map(n=>An(n[0],n[1])))}add(t){this.cells.add(An(t[0],t[1]))}has(t){return t===void 0?!1:this.cells.has(An(t[0],t[1]))}remove(t){this.cells.delete(An(t[0],t[1]))}clear(){this.cells.clear()}get size(){return this.cells.size}hasHeader(){for(const t of this.cells)if(Ys(t)<0)return!0;return!1}hasItemInRectangle(t){for(let n=t.y;n<t.y+t.height;n++)for(let r=t.x;r<t.x+t.width;r++)if(this.cells.has(An(r,n)))return!0;return!1}hasItemInRegion(t){for(const n of t)if(this.hasItemInRectangle(n))return!0;return!1}*values(){for(const t of this.cells)yield Gs(t)}}function qh(e){var t,n;return j({"--gdg-accent-color":e.accentColor,"--gdg-accent-fg":e.accentFg,"--gdg-accent-light":e.accentLight,"--gdg-text-dark":e.textDark,"--gdg-text-medium":e.textMedium,"--gdg-text-light":e.textLight,"--gdg-text-bubble":e.textBubble,"--gdg-bg-icon-header":e.bgIconHeader,"--gdg-fg-icon-header":e.fgIconHeader,"--gdg-text-header":e.textHeader,"--gdg-text-group-header":(t=e.textGroupHeader)!=null?t:e.textHeader,"--gdg-text-header-selected":e.textHeaderSelected,"--gdg-bg-cell":e.bgCell,"--gdg-bg-cell-medium":e.bgCellMedium,"--gdg-bg-header":e.bgHeader,"--gdg-bg-header-has-focus":e.bgHeaderHasFocus,"--gdg-bg-header-hovered":e.bgHeaderHovered,"--gdg-bg-bubble":e.bgBubble,"--gdg-bg-bubble-selected":e.bgBubbleSelected,"--gdg-bg-search-result":e.bgSearchResult,"--gdg-border-color":e.borderColor,"--gdg-horizontal-border-color":(n=e.horizontalBorderColor)!=null?n:e.borderColor,"--gdg-drilldown-border":e.drilldownBorder,"--gdg-link-color":e.linkColor,"--gdg-cell-horizontal-padding":"".concat(e.cellHorizontalPadding,"px"),"--gdg-cell-vertical-padding":"".concat(e.cellVerticalPadding,"px"),"--gdg-header-font-style":e.headerFontStyle,"--gdg-base-font-style":e.baseFontStyle,"--gdg-marker-font-style":e.markerFontStyle,"--gdg-font-family":e.fontFamily,"--gdg-editor-font-size":e.editorFontSize},e.roundingRadius===void 0?{}:{"--gdg-rounding-radius":"".concat(e.roundingRadius,"px")})}const Fc={accentColor:"#4F5DFF",accentFg:"#FFFFFF",accentLight:"rgba(62, 116, 253, 0.1)",textDark:"#313139",textMedium:"#737383",textLight:"#B2B2C0",textBubble:"#313139",bgIconHeader:"#737383",fgIconHeader:"#FFFFFF",textHeader:"#313139",textGroupHeader:"#313139BB",textHeaderSelected:"#FFFFFF",bgCell:"#FFFFFF",bgCellMedium:"#FAFAFB",bgHeader:"#F7F7F8",bgHeaderHasFocus:"#E9E9EB",bgHeaderHovered:"#EFEFF1",bgBubble:"#EDEDF3",bgBubbleSelected:"#FFFFFF",bgSearchResult:"#fff9e3",borderColor:"rgba(115, 116, 131, 0.16)",drilldownBorder:"rgba(0, 0, 0, 0)",linkColor:"#4F5DFF",cellHorizontalPadding:8,cellVerticalPadding:3,headerIconSize:18,headerFontStyle:"600 13px",baseFontStyle:"13px",markerFontStyle:"9px",fontFamily:"Inter, Roboto, -apple-system, BlinkMacSystemFont, avenir next, avenir, segoe ui, helvetica neue, helvetica, Ubuntu, noto, arial, sans-serif",editorFontSize:"13px",lineHeight:1.4};function zc(){return Fc}const Vh=Ot.createContext(Fc);function sr(e,...t){const n=j({},e);for(const r of t)if(r!==void 0)for(const i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return(n.headerFontFull===void 0||e.fontFamily!==n.fontFamily||e.headerFontStyle!==n.headerFontStyle)&&(n.headerFontFull="".concat(n.headerFontStyle," ").concat(n.fontFamily)),(n.baseFontFull===void 0||e.fontFamily!==n.fontFamily||e.baseFontStyle!==n.baseFontStyle)&&(n.baseFontFull="".concat(n.baseFontStyle," ").concat(n.fontFamily)),(n.markerFontFull===void 0||e.fontFamily!==n.fontFamily||e.markerFontStyle!==n.markerFontStyle)&&(n.markerFontFull="".concat(n.markerFontStyle," ").concat(n.fontFamily)),n}const _s=150;function Kh(e,t,n,r){var o,s;const i=r(t);return(s=(o=i==null?void 0:i.measure)==null?void 0:o.call(i,e,t,n))!=null?s:_s}function Hc(e,t,n,r,i,o,s,l,a){let c=0;const u=i===void 0?[]:i.map(g=>{const p=Kh(e,g[r],t,a);return c=Math.max(c,p),p});if(u.length>5&&l){c=0;let g=0;for(const f of u)g+=f;const p=g/u.length;for(let f=0;f<u.length;f++)u[f]>=p*2?u[f]=0:c=Math.max(c,u[f])}c=Math.max(c,e.measureText(n.title).width+16+(n.icon===void 0?0:28));const h=Math.max(Math.ceil(o),Math.min(Math.floor(s),Math.ceil(c)));return G(j({},n),{width:h})}function Yh(e,t,n,r,i,o,s,l,a){const c=d.useRef(t),u=d.useRef(n),h=d.useRef(s);c.current=t,u.current=n,h.current=s;const[g,p]=d.useMemo(()=>{if(typeof window>"u")return[null,null];const b=document.createElement("canvas");return b.style.display="none",b.style.opacity="0",b.style.position="fixed",[b,b.getContext("2d",{alpha:!1})]},[]);d.useLayoutEffect(()=>(g&&document.documentElement.append(g),()=>{g==null||g.remove()}),[g]);const f=d.useRef({}),x=d.useRef(),[M,C]=d.useState();return d.useLayoutEffect(()=>{const b=u.current;if(b===void 0||e.every(ho))return;let E=Math.max(1,10-Math.floor(e.length/1e4)),T=0;E<c.current&&E>1&&(E--,T=1);const w={x:0,y:0,width:e.length,height:Math.min(c.current,E)},A={x:0,y:c.current-1,width:e.length,height:1};(async()=>{const S=b(w,a.signal),k=T>0?b(A,a.signal):void 0;let L;typeof S=="object"?L=S:L=await Ll(S),k!==void 0&&(typeof k=="object"?L=[...L,...k]:L=[...L,...await Ll(k)]),x.current=e,C(L)})()},[a.signal,e]),d.useMemo(()=>{var O;let E=e.every(ho)?e:p===null?e.map(S=>ho(S)?S:G(j({},S),{width:_s})):(p.font=h.current.baseFontFull,e.map((S,k)=>{if(ho(S))return S;if(f.current[S.id]!==void 0)return G(j({},S),{width:f.current[S.id]});if(M===void 0||x.current!==e||S.id===void 0)return G(j({},S),{width:_s});const L=Hc(p,s,S,k,M,i,o,!0,l);return f.current[S.id]=L.width,L})),T=0,w=0;const A=[];for(const[S,k]of E.entries())T+=k.width,k.grow!==void 0&&k.grow>0&&(w+=k.grow,A.push(S));if(T<r&&A.length>0){const S=[...E],k=r-T;let L=k;for(let I=0;I<A.length;I++){const v=A[I],_=((O=E[v].grow)!=null?O:0)/w,R=I===A.length-1?L:Math.min(L,Math.floor(k*_));S[v]=G(j({},E[v]),{growOffset:R,width:E[v].width+R}),L-=R}E=S}return{sizedColumns:E,nonGrowWidth:T}},[r,e,p,M,s,i,o,l])}const xt='<svg width="20" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">',Gh=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'<rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/><path d="M15.75 4h-1.5a.25.25 0 0 0-.177.074L9.308 8.838a3.75 3.75 0 1 0 1.854 1.854l1.155-1.157.967.322a.5.5 0 0 0 .65-.55l-.18-1.208.363-.363.727.331a.5.5 0 0 0 .69-.59l-.254-.904.647-.647A.25.25 0 0 0 16 5.75v-1.5a.25.25 0 0 0-.25-.25zM7.5 13.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0z" fill="').concat(t,'"/></svg>')},Zh=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'<rect x="2" y="2" width="16" height="16" rx="4" fill="').concat(n,'"/><path d="m12.223 13.314 3.052-2.826a.65.65 0 0 0 0-.984l-3.052-2.822c-.27-.25-.634-.242-.865.022-.232.263-.206.636.056.882l2.601 2.41-2.601 2.41c-.262.245-.288.619-.056.882.231.263.595.277.865.026Zm-4.444.005c.266.25.634.241.866-.027.231-.263.206-.636-.06-.882L5.983 10l2.602-2.405c.266-.25.291-.62.06-.887-.232-.263-.596-.272-.866-.022L4.723 9.51a.653.653 0 0 0 0 .983l3.056 2.827Z" fill="').concat(t,'"/></svg>')},Qh=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="').concat(n,'"/>\n    <path d="M6.52 12.78H5.51V8.74l-1.33.47v-.87l2.29-.83h.05v5.27zm5.2 0H8.15v-.69l1.7-1.83a6.38 6.38 0 0 0 .34-.4c.09-.11.16-.22.22-.32s.1-.19.12-.27a.9.9 0 0 0 0-.56.63.63 0 0 0-.15-.23.58.58 0 0 0-.22-.15.75.75 0 0 0-.29-.05c-.27 0-.48.08-.62.23a.95.95 0 0 0-.2.65H8.03c0-.24.04-.46.13-.67a1.67 1.67 0 0 1 .97-.91c.23-.1.49-.14.77-.14.26 0 .5.04.7.11.21.08.38.18.52.32.14.13.25.3.32.48a1.74 1.74 0 0 1 .03 1.13 2.05 2.05 0 0 1-.24.47 4.16 4.16 0 0 1-.35.47l-.47.5-1 1.05h2.32v.8zm1.8-3.08h.55c.28 0 .48-.06.61-.2a.76.76 0 0 0 .2-.55.8.8 0 0 0-.05-.28.56.56 0 0 0-.13-.22.6.6 0 0 0-.23-.15.93.93 0 0 0-.32-.05.92.92 0 0 0-.29.05.72.72 0 0 0-.23.12.57.57 0 0 0-.21.46H12.4a1.3 1.3 0 0 1 .5-1.04c.15-.13.33-.23.54-.3a2.48 2.48 0 0 1 1.4 0c.2.06.4.15.55.28.15.13.27.28.36.47.08.19.13.4.13.65a1.15 1.15 0 0 1-.2.65 1.36 1.36 0 0 1-.58.49c.15.05.28.12.38.2a1.14 1.14 0 0 1 .43.62c.03.13.05.26.05.4 0 .25-.05.47-.14.66a1.42 1.42 0 0 1-.4.49c-.16.13-.35.23-.58.3a2.51 2.51 0 0 1-.73.1c-.22 0-.44-.03-.65-.09a1.8 1.8 0 0 1-.57-.28 1.43 1.43 0 0 1-.4-.47 1.41 1.41 0 0 1-.15-.66h1a.66.66 0 0 0 .22.5.87.87 0 0 0 .58.2c.25 0 .45-.07.6-.2a.71.71 0 0 0 .21-.56.97.97 0 0 0-.06-.36.61.61 0 0 0-.18-.25.74.74 0 0 0-.28-.15 1.33 1.33 0 0 0-.37-.04h-.55V9.7z" fill="').concat(t,'"/>\n  </svg>')},Jh=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="').concat(n,'"/>\n  <path d="M8.182 12.4h3.636l.655 1.6H14l-3.454-8H9.455L6 14h1.527l.655-1.6zM10 7.44l1.36 3.651H8.64L10 7.441z" fill="').concat(t,'"/>\n</svg>')},eg=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n    <path\n        d="M16.2222 2H3.77778C2.8 2 2 2.8 2 3.77778V16.2222C2 17.2 2.8 18 3.77778 18H16.2222C17.2 18 17.9911 17.2 17.9911 16.2222L18 3.77778C18 2.8 17.2 2 16.2222 2Z"\n        fill="').concat(n,'"\n    />\n    <path\n        fill-rule="evenodd"\n        clip-rule="evenodd"\n        d="M7.66667 6.66669C5.73368 6.66669 4.16667 8.15907 4.16667 10C4.16667 11.841 5.73368 13.3334 7.66667 13.3334H12.3333C14.2663 13.3334 15.8333 11.841 15.8333 10C15.8333 8.15907 14.2663 6.66669 12.3333 6.66669H7.66667ZM12.5 12.5C13.8807 12.5 15 11.3807 15 10C15 8.61931 13.8807 7.50002 12.5 7.50002C11.1193 7.50002 10 8.61931 10 10C10 11.3807 11.1193 12.5 12.5 12.5Z"\n        fill="').concat(t,'"\n    />\n</svg>')},Oc=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n<path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="').concat(n,'"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.29 4.947a3.368 3.368 0 014.723.04 3.375 3.375 0 01.041 4.729l-.009.009-1.596 1.597a3.367 3.367 0 01-5.081-.364.71.71 0 011.136-.85 1.95 1.95 0 002.942.21l1.591-1.593a1.954 1.954 0 00-.027-2.733 1.95 1.95 0 00-2.732-.027l-.91.907a.709.709 0 11-1.001-1.007l.915-.911.007-.007z" fill="').concat(t,'"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.55 8.678a3.368 3.368 0 015.082.364.71.71 0 01-1.136.85 1.95 1.95 0 00-2.942-.21l-1.591 1.593a1.954 1.954 0 00.027 2.733 1.95 1.95 0 002.73.028l.906-.906a.709.709 0 111.003 1.004l-.91.91-.008.01a3.368 3.368 0 01-4.724-.042 3.375 3.375 0 01-.041-4.728l.009-.009L6.55 8.678z" fill="').concat(t,'"/>\n</svg>\n  ')},tg=e=>{const t=e.bgColor;return"".concat(xt,'\n    <path stroke="').concat(t,'" stroke-width="2" d="M12 3v14"/>\n    <path stroke="').concat(t,'" stroke-width="2" stroke-linecap="round" d="M10 4h4m-4 12h4"/>\n    <path d="M11 14h4a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-4v2h4a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4v2ZM9.5 8H5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h4.5v2H5a3 3 0 0 1-3-3V9a3 3 0 0 1 3-3h4.5v2Z" fill="').concat(t,'"/>\n  </svg>\n')},ng=Oc,rg=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="').concat(n,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 13.138a.5.5 0 00.748.434l5.492-3.138a.5.5 0 000-.868L7.748 6.427A.5.5 0 007 6.862v6.276z" fill="').concat(t,'"/>\n</svg>')},ig=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <path d="M10 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 9.17A4.17 4.17 0 0 1 5.83 10 4.17 4.17 0 0 1 10 5.83 4.17 4.17 0 0 1 14.17 10 4.17 4.17 0 0 1 10 14.17z" fill="').concat(t,'"/>\n    <path d="M8.33 8.21a.83.83 0 1 0-.03 1.67.83.83 0 0 0 .03-1.67zm3.34 0a.83.83 0 1 0-.04 1.67.83.83 0 0 0 .04-1.67z" fill="').concat(t,'"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.53 13.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="').concat(t,'"/>\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="').concat(n,'"/>\n    <path d="M10 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 11a5 5 0 1 1 .01-10.01A5 5 0 0 1 10 15z" fill="').concat(t,'"/>\n    <path d="M8 7.86a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2zm4 0a1 1 0 1 0-.04 2 1 1 0 0 0 .04-2z" fill="').concat(t,'"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.53 11.9a2.82 2.82 0 0 1-5.06 0l.77-.38a1.97 1.97 0 0 0 3.52 0l.77.39z" fill="').concat(t,'"/>\n  </svg>')},og=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="').concat(n,'"/>\n  <path opacity=".5" fill-rule="evenodd" clip-rule="evenodd" d="M12.499 10.801a.5.5 0 01.835 0l2.698 4.098a.5.5 0 01-.418.775H10.22a.5.5 0 01-.417-.775l2.697-4.098z" fill="').concat(t,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.07 8.934a.5.5 0 01.824 0l4.08 5.958a.5.5 0 01-.412.782h-8.16a.5.5 0 01-.413-.782l4.08-5.958zM13.75 8.333a2.083 2.083 0 100-4.166 2.083 2.083 0 000 4.166z" fill="').concat(t,'"/>\n</svg>')},sg=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <path fill="').concat(t,'" d="M3 3h14v14H3z"/>\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2zm-7.24 9.78h1.23c.15 0 .27.06.36.18l.98 1.28a.43.43 0 0 1-.05.58l-1.2 1.21a.45.45 0 0 1-.6.04A6.72 6.72 0 0 1 7.33 10c0-.61.1-1.2.25-1.78a6.68 6.68 0 0 1 2.12-3.3.44.44 0 0 1 .6.04l1.2 1.2c.16.17.18.42.05.59l-.98 1.29a.43.43 0 0 1-.36.17H8.98A5.38 5.38 0 0 0 8.67 10c0 .62.11 1.23.3 1.79z" fill="').concat(n,'"/>\n  </svg>')},lg=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="').concat(n,'"/>\n    <path d="m13.49 13.15-2.32-3.27h1.4V7h1.86v2.88h1.4l-2.34 3.27zM11 13H9v-3l-1.5 1.92L6 10v3H4V7h2l1.5 2L9 7h2v6z" fill="').concat(t,'"/>\n  </svg>')},ag=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="').concat(n,'"/>\n  <path d="M14.8 4.182h-.6V3H13v1.182H7V3H5.8v1.182h-.6c-.66 0-1.2.532-1.2 1.182v9.454C4 15.468 4.54 16 5.2 16h9.6c.66 0 1.2-.532 1.2-1.182V5.364c0-.65-.54-1.182-1.2-1.182zm0 10.636H5.2V7.136h9.6v7.682z" fill="').concat(t,'"/>\n</svg>')},cg=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="').concat(n,'"/>\n    <path d="M10 4a6 6 0 0 0-6 6 6 6 0 0 0 6 6 6 6 0 0 0 6-6 6 6 0 0 0-6-6zm0 10.8A4.8 4.8 0 0 1 5.2 10a4.8 4.8 0 1 1 4.8 4.8z" fill="').concat(t,'"/>\n    <path d="M10 7H9v3.93L12.5 13l.5-.8-3-1.76V7z" fill="').concat(t,'"/>\n  </svg>')},ug=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M10 8.643a1.357 1.357 0 100 2.714 1.357 1.357 0 000-2.714zM7.357 10a2.643 2.643 0 115.286 0 2.643 2.643 0 01-5.286 0z" fill="').concat(t,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.589 4.898A5.643 5.643 0 0115.643 10v.5a2.143 2.143 0 01-4.286 0V8a.643.643 0 011.286 0v2.5a.857.857 0 001.714 0V10a4.357 4.357 0 10-1.708 3.46.643.643 0 01.782 1.02 5.643 5.643 0 11-5.842-9.582z" fill="').concat(t,'"/>\n</svg>')},dg=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <rect x="2" y="8" width="10" height="8" rx="2" fill="').concat(n,'"/>\n    <rect x="8" y="4" width="10" height="8" rx="2" fill="').concat(n,'"/>\n    <path d="M10.68 7.73V6l2.97 3.02-2.97 3.02v-1.77c-2.13 0-3.62.7-4.68 2.2.43-2.15 1.7-4.31 4.68-4.74z" fill="').concat(t,'"/>\n  </svg>')},fg=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <path fill="').concat(t,'" d="M4 3h12v14H4z"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.6 2A1.6 1.6 0 002 3.6v12.8A1.6 1.6 0 003.6 18h12.8a1.6 1.6 0 001.6-1.6V3.6A1.6 1.6 0 0016.4 2H3.6zm11.3 10.8a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7h-1.4a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.6-.693.117.117 0 00.1-.115V10.35a.117.117 0 00-.117-.116h-2.8a.117.117 0 00-.117.116v2.333c0 .064.053.117.117.117h.117a.7.7 0 01.7.7v1.4a.7.7 0 01-.7.7H9.3a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.117a.117.117 0 00.117-.117V10.35a.117.117 0 00-.117-.117h-2.8a.117.117 0 00-.117.117v2.342c0 .058.042.106.1.115a.7.7 0 01.6.693v1.4a.7.7 0 01-.7.7H5.1a.7.7 0 01-.7-.7v-1.4a.7.7 0 01.7-.7h.35a.116.116 0 00.116-.117v-2.45c0-.515.418-.933.934-.933h2.917a.117.117 0 00.117-.117V6.85a.117.117 0 00-.117-.116h-2.45a.7.7 0 01-.7-.7V5.1a.7.7 0 01.7-.7h6.067a.7.7 0 01.7.7v.934a.7.7 0 01-.7.7h-2.45a.117.117 0 00-.118.116v2.333c0 .064.053.117.117.117H13.5c.516 0 .934.418.934.934v2.45c0 .063.052.116.116.116h.35z" fill="').concat(n,'"/>\n</svg>')},hg=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/>\n    <path d="M9.98 13.33c.45 0 .74-.3.73-.75l-.01-.1-.16-1.67 1.45 1.05a.81.81 0 0 0 .5.18c.37 0 .72-.32.72-.76 0-.3-.17-.54-.49-.68l-1.63-.77 1.63-.77c.32-.14.49-.37.49-.67 0-.45-.34-.76-.71-.76a.81.81 0 0 0-.5.18l-1.47 1.03.16-1.74.01-.08c.01-.46-.27-.76-.72-.76-.46 0-.76.32-.75.76l.01.08.16 1.74-1.47-1.03a.77.77 0 0 0-.5-.18.74.74 0 0 0-.72.76c0 .3.17.53.49.67l1.63.77-1.62.77c-.32.14-.5.37-.5.68 0 .44.35.75.72.75a.78.78 0 0 0 .5-.17L9.4 10.8l-.16 1.68v.09c-.02.44.28.75.74.75z" fill="').concat(t,'"/>\n  </svg>')},gg=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/>\n    <path d="M8 5.83H5.83a.83.83 0 0 0 0 1.67h1.69A4.55 4.55 0 0 1 8 5.83zm-.33 3.34H5.83a.83.83 0 0 0 0 1.66h2.72a4.57 4.57 0 0 1-.88-1.66zM5.83 12.5a.83.83 0 0 0 0 1.67h7.5a.83.83 0 1 0 0-1.67h-7.5zm8.8-2.9a3.02 3.02 0 0 0 .46-1.6c0-1.66-1.32-3-2.94-3C10.52 5 9.2 6.34 9.2 8s1.31 3 2.93 3c.58 0 1.11-.17 1.56-.47l2.04 2.08.93-.94-2.04-2.08zm-2.48.07c-.9 0-1.63-.75-1.63-1.67s.73-1.67 1.63-1.67c.9 0 1.63.75 1.63 1.67s-.73 1.67-1.63 1.67z" fill="').concat(t,'"/>\n  </svg>')},mg=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/>\n  <path d="M7.676 4.726V3l2.976 3.021-2.976 3.022v-1.77c-2.125 0-3.613.69-4.676 2.201.425-2.158 1.7-4.316 4.676-4.748zM10.182 14.4h3.636l.655 1.6H16l-3.454-8h-1.091L8 16h1.527l.655-1.6zM12 9.44l1.36 3.65h-2.72L12 9.44z" fill="').concat(t,'"/>\n</svg>')},pg=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.167 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666H4.167z" fill="').concat(t,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.083 4.167a.833.833 0 10-1.666 0v4.166a.833.833 0 101.666 0V4.167zM11.667 5.417a.833.833 0 100 1.666h4.166a.833.833 0 100-1.666h-4.166zM5.367 11.688a.833.833 0 00-1.179 1.179l2.947 2.946a.833.833 0 001.178-1.178l-2.946-2.947z" fill="').concat(t,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.313 12.867a.833.833 0 10-1.178-1.179l-2.947 2.947a.833.833 0 101.179 1.178l2.946-2.946z" fill="').concat(t,'"/>\n  <path d="M10.833 12.5c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833zM10.833 15c0-.46.373-.833.834-.833h4.166a.833.833 0 110 1.666h-4.166a.833.833 0 01-.834-.833z" fill="').concat(t,'"/>\n</svg>')},yg=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <path d="M16.22 2H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.77-.8 1.77-1.78L18 3.78C18 2.8 17.2 2 16.22 2z" fill="').concat(n,'"/>\n    <path d="M10 8.84a1.16 1.16 0 1 0 0 2.32 1.16 1.16 0 0 0 0-2.32zm3.02 3.61a3.92 3.92 0 0 0 .78-3.28.49.49 0 1 0-.95.2c.19.87-.02 1.78-.58 2.47a2.92 2.92 0 1 1-4.13-4.08 2.94 2.94 0 0 1 2.43-.62.49.49 0 1 0 .17-.96 3.89 3.89 0 1 0 2.28 6.27zM10 4.17a5.84 5.84 0 0 0-5.44 7.93.49.49 0 1 0 .9-.35 4.86 4.86 0 1 1 2.5 2.67.49.49 0 1 0-.4.88c.76.35 1.6.54 2.44.53a5.83 5.83 0 0 0 0-11.66zm3.02 3.5a.7.7 0 1 0-1.4 0 .7.7 0 0 0 1.4 0zm-6.97 5.35a.7.7 0 1 1 0 1.4.7.7 0 0 1 0-1.4z" fill="').concat(t,'"/>\n  </svg>')},wg=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/>\n  <path d="M12.4 13.565c1.865-.545 3.645-2.083 3.645-4.396 0-1.514-.787-2.604-2.071-2.604C12.69 6.565 12 7.63 12 8.939c1.114.072 1.865.726 1.865 1.683 0 .933-.8 1.647-1.84 2.023l.375.92zM4 5h6v2H4zM4 9h5v2H4zM4 13h4v2H4z" fill="').concat(t,'"/>\n</svg>')},vg=e=>{const t=e.fgColor,n=e.bgColor;return"\n    ".concat(xt,'\n    <rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/>\n    <path d="M12.4 13.56c1.86-.54 3.65-2.08 3.65-4.4 0-1.5-.8-2.6-2.08-2.6S12 7.64 12 8.95c1.11.07 1.86.73 1.86 1.68 0 .94-.8 1.65-1.83 2.03l.37.91zM4 5h6v2H4zm0 4h5v2H4zm0 4h4v2H4z" fill="').concat(t,'"/>\n  </svg>')},bg=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <path d="M16.222 2H3.778C2.8 2 2 2.8 2 3.778v12.444C2 17.2 2.8 18 3.778 18h12.444c.978 0 1.77-.8 1.77-1.778L18 3.778C18 2.8 17.2 2 16.222 2z" fill="').concat(n,'"/>\n  <path d="M10 7a1 1 0 100-2v2zm0 6a1 1 0 100 2v-2zm0-8H7v2h3V5zm-3 6h5V9H7v2zm5 2h-2v2h2v-2zm1-1a1 1 0 01-1 1v2a3 3 0 003-3h-2zm-1-1a1 1 0 011 1h2a3 3 0 00-3-3v2zM4 8a3 3 0 003 3V9a1 1 0 01-1-1H4zm3-3a3 3 0 00-3 3h2a1 1 0 011-1V5z" fill="').concat(t,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.856 12.014a.5.5 0 00-.712.702L5.409 14l-1.265 1.284a.5.5 0 00.712.702l1.255-1.274 1.255 1.274a.5.5 0 00.712-.702L6.813 14l1.265-1.284a.5.5 0 00-.712-.702L6.11 13.288l-1.255-1.274zM12.856 4.014a.5.5 0 00-.712.702L13.409 6l-1.265 1.284a.5.5 0 10.712.702l1.255-1.274 1.255 1.274a.5.5 0 10.712-.702L14.813 6l1.265-1.284a.5.5 0 00-.712-.702L14.11 5.288l-1.255-1.274z" fill="').concat(t,'"/>\n</svg>')},xg=e=>{const t=e.fgColor,n=e.bgColor;return"".concat(xt,'\n  <rect x="2" y="2" width="16" height="16" rx="2" fill="').concat(n,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 7.25a.75.75 0 000-1.5h-6.5a.75.75 0 100 1.5h6.5zM15 10a.75.75 0 01-.75.75h-6.5a.75.75 0 010-1.5h6.5A.75.75 0 0115 10zm-.75 4.25a.75.75 0 000-1.5h-6.5a.75.75 0 000 1.5h6.5zm-8.987-7a.75.75 0 100-1.5.75.75 0 000 1.5zm.75 2.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm-.75 4.25a.75.75 0 100-1.5.75.75 0 000 1.5z" fill="').concat(t,'"/>\n</svg>')},kg=e=>{const t=e.fgColor,n=e.bgColor;return'\n    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2 15v1h14v-2.5c0-.87-.44-1.55-.98-2.04a6.19 6.19 0 0 0-1.9-1.14 12.1 12.1 0 0 0-2.48-.67A4 4 0 1 0 5 6a4 4 0 0 0 2.36 3.65c-.82.13-1.7.36-2.48.67-.69.28-1.37.65-1.9 1.13A2.8 2.8 0 0 0 2 13.5V15z" fill="'.concat(n,'" stroke="').concat(t,'" stroke-width="2"/>\n  </svg>')},Cg=e=>{const t=e.fgColor,n=e.bgColor;return'\n    <svg width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12.43 6.04v-.18a3.86 3.86 0 0 0-7.72 0v.18A2.15 2.15 0 0 0 3 8.14v5.72C3 15.04 3.96 16 5.14 16H12c1.18 0 2.14-.96 2.14-2.14V8.14c0-1.03-.73-1.9-1.71-2.1zM7.86 6v-.14a.71.71 0 1 1 1.43 0V6H7.86z" fill="'.concat(n,'" stroke="').concat(t,'" stroke-width="2"/>\n  </svg>\n')},Sg={headerRowID:Gh,headerNumber:Qh,headerCode:Zh,headerString:Jh,headerBoolean:eg,headerAudioUri:ng,headerVideoUri:rg,headerEmoji:ig,headerImage:og,headerUri:Oc,headerPhone:sg,headerMarkdown:lg,headerDate:ag,headerTime:cg,headerEmail:ug,headerReference:dg,headerIfThenElse:fg,headerSingleValue:hg,headerLookup:gg,headerTextTemplate:mg,headerMath:pg,headerRollup:yg,headerJoinStrings:wg,headerSplitString:vg,headerGeoDistance:bg,headerArray:xg,rowOwnerOverlay:kg,protectedColumnOverlay:Cg,renameIcon:tg};function Mg(e,t){return e==="normal"?[t.bgIconHeader,t.fgIconHeader]:e==="selected"?["white",t.accentColor]:[t.accentColor,t.bgHeader]}class Rg{constructor(t,n){pe(this,"onSettled");pe(this,"spriteMap",new Map);pe(this,"headerIcons");pe(this,"inFlight",0);this.onSettled=n,this.headerIcons=t!=null?t:{}}drawSprite(t,n,r,i,o,s,l,a=1){const[c,u]=Mg(n,l),h=s*Math.ceil(window.devicePixelRatio),g="".concat(c,"_").concat(u,"_").concat(h,"_").concat(t);let p=this.spriteMap.get(g);if(p===void 0){const f=this.headerIcons[t];if(f===void 0)return;p=document.createElement("canvas");const x=p.getContext("2d");if(x===null)return;const M=new Image;M.src="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(f({fgColor:u,bgColor:c}))),this.spriteMap.set(g,p);const C=M.decode();if(C===void 0)return;this.inFlight++,C.then(()=>{x.drawImage(M,0,0,h,h)}).finally(()=>{this.inFlight--,this.inFlight===0&&this.onSettled()})}else a<1&&(r.globalAlpha=a),r.drawImage(p,0,0,h,h,i,o,s,s),a<1&&(r.globalAlpha=1)}}function Zs(e,t,n,r,i,o,s,l,a=-20,c=-20,u=32,h="center"){var E;const g=Math.floor(i+s/2),p=(E=t.roundingRadius)!=null?E:4,f=hc(u,s,t.cellVerticalPadding),x=f/2,M=fc(h,r,o,t.cellHorizontalPadding,f),C=dc(M,g,f),b=gc(r+a,i+c,C);switch(n){case!0:{e.beginPath(),jn(e,M-f/2,g-f/2,f,f,p),e.fillStyle=l?t.accentColor:t.textMedium,e.fill(),e.beginPath(),e.moveTo(M-x+f/4.23,g-x+f/1.97),e.lineTo(M-x+f/2.42,g-x+f/1.44),e.lineTo(M-x+f/1.29,g-x+f/3.25),e.strokeStyle=t.bgCell,e.lineJoin="round",e.lineCap="round",e.lineWidth=1.9,e.stroke();break}case So:case!1:{e.beginPath(),jn(e,M-f/2+.5,g-f/2+.5,f-1,f-1,p),e.lineWidth=1,e.strokeStyle=b?t.textDark:t.textMedium,e.stroke();break}case Hs:{e.beginPath(),jn(e,M-f/2,g-f/2,f,f,p),e.fillStyle=b?t.textMedium:t.textLight,e.fill(),e.beginPath(),e.moveTo(M-f/3,g),e.lineTo(M+f/3,g),e.strokeStyle=t.bgCell,e.lineCap="round",e.lineWidth=1.9,e.stroke();break}default:Oi()}}function Eg(e,t,n,r){if(r==="any")return Nc(e,{x:t,y:n,width:1,height:1});if(r==="vertical"&&(t=e.x),r==="horizontal"&&(n=e.y),Ec([t,n],e))return;const i=t-e.x,o=e.x+e.width-t,s=n-e.y+1,l=e.y+e.height-n,a=Math.min(r==="vertical"?Number.MAX_SAFE_INTEGER:i,r==="vertical"?Number.MAX_SAFE_INTEGER:o,r==="horizontal"?Number.MAX_SAFE_INTEGER:s,r==="horizontal"?Number.MAX_SAFE_INTEGER:l);return a===l?{x:e.x,y:e.y+e.height,width:e.width,height:n-e.y-e.height+1}:a===s?{x:e.x,y:n,width:e.width,height:e.y-n}:a===o?{x:e.x+e.width,y:e.y,width:t-e.x-e.width+1,height:e.height}:{x:t,y:e.y,width:e.x-t,height:e.height}}function Nc(e,t){const n=Math.min(e.x,t.x),r=Math.min(e.y,t.y),i=Math.max(e.x+e.width,t.x+t.width)-n,o=Math.max(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i,height:o}}function Tg(e,t){return e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height}function Ig(e,t,n,r){if(e.x>t||e.y>n||e.x<0&&e.y<0&&e.x+e.width>t&&e.y+e.height>n)return;if(e.x>=0&&e.y>=0&&e.x+e.width<=t&&e.y+e.height<=n)return e;const i=-4,o=-4,s=t+4,l=n+4,a=i-e.x,c=e.x+e.width-s,u=o-e.y,h=e.y+e.height-l,g=a>0?e.x+Math.floor(a/r)*r:e.x,p=c>0?e.x+e.width-Math.floor(c/r)*r:e.x+e.width,f=u>0?e.y+Math.floor(u/r)*r:e.y,x=h>0?e.y+e.height-Math.floor(h/r)*r:e.y+e.height;return{x:g,y:f,width:p-g,height:x-f}}function _g(e,t,n,r,i){const[o,s,l,a]=t,[c,u,h,g]=i,{x:p,y:f,width:x,height:M}=e,C=[];if(x<=0||M<=0)return C;const b=p+x,E=f+M,T=p<o,w=f<s,A=p+x>l,O=f+M>a,S=p>o&&p<l||b>o&&b<l||p<o&&b>l,k=f>s&&f<a||E>s&&E<a||f<s&&E>a;if(S&&k){const I=Math.max(p,o),v=Math.max(f,s),_=Math.min(b,l),R=Math.min(E,a);C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:c,y:u,width:h-c+1,height:g-u+1}})}if(T&&w){const I=p,v=f,_=Math.min(b,o),R=Math.min(E,s);C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:0,y:0,width:c+1,height:u+1}})}if(w&&S){const I=Math.max(p,o),v=f,_=Math.min(b,l),R=Math.min(E,s);C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:c,y:0,width:h-c+1,height:u+1}})}if(w&&A){const I=Math.max(p,l),v=f,_=b,R=Math.min(E,s);C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:h,y:0,width:n-h+1,height:u+1}})}if(T&&k){const I=p,v=Math.max(f,s),_=Math.min(b,o),R=Math.min(E,a);C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:0,y:u,width:c+1,height:g-u+1}})}if(A&&k){const I=Math.max(p,l),v=Math.max(f,s),_=b,R=Math.min(E,a);C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:h,y:u,width:n-h+1,height:g-u+1}})}if(T&&O){const I=p,v=Math.max(f,a),_=Math.min(b,o),R=E;C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:0,y:g,width:c+1,height:r-g+1}})}if(O&&S){const I=Math.max(p,o),v=Math.max(f,a),_=Math.min(b,l),R=E;C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:c,y:g,width:h-c+1,height:r-g+1}})}if(A&&O){const I=Math.max(p,l),v=Math.max(f,a),_=b,R=E;C.push({rect:{x:I,y:v,width:_-I,height:R-v},clip:{x:h,y:g,width:n-h+1,height:r-g+1}})}return C}const Ag={kind:ce.Loading,allowOverlay:!1},ki=[0,0],Ci={x:0,y:0,width:0,height:0},hs=[void 0,()=>{}];let As=!1;function Pg(){As=!0}function $c(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f,x,M,C,b,E,T,w,A,O,S){var y,z;let k,L;M!==void 0&&M[0][0]===n&&M[0][1]===r&&(k=M[1][0],L=M[1][1]);let I;ki[0]=n,ki[1]=r,Ci.x=s,Ci.y=l,Ci.width=a,Ci.height=c,hs[0]=A.getValue(ki),hs[1]=N=>A.setValue(ki,N),As=!1;const v={ctx:e,theme:h,col:n,row:r,cell:t,rect:Ci,highlighted:u,cellFillColor:g,hoverAmount:x,frameTime:b,hoverX:k,drawState:hs,hoverY:L,imageLoader:p,spriteManager:f,hyperWrapping:C,overrideCursor:k!==void 0?S:void 0,requestAnimationFrame:Pg},_=$h(v,t.lastUpdated,b,T,i,o),R=O(t);if(R!==void 0){(T==null?void 0:T.renderer)!==R&&((y=T==null?void 0:T.deprep)==null||y.call(T,v),T=void 0);const N=(z=R.drawPrep)==null?void 0:z.call(R,v,T);E!==void 0&&!Vr(v.cell)?E(v,()=>R.draw(v,t)):R.draw(v,t),I=N===void 0?void 0:{deprep:N==null?void 0:N.deprep,fillStyle:N==null?void 0:N.fillStyle,font:N==null?void 0:N.font,renderer:R}}return(_||As)&&(w==null||w(ki)),I}function Dg(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f,x,M,C,b){const E=[];e.imageSmoothingEnabled=!1;const T=Math.min(i.cellYOffset,s),w=Math.max(i.cellYOffset,s);let A=0;if(typeof C=="number")A+=(w-T)*C;else for(let R=T;R<w;R++)A+=C(R);s>i.cellYOffset&&(A=-A),A+=a-i.translateY;const O=Math.min(i.cellXOffset,o),S=Math.max(i.cellXOffset,o);let k=0;for(let R=O;R<S;R++)k+=x[R].width;o>i.cellXOffset&&(k=-k),k+=l-i.translateX;let L=Qr(M);if(L>0&&L++,k!==0&&A!==0)return{regions:[]};const I=c>0?Jr(g,c,C):0,v=u-L-Math.abs(k),_=h-p-I-Math.abs(A)-1;if(v>150&&_>150){const R={sx:0,sy:0,sw:u*f,sh:h*f,dx:0,dy:0,dw:u*f,dh:h*f};if(A>0?(R.sy=(p+1)*f,R.sh=_*f,R.dy=(A+p+1)*f,R.dh=_*f,E.push({x:0,y:p,width:u,height:A+1})):A<0&&(R.sy=(-A+p+1)*f,R.sh=_*f,R.dy=(p+1)*f,R.dh=_*f,E.push({x:0,y:h+A-I,width:u,height:-A+I})),k>0?(R.sx=L*f,R.sw=v*f,R.dx=(k+L)*f,R.dw=v*f,E.push({x:L-1,y:0,width:k+2,height:h})):k<0&&(R.sx=(L-k)*f,R.sw=v*f,R.dx=L*f,R.dw=v*f,E.push({x:u+k,y:0,width:-k,height:h})),e.setTransform(1,0,0,1,0,0),b){if(L>0&&k!==0&&A===0&&(r===void 0||(n==null?void 0:n[1])!==!1)){const y=L*f,z=h*f;e.drawImage(t,0,0,y,z,0,0,y,z)}if(I>0&&k===0&&A!==0&&(r===void 0||(n==null?void 0:n[0])!==!1)){const y=(h-I)*f,z=u*f,N=I*f;e.drawImage(t,0,y,z,N,0,y,z,N)}}e.drawImage(t,R.sx,R.sy,R.sw,R.sh,R.dx,R.dy,R.dw,R.dh),e.scale(f,f)}return e.imageSmoothingEnabled=!0,{regions:E}}function Lg(e,t,n,r,i,o,s,l,a,c){const u=[];return t!==e.cellXOffset||n!==e.cellYOffset||r!==e.translateX||i!==e.translateY||ar(a,n,r,i,l,(h,g,p,f)=>{if(h.sourceIndex===c){const x=Math.max(g,f)+1;return u.push({x,y:0,width:o-x,height:s}),!0}}),u}function sa(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f,x,M,C=!1){var v,_,R;if(a!==void 0){e.beginPath(),e.save(),e.rect(0,0,o,s);for(const y of a)e.rect(y.x+1,y.y+1,y.width-1,y.height-1);e.clip("evenodd")}const b=(v=M.horizontalBorderColor)!=null?v:M.borderColor,E=M.borderColor;let T=0,w=o,A=0,O=s;if(l!==void 0&&l.length>0){T=Number.MAX_SAFE_INTEGER,A=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER,O=Number.MIN_SAFE_INTEGER;for(const y of l)T=Math.min(T,y.x-1),w=Math.max(w,y.x+y.width+1),A=Math.min(A,y.y-1),O=Math.max(O,y.y+y.height+1)}const S=[];e.beginPath();let k=.5;for(let y=0;y<t.length;y++){const z=t[y];if(z.width===0)continue;k+=z.width;const N=z.sticky?k:k+r;N>=T&&N<=w&&p(y+1)&&S.push({x1:N,y1:Math.max(c,A),x2:N,y2:Math.min(s,O),color:E})}let L=s+.5;for(let y=x-f;y<x;y++){const z=h(y);L-=z,S.push({x1:T,y1:L,x2:w,y2:L,color:b})}if(C!==!0){let y=u+.5,z=n;const N=L;for(;y+i<N;){const V=y+i;if(V>=A&&V<=O-1){const oe=g==null?void 0:g(z);S.push({x1:T,y1:V,x2:w,y2:V,color:(R=(_=oe==null?void 0:oe.horizontalBorderColor)!=null?_:oe==null?void 0:oe.borderColor)!=null?R:b})}y+=h(z),z++}}const I=Lu(S,y=>y.color);for(const y of Object.keys(I)){e.strokeStyle=y;for(const z of I[y])e.moveTo(z.x1,z.y1),e.lineTo(z.x2,z.y2);e.stroke(),e.beginPath()}a!==void 0&&e.restore()}function Wc(e,t){const n=[];let r=e.x+e.width-26*t.length;const i=e.y+e.height/2-13,o=26,s=26;for(let l=0;l<t.length;l++)n.push({x:r,y:i,width:s,height:o}),r+=26;return n}function Ho(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function Fg(e,t,n,r,i,o,s,l,a,c,u,h){var M;const[p,f]=(M=o==null?void 0:o[0])!=null?M:[];let x=0;Xc(t,n,r,i,(C,b,E,T,w,A)=>{var I,v;if(h!==void 0&&!h.hasItemInRectangle({x:C[0],y:-2,width:C[1]-C[0]+1,height:1}))return;e.save(),e.beginPath(),e.rect(E,T,w,A),e.clip();const O=u(b),S=(O==null?void 0:O.overrideTheme)===void 0?s:sr(s,O.overrideTheme),k=f===-2&&p!==void 0&&p>=C[0]&&p<=C[1],L=k?S.bgHeaderHovered:S.bgHeader;if(L!==s.bgHeader&&(e.fillStyle=L,e.fill()),e.fillStyle=(I=S.textGroupHeader)!=null?I:S.textHeader,O!==void 0){let _=E;if(O.icon!==void 0&&(l.drawSprite(O.icon,"normal",e,_+8,(i-20)/2,20,S),_+=26),e.fillText(O.name,_+8,i/2+lr(e,s.headerFontFull)),O.actions!==void 0&&k){const R=Wc({x:E,y:T,width:w,height:A},O.actions);e.beginPath();const y=R[0].x-10,z=E+w-y;e.rect(y,0,z,i);const N=e.createLinearGradient(y,0,y+z,0),V=Zr(L,0);N.addColorStop(0,V),N.addColorStop(10/z,L),N.addColorStop(1,L),e.fillStyle=N,e.fill(),e.globalAlpha=.6;const[oe,re]=(v=o==null?void 0:o[1])!=null?v:[-1,-1];for(let Y=0;Y<O.actions.length;Y++){const ne=O.actions[Y],le=R[Y],ke=Ho(le,oe+E,re);ke&&(e.globalAlpha=1),l.drawSprite(ne.icon,"normal",e,le.x+le.width/2-10,le.y+le.height/2-10,20,S),ke&&(e.globalAlpha=.6)}e.globalAlpha=1}}E!==0&&c(C[0])&&(e.beginPath(),e.moveTo(E+.5,0),e.lineTo(E+.5,i),e.strokeStyle=s.borderColor,e.lineWidth=1,e.stroke()),e.restore(),x=E+w}),e.beginPath(),e.moveTo(x+.5,0),e.lineTo(x+.5,i),e.moveTo(0,i+.5),e.lineTo(n,i+.5),e.strokeStyle=s.borderColor,e.lineWidth=1,e.stroke()}const Ur=30;function Bc(e,t,n,r,i){return i?{x:e,y:t,width:Ur,height:Math.min(Ur,r)}:{x:e+n-Ur,y:Math.max(t,t+r/2-Ur/2),width:Ur,height:Math.min(Ur,r)}}function la(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f){if(p){let T;o.title===rc&&(T=!0),o.title===ic&&(T=!1),T!==!0&&(e.globalAlpha=c),Zs(e,l,T,t,n,r,i,!1,void 0,void 0,18),T!==!0&&(e.globalAlpha=1);return}const x=l.cellHorizontalPadding,M=s?l.textHeaderSelected:l.textHeader,C=o.hasMenu===!0&&(a||h&&s),b=g?-1:1;let E=g?t+r-x:t+x;if(o.icon!==void 0){let T=s?"selected":"normal";o.style==="highlight"&&(T=s?"selected":"special");const w=l.headerIconSize;u.drawSprite(o.icon,T,e,g?E-w:E,n+(i-w)/2,w,l),o.overlayIcon!==void 0&&u.drawSprite(o.overlayIcon,s?"selected":"special",e,g?E-w+9:E+9,n+((i-18)/2+6),18,l),E+=Math.ceil(w*1.3)*b}if(C&&o.hasMenu===!0&&r>35){const w=g?35:r-35,A=g?35*.7:r-35*.7,O=w/r,S=A/r,k=e.createLinearGradient(t,0,t+r,0),L=Zr(M,0);k.addColorStop(g?1:0,M),k.addColorStop(O,M),k.addColorStop(S,L),k.addColorStop(g?0:1,L),e.fillStyle=k}else e.fillStyle=M;if(g&&(e.textAlign="right"),e.fillText(o.title,E,n+i/2+lr(e,l.headerFontFull)),g&&(e.textAlign="left"),C&&o.hasMenu===!0)if(o.menuIcon===void 0||o.menuIcon===Mo.Triangle){e.beginPath();const T=f.x+f.width/2-5.5,w=f.y+f.height/2-3;Uh(e,[{x:T,y:w},{x:T+11,y:w},{x:T+5.5,y:w+6}],1),e.fillStyle=M,e.fill()}else if(o.menuIcon===Mo.Dots){e.beginPath();const T=f.x+f.width/2,w=f.y+f.height/2;jh(e,T,w),e.fillStyle=M,e.fill()}else{const T=f.x+(f.width-l.headerIconSize)/2,w=f.y+(f.height-l.headerIconSize)/2;u.drawSprite(o.menuIcon,"normal",e,T,w,l.headerIconSize,l)}}function jc(e,t,n,r,i,o,s,l,a,c,u,h,g,p){const f=o.title.startsWith(Do),x=$s(o.title)==="rtl",M=Bc(t,n,r,i,x);if(g!==void 0){let C=o;f&&(C=G(j({},o),{title:""})),g({ctx:e,theme:l,rect:{x:t,y:n,width:r,height:i},column:C,columnIndex:C.sourceIndex,isSelected:s,hoverAmount:u,isHovered:a,hasSelectedCell:c,spriteManager:h,menuBounds:M},()=>la(e,t,n,r,i,o,s,l,a,u,h,p,x,f,M))}else la(e,t,n,r,i,o,s,l,a,u,h,p,x,f,M)}function zg(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f,x,M,C,b){var O;const E=s+l;if(E<=0)return;e.fillStyle=h.bgHeader,e.fillRect(0,0,i,E);const[T,w]=(O=r==null?void 0:r[0])!=null?O:[],A=h.headerFontFull;e.font=A,ar(t,0,o,0,E,(S,k,L,I)=>{var le,ke,J;if(M!==void 0&&!M.has([S.sourceIndex,-1]))return;const v=Math.max(0,I-k);e.save(),e.beginPath(),e.rect(k+v,l,S.width-v,s),e.clip();const _=x((le=S.group)!=null?le:"").overrideTheme,R=S.themeOverride===void 0&&_===void 0?h:sr(h,_,S.themeOverride);R.bgHeader!==h.bgHeader&&(e.fillStyle=R.bgHeader,e.fill()),R!==h&&(e.font=R.baseFontFull);const y=u.columns.hasIndex(S.sourceIndex),z=a!==void 0||c,N=!z&&w===-1&&T===S.sourceIndex,V=z?0:(J=(ke=p.find(_e=>_e.item[0]===S.sourceIndex&&_e.item[1]===-1))==null?void 0:ke.hoverAmount)!=null?J:0,oe=(u==null?void 0:u.current)!==void 0&&u.current.cell[0]===S.sourceIndex,re=y?R.accentColor:oe?R.bgHeaderHasFocus:R.bgHeader,Y=n?l:0,ne=S.sourceIndex===0?0:1;y?(e.fillStyle=re,e.fillRect(k+ne,Y,S.width-ne,s)):(oe||V>0)&&(e.beginPath(),e.rect(k+ne,Y,S.width-ne,s),oe&&(e.fillStyle=R.bgHeaderHasFocus,e.fill()),V>0&&(e.globalAlpha=V,e.fillStyle=R.bgHeaderHovered,e.fill(),e.globalAlpha=1)),jc(e,k,Y,S.width,s,S,y,R,N,oe,V,g,C,b),e.restore()}),n&&Fg(e,t,i,o,l,r,h,g,p,f,x,M)}function Io(e,t,n,r,i,o,s,l){return e<=i+s&&i<=e+n&&t<=o+l&&o<=t+r}function Hg(e,t,n,r,i,o,s,l,a){a===void 0||a.size===0||(e.beginPath(),Xc(t,n,o,r,(c,u,h,g,p,f)=>{a.hasItemInRectangle({x:c[0],y:-2,width:c[1]-c[0]+1,height:1})&&e.rect(h,g,p,f)}),ar(t,l,o,s,i,(c,u,h,g)=>{const p=Math.max(0,g-u),f=u+p+1,x=c.width-p-1;a.has([c.sourceIndex,-1])&&e.rect(f,r,x,i-r)}),e.clip())}function Uc(e,t,n,r,i,o,s){var g,p;const[l,a]=e;let c,u;const h=(p=(g=s.find(f=>!f.sticky))==null?void 0:g.sourceIndex)!=null?p:0;if(a>h){const f=Math.max(l,h);let x=t,M=r;for(let C=o.sourceIndex-1;C>=f;C--)x-=s[C].width,M+=s[C].width;for(let C=o.sourceIndex+1;C<=a;C++)M+=s[C].width;u={x,y:n,width:M,height:i}}if(h>l){const f=Math.min(a,h-1);let x=t,M=r;for(let C=o.sourceIndex-1;C>=l;C--)x-=s[C].width,M+=s[C].width;for(let C=o.sourceIndex+1;C<=f;C++)M+=s[C].width;c={x,y:n,width:M,height:i}}return[c,u]}function aa(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f,x,M,C,b,E,T,w,A,O,S,k,L,I,v,_,R,y,z,N,V){var he;let oe=(he=E==null?void 0:E.size)!=null?he:Number.MAX_SAFE_INTEGER;const re=performance.now();let Y=_.baseFontFull;e.font=Y;const ne={ctx:e},le=[0,0],ke=M>0?Jr(a,M,c):0;let J,_e;return ar(t,l,o,s,i,(ye,He,Ge,ct,Et)=>{var Ze;const Te=Math.max(0,ct-He),de=He+Te,Ve=i+1,ut=ye.width-Te,Ue=r-i-1;if(b.length>0){let Se=!1;for(let Ie=0;Ie<b.length;Ie++){const ae=b[Ie];if(Io(de,Ve,ut,Ue,ae.x,ae.y,ae.width,ae.height)){Se=!0;break}}if(!Se)return}const se=()=>{e.save(),e.beginPath(),e.rect(de,Ve,ut,Ue),e.clip()},Pe=T.columns.hasIndex(ye.sourceIndex),Be=h((Ze=ye.group)!=null?Ze:"").overrideTheme,Me=ye.themeOverride===void 0&&Be===void 0?_:sr(_,Be,ye.themeOverride),je=Me.baseFontFull;je!==Y&&(Y=je,e.font=je),se();let te;return Oo(Et,Ge,r,a,c,M,C,(Se,Ie,ae,ot,it)=>{var on,Ft,sn,Xn;if(Ie<0||(le[0]=ye.sourceIndex,le[1]=Ie,E!==void 0&&!E.has(le)))return;if(b.length>0){let Ye=!1;for(let Xe=0;Xe<b.length;Xe++){const pt=b[Xe];if(Io(He,Se,ye.width,ae,pt.x,pt.y,pt.width,pt.height)){Ye=!0;break}}if(!Ye)return}const rt=T.rows.hasIndex(Ie),kt=p.hasIndex(Ie),Ke=Ie<a?u(le):Ag;let It=He,Lt=ye.width,tn=!1,rn=!1;if(Ke.span!==void 0){const[Ye,Xe]=Ke.span,pt="".concat(Ie,",").concat(Ye,",").concat(Xe,",").concat(ye.sticky);if(_e===void 0&&(_e=new Set),_e.has(pt)){oe--;return}else{const ft=Uc(Ke.span,He,Se,ye.width,ae,ye,n),at=ye.sticky?ft[0]:ft[1];if(!ye.sticky&&ft[0]!==void 0&&(rn=!0),at!==void 0){It=at.x,Lt=at.width,_e.add(pt),e.restore(),te=void 0,e.save(),e.beginPath();const Gt=Math.max(0,ct-at.x);e.rect(at.x+Gt,Se,at.width-Gt,ae),J===void 0&&(J=[]),J.push({x:at.x+Gt,y:Se,width:at.width-Gt,height:ae}),e.clip(),tn=!0}}}const Kt=g==null?void 0:g(Ie),Pn=it&&((on=ye.trailingRowOptions)==null?void 0:on.themeOverride)!==void 0?(Ft=ye.trailingRowOptions)==null?void 0:Ft.themeOverride:void 0,St=Ke.themeOverride===void 0&&Kt===void 0&&Pn===void 0?Me:sr(Me,Kt,Pn,Ke.themeOverride);e.beginPath();const Yt=Ph(le,Ke,T);let Mt=Dh(le,Ke,T);const Un=Ke.span!==void 0&&T.columns.some(Ye=>Ke.span!==void 0&&Ye>=Ke.span[0]&&Ye<=Ke.span[1]);Yt&&!f&&x?Mt=0:Yt&&(Mt=Math.max(Mt,1)),Un&&Mt++,Yt||(rt&&Mt++,Pe&&!it&&Mt++);const lt=Ke.kind===ce.Protected?St.bgCellMedium:St.bgCell;let Qe;if((ot||lt!==_.bgCell)&&(Qe=wn(lt,Qe)),Mt>0||kt){kt&&(Qe=wn(St.bgHeader,Qe));for(let Ye=0;Ye<Mt;Ye++)Qe=wn(St.accentLight,Qe)}else if(w!==void 0){for(const Ye of w)if(Ye[0]===ye.sourceIndex&&Ye[1]===Ie){Qe=wn(St.bgSearchResult,Qe);break}}if(A!==void 0)for(let Ye=0;Ye<A.length;Ye++){const Xe=A[Ye],pt=Xe.range;Xe.style!=="solid-outline"&&pt.x<=ye.sourceIndex&&ye.sourceIndex<pt.x+pt.width&&pt.y<=Ie&&Ie<pt.y+pt.height&&(Qe=wn(Xe.color,Qe))}let cn=!1;if(E!==void 0){const Ye=Se+1,pt=(ot?Ye+ae-1:Math.min(Ye+ae-1,r-ke))-Ye;(pt!==ae-1||It+1<=ct)&&(cn=!0,e.save(),e.beginPath(),e.rect(It+1,Ye,Lt-1,pt),e.clip()),Qe=Qe===void 0?St.bgCell:wn(Qe,St.bgCell)}const Le=ye.sourceIndex===n.length-1,Nt=Ie===a-1;Qe!==void 0&&(e.fillStyle=Qe,te!==void 0&&(te.fillStyle=Qe),E!==void 0?e.fillRect(It+1,Se+1,Lt-(Le?2:1),ae-(Nt?2:1)):e.fillRect(It,Se,Lt,ae)),Ke.style==="faded"&&(e.globalAlpha=.6);let bn;for(let Ye=0;Ye<k.length;Ye++){const Xe=k[Ye];if(Xe.item[0]===ye.sourceIndex&&Xe.item[1]===Ie){bn=Xe;break}}if(Lt>V&&!rn){const Ye=St.baseFontFull;Ye!==Y&&(e.font=Ye,Y=Ye),te=$c(e,Ke,ye.sourceIndex,Ie,Le,Nt,It,Se,Lt,ae,Mt>0,St,Qe!=null?Qe:St.bgCell,O,S,(sn=bn==null?void 0:bn.hoverAmount)!=null?sn:0,L,v,re,I,te,R,y,z,N)}return cn&&e.restore(),Ke.style==="faded"&&(e.globalAlpha=1),oe--,tn&&(e.restore(),(Xn=te==null?void 0:te.deprep)==null||Xn.call(te,ne),te=void 0,se(),Y=je,e.font=je),oe<=0}),e.restore(),oe<=0}),J}function Og(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f,x,M,C,b){C!==void 0||t[t.length-1]!==n[t.length-1]||ar(t,a,s,l,o,(E,T,w,A,O)=>{if(E!==t[t.length-1])return;T+=E.width;const S=Math.max(T,A);S>r||(e.save(),e.beginPath(),e.rect(S,o+1,1e4,i-o-1),e.clip(),Oo(O,w,i,c,u,f,x,(k,L,I,v)=>{if(!v&&M.length>0&&!M.some(N=>Io(T,k,1e4,I,N.x,N.y,N.width,N.height)))return;const _=g.hasIndex(L),R=p.hasIndex(L);e.beginPath();const y=h==null?void 0:h(L),z=y===void 0?b:sr(b,y);z.bgCell!==b.bgCell&&(e.fillStyle=z.bgCell,e.fillRect(T,k,1e4,I)),R&&(e.fillStyle=z.bgHeader,e.fillRect(T,k,1e4,I)),_&&(e.fillStyle=z.accentLight,e.fillRect(T,k,1e4,I))}),e.restore())})}function Ng(e,t,n,r,i,o,s,l,a){var p;let c=!1;for(const f of t)if(!f.sticky){c=s(f.sourceIndex);break}const u=(p=a.horizontalBorderColor)!=null?p:a.borderColor,h=a.borderColor,g=c?Qr(t):0;if(g!==0&&(e.beginPath(),e.moveTo(g+.5,0),e.lineTo(g+.5,r),e.strokeStyle=wn(h,a.bgCell),e.stroke()),i>0){const f=Jr(o,i,l);e.beginPath(),e.moveTo(0,r-f+.5),e.lineTo(n,r-f+.5),e.strokeStyle=wn(u,a.bgCell),e.stroke()}}function ca(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f,x){const M=f==null?void 0:f.filter(O=>O.style!=="no-outline");if(M===void 0||M.length===0)return;const C=Qr(l),b=Jr(p,g,h),E=[a,0,l.length,p-g],T=[C,0,t,n-b],w=M.map(O=>{var L;const S=O.range,k=(L=O.style)!=null?L:"dashed";return _g(S,E,t,n,T).map(I=>{const v=I.rect,_=Is(v.x,v.y,t,n,u,c+u,r,i,o,s,p,a,g,l,h),R=v.width===1&&v.height===1?_:Is(v.x+v.width-1,v.y+v.height-1,t,n,u,c+u,r,i,o,s,p,a,g,l,h);return v.x+v.width>=l.length&&(R.width-=1),v.y+v.height>=p&&(R.height-=1),{color:O.color,style:k,clip:I.clip,rect:Ig({x:_.x,y:_.y,width:R.x+R.width-_.x,height:R.y+R.height-_.y},t,n,8)}})}),A=()=>{e.lineWidth=1;let O=!1;for(const S of w)for(const k of S)if((k==null?void 0:k.rect)!==void 0&&Io(0,0,t,n,k.rect.x,k.rect.y,k.rect.width,k.rect.height)){const L=O,I=!Tg(k.clip,k.rect);I&&(e.save(),e.rect(k.clip.x,k.clip.y,k.clip.width,k.clip.height),e.clip()),k.style==="dashed"&&!O?(e.setLineDash([5,3]),O=!0):(k.style==="solid"||k.style==="solid-outline")&&O&&(e.setLineDash([]),O=!1),e.strokeStyle=k.style==="solid-outline"?wn(wn(k.color,x.borderColor),x.bgCell):Zr(k.color,1),e.strokeRect(k.rect.x+.5,k.rect.y+.5,k.rect.width-1,k.rect.height-1),I&&(e.restore(),O=L)}O&&e.setLineDash([])};return A(),A}function ua(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(t,r),e.lineWidth=2,e.strokeStyle=i,e.stroke(),e.globalAlpha=1}function gs(e,t,n,r,i,o,s,l,a,c,u,h,g,p,f,x,M){var y;if(u.current===void 0)return;const C=u.current.range,b=u.current.cell,E=[C.x+C.width-1,C.y+C.height-1];if(b[1]>=M&&E[1]>=M||!s.some(z=>z.sourceIndex===b[0]||z.sourceIndex===E[0]))return;const[w,A]=u.current.cell,O=g(u.current.cell),S=(y=O.span)!=null?y:[w,w],k=A>=M-p,L=p>0&&!k?Jr(M,p,h)-1:0,I=E[1];let v,_;if(ar(s,r,i,o,c,(z,N,V,oe,re)=>{if(z.sticky&&w>z.sourceIndex)return;const Y=z.sourceIndex<S[0],ne=z.sourceIndex>S[1],le=z.sourceIndex===E[0];if(!(!le&&(Y||ne)))return Oo(re,V,n,M,h,p,f,(ke,J,_e)=>{if(J!==A&&J!==I)return;let he=N,ye=z.width;const He=z.sourceIndex===l.length-1,Ge=J===M-1;if(O.span!==void 0){const Te=Uc(O.span,N,ke,z.width,_e,z,l),de=z.sticky?Te[0]:Te[1];de!==void 0&&(he=de.x,ye=de.width)}const ct=J===I&&le&&x,Et=J===A&&!Y&&!ne&&v===void 0;return ct&&(_=()=>{var Te,de;oe>he&&!z.sticky&&!Et&&(e.beginPath(),e.rect(oe,0,t-oe,n),e.clip()),e.beginPath(),e.rect(he+ye-4,ke+_e-4,4,4),e.fillStyle=(de=(Te=z.themeOverride)==null?void 0:Te.accentColor)!=null?de:a.accentColor,e.fill()}),Et&&(v=()=>{var Te,de;oe>he&&!z.sticky&&(e.beginPath(),e.rect(oe,0,t-oe,n),e.clip()),e.beginPath(),e.rect(he+.5,ke+.5,ye-(He?1:0),_e-(Ge?1:0)),e.strokeStyle=(de=(Te=z.themeOverride)==null?void 0:Te.accentColor)!=null?de:a.accentColor,e.lineWidth=1,e.stroke()}),v!==void 0&&(x?_!==void 0:!0)}),v!==void 0&&(x?_!==void 0:!0)}),v===void 0&&_===void 0)return;const R=()=>{e.save(),e.beginPath(),e.rect(0,c,t,n-c-L),e.clip(),v==null||v(),_==null||_(),e.restore()};return R(),R}function $g(e,t,n,r,i,o,s,l,a,c){let u=0;return ar(e,o,r,i,n,(h,g,p,f,x)=>(Oo(x,p,t,s,l,a,c,(M,C,b,E)=>{E||(u=Math.max(C,u))}),!0)),u}function Wg(e,t){if(t===void 0||e.width!==t.width||e.height!==t.height||e.theme!==t.theme||e.headerHeight!==t.headerHeight||e.rowHeight!==t.rowHeight||e.rows!==t.rows||e.freezeColumns!==t.freezeColumns||e.getRowThemeOverride!==t.getRowThemeOverride||e.isFocused!==t.isFocused||e.isResizing!==t.isResizing||e.verticalBorder!==t.verticalBorder||e.getCellContent!==t.getCellContent||e.highlightRegions!==t.highlightRegions||e.selection!==t.selection||e.dragAndDropState!==t.dragAndDropState||e.prelightCells!==t.prelightCells||e.touchMode!==t.touchMode||e.maxScaleFactor!==t.maxScaleFactor)return!1;if(e.mappedColumns!==t.mappedColumns){if(e.mappedColumns.length>100||e.mappedColumns.length!==t.mappedColumns.length)return!1;let i;for(let o=0;o<e.mappedColumns.length;o++){const s=e.mappedColumns[o],l=t.mappedColumns[o];if(Gr(s,l))continue;if(i!==void 0||s.width===l.width)return!1;const n=s,{width:a}=n,c=Wr(n,["width"]),r=l,{width:u}=r,h=Wr(r,["width"]);if(!Gr(c,h))return!1;i=o}return i===void 0?!0:i}return!0}function da(e,t){var Mt,Un;const{canvas:n,headerCanvas:r,width:i,height:o,cellXOffset:s,cellYOffset:l,translateX:a,translateY:c,mappedColumns:u,enableGroups:h,freezeColumns:g,dragAndDropState:p,theme:f,drawFocus:x,headerHeight:M,groupHeaderHeight:C,disabledRows:b,rowHeight:E,verticalBorder:T,overrideCursor:w,isResizing:A,selection:O,fillHandle:S,freezeTrailingRows:k,rows:L,getCellContent:I,getGroupDetails:v,getRowThemeOverride:_,isFocused:R,drawHeaderCallback:y,prelightCells:z,drawCellCallback:N,highlightRegions:V,resizeCol:oe,imageLoader:re,lastBlitData:Y,hoverValues:ne,hyperWrapping:le,hoverInfo:ke,spriteManager:J,maxScaleFactor:_e,hasAppendRow:he,touchMode:ye,enqueue:He,renderStateProvider:Ge,getCellRenderer:ct,renderStrategy:Et,bufferA:Te,bufferB:de,damage:Ve,minimumCellWidth:ut}=e;if(i===0||o===0)return;const Ue=Et==="double-buffer",se=Math.min(_e,Math.ceil((Mt=window.devicePixelRatio)!=null?Mt:1)),Pe=Et!=="direct"&&Wg(e,t);(n.width!==i*se||n.height!==o*se)&&(n.width=i*se,n.height=o*se,n.style.width=i+"px",n.style.height=o+"px");const Be=r,Me=h?C+M:M,je=Me+1;(Be.width!==i*se||Be.height!==je*se)&&(Be.width=i*se,Be.height=je*se,Be.style.width=i+"px",Be.style.height=je+"px"),Ue&&(Te.width!==i*se||Te.height!==o*se)&&(Te.width=i*se,Te.height=o*se,Y.current!==void 0&&(Y.current.aBufferScroll=void 0)),Ue&&(de.width!==i*se||de.height!==o*se)&&(de.width=i*se,de.height=o*se,Y.current!==void 0&&(Y.current.bBufferScroll=void 0));const te=Y.current;if(Pe===!0&&s===(te==null?void 0:te.cellXOffset)&&l===(te==null?void 0:te.cellYOffset)&&a===(te==null?void 0:te.translateX)&&c===(te==null?void 0:te.translateY))return;let Ze=null;Ue&&(Ze=n.getContext("2d",{alpha:!1}));const Se=Be.getContext("2d",{alpha:!1});let Ie;Ue?Ve!==void 0?Ie=(te==null?void 0:te.lastBuffer)==="b"?de:Te:Ie=(te==null?void 0:te.lastBuffer)==="b"?Te:de:Ie=n;const ae=Ie.getContext("2d",{alpha:!1}),ot=Ue?Ie===Te?de:Te:n;if(Se===null||ae===null)return;const it=typeof E=="number"?()=>E:E;Se.save(),ae.save(),Se.beginPath(),ae.beginPath(),Se.textBaseline="middle",ae.textBaseline="middle",se!==1&&(Se.scale(se,se),ae.scale(se,se));const rt=Ts(u,s,i,p,a);let kt=[];const Ke=x&&((Un=O.current)==null?void 0:Un.cell[1])===l&&c===0;let It=!1;if(V!==void 0){for(const lt of V)if(lt.style!=="no-outline"&&lt.range.y===l&&c===0){It=!0;break}}const Lt=()=>{var lt,Qe;zg(Se,rt,h,ke,i,a,M,C,p,A,O,f,J,ne,T,v,Ve,y,ye),sa(Se,rt,l,a,c,i,o,void 0,void 0,C,Me,it,_,T,k,L,f,!0),Se.beginPath(),Se.moveTo(0,je-.5),Se.lineTo(i,je-.5),Se.strokeStyle=wn((Qe=(lt=f.headerBottomBorderColor)!=null?lt:f.horizontalBorderColor)!=null?Qe:f.borderColor,f.bgHeader),Se.stroke(),It&&ca(Se,i,o,s,l,a,c,u,g,M,C,E,k,L,V,f),Ke&&gs(Se,i,o,l,a,c,rt,u,f,Me,O,it,I,k,he,S,L)};if(Ve!==void 0){const lt=rt[rt.length-1].sourceIndex+1,Qe=Ve.hasItemInRegion([{x:s,y:-2,width:lt,height:2},{x:s,y:l,width:lt,height:300},{x:0,y:l,width:g,height:300},{x:s,y:L-k,width:lt,height:k,when:k>0}]),cn=Le=>{aa(Le,rt,u,o,Me,a,c,l,L,it,I,v,_,b,R,x,k,he,kt,Ve,O,z,V,re,J,ne,ke,N,le,f,He,Ge,ct,w,ut);const Nt=O.current;S&&x&&Nt!==void 0&&Ve.has(Tc(Nt.range))&&gs(Le,i,o,l,a,c,rt,u,f,Me,O,it,I,k,he,S,L)};Qe&&(cn(ae),Ze!==null&&(Ze.save(),Ze.scale(se,se),Ze.textBaseline="middle",cn(Ze),Ze.restore()),Ve.hasHeader()&&(Hg(Se,rt,i,C,Me,a,c,l,Ve),Lt())),ae.restore(),Se.restore();return}if((Pe!==!0||s!==(te==null?void 0:te.cellXOffset)||a!==(te==null?void 0:te.translateX)||Ke!==(te==null?void 0:te.mustDrawFocusOnHeader)||It!==(te==null?void 0:te.mustDrawHighlightRingsOnHeader))&&Lt(),Pe===!0){yn(ot!==void 0&&te!==void 0);const{regions:lt}=Dg(ae,ot,ot===Te?te.aBufferScroll:te.bBufferScroll,ot===Te?te.bBufferScroll:te.aBufferScroll,te,s,l,a,c,k,i,o,L,Me,se,u,rt,E,Ue);kt=lt}else Pe!==!1&&(yn(te!==void 0),kt=Lg(te,s,l,a,c,i,o,Me,rt,Pe));Ng(ae,rt,i,o,k,L,T,it,f);const tn=ca(ae,i,o,s,l,a,c,u,g,M,C,E,k,L,V,f),rn=x?gs(ae,i,o,l,a,c,rt,u,f,Me,O,it,I,k,he,S,L):void 0;if(ae.fillStyle=f.bgCell,kt.length>0){ae.beginPath();for(const lt of kt)ae.rect(lt.x,lt.y,lt.width,lt.height);ae.clip(),ae.fill(),ae.beginPath()}else ae.fillRect(0,0,i,o);const Kt=aa(ae,rt,u,o,Me,a,c,l,L,it,I,v,_,b,R,x,k,he,kt,Ve,O,z,V,re,J,ne,ke,N,le,f,He,Ge,ct,w,ut);Og(ae,rt,u,i,o,Me,a,c,l,L,it,_,O.rows,b,k,he,kt,Ve,f),sa(ae,rt,l,a,c,i,o,kt,Kt,C,Me,it,_,T,k,L,f),tn==null||tn(),rn==null||rn(),A&&ar(rt,0,a,0,Me,(lt,Qe)=>{var cn,Le;return lt.sourceIndex===oe?(ua(Se,Qe+lt.width,0,Me+1,wn((cn=f.resizeIndicatorColor)!=null?cn:f.accentLight,f.bgHeader)),ua(ae,Qe+lt.width,Me,o,wn((Le=f.resizeIndicatorColor)!=null?Le:f.accentLight,f.bgCell)),!0):!1}),Ze!==null&&(Ze.fillStyle=f.bgCell,Ze.fillRect(0,0,i,o),Ze.drawImage(ae.canvas,0,0));const Pn=$g(rt,o,Me,a,c,l,L,it,k,he);re==null||re.setWindow({x:s,y:l,width:rt.length,height:Pn-l},g,Array.from({length:k},(lt,Qe)=>L-1-Qe));const St=te!==void 0&&(s!==te.cellXOffset||a!==te.translateX),Yt=te!==void 0&&(l!==te.cellYOffset||c!==te.translateY);Y.current={cellXOffset:s,cellYOffset:l,translateX:a,translateY:c,mustDrawFocusOnHeader:Ke,mustDrawHighlightRingsOnHeader:It,lastBuffer:Ue?Ie===Te?"a":"b":void 0,aBufferScroll:Ie===Te?[St,Yt]:te==null?void 0:te.aBufferScroll,bBufferScroll:Ie===de?[St,Yt]:te==null?void 0:te.bBufferScroll},ae.restore(),Se.restore()}function Oo(e,t,n,r,i,o,s,l){let a=t,c=e;const u=r-o;for(;a<n&&c<u;){const h=i(c);if(l(a,c,h,!1,s&&c===r-1)===!0)break;a+=h,c++}a=n;for(let h=0;h<o;h++){c=r-1-h;const g=i(c);a-=g,l(a,c,g,!0,s&&c===r-1)}}function ar(e,t,n,r,i,o){let s=0,l=0;const a=i+r;for(const c of e){const u=c.sticky?l:s+n;if(o(c,u,a,l,t)===!0)break;s+=c.width,l+=c.sticky?c.width:0}}function Xc(e,t,n,r,i){var l;let o=0,s=0;for(let a=0;a<e.length;a++){const c=e[a];let u=a+1,h=c.width;for(c.sticky&&(s+=h);u<e.length&&Ni(e[u].group,c.group)&&e[u].sticky===e[a].sticky;){const M=e[u];h+=M.width,u++,a++,M.sticky&&(s+=M.width)}const g=c.sticky?0:n,p=o+g,f=c.sticky?0:Math.max(0,s-p),x=Math.min(h-f,t-(p+f));i([c.sourceIndex,e[u-1].sourceIndex],(l=c.group)!=null?l:"",p+f,0,x,r),o+=h}}const Bg=80;function jg(e){const t=e-1;return t*t*t+1}class Ug{constructor(t){pe(this,"callback");pe(this,"currentHoveredItem");pe(this,"leavingItems",[]);pe(this,"lastAnimationTime");pe(this,"addToLeavingItems",t=>{this.leavingItems.some(r=>Li(r.item,t.item))||this.leavingItems.push(t)});pe(this,"removeFromLeavingItems",t=>{var r;const n=this.leavingItems.find(i=>Li(i.item,t));return this.leavingItems=this.leavingItems.filter(i=>i!==n),(r=n==null?void 0:n.hoverAmount)!=null?r:0});pe(this,"cleanUpLeavingElements",()=>{this.leavingItems=this.leavingItems.filter(t=>t.hoverAmount>0)});pe(this,"shouldStep",()=>{const t=this.leavingItems.length>0,n=this.currentHoveredItem!==void 0&&this.currentHoveredItem.hoverAmount<1;return t||n});pe(this,"getAnimatingItems",()=>this.currentHoveredItem!==void 0?[...this.leavingItems,this.currentHoveredItem]:this.leavingItems.map(t=>G(j({},t),{hoverAmount:jg(t.hoverAmount)})));pe(this,"step",t=>{if(this.lastAnimationTime===void 0)this.lastAnimationTime=t;else{const r=(t-this.lastAnimationTime)/Bg;for(const o of this.leavingItems)o.hoverAmount=_n(o.hoverAmount-r,0,1);this.currentHoveredItem!==void 0&&(this.currentHoveredItem.hoverAmount=_n(this.currentHoveredItem.hoverAmount+r,0,1));const i=this.getAnimatingItems();this.callback(i),this.cleanUpLeavingElements()}this.shouldStep()?(this.lastAnimationTime=t,window.requestAnimationFrame(this.step)):this.lastAnimationTime=void 0});pe(this,"setHovered",t=>{var n;if(!Li((n=this.currentHoveredItem)==null?void 0:n.item,t)){if(this.currentHoveredItem!==void 0&&this.addToLeavingItems(this.currentHoveredItem),t!==void 0){const r=this.removeFromLeavingItems(t);this.currentHoveredItem={item:t,hoverAmount:r}}else this.currentHoveredItem=void 0;this.lastAnimationTime===void 0&&window.requestAnimationFrame(this.step)}});this.callback=t}}class Xg{constructor(t){pe(this,"fn");pe(this,"val");this.fn=t}get value(){var t;return(t=this.val)!=null?t:this.val=this.fn()}}function Qs(e){return new Xg(e)}const qg=Qs(()=>window.navigator.userAgent.includes("Firefox")),_o=Qs(()=>window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")),Ao=Qs(()=>window.navigator.platform.toLowerCase().startsWith("mac"));function Vg(e){const t=d.useRef([]),n=d.useRef(0),r=d.useRef(e);r.current=e;const i=d.useCallback(()=>{const o=()=>window.requestAnimationFrame(s),s=()=>{const l=t.current.map(Gs);t.current=[],r.current(new zi(l)),t.current.length>0?n.current++:n.current=0};window.requestAnimationFrame(n.current>600?o:s)},[]);return d.useCallback(o=>{t.current.length===0&&i();const s=An(o[0],o[1]);t.current.includes(s)||t.current.push(s)},[i])}const rr="header",pn="group-header",Po="out-of-bounds";var Yr;(function(e){e[e.Start=-2]="Start",e[e.StartPadding=-1]="StartPadding",e[e.Center=0]="Center",e[e.EndPadding=1]="EndPadding",e[e.End=2]="End"})(Yr||(Yr={}));function qc(e,t){return e===t?!0:(e==null?void 0:e.kind)==="out-of-bounds"?(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])&&(e==null?void 0:e.region[0])===(t==null?void 0:t.region[0])&&(e==null?void 0:e.region[1])===(t==null?void 0:t.region[1]):(e==null?void 0:e.kind)===(t==null?void 0:t.kind)&&(e==null?void 0:e.location[0])===(t==null?void 0:t.location[0])&&(e==null?void 0:e.location[1])===(t==null?void 0:t.location[1])}const fa=6,Kg=(e,t)=>{var r;if(e.kind===ce.Custom)return e.copyData;const n=t==null?void 0:t(e);return(r=n==null?void 0:n.getAccessibilityString(e))!=null?r:""},Yg=(e,t)=>{var Bt,jt,At,qt,Lr,eo,oi,Ut,Jt,si;const{width:n,height:r,accessibilityHeight:i,columns:o,cellXOffset:s,cellYOffset:l,headerHeight:a,fillHandle:c=!1,groupHeaderHeight:u,rowHeight:h,rows:g,getCellContent:p,getRowThemeOverride:f,onHeaderMenuClick:x,enableGroups:M,isFilling:C,onCanvasFocused:b,onCanvasBlur:E,isFocused:T,selection:w,freezeColumns:A,onContextMenu:O,freezeTrailingRows:S,fixedShadowX:k=!0,fixedShadowY:L=!0,drawFocusRing:I=!0,onMouseDown:v,onMouseUp:_,onMouseMoveRaw:R,onMouseMove:y,onItemHovered:z,dragAndDropState:N,firstColAccessible:V,onKeyDown:oe,onKeyUp:re,highlightRegions:Y,canvasRef:ne,onDragStart:le,onDragEnd:ke,eventTargetRef:J,isResizing:_e,resizeColumn:he,isDragging:ye,isDraggable:He=!1,allowResize:Ge,disabledRows:ct,hasAppendRow:Et,getGroupDetails:Te,theme:de,prelightCells:Ve,headerIcons:ut,verticalBorder:Ue,drawCell:se,drawHeader:Pe,onCellFocused:Be,onDragOverCell:Me,onDrop:je,onDragLeave:te,imageWindowLoader:Ze,smoothScrollX:Se=!1,smoothScrollY:Ie=!1,experimental:ae,getCellRenderer:ot}=e,it=(Bt=e.translateX)!=null?Bt:0,rt=(jt=e.translateY)!=null?jt:0,kt=Math.max(A,Math.min(o.length-1,s)),Ke=d.useRef(null),It=Ze,Lt=d.useRef(),[tn,rn]=d.useState(!1),Kt=d.useRef([]),Pn=d.useRef(),[St,Yt]=d.useState(),[Mt,Un]=d.useState(),lt=d.useRef(null),[Qe,cn]=d.useState(),[Le,Nt]=d.useState(!1),bn=d.useRef(Le);bn.current=Le;const on=d.useMemo(()=>new Rg(ut,()=>{Rr.current=void 0,Mn.current()}),[ut]),Ft=M?u+a:a,sn=d.useRef(-1),Xn=((At=ae==null?void 0:ae.enableFirefoxRescaling)!=null?At:!1)&&qg.value,Ye=((qt=ae==null?void 0:ae.enableSafariRescaling)!=null?qt:!1)&&_o.value;d.useLayoutEffect(()=>{window.devicePixelRatio===1||!Xn&&!Ye||(sn.current!==-1&&rn(!0),window.clearTimeout(sn.current),sn.current=window.setTimeout(()=>{rn(!1),sn.current=-1},200))},[l,kt,it,rt,Xn,Ye]);const Xe=_h(o,A),pt=k?Qr(Xe,N):0,ft=d.useCallback((F,ee,xe)=>{const ge=F.getBoundingClientRect();if(ee>=Xe.length||xe>=g)return;const Z=ge.width/n,ue=Is(ee,xe,n,r,u,Ft,kt,l,it,rt,g,A,S,Xe,h);return Z!==1&&(ue.x*=Z,ue.y*=Z,ue.width*=Z,ue.height*=Z),ue.x+=ge.x,ue.y+=ge.y,ue},[n,r,u,Ft,kt,l,it,rt,g,A,S,Xe,h]),at=d.useCallback((F,ee,xe,ge)=>{var Pt,fn;const Z=F.getBoundingClientRect(),ue=Z.width/n,Ae=(ee-Z.left)/ue,ve=(xe-Z.top)/ue,me=5,ht=Ts(Xe,kt,n,void 0,it);let De=0,We=0;ge instanceof MouseEvent&&(De=ge.button,We=ge.buttons);const qe=Lh(Ae,ht,it),Oe=Fh(ve,r,M,a,u,g,h,l,rt,S),wt=(ge==null?void 0:ge.shiftKey)===!0,zt=(ge==null?void 0:ge.ctrlKey)===!0,en=(ge==null?void 0:ge.metaKey)===!0,et=ge!==void 0&&!(ge instanceof MouseEvent)||(ge==null?void 0:ge.pointerType)==="touch",Ct=[Ae<0?-1:n<Ae?1:0,ve<Ft?-1:r<ve?1:0];let vt;if(qe===-1||ve<0||Ae<0||Oe===void 0||Ae>n||ve>r){const st=Ae>n?1:Ae<0?-1:0,hn=ve>r?1:ve<0?-1:0;let xn=st*2,Qn=hn*2;st===0&&(xn=qe===-1?Yr.EndPadding:Yr.Center),hn===0&&(Qn=Oe===void 0?Yr.EndPadding:Yr.Center);let _t=!1;if(qe===-1&&Oe===-1){const Ln=ft(F,Xe.length-1,-1);yn(Ln!==void 0),_t=ee<Ln.x+Ln.width+me}const mr=Ae>n&&Ae<n+Cs()||ve>r&&ve<r+Cs();vt={kind:Po,location:[qe!==-1?qe:Ae<0?0:Xe.length-1,Oe!=null?Oe:g-1],region:[xn,Qn],shiftKey:wt,ctrlKey:zt,metaKey:en,isEdge:_t,isTouch:et,button:De,buttons:We,scrollEdge:Ct,isMaybeScrollbar:mr}}else if(Oe<=-1){let st=ft(F,qe,Oe);yn(st!==void 0);let hn=st!==void 0&&st.x+st.width-ee<=me;const xn=qe-1;ee-st.x<=me&&xn>=0?(hn=!0,st=ft(F,xn,Oe),yn(st!==void 0),vt={kind:M&&Oe===-2?pn:rr,location:[xn,Oe],bounds:st,group:(Pt=Xe[xn].group)!=null?Pt:"",isEdge:hn,shiftKey:wt,ctrlKey:zt,metaKey:en,isTouch:et,localEventX:ee-st.x,localEventY:xe-st.y,button:De,buttons:We,scrollEdge:Ct}):vt={kind:M&&Oe===-2?pn:rr,group:(fn=Xe[qe].group)!=null?fn:"",location:[qe,Oe],bounds:st,isEdge:hn,shiftKey:wt,ctrlKey:zt,metaKey:en,isTouch:et,localEventX:ee-st.x,localEventY:xe-st.y,button:De,buttons:We,scrollEdge:Ct}}else{const st=ft(F,qe,Oe);yn(st!==void 0);const hn=st!==void 0&&st.x+st.width-ee<me;let xn=!1;if(c&&w.current!==void 0){const Qn=Tc(w.current.range),_t=ft(F,Qn[0],Qn[1]);if(_t!==void 0){const mr=_t.x+_t.width-2,Ln=_t.y+_t.height-2;xn=Math.abs(mr-ee)<fa&&Math.abs(Ln-xe)<fa}}vt={kind:"cell",location:[qe,Oe],bounds:st,isEdge:hn,shiftKey:wt,ctrlKey:zt,isFillHandle:xn,metaKey:en,isTouch:et,localEventX:ee-st.x,localEventY:xe-st.y,button:De,buttons:We,scrollEdge:Ct}}return vt},[n,Xe,kt,it,r,M,a,u,g,h,l,rt,S,ft,c,w,Ft]),[Gt]=St!=null?St:[],qi=d.useRef(()=>{}),Tt=d.useRef(St);Tt.current=St;const[cr,ur]=d.useMemo(()=>{const F=document.createElement("canvas"),ee=document.createElement("canvas");return F.style.display="none",F.style.opacity="0",F.style.position="fixed",ee.style.display="none",ee.style.opacity="0",ee.style.position="fixed",[F,ee]},[]);d.useLayoutEffect(()=>(document.documentElement.append(cr),document.documentElement.append(ur),()=>{cr.remove(),ur.remove()}),[cr,ur]);const Mr=d.useMemo(()=>new Xh,[]),Vi=Xn&&tn?1:Ye&&tn?2:5,Ki=(ae==null?void 0:ae.disableMinimumCellWidth)===!0?1:10,Rr=d.useRef(),Er=d.useCallback(()=>{var Ae,ve,me;const F=Ke.current,ee=lt.current;if(F===null||ee===null)return;let xe=!1;const ge=ht=>{xe=!0,cn(ht)},Z=Rr.current,ue={canvas:F,bufferA:cr,bufferB:ur,headerCanvas:ee,width:n,height:r,cellXOffset:kt,cellYOffset:l,translateX:Math.round(it),translateY:Math.round(rt),mappedColumns:Xe,enableGroups:M,freezeColumns:A,dragAndDropState:N,theme:de,headerHeight:a,groupHeaderHeight:u,disabledRows:ct!=null?ct:nt.empty(),rowHeight:h,verticalBorder:Ue,isResizing:_e,resizeCol:he,isFocused:T,selection:w,fillHandle:c,drawCellCallback:se,hasAppendRow:Et,overrideCursor:ge,maxScaleFactor:Vi,freezeTrailingRows:S,rows:g,drawFocus:I,getCellContent:p,getGroupDetails:Te!=null?Te:ht=>({name:ht}),getRowThemeOverride:f,drawHeaderCallback:Pe,prelightCells:Ve,highlightRegions:Y,imageLoader:It,lastBlitData:Pn,damage:Lt.current,hoverValues:Kt.current,hoverInfo:Tt.current,spriteManager:on,scrolling:tn,hyperWrapping:(Ae=ae==null?void 0:ae.hyperWrapping)!=null?Ae:!1,touchMode:Le,enqueue:qi.current,renderStateProvider:Mr,renderStrategy:(ve=ae==null?void 0:ae.renderStrategy)!=null?ve:_o.value?"double-buffer":"single-buffer",getCellRenderer:ot,minimumCellWidth:Ki};ue.damage===void 0?(Rr.current=ue,da(ue,Z)):da(ue,void 0),!xe&&(ue.damage===void 0||ue.damage.has((me=Tt==null?void 0:Tt.current)==null?void 0:me[0]))&&cn(void 0)},[cr,ur,n,r,kt,l,it,rt,Xe,M,A,N,de,a,u,ct,h,Ue,_e,Et,he,T,w,c,S,g,I,Vi,p,Te,f,se,Pe,Ve,Y,It,on,tn,ae==null?void 0:ae.hyperWrapping,ae==null?void 0:ae.renderStrategy,Le,Mr,ot,Ki]),Mn=d.useRef(Er);d.useLayoutEffect(()=>{Er(),Mn.current=Er},[Er]),d.useLayoutEffect(()=>{(async()=>{var ee;((ee=document==null?void 0:document.fonts)==null?void 0:ee.ready)!==void 0&&(await document.fonts.ready,Rr.current=void 0,Mn.current())})()},[]);const qn=d.useCallback(F=>{Lt.current=F,Mn.current(),Lt.current=void 0},[]),No=Vg(qn);qi.current=No;const Yi=d.useCallback(F=>{qn(new zi(F.map(ee=>ee.cell)))},[qn]);It.setCallback(qn);const[$o,Wo]=d.useState(!1),[dr,Vn]=Gt!=null?Gt:[],Bo=dr!==void 0&&Vn===-1,jo=dr!==void 0&&Vn===-2;let Gi=!1,ei=!1,Tr=Qe;if(Tr===void 0&&dr!==void 0&&Vn!==void 0&&Vn>-1&&Vn<g){const F=p([dr,Vn],!0);Gi=F.kind===Sn.NewRow||F.kind===Sn.Marker&&F.markerKind!=="number",ei=F.kind===ce.Boolean&&ks(F),Tr=F.cursor}const Uo=Mt!=null?Mt:!1,Zi=ye?"grabbing":Uo||_e?"col-resize":$o||C?"crosshair":Tr!==void 0?Tr:Bo||Gi||ei||jo?"pointer":"default",fr=d.useMemo(()=>({contain:"strict",display:"block",cursor:Zi}),[Zi]),Hn=d.useRef("default"),Kn=J==null?void 0:J.current;Kn!=null&&Hn.current!==fr.cursor&&(Kn.style.cursor=Hn.current=fr.cursor);const Yn=d.useCallback((F,ee,xe,ge)=>{if(Te===void 0)return;const Z=Te(F);if(Z.actions!==void 0){const ue=Wc(ee,Z.actions);for(const[Ae,ve]of ue.entries())if(Ho(ve,xe+ee.x,ge+ve.y))return Z.actions[Ae]}},[Te]),hr=d.useCallback((F,ee,xe,ge)=>{const Z=o[ee];if(!ye&&!_e&&Z.hasMenu===!0&&!(Mt!=null&&Mt)){const ue=ft(F,ee,-1);yn(ue!==void 0);const Ae=Bc(ue.x,ue.y,ue.width,ue.height,$s(Z.title)==="rtl");if(xe>Ae.x&&xe<Ae.x+Ae.width&&ge>Ae.y&&ge<Ae.y+Ae.height)return ue}},[o,ft,Mt,ye,_e]),Ir=d.useRef(0),gr=d.useRef(),Zt=d.useRef(!1),_r=d.useCallback(F=>{const ee=Ke.current,xe=J==null?void 0:J.current;if(ee===null||F.target!==ee&&F.target!==xe)return;Zt.current=!0;let ge,Z;if(F instanceof MouseEvent?(ge=F.clientX,Z=F.clientY):(ge=F.touches[0].clientX,Z=F.touches[0].clientY),F.target===xe&&xe!==null){const Ae=xe.getBoundingClientRect();if(ge>Ae.right||Z>Ae.bottom)return}const ue=at(ee,ge,Z,F);gr.current=ue.location,ue.isTouch&&(Ir.current=Date.now()),bn.current!==ue.isTouch&&Nt(ue.isTouch),!(ue.kind===rr&&hr(ee,ue.location[0],ge,Z)!==void 0)&&(ue.kind===pn&&Yn(ue.group,ue.bounds,ue.localEventX,ue.localEventY)!==void 0||(v==null||v(ue),!ue.isTouch&&He!==!0&&He!==ue.kind&&ue.button<3&&ue.button!==1&&F.preventDefault()))},[J,He,at,Yn,hr,v]);Vt("touchstart",_r,window,!1),Vt("mousedown",_r,window,!1);const ti=d.useRef(0),ni=d.useCallback(F=>{var We,qe;const ee=ti.current;ti.current=Date.now();const xe=Ke.current;if(Zt.current=!1,_===void 0||xe===null)return;const ge=J==null?void 0:J.current,Z=F.target!==xe&&F.target!==ge;let ue,Ae,ve=!0;if(F instanceof MouseEvent){if(ue=F.clientX,Ae=F.clientY,ve=F.button<3,F.pointerType==="touch")return}else ue=F.changedTouches[0].clientX,Ae=F.changedTouches[0].clientY;let me=at(xe,ue,Ae,F);me.isTouch&&Ir.current!==0&&Date.now()-Ir.current>500&&(me=G(j({},me),{isLongTouch:!0})),ee!==0&&Date.now()-ee<(me.isTouch?1e3:500)&&(me=G(j({},me),{isDoubleClick:!0})),bn.current!==me.isTouch&&Nt(me.isTouch),!Z&&F.cancelable&&ve&&F.preventDefault();const[ht]=me.location,De=hr(xe,ht,ue,Ae);if(me.kind===rr&&De!==void 0){(me.button!==0||((We=gr.current)==null?void 0:We[0])!==ht||((qe=gr.current)==null?void 0:qe[1])!==-1)&&_(me,!0);return}else if(me.kind===pn){const Oe=Yn(me.group,me.bounds,me.localEventX,me.localEventY);if(Oe!==void 0){me.button===0&&Oe.onClick(me);return}}_(me,Z)},[_,J,at,hr,Yn]);Vt("mouseup",ni,window,!1),Vt("touchend",ni,window,!1);const Xo=d.useCallback(F=>{var De,We;const ee=Ke.current;if(ee===null)return;const xe=J==null?void 0:J.current,ge=F.target!==ee&&F.target!==xe;let Z,ue,Ae=!0;F instanceof MouseEvent?(Z=F.clientX,ue=F.clientY,Ae=F.button<3):(Z=F.changedTouches[0].clientX,ue=F.changedTouches[0].clientY);const ve=at(ee,Z,ue,F);bn.current!==ve.isTouch&&Nt(ve.isTouch),!ge&&F.cancelable&&Ae&&F.preventDefault();const[me]=ve.location,ht=hr(ee,me,Z,ue);if(ve.kind===rr&&ht!==void 0)ve.button===0&&((De=gr.current)==null?void 0:De[0])===me&&((We=gr.current)==null?void 0:We[1])===-1&&(x==null||x(me,ht));else if(ve.kind===pn){const qe=Yn(ve.group,ve.bounds,ve.localEventX,ve.localEventY);qe!==void 0&&ve.button===0&&qe.onClick(ve)}},[J,at,hr,x,Yn]);Vt("click",Xo,window,!1);const qo=d.useCallback(F=>{const ee=Ke.current,xe=J==null?void 0:J.current;if(ee===null||F.target!==ee&&F.target!==xe||O===void 0)return;const ge=at(ee,F.clientX,F.clientY,F);O(ge,()=>{F.cancelable&&F.preventDefault()})},[J,at,O]);Vt("contextmenu",qo,(Lr=J==null?void 0:J.current)!=null?Lr:null,!1);const Rn=d.useCallback(F=>{Lt.current=new zi(F.map(ee=>ee.item)),Kt.current=F,Mn.current(),Lt.current=void 0},[]),On=d.useMemo(()=>new Ug(Rn),[Rn]),un=d.useRef(On);un.current=On,d.useLayoutEffect(()=>{const F=un.current;if(Gt===void 0||Gt[1]<0){F.setHovered(Gt);return}const ee=p(Gt,!0),xe=ot(ee);F.setHovered(xe===void 0&&ee.kind===ce.Custom||(xe==null?void 0:xe.needsHover)===!0?Gt:void 0)},[p,ot,Gt]);const B=d.useRef(),Wt=d.useCallback(F=>{var ve;const ee=Ke.current;if(ee===null)return;const xe=J==null?void 0:J.current,ge=F.target!==ee&&F.target!==xe,Z=at(ee,F.clientX,F.clientY,F);if(Z.kind!=="out-of-bounds"&&ge&&!Zt.current&&!Z.isTouch)return;const ue=(me,ht)=>{Yt(De=>De===me||(De==null?void 0:De[0][0])===(me==null?void 0:me[0][0])&&(De==null?void 0:De[0][1])===(me==null?void 0:me[0][1])&&((De==null?void 0:De[1][0])===(me==null?void 0:me[1][0])&&(De==null?void 0:De[1][1])===(me==null?void 0:me[1][1])||!ht)?De:me)};if(!qc(Z,B.current))z==null||z(Z),ue(Z.kind===Po?void 0:[Z.location,[Z.localEventX,Z.localEventY]],!0),B.current=Z;else if(Z.kind==="cell"||Z.kind===rr||Z.kind===pn){let me=!1,ht=!0;if(Z.kind==="cell"){const We=p(Z.location),qe=(ve=ot(We))==null?void 0:ve.needsHoverPosition;ht=qe!=null?qe:We.kind===ce.Custom,me=ht}else Z.kind===pn&&(me=!0);const De=[Z.location,[Z.localEventX,Z.localEventY]];ue(De,ht),Tt.current=De,me&&qn(new zi([Z.location]))}const Ae=Z.location[0]>=(V?0:1);Un(Z.kind===rr&&Z.isEdge&&Ae&&Ge===!0),Wo(Z.kind==="cell"&&Z.isFillHandle),R==null||R(F),y(Z)},[J,at,V,Ge,R,y,z,p,ot,qn]);Vt("mousemove",Wt,window,!0);const dn=d.useCallback(F=>{const ee=Ke.current;if(ee===null)return;let xe,ge;w.current!==void 0&&(xe=ft(ee,w.current.cell[0],w.current.cell[1]),ge=w.current.cell),oe==null||oe({bounds:xe,stopPropagation:()=>F.stopPropagation(),preventDefault:()=>F.preventDefault(),cancel:()=>{},ctrlKey:F.ctrlKey,metaKey:F.metaKey,shiftKey:F.shiftKey,altKey:F.altKey,key:F.key,keyCode:F.keyCode,rawEvent:F,location:ge})},[oe,w,ft]),Vo=d.useCallback(F=>{const ee=Ke.current;if(ee===null)return;let xe,ge;w.current!==void 0&&(xe=ft(ee,w.current.cell[0],w.current.cell[1]),ge=w.current.cell),re==null||re({bounds:xe,stopPropagation:()=>F.stopPropagation(),preventDefault:()=>F.preventDefault(),cancel:()=>{},ctrlKey:F.ctrlKey,metaKey:F.metaKey,shiftKey:F.shiftKey,altKey:F.altKey,key:F.key,keyCode:F.keyCode,rawEvent:F,location:ge})},[re,w,ft]),Qi=d.useCallback(F=>{Ke.current=F,ne!==void 0&&(ne.current=F)},[ne]),Ko=d.useCallback(F=>{var We;const ee=Ke.current;if(ee===null||He===!1||_e){F.preventDefault();return}let xe,ge;const Z=at(ee,F.clientX,F.clientY);if(He!==!0&&Z.kind!==He){F.preventDefault();return}const ue=(qe,Oe)=>{xe=qe,ge=Oe};let Ae,ve,me;const ht=(qe,Oe,wt)=>{Ae=qe,ve=Oe,me=wt};let De=!1;if(le==null||le(G(j({},Z),{setData:ue,setDragImage:ht,preventDefault:()=>De=!0,defaultPrevented:()=>De})),!De&&xe!==void 0&&ge!==void 0&&F.dataTransfer!==null)if(F.dataTransfer.setData(xe,ge),F.dataTransfer.effectAllowed="copyLink",Ae!==void 0&&ve!==void 0&&me!==void 0)F.dataTransfer.setDragImage(Ae,ve,me);else{const[qe,Oe]=Z.location;if(Oe!==void 0){const wt=document.createElement("canvas"),zt=ft(ee,qe,Oe);yn(zt!==void 0);const en=Math.ceil((We=window.devicePixelRatio)!=null?We:1);wt.width=zt.width*en,wt.height=zt.height*en;const et=wt.getContext("2d");et!==null&&(et.scale(en,en),et.textBaseline="middle",Oe===-1?(et.font=de.headerFontFull,et.fillStyle=de.bgHeader,et.fillRect(0,0,wt.width,wt.height),jc(et,0,0,zt.width,zt.height,Xe[qe],!1,de,!1,!1,0,on,Pe,!1)):(et.font=de.baseFontFull,et.fillStyle=de.bgCell,et.fillRect(0,0,wt.width,wt.height),$c(et,p([qe,Oe]),0,Oe,!1,!1,0,0,zt.width,zt.height,!1,de,de.bgCell,It,on,1,void 0,!1,0,void 0,void 0,void 0,Mr,ot,()=>{}))),wt.style.left="-100%",wt.style.position="absolute",wt.style.width="".concat(zt.width,"px"),wt.style.height="".concat(zt.height,"px"),document.body.append(wt),F.dataTransfer.setDragImage(wt,zt.width/2,zt.height/2),window.setTimeout(()=>{wt.remove()},0)}}else F.preventDefault()},[He,_e,at,le,ft,de,Xe,on,Pe,p,It,Mr,ot]);Vt("dragstart",Ko,(eo=J==null?void 0:J.current)!=null?eo:null,!1,!1);const ri=d.useRef(),ii=d.useCallback(F=>{var me;const ee=Ke.current;if(je!==void 0&&F.preventDefault(),ee===null||Me===void 0)return;const xe=at(ee,F.clientX,F.clientY),[ge,Z]=xe.location,ue=ge-(V?0:1),[Ae,ve]=(me=ri.current)!=null?me:[];(Ae!==ue||ve!==Z)&&(ri.current=[ue,Z],Me([ue,Z],F.dataTransfer))},[V,at,Me,je]);Vt("dragover",ii,(oi=J==null?void 0:J.current)!=null?oi:null,!1,!1);const X=d.useCallback(()=>{ri.current=void 0,ke==null||ke()},[ke]);Vt("dragend",X,(Ut=J==null?void 0:J.current)!=null?Ut:null,!1,!1);const ln=d.useCallback(F=>{const ee=Ke.current;if(ee===null||je===void 0)return;F.preventDefault();const xe=at(ee,F.clientX,F.clientY),[ge,Z]=xe.location,ue=ge-(V?0:1);je([ue,Z],F.dataTransfer)},[V,at,je]);Vt("drop",ln,(Jt=J==null?void 0:J.current)!=null?Jt:null,!1,!1);const $t=d.useCallback(()=>{te==null||te()},[te]);Vt("dragleave",$t,(si=J==null?void 0:J.current)!=null?si:null,!1,!1);const Ji=d.useRef(w);Ji.current=w;const Ar=d.useRef(null),Gn=d.useCallback(F=>{var ee;Ke.current===null||!Ke.current.contains(document.activeElement)||(F===null&&Ji.current.current!==void 0?(ee=ne==null?void 0:ne.current)==null||ee.focus({preventScroll:!0}):F!==null&&F.focus({preventScroll:!0}),Ar.current=F)},[ne]);d.useImperativeHandle(t,()=>({focus:()=>{var ee;const F=Ar.current;F===null||!document.contains(F)?(ee=ne==null?void 0:ne.current)==null||ee.focus({preventScroll:!0}):F.focus({preventScroll:!0})},getBounds:(F,ee)=>{if(!(ne===void 0||ne.current===null))return ft(ne.current,F!=null?F:0,ee!=null?ee:-1)},damage:Yi}),[ne,Yi,ft]);const Qt=d.useRef(),Zn=Af(()=>{var ve,me,ht,De;if(n<50||(ae==null?void 0:ae.disableAccessibilityTree)===!0)return null;let F=Ts(Xe,kt,n,N,it);const ee=V?0:-1;!V&&((ve=F[0])==null?void 0:ve.sourceIndex)===0&&(F=F.slice(1));const[xe,ge]=(ht=(me=w.current)==null?void 0:me.cell)!=null?ht:[],Z=(De=w.current)==null?void 0:De.range,ue=F.map(We=>We.sourceIndex),Ae=br(l,Math.min(g,l+i));return xe!==void 0&&ge!==void 0&&!(ue.includes(xe)&&Ae.includes(ge))&&Gn(null),d.createElement("table",{key:"access-tree",role:"grid","aria-rowcount":g+1,"aria-multiselectable":"true","aria-colcount":Xe.length+ee},d.createElement("thead",{role:"rowgroup"},d.createElement("tr",{role:"row","aria-rowindex":1},F.map(We=>d.createElement("th",{role:"columnheader","aria-selected":w.columns.hasIndex(We.sourceIndex),"aria-colindex":We.sourceIndex+1+ee,tabIndex:-1,onFocus:qe=>{if(qe.target!==Ar.current)return Be==null?void 0:Be([We.sourceIndex,-1])},key:We.sourceIndex},We.title)))),d.createElement("tbody",{role:"rowgroup"},Ae.map(We=>d.createElement("tr",{role:"row","aria-selected":w.rows.hasIndex(We),key:We,"aria-rowindex":We+2},F.map(qe=>{const Oe=qe.sourceIndex,wt=An(Oe,We),zt=xe===Oe&&ge===We,en=Z!==void 0&&Oe>=Z.x&&Oe<Z.x+Z.width&&We>=Z.y&&We<Z.y+Z.height,et="glide-cell-".concat(Oe,"-").concat(We),Ct=[Oe,We],vt=p(Ct,!0);return d.createElement("td",{key:wt,role:"gridcell","aria-colindex":Oe+1+ee,"aria-selected":en,"aria-readonly":Vr(vt)||!Mi(vt),id:et,"data-testid":et,onClick:()=>{const Pt=ne==null?void 0:ne.current;if(Pt!=null)return oe==null?void 0:oe({bounds:ft(Pt,Oe,We),cancel:()=>{},preventDefault:()=>{},stopPropagation:()=>{},ctrlKey:!1,key:"Enter",keyCode:13,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:Ct})},onFocusCapture:Pt=>{var fn,st;if(!(Pt.target===Ar.current||((fn=Qt.current)==null?void 0:fn[0])===Oe&&((st=Qt.current)==null?void 0:st[1])===We))return Qt.current=Ct,Be==null?void 0:Be(Ct)},ref:zt?Gn:void 0,tabIndex:-1},Kg(vt,ot))})))))},[n,Xe,kt,N,it,g,l,i,w,Gn,p,ne,oe,ft,Be],200),Pr=A===0||!k?0:kt>A?1:_n(-it/100,0,1),Yo=-l*32+rt,Dr=L?_n(-Yo/100,0,1):0,Go=d.useMemo(()=>{if(!Pr&&!Dr)return null;const F={position:"absolute",top:0,left:pt,width:n-pt,height:r,opacity:Pr,pointerEvents:"none",transition:Se?void 0:"opacity 0.2s",boxShadow:"inset 13px 0 10px -13px rgba(0, 0, 0, 0.2)"},ee={position:"absolute",top:Ft,left:0,width:n,height:r,opacity:Dr,pointerEvents:"none",transition:Ie?void 0:"opacity 0.2s",boxShadow:"inset 0 13px 10px -13px rgba(0, 0, 0, 0.2)"};return d.createElement(d.Fragment,null,Pr>0&&d.createElement("div",{id:"shadow-x",style:F}),Dr>0&&d.createElement("div",{id:"shadow-y",style:ee}))},[Pr,Dr,pt,n,Se,Ft,r,Ie]),Dn=d.useMemo(()=>({position:"absolute",top:0,left:0}),[]);return d.createElement(d.Fragment,null,d.createElement("canvas",{"data-testid":"data-grid-canvas",tabIndex:0,onKeyDown:dn,onKeyUp:Vo,onFocus:b,onBlur:E,ref:Qi,style:fr},Zn),d.createElement("canvas",{ref:lt,style:Dn}),Go)},Gg=d.memo(d.forwardRef(Yg));function Si(e,t,n,r){var i;return _n(Math.round(t-((i=e.growOffset)!=null?i:0)),Math.ceil(n),Math.floor(r))}const Zg=e=>{var Ue;const[t,n]=d.useState(),[r,i]=d.useState(),[o,s]=d.useState(),[l,a]=d.useState(),[c,u]=d.useState(!1),[h,g]=d.useState(),[p,f]=d.useState(),[x,M]=d.useState(),[C,b]=d.useState(!1),[E,T]=d.useState(),{onHeaderMenuClick:w,getCellContent:A,onColumnMoved:O,onColumnResize:S,onColumnResizeStart:k,onColumnResizeEnd:L,gridRef:I,maxColumnWidth:v,minColumnWidth:_,onRowMoved:R,lockColumns:y,onColumnProposeMove:z,onMouseDown:N,onMouseUp:V,onItemHovered:oe,onDragStart:re,canvasRef:Y}=e,ne=((Ue=S!=null?S:L)!=null?Ue:k)!==void 0,{columns:le,selection:ke}=e,J=ke.columns,_e=d.useCallback(se=>{const[Pe,Be]=se.location;o!==void 0&&l!==Pe&&Pe>=y?(u(!0),a(Pe)):p!==void 0&&Be!==void 0?(b(!0),M(Math.max(0,Be))):oe==null||oe(se)},[o,p,l,oe,y]),he=O!==void 0,ye=d.useCallback(se=>{var Pe,Be;if(se.button===0){const[Me,je]=se.location;if(se.kind==="out-of-bounds"&&se.isEdge&&ne){const te=(Pe=I==null?void 0:I.current)==null?void 0:Pe.getBounds(le.length-1,-1);te!==void 0&&(n(te.x),i(le.length-1))}else if(se.kind==="header"&&Me>=y){const te=Y==null?void 0:Y.current;if(se.isEdge&&ne&&te){n(se.bounds.x),i(Me);const Se=te.getBoundingClientRect().width/te.offsetWidth,Ie=se.bounds.width/Se;k==null||k(le[Me],Ie,Me,Ie+((Be=le[Me].growOffset)!=null?Be:0))}else se.kind==="header"&&he&&(g(se.bounds.x),s(Me))}else se.kind==="cell"&&y>0&&Me===0&&je!==void 0&&R!==void 0&&(T(se.bounds.y),f(je))}N==null||N(se)},[N,ne,y,R,I,le,he,k,Y]),He=d.useCallback((se,Pe)=>{c||C||w==null||w(se,Pe)},[c,C,w]),Ge=d.useRef(-1),ct=d.useCallback(()=>{Ge.current=-1,f(void 0),M(void 0),T(void 0),b(!1),s(void 0),a(void 0),g(void 0),u(!1),i(void 0),n(void 0)},[]),Et=d.useCallback((se,Pe)=>{var Be,Me,je;if(se.button===0){if(r!==void 0){if((J==null?void 0:J.hasIndex(r))===!0)for(const Ze of J){if(Ze===r)continue;const Se=le[Ze],Ie=Si(Se,Ge.current,_,v);S==null||S(Se,Ie,Ze,Ie+((Be=Se.growOffset)!=null?Be:0))}const te=Si(le[r],Ge.current,_,v);if(L==null||L(le[r],te,r,te+((Me=le[r].growOffset)!=null?Me:0)),J.hasIndex(r))for(const Ze of J){if(Ze===r)continue;const Se=le[Ze],Ie=Si(Se,Ge.current,_,v);L==null||L(Se,Ie,Ze,Ie+((je=Se.growOffset)!=null?je:0))}}ct(),o!==void 0&&l!==void 0&&(O==null||O(o,l)),p!==void 0&&x!==void 0&&(R==null||R(p,x))}V==null||V(se,Pe)},[V,r,o,l,p,x,J,L,le,_,v,S,O,R,ct]),Te=d.useMemo(()=>{if(!(o===void 0||l===void 0)&&o!==l&&(z==null?void 0:z(o,l))!==!1)return{src:o,dest:l}},[o,l,z]),de=d.useCallback(se=>{var Be,Me;const Pe=Y==null?void 0:Y.current;if(o!==void 0&&h!==void 0)Math.abs(se.clientX-h)>20&&u(!0);else if(p!==void 0&&E!==void 0)Math.abs(se.clientY-E)>20&&b(!0);else if(r!==void 0&&t!==void 0&&Pe){const te=Pe.getBoundingClientRect().width/Pe.offsetWidth,Ze=(se.clientX-t)/te,Se=le[r],Ie=Si(Se,Ze,_,v);if(S==null||S(Se,Ie,r,Ie+((Be=Se.growOffset)!=null?Be:0)),Ge.current=Ze,(J==null?void 0:J.first())===r)for(const ae of J){if(ae===r)continue;const ot=le[ae],it=Si(ot,Ge.current,_,v);S==null||S(ot,it,ae,it+((Me=ot.growOffset)!=null?Me:0))}}},[o,h,p,E,r,t,le,_,v,S,J,Y]),Ve=d.useCallback((se,Pe)=>{if(p===void 0||x===void 0)return A(se,Pe);let[Be,Me]=se;return Me===x?Me=p:(Me>x&&(Me-=1),Me>=p&&(Me+=1)),A([Be,Me],Pe)},[p,x,A]),ut=d.useCallback(se=>{re==null||re(se),se.defaultPrevented()||ct()},[ct,re]);return d.createElement(Gg,{accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,enableGroups:e.enableGroups,eventTargetRef:e.eventTargetRef,experimental:e.experimental,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,headerIcons:e.headerIcons,height:e.height,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,resizeColumn:r,isDraggable:e.isDraggable,isFilling:e.isFilling,isFocused:e.isFocused,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDrop:e.onDrop,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,width:e.width,getCellContent:Ve,isResizing:r!==void 0,onHeaderMenuClick:He,isDragging:c,onItemHovered:_e,onDragStart:ut,onMouseDown:ye,allowResize:ne,onMouseUp:Et,dragAndDropState:Te,onMouseMoveRaw:de,ref:I})};function Qg(e){const t=d.useRef(null),[n,r]=d.useState({width:e==null?void 0:e[0],height:e==null?void 0:e[1]});return d.useLayoutEffect(()=>{const i=s=>{for(const l of s){const{width:a,height:c}=l&&l.contentRect||{};r(u=>u.width===a&&u.height===c?u:{width:a,height:c})}},o=new window.ResizeObserver(i);return t.current&&o.observe(t.current,void 0),()=>{o.disconnect()}},[t.current]),j({ref:t},n)}const Jg=(e,t,n)=>{const r=d.useRef(null),i=d.useRef(null),o=d.useRef(null),s=d.useRef(0),l=d.useRef(t);l.current=t;const a=n.current;d.useEffect(()=>{const c=()=>{var g,p;if(i.current===!1&&a!==null){const f=[a.scrollLeft,a.scrollTop];if(((g=o.current)==null?void 0:g[0])===f[0]&&((p=o.current)==null?void 0:p[1])===f[1])if(s.current>10){o.current=null,i.current=null;return}else s.current++;else s.current=0,l.current(f[0],f[1]),o.current=f;r.current=window.setTimeout(c,8.333333333333334)}},u=()=>{i.current=!0,o.current=null,r.current!==null&&(window.clearTimeout(r.current),r.current=null)},h=g=>{g.touches.length===0&&(i.current=!1,s.current=0,r.current=window.setTimeout(c,8.333333333333334))};if(e&&a!==null){const g=a;return g.addEventListener("touchstart",u),g.addEventListener("touchend",h),()=>{g.removeEventListener("touchstart",u),g.removeEventListener("touchend",h),r.current!==null&&window.clearTimeout(r.current)}}},[e,a])},em=()=>e=>e.isSafari?"scroll":"auto",tm=vn("div")({name:"ScrollRegionStyle",class:"gdg-s1dgczr6",propsAsIs:!1,vars:{"s1dgczr6-0":[em()]}});function nm(e){const[t,n]=d.useState(!1),r=typeof window>"u"?null:window,i=d.useRef(0);return Vt("touchstart",d.useCallback(()=>{window.clearTimeout(i.current),n(!0)},[]),r,!0,!1),Vt("touchend",d.useCallback(o=>{o.touches.length===0&&(i.current=window.setTimeout(()=>n(!1),e))},[e]),r,!0,!1),t}const rm=e=>{var le,ke,J,_e;const{children:t,clientHeight:n,scrollHeight:r,scrollWidth:i,update:o,draggable:s,className:l,preventDiagonalScrolling:a=!1,paddingBottom:c=0,paddingRight:u=0,rightElement:h,rightElementProps:g,kineticScrollPerfHack:p=!1,scrollRef:f,initialSize:x}=e,M=[],C=(le=g==null?void 0:g.sticky)!=null?le:!1,b=(ke=g==null?void 0:g.fill)!=null?ke:!1,E=d.useRef(0),T=d.useRef(0),w=d.useRef(null),A=typeof window>"u"?1:window.devicePixelRatio,O=d.useRef({scrollLeft:0,scrollTop:0,lockDirection:void 0}),S=d.useRef(null),k=nm(200),[L,I]=d.useState(!0),v=d.useRef(0);d.useLayoutEffect(()=>{if(!L||k||O.current.lockDirection===void 0)return;const he=w.current;if(he===null)return;const[ye,He]=O.current.lockDirection;ye!==void 0?he.scrollLeft=ye:He!==void 0&&(he.scrollTop=He),O.current.lockDirection=void 0},[k,L]);const _=d.useCallback((he,ye)=>{var Be,Me,je,te;const He=w.current;if(He===null)return;ye=ye!=null?ye:He.scrollTop,he=he!=null?he:He.scrollLeft;const Ge=O.current.scrollTop,ct=O.current.scrollLeft,Et=he-ct,Te=ye-Ge;k&&Et!==0&&Te!==0&&(Math.abs(Et)>3||Math.abs(Te)>3)&&a&&O.current.lockDirection===void 0&&(O.current.lockDirection=Math.abs(Et)<Math.abs(Te)?[ct,void 0]:[void 0,Ge]);const de=O.current.lockDirection;he=(Be=de==null?void 0:de[0])!=null?Be:he,ye=(Me=de==null?void 0:de[1])!=null?Me:ye,O.current.scrollLeft=he,O.current.scrollTop=ye;const Ve=He.clientWidth,ut=He.clientHeight,Ue=ye,se=T.current-Ue,Pe=He.scrollHeight-ut;if(T.current=Ue,Pe>0&&(Math.abs(se)>2e3||Ue===0||Ue===Pe)&&r>He.scrollHeight+5){const Ze=Ue/Pe,Se=(r-ut)*Ze;E.current=Se-Ue}de!==void 0&&(window.clearTimeout(v.current),I(!1),v.current=window.setTimeout(()=>I(!0),200)),o({x:he,y:Ue+E.current,width:Ve-u,height:ut-c,paddingRight:(te=(je=S.current)==null?void 0:je.clientWidth)!=null?te:0})},[c,u,r,o,a,k]);Jg(p&&_o.value,_,w);const R=d.useRef(_);R.current=_;const y=d.useRef(),z=d.useRef(!1);d.useLayoutEffect(()=>{z.current?_():z.current=!0},[_,c,u]);const N=d.useCallback(he=>{w.current=he,f!==void 0&&(f.current=he)},[f]);let V=0,oe=0;for(M.push(d.createElement("div",{key:V++,style:{width:i,height:0}}));oe<r;){const he=Math.min(5e6,r-oe);M.push(d.createElement("div",{key:V++,style:{width:0,height:he}})),oe+=he}const{ref:re,width:Y,height:ne}=Qg(x);return typeof window<"u"&&(((J=y.current)==null?void 0:J.height)!==ne||((_e=y.current)==null?void 0:_e.width)!==Y)&&(window.setTimeout(()=>R.current(),0),y.current={width:Y,height:ne}),(Y!=null?Y:0)===0||(ne!=null?ne:0)===0?d.createElement("div",{ref:re}):d.createElement("div",{ref:re},d.createElement(tm,{isSafari:_o.value},d.createElement("div",{className:"dvn-underlay"},t),d.createElement("div",{ref:N,style:y.current,draggable:s,onDragStart:he=>{s||(he.stopPropagation(),he.preventDefault())},className:"dvn-scroller "+(l!=null?l:""),onScroll:()=>_()},d.createElement("div",{className:"dvn-scroll-inner"+(h===void 0?" dvn-hidden":"")},d.createElement("div",{className:"dvn-stack"},M),h!==void 0&&d.createElement(d.Fragment,null,!b&&d.createElement("div",{className:"dvn-spacer"}),d.createElement("div",{ref:S,style:{height:ne,maxHeight:n-Math.ceil(A%1),position:"sticky",top:0,paddingLeft:1,marginBottom:-40,marginRight:u,flexGrow:b?1:void 0,right:C?u!=null?u:0:void 0,pointerEvents:"auto"}},h))))))},im=e=>{const{columns:t,rows:n,rowHeight:r,headerHeight:i,groupHeaderHeight:o,enableGroups:s,freezeColumns:l,experimental:a,nonGrowWidth:c,clientSize:u,className:h,onVisibleRegionChanged:g,scrollRef:p,preventDiagonalScrolling:f,rightElement:x,rightElementProps:M,overscrollX:C,overscrollY:b,initialSize:E,smoothScrollX:T=!1,smoothScrollY:w=!1,isDraggable:A}=e,{paddingRight:O,paddingBottom:S}=a!=null?a:{},[k,L]=u,I=d.useRef(),v=d.useRef(),_=d.useRef(),R=d.useRef(),y=c+Math.max(0,C!=null?C:0);let z=s?i+o:i;if(typeof r=="number")z+=n*r;else for(let re=0;re<n;re++)z+=r(re);b!==void 0&&(z+=b);const N=d.useRef(),V=d.useCallback(()=>{var ct,Et,Te;if(N.current===void 0)return;const re=j({},N.current);let Y=0,ne=re.x<0?-re.x:0,le=0,ke=0;re.x=re.x<0?0:re.x;let J=0;for(let de=0;de<l;de++)J+=t[de].width;for(const de of t){const Ve=Y-J;if(re.x>=Ve+de.width)Y+=de.width,ke++,le++;else if(re.x>Ve)Y+=de.width,T?ne+=Ve-re.x:ke++,le++;else if(re.x+re.width>Ve)Y+=de.width,le++;else break}let _e=0,he=0,ye=0;if(typeof r=="number")w?(he=Math.floor(re.y/r),_e=he*r-re.y):he=Math.ceil(re.y/r),ye=Math.ceil(re.height/r)+he,_e<0&&ye++;else{let de=0;for(let Ve=0;Ve<n;Ve++){const ut=r(Ve),Ue=de+(w?0:ut/2);if(re.y>=de+ut)de+=ut,he++,ye++;else if(re.y>Ue)de+=ut,w?_e+=Ue-re.y:he++,ye++;else if(re.y+re.height>ut/2+de)de+=ut,ye++;else break}}const He={x:ke,y:he,width:le-ke,height:ye-he},Ge=I.current;(Ge===void 0||Ge.y!==He.y||Ge.x!==He.x||Ge.height!==He.height||Ge.width!==He.width||v.current!==ne||_.current!==_e||re.width!==((ct=R.current)==null?void 0:ct[0])||re.height!==((Et=R.current)==null?void 0:Et[1]))&&(g==null||g({x:ke,y:he,width:le-ke,height:ye-he},re.width,re.height,(Te=re.paddingRight)!=null?Te:0,ne,_e),I.current=He,v.current=ne,_.current=_e,R.current=[re.width,re.height])},[t,r,n,g,l,T,w]),oe=d.useCallback(re=>{N.current=re,V()},[V]);return d.useEffect(()=>{V()},[V]),d.createElement(rm,{scrollRef:p,className:h,kineticScrollPerfHack:a==null?void 0:a.kineticScrollPerfHack,preventDiagonalScrolling:f,draggable:A===!0||typeof A=="string",scrollWidth:y+(O!=null?O:0),scrollHeight:z+(S!=null?S:0),clientHeight:L,rightElement:x,paddingBottom:S,paddingRight:O,rightElementProps:M,update:oe,initialSize:E},d.createElement(Zg,{eventTargetRef:p,width:k,height:L,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onMouseMove:e.onMouseMove,prelightCells:e.prelightCells,rowHeight:e.rowHeight,rows:e.rows,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,onColumnProposeMove:e.onColumnProposeMove,verticalBorder:e.verticalBorder,drawFocusRing:e.drawFocusRing,drawHeader:e.drawHeader,drawCell:e.drawCell,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY}))},om=vn("div")({name:"SearchWrapper",class:"gdg-seveqep",propsAsIs:!1}),sm=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 244l144-144 144 144M256 120v292"})),lm=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M112 268l144 144 144-144M256 392V100"})),am=d.createElement("svg",{className:"button-icon",viewBox:"0 0 512 512"},d.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144M368 144L144 368"})),cm=10,um=e=>{const{canvasRef:t,cellYOffset:n,rows:r,columns:i,searchInputRef:o,searchValue:s,searchResults:l,onSearchValueChange:a,getCellsForSelection:c,onSearchResultsChanged:u,showSearch:h=!1,onSearchClose:g}=e,[p]=d.useState(()=>"search-box-"+Math.round(Math.random()*1e3)),[f,x]=d.useState(""),M=s!=null?s:f,C=d.useCallback(Y=>{x(Y),a==null||a(Y)},[a]),[b,E]=d.useState(),T=d.useRef(b);T.current=b,d.useEffect(()=>{l!==void 0&&(l.length>0?E(Y=>{var ne;return{rowsSearched:r,results:l.length,selectedIndex:(ne=Y==null?void 0:Y.selectedIndex)!=null?ne:-1}}):E(void 0))},[r,l]);const w=d.useRef(new AbortController),A=d.useRef(),[O,S]=d.useState([]),k=l!=null?l:O,L=d.useCallback(()=>{A.current!==void 0&&(window.cancelAnimationFrame(A.current),A.current=void 0,w.current.abort())},[]),I=d.useRef(n);I.current=n;const v=d.useCallback(Y=>{const ne=new RegExp(Y.replace(/([$()*+.?[\\\]^{|}-])/g,"\\$1"),"i");let le=I.current,ke=Math.min(10,r),J=0;E(void 0),S([]);const _e=[],he=async()=>{var Ue,se;if(c===void 0)return;const ye=performance.now(),He=r-J;let Ge=c({x:0,y:le,width:i.length,height:Math.min(ke,He,r-le)},w.current.signal);typeof Ge=="function"&&(Ge=await Ge());let ct=!1;for(const[Pe,Be]of Ge.entries())for(const[Me,je]of Be.entries()){let te;switch(je.kind){case ce.Text:case ce.Number:te=je.displayData;break;case ce.Uri:case ce.Markdown:te=je.data;break;case ce.Boolean:te=typeof je.data=="boolean"?je.data.toString():void 0;break;case ce.Image:case ce.Bubble:te=je.data.join("🐳");break;case ce.Custom:te=je.copyData;break}te!==void 0&&ne.test(te)&&(_e.push([Me,Pe+le]),ct=!0)}const Et=performance.now();ct&&S([..._e]),J+=Ge.length,yn(J<=r);const Te=(se=(Ue=T.current)==null?void 0:Ue.selectedIndex)!=null?se:-1;E({results:_e.length,rowsSearched:J,selectedIndex:Te}),u==null||u(_e,Te),le+ke>=r?le=0:le+=ke;const de=Et-ye,Ve=Math.max(de,1),ut=cm/Ve;ke=Math.ceil(ke*ut),J<r&&_e.length<1e3&&(A.current=window.requestAnimationFrame(he))};L(),A.current=window.requestAnimationFrame(he)},[L,i.length,c,u,r]),_=d.useCallback(()=>{var Y;g==null||g(),E(void 0),S([]),u==null||u([],-1),L(),(Y=t==null?void 0:t.current)==null||Y.focus()},[L,t,g,u]),R=d.useCallback(Y=>{C(Y.target.value),l===void 0&&(Y.target.value===""?(E(void 0),S([]),L()):v(Y.target.value))},[v,L,C,l]);d.useEffect(()=>{h&&o.current!==null&&(C(""),o.current.focus({preventScroll:!0}))},[h,o,C]);const y=d.useCallback(Y=>{var le;if((le=Y==null?void 0:Y.stopPropagation)==null||le.call(Y),b===void 0)return;const ne=(b.selectedIndex+1)%b.results;E(G(j({},b),{selectedIndex:ne})),u==null||u(k,ne)},[b,u,k]),z=d.useCallback(Y=>{var le;if((le=Y==null?void 0:Y.stopPropagation)==null||le.call(Y),b===void 0)return;let ne=(b.selectedIndex-1)%b.results;ne<0&&(ne+=b.results),E(G(j({},b),{selectedIndex:ne})),u==null||u(k,ne)},[u,k,b]),N=d.useCallback(Y=>{(Y.ctrlKey||Y.metaKey)&&Y.nativeEvent.code==="KeyF"||Y.key==="Escape"?(_(),Y.stopPropagation(),Y.preventDefault()):Y.key==="Enter"&&(Y.shiftKey?z():y())},[_,y,z]);d.useEffect(()=>()=>{L()},[L]);const[V,oe]=d.useState(!1);d.useEffect(()=>{if(h)oe(!0);else{const Y=setTimeout(()=>oe(!1),150);return()=>clearTimeout(Y)}},[h]);const re=d.useMemo(()=>{var J,_e,he;if(!h&&!V)return null;let Y;b!==void 0&&(Y=b.results>=1e3?"over 1000":"".concat(b.results," result").concat(b.results!==1?"s":""),b.selectedIndex>=0&&(Y="".concat(b.selectedIndex+1," of ").concat(Y)));const ne=ye=>{ye.stopPropagation()},le=Math.floor(((J=b==null?void 0:b.rowsSearched)!=null?J:0)/r*100),ke={width:"".concat(le,"%")};return d.createElement(om,{className:h?"":"out",onMouseDown:ne,onMouseMove:ne,onMouseUp:ne,onClick:ne},d.createElement("div",{className:"gdg-search-bar-inner"},d.createElement("input",{id:p,"aria-hidden":!h,"data-testid":"search-input",ref:o,onChange:R,value:M,tabIndex:h?void 0:-1,onKeyDownCapture:N}),d.createElement("button",{"aria-label":"Previous Result","aria-hidden":!h,tabIndex:h?void 0:-1,onClick:z,disabled:((_e=b==null?void 0:b.results)!=null?_e:0)===0},sm),d.createElement("button",{"aria-label":"Next Result","aria-hidden":!h,tabIndex:h?void 0:-1,onClick:y,disabled:((he=b==null?void 0:b.results)!=null?he:0)===0},lm),g!==void 0&&d.createElement("button",{"aria-label":"Close Search","aria-hidden":!h,"data-testid":"search-close-button",tabIndex:h?void 0:-1,onClick:_},am)),b!==void 0?d.createElement(d.Fragment,null,d.createElement("div",{className:"gdg-search-status"},d.createElement("div",{"data-testid":"search-result-area"},Y)),d.createElement("div",{className:"gdg-search-progress",style:ke})):d.createElement("div",{className:"gdg-search-status"},d.createElement("label",{htmlFor:p},"Type to search")))},[h,V,b,r,p,o,R,M,N,z,y,g,_]);return d.createElement(d.Fragment,null,d.createElement(im,{prelightCells:k,accessibilityHeight:e.accessibilityHeight,canvasRef:e.canvasRef,cellXOffset:e.cellXOffset,cellYOffset:e.cellYOffset,className:e.className,clientSize:e.clientSize,columns:e.columns,disabledRows:e.disabledRows,enableGroups:e.enableGroups,fillHandle:e.fillHandle,firstColAccessible:e.firstColAccessible,nonGrowWidth:e.nonGrowWidth,fixedShadowX:e.fixedShadowX,fixedShadowY:e.fixedShadowY,freezeColumns:e.freezeColumns,getCellContent:e.getCellContent,getCellRenderer:e.getCellRenderer,getGroupDetails:e.getGroupDetails,getRowThemeOverride:e.getRowThemeOverride,groupHeaderHeight:e.groupHeaderHeight,headerHeight:e.headerHeight,highlightRegions:e.highlightRegions,imageWindowLoader:e.imageWindowLoader,initialSize:e.initialSize,isFilling:e.isFilling,isFocused:e.isFocused,lockColumns:e.lockColumns,maxColumnWidth:e.maxColumnWidth,minColumnWidth:e.minColumnWidth,onHeaderMenuClick:e.onHeaderMenuClick,onMouseMove:e.onMouseMove,onVisibleRegionChanged:e.onVisibleRegionChanged,overscrollX:e.overscrollX,overscrollY:e.overscrollY,preventDiagonalScrolling:e.preventDiagonalScrolling,rightElement:e.rightElement,rightElementProps:e.rightElementProps,rowHeight:e.rowHeight,rows:e.rows,scrollRef:e.scrollRef,selection:e.selection,theme:e.theme,freezeTrailingRows:e.freezeTrailingRows,hasAppendRow:e.hasAppendRow,translateX:e.translateX,translateY:e.translateY,verticalBorder:e.verticalBorder,onColumnProposeMove:e.onColumnProposeMove,drawFocusRing:e.drawFocusRing,drawCell:e.drawCell,drawHeader:e.drawHeader,experimental:e.experimental,gridRef:e.gridRef,headerIcons:e.headerIcons,isDraggable:e.isDraggable,onCanvasBlur:e.onCanvasBlur,onCanvasFocused:e.onCanvasFocused,onCellFocused:e.onCellFocused,onColumnMoved:e.onColumnMoved,onColumnResize:e.onColumnResize,onColumnResizeEnd:e.onColumnResizeEnd,onColumnResizeStart:e.onColumnResizeStart,onContextMenu:e.onContextMenu,onDragEnd:e.onDragEnd,onDragLeave:e.onDragLeave,onDragOverCell:e.onDragOverCell,onDragStart:e.onDragStart,onDrop:e.onDrop,onItemHovered:e.onItemHovered,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onRowMoved:e.onRowMoved,smoothScrollX:e.smoothScrollX,smoothScrollY:e.smoothScrollY}),re)};class dm extends d.PureComponent{constructor(){super(...arguments);pe(this,"wrapperRef",d.createRef());pe(this,"clickOutside",n=>{if(!(this.props.isOutsideClick&&!this.props.isOutsideClick(n))&&this.wrapperRef.current!==null&&!this.wrapperRef.current.contains(n.target)){let r=n.target;for(;r!==null;){if(r.classList.contains("click-outside-ignore"))return;r=r.parentElement}this.props.onClickOutside()}})}componentDidMount(){document.addEventListener("touchend",this.clickOutside,!0),document.addEventListener("mousedown",this.clickOutside,!0),document.addEventListener("contextmenu",this.clickOutside,!0)}componentWillUnmount(){document.removeEventListener("touchend",this.clickOutside,!0),document.removeEventListener("mousedown",this.clickOutside,!0),document.removeEventListener("contextmenu",this.clickOutside,!0)}render(){const o=this.props,{onClickOutside:n,isOutsideClick:r}=o,i=Wr(o,["onClickOutside","isOutsideClick"]);return d.createElement("div",G(j({},i),{ref:this.wrapperRef}),this.props.children)}}const fm=()=>e=>Math.max(16,e.targetHeight-10),hm=vn("input")({name:"RenameInput",class:"gdg-r17m35ur",propsAsIs:!1,vars:{"r17m35ur-0":[fm(),"px"]}}),gm=e=>{const{bounds:t,group:n,onClose:r,canvasBounds:i,onFinish:o}=e,[s,l]=Ot.useState(n);return Ot.createElement(dm,{style:{position:"absolute",left:t.x-i.left+1,top:t.y-i.top,width:t.width-2,height:t.height},className:"gdg-c1tqibwd",onClickOutside:r},Ot.createElement(hm,{targetHeight:t.height,"data-testid":"group-rename-input",value:s,onBlur:r,onFocus:a=>a.target.setSelectionRange(0,s.length),onChange:a=>l(a.target.value),onKeyDown:a=>{a.key==="Enter"?o(s):a.key==="Escape"&&r()},autoFocus:!0}))};function mm(e,t){return e===void 0?!1:e.length>1&&e.startsWith("_")?Number.parseInt(e.slice(1))===t.keyCode:e.length===1&&e>="a"&&e<="z"?e.toUpperCase().codePointAt(0)===t.keyCode:e===t.key}function Ne(e,t,n){const r=Vc(e,t);return r&&(n.didMatch=!0),r}function Vc(e,t){if(e.length===0)return!1;if(e.includes("|")){const a=e.split("|");for(const c of a)if(Vc(c,t))return!0;return!1}let n=!1,r=!1,i=!1,o=!1;const s=e.split("+"),l=s.pop();if(!mm(l,t))return!1;if(s[0]==="any")return!0;for(const a of s)switch(a){case"ctrl":n=!0;break;case"shift":r=!0;break;case"alt":i=!0;break;case"meta":o=!0;break;case"primary":Ao.value?o=!0:n=!0;break}return t.altKey===i&&t.ctrlKey===n&&t.shiftKey===r&&t.metaKey===o}function pm(e,t,n,r,i,o){const s=Ot.useCallback((c,u,h,g)=>{var b,E;(o==="cell"||o==="multi-cell")&&c!==void 0&&(c=G(j({},c),{range:{x:c.cell[0],y:c.cell[1],width:1,height:1}}));const p=n==="mixed"&&(h||g==="drag"),f=r==="mixed"&&p,x=i==="mixed"&&p;let M={current:c===void 0?void 0:G(j({},c),{rangeStack:g==="drag"?(E=(b=e.current)==null?void 0:b.rangeStack)!=null?E:[]:[]}),columns:f?e.columns:nt.empty(),rows:x?e.rows:nt.empty()};h&&(o==="multi-rect"||o==="multi-cell")&&M.current!==void 0&&e.current!==void 0&&(M=G(j({},M),{current:G(j({},M.current),{rangeStack:[...e.current.rangeStack,e.current.range]})})),t(M,u)},[r,e,n,o,i,t]),l=Ot.useCallback((c,u,h)=>{c=c!=null?c:e.rows,u!==void 0&&(c=c.add(u));let g;if(i==="exclusive"&&c.length>0)g={current:void 0,columns:nt.empty(),rows:c};else{const p=h&&n==="mixed",f=h&&r==="mixed";g={current:p?e.current:void 0,columns:f?e.columns:nt.empty(),rows:c}}t(g,!1)},[r,e,n,i,t]),a=Ot.useCallback((c,u,h)=>{c=c!=null?c:e.columns,u!==void 0&&(c=c.add(u));let g;if(r==="exclusive"&&c.length>0)g={current:void 0,rows:nt.empty(),columns:c};else{const p=h&&n==="mixed",f=h&&i==="mixed";g={current:p?e.current:void 0,rows:f?e.rows:nt.empty(),columns:c}}t(g,!1)},[r,e,n,i,t]);return[s,l,a]}function ym(e,t,n,r,i){const o=d.useCallback(c=>{var u;if(e===!0){const h=[];for(let g=c.y;g<c.y+c.height;g++){const p=[];for(let f=c.x;f<c.x+c.width;f++)f<0||g>=i?p.push({kind:ce.Loading,allowOverlay:!1}):p.push(t([f,g]));h.push(p)}return h}return(u=e==null?void 0:e(c,r.signal))!=null?u:[]},[r.signal,t,e,i]),s=e!==void 0?o:void 0,l=d.useCallback(c=>{if(s===void 0)return[];const u=G(j({},c),{x:c.x-n});if(u.x<0){u.x=0,u.width--;const h=s(u,r.signal);return typeof h=="function"?async()=>(await h()).map(g=>[{kind:ce.Loading,allowOverlay:!1},...g]):h.map(g=>[{kind:ce.Loading,allowOverlay:!1},...g])}return s(u,r.signal)},[r.signal,s,n]);return[e!==void 0?l:void 0,s]}function wm(e){var t,n;if(e.copyData!==void 0)return{formatted:e.copyData,rawValue:e.copyData,format:"string"};switch(e.kind){case ce.Boolean:return{formatted:e.data===!0?"TRUE":e.data===!1?"FALSE":e.data===Hs?"INDETERMINATE":"",rawValue:e.data,format:"boolean"};case ce.Custom:return{formatted:e.copyData,rawValue:e.copyData,format:"string"};case ce.Image:case ce.Bubble:return{formatted:e.data,rawValue:e.data,format:"string-array"};case ce.Drilldown:return{formatted:e.data.map(r=>r.text),rawValue:e.data.map(r=>r.text),format:"string-array"};case ce.Text:return{formatted:(t=e.displayData)!=null?t:e.data,rawValue:e.data,format:"string"};case ce.Uri:return{formatted:(n=e.displayData)!=null?n:e.data,rawValue:e.data,format:"url"};case ce.Markdown:case ce.RowID:return{formatted:e.data,rawValue:e.data,format:"string"};case ce.Number:return{formatted:e.displayData,rawValue:e.data,format:"number"};case ce.Loading:return{formatted:"#LOADING",rawValue:"",format:"string"};case ce.Protected:return{formatted:"************",rawValue:"",format:"string"};default:Oi()}}function vm(e,t){return e.map((r,i)=>{const o=t[i];return r.map(s=>s.span!==void 0&&s.span[0]!==o?{formatted:"",rawValue:"",format:"string"}:wm(s))})}function ha(e,t){return(t?/[\t\n",]/:/[\t\n"]/).test(e)&&(e='"'.concat(e.replace(/"/g,'""'),'"')),e}function bm(e){var n,r;const t=[];for(const i of e){const o=[];for(const s of i)s.format==="url"?o.push((r=(n=s.rawValue)==null?void 0:n.toString())!=null?r:""):s.format==="string-array"?o.push(s.formatted.map(l=>ha(l,!0)).join(",")):o.push(ha(s.formatted,!1));t.push(o.join("	"))}return t.join("\n")}function ms(e){return e.replace(/\t/g,"    ").replace(/ {2,}/g,t=>"<span> </span>".repeat(t.length))}function ga(e){return'"'+e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+'"'}function xm(e){return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}function km(e){var n,r;const t=[];t.push('<style type="text/css"><!--br {mso-data-placement:same-cell;}--></style>',"<table><tbody>");for(const i of e){t.push("<tr>");for(const o of i){const s='gdg-format="'.concat(o.format,'"');o.format==="url"?t.push("<td ".concat(s,'><a href="').concat(o.rawValue,'">').concat(ms(o.formatted),"</a></td>")):o.format==="string-array"?t.push("<td ".concat(s,"><ol>").concat(o.formatted.map((l,a)=>"<li gdg-raw-value=".concat(ga(o.rawValue[a]),">")+ms(l)+"</li>").join(""),"</ol></td>")):t.push("<td gdg-raw-value=".concat(ga((r=(n=o.rawValue)==null?void 0:n.toString())!=null?r:"")," ").concat(s,">").concat(ms(o.formatted),"</td>"))}t.push("</tr>")}return t.push("</tbody></table>"),t.join("")}function Cm(e,t){const n=vm(e,t),r=bm(n),i=km(n);return{textPlain:r,textHtml:i}}function ma(e){var s,l,a,c,u,h;const t=document.createElement("html");t.innerHTML=e.replace(/&nbsp;/g," ");const n=t.querySelector("table");if(n===null)return;const r=[n],i=[];let o;for(;r.length>0;){const g=r.pop();if(g===void 0)break;if(g instanceof HTMLTableElement||g.nodeName==="TBODY")r.push(...[...g.children].reverse());else if(g instanceof HTMLTableRowElement)o!==void 0&&i.push(o),o=[],r.push(...[...g.children].reverse());else if(g instanceof HTMLTableCellElement){const p=g.cloneNode(!0),x=p.children.length===1&&p.children[0].nodeName==="P"?p.children[0]:null,M=(x==null?void 0:x.children.length)===1&&x.children[0].nodeName==="FONT",C=p.querySelectorAll("br");for(const T of C)T.replaceWith("\n");const b=p.getAttribute("gdg-raw-value"),E=(s=p.getAttribute("gdg-format"))!=null?s:"string";if(p.querySelector("a")!==null)o==null||o.push({rawValue:(a=(l=p.querySelector("a"))==null?void 0:l.getAttribute("href"))!=null?a:"",formatted:(c=p.textContent)!=null?c:"",format:E});else if(p.querySelector("ol")!==null){const T=p.querySelectorAll("li");o==null||o.push({rawValue:[...T].map(w=>{var A;return(A=w.getAttribute("gdg-raw-value"))!=null?A:""}),formatted:[...T].map(w=>{var A;return(A=w.textContent)!=null?A:""}),format:"string-array"})}else if(b!==null)o==null||o.push({rawValue:xm(b),formatted:(u=p.textContent)!=null?u:"",format:E});else{let T=(h=p.textContent)!=null?h:"";M&&(T=T.replace(/\n(?!\n)/g,"")),o==null||o.push({rawValue:T!=null?T:"",formatted:T!=null?T:"",format:E})}}}return o!==void 0&&i.push(o),i}function Sm(e,t,n,r,i){var l,a;const o=e;if(r==="allowPartial"||e.current===void 0||t===void 0)return e;let s=!1;do{if((e==null?void 0:e.current)===void 0)break;const c=(l=e.current)==null?void 0:l.range,u=[];if(c.width>2){const p=t({x:c.x,y:c.y,width:1,height:c.height},i.signal);if(typeof p=="function")return o;u.push(...p);const f=t({x:c.x+c.width-1,y:c.y,width:1,height:c.height},i.signal);if(typeof f=="function")return o;u.push(...f)}else{const p=t({x:c.x,y:c.y,width:c.width,height:c.height},i.signal);if(typeof p=="function")return o;u.push(...p)}let h=c.x-n,g=c.x+c.width-1-n;for(const p of u)for(const f of p)f.span!==void 0&&(h=Math.min(f.span[0],h),g=Math.max(f.span[1],g));h===c.x-n&&g===c.x+c.width-1-n?s=!0:e={current:{cell:(a=e.current.cell)!=null?a:[0,0],range:{x:h+n,y:c.y,width:g-h+1,height:c.height},rangeStack:e.current.rangeStack},columns:e.columns,rows:e.rows}}while(!s);return e}function pa(e){return e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1).replace(/""/g,'"')),e}function Mm(e){let t;(function(l){l[l.None=0]="None",l[l.inString=1]="inString",l[l.inStringPostQuote=2]="inStringPostQuote"})(t||(t={}));const n=[];let r=[],i=0,o=t.None;e=e.replace(/\r\n/g,"\n");let s=0;for(const l of e){switch(o){case t.None:l==="	"||l==="\n"?(r.push(e.slice(i,s)),i=s+1,l==="\n"&&(n.push(r),r=[])):l==='"'&&(o=t.inString);break;case t.inString:l==='"'&&(o=t.inStringPostQuote);break;case t.inStringPostQuote:l==='"'?o=t.inString:((l==="	"||l==="\n")&&(r.push(pa(e.slice(i,s))),i=s+1,l==="\n"&&(n.push(r),r=[])),o=t.None);break}s++}return i<e.length&&r.push(pa(e.slice(i,e.length))),n.push(r),n.map(l=>l.map(a=>({rawValue:a,formatted:a,format:"string"})))}function ya(e,t,n){var l;const r=Cm(e,t),i=a=>{var c;(c=window.navigator.clipboard)==null||c.writeText(a)},o=(a,c)=>{var u;return((u=window.navigator.clipboard)==null?void 0:u.write)===void 0?!1:(window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([a],{type:"text/plain"}),"text/html":new Blob([c],{type:"text/html"})})]),!0)},s=(a,c)=>{var u,h;try{if(n===void 0||n.clipboardData===null)throw new Error("No clipboard data");(u=n==null?void 0:n.clipboardData)==null||u.setData("text/plain",a),(h=n==null?void 0:n.clipboardData)==null||h.setData("text/html",c)}catch(g){o(a,c)||i(a)}};((l=window.navigator.clipboard)==null?void 0:l.write)!==void 0||(n==null?void 0:n.clipboardData)!==void 0?s(r.textPlain,r.textHtml):i(r.textPlain),n==null||n.preventDefault()}function Kc(e){return e!==!0}function wa(e){return typeof e=="string"?e:"".concat(e,"px")}const Rm=()=>e=>e.innerWidth,Em=()=>e=>e.innerHeight,Tm=vn("div")({name:"Wrapper",class:"gdg-wmyidgi",propsAsIs:!1,vars:{"wmyidgi-0":[Rm()],"wmyidgi-1":[Em()]}}),Im=e=>{const o=e,{inWidth:t,inHeight:n,children:r}=o,i=Wr(o,["inWidth","inHeight","children"]);return d.createElement(Tm,j({innerHeight:wa(n),innerWidth:wa(t)},i),r)},_m=2,Am=1300;function Pm(e,t,n){const r=Ot.useRef(0),[i,o]=e!=null?e:[0,0];Ot.useEffect(()=>{if(i===0&&o===0){r.current=0;return}let s=!1,l=0;const a=c=>{var u;if(!s){if(l===0)l=c;else{const h=c-l;r.current=Math.min(1,r.current+h/Am);const g=r.current**1.618*h*_m;(u=t.current)==null||u.scrollBy(i*g,o*g),l=c,n==null||n()}window.requestAnimationFrame(a)}};return window.requestAnimationFrame(a),()=>{s=!0}},[t,i,o,n])}function Dm({rowHeight:e,headerHeight:t,groupHeaderHeight:n,theme:r,overscrollX:i,overscrollY:o,scaleToRem:s,remSize:l}){const[a,c,u,h,g,p]=Ot.useMemo(()=>{var C,b,E;if(!s||l===16)return[e,t,n,r,i,o];const f=l/16,x=e,M=zc();return[typeof x=="number"?x*f:T=>Math.ceil(x(T)*f),Math.ceil(t*f),Math.ceil(n*f),G(j({},r),{headerIconSize:((C=r==null?void 0:r.headerIconSize)!=null?C:M.headerIconSize)*f,cellHorizontalPadding:((b=r==null?void 0:r.cellHorizontalPadding)!=null?b:M.cellHorizontalPadding)*f,cellVerticalPadding:((E=r==null?void 0:r.cellVerticalPadding)!=null?E:M.cellVerticalPadding)*f}),Math.ceil((i!=null?i:0)*f),Math.ceil((o!=null?o:0)*f)]},[n,t,i,o,l,e,s,r]);return{rowHeight:a,headerHeight:c,groupHeaderHeight:u,theme:h,overscrollX:g,overscrollY:p}}const nr={downFill:!1,rightFill:!1,clear:!0,closeOverlay:!0,acceptOverlayDown:!0,acceptOverlayUp:!0,acceptOverlayLeft:!0,acceptOverlayRight:!0,copy:!0,paste:!0,cut:!0,search:!1,delete:!0,activateCell:!0,scrollToSelectedCell:!0,goToFirstCell:!0,goToFirstColumn:!0,goToFirstRow:!0,goToLastCell:!0,goToLastColumn:!0,goToLastRow:!0,goToNextPage:!0,goToPreviousPage:!0,selectToFirstCell:!0,selectToFirstColumn:!0,selectToFirstRow:!0,selectToLastCell:!0,selectToLastColumn:!0,selectToLastRow:!0,selectAll:!0,selectRow:!0,selectColumn:!0,goUpCell:!0,goRightCell:!0,goDownCell:!0,goLeftCell:!0,goUpCellRetainSelection:!0,goRightCellRetainSelection:!0,goDownCellRetainSelection:!0,goLeftCellRetainSelection:!0,selectGrowUp:!0,selectGrowRight:!0,selectGrowDown:!0,selectGrowLeft:!0};function $e(e,t){return e===!0?t:e===!1?"":e}function va(e){const t=Ao.value;return{activateCell:$e(e.activateCell," |Enter|shift+Enter"),clear:$e(e.clear,"any+Escape"),closeOverlay:$e(e.closeOverlay,"any+Escape"),acceptOverlayDown:$e(e.acceptOverlayDown,"Enter"),acceptOverlayUp:$e(e.acceptOverlayUp,"shift+Enter"),acceptOverlayLeft:$e(e.acceptOverlayLeft,"shift+Tab"),acceptOverlayRight:$e(e.acceptOverlayRight,"Tab"),copy:e.copy,cut:e.cut,delete:$e(e.delete,t?"Backspace|Delete":"Delete"),downFill:$e(e.downFill,"primary+_68"),scrollToSelectedCell:$e(e.scrollToSelectedCell,"primary+Enter"),goDownCell:$e(e.goDownCell,"ArrowDown"),goDownCellRetainSelection:$e(e.goDownCellRetainSelection,"alt+ArrowDown"),goLeftCell:$e(e.goLeftCell,"ArrowLeft|shift+Tab"),goLeftCellRetainSelection:$e(e.goLeftCellRetainSelection,"alt+ArrowLeft"),goRightCell:$e(e.goRightCell,"ArrowRight|Tab"),goRightCellRetainSelection:$e(e.goRightCellRetainSelection,"alt+ArrowRight"),goUpCell:$e(e.goUpCell,"ArrowUp"),goUpCellRetainSelection:$e(e.goUpCellRetainSelection,"alt+ArrowUp"),goToFirstCell:$e(e.goToFirstCell,"primary+Home"),goToFirstColumn:$e(e.goToFirstColumn,"Home|primary+ArrowLeft"),goToFirstRow:$e(e.goToFirstRow,"primary+ArrowUp"),goToLastCell:$e(e.goToLastCell,"primary+End"),goToLastColumn:$e(e.goToLastColumn,"End|primary+ArrowRight"),goToLastRow:$e(e.goToLastRow,"primary+ArrowDown"),goToNextPage:$e(e.goToNextPage,"PageDown"),goToPreviousPage:$e(e.goToPreviousPage,"PageUp"),paste:e.paste,rightFill:$e(e.rightFill,"primary+_82"),search:$e(e.search,"primary+f"),selectAll:$e(e.selectAll,"primary+a"),selectColumn:$e(e.selectColumn,"ctrl+ "),selectGrowDown:$e(e.selectGrowDown,"shift+ArrowDown"),selectGrowLeft:$e(e.selectGrowLeft,"shift+ArrowLeft"),selectGrowRight:$e(e.selectGrowRight,"shift+ArrowRight"),selectGrowUp:$e(e.selectGrowUp,"shift+ArrowUp"),selectRow:$e(e.selectRow,"shift+ "),selectToFirstCell:$e(e.selectToFirstCell,"primary+shift+Home"),selectToFirstColumn:$e(e.selectToFirstColumn,"primary+shift+ArrowLeft"),selectToFirstRow:$e(e.selectToFirstRow,"primary+shift+ArrowUp"),selectToLastCell:$e(e.selectToLastCell,"primary+shift+End"),selectToLastColumn:$e(e.selectToLastColumn,"primary+shift+ArrowRight"),selectToLastRow:$e(e.selectToLastRow,"primary+shift+ArrowDown")}}function Lm(e){const t=zf(e);return Ot.useMemo(()=>{var r,i,o,s,l,a,c,u,h,g,p,f;if(t===void 0)return va(nr);const n=G(j({},t),{goToNextPage:(i=(r=t==null?void 0:t.goToNextPage)!=null?r:t==null?void 0:t.pageDown)!=null?i:nr.goToNextPage,goToPreviousPage:(s=(o=t==null?void 0:t.goToPreviousPage)!=null?o:t==null?void 0:t.pageUp)!=null?s:nr.goToPreviousPage,goToFirstCell:(a=(l=t==null?void 0:t.goToFirstCell)!=null?l:t==null?void 0:t.first)!=null?a:nr.goToFirstCell,goToLastCell:(u=(c=t==null?void 0:t.goToLastCell)!=null?c:t==null?void 0:t.last)!=null?u:nr.goToLastCell,selectToFirstCell:(g=(h=t==null?void 0:t.selectToFirstCell)!=null?h:t==null?void 0:t.first)!=null?g:nr.selectToFirstCell,selectToLastCell:(f=(p=t==null?void 0:t.selectToLastCell)!=null?p:t==null?void 0:t.last)!=null?f:nr.selectToLastCell});return va(j(j({},nr),n))},[t])}const Fm=d.lazy(async()=>await Fs(()=>import("./hs8fygn783tukjzj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])));let zm=0;function Hm(e){return Fu(Sl(Sl(e).filter(t=>t.span!==void 0).map(t=>{var n,r,i,o;return br(((r=(n=t.span)==null?void 0:n[0])!=null?r:0)+1,((o=(i=t.span)==null?void 0:i[1])!=null?o:0)+1)})))}function bo(e,t){return e===void 0||t===0||e.columns.length===0&&e.current===void 0?e:{current:e.current===void 0?void 0:{cell:[e.current.cell[0]+t,e.current.cell[1]],range:G(j({},e.current.range),{x:e.current.range.x+t}),rangeStack:e.current.rangeStack.map(n=>G(j({},n),{x:n.x+t}))},rows:e.rows,columns:e.columns.offset(t)}}const ps={kind:ce.Loading,allowOverlay:!1},xo={columns:nt.empty(),rows:nt.empty(),current:void 0},Om=(e,t)=>{var fl,hl,gl,ml,pl;const[n,r]=d.useState(xo),[i,o]=d.useState(),s=d.useRef(null),l=d.useRef(null),[a,c]=d.useState(),u=d.useRef(null),h=d.useRef(),g=typeof window>"u"?null:window,{rowMarkers:p="none",rowMarkerWidth:f,imageEditorOverride:x,getRowThemeOverride:M,markdownDivCreateNode:C,width:b,height:E,columns:T,rows:w,getCellContent:A,onCellClicked:O,onCellActivated:S,onFillPattern:k,onFinishedEditing:L,coercePasteValue:I,drawHeader:v,drawCell:_,onHeaderClicked:R,onColumnProposeMove:y,spanRangeBehavior:z="default",onGroupHeaderClicked:N,onCellContextMenu:V,className:oe,onHeaderContextMenu:re,getCellsForSelection:Y,onGroupHeaderContextMenu:ne,onGroupHeaderRenamed:le,onCellEdited:ke,onCellsEdited:J,onSearchResultsChanged:_e,searchResults:he,onSearchValueChange:ye,searchValue:He,onKeyDown:Ge,onKeyUp:ct,keybindings:Et,onRowAppended:Te,onColumnMoved:de,validateCell:Ve,highlightRegions:ut,rangeSelect:Ue="rect",columnSelect:se="multi",rowSelect:Pe="multi",rangeSelectionBlending:Be="exclusive",columnSelectionBlending:Me="exclusive",rowSelectionBlending:je="exclusive",onDelete:te,onDragStart:Ze,onMouseMove:Se,onPaste:Ie,copyHeaders:ae=!1,freezeColumns:ot=0,cellActivationBehavior:it="second-click",rowSelectionMode:rt="auto",rowMarkerStartIndex:kt=1,rowMarkerTheme:Ke,onHeaderMenuClick:It,getGroupDetails:Lt,onSearchClose:tn,onItemHovered:rn,onSelectionCleared:Kt,showSearch:Pn,onVisibleRegionChanged:St,gridSelection:Yt,onGridSelectionChange:Mt,minColumnWidth:Un=50,maxColumnWidth:lt=500,maxColumnAutoWidth:Qe,provideEditor:cn,trailingRowOptions:Le,freezeTrailingRows:Nt=0,allowedFillDirections:bn="orthogonal",scrollOffsetX:on,scrollOffsetY:Ft,verticalBorder:sn,onDragOverCell:Xn,onDrop:Ye,onColumnResize:Xe,onColumnResizeEnd:pt,onColumnResizeStart:ft,customRenderers:at,fillHandle:Gt,drawFocusRing:qi,experimental:Tt,fixedShadowX:cr,fixedShadowY:ur,headerIcons:Mr,imageWindowLoader:Vi,initialSize:Ki,isDraggable:Rr,onDragLeave:Er,onRowMoved:Mn,overscrollX:qn,overscrollY:No,preventDiagonalScrolling:Yi,rightElement:$o,rightElementProps:Wo,trapFocus:dr=!1,smoothScrollX:Vn,smoothScrollY:Bo,scaleToRem:jo=!1,rowHeight:Gi=34,headerHeight:ei=36,groupHeaderHeight:Tr=ei,theme:Uo,isOutsideClick:Zi,renderers:fr}=e,Hn=Math.max(Un,20),Kn=Math.max(lt,Hn),Yn=Math.max(Qe!=null?Qe:Kn,Hn),Ir=d.useMemo(()=>typeof window>"u"?{fontSize:"16px"}:window.getComputedStyle(document.documentElement),[]).fontSize,gr=d.useMemo(()=>Number.parseFloat(Ir),[Ir]),{rowHeight:Zt,headerHeight:_r,groupHeaderHeight:ti,theme:ni,overscrollX:Xo,overscrollY:qo}=Dm({groupHeaderHeight:Tr,headerHeight:ei,overscrollX:qn,overscrollY:No,remSize:gr,rowHeight:Gi,scaleToRem:jo,theme:Uo}),Rn=Lm(Et),On=f!=null?f:w>1e4?48:w>1e3?44:w>100?36:32,un=p!=="none",B=un?1:0,Wt=Te!==void 0,dn=(Le==null?void 0:Le.sticky)===!0,[Vo,Qi]=d.useState(!1),Ko=Pn!=null?Pn:Vo,ri=d.useCallback(()=>{tn!==void 0?tn():Qi(!1)},[tn]),ii=d.useMemo(()=>Yt===void 0?void 0:bo(Yt,B),[Yt,B]),X=ii!=null?ii:n,ln=d.useRef(new AbortController);d.useEffect(()=>()=>{ln==null||ln.current.abort()},[]);const[$t,Ji]=ym(Y,A,B,ln.current,w),Ar=d.useCallback((m,D,P)=>{if(Ve===void 0)return!0;const $=[m[0]-B,m[1]];return Ve==null?void 0:Ve($,D,P)},[B,Ve]),Gn=d.useRef(Yt),Qt=d.useCallback((m,D)=>{D&&(m=Sm(m,$t,B,z,ln.current)),Mt!==void 0?(Gn.current=bo(m,-B),Mt(Gn.current)):r(m)},[Mt,$t,B,z]),Zn=jr(Xe,d.useCallback((m,D,P,$)=>{Xe==null||Xe(T[P-B],D,P-B,$)},[Xe,B,T])),Pr=jr(pt,d.useCallback((m,D,P,$)=>{pt==null||pt(T[P-B],D,P-B,$)},[pt,B,T])),Yo=jr(ft,d.useCallback((m,D,P,$)=>{ft==null||ft(T[P-B],D,P-B,$)},[ft,B,T])),Dr=jr(v,d.useCallback((m,D)=>{var P;return(P=v==null?void 0:v(G(j({},m),{columnIndex:m.columnIndex-B}),D))!=null?P:!1},[v,B])),Go=jr(_,d.useCallback((m,D)=>{var P;return(P=_==null?void 0:_(G(j({},m),{col:m.col-B}),D))!=null?P:!1},[_,B])),Dn=d.useCallback(m=>{if(te!==void 0){const D=te(bo(m,-B));return typeof D=="boolean"?D:bo(D,B)}return!0},[te,B]),[Bt,jt,At]=pm(X,Qt,Be,Me,je,Ue),qt=d.useMemo(()=>sr(zc(),ni),[ni]),[Lr,eo]=d.useState([0,0,0]),oi=d.useMemo(()=>{if(fr===void 0)return{};const m={};for(const D of fr)m[D.kind]=D;return m},[fr]),Ut=d.useCallback(m=>m.kind!==ce.Custom?oi[m.kind]:at==null?void 0:at.find(D=>D.isMatch(m)),[at,oi]);let{sizedColumns:Jt,nonGrowWidth:si}=Yh(T,w,Ji,Lr[0]-(B===0?0:On)-Lr[2],Hn,Yn,qt,Ut,ln.current);p!=="none"&&(si+=On);const F=d.useMemo(()=>Jt.some(m=>m.group!==void 0),[Jt]),ee=F?_r+ti:_r,xe=X.rows.length,ge=p==="none"?"":xe===0?ic:xe===w?rc:uf,Z=d.useMemo(()=>p==="none"?Jt:[{title:ge,width:On,icon:void 0,hasMenu:!1,style:"normal",themeOverride:Ke},...Jt],[Jt,On,p,ge,Ke]),[ue,Ae]=d.useMemo(()=>[Ft!==void 0&&typeof Zt=="number"?Math.floor(Ft/Zt):0,Ft!==void 0&&typeof Zt=="number"?-(Ft%Zt):0],[Ft,Zt]),ve=d.useRef({height:1,width:1,x:0,y:0}),me=d.useMemo(()=>{var m,D;return{x:ve.current.x,y:ue,width:(m=ve.current.width)!=null?m:1,height:(D=ve.current.height)!=null?D:1,ty:Ae}},[Ae,ue]),ht=d.useRef(!1),[De,We,qe]=Ff(me);ve.current=De;const Oe=((fl=De.height)!=null?fl:1)>1;d.useLayoutEffect(()=>{if(Ft!==void 0&&u.current!==null&&Oe){if(u.current.scrollTop===Ft)return;u.current.scrollTop=Ft,u.current.scrollTop!==Ft&&qe(),ht.current=!0}},[Ft,Oe,qe]);const wt=((hl=De.width)!=null?hl:1)>1;d.useLayoutEffect(()=>{if(on!==void 0&&u.current!==null&&wt){if(u.current.scrollLeft===on)return;u.current.scrollLeft=on,u.current.scrollLeft!==on&&qe(),ht.current=!0}},[on,wt,qe]);const zt=De.x+B,en=De.y,et=d.useRef(null),Ct=d.useCallback(m=>{var D;m===!0?(D=et.current)==null||D.focus():window.requestAnimationFrame(()=>{var P;(P=et.current)==null||P.focus()})},[]),vt=Wt?w+1:w,Pt=d.useCallback(m=>{const D=B===0?m:m.map($=>G(j({},$),{location:[$.location[0]-B,$.location[1]]})),P=J==null?void 0:J(D);if(P!==!0)for(const $ of D)ke==null||ke($.location,$.value);return P},[ke,J,B]),[fn,st]=d.useState(),hn=X.current!==void 0&&X.current.range.width*X.current.range.height>1?X.current.range:void 0,xn=d.useMemo(()=>{if((ut===void 0||ut.length===0)&&hn===void 0&&fn===void 0)return;const m=[];if(ut!==void 0)for(const D of ut){const P=Z.length-D.range.x-B;P>0&&m.push({color:D.color,range:G(j({},D.range),{x:D.range.x+B,width:Math.min(P,D.range.width)}),style:D.style})}return fn!==void 0&&m.push({color:Zr(qt.accentColor,0),range:fn,style:"dashed"}),hn!==void 0&&m.push({color:Zr(qt.accentColor,.5),range:hn,style:"solid-outline"}),m.length>0?m:void 0},[fn,hn,ut,Z.length,qt.accentColor,B]),Qn=d.useRef(Z);Qn.current=Z;const _t=d.useCallback(([m,D],P=!1)=>{var q,U,K,Q,ie,fe,Ce,Ee,we,Re;const $=Wt&&D===vt-1;if(m===0&&un)return $?ps:{kind:Sn.Marker,allowOverlay:!1,checked:(X==null?void 0:X.rows.hasIndex(D))===!0,markerKind:p==="clickable-number"?"number":p,row:kt+D,drawHandle:Mn!==void 0,cursor:p==="clickable-number"?"pointer":void 0};if($){const Je=m===B&&(q=Le==null?void 0:Le.hint)!=null?q:"",be=Qn.current[m];if(((U=be==null?void 0:be.trailingRowOptions)==null?void 0:U.disabled)===!0)return ps;{const Fe=(Q=(K=be==null?void 0:be.trailingRowOptions)==null?void 0:K.hint)!=null?Q:Je,tt=(fe=(ie=be==null?void 0:be.trailingRowOptions)==null?void 0:ie.addIcon)!=null?fe:Le==null?void 0:Le.addIcon;return{kind:Sn.NewRow,hint:Fe,allowOverlay:!1,icon:tt}}}else{const ze=m-B;if(P||(Tt==null?void 0:Tt.strict)===!0){const be=ve.current,Fe=be.x>ze||ze>be.x+be.width||be.y>D||D>be.y+be.height||D>=Zo.current,tt=ze===((Ee=(Ce=be.extras)==null?void 0:Ce.selected)==null?void 0:Ee[0])&&D===((we=be.extras)==null?void 0:we.selected[1]);let bt=!1;if(((Re=be.extras)==null?void 0:Re.freezeRegions)!==void 0){for(const yt of be.extras.freezeRegions)if(Ho(yt,ze,D)){bt=!0;break}}if(Fe&&!tt&&!bt)return ps}let Je=A([ze,D]);return B!==0&&Je.span!==void 0&&(Je=G(j({},Je),{span:[Je.span[0]+B,Je.span[1]+B]})),Je}},[Wt,vt,un,X==null?void 0:X.rows,Mn,p,B,Le==null?void 0:Le.hint,Le==null?void 0:Le.addIcon,Tt==null?void 0:Tt.strict,A,kt]),mr=d.useCallback(m=>{var P,$;let D=(P=Lt==null?void 0:Lt(m))!=null?P:{name:m};return le!==void 0&&m!==""&&(D={icon:D.icon,name:D.name,overrideTheme:D.overrideTheme,actions:[...($=D.actions)!=null?$:[],{title:"Rename",icon:"renameIcon",onClick:W=>Jo({group:D.name,bounds:W.bounds})}]}),D},[Lt,le]),Ln=d.useCallback(m=>{var K;const[D,P]=m.cell,$=Z[D],W=($==null?void 0:$.group)!==void 0?(K=mr($.group))==null?void 0:K.overrideTheme:void 0,q=$==null?void 0:$.themeOverride,U=M==null?void 0:M(P);o(G(j({},m),{theme:sr(qt,W,q,U,m.content.themeOverride)}))},[M,Z,mr,qt]),Fr=d.useCallback((m,D,P)=>{var U;if(X.current===void 0)return;const[$,W]=X.current.cell,q=_t([$,W]);if(q.kind!==ce.Boolean&&q.allowOverlay){let K=q;if(P!==void 0)switch(K.kind){case ce.Number:{const Q=of(()=>P==="-"?-0:Number.parseFloat(P),0);K=G(j({},K),{data:Number.isNaN(Q)?0:Q});break}case ce.Text:case ce.Markdown:case ce.Uri:K=G(j({},K),{data:P});break}Ln({target:m,content:K,initialValue:P,cell:[$,W],highlight:P===void 0,forceEditMode:P!==void 0})}else q.kind===ce.Boolean&&D&&q.readonly!==!0&&(Pt([{location:X.current.cell,value:G(j({},q),{data:Kc(q.data)})}]),(U=et.current)==null||U.damage([{cell:X.current.cell}]))},[_t,X,Pt,Ln]),el=d.useCallback((m,D)=>{var W;const P=(W=et.current)==null?void 0:W.getBounds(m,D);if(P===void 0||u.current===null)return;const $=_t([m,D]);$.allowOverlay&&Ln({target:P,content:$,initialValue:void 0,highlight:!0,cell:[m,D],forceEditMode:!0})},[_t,Ln]),Dt=d.useCallback((m,D,P="both",$=0,W=0,q=void 0)=>{var U;if(u.current!==null){const K=et.current,Q=l.current,ie=typeof m!="number"?m.unit==="cell"?m.amount:void 0:m,fe=typeof D!="number"?D.unit==="cell"?D.amount:void 0:D,Ce=typeof m!="number"&&m.unit==="px"?m.amount:void 0,Ee=typeof D!="number"&&D.unit==="px"?D.amount:void 0;if(K!==null&&Q!==null){let we={x:0,y:0,width:0,height:0},Re=0,ze=0;if((ie!==void 0||fe!==void 0)&&(we=(U=K.getBounds((ie!=null?ie:0)+B,fe!=null?fe:0))!=null?U:we,we.width===0||we.height===0))return;const Je=Q.getBoundingClientRect(),be=Je.width/Q.offsetWidth;if(Ce!==void 0&&(we=G(j({},we),{x:Ce-Je.left-u.current.scrollLeft,width:1})),Ee!==void 0&&(we=G(j({},we),{y:Ee+Je.top-u.current.scrollTop,height:1})),we!==void 0){const Fe={x:we.x-$,y:we.y-W,width:we.width+2*$,height:we.height+2*W};let tt=0;for(let os=0;os<ot;os++)tt+=Jt[os].width;let bt=0;const yt=Nt+(dn?1:0);yt>0&&(bt=Jr(vt,yt,Zt));let gt=tt*be+Je.left+B*On*be,Rt=Je.right,Tn=Je.top+ee*be,Nn=Je.bottom-bt*be;const $r=we.width+$*2;switch(q==null?void 0:q.hAlign){case"start":Rt=gt+$r;break;case"end":gt=Rt-$r;break;case"center":gt=Math.floor((gt+Rt)/2)-$r/2,Rt=gt+$r;break}const wr=we.height+W*2;switch(q==null?void 0:q.vAlign){case"start":Nn=Tn+wr;break;case"end":Tn=Nn-wr;break;case"center":Tn=Math.floor((Tn+Nn)/2)-wr/2,Nn=Tn+wr;break}gt>Fe.x?Re=Fe.x-gt:Rt<Fe.x+Fe.width&&(Re=Fe.x+Fe.width-Rt),Tn>Fe.y?ze=Fe.y-Tn:Nn<Fe.y+Fe.height&&(ze=Fe.y+Fe.height-Nn),P==="vertical"||typeof m=="number"&&m<ot?Re=0:(P==="horizontal"||typeof D=="number"&&D>=vt-yt)&&(ze=0),(Re!==0||ze!==0)&&(be!==1&&(Re/=be,ze/=be),u.current.scrollTo(Re+u.current.scrollLeft,ze+u.current.scrollTop))}}}},[B,Nt,On,ee,ot,Jt,vt,dn,Zt]),tl=d.useRef(el),nl=d.useRef(A),Zo=d.useRef(w);tl.current=el,nl.current=A,Zo.current=w;const zr=d.useCallback(async(m,D=!0)=>{var Q;const P=Z[m];if(((Q=P==null?void 0:P.trailingRowOptions)==null?void 0:Q.disabled)===!0)return;const $=Te==null?void 0:Te();let W,q=!0;$!==void 0&&(W=await $,W==="top"&&(q=!1),typeof W=="number"&&(q=!1));let U=0;const K=()=>{if(Zo.current<=w){U<500&&window.setTimeout(K,U),U=50+U*2;return}const ie=typeof W=="number"?W:q?w:0;oo.current(m-B,ie),Bt({cell:[m,ie],range:{x:m,y:ie,width:1,height:1}},!1,!1,"edit");const fe=nl.current([m-B,ie]);fe.allowOverlay&&Mi(fe)&&fe.readonly!==!0&&D&&window.setTimeout(()=>{tl.current(m,ie)},0)};K()},[Z,Te,B,w,Bt]),to=d.useCallback(m=>{var P,$,W;const D=(W=($=(P=Jt[m])==null?void 0:P.trailingRowOptions)==null?void 0:$.targetColumn)!=null?W:Le==null?void 0:Le.targetColumn;if(typeof D=="number")return D+(un?1:0);if(typeof D=="object"){const q=T.indexOf(D);if(q>=0)return q+(un?1:0)}},[Jt,T,un,Le==null?void 0:Le.targetColumn]),Jn=d.useRef(),Hr=d.useRef(),li=d.useCallback((m,D)=>{var W;const[P,$]=D;return sr(qt,(W=Z[P])==null?void 0:W.themeOverride,M==null?void 0:M($),m.themeOverride)},[M,Z,qt]),ai=d.useCallback(m=>{var fe,Ce,Ee,we;const D=Ao.value?m.metaKey:m.ctrlKey,P=D&&Pe==="multi",$=D&&se==="multi",[W,q]=m.location,U=X.columns,K=X.rows,[Q,ie]=(Ce=(fe=X.current)==null?void 0:fe.cell)!=null?Ce:[];if(m.kind==="cell"){if(Hr.current=void 0,pr.current=[W,q],W===0&&un){if(Wt===!0&&q===w||p==="number"||Pe==="none")return;const Re=_t(m.location);if(Re.kind!==Sn.Marker)return;if(Mn!==void 0){const be=Ut(Re);yn((be==null?void 0:be.kind)===Sn.Marker);const Fe=(Ee=be==null?void 0:be.onClick)==null?void 0:Ee.call(be,G(j({},m),{cell:Re,posX:m.localEventX,posY:m.localEventY,bounds:m.bounds,theme:li(Re,m.location),preventDefault:()=>{}}));if(Fe===void 0||Fe.checked===Re.checked)return}o(void 0),Ct();const ze=K.hasIndex(q),Je=Jn.current;if(Pe==="multi"&&(m.shiftKey||m.isLongTouch===!0)&&Je!==void 0&&K.hasIndex(Je)){const be=[Math.min(Je,q),Math.max(Je,q)+1];P||rt==="multi"?jt(void 0,be,!0):jt(nt.fromSingleSelection(be),void 0,P)}else P||m.isTouch||rt==="multi"?ze?jt(K.remove(q),void 0,!0):(jt(void 0,q,!0),Jn.current=q):ze&&K.length===1?jt(nt.empty(),void 0,D):(jt(nt.fromSingleSelection(q),void 0,D),Jn.current=q)}else if(W>=B&&Wt&&q===w){const Re=to(W);zr(Re!=null?Re:W)}else if(Q!==W||ie!==q){const Re=_t(m.location),ze=Ut(Re);if((ze==null?void 0:ze.onSelect)!==void 0){let Fe=!1;if(ze.onSelect(G(j({},m),{cell:Re,posX:m.localEventX,posY:m.localEventY,bounds:m.bounds,preventDefault:()=>Fe=!0,theme:li(Re,m.location)})),Fe)return}const Je=dn&&q===w,be=dn&&X!==void 0&&((we=X.current)==null?void 0:we.cell[1])===w;if((m.shiftKey||m.isLongTouch===!0)&&Q!==void 0&&ie!==void 0&&X.current!==void 0&&!be){if(Je)return;const Fe=Math.min(W,Q),tt=Math.max(W,Q),bt=Math.min(q,ie),yt=Math.max(q,ie);Bt(G(j({},X.current),{range:{x:Fe,y:bt,width:tt-Fe+1,height:yt-bt+1}}),!0,D,"click"),Jn.current=void 0,Ct()}else Bt({cell:[W,q],range:{x:W,y:q,width:1,height:1}},!0,D,"click"),Jn.current=void 0,o(void 0),Ct()}}else if(m.kind==="header")if(pr.current=[W,q],o(void 0),un&&W===0)Jn.current=void 0,Hr.current=void 0,Pe==="multi"&&(K.length!==w?jt(nt.fromSingleSelection([0,w]),void 0,D):jt(nt.empty(),void 0,D),Ct());else{const Re=Hr.current;if(se==="multi"&&(m.shiftKey||m.isLongTouch===!0)&&Re!==void 0&&U.hasIndex(Re)){const ze=[Math.min(Re,W),Math.max(Re,W)+1];$?At(void 0,ze,D):At(nt.fromSingleSelection(ze),void 0,D)}else $?(U.hasIndex(W)?At(U.remove(W),void 0,D):At(void 0,W,D),Hr.current=W):se!=="none"&&(At(nt.fromSingleSelection(W),void 0,D),Hr.current=W);Jn.current=void 0,Ct()}else m.kind===pn?pr.current=[W,q]:m.kind===Po&&!m.isMaybeScrollbar&&(Qt(xo,!1),o(void 0),Ct(),Kt==null||Kt(),Jn.current=void 0,Hr.current=void 0)},[zr,se,Ct,Ut,to,_t,X,un,dn,Kt,Mn,B,p,Pe,rt,w,Bt,Qt,At,jt,Wt,li]),ci=d.useRef(!1),pr=d.useRef(),rl=d.useRef(De),kn=d.useRef(),eu=d.useCallback(m=>{if(Or.current=!1,rl.current=ve.current,m.button!==0&&m.button!==1){kn.current=void 0;return}const D=performance.now();kn.current={button:m.button,time:D,location:m.location},(m==null?void 0:m.kind)==="header"&&(ci.current=!0);const P=m.kind==="cell"&&m.isFillHandle;!P&&m.kind!=="cell"&&m.isEdge||(c({previousSelection:X,fillHandle:P}),pr.current=void 0,!m.isTouch&&m.button===0&&!P?ai(m):!m.isTouch&&m.button===1&&(pr.current=m.location))},[X,ai]),[Qo,Jo]=d.useState(),il=d.useCallback(m=>{if(m.kind!==pn||se!=="multi")return;const D=Ao.value?m.metaKey:m.ctrlKey,[P]=m.location,$=X.columns;if(P<B)return;const W=Z[P];let q=P,U=P;for(let K=P-1;K>=B&&Ni(W.group,Z[K].group);K--)q--;for(let K=P+1;K<Z.length&&Ni(W.group,Z[K].group);K++)U++;if(Ct(),D)if($.hasAll([q,U+1])){let K=$;for(let Q=q;Q<=U;Q++)K=K.remove(Q);At(K,void 0,D)}else At(void 0,[q,U+1],D);else At(nt.fromSingleSelection([q,U+1]),void 0,D)},[se,Ct,X.columns,Z,B,At]),Or=d.useRef(!1),no=d.useCallback(async m=>{if($t!==void 0&&Zn!==void 0){const D=ve.current.y,P=ve.current.height;let $=$t({x:m,y:D,width:1,height:Math.min(P,w-D)},ln.current.signal);typeof $!="object"&&($=await $());const W=Jt[m-B],U=document.createElement("canvas").getContext("2d",{alpha:!1});if(U!==null){U.font=qt.baseFontFull;const K=Hc(U,qt,W,0,$,Hn,Kn,!1,Ut);Zn==null||Zn(W,K.width,m,K.width)}}},[Jt,$t,Kn,qt,Hn,Zn,B,w,Ut]),[tu,es]=d.useState(),Nr=d.useCallback(async(m,D)=>{var K,Q;const P=(K=m.current)==null?void 0:K.range;if(P===void 0||$t===void 0||D.current===void 0)return;const $=D.current.range;if(k!==void 0){let ie=!1;if(k({fillDestination:G(j({},$),{x:$.x-B}),patternSource:G(j({},P),{x:P.x-B}),preventDefault:()=>ie=!0}),ie)return}let W=$t(P,ln.current.signal);typeof W!="object"&&(W=await W());const q=W,U=[];for(let ie=0;ie<$.width;ie++)for(let fe=0;fe<$.height;fe++){const Ce=[$.x+ie,$.y+fe];if(Ec(Ce,P))continue;const Ee=q[fe%P.height][ie%P.width];Vr(Ee)||!Mi(Ee)||U.push({location:Ce,value:j({},Ee)})}Pt(U),(Q=et.current)==null||Q.damage(U.map(ie=>({cell:ie.location})))},[$t,Pt,k,B]),ol=d.useCallback(()=>{if(X.current===void 0||X.current.range.width<=1)return;const m=G(j({},X),{current:G(j({},X.current),{range:G(j({},X.current.range),{width:1})})});Nr(m,X)},[Nr,X]),sl=d.useCallback(()=>{if(X.current===void 0||X.current.range.height<=1)return;const m=G(j({},X),{current:G(j({},X.current),{range:G(j({},X.current.range),{height:1})})});Nr(m,X)},[Nr,X]),nu=d.useCallback((m,D)=>{var fe,Ce,Ee;const P=a;if(c(void 0),st(void 0),es(void 0),ci.current=!1,D)return;if((P==null?void 0:P.fillHandle)===!0&&X.current!==void 0&&((fe=P.previousSelection)==null?void 0:fe.current)!==void 0){if(fn===void 0)return;const we=G(j({},X),{current:G(j({},X.current),{range:Nc(P.previousSelection.current.range,fn)})});Nr(P.previousSelection,we),Qt(we,!0);return}const[$,W]=m.location,[q,U]=(Ce=pr.current)!=null?Ce:[],K=()=>{Or.current=!0},Q=we=>{var ze,Je,be;const Re=we.isTouch||q===$&&U===W;if(Re&&(O==null||O([$-B,W],G(j({},we),{preventDefault:K}))),we.button===1)return!Or.current;if(!Or.current){const Fe=_t(m.location),tt=Ut(Fe);if(tt!==void 0&&tt.onClick!==void 0&&Re){const yt=tt.onClick(G(j({},we),{cell:Fe,posX:we.localEventX,posY:we.localEventY,bounds:we.bounds,theme:li(Fe,m.location),preventDefault:K}));yt!==void 0&&!Vr(yt)&&Xr(yt)&&(Pt([{location:we.location,value:yt}]),(ze=et.current)==null||ze.damage([{cell:we.location}]))}if(Or.current||X.current===void 0)return!1;let bt=!1;switch(it){case"double-click":case"second-click":{if(((be=(Je=P==null?void 0:P.previousSelection)==null?void 0:Je.current)==null?void 0:be.cell)===void 0)break;const[yt,gt]=X.current.cell,[Rt,Tn]=P.previousSelection.current.cell;bt=$===yt&&$===Rt&&W===gt&&W===Tn&&(we.isDoubleClick===!0||it==="second-click");break}case"single-click":{bt=!0;break}}if(bt)return S==null||S([$-B,W]),Fr(we.bounds,!1),!0}return!1},ie=m.location[0]-B;if(m.isTouch){const we=ve.current,Re=rl.current;if(we.x!==Re.x||we.y!==Re.y)return;if(m.isLongTouch===!0){if(m.kind==="cell"&&Li((Ee=X.current)==null?void 0:Ee.cell,m.location)){V==null||V([ie,m.location[1]],G(j({},m),{preventDefault:K}));return}else if(m.kind==="header"&&X.columns.hasIndex($)){re==null||re(ie,G(j({},m),{preventDefault:K}));return}else if(m.kind===pn){if(ie<0)return;ne==null||ne(ie,G(j({},m),{preventDefault:K}));return}}m.kind==="cell"?Q(m)||ai(m):m.kind===pn?N==null||N(ie,G(j({},m),{preventDefault:K})):(m.kind===rr&&(R==null||R(ie,G(j({},m),{preventDefault:K}))),ai(m));return}if(m.kind==="header"){if(ie<0)return;m.isEdge?m.isDoubleClick===!0&&no($):m.button===0&&$===q&&W===U&&(R==null||R(ie,G(j({},m),{preventDefault:K})))}if(m.kind===pn){if(ie<0)return;m.button===0&&$===q&&W===U&&(N==null||N(ie,G(j({},m),{preventDefault:K})),Or.current||il(m))}m.kind==="cell"&&(m.button===0||m.button===1)&&Q(m),pr.current=void 0},[a,X,B,fn,Nr,Qt,O,_t,Ut,it,li,Pt,S,Fr,V,re,ne,ai,N,R,no,il]),ru=d.useCallback(m=>{const D=G(j({},m),{location:[m.location[0]-B,m.location[1]]});Se==null||Se(D),a!==void 0&&m.buttons===0&&(c(void 0),st(void 0),es(void 0),ci.current=!1),es(P=>{var $,W;return ci.current?[m.scrollEdge[0],0]:m.scrollEdge[0]===(P==null?void 0:P[0])&&m.scrollEdge[1]===P[1]?P:a===void 0||((W=($=kn.current)==null?void 0:$.location[0])!=null?W:0)<B?void 0:m.scrollEdge})},[a,Se,B]),iu=d.useCallback((m,D)=>{It==null||It(m-B,D)},[It,B]),Cn=(gl=X==null?void 0:X.current)==null?void 0:gl.cell,ou=d.useCallback((m,D,P,$,W,q)=>{ht.current=!1;let U=Cn;U!==void 0&&(U=[U[0]-B,U[1]]);const K=ot===0?void 0:{x:0,y:m.y,width:ot,height:m.height},Q=[];K!==void 0&&Q.push(K),Nt>0&&(Q.push({x:m.x-B,y:w-Nt,width:m.width,height:Nt}),ot>0&&Q.push({x:0,y:w-Nt,width:ot,height:Nt}));const ie={x:m.x-B,y:m.y,width:m.width,height:Wt&&m.y+m.height>=w?m.height-1:m.height,tx:W,ty:q,extras:{selected:U,freezeRegion:K,freezeRegions:Q}};ve.current=ie,We(ie),eo([D,P,$]),St==null||St(ie,ie.tx,ie.ty,ie.extras)},[Cn,B,Wt,w,ot,Nt,We,St]),su=jr(de,d.useCallback((m,D)=>{de==null||de(m-B,D-B),se!=="none"&&At(nt.fromSingleSelection(D),void 0,!0)},[se,de,B,At])),ts=d.useRef(!1),lu=d.useCallback(m=>{if(m.location[0]===0&&B>0){m.preventDefault();return}Ze==null||Ze(G(j({},m),{location:[m.location[0]-B,m.location[1]]})),m.defaultPrevented()||(ts.current=!0),c(void 0)},[Ze,B]),au=d.useCallback(()=>{ts.current=!1},[]),ns=d.useRef(),rs=d.useCallback(m=>{var D,P,$;if(!qc(m,ns.current)&&(ns.current=m,!(((D=kn==null?void 0:kn.current)==null?void 0:D.button)!==void 0&&kn.current.button>=1))){if(m.buttons!==0&&a!==void 0&&((P=kn.current)==null?void 0:P.location[0])===0&&m.location[0]===0&&B===1&&Pe==="multi"&&a.previousSelection&&!a.previousSelection.rows.hasIndex(kn.current.location[1])&&X.rows.hasIndex(kn.current.location[1])){const W=Math.min(kn.current.location[1],m.location[1]),q=Math.max(kn.current.location[1],m.location[1])+1;jt(nt.fromSingleSelection([W,q]),void 0,!1)}if(m.buttons!==0&&a!==void 0&&X.current!==void 0&&!ts.current&&!ci.current&&(Ue==="rect"||Ue==="multi-rect")){const[W,q]=X.current.cell;let[U,K]=m.location;if(K<0&&(K=ve.current.y),a.fillHandle===!0&&(($=a.previousSelection)==null?void 0:$.current)!==void 0){const Q=a.previousSelection.current.range;K=Math.min(K,dn?w-1:w);const ie=Eg(Q,U,K,bn);st(ie)}else{if(dn&&q===w)return;if(dn&&K===w)if(m.kind===Po)K--;else return;U=Math.max(U,B);const fe=U-W,Ce=K-q,Ee={x:fe>=0?W:U,y:Ce>=0?q:K,width:Math.abs(fe)+1,height:Math.abs(Ce)+1};Bt(G(j({},X.current),{range:Ee}),!0,!1,"drag")}}rn==null||rn(G(j({},m),{location:[m.location[0]-B,m.location[1]]}))}},[bn,a,B,Pe,X,Ue,rn,jt,dn,w,Bt]),cu=d.useCallback(()=>{var U,K,Q;const m=ns.current;if(m===void 0)return;const[D,P]=m.scrollEdge;let[$,W]=m.location;const q=ve.current;D===-1?$=(Q=(K=(U=q.extras)==null?void 0:U.freezeRegion)==null?void 0:K.x)!=null?Q:q.x:D===1&&($=q.x+q.width),P===-1?W=Math.max(0,q.y):P===1&&(W=Math.min(w-1,q.y+q.height)),$=_n($,0,Z.length-1),W=_n(W,0,w-1),rs(G(j({},m),{location:[$,W]}))},[Z.length,rs,w]);Pm(tu,u,cu);const En=d.useCallback(m=>{if(X.current===void 0)return;const[D,P]=m,[$,W]=X.current.cell,q=X.current.range;let U=q.x,K=q.x+q.width,Q=q.y,ie=q.y+q.height;if(P!==0)switch(P){case 2:{ie=w,Q=W,Dt(0,ie,"vertical");break}case-2:{Q=0,ie=W+1,Dt(0,Q,"vertical");break}case 1:{Q<W?(Q++,Dt(0,Q,"vertical")):(ie=Math.min(w,ie+1),Dt(0,ie,"vertical"));break}case-1:{ie>W+1?(ie--,Dt(0,ie,"vertical")):(Q=Math.max(0,Q-1),Dt(0,Q,"vertical"));break}default:Oi()}if(D!==0)if(D===2)K=Z.length,U=$,Dt(K-1-B,0,"horizontal");else if(D===-2)U=B,K=$+1,Dt(U-B,0,"horizontal");else{let fe=[];if($t!==void 0){const Ce=$t({x:U,y:Q,width:K-U-B,height:ie-Q},ln.current.signal);typeof Ce=="object"&&(fe=Hm(Ce))}if(D===1){let Ce=!1;if(U<$){if(fe.length>0){const Ee=br(U+1,$+1).find(we=>!fe.includes(we-B));Ee!==void 0&&(U=Ee,Ce=!0)}else U++,Ce=!0;Ce&&Dt(U,0,"horizontal")}Ce||(K=Math.min(Z.length,K+1),Dt(K-1-B,0,"horizontal"))}else if(D===-1){let Ce=!1;if(K>$+1){if(fe.length>0){const Ee=br(K-1,$,-1).find(we=>!fe.includes(we-B));Ee!==void 0&&(K=Ee,Ce=!0)}else K--,Ce=!0;Ce&&Dt(K-B,0,"horizontal")}Ce||(U=Math.max(B,U-1),Dt(U-B,0,"horizontal"))}else Oi()}Bt({cell:X.current.cell,range:{x:U,y:Q,width:K-U,height:ie-Q}},!0,!1,"keyboard-select")},[$t,X,Z.length,B,w,Dt,Bt]),er=d.useCallback((m,D,P,$)=>{const W=vt-(P?0:1);if(m=_n(m,B,Jt.length-1+B),D=_n(D,0,W),m===(Cn==null?void 0:Cn[0])&&D===(Cn==null?void 0:Cn[1]))return!1;if($&&X.current!==void 0){const q=[...X.current.rangeStack];(X.current.range.width>1||X.current.range.height>1)&&q.push(X.current.range),Qt(G(j({},X),{current:{cell:[m,D],range:{x:m,y:D,width:1,height:1},rangeStack:q}}),!0)}else Bt({cell:[m,D],range:{x:m,y:D,width:1,height:1}},!0,!1,"keyboard-nav");return h.current!==void 0&&h.current[0]===m&&h.current[1]===D&&(h.current=void 0),Dt(m-B,D),!0},[vt,B,Jt.length,Cn,X,Dt,Qt,Bt]),uu=d.useCallback((m,D)=>{(i==null?void 0:i.cell)!==void 0&&m!==void 0&&Xr(m)&&(Pt([{location:i.cell,value:m}]),window.requestAnimationFrame(()=>{var W;(W=et.current)==null||W.damage([{cell:i.cell}])})),Ct(!0),o(void 0);const[P,$]=D;if(X.current!==void 0&&(P!==0||$!==0)){const W=X.current.cell[1]===vt-1&&m!==void 0;er(_n(X.current.cell[0]+P,0,Z.length-1),_n(X.current.cell[1]+$,0,vt-1),W,!1)}L==null||L(m,D)},[i==null?void 0:i.cell,Ct,X,L,Pt,vt,er,Z.length]),du=d.useMemo(()=>"gdg-overlay-".concat(zm++),[]),yr=d.useCallback(m=>{var P,$,W,q;Ct();const D=[];for(let U=m.x;U<m.x+m.width;U++)for(let K=m.y;K<m.y+m.height;K++){const Q=A([U-B,K]);if(!Q.allowOverlay&&Q.kind!==ce.Boolean)continue;let ie;if(Q.kind===ce.Custom){const fe=Ut(Q),Ce=(P=fe==null?void 0:fe.provideEditor)==null?void 0:P.call(fe,Q);(fe==null?void 0:fe.onDelete)!==void 0?ie=fe.onDelete(Q):df(Ce)&&(ie=($=Ce==null?void 0:Ce.deletedValue)==null?void 0:$.call(Ce,Q))}else if(Xr(Q)&&Q.allowOverlay||Q.kind===ce.Boolean){const fe=Ut(Q);ie=(W=fe==null?void 0:fe.onDelete)==null?void 0:W.call(fe,Q)}ie!==void 0&&!Vr(ie)&&Xr(ie)&&D.push({location:[U,K],value:ie})}Pt(D),(q=et.current)==null||q.damage(D.map(U=>({cell:U.location})))},[Ct,A,Ut,Pt,B]),ui=i!==void 0,ll=d.useCallback(m=>{var we,Re,ze,Je;const D=()=>{m.stopPropagation(),m.preventDefault()},P={didMatch:!1},{bounds:$}=m,W=X.columns,q=X.rows,U=Rn;if(!ui&&Ne(U.clear,m,P))Qt(xo,!1),Kt==null||Kt();else if(!ui&&Ne(U.selectAll,m,P))Qt({columns:nt.empty(),rows:nt.empty(),current:{cell:(Re=(we=X.current)==null?void 0:we.cell)!=null?Re:[B,0],range:{x:B,y:0,width:T.length,height:w},rangeStack:[]}},!1);else if(Ne(U.search,m,P))(ze=s==null?void 0:s.current)==null||ze.focus({preventScroll:!0}),Qi(!0);else if(Ne(U.delete,m,P)){const be=(Je=Dn==null?void 0:Dn(X))!=null?Je:!0;if(be!==!1){const Fe=be===!0?X:be;if(Fe.current!==void 0){yr(Fe.current.range);for(const tt of Fe.current.rangeStack)yr(tt)}for(const tt of Fe.rows)yr({x:B,y:tt,width:T.length,height:1});for(const tt of Fe.columns)yr({x:tt,y:0,width:1,height:w})}}if(P.didMatch)return D(),!0;if(X.current===void 0)return!1;let[K,Q]=X.current.cell,ie=!1,fe=!1;Ne(U.scrollToSelectedCell,m,P)?oo.current(K-B,Q):se!=="none"&&Ne(U.selectColumn,m,P)?W.hasIndex(K)?At(W.remove(K),void 0,!0):se==="single"?At(nt.fromSingleSelection(K),void 0,!0):At(void 0,K,!0):Pe!=="none"&&Ne(U.selectRow,m,P)?q.hasIndex(Q)?jt(q.remove(Q),void 0,!0):Pe==="single"?jt(nt.fromSingleSelection(Q),void 0,!0):jt(void 0,Q,!0):!ui&&$!==void 0&&Ne(U.activateCell,m,P)?Q===w&&Wt?window.setTimeout(()=>{const be=to(K);zr(be!=null?be:K)},0):(S==null||S([K-B,Q]),Fr($,!0)):X.current.range.height>1&&Ne(U.downFill,m,P)?sl():X.current.range.width>1&&Ne(U.rightFill,m,P)?ol():Ne(U.goToNextPage,m,P)?Q+=Math.max(1,ve.current.height-4):Ne(U.goToPreviousPage,m,P)?Q-=Math.max(1,ve.current.height-4):Ne(U.goToFirstCell,m,P)?(o(void 0),Q=0,K=0):Ne(U.goToLastCell,m,P)?(o(void 0),Q=Number.MAX_SAFE_INTEGER,K=Number.MAX_SAFE_INTEGER):Ne(U.selectToFirstCell,m,P)?(o(void 0),En([-2,-2])):Ne(U.selectToLastCell,m,P)?(o(void 0),En([2,2])):ui?(Ne(U.closeOverlay,m,P)&&o(void 0),Ne(U.acceptOverlayDown,m,P)&&(o(void 0),Q++),Ne(U.acceptOverlayUp,m,P)&&(o(void 0),Q--),Ne(U.acceptOverlayLeft,m,P)&&(o(void 0),K--),Ne(U.acceptOverlayRight,m,P)&&(o(void 0),K++)):(Ne(U.goDownCell,m,P)?Q+=1:Ne(U.goUpCell,m,P)?Q-=1:Ne(U.goRightCell,m,P)?K+=1:Ne(U.goLeftCell,m,P)?K-=1:Ne(U.goDownCellRetainSelection,m,P)?(Q+=1,ie=!0):Ne(U.goUpCellRetainSelection,m,P)?(Q-=1,ie=!0):Ne(U.goRightCellRetainSelection,m,P)?(K+=1,ie=!0):Ne(U.goLeftCellRetainSelection,m,P)?(K-=1,ie=!0):Ne(U.goToLastRow,m,P)?Q=w-1:Ne(U.goToFirstRow,m,P)?Q=Number.MIN_SAFE_INTEGER:Ne(U.goToLastColumn,m,P)?K=Number.MAX_SAFE_INTEGER:Ne(U.goToFirstColumn,m,P)?K=Number.MIN_SAFE_INTEGER:(Ue==="rect"||Ue==="multi-rect")&&(Ne(U.selectGrowDown,m,P)?En([0,1]):Ne(U.selectGrowUp,m,P)?En([0,-1]):Ne(U.selectGrowRight,m,P)?En([1,0]):Ne(U.selectGrowLeft,m,P)?En([-1,0]):Ne(U.selectToLastRow,m,P)?En([0,2]):Ne(U.selectToFirstRow,m,P)?En([0,-2]):Ne(U.selectToLastColumn,m,P)?En([2,0]):Ne(U.selectToFirstColumn,m,P)&&En([-2,0])),fe=P.didMatch);const Ce=er(K,Q,!1,ie),Ee=P.didMatch;return Ee&&(Ce||!fe||dr)&&D(),Ee},[ui,X,Rn,se,Pe,Ue,B,w,er,Qt,Kt,T.length,Dn,dr,yr,At,jt,Wt,to,zr,S,Fr,sl,ol,En]),di=d.useCallback(m=>{let D=!1;if(Ge!==void 0&&Ge(G(j({},m),{cancel:()=>{D=!0}})),D||ll(m)||X.current===void 0)return;const[P,$]=X.current.cell,W=ve.current;if(!m.metaKey&&!m.ctrlKey&&X.current!==void 0&&m.key.length===1&&/[ -~]/g.test(m.key)&&m.bounds!==void 0&&Mi(A([P-B,Math.max(0,Math.min($,w-1))]))){if((!dn||$!==w)&&(W.y>$||$>W.y+W.height||W.x>P||P>W.x+W.width))return;Fr(m.bounds,!0,m.key),m.stopPropagation(),m.preventDefault()}},[Ge,ll,X,A,B,w,dn,Fr]),fu=d.useCallback((m,D)=>{const P=m.location[0]-B;if(m.kind==="header"&&(re==null||re(P,G(j({},m),{preventDefault:D}))),m.kind===pn){if(P<0)return;ne==null||ne(P,G(j({},m),{preventDefault:D}))}if(m.kind==="cell"){const[$,W]=m.location;V==null||V([P,W],G(j({},m),{preventDefault:D})),Ah(X,m.location)||er($,W,!1,!1)}},[X,V,ne,re,B,er]),is=d.useCallback(async m=>{var U,K,Q,ie,fe,Ce;if(!Rn.paste)return;function D(Ee,we,Re,ze){var be,Fe,tt,bt;const Je=typeof Re=="object"?(be=Re==null?void 0:Re.join("\n"))!=null?be:"":(Fe=Re==null?void 0:Re.toString())!=null?Fe:"";if(!Vr(Ee)&&Mi(Ee)&&Ee.readonly!==!0){const yt=I==null?void 0:I(Je,Ee);if(yt!==void 0&&Xr(yt))return{location:we,value:yt};const gt=Ut(Ee);if(gt===void 0)return;if(gt.kind===ce.Custom){yn(Ee.kind===ce.Custom);const Rt=(tt=gt.onPaste)==null?void 0:tt.call(gt,Je,Ee.data);return Rt===void 0?void 0:{location:we,value:G(j({},Ee),{data:Rt})}}else{const Rt=(bt=gt.onPaste)==null?void 0:bt.call(gt,Je,Ee,{formatted:ze,formattedString:typeof ze=="string"?ze:ze==null?void 0:ze.join("\n"),rawValue:Re});return Rt===void 0?void 0:(yn(Rt.kind===Ee.kind),{location:we,value:Rt})}}}const P=X.columns,$=X.rows,W=((U=u.current)==null?void 0:U.contains(document.activeElement))===!0||((K=l.current)==null?void 0:K.contains(document.activeElement))===!0;let q;if(X.current!==void 0?q=[X.current.range.x,X.current.range.y]:P.length===1?q=[(Q=P.first())!=null?Q:0,0]:$.length===1&&(q=[B,(ie=$.first())!=null?ie:0]),W&&q!==void 0){let Ee,we;const Re="text/plain",ze="text/html";if(navigator.clipboard.read!==void 0){const tt=await navigator.clipboard.read();for(const bt of tt){if(bt.types.includes(ze)){const gt=await(await bt.getType(ze)).text(),Rt=ma(gt);if(Rt!==void 0){Ee=Rt;break}}bt.types.includes(Re)&&(we=await(await bt.getType(Re)).text())}}else if(navigator.clipboard.readText!==void 0)we=await navigator.clipboard.readText();else if(m!==void 0&&(m==null?void 0:m.clipboardData)!==null){if(m.clipboardData.types.includes(ze)){const tt=m.clipboardData.getData(ze);Ee=ma(tt)}Ee===void 0&&m.clipboardData.types.includes(Re)&&(we=m.clipboardData.getData(Re))}else return;const[Je,be]=q,Fe=[];do{if(Ie===void 0){const tt=_t(q),bt=(fe=we!=null?we:Ee==null?void 0:Ee.map(gt=>gt.map(Rt=>Rt.rawValue).join("	")).join("	"))!=null?fe:"",yt=D(tt,q,bt,void 0);yt!==void 0&&Fe.push(yt);break}if(Ee===void 0){if(we===void 0)return;Ee=Mm(we)}if(Ie===!1||typeof Ie=="function"&&(Ie==null?void 0:Ie([q[0]-B,q[1]],Ee.map(tt=>tt.map(bt=>{var yt,gt;return(gt=(yt=bt.rawValue)==null?void 0:yt.toString())!=null?gt:""}))))!==!0)return;for(const[tt,bt]of Ee.entries()){if(tt+be>=w)break;for(const[yt,gt]of bt.entries()){const Rt=[yt+Je,tt+be],[Tn,Nn]=Rt;if(Tn>=Z.length||Nn>=vt)continue;const $r=_t(Rt),wr=D($r,Rt,gt.rawValue,gt.formatted);wr!==void 0&&Fe.push(wr)}}}while(!1);Pt(Fe),(Ce=et.current)==null||Ce.damage(Fe.map(tt=>({cell:tt.location})))}},[I,Ut,_t,X,Rn.paste,Z.length,Pt,vt,Ie,B,w]);Vt("paste",is,g,!1,!0);const fi=d.useCallback(async(m,D)=>{var U,K;if(!Rn.copy)return;const P=D===!0||((U=u.current)==null?void 0:U.contains(document.activeElement))===!0||((K=l.current)==null?void 0:K.contains(document.activeElement))===!0,$=X.columns,W=X.rows,q=(Q,ie)=>{if(!ae)ya(Q,ie,m);else{const fe=ie.map(Ce=>({kind:ce.Text,data:T[Ce].title,displayData:T[Ce].title,allowOverlay:!1}));ya([fe,...Q],ie,m)}};if(P&&$t!==void 0){if(X.current!==void 0){let Q=$t(X.current.range,ln.current.signal);typeof Q!="object"&&(Q=await Q()),q(Q,br(X.current.range.x-B,X.current.range.x+X.current.range.width-B))}else if(W!==void 0&&W.length>0){const ie=[...W].map(fe=>{const Ce=$t({x:B,y:fe,width:T.length,height:1},ln.current.signal);return typeof Ce=="object"?Ce[0]:Ce().then(Ee=>Ee[0])});if(ie.some(fe=>fe instanceof Promise)){const fe=await Promise.all(ie);q(fe,br(T.length))}else q(ie,br(T.length))}else if($.length>0){const Q=[],ie=[];for(const fe of $){let Ce=$t({x:fe,y:0,width:1,height:w},ln.current.signal);typeof Ce!="object"&&(Ce=await Ce()),Q.push(Ce),ie.push(fe-B)}if(Q.length===1)q(Q[0],ie);else{const fe=Q.reduce((Ce,Ee)=>Ce.map((we,Re)=>[...we,...Ee[Re]]));q(fe,ie)}}}},[T,$t,X,Rn.copy,B,w,ae]);Vt("copy",fi,g,!1,!1);const hu=d.useCallback(async m=>{var P,$;if(!(!Rn.cut||!(((P=u.current)==null?void 0:P.contains(document.activeElement))===!0||(($=l.current)==null?void 0:$.contains(document.activeElement))===!0))&&(await fi(m),X.current!==void 0)){let W={current:{cell:X.current.cell,range:X.current.range,rangeStack:[]},rows:nt.empty(),columns:nt.empty()};const q=Dn==null?void 0:Dn(W);if(q===!1||(W=q===!0?W:q,W.current===void 0))return;yr(W.current.range)}},[yr,X,Rn.cut,fi,Dn]);Vt("cut",hu,g,!1,!1);const gu=d.useCallback((m,D)=>{if(_e!==void 0){B!==0&&(m=m.map(W=>[W[0]-B,W[1]])),_e(m,D);return}if(m.length===0||D===-1)return;const[P,$]=m[D];h.current!==void 0&&h.current[0]===P&&h.current[1]===$||(h.current=[P,$],er(P,$,!1,!1))},[_e,B,er]),[ro,io]=(pl=(ml=Yt==null?void 0:Yt.current)==null?void 0:ml.cell)!=null?pl:[],oo=d.useRef(Dt);oo.current=Dt,d.useLayoutEffect(()=>{var m,D,P,$;!ht.current&&ro!==void 0&&io!==void 0&&(ro!==((D=(m=Gn.current)==null?void 0:m.current)==null?void 0:D.cell[0])||io!==(($=(P=Gn.current)==null?void 0:P.current)==null?void 0:$.cell[1]))&&oo.current(ro,io),ht.current=!1},[ro,io]);const al=X.current!==void 0&&(X.current.cell[0]>=Z.length||X.current.cell[1]>=vt);d.useLayoutEffect(()=>{al&&Qt(xo,!1)},[al,Qt]);const mu=d.useMemo(()=>Wt===!0&&(Le==null?void 0:Le.tint)===!0?nt.fromSingleSelection(vt-1):nt.empty(),[vt,Wt,Le==null?void 0:Le.tint]),pu=d.useCallback(m=>{var D;return typeof sn=="boolean"?sn:(D=sn==null?void 0:sn(m-B))!=null?D:!0},[B,sn]),yu=d.useMemo(()=>{if(Qo===void 0||l.current===null)return null;const{bounds:m,group:D}=Qo,P=l.current.getBoundingClientRect();return d.createElement(gm,{bounds:m,group:D,canvasBounds:P,onClose:()=>Jo(void 0),onFinish:$=>{Jo(void 0),le==null||le(D,$)}})},[le,Qo]),wu=Math.min(Z.length,ot+(un?1:0));d.useImperativeHandle(t,()=>({appendRow:(m,D)=>zr(m+B,D),updateCells:m=>{var D;return B!==0&&(m=m.map(P=>({cell:[P.cell[0]+B,P.cell[1]]}))),(D=et.current)==null?void 0:D.damage(m)},getBounds:(m,D)=>{var P;if(!((l==null?void 0:l.current)===null||(u==null?void 0:u.current)===null)){if(m===void 0&&D===void 0){const $=l.current.getBoundingClientRect(),W=$.width/u.current.clientWidth;return{x:$.x-u.current.scrollLeft*W,y:$.y-u.current.scrollTop*W,width:u.current.scrollWidth*W,height:u.current.scrollHeight*W}}return(P=et.current)==null?void 0:P.getBounds((m!=null?m:0)+B,D)}},focus:()=>{var m;return(m=et.current)==null?void 0:m.focus()},emit:async m=>{switch(m){case"delete":di({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!1,key:"Delete",keyCode:46,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-right":di({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"r",keyCode:82,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"fill-down":di({bounds:void 0,cancel:()=>{},stopPropagation:()=>{},preventDefault:()=>{},ctrlKey:!0,key:"d",keyCode:68,metaKey:!1,shiftKey:!1,altKey:!1,rawEvent:void 0,location:void 0});break;case"copy":await fi(void 0,!0);break;case"paste":await is();break}},scrollTo:Dt,remeasureColumns:m=>{for(const D of m)no(D+B)}}),[zr,no,fi,di,is,B,Dt]);const[cl,ul]=Cn!=null?Cn:[],vu=d.useCallback(m=>{const[D,P]=m;if(P===-1){se!=="none"&&(At(nt.fromSingleSelection(D),void 0,!1),Ct());return}cl===D&&ul===P||(Bt({cell:m,range:{x:D,y:P,width:1,height:1}},!0,!1,"keyboard-nav"),Dt(D,P))},[se,Ct,Dt,cl,ul,Bt,At]),[bu,xu]=d.useState(!1),dl=d.useRef(_a(m=>{xu(m)},5)),ku=d.useCallback(()=>{dl.current(!0),X.current===void 0&&X.columns.length===0&&X.rows.length===0&&a===void 0&&Bt({cell:[B,en],range:{x:B,y:en,width:1,height:1}},!0,!1,"keyboard-select")},[en,X,a,B,Bt]),Cu=d.useCallback(()=>{dl.current(!1)},[]),[Su,Mu]=d.useMemo(()=>{var W;let m;const D=(W=Tt==null?void 0:Tt.scrollbarWidthOverride)!=null?W:Cs(),P=w+(Wt?1:0);if(typeof Zt=="number")m=ee+P*Zt;else{let q=0;const U=Math.min(P,10);for(let K=0;K<U;K++)q+=Zt(K);q=Math.floor(q/U),m=ee+P*q}m+=D;const $=Z.reduce((q,U)=>U.width+q,0)+D;return["".concat(Math.min(1e5,$),"px"),"".concat(Math.min(1e5,m),"px")]},[Z,Tt==null?void 0:Tt.scrollbarWidthOverride,Zt,w,Wt,ee]);return d.createElement(Vh.Provider,{value:qt},d.createElement(Im,{style:qh(qt),className:oe,inWidth:b!=null?b:Su,inHeight:E!=null?E:Mu},d.createElement(um,{fillHandle:Gt,drawFocusRing:qi,experimental:Tt,fixedShadowX:cr,fixedShadowY:ur,getRowThemeOverride:M,headerIcons:Mr,imageWindowLoader:Vi,initialSize:Ki,isDraggable:Rr,onDragLeave:Er,onRowMoved:Mn,overscrollX:Xo,overscrollY:qo,preventDiagonalScrolling:Yi,rightElement:$o,rightElementProps:Wo,smoothScrollX:Vn,smoothScrollY:Bo,className:oe,enableGroups:F,onCanvasFocused:ku,onCanvasBlur:Cu,canvasRef:l,onContextMenu:fu,theme:qt,cellXOffset:zt,cellYOffset:en,accessibilityHeight:De.height,onDragEnd:au,columns:Z,nonGrowWidth:si,drawHeader:Dr,onColumnProposeMove:y,drawCell:Go,disabledRows:mu,freezeColumns:wu,lockColumns:B,firstColAccessible:B===0,getCellContent:_t,minColumnWidth:Hn,maxColumnWidth:Kn,searchInputRef:s,showSearch:Ko,onSearchClose:ri,highlightRegions:xn,getCellsForSelection:$t,getGroupDetails:mr,headerHeight:_r,isFocused:bu,groupHeaderHeight:F?ti:0,freezeTrailingRows:Nt+(Wt&&(Le==null?void 0:Le.sticky)===!0?1:0),hasAppendRow:Wt,onColumnResize:Zn,onColumnResizeEnd:Pr,onColumnResizeStart:Yo,onCellFocused:vu,onColumnMoved:su,onDragStart:lu,onHeaderMenuClick:iu,onItemHovered:rs,isFilling:(a==null?void 0:a.fillHandle)===!0,onMouseMove:ru,onKeyDown:di,onKeyUp:ct,onMouseDown:eu,onMouseUp:nu,onDragOverCell:Xn,onDrop:Ye,onSearchResultsChanged:gu,onVisibleRegionChanged:ou,clientSize:Lr,rowHeight:Zt,searchResults:he,searchValue:He,onSearchValueChange:ye,rows:vt,scrollRef:u,selection:X,translateX:De.tx,translateY:De.ty,verticalBorder:pu,gridRef:et,getCellRenderer:Ut}),yu,i!==void 0&&d.createElement(d.Suspense,{fallback:null},d.createElement(Fm,G(j({},i),{validateCell:Ar,id:du,getCellRenderer:Ut,className:(Tt==null?void 0:Tt.isSubGrid)===!0?"click-outside-ignore":void 0,provideEditor:cn,imageEditorOverride:x,onFinishEditing:uu,markdownDivCreateNode:C,isOutsideClick:Zi})))))},Nm=d.forwardRef(Om),ba=20,$m={getAccessibilityString:e=>{var t,n;return(n=(t=e.data)==null?void 0:t.toString())!=null?n:"false"},kind:ce.Boolean,needsHover:!0,useLabel:!1,needsHoverPosition:!0,measure:()=>50,draw:e=>{var t;return Wm(e,e.cell.data,ks(e.cell),(t=e.cell.maxSize)!=null?t:ba)},onDelete:e=>G(j({},e),{data:!1}),onClick:e=>{var M,C;const{cell:t,posX:n,posY:r,bounds:i,theme:o}=e,{width:s,height:l,x:a,y:c}=i,u=(M=t.maxSize)!=null?M:ba,h=Math.floor(i.y+l/2),g=hc(u,l,o.cellVerticalPadding),p=fc((C=t.contentAlign)!=null?C:"center",a,s,o.cellHorizontalPadding,g),f=dc(p,h,g),x=gc(a+n,c+r,f);if(ks(t)&&x)return G(j({},t),{data:Kc(t.data)})},onPaste:(e,t)=>{let n=So;return e.toLowerCase()==="true"?n=!0:e.toLowerCase()==="false"?n=!1:e.toLowerCase()==="indeterminate"&&(n=Hs),n===t.data?void 0:G(j({},t),{data:n})}};function Wm(e,t,n,r){if(!n&&t===So)return;const{ctx:i,hoverAmount:o,theme:s,rect:l,highlighted:a,hoverX:c,hoverY:u,cell:{contentAlign:h}}=e,{x:g,y:p,width:f,height:x}=l,M=.35;let C=n?1-M+M*o:.4;t===So&&(C*=o),C!==0&&(i.globalAlpha=C,Zs(i,s,t,g,p,f,x,a,c,u,r,h),i.globalAlpha=1)}const Bm=vn("div")({name:"BubblesOverlayEditorStyle",class:"gdg-b1ygi5by",propsAsIs:!1}),jm=e=>{const{bubbles:t}=e;return d.createElement(Bm,null,t.map((n,r)=>d.createElement("div",{key:r,className:"boe-bubble"},n)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))},Um={getAccessibilityString:e=>mc(e.data),kind:ce.Bubble,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,i)=>e.measureText(i).width+r+20,0)+2*n.cellHorizontalPadding-4,draw:e=>qm(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(jm,{bubbles:t.data})},onPaste:()=>{}},Xm=4;function qm(e,t){var x;const{rect:n,theme:r,ctx:i,highlighted:o}=e,{x:s,y:l,width:a,height:c}=n,u=20,h=8,g=Xm;let p=s+r.cellHorizontalPadding;const f=[];for(const M of t){if(p>s+a)break;const C=zo(M,i,r.baseFontFull).width;f.push({x:p,width:C}),p+=C+h*2+g}i.beginPath();for(const M of f)jn(i,M.x,l+(c-u)/2,M.width+h*2,u,(x=r.roundingRadius)!=null?x:u/2);i.fillStyle=o?r.bgBubbleSelected:r.bgBubble,i.fill();for(const[M,C]of f.entries())i.beginPath(),i.fillStyle=r.textBubble,i.fillText(t[M],C.x+h,l+c/2+lr(i,r))}const Vm=vn("div")({name:"DrilldownOverlayEditorStyle",class:"gdg-d4zsq0x",propsAsIs:!1}),Km=e=>{const{drilldowns:t}=e;return d.createElement(Vm,null,t.map((n,r)=>d.createElement("div",{key:r,className:"doe-bubble"},n.img!==void 0&&d.createElement("img",{src:n.img}),d.createElement("div",null,n.text))))},Ym={getAccessibilityString:e=>mc(e.data.map(t=>t.text)),kind:ce.Drilldown,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:(e,t,n)=>t.data.reduce((r,i)=>e.measureText(i.text).width+r+20+(i.img!==void 0?18:0),0)+2*n.cellHorizontalPadding-4,draw:e=>Qm(e,e.cell.data),provideEditor:()=>e=>{const{value:t}=e;return d.createElement(Km,{drilldowns:t.data})},onPaste:()=>{}},Gm=4,ys={};function Zm(e,t,n,r){const i=Math.ceil(window.devicePixelRatio),o=5,s=n-o*2,l=4,a=n*i,c=r+o,u=r*3,h=(u+o*2)*i,g="".concat(e,",").concat(t,",").concat(i,",").concat(n);if(ys[g]!==void 0)return{el:ys[g],height:a,width:h,middleWidth:l*i,sideWidth:c*i,padding:o*i,dpr:i};const p=document.createElement("canvas"),f=p.getContext("2d");return f===null?null:(p.width=h,p.height=a,f.scale(i,i),ys[g]=p,f.beginPath(),jn(f,o,o,u,s,r),f.shadowColor="rgba(24, 25, 34, 0.4)",f.shadowBlur=1,f.fillStyle=e,f.fill(),f.shadowColor="rgba(24, 25, 34, 0.3)",f.shadowOffsetY=1,f.shadowBlur=5,f.fillStyle=e,f.fill(),f.shadowOffsetY=0,f.shadowBlur=0,f.shadowBlur=0,f.beginPath(),jn(f,o+.5,o+.5,u,s,r),f.strokeStyle=t,f.lineWidth=1,f.stroke(),{el:p,height:a,width:h,sideWidth:c*i,middleWidth:r*i,padding:o*i,dpr:i})}function Qm(e,t){var w,A;const{rect:n,theme:r,ctx:i,imageLoader:o,col:s,row:l}=e,{x:a,width:c}=n,u=r.baseFontFull,h=Pc(i,u),g=Math.min(n.height,Math.max(16,Math.ceil(h*r.lineHeight)*2)),p=Math.floor(n.y+(n.height-g)/2),f=g-10,x=8,M=Gm;let C=a+r.cellHorizontalPadding;const b=(w=r.roundingRadius)!=null?w:6,E=Zm(r.bgCell,r.drilldownBorder,g,b),T=[];for(const O of t){if(C>a+c)break;const k=zo(O.text,i,u).width;let L=0;O.img!==void 0&&o.loadOrGetImage(O.img,s,l)!==void 0&&(L=f-8+4);const I=k+L+x*2;T.push({x:C,width:I}),C+=I+M}if(E!==null){const{el:O,height:S,middleWidth:k,sideWidth:L,width:I,dpr:v,padding:_}=E,R=L/v,y=_/v;for(const z of T){const N=Math.floor(z.x),V=Math.floor(z.width),oe=V-(R-y)*2;i.imageSmoothingEnabled=!1,i.drawImage(O,0,0,L,S,N-y,p,R,g),oe>0&&i.drawImage(O,L,0,k,S,N+(R-y),p,oe,g),i.drawImage(O,I-L,0,L,S,N+V-(R-y),p,R,g),i.imageSmoothingEnabled=!0}}i.beginPath();for(const[O,S]of T.entries()){const k=t[O];let L=S.x+x;if(k.img!==void 0){const I=o.loadOrGetImage(k.img,s,l);if(I!==void 0){const v=f-8;let _=0,R=0,y=I.width,z=I.height;y>z?(_+=(y-z)/2,y=z):z>y&&(R+=(z-y)/2,z=y),i.beginPath(),jn(i,L,p+g/2-v/2,v,v,(A=r.roundingRadius)!=null?A:3),i.save(),i.clip(),i.drawImage(I,_,R,y,z,L,p+g/2-v/2,v,v),i.restore(),L+=v+4}}i.beginPath(),i.fillStyle=r.textBubble,i.fillText(k.text,L,p+g/2+lr(i,r))}}const Jm={getAccessibilityString:e=>e.data.join(", "),kind:ce.Image,needsHover:!1,useLabel:!1,needsHoverPosition:!1,draw:e=>{var t,n,r;return e0(e,(t=e.cell.displayData)!=null?t:e.cell.data,(r=(n=e.cell.rounding)!=null?n:e.theme.roundingRadius)!=null?r:4,e.cell.contentAlign)},measure:(e,t)=>t.data.length*50,onDelete:e=>G(j({},e),{data:[]}),provideEditor:()=>e=>{const{value:t,onFinishedEditing:n,imageEditorOverride:r}=e,i=r!=null?r:Hf;return d.createElement(i,{urls:t.data,canWrite:t.readonly!==!1,onCancel:n,onChange:o=>{n(G(j({},t),{data:[o]}))}})},onPaste:(e,t)=>{e=e.trim();const r=e.split(",").map(i=>{try{return new URL(i),i}catch(o){return}}).filter(i=>i!==void 0);if(!(r.length===t.data.length&&r.every((i,o)=>i===t.data[o])))return G(j({},t),{data:r})}},ws=4;function e0(e,t,n,r){const{rect:i,col:o,row:s,theme:l,ctx:a,imageLoader:c}=e,{x:u,y:h,height:g,width:p}=i,f=g-l.cellVerticalPadding*2,x=[];let M=0;for(let b=0;b<t.length;b++){const E=t[b];if(E.length===0)continue;const T=c.loadOrGetImage(E,o,s);if(T!==void 0){x[b]=T;const w=T.width*(f/T.height);M+=w+ws}}if(M===0)return;M-=ws;let C=u+l.cellHorizontalPadding;r==="right"?C=Math.floor(u+p-l.cellHorizontalPadding-M):r==="center"&&(C=Math.floor(u+p/2-M/2));for(const b of x){if(b===void 0)continue;const E=b.width*(f/b.height);n>0&&(a.beginPath(),jn(a,C,h+l.cellVerticalPadding,E,f,n),a.save(),a.clip()),a.drawImage(b,C,h+l.cellVerticalPadding,E,f),n>0&&a.restore(),C+=E+ws}}function t0(e,t){let n=e*49632+t*325176;return n^=n<<13,n^=n>>17,n^=n<<5,n/4294967295*2}const n0={getAccessibilityString:()=>"",kind:ce.Loading,needsHover:!1,useLabel:!1,needsHoverPosition:!1,measure:()=>120,draw:e=>{var u,h;const{cell:t,col:n,row:r,ctx:i,rect:o,theme:s}=e;if(t.skeletonWidth===void 0||t.skeletonWidth===0)return;let l=t.skeletonWidth;t.skeletonWidthVariability!==void 0&&t.skeletonWidthVariability>0&&(l+=Math.round(t0(n,r)*t.skeletonWidthVariability));const a=s.cellHorizontalPadding,c=(u=t.skeletonHeight)!=null?u:Math.min(18,o.height-2*s.cellVerticalPadding);jn(i,o.x+a,o.y+(o.height-c)/2,l,c,(h=s.roundingRadius)!=null?h:3),i.fillStyle=Zr(s.textDark,.1),i.fill()},onPaste:()=>{}},r0=()=>e=>e.targetWidth,xa=vn("div")({name:"MarkdownOverlayEditorStyle",class:"gdg-m1pnx84e",propsAsIs:!1,vars:{"m1pnx84e-0":[r0(),"px"]}}),i0=e=>{const{value:t,onChange:n,forceEditMode:r,createNode:i,targetRect:o,onFinish:s,validatedSelection:l}=e,a=t.data,c=t.readonly===!0,[u,h]=d.useState(a===""||r),g=d.useCallback(()=>{h(f=>!f)},[]),p=a?"gdg-ml-6":"";return u?d.createElement(xa,{targetWidth:o.width-20},d.createElement(Fo,{autoFocus:!0,highlight:!1,validatedSelection:l,value:a,onKeyDown:f=>{f.key==="Enter"&&f.stopPropagation()},onChange:n}),d.createElement("div",{className:"gdg-edit-icon gdg-checkmark-hover ".concat(p),onClick:()=>s(t)},d.createElement(_f,null))):d.createElement(xa,{targetWidth:o.width},d.createElement(bh,{contents:a,createNode:i}),!c&&d.createElement(d.Fragment,null,d.createElement("div",{className:"spacer"}),d.createElement("div",{className:"gdg-edit-icon gdg-edit-hover ".concat(p),onClick:g},d.createElement(Ns,null))),d.createElement("textarea",{className:"gdg-md-edit-textarea gdg-input",autoFocus:!0}))},o0={getAccessibilityString:e=>{var t,n;return(n=(t=e.data)==null?void 0:t.toString())!=null?n:""},kind:ce.Markdown,needsHover:!1,needsHoverPosition:!1,drawPrep:Ui,measure:(e,t,n)=>{const r=t.data.split("\n")[0];return e.measureText(r).width+2*n.cellHorizontalPadding},draw:e=>Wn(e,e.cell.data,e.cell.contentAlign),onDelete:e=>G(j({},e),{data:""}),provideEditor:()=>e=>{const{onChange:t,value:n,target:r,onFinishedEditing:i,markdownDivCreateNode:o,forceEditMode:s,validatedSelection:l}=e;return d.createElement(i0,{onFinish:i,targetRect:r,value:n,validatedSelection:l,onChange:a=>t(G(j({},n),{data:a.target.value})),forceEditMode:s,createNode:o})},onPaste:(e,t)=>e===t.data?void 0:G(j({},t),{data:e})},s0={getAccessibilityString:e=>e.row.toString(),kind:Sn.Marker,needsHover:!0,needsHoverPosition:!1,drawPrep:l0,measure:()=>44,draw:e=>c0(e,e.cell.row,e.cell.checked,e.cell.markerKind,e.cell.drawHandle),onClick:e=>{const{bounds:t,cell:n,posX:r,posY:i}=e,{width:o,height:s}=t,l=n.drawHandle?7+(o-7)/2:o/2,a=s/2;if(Math.abs(r-l)<=10&&Math.abs(i-a)<=10)return G(j({},n),{checked:!n.checked})},onPaste:()=>{}};function l0(e,t){const{ctx:n,theme:r}=e,i=r.markerFontFull,o=t!=null?t:{};return(o==null?void 0:o.font)!==i&&(n.font=i,o.font=i),o.deprep=a0,n.textAlign="center",o}function a0(e){const{ctx:t}=e;t.textAlign="start"}function c0(e,t,n,r,i){const{ctx:o,rect:s,hoverAmount:l,theme:a}=e,{x:c,y:u,width:h,height:g}=s,p=n?1:r==="checkbox-visible"?.6+.4*l:l;if(r!=="number"&&p>0){o.globalAlpha=p;const f=7*(n?l:1);if(Zs(o,a,n,i?c+f:c,u,i?h-f:h,g,!0,void 0,void 0,18),i){o.globalAlpha=l,o.beginPath();for(const x of[3,6])for(const M of[-5,-1,3])o.rect(c+x,u+g/2+M,2,2);o.fillStyle=a.textLight,o.fill(),o.beginPath()}o.globalAlpha=1}if(r==="number"||r==="both"&&!n){const f=t.toString(),x=a.markerFontFull,M=c+h/2;r==="both"&&l!==0&&(o.globalAlpha=1-l),o.fillStyle=a.textLight,o.font=x,o.fillText(f,M,u+g/2+lr(o,x)),l!==0&&(o.globalAlpha=1)}}const u0={getAccessibilityString:()=>"",kind:Sn.NewRow,needsHover:!0,needsHoverPosition:!1,measure:()=>200,draw:e=>d0(e,e.cell.hint,e.cell.icon),onPaste:()=>{}};function d0(e,t,n){const{ctx:r,rect:i,hoverAmount:o,theme:s,spriteManager:l}=e,{x:a,y:c,width:u,height:h}=i;r.beginPath(),r.globalAlpha=o,r.rect(a+1,c+1,u,h-2),r.fillStyle=s.bgHeaderHovered,r.fill(),r.globalAlpha=1,r.beginPath();const g=t!=="";let p=0;if(n!==void 0){const x=h-8,M=a+8/2,C=c+8/2;l.drawSprite(n,"normal",r,M,C,x,s,g?1:o),p=x}else{p=24;const f=12,x=g?f:o*f,M=g?0:(1-o)*f*.5,C=s.cellHorizontalPadding+4;x>0&&(r.moveTo(a+C+M,c+h/2),r.lineTo(a+C+M+x,c+h/2),r.moveTo(a+C+M+x*.5,c+h/2-x*.5),r.lineTo(a+C+M+x*.5,c+h/2+x*.5),r.lineWidth=2,r.strokeStyle=s.bgIconHeader,r.lineCap="round",r.stroke())}r.fillStyle=s.textMedium,r.fillText(t,p+a+s.cellHorizontalPadding+.5,c+h/2+lr(r,s)),r.beginPath()}const f0=d.lazy(async()=>await Fs(()=>import("./b2ln7neoy4kpkhx3.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10]))),h0={getAccessibilityString:e=>{var t,n;return(n=(t=e.data)==null?void 0:t.toString())!=null?n:""},kind:ce.Number,needsHover:!1,needsHoverPosition:!1,useLabel:!0,drawPrep:Ui,draw:e=>Wn(e,e.cell.displayData,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.displayData).width+n.cellHorizontalPadding*2,onDelete:e=>G(j({},e),{data:void 0}),provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:i}=e;return d.createElement(d.Suspense,{fallback:null},d.createElement(f0,{highlight:t,disabled:r.readonly===!0,value:r.data,fixedDecimals:r.fixedDecimals,allowNegative:r.allowNegative,thousandSeparator:r.thousandSeparator,decimalSeparator:r.decimalSeparator,validatedSelection:i,onChange:o=>{var s;return n(G(j({},r),{data:Number.isNaN((s=o.floatValue)!=null?s:0)?0:o.floatValue}))}}))},onPaste:(e,t,n)=>{var i;const r=typeof n.rawValue=="number"?n.rawValue:Number.parseFloat(typeof n.rawValue=="string"?n.rawValue:e);if(!(Number.isNaN(r)||t.data===r))return G(j({},t),{data:r,displayData:(i=n.formattedString)!=null?i:t.displayData})}},g0={getAccessibilityString:()=>"",measure:()=>108,kind:ce.Protected,needsHover:!1,needsHoverPosition:!1,draw:m0,onPaste:()=>{}};function m0(e){const{ctx:t,theme:n,rect:r}=e,{x:i,y:o,height:s}=r;t.beginPath();const l=2.5;let a=i+n.cellHorizontalPadding+l;const c=o+s/2,u=Math.cos(Gl(30))*l,h=Math.sin(Gl(30))*l;for(let g=0;g<12;g++)t.moveTo(a,c-l),t.lineTo(a,c+l),t.moveTo(a+u,c-h),t.lineTo(a-u,c+h),t.moveTo(a-u,c-h),t.lineTo(a+u,c+h),a+=8;t.lineWidth=1.1,t.lineCap="square",t.strokeStyle=n.textLight,t.stroke()}const p0={getAccessibilityString:e=>{var t,n;return(n=(t=e.data)==null?void 0:t.toString())!=null?n:""},kind:ce.RowID,needsHover:!1,needsHoverPosition:!1,drawPrep:(e,t)=>Ui(e,t,e.theme.textLight),draw:e=>Wn(e,e.cell.data,e.cell.contentAlign),measure:(e,t,n)=>e.measureText(t.data).width+n.cellHorizontalPadding*2,provideEditor:()=>e=>{const{isHighlighted:t,onChange:n,value:r,validatedSelection:i}=e;return Ot.createElement(Fo,{highlight:t,autoFocus:r.readonly!==!0,disabled:r.readonly!==!1,value:r.data,validatedSelection:i,onChange:o=>n(G(j({},r),{data:o.target.value}))})},onPaste:()=>{}},y0={getAccessibilityString:e=>{var t,n;return(n=(t=e.data)==null?void 0:t.toString())!=null?n:""},kind:ce.Text,needsHover:!1,needsHoverPosition:!1,drawPrep:Ui,useLabel:!0,draw:e=>(Wn(e,e.cell.displayData,e.cell.contentAlign,e.cell.allowWrapping,e.hyperWrapping),!0),measure:(e,t,n)=>{const r=t.displayData.split("\n",t.allowWrapping===!0?void 0:1);return Math.max(...r.map(i=>e.measureText(i).width))+2*n.cellHorizontalPadding},onDelete:e=>G(j({},e),{data:""}),provideEditor:e=>({disablePadding:e.allowWrapping===!0,editor:t=>{const{isHighlighted:n,onChange:r,value:i,validatedSelection:o}=t;return d.createElement(Fo,{style:e.allowWrapping===!0?{padding:"3px 8.5px"}:void 0,highlight:n,autoFocus:i.readonly!==!0,disabled:i.readonly===!0,altNewline:!0,value:i.data,validatedSelection:o,onChange:s=>r(G(j({},i),{data:s.target.value}))})}}),onPaste:(e,t,n)=>{var r;return e===t.data?void 0:G(j({},t),{data:e,displayData:(r=n.formattedString)!=null?r:t.displayData})}},w0=vn("div")({name:"UriOverlayEditorStyle",class:"gdg-u1rrojo",propsAsIs:!1}),v0=e=>{const{uri:t,onChange:n,forceEditMode:r,readonly:i,validatedSelection:o,preview:s}=e,[l,a]=d.useState(t===""||r),c=d.useCallback(()=>{a(!0)},[]);return l?d.createElement(Fo,{validatedSelection:o,highlight:!0,autoFocus:!0,value:t,onChange:n}):d.createElement(w0,null,d.createElement("a",{className:"gdg-link-area",href:t,target:"_blank",rel:"noopener noreferrer"},s),!i&&d.createElement("div",{className:"gdg-edit-icon",onClick:c},d.createElement(Ns,null)),d.createElement("textarea",{className:"gdg-input",autoFocus:!0}))};function ka(e,t,n,r){let i=n.cellHorizontalPadding;const o=t.height/2-e.actualBoundingBoxAscent/2,s=e.width,l=e.actualBoundingBoxAscent;return r==="right"?i=t.width-s-n.cellHorizontalPadding:r==="center"&&(i=t.width/2-s/2),{x:i,y:o,width:s,height:l}}const b0={getAccessibilityString:e=>{var t,n;return(n=(t=e.data)==null?void 0:t.toString())!=null?n:""},kind:ce.Uri,needsHover:!0,needsHoverPosition:!0,useLabel:!0,drawPrep:Ui,draw:e=>{var c;const{cell:t,theme:n,overrideCursor:r,hoverX:i,hoverY:o,rect:s,ctx:l}=e,a=(c=t.displayData)!=null?c:t.data;if(r!==void 0&&t.hoverEffect===!0&&i!==void 0&&o!==void 0){const u=zo(a,l,n.baseFontFull),h=ka(u,s,n,t.contentAlign),{x:g,y:p,width:f,height:x}=h;if(i>=g-4&&i<=g-4+f+8&&o>=p-4&&o<=p-4+x+8){const M=lr(l,n.baseFontFull);r("pointer");const C=5,b=p-M;l.beginPath(),l.moveTo(s.x+g,Math.floor(s.y+b+x+C)+.5),l.lineTo(s.x+g+f,Math.floor(s.y+b+x+C)+.5),l.strokeStyle=n.textDark,l.stroke(),l.save(),l.fillStyle=e.cellFillColor,Wn(G(j({},e),{rect:G(j({},s),{x:s.x-1})}),a,t.contentAlign),Wn(G(j({},e),{rect:G(j({},s),{x:s.x-2})}),a,t.contentAlign),Wn(G(j({},e),{rect:G(j({},s),{x:s.x+1})}),a,t.contentAlign),Wn(G(j({},e),{rect:G(j({},s),{x:s.x+2})}),a,t.contentAlign),l.restore()}}Wn(e,a,t.contentAlign)},onClick:e=>{var u;const{cell:t,bounds:n,posX:r,posY:i,theme:o}=e,s=(u=t.displayData)!=null?u:t.data;if(t.hoverEffect!==!0||t.onClickUri===void 0)return;const l=Oh(s,o.baseFontFull);if(l===void 0)return;const a=ka(l,n,o,t.contentAlign);Ho({x:a.x-4,y:a.y-4,width:a.width+8,height:a.height+8},r,i)&&t.onClickUri(e)},measure:(e,t,n)=>{var r;return e.measureText((r=t.displayData)!=null?r:t.data).width+n.cellHorizontalPadding*2},onDelete:e=>G(j({},e),{data:""}),provideEditor:e=>t=>{var s;const{onChange:n,value:r,forceEditMode:i,validatedSelection:o}=t;return d.createElement(v0,{forceEditMode:i||e.hoverEffect===!0&&e.onClickUri!==void 0,uri:r.data,preview:(s=r.displayData)!=null?s:r.data,validatedSelection:o,readonly:r.readonly===!0,onChange:l=>n(G(j({},r),{data:l.target.value}))})},onPaste:(e,t,n)=>{var r;return e===t.data?void 0:G(j({},t),{data:e,displayData:(r=n.formattedString)!=null?r:t.displayData})}},x0=[s0,u0,$m,Um,Ym,Jm,n0,o0,h0,g0,p0,y0,b0],vs=[];class k0 extends Lc{constructor(){super(...arguments);pe(this,"imageLoaded",()=>{});pe(this,"loadedLocations",[]);pe(this,"cache",{});pe(this,"sendLoaded",zu(()=>{this.imageLoaded(new zi(this.loadedLocations)),this.loadedLocations=[]},20));pe(this,"clearOutOfWindow",()=>{const n=Object.keys(this.cache);for(const r of n){const i=this.cache[r];let o=!1;for(let s=0;s<i.cells.length;s++){const l=i.cells[s];if(this.isInWindow(l)){o=!0;break}}o?i.cells=i.cells.filter(this.isInWindow):(i.cancel(),delete this.cache[r])}})}setCallback(n){this.imageLoaded=n}loadImage(n,r,i,o){var h;let s=!1;const l=(h=vs.pop())!=null?h:new Image;let a=!1;const c={img:void 0,cells:[An(r,i)],url:n,cancel:()=>{a||(a=!0,vs.length<12?vs.unshift(l):s||(l.src=""))}},u=new Promise(g=>l.addEventListener("load",()=>g(null)));requestAnimationFrame(async()=>{try{l.src=n,await u,await l.decode();const g=this.cache[o];if(g!==void 0&&!a){g.img=l;for(const p of g.cells)this.loadedLocations.push(Gs(p));s=!0,this.sendLoaded()}}catch(g){c.cancel()}}),this.cache[o]=c}loadOrGetImage(n,r,i){const o=n,s=this.cache[o];if(s!==void 0){const l=An(r,i);return s.cells.includes(l)||s.cells.push(l),s.img}else this.loadImage(n,r,i,o)}}const C0=(e,t)=>{const n=d.useMemo(()=>j(j({},Sg),e.headerIcons),[e.headerIcons]),r=d.useMemo(()=>{var i;return(i=e.imageWindowLoader)!=null?i:new k0},[e.imageWindowLoader]);return d.createElement(Nm,G(j({},e),{renderers:x0,headerIcons:n,ref:t,imageWindowLoader:r}))},S0=d.forwardRef(C0);function M0(e){switch(e){case"number":return ce.Number;case"imageUrl":return ce.Image;default:return ce.Text}}const Ca=40,Sa=500;function R0({table:e,height:t,width:n,isInFocusedView:r=!1,className:i=""}){const{targetedContent:o,setTargetedContent:s}=Yu(),[l,a]=d.useState([]),c=getComputedStyle(document.documentElement),u=Ps();d.useEffect(()=>{e.columnNames.length>0&&a(e.columnNames.map((C,b)=>({id:"id:".concat(b),title:C,maxWidth:500})))},[e.columnNames]);const[h,g]=d.useState({columns:nt.empty(),rows:nt.empty()}),p=d.useCallback(function([b,E]){const T=e.rows[E];return{kind:M0(e.columnTypes[b]),data:T[b],allowOverlay:!0,readonly:!0,displayData:String(T[b]),allowWrapping:!0,contentAlignment:"left"}},[e.columnTypes,e.rows]),f=d.useCallback(C=>{if(C.columns.length>0){const b=C.columns.items.flatMap(T=>e.columnNames.slice(T[0],T[1]));ir.logEvent("ADA: Column Targeted");const E=b.length>1?u.formatMessage({id:"B+HlXu",defaultMessage:"{totalColumns} columns"},{totalColumns:b.length}):u.formatMessage({id:"KnFSJb",defaultMessage:'"{columnName}" column'},{columnName:b[0]});s({type:"object",label:E,isFocusedViewContent:r,createNewCompletionParams:T=>bs(T,"The user has selected the columns:  ".concat(b.map(w=>'"'.concat(w,'"')).join(", ")," in the ").concat(e.name," table ").concat(e.sheetName?" in the ".concat(e.sheetName," sheet"):""),E)})}else if(C.rows.length>0){const b=C.rows.items.flatMap(T=>{const[w,A]=T,O=[];for(let S=w;S<A;S++)O.push(S);return O}),E=b.length>1?u.formatMessage({id:"vFstNk",defaultMessage:"{totalRows} rows"},{totalRows:b.length}):u.formatMessage({id:"43/z2q",defaultMessage:"#{rowIndex} row"},{rowIndex:b[0]+1});ir.logEvent("ADA: Row Targeted"),s({type:"object",label:E,isFocusedViewContent:r,createNewCompletionParams:T=>bs(T,"The user has selected rows at the following indices: ".concat(b.map(w=>'"'.concat(w,'"')).join(", ")," in the ").concat(e.name," table ").concat(e.sheetName?" in the ".concat(e.sheetName," sheet"):""),E)})}else if(C.current){const b=C.current.range.x,E=C.current.range.y,T=C.current.range.x+C.current.range.width,w=C.current.range.y+C.current.range.height,A=(T-b)*(w-E);let O="";A===1&&(O=e.rows[C.current.cell[1]][C.current.cell[0]]),ir.logEvent("ADA: Range Targeted");const S=A>1?u.formatMessage({id:"Ia9GsC",defaultMessage:"{totalCells} cells"},{totalCells:A}):u.formatMessage({id:"MEl4hN",defaultMessage:'"{cellContent}" cell'},{cellContent:O});s({type:"object",isFocusedViewContent:r,label:S,createNewCompletionParams:k=>bs(k,"The user has selected a range at the iloc: ".concat(E,":").concat(w,", ").concat(b,":").concat(T," in the ").concat(e.name," table ").concat(e.sheetName?" in the ".concat(e.sheetName," sheet"):""),S)})}C.columns.length===0&&C.rows.length===0&&C.current===void 0&&s(void 0),g(C)},[e.columnNames,s,r,e.rows,u,e.name,e.sheetName]);d.useEffect(()=>{o===void 0&&g({columns:nt.empty(),rows:nt.empty()})},[o]);const x=d.useCallback(C=>{var v;const w=e.rows[C];if(!w)return 44;const A=(v=w.reduce((_,R)=>{const y=(_==null?void 0:_.length)||0,z=(R==null?void 0:R.length)||0;return y>z?_:R}))!=null?v:"",O=l[w.indexOf(A)],k=((O==null?void 0:O.width)||150)/8,L=Math.ceil(A.length/k);return 24+(L<4?L:4)*20},[e.rows,l]);d.useEffect(()=>{if(!document.getElementById("portal")){const C=document.createElement("div");C.id="portal",C.style.position="fixed",C.style.left="0",C.style.top="0",C.style.zIndex="9999",document.body.appendChild(C)}return()=>{const C=document.getElementById("portal");C&&document.body.removeChild(C)}},[]);const M=d.useCallback(()=>e.rows&&e.rows.length>999?10+10*String(e.rows.length).length:30,[e.rows]);return H.jsx(S0,{getCellContent:p,columns:l,rows:e.rows.length,gridSelection:h,onGridSelectionChange:f,smoothScrollX:!0,smoothScrollY:!0,overscrollX:50,className:i,rowMarkers:"clickable-number",height:t,width:n,rowMarkerTheme:{bgCell:c.getPropertyValue("--main-surface-secondary").trim(),textLight:c.getPropertyValue("--text-primary").trim()},theme:{textDark:c.getPropertyValue("--text-primary").trim(),textMedium:c.getPropertyValue("--text-primary").trim(),textLight:c.getPropertyValue("--text-primary").trim(),textHeader:c.getPropertyValue("--text-primary").trim(),bgHeader:c.getPropertyValue("--main-surface-secondary").trim(),bgCell:c.getPropertyValue("--main-surface-primary").trim(),bgBubbleSelected:c.getPropertyValue("--main-surface-tertiary").trim(),bgHeaderHovered:c.getPropertyValue("--main-surface-tertiary").trim(),bgHeaderHasFocus:c.getPropertyValue("--main-surface-tertiary").trim(),accentColor:c.getPropertyValue("--selection").trim(),drilldownBorder:c.getPropertyValue("--selection").trim(),editorFontSize:"400 14px",baseFontStyle:"400 14px",markerFontStyle:"400 14px",headerFontStyle:"500 14px",cellHorizontalPadding:12,cellVerticalPadding:10},rowMarkerWidth:M(),rowHeight:x,verticalBorder:!0,minColumnWidth:Ca,maxColumnWidth:Sa,onColumnResize:(C,b,E)=>{b>=Ca&&b<=Sa&&a(T=>{const w=[...T];return w[E]=G(j({},C),{width:b}),w})}})}function bs(e,t,n){const r=Hu(t);return G(j({},e),{promptMessage:Gu(e.promptMessage,{metadata:{targeted_reply:t,targeted_reply_label:n}}),appendMessages:e.appendMessages==null?[r]:[...e.appendMessages,r]})}const xr=["#FFAF00","#F46920","#F53255","#F857C1","#29BDFD","#00CBBF","#01C159","#9DCA1C"];function Yc({colorList:e,label:t,color:n,onColorUpdate:r}){return H.jsxs(or.Root,{children:[H.jsx(or.Trigger,{asChild:!0,children:H.jsxs("div",{className:"hover:bg-token-main-surface-secondary flex w-full items-center justify-between py-2 ps-4 pe-3.5",children:[H.jsx("span",{className:"max-w-28 truncate text-sm",children:t||H.jsx(Xt,{id:"UnyV2o",defaultMessage:"Dataset"})}),H.jsxs("div",{className:"flex gap-1",children:[H.jsx("div",{className:"h-4 w-4 rounded-xs",style:{backgroundColor:n}}),H.jsx(Ou,{className:"icon-sm"})]})]})}),H.jsx(or.Portal,{children:H.jsx(or.Content,{className:"flex min-w-36 flex-col gap-4 p-4 align-middle",sideOffset:5,side:"right",children:H.jsx(E0,{currentColor:n,colorList:e,onUpdate:r})})})]})}function E0({colorList:e,currentColor:t,onUpdate:n}){const[r,i]=d.useState(t!=null?t:""),o=Ps(),s=l=>/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(l);return H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"grid grid-cols-4 flex-wrap gap-2",children:e.map((l,a)=>H.jsx("button",{onClick:()=>{i(l),n(l)},className:nn("flex h-6 w-6 items-center justify-center rounded-md"),style:{backgroundColor:l},children:t===l&&H.jsx(Zu,{className:"text-white"})},a))}),H.jsxs("div",{className:"border-token-border-default flex h-6 rounded-md border",children:[H.jsx("div",{className:"flex w-6 items-center justify-center bg-gray-200 px-2 py-1 text-sm text-gray-500",children:"#"}),H.jsx("input",{className:nn("w-16 flex-1 rounded-e-md border-0 p-2 text-xs leading-6 uppercase outline-hidden"),placeholder:o.formatMessage({id:"3xKVHs",defaultMessage:"F1B023"}),value:r.slice(1),onChange:l=>{const a="#".concat(l.target.value);i(a),s(a)&&n(a)}})]})]})}function T0({chartData:e,setChartData:t}){let n=e.datasets[0].colors?[...e.datasets[0].colors]:[...xr];return H.jsx(H.Fragment,{children:e.labels.map((r,i)=>H.jsx(Yc,{label:r,colorList:xr,color:n[i],onColorUpdate:o=>{Array.isArray(n)?n[i]=o:n=[o],e.datasets[0].colors=n,t==null||t(j({},e))}},i))})}function I0({chartData:e,setChartData:t}){return H.jsx(H.Fragment,{children:e.datasets.map((n,r)=>H.jsx(Yc,{label:n.label,colorList:xr,color:n.colors?Array.isArray(n.colors)?n.colors[0]:n.colors:"",onColorUpdate:i=>{n.colors=[i],t==null||t(j({},e))}},r))})}function _0({chartData:e,setChartData:t}){return H.jsxs(or.Root,{children:[H.jsx(or.Trigger,{className:"h-5 px-0 hover:bg-transparent",asChild:!0,children:H.jsx("button",{children:H.jsx(Qu,{className:nn("icon text-token-text-tertiary hover:text-token-text-primary")})})}),H.jsx(or.Portal,{children:H.jsx(or.Content,{className:"flex max-w-xs min-w-48 flex-col px-0 py-1",sideOffset:7,children:e&&e.datasets.length<ec&&H.jsxs(H.Fragment,{children:[H.jsx("span",{className:"text-token-text-quaternary py-2 ps-4 pe-3.5 text-xs font-semibold",children:H.jsx(Xt,{id:"yYiKvS",defaultMessage:"Colors"})}),H.jsx("div",{className:"flex max-h-36 flex-col overflow-auto",children:e.chart_type==="pie"?H.jsx(T0,{chartData:e,setChartData:t}):H.jsx(I0,{chartData:e,setChartData:t})})]})})})]})}const A0=(e,t,n)=>{const{colors:r}=t;let i;return r&&r.length>0?i=r:e==="pie"?i=t.data.map((o,s)=>xr[s%xr.length]):i=xr[n%xr.length],Array.isArray(i)?i:[i]},P0=e=>{var l;const{file_name:t="",context_connector_info:n}=e,{source_url:r=null,context_connector:i,synthetic_extension:o}=n!=null?n:{};let s=null;if(n&&i){const a=(l=o!=null?o:Nu(t))!=null?l:null;s=$u(i,a)}return{sourceUrl:r,contextConnectorName:s}},Gc=async e=>{if(e.image_url==null){Ri.addError("No image url provided for download");return}const t=Wu(e.image_url),n=await Ds(t);if(n.status===Ls.Success){const i=await(await fetch(n.download_url)).blob();Js(URL.createObjectURL(i),"output.png")}},Js=(e,t="")=>{const n=document.createElement("a");n.href=e,t&&(n.download=t),n.click()},Zc=300,D0=350;function L0({visualization:e,clientThreadId:t,expanded:n=!1}){switch(e.type){case"chart":return e.fallback_image==null?(Ri.addError("Chart visualizations require a fallback image message"),null):e.fallback_to_image?e.fallback_image==null?(Ri.addError("No fallback image message provided for fallback chart"),null):H.jsx(W0,{visualization:e,expanded:n,clientThreadId:t}):H.jsx($0,{visualization:e,clientThreadId:t,expanded:n});case"table":return H.jsx(z0,{visualization:e,expanded:n,clientThreadId:t});default:return Ri.addError("Unsupported visualization type ".concat(e.type)),null}}const F0=()=>!1;function z0({visualization:e,expanded:t,clientThreadId:n,customTable:r}){var T,w;const i=F0(),o=Aa(),s=o&&!t,{isLoading:l,data:a,isError:c}=Ta(Ad({fileId:e.file_id,fileName:(T=e.file_name)!=null?T:""})),[u,h]=d.useState(),g=d.useCallback(()=>{a&&Js(a.download_url)},[a]),[p,f]=d.useState(0),[x,M]=d.useState(0),C=d.useRef(null);let b;a&&(Array.isArray(a.content)?b=(w=a.content.find(A=>A.name===u))!=null?w:a.content[0]:b=a.content);const E=()=>{C.current&&M(C.current.offsetWidth)};return d.useEffect(()=>(E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)),[]),d.useEffect(()=>{const A=()=>{const S=window.innerHeight-48;f(S)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),c?H.jsx(Qc,{fileName:e.title}):H.jsx(Xi,{ref:C,focusObject:{type:Wi.ADAVisualization,visualization:e},title:H.jsxs(H.Fragment,{children:[e.title,!s&&Array.isArray(a==null?void 0:a.content)&&H.jsxs(Br.Root,{defaultValue:u,onValueChange:A=>{h(A)},children:[H.jsxs(Br.Trigger,{className:"m-0 h-4 bg-transparent p-1 text-xs font-semibold",children:[u!=null?u:a.content[0].name,H.jsx(Br.Icon,{})]}),H.jsx(Br.Portal,{children:H.jsx(Br.Content,{children:a.content.map(A=>{var O;return H.jsx(Br.Item,{className:"text-xs font-semibold",value:(O=A.name)!=null?O:"",children:A.name},A.name)})})})]})]}),onDownload:g,expanded:t,clientThreadId:n,forceSmallBadge:i,children:l||b==null?H.jsx("div",{className:"flex w-full items-center justify-center",children:H.jsx(Pa,{})}):H.jsx("div",{className:"border-token-border-default border-t",children:H.jsx(R0,{table:G(j({},b),{name:e.title,sheetName:u}),height:t?p:Zc,width:x,isInFocusedView:o})})})}function H0({showStatic:e,setShowStatic:t}){return H.jsx(Ei,{side:"top",label:e?H.jsx(Xt,{id:"o0thnT",defaultMessage:"Switch to interactive chart"}):H.jsx(Xt,{id:"cigiQO",defaultMessage:"Switch to static chart"}),children:H.jsx("button",{className:"flex",onClick:()=>{t(!e)},children:e?H.jsx(ld,{className:"icon text-token-text-tertiary hover:text-token-text-primary"}):H.jsx(zs,{className:"icon text-token-text-tertiary hover:text-token-text-primary"})})})}function O0({type:e}){return H.jsx(N0,{children:e==="chart"?H.jsxs(H.Fragment,{children:[H.jsx(Xt,{id:"XBhWwK",defaultMessage:"Now interactive! (Beta)"})," ",H.jsx(zs,{className:"icon"})]}):H.jsx(Xt,{id:"N0TMRs",defaultMessage:"Now interactive!"})})}var Ma;const N0=qu.div(Ma||(Ma=Cl(["flex shrink-0 cursor-pointer flex-nowrap items-center gap-1 rounded-lg bg-blue-400/[0.1] py-1 ps-2 pe-1.5 text-xs font-semibold text-blue-400"])));function $0({visualization:e,clientThreadId:t,expanded:n}){const{isLoading:r,data:i,isError:o}=Ta(_d({fileId:e.file_id})),s=d.useRef(null),l=Ed(),[a,c]=d.useState(!l),u=d.useCallback(async()=>{if(a&&e.fallback_image)ir.logEvent("ADA: Downloaded Static Chart"),await Gc(e.fallback_image);else if(s.current){const M=s.current.getBase64Image();M&&(ir.logEvent("ADA: Downloaded Interactive Chart"),Js(M,"".concat(e.title,".png")))}},[e.fallback_image,a,s,e.title]),[h,g]=d.useState(void 0),p=Bu(t),f=Ju(()=>{ir.logEvent("ADA: Toggled Interactive Chart",{conversationId:p})}),x=M=>{f(),c(M)};return d.useEffect(()=>{ir.logEvent("ADA: Interactive Chart Shown")},[]),d.useEffect(()=>{if(i&&i.content!==h){const{chart_type:M,datasets:C,labels:b}=i.content,E=i.content;if(!C)return;E.datasets=C.map((T,w)=>{const A=A0(M,T,w);return G(j({},T),{colors:A})}),E.labels=Array.isArray(b)?b:[b],g(E)}},[h,i]),o?H.jsx(Qc,{fileName:e.title}):H.jsx(Xi,{focusObject:{type:Wi.ADAVisualization,visualization:e},title:e.title,onDownload:u,additionalActions:[H.jsx(H0,{showStatic:a,setShowStatic:x},0),H.jsx(_0,{chartData:h,setChartData:g},1)],expanded:n,clientThreadId:t,children:r||h==null?H.jsx("div",{className:"flex w-full items-center justify-center",children:H.jsx(Pa,{})}):a&&e.fallback_image?H.jsx(Da,{jupyterMessage:e.fallback_image}):H.jsx(tc,{ref:s,chart:h})})}function W0({visualization:e,expanded:t,clientThreadId:n}){const[r,i]=d.useState(!1),o=Rd(),s=d.useCallback(async()=>{e.fallback_image&&await Gc(e.fallback_image)},[e.fallback_image]);return e.fallback_image==null?null:H.jsx(Xi,{focusObject:{type:Wi.ADAVisualization,visualization:e},title:e.title,onDownload:s,expanded:t,clientThreadId:n,children:H.jsx("div",{className:nn("h-full w-full",t&&"cursor-pointer items-center justify-center"),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:H.jsxs("div",{className:nn("relative flex h-full cursor-pointer items-center justify-center",!t&&"w-full"),children:[H.jsx(Da,{jupyterMessage:e.fallback_image}),o&&H.jsx(Id,{isHovered:r})]})})})}const Xi=Ot.forwardRef(({focusObject:e,title:t="",onDownload:n=()=>{},additionalActions:r=[],expanded:i=!1,expandable:o=!0,children:s,footer:l,headerBackgroundColor:a="bg-token-main-surface-primary",forceSmallBadge:c=!1,wrapperStyles:u="flex items-center justify-center bg-token-main-surface-primary"},h)=>{var k;const g=Aa(),p=ed(),f=p&&p.type===Wi.ADAVisualization&&p.type===e.type&&p.visualization.file_id===e.visualization.file_id&&e.visualization.title===p.visualization.title,x=ju(),M=Uu(x),C=e.visualization.type,[b,E]=Td(C,(k=M==null?void 0:M.id)!=null?k:""),T=Xu(),w=e.visualization.type,{sourceUrl:A,contextConnectorName:O}=P0(e.visualization);if(g&&!i||T||c)return H.jsx(B0,{focusObject:e,title:t,type:w,isFocused:f!=null?f:!1,disabled:T||c});const S=H.jsxs(H.Fragment,{children:[r.map((L,I)=>H.jsx("div",{className:"flex p-0",children:L},I)),A&&O&&H.jsx(Ei,{side:"top",label:H.jsx(Xt,{id:"KG958Q",defaultMessage:"Open in {contextConnectorName}",values:{contextConnectorName:O}}),children:H.jsx("a",{className:"flex items-center text-xs",href:A,target:"_blank",rel:"noreferrer",children:H.jsx(id,{className:nn("icon text-token-text-tertiary hover:text-token-text-primary")})})}),n&&H.jsx(Ei,{side:"top",label:H.jsx(Xt,{id:"X0SJIT",defaultMessage:"Download {type}",values:{type:w}}),children:H.jsx("button",{onClick:n,className:"flex items-center text-xs",children:H.jsx(td,{className:nn("icon text-token-text-tertiary hover:text-token-text-primary")})})}),o&&H.jsx(Ei,{side:"top",label:f?H.jsx(Xt,{id:"vilGuu",defaultMessage:"Collapse {type}",values:{type:w}}):H.jsx(Xt,{id:"7kLyF5",defaultMessage:"Expand {type}",values:{type:w}}),children:H.jsx("button",{onClick:()=>{Jc(f!=null?f:!1,e)},className:"flex items-center text-xs",children:f?H.jsx(Fa,{className:nn("icon text-token-text-tertiary hover:text-token-text-primary")}):H.jsx(za,{className:nn("icon text-token-text-tertiary hover:text-token-text-primary")})})})]});return H.jsxs(Co.div,G(j({className:nn("border-token-border-default text-token-text-primary relative overflow-hidden",!i&&"rounded-2xl border"),ref:h,onMouseEnter:()=>{E(!0)}},La),{children:[H.jsxs("div",{className:nn("flex items-center justify-between gap-2 px-4 py-3",a),children:[H.jsx("span",{className:"grow items-center truncate font-semibold capitalize",children:t}),H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx(Ra,{children:!b&&H.jsx(Co.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",ease:"easeInOut",duration:.2},className:"absolute end-3 top-3",children:H.jsx(O0,{type:w})})}),b&&S]})]}),H.jsx("div",{className:u,style:{height:i?"calc(100vh - 48px)":"".concat(w==="table"?Zc:D0,"px")},children:s}),H.jsx("div",{children:l})]}))});Xi.displayName="ADAVisualizationWrapper";function B0({focusObject:e,title:t="",type:n,isFocused:r,disabled:i=!1}){const[o,s]=d.useState(!1),l=n==="chart"?nd:rd,a=r||o||i;return H.jsx(Co.div,G(j({className:nn("relative w-52 overflow-hidden rounded-2xl border",r&&"border-blue-400/[.3]",a?"text-token-text-primary":"text-token-text-secondary",!i&&"cursor-pointer"),onMouseEnter:()=>{i||s(!0)},onMouseLeave:()=>{i||s(!1)},onClick:()=>{i||Jc(r,e)}},La),{children:H.jsxs("div",{className:"bg-token-main-surface-primary flex justify-between px-3 py-2",children:[H.jsxs("div",{className:"my-0 flex w-full items-center gap-2 overflow-hidden text-sm font-semibold capitalize",children:[H.jsx(l,{className:nn("icon-lg shrink-0",a?"text-brand-green-800":"text-token-text-quaternary")}),H.jsx("span",{className:"grow truncate",children:t})]}),o&&H.jsx("div",{className:"flex items-center gap-2",children:H.jsx(Ei,{side:"top",label:r?H.jsx(Xt,{id:"vilGuu",defaultMessage:"Collapse {type}",values:{type:n}}):H.jsx(Xt,{id:"7kLyF5",defaultMessage:"Expand {type}",values:{type:n}}),children:r?H.jsx(Fa,{className:"icon text-token-text-secondary"}):H.jsx(za,{className:nn("icon text-token-text-secondary")})})})]})}))}function Qc({fileName:e=""}){return H.jsx("div",{className:"w-full rounded-2xl border border-red-600 p-3",children:H.jsxs("div",{className:"my-0 flex items-center justify-between",children:[H.jsx("div",{className:"flex items-center gap-2",children:H.jsx("p",{className:"m-0 p-0 text-lg font-semibold capitalize",children:e})}),H.jsx("span",{className:"text-sm text-red-600",children:H.jsx(Xt,{id:"ADAVisualzationComponent.unableToLoadOutput",defaultMessage:"Unable to display visualization"})})]})})}const Jc=(e,t)=>{ir.logEvent("ADA: Focus Mode Toggled"),e?Ml.close():Ml.setFocusedObject(t)};function j0({title:e,expanded:t,expandable:n=!0,children:r,actions:i,clientThreadId:o,onDownload:s,footer:l}){n=!1;const a={type:"table",file_id:"stub"};return H.jsx("div",{className:"mb-2",children:H.jsx(Xi,{title:e,focusObject:{type:Wi.ADAVisualization,visualization:a},additionalActions:i,expanded:t,expandable:n,clientThreadId:o,onDownload:s,footer:l,headerBackgroundColor:"bg-gray-50",wrapperStyles:"flex overflow-y-scroll bg-token-main-surface-primary",children:r})})}const J0=Object.freeze(Object.defineProperty({__proto__:null,ADAGenericWrapper:j0,default:L0},Symbol.toStringTag,{value:"Module"}));export{J0 as A,dm as C,Vh as T,Vr as a,df as b,Xr as i,qh as m,vn as s};
//# sourceMappingURL=gbd597xrr5jydret.js.map

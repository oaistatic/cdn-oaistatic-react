var He=Object.defineProperty,Ye=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Ee=(s,e,r)=>e in s?He(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,M=(s,e)=>{for(var r in e||(e={}))qe.call(e,r)&&Ee(s,r,e[r]);if(ve)for(var r of ve(e))Ke.call(e,r)&&Ee(s,r,e[r]);return s},T=(s,e)=>Ye(s,$e(e));import{R as B,j as t,M as k,b as V,r as E,d as X,e as Pe,n as ze,g as Ae,c as Y,G as Qe,a6 as Ze}from"./jj85rqzpbnvv3emr.js";import{e as D,be as Xe,ct as Je,v as d,i as re,ia as et,f as tt,ax as z,z as st,E as Ce,B as rt,dP as nt,a9 as Re,R as at,mo as ot,kN as U,dF as it}from"./lef5ym39glv4981l.js";import{tG as ee,bf as we,tH as Ie,oB as W,fz as lt,tI as je,tJ as ct,tK as ut,tL as dt,tM as mt,ao as Me,ol as ft,d3 as pt,ap as ht,fn as xt,an as gt,d4 as bt,tN as yt,tO as St,tP as _t}from"./mclphevd122040jw.js";import{S as vt}from"./nuvef33udhwgu2hu.js";import{i as ke}from"./cpi3lin3ecpcdm5q.js";import{f as Z}from"./lz6nvf1wtn80mpd2.js";import"./fue7kd61xxcv74sk.js";const H=B.forwardRef(({children:s},e)=>t.jsx("div",{ref:e,className:"flex flex-col gap-4",children:s}));H.displayName="CheckoutFormSection";function J({className:s,title:e}){return t.jsx("div",{className:D("font-medium",s),children:t.jsx(k,M({},e))})}function Ne({errors:s,shouldShowErrors:e}){return t.jsx("div",{className:"mt-1 text-[0.93rem] text-[#df1b41]",style:{transition:"height 0.35s ease 0s"},children:e&&s.map(r=>t.jsx("p",{children:r},r))})}const Et=["AM","AT","AU","BE","BG","CA","CH","CL","CY","CZ","DE","DK","EE","EG","ES","FI","FR","GB","GE","GR","HR","HU","IE","IN","IS","IT","KE","KR","LI","LT","LU","LV","MD","MT","NL","NO","NZ","PL","PT","RO","SA","SE","SG","SI","SK","TH","TR","TW","TZ","UA","ZA"];function Pt(s){return Et.includes(s)}function Ct(s){const e=Object.values(Ie).filter(a=>a.country===s),r=new Set(e.map(a=>a.region));return Object.values(Ie).filter(a=>r.has(a.region))}const Fe=s=>{switch(s){case"ca_gst_hst":return"CA GST/HST";case"ca_pst_bc":return"CA PST-BC";case"ca_pst_mb":return"CA PST-MB";case"ca_pst_sk":return"CA PST-SK";default:return s.replace("_"," ").toUpperCase()}},It=({country:s,type:e,description:r})=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-1.5 pe-1 font-medium",children:[t.jsx("img",{src:"https://cdn.openai.com/API/images/flags/png/".concat(s,"@2x.png"),alt:e,className:"h-4 w-4"}),Fe(e)]}),t.jsx("span",{className:"block text-sm text-gray-500",children:r})]}),Oe=B.forwardRef(({billingCountry:s},e)=>{const r=ee(),a=V(),[u,o]=B.useState(!0),[n,c]=B.useState(!1),[i,x]=B.useState({businessName:"",taxIdType:null,taxIdValue:""}),[v,f]=B.useState(null),p=E.useMemo(()=>Xe(b=>{b()},500),[]),m=E.useCallback(()=>n?i.businessName.trim()?i.taxIdType?i.taxIdValue.trim()?(f(null),!0):(f(a.formatMessage({id:"CheckoutForm.errorMessageTaxIdValueRequired",defaultMessage:"Tax ID is required"})),!1):(f(a.formatMessage({id:"CheckoutForm.errorMessageTaxIdTypeRequired",defaultMessage:"Please select a tax ID type"})),!1):(f(a.formatMessage({id:"CheckoutForm.errorMessageBusinessNameRequired",defaultMessage:"Business name is required"})),!1):(f(null),!0),[i,a,n]),g=E.useCallback(async()=>{var j;let b=null;if(n){const y=(j=i.taxIdType)==null?void 0:j.stripe_type;if(!y)return!1;b={taxId:{type:y,value:i.taxIdValue},businessName:i.businessName}}if(Je(r.taxIdInfo,b))return!0;{const y=await r.updateTaxIdInfo(b);return y.type==="error"?(f(y.error.message),!1):!0}},[n,i,r]);return B.useImperativeHandle(e,()=>({validate:m,update:async()=>(p.cancel(),await g())}),[g,m,p]),E.useEffect(()=>{u&&i.taxIdValue.trim()?o(!1):u||p(async()=>{m()&&await g()})},[u,i,n,m,g,p]),E.useMemo(()=>Pt(s!=null?s:""),[s])?t.jsxs(B.Fragment,{children:[t.jsx(H,{children:t.jsx(we,{id:"subscription-tax-id",label:t.jsx("div",{className:"Text-color--gray600 text-[13px]",children:t.jsx(k,{id:"CheckoutForm.purchaseAsBusinessLabel",defaultMessage:"I'm purchasing as business"})}),checked:n,onChange:b=>{c(b.target.checked)}})}),n&&t.jsxs(H,{children:[t.jsx(J,{title:{id:"CheckoutForm.headingVATInformation",description:"Heading for the section of the checkout where we collect VAT information",defaultMessage:"VAT information"}}),t.jsx(jt,{billingCountry:s,taxInfoFields:i,setTaxInfoFields:x}),v&&t.jsx("div",{className:"mt-1 text-[0.93rem] text-[#df1b41]",style:{transition:"height 0.35s ease 0s"},children:v})]})]}):null});Oe.displayName="CheckoutTaxIdCollectionFormFull";const jt=({billingCountry:s,taxInfoFields:e,setTaxInfoFields:r})=>{const a=V(),u=E.useMemo(()=>Ct(s!=null?s:"").map(c=>({label:It(c),value:c,sortKey:Fe(c.type),placeholder:c.placeholder})).toSorted((c,i)=>c.sortKey<i.sortKey?-1:1),[s]),o=E.useMemo(()=>{const n=u.find(c=>c.value===e.taxIdType);return n===void 0?null:n},[u,e]);return E.useEffect(()=>{var n;if(o==null&&u.length>0){const c=(n=u.find(i=>i.value.country===s))!=null?n:u[0];r(i=>T(M({},i),{taxIdType:c.value}))}},[s,o,r,u]),t.jsxs("div",{className:"tax-id-form flex flex-col gap-2",children:[t.jsx("div",{className:"form-row",children:t.jsx("input",{type:"text",id:"businessName",style:{width:"100%",borderRadius:"0.5rem",border:"1px solid #e0e0e0",padding:"0.5rem"},value:e.businessName,onChange:n=>r(c=>T(M({},c),{businessName:n.target.value})),placeholder:a.formatMessage(se.businessNamePlaceholder)})}),t.jsx("div",{className:"form-row",children:t.jsx(vt,{placeholder:a.formatMessage(se.taxIdTypePlaceholder),options:u,value:o,onChange:n=>{r(c=>{var i;return T(M({},c),{taxIdType:(i=n==null?void 0:n.value)!=null?i:null})})},isSearchable:!1})}),t.jsx("div",{className:"form-row",children:t.jsx("input",{type:"text",id:"taxId",style:{width:"100%",borderRadius:"0.5rem",border:"1px solid #e0e0e0",padding:"0.5rem"},value:e.taxIdValue,onChange:n=>r(c=>T(M({},c),{taxIdValue:n.target.value})),placeholder:(()=>{var n;return(n=o==null?void 0:o.placeholder)!=null?n:a.formatMessage(se.taxIdPlaceholder)})()})})]})},se=X({taxIdPlaceholder:{id:"CheckoutTaxIdCollectionForm.taxIdPlaceholder",defaultMessage:"Tax ID"},taxIdTypePlaceholder:{id:"CheckoutTaxIdCollectionForm.taxIdTypePlaceholder",defaultMessage:"Tax type"},businessNamePlaceholder:{id:"CheckoutTaxIdCollectionForm.businessNamePlaceholder",defaultMessage:"Business name"}}),Mt=s=>{},kt=()=>{},Le=E.createContext({form:null,setContextForm:Mt,subscribeButtonContainer:null,setSubscribeButtonContainer:kt}),Ue=()=>{"use forget";return E.useContext(Le)};new Set(Object.values(d));function Nt(s){switch(s){case d.FREE:return W.freeRedesign.planName;case d.GO:return W.goRedesign.planName;case d.PLUS:return W.plusRedesign.planName;case d.PRO:return W.proRedesign.planName;case d.SELF_SERVE_BUSINESS:return W.teamRedesign.planName;case d.ENTERPRISE_CBP:case d.QUORUM:case d.EDUCATION_CBP:case d.DEPRECATED_ENTERPRISE:case d.DEPRECATED_EDU:return W.enterpriseRedesign.planName;default:return W.plusRedesign.planName}}function Be({planType:s,intl:e}){return e.formatMessage(Nt(s))}function Tt(s){switch(s){case d.FREE:return O.freePlan;case d.GO:return O.goPlan;case d.PLUS:return O.plusPlan;case d.PRO:return O.proPlan;case d.SELF_SERVE_BUSINESS:return O.businessPlan;case d.ENTERPRISE_CBP:case d.QUORUM:case d.EDUCATION_CBP:case d.DEPRECATED_ENTERPRISE:case d.DEPRECATED_EDU:return O.enterprisePlan;default:return O.plusPlan}}const O=X({checkoutPersonalButtonText:{id:"CheckoutSummary.checkoutPersonalButtonText",defaultMessage:"Purchase ChatGPT {planName}"},freePlan:{id:"CheckoutSummary.headingFree",defaultMessage:"Free plan"},goPlan:{id:"CheckoutSummary.headingGo",defaultMessage:"Go plan"},plusPlan:{id:"CheckoutSummary.headingPlus",defaultMessage:"Plus plan"},proPlan:{id:"CheckoutSummary.headingPro",defaultMessage:"Pro plan"},businessPlan:{id:"CheckoutSummary.headingBusiness",defaultMessage:"Business plan"},enterprisePlan:{id:"CheckoutSummary.headingEnterprise",defaultMessage:"Enterprise plan"}}),At="3950229590",Rt="is_layout_accordion_enabled",wt="is_layout_accordion_expanded",Ft="is_layout_show_card_terms";function De({className:s,processorEntity:e,automaticTaxEnabled:r,isCheckoutRedesignEnabled:a,immediateDiscountSettings:u,planType:o}){var oe,ie,le;const n=ee(),c=re(),i=V(),x=et(),v=tt(),{setContextForm:f,subscribeButtonContainer:p}=Ue(),m=E.useId(),g=Be({planType:o,intl:i}),_=i.formatMessage(O.checkoutPersonalButtonText,{planName:g}),[b,j]=E.useState((ie=(oe=n==null?void 0:n.billingAddress)==null?void 0:oe.address.country)!=null?ie:null);async function y(l){var S,h,N,L;try{if(!n||r)return;const K=l!=null?l:b;if(K==null)return;const te={checkout_session_id:n.id,checkout_email:n.email,billing_country:K,currency:n.currency,tax_id:(h=(S=n.taxIdInfo)==null?void 0:S.taxId)==null?void 0:h.value,processor_entity:e,billing_address:(L=(N=n.billingAddress)==null?void 0:N.address)!=null?L:{}};await n.runServerUpdate(async()=>{await at.safePost("/payments/checkout/taxes",{requestBody:te})})}catch(K){z.addError("Failed to fetch taxes",{error:K})}}const[P]=E.useState(!!(n!=null&&n.email)),[C,A]=E.useState(null),R=E.useRef(null),w=E.useRef(null),G=E.useRef(null),$=E.useRef(null),q=E.useRef(null),ne=E.useRef(null),Ge=E.useMemo(()=>Ot({ctx:c,isCheckoutRedesignEnabled:a}),[c,a]);async function ae(){const l=ne.current;return!l||!l.validate()?!1:await l.update()}const F=lt({defaultValues:{email:(le=n==null?void 0:n.email)!=null?le:"",hasAcceptedTermsOfService:a!=null?a:!1,hasCompletePaymentElement:!1,hasCompleteBillingAddress:!1},validators:{onChange:({value:l})=>{const S={},{hasAcceptedTermsOfService:h,hasCompleteBillingAddress:N,hasCompletePaymentElement:L}=l;return h||(S.hasAcceptedTermsOfService=i.formatMessage({id:"CheckoutForm.inputLabelTermsOfServiceRequired",defaultMessage:"Agree to OpenAI, LLC's terms to complete your transaction."})),N||(S.hasCompleteBillingAddress=i.formatMessage({id:"CheckoutForm.inputLabelBillingAddressRequired",defaultMessage:"Your billing address is required."})),L||(S.hasCompletePaymentElement=i.formatMessage({id:"UBzTsj",defaultMessage:"Your payment method is required."})),{fields:S}},onBlur:({value:l})=>{const S={},{email:h}=l;return h||(S.email=i.formatMessage({id:"CheckoutForm.inputLabelEmailRequired",defaultMessage:"Your email is required."})),{fields:S}},onBlurAsync:async({value:l})=>{const S={},{email:h}=l;if(n.email!==h){const N=await n.updateEmail(h);if(N.type==="error")switch(N.error.code){case"incompleteEmail":S.email=i.formatMessage({id:"CheckoutForm.inputLabelEmailIncomplete",defaultMessage:"Your email is incomplete."});break;case"invalidEmail":S.email=i.formatMessage({id:"CheckoutForm.inputLabelEmailInvalid",defaultMessage:"Your email is invalid."});break}}return{fields:S}}},canSubmitWhenInvalid:!0,onSubmitInvalid:async({formApi:l})=>{var ce,ue,de,me,fe,pe,he,xe,ge,be,ye,Se,_e;n!=null&&n.canConfirm||await n.confirm(),await ae();const h=((ue=(ce=l.getFieldMeta("email"))==null?void 0:ce.errors)!=null?ue:[]).length>0,L=((me=(de=l.getFieldMeta("hasAcceptedTermsOfService"))==null?void 0:de.errors)!=null?me:[]).length>0,te=((pe=(fe=l.getFieldMeta("hasCompletePaymentElement"))==null?void 0:fe.errors)!=null?pe:[]).length>0,We=((xe=(he=l.getFieldMeta("hasCompleteBillingAddress"))==null?void 0:he.errors)!=null?xe:[]).length>0;h?((ge=R.current)==null||ge.scrollIntoView({behavior:"smooth",block:"center"}),(be=w.current)==null||be.focus({preventScroll:!0})):te?(ye=$.current)==null||ye.scrollIntoView({behavior:"smooth",block:"center"}):We?(Se=q.current)==null||Se.scrollIntoView({behavior:"smooth",block:"center"}):L&&((_e=G.current)==null||_e.scrollIntoView({behavior:"smooth",block:"center"}))},onSubmit:async()=>{var l;try{if(!await ae())return;const h=await n.confirm({redirect:"always"});switch(h.type){case"success":v.success(i.formatMessage({id:"CheckoutForm.bannerMessagePaymentSuccess",defaultMessage:"Payment successfully processed"}));break;case"error":z.addError("Failed to process Stripe checkout",{error:h.error}),A((l=h.error.message)!=null?l:i.formatMessage({id:"CheckoutForm.bannerMessagePaymentFailure",defaultMessage:"Failed to process payment"}));break}}catch(S){v.danger(st.somethingWentWrong,{toastId:"checkout_form"}),z.addError(S)}}});return E.useEffect(()=>{F&&f(F)},[F,f]),t.jsx("form",{id:m,className:D(s),onSubmit:l=>{l.preventDefault(),F.handleSubmit()},children:t.jsxs("div",{className:D("flex flex-col",a?"gap-3":"gap-6"),children:[!a&&t.jsxs(H,{ref:R,children:[x?t.jsx(J,{title:Pe({id:"CheckoutForm.headingContactInformation",defaultMessage:"Contact information"})}):null,t.jsx(F.Field,{name:"email",children:l=>{const h=l.getMeta().errors.length>0&&(l.getMeta().isBlurred||l.getMeta().isPristine);return t.jsxs("div",{children:[t.jsxs("label",{htmlFor:l.name,className:"flex flex-col",children:[t.jsx("span",{className:"color-[rgb(48, 49, 61)] mb-[0.25rem] text-[0.93rem]",children:t.jsx(k,{id:"CheckoutForm.inputLabelEmail",defaultMessage:"Email"})}),t.jsx("input",{ref:w,id:l.name,disabled:P,name:l.name,onBlur:l.handleBlur,onChange:N=>{l.setMeta(L=>T(M({},L),{isBlurred:!1})),l.handleChange(N.target.value)},type:"email",value:l.state.value,className:D("color-[rgb(48, 49, 61)] animate-stripeInputShow rounded-[5px] p-3 outline-none focus:border-white",{"bg-[rgb(247,247,247)]":P,"border-[#df1b41] shadow-none focus:border-[#0570de] focus:shadow-[0px_1px_1px_rgba(0,0,0,0.03),0px_3px_6px_rgba(0,0,0,0.02),0_0_0_3px_hsla(210,96%,45%,0.25),0_1px_1px_0_rgba(0,0,0,0.08)]":h,"border-[#e6e6e6] shadow-[0px_1px_1px_rgba(0,0,0,0.03),_0px_3px_6px_rgba(0,0,0,0.02)] focus:border-[#0570de] focus:shadow-[0px_1px_1px_rgba(0,0,0,0.03),0px_3px_6px_rgba(0,0,0,0.02),0_0_0_3px_hsla(210,96%,45%,0.25),0_1px_1px_0_rgba(0,0,0,0.08)]":!h}),style:{transition:"background 0.15s ease, border 0.15s ease, box-shadow 0.15s ease, color 0.15s ease",backgroundColor:P?"rgb(247,247,247)":""}})]}),t.jsx(Ne,{errors:l.state.meta.errors.filter(N=>!je(N)),shouldShowErrors:h})]})}})]}),t.jsxs(H,{ref:$,children:[!a&&t.jsx(J,{title:Pe({id:"CheckoutForm.headingPaymentMethod",defaultMessage:"Payment method"})}),t.jsx(F.Field,{name:"hasCompletePaymentElement",children:l=>t.jsx(ct,{options:Ge,onChange:({complete:S})=>l.handleChange(S)})})]}),t.jsxs(H,{ref:q,children:[a?null:t.jsx(J,{title:{id:"CheckoutForm.headingBillingAddress",defaultMessage:"Billing address",description:"Heading for the section of the checkout where we collect contact information"}}),t.jsx(F.Field,{name:"hasCompleteBillingAddress",children:l=>t.jsx(ut,{options:{mode:"billing"},onChange:async({complete:S,value:h})=>{l.handleChange(S),j(h.address.country),await y(h.address.country)}})})]}),t.jsx(Oe,{billingCountry:b,ref:ne}),!a&&t.jsx(H,{ref:G,children:t.jsx(F.Field,{name:"hasAcceptedTermsOfService",children:l=>{const S=l.state.meta.isTouched&&l.state.meta.errors.length>0;return t.jsxs("div",{children:[t.jsx(we,{id:"subscription-tos",containerClassName:"items-start",className:"mt-[4px]",style:{borderColor:S?"#df1b41":void 0},checked:l.state.value,onChange:h=>l.handleChange(h.currentTarget.checked),label:t.jsx(Lt,{immediateDiscountSettings:u})}),t.jsx(Ne,{errors:l.state.meta.errors.filter(h=>!je(h)),shouldShowErrors:S})]})}})}),C&&t.jsx("div",{className:"rounded border border-red-200 bg-red-50 px-3 py-2 text-[13px] text-red-700",children:C}),t.jsx(F.Subscribe,{children:l=>{const S=t.jsx("button",{disabled:l.isSubmitting,type:"submit",form:m,className:D("flex h-[44px] items-center justify-center rounded-md border-none bg-[rgb(16,163,117)] p-0 font-medium shadow-[inset_0_0_0_1px_rgba(50,50,93,0.1),0_2px_5px_0_rgba(50,50,93,0.1),0_1px_1px_0_rgba(0,0,0,0.07)] outline-none",{"text-[rgba(255,255,255,1)]":l.isValid,"text-[rgba(255,255,255,0.6)]":!l.isValid}),children:l.isSubmitting?t.jsx(Ce,{}):t.jsx(k,{id:"CheckoutForm.buttonSubscribe",defaultMessage:"Subscribe"})});if(!a)return S;const h=t.jsxs(rt,{className:"w-full p-4 text-base",contentWrapperClassName:"gap-1","aria-label":_,disabled:l.isSubmitting||!l.canSubmit,form:m,type:"submit",children:[t.jsx(nt,{}),l.isSubmitting?t.jsx(Ce,{}):t.jsx("span",{children:_})]});return p?ze.createPortal(h,p):h}})]})})}function Ot({ctx:s,isCheckoutRedesignEnabled:e}){const r=Re(s,At),a=r.get(Rt,!1),u=r.get(wt,!1),o=r.get(Ft,!0);let n={};return o||(n={card:"never"}),e?{layout:{type:"tabs"},terms:{card:"never"}}:a?{layout:{type:"accordion",defaultCollapsed:!u,radios:!0,spacedAccordionItems:!1},terms:n}:{layout:{type:"tabs"},terms:n}}function Lt({immediateDiscountSettings:s}){return(s==null?void 0:s.no_auto_renewal_at_discount_end)===!0?t.jsx("div",{className:"Text-color--gray600 text-[13px]",children:t.jsx(k,{id:"CheckoutForm.termsLabel.noAutoRenewal",defaultMessage:"We may change our prices as described in our <termsOfUseLink>Terms of Use</termsOfUseLink>. By subscribing, you agree to OpenAI's <termsOfUseLink>Terms of Use</termsOfUseLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>, and you authorize us to store your payment method for renewals and other purchases.",values:{termsOfUseLink:r=>t.jsx("a",{className:"Terms-link",href:"https://openai.com/terms/",rel:"noopener noreferrer",target:"_blank",children:r}),privacyPolicyLink:r=>t.jsx("a",{className:"Terms-link",href:"https://openai.com/privacy/",rel:"noopener noreferrer",target:"_blank",children:r})}})}):t.jsx("div",{className:"Text-color--gray600 text-[13px]",children:t.jsx(k,{id:"CheckoutForm.termsLabel",defaultMessage:"You'll be charged the amount and at the frequency listed above until you cancel. We may change our prices as described in our <termsOfUseLink>Terms of Use</termsOfUseLink>. You can <cancelAnytimeLink>cancel any time</cancelAnytimeLink>. By subscribing, you agree to OpenAI's <termsOfUseLink>Terms of Use</termsOfUseLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>, and you authorize us to store your payment method for renewals and other purchases.",values:{termsOfUseLink:r=>t.jsx("a",{className:"Terms-link",href:"https://openai.com/terms/",rel:"noopener noreferrer",target:"_blank",children:r}),cancelAnytimeLink:r=>t.jsx("a",{className:"Terms-link",href:"https://help.openai.com/en/articles/7232927-how-do-i-cancel-my-chatgpt-plus-subscription",rel:"noopener noreferrer",target:"_blank",children:r}),privacyPolicyLink:r=>t.jsx("a",{className:"Terms-link",href:"https://openai.com/privacy/",rel:"noopener noreferrer",target:"_blank",children:r})}})})}const Ut="{{.assetPrefix}}/assets/logo-c8firrye.webp",Bt={src:Ut};function Dt({className:s}){const e=Ae();return t.jsxs("button",{type:"button",onClick:()=>e("/"),className:D("group relative flex w-[100px] items-center focus:outline-none",s),children:[t.jsx("div",{className:"flex items-center text-[hsla(0,0%,10%,0.4)] group-hover:text-[hsla(0,0%,10%,0.8)] lg:absolute lg:-start-5 lg:top-1",children:t.jsx(ot,{className:"icon-sm me-1.5 transition-colors duration-100 ease-in-out"})}),t.jsx("img",{src:Bt.src,alt:"",className:"w-full"})]})}function Vt({className:s,scheduledDiscountPreview:e,immediateDiscountSettings:r}){return t.jsxs("div",{className:s,children:[t.jsx(Dt,{className:"mb-5 lg:mb-8"}),t.jsx(Gt,{className:"mb-7",scheduledDiscountPreview:e,immediateDiscountSettings:r}),t.jsx(Wt,{})]})}function Gt({className:s,scheduledDiscountPreview:e,immediateDiscountSettings:r}){var f,p,m;const a=ee(),u=a.lineItems[0].name,o=Z({amountMinorUnits:a.total.total.minorUnitsAmount,currency:a.currency}),n=((f=a.discountAmounts)!=null?f:[]).filter(g=>{var _;return((_=g.recurring)==null?void 0:_.type)!=="forever"}).length>0,c=r==null?void 0:r.no_auto_renewal_at_discount_end,i=(m=(p=a.recurring)==null?void 0:p.interval)!=null?m:"not_recurring",x=e!=null&&e.discount_amount>0&&e.start_in_months>0&&e.duration_in_months>0;let v=null;if(x){const g=e.discount_type==="percentage",_=e.duration_in_months===1;if(g){const b=Number(e.discount_amount)/100;v=t.jsx(k,T(M({},_?I.scheduledPercentDiscountSingle:I.scheduledPercentDiscountPlural),{values:{startInMonths:e.start_in_months,durationInMonths:e.duration_in_months,percentOff:b}}))}else{const b=Z({amountMinorUnits:Number(e.discount_amount),currency:a.currency});v=t.jsx(k,T(M({},_?I.scheduledFixedDiscountSingle:I.scheduledFixedDiscountPlural),{values:{startInMonths:e.start_in_months,durationInMonths:e.duration_in_months,formattedAmount:b}}))}}return t.jsxs("div",{className:D("text-center lg:text-start",s),children:[t.jsx("div",{className:"Text-color--gray500 font-medium",children:t.jsx(k,T(M({},I.checkoutHeadingForSubscription),{values:{lineItem:u}}))}),t.jsxs("div",{className:"font-semibold",children:[t.jsx("span",{className:"me-2 text-[28px] lg:text-[36px]",children:o}),t.jsx("span",{className:"Text-color--gray500 text-[14px]",children:t.jsx(k,T(M({},I.periodPrice),{values:{interval:i,hasExpiringDiscounts:n?"discounted":"none"}}))})]}),x&&t.jsx("div",{className:"font-medium text-green-600",children:v}),c&&t.jsx("div",{className:"Text-color--gray500 font-medium",children:t.jsx(k,M({},I.noAutoRenewalAtDiscountEnd))})]})}function Wt(){var n,c;const s=ee(),e=V(),r=s.currency,a=s.total.subtotal.minorUnitsAmount-s.total.discount.minorUnitsAmount-s.total.taxInclusive.minorUnitsAmount,u=s.lineItems.map(i=>{const x=Kt(i);return t.jsx(Q,{amountMinorUnits:i.subtotal.minorUnitsAmount,currency:r,subtitle:x?e.formatMessage(x):"",title:i.name,quantity:i.quantity,unitAmountMinorUnits:i.unitAmount.minorUnitsAmount},i.id)}),o=((n=s.discountAmounts)!=null?n:[]).map((i,x)=>t.jsx(qt,{discount:i,currency:r},x));return t.jsxs("div",{className:"flex flex-col gap-[16px]",children:[u,t.jsx(Te,{}),t.jsx(Q,{amountClassName:"font-semibold",amountMinorUnits:s.total.subtotal.minorUnitsAmount,currency:r,title:e.formatMessage(I.subtotal)}),o,t.jsx(Ht,{currency:r,taxAmounts:(c=s.taxAmounts)!=null?c:[],taxExclusiveAmount:a}),t.jsx(Te,{}),t.jsx(Q,{amountClassName:"text-base font-semibold",amountMinorUnits:s.total.total.minorUnitsAmount,currency:r,title:e.formatMessage(I.totalDueToday)})]})}function Ht({taxAmounts:s,currency:e,taxExclusiveAmount:r}){const a=V();return ke(s)?t.jsx(Q,{amountMinorUnits:0,currency:e,title:a.formatMessage(I.tax)}):s.map((u,o)=>{const n=ke(u.displayName)?a.formatMessage(I.tax):u.displayName,i=Yt({minorUnitsAmount:u.minorUnitsAmount,taxExclusiveAmount:r}).toFixed(1).replace(/\.?0+$/,""),x="".concat(n," (").concat(i,"%)");return t.jsx(Q,{amountMinorUnits:u.minorUnitsAmount,currency:e,title:x},o)})}function Yt({minorUnitsAmount:s,taxExclusiveAmount:e}){return s&&e?s/e*100:0}function Q({amountClassName:s,amountMinorUnits:e,currency:r,subtitle:a,title:u,quantity:o,unitAmountMinorUnits:n}){return t.jsxs("div",{className:"gap-1 text-[14px]",children:[t.jsxs("div",{className:"flex w-full",children:[t.jsx("div",{className:"font-medium",children:u}),t.jsx("div",{className:D(s,"text-end","grow"),children:Z({amountMinorUnits:e,currency:r})})]}),t.jsxs("div",{className:"flex w-full items-baseline text-[12px]",children:[o&&o>1&&t.jsx("div",{className:"me-1 rounded-sm bg-gray-100 px-1",children:t.jsx(k,T(M({},I.lineItemQuantity),{values:{itemQuantity:o}}))}),a&&t.jsx("div",{className:"Text-color--gray400",children:a}),o&&o>1&&n&&t.jsx("div",{className:"Text-color--gray400 grow text-end",children:t.jsx(k,T(M({},I.lineItemPricePerSeat),{values:{formattedAmount:Z({amountMinorUnits:n,currency:r})}}))})]})]})}function $t(s,e){var c;let r;const a=((c=e.percentOff)!=null?c:0)/100,u=e.amount,o=e.recurring,n=(o==null?void 0:o.type)==="repeating"?o.durationInMonths:null;return e.recurring&&e.recurring.type==="repeating"?r=a?I.discountPercentOffRecurring:I.fixedAmountOffRecurring:e.recurring?r=a?I.discountPercentOffIndefinite:I.fixedAmountOffIndefinite:r=a?I.discountPercentOffOnce:I.fixedAmountOffOnce,s.formatMessage(r,{formattedAmount:u,percentOff:a,durationInMonths:n})}function qt({discount:s,currency:e}){const r=V(),a=s.displayName,u=-1*s.minorUnitsAmount,o=$t(r,s);return t.jsxs("div",{className:"flex justify-between text-[14px]",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{className:"rounded-md bg-gray-100 px-2 py-2 font-medium",children:[t.jsx(dt,{className:"icon-sm relative top-0.5 float-start me-1"}),a]}),o?t.jsx("span",{className:"Text-color--gray400 text-[12px]",children:o}):null]}),t.jsx("span",{children:Z({amountMinorUnits:u,currency:e})})]})}function Te(){return t.jsx("div",{className:"Border-top-gray50"})}function Kt(s){if(s.recurring)switch(s.recurring.interval){case"month":return I.billingPeriodMonthly;case"year":return I.billingPeriodYearly;default:return z.addError("unexpected_interval_for_line_item",{interval:s.recurring.interval}),null}return null}const I=X({checkoutHeadingForSubscription:{id:"InvoiceSummary.checkoutHeadingForSubscription",defaultMessage:"Subscribe to {lineItem}"},periodPrice:{id:"InvoiceSummary.periodPrice",defaultMessage:"{interval, select, month {per month} year {per year} other {}}{hasExpiringDiscounts, select, discounted { until coupon expires} other {}}"},scheduledPercentDiscountSingle:{id:"InvoiceSummary.scheduledPercentDiscountSingle",defaultMessage:"{startInMonths, selectordinal, one {After #st month} two {After #nd month} few {After #rd month} other {After #th month}}, next month is {percentOff, number, ::percent} off"},scheduledPercentDiscountPlural:{id:"InvoiceSummary.scheduledPercentDiscountPlural",defaultMessage:"{startInMonths, selectordinal, one {After #st month} two {After #nd month} few {After #rd month} other {After #th month}}, next {durationInMonths} months are {percentOff, number, ::percent} off"},scheduledFixedDiscountSingle:{id:"InvoiceSummary.scheduledFixedDiscountSingle",defaultMessage:"{startInMonths, selectordinal, one {After #st month} two {After #nd month} few {After #rd month} other {After #th month}}, next month is {formattedAmount} off"},scheduledFixedDiscountPlural:{id:"InvoiceSummary.scheduledFixedDiscountPlural",defaultMessage:"{startInMonths, selectordinal, one {After #st month} two {After #nd month} few {After #rd month} other {After #th month}}, next {durationInMonths} months are {formattedAmount} off"},billingPeriodMonthly:{id:"InvoiceSummary.billingPeriodMonthly",defaultMessage:"Billed monthly"},billingPeriodYearly:{id:"InvoiceSummary.billingPeriodYearly",defaultMessage:"Billed yearly"},subtotal:{id:"InvoiceSummary.subtotal",defaultMessage:"Subtotal"},totalDueToday:{id:"InvoiceSummary.totalDueToday",defaultMessage:"Total due today"},tax:{id:"InvoiceSummary.tax",defaultMessage:"Tax"},discountPercentOffIndefinite:{id:"InvoiceSummary.discountPercentOffIndefinite",defaultMessage:"{percentOff, number, ::percent} off"},lineItemQuantity:{id:"InvoiceSummary.lineItemQuantity",defaultMessage:"Qty {itemQuantity, number}"},lineItemPricePerSeat:{id:"InvoiceSummary.lineItemPricePerSeat",defaultMessage:"{formattedAmount} per seat"},discountPercentOffOnce:{id:"InvoiceSummary.discountPercentOffOnce",defaultMessage:"{percentOff, number, ::percent} off for a month"},discountPercentOffRecurring:{id:"InvoiceSummary.discountPercentOffRecurring",defaultMessage:"{percentOff, number, ::percent} off for {durationInMonths, plural, one {a month} other {{durationInMonths, number} months}}"},fixedAmountOffIndefinite:{id:"InvoiceSummary.fixedAmountOffIndefinite",defaultMessage:"{formattedAmount} off"},fixedAmountOffOnce:{id:"InvoiceSummary.fixedAmountOffOnce",defaultMessage:"{formattedAmount} off for a month"},fixedAmountOffRecurring:{id:"InvoiceSummary.fixedAmountOffRecurring",defaultMessage:"{formattedAmount} off for {durationInMonths, plural, one {a month} other {{durationInMonths, number} months}}"},noAutoRenewalAtDiscountEnd:{id:"InvoiceSummary.noAutoRenewalAtDiscountEnd",defaultMessage:"No auto-renew"}});function zt(){"use forget";const s=Y.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("span",{className:"text-caption-regular px-3",children:t.jsx(k,{id:"CheckoutDisclaimer.disclaimer",defaultMessage:"By subscribing, you authorize OpenAI Inc. to charge you according to the terms until you cancel. You also agree to the <termsOfServiceLink>Terms of Service</termsOfServiceLink>, <privacyPolicyLink>Privacy Policy</privacyPolicyLink>.",values:{termsOfServiceLink:Zt,privacyPolicyLink:Qt}})}),s[0]=e):e=s[0],e}function Qt(s){return t.jsx("a",{className:"underline",href:"https://openai.com/privacy/",target:"_blank",rel:"noopener noreferrer",children:s})}function Zt(s){return t.jsx("a",{className:"underline",href:"https://openai.com/terms/",target:"_blank",rel:"noopener noreferrer",children:s})}function Xt(){"use forget";const s=Y.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("div",{className:"w-full py-3",children:t.jsx("div",{className:"border-token-border-default h-px w-full border-t"})}),s[0]=e):e=s[0],e}function Jt({planType:s}){switch(s){case d.FREE:return gt({isWebRedesign:!0}).advertisedFeatures;case d.GO:return xt({isWebRedesign:!0}).advertisedFeatures;case d.PLUS:return Me({isWebRedesign:!0}).advertisedFeatures;case d.PRO:return ht({isWebRedesign:!0}).advertisedFeatures;case d.SELF_SERVE_BUSINESS:return pt({isWebRedesign:!0}).advertisedFeatures;case d.ENTERPRISE_CBP:case d.QUORUM:case d.EDUCATION_CBP:case d.DEPRECATED_ENTERPRISE:case d.DEPRECATED_EDU:return ft().advertisedFeatures;default:return Me({isWebRedesign:!0}).advertisedFeatures}}function es(s){"use forget";const e=Y.c(23),{planType:r}=s,a=V(),u=Tt(r),o=Jt({planType:r}),{setSubscribeButtonContainer:n}=Ue();let c;if(e[0]!==a||e[1]!==r){const R=Be({planType:r,intl:a});c=a.formatMessage(O.checkoutPersonalButtonText,{planName:R}),e[0]=a,e[1]=r,e[2]=c}else c=e[2];const i=c;let x;e[3]!==n?(x=R=>{n(R)},e[3]=n,e[4]=x):x=e[4];const v=x,f="border-token-border-default bg-token-bg-primary rounded-4xl border p-8 shadow-[0_4px_25px_-5px_rgba(232,235,255,0.57)]",p=a.formatMessage(u);let m;e[5]!==p?(m=t.jsx("h2",{className:"mb-3 text-[28px] leading-8.5 font-medium",children:p}),e[5]=p,e[6]=m):m=e[6];let g;e[7]!==a?(g=a.formatMessage(ts.topFeatures),e[7]=a,e[8]=g):g=e[8];let _;e[9]!==g?(_=t.jsx("h4",{className:"text-body-small-regular py-2 text-[16px]",children:g}),e[9]=g,e[10]=_):_=e[10];const b=mt,j=o==null?void 0:o.slice(0,4);let y;e[11]!==b||e[12]!==j?(y=t.jsx(b,{advertisedFeatures:j,pricingModalColumnType:bt.standard,isCheckout:!0,isWebRedesign:!0}),e[11]=b,e[12]=j,e[13]=y):y=e[13];let P;e[14]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(Xt,{}),e[14]=P):P=e[14];let C;e[15]!==i||e[16]!==v?(C=t.jsx("div",{ref:v,"aria-label":i,className:"min-h-[44px] w-full"}),e[15]=i,e[16]=v,e[17]=C):C=e[17];let A;return e[18]!==C||e[19]!==m||e[20]!==_||e[21]!==y?(A=t.jsxs("div",{className:f,children:[m,_,y,P,C]}),e[18]=C,e[19]=m,e[20]=_,e[21]=y,e[22]=A):A=e[22],A}const ts=X({topFeatures:{id:"CheckoutSummary.topFeatures",defaultMessage:"Top features"}});function ss(s){"use forget";const e=Y.c(26),{processorEntity:r,automaticTaxEnabled:a,immediateDiscountSettings:u,planType:o}=s,n=V(),[c,i]=E.useState(null),[x,v]=E.useState(null);let f;e[0]!==c||e[1]!==x?(f={setContextForm:i,form:c,subscribeButtonContainer:x,setSubscribeButtonContainer:v},e[0]=c,e[1]=x,e[2]=f):f=e[2];let p;e[3]!==n?(p=n.formatMessage(rs.heading),e[3]=n,e[4]=p):p=e[4];let m;e[5]!==p?(m=t.jsx("h1",{className:"mb-11 text-[28px] leading-8.5 font-medium",children:p}),e[5]=p,e[6]=m):m=e[6];let g;e[7]!==a||e[8]!==u||e[9]!==o||e[10]!==r?(g=t.jsx("div",{className:"flex flex-col",children:t.jsx(De,{className:"w-[420px] max-w-[420px]",processorEntity:r,automaticTaxEnabled:a,immediateDiscountSettings:u,isCheckoutRedesignEnabled:!0,planType:o})}),e[7]=a,e[8]=u,e[9]=o,e[10]=r,e[11]=g):g=e[11];let _;e[12]!==o?(_=t.jsx(es,{planType:o}),e[12]=o,e[13]=_):_=e[13];let b;e[14]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(zt,{}),e[14]=b):b=e[14];let j;e[15]!==_?(j=t.jsxs("div",{className:"flex max-w-[380px] flex-col gap-6",children:[_,b]}),e[15]=_,e[16]=j):j=e[16];let y;e[17]!==g||e[18]!==j?(y=t.jsxs("div",{className:"p-x-20 flex flex-col justify-between gap-2 sm:flex-row sm:gap-18",children:[g,j]}),e[17]=g,e[18]=j,e[19]=y):y=e[19];let P;e[20]!==m||e[21]!==y?(P=t.jsxs("div",{className:"bg-token-bg-primary mx-auto flex h-full w-fit max-w-[1000px] flex-col px-6 pt-6 md:mt-21",children:[m,y]}),e[20]=m,e[21]=y,e[22]=P):P=e[22];let C;return e[23]!==f||e[24]!==P?(C=t.jsx(Le.Provider,{value:f,children:P}),e[23]=f,e[24]=P,e[25]=C):C=e[25],C}const rs=X({heading:{id:"CheckoutRedesignPage.heading",defaultMessage:"Configure your plan"}});function ns({ctx:s,shouldLogExposure:e}){return Re(s,"3542930659",{disableExposureLog:!e})}function Ve({ctx:s,shouldLogExposure:e}){return ns({ctx:s,shouldLogExposure:e}).get("show_redesign",!1)}const as=s=>{"use forget";const e=Y.c(17),{processorEntity:r,automaticTaxEnabled:a,scheduledDiscountPreview:u,immediateDiscountSettings:o,planType:n}=s,c=yt(),i=re();if(!c)return null;if(Ve({ctx:i,shouldLogExposure:!1})){let m;return e[0]!==a||e[1]!==o||e[2]!==n||e[3]!==r||e[4]!==u?(m=t.jsx(ss,{processorEntity:r,automaticTaxEnabled:a,immediateDiscountSettings:o,scheduledDiscountPreview:u,planType:n}),e[0]=a,e[1]=o,e[2]=n,e[3]=r,e[4]=u,e[5]=m):m=e[5],m}let v;e[6]!==o||e[7]!==u?(v=t.jsx("div",{className:"flex w-full justify-center pt-4 lg:min-h-full lg:flex-1 lg:justify-end lg:pe-20 lg:pt-12 lg:pb-12",children:t.jsx(Vt,{className:"w-full max-w-[380px]",scheduledDiscountPreview:u,immediateDiscountSettings:o})}),e[6]=o,e[7]=u,e[8]=v):v=e[8];let f;e[9]!==a||e[10]!==o||e[11]!==n||e[12]!==r?(f=t.jsx("div",{className:"pb-12 lg:min-h-full lg:flex-1 lg:ps-20 lg:pt-12 lg:shadow-[15px_0_30px_0_rgba(0,0,0,0.18)]",children:t.jsx(De,{className:"w-full max-w-[380px]",processorEntity:r,automaticTaxEnabled:a,immediateDiscountSettings:o,isCheckoutRedesignEnabled:!1,planType:n})}),e[9]=a,e[10]=o,e[11]=n,e[12]=r,e[13]=f):f=e[13];let p;return e[14]!==v||e[15]!==f?(p=t.jsxs("div",{className:"checkout-page flex h-full flex-col items-center gap-12 overflow-y-auto bg-white px-4 lg:flex-row lg:items-start lg:justify-center lg:gap-0 lg:px-0",children:[v,f]}),e[14]=v,e[15]=f,e[16]=p):p=e[16],p};function os(s){if(!s)return d.PLUS;switch(s){case U.GO:return d.GO;case U.PRO:case U.PRO_FREE:return d.PRO;case U.SELF_SERVE_BUSINESS:case U.ENTERPRISE_CBP_FLAT:case U.ENTERPRISE_CBP_SEAT_USAGE:return d.SELF_SERVE_BUSINESS;case U.PLUS:case U.PLUS_FREE:return d.PLUS;default:return d.PLUS}}const ys=Qe(function(){"use forget";var $,q;const e=Y.c(26),r=Ze(),a=re(),u=Ae(),o=r.publishable_key,n=r.client_secret;let c;e[0]!==r.plan_name?(c=os(r.plan_name),e[0]=r.plan_name,e[1]=c):c=e[1];const i=c;let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x=[],e[2]=x):x=e[2],E.useEffect(is,x);let v,f;e[3]!==o?(f=St(o,{betas:["custom_checkout_beta_6","custom_checkout_server_updates_1"],locale:"auto"}),e[3]=o,e[4]=f):f=e[4],v=f;const p=v;let m;e[5]!==a?(m=Ve({ctx:a,shouldLogExposure:!0}),e[5]=a,e[6]=m):m=e[6];const g=m;let _,b;e[7]!==g?(b=g?cs():ls(),e[7]=g,e[8]=b):b=e[8],_=b;const j=_;if(n==null){z.addError(new Error("CheckoutSession missing client_secret")),u("/#pricing");return}let y;e[9]!==n?(y=()=>Promise.resolve(n),e[9]=n,e[10]=y):y=e[10];let P;e[11]!==j?(P={appearance:j},e[11]=j,e[12]=P):P=e[12];let C;e[13]!==y||e[14]!==P?(C={fetchClientSecret:y,elementsOptions:P},e[13]=y,e[14]=P,e[15]=C):C=e[15];const A=($=r.scheduled_discount_preview)!=null?$:null,R=(q=r.immediate_discount_settings)!=null?q:null;let w;e[16]!==r.automatic_tax_enabled||e[17]!==r.processor_entity||e[18]!==i||e[19]!==A||e[20]!==R?(w=t.jsx(as,{processorEntity:r.processor_entity,automaticTaxEnabled:r.automatic_tax_enabled,scheduledDiscountPreview:A,immediateDiscountSettings:R,planType:i}),e[16]=r.automatic_tax_enabled,e[17]=r.processor_entity,e[18]=i,e[19]=A,e[20]=R,e[21]=w):w=e[21];let G;return e[22]!==p||e[23]!==w||e[24]!==C?(G=t.jsx(_t,{stripe:p,options:C,children:w}),e[22]=p,e[23]=w,e[24]=C,e[25]=G):G=e[25],G});function is(){it.setPurchaseWorkspaceData(null)}function ls(){return{rules:{".Input--invalid":{boxShadow:"none"}}}}function cs(){return{labels:"floating",variables:{colorBackground:"#ffffff",colorDanger:"#b42318",colorPrimary:"#0d0d0d",colorPrimaryText:"#ffffff",colorText:"#101828",colorTextPlaceholder:"#667085",fontFamily:'"Inter", "Inter var", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',borderRadius:"16px",spacingUnit:"0",gridColumnSpacing:"8px",gridRowSpacing:"12px"},rules:{".Input":{backgroundColor:"#f7f7f7",border:"none",borderRadius:"16px",boxShadow:"none",padding:"16px",transition:"border-color 0.15s ease, box-shadow 0.15s ease"},".Input:focus":{borderColor:"#0d0d0d",boxShadow:"0 0 0 1px #0d0d0d"},".Input--invalid":{borderColor:"#df1b41",boxShadow:"0 0 0 1px rgba(223, 27, 65, 0.12)"},".Error":{color:"#b42318",fontWeight:"500"},".Tab":{backgroundColor:"#f7f7f7",border:"none",borderRadius:"16px",color:"#5d5d5d",padding:"16px",fontWeight:"500",display:"flex",fontSize:"16px",transition:"background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease",flexDirection:"row"},".Tab:hover":{color:"#0d0d0d"},".Tab:focus":{boxShadow:"0 0 0 1px #0d0d0d"},".Tab--selected":{borderColor:"#000",color:"#262626",border:"1px solid #e3e3e3",backgroundColor:"#ffffff",boxShadow:"0px 1px 1px rgba(0, 0, 0, 0.03), 0px 3px 6px rgba(18, 42, 66, 0.02)"},".Tab--selected:focus":{boxShadow:"0 0 0 1px #0d0d0d"},".TabIcon":{color:"#000000"},".Tab--selected .TabIcon":{color:"#ffffff"},".Block":{backgroundColor:"#f7f7f7",border:"none",borderRadius:"16px",boxShadow:"none",padding:"16px"},".Block:focus":{borderColor:"#0d0d0d",boxShadow:"0 0 0 1px #0d0d0d"},".Label":{color:"#667085",fontWeight:"500"},".CardForm":{border:"5px solid red"}}}}export{ys as default};
//# sourceMappingURL=duiln6ed9grcwune.js.map

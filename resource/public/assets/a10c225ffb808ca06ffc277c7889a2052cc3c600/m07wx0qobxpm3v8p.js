import{b as he,j as o,M as ie,r as f,c as be}from"./jj85rqzpbnvv3emr.js";import{f as ye,pW as xe,C as ke,bw as ce,e as X,I as je}from"./lef5ym39glv4981l.js";import{j_ as ve,j$ as Ce,k0 as we,k1 as Oe}from"./mclphevd122040jw.js";function ze({gizmoId:c,onSuccess:e,onClose:u}){const m=he(),p=ye(),n=xe(),h=async()=>{try{await n.mutateAsync({gizmoId:c}),e()}catch(D){p.danger({defaultMessage:"Failed to delete GPT. Please try again.",description:"Error message when GPT deletion fails"},{toastId:"gizmo_editor_deletion_modal"})}};return o.jsx(ke,{testId:"modal-gizmo-editor-deletion",isOpen:!0,onClose:u,type:"danger",title:o.jsx(ie,{id:"shLmv5",defaultMessage:"Delete GPT"}),primaryButton:o.jsx(ce.Button,{title:m.formatMessage({id:"nlWRPu",defaultMessage:"Delete GPT"}),color:"danger",loading:n.isPending,onClick:()=>{h()}}),secondaryButton:o.jsx(ce.Button,{title:m.formatMessage({id:"D4IuIb",defaultMessage:"Cancel"}),color:"secondary",onClick:u}),children:o.jsx("div",{className:"text-sm",children:o.jsx(ie,{id:"zIR+cK",defaultMessage:"Are you sure you want to delete this GPT? This cannot be undone."})})})}function Ae(c,e){f.useEffect(()=>{const u=m=>{c.every(p=>{var n;return!((n=p.current)!=null&&n.contains(m.target))})&&e()};return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[e,c])}function Ee(c){"use forget";var ne,ae;const e=be.c(63),{children:u,className:m,inputClassName:p,inputValue:n,label:h,name:D,onInputChange:K,placeholder:Y,popoverClassName:B,suggestions:s,onTabChange:O,RenderTab:M}=c,H=Y===void 0?h:Y;let I;e[0]!==s?(I=typeof s=="object"?Object.keys(s):[],e[0]=s,e[1]=I):I=e[1];const R=I,[Z,ue]=f.useState(R),[d,_]=f.useState(0);let N;e[2]!==O||e[3]!==s?(N=t=>{_(t);const l=Object.keys(s)[t];l&&(O==null||O(l))},e[2]=O,e[3]=s,e[4]=N):N=e[4];const g=N;(R.length!==Z.length||R.some((t,l)=>t!==Z[l]))&&(ue(R),_(0));const[a,b]=f.useState(-1),[V,A]=f.useState(!1);let T;e[5]!==s?(T=Array.isArray(s)?s.length>0:Object.values(s).some(Me),e[5]=s,e[6]=T):T=e[6];const W=T,r=Array.isArray(s)?s:s[(ne=Object.keys(s)[d])!=null?ne:Object.keys(s)[0]],i=f.useId(),ee=f.useRef(null),te=f.useRef(null),se=f.useRef(null);let z;e[7]!==n||e[8]!==K?(z=t=>{const l=t.target.value;l!==n&&(b(-1),K(l),A(!0))},e[7]=n,e[8]=K,e[9]=z):z=e[9];const $=z;let E;e[10]!==r||e[11]!==a||e[12]!==d||e[13]!==g||e[14]!==s?(E=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),A(!1)),t.key==="Tab"&&A(!1),t.key==="ArrowDown"&&(t.preventDefault(),b((a+1)%r.length)),t.key==="ArrowUp"&&(t.preventDefault(),b((a-1+r.length)%r.length)),a>-1&&!Array.isArray(s)&&(t.key==="ArrowRight"&&(t.preventDefault(),g((d+1)%Object.keys(s).length),b(0)),t.key==="ArrowLeft"&&(t.preventDefault(),g((d-1+Object.keys(s).length)%Object.keys(s).length),b(0)),t.key==="Enter"&&(t.preventDefault(),r[a].onClick()))},e[10]=r,e[11]=a,e[12]=d,e[13]=g,e[14]=s,e[15]=E):E=e[15];const U=E;let F;e[16]!==u||e[17]!==W||e[18]!==V||e[19]!==n?(F=(u!=null||n.trim()!==""&&W)&&V,e[16]=u,e[17]=W,e[18]=V,e[19]=n,e[20]=F):F=e[20];const y=F;let oe,P;e[21]===Symbol.for("react.memo_cache_sentinel")?(P=[ee,te,se],e[21]=P):P=e[21],oe=P;const de=oe;let S;e[22]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{A(!1)},e[22]=S):S=e[22],Ae(de,S);const q=((ae=r[a])==null?void 0:ae.id)!=null?i+r[a].id:void 0;let G;e[23]===Symbol.for("react.memo_cache_sentinel")?(G=()=>A(!0),e[23]=G):G=e[23];const J=a>-1;let x;e[24]!==m||e[25]!==i||e[26]!==p||e[27]!==n||e[28]!==y||e[29]!==h||e[30]!==D||e[31]!==$||e[32]!==U||e[33]!==H||e[34]!==q||e[35]!==J?(x=o.jsx(ve,{asChild:!0,children:o.jsx("div",{className:"relative z-10 grow",ref:ee,children:o.jsx(je,{"aria-activedescendant":q,"aria-autocomplete":"none","aria-controls":i,"aria-expanded":y,ariaLabel:h,autoCapitalize:"off",autoComplete:"off",className:m,inputClassName:p,list:"suggested-choices",name:D,onChange:$,onFocus:G,onKeyDown:U,placeholder:H,role:"combobox",spellCheck:!1,suppressFocus:J,value:n})})}),e[24]=m,e[25]=i,e[26]=p,e[27]=n,e[28]=y,e[29]=h,e[30]=D,e[31]=$,e[32]=U,e[33]=H,e[34]=q,e[35]=J,e[36]=x):x=e[36];let k;e[37]!==B?(k=X("border-token-border-default bg-token-main-surface-secondary group-has-focus:border-token-border-xheavy relative -top-1 z-50 m-0 max-h-[calc(var(--radix-popper-available-height)-2rem)] w-[var(--radix-popper-anchor-width)] min-w-fit cursor-pointer overflow-y-auto rounded-lg rounded-t-none border border-t-0 px-1 py-1",B),e[37]=B,e[38]=k):k=e[38];let j;e[39]!==M||e[40]!==d||e[41]!==g||e[42]!==s?(j=!Array.isArray(s)&&o.jsx("div",{className:"mb-1 flex",role:"tablist",ref:se,children:Object.keys(s).map((t,l)=>o.jsx("button",{role:"tab",className:X("text-token-text-tertiary px-3 pb-2 text-xs font-bold",d===l?"border-b-2 font-bold":"hover:text-token-text-primary cursor-pointer font-semibold"),"aria-selected":d===l,onClick:()=>{g(l),b(0)},children:M?o.jsx(M,{tab:t}):t},t))}),e[39]=M,e[40]=d,e[41]=g,e[42]=s,e[43]=j):j=e[43];let v;if(e[44]!==r||e[45]!==i||e[46]!==a){let t;e[48]!==i||e[49]!==a?(t=(l,le)=>{const{id:re,className:fe,focusedClassName:me,onClick:pe,children:ge}=l;return o.jsx("li",{id:i+re,role:"option",className:X(fe,a===le&&me),onClick:()=>{pe()},"aria-selected":a===le,children:ge},re)},e[48]=i,e[49]=a,e[50]=t):t=e[50],v=r.map(t),e[44]=r,e[45]=i,e[46]=a,e[47]=v}else v=e[47];let C;e[51]!==i||e[52]!==v?(C=o.jsx("ul",{id:i,role:"listbox",ref:te,children:v}),e[51]=i,e[52]=v,e[53]=C):C=e[53];const Q=r.length===0&&u;let w;e[54]!==k||e[55]!==j||e[56]!==C||e[57]!==Q?(w=o.jsx(Ce,{children:o.jsxs(we,{className:k,onOpenAutoFocus:De,children:[j,C,Q]})}),e[54]=k,e[55]=j,e[56]=C,e[57]=Q,e[58]=w):w=e[58];let L;return e[59]!==y||e[60]!==x||e[61]!==w?(L=o.jsxs(Oe,{open:y,modal:!1,children:[x,w]}),e[59]=y,e[60]=x,e[61]=w,e[62]=L):L=e[62],L}function De(c){c.preventDefault()}function Me(c){return c.length>0}export{Ee as C,ze as G};
//# sourceMappingURL=m07wx0qobxpm3v8p.js.map

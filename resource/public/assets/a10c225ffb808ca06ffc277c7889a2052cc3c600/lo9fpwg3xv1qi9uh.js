var p=Object.defineProperty;var l=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var u=(e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,a=(e,t)=>{for(var i in t||(t={}))g.call(t,i)&&u(e,i,t[i]);if(l)for(var i of l(t))b.call(t,i)&&u(e,i,t[i]);return e};import{r as f,v as j,a as C,j as o,M as s}from"./jj85rqzpbnvv3emr.js";import{ax as S,iK as m,mj as N}from"./lef5ym39glv4981l.js";import{cF as r,cS as c,cT as n,cU as w}from"./mclphevd122040jw.js";import{c as B}from"./gfh3fgyqv0cpuikj.js";function R(){const[e,t]=f.useState(!1);f.useEffect(()=>{r.setSessionId(j()),r.logImpression()},[]);const{mutate:i,isPending:d}=C({mutationFn:B,onError:x=>{if(S.addError("Jawbone: Failed to create push subscription",{error:x}),Notification.permission==="denied"){c.clearNotificationRequest();return}t(!0)},onSuccess:()=>{c.clearNotificationRequest()}});return e?o.jsx(m,{icon:o.jsx(N,{}),isPrimaryCtaDisabled:!0,isSecondaryCtaDisabled:!0,type:"error",onDismiss:()=>{t(!1),r.logErrorDismissed(),c.clearNotificationRequest()},title:o.jsx(s,a({},n.notificationsDisabledBannerTitle)),content:o.jsx(s,a({},n.notificationsDisabledBannerContent))}):o.jsx(m,{icon:o.jsx(w,{}),primaryCtaText:o.jsx(s,a({},n.notificationsBannerAllow)),onPrimaryCtaClick:()=>{r.logAllow(),i()},isPrimaryCtaDisabled:d,secondaryCtaText:o.jsx(s,a({},n.notificationsBannerNotNow)),onSecondaryCtaClick:()=>{r.logNotNow(),c.clearNotificationRequest()},title:o.jsx(s,a({},n.notificationsBannerTitle)),content:o.jsx(s,a({},n.notificationsBannerContent))})}export{R as JawboneNotificationsBanner};
//# sourceMappingURL=lo9fpwg3xv1qi9uh.js.map

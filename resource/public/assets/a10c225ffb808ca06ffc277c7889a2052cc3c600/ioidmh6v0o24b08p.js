import{q as u,G as _,f as m}from"./jj85rqzpbnvv3emr.js";import{R as h,k as p,fg as s,bv as i,fh as c}from"./lef5ym39glv4981l.js";const l=u({queryKey:["mfaToken"],queryFn:async()=>{try{const t=await h.safePost("/accounts/mfa/user/request_mfa_token_in_house");if(!t||!t.state_token)throw new Error("Failed to fetch MFA token");return t.state_token}catch(t){if(t instanceof p){const e=t.detail;if((e==null?void 0:e.code)==="mfa_email_required"){window.location.href=s(c.ENABLE_MFA_EMAIL_REQUIRED,"/#settings/".concat(i.Account));return}}window.location.href=s(c.ENABLE_MFA_ERROR,"/#settings/".concat(i.Security))}}}),d=_(function(){var o;const{data:e}=m(l);if(e){const a=new URLSearchParams(window.location.search),f=(o=a.get("app"))!=null?o:"ChatGPT",n=new URLSearchParams({origin_app_name:f,mfa_token:e}),r=a.get("redirect_path");r&&n.set("redirect_path",r),window.location.href="https://auth.openai.com/totp_enroll?".concat(n.toString())}return null});export{d as default};
//# sourceMappingURL=ioidmh6v0o24b08p.js.map

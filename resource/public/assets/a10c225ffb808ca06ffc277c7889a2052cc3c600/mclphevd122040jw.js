const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nfea17qzp13xugdb.js","assets/jj85rqzpbnvv3emr.js","assets/ojb4d4bxj44fs0l8.js","assets/efscvp3g4k0or8n5.js","assets/lef5ym39glv4981l.js","assets/root-ogjlcpyy.css","assets/kxedrjbxv2qblujd.js","assets/doljxy43e4xie9bi.js","assets/lep2wptoy14cfe2w.js","assets/o00amwudg0s90vfh.js","assets/hnotrmacgvnfyexv.js","assets/hm94yzqatxa451b5.js","assets/ek7qgesc03yusf3u.js","assets/ih9wj2grf6eudhng.js","assets/iiok29s29bpdre61.js","assets/ge4ozj790nfv3vb5.js","assets/hcsjwjl2ji65i21r.js","assets/jt0fc5oel309hgy2.js","assets/ef92qx749w9klz4o.js","assets/l45tzjfw41ny1oxj.js","assets/2dhqllc5pireni9q.js","assets/jza9spsuu2f7ynxb.js","assets/ht7of10t76s6p5h9.js","assets/efsl2tpd3w39q64v.js","assets/chkdmiqd2p7k2syq.js","assets/ogcl7v93rii15rrg.js","assets/ansi-1f6vhsjh.css","assets/mcz3fk8dwdc0wesf.js","assets/b2bzebhpy3vjflr5.js","assets/moqemqor8gto0ynb.js","assets/k059n59kmbyb9lsl.js","assets/kl7c6054usfnqmd4.js","assets/k97n0y6ba9c9h39c.js","assets/e35egaqnsei5a2mf.js","assets/oewf3dcf71lssqyb.js","assets/nq5i976pifkrt40a.js","assets/ksbtr9cllybwh424.js","assets/brmoct65jnfspzpr.js","assets/n8vi41od4r1tq9yq.js","assets/mgvl43usqxj4xeax.js","assets/d4h5q8m41uvqlm3r.js","assets/i5991cad8s41d2db.js","assets/ifj2o3jul9ys1l79.js","assets/fna9z31n721lpf9f.js","assets/table-components-iztk4amh.css","assets/FormattedText-oeh39yix.css","assets/bf4ph5zbt0oviepg.js","assets/dgvzzjobs2cy0cio.js","assets/d9xs85pwcfjntwwg.js","assets/ipmpdpyb54oarswy.js","assets/e9aznsjtqjftc764.js","assets/cze7wytrt853t1fk.js","assets/21j5rw0odr1m4uxd.js","assets/yxcqu4sbba6mypxi.js","assets/i326q0icietrpdhu.js","assets/k0hi9sxw1vk1efi1.js","assets/fxzo8dz6icikijye.js","assets/myn8neezylvr2cfq.js","assets/mkmma1qu7xszksxq.js","assets/cm3g9yd6vehlyz6w.js","assets/bzg6l3yrwtqvhnkn.js","assets/dfrfn1l8i4pztz5o.js","assets/i7glw0nj0kvwa5nj.js","assets/h3ljvkuas54zjb9n.js","assets/msytzocarofykbtp.js","assets/mjd2c7n9jvhfn2e5.js","assets/nvav60ujg6iwpwg2.js","assets/ebxncu61uuayv8xb.js","assets/mj0ezsc15rp281b4.js","assets/cqayabj99c3xvo35.js","assets/fdhj01le0mww4tud.js","assets/bw1pc0e22u0sxerz.js","assets/mmb0lhn0nhp0jx69.js","assets/iszj8l0y8vp33jrs.js","assets/d2q2nhqj7harnnku.js","assets/9z485wf4plyfoo73.js","assets/cncd8uuk5eicbkeu.js","assets/dta5t6ifyam55mk9.js","assets/cdk0cmbgnafohb1q.js","assets/gyvvad7btmtz1x9o.js","assets/n6vmm5pyahusdy8e.js","assets/l041el2tch1t3nkf.js","assets/easgat082167v0i8.js","assets/krkzgj7rwuflilz4.js","assets/i5op8b3itzauzv94.js","assets/mnage1jfoeko21ag.js","assets/ktpjwmh7uke6476d.js","assets/e6l4il48atvxq01x.js","assets/ln8ki2e0zoiayj0p.js","assets/h0k73bnwu158btqf.js","assets/nuvef33udhwgu2hu.js","assets/fue7kd61xxcv74sk.js","assets/mukuw0vik9dn7cvf.js","assets/g9xi6m5yzu4rtfn2.js","assets/ns51nblw8ziscsgd.js","assets/nfygy4vif6crzpny.js","assets/lbaueofbjv8jfqwm.js","assets/kq1ir6pxp9hst9p9.js","assets/f3wj76d1ulqyss85.js","assets/hhs3uwxj7uii5eg7.js","assets/m1igv34szcbu0myd.js","assets/bj1ejin6tzi0v3v8.js","assets/utxdqc9pcw6i2msa.js","assets/c09b3wnyb7ragkgg.js","assets/gbd597xrr5jydret.js","assets/c9981m30wjsnzhw5.js","assets/k6u2cn52t3dhqz8s.js","assets/ctl8k0odelcp7jyc.js","assets/ADAVisualizationComponent-jfgkc83t.css","assets/go8zyahgu69e8jyd.js","assets/eu5xc064k5tcc0d1.js","assets/fe3i8jtn19o2fvb7.js","assets/l5ox8g3ngfir6cri.js","assets/gwboocxkq4dvejju.js","assets/hhmq1bzp7fcba7ax.js","assets/jswv45qchuu48hl8.js","assets/jgexukwtrnsycyko.js","assets/cfjmhsr8xf6xwmmf.js","assets/m46a0bw94g3hbrbv.js","assets/l49crt55yd8l3agz.js","assets/l5n8sav08y32nia1.js","assets/gi56e9qc6hkbhcx3.js","assets/nuz80uov2gm1dlm5.js","assets/w705jdvl4grquz0l.js","assets/fteqd6f5240seduu.js","assets/gxrjngn1ljuni4mn.js","assets/ld4419374p482u7j.js","assets/hrd3zywe5ql748qg.js","assets/n9bxuhi2abjjjs86.js","assets/bustf626kupu8tmq.js","assets/oz9iga0t196uh45p.js","assets/l8txpulguntosk7u.js","assets/fvtv66gbcyo8d83l.js","assets/fiopi92hbqnf6y38.js","assets/dz63jikeem6urs0m.js","assets/lzi9kzc39ucmpxz0.js","assets/hoi1e356dpj829zf.js","assets/joa8jajuiu4xqpzn.js","assets/ftrtxkiel0v40sqg.js","assets/cgjoindhhutgs1z4.js","assets/erm6n5lmbxodgs50.js","assets/zta1pq4ds1hak11y.js","assets/iqw8c7pica2coyb9.js","assets/dl9z2ehd50icy9od.js","assets/g2yrrlnprx92uhjb.js","assets/mfwj3virv4i9ko6p.js","assets/gvtmvkg8brwofs4l.js","assets/dbde1xv38cr6eaxy.js","assets/em4qf21fn7t7dhqg.js","assets/comments-plugin-tah3dlup.css","assets/codemirror-gmx89wcl.css","assets/j5a15g8dl19lg071.js","assets/fvu3mi2kgug0sbba.js","assets/c5142ccw2kqju3lk.js","assets/prosemirror-eh65ggsy.css","assets/b2skq2o9dgw287ng.js","assets/ng0sx063g0r0whhb.js","assets/fvmxudg74tbhlabl.js","assets/grn8a526pt96jzlg.js","assets/l9iajfeo7ifxjxwc.js","assets/gvpqzrcgxbwujqw7.js","assets/gk51axr1jredolm8.js","assets/ity1pmibq4f7ojcn.js","assets/bfpssj0ubey4ph3i.js","assets/l28b6esn94dmjzbx.js","assets/mxt01bm3fpoc10fv.js","assets/bcqyuj3uj1pnpyhi.js","assets/l4yn0tubwvglpuy4.js","assets/jq5pvmx1nfwz5so0.js","assets/ImageLightbox-hiyy9716.css"])))=>i.map(i=>d[i]);
var hP=Object.freeze,vP=Object.defineProperty,p0e=Object.defineProperties;var g0e=Object.getOwnPropertyDescriptors;var R3=Object.getOwnPropertySymbols;var yP=Object.prototype.hasOwnProperty,xP=Object.prototype.propertyIsEnumerable;var y1=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),f7=t=>{throw TypeError(t)};var d7=(t,e,n)=>e in t?vP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C=(t,e)=>{for(var n in e||(e={}))yP.call(e,n)&&d7(t,n,e[n]);if(R3)for(var n of R3(e))xP.call(e,n)&&d7(t,n,e[n]);return t},P=(t,e)=>p0e(t,g0e(e));var bP=t=>typeof t=="symbol"?t:t+"",de=(t,e)=>{var n={};for(var r in t)yP.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&R3)for(var r of R3(t))e.indexOf(r)<0&&xP.call(t,r)&&(n[r]=t[r]);return n};var Q=(t,e,n)=>d7(t,typeof e!="symbol"?e+"":e,n),m7=(t,e,n)=>e.has(t)||f7("Cannot "+n);var Pn=(t,e,n)=>(m7(t,e,"read from private field"),n?n.call(t):e.get(t)),Gs=(t,e,n)=>e.has(t)?f7("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),cl=(t,e,n,r)=>(m7(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),on=(t,e,n)=>(m7(t,e,"access private method"),n);var qe=(t,e)=>hP(vP(t,"raw",{value:hP(e||t.slice())}));var hn=function(t,e){this[0]=t,this[1]=e},wa=(t,e,n)=>{var r=(i,l,c,u)=>{try{var d=n[i](l),f=(l=d.value)instanceof hn,m=d.done;Promise.resolve(f?l[0]:l).then(p=>f?r(i==="return"?i:"next",l[1]?{done:p.done,value:p.value}:p,c,u):c({value:p,done:m})).catch(p=>r("throw",p,c,u))}catch(p){u(p)}},s=i=>a[i]=l=>new Promise((c,u)=>r(i,l,c,u)),a={};return n=n.apply(t,e),a[y1("asyncIterator")]=()=>a,s("next"),s("throw"),s("return"),a},p7=t=>{var e=t[y1("asyncIterator")],n=!1,r,s={};return e==null?(e=t[y1("iterator")](),r=a=>s[a]=i=>e[a](i)):(e=e.call(t),r=a=>s[a]=i=>{if(n){if(n=!1,a==="throw")throw i;return i}return n=!0,{done:!1,value:new hn(new Promise(l=>{var c=e[a](i);c instanceof Object||f7("Object expected"),l(c)}),1)}}),s[y1("iterator")]=()=>s,r("next"),"throw"in e?r("throw"):s.throw=a=>{throw a},"return"in e&&r("return"),s},Xn=(t,e,n)=>(e=t[y1("asyncIterator")])?e.call(t):(t=t[y1("iterator")](),e={},n=(r,s)=>(s=t[r])&&(e[r]=a=>new Promise((i,l,c)=>(a=s.call(t,a),c=a.done,Promise.resolve(a.value).then(u=>i({value:u,done:c}),l)))),n("next"),n("return"),e);import{r as g,c as ee,u as pt,a as Vt,d as pe,b as Z,j as o,e as Be,f as ut,R as be,M as N,g as it,h as St,i as kr,k as h0e,m as Se,A as Kt,l as v0e,n as Zl,v as Yn,L as mr,o as eM,p as ac,q as Ho,s as Za,F as y0e,t as tM,w as x0e,x as nM,y as Tg,z as b0e,I as RK,B as C0e,C as OK,D as DK,E as _0e,G as w0e,H as S0e,J as cw,K as k0e,N as FK}from"./jj85rqzpbnvv3emr.js";import{u as h6,g as g7,R as ue,a as Ds,b as Wt,c as m0,W as Ll,d as hs,e as U,F as Ge,T as wt,f as Tt,D as h7,h as za,i as q,j as ie,k as Wn,l as rM,A as qt,m as pf,n as Ng,I as Bi,S as bu,G as In,o as Vn,L as Ft,p as et,q as Vo,r as yt,s as p0,t as wo,B as oe,C as tt,v as Re,w as $n,x as Rn,y as Et,P as B,z as tn,E as On,H as fr,J as gn,K as hi,M as BK,N as Ui,U as Ln,O as at,Q as pa,V as un,X as v6,Y as Yt,Z as wn,_ as ga,$ as Me,a0 as Ee,a1 as y6,a2 as _s,a3 as we,a4 as UK,a5 as sM,a6 as An,a7 as x6,a8 as HK,a9 as ze,aa as Fu,ab as gf,ac as g0,ad as VK,ae as dn,af as $o,ag as M0e,ah as O3,ai as _n,aj as Rt,ak as Sn,al as Ba,am as aM,an as Le,ao as $K,ap as E0e,aq as j0e,ar as or,as as ir,at as b6,au as qK,av as CP,aw as T0e,ax as ve,ay as zK,az as N0e,aA as Cu,aB as A0e,aC as oM,aD as jd,aE as Mr,aF as Fs,aG as Ki,aH as GK,aI as lr,aJ as P0e,aK as I0e,aL as Ce,aM as C6,aN as _6,aO as Hi,aP as WK,aQ as Bu,aR as w6,aS as iM,aT as Fn,aU as Vi,aV as mn,aW as lM,aX as cM,aY as uM,aZ as dM,a_ as Nt,a$ as kp,b0 as ZK,b1 as KK,b2 as YK,b3 as QK,b4 as JK,b5 as XK,b6 as eY,b7 as tY,b8 as L0e,b9 as nY,ba as S6,bb as R0e,bc as Bs,bd as Yi,be as xs,bf as O0e,bg as D0e,bh as rY,bi as Dt,bj as F0e,bk as B0e,bl as U0e,bm as H0e,bn as V0e,bo as ha,bp as h0,bq as fM,br as oc,bs as qo,bt as mM,bu as hf,bv as Dn,bw as yn,bx as pr,by as ad,bz as vf,bA as v0,bB as $0e,bC as Uu,bD as ic,bE as nt,bF as sn,bG as cr,bH as gr,bI as se,bJ as st,bK as kt,bL as q0e,bM as Fe,bN as Hu,bO as _u,bP as Ka,bQ as vn,bR as z0e,bS as G0e,bT as W0e,bU as Z0e,bV as K0e,bW as yf,bX as pM,bY as va,bZ as ko,b_ as lc,b$ as k6,c0 as M6,c1 as zo,c2 as Qi,c3 as gM,c4 as hM,c5 as Y0e,c6 as _P,c7 as Q0e,c8 as Cr,c9 as J0e,ca as Rl,cb as X0e,cc as _i,cd as y0,ce as vs,cf as Io,cg as rt,ch as Ue,ci as At,cj as Te,ck as Ya,cl as Xc,cm as da,cn as wP,co as vM,cp as Go,cq as la,cr as xf,cs as bf,ct as Vu,cu as E6,cv as sY,cw as Pt,cx as aY,cy as oY,cz as Ag,cA as Pg,cB as e3e,cD as t3e,cE as n3e,cF as r3e,cG as s3e,cH as Kl,cI as iY,cJ as a3e,cK as ca,cL as lY,cM as wu,cN as Lo,cO as cY,cP as Ia,cQ as j6,cR as Ol,cS as yM,cT as uw,cU as o3e,cV as SP,cW as i3e,cX as Cf,cY as Ji,cZ as l3e,c_ as c3e,c$ as u3e,d0 as d3e,d1 as f3e,d2 as Or,d3 as ap,d4 as Cl,d5 as m3e,d6 as p3e,d7 as uY,d8 as dY,d9 as Mp,da as kP,db as T6,dc as g3e,dd as h3e,de as N6,df as A6,dg as v3e,dh as y3e,di as xM,dj as MP,dk as bM,dl as Fr,dm as Td,dn as x3e,dp as Nd,dq as P6,dr as fY,ds as mY,dt as b3e,du as C3e,dv as _3e,dw as w3e,dx as S3e,dy as EP,dz as pY,dA as Su,dB as k3e,dC as M3e,dD as E3e,dE as j3e,dF as pn,dG as gY,dH as T3e,dI as CM,dJ as _M,dK as Xi,dL as wM,dM as hY,dN as N3e,dO as x0,dP as Ua,dQ as A3e,dR as I6,dS as vY,dT as yY,dU as Ad,dV as SM,dW as L6,dX as kM,dY as MM,dZ as ji,d_ as $u,d$ as P3e,e0 as R6,e1 as I3e,e2 as L3e,e3 as R3e,e4 as xY,e5 as qu,e6 as zu,e7 as b0,e8 as O3e,e9 as _f,ea as D3e,eb as bY,ec as CY,ed as C0,ee as EM,ef as wf,eg as _Y,eh as wY,ei as SY,ej as Yl,ek as _0,el as kY,em as w0,en as O6,eo as Ir,ep as D6,eq as $i,er as Ep,es as vt,et as ku,eu as F3e,ev as MY,ew as B3e,ex as Je,ey as Ve,ez as Ga,eA as U3e,eB as EY,eC as jM,eD as v7,eE as J,eF as dw,eG as H3e,eH as V3e,eI as Mo,eJ as No,eK as jY,eL as $3e,eM as q3e,eN as Us,eO as z3e,eP as TM,eQ as G3e,eR as NM,eS as W3e,eT as Z3e,eU as F6,eV as K3e,eW as Y3e,eX as TY,eY as Q3e,eZ as AM,e_ as NY,e$ as el,f0 as ss,f1 as Wo,f2 as J3e,f3 as AY,f4 as PY,f5 as IY,f6 as Sf,f7 as Dl,f8 as Rs,f9 as Zn,fa as X3e,fb as e2e,fc as t2e,fd as n2e,fe as LY,ff as B6,fg as RY,fh as OY,fi as PM,fj as r2e,fk as s2e,fl as kf,fm as a2e,fn as U6,fo as o2e,fp as i2e,fq as l2e,fr as c2e,fs as u2e,ft as IM,fu as d2e,fv as Hs,fw as Qa,fx as Ja,fy as f2e,fz as m2e,fA as DY,fB as FY,fC as BY,fD as Kr,fE as UY,fF as H6,fG as p2e,fH as HY,fI as VY,fJ as op,fK as S0,fL as Mu,fM as V6,fN as LM,fO as x1,fP as $Y,fQ as g2e,fR as h2e,fS as v2e,fT as RM,fU as Gu,fV as y2e,fW as kn,fX as Mf,fY as x2e,fZ as qY,f_ as b2e,f$ as jp,g0 as Ql,g1 as zY,g2 as Ef,g3 as $6,g4 as GY,g5 as Er,g6 as C2e,g7 as _t,g8 as _2e,g9 as od,ga as au,gb as OM,gc as q6,gd as DM,ge as y7,gf as z6,gg as w2e,gh as WY,gi as tl,gj as S2e,gk as k2e,gl as G6,gm as M2e,gn as Tp,go as E2e,gp as ZY,gq as j2e,gr as Ha,gs as fw,gt as k0,gu as jf,gv as FM,gw as BM,gx as M0,gy as T2e,gz as Ht,gA as UM,gB as N2e,gC as Va,gD as KY,gE as HM,gF as H1,gG as nl,gH as VM,gI as Zo,gJ as A2e,gK as YY,gL as QY,gM as P2e,gN as I2e,gO as JY,gP as XY,gQ as eQ,gR as tQ,gS as nQ,gT as L2e,gU as R2e,gV as O2e,gW as D2e,gX as F2e,gY as rQ,gZ as B2e,g_ as E0,g$ as U2e,h0 as Xa,h1 as Np,h2 as mw,h3 as H2e,h4 as V2e,h5 as j0,h6 as sQ,h7 as $2e,h8 as vi,h9 as Pd,ha as yi,hb as Id,hc as ho,hd as Ld,he as vo,hf as Rd,hg as Od,hh as q2e,hi as aQ,hj as cc,hk as z2e,hl as pw,hm as $M,hn as oQ,ho as Fl,hp as G2e,hq as W2e,hr as Z2e,hs as K2e,ht as iQ,hu as Y2e,hv as lQ,hw as Q2e,hx as J2e,hy as X2e,hz as cQ,hA as Ig,hB as ege,hC as Bl,hD as uQ,hE as dQ,hF as qM,hG as Lg,hH as tge,hI as id,hJ as ou,hK as nge,hL as rge,hM as W6,hN as jP,hO as sge,hP as fQ,hQ as age,hR as Bn,hS as _l,hT as oge,hU as mQ,hV as Z6,hW as pQ,hX as Ap,hY as gQ,hZ as hQ,h_ as ige,h$ as tg,i0 as lge,i1 as ld,i2 as gw,i3 as Ul,i4 as hw,i5 as K6,i6 as T0,i7 as x7,i8 as Y6,i9 as zM,ia as Wu,ib as ws,ic as vQ,id as Q6,ie as Eu,ig as cge,ih as uge,ii as J6,ij as dge,ik as bs,il as GM,im as Tf,io as Ro,ip as fge,iq as Hn,ir as mge,is as pge,it as gge,iu as hge,iv as vge,iw as Dd,ix as yge,iy as xge,iz as uc,iA as bge,iB as Cge,iC as yQ,iD as xQ,iE as Rg,iF as _ge,iG as wge,iH as Ti,iI as wr,iJ as Sge,iK as xn,iL as bQ,iM as CQ,iN as kge,iO as Yr,iP as _Q,iQ as WM,iR as Jl,iS as dc,iT as Mge,iU as Ege,iV as ZM,iW as jge,iX as wQ,iY as SQ,iZ as Gt,i_ as vw,i$ as kQ,j0 as MQ,j1 as EQ,j2 as Fd,j3 as b7,j4 as C7,j5 as Tge,j6 as TP,j7 as Nge,j8 as jQ,j9 as TQ,ja as NQ,jb as Age,jc as Pge,jd as Ige,je as Lge,jf as Rge,jg as KM,jh as AQ,ji as Oge,jj as Bd,jk as Dge,jl as Fge,jm as Bge,jn as Uge,jo as Hge,jp as Vge,jq as $ge,jr as qge,js as zge,jt as Gge,ju as Wge,jv as PQ,jw as X6,jx as Mn,jy as Zge,jz as Pp,jA as IQ,jB as Kge,jC as e5,jD as LQ,jE as Yge,jF as Qge,jG as Hl,jH as iu,jI as N0,jJ as RQ,jK as YM,jL as A0,jM as _7,jN as Jge,jO as Xge,jP as ehe,jQ as QM,jR as the,jS as nhe,jT as OQ,jU as rhe,jV as she,jW as JM,jX as XM,jY as ahe,jZ as ohe,j_ as DQ,j$ as w7,k0 as S7,k1 as ihe,k2 as eE,k3 as lhe,k4 as che,k5 as uhe,k6 as dhe,k7 as fhe,k8 as mhe,k9 as phe,ka as FQ,kb as ghe,kc as hhe,kd as vhe,ke as yhe,kf as xhe,kg as bhe,kh as Che,ki as _he,kj as whe,kk as tE,kl as BQ,km as She,kn as jt,ko as ts,kp as Ud,kq as khe,kr as Mhe,ks as Ehe,kt as jhe,ku as Og,kv as UQ,kw as The,kx as Nhe,ky as HQ,kz as Ahe,kA as Phe,kB as Ihe,kC as Lhe,kD as Rhe,kE as Ohe,kF as Dhe,kG as Fhe,kH as Bhe,kI as VQ,kJ as Uhe,kK as nE,kL as Hhe,kM as qc,kN as ro,kO as Vhe,kP as $Q,kQ as $he,kR as Nf,kS as Xl,kT as qhe,kU as zhe,kV as rE,kW as Un,kX as sE,kY as Ghe,kZ as V1,k_ as aE,k$ as Whe,l0 as Zhe,l1 as Khe,l2 as Yhe,l3 as ng,l4 as Qhe,l5 as Jhe,l6 as Xhe,l7 as qQ,l8 as zQ,l9 as k7,la as e6e,lb as t6e,lc as n6e,ld as r6e,le as s6e,lf as a6e,lg as o6e,lh as i6e,li as t5,lj as l6e,lk as c6e,ll as u6e,lm as GQ,ln as d6e,lo as f6e,lp as m6e,lq as p6e,lr as g6e,ls as h6e,lt as v6e,lu as oE,lv as y6e,lw as x6e,lx as WQ,ly as b6e,lz as ZQ,lA as NP,lB as yw,lC as C6e,lD as KQ,lE as YQ,lF as _6e,lG as w6e,lH as S6e,lI as k6e,lJ as QQ,lK as M6e,lL as P0,lM as iE,lN as E6e,lO as j6e,lP as lE,lQ as JQ,lR as cE,lS as ju,lT as XQ,lU as fc,lV as T6e,lW as eJ,lX as AP,lY as N6e,lZ as tJ,l_ as A6e,l$ as P6e,m0 as nJ,m1 as I6e,m2 as L6e,m3 as R6e,m4 as O6e,m5 as D6e,m6 as F6e,m7 as B6e,m8 as rJ,m9 as Pc,ma as Vl,mb as U6e,mc as H6e,md as V6e,me as $6e,mf as q6e,mg as z6e,mh as G6e,mi as sJ,mj as uE,mk as W6e,ml as Z6e,mm as K6e,mn as Eo,mo as Y6e,mp as n5,mq as Q6e,mr as J6e,ms as Dg,mt as $t,mu as aJ,mv as X6e,mw as e5e,mx as Vm,my as t5e,mz as n5e,mA as r5e,mB as oJ,mC as Fg,mD as $1,mE as s5e,mF as Zu,mG as Ku,mH as a5e,mI as rg,mJ as sg,mK as o5e,mL as i5e,mM as iJ,mN as l5e,mO as dE,mP as c5e,mQ as lJ,mR as u5e,mS as d5e,mT as PP,mU as f5e,mV as IP,mW as m5e,mX as p5e,mY as cJ,mZ as g5e,m_ as Ic,m$ as M7,n0 as E7,n1 as h5e,n2 as Lc,n3 as v5e,n4 as uJ,n5 as y5e,n6 as dJ,n7 as x5e,n8 as b5e,n9 as fJ,na as C5e,nb as _5e,nc as w5e,nd as S5e,ne as fE,nf as ag,ng as k5e,nh as M5e,ni as E5e,nj as LP,nk as j5e,nl as T5e,nm as D3,nn as N5e,no as dm,np as RP,nq as A5e,nr as P5e,ns as I5e,nt as mJ,nu as L5e,nv as R5e,nw as O5e,nx as F3,ny as pJ,nz as D5e,nA as F5e,nB as B5e,nC as OP,nD as DP,nE as U5e}from"./lef5ym39glv4981l.js";const I0=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M2.6687 11.333V8.66699C2.6687 7.74455 2.66841 7.01205 2.71655 6.42285C2.76533 5.82612 2.86699 5.31731 3.10425 4.85156L3.25854 4.57617C3.64272 3.94975 4.19392 3.43995 4.85229 3.10449L5.02905 3.02149C5.44666 2.84233 5.90133 2.75849 6.42358 2.71582C7.01272 2.66769 7.74445 2.66797 8.66675 2.66797H9.16675C9.53393 2.66797 9.83165 2.96586 9.83179 3.33301C9.83179 3.70028 9.53402 3.99805 9.16675 3.99805H8.66675C7.7226 3.99805 7.05438 3.99834 6.53198 4.04102C6.14611 4.07254 5.87277 4.12568 5.65601 4.20313L5.45581 4.28906C5.01645 4.51293 4.64872 4.85345 4.39233 5.27149L4.28979 5.45508C4.16388 5.7022 4.08381 6.01663 4.04175 6.53125C3.99906 7.05373 3.99878 7.7226 3.99878 8.66699V11.333C3.99878 12.2774 3.99906 12.9463 4.04175 13.4688C4.08381 13.9833 4.16389 14.2978 4.28979 14.5449L4.39233 14.7285C4.64871 15.1465 5.01648 15.4871 5.45581 15.7109L5.65601 15.7969C5.87276 15.8743 6.14614 15.9265 6.53198 15.958C7.05439 16.0007 7.72256 16.002 8.66675 16.002H11.3337C12.2779 16.002 12.9461 16.0007 13.4685 15.958C13.9829 15.916 14.2976 15.8367 14.5447 15.7109L14.7292 15.6074C15.147 15.3511 15.4879 14.9841 15.7117 14.5449L15.7976 14.3447C15.8751 14.128 15.9272 13.8546 15.9587 13.4688C16.0014 12.9463 16.0017 12.2774 16.0017 11.333V10.833C16.0018 10.466 16.2997 10.1681 16.6667 10.168C17.0339 10.168 17.3316 10.4659 17.3318 10.833V11.333C17.3318 12.2555 17.3331 12.9879 17.2849 13.5771C17.2422 14.0993 17.1584 14.5541 16.9792 14.9717L16.8962 15.1484C16.5609 15.8066 16.0507 16.3571 15.4246 16.7412L15.1492 16.8955C14.6833 17.1329 14.1739 17.2354 13.5769 17.2842C12.9878 17.3323 12.256 17.332 11.3337 17.332H8.66675C7.74446 17.332 7.01271 17.3323 6.42358 17.2842C5.90135 17.2415 5.44665 17.1577 5.02905 16.9785L4.85229 16.8955C4.19396 16.5601 3.64271 16.0502 3.25854 15.4238L3.10425 15.1484C2.86697 14.6827 2.76534 14.1739 2.71655 13.5771C2.66841 12.9879 2.6687 12.2555 2.6687 11.333ZM13.4646 3.11328C14.4201 2.334 15.8288 2.38969 16.7195 3.28027L16.8865 3.46485C17.6141 4.35685 17.6143 5.64423 16.8865 6.53613L16.7195 6.7207L11.6726 11.7686C11.1373 12.3039 10.4624 12.6746 9.72827 12.8408L9.41089 12.8994L7.59351 13.1582C7.38637 13.1877 7.17701 13.1187 7.02905 12.9707C6.88112 12.8227 6.81199 12.6134 6.84155 12.4063L7.10132 10.5898L7.15991 10.2715C7.3262 9.53749 7.69692 8.86241 8.23218 8.32715L13.2791 3.28027L13.4646 3.11328ZM15.7791 4.2207C15.3753 3.81702 14.7366 3.79124 14.3035 4.14453L14.2195 4.2207L9.17261 9.26856C8.81541 9.62578 8.56774 10.0756 8.45679 10.5654L8.41772 10.7773L8.28296 11.7158L9.22241 11.582L9.43433 11.543C9.92426 11.432 10.3749 11.1844 10.7322 10.8271L15.7791 5.78027L15.8552 5.69629C16.185 5.29194 16.1852 4.708 15.8552 4.30371L15.7791 4.2207Z"})),Oyt=Object.freeze(Object.defineProperty({__proto__:null,default:I0},Symbol.toStringTag,{value:"Module"}));var We=(t=>(t.Onboarding="oai/apps/hasSeenOnboarding",t.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",t.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",t.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",t.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",t.NewOnboardingConvo="oai/apps/hasSeenNewUserOnboardingConvo",t.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",t.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",t.hasDismissedCanvasOnboarding="oai/apps/hasDismissedCanvasOnboarding",t.HasSeenAdvancedVoiceOnMobile="oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",t.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",t.UseSidekick="oai/apps/hasDismissedUseSidekick",t.UseSidetron="oai/apps/hasDismissedUseSidetron",t.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",t.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",t.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",t.hasSeenComposerSearchButtonTooltip="oai/apps/hasSeenComposerSearchButtonTooltip",t.hasSeenComposerContextualAnswerTooltip="oai/apps/hasSeenComposerContextualAnswerTooltip",t.hasSeenConnectorsNuxModal="oai/apps/hasSeenConnectorsNuxModal",t.hasSeenGoogleConnectorsNuxModal="oai/apps/hasSeenGoogleConnectorsNuxModal",t.hasSeenContextualAnswerGoogleSyncFinished="oai/apps/hasSeenContextualAnswerGoogleSyncFinished",t.hasSeenConnectorsSourcesPillTooltip="oai/apps/hasSeenConnectorsSourcesPillTooltip",t.hasSeenConnectorsUpgradeFileAccessModal="oai/apps/hasSeenConnectorsUpgradeFileAccessModal",t.hasSeenComposerSystemHintButtonTooltip="oai/apps/hasSeenComposerSystemHintButtonTooltip",t.hasSeenPioneer="oai/apps/hasSeenPioneer",t.hasSeenMaverick="oai/apps/hasSeenMaverick",t.hasSeenMaverickCapi="oai/apps/hasSeenMaverickCapi",t.hasSeenTrailBlazer="oai/apps/hasSeenTrailBlazer",t.hasSeenStratos="oai/apps/hasSeenStratos",t.hasSeenStarpath01="oai/apps/hasSeenStarpath01",t.hasSeenStarpath02="oai/apps/hasSeenStarpath02",t.hasSeenStarpath03="oai/apps/hasSeenStarpath03",t.hasSeenStarpath04="oai/apps/hasSeenStarpath04",t.hasSeenAdvancedVoiceNuxFullPage="oai/apps/hasSeenAdvancedVoice/2024-09-24",t.hasSeenWindowsAppOnboarding="oai/apps/hasSeenWindowsAppOnboarding",t.DesktopBrowserExtensionAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionAnnouncement",t.DesktopBrowserExtensionReactiveAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionReactiveAnnouncement",t.DesktopOperatorAnnouncement="oai/apps/hasSeenDesktopOperatorAnnouncement",t.DesktopClassmatesPromotionAnnouncement="oai/apps/hasSeenDesktopClassmatesPromotionAnnouncement",t.NewOnboardingFlow="oai/apps/hasSeenOnboardingFlow",t.NewStaticOnboardingFlow="oai/apps/hasSeenStaticOnboarding",t.NewPromptOnboardingFlow="oai/apps/hasSeenPromptOnboarding",t.CreateExampleChatsOnboarding="oai/apps/hasCreatedExampleChats",t.hasUsedConversationalOnboardingStarterPrompt="oai/apps/hasUsedNewUserStarterPrompt",t.hasSeenProjectsWebNuxTooltip="oai/apps/hasSeenProjectsWebNuxTooltip",t.hasSeenProjectsUpdateNuxTooltip="oai/apps/hasSeenProjectsUpdateNuxTooltip",t.hasSeenProjectsToFree="oai/apps/hasSeenProjectsToFree",t.hasSeenMemoryInSearch="oai/apps/hasSeenMemoryInSearch",t.hasSeenMoonshineNux="oai/apps/hasSeenMoonshineNux",t.hasSeenMoonshineNuxV2="oai/apps/hasSeenMoonshineNuxV2",t.hasSeenGoldenHourNux="oai/apps/hasSeenGoldenHourNux",t.hasSeenGoldenHourAnnouncement="oai/apps/hasSeenGoldenHourAnnouncement",t.hasSeenInlineFeedbackCustomInstrMessage="oai/apps/hasSeenInlineFeedbackCustomInstrMessage",t.hasSeenCaSystemHint="oai/apps/hasSeenCaSystemHint",t.hasDismissedPromoRedemption="oai/apps/hasDismissedPromoRedemption",t.hasSeenFilePickerNuxTooltip="oai/apps/hasSeenFilePicker",t.hasSeenMultipleGPTEditorsTooltip="oai/apps/hasSeenMultipleGPTEditorsTooltip",t.hasSeenSharedProjectsTooltip="oai/apps/hasSeenSharedProjectsTooltip",t.hasSeenPhoenixNux="oai/apps/hasSeenPhoenixNux",t.hasSeenPhoenixFreeNux="oai/apps/hasSeenPhoenixFreeNux",t.hasSeenAshwingNux="oai/apps/hasSeenAshwingNux",t.hasDismissedReferrerRedemption="oai/apps/hasDismissedReferrerRedemption",t.hasDismissedRefereeRedemption="oai/apps/hasDismissedRefereeRedemption",t.hasSeenReferralUpsellAnnouncement="oai/apps/hasSeenReferralProgramUpsell",t.hasSeenTatertotIntakeForm="oai/apps/hasSeenTatertotIntakeForm",t.hasSeenComposerBigBoxEnterHint="oai/apps/hasSeenComposerBigBoxEnterHint",t.d2dee219="oai/apps/d2dee219",t.hasSeenStudentsUpsellAnnouncement="oai/apps/hasSeenStudentsUpsellAnnouncement",t.hasSeenMemoryUpdatedTooltip="oai/apps/hasSeenMemoryUpdatedTooltip",t.hasSeenTeamSeatsPromoAnnouncement="oai/apps/hasSeenTeamSeatsPromoAnnouncement",t.hasSeenTeamsContextualAnswersUpsell="oai/apps/hasSeenTeamsContextualAnswersUpsell",t.hasSeenO3O4MiniAutomations="oai/apps/hasSeenO3O4MiniAutomations",t.hasSeenn7jupdNux="oai/apps/hasSeenn7jupdNux",t.hasSeenTatertotNux="oai/apps/hasSeenTatertotNux",t.hasSeenTatertotQuizNux="oai/apps/hasSeenTatertotQuizNux",t.hasSeenAudioParagenPrompt="oai/apps/hasSeenAudioParagenPrompt",t.hasSeenOdysseyConnectorsModal="oai/apps/hasSeenOdysseyConnectorsModal",t.hasSeenOdysseyTakeoverModal="oai/apps/hasSeenOdysseyTakeoverModal",t.hasSeenAgentModeAnnouncementBanner="oai/apps/hasSeenAgentModeAnnouncementBanner",t.hasSeenWorkspaceDiscoveryFirstLogin="oai/apps/hasSeenWorkspaceDiscoveryFirstLogin",t.hasSeenFreeTrialUpsellModal="oai/apps/hasSeenPlusOrBusinessFreeTrial",t.hasSeenWorkSpacePolicy="oai/apps/hasSeenWorkSpacePolicy",t.hasSeenJoinWorkspaceBanner="oai/apps/hasSeenJoinWorkspaceBanner",t))(We||{});function H5e(){"use forget";return h6(V5e)}function V5e(t){return t.eligible_announcements}function $e(t){"use forget";const e=ee.c(16),{data:n,isLoading:r}=H5e();let s;e[0]!==n?(s=n===void 0?[]:n,e[0]=n,e[1]=s):s=e[1];const a=s,{mutate:i}=$5e(),{mutate:l}=z5e();let c;e[2]!==t||e[3]!==i?(c=()=>i({key:t}),e[2]=t,e[3]=i,e[4]=c):c=e[4];const u=c;let d;e[5]!==t||e[6]!==l?(d=()=>l({key:t}),e[5]=t,e[6]=l,e[7]=d):d=e[7];const f=d;let m;e[8]!==a||e[9]!==t?(m=a.includes(t),e[8]=a,e[9]=t,e[10]=m):m=e[10];let p;return e[11]!==r||e[12]!==u||e[13]!==f||e[14]!==m?(p={eligible:m,markAsViewed:u,markAsViewedDontInvalidateCache:f,isLoading:r},e[11]=r,e[12]=u,e[13]=f,e[14]=m,e[15]=p):p=e[15],p}function $5e(){"use forget";const t=ee.c(2),e=pt();let n;return t[0]!==e?(n={mutationFn:q5e,onMutate:r=>{var i;const{key:s}=r,a=e.getQueryData(g7().queryKey);(i=a==null?void 0:a.persistent_announcements)!=null&&i.includes(s)||e.setQueryData(g7().queryKey,l=>l&&P(C({},l),{eligible_announcements:l.eligible_announcements.filter(c=>c!==s)}))},onSuccess:()=>{e.invalidateQueries(g7())}},t[0]=e,t[1]=n):n=t[1],Vt(n)}function q5e(t){const{key:e}=t;return ue.safePost("/settings/announcement_viewed",{parameters:{query:{announcement_id:e}}})}function z5e(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:G5e},t[0]=e):e=t[0],Vt(e)}function G5e(t){const{key:e}=t;return ue.safePost("/settings/announcement_viewed",{parameters:{query:{announcement_id:e}}})}const gJ="oai/apps/hasSeenl1239dk1LaunchNux",W5e="oai/apps/hasSeenl1239dk1Onboarding",Z5e="oai/apps/hasSeenl1239dk1Bon",K5e="oai/apps/hasSeenl1239dk1CreateFirstEnvModal",Y5e="oai/apps/hasSeenl1239dk1NewFeatures",Q5e="oai/apps/hasSeenl1239dk1CodeReviewTab";function J5e(){return $e(gJ)}function hJ(){return $e(W5e)}function Dyt(){return $e(Z5e)}function Fyt(){return $e(K5e)}function Byt(){return $e(Y5e)}function Uyt(){return $e(Q5e)}var mE=(t=>(t.Personal="chat",t.Workspace="workspace",t.Team="team",t))(mE||{});function Hyt(){const t=Z(),e=t.formatMessage(ps.adminRoleName),n=t.formatMessage(ps.ownerRoleName),r=t.formatMessage(ps.standardRoleName);return g.useMemo(()=>({[Ll.OWNER]:n,[Ll.ADMIN]:e,[Ll.STANDARD]:r}),[n,e,r])}function Vyt(t){const e=Z();return t!=null&&t.isWorkspaceAccount()?t.isTeam()?e.formatMessage(ps.teamPlanName):t.isEdu()?e.formatMessage(ps.eduPlanName):e.formatMessage(ps.enterprisePlanName):e.formatMessage(ps.personalPlanName)}function X5e(t){const e=Z();return r5(e,t)}function pE(){const{data:t}=Ds(),e=m0(t),n=Z();return r5(n,e)}function r5(t,e){var n;return e==null||e.isPersonalAccount()?t.formatMessage(ps.personalWorkspaceTitle):(n=e.data.name)!=null?n:t.formatMessage(ps.defaultWorkspaceTitle)}function $yt(t,e,n){return e==null||e.isPersonalAccount()?n?t.formatMessage(ps.personalDefaultWorkspaceTitle,{name:n.name}):t.formatMessage(ps.personalWorkspaceTitle):e&&e.data.name?e.data.name:t.formatMessage(ps.defaultWorkspaceTitle)}function e4e(t,e,n){var r;return e==null||e.isPersonalAccount()?(r=n==null?void 0:n.name)!=null?r:t.formatMessage(ps.personalWorkspaceTitle):e.data.name?e.data.name:t.formatMessage(ps.defaultWorkspaceTitle)}function t4e(){var e;const t=Wt();return(e=t==null?void 0:t.email)!=null?e:null}function qyt(){var e,n;const t=Wt();return(n=(e=t==null?void 0:t.name)!=null?e:t==null?void 0:t.email)!=null?n:null}function vJ(){return hs(({workspaces:t})=>t)}function yJ(){var r;const{data:t,isFetching:e}=Ds();return{data:(r=t==null?void 0:t.accountItems.filter(s=>!s.isDeactivated()))!=null?r:[],isFetching:e}}function zyt(t){const n=vJ().find(r=>r.id===t);return(n==null?void 0:n.role)===Ll.OWNER}function Gyt(t){const n=vJ().find(r=>r.id===t);return(n==null?void 0:n.role)===Ll.ADMIN}const ps=pe({defaultWorkspaceTitle:{id:"useWorkspaces.defaultWorkspaceTitle",defaultMessage:"Untitled Workspace"},personalWorkspaceTitle:{id:"useWorkspaces.personalWorkspaceTitle",defaultMessage:"Personal account"},personalDefaultWorkspaceTitle:{id:"useWorkspaces.personaldefaultWorkspaceTitle",defaultMessage:"{name}'s Workspace"},personalPlanName:{id:"useWorkspaces.personalPlanName",defaultMessage:"Personal"},enterprisePlanName:{id:"useWorkspaces.enterprisePlanName",defaultMessage:"Enterprise"},eduPlanName:{id:"useWorkspaces.eduPlanName",defaultMessage:"Edu"},teamPlanName:{id:"useWorkspaces.teamPlanName",defaultMessage:"Team"},adminRoleName:{id:"useWorkspaces.adminRoleName",defaultMessage:"Admin"},ownerRoleName:{id:"useWorkspaces.ownerRoleName",defaultMessage:"Owner"},standardRoleName:{id:"useWorkspacews.standardRoleName",defaultMessage:"Member"}});function $l({id:t,label:e,checked:n,onChange:r,disabled:s,className:a,labelClassName:i,readOnly:l,containerClassName:c,labelSide:u="right",style:d}){const f=e&&o.jsx("label",{className:U("form-check-label text-token-text-primary",i),htmlFor:t,children:e});return o.jsxs("div",{className:U("form-check flex items-center gap-2",c),children:[u==="left"&&f,o.jsx("input",{className:U("form-check-input float-start h-4 w-4 appearance-none rounded-xs border border-gray-300 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-hidden",s?"cursor-not-allowed":"cursor-pointer",a),type:"checkbox",disabled:s,onChange:r,checked:n,readOnly:l,id:t,"data-testid":t,style:d}),u==="right"&&f]})}var fZ;const Wyt=Ge.div(fZ||(fZ=qe(["text-base text-token-text-primary flex flex-col gap-9 my-6"])));var mZ;const n4e=Ge.div(mZ||(mZ=qe(["text-base font-semibold"])));var pZ;const Zyt=Ge.div(pZ||(pZ=qe(["text-base font-semibold"])));var gZ;const Kyt=Ge.div(gZ||(gZ=qe(["flex flex-col divide-y divide-token-border-default border-y border-token-border-default"])));var hZ;const r4e=Ge.div(hZ||(hZ=qe(["flex flex-col w-full m-auto md:m-0"])));var vZ;const s4e=Ge.div(vZ||(vZ=qe(["text-sm"])));var yZ;const Yyt=Ge.div(yZ||(yZ=qe(["flex justify-between py-3 gap-4"])));var xZ;const Qyt=Ge.hr(xZ||(xZ=qe(["max-w-xl border-token-border-default"])));var bZ;const Jyt=Ge.div(bZ||(bZ=qe(["text-token-text-secondary text-sm mt-6"]))),a4e=({icon:t,title:e,body:n,toggle:r,disabled:s=!1,disabledPill:a,disabledMessage:i,children:l,showDivider:c=!0})=>o.jsx(wt,{label:i,side:"top",disabled:!s||!i,className:"max-w-xl",triggerAs:null,children:o.jsxs("div",{children:[o.jsxs(r4e,{className:U("border-token-border-default mb-3 p-6",s&&"text-token-text-tertiary"),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[t&&o.jsx(t,{className:"icon-sm"}),o.jsxs(n4e,{className:"flex items-center gap-3",children:[e,s&&a&&o.jsx("span",{className:"bg-token-main-surface-tertiary rounded-xl px-2 pb-0.5 text-sm",children:a})]})]}),o.jsx("div",{children:r})]}),o.jsx(s4e,{children:n}),l&&o.jsx("div",{className:"mt-4",children:l})]}),c&&o.jsx("div",{className:"border-token-border-default mt-6 border border-t"})]})});class $m extends Error{}$m.prototype.name="InvalidTokenError";function o4e(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function i4e(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return o4e(e)}catch(n){return atob(e)}}function xJ(t,e){if(typeof t!="string")throw new $m("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new $m("Invalid token specified: missing part #".concat(n+1));let s;try{s=i4e(r)}catch(a){throw new $m("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(a.message,")"))}try{return JSON.parse(s)}catch(a){throw new $m("Invalid token specified: invalid json for part #".concat(n+1," (").concat(a.message,")"))}}function bJ(t,e){return ut({queryKey:["workspace/identity",t],queryFn:async()=>{if(t!==void 0)return await ue.safeGet("/accounts/{account_id}/identity",{parameters:{path:{account_id:t}}})},enabled:e})}function Xyt(t){const e=rM(t),n=e?xJ(e):null,r=n==null?void 0:n.pwd_auth_time;return r==null?!1:Date.now()-r<60*30*1e3}function l4e(t){return ut({queryKey:["sso/workos/connections",t],queryFn:()=>{if(t!==void 0)return ue.safeGet("/accounts/{account_id}/sso/workos/connections/list",{authOption:qt.SendIfAvailable,parameters:{path:{account_id:t}}})},enabled:t!=null,retry:(e,n)=>n instanceof Wn&&(n.status===401||n.code==="reauth_required")?!1:e<3})}function ext(){const t=hs(za.workspaceId),e=q(),n=ie(e,"4105779609"),s=hs(za.isTeamPlan)?n:!0,{data:a,isFetching:i,isPending:l}=l4e(s&&t!=null?t:void 0),c=a instanceof Wn?a:void 0;return{connection:c||a==null?void 0:a[0],error:c,enabled:s,isLoading:i||l}}function txt(t){const e=pt();return Vt({mutationFn:()=>ue.safePost("/accounts/{account_id}/sso/connections/workos",{requestBody:{enabled_client_names:["chat"]},authOption:qt.SendIfAvailable,parameters:{path:{account_id:t}}}),onSuccess:()=>{e.refetchQueries({queryKey:["sso/workos/connections",t]})}})}function nxt(){const t=hs(za.workspaceId),{data:e}=bJ(t!=null?t:void 0,t!=null);return e==null?void 0:e.allow_external_domain_invites}function rxt(){const t=hs(za.workspaceId),{data:e}=bJ(t!=null?t:void 0,t!=null);return g.useMemo(()=>(e==null?void 0:e.domains)&&(e==null?void 0:e.domains.filter(n=>n.status==="verified")),[e==null?void 0:e.domains])}function sxt(t){const e=Z(),n=Tt(),r=pt();return Vt({mutationFn:({shouldAutoProvision:s})=>ue.safePost("/accounts/{account_id}/settings/auto_provision",{parameters:{path:{account_id:t}},requestBody:{value:s}}).then(a=>{const i=s?Ni.autoProvisionEnabledToast:Ni.autoProvisionDisabledToast;return n.success(e.formatMessage(i),{duration:3}),a}).catch(a=>{throw n.danger(a.message,{toastId:"useShouldAutoProvisionMutation",loggingTitle:a.message,loggingDescription:"Auto provisioning toggle failed"}),a}),onSuccess:()=>{r.invalidateQueries({queryKey:["workspace/identity",t]})}})}function axt(t){const e=Z(),n=Tt(),r=pt();return Vt({mutationFn:async({shouldAllowExternalDomainInvites:s})=>{try{const a=await ue.safePost("/accounts/{account_id}/settings/allow_external_domain_invites",{parameters:{path:{account_id:t}},requestBody:{value:s}}),i=s?Ni.allowExternalDomainInvitesToast:Ni.disableExternalDomainInvitesToast;return n.success(e.formatMessage(i),{duration:3}),a}catch(a){throw n.danger(a.message,{toastId:"useShouldDisableExternalDomainInvitesMutation",loggingTitle:a.message,loggingDescription:"External domain invites toggle failed"}),a}},onSuccess:()=>{r.invalidateQueries({queryKey:["workspace/identity",t]})}})}function oxt(t){const e=pt(),n=Tt();return Vt({mutationFn:({hostname:r})=>ue.safePost("/accounts/{account_id}/domains",{parameters:{path:{account_id:t}},requestBody:{hostname:r}}),onSuccess:()=>{e.invalidateQueries({queryKey:["workspace/identity",t]}),e.invalidateQueries({queryKey:["builderProfile"]})},onError:r=>{n.danger(r.message,{toastId:"useAddDomainMutation",loggingTitle:r.message,loggingDescription:"Domain add failed"})}})}function c4e(t){const e=pt();return Vt({mutationFn:({domainId:n})=>ue.safeDelete("/accounts/{account_id}/domains/{domain_id}",{parameters:{path:{account_id:t,domain_id:n}}}),onSuccess:()=>{e.refetchQueries({queryKey:["workspace/identity",t]}),e.refetchQueries({queryKey:["builderProfile"]})}})}function CJ(t){const e=pt(),n=Tt(),r=Z();return Vt({mutationFn:({value:s,public_display_name:a,use_workspace_name_for_discovery:i})=>ue.safePost("/accounts/{account_id}/settings/workspace_discoverable",{parameters:{path:{account_id:t}},requestBody:{value:s,public_display_name:a,use_workspace_name_for_discovery:i}}),onSuccess:(s,a)=>{e.invalidateQueries({queryKey:["workspace-settings",t]}),e.invalidateQueries({queryKey:["discoverable-workspaces"]});let i;a.action==="name"?i=Ni.discoveryDisplayNameUpdatedToast:i=a.value?Ni.discoveryEnabledToast:Ni.discoveryDisabledToast,n.success(r.formatMessage(i),{duration:3})},onError:s=>{var a;n.danger((a=s.message)!=null?a:"Failed to update discovery settings",{toastId:"workspace_discoverability",loggingTitle:s.message,loggingDescription:"Workspace discoverability update failed"})}})}function u4e(t){const e=pt(),n=Tt(),r=Z();return Vt({mutationFn:({autoAcceptRequests:s})=>ue.safePost("/accounts/{account_id}/settings/auto_accept_requests",{parameters:{path:{account_id:t}},requestBody:{value:s}}),onSuccess:(s,a)=>{e.invalidateQueries({queryKey:["workspace-settings",t]});const i=a.autoAcceptRequests?Ni.manualApprovalDisabledToast:Ni.manualApprovalEnabledToast;n.success(r.formatMessage(i),{duration:3})},onError:s=>{var a;n.danger((a=s.message)!=null?a:"Failed to update approval setting",{toastId:"workspace_manual_approval",loggingTitle:s.message,loggingDescription:"Workspace manual approval update failed"})}})}function ixt(t){const e=pt();return Vt({mutationFn:({enforcementStatus:n})=>ue.safePost("/accounts/{account_id}/sso/workos/connections/workos_enforcement",{parameters:{path:{account_id:t}},requestBody:{enforcement_status:n}}),onSuccess:()=>{e.refetchQueries({queryKey:["sso/workos/connections",t]})}})}function lxt(t){const e=pt();return Vt({mutationFn:()=>ue.safePost("/accounts/{account_id}/sso/workos/connections/toggle_enabled",{parameters:{path:{account_id:t}}}),onSuccess:()=>{e.refetchQueries({queryKey:["sso/workos/connections",t]})}})}var CZ;Ge.div(CZ||(CZ=qe(["text-md mb-4 text-token-text-secondary"])));const cxt={[h7.VERIFIED]:Be({id:"i7FkyS",defaultMessage:"Verified"}),[h7.PENDING]:Be({id:"THBv/l",defaultMessage:"Pending"}),[h7.EXPIRED]:Be({id:"+sjWGK",defaultMessage:"Expired"})},Ni=pe({autoProvisionEnabledToast:{id:"workspaceIdentity.autoProvisionEnabledToast",defaultMessage:"Auto provisioning enabled for this workspace"},autoProvisionDisabledToast:{id:"workspaceIdentity.autoProvisionDisabledToast",defaultMessage:"Auto provisioning disabled for this workspace"},allowExternalDomainInvitesToast:{id:"j0jI/4",defaultMessage:"External domain invites are allowed for this workspace"},disableExternalDomainInvitesToast:{id:"67yB97",defaultMessage:"External domain invites are disabled for this workspace"},discoveryEnabledToast:{id:"workspaceIdentity.discoveryEnabledToast",defaultMessage:"Workspace is now discoverable"},discoveryDisabledToast:{id:"workspaceIdentity.discoveryDisabledToast",defaultMessage:"Workspace is no longer discoverable"},discoveryDisplayNameUpdatedToast:{id:"workspaceIdentity.discoveryDisplayNameUpdatedToast",defaultMessage:"Workspace display name updated"},manualApprovalEnabledToast:{id:"workspaceIdentity.manualApprovalEnabledToast",defaultMessage:"Join requests now require manual approval"},manualApprovalDisabledToast:{id:"workspaceIdentity.manualApprovalDisabledToast",defaultMessage:"Join requests will be auto-accepted"}}),_J=128;function uxt({workspaceId:t}){var A,I;const e=Z(),{data:n,isPending:r}=pf(t),{mutateAsync:s,isPending:a}=CJ(t),{mutateAsync:i,isPending:l}=u4e(t),c=Wt(),u=(A=c==null?void 0:c.email)==null?void 0:A.split("@")[1],d=!!(n!=null&&n.workspace_discoverable),f=(n==null?void 0:n.auto_accept_requests)===!0,m=(n==null?void 0:n.use_workspace_name_for_discovery)===!0,p=m?"":(I=n==null?void 0:n.public_display_name)!=null?I:"",h=pE(),[v,y]=be.useState(""),[x,b]=be.useState(!1);if((n==null?void 0:n.support_workspace_discovery)===!1)return null;const w=x?v:p,S=v.trim(),k=!x||S===p.trim(),M=r,E=M||a||l,T=M||l,j=!a&&!m&&(x?v.trim()!=="":p.trim()!=="");return o.jsx(a4e,{title:o.jsx(N,C({},Ws.discoveryTitle)),body:u?o.jsx(N,P(C({},Ws.discoveryBodyWithDomain),{values:{domain:u}})):o.jsx(N,C({},Ws.discoveryBodyGeneric)),toggle:o.jsx(Ng,{disabled:E,checked:d,onCheckedChange:async L=>{await s({value:L,public_display_name:p===""?null:p,use_workspace_name_for_discovery:m,action:"toggle"}),L||b(!1)},"aria-label":e.formatMessage(Ws.discoveryToggleLabel)}),disabled:M,children:d&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-token-text-primary text-base font-semibold",children:o.jsx(N,C({},Ws.autoAcceptLabel))}),o.jsx(Ng,{disabled:T,checked:f,onCheckedChange:async L=>{await i({autoAcceptRequests:L})},"aria-label":e.formatMessage(Ws.autoAcceptToggleLabel)})]}),o.jsx("div",{className:"text-token-text-secondary mb-4 text-xs",children:o.jsx(N,C({},Ws.autoAcceptHelp))}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{htmlFor:"public_display_name",className:"text-token-text-primary mb-1 block text-base font-semibold",children:o.jsx(N,C({},Ws.publicDisplayNameLabel))}),o.jsx("div",{className:"text-token-text-secondary mb-2 text-xs",children:o.jsx(N,P(C({},Ws.publicDisplayNameHelp),{values:{workspaceName:h}}))}),o.jsx("div",{className:"mb-2",children:o.jsx($l,{id:"use-workspace-name-for-discovery",checked:m,disabled:E,onChange:async L=>{const O=L.currentTarget.checked;await s({value:d,public_display_name:O?null:p||null,use_workspace_name_for_discovery:O,action:"name"}),O&&b(!1)},label:o.jsx("span",{className:"text-sm",children:o.jsx(N,C({},Ws.workspaceNameSameAsCheckbox))})})}),!m&&o.jsxs(o.Fragment,{children:[o.jsx(Bi,{name:"public_display_name",ariaLabel:!1,placeholder:h,maxLength:_J,value:w,onChange:L=>{y(L.target.value),b(!0)},insideContainerChildren:j?o.jsx("button",{type:"button",className:"text-token-text-tertiary hover:text-token-text-secondary absolute end-0 top-1/2 -translate-y-1/2 pe-1","aria-label":e.formatMessage(Ws.clearToWorkspaceNameAria),onClick:()=>{y(""),b(!0)},children:o.jsx(bu,{className:"icon-sm"})}):null}),o.jsx("div",{className:"mt-2 flex justify-end",children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{className:U("disabled:pointer-events-none disabled:cursor-auto disabled:hover:bg-transparent",a||k?"btn btn-secondary":"btn btn-primary"),disabled:a||k,"aria-busy":a||void 0,onClick:async()=>{if(a||k)return;const L=S===""?null:S;await s({value:d,public_display_name:L,use_workspace_name_for_discovery:L==null,action:"name"}),b(!1)},children:o.jsx(N,C({},Ws.saveDisplayNameCta))})})})]})]})]})})}const Ws=pe({discoveryTitle:{id:"workspaceIdentity.discoveryTitle",defaultMessage:"Enable workspace discovery"},discoveryBodyGeneric:{id:"workspaceIdentity.discoveryBodyGeneric",defaultMessage:"Allow users with your email domain and your workspace verified domains to find and request to join this workspace."},discoveryBodyWithDomain:{id:"workspaceIdentity.discoveryBodyWithDomain",defaultMessage:"Allow users with the email domain {domain} and your workspace verified domains to find and request to join this workspace."},discoveryToggleLabel:{id:"workspaceIdentity.discoveryToggleLabel",defaultMessage:"Enable workspace discovery"},publicDisplayNameLabel:{id:"workspaceIdentity.publicDisplayNameLabel",defaultMessage:"Discoverable name"},autoAcceptLabel:{id:"workspaceIdentity.autoAcceptLabel",defaultMessage:"Automatically accept join requests"},autoAcceptToggleLabel:{id:"workspaceIdentity.autoAcceptToggleLabel",defaultMessage:"Toggle automatic acceptance of join requests"},autoAcceptHelp:{id:"workspaceIdentity.autoAcceptHelp",defaultMessage:"When on, users who request to join your workspace are added automatically. Each new member is billed as a seat."},saveDisplayNameCta:{id:"workspaceIdentity.saveDisplayNameCta",defaultMessage:"Save"},publicDisplayNameHelp:{id:"workspaceIdentity.publicDisplayNameHelp",defaultMessage:"This is what users will see when they request access to this workspace."},clearToWorkspaceNameAria:{id:"workspaceIdentity.clearToWorkspaceNameAria",defaultMessage:"Clear and use workspace name"},workspaceNameSameAsCheckbox:{id:"workspaceIdentity.workspaceNameSameAsCheckbox",defaultMessage:"Same as workspace name"}});function d4e(t){return t===Ll.ADMIN||t===Ll.OWNER}function f4e(t){return t===Ll.OWNER}function dxt(t,e){switch(e){case Vn.BROWSER:return"Web browsing";case Vn.PYTHON:return"Code interpreter & Data Analysis";case Vn.JIT_PLUGIN:return"Custom actions";case Vn.RETRIEVAL:return"File retrieval";case Vn.DALLE:return"DALLÂ·E image generation";case Vn.IMAGE_GEN:return"4o image generation";case In.Private:return"Builder only";case In.Workspace:return t.data.name;case In.Link:return"Anyone with link";case In.Marketplace:return"Public";default:return null}}const b1=pe({title:{id:"workspaceDiscovery.renamePromptModal.title",defaultMessage:"Set a workspace display name"},laterCta:{id:"workspaceDiscovery.renamePromptModal.laterCta",defaultMessage:"Update later"},save:{id:"workspaceDiscovery.renamePromptModal.save",defaultMessage:"Update"},checkboxLabel:{id:"workspaceDiscovery.renamePromptModal.checkboxLabel",defaultMessage:"Use workspace name (recommended)"},body:{id:"workspaceDiscovery.renamePromptModal.body.1",defaultMessage:"This is what teammates on your domain will see when they request to join your workspace. <learnMoreLink>Open settings</learnMoreLink>.{br}{br}Current: <b>{currentName}</b>"},clearToWorkspaceNameAria:{id:"workspaceIdentity.clearToWorkspaceNameAria",defaultMessage:"Clear and use workspace name"}}),FP={dismissedAt:0,shownCount:0},wJ=t=>{if(!t)return FP;try{const e=JSON.parse(t);return{dismissedAt:Number(e.dismissedAt)||0,shownCount:Number(e.shownCount)||0}}catch(e){return FP}},m4e=5,p4e=t=>{"use forget";var M;const e=ee.c(6),n=q(),r=hs(v4e),s=r!=null?f4e(r.role)||d4e(r.role):void 0,a=Wt(),i=(a==null?void 0:a.email_domain_type)==="professional",l=wJ(Ft.getItem(et.WorkspaceDiscoveryRenamePromptInfo)),c=Date.now()>l.dismissedAt+864e5,u=l.shownCount<m4e,d=ie(n,"1053331630"),f=ie(n,"3592108663"),m=s&&i&&d&&f&&c&&u&&!!t,{data:p,isLoading:h}=pf(m?t:void 0),v=!!(p!=null&&p.workspace_discoverable),y=(p==null?void 0:p.use_workspace_name_for_discovery)===!0,b=(y?"":(M=p==null?void 0:p.public_display_name)!=null?M:"").includes("Workspace #");if(!(m&&!h&&v&&!y&&b)){let E;return e[0]!==h?(E={isOpen:!1,isLoading:h},e[0]=h,e[1]=E):E=e[1],E}let w;e[2]!==n?(w=Vo(n,"309365540").get("enable",!1),e[2]=n,e[3]=w):w=e[3];const S=w;let k;return e[4]!==S?(k={isOpen:S,isLoading:!1},e[4]=S,e[5]=k):k=e[5],k},g4e=t=>{"use forget";const e=ee.c(6),{onClose:n}=t,r=q();let s;if(e[0]!==r){const u=yt(r);s=u==null?void 0:u.getWorkspaceId(),e[0]=r,e[1]=s}else s=e[1];const a=s,{data:i,isPending:l}=pf(a);if(!a||l||!i)return null;let c;return e[2]!==n||e[3]!==i||e[4]!==a?(c=o.jsx(h4e,{onClose:n,workspaceId:a,settings:i}),e[2]=n,e[3]=i,e[4]=a,e[5]=c):c=e[5],c},h4e=t=>{"use forget";var _e;const e=ee.c(61),{onClose:n,workspaceId:r,settings:s}=t,a=Z(),i=q();let l;e[0]!==i||e[1]!==n?(l=()=>{wo(i,"chatgpt_workspace_discovery_rename_prompt_modal_closed"),n()},e[0]=i,e[1]=n,e[2]=l):l=e[2];const c=l;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=wJ(Ft.getItem(et.WorkspaceDiscoveryRenamePromptInfo)),e[3]=u):u=e[3];const d=u,{mutateAsync:f,isPending:m}=CJ(r),p=pE(),h=!!(s!=null&&s.workspace_discoverable),v=(s==null?void 0:s.use_workspace_name_for_discovery)===!0,y=v?"":(_e=s==null?void 0:s.public_display_name)!=null?_e:"",[x,b]=g.useState(!0),[_,w]=g.useState(""),[S,k]=g.useState(!1),M=!x&&!m&&!v&&(S?_.trim()!=="":y.trim()!==""),E=x?p:S?_:y;let T;e[4]===Symbol.for("react.memo_cache_sentinel")?(T=()=>{Ft.setItem(et.WorkspaceDiscoveryRenamePromptInfo,JSON.stringify({dismissedAt:Date.now(),shownCount:d.shownCount+1}))},e[4]=T):T=e[4];const j=T;let A;e[5]!==i?(A=Ne=>{b(Ne),wo(i,"chatgpt_workspace_discovery_rename_prompt_modal_checkbox_toggled",Ne?1:0)},e[5]=i,e[6]=A):A=e[6];const I=A;let L;e[7]!==i||e[8]!==c?(L=()=>{wo(i,"chatgpt_workspace_discovery_rename_prompt_modal_dismiss_clicked"),j(),c()},e[7]=i,e[8]=c,e[9]=L):L=e[9];const O=L;let R;e[10]!==x||e[11]!==i||e[12]!==_||e[13]!==c||e[14]!==m||e[15]!==f||e[16]!==h?(R=async()=>{m||(wo(i,"chatgpt_workspace_discovery_rename_prompt_modal_save_clicked"),await f({value:h,public_display_name:x?null:_.trim(),use_workspace_name_for_discovery:x,action:"name"}),c())},e[10]=x,e[11]=i,e[12]=_,e[13]=c,e[14]=m,e[15]=f,e[16]=h,e[17]=R):R=e[17];const H=R;let V,z;e[18]!==i?(V=()=>{wo(i,"chatgpt_workspace_discovery_rename_prompt_modal_shown")},z=[i],e[18]=i,e[19]=V,e[20]=z):(V=e[19],z=e[20]),g.useEffect(V,z);let $;e[21]===Symbol.for("react.memo_cache_sentinel")?($=o.jsx(N,C({},b1.laterCta)),e[21]=$):$=e[21];let D;e[22]!==O?(D=o.jsx(oe,{color:"secondary",onClick:O,children:$}),e[22]=O,e[23]=D):D=e[23];let Y;e[24]===Symbol.for("react.memo_cache_sentinel")?(Y=o.jsx(N,C({},b1.save)),e[24]=Y):Y=e[24];let G;e[25]!==H||e[26]!==m?(G=o.jsx(oe,{onClick:H,loading:m,children:Y}),e[25]=H,e[26]=m,e[27]=G):G=e[27];let F;e[28]!==D||e[29]!==G?(F=o.jsxs("div",{className:"mt-8 flex w-full justify-end gap-3",children:[D,G]}),e[28]=D,e[29]=G,e[30]=F):F=e[30];let X;e[31]===Symbol.for("react.memo_cache_sentinel")?(X=o.jsx("div",{className:"mb-4 w-full text-xl",children:o.jsx(N,C({},b1.title))}),e[31]=X):X=e[31];let te;e[32]===Symbol.for("react.memo_cache_sentinel")?(te=o.jsx("br",{}),e[32]=te):te=e[32];let ae;e[33]!==y?(ae=o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,P(C({},b1.body),{values:{b:y4e,br:te,currentName:y,learnMoreLink:x4e}}))}),e[33]=y,e[34]=ae):ae=e[34];let me;e[35]!==I?(me=Ne=>I(Ne.currentTarget.checked),e[35]=I,e[36]=me):me=e[36];let W;e[37]!==p?(W=o.jsx("span",{className:"text-sm",children:o.jsx(N,P(C({},b1.checkboxLabel),{values:{workspaceName:p}}))}),e[37]=p,e[38]=W):W=e[38];let K;e[39]!==x||e[40]!==me||e[41]!==W?(K=o.jsx("div",{className:"mt-6 mb-3",children:o.jsx($l,{id:"use-workspace-name-for-discovery",checked:x,onChange:me,label:W})}),e[39]=x,e[40]=me,e[41]=W,e[42]=K):K=e[42];const ne=x&&"text-token-text-tertiary";let re;e[43]!==ne?(re=U(ne),e[43]=ne,e[44]=re):re=e[44];let le;e[45]===Symbol.for("react.memo_cache_sentinel")?(le=Ne=>{w(Ne.target.value),k(!0)},e[45]=le):le=e[45];let fe;e[46]!==a||e[47]!==M?(fe=M?o.jsx("button",{type:"button",className:"text-token-text-tertiary hover:text-token-text-secondary absolute end-0 top-1/2 -translate-y-1/2 pe-1","aria-label":a.formatMessage(b1.clearToWorkspaceNameAria),onClick:()=>{w("")},children:o.jsx(bu,{className:"icon-sm"})}):null,e[46]=a,e[47]=M,e[48]=fe):fe=e[48];let ge;e[49]!==x||e[50]!==y||e[51]!==E||e[52]!==re||e[53]!==fe?(ge=o.jsx(Bi,{name:"public_display_name",ariaLabel:!1,disabled:x,inputClassName:re,placeholder:y,maxLength:_J,value:E,onChange:le,insideContainerChildren:fe}),e[49]=x,e[50]=y,e[51]=E,e[52]=re,e[53]=fe,e[54]=ge):ge=e[54];let ye;return e[55]!==O||e[56]!==F||e[57]!==ae||e[58]!==K||e[59]!==ge?(ye=o.jsxs(tt,{isOpen:!0,onClose:O,contentClassName:"p-6",shouldIgnoreClickOutside:!0,size:"custom",className:"max-w-lg",testId:"modal-workspace-discovery-rename-prompt",footerContent:F,children:[X,ae,K,ge]}),e[55]=O,e[56]=F,e[57]=ae,e[58]=K,e[59]=ge,e[60]=ye):ye=e[60],ye};function v4e(t){return t.currentWorkspace}function y4e(t){return o.jsx("b",{children:t})}function x4e(t){return o.jsx(p0,{href:"/admin/identity",children:t})}const fxt=Object.freeze(Object.defineProperty({__proto__:null,WorkspaceDiscoveryRenamePromptModal:g4e,useWorkspaceDiscoveryRenamePromptModal:p4e},Symbol.toStringTag,{value:"Module"})),mxt=t=>{if(!t)return!1;try{const e=JSON.parse(t),n=Number(e.set_at);if(Number.isNaN(n))return!1;const r=Date.now()-n<7*24*60*60*1e3,s=e.hasWorkspacesToJoin===!0||e.hasWorkspacesToJoin==="true";return r&&s}catch(e){return!1}};function b4e(t){"use forget";var d;const e=ee.c(7),n=t===void 0?!0:t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=["discoverable-workspaces"],e[0]=r):r=e[0];const s=n;let a;e[1]!==s?(a={queryKey:r,enabled:s,refetchOnMount:"always",queryFn:_4e},e[1]=s,e[2]=a):a=e[2];const i=ut(a);let l;e[3]!==i.data?(l=()=>{var f;if((f=i.data)!=null&&f.workspaces){const m=i.data.workspaces.some(C4e),p=JSON.stringify({set_at:Date.now(),hasWorkspacesToJoin:m});Ft.setItem(et.WorkspaceDiscoveryInfo,p)}},e[3]=i.data,e[4]=l):l=e[4];const c=(d=i.data)==null?void 0:d.workspaces;let u;return e[5]!==c?(u=[c],e[5]=c,e[6]=u):u=e[6],g.useEffect(l,u),i}function C4e(t){return!t.requested}async function _4e(){return await ue.safeGet("/accounts/discoverable-workspaces")}const w4e="{{.assetPrefix}}/assets/business_free_trial_upsell_background-disf9zbl.webp",S4e={src:w4e},k4e="{{.assetPrefix}}/assets/plus_free_trial_upsell_background-ct52ve11.webp",M4e={src:k4e};function s5(t){const{data:e}=Ds(),n=m0(e);g.useEffect(()=>{!e||n||$n.warn("Unable to resolve current account for promo eligibility",{planType:t,currentAccountId:e.currentAccountId,availableAccountIds:e.accountItems.map(({id:s})=>s)})},[e,n,t]);const r=n==null?void 0:n.getEligiblePromoCampaignId(t);return r?{eligible:!0,campaignId:r}:{eligible:!1}}function E4e(){return s5(Re.PLUS).eligible}function j4e(){return s5(Re.SELF_SERVE_BUSINESS).eligible}function pxt(){return s5(Re.PLUS)}function gxt(){return s5(Re.SELF_SERVE_BUSINESS)}function T4e(t){const e=g.useRef(t);return Rn(()=>{e.current=t}),e}function SJ(t){const e=T4e(t);g.useEffect(()=>{e.current()},[e])}const N4e=()=>{const{eligible:t,markAsViewed:e}=$e(We.hasSeenFreeTrialUpsellModal),n=q(),r=Et(n),s=E4e(),a=j4e(),i=t&&a&&r,l=t&&s&&!i&&r,c=g.useCallback(()=>{i&&B.logEventWithStatsig("Business Free Trial Upsell Modal Shown","chatgpt_business_free_trial_upsell_modal_shown"),l&&B.logEventWithStatsig("Plus Free Trial Upsell Modal Shown","chatgpt_plus_free_trial_upsell_modal_shown")},[i,l]);return{isOpen:i||l,showBusiness:i,showPlus:l,onClose:()=>{i&&B.logEventWithStatsig("Business Free Trial Upsell Modal Dismissed","chatgpt_business_free_trial_upsell_modal_dismissed"),l&&B.logEventWithStatsig("Plus Free Trial Upsell Modal Dismissed","chatgpt_plus_free_trial_upsell_modal_dismissed"),e()},onMount:c}};function A4e({onClose:t,onPrimaryClick:e,isButtonLoading:n,type:r}){return o.jsxs(tt,{testId:"modal-free-trial-upsell",isOpen:!0,onClose:t,type:"success",noPadding:!0,position:"center",size:"large",contentClassName:"flex flex-col",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{className:"h-[220px] w-full overflow-hidden object-cover",alt:"","aria-hidden":"true",src:r==="plus"?M4e.src:S4e.src,loading:"eager",fetchPriority:"high"}),r==="plus"?o.jsx("p",{className:"text-token-text-default-primary absolute start-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-[75px] font-semibold text-white",children:o.jsx(N,C({},T7.imageText))}):o.jsxs("p",{className:"absolute start-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center text-[34px] font-semibold text-white",children:[o.jsx("span",{className:"text-center font-semibold text-black",children:o.jsx(N,C({},tn.chatGPT))}),o.jsx("span",{className:"ms-2.5 text-center font-semibold text-[#5D5D5D]",children:o.jsx(N,C({},j7.imageText2))})]})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center self-center px-6 py-6 md:w-[464px] md:py-8",children:[o.jsx("h2",{className:"mb-1 text-center text-xl font-medium",children:o.jsx(N,C({},r==="plus"?T7.title:j7.title))}),o.jsx("p",{className:"text-token-text-default-secondary dark:text-gray-solid-300 mb-6 text-center",children:o.jsx(N,C({},r==="plus"?T7.subtitle:j7.subtitle))}),o.jsxs("div",{className:"flex w-full flex-col-reverse gap-3 md:flex-row md:justify-center",children:[o.jsx(oe,{size:"large",color:"secondary",onClick:t,className:"w-full md:w-auto",children:o.jsx(N,C({},tn.maybeLater))}),o.jsx(oe,{size:"large",color:"primary",onClick:e,className:"w-full min-w-[130px] md:w-auto",children:n?o.jsx(On,{}):o.jsx(N,C({},r==="plus"?tn.tryPlus:tn.tryBusiness))})]})]})]})}const hxt=({onClose:t})=>{const{onMount:e,onClose:n,showPlus:r}=N4e(),s=it(),[a,i]=g.useState(!1);SJ(e);function l(){i(!0),fr(s,"Plus Free Trial Upsell Modal"),setTimeout(()=>{t(),n()},1e3)}function c(){i(!0),fr(s,"Business Free Trial Upsell Modal"),setTimeout(()=>{t(),n()},1e3)}return o.jsx(A4e,{onClose:()=>{t(),n()},onPrimaryClick:r?l:c,isButtonLoading:a,type:r?"plus":"business"})},j7=pe({title:{id:"BusinessFreeTrialUpsellModal.title",defaultMessage:"Try ChatGPT Business for free"},subtitle:{id:"BusinessFreeTrialUpsellModal.subtitle",defaultMessage:"Unlock a secure workspace with advanced models and connectors to internal sources to supercharge your work"},imageText2:{id:"BusinessFreeTrialUpsellModal.imageText2",defaultMessage:"Business"}}),T7=pe({title:{id:"FreeTrialUpsellModal.title",defaultMessage:"Try ChatGPT Plus free for 30 days"},subtitle:{id:"FreeTrialUpsellModal.subtitle",defaultMessage:"Enjoy faster responses, more advanced reasoning, higher file upload limits, and expanded image generation â all free for the next 30 days."},imageText:{id:"FreeTrialUpsellModal.imageText",defaultMessage:"Free"}}),P4e="https://persistent.oaistatic.com/chatgpt/google-connectors-nux.jpg",vxt=()=>{const t=q(),e=ie(t,"2400167019"),{isLoading:n,eligible:r}=$e(We.hasSeenGoogleConnectorsNuxModal);return e?n?"loading":r?"show":"hide":"hide"};function yxt({onClose:t}){const{markAsViewed:e}=$e(We.hasSeenGoogleConnectorsNuxModal);g.useEffect(()=>{B.logEventWithStatsig("Google Connectors Nux Modal Shown","chatgpt_google_connectors_nux_modal_shown")},[]);const n=()=>{B.logEventWithStatsig("Google Connectors Nux Modal Dismissed","chatgpt_google_connectors_nux_modal_dismissed"),e(),t()},r=it(),s=(l,c,u)=>{B.logEventWithStatsig("Google Connectors Nux Modal Show Me Continued","chatgpt_google_connectors_nux_modal_continued",{target:u}),e(),t(),r({pathname:"/",search:"q=".concat(c)})},[a,i]=g.useState(!1);return o.jsxs(tt,{testId:"modal-google-connectors-nux",isOpen:!0,noPadding:!0,onClose:n,shouldIgnoreClickOutside:!0,size:"custom",type:"success",className:"flex max-w-[480px] flex-col",children:[o.jsx(gn,{onClick:n,className:"text-token-text-secondary absolute end-0 top-0 z-10 me-2 mt-2 ring-0! outline-0! hover:bg-black/5! focus:ring-0! focus:ring-offset-0! focus:outline-0! active:bg-black/10!"}),o.jsx("div",{className:U("h-[224px] w-full transition-opacity duration-200",a?"opacity-100":"opacity-0"),children:o.jsx("img",{src:P4e,draggable:!1,className:"object-cover object-center",alt:"",onLoad:()=>i(!0)})}),o.jsxs("div",{className:"flex flex-col p-8",children:[o.jsx("div",{className:"text-center text-[22px] font-medium",children:o.jsx(N,C({},ul.title))}),o.jsx("div",{className:"text-token-text-secondary mt-2 text-center",children:o.jsx(N,P(C({},ul.subtitle),{values:{link:l=>o.jsx("a",{href:ul.subtitle.link,target:"_blank",rel:"noopener noreferrer",className:"underline",children:l},"learn-more-link")}}))}),o.jsxs("div",{className:"text-token-text-tertiary mt-6 flex items-center gap-2",children:[o.jsx("div",{className:"h-px flex-1 border-t"}),o.jsx(N,C({},ul.tryItOut)),o.jsx("div",{className:"h-px flex-1 border-t"})]}),o.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2",children:[o.jsx(oe,{type:"button",className:"w-fit px-4 py-2",color:"secondary",onClick:l=>s(l,ul.gmailPrompt.defaultMessage,"gmail"),children:o.jsxs("div",{className:"flex flex-row items-center gap-2",children:[o.jsx(hi,{className:"icon-lg"}),o.jsx(N,C({},ul.gmailPrompt))]})}),o.jsx(oe,{type:"button",className:"w-fit px-4 py-2",color:"secondary",onClick:l=>s(l,ul.gcalPrompt.defaultMessage,"googleCalendar"),children:o.jsxs("div",{className:"flex flex-row items-center gap-2",children:[o.jsx(BK,{className:"icon-lg"}),o.jsx(N,C({},ul.gcalPrompt))]})})]})]})]})}const ul=pe({title:{id:"xQB7J6",defaultMessage:"Gmail and Google Calendar, now in chat"},subtitle:{id:"bMcG4Z",defaultMessage:"ChatGPT can now reference your emails and calendar events in responses. <link>Learn more</link>",link:"https://help.openai.com/en/articles/11487775-connectors-in-chatgpt"},tryItOut:{id:"Wkoh8S",defaultMessage:"Try it out"},gmailPrompt:{id:"GoogleConnectorsNuxModal.gmailPrompt",defaultMessage:"Which emails should I reply to?"},gcalPrompt:{id:"GoogleConnectorsNuxModal.googleCalendarPrompt",defaultMessage:"Help me with tomorrow's calendar"}});function gE(){const{data:t}=h6(n=>n.settings),e=t==null?void 0:t.amphora_locks;return typeof e=="object"&&e!=null?e:void 0}const I4e="disable_history",xxt="user_latency_tools",bxt="mfa",Cxt="chatgpt_allow_workspace_instruction",_xt="chatgpt_allow_workspace_policy",wxt="workspace_ip_allowlist";var Dr=(t=>(t.BrowsingAvailable="browsing_available",t.Sunshine="sunshine_available",t.GoldenHour="golden_hour",t.WorkspaceGPTCustomActions="workspace_gpt_custom_actions",t.WorkspaceShareLinks="workspace_share_links",t.GizmoSupportEmails="gizmo_support_emails",t.D3Editor="d3_editor",t.D3EditorAllGpts="d3_editor_gpts",t.DataAnalysisV2="graphite",t.ChartSerialization="chart_serialization",t.SearchTool="search_tool",t.SearchToolHoldout="search_tool_holdout",t.MemoryInSearch="memory_in_search",t.Canvas="canvas",t.CanvasCodeExecution="canvas_code_execution",t.CanvasCodeNetworkAccess="canvas_code_network_access",t.GizmoCanvasToggle="gizmo_canvas_toggle",t.Moonshine="moonshine",t.VideoScreenSharing="video_screen_sharing",t.DeepResearch="caterpillar",t.AllowVoiceUse="breeze_available",t.ImageGenToggle="image_gen_toggle",t.EditInCanvas="edit_in_canvas",t))(Dr||{});const L4e=pa(t=>un(()=>{var e,n;return(n=(e=v6(t))==null?void 0:e.includes(Dr.Sunshine))!=null?n:!1}));function Af(){"use forget";const t=ee.c(2),e=q();let n;return t[0]!==e?(n=()=>L4e(e),t[0]=e,t[1]=n):n=t[1],at(n)}function L0(){"use forget";const{data:t}=Ui(Ln.Sunshine),e=Af();return!!t&&e}const R4e=pa(t=>un(()=>{var e,n;return(n=(e=v6(t))==null?void 0:e.includes(Dr.GoldenHour))!=null?n:!1}));function kJ(){"use forget";const t=ee.c(2),e=q();let n;return t[0]!==e?(n=()=>R4e(e),t[0]=e,t[1]=n):n=t[1],at(n)}function Sxt(){"use forget";const t=ee.c(2),e=q(),n=kJ();let r;t[0]!==e?(r=ie(e,"1946731762"),t[0]=e,t[1]=r):r=t[1];const s=r,{eligible:a}=$e(We.hasSeenGoldenHourNux);return n&&s&&!a}function kxt(){"use forget";const t=kJ(),{data:e}=Ui(Ln.GoldenHour);return t&&!!e}const O4e=pa(t=>un(()=>{var e,n;return(n=(e=v6(t))==null?void 0:e.includes(Dr.Moonshine))!=null?n:!1}));function a5(){"use forget";const t=ee.c(2),e=q();let n;return t[0]!==e?(n=()=>O4e(e),t[0]=e,t[1]=n):n=t[1],at(n)}function Mxt(){"use forget";const t=a5(),{data:e}=Ui(Ln.Moonshine);return t&&!!e}const D4e=pa(t=>un(()=>{var e,n;return(n=(e=v6(t))==null?void 0:e.includes(Dr.MemoryInSearch))!=null?n:!1}));function F4e(){"use forget";const t=ee.c(2),e=q();let n;return t[0]!==e?(n=()=>D4e(e),t[0]=e,t[1]=n):n=t[1],at(n)}function Ext(){"use forget";const t=L0(),{data:e}=Ui(Ln.MemoryInSearch),n=F4e();return t&&!!e&&n}function jxt(){"use forget";var a;const t=ee.c(2),e=q();let n;t[0]!==e?(n=(a=ie(e,"645560164"))!=null?a:!1,t[0]=e,t[1]=n):n=t[1];const r=n;return L0()&&r}const Txt=t=>ie(t,"667937038");function B4e(t){var e;return(e=ie(t,"1611573287"))!=null?e:!1}function MJ(){"use forget";const t=ee.c(2),e=q(),n=L0();let r;return t[0]!==e?(r=B4e(e),t[0]=e,t[1]=r):r=t[1],n&&r}const U4e="https://persistent.oaistatic.com/moonshine/moonshine_nux_light.jpeg",H4e="https://persistent.oaistatic.com/moonshine/moonshine_nux_light.jpeg",V4e="https://help.openai.com/en/articles/8590148-memory-faq#h_f78fa25e47";function Nxt(){const[t,e]=g.useState("loading"),n=Yt(wn),r=a5(),{eligible:s,isLoading:a}=$e(We.hasSeenMoonshineNuxV2);return g.useEffect(()=>{if(n){t!=="hide"&&e("hide");return}t==="loading"&&!a&&e(!r||!s?"hide":"show")},[t,a,r,s,n]),t}function Axt({onClose:t}){const{markAsViewed:e}=$e(We.hasSeenMoonshineNuxV2),r=ga()?H4e:U4e,[s,a]=g.useState(!1);g.useEffect(()=>{s||(e(),a(!0),B.logEventWithStatsig("ChatGPT Moonshine Nux V2 Modal Shown","chatgpt_moonshine_nux_v2_modal_shown"),Me.count(Ee.MOONSHINE,"chatgpt_moonshine_nux_v2_modal_shown"))},[e,s]);const[i,l]=g.useState(!1);g.useEffect(()=>{const A=new Image;A.src=r,A.onload=()=>l(!0)},[r]);const[c,u]=g.useState(!1),[d,f]=g.useState(!1);g.useEffect(()=>{if(!i)return;const A=setTimeout(()=>{u(!0)},200),I=setTimeout(()=>{f(!0)},300);return()=>{clearTimeout(A),clearTimeout(I)}},[i]);const m=()=>{window.open(V4e,"_blank","noopener noreferrer"),B.logEventWithStatsig("ChatGPT Moonshine Nux V2 Modal Learn More Clicked","chatgpt_moonshine_nux_v2_modal_learn_more_clicked"),Me.count(Ee.MOONSHINE,"chatgpt_moonshine_nux_v2_modal_learn_more_clicked")},p=it(),h=q(),v=ie(h,"1542198993"),y=y6(),x=gE(),[b,_]=g.useState(!1),w=_s(h,"3934129380"),S=$4e.describeMePrompt.defaultMessage,k=w.get("model","gpt-4o"),M=yt(h),E=M==null?void 0:M.hasPlusFeatures(),T=()=>{b||(_(!0),t(),p({pathname:"/",search:"?q=".concat(S,"&model=").concat(k,"&skip_instant_query=1&hints=").concat(we.Moonshine)}),B.logEventWithStatsig("ChatGPT Moonshine Nux V2 Modal Show Me Clicked","chatgpt_moonshine_nux_v2_modal_show_me_clicked"),Me.count(Ee.MOONSHINE,"chatgpt_moonshine_nux_v2_modal_show_me_clicked"))},j=()=>{y.mutate({setting:Ln.Moonshine,value:!0},{onSettled:()=>{t()}}),B.logEventWithStatsig("ChatGPT Moonshine Nux V2 Modal Enable Clicked","chatgpt_moonshine_nux_v2_modal_enable_clicked"),Me.count(Ee.MOONSHINE,"chatgpt_moonshine_nux_v2_modal_enable_clicked")};return i?o.jsxs(tt,{testId:"modal-moonshine-nux-v2",isOpen:!0,noPadding:!0,onClose:()=>{t(),B.logEventWithStatsig("ChatGPT Moonshine Nux V2 Modal Closed","chatgpt_moonshine_nux_v2_modal_closed"),Me.count(Ee.MOONSHINE,"chatgpt_moonshine_nux_v2_modal_closed")},showCloseButton:!1,size:"custom",type:"success",className:"relative flex max-w-[480px] flex-col",children:[o.jsx("div",{className:"absolute end-4 top-4 z-50",children:o.jsx(gn,{className:"text-token-text-secondary ring-0! outline-0! hover:bg-transparent focus:ring-0! focus:ring-offset-0! focus:outline-0! dark:hover:bg-transparent",onClick:t})}),o.jsxs("div",{className:"relative w-full flex-1",children:[o.jsx("img",{src:r,className:"h-[213px] w-full object-cover object-bottom",alt:""}),o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"mx-auto flex max-w-full flex-col items-end gap-2 px-8",children:[o.jsx("div",{className:"relative flex w-auto rounded-3xl bg-white/80 px-5 py-2.5 text-lg backdrop-blur-[24px] transition-all duration-300 ease-in-out dark:bg-[rgba(48,48,48,0.8)] ".concat(c?"translate-y-0 opacity-100":"translate-y-2 opacity-0"),children:o.jsx(N,{id:"MoonshineNuxV2Modal.firstBubble",defaultMessage:"Hey ChatGPT!"})}),o.jsx("div",{className:"relative flex w-auto rounded-3xl bg-white/80 px-5 py-2.5 text-lg backdrop-blur-[24px] transition-all duration-300 ease-in-out dark:bg-[rgba(48,48,48,0.8)] ".concat(d?"translate-y-0 opacity-100":"translate-y-2 opacity-0"),children:o.jsx(N,{id:"MoonshineNuxV2Modal.secondBubble",defaultMessage:"Describe me based on our chats"})})]})})]}),o.jsxs("div",{className:"flex flex-1 flex-col gap-2 px-8 pt-8 pb-8",children:[o.jsx("div",{className:"text-[22px] leading-7 font-medium",children:o.jsx(N,{id:"MoonshineNuxV2Modal.title",defaultMessage:"Introducing new, improved memory"})}),o.jsx("div",{className:"text-token-text-secondary w-full",children:v?E?o.jsx(N,{id:"MoonshineNuxV2Modal.subtitleDefaultOff",defaultMessage:"ChatGPT can now remember more of your past chats to better personalize its responses. Want to change what it knows about you? Just ask."}):o.jsx(N,{id:"MoonshineNuxV2Modal.subtitleDefaultOff.freeMoonshine",defaultMessage:"ChatGPT can now remember your recent chats to better personalize its responses. Want to change what it knows about you? Just ask."}):E?o.jsx(N,{id:"MoonshineNuxV2Modal.subtitle",defaultMessage:"ChatGPT can now remember more of your past chats, so you won't need to repeat yourself as often. Want to change what it knows about you? Just ask."}):o.jsx(N,{id:"MoonshineNuxV2Modal.subtitle.freeMoonshine",defaultMessage:"ChatGPT now remembers your recent chats, so you won't need to repeat yourself as often. Want to change what it knows about you? Just ask."})}),o.jsxs("div",{className:"mt-4 flex w-full items-center justify-between",children:[o.jsx(oe,{className:"border-none px-0 py-0 outline-hidden hover:bg-transparent",color:"secondary",onClick:m,children:o.jsx(N,{id:"MoonshineNuxV2Modal.learnMoreButton",defaultMessage:"Learn more"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(oe,{color:"secondary",onClick:t,children:o.jsx(N,{id:"MoonshineNuxV2Modal.notNowButton",defaultMessage:"Not now"})}),v?o.jsx(oe,{color:"secondary",onClick:j,disabled:(x==null?void 0:x[Ln.Moonshine])===!0,children:o.jsx(N,{id:"MoonshineNuxV2Modal.enableButton",defaultMessage:"Enable"})}):o.jsx(oe,{color:"primary",onClick:T,children:o.jsx(N,{id:"MoonshineNuxV2Modal.showMeButton",defaultMessage:"Show me"})})]})]})]})]}):null}const $4e=pe({describeMePrompt:{id:"MoonshineNuxV2Modal.describeMePrompt",defaultMessage:"Describe me based on all our chats â make it catchy!"}});var N7,BP;function q4e(){if(BP)return N7;BP=1;var t=UK(),e=sM(),n="[object Boolean]";function r(s){return s===!0||s===!1||e(s)&&t(s)==n}return N7=r,N7}var z4e=q4e();const o5=St(z4e),G4e="https://persistent.oaistatic.com/image-gen/nux.222e584e.mp4",EJ=()=>$o(et.HasSeenNoAuthImagegenNux,!1,o5),Pxt=()=>{const{isUnauthenticated:t}=An(),e=x6(),[n]=EJ(),r=HK(),s=q(),a=ze(s,"2118136551");return!t||e||n||r?"hide":a.get("should_show_imagegen_nux",!1)?"show":"hide"},Ixt=({onClose:t})=>{const n=Fu()?"center":"bottom",r=q(),[s,a]=g.useState(!1),i=_s(r,"2604379743").value,l=typeof i.nux_video_url=="string"?i.nux_video_url:G4e,c=typeof i.nux_image_url=="string"?i.nux_image_url:"",[,u]=EJ(),d=()=>{u(!0),Ft.setItem(et.HasSeenNoAuthImagegenNux,!0)},f=gf(),p=ze(r,"2118136551").get("sign_up_button_has_the_word_free",!0),h=g0(p?VK.signUpForFreeCta:tn.signUpButtonText),v=o.jsx(oe,{as:"button",size:"large",color:f?"secondary":"primary",onClick:()=>{d(),dn(r,{fallbackScreenHint:"signup",callback:b=>{B.logSignUpButtonClicked({provider:b,location:"No Auth Imagegen Nux Modal"})}})},fullWidth:!0,children:o.jsx(N,C({},h))}),y=o.jsx(oe,{as:"button",size:"large",color:f?"primary":"secondary",fullWidth:!0,onClick:()=>{d(),dn(r,{fallbackScreenHint:"login",callback:b=>{B.logLogInButtonClicked({provider:b,location:"No Auth Imagegen Nux Modal"})}})},children:o.jsx(N,C({},tn.logInButtonText))}),x=()=>{t(),d(),B.logEventWithStatsig("chatgpt_no_auth_imagegen_nux_modal_dismissed","chatgpt_no_auth_imagegen_nux_modal_dismissed")};return g.useEffect(()=>{B.logEventWithStatsig("chatgpt_no_auth_imagegen_nux_modal_shown","chatgpt_no_auth_imagegen_nux_modal_shown")},[]),o.jsxs(tt,{testId:"modal-no-auth-imagegen-nux",isOpen:!0,noPadding:!0,onClose:x,showCloseButton:!1,size:"custom",type:"success",className:"max-w-lg",position:n,children:[o.jsxs("div",{className:"relative aspect-3/2 w-full",children:[!s&&o.jsx("img",{src:c,alt:"",className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"}),o.jsx("video",{src:l,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>a(!0)}),o.jsx("div",{className:"absolute end-4 top-4",children:o.jsx(gn,{onClick:x})})]}),o.jsxs("div",{className:"flex flex-col gap-2 px-8 pt-6 pb-8 text-center",children:[o.jsx("div",{className:"text-xl font-medium",children:o.jsx(N,{id:"OxVK72",defaultMessage:"Bring your ideas to life with images"})}),o.jsx("div",{className:"text-token-text-secondary w-full",children:o.jsx(N,{id:"bVWvdX",defaultMessage:"Create a free account to make illustrations, charts, comics, and more."})}),o.jsx("div",{className:"mt-4 mb-2 flex w-full flex-col gap-3",children:f?[y,v]:[v,y]}),o.jsx(oe,{color:"ghost",className:"text-token-text-secondary font-semibold underline hover:bg-transparent",onClick:x,children:o.jsx(N,C({},tn.stayLoggedOut))})]})]})},W4e="{{.assetPrefix}}/assets/no_auth_go_upsell_background-gp1k7btd.webp",Z4e={src:W4e},K4e=()=>{"use forget";const t=ee.c(9),[e,n]=$o(et.NoAuthGoUpsellModalDismissed,!1,o5),[r]=kr(),s=r.get(M0e.NoAuthPlan);let a;e:switch(s){case O3.Business:{a="Business";break e}case O3.Go:{a="Go";break e}case O3.Plus:{a="Plus";break e}case O3.Pro:{a="Pro";break e}default:a=""}const i=a,l=q(),c=!Et(l);let u;u=!!(!e&&c&&i);const d=u;let f;t[0]!==d?(f=()=>{d&&B.logEventWithStatsig("No Auth Plan Upsell Modal Shown","chatgpt_no_auth_plan_upsell_shown")},t[0]=d,t[1]=f):f=t[1];const m=f;let p;t[2]!==n?(p=()=>{B.logEventWithStatsig("No Auth Plan Upsell Modal Dismissed","chatgpt_no_auth_plan_upsell_dismissed"),n(!0),Ft.setItem(et.NoAuthGoUpsellModalDismissed,!0)},t[2]=n,t[3]=p):p=t[3];const h=p;let v;return t[4]!==d||t[5]!==h||t[6]!==m||t[7]!==i?(v={isOpen:d,onClose:h,onMount:m,planType:i},t[4]=d,t[5]=h,t[6]=m,t[7]=i,t[8]=v):v=t[8],v},Lxt=t=>{"use forget";const e=ee.c(28),{onClose:n}=t,r=q(),{onMount:s,onClose:a,planType:i}=K4e(),[l,c]=g.useState(!1),u=gf();SJ(s);let d;e[0]!==r||e[1]!==u?(d=function(){c(!0),dn(r,{fallbackScreenHint:u?"login":"signup",callbackUrl:"/#pricing",callback:E=>{u?B.logLogInButtonClicked({location:"No Auth Plan Upsell Modal",provider:E}):B.logSignUpButtonClicked({location:"No Auth Plan Upsell Modal",provider:E}),Ft.setItem(et.NoAuthGoUpsellModalDismissed,!0)}})},e[0]=r,e[1]=u,e[2]=d):d=e[2];const f=d;let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=o.jsx("img",{className:"h-[220px] w-full overflow-hidden object-cover",alt:"","aria-hidden":"true",src:Z4e.src,loading:"eager",fetchPriority:"high"}),e[3]=m):m=e[3];let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=o.jsx("h2",{className:"mb-1 text-center text-xl font-semibold",children:o.jsx(N,C({},A7.title))}),e[4]=p):p=e[4];let h;e[5]!==i?(h=o.jsx("p",{className:"text-token-text-default-secondary text-gray-solid-500 mb-6 text-center",children:o.jsx(N,P(C({},A7.subtitle),{values:{planType:i}}))}),e[5]=i,e[6]=h):h=e[6];let v;e[7]!==n||e[8]!==a?(v=()=>{n(),a()},e[7]=n,e[8]=a,e[9]=v):v=e[9];let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=o.jsx(N,C({},tn.maybeLater)),e[10]=y):y=e[10];let x;e[11]!==v?(x=o.jsx(oe,{size:"large",color:"secondary",onClick:v,className:"w-full md:w-auto",children:y}),e[11]=v,e[12]=x):x=e[12];let b;e[13]!==l||e[14]!==i?(b=l?o.jsx(On,{}):o.jsx(N,P(C({},A7.primaryButton),{values:{planType:i}})),e[13]=l,e[14]=i,e[15]=b):b=e[15];let _;e[16]!==f||e[17]!==b?(_=o.jsx(oe,{size:"large",color:"primary",onClick:f,className:"w-full min-w-[130px] md:w-auto",children:b}),e[16]=f,e[17]=b,e[18]=_):_=e[18];let w;e[19]!==x||e[20]!==_?(w=o.jsxs("div",{className:"flex w-full flex-col-reverse gap-3 md:flex-row md:justify-center",children:[x,_]}),e[19]=x,e[20]=_,e[21]=w):w=e[21];let S;e[22]!==w||e[23]!==h?(S=o.jsxs("div",{className:"flex flex-col items-center justify-center self-center px-6 py-6 md:w-[464px] md:py-8",children:[p,h,w]}),e[22]=w,e[23]=h,e[24]=S):S=e[24];let k;return e[25]!==n||e[26]!==S?(k=o.jsxs(tt,{testId:"modal-no-auth-go-upsell",isOpen:!0,onClose:n,type:"success",noPadding:!0,position:"center",size:"large",contentClassName:"flex flex-col",children:[m,S]}),e[25]=n,e[26]=S,e[27]=k):k=e[27],k},A7=pe({title:{id:"NoAuthGoUpsellModal.title",defaultMessage:"Unlock more of ChatGPT"},subtitle:{id:"NoAuthGoUpsellModal.subtitle",defaultMessage:"Upgrade to ChatGPT {planType} for extra messaging, uploads, and memory to keep your conversations going"},primaryButton:{id:"NoAuthGoUpsellModal.primaryButton",defaultMessage:"Upgrade to {planType}"}}),Y4e=({dismissLink:t,onLogInButtonClick:e,onSignUpButtonClick:n,subtitle:r,title:s})=>{const a=q(),l=Fu()?"center":"bottom",c=gf(),d=ze(a,"2118136551").get("sign_up_button_has_the_word_free",!0),f=g0(d?VK.signUpForFreeCta:UP.signUpCta),m=o.jsx(oe,{as:"button",size:"large",color:c?"secondary":"primary",onClick:n,fullWidth:!0,children:o.jsx(N,C({},f))}),p=o.jsx(oe,{as:"button",size:"large",color:c?"primary":"secondary",fullWidth:!0,onClick:e,children:o.jsx(N,C({},UP.logInCta))}),h=c?[p,m]:[m,p];return o.jsx(tt,{testId:"modal-no-auth-rate-limit",isOpen:!0,onClose:_n,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:l,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:px-10 sm:pt-12 sm:pb-10",children:[o.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:o.jsx(N,C({},s))}),o.jsx("p",{className:"text-token-text-secondary mb-6 text-center",children:o.jsx(N,C({},r))}),o.jsx("div",{className:"flex w-full flex-col gap-2 sm:gap-2.5",children:h}),t?o.jsx("a",{href:"#",className:"text-token-text-secondary mt-5 cursor-pointer text-sm font-semibold underline",onClick:v=>{v.preventDefault(),t.onClick()},children:o.jsx(N,C({},t.text))}):null]})})},UP=pe({signUpCta:{id:"NoAuthModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthModal.logInCta",defaultMessage:"Log in"}}),jJ={[Ba.LoggedIn]:et.LoggedInUserMessageCount,[Ba.LoggedOut]:et.NoAuthUserMessageCount},i5=Rt(Sn(()=>({messageCountByAuthStatus:{[Ba.LoggedIn]:HP(Ba.LoggedIn),[Ba.LoggedOut]:HP(Ba.LoggedOut)}})));function TJ(t){return t.messageCountByAuthStatus[Ba.LoggedOut]}function Q4e(t){return t.messageCountByAuthStatus[Ba.LoggedIn]}const J4e={incrementUserMessageCount:t=>{i5.setState(e=>{const n=e.messageCountByAuthStatus[t]+1;e.messageCountByAuthStatus[t]=n,X4e({authStatus:t,messageCount:n})})}};function HP(t){const e=localStorage.getItem(jJ[t]);return e?Number(e):0}function X4e({authStatus:t,messageCount:e}){localStorage.setItem(jJ[t],String(e))}const e7e=10,t7e=({type:t="default"}={})=>{const e=q(),r=ze(e,"3637408529").get("no_auth_soft_rate_limit",e7e),[s,a]=g.useState(()=>sessionStorage.getItem(et.NoAuthHasDismissedSoftRateLimitModal)!=null),{isUnauthenticated:i,isLoading:l}=An(),c=x6(),u=i5(TJ),d=g.useRef(u),f=u>=r,[m,p]=g.useState(!1);g.useEffect(()=>{d.current<u&&(d.current=u,u===r&&p(!0))},[u,r]);const h=aM(),v=i&&f&&(t==="default"||m)&&!s&&!c&&!h&&!l,y=g.useCallback(()=>{v&&(B.logEvent("No Auth Soft Rate Limit Modal Shown"),Le.logEvent("chatgpt_no_auth_soft_rate_limit_modal_shown"))},[v]),x=()=>{a(!0),sessionStorage.setItem(et.NoAuthHasDismissedSoftRateLimitModal,"true")};return l?{isLoading:!0,isOpen:null,onClose:null,onMount:null}:{isLoading:!1,isOpen:v,onClose:x,onMount:y}},Rxt=({onClose:t})=>{const e=q(),n=gf(),{isOpen:r,onClose:s,onMount:a}=t7e();return g.useEffect(()=>{a==null||a()},[a]),r?o.jsx(Y4e,{dismissLink:{text:B3.stayLoggedOutLink,onClick:()=>{B.logEvent("No Auth Soft Rate Limit Modal Stay Logged out Link Clicked"),Le.logEvent("chatgpt_no_auth_soft_rate_limit_modal_stay_logged_out_link_clicked"),t(),s()}},onLogInButtonClick:()=>{dn(e,{fallbackScreenHint:"login",callback:i=>{B.logLogInButtonClicked({provider:i,location:"No Auth Soft Rate Limit Modal"})}})},onSignUpButtonClick:()=>{dn(e,{fallbackScreenHint:"signup",callback:i=>{B.logSignUpButtonClicked({provider:i,location:"No Auth Soft Rate Limit Modal"})}})},subtitle:n?B3.logInSubtitle:B3.signUpSubtitle,title:B3.title}):null},B3=pe({title:{id:"NoAuthSoftRateLimitModal.title",defaultMessage:"Thanks for trying ChatGPT"},signUpSubtitle:{id:"zpngdW",defaultMessage:"Sign up or log in to get smarter responses, upload files and images, and more."},logInSubtitle:{id:"iVew+I",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),VP="has-dismissed-welcome-back-modal",Oxt=()=>{const t=q(),[e,n]=g.useState(()=>sessionStorage.getItem(VP)!=null),s=ze(t,"3637408529").get("is_no_auth_welcome_back_modal_enabled",!1),a=$K(),{isUnauthenticated:i,isLoading:l}=An(),c=x6(),u=HK(),d=()=>{n(!0),sessionStorage.setItem(VP,"true")};return l?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:i&&s&&!e&&c&&!a&&!u&&(E0e()||!j0e(t)),onClose:d}};var hE=(t=>(t.control="control",t.ssoExpanded="sso_expanded",t.ssoCollapsed="sso_collapsed",t))(hE||{});function n7e(){"use forget";const t=ee.c(2),e=q();let n;if(t[0]!==e){const s=ze(e,"1803944755").get("log_back_variant",$P);n=r7e(s)?s:$P,t[0]=e,t[1]=n}else n=t[1];return n}function r7e(t){return Object.values(hE).includes(t)}const $P="control";function s7e(){"use forget";const t=ee.c(5),[e,n]=g.useState(a7e);let r;e:{if(!e){r=null;break e}try{let c;t[0]!==e?(c=JSON.parse(e),t[0]=e,t[1]=c):c=t[1],r=c}catch(c){r=null}}const s=r;let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{or.deleteCookie(ir.UserInfo),n(void 0)},t[2]=a):a=t[2];const i=a;let l;return t[3]!==s?(l={user:s,clear:i},t[3]=s,t[4]=l):l=t[4],l}function a7e(){return or.getCookie(ir.UserInfo)}function o7e(){return new URL(window.location.href)}const NJ=b6(["google","microsoft","apple","email","phone_number"]),i7e=b6(["existing_user","new_user"]),l7e=b6(["social","username"]),R0=qK({name:NJ,enabled:CP(),tempDisabled:CP(),kind:l7e,loginStrategy:i7e}),c7e={google:"google-oauth2",microsoft:"windowslive",apple:"apple"};function u7e(t,e,n){return function(s,a){const i=T0e(t,o7e().searchParams);return a(i),h0e.signIn(i,e?{callbackUrl:e}:{},C(C({prompt:"login"},n),s))}}async function d7e(t,e,n){await t({screen_hint:"login_or_signup",connection:c7e[e]},r=>{B.logLoginOrSignUpButtonClicked({location:n,provider:r,idp:e})})}function f7e(t,e,n){return t.get(e,n)}function jl({globalOverride:t,layer:e,condition:n,paramName:r,defaultValue:s}){const a=g.useRef(n);return Rn(()=>{a.current=n},[n]),g.useCallback(i=>!a.current||a.current()?t!==void 0&&!(i!=null&&i.skipOverride)?t:(i!=null&&i.override&&!i.skipOverride&&ve.addError(new Error("override is not allowed in production")),f7e(e,r,s)):s,[e,r,s,t])}function Pf(t,e,n){"use forget";const r=ee.c(5),s=q();let a;if(r[0]!==t||r[1]!==s||r[2]!==n||r[3]!==e){const l=_s(s,t).value;a=zK(l,e)?l:n,r[0]=t,r[1]=s,r[2]=n,r[3]=e,r[4]=a}else a=r[4];return a}function m7e(t){"use forget";const e=ee.c(2),{loginStrategy:n}=t;let r;return e[0]!==n?(r={name:"google",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:n},e[0]=n,e[1]=r):r=e[1],Pf(O0[n].google,R0,r)}function p7e(t){"use forget";const e=ee.c(2),{loginStrategy:n}=t;let r;return e[0]!==n?(r={name:"microsoft",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:n},e[0]=n,e[1]=r):r=e[1],Pf(O0[n].microsoft,R0,r)}function g7e(t){"use forget";const e=ee.c(2),{loginStrategy:n}=t;let r;return e[0]!==n?(r={name:"apple",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:n},e[0]=n,e[1]=r):r=e[1],Pf(O0[n].apple,R0,r)}function h7e(t){"use forget";const e=ee.c(2),{loginStrategy:n}=t;let r;return e[0]!==n?(r={name:"email",enabled:!0,tempDisabled:!1,kind:"username",loginStrategy:n},e[0]=n,e[1]=r):r=e[1],Pf(O0[n].email,R0,r)}function v7e(t){"use forget";const e=ee.c(21),{loginStrategy:n}=t,r=n==="existing_user";let s;e[0]!==n||e[1]!==r?(s={name:"phone_number",enabled:r,tempDisabled:!1,kind:"username",loginStrategy:n},e[0]=n,e[1]=r,e[2]=s):s=e[2];const a=Pf(O0[n].phone_number,R0,s),i=q();let l;e[3]!==i?(l=ze(i,"183390215"),e[3]=i,e[4]=l):l=e[4];const c=l;let u;e[5]!==i?(u=ie(i,"4012051055"),e[5]=i,e[6]=u):u=e[6];const d=u;let f;e[7]!==c?(f={layer:c,paramName:"signup_allow_phone_from_login_web",defaultValue:!1},e[7]=c,e[8]=f):f=e[8];const m=jl(f);let p;e[9]!==c?(p={layer:c,paramName:"in_phone_signup_holdout_from_login_web",defaultValue:!1},e[9]=c,e[10]=p):p=e[10];const h=jl(p);if(n!=="new_user")return a;let v;e[11]!==d||e[12]!==m?(v=d||m(),e[11]=d,e[12]=m,e[13]=v):v=e[13];const y=v,x=a.enabled;let b;e[14]!==x||e[15]!==y||e[16]!==h?(b=!h()&&x&&y,e[14]=x,e[15]=y,e[16]=h,e[17]=b):b=e[17];const _=b;let w;return e[18]!==_||e[19]!==a?(w=P(C({},a),{enabled:_}),e[18]=_,e[19]=a,e[20]=w):w=e[20],w}function y7e(t){"use forget";const e=ee.c(22),{loginStrategy:n}=t;let r;e[0]!==n?(r={loginStrategy:n},e[0]=n,e[1]=r):r=e[1];const s=m7e(r);let a;e[2]!==n?(a={loginStrategy:n},e[2]=n,e[3]=a):a=e[3];const i=p7e(a);let l;e[4]!==n?(l={loginStrategy:n},e[4]=n,e[5]=l):l=e[5];const c=g7e(l);let u;e[6]!==n?(u={loginStrategy:n},e[6]=n,e[7]=u):u=e[7];const d=h7e(u);let f;e[8]!==n?(f={loginStrategy:n},e[8]=n,e[9]=f):f=e[9];const m=v7e(f),p=[s,i,c,d,m].filter(x7e);let h,v,y;e[10]===Symbol.for("react.memo_cache_sentinel")?(h="2202961878",v=qK({order:N0e(NJ)}),y={order:["google","microsoft","apple","email","phone_number"]},e[10]=h,e[11]=v,e[12]=y):(h=e[10],v=e[11],y=e[12]);const x=Pf(h,v,y);let b;e[13]!==x?(b=(S,k)=>x.order.indexOf(S.name)-x.order.indexOf(k.name),e[13]=x,e[14]=b):b=e[14];const _=p.sort(b);let w;return e[15]!==c||e[16]!==d||e[17]!==s||e[18]!==i||e[19]!==m||e[20]!==_?(w={googleOption:s,microsoftOption:i,appleOption:c,emailOption:d,phoneNumberOption:m,optionsForDisplay:_},e[15]=c,e[16]=d,e[17]=s,e[18]=i,e[19]=m,e[20]=_,e[21]=w):w=e[21],w}function x7e(t){return t&&t.enabled}const O0={existing_user:{google:"1341269548",microsoft:"111706139",apple:"730493191",email:"734083401",phone_number:"1165494509"},new_user:{google:"3866584409",microsoft:"1119573454",apple:"2197428282",email:"2201018492",phone_number:"424309338"}},b7e=t=>{"use forget";var m;const e=ee.c(14);let n,r,s;e[0]!==t?(m=t,{loginStrategy:n,omitIf:s}=m,r=de(m,["loginStrategy","omitIf"]),e[0]=t,e[1]=n,e[2]=r,e[3]=s):(n=e[1],r=e[2],s=e[3]);const a=s===void 0?C7e:s;let i;e[4]!==n?(i={loginStrategy:n},e[4]=n,e[5]=i):i=e[5];const{optionsForDisplay:l}=y7e(i);let c;e[6]!==a||e[7]!==r?(c=function(h){return h.filter(v=>!a(v)).map(v=>o.jsx(be.Fragment,{children:r[v.name](v)},v.name))},e[6]=a,e[7]=r,e[8]=c):c=e[8];const u=c;let d;e[9]!==l||e[10]!==u?(d=u(l),e[9]=l,e[10]=u,e[11]=d):d=e[11];let f;return e[12]!==d?(f=o.jsx("div",{className:"flex flex-col gap-3",children:d}),e[12]=d,e[13]=f):f=e[13],f};function C7e(){return!1}const _7e=t=>{"use forget";const e=ee.c(9),{children:n,className:r}=t;let s;e[0]!==r?(s=U("my-2 grid grid-cols-[1fr_max-content_1fr] items-center dark:text-gray-500",r),e[0]=r,e[1]=s):s=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx("div",{className:"h-px bg-[var(--border-heavy)]"}),e[2]=a):a=e[2];let i;e[3]!==n?(i=o.jsx("div",{className:"mx-6 text-[13px] font-medium uppercase",children:n}),e[3]=n,e[4]=i):i=e[4];let l;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=o.jsx("div",{className:"h-px bg-[var(--border-heavy)]","gray-500":!0}),e[5]=l):l=e[5];let c;return e[6]!==s||e[7]!==i?(c=o.jsxs("div",{className:s,children:[a,i,l]}),e[6]=s,e[7]=i,e[8]=c):c=e[8],c},AJ=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.0012 8.16635C16.001 7.70534 15.6273 7.33139 15.1663 7.33139H13.7249C13.2638 7.33143 12.8901 7.70537 12.8899 8.16635V16.0013H14.9163C15.5155 16.0013 16.0012 15.5156 16.0012 14.9164V8.16635ZM3.99829 14.9164C3.99829 15.5156 4.48402 16.0013 5.08325 16.0013H7.10962V11.5003L7.10571 11.4144C7.06285 10.9935 6.70692 10.6654 6.27466 10.6654H4.83325C4.37209 10.6654 3.99829 11.0392 3.99829 11.5003V14.9164ZM11.5598 4.83334C11.5598 4.37219 11.186 3.99838 10.7249 3.99838H9.27466C8.81362 3.99852 8.4397 4.37227 8.4397 4.83334V16.0013H11.5598V4.83334ZM12.8899 6.16928C13.1469 6.06171 13.4288 6.00132 13.7249 6.00131H15.1663C16.3618 6.00131 17.3311 6.9708 17.3313 8.16635V14.9164C17.3313 16.2501 16.25 17.3314 14.9163 17.3314H5.08325C3.74948 17.3314 2.66821 16.2501 2.66821 14.9164V11.5003C2.66821 10.3046 3.63756 9.3353 4.83325 9.3353H6.27466C6.57057 9.3353 6.8527 9.39481 7.10962 9.50229V4.83334C7.10962 3.63773 8.07908 2.66845 9.27466 2.6683H10.7249C11.9206 2.6683 12.8899 3.63765 12.8899 4.83334V6.16928Z"})),w7e=Object.freeze(Object.defineProperty({__proto__:null,default:AJ},Symbol.toStringTag,{value:"Module"})),vE=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.417 2.08497C13.1595 2.07718 13.928 2.30924 14.5215 2.81544C15.0187 3.23964 15.3659 3.83436 15.4756 4.56837C17.7228 5.25845 18.6116 8.06419 17.2881 9.94434C18.484 11.643 17.9138 14.1413 16.0137 15.1016C15.5614 16.6946 14.2619 17.7428 12.873 17.8955C12.1235 17.9779 11.3488 17.7969 10.7002 17.2969C10.435 17.0924 10.2019 16.8392 10 16.543C9.79813 16.8392 9.565 17.0924 9.2998 17.2969C8.65115 17.7969 7.87652 17.9779 7.12695 17.8955C5.73805 17.7428 4.43755 16.6947 3.98535 15.1016C2.08588 14.141 1.51618 11.6427 2.71191 9.94434C1.3886 8.06443 2.27688 5.25892 4.52343 4.56837C4.63309 3.8343 4.98126 3.23967 5.47851 2.81544C6.07202 2.30924 6.84047 2.07718 7.583 2.08497C8.32607 2.09281 9.09216 2.34177 9.68164 2.85938C9.79607 2.9599 9.90263 3.06931 10 3.18751C10.0974 3.06931 10.2039 2.9599 10.3184 2.85938C10.9078 2.34178 11.6739 2.09282 12.417 2.08497ZM9.33496 5.14258C9.33486 4.53819 9.11005 4.1274 8.80371 3.8584C8.48431 3.57797 8.03808 3.42002 7.56933 3.41505C7.10021 3.41009 6.65707 3.55915 6.34179 3.82813C6.0406 4.08512 5.81738 4.48266 5.81738 5.07813V5.10255C5.81929 5.43475 5.57591 5.71744 5.24707 5.76465C3.51732 6.01303 2.80432 8.25192 4.04394 9.47169L4.1289 9.57325C4.20251 9.68226 4.24212 9.8118 4.24218 9.94532C4.24218 10.1235 4.17098 10.2949 4.04394 10.4199C2.97893 11.468 3.32104 13.3372 4.65917 13.9531L4.79101 14.0088L4.86914 14.044C5.04329 14.1372 5.16808 14.3043 5.20703 14.501C5.45172 15.739 6.38692 16.4768 7.27246 16.5742C7.7085 16.6221 8.13302 16.5171 8.4873 16.2441C8.83301 15.9777 9.15693 15.5133 9.33496 14.7607V5.14258ZM10.665 14.7607C10.8431 15.5133 11.167 15.9777 11.5127 16.2441C11.867 16.5171 12.2915 16.6221 12.7275 16.5742C13.6131 16.4768 14.5483 15.739 14.793 14.501L14.8144 14.419C14.8772 14.2314 15.0214 14.0801 15.209 14.0088C16.6556 13.4584 17.0552 11.5017 15.956 10.4199C15.829 10.2949 15.7578 10.1235 15.7578 9.94532C15.7579 9.76723 15.8291 9.59662 15.956 9.47169C17.1569 8.29005 16.5253 6.15225 14.9121 5.79395L14.7529 5.76465C14.4241 5.71744 14.1807 5.43475 14.1826 5.10255V5.07813L14.1719 4.86426C14.1252 4.38549 13.9218 4.05306 13.6582 3.82813C13.3429 3.55915 12.8998 3.41009 12.4307 3.41505C11.9619 3.42002 11.5157 3.57797 11.1963 3.8584C10.9282 4.09377 10.7221 4.43764 10.6748 4.92481L10.665 5.14258V14.7607Z"})),S7e=Object.freeze(Object.defineProperty({__proto__:null,default:vE},Symbol.toStringTag,{value:"Module"})),D0=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.0001 2.33496C12.6124 2.33502 14.6637 3.61698 16.1466 5.06836C17.6273 6.51773 18.5902 8.18094 19.045 9.07129L19.1426 9.2959C19.3109 9.75144 19.3109 10.2486 19.1426 10.7041L19.045 10.9287C18.5902 11.8191 17.6273 13.4823 16.1466 14.9316C14.6637 16.383 12.6124 17.665 10.0001 17.665C7.38766 17.665 5.33545 16.3831 3.8526 14.9316C2.55718 13.6636 1.65858 12.2315 1.14948 11.2969L0.955144 10.9287C0.655903 10.3429 0.655903 9.65708 0.955144 9.07129L1.14948 8.70312C1.65858 7.76849 2.55717 6.33644 3.8526 5.06836C5.33545 3.61695 7.38766 2.33496 10.0001 2.33496ZM10.0001 3.66504C7.85441 3.66504 6.11798 4.71214 4.78327 6.01855C3.61367 7.16339 2.78993 8.47274 2.3194 9.33594L2.13971 9.67676C2.03459 9.88255 2.03459 10.1174 2.13971 10.3232L2.3194 10.6641C2.78993 11.5273 3.61367 12.8366 4.78327 13.9814C6.11798 15.2879 7.85441 16.335 10.0001 16.335C12.1456 16.3349 13.8822 15.2878 15.2169 13.9814C16.5534 12.6732 17.4382 11.1498 17.8604 10.3232L17.8946 10.2451C17.9539 10.0858 17.9539 9.9142 17.8946 9.75488L17.8604 9.67676C17.4382 8.85018 16.5534 7.32684 15.2169 6.01855C13.8822 4.71217 12.1456 3.66509 10.0001 3.66504ZM12.252 10C12.252 8.75649 11.2436 7.74814 10.0001 7.74805C8.7565 7.74805 7.74811 8.75644 7.74811 10C7.74811 11.2436 8.75651 12.252 10.0001 12.252C11.2435 12.2519 12.252 11.2435 12.252 10ZM13.5811 10C13.5811 11.978 11.9781 13.5819 10.0001 13.582C8.02197 13.582 6.41803 11.9781 6.41803 10C6.41803 8.0219 8.02197 6.41797 10.0001 6.41797C11.9781 6.41806 13.5811 8.02196 13.5811 10Z"})),Dxt=Object.freeze(Object.defineProperty({__proto__:null,default:D0},Symbol.toStringTag,{value:"Module"})),Sr=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.08496 13.0836V6.91665C3.08496 6.22756 3.08431 5.6706 3.12109 5.22036C3.15851 4.76257 3.23788 4.35674 3.42969 3.98013L3.55176 3.76138C3.85585 3.26566 4.29244 2.86182 4.81348 2.59634L4.95606 2.52993C5.29235 2.38569 5.65306 2.32048 6.05371 2.28774C6.50395 2.25096 7.06091 2.25161 7.75 2.25161H11.2598C11.8396 2.25161 12.2381 2.24778 12.6201 2.3395L12.8594 2.40688C13.0957 2.48369 13.3228 2.58827 13.5352 2.71841L13.6582 2.79848C13.9416 2.99612 14.1998 3.25902 14.5586 3.61782L15.5488 4.60806L15.833 4.89419C16.0956 5.16112 16.2943 5.38037 16.4482 5.63149L16.5703 5.84927C16.683 6.07051 16.769 6.30456 16.8271 6.54653L16.8574 6.69106C16.9181 7.03117 16.915 7.39954 16.915 7.90688V13.0836C16.915 13.7726 16.9157 14.3298 16.8789 14.7799C16.8461 15.1806 16.781 15.5413 16.6367 15.8776L16.5703 16.0202C16.3049 16.5411 15.9009 16.9768 15.4053 17.2809L15.1865 17.403C14.8098 17.5949 14.4042 17.6741 13.9463 17.7116C13.496 17.7484 12.9391 17.7487 12.25 17.7487H7.75C7.06091 17.7487 6.50395 17.7484 6.05371 17.7116C5.65313 17.6788 5.2923 17.6146 4.95606 17.4704L4.81348 17.403C4.29228 17.1374 3.85587 16.7339 3.55176 16.2379L3.42969 16.0202C3.23783 15.6436 3.15853 15.2377 3.12109 14.7799C3.08431 14.3298 3.08496 13.7726 3.08496 13.0836ZM10.833 11.0016L10.9678 11.0153C11.2706 11.0775 11.498 11.3454 11.498 11.6666C11.498 11.9879 11.2706 12.2558 10.9678 12.318L10.833 12.3317H7.5C7.13273 12.3317 6.83496 12.0339 6.83496 11.6666C6.83496 11.2994 7.13273 11.0016 7.5 11.0016H10.833ZM12.5 7.6686L12.6338 7.68227C12.9369 7.74423 13.165 8.01223 13.165 8.33364C13.1649 8.65495 12.9368 8.92312 12.6338 8.98501L12.5 8.99868H7.5C7.13284 8.99868 6.83514 8.70076 6.83496 8.33364C6.83496 7.96637 7.13273 7.6686 7.5 7.6686H12.5ZM4.41504 13.0836C4.41504 13.7945 4.41594 14.2881 4.44727 14.6715C4.47797 15.047 4.53475 15.2587 4.61524 15.4166L4.68555 15.5426C4.86186 15.8302 5.1148 16.0644 5.41699 16.2184L5.54688 16.2741C5.69066 16.3255 5.8801 16.3633 6.16211 16.3864C6.54563 16.4177 7.03896 16.4186 7.75 16.4186H12.25C12.961 16.4186 13.4544 16.4177 13.8379 16.3864C14.2135 16.3557 14.425 16.2989 14.583 16.2184L14.709 16.1471C14.9964 15.9709 15.2308 15.7187 15.3848 15.4166L15.4414 15.2858C15.4927 15.1422 15.5297 14.9528 15.5527 14.6715C15.5841 14.2881 15.585 13.7945 15.585 13.0836V7.90688C15.585 7.42455 15.5823 7.18404 15.5615 7.01235L15.5342 6.85708C15.5005 6.71671 15.4501 6.58111 15.3848 6.45278L15.3145 6.32681C15.2625 6.24199 15.1996 6.16112 15.0928 6.04458L14.6084 5.54848L13.6182 4.55825C13.2768 4.21691 13.1049 4.04873 12.9688 3.94204L12.8398 3.8522C12.7167 3.77673 12.5853 3.71606 12.4482 3.67153L12.3096 3.63247C12.1162 3.58604 11.9029 3.58169 11.2598 3.58169H7.75C7.03896 3.58169 6.54563 3.58258 6.16211 3.61391C5.88025 3.63695 5.69063 3.6738 5.54688 3.72524L5.41699 3.78188C5.11474 3.9359 4.86186 4.17003 4.68555 4.45766L4.61524 4.58364C4.53473 4.74165 4.47797 4.95305 4.44727 5.32876C4.41593 5.71228 4.41504 6.20561 4.41504 6.91665V13.0836Z"})),Fxt=Object.freeze(Object.defineProperty({__proto__:null,default:Sr},Symbol.toStringTag,{value:"Module"})),xw=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14.7514 10.9604L11.0072 12.7543C10.4499 13.0214 9.813 13.0552 9.23575 12.8549L8.99259 12.7543L5.24845 10.9604V13.2407C5.24846 13.861 5.56181 14.4391 6.08145 14.7778L6.72403 15.1967L6.91153 15.3139C8.87484 16.4927 11.3473 16.4539 13.2768 15.1967L13.9184 14.7778L14.1039 14.6401C14.5119 14.294 14.7514 13.7833 14.7514 13.2407V10.9604ZM17.6684 12.5004V9.56294L16.0815 10.3227V13.2407C16.0814 14.2438 15.6061 15.183 14.808 15.7778L14.6449 15.892L14.0024 16.311C11.6456 17.8465 8.62613 17.8941 6.22794 16.4545L5.99747 16.311L5.35587 15.892C4.45937 15.3079 3.91838 14.3107 3.91837 13.2407V10.3227L1.28067 9.06001C0.146312 8.51639 0.146391 6.90058 1.28067 6.35689L8.99259 2.66158L9.23575 2.56197C9.81293 2.36168 10.4499 2.39467 11.0072 2.66158L18.7191 6.35689L18.8217 6.41158C19.756 6.94606 19.8149 8.25491 18.9984 8.88716V12.5004C18.9982 12.8675 18.7005 13.1645 18.3334 13.1645C17.9663 13.1645 17.6686 12.8675 17.6684 12.5004ZM10.433 3.86177C10.1934 3.74696 9.91943 3.73257 9.6713 3.8188L9.56681 3.86177L1.85587 7.55611C1.72841 7.61718 1.72841 7.79875 1.85587 7.85982L9.56681 11.5551L9.6713 11.5981C9.91941 11.6843 10.1934 11.6699 10.433 11.5551L18.144 7.85982L18.1859 7.83247C18.258 7.76692 18.2579 7.65004 18.1859 7.58443L18.144 7.55611L10.433 3.86177Z"})),k7e=Object.freeze(Object.defineProperty({__proto__:null,default:xw},Symbol.toStringTag,{value:"Module"})),ql=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.1687 8.0855C15.1687 5.21138 12.8509 2.88726 9.99976 2.88726C7.14872 2.88744 4.83179 5.21149 4.83179 8.0855C4.8318 9.91374 5.7711 11.5187 7.19019 12.4459H12.8103C14.2293 11.5187 15.1687 9.91365 15.1687 8.0855ZM8.47046 16.1099C8.72749 16.6999 9.31515 17.1127 9.99976 17.1128C10.6844 17.1128 11.2719 16.6999 11.5291 16.1099H8.47046ZM7.65894 14.7798H12.3416V13.7759H7.65894V14.7798ZM16.4988 8.0855C16.4988 10.3216 15.3777 12.2942 13.6716 13.4703V15.4449C13.6714 15.8119 13.3736 16.1098 13.0066 16.1099H12.9216C12.6187 17.4453 11.4268 18.4429 9.99976 18.4429C8.57283 18.4428 7.3807 17.4453 7.07788 16.1099H6.9939C6.62677 16.1099 6.32909 15.8119 6.32886 15.4449V13.4703C4.62271 12.2942 3.50172 10.3217 3.50171 8.0855C3.50171 4.48337 6.40777 1.55736 9.99976 1.55718C13.5919 1.55718 16.4988 4.48326 16.4988 8.0855Z"})),Bxt=Object.freeze(Object.defineProperty({__proto__:null,default:ql},Symbol.toStringTag,{value:"Module"})),PJ=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M1.83496 14.583C1.83512 13.6575 2.51251 12.9495 3.30859 12.46C4.13281 11.9533 5.25887 11.565 6.54004 11.3174L6.6748 11.3047C6.98403 11.3082 7.25837 11.5283 7.31934 11.8438C7.38899 12.2043 7.15351 12.5534 6.79297 12.6231L6.3584 12.7139C5.3704 12.9393 4.56731 13.2477 4.00586 13.5928C3.33662 14.0042 3.16521 14.3637 3.16504 14.583C3.16504 14.7368 3.24211 14.9565 3.53906 15.2295C3.8366 15.5031 4.30408 15.7801 4.9375 16.0264C6.20017 16.5174 7.98995 16.835 10 16.835C12.0101 16.835 13.7998 16.5174 15.0625 16.0264C15.6959 15.7801 16.1634 15.5031 16.4609 15.2295C16.7579 14.9565 16.835 14.7368 16.835 14.583C16.8348 14.3637 16.6634 14.0042 15.9941 13.5928C15.4327 13.2477 14.6296 12.9393 13.6416 12.7139L13.207 12.6231L13.0781 12.584C12.7924 12.4656 12.6197 12.1593 12.6807 11.8438C12.7416 11.5283 13.016 11.3082 13.3252 11.3047L13.46 11.3174L13.9326 11.416C15.0177 11.6632 15.9701 12.0166 16.6914 12.46C17.4875 12.9495 18.1649 13.6575 18.165 14.583C18.165 15.2347 17.8224 15.7832 17.3604 16.208C16.8989 16.6323 16.2677 16.9842 15.5439 17.2656C14.0922 17.8301 12.1319 18.1651 10 18.1651C7.8681 18.1651 5.90782 17.8301 4.45605 17.2656C3.73233 16.9842 3.10114 16.6323 2.63965 16.208C2.17758 15.7832 1.83496 15.2347 1.83496 14.583ZM9.33496 14.167V8.09182C8.80841 7.97925 8.30432 7.73434 7.87988 7.35061L7.76172 7.2383C6.52722 6.00251 6.52494 3.99761 7.76172 2.76174L7.87988 2.64944C9.12221 1.52783 11.0403 1.56371 12.2383 2.76174C13.4357 3.95934 13.4728 5.87813 12.3496 7.12014L12.2373 7.2383C11.7898 7.68535 11.2411 7.96834 10.665 8.09182V14.167C10.6649 14.5341 10.3672 14.8321 10 14.8321C9.63284 14.8321 9.33514 14.5341 9.33496 14.167ZM11.2969 3.70217C10.6252 3.03076 9.56289 2.98876 8.8418 3.57619L8.70215 3.70217C7.98606 4.41761 7.98571 5.58044 8.70215 6.29787L8.8418 6.42385C9.56158 7.01126 10.6253 6.96968 11.2979 6.29787L11.4238 6.15823C12.0115 5.43811 11.969 4.37437 11.2969 3.70217Z"})),Uxt=Object.freeze(Object.defineProperty({__proto__:null,default:PJ},Symbol.toStringTag,{value:"Module"})),Bg=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.47119 1.44011C9.21443 0.309919 10.9178 0.348019 11.5972 1.55339L13.5425 5.00554L13.564 5.03484C13.5876 5.06126 13.6194 5.07938 13.6548 5.0866L17.5396 5.87078C18.8959 6.14444 19.4579 7.75217 18.6128 8.80828L18.5269 8.90886L15.8452 11.8259C15.8125 11.8614 15.7968 11.9097 15.8022 11.9577L16.2573 15.8952L16.2681 16.027C16.3308 17.378 14.9304 18.3479 13.6724 17.7721L10.0688 16.1237C10.0358 16.1086 9.99927 16.1044 9.96436 16.112L9.93018 16.1237L6.32666 17.7721C5.0281 18.3664 3.57889 17.3138 3.74268 15.8952L4.19776 11.9577V11.9225C4.19539 11.8988 4.18827 11.8758 4.17627 11.8552L4.15479 11.8259L1.47315 8.90886C0.506645 7.85753 1.05975 6.15347 2.45947 5.87078L6.34424 5.0866L6.37842 5.07586C6.41112 5.06151 6.43866 5.03717 6.45654 5.00554L8.40283 1.55339L8.47119 1.44011ZM10.145 2.37175C10.0891 2.2726 9.95701 2.25997 9.88233 2.33464L9.85498 2.37175L7.90869 5.8239C7.67982 6.22991 7.30626 6.53094 6.8667 6.67058L6.67432 6.72039L2.78955 7.50457C2.66228 7.53025 2.61184 7.68535 2.69971 7.78093L5.38233 10.6979L5.5083 10.8512C5.74285 11.1695 5.8683 11.5555 5.86572 11.9509L5.85303 12.1491L5.39795 16.0866C5.38331 16.2154 5.51535 16.3105 5.6333 16.2565L9.23682 14.6081L9.42139 14.5348C9.85924 14.3892 10.3392 14.414 10.7632 14.6081L14.3667 16.2565C14.4701 16.3038 14.5835 16.2367 14.6001 16.1325L14.6011 16.0866L14.146 12.1491C14.085 11.62 14.2572 11.0901 14.6177 10.6979L17.3003 7.78093L17.3267 7.74285C17.3743 7.64885 17.3217 7.52719 17.2105 7.50457L13.3257 6.72039C12.8686 6.62816 12.4664 6.36607 12.1978 5.99089L12.0913 5.8239L10.145 2.37175Z"})),Hxt=Object.freeze(Object.defineProperty({__proto__:null,default:Bg},Symbol.toStringTag,{value:"Module"})),yE=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6.19629 7.86231C6.42357 7.63534 6.7752 7.60692 7.0332 7.77734L7.1377 7.86231L8.80371 9.5293C9.06329 9.78889 9.06307 10.21 8.80371 10.4697L7.1377 12.1367C6.878 12.3964 6.45599 12.3964 6.19629 12.1367C5.93686 11.8771 5.93697 11.456 6.19629 11.1963L7.39258 9.99902L6.19629 8.80371L6.11133 8.69922C5.94087 8.4411 5.96904 8.08955 6.19629 7.86231Z"}),g.createElement("path",{d:"M13.4668 11.0156C13.7699 11.0776 13.998 11.3456 13.998 11.667C13.9979 11.9883 13.7698 12.2564 13.4668 12.3184L13.333 12.332H10.833C10.466 12.3319 10.1682 12.034 10.168 11.667C10.168 11.2998 10.4659 11.0021 10.833 11.002H13.333L13.4668 11.0156Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6602 2.66504C13.3492 2.66504 13.9062 2.66439 14.3564 2.70117C14.8142 2.73859 15.2201 2.81796 15.5967 3.00977C16.1922 3.31321 16.677 3.79805 16.9805 4.39356C17.1722 4.77014 17.2517 5.17604 17.2891 5.63379C17.3258 6.08402 17.3252 6.64102 17.3252 7.33008V12.6602C17.3252 13.3492 17.3258 13.9062 17.2891 14.3564C17.2516 14.8142 17.1723 15.2201 16.9805 15.5967C16.677 16.1922 16.1922 16.677 15.5967 16.9805C15.2201 17.1723 14.8142 17.2516 14.3564 17.2891C13.9062 17.3258 13.3492 17.3252 12.6602 17.3252H7.33008C6.64102 17.3252 6.08402 17.3258 5.63379 17.2891C5.17604 17.2517 4.77014 17.1722 4.39356 16.9805C3.79805 16.677 3.31321 16.1922 3.00977 15.5967C2.81796 15.2201 2.73859 14.8142 2.70117 14.3564C2.66439 13.9062 2.66504 13.3492 2.66504 12.6602V7.33008C2.66504 6.64101 2.66439 6.08402 2.70117 5.63379C2.73858 5.17601 2.81797 4.77016 3.00977 4.39356C3.31321 3.79802 3.79802 3.31321 4.39356 3.00977C4.77016 2.81797 5.17601 2.73858 5.63379 2.70117C6.08402 2.66439 6.64101 2.66504 7.33008 2.66504H12.6602ZM7.33008 3.99512C6.61907 3.99512 6.1257 3.99601 5.74219 4.02734C5.3665 4.05804 5.15508 4.11481 4.99707 4.19531C4.65183 4.37124 4.37124 4.65183 4.19531 4.99707C4.11481 5.15508 4.05805 5.3665 4.02734 5.74219C3.99601 6.1257 3.99512 6.61908 3.99512 7.33008V12.6602C3.99512 13.3711 3.99601 13.8646 4.02734 14.248C4.05805 14.6237 4.11481 14.8352 4.19531 14.9932C4.37124 15.3384 4.65186 15.619 4.99707 15.7949C5.15507 15.8754 5.36654 15.9322 5.74219 15.9629C6.1257 15.9942 6.61908 15.9951 7.33008 15.9951H12.6602C13.3711 15.9951 13.8646 15.9942 14.248 15.9629C14.6237 15.9322 14.8352 15.8754 14.9932 15.7949C15.3384 15.619 15.619 15.3384 15.7949 14.9932C15.8754 14.8352 15.9322 14.6237 15.9629 14.248C15.9942 13.8646 15.9951 13.3711 15.9951 12.6602V7.33008C15.9951 6.61908 15.9942 6.1257 15.9629 5.74219C15.9322 5.36654 15.8754 5.15507 15.7949 4.99707C15.619 4.65186 15.3384 4.37124 14.9932 4.19531C14.8352 4.11481 14.6237 4.05805 14.248 4.02734C13.8646 3.99601 13.3711 3.99512 12.6602 3.99512H7.33008Z"})),M7e=Object.freeze(Object.defineProperty({__proto__:null,default:yE},Symbol.toStringTag,{value:"Module"})),E7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.64978 13.0257L6.36281 14.2164C5.32547 14.5922 4.17846 14.0599 3.8009 13.0274L3.45909 12.0927L4.0564 10.8177L1.75 7.41901L4.09784 6.56847L6.66195 8.05349C7.17468 8.35044 7.79343 8.40537 8.35086 8.20343L16.8625 5.11998C17.1541 5.01435 17.4664 4.97773 17.7746 5.01305L20.6083 5.33764C21.3056 5.41751 21.8977 5.88262 22.1377 6.53907C22.4878 7.49623 21.9919 8.55457 21.0303 8.90295L15.7542 10.8143M16.3515 9.53934L13 14.5L10.1826 15.5206L9.84014 11.8982",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),j7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.9969 3.39017C14.5497 2.17402 15.961 1.60735 17.2013 2.10349L19.4044 2.98475C20.7337 3.51645 21.3458 5.05369 20.7459 6.35358L19.0629 10H20C20.5523 10 21 10.4477 21 11V19C21 20.6569 19.6569 22 18 22H6C4.34315 22 3 20.6569 3 19V11C3 10.4504 3.44331 10.0044 3.99183 10L3.84325 9.89871C3.83307 9.89177 3.82303 9.88465 3.81311 9.87733C2.55917 8.9526 2.79737 7.01262 4.23778 6.41871L6.35774 5.5446L7.08184 3.36883C7.57382 1.8905 9.49246 1.51755 10.5024 2.70393L11.9888 4.45002L13.5103 4.46084L13.9969 3.39017ZM15.5096 4.89554C16.2552 5.48975 16.5372 6.59381 15.9713 7.51403L14.8266 9.37513C14.8265 9.38763 14.8266 9.40262 14.8273 9.42012C14.8294 9.47125 14.8357 9.52793 14.8451 9.58262C14.8548 9.63855 14.8654 9.67875 14.8714 9.69773C14.9032 9.79819 14.9184 9.89994 14.9184 10H16.8602L18.93 5.51547C19.0499 5.25549 18.9275 4.94804 18.6617 4.8417L16.4585 3.96044C16.2105 3.86122 15.9282 3.97455 15.8176 4.21778L15.5096 4.89554ZM12.8885 10C12.8572 9.84122 12.8358 9.66998 12.8289 9.50115C12.8194 9.26483 12.8254 8.81125 13.0664 8.41953L14.2677 6.46628L11.9746 6.44997C11.3934 6.44584 10.8427 6.18905 10.4659 5.74646L8.97951 4.00037L8.25541 6.17614C8.07187 6.72765 7.65748 7.17203 7.12012 7.39359L5.00091 8.26739L7.06338 9.67378C7.19188 9.7614 7.29353 9.87369 7.3663 10H12.8885ZM5 12V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V12H5ZM9.5 14.5C9.5 13.9477 9.94771 13.5 10.5 13.5H13.5C14.0523 13.5 14.5 13.9477 14.5 14.5C14.5 15.0523 14.0523 15.5 13.5 15.5H10.5C9.94771 15.5 9.5 15.0523 9.5 14.5Z",fill:"currentColor"})),T7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M5 16.584C3.2341 15.8124 2 14.0503 2 12C2 9.46726 3.88316 7.37436 6.32568 7.04508C7.13649 4.69118 9.37075 3 12 3C15.3137 3 18 5.68629 18 9C20.2091 9 22 10.7909 22 13C22 14.2632 21.4145 15.3896 20.5 16.1227",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M9.25 16L6.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M13.25 16L10.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M17.25 16L14.75 21",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),N7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.5 17.5L7.56881 14.3817C8.32655 13.6117 9.55878 13.5826 10.352 14.316L16.5 20",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19 12H18.3798C17.504 12 16.672 11.6173 16.102 10.9524L11.898 6.04763C11.328 5.38269 10.496 5 9.6202 5H6C4.89543 5 4 5.89543 4 7V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M19 5H18.3798C17.504 5 16.672 5.38269 16.102 6.04763L14 8.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("circle",{cx:8.5,cy:9.5,r:1.5,fill:"currentColor"}),g.createElement("path",{d:"M18 14V10C18 9.58798 18.4704 9.35279 18.8 9.6L21.4667 11.6C21.7333 11.8 21.7333 12.2 21.4667 12.4L18.8 14.4C18.4704 14.6472 18 14.412 18 14Z",fill:"currentColor"}),g.createElement("path",{d:"M18 7V3C18 2.58798 18.4704 2.35279 18.8 2.6L21.4667 4.6C21.7333 4.8 21.7333 5.2 21.4667 5.4L18.8 7.4C18.4704 7.64721 18 7.41202 18 7Z",fill:"currentColor"})),A7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.5 14V17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("rect",{x:5,y:3,width:14,height:18,rx:2,stroke:"currentColor",strokeWidth:2}),g.createElement("circle",{cx:8.5,cy:14,r:1,fill:"currentColor"}),g.createElement("circle",{cx:8.5,cy:17,r:1,fill:"currentColor"}),g.createElement("circle",{cx:12,cy:17,r:1,fill:"currentColor"}),g.createElement("circle",{cx:12,cy:14,r:1,fill:"currentColor"}),g.createElement("circle",{cx:8.5,cy:11,r:1,fill:"currentColor"}),g.createElement("circle",{cx:12,cy:11,r:1,fill:"currentColor"}),g.createElement("circle",{cx:15.5,cy:11,r:1,fill:"currentColor"})),P7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("circle",{cx:12,cy:10.5,r:7.5,stroke:"currentColor",strokeWidth:2}),g.createElement("path",{d:"M8 17V22L12 21L16 22V17",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"})),I7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M17 8H19C20.1046 8 21 8.89543 21 10V17C21 18.1046 20.1046 19 19 19M19 19H5C3.89543 19 3 18.1046 3 17V7C3 5.89543 3.89543 5 5 5H15C16.1046 5 17 5.89543 17 7V17C17 18.1046 17.8954 19 19 19Z",stroke:"currentColor",strokeWidth:2}),g.createElement("path",{d:"M7 10H13",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7 13H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),L7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6 5H5C3.89543 5 3 5.89543 3 7V8M18 5H19C20.1046 5 21 5.89543 21 7V8M21 16V17C21 18.1046 20.1046 19 19 19H18M6 19H5C3.89543 19 3 18.1046 3 17V16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M8 10H16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M8 14H14",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),R7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4 18V7H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M9 10V6C9 4.34315 10.3431 3 12 3V3C13.6569 3 15 4.34315 15 6V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),O7e=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3 6H10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M3 10H7",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M13.4282 17.5718L20.5 10.5C21.6046 9.39543 21.6046 7.60457 20.5 6.5C19.3954 5.39543 17.6046 5.39543 16.5 6.5L9.42819 13.5718C9.14899 13.851 8.95868 14.2066 8.88124 14.5938L8 19L12.4062 18.1188C12.7934 18.0413 13.149 17.851 13.4282 17.5718Z",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function D7e(t){switch(t){case"genius":return vE;case"idea":return ql;case"code":return yE;case"data-vis":return AJ;case"dalle":return N7e;case"local":return PJ;case"math":return A7e;case"misc":return j7e;case"news":return I7e;case"teach-or-explain":return xw;case"read-or-analyze":return L7e;case"rank-or-rate":return P7e;case"current-event":return Cu;case"shop":return R7e;case"travel":return E7e;case"weather":return T7e;case"work":return xw;case"write":return O7e;case"vision":return D0;case"file-upload-document":return Sr;case"browse":return Cu;case"onboarding":return Bg;case"for-you":return Bg;default:return ql}}function F7e(t){switch(t){case"write":case"shop":return"#cb8bd0";case"idea":case"travel":return"#e2c541";case"code":case"vision":return"#6C71FF";case"file-upload-document":return"#EA8444";case"dalle":return"#35AE47";case"genius":return"#E659C2";case"for-you":return"#ED6262";case"teach-or-explain":case"misc":default:return"#76d0eb"}}const q1=["#cb8bd0","#e2c541","#ed6262","#76d0eb"];function B7e(t){switch(t){case"write":case"shop":return q1[0];case"idea":case"travel":return q1[1];case"code":case"vision":return q1[2];case"teach-or-explain":case"misc":default:return q1[3]}}function U7e({category:t,useV2Colors:e}){if(t==null)return null;const n=D7e(t);return o.jsx(n,{className:"icon",style:{color:e?F7e(t):B7e(t)}})}const IJ=t=>{var a,i,l,c;const e=t.split(" ").map(u=>u.trim()).filter(Boolean);if(e.length===0)return"";const n=(i=(a=e[0])==null?void 0:a[0])!=null?i:"",r=e.length>1&&(c=(l=e[e.length-1])==null?void 0:l[0])!=null?c:"";return(e.length>1?"".concat(n).concat(r):n).toUpperCase()},H7e=t=>{const e=["bg-blue-800","bg-red-800","bg-green-800","bg-blue-500","bg-yellow-800","bg-gray-800","bg-orange-800"],n=t.split("").map(r=>r.charCodeAt(0)).reduce((r,s)=>r+s,0);return e[n%e.length]},LJ=({IconComponent:t,className:e,size:n="default",rounded:r=!1})=>o.jsx("div",{className:U("relative flex items-center justify-center",lu[n],r?"rounded-full":"rounded-xs",e),children:o.jsx(t,{className:RJ[n]})}),Ug=({iconName:t,className:e,size:n="default"})=>{let r=jd;return t==="user"&&(r=oM),o.jsx(LJ,{IconComponent:r,className:e,size:n})},lu={default:"h-6 w-6 shrink-0",small:"h-5 w-5 shrink-0",large:"h-12 w-12 shrink-0"},RJ={default:"icon",small:"icon-sm",large:"icon-lg"},Hd=({user:t,size:e="default",isLoading:n,dotted:r=!1})=>{var a;const s=Z();return o.jsx("div",{className:U("flex overflow-hidden rounded-full select-none",r?"border-global-border-heavy border-token-border-heavy border border-dashed":"bg-gray-500/30",lu[e]),children:o.jsx(OJ,{fallback:!n&&o.jsx(V7e,{user:t,size:e,dotted:r}),src:(a=t==null?void 0:t.picture)!=null?a:void 0,alt:s.formatMessage({id:"avatar.profileimage",defaultMessage:"Profile image"}),className:U(lu[e],n&&"invisible","object-cover")})})};function V7e({user:t,size:e,dotted:n=!1}){var s;const r=IJ((s=t==null?void 0:t.name)!=null?s:"");return o.jsx("div",{className:U("flex h-full w-full items-center justify-center",n?"text-token-text-tertiary":"bg-blue-300 text-white dark:bg-blue-500"),children:r?o.jsx("div",{className:U(e==="small"||e==="default"?"text-xs":"indent-[0.1em] text-sm tracking-widest"),children:r}):o.jsx(oM,{className:RJ[e]})})}function OJ(s){var a=s,{fallback:t,src:e,alt:n}=a,r=de(a,["fallback","src","alt"]);const[i,l]=g.useState(!1);return i||!e?t:o.jsx("img",P(C({src:e,alt:n},r),{onError:()=>{l(!0)},referrerPolicy:"no-referrer"}))}const Vd=({size:t="default",src:e,alt:n})=>o.jsx("div",{className:U("overflow-hidden rounded-full bg-gray-500/30 select-none",lu[t]),children:o.jsx(OJ,{fallback:o.jsx(A0e,{className:lu[t]}),src:e!=null?e:void 0,alt:n!=null?n:"",className:lu[t]})});function qP({iconSize:t="default",workspace:e,showPlanTypeBadge:n=!1}){const r=q(),s=yt(r),a=Mr(),i=e!=null?e:a,{data:l,isLoading:c}=ut(GK),u=Fs(r),d=l!=null?l:"user"in u?u.user:void 0,f=!i||c,p=n&&!f&&((s==null?void 0:s.isPro())||(s==null?void 0:s.isPlus()))&&Ki(r).getLayer("2775247110").get("show_plan_type_badge",!1)&&(s!=null&&s.isPlus()?o.jsx(q7e,{}):s!=null&&s.isPro()?o.jsx($7e,{}):null);return i&&!i.isPersonalAccount()?o.jsx(Vd,{src:i.data.profilePictureUrl,size:t}):p?o.jsxs("div",{className:"relative",children:[o.jsx(Hd,{user:d,size:t,isLoading:f}),p]}):o.jsx(Hd,{user:d,size:t,isLoading:f})}const $7e=()=>o.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex items-center justify-center rounded-full bg-black text-[8px] font-medium text-white",style:{height:"0.75rem",width:"1.4rem",letterSpacing:"-0.4px"},children:"PRO"}),q7e=()=>o.jsx("span",{className:"absolute end-[4.8px] top-[21.5px] -me-2 flex h-3 items-center justify-center rounded-full bg-white text-[8px] font-medium text-black",style:{width:"1.6rem",boxShadow:"0 0 0 1.1px rgba(128, 128, 128, 0.1)",letterSpacing:"-0.5px"},children:"PLUS"});function Vxt({name:t,size:e="default",className:n,initialsCount:r=1}){let s="";return r===1?s=t.charAt(0):s=t.split(" ").slice(0,2).map(a=>a[0]).join(""),o.jsx("div",{className:U("overflow-hidden rounded-full pt-[4.5px] text-center text-[9px] font-extralight text-white",lu[e],n),style:{backgroundColor:z7e(t)},children:s})}function z7e(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)+e^t.charCodeAt(n);return q1[Math.abs(e)%q1.length]}function G7e(t){"use forget";var m;const e=ee.c(30),{user:n,clearUser:r}=t,s=q(),a=g.useRef(null);let i;e[0]!==r?(i=p=>{p.stopPropagation(),r(),ve.addAction("login-form.profile-card.remove-user")},e[0]=r,e[1]=i):i=e[1];const l=i;let c;e:{if(!n){c=null;break e}let p;e[2]!==s||e[3]!==n.email||e[4]!==n.phoneNumber?(p=()=>{var T;const E=(T=n.email)!=null?T:n.phoneNumber;dn(s,{additionalAuthParams:{screen_hint:"login_or_signup",login_hint:E},callback:W7e})},e[2]=s,e[3]=n.email,e[4]=n.phoneNumber,e[5]=p):p=e[5];const h=p;let v;e[6]!==n.name||e[7]!==n.picture?(v=o.jsx("div",{className:"me-2 shrink-0",children:o.jsx(Hd,{user:{picture:n.picture,name:n.name},size:"large"})}),e[6]=n.name,e[7]=n.picture,e[8]=v):v=e[8];let y;e[9]!==n.name?(y=o.jsx("div",{className:"text-token-text-primary truncate font-bold",children:n.name}),e[9]=n.name,e[10]=y):y=e[10];const x=(m=n.email)!=null?m:n.phoneNumber;let b;e[11]!==x?(b=o.jsx("div",{className:"text-token-text-secondary truncate",children:x}),e[11]=x,e[12]=b):b=e[12];let _;e[13]!==y||e[14]!==b?(_=o.jsxs("div",{className:"flex min-w-0 flex-col gap-1",children:[y,b]}),e[13]=y,e[14]=b,e[15]=_):_=e[15];let w;e[16]!==v||e[17]!==_?(w=o.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[v,_]}),e[16]=v,e[17]=_,e[18]=w):w=e[18];let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S=o.jsx(lr,{}),e[19]=S):S=e[19];let k;e[20]!==l?(k=o.jsx("div",{className:"shrink-0",children:o.jsx(oe,{type:"button",color:"ghost",onClick:l,className:"size-10 rounded-full",children:S})}),e[20]=l,e[21]=k):k=e[21];let M;e[22]!==h||e[23]!==k||e[24]!==w?(M=o.jsxs("div",{className:"btn btn-secondary flex w-full cursor-pointer items-center justify-between overflow-hidden rounded-3xl p-4",role:"button",ref:a,tabIndex:0,onClick:h,children:[w,k]}),e[22]=h,e[23]=k,e[24]=w,e[25]=M):M=e[25],c=M}const u=c;let d;e[26]!==u?(d=u&&o.jsx(Se.div,P(C({},Z7e),{onAnimationComplete:()=>{var p;(p=a.current)==null||p.focus()},children:u}),"profile-card"),e[26]=u,e[27]=d):d=e[27];let f;return e[28]!==d?(f=o.jsx(o.Fragment,{children:o.jsx(Kt,{mode:"wait",children:d})}),e[28]=d,e[29]=f):f=e[29],f}function W7e(t){ve.addAction("login-form.profile-card.login")}const Z7e={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.22,ease:[.4,0,.2,1]}},DJ=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M20.0911 7.2368C19.3972 7.66168 18.8223 8.25568 18.4204 8.96321C18.0185 9.67075 17.8027 10.4687 17.7932 11.2823C17.7959 12.1981 18.0672 13.0929 18.5735 13.856C19.0798 14.6191 19.7988 15.2169 20.6415 15.5754C20.3093 16.6474 19.8176 17.6632 19.1829 18.5888C18.2748 19.8961 17.3253 21.2032 15.8805 21.2032C14.4358 21.2032 14.0642 20.3638 12.3992 20.3638C10.7755 20.3638 10.1976 21.2308 8.87662 21.2308C7.55564 21.2308 6.63382 20.0198 5.57424 18.5338C4.17461 16.452 3.4054 14.0106 3.35889 11.5024C3.35889 7.37443 6.04214 5.18665 8.68397 5.18665C10.0875 5.18665 11.2572 6.10847 12.1378 6.10847C12.9772 6.10847 14.2844 5.1315 15.8805 5.1315C16.7012 5.11032 17.5145 5.29127 18.2487 5.6584C18.983 6.02553 19.6157 6.56757 20.0911 7.2368ZM15.1238 3.38405C15.8274 2.55637 16.2257 1.51233 16.2521 0.426336C16.2533 0.28317 16.2395 0.140275 16.2108 0C15.0022 0.11806 13.8846 0.694096 13.0872 1.60995C12.3769 2.40465 11.9636 3.42081 11.9176 4.48573C11.9181 4.61524 11.932 4.74435 11.9589 4.87103C12.0542 4.88904 12.1509 4.89827 12.2479 4.89861C12.8049 4.85429 13.347 4.69717 13.8414 4.4368C14.3358 4.17644 14.7721 3.81826 15.1238 3.38405Z",fill:"currentColor"})),$xt=Object.freeze(Object.defineProperty({__proto__:null,default:DJ},Symbol.toStringTag,{value:"Module"})),FJ=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.25 3.25H11.25V11.25H3.25V3.25Z",fill:"#F35325"}),g.createElement("path",{d:"M12.75 3.25H20.75V11.25H12.75V3.25Z",fill:"#81BC06"}),g.createElement("path",{d:"M3.25 12.75H11.25V20.75H3.25V12.75Z",fill:"#05A6F0"}),g.createElement("path",{d:"M12.75 12.75H20.75V20.75H12.75V12.75Z",fill:"#FFBA08"})),qxt=Object.freeze(Object.defineProperty({__proto__:null,default:FJ},Symbol.toStringTag,{value:"Module"})),BJ=t=>g.createElement("svg",C({width:486,height:486,viewBox:"0 0 486 486",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("g",null,g.createElement("path",{d:"M186.576 177.497V131.422C186.576 127.541 188.02 124.63 191.383 122.693L283.194 69.3427C295.691 62.0679 310.593 58.6747 325.972 58.6747C383.651 58.6747 420.185 103.781 420.185 151.794C420.185 155.188 420.185 159.068 419.703 162.949L324.529 106.688C318.762 103.294 312.992 103.294 307.225 106.688L186.576 177.497ZM400.956 356.949V246.851C400.956 240.06 398.07 235.21 392.304 231.816L271.655 161.006L311.07 138.209C314.434 136.272 317.319 136.272 320.683 138.209L412.493 191.559C438.932 207.081 456.715 240.06 456.715 272.068C456.715 308.926 435.086 342.878 400.956 356.945V356.949ZM158.217 259.949L118.802 236.67C115.439 234.733 113.996 231.821 113.996 227.94V121.241C113.996 69.3477 153.41 30.0599 206.766 30.0599C226.957 30.0599 245.699 36.8515 261.565 48.9761L166.873 104.268C161.107 107.661 158.222 112.511 158.222 119.303V259.953L158.217 259.949ZM243.057 309.418L186.576 277.409V209.511L243.057 177.502L299.533 209.511V277.409L243.057 309.418ZM279.347 456.86C259.157 456.86 240.415 450.069 224.549 437.945L319.24 382.652C325.007 379.259 327.892 374.409 327.892 367.617V226.967L367.79 250.246C371.153 252.183 372.597 255.094 372.597 258.976V365.675C372.597 417.568 332.699 456.856 279.347 456.856V456.86ZM165.427 348.705L73.6158 295.356C47.1769 279.834 29.3943 246.856 29.3943 214.847C29.3943 177.502 51.5056 144.038 85.6311 129.971V240.551C85.6311 247.342 88.5173 252.192 94.2835 255.587L214.454 325.909L175.039 348.705C171.676 350.643 168.79 350.643 165.427 348.705ZM160.142 428.245C105.826 428.245 65.9292 387.02 65.9292 336.095C65.9292 332.214 66.411 328.334 66.8889 324.453L161.581 379.745C167.347 383.139 173.118 383.139 178.885 379.745L299.533 309.423V355.498C299.533 359.379 298.09 362.29 294.726 364.227L202.916 417.577C190.418 424.852 175.517 428.245 160.137 428.245H160.142ZM279.347 485.958C337.509 485.958 386.054 444.249 397.114 388.958C450.949 374.891 485.557 323.966 485.557 272.073C485.557 238.121 471.139 205.144 445.181 181.378C447.585 171.192 449.027 161.006 449.027 150.825C449.027 81.4712 393.268 29.5727 328.857 29.5727C315.882 29.5727 303.384 31.5104 290.886 35.8781C269.252 14.5371 239.45 0.958008 206.766 0.958008C148.605 0.958008 100.06 42.6656 89.0001 97.9574C35.1656 112.024 0.557129 162.949 0.557129 214.842C0.557129 248.794 14.9757 281.771 40.9328 305.537C38.5295 315.723 37.087 325.909 37.087 336.091C37.087 405.445 92.846 457.342 157.256 457.342C170.232 457.342 182.731 455.405 195.229 451.037C216.857 472.378 246.659 485.958 279.347 485.958Z",fill:"black"}))),zxt=Object.freeze(Object.defineProperty({__proto__:null,default:BJ},Symbol.toStringTag,{value:"Module"})),U3={openAI:BJ,apple:DJ,google:P0e,microsoft:FJ},K7e={openAI:U3.openAI,apple:U3.apple,google:U3.google,microsoft:U3.microsoft},P7=t=>{"use forget";const e=ee.c(4),{name:n,size:r,className:s}=t,a=K7e[n];let i;return e[0]!==a||e[1]!==s||e[2]!==r?(i=o.jsx(a,{height:r,width:r,className:s}),e[0]=a,e[1]=s,e[2]=r,e[3]=i):i=e[3],i},I7=t=>{"use forget";const e=ee.c(15),{provider:n,className:r,onClick:s,disabled:a}=t;let i;e[0]!==n?(i=function(){switch(n){case"apple":return{logo:o.jsx(P7,{name:"apple",size:20}),ddActionName:"continue_with_apple",children:o.jsx(N,{id:"socialLogin.apple",defaultMessage:"Continue with Apple"})};case"google":return{logo:o.jsx(P7,{name:"google",size:19}),ddActionName:"continue_with_google",children:o.jsx(N,{id:"login.google",defaultMessage:"Continue with Google"})};case"microsoft":return{logo:o.jsx(P7,{name:"microsoft",size:17}),ddActionName:"continue_with_microsoft",children:o.jsx(N,{id:"login.microsoft",defaultMessage:"Continue with Microsoft"})}}},e[0]=n,e[1]=i):i=e[1];const l=i;let c;e[2]!==l?(c=l(),e[2]=l,e[3]=c):c=e[3];const{logo:u,ddActionName:d,children:f}=c;let m;e[4]!==d||e[5]!==s?(m=v=>{ve.addAction("login-form.".concat(d)),s==null||s(v)},e[4]=d,e[5]=s,e[6]=m):m=e[6];let p;e[7]!==u?(p=o.jsx("span",{className:"relative grid h-4 w-4 place-items-center",children:o.jsx("span",{className:"absolute",children:u})}),e[7]=u,e[8]=p):p=e[8];let h;return e[9]!==f||e[10]!==r||e[11]!==a||e[12]!==m||e[13]!==p?(h=o.jsxs(oe,{type:"button",onClick:m,className:r,contentWrapperClassName:"gap-2",color:"secondary",disabled:a,children:[p,f]}),e[9]=f,e[10]=r,e[11]=a,e[12]=m,e[13]=p,e[14]=h):h=e[14],h},Gxt=t=>{"use forget";const e=ee.c(42),{onSwitchToGenericLoginOrSignup:n,title:r,subtitle:s,callbackUrl:a,authorizationParams:i,isSsoOptionsVisible:l}=t,c=l===void 0?!1:l,[u,d]=g.useState(!1),{user:f,clear:m}=s7e(),p=q();let h;e[0]!==i||e[1]!==a||e[2]!==p?(h=u7e(p,a,i),e[0]=i,e[1]=a,e[2]=p,e[3]=h):h=e[3];const v=h;let y;e[4]!==v?(y=async R=>{d(!0),await d7e(v,R,"log back modal"),d(!1)},e[4]=v,e[5]=y):y=e[5];const x=y;let b;e[6]!==x||e[7]!==u?(b=o.jsx(b7e,{loginStrategy:"existing_user",google:R=>{const{tempDisabled:H}=R;return o.jsx(I7,{provider:"google",disabled:H||u,className:"h-14 rounded-full text-base",onClick:()=>x("google")})},microsoft:R=>{const{tempDisabled:H}=R;return o.jsx(I7,{provider:"microsoft",disabled:H||u,className:"h-14 rounded-full text-base",onClick:()=>x("microsoft")})},apple:R=>{const{tempDisabled:H}=R;return o.jsx(I7,{provider:"apple",disabled:H||u,className:"h-14 rounded-full text-base",onClick:()=>x("apple")})},email:Y7e,phone_number:Q7e}),e[6]=x,e[7]=u,e[8]=b):b=e[8];const _=b;let w;e[9]!==r?(w=r!=null?r:o.jsx(N,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[9]=r,e[10]=w):w=e[10];let S;e[11]!==w?(S=o.jsx("h2",{className:"text-center text-3xl font-normal",children:w}),e[11]=w,e[12]=S):S=e[12];let k;e[13]!==s||e[14]!==f?(k=s!=null?s:f?o.jsx(Se.div,P(C({},L7),{children:o.jsx(N,{id:"logBack.subtitle.chooseAccount",defaultMessage:"Choose an account to continue."})}),"subtitle"):o.jsx(Se.div,P(C({},L7),{children:o.jsx(N,{id:"logBack.subtitle.genericSubtitle",defaultMessage:"Log in or create an account to get smarter responses, upload files, create images, and more."})}),"subtitle-generic"),e[13]=s,e[14]=f,e[15]=k):k=e[15];let M;e[16]!==k?(M=o.jsx("p",{className:"mb-4 px-4 text-center text-base",children:o.jsx(Kt,{mode:"wait",children:k})}),e[16]=k,e[17]=M):M=e[17];let E;e[18]!==m||e[19]!==f?(E=o.jsx(G7e,{user:f,clearUser:m}),e[18]=m,e[19]=f,e[20]=E):E=e[20];let T;e[21]!==f?(T=f&&o.jsx(Se.div,P(C({},L7),{children:o.jsx(_7e,{className:"my-1!",children:o.jsx(N,{id:"logBackForm.or",defaultMessage:"OR"})})})),e[21]=f,e[22]=T):T=e[22];let j;e[23]!==T?(j=o.jsx(Kt,{mode:"wait",children:T}),e[23]=T,e[24]=j):j=e[24];let A;e[25]!==u||e[26]!==c||e[27]!==n?(A=!c&&o.jsx("div",{className:"flex flex-col gap-3",children:[{key:"logBack.loginToAnotherAccount",node:o.jsx(N,{id:"logBack.loginToAnotherAccount",defaultMessage:"Log in to another account"})},{key:"logBack.createAccount",node:o.jsx(N,{id:"logBack.createAccount",defaultMessage:"Create account"})}].map(R=>{const{key:H,node:V}=R;return o.jsx(oe,{type:"button",onClick:()=>n(!1),className:"h-14 rounded-full text-base",color:"secondary",disabled:u,children:V},H)})}),e[25]=u,e[26]=c,e[27]=n,e[28]=A):A=e[28];let I;e[29]!==u||e[30]!==c||e[31]!==n||e[32]!==_?(I=c&&o.jsxs(o.Fragment,{children:[o.jsx(oe,{type:"button",onClick:()=>n(!0),className:"-mb-2 h-14 rounded-full text-base",color:"secondary",disabled:u,children:o.jsx(N,{id:"logBack.loginOrCreateAccount",defaultMessage:"Log in or create account"})}),_]}),e[29]=u,e[30]=c,e[31]=n,e[32]=_,e[33]=I):I=e[33];let L;e[34]===Symbol.for("react.memo_cache_sentinel")?(L=o.jsx("input",{type:"text",className:"-mt-4 h-0 w-0 border-0 p-0",tabIndex:0,autoFocus:!0,id:"log-back-focus-input"}),e[34]=L):L=e[34];let O;return e[35]!==j||e[36]!==A||e[37]!==I||e[38]!==S||e[39]!==M||e[40]!==E?(O=o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex flex-col items-stretch gap-5 px-6 py-10 pt-0","data-testid":"log-back-form",children:[S,M,E,j,A,I,L]})}),e[35]=j,e[36]=A,e[37]=I,e[38]=S,e[39]=M,e[40]=E,e[41]=O):O=e[41],O},L7={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.18,ease:[.4,0,.2,1]}};function Y7e(){return null}function Q7e(){return null}const Wxt=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,cd=new WeakMap,og=new WeakMap,Hg={current:[]};let R7=!1,ip=0;const qm=new Set,H3=new Map;function UJ(t){const e=Array.from(t).sort((n,r)=>n instanceof Ai&&n.options.deps.includes(r)?1:r instanceof Ai&&r.options.deps.includes(n)?-1:0);for(const n of e){if(Hg.current.includes(n))continue;Hg.current.push(n),n.recompute();const r=og.get(n);if(r)for(const s of r){const a=cd.get(s);a&&UJ(a)}}}function J7e(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function X7e(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function HJ(t){var e;if(ip>0&&!H3.has(t)&&H3.set(t,t.prevState),qm.add(t),!(ip>0)&&!R7)try{for(R7=!0;qm.size>0;){const n=Array.from(qm);qm.clear();for(const r of n){const s=(e=H3.get(r))!=null?e:r.prevState;r.prevState=s,J7e(r)}for(const r of n){const s=cd.get(r);s&&(Hg.current.push(r),UJ(s))}for(const r of n){const s=cd.get(r);if(s)for(const a of s)X7e(a)}}}finally{R7=!1,Hg.current=[],H3.clear()}}function xl(t){ip++;try{t()}finally{if(ip--,ip===0){const e=Array.from(qm)[0];e&&HJ(e)}}}class bw{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var s,a;this.listeners.add(r);const i=(a=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:a.call(s,r,this);return()=>{this.listeners.delete(r),i==null||i()}},this.setState=r=>{var s,a,i;this.prevState=this.state,this.state=(s=this.options)!=null&&s.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(i=(a=this.options)==null?void 0:a.onUpdate)==null||i.call(a),HJ(this)},this.prevState=e,this.state=e,this.options=n}}class Ai{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{var s;const n=[],r=[];for(const a of this.options.deps)n.push(a.prevState),r.push(a.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:(s=this.prevState)!=null?s:void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:s,currDepVals:a,prevVal:i}=this.getDepVals();this.state=this.options.fn({prevDepVals:s,currDepVals:a,prevVal:i}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const a of this.options.deps)a instanceof Ai&&a.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let a=0;a<s.length;a++)if(s[a]!==r[a]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,s;this.listeners.add(n);const a=(s=(r=this.options).onSubscribe)==null?void 0:s.call(r,n,this);return()=>{this.listeners.delete(n),a==null||a()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Ai)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof bw){let r=cd.get(n);r||(r=new Set,cd.set(n,r)),r.add(this);let s=og.get(this);s||(s=new Set,og.set(this,s)),s.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Ai)this.unregisterFromGraph(n.options.deps);else if(n instanceof bw){const r=cd.get(n);r&&r.delete(this);const s=og.get(this);s&&s.delete(n)}}}function l5(t,e){return typeof t=="function"?t(e):t}function VJ(t,e){return xE(e).reduce((r,s)=>{if(r===null)return null;if(typeof r<"u")return r[s]},t)}function O7(t,e,n){const r=xE(e);function s(a){if(!r.length)return l5(n,a);const i=r.shift();if(typeof i=="string"||typeof i=="number"&&!Array.isArray(a))return typeof a=="object"?(a===null&&(a={}),P(C({},a),{[i]:s(a[i])})):{[i]:s()};if(Array.isArray(a)&&typeof i=="number"){const l=a.slice(0,i);return[...l.length?l:new Array(i),s(a[i]),...a.slice(i+1)]}return[...new Array(i),s()]}return s(t)}function e9e(t,e){const n=xE(e);function r(s){if(!s)return;if(n.length===1){const l=n[0];if(Array.isArray(s)&&typeof l=="number")return s.filter((d,f)=>f!==l);const i=s,{[l]:c}=i;return de(i,[bP(l)])}const a=n.shift();if(typeof a=="string"&&typeof s=="object")return P(C({},s),{[a]:r(s[a])});if(typeof a=="number"&&Array.isArray(s)){if(a>=s.length)return s;const l=s.slice(0,a);return[...l.length?l:new Array(a),r(s[a]),...s.slice(a+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(t)}const t9e=/^(\d*)$/gm,n9e=/\.(\d*)\./gm,r9e=/^(\d*)\./gm,s9e=/\.(\d*$)/gm,a9e=/\.{2,}/gm,Cw="__int__",V3="".concat(Cw,"$1");function xE(t){if(Array.isArray(t))return[...t];if(typeof t!="string")throw new Error("Path must be a string.");return t.replace(/\[/g,".").replace(/\]/g,"").replace(t9e,V3).replace(n9e,".".concat(V3,".")).replace(r9e,"".concat(V3,".")).replace(s9e,".".concat(V3)).replace(a9e,".").split(".").map(e=>e.indexOf(Cw)===0?parseInt(e.substring(Cw.length),10):e)}function o9e(t){return!(Array.isArray(t)&&t.length===0)}function _w(t,e){const{asyncDebounceMs:n}=e,{onChangeAsync:r,onBlurAsync:s,onSubmitAsync:a,onBlurAsyncDebounceMs:i,onChangeAsyncDebounceMs:l}=e.validators||{},c=n!=null?n:0,u={cause:"change",validate:r,debounceMs:l!=null?l:c},d={cause:"blur",validate:s,debounceMs:i!=null?i:c},f={cause:"submit",validate:a,debounceMs:0},m=p=>P(C({},p),{debounceMs:0});switch(t){case"submit":return[m(u),m(d),f];case"blur":return[d];case"change":return[u];case"server":default:return[]}}function ww(t,e){const{onChange:n,onBlur:r,onSubmit:s,onMount:a}=e.validators||{},i={cause:"change",validate:n},l={cause:"blur",validate:r},c={cause:"submit",validate:s},u={cause:"mount",validate:a},d={cause:"server",validate:()=>{}};switch(t){case"mount":return[u];case"submit":return[i,l,c,d];case"server":return[d];case"blur":return[l,d];case"change":default:return[i,d]}}const $J=t=>!!t&&typeof t=="object"&&"fields"in t;function D7(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!e.has(r)||!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}function i9e(t){var n,r;const e=new Map;for(const s of t){const a=[...(n=s.path)!=null?n:[]].map(i=>{const l=typeof i=="object"?i.key:i;return typeof l=="number"?"[".concat(l,"]"):l}).join(".").replace(/\.\[/g,"[");e.set(a,((r=e.get(a))!=null?r:[]).concat(s))}return Object.fromEntries(e)}const l9e=t=>t,c9e=t=>{const e=i9e(t);return{form:e,fields:e}},zP=(t,e)=>t==="form"?c9e(e):l9e(e),qJ={validate({value:t,validationSource:e},n){const r=n["~standard"].validate(t);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return zP(e,r.issues)},async validateAsync({value:t,validationSource:e},n){const r=await n["~standard"].validate(t);if(r.issues)return zP(e,r.issues)}},zJ=t=>!!t&&"~standard"in t,Vg={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{}};function $3(t){function e(f,m,p,h){const v=r(f,m,p,h);({insert:()=>l(v,f,m),remove:()=>c(v),swap:()=>h!==void 0&&d(v,f,m,h),move:()=>h!==void 0&&u(v,f,m,h)})[p]()}function n(f,m){return"".concat(f,"[").concat(m,"]")}function r(f,m,p,h){const v=[n(f,m)];if(p==="swap")v.push(n(f,h));else if(p==="move"){const[y,x]=[Math.min(m,h),Math.max(m,h)];for(let b=y;b<=x;b++)v.push(n(f,b))}else{const y=t.getFieldValue(f),x=Array.isArray(y)?y.length:0;for(let b=m+1;b<x;b++)v.push(n(f,b))}return Object.keys(t.fieldInfo).filter(y=>v.some(x=>y.startsWith(x)))}function s(f,m){return f.replace(/\[(\d+)\]/,(p,h)=>{const v=parseInt(h,10),y=m==="up"?v+1:Math.max(0,v-1);return"[".concat(y,"]")})}function a(f,m){(m==="up"?f:[...f].reverse()).forEach(h=>{const v=s(h.toString(),m),y=t.getFieldMeta(v);y?t.setFieldMeta(h,y):t.setFieldMeta(h,i())})}const i=()=>Vg,l=(f,m,p)=>{a(f,"down"),f.forEach(h=>{h.toString().startsWith(n(m,p))&&t.setFieldMeta(h,i())})},c=f=>{a(f,"up")},u=(f,m,p,h)=>{const v=new Map(Object.keys(t.fieldInfo).filter(y=>y.startsWith(n(m,p))).map(y=>[y,t.getFieldMeta(y)]));a(f,p<h?"up":"down"),Object.keys(t.fieldInfo).filter(y=>y.startsWith(n(m,h))).forEach(y=>{const x=y.replace(n(m,h),n(m,p)),b=v.get(x);b&&t.setFieldMeta(y,b)})},d=(f,m,p,h)=>{f.forEach(v=>{if(!v.toString().startsWith(n(m,p)))return;const y=v.toString().replace(n(m,p),n(m,h)),[x,b]=[t.getFieldMeta(v),t.getFieldMeta(y)];x&&t.setFieldMeta(y,x),b&&t.setFieldMeta(v,b)})};return{handleArrayFieldMetaShift:e}}function F7(t){var e,n,r,s,a,i,l,c,u;return{values:(e=t.values)!=null?e:{},errorMap:(n=t.errorMap)!=null?n:{},fieldMetaBase:(r=t.fieldMetaBase)!=null?r:{},isSubmitted:(s=t.isSubmitted)!=null?s:!1,isSubmitting:(a=t.isSubmitting)!=null?a:!1,isValidating:(i=t.isValidating)!=null?i:!1,submissionAttempts:(l=t.submissionAttempts)!=null?l:0,isSubmitSuccessful:(c=t.isSubmitSuccessful)!=null?c:!1,validationMetaMap:(u=t.validationMetaMap)!=null?u:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class u9e{constructor(e){var r;var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.cumulativeFieldsErrorMap={},this.mount=()=>{const s=this.fieldMetaDerived.mount(),a=this.store.mount(),i=()=>{s(),a()},{onMount:l}=this.options.validators||{};return l&&this.validateSync("mount"),i},this.update=s=>{var a,i;if(!s)return;const l=this.options;this.options=s;const c=!!((i=(a=s.transform)==null?void 0:a.deps)!=null&&i.some((f,m)=>f!==this.prevTransformArray[m])),u=s.defaultValues&&!D7(s.defaultValues,l.defaultValues)&&!this.state.isTouched,d=!D7(s.defaultState,l.defaultState)&&!this.state.isTouched;!u&&!d&&!c||xl(()=>{this.baseStore.setState(()=>F7(Object.assign({},this.state,d?s.defaultState:{},u?{values:s.defaultValues}:{},c?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(s,a)=>{const{fieldMeta:i}=this.state,l=this.resetFieldMeta(i);s&&!(a!=null&&a.keepDefaultValues)&&(this.options=P(C({},this.options),{defaultValues:s})),this.baseStore.setState(()=>{var u;var c;return F7(P(C({},this.options.defaultState),{values:(u=s!=null?s:this.options.defaultValues)!=null?u:(c=this.options.defaultState)==null?void 0:c.values,fieldMetaBase:l}))})},this.validateAllFields=async s=>{const a=[];return xl(()=>{Object.values(this.fieldInfo).forEach(l=>{if(!l.instance)return;const c=l.instance;a.push(Promise.resolve().then(()=>c.validate(s,{skipFormValidation:!0}))),l.instance.state.meta.isTouched||l.instance.setMeta(u=>P(C({},u),{isTouched:!0}))})}),(await Promise.all(a)).flat()},this.validateArrayFieldsStartingFrom=async(s,a,i)=>{const l=this.getFieldValue(s),c=Array.isArray(l)?Math.max(l.length-1,0):null,u=["".concat(s,"[").concat(a,"]")];for(let p=a+1;p<=(c!=null?c:0);p++)u.push("".concat(s,"[").concat(p,"]"));const d=Object.keys(this.fieldInfo).filter(p=>u.some(h=>p.startsWith(h))),f=[];return xl(()=>{d.forEach(p=>{f.push(Promise.resolve().then(()=>this.validateField(p,i)))})}),(await Promise.all(f)).flat()},this.validateField=(s,a)=>{var i;const l=(i=this.fieldInfo[s])==null?void 0:i.instance;return l?(l.state.meta.isTouched||l.setMeta(c=>P(C({},c),{isTouched:!0})),l.validate(a)):[]},this.validateSync=s=>{const a=ww(s,this.options);let i=!1;const l={};return xl(()=>{var c;for(const d of a){if(!d.validate)continue;const f=this.runValidator({validate:d.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:m,fieldErrors:p}=Sw(f),h=q3(d.cause);if(p)for(const[v,y]of Object.entries(p)){const x=this.cumulativeFieldsErrorMap[v]||{},b=P(C({},x),{[h]:y});l[v]=b,this.cumulativeFieldsErrorMap[v]=b;const _=this.getFieldMeta(v);_&&_.errorMap[h]!==y&&this.setFieldMeta(v,w=>P(C({},w),{errorMap:P(C({},w.errorMap),{[h]:y})}))}for(const v of Object.keys(this.cumulativeFieldsErrorMap)){const y=this.getFieldMeta(v);y!=null&&y.errorMap[h]&&!((c=l[v])!=null&&c[h])&&(this.cumulativeFieldsErrorMap[v]=P(C({},this.cumulativeFieldsErrorMap[v]),{[h]:void 0}),this.setFieldMeta(v,x=>P(C({},x),{errorMap:P(C({},x.errorMap),{[h]:void 0})})))}this.state.errorMap[h]!==m&&this.baseStore.setState(v=>P(C({},v),{errorMap:P(C({},v.errorMap),{[h]:m})})),(m||p)&&(i=!0)}const u=q3("submit");this.state.errorMap[u]&&s!=="submit"&&!i&&this.baseStore.setState(d=>P(C({},d),{errorMap:P(C({},d.errorMap),{[u]:void 0})}))}),{hasErrored:i,fieldsErrorMap:l}},this.validateAsync=async s=>{const a=_w(s,this.options);this.state.isFormValidating||this.baseStore.setState(d=>P(C({},d),{isFormValidating:!0}));const i=[];let l;for(const d of a){if(!d.validate)continue;const f=q3(d.cause),m=this.state.validationMetaMap[f];m==null||m.lastAbortController.abort();const p=new AbortController;this.state.validationMetaMap[f]={lastAbortController:p},i.push(new Promise(async h=>{let v;try{v=await new Promise((_,w)=>{setTimeout(async()=>{if(p.signal.aborted)return _(void 0);try{_(await this.runValidator({validate:d.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:p.signal},type:"validateAsync"}))}catch(S){w(S)}},d.debounceMs)})}catch(_){v=_}const{formError:y,fieldErrors:x}=Sw(v);x&&(l=l?C(C({},l),x):x);const b=q3(d.cause);if(l)for(const[_,w]of Object.entries(l)){const S=this.getFieldMeta(_);S&&S.errorMap[b]!==w&&this.setFieldMeta(_,k=>P(C({},k),{errorMap:P(C({},k.errorMap),{[b]:w})}))}this.baseStore.setState(_=>P(C({},_),{errorMap:P(C({},_.errorMap),{[b]:y})})),h(l?{fieldErrors:l,errorMapKey:b}:void 0)}))}let c=[];const u={};if(i.length){c=await Promise.all(i);for(const d of c)if(d!=null&&d.fieldErrors){const{errorMapKey:f}=d;for(const[m,p]of Object.entries(d.fieldErrors)){const h=u[m]||{},v=P(C({},h),{[f]:p});u[m]=v}}}return this.baseStore.setState(d=>P(C({},d),{isFormValidating:!1})),u},this.validate=s=>{const{hasErrored:a,fieldsErrorMap:i}=this.validateSync(s);return a&&!this.options.asyncAlways?i:this.validateAsync(s)},this.getFieldValue=s=>VJ(this.state.values,s),this.getFieldMeta=s=>this.state.fieldMeta[s],this.getFieldInfo=s=>{var a;return(a=this.fieldInfo)[s]||(a[s]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(s,a)=>{this.baseStore.setState(i=>P(C({},i),{fieldMetaBase:P(C({},i.fieldMetaBase),{[s]:l5(a,i.fieldMetaBase[s])})}))},this.resetFieldMeta=s=>Object.keys(s).reduce((a,i)=>{const l=i;return a[l]=Vg,a},{}),this.setFieldValue=(s,a,i)=>{var c;const l=(c=i==null?void 0:i.dontUpdateMeta)!=null?c:!1;xl(()=>{l||this.setFieldMeta(s,u=>P(C({},u),{isTouched:!0,isDirty:!0,errorMap:P(C({},u==null?void 0:u.errorMap),{onMount:void 0})})),this.baseStore.setState(u=>P(C({},u),{values:O7(u.values,s,a)}))})},this.deleteField=s=>{const i=[...Object.keys(this.fieldInfo).filter(l=>{const c=s.toString();return l!==c&&l.startsWith(c)}),s];this.baseStore.setState(l=>{const c=C({},l);return i.forEach(u=>{c.values=e9e(c.values,u),delete this.fieldInfo[u],delete c.fieldMetaBase[u]}),c})},this.pushFieldValue=(s,a,i)=>{this.setFieldValue(s,l=>[...Array.isArray(l)?l:[],a],i),this.validateField(s,"change")},this.insertFieldValue=async(s,a,i,l)=>{this.setFieldValue(s,c=>[...c.slice(0,a),i,...c.slice(a)],l),await this.validateField(s,"change"),$3(this).handleArrayFieldMetaShift(s,a,"insert"),await this.validateArrayFieldsStartingFrom(s,a,"change")},this.replaceFieldValue=async(s,a,i,l)=>{this.setFieldValue(s,c=>c.map((u,d)=>d===a?i:u),l),await this.validateField(s,"change"),await this.validateArrayFieldsStartingFrom(s,a,"change")},this.removeFieldValue=async(s,a,i)=>{const l=this.getFieldValue(s),c=Array.isArray(l)?Math.max(l.length-1,0):null;if(this.setFieldValue(s,u=>u.filter((d,f)=>f!==a),i),$3(this).handleArrayFieldMetaShift(s,a,"remove"),c!==null){const u="".concat(s,"[").concat(c,"]");this.deleteField(u)}await this.validateField(s,"change"),await this.validateArrayFieldsStartingFrom(s,a,"change")},this.swapFieldValues=(s,a,i,l)=>{this.setFieldValue(s,c=>{const u=c[a],d=c[i];return O7(O7(c,"".concat(a),d),"".concat(i),u)},l),$3(this).handleArrayFieldMetaShift(s,a,"swap",i),this.validateField(s,"change"),this.validateField("".concat(s,"[").concat(a,"]"),"change"),this.validateField("".concat(s,"[").concat(i,"]"),"change")},this.moveFieldValues=(s,a,i,l)=>{this.setFieldValue(s,c=>(c.splice(i,0,c.splice(a,1)[0]),c),l),$3(this).handleArrayFieldMetaShift(s,a,"move",i),this.validateField(s,"change"),this.validateField("".concat(s,"[").concat(a,"]"),"change"),this.validateField("".concat(s,"[").concat(i,"]"),"change")},this.resetField=s=>{this.baseStore.setState(a=>P(C({},a),{fieldMetaBase:P(C({},a.fieldMetaBase),{[s]:Vg}),values:P(C({},a.values),{[s]:this.options.defaultValues&&this.options.defaultValues[s]})}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((s,[a,i])=>(Object.keys(i).length&&i.errors.length&&(s[a]={errors:i.errors,errorMap:i.errorMap}),s),{})}),this.baseStore=new bw(F7(P(C({},e==null?void 0:e.defaultState),{values:(r=e==null?void 0:e.defaultValues)!=null?r:(n=e==null?void 0:e.defaultState)==null?void 0:n.values}))),this.fieldMetaDerived=new Ai({deps:[this.baseStore],fn:({prevDepVals:s,currDepVals:a,prevVal:i})=>{var p;var l;const c=i,u=s==null?void 0:s[0],d=a[0];let f=0;const m={};for(const h of Object.keys(d.fieldMetaBase)){const v=d.fieldMetaBase[h],y=u==null?void 0:u.fieldMetaBase[h],x=c==null?void 0:c[h];let b=x==null?void 0:x.errors;if(!y||v.errorMap!==y.errorMap){b=Object.values((p=v.errorMap)!=null?p:{}).filter(S=>S!==void 0);const w=(l=this.getFieldInfo(h))==null?void 0:l.instance;w&&!w.options.disableErrorFlat&&(b=b==null?void 0:b.flat(1))}const _=!v.isDirty;if(x&&x.isPristine===_&&x.errors===b&&v===y){m[h]=x,f++;continue}m[h]=P(C({},v),{errors:b,isPristine:_})}return Object.keys(d.fieldMetaBase).length&&c&&f===Object.keys(d.fieldMetaBase).length?c:m}}),this.store=new Ai({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:s,currDepVals:a,prevVal:i})=>{var V,z,$;var l,c,u,d;const f=i,m=s==null?void 0:s[0],p=a[0],h=Object.values(p.fieldMetaBase),v=h.some(D=>D==null?void 0:D.isValidating),y=!h.some(D=>(D==null?void 0:D.errorMap)&&o9e(Object.values(D.errorMap).filter(Boolean))),x=h.some(D=>D==null?void 0:D.isTouched),b=h.some(D=>D==null?void 0:D.isBlurred),_=x&&((l=p==null?void 0:p.errorMap)==null?void 0:l.onMount),w=h.some(D=>D==null?void 0:D.isDirty),S=!w,k=!!((c=p.errorMap)!=null&&c.onMount||h.some(D=>{var Y;return(Y=D==null?void 0:D.errorMap)==null?void 0:Y.onMount})),M=!!v;let E=(V=f==null?void 0:f.errors)!=null?V:[];(!m||p.errorMap!==m.errorMap)&&(E=Object.values(p.errorMap).reduce((D,Y)=>Y===void 0?D:Y&&$J(Y)?(D.push(Y.form),D):(D.push(Y),D),[]));const T=E.length===0,j=y&&T,A=(z=this.options.canSubmitWhenInvalid)!=null?z:!1,I=p.submissionAttempts===0&&!x&&!k||!M&&!p.isSubmitting&&j||A;let L=p.errorMap;if(_&&(E=E.filter(D=>D!==p.errorMap.onMount),L=Object.assign(L,{onMount:void 0})),f&&m&&f.errorMap===L&&f.fieldMeta===this.fieldMetaDerived.state&&f.errors===E&&f.isFieldsValidating===v&&f.isFieldsValid===y&&f.isFormValid===T&&f.isValid===j&&f.canSubmit===I&&f.isTouched===x&&f.isBlurred===b&&f.isPristine===S&&f.isDirty===w&&D7(m,p))return f;let O=P(C({},p),{errorMap:L,fieldMeta:this.fieldMetaDerived.state,errors:E,isFieldsValidating:v,isFieldsValid:y,isFormValid:T,isValid:j,canSubmit:I,isTouched:x,isBlurred:b,isPristine:S,isDirty:w});const R=($=(u=this.options.transform)==null?void 0:u.deps)!=null?$:[];if(R.length!==this.prevTransformArray.length||R.some((D,Y)=>D!==this.prevTransformArray[Y])){const D=Object.assign({},this,{state:O});(d=this.options.transform)==null||d.fn(D),O=D.state,this.prevTransformArray=R}return O}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(e||{})}get state(){return this.store.state}runValidator(e){return zJ(e.validate)?qJ[e.type](e.value,e.validate):e.validate(e.value)}async handleSubmit(e){var n,r,s,a,i,l;if(this.baseStore.setState(u=>P(C({},u),{isSubmitted:!1,submissionAttempts:u.submissionAttempts+1,isSubmitSuccessful:!1})),!this.state.canSubmit)return;this.baseStore.setState(u=>P(C({},u),{isSubmitting:!0}));const c=()=>{this.baseStore.setState(u=>P(C({},u),{isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){c(),(r=(n=this.options).onSubmitInvalid)==null||r.call(n,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){c(),(a=(s=this.options).onSubmitInvalid)==null||a.call(s,{value:this.state.values,formApi:this});return}xl(()=>{Object.values(this.fieldInfo).forEach(u=>{var d,f,m;(m=(f=(d=u.instance)==null?void 0:d.options.listeners)==null?void 0:f.onSubmit)==null||m.call(f,{value:u.instance.state.value,fieldApi:u.instance})})});try{await((l=(i=this.options).onSubmit)==null?void 0:l.call(i,{value:this.state.values,formApi:this,meta:e!=null?e:this.options.onSubmitMeta})),xl(()=>{this.baseStore.setState(u=>P(C({},u),{isSubmitted:!0,isSubmitSuccessful:!0})),c()})}catch(u){throw this.baseStore.setState(d=>P(C({},d),{isSubmitSuccessful:!1})),c(),u}}setErrorMap(e){this.baseStore.setState(n=>P(C({},n),{errorMap:C(C({},n.errorMap),e)}))}}function Sw(t){if(t){if($J(t)){const e=Sw(t.form).formError,n=t.fields;return{formError:e,fieldErrors:n}}return{formError:t}}return{formError:void 0}}function q3(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class d9e{constructor(e){this.options={},this.mount=()=>{var n,r;const s=this.store.mount();this.options.defaultValue!==void 0&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0});const a=this.getInfo();a.instance=this,this.update(this.options);const{onMount:i}=this.options.validators||{};if(i){const l=this.runValidator({validate:i,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});l&&this.setMeta(c=>P(C({},c),{errorMap:P(C({},c==null?void 0:c.errorMap),{onMount:l})}))}return(r=(n=this.options.listeners)==null?void 0:n.onMount)==null||r.call(n,{value:this.state.value,fieldApi:this}),s},this.update=n=>{var s;this.options=n;const r=this.name!==n.name;if(this.name=n.name,this.state.value===void 0){const a=VJ(n.form.options.defaultValues,n.name),i=(s=n.defaultValue)!=null?s:a;r?this.setValue(l=>l||i,{dontUpdateMeta:!0}):i!==void 0&&this.setValue(i,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{var s,a;this.form.setFieldValue(this.name,n,r),(a=(s=this.options.listeners)==null?void 0:s.onChange)==null||a.call(s,{value:this.state.value,fieldApi:this}),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{var s,a;this.form.pushFieldValue(this.name,n,r),(a=(s=this.options.listeners)==null?void 0:s.onChange)==null||a.call(s,{value:this.state.value,fieldApi:this})},this.insertValue=(n,r,s)=>{var a,i;this.form.insertFieldValue(this.name,n,r,s),(i=(a=this.options.listeners)==null?void 0:a.onChange)==null||i.call(a,{value:this.state.value,fieldApi:this})},this.replaceValue=(n,r,s)=>{var a,i;this.form.replaceFieldValue(this.name,n,r,s),(i=(a=this.options.listeners)==null?void 0:a.onChange)==null||i.call(a,{value:this.state.value,fieldApi:this})},this.removeValue=(n,r)=>{var s,a;this.form.removeFieldValue(this.name,n,r),(a=(s=this.options.listeners)==null?void 0:s.onChange)==null||a.call(s,{value:this.state.value,fieldApi:this})},this.swapValues=(n,r,s)=>{var a,i;this.form.swapFieldValues(this.name,n,r,s),(i=(a=this.options.listeners)==null?void 0:a.onChange)==null||i.call(a,{value:this.state.value,fieldApi:this})},this.moveValue=(n,r,s)=>{var a,i;this.form.moveFieldValues(this.name,n,r,s),(i=(a=this.options.listeners)==null?void 0:a.onChange)==null||i.call(a,{value:this.state.value,fieldApi:this})},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),s=[];for(const a of r){if(!a.instance)continue;const{onChangeListenTo:i,onBlurListenTo:l}=a.instance.options.validators||{};n==="change"&&(i!=null&&i.includes(this.name))&&s.push(a.instance),n==="blur"&&(l!=null&&l.includes(this.name))&&s.push(a.instance)}return s},this.validateSync=(n,r)=>{const s=ww(n,this.options),i=this.getLinkedFields(n).reduce((u,d)=>{const f=ww(n,d.options);return f.forEach(m=>{m.field=d}),u.concat(f)},[]);let l=!1;xl(()=>{const u=(d,f)=>{const m=fm(f.cause),p=f.validate?GP(d.runValidator({validate:f.validate,value:{value:d.store.state.value,validationSource:"field",fieldApi:d},type:"validate"})):r[m];d.state.meta.errorMap[m]!==p&&d.setMeta(h=>P(C({},h),{errorMap:P(C({},h.errorMap),{[fm(f.cause)]:p||r[m]})})),(p||r[m])&&(l=!0)};for(const d of s)u(this,d);for(const d of i)d.validate&&u(d.field,d)});const c=fm("submit");return this.state.meta.errorMap[c]&&n!=="submit"&&!l&&this.setMeta(u=>P(C({},u),{errorMap:P(C({},u.errorMap),{[c]:void 0})})),{hasErrored:l}},this.validateAsync=async(n,r)=>{const s=_w(n,this.options),a=await r,i=this.getLinkedFields(n),l=i.reduce((m,p)=>{const h=_w(n,p.options);return h.forEach(v=>{v.field=p}),m.concat(h)},[]);this.state.meta.isValidating||this.setMeta(m=>P(C({},m),{isValidating:!0}));for(const m of i)m.setMeta(p=>P(C({},p),{isValidating:!0}));const c=[],u=[],d=(m,p,h)=>{const v=fm(p.cause),y=m.getInfo().validationMetaMap[v];y==null||y.lastAbortController.abort();const x=new AbortController;this.getInfo().validationMetaMap[v]={lastAbortController:x},h.push(new Promise(async b=>{var _;let w;try{w=await new Promise((E,T)=>{this.timeoutIds[p.cause]&&clearTimeout(this.timeoutIds[p.cause]),this.timeoutIds[p.cause]=setTimeout(async()=>{if(x.signal.aborted)return E(void 0);try{E(await this.runValidator({validate:p.validate,value:{value:m.store.state.value,fieldApi:m,signal:x.signal,validationSource:"field"},type:"validateAsync"}))}catch(j){T(j)}},p.debounceMs)})}catch(E){w=E}if(x.signal.aborted)return b(void 0);const S=GP(w),k=(_=a[this.name])==null?void 0:_[v],M=S||k;m.setMeta(E=>P(C({},E),{errorMap:P(C({},E==null?void 0:E.errorMap),{[v]:M})})),b(M)}))};for(const m of s)m.validate&&d(this,m,c);for(const m of l)m.validate&&d(m.field,m,u);let f=[];(c.length||u.length)&&(f=await Promise.all(c),await Promise.all(u)),this.setMeta(m=>P(C({},m),{isValidating:!1}));for(const m of i)m.setMeta(p=>P(C({},p),{isValidating:!1}));return f.filter(Boolean)},this.validate=(n,r)=>{var c;var s;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:a}=r!=null&&r.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:i}=this.validateSync(n,(c=a[this.name])!=null?c:{});if(i&&!this.options.asyncAlways)return(s=this.getInfo().validationMetaMap[fm(n)])==null||s.lastAbortController.abort(),this.state.meta.errors;const l=r!=null&&r.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,l)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{var n,r;this.state.meta.isTouched||(this.setMeta(a=>P(C({},a),{isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(a=>P(C({},a),{isBlurred:!0})),this.validate("blur"),(r=(n=this.options.listeners)==null?void 0:n.onBlur)==null||r.call(n,{value:this.state.value,fieldApi:this})},this.form=e.form,this.name=e.name,this.timeoutIds={},this.store=new Ai({deps:[this.form.store],fn:()=>{var s;const n=this.form.getFieldValue(this.name),r=(s=this.form.getFieldMeta(this.name))!=null?s:C(C({},Vg),e.defaultMeta);return{value:n,meta:r}}}),this.options=e}get state(){return this.store.state}runValidator(e){return zJ(e.validate)?qJ[e.type](e.value,e.validate):e.validate(e.value)}setErrorMap(e){this.setMeta(n=>P(C({},n),{errorMap:C(C({},n.errorMap),e)}))}}function GP(t){if(t)return t}function fm(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}var B7={exports:{}},U7={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP;function f9e(){if(WP)return U7;WP=1;var t=v0e(),e=I0e();function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,i=t.useEffect,l=t.useMemo,c=t.useDebugValue;return U7.useSyncExternalStoreWithSelector=function(u,d,f,m,p){var h=a(null);if(h.current===null){var v={hasValue:!1,value:null};h.current=v}else v=h.current;h=l(function(){function x(k){if(!b){if(b=!0,_=k,k=m(k),p!==void 0&&v.hasValue){var M=v.value;if(p(M,k))return w=M}return w=k}if(M=w,r(_,k))return M;var E=m(k);return p!==void 0&&p(M,E)?(_=k,M):(_=k,w=E)}var b=!1,_,w,S=f===void 0?null:f;return[function(){return x(d())},S===null?void 0:function(){return x(S())}]},[d,f,m,p]);var y=s(u,h[0],h[1]);return i(function(){v.hasValue=!0,v.value=y},[y]),c(y),y},U7}var ZP;function m9e(){return ZP||(ZP=1,B7.exports=f9e()),B7.exports}var p9e=m9e();function bE(t,e=n=>n){return p9e.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,g9e)}function g9e(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!e.has(r)||!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const $g=typeof window<"u"?g.useLayoutEffect:g.useEffect;function h9e(t){const[e]=g.useState(()=>{const r=new d9e(P(C({},t),{form:t.form,name:t.name}));return r.Field=GJ,r});return $g(e.mount,[e]),$g(()=>{e.update(t)}),bE(e.store,t.mode==="array"?n=>{var r;return[n.meta,Object.keys((r=n.value)!=null?r:[]).length]}:void 0),e}const GJ=n=>{var r=n,{children:t}=r,e=de(r,["children"]);const s=h9e(e),a=g.useMemo(()=>l5(t,s),[t,s,s.state.value,s.state.meta]);return o.jsx(o.Fragment,{children:a})};function v9e({form:t,selector:e,children:n}){const r=bE(t.store,e);return l5(n,r)}function Zxt(t){const[e]=g.useState(()=>{const n=new u9e(t),r=n;return r.Field=function(a){return o.jsx(GJ,P(C({},a),{form:n}))},r.Subscribe=s=>o.jsx(v9e,{form:n,selector:s.selector,children:s.children}),r});return $g(e.mount,[]),bE(e.store,n=>n.isSubmitting),$g(()=>{e.update(t)}),e}function KP(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),s=0;s<3;s++){var a=Number(n[s]),i=Number(r[s]);if(a>i)return 1;if(i>a)return-1;if(!isNaN(a)&&isNaN(i))return 1;if(isNaN(a)&&!isNaN(i))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var y9e={}.constructor;function cu(t){return t!=null&&t.constructor===y9e}function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function c5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b9e(r.key),r)}}function u5(t,e,n){return e&&x9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b9e(t){var e=C9e(t,"string");return $d(e)=="symbol"?e:e+""}function C9e(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _9e="1.2.0",w9e="1.7.35",YP=" ext. ",S9e=/^\d+$/,hr=function(){function t(e){c5(this,t),WJ(e),this.metadata=e,KJ.call(this,e)}return u5(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&S9e.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new QP(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new QP(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var s=this.nonGeographic()[n];if(s)return s}else{var a=this.countryCallingCodes()[n];if(a&&a.length===1&&a[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),QP=function(){function t(e,n){c5(this,t),this.globalMetadataObject=n,this.metadata=e,KJ.call(this,n.metadata)}return u5(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(s){return new k9e(s,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&JP(this.types(),n))return new E9e(JP(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?YP:this.metadata[13]||YP}}])}(),k9e=function(){function t(e,n){c5(this,t),this._format=e,this.metadata=n}return u5(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!M9e.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),M9e=/^\(?\$1\)?$/,E9e=function(){function t(e,n){c5(this,t),this.type=e,this.metadata=n}return u5(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function JP(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function WJ(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!cu(t)||!cu(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(cu(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+j9e(t)+": "+t,"."))}var j9e=function(e){return $d(e)};function mc(t,e){if(e=new hr(e),e.hasCountry(t))return e.country(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function ZJ(t,e){return e.countries.hasOwnProperty(t)}function KJ(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?KP(e,_9e)===-1?this.v2=!0:KP(e,w9e)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function d5(t,e){return T9e(t,void 0,e)}function T9e(t,e,n){var r=n.type(e),s=r&&r.possibleLengths()||n.possibleLengths();if(!s)return"IS_POSSIBLE";var a=t.length,i=s[0];return i===a?"IS_POSSIBLE":i>a?"TOO_SHORT":s[s.length-1]<a?"TOO_LONG":s.indexOf(a,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function N9e(t,e,n){if(e===void 0&&(e={}),n=new hr(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.country(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return YJ(t.phone||t.nationalNumber,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function YJ(t,e){switch(d5(t,e)){case"IS_POSSIBLE":return!0;default:return!1}}function qi(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function A9e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=P9e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P9e(t,e){if(t){if(typeof t=="string")return XP(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XP(t,e):void 0}}function XP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var I9e=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function CE(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new hr(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(qi(r,n.nationalNumberPattern())){if(H7(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||H7(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var s=A9e(I9e),a;!(a=s()).done;){var i=a.value;if(H7(r,i,n))return i}}}}function H7(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:qi(t,e.pattern())}function L9e(t,e,n){if(e=e||{},n=new hr(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return CE(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return qi(r,n.nationalNumberPattern())}function R9e(t,e,n){var r=new hr(n),s=r.getCountryCodesForCallingCode(t);return s?s.filter(function(a){return O9e(e,a,n)}):[]}function O9e(t,e,n){var r=new hr(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var _E=2,D9e=17,F9e=3,as="0-9ï¼-ï¼Ù -Ù©Û°-Û¹",B9e="-â-ââã¼ï¼",U9e="ï¼/",H9e="ï¼.",V9e=" Â Â­ââ ã",$9e="()ï¼ï¼ï¼»ï¼½\\[\\]",q9e="~ââ¼ï½",$a="".concat(B9e).concat(U9e).concat(H9e).concat(V9e).concat($9e).concat(q9e),f5="+ï¼",z9e=new RegExp("(["+as+"])");function QJ(t,e,n,r){if(e){var s=new hr(r);s.selectNumberingPlan(e,n);var a=new RegExp(s.IDDPrefix());if(t.search(a)===0){t=t.slice(t.match(a)[0].length);var i=t.match(z9e);if(!(i&&i[1]!=null&&i[1].length>0&&i[1]==="0"))return t}}}function kw(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var s,a,i=r.length-1,l=i>0&&r[i];if(e.nationalPrefixTransformRule()&&l)s=t.replace(n,e.nationalPrefixTransformRule()),i>1&&(a=r[1]);else{var c=r[0];s=t.slice(c.length),l&&(a=r[1])}var u;if(l){var d=t.indexOf(r[1]),f=t.slice(0,d);f===e.numberingPlan.nationalPrefix()&&(u=e.numberingPlan.nationalPrefix())}else u=r[0];return{nationalNumber:s,nationalPrefix:u,carrierCode:a}}}return{nationalNumber:t}}function Mw(t,e){var n=kw(t,e),r=n.carrierCode,s=n.nationalNumber;if(s!==t){if(!G9e(t,s,e))return{nationalNumber:t};if(e.possibleLengths()&&!W9e(s,e))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:r}}function G9e(t,e,n){return!(qi(t,n.nationalNumberPattern())&&!qi(e,n.nationalNumberPattern()))}function W9e(t,e){switch(d5(t,e)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function JJ(t,e,n,r){var s=e?mc(e,r):n;if(t.indexOf(s)===0){r=new hr(r),r.selectNumberingPlan(e,n);var a=t.slice(s.length),i=Mw(a,r),l=i.nationalNumber,c=Mw(t,r),u=c.nationalNumber;if(!qi(u,r.nationalNumberPattern())&&qi(l,r.nationalNumberPattern())||d5(u,r)==="TOO_LONG")return{countryCallingCode:s,number:a}}return{number:t}}function wE(t,e,n,r){if(!t)return{};var s;if(t[0]!=="+"){var a=QJ(t,e,n,r);if(a&&a!==t)s=!0,t="+"+a;else{if(e||n){var i=JJ(t,e,n,r),l=i.countryCallingCode,c=i.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:t}}}if(t[1]==="0")return{};r=new hr(r);for(var u=2;u-1<=F9e&&u<=t.length;){var d=t.slice(1,u);if(r.hasCallingCode(d))return r.selectNumberingPlan(d),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:d,number:t.slice(u)};u++}return{}}function XJ(t){return t.replace(new RegExp("[".concat($a,"]+"),"g")," ").trim()}var eX=/(\$\d)/;function tX(t,e,n){var r=n.useInternationalFormat,s=n.withNationalPrefix;n.carrierCode,n.metadata;var a=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():s&&e.nationalPrefixFormattingRule()?e.format().replace(eX,e.nationalPrefixFormattingRule()):e.format());return r?XJ(a):a}var Z9e=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function K9e(t,e,n){var r=new hr(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(Z9e.test(r.IDDPrefix()))return r.IDDPrefix()}var Y9e=";ext=",C1=function(e){return"([".concat(as,"]{1,").concat(e,"})")};function nX(t){var e="20",n="15",r="9",s="6",a="[ Â \\t,]*",i="[:\\.ï¼]?[ Â \\t,-]*",l="#?",c="(?:e?xt(?:ensi(?:oÌ?|Ã³))?n?|ï½?ï½ï½ï½?|Ð´Ð¾Ð±|anexo)",u="(?:[xï½#ï¼~ï½]|int|ï½ï½ï½)",d="[- ]+",f="[ Â \\t]*",m="(?:,{2}|;)",p=Y9e+C1(e),h=a+c+i+C1(e)+l,v=a+u+i+C1(r)+l,y=d+C1(s)+"#",x=f+m+i+C1(n)+l,b=f+"(?:,)+"+i+C1(r)+l;return p+"|"+h+"|"+v+"|"+y+"|"+x+"|"+b}var Q9e="["+as+"]{"+_E+"}",J9e="["+f5+"]{0,1}(?:["+$a+"]*["+as+"]){3,}["+$a+as+"]*",X9e=new RegExp("^["+f5+"]{0,1}(?:["+$a+"]*["+as+"]){1,2}$","i"),e8e=J9e+"(?:"+nX()+")?",t8e=new RegExp("^"+Q9e+"$|^"+e8e+"$","i");function n8e(t){return t.length>=_E&&t8e.test(t)}function r8e(t){return X9e.test(t)}function s8e(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function a8e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=o8e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o8e(t,e){if(t){if(typeof t=="string")return eI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eI(t,e):void 0}}function eI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){i8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i8e(t,e,n){return(e=l8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l8e(t){var e=c8e(t,"string");return Ip(e)=="symbol"?e:e+""}function c8e(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rI={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function u8e(t,e,n,r){if(n?n=nI(nI({},rI),n):n=rI,r=new hr(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.country(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var s=r.countryCallingCode(),a=n.v2?t.nationalNumber:t.phone,i;switch(e){case"NATIONAL":return a?(i=qg(a,t.carrierCode,"NATIONAL",r,n),V7(i,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return a?(i=qg(a,null,"INTERNATIONAL",r,n),i="+".concat(s," ").concat(i),V7(i,t.ext,r,n.formatExtension)):"+".concat(s);case"E.164":return"+".concat(s).concat(a);case"RFC3966":return s8e({number:"+".concat(s).concat(a),ext:t.ext});case"IDD":if(!n.fromCountry)return;var l=f8e(a,t.carrierCode,s,n.fromCountry,r);return V7(l,t.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function qg(t,e,n,r,s){var a=d8e(r.formats(),t);return a?tX(t,a,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&s&&s.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function d8e(t,e){for(var n=a8e(t),r;!(r=n()).done;){var s=r.value;if(s.leadingDigitsPatterns().length>0){var a=s.leadingDigitsPatterns()[s.leadingDigitsPatterns().length-1];if(e.search(a)!==0)continue}if(qi(e,s.pattern()))return s}}function V7(t,e,n,r){return e?r(t,e,n):t}function f8e(t,e,n,r,s){var a=mc(r,s.metadata);if(a===n){var i=qg(t,e,"NATIONAL",s);return n==="1"?n+" "+i:i}var l=K9e(r,void 0,s.metadata);if(l)return"".concat(l," ").concat(n," ").concat(qg(t,null,"INTERNATIONAL",s))}function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function aI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){m8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m8e(t,e,n){return(e=rX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rX(r.key),r)}}function h8e(t,e,n){return e&&g8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rX(t){var e=v8e(t,"string");return Lp(e)=="symbol"?e:e+""}function v8e(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sX=function(){function t(e,n,r){if(p8e(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(cu(n)&&cu(n.countries)){r=n;var s=e;if(!b8e.test(s))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=wE(s,void 0,void 0,r),i=a.countryCallingCode,l=a.number;if(n=l,e=i,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");WJ(r);var c=x8e(e,r),u=c.country,d=c.countryCallingCode;this.country=u,this.countryCallingCode=d,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return h8e(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:R9e(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return N9e(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return L9e(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new hr(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return CE(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return u8e(this,n,r?aI(aI({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])}(),y8e=function(e){return/^[A-Z]{2}$/.test(e)};function x8e(t,e){var n,r,s=new hr(e);return y8e(t)?(n=t,s.selectNumberingPlan(n),r=s.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var b8e=/^\+\d+$/;function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}function C8e(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function _8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w8e(t,e,n){return e=Op(e),S8e(t,SE()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function S8e(t,e){if(e&&(Ew(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k8e(t)}function k8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rp(t,e)}function jw(t){var e=typeof Map=="function"?new Map:void 0;return jw=function(r){if(r===null||!j8e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return E8e(r,arguments,Op(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Rp(s,r)},jw(t)}function E8e(t,e,n){if(SE())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var s=new(t.bind.apply(t,r));return n&&Rp(s,n.prototype),s}function SE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(SE=function(){return!!t})()}function j8e(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch(e){return typeof t=="function"}}function Rp(t,e){return Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Rp(t,e)}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Op(t)}var xi=function(t){function e(n){var r;return _8e(this,e),r=w8e(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return M8e(e,t),C8e(e)}(jw(Error)),oI=new RegExp("(?:"+nX()+")$","i");function T8e(t){var e=t.search(oI);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(oI),s=1;s<r.length;){if(r[s])return{number:n,ext:r[s]};s++}}function N8e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=A8e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A8e(t,e){if(t){if(typeof t=="string")return iI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iI(t,e):void 0}}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var P8e={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","ï¼":"0","ï¼":"1","ï¼":"2","ï¼":"3","ï¼":"4","ï¼":"5","ï¼":"6","ï¼":"7","ï¼":"8","ï¼":"9","Ù ":"0","Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Û°":"0","Û±":"1","Û²":"2","Û³":"3","Û´":"4","Ûµ":"5","Û¶":"6","Û·":"7","Û¸":"8","Û¹":"9"};function aX(t){return P8e[t]}function zg(t){for(var e="",n=N8e(t.split("")),r;!(r=n()).done;){var s=r.value,a=aX(s);a&&(e+=a)}return e}function I8e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=L8e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L8e(t,e){if(t){if(typeof t=="string")return lI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lI(t,e):void 0}}function lI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tw(t){for(var e="",n=I8e(t.split("")),r;!(r=n()).done;){var s=r.value;e+=oX(s,e)||""}return e}function oX(t,e,n){if(t==="+"){if(e){typeof n=="function"&&n("end");return}return"+"}return aX(t)}function R8e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=O8e(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O8e(t,e){if(t){if(typeof t=="string")return cI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cI(t,e):void 0}}function cI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iX(t,e){var n=e.countries;e.defaultCountry;var r=e.metadata;r=new hr(r);for(var s=R8e(n),a;!(a=s()).done;){var i=a.value;if(r.country(i),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return i}else if(CE({phone:t,country:i},void 0,r.metadata))return i}}function lX(t,e){var n=e.nationalNumber,r=e.defaultCountry,s=e.metadata,a=s.getCountryCodesForCallingCode(t);if(a)return a.length===1?a[0]:iX(n,{countries:a,defaultCountry:r,metadata:s.metadata})}var cX="+",D8e="[\\-\\.\\(\\)]?",uI="(["+as+"]|"+D8e+")",F8e="^\\"+cX+uI+"*["+as+"]"+uI+"*$",B8e=new RegExp(F8e,"g"),Nw=as,U8e="["+Nw+"]+((\\-)*["+Nw+"])*",H8e="a-zA-Z",V8e="["+H8e+"]+((\\-)*["+Nw+"])*",$8e="^("+U8e+"\\.)*"+V8e+"\\.?$",q8e=new RegExp($8e,"g"),dI="tel:",Aw=";phone-context=",z8e=";isub=";function G8e(t){var e=t.indexOf(Aw);if(e<0)return null;var n=e+Aw.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function W8e(t){return t===null?!0:t.length===0?!1:B8e.test(t)||q8e.test(t)}function Z8e(t,e){var n=e.extractFormattedPhoneNumber,r=G8e(t);if(!W8e(r))throw new xi("NOT_A_NUMBER");var s;if(r===null)s=n(t)||"";else{s="",r.charAt(0)===cX&&(s+=r);var a=t.indexOf(dI),i;a>=0?i=a+dI.length:i=0;var l=t.indexOf(Aw);s+=t.substring(i,l)}var c=s.indexOf(z8e);if(c>0&&(s=s.substring(0,c)),s!=="")return s}var K8e=250,Y8e=new RegExp("["+f5+as+"]"),Q8e=new RegExp("[^"+as+"#]+$");function J8e(t,e,n){if(e=e||{},n=new hr(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new xi("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=eve(t,e.v2,e.extract),s=r.number,a=r.ext,i=r.error;if(!s){if(e.v2)throw i==="TOO_SHORT"?new xi("TOO_SHORT"):new xi("NOT_A_NUMBER");return{}}var l=nve(s,e.defaultCountry,e.defaultCallingCode,n),c=l.country,u=l.nationalNumber,d=l.countryCallingCode,f=l.countryCallingCodeSource,m=l.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new xi("INVALID_COUNTRY");return{}}if(!u||u.length<_E){if(e.v2)throw new xi("TOO_SHORT");return{}}if(u.length>D9e){if(e.v2)throw new xi("TOO_LONG");return{}}if(e.v2){var p=new sX(d,u,n.metadata);return c&&(p.country=c),m&&(p.carrierCode=m),a&&(p.ext=a),p.__countryCallingCodeSource=f,p}var h=(e.extended?n.hasSelectedNumberingPlan():c)?qi(u,n.nationalNumberPattern()):!1;return e.extended?{country:c,countryCallingCode:d,carrierCode:m,valid:h,possible:h?!0:!!(e.extended===!0&&n.possibleLengths()&&YJ(u,n)),phone:u,ext:a}:h?tve(c,u,a):{}}function X8e(t,e,n){if(t){if(t.length>K8e){if(n)throw new xi("TOO_LONG");return}if(e===!1)return t;var r=t.search(Y8e);if(!(r<0))return t.slice(r).replace(Q8e,"")}}function eve(t,e,n){var r=Z8e(t,{extractFormattedPhoneNumber:function(i){return X8e(i,n,e)}});if(!r)return{};if(!n8e(r))return r8e(r)?{error:"TOO_SHORT"}:{};var s=T8e(r);return s.ext?s:{number:r}}function tve(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function nve(t,e,n,r){var s=wE(Tw(t),e,n,r.metadata),a=s.countryCallingCodeSource,i=s.countryCallingCode,l=s.number,c;if(i)r.selectNumberingPlan(i);else if(l&&(e||n))r.selectNumberingPlan(e,n),e&&(c=e),i=n||mc(e,r.metadata);else return{};if(!l)return{countryCallingCodeSource:a,countryCallingCode:i};var u=Mw(Tw(l),r),d=u.nationalNumber,f=u.carrierCode,m=lX(i,{nationalNumber:d,defaultCountry:e,metadata:r});return m&&(c=m,m==="001"||r.country(c)),{country:c,countryCallingCode:i,countryCallingCodeSource:a,nationalNumber:d,carrierCode:f}}function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function mI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){rve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rve(t,e,n){return(e=sve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sve(t){var e=ave(t,"string");return Dp(e)=="symbol"?e:e+""}function ave(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ove(t,e,n){return J8e(t,mI(mI({},e),{},{v2:!0}),n)}function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ive(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lve(t,e,n){return(e=cve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cve(t){var e=uve(t,"string");return Fp(e)=="symbol"?e:e+""}function uve(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dve(t,e){return gve(t)||pve(t,e)||mve(t,e)||fve()}function fve(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mve(t,e){if(t){if(typeof t=="string")return gI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gI(t,e):void 0}}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function gve(t){if(Array.isArray(t))return t}function uX(t){var e=Array.prototype.slice.call(t),n=dve(e,4),r=n[0],s=n[1],a=n[2],i=n[3],l,c,u;if(typeof r=="string")l=r;else throw new TypeError("A text for parsing must be a string.");if(!s||typeof s=="string")i?(c=a,u=i):(c=void 0,u=a),s&&(c=ive({defaultCountry:s},c));else if(cu(s))a?(c=s,u=a):u=s;else throw new Error("Invalid second argument: ".concat(s));return{text:l,options:c,metadata:u}}function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){hve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hve(t,e,n){return(e=vve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=yve(t,"string");return Bp(e)=="symbol"?e:e+""}function yve(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dX(t,e,n){e&&e.defaultCountry&&!ZJ(e.defaultCountry,n)&&(e=vI(vI({},e),{},{defaultCountry:void 0}));try{return ove(t,e,n)}catch(r){if(!(r instanceof xi))throw r}}function xve(){var t=uX(arguments),e=t.text,n=t.options,r=t.metadata;return dX(e,n,r)}function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){bve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bve(t,e,n){return(e=Cve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cve(t){var e=_ve(t,"string");return Up(e)=="symbol"?e:e+""}function _ve(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kxt(){var t=uX(arguments),e=t.text,n=t.options,r=t.metadata;n=xI(xI({},n),{},{extract:!1});var s=dX(e,n,r);return s&&s.isValid()||!1}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mve(r.key),r)}}function kve(t,e,n){return e&&Sve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mve(t){var e=Eve(t,"string");return Hp(e)=="symbol"?e:e+""}function Eve(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jve=function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;wve(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return kve(t,[{key:"reset",value:function(n){var r=n.country,s=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,s)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(n){for(var r=0,s=Object.keys(n);r<s.length;r++){var a=s[r];this[a]=n[a]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function Tve(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Nve(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nve(t,e){if(t){if(typeof t=="string")return bI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bI(t,e):void 0}}function bI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Na="x",$7=new RegExp(Na);function ig(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function CI(t,e){return t[e]===")"&&e++,Ave(t.slice(0,e))}function Ave(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,s="";e.push(t.length);for(var a=0,i=e;a<i.length;a++){var l=i[a];s+=t.slice(r,l),r=l+1}return s}function Pve(t,e,n){for(var r=Tve(n.split("")),s;!(s=r()).done;){var a=s.value;if(t.slice(e+1).search($7)<0)return;e=t.search($7),t=t.replace($7,a)}return[t,e]}function Ive(t,e,n){var r=n.metadata,s=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,i=new RegExp("^(?:".concat(e.pattern(),")$"));if(i.test(t.nationalSignificantNumber))return Rve(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:s,getSeparatorAfterNationalPrefix:a})}function Lve(t,e){return d5(t,e)==="IS_POSSIBLE"}function Rve(t,e,n){var r=n.metadata,s=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,s(e)){var i=_I(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:r});if(i)return i}return _I(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:r})}function _I(t,e,n){var r=n.metadata,s=n.useNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,i=tX(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:s,metadata:r});if(s||(t.nationalPrefix?i=t.nationalPrefix+a(e)+i:t.complexPrefixBeforeNationalSignificantNumber&&(i=t.complexPrefixBeforeNationalSignificantNumber+" "+i)),Ove(i,t))return i}function Ove(t,e){return zg(t)===e.getNationalDigits()}function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function Dve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uve(r.key),r)}}function Bve(t,e,n){return e&&Fve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uve(t){var e=Hve(t,"string");return Vp(e)=="symbol"?e:e+""}function Hve(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vve=function(){function t(){Dve(this,t)}return Bve(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],s=r.branches,a=r.instructions;if(s)return{op:"|",args:s.concat([q7(a)])};if(a.length===0)throw new Error("Pattern is required");return a.length===1?a[0]:a}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(zve);if(!r){if(qve.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var s=r[1],a=n.slice(0,r.index),i=n.slice(r.index+s.length);switch(s){case"(?:":a&&this.parsePattern(a),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(a&&this.parsePattern(a),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var l=this.getContext(),c=l.branches;c.push(q7(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:c});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(a&&this.parsePattern(a),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(q7(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":a&&this.parsePattern(a),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:$ve(a)});break;default:throw new Error("Unknown operator: ".concat(s))}i&&this.parsePattern(i)}}])}();function $ve(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,s=t[n+1].charCodeAt(0)-1,a=r;a<=s;)e.push(String.fromCharCode(a)),a++}else e.push(t[n]);n++}return e}var qve=/[\(\)\[\]\?\:\|]/,zve=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function q7(t){return t.length===1?t[0]:t}function wI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Gve(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gve(t,e){if(t){if(typeof t=="string")return SI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SI(t,e):void 0}}function SI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function Wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yve(r.key),r)}}function Kve(t,e,n){return e&&Zve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yve(t){var e=Qve(t,"string");return $p(e)=="symbol"?e:e+""}function Qve(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jve=function(){function t(e){Wve(this,t),this.matchTree=new Vve().parse(e)}return Kve(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.allowOverflow;if(!n)throw new Error("String is required");var a=Pw(n.split(""),this.matchTree,!0);if(a&&a.match&&delete a.matchedChars,!(a&&a.overflow&&!s))return a}}])}();function Pw(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var s=t.slice(),a=0;a<e.length;){var i=e[a],l=Pw(s,i,n&&a===e.length-1);if(l){if(l.overflow)return l;if(l.match){if(s=s.slice(l.matchedChars.length),s.length===0)return a===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(l.partialMatch)return{partialMatch:!0};throw new Error("Unsupported match result:\n".concat(JSON.stringify(l,null,2)))}}else return;a++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-s.length)}}switch(e.op){case"|":for(var c,u=wI(e.args),d;!(d=u()).done;){var f=d.value,m=Pw(t,f,n);if(m){if(m.overflow)return m;if(m.match)return{match:!0,matchedChars:m.matchedChars};if(m.partialMatch)c=!0;else throw new Error("Unsupported match result:\n".concat(JSON.stringify(m,null,2)))}}return c?{partialMatch:!0}:void 0;case"[]":for(var p=wI(e.args),h;!(h=p()).done;){var v=h.value;if(t[0]===v)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[v]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function kI(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Xve(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xve(t,e){if(t){if(typeof t=="string")return MI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MI(t,e):void 0}}function MI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function eye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rye(r.key),r)}}function nye(t,e,n){return e&&tye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rye(t){var e=sye(t,"string");return qp(e)=="symbol"?e:e+""}function sye(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iw="9",aye=15,oye=ig(Iw,aye),iye=/[- ]/,lye=function(){return/\[([^\[\]])*\]/g},cye=function(){return/\d(?=[^,}][^,}])/g},uye=new RegExp("["+$a+"]*\\$1["+$a+"]*(\\$\\d["+$a+"]*)*$"),EI=3,dye=function(){function t(e){e.state;var n=e.metadata;eye(this,t),this.metadata=n,this.resetFormat()}return nye(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var s=this;if(Lve(r.nationalSignificantNumber,this.metadata))for(var a=kI(this.matchingFormats),i;!(i=a()).done;){var l=i.value,c=Ive(r,l,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(d){return s.shouldTryNationalPrefixFormattingRule(d,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(d){return s.getSeparatorAfterNationalPrefix(d)}});if(c)return this.resetFormat(),this.chosenFormat=l,this.setNationalNumberTemplate(c.replace(/\d/g,Na),r),this.populatedNationalNumberTemplate=c,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Na),c}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var s=this.chosenFormat,a=this.chooseFormat(r);if(a)return a===s?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,s=n.nationalSignificantNumber,a=n.nationalPrefix,i=n.international,l=s,c=l.length-EI;c<0&&(c=0),this.matchingFormats=this.matchingFormats.filter(function(u){return r.formatSuits(u,i,a)&&r.formatMatches(u,l,c)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,s){return!(s&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!s&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,s){var a=n.leadingDigitsPatterns().length;if(a===0)return!0;s=Math.min(s,a-1);var i=n.leadingDigitsPatterns()[s];if(r.length<EI)try{return new Jve(i).match(r,{allowOverflow:!0})!==void 0}catch(l){return console.error(l),!0}return new RegExp("^(".concat(i,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,s=function(){var u=l.value;return r.chosenFormat===u?0:uye.test(r.getFormatFormat(u,n.international))?r.createTemplateForFormat(u,n)?(r.chosenFormat=u,0):(r.matchingFormats=r.matchingFormats.filter(function(d){return d!==u}),1):1},a,i=kI(this.matchingFormats.slice()),l;!(l=i()).done&&(a=s(),a!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var s=this.getTemplateForFormat(n,r);if(s)return this.setNationalNumberTemplate(s,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&iye.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var s=n.IDDPrefix,a=n.missingPlus;return s?r&&r.spacing===!1?s:s+" ":a?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,s=0,a=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";s<a.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Na,r+1),s++;return CI(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Na)+ig(Na,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var s=r.nationalSignificantNumber,a=r.international,i=r.nationalPrefix,l=r.complexPrefixBeforeNationalSignificantNumber,c=n.pattern();c=c.replace(lye(),"\\d").replace(cye(),"\\d");var u=oye.match(c)[0];if(!(s.length>u.length)){var d=new RegExp("^"+c+"$"),f=s.replace(/\d/g,Iw);d.test(f)&&(u=f);var m=this.getFormatFormat(n,a),p;if(this.shouldTryNationalPrefixFormattingRule(n,{international:a,nationalPrefix:i})){var h=m.replace(eX,n.nationalPrefixFormattingRule());if(zg(n.nationalPrefixFormattingRule())===(i||"")+zg("$1")&&(m=h,p=!0,i))for(var v=i.length;v>0;)m=m.replace(/\d/,Na),v--}var y=u.replace(new RegExp(c),m).replace(new RegExp(Iw,"g"),Na);return p||(l?y=ig(Na,l.length)+" "+y:i&&(y=ig(Na,i.length)+this.getSeparatorAfterNationalPrefix(n)+y)),a&&(y=XJ(y)),y}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=Pve(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],CI(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var s=r.international,a=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var i=n.usesNationalPrefix();if(i&&a||!i&&!s)return!0}}}])}();function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function fX(t,e){return gye(t)||pye(t,e)||mye(t,e)||fye()}function fye(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mye(t,e){if(t){if(typeof t=="string")return jI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jI(t,e):void 0}}function jI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function gye(t){if(Array.isArray(t))return t}function hye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xye(r.key),r)}}function yye(t,e,n){return e&&vye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xye(t){var e=bye(t,"string");return zp(e)=="symbol"?e:e+""}function bye(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cye="["+$a+as+"]+",_ye=new RegExp("^"+Cye+"$","i"),wye="(?:["+f5+"]["+$a+as+"]*|["+$a+as+"]+)",Sye=new RegExp("[^"+$a+as+"]+.*$"),kye=/[^\d\[\]]/,Mye=function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,s=e.metadata,a=e.onNationalSignificantNumberChange;hye(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=s,this.onNationalSignificantNumberChange=a}return yye(t,[{key:"input",value:function(n,r){var s=Tye(n),a=fX(s,2),i=a[0],l=a[1],c=zg(i),u;return l&&(r.digits||(r.startInternationalNumber(),c||(u=!0))),c&&this.inputDigits(c,r),{digits:c,justLeadingPlus:u}}},{key:"inputDigits",value:function(n,r){var s=r.digits,a=s.length<3&&s.length+n.length>=3;if(r.appendDigits(n),a&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(i){return r.update(i)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,s=n.callingCode;return r&&!s}},{key:"extractCountryCallingCode",value:function(n){var r=wE("+"+n.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),s=r.countryCallingCode,a=r.number;if(s)return n.setCallingCode(s),n.update({nationalSignificantNumber:a}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&kye.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var s=kw(n,this.metadata),a=s.nationalPrefix,i=s.nationalNumber,l=s.carrierCode;if(i!==n)return this.onExtractedNationalNumber(a,l,i,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,s){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,s);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var a=kw(n,this.metadata),i=a.nationalPrefix,l=a.nationalNumber,c=a.carrierCode;if(l!==r)return this.onExtractedNationalNumber(i,c,l,n,s),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,s,a,i){var l,c,u=a.lastIndexOf(s);if(u>=0&&u===a.length-s.length){c=!0;var d=a.slice(0,u);d!==n&&(l=d)}i({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:s,nationalSignificantNumberMatchesInput:c,complexPrefixBeforeNationalSignificantNumber:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,s=n.IDDPrefix,a=n.digits;if(n.nationalSignificantNumber,!(r||s)){var i=QJ(a,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(i!==void 0&&i!==a)return n.update({IDDPrefix:a.slice(0,a.length-i.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=JJ(n.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),s=r.countryCallingCode;if(r.number,s)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:s}),!0}}},{key:"startInternationalNumber",value:function(n,r){var s=r.country,a=r.callingCode;n.startInternationalNumber(s,a),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])}();function Eye(t){var e=t.search(wye);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(Sye,""),n&&(t="+"+t),t}}function jye(t){var e=Eye(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function Tye(t){var e=jye(t),n=fX(e,2),r=n[0],s=n[1];return _ye.test(r)||(r=""),[r,s]}function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function Nye(t,e){return Lye(t)||Iye(t,e)||Pye(t,e)||Aye()}function Aye(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pye(t,e){if(t){if(typeof t=="string")return TI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TI(t,e):void 0}}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Iye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,a,i,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function Lye(t){if(Array.isArray(t))return t}function Rye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fye(r.key),r)}}function Dye(t,e,n){return e&&Oye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fye(t){var e=Bye(t,"string");return Gp(e)=="symbol"?e:e+""}function Bye(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var If=function(){function t(e,n){Rye(this,t),this.metadata=new hr(n);var r=this.getCountryAndCallingCode(e),s=Nye(r,2),a=s[0],i=s[1];this.defaultCountry=a,this.defaultCallingCode=i,this.reset()}return Dye(t,[{key:"getCountryAndCallingCode",value:function(n){var r,s;return n&&(cu(n)?(r=n.defaultCountry,s=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,s]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),s=r.digits,a=r.justLeadingPlus;if(a)this.formattedOutput="+";else if(s){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var i;if(this.metadata.hasSelectedNumberingPlan()&&(i=this.formatter.format(s,this.state)),i===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var l=this.state.getNationalDigits();l&&(i=this.formatter.format(l,this.state))}this.formattedOutput=i?this.getFullNumber(i):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new jve({onCountryChange:function(s){n.country=s},onCallingCodeChange:function(s,a){n.metadata.selectNumberingPlan(a,s),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new dye({state:this.state,metadata:this.metadata}),this.parser=new Mye({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var s=function(l){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!l})+l},a=this.state.callingCode;return s(a?n?"".concat(a," ").concat(n):a:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,s=n.complexPrefixBeforeNationalSignificantNumber,a=n.nationalPrefix,i=r,l=s||a;return l&&(i=l+i),i}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(n?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Na)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(lX(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,s=n.callingCode,a=n.country,i=n.nationalSignificantNumber;if(r){if(this.isInternational())return s?"+"+s+i:"+"+r;if(a||s){var l=a?this.metadata.countryCallingCode():s;return"+"+l+i}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,s=n.carrierCode,a=n.callingCode,i=this._getCountry();if(r&&!(!i&&!a)){if(i&&i===this.defaultCountry){var l=new hr(this.metadata.metadata);l.selectNumberingPlan(i);var c=l.numberingPlan.callingCode(),u=this.metadata.getCountryCodesForCallingCode(c);if(u.length>1){var d=iX(r,{countries:u,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});d&&(i=d)}}var f=new sX(i||a,r,this.metadata.metadata);return s&&(f.carrierCode=s),f}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function NI(t){return new hr(t).getCountries()}function Uye(t,e,n){return n||(n=e,e=void 0),new If(e,n).input(t)}const Yxt=t=>{"use forget";var l;const e=ee.c(9);let n,r;e[0]!==t?(l=t,{className:n}=l,r=de(l,["className"]),e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let s;e[3]!==n?(s=U("mt-1.5 h-14 w-full rounded-full text-base",n),e[3]=n,e[4]=s):s=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx(N,{id:"continueButton.continue",defaultMessage:"Continue"}),e[5]=a):a=e[5];let i;return e[6]!==r||e[7]!==s?(i=o.jsx(oe,P(C({type:"submit",onClick:Hye,className:s},r),{children:a})),e[6]=r,e[7]=s,e[8]=i):i=e[8],i};function Hye(){return ve.addAction("login-form.continue")}function mX(t){const e=g.useRef(!1);return()=>{e.current||(t(),e.current=!0)}}var z7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var AI;function Vye(){return AI||(AI=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",i=0;i<arguments.length;i++){var l=arguments[i];l&&(a=s(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var i="";for(var l in a)e.call(a,l)&&a[l]&&(i=s(i,l));return i}function s(a,i){return i?a?a+" "+i:a+i:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(z7)),z7.exports}var $ye=Vye();const Gg=St($ye);function qye(t,e,n){switch(n){case"Backspace":e>0&&(t=t.slice(0,e-1)+t.slice(e),e--);break;case"Delete":t=t.slice(0,e)+t.slice(e+1);break}return{value:t,caret:e}}function zye(t,e,n){for(var r={},s="",a=0,i=0;i<t.length;){var l=n(t[i],s,r);l!==void 0&&(s+=l,e!==void 0&&(e===i?a=s.length-1:e>i&&(a=s.length))),i++}e===void 0&&(a=s.length);var c={value:s,caret:a};return c}function Gye(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Wye(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wye(t,e){if(t){if(typeof t=="string")return PI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PI(t,e)}}function PI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lw(t,e){for(var n=0,r=Gye(e.split("")),s;!(s=r()).done;){var a=s.value;a===t&&n++}return n}function Zye(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=t.length,a=Lw("(",t),i=Lw(")",t),l=a-i;l>0&&s<e.length;)t+=e[s].replace(n,r),e[s]===")"&&l--,s++;return t}function Kye(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Yye(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yye(t,e){if(t){if(typeof t=="string")return II(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return II(t,e)}}function II(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qye(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!t)return function(s){return{text:s}};var r=Lw(e,t);return function(s){if(!s)return{text:"",template:t};for(var a=0,i="",l=Kye(t.split("")),c;!(c=l()).done;){var u=c.value;if(u!==e){i+=u;continue}if(i+=s[a],a++,a===s.length&&s.length<r)break}return n&&(i=Zye(i,t)),{text:i,template:t}}}function Jye(t,e,n){typeof n=="string"&&(n=Qye(n));var r=n(t)||{},s=r.text,a=r.template;if(s===void 0&&(s=t),a)if(e===void 0)e=s.length;else{for(var i=0,l=!1,c=-1;i<s.length&&i<a.length;){if(s[i]!==a[i]){if(e===0){l=!0,e=i;break}c=i,e--}i++}l||(e=c+1)}return{text:s,caret:e}}function Xye(t){return t.hasAttribute("readonly")}function exe(t){if(t.selectionStart!==t.selectionEnd)return{start:t.selectionStart,end:t.selectionEnd}}var LI={Backspace:8,Delete:46};function txe(t){switch(t.keyCode){case LI.Backspace:return"Backspace";case LI.Delete:return"Delete"}}function nxe(t){return t.selectionStart}function pX(t,e){e!==void 0&&(rxe()?setTimeout(function(){return t.setSelectionRange(e,e)},0):t.setSelectionRange(e,e))}function rxe(){if(typeof navigator<"u")return sxe.test(navigator.userAgent)}var sxe=/Android/i;function axe(t,e,n,r,s){Rw(e,n,r,void 0,s)}function oxe(t,e,n,r,s){if(!Xye(e)){var a=txe(t);switch(a){case"Delete":case"Backspace":t.preventDefault();var i=exe(e);return i?(ixe(e,i),Rw(e,n,r,void 0,s)):Rw(e,n,r,a,s)}}}function ixe(t,e){var n=t.value;n=n.slice(0,e.start)+n.slice(e.end),t.value=n,pX(t,e.start)}function Rw(t,e,n,r,s){var a=zye(t.value,nxe(t),e),i=a.value,l=a.caret;if(r){var c=qye(i,l,r);i=c.value,l=c.caret}var u=Jye(i,l,n),d=u.text;l=u.caret,t.value=d,pX(t,l),s&&s(i)}var lxe=["ref","parse","format","value","defaultValue","controlled","onChange","onKeyDown"];function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){cxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cxe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uxe(t,e){if(t==null)return{};var n=dxe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function fxe(t){var e=t.ref,n=t.parse,r=t.format,s=t.value,a=t.defaultValue,i=t.controlled,l=i===void 0?!0:i,c=t.onChange,u=t.onKeyDown,d=uxe(t,lxe),f=g.useRef(),m=g.useCallback(function(y){f.current=y,e&&(typeof e=="function"?e(y):e.current=y)},[e]),p=g.useCallback(function(y){return axe(y,f.current,n,r,c)},[f,n,r,c]),h=g.useCallback(function(y){if(u&&u(y),!y.defaultPrevented)return oxe(y,f.current,n,r,c)},[f,n,r,c,u]),v=_1(_1({},d),{},{ref:m,onChange:p,onKeyDown:h});return l?_1(_1({},v),{},{value:r(OI(s)?"":s).text}):_1(_1({},v),{},{defaultValue:r(OI(a)?"":a).text})}function OI(t){return t==null}var mxe=["inputComponent","parse","format","value","defaultValue","onChange","controlled","onKeyDown","type"];function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gxe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hxe(t,e){if(t==null)return{};var n=vxe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Wg(t,e){var n=t.inputComponent,r=n===void 0?"input":n,s=t.parse,a=t.format,i=t.value,l=t.defaultValue,c=t.onChange,u=t.controlled,d=t.onKeyDown,f=t.type,m=f===void 0?"text":f,p=hxe(t,mxe),h=fxe(pxe({ref:e,parse:s,format:a,value:i,defaultValue:l,onChange:c,controlled:u,onKeyDown:d,type:m},p));return be.createElement(r,h)}Wg=be.forwardRef(Wg);Wg.propTypes={parse:Ce.func.isRequired,format:Ce.func.isRequired,inputComponent:Ce.elementType,type:Ce.string,value:Ce.string,defaultValue:Ce.string,onChange:Ce.func,controlled:Ce.bool,onKeyDown:Ce.func,onCut:Ce.func,onPaste:Ce.func};function gX(t){var e=t.inputFormat,n=t.country,r=t.metadata;return e==="NATIONAL_PART_OF_INTERNATIONAL"?"+".concat(mc(n,r)):""}function Ow(t,e){return e&&(t=t.slice(e.length),t[0]===" "&&(t=t.slice(1))),t}function yxe(t,e,n){if(!(n&&n.ignoreRest)){var r=function(a){if(n)switch(a){case"end":n.ignoreRest=!0;break}};return oX(t,e,r)}}function hX(t){var e=t.onKeyDown,n=t.inputFormat;return g.useCallback(function(r){if(r.keyCode===bxe&&n==="INTERNATIONAL"&&r.target instanceof HTMLInputElement&&xxe(r.target)===Cxe.length){r.preventDefault();return}e&&e(r)},[e,n])}function xxe(t){return t.selectionStart}var bxe=8,Cxe="+",_xe=["onKeyDown","country","inputFormat","metadata","international","withCountryCallingCode"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}function wxe(t,e){if(t==null)return{};var n=Sxe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function kxe(t){function e(n,r){var s=n.onKeyDown,a=n.country,i=n.inputFormat,l=n.metadata,c=l===void 0?t:l;n.international,n.withCountryCallingCode;var u=wxe(n,_xe),d=g.useCallback(function(m){var p=new If(a,c),h=gX({inputFormat:i,country:a,metadata:c}),v=p.input(h+m),y=p.getTemplate();return h&&(v=Ow(v,h),y&&(y=Ow(y,h))),{text:v,template:y}},[a,c]),f=hX({onKeyDown:s,inputFormat:i});return be.createElement(Wg,Dw({},u,{ref:r,parse:yxe,format:d,onKeyDown:f}))}return e=be.forwardRef(e),e.propTypes={value:Ce.string.isRequired,onChange:Ce.func.isRequired,onKeyDown:Ce.func,country:Ce.string,inputFormat:Ce.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:Ce.object},e}const Mxe=kxe();var Exe=["value","onChange","onKeyDown","country","inputFormat","metadata","inputComponent","international","withCountryCallingCode"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}function jxe(t,e){if(t==null)return{};var n=Txe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Txe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Nxe(t){function e(n,r){var s=n.value,a=n.onChange,i=n.onKeyDown,l=n.country,c=n.inputFormat,u=n.metadata,d=u===void 0?t:u,f=n.inputComponent,m=f===void 0?"input":f;n.international,n.withCountryCallingCode;var p=jxe(n,Exe),h=gX({inputFormat:c,country:l,metadata:d}),v=g.useCallback(function(x){var b=Tw(x.target.value);if(b===s){var _=FI(h,b,l,d);_.indexOf(x.target.value)===0&&(b=b.slice(0,-1))}a(b)},[h,s,a,l,d]),y=hX({onKeyDown:i,inputFormat:c});return be.createElement(m,Fw({},p,{ref:r,value:FI(h,s,l,d),onChange:v,onKeyDown:y}))}return e=be.forwardRef(e),e.propTypes={value:Ce.string.isRequired,onChange:Ce.func.isRequired,onKeyDown:Ce.func,country:Ce.string,inputFormat:Ce.oneOf(["INTERNATIONAL","NATIONAL_PART_OF_INTERNATIONAL","NATIONAL","INTERNATIONAL_OR_NATIONAL"]).isRequired,metadata:Ce.object,inputComponent:Ce.elementType},e}const Axe=Nxe();function FI(t,e,n,r){return Ow(Uye(t+e,n,r),t)}function Pxe(t){return BI(t[0])+BI(t[1])}function BI(t){return String.fromCodePoint(127397+t.toUpperCase().charCodeAt(0))}var Ixe=["value","onChange","options","disabled","readOnly"],Lxe=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function Rxe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Oxe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oxe(t,e){if(t){if(typeof t=="string")return UI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UI(t,e)}}function UI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(this,arguments)}function vX(t,e){if(t==null)return{};var n=Dxe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function yX(t){var e=t.value,n=t.onChange,r=t.options,s=t.disabled,a=t.readOnly,i=vX(t,Ixe),l=g.useCallback(function(c){var u=c.target.value;n(u==="ZZ"?void 0:u)},[n]);return g.useMemo(function(){return bX(r,e)},[r,e]),be.createElement("select",Zg({},i,{disabled:s||a,readOnly:a,value:e||"ZZ",onChange:l}),r.map(function(c){var u=c.value,d=c.label,f=c.divider;return be.createElement("option",{key:f?"|":u||"ZZ",value:f?"|":u||"ZZ",disabled:!!f,style:f?Fxe:void 0},d)}))}yX.propTypes={value:Ce.string,onChange:Ce.func.isRequired,options:Ce.arrayOf(Ce.shape({value:Ce.string,label:Ce.string,divider:Ce.bool})).isRequired,disabled:Ce.bool,readOnly:Ce.bool};var Fxe={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function xX(t){var e=t.value,n=t.options,r=t.className,s=t.iconComponent;t.getIconAspectRatio;var a=t.arrowComponent,i=a===void 0?Bxe:a,l=t.unicodeFlags,c=vX(t,Lxe),u=g.useMemo(function(){return bX(n,e)},[n,e]);return be.createElement("div",{className:"PhoneInputCountry"},be.createElement(yX,Zg({},c,{value:e,options:n,className:Gg("PhoneInputCountrySelect",r)})),u&&(l&&e?be.createElement("div",{className:"PhoneInputCountryIconUnicode"},Pxe(e)):be.createElement(s,{"aria-hidden":!0,country:e,label:u.label,aspectRatio:l?1:void 0})),be.createElement(i,null))}xX.propTypes={iconComponent:Ce.elementType,arrowComponent:Ce.elementType,unicodeFlags:Ce.bool};function Bxe(){return be.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function bX(t,e){for(var n=Rxe(t),r;!(r=n()).done;){var s=r.value;if(!s.divider&&Uxe(s.value,e))return s}}function Uxe(t,e){return t==null?e==null:t===e}var Hxe=["country","countryName","flags","flagUrl"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function Vxe(t,e){if(t==null)return{};var n=$xe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $xe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function kE(t){var e=t.country,n=t.countryName,r=t.flags,s=t.flagUrl,a=Vxe(t,Hxe);return r&&r[e]?r[e]({title:n}):be.createElement("img",Bw({},a,{alt:n,role:n?void 0:"presentation",src:s.replace("{XX}",e).replace("{xx}",e.toLowerCase())}))}kE.propTypes={country:Ce.string.isRequired,countryName:Ce.string.isRequired,flags:Ce.objectOf(Ce.elementType),flagUrl:Ce.string.isRequired};var qxe=["aspectRatio"],zxe=["title"],Gxe=["title"];function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function ME(t,e){if(t==null)return{};var n=Wxe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function m5(t){var e=t.aspectRatio,n=ME(t,qxe);return e===1?be.createElement(_X,n):be.createElement(CX,n)}m5.propTypes={title:Ce.string.isRequired,aspectRatio:Ce.number};function CX(t){var e=t.title,n=ME(t,zxe);return be.createElement("svg",Kg({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),be.createElement("title",null,e),be.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},be.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),be.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),be.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),be.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),be.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),be.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),be.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}CX.propTypes={title:Ce.string.isRequired};function _X(t){var e=t.title,n=ME(t,Gxe);return be.createElement("svg",Kg({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),be.createElement("title",null,e),be.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},be.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),be.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),be.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),be.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),be.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),be.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),be.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}_X.propTypes={title:Ce.string.isRequired};function Zxe(t){if(t.length<2||t[0]!=="+")return!1;for(var e=1;e<t.length;){var n=t.charCodeAt(e);if(!(n>=48&&n<=57))return!1;e++}return!0}function wX(t){Zxe(t)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",t)}function Kxe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Yxe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yxe(t,e){if(t){if(typeof t=="string")return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HI(t,e)}}function HI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qxe(t,e){if(!e)return t;for(var n=[],r=[],s=n,a=function(){var u=l.value;if(u==="|")s.push({divider:!0});else if(u==="..."||u==="â¦")s=r;else{var d;u==="ð"?d=void 0:d=u;var f=t.indexOf(t.filter(function(p){return p.value===d})[0]),m=t[f];t.splice(f,1),s.push(m)}},i=Kxe(e),l;!(l=i()).done;)a();return n.concat(t).concat(r)}function Jxe(t,e){if(t&&(t=t.filter(function(n){switch(n){case"ð":case"|":case"...":case"â¦":return!0;default:return p5(n,e)}}),t.length>0))return t}function p5(t,e){return ZJ(t,e)?!0:(console.error("Country not found: ".concat(t)),!1)}function SX(t,e){return t&&(t=t.filter(function(n){return p5(n,e)}),t.length===0&&(t=void 0)),t}var Xxe=["country","label","aspectRatio"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uw.apply(this,arguments)}function ebe(t,e){if(t==null)return{};var n=tbe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function kX(t){var e=t.flags,n=t.flagUrl,r=t.flagComponent,s=t.internationalIcon;function a(i){var l=i.country,c=i.label,u=i.aspectRatio,d=ebe(i,Xxe),f=s===m5?u:void 0;return be.createElement("div",Uw({},d,{className:Gg("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":f===1,"PhoneInputCountryIcon--border":l})}),l?be.createElement(r,{country:l,countryName:c,flags:e,flagUrl:n,className:"PhoneInputCountryIconImg"}):be.createElement(s,{title:c,aspectRatio:f,className:"PhoneInputCountryIconImg"}))}return a.propTypes={country:Ce.string,label:Ce.string.isRequired,aspectRatio:Ce.number},a}kX({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:kE,internationalIcon:m5});function nbe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=rbe(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rbe(t,e){if(t){if(typeof t=="string")return VI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VI(t,e)}}function VI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sbe(t,e){for(var n=nbe(t),r;!(r=n()).done;){var s=r.value;s&&abe(s,e)}}function abe(t,e){typeof t=="function"?t(e):t.current=e}var MX=Ce.shape({country_calling_codes:Ce.object.isRequired,countries:Ce.object.isRequired}),EX=Ce.objectOf(Ce.string);function Pi(t,e){var n="+"+mc(t,e);return n}function obe(t){var e=t.value,n=t.phoneNumber,r=t.defaultCountry,s=t.getAnyCountry,a=t.countries,i=t.required,l=t.metadata,c;return n&&n.country?c=n.country:r&&(!e||ud(e,r,l))&&(c=r),a&&a.indexOf(c)<0&&(c=void 0),!c&&i&&a&&a.length>0&&(c=s()),c}function ibe(t){var e=t.countries,n=t.countryNames,r=t.addInternationalOption,s=t.compareStringsLocales,a=t.compareStrings;a||(a=pbe);var i=e.map(function(l){return{value:l,label:n[l]||l}});return i.sort(function(l,c){return a(l.label,c.label,s)}),r&&i.unshift({label:n.ZZ}),i}function jX(t,e){return xve(t||"",e)}function lbe(t){return t.formatNational().replace(/\D/g,"")}function cbe(t,e){var n=e.prevCountry,r=e.newCountry,s=e.metadata,a=e.useNationalFormat;if(n===r)return t;if(!t)return a?"":r?Pi(r,s):"";if(r){if(t[0]==="+"){if(a)return t.indexOf("+"+mc(r,s))===0?gbe(t,r,s):"";if(n){var i=Pi(r,s);return t.indexOf(i)===0?t:i}else{var l=Pi(r,s);return t.indexOf(l)===0?t:l}}}else if(t[0]!=="+")return z1(t,n,s)||"";return t}function z1(t,e,n){if(t){if(t[0]==="+"){if(t==="+")return;var r=new If(e,n);return r.input(t),r.getNumberValue()}if(e){var s=NX(t,e,n);return"+".concat(mc(e,n)).concat(s||"")}}}function ube(t,e,n){var r=NX(t,e,n);if(r){var s=r.length-dbe(e,n);if(s>0)return t.slice(0,t.length-s)}return t}function dbe(t,e){return e=new hr(e),e.selectNumberingPlan(t),e.numberingPlan.possibleLengths()[e.numberingPlan.possibleLengths().length-1]}function TX(t,e){var n=e.country,r=e.countries,s=e.defaultCountry,a=e.latestCountrySelectedByUser,i=e.required,l=e.metadata;if(t==="+")return n;var c=mbe(t,l);if(c)return!r||r.indexOf(c)>=0?c:void 0;if(n){if(ud(t,n,l)){if(a&&ud(t,a,l))return a;if(s&&ud(t,s,l))return s;if(!i)return}else if(!i)return}return n}function fbe(t,e){var n=e.prevPhoneDigits,r=e.country,s=e.defaultCountry,a=e.latestCountrySelectedByUser,i=e.countryRequired,l=e.getAnyCountry,c=e.countries,u=e.international,d=e.limitMaxLength,f=e.countryCallingCodeEditable,m=e.metadata;if(u&&f===!1&&r){var p=Pi(r,m);if(t.indexOf(p)!==0){var h,v=t&&t[0]!=="+";return v?(t=p+t,h=z1(t,r,m)):t=p,{phoneDigits:t,value:h,country:r}}}u===!1&&r&&t&&t[0]==="+"&&(t=$I(t,r,m)),t&&r&&d&&(t=ube(t,r,m)),t&&t[0]!=="+"&&(!r||u)&&(t="+"+t),!t&&n&&n[0]==="+"&&(u?r=void 0:r=s),t==="+"&&n&&n[0]==="+"&&n.length>1&&(r=void 0);var y;return t&&(t[0]==="+"&&(t==="+"||r&&Pi(r,m).indexOf(t)===0)?y=void 0:y=z1(t,r,m)),y&&(r=TX(y,{country:r,countries:c,defaultCountry:s,latestCountrySelectedByUser:a,required:!1,metadata:m}),u===!1&&r&&t&&t[0]==="+"&&(t=$I(t,r,m),y=z1(t,r,m))),!r&&i&&(r=s||l()),{phoneDigits:t,country:r,value:y}}function $I(t,e,n){if(t.indexOf(Pi(e,n))===0){var r=new If(e,n);r.input(t);var s=r.getNumber();return s?s.formatNational().replace(/\D/g,""):""}else return t.replace(/\D/g,"")}function mbe(t,e){var n=new If(null,e);return n.input(t),n.getCountry()}function pbe(t,e,n){return String.prototype.localeCompare?t.localeCompare(e,n):t<e?-1:t>e?1:0}function gbe(t,e,n){if(e){var r="+"+mc(e,n);if(t.length<r.length){if(r.indexOf(t)===0)return""}else if(t.indexOf(r)===0)return t.slice(r.length)}for(var s=0,a=Object.keys(n.country_calling_codes);s<a.length;s++){var i=a[s];if(t.indexOf(i)===1)return t.slice(1+i.length)}return""}function NX(t,e,n){var r=new If(e,n);r.input(t);var s=r.getNumber();return s&&s.nationalNumber}function ud(t,e,n){for(var r=Pi(e,n),s=0;s<t.length&&s<r.length;){if(t[s]!==r[s])return!1;s++}return!0}function AX(t){var e=t.value,n=t.phoneNumber,r=t.defaultCountry,s=t.international,a=t.useNationalFormat,i=t.metadata;return(s===!1||a)&&n&&n.country?lbe(n):!e&&s&&r?Pi(r,i):e}function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){hbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hbe(t,e,n){return e=vbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vbe(t){var e=ybe(t,"string");return Wp(e)=="symbol"?e:e+""}function ybe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xbe(t,e,n){var r=t.metadata,s=t.countries,a=t.defaultCountry,i=t.value,l=t.reset,c=t.international,u=t.displayInitialValueAsLocalNumber,d=t.initialValueFormat,f=e.defaultCountry,m=e.value,p=e.reset;n.country;var h=n.value,v=n.hasUserSelectedACountry,y=n.latestCountrySelectedByUser,x=function(A){return AX(z3(z3({},A),{},{international:c,useNationalFormat:u||d==="national",metadata:r}))};if(l!==p)return{phoneDigits:x({value:void 0,defaultCountry:a}),value:void 0,country:a,latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};if(a!==f){var b=!a||p5(a,r),_=!h||c&&h===x({value:void 0,defaultCountry:f}),w=!i&&_;if(!v&&b&&w)return{country:a,phoneDigits:x({value:void 0,defaultCountry:a}),value:void 0}}if(!zI(i,m)&&!zI(i,h)){var S,k;if(i){i&&wX(i),S=jX(i,r);var M=SX(s,r);S&&S.country?(!M||M.indexOf(S.country)>=0)&&(k=S.country):(k=TX(i,{country:void 0,countries:M,metadata:r}),k||a&&i.indexOf(Pi(a,r))===0&&(k=a))}var E;if(i){if(y){var T=k?y===k:ud(i,y,r);T?k||(k=y):E={latestCountrySelectedByUser:void 0}}}else E={latestCountrySelectedByUser:void 0,hasUserSelectedACountry:void 0};return z3(z3({},E),{},{phoneDigits:x({phoneNumber:S,value:i,defaultCountry:a}),value:i,country:i?k:a})}}function zI(t,e){return t===null&&(t=void 0),e===null&&(e=void 0),t===e}var bbe=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","containerComponentProps","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function GI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function PX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(n),!0).forEach(function(r){Ea(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}function Cbe(t,e){if(t==null)return{};var n=_be(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _be(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function wbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LX(r.key),r)}}function Sbe(t,e,n){return e&&WI(t.prototype,e),n&&WI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kbe(t,e,n){return e=Yg(e),Mbe(t,IX()?Reflect.construct(e,n||[],Yg(t).constructor):e.apply(t,n))}function Mbe(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ebe(t)}function Ebe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(IX=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}function jbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Hw(t,e)}function Ea(t,e,n){return e=LX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LX(t){var e=Tbe(t,"string");return qd(e)=="symbol"?e:e+""}function Tbe(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nbe=function(t){function e(n){var r;wbe(this,e),r=kbe(this,e,[n]),Ea(r,"setInputRef",function(y){sbe([r.props.inputRef,r.inputRef],y)}),Ea(r,"isCountrySupportedWithError",function(y){var x=r.props.metadata;return p5(y,x)}),Ea(r,"onCountryChange",function(y){var x=r.props,b=x.international,_=x.metadata,w=x.onChange,S=x.focusInputOnCountrySelection,k=r.state,M=k.phoneDigits,E=k.country,T=cbe(M,{prevCountry:E,newCountry:y,metadata:_,useNationalFormat:!b}),j=z1(T,y,_);S&&r.inputRef.current.focus(),r.setState({country:y,latestCountrySelectedByUser:y,hasUserSelectedACountry:!0,phoneDigits:T,value:j},function(){w(j)})}),Ea(r,"onChange",function(y){var x=r.props,b=x.defaultCountry,_=x.onChange,w=x.addInternationalOption,S=x.international,k=x.limitMaxLength,M=x.countryCallingCodeEditable,E=x.metadata,T=r.state,j=T.countries,A=T.phoneDigits,I=T.country,L=T.latestCountrySelectedByUser,O=fbe(y,{prevPhoneDigits:A,country:I,countryRequired:!w,defaultCountry:b,latestCountrySelectedByUser:L,getAnyCountry:function(){return r.getFirstSupportedCountry({countries:j})},countries:j,international:S,limitMaxLength:k,countryCallingCodeEditable:M,metadata:E}),R=O.phoneDigits,H=O.country,V=O.value,z={phoneDigits:R,value:V,country:H};L&&V&&!ud(V,L,E)&&(z.latestCountrySelectedByUser=void 0),M===!1&&!V&&R===r.state.phoneDigits&&(z.forceRerender={}),r.setState(z,function(){return _(V)})}),Ea(r,"_onFocus",function(){return r.setState({isFocused:!0})}),Ea(r,"_onBlur",function(){return r.setState({isFocused:!1})}),Ea(r,"onFocus",function(y){r._onFocus();var x=r.props.onFocus;x&&x(y)}),Ea(r,"onBlur",function(y){var x=r.props.onBlur;r._onBlur(),x&&x(y)}),Ea(r,"onCountryFocus",function(y){r._onFocus();var x=r.props.countrySelectProps;if(x){var b=x.onFocus;b&&b(y)}}),Ea(r,"onCountryBlur",function(y){r._onBlur();var x=r.props.countrySelectProps;if(x){var b=x.onBlur;b&&b(y)}}),r.inputRef=be.createRef();var s=r.props,a=s.value;s.labels;var i=s.international,l=s.addInternationalOption,c=s.displayInitialValueAsLocalNumber,u=s.initialValueFormat,d=s.metadata,f=r.props,m=f.defaultCountry,p=f.countries;m&&(r.isCountrySupportedWithError(m)||(m=void 0)),a&&wX(a),p=SX(p,d);var h=jX(a,d);r.CountryIcon=kX(r.props);var v=obe({value:a,phoneNumber:h,defaultCountry:m,required:!l,countries:p||NI(d),getAnyCountry:function(){return r.getFirstSupportedCountry({countries:p})},metadata:d});return r.state={props:r.props,country:v,countries:p,phoneDigits:AX({value:a,phoneNumber:h,defaultCountry:m,international:i,useNationalFormat:c||u==="national",metadata:d}),value:a},r}return jbe(e,t),Sbe(e,[{key:"componentDidMount",value:function(){var r=this.props.onCountryChange,s=this.props.defaultCountry,a=this.state.country;r&&(s&&(this.isCountrySupportedWithError(s)||(s=void 0)),a!==s&&r(a))}},{key:"componentDidUpdate",value:function(r,s){var a=this.props.onCountryChange,i=this.state.country;a&&i!==s.country&&a(i)}},{key:"getCountrySelectOptions",value:function(r){var s=r.countries,a=this.props,i=a.international,l=a.countryCallingCodeEditable,c=a.countryOptionsOrder,u=a.addInternationalOption,d=a.labels,f=a.locales,m=a.metadata;return this.useMemoCountrySelectOptions(function(){return Qxe(ibe({countries:s||NI(m),countryNames:d,addInternationalOption:i&&l===!1?!1:u,compareStringsLocales:f}),Jxe(c,m))},[s,c,u,d,m])}},{key:"useMemoCountrySelectOptions",value:function(r,s){return(!this.countrySelectOptionsMemoDependencies||!Pbe(s,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=r(),this.countrySelectOptionsMemoDependencies=s),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(r){var s=r.countries,a=this.getCountrySelectOptions({countries:s});return a[0].value}},{key:"render",value:function(){var r=this.props,s=r.name,a=r.disabled,i=r.readOnly,l=r.autoComplete,c=r.style,u=r.className;r.inputRef;var d=r.inputComponent,f=r.numberInputProps,m=r.smartCaret,p=r.countrySelectComponent,h=r.countrySelectProps,v=r.containerComponent,y=r.containerComponentProps;r.defaultCountry,r.countries,r.countryOptionsOrder;var x=r.labels;r.flags,r.flagComponent,r.flagUrl,r.addInternationalOption,r.internationalIcon,r.displayInitialValueAsLocalNumber,r.initialValueFormat,r.onCountryChange,r.limitMaxLength,r.countryCallingCodeEditable,r.focusInputOnCountrySelection,r.reset;var b=r.metadata,_=r.international;r.locales;var w=Cbe(r,bbe),S=this.state,k=S.country,M=S.countries,E=S.phoneDigits,T=S.isFocused,j=m?Mxe:Axe,A=this.getCountrySelectOptions({countries:M});return be.createElement(v,dd({style:c,className:Gg(u,"PhoneInput",{"PhoneInput--focus":T,"PhoneInput--disabled":a,"PhoneInput--readOnly":i})},y),be.createElement(p,dd({name:s?"".concat(s,"Country"):void 0,"aria-label":x.country},h,{value:k,options:A,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:a||h&&h.disabled,readOnly:i||h&&h.readOnly,iconComponent:this.CountryIcon})),be.createElement(j,dd({ref:this.setInputRef,type:"tel",autoComplete:l},f,w,{inputFormat:_===!0?"INTERNATIONAL":_===!1?"NATIONAL":"INTERNATIONAL_OR_NATIONAL",international:_?!0:void 0,withCountryCallingCode:_?!0:void 0,name:s,metadata:b,country:k,value:E||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:a,readOnly:i,inputComponent:d,className:Gg("PhoneInputInput",f&&f.className,w.className)})))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return PX({props:r},xbe(r,s.props,s))}}])}(be.PureComponent),RX=be.forwardRef(function(t,e){return be.createElement(Nbe,dd({},Abe(t),{inputRef:e}))});RX.propTypes={value:Ce.string,onChange:Ce.func.isRequired,onFocus:Ce.func,onBlur:Ce.func,disabled:Ce.bool,readOnly:Ce.bool,autoComplete:Ce.string,initialValueFormat:Ce.oneOf(["national"]),displayInitialValueAsLocalNumber:Ce.bool,defaultCountry:Ce.string,countries:Ce.arrayOf(Ce.string),labels:EX,locales:Ce.oneOfType([Ce.string,Ce.arrayOf(Ce.string)]),flagUrl:Ce.string,flags:Ce.objectOf(Ce.elementType),flagComponent:Ce.elementType,addInternationalOption:Ce.bool,internationalIcon:Ce.elementType,countryOptionsOrder:Ce.arrayOf(Ce.string),style:Ce.object,className:Ce.string,countrySelectComponent:Ce.elementType,countrySelectProps:Ce.object,inputComponent:Ce.elementType,numberInputProps:Ce.object,containerComponent:Ce.elementType,containerComponentProps:Ce.object,smartCaret:Ce.bool,international:Ce.bool,limitMaxLength:Ce.bool,countryCallingCodeEditable:Ce.bool,metadata:MX,onCountryChange:Ce.func,focusInputOnCountrySelection:Ce.bool};var ZI={autoComplete:"tel",countrySelectComponent:xX,flagComponent:kE,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:m5,inputComponent:"input",containerComponent:"div",reset:Ce.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function Abe(t){t=PX({},t);for(var e in ZI)t[e]===void 0&&(t[e]=ZI[e]);return t}function Pbe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;){if(t[n]!==e[n])return!1;n++}return!0}const Ibe={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Ãland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint BarthÃ©lemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"CuraÃ§ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var Lbe=["metadata","labels"];function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function Rbe(t,e){if(t==null)return{};var n=Obe(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Obe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Dbe(t){var e=be.forwardRef(function(n,r){var s=n.metadata,a=s===void 0?t:s,i=n.labels,l=i===void 0?Ibe:i,c=Rbe(n,Lbe);return be.createElement(RX,Vw({},c,{ref:r,metadata:a,labels:l}))});return e.propTypes={metadata:MX,labels:EX},e}Dbe();function Qxt(t){let e;const n=r=>{r>0&&(t.focus(),document.activeElement!==t&&(e=requestAnimationFrame(()=>n(r-1))))};return n(10),()=>cancelAnimationFrame(e)}const ys=t=>g.createElement("svg",C({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.1338 5.94433C12.3919 5.77382 12.7434 5.80202 12.9707 6.02929C13.1979 6.25656 13.2261 6.60807 13.0556 6.8662L12.9707 6.9707L8.47067 11.4707C8.21097 11.7304 7.78896 11.7304 7.52926 11.4707L3.02926 6.9707L2.9443 6.8662C2.77379 6.60807 2.80199 6.25656 3.02926 6.02929C3.25653 5.80202 3.60804 5.77382 3.86617 5.94433L3.97067 6.02929L7.99996 10.0586L12.0293 6.02929L12.1338 5.94433Z"})),Jxt=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"}));function Qg(t,[e,n]){return Math.min(n,Math.max(e,t))}var Fbe=[" ","Enter","ArrowUp","ArrowDown"],Bbe=[" ","Enter"],F0="Select",[g5,h5,Ube]=iM(F0),[Lf]=Bu(F0,[Ube,C6]),v5=C6(),[Hbe,pc]=Lf(F0),[Vbe,$be]=Lf(F0),OX=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:h}=t,v=v5(e),[y,x]=g.useState(null),[b,_]=g.useState(null),[w,S]=g.useState(!1),k=_6(u),[M=!1,E]=Hi({prop:r,defaultProp:s,onChange:a}),[T,j]=Hi({prop:i,defaultProp:l,onChange:c}),A=g.useRef(null),I=y?h||!!y.closest("form"):!0,[L,O]=g.useState(new Set),R=Array.from(L).map(H=>H.props.value).join(";");return o.jsx(WK,P(C({},v),{children:o.jsxs(Hbe,{required:p,scope:e,trigger:y,onTriggerChange:x,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:w6(),value:T,onValueChange:j,open:M,onOpenChange:E,dir:k,triggerPointerDownPosRef:A,disabled:m,children:[o.jsx(g5.Provider,{scope:e,children:o.jsx(Vbe,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(H=>{O(V=>new Set(V).add(H))},[]),onNativeOptionRemove:g.useCallback(H=>{O(V=>{const z=new Set(V);return z.delete(H),z})},[]),children:n})}),I?o.jsxs(oee,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:H=>j(H.target.value),disabled:m,form:h,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},R):null]})}))};OX.displayName=F0;var DX="SelectTrigger",FX=g.forwardRef((t,e)=>{const v=t,{__scopeSelect:n,disabled:r=!1}=v,s=de(v,["__scopeSelect","disabled"]),a=v5(n),i=pc(DX,n),l=i.disabled||r,c=Fn(e,i.onTriggerChange),u=h5(n),d=g.useRef("touch"),[f,m,p]=iee(y=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===i.value),_=lee(x,y,b);_!==void 0&&i.onValueChange(_.value)}),h=y=>{l||(i.onOpenChange(!0),p()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(dM,P(C({asChild:!0},a),{children:o.jsx(mn.button,P(C({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":aee(i.value)?"":void 0},s),{ref:c,onClick:Nt(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&h(y)}),onPointerDown:Nt(s.onPointerDown,y=>{d.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(h(y),y.preventDefault())}),onKeyDown:Nt(s.onKeyDown,y=>{const x=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(x&&y.key===" ")&&Fbe.includes(y.key)&&(h(),y.preventDefault())})}))}))});FX.displayName=DX;var BX="SelectValue",UX=g.forwardRef((t,e)=>{const m=t,{__scopeSelect:n,className:r,style:s,children:a,placeholder:i=""}=m,l=de(m,["__scopeSelect","className","style","children","placeholder"]),c=pc(BX,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Fn(e,c.onValueNodeChange);return Vi(()=>{u(d)},[u,d]),o.jsx(mn.span,P(C({},l),{ref:f,style:{pointerEvents:"none"},children:aee(c.value)?o.jsx(o.Fragment,{children:i}):a}))});UX.displayName=BX;var qbe="SelectIcon",HX=g.forwardRef((t,e)=>{const a=t,{__scopeSelect:n,children:r}=a,s=de(a,["__scopeSelect","children"]);return o.jsx(mn.span,P(C({"aria-hidden":!0},s),{ref:e,children:r||"â¼"}))});HX.displayName=qbe;var zbe="SelectPortal",VX=t=>o.jsx(lM,C({asChild:!0},t));VX.displayName=zbe;var Tu="SelectContent",$X=g.forwardRef((t,e)=>{const n=pc(Tu,t.__scopeSelect),[r,s]=g.useState();if(Vi(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Zl.createPortal(o.jsx(qX,{scope:t.__scopeSelect,children:o.jsx(g5.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),a):null}return o.jsx(zX,P(C({},t),{ref:e}))});$X.displayName=Tu;var Aa=10,[qX,gc]=Lf(Tu),Gbe="SelectContentImpl",zX=g.forwardRef((t,e)=>{const me=t,{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:h,hideWhenDetached:v,avoidCollisions:y}=me,x=de(me,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),b=pc(Tu,n),[_,w]=g.useState(null),[S,k]=g.useState(null),M=Fn(e,W=>w(W)),[E,T]=g.useState(null),[j,A]=g.useState(null),I=h5(n),[L,O]=g.useState(!1),R=g.useRef(!1);g.useEffect(()=>{if(_)return ZK(_)},[_]),KK();const H=g.useCallback(W=>{const[K,...ne]=I().map(fe=>fe.ref.current),[re]=ne.slice(-1),le=document.activeElement;for(const fe of W)if(fe===le||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===K&&S&&(S.scrollTop=0),fe===re&&S&&(S.scrollTop=S.scrollHeight),fe==null||fe.focus(),document.activeElement!==le))return},[I,S]),V=g.useCallback(()=>H([E,_]),[H,E,_]);g.useEffect(()=>{L&&V()},[L,V]);const{onOpenChange:z,triggerPointerDownPosRef:$}=b;g.useEffect(()=>{if(_){let W={x:0,y:0};const K=re=>{var le,fe,ge,ye;W={x:Math.abs(Math.round(re.pageX)-((fe=(le=$.current)==null?void 0:le.x)!=null?fe:0)),y:Math.abs(Math.round(re.pageY)-((ye=(ge=$.current)==null?void 0:ge.y)!=null?ye:0))}},ne=re=>{W.x<=10&&W.y<=10?re.preventDefault():_.contains(re.target)||z(!1),document.removeEventListener("pointermove",K),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",ne,{capture:!0})}}},[_,z,$]),g.useEffect(()=>{const W=()=>z(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[z]);const[D,Y]=iee(W=>{const K=I().filter(le=>!le.disabled),ne=K.find(le=>le.ref.current===document.activeElement),re=lee(K,W,ne);re&&setTimeout(()=>re.ref.current.focus())}),G=g.useCallback((W,K,ne)=>{const re=!R.current&&!ne;(b.value!==void 0&&b.value===K||re)&&(T(W),re&&(R.current=!0))},[b.value]),F=g.useCallback(()=>_==null?void 0:_.focus(),[_]),X=g.useCallback((W,K,ne)=>{const re=!R.current&&!ne;(b.value!==void 0&&b.value===K||re)&&A(W)},[b.value]),te=r==="popper"?$w:GX,ae=te===$w?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:h,hideWhenDetached:v,avoidCollisions:y}:{};return o.jsx(qX,{scope:n,content:_,viewport:S,onViewportChange:k,itemRefCallback:G,selectedItem:E,onItemLeave:F,itemTextRefCallback:X,focusSelectedItem:V,selectedItemText:j,position:r,isPositioned:L,searchRef:D,children:o.jsx(YK,{as:QK,allowPinchZoom:!0,children:o.jsx(JK,{asChild:!0,trapped:b.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Nt(s,W=>{var K;(K=b.trigger)==null||K.focus({preventScroll:!0}),W.preventDefault()}),children:o.jsx(XK,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(te,P(C(C({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:W=>W.preventDefault()},x),ae),{onPlaced:()=>O(!0),ref:M,style:C({display:"flex",flexDirection:"column",outline:"none"},x.style),onKeyDown:Nt(x.onKeyDown,W=>{const K=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!K&&W.key.length===1&&Y(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let re=I().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(W.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const le=W.target,fe=re.indexOf(le);re=re.slice(fe+1)}setTimeout(()=>H(re)),W.preventDefault()}})}))})})})})});zX.displayName=Gbe;var Wbe="SelectItemAlignedPosition",GX=g.forwardRef((t,e)=>{const M=t,{__scopeSelect:n,onPlaced:r}=M,s=de(M,["__scopeSelect","onPlaced"]),a=pc(Tu,n),i=gc(Tu,n),[l,c]=g.useState(null),[u,d]=g.useState(null),f=Fn(e,E=>d(E)),m=h5(n),p=g.useRef(!1),h=g.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:x,focusSelectedItem:b}=i,_=g.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&x){const E=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(a.dir!=="rtl"){const le=A.left-T.left,fe=j.left-le,ge=E.left-fe,ye=E.width+ge,_e=Math.max(ye,T.width),Ne=window.innerWidth-Aa,Ae=Qg(fe,[Aa,Math.max(Aa,Ne-_e)]);l.style.minWidth=ye+"px",l.style.left=Ae+"px"}else{const le=T.right-A.right,fe=window.innerWidth-j.right-le,ge=window.innerWidth-E.right-fe,ye=E.width+ge,_e=Math.max(ye,T.width),Ne=window.innerWidth-Aa,Ae=Qg(fe,[Aa,Math.max(Aa,Ne-_e)]);l.style.minWidth=ye+"px",l.style.right=Ae+"px"}const I=m(),L=window.innerHeight-Aa*2,O=v.scrollHeight,R=window.getComputedStyle(u),H=parseInt(R.borderTopWidth,10),V=parseInt(R.paddingTop,10),z=parseInt(R.borderBottomWidth,10),$=parseInt(R.paddingBottom,10),D=H+V+O+$+z,Y=Math.min(y.offsetHeight*5,D),G=window.getComputedStyle(v),F=parseInt(G.paddingTop,10),X=parseInt(G.paddingBottom,10),te=E.top+E.height/2-Aa,ae=L-te,me=y.offsetHeight/2,W=y.offsetTop+me,K=H+V+W,ne=D-K;if(K<=te){const le=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-v.offsetTop-v.offsetHeight,ge=Math.max(ae,me+(le?X:0)+fe+z),ye=K+ge;l.style.height=ye+"px"}else{const le=I.length>0&&y===I[0].ref.current;l.style.top="0px";const ge=Math.max(te,H+v.offsetTop+(le?F:0)+me)+ne;l.style.height=ge+"px",v.scrollTop=K-te+v.offsetTop}l.style.margin="".concat(Aa,"px 0"),l.style.minHeight=Y+"px",l.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,v,y,x,a.dir,r]);Vi(()=>_(),[_]);const[w,S]=g.useState();Vi(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=g.useCallback(E=>{E&&h.current===!0&&(_(),b==null||b(),h.current=!1)},[_,b]);return o.jsx(Kbe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:o.jsx(mn.div,P(C({},s),{ref:f,style:C({boxSizing:"border-box",maxHeight:"100%"},s.style)}))})})});GX.displayName=Wbe;var Zbe="SelectPopperPosition",$w=g.forwardRef((t,e)=>{const l=t,{__scopeSelect:n,align:r="start",collisionPadding:s=Aa}=l,a=de(l,["__scopeSelect","align","collisionPadding"]),i=v5(n);return o.jsx(eY,P(C(C({},i),a),{ref:e,align:r,collisionPadding:s,style:P(C({boxSizing:"border-box"},a.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});$w.displayName=Zbe;var[Kbe,EE]=Lf(Tu,{}),qw="SelectViewport",WX=g.forwardRef((t,e)=>{const u=t,{__scopeSelect:n,nonce:r}=u,s=de(u,["__scopeSelect","nonce"]),a=gc(qw,n),i=EE(qw,n),l=Fn(e,a.onViewportChange),c=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(g5.Slot,{scope:n,children:o.jsx(mn.div,P(C({"data-radix-select-viewport":"",role:"presentation"},s),{ref:l,style:C({position:"relative",flex:1,overflow:"hidden auto"},s.style),onScroll:Nt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&m){const h=Math.abs(c.current-f.scrollTop);if(h>0){const v=window.innerHeight-Aa*2,y=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),b=Math.max(y,x);if(b<v){const _=b+h,w=Math.min(v,_),S=_-w;m.style.height=w+"px",m.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}c.current=f.scrollTop})}))})]})});WX.displayName=qw;var ZX="SelectGroup",[Ybe,Qbe]=Lf(ZX),KX=g.forwardRef((t,e)=>{const a=t,{__scopeSelect:n}=a,r=de(a,["__scopeSelect"]),s=w6();return o.jsx(Ybe,{scope:n,id:s,children:o.jsx(mn.div,P(C({role:"group","aria-labelledby":s},r),{ref:e}))})});KX.displayName=ZX;var YX="SelectLabel",QX=g.forwardRef((t,e)=>{const a=t,{__scopeSelect:n}=a,r=de(a,["__scopeSelect"]),s=Qbe(YX,n);return o.jsx(mn.div,P(C({id:s.id},r),{ref:e}))});QX.displayName=YX;var Jg="SelectItem",[Jbe,JX]=Lf(Jg),XX=g.forwardRef((t,e)=>{const b=t,{__scopeSelect:n,value:r,disabled:s=!1,textValue:a}=b,i=de(b,["__scopeSelect","value","disabled","textValue"]),l=pc(Jg,n),c=gc(Jg,n),u=l.value===r,[d,f]=g.useState(a!=null?a:""),[m,p]=g.useState(!1),h=Fn(e,_=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,_,r,s)}),v=w6(),y=g.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Jbe,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:g.useCallback(_=>{f(w=>{var S;return w||((S=_==null?void 0:_.textContent)!=null?S:"").trim()})},[]),children:o.jsx(g5.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(mn.div,P(C({role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},i),{ref:h,onFocus:Nt(i.onFocus,()=>p(!0)),onBlur:Nt(i.onBlur,()=>p(!1)),onClick:Nt(i.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:Nt(i.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:Nt(i.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:Nt(i.onPointerMove,_=>{var w;y.current=_.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nt(i.onPointerLeave,_=>{var w;_.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Nt(i.onKeyDown,_=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&_.key===" "||(Bbe.includes(_.key)&&x(),_.key===" "&&_.preventDefault())})}))})})});XX.displayName=Jg;var zm="SelectItemText",eee=g.forwardRef((t,e)=>{const x=t,{__scopeSelect:n,className:r,style:s}=x,a=de(x,["__scopeSelect","className","style"]),i=pc(zm,n),l=gc(zm,n),c=JX(zm,n),u=$be(zm,n),[d,f]=g.useState(null),m=Fn(e,b=>f(b),c.onItemTextChange,b=>{var _;return(_=l.itemTextRefCallback)==null?void 0:_.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,h=g.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Vi(()=>(v(h),()=>y(h)),[v,y,h]),o.jsxs(o.Fragment,{children:[o.jsx(mn.span,P(C({id:c.textId},a),{ref:m})),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Zl.createPortal(a.children,i.valueNode):null]})});eee.displayName=zm;var tee="SelectItemIndicator",nee=g.forwardRef((t,e)=>{const a=t,{__scopeSelect:n}=a,r=de(a,["__scopeSelect"]);return JX(tee,n).isSelected?o.jsx(mn.span,P(C({"aria-hidden":!0},r),{ref:e})):null});nee.displayName=tee;var zw="SelectScrollUpButton",Xbe=g.forwardRef((t,e)=>{const n=gc(zw,t.__scopeSelect),r=EE(zw,t.__scopeSelect),[s,a]=g.useState(!1),i=Fn(e,r.onScrollButtonChange);return Vi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(ree,P(C({},t),{ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null});Xbe.displayName=zw;var Gw="SelectScrollDownButton",eCe=g.forwardRef((t,e)=>{const n=gc(Gw,t.__scopeSelect),r=EE(Gw,t.__scopeSelect),[s,a]=g.useState(!1),i=Fn(e,r.onScrollButtonChange);return Vi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(ree,P(C({},t),{ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null});eCe.displayName=Gw;var ree=g.forwardRef((t,e)=>{const u=t,{__scopeSelect:n,onAutoScroll:r}=u,s=de(u,["__scopeSelect","onAutoScroll"]),a=gc("SelectScrollButton",n),i=g.useRef(null),l=h5(n),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Vi(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),o.jsx(mn.div,P(C({"aria-hidden":!0},s),{ref:e,style:C({flexShrink:0},s.style),onPointerDown:Nt(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Nt(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Nt(s.onPointerLeave,()=>{c()})}))}),tCe="SelectSeparator",see=g.forwardRef((t,e)=>{const s=t,{__scopeSelect:n}=s,r=de(s,["__scopeSelect"]);return o.jsx(mn.div,P(C({"aria-hidden":!0},r),{ref:e}))});see.displayName=tCe;var Ww="SelectArrow",nCe=g.forwardRef((t,e)=>{const l=t,{__scopeSelect:n}=l,r=de(l,["__scopeSelect"]),s=v5(n),a=pc(Ww,n),i=gc(Ww,n);return a.open&&i.position==="popper"?o.jsx(tY,P(C(C({},s),r),{ref:e})):null});nCe.displayName=Ww;function aee(t){return t===""||t===void 0}var oee=g.forwardRef((t,e)=>{const l=t,{value:n}=l,r=de(l,["value"]),s=g.useRef(null),a=Fn(e,s),i=cM(n);return g.useEffect(()=>{const c=s.current,u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(i!==n&&f){const m=new Event("change",{bubbles:!0});f.call(c,n),c.dispatchEvent(m)}},[i,n]),o.jsx(uM,{asChild:!0,children:o.jsx("select",P(C({},r),{ref:a,defaultValue:n}))})});oee.displayName="BubbleSelect";function iee(t){const e=kp(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const l=n.current+i;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function lee(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let i=rCe(t,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function rCe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sCe=OX,aCe=FX,oCe=UX,iCe=HX,lCe=VX,cCe=$X,cee=WX,uCe=KX,dCe=QX,fCe=XX,mCe=eee,pCe=nee,gCe=see;function hCe(a,s){var i=a,{children:t,iconClassName:e,className:n}=i,r=de(i,["children","iconClassName","className"]);return o.jsxs(fCe,P(C({ref:s,className:U("__menu-item flex justify-between",n)},r),{children:[o.jsx(mCe,{children:t}),o.jsx(pCe,{className:"trailing",children:o.jsx(S6,{className:e!=null?e:"icon-sm"})})]}))}function vCe(t){return o.jsx(L0e,C({$as:aCe},t))}function yCe(r){var s=r,{children:t,className:e}=s,n=de(s,["children","className"]);return o.jsx(nY,P(C({$as:cCe,side:"bottom",sideOffset:4,alignOffset:-4,position:"popper",className:U("max-h-[60vh] min-w-[220px] overflow-auto",e)},n),{children:o.jsx(cee,{children:t})}))}function xCe(){return o.jsx(iCe,{children:o.jsx(ys,{className:"icon-sm"})})}function bCe({className:t}){return o.jsx(gCe,{className:U("bg-token-border-default mx-5 my-2 h-px",t)})}function CCe({children:t,className:e}){return o.jsx(dCe,{className:U("text-token-text-secondary mx-2 my-1 px-3 text-xs font-semibold",e),children:t})}function Xxt({options:t,value:e,onValueChange:n,disabled:r,defaultValue:s,placeholder:a,triggerClassName:i,contentClassName:l,triggerId:c}){return o.jsxs(Rc.Root,{value:e,onValueChange:n,disabled:r,defaultValue:s,children:[o.jsxs(Rc.Trigger,{className:i,id:c,children:[o.jsx(Rc.Value,{placeholder:a}),o.jsx(Rc.Icon,{})]}),o.jsx(Rc.Portal,{children:o.jsx(Rc.Content,{className:l,children:t.map(u=>o.jsx(Rc.Item,{value:u.value,children:u.label},u.value))})})]})}const Rc={Root:sCe,Trigger:vCe,Value:oCe,Icon:xCe,Portal:lCe,Content:yCe,Item:be.forwardRef(hCe),Separator:bCe,Label:CCe,Group:uCe,Viewport:cee};var _Ce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ya=_Ce.reduce((t,e)=>{const n=R0e("Primitive.".concat(e)),r=g.forwardRef((s,a)=>{const u=s,{asChild:i}=u,l=de(u,["asChild"]),c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,P(C({},l),{ref:a}))});return r.displayName="Primitive.".concat(e),P(C({},t),{[e]:r})},{});function wCe(t,e){t&&Zl.flushSync(()=>t.dispatchEvent(e))}var Oo=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function SCe(t,e){return g.useReducer((n,r)=>{const s=e[n][r];return s!=null?s:n},t)}var B0=t=>{const{present:e,children:n}=t,r=kCe(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),a=Bs(r.ref,MCe(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:a}):null};B0.displayName="Presence";function kCe(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),a=g.useRef("none"),i=t?"mounted":"unmounted",[l,c]=SCe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=G3(r.current);a.current=l==="mounted"?u:"none"},[l]),Oo(()=>{const u=r.current,d=s.current;if(d!==t){const m=a.current,p=G3(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Oo(()=>{var u;if(e){let d;const f=(u=e.ownerDocument.defaultView)!=null?u:window,m=h=>{const y=G3(r.current).includes(CSS.escape(h.animationName));if(h.target===e&&y&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=h=>{h.target===e&&(a.current=G3(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function G3(t){return(t==null?void 0:t.animationName)||"none"}function MCe(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jE(t,e=[]){let n=[];function r(a,i){const l=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var b;const x=f,{scope:m,children:p}=x,h=de(x,["scope","children"]),v=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,y=g.useMemo(()=>h,Object.values(h));return o.jsx(v.Provider,{value:y,children:p})};u.displayName=a+"Provider";function d(f,m){var v;const p=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,h=g.useContext(p);if(h)return h;if(i!==void 0)return i;throw new Error("`".concat(f,"` must be used within `").concat(a,"`"))}return[u,d]}const s=()=>{const a=n.map(i=>g.createContext(i));return function(l){const c=(l==null?void 0:l[t])||a;return g.useMemo(()=>({["__scope".concat(t)]:P(C({},l),{[t]:c})}),[l,c])}};return s.scopeName=t,[r,ECe(s,...e)]}function ECe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)["__scope".concat(u)];return C(C({},l),f)},{});return g.useMemo(()=>({["__scope".concat(e.scopeName)]:i}),[i])}};return n.scopeName=e.scopeName,n}function Oa(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var jCe=g.createContext(void 0);function TCe(t){const e=g.useContext(jCe);return t||e||"ltr"}function NCe(t,[e,n]){return Math.min(n,Math.max(e,t))}function uu(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ACe(t,e){return g.useReducer((n,r)=>{const s=e[n][r];return s!=null?s:n},t)}var TE="ScrollArea",[uee]=jE(TE),[PCe,xa]=uee(TE),dee=g.forwardRef((t,e)=>{const A=t,{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600}=A,i=de(A,["__scopeScrollArea","type","dir","scrollHideDelay"]),[l,c]=g.useState(null),[u,d]=g.useState(null),[f,m]=g.useState(null),[p,h]=g.useState(null),[v,y]=g.useState(null),[x,b]=g.useState(0),[_,w]=g.useState(0),[S,k]=g.useState(!1),[M,E]=g.useState(!1),T=Bs(e,I=>c(I)),j=TCe(s);return o.jsx(PCe,{scope:n,type:r,dir:j,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:h,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:M,onScrollbarYEnabledChange:E,onCornerWidthChange:b,onCornerHeightChange:w,children:o.jsx(ya.div,P(C({dir:j},i),{ref:T,style:C({position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px"},t.style)}))})});dee.displayName=TE;var fee="ScrollAreaViewport",mee=g.forwardRef((t,e)=>{const u=t,{__scopeScrollArea:n,children:r,nonce:s}=u,a=de(u,["__scopeScrollArea","children","nonce"]),i=xa(fee,n),l=g.useRef(null),c=Bs(e,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(ya.div,P(C({"data-radix-scroll-area-viewport":""},a),{ref:c,style:C({overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden"},t.style),children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})}))]})});mee.displayName=fee;var Ko="ScrollAreaScrollbar",pee=g.forwardRef((t,e)=>{const c=t,{forceMount:n}=c,r=de(c,["forceMount"]),s=xa(Ko,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=t.orientation==="horizontal";return g.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(ICe,P(C({},r),{ref:e,forceMount:n})):s.type==="scroll"?o.jsx(LCe,P(C({},r),{ref:e,forceMount:n})):s.type==="auto"?o.jsx(gee,P(C({},r),{ref:e,forceMount:n})):s.type==="always"?o.jsx(NE,P(C({},r),{ref:e})):null});pee.displayName=Ko;var ICe=g.forwardRef((t,e)=>{const l=t,{forceMount:n}=l,r=de(l,["forceMount"]),s=xa(Ko,t.__scopeScrollArea),[a,i]=g.useState(!1);return g.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const d=()=>{window.clearTimeout(u),i(!0)},f=()=>{u=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(B0,{present:n||a,children:o.jsx(gee,P(C({"data-state":a?"visible":"hidden"},r),{ref:e}))})}),LCe=g.forwardRef((t,e)=>{const u=t,{forceMount:n}=u,r=de(u,["forceMount"]),s=xa(Ko,t.__scopeScrollArea),a=t.orientation==="horizontal",i=x5(()=>c("SCROLL_END"),100),[l,c]=ACe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),g.useEffect(()=>{const d=s.viewport,f=a?"scrollLeft":"scrollTop";if(d){let m=d[f];const p=()=>{const h=d[f];m!==h&&(c("SCROLL"),i()),m=h};return d.addEventListener("scroll",p),()=>d.removeEventListener("scroll",p)}},[s.viewport,a,c,i]),o.jsx(B0,{present:n||l!=="hidden",children:o.jsx(NE,P(C({"data-state":l==="hidden"?"hidden":"visible"},r),{ref:e,onPointerEnter:uu(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:uu(t.onPointerLeave,()=>c("POINTER_LEAVE"))}))})}),gee=g.forwardRef((t,e)=>{const n=xa(Ko,t.__scopeScrollArea),u=t,{forceMount:r}=u,s=de(u,["forceMount"]),[a,i]=g.useState(!1),l=t.orientation==="horizontal",c=x5(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?d:f)}},10);return zd(n.viewport,c),zd(n.content,c),o.jsx(B0,{present:r||a,children:o.jsx(NE,P(C({"data-state":a?"visible":"hidden"},s),{ref:e}))})}),NE=g.forwardRef((t,e)=>{const m=t,{orientation:n="vertical"}=m,r=de(m,["orientation"]),s=xa(Ko,t.__scopeScrollArea),a=g.useRef(null),i=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=xee(l.viewport,l.content),d=P(C({},r),{sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p});function f(p,h){return HCe(p,i.current,l,h)}return n==="horizontal"?o.jsx(RCe,P(C({},d),{ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,h=KI(p,l,s.dir);a.current.style.transform="translate3d(".concat(h,"px, 0, 0)")}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=f(p,s.dir))}})):n==="vertical"?o.jsx(OCe,P(C({},d),{ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,h=KI(p,l);a.current.style.transform="translate3d(0, ".concat(h,"px, 0)")}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=f(p))}})):null}),RCe=g.forwardRef((t,e)=>{const d=t,{sizes:n,onSizesChange:r}=d,s=de(d,["sizes","onSizesChange"]),a=xa(Ko,t.__scopeScrollArea),[i,l]=g.useState(),c=g.useRef(null),u=Bs(e,c,a.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(vee,P(C({"data-orientation":"horizontal"},s),{ref:u,sizes:n,style:C({bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":y5(n)+"px"},t.style),onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const p=a.viewport.scrollLeft+f.deltaX;t.onWheelScroll(p),Cee(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:eh(i.paddingLeft),paddingEnd:eh(i.paddingRight)}})}}))}),OCe=g.forwardRef((t,e)=>{const d=t,{sizes:n,onSizesChange:r}=d,s=de(d,["sizes","onSizesChange"]),a=xa(Ko,t.__scopeScrollArea),[i,l]=g.useState(),c=g.useRef(null),u=Bs(e,c,a.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(vee,P(C({"data-orientation":"vertical"},s),{ref:u,sizes:n,style:C({top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":y5(n)+"px"},t.style),onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const p=a.viewport.scrollTop+f.deltaY;t.onWheelScroll(p),Cee(p,m)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:eh(i.paddingTop),paddingEnd:eh(i.paddingBottom)}})}}))}),[DCe,hee]=uee(Ko),vee=g.forwardRef((t,e)=>{const T=t,{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f}=T,m=de(T,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),p=xa(Ko,n),[h,v]=g.useState(null),y=Bs(e,j=>v(j)),x=g.useRef(null),b=g.useRef(""),_=p.viewport,w=r.content-r.viewport,S=Oa(d),k=Oa(c),M=x5(f,10);function E(j){if(x.current){const A=j.clientX-x.current.left,I=j.clientY-x.current.top;u({x:A,y:I})}}return g.useEffect(()=>{const j=A=>{const I=A.target;(h==null?void 0:h.contains(I))&&S(A,w)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[_,h,w,S]),g.useEffect(k,[r,k]),zd(h,M),zd(p.content,M),o.jsx(DCe,{scope:n,scrollbar:h,hasThumb:s,onThumbChange:Oa(a),onThumbPointerUp:Oa(i),onThumbPositionChange:k,onThumbPointerDown:Oa(l),children:o.jsx(ya.div,P(C({},m),{ref:y,style:C({position:"absolute"},m.style),onPointerDown:uu(t.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),x.current=h.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(j))}),onPointerMove:uu(t.onPointerMove,E),onPointerUp:uu(t.onPointerUp,j=>{const A=j.target;A.hasPointerCapture(j.pointerId)&&A.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})}))})}),Xg="ScrollAreaThumb",yee=g.forwardRef((t,e)=>{const a=t,{forceMount:n}=a,r=de(a,["forceMount"]),s=hee(Xg,t.__scopeScrollArea);return o.jsx(B0,{present:n||s.hasThumb,children:o.jsx(FCe,C({ref:e},r))})}),FCe=g.forwardRef((t,e)=>{const f=t,{__scopeScrollArea:n,style:r}=f,s=de(f,["__scopeScrollArea","style"]),a=xa(Xg,n),i=hee(Xg,n),{onThumbPositionChange:l}=i,c=Bs(e,m=>i.onThumbChange(m)),u=g.useRef(void 0),d=x5(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const m=a.viewport;if(m){const p=()=>{if(d(),!u.current){const h=VCe(m,l);u.current=h,l()}};return l(),m.addEventListener("scroll",p),()=>m.removeEventListener("scroll",p)}},[a.viewport,d,l]),o.jsx(ya.div,P(C({"data-state":i.hasThumb?"visible":"hidden"},s),{ref:c,style:C({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},r),onPointerDownCapture:uu(t.onPointerDownCapture,m=>{const h=m.target.getBoundingClientRect(),v=m.clientX-h.left,y=m.clientY-h.top;i.onThumbPointerDown({x:v,y})}),onPointerUp:uu(t.onPointerUp,i.onThumbPointerUp)}))});yee.displayName=Xg;var AE="ScrollAreaCorner",BCe=g.forwardRef((t,e)=>{const n=xa(AE,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(UCe,P(C({},t),{ref:e})):null});BCe.displayName=AE;var UCe=g.forwardRef((t,e)=>{const d=t,{__scopeScrollArea:n}=d,r=de(d,["__scopeScrollArea"]),s=xa(AE,n),[a,i]=g.useState(0),[l,c]=g.useState(0),u=!!(a&&l);return zd(s.scrollbarX,()=>{var m;const f=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(f),c(f)}),zd(s.scrollbarY,()=>{var m;const f=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(f),i(f)}),u?o.jsx(ya.div,P(C({},r),{ref:e,style:C({width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0},t.style)})):null});function eh(t){return t?parseInt(t,10):0}function xee(t,e){const n=t/e;return isNaN(n)?0:n}function y5(t){const e=xee(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function HCe(t,e,n,r="ltr"){const s=y5(n),a=s/2,i=e||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return bee([c,u],f)(t)}function KI(t,e,n="ltr"){const r=y5(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,i=e.content-e.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=NCe(t,c);return bee([0,i],[0,l])(u)}function bee(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Cee(t,e){return t>0&&t<e}var VCe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&e(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function x5(t,e){const n=Oa(t),r=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),g.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function zd(t,e){const n=Oa(e);Oo(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}var ebt=dee,tbt=mee,nbt=pee,rbt=yee;const $Ce={layout:"stacked",showDialCodePrefix:!0,rounded:"full",densePadding:!1,triggerShowOnlyDialCode:!1,fullWidthJustifyDialCode:!0,placeholderTextSize:"base",dropdownPanelWidthPx:void 0},_ee=g.createContext($Ce);function sbt(){return g.useContext(_ee)}function abt({value:t,children:e}){return be.createElement(_ee.Provider,{value:t},e)}const m6=class m6 extends Yi()(()=>({usernameKindSwitching:!1})){constructor(){super(...arguments);Q(this,"enterUsernameKindSwitching",async()=>{this.setState({usernameKindSwitching:!0}),await new Promise(n=>setTimeout(n,50)),this.exitUsernameKindSwitching()});Q(this,"exitUsernameKindSwitching",xs(()=>{this.setState({usernameKindSwitching:!1})},800,{leading:!1,trailing:!0}))}};Q(m6,"useUsernameKindSwitching",()=>m6.useState(n=>n.usernameKindSwitching));let Zw=m6;function qCe(t,e){const[n,r]=kr(),s=Object.fromEntries(n);return[zK(s,t)?s:e,r,(u,d)=>{r(C(C({},Object.fromEntries(n)),u),d)}]}const zCe=b6(["email","phone_number"]),YI="email",GCe=O0e({usernameKind:zCe});function obt(t){"use forget";const e=ee.c(3),{allowPhone:n}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={usernameKind:YI},e[0]=r):r=e[0];const[s]=qCe(GCe,r),[a,i]=g.useState(n?s.usernameKind:YI);let l;return e[1]!==a?(l=[a,i],e[1]=a,e[2]=l):l=e[2],l}const PE=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.834 7.23859L11.3447 11.1146C10.589 11.648 9.59505 11.6818 8.80957 11.2152L8.65528 11.1146L3.16504 7.23859V12.7083C3.16504 13.3027 3.16575 13.7087 3.19141 14.0228C3.21641 14.3285 3.26164 14.4885 3.31934 14.6019L3.37403 14.6995C3.51031 14.9219 3.7058 15.1029 3.93946 15.222L4.03516 15.263C4.14235 15.3013 4.29005 15.3321 4.51953 15.3509C4.83346 15.3765 5.23908 15.3763 5.83301 15.3763H14.167C14.7609 15.3763 15.1665 15.3765 15.4805 15.3509C15.7867 15.3259 15.9471 15.2798 16.0605 15.222L16.1582 15.1673C16.3804 15.031 16.5617 14.8354 16.6807 14.6019L16.7217 14.5071C16.7601 14.4 16.7898 14.2524 16.8086 14.0228C16.8343 13.7087 16.835 13.3027 16.835 12.7083V7.29132C16.835 7.27358 16.834 7.256 16.834 7.23859ZM5.83301 4.62335C5.23905 4.62335 4.83347 4.6241 4.51953 4.64972C4.29013 4.66846 4.14234 4.69833 4.03516 4.73664L3.93946 4.77765C3.70588 4.89666 3.51031 5.07786 3.37403 5.30011L3.31934 5.39777C3.28521 5.46477 3.25631 5.54827 3.23242 5.66828C3.25487 5.6805 3.27841 5.69128 3.29981 5.70636L9.42188 10.0286L9.55762 10.1087C9.88283 10.2689 10.2752 10.2424 10.5781 10.0286L16.7002 5.70636L16.7666 5.66828C16.7529 5.59929 16.739 5.54205 16.7217 5.49347L16.6807 5.39777C16.5617 5.16419 16.3805 4.96862 16.1582 4.83234L16.0605 4.77765C15.9471 4.71987 15.7866 4.67474 15.4805 4.64972C15.1665 4.6241 14.761 4.62335 14.167 4.62335H5.83301ZM18.165 12.7083C18.165 13.2807 18.1659 13.7504 18.1348 14.1312C18.107 14.4711 18.0507 14.7847 17.9238 15.0804L17.8652 15.2064C17.6347 15.6587 17.284 16.0371 16.8535 16.3011L16.6641 16.4075C16.332 16.5766 15.9772 16.6444 15.5889 16.6761C15.2082 16.7072 14.7391 16.7064 14.167 16.7064H5.83301C5.26088 16.7064 4.79177 16.7072 4.41113 16.6761C4.0711 16.6483 3.75671 16.593 3.46094 16.4661L3.33594 16.4075C2.88327 16.1769 2.50431 15.8256 2.24024 15.3948L2.13477 15.2064C1.96555 14.8743 1.89699 14.5196 1.86524 14.1312C1.83413 13.7504 1.83496 13.2807 1.83496 12.7083V7.29132C1.83496 6.71921 1.83416 6.25008 1.86524 5.86945C1.89697 5.48099 1.96557 5.1264 2.13477 4.79425L2.24024 4.6048C2.50431 4.17416 2.88336 3.82368 3.33594 3.59308L3.46094 3.53449C3.75678 3.40752 4.07101 3.35134 4.41113 3.32355C4.79177 3.29247 5.2609 3.29328 5.83301 3.29328H14.167C14.7391 3.29328 15.2082 3.29247 15.5889 3.32355C15.9773 3.35529 16.3319 3.42388 16.6641 3.59308L16.8535 3.69855C17.2842 3.96262 17.6346 4.34167 17.8652 4.79425L17.9238 4.91925C18.0508 5.2151 18.107 5.52932 18.1348 5.86945C18.1658 6.25008 18.165 6.71921 18.165 7.29132V12.7083Z"})),ibt=Object.freeze(Object.defineProperty({__proto__:null,default:PE},Symbol.toStringTag,{value:"Module"})),wee=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 5.57143C2 3.59898 3.59898 2 5.57143 2H8.625C9.0287 2 9.39281 2.24274 9.54808 2.61538L11.4231 7.11538C11.5744 7.47863 11.4987 7.89686 11.2295 8.18394L9.82741 9.67954C10.9044 11.7563 12.2732 13.2047 14.3016 14.2842L15.7929 12.7929C16.0794 12.5064 16.5106 12.4211 16.8846 12.5769L21.3846 14.4519C21.7573 14.6072 22 14.9713 22 15.375V18.4286C22 20.401 20.401 22 18.4286 22C9.35532 22 2 14.6447 2 5.57143ZM5.57143 4C4.70355 4 4 4.70355 4 5.57143C4 13.5401 10.4599 20 18.4286 20C19.2964 20 20 19.2964 20 18.4286V16.0417L16.7336 14.6807L15.2071 16.2071C14.9098 16.5044 14.4582 16.584 14.0771 16.4062C11.0315 14.9849 9.12076 12.9271 7.71882 9.92289C7.54598 9.55251 7.61592 9.11423 7.89546 8.81606L9.32824 7.28777L7.95833 4H5.57143Z",fill:"currentColor"})),lbt=Object.freeze(Object.defineProperty({__proto__:null,default:wee},Symbol.toStringTag,{value:"Module"})),cbt=t=>{"use forget";const e=ee.c(18),{usernameKind:n,setUsernameKind:r,form:s,align:a,disabled:i}=t,l=a===void 0?"left":a,c=Zw.useStore();let u;e[0]!==s||e[1]!==c||e[2]!==r?(u=xs(async f=>{await c.enterUsernameKindSwitching(),r(f),await new Promise(WCe),s.reset()},50,{leading:!0,trailing:!1}),e[0]=s,e[1]=c,e[2]=r,e[3]=u):u=e[3];const d=u;switch(n){case"email":{let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=o.jsx(N,{id:"logIn.continueWithPhone",defaultMessage:"Continue with phone"}),e[4]=f):f=e[4];let m;e[5]!==d?(m=async()=>{ve.addAction("login-form.switch_to_phone"),await d("phone_number")},e[5]=d,e[6]=m):m=e[6];let p;return e[7]!==l||e[8]!==i||e[9]!==m?(p=o.jsx(QI,{size:17,text:f,icon:wee,onClick:m,align:l,disabled:i}),e[7]=l,e[8]=i,e[9]=m,e[10]=p):p=e[10],p}case"phone_number":{let f;e[11]===Symbol.for("react.memo_cache_sentinel")?(f=o.jsx(N,{id:"logIn.continueWithEmail",defaultMessage:"Continue with email"}),e[11]=f):f=e[11];let m;e[12]!==d?(m=async()=>{ve.addAction("login-form.switch_to_email"),await d("email")},e[12]=d,e[13]=m):m=e[13];let p;return e[14]!==l||e[15]!==i||e[16]!==m?(p=o.jsx(QI,{size:19,text:f,icon:PE,onClick:m,align:l,disabled:i}),e[14]=l,e[15]=i,e[16]=m,e[17]=p):p=e[17],p}}},QI=t=>{"use forget";const e=ee.c(8),{text:n,icon:r,onClick:s,size:a,disabled:i}=t;let l;e[0]!==r||e[1]!==a?(l=o.jsx("span",{className:"relative grid h-4 w-4 place-items-center",children:o.jsx("span",{className:"absolute",children:o.jsx(r,{width:a,height:a})})}),e[0]=r,e[1]=a,e[2]=l):l=e[2];let c;return e[3]!==i||e[4]!==s||e[5]!==l||e[6]!==n?(c=o.jsxs(oe,{as:"button",type:"button",onClick:s,className:"h-14 rounded-full text-base",contentWrapperClassName:"gap-2",color:"secondary",disabled:i,children:[l,n]}),e[3]=i,e[4]=s,e[5]=l,e[6]=n,e[7]=c):c=e[7],c};function WCe(t){return setTimeout(t,300)}function ubt(t,e){const n=Yn();or.setCookie(ir.AuthSessionLoggingId,n);const r=P(C({},D0e(rY())),{[B0e]:n});Dt(t,({onClose:s})=>o.jsx(F0e,{onClose:s,callbackUrl:window.location.href,authorizationParams:r,isUsernameOnTop:e}))}function ZCe(){const t=g.useRef(KCe()),e=q(),n=g.useCallback(()=>{t.current?B.logEventWithStatsig("No Auth Punch Out Sign In As Modal Shown","chatgpt_no_auth_punch_out_sign_in_as_modal_shown"):console.warn("PunchOutSignInAsModal is being mounted without punchOutRequireLoginInfo")},[]);return{onCancelButtonClick:()=>{B.logEventWithStatsig("No Auth Punch Out Sign In As Modal Cancel Button Clicked","chatgpt_no_auth_punch_out_sign_in_as_modal_cancel_button_clicked"),Kw()},onContinueButtonClick:({token:a})=>{B.logEventWithStatsig("No Auth Punch Out Sign In As Modal Continue Button Clicked","chatgpt_no_auth_punch_out_sign_in_as_modal_continue_button_clicked"),Kw(),dn(e,{fallbackScreenHint:"login",callback:i=>{B.logLogInButtonClicked({location:"No Auth Punch Out Sign In As Modal",provider:i})},callbackUrl:"/continue_from_api?token=".concat(a)})},onMount:n,punchOutRequireLoginInfo:t.current}}function KCe(){if(typeof window>"u")return null;const t=or.getCookie(ir.PunchOutRequireLoginInfo);if(!t)return null;try{const e=JSON.parse(t);return U0e(e,H0e),e}catch(e){Kw(),e instanceof V0e?console.warn("Invalid struct for punch out require login info",e):ve.addError("Failed to parse punch out require login info",{error:e})}return null}function Kw(){or.deleteCookie(ir.PunchOutRequireLoginInfo)}const dbt=({onClose:t})=>{const{onCancelButtonClick:e,onContinueButtonClick:n,onMount:r,punchOutRequireLoginInfo:s}=ZCe(),i=ha()?"medium":"large";if(g.useEffect(r,[r]),!s)return null;const{email:l}=s;return o.jsx(tt,{testId:"modal-punch-out-sign-in-as",isOpen:!0,noPadding:!0,onClose:_n,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:o.jsxs("div",{className:"flex flex-col p-6",children:[o.jsx("div",{className:"mb-6 text-center text-xl font-medium md:text-start",children:o.jsx(N,{id:"0e8g2r",defaultMessage:"Sign in as {email}?",values:{email:l}})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[o.jsx(oe,{color:"primary",size:i,onClick:()=>n(s),children:o.jsx(N,C({},tn.continueButtonText))}),o.jsx(oe,{color:"secondary",size:i,onClick:()=>{e(),t()},children:o.jsx(N,C({},tn.cancelButtonText))})]})]})})};var je=(t=>(t.Starter="starter",t.Reply="reply",t.Capabilities="capabilities",t.Autocomplete="autocomplete",t.Trending="trending",t))(je||{}),Ct=(t=>(t.Search="Search",t.Canvas="Canvas",t.Image="Image",t.ContextualAnswers="ContextualAnswers",t.ContextualAnswersNUX="ContextualAnswersNUX",t.ChatGPTTrending="ChatGPTTrending",t.ImageGenTrending="ImageGenTrending",t.Slurm="Slurm",t.Tatertot="Tatertot",t))(Ct||{});const rl=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M11.335 12.0829C11.3347 9.97236 9.44966 8.16498 7 8.16498C4.55034 8.16498 2.66527 9.97236 2.66504 12.0829C2.66504 12.8512 2.90887 13.5703 3.33691 14.1796C3.4302 14.3124 3.47218 14.4744 3.4541 14.6357C3.40535 15.0677 3.31415 15.4842 3.19922 15.8876C3.66136 15.8097 4.10651 15.6986 4.54297 15.5507L4.66699 15.5214C4.79159 15.5044 4.91938 15.5237 5.03516 15.5771C5.62294 15.848 6.2901 16.0019 7 16.0019C9.44981 16.0019 11.335 14.1937 11.335 12.0829ZM17.335 7.91302C17.3348 5.80241 15.4497 3.99506 13 3.99506C11.5595 3.99506 10.298 4.62919 9.51465 5.5849C9.28182 5.86885 8.86214 5.91044 8.57812 5.67767C8.29409 5.44487 8.25257 5.0252 8.48535 4.74115C9.52649 3.47088 11.1693 2.66498 13 2.66498C16.0729 2.66498 18.6648 4.96132 18.665 7.91302C18.665 8.87524 18.3824 9.77402 17.8984 10.5458C17.9867 11.1152 18.1604 11.6766 18.3848 12.2568C18.4665 12.468 18.4355 12.7068 18.3018 12.8896C18.1681 13.0722 17.9505 13.1738 17.7246 13.1601C16.8659 13.1075 16.0585 12.9616 15.2734 12.7177C15.1054 12.786 14.9347 12.8511 14.7588 12.9042C14.4073 13.0103 14.036 12.8113 13.9297 12.4599C13.8235 12.1084 14.0226 11.7371 14.374 11.6308C14.5782 11.5691 14.7758 11.4943 14.9648 11.4072L15.084 11.3652C15.2063 11.335 15.3361 11.3398 15.457 11.3808C15.8932 11.5286 16.338 11.6398 16.7998 11.7177C16.6849 11.3144 16.5946 10.8977 16.5459 10.4658C16.5278 10.3045 16.5698 10.1425 16.6631 10.0097C17.0911 9.40042 17.335 8.68125 17.335 7.91302ZM12.665 12.0829C12.665 15.0348 10.073 17.332 7 17.332C6.19184 17.332 5.42143 17.1731 4.72266 16.8886C4.04698 17.0982 3.35521 17.2365 2.62793 17.3036L2.27539 17.33C2.04946 17.3438 1.83192 17.2422 1.69824 17.0595C1.56452 16.8767 1.53354 16.638 1.61523 16.4267L1.79297 15.9374C1.93133 15.5278 2.03737 15.1237 2.10059 14.7158C1.61678 13.944 1.33496 13.045 1.33496 12.0829C1.33519 9.13127 3.92709 6.8349 7 6.8349C10.0729 6.8349 12.6648 9.13127 12.665 12.0829Z"})),fbt=Object.freeze(Object.defineProperty({__proto__:null,default:rl},Symbol.toStringTag,{value:"Module"})),hc=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M11.3312 3.56837C12.7488 2.28756 14.9376 2.33009 16.3038 3.6963L16.4318 3.83106C17.6712 5.20294 17.6712 7.29708 16.4318 8.66895L16.3038 8.80372L10.0118 15.0947C9.68833 15.4182 9.45378 15.6553 9.22179 15.8457L8.98742 16.0225C8.78227 16.1626 8.56423 16.2832 8.33703 16.3828L8.10753 16.4756C7.92576 16.5422 7.73836 16.5902 7.5216 16.6348L6.75695 16.7705L4.36339 17.169C4.22053 17.1928 4.06908 17.2188 3.94054 17.2285C3.84177 17.236 3.70827 17.2386 3.56261 17.2031L3.41417 17.1543C3.19115 17.0586 3.00741 16.8908 2.89171 16.6797L2.84581 16.5859C2.75951 16.3846 2.76168 16.1912 2.7716 16.0596C2.7813 15.931 2.80736 15.7796 2.83117 15.6367L3.2296 13.2432L3.36437 12.4785C3.40893 12.2616 3.45789 12.0745 3.52453 11.8926L3.6173 11.6621C3.71685 11.4352 3.83766 11.2176 3.97765 11.0127L4.15343 10.7783C4.34386 10.5462 4.58164 10.312 4.90538 9.98829L11.1964 3.6963L11.3312 3.56837ZM5.84581 10.9287C5.49664 11.2779 5.31252 11.4634 5.18663 11.6162L5.07531 11.7627C4.98188 11.8995 4.90151 12.0448 4.83507 12.1963L4.77355 12.3506C4.73321 12.4607 4.70242 12.5761 4.66808 12.7451L4.54113 13.4619L4.14269 15.8555L4.14171 15.8574H4.14464L6.5382 15.458L7.25499 15.332C7.424 15.2977 7.5394 15.2669 7.64953 15.2266L7.80285 15.165C7.95455 15.0986 8.09947 15.0174 8.23644 14.9238L8.3839 14.8135C8.53668 14.6876 8.72225 14.5035 9.0714 14.1543L14.0587 9.16602L10.8331 5.94044L5.84581 10.9287ZM15.3634 4.63673C14.5281 3.80141 13.2057 3.74938 12.3097 4.48048L12.1368 4.63673L11.7735 5.00001L15.0001 8.22559L15.3634 7.86329L15.5196 7.68946C16.2015 6.85326 16.2015 5.64676 15.5196 4.81056L15.3634 4.63673Z"})),YCe=Object.freeze(Object.defineProperty({__proto__:null,default:hc},Symbol.toStringTag,{value:"Module"})),Gd=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6.00122 14.1667C6.00122 13.6136 5.5533 13.1649 5.00024 13.1647C4.44704 13.1647 3.99829 13.6135 3.99829 14.1667C3.99829 14.7199 4.44704 15.1686 5.00024 15.1686C5.5533 15.1684 6.00122 14.7198 6.00122 14.1667ZM16.6663 13.5016L16.801 13.5153C17.1038 13.5775 17.3313 13.8454 17.3313 14.1667C17.3313 14.4879 17.1038 14.7559 16.801 14.818L16.6663 14.8317H10.8333C10.466 14.8317 10.1682 14.5339 10.1682 14.1667C10.1682 13.7994 10.466 13.5016 10.8333 13.5016H16.6663ZM6.64282 3.66861C6.87425 3.46353 7.22564 3.44166 7.48267 3.63443C7.73952 3.82718 7.81675 4.17036 7.68481 4.44986L7.61548 4.56607L5.11548 7.89908C5.00611 8.0449 4.84145 8.13965 4.6604 8.1608C4.47936 8.18193 4.29749 8.12709 4.15747 8.01041L2.90747 6.96939L2.81274 6.87271C2.62 6.63112 2.61698 6.2796 2.82251 6.03287C3.02827 5.78595 3.37519 5.72528 3.64771 5.87174L3.75903 5.94791L4.47095 6.54068L6.55103 3.76724L6.64282 3.66861ZM16.6663 5.16861L16.801 5.18228C17.1038 5.24448 17.3313 5.51246 17.3313 5.83365C17.3311 6.15474 17.1038 6.42289 16.801 6.48502L16.6663 6.49869H10.8333C10.4661 6.49869 10.1684 6.20077 10.1682 5.83365C10.1682 5.46638 10.466 5.16861 10.8333 5.16861H16.6663ZM7.3313 14.1667C7.3313 15.4543 6.28784 16.4985 5.00024 16.4987C3.7125 16.4987 2.66821 15.4544 2.66821 14.1667C2.66821 12.8789 3.7125 11.8346 5.00024 11.8346C6.28784 11.8348 7.3313 12.879 7.3313 14.1667Z"})),mbt=Object.freeze(Object.defineProperty({__proto__:null,default:Gd},Symbol.toStringTag,{value:"Module"})),U0=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M16.3965 5.01128C16.3963 4.93399 16.3489 4.87691 16.293 4.85406L16.2354 4.84332C13.9306 4.91764 12.5622 5.32101 10.665 6.34722V16.3716C11.3851 15.9994 12.0688 15.7115 12.7861 15.5015C13.8286 15.1965 14.9113 15.0633 16.2402 15.0435L16.2979 15.0308C16.353 15.0063 16.3965 14.9483 16.3965 14.8755V5.01128ZM3.54492 14.8765C3.54492 14.9725 3.62159 15.0422 3.70117 15.0435L4.19629 15.0562C5.94062 15.1247 7.26036 15.4201 8.65918 16.0484C8.05544 15.1706 7.14706 14.436 6.17871 14.1109V14.1099C5.56757 13.9045 5.16816 13.3314 5.16797 12.6988V4.98882C4.86679 4.93786 4.60268 4.8999 4.28223 4.87457L3.72754 4.84429C3.62093 4.84079 3.54505 4.92417 3.54492 5.01226V14.8765ZM17.7266 14.8755C17.7266 15.6314 17.1607 16.2751 16.4121 16.3628L16.2598 16.3736C15.0122 16.3922 14.0555 16.5159 13.1602 16.7779C12.2629 17.0404 11.3966 17.4508 10.3369 18.0738C10.129 18.1959 9.87099 18.1958 9.66309 18.0738C7.71455 16.9283 6.31974 16.4689 4.12988 16.3853L3.68164 16.3736C2.85966 16.3614 2.21484 15.6838 2.21484 14.8765V5.01226C2.21497 4.15391 2.93263 3.4871 3.77246 3.51519L4.39844 3.54937C4.67996 3.57191 4.92258 3.60421 5.16797 3.64214V2.51031C5.16797 1.44939 6.29018 0.645615 7.31055 1.15679L7.31152 1.15582C8.78675 1.89511 10.0656 3.33006 10.5352 4.91461C12.3595 3.98907 13.8688 3.58817 16.1924 3.51324L16.3506 3.51714C17.1285 3.5741 17.7264 4.23496 17.7266 5.01128V14.8755ZM6.49805 12.6988C6.49824 12.7723 6.5442 12.8296 6.60254 12.8492L6.96289 12.9859C7.85245 13.3586 8.68125 13.9846 9.33496 14.7496V5.5816C9.08794 4.37762 8.13648 3.1566 6.95801 2.47613L6.71582 2.34527C6.67779 2.32617 6.6337 2.32502 6.58301 2.35796C6.52946 2.39279 6.49805 2.44863 6.49805 2.51031V12.6988Z"})),pbt=Object.freeze(Object.defineProperty({__proto__:null,default:U0},Symbol.toStringTag,{value:"Module"})),Zr=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.4835 4.14551C15.6794 3.85999 16.069 3.78747 16.3545 3.9834C16.6401 4.17933 16.7126 4.56897 16.5167 4.85449L8.9688 15.8545C8.86289 16.0088 8.69334 16.1085 8.50689 16.125C8.32053 16.1415 8.13628 16.0737 8.00494 15.9404L3.55377 11.4219L4.00005 10.9824L4.44634 10.542L8.36431 14.5176L15.4835 4.14551ZM3.55962 10.5352C3.80622 10.2922 4.20328 10.2955 4.44634 10.542L3.55377 11.4219C3.31073 11.1752 3.31297 10.7782 3.55962 10.5352Z"})),gbt=Object.freeze(Object.defineProperty({__proto__:null,default:Zr},Symbol.toStringTag,{value:"Module"})),Vs=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10 2.125C14.3492 2.125 17.875 5.65076 17.875 10C17.875 14.3492 14.3492 17.875 10 17.875C5.65076 17.875 2.125 14.3492 2.125 10C2.125 5.65076 5.65076 2.125 10 2.125ZM7.88672 10.625C7.94334 12.3161 8.22547 13.8134 8.63965 14.9053C8.87263 15.5194 9.1351 15.9733 9.39453 16.2627C9.65437 16.5524 9.86039 16.625 10 16.625C10.1396 16.625 10.3456 16.5524 10.6055 16.2627C10.8649 15.9733 11.1274 15.5194 11.3604 14.9053C11.7745 13.8134 12.0567 12.3161 12.1133 10.625H7.88672ZM3.40527 10.625C3.65313 13.2734 5.45957 15.4667 7.89844 16.2822C7.7409 15.997 7.5977 15.6834 7.4707 15.3486C6.99415 14.0923 6.69362 12.439 6.63672 10.625H3.40527ZM13.3633 10.625C13.3064 12.439 13.0059 14.0923 12.5293 15.3486C12.4022 15.6836 12.2582 15.9969 12.1006 16.2822C14.5399 15.467 16.3468 13.2737 16.5947 10.625H13.3633ZM12.1006 3.7168C12.2584 4.00235 12.4021 4.31613 12.5293 4.65137C13.0059 5.90775 13.3064 7.56102 13.3633 9.375H16.5947C16.3468 6.72615 14.54 4.53199 12.1006 3.7168ZM10 3.375C9.86039 3.375 9.65437 3.44756 9.39453 3.7373C9.1351 4.02672 8.87263 4.48057 8.63965 5.09473C8.22547 6.18664 7.94334 7.68388 7.88672 9.375H12.1133C12.0567 7.68388 11.7745 6.18664 11.3604 5.09473C11.1274 4.48057 10.8649 4.02672 10.6055 3.7373C10.3456 3.44756 10.1396 3.375 10 3.375ZM7.89844 3.7168C5.45942 4.53222 3.65314 6.72647 3.40527 9.375H6.63672C6.69362 7.56102 6.99415 5.90775 7.4707 4.65137C7.59781 4.31629 7.74073 4.00224 7.89844 3.7168Z"})),QCe=Object.freeze(Object.defineProperty({__proto__:null,default:Vs},Symbol.toStringTag,{value:"Module"})),Do=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.38759 8.53403C10.0712 8.43795 10.7036 8.91485 10.7997 9.59849C10.8956 10.2819 10.4195 10.9133 9.73622 11.0096C9.05259 11.1057 8.4202 10.6298 8.32411 9.94614C8.22804 9.26258 8.70407 8.63022 9.38759 8.53403Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3886 5.58677C10.8476 5.5681 11.2608 5.5975 11.6581 5.74204L11.8895 5.83677C12.4185 6.07813 12.8721 6.46152 13.1991 6.94614L13.2831 7.07993C13.4673 7.39617 13.5758 7.74677 13.6571 8.14048C13.7484 8.58274 13.8154 9.13563 13.8993 9.81919L14.245 12.6317L14.3554 13.5624C14.3852 13.8423 14.4067 14.0936 14.4159 14.3192C14.4322 14.7209 14.4118 15.0879 14.3095 15.4393L14.2606 15.5887C14.0606 16.138 13.7126 16.6202 13.2577 16.9823L13.0565 17.1297C12.7061 17.366 12.312 17.4948 11.8622 17.5877C11.6411 17.6334 11.3919 17.673 11.1132 17.7118L10.1835 17.8299L7.37098 18.1756C6.68748 18.2596 6.13466 18.3282 5.68348 18.3465C5.28176 18.3628 4.9148 18.3424 4.56337 18.2401L4.41395 18.1913C3.86454 17.9912 3.38258 17.6432 3.0204 17.1883L2.87294 16.9872C2.63655 16.6367 2.50788 16.2427 2.41493 15.7928C2.36926 15.5717 2.32964 15.3226 2.29091 15.0438L2.17274 14.1141L1.82704 11.3016C1.74311 10.6181 1.67455 10.0653 1.65614 9.61411C1.63747 9.15518 1.66697 8.74175 1.81141 8.34458L1.90614 8.11313C2.14741 7.58441 2.53115 7.13051 3.01552 6.80356L3.1493 6.71958C3.46543 6.53545 3.8163 6.42688 4.20985 6.34556C4.65206 6.25423 5.20506 6.18729 5.88856 6.10337L8.70106 5.75767L9.63173 5.64731C9.91161 5.61744 10.163 5.59597 10.3886 5.58677ZM6.75673 13.0594C6.39143 12.978 6.00943 13.0106 5.66298 13.1522C5.5038 13.2173 5.32863 13.3345 5.06923 13.5829C4.80403 13.8368 4.49151 14.1871 4.04091 14.6932L3.64833 15.1327C3.67072 15.2763 3.69325 15.4061 3.71766 15.5243C3.79389 15.893 3.87637 16.0961 3.97548 16.243L4.06141 16.3602C4.27134 16.6237 4.5507 16.8253 4.86903 16.9413L5.00477 16.9813C5.1536 17.0148 5.34659 17.0289 5.6288 17.0174C6.01317 17.0018 6.50346 16.9419 7.20888 16.8553L10.0214 16.5106L10.9306 16.3944C11.0173 16.3824 11.0997 16.3693 11.1776 16.3573L8.61513 14.3065C8.08582 13.8831 7.71807 13.5905 7.41395 13.3846C7.19112 13.2338 7.02727 13.1469 6.88856 13.0975L6.75673 13.0594ZM10.4432 6.91587C10.2511 6.9237 10.0319 6.94288 9.77333 6.97056L8.86317 7.07798L6.05067 7.42271C5.34527 7.50932 4.85514 7.57047 4.47841 7.64829C4.20174 7.70549 4.01803 7.76626 3.88173 7.83481L3.75966 7.9061C3.47871 8.09575 3.25597 8.35913 3.1161 8.66587L3.06141 8.79966C3.00092 8.96619 2.96997 9.18338 2.98524 9.55942C3.00091 9.94382 3.06074 10.4341 3.14735 11.1395L3.42274 13.3895L3.64442 13.1434C3.82631 12.9454 3.99306 12.7715 4.1493 12.6219C4.46768 12.3171 4.78299 12.0748 5.16005 11.9208L5.38661 11.8377C5.92148 11.6655 6.49448 11.6387 7.04579 11.7616L7.19325 11.7987C7.53151 11.897 7.8399 12.067 8.15907 12.2831C8.51737 12.5256 8.9325 12.8582 9.4452 13.2684L12.5966 15.7889C12.7786 15.6032 12.9206 15.3806 13.0106 15.1336L13.0507 14.9979C13.0842 14.8491 13.0982 14.6561 13.0868 14.3739C13.079 14.1817 13.0598 13.9625 13.0321 13.704L12.9247 12.7938L12.58 9.9813C12.4933 9.27584 12.4322 8.78581 12.3544 8.40903C12.2972 8.13219 12.2364 7.94873 12.1679 7.81235L12.0966 7.69028C11.9069 7.40908 11.6437 7.18669 11.3368 7.04673L11.203 6.99204C11.0364 6.93147 10.8195 6.90059 10.4432 6.91587Z"}),g.createElement("path",{d:"M9.72841 1.5897C10.1797 1.60809 10.7322 1.67665 11.4159 1.7606L14.2284 2.1063L15.1581 2.22446C15.4371 2.26322 15.6859 2.3028 15.9071 2.34849C16.3571 2.44144 16.7509 2.57006 17.1015 2.80649L17.3026 2.95396C17.7576 3.31618 18.1055 3.79802 18.3056 4.34751L18.3544 4.49692C18.4567 4.84845 18.4772 5.21519 18.4608 5.61704C18.4516 5.84273 18.4292 6.09381 18.3993 6.37388L18.2899 7.30454L17.9442 10.117C17.8603 10.8007 17.7934 11.3535 17.702 11.7958C17.6207 12.1895 17.5122 12.5401 17.328 12.8563L17.244 12.9901C17.0958 13.2098 16.921 13.4086 16.7255 13.5829L16.6171 13.662C16.3496 13.8174 16.0009 13.769 15.787 13.5292C15.5427 13.255 15.5666 12.834 15.8407 12.5897L16.0018 12.4276C16.0519 12.3703 16.0986 12.3095 16.1415 12.2459L16.2128 12.1239C16.2813 11.9875 16.3421 11.8041 16.3993 11.5272C16.4771 11.1504 16.5383 10.6605 16.6249 9.95493L16.9696 7.14243L17.077 6.23228C17.1047 5.97357 17.1239 5.7546 17.1317 5.56235C17.1432 5.27997 17.1291 5.08722 17.0956 4.93833L17.0556 4.80259C16.9396 4.4842 16.7381 4.20493 16.4745 3.99497L16.3573 3.90903C16.2103 3.80991 16.0075 3.72745 15.6386 3.65122C15.4502 3.61231 15.2331 3.57756 14.9755 3.54185L14.0663 3.42563L11.2538 3.08091C10.5481 2.99426 10.0582 2.93444 9.67372 2.9188C9.39129 2.90732 9.19861 2.92142 9.0497 2.95493L8.91395 2.99497C8.59536 3.11093 8.31538 3.31224 8.10536 3.57603L8.0204 3.69321C7.95293 3.79324 7.89287 3.91951 7.83778 4.10532L7.787 4.23032C7.64153 4.50308 7.31955 4.64552 7.01161 4.55454C6.65948 4.45019 6.45804 4.07952 6.56239 3.72739L6.63075 3.52036C6.70469 3.31761 6.79738 3.12769 6.91786 2.94907L7.06532 2.7479C7.42756 2.29294 7.90937 1.94497 8.45888 1.74497L8.60829 1.69614C8.95981 1.59385 9.32655 1.57335 9.72841 1.5897Z"})),hbt=Object.freeze(Object.defineProperty({__proto__:null,default:Do},Symbol.toStringTag,{value:"Module"})),vc=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.33496 16.5V10.665H3.5C3.13273 10.665 2.83496 10.3673 2.83496 10C2.83496 9.63273 3.13273 9.33496 3.5 9.33496H9.33496V3.5C9.33496 3.13273 9.63273 2.83496 10 2.83496C10.3673 2.83496 10.665 3.13273 10.665 3.5V9.33496H16.5L16.6338 9.34863C16.9369 9.41057 17.165 9.67857 17.165 10C17.165 10.3214 16.9369 10.5894 16.6338 10.6514L16.5 10.665H10.665V16.5C10.665 16.8673 10.3673 17.165 10 17.165C9.63273 17.165 9.33496 16.8673 9.33496 16.5Z"})),vbt=Object.freeze(Object.defineProperty({__proto__:null,default:vc},Symbol.toStringTag,{value:"Module"})),yo=pe({searchPlaceholder:{id:"PromptTextarea.searchPlaceholder",defaultMessage:"Search the web"},internalSearchPlaceholder:{id:"PromptTextarea.internalSearchPlaceholder",defaultMessage:"Search internal apps"},thinkPlaceholder:{id:"PromptTextarea.thinkPlaceholder",defaultMessage:"Ask anything"},connectorPlaceholder:{id:"PromptTextarea.connectorPlaceholder",defaultMessage:"Search connected sources"},apiToolPlaceholder:{id:"PromptTextarea.apiToolPlaceholder",defaultMessage:"Use tools"},researchPlaceholder:{id:"PromptTextarea.researchPlaceholder",defaultMessage:"Get a detailed report"},canvasPlaceholder:{id:"PromptTextarea.canvasPlaceholder",defaultMessage:"Write or code"},picturePlaceholder:{id:"PromptTextarea.picturePlaceholder",defaultMessage:"Describe an image"},pictureV2Placeholder:{id:"PromptTextarea.pictureV2Placeholder",defaultMessage:"Describe an image"},tatertotPlaceholder:{id:"PromptTextarea.studyAndLearnPlaceholder",defaultMessage:"Learn something new"},continueGenerating:{id:"PromptTextarea.continueGenerating",defaultMessage:"Continue generating"},stopGenerating:{id:"PromptTextarea.stopGenerating",defaultMessage:"Stop generating"},disallowedByWorkspacePlaceholder:{id:"PromptTextarea.disallowedByWorkspaceReason",defaultMessage:"Your workspace owner hasnât approved this GPT."},pimBlockPlaceholder:{id:"PromptTextarea.pimBlockPlaceholder",defaultMessage:"Potentially Malicious Content Detected"},noModelsAvailablePlaceholder:{id:"PromptTextarea.noModelsAvailablePlaceholder",defaultMessage:"No models available"},requiresPluginsToBeInstalled:{id:"PromptTextarea.requiresPluginsToBeInstalled",defaultMessage:"Requires plugins to be installed"},noTestGizmoId:{id:"PromptTextarea.noTestGizmoId",defaultMessage:"Start by defining your GPT."},searchWith:{id:"PromptTextarea.searchWith",defaultMessage:"Search with {name}"},loading:{id:"PromptTextarea.loading",defaultMessage:"Loading..."},placeholder:{id:"PromptTextarea.placeholder",defaultMessage:"Send a message"},placeholderWithName:{id:"PromptTextarea.placeholderWithName",defaultMessage:"Message {name}"},placeholderAskAnythingVariant:{id:"PromptTextarea.placeholderAskAnythingVariant",defaultMessage:"Ask anything"},placeholderAskNameAnythingVariant:{id:"PromptTextarea.placeholderAskNameAnythingVariant",defaultMessage:"Ask {name} anything"},continueSharedConversationPlaceholder:{id:"PromptTextarea.continueSharedConversationPlaceholder",defaultMessage:"Send a message to continue the conversation."},sendMessageTooltip:{id:"PromptTextarea.sendMessageTooltip",defaultMessage:"Send message"},unsupportedFileType:{id:"PromptTextarea.unsupportedFileType",defaultMessage:'Uploads with file type "{file_type}" are not supported, please try another file.'},gizmoKnowledgeWarning:{id:"PromptTextarea.gizmoKnowledgeWarning",defaultMessage:"Files uploaded here may be included in conversations with your GPT. Files can be downloaded if Code Interpreter is enabled."},n7jupdSystemHintPlaceholder:{id:"3pa1zs",defaultMessage:"Describe a task"},n7jupdActivePlaceholder:{id:"0qUILF",defaultMessage:"Follow up"}}),IE=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8828 9.61914L11.043 9.66309L17.5928 11.9746C18.5062 12.297 18.5682 13.565 17.6904 13.9746L15.1562 15.1562L13.9746 17.6904C13.5906 18.5132 12.4525 18.5107 12.0459 17.7549L11.9746 17.5928L9.66309 11.043C9.37952 10.2395 10.087 9.46376 10.8828 9.61914ZM13.0264 16.5771L13.9902 14.5127L14.0342 14.4287C14.1447 14.2377 14.3114 14.0842 14.5127 13.9902L16.5771 13.0264L11.0889 11.0889L13.0264 16.5771Z"}),g.createElement("path",{d:"M11.877 2.66797C12.6428 2.66797 13.2514 2.6677 13.7432 2.70117C14.2406 2.73507 14.6684 2.80642 15.0684 2.97168C16.0498 3.37749 16.8295 4.15725 17.2354 5.13867C17.4007 5.53864 17.4719 5.9664 17.5059 6.46387C17.5393 6.95561 17.5391 7.56423 17.5391 8.33008C17.5389 8.6972 17.2412 8.99512 16.874 8.99512C16.507 8.99499 16.2092 8.69712 16.209 8.33008C16.209 7.5461 16.2084 6.99077 16.1787 6.55469C16.1494 6.12491 16.0941 5.85875 16.0068 5.64746C15.7359 4.99227 15.2148 4.47101 14.5596 4.2002C14.3483 4.11298 14.0821 4.05758 13.6523 4.02832C13.2163 3.99864 12.6609 3.99805 11.877 3.99805H8.45703C7.513 3.99805 6.84463 3.99834 6.32227 4.04102C5.80769 4.08307 5.4932 4.16316 5.24609 4.28906C4.74409 4.54487 4.33589 4.95307 4.08008 5.45508C3.95417 5.70219 3.87409 6.01668 3.83203 6.53125C3.78936 7.05361 3.78906 7.72198 3.78906 8.66602V11.4609C3.78906 12.344 3.78969 12.9693 3.82715 13.459C3.8641 13.9416 3.9345 14.2387 4.04492 14.4727C4.30898 15.0316 4.75938 15.4821 5.31836 15.7461C5.55226 15.8565 5.8487 15.9269 6.33105 15.9639C6.57587 15.9826 6.85484 15.9913 7.18262 15.9961L8.33008 16.001L8.46387 16.0146C8.76669 16.0766 8.99485 16.3449 8.99512 16.666C8.99512 16.9873 8.76681 17.2553 8.46387 17.3174L8.33008 17.3311L7.16309 17.3262C6.81513 17.321 6.5056 17.3102 6.22949 17.2891C5.67023 17.2462 5.19176 17.1568 4.75 16.9482C3.91222 16.5525 3.23744 15.8779 2.8418 15.04C2.63332 14.5983 2.54379 14.1198 2.50098 13.5605C2.45873 13.0083 2.45898 12.3236 2.45898 11.4609V8.66602C2.45898 7.74384 2.45871 7.01193 2.50684 6.42285C2.5556 5.82619 2.65735 5.31727 2.89453 4.85156C3.27785 4.0993 3.89032 3.48684 4.64258 3.10352C5.10828 2.86633 5.6172 2.76459 6.21387 2.71582C6.80295 2.66769 7.53485 2.66797 8.45703 2.66797H11.877Z"}),g.createElement("path",{d:"M7.13379 10.3486C7.43692 10.4106 7.66504 10.6786 7.66504 11C7.66504 11.3214 7.43692 11.5894 7.13379 11.6514L7 11.665H6C5.63273 11.665 5.33496 11.3673 5.33496 11C5.33496 10.6327 5.63273 10.335 6 10.335H7L7.13379 10.3486Z"}),g.createElement("path",{d:"M6.7793 6.7793C7.00657 6.55203 7.35808 6.52383 7.61621 6.69434L7.7207 6.7793L8.4707 7.5293L8.55566 7.63379C8.72617 7.89192 8.69797 8.24343 8.4707 8.4707C8.24343 8.69797 7.89192 8.72617 7.63379 8.55566L7.5293 8.4707L6.7793 7.7207L6.69434 7.61621C6.52383 7.35808 6.55203 7.00657 6.7793 6.7793Z"}),g.createElement("path",{d:"M11 5.33496C11.3673 5.33496 11.665 5.63273 11.665 6V7C11.665 7.36727 11.3673 7.66504 11 7.66504C10.6327 7.66504 10.335 7.36727 10.335 7V6C10.335 5.63273 10.6327 5.33496 11 5.33496Z"})),ybt=Object.freeze(Object.defineProperty({__proto__:null,default:IE},Symbol.toStringTag,{value:"Module"})),Wa=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.45996 14.375C7.45996 13.3616 6.63844 12.54 5.625 12.54C4.61156 12.54 3.79004 13.3616 3.79004 14.375C3.79004 15.3884 4.61156 16.21 5.625 16.21C6.63844 16.21 7.45996 15.3884 7.45996 14.375ZM16.21 14.375C16.21 13.3616 15.3884 12.54 14.375 12.54C13.3616 12.54 12.54 13.3616 12.54 14.375C12.54 15.3884 13.3616 16.21 14.375 16.21C15.3884 16.21 16.21 15.3884 16.21 14.375ZM7.45996 5.625C7.45996 4.61156 6.63844 3.79004 5.625 3.79004C4.61156 3.79004 3.79004 4.61156 3.79004 5.625C3.79004 6.63844 4.61156 7.45996 5.625 7.45996C6.63844 7.45996 7.45996 6.63844 7.45996 5.625ZM16.21 5.625C16.21 4.61156 15.3884 3.79004 14.375 3.79004C13.3616 3.79004 12.54 4.61156 12.54 5.625C12.54 6.63844 13.3616 7.45996 14.375 7.45996C15.3884 7.45996 16.21 6.63844 16.21 5.625ZM17.54 14.375C17.54 16.123 16.123 17.54 14.375 17.54C12.627 17.54 11.21 16.123 11.21 14.375C11.21 12.627 12.627 11.21 14.375 11.21C16.123 11.21 17.54 12.627 17.54 14.375ZM8.79004 5.625C8.79004 7.37298 7.37298 8.79004 5.625 8.79004C3.87702 8.79004 2.45996 7.37298 2.45996 5.625C2.45996 3.87702 3.87702 2.45996 5.625 2.45996C7.37298 2.45996 8.79004 3.87702 8.79004 5.625ZM17.54 5.625C17.54 7.37298 16.123 8.79004 14.375 8.79004C13.7416 8.79004 13.153 8.60173 12.6582 8.28125L8.28125 12.6582C8.60173 13.153 8.79004 13.7416 8.79004 14.375C8.79004 16.123 7.37298 17.54 5.625 17.54C3.87702 17.54 2.45996 16.123 2.45996 14.375C2.45996 12.627 3.87702 11.21 5.625 11.21C6.25794 11.21 6.84623 11.3977 7.34082 11.7178L11.7178 7.34082C11.3977 6.84623 11.21 6.25794 11.21 5.625C11.21 3.87702 12.627 2.45996 14.375 2.45996C16.123 2.45996 17.54 3.87702 17.54 5.625Z"})),xbt=Object.freeze(Object.defineProperty({__proto__:null,default:Wa},Symbol.toStringTag,{value:"Module"})),H0=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14.3352 10.0257C14.3352 7.6143 12.391 5.66554 10.0002 5.66537C7.60929 5.66537 5.66528 7.61419 5.66528 10.0257C5.66531 11.5493 6.44221 12.8881 7.61938 13.6683H12.3811C13.558 12.8881 14.3352 11.5491 14.3352 10.0257ZM8.84399 16.9984C9.07459 17.3983 9.50543 17.6683 10.0002 17.6683C10.495 17.6682 10.926 17.3984 11.1565 16.9984H8.84399ZM8.08813 15.6683H11.9114V14.9984H8.08813V15.6683ZM1.66626 9.33529L1.80103 9.34896C2.10381 9.41116 2.3313 9.67914 2.3313 10.0003C2.33115 10.3214 2.10377 10.5896 1.80103 10.6517L1.66626 10.6654H0.833252C0.466091 10.6654 0.168389 10.3674 0.168213 10.0003C0.168213 9.63306 0.465983 9.33529 0.833252 9.33529H1.66626ZM19.1663 9.33529L19.301 9.34896C19.6038 9.41116 19.8313 9.67914 19.8313 10.0003C19.8311 10.3214 19.6038 10.5896 19.301 10.6517L19.1663 10.6654H18.3333C17.9661 10.6654 17.6684 10.3674 17.6682 10.0003C17.6682 9.63306 17.966 9.33529 18.3333 9.33529H19.1663ZM3.0481 3.04818C3.2753 2.82099 3.62593 2.79189 3.88403 2.96224L3.98853 3.04818L4.57739 3.63705L4.66235 3.74154C4.83285 3.99966 4.80464 4.35021 4.57739 4.57748C4.35013 4.80474 3.99958 4.83293 3.74146 4.66244L3.63696 4.57748L3.0481 3.98861L2.96216 3.88412C2.79181 3.62601 2.82089 3.27538 3.0481 3.04818ZM16.012 3.04818C16.2717 2.7886 16.6927 2.78852 16.9524 3.04818C17.2117 3.30786 17.2119 3.72901 16.9524 3.98861L16.3625 4.57748C16.1028 4.83717 15.6818 4.83718 15.4221 4.57748C15.1626 4.31776 15.1625 3.89669 15.4221 3.63705L16.012 3.04818ZM9.33521 1.66634V0.833336C9.33521 0.466067 9.63297 0.168297 10.0002 0.168297C10.3674 0.168472 10.6653 0.466175 10.6653 0.833336V1.66634C10.6653 2.0335 10.3674 2.33121 10.0002 2.33138C9.63297 2.33138 9.33521 2.03361 9.33521 1.66634ZM15.6653 10.0257C15.6653 11.9571 14.7058 13.6634 13.2415 14.6917V16.3333C13.2415 16.7004 12.9444 16.9971 12.5774 16.9974C12.282 18.1473 11.2423 18.9982 10.0002 18.9984C8.75792 18.9984 7.71646 18.1476 7.42114 16.9974C7.05476 16.9964 6.75806 16.7 6.75806 16.3333V14.6917C5.29383 13.6634 4.33523 11.957 4.33521 10.0257C4.33521 6.88608 6.86835 4.33529 10.0002 4.33529C13.132 4.33547 15.6653 6.88618 15.6653 10.0257Z"})),bbt=Object.freeze(Object.defineProperty({__proto__:null,default:H0},Symbol.toStringTag,{value:"Module"})),b5=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.0303 4.11328C13.4406 2.70317 15.7275 2.70305 17.1377 4.11328C18.5474 5.52355 18.5476 7.81057 17.1377 9.2207L10.8457 15.5117C10.522 15.8354 10.2868 16.0723 10.0547 16.2627L9.82031 16.4395C9.61539 16.5794 9.39783 16.7003 9.1709 16.7998L8.94141 16.8916C8.75976 16.9582 8.57206 17.0072 8.35547 17.0518L7.59082 17.1865L5.19727 17.5859C5.05455 17.6097 4.90286 17.6358 4.77441 17.6455C4.67576 17.653 4.54196 17.6555 4.39648 17.6201L4.24707 17.5703C4.02415 17.4746 3.84119 17.3068 3.72559 17.0957L3.67969 17.0029C3.59322 16.8013 3.59553 16.6073 3.60547 16.4756C3.61519 16.3473 3.6403 16.1963 3.66406 16.0537L4.06348 13.6602C4.1638 13.0582 4.22517 12.6732 4.3584 12.3096L4.45117 12.0791C4.55073 11.8521 4.67152 11.6346 4.81152 11.4297L4.9873 11.1953C5.17772 10.9632 5.4146 10.728 5.73828 10.4043L12.0303 4.11328ZM6.67871 11.3447C6.32926 11.6942 6.14542 11.8803 6.01953 12.0332L5.90918 12.1797C5.81574 12.3165 5.73539 12.4618 5.66895 12.6133L5.60742 12.7666C5.52668 12.9869 5.48332 13.229 5.375 13.8789L4.97656 16.2725L4.97559 16.2744H4.97852L7.37207 15.875L8.08887 15.749C8.25765 15.7147 8.37336 15.6839 8.4834 15.6436L8.63672 15.5811C8.78817 15.5146 8.93356 15.4342 9.07031 15.3408L9.2168 15.2305C9.36965 15.1046 9.55583 14.9207 9.90527 14.5713L14.8926 9.58301L11.666 6.35742L6.67871 11.3447ZM16.1963 5.05371C15.3054 4.16304 13.8616 4.16305 12.9707 5.05371L12.6074 5.41602L15.833 8.64258L16.1963 8.2793C17.0869 7.38845 17.0869 5.94456 16.1963 5.05371Z"}),g.createElement("path",{d:"M4.58301 1.7832C4.72589 1.7832 4.84877 1.88437 4.87695 2.02441C4.99384 2.60873 5.22432 3.11642 5.58398 3.50391C5.94115 3.88854 6.44253 4.172 7.13281 4.28711C7.27713 4.3114 7.38267 4.43665 7.38281 4.58301C7.38281 4.7295 7.27723 4.8546 7.13281 4.87891C6.44249 4.99401 5.94116 5.27746 5.58398 5.66211C5.26908 6.00126 5.05404 6.43267 4.92676 6.92676L4.87695 7.1416C4.84891 7.28183 4.72601 7.38281 4.58301 7.38281C4.44013 7.38267 4.31709 7.28173 4.28906 7.1416C4.17212 6.55728 3.94179 6.04956 3.58203 5.66211C3.22483 5.27757 2.72347 4.99395 2.0332 4.87891C1.88897 4.85446 1.7832 4.72938 1.7832 4.58301C1.78335 4.43673 1.88902 4.3115 2.0332 4.28711C2.72366 4.17203 3.22481 3.88861 3.58203 3.50391C3.94186 3.11638 4.17214 2.60888 4.28906 2.02441L4.30371 1.97363C4.34801 1.86052 4.45804 1.78333 4.58301 1.7832Z"})),Cbt=Object.freeze(Object.defineProperty({__proto__:null,default:b5},Symbol.toStringTag,{value:"Module"})),See=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"}),g.createElement("path",{d:"M7.96545 12.1812V7.81878C7.96545 7.17205 8.68092 6.78144 9.22494 7.13117L12.6179 9.31238C13.1185 9.63416 13.1185 10.3658 12.6179 10.6876L9.22494 12.8688C8.68092 13.2186 7.96545 12.828 7.96545 12.1812Z"})),_bt=Object.freeze(Object.defineProperty({__proto__:null,default:See},Symbol.toStringTag,{value:"Module"})),Nu=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M11.5171 11.9924C11.5171 11.1544 10.8375 10.4749 9.99951 10.4748C9.1614 10.4748 8.48194 11.1543 8.48194 11.9924C8.48204 12.8304 9.16146 13.51 9.99951 13.51C10.8375 13.5099 11.517 12.8304 11.5171 11.9924ZM3.80713 8.71018C3.28699 8.92666 3.01978 9.50634 3.19385 10.0422L3.52686 11.0647L3.56494 11.1653C3.77863 11.6537 4.32351 11.9188 4.84717 11.7717L7.30322 11.0803C7.68362 9.95526 8.74606 9.14475 9.99951 9.14475C10.6946 9.14479 11.3313 9.39406 11.8257 9.80783L13.0933 9.45139L13.0278 9.28049L11.7671 5.40061L3.80713 8.71018ZM14.5962 3.05783L14.4683 3.08615L13.6382 3.35569C13.0705 3.54027 12.7594 4.15025 12.9438 4.71799L14.2935 8.86936L14.3325 8.97287C14.5537 9.47408 15.1235 9.73664 15.6558 9.56369L16.4858 9.29319L16.605 9.24045C16.8285 9.11361 16.9562 8.86404 16.9272 8.60861L16.8999 8.48166L15.2808 3.49924C15.1844 3.20321 14.894 3.02422 14.5962 3.05783ZM12.8472 11.9924C12.8471 12.9213 12.3997 13.7432 11.7114 14.2629L13.6187 17.3137L13.6782 17.4348C13.7863 17.7246 13.6802 18.0603 13.4077 18.2307C13.1352 18.401 12.7869 18.3493 12.5737 18.1252L12.4907 18.0188L10.4761 14.7961C10.3209 14.8223 10.1621 14.84 9.99951 14.8401C9.83597 14.8401 9.67603 14.8226 9.52002 14.7961L7.50635 18.0188L7.42334 18.1252C7.21015 18.3493 6.86184 18.401 6.58936 18.2307C6.27803 18.036 6.1838 17.6251 6.37842 17.3137L8.28467 14.2619C7.72379 13.8376 7.32535 13.2124 7.19776 12.4914L5.20752 13.052C4.03967 13.3804 2.82407 12.7896 2.34717 11.7004L2.26221 11.4758L1.9292 10.4533C1.54076 9.25785 2.13665 7.9642 3.29737 7.48166L11.5884 4.03342C11.7179 3.15622 12.3266 2.38379 13.2271 2.09104L14.0581 1.82053L14.2524 1.76779C15.2307 1.5561 16.2295 2.11668 16.5454 3.08908L18.1646 8.07053L18.2173 8.26584C18.4145 9.17874 17.9401 10.1097 17.0855 10.4865L16.897 10.5588L16.0659 10.8283C15.3549 11.0592 14.6144 10.9419 14.0288 10.5705L12.6499 10.9572C12.7754 11.2783 12.8472 11.6269 12.8472 11.9924Z"})),wbt=Object.freeze(Object.defineProperty({__proto__:null,default:Nu},Symbol.toStringTag,{value:"Module"})),du=r=>{var s=r,{hint:t,isNextToLabel:e}=s,n=de(s,["hint","isNextToLabel"]);const a=lg(t.systemHint);return a?o.jsx(a,C({className:"icon","aria-label":e?"":t.name},n)):o.jsx(h0,C({svgString:t.logo,className:"icon","aria-label":e?"":t.name},n))};function lg(t){switch(t){case we.Search:return Vs;case we.Think:return H0;case we.Research:return Nu;case we.Canvas:return b5;case we.Picture:case we.PictureV2:return Do;case we.Video:return See;case we.Slurm:case we.ApiTool:return Wa;case we.Agent:return IE;case we.Tatertot:return U0;default:return}}const JCe="https://persistent.oaistatic.com/chatgpt/NUX_StudyMode_16x9.png",Sbt=()=>{const{eligible:t,isLoading:e}=$e(We.hasSeenTatertotNux),n=q();return!(!ie(n,"1586944302")&&ie(n,"2342247883"))||!fM(n)?"hide":e?"loading":t?"show":"hide"};function kbt({onClose:t}){var b,_,w;const{markAsViewed:e}=$e(We.hasSeenTatertotNux),{systemHints:n}=oc(),r=JCe,s=Z(),a=g.useRef(!1),[i,l]=g.useState(!1);g.useEffect(()=>{const S=new Image;S.src=r,S.onload=()=>l(!0)},[r]),g.useEffect(()=>{!i||a.current||(a.current=!0,Me.count(Ee.TATERTOT,"tatertot_nux_modal_v2_shown"),B.logEventWithStatsig("Tatertot Nux Modal V2 Shown","chatgpt_tatertot_nux_modal_v2_shown"))},[i]);const c=it(),u=g.useMemo(()=>n?Object.fromEntries(n.map(S=>[S.systemHint,S])):{},[n]),d=u[we.PictureV2],f=u[we.Search],m=u[we.Tatertot],p=qo(),[h,v]=g.useState(!1),y=g.useCallback(()=>{e(),t(),Me.count(Ee.TATERTOT,"tatertot_nux_modal_v2_closed"),B.logEventWithStatsig("Tatertot Nux Modal V2 Closed","chatgpt_tatertot_nux_modal_v2_closed")},[e,t]),x=g.useCallback(()=>{h||(v(!0),e(),t(),c({pathname:"/",search:"?hints=".concat(mM)}),p(we.Tatertot),Me.count(Ee.TATERTOT,"tatertot_nux_modal_v2_show_me_clicked"),B.logEventWithStatsig("Tatertot Nux Modal V2 Show Me Clicked","chatgpt_tatertot_nux_modal_v2_show_me_clicked"))},[h,e,t,c,p]);return i?o.jsxs(tt,{testId:"modal-tatertot-nux",isOpen:!0,noPadding:!0,onClose:y,showCloseButton:!1,size:"custom",type:"success",className:"relative flex max-w-[480px] flex-col",children:[o.jsx("div",{className:"absolute end-4 top-4 z-50",children:o.jsx(gn,{className:"text-token-text-secondary ring-0! outline-0! hover:bg-transparent focus:ring-0! focus:ring-offset-0! focus:outline-0! dark:hover:bg-transparent",onClick:y})}),o.jsxs("div",{className:"relative w-full flex-1",children:[o.jsx("img",{src:r,className:"h-[232px] w-full object-cover object-bottom",alt:""}),o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-start justify-center",children:o.jsxs("div",{className:"relative mx-auto w-full",children:[o.jsx("div",{className:"relative mx-auto mt-6 w-full max-w-[240px]",children:o.jsxs("div",{className:"flex items-center justify-start",children:[o.jsx("div",{className:"me-3 flex h-12 w-12 items-center justify-center rounded-full bg-white/80 drop-shadow-sm",children:o.jsx(vc,{className:"h-6 w-6 text-black"})}),o.jsx("div",{className:"w-[181px] flex-1 rounded-full bg-white/30 px-5 py-3 text-[17px] backdrop-blur-sm",children:o.jsx("span",{className:"text-black/30",children:s.formatMessage(yo.placeholderAskAnythingVariant)})})]})}),o.jsx("div",{className:"absolute start-1/2 bottom-0 z-10 flex h-[162px] max-w-full min-w-[240px] -translate-x-1/2 translate-y-44 flex-col items-start justify-end rounded-xl bg-white/80 p-4 drop-shadow-xs backdrop-blur-xs",children:o.jsx("div",{className:"flex h-full w-auto flex-col items-start justify-end",children:o.jsxs("div",{className:"flex h-full w-auto translate-y-3 flex-col items-start justify-end",children:[o.jsx("span",{className:"ms-2 mb-4 flex items-center gap-4 text-[17px] font-medium whitespace-nowrap text-gray-600",children:d?o.jsxs(o.Fragment,{children:[o.jsx(du,{hint:d,isNextToLabel:!0,className:"h-6 w-6"}),(b=d.actionLabel)!=null?b:d.name]}):o.jsxs(o.Fragment,{children:[o.jsx(Do,{className:"h-6 w-6 text-gray-600"}),s.formatMessage(G1.createImagePill)]})}),o.jsx("span",{className:"ms-2 mb-2 flex items-center gap-4 text-[17px] font-medium whitespace-nowrap text-gray-600",children:f?o.jsxs(o.Fragment,{children:[o.jsx(du,{hint:f,isNextToLabel:!0,className:"h-6 w-6"}),(_=f.actionLabel)!=null?_:f.name]}):o.jsxs(o.Fragment,{children:[o.jsx(Vs,{className:"h-6 w-6 text-gray-600"}),s.formatMessage(G1.webSearchPill)]})})]})})}),o.jsx("div",{className:"absolute start-1/2 bottom-0 z-10 flex max-w-full min-w-[264px] -translate-x-1/2 translate-y-21 flex-col items-start",children:o.jsx("div",{className:"flex min-h-[60px] w-auto max-w-full min-w-[264px] items-center justify-center rounded-xl bg-white px-4 py-2 shadow-lg",children:o.jsxs("span",{className:"flex items-center text-[20px] font-medium whitespace-nowrap text-blue-400",children:[m?o.jsxs(o.Fragment,{children:[o.jsx(du,{hint:m,isNextToLabel:!0,className:"h-7 w-7"}),o.jsx("span",{className:"mx-3.5",children:(w=m.actionLabel)!=null?w:m.name})]}):o.jsxs(o.Fragment,{children:[o.jsx(U0,{className:"h-7 w-7 text-blue-400"}),o.jsx("span",{className:"mx-3.5",children:s.formatMessage(G1.studyAndLearnPill)})]}),o.jsx(Zr,{className:"ms-3 h-7 w-7 text-blue-400"})]})})})]})})]}),o.jsxs("div",{className:"dark:bg-gray-750 relative z-30 flex flex-1 flex-col items-center gap-6 bg-white px-8 pt-8 pb-8",children:[o.jsx("div",{className:"flex w-80 items-center justify-center text-center text-4xl font-semibold",children:o.jsx(N,{id:"StudyandLearn.learnAnythingTitle",defaultMessage:"Learn anything, step by step"})}),o.jsxs("div",{className:"flex w-full items-start gap-4 text-[17px]",children:[o.jsx(hc,{className:"h-6 w-6 shrink-0"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-medium",children:o.jsx(N,{id:"StudyandLearnNux.quizFeatureTitle",defaultMessage:"Practice with quizzes"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"StudyandLearnNux.quizFeatureDescription",defaultMessage:"Create quizzes and flashcards to test your knowledge."})})]})]}),o.jsxs("div",{className:"flex w-full items-start gap-4 text-[17px]",children:[o.jsx(Gd,{className:"h-6 w-6 shrink-0"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-medium",children:o.jsx(N,{id:"StudyandLearnNux.homeworkFeatureTitle",defaultMessage:"Get homework help"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"StudyandLearnNux.homeworkFeatureDescription",defaultMessage:"Break down tough problems with simple, step-by-step guidance."})})]})]}),o.jsxs("div",{className:"flex w-full items-start gap-4 text-[17px]",children:[o.jsx(ql,{className:"h-6 w-6 shrink-0"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-medium",children:o.jsx(N,{id:"StudyandLearnNux.exploreFeatureTitle",defaultMessage:"Explore new subjects"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"StudyandLearnNux.exploreFeatureDescription",defaultMessage:"Dive into anything you're curious about and get quick, clear answers."})})]})]}),o.jsx("div",{className:"flex w-full items-center justify-center",children:o.jsx("div",{className:"flex gap-4 text-[17px]",children:o.jsx(oe,{color:"primary",onClick:x,size:"large",fullWidth:!0,className:"px-12",children:s.formatMessage(G1.tryItNowButton)})})})]})]}):null}const G1=pe({studyAndLearnTitle:{id:"StudyandLearnNux.title",defaultMessage:"Study and Learn"},studyAndLearnPill:{id:"StudyandLearnNux.studyAndLearnBubble",defaultMessage:"Study and learn"},createImagePill:{id:"StudyandLearnNux.createImagePill",defaultMessage:"Create image"},webSearchPill:{id:"StudyandLearnNux.webSearchPill",defaultMessage:"Web search"},quizQuestion:{id:"StudyandLearnNux.quizQuestion",defaultMessage:'How do you say "bathroom" in Spanish?'},quizAnswer1:{id:"StudyandLearnNux.quizAnswer1",defaultMessage:"baÃ±o"},quizAnswer2:{id:"StudyandLearnNux.quizAnswer2",defaultMessage:"calle"},quizAnswer3:{id:"StudyandLearnNux.quizAnswer3",defaultMessage:"cocina"},quizNUXTitle:{id:"StudyandLearnNux.quizNUXTitle",defaultMessage:"Quiz yourself with ChatGPT"},quizNUXDescription:{id:"StudyandLearnNux.quizNUXDescription",defaultMessage:"Quickly create quizzes and flashcards on any topic so you feel exam-ready"},tryItNowButton:{id:"StudyandLearnNux.tryItNowButton",defaultMessage:"Try it now"},notNowButton:{id:"StudyandLearnNux.notNowButton",defaultMessage:"Not now"}}),kee="tatertot_create_flashcards_or_quiz",XCe="https://persistent.oaistatic.com/chatgpt/NUX_StudyMode_16x9.png";function e_e({onClose:t}){const{markAsViewed:e}=$e(We.hasSeenTatertotNux),n=XCe,[r,s]=g.useState(!1);g.useEffect(()=>{r||(e(),s(!0),Me.count(Ee.TATERTOT,"tatertot_nux_modal_shown"),B.logEventWithStatsig("Tatertot Nux Modal Shown","chatgpt_tatertot_nux_modal_shown"))},[e,r]);const[a,i]=g.useState(!1);g.useEffect(()=>{const y=new Image;y.src=n,y.onload=()=>i(!0)},[n]);const[l,c]=g.useState(!1),[u,d]=g.useState(!1);g.useEffect(()=>{if(!a)return;const y=setTimeout(()=>{c(!0)},200),x=setTimeout(()=>{d(!0)},300);return()=>{clearTimeout(y),clearTimeout(x)}},[a]);const f=it(),[m,p]=g.useState(!1),h=Z(),v=()=>{m||(p(!0),t(),f({pathname:"/",search:"?hints=".concat(mM)}),Me.count(Ee.TATERTOT,"tatertot_nux_modal_show_me_clicked"),B.logEventWithStatsig("Tatertot Nux Modal Show Me Clicked","chatgpt_tatertot_nux_modal_show_me_clicked"))};return a?o.jsxs(tt,{testId:"modal-tatertot-nux",isOpen:!0,noPadding:!0,onClose:()=>{t(),Me.count(Ee.TATERTOT,"tatertot_nux_modal_closed"),B.logEventWithStatsig("Tatertot Nux Modal Closed","chatgpt_tatertot_nux_modal_closed")},showCloseButton:!1,size:"custom",type:"success",className:"relative flex max-w-[480px] flex-col",children:[o.jsx("div",{className:"absolute end-4 top-4 z-50",children:o.jsx(gn,{className:"text-token-text-secondary ring-0! outline-0! hover:bg-transparent focus:ring-0! focus:ring-offset-0! focus:outline-0! dark:hover:bg-transparent",onClick:t})}),o.jsxs("div",{className:"relative w-full flex-1",children:[o.jsx("img",{src:n,className:"h-[213px] w-full object-cover object-bottom",alt:""}),o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"mx-auto flex max-w-full flex-col items-end gap-2 px-8",children:[o.jsx("div",{className:"relative flex w-auto rounded-3xl bg-white/80 px-5 py-2.5 text-lg backdrop-blur-[24px] transition-all duration-300 ease-in-out dark:bg-[rgba(48,48,48,0.8)] ".concat(l?"translate-y-0 opacity-100":"translate-y-2 opacity-0"),children:o.jsx(N,{id:"StudyandLearnNux.firstBubble",defaultMessage:"Hey Chat!"})}),o.jsx("div",{className:"relative flex w-auto rounded-3xl bg-white/80 px-5 py-2.5 text-lg backdrop-blur-[24px] transition-all duration-300 ease-in-out dark:bg-[rgba(48,48,48,0.8)] ".concat(u?"translate-y-0 opacity-100":"translate-y-2 opacity-0"),children:o.jsx(N,{id:"StudyandLearnNux.secondBubble",defaultMessage:"Help me with my homework"})})]})})]}),o.jsxs("div",{className:"flex flex-1 flex-col gap-6 px-8 pt-8 pb-8",children:[o.jsx("div",{className:"text-center text-[20px] leading-7 font-medium",children:h.formatMessage(G1.studyAndLearnTitle)}),o.jsx("div",{className:"text-token-text-secondary -mt-4 w-full text-center text-[17px]",children:o.jsx(N,{id:"StudyandLearnNux.subtitle",defaultMessage:"Your step-by-step guide to learning anything"})}),o.jsxs("div",{className:"flex w-full items-start gap-4 text-[17px]",children:[o.jsx(hc,{className:"h-6 w-6 shrink-0"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-medium",children:o.jsx(N,{id:"StudyandLearnNux.featureTitle1",defaultMessage:"Get homework help"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"StudyandLearnNux.featureDescription1",defaultMessage:"Break down complex problems with approachable, guided explanations."})})]})]}),o.jsxs("div",{className:"flex w-full items-start gap-4 text-[17px]",children:[o.jsx(Gd,{className:"h-6 w-6 shrink-0"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-medium",children:o.jsx(N,{id:"StudyandLearnNux.featureTitle2",defaultMessage:"Prep for tests"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"StudyandLearnNux.featureDescription2",defaultMessage:"Test your knowledge with quizzes on any topic."})})]})]}),o.jsxs("div",{className:"flex w-full items-start gap-4 text-[17px]",children:[o.jsx(ql,{className:"h-6 w-6 shrink-0"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-medium",children:o.jsx(N,{id:"StudyandLearnNux.featureTitle3",defaultMessage:"Explore new subjects"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"StudyandLearnNux.featureDescription3",defaultMessage:"Go deep on any topic and ask any question."})})]})]}),o.jsx("div",{className:"flex w-full items-center justify-center",children:o.jsx("div",{className:"flex gap-4",children:o.jsx(oe,{color:"primary",onClick:v,size:"large",fullWidth:!0,className:"px-6",children:h.formatMessage(G1.tryItNowButton)})})})]})]}):null}function Mee(t,e){const n=[{type:je.Autocomplete,id:"tatertot_homework_autocomplete",title:t.formatMessage({id:"8ZR8F6",defaultMessage:"Help me with my homework"}),prompt:t.formatMessage({id:"3Cdh/P",defaultMessage:"Help me with my homework"}),icon:o.jsx(hc,{className:"h-full w-full"}),body:"",theme:Ct.Tatertot},{type:je.Autocomplete,id:"tatertot_explain_topic",title:t.formatMessage({id:"eOU1s2",defaultMessage:"Explain a topic to me"}),prompt:t.formatMessage({id:"/SVEgw",defaultMessage:"Explain a topic to me"}),icon:o.jsx(rl,{className:"h-full w-full"}),body:"",theme:Ct.Tatertot}];return e?n.push({type:je.Autocomplete,id:kee,title:t.formatMessage({id:"reHqfm",defaultMessage:"Create a practice quiz"}),prompt:t.formatMessage({id:"bNSdL3",defaultMessage:"Create a practice quiz with quizgpt"}),icon:o.jsx(Gd,{className:"h-full w-full"}),body:"",theme:Ct.Tatertot}):n.push({type:je.Autocomplete,id:"tatertot_create_quiz",title:t.formatMessage({id:"reHqfm",defaultMessage:"Create a practice quiz"}),prompt:t.formatMessage({id:"MSsW2T",defaultMessage:"Create a practice quiz"}),icon:o.jsx(Gd,{className:"h-full w-full"}),body:"",theme:Ct.Tatertot}),n}const t_e="https://persistent.oaistatic.com/chatgpt/nux-quiz.jpg",Mbt=()=>{const{eligible:t,isLoading:e}=$e(We.hasSeenTatertotQuizNux),n=q();return!ie(n,"550187082")||!fM(n)?"hide":e?"loading":t?"show":"hide"};function Ebt({onClose:t}){const{markAsViewed:e}=$e(We.hasSeenTatertotQuizNux),{systemHints:n}=oc(),r=t_e,s=Z(),a=q(),i=Et(a),c=Mee(s,i).find(x=>x.id===kee),u=g.useRef(!1),[d,f]=g.useState(!1);g.useEffect(()=>{const x=new Image;x.src=r,x.onload=()=>f(!0)},[r]),g.useEffect(()=>{!d||u.current||(u.current=!0,Me.count(Ee.TATERTOT,"tatertot_quiz_nux_modal_shown"),B.logEventWithStatsig("Tatertot Quiz Nux Modal Shown","chatgpt_tatertot_quiz_nux_modal_shown"))},[d]);const m=it();g.useMemo(()=>n?Object.fromEntries(n.map(x=>[x.systemHint,x])):{},[n]);const[p,h]=g.useState(!1),v=g.useCallback(()=>{e(),t(),Me.count(Ee.TATERTOT,"tatertot_quiz_nux_modal_closed"),B.logEventWithStatsig("Tatertot Quiz Nux Modal Closed","chatgpt_tatertot_quiz_nux_modal_closed")},[e,t]),y=g.useCallback(()=>{p||(h(!0),e(),t(),m({pathname:"/",search:"?hints=".concat(mM,"&q=").concat(c==null?void 0:c.prompt)}),Me.count(Ee.TATERTOT,"tatertot_quiz_nux_modal_show_me_clicked"),B.logEventWithStatsig("Tatertot Quiz Nux Modal Show Me Clicked","chatgpt_tatertot_quiz_nux_modal_show_me_clicked"))},[c==null?void 0:c.prompt,e,t,m,p]);return d?o.jsxs(tt,{testId:"modal-tatertot-quiz-nux",isOpen:!0,noPadding:!0,onClose:v,showCloseButton:!1,size:"custom",type:"success",className:"relative flex max-w-[480px] flex-col",children:[o.jsx("div",{className:"absolute end-4 top-4 z-50",children:o.jsx(gn,{className:"text-token-text-secondary ring-0! outline-0! hover:bg-transparent focus:ring-0! focus:ring-offset-0! focus:outline-0! dark:hover:bg-transparent",onClick:v})}),o.jsxs("div",{className:"relative w-full flex-1",children:[o.jsx("img",{src:r,className:"h-[232px] w-full object-cover object-bottom",alt:""}),o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-start justify-center",children:o.jsx("div",{className:"relative mx-auto w-full",children:o.jsx("div",{className:"absolute start-1/2 bottom-0 z-10 flex h-[200px] max-w-[172px] -translate-x-1/2 translate-y-60 flex-col items-start justify-end rounded-xl bg-white p-4",children:o.jsx("div",{className:"flex h-full w-auto flex-col items-start justify-end",children:o.jsxs("div",{className:"flex h-full w-auto translate-y-2 flex-col items-start justify-end",children:[o.jsx("span",{className:"mb-5 flex items-center gap-4 font-serif text-xl text-[15px] leading-[1.5] font-medium text-black",children:o.jsx(o.Fragment,{children:s.formatMessage(si.quizQuestion)})}),o.jsx("div",{className:"mb-2 flex flex-col gap-2",children:[si.quizAnswer1,si.quizAnswer2,si.quizAnswer3].map((x,b)=>{const _=[si.quizOptionA,si.quizOptionB,si.quizOptionC];return o.jsx(be.Fragment,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("label",{className:"flex items-center gap-2 text-[11.5px] text-black",children:[o.jsx("span",{className:"inline-block rounded bg-gray-100 px-1.5 py-0.5 text-[9px] font-medium text-gray-700",children:o.jsx(N,C({},_[b]))}),s.formatMessage(x)]}),o.jsx("div",{className:"ms-6.5 mt-1 h-[0.5px] w-[calc(100%+1.5rem)] bg-gray-200"})]})},x.id||b)})})]})})})})})]}),o.jsxs("div",{className:"dark:bg-gray-750 relative z-30 flex flex-1 flex-col items-center gap-6 bg-white px-8 pt-8 pb-8",children:[o.jsx("div",{className:"flex w-80 items-center justify-center text-center text-4xl font-semibold",children:s.formatMessage(si.quizNUXTitle)}),o.jsx("div",{className:"flex w-full items-center justify-center text-[17px]",children:o.jsx("div",{className:"flex w-90 flex-col items-center",children:o.jsx("div",{className:"text-token-text-secondary text-center",children:s.formatMessage(si.quizNUXDescription)})})}),o.jsx("div",{className:"flex w-full items-center justify-center",children:o.jsx("div",{className:"flex gap-4 text-[17px]",children:o.jsx(oe,{color:"primary",onClick:y,size:"large",fullWidth:!0,className:"px-12",children:o.jsx(N,{id:"StudyandLearnNux.quizNuxButton",defaultMessage:"Try it"})})})})]})]}):null}const si=pe({studyAndLearnTitle:{id:"StudyandLearnNux.title",defaultMessage:"Study and Learn"},studyAndLearnPill:{id:"StudyandLearnNux.studyAndLearnBubble",defaultMessage:"Study and learn"},createImagePill:{id:"StudyandLearnNux.createImagePill",defaultMessage:"Create image"},webSearchPill:{id:"StudyandLearnNux.webSearchPill",defaultMessage:"Web search"},quizQuestion:{id:"StudyandLearnNux.quizQuestion",defaultMessage:'How do you say "bathroom" in Spanish?'},quizAnswer1:{id:"StudyandLearnNux.quizAnswer1",defaultMessage:"baÃ±o"},quizAnswer2:{id:"StudyandLearnNux.quizAnswer2",defaultMessage:"calle"},quizAnswer3:{id:"StudyandLearnNux.quizAnswer3",defaultMessage:"cocina"},quizNUXTitle:{id:"StudyandLearnNux.quizNUXTitle",defaultMessage:"Quiz yourself with ChatGPT"},quizNUXDescription:{id:"StudyandLearnNux.quizNUXDescription",defaultMessage:"Quickly create quizzes and flashcards on any topic so you feel exam-ready"},quizOptionA:{id:"StudyandLearnNux.quizOptionA",defaultMessage:"A"},quizOptionB:{id:"StudyandLearnNux.quizOptionB",defaultMessage:"B"},quizOptionC:{id:"StudyandLearnNux.quizOptionC",defaultMessage:"C"},tryItNowButton:{id:"StudyandLearnNux.tryItNowButton",defaultMessage:"Try it now"},notNowButton:{id:"StudyandLearnNux.notNowButton",defaultMessage:"Not now"}}),LE=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14 13.333C14.6903 13.333 15.2498 13.8928 15.25 14.583C15.25 15.2734 14.6904 15.833 14 15.833C13.3096 15.833 12.75 15.2734 12.75 14.583C12.7502 13.8928 13.3097 13.333 14 13.333Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.626 10.1953C14.9785 10.2453 15.2943 10.4417 15.4961 10.7344L15.5869 10.8877L15.8389 11.3945L16.4062 11.3613C16.8876 11.3326 17.3453 11.578 17.5869 11.9961L18.0342 12.7695L18.1133 12.9316C18.2461 13.2623 18.2331 13.6337 18.0811 13.9541L17.9932 14.1104L17.6807 14.583L17.9932 15.0557L18.0811 15.2119C18.2332 15.5323 18.246 15.9037 18.1133 16.2344L18.0342 16.3965L17.5869 17.1699C17.3756 17.5357 16.9991 17.7691 16.5859 17.8027L16.4062 17.8047L15.8389 17.7705L15.5869 18.2773C15.3982 18.6546 15.037 18.9124 14.626 18.9707L14.4473 18.9834H13.5518C13.0689 18.983 12.6287 18.7091 12.4131 18.2783L12.1582 17.7705L11.5938 17.8047C11.1109 17.8336 10.6541 17.5872 10.4131 17.1699L10.4141 17.1689L9.9668 16.3965C9.72564 15.9786 9.73959 15.4589 10.0059 15.0557L10.3184 14.583L10.0068 14.1094L10.0059 14.1104C9.73971 13.7071 9.72458 13.1874 9.96582 12.7695L10.4141 11.9961C10.655 11.5791 11.1103 11.3327 11.5928 11.3613L12.1592 11.3945L12.4131 10.8877L12.5039 10.7344C12.7392 10.3933 13.1291 10.183 13.5518 10.1826H14.4473L14.626 10.1953ZM13.1299 12.3594C13.0136 12.5917 12.7701 12.7319 12.5107 12.7168L11.5312 12.6582L11.0996 13.4062L11.6396 14.2256C11.7823 14.4423 11.7822 14.7236 11.6396 14.9404L11.0996 15.7588L11.5312 16.5068L12.5098 16.4482L12.6064 16.4492C12.8285 16.469 13.028 16.6023 13.1299 16.8057L13.5684 17.6826H14.4307L14.8682 16.8066L14.918 16.7236C15.0462 16.5409 15.2619 16.4346 15.4893 16.4482L16.4688 16.5068L16.9004 15.7607L16.3594 14.9414C16.216 14.7242 16.216 14.4418 16.3594 14.2246L16.9004 13.4043L16.4688 12.6582L15.4883 12.7168C15.2286 12.7321 14.9844 12.5911 14.8682 12.3584L14.4307 11.4834H13.5684L13.1299 12.3594Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.83496C11.6663 1.83499 13.2041 2.07563 14.3486 2.48438C14.9179 2.68771 15.4265 2.94533 15.8047 3.26465C16.1795 3.58132 16.4989 4.02415 16.499 4.58301V8.33301C16.499 8.70007 16.201 8.99771 15.834 8.99805C15.4667 8.99805 15.1689 8.70028 15.1689 8.33301V6.32422C14.918 6.45851 14.6414 6.57805 14.3486 6.68262C13.2042 7.09134 11.6663 7.332 10 7.33203C8.33402 7.332 6.79676 7.09122 5.65234 6.68262C5.35967 6.57809 5.08295 6.45845 4.83203 6.32422V10L4.84766 10.0596C4.86206 10.0922 4.88969 10.1383 4.94336 10.1973C5.05467 10.3195 5.24785 10.4642 5.54297 10.6123C6.05901 10.8711 6.79692 11.0946 7.69238 11.2402L8.08594 11.2979L8.21777 11.3291C8.50987 11.43 8.70164 11.7255 8.66016 12.0439C8.61851 12.3624 8.35719 12.5987 8.04883 12.6211L7.91406 12.6172L7.48438 12.5547C6.49662 12.3945 5.61791 12.1386 4.94629 11.8018C4.90742 11.7823 4.87007 11.7596 4.83203 11.7393V15.417C4.83209 15.432 4.83653 15.4958 4.94336 15.6133C5.05465 15.7355 5.24759 15.8811 5.54297 16.0293C6.1328 16.3251 7.01226 16.5749 8.08594 16.7148C8.44983 16.7624 8.70737 17.096 8.66016 17.46C8.6127 17.824 8.27813 18.0815 7.91406 18.0342C6.75168 17.8827 5.71384 17.6028 4.94629 17.2178C4.56344 17.0257 4.21782 16.792 3.95996 16.5088C3.69847 16.2214 3.50205 15.8522 3.50195 15.417V4.58301C3.50208 4.02396 3.82131 3.58134 4.19629 3.26465C4.5745 2.94535 5.08305 2.6877 5.65234 2.48438C6.79677 2.07575 8.33397 1.83499 10 1.83496ZM10 3.16504C8.44525 3.16507 7.0662 3.39124 6.09961 3.73633C5.61371 3.90987 5.26686 4.10126 5.05469 4.28027C4.84089 4.4608 4.83213 4.56596 4.83203 4.58301C4.83203 4.599 4.83953 4.70405 5.05469 4.88574C5.26684 5.06482 5.61351 5.25706 6.09961 5.43066C7.06619 5.77573 8.44531 6.00192 10 6.00195C11.555 6.00192 12.9348 5.77584 13.9014 5.43066C14.3875 5.25703 14.7342 5.06483 14.9463 4.88574C15.1611 4.70424 15.1689 4.59899 15.1689 4.58301C15.1688 4.56597 15.1599 4.46072 14.9463 4.28027C14.7342 4.1012 14.3874 3.90994 13.9014 3.73633C12.9347 3.39113 11.5551 3.16507 10 3.16504Z"})),jbt=Object.freeze(Object.defineProperty({__proto__:null,default:LE},Symbol.toStringTag,{value:"Module"})),Eee=We.MemoryOnboarding;function Tbt(){const t=Af(),{eligible:e,isLoading:n}=$e(Eee);return{eligible:e&&t,isLoading:n}}function G7({icon:t,title:e,description:n}){return o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"text-token-text-secondary mt-1",children:t}),o.jsxs("div",{className:"ms-4",children:[o.jsx("div",{className:"text-lg font-semibold",children:e}),o.jsx("p",{className:"text-token-text-secondary mt-1 text-sm",children:n})]})]})}function Nbt({onClose:t}){const e=n_e(),n=y6(),r=gE(),s=(r==null?void 0:r[Ln.Sunshine])===!0,a=Z(),{markAsViewed:i}=$e(Eee),l=g.useCallback(()=>{i(),t()},[i,t]);return o.jsx(tt,{testId:"modal-memory-onboarding",isOpen:!0,onClose:_n,size:"custom",className:"max-w-xl",type:"success",title:a.formatMessage(so.title),secondaryButton:e?o.jsx(yn.Button,{onClick:async()=>{try{await n.mutateAsync({setting:Ln.Sunshine,value:!1}),l()}catch(c){}},title:a.formatMessage(so.notNow),color:"secondary",disabled:s}):null,primaryButton:e?o.jsx(yn.Button,{onClick:async()=>{try{await n.mutateAsync({setting:Ln.Sunshine,value:!0}),l()}catch(c){}},title:a.formatMessage(so.enable),color:"primary",disabled:s}):o.jsx(yn.Button,{onClick:l,title:a.formatMessage(so.continue),color:"primary"}),children:o.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[o.jsx(G7,{icon:o.jsx(rl,{}),title:a.formatMessage(so.bulletTitle1),description:a.formatMessage(so.bulletDescription1)}),o.jsx(G7,{icon:o.jsx(H0,{}),title:a.formatMessage(so.bulletTitle2),description:o.jsx(N,C({},so.bulletDescription2))}),o.jsx(G7,{icon:o.jsx(LE,{}),title:a.formatMessage(so.bulletTitle3),description:o.jsx(N,P(C({},so.bulletDescription3),{values:{link1:c=>o.jsx("a",{href:"https://help.openai.com/en/articles/8590148-memory-faq",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:c}),link2:c=>o.jsx(mr,{to:hf(Dn.Personalization),className:"underline",children:c}),link3:c=>o.jsx("a",{href:"https://help.openai.com/en/articles/8590148-memory-faq#h_b8745c1ae1",target:"_blank",rel:"noreferrer",className:"cursor-pointer underline",children:c})}}))})]})})}function n_e(){const t=q();return ie(t,"1542198993")}const so=pe({title:{id:"MemoryOnboardingModal.title.1",defaultMessage:"ChatGPT now has memory"},bulletTitle1:{id:"MemoryOnboardingModal.bulletTitle1",defaultMessage:"Keep the conversation going"},bulletDescription1:{id:"MemoryOnboardingModal.bulletDescription1.1",defaultMessage:"ChatGPT will automatically remember useful details and preferences you share in all your conversations, carrying them between chats."},bulletTitle2:{id:"MemoryOnboardingModal.bulletTitle2.1",defaultMessage:"A more personalized assistant"},bulletDescription2:{id:"MemoryOnboardingModal.bulletDescription2.2",defaultMessage:"Memories and your chat history are used to give you more relevant responses. Want to change what ChatGPT remembers? Just ask."},bulletTitle3:{id:"MemoryOnboardingModal.bulletTitle3",defaultMessage:"You're in control"},bulletDescription3:{id:"MemoryOnboardingModal.bulletDescription3.2",defaultMessage:"<link1>Learn more</link1> about how memory works. You can turn off memory at any time in <link2>settings</link2>. Memories may be used to <link3>train our models</link3> if you have model training enabled."},continue:{id:"MemoryOnboardingModal.continue",defaultMessage:"Continue"},notNow:{id:"MemoryOnboardingModal.notNow",defaultMessage:"Not now"},enable:{id:"MemoryOnboardingModal.enable",defaultMessage:"Enable"}});function r_e(t){"use no forget";pr()&&ad.then(e=>{e.getHost().userStoppedAgentConversation(t)})}function s_e(t){"use no forget";pr()&&ad.then(e=>{e.getHost().userSentMessageInAgentConversation(t)})}const fu=v0(()=>({activeRequests:{}})),RE=pa(()=>$0e(fu)),a_e=(t,e)=>{var n;return(n=RE(t).activeRequests[e])!=null?n:null};function eo(t){"use forget";const e=ee.c(2);let n;return e[0]!==t?(n=r=>OE(t,r),e[0]=t,e[1]=n):n=e[1],vf(fu,n)}const o_e=(t,e)=>OE(e,RE(t));function OE(t,e=fu.getState()){return t!=null&&e.activeRequests[t]!=null}function Abt(){"use forget";return vf(fu,n=>Object.keys(n.activeRequests).length>0)||!1}const DE=t=>Object.keys(RE(t).activeRequests).length>0,lp={addRequest(t,e,n){fu.setState(r=>({activeRequests:P(C({},r.activeRequests),{[t]:{id:t,abortController:e,turnTracker:n}})}))},removeRequest(t){fu.setState(e=>{const n=C({},e.activeRequests);return delete n[t],{activeRequests:n}})},abortRequest(t){const{activeRequests:e}=fu.getState();return e[t]!=null?(e[t].abortController.abort(),lp.removeRequest(t),!0):!1}};function i_e(t,e,n,r,s=!1,a=void 0,i={},l=void 0){const c=P(C({client_thread_id:String(t),client_initiated:e,reason:n,is_agent_hint_enabled:a},i),{has_stop_conduit_token:l});if(!(a||r))return;if(s&&a!==void 0&&a!==r){const d=r?"from_agent_to_non_agent":"from_non_agent_to_agent",f="conversation.transition_".concat(d);ve.addAction(f,P(C({},c),{action_type:"abort_completion"})),B.logEventWithStatsig("Agent Conversation Transition","chatgpt_agent_conversation_transition",P(C({},c),{action_type:"abort_completion"}))}Me.count(Ee.DEFAULT,"chatgpt_web_conversation_stop",[{key:"has_stop_conduit_token",value:l?"true":"false"},{key:"stop_reason",value:n}]),r&&(ve.addAction("conversation.stop_attempted",P(C({},c),{is_last_turn_agent:!0})),B.logEventWithStatsig("Agent Conversation Stop","chatgpt_agent_conversation_stop",C({},c)))}const jee=Uu(()=>nt(null));function Yu(t){return jee(t)()}function Tee(t,e){const n=jee(t);l_e(ic(()=>n()),e)&&n.set(e)}function l_e(t,e){return!((t==null?void 0:t.value)===sn.REALTIME&&(e==null?void 0:e.value)===sn.STREAMING)}const C5=t=>{"use forget";const e=ee.c(3),n=q();let r;return e[0]!==n||e[1]!==t?(r=()=>{if(t===void 0)return null;const s=cr(n,t);return Yu(s)},e[0]=n,e[1]=t,e[2]=r):r=e[2],at(r)},FE=(t,e)=>{const n=cr(t,e);return Yu(n)},ns=(t,e)=>{const n=cr(gr(),t);Tee(n,e)};async function BE(t,e=se.getRequestId(st(t)),{clientInitiated:n=!1,reason:r="other",isLastTurnAgent:s=void 0,hasAgentSystemHint:a=void 0}={}){var E,T,j,A;const i=OE(e),l=gr(),c=st(t),u=kt(t),d=FE(l,t),f=(d==null?void 0:d.value)===sn.REALTIME,m=(d==null?void 0:d.value)===sn.STREAMING,p=se.getCurrentNode(c),h=(E=c==null?void 0:c.stopConduitToken)!=null?E:null,v=h!==null,x=(()=>{const I=p==null?void 0:p.message;return I?q0e(I):!1})(),b=m&&((A=(j=(T=p==null?void 0:p.message)==null?void 0:T.metadata)==null?void 0:j.model_slug)==null?void 0:A.endsWith("-pro")),_=m&&n,w=ie(l,"877631007");if(!i&&!f&&!b&&!_)return;Fe(t,I=>{I.interruptionInProgress=!0});const S=()=>{var R,H,V;const L=(c?se.getLastMessageSystemHints(c):[]).includes(we.Agent),O=!!((V=(H=(R=se.getCurrentNode(c))==null?void 0:R.message)==null?void 0:H.metadata)!=null&&V.n7jupd_message);return L||O},k=s!=null?s:S();k&&u&&r_e(u);let M;if(u&&ie(l,"3922476776")){const L=C({requestBody:{conversation_id:u,exclude_async_types:w?["pro_mode"]:[]},authOption:qt.SendIfAvailable},h?{additionalHeaders:{"x-conduit-token":h}}:{});M=await ue.safePost("/stop_conversation",L),h&&Fe(t,O=>{O.stopConduitToken=null});try{i_e(t,n,r,k,!0,a,{},v)}catch(O){$n.error("Error logging abort completion attempt for analytics",{error:O})}}return i&&!x&&lp.abortRequest(e),Fe(t,I=>{I.interruptionInProgress=!1}),M}const Wd=new Set,c_e=(t,e=()=>!0)=>{const n={callback:t,shouldBlock:e};return Wd.add(n),()=>Wd.delete(n)},Pbt=(t,e=()=>!0)=>{g.useEffect(()=>{const n={callback:t,shouldBlock:e};return Wd.add(n),()=>{Wd.delete(n)}},[t,e])},u_e=()=>Array.from(Wd).some(t=>t.shouldBlock()),d_e=()=>Promise.allSettled(Array.from(Wd).filter(t=>t.shouldBlock()).map(t=>t.callback()));class f_e{constructor(){Q(this,"completionStartTime",Date.now());Q(this,"completionEndTime");Q(this,"blurDuringCompletionTime");Q(this,"refocusTime");Q(this,"logFocusAfterBlurDuringCompletionEvent",()=>{Le.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:"".concat(this.completionEndTime-this.completionStartTime),blur_time_ms:"".concat(this.blurDuringCompletionTime-this.completionStartTime),refocus_time_ms:"".concat(this.refocusTime-this.completionStartTime)}),B.logEvent("Focus After Blur During Completion",{completion_duration_ms:"".concat(this.completionEndTime-this.completionStartTime),blur_time_ms:"".concat(this.blurDuringCompletionTime-this.completionStartTime),refocus_time_ms:"".concat(this.refocusTime-this.completionStartTime)})});Q(this,"onWindowBlur",()=>{this.blurDuringCompletionTime===void 0&&(this.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",this.onWindowFocusAfterBlur))});Q(this,"onWindowFocusAfterBlur",()=>{this.refocusTime=Date.now(),this.completionEndTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent(),this.cleanupFocusAfterBlurListener()});Q(this,"cleanupFocusAfterBlurListener",()=>{window.removeEventListener("focus",this.onWindowFocusAfterBlur)});Q(this,"onMessageError",()=>{window.removeEventListener("blur",this.onWindowBlur)});Q(this,"onMessageDone",()=>{window.removeEventListener("blur",this.onWindowBlur),this.blurDuringCompletionTime!==void 0&&(this.completionEndTime=Date.now(),Le.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:"".concat(this.completionEndTime-this.completionStartTime),blur_time_ms:"".concat(this.blurDuringCompletionTime-this.completionStartTime)}),B.logEvent("Blur During Completion",{completion_duration_ms:"".concat(this.completionEndTime-this.completionStartTime),blur_time_ms:"".concat(this.blurDuringCompletionTime-this.completionStartTime)}),this.refocusTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent())});window.addEventListener("blur",this.onWindowBlur)}}const Yw=new Set,UE=t=>{g.useEffect(()=>(Yw.add(t),()=>{Yw.delete(t)}),[t])},JI=t=>{for(const e of Yw)try{e({error:t})}catch(n){ve.addError(n)}},Rf=Rt(()=>({messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}})),m_e=()=>Rf.getState().ui.focusedNodeId,Of=()=>Rf.getState().messagesDevData;function Ibt(t){const e=Object.keys(Of()),n=e.indexOf(t);if(n===-1)throw new Error("Key not found in object");const r=(n+1)%e.length;return e[r]}function Lbt(t){const e=Object.keys(Of()),n=e.indexOf(t);if(n===-1)throw new Error("Key not found in object");const r=(n-1+e.length)%e.length;return e[r]}function Rbt(t){return Object.keys(Of()).indexOf(t)}const Obt=()=>Object.keys(Of()).length;var W7,XI;function Nee(){if(XI)return W7;XI=1;function t(e,n){for(var r,s=-1,a=e.length;++s<a;){var i=n(e[s]);i!==void 0&&(r=r===void 0?i:r+i)}return r}return W7=t,W7}var Z7,eL;function p_e(){if(eL)return Z7;eL=1;var t=Nee(),e=NaN;function n(r,s){var a=r==null?0:r.length;return a?t(r,s)/a:e}return Z7=n,Z7}var K7,tL;function g_e(){if(tL)return K7;tL=1;var t=p_e(),e=Hu();function n(r){return t(r,e)}return K7=n,K7}var h_e=g_e();const v_e=St(h_e);function y_e(t){return t.length===0?null:t.reduce((n,r)=>n+r,0)/t.length}function x_e(t){const e=t.length;if(e===0)return 0;const n=y_e(t)||0,r=t.reduce((s,a)=>s+Math.pow(a-n,2),0)/e;return Math.sqrt(r)}function nL(t,e){const n=t.slice().sort((l,c)=>l-c),r=e*(n.length-1),s=Math.floor(r),a=Math.ceil(r);if(s===a)return n[s];const i=r-s;return(1-i)*n[s]+i*n[a]}function b_e(t){if(t.length===0)return null;const e=t.slice().sort((r,s)=>r-s),n=Math.floor(e.length/2);return e.length%2===0?(e[n-1]+e[n])/2:e[n]}var ja=(t=>(t.FirstTokenLatency="first_token_lat",t.TotalRequestTime="total_request_time",t.TokenCount="token_count",t.StdDevTokenLatency="std_dev_token_lat",t.MeanTokenLatency="mean_token_lat",t.MedianTokenLatency="median_token_lat",t.MinTokenLatency="min_token_lat",t.MaxTokenLatency="max_token_lat",t.P95TokenLatency="p95_token_lat",t.P99TokenLatency="p99_token_lat",t))(ja||{});const Aee=t=>{var m;const e=t.filter(p=>p.requestCount>1);let n=0;for(let p=0;p<t.length;p++){const h=t[p];if(n=h.requestDuration,h.content!=="")break}const r=nL(e.map(p=>p.lastTokenDuration),.95),s=nL(e.map(p=>p.lastTokenDuration),.99),a=v_e(e.map(p=>p.lastTokenDuration)),i=b_e(e.map(p=>p.lastTokenDuration)),l=e.filter(p=>p.lastTokenDuration!==0).reduce((p,h)=>Math.min(p,h.lastTokenDuration),1/0),c=e.reduce((p,h)=>Math.max(p,h.lastTokenDuration),-1/0),u=x_e(e.map(p=>p.lastTokenDuration)),d=(m=t[t.length-1])==null?void 0:m.requestDuration;return[{id:"first_token_lat",name:"First Token lat.",stat:n>0?"".concat(n.toFixed(2),"ms"):null,value:n>0?n:null,category:"summary"},{id:"total_request_time",name:"Total request time",stat:d?"".concat((d/1e3).toFixed(2),"s"):null,value:d||null,category:"summary"},{id:"token_count",name:"Token count",stat:"".concat(t.length),value:t.length,category:"summary"},{id:"std_dev_token_lat",name:"Std dev Token lat.",stat:"".concat(u.toFixed(2)),value:u,category:"token"},{id:"mean_token_lat",name:"Mean Token lat.",stat:a?"".concat(a.toFixed(2),"ms"):null,value:a!=null?a:null,category:"aggregate"},{id:"median_token_lat",name:"Median Token lat.",stat:i?"".concat(i.toFixed(2),"ms"):null,value:i!=null?i:null,category:"token"},{id:"min_token_lat",name:"Min Token lat.",stat:"".concat(l.toFixed(2),"ms"),value:l!=null?l:null,category:"token"},{id:"max_token_lat",name:"Max Token lat.",stat:"".concat(c.toFixed(2),"ms"),value:c!=null?c:null,category:"token"},{id:"p95_token_lat",name:"p95 Token lat.",stat:r?"".concat(r.toFixed(2),"ms"):null,value:r!=null?r:null,category:"aggregate"},{id:"p99_token_lat",name:"p99 Token lat.",stat:s?"".concat(s.toFixed(2),"ms"):null,value:s!=null?s:null,category:"aggregate"}]},Dbt=()=>{var a;const t=Of(),e=m_e();if(!t||!e)return{stats:[],targetLatencyData:[]};const n=t[e],r=(a=n==null?void 0:n.data)!=null?a:[];return{stats:Aee(r),targetLatencyData:r}},C_e=(t,e,n,r)=>{Rf.setState(s=>{const a={focusedNodeId:t},i={status:"active",data:[],model:e,serverRequestId:n,preflightTime:r};return P(C({},s),{activeNodeId:t,ui:a,messagesDevData:P(C({},s.messagesDevData),{[t]:i})})})},__e=(t,e,n)=>{const r=n==null?void 0:n.search_source;Rf.setState(s=>{var i;const a=s.messagesDevData[t];return P(C({},s),{activeNodeId:t,messagesDevData:P(C({},s.messagesDevData),{[t]:P(C({},a),{data:[...(i=a==null?void 0:a.data)!=null?i:[],e],searchSource:r})})})})},ao=(t,e)=>{var n;return(n=e.find(r=>r.id===t))==null?void 0:n.value},w_e=t=>{var c;if(!Et(gr()))return;const n=Of()[t],r=Aee(n.data),{preflightTime:s,model:a,serverRequestId:i,searchSource:l}=n;return ue.safePost("/lat/r",{requestBody:{server_request_id:i,model:a,preflight_time_ms:s,search_source:l,count_tokens:(c=ao(ja.TokenCount,r))!=null?c:0,ts_first_token_ms:ao(ja.FirstTokenLatency,r),ts_max_token_time_ms:ao(ja.MaxTokenLatency,r),ts_mean_token_without_first_ms:ao(ja.MeanTokenLatency,r),ts_median_token_without_first_ms:ao(ja.MedianTokenLatency,r),ts_min_token_time_ms:ao(ja.MinTokenLatency,r),ts_p95_token_without_first_ms:ao(ja.P95TokenLatency,r),ts_p99_token_without_first_ms:ao(ja.P99TokenLatency,r),ts_std_dev_token_ms:ao(ja.StdDevTokenLatency,r),ts_total_request_ms:ao(ja.TotalRequestTime,r)}})},S_e=t=>Rf.setState(e=>{const n=P(C({},e.messagesDevData[t]),{status:"finished"});return P(C({},e),{messagesDevData:P(C({},e.messagesDevData),{[t]:n})})}),Fbt=t=>Rf.setState(e=>P(C({},e),{ui:P(C({},e.ui),{focusedNodeId:t})}));class k_e{constructor(e,n){Q(this,"requestLastTokenTime");Q(this,"requestCount",0);Q(this,"requestTimes",[]);this.requestLatencyId=e,this.requestStartTime=n,this.requestLastTokenTime=n}onResponse(e,n,r){const s=performance.now(),a=s-this.requestLastTokenTime,i=s-this.requestStartTime;this.requestLastTokenTime=s,this.requestCount+=1;const l={requestCount:this.requestCount,requestDuration:i,lastTokenDuration:Number(JSON.stringify(a)),messageType:n.content.content_type,content:_u(n)?Ka(n):""};this.requestTimes.push(l),e.type==="message"?__e(this.requestLatencyId,l,n.metadata):e.type==="done"&&r!=null&&(S_e(this.requestLatencyId),w_e(this.requestLatencyId))}}const Pee=(t,e)=>{const{isCompletion:n,messageId:r,conversationId:s,flagged:a,blocked:i,disclaimers:l,metadata:c,shouldDisableConversation:u}=t,d=!!(l!=null&&l.length);Fe(e,f=>{vn.updateTree(f,m=>{var y,x;const p=m.messageIdToNodeId(r);i&&m.clearNodeMessageParts(p);const h=i,v=(y=c==null?void 0:c.safety_limited)!=null?y:!1;m.updateNodeMetadata(p,P(C(C(C(C({},(x=d&&!!(l!=null&&l.length)&&Z0e(l,i))!=null?x:{}),a&&W0e),i&&G0e({isSafetyLimited:v,shouldDisableConversation:u,isModelIncompatibility:h})),u&&z0e),{completionSampleFinishTime:Date.now()}))})}),B.logEvent(n?i?"Moderation: Completion Content Blocked":"Moderation: Completion Content Flagged":i?"Moderation: Prompt Content Blocked":"Moderation: Prompt Content Flagged",{threadId:s,id:r})},rL={base_config:void 0,eval_preset:void 0,sonicberry_model_ids:void 0,settings_overrides:void 0,dump_sub_conversation:void 0};Rt(t=>({settings:V0(),setSettings:e=>{t({settings:e}),or.setCookie(ir.InternalSearchSettings,JSON.stringify(e),{maxAge:2*365*24*60*60})}}));function V0(){let t;try{const e=or.getCookie(ir.InternalSearchSettings);t=e?JSON.parse(e):rL}catch(e){t=rL}return K0e(t,e=>!!e)}const Iee=(t=gr(),e=!1)=>{var n;return Et(t)?((n=yt(t))==null?void 0:n.planType)===Re.FREE?ze(t,"3178812292",{disableExposureLog:e}):ze(t,"3703416703",{disableExposureLog:e}):ze(t,"2861477803",{disableExposureLog:e})},M_e=(t=gr())=>{const e=yf().fConversationEndpoint;return e==="convo2"?!0:e==="convo1"?!1:ie(t,"4154476537")?!0:Iee(t,!0).get("use_f_prepare",!1)},_5=(t=gr(),e=!1)=>{const n=yf().fConversationEndpoint;return n==="convo2"?!0:n==="convo1"?!1:ie(t,"4154476537")?!0:Iee(t,e).get("use_f_convo",!1)},E_e=()=>{var t;return(t=V0().fast_search)!=null?t:!1},Lee=(t=gr())=>ie(t,"2881402514");function sL(t,e){pM.setState(n=>{const r=n.threads[t];if(r)r.prepareRequestBlocked=e,e||(r.lastCompletionFinishedTimestamp=performance.now());else{const s=kt(t);if(s){const a=n.threads[s];a&&(a.prepareRequestBlocked=e,e||(a.lastCompletionFinishedTimestamp=performance.now()))}}})}const W1="starredConversations",th=5,rs="snorlaxConversations";var _Z;const j_e=Ge.div(_Z||(_Z=qe(["text-sm text-red-500"]))),T_e=5,N_e=25,A_e=40,Gm=t=>{switch(t){case Re.FREE:return T_e;case Re.GO:case Re.PLUS:case Re.EDUCATION_CBP:case Re.QUORUM:case Re.DEPRECATED_EDU:return N_e;case Re.DEPRECATED_ENTERPRISE:case Re.PRO:case Re.SELF_SERVE_BUSINESS:case Re.ENTERPRISE_CBP:return A_e}};function P_e({accountPlanType:t,numFiles:e}){return!t||![Re.FREE,Re.GO,Re.PLUS].includes(t)?!1:e>=Gm(t)}const nh=28,oa="conversationHistory",aL="conversation-history",I_e=1,w5=va(()=>nt([]));function L_e(t,e,n){if(!ie(t,"1753085879"))return;w5(t).set(s=>{const a=s.findIndex(i=>i.conversationId===e);if(a!==-1){const i=s.slice();return i[a]=P(C({},i[a]),{title:n}),i}return[{conversationId:e,title:n},...s]})}function Z1(){return eM({queryKey:[oa],queryFn:async({pageParam:t})=>{const e=await ue.safeGet("/conversations",{parameters:{query:{offset:t,limit:nh,order:"updated",is_archived:!1,is_starred:!1}},intercomEventOnError:"fetch-error:conversations:get",authOption:qt.SendIfAvailable});return ve.addFirstTiming("load.conversationHistory"),M6(()=>{const n=w5(gr()),r=ic(()=>n());for(const s of e.items){if(s.async_status!=null){const a=cr(gr(),s.id);Tee(a,{source:Cr.SERVER,value:s.async_status})}r.some(a=>a.conversationId===s.id)&&n.set(a=>a.filter(i=>i.conversationId!==s.id))}}),e},initialPageParam:0,getNextPageParam:t=>{var n,r,s;const e=((n=t.offset)!=null?n:0)+((r=t.limit)!=null?r:0);return e<((s=t.total)!=null?s:0)?e:void 0}})}function S5(t){"use forget";var W,K;const e=ee.c(41);let n;e[0]!==t?(n=t===void 0?{}:t,e[0]=t,e[1]=n):n=e[1];const r=n,{buckets:s,recentConversationLimit:a}=r,i=zo(),l=(W=i==null?void 0:i.includes(I4e))!=null?W:!1,c=q(),u=yt(c),d=!l&&!!u,f=Z(),m=Qi();let p;e[2]!==c?(p=()=>w5(c)(),e[2]=c,e[3]=p):p=e[3];const h=at(p),v=m;let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=[oa],e[4]=y):y=e[4];const x=gM(aL,I_e,y);let b;e[5]===Symbol.for("react.memo_cache_sentinel")?(b=Z1(),e[5]=b):b=e[5];const _=v?"always":!0,w=v?"always":!0;let S;e[6]!==d||e[7]!==x||e[8]!==_||e[9]!==w?(S=P(C({},b),{enabled:d,refetchOnReconnect:_,refetchOnWindowFocus:w,placeholderData:x}),e[6]=d,e[7]=x,e[8]=_,e[9]=w,e[10]=S):S=e[10];const{data:k,fetchNextPage:M,hasNextPage:E,isLoading:T,isFetchingNextPage:j,isError:A,refetch:I}=ac(S);let L,O;e[11]!==c||e[12]!==A?(L=()=>{A&&J0e(c,aL)},O=[A,c],e[11]=c,e[12]=A,e[13]=L,e[14]=O):(L=e[13],O=e[14]),g.useEffect(L,O);let R,H;if(e[15]!==(k==null?void 0:k.pages)||e[16]!==h){const ne=(K=k==null?void 0:k.pages.flatMap(O_e))!=null?K:[];H=[...h.map(R_e).filter(le=>!ne.some(fe=>fe.id===le.id)),...ne],e[15]=k==null?void 0:k.pages,e[16]=h,e[17]=H}else H=e[17];R=H;const V=R;let z,$;e[18]!==V||e[19]!==a?($=V.slice(0,a!=null?a:5),e[18]=V,e[19]=a,e[20]=$):$=e[20];const D=$;let Y;e[21]!==f?(Y=f.formatMessage(Wm.historyBucketRecent),e[21]=f,e[22]=Y):Y=e[22];let G;e[23]!==D||e[24]!==Y?(G={key:"recents",label:Y,items:D},e[23]=D,e[24]=Y,e[25]=G):G=e[25],z=G;const F=z,X=D_e(V);let te;e[26]!==X||e[27]!==s||e[28]!==k?(te=!k||!s?[]:X,e[26]=X,e[27]=s,e[28]=k,e[29]=te):te=e[29];const ae=te;let me;return e[30]!==V||e[31]!==k||e[32]!==M||e[33]!==E||e[34]!==A||e[35]!==j||e[36]!==T||e[37]!==F||e[38]!==I||e[39]!==ae?(me={buckets:ae,conversations:V,data:k,fetchNextPage:M,hasNextPage:E,refetch:I,recents:F,isLoading:T,isFetchingNextPage:j,isError:A},e[30]=V,e[31]=k,e[32]=M,e[33]=E,e[34]=A,e[35]=j,e[36]=T,e[37]=F,e[38]=I,e[39]=ae,e[40]=me):me=e[40],me}function R_e(t){return{id:t.conversationId,title:t.title}}function O_e(t){return t.items}function D_e(t){"use forget";const e=ee.c(3),n=Z();let r,s;if(e[0]!==t||e[1]!==n){const i=H_e(t,n);s=[i.recent,i.dynamicMonths,i.dynamicYears].flatMap(B_e).filter(F_e),e[0]=t,e[1]=n,e[2]=s}else s=e[2];return r=s,r}function F_e(t){return t.items.length>0}function B_e(t){return Object.entries(t).map(U_e)}function U_e(t,e){const[n,r]=t,{items:s,label:a}=r;return{key:"".concat(n,"-").concat(e),label:a,items:s}}function H_e(t,e){return t.reduce((n,r)=>{var i,l;const s=new Date((l=(i=r.update_time)!=null?i:r.create_time)!=null?l:0),a=hM(new Date,s);if(a===0)n.recent.today.items.push(r);else if(a<=1)n.recent.yesterday.items.push(r);else if(a<=7)n.recent.lastSeven.items.push(r);else if(a<=30)n.recent.lastThirty.items.push(r);else if(Y0e(s)){const c=_P(s),u=Q0e(s),d="".concat(c,"-").concat(u);n.dynamicMonths[d]?n.dynamicMonths[d].items.push(r):n.dynamicMonths[d]={label:e.formatDate(s,{month:"long"}),items:[r]}}else{const c=_P(s),u="".concat(c,"-");n.dynamicYears[u]?n.dynamicYears[u].items.push(r):n.dynamicYears[u]={label:e.formatDate(s,{year:"numeric"}),items:[r]}}return n},{recent:{today:{label:e.formatMessage(Wm.historyBucketToday),items:[]},yesterday:{label:e.formatMessage(Wm.historyBucketYesterday),items:[]},lastSeven:{label:e.formatMessage(Wm.historyBucketLastSeven),items:[]},lastThirty:{label:e.formatMessage(Wm.historyBucketLastThirty),items:[]}},dynamicMonths:{},dynamicYears:{}})}function os(t,e){t.invalidateQueries({queryKey:[oa]}),t.invalidateQueries({queryKey:[W1]}),e?t.invalidateQueries({queryKey:[rs,{gizmoId:e}]}):t.invalidateQueries({queryKey:[rs]})}function V_e(t,e){e&&ko(e)&&t.invalidateQueries({queryKey:[rs,{gizmoId:e}]})}function $_e(t,e,n){lc(t).setQueryData(Z1().queryKey,r=>{if(r!==void 0){if(!Array.isArray(r.pages)){ve.addError("Bad conversation history",{pages:r.pages});return}return k6(r,s=>{for(const a of s.pages)for(const i of a.items)i.id===e&&(i.title=n)})}})}const Wm=pe({historyBucketRecent:{id:"history.bucket.recent",defaultMessage:"Recent"},historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}});function q_e(t){window.history.pushState({},"",t)}function k5(t,e,n,r){Fe(e,s=>{s.title=n,s.titleSource=r}),Rl.publish({kind:"updateThreadTitle",conversationId:e}),$_e(t,e,n)}function z_e(t,e,n){const s=se.getCurrentNode(st(e)).message.id;ue.safePost("/conversation/gen_title/{conversation_id}",{parameters:{path:{conversation_id:e}},requestBody:{message_id:s},intercomEventOnError:"fetch-error:conversation:generate-title",authOption:qt.SendIfAvailable}).then(({title:a})=>{const i=se.getGizmoId(st(e));k5(t,e,a,y0.Generated),os(lc(t),i),B.logEvent("Rename Thread",{threadId:e,content:a,model:n})})}function HE(t,e,n,r,s){const a=se.getGizmoId(st(n));a!=null?X0e(e,a).then(i=>{if(r){t(_i(n,i));return}q_e(_i(n,i))}).catch(i=>{ve.addError(i),t(_i(n))}):t(_i(n))}var uo=(t=>(t.Unavailable="unavailable",t.Thinking="thinking",t.Generating="generating",t.AsyncGenerating="async_generating",t.AsyncHanging="async_hanging",t.Complete="complete",t.Errored="errored",t.Empty="empty",t))(uo||{});const G_e=["generating","async_generating","async_hanging","thinking"],W_e="sj1i4kz",mu="".concat(vs.T2UAY3K,".").concat(W_e);function M5(t){return t.author.role==="tool"&&t.author.name===mu&&t.content.content_type===rt.MultimodalText}function Z_e(t,{skipSort:e}={skipSort:!1}){let n=t.filter(a=>{var i;return M5(a)&&!((i=a.metadata)!=null&&i.is_visually_hidden_from_conversation)});e||(n=[...n].sort((a,i)=>{var l,c,u,d;return((c=(l=a.metadata)==null?void 0:l.generation_index)!=null?c:0)-((d=(u=i.metadata)==null?void 0:u.generation_index)!=null?d:0)}));const r=n.flatMap(a=>Io.getImageAssetPointers(a)),s=n.map(a=>a.id);return{imageAssetPointers:r,messageIds:s}}const Ree=(t,e)=>{var v,y,x,b,_;const n=t.find(w=>{var S;return w.author.role===Ue.Tool&&[rt.Error,rt.SystemError].includes(w.content.content_type)||((S=w.metadata)==null?void 0:S.is_error)}),{imageAssetPointers:r}=Z_e(t),s=r.length>0,i=t.some(w=>M5(w))&&!s,l=t.some(w=>{var E,T;if((E=w.metadata)!=null&&E.image_gen_async)return!1;const S=w.author.name===vs.IMAGE_GEN_HALLUCINATED||w.author.name===mu,k=w.content.content_type===rt.Text,M=!!((T=w.metadata)!=null&&T.is_visually_hidden_from_conversation);return S&&k&&M}),c=t.length>0&&!!((y=(v=t[t.length-1])==null?void 0:v.metadata)!=null&&y.image_gen_async),d=!t.some(w=>{var S;return[mu,vs.IMAGE_GEN_HALLUCINATED].includes((S=w.author.name)!=null?S:"")&&w.content.content_type===rt.MultimodalText})&&t.some(w=>{var M;const S=[mu,vs.IMAGE_GEN_HALLUCINATED].includes((M=w.author.name)!=null?M:""),k=w.recipient==="assistant";return S&&k});let f=0;for(const w of r){const S=w.height,k=(_=(b=(x=w.metadata)==null?void 0:x.generation)==null?void 0:b.height)!=null?_:void 0;f+=S!==void 0&&k!==void 0?k/S:0}const m=r.length>0?f/r.length:0,p=n!==void 0,h=e?uo.AsyncGenerating:uo.AsyncHanging;if(i||l||d)return uo.Empty;if(p)return uo.Errored;if(m){if(m<1)return c?h:uo.Generating;if(m===1)return uo.Complete}else return c?h:uo.Thinking;return uo.Unavailable},K_e=t=>Ree([t],!0)===uo.Complete,Y_e=t=>t.author.role===Ue.Assistant&&t.recipient===mu;function Q_e(t){return(t.author.name===mu||Y_e(t))&&G_e.includes(Ree([t],!0))}const J_e=["notificationSettings"];class X_e{static async getOrCreateSubscription({endpoint:e,p256dh:n,auth:r}){return ue.safePost("/notifications/subscription/register",{requestBody:{platform:"web",web_metadata:{endpoint:e,p256dh:n},token:r}})}static async getSettings(){return ue.safeGet("/notifications/settings")}static async updateSettings(e){const s=e,{category:n}=s,r=de(s,["category"]);return ue.safePatch("/notifications/settings",{requestBody:{updates:{[n]:r}}})}}const ewe=1e4,VE=Rt(Sn(()=>({notifications:[]}))),rh=t=>{var r;const e=crypto.randomUUID();VE.setState(s=>{s.notifications.push(P(C({},t),{id:e}))});const n=(r=t.timeout)!=null?r:ewe;setTimeout(()=>{$E(e)},n)},$E=t=>{VE.setState(e=>{e.notifications=e.notifications.filter(n=>n.id!==t)})},Bbt=({onSuccess:t,alwaysRefetchOnMount:e=!1})=>ut({queryKey:J_e,queryFn:async()=>{const r=(await X_e.getSettings()).settings;return t==null||t(r),r},refetchOnMount:e?"always":!0});function twe(t,e){if(t.length<=e)return t;const n=t.slice(0,Math.min(t.length,e+20)),r=n.lastIndexOf("."),s=n.lastIndexOf("!"),a=n.lastIndexOf("?"),i=Math.max(r,s,a);if(i>0&&i<=e&&i>=Math.floor(e*.4))return t.slice(0,i+1).trim()+"â¦";const l=t.lastIndexOf(" ",e);return l>Math.floor(e*.25)?t.slice(0,l).trim()+"â¦":t.slice(0,e).trim()+"â¦"}function nwe(t,e){return e&&((t==null?void 0:t.kind)===At.GizmoInteraction||(t==null?void 0:t.kind)===At.PrimaryAssistant)?{gizmo_id:e,kind:At.GizmoInteraction}:t}function rwe(t){return t==null||[At.PrimaryAssistant,At.GizmoInteraction].includes(t.kind)}function Oee(t,e){"use forget";const n=ee.c(5);let r;n[0]!==e?(r=i=>nwe(i==null?void 0:i.mode,e),n[0]=e,n[1]=r):r=n[1];const s=Te(t,r),{data:a}=Ya(s!=null&&"gizmo_id"in s?s.gizmo_id:void 0,(s==null?void 0:s.kind)===At.GizmoTest);if(s!=null)switch(s.kind){case At.GizmoInteraction:case At.GizmoMagicCreate:case At.GizmoTest:{let i;return n[2]!==s||n[3]!==a?(i=C({gizmo:a},s),n[2]=s,n[3]=a,n[4]=i):i=n[4],i}case At.FlyingCircusCustomization:case At.PrimaryAssistant:return s}}const sh=Rt(Sn(()=>null)),wi={updateDetails:t=>{["beacon_banner_info","beacon_modal_info"].includes(t.ui_info.type)&&sh.setState(()=>C({},t),!0)},dismiss:()=>{sh.setState(()=>null,!0)}};function Dee(){return sh(t=>(t==null?void 0:t.ui_info.type)==="beacon_banner_info"?t:null)}function swe(){return sh(t=>(t==null?void 0:t.ui_info.type)==="beacon_modal_info"?t:null)}const awe=t=>{const e=Object.entries(t.mapping).find(([n])=>n==="");if(e!==void 0){const n=Xc(t),[,r]=e,s=r.children;n.mapping["client-created-root"]=P(C({},r),{id:"client-created-root"}),delete n.mapping[""];for(const a of s)n.mapping[a].parent="client-created-root";return n}return t},Ubt=t=>(t.parent_message_id==="client-created-root"&&delete t.parent_message_id,t),qE={};function Hbt(t,e){qE[t]=e}function owe(t){var e;return(e=qE[t])!=null?e:null}function Fee(t){return t in qE}async function fa(t,e={}){const n=owe(t),r=e.projectId&&e.ownerUserId?{"chatgpt-project-id":e.projectId,"chatgpt-conv-owner-id":e.ownerUserId}:void 0,s=n!=null?n:await ue.safeGet("/conversation/{conversation_id}",C({parameters:{path:{conversation_id:t}},intercomEventOnError:"fetch-error:conversations:get",authOption:qt.SendIfAvailable},r?{additionalHeaders:r}:{}));n||ve.addTiming("chatgpt.web.chatPage.loadExistingConversation");const a=awe(s);return da.updateThreadFromServer(t,a,{skipIfExisting:e==null?void 0:e.skipIfExisting}),ns(a.conversation_id,a.async_status?{source:Cr.SERVER,value:a.async_status}:null),a}const E5=s=>{var a=s,{clientThreadId:t,alwaysForceUpdate:e=!1,onError:n}=a,r=de(a,["clientThreadId","alwaysForceUpdate","onError"]);return Ho({queryKey:["conversation",t],queryFn:()=>fa(t,P(C({},r),{skipIfExisting:!e})).catch(i=>{throw n==null||n(i),i})})},iwe=/#/g,lwe=/&/g,cwe=/\//g,uwe=/=/g,zE=/\+/g,dwe=/%5e/gi,fwe=/%60/gi,mwe=/%7c/gi,pwe=/%20/gi;function gwe(t){return encodeURI(""+t).replace(mwe,"|")}function Qw(t){return gwe(typeof t=="string"?t:JSON.stringify(t)).replace(zE,"%2B").replace(pwe,"+").replace(iwe,"%23").replace(lwe,"%26").replace(fwe,"`").replace(dwe,"^").replace(cwe,"%2F")}function Y7(t){return Qw(t).replace(uwe,"%3D")}function Bee(t=""){try{return decodeURIComponent(""+t)}catch(e){return""+t}}function hwe(t){return Bee(t.replace(zE," "))}function vwe(t){return Bee(t.replace(zE," "))}function ywe(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=hwe(r[1]);if(s==="__proto__"||s==="constructor")continue;const a=vwe(r[2]||"");e[s]===void 0?e[s]=a:Array.isArray(e[s])?e[s].push(a):e[s]=[e[s],a]}return e}function xwe(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>"".concat(Y7(t),"=").concat(Qw(n))).join("&"):"".concat(Y7(t),"=").concat(Qw(e)):Y7(t)}function bwe(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>xwe(e,t[e])).filter(Boolean).join("&")}const Cwe=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,_we=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,wwe=/^([/\\]\s*){2,}[^/\\]/;function Swe(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Cwe.test(t):_we.test(t)||(e.acceptRelative?wwe.test(t):!1)}function kwe(t,e){const n=Mwe(t),r=C(C({},ywe(n.search)),e);return n.search=bwe(r),Ewe(n)}const Uee=Symbol.for("ufo:protocolRelative");function Mwe(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,f,m=""]=n;return{protocol:f.toLowerCase(),pathname:m,href:f+m,auth:"",host:"",search:"",hash:""}}if(!Swe(t,{acceptRelative:!0}))return oL(t);const[,r="",s,a=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,i="",l=""]=a.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:u,hash:d}=oL(l);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:i,pathname:c,search:u,hash:d,[Uee]:!r}}function oL(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function Ewe(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",s=t.auth?t.auth+"@":"",a=t.host||"";return(t.protocol||t[Uee]?(t.protocol||"")+"//":"")+s+a+e+n+r}var W3={exports:{}},Z3={exports:{}},iL;function GE(){return iL||(iL=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r==null)throw new TypeError("Expected a string but received a ".concat(r));if(r.constructor.name!=="String")throw new TypeError("Expected a string but received a ".concat(r.constructor.name))}t.exports=e.default,t.exports.default=e.default}(Z3,Z3.exports)),Z3.exports}var K3={exports:{}},lL;function jwe(){return lL||(lL=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function n(s){return Object.prototype.toString.call(s)==="[object RegExp]"}function r(s,a){for(var i=0;i<a.length;i++){var l=a[i];if(s===l||n(l)&&l.test(s))return!0}return!1}t.exports=e.default,t.exports.default=e.default}(K3,K3.exports)),K3.exports}var Y3={exports:{}},cL;function Twe(){return cL||(cL=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(s,a){return s.indexOf(a)!==-1};e.default=n,t.exports=e.default,t.exports.default=e.default}(Y3,Y3.exports)),Y3.exports}var Q3={exports:{}},J3={exports:{}},uL;function Hee(){return uL||(uL=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;for(var a in s)typeof r[a]>"u"&&(r[a]=s[a]);return r}t.exports=e.default,t.exports.default=e.default}(J3,J3.exports)),J3.exports}var dL;function Nwe(){return dL||(dL=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var n=s(GE()),r=s(Hee());function s(l){return l&&l.__esModule?l:{default:l}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};function i(l,c){(0,n.default)(l),c=(0,r.default)(c,a),c.allow_trailing_dot&&l[l.length-1]==="."&&(l=l.substring(0,l.length-1)),c.allow_wildcard===!0&&l.indexOf("*.")===0&&(l=l.substring(2));var u=l.split("."),d=u[u.length-1];return c.require_tld&&(u.length<2||!c.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(d)||/\s/.test(d))||!c.allow_numeric_tld&&/^\d+$/.test(d)?!1:u.every(function(f){return!(f.length>63&&!c.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(f)||/[\uff01-\uff5e]/.test(f)||/^-|-$/.test(f)||!c.allow_underscores&&/_/.test(f))})}t.exports=e.default,t.exports.default=e.default}(Q3,Q3.exports)),Q3.exports}var X3={exports:{}},fL;function Awe(){return fL||(fL=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var n=r(GE());function r(f){return f&&f.__esModule?f:{default:f}}function s(f){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(f)}var a="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i="(".concat(a,"[.]){3}").concat(a),l=new RegExp("^".concat(i,"$")),c="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(c,":){7}(?:").concat(c,"|:)|")+"(?:".concat(c,":){6}(?:").concat(i,"|:").concat(c,"|:)|")+"(?:".concat(c,":){5}(?::").concat(i,"|(:").concat(c,"){1,2}|:)|")+"(?:".concat(c,":){4}(?:(:").concat(c,"){0,1}:").concat(i,"|(:").concat(c,"){1,3}|:)|")+"(?:".concat(c,":){3}(?:(:").concat(c,"){0,2}:").concat(i,"|(:").concat(c,"){1,4}|:)|")+"(?:".concat(c,":){2}(?:(:").concat(c,"){0,3}:").concat(i,"|(:").concat(c,"){1,5}|:)|")+"(?:".concat(c,":){1}(?:(:").concat(c,"){0,4}:").concat(i,"|(:").concat(c,"){1,6}|:)|")+"(?::((?::".concat(c,"){0,5}:").concat(i,"|(?::").concat(c,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");function d(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(0,n.default)(f);var p=(s(m)==="object"?m.version:arguments[1])||"";return p?p.toString()==="4"?l.test(f):p.toString()==="6"?u.test(f):!1:d(f,{version:4})||d(f,{version:6})}t.exports=e.default,t.exports.default=e.default}(X3,X3.exports)),X3.exports}var mL;function Pwe(){return mL||(mL=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=x;var n=c(GE()),r=c(jwe()),s=c(Twe()),a=c(Nwe()),i=c(Awe()),l=c(Hee());function c(b){return b&&b.__esModule?b:{default:b}}function u(b,_){return h(b)||p(b,_)||f(b,_)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(b,_){if(b){if(typeof b=="string")return m(b,_);var w={}.toString.call(b).slice(8,-1);return w==="Object"&&b.constructor&&(w=b.constructor.name),w==="Map"||w==="Set"?Array.from(b):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?m(b,_):void 0}}function m(b,_){(_==null||_>b.length)&&(_=b.length);for(var w=0,S=Array(_);w<_;w++)S[w]=b[w];return S}function p(b,_){var w=b==null?null:typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(w!=null){var S,k,M,E,T=[],j=!0,A=!1;try{if(M=(w=w.call(b)).next,_!==0)for(;!(j=(S=M.call(w)).done)&&(T.push(S.value),T.length!==_);j=!0);}catch(I){A=!0,k=I}finally{try{if(!j&&w.return!=null&&(E=w.return(),Object(E)!==E))return}finally{if(A)throw k}}return T}}function h(b){if(Array.isArray(b))return b}var v={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0,max_allowed_length:2084},y=/^\[([^\]]+)\](?::([0-9]+))?$/;function x(b,_){if((0,n.default)(b),!b||/[\s<>]/.test(b)||b.indexOf("mailto:")===0||(_=(0,l.default)(_,v),_.validate_length&&b.length>_.max_allowed_length)||!_.allow_fragments&&(0,s.default)(b,"#")||!_.allow_query_components&&((0,s.default)(b,"?")||(0,s.default)(b,"&")))return!1;var w,S,k,M,E,T,j,A;if(j=b.split("#"),b=j.shift(),j=b.split("?"),b=j.shift(),j=b.split("://"),j.length>1){if(w=j.shift().toLowerCase(),_.require_valid_protocol&&_.protocols.indexOf(w)===-1)return!1}else{if(_.require_protocol)return!1;if(b.slice(0,2)==="//"){if(!_.allow_protocol_relative_urls)return!1;j[0]=b.slice(2)}}if(b=j.join("://"),b==="")return!1;if(j=b.split("/"),b=j.shift(),b===""&&!_.require_host)return!0;if(j=b.split("@"),j.length>1){if(_.disallow_auth||j[0]===""||(S=j.shift(),S.indexOf(":")>=0&&S.split(":").length>2))return!1;var I=S.split(":"),L=u(I,2),O=L[0],R=L[1];if(O===""&&R==="")return!1}M=j.join("@"),T=null,A=null;var H=M.match(y);if(H?(k="",A=H[1],T=H[2]||null):(j=M.split(":"),k=j.shift(),j.length&&(T=j.join(":"))),T!==null&&T.length>0){if(E=parseInt(T,10),!/^[0-9]+$/.test(T)||E<=0||E>65535)return!1}else if(_.require_port)return!1;return _.host_whitelist?(0,r.default)(k,_.host_whitelist):k===""&&!_.require_host?!0:!(!(0,i.default)(k)&&!(0,a.default)(k,_)&&(!A||!(0,i.default)(A,6))||(k=k||A,_.host_blacklist&&(0,r.default)(k,_.host_blacklist)))}t.exports=e.default,t.exports.default=e.default}(W3,W3.exports)),W3.exports}var Iwe=Pwe();const Lwe=St(Iwe);function WE(t){return(t.type==="containerDirective"||t.type==="textDirective"||t.type==="leafDirective")&&"name"in t}function Rwe(t){if(t!=null)return new Date(t*1e3).toISOString()}const Owe=t=>{let e=5381;for(let n=0;n<t.length;n++)e=(e<<5)+e^t.charCodeAt(n);return(e>>>0).toString(36)},Dwe=t=>{try{return"".concat(t?Owe(t):"")}catch(e){return""}},Fwe=window.location.host,Bwe=(t,e={})=>{const n=Object.keys(e).length?e:{utm_source:Fwe};try{const r=t.trim();return Lwe(r,{protocols:["http","https"]})?kwe(r,n):t}catch(r){return t}},Vbt=(t,e={},n=[])=>{const r=wP(t);return n.some(a=>a&&wP(a)===r)?Bwe(t,e):t},$bt=t=>{try{return se.getConversationSearchEntryUrls(t&&st(t))}catch(e){return[]}},qbt=(t,e)=>{try{return t&&e?se.getNode(st(t),e).message:void 0}catch(n){return}},$0=function(t){if(t==null)return $we;if(typeof t=="function")return j5(t);if(typeof t=="object")return Array.isArray(t)?Uwe(t):Hwe(t);if(typeof t=="string")return Vwe(t);throw new Error("Expected function, string, or object as test")};function Uwe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=$0(t[n]);return j5(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function Hwe(t){const e=t;return j5(n);function n(r){const s=r;let a;for(a in t)if(s[a]!==e[a])return!1;return!0}}function Vwe(t){return j5(e);function e(n){return n&&n.type===t}}function j5(t){return e;function e(n,r,s){return!!(qwe(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function $we(){return!0}function qwe(t){return t!==null&&typeof t=="object"&&"type"in t}const Vee=[],zwe=!0,Jw=!1,Gwe="skip";function ZE(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const a=$0(s),i=r?-1:1;l(t,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return m;function m(){let p=Vee,h,v,y;if((!e||a(c,u,d[d.length-1]||void 0))&&(p=Wwe(n(c,d)),p[0]===Jw))return p;if("children"in c&&c.children){const x=c;if(x.children&&p[0]!==Gwe)for(v=(r?x.children.length:-1)+i,y=d.concat(x);v>-1&&v<x.children.length;){const b=x.children[v];if(h=l(b,v,y)(),h[0]===Jw)return h;v=typeof h[1]=="number"?h[1]:v+i}}return p}}}function Wwe(t){return Array.isArray(t)?t:typeof t=="number"?[zwe,t]:t==null?Vee:[t]}function Qu(t,e,n,r){let s,a,i;typeof e=="function"&&typeof n!="function"?(a=void 0,i=e,s=n):(a=e,i=n,s=r),ZE(t,a,l,s);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return i(c,f,d)}}const zbt="n7jupd_crefs",bi="agentCitation";function Zwe(t){return t.type!=="invalid"&&t.cite_key!=null}function Gbt(t,e){return e.forEach((n,r)=>{n.start_idx!=null&&n.end_idx!=null?(t=t.replace(eSe(n),(s,a)=>" :".concat(bi,"{").concat(w1(r,a),"}\n")),t=t.replace(Jwe(n),(s,a)=>" :".concat(bi,"{").concat(w1(r,a),"}")),t=t.replace(Ywe(n)," :".concat(bi,"{").concat(w1(r),"}"))):Zwe(n)&&(t=t.replace(Xwe(n),(s,a)=>" :".concat(bi,"{").concat(w1(r,a),"}\n")),t=t.replace(Qwe(n),(s,a)=>" :".concat(bi,"{").concat(w1(r,a),"}")),t=t.replace(Kwe(n)," :".concat(bi,"{").concat(w1(r),"}")))}),t}function Wbt(){return t=>{Qu(t,e=>{var n;!WE(e)||e.name!==bi||(e.data=(n=e.data)!=null?n:{},e.data.hName=bi,e.data.hProperties=P(C({},e.attributes),{nodeType:e.type}))})}}function Kwe(t){return new RegExp("{{".concat(t.type,":").concat(t.cite_key,"}}\\.?"))}function Ywe(t){return new RegExp("".concat(t.matched_text,"\\.?"))}function Qwe(t){return new RegExp("\\[([^\\]]+)\\]\\(\\{\\{"+t.type+":"+t.cite_key+"\\}\\}\\)\\.?","g")}function Jwe(t){return new RegExp("\\[([^\\]]+)\\]\\("+t.matched_text+"\\)\\.?","g")}function Xwe(t){return new RegExp("\\!\\[([^\\]]+)\\]\\(\\{\\{"+t.type+":"+t.cite_key+"\\}\\}\\)\\.?","g")}function eSe(t){return new RegExp("\\!\\[([^\\]]+)\\]\\("+t.matched_text+"\\)\\.?","g")}function w1(t,e){const n={citationIndex:t.toString()};return e&&(n.label=e),Object.entries(n).map(([r,s])=>"".concat(r,"='").concat(s,"'")).join(" ")}const tSe=g.createContext(void 0),T5=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.07715 11.7168C9.31399 11.1993 10.4531 11.1663 11.6777 11.6191L11.9238 11.7168L12.042 11.7812C12.2973 11.9555 12.4042 12.2906 12.2803 12.5869C12.1562 12.8832 11.8424 13.0421 11.5391 12.9824L11.4102 12.9434L11.2266 12.8711C10.3144 12.5309 9.5197 12.5548 8.59082 12.9434C8.25208 13.0851 7.86156 12.9256 7.71973 12.5869C7.57799 12.2481 7.73836 11.8586 8.07715 11.7168Z"}),g.createElement("path",{d:"M7.08301 7.08301C7.77326 7.08301 8.33284 7.64279 8.33301 8.33301C8.33301 9.02336 7.77336 9.58301 7.08301 9.58301C6.39282 9.58281 5.83301 9.02324 5.83301 8.33301C5.83317 7.64291 6.39292 7.08321 7.08301 7.08301Z"}),g.createElement("path",{d:"M12.917 7.08301C13.6071 7.08321 14.1668 7.64291 14.167 8.33301C14.167 9.02324 13.6072 9.58281 12.917 9.58301C12.2266 9.58301 11.667 9.02336 11.667 8.33301C11.6672 7.64279 12.2267 7.08301 12.917 7.08301Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.83496C10.3673 1.83496 10.665 2.13273 10.665 2.5V3.08496H13.084C13.7728 3.08496 14.3302 3.08432 14.7803 3.12109C15.2379 3.15854 15.644 3.23788 16.0205 3.42969L16.2383 3.55176C16.7341 3.85586 17.1378 4.29237 17.4033 4.81348L17.4707 4.95605C17.6149 5.29226 17.6792 5.65318 17.7119 6.05371C17.7392 6.38721 17.7442 6.7793 17.7461 7.24023C18.2408 7.48486 18.5819 7.99377 18.582 8.58301V9.83301C18.582 10.4249 18.2375 10.9351 17.7393 11.1787C17.7316 11.6246 17.7183 12.0205 17.6895 12.374C17.6368 13.018 17.5355 13.5674 17.3213 14.0664L17.2217 14.2773C16.7875 15.1292 16.1108 15.8317 15.2793 16.2979L15.1104 16.3887C14.5555 16.6713 13.9436 16.7963 13.208 16.8564C12.4799 16.9159 11.5726 16.915 10.417 16.915H9.58398C8.42845 16.915 7.52104 16.9159 6.79297 16.8564C6.14901 16.8038 5.59958 16.7015 5.10059 16.4873L4.88965 16.3887C3.98077 15.9255 3.24152 15.1862 2.77832 14.2773C2.49553 13.7223 2.37068 13.1099 2.31055 12.374C2.28166 12.0205 2.26719 11.6247 2.25977 11.1787C1.76193 10.935 1.41797 10.4246 1.41797 9.83301V8.58301C1.41809 7.99377 1.75916 7.48486 2.25391 7.24023C2.25555 6.77929 2.26084 6.38722 2.28809 6.05371C2.3255 5.59593 2.40488 5.19008 2.59668 4.81348C2.90012 4.21801 3.38499 3.7331 3.98047 3.42969C4.357 3.23799 4.76303 3.1585 5.2207 3.12109C5.67088 3.08434 6.22809 3.08496 6.91699 3.08496H9.33496V2.5C9.33496 2.13273 9.63273 1.83496 10 1.83496ZM6.91699 4.41504C6.20618 4.41504 5.71257 4.41596 5.3291 4.44727C4.95363 4.47795 4.74196 4.5348 4.58398 4.61523C4.23879 4.79113 3.95815 5.07182 3.78223 5.41699C3.70172 5.575 3.64496 5.78642 3.61426 6.16211C3.58292 6.54563 3.58203 7.03896 3.58203 7.75V9.58301C3.58203 10.7606 3.58269 11.6042 3.63672 12.2656C3.69012 12.9192 3.79255 13.3366 3.96387 13.6729C4.29959 14.3317 4.83531 14.8674 5.49414 15.2031L5.62402 15.2646C5.93806 15.3997 6.32958 15.4836 6.90137 15.5303C7.56272 15.5843 8.40657 15.585 9.58398 15.585H10.417C11.5946 15.585 12.4382 15.5843 13.0996 15.5303C13.753 15.4769 14.1706 15.3744 14.5068 15.2031L14.748 15.0684C15.2964 14.7319 15.7434 14.2493 16.0371 13.6729L16.0977 13.543C16.2328 13.2289 16.3175 12.8377 16.3643 12.2656C16.4183 11.6042 16.4189 10.7606 16.4189 9.58301V7.75C16.4189 7.03898 16.4181 6.54562 16.3867 6.16211C16.3637 5.88018 16.3259 5.69064 16.2744 5.54688L16.2188 5.41699C16.0648 5.11489 15.8304 4.86186 15.543 4.68555L15.417 4.61523C15.2591 4.53477 15.0472 4.47798 14.6719 4.44727C14.2885 4.41594 13.7947 4.41504 13.084 4.41504H6.91699Z"})),Zbt=Object.freeze(Object.defineProperty({__proto__:null,default:T5},Symbol.toStringTag,{value:"Module"}));var Zp=(t=>(t.Turn="turn",t.ImagesTab="images_tab",t.ProductDetails="product_details",t.SuperWidget="super_widget",t.ImageGroup="image_group",t))(Zp||{}),nSe=(t=>(t[t.FromLeft=-1]="FromLeft",t[t.FromRight=1]="FromRight",t))(nSe||{});class Ju extends Yi()(()=>({currentImage:void 0})){setCurrentImage(e){this.setState({currentImage:e})}static useCurrentImage(){return this.useState(e=>e.currentImage)}}function Kbt(t){"use forget";const e=ee.c(8),{clientThreadId:n,children:r}=t,[s]=g.useState(rSe);let a;e[0]!==s?(a=()=>{s.setCurrentImage(void 0)},e[0]=s,e[1]=a):a=e[1];let i;e[2]!==n||e[3]!==s?(i=[n,s],e[2]=n,e[3]=s,e[4]=i):i=e[4],g.useEffect(a,i);let l;return e[5]!==r||e[6]!==s?(l=o.jsx(Ju.Provider,{store:s,children:r}),e[5]=r,e[6]=s,e[7]=l):l=e[7],l}function rSe(){return new Ju}const $ee={width:1,height:1};function Ybt(t,e,n=$ee){if(!t||!e)return null;const{width:r,height:s}=e;if(r===0||s===0)return null;const a=r/s,i=n.width/n.height;if(Math.abs(a-i)<1e-6)return null;let l=50,c=50;const{center_x_percent:u,center_y_percent:d}=t;if(a>i){const f=a-i;l=(u*a-i/2)/f*100,l=Math.max(0,Math.min(100,l))}else{const f=1/a,m=1/i,p=f-m;c=(d*f-m/2)/p*100,c=Math.max(0,Math.min(100,c))}return"".concat(l.toFixed(1),"% ").concat(c.toFixed(1),"%")}const Qbt=60*60*24*30;function qee(t){var e;return((e=t.author.metadata)==null?void 0:e.real_author)===vM.ToolWeb}function Jbt(t,e){returnwindow.location.origin+"/search/evals/permalink/".concat(t,"/").concat(e)}function sSe(t){return Go(t.flatMap(e=>e.type==="image_v2"?e.images:[]))}function zee(t){const e={};return t.forEach(n=>{var r,s,a,i,l,c,u;if(n.type==="grouped_webpages")n.items.forEach(d=>{var m,p;if(!d.url)return;const f=e[d.url];f?"attribution_segments"in d&&"attribution_segments"in f&&(e[d.url]=P(C({},f),{attribution_segments:[...(m=f.attribution_segments)!=null?m:[],...(p=d.attribution_segments)!=null?p:[]]})):e[d.url]=C({},d)});else if(n.type==="webpage"||n.type==="webpage_extended")n.url&&(e[n.url]||(e[n.url]=n));else if(n.type==="image_inline"){const d=(s=n.clicked_from_url)!=null?s:(r=n.asset_pointer_links)==null?void 0:r[0];if(d){const f={type:"image_inline",url:d,title:(a=n.clicked_from_title)!=null?a:"Screenshot",snippet:"",attribution:"screenshot",asset_pointer_links:n.asset_pointer_links,clicked_from_url:n.clicked_from_url,clicked_from_title:n.clicked_from_title};e[d]=f}}else if(n.type==="file"){const d="file://".concat(n.source,"/").concat(n.id),f=(i=n.name)!=null?i:n.id,m=(c=(l=n.snippet)!=null?l:n.text)!=null?c:"",p=(u=n.source)!=null?u:"file";e[d]||(e[d]=P(C({},n),{title:f,url:d,snippet:m,attribution:p}))}else"cite_map"in n&&Object.values(n.cite_map).forEach(d=>{d&&d.url&&(e[d.url]||(e[d.url]=d))})}),Object.values(e)}class aSe{constructor(){Q(this,"loggedEvents",new Set)}logEvent(e,n,r){if(!this.loggedEvents.has(e)){const s=r!=null?r:window.performance.now();B.logEvent(e,C({timeMs:s},n)),this.loggedEvents.add(e)}}}const Xw=new aSe;var Gee=(t=>(t.SCALLION="scallion",t.SCALLION_RC="scallion-rc",t.SCALLION_RC0="scallion-rc0",t.SCALLION_RC1="scallion-rc1",t.SCALLION_RC2="scallion-rc2",t.CHIVE="chive",t.CHIVE_RC="chive-rc",t.CHIVE_RC0="chive-rc0",t.CHIVE_RC1="chive-rc1",t))(Gee||{});const Xbt=async({queryKey:t})=>{const[e,n]=t;if(n.length<2)return[];const r=new URLSearchParams({query_fragment:n});return la.get("".concat(xf,"/suggestions?").concat(r.toString())).then(s=>s.suggestions).catch(()=>[])};function oSe(t){var e;return{settings_overrides:{search_results:{search_engines:t.use_labrador?{bing:{}}:{bing:{ranking_model:null,rrf_alpha:1,rrf_input_threshold:0},labrador:null}},model_response:{enable_multimodal:t.show_image_to_model,completion_model:t.completion_model&&t.completion_model!=="production"?{model:t.completion_model,clip_model:"@mmapi",direct_connection_urls:[]}:{}}},base_config:(e=t.base_config)!=null?e:Gee.SCALLION,eval_preset:t.eval_preset}}async function eCt({threadId:t,threadUserId:e,routePrefix:n}){let r=xf;n&&(r=r+n);const s=new URL("".concat(r,"/threads/").concat(t,"/with_turns"));return e&&s.searchParams.append("thread_user_id",e),await la.get(s.toString())}async function tCt(t){const e=new FormData;return e.append("feedback",JSON.stringify({thread_id:t.threadId,turn_index:t.turnIndex,rating:t.rating,search_query:t.searchQuery,text:t.text,model_instructions:t.modelInstructions,tags:t.tags,user_email:t.userEmail})),t.screenshot&&e.append("file",new File([t.screenshot],"screenshot.jpeg",{type:"image/jpeg"})),la.post("".concat(xf,"/feedback/turns"),e)}async function iSe(t,e){return la.post("".concat(xf,"/threads/").concat(t,"/turns/").concat(e,"/images_try_hard"))}async function nCt(t){const e=new FormData;return t.screenshot&&e.append("file",new File([t.screenshot],"screenshot.jpeg",{type:"image/jpeg"})),e.append("feedback",JSON.stringify({thread_id:t.threadId,url:t.url,title:t.title,snippet:t.snippet,rating:t.rating,search_query:t.searchQuery,text:t.text,tags:t.tags,user_email:t.userEmail,turn_index:t.turnIndex})),la.post("".concat(xf,"/feedback/links"),e)}function rCt(t){const e=oSe(t.agentSettingsOverrides);la.post("".concat(xf,"/prefetch"),P(C({},e),{turn:{user_query:t.query},user_metadata:t.metadata}))}class Wee extends Error{constructor(e){super(e),this.name="TurnError"}}function lSe(t){var e;return t?((e=t.model_response)==null?void 0:e.text)!=null&&t.model_response.text.length>0:!1}function eS(t){return t.execution_status==="fatal_system_error"}function cSe(t){return t.execution_status==="in_progress"||t.execution_status===null}function uSe(t){return Da(e=>{var n,r;return(r=(n=e.thread)==null?void 0:n.turns.map(s=>t.reduce((a,i)=>(a[i]=s[i],a),{})))!=null?r:[]},(e,n)=>{if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!bf(e[r],n[r]))return!1;return!0})}function dSe(){return Da(t=>{var e;return Go((e=t.thread)==null?void 0:e.turns.flatMap(n=>{var r;return(r=n.model_response)==null?void 0:r.citations}))},bf)}const Zee={thread:null,error:void 0},Da=Rt(Sn(()=>C({},Zee))),fSe=xs(()=>{ve.addError(new Wee("got updateTurn with no current thread"))},1e3),mSe=xs(t=>{ve.addError(new Wee("turn not found"),{turnIndex:t})},1e3),ah={threadId:t=>{var e,n;return(n=(e=t.thread)==null?void 0:e.id)!=null?n:null},turns:t=>{var e,n;return(n=(e=t.thread)==null?void 0:e.turns)!=null?n:[]},turnCitations:t=>e=>{var n,r,s;return(s=(r=(n=e.thread)==null?void 0:n.turns[t].model_response)==null?void 0:r.citations)!=null?s:[]},hasResponse:t=>{var e;return lSe((e=t.thread)==null?void 0:e.turns[0])},firstTurn:t=>t.thread!=null?t.thread.turns[0]:void 0,lastTurn:t=>t.thread!=null?t.thread.turns[t.thread.turns.length-1]:void 0,numTurns:t=>{var e,n;return(n=(e=t.thread)==null?void 0:e.turns.length)!=null?n:0},isLastTurnStreaming:t=>{const e=t.thread!=null?t.thread.turns[t.thread.turns.length-1]:void 0;return e!=null&&cSe(e)},hasModelResponseText:t=>{var n,r;const e=(n=t.thread)==null?void 0:n.turns[0];return((r=e==null?void 0:e.model_response)==null?void 0:r.text)!=null},hasFirstTurnError:t=>{var n;const e=(n=t.thread)==null?void 0:n.turns[0];return!!e&&eS(e)},hasTurnError:t=>{var e,n;return(n=(e=t.thread)==null?void 0:e.turns.some(eS))!=null?n:!1},threadError:t=>t.error,__deprecated_sportsWidget:t=>{var n,r;const e=(n=t.thread)==null?void 0:n.turns[0];return(r=e==null?void 0:e.sports_widget)!=null?r:null}},sCt={appendTurn(t,e,n){Da.setState(r=>{var s;((s=r.thread)==null?void 0:s.id)!==t&&(n==null||n(t),r.thread={id:t,turns:[]}),r.thread.turns.push(e)})},updateTurn(t,e){Da.setState(n=>{const r=n.thread;if(!r){fSe();return}const s=r.turns[t];if(!s){mSe(t);return}e(s)})},clearThread(){Da.setState(()=>C({},Zee))},setError(t){Da.setState(e=>{e.error=t})},setThread(t,e){Da.setState(n=>{n.thread={id:t,turns:e}})}};class pSe{constructor(){Q(this,"queue",[]);Q(this,"attempted",new Set);Q(this,"isProcessing",!1)}enqueue(e){this.queue.push(e),this._processQueue()}async _processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)try{const e=this.queue.shift();if(!e)continue;await this._preload(e)}catch(e){}this.isProcessing=!1}}_preload(e){return new Promise(n=>{this.attempted.has(e)&&n();const r=new Image;r.onload=()=>{this.attempted.add(e),n()},r.onerror=()=>{this.attempted.add(e),n()},r.src=e})}}const gSe=new pSe;function hSe(t){const e=g.useRef(t);return Vu(e.current,t)||(e.current=t),e.current}function vSe(t,{enabled:e=!0}={}){const n=hSe(t);g.useEffect(()=>{if(!e||"connection"in navigator&&navigator.connection.type==="cellular")return;const s=setTimeout(()=>{n.forEach(a=>{a&&gSe.enqueue(a)})},1e3);return()=>{clearTimeout(s)}},[e,n])}function aCt(){const{imageResults:t}=xSe();vSe([...t.map(e=>Yee(e))])}const ySe=E6((...t)=>iSe(...t),5e3);function xSe(t=!1){var l,c;const e=uSe(["image_results","image_try_hard_status","execution_status"]),n=Da(ah.threadId),r=Go(e.toReversed().flatMap(u=>{var d;return(d=u.image_results)==null?void 0:d.entries})).map(u=>P(C({},u),{thumbnail_url:u.thumbnail_url.replace(/^http:\/\//,"https://"),content_url:u.content_url.replace(/^http:\/\//,"https://")})),s=Da(ah.hasModelResponseText),a=e.some(u=>eS(u));let i=r.length===0&&!s;return n!=null&&t&&!i&&r.length===0&&((l=e[0])==null?void 0:l.image_try_hard_status)==="not_attempted"&&(ySe(n,0),i=!0),t&&((c=e[0])==null?void 0:c.image_try_hard_status)==="in_progress"&&(i=!0),{imageResults:r,isLoading:i,isErrored:r.length===0&&a}}function oCt(){const t=dSe(),e=Da(ah.hasTurnError),n=Da(ah.hasModelResponseText),r=sSe(t);return{imageResults:r,isLoading:r.length===0&&!n,isErrored:r.length===0&&e}}function bSe(t,e){return Ho({queryKey:["downloadImage",{imageUrl:t,downloadType:e}],queryFn:()=>new Promise((n,r)=>{if(!t){r();return}const s=performance.now(),a=new Image;a.onload=()=>{Xw.logEvent("Search Tool Image Download Latency",{type:e,image_url:t,latency_ms:Math.round(performance.now()-s),error:!1}),n({width:a.width,height:a.height})},a.onerror=()=>{Xw.logEvent("Search Tool Image Download Latency",{type:e,image_url:t,latency_ms:Math.round(performance.now()-s),error:!0}),r()},a.src=t}),enabled:!!t})}function CSe(t,e){return ut(bSe(t,e))}const _Se=474,Kee={width:_Se,aspectRatio:$ee};function Yee(t,e=Kee){if(t==null||t.is_proxied_image)return;const n=new URL(t.thumbnail_url);if(n.hostname.indexOf(".bing.")===-1)return t.thumbnail_url;const{width:r,height:s,aspectRatio:a}=e;let i=Math.min(r,t.content_size.width),l=s!=null?s:Math.floor(a?i*(a.height/a.width):i*t.content_size.height/t.content_size.width);return!s&&a&&a.width===a.height&&(i=l=Math.min(i,l)),n.searchParams.delete("pid"),n.searchParams.set("w",i.toString()),n.searchParams.set("h",l.toString()),n.searchParams.set("c","7"),n.searchParams.set("p","0"),n.toString()}function wSe(t,e=Kee){return g.useMemo(()=>Yee(t,e),[t,e])}const Qee={type:"spring",stiffness:700,damping:82};function iCt({children:t,className:e}){return o.jsx(Se.div,{animate:{opacity:1},initial:{width:"100%",height:"100%",translateX:0,translateY:0,opacity:0},whileHover:{width:"103%",height:"103%",translateX:"-1.5%",translateY:"-1.5%"},transition:Qee,className:e,children:t})}const tS="contextList";function lCt(){return t=>{Qu(t,e=>{var r;if(!WE(e)||e.name!==tS)return;const n=(r=e.data)!=null?r:e.data={};n.hName=tS})}}function SSe(t){var n;if(typeof t!="object"||t==null||!("props"in t)||t.props==null)return;const e=t.props;if(((n=e.node)==null?void 0:n.tagName)===sY)return parseInt(e.index)}var wZ;const pL=Ge.div(wZ||(wZ=qe(["gap-6 border-b pb-4 my-4 context-list border-token-border-default"])));function cCt({children:t}){var i;const e=g.useContext(tSe),n=Array.isArray(t)?t:Go([t]);if(n.length===0||(e==null?void 0:e.analyticsMetadata.turnIndex)===void 0)return null;const[r,...s]=n,a=SSe(r);if(a!=null&&e!=null){const l=(i=e==null?void 0:e.contentReferences)==null?void 0:i[a],c=(l==null?void 0:l.type)==="image_v2",u=(l==null?void 0:l.type)==="optimistic_image_citation";if(c||u)return o.jsxs(pL,{className:"flex w-full",children:[o.jsx("div",{className:"grow leading-normal",children:s}),o.jsxs("div",{className:"mt-2 flex w-24 shrink-0",children:[c&&l.images[0]&&o.jsx(kSe,{imageRef:l,analyticsMetadata:e.analyticsMetadata}),u&&o.jsx(MSe,{optimisticRef:l})]})]})}return o.jsx(pL,{className:"leading-normal",children:n})}var SZ;const Jee=Ge.button(SZ||(SZ=qe(["not-prose flex w-full h-fit	items-center justify-center overflow-hidden rounded-lg max-h-48"])));function kSe({imageRef:t,analyticsMetadata:e}){const n=t.images[0],r=n.thumbnail_size.width/n.thumbnail_size.height,s=wSe(n,{width:200,height:Math.max(Math.round(200/r),112)}),{isSuccess:a}=CSe(s,"ContextListImage"),i=Ju.useStore(),l=g.useRef(!1),c=P(C({},Pt(e)),{type:"context_list_image_thumbnail",image_url:s});return l.current||(l.current=!0,B.logEventWithStatsig("Search Content Reference Shown","search_content_reference_shown",c)),o.jsx(Jee,{onClick:()=>{i.setCurrentImage({image:n,source:Zp.Turn,analyticsMetadata:e}),B.logEventWithStatsig("Search Content Reference Clicked","search_content_reference_clicked",c)},children:o.jsx(Se.img,{src:s,className:"w-full object-cover",alt:n.title,initial:{opacity:0},animate:a?{opacity:1}:{},whileHover:{scale:1.1,transition:Qee}})})}function MSe({optimisticRef:t}){return o.jsx(Jee,{children:t.status==="done"?o.jsx(wt,{label:o.jsx(N,{id:"8JYwCi",defaultMessage:"Error fetching image"}),children:o.jsx(T5,{className:"text-token-text-tertiary h-24 w-12"})}):o.jsx("div",{className:"bg-token-main-surface-tertiary h-24 w-full animate-pulse"})})}function oh(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(e);for(;s!==-1;)r++,s=n.indexOf(e,s+e.length);return r}function uCt(){}const Xee=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],gL={0:"ï¿½",128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"};function ete(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function ESe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function jSe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function hL(t){return jSe(t)||ete(t)}const vL=document.createElement("i");function Kp(t){const e="&"+t+";";vL.innerHTML=e;const n=vL.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const S1=String.fromCharCode,TSe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function KE(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,r=[];let s=0,a=-1,i="",l,c;e.position&&("start"in e.position||"indent"in e.position?(c=e.position.indent,l=e.position.start):l=e.position);let u=(l?l.line:0)||1,d=(l?l.column:0)||1,f=p(),m;for(s--;++s<=t.length;)if(m===10&&(d=(c?c[a]:0)||1),m=t.charCodeAt(s),m===38){const y=t.charCodeAt(s+1);if(y===9||y===10||y===12||y===32||y===38||y===60||Number.isNaN(y)||n&&y===n){i+=S1(m),d++;continue}const x=s+1;let b=x,_=x,w;if(y===35){_=++b;const I=t.charCodeAt(_);I===88||I===120?(w="hexadecimal",_=++b):w="decimal"}else w="named";let S="",k="",M="";const E=w==="named"?hL:w==="decimal"?ete:ESe;for(_--;++_<=t.length;){const I=t.charCodeAt(_);if(!E(I))break;M+=S1(I),w==="named"&&Xee.includes(M)&&(S=M,k=Kp(M))}let T=t.charCodeAt(_)===59;if(T){_++;const I=w==="named"?Kp(M):!1;I&&(S=M,k=I)}let j=1+_-x,A="";if(!(!T&&e.nonTerminated===!1))if(!M)w!=="named"&&h(4,j);else if(w==="named"){if(T&&!k)h(5,1);else if(S!==M&&(_=b+S.length,j=1+_-b,T=!1),!T){const I=S?1:3;if(e.attribute){const L=t.charCodeAt(_);L===61?(h(I,j),k=""):hL(L)?k="":h(I,j)}else h(I,j)}A=k}else{T||h(2,j);let I=Number.parseInt(M,w==="hexadecimal"?16:10);if(NSe(I))h(7,j),A=S1(65533);else if(I in gL)h(6,j),A=gL[I];else{let L="";ASe(I)&&h(6,j),I>65535&&(I-=65536,L+=S1(I>>>10|55296),I=56320|I&1023),A=L+S1(I)}}if(A){v(),f=p(),s=_-1,d+=_-x+1,r.push(A);const I=p();I.offset++,e.reference&&e.reference.call(e.referenceContext,A,{start:f,end:I},t.slice(x-1,_)),f=I}else M=t.slice(x-1,_),i+=M,d+=M.length,s=_-1}else m===10&&(u++,a++,d=0),Number.isNaN(m)?v():(i+=S1(m),d++);return r.join("");function p(){return{line:u,column:d,offset:s+((l?l.offset:0)||0)}}function h(y,x){let b;e.warning&&(b=p(),b.column+=x,b.offset+=x,e.warning.call(e.warningContext,TSe[y],b,y))}function v(){i&&(r.push(i),e.text&&e.text.call(e.textContext,i,{start:f,end:p()}),i="")}}function NSe(t){return t>=55296&&t<=57343||t>1114111}function ASe(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const PSe=/["&'<>`]/g,ISe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LSe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,RSe=/[|\\{}()[\]^$+*?.]/g,yL=new WeakMap;function tte(t,e){if(t=t.replace(e.subset?OSe(e.subset):PSe,r),e.subset||e.escapeOnly)return t;return t.replace(ISe,n).replace(LSe,r);function n(s,a,i){return e.format((s.charCodeAt(0)-55296)*1024+s.charCodeAt(1)-56320+65536,i.charCodeAt(a+2),e)}function r(s,a,i){return e.format(s.charCodeAt(0),i.charCodeAt(a+1),e)}}function OSe(t){let e=yL.get(t);return e||(e=DSe(t),yL.set(t,e)),e}function DSe(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(RSe,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const FSe=/[\dA-Fa-f]/;function BSe(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!FSe.test(String.fromCharCode(e))?r:r+";"}const USe=/\d/;function HSe(t,e,n){const r="&#"+String(t);return n&&e&&!USe.test(String.fromCharCode(e))?r:r+";"}const Q7={nbsp:"Â ",iexcl:"Â¡",cent:"Â¢",pound:"Â£",curren:"Â¤",yen:"Â¥",brvbar:"Â¦",sect:"Â§",uml:"Â¨",copy:"Â©",ordf:"Âª",laquo:"Â«",not:"Â¬",shy:"Â­",reg:"Â®",macr:"Â¯",deg:"Â°",plusmn:"Â±",sup2:"Â²",sup3:"Â³",acute:"Â´",micro:"Âµ",para:"Â¶",middot:"Â·",cedil:"Â¸",sup1:"Â¹",ordm:"Âº",raquo:"Â»",frac14:"Â¼",frac12:"Â½",frac34:"Â¾",iquest:"Â¿",Agrave:"Ã",Aacute:"Ã",Acirc:"Ã",Atilde:"Ã",Auml:"Ã",Aring:"Ã",AElig:"Ã",Ccedil:"Ã",Egrave:"Ã",Eacute:"Ã",Ecirc:"Ã",Euml:"Ã",Igrave:"Ã",Iacute:"Ã",Icirc:"Ã",Iuml:"Ã",ETH:"Ã",Ntilde:"Ã",Ograve:"Ã",Oacute:"Ã",Ocirc:"Ã",Otilde:"Ã",Ouml:"Ã",times:"Ã",Oslash:"Ã",Ugrave:"Ã",Uacute:"Ã",Ucirc:"Ã",Uuml:"Ã",Yacute:"Ã",THORN:"Ã",szlig:"Ã",agrave:"Ã ",aacute:"Ã¡",acirc:"Ã¢",atilde:"Ã£",auml:"Ã¤",aring:"Ã¥",aelig:"Ã¦",ccedil:"Ã§",egrave:"Ã¨",eacute:"Ã©",ecirc:"Ãª",euml:"Ã«",igrave:"Ã¬",iacute:"Ã­",icirc:"Ã®",iuml:"Ã¯",eth:"Ã°",ntilde:"Ã±",ograve:"Ã²",oacute:"Ã³",ocirc:"Ã´",otilde:"Ãµ",ouml:"Ã¶",divide:"Ã·",oslash:"Ã¸",ugrave:"Ã¹",uacute:"Ãº",ucirc:"Ã»",uuml:"Ã¼",yacute:"Ã½",thorn:"Ã¾",yuml:"Ã¿",fnof:"Æ",Alpha:"Î",Beta:"Î",Gamma:"Î",Delta:"Î",Epsilon:"Î",Zeta:"Î",Eta:"Î",Theta:"Î",Iota:"Î",Kappa:"Î",Lambda:"Î",Mu:"Î",Nu:"Î",Xi:"Î",Omicron:"Î",Pi:"Î ",Rho:"Î¡",Sigma:"Î£",Tau:"Î¤",Upsilon:"Î¥",Phi:"Î¦",Chi:"Î§",Psi:"Î¨",Omega:"Î©",alpha:"Î±",beta:"Î²",gamma:"Î³",delta:"Î´",epsilon:"Îµ",zeta:"Î¶",eta:"Î·",theta:"Î¸",iota:"Î¹",kappa:"Îº",lambda:"Î»",mu:"Î¼",nu:"Î½",xi:"Î¾",omicron:"Î¿",pi:"Ï",rho:"Ï",sigmaf:"Ï",sigma:"Ï",tau:"Ï",upsilon:"Ï",phi:"Ï",chi:"Ï",psi:"Ï",omega:"Ï",thetasym:"Ï",upsih:"Ï",piv:"Ï",bull:"â¢",hellip:"â¦",prime:"â²",Prime:"â³",oline:"â¾",frasl:"â",weierp:"â",image:"â",real:"â",trade:"â¢",alefsym:"âµ",larr:"â",uarr:"â",rarr:"â",darr:"â",harr:"â",crarr:"âµ",lArr:"â",uArr:"â",rArr:"â",dArr:"â",hArr:"â",forall:"â",part:"â",exist:"â",empty:"â",nabla:"â",isin:"â",notin:"â",ni:"â",prod:"â",sum:"â",minus:"â",lowast:"â",radic:"â",prop:"â",infin:"â",ang:"â ",and:"â§",or:"â¨",cap:"â©",cup:"âª",int:"â«",there4:"â´",sim:"â¼",cong:"â",asymp:"â",ne:"â ",equiv:"â¡",le:"â¤",ge:"â¥",sub:"â",sup:"â",nsub:"â",sube:"â",supe:"â",oplus:"â",otimes:"â",perp:"â¥",sdot:"â",lceil:"â",rceil:"â",lfloor:"â",rfloor:"â",lang:"â©",rang:"âª",loz:"â",spades:"â ",clubs:"â£",hearts:"â¥",diams:"â¦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Å",oelig:"Å",Scaron:"Å ",scaron:"Å¡",Yuml:"Å¸",circ:"Ë",tilde:"Ë",ensp:"â",emsp:"â",thinsp:"â",zwnj:"â",zwj:"â",lrm:"â",rlm:"â",ndash:"â",mdash:"â",lsquo:"â",rsquo:"â",sbquo:"â",ldquo:"â",rdquo:"â",bdquo:"â",dagger:"â ",Dagger:"â¡",permil:"â°",lsaquo:"â¹",rsaquo:"âº",euro:"â¬"},VSe=["cent","copy","divide","gt","lt","not","para","times"],nte={}.hasOwnProperty,nS={};let e2;for(e2 in Q7)nte.call(Q7,e2)&&(nS[Q7[e2]]=e2);const $Se=/[^\dA-Za-z]/;function qSe(t,e,n,r){const s=String.fromCharCode(t);if(nte.call(nS,s)){const a=nS[s],i="&"+a;return n&&Xee.includes(a)&&!VSe.includes(a)&&(!r||e&&e!==61&&$Se.test(String.fromCharCode(e)))?i:i+";"}return""}function zSe(t,e,n){let r=BSe(t,e,n.omitOptionalSemicolons),s;if((n.useNamedReferences||n.useShortestReferences)&&(s=qSe(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!s)&&n.useShortestReferences){const a=HSe(t,e,n.omitOptionalSemicolons);a.length<r.length&&(r=a)}return s&&(!n.useShortestReferences||s.length<r.length)?s:r}function GSe(t){return"&#x"+t.toString(16).toUpperCase()+";"}function dCt(t,e){return tte(t,Object.assign({format:zSe},e))}function WSe(t,e){return tte(t,Object.assign({format:GSe},e))}const ZSe={}.hasOwnProperty,KSe={},xL=/^[^\t\n\r "#'.<=>`}]+$/,YSe=/^[^\t\n\r "'<=>`}]+$/;function QSe(){return{canContainEols:["textDirective"],enter:{directiveContainer:XSe,directiveContainerAttributes:X7,directiveContainerLabel:nke,directiveLeaf:eke,directiveLeafAttributes:X7,directiveText:tke,directiveTextAttributes:X7},exit:{directiveContainer:a9,directiveContainerAttributeClassValue:t9,directiveContainerAttributeIdValue:e9,directiveContainerAttributeName:r9,directiveContainerAttributeValue:n9,directiveContainerAttributes:s9,directiveContainerLabel:rke,directiveContainerName:J7,directiveLeaf:a9,directiveLeafAttributeClassValue:t9,directiveLeafAttributeIdValue:e9,directiveLeafAttributeName:r9,directiveLeafAttributeValue:n9,directiveLeafAttributes:s9,directiveLeafName:J7,directiveText:a9,directiveTextAttributeClassValue:t9,directiveTextAttributeIdValue:e9,directiveTextAttributeName:r9,directiveTextAttributeValue:n9,directiveTextAttributes:s9,directiveTextName:J7}}}function JSe(t){const e=KSe;if(e.quote!=='"'&&e.quote!=="'"&&e.quote!==null&&e.quote!==void 0)throw new Error("Invalid quote `"+e.quote+"`, expected `'` or `\"`");return n.peek=ske,{handlers:{containerDirective:n,leafDirective:n,textDirective:n},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:"\n",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function n(a,i,l,c){const u=l.createTracker(c),d=ake(a),f=l.enter(a.type);let m=u.move(d+(a.name||"")),p;if(a.type==="containerDirective"){const h=(a.children||[])[0];p=bL(h)?h:void 0}else p=a;if(p&&p.children&&p.children.length>0){const h=l.enter("label"),v="".concat(a.type,"Label"),y=l.enter(v);m+=u.move("["),m+=u.move(l.containerPhrasing(p,P(C({},u.current()),{before:m,after:"]"}))),m+=u.move("]"),y(),h()}if(m+=u.move(r(a,l)),a.type==="containerDirective"){const h=(a.children||[])[0];let v=a;bL(h)&&(v=Object.assign({},a,{children:a.children.slice(1)})),v&&v.children&&v.children.length>0&&(m+=u.move("\n"),m+=u.move(l.containerFlow(v,u.current()))),m+=u.move("\n"+d)}return f(),m}function r(a,i){const l=a.attributes||{},c=[];let u,d,f,m;for(m in l)if(ZSe.call(l,m)&&l[m]!==void 0&&l[m]!==null){const p=String(l[m]);if(m==="id")f=e.preferShortcut!==!1&&xL.test(p)?"#"+p:s("id",p,a,i);else if(m==="class"){const h=p.split(/[\t\n\r ]+/g),v=[],y=[];let x=-1;for(;++x<h.length;)(e.preferShortcut!==!1&&xL.test(h[x])?y:v).push(h[x]);u=v.length>0?s("class",v.join(" "),a,i):"",d=y.length>0?"."+y.join("."):""}else c.push(s(m,p,a,i))}return u&&c.unshift(u),d&&c.unshift(d),f&&c.unshift(f),c.length>0?"{"+c.join(" ")+"}":""}function s(a,i,l,c){if(e.collapseEmptyAttributes!==!1&&!i)return a;if(e.preferUnquoted&&YSe.test(i))return a+"="+i;const u=e.quote||c.options.quote||'"',d=u==='"'?"'":'"',f=e.quoteSmart&&oh(i,u)>oh(i,d)?d:u,m=l.type==="textDirective"?[f]:[f,"\n","\r"];return a+"="+f+WSe(i,{subset:m})+f}}function XSe(t){YE.call(this,"containerDirective",t)}function eke(t){YE.call(this,"leafDirective",t)}function tke(t){YE.call(this,"textDirective",t)}function YE(t,e){this.enter({type:t,name:"",attributes:{},children:[]},e)}function J7(t){const e=this.stack[this.stack.length-1];e.type==="containerDirective"||e.type==="leafDirective"||e.type,e.name=this.sliceSerialize(t)}function nke(t){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},t)}function rke(t){this.exit(t)}function X7(){this.data.directiveAttributes=[],this.buffer()}function e9(t){this.data.directiveAttributes.push(["id",KE(this.sliceSerialize(t),{attribute:!0})])}function t9(t){this.data.directiveAttributes.push(["class",KE(this.sliceSerialize(t),{attribute:!0})])}function n9(t){const e=this.data.directiveAttributes;e[e.length-1][1]=KE(this.sliceSerialize(t),{attribute:!0})}function r9(t){this.data.directiveAttributes.push([this.sliceSerialize(t),""])}function s9(){const t=this.data.directiveAttributes,e={};let n=-1;for(;++n<t.length;){const s=t[n];s[0]==="class"&&e.class?e.class+=" "+s[1]:e[s[0]]=s[1]}this.data.directiveAttributes=void 0,this.resume();const r=this.stack[this.stack.length-1];r.type==="containerDirective"||r.type==="leafDirective"||r.type,r.attributes=e}function a9(t){this.exit(t)}function ske(){return":"}function bL(t){return!!(t&&t.type==="paragraph"&&t.data&&t.data.directiveLabel)}function ake(t){let e=0;return t.type==="containerDirective"?(ZE(t,function(n,r){if(n.type==="containerDirective"){let s=r.length,a=0;for(;s--;)r[s].type==="containerDirective"&&a++;a>e&&(e=a)}}),e+=3):t.type==="leafDirective"?e=2:e=1,":".repeat(e)}const Lr=yc(/[A-Za-z]/),_r=yc(/[\dA-Za-z]/),oke=yc(/[#-'*+\--9=?A-Z^-~]/);function ih(t){return t!==null&&(t<32||t===127)}const rS=yc(/\d/),ike=yc(/[\dA-Fa-f]/),lke=yc(/[!-/:-@[-`{-~]/);function mt(t){return t!==null&&t<-2}function Zt(t){return t!==null&&(t<0||t===32)}function Ut(t){return t===-2||t===-1||t===32}const N5=yc(new RegExp("\\p{P}|\\p{S}","u")),Au=yc(/\s/);function yc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function It(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return i;function i(c){return Ut(c)?(t.enter(n),l(c)):e(c)}function l(c){return Ut(c)&&a++<s?(t.consume(c),l):(t.exit(n),e(c))}}function Si(t,e){let n;return r;function r(s){return mt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):Ut(s)?It(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}function QE(t,e,n,r,s,a,i,l,c,u,d,f,m,p,h){let v,y;return x;function x(R){return t.enter(r),t.enter(s),t.consume(R),t.exit(s),b}function b(R){return R===35?(v=i,_(R)):R===46?(v=l,_(R)):R===58||R===95||Lr(R)?(t.enter(a),t.enter(c),t.consume(R),k):h&&Ut(R)?It(t,b,"whitespace")(R):!h&&Zt(R)?Si(t,b)(R):O(R)}function _(R){const H=v+"Marker";return t.enter(a),t.enter(v),t.enter(H),t.consume(R),t.exit(H),w}function w(R){if(R===null||R===34||R===35||R===39||R===46||R===60||R===61||R===62||R===96||R===125||Zt(R))return n(R);const H=v+"Value";return t.enter(H),t.consume(R),S}function S(R){if(R===null||R===34||R===39||R===60||R===61||R===62||R===96)return n(R);if(R===35||R===46||R===125||Zt(R)){const H=v+"Value";return t.exit(H),t.exit(v),t.exit(a),b(R)}return t.consume(R),S}function k(R){return R===45||R===46||R===58||R===95||_r(R)?(t.consume(R),k):(t.exit(c),h&&Ut(R)?It(t,M,"whitespace")(R):!h&&Zt(R)?Si(t,M)(R):M(R))}function M(R){return R===61?(t.enter(u),t.consume(R),t.exit(u),E):(t.exit(a),b(R))}function E(R){return R===null||R===60||R===61||R===62||R===96||R===125||h&&mt(R)?n(R):R===34||R===39?(t.enter(d),t.enter(m),t.consume(R),t.exit(m),y=R,j):h&&Ut(R)?It(t,E,"whitespace")(R):!h&&Zt(R)?Si(t,E)(R):(t.enter(f),t.enter(p),t.consume(R),y=void 0,T)}function T(R){return R===null||R===34||R===39||R===60||R===61||R===62||R===96?n(R):R===125||Zt(R)?(t.exit(p),t.exit(f),t.exit(a),b(R)):(t.consume(R),T)}function j(R){return R===y?(t.enter(m),t.consume(R),t.exit(m),t.exit(d),t.exit(a),L):(t.enter(f),A(R))}function A(R){return R===y?(t.exit(f),j(R)):R===null?n(R):mt(R)?h?n(R):Si(t,A)(R):(t.enter(p),t.consume(R),I)}function I(R){return R===y||R===null||mt(R)?(t.exit(p),A(R)):(t.consume(R),I)}function L(R){return R===125||Zt(R)?b(R):O(R)}function O(R){return R===125?(t.enter(s),t.consume(R),t.exit(s),t.exit(r),e):n(R)}}function JE(t,e,n,r,s,a,i){let l=0,c=0,u;return d;function d(y){return t.enter(r),t.enter(s),t.consume(y),t.exit(s),f}function f(y){return y===93?(t.enter(s),t.consume(y),t.exit(s),t.exit(r),e):(t.enter(a),m(y))}function m(y){if(y===93&&!c)return v(y);const x=t.enter("chunkText",{contentType:"text",previous:u});return u&&(u.next=x),u=x,p(y)}function p(y){return y===null||l>999||y===91&&++c>32?n(y):y===93&&!c--?(t.exit("chunkText"),v(y)):mt(y)?i?n(y):(t.consume(y),t.exit("chunkText"),m):(t.consume(y),y===92?h:p)}function h(y){return y===91||y===92||y===93?(t.consume(y),l++,p):p(y)}function v(y){return t.exit(a),t.enter(s),t.consume(y),t.exit(s),t.exit(r),e}}function XE(t,e,n,r){const s=this;return a;function a(l){return Lr(l)?(t.enter(r),t.consume(l),i):n(l)}function i(l){return l===45||l===95||_r(l)?(t.consume(l),i):(t.exit(r),s.previous===45||s.previous===95?n(l):e(l))}}const cke={tokenize:fke,concrete:!0},uke={tokenize:mke,partial:!0},dke={tokenize:pke,partial:!0},CL={tokenize:gke,partial:!0};function fke(t,e,n){const r=this,s=r.events[r.events.length-1],a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let i=0,l;return c;function c(M){return t.enter("directiveContainer"),t.enter("directiveContainerFence"),t.enter("directiveContainerSequence"),u(M)}function u(M){return M===58?(t.consume(M),i++,u):i<3?n(M):(t.exit("directiveContainerSequence"),XE.call(r,t,d,n,"directiveContainerName")(M))}function d(M){return M===91?t.attempt(uke,f,f)(M):f(M)}function f(M){return M===123?t.attempt(dke,m,m)(M):m(M)}function m(M){return It(t,p,"whitespace")(M)}function p(M){return t.exit("directiveContainerFence"),M===null?h(M):mt(M)?r.interrupt?e(M):t.attempt(CL,v,h)(M):n(M)}function h(M){return t.exit("directiveContainer"),e(M)}function v(M){return M===null?(t.exit("directiveContainer"),e(M)):(t.enter("directiveContainerContent"),y(M))}function y(M){return M===null?S(M):t.attempt({tokenize:k,partial:!0},S,a?It(t,x,"linePrefix",a+1):x)(M)}function x(M){if(M===null)return S(M);const E=t.enter("chunkDocument",{contentType:"document",previous:l});return l&&(l.next=E),l=E,b(M)}function b(M){if(M===null){const E=t.exit("chunkDocument");return r.parser.lazy[E.start.line]=!1,S(M)}return mt(M)?t.check(CL,_,w)(M):(t.consume(M),b)}function _(M){t.consume(M);const E=t.exit("chunkDocument");return r.parser.lazy[E.start.line]=!1,y}function w(M){const E=t.exit("chunkDocument");return r.parser.lazy[E.start.line]=!1,S(M)}function S(M){return t.exit("directiveContainerContent"),t.exit("directiveContainer"),e(M)}function k(M,E,T){let j=0;return It(M,A,"linePrefix",4);function A(O){return M.enter("directiveContainerFence"),M.enter("directiveContainerSequence"),I(O)}function I(O){return O===58?(M.consume(O),j++,I):j<i?T(O):(M.exit("directiveContainerSequence"),It(M,L,"whitespace")(O))}function L(O){return O===null||mt(O)?(M.exit("directiveContainerFence"),E(O)):T(O)}}}function mke(t,e,n){return JE(t,e,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function pke(t,e,n){return QE(t,e,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function gke(t,e,n){const r=this;return s;function s(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),a}function a(i){return r.parser.lazy[r.now().line]?n(i):e(i)}}const hke={tokenize:xke},vke={tokenize:bke,partial:!0},yke={tokenize:Cke,partial:!0};function xke(t,e,n){const r=this;return s;function s(d){return t.enter("directiveLeaf"),t.enter("directiveLeafSequence"),t.consume(d),a}function a(d){return d===58?(t.consume(d),t.exit("directiveLeafSequence"),XE.call(r,t,i,n,"directiveLeafName")):n(d)}function i(d){return d===91?t.attempt(vke,l,l)(d):l(d)}function l(d){return d===123?t.attempt(yke,c,c)(d):c(d)}function c(d){return It(t,u,"whitespace")(d)}function u(d){return d===null||mt(d)?(t.exit("directiveLeaf"),e(d)):n(d)}}function bke(t,e,n){return JE(t,e,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function Cke(t,e,n){return QE(t,e,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const _ke={tokenize:Mke,previous:kke},wke={tokenize:Eke,partial:!0},Ske={tokenize:jke,partial:!0};function kke(t){return t!==58||this.events[this.events.length-1][1].type==="characterEscape"}function Mke(t,e,n){const r=this;return s;function s(c){return t.enter("directiveText"),t.enter("directiveTextMarker"),t.consume(c),t.exit("directiveTextMarker"),XE.call(r,t,a,n,"directiveTextName")}function a(c){return c===58?n(c):c===91?t.attempt(wke,i,i)(c):i(c)}function i(c){return c===123?t.attempt(Ske,l,l)(c):l(c)}function l(c){return t.exit("directiveText"),e(c)}}function Eke(t,e,n){return JE(t,e,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function jke(t,e,n){return QE(t,e,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function Tke(){return{text:{58:_ke},flow:{58:[cke,hke]}}}function Nke(){const e=this.data(),n=e.micromarkExtensions||(e.micromarkExtensions=[]),r=e.fromMarkdownExtensions||(e.fromMarkdownExtensions=[]),s=e.toMarkdownExtensions||(e.toMarkdownExtensions=[]);n.push(Tke()),r.push(QSe()),s.push(JSe())}function Ake(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Pke(t,e,n){const s=$0((n||{}).ignore||[]),a=Ike(e);let i=-1;for(;++i<a.length;)ZE(t,"text",l);function l(u,d){let f=-1,m;for(;++f<d.length;){const p=d[f],h=m?m.children:void 0;if(s(p,h?h.indexOf(p):void 0,m))return;m=p}if(m)return c(u,d)}function c(u,d){const f=d[d.length-1],m=a[i][0],p=a[i][1];let h=0;const y=f.children.indexOf(u);let x=!1,b=[];m.lastIndex=0;let _=m.exec(u.value);for(;_;){const w=_.index,S={index:_.index,input:_.input,stack:[...d,u]};let k=p(..._,S);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?m.lastIndex=w+1:(h!==w&&b.push({type:"text",value:u.value.slice(h,w)}),Array.isArray(k)?b.push(...k):k&&b.push(k),h=w+_[0].length,x=!0),!m.global)break;_=m.exec(u.value)}return x?(h<u.value.length&&b.push({type:"text",value:u.value.slice(h)}),f.children.splice(y,1,...b)):b=[u],y+b.length}}function Ike(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const s=n[r];e.push([Lke(s[0]),Rke(s[1])])}return e}function Lke(t){return typeof t=="string"?new RegExp(Ake(t),"g"):t}function Rke(t){return typeof t=="function"?t:function(){return t}}const o9="phrasing",i9=["autolink","link","image","label"];function Oke(){return{transforms:[$ke],enter:{literalAutolink:Fke,literalAutolinkEmail:l9,literalAutolinkHttp:l9,literalAutolinkWww:l9},exit:{literalAutolink:Vke,literalAutolinkEmail:Hke,literalAutolinkHttp:Bke,literalAutolinkWww:Uke}}}function Dke(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:o9,notInConstruct:i9},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:o9,notInConstruct:i9},{character:":",before:"[ps]",after:"\\/",inConstruct:o9,notInConstruct:i9}]}}function Fke(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function l9(t){this.config.enter.autolinkProtocol.call(this,t)}function Bke(t){this.config.exit.autolinkProtocol.call(this,t)}function Uke(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Hke(t){this.config.exit.autolinkEmail.call(this,t)}function Vke(t){this.exit(t)}function $ke(t){Pke(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qke],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,zke]],{ignore:["link","linkReference"]})}function qke(t,e,n,r,s){let a="";if(!rte(s)||(/^w/i.test(e)&&(n=e+n,e="",a="http://"),!Gke(n)))return!1;const i=Wke(n+r);if(!i[0])return!1;const l={type:"link",title:null,url:a+e+i[0],children:[{type:"text",value:e+i[0]}]};return i[1]?[l,{type:"text",value:i[1]}]:l}function zke(t,e,n,r){return!rte(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function Gke(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function Wke(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const s=oh(t,"(");let a=oh(t,")");for(;r!==-1&&s>a;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[t,n]}function rte(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Au(n)||N5(n))&&(!e||n!==47)}function qa(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}ste.peek=sMe;function Zke(){return{enter:{gfmFootnoteDefinition:Yke,gfmFootnoteDefinitionLabelString:Qke,gfmFootnoteCall:eMe,gfmFootnoteCallString:tMe},exit:{gfmFootnoteDefinition:Xke,gfmFootnoteDefinitionLabelString:Jke,gfmFootnoteCall:rMe,gfmFootnoteCallString:nMe}}}function Kke(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:aMe,footnoteReference:ste}}}function Yke(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function Qke(){this.buffer()}function Jke(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=qa(this.sliceSerialize(t)).toLowerCase()}function Xke(t){this.exit(t)}function eMe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function tMe(){this.buffer()}function nMe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=e,n.identifier=qa(this.sliceSerialize(t)).toLowerCase()}function rMe(t){this.exit(t)}function ste(t,e,n,r){const s=n.createTracker(r);let a=s.move("[^");const i=n.enter("footnoteReference"),l=n.enter("reference");return a+=s.move(n.safe(n.associationId(t),P(C({},s.current()),{before:a,after:"]"}))),l(),i(),a+=s.move("]"),a}function sMe(){return"["}function aMe(t,e,n,r){const s=n.createTracker(r);let a=s.move("[^");const i=n.enter("footnoteDefinition"),l=n.enter("label");return a+=s.move(n.safe(n.associationId(t),P(C({},s.current()),{before:a,after:"]"}))),l(),a+=s.move("]:"+(t.children&&t.children.length>0?" ":"")),s.shift(4),a+=s.move(n.indentLines(n.containerFlow(t,s.current()),oMe)),i(),a}function oMe(t,e,n){return e===0?t:(n?"":"    ")+t}const iMe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ate.peek=fMe;function lMe(){return{canContainEols:["delete"],enter:{strikethrough:uMe},exit:{strikethrough:dMe}}}function cMe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:iMe}],handlers:{delete:ate}}}function uMe(t){this.enter({type:"delete",children:[]},t)}function dMe(t){this.exit(t)}function ate(t,e,n,r){const s=n.createTracker(r),a=n.enter("strikethrough");let i=s.move("~~");return i+=n.containerPhrasing(t,P(C({},s.current()),{before:i,after:"~"})),i+=s.move("~~"),a(),i}function fMe(){return"~"}function mMe(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||gMe,s=[],a=[],i=[],l=[];let c=0,u=-1;for(;++u<t.length;){const h=[],v=[];let y=-1;for(t[u].length>c&&(c=t[u].length);++y<t[u].length;){const x=pMe(t[u][y]);if(e.alignDelimiters!==!1){const b=r(x);v[y]=b,(l[y]===void 0||b>l[y])&&(l[y]=b)}h.push(x)}a[u]=h,i[u]=v}let d=-1;if(typeof n=="object"&&"length"in n)for(;++d<c;)s[d]=_L(n[d]);else{const h=_L(n);for(;++d<c;)s[d]=h}d=-1;const f=[],m=[];for(;++d<c;){const h=s[d];let v="",y="";h===99?(v=":",y=":"):h===108?v=":":h===114&&(y=":");let x=e.alignDelimiters===!1?1:Math.max(1,l[d]-v.length-y.length);const b=v+"-".repeat(x)+y;e.alignDelimiters!==!1&&(x=v.length+x+y.length,x>l[d]&&(l[d]=x),m[d]=x),f[d]=b}a.splice(1,0,f),i.splice(1,0,m),u=-1;const p=[];for(;++u<a.length;){const h=a[u],v=i[u];d=-1;const y=[];for(;++d<c;){const x=h[d]||"";let b="",_="";if(e.alignDelimiters!==!1){const w=l[d]-(v[d]||0),S=s[d];S===114?b=" ".repeat(w):S===99?w%2?(b=" ".repeat(w/2+.5),_=" ".repeat(w/2-.5)):(b=" ".repeat(w/2),_=b):_=" ".repeat(w)}e.delimiterStart!==!1&&!d&&y.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&x==="")&&(e.delimiterStart!==!1||d)&&y.push(" "),e.alignDelimiters!==!1&&y.push(b),y.push(x),e.alignDelimiters!==!1&&y.push(_),e.padding!==!1&&y.push(" "),(e.delimiterEnd!==!1||d!==c-1)&&y.push("|")}p.push(e.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return p.join("\n")}function pMe(t){return t==null?"":String(t)}function gMe(t){return t.length}function _L(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}var wL={}.hasOwnProperty;function hMe(t,e){var n=e||{};function r(s){var a=r.invalid,i=r.handlers;if(s&&wL.call(s,t)&&(a=wL.call(i,s[t])?i[s[t]]:r.unknown),a)return a.apply(this,arguments)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const vMe={}.hasOwnProperty;function ote(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)ote(t,e.extensions[n]);for(r in e)if(vMe.call(e,r))switch(r){case"extensions":break;case"unsafe":{SL(t[r],e[r]);break}case"join":{SL(t[r],e[r]);break}case"handlers":{yMe(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function SL(t,e){e&&t.push(...e)}function yMe(t,e){e&&Object.assign(t,e)}function xMe(t,e,n,r){const s=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const i=n.indentLines(n.containerFlow(t,a.current()),bMe);return s(),i}function bMe(t,e,n){return">"+(n?"":" ")+t}function ite(t,e){return kL(t,e.inConstruct,!0)&&!kL(t,e.notInConstruct,!1)}function kL(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function ML(t,e,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character==="\n"&&ite(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function CMe(t,e){const n=String(t);let r=n.indexOf(e),s=r,a=0,i=0;if(typeof e!="string"||e.length!==1)throw new Error("Expected character");for(;r!==-1;)r===s?++a>i&&(i=a):a=1,s=r+1,r=n.indexOf(e,s);return i}function sS(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function _Me(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function wMe(t,e,n,r){const s=_Me(n),a=t.value||"",i=s==="`"?"GraveAccent":"Tilde";if(sS(t,n)){const f=n.enter("codeIndented"),m=n.indentLines(a,SMe);return f(),m}const l=n.createTracker(r),c=s.repeat(Math.max(CMe(a,s)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(t.lang){const f=n.enter("codeFencedLang".concat(i));d+=l.move(n.safe(t.lang,C({before:d,after:" ",encode:["`"]},l.current()))),f()}if(t.lang&&t.meta){const f=n.enter("codeFencedMeta".concat(i));d+=l.move(" "),d+=l.move(n.safe(t.meta,C({before:d,after:"\n",encode:["`"]},l.current()))),f()}return d+=l.move("\n"),a&&(d+=l.move(a+"\n")),d+=l.move(c),u(),d}function SMe(t,e,n){return(n?"":"    ")+t}function ej(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function kMe(t,e,n,r){const s=ej(n),a=s==='"'?"Quote":"Apostrophe",i=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(t),C({before:u,after:"]"},c.current()))),u+=c.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(t.url,C({before:u,after:">"},c.current()))),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(t.url,C({before:u,after:t.title?" ":"\n"},c.current())))),l(),t.title&&(l=n.enter("title".concat(a)),u+=c.move(" "+s),u+=c.move(n.safe(t.title,C({before:u,after:s},c.current()))),u+=c.move(s),l()),i(),u}function MMe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}lte.peek=EMe;function lte(t,e,n,r){const s=MMe(n),a=n.enter("emphasis"),i=n.createTracker(r);let l=i.move(s);return l+=i.move(n.containerPhrasing(t,C({before:l,after:s},i.current()))),l+=i.move(s),a(),l}function EMe(t,e,n){return n.options.emphasis||"*"}const jMe={};function tj(t,e){const n=jMe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cte(t,r,s)}function cte(t,e,n){if(TMe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return EL(t.children,e,n)}return Array.isArray(t)?EL(t,e,n):""}function EL(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=cte(t[s],e,n);return r.join("")}function TMe(t){return!!(t&&typeof t=="object")}function ute(t,e){let n=!1;return Qu(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Jw}),!!((!t.depth||t.depth<3)&&tj(t)&&(e.options.setext||n))}function NMe(t,e,n,r){const s=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(r);if(ute(t,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(t,P(C({},a.current()),{before:"\n",after:"\n"}));return f(),d(),m+"\n"+(s===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf("\n"))+1))}const i="#".repeat(s),l=n.enter("headingAtx"),c=n.enter("phrasing");a.move(i+" ");let u=n.containerPhrasing(t,C({before:"# ",after:"\n"},a.current()));return/^[\t ]/.test(u)&&(u="&#x"+u.charCodeAt(0).toString(16).toUpperCase()+";"+u.slice(1)),u=u?i+" "+u:i,n.options.closeAtx&&(u+=" "+i),c(),l(),u}dte.peek=AMe;function dte(t){return t.value||""}function AMe(){return"<"}fte.peek=PMe;function fte(t,e,n,r){const s=ej(n),a=s==='"'?"Quote":"Apostrophe",i=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(t.alt,C({before:u,after:"]"},c.current()))),u+=c.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(t.url,C({before:u,after:">"},c.current()))),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(t.url,C({before:u,after:t.title?" ":")"},c.current())))),l(),t.title&&(l=n.enter("title".concat(a)),u+=c.move(" "+s),u+=c.move(n.safe(t.title,C({before:u,after:s},c.current()))),u+=c.move(s),l()),u+=c.move(")"),i(),u}function PMe(){return"!"}mte.peek=IMe;function mte(t,e,n,r){const s=t.referenceType,a=n.enter("imageReference");let i=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(t.alt,C({before:c,after:"]"},l.current()));c+=l.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const f=n.safe(n.associationId(t),C({before:c,after:"]"},l.current()));return i(),n.stack=d,a(),s==="full"||!u||u!==f?c+=l.move(f+"]"):s==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function IMe(){return"!"}pte.peek=LMe;function pte(t,e,n){let r=t.value||"",s="`",a=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const i=n.unsafe[a],l=n.compilePattern(i);let c;if(i.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return s+r+s}function LMe(){return"`"}function gte(t,e){const n=tj(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}hte.peek=RMe;function hte(t,e,n,r){const s=ej(n),a=s==='"'?"Quote":"Apostrophe",i=n.createTracker(r);let l,c;if(gte(t,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let f=i.move("<");return f+=i.move(n.containerPhrasing(t,C({before:f,after:">"},i.current()))),f+=i.move(">"),l(),n.stack=d,f}l=n.enter("link"),c=n.enter("label");let u=i.move("[");return u+=i.move(n.containerPhrasing(t,C({before:u,after:"]("},i.current()))),u+=i.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(n.safe(t.url,C({before:u,after:">"},i.current()))),u+=i.move(">")):(c=n.enter("destinationRaw"),u+=i.move(n.safe(t.url,C({before:u,after:t.title?" ":")"},i.current())))),c(),t.title&&(c=n.enter("title".concat(a)),u+=i.move(" "+s),u+=i.move(n.safe(t.title,C({before:u,after:s},i.current()))),u+=i.move(s),c()),u+=i.move(")"),l(),u}function RMe(t,e,n){return gte(t,n)?"<":"["}vte.peek=OMe;function vte(t,e,n,r){const s=t.referenceType,a=n.enter("linkReference");let i=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(t,C({before:c,after:"]"},l.current()));c+=l.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const f=n.safe(n.associationId(t),C({before:c,after:"]"},l.current()));return i(),n.stack=d,a(),s==="full"||!u||u!==f?c+=l.move(f+"]"):s==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function OMe(){return"["}function nj(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function DMe(t){const e=nj(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function FMe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function yte(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function BMe(t,e,n,r){const s=n.enter("list"),a=n.bulletCurrent;let i=t.ordered?FMe(n):nj(n);const l=t.ordered?i==="."?")":".":DMe(n);let c=e&&n.bulletLastUsed?i===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((i==="*"||i==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),yte(n)===i&&d){let f=-1;for(;++f<t.children.length;){const m=t.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(i=l),n.bulletCurrent=i;const u=n.containerFlow(t,r);return n.bulletLastUsed=i,n.bulletCurrent=a,s(),u}function UMe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function HMe(t,e,n,r){const s=UMe(n);let a=n.bulletCurrent||nj(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let i=a.length+1;(s==="tab"||s==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(i=Math.ceil(i/4)*4);const l=n.createTracker(r);l.move(a+" ".repeat(i-a.length)),l.shift(i);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,l.current()),d);return c(),u;function d(f,m,p){return m?(p?"":" ".repeat(i))+f:(p?a:a+" ".repeat(i-a.length))+f}}function VMe(t,e,n,r){const s=n.enter("paragraph"),a=n.enter("phrasing"),i=n.containerPhrasing(t,r);return a(),s(),i}const $Me=$0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function qMe(t,e,n,r){return(t.children.some(function(i){return $Me(i)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function zMe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}xte.peek=GMe;function xte(t,e,n,r){const s=zMe(n),a=n.enter("strong"),i=n.createTracker(r);let l=i.move(s+s);return l+=i.move(n.containerPhrasing(t,C({before:l,after:s},i.current()))),l+=i.move(s+s),a(),l}function GMe(t,e,n){return n.options.strong||"*"}function WMe(t,e,n,r){return n.safe(t.value,r)}function ZMe(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function KMe(t,e,n){const r=(yte(n)+(n.options.ruleSpaces?" ":"")).repeat(ZMe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const rj={blockquote:xMe,break:ML,code:wMe,definition:kMe,emphasis:lte,hardBreak:ML,heading:NMe,html:dte,image:fte,imageReference:mte,inlineCode:pte,link:hte,linkReference:vte,list:BMe,listItem:HMe,paragraph:VMe,root:qMe,strong:xte,text:WMe,thematicBreak:KMe},YMe=[QMe];function QMe(t,e,n,r){if(e.type==="code"&&sS(e,r)&&(t.type==="list"||t.type===e.type&&sS(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&ute(e,r))?void 0:n.spread?1:0}const Oc=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],JMe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Oc},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Oc},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:"(?:[ 	\r\n*])"},{character:"*",inConstruct:"phrasing",notInConstruct:Oc},{atBreak:!0,character:"+",after:"(?:[ 	\r\n])"},{atBreak:!0,character:"-",after:"(?:[ 	\r\n-])"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ 	\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Oc},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Oc},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Oc},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Oc},{atBreak:!0,character:"~"}];function bte(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}const XMe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Cte(t){return t.replace(XMe,eEe)}function eEe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return bte(n.slice(a?2:1),a?16:10)}return Kp(n)||t}function tEe(t){return t.label||!t.identifier?t.label||"":Cte(t.identifier)}function nEe(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function rEe(t,e,n){const r=e.indexStack,s=t.children||[],a=[];let i=-1,l=n.before;r.push(-1);let c=e.createTracker(n);for(;++i<s.length;){const u=s[i];let d;if(r[r.length-1]=i,i+1<s.length){let f=e.handle.handlers[s[i+1].type];f&&f.peek&&(f=f.peek),d=f?f(s[i+1],t,e,C({before:"",after:""},c.current())).charAt(0):""}else d=n.after;a.length>0&&(l==="\r"||l==="\n")&&u.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),l=" ",c=e.createTracker(n),c.move(a.join(""))),a.push(c.move(e.handle(u,t,e,P(C({},c.current()),{before:l,after:d})))),l=a[a.length-1].slice(-1)}return r.pop(),a.join("")}function sEe(t,e,n){const r=e.indexStack,s=t.children||[],a=e.createTracker(n),i=[];let l=-1;for(r.push(-1);++l<s.length;){const c=s[l];r[r.length-1]=l,i.push(a.move(e.handle(c,t,e,C({before:"\n",after:"\n"},a.current())))),c.type!=="list"&&(e.bulletLastUsed=void 0),l<s.length-1&&i.push(a.move(aEe(c,s[l+1],t,e)))}return r.pop(),i.join("")}function aEe(t,e,n,r){let s=r.join.length;for(;s--;){const a=r.join[s](t,e,n,r);if(a===!0||a===1)break;if(typeof a=="number")return"\n".repeat(1+a);if(a===!1)return"\n\n<!---->\n\n"}return"\n\n"}const oEe=/\r?\n|\r/g;function iEe(t,e){const n=[];let r=0,s=0,a;for(;a=oEe.exec(t);)i(t.slice(r,a.index)),n.push(a[0]),r=a.index+a[0].length,s++;return i(t.slice(r)),n.join("");function i(l){n.push(e(l,s,!l))}}function lEe(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),s=[],a=[],i={};let l=-1;for(;++l<t.unsafe.length;){const d=t.unsafe[l];if(!ite(t.stack,d))continue;const f=t.compilePattern(d);let m;for(;m=f.exec(r);){const p="before"in d||!!d.atBreak,h="after"in d,v=m.index+(p?m[1].length:0);s.includes(v)?(i[v].before&&!p&&(i[v].before=!1),i[v].after&&!h&&(i[v].after=!1)):(s.push(v),i[v]={before:p,after:h})}}s.sort(cEe);let c=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(l=-1;++l<s.length;){const d=s[l];d<c||d>=u||d+1<u&&s[l+1]===d+1&&i[d].after&&!i[d+1].before&&!i[d+1].after||s[l-1]===d-1&&i[d].before&&!i[d-1].before&&!i[d-1].after||(c!==d&&a.push(jL(r.slice(c,d),"\\")),c=d,/[!-/:-@[-`{-~]/.test(r.charAt(d))&&(!n.encode||!n.encode.includes(r.charAt(d)))?a.push("\\"):(a.push("&#x"+r.charCodeAt(d).toString(16).toUpperCase()+";"),c++))}return a.push(jL(r.slice(c,u),n.after)),a.join("")}function cEe(t,e){return t-e}function jL(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],s=[],a=t+e;let i=-1,l=0,c;for(;c=n.exec(a);)r.push(c.index);for(;++i<r.length;)l!==r[i]&&s.push(t.slice(l,r[i])),s.push("\\"),l=r[i];return s.push(t.slice(l)),s.join("")}function uEe(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,s=n.line||1,a=n.column||1;return{move:c,current:i,shift:l};function i(){return{now:{line:s,column:a},lineShift:r}}function l(u){r+=u}function c(u){const d=u||"",f=d.split(/\r?\n|\r/g),m=f[f.length-1];return s+=f.length-1,a=f.length===1?a+m.length:1+m.length+r,d}}function dEe(t,e={}){const n={enter:s,indentLines:iEe,associationId:tEe,containerPhrasing:gEe,containerFlow:hEe,createTracker:uEe,compilePattern:nEe,safe:vEe,stack:[],unsafe:[...JMe],join:[...YMe],handlers:C({},rj),options:{},indexStack:[],handle:void 0};ote(n,e),n.options.tightDefinitions&&n.join.push(pEe),n.handle=hMe("type",{invalid:fEe,unknown:mEe,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+="\n"),r;function s(a){return n.stack.push(a),i;function i(){n.stack.pop()}}}function fEe(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function mEe(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function pEe(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function gEe(t,e){return rEe(t,this,e)}function hEe(t,e){return sEe(t,this,e)}function vEe(t,e){return lEe(this,t,e)}function yEe(){return{enter:{table:xEe,tableData:TL,tableHeader:TL,tableRow:CEe},exit:{codeText:_Ee,table:bEe,tableData:c9,tableHeader:c9,tableRow:c9}}}function xEe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function bEe(t){this.exit(t),this.data.inTable=void 0}function CEe(t){this.enter({type:"tableRow",children:[]},t)}function c9(t){this.exit(t)}function TL(t){this.enter({type:"tableCell",children:[]},t)}function _Ee(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,wEe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function wEe(t,e){return e==="|"?e:t}function SEe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,s=e.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:i,tableCell:c,tableRow:l}};function i(p,h,v,y){return u(d(p,v,y),p.align)}function l(p,h,v,y){const x=f(p,v,y),b=u([x]);return b.slice(0,b.indexOf("\n"))}function c(p,h,v,y){const x=v.enter("tableCell"),b=v.enter("phrasing"),_=v.containerPhrasing(p,P(C({},y),{before:a,after:a}));return b(),x(),_}function u(p,h){return mMe(p,{align:h,alignDelimiters:r,padding:n,stringLength:s})}function d(p,h,v){const y=p.children;let x=-1;const b=[],_=h.enter("table");for(;++x<y.length;)b[x]=f(y[x],h,v);return _(),b}function f(p,h,v){const y=p.children;let x=-1;const b=[],_=h.enter("tableRow");for(;++x<y.length;)b[x]=c(y[x],p,h,v);return _(),b}function m(p,h,v){let y=rj.inlineCode(p,h,v);return v.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function kEe(){return{exit:{taskListCheckValueChecked:NL,taskListCheckValueUnchecked:NL,paragraph:EEe}}}function MEe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:jEe}}}function NL(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function EEe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=e.children;let a=-1,i;for(;++a<s.length;){const l=s[a];if(l.type==="paragraph"){i=l;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function jEe(t,e,n,r){const s=t.children[0],a=typeof t.checked=="boolean"&&s&&s.type==="paragraph",i="["+(t.checked?"x":" ")+"] ",l=n.createTracker(r);a&&l.move(i);let c=rj.listItem(t,e,n,C(C({},r),l.current()));return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+i}}function TEe(){return[Oke(),Zke(),lMe(),yEe(),kEe()]}function NEe(t){return{extensions:[Dke(),Kke(),cMe(),SEe(t),MEe()]}}function ua(t,e,n,r){const s=t.length;let a=0,i;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(e,n),t.splice(...i);else for(n&&t.splice(e,n);a<r.length;)i=r.slice(a,a+1e4),i.unshift(e,0),t.splice(...i),a+=1e4,e+=1e4}function Xs(t,e){return t.length>0?(ua(t,t.length,0,e),t):e}const AL={}.hasOwnProperty;function _te(t){const e={};let n=-1;for(;++n<t.length;)AEe(e,t[n]);return e}function AEe(t,e){let n;for(n in e){const s=(AL.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let i;if(a)for(i in a){AL.call(s,i)||(s[i]=[]);const l=a[i];PEe(s[i],Array.isArray(l)?l:l?[l]:[])}}}function PEe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ua(t,0,0,r)}const IEe={tokenize:BEe,partial:!0},wte={tokenize:UEe,partial:!0},Ste={tokenize:HEe,partial:!0},kte={tokenize:VEe,partial:!0},LEe={tokenize:$Ee,partial:!0},Mte={tokenize:DEe,previous:jte},Ete={tokenize:FEe,previous:Tte},sl={tokenize:OEe,previous:Nte},Yo={};function REe(){return{text:Yo}}let Dc=48;for(;Dc<123;)Yo[Dc]=sl,Dc++,Dc===58?Dc=65:Dc===91&&(Dc=97);Yo[43]=sl;Yo[45]=sl;Yo[46]=sl;Yo[95]=sl;Yo[72]=[sl,Ete];Yo[104]=[sl,Ete];Yo[87]=[sl,Mte];Yo[119]=[sl,Mte];function OEe(t,e,n){const r=this;let s,a;return i;function i(f){return!aS(f)||!Nte.call(r,r.previous)||sj(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),l(f))}function l(f){return aS(f)?(t.consume(f),l):f===64?(t.consume(f),c):n(f)}function c(f){return f===46?t.check(LEe,d,u)(f):f===45||f===95||_r(f)?(a=!0,t.consume(f),c):d(f)}function u(f){return t.consume(f),s=!0,c}function d(f){return a&&s&&Lr(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function DEe(t,e,n){const r=this;return s;function s(i){return i!==87&&i!==119||!jte.call(r,r.previous)||sj(r.events)?n(i):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(IEe,t.attempt(wte,t.attempt(Ste,a),n),n)(i))}function a(i){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(i)}}function FEe(t,e,n){const r=this;let s="",a=!1;return i;function i(f){return(f===72||f===104)&&Tte.call(r,r.previous)&&!sj(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),s+=String.fromCodePoint(f),t.consume(f),l):n(f)}function l(f){if(Lr(f)&&s.length<5)return s+=String.fromCodePoint(f),t.consume(f),l;if(f===58){const m=s.toLowerCase();if(m==="http"||m==="https")return t.consume(f),c}return n(f)}function c(f){return f===47?(t.consume(f),a?u:(a=!0,c)):n(f)}function u(f){return f===null||ih(f)||Zt(f)||Au(f)||N5(f)?n(f):t.attempt(wte,t.attempt(Ste,d),n)(f)}function d(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function BEe(t,e,n){let r=0;return s;function s(i){return(i===87||i===119)&&r<3?(r++,t.consume(i),s):i===46&&r===3?(t.consume(i),a):n(i)}function a(i){return i===null?n(i):e(i)}}function UEe(t,e,n){let r,s,a;return i;function i(u){return u===46||u===95?t.check(kte,c,l)(u):u===null||Zt(u)||Au(u)||u!==45&&N5(u)?c(u):(a=!0,t.consume(u),i)}function l(u){return u===95?r=!0:(s=r,r=void 0),t.consume(u),i}function c(u){return s||r||!a?n(u):e(u)}}function HEe(t,e){let n=0,r=0;return s;function s(i){return i===40?(n++,t.consume(i),s):i===41&&r<n?a(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?t.check(kte,e,a)(i):i===null||Zt(i)||Au(i)?e(i):(t.consume(i),s)}function a(i){return i===41&&r++,t.consume(i),s}}function VEe(t,e,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(t.consume(l),r):l===38?(t.consume(l),a):l===93?(t.consume(l),s):l===60||l===null||Zt(l)||Au(l)?e(l):n(l)}function s(l){return l===null||l===40||l===91||Zt(l)||Au(l)?e(l):r(l)}function a(l){return Lr(l)?i(l):n(l)}function i(l){return l===59?(t.consume(l),r):Lr(l)?(t.consume(l),i):n(l)}}function $Ee(t,e,n){return r;function r(a){return t.consume(a),s}function s(a){return _r(a)?n(a):e(a)}}function jte(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Zt(t)}function Tte(t){return!Lr(t)}function Nte(t){return!(t===47||aS(t))}function aS(t){return t===43||t===45||t===46||t===95||_r(t)}function sj(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Df(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const a=t.charCodeAt(n);let i="";if(a===37&&_r(t.charCodeAt(n+1))&&_r(t.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(i=String.fromCharCode(a));else if(a>55295&&a<57344){const l=t.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(i=String.fromCharCode(a,l),s=1):i="ï¿½"}else i=String.fromCharCode(a);i&&(e.push(t.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function lh(t){if(t===null||Zt(t)||Au(t))return 1;if(N5(t))return 2}function A5(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const a=t[s].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const oS={name:"attention",tokenize:zEe,resolveAll:qEe};function qEe(t,e){let n=-1,r,s,a,i,l,c,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f=Object.assign({},t[r][1].end),m=Object.assign({},t[n][1].start);PL(f,-c),PL(m,c),i={type:c>1?"strongSequence":"emphasisSequence",start:f,end:Object.assign({},t[r][1].end)},l={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:m},a={type:c>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},s={type:c>1?"strong":"emphasis",start:Object.assign({},i.start),end:Object.assign({},l.end)},t[r][1].end=Object.assign({},i.start),t[n][1].start=Object.assign({},l.end),u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Xs(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Xs(u,[["enter",s,e],["enter",i,e],["exit",i,e],["enter",a,e]]),u=Xs(u,A5(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Xs(u,[["exit",a,e],["enter",l,e],["exit",l,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Xs(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,ua(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function zEe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=lh(r);let a;return i;function i(c){return a=c,t.enter("attentionSequence"),l(c)}function l(c){if(c===a)return t.consume(c),l;const u=t.exit("attentionSequence"),d=lh(c),f=!d||d===2&&s||n.includes(c),m=!s||s===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(s||!m)),u._close=!!(a===42?m:m&&(d||!f)),e(c)}}function PL(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const GEe={name:"autolink",tokenize:WEe};function WEe(t,e,n){let r=0;return s;function s(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(p){return Lr(p)?(t.consume(p),i):p===64?n(p):u(p)}function i(p){return p===43||p===45||p===46||_r(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(t.consume(p),r=0,c):(p===43||p===45||p===46||_r(p))&&r++<32?(t.consume(p),l):(r=0,u(p))}function c(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||ih(p)?n(p):(t.consume(p),c)}function u(p){return p===64?(t.consume(p),d):oke(p)?(t.consume(p),u):n(p)}function d(p){return _r(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):m(p)}function m(p){if((p===45||_r(p))&&r++<63){const h=p===45?m:f;return t.consume(p),h}return n(p)}}const q0={tokenize:ZEe,partial:!0};function ZEe(t,e,n){return r;function r(a){return Ut(a)?It(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||mt(a)?e(a):n(a)}}const Ate={name:"blockQuote",tokenize:KEe,continuation:{tokenize:YEe},exit:QEe};function KEe(t,e,n){const r=this;return s;function s(i){if(i===62){const l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(i),t.exit("blockQuoteMarker"),a}return n(i)}function a(i){return Ut(i)?(t.enter("blockQuotePrefixWhitespace"),t.consume(i),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(i))}}function YEe(t,e,n){const r=this;return s;function s(i){return Ut(i)?It(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):a(i)}function a(i){return t.attempt(Ate,e,n)(i)}}function QEe(t){t.exit("blockQuote")}const Pte={name:"characterEscape",tokenize:JEe};function JEe(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return lke(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const Ite={name:"characterReference",tokenize:XEe};function XEe(t,e,n){const r=this;let s=0,a,i;return l;function l(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),c}function c(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,i=_r,d(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,i=ike,d):(t.enter("characterReferenceValue"),a=7,i=rS,d(f))}function d(f){if(f===59&&s){const m=t.exit("characterReferenceValue");return i===_r&&!Kp(r.sliceSerialize(m))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return i(f)&&s++<a?(t.consume(f),d):n(f)}}const IL={tokenize:tje,partial:!0},LL={name:"codeFenced",tokenize:eje,concrete:!0};function eje(t,e,n){const r=this,s={tokenize:S,partial:!0};let a=0,i=0,l;return c;function c(k){return u(k)}function u(k){const M=r.events[r.events.length-1];return a=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,l=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===l?(i++,t.consume(k),d):i<3?n(k):(t.exit("codeFencedFenceSequence"),Ut(k)?It(t,f,"whitespace")(k):f(k))}function f(k){return k===null||mt(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(IL,v,w)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||mt(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(k)):Ut(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),It(t,p,"whitespace")(k)):k===96&&k===l?n(k):(t.consume(k),m)}function p(k){return k===null||mt(k)?f(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||mt(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?n(k):(t.consume(k),h)}function v(k){return t.attempt(s,w,y)(k)}function y(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),x}function x(k){return a>0&&Ut(k)?It(t,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||mt(k)?t.check(IL,v,w)(k):(t.enter("codeFlowValue"),_(k))}function _(k){return k===null||mt(k)?(t.exit("codeFlowValue"),b(k)):(t.consume(k),_)}function w(k){return t.exit("codeFenced"),e(k)}function S(k,M,E){let T=0;return j;function j(R){return k.enter("lineEnding"),k.consume(R),k.exit("lineEnding"),A}function A(R){return k.enter("codeFencedFence"),Ut(R)?It(k,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):I(R)}function I(R){return R===l?(k.enter("codeFencedFenceSequence"),L(R)):E(R)}function L(R){return R===l?(T++,k.consume(R),L):T>=i?(k.exit("codeFencedFenceSequence"),Ut(R)?It(k,O,"whitespace")(R):O(R)):E(R)}function O(R){return R===null||mt(R)?(k.exit("codeFencedFence"),M(R)):E(R)}}}function tje(t,e,n){const r=this;return s;function s(i){return i===null?n(i):(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),a)}function a(i){return r.parser.lazy[r.now().line]?n(i):e(i)}}const u9={name:"codeIndented",tokenize:rje},nje={tokenize:sje,partial:!0};function rje(t,e,n){const r=this;return s;function s(u){return t.enter("codeIndented"),It(t,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?c(u):mt(u)?t.attempt(nje,i,c)(u):(t.enter("codeFlowValue"),l(u))}function l(u){return u===null||mt(u)?(t.exit("codeFlowValue"),i(u)):(t.consume(u),l)}function c(u){return t.exit("codeIndented"),e(u)}}function sje(t,e,n){const r=this;return s;function s(i){return r.parser.lazy[r.now().line]?n(i):mt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),s):It(t,a,"linePrefix",5)(i)}function a(i){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(i):mt(i)?s(i):n(i)}}const aje={name:"codeText",tokenize:lje,resolve:oje,previous:ije};function oje(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function ije(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lje(t,e,n){let r=0,s,a;return i;function i(f){return t.enter("codeText"),t.enter("codeTextSequence"),l(f)}function l(f){return f===96?(t.consume(f),r++,l):(t.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),c):f===96?(a=t.enter("codeTextSequence"),s=0,d(f)):mt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||mt(f)?(t.exit("codeTextData"),c(f)):(t.consume(f),u)}function d(f){return f===96?(t.consume(f),s++,d):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",u(f))}}class cje{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&mm(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),mm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),mm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);mm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);mm(this.left,n.reverse())}}}function mm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Lte(t){const e={};let n=-1,r,s,a,i,l,c,u;const d=new cje(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,uje(d,n)),n=e[n],u=!0);else if(r[1]._container){for(a=n,s=void 0;a--&&(i=d.get(a),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank");)i[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=a);s&&(r[1].end=Object.assign({},d.get(s)[1].start),l=d.slice(s,n),l.unshift(r),d.splice(s,n-s+1,l))}}return ua(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function uje(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const a=[],i=n._tokenizer||r.parser[n.contentType](n.start),l=i.events,c=[],u={};let d,f,m=-1,p=n,h=0,v=0;const y=[v];for(;p;){for(;t.get(++s)[1]!==p;);a.push(s),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&i.defineSkip(p.start),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(v=m+1,y.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(i.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),m=y.length;m--;){const x=l.slice(y[m],y[m+1]),b=a.pop();c.push([b,b+x.length-1]),t.splice(b,2,x)}for(c.reverse(),m=-1;++m<c.length;)u[h+c[m][0]]=h+c[m][1],h+=c[m][1]-c[m][0]-1;return u}const dje={tokenize:pje,resolve:mje},fje={tokenize:gje,partial:!0};function mje(t){return Lte(t),t}function pje(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?a(l):mt(l)?t.check(fje,i,a)(l):(t.consume(l),s)}function a(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function i(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function gje(t,e,n){const r=this;return s;function s(i){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),It(t,a,"linePrefix")}function a(i){if(i===null||mt(i))return n(i);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(i):t.interrupt(r.parser.constructs.flow,n,e)(i)}}function Rte(t,e,n,r,s,a,i,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(t.enter(r),t.enter(s),t.enter(a),t.consume(x),t.exit(a),m):x===null||x===32||x===41||ih(x)?n(x):(t.enter(r),t.enter(i),t.enter(l),t.enter("chunkString",{contentType:"string"}),v(x))}function m(x){return x===62?(t.enter(a),t.consume(x),t.exit(a),t.exit(s),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(t.exit("chunkString"),t.exit(l),m(x)):x===null||x===60||mt(x)?n(x):(t.consume(x),x===92?h:p)}function h(x){return x===60||x===62||x===92?(t.consume(x),p):p(x)}function v(x){return!d&&(x===null||x===41||Zt(x))?(t.exit("chunkString"),t.exit(l),t.exit(i),t.exit(r),e(x)):d<u&&x===40?(t.consume(x),d++,v):x===41?(t.consume(x),d--,v):x===null||x===32||x===40||ih(x)?n(x):(t.consume(x),x===92?y:v)}function y(x){return x===40||x===41||x===92?(t.consume(x),v):v(x)}}function Ote(t,e,n,r,s,a){const i=this;let l=0,c;return u;function u(p){return t.enter(r),t.enter(s),t.consume(p),t.exit(s),t.enter(a),d}function d(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(p):p===93?(t.exit(a),t.enter(s),t.consume(p),t.exit(s),t.exit(r),e):mt(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||mt(p)||l++>999?(t.exit("chunkString"),d(p)):(t.consume(p),c||(c=!Ut(p)),p===92?m:f)}function m(p){return p===91||p===92||p===93?(t.consume(p),l++,f):f(p)}}function Dte(t,e,n,r,s,a){let i;return l;function l(m){return m===34||m===39||m===40?(t.enter(r),t.enter(s),t.consume(m),t.exit(s),i=m===40?41:m,c):n(m)}function c(m){return m===i?(t.enter(s),t.consume(m),t.exit(s),t.exit(r),e):(t.enter(a),u(m))}function u(m){return m===i?(t.exit(a),c(i)):m===null?n(m):mt(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),It(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===i||m===null||mt(m)?(t.exit("chunkString"),u(m)):(t.consume(m),m===92?f:d)}function f(m){return m===i||m===92?(t.consume(m),d):d(m)}}const hje={name:"definition",tokenize:yje},vje={tokenize:xje,partial:!0};function yje(t,e,n){const r=this;let s;return a;function a(p){return t.enter("definition"),i(p)}function i(p){return Ote.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return s=qa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),c):n(p)}function c(p){return Zt(p)?Si(t,u)(p):u(p)}function u(p){return Rte(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(vje,f,f)(p)}function f(p){return Ut(p)?It(t,m,"whitespace")(p):m(p)}function m(p){return p===null||mt(p)?(t.exit("definition"),r.parser.defined.push(s),e(p)):n(p)}}function xje(t,e,n){return r;function r(l){return Zt(l)?Si(t,s)(l):n(l)}function s(l){return Dte(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return Ut(l)?It(t,i,"whitespace")(l):i(l)}function i(l){return l===null||mt(l)?e(l):n(l)}}const bje={name:"hardBreakEscape",tokenize:Cje};function Cje(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return mt(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const _je={name:"headingAtx",tokenize:Sje,resolve:wje};function wje(t,e){let n=t.length-2,r=3,s,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ua(t,r,n-r+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}function Sje(t,e,n){let r=0;return s;function s(d){return t.enter("atxHeading"),a(d)}function a(d){return t.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(t.consume(d),i):d===null||Zt(d)?(t.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(t.enter("atxHeadingSequence"),c(d)):d===null||mt(d)?(t.exit("atxHeading"),e(d)):Ut(d)?It(t,l,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function c(d){return d===35?(t.consume(d),c):(t.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Zt(d)?(t.exit("atxHeadingText"),l(d)):(t.consume(d),u)}}const kje=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],RL=["pre","script","style","textarea"],Mje={name:"htmlFlow",tokenize:Nje,resolveTo:Tje,concrete:!0},Eje={tokenize:Pje,partial:!0},jje={tokenize:Aje,partial:!0};function Tje(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Nje(t,e,n){const r=this;let s,a,i,l,c;return u;function u(F){return d(F)}function d(F){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(F),f}function f(F){return F===33?(t.consume(F),m):F===47?(t.consume(F),a=!0,v):F===63?(t.consume(F),s=3,r.interrupt?e:D):Lr(F)?(t.consume(F),i=String.fromCharCode(F),y):n(F)}function m(F){return F===45?(t.consume(F),s=2,p):F===91?(t.consume(F),s=5,l=0,h):Lr(F)?(t.consume(F),s=4,r.interrupt?e:D):n(F)}function p(F){return F===45?(t.consume(F),r.interrupt?e:D):n(F)}function h(F){const X="CDATA[";return F===X.charCodeAt(l++)?(t.consume(F),l===X.length?r.interrupt?e:I:h):n(F)}function v(F){return Lr(F)?(t.consume(F),i=String.fromCharCode(F),y):n(F)}function y(F){if(F===null||F===47||F===62||Zt(F)){const X=F===47,te=i.toLowerCase();return!X&&!a&&RL.includes(te)?(s=1,r.interrupt?e(F):I(F)):kje.includes(i.toLowerCase())?(s=6,X?(t.consume(F),x):r.interrupt?e(F):I(F)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):a?b(F):_(F))}return F===45||_r(F)?(t.consume(F),i+=String.fromCharCode(F),y):n(F)}function x(F){return F===62?(t.consume(F),r.interrupt?e:I):n(F)}function b(F){return Ut(F)?(t.consume(F),b):j(F)}function _(F){return F===47?(t.consume(F),j):F===58||F===95||Lr(F)?(t.consume(F),w):Ut(F)?(t.consume(F),_):j(F)}function w(F){return F===45||F===46||F===58||F===95||_r(F)?(t.consume(F),w):S(F)}function S(F){return F===61?(t.consume(F),k):Ut(F)?(t.consume(F),S):_(F)}function k(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),c=F,M):Ut(F)?(t.consume(F),k):E(F)}function M(F){return F===c?(t.consume(F),c=null,T):F===null||mt(F)?n(F):(t.consume(F),M)}function E(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||Zt(F)?S(F):(t.consume(F),E)}function T(F){return F===47||F===62||Ut(F)?_(F):n(F)}function j(F){return F===62?(t.consume(F),A):n(F)}function A(F){return F===null||mt(F)?I(F):Ut(F)?(t.consume(F),A):n(F)}function I(F){return F===45&&s===2?(t.consume(F),H):F===60&&s===1?(t.consume(F),V):F===62&&s===4?(t.consume(F),Y):F===63&&s===3?(t.consume(F),D):F===93&&s===5?(t.consume(F),$):mt(F)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(Eje,G,L)(F)):F===null||mt(F)?(t.exit("htmlFlowData"),L(F)):(t.consume(F),I)}function L(F){return t.check(jje,O,G)(F)}function O(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),R}function R(F){return F===null||mt(F)?L(F):(t.enter("htmlFlowData"),I(F))}function H(F){return F===45?(t.consume(F),D):I(F)}function V(F){return F===47?(t.consume(F),i="",z):I(F)}function z(F){if(F===62){const X=i.toLowerCase();return RL.includes(X)?(t.consume(F),Y):I(F)}return Lr(F)&&i.length<8?(t.consume(F),i+=String.fromCharCode(F),z):I(F)}function $(F){return F===93?(t.consume(F),D):I(F)}function D(F){return F===62?(t.consume(F),Y):F===45&&s===2?(t.consume(F),D):I(F)}function Y(F){return F===null||mt(F)?(t.exit("htmlFlowData"),G(F)):(t.consume(F),Y)}function G(F){return t.exit("htmlFlow"),e(F)}}function Aje(t,e,n){const r=this;return s;function s(i){return mt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),a):n(i)}function a(i){return r.parser.lazy[r.now().line]?n(i):e(i)}}function Pje(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(q0,e,n)}}const Ije={name:"htmlText",tokenize:Lje};function Lje(t,e,n){const r=this;let s,a,i;return l;function l(D){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(D),c}function c(D){return D===33?(t.consume(D),u):D===47?(t.consume(D),S):D===63?(t.consume(D),_):Lr(D)?(t.consume(D),E):n(D)}function u(D){return D===45?(t.consume(D),d):D===91?(t.consume(D),a=0,h):Lr(D)?(t.consume(D),b):n(D)}function d(D){return D===45?(t.consume(D),p):n(D)}function f(D){return D===null?n(D):D===45?(t.consume(D),m):mt(D)?(i=f,V(D)):(t.consume(D),f)}function m(D){return D===45?(t.consume(D),p):f(D)}function p(D){return D===62?H(D):D===45?m(D):f(D)}function h(D){const Y="CDATA[";return D===Y.charCodeAt(a++)?(t.consume(D),a===Y.length?v:h):n(D)}function v(D){return D===null?n(D):D===93?(t.consume(D),y):mt(D)?(i=v,V(D)):(t.consume(D),v)}function y(D){return D===93?(t.consume(D),x):v(D)}function x(D){return D===62?H(D):D===93?(t.consume(D),x):v(D)}function b(D){return D===null||D===62?H(D):mt(D)?(i=b,V(D)):(t.consume(D),b)}function _(D){return D===null?n(D):D===63?(t.consume(D),w):mt(D)?(i=_,V(D)):(t.consume(D),_)}function w(D){return D===62?H(D):_(D)}function S(D){return Lr(D)?(t.consume(D),k):n(D)}function k(D){return D===45||_r(D)?(t.consume(D),k):M(D)}function M(D){return mt(D)?(i=M,V(D)):Ut(D)?(t.consume(D),M):H(D)}function E(D){return D===45||_r(D)?(t.consume(D),E):D===47||D===62||Zt(D)?T(D):n(D)}function T(D){return D===47?(t.consume(D),H):D===58||D===95||Lr(D)?(t.consume(D),j):mt(D)?(i=T,V(D)):Ut(D)?(t.consume(D),T):H(D)}function j(D){return D===45||D===46||D===58||D===95||_r(D)?(t.consume(D),j):A(D)}function A(D){return D===61?(t.consume(D),I):mt(D)?(i=A,V(D)):Ut(D)?(t.consume(D),A):T(D)}function I(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),s=D,L):mt(D)?(i=I,V(D)):Ut(D)?(t.consume(D),I):(t.consume(D),O)}function L(D){return D===s?(t.consume(D),s=void 0,R):D===null?n(D):mt(D)?(i=L,V(D)):(t.consume(D),L)}function O(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||Zt(D)?T(D):(t.consume(D),O)}function R(D){return D===47||D===62||Zt(D)?T(D):n(D)}function H(D){return D===62?(t.consume(D),t.exit("htmlTextData"),t.exit("htmlText"),e):n(D)}function V(D){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),z}function z(D){return Ut(D)?It(t,$,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):$(D)}function $(D){return t.enter("htmlTextData"),i(D)}}const aj={name:"labelEnd",tokenize:Uje,resolveTo:Bje,resolveAll:Fje},Rje={tokenize:Hje},Oje={tokenize:Vje},Dje={tokenize:$je};function Fje(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function Bje(t,e){let n=t.length,r=0,s,a,i,l;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(i){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(i=n);const c={type:t[a][1].type==="labelLink"?"link":"image",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)},u={type:"label",start:Object.assign({},t[a][1].start),end:Object.assign({},t[i][1].end)},d={type:"labelText",start:Object.assign({},t[a+r+2][1].end),end:Object.assign({},t[i-2][1].start)};return l=[["enter",c,e],["enter",u,e]],l=Xs(l,t.slice(a+1,a+r+3)),l=Xs(l,[["enter",d,e]]),l=Xs(l,A5(e.parser.constructs.insideSpan.null,t.slice(a+r+4,i-3),e)),l=Xs(l,[["exit",d,e],t[i-2],t[i-1],["exit",u,e]]),l=Xs(l,t.slice(i+1)),l=Xs(l,[["exit",c,e]]),ua(t,a,t.length,l),t}function Uje(t,e,n){const r=this;let s=r.events.length,a,i;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return l;function l(m){return a?a._inactive?f(m):(i=r.parser.defined.includes(qa(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),c):n(m)}function c(m){return m===40?t.attempt(Rje,d,i?d:f)(m):m===91?t.attempt(Oje,d,i?u:f)(m):i?d(m):f(m)}function u(m){return t.attempt(Dje,d,f)(m)}function d(m){return e(m)}function f(m){return a._balanced=!0,n(m)}}function Hje(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),s}function s(f){return Zt(f)?Si(t,a)(f):a(f)}function a(f){return f===41?d(f):Rte(t,i,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function i(f){return Zt(f)?Si(t,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?Dte(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Zt(f)?Si(t,d)(f):d(f)}function d(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function Vje(t,e,n){const r=this;return s;function s(l){return Ote.call(r,t,a,i,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(qa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function i(l){return n(l)}}function $je(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const qje={name:"labelStartImage",tokenize:zje,resolveAll:aj.resolveAll};function zje(t,e,n){const r=this;return s;function s(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),a}function a(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),i):n(l)}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const Gje={name:"labelStartLink",tokenize:Wje,resolveAll:aj.resolveAll};function Wje(t,e,n){const r=this;return s;function s(i){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(i),t.exit("labelMarker"),t.exit("labelLink"),a}function a(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):e(i)}}const d9={name:"lineEnding",tokenize:Zje};function Zje(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),It(t,e,"linePrefix")}}const cg={name:"thematicBreak",tokenize:Kje};function Kje(t,e,n){let r=0,s;return a;function a(u){return t.enter("thematicBreak"),i(u)}function i(u){return s=u,l(u)}function l(u){return u===s?(t.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||mt(u))?(t.exit("thematicBreak"),e(u)):n(u)}function c(u){return u===s?(t.consume(u),r++,c):(t.exit("thematicBreakSequence"),Ut(u)?It(t,l,"whitespace")(u):l(u))}}const cs={name:"list",tokenize:Jje,continuation:{tokenize:Xje},exit:tTe},Yje={tokenize:nTe,partial:!0},Qje={tokenize:eTe,partial:!0};function Jje(t,e,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,i=0;return l;function l(p){const h=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:rS(p)){if(r.containerState.type||(r.containerState.type=h,t.enter(h,{_container:!0})),h==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(cg,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(p)}return n(p)}function c(p){return rS(p)&&++i<10?(t.consume(p),c):(!r.interrupt||i<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(q0,r.interrupt?n:d,t.attempt(Yje,m,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,m(p)}function f(p){return Ut(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),m):n(p)}function m(p){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function Xje(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(q0,s,a);function s(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,It(t,e,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!Ut(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Qje,e,i)(l))}function i(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,It(t,t.attempt(cs,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function eTe(t,e,n){const r=this;return It(t,s,"listItemIndent",r.containerState.size+1);function s(a){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?e(a):n(a)}}function tTe(t){t.exit(this.containerState.type)}function nTe(t,e,n){const r=this;return It(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const i=r.events[r.events.length-1];return!Ut(a)&&i&&i[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const OL={name:"setextUnderline",tokenize:sTe,resolveTo:rTe};function rTe(t,e){let n=t.length,r,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const i={type:"setextHeading",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",i,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[a][1].end)):t[r][1]=i,t.push(["exit",i,e]),t}function sTe(t,e,n){const r=this;let s;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),s=u,i(u)):n(u)}function i(u){return t.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===s?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),Ut(u)?It(t,c,"lineSuffix")(u):c(u))}function c(u){return u===null||mt(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const aTe={tokenize:mTe,partial:!0};function oTe(){return{document:{91:{tokenize:uTe,continuation:{tokenize:dTe},exit:fTe}},text:{91:{tokenize:cTe},93:{add:"after",tokenize:iTe,resolveTo:lTe}}}}function iTe(t,e,n){const r=this;let s=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;s--;){const c=r.events[s][1];if(c.type==="labelImage"){i=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!i||!i._balanced)return n(c);const u=qa(r.sliceSerialize({start:i.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function lTe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},t[t.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",s,e],["exit",s,e],["enter",a,e],["enter",i,e],["exit",i,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...l),t}function cTe(t,e,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,i;return l;function l(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!i||f===null||f===91||Zt(f))return n(f);if(f===93){t.exit("chunkString");const m=t.exit("gfmFootnoteCallString");return s.includes(qa(r.sliceSerialize(m)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return Zt(f)||(i=!0),a++,t.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(t.consume(f),a++,u):u(f)}}function uTe(t,e,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,i=0,l;return c;function c(h){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(h),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(h),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(h)}function d(h){if(i>999||h===93&&!l||h===null||h===91||Zt(h))return n(h);if(h===93){t.exit("chunkString");const v=t.exit("gfmFootnoteDefinitionLabelString");return a=qa(r.sliceSerialize(v)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(h),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),m}return Zt(h)||(l=!0),i++,t.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(t.consume(h),i++,d):d(h)}function m(h){return h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),s.includes(a)||s.push(a),It(t,p,"gfmFootnoteDefinitionWhitespace")):n(h)}function p(h){return e(h)}}function dTe(t,e,n){return t.check(q0,e,t.attempt(aTe,e,n))}function fTe(t){t.exit("gfmFootnoteDefinition")}function mTe(t,e,n){const r=this;return It(t,s,"gfmFootnoteDefinitionIndent",5);function s(a){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?e(a):n(a)}}function pTe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(i,l){let c=-1;for(;++c<i.length;)if(i[c][0]==="enter"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._close){let u=c;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[c][1].end.offset-i[c][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[c][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[c][1].end)},f={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[c][1].start)},m=[["enter",d,l],["enter",i[u][1],l],["exit",i[u][1],l],["enter",f,l]],p=l.parser.constructs.insideSpan.null;p&&ua(m,m.length,0,A5(p,i.slice(u+1,c),l)),ua(m,m.length,0,[["exit",f,l],["enter",i[c][1],l],["exit",i[c][1],l],["exit",d,l]]),ua(i,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<i.length;)i[c][1].type==="strikethroughSequenceTemporary"&&(i[c][1].type="data");return i}function a(i,l,c){const u=this.previous,d=this.events;let f=0;return m;function m(h){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(h):(i.enter("strikethroughSequenceTemporary"),p(h))}function p(h){const v=lh(u);if(h===126)return f>1?c(h):(i.consume(h),f++,p);if(f<2&&!n)return c(h);const y=i.exit("strikethroughSequenceTemporary"),x=lh(h);return y._open=!x||x===2&&!!v,y._close=!v||v===2&&!!x,l(h)}}}class gTe{constructor(){this.map=[]}add(e,n,r){hTe(this,e,n,r)}consume(e){if(this.map.sort(function(a,i){return a[0]-i[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let s=r.pop();for(;s;)e.push(...s),s=r.pop();this.map.length=0}}function hTe(t,e,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<t.map.length;){if(t.map[s][0]===e){t.map[s][1]+=n,t.map[s][2].push(...r);return}s+=1}t.map.push([e,n,r])}}function vTe(t,e){let n=!1;const r=[];for(;e<t.length;){const s=t[e];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function yTe(){return{flow:{null:{tokenize:xTe,resolveAll:bTe}}}}function xTe(t,e,n){const r=this;let s=0,a=0,i;return l;function l(j){let A=r.events.length-1;for(;A>-1;){const O=r.events[A][1].type;if(O==="lineEnding"||O==="linePrefix")A--;else break}const I=A>-1?r.events[A][1].type:null,L=I==="tableHead"||I==="tableRow"?k:c;return L===k&&r.parser.lazy[r.now().line]?n(j):L(j)}function c(j){return t.enter("tableHead"),t.enter("tableRow"),u(j)}function u(j){return j===124||(i=!0,a+=1),d(j)}function d(j){return j===null?n(j):mt(j)?a>1?(a=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),p):n(j):Ut(j)?It(t,d,"whitespace")(j):(a+=1,i&&(i=!1,s+=1),j===124?(t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),i=!0,d):(t.enter("data"),f(j)))}function f(j){return j===null||j===124||Zt(j)?(t.exit("data"),d(j)):(t.consume(j),j===92?m:f)}function m(j){return j===92||j===124?(t.consume(j),f):f(j)}function p(j){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(j):(t.enter("tableDelimiterRow"),i=!1,Ut(j)?It(t,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):h(j))}function h(j){return j===45||j===58?y(j):j===124?(i=!0,t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),v):S(j)}function v(j){return Ut(j)?It(t,y,"whitespace")(j):y(j)}function y(j){return j===58?(a+=1,i=!0,t.enter("tableDelimiterMarker"),t.consume(j),t.exit("tableDelimiterMarker"),x):j===45?(a+=1,x(j)):j===null||mt(j)?w(j):S(j)}function x(j){return j===45?(t.enter("tableDelimiterFiller"),b(j)):S(j)}function b(j){return j===45?(t.consume(j),b):j===58?(i=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(j),t.exit("tableDelimiterMarker"),_):(t.exit("tableDelimiterFiller"),_(j))}function _(j){return Ut(j)?It(t,w,"whitespace")(j):w(j)}function w(j){return j===124?h(j):j===null||mt(j)?!i||s!==a?S(j):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(j)):S(j)}function S(j){return n(j)}function k(j){return t.enter("tableRow"),M(j)}function M(j){return j===124?(t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),M):j===null||mt(j)?(t.exit("tableRow"),e(j)):Ut(j)?It(t,M,"whitespace")(j):(t.enter("data"),E(j))}function E(j){return j===null||j===124||Zt(j)?(t.exit("data"),M(j)):(t.consume(j),j===92?T:E)}function T(j){return j===92||j===124?(t.consume(j),E):E(j)}}function bTe(t,e){let n=-1,r=!0,s=0,a=[0,0,0,0],i=[0,0,0,0],l=!1,c=0,u,d,f;const m=new gTe;for(;++n<t.length;){const p=t[n],h=p[1];p[0]==="enter"?h.type==="tableHead"?(l=!1,c!==0&&(DL(m,e,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},m.add(n,0,[["enter",u,e]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],i=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},m.add(n,0,[["enter",d,e]])),s=h.type==="tableDelimiterRow"?2:d?3:1):s&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(a[1]!==0&&(i[0]=i[1],f=t2(m,e,a,s,void 0,f),a=[0,0,0,0]),i[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(i[0]=i[1],f=t2(m,e,a,s,void 0,f)),a=i,i=[a[1],n,0,0])):h.type==="tableHead"?(l=!0,c=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(c=n,a[1]!==0?(i[0]=i[1],f=t2(m,e,a,s,n,f)):i[1]!==0&&(f=t2(m,e,i,s,n,f)),s=0):s&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(i[3]=n)}for(c!==0&&DL(m,e,c,u,d),m.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=vTe(e.events,n))}return t}function t2(t,e,n,r,s,a){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(a.end=Object.assign({},D1(e.events,n[0])),t.add(n[0],0,[["exit",a,e]]));const c=D1(e.events,n[1]);if(a={type:i,start:Object.assign({},c),end:Object.assign({},c)},t.add(n[1],0,[["enter",a,e]]),n[2]!==0){const u=D1(e.events,n[2]),d=D1(e.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const m=e.events[n[2]],p=e.events[n[3]];if(m[1].end=Object.assign({},p[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,v=n[3]-n[2]-1;t.add(h,v,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return s!==void 0&&(a.end=Object.assign({},D1(e.events,s)),t.add(s,0,[["exit",a,e]]),a=void 0),a}function DL(t,e,n,r,s){const a=[],i=D1(e.events,n);s&&(s.end=Object.assign({},i),a.push(["exit",s,e])),r.end=Object.assign({},i),a.push(["exit",r,e]),t.add(n+1,0,a)}function D1(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const CTe={tokenize:wTe};function _Te(){return{text:{91:CTe}}}function wTe(t,e,n){const r=this;return s;function s(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),a)}function a(c){return Zt(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),i):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),i):n(c)}function i(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),l):n(c)}function l(c){return mt(c)?e(c):Ut(c)?t.check({tokenize:STe},e,n)(c):n(c)}}function STe(t,e,n){return It(t,r,"whitespace");function r(s){return s===null?n(s):e(s)}}function kTe(t){return _te([REe(),oTe(),pTe(t),yTe(),_Te()])}const MTe={};function oj(t){const e=this,n=t||MTe,r=e.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(kTe(n)),a.push(TEe()),i.push(NEe(n))}const ETe={tokenize:jTe};function jTe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),It(t,e,"linePrefix")}function s(l){return t.enter("paragraph"),a(l)}function a(l){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,i(l)}function i(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return mt(l)?(t.consume(l),t.exit("chunkText"),a):(t.consume(l),i)}}const TTe={tokenize:NTe},FL={tokenize:ATe};function NTe(t){const e=this,n=[];let r=0,s,a,i;return l;function l(_){if(r<n.length){const w=n[r];return e.containerState=w[1],t.attempt(w[0].continuation,c,u)(_)}return u(_)}function c(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&b();const w=e.events.length;let S=w,k;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){k=e.events[S][1].end;break}x(r);let M=w;for(;M<e.events.length;)e.events[M][1].end=Object.assign({},k),M++;return ua(e.events,S+1,0,e.events.slice(w)),e.events.length=M,u(_)}return l(_)}function u(_){if(r===n.length){if(!s)return m(_);if(s.currentConstruct&&s.currentConstruct.concrete)return h(_);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(FL,d,f)(_)}function d(_){return s&&b(),x(r),m(_)}function f(_){return e.parser.lazy[e.now().line]=r!==n.length,i=e.now().offset,h(_)}function m(_){return e.containerState={},t.attempt(FL,p,h)(_)}function p(_){return r++,n.push([e.currentConstruct,e.containerState]),m(_)}function h(_){if(_===null){s&&b(),x(0),t.consume(_);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:s}),v(_)}function v(_){if(_===null){y(t.exit("chunkFlow"),!0),x(0),t.consume(_);return}return mt(_)?(t.consume(_),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(_),v)}function y(_,w){const S=e.sliceStream(_);if(w&&S.push(null),_.previous=a,a&&(a.next=_),a=_,s.defineSkip(_.start),s.write(S),e.parser.lazy[_.start.line]){let k=s.events.length;for(;k--;)if(s.events[k][1].start.offset<i&&(!s.events[k][1].end||s.events[k][1].end.offset>i))return;const M=e.events.length;let E=M,T,j;for(;E--;)if(e.events[E][0]==="exit"&&e.events[E][1].type==="chunkFlow"){if(T){j=e.events[E][1].end;break}T=!0}for(x(r),k=M;k<e.events.length;)e.events[k][1].end=Object.assign({},j),k++;ua(e.events,E+1,0,e.events.slice(M)),e.events.length=k}}function x(_){let w=n.length;for(;w-- >_;){const S=n[w];e.containerState=S[1],S[0].exit.call(e,t)}n.length=_}function b(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}function ATe(t,e,n){return It(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const PTe={tokenize:ITe};function ITe(t){const e=this,n=t.attempt(q0,r,t.attempt(this.parser.constructs.flowInitial,s,It(t,t.attempt(this.parser.constructs.flow,s,t.attempt(dje,s)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const LTe={resolveAll:Bte()},RTe=Fte("string"),OTe=Fte("text");function Fte(t){return{tokenize:e,resolveAll:Bte(t==="text"?DTe:void 0)};function e(n){const r=this,s=this.parser.constructs[t],a=n.attempt(s,i,l);return i;function i(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=s[d];let m=-1;if(f)for(;++m<f.length;){const p=f[m];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function Bte(t){return e;function e(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,r):n}}function DTe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let a=s.length,i=-1,l=0,c;for(;a--;){const u=s[a];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)l++,i--;if(i)break;i=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(l){const u={type:n===t.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?i:r.start._bufferIndex+i},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}function FTe(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},a=[];let i=[],l=[];const c={consume:b,enter:_,exit:w,attempt:M(S),check:M(k),interrupt:M(k,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:p,sliceSerialize:m,now:h,defineSkip:v,write:f};let d=e.tokenize.call(u,c);return e.resolveAll&&a.push(e),u;function f(A){return i=Xs(i,A),y(),i[i.length-1]!==null?[]:(E(e,0),u.events=A5(a,u.events,u),u.events)}function m(A,I){return UTe(p(A),I)}function p(A){return BTe(i,A)}function h(){const{line:A,column:I,offset:L,_index:O,_bufferIndex:R}=r;return{line:A,column:I,offset:L,_index:O,_bufferIndex:R}}function v(A){s[A.line]=A.column,j()}function y(){let A;for(;r._index<i.length;){const I=i[r._index];if(typeof I=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<I.length;)x(I.charCodeAt(r._bufferIndex));else x(I)}}function x(A){d=d(A)}function b(A){mt(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,j()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=A}function _(A,I){const L=I||{};return L.type=A,L.start=h(),u.events.push(["enter",L,u]),l.push(L),L}function w(A){const I=l.pop();return I.end=h(),u.events.push(["exit",I,u]),I}function S(A,I){E(A,I.from)}function k(A,I){I.restore()}function M(A,I){return L;function L(O,R,H){let V,z,$,D;return Array.isArray(O)?G(O):"tokenize"in O?G([O]):Y(O);function Y(ae){return me;function me(W){const K=W!==null&&ae[W],ne=W!==null&&ae.null,re=[...Array.isArray(K)?K:K?[K]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return G(re)(W)}}function G(ae){return V=ae,z=0,ae.length===0?H:F(ae[z])}function F(ae){return me;function me(W){return D=T(),$=ae,ae.partial||(u.currentConstruct=ae),ae.name&&u.parser.constructs.disable.null.includes(ae.name)?te():ae.tokenize.call(I?Object.assign(Object.create(u),I):u,c,X,te)(W)}}function X(ae){return A($,D),R}function te(ae){return D.restore(),++z<V.length?F(V[z]):H}}}function E(A,I){A.resolveAll&&!a.includes(A)&&a.push(A),A.resolve&&ua(u.events,I,u.events.length-I,A.resolve(u.events.slice(I),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function T(){const A=h(),I=u.previous,L=u.currentConstruct,O=u.events.length,R=Array.from(l);return{restore:H,from:O};function H(){r=A,u.previous=I,u.currentConstruct=L,u.events.length=O,l=R,j()}}function j(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function BTe(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex;let i;if(n===s)i=[t[n].slice(r,a)];else{if(i=t.slice(n,s),r>-1){const l=i[0];typeof l=="string"?i[0]=l.slice(r):i.shift()}a>0&&i.push(t[s].slice(0,a))}return i}function UTe(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const a=t[n];let i;if(typeof a=="string")i=a;else switch(a){case-5:{i="\r";break}case-4:{i="\n";break}case-3:{i="\r\n";break}case-2:{i=e?" ":"	";break}case-1:{if(!e&&s)continue;i=" ";break}default:i=String.fromCharCode(a)}s=a===-2,r.push(i)}return r.join("")}const HTe={42:cs,43:cs,45:cs,48:cs,49:cs,50:cs,51:cs,52:cs,53:cs,54:cs,55:cs,56:cs,57:cs,62:Ate},VTe={91:hje},$Te={[-2]:u9,[-1]:u9,32:u9},qTe={35:_je,42:cg,45:[OL,cg],60:Mje,61:OL,95:cg,96:LL,126:LL},zTe={38:Ite,92:Pte},GTe={[-5]:d9,[-4]:d9,[-3]:d9,33:qje,38:Ite,42:oS,60:[GEe,Ije],91:Gje,92:[bje,Pte],93:aj,95:oS,96:aje},WTe={null:[oS,LTe]},ZTe={null:[42,95]},KTe={null:[]},YTe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZTe,contentInitial:VTe,disable:KTe,document:HTe,flow:qTe,flowInitial:$Te,insideSpan:WTe,string:zTe,text:GTe},Symbol.toStringTag,{value:"Module"}));function QTe(t){const n=_te([YTe,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:s(ETe),document:s(TTe),flow:s(PTe),string:s(RTe),text:s(OTe)};return r;function s(a){return i;function i(l){return FTe(r,a,l)}}}function JTe(t){for(;!Lte(t););return t}const BL=/[\0\t\n\r]/g;function XTe(){let t=1,e="",n=!0,r;return s;function s(a,i,l){const c=[];let u,d,f,m,p;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(i||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(BL.lastIndex=f,u=BL.exec(a),m=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(m),!u){e=a.slice(f);break}if(p===10&&f===m&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<m&&(c.push(a.slice(f,m)),t+=m-f),p){case 0:{c.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,c.push(-2);t++<d;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}f=m+1}return l&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}function cp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?UL(t.position):"start"in t||"end"in t?UL(t):"line"in t||"column"in t?iS(t):""}function iS(t){return HL(t&&t.line)+":"+HL(t&&t.column)}function UL(t){return iS(t&&t.start)+"-"+iS(t&&t.end)}function HL(t){return t&&typeof t=="number"?t:1}const Ute={}.hasOwnProperty;function eNe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),tNe(n)(JTe(QTe(n).document().write(XTe()(t,e,!0))))}function tNe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ae),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(ge),blockQuote:a(K),characterEscape:T,characterReference:T,codeFenced:a(ne),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:a(ne,i),codeText:a(re,i),codeTextData:T,data:T,codeFlowValue:T,definition:a(le),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:a(fe),hardBreakEscape:a(ye),hardBreakTrailing:a(ye),htmlFlow:a(_e,i),htmlFlowData:T,htmlText:a(_e,i),htmlTextData:T,image:a(Ne),label:i,link:a(Ae),listItem:a(gt),listItemValue:m,listOrdered:a(ot,f),listUnordered:a(ot),paragraph:a(Pe),reference:F,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:a(ge),strong:a(Ie),thematicBreak:a(dt)},exit:{atxHeading:c(),atxHeadingSequence:S,autolink:c(),autolinkEmail:W,autolinkProtocol:me,blockQuote:c(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:ae,codeFenced:c(y),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:h,codeFlowValue:j,codeIndented:c(x),codeText:c(R),codeTextData:j,data:j,definition:c(),definitionDestinationString:w,definitionLabelString:b,definitionTitleString:_,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(L),htmlFlowData:j,htmlText:c(O),htmlTextData:j,image:c(V),label:$,labelText:z,lineEnding:A,link:c(H),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:X,resourceDestinationString:D,resourceTitleString:Y,resource:G,setextHeading:c(E),setextHeadingLineSequence:M,setextHeadingText:k,strong:c(),thematicBreak:c()}};Hte(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ce){let ke={type:"root",children:[]};const Ze={stack:[ke],tokenStack:[],config:e,enter:l,exit:u,buffer:i,resume:d,data:n},lt=[];let Ye=-1;for(;++Ye<ce.length;)if(ce[Ye][1].type==="listOrdered"||ce[Ye][1].type==="listUnordered")if(ce[Ye][0]==="enter")lt.push(Ye);else{const Xe=lt.pop();Ye=s(ce,Xe,Ye)}for(Ye=-1;++Ye<ce.length;){const Xe=e[ce[Ye][0]];Ute.call(Xe,ce[Ye][1].type)&&Xe[ce[Ye][1].type].call(Object.assign({sliceSerialize:ce[Ye][2].sliceSerialize},Ze),ce[Ye][1])}if(Ze.tokenStack.length>0){const Xe=Ze.tokenStack[Ze.tokenStack.length-1];(Xe[1]||VL).call(Ze,void 0,Xe[0])}for(ke.position={start:dl(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:dl(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<e.transforms.length;)ke=e.transforms[Ye](ke)||ke;return ke}function s(ce,ke,Ze){let lt=ke-1,Ye=-1,Xe=!1,ht,ft,Qe,Qt;for(;++lt<=Ze;){const Jt=ce[lt];switch(Jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Jt[0]==="enter"?Ye++:Ye--,Qt=void 0;break}case"lineEndingBlank":{Jt[0]==="enter"&&(ht&&!Qt&&!Ye&&!Qe&&(Qe=lt),Qt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Qt=void 0}if(!Ye&&Jt[0]==="enter"&&Jt[1].type==="listItemPrefix"||Ye===-1&&Jt[0]==="exit"&&(Jt[1].type==="listUnordered"||Jt[1].type==="listOrdered")){if(ht){let an=lt;for(ft=void 0;an--;){const yr=ce[an];if(yr[1].type==="lineEnding"||yr[1].type==="lineEndingBlank"){if(yr[0]==="exit")continue;ft&&(ce[ft][1].type="lineEndingBlank",Xe=!0),yr[1].type="lineEnding",ft=an}else if(!(yr[1].type==="linePrefix"||yr[1].type==="blockQuotePrefix"||yr[1].type==="blockQuotePrefixWhitespace"||yr[1].type==="blockQuoteMarker"||yr[1].type==="listItemIndent"))break}Qe&&(!ft||Qe<ft)&&(ht._spread=!0),ht.end=Object.assign({},ft?ce[ft][1].start:Jt[1].end),ce.splice(ft||lt,0,["exit",ht,Jt[2]]),lt++,Ze++}if(Jt[1].type==="listItemPrefix"){const an={type:"listItem",_spread:!1,start:Object.assign({},Jt[1].start),end:void 0};ht=an,ce.splice(lt,0,["enter",an,Jt[2]]),lt++,Ze++,Qe=void 0,Qt=!0}}}return ce[ke][1]._spread=Xe,Ze}function a(ce,ke){return Ze;function Ze(lt){l.call(this,ce(lt),lt),ke&&ke.call(this,lt)}}function i(){this.stack.push({type:"fragment",children:[]})}function l(ce,ke,Ze){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([ke,Ze]),ce.position={start:dl(ke.start),end:void 0}}function c(ce){return ke;function ke(Ze){ce&&ce.call(this,Ze),u.call(this,Ze)}}function u(ce,ke){const Ze=this.stack.pop(),lt=this.tokenStack.pop();if(lt)lt[0].type!==ce.type&&(ke?ke.call(this,ce,lt[0]):(lt[1]||VL).call(this,ce,lt[0]));else throw new Error("Cannot close `"+ce.type+"` ("+cp({start:ce.start,end:ce.end})+"): itâs not open");Ze.position.end=dl(ce.end)}function d(){return tj(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(ce){if(this.data.expectingFirstListItemValue){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=ce}function h(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=ce}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ce.replace(/(\r?\n|\r)$/g,"")}function b(ce){const ke=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=ke,Ze.identifier=qa(this.sliceSerialize(ce)).toLowerCase()}function _(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ce}function w(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ce}function S(ce){const ke=this.stack[this.stack.length-1];if(!ke.depth){const Ze=this.sliceSerialize(ce).length;ke.depth=Ze}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function M(ce){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function T(ce){const Ze=this.stack[this.stack.length-1].children;let lt=Ze[Ze.length-1];(!lt||lt.type!=="text")&&(lt=ct(),lt.position={start:dl(ce.start),end:void 0},Ze.push(lt)),this.stack.push(lt)}function j(ce){const ke=this.stack.pop();ke.value+=this.sliceSerialize(ce),ke.position.end=dl(ce.end)}function A(ce){const ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ze=ke.children[ke.children.length-1];Ze.position.end=dl(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ke.type)&&(T.call(this,ce),j.call(this,ce))}function I(){this.data.atHardBreak=!0}function L(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ce}function O(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ce}function R(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=ce}function H(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ke,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function V(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=ke,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function z(ce){const ke=this.sliceSerialize(ce),Ze=this.stack[this.stack.length-2];Ze.label=Cte(ke),Ze.identifier=qa(ke).toLowerCase()}function $(){const ce=this.stack[this.stack.length-1],ke=this.resume(),Ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ze.type==="link"){const lt=ce.children;Ze.children=lt}else Ze.alt=ke}function D(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.url=ce}function Y(){const ce=this.resume(),ke=this.stack[this.stack.length-1];ke.title=ce}function G(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function X(ce){const ke=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=ke,Ze.identifier=qa(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function te(ce){this.data.characterReferenceType=ce.type}function ae(ce){const ke=this.sliceSerialize(ce),Ze=this.data.characterReferenceType;let lt;Ze?(lt=bte(ke,Ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):lt=Kp(ke);const Ye=this.stack.pop();Ye.value+=lt,Ye.position.end=dl(ce.end)}function me(ce){j.call(this,ce);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(ce)}function W(ce){j.call(this,ce);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(ce)}function K(){return{type:"blockquote",children:[]}}function ne(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function fe(){return{type:"emphasis",children:[]}}function ge(){return{type:"heading",depth:0,children:[]}}function ye(){return{type:"break"}}function _e(){return{type:"html",value:""}}function Ne(){return{type:"image",title:null,url:"",alt:null}}function Ae(){return{type:"link",title:null,url:"",children:[]}}function ot(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function gt(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Pe(){return{type:"paragraph",children:[]}}function Ie(){return{type:"strong",children:[]}}function ct(){return{type:"text",value:""}}function dt(){return{type:"thematicBreak"}}}function dl(t){return{line:t.line,column:t.column,offset:t.offset}}function Hte(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Hte(t,r):nNe(t,r)}}function nNe(t,e){let n;for(n in e)if(Ute.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function VL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+cp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+cp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+cp({start:e.start,end:e.end})+") is still open")}function ij(t){const e=this;e.parser=n;function n(r){return eNe(r,P(C(C({},e.data("settings")),t),{extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]}))}}function rNe(t){const e=this;e.compiler=n;function n(r){return dEe(r,P(C(C({},e.data("settings")),t),{extensions:e.data("toMarkdownExtensions")||[]}))}}const sNe={blockquote:fl,break:cNe,code:Ta,definition:Ta,delete:fl,emphasis:fl,footnoteReference:Ta,footnoteDefinition:Ta,heading:lNe,html:Ta,image:qL,imageReference:qL,inlineCode:zL,list:fl,listItem:fl,link:fl,linkReference:fl,strong:fl,table:Ta,tableCell:Ta,text:zL,thematicBreak:Ta,toml:Ta,yaml:Ta},aNe={},$L=[];function oNe(t){const e=C({},sNe),n=t||aNe,r=n.keep||$L,s=n.remove||$L;let a=-1;for(;++a<s.length;){const u=s[a];typeof u=="string"?e[u]=Ta:e[u[0]]=u[1]}let i={};if(r.length===0)i=e;else{let u;for(u in e)r.includes(u)||(i[u]=e[u]);for(a=-1;++a<r.length;)if(u=r[a],!Object.hasOwn(e,u))throw new Error("Unknown node type `"+u+"` in `keep`, use a replace tuple with a handle instead: `remove: [['"+u+"', handle]]`")}return function(u){return l(u)};function l(u){const d=u.type;let f=u;if(Object.hasOwn(i,d)){const m=i[d];m&&(f=m(f)||void 0)}return f=Array.isArray(f)?c(f):f,f&&"children"in f&&(f.children=c(f.children)),f}function c(u){let d=-1;const f=[];for(;++d<u.length;){const m=l(u[d]);Array.isArray(m)?f.push(...c(m)):m&&f.push(m)}return iNe(f)}}function iNe(t){let e=-1;const n=[];let r;for(;++e<t.length;){const s=t[e];r&&s.type===r.type&&"value"in s&&"value"in r?r.value+=s.value:(n.push(s),r=s)}return n}function qL(t){const e="title"in t?t.title:"",n=t.alt||e||"";return n?{type:"text",value:n}:void 0}function zL(t){return{type:"text",value:t.value}}function lNe(t){return{type:"paragraph",children:t.children}}function fl(t){return t.children}function cNe(){return{type:"text",value:"\n"}}function Ta(){}function GL(t){if(t)throw t}var f9,WL;function uNe(){if(WL)return f9;WL=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},a=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var d=t.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!f)return!1;var m;for(m in u);return typeof m>"u"||t.call(u,m)},i=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},l=function(u,d){if(d==="__proto__")if(t.call(u,d)){if(r)return r(u,d).value}else return;return u[d]};return f9=function c(){var u,d,f,m,p,h,v=arguments[0],y=1,x=arguments.length,b=!1;for(typeof v=="boolean"&&(b=v,v=arguments[1]||{},y=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});y<x;++y)if(u=arguments[y],u!=null)for(d in u)f=l(v,d),m=l(u,d),v!==m&&(b&&m&&(a(m)||(p=s(m)))?(p?(p=!1,h=f&&s(f)?f:[]):h=f&&a(f)?f:{},i(v,{name:d,newValue:c(b,h,m)})):typeof m<"u"&&i(v,{name:d,newValue:m}));return v},f9}var dNe=uNe();const m9=St(dNe);function lS(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fNe(){const t=[],e={run:n,use:r};return e;function n(...s){let a=-1;const i=s.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);l(null,...s);function l(c,...u){const d=t[++a];let f=-1;if(c){i(c);return}for(;++f<s.length;)(u[f]===null||u[f]===void 0)&&(u[f]=s[f]);s=u,d?mNe(d,l)(...u):i(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function mNe(t,e){let n;return r;function r(...i){const l=t.length>i.length;let c;l&&i.push(s);try{c=t.apply(this,i)}catch(u){const d=u;if(l&&n)throw d;return s(d)}l||(c instanceof Promise?c.then(a,s):c instanceof Error?s(c):a(c))}function s(i,...l){n||(n=!0,e(i,...l))}function a(i){s(null,i)}}class Qr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},i=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a=C({},n)),typeof e=="string"?s=e:!a.cause&&e&&(i=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=l?l.line:void 0,this.name=cp(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=i&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Qr.prototype.file="";Qr.prototype.name="";Qr.prototype.reason="";Qr.prototype.message="";Qr.prototype.stack="";Qr.prototype.column=void 0;Qr.prototype.line=void 0;Qr.prototype.ancestors=void 0;Qr.prototype.cause=void 0;Qr.prototype.fatal=void 0;Qr.prototype.place=void 0;Qr.prototype.ruleId=void 0;Qr.prototype.source=void 0;const fo={basename:pNe,dirname:gNe,extname:hNe,join:vNe,sep:"/"};function pNe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');z0(t);let n=0,r=-1,s=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let i=-1,l=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else i<0&&(a=!0,i=s+1),l>-1&&(t.codePointAt(s)===e.codePointAt(l--)?l<0&&(r=s):(l=-1,r=i));return n===r?r=i:r<0&&(r=t.length),t.slice(n,r)}function gNe(t){if(z0(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function hNe(t){z0(t);let e=t.length,n=-1,r=0,s=-1,a=0,i;for(;e--;){const l=t.codePointAt(e);if(l===47){if(i){r=e+1;break}continue}n<0&&(i=!0,n=e+1),l===46?s<0?s=e:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function vNe(...t){let e=-1,n;for(;++e<t.length;)z0(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":yNe(n)}function yNe(t){z0(t);const e=t.codePointAt(0)===47;let n=xNe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function xNe(t,e){let n="",r=0,s=-1,a=0,i=-1,l,c;for(;++i<=t.length;){if(i<t.length)l=t.codePointAt(i);else{if(l===47)break;l=47}if(l===47){if(!(s===i-1||a===1))if(s!==i-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=i,a=0;continue}}else if(n.length>0){n="",r=0,s=i,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,i):n=t.slice(s+1,i),r=i-s-1;s=i,a=0}else l===46&&a>-1?a++:a=-1}return n}function z0(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const bNe={cwd:CNe};function CNe(){return"/"}function cS(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function _Ne(t){if(typeof t=="string")t=new URL(t);else if(!cS(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return wNe(t)}function wNe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const p9=["history","path","basename","stem","extname","dirname"];class Vte{constructor(e){let n;e?cS(e)?n={path:e}:typeof e=="string"||SNe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":bNe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<p9.length;){const a=p9[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)p9.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?fo.basename(this.path):void 0}set basename(e){h9(e,"basename"),g9(e,"basename"),this.path=fo.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?fo.dirname(this.path):void 0}set dirname(e){ZL(this.basename,"dirname"),this.path=fo.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?fo.extname(this.path):void 0}set extname(e){if(g9(e,"extname"),ZL(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fo.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){cS(e)&&(e=_Ne(e)),h9(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?fo.basename(this.path,this.extname):void 0}set stem(e){h9(e,"stem"),g9(e,"stem"),this.path=fo.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Qr(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function g9(t,e){if(t&&t.includes(fo.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+fo.sep+"`")}function h9(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function ZL(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function SNe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const kNe=function(t){const r=this.constructor.prototype,s=r[t],a=function(){return s.apply(a,arguments)};Object.setPrototypeOf(a,r);const i=Object.getOwnPropertyNames(s);for(const l of i){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(a,l,c)}return a},MNe={}.hasOwnProperty;class lj extends kNe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fNe()}copy(){const e=new lj;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(m9(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(x9("data",this.frozen),this.namespace[e]=n,this):MNe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(x9("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=n2(e),r=this.parser||this.Parser;return v9("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),v9("process",this.parser||this.Parser),y9("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,i){const l=n2(e),c=r.parse(l);r.run(c,l,function(d,f,m){if(d||!f||!m)return u(d);const p=f,h=r.stringify(p,m);jNe(h)?m.value=h:m.result=h,u(d,m)});function u(d,f){d||!f?i(d):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),v9("processSync",this.parser||this.Parser),y9("processSync",this.compiler||this.Compiler),this.process(e,s),YL("processSync","process",n),r;function s(a,i){n=!0,GL(a),r=i}}run(e,n,r){KL(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(i,l){const c=n2(n);s.run(e,c,u);function u(d,f,m){const p=f||e;d?l(d):i?i(p):r(void 0,p,m)}}}runSync(e,n){let r=!1,s;return this.run(e,n,a),YL("runSync","run",r),s;function a(i,l){GL(i),s=l,r=!0}}stringify(e,n){this.freeze();const r=n2(n),s=this.compiler||this.Compiler;return y9("stringify",s),KL(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(x9("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):i(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(s.settings=m9(!0,s.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===u){m=f;break}if(m===-1)r.push([u,...d]);else if(d.length>0){let[p,...h]=d;const v=r[m][1];lS(v)&&lS(p)&&(p=m9(!0,v,p)),r[m]=[u,p,...h]}}}}const P5=new lj().freeze();function v9(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function y9(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function x9(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function KL(t){if(!lS(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function YL(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function n2(t){return ENe(t)?t:new Vte(t)}function ENe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function jNe(t){return typeof t=="string"||TNe(t)}function TNe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const fCt=Object.freeze(Object.defineProperty({__proto__:null,unified:P5},Symbol.toStringTag,{value:"Module"}));function NNe(t,e,n){const r=$0(e);let s=!0;e&&typeof e=="object"&&"cascade"in e&&typeof e.cascade=="boolean"&&(s=e.cascade),a(t);function a(i,l,c){if(i!==t&&r(i,l,c))return!1;if("children"in i&&Array.isArray(i.children)){const u=i,d=u.children;let f=-1,m=0;if(d.length>0){for(;++f<d.length;)a(d[f],f,u)&&(d[m++]=d[f]);if(i!==t&&s&&!m)return!1;d.length=m}}return!0}}const ANe=new Set([aY,sY,bi,tS]),PNe=()=>t=>{NNe(t,e=>WE(e)&&ANe.has(e.name))},INe=new RegExp("[\\u200B-\\u200D\\u2060\\uFEFF\\u00A0\\u202F\\u2000-\\u200A\\u3000\\u2028\\u2029]","gu");function LNe(t){const e=P5().use(ij).use(oj,{singleTilde:!1}).use(Nke).use(PNe).use(oNe,{keep:["list","listItem"]}).use(rNe,{bullet:"-",handlers:{text:n=>(n.value=n.value.replace(INe,""),n.value)}}).processSync(t);return String(e).trim()}const RNe="https://help.openai.com/en/articles/8590148-memory-faq";function $te(t,e=!0){return["memories",{gizmoId:t,includeMemoryEntries:e}]}function qte(t,e=!0,n=!0){return ut({queryKey:$te(t,e),queryFn:async()=>{const r=await ue.safeGet("/memories",{parameters:{query:{gizmo_id:t,include_memory_entries:e}}}),s=Math.min(Math.floor(100*r.memory_num_tokens/r.memory_max_tokens),100);return P(C({},r),{memoryFullPct:s})},refetchOnMount:"always",enabled:n})}const ONe=(t,e)=>{window.__reactRouterDataRouter.navigate(t,e)};let eu=null;const DNe=2e3,cj=oY(et.PendingSurveySpec,()=>null);function FNe(){return Ft.getItem(et.PendingSurveySpec)}function BNe(t){eu&&clearTimeout(eu),eu=setTimeout(()=>{eu=null,cj.set(t)},DNe)}function zte(){cj.set(null),eu&&(clearTimeout(eu),eu=null)}const K1=Rt(t=>({survey:null,triggered:!1,setSurvey:e=>t({survey:e}),setTriggered:e=>t({triggered:e})}));function UNe(){const{setTriggered:t}=K1.getState();t(!0)}function HNe(){const t=K1(a=>a.survey),e=K1(a=>a.triggered),n=K1(a=>a.setSurvey),r=K1(a=>a.setTriggered);return g.useEffect(()=>{if(!e||t)return;const a=FNe();zte(),n(a)},[t,e,n]),{survey:t,finishSurvey:()=>{n(null),r(!1)}}}function VNe(){const t=K1(s=>s.setTriggered),e=at(()=>cj()),n=Za(),r=g.useRef(null);g.useEffect(()=>{if(typeof document<"u"&&document.visibilityState!=="visible"){t(!1);return}if(!e){t(!1);return}n.pathname==="/"&&n.key!==r.current&&(r.current=n.key,t(!0))},[n.key,n.pathname,t,e])}class $Ne{constructor(e){Q(this,"activeSystemHintSuggestionChips$",nt([]));this.conversation=e,this.conversation=e}addActiveSystemHintSuggestionChips(e){this.activeSystemHintSuggestionChips$.set(n=>[...n!=null?n:[],...e]),e.forEach(n=>{n!=null&&n.systemHint&&Ag(n.systemHint,Pg.SuggestionTrigger,Pt({clientThreadId:this.conversation.id}))})}removeActiveSystemHintSuggestionChip(e){this.activeSystemHintSuggestionChips$.set(n=>[...(n!=null?n:[]).filter(r=>r.systemHint!==e.systemHint)])}clearActiveSystemHintSuggestionChips(){this.activeSystemHintSuggestionChips$.set([])}}const ch=Uu(t=>new $Ne(t));function QL(t){return!(t.type==="perf_stats"||t.type==="server_ste_metadata"||t.type==="message_marker")}let Wc=null;async function uj(){return Wc==null&&(Wc=await e3e()),Wc!=null?Wc:[]}function ug(t){return Wc==null?!1:Wc.includes(t)}var di=(t=>(t.Success="success",t.Error="error",t.Canceled="canceled",t))(di||{});function Zd(t,e){return wa(this,null,function*(){let n=null;try{for(var r=Xn(t),s,a,i;s=!(a=yield new hn(r.next())).done;s=!1){const l=a.value;if("response"in l)yield l;else if(l.event==="delta_encoding"){const c=String(l.data);if(e==null||e(c),c==="v1")n=new qNe;else throw new Error("[delta] unknown delta encoding: ".concat(c))}else if(l.event==="delta"){if(!n)throw new Error("[delta] delta event before delta_encoding");yield{data:n.applyDelta(l.data)}}else yield l}}catch(a){i=[a]}finally{try{s&&(a=r.return)&&(yield new hn(a.call(r)))}finally{if(i)throw i[0]}}})}var Kd=(t=>(t.V1="v1",t))(Kd||{});class qNe{constructor(){Q(this,"prevObjByChannel",[]);Q(this,"prevDelta",{channel:0,op:"add",path:"",value:void 0})}applyDelta(e){try{const n=this.decodeDelta(e),r=n.channel,s=this.prevObjByChannel[r],a=WNe(s,n);return this.prevObjByChannel[r]=a,a}catch(n){ve.addError("Error applying delta: ".concat(n))}}decodeDelta(e){GNe(e);const n=zNe(e,this.prevDelta),r=Gte(n);return this.prevDelta=r,r}}function zNe(t,e){for(const[n,r]of Wte)n!=="value"&&!(r in t)&&(t[r]=e[n]);return t}function Gte(t){const e=t;for(const[n,r]of Wte)r in t&&(e[n]=t[r],delete t[r]);return e.op==="patch"&&(e.value=e.value.map(Gte)),e}function GNe(t){if(!t||typeof t!="object")throw new Error("Unexpected delta non-object")}const Wte=[["channel","c"],["path","p"],["op","o"],["value","v"]];function WNe(t,e){return k6({__root:t},r=>Zte(r,e)).__root}function Zte(t,e){var s;const n=YNe((s=e.path)!=null?s:"");for(let a=0;a<n.length-1;a++)t[n[a]]===void 0&&(typeof n[a+1]=="number"?t[n[a]]=[]:t[n[a]]={}),t=t[n[a]];const r=n[n.length-1];switch(e.op){case"patch":for(const a of e.value){const i={__root:t[r]};Zte(i,a),t[r]=i.__root}break;case"add":Array.isArray(t)?t.splice(r,0,e.value):t[r]=e.value;break;case"remove":Array.isArray(t)?t.splice(r,1):delete t[r];break;case"replace":t[r]=e.value;break;case"append":if(typeof t[r]=="string")t[r]+=e.value;else if(Array.isArray(t[r]))t[r].push(...QNe(e.value));else if(JL(t[r])&&JL(e.value))for(const a in e.value)t[r][a]=e.value[a];else t[r]=e.value;break;case"truncate":t[r]&&(typeof t[r]=="string"?t[r]=t[r].substring(0,e.value):Array.isArray(t[r])&&(t[r].length=e.value));break;default:throw new Error("Unknown json delta operation")}}function ZNe(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}const KNe=new RegExp("^(?:0|[1-9]\\d*)$","d");function YNe(t){const e=["__root"];if(t==="")return e;t[0]==="/"&&(t=t.substring(1));for(const n of t.split("/"))KNe.test(n)?e.push(parseInt(n,10)):e.push(ZNe(n));return e}function QNe(t){return Array.isArray(t)?t:[t]}function JL(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}function JNe(t){let e=!1;const n=[],r=[];function s(c){n.length>0?n.shift()(c):r.push(c)}function a(c){e||s({value:c,done:!1})}function i(){e||(e=!0,n.forEach(c=>c({value:void 0,done:!0})),n.length=0)}function l(c){e||(s(Promise.reject(c)),i())}try{t(a,i,l)}catch(c){l(c)}return{next(){return new Promise(c=>{r.length>0?c(r.shift()):e?c({value:void 0,done:!0}):n.push(c)})},[Symbol.asyncIterator](){return this}}}async function XNe(t,e){const n=t.getReader();let r;for(;!(r=await n.read()).done;)e(r.value)}function eAe(t){let e,n,r,s=!1;return function(i){e===void 0?(e=i,n=0,r=-1):e=nAe(e,i);const l=e.length;let c=0;for(;n<l;){s&&(e[n]===10&&(c=++n),s=!1);let u=-1;for(;n<l&&u===-1;++n)switch(e[n]){case 58:r===-1&&(r=n-c);break;case 13:s=!0;case 10:u=n;break}if(u===-1)break;t(e.subarray(c,u),r),c=n,r=-1}c===l?e=void 0:c!==0&&(e=e.subarray(c),n-=c)}}function tAe(t,e,n){let r=XL();const s=new TextDecoder;return function(i,l){if(i.length===0)n==null||n(r),r=XL();else if(l>0){const c=s.decode(i.subarray(0,l)),u=l+(i[l+1]===32?2:1),d=s.decode(i.subarray(u));switch(c){case"data":r.data=r.data?r.data+"\n"+d:d;break;case"event":r.event=d;break;case"id":t(r.id=d);break;case"retry":const f=parseInt(d,10);isNaN(f)||e(r.retry=f);break}}}}function nAe(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function XL(){return{data:"",event:"",id:"",retry:void 0}}var rAe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const uh="text/event-stream",sAe=1e3,eR="last-event-id";function Kte(t,e){var{signal:n,headers:r,onopen:s,onmessage:a,onclose:i,onerror:l,openWhenHidden:c,fetch:u}=e,d=rAe(e,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((f,m)=>{const p=Object.assign({},r);p.accept||(p.accept=uh);let h;function v(){h.abort(),document.hidden||S()}c||document.addEventListener("visibilitychange",v);let y=sAe,x=0;function b(){document.removeEventListener("visibilitychange",v),window.clearTimeout(x),h.abort()}n==null||n.addEventListener("abort",()=>{b(),f()});const _=u!=null?u:window.fetch,w=s!=null?s:aAe;async function S(){var k;h=new AbortController;try{const M=await _(t,Object.assign(Object.assign({},d),{headers:p,signal:h.signal}));await w(M),await XNe(M.body,eAe(tAe(E=>{E?p[eR]=E:delete p[eR]},E=>{y=E},a))),i==null||i(),b(),f()}catch(M){if(!h.signal.aborted)try{const E=(k=l==null?void 0:l(M))!==null&&k!==void 0?k:y;window.clearTimeout(x),x=window.setTimeout(S,E)}catch(E){b(),m(E)}}}S()})}function aAe(t){const e=t.headers.get("content-type");if(!(e!=null&&e.startsWith(uh)))throw new Error("Expected content-type to be ".concat(uh,", Actual: ").concat(e))}function tR(t){var e,n;return(n=(e=t.headers.get("x-request-id"))!=null?e:t.headers.get("cf-ray"))!=null?n:void 0}function Ao(t,{accessToken:e,ctx:n,method:r,headers:s,body:a,intercomEventOnError:i,signal:l,observer:c}={}){return JNe((u,d,f)=>{let m=!1,p=!1,h=null;const v=void 0;function y(_,w="manual_error"){var S;if(m)return _;m=!0,v==null||v({reason:"error",source:w,error:_});try{return f(_),(S=c==null?void 0:c.onClose)==null||S.call(c,"error",_),_}finally{_ instanceof Wn?(t3e(_,"stream"),n3e(_),i&&r3e(i,{url:_.url,message:_.message})):(ve.addError(_),B.logEvent("request_stream_error",{error:_ instanceof Error?_.message:String(_)}))}}function x(_){var w,S,k;if(!m)if(m=!0,l!=null&&l.aborted){const M=(w=l.reason)!=null?w:new DOMException("Aborted","AbortError");v==null||v({reason:"aborted",source:"abort_signal",error:M}),f(M),(S=c==null?void 0:c.onClose)==null||S.call(c,"aborted",M)}else v==null||v({reason:"completed",source:_}),d(),(k=c==null?void 0:c.onClose)==null||k.call(c,"completed")}const b=e!=null?e:n?rM(n):void 0;Kte(t,{method:r,credentials:"include",headers:C(C(C({},b?ca({accessToken:b}):lY()),a?{"Content-Type":"application/json"}:null),s),body:a?JSON.stringify(a):void 0,signal:l,openWhenHidden:!0,async onopen(_){var S,k;h=_;const w=(S=_.headers.get("content-type"))!=null?S:"";if(_.ok&&w.includes("text/event-stream"))u({response:_}),(k=c==null?void 0:c.onOpen)==null||k.call(c,_);else if(w.includes("application/json")){const M=await _.json();throw y(new Wn(t,_.status,M,tR(_),new Error(JSON.stringify(M))),"onopen_error")}else{const E=(await _.text()).substring(0,1e3);throw y(new Wn(t,_.status,{detail:{message:a3e,code:"unexpected_content_type",contentType:w,text:E}},tR(_),new Error(E)),"onopen_error")}},onmessage(_){var M;const w=new TextEncoder,S=_.data==="[DONE]";if((M=c==null?void 0:c.onEvent)==null||M.call(c,{byteLength:w.encode(_.data).length,isDoneEvent:S}),_.event==="ping"||!_.data)return;if(S){x("done_event");return}const k=JSON.parse(_.data);k.error?y(Wn.createWithErrorMessage(t,"server",k.error,void 0,new Error(k.error)),"onmessage_error"):u({event:_.event||void 0,data:k})},onerror(_){const w=_ instanceof Error?_:new Error(JSON.stringify(_));throw s3e(w)?y(Wn.createWithErrorMessage(t,"client",Kl,void 0,w),"onerror"):w.message==="Failed to fetch"?(B.logFailedToFetchError({source:"request_stream"}),y(Wn.createWithErrorMessage(t,"server","An error occurred. Either the engine you requested does not exist or there was another issue processing your request. ".concat(iY),void 0,w),"onerror")):y(w,"onerror")}}).then(()=>x("fetch_resolved"),y)})}const oAe=t=>new Promise(e=>setTimeout(e,t));function Yte(t,l){return wa(this,null,function*(){var c=l,{shouldRetry:e=()=>!0,retryConfig:{MIN_RETRY_INTERVAL:n,MAX_RETRY_INTERVAL:r,RETRY_FACTOR:s,MAX_RETRY_COUNT:a}}=c,i=de(c,["shouldRetry","retryConfig"]);let u=Ao(t,i),d=!1,f=!1,m=0;for(;!d&&!f;)try{try{for(var p=Xn(u),h,v,y;h=!(v=yield new hn(p.next())).done;h=!1){const x=v.value;"response"in x&&(d=!0),yield x}}catch(v){y=[v]}finally{try{h&&(v=p.return)&&(yield new hn(v.call(p)))}finally{if(y)throw y[0]}}f=!0}catch(x){if(d||!e(x)||m>=a)throw x;const b=Math.min(n*s**m,r);yield new hn(oAe(b)),m++,u=Ao(t,i)}})}function iAe(t){let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e=Math.imul(e,16777619)>>>0;return e^=e>>>16,e=Math.imul(e,2246822507)>>>0,e^=e>>>13,e=Math.imul(e,3266489909)>>>0,e^=e>>>16,(e>>>0).toString(16).padStart(8,"0")}class lAe{constructor(){Q(this,"answers",new Map);Q(this,"maxAttempts",5e5);Q(this,"requirementsSeed",cAe());Q(this,"sid",Yn());Q(this,"errorPrefix","wQ8Lk5FbGpA2NcR9dShT6gYjU7VxZ4D");Q(this,"_runCheck",(e,n,r,s,a)=>{s[3]=a,s[9]=Math.round(performance.now()-e);const i=r2(s);return iAe(n+i).substring(0,r.length)<=r?i+"~S":null})}async initializeAndGatherData(e){this._getAnswer(e)}async startEnforcement(e){this._getAnswer(e)}getEnforcementTokenSync(e){const n=this._getAnswer(e);return typeof n=="string"?n:null}async getEnforcementToken(e,n){return this._getAnswer(e,n==null?void 0:n.forceSync)}async getRequirementsToken(){return this.answers.has(this.requirementsSeed)||this.answers.set(this.requirementsSeed,this._generateAnswerAsync(this.requirementsSeed,"0")),"gAAAAAC"+await this.answers.get(this.requirementsSeed)}getRequirementsTokenBlocking(){return"gAAAAAC"+this._generateRequirementsTokenAnswerBlocking()}_getAnswer(e,n=!1){var l;const r="gAAAAAB";if(!((l=e==null?void 0:e.proofofwork)!=null&&l.required))return null;const{seed:s,difficulty:a}=e.proofofwork;if(!(typeof s=="string"&&typeof a=="string"))return null;const i=this.answers.get(s);if(typeof i=="string")return i;if(n){const c=this._generateAnswerSync(s,a),u=r+c;return this.answers.set(s,u),u}return this.answers.has(s)||this.answers.set(s,this._generateAnswerAsync(s,a)),Promise.resolve().then(async()=>r+await this.answers.get(s)).then(c=>(this.answers.set(s,c),c))}buildGenerateFailMessage(e){return this.errorPrefix+r2(String(e!=null?e:"e"))}_generateAnswerSync(e,n){const r=performance.now();try{const s=this.getConfig();for(let a=0;a<this.maxAttempts;a++){const i=this._runCheck(r,e,n,s,a);if(i)return i}}catch(s){return this.buildGenerateFailMessage(s)}return this.buildGenerateFailMessage()}async _generateAnswerAsync(e,n){const r=performance.now();try{let s=null;const a=this.getConfig();for(let i=0;i<this.maxAttempts;i++){(!s||s.timeRemaining()<=0)&&(s=await dAe());const l=this._runCheck(r,e,n,a,i);if(l)return l}}catch(s){return this.buildGenerateFailMessage(s)}return this.buildGenerateFailMessage()}_generateRequirementsTokenAnswerBlocking(){let e="e";const n=performance.now();try{const r=this.getConfig();return r[3]=1,r[9]=Math.round(performance.now()-n),r2(r)}catch(r){e=r2(String(r))}return this.errorPrefix+e}getConfig(){var e,n,r,s;return[(screen==null?void 0:screen.width)+(screen==null?void 0:screen.height),""+new Date,(e=performance==null?void 0:performance.memory)==null?void 0:e.jsHeapSizeLimit,Math==null?void 0:Math.random(),navigator.userAgent,dg(Array.from(document.scripts).map(a=>a==null?void 0:a.src).filter(a=>a)),(r=((n=Array.from(document.scripts||[]).map(a=>{var i;return(i=a==null?void 0:a.src)==null?void 0:i.match("c/[^/]*/_")}).filter(a=>a==null?void 0:a.length)[0])!=null?n:[])[0])!=null?r:document.documentElement.getAttribute("data-build"),navigator.language,(s=navigator.languages)==null?void 0:s.join(","),Math==null?void 0:Math.random(),uAe(),dg(Object.keys(document)),dg(Object.keys(window)),performance.now(),this.sid,[...new URLSearchParams(window.location.search).keys()].join(","),navigator==null?void 0:navigator.hardwareConcurrency,performance.timeOrigin]}}function dg(t){return t[Math.floor(Math.random()*t.length)]}function cAe(){return""+Math.random()}function uAe(){const t=dg(Object.keys(Object.getPrototypeOf(navigator)));try{return"".concat(t,"â").concat(navigator[t].toString())}catch(e){return"".concat(t)}}function r2(t){return t=JSON.stringify(t),window.TextEncoder?btoa(String.fromCharCode(...new TextEncoder().encode(t))):btoa(unescape(encodeURIComponent(t)))}function dAe(){return new Promise(t=>{(window.requestIdleCallback||fAe)(n=>{t(n)},{timeout:10})})}function fAe(t){return setTimeout(()=>{t({timeRemaining:()=>1,didTimeout:!1})},0),0}const ec=new lAe,Qte=new WeakMap;function mAe(t,e){Qte.set(t,e)}function Jte(t){return Qte.get(t)}const pAe=0,gAe=1,hAe=2,Xte=3,ene=4,vAe=5,yAe=6,xAe=24,bAe=7,CAe=8,Ls=9,_Ae=10,wAe=11,SAe=12,kAe=13,MAe=14,EAe=15,uS=16,jAe=17,TAe=18,NAe=19,AAe=23,PAe=20,IAe=21,LAe=22,RAe=25,OAe=26,DAe=27,FAe=28,BAe=29,tne=30,UAe=33,HAe=34,xe=new Map;let Tl=0,nR=Promise.resolve();function nne(t){const e=nR.then(t,t);return nR=e.then(()=>{},()=>{}),e}async function Yp(){for(;xe.get(Ls).length>0;){const[t,...e]=xe.get(Ls).shift(),n=xe.get(t)(...e);n&&typeof n.then=="function"&&await n,Tl++}}function VAe(t){return nne(()=>new Promise((e,n)=>{let r=!1;setTimeout(()=>{r=!0,e(""+Tl)},500),xe.set(Xte,s=>{r||(r=!0,e(btoa(""+s)))}),xe.set(ene,s=>{r||(r=!0,n(btoa(""+s)))}),xe.set(tne,(s,a,i,l)=>{const c=Array.isArray(l),u=c?i:[],d=(c?l:i)||[];xe.set(s,(...f)=>{if(r)return;const p=[...xe.get(Ls)];if(c)for(let h=0;h<u.length;h++){const v=u[h],y=f[h];xe.set(v,y)}return xe.set(Ls,[...d]),Yp().then(()=>xe.get(a)).catch(h=>""+h).finally(()=>{xe.set(Ls,p)})})});try{xe.set(Ls,JSON.parse(dj(atob(t),""+xe.get(uS)))),Yp().catch(s=>{e(btoa(Tl+": "+s))})}catch(s){e(btoa(Tl+": "+s))}}))}function $Ae(t,e){return nne(()=>new Promise((n,r)=>{var i;const s=(i=Jte(t!=null?t:{}))!=null?i:"";qAe(),Tl=0,xe.set(uS,s);let a=!1;setTimeout(()=>{a=!0,n(""+Tl)},500),xe.set(Xte,l=>{a||(a=!0,n(btoa(""+l)))}),xe.set(ene,l=>{a||(a=!0,r(btoa(""+l)))}),xe.set(tne,(l,c,u,d)=>{const f=Array.isArray(d),m=f?u:[],p=(f?d:u)||[];xe.set(l,(...h)=>{if(a)return;const y=[...xe.get(Ls)];if(f)for(let x=0;x<m.length;x++){const b=m[x],_=h[x];xe.set(b,_)}return xe.set(Ls,[...p]),Yp().then(()=>xe.get(c)).catch(x=>""+x).finally(()=>{xe.set(Ls,y)})})});try{xe.set(Ls,JSON.parse(dj(atob(e),""+xe.get(uS)))),Yp().catch(l=>{n(btoa(Tl+": "+l))})}catch(l){n(btoa(Tl+": "+l))}}))}function dj(t,e){let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t.charCodeAt(r)^e.charCodeAt(r%e.length));return n}function qAe(){xe.clear(),xe.set(pAe,VAe),xe.set(gAe,(t,e)=>xe.set(t,dj(""+xe.get(t),""+xe.get(e)))),xe.set(hAe,(t,e)=>xe.set(t,e)),xe.set(vAe,(t,e)=>{const n=xe.get(t);Array.isArray(n)?n.push(xe.get(e)):xe.set(t,n+xe.get(e))}),xe.set(DAe,(t,e)=>{const n=xe.get(t);Array.isArray(n)?n.splice(n.indexOf(xe.get(e)),1):xe.set(t,n-xe.get(e))}),xe.set(BAe,(t,e,n)=>xe.set(t,xe.get(e)<xe.get(n))),xe.set(UAe,(t,e,n)=>{const r=Number(xe.get(e)),s=Number(xe.get(n));xe.set(t,r*s)}),xe.set(yAe,(t,e,n)=>xe.set(t,xe.get(e)[xe.get(n)])),xe.set(bAe,(t,...e)=>xe.get(t)(...e.map(n=>xe.get(n)))),xe.set(jAe,(t,e,...n)=>{try{const r=xe.get(e)(...n.map(s=>xe.get(s)));if(r&&typeof r.then=="function")return r.then(s=>{xe.set(t,s)}).catch(s=>{xe.set(t,""+s)});xe.set(t,r)}catch(r){xe.set(t,""+r)}}),xe.set(kAe,(t,e,...n)=>{try{xe.get(e)(...n)}catch(r){xe.set(t,""+r)}}),xe.set(CAe,(t,e)=>xe.set(t,xe.get(e))),xe.set(_Ae,window),xe.set(wAe,(t,e)=>{var n,r;return xe.set(t,(r=((n=Array.from(document.scripts||[]).map(s=>{var a;return(a=s==null?void 0:s.src)==null?void 0:a.match(xe.get(e))}).filter(s=>s==null?void 0:s.length)[0])!=null?n:[])[0])!=null?r:null)}),xe.set(SAe,t=>xe.set(t,xe)),xe.set(MAe,(t,e)=>xe.set(t,JSON.parse(""+xe.get(e)))),xe.set(EAe,(t,e)=>xe.set(t,JSON.stringify(xe.get(e)))),xe.set(TAe,t=>xe.set(t,atob(""+xe.get(t)))),xe.set(NAe,t=>xe.set(t,btoa(""+xe.get(t)))),xe.set(PAe,(t,e,n,...r)=>xe.get(t)===xe.get(e)?xe.get(n)(...r):null),xe.set(IAe,(t,e,n,r,...s)=>Math.abs(xe.get(t)-xe.get(e))>xe.get(n)?xe.get(r)(...s):null),xe.set(AAe,(t,e,...n)=>xe.get(t)!==void 0?xe.get(e)(...n):null),xe.set(xAe,(t,e,n)=>xe.set(t,xe.get(e)[xe.get(n)].bind(xe.get(e)))),xe.set(HAe,(t,e)=>{try{const n=xe.get(e);return Promise.resolve(n).then(r=>{xe.set(t,r)})}catch(n){return}}),xe.set(LAe,(t,e)=>{const n=[...xe.get(Ls)];return xe.set(Ls,[...e]),Yp().catch(r=>{xe.set(t,""+r)}).finally(()=>{xe.set(Ls,n)})}),xe.set(FAe,()=>{}),xe.set(OAe,()=>{}),xe.set(RAe,()=>{})}const zAe="https://challenges.cloudflare.com/turnstile/v0/api.js",GAe="chatgpt-paid",WAe="chatgpt-freeaccount",dS="chatgpt-noauth",rR={[GAe]:"0x4AAAAAAASbFNinhLLnW5f1",[WAe]:"0x4AAAAAAACPe2BTwOIpYk6H",[dS]:"0x4AAAAAAASbHVR44GU82lOI"};class dh{toString(){return JSON.stringify(this.toJSON())}}class b9 extends dh{constructor(e){super(),this.message=e,this.message=e}toJSON(){return{"Turnstile-Internal-Error":this.message}}}class ZAe extends dh{constructor(e){super(),this.errorCode=e,this.errorCode=e}toJSON(){return{"Turnstile-Client-Error":this.errorCode}}}class KAe{constructor(){Q(this,"app",dS);Q(this,"status","idle");Q(this,"turnstileInstancePromise",null);Q(this,"enforcementTokenPromise",null);Q(this,"enforcementTokenCache",new WeakMap);Q(this,"requestStartTimeMs",0);Q(this,"_onCompleted");Q(this,"_onError");Q(this,"dxPromiseCache",new Map)}async initializeAndGatherData(e){this._getOrCreateInstance(e)}async _getOrCreateInstance(e){var n,r,s;return!((n=e.turnstile)!=null&&n.required)||(r=e.turnstile)!=null&&r.dx?null:(this.app!==e.persona&&(this.app=e.persona,this.turnstileInstancePromise=this._getTurnstileInstancePromise()),(s=this.turnstileInstancePromise)!=null?s:new b9("Turnstile instance not initialized."))}getEnforcementTokenSync(e){const n=this.enforcementTokenCache.get(e);return n!=null?n:null}async getEnforcementToken(e){var n;if((n=e.turnstile)!=null&&n.dx){const r=e.turnstile.dx,s=Jte(e),a=s?"".concat(s,"::").concat(r):r,i=this.dxPromiseCache.get(a);if(i)return i;const c=$Ae(e,r).then(u=>(u&&this.enforcementTokenCache.set(e,u),u)).finally(()=>{this.dxPromiseCache.delete(a)});return this.dxPromiseCache.set(a,c),c}return this.startEnforcement(e).then(r=>(this.enforcementTokenPromise=null,r?r.toString():null))}async startEnforcement(e){var n,r;return(n=e.turnstile)!=null&&n.required?(r=e.turnstile)!=null&&r.dx?this.getEnforcementToken(e):this.enforcementTokenPromise!==null?this.enforcementTokenPromise:this.enforcementTokenPromise=this._getEnforcementToken(e):null}precomputeEnforcementToken(e){var r;const n=this.enforcementTokenCache.get(e);return n?Promise.resolve(n):(r=e.turnstile)!=null&&r.dx?this.getEnforcementToken(e):this.startEnforcement(e).then(s=>{var a;return typeof s=="string"?s:(a=s==null?void 0:s.toString())!=null?a:null})}async _getEnforcementToken(e,n){const r=await this._getOrCreateInstance(e);return r instanceof dh||r===null?r:new Promise((s,a)=>{this.setOnCompleted(i=>{const l=performance.now()-this.requestStartTimeMs;ve.addAction("turnstile_get_token_success",{app:this.app.toString(),durationMs:l}),s(i)}),this.setOnError(i=>{if(!n)this._getEnforcementToken(e,!0).then(s,a);else{const l=performance.now()-this.requestStartTimeMs;ve.addAction("turnstile_get_token_error",{app_release:"a10c225ffb808ca06ffc277c7889a2052cc3c600",error:i,app:this.app.toString(),durationMs:l}),s(new ZAe(i))}}),this.setStatus("ready"),this.requestStartTimeMs=performance.now(),r.reset(),r.execute()})}setStatus(e){this.status=e}onCompleted(e){var n;(n=this._onCompleted)==null||n.call(this,e)}setOnCompleted(e){this._onCompleted=e}onError(e){var n;(n=this._onError)==null||n.call(this,e)}setOnError(e){this._onError=e}onExpired(){this.enforcementTokenPromise=null}_getTurnstileInstancePromise(e){if(this.turnstileInstancePromise!==null)if(e)this.turnstileInstancePromise.then(n=>{n instanceof dh||n.remove()}),this.turnstileInstancePromise=null;else return this.turnstileInstancePromise;return this.turnstileInstancePromise=new Promise((n,r)=>{var u,d;const s="onloadTurnstileCallback";Object.defineProperty(window,s,{value:()=>{var m;if(this.status==="ready")return;this.setStatus("script_loaded");const{turnstile:f}=window;if(f===null){this.setStatus("error"),e?(ve.addAction("turnstile_instance_missing",{app_release:"a10c225ffb808ca06ffc277c7889a2052cc3c600",app:this.app.toString()}),n(new b9("Turnstile instance missing"))):this._getTurnstileInstancePromise(!0).then(n,r);return}f.render("#"+a,{sitekey:(m=rR[this.app])!=null?m:rR[dS],execution:"execute",callback:this.onCompleted.bind(this),"error-callback":this.onError.bind(this),"expired-callback":this.onExpired.bind(this)}),n(f)}});const a="cf-turnstile",i="cf-turnstile-script";(u=document.getElementById(a))==null||u.remove(),(d=document.getElementById(i))==null||d.remove();const l=document.createElement("div");l.id=a,l.hidden=!0,document.body.appendChild(l),this.setStatus("loading");const c=document.createElement("script");c.id=i,c.src=zAe+"?onload=".concat(s),c.async=!0,c.defer=!0,c.onerror=()=>{this.setStatus("error"),e?(ve.addAction("turnstile_script_load_error",{app_release:"a10c225ffb808ca06ffc277c7889a2052cc3c600",app:this.app.toString()}),n(new b9("Turnstile script failed to load"))):this._getTurnstileInstancePromise(!0).then(n,r)},document.body.appendChild(c)}),this.turnstileInstancePromise}}const fS=new KAe,YAe=1e3*60*9;var F1=(t=>(t.ChatRequirementsToken="OpenAI-Sentinel-Chat-Requirements-Token",t.TurnstileToken="OpenAI-Sentinel-Turnstile-Token",t.ProofToken="OpenAI-Sentinel-Proof-Token",t.Token="OpenAI-Sentinel-Token",t))(F1||{});let QAe=-1,Es=null;function JAe(){if(Es){const{chatRequirements:t,expiration:e}=Es;if(Date.now()>=e)return Es=null,null;if(t)return Es=null,t}return null}async function rne(t=!1){if(Es){const{expiration:s,chatRequirementsPromise:a}=Es;if(Date.now()<s)try{return t||(Es=null),a}catch(i){}else a.then(i=>ve.addAction("chat_requirements_cache_expired",{app:i.persona.toString()}));Es=null}const e=ec.getRequirementsTokenBlocking();let n=ue.safePost("/sentinel/chat-requirements",{requestBody:{p:e},authOption:qt.SendIfAvailable});n=n.then(s=>(mAe(s,e),s));const r=++QAe;return t&&(Es={id:r,chatRequirements:null,chatRequirementsPromise:n.then(s=>((Es==null?void 0:Es.id)===r&&(Es.chatRequirements=s),s)),expiration:Date.now()+YAe}),n}const XAe=window.location.origin+"/backend-api/sentinel/sdk.js",ePe="https://sentinel.openai.com/backend-api/sentinel/sdk.js";function tPe(t){return new Promise((e,n)=>{const r=document.createElement("script");r.type="text/javascript",r.src=t,r.async=!0,r.defer=!0,r.onload=e,r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)})}function sne(t){let e;return()=>(e||(e=tPe(t)),e)}const nPe=sne(XAe),rPe=sne(ePe);function sPe(t,e){var s;return(((s=e==null?void 0:e.sdkVariant)!=null?s:"chatgpt")==="openai"?rPe:nPe)().then(()=>window.SentinelSDK.token(t))}function I5(t,e,n,r){const s={};return t!=null&&t.token&&(s["OpenAI-Sentinel-Chat-Requirements-Token"]=t.token),e&&(s["OpenAI-Sentinel-Turnstile-Token"]=e),n&&(s["OpenAI-Sentinel-Proof-Token"]=n),r&&(s["OpenAI-Sentinel-Token"]=r),s}async function aPe(){try{const t=await rne(!0);t&&(await fS.precomputeEnforcementToken(t),await ec.startEnforcement(t))}catch(t){}}const zr=t=>{if(t.type===je.Starter&&t.category==="onboarding")return"";switch(t.type){case je.Reply:return t.text;case je.Starter:case je.Autocomplete:case je.Trending:case je.Capabilities:return t.prompt}},oPe=t=>t.type===je.Reply,ane=t=>t.type===je.Starter,fj=t=>t.type===je.Autocomplete,fh=t=>t.type===je.Trending,mh=t=>fj(t)&&!!t.theme,mj=t=>t.type===je.Capabilities,iPe=t=>fh(t)||mj(t)||fj(t)&&!mh(t),L5=(t,e,n,r)=>{var s,a,i;switch(Le.logEvent("chatgpt_prompt_use_suggestion",iPe(t)?"":zr(t),{id:(ane(t)||mh(t)||fh(t))&&(s=t.id)!=null?s:"",index:"".concat(e),type:t.type,theme:fh(t)&&t.theme?t.theme:""}),t.type){case je.Reply:B.logEvent("Use Suggested Reply",{value:zr(t),prompt_type:je.Reply,messageId:r});break;case je.Capabilities:B.logEvent("Use Capabilities Suggestion",{prompt_type:je.Capabilities,categoryId:t.categoryId,client_thread_id:n,messageId:r});break;case je.Starter:B.logEvent("Use Starter Prompt",{value:zr(t),prompt_type:je.Starter,title:t.title,body:t.body,id:t.id,category:t.category,client_thread_id:n,messageId:r,index:e,theme:t.theme});break;case je.Autocomplete:{const l=mh(t);B.logEvent("Use Autocomplete",{value:l?zr(t):"",prompt_type:je.Autocomplete,title:l?t.title:"",body:l?t.body:"",id:l?t.id:"",category:t.category,index:e,messageId:r,client_thread_id:n,theme:(a=t.theme)!=null?a:""});break}case je.Trending:{B.logEvent("Use Trending Prompt",{prompt_type:je.Trending,title:t.title,index:e,messageId:r,client_thread_id:n,theme:(i=t.theme)!=null?i:""});break}}},one=(t,e)=>{if(t.length===0)return;const r=se.getCurrentNode(st(e)).message.id;Le.logEvent("chatgpt_prompt_show_suggestions","count_".concat(t.length),{type:t[0].type});const s=a=>{var i;for(let l=0;l<a.length;l++){const c=a[l];B.logEventWithStatsig("Show Trending Prompt","chatgpt_prompt_show_suggestion",{type:c.type,id:c.id,index:l,client_thread_id:e,message_id:r,theme:(i=c.theme)!=null?i:""})}};if(t.every(oPe))B.logEvent("Show Suggested Replies",{prompt_count:t.length,prompt_type:je.Reply,client_thread_id:e,suggestions:t.map(a=>a.text),message_id:r});else if(t.every(ane)){const{isAdditional:a}=t[0];B.logEvent(a?"More Starter Prompts Shown":"Show Starter Prompts",{prompt_count:t.length,prompt_type:je.Starter,titles:t.map(i=>i.title),bodies:t.map(i=>i.body),ids:t.map(i=>i.id),client_thread_id:e,message_id:r,themes:t.map(i=>{var l;return(l=i.theme)!=null?l:""})}),a&&B.logEvent("Expand More Starter Prompts",{client_thread_id:e,message_id:r}),s(t)}else if(t.every(fj)){const a=!!t.find(i=>mh(i));B.logEvent("Show Autocomplete Prompts",{prompt_count:t.length,prompt_type:t[0].type,titles:t.map(i=>a?i.title:""),bodies:t.map(i=>a?i.body:""),ids:t.map(i=>a?i.id:""),client_thread_id:e,message_id:r,themes:t.map(i=>{var l;return(l=i.theme)!=null?l:""})})}else t.every(fh)?(B.logEvent("Show Trending Prompts",{prompt_count:t.length,prompt_type:je.Trending,titles:t.map(a=>a.title),client_thread_id:e,message_id:r}),s(t)):t.every(mj)?B.logEvent("Show Capabilities Suggestions",{prompt_count:t.length,prompt_type:je.Capabilities,category_ids:t.map(a=>a.categoryId),client_thread_id:e,message_id:r}):ve.addError("Unhandled suggestion type",{type:t[0].type})},mCt=t=>{const n=se.getCurrentNode(st(t)).message.id;B.logEvent("Show Expand More Starter Prompts Button",{client_thread_id:t,message_id:n})},pCt=t=>{const n=se.getCurrentNode(st(t)).message.id;B.logEvent("Expand More Starter Prompts",{client_thread_id:t,message_id:n})},ph="prompt-textarea";function pj(){var t;(t=document.getElementById(ph))==null||t.focus()}const gCt={getAndReset:(t,e)=>{const n=Ft.getItem(et.RestoreMessageAfterOauthRedirect);return Ft.removeItem(et.RestoreMessageAfterOauthRedirect),!n||n.userId!==t||e!==n.serverThreadId||Date.now()>n.expiresAt?null:n},set:(t,e,n)=>{const r={userId:t,serverThreadId:e,inputText:n,expiresAt:Date.now()+6e4};Ft.setItem(et.RestoreMessageAfterOauthRedirect,r)}},Qo=()=>{"use forget";const t=ee.c(16),e=qo(),n=wu.useStore();let r;t[0]!==n?(r=h=>n.getPersistedSystemHintTrigger(h),t[0]=n,t[1]=r):r=t[1];const s=r;let a;t[2]!==e?(a=h=>e(null,{ifPrevSystemHint:h}),t[2]=e,t[3]=a):a=t[3];const i=a;let l;t[4]!==e?(l=()=>e(null),t[4]=e,t[5]=l):l=t[5];const c=l;let u;t[6]!==e?(u=(h,v,y,x)=>{v?e(h,{analyticsMetadata:y,triggerSource:x}):e(null,{ifPrevSystemHint:h,analyticsMetadata:y})},t[6]=e,t[7]=u):u=t[7];const d=u;let f;t[8]!==e?(f=(h,v)=>{e(h,{analyticsMetadata:v})},t[8]=e,t[9]=f):f=t[9];const m=f;let p;return t[10]!==c||t[11]!==i||t[12]!==s||t[13]!==d||t[14]!==m?(p={getSystemHintModeTrigger:s,clearSystemHintModeTrigger:i,setThreadSystemHintMode:d,clearAllSystemHintModeTriggers:c,updateSystemHint:m},t[10]=c,t[11]=i,t[12]=s,t[13]=d,t[14]=m,t[15]=p):p=t[15],p},hCt=({promptDisabledReason:t,hasPendingFiles:e,hasTextContent:n,isTextContentTooLong:r,hasAsyncTaskPending:s,noSourceSelectedDr:a,isDeepResearchTaskStreaming:i,isThreadHardBlocked:l})=>t||(l?"rate_limit_hard_block":e?"file_upload_pending":s?i?void 0:"async_task_pending":n?r?"text_content_too_long":a?"no_source_selected_dr":void 0:"empty_text_content");function vCt(t,e){const n=Math.ceil(e/4);return typeof(t==null?void 0:t.maxTokens)=="number"&&n>t.maxTokens}function yCt(t,e){return t?e===void 0?!0:e.includes(t):!1}const lPe=t=>{switch(t){case"pimBlock":return{placeholder:yo.pimBlockPlaceholder,isLastingDisabledStyle:!0};case"workspaceDisallowsGizmo":return{placeholder:yo.disallowedByWorkspacePlaceholder,isLastingDisabledStyle:!0};case"noModelsAvailable":return{placeholder:yo.noModelsAvailablePlaceholder,isLastingDisabledStyle:!0};case"requiresPluginsToBeInstalled":return{placeholder:yo.requiresPluginsToBeInstalled,isLastingDisabledStyle:!0};case"loadingPlugins":return{placeholder:yo.loading,isLastingDisabledStyle:!0};case"noTestGizmoId":return{placeholder:yo.noTestGizmoId,isLastingDisabledStyle:!0}}return null},cPe="OAI-Echo-Logs",k1={FOCUS_IN:0,FOCUS_OUT:1,COPY:2,PASTE:3,TOUCH_START:4,TOUCH_END:5},ine=[];function M1(t){return()=>{ine.push({type:t,ts:Math.round(performance.now())})}}const uPe={focusin:M1(k1.FOCUS_IN),focusout:M1(k1.FOCUS_OUT),copy:M1(k1.COPY),paste:M1(k1.PASTE),touchstart:M1(k1.TOUCH_START),touchend:M1(k1.TOUCH_END)};function dPe(t){const e=t!=null?t:document.getElementById(ph);for(const[n,r]of Object.entries(uPe))e==null||e.removeEventListener(n,r),e==null||e.addEventListener(n,r)}function gj(){return{[cPe]:ine.slice(0,10).map(t=>"".concat(t.type,",").concat(t.ts)).join(",")}}var fPe=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},tu="1.6.0",sR=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function mPe(t){var e=new Set([t]),n=new Set,r=t.match(sR);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(c){return c===t};function a(l){return n.add(l),!1}function i(l){return e.add(l),!0}return function(c){if(e.has(c))return!0;if(n.has(c))return!1;var u=c.match(sR);if(!u)return a(c);var d={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return d.prerelease!=null||s.major!==d.major?a(c):s.major===0?s.minor===d.minor&&s.patch<=d.patch?i(c):a(c):s.minor<=d.minor?i(c):a(c)}}var pPe=mPe(tu),gPe=tu.split(".")[0],Qp=Symbol.for("opentelemetry.js.api."+gPe),Jp=fPe;function G0(t,e,n,r){var s;r===void 0&&(r=!1);var a=Jp[Qp]=(s=Jp[Qp])!==null&&s!==void 0?s:{version:tu};if(!r&&a[t]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(i.stack||i.message),!1}if(a.version!==tu){var i=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+t+" does not match previously registered API v"+tu);return n.error(i.stack||i.message),!1}return a[t]=e,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+tu+"."),!0}function Pu(t){var e,n,r=(e=Jp[Qp])===null||e===void 0?void 0:e.version;if(!(!r||!pPe(r)))return(n=Jp[Qp])===null||n===void 0?void 0:n[t]}function W0(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+tu+".");var n=Jp[Qp];n&&delete n[t]}var hPe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},vPe=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},yPe=function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return pm("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return pm("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return pm("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return pm("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return pm("verbose",this._namespace,e)},t}();function pm(t,e,n){var r=Pu("diag");if(r)return n.unshift(e),r[t].apply(r,vPe([],hPe(n),!1))}var js;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(js||(js={}));function xPe(t,e){t<js.NONE?t=js.NONE:t>js.ALL&&(t=js.ALL),e=e||{};function n(r,s){var a=e[r];return typeof a=="function"&&t>=s?a.bind(e):function(){}}return{error:n("error",js.ERROR),warn:n("warn",js.WARN),info:n("info",js.INFO),debug:n("debug",js.DEBUG),verbose:n("verbose",js.VERBOSE)}}var bPe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},CPe=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},_Pe="diag",Fo=function(){function t(){function e(s){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var l=Pu("diag");if(l)return l[s].apply(l,CPe([],bPe(a),!1))}}var n=this,r=function(s,a){var i,l,c;if(a===void 0&&(a={logLevel:js.INFO}),s===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((i=u.stack)!==null&&i!==void 0?i:u.message),!1}typeof a=="number"&&(a={logLevel:a});var d=Pu("diag"),f=xPe((l=a.logLevel)!==null&&l!==void 0?l:js.INFO,s);if(d&&!a.suppressOverrideMessage){var m=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";d.warn("Current logger will be overwritten from "+m),f.warn("Current logger will overwrite one already registered from "+m)}return G0("diag",f,n,!0)};n.setLogger=r,n.disable=function(){W0(_Pe,n)},n.createComponentLogger=function(s){return new yPe(s)},n.verbose=e("verbose"),n.debug=e("debug"),n.info=e("info"),n.warn=e("warn"),n.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}(),wPe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},SPe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kPe=function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var n=this._entries.get(e);if(n)return Object.assign({},n)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var n=wPe(e,2),r=n[0],s=n[1];return[r,s]})},t.prototype.setEntry=function(e,n){var r=new t(this._entries);return r._entries.set(e,n),r},t.prototype.removeEntry=function(e){var n=new t(this._entries);return n._entries.delete(e),n},t.prototype.removeEntries=function(){for(var e,n,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var a=new t(this._entries);try{for(var i=SPe(r),l=i.next();!l.done;l=i.next()){var c=l.value;a._entries.delete(c)}}catch(u){e={error:u}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return a},t.prototype.clear=function(){return new t},t}(),MPe=Symbol("BaggageEntryMetadata"),EPe=Fo.instance();function jPe(t){return t===void 0&&(t={}),new kPe(new Map(Object.entries(t)))}function xCt(t){return typeof t!="string"&&(EPe.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:MPe,toString:function(){return t}}}function lne(t){return Symbol.for(t)}var TPe=function(){function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var a=new t(n._currentContext);return a._currentContext.set(r,s),a},n.deleteValue=function(r){var s=new t(n._currentContext);return s._currentContext.delete(r),s}}return t}(),NPe=new TPe,Ff=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),APe=function(){function t(){}return t.prototype.createHistogram=function(e,n){return UPe},t.prototype.createCounter=function(e,n){return BPe},t.prototype.createUpDownCounter=function(e,n){return HPe},t.prototype.createObservableGauge=function(e,n){return $Pe},t.prototype.createObservableCounter=function(e,n){return VPe},t.prototype.createObservableUpDownCounter=function(e,n){return qPe},t.prototype.addBatchObservableCallback=function(e,n){},t.prototype.removeBatchObservableCallback=function(e){},t}(),hj=function(){function t(){}return t}(),PPe=function(t){Ff(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(n,r){},e}(hj),IPe=function(t){Ff(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(n,r){},e}(hj),LPe=function(t){Ff(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(n,r){},e}(hj),vj=function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t}(),RPe=function(t){Ff(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(vj),OPe=function(t){Ff(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(vj),DPe=function(t){Ff(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(vj),FPe=new APe,BPe=new PPe,UPe=new LPe,HPe=new IPe,VPe=new RPe,$Pe=new OPe,qPe=new DPe,zPe={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},GPe={set:function(t,e,n){t!=null&&(t[e]=n)}},WPe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},ZPe=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},KPe=function(){function t(){}return t.prototype.active=function(){return NPe},t.prototype.with=function(e,n,r){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return n.call.apply(n,ZPe([r],WPe(s),!1))},t.prototype.bind=function(e,n){return n},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),YPe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(l){i={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a},QPe=function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},C9="context",JPe=new KPe,R5=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return G0(C9,e,Fo.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,n,r){for(var s,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(s=this._getContextManager()).with.apply(s,QPe([e,n,r],YPe(a),!1))},t.prototype.bind=function(e,n){return this._getContextManager().bind(e,n)},t.prototype._getContextManager=function(){return Pu(C9)||JPe},t.prototype.disable=function(){this._getContextManager().disable(),W0(C9,Fo.instance())},t}(),mS;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(mS||(mS={}));var cne="0000000000000000",une="00000000000000000000000000000000",XPe={traceId:une,spanId:cne,traceFlags:mS.NONE},up=function(){function t(e){e===void 0&&(e=XPe),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,n){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,n){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,n){},t}(),yj=lne("OpenTelemetry Context Key SPAN");function xj(t){return t.getValue(yj)||void 0}function eIe(){return xj(R5.getInstance().active())}function bj(t,e){return t.setValue(yj,e)}function tIe(t){return t.deleteValue(yj)}function nIe(t,e){return bj(t,new up(e))}function dne(t){var e;return(e=xj(t))===null||e===void 0?void 0:e.spanContext()}var rIe=/^([0-9a-f]{32})$/i,sIe=/^[0-9a-f]{16}$/i;function aIe(t){return rIe.test(t)&&t!==une}function oIe(t){return sIe.test(t)&&t!==cne}function fne(t){return aIe(t.traceId)&&oIe(t.spanId)}function iIe(t){return new up(t)}var _9=R5.getInstance(),mne=function(){function t(){}return t.prototype.startSpan=function(e,n,r){r===void 0&&(r=_9.active());var s=!!(n!=null&&n.root);if(s)return new up;var a=r&&dne(r);return lIe(a)&&fne(a)?new up(a):new up},t.prototype.startActiveSpan=function(e,n,r,s){var a,i,l;if(!(arguments.length<2)){arguments.length===2?l=n:arguments.length===3?(a=n,l=r):(a=n,i=r,l=s);var c=i!=null?i:_9.active(),u=this.startSpan(e,a,c),d=bj(c,u);return _9.with(d,l,void 0,u)}},t}();function lIe(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var cIe=new mne,uIe=function(){function t(e,n,r,s){this._provider=e,this.name=n,this.version=r,this.options=s}return t.prototype.startSpan=function(e,n,r){return this._getTracer().startSpan(e,n,r)},t.prototype.startActiveSpan=function(e,n,r,s){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):cIe},t}(),dIe=function(){function t(){}return t.prototype.getTracer=function(e,n,r){return new mne},t}(),fIe=new dIe,aR=function(){function t(){}return t.prototype.getTracer=function(e,n,r){var s;return(s=this.getDelegateTracer(e,n,r))!==null&&s!==void 0?s:new uIe(this,e,n,r)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:fIe},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,n,r)},t}(),oR;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(oR||(oR={}));var iR;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(iR||(iR={}));var lR;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(lR||(lR={}));var bCt=R5.getInstance(),CCt=Fo.instance(),mIe=function(){function t(){}return t.prototype.getMeter=function(e,n,r){return FPe},t}(),pIe=new mIe,w9="metrics",gIe=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return G0(w9,e,Fo.instance())},t.prototype.getMeterProvider=function(){return Pu(w9)||pIe},t.prototype.getMeter=function(e,n,r){return this.getMeterProvider().getMeter(e,n,r)},t.prototype.disable=function(){W0(w9,Fo.instance())},t}(),_Ct=gIe.getInstance(),hIe=function(){function t(){}return t.prototype.inject=function(e,n){},t.prototype.extract=function(e,n){return e},t.prototype.fields=function(){return[]},t}(),Cj=lne("OpenTelemetry Baggage Key");function pne(t){return t.getValue(Cj)||void 0}function vIe(){return pne(R5.getInstance().active())}function yIe(t,e){return t.setValue(Cj,e)}function xIe(t){return t.deleteValue(Cj)}var S9="propagation",bIe=new hIe,CIe=function(){function t(){this.createBaggage=jPe,this.getBaggage=pne,this.getActiveBaggage=vIe,this.setBaggage=yIe,this.deleteBaggage=xIe}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return G0(S9,e,Fo.instance())},t.prototype.inject=function(e,n,r){return r===void 0&&(r=GPe),this._getGlobalPropagator().inject(e,n,r)},t.prototype.extract=function(e,n,r){return r===void 0&&(r=zPe),this._getGlobalPropagator().extract(e,n,r)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){W0(S9,Fo.instance())},t.prototype._getGlobalPropagator=function(){return Pu(S9)||bIe},t}(),wCt=CIe.getInstance(),k9="trace",_Ie=function(){function t(){this._proxyTracerProvider=new aR,this.wrapSpanContext=iIe,this.isSpanContextValid=fne,this.deleteSpan=tIe,this.getSpan=xj,this.getActiveSpan=eIe,this.getSpanContext=dne,this.setSpan=bj,this.setSpanContext=nIe}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var n=G0(k9,this._proxyTracerProvider,Fo.instance());return n&&this._proxyTracerProvider.setDelegate(e),n},t.prototype.getTracerProvider=function(){return Pu(k9)||this._proxyTracerProvider},t.prototype.getTracer=function(e,n){return this.getTracerProvider().getTracer(e,n)},t.prototype.disable=function(){W0(k9,Fo.instance()),this._proxyTracerProvider=new aR},t}(),wIe=_Ie.getInstance();const _j="RESUME_TOKEN_STORE_KEY",SIe=1e3,kIe=SIe*60,MIe=kIe*60;function wj(){var r;const t=(r=localStorage.getItem(_j))!=null?r:"{}",e=JSON.parse(t);return Object.fromEntries(Object.entries(e).filter(([s,a])=>a.expiresAt>Date.now()))}function gne(t){const e=JSON.stringify(t);localStorage.setItem(_j,e)}function EIe(t,e){const n=wj();n[t]={token:e,expiresAt:Date.now()+MIe},gne(n)}function jIe(t){var n;return(n=wj()[t])==null?void 0:n.token}function TIe(t){const e=wj();delete e[t],gne(e)}function NIe(){localStorage.removeItem(_j)}const dp={set:EIe,get:jIe,remove:TIe,clear:NIe};function AIe(t,e,n,r,s,a){const i=LIe(t,e,n,s,a);return hne(n,r,i)}function PIe(t,e,n,r,s,a){const{conversationId:i,resumeToken:l,model:c}=e;let u=_ne({ctx:t,conversationId:i,resumeToken:l,model:c,turnTracker:n,offset:0,signal:s!=null?s:null});u=Cne(u,{ctx:t,model:c,turnTracker:n,signal:s!=null?s:null}),u=wne(u,{turnTracker:n,prepareState:null,signal:s!=null?s:null,f_completion:!0});const f=Zd(u,m=>{n.stream_encoding=m});return hne(n,r,vne(f))}const IIe=1e3*30,gm=wIe.getTracer("completion");function M9(t,e){Me.count(Ee.DEFAULT,t,[{key:"prepare_sent",value:e&&e!=="none"?"true":"false"},{key:"prepare_succeeded",value:e==="success"?"true":"false"},{key:"prepare_failed",value:e==="failure"?"true":"false"}])}function hne(t,e,n){return wa(this,null,function*(){let r=!1,s=!1,a=!1,i=!1,l,c,u,d,f;gm.startActiveSpan("completion.response",x=>{l=gm.startSpan("completion.first_response"),c=gm.startSpan("completion.first_token_including_tool_calls"),u=gm.startSpan("completion.first_token_including_visible_content"),d=gm.startSpan("completion.first_token"),f=x});let m=setTimeout(()=>{B.logEvent("SSE Response Took Too Long to Come Back",{}),t.logCompletion({type:di.Error,error:{reason:"timeout",message:"SSE Response Took Too Long to Come Back"}})},IIe);try{e==null||e.logTimingOnce("prompt_submitted");try{for(var p=Xn(n),h,v,y;h=!(v=yield new hn(p.next())).done;h=!1){const x=v.value;yield x,x.type!=="connected"&&m&&(clearTimeout(m),m=null),x.type==="message"&&(t.onMessageUpdate(x.message),r||(r=!0,l==null||l.end(),e==null||e.logTimingOnce("first_response")),!s&&x.message.author.role===Ue.Assistant&&(s=!0,c==null||c.end(),e==null||e.logTimingOnce("first_assistant_token")),!a&&x.message.author.role===Ue.Assistant&&_u(x.message)&&(a=!0,u==null||u.end(),e==null||e.logTimingOnce("first_visible_content_token")),!i&&x.message.author.role===Ue.Assistant&&cY(x.message)&&(i=!0,d==null||d.end(),e==null||e.logTimingOnce("first_message_token"))),x.type==="perf_stats"&&t.addServerPerfStats(x),x.type==="server_ste_metadata"&&t.addServerSteMetadata(x),x.type==="message_marker"&&t.onMessageMarker(x),x.type==="done"&&t.onStreamClose()}}catch(v){y=[v]}finally{try{h&&(v=p.return)&&(yield new hn(v.call(p)))}finally{if(y)throw y[0]}}}catch(x){throw m&&(clearTimeout(m),m=null),x}finally{f==null||f.end()}})}function LIe(t,e,n,r,s){return wa(this,null,function*(){const{conduitToken:a,prepareState:i,model:l,f_completion:c,f_search:u,expireConduit:d}=e,f=Lo(3010482349,"".concat(l,"-AAAA"))||Lo(3240390095,"".concat(l,"-AAAA")),m=Et(t)?f?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon";let p="".concat(m,"/conversation");c&&(p="".concat(m,"/f/conversation")),ie(t,"212625335")&&(p+="?debug=true"),n.onSentUserMessage();const h=pr()?yield new hn(uj()):void 0;let v=Yte(p,{ctx:t,method:"POST",headers:C(C(C({},gj()),I5(e.chatReq,e.turnstileToken,e.proofToken,null)),a?{"x-conduit-token":a}:{}),body:yne(e,h),intercomEventOnError:"fetch-error:conversation:new-message",signal:r,observer:{onEvent:b=>{n.onStreamEvent(b.byteLength,b.isDoneEvent)}},shouldRetry:b=>(gh(b)||b instanceof Wn&&Sj(b.status))&&ze(t,"603105008").get("retry_stream_requests",!1),retryConfig:kj(t)});v=Cne(v,{ctx:t,model:l,turnTracker:n,signal:r!=null?r:null}),v=wne(v,{turnTracker:n,prepareState:i,signal:r!=null?r:null,f_completion:c!=null?c:null}),c&&s&&Fe(s,b=>{b.stopConduitToken=a!=null?a:null,d&&(b.conduitToken=null),b.prepareState=null,b.lastPrepareTimestamp=null});const x=Zd(v,b=>{n.stream_encoding=b});try{yield*p7(vne(x,{onPrematureTermination:()=>{n.onPrematureStreamTermination()}}))}finally{ie(t,"4178431533")&&aPe()}})}function vne(n){return wa(this,arguments,function*(t,e={}){var s,a,i,l,m;let r=!1;try{for(var c=Xn(t),u,d,f;u=!(d=yield new hn(c.next())).done;u=!1){const p=d.value;if("response"in p){const h=p.response,v=(a=(s=h==null?void 0:h.headers)==null?void 0:s.get("Cf-Ray"))!=null?a:null,y=(l=(i=h==null?void 0:h.headers)==null?void 0:i.get("X-Conduit-Token"))!=null?l:null;yield{type:"connected",serverRequestId:v,interruptConversationToken:y}}else{const h=bne(p.data);h&&(h.type==="done"&&(r=!0),yield h)}}}catch(d){f=[d]}finally{try{u&&(d=c.return)&&(yield new hn(d.call(c)))}finally{if(f)throw f[0]}}r||((m=e.onPrematureTermination)==null||m.call(e),yield{type:"done"})})}function yne(t,e){var r,s,a,i,l,c,u,d;const n="threadId"in t?t.threadId:void 0;return P(C({action:t.completionType,messages:t.messages.length>0?t.messages.map(xne):void 0,continue_from_shared_conversation_id:"continueFromSharedConversationId"in t&&n==null?t.continueFromSharedConversationId:void 0,branching_from_conversation_id:"branchingFromConversationId"in t&&n==null?t.branchingFromConversationId:void 0,branching_from_message_id:"branchingFromMessageId"in t&&n==null?t.branchingFromMessageId:void 0,continue_from_shared_post_id:"continueFromSharedPostId"in t?t.continueFromSharedPostId:void 0,fork_from_shared_post:"forkFromSharedPost"in t?t.forkFromSharedPost:void 0},"sharedProjectConversationOwnerId"in t&&"sharedProjectConversationId"in t&&t.sharedProjectConversationId&&t.sharedProjectConversationOwnerId?{continue_from_shared_project_conversation_id:t.sharedProjectConversationId,shared_project_conversation_owner_id:t.sharedProjectConversationOwnerId}:{conversation_id:n}),{parent_message_id:t.parentMessageId,model:t.model,timezone_offset_min:new Date().getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,variant_purpose:(r=t.completionMetadata)==null?void 0:r.variantPurpose,suggestions:(s=t.completionMetadata)!=null&&s.suggestions?t.completionMetadata.suggestions.map(f=>zr(f)):void 0,chosen_suggestion:(a=t.completionMetadata)!=null&&a.suggestion?{type:t.completionMetadata.suggestion.type,index:t.completionMetadata.suggestionIndex,source:t.completionMetadata.suggestion.type===je.Autocomplete?t.completionMetadata.suggestion.source:void 0,user_input:t.completionMetadata.suggestion.type===je.Autocomplete?t.completionMetadata.suggestion.userInput:void 0}:void 0,history_and_training_disabled:Sa(t.historyDisabled),conversation_mode:Ia((i=t.completionMetadata)==null?void 0:i.conversationMode),force_paragen:Sa(t.forceParagen),force_paragen_model_slug:t.forceParagenModel,force_indepth_feedback:Sa(t.forceIndepthFeedback),force_rate_limit:Sa(t.forceRateLimit),reset_rate_limits:Sa(t.resetRateLimits),record_rendering:Sa(t.recordRendering),record_transformed_convo_json:Sa(t.recordTransformedConvoJson),disable_system_content_toggling:Sa(t.disableSystemContentToggling),enable_message_followups:t.enableMessageFollowups,source:(l=t.completionMetadata)==null?void 0:l.source,system_hints:(c=t.completionMetadata)==null?void 0:c.systemHints,prefetch_ids:(u=t.completionMetadata)==null?void 0:u.prefetchIds,supports_buffering:!0,supported_encodings:[Kd.V1],conversation_origin:ls(t.conversationOrigin),force_use_search:ls(t.forceUseSearch),force_disable_features:ls(t.forceDisableFeatures),client_reported_search_source:(d=t.completionMetadata)==null?void 0:d.searchSource,client_contextual_info:t.contextualInfo,paragen_stream_type_override:ls(t.paragenStreamType==="none"?null:t.paragenStreamType),paragen_cot_summary_display_override:ls(t.paragenCotSummaryDisplay==="none"?null:t.paragenCotSummaryDisplay),is_onboarding_conversation:Sa(t.isOnboardingConversation),is_visible:ls(t.isVisible),override_infer_treatment:ls(t.overrideInferTreatment),model_slug_stats_override:ls(t.modelSlugStatsOverride),is_anon_mode:Sa(t.isAnonModeEnabled),is_reasoning_skipped:Sa(t.isReasoningSkipped),async_task_id:ls(t.asyncTaskId),force_parallel_switch:ls(t.forceParallelSwitch),thinking_effort:ls(t.thinkingEffort),juice_score:ls(t.juiceScore),multimodal_juice_score:ls(t.multimodalJuiceScore),local_function_names:pr()&&e?[...e]:void 0,api_tool_expansion_type:ls(t.apiToolExpansionType)})}function xne(t){let e=t;return t.clientMetadata&&(e=C({},t),delete e.clientMetadata),e}function Sa(t){if(t===!0)return t}function ls(t){if(t!=null)return t}function bne(t){if("type"in t)switch(t.type){case"gizmo_inline_review":return{type:"gizmo_inline_review",gizmoId:t.gizmo_id};case"title_generation":return{type:"title_generation",title:t.title,conversation_id:t.conversation_id};case"moderation":return{type:"moderation",conversationId:t.conversation_id,messageId:t.message_id,isCompletion:t.is_completion,flagged:t.moderation_response.flagged,blocked:t.moderation_response.blocked,shouldDisableConversation:!!t.moderation_response.should_disable_conversation,disclaimers:t.moderation_response.disclaimers,metadata:t.moderation_response.metadata};case"url_moderation":return{type:"url_moderation",conversationId:t.conversation_id,messageId:t.message_id,url:t.url_moderation_result.full_url,isSafe:t.url_moderation_result.is_safe};case"num_variants_in_stream":return{type:"num_variants_in_stream",num_variants_in_stream:t.num_variants_in_stream,display_treatment:t.display_treatment};case"perf_stats":case"conversation_detail_metadata":case"beacon_ui_response":case"resume_conversation_token":case"conversation_async_status":case"server_ste_metadata":case"message_marker":case"survey_campaign_effect":case"system_hint_suggestion":return t;case"message_stream_complete":return{type:"done"};default:return}if(t.message)return{type:"message",message:t.message,conversationId:t.conversation_id}}async function RIe(t,e,n=[],r,s=!1,a=!1){var M,E,T,j,A,I,L,O;const i=gr();if(!_5(i,!0)||!M_e(i))return;const l=kt(t),c=st(t);if(c!=null&&c.prepareRequestBlocked)return;const u=3e3;if(c!=null&&c.lastCompletionFinishedTimestamp){const R=performance.now()-c.lastCompletionFinishedTimestamp,H=u-R;H>0&&await new Promise(V=>setTimeout(V,H))}const d=(M=c==null?void 0:c.conversationOrigin)!=null?M:null;let f;if(s){const R=se.getParentPromptNode(c);f=(E=R==null?void 0:R.id)!=null?E:""}else f=se.getCurrentNode(c).message.id;const m=yf(),p=j6(i),h=(T=c==null?void 0:c.conduitToken)!=null?T:null,v=(j=c==null?void 0:c.prepareState)!=null?j:"none",y={threadId:l,prepareState:v,conduitToken:h,continueFromSharedPostId:c==null?void 0:c.continuingFromSharedPostId,forkFromSharedPost:!!(c!=null&&c.continuingFromSharedPostId),continueFromSharedConversationId:c==null?void 0:c.continuingFromSharedConversationId,branchingFromMessageId:c==null?void 0:c.branchingFromMessageId,branchingFromConversationId:c==null?void 0:c.branchingFromConversationId,sharedProjectConversationId:c==null?void 0:c.continuingFromSharedProjectConversationId,sharedProjectConversationOwnerId:(A=c==null?void 0:c.sharedProjectConversationOwner)==null?void 0:A.id,isOnboardingConversation:a,conversationOrigin:d,model:e,completionType:Ol.Next,completionMetadata:{systemHints:n,conversationMode:(I=c==null?void 0:c.mode)!=null?I:{kind:At.PrimaryAssistant}},messages:[],parentMessageId:f,recordRendering:m.recordRendering,recordTransformedConvoJson:m.recordTransformedConvoJson,historyDisabled:p,apiToolExpansionType:(L=m.apiToolExpansionType)!=null?L:void 0,asyncTaskId:(O=c==null?void 0:c.steeringAsyncTaskId)!=null?O:void 0},x=pr()?await uj():void 0,b=yne(y,x),_={"x-conduit-token":h!=null?h:"no-token"},w=Lo(3010482349,"".concat(e,"-AAAA"))||Lo(3240390095,"".concat(e,"-AAAA"));if(w){Fe(t,R=>{R.conduitToken=null,R.prepareState=null});return}const S=Et(i)?w?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon",k="".concat(S,"/f/conversation/prepare");try{Fe(t,V=>{V.prepareState="sent",V.lastPrepareTimestamp=performance.now()});const R=await la.post(k,b,{additionalHeaders:_,authOption:qt.SendIfAvailable}),{conduit_token:H}=R;r(H)}catch(R){Me.count(Ee.DEFAULT,"conduit_f_conversation_prepare_api_error"),ve.addError(R),!Lee(i)&&Fe(t,V=>{V.conduitToken=null,V.prepareState="failure"})}}const OIe=t=>new Promise(e=>setTimeout(e,t));function Cne(t,e){return wa(this,null,function*(){const{MIN_RETRY_INTERVAL:n,MAX_RETRY_INTERVAL:r,RETRY_FACTOR:s,MAX_RETRY_COUNT:a}=kj(e.ctx),{signal:i}=e;let l,c,u=t,d=0,f=0,m=0,p=0;for(;u!=null;)try{try{for(var h=Xn(u),v,y,x;v=!(y=yield new hn(h.next())).done;v=!1){const b=y.value;const _="response"in b;!_&&b.data!=null&&typeof b.data=="object"&&"type"in b.data&&b.data.type==="resume_conversation_token"&&"token"in b.data&&"conversation_id"in b.data?(c=String(b.data.token),l=String(b.data.conversation_id),dp.set(l,c)):yield b,f>0&&(p++,B.logEventWithStatsig("ChatGPT Convo Stream: Resume Succeeded","chatgpt_convo_stream_resume_succeeded",{conversationId:l,offset:d,afterRetryCount:f,successfulResumeCount:p}),f=0),_||d++}}catch(y){x=[y]}finally{try{v&&(y=h.return)&&(yield new hn(y.call(h)))}finally{if(x)throw x[0]}}B.logEventWithStatsig("ChatGPT Convo Stream: Stream Completed","chatgpt_convo_stream_completed",{conversationId:l,resumeAttempts:m,successfulResumeCount:p}),l!=null&&dp.remove(l),u=null}catch(b){const _=gh(b);f===0&&B.logEventWithStatsig("ChatGPT Convo Stream: Error","chatgpt_convo_stream_error",{conversationId:l,offset:d,isNetworkError:_,successfulResumeCount:p,errorMessage:b instanceof Error?b.message:String(b)});const w=b instanceof Wn&&Sj(b.status);if(f<a&&!(i!=null&&i.aborted)&&c!=null&&l!=null&&(gh(b)||w)&&ze(e.ctx,"2489999880").get("is_resume_enabled",!1)){f===0&&B.logEventWithStatsig("ChatGPT Convo Stream: Resume Attempted","chatgpt_convo_stream_resume_attempted",{conversationId:l,offset:d,retryCount:f,successfulResumeCount:p}),f++,m++;const k=Math.min(n*s**f,r)*(.5+Math.random()*.5);yield new hn(OIe(k)),u=_ne(P(C({},e),{resumeToken:c,conversationId:l,offset:d}))}else{const S=b instanceof Wn&&b.status===404;throw(f>=a||S&&f>0)&&B.logEventWithStatsig("ChatGPT Convo Stream: Resume Failed","chatgpt_convo_stream_resume_failed",{conversationId:l,offset:d,afterRetryCount:f,successfulResumeCount:p,isNetworkError:_,is404:S}),u=null,b instanceof Wn&&b.status===404&&f>0?(l!=null&&dp.remove(l),Wn.createWithErrorMessage(b.url,"client",Kl,void 0,b)):b}}})}function gh(t){return t instanceof Error&&t.message===Kl||typeof t=="string"&&t===Kl}function Sj(t){return t===408||t===409||t===425||t===429||t===502||t===504}function _ne({ctx:t,conversationId:e,resumeToken:n,model:r,turnTracker:s,offset:a,signal:i}){const l=Lo(3010482349,"".concat(r,"-AAAA"))||Lo(3240390095,"".concat(r,"-AAAA")),c=Et(t)?l?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon",u={"x-conduit-token":n!=null?n:"no-token"},d="".concat(c,"/f/conversation/resume"),f=t?rM(t):void 0,m={conversation_id:e,offset:a};return Yte(d,{method:"POST",headers:P(C(C(C({},gj()),f?ca({accessToken:f}):lY()),u),{"Content-Type":"application/json"}),body:m,intercomEventOnError:"fetch-error:conversation:new-message",signal:i!=null?i:void 0,observer:{onEvent:h=>{s.onStreamEvent(h.byteLength,h.isDoneEvent)}},ctx:t,retryConfig:kj(t),shouldRetry:h=>(gh(h)||h instanceof Wn&&Sj(h.status))&&ze(t,"603105008").get("retry_stream_requests",!1)})}function wne(a,i){return wa(this,arguments,function*(t,{turnTracker:e,prepareState:n,f_completion:r,signal:s}){try{try{for(var l=Xn(t),c,u,d;c=!(u=yield new hn(l.next())).done;c=!1){const f=u.value;yield f}}catch(u){d=[u]}finally{try{c&&(u=l.return)&&(yield new hn(u.call(l)))}finally{if(d)throw d[0]}}e.onStreamClose(),r&&M9("conduit_f_conversation_api.success",n)}catch(f){throw Me.count(Ee.DEFAULT,"conversation_api.client_request_error"),s!=null&&s.aborted?(e.handleAbort(f),r&&M9("conduit_f_conversation_api.aborted",n)):(e.handleRawError(f instanceof Error||typeof f=="string"?f:JSON.stringify(f)),r&&M9("conduit_f_conversation_api.error",n)),f}})}function kj(t){const e=_s(t,"3165814200");return{MIN_RETRY_INTERVAL:e.get("MIN_RETRY_INTERVAL",300),MAX_RETRY_INTERVAL:e.get("MAX_RETRY_INTERVAL",5e3),RETRY_FACTOR:e.get("RETRY_FACTOR",1.5),MAX_RETRY_COUNT:e.get("MAX_RETRY_COUNT",12)}}var Lt,kne,pS,u0,fg,Mne,Ene,jne,Tne,Nne,Ane,Pne,Ine,Lne,Rne,One,gS,hS,vS;class Sne{constructor(e,n,r,s,a,i,l,c,u,d,f,m,p,h,v,y,x,b,_,w,S=!1,k,M=!1,E=!1,T,j=void 0,A,I,L=!0){Gs(this,Lt);Q(this,"isFirstCompletionInThread");Q(this,"activeBranchLastMessage");Q(this,"messagesToUpdate",{});Q(this,"allIncompleteMessageIds",new Set);Q(this,"responseThreadId");Q(this,"isCompletionBlocked",!1);Q(this,"isEitherFlagged",!1);Q(this,"sentNotification",!1);Q(this,"variantsInStreamInfo");Q(this,"blurDuringCompletionTracker",new f_e);Q(this,"completionLatencyTracker");Q(this,"preflightTime");Q(this,"treatCompletionAsAsync",!1);Q(this,"realtimeAsyncCompletion",!1);Q(this,"resumeToken");Q(this,"placeholderNodeId");Gs(this,u0,e=>{var n,r,s;if(this.activeBranchLastMessage&&this.completionLatencyTracker.onResponse(e,this.activeBranchLastMessage,this.responseThreadId),this.responseThreadId===void 0&&"conversationId"in e){const a=e.conversationId;if(this.responseThreadId=a,Ji(this.clientThreadId)&&kt(this.clientThreadId)!==a&&(l3e(this.ctx,this.clientThreadId,a),B.logEvent("Attribution: Client Thread to Server Thread",{client_thread_id:this.clientThreadId,server_thread_id:a})),this.isContinuingFromSharedConversation&&(Fe(this.clientThreadId,l=>{delete l.continuingFromSharedConversationId}),Le.logEvent("chatgpt_continue_conversation_first_message_sent"),B.logEvent("Continue Conversation: First Message Sent",{forked_conversation_id:a,shared_conversation_id:(n=this.initialThread)==null?void 0:n.continuingFromSharedConversationId})),this.isContinuingFromBranchingConversation&&Fe(this.clientThreadId,l=>{delete l.branchingFromConversationId,delete l.branchingFromMessageId}),this.isContinuingFromSharedProjectConversation&&Fe(this.clientThreadId,l=>{delete l.continuingFromSharedProjectConversationId,delete l.sharedProjectConversationOwner}),this.isContinuableSharedPost&&Fe(this.clientThreadId,l=>{delete l.continuingFromSharedPostId,delete l.forkFromSharedPost}),this.isFirstCompletionInThread){const l=st(this.clientThreadId);B.logEvent("Create New Thread"),!this.isHistoryAndTrainingDisabled&&rwe(l==null?void 0:l.mode)&&Et(this.ctx)&&(os(this.queryClient,se.getGizmoId(l)),l!=null&&l.disableConversationNavigation||HE(ONe,this.queryClient,a,this.isSnorlaxEnabledForGizmo))}const i={id:this.requestId,threadId:this.responseThreadId,completionType:this.completionType,eventSource:this.eventSource,model:this.model};if(this.completionType===Ol.Next){const l=se.getConversationTurns(st(this.clientThreadId)),c=l.length,u=l.filter(f=>f.role===Ue.User),d=u&&((r=u[u.length-1])==null?void 0:r.messages[0]);if((d==null?void 0:d.content.content_type)===rt.Text){const f=d.content.parts.join("").length,m=(s=u==null?void 0:u.length)!=null?s:0;i.countConversationTurns=c,i.countUserSubmittedMessages=m,i.countLastUserPromptTextMessageLength=f}}B.logEvent("Generate Completion",i)}switch(e.type){case"num_variants_in_stream":on(this,Lt,Pne).call(this,e);break;case"moderation":on(this,Lt,Lne).call(this,e);break;case"url_moderation":on(this,Lt,Rne).call(this,e);break;case"message":on(this,Lt,One).call(this,e);break;case"done":on(this,Lt,hS).call(this);break;case"gizmo_inline_review":on(this,Lt,Mne).call(this,e);break;case"title_generation":on(this,Lt,Ene).call(this,e);break;case"conversation_detail_metadata":on(this,Lt,jne).call(this,e);break;case"beacon_ui_response":on(this,Lt,Tne).call(this,e);break;case"survey_campaign_effect":BNe(e);break;case"conversation_async_status":on(this,Lt,Nne).call(this,e);break;case"resume_conversation_token":on(this,Lt,Ane).call(this,e);break;case"system_hint_suggestion":on(this,Lt,Ine).call(this,e);break}});Q(this,"debouncedUpdateExistingMessages",xs(()=>{if(this.isCompletionBlocked)return;const e=Object.values(this.messagesToUpdate);e.length!==0&&(Fe(this.clientThreadId,n=>{vn.updateTree(n,r=>{for(const s of e)r.updateNodeMessage(s.id,s),s.status!=="in_progress"&&(r.updateNodeMetadata(s.id,{completionSampleFinishTime:Date.now()}),this.allIncompleteMessageIds.delete(s.id))})}),this.messagesToUpdate={})},50,{leading:!0,maxWait:50}));this.ctx=e,this.requestId=n,this.queryClient=r,this.initialThread=s,this.clientThreadId=a,this.parentMessageId=i,this.prependMessages=l,this.promptMessage=c,this.appendMessages=u,this.completionType=d,this.model=f,this.eventSource=m,this.isHistoryAndTrainingDisabled=p,this.startPreflightTime=h,this.isSnorlaxEnabledForGizmo=v,this.isNewThread=y,this.isContinuingFromSharedConversation=x,this.isContinuingFromBranchingConversation=b,this.isContinuingFromSharedProjectConversation=_,this.turnTracker=w,this.isAnonModeEnabled=k,this.isContinuableSharedPost=M,this.isReasoningSkipped=E,this.thinkingEffort=T,this.modelSlugStatsOverride=j,this.asyncTaskId=A,this.expireConduit=L,this.completionLatencyTracker=new k_e(this.requestId,h),this.isFirstCompletionInThread=y||this.isContinuingFromSharedConversation||this.isContinuingFromSharedProjectConversation||this.isContinuableSharedPost||this.isContinuingFromBranchingConversation,I!=null&&I.disablePlaceholder||(this.placeholderNodeId="".concat(yM).concat(n)),S&&(this.sentNotification=!0)}updateBeforeRequest(){J4e.incrementUserMessageCount(Et(this.ctx)?Ba.LoggedIn:Ba.LoggedOut),da.retainThread(this.clientThreadId),Fe(this.clientThreadId,e=>{var n,r,s;e.stopConduitToken=(n=e.conduitToken)!=null?n:null,this.expireConduit&&(e.conduitToken=null),e.prepareState=null,e.lastPrepareTimestamp=null,this.completionType===Ol.Next&&se.hasUserMessage(e)&&((r=this.promptMessage)==null?void 0:r.author.role)===Ue.User&&(e.scrollToMessageId=(s=this.promptMessage)==null?void 0:s.id),vn.updateTree(e,(a,i)=>{var c,u;if(this.parentMessageId&&(i=se.getNode(e,this.parentMessageId).id),this.prependMessages)for(const d of this.prependMessages)i=a.addMessageNode(i,d);if(this.promptMessage&&(i=a.addMessageNode(i,this.promptMessage)),this.appendMessages)for(const d of this.appendMessages)i=a.addMessageNode(i,d);const l=(u=(c=this.promptMessage)==null?void 0:c.metadata)==null?void 0:u.gizmo_id;if(this.placeholderNodeId){const d=uw("",l?{gizmo_id:l}:void 0,{requestId:this.requestId,isPlaceholder:!0},this.placeholderNodeId);i=a.addMessageNode(i,d)}return i})})}async sendRequest$({conduitToken:e,turnstileToken:n,proofToken:r,completionMetadata:s,resolvedParentMessageId:a,messages:i,extraStreamParams:l,chatReq:c,profiler:u}){var h,v,y,x,b,_,w,S,k,M,E,T,j,A;sL(this.clientThreadId,!0);const d=new AbortController;lp.addRequest(this.requestId,d,this.turnTracker);const f=yf(),m=kt(this.clientThreadId);if(this.completionType===Ol.Variant&&m==null){ve.addError("Generating variant without conversation_id"),on(this,Lt,fg).call(this,new Error("Regeneration must have conversation_id"));return}const p=AIe(this.ctx,C(C(P(C({conversationOrigin:(v=(h=this.initialThread)==null?void 0:h.conversationOrigin)!=null?v:null,model:this.model,completionType:this.completionType,prepareState:(x=(y=this.initialThread)==null?void 0:y.prepareState)!=null?x:"none",conduitToken:e,threadId:m,isReasoningSkipped:this.isReasoningSkipped,asyncTaskId:this.asyncTaskId,overrideInferTreatment:f.autoSwitcherTreatmentOverride,modelSlugStatsOverride:this.modelSlugStatsOverride,continueFromSharedConversationId:(b=this.initialThread)==null?void 0:b.continuingFromSharedConversationId,branchingFromConversationId:(_=this.initialThread)==null?void 0:_.branchingFromConversationId,branchingFromMessageId:(w=this.initialThread)==null?void 0:w.branchingFromMessageId,sharedProjectConversationOwnerId:(k=(S=this.initialThread)==null?void 0:S.sharedProjectConversationOwner)==null?void 0:k.id,sharedProjectConversationId:(M=this.initialThread)==null?void 0:M.continuingFromSharedProjectConversationId,continueFromSharedPostId:(E=this.initialThread)==null?void 0:E.continuingFromSharedPostId,forkFromSharedPost:(T=this.initialThread)==null?void 0:T.forkFromSharedPost,historyDisabled:this.isHistoryAndTrainingDisabled,isAnonModeEnabled:this.isAnonModeEnabled,parentMessageId:a,messages:i,chatReq:c,turnstileToken:n,proofToken:r,completionMetadata:s,contextualInfo:{is_dark_mode:o3e(),time_since_loaded:Math.floor(performance.now()/1e3),page_height:window.innerHeight,page_width:window.innerWidth,pixel_ratio:window.devicePixelRatio,screen_height:window.screen.height,screen_width:window.screen.width,window_style:Fs(this.ctx).windowStyle},isOnboardingConversation:s==null?void 0:s.isOnboardingConversation,thinkingEffort:on(this,Lt,kne).call(this),forceParagen:f.forceParagen,forceParagenModel:f.forceParagen?f.forceParagenModel.value:void 0,forceRateLimit:f.forceRateLimit,resetRateLimits:f.resetRateLimits,recordRendering:f.recordRendering,recordTransformedConvoJson:f.recordTransformedConvoJson,disableSystemContentToggling:f.rebaseSystemMessageContent!=null,forceUseSearch:(j=f.forceUseSearch)!=null?j:void 0,paragenStreamType:f.paragenStreamType,paragenCotSummaryDisplay:f.paragenCotSummaryDisplay,forceParallelSwitch:f.forceParallelSwitch,juiceScore:f.juiceScore,multimodalJuiceScore:f.multimodalJuiceScore,apiToolExpansionType:(A=f.apiToolExpansionType)!=null?A:void 0},_5(this.ctx)?{f_completion:!0}:{}),{expireConduit:this.expireConduit}),E_e()?{f_search:!0}:{}),l),this.turnTracker,u,d.signal,this.clientThreadId);try{try{for(var I=Xn(p),L,O,R;L=!(O=await I.next()).done;L=!1){const H=O.value;H.type==="connected"?on(this,Lt,pS).call(this,H):QL(H)&&Pn(this,u0).call(this,H)}}catch(O){R=[O]}finally{try{L&&(O=I.return)&&await O.call(I)}finally{if(R)throw R[0]}}}catch(H){SP(H)||d.signal.aborted?on(this,Lt,gS).call(this,H):on(this,Lt,fg).call(this,H)}finally{sL(this.clientThreadId,!1)}}async sendResumeRequest$({conversationId:e,resumeToken:n,profiler:r}){const s=new AbortController;lp.addRequest(this.requestId,s,this.turnTracker),Fe(this.clientThreadId,d=>{vn.setRequestIdOnCurrentLeaf(d,this.requestId)});const a=PIe(this.ctx,{conversationId:e,resumeToken:n,model:this.model},this.turnTracker,r,s.signal,this.clientThreadId);try{try{for(var i=Xn(a),l,c,u;l=!(c=await i.next()).done;l=!1){const d=c.value;d.type==="connected"?on(this,Lt,pS).call(this,d):QL(d)&&Pn(this,u0).call(this,d)}}catch(c){u=[c]}finally{try{l&&(c=i.return)&&await c.call(i)}finally{if(u)throw u[0]}}}catch(d){SP(d)||s.signal.aborted?on(this,Lt,gS).call(this,d):on(this,Lt,fg).call(this,d)}}maybeSendNotification(){var i,l;if(this.sentNotification)return;const e=st(this.clientThreadId),n=(i=e==null?void 0:e.title)!=null?i:void 0;if(!n)return;const r=se.getCurrentNode(e).message;if(M5(r)&&!K_e(r))return;const s=r.content,a=(s==null?void 0:s.content_type)===rt.Text?twe(LNe((l=s.parts[0])!=null?l:""),120):void 0;rh({title:n,subtitle:a,clientThreadId:this.clientThreadId}),this.sentNotification=!0}}Lt=new WeakSet,kne=function(){if(this.model!==i3e)return;if(ze(this.ctx,"790459319").get("show-juice-control",!1))return this.thinkingEffort},pS=function(e){const{serverRequestId:n,interruptConversationToken:r}=e;this.turnTracker.onStreamOpen(r!==null),n&&this.turnTracker.onReceivedServerRequestId(n),r&&Fe(this.clientThreadId,s=>{s.conduitToken=r}),C_e(this.requestId,this.model,n,Cf(this.preflightTime))},u0=new WeakMap,fg=function(e){var u,d,f,m;const n=c3e(e),r=n.message,s=e instanceof Wn?e.code:void 0,a=e instanceof Wn?(u=e.detail)==null?void 0:u.can_retry:void 0,i=r===Kl,l=i&&!this.treatCompletionAsAsync&&Et(this.ctx)&&ze(this.ctx,"2489999880").get("is_polling_enabled",!1);l&&(this.treatCompletionAsAsync=!0),this.debouncedUpdateExistingMessages.flush(),this.treatCompletionAsAsync&&r===Kl&&!l||Fe(this.clientThreadId,p=>{vn.updateTree(p,(h,v)=>{var b,_,w,S,k;const y=this.variantsInStreamInfo&&(_=(b=se.getParentPromptNode(p))==null?void 0:b.id)!=null?_:v,x={err:l?d3e:r,errType:l?"info":"danger",errCode:l?u3e.NetworkErrorWithReconnection:s,completionSampleFinishTime:Date.now(),canRetry:l?!1:a};if(((k=(S=(w=h.getNodeIfExists(y))==null?void 0:w.message)==null?void 0:S.content)==null?void 0:k.content_type)!==rt.Text){const M=uw("");return M.clientMetadata=C(C({},M.clientMetadata),x),h.addMessageNode(y,M)}else h.updateNodeMetadata(y,x)})});try{typeof r=="string"&&r.toLowerCase().includes("blackout hours")&&Dt(this.ctx,f3e)}catch(p){}try{const p=st(this.clientThreadId),h=se.getLastMessageSystemHints(p);if(h==null?void 0:h.includes(Or)){const y=e instanceof Wn?e:void 0,x=y==null?void 0:y.status,b=(d=y==null?void 0:y.isClientError())!=null?d:!1,_=(f=y==null?void 0:y.isServerError())!=null?f:!1,w=i?"network":_?"server":b?"client":"unknown";ve.addAction("agent.conversation.start_failed",{request_id:this.requestId,model:this.model,error_code:s!=null?s:"unknown",is_network_error:i,is_recoverable_error:l,error_status:x,is_client_error:b,is_server_error:_,error_type:w})}}catch(p){}switch(i&&B.logNetworkError({source:"request_stream",type:l?"info_polling":"error"}),s){case Cl.ContentPolicy:case Cl.ContentOrTos:case ap.ModelCapExceeded:case ap.HistoryDisabledConversationNotFound:break;default:r!==void 0&&Le.logEvent("chatgpt_conversation_error_web",r)}if(this.blurDuringCompletionTracker.onMessageError(),JI(n),on(this,Lt,vS).call(this),Rl.publish({kind:"completionFinished",serverThreadId:this.responseThreadId}),e instanceof Wn&&e.code===ap.ModelCapExceeded){const p=(m=e.detail)==null?void 0:m.clears_in;p&&(m3e(new Date(Date.now()+p*1e3).toISOString()),setTimeout(()=>{p3e()},p*1e3))}},Mne=function({gizmoId:e}){Fe(this.clientThreadId,n=>{n.promptGptRating={gizmoId:e}})},Ene=function(e){k5(this.ctx,e.conversation_id,e.title,y0.Generated),this.isSnorlaxEnabledForGizmo||L_e(this.ctx,e.conversation_id,e.title),this.maybeSendNotification()},jne=function(e){const{default_model_slug:n}=e;n&&Fe(this.clientThreadId,s=>{s.modelId=n}),ie(this.ctx,"3315017149")&&uY(e)&&this.queryClient.invalidateQueries({queryKey:dY()}),Mp.updateDetails(e)},Tne=function(e){wi.updateDetails(e)},Nne=function(e){const{async_status:n}=e;n===sn.REALTIME&&(this.realtimeAsyncCompletion=!0),this.responseThreadId&&ns(this.responseThreadId,{source:Cr.SERVER,value:n}),ns(this.clientThreadId,{source:Cr.SERVER,value:n})},Ane=function(e){var i,l;const{token:n}=e;this.resumeToken=n!=null?n:void 0;const r=st(this.clientThreadId),s=se.getLastMessageSystemHints(r),a=s==null?void 0:s.includes(Or);this.realtimeAsyncCompletion&&a&&ve.addAction("agent.conversation.start_succeeded",{conversation_id:(l=(i=e.conversation_id)!=null?i:this.responseThreadId)!=null?l:"",request_id:this.requestId,model:this.model})},Pne=function(e){this.variantsInStreamInfo=e,Fe(this.clientThreadId,n=>{vn.updateTree(n,(r,s)=>{var i;const a=(i=se.getParentPromptNode(n))!=null?i:r.getNodeByIdOrMessageId(s);r.updateNodeMetadata(a.id,{variantsInStreamInfo:this.variantsInStreamInfo})})})},Ine=function(e){let n=[];const{action_label:r,system_hint:s,chips:a}=e;if(a!=null&&a.length)n=a.map(l=>({actionLabel:l.action_label,systemHint:l.system_hint}));else if(r&&s)n=[{actionLabel:r,systemHint:s}];else return null;ch(cr(this.ctx,this.clientThreadId)).addActiveSystemHintSuggestionChips(n)},Lne=function(e){const{isCompletion:n,flagged:r,blocked:s,disclaimers:a}=e,i=!!(a!=null&&a.length);(r||s||i)&&(this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged=!0,s&&n&&(this.isCompletionBlocked=!0),Pee(e,this.clientThreadId))},Rne=function(e){const{conversationId:n,url:r,isSafe:s}=e;s&&Fe(n,a=>{a.safeUrls.push(r)})},One=function({message:e,conversationId:n}){var r,s;if(this.activeBranchLastMessage=e,(e==null?void 0:e.author.role)===Ue.Tool&&(e==null?void 0:e.author.name)==="bio"){const a=(r=e.metadata)==null?void 0:r.gizmo_id;setTimeout(()=>{this.queryClient.invalidateQueries({queryKey:$te(a)})},5e3)}if((s=e.metadata)!=null&&s.trigger_async_ux&&(this.treatCompletionAsAsync=!0,ns(this.clientThreadId,{source:Cr.SERVER,value:sn.STREAMING})),se.getTree(st(n)).containsNodeOrMessageId(e.id)){this.messagesToUpdate[e.id]=e,this.debouncedUpdateExistingMessages();return}this.debouncedUpdateExistingMessages.flush(),Fe(this.clientThreadId,a=>{vn.updateTree(a,(i,l)=>{var f;const c={requestId:this.requestId};e.status!=="in_progress"?c.completionSampleFinishTime=Date.now():this.allIncompleteMessageIds.add(e.id);const u=P(C({},e),{clientMetadata:c}),d=(f=e.metadata)==null?void 0:f.parent_id;if(d){if(this.placeholderNodeId&&i.getParent(this.placeholderNodeId).id===i.getNodeByIdOrMessageId(d).id)if(kP(u)){i.prependNode(this.placeholderNodeId,u);return}else i.deleteNode(this.placeholderNodeId),this.placeholderNodeId=void 0;return i.addMessageNode(d,u)}else{const m=i.findFirst(p=>!kP(p.message));if(m)i.prependNode(m.id,u);else return i.addMessageNode(l,u)}})})},gS=function(e){this.debouncedUpdateExistingMessages.flush(),Fe(this.clientThreadId,n=>{vn.updateTree(n,r=>{for(const s of this.allIncompleteMessageIds)r.updateNodeMessageMetadata(s,{finish_details:{type:"interrupted"}})})}),on(this,Lt,hS).call(this)},hS=function(){var e;if(this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged||(this.isFirstCompletionInThread&&this.responseThreadId&&!this.isHistoryAndTrainingDisabled&&!Le.checkGate("2562876640")&&z_e(this.ctx,this.responseThreadId,this.model),Rl.publish({kind:"completionFinished",serverThreadId:this.responseThreadId})),this.isFirstCompletionInThread&&this.responseThreadId){const n=se.getGizmoId(st(this.responseThreadId)),r=this.queryClient.getQueryState([rs,{gizmoId:n}]);if((r==null?void 0:r.fetchStatus)!=="fetching"){const s=this.queryClient.getQueryData([rs,{gizmoId:n}]);((e=s==null?void 0:s.pages.flatMap(l=>l.items))!=null?e:[]).some(l=>l.id===this.responseThreadId)||(V_e(this.queryClient,n),B.logEventWithStatsig("Refetch Project Conversation in Completion Request","chatgpt_web_projects_completion_request_new_chat_refetch"))}}Rl.publish({kind:"createConversation",clientThreadId:this.clientThreadId}),this.blurDuringCompletionTracker.onMessageDone(),JI(),on(this,Lt,vS).call(this)},vS=function(){Fe(this.clientThreadId,e=>{if(e.shouldRefetchConvoOnFinalize){const n=kt(this.clientThreadId);n&&(fa(n,{skipIfExisting:!1}),vn.setShouldRefetchConvoOnFinalize(e,!1))}vn.updateTree(e,n=>{for(const r of this.allIncompleteMessageIds)n.updateNodeMetadata(r,{completionSampleFinishTime:Date.now()})})}),this.allIncompleteMessageIds.clear(),this.expireConduit&&Fe(this.clientThreadId,e=>{e.conduitToken=null}),setTimeout(()=>{if(this.treatCompletionAsAsync||this.realtimeAsyncCompletion){const e=this.treatCompletionAsAsync?sn.STREAMING:sn.REALTIME,n=r=>{if(!r)return;const s=FE(this.ctx,r);(s==null||s.source===Cr.CLIENT)&&ns(r,{source:Cr.SERVER,value:e})};n(this.responseThreadId),n(this.clientThreadId)}else ns(this.clientThreadId,{source:Cr.CLIENT,value:sn.UNREAD});this.maybeSendNotification(),lp.removeRequest(this.requestId),da.releaseThread(this.clientThreadId)},0)};const DIe=10,FIe=Rt(Sn(()=>({requests:{},requestIds:[]}))),s2=(t,e,n)=>{if(!Ki(gr()).checkGate("1154002920"))return null;FIe.setState(r=>{var s,a;if(r.requestIds.length===DIe){const i=r.requestIds.shift();i!=null&&delete r.requests[i]}(a=(s=r.requests)[t])!=null||(s[t]={serverRequestId:null,timeToFirstToken:null,apiStartDelay:null,serverStats:null}),r.requests[t][e]=n})},a2={publishServerRequestId:(t,e)=>{s2(t,"serverRequestId",e)},publishServerStats:(t,e)=>{s2(t,"serverStats",e)},publishApiStartDelay:(t,e)=>{s2(t,"apiStartDelay",e)},publishTimeToFirstToken:(t,e)=>{s2(t,"timeToFirstToken",e)}};var E9,cR;function BIe(){if(cR)return E9;cR=1;function t(e){return e===void 0}return E9=t,E9}var UIe=BIe();const HIe=St(UIe);var j9,uR;function VIe(){if(uR)return j9;uR=1;var t="Expected a function";function e(n){if(typeof n!="function")throw new TypeError(t);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}return j9=e,j9}var T9,dR;function $Ie(){if(dR)return T9;dR=1;var t=T6(),e=VIe(),n=g3e();function r(s,a){return n(s,e(t(a)))}return T9=r,T9}var qIe=$Ie();const zIe=St(qIe);function GIe(t){return typeof t=="number"?Math.trunc(t):t}const WIe=["time_since_prompt_sent_ms","time_since_last_event_ms","first_token_lat","api_start_delay","completion_request_time_to_first_visible_message"],o2="is_kaur1br5";class Dne{constructor({ctx:e,clientRequestId:n,gizmoType:r,preflightTime:s,isTemporaryChat:a}){Q(this,"ctx");Q(this,"start_time_ms");Q(this,"turn_id");Q(this,"trigger");Q(this,"result");Q(this,"time_since_prompt_sent_ms");Q(this,"stream_update_event_count",0);Q(this,"first_token_lat");Q(this,"first_visible_content_token_lat");Q(this,"first_nav_link_token_lat");Q(this,"last_model_message_received");Q(this,"api_start_time");Q(this,"time_since_last_event_ms");Q(this,"api_start_delay");Q(this,"completion_request_time_to_first_visible_message");Q(this,"model_slug");Q(this,"last_message_model_slug");Q(this,"tools_used");Q(this,"system_hints");Q(this,"gizmo_id");Q(this,"promptSentTimestamp");Q(this,"serverStats");Q(this,"serverSteMetadata");Q(this,"logger");Q(this,"server_request_id");Q(this,"client_request_id");Q(this,"completed",!1);Q(this,"num_images_attached",0);Q(this,"num_files_attached",0);Q(this,"bytes_received",0);Q(this,"model_message_update_count",0);Q(this,"stream_encoding");Q(this,"stream_buffering",!0);Q(this,"gizmo_type");Q(this,"isStreamOpen",!1);Q(this,"isTemporaryChat");Q(this,"hasReceivedAgentMetadataMessage",!1);Q(this,"streamTerminatedPrematurely",!1);Q(this,"messageMarkerLatencies",{});this.ctx=e,this.client_request_id=n,this.start_time_ms=performance.now(),this.turn_id=Yn(),this.promptSentTimestamp=s!=null?s:performance.now(),this.tools_used=new Set,this.system_hints=new Set,this.logger=h3e.createLogger("turn-analytics","info","http"),r&&(this.gizmo_type=r),this.isTemporaryChat=a}truncateValueForKey(e){const n=GIe(this[e]);n!==void 0&&(this[e]=n)}onUserMessages(e){e.forEach(n=>{var r,s,a,i;n.author.role==="user"&&((s=(r=n.metadata)==null?void 0:r.attachments)==null||s.forEach(l=>{l.height&&l.width?this.num_images_attached+=1:this.num_files_attached+=1}),(i=(a=n.metadata)==null?void 0:a.system_hints)==null||i.forEach(l=>{this.system_hints.add(l)}))})}addServerPerfStats(e){a2.publishServerStats(this.client_request_id,e),this.serverStats=e}addServerSteMetadata(e){this.serverSteMetadata=e.metadata}onMessageMarker(e){const r="".concat(e.event,"_").concat("received");this.messageMarkerLatencies[e.marker]=P(C({},this.messageMarkerLatencies[e.marker]),{[r]:performance.now()-this.promptSentTimestamp})}onStreamOpen(e){this.isStreamOpen=!0,this.logCompletionStarted(),this.logTimeToInterruptToken(e!=null?e:!1)}onStreamClose(){this.model_message_update_count>0?this.logCompletion({type:di.Success}):this.logCompletion({type:di.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}})}onPrematureStreamTermination(){var n,r,s;if(this.streamTerminatedPrematurely)return;this.streamTerminatedPrematurely=!0;const e=pr()?"true":"false";ve.addAction("conversation.stream.terminated_prematurely",{turn_id:this.turn_id,client_request_id:this.client_request_id,server_request_id:this.server_request_id,system_hints:this.system_hints,model_slug:(r=(n=this.model_slug)!=null?n:this.last_message_model_slug)!=null?r:void 0,message_count:this.model_message_update_count,[o2]:e}),Me.count(Ee.DEFAULT,"conversation.stream.terminated_prematurely",[{key:"first_system_hint",value:[...this.system_hints][0]||"n/a"},{key:"trigger",value:(s=this.trigger)!=null?s:"unknown"},{key:o2,value:e}])}onCompletionStarted(e,n){switch(e){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onReceivedServerRequestId(e){this.server_request_id=e,a2.publishServerRequestId(this.client_request_id,this.server_request_id)}onStreamEvent(e,n){this.bytes_received+=e,n||(this.stream_update_event_count+=1)}onSentUserMessage(){this.api_start_time=performance.now(),this.api_start_delay=this.api_start_time-this.promptSentTimestamp,a2.publishApiStartDelay(this.client_request_id,this.api_start_delay)}onMessageUpdate(e){var i,l,c,u;e.author.name===vs.n7jupd_m&&(this.hasReceivedAgentMetadataMessage=!0);const{model_slug:n,gizmo_id:r}=(i=e.metadata)!=null?i:{},{role:s,name:a}=e.author;if(this.gizmo_id=(l=this.gizmo_id)!=null?l:r,s===Ue.Tool&&a&&this.tools_used.add(a),s!==Ue.User&&s!==Ue.System&&s!==Ue.Developer&&s!==Ue.Root&&(this.model_message_update_count+=1,this.last_model_message_received=performance.now(),this.last_message_model_slug=n!=null?n:this.last_message_model_slug),!this.first_token_lat&&e.author.role!==Ue.User&&_u(e)&&Ka(e).length>0){const d=performance.now();this.first_token_lat=d-this.promptSentTimestamp,this.api_start_time&&(this.completion_request_time_to_first_visible_message=d-this.api_start_time),a2.publishTimeToFirstToken(this.client_request_id,this.first_token_lat)}if(!this.first_visible_content_token_lat&&e.author.role===Ue.Assistant&&_u(e)&&(this.first_visible_content_token_lat=performance.now()-this.promptSentTimestamp),!this.first_nav_link_token_lat&&N6(e)===A6.SuperWidget){const d=e.content;(u=(c=d==null?void 0:d.widgets)==null?void 0:c.navlinks)!=null&&u.length&&(this.first_nav_link_token_lat=performance.now()-this.promptSentTimestamp)}}handleAbort(e){this.logCompletion({type:di.Canceled})}handleRawError(e){var a;let n,r=null,s=null;e instanceof Error?(r=(a=e.message)!=null?a:"Something went wrong",s=e instanceof Wn?e.status:void 0):r=e,s===400||r===Kl||r==="NetworkError when attempting to fetch resource."||r==="The network connection was lost."?n="network_error":r==="Request timed out"?n="timeout":n="request_failed",this.logCompletion({type:di.Error,error:C({reason:n,message:r},s&&{status_code:s})})}getFeatureFlags(){const e={"resumable-streaming":ze(this.ctx,"2489999880",{disableExposureLog:!0}).get("is_resume_enabled",!1)},n=Object.entries(e),r=n.filter(([a,i])=>i).map(([a])=>a),s=n.filter(([a,i])=>!i).map(([a])=>a);return{enabled_feature_flags:r,disabled_feature_flags:s}}createLogPayload(){var s,a;const{enabled_feature_flags:e,disabled_feature_flags:n}=this.getFeatureFlags(),r=P(C({turn_id:this.turn_id,trigger:this.trigger,result:Cf((s=this.result)==null?void 0:s.type)},((a=this.result)==null?void 0:a.type)===di.Error?{error:this.result.error}:void 0),{time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,first_visible_content_token_lat:this.first_visible_content_token_lat,first_nav_link_token_lat:this.first_nav_link_token_lat,api_start_delay:this.api_start_delay,completion_request_time_to_first_visible_message:this.completion_request_time_to_first_visible_message,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used],system_hints:[...this.system_hints],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached},temporary_chat:this.isTemporaryChat,gizmo_type:this.gizmo_type,server_ste_metadata:this.serverSteMetadata,message_marker_latencies:this.messageMarkerLatencies,enabled_feature_flags:e,disabled_feature_flags:n});return{request_id:this.server_request_id,turn_analytics:r}}createStatsigPayload(){var e,n;return zIe({turn_id:String(this.turn_id),trigger:this.trigger,result:(e=this.result)==null?void 0:e.type,error:JSON.stringify(((n=this.result)==null?void 0:n.type)===di.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),api_start_delay:String(this.api_start_delay),completion_request_time_to_first_visible_message:String(this.completion_request_time_to_first_visible_message),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used].join(", "),system_hints:[...this.system_hints].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}),temporary_chat:String(this.isTemporaryChat),gizmo_type:this.gizmo_type,server_ste_metadata:JSON.stringify(this.serverSteMetadata),message_marker_latencies:JSON.stringify(this.messageMarkerLatencies)},HIe)}logCompletionStarted(){B.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_started","chatgpt_conversation_turn_turn_exchange_started",this.createStatsigPayload())}logTimeToInterruptToken(e){e&&Me.hist(Ee.DEFAULT,"chatgpt_web_interrupt_token_latency",[],performance.now()-this.promptSentTimestamp),Me.count(Ee.DEFAULT,"chatgpt_web_interrupt_token_exists",[{key:"has_conduit_token",value:e?"true":"false"}])}logCompletion(e){var r,s,a;if(this.completed)return;const n=performance.now();Me.count(Ee.DEFAULT,"completion_request"),Me.hist(Ee.DEFAULT,"completion_request_time",[],n-this.start_time_ms),this.completed=!0,this.result=e;for(const i of WIe)this.truncateValueForKey(i);if(this.time_since_prompt_sent_ms=n-this.promptSentTimestamp,this.last_model_message_received&&(this.time_since_last_event_ms=n-this.last_model_message_received),e.type===di.Error?this.logger.error("Turn exchange complete",this.createLogPayload()):this.logger.info("Turn exchange complete",this.createLogPayload()),this.system_hints.has(Or)&&!this.hasReceivedAgentMetadataMessage){const i=pr()?"true":"false";ve.addAction("conversation.stream.agent_metadata_message_missing",{turn_id:this.turn_id,client_request_id:this.client_request_id,server_request_id:this.server_request_id,completion_result:e.type,stream_terminated_prematurely:this.streamTerminatedPrematurely,model_slug:(s=(r=this.model_slug)!=null?r:this.last_message_model_slug)!=null?s:void 0,trigger:this.trigger,[o2]:i}),Me.count(Ee.DEFAULT,"conversation.stream.agent_metadata_message_missing",[{key:"trigger",value:(a=this.trigger)!=null?a:"null"},{key:o2,value:i}])}B.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_complete","chatgpt_conversation_turn_turn_exchange_complete",this.createStatsigPayload())}}function ZIe(t){return v3e(t)&&!y3e(t)}const i2=50,KIe=95;function YIe(t,e){if(t<=e)return t/e*i2;{const n=i2,r=KIe-i2,s=t-e,i=-(i2/e)/r;return n+r*(1-Math.exp(i*s))}}class QIe{constructor(){Q(this,"mostRecentCompletionRequest");Q(this,"loggedRequests",new Set)}onCompletionRequestStarted(e){this.mostRecentCompletionRequest={requestId:e,timestamp:Date.now()},this.loggedRequests.clear()}logEvent(e,n,r,s,a){var l;const i=this.mostRecentCompletionRequest;i!=null&&!this.loggedRequests.has(e)&&((l=se.getNode(st(n),r).message.clientMetadata)==null?void 0:l.requestId)===i.requestId&&(B.logEvent(e,C({messageId:r,timeMs:Date.now()-i.timestamp},s)),a==null||a(),this.loggedRequests.add(e))}}const Fne=new QIe;function JIe(t){var s,a;const e=t.find(i=>{var l;return((l=i.metadata)==null?void 0:l.image_search_results)!==void 0});return((a=(s=e==null?void 0:e.metadata)==null?void 0:s.image_search_results)!=null?a:[]).slice(0,5)}function O5(t,e){var r;if(ie(t,"1627380539"))return"gpt-5";switch((r=yt(t))==null?void 0:r.planType){case Re.FREE:return e?"gpt-4o":"auto";case void 0:return"auto";default:return"gpt-4o"}}function fR(t,e){if(!(e!=null&&e.length))return t;const n=new Set(t.map(s=>s.url)),r=[...t];for(const s of e)n.has(s.url)||(n.add(s.url),r.push(s));return r}const yS={navlinks:[],images:[],videos:[],news:[],isSearchLikely:void 0,analytics:{}},XIe=t=>({entries:{},updateFromEvent:(e,n)=>t(r=>{var i,l,c,u,d;const s=(i=r.entries[e])!=null?i:yS;let a=s;switch(n.event){case"navlinks":a=P(C({},s),{navlinks:fR(s.navlinks,(l=n.data.navlinks)!=null?l:[]),images:fR(s.images,(c=n.data.images)!=null?c:[])}),s.analytics.firstNavlinkFetched===void 0&&((u=n.data.navlinks)!=null?u:[]).length>0&&(a.analytics=P(C({},s.analytics),{firstNavlinkFetched:n.processTime,firstNavlinksFetchedTS:n.timestampMs}));break;case"search.classifier":a=P(C({},s),{isSearchLikely:n.data.is_search_likely}),s.analytics.firstClassifierFetched===void 0&&n.data.is_search_likely&&(a.analytics=P(C({},s.analytics),{firstClassifierFetched:n.processTime,firstClassifierFetchedTS:n.timestampMs}));break;case"attributions":a=P(C({},s),{navlinks:s.navlinks.map(f=>{var p,h;const m=((p=n.data.attributions)!=null?p:[]).find(v=>v.url===f.url);return P(C({},f),{domain:(h=m==null?void 0:m.attribution)!=null?h:f.domain})})});break;case"attributes":{const f=(d=n.data.attributes)!=null?d:{};a=P(C({},s),{isNoForceSearch:f.shortQueryNoOptimize!==void 0?!!f.shortQueryNoOptimize:void 0,isNavlinkIntent:f.isNavlinkIntent!==void 0?!!f.isNavlinkIntent:void 0,isForceHide:f.isForceHide!==void 0?!!f.isForceHide:void 0,truncateFastNavlinks:f.truncateFastNavlinks!==void 0?Number(f.truncateFastNavlinks):void 0});break}case"log":switch(n.data.event){case"fetchSonicNavLinks.start":a=P(C({},s),{analytics:P(C({},s.analytics),{lastStartFetch:n.processTime,lastStartFetchTS:n.timestampMs,firstStartFetch:s.analytics.firstStartFetch!==void 0?s.analytics.firstStartFetch:n.processTime})});break;case"fetchBENavlinks.start":s.analytics.firstRoundtripTime===void 0&&(a=P(C({},s),{analytics:P(C({},s.analytics),{firstRoundtripTime:n.processTime})}));break;case"navlinkRequested":a=P(C({},s),{analytics:P(C({},s.analytics),{requestedTimeUnixEpochMs:n.timestampMs})});break;case"shortQueryNoOptimize":a=P(C({},s),{isNoForceSearch:!0});break;case"isNavlinkIntent":a=P(C({},s),{isNavlinkIntent:!0});break}break}return{entries:P(C({},r.entries),{[e]:a})}})}),Bne=xM()(XIe,bf);function eLe(t){return Bne(e=>{var n;return t==null?yS:(n=e.entries[t])!=null?n:yS})}function tLe(t){return{event:"attributes",data:{attributes:{isForceHide:t}}}}const nLe=(t,e=!1)=>{var n;return t==="web"?MP.Web:t==="cloud"?MP.Cloud:(n=bM[t])!=null?n:e?t:void 0},tc=(t,e=!1)=>Array.from(t.values()).map(n=>nLe(n,e)).filter(Boolean),rLe="I took control of the virtual browser. If you're unsure what changed, ask for more context. If the task is complete, just acknowledge and wrap it up. Otherwise, please proceed.",Kn=Rt(()=>({token:null,clientThreadId:null,isOpen:!1,isResuming:!1,isTakeoverInProgress:!1,parentMessageId:null,vmId:null,abortPromise:null})),SCt=(t,e)=>{Kn.setState(n=>P(C({},n),{clientThreadId:t,token:e}))},sLe=t=>{const e=Mj();(e.clientMetadata||(e.clientMetadata={})).isPlaceholder=!0,Fe(t,n=>{vn.appendMessage(n,e)})},Une=t=>{Fe(t,e=>{vn.updateTree(e,n=>{const r=n.nodes.filter(s=>{var l,c,u;const a=(l=s.message)==null?void 0:l.metadata,i=(c=s.message)==null?void 0:c.clientMetadata;return(i==null?void 0:i.isPlaceholder)&&(a==null?void 0:a.is_takeover_ended_message)&&((u=a==null?void 0:a.system_hints)==null?void 0:u.includes(Or))});for(const s of r)n.updateNodeMetadata(s.id,{isPlaceholder:!1})})})},Mj=t=>Fr(rLe,C({is_takeover_ended_message:!0,system_hints:[Or]},t&&{selected_sources:tc(t)})),kCt=()=>{Kn.setState({token:null,clientThreadId:null,isOpen:!1,isTakeoverInProgress:!1})};function aLe(t){return t instanceof KeyboardEvent||"key"in t||"detail"in t&&t.detail===0?"keyboard":"mouse"}const Hne=Uu(()=>nt(!1));function oLe(t){return Hne(t)()}function Vne(t,e){Hne(t).set(e)}function $ne(t,e){var s;const n=(s=st(e))==null?void 0:s.mode,r=n&&"gizmo_id"in n?n.gizmo_id:null;if(r!=null)return x3e(t,r)?Td.PROJECT:Td.GPT}function Ej(t,e){var c;const n=ie(t,"3530414009"),r=!!((c=e==null?void 0:e.prefetchIds)!=null&&c.length),s=performance.now(),a=[],i=JAe();if(i==null)return a.push("chatReq"),rne().then(l);return l(i);function l(u){u.force_login&&dn(t,{fallbackScreenHint:"login"});const d=fS.getEnforcementTokenSync(u);if(d==null)return a.push("turnstile"),fS.getEnforcementToken(u).then(f);return f(d);function f(m){const p=performance.now(),h=ec.getEnforcementTokenSync(u);if(h==null)return a.push("proofofwork"),ec.getEnforcementToken(u,{forceSync:r&&n}).then(v);return v(h);function v(y){const x=String(performance.now()-p),b=a.includes("chatReq")?"false":"true",_=a.includes("turnstile")?"false":"true",w=a.includes("proofofwork")?"false":"true";return Me.hist(Ee.DEFAULT,"chat_req_time",[{key:"wasChatReqSync",value:b},{key:"wasTurnstileSync",value:_},{key:"wasProofofworkSync",value:w}],performance.now()-s),wo(gr(),{eventName:"chatgpt_web_completion_integrity_checks",value:a.length===0?"true":"false",metadata:{wasChatReqSync:b,wasTurnstileSync:_,wasProofofworkSync:w,isPrefetchInitialLoad:r?"true":"false",powTime:x}}),{chatReq:u,turnstileToken:m,proofToken:y}}}}}async function xc({ctx:t,clientThreadId:e,requestedModelId:n,completionType:r=Ol.Next,sourceEvent:s,eventSource:a,completionMetadata:i,extraStreamParams:l,parentMessageId:c,promptMessage:u,existingMessages:d,prependMessages:f,appendMessages:m,profiler:p,skipNotification:h,isReasoningSkipped:v,parentMessageIdPromise:y,thinkingEffort:x}){var gt,Pe,Ie,ct,dt,ce,ke,Ze,lt,Ye,Xe,ht,ft;Vne(cr(t,e),!0);const b=lc(t),_=(gt=s==null?void 0:s.timeStamp)!=null?gt:performance.now(),w=a!=null?a:s?aLe(s):"mouse",S=mY(),k="request-".concat(e,"-").concat(S),M=st(e),{conduitToken:E=null,prepareState:T="none",lastPrepareTimestamp:j=null}=M!=null?M:{},A=(ct=(Ie=n!=null?n:M==null?void 0:M.modelId)!=null?Ie:(Pe=Nd(P6(b)))==null?void 0:Pe.id)!=null?ct:O5(gr(),!1),I=se.findNode(M,Qe=>Qe.message.author.role===Ue.Assistant||Qe.message.author.role===Ue.Tool)==null,L=(M==null?void 0:M.continuingFromSharedConversationId)!=null,O=(M==null?void 0:M.continuingFromSharedProjectConversationId)!=null,R=!!(M!=null&&M.continuingFromSharedPostId),H=(M==null?void 0:M.branchingFromConversationId)!=null,V=se.getConversationLastTurn(M),z=V==null?void 0:V.messages.some(Qe=>{var Qt;return(Qt=Qe.metadata)==null?void 0:Qt.mercury_message}),$=V==null?void 0:V.messages.some(Qe=>{var Qt;return(Qt=Qe.metadata)==null?void 0:Qt.n7jupd_message});let D=c?se.getNode(M,c):d!=null&&d[0]?se.getParentNode(M,d[0].id):se.getCurrentNode(M),Y=c;D.message.id.startsWith(yM)&&(D=se.getParentNode(M,D.message.id),Y=(dt=D.message.id)!=null?dt:D.id);let G=(ce=D.message.id)!=null?ce:D.id;Kn.getState().isTakeoverInProgress&&(Kn.setState({isTakeoverInProgress:!1}),Une(e),f=[...f!=null?f:[],Mj()]);const F=[...d!=null?d:[],...f!=null?f:[],...u?[u]:[],...m!=null?m:[]],X=$ne(t,e),te=new Dne({ctx:t,clientRequestId:k,gizmoType:X,preflightTime:_,isTemporaryChat:fY()});if(te.onUserMessages(F),X===Td.PROJECT&&I&&!Vo(t,"269676899",{disableExposureLog:!0}).get("clear_all",!1)){const Qe=i==null?void 0:i.systemHints;b3e(t).set(Jt=>P(C({},Jt),{[e]:Qe!=null?Qe:[]}))}const ae=j6(t),me=C3e(),W=Ft.getItem(et.ModelSlugStatsOverride),K=new Sne(t,k,b,M,e,Y,f,u,m,r,A,w,ae,_,X===Td.PROJECT,I,L,H,O,te,h!=null?h:!1,me,R,v,x,W,(ke=M==null?void 0:M.steeringAsyncTaskId)!=null?ke:void 0,{disablePlaceholder:!1},!Lee(t));_3e(e);const ne=(Ze=i==null?void 0:i.systemHints)==null?void 0:Ze.includes(Or),re=pr();if(re){const Qe=!((i==null?void 0:i.systemHints)===void 0||i.systemHints.length===0||i.systemHints.length===1&&i.systemHints.includes(we.Search)),Qt=((Xe=(Ye=(lt=u==null?void 0:u.metadata)==null?void 0:lt.attachments)==null?void 0:Ye.length)!=null?Xe:0)>0,Jt=u!=null&&u.metadata?u.metadata[w3e]:void 0,an=!!((ht=Jt==null?void 0:Jt.sources)!=null&&ht.length),yr=Qe||Qt||an;if(u){const Cn=Ka(u,{shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!0});Bne.getState().updateFromEvent(Cn,tLe(yr))}}ne&&ve.addAction("agent.conversation.start_attempted",{client_thread_id:String(e),model:A});let le;if(z||(le=BE(e,void 0,{clientInitiated:!0,reason:"new_completion",hasAgentSystemHint:ne})),Rl.publish({kind:"requestCompletion"}),ns(e,{source:Cr.CLIENT,value:ne?sn.REALTIME:sn.STREAMING}),Fne.onCompletionRequestStarted(k),K.updateBeforeRequest(),((ft=FE(t,e))==null?void 0:ft.value)===sn.REALTIME&&!!!($&&v)&&le){const Qe=await le;Qe!=null&&Qe.last_message_id&&(G=Qe.last_message_id)}if(y){const Qe=await y;Qe&&(G=Qe)}const ye=Ej(t,i),{chatReq:_e,turnstileToken:Ne,proofToken:Ae}=S3e(ye)?await ye:ye;if(_e.force_login)return;if(b.getQueriesData(EP())==null&&await b.ensureQueryData(EP()),u_e()){const Qe=await d_e(),Qt=an=>typeof an=="object"&&an!=null&&"id"in an,Jt=Qe.flatMap(an=>an.status!=="fulfilled"||!an.value?[]:Array.isArray(an.value)?an.value.filter(Qt):Qt(an.value)?[an.value]:[]);if(Jt.length>0){const an=[...Jt].reverse();F.unshift(...an),iLe({clientThreadId:e,request:K,messages:an})}}te.onCompletionStarted(r,A),K.preflightTime=performance.now()-_;const ot=_5(t);if(ve.addFeatureFlagEvaluation("fast_convo",ot),ot&&j!=null){const Qe=performance.now()-j;Qe<=6e4&&Me.hist(Ee.DEFAULT,"fast_conversation_last_prepare_to_convo_client",[{key:"model_id",value:A},{key:"prepare_state",value:String(T)},{key:"has_conduit_token",value:E!=null?"true":"false"}],Qe)}ot&&re&&Me.count(Ee.DEFAULT,"client_request_conduit_token",[{key:"has_conduit_token",value:E!=null?"true":"false"}]),re&&(p==null||p.logTimingOnce("prompt_request_started")),await K.sendRequest$({conduitToken:E,turnstileToken:Ne,proofToken:Ae,completionMetadata:i,resolvedParentMessageId:G,messages:F,extraStreamParams:l,chatReq:_e,profiler:p})}function iLe({clientThreadId:t,request:e,messages:n}){Fe(t,r=>{vn.updateTree(r,s=>{var i,l,c,u;const a=(u=(l=(i=e.prependMessages)==null?void 0:i[0])!=null?l:e.promptMessage)!=null?u:(c=e.appendMessages)==null?void 0:c[0];if(a&&s.containsNodeOrMessageId(a.id)){for(const d of n)s.containsNodeOrMessageId(d.id)||s.prependNode(a.id,d);return}})})}async function lLe({ctx:t,clientThreadId:e,completionType:n,token:r,conversationId:s,preflightTime:a}){var y,x,b;const i=cr(t,e);if(ic(()=>oLe(i)))return;Vne(i,!0);const l=a!=null?a:performance.now(),c=lc(t),u=$ne(t,e),d=st(e),f=(b=(x=d==null?void 0:d.modelId)!=null?x:(y=Nd(P6(c)))==null?void 0:y.id)!=null?b:O5(gr(),!1);ns(e,{source:Cr.CLIENT,value:sn.STREAMING});const m=mY(),p="request-".concat(e,"-").concat(m),h=new Dne({ctx:t,clientRequestId:p,gizmoType:u,preflightTime:l,isTemporaryChat:fY()});st(e)||da.initThread({clientThreadId:e,conversationMode:{kind:At.PrimaryAssistant},modelId:f,userId:void 0,accountId:void 0}),da.retainThread(e);const v=new Sne(t,p,c,void 0,e,void 0,void 0,void 0,void 0,n,f,"url",j6(t),l,u===Td.PROJECT,!1,!1,!1,!1,h,void 0,!1,void 0,void 0,void 0,void 0,void 0,{disablePlaceholder:!0});v.preflightTime=0,await v.sendResumeRequest$({conversationId:s,resumeToken:r,profiler:void 0})}function Bf(t){"use forget";const e=ee.c(3),n=q();let r;return e[0]!==t||e[1]!==n?(r=s=>xc(C({ctx:n,clientThreadId:t},s)),e[0]=t,e[1]=n,e[2]=r):r=e[2],r}const N9=pa(()=>nt(null));function cLe(){"use forget";var h;const t=ee.c(18),e=q(),{eligible:n,isLoading:r,markAsViewed:s}=$e(We.NewOnboardingFlow);let a;t[0]!==e?(a=()=>N9(e)===!0,t[0]=e,t[1]=a):a=t[1];const i=at(a),l=dLe();let c;t[2]!==e?(c=(h=yt(e))==null?void 0:h.isFree(),t[2]=e,t[3]=c):c=t[3];const u=c;let d,f;t[4]!==e||t[5]!==n||t[6]!==l||t[7]!==u||t[8]!==r?(d=()=>{n&&!r&&!l&&u&&N9.set(e,uLe)},f=[e,n,r,l,u],t[4]=e,t[5]=n,t[6]=l,t[7]=u,t[8]=r,t[9]=d,t[10]=f):(d=t[9],f=t[10]),g.useEffect(d,f);let m;t[11]!==e?(m=()=>N9.set(e,!1),t[11]=e,t[12]=m):m=t[12];let p;return t[13]!==r||t[14]!==i||t[15]!==s||t[16]!==m?(p={isOpen:i,isLoading:r,closeModal:m,markAsViewed:s},t[13]=r,t[14]=i,t[15]=s,t[16]=m,t[17]=p):p=t[17],p}function uLe(t){return t!=null?t:!0}function dLe(){"use forget";const t=ee.c(2),[e]=kr();let n;return t[0]!==e?(n=e.has("prompt"),t[0]=e,t[1]=n):n=t[1],n}const Yd=pe({hi:{id:"new_user_onboarding.hi",defaultMessage:"Hi"},hiThere:{id:"new_user_onboarding.hi_there",defaultMessage:"Hi there"},tryUploadingAFile:{defaultMessage:"Try uploading a file",id:"chatgpt.new-onboarding.try-uploading-a-file"},uploadFileExample:{defaultMessage:"ChatGPT can summarize and analyze your files or images.",id:"chatgpt.new-onboarding.upload-file-exp"},school:{defaultMessage:"School",id:"chatgpt.new-onboarding.school"},schoolPrompt:{defaultMessage:"Iâm trying to learn and do better in school.",id:"chatgpt.new-onboarding.school-prompt"},work:{defaultMessage:"Work",id:"chatgpt.new-onboarding.work"},workPrompt:{defaultMessage:"I'm here to learn and grow in my work.",id:"chatgpt.new-onboarding.work-prompt"},personalTasks:{defaultMessage:"Personal tasks",id:"chatgpt.new-onboarding.personal-tasks"},personalTasksPrompt:{defaultMessage:"I'm here for my personal tasks",id:"chatgpt.new-onboarding.personal-tasks-prompt"},funAndEntertainment:{defaultMessage:"Fun and entertainment",id:"chatgpt.new-onboarding.fun-and-entertainment"},funAndEntertainmentPrompt:{defaultMessage:"I'm here to explore fun ideas and relax.",id:"chatgpt.new-onboarding.fun-and-entertainment-prompt"},other:{defaultMessage:"Other",id:"chatgpt.new-onboarding.other"},justCurious:{defaultMessage:"Just curious",id:"chatgpt.new-onboarding.just-curious"},justCuriousPrompt:{defaultMessage:"I'm just curious, exploring what you can do.",id:"chatgpt.new-onboarding.just-curious-prompt"},tryAnExample:{defaultMessage:"Try an example below or send any message in the message box below.",id:"chatgpt.new-onboarding.try-an-example"}});function fLe(){"use forget";const t=ee.c(3),{eligible:e,isLoading:n,markAsViewed:r}=$e(We.NewOnboardingConvo),s=e&&!n;let a;return t[0]!==r||t[1]!==s?(a={isEligible:s,markAsViewed:r},t[0]=r,t[1]=s,t[2]=a):a=t[2],a}function MCt(t){"use forget";const e=ee.c(20),n=q();let r;e[0]!==n?(r=pY(n),e[0]=n,e[1]=r):r=e[1];const s=r,a=Su(mLe),{isEligible:i,markAsViewed:l}=fLe();let c;e[2]!==t?(c={clientThreadId:t},e[2]=t,e[3]=c):c=e[3];const u=jj(c);let d;e[4]!==n?(d=ze(n,"109457"),e[4]=n,e[5]=d):d=e[5];const f=d,m=Z(),p=$K(),h=Za();let v;e[6]!==p||e[7]!==h?(v=p||k3e(h)||M3e(h),e[6]=p,e[7]=h,e[8]=v):v=e[8];const y=v;let x,b;e[9]!==t||e[10]!==u||e[11]!==y||e[12]!==m||e[13]!==s||e[14]!==i||e[15]!==f||e[16]!==l||e[17]!==a?(x=()=>{i&&!a&&(m.locale===E3e||m.messages!==j3e)&&!s&&!y&&f.get("onboarding_style","")==="CONVO"&&(pn.setOnboardingConvoState({onboardingConvoClientThreadId:t}),l(),u({eventSource:"url",stepPrompt:m.formatMessage(Yd.hi),messageMetadata:{is_visually_hidden_from_conversation:!0},authorMetadata:{real_author:vM.Onboarding}}),Le.logEvent("chatgpt_convo_onboarding_started"))},b=[i,l,u,a,m,m.locale,m.messages,t,f,s,y],e[9]=t,e[10]=u,e[11]=y,e[12]=m,e[13]=s,e[14]=i,e[15]=f,e[16]=l,e[17]=a,e[18]=x,e[19]=b):(x=e[18],b=e[19]),g.useEffect(x,b)}function mLe(t){var e;return(e=t.onboardingConvoState)!=null?e:void 0}const jj=t=>{"use forget";const e=ee.c(2),{clientThreadId:n}=t,r=Bf(n);let s;return e[0]!==r?(s=a=>{var f;const d=a,{stepPrompt:i,messageMetadata:l,authorMetadata:c}=d,u=de(d,["stepPrompt","messageMetadata","authorMetadata"]);r(P(C({},u),{promptMessage:Fr(i,l!=null?l:void 0,c!=null?c:void 0),completionMetadata:{isOnboardingConversation:!0,conversationMode:{kind:At.PrimaryAssistant},systemHints:(f=l==null?void 0:l.onboarding)==null?void 0:f.system_hints},skipNotification:!0}))},e[0]=r,e[1]=s):s=e[1],s},ECt=t=>{"use forget";const e=ee.c(5),{clientThreadId:n}=t,r=Bf(n),{markAsViewed:s}=$e(We.Onboarding),{open:a}=zne();let i;return e[0]!==n||e[1]!==s||e[2]!==a||e[3]!==r?(i=l=>{const{suggestedPrompt:c,index:u,isOnboarding:d}=l;d&&(s(),a()),r({promptMessage:Fr(c.prompt,{is_starter_prompt:!0,suggestion_type:je.Starter,starter_prompt_id:c.id}),eventSource:"mouse",completionMetadata:{conversationMode:{kind:At.PrimaryAssistant}},skipNotification:!0}),L5(c,u,n)},e[0]=n,e[1]=s,e[2]=a,e[3]=r,e[4]=i):i=e[4],i};function qne(t){"use forget";var c;const e=ee.c(7),n=Te(t,pLe),{eligible:r,isLoading:s,markAsViewed:a}=$e(We.hasSeenFilePickerNuxTooltip);let i;e[0]!==r||e[1]!==s||e[2]!==(n==null?void 0:n.triggered_tools)?(i=((c=n==null?void 0:n.triggered_tools)==null?void 0:c.includes("file_upload"))&&r&&!s,e[0]=r,e[1]=s,e[2]=n==null?void 0:n.triggered_tools,e[3]=i):i=e[3];let l;return e[4]!==a||e[5]!==i?(l={isEligible:i,markAsViewed:a},e[4]=a,e[5]=i,e[6]=l):l=e[6],l}function pLe(t){var e,n;return(n=(e=se.findNode(t,gLe))==null?void 0:e.message.metadata)==null?void 0:n.onboarding}function gLe(t){return t.message.author.role===Ue.User}function jCt(t){return ze(t,"109457",{disableExposureLog:!0}).get("onboarding_show_followups",!1)}const A9=pa(()=>nt(null)),l2=pa(()=>nt({isOpen:null,isUserTriggered:!1}));function TCt(){"use forget";var _;const t=ee.c(23),e=q(),{eligible:n,isLoading:r,markAsViewed:s}=$e(We.NewPromptOnboardingFlow);let a;t[0]!==e?(a=()=>l2(e),t[0]=e,t[1]=a):a=t[1];const{isOpen:i,isUserTriggered:l}=at(a),c=q();let u;t[2]!==c?(u=ze(c,"109457",{disableExposureLog:!0}).get("prompt_onboarding_style","list"),t[2]=c,t[3]=u):u=t[3];const d=u;let f;t[4]!==e?(f=(_=yt(e))==null?void 0:_.isFree(),t[4]=e,t[5]=f):f=t[5];const m=f;let p,h;t[6]!==e||t[7]!==n||t[8]!==m||t[9]!==r?(p=()=>{n&&!r&&m&&l2.set(e,vLe)},h=[e,n,r,m],t[6]=e,t[7]=n,t[8]=m,t[9]=r,t[10]=p,t[11]=h):(p=t[10],h=t[11]),g.useEffect(p,h);const v=!!i;let y,x;t[12]!==e?(y=()=>l2.set(e,{isOpen:!0,isUserTriggered:!0}),x=()=>l2.set(e,hLe),t[12]=e,t[13]=y,t[14]=x):(y=t[13],x=t[14]);let b;return t[15]!==r||t[16]!==l||t[17]!==s||t[18]!==d||t[19]!==v||t[20]!==y||t[21]!==x?(b={isOpen:v,isUserTriggered:l,isLoading:r,onboardingStyle:d,reopenModal:y,closeModal:x,markAsViewed:s},t[15]=r,t[16]=l,t[17]=s,t[18]=d,t[19]=v,t[20]=y,t[21]=x,t[22]=b):b=t[22],b}function hLe(t){return P(C({},t),{isOpen:!1})}function vLe(t){var e;return P(C({},t),{isOpen:(e=t.isOpen)!=null?e:!0})}function NCt(){"use forget";var h;const t=ee.c(17),e=q(),{eligible:n,isLoading:r,markAsViewed:s}=$e(We.NewStaticOnboardingFlow);let a;t[0]!==e?(a=()=>A9(e)===!0,t[0]=e,t[1]=a):a=t[1];const i=at(a);let l;t[2]!==e?(l=(h=yt(e))==null?void 0:h.isFree(),t[2]=e,t[3]=l):l=t[3];const c=l;let u,d;t[4]!==e||t[5]!==n||t[6]!==c||t[7]!==r?(u=()=>{n&&!r&&c&&A9.set(e,yLe)},d=[e,n,r,c],t[4]=e,t[5]=n,t[6]=c,t[7]=r,t[8]=u,t[9]=d):(u=t[8],d=t[9]),g.useEffect(u,d);const f=!!i;let m;t[10]!==e?(m=()=>A9.set(e,!1),t[10]=e,t[11]=m):m=t[11];let p;return t[12]!==r||t[13]!==s||t[14]!==f||t[15]!==m?(p={isOpen:f,isLoading:r,closeModal:m,markAsViewed:s},t[12]=r,t[13]=s,t[14]=f,t[15]=m,t[16]=p):p=t[16],p}function yLe(t){return t!=null?t:!0}const c2=pa(()=>nt({isOpen:!1,viewedInClientThreadId:null}));function zne(){"use forget";const t=ee.c(12),e=q();let n;t[0]!==e?(n=()=>c2(e),t[0]=e,t[1]=n):n=t[1];const{isOpen:r,viewedInClientThreadId:s}=at(n);let a,i,l;t[2]!==e?(a=()=>c2.set(e,bLe),i=()=>c2.set(e,xLe),l=u=>c2.set(e,d=>P(C({},d),{viewedInClientThreadId:u})),t[2]=e,t[3]=a,t[4]=i,t[5]=l):(a=t[3],i=t[4],l=t[5]);let c;return t[6]!==r||t[7]!==a||t[8]!==i||t[9]!==l||t[10]!==s?(c={isOpen:r,viewedInClientThreadId:s,close:a,open:i,markViewedInClientThreadId:l},t[6]=r,t[7]=a,t[8]=i,t[9]=l,t[10]=s,t[11]=c):c=t[11],c}function xLe(t){return P(C({},t),{isOpen:!0})}function bLe(t){return P(C({},t),{isOpen:!1})}function ACt(){"use forget";const t=ee.c(7),e=q(),n=ze(e,"109457",{disableExposureLog:!0}),r=Wt();let s;t[0]!==e?(s=Et(e),t[0]=e,t[1]=s):s=t[1];const a=s,[i,l]=$o(et.HasDismissedOnboardingSidebarEntry,!1,o5),c=typeof(r==null?void 0:r.created)=="number"?r.created>1e12?r.created:r.created*1e3:void 0,u=typeof window<"u"&&window.innerHeight>=667,d=!!(a&&c!=null&&Date.now()-c<=6048e5&&u),f=n.get("onboarding_sidebar_entry_style","");let m;return t[2]!==i||t[3]!==d||t[4]!==l||t[5]!==f?(m={style:f,hasDismissed:i,setHasDismissed:l,isEligible:d},t[2]=i,t[3]=d,t[4]=l,t[5]=f,t[6]=m):m=t[6],m}function PCt(t,e=!1){return ze(t,"109457",{disableExposureLog:!e})}const Gne=pa(()=>gY(()=>({width:window.innerWidth,height:window.innerHeight}),t=>CM(window,{resize:t}),{getServerFallback:()=>({width:T3e()?360:768,height:640})}));function ICt({onClose:t}){const e=q(),n=Z(),{eligible:r,markAsViewed:s}=hJ(),[a,i]=g.useState(!0),[l,c]=g.useState(0),u=_M(),d=at(()=>Math.min(390,Math.round(Gne(e).height*.4))),f=d<260,m=g.useRef(null);g.useEffect(()=>{var w;(w=m.current)==null||w.focus()},[]);const p="https://persistent.oaistatic.com/chatgpt/codex-web-view-diff.png",h="https://persistent.oaistatic.com/chatgpt/codex-supported-platform-apple-icons.png",v="https://persistent.oaistatic.com/chatgpt/codex-code-review.png",y=g.useMemo(()=>[{id:"welcome",image:p,title:n.formatMessage({id:"wham.codexOnboardingModal.title.welcome",defaultMessage:"Your software engineering agent"}),body:n.formatMessage({id:"wham.codexOnboardingModal.body.welcome",defaultMessage:"Codex understands your codebase, answers questions, and writes tested code you can ship."})},{id:"everywhere",image:h,title:n.formatMessage({id:"wham.codexOnboardingModal.title.everywhere",defaultMessage:"Everywhere you work"}),body:n.formatMessage({id:"wham.codexOnboardingModal.body.everywhere",defaultMessage:"Codex is built into your IDE, CLI, GitHub, and the web. Work side-by-side locally, or let it keep going in the cloud when you step away."})},{id:"code-review",image:v,title:n.formatMessage({id:"wham.codexOnboardingModal.title.code-review",defaultMessage:"Deep code review"}),body:n.formatMessage({id:"wham.codexOnboardingModal.body.code-review",defaultMessage:"Codex reviews pull requests using the entire codebase, running code when needed to suggest improvements."})}],[n]);if(!r||!a)return null;const x=()=>{s(),i(!1),t==null||t()},b=()=>{c(w=>w>0?w-1:w)},_=()=>{l<y.length-1?c(w=>w+1):(s(),i(!1),t==null||t())};return o.jsx(tt,{isOpen:!0,onClose:()=>{i(!1),t==null||t()},testId:"modal-codex-onboarding",position:"center",size:"custom",className:"max-h-[90vh] w-[640px] max-w-[640px]",noPadding:!0,showOverlayBackground:!0,shouldIgnoreClickOutside:!0,children:o.jsxs("div",{className:"relative flex h-full flex-col",children:[!f&&o.jsxs("div",{className:"relative w-full select-none",style:{height:d},children:[o.jsx(Kt,{children:o.jsx(Se.img,{src:y[l].image,alt:n.formatMessage({id:"wham.codexOnboardingModal.illustration",defaultMessage:"Codex onboarding illustration"}),className:"absolute inset-0 h-full w-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:u?1e-5:.25,ease:"easeInOut"}},y[l].image)}),o.jsx("div",{"aria-hidden":!0,className:U("pointer-events-none absolute inset-0 z-10","dark:bg-none","bg-[radial-gradient(ellipse_140%_90%_at_50%_130%,var(--bg-primary)_0%,var(--bg-primary)_50%,transparent_90%)]")}),o.jsx("div",{className:"absolute start-3 top-3 z-20",children:o.jsx(gn,{onClick:x,className:"bg-transparent! text-black/20 transition-transform duration-100 hover:text-black/60 focus-visible:bg-transparent!",bg:"transparent"})})]}),f&&o.jsx("div",{className:"absolute start-3 top-3 z-20",children:o.jsx(gn,{onClick:x,className:"bg-transparent! text-black/20 transition-transform duration-100 hover:text-black/60 focus-visible:bg-transparent!",bg:"transparent"})}),o.jsx("div",{className:"relative min-h-[220px] flex-1 select-none",children:o.jsxs("div",{className:U("mx-auto flex h-full max-w-[400px] flex-col items-center justify-center gap-2",f?null:"-translate-y-6 dark:-translate-y-0"),children:[o.jsx("div",{className:"max-w-[260px] text-center text-2xl font-semibold",children:y[l].title}),o.jsx("div",{className:"text-token-text-secondary text-md w-full text-center leading-6",children:y[l].body})]})}),o.jsxs("div",{className:"relative flex items-center px-6 py-5 pt-2",children:[l>0?o.jsx("div",{children:o.jsx(oe,{color:"secondary",onClick:b,children:o.jsx(N,{id:"wham.codexOnboardingModal.back",defaultMessage:"Back"})})}):o.jsx("div",{}),o.jsx("div",{className:"absolute start-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:o.jsx("div",{className:"flex items-center gap-1.5",children:y.map((w,S)=>o.jsx("button",{type:"button",onClick:()=>c(S),"aria-label":n.formatMessage({id:"wham.codexOnboardingModal.goToStep",defaultMessage:"Go to step {step}"},{step:S+1}),"aria-current":S===l?"page":void 0,className:U("h-1.5 w-1.5 cursor-pointer rounded-full",S===l?"bg-token-text-primary":"bg-token-text-primary opacity-20")},w.id))})}),o.jsx("div",{className:"ms-auto",children:o.jsx(oe,{color:"primary",onClick:_,ref:m,children:l<y.length-1?o.jsx(N,{id:"wham.codexOnboardingModal.continue",defaultMessage:"Continue"}):o.jsx(N,{id:"wham.codexOnboardingModal.done",defaultMessage:"Done"})})})]})]})})}function LCt(){const{eligible:t,isLoading:e}=hJ();return e?"loading":t?"show":"hide"}var mg=(t=>(t.unsupported_app_version="unsupported_app_version",t))(mg||{});const CLe=()=>{const t=q(),e=ie(t,"2335877601");return Xi?e?{isLoading:!1,isOpen:!0,modalType:"unsupported_app_version",onClose:()=>{}}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}:{isLoading:!1,isOpen:!1,modalType:null,onClose:null}},RCt="chatgpt",OCt="chatgpt-alt",DCt="oauth_complete",_Le="ms-windows-store://pdp/?productid=9nt1r1c2hh7j",wLe="https://apps.microsoft.com/detail/9nt1r1c2hh7j",FCt=()=>{const t="center",{isOpen:e,modalType:n}=CLe(),r=t4e(),s=wM();if(g.useEffect(()=>{e&&B.logEvent("Sidetron: Blocking Modal Shown",{modalType:n})},[e,n]),!e)return null;function a(){switch(B.logEvent("Sidetron: Modal Action Clicked",{modalType:n}),n){case mg.unsupported_app_version:window.open(s?_Le:wLe,"_blank");return;case null:$n.warn("No modal type provided for DesktopBlockingModal");return}}function i(){switch(n){case mg.unsupported_app_version:return kLe;case null:return SLe}}function l(){switch(n){case mg.unsupported_app_version:return!1;case null:return!1}}return o.jsx(tt,{testId:"modal-desktop-blocking",isOpen:!0,onClose:_n,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,position:t,children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[o.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:o.jsx(N,C({},i().title))}),o.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:o.jsx(N,C({},i().subtitle))}),o.jsx(oe,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"desktop-blocking-modal-action-button",onClick:a,children:o.jsx(N,C({},i().cta))}),l()&&o.jsxs("span",{children:[r," Â· ",o.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:c=>{c.preventDefault(),B.logEvent("Sidetron: Modal Logout Clicked",{modalType:n}),hY()},"data-testid":"desktop-blocking-modal-logout",children:o.jsx(N,C({},i().logout))})]})]})})},SLe=pe({title:{id:"DesktopBlockingModal.paidTitle",defaultMessage:"Upgrade to use Windows app"},subtitle:{id:"DesktopBlockingModal.paidSubtitle",defaultMessage:"The Windows app is currently available for Plus, Business, Enterprise, and Edu plans."},cta:{id:"DesktopBlockingModal.paidUpgradeCta",defaultMessage:"See Plans"},logout:{id:"DesktopBlockingModal.paidLogout",defaultMessage:"Log out"}}),kLe=pe({title:{id:"DesktopBlockingModal.sunsettingTitle",defaultMessage:"Update required"},subtitle:{id:"DesktopBlockingModal.sunsettingSubtitle",defaultMessage:"A new version of ChatGPT Windows is available and must be installed to continue."},cta:{id:"DesktopBlockingModal.sunsettingCta",defaultMessage:"Get Download"},logout:{id:"DesktopBlockingModal.sunsettingLogout",defaultMessage:"Log out"}}),MLe=({className:t})=>o.jsxs("div",{className:U("flex-column flex gap-[10px]",t),children:[o.jsx("div",{className:"relative flex h-[62px] w-[88px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-linear-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:o.jsx("span",{className:"text-token-text-secondary absolute end-[12px] bottom-[8px] text-[12px] leading-[15px] font-semibold tracking-[-0.197499px]",children:o.jsx(N,C({},mR.alt))})}),o.jsx("div",{className:"relative flex h-[62px] w-[232px] items-center justify-center rounded-2xl border border-[rgba(0,0,0,0.18)] bg-[#F1F1F1] bg-linear-to-b from-white/0 to-white/20 shadow-[0_1px_1px_rgba(0,0,0,0.03),_0_4.93747px_9.05202px_rgba(0,0,0,0.11)] dark:bg-black dark:to-white/15",children:o.jsx("span",{className:"text-token-text-secondary absolute end-[12px] bottom-[8px] text-[12px] leading-[15px] font-semibold tracking-[-0.197499px]",children:o.jsx(N,C({},mR.space))})})]}),mR=pe({alt:{id:"DesktopOnboardingKeyboardIllustration.altKeyboardKeyLabel",defaultMessage:"alt"},space:{id:"DesktopOnboardingKeyboardIllustration.spaceKeyboardKeyLabel",defaultMessage:"space"}}),ELe=We.hasSeenWindowsAppOnboarding,jLe=()=>{const t=q(),{eligible:e,markAsViewed:n,isLoading:r}=$e(ELe);return!Xi||pY(t)?{isLoading:!1,isOpen:!1,onClose:null}:r?{isLoading:!0,isOpen:null,onClose:null}:{isLoading:!1,isOpen:e,onClose:n}},BCt=({onClose:t})=>{const{isOpen:e,onClose:n}=jLe();return e?(Le.logEvent("chatgpt_sidetron_onboarding_nux_shown"),o.jsx(tt,{testId:"modal-desktop-onboarding",isOpen:!0,onClose:_n,type:"success",noPadding:!0,position:"center",className:"max-w-[552px] p-14 sm:max-w-[552px]",children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8",children:[o.jsx(gn,{className:"absolute end-4 top-4",onClick:()=>{t(),n()}}),o.jsx("p",{className:"mb-3 text-center text-2xl font-bold",children:o.jsx(N,C({},u2.title))}),o.jsx("p",{className:"text-token-text-tertiary text-center text-lg",children:o.jsx(N,C({},u2.subtitle))}),o.jsx(MLe,{className:"my-8"}),o.jsx("p",{className:"mb-2 text-center text-lg font-semibold",children:o.jsx(N,C({},u2.keyboardShortcut))}),o.jsx("p",{className:"text-token-text-tertiary text-center text-lg",children:o.jsx(N,C({},u2.keyboardShortcutHint))})]})})):null},u2=pe({title:{id:"DesktopOnboardingModal.title",defaultMessage:"Quickly access ChatGPT"},subtitle:{id:"DesktopOnboardingModal.subtitle",defaultMessage:"Use a shortcut to ask questions, upload files, or take screenshots from anywhere on your computer."},keyboardShortcut:{id:"DesktopOnboardingModal.keyboardShortcut1",defaultMessage:"Press Alt+Space to open the companion window"},keyboardShortcutHint:{id:"DesktopOnboardingModal.keyboardShortcutHint",defaultMessage:"You can change this shortcut in Settings."}}),Z0="default",pu=new Map,D5=new Set([Z0]),TLe="sidebar",NLe="composer";let xS=0,bS=0,hh=0,fp=null;typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")&&(fp=new PerformanceObserver(t=>{t.getEntries().forEach(e=>{if(e.entryType==="longtask"&&(xS+=e.duration),e.entryType==="layout-shift"){if(e.hadRecentInput)return;bS+=1,performance.timeOrigin&&(hh=Math.max(performance.timeOrigin+e.startTime,hh))}})}),fp.observe({entryTypes:["longtask","layout-shift"]}));const ALe=(t,e=Z0)=>{if(Qd)return;pu.has(e)||pu.set(e,new Map);const n=pu.get(e);n.has(t)||(F5(),n.set(t,{start:Date.now()}))},PLe=(t,e=Z0)=>{var r;if(Qd)return;const n=(r=pu.get(e))==null?void 0:r.get(t);if(n&&n.end===void 0){n.end=Date.now();const s=D5.has(e)?"visible":"hidden";ve.addTiming("render.".concat(t,".").concat(s),n.end),F5()}},ILe=(t,e=Z0)=>{if(Qd)return;const n=pu.get(e);!n||!n.get(t)||(n.delete(t),F5())};let Qd=!1;const pR=()=>{if(!Qd){Qd=!0;for(const[t,e]of pu.entries()){const n=D5.has(t)?"visible":"hidden";for(const[r,s]of e.entries())s.end||ve.addFirstTiming("render.".concat(r,".").concat(n,".timeout"))}}},LLe=3e4;let P9;const F5=()=>{P9&&clearTimeout(P9),P9=setTimeout(RLe,1e3)},RLe=()=>{if(Qd)return;let t=0,e;for(const[s,a]of pu.entries())if(D5.has(s)){if(![...a.values()].every(i=>i.end)){if(performance.now()<LLe){F5();return}ve.addFirstTiming("render.StablePage.timeout"),pR();return}for(const[i,l]of a.entries())l.end!==void 0&&l.end>t&&(t=l.end,e=i)}ve.addFirstTiming("render.StablePage.complete",t);const n=t-performance.timeOrigin,r=N3e(n);Le.logEvent("chatgpt_web_stable_page_complete_time",void 0,{raw_duration_ms:String(n),trimmed_duration_ms:String(r)}),e!==void 0&&ve.addAction("render.stablePage.lastComponent",{componentName:e}),xS>0&&ve.addFirstDurationVital("render.StablePage.longTaskDuration",Date.now(),xS),bS>0&&ve.addFirstDurationVital("render.StablePage.layoutShifts",Date.now(),bS),hh>0&&ve.addFirstTiming("render.StablePage.lastLayoutShift",hh),fp==null||fp.disconnect(),pR(),window.dispatchEvent(new Event("allComponentsRendered"))},OLe=t=>{D5.add(t)},ia={markStart:ALe,markRendered:PLe,cancelRender:ILe,trackNamespace:OLe,NS_DEFAULT:Z0,NS_COMPOSER:NLe,NS_SIDEBAR:TLe};function UCt(t=30){const{session:e}=x0();return g.useMemo(()=>{const n=e==null?void 0:e.accessToken;if(!n)return!1;let r;try{const c=xJ(n);r=c==null?void 0:c.pwd_auth_time}catch(c){return!1}if(r==null)return!1;const s=r<1e12?r*1e3:r,i=Date.now()-s;return i>=0&&i<=t*1e3},[e==null?void 0:e.accessToken,t])}function HCt(){const{data:t}=Ds(),e=q(),n=t==null?void 0:t.accountItems.find(l=>l.ssoConnectionName),r=t==null?void 0:t.accountItems.find(l=>!l.ssoConnectionName),s=!!n,a=!s&&!!r,i=()=>{const l=n!=null&&n.ssoConnectionName&&s?{connection:n.ssoConnectionName}:void 0;dn(e,{fallbackScreenHint:"login",additionalAuthParams:l})};return o.jsx(tt,{testId:"modal-invalid-accounts",isOpen:!0,onClose:_n,type:"warning",size:"custom",className:"max-w-3xl",title:o.jsx("div",{className:"flex flex-col",children:o.jsx("div",{className:"text-lg",children:o.jsx(N,C({},Fc.title))})}),icon:Ua,primaryButton:o.jsx(yn.Button,{onClick:()=>{B.logLogOutButtonClicked({location:"invalid_account_modal"}),hY()},color:"primary",children:o.jsx(N,C({},Fc.logOut))}),secondaryButton:s||a?o.jsx(yn.Button,{onClick:i,color:"primary",children:o.jsx(N,C({},s?Fc.ssoButton:Fc.noSSOButton))}):null,children:o.jsx("div",{className:"flex flex-col space-y-4",children:o.jsxs("div",{children:[o.jsx("p",{children:o.jsx(N,C({},Fc.description))}),o.jsx("br",{}),s&&o.jsx("p",{children:o.jsx(N,C({},Fc.ssoSuggestion))}),a&&o.jsx("p",{children:o.jsx(N,C({},Fc.noSSOSuggestion))})]})})})}const Fc=pe({title:{id:"sMC0Cy",defaultMessage:"No Accessible Workspaces"},description:{id:"ADpJJ4",defaultMessage:"It looks like you're currently unable to access any of your accounts. Try waiting a minute and logging in again."},logOut:{id:"KlMYRb",defaultMessage:"Log out"},ssoSuggestion:{id:"KCNTGv",defaultMessage:"Logging in with SSO may fix these issues."},noSSOSuggestion:{id:"mp/4+s",defaultMessage:"Logging in without SSO may fix these issues."},ssoButton:{id:"Nsa12I",defaultMessage:"Log in with SSO"},noSSOButton:{id:"60pUg9",defaultMessage:"Log in"}}),DLe=We.hasSeenWorkspaceDiscoveryFirstLogin,FLe=()=>{const{eligible:t,markAsViewed:e,markAsViewedDontInvalidateCache:n,isLoading:r}=$e(DLe);return{setHasSeenWorkspaceDiscoveryFirstLogin:e,setHasSeenWorkspaceDiscoveryFirstLoginDontInvalidateCache:n,hasSeenWorkspaceDiscoveryFirstLoginDate:r?null:!t}};var BLe="Toggle",Wne=g.forwardRef((t,e)=>{const c=t,{pressed:n,defaultPressed:r=!1,onPressedChange:s}=c,a=de(c,["pressed","defaultPressed","onPressedChange"]),[i=!1,l]=Hi({prop:n,onChange:s,defaultProp:r});return o.jsx(mn.button,P(C({type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0},a),{ref:e,onClick:Nt(t.onClick,()=>{t.disabled||l(!i)})}))});Wne.displayName=BLe;var Uf="ToggleGroup",[Zne,VCt]=A3e(Uf,[I6]),Kne=I6(),Tj=be.forwardRef((t,e)=>{const s=t,{type:n}=s,r=de(s,["type"]);if(n==="single"){const a=r;return o.jsx(ULe,P(C({},a),{ref:e}))}if(n==="multiple"){const a=r;return o.jsx(HLe,P(C({},a),{ref:e}))}throw new Error("Missing prop `type` expected on `".concat(Uf,"`"))});Tj.displayName=Uf;var[Yne,Qne]=Zne(Uf),ULe=be.forwardRef((t,e)=>{const c=t,{value:n,defaultValue:r,onValueChange:s=()=>{}}=c,a=de(c,["value","defaultValue","onValueChange"]),[i,l]=Hi({prop:n,defaultProp:r,onChange:s});return o.jsx(Yne,{scope:t.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:l,onItemDeactivate:be.useCallback(()=>l(""),[l]),children:o.jsx(Jne,P(C({},a),{ref:e}))})}),HLe=be.forwardRef((t,e)=>{const d=t,{value:n,defaultValue:r,onValueChange:s=()=>{}}=d,a=de(d,["value","defaultValue","onValueChange"]),[i=[],l]=Hi({prop:n,defaultProp:r,onChange:s}),c=be.useCallback(f=>l((m=[])=>[...m,f]),[l]),u=be.useCallback(f=>l((m=[])=>m.filter(p=>p!==f)),[l]);return o.jsx(Yne,{scope:t.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:o.jsx(Jne,P(C({},a),{ref:e}))})});Tj.displayName=Uf;var[VLe,$Le]=Zne(Uf),Jne=be.forwardRef((t,e)=>{const m=t,{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:s=!0,orientation:a,dir:i,loop:l=!0}=m,c=de(m,["__scopeToggleGroup","disabled","rovingFocus","orientation","dir","loop"]),u=Kne(n),d=_6(i),f=C({role:"group",dir:d},c);return o.jsx(VLe,{scope:n,rovingFocus:s,disabled:r,children:s?o.jsx(yY,P(C({asChild:!0},u),{orientation:a,dir:d,loop:l,children:o.jsx(mn.div,P(C({},f),{ref:e}))})):o.jsx(mn.div,P(C({},f),{ref:e}))})}),vh="ToggleGroupItem",Xne=be.forwardRef((t,e)=>{const n=Qne(vh,t.__scopeToggleGroup),r=$Le(vh,t.__scopeToggleGroup),s=Kne(t.__scopeToggleGroup),a=n.value.includes(t.value),i=r.disabled||t.disabled,l=P(C({},t),{pressed:a,disabled:i}),c=be.useRef(null);return r.rovingFocus?o.jsx(vY,P(C({asChild:!0},s),{focusable:!i,active:a,ref:c,children:o.jsx(gR,P(C({},l),{ref:e}))})):o.jsx(gR,P(C({},l),{ref:e}))});Xne.displayName=vh;var gR=be.forwardRef((t,e)=>{const c=t,{__scopeToggleGroup:n,value:r}=c,s=de(c,["__scopeToggleGroup","value"]),a=Qne(vh,n),i={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l=a.type==="single"?i:void 0;return o.jsx(Wne,P(C(C({},l),s),{ref:e,onPressedChange:u=>{u?a.onItemActivate(r):a.onItemDeactivate(r)}}))}),qLe=Tj,zLe=Xne;function GLe({workspace:t}){const e=pt(),n=Wt(),r=q(),s=Z(),a=Tt(),[i,l]=g.useState(!1),c=g.useCallback(()=>{l(!0);const{willRedirect:d}=SM(e,t.id,r,s,a);L6.disableTemporaryChat(),d||kM()},[e,t.id,r,s,a]),u=X5e(t);return t.structure===Ad.PERSONAL&&!n?null:o.jsx(MM,{as:zLe,hasManagedFocus:!0,value:t.id,role:"radio",onPointerMove:d=>d.currentTarget.focus(),onClick:c,size:"large",icon:t.structure===Ad.PERSONAL?o.jsx(Hd,{user:n}):o.jsx(Vd,{src:t.data.profilePictureUrl}),label:u,trailing:i?o.jsx(On,{}):o.jsxs(o.Fragment,{children:[o.jsx(S6,{className:"icon-sm group-data-[state=off]:hidden"}),o.jsx(ji,{className:"icon-sm group-data-[state=on]:hidden"})]}),disabled:!t.canAccessWithCurrentSession})}function WLe({data:t}){const e=q(),n=yt(e);return o.jsx(qLe,{type:"single",className:"static flex w-full flex-col rounded-2xl border py-1.5",value:n==null?void 0:n.id,children:t.map(r=>o.jsx(GLe,{workspace:r},r.id))})}function $Ct(){var s;const{data:t}=yJ(),e=Wt(),n=(s=e==null?void 0:e.email)!=null?s:"";if(!t||t.length===0)return null;ia.markStart("WorkspaceSwitcherModal"),ia.markRendered("WorkspaceSwitcherModal");const r=t.filter(a=>a.structure===Ad.WORKSPACE);return o.jsx(tt,{testId:"modal-workspace-switcher",isOpen:!0,onClose:_n,type:"success",size:"normal",title:o.jsxs("div",{className:"flex flex-col",children:[o.jsx(N,C({},hR.workspaceSwitcherTitle)),o.jsx("span",{className:"text-token-text-secondary mt-0.5 text-sm",children:n})]}),children:o.jsxs("div",{className:"flex w-full flex-col items-center justify-between",children:[o.jsx(WLe,{data:t}),o.jsx("span",{className:"text-token-text-secondary mt-4 text-sm",children:o.jsx(N,P(C({},hR.workspaceSwitcherDisclaimer),{values:{workspaces:o.jsx("span",{className:"contents font-bold",children:o.jsx(y0e,{value:r.map(a=>a.data.name)})}),numWorkspaces:r.length}}))})]})})}const hR=pe({workspaceSwitcherTitle:{id:"workspaceSwitcher.title",defaultMessage:"Select a workspace"},workspaceSwitcherDisclaimer:{id:"workspaceSwitcher.disclaimer",defaultMessage:"You've been added to the {workspaces} {numWorkspaces, plural, one {workspace} other {workspaces}}. You can switch between workspaces at any time."}}),Tn=pe({joinAndLaunchTitle:{id:"workspaceSwitcherFullscreen.joinAndLaunchTitle",defaultMessage:"Join and launch your workspaces"},launchWorkspaceTitle:{id:"workspaceSwitcherFullscreen.launchWorkspaceTitle",defaultMessage:"Launch a workspace"},joinWorkspacesTitle:{id:"workspaceSwitcherFullscreen.joinWorkspacesTitle",defaultMessage:"Join workspaces"},collaborationSubtitle:{id:"workspaceSwitcherFullscreen.collaborationSubtitle",defaultMessage:"Securely collaborate with coworkers using{lineBreak}tools like projects and custom GPTs"},title:{id:"workspaceSwitcherFullscreen.title",defaultMessage:"Select a workspace"},noTopSectionTitle:{id:"workspaceSwitcherFullscreen.noTopSectionTitle",defaultMessage:"Join your teamâs workspace"},close:{id:"workspaceSwitcherFullscreen.close",defaultMessage:"Close"},emailCanJoinWorkspaces:{id:"workspaceSwitcherFullscreen.emailCanJoinWorkspaces",defaultMessage:"{email} can join {count, plural, one {# workspace} other {# workspaces}}."},accessAndRequestLine:{id:"workspaceSwitcherFullscreen.accessAndRequestLine",defaultMessage:"{email} has access to {accessCount, plural, one {# workspace} other {# workspaces}} and can join {requestCount, plural, one {# workspace} other {# workspaces}}."},memberCount:{id:"workspaceSwitcherFullscreen.memberCount",defaultMessage:"{count, plural, one {# member} other {# members}}"},accessOnlyLine:{id:"workspaceSwitcherFullscreen.accessOnlyLine",defaultMessage:"{email} has access to {accessCount, plural, one {# workspace} other {# workspaces}}."},request:{id:"workspaceSwitcherFullscreen.request",defaultMessage:"Request"},requested:{id:"workspaceSwitcherFullscreen.requested",defaultMessage:"Requested"},open:{id:"workspaceSwitcherFullscreen.open",defaultMessage:"Open"},personalWorkspace:{id:"workspaceSwitcherFullscreen.personalWorkspace",defaultMessage:"Personal workspace"},createNewWorkspacePrefix:{id:"workspaceSwitcherFullscreen.createNewWorkspacePrefix",defaultMessage:"Want something new?"},createNewWorkspaceLink:{id:"workspaceSwitcherFullscreen.createNewWorkspaceLink",defaultMessage:"Create a new workspace"},hiddenWorkspacesFooter:{id:"workspaceSwitcherFullscreen.hiddenWorkspacesFooter",defaultMessage:"Some workspaces are hidden, contact your admin for more info."},noWorkspacesToJoin:{id:"workspaceSwitcherFullscreen.noWorkspacesToJoin",defaultMessage:"No workspaces to join"},done:{id:"workspaceSwitcherFullscreen.done",defaultMessage:"Done"},requestAccessError:{id:"workspaceSwitcherFullscreen.requestAccessError",defaultMessage:"Something went wrong requesting access. Please try again."}});function ere({children:t}){return o.jsx("div",{className:"border-token-main-surface-tertiary text-token-text-secondary mb-2 flex max-w-[500px] flex-col gap-4 rounded-2xl border border-solid p-[22px] pt-[18px] shadow-sm",children:t})}function jo({className:t}){return o.jsx("div",{className:U("loading-results-shimmer rounded-md",t),children:"Â "})}function I9({className:t}){return o.jsxs("div",{className:U("flex w-full flex-col gap-1",t),children:[o.jsx(jo,{className:"h-[26px] w-[105px]"}),o.jsx(jo,{className:"h-[42px] w-full"})]})}function ZLe(){return o.jsxs(ere,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[o.jsx(I9,{className:"col-span-1"}),o.jsx(I9,{className:"col-span-1"}),o.jsx(I9,{className:"col-span-1 sm:col-span-2"})]}),o.jsxs("div",{className:"flex w-full justify-between",children:[o.jsx(oe,{disabled:!0,color:"secondary",className:"text-token-text-secondary",children:o.jsx(N,{id:"Sen69P",defaultMessage:"Add a detail"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(oe,{disabled:!0,color:"secondary",className:"text-token-text-secondary",children:o.jsx(N,{id:"Uqo7UD",defaultMessage:"Reset"})}),o.jsx(oe,{disabled:!0,children:o.jsx(N,{id:"FVou++",defaultMessage:"Start"})})]})]})]})}function KLe({existingCount:t,discoverableCount:e,accountEmail:n,showCollaborationSubtitle:r}){const s=t>0,a=e>0,i=g.useMemo(()=>s&&a?Tn.joinAndLaunchTitle:s?Tn.launchWorkspaceTitle:a?Tn.joinWorkspacesTitle:Tn.noTopSectionTitle,[s,a]),l=s||a,c=r?"mt-2":"mt-3";return o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:o.jsx(N,C({},i))}),r&&o.jsx("p",{className:"text-token-text-secondary mt-3 text-base leading-6",children:o.jsx(N,P(C({},Tn.collaborationSubtitle),{values:{lineBreak:o.jsx("br",{})}}))}),l&&o.jsx("div",{className:"text-token-text-secondary ".concat(c," text-sm"),children:s?a?o.jsx(N,P(C({},Tn.accessAndRequestLine),{values:{email:n,accessCount:t,requestCount:e}})):o.jsx(N,P(C({},Tn.accessOnlyLine),{values:{email:n,accessCount:t}})):o.jsx(N,P(C({},Tn.emailCanJoinWorkspaces),{values:{email:n,count:e}}))})]})}function YLe({showCollaborationSubtitle:t}){return o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:o.jsx(N,C({},Tn.noTopSectionTitle))}),t&&o.jsx("p",{className:"text-token-text-secondary mt-3 text-base leading-6",children:o.jsx(N,P(C({},Tn.collaborationSubtitle),{values:{lineBreak:o.jsx("br",{})}}))}),o.jsx("div",{className:"text-token-text-secondary ".concat(t?"mt-2":"mt-3"," text-sm"),children:o.jsx(jo,{className:"mx-auto h-4 w-64"})})]})}function QLe({workspace:t,isLoading:e,onRequestAccess:n,onHoverRequest:r}){var l,c;const s=Z(),a=g.useRef(!1),i=()=>{a.current||(a.current=!0,r(t))};return o.jsxs("div",{className:"flex w-full cursor-default items-center gap-3 border-t p-5 first:border-t-0",role:"listitem","data-testid":"discoverable-workspace-row","data-row-type":"discoverable","data-workspace-id":t.id,children:[o.jsx(Vd,{src:(l=t.profile_picture_url)!=null?l:void 0,size:"large"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-token-text-primary truncate font-medium",title:(c=t.name)!=null?c:void 0,children:t.name}),o.jsx("div",{className:"text-token-text-secondary truncate text-sm",children:o.jsx(N,P(C({},Tn.memberCount),{values:{count:t.member_count}}))})]}),o.jsx("div",{className:"shrink-0",children:t.requested?o.jsx(oe,{color:"primary",icon:S6,label:s.formatMessage(Tn.requested),onClick:u=>{u.preventDefault(),u.stopPropagation()},children:s.formatMessage(Tn.requested)}):o.jsx(oe,{color:"secondary",onClick:u=>{u.preventDefault(),u.stopPropagation(),n(t)},onMouseEnter:i,onFocus:i,visuallyDisabled:e,disabled:e,children:o.jsx(N,C({},Tn.request))})})]})}const JLe=25;function tre(t,e=0,n="",r=JLe,s=void 0,a=void 0){const i=g.useMemo(()=>a?[...a].sort().join(","):void 0,[a]);return ut({queryKey:["workspace",t,e,n,r,i],queryFn:async()=>await ue.safeGet("/accounts/{account_id}/users",{parameters:{path:{account_id:t},query:{offset:e,limit:r,query:n,role:i}}}),placeholderData:s,enabled:!!t})}function XLe({workspace:t,onOpen:e}){var p;const n=Z(),r=pt(),s=Wt(),a=q(),i=Tt(),[l,c]=g.useState(!1),{data:u,isLoading:d}=tre(t.id),f=e4e(n,t,s!=null?s:void 0),m=g.useCallback(()=>{e==null||e(),c(!0);const{willRedirect:h}=SM(r,t.id,a,n,i);L6.disableTemporaryChat(),h||kM()},[e,r,t.id,a,n,i]);return o.jsxs("div",{className:"flex w-full cursor-default items-center border-t p-5 first:border-t-0",role:"listitem","data-testid":"existing-workspace-row","data-workspace-id":t.id,children:[o.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[t.structure===Ad.PERSONAL?o.jsx(Hd,{user:s,size:"large"}):o.jsx(Vd,{src:t.data.profilePictureUrl,size:"large"}),o.jsxs("div",{className:"flex-1 truncate",children:[o.jsx("div",{className:"text-token-text-primary truncate font-medium",title:f,children:f}),o.jsx("div",{className:"text-token-text-secondary truncate text-sm",children:t.structure===Ad.PERSONAL?o.jsx(N,C({},Tn.personalWorkspace)):d?o.jsx(jo,{className:"inline-block h-4 w-16 align-middle"}):n.formatMessage(Tn.memberCount,{count:(p=u==null?void 0:u.total)!=null?p:0})})]})]}),o.jsx("div",{className:"shrink-0",children:o.jsx(oe,{color:"secondary",onClick:h=>{h.preventDefault(),h.stopPropagation(),m()},visuallyDisabled:l||!t.canAccessWithCurrentSession,disabled:l||!t.canAccessWithCurrentSession,children:n.formatMessage(Tn.open)})})]})}function vR(){return o.jsxs("div",{className:"flex w-full cursor-default items-center gap-3 border-t p-5 first:border-t-0",role:"listitem","aria-busy":"true",children:[o.jsx("div",{className:"h-12 w-12 shrink-0 overflow-hidden rounded-full",children:o.jsx(jo,{className:"h-full w-full rounded-none"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"mb-1",children:o.jsx(jo,{className:"h-5 w-48"})}),o.jsx(jo,{className:"h-4 w-28"})]}),o.jsx("div",{className:"shrink-0",children:o.jsx(jo,{className:"h-8 w-24 rounded-md"})})]})}function eRe(t,e,n){var y;const r=it(),s=q(),a=yt(s),{data:i}=Ds(),l=(y=a==null?void 0:a.isWorkspaceAccount())!=null?y:!1,c=a==null?void 0:a.isPlus(),u=a==null?void 0:a.isPro(),d=a==null?void 0:a.planType,f=i&&$u(i),m=!l&&!c&&f&&ze(s,"2670443078").get("is_gating_fix_enabled",!1),p=!l&&!m&&!u&&ze(s,"2888142241").get("is_upgrade_in_settings",!1);return{showUpgradePlan:!p&&i&&!P3e(i)&&n==="profile-dropdown-menu"&&Vo(s,"2471442003").get("enabled",!1)||p,onUpgradeClick:x=>{Ki(s).logEvent(t,void 0,{current_plan_type:d!=null?d:"unknown"}),B.logEvent(e,{planType:d!=null?d:"unknown"}),fr(r,x)}}}function tRe({showHiddenWorkspacesNote:t=!1}){const{showUpgradePlan:e,onUpgradeClick:n}=eRe("chatgpt_upgrade_in_workspace_switcher_clicked","Upgrade In Workspace Switcher Clicked","create-workspace-upgrade-cta"),r=!!e;return!(r||t)?null:o.jsxs("div",{className:"text-token-text-secondary mt-6 text-center text-sm",children:[t&&o.jsx("span",{className:"me-1",children:o.jsx(N,C({},Tn.hiddenWorkspacesFooter))}),r&&o.jsxs(o.Fragment,{children:[o.jsx(N,C({},Tn.createNewWorkspacePrefix)),"Â ",o.jsx("button",{onClick:()=>n("fullscreen-workspace-switcher"),className:"underline",children:o.jsx(N,C({},Tn.createNewWorkspaceLink))})]})]})}function nRe({source:t,existingCount:e,discoverableCount:n}){const r=Wt(),s=r==null?void 0:r.email_domain_type,a=g.useMemo(()=>({source:t,join_flow:"discovery",platform:"web",email_domain_type:s}),[s,t]),i=g.useMemo(()=>({existing_workspace_count:e,joinable_workspace_count:n,has_joinable_workspaces:n>0}),[n,e]),l=g.useCallback((p,h,v={})=>{B.logEventWithStatsig(p,h,P(C(C(C({},a),i),v),{ts:new Date().toISOString()}))},[a,i]),c=g.useCallback((p,h={})=>{l("Account: Workspace Discovery Fullscreen Exit","chatgpt_workspace_discovery_fullscreen_exit",C({exit_action:p},h))},[l]),u=g.useRef(!1),d=g.useCallback(p=>{l("Account: Workspace Discovery Request Hovered","chatgpt_workspace_discovery_request_hovered",{workspace_id:p.id})},[l]),f=g.useCallback(p=>{l("Account: Workspace Discovery Request Clicked","chatgpt_workspace_discovery_request_clicked",{workspace_id:p.id})},[l]),m=g.useCallback(()=>{u.current||(u.current=!0,l("Account: Workspace Discovery Fullscreen Viewed","chatgpt_workspace_discovery_fullscreen_viewed"))},[l]);return{hasLoggedFullscreenView:u.current,logFullscreenViewedOnce:m,logExitEvent:c,logRequestButtonHovered:d,logRequestButtonClicked:f}}function rRe(){return o.jsx("div",{className:"static w-full",role:"list","data-testid":"workspace-list",children:o.jsxs("div",{className:"static flex w-full flex-col rounded-2xl border py-1.5",children:[o.jsx(vR,{},1),o.jsx(vR,{},2)]})})}function qCt({onClose:t,mode:e="blocking",section:n="existing",source:r="unknown"}){var H,V;const{data:s,isFetching:a}=yJ(),i=Wt(),l=(H=i==null?void 0:i.email)!=null?H:"",c=Z(),u=q(),d=(i==null?void 0:i.email_domain_type)==="professional",f=n==="existing"||n==="both",m=(n==="discoverable"||n==="both")&&d,{data:p,isFetching:h}=b4e(m),v=pt(),[y,x]=g.useState(null),b=Tt(),{setHasSeenWorkspaceDiscoveryFirstLoginDontInvalidateCache:_}=FLe(),w=Vt({mutationFn:async z=>{await ue.safePost("/accounts/{account_id}/invites/request",{parameters:{path:{account_id:z}}})},onSuccess:(z,$)=>{v.setQueryData(["discoverable-workspaces"],D=>D!=null&&D.workspaces?P(C({},D),{workspaces:D.workspaces.map(Y=>Y.id===$?P(C({},Y),{requested:!0}):Y)}):D)},onError:(z,$)=>{x(null),b.danger(c.formatMessage(Tn.requestAccessError),{toastId:"request-access-".concat($)})},onSettled:()=>{x(null)}}),S=m&&!!(p!=null&&p.has_more),k=f&&a||m&&h,M=[];if(f&&M.push(...(s!=null?s:[]).map(z=>({type:"existing",w:z}))),m){const z=(V=p==null?void 0:p.workspaces)!=null?V:[];M.push(...z.map($=>({type:"discoverable",w:$})))}const E=M.filter(z=>z.type==="existing").length,T=M.filter(z=>z.type==="discoverable").length,{hasLoggedFullscreenView:j,logFullscreenViewedOnce:A,logExitEvent:I,logRequestButtonClicked:L,logRequestButtonHovered:O}=nRe({source:r,existingCount:E,discoverableCount:T});if(g.useEffect(()=>{!j&&!k&&A()},[j,A,k]),e==="blocking"&&E===0&&!k)return null;const R=Vo(u,"2133596510").get("enabled",!1);return o.jsx(Kt,{children:o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},"data-testid":"fullscreen-workspace-switcher",className:"bg-token-bg-primary absolute inset-0 start-0 top-0 z-50 h-full w-full",role:"dialog","aria-modal":"true","aria-label":c.formatMessage(Tn.title),children:o.jsxs("div",{className:"flex h-full max-h-full flex-col",children:[e==="dismissible"&&o.jsx("div",{className:"absolute end-4 top-4",children:o.jsx("button",{type:"button","aria-label":c.formatMessage(Tn.close),onClick:()=>{_(),I("close"),t()},className:"rounded-full p-2 hover:bg-transparent",children:o.jsx(lr,{className:"icon"})})}),o.jsx("div",{className:"flex flex-1 items-start justify-center px-6 pt-[15vh] pb-12",children:o.jsxs("div",{className:"flex w-[440px] flex-col items-center",children:[k?o.jsxs(o.Fragment,{children:[o.jsx(YLe,{showCollaborationSubtitle:R}),o.jsx(rRe,{})]}):o.jsxs(o.Fragment,{children:[o.jsx(KLe,{existingCount:E,discoverableCount:T,accountEmail:l,showCollaborationSubtitle:R}),M.length>0&&o.jsx("div",{className:"static w-full",role:"list","data-testid":"workspace-list",children:o.jsx("div",{className:"static flex w-full flex-col rounded-2xl border py-1.5",children:M.map(z=>z.type==="existing"?o.jsx(XLe,{workspace:z.w,onOpen:()=>{_(),I("open_workspace")}},z.w.id):o.jsx(QLe,{workspace:z.w,isLoading:w.isPending&&y===z.w.id,onHoverRequest:$=>{O($)},onRequestAccess:$=>{x($.id),L($),w.mutate($.id)}},z.w.id))})})]}),n==="discoverable"&&T===0&&!k&&o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"flex w-full flex-col rounded-2xl border py-20",children:o.jsx("div",{className:"text-token-text-secondary text-center text-sm",children:o.jsx(N,C({},Tn.noWorkspacesToJoin))})})}),e==="dismissible"&&o.jsx("div",{className:"mt-4 w-full",children:o.jsx(oe,{fullWidth:!0,onClick:()=>{_(),I("close"),t()},children:o.jsx(N,C({},Tn.done))})}),o.jsx(tRe,{showHiddenWorkspacesNote:S})]})})]})})})}var Nj="ToastProvider",[Aj,sRe,aRe]=iM("Toast"),[nre]=Bu("Toast",[aRe]),[oRe,B5]=nre(Nj),rre=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:i}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error("Invalid prop `label` supplied to `".concat(Nj,"`. Expected non-empty `string`.")),o.jsx(Aj.Provider,{scope:e,children:o.jsx(oRe,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};rre.displayName=Nj;var sre="ToastViewport",iRe=["F8"],CS="toast.viewportPause",_S="toast.viewportResume",are=g.forwardRef((t,e)=>{const y=t,{__scopeToast:n,hotkey:r=iRe,label:s="Notifications ({hotkey})"}=y,a=de(y,["__scopeToast","hotkey","label"]),i=B5(sre,n),l=sRe(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),m=Fn(e,f,i.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=i.toastCount>0;g.useEffect(()=>{const x=b=>{var w;r.length!==0&&r.every(S=>b[S]||b.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),g.useEffect(()=>{const x=c.current,b=f.current;if(h&&x&&b){const _=()=>{if(!i.isClosePausedRef.current){const M=new CustomEvent(CS);b.dispatchEvent(M),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const M=new CustomEvent(_S);b.dispatchEvent(M),i.isClosePausedRef.current=!1}},S=M=>{!x.contains(M.relatedTarget)&&w()},k=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",_),x.addEventListener("focusout",S),x.addEventListener("pointermove",_),x.addEventListener("pointerleave",k),window.addEventListener("blur",_),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",_),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",_),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",_),window.removeEventListener("focus",w)}}},[h,i.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:x})=>{const _=l().map(w=>{const S=w.ref.current,k=[S,...CRe(S)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?_.reverse():_).flat()},[l]);return g.useEffect(()=>{const x=f.current;if(x){const b=_=>{var k,M,E;const w=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!w){const T=document.activeElement,j=_.shiftKey;if(_.target===x&&j){(k=u.current)==null||k.focus();return}const L=v({tabbingDirection:j?"backwards":"forwards"}),O=L.findIndex(R=>R===T);L9(L.slice(O+1))?_.preventDefault():j?(M=u.current)==null||M.focus():(E=d.current)==null||E.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,v]),o.jsxs(I3e,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:h?void 0:"none"},children:[h&&o.jsx(wS,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});L9(x)}}),o.jsx(Aj.Slot,{scope:n,children:o.jsx(mn.ol,P(C({tabIndex:-1},a),{ref:m}))}),h&&o.jsx(wS,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});L9(x)}})]})});are.displayName=sre;var ore="ToastFocusProxy",wS=g.forwardRef((t,e)=>{const i=t,{__scopeToast:n,onFocusFromOutsideViewport:r}=i,s=de(i,["__scopeToast","onFocusFromOutsideViewport"]),a=B5(ore,n);return o.jsx(uM,P(C({"aria-hidden":!0,tabIndex:0},s),{ref:e,style:{position:"fixed"},onFocus:l=>{var d;const c=l.relatedTarget;!((d=a.viewport)!=null&&d.contains(c))&&r()}}))});wS.displayName=ore;var U5="Toast",lRe="toast.swipeStart",cRe="toast.swipeMove",uRe="toast.swipeCancel",dRe="toast.swipeEnd",ire=g.forwardRef((t,e)=>{const u=t,{forceMount:n,open:r,defaultOpen:s,onOpenChange:a}=u,i=de(u,["forceMount","open","defaultOpen","onOpenChange"]),[l=!0,c]=Hi({prop:r,defaultProp:s,onChange:a});return o.jsx(R6,{present:n||l,children:o.jsx(pRe,P(C({open:l},i),{ref:e,onClose:()=>c(!1),onPause:kp(t.onPause),onResume:kp(t.onResume),onSwipeStart:Nt(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Nt(t.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x","".concat(f,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y","".concat(m,"px"))}),onSwipeCancel:Nt(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Nt(t.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x","".concat(f,"px")),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y","".concat(m,"px")),c(!1)})}))})});ire.displayName=U5;var[fRe,mRe]=nre(U5,{onClose(){}}),pRe=g.forwardRef((t,e)=>{const O=t,{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p}=O,h=de(O,["__scopeToast","type","duration","open","onClose","onEscapeKeyDown","onPause","onResume","onSwipeStart","onSwipeMove","onSwipeCancel","onSwipeEnd"]),v=B5(U5,n),[y,x]=g.useState(null),b=Fn(e,R=>x(R)),_=g.useRef(null),w=g.useRef(null),S=s||v.duration,k=g.useRef(0),M=g.useRef(S),E=g.useRef(0),{onToastAdd:T,onToastRemove:j}=v,A=kp(()=>{var H;(y==null?void 0:y.contains(document.activeElement))&&((H=v.viewport)==null||H.focus()),i()}),I=g.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout(A,R))},[A]);g.useEffect(()=>{const R=v.viewport;if(R){const H=()=>{I(M.current),u==null||u()},V=()=>{const z=new Date().getTime()-k.current;M.current=M.current-z,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(CS,V),R.addEventListener(_S,H),()=>{R.removeEventListener(CS,V),R.removeEventListener(_S,H)}}},[v.viewport,S,c,u,I]),g.useEffect(()=>{a&&!v.isClosePausedRef.current&&I(S)},[a,S,v.isClosePausedRef,I]),g.useEffect(()=>(T(),()=>j()),[T,j]);const L=g.useMemo(()=>y?mre(y):null,[y]);return v.viewport?o.jsxs(o.Fragment,{children:[L&&o.jsx(gRe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),o.jsx(fRe,{scope:n,onClose:A,children:Zl.createPortal(o.jsx(Aj.ItemSlot,{scope:n,children:o.jsx(L3e,{asChild:!0,onEscapeKeyDown:Nt(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(mn.li,P(C({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection},h),{ref:b,style:C({userSelect:"none",touchAction:"none"},t.style),onKeyDown:Nt(t.onKeyDown,R=>{R.key==="Escape"&&(l==null||l(R.nativeEvent),R.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Nt(t.onPointerDown,R=>{R.button===0&&(_.current={x:R.clientX,y:R.clientY})}),onPointerMove:Nt(t.onPointerMove,R=>{if(!_.current)return;const H=R.clientX-_.current.x,V=R.clientY-_.current.y,z=!!w.current,$=["left","right"].includes(v.swipeDirection),D=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,Y=$?D(0,H):0,G=$?0:D(0,V),F=R.pointerType==="touch"?10:2,X={x:Y,y:G},te={originalEvent:R,delta:X};z?(w.current=X,d2(cRe,f,te,{discrete:!1})):yR(X,v.swipeDirection,F)?(w.current=X,d2(lRe,d,te,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(H)>F||Math.abs(V)>F)&&(_.current=null)}),onPointerUp:Nt(t.onPointerUp,R=>{const H=w.current,V=R.target;if(V.hasPointerCapture(R.pointerId)&&V.releasePointerCapture(R.pointerId),w.current=null,_.current=null,H){const z=R.currentTarget,$={originalEvent:R,delta:H};yR(H,v.swipeDirection,v.swipeThreshold)?d2(dRe,p,$,{discrete:!0}):d2(uRe,m,$,{discrete:!0}),z.addEventListener("click",D=>D.preventDefault(),{once:!0})}})}))})}),v.viewport)})]}):null}),gRe=t=>{const u=t,{__scopeToast:e,children:n}=u,r=de(u,["__scopeToast","children"]),s=B5(U5,e),[a,i]=g.useState(!1),[l,c]=g.useState(!1);return xRe(()=>i(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:o.jsx(lM,{asChild:!0,children:o.jsx(uM,P(C({},r),{children:a&&o.jsxs(o.Fragment,{children:[s.label," ",n]})}))})},hRe="ToastTitle",lre=g.forwardRef((t,e)=>{const s=t,{__scopeToast:n}=s,r=de(s,["__scopeToast"]);return o.jsx(mn.div,P(C({},r),{ref:e}))});lre.displayName=hRe;var vRe="ToastDescription",yRe=g.forwardRef((t,e)=>{const s=t,{__scopeToast:n}=s,r=de(s,["__scopeToast"]);return o.jsx(mn.div,P(C({},r),{ref:e}))});yRe.displayName=vRe;var cre="ToastAction",ure=g.forwardRef((t,e)=>{const s=t,{altText:n}=s,r=de(s,["altText"]);return n.trim()?o.jsx(fre,{altText:n,asChild:!0,children:o.jsx(Pj,P(C({},r),{ref:e}))}):(console.error("Invalid prop `altText` supplied to `".concat(cre,"`. Expected non-empty `string`.")),null)});ure.displayName=cre;var dre="ToastClose",Pj=g.forwardRef((t,e)=>{const a=t,{__scopeToast:n}=a,r=de(a,["__scopeToast"]),s=mRe(dre,n);return o.jsx(fre,{asChild:!0,children:o.jsx(mn.button,P(C({type:"button"},r),{ref:e,onClick:Nt(t.onClick,s.onClose)}))})});Pj.displayName=dre;var fre=g.forwardRef((t,e)=>{const a=t,{__scopeToast:n,altText:r}=a,s=de(a,["__scopeToast","altText"]);return o.jsx(mn.div,P(C({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},s),{ref:e}))});function mre(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bRe(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...mre(r))}}),e}function d2(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?R3e(s,a):s.dispatchEvent(a)}var yR=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),a=r>s;return e==="left"||e==="right"?a&&r>n:!a&&s>n};function xRe(t=()=>{}){const e=kp(t);Vi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bRe(t){return t.nodeType===t.ELEMENT_NODE}function CRe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function L9(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _Re=rre,wRe=are,SRe=ire,pre=lre,kRe=ure,gre=Pj,hre="AlertDialog",[MRe]=Bu(hre,[xY]),al=xY(),vre=t=>{const s=t,{__scopeAlertDialog:e}=s,n=de(s,["__scopeAlertDialog"]),r=al(e);return o.jsx(qu,P(C(C({},r),n),{modal:!0}))};vre.displayName=hre;var ERe="AlertDialogTrigger",jRe=g.forwardRef((t,e)=>{const a=t,{__scopeAlertDialog:n}=a,r=de(a,["__scopeAlertDialog"]),s=al(n);return o.jsx(EM,P(C(C({},s),r),{ref:e}))});jRe.displayName=ERe;var TRe="AlertDialogPortal",yre=t=>{const s=t,{__scopeAlertDialog:e}=s,n=de(s,["__scopeAlertDialog"]),r=al(e);return o.jsx(zu,C(C({},r),n))};yre.displayName=TRe;var NRe="AlertDialogOverlay",xre=g.forwardRef((t,e)=>{const a=t,{__scopeAlertDialog:n}=a,r=de(a,["__scopeAlertDialog"]),s=al(n);return o.jsx(b0,P(C(C({},s),r),{ref:e}))});xre.displayName=NRe;var fd="AlertDialogContent",[ARe,PRe]=MRe(fd),bre=g.forwardRef((t,e)=>{const u=t,{__scopeAlertDialog:n,children:r}=u,s=de(u,["__scopeAlertDialog","children"]),a=al(n),i=g.useRef(null),l=Fn(e,i),c=g.useRef(null);return o.jsx(O3e,{contentName:fd,titleName:Cre,docsSlug:"alert-dialog",children:o.jsx(ARe,{scope:n,cancelRef:c,children:o.jsxs(_f,P(C(C({role:"alertdialog"},a),s),{ref:l,onOpenAutoFocus:Nt(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[o.jsx(D3e,{children:r}),o.jsx(LRe,{contentRef:i})]}))})})});bre.displayName=fd;var Cre="AlertDialogTitle",_re=g.forwardRef((t,e)=>{const a=t,{__scopeAlertDialog:n}=a,r=de(a,["__scopeAlertDialog"]),s=al(n);return o.jsx(bY,P(C(C({},s),r),{ref:e}))});_re.displayName=Cre;var wre="AlertDialogDescription",Sre=g.forwardRef((t,e)=>{const a=t,{__scopeAlertDialog:n}=a,r=de(a,["__scopeAlertDialog"]),s=al(n);return o.jsx(CY,P(C(C({},s),r),{ref:e}))});Sre.displayName=wre;var IRe="AlertDialogAction",kre=g.forwardRef((t,e)=>{const a=t,{__scopeAlertDialog:n}=a,r=de(a,["__scopeAlertDialog"]),s=al(n);return o.jsx(C0,P(C(C({},s),r),{ref:e}))});kre.displayName=IRe;var Mre="AlertDialogCancel",Ere=g.forwardRef((t,e)=>{const l=t,{__scopeAlertDialog:n}=l,r=de(l,["__scopeAlertDialog"]),{cancelRef:s}=PRe(Mre,n),a=al(n),i=Fn(e,s);return o.jsx(C0,P(C(C({},a),r),{ref:i}))});Ere.displayName=Mre;var LRe=({contentRef:t})=>{const e="`".concat(fd,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(fd,"` by passing a `").concat(wre,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(fd,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},RRe=vre,ORe=yre,DRe=xre,FRe=bre,BRe=kre,URe=Ere,HRe=_re,xR=Sre;function jre({title:t,description:e,contentClassName:n,onClose:r,actionButton:s,cancelButton:a,moreInfoLink:i}){return o.jsx(RRe,{open:!0,onOpenChange:l=>{l||r()},children:o.jsxs(ORe,{children:[o.jsx(DRe,{className:"border-token-border-medium radix-state-open:animate-show fixed inset-0"}),o.jsxs(FRe,{className:U("bg-token-main-surface-primary radix-state-open:animate-alertShow fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl shadow-2xl focus:outline-hidden",n),onEscapeKeyDown:l=>l.preventDefault(),children:[o.jsx(HRe,{className:"border-token-border-default border-b p-4 text-lg font-semibold md:p-6",children:t}),o.jsxs("div",{className:"flex flex-col gap-4 p-4 md:p-6",children:[o.jsx(xR,{className:"text-base",children:e}),o.jsxs("div",{className:"flex justify-end gap-2",children:[i&&o.jsx(xR,{className:"grow",children:i}),a&&o.jsx(URe,{asChild:!0,children:a}),o.jsx(BRe,{asChild:!0,children:s})]})]})]})]})})}function Tre({children:t}){return o.jsxs(_Re,{children:[o.jsx(SRe,{className:"radix-state-closed:animate-hide radix-state-open:animate-slideIn popover bg-token-main-surface-primary grid grid-cols-[auto_max-content] items-center gap-x-4 rounded-lg p-4 shadow-xs [grid-template-areas:_'title_action'_'description_action'] sm:max-w-2xl",open:!0,children:t}),o.jsx(wRe,{className:"fixed end-0 bottom-0 z-50 m-0 flex max-w-[100vw] list-none flex-col gap-4 p-6 outline-hidden"})]})}const B1="compliance",Nre=60*60*24*30*6,VRe={serverPrimedAllowBrowserStorageValue:!0,showCookieConsentBanner:!1,isStorageComplianceEnabled:!1,ageVerificationDeadline:null,ageVerificationType:"none"},$Re={IT:"countdown",KR:"passive"};function qRe(t,e){var i,l,c,u,d,f,m,p;const n=SY(e),r=(i=t.registration_country)!=null?i:"",s=r in _Y&&((l=t.age_verification)==null?void 0:l.is_required);if(!n&&!s)return VRe;const a=n&&!!t.require_cookie_consent;return{serverPrimedAllowBrowserStorageValue:a?(u=(c=t.cookie_consent)==null?void 0:c.analytics_cookies_accepted)!=null?u:!1:!0,showCookieConsentBanner:a&&!!((d=t.cookie_consent)!=null&&d.is_required),isStorageComplianceEnabled:a,ageVerificationDeadline:s&&(m=(f=t.age_verification)==null?void 0:f.remaining_seconds)!=null?m:null,ageVerificationType:s&&(p=$Re[r])!=null?p:"none"}}const Are=Ho({queryKey:[B1],queryFn:async()=>{var e;let t;try{t=await ue.safeGet("/compliance")}catch(n){t={registration_country:null,require_cookie_consent:!1,age_verification:{is_required:!1},cookie_consent:{is_required:!1},terms_of_use:{is_required:!1}}}if((e=t.cookie_consent)!=null&&e.is_required){const n=or.getBooleanCookie(ir.AllowNonessential),r=t.cookie_consent.analytics_cookies_accepted;if(n===void 0&&r!=null)or.setBooleanCookie(ir.AllowNonessential,r,{maxAge:Nre,domain:wY});else if(n!==r&&n!=null){const s={analytics_cookies_accepted:n};return ue.safePost("/compliance/cookie_consent",{authOption:qt.SendIfAvailable,requestBody:s}),P(C({},t),{cookie_consent:C(C({},t.cookie_consent),s)})}}return t}});function Pre({enabled:t,select:e}){return ut(P(C({},Are),{enabled:t,select:e}))}function Ire(){const{country:t}=wf(),e=t!=null&&t in _Y,n=ut(P(C({},Are),{enabled:e,select:r=>qRe(r,t)}));return P(C({},n),{isEnabled:e})}function zRe(){const t=pt();return Vt({mutationFn:e=>ue.safePost("/compliance/cookie_consent",{requestBody:e}),onSuccess:()=>{t.refetchQueries({queryKey:[B1]})},onMutate:async e=>{await t.cancelQueries({queryKey:[B1]});const n=t.getQueryData([B1]);return t.setQueryData([B1],r=>{var a;if(r===void 0)return;const s=!!((a=r.cookie_consent)!=null&&a.is_required);return P(C({},r),{cookie_consent:C({is_required:s},e)})}),{previousValue:n}},onError:(e,n,r)=>{r!==void 0&&t.setQueryData([B1],r.previousValue)}})}function zCt({serverPrimedAllowBrowserStorageValue:t,enabled:e}){const{data:n,isLoading:r}=Pre({enabled:e,select:s=>{var a;return((a=s.cookie_consent)==null?void 0:a.analytics_cookies_accepted)===!0}});return r||!e?t:n!=null?n:!1}const GRe=60*60*24;function GCt(t,e=!1){return zo()==null||e?"loading":!t||or.getCookie(ir.AgeVerification)||t.ageVerificationDeadline==null||t.ageVerificationType==="none"?"hide":"show"}function WCt({onClose:t}){const{data:{ageVerificationType:e,ageVerificationDeadline:n}={}}=Ire();return e==="passive"?o.jsx(WRe,{onClose:t}):e==="countdown"&&n!=null?o.jsx(ZRe,{onClose:t,ageVerificationDeadline:n}):null}const WRe=({onClose:t})=>{const{country:e}=wf();return g.useEffect(()=>{ve.addAction("privacy_policy.show_age_verification_modal",{country:e})},[e]),o.jsx(jre,{onClose:t,title:"OpenAI ìë¹ì¤ ì´ì© ê°ë¥ ì°ë ¹ê¸°ì¤ì íì¸í´ ì£¼ì¸ì",description:o.jsx("div",{className:"whitespace-pre-wrap",children:o.jsxs("p",{children:["ChatGPTë¥¼ ì´ì©í´ì£¼ìì ê°ì¬í©ëë¤. ëíë¯¼êµ­ì ë²ë ¹ì ìê±´ì ì¤ìíê¸° ìí´, OpenAIë ê·íê° OpenAI ìë¹ì¤ë¥¼ ì´ì©í  ì ìë ëì´ì¸ì§ íì¸íì¬ì¼ í©ëë¤. ChatGPTë¥¼ ê³ì ì´ì©íìë ¤ë©´, ê·íê° 18ì¸ ì´ìì´ê±°ë, 14ì¸ ì´ìì´ê³  ë¶ëª¨ ëë ë³´í¸ìì íë½ì ë°ììì íì¸í´ ì£¼ì¸ì.",o.jsx("br",{}),o.jsx("br",{}),"OpenAIì ì°ë ¹ê¸°ì¤ ë¯¸ë¬ì"," ",o.jsx("a",{href:"https://privacy.openai.com/policies?action=ERASURE&modal=log-in",className:"underline",target:"_blank",rel:"noreferrer",children:"ì´ íì´ì§ìì ê³ì ì ì­ì í´ ì£¼ì¸ì."})]})}),actionButton:o.jsx(oe,{color:"primary",onClick:async()=>{await ue.safePost("/compliance/age_verification"),t()},children:"ì ë OpenAIì ì°ë ¹ê¸°ì¤ì ì¶©ì¡±í©ëë¤"}),cancelButton:o.jsx(oe,{as:"link",color:"secondary",to:"/auth/logout",children:"ë¡ê·¸ìì"})})},ZRe=({onClose:t,ageVerificationDeadline:e})=>{const n=e!=null?Math.floor(e/60/60/24):0;g.useEffect(()=>{Le.logEvent("chatgpt_compliance_age_verification_seen"),B.logEvent("Compliance Age Verification Seen")},[]);const{country:r}=wf();return g.useEffect(()=>{ve.addAction("privacy_policy.show_age_verification_countdown",{country:r})},[r]),o.jsxs(Tre,{children:[o.jsx(pre,{className:"text-sm font-semibold [grid-area:_title]",children:o.jsx(N,P(C({},bR.ageVerificationTitle),{values:{deadline:n,learnMoreLink:s=>o.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:s})}}))}),o.jsx(kRe,{altText:"Dismiss notification",asChild:!0,children:o.jsx(oe,{color:"primary",size:"small",onClick:()=>{Le.logEvent("chatgpt_compliance_age_verification_clicked"),B.logEvent("Compliance Age Verification Clicked"),or.setCookie(ir.AgeVerification,"true",{maxAge:GRe,path:"/"}),t(),pn.openModal(Yl.AgeVerificationInterstitial)},children:o.jsx(N,C({},bR.startVerification))})}),o.jsx(gre,{})]})},bR=pe({ageVerificationTitle:{id:"ageVerificationBanner.title-v1",defaultMessage:"Please verify your age in the next {deadline, plural, =0 {# days} one {# day} other {# days}}. We are required to check if you're old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."},dismiss:{id:"ageVerificationBanner.dismiss",defaultMessage:"Dismiss"},startVerification:{id:"ageVerificationBanner.startVerification",defaultMessage:"Start verification"},modalTitle:{id:"ageVerificationModal.title",defaultMessage:"Please confirm you meet our age requirements"},modalDescription:{id:"ageVerificationModal.description.1",defaultMessage:"Thank you for using ChatGPT. To comply with legal requirements in Korea, we need to confirm that youâre old enough to use our service. To continue on ChatGPT, please confirm that you are 18+ or are 14+ and have your parent or guardianâs permission to use ChatGPT. <deleteAccountLink>If you do not meet our age requirements, please delete your account.</deleteAccountLink>"},modalLogout:{id:"ageVerificationModal.logOut",defaultMessage:"Log out"},modalAction:{id:"ageVerificationModal.actionButton",defaultMessage:"I meet OpenAI's age requirements"}});function ZCt({onClose:t}){const e=Z(),n=Tt(),{openSettings:r}=_0(),s=zRe(),{session:a}=x0(),{data:{isStorageComplianceEnabled:i}={}}=Ire(),{data:l,isLoading:c}=Pre({enabled:!!(i&&a),select:u=>{var d;return!((d=u.cookie_consent)!=null&&d.is_required)}});return g.useEffect(()=>{l===!0&&t()},[l,t]),c?null:o.jsx(KRe,{onReject:()=>{s.mutateAsync({analytics_cookies_accepted:!1},{onSuccess(){n.success(e.formatMessage(Y1.updateSuccess))},onError(){n.danger(Y1.updateFailure,{toastId:"cookie_consent_banner"})}}),t()},onAccept:()=>{s.mutateAsync({analytics_cookies_accepted:!0},{onSuccess(){n.success(e.formatMessage(Y1.updateSuccess))},onError(){n.danger(Y1.updateFailure,{toastId:"cookie_consent_banner"})}}),t()},children:o.jsx(N,{id:"CookieConsentBanner.authedDescription.0",defaultMessage:"We use cookies and similar technologies to deliver, maintain, improve our services and for security purposes. Check our <cookiePolicy>cookie policy</cookiePolicy> for details. Click 'Accept all' to let OpenAI and partners use cookies for these purposes. Click 'Reject all' to say no to cookies, except those that are strictly necessary. Choose <manageLink>manage cookies</manageLink> to change your preferences.",values:{cookiePolicy:u=>o.jsx(p0,{href:"https://openai.com/policies/cookie-policy",openNewTab:!0,children:u}),manageLink:u=>o.jsx(YRe,{onClick:()=>{r(Dn.DataControls)},children:u})}})})}function KRe({children:t,onAccept:e,onReject:n}){return g.useEffect(()=>{ve.addAction("privacy_policy.show_cookie_consent_banner")},[]),o.jsxs(Tre,{children:[o.jsxs(pre,{className:"text-sm font-semibold [grid-area:_title]",children:[t,o.jsxs("div",{className:"mt-2 flex justify-end gap-3",children:[o.jsx(oe,{color:"secondary",size:"small",onClick:n,children:o.jsx(N,C({},Y1.reject))}),o.jsx(oe,{color:"secondary",size:"small",onClick:e,children:o.jsx(N,C({},Y1.accept))})]})]}),o.jsx(gre,{})]})}var kZ;const YRe=Ge.button(kZ||(kZ=qe(["underline font-normal text-green-600"]))),Y1=pe({cookieConsentBannerTitle:{id:"CookieConsentBanner.title",defaultMessage:"We use cookies to provide, improve, and protect our services. Visit our <privacyPolicyLink>privacy policy</privacyPolicyLink> to learn more. You can manage your cookie preferences in your <settingsPanel>settings panel</settingsPanel>. <learnMoreLink>Learn more</learnMoreLink>."},reject:{id:"CookieConsentBanner.reject",defaultMessage:"Reject all"},accept:{id:"CookieConsentBanner.accept",defaultMessage:"Accept all"},updateSuccess:{id:"CookieConsentBanner.updateSuccess",defaultMessage:"Your cookie preferences were updated successfully"},updateFailure:{id:"CookieConsentBanner.updateFailure",defaultMessage:"Unable to update cookie preferences. Try again later."}}),QRe="https://persistent.oaistatic.com/chatgpt/connector-promo-light.png",JRe="https://persistent.oaistatic.com/chatgpt/connector-nux-banner-bg-1.png",XRe="https://persistent.oaistatic.com/chatgpt/connector-nux-banner-bg-2.png",KCt=()=>{const{isLoading:t,eligible:e}=$e(We.hasSeenConnectorsNuxModal),n=Yt(wn),r=Mr(),s=!!(r!=null&&r.isAdminOfAccount()||r!=null&&r.isOwnerOfAccount()),{isLoading:a}=kY(),i=w0(),{availableConnectors:l}=O6();if(n)return"hide";const c=t||a,u=e&&(i==null?void 0:i.enabled)&&(i==null?void 0:i.can_see_system_hint_announcement)&&(s||l.length>0);return c?"loading":u?"show":"hide"},YCt=({onClose:t})=>{const{canUpgradeGDrive:e,canUpgradeSharepoint:n}=kY();return e||n?o.jsx(eOe,{canUpgradeGDrive:e,canUpgradeSharepoint:n,onClose:t}):o.jsx(nOe,{onClose:t})},eOe=({canUpgradeGDrive:t,canUpgradeSharepoint:e,onClose:n})=>o.jsx(tOe,{canUpgradeGDrive:t,canUpgradeSharepoint:e,onClose:n}),tOe=({canUpgradeGDrive:t,canUpgradeSharepoint:e,onClose:n})=>{const r=Z(),s=Mr(),a=!!(s!=null&&s.isAdminOfAccount()||s!=null&&s.isOwnerOfAccount()),i=!!(s!=null&&s.isPersonalAccount()),{markAsViewed:l}=$e(We.hasSeenConnectorsNuxModal),[c,u]=g.useState(!1),[d,f]=g.useState(!1),m=t?JRe:XRe,p=()=>{l(),n()},{CitationIcon:h,description:v,LoadingIcon:y,loadingText:x,onContinue:b,primaryButtonLabel:_,title:w}=g.useMemo(()=>t?{CitationIcon:D6,description:r.formatMessage({id:"T7ohyZ",defaultMessage:"Ask ChatGPT anything about your Google Docs, Sheets, Slides, and files."}),LoadingIcon:Ir,loadingText:r.formatMessage({id:"Z5098P",defaultMessage:"Reading Google Drive..."}),primaryButtonLabel:r.formatMessage({id:"GmC5aI",defaultMessage:"Connect Google"}),title:r.formatMessage({id:"3HJBih",defaultMessage:"ChatGPT + Google Drive"}),onContinue:()=>{a&&!i?window.location.href="/admin/ca":window.location.hash="#settings/".concat(Dn.Connectors,"?connector=").concat($i[vt.GDRIVE_ACTION_CONNECTOR],"&add-connector-link=true&referrer=").concat(Ep.ConnectorNuxModal)}}:{CitationIcon:ku,description:r.formatMessage({id:"Bq7hPi",defaultMessage:"Ask ChatGPT anything about your shared sites and OneDrive files."}),LoadingIcon:ku,loadingText:r.formatMessage({id:"CTgrFA",defaultMessage:"Reading Sharepoint..."}),primaryButtonLabel:r.formatMessage({id:"d89pUX",defaultMessage:"Connect Sharepoint"}),title:r.formatMessage({id:"mliVAI",defaultMessage:"ChatGPT + Sharepoint"}),onContinue:()=>{a&&!i?window.location.href="/admin/ca":window.location.hash="#settings/".concat(Dn.Connectors,"?connector=").concat($i[vt.SHAREPOINT_CONNECTOR],"&add-connector-link=true&referrer=").concat(Ep.ConnectorNuxModal)}},[t,r,a,i]),S=()=>{B.logEventWithStatsig("Connectors Nux Modal Confirmation Button Clicked","chatgpt_connectors_nux_modal_confirmation_button_clicked",{targetted_connector:t?"gdrive":"sharepoint"}),l(),n(),b()};return g.useEffect(()=>{const k=new Image;k.src=m,k.onload=()=>u(!0)},[m]),g.useEffect(()=>{B.logEventWithStatsig("Connectors Nux Modal Shown","chatgpt_connectors_nux_modal_shown",{targetted_connector:t?"gdrive":"sharepoint"})},[t,e]),g.useEffect(()=>{if(!c)return;const k=setTimeout(()=>{f(!0)},3e3);return()=>clearTimeout(k)},[c]),o.jsxs(tt,{testId:"modal-connectors-nux",isOpen:!0,noPadding:!0,onClose:p,shouldIgnoreClickOutside:!0,size:"custom",type:"success",className:"relative flex max-w-[480px] flex-col",children:[o.jsxs("div",{className:"relative h-[213px]",children:[o.jsx(gn,{onClick:p,className:"absolute end-0 top-0 z-10 me-2 mt-2 text-black/70 ring-0! outline-0! hover:bg-black/5! focus:ring-0! focus:ring-offset-0! focus:outline-0! active:bg-black/10!"}),o.jsxs("div",{className:"relative w-full flex-1",children:[o.jsx("img",{src:m,alt:r.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"h-[213px] w-full object-cover object-bottom"}),o.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center",children:o.jsxs("div",{className:"flex w-full flex-col gap-4 px-8",children:[o.jsx(Se.div,{className:"relative flex w-auto self-end rounded-3xl bg-white px-4 py-2.5 text-lg backdrop-blur-[24px] dark:bg-[rgba(48,48,48,0.8)]",initial:{opacity:0,y:16},animate:c?{opacity:1,y:0}:{opacity:0,y:8},transition:{type:"easeInOut",stiffness:400,damping:30,delay:.2,duration:.3},layout:"position",children:o.jsx(N,{id:"2VNiPu",defaultMessage:"Where's the next company conference?"})}),o.jsx(Se.div,{className:"relative flex w-auto self-start rounded-3xl bg-white px-4 py-2.5 text-lg backdrop-blur-[24px] dark:bg-[rgba(48,48,48,0.8)] ".concat(d?"pe-3":""),initial:{opacity:0,y:16},animate:c?{opacity:1,y:0}:{opacity:0,y:8},transition:{type:"easeInOut",stiffness:400,damping:30,delay:.5,duration:.3},layout:"position",children:o.jsx(Kt,{mode:"wait",initial:!1,children:d?o.jsxs(Se.div,{className:"flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,width:"100%"},transition:{opacity:{duration:.2}},style:{width:"100%"},layout:!0,children:[o.jsx(N,{id:"hBFvRz",defaultMessage:"The next conference is in New York City."}),o.jsx("span",{className:"text-token-text-secondary dark:bg-token-tertiary relative flex items-center rounded-xl bg-[#f4f4f4] px-1.5 py-0.5",children:o.jsx(h,{className:"h-5 w-5 object-contain"})})]},"answer"):o.jsxs(Se.div,{className:"flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,width:"100%"},transition:{opacity:{duration:.2}},style:{width:"100%"},layout:!0,children:[o.jsx(y,{className:"h-5 w-5 object-contain"}),o.jsx("span",{className:"loading-shimmer",children:x})]},"loading")})})]})})]})]}),o.jsxs("div",{className:"flex flex-col gap-2 px-8 py-8",children:[o.jsx("div",{className:"text-[22px] leading-7 font-medium",children:w}),o.jsx("div",{className:"text-token-text-secondary",children:v}),o.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[o.jsx(oe,{color:"secondary",onClick:p,children:o.jsx(N,{id:"ZeZf5A",defaultMessage:"Try later"})}),o.jsx(oe,{color:"primary",onClick:S,children:_})]})]})]})},nOe=({onClose:t})=>{const e=Z(),n=Mr(),r=!!(n!=null&&n.isAdminOfAccount()||n!=null&&n.isOwnerOfAccount()),s=!!(n!=null&&n.isPersonalAccount()),{openSettings:a}=_0(),{markAsViewed:i}=$e(We.hasSeenConnectorsNuxModal);g.useEffect(()=>{B.logEventWithStatsig("Connectors Nux Modal Shown","chatgpt_connectors_nux_modal_shown",{isAdmin:r&&!s?"true":"false"})},[r,s]);const l=()=>{B.logEventWithStatsig("Connectors Nux Modal Confirmation Button Clicked","chatgpt_connectors_nux_modal_confirmation_button_clicked",{isAdmin:r&&!s?"true":"false"}),i(),r&&!s?window.location.href="/admin/ca":(t(),a(Dn.Connectors))},c=()=>{i(),t()},u=e.formatMessage({id:"l6VLn3",defaultMessage:"Your apps, smarter chats"}),d=e.formatMessage({id:"QTZ7a/",defaultMessage:"Find answers, summarize info, or get things done with tools you use every day."});return o.jsxs(tt,{testId:"modal-connectors-nux",isOpen:!0,noPadding:!0,onClose:c,shouldIgnoreClickOutside:!0,size:"custom",type:"success",className:"relative flex max-w-[480px] flex-col",children:[o.jsxs("div",{className:"relative h-[213px]",children:[o.jsx(gn,{onClick:c,className:"absolute end-0 top-0 z-10 me-2 mt-2 text-black/70 ring-0! outline-0! hover:bg-black/5! focus:ring-0! focus:ring-offset-0! focus:outline-0! active:bg-black/10!"}),o.jsx("img",{src:QRe,alt:e.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),o.jsxs("div",{className:"flex flex-col gap-2 px-8 py-8",children:[o.jsx("div",{className:"text-[22px] leading-7 font-medium",children:u}),o.jsx("div",{className:"text-token-text-secondary",children:d}),o.jsxs("div",{className:"mt-5 flex justify-end gap-3",children:[o.jsx(oe,{color:"secondary",onClick:c,children:o.jsx(N,{id:"S6nkY/",defaultMessage:"Not now"})}),o.jsx(oe,{color:"primary",onClick:()=>l(),children:o.jsx(N,{id:"1pAV1c",defaultMessage:"Connect apps"})})]})]})]})},rOe=()=>{const t=g.useRef(sOe()),{isUnauthenticated:e,isLoading:n}=An(),r=x6(),s=F3e(),a=!n&&e&&s&&!t.current&&!r,i=g.useCallback(()=>{a&&(aOe(),B.logEventWithStatsig("Meet ChatGPT Modal Shown","chatgpt_meet_chatgpt_modal_shown"))},[a]),l=()=>{B.logEventWithStatsig("Meet ChatGPT Modal Confirmation Button Clicked","chatgpt_meet_chatgpt_modal_confirmation_button_clicked")};return n?{onConfirmationButtonClick:l,onMount:i,state:"loading"}:a?{onConfirmationButtonClick:l,onMount:i,state:"show"}:{onConfirmationButtonClick:l,onMount:i,state:"hide"}};function sOe(){return!!localStorage.getItem(et.HasSeenMeetChatGptModal)}function aOe(){return localStorage.setItem(et.HasSeenMeetChatGptModal,"true")}const QCt=({onClose:t})=>{const e=q(),{onConfirmationButtonClick:n,onMount:r,state:s}=rOe(),a=MY(e)?CR.trainingDisclaimer:CR.safetyAndAbuseDisclaimer;return g.useEffect(r,[r]),s!=="show"?null:o.jsx(tt,{testId:"modal-meet-chatgpt",isOpen:!0,noPadding:!0,onClose:_n,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:o.jsxs("div",{className:"flex flex-col p-6 text-center",children:[o.jsx("div",{className:"-mt-5 -mb-4 self-center",children:o.jsx(B3e,{})}),o.jsx("div",{className:"mb-2 text-2xl font-medium",children:o.jsx(N,{id:"fnY8gE",defaultMessage:"Meet ChatGPT"})}),o.jsx("div",{className:"text-token-text-secondary mb-6",children:o.jsx(N,{id:"OdX5ix",defaultMessage:"AI that can help with brainstorming, researching, planning, and more. Just ask."})}),o.jsx(oe,{color:"primary",size:"large",className:"mb-4",onClick:()=>{n(),t()},children:o.jsx(N,C({},tn.gotItButtonText))}),o.jsx("div",{className:"text-token-text-tertiary text-xs",children:o.jsx(N,P(C({},a),{values:{learnMoreLink:i=>o.jsx("a",{className:"underline",href:"https://help.openai.com/en/articles/9737562",rel:"noreferrer",target:"_blank",children:i})}}))})]})})},CR=pe({trainingDisclaimer:{id:"hebnC4",defaultMessage:"Chats may be reviewed and used to train our models. You can opt out in settings. <learnMoreLink>Learn more</learnMoreLink>"},safetyAndAbuseDisclaimer:{id:"KpKqVi",defaultMessage:"Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"}});function Lre(){const[t]=kr();return t.get("promoCode")}const JCt=({onClose:t})=>{const e=q(),n=Fu(),r=g0(tn.signUpButtonText),s=n?"center":"bottom",a=Lre();if(g.useEffect(()=>{a?B.logEventWithStatsig("No Auth Promo Redemption Modal Shown","chatgpt_no_auth_promo_redemption_modal_shown",{promoCode:a}):console.warn("Mounted NoAuthPromoRedemptionModal without a valid promo code")},[a]),!a)return null;const i="/p/".concat(a);return o.jsx(tt,{testId:"modal-no-auth-promo-redemption",isOpen:!0,onClose:_n,shouldIgnoreClickOutside:!0,showCloseButton:!1,type:"success",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:s,children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[o.jsx("p",{className:"mb-6 text-center text-2xl font-semibold",children:o.jsx(N,C({},_R.title))}),o.jsx(oe,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3",onClick:()=>{dn(e,{fallbackScreenHint:"login",callback:l=>{B.logLogInButtonClicked({provider:l,location:"No Auth Promo Redemption Modal"})},callbackUrl:i})},children:o.jsx(N,C({},tn.logInButtonText))}),o.jsx(oe,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{dn(e,{fallbackScreenHint:"signup",callback:l=>{B.logSignUpButtonClicked({provider:l,location:"No Auth Promo Redemption Modal"})},callbackUrl:i})},children:o.jsx(N,C({},r))}),o.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:l=>{l.preventDefault(),B.logEventWithStatsig("No Auth Promo Redemption Modal Dismissed","chatgpt_no_auth_promo_redemption_modal_dismissed",{promoCode:a}),t()},children:o.jsx(N,C({},_R.stayLoggedOutLink))})]})})},_R=pe({title:{id:"NoAuthPromoRedemptionModal.title",defaultMessage:"Log in or sign up to redeem your promotion"},stayLoggedOutLink:{id:"NoAuthPromoRedemptionModal.stayLoggedOut",defaultMessage:"Stay logged out"}});function XCt(){const{isUnauthenticated:t,isLoading:e}=An();return{isOpen:Lre()!=null&&t,isLoading:e}}const oOe=60*60*24*30*12;function iOe(){var l;const{isLoading:t,data:e}=ut(GK),n=g.useRef(lOe()),r=(l=e==null?void 0:e.email)!=null?l:null,s=g.useCallback(()=>{n.current&&e?B.logEventWithStatsig("Punch Out Anon To Authed Modal Shown","chatgpt_punch_out_anon_to_authed_modal_shown"):console.warn("PunchOutAnonToAuthedModal is being mounted without a user and a token")},[e]),a=c=>{B.logEventWithStatsig("Punch Out Anon To Authed Modal Continue Button Clicked","chatgpt_punch_out_anon_to_authed_modal_continue_button_clicked"),wR(),cOe(),window.location.href="/continue_from_api?token=".concat(c)},i=()=>{wR(),B.logEventWithStatsig("Punch Out Anon To Authed Modal Cancel Button Clicked","chatgpt_punch_out_anon_to_authed_modal_cancel_button_clicked")};return t?{email:null,onCancelButtonClick:i,onContinueButtonClick:a,onMount:s,state:"loading",token:null}:n.current&&r?{email:r,onCancelButtonClick:i,onContinueButtonClick:a,onMount:s,state:"show",token:n.current}:{email:null,onCancelButtonClick:i,onContinueButtonClick:a,onMount:s,state:"hide",token:null}}function lOe(){var t;return(t=or.getCookie(ir.PunchOutRequireAnonToAuthedToken))!=null?t:null}function wR(){return or.deleteCookie(ir.PunchOutRequireAnonToAuthedToken)}function cOe(){or.setCookie(ir.PunchOutAnonToAuthedEnabled,"true",{maxAge:oOe})}const e_t=({onClose:t})=>{const{onCancelButtonClick:e,onContinueButtonClick:n,onMount:r,token:s,email:a,state:i}=iOe(),c=ha()?"medium":"large";return g.useEffect(r,[r]),i!=="show"?null:o.jsx(tt,{testId:"modal-punch-out-anon-to-authed",isOpen:!0,noPadding:!0,onClose:_n,shouldIgnoreClickOutside:!0,showCloseButton:!1,size:"custom",type:"success",className:"max-w-md",children:o.jsxs("div",{className:"flex flex-col p-6",children:[o.jsx("div",{className:"mb-2 text-center text-xl font-medium md:text-start",children:o.jsx(N,{id:"qAel0I",defaultMessage:"Always open in ChatGPT?"})}),o.jsx("div",{className:"text-token-text-secondary mb-6 text-center md:text-start",children:o.jsx(N,{id:"9Pb+Og",defaultMessage:"Chats you open from Siri will be saved in your account <emailContainer>({email})</emailContainer>.",values:{emailContainer:u=>o.jsx("span",{className:"font-medium",children:u}),email:a}})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row-reverse md:gap-2 md:self-end",children:[o.jsx(oe,{color:"primary",size:c,onClick:()=>n(s),children:o.jsx(N,C({},tn.continueButtonText))}),o.jsx(oe,{color:"secondary",size:c,onClick:()=>{e(),t()},children:o.jsx(N,C({},tn.cancelButtonText))})]})]})})},ar=Je(()=>Ve(()=>import("./nfea17qzp13xugdb.js").then(t=>t.F),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45])).then(t=>t.FormattedText));function uOe(){return g.use(ar.prefetch()),null}function Rre({workspaceId:t,enabled:e=!0}){return ut({queryKey:["workspace-policy",t],queryFn:t?()=>ue.safeGet("/accounts/{account_id}/workspace_policy",{parameters:{path:{account_id:t}}}):tM,enabled:!!t&&e})}function t_t(t){const e=pt();return Vt({mutationFn:n=>ue.safePost("/accounts/{account_id}/workspace_policy",{parameters:{path:{account_id:t}},requestBody:{workspace_policy:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["workspace-policy",t]})}})}const Ore=We.hasSeenWorkSpacePolicy,n_t=()=>{var c;const t=hs(za.workspaceId),{eligible:e,isLoading:n}=$e(Ore),{data:r,isLoading:s}=pf(t!=null?t:void 0),a=!!((c=r==null?void 0:r.beta_settings)!=null&&c.workspace_policy),{data:i,isLoading:l}=Rre({workspaceId:t!=null?t:void 0,enabled:a&&e});return t?n||s||l?{isLoading:!0,isOpen:!1}:!e||!a||!i?{isLoading:!1,isOpen:!1}:{isLoading:!1,isOpen:!0}:{isLoading:!1,isOpen:!1}},r_t=({onClose:t})=>{var d;const e=Z(),{markAsViewed:n}=$e(Ore),r=hs(za.workspaceId),{data:s,isLoading:a}=Rre({workspaceId:r!=null?r:void 0}),i=hs(za.isBusinessWorkspace),l=hs(f=>f.currentWorkspace);if(!Vd)return null;const c=e.formatMessage(SR.workspaceWelcome,{workspaceName:l==null?void 0:l.name}),u=()=>{t(),n()};return o.jsx(tt,{testId:"modal-workspace-policy",isOpen:!0,onClose:u,type:"success",icon:i?o.jsx(Vd,{size:"small",src:l==null?void 0:l.profilePictureUrl}):void 0,title:c,size:"xlarge",shouldIgnoreClickOutside:!0,className:"h-[50vh]! min-h-[500px]!",children:a?o.jsx(On,{}):o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsx(ar,{size:"small",className:"px-4 md:px-6",children:(d=s==null?void 0:s.workspace_policy)!=null?d:""}),o.jsx("div",{className:"flex flex-row justify-end",children:o.jsx(Ga,{title:e.formatMessage(SR.gettingStartedButton),onClick:u,color:"primary"})})]})})},SR=pe({workspaceWelcome:{id:"BlockingInitialModals.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} workspace"},gettingStartedButton:{id:"BlockingInitialModals.acknowledgeButton",defaultMessage:"Acknowledge"}}),bc=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M16.835 9.99968C16.8348 6.49038 13.8111 3.58171 10 3.58171C6.18893 3.58171 3.16523 6.49038 3.16504 9.99968C3.16504 11.4535 3.67943 12.7965 4.55273 13.8766C4.67524 14.0281 4.72534 14.2262 4.68945 14.4176C4.59391 14.9254 4.45927 15.4197 4.30469 15.904C4.93198 15.8203 5.5368 15.6959 6.12793 15.528L6.25391 15.5055C6.38088 15.4949 6.5091 15.5208 6.62305 15.5817C7.61731 16.1135 8.76917 16.4186 10 16.4186C13.8112 16.4186 16.835 13.5091 16.835 9.99968ZM18.165 9.99968C18.165 14.3143 14.4731 17.7487 10 17.7487C8.64395 17.7487 7.36288 17.4332 6.23438 16.8757C5.31485 17.118 4.36919 17.2694 3.37402 17.3307C3.14827 17.3446 2.93067 17.2426 2.79688 17.0602C2.66303 16.8778 2.63177 16.6396 2.71289 16.4284L2.91992 15.863C3.08238 15.3953 3.21908 14.9297 3.32227 14.4606C2.38719 13.2019 1.83496 11.6626 1.83496 9.99968C1.83515 5.68525 5.52703 2.25163 10 2.25163C14.473 2.25163 18.1649 5.68525 18.165 9.99968Z"})),s_t=Object.freeze(Object.defineProperty({__proto__:null,default:bc},Symbol.toStringTag,{value:"Module"})),dOe=We.Onboarding,Ij=()=>{const{eligible:t,markAsViewed:e,isLoading:n}=$e(dOe);return{setHasSeenOnboarding:e,hasSeenOnboardingDate:n?null:!t}},a_t=()=>{const{eligible:t,markAsViewed:e,isLoading:n}=$e(We.TeamOwnerOnboarding);return{setHasSeenTeamOwnerOnboarding:e,hasSeenTeamOwnerOnboardingDate:n?null:!t}};function fOe({onClose:t,scope:e}){const{setHasSeenOnboarding:n}=Ij(),r=g.useCallback(()=>{t(!0),n()},[t,n]);return e===mE.Personal?o.jsx(pOe,{onSubmit:r}):o.jsx(gOe,{onSubmit:()=>{t(!0)}})}const md=({icon:t,title:e,body:n})=>o.jsxs("div",{className:"flex flex-col gap-2 md:w-1/3",children:[o.jsxs("div",{className:"flex flex-row items-start gap-2",children:[o.jsx("div",{className:"mt-1",children:t}),o.jsx("div",{className:"text-token-text-primary font-semibold",children:e})]}),o.jsx("div",{className:"text-token-text-secondary text-sm",children:n})]}),mOe="https://help.openai.com/en/articles/7039943-data-usage-for-consumer-services-faq",pOe=({onSubmit:t})=>{const e=Z();return o.jsxs("div",{className:"flex flex-col gap-3 p-4 md:p-6",children:[o.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[o.jsx(md,{icon:o.jsx(bc,{isSolid:!0,className:"icon text-green-600"}),title:o.jsx(N,C({},fs.askAway)),body:o.jsx(N,C({},fs.askAwayBody))}),o.jsx(md,{icon:o.jsx(U3e,{className:"icon text-brand-purple"}),title:o.jsx(N,C({},fs.warning)),body:o.jsx(N,P(C({},fs.warningBody),{values:{article:n=>o.jsx("a",{href:mOe,target:"_blank",className:"underline",rel:"noopener noreferrer",children:n})}}))}),o.jsx(md,{icon:o.jsx(EY,{className:"icon mt-0.5 text-orange-300"}),title:o.jsx(N,C({},fs.accuracy)),body:o.jsx(N,C({},fs.accuracyBody))})]}),o.jsx("div",{className:"flex flex-row justify-end",children:o.jsx(Ga,{title:e.formatMessage(fs.gettingStartedButton),onClick:t,color:"primary","data-testid":"getting-started-button"})})]})},gOe=({onSubmit:t})=>{const e=Z();return o.jsxs("div",{className:"flex flex-col gap-6 p-4 md:p-6",children:[o.jsxs("div",{className:"flex flex-col gap-6 md:flex-row",children:[o.jsx(md,{icon:o.jsx(Ua,{className:"icon text-brand-purple"}),title:o.jsx(N,C({},fs.workUse)),body:o.jsx(N,C({},fs.workUseBody))}),o.jsx(md,{icon:o.jsx(bc,{className:"icon text-green-600"}),title:o.jsx(N,C({},fs.askAway)),body:o.jsx(N,C({},fs.askAwayBody))}),o.jsx(md,{icon:o.jsx(EY,{className:"icon mt-0.5 text-orange-300"}),title:o.jsx(N,C({},fs.accuracy)),body:o.jsx(N,C({},fs.accuracyBody))})]}),o.jsx("div",{className:"flex flex-row justify-end",children:o.jsx(Ga,{title:e.formatMessage(fs.gettingStartedButton),onClick:t,color:"primary"})})]})},fs=pe({askAway:{id:"onboarding.askAway",defaultMessage:"Ask away"},askAwayBody:{id:"onboarding.askAwayBody",defaultMessage:"ChatGPT can answer questions, help you learn, write code, brainstorm together, and much more."},warning:{id:"onboarding.warning",defaultMessage:"Donât share sensitive info"},warningBody:{id:"onboarding.warningBody",defaultMessage:"Chat history may be reviewed or used to improve our services. Learn more about your choices in our <article>Help Center</article>."},accuracy:{id:"onboarding.accuracy",defaultMessage:"Check your facts"},accuracyBody:{id:"onboarding.accuracyBody",defaultMessage:"While we have safeguards, ChatGPT may give you inaccurate information. Itâs not intended to give advice."},gettingStartedButton:{id:"onboarding.gettingStartedButton",defaultMessage:"Okay, letâs go"},workspaceWelcome:{id:"onboarding.workspaceWelcome",defaultMessage:"Welcome to the {workspaceName} Workspace"},workspaceWelcomeNoName:{id:"onboarding.workspaceWelcomeNoName",defaultMessage:"Welcome to the your Workspace"},workspaceWelcomeBody:{id:"onboarding.workspaceWelcomeBody",defaultMessage:"Here you can use our latest models, with more capabilities, and fewer limits."},workUse:{id:"onboarding.workUse",defaultMessage:"Made for use at work"},workUseBody:{id:"onboarding.workUseBody",defaultMessage:"By default, chats in this workspace are not used to train our AI models."}}),er=pe({marketing:{id:"onboarding.departments.marketing",defaultMessage:"Marketing"},analytics:{id:"onboarding.departments.analytics",defaultMessage:"Data or Analytics"},product:{id:"onboarding.departments.product",defaultMessage:"Product Management"},comms:{id:"onboarding.departments.comms",defaultMessage:"Communications"},finance:{id:"onboarding.departments.finance",defaultMessage:"Finance or Accounting"},customer_experience:{id:"onboarding.departments.customer_experience",defaultMessage:"Customer Experience"},project_management:{id:"onboarding.departments.project_management",defaultMessage:"Project or Program Management"},engineering:{id:"onboarding.departments.engineering",defaultMessage:"Engineering"},education_professional:{id:"onboarding.departments.education_professional",defaultMessage:"Education Professional"},design:{id:"onboarding.departments.design",defaultMessage:"Design"},administrative:{id:"onboarding.departments.administrative",defaultMessage:"Administrative Assistant"},partnerships:{id:"onboarding.departments.partnerships",defaultMessage:"Partnerships"},it:{id:"onboarding.departments.it",defaultMessage:"Information Technology (IT)"},ops:{id:"onboarding.departments.ops",defaultMessage:"Operations"},human_resources:{id:"onboarding.departments.human_resources",defaultMessage:"Human Resources"},research:{id:"onboarding.departments.research",defaultMessage:"Research & Development"},sales:{id:"onboarding.departments.sales",defaultMessage:"Sales"},legal:{id:"onboarding.departments.legal",defaultMessage:"Legal"},healthcare:{id:"onboarding.departments.healthcare",defaultMessage:"Healthcare Professional"},other:{id:"onboarding.departments.other",defaultMessage:"Other"}}),Ur=pe({engineering:{id:"onboarding.edu_departments.engineering",defaultMessage:"Engineering"},math:{id:"onboarding.edu_departments.math",defaultMessage:"Mathematics"},applied_sciences:{id:"onboarding.edu_departments.applied_sciences",defaultMessage:"Applied Sciences"},finance:{id:"onboarding.edu_departments.finance",defaultMessage:"Finance or Accounting"},health:{id:"onboarding.edu_departments.health",defaultMessage:"Health or Medical"},law:{id:"onboarding.edu_departments.law",defaultMessage:"Law"},business:{id:"onboarding.edu_departments.business",defaultMessage:"Business"},social:{id:"onboarding.edu_departments.social",defaultMessage:"Social Sciences"},liberal_art:{id:"onboarding.edu_departments.liberal_art",defaultMessage:"Liberal Arts"},fine_art:{id:"onboarding.edu_departments.fine_art",defaultMessage:"Fine Arts"},linguistics:{id:"onboarding.edu_departments.linguistics",defaultMessage:"Linguistics"},teaching:{id:"onboarding.edu_departments.teaching",defaultMessage:"Teaching"},dev:{id:"onboarding.edu_departments.dev",defaultMessage:"Research & Development"},campus_ops:{id:"onboarding.edu_departments.campus_ops",defaultMessage:"Campus Operations"},it:{id:"onboarding.edu_departments.it",defaultMessage:"Information Technology (IT)"},other:{id:"onboarding.edu_departments.other",defaultMessage:"Other"}}),ml=pe({team_member:{id:"onboarding.role.team_member",defaultMessage:"Team Member/ Individual Contributor"},manager:{id:"onboarding.role.manager",defaultMessage:"Manager"},student:{id:"onboarding.role.student",defaultMessage:"Student"},executive:{id:"onboarding.role.executive",defaultMessage:"Executive"},director:{id:"onboarding.role.director",defaultMessage:"Director"},business_owner:{id:"onboarding.role.business_owner",defaultMessage:"Business Owner"},freelancer:{id:"onboarding.role.freelancer",defaultMessage:"Freelancer"},other:{id:"onboarding.role.other",defaultMessage:"Other"}}),E1=pe({student:{id:"onboarding.edu_role.student",defaultMessage:"Student"},instructional_staff:{id:"onboarding.edu_role.instructional_staff",defaultMessage:"Instructional Staff"},researcher:{id:"onboarding.edu_role.researcher",defaultMessage:"Researcher"},admin:{id:"onboarding.edu_role.admin",defaultMessage:"Administration"},alumni:{id:"onboarding.edu_role.alumni",defaultMessage:"Alumni"},other:{id:"onboarding.edu_role.other",defaultMessage:"Other"}}),hOe=[{id:"team_member",displayValue:ml.team_member},{id:"manager",displayValue:ml.manager},{id:"student",displayValue:ml.student},{id:"executive",displayValue:ml.executive},{id:"director",displayValue:ml.director},{id:"business_owner",displayValue:ml.business_owner},{id:"freelancer",displayValue:ml.freelancer},{id:"other",displayValue:ml.other}],vOe=[{id:"student",displayValue:E1.student},{id:"instructional_staff",displayValue:E1.instructional_staff},{id:"researcher",displayValue:E1.researcher},{id:"admin",displayValue:E1.admin},{id:"alumni",displayValue:E1.alumni},{id:"other",displayValue:E1.other}],yOe=[{id:"marketing",displayValue:er.marketing},{id:"analytics",displayValue:er.analytics},{id:"product",displayValue:er.product},{id:"comms",displayValue:er.comms},{id:"engineering",displayValue:er.engineering},{id:"education_professional",displayValue:er.education_professional},{id:"finance",displayValue:er.finance},{id:"customer_experience",displayValue:er.customer_experience},{id:"project_management",displayValue:er.project_management},{id:"design",displayValue:er.design},{id:"administrative",displayValue:er.administrative},{id:"it",displayValue:er.it},{id:"ops",displayValue:er.ops},{id:"human_resources",displayValue:er.human_resources},{id:"research",displayValue:er.research},{id:"sales",displayValue:er.sales},{id:"partnerships",displayValue:er.partnerships},{id:"legal",displayValue:er.legal},{id:"healthcare",displayValue:er.healthcare},{id:"other",displayValue:er.other}],xOe=[{id:"engineering",displayValue:Ur.engineering},{id:"math",displayValue:Ur.math},{id:"applied_sciences",displayValue:Ur.applied_sciences},{id:"finance",displayValue:Ur.finance},{id:"health",displayValue:Ur.health},{id:"law",displayValue:Ur.law},{id:"business",displayValue:Ur.business},{id:"social",displayValue:Ur.social},{id:"liberal_art",displayValue:Ur.liberal_art},{id:"fine_art",displayValue:Ur.fine_art},{id:"linguistics",displayValue:Ur.linguistics},{id:"teaching",displayValue:Ur.teaching},{id:"dev",displayValue:Ur.dev},{id:"campus_ops",displayValue:Ur.campus_ops},{id:"it",displayValue:Ur.it},{id:"other",displayValue:Ur.other}],o_t=[{id:"2-10",displayValue:"2-10"},{id:"11-50",displayValue:"11-50"},{id:"51-200",displayValue:"51-200"},{id:"201-500",displayValue:"201-500"},{id:"500+",displayValue:"500+"}],bOe="g-68c9a4676c8c81918d99178b55901b9a",COe=({onContinue:t,scope:e})=>{const n=Z(),r=pE();return o.jsx(tt,{testId:"modal-initial-workspace-onboarding",isOpen:!0,onClose:_n,type:"success",title:n.formatMessage(To.chatgptTitle,{workspaceName:r}),size:"custom",noPadding:!0,className:"max-w-2xl",children:o.jsx(fOe,{onClose:()=>{t()},scope:e})})},_Oe=({onContinue:t,onSkip:e,isEduPlan:n})=>{const r=Z();return o.jsx(tt,{testId:"modal-role-survey",isOpen:!0,onClose:_n,type:"success",title:r.formatMessage(To.primaryRoleTitle),size:"custom",className:"max-w-lg",children:o.jsx(Dre,{options:n?vOe:hOe,onSkip:e,onSubmit:t})})},wOe=({onContinue:t,onSkip:e,isEduPlan:n})=>{const r=Z();return o.jsx(tt,{testId:"modal-department-survey",isOpen:!0,onClose:_n,type:"success",title:r.formatMessage(To.workTypeTitle),size:"custom",className:"max-w-lg",children:o.jsx(Dre,{options:n?xOe:yOe,onSkip:e,onSubmit:t,multiSelect:!0})})};function Dre({options:t,onSkip:e=_n,onSubmit:n=_n,multiSelect:r=!1}){const s=Z(),[a,i]=g.useState([]);function l(u,d){const f=u.indexOf(d);return f===-1?[...u,d]:[...u.slice(0,f),...u.slice(f+1)]}const c=g.useCallback(u=>{var f;const d=(f=u.currentTarget.dataset.value)!=null?f:"";r?i(l(a,d)):n(d)},[n,a,i,r]);return o.jsxs("div",{children:[r&&o.jsx("p",{className:"text-token-text-tertiary mx-2 text-sm",children:s.formatMessage(To.selectAll)}),o.jsx("div",{className:"flex flex-col items-center justify-center",children:o.jsx("div",{className:"flex-wrap space-y-4",children:t.map(u=>o.jsx(oe,{onClick:c,color:a.includes(u.id)?"primary":"secondary",size:"medium",className:"mx-2","data-value":u.id,children:o.jsx(N,C({},u.displayValue))},u.id))})}),o.jsxs("div",{className:"mt-4 flex flex-row justify-end",children:[o.jsx(Ga,{title:s.formatMessage(To.skipButton),onClick:e}),r&&o.jsx(Ga,{title:s.formatMessage(To.continueButton),onClick:()=>{n(a)},disabled:a.length===0,color:"primary",className:"ms-4"})]})]})}const SOe=({onYes:t,onSkip:e})=>{const n=Z();return o.jsx(tt,{testId:"modal-chat-onboarding",isOpen:!0,onClose:_n,type:"success",title:n.formatMessage(To.chatOnboardingTitle),size:"custom",className:"max-w-lg",children:o.jsxs("div",{className:"px-4 pb-2",children:[o.jsx("p",{className:"text-token-text-secondary mb-4 text-sm",children:n.formatMessage(To.chatOnboardingDescription)}),o.jsxs("div",{className:"mt-4 flex flex-row justify-end gap-3",children:[o.jsx(Ga,{title:n.formatMessage(To.skipButton),onClick:e}),o.jsx(Ga,{title:n.formatMessage(To.yesButton),onClick:t,color:"primary"})]})]})})};function i_t({onClose:t}){var p;const e=q(),n=(p=ie(e,"2839926172"))!=null?p:!1,{setHasSeenOnboarding:r}=Ij(),[s,a]=g.useState(0),[i,l]=g.useState({role:"",departments:[]}),c=hs(za.workspaceId),u=hs(za.isEduPlan),d=Wt(),f=d==null?void 0:d.id,m=()=>{Le.logEvent("chatgpt_biz_onboarding_skipped"),B.logEvent("Business Onboarding Skipped"),t(),r()};switch(s){case 0:return o.jsx(COe,{scope:mE.Workspace,onContinue:()=>{a(1)}});case 1:return o.jsx(_Oe,{onContinue:h=>{l(v=>P(C({},v),{role:h})),a(2)},onSkip:m,isEduPlan:u});case 2:return o.jsx(wOe,{onContinue:h=>{const v=P(C({},i),{departments:h});Le.logEvent("chatgpt_biz_onboarding_completed"),B.logEvent("Business Onboarding Completed"),ue.safePatch("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:c,user_id:f}},requestBody:{onboarding_information:v}}).finally(()=>{n?a(3):(t(),r())})},onSkip:m,isEduPlan:u});case 3:return o.jsx(SOe,{onSkip:m,onYes:()=>{if(typeof window<"u"){const h=jM(bOe);window.location.assign(h)}t(),r()}});default:return o.jsx(o.Fragment,{})}}const To=pe({chatgptTitle:{id:"onboarding.chatgptTitle.0",defaultMessage:"Welcome to the {workspaceName} workspace"},chatgptQuorumTitle:{id:"onboarding.chatgptQuorumTitle",defaultMessage:"Welcome to the {workspaceName} workspace!"},primaryRoleTitle:{id:"onboarding.primaryRoleTitle",defaultMessage:"What's your primary role?"},workTypeTitle:{id:"onboarding.workTypeTitle",defaultMessage:"What kind of work do you do?"},selectAll:{id:"onboarding.selectAll",defaultMessage:"Select all that apply"},skipButton:{id:"onboarding.skipButton",defaultMessage:"Skip"},continueButton:{id:"onboarding.continueButton",defaultMessage:"Continue"},yesButton:{id:"onboarding.yesButton",defaultMessage:"Yes"},chatOnboardingTitle:{id:"onboarding.chatOnboardingTitle",defaultMessage:"Meet Your Onboarding Buddy GPT?"},chatOnboardingDescription:{id:"onboarding.chatOnboardingDescription",defaultMessage:"Brainstorm ways to get the most out of ChatGPT with a personal onboarding buddy."}});function kOe(){const t=q(),e=yt(t),{data:n,isLoading:r,isError:s}=pf(e==null?void 0:e.getWorkspaceId()),a=q(),i=ie(a,"616577762");return!(e!=null&&e.isEnterprisey())||i?"ENABLED":r&&n==null?"LOADING":s?"ERROR":n!=null&&n.beta_settings.wham_access?"ENABLED":"DISABLED"}var kR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function MOe(t,e){return!!(t===e||kR(t)&&kR(e))}function EOe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!MOe(t[n],e[n]))return!1;return!0}function Cc(t,e){e===void 0&&(e=EOe);var n=null;function r(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var i=t.apply(this,s);return n={lastResult:i,lastArgs:s,lastThis:this},i}return r.clear=function(){n=null},r}const jOe=Cc(()=>Ve(()=>import("./bf4ph5zbt0oviepg.js"),__vite__mapDeps([46,1,47,48,4,5])).then(t=>t.AnimatedIconImpl));function H5({animationLoader:t,StaticIcon:e,staticFrameIndex:n}){const r=({className:s})=>o.jsx(e,{className:s});return Je(async()=>{const[s,a]=await Promise.all([t(),jOe()]),i=C({},s);return l=>o.jsx(a,C({animationData:i,StaticIcon:e,staticFrameIndex:n},l))},{loading:r,fallback:r})}const Lj=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM13.333 11.418L13.4678 11.4316C13.7705 11.4938 13.9979 11.7619 13.998 12.083C13.998 12.4042 13.7706 12.6722 13.4678 12.7344L13.333 12.748H10.833C10.4659 12.7479 10.168 12.4502 10.168 12.083C10.1681 11.716 10.466 11.4181 10.833 11.418H13.333ZM7.65332 12.4258C7.46427 12.7404 7.05603 12.8422 6.74121 12.6533C6.42642 12.4644 6.32391 12.0561 6.5127 11.7412L7.65332 12.4258ZM8.90332 9.6582C9.02956 9.86872 9.02956 10.1313 8.90332 10.3418L7.65332 12.4258L7.08301 12.083L6.5127 11.7412L7.55664 10L6.5127 8.25879L7.08301 7.91699L7.65332 7.57422L8.90332 9.6582ZM6.74121 7.34668C7.05603 7.15779 7.46427 7.25955 7.65332 7.57422L6.5127 8.25879C6.32391 7.94392 6.42642 7.53563 6.74121 7.34668ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),l_t=Object.freeze(Object.defineProperty({__proto__:null,default:Lj},Symbol.toStringTag,{value:"Module"})),TOe={red:"bg-red-500",yellow:"bg-yellow-500",blue:"bg-blue-500"},NOe={sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4"},Fre=({color:t,size:e="sm",className:n})=>o.jsx("div",{className:U("rounded-full",t?TOe[t]:void 0,NOe[e],n)}),Bre=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M3.50171 12.6663V7.33333C3.50171 6.64424 3.50106 6.08728 3.53784 5.63704C3.57525 5.17925 3.65463 4.77342 3.84644 4.39681L3.96851 4.17806C4.2726 3.68235 4.70919 3.2785 5.23023 3.01302L5.3728 2.94661C5.7091 2.80238 6.06981 2.73717 6.47046 2.70443C6.9207 2.66764 7.47766 2.66829 8.16675 2.66829H9.16675L9.30054 2.68197C9.60367 2.7439 9.83179 3.0119 9.83179 3.33333C9.83179 3.65476 9.60367 3.92277 9.30054 3.9847L9.16675 3.99837H8.16675C7.45571 3.99837 6.96238 3.99926 6.57886 4.0306C6.297 4.05363 6.10737 4.09049 5.96362 4.14193L5.83374 4.19857C5.53148 4.35259 5.27861 4.58671 5.1023 4.87435L5.03198 5.00032C4.95147 5.15833 4.89472 5.36974 4.86401 5.74544C4.83268 6.12896 4.83179 6.6223 4.83179 7.33333V12.6663C4.83179 13.3772 4.8327 13.8707 4.86401 14.2542C4.8947 14.6298 4.95153 14.8414 5.03198 14.9993L5.1023 15.1263C5.27861 15.4137 5.53163 15.6482 5.83374 15.8021L5.96362 15.8577C6.1074 15.9092 6.29691 15.947 6.57886 15.9701C6.96238 16.0014 7.45571 16.0013 8.16675 16.0013H9.16675L9.30054 16.015C9.6036 16.0769 9.83163 16.345 9.83179 16.6663C9.83179 16.9877 9.60363 17.2558 9.30054 17.3177L9.16675 17.3314H8.16675C7.47766 17.3314 6.9207 17.332 6.47046 17.2952C6.06978 17.2625 5.70912 17.1973 5.3728 17.0531L5.23023 16.9867C4.70911 16.7211 4.27261 16.3174 3.96851 15.8216L3.84644 15.6038C3.65447 15.2271 3.57526 14.8206 3.53784 14.3626C3.50107 13.9124 3.50171 13.3553 3.50171 12.6663ZM13.8035 13.804C13.5438 14.0634 13.1226 14.0635 12.863 13.804C12.6033 13.5443 12.6033 13.1223 12.863 12.8626L13.8035 13.804ZM12.863 6.19661C13.0903 5.96939 13.4409 5.94126 13.699 6.11165L13.8035 6.19661L17.1375 9.52962C17.3969 9.78923 17.3968 10.2104 17.1375 10.4701L13.8035 13.804L13.3337 13.3333L12.863 12.8626L15.0603 10.6654H9.16675C8.79959 10.6654 8.50189 10.3674 8.50171 10.0003C8.50171 9.63306 8.79948 9.33529 9.16675 9.33529H15.0613L12.863 7.13704L12.7781 7.03255C12.6077 6.77449 12.6359 6.42386 12.863 6.19661Z"})),c_t=Object.freeze(Object.defineProperty({__proto__:null,default:Bre},Symbol.toStringTag,{value:"Module"})),Ure=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.002 10.665H10.665V16.835H14.167C15.1803 16.8348 16.002 16.0133 16.002 15V10.665ZM3.99805 15C3.99805 16.0133 4.81972 16.8348 5.83301 16.835H9.33496V10.665H3.99805V15ZM16.835 8.33301C16.8348 7.77995 16.3861 7.33203 15.833 7.33203H10.665V9.33496H16.667C16.7597 9.33478 16.8348 9.2597 16.835 9.16699V8.33301ZM3.16504 9.16699C3.16521 9.2597 3.2403 9.33479 3.33301 9.33496H9.33496V7.33203H4.16699C3.61389 7.33203 3.16521 7.77995 3.16504 8.33301V9.16699ZM9.33496 4.58301C9.33479 3.79994 8.70006 3.16521 7.91699 3.16504C7.13378 3.16504 6.49822 3.79983 6.49805 4.58301C6.49805 5.36633 7.13367 6.00195 7.91699 6.00195H9.33496V4.58301ZM10.665 6.00195H12.083C12.8663 6.00195 13.502 5.36633 13.502 4.58301C13.5018 3.79983 12.8662 3.16504 12.083 3.16504C11.2999 3.16521 10.6652 3.79994 10.665 4.58301V6.00195ZM14.832 4.58301C14.832 5.10264 14.6852 5.58752 14.4346 6.00195H15.833C17.1206 6.00195 18.1649 7.04541 18.165 8.33301V9.16699C18.1649 9.75495 17.825 10.2616 17.332 10.5068V15C17.332 16.7479 15.9148 18.1649 14.167 18.165H5.83301C4.08518 18.1649 2.66797 16.7479 2.66797 15V10.5068C2.17498 10.2616 1.83509 9.75495 1.83496 9.16699V8.33301C1.83514 7.04541 2.87936 6.00195 4.16699 6.00195H5.56543C5.31485 5.58752 5.16797 5.10264 5.16797 4.58301C5.16814 3.06529 6.39924 1.83496 7.91699 1.83496C8.75066 1.83506 9.49604 2.20774 10 2.79395C10.504 2.20774 11.2493 1.83506 12.083 1.83496C13.6008 1.83496 14.8319 3.0653 14.832 4.58301Z"})),u_t=Object.freeze(Object.defineProperty({__proto__:null,default:Ure},Symbol.toStringTag,{value:"Module"})),AOe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.9951 7.32999C15.9951 6.61895 15.9942 6.12562 15.9629 5.7421C15.9398 5.46005 15.9021 5.27065 15.8506 5.12686L15.7949 4.99698C15.6409 4.69473 15.4068 4.44185 15.1191 4.26553L14.9932 4.19522C14.8352 4.11472 14.6237 4.05796 14.248 4.02725C13.8645 3.99592 13.3712 3.99503 12.6602 3.99503H7.33008C6.61904 3.99503 6.12571 3.99592 5.74219 4.02725C5.36648 4.05795 5.15508 4.11471 4.99707 4.19522C4.65183 4.37114 4.37124 4.65174 4.19531 4.99698C4.1148 5.15499 4.05805 5.36639 4.02734 5.7421C3.99601 6.12562 3.99512 6.61895 3.99512 7.32999V12.6601C3.99512 13.3711 3.99601 13.8645 4.02734 14.248C4.05805 14.6236 4.11481 14.8351 4.19531 14.9931L4.26563 15.1191C4.44194 15.4067 4.69482 15.6408 4.99707 15.7948L5.12695 15.8505C5.27074 15.902 5.46014 15.9398 5.74219 15.9628C6.12571 15.9941 6.61904 15.995 7.33008 15.995H12.6602C13.3712 15.995 13.8645 15.9941 14.248 15.9628C14.6237 15.9321 14.8352 15.8753 14.9932 15.7948L15.1191 15.7245C15.4068 15.5482 15.6409 15.2953 15.7949 14.9931L15.8506 14.8632C15.9021 14.7194 15.9398 14.53 15.9629 14.248C15.9942 13.8645 15.9951 13.3711 15.9951 12.6601V7.32999ZM17.3252 12.6601C17.3252 13.3491 17.3258 13.9061 17.2891 14.3564C17.2563 14.757 17.1911 15.1177 17.0469 15.454L16.9805 15.5966C16.7149 16.1179 16.3105 16.5542 15.8145 16.8583L15.5967 16.9804C15.2201 17.1722 14.8142 17.2516 14.3564 17.289C13.9062 17.3258 13.3492 17.3251 12.6602 17.3251H7.33008C6.64099 17.3251 6.08403 17.3258 5.63379 17.289C5.23315 17.2562 4.87242 17.191 4.53613 17.0468L4.39356 16.9804C3.87229 16.7148 3.43595 16.3104 3.13184 15.8144L3.00977 15.5966C2.81795 15.22 2.73859 14.8141 2.70117 14.3564C2.66439 13.9061 2.66504 13.3491 2.66504 12.6601V7.32999C2.66504 6.6409 2.66439 6.08394 2.70117 5.6337C2.73858 5.17591 2.81796 4.77008 3.00977 4.39346C3.31321 3.79793 3.79802 3.31311 4.39356 3.00967C4.77017 2.81787 5.176 2.73849 5.63379 2.70108C6.08403 2.66429 6.64099 2.66495 7.33008 2.66495H12.6602C13.3492 2.66495 13.9062 2.6643 14.3564 2.70108C14.8142 2.7385 15.2201 2.81786 15.5967 3.00967L15.8145 3.13175C16.3105 3.43586 16.7149 3.8722 16.9805 4.39346L17.0469 4.53604C17.1911 4.87233 17.2563 5.23306 17.2891 5.6337C17.3258 6.08394 17.3252 6.6409 17.3252 7.32999V12.6601Z"}),g.createElement("path",{d:"M7.42654 10.6038L9.90146 6.85393C10.1554 6.46914 10.7538 6.72067 10.6565 7.17133L10.3159 8.74999H12.2258C12.5577 8.74999 12.7564 9.11915 12.5736 9.39617L10.0987 13.146C9.8447 13.5308 9.24637 13.2793 9.34362 12.8286L9.68427 11.25H7.7743C7.44238 11.25 7.24371 10.8808 7.42654 10.6038Z"})),d_t=Object.freeze(Object.defineProperty({__proto__:null,default:AOe},Symbol.toStringTag,{value:"Module"}));function f_t(t){return Ki(t).checkGate("2067628123")}const R9="oai-chat-backend",m_t=()=>{var s;const[t,e]=g.useState(!1),[n,r]=g.useState(((s=v7.getCookie(R9))==null?void 0:s.toString())==="preview");return o.jsxs(o.Fragment,{children:[o.jsxs(J.CheckboxItem,{icon:Vs,checked:t,onCheckedChange:a=>{e(a),requestAnimationFrame(()=>{window.location.href=a?"/preview":"/public"})},children:["Preview",o.jsx(dw,{children:"web"})]}),o.jsxs(J.CheckboxItem,{icon:LE,checked:n,onCheckedChange:a=>{a?(r(!0),v7.setCookie(R9,"preview")):v7.deleteCookie(R9),window.location.reload()},children:["Preview",o.jsx(dw,{children:"sa-server"})]})]})},yh=Rt(()=>({focusedObject:null}));function Hre(){return yh(t=>t.focusedObject)}var gu=(t=>(t[t.Textdoc=0]="Textdoc",t[t.ADAVisualization=1]="ADAVisualization",t))(gu||{});const nc=Rt(()=>({focusedObject:null,fromMessageId:null})),p_t=(t,e)=>{const n=nc.getState();e!==n.fromMessageId&&nc.setState({focusedObject:t,fromMessageId:e})},hu=t=>{nc.setState({focusedObject:t,fromMessageId:null})},rc=t=>{yh.setState({focusedObject:null});const e=nc.getState(),{focusedObject:n}=e;(!n||n.type!==0||n.textdocId!==t)&&Vre(t)},Vre=t=>{hu({type:0,textdocId:t})},POe=(t,e,n)=>{hu({type:0,textdocId:t,history:e,showChangesAtVersion:n})},g_t=(t,e,n)=>{hu({type:0,textdocId:t,showChangesAtVersion:e,history:n!=null?n:void 0})},Rj=()=>{nc.setState({focusedObject:null})},IOe=()=>{nc.setState({focusedObject:null,fromMessageId:null})};var O9,MR;function LOe(){if(MR)return O9;MR=1;var t=H3e();function e(n,r,s,a){return t(n,function(i,l,c){r(a,s(i),l,c)}),a}return O9=e,O9}var D9,ER;function ROe(){if(ER)return D9;ER=1;var t=LOe();function e(n,r){return function(s,a){return t(s,n,r(a),{})}}return D9=e,D9}var F9,jR;function OOe(){if(jR)return F9;jR=1;var t=V3e(),e=ROe(),n=Hu(),r=Object.prototype,s=r.toString,a=e(function(i,l,c){l!=null&&typeof l.toString!="function"&&(l=s.call(l)),i[l]=c},t(n));return F9=a,F9}var DOe=OOe();const FOe=St(DOe);function Oj(t,e){var a,i,l,c;if(!t||e==null)return null;const{resolveTempTextdocId:n}=t,r=(a=n==null?void 0:n[e])!=null?a:e;let s=(l=(i=t.textdocById[r])!=null?i:t.textdocById[e])!=null?l:null;if(!s&&n){const u=FOe(n);s=(c=t.textdocById[u[r]])!=null?c:null}return s}var B9=x0e();const xh=Symbol(),BOe=Symbol(),UOe=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),$re=UOe?g.useEffect:g.useLayoutEffect,HOe=B9.unstable_runWithPriority?t=>{try{B9.unstable_runWithPriority(B9.unstable_NormalPriority,t)}catch(e){if(e.message==="Not implemented.")t();else throw e}}:t=>t(),VOe=t=>({value:n,children:r})=>{const s=g.useRef(n),a=g.useRef(0),[i,l]=g.useState(null);i&&(i(n),l(null));const c=g.useRef();if(!c.current){const u=new Set,d=(f,m)=>{a.current+=1;const p={n:a.current};m!=null&&m.suspense&&(p.n*=-1,p.p=new Promise(h=>{l(()=>v=>{p.v=v,delete p.p,h(v)})})),u.forEach(h=>h(p)),f()};c.current={[xh]:{v:s,n:a,l:u,u:d}}}return $re(()=>{s.current=n,a.current+=1,HOe(()=>{c.current[xh].l.forEach(u=>{u({n:a.current,v:n})})})},[n]),g.createElement(t,{value:c.current},r)};function $Oe(t){const e=g.createContext({[xh]:{v:{current:t},n:{current:-1},l:new Set,u:n=>n()}});return e[BOe]=e.Provider,e.Provider=VOe(e.Provider),delete e.Consumer,e}function qOe(t,e){const n=g.useContext(t)[xh],{v:{current:r},n:{current:s},l:a}=n,i=e(r),[l,c]=g.useReducer((u,d)=>{if(!d)return[r,i];if("p"in d)throw d.p;if(d.n===s)return Object.is(u[1],i)?u:[r,i];try{if("v"in d){if(Object.is(u[0],d.v))return u;const f=e(d.v);return Object.is(u[1],f)?u:[d.v,f]}}catch(f){}return[...u]},[r,i]);return Object.is(l[1],i)||c(),$re(()=>(a.add(c),()=>{a.delete(c)}),[a]),l[1]}var SS=(t=>(t.NATIVE="native",t.LAST_TURN="last_turn",t))(SS||{});const qre=$Oe(null);function zOe(){return{lastCanvasAssistantMessageById:{},resolveTempCommentId:{},resolveTempTextdocId:{},latestTextdocId:null}}function zre(t){return C({fetchError:null,isFetchingFromPersistence:!1,textdocById:{},allTextdocIdSet:{},streamingSource:null},t!=null?t:zOe())}function Nl(t,e){return k6(t,e)}function mp(t,e,n=!0){var s,a,i,l;const r=t.textdocById[e.textdocId];if(r)t.textdocById[e.textdocId]=r,r.metadata.type=e.type,r.metadata.title=e.title,r.metadata.updatedAt=e.createdAt,r.metadata.contentReferences=(i=e.metadata)==null?void 0:i.content_references,r.metadata.hiveId=(l=e.metadata)==null?void 0:l.hive_id,n?r.versions.push(e):r.versions[r.versions.length-1]=e;else{const c={metadata:{textdocId:e.textdocId,type:e.type,title:e.title,createdAt:e.createdAt,updatedAt:e.createdAt,contentReferences:(s=e.metadata)==null?void 0:s.content_references,hiveId:(a=e.metadata)==null?void 0:a.hive_id},versions:[e]};t.allTextdocIdSet[e.textdocId]=e.textdocId,t.textdocById[e.textdocId]=c}}var GOe=Hu();const WOe=St(GOe);function ma(t=WOe){return qOe(qre,t)}function ZOe(){return ma(t=>t==null?void 0:t.isFetchingFromPersistence)}function h_t(){return ma(t=>t==null?void 0:t.resolveTempCommentId)}function KOe(){return ma(t=>{var e;return(e=t==null?void 0:t.latestTextdocId)!=null?e:null})}function v_t(){return ma(t=>{var e;return(e=t==null?void 0:t.streamingSource)!=null?e:null})}function y_t(t){return ma(e=>Oj(e,t))}function V5(t){return ma(e=>{var n,r;return(r=(n=Oj(e,t))==null?void 0:n.metadata)!=null?r:null})}function Gre(){const t=ma(e=>e==null?void 0:e.allTextdocIdSet);return t?Object.keys(t):null}function YOe(){return ma(t=>t?Object.keys(t.allTextdocIdSet).length>1:!1)}function QOe({textdocId:t,assistantMessageId:e}){return ma(n=>{const r=n==null?void 0:n.lastCanvasAssistantMessageById;return r==null||t==null?!0:r[t]==null||r[t]===e})}function Wre(){return nc(t=>t.focusedObject)}function x_t(){const t=nc(e=>e.focusedObject);return(t==null?void 0:t.type)!==gu.Textdoc?null:t}function $5(){return Wre()!=null}function Dj(t){const e=Wre();return ma(n=>{var i,l,c;if(!t||(e==null?void 0:e.type)!==gu.Textdoc)return!1;const r=(i=n==null?void 0:n.resolveTempTextdocId)!=null?i:{},s=(l=r[e.textdocId])!=null?l:e.textdocId,a=(c=r[t])!=null?c:t;return s===a})}function Hf(t,e="/",n={}){t(e,{replace:n==null?void 0:n.replace,state:q5()})}function q5(){return{newConversationSignal:{}}}function JOe(t){var e;return(e=t.state)==null?void 0:e.newConversationSignal}function Vf(c){var u=c,{icon:t,mobileIcon:e,color:n="primary",iconClassName:r,children:s,as:a,ref:i}=u,l=de(u,["icon","mobileIcon","color","iconClassName","children","as","ref"]);let d=s;switch(t&&(d=o.jsxs(o.Fragment,{children:[o.jsx(t,{className:U(r!=null?r:"icon",e!=null&&"max-md:hidden")}),e?o.jsx(e,{className:U(r!=null?r:"icon","md:hidden")}):null]})),a){case"link":case"a":{const f=l;return o.jsx(mr,P(C({},f),{className:U(n==="primary"?"text-token-text-primary":n==="tertiary"?"text-token-text-tertiary":"text-token-text-secondary","no-draggable hover:bg-token-surface-hover keyboard-focused:bg-token-surface-hover touch:h-10 touch:w-10 flex h-9 w-9 items-center justify-center rounded-lg focus:outline-none disabled:opacity-50",l.className),ref:i,to:"/",state:q5(),children:d}))}case"button":default:{const f=l;return o.jsx("button",P(C({},f),{className:U(n==="primary"?"text-token-text-primary":n==="tertiary"?"text-token-text-tertiary":"text-token-text-secondary","no-draggable hover:bg-token-surface-hover keyboard-focused:bg-token-surface-hover touch:h-10 touch:w-10 flex h-9 w-9 items-center justify-center rounded-lg focus:outline-none disabled:opacity-50",l.className),ref:i,children:d}))}}}var z5=(t=>(t.ACCELERATOR="accelerator",t.BLOCK_COMMENT_LAUNCHER="block_comment_launcher",t.CLOSE_TEXTDOC="close_textdoc",t.COLLAPSED_COMMENT="collapsed_comment",t.COMMENT_ACCEPT="comment_accept",t.COMMENT_DISMISS="comment_dismiss",t.COPY="copy",t.DOWNLOAD="download",t.EXPANDED_COMMENT="expanded_comment",t.FILE_DRAWER_ITEM="file_drawer_item",t.HISTORY_NEXT="history_next",t.HISTORY_PREVIOUS="history_previous",t.MESSAGE_ATTACHMENT="message_attachment",t.OPEN_SHARE_MENU="open_share_menu",t.CREATE_SHARE_LINK="create_share_link",t.UPDATE_SHARE_LINK_TO_LATEST="update_share_link_to_latest",t.COPY_SHARE_LINK="copy_share_link",t.UPDATE_SHARE_LINK_PRIVATE="update_share_link_private",t.UPDATE_SHARE_LINK_PUBLIC="update_share_link_public",t.SHOW_CHANGES="show_changes",t.TOOLBAR_FORMAT_BOLD="toolbar_format_bold",t.TOOLBAR_FORMAT_HEADER1="toolbar_format_header1",t.TOOLBAR_FORMAT_HEADER2="toolbar_format_header2",t.TOOLBAR_FORMAT_HEADER3="toolbar_format_header3",t.TOOLBAR_FORMAT_ITALIC="toolbar_format_italic",t.TOOLBAR_FORMAT_PARAGRAPH="toolbar_format_paragraph",t.TOOLBAR_FORMAT_STYLE="toolbar_format_style",t.TOOLBAR_ASK_CHATGPT="toolbar_ask_chatgpt",t.EDIT_IN_CANVAS_MESSAGE="edit_in_canvas_message",t.EDIT_IN_CANVAS_CODE_SNIPPET="edit_in_canvas_code_snippet",t.OPEN_IN_CANVAS_WRITING_BLOCK="open_in_canvas_writing_block",t.SAVE_TO_CHAT_ON_EDITOR_CLOSE="save_to_chat_on_editor_close",t.CLOSE_WITHOUT_SAVING="close_without_saving",t.LEARN_MODE_ABOUT_NETWORK_REQUESTS="learn_more_about_network_requests",t))(z5||{}),bh=(t=>(t.Unknown="unknown",t.ShowToast="show_toast",t.CanvasMessage="canvas_message",t.TurnComplete="turn_complete",t))(bh||{});const XOe={canvas_message:Mo({message:jY}),turn_complete:Mo({}),unknown:Mo({}),show_toast:Mo({text:No})},TR=$3e(Object.values(bh));function eDe(t){const{type:e}=q3e(t,{type:TR}),n=TR(e);return C({type:n},XOe[n](t))}function NR(t,e){nDe(n=>{n.type===t&&e(n)})}function tDe(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return new TextDecoder("utf-8").decode(n)}function nDe(t){g.useEffect(()=>CM(window,{message:n=>{const r=n.data;if(!(typeof r!="object"||(r==null?void 0:r.type)!=="canmore_native"))try{const s=tDe(r.msg),a=eDe(JSON.parse(s));t(a)}catch(s){console.warn("Unknown message from native app: ".concat(r.msg))}}}),[t])}function Zre(){var n;let t;const e=rDe();switch(e){case"android":t=window.CanmoreNative;break;case"ios":t=(n=window.webkit)==null?void 0:n.messageHandlers.canmoreNative;break;case"web":t=void 0;break}return{platform:e,isNative:e!=="web",bridge:t,sendMessage:r=>t==null?void 0:t.postMessage(btoa(JSON.stringify(r)))}}function rDe(){return typeof window.CanmoreNative<"u"?"android":typeof window.webkit<"u"&&typeof window.webkit.messageHandlers.canmoreNative<"u"?"ios":"web"}function G5(t,e){B.logEvent(t,C({platform:Zre().platform},e!=null?e:{}))}function sDe(t,e,n){B.logEventWithStatsig(t,e,C({platform:Zre().platform},n))}function aDe(t,e,n){G5(t,C({distributionValue:e},n!=null?n:{}))}function oDe(t,e){G5("Canvas Button Clicked",C({buttonName:t},e!=null?e:{}))}function iDe(t){if(t instanceof Error){const{name:e,message:n,stack:r,cause:s}=t;return{name:e,message:n,stack:r,cause:s}}return t}function lDe(t,e,n){G5("Canvas Client Error",{message:t,error:e==null?t:iDe(e),attributes:n}),ve.addError(e)}const Xu={logButtonClick:oDe,logEvent:G5,logEventWithStatsig:sDe,logError:lDe,logDistribution:aDe},cDe=({children:t})=>{const e=Gre(),n=Us();return!(e!=null&&e.length)||n?null:o.jsxs(J.Root,{children:[o.jsx(J.BasicTrigger,{children:t}),o.jsx(J.Portal,{children:o.jsx(J.Content,{align:"end",onCloseAutoFocus:r=>r.preventDefault(),children:e.map(r=>o.jsx(uDe,{textdocId:r},r))})})]})},uDe=({textdocId:t})=>{const e=Cf(V5(t));return o.jsx(J.Item,{icon:Sr,onClick:()=>{Xu.logButtonClick(z5.FILE_DRAWER_ITEM),rc(e.textdocId)},children:o.jsx("span",{className:"block max-w-[200px] truncate",children:e.title})})},b_t=()=>{const t=Gre(),e=$5();return!t||e?null:t.length===1?o.jsx(dDe,{textdocId:t[0]}):o.jsx(cDe,{children:o.jsx(Kre,{})})},dDe=({textdocId:t})=>{const e=Cf(V5(t));return o.jsx(Kre,{onClick:()=>rc(e.textdocId)})},Kre=({onClick:t})=>{const e=Z();return o.jsx(wt,{label:e.formatMessage({id:"xX2Zyt",defaultMessage:"Open canvas"}),children:o.jsx(Vf,{onClick:t,icon:Sr,style:{viewTransitionName:"var(--vt-thread-header-open-canvas)"}})})},zl="canmore";var rr=(t=>(t.CreateTextdoc="".concat(zl,".create_textdoc"),t.UpdateTextdoc="".concat(zl,".update_textdoc"),t.CommentTextdoc="".concat(zl,".comment_textdoc"),t))(rr||{});function Yre(t){return t===rr.CreateTextdoc||t===rr.UpdateTextdoc||t===rr.CommentTextdoc}var Mt=(t=>(t[t.STREAMING=0]="STREAMING",t[t.WAITING=1]="WAITING",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t[t.CANCELED=4]="CANCELED",t[t.REDACTED=5]="REDACTED",t))(Mt||{});function fDe({thread:t,leafId:e}){return t?se.findNode(t,n=>{var r,s;return((r=n.message.author.name)==null?void 0:r.startsWith("".concat(zl,".")))===!0||((s=n.message.recipient)==null?void 0:s.startsWith("".concat(zl,".")))===!0},e!=null?e:se.getCurrentLeafId(t))!=null:!1}function Fj(t,e){return fDe({thread:t,leafId:e})}function Qre(t){const e=pt();return g.useCallback(async()=>{if(!t)return;const n=await fa(t);os(e,n.gizmo_id)},[e,t])}function mDe(t,e){const n=t.originalConversationId;rh({clientThreadId:n,title:t.title?e.formatMessage({id:"R1QYtC",defaultMessage:"Completed {taskTitle}"},{taskTitle:t.title}):e.formatMessage({id:"qi9HQV",defaultMessage:"Task complete"}),subtitle:e.formatMessage({id:"EgCRBg",defaultMessage:"Click here to view the result of your task"})})}class Jre{static async getTask({taskId:e}){return ue.safeGet("/task/{task_id}",{parameters:{path:{task_id:e}}})}static async cancelTask({taskId:e}){return ue.safePost("/task/cancel",{requestBody:{task_id:e}})}static async getTasks({cursor:e}){return ue.safeGet("/tasks",{parameters:{query:{cursor:e!=null?e:null}}})}static async addResultMessage({taskId:e,parentConversationId:n,leafNodeToAppendTo:r}){return ue.safePost("/task/add_result_message",{requestBody:{task_id:e,parent_conversation_id:n,leaf_node_to_append_to:r}})}static async interruptTask({taskId:e,prompt:n}){return ue.safePost("/task/interrupt",{requestBody:{task_id:e,prompt:n}})}static async addResultMessageToCanvas({taskId:e,parentConversationId:n,leafNodeToAppendTo:r}){return ue.safePost("/task/add_result_message_to_canvas",{requestBody:{task_id:e,parent_conversation_id:n,leaf_node_to_append_to:r}})}}var U9,AR;function Xre(){if(AR)return U9;AR=1;var t=z3e(),e=TM();function n(r,s){var a=-1,i=e(r)?Array(r.length):[];return t(r,function(l,c,u){i[++a]=s(l,c,u)}),i}return U9=n,U9}var H9,PR;function pDe(){if(PR)return H9;PR=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return H9=t,H9}var V9,IR;function gDe(){if(IR)return V9;IR=1;var t=G3e();function e(n,r){if(n!==r){var s=n!==void 0,a=n===null,i=n===n,l=t(n),c=r!==void 0,u=r===null,d=r===r,f=t(r);if(!u&&!f&&!l&&n>r||l&&c&&d&&!u&&!f||a&&c&&d||!s&&d||!i)return 1;if(!a&&!l&&!f&&n<r||f&&s&&i&&!a&&!l||u&&s&&i||!c&&i||!d)return-1}return 0}return V9=e,V9}var $9,LR;function hDe(){if(LR)return $9;LR=1;var t=gDe();function e(n,r,s){for(var a=-1,i=n.criteria,l=r.criteria,c=i.length,u=s.length;++a<c;){var d=t(i[a],l[a]);if(d){if(a>=u)return d;var f=s[a];return d*(f=="desc"?-1:1)}}return n.index-r.index}return $9=e,$9}var q9,RR;function vDe(){if(RR)return q9;RR=1;var t=NM(),e=W3e(),n=T6(),r=Xre(),s=pDe(),a=Z3e(),i=hDe(),l=Hu(),c=F6();function u(d,f,m){f.length?f=t(f,function(v){return c(v)?function(y){return e(y,v.length===1?v[0]:v)}:v}):f=[l];var p=-1;f=t(f,a(n));var h=r(d,function(v,y,x){var b=t(f,function(_){return _(v)});return{criteria:b,index:++p,value:v}});return s(h,function(v,y){return i(v,y,m)})}return q9=u,q9}var z9,OR;function ese(){if(OR)return z9;OR=1;var t=Hu(),e=K3e(),n=Y3e();function r(s,a){return n(e(s,a,t),s+"")}return z9=r,z9}var G9,DR;function Bj(){if(DR)return G9;DR=1;var t=TY(),e=TM(),n=Q3e(),r=AM();function s(a,i,l){if(!r(l))return!1;var c=typeof i;return(c=="number"?e(l)&&n(i,l.length):c=="string"&&i in l)?t(l[i],a):!1}return G9=s,G9}var W9,FR;function yDe(){if(FR)return W9;FR=1;var t=NY(),e=vDe(),n=ese(),r=Bj(),s=n(function(a,i){if(a==null)return[];var l=i.length;return l>1&&r(a,i[0],i[1])?i=[]:l>2&&r(i[0],i[1],i[2])&&(i=[i[0]]),e(a,t(i,1),[])});return W9=s,W9}var xDe=yDe();const tse=St(xDe);var Wr=(t=>(t.CANCELLED="cancelled",t.CREATED="created",t.RUNNING="running",t.COMPLETED="completed",t.FAILED="failed",t.FINALIZING="finalizing",t.UNDETERMINED="undetermined",t))(Wr||{});function kS(t){return t.status==="completed"}function nse(t){return t.status==="cancelled"||t.status==="failed"}function rse(t){return t.status==="running"||t.status==="undetermined"||t.status==="created"||t.status==="finalizing"}function bDe(t,e){var a;if(!kS(t))return null;const n=(a=e.update_time)!=null?a:e.create_time,r=n?new Date(n*1e3):null,s=t.updatedAt?new Date(t.updatedAt):null;return s?r?+s>+r?s:r:s:r}const to=Rt(Sn(()=>({tasks:{},taskIdsByConversationId:{},taskStreams:{},researchShareIntent:null}))),zc=to.getState,Zs=to.setState,gs={setTask:(t,e)=>{Zs(n=>{var r;n.tasks[t]=e,n.taskIdsByConversationId[e.originalConversationId]=[...(r=n.taskIdsByConversationId[e.originalConversationId])!=null?r:[],t]})},setTaskStatus:(t,e)=>{Zs(n=>{n.tasks[t]&&(n.tasks[t].status=e)})},setTaskMetadataItems:({taskId:t,originalConversationId:e,responseMessageId:n,canvasTextdocId:r})=>{Zs(s=>{s.tasks[t]&&(s.tasks[t].originalConversationId=e,s.tasks[t].responseMessageId=n,s.tasks[t].responseCanvasTextdocId=r)})},loadBulkTasks:t=>{Zs(e=>{t.forEach(n=>{var s,a,i;const r=e.tasks[n.taskId];e.tasks[n.taskId]=P(C({},n),{rows:(s=r==null?void 0:r.rows)!=null?s:[],finalMessage:(a=r==null?void 0:r.finalMessage)!=null?a:el(n.messages)}),e.taskIdsByConversationId[n.originalConversationId]=[...(i=e.taskIdsByConversationId[n.originalConversationId])!=null?i:[],n.taskId]})})},addTaskRow:(t,e)=>{Zs(n=>{var a;const r=n.tasks[t];if(r==null)return;const s=[...(a=r.rows)!=null?a:[]];s.find(i=>i.id===e.id)||(s.push(e),r.rows=s)})},setTaskCompleted:(t,e)=>{Zs(n=>{var s;const r=n.tasks[t];r!=null&&(r.status="completed",r.updatedAt=((s=bDe(r,e))==null?void 0:s.toString())||r.updatedAt,r.finalMessage=e)})},setTaskRecentlyCompleted:t=>{Zs(e=>{const n=e.tasks[t];n!=null&&(n.notificationStatus||(n.notificationStatus={recentlyCompleted:!0,notificationSent:!1}),n.notificationStatus.recentlyCompleted=!0)})},setTaskNotificationSent:t=>{Zs(e=>{var n;(n=e.tasks[t])!=null&&n.notificationStatus&&(e.tasks[t].notificationStatus.notificationSent=!0)})},setResearchShareIntent:t=>{Zs(e=>{e.researchShareIntent=t})},async retainTaskStream(t){var i;const n=zc().taskStreams[t],r=(i=n==null?void 0:n.refCount)!=null?i:0;let s,a=null;r===0&&(s=new AbortController,a=MDe(t,s)),Zs(l=>{var u;const c=s||((u=l.taskStreams[t])==null?void 0:u.abortController);if(!c)throw Error("Missing abort controller");l.taskStreams[t]=P(C({},l.taskStreams[t]),{refCount:r+1,abortController:c})}),a&&await a},releaseTaskStream(t){Zs(e=>{const n=e.taskStreams[t];n&&(n.refCount-=1)})},abortTaskStream(t){Zs(e=>{const n=e.taskStreams[t];!n||n.refCount||(n.abortController.abort(),delete e.taskStreams[t])})}},BR=[],sc={getTask:(t,e=zc())=>e.tasks[t],getAllTasks:(t=zc())=>Object.values(t.tasks).filter(e=>!!e),getAllTasksOrdered:(t=zc())=>tse(sc.getAllTasks(t),e=>-new Date(e.createdAt)),hasTaskStreamEntry:(t,e=zc())=>!!e.taskStreams[t],getTaskIdsByConversationId:(t,e=zc())=>{var n;return t&&(n=e.taskIdsByConversationId[t])!=null?n:BR},getResearchShareIntent:(t=zc())=>t.researchShareIntent};function CDe(t){var r,s,a,i;const e=t.task_id;return{conversationId:(r=t.conversation_id)!=null?r:"",taskId:e,title:t.title,prompt:t.prompt,createdAt:t.created_at,updatedAt:t.updated_at,status:t.status,messages:(s=t.messages)!=null?s:[],rows:[],originalConversationId:t.original_conversation_id,responseMessageId:(a=t.response_message_id)!=null?a:void 0,responseCanvasTextdocId:(i=t.response_canvas_textdoc_id)!=null?i:void 0}}function _De(t){var e,n,r,s,a,i,l,c,u,d;switch(t.type){case"website_open":return{id:t.id,type:"websiteOpen",url:t.url,rowText:t.row_text,activeRowText:t.active_row_text,sanitizedUrl:(e=t.sanitized_url)!=null?e:null,created_at:(n=t.created_at)!=null?n:null};case"summary":return{id:t.id,type:"summary",title:t.title,summary:(r=t.summary)!=null?r:null,created_at:(s=t.created_at)!=null?s:null};case"search":return{id:t.id,type:"search",query:(a=t.query)!=null?a:null,created_at:(i=t.created_at)!=null?i:null,urls:(l=t.urls)!=null?l:null};case"python_analysis":return{id:t.id,type:"pythonAnalysis",analysisSummary:(c=t.analysis_summary)!=null?c:null,created_at:(u=t.created_at)!=null?u:null};case"file_open":return{id:t.id,type:"fileOpen",fileName:t.file_name,iconType:t.icon_type,fileExt:t.file_ext,rowText:t.row_text,activeRowText:t.active_row_text,created_at:(d=t.created_at)!=null?d:null}}}function wDe(){const t=ac({queryKey:["fetch-tasks"],queryFn:async({pageParam:e})=>{const n=await Jre.getTasks({cursor:e});return gs.loadBulkTasks(n.tasks.map(r=>CDe(r)).filter(r=>r!==null)),n},initialPageParam:null,getNextPageParam:({cursor:e})=>e!=null?e:null,enabled:!0});return{isLoading:t.isLoading,isFetching:t.isFetching}}const SDe=30,kDe=30;async function MDe(t,e){if(sc.hasTaskStreamEntry(t))return!1;const r=ca();r["content-type"]="application/json";let s=0,a=0;return Kte("".concat(ss,"/tasks/").concat(t,"/stream"),{headers:r,signal:e.signal,openWhenHidden:!0,onopen:async i=>{if(!(i.ok&&i.headers.get("content-type")===uh))if(s<SDe)s++;else throw new Error("Failure opening stream")},onmessage(i){const l=JSON.parse(i.data);if(l.task_status)gs.setTaskStatus(l.task_id,l.task_status);else if(l.final_message)gs.setTaskCompleted(t,l.final_message),l.was_recently_completed&&gs.setTaskRecentlyCompleted(t);else if(l.row){const c=_De(l.row);gs.addTaskRow(t,c)}},onerror(i){if(a<kDe){a++;return}throw e.abort(),i},onclose(){}}),!0}function EDe(t){"use forget";const e=ee.c(3);let n,r;e[0]!==t?(n=()=>{if(t)return gs.retainTaskStream(t),()=>{gs.releaseTaskStream(t)}},r=[t],e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]),g.useEffect(n,r)}function jDe(t){"use forget";const e=ee.c(2);let n;return e[0]!==t?(n=s=>sc.getTaskIdsByConversationId(t,s).map(a=>sc.getTask(a,s)).filter(NDe).filter(TDe),e[0]=t,e[1]=n):n=e[1],to(n)}function TDe(t){return t.status==="created"||t.status==="running"||t.status==="finalizing"}function NDe(t){return t!==void 0}function ADe({task:t}){const e=Z(),n=q(),r=t.originalConversationId,s=!1,a=Qre(r),i=ie(n,"1927459101"),{clearSystemHintModeTrigger:l}=Qo();return g.useEffect(()=>{var c,u;(c=t.notificationStatus)!=null&&c.recentlyCompleted&&!((u=t.notificationStatus)!=null&&u.notificationSent)&&!s&&(i&&DE(n)?Fe(r,d=>{vn.setShouldRefetchConvoOnFinalize(d,!0)}):(a(),mDe(t,e),l(we.Research),gs.setTaskNotificationSent(t.taskId)))},[t,e,a,s,l,i,n,r]),o.jsx(be.Fragment,{})}function C_t(){const t=to(sc.getAllTasksOrdered);return wDe(),t.length?o.jsx(o.Fragment,{children:t.map(e=>o.jsx(ADe,{task:e},e.taskId))}):null}const Bo=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M2.66821 12.6663V12.5003C2.66821 12.1331 2.96598 11.8353 3.33325 11.8353C3.70052 11.8353 3.99829 12.1331 3.99829 12.5003V12.6663C3.99829 13.3772 3.9992 13.8707 4.03052 14.2542C4.0612 14.6298 4.11803 14.8413 4.19849 14.9993L4.2688 15.1263C4.44511 15.4137 4.69813 15.6481 5.00024 15.8021L5.13013 15.8577C5.2739 15.9092 5.46341 15.947 5.74536 15.97C6.12888 16.0014 6.62221 16.0013 7.33325 16.0013H12.6663C13.3771 16.0013 13.8707 16.0014 14.2542 15.97C14.6295 15.9394 14.8413 15.8825 14.9993 15.8021L15.1262 15.7308C15.4136 15.5545 15.6481 15.3014 15.802 14.9993L15.8577 14.8695C15.9091 14.7257 15.9469 14.536 15.97 14.2542C16.0013 13.8707 16.0012 13.3772 16.0012 12.6663V12.5003C16.0012 12.1332 16.2991 11.8355 16.6663 11.8353C17.0335 11.8353 17.3313 12.1331 17.3313 12.5003V12.6663C17.3313 13.3553 17.3319 13.9124 17.2952 14.3626C17.2624 14.7636 17.1974 15.1247 17.053 15.4613L16.9866 15.6038C16.7211 16.1248 16.3172 16.5605 15.8215 16.8646L15.6038 16.9866C15.227 17.1786 14.8206 17.2578 14.3625 17.2952C13.9123 17.332 13.3553 17.3314 12.6663 17.3314H7.33325C6.64416 17.3314 6.0872 17.332 5.63696 17.2952C5.23642 17.2625 4.87552 17.1982 4.53931 17.054L4.39673 16.9866C3.87561 16.7211 3.43911 16.3174 3.13501 15.8216L3.01294 15.6038C2.82097 15.2271 2.74177 14.8206 2.70435 14.3626C2.66758 13.9124 2.66821 13.3553 2.66821 12.6663ZM9.33521 12.5003V4.9388L7.13696 7.13704C6.87732 7.39668 6.45625 7.39657 6.19653 7.13704C5.93684 6.87734 5.93684 6.45631 6.19653 6.19661L9.52954 2.86263L9.6311 2.77962C9.73949 2.70742 9.86809 2.66829 10.0002 2.66829C10.1763 2.66838 10.3454 2.73819 10.47 2.86263L13.804 6.19661C14.0633 6.45628 14.0634 6.87744 13.804 7.13704C13.5443 7.39674 13.1222 7.39674 12.8625 7.13704L10.6653 4.93977V12.5003C10.6651 12.8673 10.3673 13.1652 10.0002 13.1654C9.63308 13.1654 9.33538 12.8674 9.33521 12.5003Z"})),__t=Object.freeze(Object.defineProperty({__proto__:null,default:Bo},Symbol.toStringTag,{value:"Module"})),PDe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("circle",{cx:15,cy:5,r:4,fill:"#0285FF"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.65723 2.66504C9.47346 3.08492 9.33855 3.53055 9.25781 3.99512H8.16406L8.16504 4L8.16406 15.9951H12.167C13.1111 15.9951 13.7794 15.9948 14.3018 15.9521C14.8164 15.9101 15.1308 15.83 15.3779 15.7041L15.5615 15.6016C15.9796 15.3452 16.32 14.9775 16.5439 14.5381L16.6299 14.3379C16.7073 14.1211 16.7605 13.8478 16.792 13.4619C16.8347 12.9395 16.835 12.2713 16.835 11.3271V10.5332C17.3083 10.3763 17.7542 10.1607 18.165 9.89453V11.3271C18.165 12.2494 18.1653 12.9812 18.1172 13.5703C18.0745 14.0924 17.9916 14.5473 17.8125 14.9648L17.7295 15.1416C17.394 15.8 16.8833 16.3512 16.2568 16.7354L15.9814 16.8896C15.5157 17.1268 15.0069 17.2286 14.4102 17.2773C13.821 17.3255 13.0893 17.3252 12.167 17.3252H7.83301C6.91072 17.3252 6.17897 17.3255 5.58984 17.2773C5.06758 17.2347 4.61293 17.1508 4.19531 16.9717L4.01855 16.8896C3.36016 16.5542 2.80898 16.0435 2.4248 15.417L2.27051 15.1416C2.03329 14.6759 1.93158 14.167 1.88281 13.5703C1.83468 12.9812 1.83496 12.2494 1.83496 11.3271V8.66309C1.83496 7.74083 1.83469 7.00904 1.88281 6.41992C1.93157 5.82319 2.03332 5.31438 2.27051 4.84863L2.4248 4.57324C2.80898 3.94674 3.36013 3.43608 4.01855 3.10059L4.19531 3.01758C4.61285 2.8385 5.06771 2.75555 5.58984 2.71289C6.17898 2.66476 6.91071 2.66504 7.83301 2.66504H9.65723ZM6.83496 4C6.38353 4.00418 6.01421 4.01227 5.69824 4.03809C5.31232 4.06962 5.03904 4.12274 4.82227 4.2002L4.62207 4.28613C4.18266 4.51003 3.81497 4.85044 3.55859 5.26855L3.45605 5.45215C3.33015 5.69928 3.25006 6.01366 3.20801 6.52832C3.16534 7.05071 3.16504 7.71897 3.16504 8.66309V11.3271C3.16504 12.2713 3.16533 12.9395 3.20801 13.4619C3.25006 13.9766 3.33013 14.2909 3.45605 14.5381L3.55859 14.7217C3.81498 15.1398 4.18268 15.4802 4.62207 15.7041L4.82227 15.79C5.03903 15.8675 5.31235 15.9206 5.69824 15.9521C6.01398 15.9779 6.38301 15.986 6.83398 15.9902L6.83496 4Z"})),w_t=Object.freeze(Object.defineProperty({__proto__:null,default:PDe},Symbol.toStringTag,{value:"Module"})),IDe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M6.83496 3.99992C6.38353 4.00411 6.01421 4.0122 5.69824 4.03801C5.31232 4.06954 5.03904 4.12266 4.82227 4.20012L4.62207 4.28606C4.18264 4.50996 3.81498 4.85035 3.55859 5.26848L3.45605 5.45207C3.33013 5.69922 3.25006 6.01354 3.20801 6.52824C3.16533 7.05065 3.16504 7.71885 3.16504 8.66301V11.3271C3.16504 12.2712 3.16533 12.9394 3.20801 13.4618C3.25006 13.9766 3.33013 14.2909 3.45605 14.538L3.55859 14.7216C3.81498 15.1397 4.18266 15.4801 4.62207 15.704L4.82227 15.79C5.03904 15.8674 5.31234 15.9205 5.69824 15.9521C6.01398 15.9779 6.383 15.986 6.83398 15.9902L6.83496 3.99992ZM18.165 11.3271C18.165 12.2493 18.1653 12.9811 18.1172 13.5702C18.0745 14.0924 17.9916 14.5472 17.8125 14.9648L17.7295 15.1415C17.394 15.8 16.8834 16.3511 16.2568 16.7353L15.9814 16.8896C15.5157 17.1268 15.0069 17.2285 14.4102 17.2773C13.821 17.3254 13.0893 17.3251 12.167 17.3251H7.83301C6.91071 17.3251 6.17898 17.3254 5.58984 17.2773C5.06757 17.2346 4.61294 17.1508 4.19531 16.9716L4.01855 16.8896C3.36014 16.5541 2.80898 16.0434 2.4248 15.4169L2.27051 15.1415C2.03328 14.6758 1.93158 14.167 1.88281 13.5702C1.83468 12.9811 1.83496 12.2493 1.83496 11.3271V8.66301C1.83496 7.74072 1.83468 7.00898 1.88281 6.41985C1.93157 5.82309 2.03329 5.31432 2.27051 4.84856L2.4248 4.57317C2.80898 3.94666 3.36012 3.436 4.01855 3.10051L4.19531 3.0175C4.61285 2.83843 5.06771 2.75548 5.58984 2.71281C6.17898 2.66468 6.91071 2.66496 7.83301 2.66496H12.167C13.0893 2.66496 13.821 2.66468 14.4102 2.71281C15.0069 2.76157 15.5157 2.86329 15.9814 3.10051L16.2568 3.25481C16.8833 3.63898 17.394 4.19012 17.7295 4.84856L17.8125 5.02531C17.9916 5.44285 18.0745 5.89771 18.1172 6.41985C18.1653 7.00898 18.165 7.74072 18.165 8.66301V11.3271ZM8.16406 15.995H12.167C13.1112 15.995 13.7794 15.9947 14.3018 15.9521C14.8164 15.91 15.1308 15.8299 15.3779 15.704L15.5615 15.6015C15.9797 15.3451 16.32 14.9774 16.5439 14.538L16.6299 14.3378C16.7074 14.121 16.7605 13.8478 16.792 13.4618C16.8347 12.9394 16.835 12.2712 16.835 11.3271V8.66301C16.835 7.71885 16.8347 7.05065 16.792 6.52824C16.7605 6.14232 16.7073 5.86904 16.6299 5.65227L16.5439 5.45207C16.32 5.01264 15.9796 4.64498 15.5615 4.3886L15.3779 4.28606C15.1308 4.16013 14.8165 4.08006 14.3018 4.03801C13.7794 3.99533 13.1112 3.99504 12.167 3.99504H8.16406C8.16407 3.99667 8.16504 3.99829 8.16504 3.99992L8.16406 15.995Z"})),S_t=Object.freeze(Object.defineProperty({__proto__:null,default:IDe},Symbol.toStringTag,{value:"Module"})),sse=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.418 17.1669V15.7479H15C14.6327 15.7479 14.335 15.4502 14.335 15.0829C14.3352 14.7158 14.6329 14.4178 15 14.4178H16.418V12.9999C16.418 12.6328 16.7159 12.335 17.083 12.3348C17.4502 12.3348 17.748 12.6327 17.748 12.9999V14.4178H19.167L19.3008 14.4315C19.6037 14.4935 19.8318 14.7617 19.832 15.0829C19.832 15.4042 19.6038 15.6732 19.3008 15.7352L19.167 15.7479H17.748V17.1669C17.7479 17.534 17.4502 17.8319 17.083 17.8319C16.716 17.8317 16.4181 17.5339 16.418 17.1669ZM8.17383 16.1903C8.17389 14.2019 9.04118 12.7297 10.3135 11.8456C11.4865 11.0306 12.9679 10.7395 14.3545 10.9481L14.6309 10.996L14.7598 11.036C15.0445 11.1565 15.2155 11.4642 15.1523 11.7792C15.089 12.0943 14.8123 12.3123 14.5029 12.3134L14.3691 12.2997L14.1543 12.2626C13.0753 12.1005 11.942 12.3332 11.0723 12.9374C10.1656 13.5674 9.50397 14.6278 9.50391 16.1903C9.50391 16.5576 9.20614 16.8553 8.83887 16.8553C8.47175 16.8552 8.17383 16.5575 8.17383 16.1903ZM1.20996 15.4169C1.20996 13.6399 2.02488 12.3419 3.19824 11.6005C4.34687 10.8747 5.80059 10.7042 7.08496 11.0663C7.43844 11.166 7.6446 11.5341 7.54492 11.8876C7.44517 12.2408 7.0779 12.446 6.72461 12.3466C5.77802 12.0796 4.71654 12.2137 3.9082 12.7245C3.12457 13.2197 2.54004 14.0915 2.54004 15.4169C2.53995 15.7841 2.24222 16.0819 1.875 16.0819C1.50778 16.0819 1.21005 15.7841 1.20996 15.4169ZM7.78711 6.90515C7.78711 5.99033 7.04568 5.24794 6.13086 5.24792C5.21603 5.24792 4.47461 5.99032 4.47461 6.90515C4.47484 7.81979 5.21617 8.5614 6.13086 8.5614C7.04553 8.56138 7.78688 7.81978 7.78711 6.90515ZM15.5254 6.51746C15.5252 5.38921 14.6107 4.47466 13.4824 4.47449C12.354 4.47449 11.4387 5.3891 11.4385 6.51746C11.4385 7.64597 12.3539 8.5614 13.4824 8.5614C14.6108 8.56122 15.5254 7.64586 15.5254 6.51746ZM9.11719 6.90515C9.11695 8.55431 7.78007 9.89146 6.13086 9.89148C4.48163 9.89148 3.14477 8.55433 3.14453 6.90515C3.14453 5.25578 4.48149 3.91785 6.13086 3.91785C7.78022 3.91786 9.11719 5.25579 9.11719 6.90515ZM16.8555 6.51746C16.8555 8.3804 15.3453 9.8913 13.4824 9.89148C11.6194 9.89148 10.1084 8.38051 10.1084 6.51746C10.1086 4.65456 11.6195 3.14441 13.4824 3.14441C15.3452 3.14459 16.8553 4.65467 16.8555 6.51746Z"})),k_t=Object.freeze(Object.defineProperty({__proto__:null,default:sse},Symbol.toStringTag,{value:"Module"}));let Z9="",UR="",hm;const zt={logProductEvent(t,e){const n=C(C({referrals_session_id:Z9,program_name:UR},hm?{is_referrer:hm}:{}),e!=null?e:{});B.logEvent(t,n)},logAnnouncementProductEvent(t,e){B.logEvent(t,e)},createNewSession(t,e=void 0){Z9=Yn(),UR=t,hm=e},logShowReferralDiscount(t,e){zt.createNewSession(t,e),Me.count(Ee.REFERRALS,"referrals.web.showReferralDiscount"),zt.logProductEvent("Referrals: Show Referral Discount")},logShowReferralLinkGenerationModal(t){zt.createNewSession(t,!0),Me.count(Ee.REFERRALS,"referrals.web.showReferralLinkGenerationModal"),zt.logProductEvent("Referrals: Show Referral Link Generation Modal")},logClickReferralGetLinkButton(){Me.count(Ee.REFERRALS,"referrals.web.clickReferralGetLinkButton"),zt.logProductEvent("Referrals: Click Referral Get Link Button")},logCopyReferralLink(){Me.count(Ee.REFERRALS,"referrals.web.copyReferralLinkSuccess"),zt.logProductEvent("Referrals: Copy Referral Link")},logClickReferrerIntroNotNowButton(){Me.count(Ee.REFERRALS,"referrals.web.clickReferrerIntroNotNowButton"),zt.logProductEvent("Referrals: Click Referrer Intro Not Now Button")},logShowReferrerConclusion(){Me.count(Ee.REFERRALS,"referrals.web.showReferrerConclusion"),zt.logProductEvent("Referrals: Show Referrer Conclusion")},logClickUpgradeButton(t){const e=[{key:"is_paying_user",value:t?"true":"false"}];hm!==void 0&&e.push({key:"is_referrer",value:hm?"true":"false"}),Me.count(Ee.REFERRALS,"referrals.web.clickUpgradeButton",e),zt.logProductEvent("Referrals: Click Upgrade Button",{is_paying_user:t})},logReferralDiscountContinue(){Me.count(Ee.REFERRALS,"referrals.web.referralDiscountContinue"),zt.logProductEvent("Referrals: Referral Discount Continue")},logClose(t){Me.count(Ee.REFERRALS,"referrals.web.close",[{key:"source",value:t}]),B.logEvent("Referrals: Close",{referrals_session_id:Z9,source:t})},logClickValidateEmail(){Me.count(Ee.REFERRALS,"referrals.web.clickValidateEmail"),zt.logProductEvent("Referrals: Click Validate Email")},logValidateEmailSuccess(){Me.count(Ee.REFERRALS,"referrals.web.validateEmailSuccess")},logValidateEmailFailure(){Me.count(Ee.REFERRALS,"referrals.web.validateEmailFailure")},logSendVerificationCode(){Me.count(Ee.REFERRALS,"referrals.web.sendVerificationCode"),zt.logProductEvent("Referrals: Send Verification Code")},logClickResendVerificationCodeButton(){Me.count(Ee.REFERRALS,"referrals.web.resendVerificationCode"),zt.logProductEvent("Referrals: Click Resend Verification Code Button")},logClickChangeEmailButton(){Me.count(Ee.REFERRALS,"referrals.web.changeEmail"),zt.logProductEvent("Referrals: Click Change Email Button")},logClickValidateVerificationCode(){Me.count(Ee.REFERRALS,"referrals.web.validateVerificationCode"),zt.logProductEvent("Referrals: Click Validate Verification Code")},logValidateVerificationCodeSuccess(){Me.count(Ee.REFERRALS,"referrals.web.validateVerificationCodeSuccess")},logValidateVerificationCodeFailure(){Me.count(Ee.REFERRALS,"referrals.web.validateVerificationCodeFailure")},logApplyDiscount(){Me.count(Ee.REFERRALS,"referrals.web.applyDiscount"),zt.logProductEvent("Referrals: Apply Discount")},logMobileSubscriptionTooltipOpen(){Me.count(Ee.REFERRALS,"referrals.web.mobileSubscriptionTooltipOpen"),zt.logProductEvent("Referrals: Show Mobile Subscription Tooltip")},logShowReferralUpsellAnnouncementBanner(){Me.count(Ee.REFERRALS,"referrals.web.showReferralUpsellAnnouncementBanner"),zt.logAnnouncementProductEvent("Referrals: Show Referral Upsell Announcement Banner")},logShowReferrerRedemptionBanner(){Me.count(Ee.REFERRALS,"referrals.web.showReferrerRedemptionBanner"),zt.logAnnouncementProductEvent("Referrals: Show Referrer Redemption Banner")},logShowRefereeRedemptionBanner(t){Me.count(Ee.REFERRALS,"referrals.web.showRefereeRedemptionBanner"),zt.logAnnouncementProductEvent("Referrals: Show Referee Redemption Banner",{referral_code:t})},logClickReferralUpsellButton(){Me.count(Ee.REFERRALS,"referrals.web.clickReferralUpsellButton"),zt.logProductEvent("Referrals: Click Referral Upsell Button")},logClickReferrerRedeemButton(){Me.count(Ee.REFERRALS,"referrals.web.clickReferrerRedeemButton"),zt.logProductEvent("Referrals: Click Referrer Redeem Button")},logClickRefereeRedeemButton(t){Me.count(Ee.REFERRALS,"referrals.web.clickRefereeRedeemButton"),zt.logProductEvent("Referrals: Click Referee Redeem Button",{referral_code:t})},logCloseReferralUpsellAnnouncementBanner(){Me.count(Ee.REFERRALS,"referrals.web.closeReferralUpsellAnnouncementBanner"),zt.logAnnouncementProductEvent("Referrals: Close Referral Upsell Announcement Banner")},logCloseReferrerRedemptionBanner(){Me.count(Ee.REFERRALS,"referrals.web.closeReferrerRedemptionBanner"),zt.logAnnouncementProductEvent("Referrals: Close Referrer Redemption Banner")},logCloseRefereeRedemptionBanner(t){Me.count(Ee.REFERRALS,"referrals.web.closeRefereeRedemptionBanner"),zt.logAnnouncementProductEvent("Referrals: Close Referee Redemption Banner",{referral_code:t})},logShowReferralUpsellHomepageButton(){Me.count(Ee.REFERRALS,"referrals.web.showReferralUpsellHomepageButton"),zt.logProductEvent("Referrals: Show Referral Upsell Homepage Button")},logClickReferralUpsellHomepageButton(){Me.count(Ee.REFERRALS,"referrals.web.clickReferralUpsellHomepageButton"),zt.logProductEvent("Referrals: Click Referral Upsell Homepage Button")}};function ase(t=!0){return ut({queryKey:["referral-upsell-announcement"],queryFn:async()=>await K0.getUpsellAnnouncementBannerInfo(),enabled:t})}class K0{static async getReferralProgramMetadata(e){return ue.safeGet("/referrals/{program_name}",{parameters:{path:{program_name:e}},authOption:qt.SendIfAvailable})}static async getReferralCodeMetadata(e){return ue.safeGet("/referrals/{referral_code}/metadata",{parameters:{path:{referral_code:e}},authOption:qt.SendIfAvailable})}static async createReferralCode(e){return ue.safePost("/referrals/create_referral_code",{requestBody:{transaction_id:e}})}static async getEnrollmentDetails(){return ue.safeGet("/referrals/enrollment_details")}static async validateEmail(e,n){return ue.safePost("/referrals/validate_email",{requestBody:{email:e,program_name:n}})}static async sendVerificationCode(e){return ue.safePost("/referrals/send_verification_code",{requestBody:{transaction_id:e}})}static async validateVerificationCode(e,n){return ue.safePost("/referrals/validate_verification_code",{requestBody:{transaction_id:e,verification_code:n}})}static async redeemReferral(e,n){return ue.safePost("/referrals/{referral_code}/redeem",{parameters:{path:{referral_code:e}},requestBody:{transaction_id:n}})}static async getReferralDiscount(){return ue.safeGet("/referrals/available_referral_discount")}static async getUpsellAnnouncementBannerInfo(){return ue.safeGet("/referrals/upsell_announcement_banner_info")}static async getIsEligibleForReferrals(){return ue.safeGet("/referrals/is_eligible_for_referrals")}static async trackReferralSignup(e){return ue.safePost("/referrals/track_referral_signup",{parameters:{query:{referral_code:e}},authOption:qt.SendIfAvailable})}}function M_t(){const t=q(),e=it(),{data:n}=ut({queryKey:["is-eligible-for-referrals"],queryFn:ie(t,"550432558")?()=>K0.getIsEligibleForReferrals():tM}),r=n==null?void 0:n.eligible_program_name;if(g.useEffect(()=>{r&&zt.logShowReferralUpsellHomepageButton()},[r,n]),!r)return null;const s="Refer";return o.jsx(wt,{side:"bottom",label:s,children:o.jsx(oe,{color:"secondary",className:U("text-token-text-primary relative"),icon:sse,onClick:()=>{zt.logClickReferralUpsellHomepageButton(),e("/refer/".concat(r))},label:s,children:s})})}function Uj(t){var a;const e=zo(),n=q(),r=yt(n);return!(r==null?void 0:r.isWorkspaceAccount())||((a=e==null?void 0:e.includes(t))!=null?a:!1)}const ose=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M11.8008 10.1816C12.1035 10.2438 12.3309 10.5119 12.3311 10.833C12.3311 11.1542 12.1036 11.4222 11.8008 11.4844L11.666 11.498H8.33301C7.96589 11.4979 7.66797 11.2002 7.66797 10.833C7.66814 10.466 7.966 10.1682 8.33301 10.168H11.666L11.8008 10.1816Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.417 2.66797C16.7045 2.66815 17.7489 3.71251 17.749 5V5.83301C17.749 6.33171 17.59 6.79271 17.3232 7.17188C17.3263 7.19763 17.3311 7.22343 17.3311 7.25V12.667C17.3311 13.3559 17.3317 13.9131 17.2949 14.3633C17.2622 14.7639 17.197 15.1246 17.0527 15.4609L16.9863 15.6035C16.7209 16.1245 16.3169 16.5602 15.8213 16.8643L15.6035 16.9863C15.2268 17.1782 14.8202 17.2575 14.3623 17.2949C13.9121 17.3317 13.3549 17.332 12.666 17.332H7.33301C6.64407 17.332 6.08689 17.3317 5.63672 17.2949C5.23627 17.2622 4.87521 17.1979 4.53906 17.0537L4.39648 16.9863C3.8754 16.7208 3.43882 16.3171 3.13477 15.8213L3.0127 15.6035C2.82089 15.227 2.74153 14.821 2.7041 14.3633C2.66732 13.9131 2.66797 13.3559 2.66797 12.667V7.25C2.66797 7.22312 2.67268 7.19694 2.67578 7.1709C2.4096 6.79197 2.25195 6.33115 2.25195 5.83301V5C2.25212 3.7124 3.29634 2.66797 4.58398 2.66797H15.417ZM16.001 8.08789C15.8141 8.13621 15.619 8.16501 15.417 8.16504H4.58398C4.38146 8.16504 4.18541 8.13644 3.99805 8.08789V12.667C3.99805 13.3778 3.99895 13.8714 4.03027 14.2549C4.06097 14.6303 4.11779 14.8421 4.19824 15L4.26855 15.126C4.44482 15.4134 4.69792 15.6478 5 15.8018L5.12988 15.8574C5.27361 15.9089 5.4633 15.9467 5.74512 15.9697C6.12858 16.0011 6.62215 16.002 7.33301 16.002H12.666C13.3767 16.002 13.8705 16.001 14.2539 15.9697C14.6292 15.9391 14.8411 15.8821 14.999 15.8018L15.126 15.7305C15.4132 15.5542 15.6479 15.3019 15.8018 15L15.8574 14.8691C15.9088 14.7255 15.9467 14.5363 15.9697 14.2549C16.0011 13.8714 16.001 13.3779 16.001 12.667V8.08789ZM4.58398 3.99805C4.03088 3.99805 3.5822 4.44693 3.58203 5V5.83301C3.58203 6.38621 4.03078 6.83496 4.58398 6.83496H15.417C15.97 6.83478 16.4189 6.3861 16.4189 5.83301V5C16.4188 4.44705 15.9699 3.99823 15.417 3.99805H4.58398Z"})),E_t=Object.freeze(Object.defineProperty({__proto__:null,default:ose},Symbol.toStringTag,{value:"Module"})),zi=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM9.33496 6C9.33496 5.63273 9.63273 5.33496 10 5.33496C10.3673 5.33496 10.665 5.63273 10.665 6V10C10.665 10.1322 10.626 10.2607 10.5537 10.3691L10.4707 10.4707L8.4707 12.4707C8.211 12.7304 7.789 12.7304 7.5293 12.4707C7.2696 12.211 7.2696 11.789 7.5293 11.5293L9.33496 9.72363V6ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),j_t=Object.freeze(Object.defineProperty({__proto__:null,default:zi},Symbol.toStringTag,{value:"Module"})),ise=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.417 7.33334C16.417 6.62231 16.4161 6.12897 16.3848 5.74545C16.3617 5.46345 16.324 5.274 16.2725 5.13022L16.2168 5.00034C16.0628 4.69814 15.8286 4.44521 15.541 4.26889L15.4151 4.19858C15.2571 4.11809 15.0454 4.06132 14.6699 4.03061C14.2865 3.99928 13.7929 3.99838 13.0821 3.99838H6.91506C6.20402 3.99838 5.71069 3.99928 5.32717 4.03061C5.04531 4.05364 4.85568 4.0905 4.71193 4.14194L4.58205 4.19858C4.27979 4.3526 4.02692 4.58672 3.8506 4.87436L3.78029 5.00034C3.69978 5.15834 3.64303 5.36975 3.61232 5.74545C3.58099 6.12897 3.5801 6.62231 3.5801 7.33334V12.2611C3.5801 12.9037 3.58393 13.1237 3.61916 13.2923L3.65139 13.4242C3.83825 14.0742 4.37075 14.5734 5.04006 14.7132L5.18166 14.7337C5.34461 14.7496 5.58845 14.7513 6.07033 14.7513C6.26764 14.7513 6.40358 14.7511 6.53811 14.7621L6.71779 14.7816C7.13693 14.84 7.54104 14.9827 7.90529 15.2005L8.08107 15.3148C8.14308 15.3575 8.21075 15.4059 8.29103 15.4632L9.61037 16.4056L9.90432 16.6087C9.96211 16.6443 9.97093 16.6425 9.95705 16.639L9.99807 16.6439C10.0121 16.6439 10.0264 16.6425 10.0401 16.639L10.0918 16.6087C10.1566 16.5688 10.2402 16.5103 10.3867 16.4056L11.7061 15.4632L11.9151 15.3148C11.9771 15.272 12.0338 15.2352 12.0918 15.2005L12.25 15.1117C12.625 14.9157 13.0361 14.7965 13.459 14.7621L13.669 14.7533C13.7442 14.752 13.8273 14.7513 13.9258 14.7513C14.5684 14.7513 14.7884 14.7485 14.9571 14.7132L15.0889 14.68C15.7389 14.4933 16.238 13.9615 16.3779 13.2923L16.3985 13.1498C16.4143 12.9868 16.417 12.7428 16.417 12.2611V7.33334ZM10.1699 10.1683C10.5372 10.1683 10.835 10.4661 10.835 10.8333C10.835 11.2006 10.5372 11.4984 10.1699 11.4984H7.3301C6.96283 11.4984 6.66506 11.2006 6.66506 10.8333C6.66506 10.4661 6.96283 10.1683 7.3301 10.1683H10.1699ZM12.6699 6.8353L12.8037 6.84897C13.1069 6.91089 13.335 7.17889 13.335 7.50034C13.3348 7.82168 13.1068 8.08985 12.8037 8.1517L12.6699 8.16538H7.3301C6.96294 8.16538 6.66523 7.86746 6.66506 7.50034C6.66506 7.13307 6.96283 6.8353 7.3301 6.8353H12.6699ZM17.7471 12.2611C17.7471 12.6929 17.7485 13.0203 17.7197 13.2992L17.6797 13.5638C17.4385 14.7185 16.5777 15.6363 15.4561 15.9583L15.2285 16.015C14.8915 16.0853 14.5013 16.0814 13.9258 16.0814L13.5674 16.0882C13.3573 16.1053 13.1521 16.1581 12.961 16.2445L12.7744 16.3421L12.4785 16.5453L11.1602 17.4876C10.9562 17.6334 10.733 17.8024 10.4776 17.8939L10.3662 17.9281C10.1852 17.9739 9.99775 17.9861 9.8135 17.9632L9.63088 17.9281C9.40371 17.8705 9.20168 17.745 9.01662 17.6156L8.83693 17.4876L7.5176 16.5453L7.22268 16.3421C7.04168 16.2339 6.84355 16.1574 6.63771 16.1165L6.42971 16.0882C6.36152 16.0827 6.28868 16.0814 6.07033 16.0814C5.63841 16.0814 5.31112 16.0838 5.03225 16.055L4.7676 16.015C3.61311 15.7737 2.69518 14.9127 2.37307 13.7914L2.3174 13.5638C2.247 13.2267 2.25002 12.8368 2.25002 12.2611V7.33334C2.25002 6.64425 2.24937 6.0873 2.28615 5.63706C2.32356 5.17926 2.40294 4.77344 2.59475 4.39682L2.71682 4.17807C3.02091 3.68236 3.4575 3.27851 3.97853 3.01303L4.12111 2.94663C4.4574 2.80239 4.81812 2.73718 5.21877 2.70444C5.66901 2.66765 6.22597 2.66831 6.91506 2.66831H13.0821C13.771 2.66831 14.3282 2.66766 14.7783 2.70444C15.2361 2.74187 15.642 2.82118 16.0186 3.01303L16.2363 3.1351C16.7323 3.43921 17.1358 3.87562 17.4014 4.39682L17.4688 4.5394C17.613 4.87564 17.6772 5.23648 17.71 5.63706C17.7468 6.0873 17.7471 6.64425 17.7471 7.33334V12.2611Z"})),T_t=Object.freeze(Object.defineProperty({__proto__:null,default:ise},Symbol.toStringTag,{value:"Module"})),Y0=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.668 10.667C12.668 9.95614 12.668 9.46258 12.6367 9.0791C12.6137 8.79732 12.5758 8.60761 12.5244 8.46387L12.4688 8.33399C12.3148 8.03193 12.0803 7.77885 11.793 7.60254L11.666 7.53125C11.508 7.45087 11.2963 7.39395 10.9209 7.36328C10.5374 7.33197 10.0439 7.33203 9.33301 7.33203H6.5C5.78896 7.33203 5.29563 7.33195 4.91211 7.36328C4.63016 7.38632 4.44065 7.42413 4.29688 7.47559L4.16699 7.53125C3.86488 7.68518 3.61186 7.9196 3.43555 8.20703L3.36524 8.33399C3.28478 8.49198 3.22795 8.70352 3.19727 9.0791C3.16595 9.46259 3.16504 9.95611 3.16504 10.667V13.5C3.16504 14.211 3.16593 14.7044 3.19727 15.0879C3.22797 15.4636 3.28473 15.675 3.36524 15.833L3.43555 15.959C3.61186 16.2466 3.86474 16.4807 4.16699 16.6348L4.29688 16.6914C4.44063 16.7428 4.63025 16.7797 4.91211 16.8027C5.29563 16.8341 5.78896 16.835 6.5 16.835H9.33301C10.0439 16.835 10.5374 16.8341 10.9209 16.8027C11.2965 16.772 11.508 16.7152 11.666 16.6348L11.793 16.5645C12.0804 16.3881 12.3148 16.1351 12.4688 15.833L12.5244 15.7031C12.5759 15.5594 12.6137 15.3698 12.6367 15.0879C12.6681 14.7044 12.668 14.211 12.668 13.5V10.667ZM13.998 12.665C14.4528 12.6634 14.8011 12.6602 15.0879 12.6367C15.4635 12.606 15.675 12.5492 15.833 12.4688L15.959 12.3975C16.2466 12.2211 16.4808 11.9682 16.6348 11.666L16.6914 11.5361C16.7428 11.3924 16.7797 11.2026 16.8027 10.9209C16.8341 10.5374 16.835 10.0439 16.835 9.33301V6.5C16.835 5.78896 16.8341 5.29563 16.8027 4.91211C16.7797 4.63025 16.7428 4.44063 16.6914 4.29688L16.6348 4.16699C16.4807 3.86474 16.2466 3.61186 15.959 3.43555L15.833 3.36524C15.675 3.28473 15.4636 3.22797 15.0879 3.19727C14.7044 3.16593 14.211 3.16504 13.5 3.16504H10.667C9.9561 3.16504 9.46259 3.16595 9.0791 3.19727C8.79739 3.22028 8.6076 3.2572 8.46387 3.30859L8.33399 3.36524C8.03176 3.51923 7.77886 3.75343 7.60254 4.04102L7.53125 4.16699C7.4508 4.32498 7.39397 4.53655 7.36328 4.91211C7.33985 5.19893 7.33562 5.54719 7.33399 6.00195H9.33301C10.022 6.00195 10.5791 6.00131 11.0293 6.03809C11.4873 6.07551 11.8937 6.15471 12.2705 6.34668L12.4883 6.46875C12.984 6.7728 13.3878 7.20854 13.6533 7.72949L13.7197 7.87207C13.8642 8.20859 13.9292 8.56974 13.9619 8.9707C13.9987 9.42092 13.998 9.97799 13.998 10.667V12.665ZM18.165 9.33301C18.165 10.022 18.1657 10.5791 18.1289 11.0293C18.0961 11.4302 18.0311 11.7914 17.8867 12.1279L17.8203 12.2705C17.5549 12.7914 17.1509 13.2272 16.6553 13.5313L16.4365 13.6533C16.0599 13.8452 15.6541 13.9245 15.1963 13.9619C14.8593 13.9895 14.4624 13.9935 13.9951 13.9951C13.9935 14.4624 13.9895 14.8593 13.9619 15.1963C13.9292 15.597 13.864 15.9576 13.7197 16.2939L13.6533 16.4365C13.3878 16.9576 12.9841 17.3941 12.4883 17.6982L12.2705 17.8203C11.8937 18.0123 11.4873 18.0915 11.0293 18.1289C10.5791 18.1657 10.022 18.165 9.33301 18.165H6.5C5.81091 18.165 5.25395 18.1657 4.80371 18.1289C4.40306 18.0962 4.04235 18.031 3.70606 17.8867L3.56348 17.8203C3.04244 17.5548 2.60585 17.151 2.30176 16.6553L2.17969 16.4365C1.98788 16.0599 1.90851 15.6541 1.87109 15.1963C1.83431 14.746 1.83496 14.1891 1.83496 13.5V10.667C1.83496 9.978 1.83432 9.42091 1.87109 8.9707C1.90851 8.5127 1.98772 8.10625 2.17969 7.72949L2.30176 7.51172C2.60586 7.0159 3.04236 6.6122 3.56348 6.34668L3.70606 6.28027C4.04237 6.136 4.40303 6.07083 4.80371 6.03809C5.14051 6.01057 5.53708 6.00551 6.00391 6.00391C6.00551 5.53708 6.01057 5.14051 6.03809 4.80371C6.0755 4.34588 6.15483 3.94012 6.34668 3.56348L6.46875 3.34473C6.77282 2.84912 7.20856 2.44514 7.72949 2.17969L7.87207 2.11328C8.20855 1.96886 8.56979 1.90385 8.9707 1.87109C9.42091 1.83432 9.978 1.83496 10.667 1.83496H13.5C14.1891 1.83496 14.746 1.83431 15.1963 1.87109C15.6541 1.90851 16.0599 1.98788 16.4365 2.17969L16.6553 2.30176C17.151 2.60585 17.5548 3.04244 17.8203 3.56348L17.8867 3.70606C18.031 4.04235 18.0962 4.40306 18.1289 4.80371C18.1657 5.25395 18.165 5.81091 18.165 6.5V9.33301Z"})),N_t=Object.freeze(Object.defineProperty({__proto__:null,default:Y0},Symbol.toStringTag,{value:"Module"})),Q0=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.50171 17.5003V3.84799C3.50185 3.29 3.81729 2.74214 4.37476 2.50522L4.80737 2.3353C6.9356 1.5739 8.52703 2.07695 9.948 2.60385C11.4516 3.16139 12.6757 3.68996 14.3953 3.19272L14.572 3.15268C15.4652 3.00232 16.4988 3.59969 16.4988 4.68198V11.8998C16.4986 12.4958 16.1364 13.0672 15.5427 13.2777L15.4216 13.3148C12.9279 13.9583 11.1667 13.2387 9.60815 12.7621C8.82352 12.5221 8.0928 12.3401 7.28784 12.3441C6.5809 12.3477 5.78505 12.4961 4.83179 12.9212V17.5003C4.83161 17.8675 4.53391 18.1654 4.16675 18.1654C3.79959 18.1654 3.50189 17.8675 3.50171 17.5003ZM4.83179 11.4847C5.71955 11.1539 6.52428 11.0178 7.28101 11.014C8.2928 11.0089 9.17964 11.2406 9.99683 11.4906C11.642 11.9938 13.024 12.5603 15.0886 12.0277L15.115 12.016C15.1234 12.0102 15.1316 12.0021 15.1394 11.9915C15.1561 11.969 15.1686 11.9366 15.1687 11.8998V4.68198C15.1687 4.62687 15.1436 4.56746 15.0652 4.51596C15.0021 4.47458 14.9225 4.45221 14.8435 4.45639L14.7644 4.47006C12.5587 5.10779 10.9184 4.38242 9.48511 3.85092C8.15277 3.3569 6.92639 2.98314 5.23804 3.59311L4.89429 3.72885C4.8709 3.73888 4.83192 3.77525 4.83179 3.84799V11.4847Z"})),A_t=Object.freeze(Object.defineProperty({__proto__:null,default:Q0},Symbol.toStringTag,{value:"Module"})),Iu=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.6182 9.33203H3.38184V12.7002C3.38184 13.3753 3.38238 13.8438 3.41211 14.208C3.44124 14.5646 3.49494 14.766 3.57129 14.916L3.63867 15.0361C3.80618 15.3094 4.04683 15.5324 4.33399 15.6787L4.45703 15.7314C4.59362 15.7803 4.77411 15.816 5.04199 15.8379C5.40624 15.8676 5.87469 15.8682 6.54981 15.8682H13.4502C14.1253 15.8682 14.5938 15.8676 14.958 15.8379C15.3146 15.8088 15.516 15.7551 15.666 15.6787L15.7861 15.6113C16.0594 15.4438 16.2824 15.2032 16.4287 14.916L16.4814 14.793C16.5303 14.6564 16.566 14.4759 16.5879 14.208C16.6176 13.8438 16.6182 13.3753 16.6182 12.7002V9.33203ZM17.8818 12.7002C17.8818 13.3547 17.8826 13.8838 17.8477 14.3115C17.8165 14.6922 17.7543 15.0349 17.6172 15.3545L17.5537 15.4902C17.3015 15.9852 16.9182 16.3996 16.4473 16.6885L16.2402 16.8037C15.8824 16.9861 15.4966 17.0621 15.0615 17.0977C14.6338 17.1326 14.1047 17.1318 13.4502 17.1318H6.54981C5.89526 17.1318 5.36616 17.1326 4.93848 17.0977C4.55777 17.0665 4.21506 17.0043 3.89551 16.8672L3.75977 16.8037C3.26483 16.5515 2.85036 16.1682 2.56152 15.6973L2.44629 15.4902C2.26394 15.1324 2.1879 14.7466 2.15235 14.3115C2.1174 13.8838 2.11817 13.3547 2.11817 12.7002V7.29981C2.11817 6.64526 2.1174 6.11616 2.15235 5.68848C2.1879 5.25344 2.26394 4.86765 2.44629 4.50977L2.56152 4.30274C2.85036 3.83179 3.26483 3.44854 3.75977 3.19629L3.89551 3.13281C4.21506 2.99571 4.55777 2.93346 4.93848 2.90235C5.36616 2.8674 5.89526 2.86817 6.54981 2.86817H7.24512C7.38876 2.86816 7.48717 2.86807 7.58399 2.87402L7.83496 2.90039C8.41501 2.98537 8.96006 3.23832 9.40039 3.63086L9.64356 3.86817C9.75546 3.98103 9.79343 4.0181 9.83008 4.05078L9.94238 4.14356C10.2142 4.34787 10.5413 4.46917 10.8828 4.49024L11.1445 4.49317H13.4502C14.1047 4.49317 14.6338 4.4924 15.0615 4.52735C15.4966 4.5629 15.8824 4.63894 16.2402 4.82129L16.4473 4.93652C16.9182 5.22536 17.3015 5.63983 17.5537 6.13477L17.6172 6.27051C17.7543 6.59006 17.8165 6.93277 17.8477 7.31348C17.8826 7.74116 17.8818 8.27026 17.8818 8.92481V12.7002ZM3.38184 8.06836H16.6143C16.6105 7.81516 16.603 7.60256 16.5879 7.41699C16.566 7.14911 16.5303 6.96862 16.4814 6.83203L16.4287 6.70899C16.2824 6.42183 16.0594 6.18118 15.7861 6.01367L15.666 5.94629C15.516 5.86994 15.3146 5.81624 14.958 5.78711C14.5938 5.75738 14.1253 5.75684 13.4502 5.75684H11.1445L10.8047 5.75098C10.2158 5.71466 9.65236 5.50645 9.1836 5.1543L8.98926 4.99414C8.91673 4.92948 8.84746 4.85908 8.7461 4.75684L8.55957 4.57422C8.30416 4.34653 7.98784 4.19959 7.65137 4.15039L7.50684 4.13477C7.45779 4.13174 7.4043 4.13184 7.24512 4.13184H6.54981C5.87469 4.13184 5.40624 4.13238 5.04199 4.16211C4.77411 4.184 4.59362 4.21966 4.45703 4.26856L4.33399 4.32129C4.04683 4.4676 3.80618 4.69061 3.63867 4.96387L3.57129 5.08399C3.49494 5.23405 3.44124 5.43543 3.41211 5.79199C3.38238 6.15624 3.38184 6.62469 3.38184 7.29981V8.06836Z"})),LDe=Object.freeze(Object.defineProperty({__proto__:null,default:Iu},Symbol.toStringTag,{value:"Module"})),lse=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M4.08363 10.833C4.08381 8.48594 5.98653 6.58301 8.33363 6.58301H14.8561L12.8034 8.63672L12.7516 8.69336C12.5113 8.98794 12.5288 9.42267 12.8034 9.69726C13.078 9.97153 13.5118 9.9882 13.8063 9.74804L13.8639 9.69726L17.1969 6.36328C17.4896 6.07037 17.4898 5.59557 17.1969 5.30273L13.8639 1.96972L13.8063 1.91797C13.5118 1.67804 13.0779 1.6954 12.8034 1.96972C12.5287 2.24438 12.5112 2.67905 12.7516 2.97363L12.8034 3.03027L14.8561 5.08301H8.33363C5.1581 5.08301 2.58381 7.65752 2.58363 10.833C2.58363 14.0086 5.158 16.583 8.33363 16.583H11.6666C12.0809 16.583 12.4166 16.2472 12.4166 15.833C12.4165 15.4189 12.0807 15.083 11.6666 15.083H8.33363C5.98642 15.083 4.08363 13.1802 4.08363 10.833Z"})),P_t=Object.freeze(Object.defineProperty({__proto__:null,default:lse},Symbol.toStringTag,{value:"Module"})),RDe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M12.9707 17.9707C12.711 18.2302 12.289 18.2302 12.0293 17.9707C11.7699 17.7112 11.7701 17.29 12.0293 17.0303L12.9707 17.9707Z"}),g.createElement("path",{d:"M17.5537 17.0303C17.8131 17.29 17.8133 17.7111 17.5537 17.9707C17.2941 18.2301 16.873 18.23 16.6133 17.9707L17.5537 17.0303Z"}),g.createElement("path",{d:"M16.6133 12.4463C16.873 12.187 17.2941 12.1869 17.5537 12.4463C17.8132 12.706 17.8134 13.1281 17.5537 13.3877L15.7324 15.208L17.5537 17.0303L17.083 17.5L16.6133 17.9707L14.791 16.1494L12.9707 17.9707L12.5 17.5L12.0293 17.0303L13.8506 15.208L12.0293 13.3877L11.9443 13.2832C11.7739 13.0251 11.8022 12.6736 12.0293 12.4463C12.2566 12.219 12.6081 12.1908 12.8662 12.3613L12.9707 12.4463L14.791 14.2676L16.6133 12.4463Z"}),g.createElement("path",{d:"M14.75 2.25195C15.7154 2.25209 16.4988 3.03465 16.499 4V9.58398C16.4987 9.95076 16.2008 10.2487 15.834 10.249C15.4669 10.249 15.1693 9.95095 15.1689 9.58398V4C15.1688 3.76919 14.9808 3.58216 14.75 3.58203H8.99805V12.916C8.99805 13.2833 8.70028 13.5811 8.33301 13.5811C7.96585 13.5809 7.66797 13.2832 7.66797 12.916V3.58203H6.66699C5.65355 3.58203 4.83203 4.40355 4.83203 5.41699V14.584L4.8418 14.7715C4.93604 15.6965 5.71709 16.4189 6.66699 16.4189H8.75L8.88477 16.4326C9.1874 16.4949 9.41504 16.7629 9.41504 17.084C9.41473 17.4049 9.18732 17.6732 8.88477 17.7354L8.75 17.749H6.66699C4.9736 17.749 3.59058 16.4184 3.50586 14.7461L3.50195 14.584V5.41699C3.50195 3.66901 4.91901 2.25195 6.66699 2.25195H14.75Z"})),I_t=Object.freeze(Object.defineProperty({__proto__:null,default:RDe},Symbol.toStringTag,{value:"Module"})),ODe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4844 10.0078C15.3242 9.32319 16.563 9.37165 17.3457 10.1543C18.1284 10.937 18.1768 12.1758 17.4922 13.0156L17.3457 13.1787L13.5371 16.9873C13.0708 17.4535 12.4697 17.7626 11.8193 17.8711L10.1113 18.1553C9.89955 18.1906 9.6841 18.1215 9.53223 17.9697C9.38039 17.818 9.31054 17.6024 9.3457 17.3906L9.62988 15.6816C9.73814 15.0305 10.0469 14.4287 10.5137 13.9619L14.3213 10.1543L14.4844 10.0078ZM16.4053 11.0947C16.1095 10.799 15.6406 10.7804 15.3232 11.0391L15.2627 11.0947L11.4541 14.9023C11.1835 15.1729 11.0042 15.522 10.9414 15.8994L10.8096 16.6904L11.6006 16.5586L11.7412 16.5303C12.064 16.4501 12.3602 16.2823 12.5967 16.0459L16.4053 12.2373L16.4609 12.1768C16.7196 11.8593 16.7011 11.3905 16.4053 11.0947Z"}),g.createElement("path",{d:"M14.75 2.25195C15.7154 2.25209 16.4988 3.03465 16.499 4V7.08398C16.4987 7.45076 16.2008 7.74872 15.834 7.74902C15.4669 7.74902 15.1693 7.45095 15.1689 7.08398V4C15.1688 3.76919 14.9808 3.58216 14.75 3.58203H8.99805V11.666C8.99805 12.0333 8.70028 12.3311 8.33301 12.3311C7.96585 12.3309 7.66797 12.0332 7.66797 11.666V3.58203H6.66699C5.65355 3.58203 4.83203 4.40355 4.83203 5.41699V14.584L4.8418 14.7715C4.92976 15.6349 5.61601 16.3215 6.47949 16.4092L6.66699 16.4189L6.80078 16.4326C7.10373 16.4947 7.33203 16.7627 7.33203 17.084C7.33172 17.4051 7.10365 17.6734 6.80078 17.7354L6.66699 17.749L6.50391 17.7441C4.88564 17.662 3.58784 16.3644 3.50586 14.7461L3.50195 14.584V5.41699C3.50195 3.66901 4.91901 2.25195 6.66699 2.25195H14.75Z"})),L_t=Object.freeze(Object.defineProperty({__proto__:null,default:ODe},Symbol.toStringTag,{value:"Module"})),$f=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.47119 1.44011C9.21443 0.309919 10.9178 0.348019 11.5972 1.55339L13.5425 5.00554L13.564 5.03484C13.5876 5.06126 13.6194 5.07938 13.6548 5.0866L17.5396 5.87078C18.8959 6.14444 19.4579 7.75217 18.6128 8.80828L18.5269 8.90886L15.8452 11.8259C15.8125 11.8614 15.7968 11.9097 15.8022 11.9577L16.2573 15.8952L16.2681 16.027C16.3308 17.378 14.9304 18.3479 13.6724 17.7721L10.0688 16.1237C10.0358 16.1086 9.99927 16.1044 9.96436 16.112L9.93018 16.1237L6.32666 17.7721C5.0281 18.3664 3.57889 17.3138 3.74268 15.8952L4.19776 11.9577V11.9225C4.19539 11.8988 4.18827 11.8758 4.17627 11.8552L4.15479 11.8259L1.47315 8.90886C0.506645 7.85753 1.05975 6.15347 2.45947 5.87078L6.34424 5.0866L6.37842 5.07586C6.41112 5.06151 6.43866 5.03717 6.45654 5.00554L8.40283 1.55339L8.47119 1.44011Z"})),R_t=Object.freeze(Object.defineProperty({__proto__:null,default:$f},Symbol.toStringTag,{value:"Module"})),_c=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.6299 1.33496C12.0335 1.33496 13.2695 2.25996 13.666 3.60645L13.8809 4.33496H17L17.1338 4.34863C17.4369 4.41057 17.665 4.67858 17.665 5C17.665 5.32142 17.4369 5.58943 17.1338 5.65137L17 5.66504H16.6543L15.8574 14.9912C15.7177 16.629 14.3478 17.8877 12.7041 17.8877H7.2959C5.75502 17.8877 4.45439 16.7815 4.18262 15.2939L4.14258 14.9912L3.34668 5.66504H3C2.63273 5.66504 2.33496 5.36727 2.33496 5C2.33496 4.63273 2.63273 4.33496 3 4.33496H6.11914L6.33398 3.60645L6.41797 3.3584C6.88565 2.14747 8.05427 1.33496 9.37012 1.33496H10.6299ZM5.46777 14.8779L5.49121 15.0537C5.64881 15.9161 6.40256 16.5576 7.2959 16.5576H12.7041C13.6571 16.5576 14.4512 15.8275 14.5322 14.8779L15.3193 5.66504H4.68164L5.46777 14.8779ZM7.66797 12.8271V8.66016C7.66797 8.29299 7.96588 7.99528 8.33301 7.99512C8.70028 7.99512 8.99805 8.29289 8.99805 8.66016V12.8271C8.99779 13.1942 8.70012 13.4912 8.33301 13.4912C7.96604 13.491 7.66823 13.1941 7.66797 12.8271ZM11.002 12.8271V8.66016C11.002 8.29289 11.2997 7.99512 11.667 7.99512C12.0341 7.9953 12.332 8.293 12.332 8.66016V12.8271C12.3318 13.1941 12.0339 13.491 11.667 13.4912C11.2999 13.4912 11.0022 13.1942 11.002 12.8271ZM9.37012 2.66504C8.60726 2.66504 7.92938 3.13589 7.6582 3.83789L7.60938 3.98145L7.50586 4.33496H12.4941L12.3906 3.98145C12.1607 3.20084 11.4437 2.66504 10.6299 2.66504H9.37012Z"})),O_t=Object.freeze(Object.defineProperty({__proto__:null,default:_c},Symbol.toStringTag,{value:"Module"}));function Hj(n){var r=n,{className:t}=r,e=de(r,["className"]);return o.jsx("textarea",C({className:U("form-textarea border-token-border-default bg-token-main-surface-secondary text-token-text-primary focus:border-token-text-primary focus:ring-token-text-primary w-full rounded-lg border text-sm focus:shadow-none focus:outline-hidden",t)},e))}function DDe(t){return Vt({mutationFn:async({message:e,includeFrom:n})=>{await Wo.sendFeedbackEmail(t,e,n)}})}const FDe=({gizmo:t,onClose:e})=>{const n=Wt(),r=Z(),s=Tt(),[a,i]=g.useState(""),[l,c]=g.useState(!0),u=DDe(t.gizmo.id),d=a.length===0;return o.jsx(tt,{testId:"modal-gizmo-feedback-email",type:"success",title:r.formatMessage(f2.title,{name:t.gizmo.display.name}),isOpen:!0,onClose:e,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:o.jsx("div",{className:"flex flex-row",children:o.jsxs("div",{className:"flex grow flex-col space-y-4",children:[o.jsx(Hj,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:"Write feedback about ".concat(t.gizmo.display.name,"..."),value:a,rows:4,onChange:f=>i(f.target.value)}),o.jsxs("div",{className:"flex flex-row items-center space-x-2 self-start",children:[o.jsx("input",{type:"checkbox",checked:l,onChange:f=>c(f.target.checked)}),n&&o.jsx("span",{className:"text-sm",children:o.jsx(N,P(C({},f2.includeFrom),{values:{email:o.jsx("strong",{children:n.email})}}))})]}),o.jsx(oe,{color:"primary",disabled:d,onClick:async()=>{await u.mutateAsync({message:a,includeFrom:l}),s.success(r.formatMessage(f2.successToast),{duration:3}),e()},children:o.jsx(N,P(C({},f2.send),{values:{name:t.gizmo.author.display_name}}))})]})})})},f2=pe({title:{id:"GizmoFeedbackEmailModal.title",defaultMessage:"Feedback about {name}"},send:{id:"GizmoFeedbackEmailModal.sendTo",defaultMessage:"Send To {name}"},successToast:{id:"GizmoFeedbackEmailModal.successToast",defaultMessage:"Feedback sent"},includeFrom:{id:"GizmoFeedbackEmailModal.includeFrom",defaultMessage:"Include my email address {email}"}}),ba=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.50171 11.8333V8.16635C3.50171 7.47741 3.50106 6.92023 3.53784 6.47006C3.57527 6.0123 3.65458 5.60643 3.84644 5.22983L3.96851 5.01205C4.27261 4.51613 4.70902 4.11258 5.23023 3.84702L5.3728 3.77963C5.70905 3.63544 6.06988 3.57116 6.47046 3.53842C6.9207 3.50164 7.47766 3.50131 8.16675 3.50131H8.33374L8.46753 3.51498C8.77043 3.57699 8.99863 3.84515 8.99878 4.16635C8.99878 4.48765 8.77047 4.75564 8.46753 4.81772L8.33374 4.83139H8.16675C7.45571 4.83139 6.96238 4.83228 6.57886 4.86362C6.29685 4.88666 6.1074 4.92444 5.96362 4.97592L5.83374 5.03159C5.53155 5.18556 5.27861 5.41982 5.1023 5.70737L5.03198 5.83334C4.9515 5.99131 4.89472 6.20296 4.86401 6.57846C4.83268 6.96192 4.83179 7.45549 4.83179 8.16635V11.8333C4.83179 12.5444 4.83268 13.0377 4.86401 13.4212C4.89472 13.7969 4.95147 14.0083 5.03198 14.1664L5.1023 14.2923C5.27861 14.58 5.53148 14.8141 5.83374 14.9681L5.96362 15.0247C6.10737 15.0762 6.297 15.113 6.57886 15.1361C6.96238 15.1674 7.45571 15.1683 8.16675 15.1683H11.8337C12.5446 15.1683 13.0382 15.1674 13.4216 15.1361C13.7971 15.1054 14.0088 15.0486 14.1667 14.9681L14.2927 14.8978C14.5803 14.7215 14.8145 14.4685 14.9685 14.1664L15.0242 14.0365C15.0756 13.8927 15.1134 13.7032 15.1365 13.4212C15.1678 13.0377 15.1687 12.5444 15.1687 11.8333V11.6664C15.1689 11.2992 15.4666 11.0013 15.8337 11.0013C16.2008 11.0015 16.4986 11.2993 16.4988 11.6664V11.8333C16.4988 12.5224 16.4985 13.0794 16.4617 13.5296C16.4289 13.9302 16.3647 14.291 16.2205 14.6273L16.1531 14.7699C15.8875 15.2911 15.484 15.7275 14.988 16.0316L14.7703 16.1537C14.3937 16.3455 13.9878 16.4248 13.53 16.4622C13.0799 16.499 12.5227 16.4984 11.8337 16.4984H8.16675C7.47766 16.4984 6.9207 16.499 6.47046 16.4622C6.06981 16.4295 5.7091 16.3643 5.3728 16.2201L5.23023 16.1537C4.70919 15.8882 4.2726 15.4843 3.96851 14.9886L3.84644 14.7699C3.65463 14.3933 3.57525 13.9874 3.53784 13.5296C3.50106 13.0794 3.50171 12.5224 3.50171 11.8333ZM11.3035 9.63705C11.0438 9.89659 10.6227 9.8967 10.363 9.63705C10.1034 9.37741 10.1035 8.95634 10.363 8.69662L11.3035 9.63705ZM17.3318 7.50034C17.3316 7.86746 17.0339 8.16537 16.6667 8.16537C16.2996 8.16537 16.0019 7.86746 16.0017 7.50034V4.93881L11.3035 9.63705L10.8337 9.16635L10.363 8.69662L15.0603 3.99838H12.4998C12.1326 3.99821 11.8347 3.7005 11.8347 3.33334C11.8347 2.96618 12.1326 2.66848 12.4998 2.6683H16.6667L16.8005 2.68198C17.1037 2.74391 17.3318 3.01191 17.3318 3.33334V7.50034Z"})),D_t=Object.freeze(Object.defineProperty({__proto__:null,default:ba},Symbol.toStringTag,{value:"Module"}));function BDe(t){const e=pt();return Vt({mutationFn:async({actionId:n,domain:r,settings:s})=>Wo.upsertUserActionSettings(n,r,s),onSuccess:()=>{e.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:t}]})}})}function UDe(t){const e=pt();return Vt({mutationFn:async({pluginId:n})=>{await ue.safeDelete("/aip/p/{id}/user-settings",{parameters:{path:{id:n}}})},onSuccess:()=>{e.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:t}]})}})}const HDe=({gizmo:t,onClose:e})=>{const{data:n,isLoading:r}=J3e(t.gizmo.id,!0),s=Z(),[a,i]=g.useState("actions"),l=n!=null&&n.settings.some(c=>c.oauth_status!=null&&t.tools.some(u=>{var d;return u.type===Vn.JIT_PLUGIN&&((d=u.metadata)==null?void 0:d.action_id)===c.action_id}));return a==="connected_accounts"&&!l&&i("actions"),o.jsx(tt,{testId:"modal-gizmo-privacy-settings",title:s.formatMessage(So.title),isOpen:!0,onClose:e,type:"success",size:"custom",className:"min-h-[50vh] max-w-3xl overflow-y-auto scroll-smooth",noPadding:!0,showCloseButton:!0,children:r?o.jsx(On,{}):o.jsxs(AY,{className:"flex flex-row gap-6 p-4",orientation:"vertical",defaultValue:a,onValueChange:c=>{i(c)},children:[l&&o.jsxs(PY,{className:U("flex max-w-[200px] min-w-[180px] shrink-0 flex-col gap-2"),children:[o.jsx(HR,{value:"actions",message:So.actions}),l&&o.jsx(HR,{value:"connected_accounts",message:So.connectedAccounts})]}),o.jsxs("div",{className:"flex-1 text-sm",children:[a==="actions"&&o.jsxs(VR,{children:[o.jsx(N,P(C({},So.allowedActionsDesc),{values:{gizmoName:t.gizmo.display.name}})),n==null?void 0:n.settings.map((c,u)=>{var f;const d=(f=t.tools)==null?void 0:f.find(m=>{var p;return m.type===Vn.JIT_PLUGIN&&((p=m.metadata)==null?void 0:p.action_id)===c.action_id});return d&&o.jsx(VDe,{gizmoId:t.gizmo.id,actionSettings:c,actionTool:d},u)})]}),a==="connected_accounts"&&o.jsxs(VR,{children:[o.jsx(N,P(C({},So.connectedAccountsDesc),{values:{gizmoName:t.gizmo.display.name}})),o.jsx("div",{children:n==null?void 0:n.settings.map((c,u)=>{var f;const d=(f=t.tools)==null?void 0:f.find(m=>{var p;return m.type===Vn.JIT_PLUGIN&&((p=m.metadata)==null?void 0:p.action_id)===c.action_id});return d&&c.oauth_status&&o.jsx($De,{gizmoId:t.gizmo.id,actionSettings:c,actionTool:d},u)})})]})]})]})})};function HR({value:t,message:e}){return o.jsx(IY,{className:"text-token-text-primary radix-state-active:bg-white dark:radix-state-active:bg-token-main-surface-tertiary md:radix-state-active:bg-token-main-surface-tertiary md:radix-state-active:text-token-text-primary flex rounded-md px-2 py-1.5 text-sm",value:t,children:o.jsx("div",{className:"truncate",children:o.jsx(N,C({},e))})})}function VDe({gizmoId:t,actionSettings:e,actionTool:n}){var i,l,c;const r=BDe(t),s=(i=e.action_settings)==null?void 0:i.all,a=u=>{var d,f;(d=n.metadata)!=null&&d.action_id&&((f=n.metadata)!=null&&f.domain)&&r.mutateAsync({actionId:n.metadata.action_id,domain:n.metadata.domain,settings:{all:u}})};return o.jsx("div",{children:o.jsxs(cse,{className:"border-b border-black/10 dark:border-white/10",children:[o.jsxs("div",{className:"flex flex-row space-x-4",children:[o.jsx("div",{className:"font-semibold",children:(l=n.metadata)==null?void 0:l.domain}),o.jsxs("a",{href:(c=n.metadata)==null?void 0:c.privacy_policy_url,target:"_blank",rel:"noreferrer",className:"text-token-text-tertiary hover:text-token-text-secondary flex items-center gap-1 hover:cursor-pointer",children:[o.jsx(N,C({},So.privacyPolicyLink)),o.jsx(ba,{className:"icon"})]})]}),o.jsxs("select",{value:s?"always_allow":"unset",onChange:u=>a(u.target.value),className:"bg-token-main-surface-primary rounded-sm border-none text-sm",children:[o.jsx("option",{value:"always_allow",children:o.jsx(N,C({},So.alwaysAllowDropdown))}),o.jsx("option",{value:"unset",children:o.jsx(N,C({},So.askDropdown))})]})]})})}function $De({gizmoId:t,actionSettings:e,actionTool:n}){var a;const r=UDe(t),s=e.oauth_status==="valid";return o.jsxs(cse,{children:[o.jsx("div",{className:"font-semibold",children:(a=n==null?void 0:n.metadata)==null?void 0:a.domain}),o.jsx(oe,{color:"secondary",size:"small",onClick:()=>{var i,l,c,u,d;(i=n.metadata)!=null&&i.action_id&&((l=n.metadata)!=null&&l.domain)&&(s?r.mutateAsync({pluginId:(c=n.metadata)==null?void 0:c.action_id}):Wo.doOAuthRedirect(t,(u=n.metadata)==null?void 0:u.action_id,(d=n.metadata)==null?void 0:d.domain,window.location.href))},children:o.jsx(N,C({},s?So.logout:So.login))})]})}var MZ;const VR=Ge.div(MZ||(MZ=qe(["flex flex-col gap-6"])));var EZ;const cse=Ge.div(EZ||(EZ=qe(["flex flex-row justify-between py-3 items-center"]))),So=pe({title:{defaultMessage:"GPT's privacy settings",id:"GizmoPrivacySettings.title"},actions:{defaultMessage:"Actions",id:"GizmoPrivacySettings.actions"},connectedAccounts:{defaultMessage:"Connected accounts",id:"GizmoPrivacySettings.connectedAccounts"},connectedAccountsDesc:{defaultMessage:"Manage which 3rd party accounts can be accessed by {gizmoName}.",id:"GizmoPrivacySettings.connectedAccountsDesc"},allowedActionsTitle:{defaultMessage:"GPT's privacy settings",id:"GizmoPrivacySettings.allowedActionsTitle"},allowedActionsDesc:{defaultMessage:"Select which 3rd party actions are allowed in conversations with {gizmoName}.",id:"GizmoPrivacySettings.allowedActionsDesc"},privacyPolicyLink:{defaultMessage:"Privacy policy",id:"GizmoPrivacySettings.privacyPolicyLink"},alwaysAllowDropdown:{defaultMessage:"Always allow",id:"GizmoPrivacySettings.alwaysAllowDropdown"},askDropdown:{defaultMessage:"Ask",id:"GizmoPrivacySettings.askDropdown"},login:{defaultMessage:"Log in",id:"GizmoPrivacySettings.login"},logout:{defaultMessage:"Log out",id:"GizmoPrivacySettings.logout"}}),xt=pe({newChatInProject:{id:"proj-new-chat-placeholder",defaultMessage:"New chat in {projectName}"},emptyFileInstructions:{id:"si7jJz",defaultMessage:"Add documents, code files, images, and more. {gizmoNameText} can access their contents when you chat inside the project."},emptyFileGizmoName:{id:"xr5T2P",defaultMessage:"{gizmoName}"},addConversationToSnorlax:{id:"PU4d/V",defaultMessage:"Add to project"},addConversationToNamedSnorlax:{id:"shKpqh",defaultMessage:"Add to {projectName}"},removeConversationFromSnorlax:{id:"xSI3aZ",defaultMessage:"Remove from {projectName}"},moveConversation:{id:"GM4pWN",defaultMessage:"Move this conversation"},moveConversationToSnorlax:{id:"M97tb/",defaultMessage:"Move to project"},moveConversationToSnorlaxError:{id:"mA7nfR",defaultMessage:"Failed to move the conversation to the project"},newProjectButton:{id:"2qkMU1",defaultMessage:"New project"},newProjectButtonWithNoProjects:{id:"nL/Xy7",defaultMessage:"Projects"},nameTooLong:{id:"feWA6K",defaultMessage:"Project names cannot be longer than {length} characters."},createProjectDisabledByAdmin:{id:"WosQBt",defaultMessage:"Create project is disabled by your admin"},createProjectSubmit:{id:"AHBOEO",defaultMessage:"Create project"},createProjectCancel:{id:"DxU9sm",defaultMessage:"Cancel"},projectNameLabel:{id:"aBtY0G",defaultMessage:"Project name"},projectNameDescription:{id:"NQrF3x",defaultMessage:"Give your project a name"},projectNamePlaceholder:{id:"XS7JR8",defaultMessage:"E.g. Birthday Party Planning"},newChatProjectDropdownItem:{id:"MutDla",defaultMessage:"New chat in {name}"},cancel:{id:"iz2OBQ",defaultMessage:"Cancel"},save:{id:"gTdsTU",defaultMessage:"Save"},removeFile:{id:"COAUqx",defaultMessage:"Remove file"},customInstructionsTitle:{id:"K7k/ns",defaultMessage:"Add instructions"},customInstructionsReadOnlyTitle:{id:"DC+Brl",defaultMessage:"Instructions not yet added"},customInstructionsDescription:{id:"mpKjkc",defaultMessage:"Tailor the way ChatGPT responds in this project"},customInstructionsReadOnlyDescription:{id:"lTa/PV",defaultMessage:"When a project owner or editor adds instructions, ChatGPT will tailor its responses"},filesCount:{id:"XKCsL9",defaultMessage:"{count} {count, plural, one {file} other {files}}"},interpreterOnlyLabel:{id:"/Bdw7C",defaultMessage:"File contents may not be accessible"},defaultColor:{id:"1nrbk9",defaultMessage:"Default color"},editColor:{id:"2r5j3V",defaultMessage:"Edit color"},editCustomInstructionsTitle:{id:"nedukh",defaultMessage:"Instructions"},editCustomInstructionsSubtitle:{id:"NgP+hF",defaultMessage:"How can ChatGPT best help you with this project?"},readOnlyCustomInstructionsTitle:{id:"kK/uLW",defaultMessage:"Custom instructions for ChatGPT to best help with this project"},editCustomInstructionsDescription:{id:"PNY7g9",defaultMessage:"You can ask ChatGPT to focus on certain topics, or ask it to use a certain tone or format for responses."},addInstructionsDropdownLabel:{id:"ArKRrM",defaultMessage:"Add instructions"},editInstructionsDropdownLabel:{id:"p3KE0Q",defaultMessage:"Edit instructions"},viewOnlyInstructionsDropdownLabel:{id:"wAT0FX",defaultMessage:"View instructions"},viewOnlyCustomInstructionsModalHeaderLabel:{id:"Kd53xN",defaultMessage:"View-only"},viewOnlyCustomInstructionsModalHeaderTooltip:{id:"hN4/oD",defaultMessage:"You can only chat in this project."},searchingProjectFiles:{id:"dZazsY",defaultMessage:"Searching project files"},addAction:{id:"vTkTuN",defaultMessage:"Add Action"},editActions:{id:"Lx3frs",defaultMessage:"Edit Actions"},addCustomInstructions:{id:"rEdrLS",defaultMessage:"Add custom instructions"},instructionsTooLong:{id:"hwBx62",defaultMessage:"Project instructions cannot be longer than {length} characters."},dragInstructions:{id:"yA3Jxu",defaultMessage:"Add anything"},dragAllAccepted:{id:"CJNN+O",defaultMessage:"Drop any file here to add it to the project"},dragTooManyFiles:{id:"O2Xr4P",defaultMessage:"Too many files"},unknownError:{id:"Eu2Hdz",defaultMessage:"Unknown error occurred"},dragTooManyFilesError:{id:"FJ8M/t",defaultMessage:"Error uploading: Projects can't contain more than {maxFileLimit} files"},dragTooManyFilesDescription:{id:"ZFLPRQ",defaultMessage:"Projects can't contain more than {maxFileLimit} files"},addFilesToProject:{id:"yMVX4l",defaultMessage:"Add files"},filesThatCanBeReferenced:{id:"0mQnwH",defaultMessage:"Add documents, code files, images, and more. {projectName} can access their contents when you chat inside the project."},projectFilesModalTitle:{id:"o6Ozbv",defaultMessage:"Project files"},addFilesButtonLabel:{id:"yMVX4l",defaultMessage:"Add files"},viewFilesButtonLabel:{id:"2lu9im",defaultMessage:"Files not yet added"},filesControlDescription:{id:"Y/Z2lM",defaultMessage:"Chats in this project can access file content"},projectCopyInProgressBanner:{id:"R1WXsJ",defaultMessage:"Your chats are still being copied and will appear here shortly."},noFilesReadOnlyDescription:{id:"HNxajn",defaultMessage:"When a project owner or editor adds files to this project, chats can access their contents"},projectDetailsSectionLabel:{id:"9y2Kag",defaultMessage:"Details"},hideProjectDetailsTooltip:{id:"Ar0X7X",defaultMessage:"Hide project details"},showProjectDetailsTooltip:{id:"a8ust8",defaultMessage:"Show project details"},showProjectDetailsButton:{id:"ni4Lkt",defaultMessage:"Show project details"},projectsHeading:{id:"GHFgIA",defaultMessage:"Projects"},seeMoreProjectItems:{id:"znMnZ9",defaultMessage:"See more"},emptyChatsInProjectTitle:{id:"BzycLE",defaultMessage:"Start a new chat, or drag an old one in"},chatsInProjectTitle:{id:"jgAOuP",defaultMessage:"Chats in this project"},projectSettingsSubmitButton:{id:"TayvQF",defaultMessage:"Save"},loadingProjects:{id:"oKi2Bo",defaultMessage:"Loading projects"},seeAllChats:{id:"PwRmke",defaultMessage:"See All"},newChatTitle:{id:"RtFhWK",defaultMessage:"New chat"},unableToLoadHistory:{id:"tQ7WMF",defaultMessage:"Unable to load projects"},retryLoadingHistory:{id:"IoImQ5",defaultMessage:"Retry"},showProjectDetailsDropdown:{id:"LUjGtd",defaultMessage:"Show project details"},deleteProjectModalTitle:{id:"pPgHKT",defaultMessage:"Delete project?"},deleteProjectModalButton:{id:"w2DKG5",defaultMessage:"Delete"},cancelDeleteProjectModalButton:{id:"E7RoUe",defaultMessage:"Cancel"},deleteProjectModalDescription:{id:"Vl4p9p",defaultMessage:"<bold>This will permanently delete all project files and chats.</bold> To save chats, move them to your chat list or another project before deleting."},deleteProjectDropdownButton:{id:"dD0vWg",defaultMessage:"Delete project"},deleteProjectFailedToast:{id:"KAw2h3",defaultMessage:"Failed to delete project. Please try again."},leaveProjectDropdownButton:{id:"FCEK0r",defaultMessage:"Leave project"},leaveProjectModalTitle:{id:"VTNOvq",defaultMessage:"Leave {projectName}?"},leaveProjectModalButton:{id:"YZjX2E",defaultMessage:"Leave"},cancelLeaveProjectModalButton:{id:"56ATCt",defaultMessage:"Cancel"},leaveProjectModalDescription:{id:"80hv7n",defaultMessage:"<bold>You'll lose access to all project content, including your chats.</bold> To keep your chats, save a copy by checking the box below or move them to your chat list or another project before leaving."},leaveProjectSaveCopyLabel:{id:"emsuo1",defaultMessage:"Save a copy of my chats"},leaveProjectSaveCopyDescription:{id:"iwhK/O",defaultMessage:"A copy of this project will be made with only your chats. This can take a few minutes."},leaveProjectFailedToast:{id:"w6BO+i",defaultMessage:"Failed to leave project. Please try again."},projectInstructionsPlaceholder:{id:"w/NZvS",defaultMessage:"e.g. âRespond in Spanish. Reference the latest JavaScript documentation. Keep answers short and focused.â"},newProjectButtonTooltip:{id:"oh2NTp",defaultMessage:"New project"},editProjectNameDropdownButton:{defaultMessage:"Rename project",id:"snorlax.edit-actions.rename-project"},hideChatsForProjectTooltip:{id:"ZjBLTY",defaultMessage:"Hide chats"},projectHelperBoxTitle:{id:"QIriII",defaultMessage:"What's a project?"},projectHelperBoxDescription:{id:"QEsg2b",defaultMessage:"Projects keep chats, files, and custom instructions in one place. Use them for ongoing work, or just to keep things tidy."},projectsNuxTooltipTitle:{id:"Ub7Cl2",defaultMessage:"Introducing projects"},projectsUpdateTooltipTitle:{id:"OyZXt4",defaultMessage:"Projects can do more"},projectsToFreeTitle:{id:"mWKZ6S",defaultMessage:"New"},projectsNuxTooltipDescription:{id:"aLohnf",defaultMessage:"Keep chats, files, and custom instructions all in one place. Ideal for organizing work or shaping big ideas."},projectsUpdateTooltipDescription:{id:"ZzivYc",defaultMessage:"Now you can run deep research and use voice mode within your projects."},projectShareButton:{id:"Sc1ypd",defaultMessage:"Share"},projectShareTitle:{id:"lYXaUt",defaultMessage:"Share this project"},projectShareChatTitle:{id:"YgsrLO",defaultMessage:"Share link to chat"},showChatsForProjectTooltip:{id:"FcBR2j",defaultMessage:"Show chats"},projectFileRateLimitBannerTitle:{id:"ghJIms",defaultMessage:"File limit reached"},projectFileRateLimitBannerPlusDescription:{id:"WOJ2H5",defaultMessage:"You can add up to {freeFileLimit} files on the free plan. Upgrade to plus to add {paidFileLimit} files."},projectFileRateLimitBannerProDescription:{id:"jXcJWN",defaultMessage:"You can add up to {paidFileLimit} files on the {planType} plan. Upgrade to pro to add {proFileLimit} files."},upgradeToPlus:{id:"ZO/XN9",defaultMessage:"Upgrade plan"},projectJoinModalWithCreatorTitle:{id:"q1fGPT",defaultMessage:"{projectCreator} invited you to join the project"},projectJoinModalWithoutCreatorTitle:{id:"j9rPp1",defaultMessage:"You've been invited to join the project"},membersCount:{id:"seSpmx",defaultMessage:"{count} {count, plural, one {member} other {members}}"},joinProjectButtonLabel:{id:"71Z5aG",defaultMessage:"Join project"}});function m2(t){t&&t.danger("Failed to copy to clipboard.",{duration:4,hasCloseButton:!0,toastId:"copy_to_clipboard_failed_to_copy"})}function Uo(t,e,n){var s,a,i;const{navigator:r}=(i=(a=(s=n==null?void 0:n.target)==null?void 0:s.ownerDocument)==null?void 0:a.defaultView)!=null?i:window;return new Promise((l,c)=>{var u;if(!(r!=null&&r.clipboard)){m2(e),c();return}try{if("write"in r.clipboard&&"supports"in ClipboardItem){const d=Object.entries(typeof t=="string"?{"text/plain":t}:t).map(([m,p])=>[m,typeof p=="string"?new Blob([p],{type:m}):p]);if(d.length===0){l("success");return}const f=new ClipboardItem(Object.fromEntries(d));r.clipboard.write([f]).then(()=>l("success"),()=>{m2(e),c()})}else{const d=typeof t=="string"?t:(u=t["text/plain"])!=null?u:"";r.clipboard.writeText(d).then(()=>l("success"),()=>{m2(e),c()})}}catch(d){m2(e),c()}})}function qDe(t,e){returnwindow.location.origin.concat(Sf(t,e))}async function F_t(t,e,n,r,s){await Uo(qDe(t,e),n,r),s&&n.info(s,{id:"gizmo-copy-url",testId:"copy-gizmo-url-toast"})}function use(t){return t.some(e=>e.type===Vn.JIT_PLUGIN)}function zDe(t){var e;return"gizmo_id"in t&&(e=t.gizmo_id)!=null?e:null}function B_t(t){var e,n,r,s,a,i,l,c,u,d,f;return{id:t.gizmo.id,instructions:t.gizmo.instructions,name:t.gizmo.display.name,description:(e=t.gizmo.display.description)!=null?e:"",emoji:(n=t.gizmo.display.emoji)!=null?n:void 0,theme:(r=t.gizmo.display.theme)!=null?r:void 0,profilePictureId:(s=t.gizmo.display.profile_pic_id)!=null?s:void 0,profilePictureUrl:(a=t.gizmo.display.profile_picture_url)!=null?a:void 0,promptStarters:(i=t.gizmo.display.prompt_starters)!=null?i:[],tools:Xc(t.tools),files:Xc(t.files),sharing:t.gizmo.sharing?Xc(t.gizmo.sharing):{subjects:[],recipient:t.gizmo.share_recipient},trainingDisabled:(l=t.gizmo.training_disabled)!=null?l:!1,goal:(c=t.gizmo.goal)!=null?c:void 0,memoryScope:(u=t.gizmo.memory_scope)!=null?u:Dl.UNSET,sharingRecipient:t.gizmo.share_recipient,sharingTargets:Xc(t.gizmo.sharing_targets),liveVersion:(d=t.gizmo.live_version)!=null?d:0,contextStuffingBudget:t.gizmo.context_stuffing_budget,defaultModel:(f=t.gizmo.default_model)!=null?f:void 0}}function GDe(t){return t===Dl.GLOBAL||t===Dl.UNSET||t===Dl.PROJECT}function U_t(t){return GDe(t)?Dl.GLOBAL:Dl.PROJECT_V2}function Zm(t,e){return n=>n?P(C({},n),{pages:n.pages.map((r,s)=>s===0?P(C({},r),{items:[t,...r.items]}):r)}):{pages:[e],pageParams:[]}}function Km(t){return e=>e&&P(C({},e),{pages:e.pages.map(n=>P(C({},n),{items:n.items.filter(r=>r.id!==t)}))})}function WDe({queryClient:t,newGizmoId:e,conversation:n,previousGizmoId:r}){const s=[],a=n.gizmo_id;return n.gizmo_id=e,s.push(()=>{n.gizmo_id=a}),e?(t.setQueryData([rs,{gizmoId:e}],Zm(n,{items:[n],cursor:null})),s.push(()=>{t.setQueryData([rs,{gizmoId:e}],Km(n.id))})):(t.setQueryData([oa],Zm(n,{items:[n],total:1,limit:nh,offset:0})),s.push(()=>{t.setQueryData([oa],Km(n.id))})),r?(t.setQueryData([rs,{gizmoId:r}],Km(n.id)),s.push(()=>{t.setQueryData([rs,{gizmoId:r}],Zm(n,{items:[n],cursor:null}))})):(t.setQueryData([oa],Km(n.id)),s.push(()=>{t.setQueryData([oa],Zm(n,{items:[n],total:1,limit:nh,offset:0}))})),Fe(n.id,i=>{i.mode=Ia($R(e))}),s.push(()=>{Fe(n.id,i=>{i.mode=Ia($R(a!=null?a:null))})}),()=>{s.forEach(i=>i())}}function $R(t){return t?{kind:At.GizmoInteraction,gizmo_id:t}:{kind:At.PrimaryAssistant}}class qR{constructor(e){Q(this,"conversationId");this.conversationId=e}}function dse(){const t=pt(),e=Tt();return g.useCallback(async({newGizmoId:r,conversation:s,previousGizmoId:a,optimistic:i=!0})=>{let l=()=>{};const c=()=>{a&&ko(a)&&t.invalidateQueries({queryKey:[rs,{gizmoId:a}]}),r&&ko(r)&&t.invalidateQueries({queryKey:[rs,{gizmoId:r}]}),(!r||!a||!ko(r)||!ko(a))&&t.invalidateQueries({queryKey:[oa]}),a&&t.invalidateQueries({queryKey:Rs(t,a,!1).queryKey}),r&&t.invalidateQueries({queryKey:Rs(t,r,!1).queryKey})};i&&!(s instanceof qR)&&(l=WDe({queryClient:t,newGizmoId:r,conversation:s,previousGizmoId:a}));try{const u=s instanceof qR?s.conversationId:s.id;await ue.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:u}},requestBody:{gizmo_id:r==null?"":r}})}catch(u){i&&(l(),c()),e.danger(xt.moveConversationToSnorlaxError,{toastId:"move_conversation_to_snorlax_error",hasCloseButton:!0})}i||c()},[t,e])}const K9="ChatGPT",H_t="Untitled",V_t=10,ZDe=50,KDe=300,MS=8e3,$_t=12,q_t=300;function YDe(t){return t.resource!==void 0}const Gr={Private:"private",Email:"email",User:"user",Group:"group",WorkspaceLink:"workspace_link",Link:"link"};function z_t(t){return t.type===Zn.EMAIL||t.type===Zn.USER||t.type===Zn.GROUP}function fse(t){var e,n,r,s,a,i,l,c,u;return{id:t.gizmo.id,instructions:t.gizmo.instructions,name:t.gizmo.display.name,description:(e=t.gizmo.display.description)!=null?e:"",emoji:(n=t.gizmo.display.emoji)!=null?n:void 0,theme:(r=t.gizmo.display.theme)!=null?r:void 0,profilePictureId:(s=t.gizmo.display.profile_pic_id)!=null?s:void 0,profilePictureUrl:(a=t.gizmo.display.profile_picture_url)!=null?a:void 0,promptStarters:(i=t.gizmo.display.prompt_starters)!=null?i:[],tools:Xc(t.tools),files:Xc(t.files),sharing:QDe(t.gizmo.sharing),trainingDisabled:(l=t.gizmo.training_disabled)!=null?l:!1,memoryScope:(c=t.gizmo.memory_scope)!=null?c:Dl.UNSET,sharingTargets:t.gizmo.sharing_targets.map(XDe),liveVersion:(u=t.gizmo.live_version)!=null?u:0,contextStuffingBudget:t.gizmo.context_stuffing_budget}}function QDe(t){return{subjects:t.subjects.map(e=>{var n;switch(e.type){case Zn.EMAIL:return{type:e.type,user_email:e.user_email,capabilities:e.capabilities};case Zn.USER:return{type:e.type,user_id:e.user_id,capabilities:e.capabilities,user_name:e.user_name,user_email:e.user_email,avatar_url:(n=e.avatar_url)!=null?n:null};case Zn.GROUP:return{type:e.type,group_id:e.group_id,group_name:e.group_name,capabilities:e.capabilities};case Zn.WORKSPACE:return{type:e.type,capabilities:e.capabilities};case Zn.ALL:return{type:e.type,capabilities:e.capabilities}}throw new Error("Unknown subject type")}),recipient:JDe(t.recipient)}}function JDe(t){switch(t){case In.Group:return Gr.Group;case In.Link:return Gr.Link;case In.Marketplace:throw new Error("Marketplace sharing not supported for projects");case In.Private:return Gr.Private;case In.User:return Gr.User;case In.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case In.WorkspaceLink:return Gr.WorkspaceLink}}function XDe(t){switch(t.recipient){case In.Group:return{recipient:Gr.Group,allowed:t.allowed,moderated_fields:t.moderated_fields};case In.Link:return{recipient:Gr.Link,allowed:t.allowed,moderated_fields:t.moderated_fields};case In.Marketplace:throw new Error("Marketplace sharing not supported for projects");case In.Private:return{recipient:Gr.Private,allowed:t.allowed,moderated_fields:t.moderated_fields};case In.User:return{recipient:Gr.User,allowed:t.allowed,moderated_fields:t.moderated_fields};case In.Workspace:throw new Error("Workspace sharing not supported for projects (did you mean WorkspaceLink?)");case In.WorkspaceLink:return{recipient:Gr.WorkspaceLink,allowed:t.allowed,moderated_fields:t.moderated_fields}}}const zR=[Zn.EMAIL,Zn.USER,Zn.GROUP,Zn.WORKSPACE,Zn.ALL];function G_t(t){return t.length===0?null:t.reduce((e,n)=>zR.indexOf(n.type)<zR.indexOf(e.type)?e:n,t[0])}function W_t(t,e){if(e==null)return t;function n(r){return typeof r=="object"&&r!=null?Array.isArray(r)?r.map(n):Object.fromEntries(Object.entries(r).map(([s,a])=>[s,n(a)])):r===null?void 0:r}return e=n(e),C(C({},t),e)}var eFe=(t=>(t[t.Loading=0]="Loading",t[t.UploadingProfilePic=1]="UploadingProfilePic",t[t.GeneratingProfilePic=2]="GeneratingProfilePic",t[t.GizmoNameTooLong=3]="GizmoNameTooLong",t[t.GizmoDescriptionTooLong=4]="GizmoDescriptionTooLong",t[t.GizmoInstructionsTooLong=5]="GizmoInstructionsTooLong",t[t.NameEmpty=6]="NameEmpty",t[t.MissingPublicActionPrivacyPolicyURL=7]="MissingPublicActionPrivacyPolicyURL",t[t.MissingCategory=8]="MissingCategory",t))(eFe||{});function Z_t(t){switch(t){case 0:return"Loading";case 1:return"Uploading profile picture";case 2:return"Generating profile picture";case 3:return"GPT name too long";case 4:return"GPT description too long";case 5:return"GPT instructions too long";case 6:return"GPT name cannot be empty";case 7:return"Public actions require valid privacy policy URLs";case 8:return"Public GPTs must have a category"}}function tFe(t){return t==="link"||t==="marketplace"}function nFe(t){try{return new URL(t),!0}catch(e){return!1}}function K_t(t,e,n){var l,c,u,d,f,m;const r=t.name.length>ZDe,s=((c=(l=t.description)==null?void 0:l.length)!=null?c:0)>KDe,a=((d=(u=t.instructions)==null?void 0:u.length)!=null?d:0)>MS,i=[];if((t==null?void 0:t.name)===""&&i.push(6),r&&i.push(3),s&&i.push(4),a&&i.push(5),e!=null&&tFe(e)){const p=(f=t.tools)==null?void 0:f.filter(h=>h.type===Vn.JIT_PLUGIN);for(const h of p){const v=(m=h.metadata)==null?void 0:m.privacy_policy_url;if(v==null||!nFe(v)){i.push(7);break}}}return e===In.Marketplace&&n==null&&i.push(8),i}const Y_t={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:In.Private,subjects:[]},tools:[{type:Vn.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},rFe={id:void 0,instructions:"",name:"",description:"",emoji:void 0,theme:void 0,profilePictureId:void 0,profilePictureUrl:void 0,promptStarters:[],sharing:{recipient:Gr.Private,subjects:[]},tools:[{type:Vn.DALLE}],files:[],defaultModel:null,trainingDisabled:!1,liveVersion:0,contextStuffingBudget:null},Q_t=pe({instructionsWarning:{id:"gizmo.instructionsWarning",defaultMessage:"Conversations with your GPT can potentially include part or all of the instructions provided."}}),Ym=5,Ch=new Set;class qf{static upsert(e){return ue.safePost("/gizmos/snorlax/upsert",{requestBody:e})}static getSnorlaxSidebar(e=null){return la.get("".concat(ss,"/gizmos/snorlax/sidebar"),{params:P(C({},e?{cursor:e}:{}),{conversations_per_gizmo:"0",owned_only:"true",limit:"".concat(th)})})}static async getSnorlaxHistory(e=null){const n=[];let r=e,s=0;for(;s<15;){s++;const a=await la.get("".concat(ss,"/gizmos/snorlax/sidebar"),{params:C({conversations_per_gizmo:"".concat(Ym),owned_only:"true"},r?{cursor:r}:{})});if(n.push(...a.items),r=a.cursor,n.length>th||!r)break;s===5&&Me.count(Ee.DEFAULT,"projects.history.empty.load_more_5"),s===10&&Me.count(Ee.DEFAULT,"projects.history.empty.load_more_10")}return r&&n.length===0&&Me.count(Ee.DEFAULT,"projects.history.empty.load_more_15"),{items:n,cursor:r}}static async fetchSnorlaxHistory(e=null,n){const r=await this.getSnorlaxHistory(e);ve.addFirstTiming("load.snorlaxHistory");const{items:s}=r;s.forEach(i=>{const l=i.gizmo.gizmo.id;n.setQueryData(Rs(n,l).queryKey,c=>{if(!c)return i.gizmo}),n.setQueryData([rs,{gizmoId:l}],c=>{if(!c)return Ch.add(l),{pages:[i.conversations],pageParams:[]}})});const a=s.map(i=>({gizmo:i.gizmo}));return P(C({},r),{items:a})}static delete(e){return ue.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:e}}})}static join(e){return ue.safePost("/gizmos/snorlax/join",{parameters:{query:{gizmo_id:e}}})}static leave(e){return ue.safePost("/gizmos/snorlax/leave",{requestBody:e})}}const Ps="snorlax-history",pp="NEW_SNORLAX_KEY",sFe="snorlax-history",aFe=1,J_t=pa(t=>PM(t,()=>Ho({queryKey:["snorlax","recent",{limit:th}],queryFn:()=>qf.getSnorlaxSidebar(),enabled:ie(t,"491279851")})));function mse(){const t=pt();return Vt({mutationFn:async({update:e,id:n})=>{var w,S;if(!n)throw new Error("No gizmo ID found for upsert");let r;if(n===pp)r=rFe;else{let k=t.getQueryData(Rs(t,n,!1).queryKey);if(k||(k=await Wo.getGizmo(n,!1)),!k)throw new Error("No existing gizmo resource found for upsert");r=fse(k)}const s=typeof e=="function"?e(r):C(C({},r),e);if(Vu(s,r))return{id:n};const{id:a,instructions:i,name:l,description:c,emoji:u,theme:d,profilePictureId:f,profilePictureUrl:m,promptStarters:p,files:h,sharing:v,trainingDisabled:y}=s;if(a!==n&&n!==pp)throw new Error("Error updating project. ID mismatch");const x=(w=s.memoryScope)!=null?w:Dl.UNSET,b={gizmo_id:n!==pp?n:void 0,instructions:i,display:{name:l,description:c,emoji:u,theme:d,profile_pic_id:f,profile_picture_url:m,prompt_starters:p},tools:[],memory_scope:x,files:h.map(k=>P(C({},k),{location:t2e.FILE_SERVICE})),training_disabled:y,sharing:[...v.subjects.some(k=>!e2e(k))?[]:[{type:In.Private,capabilities:X3e}],...v.subjects.map(iFe)],categories:void 0},_=await qf.upsert(b);if(_.error)throw new n2e;return{id:(S=_.resource)==null?void 0:S.gizmo.id,resource:_.resource}},scope:{id:"snorlax"},onSettled:e=>{e!=null&&e.resource&&(t.setQueryData(Rs(t,e.resource.gizmo.id,!1).queryKey,e.resource),t.setQueryData([Ps],pse({gizmo:e.resource}))),J0(t)}})}function pse(t){const e={items:[t],cursor:null};return n=>n?P(C({},n),{pages:n.pages.map((r,s)=>s===0?P(C({},r),{items:[t,...r.items.filter(a=>a.gizmo.gizmo.id!==t.gizmo.gizmo.id)]}):P(C({},r),{items:r.items.filter(a=>a.gizmo.gizmo.id!==t.gizmo.gizmo.id)}))}):{pages:[e],pageParams:[]}}const oFe={[Zn.EMAIL]:Gr.Email,[Zn.USER]:Gr.User,[Zn.GROUP]:Gr.Group,[Zn.WORKSPACE]:Gr.WorkspaceLink,[Zn.ALL]:Gr.Link};function iFe(t){const e=oFe[t.type];if(!e)throw new Error("Unknown sharing subject type: "+t.type);return P(C({},t),{type:e})}function gse(t=null){const e=LY(),n=pt(),r=gM(sFe,aFe,[Ps]),{data:s,fetchNextPage:a,hasNextPage:i,isLoading:l,isFetchingNextPage:c,isError:u,refetch:d}=ac({queryKey:[Ps],queryFn:async({pageParam:m})=>qf.fetchSnorlaxHistory(m,n),initialPageParam:t,getNextPageParam:m=>{var p;return(p=m.cursor)!=null?p:void 0},enabled:e,placeholderData:r});return{snorlaxes:g.useMemo(()=>{var m;return(m=s==null?void 0:s.pages.flatMap(p=>p.items))!=null?m:[]},[s]),data:s,fetchNextPage:a,hasNextPage:i,refetch:d,isLoading:l,isFetchingNextPage:c,isError:u}}async function X_t(t){const e=pt();g.useEffect(()=>{Ch.has(t)&&(e.invalidateQueries({queryKey:hse(t)}),Ch.delete(t))},[t,e])}function hse(t){return[rs,{gizmoId:t}]}function Q1(t){return eM({queryKey:hse(t),queryFn:async({pageParam:e})=>(Ch.delete(t),await Wo.getProjectConversations(t,e)),enabled:ko(t),initialPageParam:"0",getNextPageParam:e=>{var n;return(n=e.cursor)!=null?n:void 0}})}function ewt(t){const{data:e,fetchNextPage:n,hasNextPage:r,isLoading:s,isPending:a,isFetchingNextPage:i,isError:l,isFetching:c,refetch:u}=ac(Q1(t));return{items:g.useMemo(()=>{var f;return(f=e==null?void 0:e.pages.flatMap(m=>m.items))!=null?f:[]},[e]),data:e,fetchNextPage:n,hasNextPage:r,refetch:u,isLoading:s,isPending:a,isFetching:c,isFetchingNextPage:i,isError:l}}function J0(t){t.invalidateQueries({queryKey:[Ps]})}function vse(t){return e=>{var n;return e&&P(C({},e),{pages:(n=e==null?void 0:e.pages)==null?void 0:n.map(r=>P(C({},r),{items:r.items.filter(s=>s.gizmo.gizmo.id!==t)}))})}}function twt(){const t=pt(),e=it();return Vt({mutationFn:async({gizmoId:n})=>(await qf.join(n),{gizmoId:n}),onError:n=>{const r=B6(n);e(RY(OY.CUSTOM_ERROR,void 0,r))},onSettled:async(n,r,{gizmoId:s})=>{J0(t),s&&await t.invalidateQueries({queryKey:Rs(t,s,!1).queryKey,refetchType:"all"})}})}function lFe(){const t=pt(),e=Tt();return Vt({mutationFn:async({gizmoId:n})=>(await qf.delete(n),{gizmoId:n}),onMutate:async({gizmoId:n})=>{await t.cancelQueries({queryKey:Rs(t,n,!1).queryKey}),await t.cancelQueries({queryKey:[Ps]}),await t.cancelQueries({queryKey:[rs,{gizmoId:n}]});const r=t.getQueryData([Ps]);return t.setQueryData([Ps],vse(n)),{prevProjectHistoryData:r}},onError:(n,r,s)=>{s!=null&&s.prevProjectHistoryData&&t.setQueryData([Ps],s.prevProjectHistoryData),e.danger(xt.deleteProjectFailedToast,{toastId:"snorlax_deletion_modal_delete_project_failed",hasCloseButton:!0})},onSettled:n=>{const r=n==null?void 0:n.gizmoId;J0(t),os(t,r),r&&t.invalidateQueries({queryKey:Rs(t,r,!1).queryKey})}})}function cFe(){const t=pt(),e=Tt();return Vt({mutationFn:async({gizmoId:n,saveCopy:r})=>{const s=await qf.leave({gizmo_id:n,save_copy:r});return{gizmoId:n,resource:YDe(s)?s.resource:void 0}},onMutate:async({gizmoId:n})=>{await t.cancelQueries({queryKey:Rs(t,n,!1).queryKey}),await t.cancelQueries({queryKey:[Ps]}),await t.cancelQueries({queryKey:[rs,{gizmoId:n}]});const r=t.getQueryData([Ps]);return t.setQueryData([Ps],vse(n)),{prevProjectHistoryData:r}},onError:(n,r,s)=>{s!=null&&s.prevProjectHistoryData&&t.setQueryData([Ps],s.prevProjectHistoryData),e.danger(xt.leaveProjectFailedToast,{toastId:"snorlax_leave_modal_leave_project_failed",hasCloseButton:!0})},onSettled:n=>{n!=null&&n.resource&&(t.setQueryData(Rs(t,n.resource.gizmo.id,!1).queryKey,n.resource),t.setQueryData([Ps],pse({gizmo:n.resource})));const r=n==null?void 0:n.gizmoId;J0(t),os(t,r),r&&t.invalidateQueries({queryKey:Rs(t,r,!1).queryKey})}})}const GR=new Map;function uFe(t){const e=GR.get(t);if(e)return e;const n=E6(dFe,2e3,{trailing:!0});return GR.set(t,n),n}async function dFe({projectId:t,upsertProjectMutation:e,pendingFileUpsertMutationsRef:n}){const r=[],s=i=>{const l=n.current;return l.forEach(({update:c})=>{i=c(i)}),r.push(...l),i};await e.mutateAsync({id:t,update:s}),r.forEach(({onSuccess:i})=>{i==null||i()});const a=r.map(({mutationId:i})=>i);n.current=n.current.filter(({mutationId:i})=>!a.includes(i))}const yse=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.2041 17.5V15.665H13.3691C13.0019 15.665 12.7041 15.3673 12.7041 15C12.7041 14.6327 13.0019 14.335 13.3691 14.335H15.2041V12.5C15.2041 12.1327 15.5019 11.835 15.8691 11.835C16.2362 11.8352 16.5332 12.1329 16.5332 12.5V14.335H18.3691C18.7362 14.3352 19.0332 14.6329 19.0332 15C19.0332 15.3671 18.7362 15.6648 18.3691 15.665H16.5332V17.5C16.5332 17.8671 16.2362 18.1648 15.8691 18.165C15.5019 18.165 15.2041 17.8673 15.2041 17.5ZM2.12012 12.7002V7.29981C2.12012 6.64581 2.11922 6.1149 2.1543 5.68555C2.19002 5.24867 2.26619 4.85832 2.45117 4.49512L2.56836 4.28516C2.86045 3.80898 3.27979 3.42103 3.78028 3.16602L3.91797 3.10156C4.24192 2.96268 4.5885 2.90039 4.97071 2.86914C5.40006 2.83406 5.93096 2.83496 6.58496 2.83496H7.28028C7.42346 2.83496 7.52305 2.83479 7.6211 2.84082L7.875 2.86719C8.46133 2.95309 9.01189 3.20874 9.45703 3.60547L9.70215 3.84473C9.81425 3.95779 9.85105 3.99455 9.88672 4.02637L9.99805 4.11719C10.2646 4.31741 10.5851 4.43638 10.9199 4.45703L11.1797 4.45996H13.6914C14.2499 4.45996 14.703 4.45958 15.0713 4.48535C15.4458 4.51157 15.7828 4.56683 16.1025 4.70313L16.3662 4.83106C16.9638 5.15706 17.4378 5.67623 17.707 6.30762L17.7939 6.54981C17.868 6.79538 17.904 7.05317 17.9238 7.33203C17.9498 7.69789 17.9502 8.14747 17.9502 8.7002C17.9501 8.87631 17.8803 9.0453 17.7559 9.16992C17.6311 9.29464 17.4615 9.36524 17.2852 9.36524H3.4502V12.7002C3.4502 13.3761 3.45084 13.8434 3.48047 14.2061C3.50947 14.5608 3.56304 14.7568 3.63672 14.9014L3.70215 15.0195C3.86642 15.2873 4.10236 15.505 4.38379 15.6484L4.50391 15.7002C4.63661 15.7476 4.81329 15.783 5.0791 15.8047C5.44174 15.8343 5.90903 15.835 6.58496 15.835H9.40918L9.54395 15.8486C9.84681 15.9108 10.0742 16.1788 10.0742 16.5C10.0742 16.8212 9.84681 17.0892 9.54395 17.1514L9.40918 17.165H6.58496C5.93096 17.165 5.40006 17.1659 4.97071 17.1309C4.5885 17.0996 4.24192 17.0373 3.91797 16.8984L3.78028 16.834C3.27979 16.579 2.86045 16.191 2.56836 15.7148L2.45117 15.5049C2.26619 15.1417 2.19002 14.7513 2.1543 14.3145C2.11922 13.8851 2.12012 13.3542 2.12012 12.7002ZM3.4502 8.03516H16.6172C16.6146 7.79548 16.6098 7.59777 16.5977 7.42676C16.5816 7.20054 16.5552 7.04845 16.5205 6.9336L16.4834 6.8291C16.332 6.47411 16.0655 6.1824 15.7295 5.99903L15.5811 5.92676C15.4545 5.8728 15.2835 5.83385 14.9785 5.8125C14.6674 5.79073 14.2686 5.79004 13.6914 5.79004H11.1797L10.8379 5.78418C10.2426 5.74746 9.67313 5.53663 9.19922 5.18067L9.00196 5.01953C8.92848 4.95403 8.85889 4.88222 8.75781 4.78028L8.57227 4.59863C8.32169 4.37525 8.01175 4.23086 7.68164 4.18262L7.54004 4.16797C7.49225 4.16502 7.43987 4.16504 7.28028 4.16504H6.58496C5.90903 4.16504 5.44174 4.16569 5.0791 4.19531C4.81329 4.21705 4.63661 4.25237 4.50391 4.29981L4.38379 4.35156C4.10236 4.49499 3.86642 4.71271 3.70215 4.98047L3.63672 5.09863C3.56304 5.24324 3.50947 5.43924 3.48047 5.79395C3.45084 6.15659 3.4502 6.62388 3.4502 7.29981V8.03516Z"})),nwt=Object.freeze(Object.defineProperty({__proto__:null,default:yse},Symbol.toStringTag,{value:"Module"})),xse=t=>g.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"currentColor",viewBox:"0 0 20 20"},t),g.createElement("path",{d:"M8.598 11.214c.659 0 1.344.174 1.878.55.547.387.926.987.926 1.772 0 .256-.21.464-.467.464H6.262a.466.466 0 0 1-.468-.464c0-.785.38-1.385.927-1.771.533-.377 1.218-.551 1.877-.551ZM12.102 11.214c.495 0 1.009.145 1.409.459.41.322.695.82.695 1.475 0 .214-.157.388-.35.388h-1.754c0-.902-.386-1.626-.956-2.13a2.43 2.43 0 0 1 .956-.192ZM8.598 7.5a1.63 1.63 0 0 1 1.635 1.625 1.63 1.63 0 0 1-1.635 1.625 1.63 1.63 0 0 1-1.635-1.625A1.63 1.63 0 0 1 8.598 7.5ZM12.102 8.429c.646 0 1.17.519 1.17 1.16 0 .64-.524 1.161-1.17 1.161-.645 0-1.167-.52-1.167-1.161 0-.64.523-1.16 1.167-1.16Z"}),g.createElement("path",{fillRule:"evenodd",d:"M7.584 2.874a3.009 3.009 0 0 1 1.816.757c.073.064.142.135.244.237.111.113.15.15.186.183.292.26.663.415 1.053.44.049.002.103.002.262.002h2.305c.655 0 1.184 0 1.612.034.435.036.82.112 1.178.294a3.006 3.006 0 0 1 1.314 1.314c.182.358.258.743.294 1.178.035.428.034.957.034 1.612V12.7c0 .655 0 1.184-.034 1.612-.036.435-.112.82-.294 1.178a3.005 3.005 0 0 1-1.314 1.314c-.358.182-.743.258-1.178.294-.428.035-.957.034-1.612.034h-6.9c-.655 0-1.184 0-1.612-.034-.435-.036-.82-.112-1.178-.294a3.006 3.006 0 0 1-1.314-1.314c-.182-.358-.258-.743-.294-1.178-.035-.428-.034-.957-.034-1.612V7.3c0-.655 0-1.184.034-1.612.036-.435.112-.82.294-1.178A3.006 3.006 0 0 1 3.76 3.196c.358-.182.743-.258 1.178-.294.428-.035.957-.034 1.612-.034h.695c.144 0 .242 0 .339.006ZM6.55 4.132c-.675 0-1.144 0-1.508.03-.357.03-.558.083-.708.16a1.747 1.747 0 0 0-.763.762c-.076.15-.13.351-.159.708-.03.364-.03.833-.03 1.508v5.4c0 .675 0 1.144.03 1.508.03.357.083.558.16.708.166.328.434.596.762.763.15.076.351.13.708.159.364.03.833.03 1.508.03h6.9c.675 0 1.144 0 1.508-.03.357-.03.558-.083.708-.16.328-.166.596-.434.763-.762.076-.15.13-.351.159-.708.03-.364.03-.833.03-1.508V8.925c0-.675 0-1.144-.03-1.508-.03-.357-.083-.558-.16-.708a1.747 1.747 0 0 0-.762-.763c-.15-.076-.351-.13-.708-.159-.364-.03-.833-.03-1.508-.03h-2.305c-.144 0-.243 0-.34-.006a3.007 3.007 0 0 1-1.816-.757c-.072-.065-.142-.135-.243-.237a4.421 4.421 0 0 0-.186-.183 1.745 1.745 0 0 0-1.053-.44c-.05-.002-.103-.002-.262-.002H6.55Z",clipRule:"evenodd"})),rwt=Object.freeze(Object.defineProperty({__proto__:null,default:xse},Symbol.toStringTag,{value:"Module"})),Ns={gray:{solid:{50:"#f9f9f9",400:"#8f8f8f"}},green:{400:"#04b84c"},purple:{400:"#924ff7"},blue:{400:"#0285ff"},orange:{400:"#fb6a22"},red:{400:"#fa423e"},pink:{400:"#ff66ad"},yellow:{400:"#ffc300"}},nn=new Set;function swt(){return Promise.allSettled(Array.from(nn).map(t=>t()))}const bse=Je(()=>Ve(()=>import("./ipmpdpyb54oarswy.js").then(t=>t._),__vite__mapDeps([49,1])));nn.add(bse.prefetch);const Cse=Je(()=>Ve(()=>Promise.resolve().then(()=>w7e),void 0));nn.add(Cse.prefetch);const _se=Je(()=>Ve(()=>import("./e9aznsjtqjftc764.js").then(t=>t._),__vite__mapDeps([50,1])));nn.add(_se.prefetch);const wse=Je(()=>Ve(()=>Promise.resolve().then(()=>S7e),void 0));nn.add(wse.prefetch);const Sse=Je(()=>Ve(()=>import("./ge4ozj790nfv3vb5.js").then(t=>t._),__vite__mapDeps([15,1])));nn.add(Sse.prefetch);const kse=Je(()=>Ve(()=>import("./cze7wytrt853t1fk.js").then(t=>t._),__vite__mapDeps([51,1])));nn.add(kse.prefetch);const Mse=Je(()=>Ve(()=>import("./21j5rw0odr1m4uxd.js").then(t=>t._),__vite__mapDeps([52,1])));nn.add(Mse.prefetch);const Ese=Je(()=>Ve(()=>Promise.resolve().then(()=>Jat),void 0));nn.add(Ese.prefetch);const jse=Je(()=>Ve(()=>import("./yxcqu4sbba6mypxi.js").then(t=>t._),__vite__mapDeps([53,1])));nn.add(jse.prefetch);const Tse=Je(()=>Ve(()=>import("./i326q0icietrpdhu.js").then(t=>t._),__vite__mapDeps([54,1])));nn.add(Tse.prefetch);const Nse=Je(()=>Ve(()=>import("./k0hi9sxw1vk1efi1.js").then(t=>t._),__vite__mapDeps([55,1])));nn.add(Nse.prefetch);const Ase=Je(()=>Ve(()=>Promise.resolve().then(()=>zot),void 0));nn.add(Ase.prefetch);const Pse=Je(()=>Ve(()=>import("./lef5ym39glv4981l.js").then(t=>t.vC),__vite__mapDeps([4,1,5])));nn.add(Pse.prefetch);const Ise=Je(()=>Ve(()=>Promise.resolve().then(()=>LDe),void 0));nn.add(Ise.prefetch);const Lse=Je(()=>Ve(()=>import("./fxzo8dz6icikijye.js").then(t=>t._),__vite__mapDeps([56,1])));nn.add(Lse.prefetch);const Rse=Je(()=>Ve(()=>Promise.resolve().then(()=>QCe),void 0));nn.add(Rse.prefetch);const Ose=Je(()=>Ve(()=>Promise.resolve().then(()=>k7e),void 0));nn.add(Ose.prefetch);const Dse=Je(()=>Ve(()=>import("./myn8neezylvr2cfq.js").then(t=>t._),__vite__mapDeps([57,1])));nn.add(Dse.prefetch);const Fse=Je(()=>Ve(()=>import("./mkmma1qu7xszksxq.js").then(t=>t._),__vite__mapDeps([58,1])));nn.add(Fse.prefetch);const Bse=Je(()=>Ve(()=>import("./cm3g9yd6vehlyz6w.js").then(t=>t._),__vite__mapDeps([59,1])));nn.add(Bse.prefetch);const Use=Je(()=>Ve(()=>import("./bzg6l3yrwtqvhnkn.js").then(t=>t._),__vite__mapDeps([60,1])));nn.add(Use.prefetch);const Hse=Je(()=>Ve(()=>import("./dfrfn1l8i4pztz5o.js").then(t=>t._),__vite__mapDeps([61,1])));nn.add(Hse.prefetch);const Vse=Je(()=>Ve(()=>import("./i7glw0nj0kvwa5nj.js").then(t=>t._),__vite__mapDeps([62,1])));nn.add(Vse.prefetch);const $se=Je(()=>Ve(()=>Promise.resolve().then(()=>YCe),void 0));nn.add($se.prefetch);const qse=Je(()=>Ve(()=>import("./h3ljvkuas54zjb9n.js").then(t=>t._),__vite__mapDeps([63,1])));nn.add(qse.prefetch);const zse=Je(()=>Ve(()=>import("./msytzocarofykbtp.js").then(t=>t._),__vite__mapDeps([64,1])));nn.add(zse.prefetch);const Gse=Je(()=>Ve(()=>import("./mjd2c7n9jvhfn2e5.js").then(t=>t._),__vite__mapDeps([65,1])));nn.add(Gse.prefetch);const Wse=Je(()=>Ve(()=>Promise.resolve().then(()=>u$e),void 0));nn.add(Wse.prefetch);const Zse=Je(()=>Ve(()=>import("./nvav60ujg6iwpwg2.js").then(t=>t._),__vite__mapDeps([66,1])));nn.add(Zse.prefetch);const Kse=Je(()=>Ve(()=>import("./ebxncu61uuayv8xb.js").then(t=>t._),__vite__mapDeps([67,1])));nn.add(Kse.prefetch);const Yse=Je(()=>Ve(()=>Promise.resolve().then(()=>M7e),void 0));nn.add(Yse.prefetch);const Qse=Je(()=>Ve(()=>import("./mj0ezsc15rp281b4.js").then(t=>t._),__vite__mapDeps([68,1])));nn.add(Qse.prefetch);const ea={red:Ns.red[400],orange:Ns.orange[400],yellow:Ns.yellow[400],green:Ns.green[400],blue:Ns.blue[400],purple:Ns.purple[400],pink:Ns.pink[400]},fFe=new Map([["pencil","edit"],["code-brackets","function"],["balancing-scale","scale"],["globe-spin","desk-globe"],["lite","lotus"],["pens","customize"]]),mFe=t=>{var n;const e=(n=fFe.get(t))!=null?n:t;return Jse[e]},Jse={folder:{id:"folder",icon:Ise,label:Be({id:"U1Ed2E",defaultMessage:"Folder"})},"currency-dollar":{id:"currency-dollar",icon:Mse,label:Be({id:"O1L2ji",defaultMessage:"Currency Dollar"})},book:{id:"book",icon:_se,label:Be({id:"Ikd2nV",defaultMessage:"Book"})},"graduation-cap":{id:"graduation-cap",icon:Ose,label:Be({id:"XyOlu9",defaultMessage:"Graduation Cap"})},edit:{id:"edit",icon:$se,label:Be({id:"e+bON4",defaultMessage:"Pencil"})},writing:{id:"writing",icon:Qse,label:Be({id:"Xsx76J",defaultMessage:"Writing"})},function:{id:"function",icon:Sse,label:Be({id:"1dLIWL",defaultMessage:"Code Brackets"})},terminal:{id:"terminal",icon:Yse,label:Be({id:"A7r7WM",defaultMessage:"Terminal"})},music:{id:"music",icon:Hse,label:Be({id:"vhV09/",defaultMessage:"Music"})},popcorn:{id:"popcorn",icon:Gse,label:Be({id:"IBA2my",defaultMessage:"Popcorn"})},customize:{id:"customize",icon:Ese,label:Be({id:"NoBDe3",defaultMessage:"Customize"})},palette:{id:"palette",icon:kse,label:Be({id:"1NjHcj",defaultMessage:"Palette"})},stethoscope:{id:"stethoscope",icon:Zse,label:Be({id:"m/9B0l",defaultMessage:"Stethoscope"})},health:{id:"health",icon:Dse,label:Be({id:"uyQlnK",defaultMessage:"Health"})},lotus:{id:"lotus",icon:Use,label:Be({id:"XVtU4x",defaultMessage:"Lotus"})},suitcase:{id:"suitcase",icon:Kse,label:Be({id:"Q7L6wE",defaultMessage:"Suitcase"})},"bar-chart":{id:"bar-chart",icon:Cse,label:Be({id:"clYNPV",defaultMessage:"Bar Chart"})},kettlebell:{id:"kettlebell",icon:Bse,label:Be({id:"d8EgqT",defaultMessage:"Kettlebell"})},dumbbell:{id:"dumbbell",icon:jse,label:Be({id:"4f2kWJ",defaultMessage:"Dumbbell"})},logs:{id:"logs",icon:Ase,label:Be({id:"Uo10ll",defaultMessage:"Logs"})},scale:{id:"scale",icon:bse,label:Be({id:"Duq21q",defaultMessage:"Balancing Scale"})},"desk-globe":{id:"desk-globe",icon:Lse,label:Be({id:"2oKfXd",defaultMessage:"Globe Spin"})},plane:{id:"plane",icon:qse,label:Be({id:"Mp7VbF",defaultMessage:"Plane"})},globe:{id:"globe",icon:Rse,label:Be({id:"7Gk2Au",defaultMessage:"Globe"})},wrench:{id:"wrench",icon:Wse,label:Be({id:"cVZEQn",defaultMessage:"Wrench"})},paw:{id:"paw",icon:Vse,label:Be({id:"SwLz4n",defaultMessage:"Paw"})},flask:{id:"flask",icon:Pse,label:Be({id:"YRGg1h",defaultMessage:"Flask"})},brain:{id:"brain",icon:wse,label:Be({id:"xDBu5X",defaultMessage:"Brain"})},heart:{id:"heart",icon:Fse,label:Be({id:"7bZxVY",defaultMessage:"Heart"})},plant:{id:"plant",icon:zse,label:Be({id:"h4prM6",defaultMessage:"Plant"})}};function ta(t){return t==null?null:mFe(t)}function pFe(){return gFe}const gFe={icon:Nse,label:Be({id:"i39yRC",defaultMessage:"Emoji"}),id:"default",hoverIcon:Tse},hFe=[{label:Be({id:"cvNQv+",defaultMessage:"Investing"}),icon:ta("currency-dollar"),color:ea.green,emoji:"currency-dollar"},{label:Be({id:"fxIuzw",defaultMessage:"Homework"}),icon:ta("graduation-cap"),color:ea.blue,emoji:"graduation-cap"},{label:Be({id:"x1ggA9",defaultMessage:"Writing"}),icon:ta("writing"),color:ea.purple,emoji:"writing"},{label:Be({id:"FdXDrg",defaultMessage:"Health"}),icon:ta("health"),color:ea.red,emoji:"health"},{label:Be({id:"ftkSeM",defaultMessage:"Travel"}),icon:ta("plane"),color:ea.yellow,emoji:"plane"}],vFe=[{label:Be({id:"dNjvRY",defaultMessage:"Research"}),icon:ta("desk-globe"),color:ea.blue,emoji:"desk-globe"},{label:Be({id:"lPMK20",defaultMessage:"Planning"}),icon:ta("book"),color:ea.green,emoji:"book"},{label:Be({id:"LM4RDS",defaultMessage:"Code"}),icon:ta("function"),color:ea.orange,emoji:"function"},{label:Be({id:"umKvY2",defaultMessage:"Meetings"}),icon:ta("logs"),color:ea.purple,emoji:"logs"},{label:Be({id:"NXAQZ1",defaultMessage:"Onboarding"}),icon:ta("suitcase"),color:ea.yellow,emoji:"suitcase"},{label:Be({id:"4tnZcg",defaultMessage:"Brainstorms"}),icon:ta("brain"),color:ea.pink,emoji:"brain"}];function awt(t){return r2e(t)?vFe:hFe}function owt(){return Object.values(Jse)}function iwt(){return Object.values(ea)}function Xse(t){"use forget";const e=ee.c(23),{color:n,emoji:r,className:s,isSharedProject:a,size:i,strict:l}=t,c=r===void 0?null:r,u=Z(),d=i==="lg"&&"h-8 w-8 max-md:h-6 max-md:w-[28px] max-md:h-[28px]";let f;if(e[0]!==s||e[1]!==n||e[2]!==c||e[3]!==u||e[4]!==a||e[5]!==l||e[6]!==d){const m=U("icon",d,s);let p,h,v,y,x,b;if(e[8]!==n||e[9]!==c||e[10]!==u||e[11]!==a||e[12]!==l){const _=ta(c),w=!!_;v=!w&&!l;const S=pFe();let k;p=null;let M=null;w?(k=_.icon,M=_):v?(k=S.icon,p=S.hoverIcon,M=S):k=a?xse:Iu;const E=v&&"relative";e[19]!==E?(x=U(E),e[19]=E,e[20]=x):x=e[20];const T=n!=null?n:void 0;e[21]!==T?(b={color:T},e[21]=T,e[22]=b):b=e[22],h=k,y=M?u.formatMessage(M.label):void 0,e[8]=n,e[9]=c,e[10]=u,e[11]=a,e[12]=l,e[13]=p,e[14]=h,e[15]=v,e[16]=y,e[17]=x,e[18]=b}else p=e[13],h=e[14],v=e[15],y=e[16],x=e[17],b=e[18];f=o.jsxs("div",{className:x,style:b,children:[o.jsx(h,{"aria-label":y,className:U(m,v&&"group-hover:invisible group-data-[state=open]:invisible")}),v&&p&&o.jsx(p,{"aria-hidden":!0,inert:!0,className:U(m,"invisible absolute inset-0 place-self-center justify-self-center group-hover:visible group-data-[state=open]:visible")})]}),e[0]=s,e[1]=n,e[2]=c,e[3]=u,e[4]=a,e[5]=l,e[6]=d,e[7]=f}else f=e[7];return f}const lwt=Je(()=>Ve(()=>import("./cqayabj99c3xvo35.js"),__vite__mapDeps([69,1,4,5,47])).then(t=>t.SnorlaxFolderAnimation),{loading:({color:t,isSharedProject:e,strict:n})=>o.jsx(Xse,{color:t,isSharedProject:e,strict:n})}),eae=Je(()=>Ve(()=>import("./fdhj01le0mww4tud.js"),__vite__mapDeps([70,1,4,5,71,72])).then(t=>t.CreateOrEditProjectModal));function ES(t){"use forget";const e=ee.c(50),n=Z(),r=pt(),s=q(),a=!t.inSidebarFlyout,{canCreate:i}=s2e(),l=it(),[c,u]=g.useState(!1),{snorlaxes:d,hasNextPage:f,fetchNextPage:m,isLoading:p,isFetchingNextPage:h,isError:v}=gse();let y;e[0]!==t.inSidebarFlyout||e[1]!==d?(y=t.inSidebarFlyout?d.slice(th):d,e[0]=t.inSidebarFlyout,e[1]=d,e[2]=y):y=e[2];const x=y;let b,_,w,S,k;if(e[3]!==a||e[4]!==i||e[5]!==s||e[6]!==f||e[7]!==c||e[8]!==n||e[9]!==v||e[10]!==p||e[11]!==l||e[12]!==m||e[13]!==t||e[14]!==r||e[15]!==x){let T;e[21]!==t.currentGizmoId?(T=R=>{const{gizmo:H}=R;return H.gizmo.id!==t.currentGizmoId},e[21]=t.currentGizmoId,e[22]=T):T=e[22];const j=x.filter(T),A=j.length===0;let I;e[23]!==f||e[24]!==p||e[25]!==m?(I=R=>{if(p||R==null)return;const H=new IntersectionObserver(V=>{V[0].isIntersecting&&f&&m()});return H.observe(R),()=>{H.disconnect()}},e[23]=f,e[24]=p,e[25]=m,e[26]=I):I=e[26];const L=I,O=a&&i;b=A&&!v?L:void 0,e[27]!==A||e[28]!==p?(_=A&&p&&o.jsxs(kf,{children:[o.jsx(J.Shimmer,{}),o.jsx(J.Shimmer,{})]}),e[27]=A,e[28]=p,e[29]=_):_=e[29],e[30]!==c||e[31]!==n||e[32]!==A||e[33]!==v||e[34]!==r?(w=A&&v&&o.jsxs("div",{className:"text-token-text-tertiary p-3 text-center italic",children:[n.formatMessage(xt.unableToLoadHistory),!c&&o.jsx("div",{className:"mt-1",children:o.jsx(oe,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{u(!0),J0(r)},children:n.formatMessage(xt.retryLoadingHistory)})})]}),e[30]=c,e[31]=n,e[32]=A,e[33]=v,e[34]=r,e[35]=w):w=e[35],e[36]!==s||e[37]!==l||e[38]!==t||e[39]!==O?(S=O&&o.jsx(o.Fragment,{children:o.jsx(J.Item,{icon:yse,label:o.jsx(N,C({},xt.newProjectButton)),onSelect:()=>{Dt(s,R=>{const{onClose:H}=R;return o.jsx(eae,{onClose:H,onSuccess:async V=>{V&&(await t.onUpdateConversationGizmo(V),l("/g/".concat(V,"/project")))}})})}})}),e[36]=s,e[37]=l,e[38]=t,e[39]=O,e[40]=S):S=e[40],k=!p&&!A&&j.map((R,H)=>{const{gizmo:V}=R,z=H===j.length-1?L:void 0;return o.jsxs(o.Fragment,{children:[O&&H===0&&o.jsx(J.Separator,{},"new-project-separator"),o.jsx(J.LinkItem,{to:V!=null?Sf(s,V):"/",icon:o.jsx(Xse,{color:V.gizmo.display.theme,emoji:V.gizmo.display.emoji,strict:!0}),label:V.gizmo.display.name,onClick:()=>{t.inSidebarFlyout||t.onUpdateConversationGizmo(V.gizmo.id)},ref:z},V.gizmo.id)]})}),e[3]=a,e[4]=i,e[5]=s,e[6]=f,e[7]=c,e[8]=n,e[9]=v,e[10]=p,e[11]=l,e[12]=m,e[13]=t,e[14]=r,e[15]=x,e[16]=b,e[17]=_,e[18]=w,e[19]=S,e[20]=k}else b=e[16],_=e[17],w=e[18],S=e[19],k=e[20];let M;e[41]!==h?(M=h&&o.jsxs(o.Fragment,{children:[o.jsx(J.Shimmer,{}),o.jsx(J.Shimmer,{})]}),e[41]=h,e[42]=M):M=e[42];let E;return e[43]!==b||e[44]!==_||e[45]!==w||e[46]!==S||e[47]!==k||e[48]!==M?(E=o.jsxs("div",{ref:b,children:[_,w,S,k,M]}),e[43]=b,e[44]=_,e[45]=w,e[46]=S,e[47]=k,e[48]=M,e[49]=E):E=e[49],E}const tae=3;function yFe(t){return e=>{if(e){const n=e.filter(r=>r.item.id!==t.item.id);return[t,...n]}return[t]}}function nae(t){return e=>e&&e.filter(n=>n.item.id!==t)}function xFe(t){var e;return(e=t==null?void 0:t.length)!=null?e:0<tae}function J1(){return Ho({queryKey:[W1],queryFn:async()=>await ue.safeGet("/pins",{parameters:{query:{limit:tae}},authOption:qt.SendIfAvailable})})}function bFe(){const t=pt(),e=Tt();return Vt({mutationFn:async({isStarred:n,conversation:r})=>(await ue.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:r.id}},requestBody:{is_starred:n},intercomEventOnError:"fetch-error:conversation:star"}),{conversation:r,isStarred:n}),onMutate:({isStarred:n,conversation:r})=>{const s=t.getQueryData([W1]),a=t.getQueryData([oa]);if(n&&!xFe(s))return{previousStarredConversationsData:s,previousGeneralConversationsData:a};n?(t.setQueryData([W1],yFe({item_type:"conversation",item:r})),t.setQueryData([oa],Km(r.id))):(t.setQueryData([W1],nae(r.id)),t.setQueryData([oa],Zm(r,{items:[r],total:1,limit:nh,offset:0})));const i=kt(r.id);return i&&Fe(i,l=>{l.isStarred=n}),{previousStarredConversationsData:s,previousGeneralConversationsData:a}},onError:(n,r,s)=>{if(s!=null&&s.previousStarredConversationsData&&t.setQueryData([W1],s.previousStarredConversationsData),s!=null&&s.previousGeneralConversationsData&&t.setQueryData([oa],s.previousGeneralConversationsData),r){const i=kt(r.conversation.id);i&&Fe(i,l=>{l.isStarred=!r.isStarred})}const a=B6(n);e.warning(a!=null?a:"Error",{duration:2})},onSettled:()=>{os(t)}})}function CFe(t){return Vt({mutationFn:async({serverThreadId:e,gizmoId:n})=>await ue.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:e}},requestBody:{is_visible:!1}}),onMutate:async({serverThreadId:e,gizmoId:n})=>{await t.cancelQueries({queryKey:Z1().queryKey}),await t.cancelQueries({queryKey:J1().queryKey}),n&&await t.cancelQueries({queryKey:Q1(n).queryKey});const r=t.getQueryData(Z1().queryKey),s=t.getQueryData(J1().queryKey);t.setQueryData(Z1().queryKey,i=>{var l;return i&&P(C({},i),{pages:(l=i.pages)==null?void 0:l.map(c=>{const u=c.items.some(d=>d.id===e)?c.items.filter(d=>d.id!==e):c.items;return P(C({},c),{items:u})})})}),t.setQueryData(J1().queryKey,nae(e));let a=null;return n&&(a=t.getQueryData(Q1(n).queryKey),t.setQueryData(Q1(n).queryKey,i=>{var l;return i&&P(C({},i),{pages:(l=i==null?void 0:i.pages)==null?void 0:l.map(c=>{var u;return P(C({},c),{items:(u=c==null?void 0:c.items)!=null&&u.some(d=>d.id===e)?c.items.filter(d=>d.id!==e):c.items})})})})),{prevData:r,prevStarredConversations:s,prevSnorlaxConversations:a}},onError:(e,{gizmoId:n},r)=>{r!=null&&r.prevData&&t.setQueryData(Z1().queryKey,r.prevData),r!=null&&r.prevStarredConversations&&t.setQueryData(J1().queryKey,r.prevStarredConversations),r!=null&&r.prevSnorlaxConversations&&n&&t.setQueryData(Q1(n).queryKey,r.prevSnorlaxConversations)},onSettled:(e,n,{serverThreadId:r,gizmoId:s},a)=>{B.logEventWithStatsig("Conversation Deleted","chatgpt_conversation_deleted"),Rl.publish({kind:"deleteConversation",serverThreadId:r}),os(t,s)}})}function _Fe({title:t,handleDelete:e,onClose:n}){const r=Z(),s=Af();return o.jsxs(tt,{testId:"modal-delete-conversation-confirmation",isOpen:!0,onClose:()=>n(),type:"success",title:r.formatMessage(p2.deleteModalTitle),primaryButton:o.jsx(yn.Button,{title:r.formatMessage(p2.deleteModalConfirm),color:"danger",onClick:()=>{e(),n()},"data-testid":"delete-conversation-confirm-button"}),secondaryButton:o.jsx(yn.Button,{title:r.formatMessage(p2.deleteModalCancel),color:"secondary",onClick:()=>n()}),children:[o.jsx(N,P(C({},p2.deleteModalBody),{values:{title:o.jsx("strong",{children:t})}})),s&&o.jsx("div",{className:"text-token-text-tertiary mt-2 text-sm",children:o.jsx(N,{id:"history.deleteModalMemoryDisclaimer",defaultMessage:"Visit <link>settings</link> to delete any memories saved during this chat.",values:{link:a=>o.jsx(mr,{to:hf(Dn.Personalization),className:"underline",onClick:()=>{setTimeout(()=>{n({closeParentModal:!0})},100)},children:a})}})})]})}const Vj=t=>{"use forget";var w,S,k,M;const e=ee.c(15),{conversationTitle:n,serverThreadId:r,onClose:s,isActiveConversation:a,gizmoId:i}=t,l=pt(),c=it();let u;e[0]!==r?(u=st(r),e[0]=r,e[1]=u):u=e[1];const d=u,f=S5();let m,p;e[2]!==f.conversations||e[3]!==r?(p=(w=f.conversations.find(E=>E.id===r))==null?void 0:w.title,e[2]=f.conversations,e[3]=r,e[4]=p):p=e[4],m=p;const h=m,v=CFe(l);let y;e[5]!==v||e[6]!==i||e[7]!==a||e[8]!==c||e[9]!==r?(y=()=>{v.mutate({serverThreadId:r,gizmoId:i!=null?i:se.getGizmoId(st(r))}),a&&Hf(c,"/",{replace:!0})},e[5]=v,e[6]=i,e[7]=a,e[8]=c,e[9]=r,e[10]=y):y=e[10];const x=y,b=(M=(k=(S=d==null?void 0:d.title)!=null?S:h)!=null?k:n)!=null?M:"";let _;return e[11]!==x||e[12]!==s||e[13]!==b?(_=o.jsx(_Fe,{title:b,handleDelete:x,onClose:s}),e[11]=x,e[12]=s,e[13]=b,e[14]=_):_=e[14],_},p2=pe({deleteModalTitle:{id:"history.deleteModalTitle",defaultMessage:"Delete chat?"},deleteModalBody:{id:"history.deleteModalBody",defaultMessage:"This will delete {title}."},deleteModalConfirm:{id:"history.deleteModalConfirm",defaultMessage:"Delete"},deleteModalCancel:{id:"history.deleteModalCancel",defaultMessage:"Cancel"}});function $j(){const t=q(),e=ze(t,"3436367576"),n=e.get("enable_local_indexing",!1),r=e.get("enable_ux",!1),s=yt(t),a=!!(s!=null&&s.hasPlusFeatures());return{isFannyPackEnabled:r||a,isFannyPackInitializerEnabled:n||a}}var Y9={},WR;function wFe(){return WR||(WR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unidentified="Unidentified",e.Alt="Alt",e.AltGraph="AltGraph",e.CapsLock="CapsLock",e.Control="Control",e.Fn="Fn",e.FnLock="FnLock",e.Hyper="Hyper",e.Meta="Meta",e.NumLock="NumLock",e.ScrollLock="ScrollLock",e.Shift="Shift",e.Super="Super",e.Symbol="Symbol",e.SymbolLock="SymbolLock",e.Enter="Enter",e.Tab="Tab",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e.Backspace="Backspace",e.Clear="Clear",e.Copy="Copy",e.CrSel="CrSel",e.Cut="Cut",e.Delete="Delete",e.EraseEof="EraseEof",e.ExSel="ExSel",e.Insert="Insert",e.Paste="Paste",e.Redo="Redo",e.Undo="Undo",e.Accept="Accept",e.Again="Again",e.Attn="Attn",e.Cancel="Cancel",e.ContextMenu="ContextMenu",e.Escape="Escape",e.Execute="Execute",e.Find="Find",e.Finish="Finish",e.Help="Help",e.Pause="Pause",e.Play="Play",e.Props="Props",e.Select="Select",e.ZoomIn="ZoomIn",e.ZoomOut="ZoomOut",e.BrightnessDown="BrightnessDown",e.BrightnessUp="BrightnessUp",e.Eject="Eject",e.LogOff="LogOff",e.Power="Power",e.PowerOff="PowerOff",e.PrintScreen="PrintScreen",e.Hibernate="Hibernate",e.Standby="Standby",e.WakeUp="WakeUp",e.AllCandidates="AllCandidates",e.Alphanumeric="Alphanumeric",e.CodeInput="CodeInput",e.Compose="Compose",e.Convert="Convert",e.Dead="Dead",e.FinalMode="FinalMode",e.GroupFirst="GroupFirst",e.GroupLast="GroupLast",e.GroupNext="GroupNext",e.GroupPrevious="GroupPrevious",e.ModeChange="ModeChange",e.NextCandidate="NextCandidate",e.NonConvert="NonConvert",e.PreviousCandidate="PreviousCandidate",e.Process="Process",e.SingleCandidate="SingleCandidate",e.HangulMode="HangulMode",e.HanjaMode="HanjaMode",e.JunjaMode="JunjaMode",e.Eisu="Eisu",e.Hankaku="Hankaku",e.Hiragana="Hiragana",e.HiraganaKatakana="HiraganaKatakana",e.KanaMode="KanaMode",e.KanjiMode="KanjiMode",e.Katakana="Katakana",e.Romaji="Romaji",e.Zenkaku="Zenkaku",e.ZenkakuHanaku="ZenkakuHanaku",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.F13="F13",e.F14="F14",e.F15="F15",e.F16="F16",e.F17="F17",e.F18="F18",e.F19="F19",e.F20="F20",e.Soft1="Soft1",e.Soft2="Soft2",e.Soft3="Soft3",e.Soft4="Soft4",e.AppSwitch="AppSwitch",e.Call="Call",e.Camera="Camera",e.CameraFocus="CameraFocus",e.EndCall="EndCall",e.GoBack="GoBack",e.GoHome="GoHome",e.HeadsetHook="HeadsetHook",e.LastNumberRedial="LastNumberRedial",e.Notification="Notification",e.MannerMode="MannerMode",e.VoiceDial="VoiceDial",e.ChannelDown="ChannelDown",e.ChannelUp="ChannelUp",e.MediaFastForward="MediaFastForward",e.MediaPause="MediaPause",e.MediaPlay="MediaPlay",e.MediaPlayPause="MediaPlayPause",e.MediaRecord="MediaRecord",e.MediaRewind="MediaRewind",e.MediaStop="MediaStop",e.MediaTrackNext="MediaTrackNext",e.MediaTrackPrevious="MediaTrackPrevious",e.AudioBalanceLeft="AudioBalanceLeft",e.AudioBalanceRight="AudioBalanceRight",e.AudioBassDown="AudioBassDown",e.AudioBassBoostDown="AudioBassBoostDown",e.AudioBassBoostToggle="AudioBassBoostToggle",e.AudioBassBoostUp="AudioBassBoostUp",e.AudioBassUp="AudioBassUp",e.AudioFaderFront="AudioFaderFront",e.AudioFaderRear="AudioFaderRear",e.AudioSurroundModeNext="AudioSurroundModeNext",e.AudioTrebleDown="AudioTrebleDown",e.AudioTrebleUp="AudioTrebleUp",e.AudioVolumeDown="AudioVolumeDown",e.AudioVolumeMute="AudioVolumeMute",e.AudioVolumeUp="AudioVolumeUp",e.MicrophoneToggle="MicrophoneToggle",e.MicrophoneVolumeDown="MicrophoneVolumeDown",e.MicrophoneVolumeMute="MicrophoneVolumeMute",e.MicrophoneVolumeUp="MicrophoneVolumeUp",e.TV="TV",e.TV3DMode="TV3DMode",e.TVAntennaCable="TVAntennaCable",e.TVAudioDescription="TVAudioDescription",e.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",e.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",e.TVContentsMenu="TVContentsMenu",e.TVDataService="TVDataService",e.TVInput="TVInput",e.TVInputComponent1="TVInputComponent1",e.TVInputComponent2="TVInputComponent2",e.TVInputComposite1="TVInputComposite1",e.TVInputComposite2="TVInputComposite2",e.TVInputHDMI1="TVInputHDMI1",e.TVInputHDMI2="TVInputHDMI2",e.TVInputHDMI3="TVInputHDMI3",e.TVInputHDMI4="TVInputHDMI4",e.TVInputVGA1="TVInputVGA1",e.TVMediaContext="TVMediaContext",e.TVNetwork="TVNetwork",e.TVNumberEntry="TVNumberEntry",e.TVPower="TVPower",e.TVRadioService="TVRadioService",e.TVSatellite="TVSatellite",e.TVSatelliteBS="TVSatelliteBS",e.TVSatelliteCS="TVSatelliteCS",e.TVSatelliteToggle="TVSatelliteToggle",e.TVTerrestrialAnalog="TVTerrestrialAnalog",e.TVTerrestrialDigital="TVTerrestrialDigital",e.TVTimer="TVTimer",e.AVRInput="AVRInput",e.AVRPower="AVRPower",e.ColorF0Red="ColorF0Red",e.ColorF1Green="ColorF1Green",e.ColorF2Yellow="ColorF2Yellow",e.ColorF3Blue="ColorF3Blue",e.ColorF4Grey="ColorF4Grey",e.ColorF5Brown="ColorF5Brown",e.ClosedCaptionToggle="ClosedCaptionToggle",e.Dimmer="Dimmer",e.DisplaySwap="DisplaySwap",e.DVR="DVR",e.Exit="Exit",e.FavoriteClear0="FavoriteClear0",e.FavoriteClear1="FavoriteClear1",e.FavoriteClear2="FavoriteClear2",e.FavoriteClear3="FavoriteClear3",e.FavoriteRecall0="FavoriteRecall0",e.FavoriteRecall1="FavoriteRecall1",e.FavoriteRecall2="FavoriteRecall2",e.FavoriteRecall3="FavoriteRecall3",e.FavoriteStore0="FavoriteStore0",e.FavoriteStore1="FavoriteStore1",e.FavoriteStore2="FavoriteStore2",e.FavoriteStore3="FavoriteStore3",e.Guide="Guide",e.GuideNextDay="GuideNextDay",e.GuidePreviousDay="GuidePreviousDay",e.Info="Info",e.InstantReplay="InstantReplay",e.Link="Link",e.ListProgram="ListProgram",e.LiveContent="LiveContent",e.Lock="Lock",e.MediaApps="MediaApps",e.MediaAudioTrack="MediaAudioTrack",e.MediaLast="MediaLast",e.MediaSkipBackward="MediaSkipBackward",e.MediaSkipForward="MediaSkipForward",e.MediaStepBackward="MediaStepBackward",e.MediaStepForward="MediaStepForward",e.MediaTopMenu="MediaTopMenu",e.NavigateIn="NavigateIn",e.NavigateNext="NavigateNext",e.NavigateOut="NavigateOut",e.NavigatePrevious="NavigatePrevious",e.NextFavoriteChannel="NextFavoriteChannel",e.NextUserProfile="NextUserProfile",e.OnDemand="OnDemand",e.Pairing="Pairing",e.PinPDown="PinPDown",e.PinPMove="PinPMove",e.PinPToggle="PinPToggle",e.PinPUp="PinPUp",e.PlaySpeedDown="PlaySpeedDown",e.PlaySpeedReset="PlaySpeedReset",e.PlaySpeedUp="PlaySpeedUp",e.RandomToggle="RandomToggle",e.RcLowBattery="RcLowBattery",e.RecordSpeedNext="RecordSpeedNext",e.RfBypass="RfBypass",e.ScanChannelsToggle="ScanChannelsToggle",e.ScreenModeNext="ScreenModeNext",e.Settings="Settings",e.SplitScreenToggle="SplitScreenToggle",e.STBInput="STBInput",e.STBPower="STBPower",e.Subtitle="Subtitle",e.Teletext="Teletext",e.VideoModeNext="VideoModeNext",e.Wink="Wink",e.ZoomToggle="ZoomToggle",e.SpeechCorrectionList="SpeechCorrectionList",e.SpeechInputToggle="SpeechInputToggle",e.Close="Close",e.New="New",e.Open="Open",e.Print="Print",e.Save="Save",e.SpellCheck="SpellCheck",e.MailForward="MailForward",e.MailReply="MailReply",e.MailSend="MailSend",e.LaunchCalculator="LaunchCalculator",e.LaunchCalendar="LaunchCalendar",e.LaunchContacts="LaunchContacts",e.LaunchMail="LaunchMail",e.LaunchMediaPlayer="LaunchMediaPlayer",e.LaunchMusicPlayer="LaunchMusicPlayer",e.LaunchMyComputer="LaunchMyComputer",e.LaunchPhone="LaunchPhone",e.LaunchScreenSaver="LaunchScreenSaver",e.LaunchSpreadsheet="LaunchSpreadsheet",e.LaunchWebBrowser="LaunchWebBrowser",e.LaunchWebCam="LaunchWebCam",e.LaunchWordProcessor="LaunchWordProcessor",e.LaunchApplication1="LaunchApplication1",e.LaunchApplication2="LaunchApplication2",e.LaunchApplication3="LaunchApplication3",e.LaunchApplication4="LaunchApplication4",e.LaunchApplication5="LaunchApplication5",e.LaunchApplication6="LaunchApplication6",e.LaunchApplication7="LaunchApplication7",e.LaunchApplication8="LaunchApplication8",e.LaunchApplication9="LaunchApplication9",e.LaunchApplication10="LaunchApplication10",e.LaunchApplication11="LaunchApplication11",e.LaunchApplication12="LaunchApplication12",e.LaunchApplication13="LaunchApplication13",e.LaunchApplication14="LaunchApplication14",e.LaunchApplication15="LaunchApplication15",e.LaunchApplication16="LaunchApplication16",e.BrowserBack="BrowserBack",e.BrowserFavorites="BrowserFavorites",e.BrowserForward="BrowserForward",e.BrowserHome="BrowserHome",e.BrowserRefresh="BrowserRefresh",e.BrowserSearch="BrowserSearch",e.BrowserStop="BrowserStop",e.Decimal="Decimal",e.Key11="Key11",e.Key12="Key12",e.Multiply="Multiply",e.Add="Add",e.Divide="Divide",e.Subtract="Subtract",e.Separator="Separator"}(t.Key||(t.Key={}))}(Y9)),Y9}var SFe=wFe(),Gn=(t=>(t.Core="Core",t.Chat="Chat",t.Settings="Settings",t.Internal="Internal",t))(Gn||{});const De=C({Mod:"mod",Comma:",",Space:"Space"," ":"Space","Â ":"Space"},SFe.Key),kFe=new RegExp("```.*?\\n([\\s\\S]+?)\\n?```[^`]*$","gms");function ZR(){return c2e()||u2e()}const MFe={[De.Comma]:",",[De.Enter]:"â",[De.Escape]:"Esc",[De.ArrowUp]:"â",[De.ArrowDown]:"â",[De.ArrowLeft]:"â",[De.ArrowRight]:"â",[De.Backspace]:"â«",[De.Delete]:"â¦",[De.Tab]:"â¥",[De.Control]:"Ctrl",[De.Shift]:"Shift"};function EFe(t){switch(t){case De.Mod:return ZR()?"â":"Ctrl";case De.Meta:return ZR()?"â":"Win";default:return MFe[t]}}const cwt=t=>t.map(e=>{var n;return(n=EFe(e))!=null?n:e}),ai=pe({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},zoomIn:{id:"keyboardActions.zoomIn",defaultMessage:"Zoom in"},zoomOut:{id:"keyboardActions.zoomOut",defaultMessage:"Zoom out"},resetZoom:{id:"keyboardActions.resetZoom",defaultMessage:"Reset zoom"},cycleReasoningLevel:{id:"keyboardActions.cycleReasoningLevel",defaultMessage:"Cycle reasoning level"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),rae=new a2e,sae=[De.Mod,De.Shift,"o"],jFe=[De.Mod,"k"],uwt=({resetThreadAction:t,clientThreadId:e,focusPromptTextareaAction:n})=>{"use forget";const r=q(),s=Tt(),{isFannyPackEnabled:a}=$j(),i=Qi(),l=Yt(wn),c=it();g.useEffect(()=>{const u=Xi,d=i?[[De.Mod,"n"]]:[],f={key:"navigationToggle",action:()=>{pn.setSidebarOpen(void 0)},actionMessageDescriptor:ai.navigationToggle,group:Gn.Core,keyboardBinding:[De.Mod,De.Shift,"s"]};return U6(r).addAction({key:"newChat",action:t||_n,actionMessageDescriptor:ai.newChat,group:Gn.Core,keyboardBinding:sae,altKeyboardBindings:a?[...d]:[...d,[De.Mod,"k"]]},{key:"focusPromptTextarea",action:n!=null?n:pj,actionMessageDescriptor:ai.focusPromptTextarea,group:Gn.Chat,keyboardBinding:[De.Shift,De.Escape]},{key:"copyLastCodeBlock",action:m=>{if(e!=null){const p=se.getConversationTurns(st(e));for(let h=p.length-1;h>=0;h--){const{messages:v}=p[h],x=[...v.reduce((_,w)=>{var S;return((S=w.clientMetadata)==null?void 0:S.err)==null&&w.author.role===Ue.Assistant&&w.recipient==="all"?_+(_?"\n\n":"")+Ka(w):_},"").matchAll(kFe)],b=x.length?x[x.length-1][1]:null;if(b!=null){Uo(b,s,m).then(()=>{s.success("Copied code block to clipboard")});break}}}},actionMessageDescriptor:ai.copyLastCodeBlock,group:Gn.Chat,keyboardBinding:[De.Mod,De.Shift,";"],altKeyboardBindings:[[De.Mod,De.Shift,":"]]},{key:"toggleCustomInstructions",action:()=>{c("#settings/".concat(Dn.Personalization))},actionMessageDescriptor:ai.toggleCustomInstructions,group:Gn.Settings,keyboardBinding:[De.Mod,De.Shift,"i"]},...l?[]:[f],{key:"deleteChat",action:()=>{if(e){const m=kt(e);m&&Dt(r,Vj,{serverThreadId:m,isActiveConversation:!0})}},actionMessageDescriptor:ai.deleteChat,group:Gn.Chat,keyboardBinding:[De.Mod,De.Shift,De.Backspace],altKeyboardBindings:[[De.Mod,De.Shift,De.Delete]]},{key:"zoomIn",enabled:u,action:()=>o2e(),actionMessageDescriptor:ai.zoomIn,group:Gn.Chat,keyboardBinding:[De.Mod,"+"],altKeyboardBindings:[[De.Mod,"="]]},{key:"zoomOut",enabled:u,action:()=>i2e(),actionMessageDescriptor:ai.zoomOut,group:Gn.Chat,keyboardBinding:[De.Mod,"-"]},{key:"resetZoom",enabled:u,action:()=>l2e(),actionMessageDescriptor:ai.resetZoom,group:Gn.Chat,keyboardBinding:[De.Mod,"0"]})},[r,e,n,l,i,a,t,s,c])},dwt=({setSelectedVoiceIndex:t,prevVoiceIndex:e,nextVoiceIndex:n})=>{const r=q();g.useEffect(()=>U6(r).addAction({key:"selectPrevVoice",action:()=>{t(e)},actionMessageDescriptor:{defaultMessage:"Select previous voice"},group:Gn.Core,keyboardBinding:[De.ArrowLeft]},{key:"selectNextVoice",action:()=>{t(n)},actionMessageDescriptor:{defaultMessage:"Select next voice"},group:Gn.Chat,keyboardBinding:[De.ArrowRight]}),[r,t,e,n])},qj=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.625 7.91667C10.625 7.57149 10.9048 7.29167 11.25 7.29167H12.0833C12.4285 7.29167 12.7083 7.57149 12.7083 7.91667V12.0833C12.7083 12.4285 12.4285 12.7083 12.0833 12.7083H11.25C10.9048 12.7083 10.625 12.4285 10.625 12.0833V7.91667Z"}),g.createElement("path",{d:"M7.91667 7.29167C7.57149 7.29167 7.29167 7.57149 7.29167 7.91667V12.0833C7.29167 12.4285 7.57149 12.7083 7.91667 12.7083H8.75001C9.09518 12.7083 9.37501 12.4285 9.37501 12.0833V7.91667C9.37501 7.57149 9.09518 7.29167 8.75001 7.29167H7.91667Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),fwt=Object.freeze(Object.defineProperty({__proto__:null,default:qj},Symbol.toStringTag,{value:"Module"}));function zj({title:t,description:e,confirmText:n,cancelText:r,isOpen:s=!1,onClose:a,onConfirm:i,primaryButtonColor:l="primary",textCenter:c=!1,loading:u=!1,children:d}){const f=Z();return o.jsx(tt,{testId:"modal-confirm",isOpen:s,onClose:a,title:t,description:e,textCenter:c,primaryButton:o.jsx(yn.Button,{title:n!=null?n:f.formatMessage(KR.confirmLabel),color:l,onClick:i,loading:u}),secondaryButton:o.jsx(yn.Button,{title:r!=null?r:f.formatMessage(KR.cancelLabel),color:"secondary",onClick:a}),children:d})}const KR=pe({confirmLabel:{id:"ConfirmModal.confirmLabel",defaultMessage:"Confirm"},cancelLabel:{id:"ConfirmModal.cancelLabel",defaultMessage:"Cancel"}}),El={messages:pe({delete:{id:"jawbone.delete",defaultMessage:"Delete"},pause:{id:"jawbone.pause",defaultMessage:"Pause"},pauseFailure:{id:"jawbone.pauseAutomationFailure",defaultMessage:"Failed to pause the automation"},resume:{id:"jawbone.resume",defaultMessage:"Resume"},enableFailure:{id:"jawbone.resumeFailure",defaultMessage:"Failed to resume the automation"},notificationsTitle:{id:"jawbone.notificationsTitle",defaultMessage:"Notifications"},notificationsDesktopAndMobile:{id:"jawbone.notificationsDesktopAndMobile",defaultMessage:"Desktop & mobile"},notificationsEmail:{id:"jawbone.notificationsEmail",defaultMessage:"Email"}})};class X0{static async getAutomations(e=null,n=null){return ue.safeGet("/automations",{parameters:{query:{cursor:e,filter:n}}})}static getAutomationQueryKey(e){return["automation",e]}static async getAutomation(e){return ue.safeGet("/automation/{automation_id}",{parameters:{path:{automation_id:e}}})}static async setAutomationStatus(e,n){return ue.safePost("/automations/set_status",{requestBody:{jawbone_id:e,is_enabled:n}})}static async removeAutomation(e){return ue.safePost("/automations/remove",{requestBody:{automation_id:e}})}static async saveAutomation(e,n,r,s,a,i,l,c){return ue.safePost("/automations/save",{requestBody:{jawbone_id:e,title:n,schedule:r,is_enabled:s,prompt:a,default_timezone:i,notifications_enabled:!1,email_enabled:!1,schedule_components:l,last_run_time:c}})}static async getAutomationNextRunTimes(e,n=null,r=5){return ue.safeGet("/automation/{automation_id}/next_run_times",{parameters:{path:{automation_id:e},query:{last_run_time:n,page_size:r}}})}}const Ot=pe({pageTitle:{id:"CHk10n",defaultMessage:"Tasks"},emptyStateTitle:{id:"WZwnBu",defaultMessage:"Start creating tasks"},emptyStateDescription:{id:"VGFt6n",defaultMessage:"Ask ChatGPT to do things in the future."},emptyStateTryYourOwn:{id:"ARS7Xs",defaultMessage:"Try your own"},makingAutomation:{id:"nngZkS",defaultMessage:"Creating task..."},updatingAutomation:{id:"TtVqbi",defaultMessage:"Updating task..."},cancelModalDescription:{id:"ovdvFi",defaultMessage:"Are you sure you want to cancel? Your changes will not be saved."},pauseBanner:{id:"Shy3x+",defaultMessage:"This task is paused."},editModalTitle:{id:"TATVBL",defaultMessage:"Task"},editModalName:{id:"6yXwm0",defaultMessage:"Name"},editModalInstructions:{id:"6m8uZT",defaultMessage:"Instructions"},editModalSchedule:{id:"huULIs",defaultMessage:"When"},editModalDelete:{id:"jmdwEu",defaultMessage:"Delete"},editModalCancel:{id:"CkqFyL",defaultMessage:"Cancel"},editModalSave:{id:"tw230z",defaultMessage:"Save"},editModalSaveSuccess:{id:"2bPf6t",defaultMessage:"Task saved"},editModalSaveFailure:{id:"s9XRUo",defaultMessage:"Failed to save task"},editModalMissingTaskName:{id:"Gvl61x",defaultMessage:"A task name is required."},editModalMissingInstructions:{id:"50eJR5",defaultMessage:"Instructions are required."},editModalTooFarInFuture:{id:"pRMB4Q",defaultMessage:"Tasks canât be scheduled more than 2 years in the future."},editModalInPast:{id:"og7U6X",defaultMessage:"Please choose a date in the future."},newScheduleTitle:{id:"T+KLUF",defaultMessage:"New schedule"},editScheduleTitle:{id:"foaSfJ",defaultMessage:"Edit schedule"},seeMore:{id:"e818FO",defaultMessage:"See more"},scheduleFrequencyOnce:{id:"ubLvlf",defaultMessage:"Doesn't repeat"},scheduleFrequencyDaily:{id:"fCPVKk",defaultMessage:"Daily"},scheduleFrequencyWeekly:{id:"LBJNa8",defaultMessage:"Weekly"},scheduleFrequencyMonthly:{id:"KtDbq5",defaultMessage:"Monthly"},scheduleFrequencyYearly:{id:"jPb1ga",defaultMessage:"Annually"},scheduleFrequencyCustom:{id:"aW+M+B",defaultMessage:"Custom"},scheduleNextThreeTimes:{id:"jHrFIq",defaultMessage:"Next three times"},scheduleCustomScheduleTitle:{id:"S55b0f",defaultMessage:"To update this custom schedule, just ask ChatGPT"},scheduleCustomScheduleContent:{id:"HzgAWq",defaultMessage:'For example, "do this every 3 weeks on Tuesday"'},scheduleCustomScheduleOpenChat:{id:"QIZwlV",defaultMessage:"Open chat"},pausedPill:{id:"H45WpI",defaultMessage:"Paused"},customSchedule:{id:"xBDjE1",defaultMessage:"Custom schedule"},deleteModalConfirmation:{id:"VvP/mR",defaultMessage:"Are you sure you want to delete this task? This cannot be undone."},deleteModalSuccess:{id:"yOFuly",defaultMessage:"Task deleted"},deleteScheduleModalSuccess:{id:"o9VBGa",defaultMessage:"Scheduled task deleted"},deleteModalFailure:{id:"/sJV6Y",defaultMessage:"Failed to delete task"},deleteModalTitle:{id:"ghUY4y",defaultMessage:"Delete task"},lastRunToday:{id:"32N654",defaultMessage:"Today"},lastRunYesterday:{id:"0J3FW6",defaultMessage:"Yesterday"},notificationsBannerAllow:{id:"cw4hGs",defaultMessage:"Allow"},notificationsBannerNotNow:{id:"zwEnmc",defaultMessage:"Not now"},notificationsBannerTitle:{id:"aZg1Bl",defaultMessage:"Turn on desktop notifications"},notificationsBannerContent:{id:"I6r+8F",defaultMessage:"Get notified when thereâs an update on your tasks."},notificationsDisabledBannerTitle:{id:"mVWjpz",defaultMessage:"Notifications are disabled in your browser."},notificationsDisabledBannerContent:{id:"wAahVE",defaultMessage:"You'll need to visit your browser preferences to allow them."},attachmentEdit:{id:"/KHfm0",defaultMessage:"Edit"},attachmentManageAll:{id:"hlEgKT",defaultMessage:"Schedules"},localizedRuntimeTomorrow:{id:"yK7y4m",defaultMessage:"Tomorrow"},scheduled:{id:"Vor1nS",defaultMessage:"Scheduled"},paused:{id:"ATWDeu",defaultMessage:"Paused"},completed:{id:"Ur4kmZ",defaultMessage:"Completed"}}),Fa={nextRunTime:t=>o.jsx(N,{id:"/OfbaB",defaultMessage:"Next run {nextRunTime}",values:{nextRunTime:t}}),runtimeDaily:t=>o.jsx(N,{id:"jawbone.runtime.daily",defaultMessage:"Daily at {localizedTime}",values:{localizedTime:t}}),runtimeWeeklyShort:t=>o.jsx(N,{id:"iTSfMl",defaultMessage:"Weekly on {localizedDayOfWeek}",values:{localizedDayOfWeek:t}}),runtimeWeekly:(t,e)=>o.jsx(N,{id:"jawbone.runtime.weekly",defaultMessage:"Weekly on {localizedDayOfWeek} at {localizedTime}",values:{localizedDayOfWeek:t,localizedTime:e}}),runtimeMonthly:t=>o.jsx(N,{id:"jawbone.runtime.monthly",defaultMessage:"Monthly on the {monthDay, selectordinal, one {#st} two {#nd} few {#rd} other {#th}}",values:{monthDay:t}}),runtimeYearly:(t,e)=>o.jsx(N,{id:"jawbone.runtime.yearly",defaultMessage:"Annually on {localizedMonth} {day}",values:{localizedMonth:t,day:e}}),runtimeToday:t=>o.jsx(N,{id:"hStcUW",defaultMessage:"Today at {localizedTime}",values:{localizedTime:t}}),runtimeTomorrow:t=>o.jsx(N,{id:"BF9QGd",defaultMessage:"Tomorrow at {localizedTime}",values:{localizedTime:t}}),runtimeNextFiveDays:(t,e)=>o.jsx(N,{id:"UdC7R6",defaultMessage:"{localizedDayOfWeek} at {localizedTime}",values:{localizedDayOfWeek:t,localizedTime:e}}),runtimeThisYear:(t,e)=>o.jsx(N,{id:"L9Pqre",defaultMessage:"{localizedMonthDay} at {localizedTime}",values:{localizedMonthDay:t,localizedTime:e}}),runtimeOutsideThisYear:(t,e)=>o.jsx(N,{id:"XOR8K9",defaultMessage:"{localizedDate} at {localizedTime}",values:{localizedDate:t,localizedTime:e}})},W5=Rt(Sn(()=>({jawboneById:{},cursorsByFilter:{scheduled:null,paused:null,finished:null},maxBannerClientThreadId:void 0}))),Bc=W5.getState,j1=W5.setState,Z5={initJawbonesFromServerData:(t,e,n)=>{j1(r=>{t.forEach(s=>{r.jawboneById[s.id]=s}),r.cursorsByFilter[n]=e})},removeAutomation:t=>{j1(e=>{delete e.jawboneById[t]})},setAutomation:(t,e)=>{j1(n=>{const r=n.jawboneById[t];if(!r){n.jawboneById[t]=e;return}const s=new Date(r.updated_at),a=new Date(e.updated_at);(isNaN(s.getTime())||isNaN(a.getTime())||s<a)&&(n.jawboneById[t]=e)})},setAutomationStatus:(t,e)=>{j1(n=>{n.jawboneById[t].is_enabled=e})},clearMaxBannerClientThreadId:()=>{j1(t=>{t.maxBannerClientThreadId=void 0})},setMaxBannerClientThreadId:t=>{j1(e=>{e.maxBannerClientThreadId=t})}},K5={getAllJawbonesGrouped:(t=Bc())=>PFe(Object.values(t.jawboneById)),getAutomation:(t,e=Bc())=>e.jawboneById[t],getCursor:(t,e=Bc())=>e.cursorsByFilter[t],getHasJawbones:(t=Bc())=>Object.values(t.jawboneById).length>0,getTargetTimeUTC:(t,e=Bc())=>{var n;return(n=e.jawboneById[t])==null?void 0:n.target_time_utc},hasJawbones:(t=Bc())=>Object.keys(t.jawboneById).length>0,getMaxBannerClientThreadId:(t=Bc())=>t.maxBannerClientThreadId};function Q9(t){const{isLoading:e}=ac({queryKey:["automations",t],queryFn:async({pageParam:n})=>{const r=await X0.getAutomations(n,t);return Z5.initJawbonesFromServerData(r.items,r.cursor,t),r},initialPageParam:K5.getCursor(t),getNextPageParam:n=>{var r;return(r=n.cursor)!=null?r:void 0}});return{isLoading:e}}function TFe(){const{isLoading:t}=Q9("scheduled"),{isLoading:e}=Q9("paused"),{isLoading:n}=Q9("finished");return{isLoadingScheduled:t,isLoadingPaused:e,isLoadingFinished:n}}function NFe({automation_id:t,onSuccess:e,onError:n}){return Vt({mutationFn:({is_enabled:r})=>X0.setAutomationStatus(t,r),onSuccess:r=>{Z5.setAutomation(r.id,r),e&&e()},onError:(r,s)=>{n&&n(s.is_enabled)}})}function AFe({automation_id:t,onSuccess:e,onError:n}){return Vt({mutationFn:()=>X0.removeAutomation(t),onSuccess:()=>{Z5.removeAutomation(t),e&&e()},onError:()=>{n&&n()}})}function PFe(t){return t.reduce((e,n)=>(n.next_run_times.length===0?e.completed.automations.push(n):n.is_enabled?e.scheduled.automations.push(n):e.paused.automations.push(n),e),{scheduled:{label:Ot.scheduled,filter:"scheduled",automations:[]},paused:{label:Ot.paused,filter:"paused",automations:[]},completed:{label:Ot.completed,filter:"finished",automations:[]}})}function aae({item:t,onClose:e,onConfirm:n}){const r=Z(),s=Tt(),a=q(),i=ie(a,"733205176");let l;i?l=Ot.deleteScheduleModalSuccess:l=Ot.deleteModalSuccess;const{mutate:c,isPending:u}=AFe({automation_id:t.id,onSuccess:()=>{s.success(r.formatMessage(l),{hasCloseButton:!0}),n==null||n(),e()},onError:()=>{s.danger(Ot.deleteModalFailure,{hasCloseButton:!0,toastId:"jawbone_delete_modal"})}});return o.jsx(zj,{isOpen:!0,title:r.formatMessage(Ot.deleteModalTitle),primaryButtonColor:"danger",onClose:e,confirmText:r.formatMessage(El.messages.delete),onConfirm:()=>{c()},loading:u,children:o.jsx("div",{className:"text-sm",children:o.jsx(N,C({},Ot.deleteModalConfirmation))})})}const wc=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.2793 7.5293C15.539 7.2696 15.961 7.2696 16.2207 7.5293C16.4804 7.78899 16.4804 8.211 16.2207 8.4707L10.4707 14.2207C10.211 14.4804 9.78896 14.4804 9.52926 14.2207L3.77926 8.4707L3.6943 8.36621C3.52379 8.10808 3.55199 7.75656 3.77926 7.5293C4.00653 7.30203 4.35804 7.27383 4.61617 7.44434L4.72067 7.5293L9.99996 12.8086L15.2793 7.5293Z"})),mwt=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),e3=t=>g.createElement("svg",C({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M9.13374 2.94433C9.39187 2.77382 9.74338 2.80202 9.97065 3.02929C10.1979 3.25656 10.2261 3.60807 10.0556 3.8662L9.97065 3.9707L5.94136 7.99999L9.97065 12.0293L10.0556 12.1338C10.2261 12.3919 10.1979 12.7434 9.97065 12.9707C9.74338 13.198 9.39187 13.2262 9.13374 13.0557L9.02925 12.9707L4.52925 8.4707C4.26955 8.211 4.26955 7.78899 4.52925 7.52929L9.02925 3.02929L9.13374 2.94433Z"})),pwt=Object.freeze(Object.defineProperty({__proto__:null,default:e3},Symbol.toStringTag,{value:"Module"})),$s=g.createContext({scheduleComponents:{frequency:"custom"},setFrequency:()=>{},setStartDate:()=>{},setByDay:()=>{},setByMonthDay:()=>{},setByYearDay:()=>{},setByMonth:()=>{},setTime:()=>{},startDate:void 0,nextRunTimes:[],scheduleErrors:void 0,validFrequencies:void 0,setValidFrequencies:()=>{}});function _h({initialScheduleComponents:t,initialValidFrequencies:e,nextRunTimes:n,children:r}){const[s,a]=g.useState(t),[i,l]=g.useState(void 0),[c,u]=g.useState(void 0),[d,f]=g.useState(e);return o.jsx($s.Provider,{value:{scheduleComponents:s,setFrequency:m=>{a(P(C({},s),{frequency:m}))},setStartDate:m=>{l(m),u(IFe(m)),a(P(C({},s),{start_time:m.toISOString()}))},setByDay:m=>{a(P(C({},s),{by_day:m}))},setByMonthDay:m=>{a(P(C({},s),{by_month_day:m}))},setByYearDay:m=>{a(P(C({},s),{by_year_day:m}))},setByMonth:m=>{a(P(C({},s),{by_month:m}))},setTime:(m,p)=>{a(P(C({},s),{by_hour:m,by_minute:p,by_second:0}))},startDate:i,scheduleErrors:s.frequency!=="once"?void 0:c,nextRunTimes:n,setValidFrequencies:f,validFrequencies:d},children:r})}function IFe(t){let e=!1;const n=new Date;n.setFullYear(n.getFullYear()+2),t.getTime()>=n.getTime()&&(e=!0);let r=!1;const s=new Date;if(s.setSeconds(0,0),t.getTime()<s.getTime()&&(r=!0),e||r)return{tooFarInFuture:e,inPast:r}}function oae(t){switch(t.frequency){case"once":return t.start_time?new Date(t.start_time):void 0;case"daily":case"weekly":case"monthly":case"yearly":return t.by_hour==null||t.by_minute==null?void 0:new Date(0,0,0,t.by_hour,t.by_minute);case"custom":return}}function LFe(t,e){const n=e.scheduleComponents.start_time?new Date(e.scheduleComponents.start_time):new Date;n.setHours(t.getHours(),t.getMinutes()),e.setStartDate(n)}function RFe(t,e){var s,a;const n=oae(e.scheduleComponents),r=new Date(t);r.setHours((s=n==null?void 0:n.getHours())!=null?s:0,(a=n==null?void 0:n.getMinutes())!=null?a:0),e.setStartDate(r)}function OFe(t,e){const n=e.scheduleComponents.start_time?new Date(e.scheduleComponents.start_time):new Date;n.setDate(t),e.setStartDate(n)}function DFe({initialDate:t,onClick:e}){const n=Z(),{scheduleComponents:r}=g.useContext($s),s=g.useMemo(()=>FFe(r),[r]),[a,i]=g.useState(t),c=new Intl.DateTimeFormat(n.locale,{month:"short",year:"numeric"}).format(a);return o.jsxs("div",{className:"mx-5 my-2 flex flex-col gap-0.5",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"grow text-lg font-semibold",children:c}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(YR,{onClick:()=>i(new Date(a.getFullYear(),a.getMonth()-1,1)),children:o.jsx(e3,{className:"icon-sm"})}),o.jsx(YR,{onClick:()=>{i(new Date(a.getFullYear(),a.getMonth()+1,1))},children:o.jsx(ji,{className:"icon-sm"})})]})]}),o.jsx(UFe,{visibleDate:a,selectedDate:s,onClick:e})]})}function YR(t){const r=t,{children:e}=r,n=de(r,["children"]);return o.jsx("button",P(C({},n),{className:"flex h-10 w-10 items-center justify-center",children:e}))}function FFe(t){return t.start_time?new Date(t.start_time):void 0}function QR(t,e){return new Date(t,e+1,0).getDate()}function BFe(t,e){return new Date(t,e,1).getDay()}function UFe({visibleDate:t,selectedDate:e,onClick:n}){const r=Z(),s=g.useContext($s),a=6,i=g.useMemo(()=>{const u=t.getFullYear(),d=t.getMonth(),f=QR(u,d),m=BFe(u,d),p=[];for(let v=m-1;v>=0;v--)p.push(new Date(u,d-1,QR(u,d-1)-v));for(let v=1;v<=f;v++)p.push(new Date(u,d,v));const h=a*7-p.length;for(let v=1;v<=h;v++)p.push(new Date(u,d+1,v));return p},[t]),l=g.useMemo(()=>{const u=new Intl.DateTimeFormat(r.locale,{weekday:"narrow"});return Array.from({length:7},(d,f)=>u.format(new Date(1970,0,f+4)))},[r.locale]),c=new Date;return c.setHours(0,0,0,0),o.jsxs("div",{children:[o.jsx("div",{className:"flex",children:l.map((u,d)=>o.jsx("div",{className:"flex h-10 w-10 items-center justify-center text-sm font-medium",children:u},d))}),Array.from({length:a}).map((u,d)=>o.jsx("div",{className:"flex",children:i.slice(d*7,(d+1)*7).map(f=>{const m=f>=c;return o.jsx("button",{className:"h-10 w-10",onClick:()=>{m&&(RFe(f,s),n())},children:o.jsx(iae,{dayNumber:f.getDate(),isSelected:!!e&&e.toDateString()===f.toDateString(),isSelectable:m})},f.getDay())})},d))]})}function iae({dayNumber:t,isSelected:e,isSelectable:n}){return o.jsx("div",{className:"h-full w-full p-1",children:o.jsx("div",{className:U("flex h-full w-full items-center justify-center rounded-full text-sm",!n&&"text-token-text-tertiary",!e&&n&&"hover:bg-token-main-surface-secondary",e&&"bg-black font-semibold text-white dark:bg-white dark:text-black"),children:t})})}function HFe({onClick:t,selectedDay:e}){const n=g.useContext($s),r=g.useMemo(()=>{const s=[];let a=1;for(let i=0;i<5;i++){const l=[];for(let c=0;c<7&&a<=31;c++){const u=a;l.push(o.jsx("button",{className:"h-10 w-10 text-sm",onClick:()=>{OFe(u,n),t(u)},children:o.jsx(iae,{dayNumber:u,isSelectable:!0,isSelected:a===e},a)},a)),a++}s.push(o.jsx("div",{className:"flex",children:l},i))}return o.jsxs("div",{children:[o.jsx("p",{className:"ms-2 mb-2 text-sm font-semibold",children:o.jsx(N,{id:"WOVV2Z",defaultMessage:"Repeat every month on the"})}),o.jsx("div",{children:s})]})},[e,t,n]);return o.jsx("div",{children:r})}const VFe="flex-1",$Fe="max-h-96 overflow-y-auto";function t3({rootClassName:t,contentClassName:e,trigger:n,children:r,open:s,onOpenChange:a,onCloseAutoFocus:i}){return o.jsx("div",{className:U(t!=null?t:VFe),children:o.jsxs(J.Root,{open:s,onOpenChange:a,children:[n,o.jsx(J.Portal,{children:o.jsx(J.Content,{className:e!=null?e:$Fe,side:"bottom",onCloseAutoFocus:i,children:r})})]})})}const qFe="w-full justify-start rounded-lg border-token-border-medium";function n3({className:t,showError:e=!1,children:n}){return o.jsx(J.Trigger,{className:U(qFe,t),style:{borderColor:e?"var(--text-error)":void 0},children:o.jsxs("div",{className:"flex w-full items-center gap-1",children:[o.jsx("div",{className:"grow text-start",children:n}),o.jsx(wc,{className:"icon-sm text-token-text-tertiary"})]})})}function Gj({options:t,initialOption:e,showError:n=!1,onClick:r}){var s;return o.jsx(t3,{trigger:o.jsx(n3,{showError:n,children:(s=e==null?void 0:e.label)!=null?s:t[0].label}),children:o.jsx(Wj,{options:t,onClick:r})})}function Wj({options:t,onClick:e}){return o.jsx(o.Fragment,{children:t.map((n,r)=>o.jsx(J.Item,{onClick:()=>e==null?void 0:e(n),children:n.label},r))})}function lae({targetTimeUTC:t,useShortForm:e=!1}){return o.jsx(IM,{fallback:void 0,name:"JawboneLocalizedRuntime",children:o.jsx(zFe,{targetTimeUTC:t,useShortForm:e})})}function zFe({targetTimeUTC:t,useShortForm:e=!1}){const n=Z(),{localDate:r,today:s,tomorrow:a,dayAfterTomorrow:i,newWeek:l,localizedTime:c}=GFe(t,n.locale);if(r.toDateString()===s.toDateString())return Fa.runtimeToday(c);if(r.toDateString()===a.toDateString())return Fa.runtimeTomorrow(c);if(r>=i&&r<l){const u=new Intl.DateTimeFormat(n.locale,{weekday:"long"}).format(r);return Fa.runtimeNextFiveDays(u,c)}else if(r.getFullYear()===s.getFullYear()){const u=new Intl.DateTimeFormat(n.locale,{month:"long",day:"numeric"}).format(r);return e?u:Fa.runtimeThisYear(u,c)}else{const u=new Intl.DateTimeFormat(n.locale,{year:"numeric",month:"short",day:"numeric"}).format(r);return e?u:Fa.runtimeOutsideThisYear(u,c)}}function GFe(t,e){const n=new Date(t);if(isNaN(n.getTime()))throw new Error("Invalid targetTimeUTC provided: ".concat(t));const r=n,s=new Date;s.setHours(0,0,0,0);const a=new Date(s);a.setDate(a.getDate()+1);const i=new Date(s);i.setDate(i.getDate()+2);const l=new Date(s);l.setDate(s.getDate()+7);const c=new Intl.DateTimeFormat(e,{hour:"numeric",minute:r.getMinutes()===0?void 0:"numeric",hour12:!0}).format(r);return{localDate:r,today:s,tomorrow:a,dayAfterTomorrow:i,newWeek:l,localizedTime:c}}function cae(t){const e=new Date,n=e.getFullYear(),r=e.getMonth(),s=e.getDate();let a;if(a=t.match(/^(\d{1,2}):(\d{2})\s?([ap]m)$/i),a){let i=parseInt(a[1],10);const l=parseInt(a[2],10),c=a[3].toLowerCase();if(i>=1&&i<=12&&l>=0&&l<=59)return c==="pm"&&i!==12&&(i+=12),c==="am"&&i===12&&(i=0),new Date(n,r,s,i,l)}if(a=t.match(/^([ap]m)\s?(\d{1,2}):(\d{2})$/i),a){let i=parseInt(a[2],10);const l=parseInt(a[3],10),c=a[1].toLowerCase();if(i>=1&&i<=12&&l>=0&&l<=59)return c==="pm"&&i!==12&&(i+=12),c==="am"&&i===12&&(i=0),new Date(n,r,s,i,l)}if(a=t.match(/^(\d{1,2})\s?([ap]m)$/i),a){let i=parseInt(a[1],10);const l=a[2].toLowerCase();if(i===12&&l==="am")return i=0,new Date(n,r,s,i,0);if(i>=1&&i<=11&&l==="pm")return i+=12,new Date(n,r,s,i,0);if(i>=1&&i<=12)return new Date(n,r,s,i,0)}if(a=t.match(/^(\d{1,2}):(\d{2})$/),a){const i=parseInt(a[1],10),l=parseInt(a[2],10);if(i>=0&&i<=23&&l>=0&&l<=59)return new Date(n,r,s,i,l)}if(a=t.match(/^(\d{1,2})(\d{2})$/),a){const i=parseInt(a[1],10),l=parseInt(a[2],10);if(i>=0&&i<=23&&l>=0&&l<=59)return new Date(n,r,s,i,l)}if(a=t.match(/^(\d{1,2})$/),a){const i=parseInt(a[1],10);if(i>=0&&i<=23)return new Date(n,r,s,i,0)}if(a=t.match(/^(\d{1,2}):$/),a){const i=parseInt(a[1],10);if(i>=0&&i<=23)return new Date(n,r,s,i,0)}}function wh(t){return cae(t)}function JR(t){return cae(t)!==void 0}function XR(t){const e=wh(t);return Y5(e)}function Y5(t){return t?t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!(new Intl.DateTimeFormat().resolvedOptions().hourCycle==="h23"||new Intl.DateTimeFormat().resolvedOptions().hourCycle==="h24")}):""}function uae(t,e){const n=new Date(0,0,0,t,e);return Y5(n)}function WFe(t){const e=wh(t);return e&&e.setMinutes(0),Y5(e)}var ZFe=d2e();const dae=St(ZFe);function r3(){const t=g.useContext($s),[e,n]=g.useState(!1),[r,s]=g.useState(!0),a=g.useRef(null),i=g.useRef(null),l=g.useMemo(()=>KFe(),[]),c=oae(t.scheduleComponents),u=g.useMemo(()=>c!=null?c:new Date(new Date().setHours(14,0,0,0)),[c]);g.useEffect(()=>{c||J9(u,t)},[c,u,t]);const d=Y5(u),[f,m]=g.useState(!0),p=g.useRef(d),h=g.useRef(p.current);g.useEffect(()=>{const x=setTimeout(()=>{e&&a.current&&a.current.select()},0);return()=>clearTimeout(x)},[e]),g.useEffect(()=>{const x=setTimeout(()=>{if(e&&i.current){const b=WFe(p.current),_=dae(l,w=>w.label===p.current||w.label===b);if(_!==-1&&i.current){const w=i.current.children[_];w&&w.scrollIntoView({block:"center"})}}},0);return()=>clearTimeout(x)},[e,p,l]);const v=x=>{const b=JR(x);m(b),h.current=x,b&&(p.current=XR(x))},y=()=>{if(JR(h.current)){const b=XR(h.current);p.current=b,h.current=b;const _=wh(b);J9(_,t)}else{h.current=p.current;const b=wh(p.current);J9(b,t)}m(!0),a.current&&(a.current.value=p.current)};return o.jsx(t3,{trigger:o.jsx(n3,{showError:!f||!!t.scheduleErrors,children:o.jsx("div",{className:"flex w-full items-center",children:o.jsx("textarea",{className:"m-0 w-full resize-none border-none bg-transparent p-0 text-sm",defaultValue:p.current,ref:a,rows:1,wrap:"off",onBlur:()=>{y()},onChange:x=>{const b=x.target.value;v(b)},onKeyDown:x=>{x.key===" "&&x.stopPropagation()}})})}),open:e,onOpenChange:x=>{n(x),x?s(!0):y()},onCloseAutoFocus:x=>{x.preventDefault(),a.current&&a.current.select()},children:o.jsx("ul",{ref:i,children:o.jsx(Wj,{options:l,onClick:x=>{const b=uae(x.value.hour,x.value.minute);v(b),y(),n(!1),a.current&&a.current.select()}})})})}function KFe(){return Array.from({length:96},(e,n)=>{const r=Math.floor(n/4),s=n%4*15;return{label:uae(r,s),value:{hour:r,minute:s}}})}function J9(t,e){if(t)switch(e.scheduleComponents.frequency){case"once":{LFe(t,e);break}case"daily":case"weekly":case"monthly":case"yearly":{e.setTime(t.getHours(),t.getMinutes());break}}}function zf(){const t=Z(),{scheduleComponents:e,scheduleErrors:n,setFrequency:r,validFrequencies:s}=g.useContext($s),a=g.useMemo(()=>[{label:t.formatMessage(Ot.scheduleFrequencyOnce),value:"once"},{label:t.formatMessage(Ot.scheduleFrequencyDaily),value:"daily"},{label:t.formatMessage(Ot.scheduleFrequencyWeekly),value:"weekly"},{label:t.formatMessage(Ot.scheduleFrequencyMonthly),value:"monthly"},{label:t.formatMessage(Ot.scheduleFrequencyYearly),value:"yearly"},{label:t.formatMessage(Ot.scheduleFrequencyCustom),value:"custom"}].filter(c=>s===void 0||(s==null?void 0:s.includes(c.value))),[t,s]),i=a.find(l=>l.value===e.frequency);return g.useEffect(()=>{i||r(a[0].value)},[i,a,r]),o.jsx(Gj,{options:a,initialOption:i,onClick:l=>r(l.value),showError:!!n})}function YFe(){const t=Z(),{scheduleComponents:e,scheduleErrors:n,setByDay:r}=g.useContext($s),s=Array.from({length:7},(c,u)=>new Intl.DateTimeFormat(t.locale,{weekday:"long",timeZone:"UTC"}).format(new Date(Date.UTC(2021,2,u+1)))),a=["MO","TU","WE","TH","FR","SA","SU"],i=s.map((c,u)=>({label:c,value:a[u]})),l=i.find(c=>c.value===e.by_day);return g.useEffect(()=>{l||r(i[0].value)},[l,i,r]),o.jsx(Gj,{options:i,initialOption:l,onClick:c=>r(c.value),showError:!!n})}function QFe({useShortForm:t=!1}){var c;const{scheduleComponents:e,scheduleErrors:n,setByMonthDay:r}=g.useContext($s),s=Array.from({length:31},(u,d)=>({label:(d+1).toString(),value:d+1})),a=(u,d=new Date().getFullYear())=>new Date(d,u,0).getDate(),i=s.slice(0,a((c=e.by_month)!=null?c:1)),l=i.find(u=>u.value===e.by_month_day);return g.useEffect(()=>{l||r(i[0].value)},[l,i,r]),o.jsx(t3,{rootClassName:t?"flex-none":void 0,trigger:o.jsx(n3,{className:t?"w-[75px]":void 0,showError:!!n,children:l==null?void 0:l.label}),children:o.jsx(Wj,{options:i,onClick:u=>r(u.value)})})}function JFe({useShortForm:t=!1}){var l;const{scheduleComponents:e,scheduleErrors:n,setByMonthDay:r}=g.useContext($s),s=Z(),a=(l=e.by_month_day)!=null?l:1,i=s.formatMessage(uBe[a-1]);return o.jsx(t3,{rootClassName:t?"flex-none":void 0,trigger:o.jsx(n3,{className:t?"w-[75px]":void 0,showError:!!n,children:i}),children:o.jsx("div",{className:"m-4",children:o.jsx(HFe,{onClick:r,selectedDay:a})})})}function XFe(){const t=Z(),{scheduleComponents:e,scheduleErrors:n,setByMonth:r}=g.useContext($s),s=new Intl.DateTimeFormat(t.locale,{month:"long"}),a=Array.from({length:12},(l,c)=>({label:s.format(new Date(0,c)),value:c+1})),i=a.find(l=>l.value===e.by_month);return g.useEffect(()=>{i||r(a[0].value)},[i,a,r]),o.jsx(Gj,{options:a,initialOption:i,onClick:l=>r(l.value),showError:!!n})}function eBe(){const t=Z(),{scheduleComponents:e,scheduleErrors:n,setStartDate:r}=g.useContext($s),[s,a]=g.useState(!1);g.useEffect(()=>{e.start_time||r(new Date)},[e.start_time,r]);const i=e.start_time?new Date(e.start_time):new Date,l=new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"long",day:"numeric"});return o.jsx(t3,{trigger:o.jsx(n3,{showError:!!n,children:l.format(i)}),contentClassName:"min-w-[224px]",open:s,onOpenChange:a,children:o.jsx(DFe,{initialDate:i,onClick:()=>a(!1)})})}function tBe(){return o.jsxs("div",{className:"flex gap-2",children:[o.jsx(zf,{}),o.jsx(eBe,{}),o.jsx(r3,{})]})}function nBe(){return o.jsxs("div",{className:"flex gap-2",children:[o.jsx(zf,{}),o.jsx(r3,{})]})}function rBe(){return o.jsxs("div",{className:"flex gap-2",children:[o.jsx(zf,{}),o.jsx(YFe,{}),o.jsx(r3,{})]})}function sBe(){return o.jsxs("div",{className:"flex gap-2",children:[o.jsx(zf,{}),o.jsx(JFe,{}),o.jsx(r3,{})]})}function aBe(){return o.jsxs("div",{className:"flex gap-2",children:[o.jsx(zf,{}),o.jsx(XFe,{}),o.jsx(QFe,{useShortForm:!0}),o.jsx(r3,{})]})}function oBe({automationId:t,conversationId:e,onModalClose:n}){return o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx(zf,{}),o.jsx(iBe,{automationId:t}),o.jsx(lBe,{conversationId:e,onModalClose:n})]})}function iBe({automationId:t}){var i;const{data:e,fetchNextPage:n,hasNextPage:r,isFetchingNextPage:s}=ac({queryKey:["automation-next-run-times",t],queryFn:({pageParam:l})=>X0.getAutomationNextRunTimes(t,l),getNextPageParam:l=>l.has_more?l.next_run_times[l.next_run_times.length-1]:void 0,initialPageParam:null}),a=g.useRef(null);return g.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[e]),o.jsx("div",{className:"bg-token-main-surface-secondary rounded-lg p-3",children:o.jsxs("div",{ref:a,className:"flex h-full max-h-52 flex-col gap-3 overflow-y-auto text-sm",children:[(i=e==null?void 0:e.pages)==null?void 0:i.flatMap(l=>l.next_run_times).map((l,c)=>o.jsx("div",{children:o.jsx(lae,{targetTimeUTC:l})},c)),r&&o.jsx("button",{onClick:()=>n(),disabled:s,children:o.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium",children:[o.jsx(N,{id:"qL17GV",defaultMessage:"See more"}),o.jsx(wc,{className:"icon"})]})})]})})}function lBe({conversationId:t,onModalClose:e}){const n=it();return t?o.jsxs("div",{className:"border-token-border-medium flex gap-3 rounded-lg border p-4",children:[o.jsx(Hs,{}),o.jsxs("div",{className:"flex grow flex-col",children:[o.jsx("span",{className:"text-sm font-medium",children:o.jsx(N,C({},Ot.scheduleCustomScheduleTitle))}),o.jsx("span",{className:"text-token-text-secondary text-sm",children:o.jsx(N,C({},Ot.scheduleCustomScheduleContent))})]}),o.jsx(oe,{onClick:()=>{e(),n(_i(t))},children:o.jsx(N,C({},Ot.scheduleCustomScheduleOpenChat))})]}):null}function cBe({automationId:t,conversationId:e,onModalClose:n}){const{scheduleComponents:r}=g.useContext($s);switch(r.frequency){case"once":return o.jsx(tBe,{});case"daily":return o.jsx(nBe,{});case"weekly":return o.jsx(rBe,{});case"monthly":return o.jsx(sBe,{});case"yearly":return o.jsx(aBe,{});case"custom":return t?o.jsx(oBe,{automationId:t,conversationId:e,onModalClose:n}):null}}const uBe=new Array(31).fill(0).map((t,e)=>e+1).map(t=>{const e=t%10===1&&t!==11?"".concat(t,"st"):t===2||t===22?"".concat(t,"nd"):t===3||t===23?"".concat(t,"rd"):"".concat(t,"th");return{id:"date-ordinal-".concat(t),description:"Brief translation of a number's ordinal abbreviation, i.e. #1 = 1st (the 'st'), #2 = 2nd (the 'nd')",defaultMessage:e}});function dBe(t){return!!t.id}function fBe({onClose:t,onConfirm:e}){const n=Z();return o.jsx(zj,{isOpen:!0,title:n.formatMessage(Ot.editModalCancel),primaryButtonColor:"danger",onClose:()=>{t()},onConfirm:()=>{e()},children:o.jsx("div",{className:"text-sm",children:o.jsx(N,C({},Ot.cancelModalDescription))})})}function mBe({onClick:t}){return o.jsxs("div",{className:"border-token-border-medium flex items-center justify-between rounded-2xl border p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[o.jsx(qj,{className:"icon-lg"}),o.jsx(N,C({},Ot.pauseBanner))]}),o.jsx("div",{children:o.jsx(oe,{onClick:t,children:o.jsx(N,C({},El.messages.resume))})})]})}function Zj({item:t,source:e,onClose:n,onSave:r=X0.saveAutomation}){const s=Z(),a=Tt();g.useEffect(()=>{Me.count(Ee.JAWBONE,"jawbone_edit_modal.open")},[]);const{scheduleComponents:i,scheduleErrors:l}=g.useContext($s),[c,u]=g.useState(!0),[d,f]=g.useState(!1),[m,p]=g.useState(!1),[h,v]=g.useState(t.title),[y,x]=g.useState(t.prompt),[b,_]=g.useState(t.is_enabled),w=g.useRef(null);g.useEffect(()=>{const L=w.current;if(!L)return;L.style.height="auto";const O=300;L.style.height="".concat(Math.min(L.scrollHeight,O),"px")},[y]);const S=!!t.id;g.useEffect(()=>{l!=null&&l.tooFarInFuture||l!=null&&l.inPast?u(!1):u(h.length>0&&y.length>0);const L=h!==t.title||y!==t.prompt||b!==t.is_enabled||!Vu(i,t.schedule_components);f(L)},[l==null?void 0:l.tooFarInFuture,l==null?void 0:l.inPast,h,y,b,t,i]);const{mutate:k}=Vt({mutationFn:()=>{var L;return r((L=t.id)!=null?L:null,h,t.schedule,b,y,t.schedule_components.start_time!==i.start_time?Intl.DateTimeFormat().resolvedOptions().timeZone:t.default_timezone,i,t.last_run_time)},onSuccess:L=>{L&&Z5.setAutomation(L.id,L),n(s.formatMessage(Ot.editModalSaveSuccess))},onError:()=>{a.danger(Ot.editModalSaveFailure,{hasCloseButton:!0,toastId:"jawbone_edit_modal"}),u(!0),p(!1)}}),[M,E]=g.useState(!1),[T,j]=g.useState(!1),A=q();ie(A,"156153730");const I=it();return o.jsxs(o.Fragment,{children:[o.jsx(tt,{testId:"modal-jawbone-edit",className:"min-w-[680px] text-sm",isOpen:!0,onClose:()=>{if(d){j(!0);return}n()},showCloseButton:!0,title:S?o.jsx(N,C({},Ot.editScheduleTitle)):o.jsx(N,C({},Ot.newScheduleTitle)),headerAccessory:e==="tasks"&&o.jsx(oe,{icon:rl,color:"secondary",onClick:()=>{I(_i(t.conversation_id))},children:o.jsx(N,{id:"KkyshF",defaultMessage:"View chat"})}),type:"success",children:o.jsxs("div",{className:"flex flex-col gap-6",children:[!b&&o.jsx(mBe,{onClick:()=>{_(!0)}}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("div",{className:"text-sm font-medium",children:o.jsx(N,C({},Ot.editModalName))}),o.jsx("textarea",{className:U("border-token-border-medium bg-token-main-surface-primary w-full resize-none rounded-lg text-sm",h.length===0&&"border-token-text-error focus:border-token-text-error"),rows:1,value:h,onChange:L=>v(L.target.value),placeholder:s.formatMessage({id:"GB3SVK",defaultMessage:"Summarize AI news"})}),h.length===0&&o.jsx(g2,{children:o.jsx(N,C({},Ot.editModalMissingTaskName))})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("div",{className:"text-sm font-medium",children:o.jsx(N,C({},Ot.editModalInstructions))}),o.jsx("textarea",{ref:w,className:U("border-token-border-medium bg-token-main-surface-primary w-full resize-none overflow-y-auto rounded-lg text-sm",y.length===0&&"border-token-text-error focus:border-token-text-error"),rows:3,value:y,onChange:L=>x(L.target.value),placeholder:s.formatMessage({id:"XDXPIp",defaultMessage:"Send a summary of the latest news in AI, focusing on especially surprising stories."})}),y.length===0&&o.jsx(g2,{children:o.jsx(N,C({},Ot.editModalMissingInstructions))})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("div",{className:"text-sm font-medium",children:o.jsx(N,C({},Ot.editModalSchedule))}),o.jsx("div",{children:o.jsx(cBe,{automationId:t.id,conversationId:t.conversation_id,onModalClose:n})}),o.jsxs("div",{children:[(l==null?void 0:l.tooFarInFuture)&&o.jsx(g2,{children:o.jsx(N,C({},Ot.editModalTooFarInFuture))}),(l==null?void 0:l.inPast)&&o.jsx(g2,{children:o.jsx(N,C({},Ot.editModalInPast))})]}),!1]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("div",{className:"flex gap-2",children:[b&&S&&o.jsx(oe,{color:"secondary",onClick:()=>{_(!1)},children:o.jsx(N,C({},El.messages.pause))}),S&&o.jsx(oe,{color:"danger-outline",onClick:()=>{E(!0)},children:o.jsx(N,C({},Ot.editModalDelete))})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(oe,{color:"secondary",onClick:()=>{if(d){j(!0);return}n()},children:o.jsx(N,C({},Ot.editModalCancel))}),o.jsx(oe,{disabled:!c,loading:m,color:"primary",onClick:()=>{p(!0),k()},children:o.jsx(N,C({},Ot.editModalSave))})]})]})]})}),T&&o.jsx(fBe,{onClose:()=>j(!1),onConfirm:()=>n()}),M&&dBe(t)&&o.jsx(aae,{item:t,onClose:()=>E(!1),onConfirm:()=>{E(!1),n()}})]})}function g2({children:t}){return o.jsx("div",{className:"text-token-text-error text-sm font-medium",children:t})}const Kj=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.96582 7.81836C7.96613 7.17202 8.68075 6.78163 9.22461 7.13086L12.6182 9.3125C13.1184 9.6343 13.1184 10.3657 12.6182 10.6875L9.22461 12.8691C8.68075 13.2184 7.96613 12.828 7.96582 12.1816V7.81836Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),gwt=Object.freeze(Object.defineProperty({__proto__:null,default:Kj},Symbol.toStringTag,{value:"Module"}));function pBe({dateString:t}){switch(gBe(t)){case"today":return o.jsx(N,C({},Ot.lastRunToday));case"yesterday":return o.jsx(N,C({},Ot.lastRunYesterday));case"weekday":return new Date(t).toLocaleDateString(void 0,{weekday:"long"});case"full":return new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}}function gBe(t){const e=new Date(t),r=hM(new Date,e);return r===0?"today":r===1?"yesterday":r<=7?"weekday":"full"}function hBe({item:t}){const{is_enabled:e,target_time_utc:n}=t,r=g.useMemo(()=>{if(!e)return o.jsx(N,C({},Ot.pausedPill));if(n){const s=new Date,a=new Date(n);if(s.getTime()-a.getTime()>=6e4)return o.jsx(N,{id:"ppsH3r",defaultMessage:"Delayed"})}return null},[e,n]);return r?o.jsxs(o.Fragment,{children:[" ",o.jsx("span",{className:"bg-token-main-surface-tertiary text-token-text-secondary rounded-[0.25rem] px-1 py-[1px] text-xs font-medium",children:r})]}):null}function vBe({item:t,useShortForm:e=!1}){if(t.next_run_times.length===0&&t.last_run_time)return o.jsx(pBe,{dateString:t.last_run_time});const n=t.schedule_components;switch(n.frequency){case"once":return o.jsx(xBe,{automationId:t.id,useShortForm:e});case"daily":return o.jsx(bBe,{scheduleComponents:n,useShortForm:!1});case"weekly":return o.jsx(CBe,{scheduleComponents:n,useShortForm:e});case"monthly":return o.jsx(_Be,{scheduleComponents:n});case"yearly":return o.jsx(wBe,{scheduleComponents:n});case"custom":{if(t.next_run_times.length===0)return o.jsx("div",{children:o.jsx(N,C({},Ot.customSchedule))});const s=new Date(t.next_run_times[0]).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return o.jsx("div",{children:Fa.nextRunTime(s)})}}}function yBe({item:t}){return o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(vBe,{item:t}),o.jsx(hBe,{item:t})]})}function xBe({automationId:t,useShortForm:e=!1}){const n=K5.getTargetTimeUTC(t);return n?o.jsx(lae,{targetTimeUTC:n,useShortForm:e}):null}function bBe({scheduleComponents:t,useShortForm:e=!1}){var s,a;const n=Z(),r=fae((s=t.by_hour)!=null?s:0,(a=t.by_minute)!=null?a:0,n.locale);return e?o.jsx(N,C({},Ot.scheduleFrequencyDaily)):Fa.runtimeDaily(r)}function CBe({scheduleComponents:t,useShortForm:e=!1}){var a,i;const n=Z(),r=g.useMemo(()=>{var u;const l=new Date,c=SBe((u=t.by_day)!=null?u:"")-l.getDay();return l.setDate(l.getDate()+(c>=0?c:c+7)),new Intl.DateTimeFormat(n.locale,{weekday:"long"}).format(l)},[t.by_day,n.locale]),s=fae((a=t.by_hour)!=null?a:0,(i=t.by_minute)!=null?i:0,n.locale);return e?Fa.runtimeWeeklyShort(r):Fa.runtimeWeekly(r,s)}function _Be({scheduleComponents:t}){var e;return Fa.runtimeMonthly(String((e=t.by_month_day)!=null?e:1))}function wBe({scheduleComponents:t}){var r;const e=Z(),n=g.useMemo(()=>{var a;const s=new Date;return s.setMonth(((a=t.by_month)!=null?a:1)-1),new Intl.DateTimeFormat(e.locale,{month:"long"}).format(s)},[t.by_month,e.locale]);return Fa.runtimeYearly(n,(r=t.by_month_day)!=null?r:1)}function fae(t,e,n){return g.useMemo(()=>{const s=new Date;return s.setHours(t),s.setMinutes(e),new Intl.DateTimeFormat(n,{hour:"numeric",minute:e===0?void 0:"numeric",hour12:!0}).format(s)},[t,e,n])}function SBe(t){switch(t){case"SU":return 0;case"MO":return 1;case"TU":return 2;case"WE":return 3;case"TH":return 4;case"FR":return 5;case"SA":return 6;default:return-1}}function kBe(){return"/tasks"}function hwt(){return o.jsx(mae,{children:o.jsxs("div",{className:"flex h-full w-full flex-col justify-center py-4 ps-5 pe-3",children:[o.jsx("div",{className:"loading-results-shimmer bg-token-text-tertiary h-4 w-1/2 rounded-sm"}),o.jsx("div",{className:"loading-results-shimmer bg-token-text-tertiary mt-2.5 h-4 w-2/5 rounded-sm"})]})})}function mae({children:t,fullWidth:e}){return o.jsx("div",{className:U("border-token-border-default relative my-2 overflow-hidden rounded-xl border",e?"w-full":"inline-block max-w-[360px] min-w-[320px]"),children:t})}function MBe({automation:t,onSave:e,overrideManageAllAction:n,fullWidth:r=!1}){return t?o.jsx(EBe,{item:t,onSave:e,overrideManageAllAction:n,fullWidth:r}):null}function EBe({item:t,onSave:e,overrideManageAllAction:n,fullWidth:r}){const s=Tt();g.useEffect(()=>{Me.count(Ee.JAWBONE,"jawbone_message_attachment.open")},[]);const{id:a,is_enabled:i,title:l}=t,[c,u]=g.useState(!1),d=g.useRef(null);g.useEffect(()=>{if(d.current){const h=d.current.clientHeight,v=parseFloat(getComputedStyle(d.current).lineHeight);u(h>v)}},[l]);const f=t.next_run_times.length===0,[m,p]=g.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsxs(mae,{fullWidth:r,children:[o.jsx("button",{className:"hover:bg-token-main-surface-secondary h-full w-full",onClick:()=>p(!0),children:o.jsx("div",{className:U("flex h-full w-full cursor-pointer justify-between py-4 ps-5 pe-3",c?"items-start":"items-center"),children:o.jsxs("div",{className:"flex flex-col gap-0.5 pe-8 text-sm",children:[o.jsx("div",{ref:d,className:"line-clamp-2 text-start font-medium",children:l}),o.jsx("div",{className:"text-token-text-secondary text-start",children:o.jsx(_h,{initialScheduleComponents:t.schedule_components,nextRunTimes:t.next_run_times,children:o.jsx(yBe,{item:t})})})]})})}),o.jsx("div",{className:"absolute end-3 top-1/2 -translate-y-1/2 transform",children:o.jsx("div",{className:"ms-4 flex",children:o.jsx(jBe,{automation_id:a,is_enabled:i,item:t,isFinished:f,onEditModalOpen:()=>p(!0),overrideManageAllAction:n})})})]}),m&&o.jsx(_h,{initialScheduleComponents:t.schedule_components,nextRunTimes:t.next_run_times,children:o.jsx(Zj,{item:t,source:"chat",onSave:e,onClose:h=>{h&&s.success(h,{hasCloseButton:!0}),p(!1)}})})]})}function jBe({automation_id:t,is_enabled:e,item:n,isFinished:r,onEditModalOpen:s,overrideManageAllAction:a}){const i=q(),l=Z(),c=it(),u=Tt(),[d,f]=g.useState(e);g.useEffect(()=>f(e),[e]);const{mutate:m,isPending:p}=NFe({automation_id:t,onError:v=>{u.danger(v?El.messages.enableFailure:El.messages.pauseFailure,{hasCloseButton:!0,toastId:"toggle_automation_status"}),f(!v)}});function h(){return a===null?null:o.jsxs(o.Fragment,{children:[o.jsx(J.Separator,{}),a!=null?a:o.jsx(J.Item,{icon:zi,label:l.formatMessage(Ot.attachmentManageAll),onClick:()=>{c(kBe())}})]})}return o.jsxs(Qa,{size:"auto",alignOffset:-8,sideOffset:4,triggerButton:o.jsx("button",{className:"hover:bg-token-surface-hover focus-visible:bg-token-surface-hover radix-state-open:bg-token-surface-hover flex h-9 w-9 items-center justify-center rounded-lg focus-visible:outline-0",children:o.jsx(Ja,{className:"icon"})}),children:[!r&&o.jsxs(o.Fragment,{children:[o.jsx(J.Item,{icon:I0,label:l.formatMessage(Ot.attachmentEdit),onClick:s}),o.jsx(J.Item,{icon:d?qj:Kj,label:l.formatMessage(d?El.messages.pause:El.messages.resume),onClick:()=>{const v=!d;f(v),m({is_enabled:v})},disabled:p})]}),o.jsx(J.Item,{icon:_c,color:"danger",label:l.formatMessage(El.messages.delete),onClick:()=>{Dt(i,aae,{item:n})}}),h()]})}function TBe(t){return["odyssey_aut",t!=null?t:""]}function Q5(t){const{data:e}=ut({queryKey:TBe(t),queryFn:()=>ue.safeGet("/agent_automation/{automation_id}",{parameters:{path:{automation_id:t!=null?t:""}}}),enabled:!!t});return e!=null?e:null}function pae(){return["odyssey_aut"]}function NBe(t){const{isLoading:e,data:n}=ABe(t),r=g.useMemo(()=>{var d;return(d=n==null?void 0:n.items.reduce((f,m)=>(f[m.id]=m,f),{}))!=null?d:void 0},[n]),s=g.useCallback(d=>d.map(f=>{const m=r==null?void 0:r[f.id];return m?C(C({},m),f):null}).filter(Boolean),[r]),{isLoadingScheduled:a,isLoadingPaused:i,isLoadingFinished:l}=TFe(),c=W5(K5.getAllJawbonesGrouped),u=e||a||i||l;return g.useMemo(()=>{var d,f,m;return{isLoading:u,scheduledAutomations:s((d=c.scheduled.automations)!=null?d:[]),pausedAutomations:s((f=c.paused.automations)!=null?f:[]),completedAutomations:s((m=c.completed.automations)!=null?m:[])}},[u,c,s])}function ABe({enabled:t,staleTimeMs:e=1e3*5*60}){return ut({enabled:t,queryKey:pae(),queryFn:()=>ue.safeGet("/agent_automations"),refetchOnMount:"always",refetchOnWindowFocus:"always",staleTime:e})}function vwt(t,e=null){const n=g.useRef({}),[r,s]=g.useState({});return g.useEffect(()=>{async function a(l){const c=await ue.safeGet("/agent_automation/{automation_id}/conversations",{parameters:{path:{automation_id:l}}});s(u=>P(C({},u),{[l]:c.items}))}async function i(l,c){const u=await ue.safePost("/conversations/batch",{requestBody:{conversation_ids:[c]}});s(d=>P(C({},d),{[l]:u}))}for(const l of t)l.id in n.current||(l.job_type==="agent"||l.source_conversation_id&&l.source_message_id?n.current[l.id]=a(l.id):l.conversation_id&&(n.current[l.id]=i(l.id,l.conversation_id)))},[t]),g.useMemo(()=>{let a=[];return t.forEach(i=>{const l=r[i.id];if(l)for(const c of l)a.push({automation:i,conversation:c})}),e&&(a=a.filter(i=>{var c;return new Date((c=i.conversation.update_time)!=null?c:0).getTime()>e.getTime()})),a.sort((i,l)=>{var d,f;const c=new Date((d=i.conversation.update_time)!=null?d:0).getTime();return new Date((f=l.conversation.update_time)!=null?f:0).getTime()-c})},[r,t,e])}const PBe=async t=>(await ue.safePost("/aip/connectors/github/has_installations",{requestBody:{link_id:t}})).has_installations,ywt=({linkId:t})=>ut({queryKey:["github-has-installations",t],enabled:!!t,queryFn:async()=>await PBe(t),retry:1});function gae({enabled:t=!0,connectionInstanceId:e}){return ut({queryKey:["user_connection_sync_configuration",e],queryFn:async()=>{try{return await f2e.user_connection_sync_configuration(e)}catch(n){return null}},enabled:!!(t&&e),retry:1})}function xwt(){const t=q();return _s(t,"1001765573").get("ca_github_sync_max_repos",5)}const hae="v1.0",Sh=et.SelectedGithubRepos,vm=({selectedReposMap:t,scope:e})=>{if(!t){Ft.removeItem(Sh,e);return}const n={selected_github_repos:[...t].map(([s,a])=>[s,a])},r={version:hae,data:n};Ft.setItem(Sh,JSON.stringify(r),e)},eO=t=>{const e=Ft.getItem(Sh,t);if(e)try{const{version:n,data:r}=JSON.parse(e);if(n!==hae){Ft.removeItem(Sh,t);return}return new Map(r.selected_github_repos)}catch(n){return}},IBe=t=>{var n;if(!t)return;const e=t.tree.getBranchFromLeaf(t.currentLeafId);for(const r of[...e].reverse()){const s=r.message;if(s.author.role!==Ue.User)continue;const a=(n=s.metadata)!=null?n:{},i=a.selected_github_repos,l=a.selected_all_github_repos;if(i||l)return{selectedRepos:i!=null?i:[],selectedAllRepos:l!=null?l:!1}}},LBe=BY(t=>IBe(t),{equals:Vu}),vae=()=>{var n,r;const t=Kr(),e=w0();if(t===we.Slurm){const s=(n=e==null?void 0:e.connectorConfig)==null?void 0:n[vt.GITHUB_CONNECTOR];return{maxRepos:(r=s==null?void 0:s.max_repos)!=null?r:3}}return{maxRepos:void 0}};function yae(t){var S,k,M,E;const e=q(),{session:n}=x0(),r=m2e(),s=DY(),a=at(s),{maxRepos:i}=vae(),{connectionInstanceData:l}=FY({skip:!r}),c=(k=(S=l==null?void 0:l.connection_statuses.find(T=>T.user_connection_details.knowledge_connector_type==="github"&&["partially_activated","activated"].includes(T.user_connection_details.activation_status)&&!!T.user_connection_details.connection_instance_id&&!!T.user_connection_details.backing_link_id))==null?void 0:S.user_connection_details.connection_instance_id)!=null?k:"",{data:u}=gae({connectionInstanceId:c!=null?c:"",enabled:!!(c&&r)}),d=g.useMemo(()=>{var T,j;return{userId:(T=n==null?void 0:n.user)==null?void 0:T.id,workspaceId:(j=n==null?void 0:n.account)==null?void 0:j.id}},[(M=n==null?void 0:n.user)==null?void 0:M.id,(E=n==null?void 0:n.account)==null?void 0:E.id]),f=cr(e,t),m=at(()=>LBe(f)),[p,h]=Te(t,T=>[T==null?void 0:T.hasModifiedGithubRepos,T==null?void 0:T.selectedGithubRepos]);g.useEffect(()=>{var A,I,L,O,R,H;if(p||((A=h==null?void 0:h.has(a))!=null?A:!1))return;if(m&&xae(m)){if(i&&((L=(I=m.selectedRepos)==null?void 0:I.length)!=null?L:0)>i)return;Fe(t,V=>{var z;(z=V.selectedGithubRepos)!=null||(V.selectedGithubRepos=new Map),V.selectedGithubRepos.set(a,Ia(m))});return}const j=eO(d);if(j&&j.has(a)){if(i&&((H=(R=(O=j.get(a))==null?void 0:O.selectedRepos)==null?void 0:R.length)!=null?H:0)>i)return;const V=j.get(a);V&&Fe(t,z=>{var $;($=z.selectedGithubRepos)!=null||(z.selectedGithubRepos=new Map),z.selectedGithubRepos.set(a,Ia(V))})}},[t,p,h,a,m,d,u==null?void 0:u.sync_enabled_objects,i]);const v=g.useMemo(()=>{var A,I,L,O;if(a==null&&(u!=null&&u.sync_enabled_objects))return{selectedRepos:u.sync_enabled_objects.filter(H=>H.object_type==="repository").map(H=>H.object_name).filter(H=>H!=null),selectedAllRepos:!1};const T=h==null?void 0:h.get(a);if(T)return T;if(m&&(((I=(A=m.selectedRepos)==null?void 0:A.length)!=null?I:0)>0||m.selectedAllRepos)&&(i==null||((O=(L=m.selectedRepos)==null?void 0:L.length)!=null?O:0)<=i))return m;const j=eO(d);if(j&&j.has(a)){const R=j.get(a);if(R)return R}return Yj()},[a,u==null?void 0:u.sync_enabled_objects,h,m,d,i]),y=g.useCallback(T=>{t&&Fe(t,j=>{var A;j.hasModifiedGithubRepos=!0,(A=j.selectedGithubRepos)!=null||(j.selectedGithubRepos=new Map),j.selectedGithubRepos.set(a,Ia(T)),vm({selectedReposMap:j.selectedGithubRepos,scope:d})})},[t,a,d]),x=g.useCallback(T=>{t&&Fe(t,j=>{var I,L;j.hasModifiedGithubRepos=!0,(I=j.selectedGithubRepos)!=null||(j.selectedGithubRepos=new Map);const A=(L=j.selectedGithubRepos.get(a))!=null?L:{selectedRepos:[],selectedAllRepos:!1};Array.isArray(A.selectedRepos)&&!A.selectedRepos.includes(T)&&(A.selectedRepos=[...A.selectedRepos,T]),j.selectedGithubRepos.set(a,Ia(A)),vm({selectedReposMap:j.selectedGithubRepos,scope:d})})},[t,a,d]),b=g.useCallback(T=>{t&&Fe(t,j=>{var I,L;j.hasModifiedGithubRepos=!0,(I=j.selectedGithubRepos)!=null||(j.selectedGithubRepos=new Map);const A=(L=j.selectedGithubRepos.get(a))!=null?L:{selectedRepos:[],selectedAllRepos:!1};Array.isArray(A.selectedRepos)&&(A.selectedRepos=A.selectedRepos.filter(O=>O!==T)),j.selectedGithubRepos.set(a,Ia(A)),vm({selectedReposMap:j.selectedGithubRepos,scope:d})})},[t,a,d]),_=g.useCallback(T=>{t&&Fe(t,j=>{var I,L;j.hasModifiedGithubRepos=!0,(I=j.selectedGithubRepos)!=null||(j.selectedGithubRepos=new Map);const A=(L=j.selectedGithubRepos.get(a))!=null?L:{selectedRepos:[],selectedAllRepos:!1};Array.isArray(A.selectedRepos)&&(A.selectedRepos.includes(T)?A.selectedRepos=A.selectedRepos.filter(O=>O!==T):A.selectedRepos=[...A.selectedRepos,T]),j.selectedGithubRepos.set(a,Ia(A)),vm({selectedReposMap:j.selectedGithubRepos,scope:d})})},[t,a,d]),w=g.useCallback(T=>{t&&Fe(t,j=>{var I,L;j.hasModifiedGithubRepos=!0,(I=j.selectedGithubRepos)!=null||(j.selectedGithubRepos=new Map);const A=(L=j.selectedGithubRepos.get(a))!=null?L:{selectedRepos:[],selectedAllRepos:!1};A.selectedAllRepos=T,j.selectedGithubRepos.set(a,Ia(A)),vm({selectedReposMap:j.selectedGithubRepos,scope:d})})},[t,a,d]);return{selectedRepos:v,setSelectedRepos:y,addRepo:x,removeRepo:b,toggleRepo:_,setAllRepos:w}}function bwt(t,e=null){var n,r,s;return(s=(r=(n=t==null?void 0:t.selectedGithubRepos)==null?void 0:n.get(e))!=null?r:OBe(e))!=null?s:Yj()}function xae(t){return t.selectedAllRepos||t.selectedRepos!=null&&t.selectedRepos.length>0}function Yj(){return{selectedRepos:[],selectedAllRepos:!1}}function RBe(t,e){var n;try{const r=JSON.parse(t);if("selectedRepos"in r&&"selectedAllRepos"in r)return r;const s=e==null?"__null__":e;return(n=r[s])!=null?n:void 0}catch(r){return}}function OBe(t){const e=or.getCookie(ir.LastSelectedGithubRepo);return e?RBe(e,t):Yj()}function Cwt(){or.setCookie(ir.LastSelectedGithubRepo,void 0)}const DBe=({clientThreadId:t,includeAutoConnectors:e=!1})=>{"use forget";const n=UY(),r=Mr(),s=!!(r!=null&&r.isPersonalAccount()&&n),{connectedTypes:a,isLoading:i,linkIdToConnectedType:l}=H6({includeAutoConnectors:e}),{isLoading:c,disabledAutoConnectors:u}=p2e({getDisabledAutoConnectors:e}),{connectorConfigMap:d}=FBe({clientThreadId:t}),{connectedTypes:f,isLoading:m}={connectedTypes:new Set,isLoading:!1},{connectedTypes:p,isLoading:h}=HY(),{data:v,isLoading:y}=VY(),x=pr(),b=i||h||y||c||m;return{availableConnectorTypes:g.useMemo(()=>{var T,j;const w=(T=v==null?void 0:v.connection_statuses.filter(A=>["partially_activated","activated"].includes(A.user_connection_details.activation_status)).map(A=>A.user_connection_details.connection_type))!=null?T:[],S=(j=v==null?void 0:v.connection_statuses.reduce((A,I)=>{if(["activated","partially_activated"].includes(I.user_connection_details.activation_status)&&I.user_connection_details.backing_link_id){const L=l.get(I.user_connection_details.backing_link_id);L&&A.add(L)}return A},new Set))!=null?j:new Set,k=[...a].filter(A=>{var I;if(A===vt.GDRIVE_ACTION_CONNECTOR&&s){if(w.includes("gdrive_sync_connector"))return!1}else{if(S.has(A))return!1;if(A===vt.SHAREPOINT_CONNECTOR&&w.includes("sharepoint_admin_sync_connector"))return!1}return e&&u.includes(A)?!1:A!==op.MCP_CONNECTOR&&(!d.has(A)||!((I=d.get(A))!=null&&I.disabled))}),M=[...[...p].filter(A=>A!==op.MCP_CONNECTOR),"web"];[...[...f].filter(A=>A!==op.MCP_CONNECTOR)];const E=new Map([[we.Research,new Set(M)],[we.Slurm,new Set([...k,...w])],[null,new Set(w)]]);return E.set(Or,new Set([...M,"web",...x?["cloud"]:[]])),E},[v==null?void 0:v.connection_statuses,a,p,f,x,l,s,e,u,d]),isLoading:b}},FBe=t=>{"use forget";const e=ee.c(11),{clientThreadId:n}=t,r=S0(n),s=Z(),a=w0();a==null||a.connectorConfig;let i,l;e[0]!==(a==null?void 0:a.connectorConfig)?(l=(a==null?void 0:a.connectorConfig)||{},e[0]=a==null?void 0:a.connectorConfig,e[1]=l):l=e[1];const c=l;let u;if(e[2]!==c||e[3]!==r||e[4]!==s){let m;e[6]!==r||e[7]!==s?(m=(p,h)=>{const[v,y]=h,x=v,b=y.enabledModels&&r?!y.enabledModels.includes(r.id):!1;return p.set(x,{disabled:b,disabledText:b?s.formatMessage({id:"1MD3y6",defaultMessage:"Switch to {model} model to use connectors"},{model:y.enabledModels.join(", ")}):void 0,hasBetaTag:y.beta}),p},e[6]=r,e[7]=s,e[8]=m):m=e[8],u=Object.entries(c).reduce(m,new Map),e[2]=c,e[3]=r,e[4]=s,e[5]=u}else u=e[5];i=u;const d=i;let f;return e[9]!==d?(f={connectorConfigMap:d},e[9]=d,e[10]=f):f=e[10],f},BBe=(t,e)=>{var r,s,a,i;if(!t)return{};const n=t.tree.getBranchFromLeaf(t.currentLeafId);for(const l of[...n].reverse()){const c=l.message;if(c.author.role!==Ue.User)continue;const u=(r=c.metadata)!=null?r:{};let d=[];e===we.Research?d=(s=u.caterpillar_selected_sources)!=null?s:[]:d=(a=u.selected_sources)!=null?a:[];const f=(i=u==null?void 0:u.selected_mcp_sources)!=null?i:[],m=d.map(p=>{if(p==="web"||p==="cloud")return p;const h=Object.entries(bM);for(const[v,y]of h)if(y===p)return v;return p});if(d.length||f.length){const p=new Set(m),h=new Set(f.map(y=>y.id)),v=new Set(f.filter(y=>y.status==="ONLY_ME").map(y=>y.id));return{selectedSources:p,selectedMCPSources:h,selectedByoMCPSources:v}}}return{}},UBe=t=>{var n,r;if(!t)return;const e=t.tree.getBranchFromLeaf(t.currentLeafId);for(const s of e){const a=s.message;if(a.author.role!==Ue.User||a.content.content_type=="user_editable_context")continue;return((r=(n=a.metadata)==null?void 0:n.selected_mcp_sources)!=null?r:[]).some(l=>l.status==="ONLY_ME")}},HBe=t=>{var e;return ie(t,"3544641259")||!!((e=h2e(t))!=null&&e.enabled)},VBe=(t,e)=>[...t].filter(n=>e.includes(n)),ym=t=>{B.logEventWithStatsig("chatgpt_connectors_toggled_sources","chatgpt_connectors_toggled_sources",t)};function Jo(t,e=!1){var ae,me;const n=q(),{session:r}=x0(),s=ie(n,"4059945251"),a=HBe(n),i=DY(),l=at(i),c=g.useMemo(()=>BY(W=>BBe(W,i()),{equals:Vu}),[i]),u=cr(n,t),d=at(()=>c(u)),f=ie(n,"1030527215"),{data:m}=Ui(Ln.EnableRemoteBrowserData),{availableConnectorTypes:p,isLoading:h}=DBe({clientThreadId:t,includeAutoConnectors:e}),v=f&&!m&&Mu(l),[y,x,b,_,w,S]=Te(t,W=>[UBe(W),W==null?void 0:W.startedWithByoMcp,W==null?void 0:W.selectedSources,W==null?void 0:W.selectedMCPSources,W==null?void 0:W.hasModifiedSources,W==null?void 0:W.mentionedSources]),{platformConnectors:k,isLoading:M}=V6();g.useEffect(()=>{t&&x===void 0&&y!==void 0&&Fe(t,W=>{W.startedWithByoMcp=y})},[t,x,y]),g.useEffect(()=>{if(!t||x===void 0||M)return;const W=b==null?void 0:b.get(l),K=_==null?void 0:_.get(l),ne=new Set([...K!=null?K:[]].filter(le=>{const fe=k.get(le);return(fe==null?void 0:fe.status)==="ONLY_ME"})),re=new Set([...K!=null?K:[]].filter(le=>{const fe=k.get(le);return(fe==null?void 0:fe.status)!=="ONLY_ME"}));x?(W&&W.size>0||re.size>0)&&Fe(t,le=>{var fe,ge,ye,_e;(ge=(fe=le.selectedSources)==null?void 0:fe.get(l))==null||ge.clear();for(const Ne of re)(_e=(ye=le.selectedMCPSources)==null?void 0:ye.get(l))==null||_e.delete(Ne)}):ne.size>0&&Fe(t,le=>{var fe,ge;for(const ye of ne)(ge=(fe=le.selectedMCPSources)==null?void 0:fe.get(l))==null||ge.delete(ye)})},[t,x,b,_,l,k,M]),g.useEffect(()=>{var le,fe,ge,ye;if(!t||w)return;const W=(le=b==null?void 0:b.has(l))!=null?le:!1,K=(fe=_==null?void 0:_.has(l))!=null?fe:!1;if(W||K)return;const ne=d.selectedSources,re=d.selectedMCPSources;((ge=ne==null?void 0:ne.size)!=null?ge:0)===0&&((ye=re==null?void 0:re.size)!=null?ye:0)===0||Fe(t,_e=>{var Ne,Ae;ne&&ne.size>0&&((Ne=_e.selectedSources)!=null||(_e.selectedSources=new Map),_e.selectedSources.set(l,new Set(ne))),re&&re.size>0&&((Ae=_e.selectedMCPSources)!=null||(_e.selectedMCPSources=new Map),_e.selectedMCPSources.set(l,new Set(re)))})},[t,b,_,w,l,d.selectedSources,d.selectedMCPSources]);const E=g.useMemo(()=>{var re;const W=w,K=(re=b==null?void 0:b.get(l))!=null?re:new Set;if(W)return[...K];const ne=d.selectedSources;return ne&&ne.size>0?[...ne]:v?K.has("cloud")?["web","cloud"]:["web"]:[...K]},[b,w,l,d.selectedSources,v]),T=g.useMemo(()=>new Set(S!=null?S:[]),[S]),j=g.useMemo(()=>{var W;return h?new Set([...E,...S!=null?S:[]]):new Set([...VBe([...E],[...(W=p.get(l))!=null?W:[]]),...S!=null?S:[]])},[p,h,S,l,E]),A=g.useMemo(()=>{var re;const W=w,K=(re=_==null?void 0:_.get(l))!=null?re:new Set;if(W)return K;const ne=d.selectedMCPSources;return ne&&ne.size>0?ne:v?new Set:K},[_,w,l,d.selectedMCPSources,v]),I=g.useMemo(()=>new Set(A),[A]),L=l===we.Research||Mu(l),{connectorLinks:O,isLoading:R,isFetching:H}=LM({skip:!a||!L,fetchValidLinksOnly:!0}),V=g.useMemo(()=>{if(!a||!L||R||H)return j;const W=new Set;return j.forEach(K=>{if(K==="web"||K==="cloud"){W.add(K);return}if(K in $i){const ne=$i[K];O.has(ne)&&W.add(K);return}if(x1(K)){O.has(K)&&W.add(K);return}}),W},[j,O,a,L,R,H]),z=g.useCallback(W=>{var K,ne,re;$Y({selectedSourcesMap:g2e((K=W.selectedSources)!=null?K:new Map),selectedMCPSourcesMap:W.selectedMCPSources,scope:{userId:(ne=r==null?void 0:r.user)==null?void 0:ne.id,workspaceId:(re=r==null?void 0:r.account)==null?void 0:re.id}})},[(ae=r==null?void 0:r.user)==null?void 0:ae.id,(me=r==null?void 0:r.account)==null?void 0:me.id]),$=g.useCallback(W=>{const K=k.get(W);return(K==null?void 0:K.status)==="ONLY_ME"},[k]),D=g.useCallback(W=>{t&&Fe(t,K=>{var ot,gt,Pe,Ie,ct,dt,ce,ke;const ne=(gt=(ot=K.selectedSources)==null?void 0:ot.get(l))!=null?gt:new Set,re=(Ie=(Pe=K.selectedMCPSources)==null?void 0:Pe.get(l))!=null?Ie:new Set,le=new Set([...re].filter($)),fe=new Set([...re].filter(Ze=>!$(Ze))),ge=new Set([...ne,...re,...(ct=K.mentionedSources)!=null?ct:[]]),ye=(dt=K.mentionedSources)!=null?dt:new Set;let _e,Ne;const Ae=K.startedWithByoMcp!==void 0;if(x1(W))if($(W)){if(Ne="mcp-byo",re.has(W))_e="remove",re.delete(W);else{if(Ae&&K.startedWithByoMcp===!1)return;if(_e="add",!Ae){ne.clear();for(const lt of fe)re.delete(lt)}re.add(W)}!s&&ne.has("web")&&!K.hasRemovedWebSource&&(ne.delete("web"),K.hasRemovedWebSource=!0)}else if(Ne="mcp-workspace",ge.has(W))_e="remove",re.delete(W);else{if(Ae&&K.startedWithByoMcp)return;if(_e="add",!Ae&&le.size>0)for(const Ze of le)re.delete(Ze);re.add(W),!s&&W!=="web"&&W!=="cloud"&&ne.has("web")&&!K.hasRemovedWebSource&&(ne.delete("web"),K.hasRemovedWebSource=!0)}else if(Ne="platform",W==="sharepoint_admin_sync_connector"&&(ne.delete("sharepoint_sync_connector"),ye.delete("sharepoint_sync_connector"),ne.delete(vt.SHAREPOINT_CONNECTOR),ye.delete(vt.SHAREPOINT_CONNECTOR)),ge.has(W))_e="remove",ne.delete(W),ye.has(W)&&ye.delete(W);else{if(Ae&&K.startedWithByoMcp)return;if(_e="add",ne.add(W),!Ae&&le.size>0)for(const Ze of le)re.delete(Ze);!s&&W!=="web"&&W!=="cloud"&&ne.has("web")&&!K.hasRemovedWebSource&&(ne.delete("web"),K.hasRemovedWebSource=!0)}(ce=K.selectedSources)!=null||(K.selectedSources=new Map),K.selectedSources.set(l,ne),(ke=K.selectedMCPSources)!=null||(K.selectedMCPSources=new Map),K.selectedMCPSources.set(l,re),K.mentionedSources=ye,K.hasModifiedSources=!0,ym({source:"toggle",action:_e,type:Ne,systemHint:l,selectedSource:W}),z(K)})},[t,l,s,z,$]),Y=g.useCallback(W=>{t&&Fe(t,K=>{var _e,Ne,Ae,ot,gt,Pe,Ie,ct,dt;let ne;const re=K.startedWithByoMcp!==void 0,le=(Ne=(_e=K.selectedSources)==null?void 0:_e.get(l))!=null?Ne:new Set,fe=(ot=(Ae=K.selectedMCPSources)==null?void 0:Ae.get(l))!=null?ot:new Set,ge=new Set([...fe].filter($)),ye=new Set([...fe].filter(ce=>!$(ce)));if($(W)){if(ne="mcp-byo",re&&K.startedWithByoMcp===!1)return;if(!re){((Ie=(Pe=K.selectedSources)==null?void 0:Pe.get(l))!=null?Ie:new Set).clear();for(const ke of ye)fe.delete(ke)}fe.add(W)}else{if(ne=x1(W)?"mcp-workspace":"platform",re&&K.startedWithByoMcp)return;if((x1(W)?fe:le).add(W),!re){const ce=(gt=K.selectedMCPSources)==null?void 0:gt.get(l);for(const ke of ge)ce==null||ce.delete(ke)}}(ct=K.selectedSources)!=null||(K.selectedSources=new Map),K.selectedSources.set(l,le),(dt=K.selectedMCPSources)!=null||(K.selectedMCPSources=new Map),K.selectedMCPSources.set(l,fe),ym({source:"toggle",action:"add",type:ne,systemHint:l,selectedSource:W}),z(K),K.hasModifiedSources=!0})},[t,l,z,$]),G=g.useCallback(W=>{t&&Fe(t,K=>{var le,fe,ge,ye;const ne=(le=K.mentionedSources)!=null?le:new Set;ne.add(W),K.mentionedSources=ne;const re=(ge=(fe=K.selectedSources)==null?void 0:fe.get(l))!=null?ge:new Set;re.add(W),(ye=K.selectedSources)!=null||(K.selectedSources=new Map),K.selectedSources.set(l,re),ym({source:"mentions",action:"add",type:"platform",systemHint:l,selectedSource:W}),z(K)})},[t,l,z]),F=g.useCallback(W=>{t&&Fe(t,K=>{var re;const ne=(re=K.mentionedSources)!=null?re:new Set;ne.delete(W),K.mentionedSources=ne,ym({source:"mentions",action:"remove",type:"platform",systemHint:l,selectedSource:W})})},[t,l]),X=g.useCallback(W=>{t&&Fe(t,K=>{var ge,ye,_e,Ne,Ae,ot,gt,Pe,Ie,ct;const ne=(ye=(ge=K.selectedSources)==null?void 0:ge.get(l))!=null?ye:new Set,re=(Ne=(_e=K.selectedMCPSources)==null?void 0:_e.get(l))!=null?Ne:new Set,le=(Ae=K.mentionedSources)!=null?Ae:new Set;let fe;if(!$(W))fe=x1(W)?"mcp-workspace":"platform",ne.delete(W),re.delete(W),le.has(W)&&le.delete(W);else{fe="mcp-byo";const dt=(gt=(ot=K.selectedMCPSources)==null?void 0:ot.get(l))!=null?gt:new Set;dt.delete(W),(Pe=K.selectedMCPSources)!=null||(K.selectedMCPSources=new Map),K.selectedMCPSources.set(l,dt)}(Ie=K.selectedSources)!=null||(K.selectedSources=new Map),K.selectedSources.set(l,ne),(ct=K.selectedMCPSources)!=null||(K.selectedMCPSources=new Map),K.selectedMCPSources.set(l,re),K.mentionedSources=le,ym({source:"toggle",action:"remove",type:fe,systemHint:l,selectedSource:W}),z(K),K.hasModifiedSources=!0})},[t,l,z,$]),te=g.useRef(!1);return g.useEffect(()=>{if(te.current||!L||R||H)return;const W=[...j].filter(K=>!V.has(K)&&K!=="web"&&K!=="cloud");W.length!==0&&(te.current=!0,t&&(Fe(t,K=>{var le,fe,ge,ye;const ne=(fe=(le=K.selectedSources)==null?void 0:le.get(l))!=null?fe:new Set,re=(ge=K.mentionedSources)!=null?ge:new Set;W.forEach(_e=>{var Ne,Ae,ot;if(!x1(_e))ne.delete(_e),re.delete(_e);else{const gt=(Ae=(Ne=K.selectedMCPSources)==null?void 0:Ne.get(l))!=null?Ae:new Set;gt.delete(_e),(ot=K.selectedMCPSources)!=null||(K.selectedMCPSources=new Map),K.selectedMCPSources.set(l,gt)}}),(ye=K.selectedSources)!=null||(K.selectedSources=new Map),K.selectedSources.set(l,ne),K.mentionedSources=re,z(K)}),wo(n,"chatgpt_connectors_toggled_sources",W.length,{action:"expired_auto_removed",sources:W.join(","),systemHint:String(l!=null?l:"")})))},[j,V,L,t,l,z,n,R,H]),a?{selectedSources:V,selectedMCPSources:I,mentionedSources:T,toggleSource:D,addSource:Y,deleteSource:X,addMentionedSource:G,deleteMentionedSource:F}:{selectedSources:void 0,selectedMCPSources:void 0,mentionedSources:void 0,toggleSource:()=>{},addSource:()=>{},deleteSource:()=>{},addMentionedSource:()=>{},deleteMentionedSource:()=>{}}}function bae(t,e="<unknown>"){if(!t)throw v2e(new Error("".concat(e,": unexpected non-truthy condition: ").concat(JSON.stringify(t))),bae)}const J5=g.createContext({sourceConversationId:null,sourceMessageId:null,automationId:null,isScheduledRun:!1,modalOpen:!1,openModal:()=>{},closeModal:()=>{}});function _wt({clientThreadId:t,children:e}){var m,p,h,v,y,x,b,_,w;const n=_ae(t),r=KBe(t),s=((m=r==null?void 0:r.metadata)==null?void 0:m.real_author_type)==="automation";let a=null;s?a=(h=(p=r==null?void 0:r.metadata)==null?void 0:p.real_author_id)!=null?h:null:n&&(a=(y=(v=n==null?void 0:n.metadata)==null?void 0:v.n7jupd_scheduled_id)!=null?y:null);const i=Q5(a);let l=null,c=null;s?(l=(x=i==null?void 0:i.source_conversation_id)!=null?x:null,c=(b=i==null?void 0:i.source_message_id)!=null?b:null):n&&(l=(_=kt(t))!=null?_:null,c=(w=n==null?void 0:n.id)!=null?w:null);const[u,d]=g.useState(!1),f=g.useMemo(()=>({sourceConversationId:l,sourceMessageId:c,automationId:a,isScheduledRun:s,modalOpen:u,openModal:()=>d(!0),closeModal:()=>d(!1)}),[a,u,l,c,s]);return o.jsxs(J5.Provider,{value:f,children:[e,o.jsx(qBe,{clientThreadId:t})]})}const Cae=["daily","weekly","monthly"],$Be=Object.freeze({frequency:"monthly",by_hour:14,by_minute:0,by_month_day:1,by_second:0});function qBe({clientThreadId:t}){const{sourceConversationId:e,sourceMessageId:n,modalOpen:r,closeModal:s,automationId:a}=g.useContext(J5),i=_ae(t),l=Q5(a);return e?l&&n?o.jsx(GBe,{automation:l,sourceConversationId:e,sourceMessageId:n,sourceClientThreadId:t,modalOpen:r,closeModal:s}):i?o.jsx(zBe,{sourceClientThreadId:t,sourceConversationId:e,sourceMessage:i,modalOpen:r,closeModal:s}):null:null}function zBe({sourceClientThreadId:t,sourceConversationId:e,sourceMessage:n,modalOpen:r,closeModal:s}){const a=QBe(t,n),{selectedSources:i}=Jo(t),{selectedRepos:l}=yae(t),c=Intl.DateTimeFormat().resolvedOptions().timeZone,u=g.useMemo(()=>{var f;return C(C(C({system_hints:[Or]},i&&{selected_sources:tc(i)}),l&&{selected_github_repos:[...(f=l.selectedRepos)!=null?f:[]],selected_all_github_repos:l.selectedAllRepos}),c&&{user_timezone:c})},[i,l,c]),d=Jj(e,t,n.id,u,null);return a?o.jsx(o.Fragment,{children:o.jsx(_h,{initialScheduleComponents:a.schedule_components,nextRunTimes:a.next_run_times,initialValidFrequencies:Cae,children:r&&o.jsx(Zj,{source:"chat",item:a,onSave:d,onClose:s})},a.id)}):null}function GBe({automation:t,sourceConversationId:e,sourceMessageId:n,sourceClientThreadId:r,modalOpen:s,closeModal:a}){var l;const i=Jj(e,r,n,(l=t.user_message)==null?void 0:l.metadata,t.id);return o.jsx(o.Fragment,{children:o.jsx(_h,{initialScheduleComponents:t.schedule_components,nextRunTimes:t.next_run_times,initialValidFrequencies:Cae,children:s&&o.jsx(Zj,{source:"chat",item:t,onSave:i,onClose:a})},t.id)})}function Qj({children:t}){const{openModal:e,automationId:n,sourceMessageId:r,isScheduledRun:s}=g.useContext(J5);return t({openScheduleModal:e,isScheduled:!!n,isSchedulable:!n&&!!r,isScheduledRun:s})}function WBe(){const{automationId:t,sourceConversationId:e,sourceMessageId:n}=g.useContext(J5),r=Q5(t);if(!r||!e||!n)return null;const s=RM(e);return o.jsx(ZBe,{automation:r,sourceClientThreadId:s,sourceConversationId:e,sourceMessageId:n})}function ZBe({sourceConversationId:t,sourceClientThreadId:e,sourceMessageId:n,automation:r}){var l;const s=Z(),a=it(),i=Jj(t,e,n,(l=r.user_message)==null?void 0:l.metadata,r.id);return o.jsx(MBe,{automation:r,onSave:i,overrideManageAllAction:o.jsx(J.Item,{icon:zi,label:s.formatMessage({id:"uPBjIE",defaultMessage:"Schedules"}),onClick:()=>a(JBe())})})}function _ae(t){return Te(t,e=>{if(!e)return null;function n(){const r=e==null?void 0:e.tree.getBranchFromLeaf(e.currentLeafId);if(!r)return null;for(let s=r.length-1;s>=0;s--)if(YBe(r[s].message))return r[s].message;return null}return n()})}function KBe(t){return Te(t,e=>{if(!e)return null;function n(){var s;const r=e==null?void 0:e.tree.getBranchFromLeaf(e.currentLeafId);if(!r)return null;for(let a=0;a<r.length;a++){const i=r[a].message;if(i.author.role===Ue.User&&((s=i.metadata)==null?void 0:s.real_author_type)==="automation")return i}return null}return n()})}function YBe(t){var e,n;return((e=t.metadata)==null?void 0:e.n7jupd_schedulable)||((n=t.metadata)==null?void 0:n.n7jupd_schedulable_score)!==void 0}function QBe(t,e){const n=Z(),r=kt(t),s=Te(t,l=>{const c=l==null?void 0:l.tree.getBranchFromLeaf(e.id);return Gu(c,u=>u.message.author.role===Ue.User)}),a=Te(t,l=>{var c;return(c=l==null?void 0:l.title)!=null?c:n.formatMessage({id:"4lMgsa",defaultMessage:"New Task"})}),i=g.useMemo(()=>{var c,u;if((c=e.metadata)!=null&&c.n7jupd_summary)return(u=e.metadata)==null?void 0:u.n7jupd_summary;if(!s)return null;const l=s.message.content;return l.content_type==="text"?l.parts.join(""):null},[e,s]);return g.useMemo(()=>!s||!i||!r?null:{id:null,title:a,prompt:i,conversation_id:r,schedule:"",is_enabled:!0,notifications_enabled:!0,email_enabled:!0,target_time_utc:null,schedule_components:$Be,default_timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,last_run_time:null,next_run_times:[]},[s,a,i,r])}function Jj(t,e,n,r,s){const a=pt(),i=Q5(s);return g.useCallback(async(c,u,d,f,m,p,h,v)=>{var x,b;bae(t,"Need server thread ID");const y=await ue.safePost("/conversation/{conversation_id}/agent_automation",{parameters:{path:{conversation_id:t}},requestBody:{jawbone_id:c,title:u,schedule:d,is_enabled:f,prompt:m,default_timezone:p,schedule_components:h,last_run_time:v,email_enabled:(x=i==null?void 0:i.email_enabled)!=null?x:!0,notifications_enabled:(b=i==null?void 0:i.notifications_enabled)!=null?b:!0,message_id:n,user_message:r&&xne(Fr(m,r))}});return a.invalidateQueries({queryKey:pae()}),e&&Fe(e,_=>{vn.updateTree(_,w=>{w.updateNodeMessageMetadata(n,{n7jupd_scheduled_id:y.id})})}),y},[a,n,t,e,i,r])}function JBe(){return"/schedules"}const X5=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.50266 8.72527C4.74666 8.45077 5.16761 8.42561 5.44212 8.66961C5.71646 8.9136 5.74069 9.33363 5.4968 9.60808L4.70872 10.4958C3.51374 11.8401 3.57358 13.8831 4.84544 15.155L4.96653 15.2702C6.24392 16.4291 8.2022 16.4494 9.50462 15.2917L10.3913 14.5026L10.5007 14.4245C10.7684 14.2694 11.1172 14.318 11.3308 14.5583C11.5745 14.8328 11.5494 15.2528 11.2751 15.4968L10.3874 16.2858C8.57529 17.8963 5.85138 17.8686 4.07395 16.2565L3.90501 16.0954C2.1352 14.3256 2.05175 11.4827 3.71458 9.61199L4.50266 8.72527ZM12.03 7.02996C12.2897 6.77026 12.7107 6.77026 12.9704 7.02996C13.23 7.28967 13.2301 7.71075 12.9704 7.97039L7.97044 12.9704C7.71079 13.23 7.28972 13.2299 7.03001 12.9704C6.77031 12.7107 6.77031 12.2897 7.03001 12.03L12.03 7.02996ZM9.79075 3.56316C11.6599 2.05831 14.3811 2.19058 16.0954 3.90496L16.2566 4.0739C17.8167 5.79413 17.8929 8.40089 16.4363 10.2096L16.2859 10.3874L15.4968 11.2751L15.3982 11.3659C15.1506 11.5514 14.7986 11.5441 14.5583 11.3307C14.2838 11.0868 14.2587 10.6658 14.5027 10.3913L15.2917 9.50457L15.4001 9.37664C16.4472 8.07664 16.3918 6.20275 15.2702 4.96648L15.155 4.84539C13.9228 3.61321 11.967 3.51841 10.6238 4.60027L10.4958 4.70867L9.60813 5.49676C9.33367 5.74064 8.91365 5.71642 8.66965 5.44207C8.42565 5.16757 8.45082 4.74662 8.72532 4.50261L9.61204 3.71453L9.79075 3.56316Z"})),wwt=Object.freeze(Object.defineProperty({__proto__:null,default:X5},Symbol.toStringTag,{value:"Module"}));function XBe(t){"use forget";const e=ee.c(12),{onClickCopy:n,timeout:r}=t,s=r===void 0?2e3:r,[a,i]=g.useState("idle");let l;e[0]!==n||e[1]!==s?(l=async h=>{i("copying"),await n(h),i("copied"),setTimeout(()=>i("idle"),s)},e[0]=n,e[1]=s,e[2]=l):l=e[2];const c=l,u=a!=="idle",d=a==="copied"?Zr:X5;let f;e[3]!==c?(f=h=>{c(h)},e[3]=c,e[4]=f):f=e[4];let m;e[5]!==a?(m=a==="copied"?o.jsx(N,{id:"qtqW3t",defaultMessage:"Copied"}):o.jsx(N,{id:"Pg3WAh",defaultMessage:"Copy link"}),e[5]=a,e[6]=m):m=e[6];let p;return e[7]!==u||e[8]!==d||e[9]!==f||e[10]!==m?(p=o.jsx(oe,{color:"primary",disabled:u,icon:d,onClick:f,children:m}),e[7]=u,e[8]=d,e[9]=f,e[10]=m,e[11]=p):p=e[11],p}function eUe(t){"use forget";const e=ee.c(21),{onClose:n,gizmo:r,serverThreadId:s,ownerUserId:a}=t,i=Z();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=o.jsx(N,C({},xt.projectShareChatTitle)),e[0]=l):l=e[0];const c=l;let u;e[1]!==r||e[2]!==a||e[3]!==s?(u=async()=>{await Uo(y2e(s,r,a))},e[1]=r,e[2]=a,e[3]=s,e[4]=u):u=e[4];const d=u;let f;e[5]!==d?(f=o.jsx(XBe,{onClickCopy:d}),e[5]=d,e[6]=f):f=e[6];let m;e[7]!==i?(m=i.formatMessage({id:"8Z8QAH",defaultMessage:"Cancel"}),e[7]=i,e[8]=m):m=e[8];let p;e[9]!==n?(p=()=>n(),e[9]=n,e[10]=p):p=e[10];let h;e[11]!==m||e[12]!==p?(h=o.jsx(yn.Button,{title:m,color:"secondary",onClick:p}),e[11]=m,e[12]=p,e[13]=h):h=e[13];let v;e[14]!==r.gizmo.display.name?(v=o.jsx("div",{className:"text-token-text-secondary w-full text-sm",children:o.jsx(N,{id:"vkdGcy",defaultMessage:"Only members of {projectName} can view this chat. All future messages will be visible.",values:{projectName:o.jsx("span",{className:"text-token-text-primary font-medium",children:r.gizmo.display.name})}})}),e[14]=r.gizmo.display.name,e[15]=v):v=e[15];let y;return e[16]!==n||e[17]!==f||e[18]!==h||e[19]!==v?(y=o.jsx(tt,{testId:"modal-share-project-chat",isOpen:!0,onClose:n,type:"success",title:c,showCloseButton:!0,primaryButton:f,secondaryButton:h,children:v}),e[16]=n,e[17]=f,e[18]=h,e[19]=v,e[20]=y):y=e[20],y}function tUe(t){"use forget";var w,S,k,M;const e=ee.c(14),{clientThreadId:n}=t,r=q();let s;e[0]!==r?(s=yt(r),e[0]=r,e[1]=s):s=e[1];const a=s,i=kn(n),[l,c,u]=Te(n,nUe),d=a==null?void 0:a.normalizedAccountUserId,{data:f}=Ya(u),m=((M=(k=(S=(w=f==null?void 0:f.gizmo)==null?void 0:w.sharing)==null?void 0:S.subjects)==null?void 0:k.length)!=null?M:0)>0;let p;e[2]!==r?(p=ie(r,"773249106"),e[2]=r,e[3]=p):p=e[3];const h=p,v=Mf(u),x=(l||d)&&f&&(i||c)&&v&&(m||l&&l!==d)&&h;let b;e[4]!==r||e[5]!==f||e[6]!==(l==null?void 0:l.id)||e[7]!==i||e[8]!==c||e[9]!==d?(b=()=>{var E,T;f&&Dt(r,eUe,{gizmo:f,serverThreadId:i!=null?i:c,ownerUserId:(T=(E=l==null?void 0:l.id)!=null?E:d)!=null?T:""})},e[4]=r,e[5]=f,e[6]=l==null?void 0:l.id,e[7]=i,e[8]=c,e[9]=d,e[10]=b):b=e[10];let _;return e[11]!==x||e[12]!==b?(_={shouldShowProjectsChatShareModal:x,openProjectsChatShareModal:b},e[11]=x,e[12]=b,e[13]=_):_=e[13],_}function nUe(t){return[t==null?void 0:t.sharedProjectConversationOwner,t==null?void 0:t.continuingFromSharedProjectConversationId,se.getGizmoId(t)]}var X9,tO;function rUe(){if(tO)return X9;tO=1;var t=T6(),e=x2e();function n(r,s){return r&&r.length?e(r,t(s,2)):[]}return X9=n,X9}var sUe=rUe();const Xj=St(sUe),eT=t=>g.createElement("svg",C({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.00016 0.300537C10.6835 0.300537 13.6668 3.28387 13.6668 6.9672C13.6665 8.36404 13.2281 9.72559 12.4134 10.8602C11.5986 11.9948 10.4486 12.8454 9.12516 13.2922C8.79183 13.3589 8.66683 13.1505 8.66683 12.9755C8.66683 12.7505 8.67516 12.0339 8.67516 11.1422C8.67516 10.5172 8.46683 10.1172 8.22516 9.90887C9.7085 9.7422 11.2668 9.17554 11.2668 6.6172C11.2668 5.88387 11.0085 5.2922 10.5835 4.82554C10.6502 4.65887 10.8835 3.97554 10.5168 3.05887C10.5168 3.05887 9.9585 2.87554 8.6835 3.7422C8.15016 3.5922 7.5835 3.5172 7.01683 3.5172C6.45016 3.5172 5.8835 3.5922 5.35016 3.7422C4.07516 2.88387 3.51683 3.05887 3.51683 3.05887C3.15016 3.97554 3.3835 4.65887 3.45016 4.82554C3.02516 5.2922 2.76683 5.8922 2.76683 6.6172C2.76683 9.1672 4.31683 9.7422 5.80016 9.90887C5.6085 10.0755 5.4335 10.3672 5.37516 10.8005C4.99183 10.9755 4.0335 11.2589 3.4335 10.2505C3.3085 10.0505 2.9335 9.55887 2.4085 9.5672C1.85016 9.57554 2.1835 9.88387 2.41683 10.0089C2.70016 10.1672 3.02516 10.7589 3.10016 10.9505C3.2335 11.3255 3.66683 12.0422 5.34183 11.7339C5.34183 12.2922 5.35016 12.8172 5.35016 12.9755C5.35016 13.1505 5.22516 13.3505 4.89183 13.2922C3.56403 12.8502 2.40911 12.0014 1.5909 10.8661C0.772702 9.73076 0.332762 8.36663 0.333497 6.9672C0.333497 3.28387 3.31683 0.300537 7.00016 0.300537Z",fill:"currentColor"})),Swt=Object.freeze(Object.defineProperty({__proto__:null,default:eT},Symbol.toStringTag,{value:"Module"})),tT=t=>g.createElement("svg",C({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M11.1 0H0.9C0.661305 0 0.432387 0.0948212 0.263604 0.263604C0.0948212 0.432387 0 0.661305 0 0.9V11.1C0 11.3387 0.0948212 11.5676 0.263604 11.7364C0.432387 11.9052 0.661305 12 0.9 12H11.1C11.3387 12 11.5676 11.9052 11.7364 11.7364C11.9052 11.5676 12 11.3387 12 11.1V0.9C12 0.661305 11.9052 0.432387 11.7364 0.263604C11.5676 0.0948212 11.3387 0 11.1 0ZM3.6 10.2H1.8V4.8H3.6V10.2ZM2.7 3.75C2.49371 3.7441 2.29373 3.67755 2.12505 3.55865C1.95637 3.43974 1.82647 3.27377 1.75158 3.08147C1.67669 2.88916 1.66012 2.67905 1.70396 2.47738C1.7478 2.27572 1.8501 2.09144 1.99807 1.94758C2.14604 1.80372 2.33312 1.70666 2.53594 1.66852C2.73876 1.63038 2.94832 1.65285 3.13844 1.73313C3.32856 1.8134 3.49081 1.94793 3.60491 2.11989C3.71902 2.29185 3.77992 2.49363 3.78 2.7C3.77526 2.98221 3.659 3.25107 3.45663 3.44782C3.25426 3.64457 2.98223 3.75321 2.7 3.75ZM10.2 10.2H8.4V7.356C8.4 6.504 8.04 6.198 7.572 6.198C7.43479 6.20714 7.30073 6.24329 7.17753 6.30439C7.05433 6.36548 6.94441 6.45032 6.85409 6.55402C6.76377 6.65771 6.69483 6.77824 6.65123 6.90866C6.60762 7.03908 6.59021 7.17683 6.6 7.314C6.59702 7.34192 6.59702 7.37008 6.6 7.398V10.2H4.8V4.8H6.54V5.58C6.71552 5.313 6.95666 5.09554 7.24031 4.94846C7.52397 4.80138 7.84065 4.7296 8.16 4.74C9.09 4.74 10.176 5.256 10.176 6.936L10.2 10.2Z",fill:"currentColor"})),kwt=Object.freeze(Object.defineProperty({__proto__:null,default:tT},Symbol.toStringTag,{value:"Module"})),aUe=Je(()=>Ve(()=>import("./iszj8l0y8vp33jrs.js"),__vite__mapDeps([73,1,4,5,74,41])));function Mwt({selectedDomain:t,verifiedDomains:e,domains:n,onChangeDomain:r}){const[s,a]=g.useState(!1),i=e.length>0,l=q(),c=yt(l),u=c==null?void 0:c.id,d=c==null?void 0:c.isEnterprisey(),{mutateAsync:f}=c4e(u);return o.jsxs("div",{className:"font-normal",children:[o.jsxs(J.Root,{children:[o.jsx(qY,{children:o.jsxs("span",{className:"flex items-center gap-2 py-2",children:[t!=null?t:o.jsx(N,C({},jS.selectADomain)),o.jsx(wc,{className:"icon"})]})}),o.jsx(J.Portal,{children:o.jsxs(J.Content,{children:[o.jsx(J.RadioGroup,{value:t,onValueChange:m=>{m!==t&&r(m)},children:e.map(({id:m,hostname:p})=>o.jsx(J.RadioItem,{value:p,children:o.jsxs("div",{className:"flex flex-row",children:[o.jsx("span",{children:p}),o.jsx("span",{onClick:()=>{f({domainId:m}),r("")},children:o.jsx(_c,{className:"icon-sm fixed end-4"})})]})},m))}),i&&o.jsx(J.Separator,{}),o.jsx(J.Item,{onClick:()=>{a(!0)},icon:vc,children:o.jsx(N,C({},jS.addDomain))})]})})]}),u&&!d&&o.jsx(aUe,{domains:n,isOpen:s,onClose:()=>a(!1),workspaceId:u,showUnverifiedDomains:!0,onVerifyDomain:m=>{r(m.hostname)}})]})}function oUe(){const t=pt();return Vt({mutationFn:({verifierType:e})=>Wo.unverifySocialAuth(e),onSuccess:()=>{t.refetchQueries({queryKey:["builderProfile"]})}})}function iUe({socialData:t}){const{type:e,display_name:n,verified_data:r}=t,s=e==="linkedin"?tT:e==="github"?eT:null;return s?o.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[o.jsxs("div",{className:"text-token-text-primary flex flex-row items-center space-x-2",children:[s({className:"icon"}),o.jsx("span",{children:n})]}),(r==null?void 0:r.link_to)&&o.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:r.link_to,className:"text-token-text-tertiary text-sm hover:cursor-pointer",children:o.jsx(ba,{className:"icon-sm"})})]}):null}function Ewt({socialData:t,icon:e}){const{id:n,type:r,display_name:s,verified:a,verified_data:i}=t,[l,c]=g.useState(!1),u=oUe();return o.jsxs("div",{className:"flex flex-row items-center justify-between space-y-1",children:[o.jsxs("div",{className:U("flex items-center space-x-2"),children:[o.jsx(e,{className:"icon-sm"}),o.jsx("span",{children:s}),a&&(i==null?void 0:i.username)&&o.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:i.link_to,className:"text-token-text-tertiary text-sm hover:cursor-pointer",children:i==null?void 0:i.username})]}),a?o.jsx("div",{className:"py-1 font-semibold hover:cursor-pointer",onClick:()=>{u.mutate({verifierType:r})},children:u.isPending?o.jsx(On,{}):o.jsx(lr,{className:"icon-sm text-token-text-tertiary"})}):o.jsx(oe,{size:"small",color:"secondary",loading:l,onClick:async()=>{c(!0),await b2e({id:n},"#settings/".concat(Dn.Account)),c(!1)},children:o.jsx(N,C({},jS.verify))})]})}const jS=pe({verify:{defaultMessage:"Add",id:"GizmoSocialRow.add"},addDomain:{id:"GizmoSocialRow.addDomain",defaultMessage:"Verify new domain"},selectADomain:{id:"GizmoSocialRow.selectADomain",defaultMessage:"Select a domain"}});var nT="Popover",[wae]=Bu(nT,[C6]),s3=C6(),[lUe,Sc]=wae(nT),Sae=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=t,l=s3(e),c=g.useRef(null),[u,d]=g.useState(!1),[f=!1,m]=Hi({prop:r,defaultProp:s,onChange:a});return o.jsx(WK,P(C({},l),{children:o.jsx(lUe,{scope:e,contentId:w6(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:g.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:i,children:n})}))};Sae.displayName=nT;var kae="PopoverAnchor",Mae=g.forwardRef((t,e)=>{const c=t,{__scopePopover:n}=c,r=de(c,["__scopePopover"]),s=Sc(kae,n),a=s3(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return g.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(dM,P(C(C({},a),r),{ref:e}))});Mae.displayName=kae;var Eae="PopoverTrigger",jae=g.forwardRef((t,e)=>{const c=t,{__scopePopover:n}=c,r=de(c,["__scopePopover"]),s=Sc(Eae,n),a=s3(n),i=Fn(e,s.triggerRef),l=o.jsx(mn.button,P(C({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Rae(s.open)},r),{ref:i,onClick:Nt(t.onClick,s.onOpenToggle)}));return s.hasCustomAnchor?l:o.jsx(dM,P(C({asChild:!0},a),{children:l}))});jae.displayName=Eae;var rT="PopoverPortal",[cUe,uUe]=wae(rT,{forceMount:void 0}),Tae=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,a=Sc(rT,e);return o.jsx(cUe,{scope:e,forceMount:n,children:o.jsx(R6,{present:n||a.open,children:o.jsx(lM,{asChild:!0,container:s,children:r})})})};Tae.displayName=rT;var Jd="PopoverContent",Nae=g.forwardRef((t,e)=>{const n=uUe(Jd,t.__scopePopover),i=t,{forceMount:r=n.forceMount}=i,s=de(i,["forceMount"]),a=Sc(Jd,t.__scopePopover);return o.jsx(R6,{present:r||a.open,children:a.modal?o.jsx(dUe,P(C({},s),{ref:e})):o.jsx(fUe,P(C({},s),{ref:e}))})});Nae.displayName=Jd;var dUe=g.forwardRef((t,e)=>{const n=Sc(Jd,t.__scopePopover),r=g.useRef(null),s=Fn(e,r),a=g.useRef(!1);return g.useEffect(()=>{const i=r.current;if(i)return ZK(i)},[]),o.jsx(YK,{as:QK,allowPinchZoom:!0,children:o.jsx(Aae,P(C({},t),{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Nt(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Nt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})}))})}),fUe=g.forwardRef((t,e)=>{const n=Sc(Jd,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return o.jsx(Aae,P(C({},t),{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=t.onCloseAutoFocus)==null||i.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}}))}),Aae=g.forwardRef((t,e)=>{const h=t,{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d}=h,f=de(h,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),m=Sc(Jd,n),p=s3(n);return KK(),o.jsx(JK,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(XK,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(eY,P(C(C({"data-state":Rae(m.open),role:"dialog",id:m.contentId},p),f),{ref:e,style:P(C({},f.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),Pae="PopoverClose",Iae=g.forwardRef((t,e)=>{const a=t,{__scopePopover:n}=a,r=de(a,["__scopePopover"]),s=Sc(Pae,n);return o.jsx(mn.button,P(C({type:"button"},r),{ref:e,onClick:Nt(t.onClick,()=>s.onOpenChange(!1))}))});Iae.displayName=Pae;var mUe="PopoverArrow",Lae=g.forwardRef((t,e)=>{const a=t,{__scopePopover:n}=a,r=de(a,["__scopePopover"]),s=s3(n);return o.jsx(tY,P(C(C({},s),r),{ref:e}))});Lae.displayName=mUe;function Rae(t){return t?"open":"closed"}var e1=Sae,pUe=Mae,Gi=jae,t1=Tae,n1=Nae,gUe=Iae,hUe=Lae,jZ;const vUe=Ge.div(jZ||(jZ=qe(["text-sm text-token-text-tertiary"]))),yUe="community builder";function xUe(t){const[e,n]=g.useState(t),r=g.useRef(null),s=(a,i)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n(a),r.current=null},i)};return g.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]),[e,s]}function bUe(t){return"gizmo"in t}function TS({gizmo:t,builderName:e,builderUrl:n,className:r,socials:s,hideLink:a=!1}){const i=q(),l=ie(i,"2256850471");let c,u;t&&bUe(t)?(c=t.gizmo.author.display_name,u=t.gizmo.author.link_to):(c=e,u=n),(c===""||c==null)&&(c=yUe);const d=s==null?void 0:s.filter(m=>m.verified),f=o.jsxs("div",{className:"w-48 space-y-4 text-sm",children:[u&&o.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[o.jsxs("div",{className:"text-token-text-primary flex flex-row items-center space-x-2",children:[o.jsx(Vs,{className:"icon"}),o.jsx("span",{children:o.jsx(N,{id:"gizmo.author.websiteLabel",defaultMessage:"Website"})})]}),o.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:u,className:"text-token-text-tertiary hover:cursor-pointer",children:o.jsx(ba,{className:"icon-sm"})})]}),l&&(d==null?void 0:d.map((m,p)=>m.verified?o.jsx(iUe,{socialData:m},p):null)),o.jsxs("div",{className:"text-token-text-tertiary text-xs",children:[(u||d&&d.length>0)&&o.jsx("hr",{className:"border-token-border-default my-2"}),o.jsx(N,{id:"gizmo.author.cannotViewLabel",defaultMessage:"The builder of this GPT cannot view your conversations."})]})]});return o.jsxs("div",{className:"flex flex-row items-center space-x-1",children:[o.jsx(vUe,{className:r,children:o.jsx(N,{id:"gizmo.author.byLabel",defaultMessage:"By {displayName}",values:{displayName:c}})}),!a&&o.jsx(CUe,{socials:s,website:u,children:f})]})}function CUe({website:t,socials:e,children:n}){const[r,s]=xUe(!1);let a=[];t&&a.push(o.jsx(Vs,{className:"icon-xs text-token-text-secondary"})),e&&e.forEach(l=>{l.verified&&(l.type==="linkedin"?a.push(o.jsx(tT,{className:"icon-xs text-token-text-secondary"})):l.type==="github"&&a.push(o.jsx(eT,{className:"icon-xs text-token-text-secondary"})))});const i=a.length-2;return a=a.slice(0,2),i>0&&a.push(o.jsxs("span",{className:"text-token-text-secondary text-xs font-semibold",children:["+",i]},"overflow")),o.jsx(e1,{open:r,onOpenChange:l=>s(l,0),children:o.jsxs("div",{onPointerLeave:()=>s(!1,300),children:[o.jsx(Gi,{asChild:!0,children:o.jsx("div",{onPointerEnter:()=>s(!0,0),className:"cursor-pointer",children:a.length>0?o.jsx("div",{className:"bg-token-main-surface-secondary flex items-center gap-1 rounded-xl px-2 py-1",children:a}):o.jsx(oM,{className:"icon-xs text-token-text-secondary"})})}),o.jsx(t1,{children:o.jsx(n1,{side:"top",sideOffset:8,align:"center",className:"bg-token-main-surface-primary z-10 rounded-lg p-4 drop-shadow-md",children:o.jsx("div",{onPointerEnter:()=>s(!0,0),children:n})})})]})})}const NS=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.2607 7.43848L10.665 10.4004V16.8457L15.7939 13.8848L15.8975 13.8154C16.1251 13.64 16.2607 13.3672 16.2607 13.0752V7.43848ZM10.4678 3.04005C10.2149 2.89403 9.9103 2.87592 9.64453 2.98536L9.5332 3.04005L4.32617 6.04493L10.0098 9.2422L15.8477 6.15137L15.7939 6.11524L10.4678 3.04005ZM3.73926 13.0752C3.73926 13.409 3.91705 13.7178 4.20605 13.8848L9.33496 16.8447V10.3887L3.73926 7.24024V13.0752ZM17.5908 13.0752C17.5908 13.8338 17.2119 14.5387 16.5869 14.957L16.459 15.0361L11.1328 18.1113C10.4759 18.4906 9.67572 18.5145 9.00098 18.1826L8.86816 18.1113L3.54102 15.0361C2.84064 14.6316 2.40918 13.8841 2.40918 13.0752V6.92481C2.40918 6.11595 2.84064 5.36844 3.54102 4.96388L8.86816 1.88868L9.00098 1.81739C9.67572 1.48547 10.4759 1.50941 11.1328 1.88868L16.459 4.96388L16.5869 5.04298C17.2119 5.46135 17.5908 6.16621 17.5908 6.92481V13.0752Z"})),jwt=Object.freeze(Object.defineProperty({__proto__:null,default:NS},Symbol.toStringTag,{value:"Module"}));function a3({isFirstParty:t,gizmoId:e,src:n,alt:r,className:s,showLoading:a,simple:i}){const l=Mf(e),[c,u]=g.useState(!1),[d,f]=g.useState(!0);if(c||!n){const p=t||l;return i?p?o.jsx(jd,{className:s,"aria-label":""}):o.jsx(NS,{className:s,"aria-label":""}):o.jsx("div",{className:s,children:o.jsx("div",{className:"gizmo-shadow-stroke bg-token-main-surface-primary text-token-text-primary relative flex h-full items-center justify-center rounded-full",children:o.jsx(Se.div,{className:"flex h-full w-full items-center justify-center",initial:{opacity:0},animate:{opacity:1,transition:{duration:.1}},children:p?o.jsx(jd,{className:"h-2/3 w-2/3"}):o.jsx(NS,{className:"h-2/3 w-2/3 text-gray-400"})})})})}const m=o.jsx("img",{src:n,className:"bg-token-tertiary h-full w-full",alt:r!=null?r:"GPT Icon",width:80,height:80,onError:()=>u(!0),onLoad:()=>f(!1)});return i?o.jsx("div",{className:U("overflow-hidden rounded-full",a&&d&&"animate-pulse",s),children:m}):o.jsx("div",{className:s,children:o.jsx("div",{className:U("gizmo-shadow-stroke overflow-hidden rounded-full",a&&d&&"animate-pulse"),children:m})})}function _Ue({gizmoId:t,className:e}){var r,s;const{data:n}=Ya(t);return o.jsx(a3,{src:n==null?void 0:n.gizmo.display.profile_picture_url,gizmoId:t,isFirstParty:(s=(r=n==null?void 0:n.gizmo.tags)==null?void 0:r.includes(jp.FirstParty))!=null?s:!1,className:e})}function wUe({resource:t,grayedOut:e,className:n}){var s,a,i;const r=(s=t.gizmo.vanity_metrics)==null?void 0:s.num_conversations_str;return o.jsxs("div",{className:U("flex w-full grow items-center gap-4 overflow-hidden",n),children:[o.jsx(a3,{isFirstParty:!!((a=t.gizmo.tags)!=null&&a.includes(jp.FirstParty)),src:(i=t.gizmo.display.profile_picture_url)!=null?i:void 0,className:U("h-12 w-12 shrink-0",e&&"grayscale group-hover:grayscale-0")}),o.jsxs("div",{className:"overflow-hidden break-words text-ellipsis",children:[o.jsx("span",{className:"line-clamp-2 text-sm leading-tight font-semibold",children:t.gizmo.display.name}),o.jsx("span",{className:"line-clamp-3 text-xs",children:t.gizmo.display.description}),o.jsxs("div",{className:"text-token-text-tertiary mt-1 flex items-center gap-1 pe-1 text-xs text-ellipsis whitespace-nowrap",children:[o.jsx(TS,{gizmo:t,className:"text-xs",hideLink:!0}),r&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-[8px]",children:"â¢"}),o.jsx(rl,{className:"h-3 w-3"}),r]})]})]})]})}function SUe(t,e,n){return n[t]&&(e!=null&&e.has(n[t]))?n[t]:e!=null&&e.has(t)?t:null}function kUe(t,e,n,r,s=!1){const a=Ql(),i=q(),{gizmoModelsData:l,gizmoModelsLoading:c}=zY({enabled:!!r}),u=ie(i,"1854238036"),d=ie(i,"2849099761"),f=ie(i,"1062277569"),{data:m,isLoading:p}=Ef({isGizmo:!!r}),h=kn(t),v=Te(t,_=>se.getBranch(_).length>1),y=mX(()=>{var S;if(!u||!d||h||v||!r)return;let _=e;if(!_&&n&&new Date(n)<new Date("2025-08-13")&&f&&(_="gpt-4o"),!_)return;const w=SUe(_,m==null?void 0:m.models,(S=l==null?void 0:l.model_override)!=null?S:{});w&&($6(i,w),a({modelId:w,location:"Gizmo AutoModel switcher menu item"}))}),x=!p&&!c&&!s,b=g.useRef(!1);g.useEffect(()=>{!x||b.current||(b.current=!0,y())},[x,y])}const nO=t=>["conversation","init",t],MUe=({clientThreadId:t,conversationMode:e,clientModelId:n,enabled:r},s,a,i)=>{var f;const l=zDe(e),u=(f=new URLSearchParams(i).get(GY))!=null?f:void 0,d=Ji(t)?null:t;return{gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:"always",queryKey:nO(t),queryFn:()=>{let m=ue.safePost("/conversation/init",{requestBody:{gizmo_id:l,requested_default_model:n,conversation_id:d,timezone_offset_min:new Date().getTimezoneOffset(),conversation_owner_id:u},authOption:qt.SendIfAvailable});return m=m.then(p=>(s.getQueryData(nO(t))&&uY(p)&&s.invalidateQueries({queryKey:dY()}),p)),m},enabled:r&&!Fee(t)}},EUe=t=>{const e=pt(),n=Tt(),{search:r}=Za();return ut(MUe(t,e,n,r))},jUe=t=>{"use forget";var h,v;const e=it(),{pathname:n,search:r}=Za(),s=Er(),a=Tt(),i=Yt(wn),l=Qi(),c=l||Fee(t),u=l,d=new URLSearchParams(r),f=(h=d.get(C2e))!=null?h:void 0,m=(v=d.get(GY))!=null?v:void 0,{data:p}=ut(P(C({},E5({clientThreadId:t,alwaysForceUpdate:c,projectId:f,ownerUserId:m,onError:y=>{if(i)_t.wantsNewConversation$.set(!0),_t.selectedConversationId$.set(void 0);else{const x=_2e(n),b=x!=null?jM(x):"/";e(b)}a.danger("Unable to load conversation ".concat(t),{testId:"conversation-fetch-error-toaster",toastId:"use_fetch_conversation_failed_to_load_conversation"})}})),{enabled:!Ji(t)&&!s,refetchOnMount:!0,refetchOnWindowFocus:u?"always":!1}));return p},Oae=t=>{var u;const e=q(),n=od(),r=au(e,n)?null:n,s=OM({clientThreadId:t}),[a]=kr(),i=a.get("model"),l=Te(t,d=>{var f,m;return(m=(f=se.findNode(d,p=>{var h;return((h=p.message.metadata)==null?void 0:h.model_slug)!=null}))==null?void 0:f.message.metadata)==null?void 0:m.model_slug}),c=[i,l,r].map(d=>{var f,m;return d&&((m=(f=s[d])==null?void 0:f.conversation)!=null&&m.length)?null:d});return{clientModelIdCandidates:c,prospectiveModelId:(u=c.find(d=>!!d))!=null?u:null}},TUe=(t,e,n)=>{var D,Y;const r=q6(),s=q(),a=Yt(wn),{modelsData:i,fullModelsLoading:l}=DM({isGizmo:!!r}),c=i==null?void 0:i.models,[u,d]=kr(),f=g.useRef(!0),m=f.current&&au(s,u.get("model")),p=m?null:u.get("model");it();const h=ie(s,"3691820594");f.current;const v=g.useCallback(()=>{d(G=>(G.delete("model"),G))},[d]);g.useEffect(()=>{f.current=!1,m&&(od()===u.get("model")&&y7(),v())},[]),g.useEffect(()=>{au(s,od())&&y7()},[s]);const y=od(),x=e.kind===At.GizmoInteraction?e.gizmo_id:null,{data:b,isLoading:_}=Ya(x!=null?x:void 0),w=x&&!ko(x);kUe(t,w?b==null?void 0:b.gizmo.default_model:void 0,w?b==null?void 0:b.gizmo.created_at:void 0,w?x:void 0,w?_:void 0);const S=x&&ko(x)&&!b;jUe(t);const{clientModelIdCandidates:k,prospectiveModelId:M}=Oae(t),E=(D=n==null?void 0:n.forcedModelId)!=null?D:M,T=(Y=n==null?void 0:n.forcedModelId)!=null?Y:k.find(G=>G&&(c==null?void 0:c.has(G))),{session:j}=x0(),A=Ql(),{data:I}=Ds(),L=I&&$u(I),O=yt(s)&&!l&&y&&!(c!=null&&c.get(y))&&y!=="auto";g.useEffect(()=>{if(!O)return;y7();const G=O5(s,L);location.hash===""&&u.size===0&&Ji(t)&&A({modelId:G,location:"Last used model deprecation",options:{replace:!0}})},[t,O,A,s,u.size,j,L]);const R=ie(s,"544083113");g.useEffect(()=>{var G,F;da.initThread({clientThreadId:t,conversationMode:e,modelId:T,userId:(G=j==null?void 0:j.user)==null?void 0:G.id,accountId:(F=j==null?void 0:j.account)==null?void 0:F.id,skipFollowupMcpCheck:R}),Mp.reset(),wi.dismiss()},[t]),g.useEffect(()=>{n!=null&&n.shouldScrollToBottom&&Fe(t,G=>{G.scrollToMessageId="finalAgentTurn"})},[t,n==null?void 0:n.shouldScrollToBottom]),g.useEffect(()=>{n!=null&&n.disableConversationNavigation&&Fe(t,G=>{G.disableConversationNavigation=n.disableConversationNavigation})},[t,n==null?void 0:n.disableConversationNavigation]);const H=null,{isLoading:V,data:z}=EUe({clientThreadId:t,clientModelId:au(s,E)?null:E,conversationMode:e,enabled:!S&&H==null}),$=z6();g.useEffect(()=>{if(!(!p||l)){if(!rO(p,c,$))return v();a||Fe(t,G=>{G.modelId=p})}},[p,$,c,t,l,a]),g.useEffect(()=>{if(V||!z||a)return;const{default_model_slug:G}=z;let F=G;const X=ie(s,"1333611684");!E&&X&&G&&$6(s,G,{skipUpdateIfModelStickyOnServer:!1}),p&&!l&&G&&p!==G&&rO(p,c,$)&&(F=p,v()),Mp.updateDetails(z),F&&Fe(t,te=>{te.modelId=F})},[V,z,a]),g.useEffect(()=>{if(!a||l)return;const G=w2e(c);G?Fe(t,F=>{F.modelId=G}):$n.warn("No default model found")},[a,l,c,t,s])},rO=(t,e,n)=>(e==null?void 0:e.has(t))&&!n.find(r=>r.model_slug===t);function NUe(t){Le.logEvent("chatgpt_web_thread_tap_new_thread"),Ft.getItem(et.HasSeenNewChatModal)===!0?Hf(t):(Ft.setItem(et.HasSeenNewChatModal,!0),pn.openModal(Yl.NoAuthNewChat))}function Twt(){const t=WY(Yl.NoAuthNewChat),e=aM();return t&&!e?o.jsx(AUe,{onClose:()=>{pn.closeModal(Yl.NoAuthNewChat)}}):null}function AUe({onClose:t}){const e=q(),n=it(),r=i=>{i.preventDefault(),dn(e,{fallbackScreenHint:"signup",callback:l=>{Le.logEvent("chatgpt_new_chat_modal_sign_up_link_clicked"),B.logSignUpButtonClicked({location:"New chat modal",provider:l})}})},s=i=>{i.preventDefault(),dn(e,{fallbackScreenHint:"login",callback:l=>{Le.logEvent("chatgpt_new_chat_modal_log_in_link_clicked"),B.logLogInButtonClicked({location:"New chat modal",provider:l})}})},a=()=>{Le.logEvent("chatgpt_new_chat_modal_new_chat_button_clicked"),B.logNewChatButtonClicked({location:"New Chat Modal New Chat Button"}),Hf(n),t()};return g.useEffect(()=>{Le.logEvent("chatgpt_new_chat_modal_shown"),B.logEvent("New Chat Modal Shown")},[]),o.jsx(tt,{testId:"modal-no-auth-new-chat",isOpen:!0,type:"success",onClose:t,noPadding:!0,size:"custom",className:"max-w-sm",children:o.jsxs("div",{className:"flex flex-col justify-center p-6",children:[o.jsxs("div",{className:"mb-2 grid w-full grid-cols-[1fr_auto_1fr] items-center",children:[o.jsx("div",{}),o.jsx("div",{className:"text-xl font-medium",children:o.jsx(N,{id:"d+R7z5",defaultMessage:"Clear current chat?"})}),o.jsx("div",{className:"flex justify-end",children:o.jsx(gn,{onClick:t})})]}),o.jsx("p",{className:"text-token-text-secondary mb-6 text-center",children:o.jsx(N,{id:"+Olycu",defaultMessage:"To start a new chat, your current conversation will be discarded. <signup>Sign up</signup> or <login>log in</login> to save chats.",values:{signup:i=>o.jsx("a",{href:"#",className:"text-token-text-primary font-medium",onClick:r,children:i}),login:i=>o.jsx("a",{href:"#",className:"text-token-text-primary font-medium",onClick:s,children:i})}})}),o.jsx(oe,{className:"mb-3",color:"primary",size:"large",onClick:a,children:o.jsx(N,{id:"cBGbrD",defaultMessage:"Clear chat"})}),o.jsx(oe,{size:"large",onClick:()=>{dn(e,{fallbackScreenHint:"login",callback:i=>{B.logLogInButtonClicked({location:"New chat modal",provider:i})}})},color:"secondary",children:o.jsx(N,C({},tn.logInButtonText))})]})})}function PUe(t){var a,i;const e=st(t),n=(a=e==null?void 0:e.tree)==null?void 0:a.rootId;if(n==null)return!1;const r=((i=se.getNode(e,n))==null?void 0:i.children.length)===1,s=se.findNode(e,l=>{var c;return l.message.author.role===Ue.Assistant&&((c=l.message.clientMetadata)==null?void 0:c.err)==null});return r&&!s}function IUe(t){const e=st(t);return(e==null?void 0:e.branchingFromConversationId)!=null}function e4({clientThreadId:t,location:e}){var d;const n=q(),r=tl(t),s=(d=r==null?void 0:r.id)!=null?d:null,a=od(),i=Ql(!0),l=it(),c=Er(),[,u]=kr();return g.useCallback(f=>{var p;Rl.publish({kind:"newChatRequested"}),kt(t)==null&&PUe(t)&&da.resetThread(t),IUe(t)&&da.resetThread(t);const m=new URLSearchParams;if(f!=null&&f.prompt&&m.set("prompt",f.prompt),f!=null&&f.systemHints&&f.systemHints.forEach(h=>{m.append(S2e,h)}),!Et(n))u(m),NUe(l);else if(c)i({modelId:s!=null?s:"",location:e,extraQueryParams:m,options:{replace:!0,state:q5()}}),Le.logEvent("chatgpt_web_thread_tap_new_thread");else{if(ie(n,"1333611684")){const v=new URLSearchParams(m.toString());l({pathname:"/",search:"?"+v.toString()}),B.logNewChatButtonClicked({location:e})}else i({modelId:(p=a!=null?a:s)!=null?p:"",location:e,extraQueryParams:m});Le.logEvent("chatgpt_web_thread_tap_new_thread")}},[n,c,s,l,i,u,e,t,a])}function Nwt(t){"use forget";const e=ee.c(3),n=q6();let r;e[0]!==n?(r=n?{kind:At.GizmoInteraction,gizmo_id:n}:{kind:At.PrimaryAssistant},e[0]=n,e[1]=r):r=e[1];const s=r;let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a={shouldScrollToBottom:!0},e[2]=a):a=e[2],TUe(t,s,a)}function LUe({clientThreadId:t,setClientThreadId:e}){const n=it(),r=Yt(wn),s=g.useCallback(()=>{var i;if(r)_t.wantsNewConversation$.set(!0),_t.selectedConversationId$.set(void 0);else{e==null||e(k2e());const l=(i=st(t))==null?void 0:i.modelId;n(l?"/?model=".concat(l):"/",{replace:!0})}},[t,e,n,r]);return{createNewThread:e4({clientThreadId:t,location:"Model switcher menu item"}),resetThread:s}}function Dae(){return{clientThreadId:"",isLoggedInUser:!1,focusedObject:null,currentModelId:"",isModelLoaded:!1,isEmbeddedInFocusedView:!1,isInstalledApp:!1,onNewThread:()=>{throw new Error("onNewThread not implemented")},onRequestCompletion:()=>{throw new Error("onRequestCompletion not implemented")},resetThread:()=>{throw new Error("resetThread not implemented")}}}const sT=g.createContext(Dae());function r1(){try{return g.use(sT)}catch(t){return Dae()}}function Awt({children:t,clientThreadId:e,setClientThreadId:n,routeType:r,prefetchSearchPromises:s}){var _;const{createNewThread:a,resetThread:i}=LUe({clientThreadId:e,setClientThreadId:n}),{data:l}=Ef(),c=Nd(l),u=Te(e,w=>w==null?void 0:w.modelId),d=G6(),f=(_=c==null?void 0:c.id)!=null?_:null,m=u!=null?u:f,p=Qi(),h=Hre(),{isUnauthenticated:v}=An(),y=!v,x=Bf(e),b=g.useMemo(()=>({clientThreadId:e,currentModelId:m,isModelLoaded:!!u,isEmbeddedInFocusedView:d,isInstalledApp:p,isLoggedInUser:y,focusedObject:h,onNewThread:a,onRequestCompletion:x,resetThread:i,prefetchSearchPromises:s,routeType:r}),[e,m,u,d,p,y,h,a,x,i,s,r]);return o.jsx(sT.Provider,{value:b,children:o.jsx(M2e,{clientThreadId:e,children:t})})}function t4(t,e={}){var n;return{systemHints:t.filter(r=>r!==we.Search),extraStreamParams:P(C({},e),{forceUseSearch:(n=e.forceUseSearch)!=null?n:t.includes(we.Search)?!0:void 0})}}const RUe=30*24*60*60*1e3;class o3 extends Yi()(()=>{var n,r;const e=Ft.getItem(et.MessageFollowupsStoreState);return e?{disabledGlobally:(n=e.disabledGlobally)!=null?n:!1,disabledConversations:new Map((r=e.disabledConversations)!=null?r:[])}:{disabledGlobally:!1,disabledConversations:new Map}}){persistState(){const e=this.getState(),n=Date.now(),r=new Map(Array.from(e.disabledConversations.entries()).filter(([,a])=>a.disabledAt===null||n-a.disabledAt<RUe)),s={disabledGlobally:e.disabledGlobally,disabledConversations:Array.from(r.entries())};Ft.setItem(et.MessageFollowupsStoreState,s)}setDisabledGlobally(e){this.setState({disabledGlobally:e}),this.persistState()}setDisabledConversation(e,n){this.setState(r=>{var s;return{disabledConversations:(s=r.disabledConversations)==null?void 0:s.set(e,{disabled:n,disabledAt:n?Date.now():null})}}),this.persistState()}static useDisabledGlobally(){return this.useState(e=>e.disabledGlobally)}static useIsDisabledConversation(e){return this.useState(n=>{var r,s,a;return(a=(s=(r=n.disabledConversations)==null?void 0:r.get(e))==null?void 0:s.disabled)!=null?a:!1})}static useIsEnabled(e){return this.useState(n=>{var s,a;const r=(s=n.disabledConversations)==null?void 0:s.get(e);return!((a=r==null?void 0:r.disabled)!=null?a:n.disabledGlobally)})}}function OUe(t){return Io.isMultimodalTextMessage(t)?t.content.parts.flatMap(e=>typeof e!="string"&&e.content_type===Tp.VideoAssetPointer?e:null).filter(e=>!!e):[]}const DUe=(t,e)=>{var a;const n={"video/mp4":"mp4","video/quicktime":"mov"},r={mp4:"mp4",mov:"mov"},s=(a=e.split(".").pop())==null?void 0:a.toLowerCase();return n[t]||r[s!=null?s:""]||void 0};function FUe(t,e,n,r,s){let a=E2e.getReadyFiles(t.getState());(r==null?void 0:r.kind)===At.GizmoMagicCreate?a=a.filter(h=>h.gizmoId!=null):a=a.filter(h=>h.gizmoId==null);let i=e!=null?e:"";const l=[],c=[],u=ZY(n,r,s),f=j2e(n,r).length>0,m=u===Ha.Interpreter||u===Ha.Retrieval||u===Ha.ContextConnector,p=ie(gr(),"3681682292");return a.forEach(h=>{var x;const v=h.fileSpec,y=DUe(v.mimeType,v.name);if(m&&!(f&&p&&y)){const b=v.contextConnectorInfo,_={id:v.id,size:v.size,name:v.name,context_connector_info:b?{context_connector:b==null?void 0:b.contextConnector,source_url:b==null?void 0:b.sourceUrl,synthetic_extension:(x=b==null?void 0:b.syntheticExtension)!=null?x:null,type:b==null?void 0:b.type}:void 0,mime_type:v.mimeType,width:"width"in v?v.width:void 0,height:"height"in v?v.height:void 0,file_token_size:v.fileTokenSize,source:h.source,library_file_id:h.libraryFileId};l.push(_)}f&&("width"in v&&"height"in v&&c.push({content_type:Tp.ImageAssetPointer,asset_pointer:fw(v.id),size_bytes:v.size,width:v.width,height:v.height}),p&&y&&c.push({content_type:Tp.VideoAssetPointer,asset_pointer:fw(v.id),size_bytes:v.size,format:y,metadata:{source:"quick_video_capture"}}))}),c.length>0&&(c.push(e!=null?e:""),i={content_type:rt.MultimodalText,parts:c}),{content:i,attachments:l}}var Fae=(t=>(t.Header="Header",t.HeaderTop="HeaderTop",t.HeaderBottom="HeaderBottom",t))(Fae||{}),BUe=(t=>(t.Box="Box",t.PromptTextareaAction="PromptTextareaAction",t.BannerTermsDisclaimer="BannerTermsDisclaimer",t.NewUserBannerTermsDisclaimer="NewUserBannerTermsDisclaimer",t.BannerSignup="BannerSignup",t.BannersRateLimit="BannersRateLimit",t.BannersBeaconUI="BannersBeaconUI",t.BannerSidekickAnnouncement="BannerSidekickAnnouncement",t.BannerMemoryFull="BannerMemoryFull",t.BannerMemoryAlmostFull="BannerMemoryAlmostFull",t.ParagenControls="ParagenControls",t.AdvancedVoiceOnMobileAnnouncement="AdvancedVoiceOnMobileAnnouncement",t.SearchBrowserExtensionAnnouncement="SearchBrowserExtensionAnnouncement",t.SearchBrowserExtensionReactiveAnnouncement="SearchBrowserExtensionReactiveAnnouncement",t.MoonshineAnnouncement="MoonshineAnnouncement",t.CustomizeChatGPTAnnouncement="CustomizeChatGPTAnnouncement",t.ProjectConversationTaskNoFileAccess="ProjectConversationTaskNoFileAccess",t.JawboneAnnouncement="JawboneAnnouncement",t.JawboneMaxActiveAnnouncement="JawboneMaxActiveAnnouncement",t.S09KM1="S09KM1",t.PromoRedemptionAnnouncement="PromoRedemptionAnnouncement",t.OperatorAnnouncement="OperatorAnnouncement",t.BannerPlusUpsell="BannerPlusUpsell",t.ContextualAnswersAdminUpsell="ContextualAnswersAdminUpsell",t.ContextualAnswersUserUpsell="ContextualAnswersUserUpsell",t.ReferrerRedemptionAvailableAnnouncement="ReferrerRedemptionAvailableAnnouncement",t.RefereeRedemptionAvailableAnnouncement="RefereeRedemptionAvailableAnnouncement",t.ReferralProgramUpsellAnnouncement="ReferralProgramUpsellAnnouncement",t.TatertotIntakeFormAnnouncement="TatertotIntakeFormAnnouncement",t.StudentsUpsellAnnouncement="StudentsUpsellAnnouncement",t.TeamSeatsPromoAnnouncement="TeamSeatsPromoAnnouncement",t.ModelDeprecationBanner="ModelDeprecationBanner",t.TeamsContextualAnswersUpsell="TeamsContextualAnswersUpsell",t.LanguageUpsellBanner="LanguageUpsellBanner",t.AgentModeAnnouncementBanner="AgentModeAnnouncementBanner",t.GoldenHourAnnouncementBanner="GoldenHourAnnouncementBanner",t.BannerNoAuthTrials="BannerNoAuthTrials",t.StarterPrompts="StarterPrompts",t.ImageGenBanner="ImageGenBanner",t.SystemHintSuggestion="SystemHintSuggestion",t))(BUe||{}),UUe=(t=>(t.DallePromptControls="DallePromptControls",t))(UUe||{});const sO={contentAreas:{Header:{dimensions:null,contentId:null},HeaderTop:{dimensions:null,contentId:null},HeaderBottom:{dimensions:null,contentId:null}},sharedProps:null};function HUe(){const t=Rt(k0(Sn(()=>sO)));function e(n,r){t.setState(s=>{s.contentAreas[n].dimensions=r})}return{reset:()=>t.setState(sO),useContentAreaId(n){return t(r=>r.contentAreas[n].contentId)},useHasAnnouncementInHeader(){const n=t(r=>r.contentAreas.HeaderTop.contentId);return n==="AdvancedVoiceOnMobileAnnouncement"||n==="BannerSidekickAnnouncement"},useContentAreaApi(n){const r=g.useCallback(a=>t.setState(i=>{i.contentAreas[n].contentId=a}),[n]),s=g.useCallback(()=>{t.setState(a=>{a.contentAreas[n].contentId=null})},[n]);return{set:r,remove:s}},useContentAreaDimensions(n,r){return t(s=>r(s.contentAreas[n].dimensions))},useContentAreaResizeObserver(n,r){g.useEffect(()=>{if(r.current){e(n,r.current.getBoundingClientRect());const s=new ResizeObserver(a=>{for(const i of a)e(n,i.contentRect)});return s.observe(r.current),()=>{s.disconnect(),e(n,null)}}},[r,n])},useIsHeaderContentAreaPopulated(){return t(n=>!!n.contentAreas.HeaderTop.contentId||!!n.contentAreas.HeaderBottom.contentId)},useSharedProps(n){return t(r=>n?n(r.sharedProps):r.sharedProps)},getSharedProps(){return t.getState().sharedProps},useSetSharedProps(){return g.useCallback(n=>{t.setState(r=>{r.sharedProps=n})},[])}}}const Bae=g.createContext(null);function Pwt({children:t}){"use forget";const e=g.useRef(null);return e.current==null&&(e.current={store:HUe()}),o.jsx(Bae.Provider,{value:e.current,children:t})}function Gf(t=!0){const e=g.useContext(Bae);if(!e&&t)throw new Error("usePromptTextareaContext must be used within a PromptTextareaProvider");return e}function s1(){"use forget";const t=ee.c(12),{store:e}=Gf(),n=Kr(),{clearSystemHintModeTrigger:r,getSystemHintModeTrigger:s}=Qo(),a=!o3.useDisabledGlobally(),{onRequestCompletion:i,currentModelId:l}=r1(),c=jf(),{data:u}=Ef();let d;t[0]!==l||t[1]!==(u==null?void 0:u.models)?(d=u==null?void 0:u.models.get(l!=null?l:""),t[0]=l,t[1]=u==null?void 0:u.models,t[2]=d):d=t[2];const f=d;let m;return t[3]!==n||t[4]!==r||t[5]!==f||t[6]!==c||t[7]!==s||t[8]!==a||t[9]!==i||t[10]!==e?(m=(p,h,v,y)=>{var X,te,ae,me,W,K,ne,re;const x=e.getSharedProps();if(!x)return;const{clientThreadId:b,onResetState:_,conversationMode:w}=x;pn.hideThreadHeader();const S=n===we.Search,k=S?s(we.Search):void 0,M=st(b);let E;h.type===je.Starter&&(E=(X=h.data)==null?void 0:X.system_hint);const T=E!=null?E:n,j=(ae=(te=M==null?void 0:M.selectedSources)==null?void 0:te.get(T))!=null?ae:new Set,A=(me=M==null?void 0:M.selectedMCPSources)==null?void 0:me.get(T),I=$Ue;let L,O={};if(mj(h))L=h.categoryId!=="ask"?[h.categoryId]:[],O=h.modelOverride?{model:h.modelOverride}:{};else if(I(h))L=[we.Pineapple];else{const le=t4(T?[T]:[]);L=(W=le.systemHints)!=null?W:[],O=(K=le.extraStreamParams)!=null?K:{}}a&&(O.enableMessageFollowups=!0);const{content:R,attachments:H}=FUe(c,zr(h),f,w,T),V=L.includes(we.Slurm),z=V0(),$=C({suggestion_type:h.type,starter_prompt_id:"id"in h?h.id:void 0,selected_sources:V?Array.from(j.values()).map(VUe).filter(Boolean):void 0},L.length>0&&{system_hints:L});if(I(h)){const le=h.pineapple;$.pineapple_uri=le.pineapple_uri,$.pineapple_path=le.pineapple_path,le.tool_input_schema&&($.pineapple_tool_input_schema=le.tool_input_schema),le.image_url&&($.pineapple_image_url=le.image_url),A&&A.size>0&&($.developer_mode_connector_ids=Array.from(A.values()))}if(z&&($.__internal={search_settings:z}),H.length>0&&($.attachments=H),h.type===je.Starter&&((ne=h.data)!=null&&ne.kaur1br5)){const le=(re=h.data)==null?void 0:re.kaur1br5;$.kaur1br5=le}const D=Fr(R,$),Y=[];((M==null?void 0:M.startedWithByoMcp)===!0||A&&A.size>0)&&Y.push(FM("",{disable_tool_ids:["gmail","gcal","gcontacts"]})),i({promptMessage:D,prependMessages:Y,sourceEvent:p,extraStreamParams:O,completionMetadata:{suggestions:v,suggestion:h,suggestionIndex:y,conversationMode:w!=null?w:M==null?void 0:M.mode,systemHints:L,searchSource:k}});const F=se.getCurrentNode(M).message.id;_(),L5(h,y,b,F),BM()||pj(),k&&S&&r(we.Search)},t[3]=n,t[4]=r,t[5]=f,t[6]=c,t[7]=s,t[8]=a,t[9]=i,t[10]=e,t[11]=m):m=t[11],m}function VUe(t){return bM[t]}function $Ue(t){return(t==null?void 0:t.pineapple)!==void 0}function Uae(t){return[{title:t.formatMessage({id:"er580q",defaultMessage:"Create an image of a magazine cover of cute animals with headlines and text"}),body:"",type:je.Autocomplete,prompt:t.formatMessage({id:"SKZKBN",defaultMessage:"Create an image of a photorealistic magazine cover for 'CUTE ANIMALS,' featuring three impossibly cute and stylishly accessorized pets, with realistic, catchy headlines and teaser text"}),theme:Ct.Image},{title:t.formatMessage({id:"ukPFbH",defaultMessage:"Create an image for a garden-themed birthday party invitation"}),body:"",type:je.Autocomplete,prompt:t.formatMessage({id:"uYg5kL",defaultMessage:"Create an image of a colorful invitation for a garden-themed birthday party, including whimsical typography"}),theme:Ct.Image},{title:t.formatMessage({id:"mMiJxP",defaultMessage:"Create an image of an astronaut with an inflatable duck on Mars"}),body:"",type:je.Autocomplete,prompt:t.formatMessage({id:"5nFWh4",defaultMessage:"Create a photorealistic image of an international astronaut on Mars, wearing a giant duck inflatable toy around its waist"}),theme:Ct.Image},{title:t.formatMessage({id:"+T7POI",defaultMessage:"Create an image of a tutorial for cooking pasta"}),body:"",type:je.Autocomplete,prompt:t.formatMessage({id:"9N2bJ0",defaultMessage:"Create an image of a comic-book style tutorial for cooking pasta"}),theme:Ct.Image}]}const qUe=M0(()=>nt(!1)),aT=M0(t=>{const e=nt([],{equals:Vu}),n=un(()=>{const r=qUe(t),s=T2e(Ht(t));return UM(t)&&!r()&&e().length>0&&!(s!=null&&s())},{getServerFallback:()=>!1});return{autocompletions$:e,shouldShowAutocomplete$:n}});function vu(t){const e=g.useRef(t);return g.useInsertionEffect(()=>{e.current=t},[t]),g.useMemo(()=>(...n)=>{N2e()&&zUe();const{current:r}=e;return r(...n)},[])}function zUe(){throw new Error("A function wrapped in useStableCallback can't be called during rendering.")}function oT(){return"virtualKeyboard"in navigator}const GUe=Rt()(()=>({height:0,isKeyboardOpen:!1,scrollOffset:null,composerHeight:null}));function WUe(t){return t?t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable:!1}function ZUe(){document.documentElement.classList.add("keyboard-open")}function KUe(){document.documentElement.classList.remove("keyboard-open")}const Hae=va(()=>{const t=nt(null),e=nt(!1),n=nt(null),r=nt(0),s=nt(!1),a=new EventTarget,i=f=>{a.dispatchEvent(new CustomEvent(f))},l=(f,m,p)=>{a.addEventListener(f,m,p)},c=(f,m,p)=>{a.removeEventListener(f,m,p)};setTimeout(()=>{s.set(oT())});function u(f){const m=new AbortController,p=t();if(!p)return;p.blur(),l("keyboard-closed",()=>{m.abort(),f==null||f()},{signal:m.signal});const h=window.setTimeout(()=>{f==null||f(),m.abort()},500);m.signal.addEventListener("abort",()=>{window.clearTimeout(h)})}return{closeKeyboard:u,events:{addEventListener:l,dispatch:i,removeEventListener:c},focusedElement:t,isKeyboardOpen:e,keyboardDimensions:n,keyboardHeight:r,reset:()=>{M6(()=>{t.set(null),e.set(!1),n.set(null),r.set(0)})},supportsVirtualKeyboardApi$:s}});function Iwt(t){if(!oT())return;const e=Hae(t);let n=!1;const r=navigator.virtualKeyboard.overlaysContent;function s(){if(n)return;e.reset(),document.removeEventListener("focusout",a),KUe(),document.body.style.removeProperty("--screen-keyboard-height"),navigator.virtualKeyboard.removeEventListener("geometrychange",i);let c;const u=d=>{d.target.boundingRect.height===0&&setTimeout(()=>{e.events.dispatch("keyboard-closed"),window.clearTimeout(c)},100)};c=window.setTimeout(()=>{navigator.virtualKeyboard.removeEventListener("geometrychange",u),e.events.dispatch("keyboard-closed")},500),navigator.virtualKeyboard.addEventListener("geometrychange",u)}const a=()=>{n=!1,e.isKeyboardOpen.set(!1),requestAnimationFrame(s)},i=c=>{document.body.style.setProperty("--screen-keyboard-height","".concat(c.target.boundingRect.height,"px")),ZUe(),e.keyboardDimensions.set(c.target.boundingRect),e.keyboardHeight.set(c.target.boundingRect.height)},l=c=>{const u=c.target;WUe(u)&&(n=!0,e.focusedElement.set(u),e.isKeyboardOpen.set(!0),e.events.dispatch("keyboard-opened"),document.addEventListener("focusout",a),navigator.virtualKeyboard.addEventListener("geometrychange",i))};return navigator.virtualKeyboard.overlaysContent=!0,document.addEventListener("focusin",l),()=>{navigator.virtualKeyboard.overlaysContent=r,document.removeEventListener("focusin",l),s()}}function Lwt(t){"use forget";const e=ee.c(14),{canShowAutocomplete$:n,layoutMode:r,composerController:s,clientThreadId:a}=t,i=q(),l=at(n);let c;e[0]!==i?(c=Hae(i),e[0]=i,e[1]=c):c=e[1];const d=at(c.supportsVirtualKeyboardApi$);let f;e[2]!==s?(f=(b,_,w)=>{_&&Va(Ht(s),w?"".concat(w.title).concat(w.body):"")},e[2]=s,e[3]=f):f=e[3];const m=f;if(!l)return null;const p=r==="center"?"top-full":"bottom-full",h=d&&"keyboard-open:fixed keyboard-open:bottom-[calc(var(--screen-keyboard-height,0px)+var(--composer-height,100px)+12px)] keyboard-open:px-4";let v;e[4]!==p||e[5]!==h?(v=U("absolute start-0 z-[-1] box-border w-full ps-0",p,h),e[4]=p,e[5]=h,e[6]=v):v=e[6];let y;e[7]!==a||e[8]!==s||e[9]!==m?(y=o.jsx(YUe,{composerController:s,onChange:m,clientThreadId:a}),e[7]=a,e[8]=s,e[9]=m,e[10]=y):y=e[10];let x;return e[11]!==v||e[12]!==y?(x=o.jsx("div",{className:v,children:y}),e[11]=v,e[12]=y,e[13]=x):x=e[13],x}function YUe(t){"use forget";const e=ee.c(50),{composerController:n,onSelect:r,onChange:s,clientThreadId:a}=t;let i;e[0]!==n?(i=aT(n),e[0]=n,e[1]=i):i=e[1];const l=at(i.autocompletions$),c=s1();let u,d;e[2]!==a||e[3]!==l?(u=()=>{l.length>0&&l.every(XUe)&&one(l,a)},d=[l,a],e[2]=a,e[3]=l,e[4]=u,e[5]=d):(u=e[4],d=e[5]),g.useEffect(u,d);let f;e[6]!==c||e[7]!==r?(f=(Y,G,F,X)=>{if(G.onSelectOverride)return G.onSelectOverride(Y,G,F,X);r==null||r(G,F,X),c(Y,G,F,X)},e[6]=c,e[7]=r,e[8]=f):f=e[8];const m=f,p=l.length>0,[h,v]=g.useState(-1),[y,x]=g.useState(!1);let b;e[9]!==s||e[10]!==h||e[11]!==l?(b=()=>{const Y=h===l.length-1?0:h+1;return v(Y),s==null||s(Y,!0,l[Y]),!0},e[9]=s,e[10]=h,e[11]=l,e[12]=b):b=e[12];const _=vu(b);let w;e[13]!==s||e[14]!==h||e[15]!==l?(w=()=>{const Y=h<=0?l.length-1:h-1;return v(Y),s==null||s(Y,!0,l[Y]),!0},e[13]=s,e[14]=h,e[15]=l,e[16]=w):w=e[16];const S=vu(w);let k;e[17]!==m||e[18]!==h||e[19]!==l?(k=Y=>l[h]?(m(Y,l[h],l,h),!0):!1,e[17]=m,e[18]=h,e[19]=l,e[20]=k):k=e[20];const M=vu(k);let E,T;e[21]!==n||e[22]!==_||e[23]!==S||e[24]!==M?(E=()=>KY(Ht(n),{ArrowDown:_,ArrowUp:S,Enter:M}),T=[n,_,S,M],e[21]=n,e[22]=_,e[23]=S,e[24]=M,e[25]=E,e[26]=T):(E=e[25],T=e[26]),g.useEffect(E,T);let j,A;e[27]!==y?(j=()=>{if(!y){const Y=()=>{x(!0),window.removeEventListener("mousemove",Y)};return window.addEventListener("mousemove",Y),()=>{window.removeEventListener("mousemove",Y)}}},A=[y],e[27]=y,e[28]=j,e[29]=A):(j=e[28],A=e[29]),g.useEffect(j,A);let I;e[30]!==s?(I=()=>{v(-1),s==null||s(-1,!1),x(!1)},e[30]=s,e[31]=I):I=e[31];let L;e[32]!==s||e[33]!==l?(L=[l,s],e[32]=s,e[33]=l,e[34]=L):L=e[34],g.useEffect(I,L);let O,R,H;e[35]===Symbol.for("react.memo_cache_sentinel")?(O={opacity:0},R={opacity:1},H={opacity:0},e[35]=O,e[36]=R,e[37]=H):(O=e[35],R=e[36],H=e[37]);const V=p?"flex":"hidden";let z;e[38]!==V?(z=U("bg-token-bg-primary divide-token-border-light w-full flex-col divide-y p-2.5 max-sm:px-0",V),e[38]=V,e[39]=z):z=e[39];let $;e[40]!==y||e[41]!==n||e[42]!==m||e[43]!==s||e[44]!==h||e[45]!==l?($=l.map((Y,G)=>{var F;return o.jsx(Se.li,{initial:{opacity:0,translateY:4},animate:{opacity:1,translateY:0},transition:{delay:G*.03},exit:{opacity:0,translateY:4},className:"w-full",children:o.jsxs("button",{className:U("flex w-full cursor-pointer items-center justify-start rounded-lg px-2.5 py-3 text-start whitespace-pre-wrap",h===G?"bg-token-main-surface-secondary":"bg-token-main-surface-primary"),onClick:X=>{X.preventDefault(),m(X,Y,l,G),BM()&&Ht(n).dom.blur()},onMouseDown:JUe,onMouseEnter:()=>{y&&(v(G),s==null||s(G,!1,Y))},onMouseLeave:()=>{v(-1),s==null||s(-1,!1,Y)},children:[Y.source==="CURATED"&&(Y.iconThumbnailUrl||Y.coverThumbnailImageUrl)?o.jsx("img",{className:U("me-2 flex-none rounded-md object-cover",Y.coverThumbnailImageUrl?"h-7 w-7":"h-8 w-8"),src:Y.iconThumbnailUrl||Y.coverThumbnailImageUrl,alt:""}):Y.icon?o.jsx("span",{className:"text-token-text-secondary icon me-2 flex-none",children:Y.icon}):null,o.jsx("span",{className:"text-sm whitespace-pre-wrap",children:Y.autocompletionChunks&&Y.autocompletionChunks.length>0?o.jsx(o.Fragment,{children:Y.autocompletionChunks.map(QUe)}):Y.source==="CURATED"?o.jsx("span",{className:U("text-pretty",Y.type===je.Starter||Y.type===je.Trending?"text-token-text-secondary":"text-token-text-tertiary"),children:Y.title}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:U("text-pretty",Y.type===je.Starter||Y.type===je.Trending?"text-token-text-secondary":"text-token-text-tertiary"),children:Y.title}),o.jsx("span",{className:"text-token-text-primary text-pretty",children:Y.body})]})}),Y.trailing?Y.trailing:null]})},(F=Y.id)!=null?F:G)}),e[40]=y,e[41]=n,e[42]=m,e[43]=s,e[44]=h,e[45]=l,e[46]=$):$=e[46];let D;return e[47]!==z||e[48]!==$?(D=o.jsx(Se.ul,{initial:O,animate:R,exit:H,className:z,children:$}),e[47]=z,e[48]=$,e[49]=D):D=e[49],D}function QUe(t,e){var n;return o.jsx("span",{className:U((n=t.className)!=null?n:t.isMatched?"text-token-text-tertiary":"text-token-text-primary"),children:t.text},e)}function JUe(t){t.preventDefault()}function XUe(t){return t.type===je.Autocomplete||t.type===je.Trending}function eHe(t,e){t=t.toLocaleLowerCase();const n=e;e=e.toLocaleLowerCase();const r=[];let s=0;for(let l=0;l<e.length&&(s<t.length&&t[s]===e[l]&&(r.push(l),s++),s!==t.length);l++);const a=[];let i=0;if(r.forEach(l=>{if(l>i){const c=n.slice(i,l);c&&a.push({text:c,isMatched:!1})}a.push({text:n[l],isMatched:!0}),i=l+1}),i<e.length){const l=n.slice(i);l&&a.push({text:l,isMatched:!1})}return tHe(a)}function tHe(t){if(t.length===0)return t;const e=[t[0]];for(let r=1;r<t.length;r++){const s=e[e.length-1],a=t[r];s.isMatched===a.isMatched?s.text+=a.text:e.push(a)}const n=e.filter(r=>r.isMatched).reduce((r,s)=>r+s.text.trim().length,0);return e.length<=4&&n>=2?e:[{text:e.map(r=>r.text).join(""),isMatched:!1}]}function nHe(t=8,e=null){return Ho({queryKey:["promptStarters",t,e],queryFn:async()=>{const n=await ue.safeGet("/prompt_library/",{parameters:{query:{limit:t,use_v2:!0,model_slug:e}},authOption:qt.SendIfAvailable});return ve.addFirstTiming("load.promptStarters"),n}})}const Rwt=t=>HM([At.GizmoMagicCreate,At.GizmoTest],t==null?void 0:t.kind),rHe=t=>HM([At.GizmoInteraction,At.GizmoMagicCreate,At.GizmoTest],t==null?void 0:t.kind);function AS(t){var e;return(e=H1(t)?t.promptStarters:t.gizmo.display.prompt_starters)==null?void 0:e.map(n=>({type:je.Starter,title:"",body:n,prompt:n}))}function Vae(){const t=q(),e=Wt(),n=i5(TJ),r=Et(t),s=i3(!1);return!r&&n<s.get("new-user-message-count",20)||r&&e&&Date.now()/1e3-e.created<s.get("new-user-age-seconds",14*24*60*60)}const $ae=()=>{const t=i3(!0),e=Vae();return()=>e&&t.get("web-enable-for-new-users",!1)||!e&&t.get("web_enable_for_existing_users",!1)};function qae({shouldBeEnabledForDefaultAssistant:t,clientThreadId:e}){const n=$ae(),r=q(),s=yt(r),a=Te(e,l=>l==null?void 0:l.mode),i=rHe(a);return t&&!i&&!(s!=null&&s.isEnterprisey())&&n()}function Owt({shouldBeEnabledForDefaultAssistant:t,clientThreadId:e}){const n=i3(!1),r=Vae(),[s,a]=$o("homepage_prompt_style","",d=>typeof d=="string"),i=n.get("homepage_prompt_style","chips"),l=n.get("persist_new_user_experience",!1);let c=i;return l&&s&&(c=s),g.useEffect(()=>{s&&!l?a(""):!s&&r&&l&&a(i)},[s,a,n,r,i,l]),qae({shouldBeEnabledForDefaultAssistant:t,clientThreadId:e})?c:"chips"}const Dwt=({clientThreadId:t,limit:e,shouldBeEnabledForDefaultAssistant:n,isModelLoaded:r,modelSlug:s})=>{var E,T;const a=nl(),{autocompletions$:i}=aT(a),l=zo(),c=Z(),{clearAllSystemHintModeTriggers:u,setThreadSystemHintMode:d}=Qo(),f=Te(t,j=>j==null?void 0:j.mode),m=Ya((f==null?void 0:f.kind)===At.GizmoInteraction?f.gizmo_id:void 0).data,{gizmoEditorData:p,mode:h}=VM(),v=qae({shouldBeEnabledForDefaultAssistant:n,clientThreadId:t}),{data:y,isSuccess:x}=ut(P(C({},nHe(e,s)),{enabled:v}));if(l==null)return{promptStarters:[],isLoading:!0,isSuccess:!1};if(h==="test"&&p)return{promptStarters:(E=AS(p))!=null?E:[],isLoading:!1,isSuccess:!0};if(m!=null)return{promptStarters:AS(m),isLoading:!1,isSuccess:!0};if(!v)return{promptStarters:[],isLoading:!1,isSuccess:!0};const b=(T=y==null?void 0:y.items.map(j=>({type:je.Starter,id:j.id,title:j.title,body:j.description,prompt:j.prompt,category:j.category,oneliner:j.oneliner,theme:j.theme,requires_file_upload:j.requires_file_upload})))!=null?T:[],_=(j,A,I,L)=>{const O=Ht(a);if(A.type===je.Starter&&A.category==="dalle"){requestAnimationFrame(()=>{u(),d(we.PictureV2,!0,{}),Zo(O)}),i.set(Uae(c));return}const R=A.title;i.set([]),O.focus(),Va(O,R),requestAnimationFrame(()=>{const H=b.filter(V=>V.theme===A.theme).map(V=>{const z=Cf(V.oneliner),$=z.startsWith(V.title);return P(C({},V),{title:$?"".concat(V.title," "):"",body:$?V.body:z,autocompletionChunks:eHe(R,z),type:je.Autocomplete})});i.set(H),L5(A,L,t)})},w=b==null?void 0:b.reduce((j,A)=>(A.theme&&!j[A.theme]&&(j[A.theme]=A),j),{}),S=[];if(w)for(const j in w)j!=="For you"&&S.push(w[j]);const k=S.length>0,M=!!(x&&k&&r);return ia.markStart("StarterPromptChips",ia.NS_COMPOSER),M&&ia.markRendered("StarterPromptChips",ia.NS_COMPOSER),{onSelectStarterPrompt:_,shouldShowStarterPrompts:M,promptStarters:S}};function i3(t=!1){const e=q(),n=Ki(e),r=n.getLayer("4031588851",{disableExposureLog:!t}),s=n.getLayer("3533083032",{disableExposureLog:!t});return Et(e)?r:s}const sHe=Je(()=>Ve(()=>import("./9z485wf4plyfoo73.js").then(t=>t.b),__vite__mapDeps([75,1,4,5,76,77,78,79,80,81,82])).then(t=>t.SnorlaxSplashScreen)),Fwt=({clientThreadId:t,currentModelId:e,onRequestCompletion:n,gizmoId:r})=>{const{data:s}=Ya(r),a=Mf(r),i=QY();return s==null?null:a?o.jsx(sHe,{clientThreadId:t,gizmoId:r,currentModelId:e,onRequestCompletion:n}):o.jsx(zae,{gizmo:s,showStarterPrompts:!0,disableStarterPrompts:i,clientThreadId:t,currentModelId:e})};function zae({gizmo:t,hideOwner:e=!1,children:n,className:r,avatarClassName:s,showStarterPrompts:a=!1,disableStarterPrompts:i=!1,clientThreadId:l,currentModelId:c}){return t==null?null:o.jsx(o.Fragment,{children:o.jsxs("div",{className:U("text-token-text-primary flex h-full flex-col items-center justify-center","screen-arch:min-h-[calc(100dvh-var(--thread-leading-height)-var(--thread-trailing-height)-12px)]",r),children:[o.jsx(aHe,{gizmo:t,avatarClassName:s}),o.jsx(iHe,{gizmo:t,hideOwner:e,showStarterPrompts:a,disableStarterPrompts:i,clientThreadId:l,currentModelId:c}),n]})})}function aHe({gizmo:t,avatarClassName:e}){var r;const n=!!(t!=null&&A2e(t)&&((r=t==null?void 0:t.gizmo.tags)!=null&&r.includes(jp.FirstParty)));return o.jsx("div",{className:"relative",children:o.jsx(a3,{isFirstParty:n||!t,src:t!=null&&H1(t)?t.profilePictureUrl:t==null?void 0:t.gizmo.display.profile_picture_url,className:U("mb-3 h-12 w-12",e)})})}function oHe({gizmo:t,disabled:e}){const n=AS(t),r=s1(),s=Us();if(n==null||n.length===0)return null;const a=n.slice(0,s?2:4);return o.jsx(cHe,{starterPrompts:a,onSelectStarterPrompt:r,disabled:e})}function iHe({gizmo:t,hideOwner:e,showStarterPrompts:n,disableStarterPrompts:r,clientThreadId:s,currentModelId:a}){const i=q(),{data:l,isLoading:c}=Ef({isGizmo:!0}),{gizmoModelsData:u,gizmoModelsLoading:d}=zY({enabled:!!t}),f=t!=null&&H1(t)?t.name:t==null?void 0:t.gizmo.display.name,m=t!=null&&H1(t)?t.description:t==null?void 0:t.gizmo.display.description,p=u==null?void 0:u.model_override,h=t!=null&&H1(t)?t.defaultModel:t==null?void 0:t.gizmo.default_model,v=h?p!=null&&p[h]?l==null?void 0:l.models.get(p==null?void 0:p[h]):l==null?void 0:l.models.get(h):null,y=Ql(),x=ie(i,"1854238036"),b=g.useCallback(()=>{!s||!v||(B.logEvent("GPTs: Landing Preferred Model Switch",{from:a,to:v.id}),Le.logEvent("chatgpt_gpts_landing_preferred_model_switch",v.id,{from:String(a!=null?a:""),to:v.id}),$6(i,v.id),y({modelId:v.id,location:"Gizmo landing preferred model"}))},[s,v,a,y,i]);return o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"text-center text-2xl font-semibold",children:f}),!e&&o.jsx("div",{className:"text-token-text-tertiary flex items-center gap-1",children:o.jsx(o.Fragment,{children:t&&H1(t)?o.jsx(TS,{gizmo:t}):o.jsx(TS,{gizmo:t,socials:t.gizmo.author.display_socials})})}),!c&&!d&&x&&v&&(a&&a!==v.id?o.jsxs("button",{onClick:b,className:"btn btn-blue btn-small flex items-center gap-1",children:[o.jsx(YY,{className:"icon-sm"}),o.jsx(N,{id:"6uu9eh",defaultMessage:"Switch to {modelTitle} (creator's recommended model)",values:{modelTitle:"".concat(v.title)}})]}):o.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 text-xs",children:[o.jsx(Zr,{style:{color:"gray",width:16,height:16}}),o.jsx(N,{id:"mcxm8w",defaultMessage:"Using the creator's recommended model: {modelTitle}",values:{modelTitle:"".concat(v.title)}})]})),m&&o.jsx("div",{className:"text-token-text-primary max-w-md text-center text-sm font-normal",children:m}),n&&o.jsx(oHe,{gizmo:t,disabled:r})]})}const lHe=/\s/;function cHe({starterPrompts:t,onSelectStarterPrompt:e,disabled:n,cssMobileDisplayLimit:r,marginOverride:s}){let a=t.map((i,l)=>{var d,f;let c=(d=i.oneliner)!=null?d:i.title;c===""&&(c=i.body);const u=lHe.test(c);return o.jsxs("button",{className:U(r!==void 0&&l>=r&&"max-sm:hidden","border-token-border-default shadow-xxs enabled:hover:bg-token-main-surface-secondary relative flex w-40 flex-col gap-2 rounded-2xl border px-3 pt-3 pb-4 text-start align-top text-[15px] transition disabled:cursor-not-allowed"),disabled:n,onClick:m=>e(m,i,t,l),children:[o.jsx(U7e,{category:i.category}),o.jsx("div",{className:U("line-clamp-3 max-w-full text-balance text-gray-600 dark:text-gray-500",u?"break-word":"break-all"),children:c})]},(f=i.id)!=null?f:l)});if(a.length>2){const i=Math.floor(a.length/2);a=[a.slice(0,i),a.slice(i)].map((l,c)=>o.jsx("div",{className:"flex max-w-3xl flex-wrap items-stretch justify-center gap-4",children:l},c))}return o.jsx("div",{className:U("mx-3 flex max-w-3xl flex-wrap items-stretch justify-center gap-4",s!=null?s:"mt-12"),children:a})}function Gae({gizmoResource:t}){const e=q(),n=Tt(),[r,s]=g.useState(!1);return t.gizmo.share_recipient===In.Private?null:o.jsx(J.Item,{onClick:async a=>{a.stopPropagation(),a.preventDefault();try{const i=t.gizmo.short_url?P2e(t.gizmo.short_url):window.location.origin.concat(Sf(e,t));await Uo(i,n,a),s(!0),setTimeout(()=>{s(!1)},2e3)}catch(i){ve.addError(i);return}},icon:X5,children:r?o.jsx(N,C({},aO.copiedURL)):o.jsx(N,C({},aO.copyLink))})}const aO=pe({copyLink:{defaultMessage:"Copy link",id:"GizmoInformation.copyLink"},copiedURL:{defaultMessage:"Copied URL",id:"GizmoInformation.copiedURL"}}),uHe=Je(()=>Ve(()=>import("./krkzgj7rwuflilz4.js"),__vite__mapDeps([83,1,4,5,84])).then(t=>t.GizmoKeepInSidebarMenuItem)),dHe=4;var TZ;const n4=Ge.div(TZ||(TZ=qe(["font-bold mt-6"]))),fHe=t=>ut({queryFn:async()=>Wo.getAbout(t),queryKey:["gizmo","about",{gizmoId:t}]}),mHe=t=>ut({queryFn:async()=>Wo.getCreatorSlice({creatorId:t}),queryKey:["gizmo","creator",{creatorId:t}],enabled:t!=null}),pHe=t=>{switch(t.type){case Vn.BROWSER:return{title:Pa.browsing};case Vn.CANVAS:return{title:Pa.canvas};case Vn.PYTHON:return{title:Pa.dataAnalysis};case Vn.DALLE:return{title:Pa.dalle};case Vn.IMAGE_GEN:return{title:Pa.imageGen};case Vn.MEMORY:return{title:Pa.memory,description:Pa.memoryDescription};case Vn.JIT_PLUGIN:return{title:Pa.actions,description:Pa.actionsDescription};default:return null}},gHe=({tools:t})=>{var a;const e=zo(),n=(e==null?void 0:e.includes(Dr.SearchTool))&&!(e!=null&&e.includes(Dr.SearchToolHoldout)),r=Xj(t!=null?t:[],i=>i.type);var s=Go((a=r.map(pHe).filter(i=>i!=null))!=null?a:[]);return s.length===0?null:(n&&(s=s.map(i=>i.title===Pa.browsing?{title:Pa.search}:i)),o.jsxs("div",{className:"flex flex-col",children:[o.jsx(n4,{className:"mb-2",children:o.jsx(N,{id:"gizmo.about.capabilitiesHeader",defaultMessage:"Capabilities"})}),s.map(i=>o.jsxs("div",{className:"flex flex-row items-start gap-2 py-1 text-sm",children:[o.jsx(Zr,{className:"icon-sm mt-0.5 text-green-600"}),o.jsxs("div",{children:[o.jsx(N,C({},i.title)),i.description!=null&&o.jsx("div",{className:"text-token-text-tertiary text-xs",children:o.jsx(N,C({},i.description))})]})]},i.title.id))]}))};var NZ;const h2=Ge.div(NZ||(NZ=qe(["flex flex-col justify-center items-center gap-2 border-s border-token-border-heavy first:border-0 w-48 mt-4 px-2"])));var AZ;const v2=Ge.div(AZ||(AZ=qe(["flex flex-row items-center gap-1.5 pt-1 text-xl font-semibold text-center leading-none"])));var PZ;const y2=Ge.div(PZ||(PZ=qe(["text-xs text-token-text-tertiary"]))),hHe=({gizmoResource:t})=>o.jsxs(Qa,{contentAlign:"end",sideOffset:4,triggerButton:o.jsx(oe,{color:"ghost",icon:Ja}),children:[o.jsx(uHe,{gizmoResource:t,location:"about_modal"}),o.jsx(Gae,{gizmoResource:t})]}),vHe=({aboutBlock:t})=>{var e;switch(t.type){case"generic_title_subtitle":return o.jsxs(h2,{children:[o.jsx(v2,{children:t.title}),o.jsx(y2,{children:t.subtitle})]});case"rating":return o.jsxs(h2,{children:[o.jsxs(v2,{children:[o.jsx($f,{className:"icon-sm"}),t.avg]}),o.jsx(y2,{children:t.count_str})]});case"category":return t.category_ranking!=null?o.jsxs(h2,{children:[o.jsx(v2,{children:o.jsx(N,{id:"gizmo.about.trendingRank",defaultMessage:"#{rank}",values:{rank:t.category_ranking}})}),o.jsx(y2,{children:o.jsx(N,{id:"gizmo.about.inCategory",defaultMessage:"in {category} {locale}",values:{category:t.category_str,locale:(e=t.category_locale_str)!=null?e:""}})})]}):o.jsxs(h2,{children:[o.jsx(v2,{children:t.category_str}),o.jsx(y2,{children:o.jsx(N,{id:"gizmo.about.category",defaultMessage:"Category"})})]})}},yHe=({blocks:t})=>o.jsx("div",{className:"flex justify-center",children:t.map(e=>o.jsx(vHe,{aboutBlock:e},e.type))}),xHe=({href:t,onClick:e,children:n})=>o.jsx(Se.div,{whileTap:{scale:.98},className:"flex",children:o.jsxs(mr,{to:t,reloadDocument:!0,onClick:e,className:U("group border-token-border-medium bg-token-main-surface-primary hover:bg-token-main-surface-secondary relative ms-2 h-14 min-w-full grow rounded-xl border px-4 focus:outline-hidden"),children:[o.jsx("div",{className:"flex h-full items-center",children:o.jsx("div",{className:"line-clamp-2 text-sm break-all",children:n})}),o.jsx("div",{className:"border-token-border-medium bg-token-main-surface-primary group-hover:bg-token-main-surface-secondary absolute -start-2 -bottom-px h-3 w-4 border-b",children:o.jsx("div",{className:"border-token-border-medium bg-token-main-surface-primary h-3 w-2 rounded-ee-full border-e border-b"})}),o.jsx("div",{className:"absolute end-2 top-0 bottom-0 hidden items-center group-hover:flex",children:o.jsx("div",{className:"bg-token-main-surface-primary flex h-8 w-8 items-center justify-center rounded-lg",children:o.jsx(bc,{className:"icon text-token-text-primary"})})})]})}),bHe=({gizmo:t,onClose:e})=>{var a;const n=q(),r=ie(n,"1825130190"),s=(a=t.gizmo.display.prompt_starters)==null?void 0:a.slice(0,dHe);return s==null||s.length===0||!r?null:o.jsxs("div",{className:"flex flex-col",children:[o.jsx(n4,{children:o.jsx(N,{id:"gizmo.about.conversationStartersHeader",defaultMessage:"Conversation Starters"})}),o.jsx("div",{className:"mt-4 grid grid-cols-2 gap-x-1.5 gap-y-2",children:s.map((i,l)=>o.jsx(CHe,{gizmo:t,prompt:i,onClick:e},l))})]})};function CHe({gizmo:t,prompt:e,onClick:n}){var a;const r=q(),s=I2e(r,t,e);return o.jsx(xHe,{href:(a=s==null?void 0:s.toString())!=null?a:"#",onClick:n,children:e})}const _He=({reviewStats:t})=>{const e=q();return ie(e,"1825130190")?o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"mb-2",children:o.jsx(n4,{children:o.jsx(N,{id:"gizmo.about.ratingsHeader",defaultMessage:"Ratings"})})}),t!=null?[5,4,3,2,1].map(r=>{var s;return o.jsxs("div",{className:"flex flex-row items-center gap-2 py-1 text-xl font-semibold",children:[o.jsxs("div",{className:"icon-lg relative",children:[o.jsx($f,{className:"icon-lg text-green-500"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-[11px] text-white",children:r})]}),o.jsx("div",{className:"h-2.5 grow overflow-hidden rounded-full bg-gray-100 dark:bg-gray-700",children:o.jsx("div",{className:"h-full bg-green-500",style:{width:"".concat(((s=t==null?void 0:t.by_rating[r-1])!=null?s:0)*100,"%")}})})]},r)}):o.jsx("div",{className:"text-token-text-tertiary text-sm",children:o.jsx(N,{id:"gizmo.about.ratings.notEnoughRatings",defaultMessage:"Not enough ratings yet"})})]}):null},wHe=({gizmoId:t,creatorId:e,onClose:n})=>o.jsx(SHe,{gizmoId:t,creatorId:e,onClose:n}),SHe=({gizmoId:t,creatorId:e,onClose:n,children:r})=>{const s=Ya(t),a=fHe(t),i=mHe(e);return g.useEffect(()=>{B.logEvent("Detail Show Modal",{gizmo_id:t})},[t]),o.jsx(tt,{testId:"modal-gizmo-about",isOpen:!0,onClose:n,type:"success",hideSeparator:!0,showCloseButton:!0,noPadding:!0,className:"flex h-[calc(100vh-25rem)] min-h-[40vh] max-w-xl flex-col",children:o.jsx(kHe,{aboutQuery:a,gizmoQuery:s,creatorSliceQuery:i,onClose:n,children:r})})},kHe=({aboutQuery:t,gizmoQuery:e,creatorSliceQuery:n,children:r,onClose:s})=>{var u,d,f,m;const a=Z();if(t.isLoading||e.isLoading||n.isLoading)return o.jsx("div",{className:"flex h-40 items-center justify-center pb-10",children:o.jsx(On,{})});const i=(u=t.data)==null?void 0:u.gizmo,l=n==null?void 0:n.data,c=e==null?void 0:e.data;if(!i||t.error||e.error||n.error||t.data==null||e.data==null||n.data==null||!c){const p=(m=B6((f=(d=t.error)!=null?d:e.error)!=null?f:n.error))!=null?m:a.formatMessage({id:"I3v3Oj",defaultMessage:"An error occurred loading this GPT."});return o.jsx("div",{className:"relative flex flex-col gap-2 overflow-hidden px-2 py-4",children:o.jsx("div",{className:"flex flex-col p-4 text-red-500",children:p})})}return o.jsx("div",{className:"flex h-full px-2 py-4",children:o.jsxs("div",{className:"relative flex grow flex-col gap-4 overflow-y-auto px-8 pt-16 pb-20",children:[o.jsx("div",{className:"absolute top-0",children:o.jsxs("div",{className:"from-token-main-surface-primary fixed start-4 end-4 z-10 flex items-center justify-end bg-linear-to-b to-transparent pb-2",children:[c&&o.jsx(hHe,{gizmoResource:c}),o.jsx(gn,{onClick:s})]})}),o.jsx("div",{className:"absolute bottom-[64px]",children:o.jsx("div",{className:"from-token-main-surface-primary fixed start-4 end-4 z-10 flex min-h-[64px] items-end bg-linear-to-t to-transparent px-2",children:r})}),o.jsx(zae,{gizmo:c,className:"h-fit!",avatarClassName:"h-20! w-20!"}),o.jsx(yHe,{blocks:t.data.about_blocks}),o.jsx(bHe,{gizmo:c,onClose:s}),o.jsx(gHe,{tools:c.tools}),o.jsx(_He,{reviewStats:t.data.review_stats}),l&&o.jsx(MHe,{gizmos:l.items})]})})};function MHe({gizmos:t}){const e=q();return t.length===0?null:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"mb-2",children:o.jsx(n4,{children:o.jsx(N,{id:"gizmo.about.moreByHeader",defaultMessage:"More by {creatorName}",values:{creatorName:t[0].gizmo.author.display_name}})})}),o.jsx("div",{className:U("no-scrollbar group flex min-h-[104px] items-center space-x-2 overflow-x-auto overflow-y-hidden"),children:t==null?void 0:t.map(n=>o.jsx("a",{onClick:()=>{B.logEvent("Detail Click Gizmo",{gizmo_id:n.gizmo.id})},href:Sf(e,n),className:"bg-token-main-surface-secondary h-fit min-w-fit rounded-xl px-1 py-4 md:px-3 md:py-4 lg:px-3",children:o.jsx(wUe,{resource:n})},n.gizmo.id))})]})}const Bwt=t=>o.jsx("div",{className:"flex grow flex-col items-center",children:o.jsxs(oe,P(C({color:"primary",className:"h-12 w-full",icon:bc},t),{children:[o.jsx(N,{id:"gizmo.about.startChat",defaultMessage:"Start Chat"}),t.children]}))}),Pa=pe({browsing:{id:"gizmo.about.tools.browsing",defaultMessage:"Browsing"},canvas:{id:"gizmo.about.tools.canvas",defaultMessage:"Canvas"},search:{id:"gizmo.about.tools.search",defaultMessage:"Web Search"},dataAnalysis:{id:"gizmo.about.tools.dataAnalysis",defaultMessage:"Code Interpreter & Data Analysis"},dalle:{id:"gizmo.about.tools.dalle",defaultMessage:"DALLÂ·E Images"},imageGen:{id:"gizmo.about.tools.imageGen",defaultMessage:"4o Image Generation"},memory:{id:"gizmo.about.tools.memory",defaultMessage:"Memory"},actions:{id:"gizmo.about.tools.actions",defaultMessage:"Actions"},actionsDescription:{id:"gizmo.about.tools.actionsDescription",defaultMessage:"Retrieves or takes actions outside of ChatGPT"},memoryDescription:{id:"gizmo.about.tools.memoryDescription",defaultMessage:"Learns from previous chats to improve future conversations"}});function EHe(t,e){var r;const n=(r=t!=null?t:e)!=null?r:0;return U(t!=null&&t!=e&&"opacity-50 dark:opacity-60",n>4?"text-brand-purple":n>3?"text-green-500":n>2?"text-yellow-500":n>1?"text-orange-500":"text-red-500")}function jHe(t){switch(t){case 1:return ds.hoverRating1;case 2:return ds.hoverRating2;case 3:return ds.hoverRating3;case 4:return ds.hoverRating4;case 5:return ds.hoverRating5}}function THe(t){return ut({queryFn:async()=>Wo.getUserReview(t),queryKey:["gizmo","review",{gizmoId:t}],enabled:t!=null})}const Wae=({rating:t,onRating:e,className:n})=>{const[r,s]=g.useState(),a=Z();return o.jsx("div",{className:U("flex flex-row",n),children:[1,2,3,4,5].map(i=>{var d;const l=o.jsx($f,{className:U("icon-2xl cursor-pointer",((d=r!=null?r:t)!=null?d:0)>=i?EHe(r,t):"text-token-main-surface-tertiary")}),c=jHe(r!=null?r:0),u=c&&a.formatMessage(c);return o.jsx("div",{onClick:()=>{e(i)},onMouseEnter:()=>{s(i)},onMouseLeave:()=>{s(void 0)},className:"p-1",children:c?o.jsx(wt,{label:u,side:"top",children:l}):l},i)})})},NHe=({gizmo:t,onClose:e})=>{var x,b,_;const n=Wt(),r=Z(),s=Tt(),[a,i]=g.useState(""),[l,c]=g.useState(!1),[u,d]=g.useState(),f=THe(t.gizmo.id),m=JY(t.gizmo.id),p=u===((x=f.data)==null?void 0:x.rating);g.useEffect(()=>{f.data!=null&&u==null&&d(f.data.rating)},[f.data,u]),g.useEffect(()=>{B.logEvent("Show Rating Modal",{gizmo_id:t.gizmo.id})},[t.gizmo.id]);const h=f.data!=null,v=!((b=t.gizmo.tags)!=null&&b.includes(jp.FirstParty))&&t.gizmo.author.will_receive_support_emails,y=(_=t.gizmo.tags)==null?void 0:_.includes(jp.Workspace);return o.jsx(tt,{testId:"modal-gizmo-review",type:"success",title:o.jsxs("div",{children:[o.jsx(N,C({},ds.title)),o.jsxs("div",{className:"align-end mt-2 flex text-sm font-normal",children:[h?o.jsx(N,C({},ds.subtitleChange)):o.jsx(N,C({},ds.subtitle)),o.jsx(wt,{label:r.formatMessage(y?ds.subtitleTooltipPrivate:ds.subtitleTooltip),className:"ms-1 flex cursor-pointer items-center ps-1",children:o.jsx("div",{className:"icon-xs border-token-text-tertiary text-token-text-tertiary flex items-center justify-center rounded-full border text-[8px] font-bold",children:"i"})})]})]}),isOpen:!0,onClose:e,size:"custom",showCloseButton:!0,className:"max-w-xl overflow-y-auto",hideSeparator:!0,children:o.jsxs("div",{className:"flex grow flex-col space-y-8",children:[o.jsx(Wae,{rating:u,onRating:d,className:"mx-auto flex flex-row items-center"}),v&&o.jsxs("div",{children:[o.jsx(Hj,{className:"mb-1 w-full resize-none overflow-y-auto rounded-md bg-transparent focus:border-gray-200 focus:ring-gray-200 dark:focus:border-white dark:focus:ring-white",placeholder:r.formatMessage(ds.messagePlaceholder),value:a,rows:1,onChange:w=>i(w.target.value)}),o.jsxs("div",{className:U("flex flex-row items-center space-x-2 self-start",a.length>0?"text-token-text-primary":"text-token-text-tertiary"),children:[o.jsx("input",{type:"checkbox",className:"rounded-sm",checked:l,onChange:w=>c(w.target.checked)}),n&&o.jsx("span",{className:"text-sm",children:o.jsx(N,P(C({},ds.includeFrom),{values:{email:o.jsx("strong",{children:n.email})}}))})]})]}),o.jsx(oe,{color:"primary",disabled:p,onClick:async()=>{if(u==null){s.warning("Please select a rating");return}B.logEvent("Submit Rating Modal",{gizmo_id:t.gizmo.id,rating:u}),await m.mutateAsync({rating:u,message:a.length>0?a:void 0,includeFrom:a.length>0?l:void 0}),s.success(r.formatMessage(ds.successToast),{duration:3}),e()},children:o.jsx(N,C({},ds.submit))})]})})},ds=pe({title:{id:"GizmoReviewModal.title",defaultMessage:"Leave Feedback"},subtitle:{id:"GizmoReviewModal.subtitle",defaultMessage:"How would you rate this GPT?"},subtitleChange:{id:"GizmoReviewModal.subtitleChange",defaultMessage:"Would you like to change your rating?"},subtitleTooltip:{id:"GizmoReviewModal.subtitleTooltip",defaultMessage:"Stars will be public and anonymous"},subtitleTooltipPrivate:{id:"GizmoReviewModal.subtitleTooltipPrivate",defaultMessage:"Stars are anonymous and will only be visible to your workspace"},messagePlaceholder:{id:"GizmoReviewModal.messagePlaceholder",defaultMessage:"Add an optional private email to the creator"},submit:{id:"GizmoReviewModal.submit",defaultMessage:"Submit"},successToast:{id:"GizmoReviewModal.successToast",defaultMessage:"Review sent"},includeFrom:{id:"GizmoReviewModal.includeFrom",defaultMessage:"Include my email address {email}"},hoverRating1:{id:"GizmoReviewModal.hoverRating1",defaultMessage:"Bad"},hoverRating2:{id:"GizmoReviewModal.hoverRating2",defaultMessage:"Okay"},hoverRating3:{id:"GizmoReviewModal.hoverRating3",defaultMessage:"Good"},hoverRating4:{id:"GizmoReviewModal.hoverRating4",defaultMessage:"Great!"},hoverRating5:{id:"GizmoReviewModal.hoverRating5",defaultMessage:"Excellent!"}});function AHe(t,e,n){const{data:r}=Ef({isGizmo:!0}),s=tl(t),a=s==null?void 0:s.id,{modelLabel:i}=eQ(a,r),l=tQ(),c=nQ(t,l,void 0,e,n);return{modelLabel:i,dropdownSections:c}}function PHe({show:t,clientThreadId:e,gizmoHasCustomActions:n,preferredModelId:r}){const{modelLabel:s,dropdownSections:a}=AHe(e,n,r);return t?o.jsxs(J.Sub,{onOpenChange:i=>{i&&B.logEvent("GPTs: Breadcrumb Picker Model Picker Open")},children:[o.jsx(J.SubMenuTrigger,{children:o.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[o.jsx(N,{id:"ilkdMh",defaultMessage:"Model"}),o.jsx("span",{className:"text-token-text-secondary text-xs font-medium",children:s})]})}),o.jsx(J.Portal,{children:o.jsx(J.SubContent,{onClick:()=>{B.logEvent("GPTs: Breadcrumb Picker Model Picker Select")},children:o.jsx(XY,{sections:a})})})]}):null}const IHe=Je(()=>Ve(()=>import("./mnage1jfoeko21ag.js"),__vite__mapDeps([85,1,4,5]))),LHe=Je(()=>Ve(()=>import("./krkzgj7rwuflilz4.js"),__vite__mapDeps([83,1,4,5,84])).then(t=>t.GizmoKeepInSidebarMenuItem));function RHe({children:t,clientThreadId:e,gizmoResource:n,showReportModal:r,showGizmoModelPicker:s}){return o.jsx(o.Fragment,{children:o.jsx(Qa,{size:"small",triggerButton:t,children:o.jsx(Zae,{clientThreadId:e,gizmoResource:n,showReportModal:r,showGizmoModelPicker:s})})})}function Zae({clientThreadId:t,gizmoResource:e,showReportModal:n,showGizmoModelPicker:r}){var M,E;const{canEdit:s}=L2e(e),{canCreate:a}=R2e(),{canViewConfig:i}=O2e(e),l=D2e(e.gizmo.id),c=zo(),u=F2e(e),d=e.gizmo.share_recipient===In.Marketplace||e.gizmo.share_recipient===In.Link,f=!u&&d,m=q(),h=ie(m,"1825130190")&&!u&&rQ(e),v=(c==null?void 0:c.includes(Dr.GizmoSupportEmails))&&!u&&e.gizmo.author.will_receive_support_emails&&h,y=B2e(),x=kn(t),b=Uj(Dr.WorkspaceShareLinks),{isUnauthenticated:_}=An(),w=b&&x&&!_,S=it(),k=Mr();return o.jsxs(o.Fragment,{children:[o.jsx(PHe,{show:r,clientThreadId:t,gizmoHasCustomActions:use(e.tools),preferredModelId:(M=e.gizmo.default_model)!=null?M:void 0}),o.jsx(J.Item,{onClick:()=>{B.logNewChatButtonClicked({location:"Gizmo information dropdown",gizmo_id:e.gizmo.id}),Hf(S,"/g/".concat(e.gizmo.short_url))},icon:I0,children:o.jsx(N,C({},br.newChat))}),o.jsx(J.Item,{onClick:()=>Dt(m,wHe,{gizmoId:e.gizmo.id,creatorId:e.gizmo.author.user_id}),icon:Hs,children:o.jsx(N,C({},br.about))}),((E=e.tools)==null?void 0:E.find(T=>T.type===Vn.JIT_PLUGIN))&&o.jsx(J.Item,{onClick:()=>Dt(m,HDe,{gizmo:e}),icon:Ua,children:o.jsx(N,C({},br.privacySettings))}),s&&o.jsx(J.Item,{onClick:()=>{S(l)},icon:E0,children:o.jsx(N,C({},br.customize))}),!s&&i&&o.jsxs(o.Fragment,{children:[o.jsx(J.Item,{onClick:()=>{S("/g/".concat(e.gizmo.id,"/view"))},icon:D0,children:o.jsx(N,{id:"GizmoInformation.viewGizmoLabel",defaultMessage:"View configuration"})}),a&&o.jsx(J.Item,{onClick:async()=>{const T=await Wo.copyGizmo({gizmoId:e.gizmo.id});T.gizmo.id&&S("/gpts/editor/".concat(T.gizmo.id))},icon:Y0,children:o.jsx(N,{id:"GizmoInformation.copyGizmoLabel",defaultMessage:"Duplicate GPT"})})]}),o.jsx(LHe,{gizmoResource:e,location:"conversation_page"}),o.jsx(Gae,{gizmoResource:e}),v&&o.jsx(J.Item,{onClick:()=>Dt(m,FDe,{gizmo:e}),icon:bc,children:o.jsx(N,C({},br.feedbackEmail))}),h&&o.jsx(J.Item,{onClick:()=>Dt(m,NHe,{gizmo:e}),icon:ise,children:o.jsx(N,C({},br.reviewGPT))}),f&&o.jsx(J.Item,{onClick:n,icon:Q0,children:o.jsx(N,C({},br.reportGPT))}),w&&o.jsx(J.Item,{onClick:()=>pn.openSharingModal(x),icon:Bo,children:o.jsx(N,C({},br.shareChat))}),y&&o.jsxs(o.Fragment,{children:[o.jsx(J.Separator,{}),o.jsx(J.Item,{color:"danger",onClick:()=>{Dt(m,({onClose:T})=>o.jsx(IHe,{gpt:e,account:k,isOpen:!0,onClose:T}))},icon:lr,children:o.jsx(N,{defaultMessage:"Remove GPT from workspace",id:"GizmoInformation.removeGPT"})})]}),(c==null?void 0:c.includes("debug"))&&o.jsxs(o.Fragment,{children:[o.jsx(J.Separator,{}),o.jsx(J.Item,{onClick:()=>{S(U2e(e))},children:"(Internal) See share page"})]})]})}const OHe=({conversation:t,isActiveConversation:e,inMainScreen:n=!1,inChatWindow:r=!1,inOrla:s=!1})=>{var me,W,K;const a=q(),i=Mr(),l=t.id,c=t.gizmo_id,u=Mf(c),d=ie(a,"3376455464"),f=ie(a,"16480203"),m=ie(a,"2560369700"),p=kt(l),h=Uj(Dr.WorkspaceShareLinks),{isUnauthenticated:v}=An(),y=LY(),x="owner"in t?(me=t.owner)==null?void 0:me.user_id:null,b=x==null||x===(i==null?void 0:i.normalizedAccountUserId),[_,w]=Te(l,ne=>[ne==null?void 0:ne.isStarred,ne==null?void 0:ne.continuingFromSharedProjectConversationId]),{shouldShowProjectsChatShareModal:S,openProjectsChatShareModal:k}=tUe({clientThreadId:l}),M=h&&(p||w)&&!v&&(!u||f),[E,T]=g.useState(!!t.is_do_not_remember),j=_!=null?_:!!t.is_starred,A=Z();let I=null;const{snorlaxes:L}=gse();I=L;let O=null;u&&I&&(O=(W=I.find(({gizmo:ne})=>ne.gizmo.id===c))==null?void 0:W.gizmo);const R=dse(),{mutate:H}=bFe(),V=pt(),{eligible:z,markAsViewed:$}=$e(We.ArchiveConversationOnboarding),D=Tt(),Y=it(),G=Yt(Xa)&&Np(a),F=Er(),X=async()=>{await ue.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:t.id}},requestBody:{is_archived:!0}}),os(V,t.gizmo_id),Le.logEvent("chatgpt_conversation_archived"),B.logEvent("Conversation Archived"),z&&(D.info(A.formatMessage({defaultMessage:"You can view archived chats in Settings",id:"HistoryGizmoItem.archiveChatOnboarding"}),{duration:10,hasCloseButton:!0}),$()),e&&Hf(Y)},te=()=>{const ne=!j;H({conversation:t,isStarred:ne}),B.logEvent(ne?"Conversation Pinned":"Conversation Unpinned")},ae=[M&&(!r||G)&&o.jsx(J.Item,{onClick:()=>S?k():pn.openSharingModal(p,"History Item Menu"),icon:Bo,"data-testid":"share-chat-menu-item",children:o.jsx(N,C({},br.shareChat))},"share"),!1,!r&&!s&&b&&o.jsx(J.Item,{disabled:!p,onClick:()=>{setTimeout(()=>{p&&rae.publish({kind:n?"editTitleInMainScreen":"editTitle",serverThreadId:p})},100)},icon:hc,children:o.jsx(N,C({},br.renameChat))},"rename"),y&&!F&&b&&I&&(I==null?void 0:I.length)>0&&mw(c,j)&&p&&o.jsxs(be.Fragment,{children:[u&&o.jsxs(o.Fragment,{children:[I.length>1&&o.jsxs(J.Sub,{children:[o.jsx(J.SubMenuTrigger,{icon:Iu,children:o.jsx(N,C({},xt.moveConversationToSnorlax))}),o.jsx(J.Portal,{children:o.jsx(J.SubContent,{children:o.jsx(ES,{inSidebarFlyout:!1,onUpdateConversationGizmo:ne=>R({newGizmoId:ne,conversation:t,previousGizmoId:c!=null?c:null}),currentGizmoId:c})})})]}),o.jsx(J.Item,{onClick:()=>{R({newGizmoId:null,conversation:t,previousGizmoId:c!=null?c:null})},icon:lse,children:o.jsx("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:o.jsx(N,P(C({},xt.removeConversationFromSnorlax),{values:{projectName:(K=O==null?void 0:O.gizmo.display.name)!=null?K:"project"}}))})})]}),!u&&o.jsxs(J.Sub,{children:[o.jsx(J.SubMenuTrigger,{icon:Iu,children:A.formatMessage(xt.addConversationToSnorlax)}),o.jsx(J.Portal,{children:o.jsx(J.SubContent,{children:o.jsx(ES,{inSidebarFlyout:!1,onUpdateConversationGizmo:ne=>R({newGizmoId:ne,conversation:t,previousGizmoId:c!=null?c:null})})})})]})]},"snorlax")].filter(Boolean);return o.jsxs(o.Fragment,{children:[ae,o.jsx(J.Separator,{className:"first:hidden last:hidden"}),o.jsx(Qj,{children:({openScheduleModal:ne,isScheduled:re,isSchedulable:le})=>le||re?o.jsx(J.Item,{onClick:ne,disabled:!p,icon:zi,children:o.jsx(N,C({},re?br.editSchedule:br.scheduleTask))}):null}),!c&&m&&o.jsx(J.Item,{disabled:!p,onClick:te,icon:j?Bg:$f,iconAriaLabel:A.formatMessage(j?br.unpinChat:br.pinChat),children:j?o.jsx(N,C({},br.unpinChat)):o.jsx(N,C({},br.pinChat))}),b&&!F&&o.jsx(J.Item,{disabled:!p,onClick:()=>{p&&X()},icon:ose,children:o.jsx(N,C({},br.archiveChat))}),!1,d&&r&&o.jsx(J.Item,{icon:Q0,onClick:()=>{pn.openModal(Yl.ReportConversation)},children:c?o.jsx(N,{id:"thread.reportConversation",defaultMessage:"Report conversation"}):o.jsx(N,{id:"thread.report",defaultMessage:"Report"})}),o.jsx(J.Item,{color:"danger",disabled:!p,onClick:()=>{p&&Dt(a,Vj,{conversationTitle:t.title,serverThreadId:p,isActiveConversation:e,gizmoId:c})},icon:_c,"data-testid":"delete-chat-menu-item",children:o.jsx(N,C({},br.deleteChat))})]})};function DHe({clientThreadId:t,gizmoId:e,conversationTitle:n,conversationAsyncStatus:r,isDoNotRemember:s,isStarred:a}){return{id:t,title:n!=null?n:"",create_time:null,update_time:null,owner:null,conversation_template_id:null,async_status:r!=null?r:null,gizmo_id:e!=null?e:null,snippet:null,is_do_not_remember:s,is_starred:a}}const FHe=c=>{var u=c,{conversation:t,children:e,isActiveConversation:n,onOpenChange:r,inMainScreen:s=!1,inChatWindow:a=!1,inOrla:i=!1}=u,l=de(u,["conversation","children","isActiveConversation","onOpenChange","inMainScreen","inChatWindow","inOrla"]);const[d,f]=g.useState(!1);return o.jsx(Qa,P(C({},l),{open:d,onOpenChange:m=>{f(m),r==null||r(m)},side:"bottom",contentAlign:a?"end":"start",alignOffset:a?0:-8,sideOffset:a?0:-4,triggerButton:e,size:"auto",children:d&&o.jsx(OHe,{conversation:t,inMainScreen:s,isActiveConversation:n,inChatWindow:a,inOrla:i})}))},br=pe({newChat:{defaultMessage:"New chat",id:"GizmoInformation.newChat"},about:{defaultMessage:"About",id:"GizmoInformation.about"},privacySettings:{defaultMessage:"Privacy settings",id:"GizmoInformation.privacySettings"},viewDetails:{defaultMessage:"View details",id:"GizmoInformation.viewDetails"},share:{defaultMessage:"Share",id:"GizmoInformation.share"},favorite:{defaultMessage:"Favorite",id:"GizmoInformation.favorite"},customize:{defaultMessage:"Edit GPT",id:"GizmoInformation.customize"},feedbackEmail:{defaultMessage:"Send feedback",id:"GizmoInformation.feedbackEmail"},reviewGPT:{defaultMessage:"Review GPT",id:"GizmoInformation.reviewGPT"},report:{defaultMessage:"Report",id:"GizmoInformation.report"},reportGPT:{defaultMessage:"Report GPT",id:"GizmoInformation.reportGPT"},privacy:{defaultMessage:"Privacy",id:"GizmoInformation.privacy"},deleteChat:{defaultMessage:"Delete",id:"GizmoInformation.deleteChat.0"},debugChat:{defaultMessage:"(Internal) Debug",id:"GizmoInformation.debugChat"},renameChat:{defaultMessage:"Rename",id:"GizmoInformation.renameChat"},scheduleTask:{id:"7e1pG9",defaultMessage:"Schedule"},editSchedule:{id:"qzM4nO",defaultMessage:"Edit schedule"},archiveChat:{defaultMessage:"Archive",id:"GizmoInformation.archiveChat.0"},shareChat:{defaultMessage:"Share",id:"GizmoInformation.shareChat"},shareChatLong:{defaultMessage:"Share chat",id:"GizmoInformation.shareChatLong"},pinChat:{defaultMessage:"Pin chat",id:"GizmoInformation.pinChat"},unpinChat:{defaultMessage:"Unpin chat",id:"GizmoInformation.unpinChat"}}),BHe=Object.freeze(Object.defineProperty({__proto__:null,GizmoConversationOptionsDropdown:FHe,GizmoInformationDropdown:RHe,GizmoInformationDropdownItems:Zae,buildConversationResponse:DHe},Symbol.toStringTag,{value:"Module"}));function Kae(t){return o.jsx(Vf,P(C({},t),{icon:Ja}))}const e8={enableNewSidebarCTAs:()=>!1,enableNewSplashUpgradeBanner:()=>!1,newUpsellsDismissible:()=>!1};function Uwt(){const t=q(),e=ze(t,"1435014612");return{enableNewSidebarCTAs:()=>e.get("enable_new_sidebar_upsells",e8.enableNewSidebarCTAs()),enableNewSplashUpgradeBanner:()=>e.get("enable_new_splash_upgrade_banner",e8.enableNewSplashUpgradeBanner()),newUpsellsDismissible:()=>e.get("new_upsells_dismissible",e8.newUpsellsDismissible())}}function Yae(){const t=q(),{data:e}=Ds();return Et(t)&&!!e&&!$u(e)}const xm={enableProfileUpgradePill:!1,enableUpgradeMenuSparkleIcon:!1,enableTinybarUpgradeBtn:!1,enableThreadHeaderUpgradePill:!0};function UHe(){const t=q();if(!Yae())return xm;const n=ze(t,"772164167");return{enableProfileUpgradePill:n.get("enable_profile_upgrade_pill",xm.enableProfileUpgradePill),enableUpgradeMenuSparkleIcon:n.get("enable_upgrade_menu_sparkle_icon",xm.enableUpgradeMenuSparkleIcon),enableTinybarUpgradeBtn:n.get("enable_tinybar_upgrade_btn",xm.enableTinybarUpgradeBtn),enableThreadHeaderUpgradePill:n.get("enable_thread_header_upgrade_pill",xm.enableThreadHeaderUpgradePill)}}function HHe(t){const e=Z(),n=Tt();return ut({queryKey:["organization-subscription",t],queryFn:async()=>await ue.safeGet("/subscriptions",{parameters:{query:t}}).catch(r=>(n.danger(e.formatMessage(oO.subscriptionLoadError,{error:r.message}),{toastId:"subscription_data",loggingTitle:oO.subscriptionLoadError.defaultMessage,loggingDescription:"Failed to load subscription"}),null)),enabled:t.account_id!=null||t.organization_id!=null})}function Qae(){var s;const t=Mr(),e=t==null?void 0:t.id,n=(s=t==null?void 0:t.data.organizationId)!=null?s:void 0,r=t==null?void 0:t.isEnterprisey();return HHe(r?{organization_id:n}:{account_id:e})}function Hwt(t,e,n,r,s=!1){return ut({queryKey:["get-subscription-update-preview",e,r,n],queryFn:async()=>await ue.safeGet("/subscriptions/update/preview",{parameters:{query:{account_id:t,updated_plan:n,updated_seats:e,updated_promo_id:r}}}),enabled:!s})}function Vwt(t){const e=pt();return Vt({mutationFn:async n=>ue.safePost("/subscriptions/cancel",{requestBody:{account_id:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["organization-subscription",{account_id:t}]}),e.invalidateQueries(H2e())}})}function $wt(t){const e=pt();return Vt({mutationFn:async n=>ue.safePost("/subscriptions/renew",{requestBody:{account_id:n}}),onSuccess:()=>{e.invalidateQueries({queryKey:["organization-subscription",{account_id:t}]})}})}function VHe(t){const e=pt();return Vt({mutationFn:({accountId:n,updatedPlan:r,updatedSeats:s,updatedPriceInterval:a,updatedPromoId:i,updatedPromoCode:l,updatedPromoCampaign:c})=>ue.safePost("/subscriptions/update",{requestBody:{account_id:n,updated_plan:r,updated_seats:s,updated_price_interval:a,updated_promo_id:i,updated_promo_code:l,updated_promo_campaign:c}}),onSuccess:()=>{e.invalidateQueries({queryKey:["organization-subscription",{account_id:t}]})}})}const oO=pe({subscriptionLoadError:{id:"useSubscriptionData.subscriptionLoadError",defaultMessage:"Failed to load subscription: {error}. Contact support@openai.com if error persists."}}),$He=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.3662 13.8887C10.1082 14.0589 9.75749 14.0306 9.53027 13.8037L6.61328 10.8867L6.52832 10.7822C6.35798 10.5242 6.38621 10.1735 6.61328 9.94629C6.84051 9.71932 7.19121 9.691 7.44922 9.86133L7.55371 9.94629L9.33496 11.7275L9.33496 6.66601C9.3353 6.29914 9.63309 6.00115 10 6.00098C10.3669 6.00111 10.6647 6.29912 10.665 6.66601L10.665 11.7275L12.4463 9.94629L12.5508 9.86133C12.8089 9.69084 13.1604 9.71905 13.3877 9.94629C13.6469 10.2059 13.6468 10.6271 13.3877 10.8867L10.4707 13.8037L10.3662 13.8887Z"}),g.createElement("path",{d:"M10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62866 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915ZM10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.36321 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585Z"})),qwt=Object.freeze(Object.defineProperty({__proto__:null,default:$He},Symbol.toStringTag,{value:"Module"})),qHe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 11.9528 4.26592 13.7062 5.61621 14.9121C6.6544 13.6452 8.23235 12.835 10 12.835C11.7674 12.835 13.3447 13.6454 14.3828 14.9121C15.7334 13.7062 16.585 11.9531 16.585 10ZM10 14.165C8.67626 14.165 7.49115 14.7585 6.69531 15.6953C7.66679 16.2602 8.79525 16.585 10 16.585C11.2041 16.585 12.3316 16.2597 13.3027 15.6953C12.5069 14.759 11.3233 14.1651 10 14.165ZM11.835 8.5C11.835 7.48656 11.0134 6.66504 10 6.66504C8.98656 6.66504 8.16504 7.48656 8.16504 8.5C8.16504 9.51344 8.98656 10.335 10 10.335C11.0134 10.335 11.835 9.51344 11.835 8.5ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10ZM13.165 8.5C13.165 10.248 11.748 11.665 10 11.665C8.25202 11.665 6.83496 10.248 6.83496 8.5C6.83496 6.75202 8.25202 5.33496 10 5.33496C11.748 5.33496 13.165 6.75202 13.165 8.5Z"})),zwt=Object.freeze(Object.defineProperty({__proto__:null,default:qHe},Symbol.toStringTag,{value:"Module"})),zHe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.0017 8.33331C16.0017 7.78011 15.553 7.33136 14.9998 7.33136H12.3318V16.0013H16.0017V8.33331ZM11.0017 5.00031C11.0017 4.4471 10.553 3.99835 9.99976 3.99835H4.99976C4.4467 3.99853 3.99878 4.44721 3.99878 5.00031V16.0013H6.83472V14.1663C6.83489 13.7993 7.13274 13.5015 7.49976 13.5013C7.86692 13.5013 8.16462 13.7992 8.16479 14.1663V16.0013H11.0017V5.00031ZM12.3318 6.00128H14.9998C16.2875 6.00128 17.3318 7.04557 17.3318 8.33331V16.0013H18.3337L18.4675 16.015C18.7704 16.077 18.9986 16.3451 18.9988 16.6663C18.9988 16.9876 18.7705 17.2556 18.4675 17.3177L18.3337 17.3314H1.66675C1.29948 17.3314 1.00171 17.0336 1.00171 16.6663C1.00188 16.2992 1.29959 16.0013 1.66675 16.0013H2.6687V5.00031C2.6687 3.71267 3.71216 2.66845 4.99976 2.66827H9.99976C11.2875 2.66827 12.3318 3.71256 12.3318 5.00031V6.00128Z"})),Gwt=Object.freeze(Object.defineProperty({__proto__:null,default:zHe},Symbol.toStringTag,{value:"Module"})),GHe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M13.4941 10.1875C13.8503 10.2765 14.0673 10.638 13.9785 10.9941C13.4684 13.0346 11.4669 13.998 10 13.998C9.63273 13.998 9.33496 13.7003 9.33496 13.333C9.33513 12.9659 9.63283 12.668 10 12.668C11.0331 12.668 12.3652 11.9647 12.6885 10.6719C12.7776 10.3159 13.1381 10.0988 13.4941 10.1875Z"}),g.createElement("path",{d:"M8.59668 6.3252C8.78558 6.01036 9.1939 5.90796 9.50879 6.09668C9.82338 6.28566 9.92597 6.694 9.7373 7.00879L7.99414 9.91406C7.9274 10.0261 8.00811 10.1688 8.13867 10.1689H9.16699L9.30078 10.1826C9.60373 10.2447 9.83203 10.5127 9.83203 10.834C9.83173 11.1551 9.60366 11.4234 9.30078 11.4854L9.16699 11.499H8.13867C6.97416 11.4989 6.25544 10.2281 6.85449 9.22949L8.59668 6.3252Z"}),g.createElement("path",{d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),Wwt=Object.freeze(Object.defineProperty({__proto__:null,default:GHe},Symbol.toStringTag,{value:"Module"})),WHe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10 2.08496C11.946 2.08496 13.7271 2.78819 15.1055 3.95312L15.3633 3.69629L15.4678 3.61133C15.7258 3.44109 16.0765 3.46939 16.3037 3.69629C16.5631 3.95601 16.5633 4.37809 16.3037 4.6377L16.0459 4.89453C17.2111 6.27293 17.915 8.05379 17.915 10C17.915 11.9462 17.2111 13.7271 16.0459 15.1055L16.3037 15.3633L16.3887 15.4678C16.559 15.7259 16.5309 16.0765 16.3037 16.3037C16.0765 16.5309 15.7259 16.559 15.4678 16.3887L15.3633 16.3037L15.1055 16.0459C13.7271 17.2111 11.9462 17.915 10 17.915C8.05379 17.915 6.27293 17.2111 4.89453 16.0459L4.6377 16.3037L4.5332 16.3887C4.27515 16.5593 3.92365 16.5308 3.69629 16.3037C3.43698 16.0441 3.43689 15.6229 3.69629 15.3633L3.95312 15.1055C2.78819 13.7271 2.08496 11.946 2.08496 10C2.08496 8.05402 2.78819 6.27287 3.95312 4.89453L3.69629 4.6377L3.61133 4.5332C3.44083 4.27508 3.46905 3.92356 3.69629 3.69629C3.92356 3.46902 4.27507 3.44082 4.5332 3.61133L4.6377 3.69629L4.89453 3.95312C6.27287 2.78819 8.05402 2.08496 10 2.08496ZM12.3164 13.2568C11.6626 13.7228 10.8639 13.999 10 13.999C9.13608 13.999 8.33637 13.7238 7.68262 13.2578L5.83887 15.1016C6.97326 16.0279 8.42117 16.585 10 16.585C11.5788 16.585 13.0267 16.0279 14.1611 15.1016L12.3164 13.2568ZM4.89746 5.83789C3.97102 6.9723 3.41504 8.42112 3.41504 10C3.41504 11.5786 3.97131 13.0268 4.89746 14.1611L6.74219 12.3174C6.27632 11.6635 6.00202 10.8639 6.00195 10C6.00202 9.13614 6.27634 8.33634 6.74219 7.68262L4.89746 5.83789ZM13.2578 7.68262C13.7238 8.33636 13.999 9.13608 13.999 10C13.999 10.8639 13.7228 11.6626 13.2568 12.3164L15.1016 14.1611C16.0279 13.0267 16.585 11.5788 16.585 10C16.585 8.42117 16.0279 6.97326 15.1016 5.83887L13.2578 7.68262ZM10 7.33203C8.52658 7.33221 7.33221 8.52658 7.33203 10C7.3322 11.4734 8.52657 12.6688 10 12.6689C11.4735 12.6688 12.6688 11.4735 12.6689 10C12.6688 8.52655 11.4735 7.33216 10 7.33203ZM10 3.41504C8.42112 3.41504 6.9723 3.97102 5.83789 4.89746L7.68262 6.74219C8.33635 6.27631 9.13611 6.00202 10 6.00195C10.8639 6.002 11.6635 6.27631 12.3174 6.74219L14.1611 4.89746C13.0268 3.97131 11.5786 3.41504 10 3.41504Z"})),Zwt=Object.freeze(Object.defineProperty({__proto__:null,default:WHe},Symbol.toStringTag,{value:"Module"})),ZHe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.21498 2.08301H11.7863C12.6895 2.083 13.4179 2.08299 14.0078 2.13119C14.6152 2.18081 15.1487 2.28566 15.6423 2.53715C16.4263 2.93662 17.0637 3.57404 17.4632 4.35805C17.7147 4.85162 17.8195 5.38511 17.8691 5.99249C17.9173 6.58238 17.9173 7.31084 17.9173 8.21398V11.7854C17.9173 12.6885 17.9173 13.417 17.8691 14.0069C17.8195 14.6142 17.7147 15.1477 17.4632 15.6413C17.0637 16.4253 16.4263 17.0627 15.6423 17.4622C15.1487 17.7137 14.6152 17.8185 14.0078 17.8682C13.4179 17.9164 12.6895 17.9163 11.7863 17.9163H8.21496C7.31181 17.9163 6.58336 17.9164 5.99346 17.8682C5.38609 17.8185 4.8526 17.7137 4.35902 17.4622C3.57502 17.0627 2.9376 16.4253 2.53812 15.6413C2.28663 15.1477 2.18179 14.6142 2.13217 14.0069C2.08397 13.417 2.08398 12.6885 2.08398 11.7853V8.214C2.08398 7.31085 2.08397 6.58239 2.13217 5.99249C2.18179 5.38511 2.28663 4.85162 2.53812 4.35805C2.9376 3.57404 3.57502 2.93662 4.35902 2.53715C4.8526 2.28566 5.38609 2.18081 5.99346 2.13119C6.58336 2.08299 7.31182 2.083 8.21498 2.08301ZM6.12918 3.79232C5.62488 3.83352 5.33514 3.91034 5.11568 4.02216C4.64527 4.26184 4.26282 4.64429 4.02314 5.1147C3.91131 5.33416 3.8345 5.6239 3.7933 6.12821C3.7513 6.64224 3.75065 7.3025 3.75065 8.24967V11.7497C3.75065 12.6968 3.7513 13.3571 3.7933 13.8711C3.8345 14.3754 3.91131 14.6652 4.02314 14.8847C4.26282 15.3551 4.64527 15.7375 5.11568 15.9772C5.33514 16.089 5.62488 16.1658 6.12918 16.207C6.64322 16.249 7.30348 16.2497 8.25065 16.2497H11.7507C12.6978 16.2497 13.3581 16.249 13.8721 16.207C14.3764 16.1658 14.6662 16.089 14.8856 15.9772C15.356 15.7375 15.7385 15.3551 15.9782 14.8847C16.09 14.6652 16.1668 14.3754 16.208 13.8711C16.25 13.3571 16.2507 12.6968 16.2507 11.7497V8.24967C16.2507 7.3025 16.25 6.64224 16.208 6.12821C16.1668 5.6239 16.09 5.33416 15.9782 5.1147C15.7385 4.64429 15.356 4.26184 14.8856 4.02216C14.6662 3.91034 14.3764 3.83352 13.8721 3.79232C13.3581 3.75032 12.6978 3.74967 11.7507 3.74967H8.25065C7.30348 3.74967 6.64322 3.75032 6.12918 3.79232ZM10.0007 5.83301C10.4609 5.83301 10.834 6.2061 10.834 6.66634V9.16634H13.334C13.7942 9.16634 14.1673 9.53944 14.1673 9.99968C14.1673 10.4599 13.7942 10.833 13.334 10.833H10.834V13.333C10.834 13.7932 10.4609 14.1663 10.0007 14.1663C9.54041 14.1663 9.16732 13.7932 9.16732 13.333V10.833H6.66732C6.20708 10.833 5.83398 10.4599 5.83398 9.99968C5.83398 9.53944 6.20708 9.16634 6.66732 9.16634H9.16732V6.66634C9.16732 6.2061 9.54041 5.83301 10.0007 5.83301Z",fill:"currentColor"})),Kwt=Object.freeze(Object.defineProperty({__proto__:null,default:ZHe},Symbol.toStringTag,{value:"Module"})),iT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"}),g.createElement("path",{d:"M9.81735 11.5962C9.3582 11.5962 9.08812 11.2829 9.08812 10.84V10.7643C9.08812 10.1269 9.41762 9.7056 10.055 9.33288C10.7519 8.91695 10.9625 8.64686 10.9625 8.1499C10.9625 7.62053 10.552 7.25321 9.9578 7.25321C9.42843 7.25321 9.07191 7.51249 8.89906 7.99325C8.76401 8.33896 8.52093 8.49021 8.19142 8.49021C7.76469 8.49021 7.5 8.22552 7.5 7.81499C7.5 7.58271 7.55402 7.37745 7.66205 7.17218C8.00776 6.45915 8.87205 6 10.0334 6C11.5675 6 12.5993 6.84267 12.5993 8.10128C12.5993 8.91695 12.2049 9.47333 11.4433 9.92167C10.7248 10.3376 10.5628 10.5699 10.4926 11.0236C10.4115 11.3856 10.2009 11.5962 9.81735 11.5962ZM9.82816 14C9.342 14 8.94767 13.6273 8.94767 13.1519C8.94767 12.6766 9.342 12.3038 9.82816 12.3038C10.3197 12.3038 10.714 12.6766 10.714 13.1519C10.714 13.6273 10.3197 14 9.82816 14Z"})),Ywt=Object.freeze(Object.defineProperty({__proto__:null,default:iT},Symbol.toStringTag,{value:"Module"})),pd=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.44824 8.218C8.52492 7.98941 8.84816 7.98938 8.9248 8.218L9.28809 9.30784C9.46326 9.83337 9.87587 10.2459 10.4014 10.4211L11.4912 10.7844C11.7205 10.8608 11.7205 11.1855 11.4912 11.2619L10.4014 11.6252C9.87585 11.8005 9.46327 12.213 9.28809 12.7385L8.9248 13.8283C8.84823 14.0572 8.52485 14.0571 8.44824 13.8283L8.08496 12.7385C7.90979 12.213 7.49715 11.8005 6.97168 11.6252L5.88184 11.2619C5.65258 11.1855 5.65258 10.8608 5.88184 10.7844L6.97168 10.4211C7.49712 10.2458 7.9098 9.83334 8.08496 9.30784L8.44824 8.218Z"}),g.createElement("path",{d:"M12.0723 6.10765C12.12 5.96436 12.3224 5.96436 12.3701 6.10765L12.5977 6.78831C12.7071 7.11676 12.9645 7.37506 13.293 7.4846L13.9746 7.71116C14.1177 7.75902 14.1177 7.96218 13.9746 8.00999L13.293 8.23655C12.9646 8.3461 12.7071 8.60442 12.5977 8.93284L12.3701 9.6135C12.3223 9.75664 12.12 9.7567 12.0723 9.6135L11.8457 8.93284C11.7362 8.60433 11.4779 8.34605 11.1494 8.23655L10.4688 8.00999C10.3255 7.96223 10.3255 7.75892 10.4688 7.71116L11.1494 7.4846C11.4779 7.37509 11.7362 7.11682 11.8457 6.78831L12.0723 6.10765Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.00098 1.81761C9.6757 1.48574 10.4759 1.50965 11.1328 1.88889L16.459 4.96409L16.5869 5.04319C17.2117 5.46158 17.5908 6.16653 17.5908 6.92503V13.0754C17.5907 13.8339 17.2118 14.5389 16.5869 14.9573L16.459 15.0364L11.1328 18.1116C10.476 18.4908 9.67566 18.5146 9.00098 18.1828L8.86816 18.1116L3.54102 15.0364C2.8407 14.6318 2.40926 13.8842 2.40918 13.0754V6.92503C2.40918 6.11617 2.84064 5.36866 3.54102 4.96409L8.86816 1.88889L9.00098 1.81761ZM10.4678 3.04026C10.2149 2.89427 9.91027 2.8762 9.64453 2.98557L9.5332 3.04026L4.20605 6.11546C3.91705 6.28242 3.73926 6.59125 3.73926 6.92503V13.0754C3.73934 13.4091 3.91711 13.7181 4.20605 13.885L9.5332 16.9602L9.64453 17.0149C9.91024 17.1242 10.215 17.1061 10.4678 16.9602L15.7939 13.885L15.8975 13.8157C16.125 13.6402 16.2607 13.3673 16.2607 13.0754V6.92503C16.2607 6.63315 16.1249 6.36025 15.8975 6.18479L15.7939 6.11546L10.4678 3.04026Z"})),Qwt=Object.freeze(Object.defineProperty({__proto__:null,default:pd},Symbol.toStringTag,{value:"Module"}));function iO(t,e){const n=t.indexOf(e);return n===-1?Number.POSITIVE_INFINITY:n}const r4=t=>{"use forget";const e=ee.c(14),{binding:n,className:r}=t,s=Z();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=V2e(),e[0]=a):a=e[0];const i=a;let l,c;if(e[1]!==n||e[2]!==r||e[3]!==s){let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=(p,h)=>{const v=i?XHe:eVe,y=iO(v,p),x=iO(v,h);return y-x},e[6]=d):d=e[6];const f=[...n].sort(d);e[7]!==r?(l=U("inline-flex whitespace-pre *:inline-flex *:font-sans",!i&&"*:not-last:after:px-0.5 *:not-last:after:content-['+']",r),e[7]=r,e[8]=l):l=e[8];let m;e[9]!==s?(m=p=>{var y,x,b;const h=(x=(y=i?QHe[p]:null)!=null?y:JHe[p])!=null?x:p.toLocaleUpperCase(),v=(b=i?KHe[p]:null)!=null?b:YHe[p];return o.jsx("kbd",{"aria-label":v&&s.formatMessage(v),children:o.jsx("span",{className:"min-w-[1em]",children:h})},p)},e[9]=s,e[10]=m):m=e[10],c=f.map(m),e[1]=n,e[2]=r,e[3]=s,e[4]=l,e[5]=c}else l=e[4],c=e[5];let u;return e[11]!==l||e[12]!==c?(u=o.jsx("div",{className:l,children:c}),e[11]=l,e[12]=c,e[13]=u):u=e[13],u},La=pe({commandKey:{id:"keyboard.key.command",defaultMessage:"Command"},optionKey:{id:"keyboard.key.option",defaultMessage:"Option"},shiftKey:{id:"keyboard.key.shift",defaultMessage:"Shift"},controlKey:{id:"keyboard.key.control",defaultMessage:"Control"},altKey:{id:"keyboard.key.alt",defaultMessage:"Alt"},winKey:{id:"keyboard.key.win",defaultMessage:"Windows"},escapeKey:{id:"keyboard.key.esc",defaultMessage:"Escape"},deleteKey:{id:"keyboard.key.delete",defaultMessage:"Delete"},backspaceKey:{id:"keyboard.key.bksp",defaultMessage:"Backspace"}}),KHe={[De.Mod]:La.commandKey,[De.Meta]:La.commandKey,[De.Alt]:La.optionKey,[De.Backspace]:La.deleteKey},YHe={[De.Mod]:La.controlKey,[De.Meta]:La.winKey,[De.Alt]:La.altKey,[De.Shift]:La.shiftKey,[De.Control]:La.controlKey,[De.Escape]:La.escapeKey,[De.Backspace]:La.backspaceKey},QHe={[De.Mod]:"â",[De.Meta]:"â",[De.Alt]:"â¥",[De.Shift]:"â§",[De.Control]:"â",[De.Escape]:"â"},JHe={[De.Mod]:"Ctrl",[De.Meta]:"Win",[De.Alt]:"Alt",[De.Shift]:"Shift",[De.Control]:"Ctrl",[De.Comma]:",",[De.Enter]:"â",[De.Escape]:"Esc",[De.ArrowUp]:"â",[De.ArrowDown]:"â",[De.ArrowLeft]:"â",[De.ArrowRight]:"â",[De.Backspace]:"â«",[De.Delete]:"â¦",[De.Tab]:"â¥"},XHe=[De.Control,De.Alt,De.Shift,De.Meta,De.Mod],eVe=[De.Meta,De.Mod,De.Control,De.Alt,De.Shift],s4=nt(!1),Jwt=()=>{"use forget";const t=ee.c(14),e=q();let n;t[0]!==e?(n=U6(e),t[0]=e,t[1]=n):n=t[1];const{actions$:r,addAction:s}=n,a=at(s4),i=at(r);let l,c;t[2]!==i?(c=nVe(i),t[2]=i,t[3]=c):c=t[3],l=c;const u=l;let d,f;if(t[4]!==s?(d=()=>s({key:"toggleKeyboardActions",action:oVe,actionMessageDescriptor:Be({id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}),group:Gn.Settings,keyboardBinding:[De.Mod,"/"]}),f=[s],t[4]=s,t[5]=d,t[6]=f):(d=t[5],f=t[6]),g.useEffect(d,f),u.length===0)return null;let m;t[7]===Symbol.for("react.memo_cache_sentinel")?(m=o.jsx(yn.Overlay,{}),t[7]=m):m=t[7];let p;t[8]!==u||t[9]!==a?(p=o.jsxs(zu,{children:[m,o.jsx(_f,{asChild:!0,children:o.jsx(rVe,{groups:u,showAsModal:a,onClose:lVe})})]}),t[8]=u,t[9]=a,t[10]=p):p=t[10];let h;return t[11]!==a||t[12]!==p?(h=o.jsx(qu,{open:a,onOpenChange:iVe,modal:a,children:p}),t[11]=a,t[12]=p,t[13]=h):h=t[13],h};function tVe(t){return t.toReversed?t.toReversed():t.slice().reverse()}function nVe(t){const e=Object.entries(j0(tse(Xj(t,n=>n.key),n=>tVe(n.keyboardBinding).join("")),n=>n.group));return e.sort(([n],[r])=>Object.keys(Gn).indexOf(n)-Object.keys(Gn).indexOf(r)),e}const rVe=t=>{"use forget";const e=ee.c(16),{groups:n,showAsModal:r,onClose:s}=t,a=!r&&"transition-opacity starting:opacity-0";let i;e[0]!==a?(i=U("shadow-long fixed start-3 bottom-3 min-w-(--sidebar-width) px-1.5 text-sm",a),e[0]=a,e[1]=i):i=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=o.jsx("h2",{className:"text-sm",children:o.jsx(N,{id:"hotkeyModal.title",defaultMessage:"Keyboard shortcuts"})}),e[2]=l):l=e[2];let c;e[3]!==s||e[4]!==r?(c=r&&o.jsx(C0,{asChild:!0,children:o.jsx(gn,{onClick:s})}),e[3]=s,e[4]=r,e[5]=c):c=e[5];let u;e[6]!==c?(u=o.jsxs("div",{className:"ms-2.5 mb-3 flex h-9 items-center justify-between font-semibold",children:[l,c]}),e[6]=c,e[7]=u):u=e[7];let d;e[8]!==n?(d=n.map(uVe),e[8]=n,e[9]=d):d=e[9];let f;e[10]!==d?(f=o.jsx("dl",{className:"grid [grid-template-columns:minmax(0,1fr)_max-content] gap-x-6 gap-y-3 px-2.5 pb-2",children:d}),e[10]=d,e[11]=f):f=e[11];let m;return e[12]!==i||e[13]!==u||e[14]!==f?(m=o.jsxs(nY,{className:i,children:[u,f]}),e[12]=i,e[13]=u,e[14]=f,e[15]=m):m=e[15],m};function sVe(t){switch(t){case Gn.Core:return null;case Gn.Chat:return o.jsx(N,{id:"keyboardActionGroup.label.Chat",defaultMessage:"Chat"});case Gn.Settings:return o.jsx(N,{id:"keyboardActionGroup.label.Settings",defaultMessage:"Settings"});case Gn.Internal:return"Internal"}}function aVe(t){return!t}function oVe(){s4.set(aVe)}function iVe(t){t||s4.set(!1)}function lVe(){return s4.set(!1)}function cVe(t){return o.jsxs(g.Fragment,{children:[o.jsx("dt",{children:typeof t.actionMessageDescriptor=="string"?t.actionMessageDescriptor:o.jsx(N,C({},t.actionMessageDescriptor))}),o.jsx("dd",{className:"text-token-text-secondary justify-self-end",children:o.jsx(r4,{binding:t.keyboardBinding})})]},t.key)}function uVe(t){const[e,n]=t;return o.jsxs(g.Fragment,{children:[o.jsx("dt",{className:"text-token-text-tertiary col-span-2 mt-2 empty:hidden",children:sVe(e)}),n.map(cVe)]},e)}function dVe(t){var n;const{data:e}=tre(t);return(n=e==null?void 0:e.total)!=null?n:0}const lT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.5 9.33496L16.6338 9.34863C16.9369 9.41057 17.165 9.67857 17.165 10C17.165 10.3214 16.9369 10.5894 16.6338 10.6514L16.5 10.665H3.5C3.13273 10.665 2.83496 10.3673 2.83496 10C2.83496 9.63273 3.13273 9.33496 3.5 9.33496H16.5Z"})),Xwt=Object.freeze(Object.defineProperty({__proto__:null,default:lT},Symbol.toStringTag,{value:"Module"}));var IZ;Ge.ol(IZ||(IZ=qe(["ms-5 list-decimal"])));var LZ;const fVe=Ge.ul(LZ||(LZ=qe(["ms-3 list-disc"])));var RZ;const mVe=Ge.li(RZ||(RZ=qe(["marker:text-token-text-tertiary text-token-text-primary mb-2"])));var cT="Radio",[pVe,Jae]=Bu(cT),[gVe,hVe]=pVe(cT),Xae=g.forwardRef((t,e)=>{const y=t,{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:i,value:l="on",onCheck:c,form:u}=y,d=de(y,["__scopeRadio","name","checked","required","disabled","value","onCheck","form"]),[f,m]=g.useState(null),p=Fn(e,x=>m(x)),h=g.useRef(!1),v=f?u||!!f.closest("form"):!0;return o.jsxs(gVe,{scope:n,checked:s,disabled:i,children:[o.jsx(mn.button,P(C({type:"button",role:"radio","aria-checked":s,"data-state":noe(s),"data-disabled":i?"":void 0,disabled:i,value:l},d),{ref:p,onClick:Nt(t.onClick,x=>{s||c==null||c(),v&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})),v&&o.jsx(vVe,{control:f,bubbles:!h.current,name:r,value:l,checked:s,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});Xae.displayName=cT;var eoe="RadioIndicator",toe=g.forwardRef((t,e)=>{const i=t,{__scopeRadio:n,forceMount:r}=i,s=de(i,["__scopeRadio","forceMount"]),a=hVe(eoe,n);return o.jsx(R6,{present:r||a.checked,children:o.jsx(mn.span,P(C({"data-state":noe(a.checked),"data-disabled":a.disabled?"":void 0},s),{ref:e}))})});toe.displayName=eoe;var vVe=t=>{const c=t,{control:e,checked:n,bubbles:r=!0}=c,s=de(c,["control","checked","bubbles"]),a=g.useRef(null),i=cM(n),l=sQ(e);return g.useEffect(()=>{const u=a.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&m){const p=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(p)}},[i,n,r]),o.jsx("input",P(C({type:"radio","aria-hidden":!0,defaultChecked:n},s),{tabIndex:-1,ref:a,style:P(C(C({},t.style),l),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function noe(t){return t?"checked":"unchecked"}var yVe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],uT="RadioGroup",[xVe]=Bu(uT,[I6,Jae]),roe=I6(),soe=Jae(),[bVe,CVe]=xVe(uT),aoe=g.forwardRef((t,e)=>{const x=t,{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f}=x,m=de(x,["__scopeRadioGroup","name","defaultValue","value","required","disabled","orientation","dir","loop","onValueChange"]),p=roe(n),h=_6(u),[v,y]=Hi({prop:a,defaultProp:s,onChange:f});return o.jsx(bVe,{scope:n,name:r,required:i,disabled:l,value:v,onValueChange:y,children:o.jsx(yY,P(C({asChild:!0},p),{orientation:c,dir:h,loop:d,children:o.jsx(mn.div,P(C({role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:h},m),{ref:e}))}))})});aoe.displayName=uT;var ooe="RadioGroupItem",ioe=g.forwardRef((t,e)=>{const p=t,{__scopeRadioGroup:n,disabled:r}=p,s=de(p,["__scopeRadioGroup","disabled"]),a=CVe(ooe,n),i=a.disabled||r,l=roe(n),c=soe(n),u=g.useRef(null),d=Fn(e,u),f=a.value===s.value,m=g.useRef(!1);return g.useEffect(()=>{const h=y=>{yVe.includes(y.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",v)}},[]),o.jsx(vY,P(C({asChild:!0},l),{focusable:!i,active:f,children:o.jsx(Xae,P(C(C({disabled:i,required:a.required,checked:f},c),s),{name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:Nt(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Nt(s.onFocus,()=>{var h;m.current&&((h=u.current)==null||h.click())})}))}))});ioe.displayName=ooe;var _Ve="RadioGroupIndicator",loe=g.forwardRef((t,e)=>{const a=t,{__scopeRadioGroup:n}=a,r=de(a,["__scopeRadioGroup"]),s=soe(n);return o.jsx(toe,P(C(C({},s),r),{ref:e}))});loe.displayName=_Ve;var coe=aoe,dT=ioe,fT=loe,t8,lO;function wVe(){if(lO)return t8;lO=1;function t(e,n,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),n!==void 0&&(e=e>=n?e:n)),e}return t8=t,t8}var n8,cO;function SVe(){if(cO)return n8;cO=1;var t=wVe(),e=$2e();function n(r,s,a){return a===void 0&&(a=s,s=void 0),a!==void 0&&(a=e(a),a=a===a?a:0),s!==void 0&&(s=e(s),s=s===s?s:0),t(e(r),s,a)}return n8=n,n8}var kVe=SVe();const mo=St(kVe);var OZ;const MVe=Ge.div(OZ||(OZ=qe(["flex flex-col gap-3 text-token-text-secondary text-sm mt-3"])));var DZ;const EVe=Ge.p(DZ||(DZ=qe(["text-token-text-primary"])));var FZ;const jVe=Ge(dT)(FZ||(FZ=qe(["relative flex cursor-pointer flex-col rounded-xl border-token-border-default p-5 text-start align-top transition-[border-color] duration-100 hover:border-token-border-heavy data-[state=unchecked]:m-[1px] data-[state=checked]:border-2 data-[state=unchecked]:border data-[state=checked]:border-black dark:data-[state=checked]:border-white md:min-h-[300px]"])));var BZ;const TVe=Ge(fT)(BZ||(BZ=qe(["flex h-5 w-5 items-center justify-center rounded-full border-2 border-token-border-heavy bg-token-bg-primary outline-hidden data-[state=checked]:bg-black dark:data-[state=checked]:bg-white"])));var UZ;const PS=Ge.s(UZ||(UZ=qe(["text-token-text-tertiary"]))),r8=999,NVe=2,AVe=5,eSt="team-pricing-seat-selection",tSt="team-pricing-seat-selection-direct",nSt="numSeats",rSt="selectedPlan",sSt="promo_campaign",mT=t=>NVe,aSt=t=>AVe;function uO({billingType:t,name:e,billingFeatures:n,cost:r,currencySign:s,currencyCode:a,monthlyCost:i,discountedMonthlyCost:l,costStructure:c,selectedValue:u,hideDetails:d=!1,showWelcomeOfferLabel:f=!1,promoDisclaimer:m=null,hideSavingsMessage:p=!1}){const h=Z();q();const v=mT(),y=Math.floor(100-l/i*100);return o.jsxs(jVe,{value:t,id:t,className:U(d&&"min-h-0!"),children:[f&&o.jsx("div",{className:"absolute start-3 top-0 -translate-y-1/2 rounded-xl bg-[#10A37F] px-2 py-1 text-xs font-medium text-white",children:o.jsx(N,C({},He.welcomeOfferLabel))}),!p&&l<i&&o.jsx("div",{className:U("absolute start-3 top-0 -translate-y-1/2 px-2 py-1 text-xs font-medium",u===t?"bg-token-bg-primary text-[#10A37F]":"rounded-xl bg-[#10A37F] text-white"),children:o.jsx(N,P(C({},u===t?He.discountSelectedLabel:He.discountUnselectedLabel),{values:{discountedRate:y}}))}),o.jsxs("div",{className:"flex w-full items-center justify-between",children:[o.jsx("div",{className:U(d?"text-base":"text-xl","font-medium"),children:o.jsx(N,C({},e))}),o.jsx(TVe,{forceMount:!0,children:o.jsx(Zr,{className:U("mt-0.25 h-[14px] w-[14px] stroke-3 text-white dark:text-black",u!==t&&"hidden")})})]}),o.jsxs(MVe,{children:[o.jsxs("div",{children:[o.jsx(EVe,{children:o.jsx(N,P(C({},r),{values:{monthlyCost:i,discountedMonthlyCost:l,currencyCode:h.formatMessage(a),currencySign:h.formatMessage(s),s:(...x)=>o.jsx(PS,{children:x})}}))}),o.jsx("p",{children:o.jsx(N,C({},c))})]}),!d&&o.jsx(fVe,{children:n.map(x=>o.jsx(mVe,{className:"text-token-text-secondary",children:o.jsx(N,P(C({},x),{values:{minSeats:v,monthlyCost:i,minimumMonthlyCost:l*2,currencyCode:h.formatMessage(a),currencySign:h.formatMessage(s),s:(...b)=>o.jsx(PS,{children:b})}}))},x.id))}),m&&o.jsx("div",{className:"text-token-text-secondary mt-2 text-xs",children:m})]})]})}var HZ;const dO=Ge.button(HZ||(HZ=qe(["h-12 w-12 rounded-lg flex items-center justify-center border border-token-border-default px-1.5 py-1.5 hover:bg-token-main-surface-secondary disabled:pointer-events-none disabled:text-token-text-tertiary"])));function oSt({numSeats:t,minSeats:e,setNumSeats:n,label:r,maxSeats:s,classNames:a}){const i=s!=null?s:r8,[l,c]=g.useState(!1),u=Mr(),d=g.useMemo(()=>u==null?void 0:u.subscriptionAnalyticsParams,[u]),f=g.useCallback(_=>{B.logEvent("Account Pay: Team Plan Seat Count Clicked",C(C({},d),_))},[d]),m=g.useRef(null);g.useEffect(()=>{var _;(_=m.current)==null||_.focus()},[m]);const p=g.useRef(null),h=g.useRef(0),v=g.useCallback(_=>{n(w=>{const S=mo(w+_,e,i);return f({prevSeats:w,currentSeats:S}),S})},[i,e,n,f]),y=g.useCallback(_=>{const M=300-_*50;return M>25?M:25},[]),x=g.useCallback(_=>{v(_),h.current=0;const w=()=>{h.current+=1,v(_);const S=y(h.current);p.current=setTimeout(w,S)};p.current=setTimeout(w,y(h.current))},[v,y]),b=g.useCallback(()=>{p.current&&(clearTimeout(p.current),p.current=null)},[]);return g.useEffect(()=>{l||i===r8&&t>i&&c(!0)},[l,i,t]),o.jsxs("div",{className:"mb-3 flex w-full flex-col",children:[o.jsx("label",{className:"mb-1 flex text-base font-medium",htmlFor:"seats",children:r!=null?r:o.jsx(N,C({},He.usersTitle))}),o.jsxs("div",{className:"relative flex items-center gap-3",children:[o.jsx("input",{ref:m,type:"number",min:e,max:i,name:"seats",value:t,onChange:_=>{const w=parseInt(_.target.value);n(w),f({prevSeats:t,currentSeats:w})},onBlur:()=>{let _=t;t<e&&(_=e),t>i&&(_=i),t||(_=e),_!==t&&(f({prevSeats:t,currentSeats:_}),n(_))},autoFocus:!0,tabIndex:0,className:U(a==null?void 0:a.input,"bg-token-bg-primary text-token-text-primary relative m-0 h-12 w-full appearance-none rounded-lg border border-gray-200 px-2 py-0 ps-5 text-start text-sm shadow-none ring-transparent outline-hidden focus:border-black focus:ring-black dark:border-gray-700 dark:focus:border-white dark:focus:ring-white")}),o.jsxs("div",{className:U(a==null?void 0:a.buttons,"flex gap-1.5"),children:[o.jsx(dO,{disabled:t<=e,onMouseDown:()=>x(-1),onMouseUp:b,onMouseLeave:b,className:a==null?void 0:a.button,children:o.jsx(lT,{className:U("icon-sm",t<=e&&"text-token-text-tertiary")})}),o.jsx(dO,{disabled:t>=i,onMouseDown:()=>x(1),onMouseUp:b,onMouseLeave:b,className:a==null?void 0:a.button,children:o.jsx(vc,{className:"icon-sm"})})]})]}),i===r8&&l&&o.jsx("div",{className:"text-token-text-secondary mt-2 text-xs",children:o.jsx(N,P(C({},He.seatSelectorTooltipMaxLimit),{values:{maxSeats:i,link:_=>o.jsx(mr,{to:q2e,target:"_blank",className:"underline",children:_})}}))})]})}const He=pe({flexiblePlanCost:{id:"teamBilling.flexiblePlan.cost",defaultMessage:"{currencyCode} {currencySign}{monthlyCost}"},seatsTitle:{id:"teamBilling.seatsTitle",defaultMessage:"Seats"},summaryTitle:{id:"teamBilling.summaryTitle",defaultMessage:"Summary"},annualPlanCost:{id:"teamBilling.annualPlan.cost",defaultMessage:"{currencyCode} {currencySign}{discountedMonthlyCost} <s>{currencySign}{monthlyCost}</s>"},nameWorkspace:{id:"nameWorkspace.title",defaultMessage:"Name your workspace"},cancel:{id:"createWorkspace.cancel",defaultMessage:"Cancel"},selectTeamPlan:{id:"createWorkspace.selectTeamPlan",defaultMessage:"Select Business Plan"},selectTeamPlanModalTitle:{id:"createWorkspace.selectTeamPlanModalTitle",defaultMessage:"Select your Business plan"},continueToBillingButton:{id:"createWorkspace.continueToBillingButton",defaultMessage:"Continue to billing"},paymentErrorWarning:{id:"createWorkspace.paymentErrorWarning",defaultMessage:"The payments page encountered an error. Please try again. If the problem continues, please visit help.openai.com."},continueToPricePreview:{id:"teamBilling.continueToPricePreview",defaultMessage:"Continue"},changeEffectDate:{id:"teamBilling.changeEffectDate",defaultMessage:"This change will take effect at your next renewal on {date}"},confirmPageChangeEffectDate:{id:"teamBilling.confirmPageChangeEffectDate",defaultMessage:"Your billing schedule will change from {current_plan} to {new_plan} starting at your next renewal on {date}"},confirmChange:{id:"teamBilling.confirmChange",defaultMessage:"Confirm"},teamsCostStructure:{id:"teamBilling.teamsCostStructureNew",defaultMessage:"per user/month"},usersTitle:{id:"teamBilling.usersTitle",defaultMessage:"Users"},chatGptTeam:{id:"teamBilling.chatGptTeam",defaultMessage:"ChatGPT Business"},annualPlanName:{id:"teamBilling.annualPlan.nameNew",defaultMessage:"Annual"},annualPlanSavingsLabel:{id:"teamBilling.annualPlan.savingsLabel",defaultMessage:"({percent}% off)"},annualBilledAnnually:{id:"teamBilling.annualPlan.billedAnnuallyNew",defaultMessage:"Billed annually"},annualAddUsersWithRenewal:{id:"teamBilling.annualPlan.addUsersWithRenewalNew",defaultMessage:"Add and reassign users as needed"},annualMinBill:{id:"teamBilling.annualPlan.minBillNew",defaultMessage:"Minimum {minSeats} {minSeats, plural, one {user} other {users}}"},flexiblePlanName:{id:"teamBilling.flexiblePlan.nameNew",defaultMessage:"Monthly"},flexibleBilledMonthly:{id:"teamBilling.flexiblePlan.billedMonthlyNew",defaultMessage:"Billed monthly"},flexibleAddRemoveUsers:{id:"teamBilling.flexiblePlan.addRemoveUsersNew",defaultMessage:"Add or remove users as needed"},flexibleMinBill:{id:"teamBilling.flexiblePlan.minBillNew",defaultMessage:"Minimum {minSeats} {minSeats, plural, one {user} other {users}}"},today:{id:"teamBilling.today",defaultMessage:"Today"},allPlansTotal:{id:"teamBilling.allPlansTotal",defaultMessage:"Plan Total"},allPlansTodayTotal:{id:"teamBilling.allPlansTodayTotal",defaultMessage:"Today's total"},flexiblePlanAmountBreakdown:{id:"teamBilling.flexiblePlanAmountBreakdown",defaultMessage:"{numSeats} {numSeats, plural, one {user} other {users}}"},annualPlanAmountBreakdown:{id:"teamBilling.annualPlanAmountBreakdown",defaultMessage:"{numSeats} {numSeats, plural, one {user} other {users}} x 12 months"},breakdownAmount:{id:"teamBilling.breakdownAmount",defaultMessage:"{currencySign}{amount}/seat"},allPlansPreDiscountTotal:{id:"teamBilling.allPlansPreDiscountTotal",defaultMessage:"{currencySign}{preDiscountTotalAmount}"},planDiscountLabel:{id:"teamBilling.planDiscountLabel",defaultMessage:"Discount"},annualPlanDiscountDescription:{id:"teamBilling.annualPlanDiscountDescription",defaultMessage:"Annual (-{discountPercentage}%)"},annualPlanDiscountAmount:{id:"teamBilling.annualPlanDiscountAmount",defaultMessage:"-{currencySign}{discountAmount}"},flexiblePlanDiscountAmount:{id:"teamBilling.flexiblePlanDiscountAmount",defaultMessage:"-{currencySign}{discountAmount}"},flexiblePlanBilledMonthly:{id:"teamBilling.flexiblePlanBilledMonthly",defaultMessage:"Billed monthly starting {billDate}"},annualPlanBilledAnnually:{id:"teamBilling.annualPlanBilledAnnually",defaultMessage:"Billed annually starting {billDate}"},allPlansTotalAmount:{id:"teamBilling.allPlansTotalAmount",defaultMessage:"{currencyCode} {currencySign}{totalAmount}"},discountSelectedLabel:{id:"teamBilling.discountSelectedLabel",defaultMessage:"You're saving {discountedRate}%"},discountUnselectedLabel:{id:"teamBilling.discountUnselectedLabel",defaultMessage:"Save {discountedRate}%"},welcomeOfferLabel:{id:"teamBilling.welcomeOfferLabel",defaultMessage:"Welcome Offer"},seatSelectorTooltipMaxLimit:{id:"teamBilling.seatSelectorTooltipMaxLimit",defaultMessage:"For more than {maxSeats} users, upgrade to our <link>Enterprise plan</link>."}});var PVe=(t=>(t.FLEXIBLE="month",t.ANNUAL="year",t))(PVe||{});const IVe={type:"month",name:He.flexiblePlanName,cost:He.flexiblePlanCost,monthlyCost:30,discountedMonthlyCost:30,unitCost:30,currencySign:Od.sign,currencyCode:Od.code,costStructure:He.teamsCostStructure,billingFeatures:[He.flexibleBilledMonthly,He.flexibleMinBill,He.flexibleAddRemoveUsers]},LVe={type:"year",name:He.annualPlanName,cost:He.annualPlanCost,monthlyCost:30,discountedMonthlyCost:25,unitCost:25*12,currencySign:Od.sign,currencyCode:Od.code,costStructure:He.teamsCostStructure,billingFeatures:[He.annualBilledAnnually,He.annualMinBill,He.annualAddUsersWithRenewal]},RVe={type:"month",name:He.flexiblePlanName,cost:He.flexiblePlanCost,monthlyCost:30,discountedMonthlyCost:30,unitCost:30,currencySign:Id.sign,currencyCode:Id.code,costStructure:He.teamsCostStructure,billingFeatures:[He.flexibleBilledMonthly,He.flexibleMinBill,He.flexibleAddRemoveUsers]},OVe={type:"year",name:He.annualPlanName,cost:He.annualPlanCost,monthlyCost:30,discountedMonthlyCost:25,unitCost:25*12,currencySign:Id.sign,currencyCode:Id.code,costStructure:He.teamsCostStructure,billingFeatures:[He.annualBilledAnnually,He.annualMinBill,He.annualAddUsersWithRenewal]},DVe={type:"month",name:He.flexiblePlanName,cost:He.flexiblePlanCost,monthlyCost:34,discountedMonthlyCost:34,unitCost:34,currencySign:Pd.sign,currencyCode:Pd.code,costStructure:He.teamsCostStructure,billingFeatures:[He.flexibleBilledMonthly,He.flexibleMinBill,He.flexibleAddRemoveUsers]},FVe={type:"year",name:He.annualPlanName,cost:He.annualPlanCost,monthlyCost:34,discountedMonthlyCost:29,unitCost:29*12,currencySign:Pd.sign,currencyCode:Pd.code,costStructure:He.teamsCostStructure,billingFeatures:[He.annualBilledAnnually,He.annualMinBill,He.annualAddUsersWithRenewal]},BVe={type:"month",name:He.flexiblePlanName,cost:He.flexiblePlanCost,monthlyCost:2599,discountedMonthlyCost:2599,unitCost:2599,currencySign:Ld.sign,currencyCode:Ld.code,costStructure:He.teamsCostStructure,billingFeatures:[He.flexibleBilledMonthly,He.flexibleMinBill,He.flexibleAddRemoveUsers]},UVe={type:"year",name:He.annualPlanName,cost:He.annualPlanCost,monthlyCost:2599,discountedMonthlyCost:2099,unitCost:2099*12,currencySign:Ld.sign,currencyCode:Ld.code,costStructure:He.teamsCostStructure,billingFeatures:[He.annualBilledAnnually,He.annualMinBill,He.annualAddUsersWithRenewal]},HVe={type:"month",name:He.flexiblePlanName,cost:He.flexiblePlanCost,monthlyCost:469e3,discountedMonthlyCost:469e3,unitCost:469e3,currencySign:Rd.sign,currencyCode:Rd.code,costStructure:He.teamsCostStructure,billingFeatures:[He.flexibleBilledMonthly,He.flexibleMinBill,He.flexibleAddRemoveUsers]},VVe={type:"year",name:He.annualPlanName,cost:He.annualPlanCost,monthlyCost:469e3,discountedMonthlyCost:389e3,unitCost:389e3*12,currencySign:Rd.sign,currencyCode:Rd.code,costStructure:He.teamsCostStructure,billingFeatures:[He.annualBilledAnnually,He.annualMinBill,He.annualAddUsersWithRenewal]};function uoe(t){return t===vi?{flexibleBillingPlan:DVe,annualBillingPlan:FVe}:t===yi?{flexibleBillingPlan:RVe,annualBillingPlan:OVe}:t===ho?{flexibleBillingPlan:BVe,annualBillingPlan:UVe}:t===vo?{flexibleBillingPlan:HVe,annualBillingPlan:VVe}:{flexibleBillingPlan:IVe,annualBillingPlan:LVe}}const iSt={month:{name:He.chatGptTeam,breakdown:He.flexiblePlanAmountBreakdown,discountAmount:He.flexiblePlanDiscountAmount,discountDescription:void 0,billed:He.flexiblePlanBilledMonthly,total:He.allPlansTotalAmount},year:{name:He.chatGptTeam,breakdown:He.annualPlanAmountBreakdown,discountAmount:He.annualPlanDiscountAmount,discountDescription:He.annualPlanDiscountDescription,billed:He.annualPlanBilledAnnually,total:He.allPlansTotalAmount}},lSt=(t,e)=>Math.floor(100-e/t*100),cSt=(t,e)=>Math.floor((1-e/t)*100);function $Ve({currentAccount:t}){return o.jsx(doe,{workspace:t,isLoading:!1,currentWorkspaceId:t.id,showCheck:!1})}function uSt({accountSwitcherRedirectUrl:t}){const e=q(),n=pt(),{data:r}=Ds(),s=m0(r),[a,i]=g.useState(!1),l=Wt(),c=Z(),u=Tt();if(!s||!r)return null;const d=s.isWorkspaceAccount(),f=r.accountItems.length>1,m=r.accountItems,p=Go([m.find(h=>h.isPersonalAccount()),...m.filter(h=>!h.isPersonalAccount())]);return p.sort((h,v)=>h.isPersonalAccount()?1:v.isPersonalAccount()?-1:0),f?p.map(h=>{const v=h.isDeactivated(),y=()=>{if(v||h.id===(s==null?void 0:s.id))return;i(!0);const{willRedirect:x}=SM(n,h.id,e,c,u);x||kM(t)};return h.isDeactivated()?o.jsx(qVe,{workspace:h,isLoading:a},h.id):o.jsx(doe,{workspace:h,isLoading:a,currentWorkspaceId:s==null?void 0:s.id,onSelect:y},h.id)}):d?o.jsx($Ve,{currentAccount:s}):(l==null?void 0:l.email)&&o.jsx("div",{className:"text-token-text-secondary ms-3 me-2 py-2 text-sm",children:l.email})}function doe({workspace:t,isLoading:e,currentWorkspaceId:n,showCheck:r=!0,onSelect:s}){const a=Z(),i=t.canAccessWithCurrentSession,l=!e&&r&&t.id===n,u=t.data.ekmConfig!=null?o.jsxs("div",{className:"relative",children:[o.jsx(qP,{iconSize:"small",workspace:t}),o.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:o.jsx(Ua,{className:"h-2 w-2","aria-hidden":"true"})})]}):o.jsx(qP,{iconSize:"small",workspace:t});return o.jsxs(J.RadioItem,{value:t.id,onSelect:s,icon:u,secondary:!i&&(t.ssoConnectionName?o.jsx(N,{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"}):o.jsx(N,{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"})),trailingColor:l?"primary":"tertiary",trailing:l?o.jsx(S6,{className:"icon-sm"}):i?null:cc,children:[o.jsx("div",{className:"line-clamp-1",children:r5(a,t)}),e&&o.jsx(On,{})]})}function qVe({workspace:t,isLoading:e}){const n=Z(),r=t.isOwnerOfAccount(),[s,a]=g.useState(!1),i=dVe(t.id);q();const l=mT(),c=t.mustGetSubscriptionBillingCurrency("DeactivatedWorkspaceMenuItem");return g.useEffect(()=>{i!=null&&s&&(pn.setPurchaseWorkspaceData({minimumSeats:Math.max(i,l),billingDetails:{currency:c},existingAccount:t}),a(!1))},[i,s,t,l,c]),o.jsxs(J.Item,{disabled:!0,icon:Ua,trailing:!e&&o.jsxs(J.Root,{children:[o.jsx(J.BasicTrigger,{asChild:!0,children:o.jsx(aQ,{"aria-label":n.formatMessage({id:"1Fk+46",defaultMessage:"Workspace options"}),icon:Ja})}),o.jsx(J.Portal,{children:o.jsxs(J.Content,{alignOffset:2,sideOffset:-2,size:"auto",align:"end",children:[r&&o.jsx(o.Fragment,{children:o.jsx(J.Item,{onClick:()=>{i==null?a(!0):pn.setPurchaseWorkspaceData({minimumSeats:Math.max(i,l),billingDetails:{currency:c},existingAccount:t})},children:s?o.jsx(On,{}):o.jsx(N,{id:"navigation.reactivateWorkspace",defaultMessage:"Reactivate workspace"})})}),o.jsx(J.Item,{color:"danger",onClick:()=>{pn.setLeaveWorkspaceData(t)},children:o.jsx(N,{id:"navigation.leaveWorkspace",defaultMessage:"Leave workspace"})})]})})]}),children:[o.jsx("div",{className:"line-clamp-1",children:r5(n,t)}),o.jsx(dw,{children:o.jsx(N,{id:"navigation.deactivedWorkspacePill",defaultMessage:"Deactivated"})}),e&&o.jsx(On,{})]})}function zVe(){return{queryKey:["personalityTypeList"],queryFn:()=>ue.safeGet("/personality_types")}}function dSt(){return ut(zVe())}const fSt=t=>{"use forget";var M,E;const e=ee.c(31),{enabled:n,models:r,onSelect:s,selectedModel:a}=t,[i,l]=g.useState(!1);let c;e[0]!==r?(c=r!=null?r:[],e[0]=r,e[1]=c):c=e[1];const u=c,d=Z();let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=T=>{l(T),T&&B.logEventWithStatsig("User Context: View Personalities","chatgpt_user_context_view_personalities")},e[2]=f):f=e[2];let m;e[3]!==d?(m=d.formatMessage({id:"user-context-modal.personality.select",defaultMessage:"Select personality"}),e[3]=d,e[4]=m):m=e[4];const p=!n;let h;e[5]!==d||e[6]!==u||e[7]!==a?(h=(E=(M=u.find(T=>T.key===a))==null?void 0:M.label)!=null?E:d.formatMessage({id:"user-context-modal.personality.default",defaultMessage:"Default"}),e[5]=d,e[6]=u,e[7]=a,e[8]=h):h=e[8];let v;e[9]!==h?(v=o.jsx("span",{children:h}),e[9]=h,e[10]=v):v=e[10];let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=o.jsx("svg",{className:"text-muted ms-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),e[11]=y):y=e[11];let x;e[12]!==m||e[13]!==p||e[14]!==v?(x=o.jsxs(J.Trigger,{className:"data-[state=open]:bg-token-bg-tertiary flex h-min w-fit items-center justify-between rounded-lg border px-3 py-2 text-start",id:"personality-select-trigger","aria-label":m,disabled:p,children:[v,y]}),e[12]=m,e[13]=p,e[14]=v,e[15]=x):x=e[15];const b=a!=null?a:"default";let _;e[16]!==s?(_=T=>{s(T),l(!1)},e[16]=s,e[17]=_):_=e[17];let w;if(e[18]!==u||e[19]!==a){let T;e[21]!==a?(T=j=>o.jsx(J.RadioItem,{color:a===j.key||!a&&j.key==="default"?"selected":"default",value:j.key,label:j.label,secondary:j.description},j.key),e[21]=a,e[22]=T):T=e[22],w=u.map(T),e[18]=u,e[19]=a,e[20]=w}else w=e[20];let S;e[23]!==_||e[24]!==w||e[25]!==b?(S=o.jsx(J.Portal,{children:o.jsx(J.Content,{size:"auto",alignOffset:-7,children:o.jsx(J.RadioGroup,{value:b,onValueChange:_,children:w})})}),e[23]=_,e[24]=w,e[25]=b,e[26]=S):S=e[26];let k;return e[27]!==i||e[28]!==S||e[29]!==x?(k=o.jsxs(J.Root,{open:i,onOpenChange:f,children:[x,S]}),e[27]=i,e[28]=S,e[29]=x,e[30]=k):k=e[30],k};function mSt({label:t,description:e,selector:n}){return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{children:t}),e!=null&&o.jsx(z2e,{className:"pe-12!",children:e})]}),n]})}function GVe(t){const e=Object.values(t);return n=>e.includes(n)}var foe=(t=>(t.FLEXIBLE="month",t.ANNUAL="year",t))(foe||{});const WVe=GVe(foe);function pSt({isOpen:t,onClose:e,initialTeamBillingType:n,renewalDate:r,accountId:s,billingDetails:a}){const[i,l]=g.useState(n),[c,u]=g.useState(!1),[d,f]=g.useState(!1),m=Z(),p=Tt(),h=VHe(s),v=async()=>{f(!0);try{await h.mutateAsync({accountId:s,updatedPriceInterval:i==="month"?"month":"year",updatedSeats:void 0}),f(!1);const w=i==="month"?"monthly":"annual",S=m.formatDate(r,{year:"numeric",month:"long",day:"numeric"});p.success(m.formatMessage({id:"teamBilling.successfullyUpdatedSubscriptionFrequency",defaultMessage:"Your plan will change to {updatedBillingFrequency} on {renewalDate}"},{updatedBillingFrequency:w,renewalDate:S}),{hasCloseButton:!0}),u(!1),e()}catch(w){p.warning(m.formatMessage({id:"teamBilling.errorUpdatingSubscription",defaultMessage:"There was a problem updating your subscription"}),{hasCloseButton:!0})}finally{f(!1)}},{flexibleBillingPlan:y,annualBillingPlan:x}=uoe(a.currency),b=i==="month"?y:x,_=()=>{u(!1),l(n),e()};return o.jsx(tt,{testId:"modal-teams-change-billing-schedule",type:"success",isOpen:t,onClose:_,size:"custom",className:"max-w-xl",noPadding:!0,title:c?m.formatMessage({id:"teamBilling.changeBillingScheduleConfirmTitle",defaultMessage:"Confirm changes"}):m.formatMessage({id:"teamBilling.changeBillingScheduleTitle",defaultMessage:"Change billing schedule"}),showCloseButton:!0,children:c?o.jsx(KVe,{selectedPlan:i,initialTeamBillingType:n,renewalDate:r,handleUpdate:v,isUpdating:d,selectedBillingPlan:b,onClose:_}):o.jsx(ZVe,{setSelectedPlan:l,selectedPlan:i,initialTeamBillingType:n,setConfirmPage:u,renewalDate:r,flexibleBillingPlan:y,annualBillingPlan:x,onClose:_})})}function ZVe({selectedPlan:t,setSelectedPlan:e,initialTeamBillingType:n,setConfirmPage:r,renewalDate:s,flexibleBillingPlan:a,annualBillingPlan:i,onClose:l}){const c=Z();return o.jsxs("div",{className:"flex flex-col p-6",children:[o.jsx("div",{className:"grid grid-flow-row grid-cols-2",children:o.jsxs(coe,{className:"col-span-2 grid gap-4 md:col-span-2 md:grid-cols-2",defaultValue:t,onValueChange:u=>{WVe(u)&&e(u)},children:[o.jsx(uO,P(C({billingType:"month"},a),{selectedValue:t})),o.jsx(uO,P(C({billingType:"year"},i),{selectedValue:t}))]})}),o.jsx("span",{className:"text-token-text-secondary mt-5 text-sm",children:o.jsx(N,P(C({},He.changeEffectDate),{values:{date:o.jsx(nM,{value:s,year:"numeric",month:"long",day:"numeric"})}}))}),o.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[o.jsx(Ga,{title:c.formatMessage(He.cancel),color:"secondary",onClick:()=>l()}),o.jsx(Ga,{title:c.formatMessage(He.continueToPricePreview),disabled:t===n,color:"primary",onClick:()=>r(!0)})]})]})}function KVe({initialTeamBillingType:t,selectedPlan:e,renewalDate:n,handleUpdate:r,isUpdating:s,selectedBillingPlan:a,onClose:i}){const l=Z();return o.jsxs("div",{className:"p-4",children:[o.jsx("span",{className:"text-sm",children:o.jsx(N,P(C({},He.confirmPageChangeEffectDate),{values:{current_plan:t==="month"?"Flexible (monthly)":"Annual",new_plan:e==="month"?"Flexible (monthly)":"Annual",date:o.jsx(nM,{value:n,year:"numeric",month:"long",day:"numeric"})}}))}),o.jsxs("div",{className:"bg-token-main-surface-secondary mt-4 flex flex-col rounded-xl p-4",children:[o.jsx("span",{className:"font-semibold",children:o.jsx(N,C({},a.name))}),o.jsx("span",{className:"text-sm",children:o.jsx(N,P(C({},a.cost),{values:{monthlyCost:a.monthlyCost,discountedMonthlyCost:a.discountedMonthlyCost,currencyCode:l.formatMessage(a.currencyCode),currencySign:l.formatMessage(a.currencySign),s:(...c)=>o.jsx(PS,{children:c})}}))}),o.jsx("span",{className:"text-token-text-secondary text-sm",children:o.jsx(N,C({},a.costStructure))})]}),o.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[o.jsx(Ga,{title:l.formatMessage(He.cancel),color:"secondary",onClick:i}),o.jsx(Ga,{title:l.formatMessage(He.confirmChange),color:"primary",onClick:r,loading:s})]})]})}const pT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.1123 2.79479C8.3452 2.62586 8.66066 2.62586 8.89355 2.79479L10.2266 3.76061L11.5596 2.79479L11.6504 2.73912C11.8698 2.62842 12.1361 2.64708 12.3398 2.79479L14.0635 4.04479C14.2358 4.16989 14.3379 4.36992 14.3379 4.58287V10.1678H16.668C17.035 10.1681 17.332 10.4658 17.332 10.8329V15.1678C17.332 16.3625 16.3637 17.3309 15.1689 17.3309C15.0538 17.3309 14.9413 17.3189 14.8311 17.3016V17.3319H5C3.7123 17.3319 2.66804 16.2875 2.66797 14.9999V4.58287C2.66797 4.36996 2.77013 4.1699 2.94238 4.04479L4.66602 2.79479L4.75684 2.73912C4.97634 2.6283 5.2435 2.64699 5.44727 2.79479L6.7793 3.76158L8.1123 2.79479ZM10.6172 5.12096C10.3843 5.28976 10.0688 5.28976 9.83594 5.12096L8.50293 4.15416L7.16992 5.12096C6.93714 5.28969 6.62246 5.28962 6.38965 5.12096L5.05664 4.15416L3.99805 4.92174V14.9999C3.99812 15.553 4.44684 16.0018 5 16.0018H13.1729C13.0655 15.7451 13.0059 15.4635 13.0059 15.1678V10.8329C13.0059 10.8264 13.0076 10.8198 13.0078 10.8133V4.92174L11.9492 4.15318L10.6172 5.12096ZM14.3379 13.9979H14.3359V15.1678C14.336 15.6279 14.7089 16.0007 15.1689 16.0008C15.6291 16.0008 16.0029 15.628 16.0029 15.1678V11.4979H14.3379V13.9979ZM10.1348 11.0155C10.4376 11.0777 10.665 11.3457 10.665 11.6669C10.665 11.988 10.4375 12.2561 10.1348 12.3182L10 12.3319H6.66699C6.29977 12.3319 6.00203 12.0341 6.00195 11.6669C6.00195 11.2996 6.29972 11.0018 6.66699 11.0018H10L10.1348 11.0155ZM10.1348 7.6815C10.4376 7.74369 10.665 8.01167 10.665 8.33287C10.665 8.65402 10.4375 8.92207 10.1348 8.98424L10 8.99791H6.66699C6.29977 8.99791 6.00203 8.70008 6.00195 8.33287C6.00195 7.9656 6.29972 7.66783 6.66699 7.66783H10L10.1348 7.6815Z"})),gSt=Object.freeze(Object.defineProperty({__proto__:null,default:pT},Symbol.toStringTag,{value:"Module"}));function hSt(){const t=q(),e=ie(t,"3375735072"),n=it();return e?o.jsx(J.Item,{onSelect:()=>{n("#settings/".concat(Dn.Orders),{replace:!1})},icon:pT,children:o.jsx(N,{id:"rcTyEn",defaultMessage:"Orders"})}):null}const YVe=g.createContext(()=>Promise.resolve()),l3=g.createContext(null),moe=()=>g.useContext(l3)!=null;g.createContext({onDismount:()=>{}});/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QVe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JVe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),fO=t=>{const e=JVe(t);return e.charAt(0).toUpperCase()+e.slice(1)},poe=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),XVe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var e$e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$e=g.forwardRef((u,c)=>{var d=u,{color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i}=d,l=de(d,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return g.createElement("svg",C(C(P(C({ref:c},e$e),{width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:poe("lucide",s)}),!a&&!XVe(l)&&{"aria-hidden":"true"}),l),[...i.map(([f,m])=>g.createElement(f,m)),...Array.isArray(a)?a:[a]])});/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=(t,e)=>{const n=g.forwardRef((i,a)=>{var l=i,{className:r}=l,s=de(l,["className"]);return g.createElement(t$e,C({ref:a,iconNode:e,className:poe("lucide-".concat(QVe(fO(t))),"lucide-".concat(t),r)},s))});return n.displayName=fO(t),n};/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$e=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]],vSt=Wf("atom",n$e);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$e=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ySt=Wf("chevron-right",r$e);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$e=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xSt=Wf("settings",s$e);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$e=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]],bSt=Wf("sparkle",a$e);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],CSt=Wf("square-pen",o$e);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_St=Wf("x",i$e),goe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.75008 5.62467C3.75008 4.58914 4.58955 3.74967 5.62508 3.74967C6.66062 3.74967 7.50008 4.58914 7.50008 5.62467C7.50008 6.66021 6.66062 7.49967 5.62508 7.49967C4.58955 7.49967 3.75008 6.66021 3.75008 5.62467ZM16.2501 14.3747C16.2501 15.4102 15.4106 16.2497 14.3751 16.2497C13.3395 16.2497 12.5001 15.4102 12.5001 14.3747C12.5001 13.3391 13.3395 12.4997 14.3751 12.4997C15.4106 12.4997 16.2501 13.3391 16.2501 14.3747ZM2.08342 5.62467C2.08342 7.58068 3.66907 9.16634 5.62508 9.16634C7.29345 9.16634 8.6921 8.01268 9.06746 6.45964C9.73647 6.46072 10.2401 6.46482 10.6267 6.48975C10.8649 6.50512 11.0321 6.52644 11.1492 6.55159C11.2089 6.56444 11.2458 6.57653 11.2664 6.58415L11.2851 6.59066C11.6136 6.80242 11.7505 7.21453 11.6147 7.58105L11.6041 7.59733C11.5922 7.61577 11.5702 7.64795 11.53 7.69417C11.4514 7.78457 11.3306 7.90184 11.1492 8.05713C10.7823 8.37111 10.2519 8.76952 9.50041 9.33317L8.51571 10.0762C8.22639 10.2985 7.97661 10.4973 7.76782 10.6759C7.37982 11.008 6.99045 11.3855 6.82218 11.8397L6.75545 12.0472C6.48783 13.0216 6.83567 14.0642 7.63436 14.6831L7.81258 14.8092C8.21969 15.0716 8.75721 15.1402 9.26685 15.173C9.7059 15.2013 10.2598 15.2045 10.9327 15.2056C11.3067 16.7606 12.7053 17.9163 14.3751 17.9163C16.3311 17.9163 17.9167 16.3307 17.9167 14.3747C17.9167 12.4187 16.3311 10.833 14.3751 10.833C12.7071 10.833 11.3092 11.9863 10.9335 13.5389C10.2641 13.5378 9.76021 13.5345 9.37345 13.5096C9.13522 13.4942 8.96808 13.4729 8.85099 13.4478C8.73167 13.4221 8.70283 13.4008 8.71509 13.4087L8.60116 13.32C8.39161 13.1265 8.29558 12.8379 8.34725 12.5575L8.3855 12.4183C8.38036 12.4322 8.38979 12.3976 8.47013 12.3052C8.54873 12.2148 8.66956 12.0975 8.85099 11.9422C9.03444 11.7852 9.25894 11.6071 9.53133 11.3978L10.4998 10.6662C11.2319 10.1171 11.8147 9.68082 12.2323 9.3234C12.5719 9.03281 12.9123 8.70755 13.1047 8.3265L13.178 8.15967C13.5852 7.0601 13.1732 5.82531 12.1876 5.1901L12.0289 5.10059C11.6464 4.91134 11.1792 4.85508 10.7333 4.82633C10.2944 4.79805 9.7408 4.79399 9.06828 4.79297C8.69409 3.23828 7.29462 2.08301 5.62508 2.08301C3.66907 2.08301 2.08342 3.66867 2.08342 5.62467Z"})),wSt=Object.freeze(Object.defineProperty({__proto__:null,default:goe},Symbol.toStringTag,{value:"Module"})),gT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10 12.668C11.7333 12.668 13.331 13.1693 14.5117 14.0127C15.691 14.8551 16.4989 16.0791 16.499 17.5C16.4988 17.8669 16.2009 18.1647 15.834 18.165C15.4668 18.165 15.1691 17.8671 15.1689 17.5C15.1688 16.62 14.6699 15.7602 13.7383 15.0947C12.8078 14.4302 11.488 13.9981 10 13.998C8.51211 13.9981 7.19214 14.4303 6.26172 15.0947C5.33026 15.7602 4.83215 16.6201 4.83203 17.5C4.83186 17.867 4.53404 18.1649 4.16699 18.165C3.79983 18.165 3.50213 17.8671 3.50195 17.5C3.50207 16.0791 4.3099 14.8551 5.48926 14.0127C6.66991 13.1695 8.26685 12.668 10 12.668Z",fill:"currentColor"}),g.createElement("path",{d:"M7.91699 5C8.60724 5.00013 9.16699 5.55973 9.16699 6.25C9.16699 6.94027 8.60724 7.49987 7.91699 7.5C7.22664 7.5 6.66699 6.94036 6.66699 6.25C6.66699 5.55964 7.22664 5 7.91699 5Z",fill:"currentColor"}),g.createElement("path",{d:"M12.083 5C12.7734 5 13.333 5.55964 13.333 6.25C13.333 6.94036 12.7734 7.5 12.083 7.5C11.3928 7.49987 10.833 6.94027 10.833 6.25C10.833 5.55973 11.3928 5.00013 12.083 5Z",fill:"currentColor"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.00195C10.3673 1.00195 10.665 1.29972 10.665 1.66699V2.25195H13.1113C13.554 2.25195 13.9248 2.25137 14.2275 2.27539C14.5377 2.30004 14.8331 2.35361 15.1143 2.49219C15.5745 2.71921 15.9478 3.09243 16.1748 3.55273C16.3133 3.83385 16.367 4.12942 16.3916 4.43945C16.4156 4.74209 16.415 5.11318 16.415 5.55566C16.415 6.45208 16.4157 7.16418 16.3701 7.7373C16.324 8.31755 16.2274 8.81322 16.0029 9.26855C15.6137 10.0577 14.9746 10.6967 14.1855 11.0859C13.73 11.3105 13.2339 11.407 12.6533 11.4531C12.0802 11.4987 11.369 11.499 10.4727 11.499H9.52734C8.631 11.499 7.91978 11.4987 7.34668 11.4531C6.76612 11.407 6.26997 11.3105 5.81445 11.0859C5.02538 10.6967 4.38629 10.0577 3.99707 9.26855C3.77258 8.81322 3.67603 8.31755 3.62988 7.7373C3.58434 7.16418 3.58496 6.45208 3.58496 5.55566C3.58496 5.11318 3.5844 4.74209 3.6084 4.43945C3.63303 4.12942 3.6867 3.83385 3.8252 3.55273C4.05219 3.09243 4.42545 2.71921 4.88574 2.49219C5.16693 2.35361 5.46234 2.30004 5.77246 2.27539C6.07515 2.25137 6.44604 2.25195 6.88867 2.25195H9.33496V1.66699C9.33496 1.29972 9.63273 1.00195 10 1.00195ZM6.88867 3.58203C6.42452 3.58203 6.11484 3.58266 5.87695 3.60156C5.64679 3.61988 5.54082 3.65242 5.47363 3.68555C5.27602 3.78307 5.11605 3.94299 5.01855 4.14062C4.98547 4.20782 4.95287 4.31406 4.93457 4.54395C4.91569 4.78179 4.91504 5.09172 4.91504 5.55566C4.91504 6.47338 4.91567 7.1236 4.95605 7.63184C4.99587 8.13234 5.07138 8.43926 5.19043 8.68066C5.45025 9.20725 5.87667 9.63384 6.40332 9.89355C6.64477 10.0126 6.9515 10.0881 7.45215 10.1279C7.96034 10.1683 8.60976 10.1689 9.52734 10.1689H10.4727C11.3902 10.1689 12.0397 10.1683 12.5479 10.1279C13.0485 10.0881 13.3552 10.0126 13.5967 9.89355C14.1233 9.63384 14.5498 9.20725 14.8096 8.68066C14.9286 8.43926 15.0041 8.13234 15.0439 7.63184C15.0843 7.1236 15.085 6.47338 15.085 5.55566C15.085 5.09172 15.0843 4.78179 15.0654 4.54395C15.0471 4.31406 15.0145 4.20782 14.9814 4.14062C14.884 3.94299 14.724 3.78307 14.5264 3.68555C14.4592 3.65242 14.3532 3.61988 14.123 3.60156C13.8852 3.58266 13.5755 3.58203 13.1113 3.58203H6.88867Z",fill:"currentColor"})),SSt=Object.freeze(Object.defineProperty({__proto__:null,default:gT},Symbol.toStringTag,{value:"Module"})),pg=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.16683 6.25016C9.16683 6.94052 8.60719 7.50016 7.91683 7.50016C7.22647 7.50016 6.66683 6.94052 6.66683 6.25016C6.66683 5.55981 7.22647 5.00016 7.91683 5.00016C8.60719 5.00016 9.16683 5.55981 9.16683 6.25016Z",fill:"currentColor"}),g.createElement("path",{d:"M12.0835 7.50016C12.7739 7.50016 13.3335 6.94052 13.3335 6.25016C13.3335 5.55981 12.7739 5.00016 12.0835 5.00016C11.3931 5.00016 10.8335 5.55981 10.8335 6.25016C10.8335 6.94052 11.3931 7.50016 12.0835 7.50016Z",fill:"currentColor"}),g.createElement("path",{d:"M10.0002 0.833496C10.4604 0.833496 10.8335 1.20659 10.8335 1.66683V2.0835L13.2258 2.0835C13.6528 2.08348 14.0211 2.08347 14.3248 2.1076C14.6452 2.13306 14.9641 2.18923 15.2726 2.34131C15.7661 2.58472 16.1656 2.98419 16.409 3.47777C16.5611 3.78618 16.6173 4.10515 16.6427 4.42551C16.6669 4.72916 16.6668 5.0975 16.6668 5.52444V5.59036C16.6668 6.46819 16.6668 7.17623 16.6212 7.75012C16.5743 8.34085 16.4752 8.86036 16.2371 9.34303C15.8315 10.1657 15.1657 10.8315 14.343 11.2371C13.8604 11.4752 13.3409 11.5743 12.7501 11.6212C12.1762 11.6668 11.4682 11.6668 10.5904 11.6668H9.40996C8.53214 11.6668 7.82409 11.6668 7.25021 11.6212C6.65947 11.5743 6.13997 11.4752 5.6573 11.2371C4.83466 10.8315 4.16888 10.1657 3.7632 9.34303C3.52517 8.86036 3.42603 8.34086 3.37909 7.75012C3.33349 7.17626 3.33349 6.46824 3.3335 5.59045V5.52452C3.33348 5.09756 3.33347 4.72917 3.3576 4.42552C3.38306 4.10515 3.43923 3.78618 3.59132 3.47777C3.83472 2.98419 4.23419 2.58472 4.72778 2.34131C5.03618 2.18923 5.35515 2.13306 5.67552 2.1076C5.97918 2.08347 6.34754 2.08348 6.77452 2.0835L9.16683 2.0835V1.66683C9.16683 1.20659 9.53993 0.833496 10.0002 0.833496ZM5.80754 3.76903C5.58716 3.78654 5.50506 3.81631 5.46492 3.8361C5.3004 3.91724 5.16724 4.0504 5.0861 4.21492C5.06631 4.25506 5.03654 4.33716 5.01903 4.55754C5.00078 4.78724 5.00016 5.08875 5.00016 5.55572C5.00017 6.4763 5.00078 7.11801 5.04052 7.61809C5.07951 8.10885 5.15225 8.39149 5.25799 8.60589C5.50139 9.09947 5.90086 9.49894 6.39444 9.74234C6.60885 9.84807 6.89149 9.92081 7.38224 9.95981C7.88231 9.99955 8.52403 10.0002 9.44461 10.0002H10.5557C11.4763 10.0002 12.118 9.99955 12.6181 9.95981C13.1088 9.92081 13.3915 9.84807 13.6059 9.74234C14.0995 9.49894 14.4989 9.09946 14.7423 8.60588C14.8481 8.39148 14.9208 8.10884 14.9598 7.61809C14.9996 7.11801 15.0002 6.4763 15.0002 5.55572C15.0002 5.08875 14.9996 4.78724 14.9813 4.55754C14.9638 4.33716 14.934 4.25505 14.9142 4.21492C14.8331 4.0504 14.6999 3.91724 14.5354 3.8361C14.4953 3.81631 14.4132 3.78654 14.1928 3.76903C13.9631 3.75078 13.6616 3.75016 13.1946 3.75016H6.80572C6.33875 3.75016 6.03725 3.75078 5.80754 3.76903Z",fill:"currentColor"}),g.createElement("path",{d:"M5.00016 17.5002C5.00016 16.6885 5.45932 15.8752 6.35976 15.232C7.2586 14.59 8.54304 14.1668 10.0002 14.1668C11.4574 14.1668 12.7418 14.59 13.6406 15.232C14.541 15.8752 15.0002 16.6886 15.0002 17.5002C15.0002 17.9604 15.3733 18.3335 15.8335 18.3335C16.2937 18.3335 16.6668 17.9604 16.6668 17.5002C16.6668 16.0106 15.8201 14.7407 14.6093 13.8758C13.3969 13.0098 11.7647 12.5002 10.0002 12.5002C8.23572 12.5002 6.60347 13.0097 5.39104 13.8758C4.1802 14.7406 3.3335 16.0106 3.3335 17.5002C3.3335 17.9604 3.70659 18.3335 4.16683 18.3335C4.62707 18.3335 5.00016 17.9604 5.00016 17.5002Z",fill:"currentColor"})),kSt=Object.freeze(Object.defineProperty({__proto__:null,default:pg},Symbol.toStringTag,{value:"Module"})),hoe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.97146 4.16912C6.93158 4.16695 6.88766 4.16667 6.73816 4.16667H6.08333C5.36952 4.16667 4.88427 4.16732 4.5092 4.19796C4.14385 4.22781 3.95702 4.28192 3.82668 4.34833C3.51308 4.50811 3.25811 4.76308 3.09832 5.07669C3.03191 5.20702 2.97781 5.39385 2.94796 5.7592C2.91732 6.13428 2.91667 6.61952 2.91667 7.33334V11.1115C3.41954 10.2064 4.10522 9.39882 5.02691 8.7153C5.38552 8.44936 5.80836 8.33334 6.2118 8.33334H16.2496C16.2484 7.95726 16.2441 7.673 16.2281 7.43884C16.2073 7.13263 16.1692 6.97345 16.1231 6.8622C15.954 6.45382 15.6295 6.12936 15.2211 5.9602C15.1099 5.91412 14.9507 5.87608 14.6445 5.85519C14.3308 5.83379 13.9272 5.83334 13.3333 5.83334L10.7423 5.83334C10.6206 5.83335 10.5289 5.83336 10.4382 5.82844C9.6799 5.78728 8.95836 5.48841 8.39304 4.9813C8.32544 4.92065 8.2606 4.8558 8.17461 4.76979L8.16075 4.75593C8.05503 4.65021 8.02377 4.61936 7.99404 4.59269C7.71138 4.33913 7.35062 4.1897 6.97146 4.16912ZM17.9163 8.33334H18.0798C19.3938 8.33334 20.1817 9.77775 19.489 10.8836C18.5222 12.4269 18.0172 13.3149 17.7487 14.4394C17.3736 16.0101 16.084 17.5 14.2266 17.5H6.0489C6.0288 17.5 6.0088 17.5 5.98891 17.5H5.06143C4.9586 17.5 4.85617 17.4951 4.75448 17.4854C4.62007 17.4801 4.49316 17.473 4.37348 17.4632C3.90506 17.4249 3.47448 17.3428 3.07003 17.1367C2.44283 16.8171 1.93289 16.3072 1.61331 15.68C1.40724 15.2755 1.3251 14.8449 1.28683 14.3765C1.24998 13.9255 1.24999 13.3719 1.25 12.7011V7.29892C1.24999 6.62811 1.24998 6.07448 1.28683 5.62348C1.3251 5.15507 1.40724 4.72448 1.61331 4.32003C1.93289 3.69283 2.44283 3.18289 3.07003 2.86331C3.47448 2.65724 3.90506 2.5751 4.37348 2.53683C4.82447 2.49998 5.37811 2.49999 6.04892 2.5L6.75769 2.5C6.87936 2.49999 6.97106 2.49998 7.06178 2.5049C7.8201 2.54606 8.54164 2.84493 9.10696 3.35204C9.17458 3.4127 9.23941 3.47755 9.32544 3.5636L9.33926 3.57741C9.44496 3.68312 9.47623 3.71399 9.50596 3.74065C9.78862 3.99421 10.1494 4.14364 10.5285 4.16422C10.5684 4.16638 10.6123 4.16667 10.7618 4.16667L13.3619 4.16667C13.92 4.16666 14.3808 4.16666 14.7579 4.19239C15.149 4.21907 15.5108 4.27618 15.8589 4.4204C16.6757 4.75872 17.3246 5.40763 17.6629 6.22439C17.8071 6.57257 17.8643 6.93432 17.8909 7.32539C17.9105 7.61133 17.9152 7.9453 17.9163 8.33334ZM14.2266 15.8333C15.0834 15.8333 15.8723 15.1214 16.1276 14.0522C16.467 12.631 17.1154 11.5331 18.0758 10H6.2118C6.12169 10 6.05753 10.026 6.01969 10.054C4.62956 11.0849 3.90101 12.4837 3.5645 14.2736C3.43097 14.9838 3.98051 15.7196 4.8537 15.8214C5.17469 15.833 5.56988 15.8333 6.08333 15.8333H14.2266Z",fill:"currentColor"})),MSt=Object.freeze(Object.defineProperty({__proto__:null,default:hoe},Symbol.toStringTag,{value:"Module"})),kh=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.585 6.5C15.585 5.78896 15.5841 5.29563 15.5527 4.91211C15.5297 4.63025 15.4928 4.44063 15.4414 4.29688L15.3848 4.16699C15.2307 3.86474 14.9966 3.61186 14.709 3.43555L14.583 3.36524C14.425 3.28473 14.2136 3.22797 13.8379 3.19727C13.4544 3.16593 12.961 3.16504 12.25 3.16504H7.75C7.03896 3.16504 6.54563 3.16593 6.16211 3.19727C5.88025 3.2203 5.69063 3.25716 5.54688 3.30859L5.41699 3.36524C5.11473 3.51925 4.86186 3.75338 4.68555 4.04102L4.61524 4.16699C4.53473 4.325 4.47797 4.5364 4.44727 4.91211C4.41593 5.29563 4.41504 5.78896 4.41504 6.5V16.1348C4.44473 16.1134 4.47239 16.0909 4.50098 16.0713C4.72247 15.9193 4.94858 15.7936 5.21191 15.7207L5.36524 15.6836C5.72558 15.6097 6.09912 15.6222 6.45508 15.7207L6.64551 15.7842C6.83055 15.8574 6.99884 15.9572 7.16504 16.0713C7.37962 16.2186 7.62531 16.4147 7.91504 16.6465L7.91602 16.6475L7.91895 16.6465L8.32129 16.3271C8.44555 16.2307 8.56067 16.1449 8.66797 16.0713C8.88933 15.9194 9.11479 15.7936 9.37793 15.7207L9.53223 15.6836C9.89248 15.6098 10.2662 15.6223 10.6221 15.7207L10.8125 15.7842C10.9975 15.8575 11.1658 15.9572 11.332 16.0713C11.5465 16.2185 11.7914 16.4148 12.0811 16.6465L12.083 16.6475L12.085 16.6465C12.3747 16.4147 12.6204 16.2186 12.835 16.0713C13.0563 15.9194 13.2817 15.7935 13.5449 15.7207L13.6982 15.6836C14.0586 15.6097 14.4321 15.6222 14.7881 15.7207L14.9795 15.7842C15.1644 15.8575 15.3329 15.9573 15.499 16.0713C15.5276 16.0909 15.5553 16.1134 15.585 16.1348V6.5ZM10.417 10.168L10.5508 10.1816C10.8537 10.2436 11.0819 10.5118 11.082 10.833C11.082 11.1543 10.8537 11.4223 10.5508 11.4844L10.417 11.498H7.91699C7.54972 11.498 7.25195 11.2003 7.25195 10.833C7.25213 10.4659 7.54983 10.168 7.91699 10.168H10.417ZM12.083 6.83496L12.2178 6.84863C12.5206 6.91081 12.748 7.17879 12.748 7.5C12.748 7.82121 12.5206 8.0892 12.2178 8.15137L12.083 8.16504H7.91699C7.54972 8.16504 7.25195 7.86727 7.25195 7.5C7.25195 7.13273 7.54972 6.83496 7.91699 6.83496H12.083ZM16.915 17.5C16.915 17.7556 16.7685 17.9889 16.5381 18.0996C16.3078 18.2102 16.0345 18.179 15.835 18.0195L15.417 17.6855C15.1122 17.4417 14.9112 17.2813 14.7461 17.168C14.667 17.1137 14.6057 17.0763 14.5557 17.0508L14.4336 17.002C14.3026 16.9657 14.166 16.9575 14.0322 16.9756L13.8994 17.002C13.8331 17.0203 13.745 17.0594 13.5869 17.168C13.4219 17.2813 13.2206 17.4418 12.916 17.6855L12.499 18.0195C12.2866 18.1895 11.9957 18.2104 11.7637 18.083L11.668 18.0195L11.25 17.6855C10.9453 17.4418 10.7442 17.2813 10.5791 17.168C10.4999 17.1136 10.4387 17.0763 10.3887 17.0508L10.2666 17.002C10.1356 16.9658 9.99902 16.9574 9.86524 16.9756L9.7334 17.002C9.66709 17.0203 9.57898 17.0595 9.4209 17.168C9.33835 17.2246 9.2467 17.2932 9.1377 17.3779L8.75 17.6855L8.33203 18.0195C8.08917 18.2137 7.74379 18.2138 7.50098 18.0195L7.08399 17.6855C6.77935 17.4418 6.57814 17.2813 6.41309 17.168C6.3337 17.1135 6.27181 17.0763 6.22168 17.0508L6.10059 17.002C5.9696 16.9657 5.83298 16.9575 5.69922 16.9756L5.56641 17.002C5.50007 17.0203 5.41209 17.0594 5.25391 17.168C5.17132 17.2247 5.07977 17.2932 4.9707 17.3779L4.58301 17.6855L4.16504 18.0195C3.96548 18.179 3.69216 18.2102 3.46191 18.0996C3.23152 17.9889 3.08496 17.7556 3.08496 17.5V6.5C3.08496 5.81091 3.08431 5.25395 3.12109 4.80371C3.15851 4.34592 3.23788 3.94009 3.42969 3.56348L3.55176 3.34473C3.85585 2.84902 4.29244 2.44517 4.81348 2.17969L4.95606 2.11328C5.29235 1.96904 5.65306 1.90384 6.05371 1.87109C6.50395 1.83431 7.06091 1.83496 7.75 1.83496H12.25C12.9391 1.83496 13.496 1.83431 13.9463 1.87109C14.4041 1.90851 14.8099 1.98788 15.1865 2.17969L15.4053 2.30176C15.901 2.60585 16.3048 3.04244 16.5703 3.56348L16.6367 3.70606C16.781 4.04235 16.8462 4.40306 16.8789 4.80371C16.9157 5.25395 16.915 5.81091 16.915 6.5V17.5Z"})),ESt=Object.freeze(Object.defineProperty({__proto__:null,default:kh},Symbol.toStringTag,{value:"Module"})),hT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M11.8875 7.17263C13.4489 5.6115 15.9804 5.6113 17.5418 7.17263C19.1031 8.73397 19.1029 11.2655 17.5418 12.8269C15.9803 14.3884 13.4489 14.3884 11.8875 12.8269L9.99978 10.9402L8.11306 12.8269C6.55161 14.3884 4.02021 14.3884 2.45876 12.8269C0.897643 11.2655 0.897426 8.73397 2.45876 7.17263C4.0201 5.61129 6.55159 5.61151 8.11306 7.17263L9.99978 9.05935L11.8875 7.17263ZM7.17263 8.11306C6.13056 7.07134 4.44113 7.07112 3.39919 8.11306C2.35725 9.155 2.35747 10.8444 3.39919 11.8865C4.44124 12.9285 6.13058 12.9285 7.17263 11.8865L9.05935 9.99978L7.17263 8.11306ZM16.6013 8.11306C15.5594 7.07113 13.87 7.07133 12.8279 8.11306L10.9402 9.99978L12.8279 11.8865C13.87 12.9285 15.5593 12.9285 16.6013 11.8865C17.6431 10.8444 17.6433 9.15501 16.6013 8.11306Z",fill:"currentColor"})),jSt=Object.freeze(Object.defineProperty({__proto__:null,default:hT},Symbol.toStringTag,{value:"Module"})),Mh=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.6345 5.83331C16.6345 4.81987 15.813 3.99835 14.7996 3.99835C13.7863 3.99855 12.9646 4.81999 12.9646 5.83331C12.9646 6.84663 13.7863 7.66808 14.7996 7.66827C15.813 7.66827 16.6345 6.84676 16.6345 5.83331ZM3.36499 14.1663C3.36499 15.1798 4.18651 16.0013 5.19995 16.0013C6.21339 16.0013 7.03491 15.1798 7.03491 14.1663C7.03471 13.153 6.21327 12.3314 5.19995 12.3314C4.18663 12.3314 3.36519 13.153 3.36499 14.1663ZM17.9646 5.83331C17.9646 7.58129 16.5475 8.99835 14.7996 8.99835C13.2785 8.99818 12.0078 7.92497 11.7039 6.49445L11.6667 6.49835H11.3347C10.5362 6.49835 9.96426 6.49872 9.54565 6.52081C9.21098 6.53848 9.04089 6.56873 8.96069 6.59113L8.90796 6.60968C8.41777 6.86301 8.2248 7.46527 8.47632 7.95636L8.50757 8.00323C8.55968 8.068 8.68066 8.19148 8.94312 8.4007C9.27097 8.66203 9.73648 8.99501 10.3865 9.45929L11.239 10.0716C11.489 10.2539 11.7044 10.4155 11.8855 10.5599C12.2255 10.8309 12.5425 11.1144 12.7078 11.4368L12.8054 11.6536C13.206 12.6785 12.8306 13.8502 11.9089 14.4515L11.7029 14.5716C11.381 14.7379 10.9584 14.785 10.5242 14.8079C10.0619 14.8323 9.44766 14.8314 8.66479 14.8314H8.33276C8.31992 14.8314 8.30734 14.8282 8.29468 14.8275C7.9907 16.2581 6.72124 17.3314 5.19995 17.3314C3.45197 17.3314 2.03491 15.9143 2.03491 14.1663C2.03511 12.4185 3.45209 11.0013 5.19995 11.0013C6.72066 11.0013 7.99008 12.0743 8.29468 13.5042C8.30731 13.5035 8.31995 13.5013 8.33276 13.5013H8.66479C9.46362 13.5013 10.0362 13.5019 10.4548 13.4798C10.9013 13.4562 11.0544 13.4096 11.0925 13.39L11.1804 13.3382C11.5766 13.0799 11.7385 12.5765 11.5662 12.136L11.5242 12.0433C11.5046 12.0051 11.4062 11.8788 11.0564 11.5999C10.8925 11.4693 10.6943 11.3206 10.4558 11.1468L9.61304 10.5413C8.97593 10.0862 8.47599 9.72927 8.11401 9.44073C7.81659 9.20364 7.53702 8.95681 7.36108 8.68292L7.29272 8.56378C6.70695 7.42066 7.15568 6.0189 8.29663 5.42902L8.42163 5.3714C8.7241 5.25059 9.09524 5.21275 9.47534 5.19269C9.93756 5.16829 10.5518 5.16827 11.3347 5.16827H11.6667L11.7039 5.1712C12.0082 3.74114 13.2788 2.66845 14.7996 2.66827C16.5475 2.66827 17.9646 4.08533 17.9646 5.83331Z"})),TSt=Object.freeze(Object.defineProperty({__proto__:null,default:Mh},Symbol.toStringTag,{value:"Module"})),vT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M17.9189 9.33496C18.2861 9.33514 18.584 9.63284 18.584 10V11.2959C18.584 11.6631 18.2861 11.9608 17.9189 11.9609C17.5517 11.9609 17.2539 11.6632 17.2539 11.2959V10.665H15.25V16.002H15.835L15.9697 16.0156C16.2725 16.0778 16.5 16.3458 16.5 16.667C16.4998 16.9881 16.2725 17.2562 15.9697 17.3184L15.835 17.332H13.335C12.9679 17.3319 12.6701 17.034 12.6699 16.667C12.6699 16.2998 12.9678 16.0021 13.335 16.002H13.9199V10.665H11.917V11.2959C11.917 11.6632 11.6192 11.9609 11.252 11.9609C10.8847 11.9609 10.5869 11.6632 10.5869 11.2959V10C10.5869 9.63273 10.8847 9.33496 11.252 9.33496H17.9189Z",fill:"currentColor"}),g.createElement("path",{d:"M5.41895 2.66797C5.78596 2.66814 6.08381 2.96599 6.08398 3.33301V13.333C6.08398 13.7002 5.78606 13.9979 5.41895 13.998C5.05168 13.998 4.75391 13.7003 4.75391 13.333V3.33301C4.75408 2.96589 5.05178 2.66797 5.41895 2.66797Z",fill:"currentColor"}),g.createElement("path",{d:"M8.33496 5.16797C8.70212 5.16797 8.99983 5.46589 9 5.83301V10.833C9 11.2003 8.70223 11.498 8.33496 11.498C7.96784 11.4979 7.66992 11.2002 7.66992 10.833V5.83301C7.67009 5.46599 7.96795 5.16814 8.33496 5.16797Z",fill:"currentColor"}),g.createElement("path",{d:"M2.50195 6.83496C2.86912 6.83496 3.16682 7.13288 3.16699 7.5V9.16602C3.16699 9.53329 2.86922 9.83105 2.50195 9.83105C2.13468 9.83105 1.83691 9.53329 1.83691 9.16602V7.5C1.83709 7.13288 2.13479 6.83496 2.50195 6.83496Z",fill:"currentColor"}),g.createElement("path",{d:"M11.252 3.50098C11.619 3.50098 11.9166 3.79904 11.917 4.16602V7.08301C11.917 7.45028 11.6192 7.74805 11.252 7.74805C10.8847 7.74805 10.5869 7.45028 10.5869 7.08301V4.16602C10.5873 3.79904 10.8849 3.50098 11.252 3.50098Z",fill:"currentColor"})),NSt=Object.freeze(Object.defineProperty({__proto__:null,default:vT},Symbol.toStringTag,{value:"Module"})),IS=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M5.41684 2.5C5.87712 2.5 6.25025 2.8731 6.25025 3.33333V13.3333C6.25025 13.7936 5.87712 14.1667 5.41684 14.1667C4.95656 14.1667 4.58343 13.7936 4.58343 13.3333V3.33333C4.58343 2.8731 4.95656 2.5 5.41684 2.5ZM11.2507 3.33333C11.711 3.33333 12.0841 3.70643 12.0841 4.16667V7.08333C12.0841 7.54357 11.711 7.91667 11.2507 7.91667C10.7904 7.91667 10.4173 7.54357 10.4173 7.08333V4.16667C10.4173 3.70643 10.7904 3.33333 11.2507 3.33333ZM8.33377 5C8.79405 5 9.16718 5.3731 9.16718 5.83333V10.8333C9.16718 11.2936 8.79405 11.6667 8.33377 11.6667C7.87349 11.6667 7.50036 11.2936 7.50036 10.8333V5.83333C7.50036 5.3731 7.87349 5 8.33377 5ZM2.49991 6.66667C2.96019 6.66667 3.33332 7.03976 3.33332 7.5V9.16667C3.33332 9.6269 2.96019 10 2.49991 10C2.03963 10 1.6665 9.6269 1.6665 9.16667V7.5C1.6665 7.03976 2.03963 6.66667 2.49991 6.66667ZM10.4173 10C10.4173 9.53976 10.7904 9.16667 11.2507 9.16667H17.918C18.3782 9.16667 18.7514 9.53976 18.7514 10V11.2963C18.7514 11.7565 18.3782 12.1296 17.918 12.1296C17.4577 12.1296 17.0846 11.7565 17.0846 11.2963V10.8333H15.4177V15.8333H15.8344C16.2947 15.8333 16.6679 16.2064 16.6679 16.6667C16.6679 17.1269 16.2947 17.5 15.8344 17.5H13.3342C12.8739 17.5 12.5008 17.1269 12.5008 16.6667C12.5008 16.2064 12.8739 15.8333 13.3342 15.8333H13.7509V10.8333H12.0841V11.2963C12.0841 11.7565 11.711 12.1296 11.2507 12.1296C10.7904 12.1296 10.4173 11.7565 10.4173 11.2963V10Z",fill:"currentColor"})),ASt=Object.freeze(Object.defineProperty({__proto__:null,default:IS},Symbol.toStringTag,{value:"Module"})),yT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.94556 14.0276C7.9455 12.9375 7.06204 12.054 5.97192 12.054C4.88191 12.0541 3.99835 12.9376 3.99829 14.0276C3.99829 15.1177 4.88188 16.0011 5.97192 16.0012C7.06207 16.0012 7.94556 15.1177 7.94556 14.0276ZM7.94556 5.97192C7.94544 4.88187 7.062 3.99829 5.97192 3.99829C4.88195 3.99841 3.99841 4.88195 3.99829 5.97192C3.99829 7.062 4.88187 7.94544 5.97192 7.94556C7.06207 7.94556 7.94556 7.06207 7.94556 5.97192ZM16.0012 5.97192C16.0011 4.88187 15.1177 3.99829 14.0276 3.99829C12.9376 3.99835 12.0541 4.88191 12.054 5.97192C12.054 7.06204 12.9375 7.9455 14.0276 7.94556C15.1177 7.94556 16.0012 7.06207 16.0012 5.97192ZM9.27563 14.0276C9.27563 15.8523 7.79661 17.3313 5.97192 17.3313C4.14734 17.3312 2.66821 15.8522 2.66821 14.0276C2.66827 12.203 4.14737 10.724 5.97192 10.7239C7.79657 10.7239 9.27558 12.203 9.27563 14.0276ZM9.27563 5.97192C9.27563 7.79661 7.79661 9.27563 5.97192 9.27563C4.14734 9.27552 2.66821 7.79654 2.66821 5.97192C2.66833 4.14741 4.14741 2.66833 5.97192 2.66821C7.79654 2.66821 9.27552 4.14734 9.27563 5.97192ZM17.3313 5.97192C17.3313 7.79661 15.8523 9.27563 14.0276 9.27563C12.203 9.27558 10.7239 7.79658 10.7239 5.97192C10.724 4.14737 12.203 2.66827 14.0276 2.66821C15.8522 2.66821 17.3312 4.14734 17.3313 5.97192Z",fill:"currentColor"}),g.createElement("path",{d:"M11.6001 14.5L13.1001 16.25L16.6001 11.5",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),PSt=Object.freeze(Object.defineProperty({__proto__:null,default:yT},Symbol.toStringTag,{value:"Module"})),voe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.94556 14.0276C7.9455 12.9375 7.06204 12.054 5.97192 12.054C4.88191 12.0541 3.99835 12.9376 3.99829 14.0276C3.99829 15.1177 4.88188 16.0011 5.97192 16.0012C7.06207 16.0012 7.94556 15.1177 7.94556 14.0276ZM7.94556 5.97192C7.94544 4.88187 7.062 3.99829 5.97192 3.99829C4.88195 3.99841 3.99841 4.88195 3.99829 5.97192C3.99829 7.062 4.88187 7.94544 5.97192 7.94556C7.06207 7.94556 7.94556 7.06207 7.94556 5.97192ZM16.0012 5.97192C16.0011 4.88187 15.1177 3.99829 14.0276 3.99829C12.9376 3.99835 12.0541 4.88191 12.054 5.97192C12.054 7.06204 12.9375 7.9455 14.0276 7.94556C15.1177 7.94556 16.0012 7.06207 16.0012 5.97192ZM9.27563 14.0276C9.27563 15.8523 7.79661 17.3313 5.97192 17.3313C4.14734 17.3312 2.66821 15.8522 2.66821 14.0276C2.66827 12.203 4.14737 10.724 5.97192 10.7239C7.79657 10.7239 9.27558 12.203 9.27563 14.0276ZM9.27563 5.97192C9.27563 7.79661 7.79661 9.27563 5.97192 9.27563C4.14734 9.27552 2.66821 7.79654 2.66821 5.97192C2.66833 4.14741 4.14741 2.66833 5.97192 2.66821C7.79654 2.66821 9.27552 4.14734 9.27563 5.97192ZM17.3313 5.97192C17.3313 7.79661 15.8523 9.27563 14.0276 9.27563C12.203 9.27558 10.7239 7.79658 10.7239 5.97192C10.724 4.14737 12.203 2.66827 14.0276 2.66821C15.8522 2.66821 17.3312 4.14734 17.3313 5.97192Z",fill:"currentColor"}),g.createElement("path",{d:"M8 12L12 8",stroke:"currentColor",strokeWidth:1.33}),g.createElement("path",{d:"M11.6665 13.7501H14.3748M17.0832 13.7501H14.3748M14.3748 13.7501V11.0417M14.3748 13.7501V16.4584",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),ISt=Object.freeze(Object.defineProperty({__proto__:null,default:voe},Symbol.toStringTag,{value:"Module"})),l$e=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.75 8.08496C15.2676 8.08509 16.4988 9.31538 16.499 10.833V11.9316C17.4623 12.2183 18.165 13.1107 18.165 14.167V15.833C18.165 17.1208 17.1208 18.165 15.833 18.165H11.667C10.3792 18.165 9.33496 17.1208 9.33496 15.833V14.167C9.33496 13.1104 10.0382 12.218 11.002 11.9316V10.833C11.0021 9.3154 12.2324 8.08514 13.75 8.08496ZM11.667 13.165C11.1138 13.165 10.665 13.6138 10.665 14.167V15.833C10.665 16.3862 11.1138 16.835 11.667 16.835H15.833C16.3862 16.835 16.835 16.3862 16.835 15.833V14.167C16.835 13.6138 16.3862 13.165 15.833 13.165H11.667ZM13.75 9.41504C12.9669 9.41522 12.3322 10.0499 12.332 10.833V11.835H15.1689V10.833C15.1688 10.0499 14.5331 9.41517 13.75 9.41504Z",fill:"currentColor"}),g.createElement("path",{d:"M11.3975 2.25195C13.5215 2.25195 15.364 3.45212 16.2861 5.20898L16.458 5.56836L16.5 5.69629C16.564 5.99877 16.4088 6.31507 16.1143 6.44336C15.8197 6.57152 15.4825 6.46971 15.3047 6.2168L15.2393 6.09961L15.1084 5.82617C14.4075 4.49097 13.0079 3.58203 11.3975 3.58203C9.08469 3.58207 7.21018 5.45681 7.20996 7.76953C7.20999 8.19346 7.27232 8.60229 7.38867 8.98633C7.45965 9.22098 7.39599 9.47604 7.22266 9.64941L3.33594 13.5361C3.22662 13.6457 3.1651 13.7944 3.16504 13.9492V16.002H5.21777C5.37259 16.0019 5.52126 15.9404 5.63086 15.8311L6.00195 15.46V14.167C6.00195 13.7997 6.29972 13.502 6.66699 13.502C7.03411 13.5021 7.33203 13.7998 7.33203 14.167V15.7354C7.33195 15.9116 7.26135 16.0814 7.13672 16.2061L6.57129 16.7715C6.21227 17.1302 5.72533 17.332 5.21777 17.332H2.5C2.13284 17.332 1.83513 17.0341 1.83496 16.667V13.9492C1.83503 13.4417 2.03676 12.9547 2.39551 12.5957L6.01172 8.97852C5.92469 8.58921 5.87991 8.18394 5.87988 7.76953C5.8801 4.72227 8.35016 2.25199 11.3975 2.25195Z",fill:"currentColor"})),LSt=Object.freeze(Object.defineProperty({__proto__:null,default:l$e},Symbol.toStringTag,{value:"Module"})),c$e=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M13.333 5.20801C14.1384 5.20801 14.792 5.86158 14.792 6.66699C14.7918 7.47226 14.1383 8.125 13.333 8.125C12.5279 8.12482 11.8752 7.47215 11.875 6.66699C11.875 5.86169 12.5277 5.20818 13.333 5.20801Z",fill:"currentColor"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.501 1.83496C15.6292 1.83547 18.166 4.37155 18.166 7.5C18.166 10.6284 15.6292 13.1645 12.501 13.165C12.071 13.165 11.6513 13.1156 11.248 13.0244L10.0547 14.2197C9.93008 14.3444 9.76025 14.4149 9.58398 14.415H8.58203V15.417C8.58203 15.5932 8.51225 15.763 8.3877 15.8877L7.50391 16.7715C7.14519 17.1298 6.65714 17.3319 6.14941 17.332H3.33398C2.96672 17.332 2.66797 17.0343 2.66797 16.667V13.8516C2.66797 13.344 2.8701 12.8555 3.22949 12.4961L6.97461 8.75098C6.88373 8.34804 6.83594 7.92929 6.83594 7.5C6.83594 4.37131 9.37228 1.83496 12.501 1.83496ZM12.501 3.16504C10.1068 3.16504 8.16602 5.10585 8.16602 7.5L8.17773 7.82617C8.20166 8.1485 8.26132 8.46077 8.35156 8.75879C8.42229 8.99304 8.35829 9.24762 8.18555 9.4209L4.1709 13.4365C4.06145 13.546 3.99902 13.696 3.99902 13.8516V16.002H6.14941C6.30397 16.0018 6.45269 15.9398 6.5625 15.8301L7.25195 15.1406V13.75C7.25195 13.3827 7.54972 13.085 7.91699 13.085H9.30859L10.5771 11.8154L10.6465 11.7549C10.8146 11.6277 11.036 11.5862 11.2412 11.6484C11.6393 11.7691 12.0624 11.835 12.501 11.835L12.7236 11.8291C15.014 11.7128 16.8359 9.81911 16.8359 7.5C16.8359 5.18089 15.014 3.28725 12.7236 3.1709L12.501 3.16504Z",fill:"currentColor"})),RSt=Object.freeze(Object.defineProperty({__proto__:null,default:c$e},Symbol.toStringTag,{value:"Module"})),xT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.57715 9.14006L4.04365 9.61398C4.17064 9.48898 4.24215 9.31824 4.24215 9.14006C4.24215 8.96187 4.17064 8.79114 4.04365 8.66614L3.57715 9.14006ZM5.15176 5.1067L5.2463 5.76495C5.57512 5.71772 5.81866 5.43507 5.81675 5.10288L5.15176 5.1067ZM5.15159 5.07797H4.48658L4.4866 5.08179L5.15159 5.07797ZM14.843 5.07797L15.508 5.08179V5.07797H14.843ZM14.8429 5.1067L14.1779 5.10288C14.176 5.43508 14.4195 5.71772 14.7483 5.76495L14.8429 5.1067ZM16.4175 9.14006L15.951 8.66614C15.824 8.79114 15.7525 8.96187 15.7525 9.14006C15.7525 9.31824 15.824 9.48898 15.951 9.61398L16.4175 9.14006ZM15.4402 14.6301L15.2037 14.0085C14.9894 14.0901 14.8322 14.2762 14.7878 14.5012L15.4402 14.6301ZM4.55443 14.6301L5.20682 14.5012C5.16237 14.2762 5.00519 14.0901 4.79089 14.0085L4.55443 14.6301ZM3.09513 8.71956C2.83286 8.97666 2.82866 9.39769 3.08576 9.65997C3.34287 9.92224 3.7639 9.92643 4.02617 9.66933L3.09513 8.71956ZM5.53312 9.05389C5.90039 9.05389 6.19812 8.75616 6.19812 8.38889C6.19812 8.02162 5.90039 7.72389 5.53312 7.72389V9.05389ZM17.915 12.0141C17.915 11.6468 17.6173 11.3491 17.25 11.3491C16.8827 11.3491 16.585 11.6468 16.585 12.0141H17.915ZM13.5092 13.9616C13.1774 13.804 12.7807 13.9451 12.6231 14.2768C12.4655 14.6085 12.6066 15.0052 12.9383 15.1629L13.5092 13.9616ZM15.4949 5.16667C15.4949 4.7994 15.1972 4.50167 14.8299 4.50167C14.4626 4.50167 14.1649 4.7994 14.1649 5.16667H15.4949ZM13.1847 6.74014C12.8551 6.90215 12.7192 7.30068 12.8813 7.63029C13.0433 7.9599 13.4418 8.09576 13.7714 7.93376L13.1847 6.74014ZM5.15159 5.07797L4.4866 5.08179L4.48677 5.11052L5.15176 5.1067L5.81675 5.10288L5.81658 5.07415L5.15159 5.07797ZM14.8429 5.1067L15.5078 5.11052L15.508 5.08179L14.843 5.07797L14.178 5.07415L14.1779 5.10288L14.8429 5.1067ZM9.9973 5.14295H9.3323V14.8441H9.9973H10.6623V5.14295H9.9973ZM4.55443 14.6301L3.90204 14.759C4.25458 16.5434 5.63923 17.7323 7.12511 17.8958C7.87456 17.9783 8.64869 17.7972 9.29719 17.2971C9.94516 16.7974 10.4185 16.0183 10.6466 14.9878L9.9973 14.8441L9.34802 14.7004C9.17348 15.4889 8.83979 15.9703 8.48503 16.2439C8.13082 16.517 7.70652 16.6218 7.27056 16.5738C6.38561 16.4764 5.45144 15.7394 5.20682 14.5012L4.55443 14.6301ZM9.9973 14.8441L9.34802 14.9878C9.57611 16.0183 10.0494 16.7974 10.6974 17.2971C11.3459 17.7972 12.12 17.9783 12.8695 17.8958C14.3554 17.7323 15.74 16.5434 16.0926 14.759L15.4402 14.6301L14.7878 14.5012C14.5432 15.7394 13.609 16.4764 12.7241 16.5738C12.2881 16.6218 11.8638 16.517 11.5096 16.2439C11.1548 15.9703 10.8211 15.4889 10.6466 14.7004L9.9973 14.8441ZM3.57715 9.14006L3.11064 8.66614C2.18346 9.57881 1.94764 11.0213 2.15573 12.2555C2.36341 13.4872 3.06063 14.7733 4.31796 15.2516L4.55443 14.6301L4.79089 14.0085C4.14357 13.7623 3.63207 13.0121 3.46722 12.0344C3.3028 11.0592 3.53066 10.1189 4.04365 9.61398L3.57715 9.14006ZM5.15176 5.1067L5.05722 4.44845C3.73212 4.63877 2.69942 5.3659 2.28198 6.39944C1.85534 7.45575 2.141 8.6595 3.11064 9.61398L3.57715 9.14006L4.04365 8.66614C3.39287 8.02554 3.32155 7.37696 3.51519 6.89753C3.71803 6.39533 4.28285 5.90332 5.2463 5.76495L5.15176 5.1067ZM16.4175 9.14006L16.884 9.61398C17.8536 8.6595 18.1393 7.45575 17.7126 6.39944C17.2952 5.3659 16.2625 4.63877 14.9374 4.44846L14.8429 5.1067L14.7483 5.76495C15.7118 5.90332 16.2766 6.39533 16.4794 6.89753C16.6731 7.37696 16.6017 8.02554 15.951 8.66614L16.4175 9.14006ZM15.4402 14.6301L15.6766 15.2516C16.934 14.7733 17.6312 13.4872 17.8389 12.2555C18.047 11.0213 17.8111 9.57881 16.884 8.66614L16.4175 9.14006L15.951 9.61398C16.464 10.1189 16.6918 11.0592 16.5274 12.0344C16.3625 13.0121 15.851 13.7623 15.2037 14.0085L15.4402 14.6301ZM14.843 5.07797H15.508C15.508 4.10693 15.1251 3.33444 14.5176 2.81595C13.9241 2.30945 13.1557 2.07735 12.4131 2.08519C11.6702 2.09304 10.9049 2.34143 10.3156 2.85907C9.71327 3.38814 9.3323 4.1672 9.3323 5.14295H9.9973H10.6623C10.6623 4.53827 10.8871 4.12733 11.1933 3.85831C11.5126 3.57787 11.9587 3.42007 12.4272 3.41512C12.896 3.41017 13.3391 3.55865 13.6542 3.82759C13.9552 4.08455 14.178 4.48236 14.178 5.07797H14.843ZM9.9973 5.14295H10.6623C10.6623 4.1672 10.2813 3.38814 9.67903 2.85907C9.08973 2.34143 8.32438 2.09304 7.58147 2.08519C6.83888 2.07735 6.07048 2.30945 5.47703 2.81595C4.86953 3.33444 4.48659 4.10693 4.48659 5.07797H5.15159H5.81659C5.81659 4.48236 6.03937 4.08455 6.34044 3.82759C6.65556 3.55865 7.09859 3.41017 7.56742 3.41512C8.03594 3.42007 8.48203 3.57787 8.80129 3.85831C9.10756 4.12733 9.3323 4.53827 9.3323 5.14295H9.9973ZM3.56065 9.19444L4.02617 9.66933C4.41526 9.28791 4.94623 9.05389 5.53312 9.05389V8.38889V7.72389C4.58414 7.72389 3.7227 8.10436 3.09513 8.71956L3.56065 9.19444ZM17.25 12.0141H16.585C16.585 13.2042 15.6207 14.1686 14.4316 14.1686V14.8336V15.4986C16.3557 15.4986 17.915 13.9383 17.915 12.0141H17.25ZM14.4316 14.8336V14.1686C14.1002 14.1686 13.788 14.0941 13.5092 13.9616L13.2237 14.5622L12.9383 15.1629C13.3917 15.3783 13.8985 15.4986 14.4316 15.4986V14.8336ZM14.8299 5.16667H14.1649C14.1649 5.85639 13.7666 6.45415 13.1847 6.74014L13.4781 7.33695L13.7714 7.93376C14.791 7.43261 15.4949 6.38243 15.4949 5.16667H14.8299Z",fill:"currentColor"})),OSt=Object.freeze(Object.defineProperty({__proto__:null,default:xT},Symbol.toStringTag,{value:"Module"})),yoe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.57746 9.14006L4.04387 9.61406C4.17091 9.48906 4.24246 9.31829 4.24246 9.14006C4.24246 8.96183 4.17091 8.79106 4.04387 8.66605L3.57746 9.14006ZM5.15265 5.1067L5.24716 5.76495C5.576 5.71774 5.81955 5.43508 5.81764 5.10288L5.15265 5.1067ZM5.15249 5.07797H4.48747L4.4875 5.08179L5.15249 5.07797ZM14.8475 5.07797L15.5125 5.08179V5.07797H14.8475ZM14.8473 5.1067L14.1824 5.10288C14.1805 5.43509 14.424 5.71774 14.7528 5.76495L14.8473 5.1067ZM16.4225 9.14006L15.9561 8.66605C15.8291 8.79106 15.7575 8.96183 15.7575 9.14006C15.7575 9.31829 15.8291 9.48906 15.9561 9.61406L16.4225 9.14006ZM15.4449 14.6301L15.2085 14.0085C14.9942 14.09 14.837 14.2762 14.7925 14.5011L15.4449 14.6301ZM4.5551 14.6301L5.20748 14.5011C5.16302 14.2762 5.00581 14.09 4.79149 14.0085L4.5551 14.6301ZM3.08743 8.71947C2.82511 8.97653 2.82084 9.39756 3.07789 9.65988C3.33494 9.9222 3.75597 9.92647 4.01829 9.66941L3.08743 8.71947ZM5.52606 9.05389C5.89333 9.05389 6.19106 8.75616 6.19106 8.38889C6.19106 8.02162 5.89333 7.72389 5.52606 7.72389V9.05389ZM9.53457 10.3306C9.27225 10.5876 9.26798 11.0087 9.52503 11.271C9.78208 11.5333 10.2031 11.5376 10.4654 11.2805L9.53457 10.3306ZM11.9732 10.665C12.3405 10.665 12.6382 10.3673 12.6382 10C12.6382 9.63273 12.3405 9.335 11.9732 9.335V10.665ZM17.9123 12.0141C17.9123 11.6468 17.6146 11.3491 17.2473 11.3491C16.88 11.3491 16.5823 11.6468 16.5823 12.0141H17.9123ZM13.5049 13.9616C13.1731 13.804 12.7765 13.9451 12.6189 14.2769C12.4613 14.6086 12.6024 15.0053 12.9342 15.1629L13.5049 13.9616ZM7.86868 11.5445C7.53694 11.3869 7.14026 11.5281 6.98267 11.8598C6.82507 12.1915 6.96625 12.5882 7.29799 12.7458L7.86868 11.5445ZM10.2853 12.7458C10.6171 12.5882 10.7583 12.1915 10.6007 11.8598C10.4431 11.5281 10.0464 11.3869 9.71465 11.5445L10.2853 12.7458ZM8.10085 6.17688C7.76911 6.33448 7.62793 6.73116 7.78552 7.0629C7.94312 7.39464 8.3398 7.53581 8.67154 7.37822L8.10085 6.17688ZM9.59453 7.17123C9.96179 7.17123 10.2595 6.8735 10.2595 6.50623C10.2595 6.13896 9.96179 5.84123 9.59453 5.84123V7.17123ZM15.4994 5.16667C15.4994 4.7994 15.2017 4.50167 14.8344 4.50167C14.4671 4.50167 14.1694 4.7994 14.1694 5.16667H15.4994ZM13.1888 6.7401C12.8592 6.90206 12.7232 7.30057 12.8852 7.6302C13.0472 7.95983 13.4457 8.09576 13.7753 7.9338L13.1888 6.7401ZM5.15249 5.07797L4.4875 5.08179L4.48766 5.11052L5.15265 5.1067L5.81764 5.10288L5.81747 5.07414L5.15249 5.07797ZM14.8473 5.1067L15.5123 5.11052L15.5125 5.08179L14.8475 5.07797L14.1825 5.07415L14.1824 5.10288L14.8473 5.1067ZM10 5.14295H9.335V14.8441H10H10.665V5.14295H10ZM4.5551 14.6301L3.90272 14.759C4.25542 16.5436 5.64061 17.7324 7.12679 17.8958C7.8764 17.9783 8.6507 17.7972 9.29938 17.2972C9.94755 16.7975 10.4211 16.0184 10.6493 14.9879L10 14.8441L9.35073 14.7003C9.17613 15.4888 8.84234 15.9702 8.48741 16.2438C8.133 16.517 7.70844 16.6218 7.27219 16.5738C6.38665 16.4764 5.45217 15.7392 5.20748 14.5011L4.5551 14.6301ZM10 14.8441L9.35073 14.9879C9.57891 16.0184 10.0524 16.7975 10.7006 17.2972C11.3493 17.7972 12.1236 17.9783 12.8732 17.8958C14.3594 17.7324 15.7446 16.5436 16.0973 14.759L15.4449 14.6301L14.7925 14.5011C14.5478 15.7392 13.6134 16.4764 12.7278 16.5738C12.2916 16.6218 11.867 16.517 11.5126 16.2438C11.1577 15.9702 10.8239 15.4888 10.6493 14.7003L10 14.8441ZM3.57746 9.14006L3.11104 8.66605C2.18352 9.57872 1.94758 11.0213 2.15576 12.2555C2.36354 13.4874 3.06106 14.7733 4.31871 15.2516L4.5551 14.6301L4.79149 14.0085C4.14378 13.7622 3.63213 13.0119 3.46724 12.0343C3.30276 11.0592 3.53068 10.119 4.04387 9.61406L3.57746 9.14006ZM5.15265 5.1067L5.05814 4.44845C3.73273 4.63874 2.69968 5.36578 2.28207 6.39936C1.85523 7.45578 2.14106 8.65961 3.11104 9.61406L3.57746 9.14006L4.04387 8.66605C3.39282 8.02542 3.32155 7.37692 3.51521 6.89761C3.71811 6.39545 4.28317 5.90335 5.24716 5.76495L5.15265 5.1067ZM16.4225 9.14006L16.889 9.61406C17.8589 8.65961 18.1448 7.45578 17.7179 6.39936C17.3003 5.36578 16.2673 4.63874 14.9419 4.44845L14.8473 5.1067L14.7528 5.76495C15.7168 5.90335 16.2819 6.39545 16.4848 6.89761C16.6785 7.37692 16.6072 8.02542 15.9561 8.66605L16.4225 9.14006ZM15.4449 14.6301L15.6813 15.2516C16.9389 14.7733 17.6365 13.4874 17.8442 12.2556C18.0524 11.0213 17.8165 9.57872 16.889 8.66605L16.4225 9.14006L15.9561 9.61406C16.4693 10.119 16.6972 11.0592 16.5328 12.0343C16.3679 13.0119 15.8562 13.7622 15.2085 14.0085L15.4449 14.6301ZM14.8475 5.07797H15.5125C15.5125 4.10684 15.1294 3.33433 14.5217 2.81587C13.9281 2.30941 13.1595 2.07735 12.4167 2.08519C11.6737 2.09304 10.9081 2.34139 10.3186 2.85899C9.71615 3.38803 9.335 4.16711 9.335 5.14295H10H10.665C10.665 4.53836 10.8898 4.12744 11.1962 3.85839C11.5156 3.57791 11.962 3.42007 12.4308 3.41512C12.8999 3.41017 13.3432 3.55869 13.6585 3.82767C13.9597 4.08466 14.1825 4.48245 14.1825 5.07797H14.8475ZM10 5.14295H10.665C10.665 4.16711 10.2839 3.38803 9.68135 2.85899C9.09187 2.34138 8.32633 2.09304 7.58327 2.08519C6.84051 2.07735 6.07193 2.30941 5.4783 2.81587C4.87061 3.33433 4.48749 4.10684 4.48749 5.07797H5.15249H5.81749C5.81749 4.48245 6.0403 4.08466 6.34152 3.82767C6.6568 3.55869 7.1001 3.41016 7.56922 3.41512C8.03803 3.42007 8.48437 3.57791 8.8038 3.85839C9.11021 4.12744 9.335 4.53836 9.335 5.14295H10ZM3.55286 9.19444L4.01829 9.66941C4.40755 9.28797 4.93881 9.05389 5.52606 9.05389V8.38889V7.72389C4.57687 7.72389 3.71521 8.1043 3.08743 8.71947L3.55286 9.19444ZM10 10.8056L10.4654 11.2805C10.8547 10.8991 11.3859 10.665 11.9732 10.665V10V9.335C11.024 9.335 10.1624 9.71541 9.53457 10.3306L10 10.8056ZM17.2473 12.0141H16.5823C16.5823 13.204 15.6177 14.1686 14.4279 14.1686V14.8336V15.4986C16.3523 15.4986 17.9123 13.9385 17.9123 12.0141H17.2473ZM14.4279 14.8336V14.1686C14.0962 14.1686 13.7838 14.0941 13.5049 13.9616L13.2195 14.5622L12.9342 15.1629C13.3877 15.3783 13.8947 15.4986 14.4279 15.4986V14.8336ZM8.79167 12.4165V11.7515C8.46002 11.7515 8.14763 11.677 7.86868 11.5445L7.58333 12.1452L7.29799 12.7458C7.75149 12.9613 8.25847 13.0815 8.79167 13.0815V12.4165ZM10 12.1452L9.71465 11.5445C9.4357 11.677 9.12331 11.7515 8.79167 11.7515V12.4165V13.0815C9.32487 13.0815 9.83184 12.9613 10.2853 12.7458L10 12.1452ZM8.38619 6.77755L8.67154 7.37822C8.95049 7.24571 9.26288 7.17123 9.59453 7.17123V6.50623V5.84123C9.06133 5.84123 8.55435 5.96145 8.10085 6.17688L8.38619 6.77755ZM14.8344 5.16667H14.1694C14.1694 5.85626 13.771 6.45405 13.1888 6.7401L13.482 7.33695L13.7753 7.9338C14.7951 7.43272 15.4994 6.38256 15.4994 5.16667H14.8344Z",fill:"currentColor"})),DSt=Object.freeze(Object.defineProperty({__proto__:null,default:yoe},Symbol.toStringTag,{value:"Module"})),xoe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.1507 17.4562C9.77341 17.4562 11.8995 15.5073 11.8995 13.1031C11.8995 10.699 9.77341 8.75 7.1507 8.75C4.52798 8.75 2.40186 10.699 2.40186 13.1031C2.40186 13.9703 2.67847 14.7782 3.15524 15.4569C3.07732 16.1474 2.87679 16.8053 2.62508 17.4562C3.4722 17.4043 4.25774 17.2529 5.0202 16.9946C5.66092 17.2899 6.38463 17.4562 7.1507 17.4562Z",stroke:"currentColor",strokeWidth:1.33,strokeLinejoin:"round"}),g.createElement("path",{d:"M11 3.9139C10.2114 3.04968 9.02619 2.5 7.70093 2.5C5.32662 2.5 3.40186 4.26436 3.40186 6.44082C3.40186 6.70746 3.43074 6.96791 3.48581 7.21969",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M14.3371 14.4885C14.559 14.4215 14.7737 14.3398 14.9798 14.2448C15.7423 14.5032 16.5278 14.6546 17.3749 14.7065C17.1232 14.0555 16.9227 13.3977 16.8448 12.7071C17.3215 12.0285 17.5981 11.2205 17.5981 10.3533C17.5981 7.9492 15.472 6.00024 12.8493 6.00024C11.8686 6.00024 10.9574 6.27273 10.2008 6.7396",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),FSt=Object.freeze(Object.defineProperty({__proto__:null,default:xoe},Symbol.toStringTag,{value:"Module"})),boe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 17.915C14.3713 17.915 17.915 14.3713 17.915 10C17.915 5.62867 14.3713 2.08496 10 2.08496C5.62867 2.08496 2.08496 5.62867 2.08496 10C2.08496 14.3713 5.62867 17.915 10 17.915ZM16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10Z",fill:"currentColor"}),g.createElement("path",{d:"M5.80005 9L7.30005 8L8.80005 9",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M11.2 9L12.7 8L14.2 9",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),BSt=Object.freeze(Object.defineProperty({__proto__:null,default:boe},Symbol.toStringTag,{value:"Module"})),Coe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.50004 2.5H12.5M7.50004 2.5V7.72992C7.50004 8.11981 7.36335 8.49737 7.11374 8.79689L4.04241 12.4825C3.58427 13.0323 3.33337 13.7252 3.33337 14.4409C3.33337 16.1304 4.70299 17.5 6.39249 17.5H13.6076C15.2971 17.5 16.6667 16.1304 16.6667 14.4409C16.6667 13.7252 16.4158 13.0323 15.9577 12.4825L12.8863 8.79689C12.6367 8.49737 12.5 8.11981 12.5 7.72992V2.5M7.50004 2.5H6.66671M12.5 2.5H13.3334",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M5.59998 10.774C9.59998 8.83904 9.99998 12.7089 13.6 10",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("circle",{cx:7.5,cy:13.5,r:1,fill:"currentColor"}),g.createElement("circle",{cx:9.7,cy:14.7,r:.7,fill:"currentColor"})),USt=Object.freeze(Object.defineProperty({__proto__:null,default:Coe},Symbol.toStringTag,{value:"Module"})),_oe=t=>g.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none"},t),g.createElement("path",{d:"M6.58115 2.87402C7.25408 2.91553 7.89428 3.18222 8.39755 3.63086C8.46995 3.69542 8.53954 3.76611 8.64072 3.86816C8.75256 3.98097 8.7906 4.01811 8.82724 4.05078C9.11901 4.31089 9.48984 4.46615 9.87998 4.49023C9.92894 4.49324 9.98274 4.49316 10.1417 4.49316H12.8595C13.4203 4.49316 13.8748 4.49247 14.2452 4.51953C14.6225 4.54711 14.959 4.60565 15.2794 4.74609C15.8873 5.01274 16.3902 5.47348 16.7091 6.05566C16.8772 6.36258 16.9649 6.69282 17.0255 7.06641C17.0548 7.24741 17.0796 7.4494 17.1026 7.6748H17.4737C18.7609 7.67494 19.6815 8.91966 19.3048 10.1504L17.6602 15.5166C17.36 16.4959 16.456 17.1649 15.4317 17.165H4.75107C4.14122 17.165 3.60039 16.9341 3.19248 16.5654C2.84894 16.3184 2.55886 16.0014 2.34482 15.6318C2.15425 15.3028 2.0579 14.9449 1.99423 14.5391C1.93181 14.141 1.89453 13.6483 1.84775 13.04L1.42978 7.60547C1.37718 6.92168 1.33366 6.37021 1.33603 5.92383C1.33845 5.47092 1.38644 5.06643 1.5499 4.68652C1.82244 4.05314 2.30451 3.53224 2.91513 3.21191C3.28137 3.01984 3.68154 2.94144 4.13291 2.9043C4.57761 2.86774 5.13015 2.86816 5.81552 2.86816H6.24228C6.38587 2.86816 6.48436 2.86807 6.58115 2.87402ZM5.92197 9.00488C5.66496 9.00492 5.43772 9.17322 5.3624 9.41895L3.79306 14.54C3.63471 15.0575 3.91533 15.5786 4.38095 15.7637C4.49011 15.794 4.62487 15.8187 4.8038 15.835H15.4317C15.8716 15.8348 16.2597 15.5475 16.3888 15.127L18.0333 9.76074C18.148 9.38497 17.8667 9.00502 17.4737 9.00488H5.92197ZM5.81552 4.13184C5.10901 4.13184 4.61732 4.13275 4.23642 4.16406C3.86206 4.19487 3.65387 4.25142 3.50205 4.33105C3.1482 4.51669 2.86908 4.81857 2.71103 5.18555C2.64327 5.34304 2.6017 5.555 2.5997 5.93066C2.59767 6.31297 2.63533 6.80393 2.68955 7.50879L3.06357 12.3789L4.09091 9.0293C4.33745 8.22474 5.08049 7.67485 5.92197 7.6748H15.8302C15.8135 7.52266 15.7979 7.38884 15.7784 7.26855C15.7293 6.96521 15.6717 6.79289 15.6007 6.66309C15.4158 6.32556 15.124 6.05791 14.7716 5.90332C14.6361 5.84401 14.4595 5.80267 14.1534 5.78027C13.8397 5.75735 13.4387 5.75684 12.8595 5.75684H10.1417C9.9978 5.75684 9.8988 5.75695 9.80185 5.75098C9.12896 5.70945 8.48967 5.44275 7.98642 4.99414C7.91391 4.92949 7.8446 4.85905 7.74326 4.75684C7.63153 4.64415 7.59329 4.60684 7.55673 4.57422C7.26503 4.3142 6.89402 4.1589 6.504 4.13477C6.45497 4.13175 6.40137 4.13184 6.24228 4.13184H5.81552Z",fill:"currentColor"})),HSt=Object.freeze(Object.defineProperty({__proto__:null,default:_oe},Symbol.toStringTag,{value:"Module"})),woe=t=>g.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none"},t),g.createElement("path",{d:"M3.33464 13.1945V14.3056C3.33464 15.3795 4.20519 16.25 5.27908 16.25C5.58591 16.25 5.83464 16.0013 5.83464 15.6945V11.8056C5.83464 11.4987 5.5859 11.25 5.27908 11.25C4.20519 11.25 3.33464 12.1206 3.33464 13.1945ZM1.66797 10.4167C1.66797 5.8143 5.39893 2.08334 10.0013 2.08334C14.6037 2.08334 18.3346 5.8143 18.3346 10.4167V14.3056C18.3346 16.2999 16.7179 17.9167 14.7235 17.9167C13.4962 17.9167 12.5013 16.9218 12.5013 15.6945V11.8056C12.5013 10.5783 13.4962 9.58334 14.7235 9.58334C15.4372 9.58334 16.1025 9.79036 16.6626 10.1476C16.5214 6.59046 13.5931 3.75001 10.0013 3.75001C6.40952 3.75001 3.48116 6.59046 3.33997 10.1476C3.90014 9.79036 4.56543 9.58334 5.27908 9.58334C6.50638 9.58334 7.5013 10.5783 7.5013 11.8056V15.6945C7.5013 16.9218 6.50638 17.9167 5.27908 17.9167C3.28472 17.9167 1.66797 16.2999 1.66797 14.3056V10.4167ZM16.668 13.1945C16.668 12.1206 15.7974 11.25 14.7235 11.25C14.4167 11.25 14.168 11.4987 14.168 11.8056V15.6945C14.168 16.0013 14.4167 16.25 14.7235 16.25C15.7974 16.25 16.668 15.3795 16.668 14.3056V13.1945Z",fill:"currentColor"})),VSt=Object.freeze(Object.defineProperty({__proto__:null,default:woe},Symbol.toStringTag,{value:"Module"})),ol=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.0012 7.33334C16.0012 6.62231 16.0013 6.12897 15.97 5.74545C15.9469 5.4635 15.9091 5.27399 15.8577 5.13022L15.802 5.00034C15.6481 4.69823 15.4137 4.4452 15.1262 4.26889L14.9993 4.19858C14.8413 4.11812 14.6297 4.0613 14.2542 4.03061C13.8707 3.99929 13.3771 3.99838 12.6663 3.99838H7.33325C6.62221 3.99838 6.12888 3.99928 5.74536 4.03061C5.46351 4.05364 5.27388 4.0905 5.13013 4.14194L5.00024 4.19858C4.69799 4.3526 4.44511 4.58672 4.2688 4.87436L4.19849 5.00034C4.11798 5.15834 4.06122 5.36975 4.03052 5.74545C3.99918 6.12897 3.99829 6.62231 3.99829 7.33334V11.7269L5.01782 10.7083L5.19458 10.5482C6.1104 9.80107 7.46195 9.85462 8.31567 10.7083L13.6038 15.9964C13.8548 15.9923 14.0675 15.9853 14.2542 15.9701C14.6295 15.9394 14.8413 15.8825 14.9993 15.8021L15.1262 15.7308C15.4136 15.5545 15.6481 15.3014 15.802 14.9994L15.8577 14.8695C15.9091 14.7257 15.9469 14.536 15.97 14.2542C16.0013 13.8708 16.0012 13.3772 16.0012 12.6664V7.33334ZM7.37525 11.6488C7.00846 11.282 6.42786 11.2594 6.03442 11.5804L5.95825 11.6488L4.0022 13.6048C4.00634 13.8555 4.0153 14.0678 4.03052 14.2542C4.0612 14.6298 4.11803 14.8414 4.19849 14.9994L4.2688 15.1263C4.44511 15.4137 4.69813 15.6482 5.00024 15.8021L5.13013 15.8578C5.2739 15.9092 5.46341 15.947 5.74536 15.9701C6.12888 16.0014 6.62222 16.0013 7.33325 16.0013H11.7268L7.37525 11.6488ZM13.0852 7.91635C13.085 7.3633 12.6363 6.91538 12.0833 6.91538C11.5302 6.91538 11.0815 7.3633 11.0813 7.91635C11.0813 8.46956 11.53 8.91831 12.0833 8.91831C12.6365 8.91831 13.0852 8.46956 13.0852 7.91635ZM14.4153 7.91635C14.4153 9.2041 13.371 10.2484 12.0833 10.2484C10.7955 10.2484 9.75122 9.2041 9.75122 7.91635C9.7514 6.62876 10.7956 5.5853 12.0833 5.5853C13.3709 5.5853 14.4151 6.62876 14.4153 7.91635ZM17.3313 12.6664C17.3313 13.3554 17.3319 13.9124 17.2952 14.3626C17.2624 14.7636 17.1974 15.1248 17.053 15.4613L16.9866 15.6039C16.7211 16.1248 16.3172 16.5605 15.8215 16.8646L15.6038 16.9867C15.227 17.1786 14.8206 17.2578 14.3625 17.2953C13.9123 17.332 13.3553 17.3314 12.6663 17.3314H7.33325C6.64416 17.3314 6.0872 17.332 5.63696 17.2953C5.23628 17.2625 4.87563 17.1973 4.53931 17.0531L4.39673 16.9867C3.87561 16.7211 3.43911 16.3174 3.13501 15.8216L3.01294 15.6039C2.82097 15.2271 2.74177 14.8206 2.70435 14.3626C2.66758 13.9124 2.66821 13.3553 2.66821 12.6664V7.33334C2.66821 6.64425 2.66756 6.0873 2.70435 5.63706C2.74176 5.17926 2.82113 4.77344 3.01294 4.39682L3.13501 4.17807C3.4391 3.68236 3.87569 3.27851 4.39673 3.01303L4.53931 2.94663C4.8756 2.80239 5.23632 2.73718 5.63696 2.70444C6.0872 2.66765 6.64416 2.66831 7.33325 2.66831H12.6663C13.3553 2.66831 13.9123 2.66767 14.3625 2.70444C14.8206 2.74186 15.227 2.82106 15.6038 3.01303L15.8215 3.1351C16.3174 3.4392 16.7211 3.8757 16.9866 4.39682L17.053 4.5394C17.1973 4.87572 17.2624 5.23637 17.2952 5.63706C17.332 6.0873 17.3313 6.64425 17.3313 7.33334V12.6664Z"})),$St=Object.freeze(Object.defineProperty({__proto__:null,default:ol},Symbol.toStringTag,{value:"Module"})),bT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("circle",{cx:8.9118,cy:10.0221,r:1.25,transform:"rotate(-8 8.9118 10.0221)",fill:"currentColor"}),g.createElement("path",{d:"M2.43164 15.0198L2.89345 14.5011C3.78107 13.504 4.22488 13.0055 4.76118 12.7863C5.23325 12.5934 5.75303 12.5495 6.25079 12.6604C6.81627 12.7864 7.33747 13.2034 8.37987 14.0373L11.6667 16.6667",stroke:"currentColor",strokeWidth:1.33}),g.createElement("path",{d:"M1.8374 11.4701C1.66677 10.0804 1.58145 9.38553 1.78673 8.82153C1.9673 8.32542 2.30029 7.89921 2.73798 7.60398C3.23556 7.26836 3.93041 7.18304 5.32011 7.01241L8.13232 6.66711C9.52201 6.49648 10.2169 6.41116 10.7809 6.61644C11.277 6.79701 11.7032 7.13 11.9984 7.56769C12.334 8.06528 12.4193 8.76012 12.59 10.1498L12.9353 12.962C13.1059 14.3517 13.1912 15.0466 12.9859 15.6106C12.8054 16.1067 12.4724 16.5329 12.0347 16.8281C11.5371 17.1637 10.8423 17.2491 9.45257 17.4197L6.64036 17.765C5.25066 17.9356 4.55581 18.0209 3.99181 17.8157C3.49571 17.6351 3.0695 17.3021 2.77427 16.8644C2.43864 16.3668 2.35333 15.672 2.18269 14.2823L1.8374 11.4701Z",stroke:"currentColor",strokeWidth:1.33}),g.createElement("path",{d:"M15.8334 13.4467C15.8809 13.4338 15.9272 13.4191 15.9726 13.4026C16.4688 13.222 16.895 12.889 17.1902 12.4513C17.5258 11.9537 17.6111 11.2589 17.7818 9.8692L17.8681 9.16614M7.69739 3.74992C7.76681 3.51566 7.85197 3.32374 7.96605 3.1546C8.26128 2.71691 8.68749 2.38392 9.1836 2.20335C9.59283 2.05441 10.071 2.05845 10.8334 2.13707",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round"}),g.createElement("path",{d:"M16.9155 0.87106C16.8915 0.659862 16.713 0.500218 16.5004 0.5C16.2879 0.499783 16.109 0.659062 16.0846 0.870211C15.9326 2.18851 15.1885 2.93258 13.8702 3.08464C13.6591 3.10899 13.4998 3.28788 13.5 3.50043C13.5002 3.71298 13.6599 3.89154 13.8711 3.91546C15.1707 4.06267 15.9663 4.79957 16.0835 6.11888C16.1027 6.33479 16.2837 6.50024 16.5005 6.5C16.7172 6.49976 16.8979 6.3339 16.9166 6.11794C17.0291 4.81729 17.8173 4.02915 19.1179 3.91656C19.3339 3.89787 19.4998 3.71723 19.5 3.50047C19.5002 3.28371 19.3348 3.1027 19.1189 3.08352C17.7996 2.96633 17.0627 2.17066 16.9155 0.87106Z",fill:"currentColor"})),qSt=Object.freeze(Object.defineProperty({__proto__:null,default:bT},Symbol.toStringTag,{value:"Module"})),Soe=t=>g.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none"},t),g.createElement("path",{d:"M16.385 6.43359C16.3853 6.0809 16.3794 5.95171 16.3557 5.84766C16.3264 5.71907 16.2755 5.59603 16.2053 5.48438C16.1485 5.394 16.0607 5.29826 15.8108 5.04883L15.5393 4.77734C15.1571 4.39481 14.9968 4.24305 14.8293 4.1377C14.638 4.01732 14.4277 3.93006 14.2073 3.87988C14.1108 3.85791 14.0074 3.84591 13.8606 3.83887L13.2532 3.83008H11.759C11.2187 3.82984 10.9987 3.83605 10.8059 3.87988C10.5856 3.93004 10.3751 4.01741 10.1838 4.1377C10.0164 4.24303 9.85593 4.39397 9.47388 4.77637L5.40161 8.84863C4.93809 9.31214 4.60809 9.64298 4.36938 9.92188C4.13013 10.2014 4.00913 10.3995 3.9436 10.5859C3.79272 11.0156 3.79272 11.4844 3.9436 11.9141C4.00912 12.1005 4.1301 12.2985 4.36938 12.5781C4.60808 12.857 4.93808 13.1879 5.40161 13.6514L6.56372 14.8135C7.02708 15.2769 7.35812 15.6061 7.63696 15.8447C7.91669 16.0841 8.11451 16.206 8.30102 16.2715C8.73054 16.4223 9.19865 16.4222 9.62817 16.2715C9.81468 16.206 10.0125 16.0841 10.2922 15.8447C10.5711 15.6061 10.9021 15.2768 11.3655 14.8135L15.4377 10.7412L15.8616 10.3057C15.9603 10.197 16.0247 10.115 16.0774 10.0312C16.1977 9.83996 16.285 9.62952 16.3352 9.40918C16.3572 9.31269 16.3692 9.20931 16.3762 9.0625L16.385 8.45508V6.43359ZM17.7151 8.45508C17.7153 8.95757 17.7146 9.33706 17.6311 9.7041C17.5476 10.0709 17.4027 10.4209 17.2024 10.7393C17.0019 11.0579 16.7337 11.3265 16.3782 11.6816L12.3059 15.7539L11.6858 16.3682C11.4956 16.5525 11.321 16.7155 11.1575 16.8555L10.9016 17.0625C10.6431 17.2586 10.3744 17.4193 10.0696 17.5264L9.79809 17.6084C9.25142 17.7496 8.67777 17.7496 8.1311 17.6084L7.86059 17.5264C7.45421 17.3837 7.11102 17.1459 6.77173 16.8555C6.60838 16.7156 6.43437 16.5523 6.24438 16.3682L5.62329 15.7539L4.46118 14.5918C4.12332 14.254 3.82989 13.9599 3.58618 13.6963L3.35962 13.4424C3.1055 13.1455 2.89138 12.8464 2.74634 12.5039L2.68872 12.3545C2.46901 11.7289 2.44087 11.0539 2.60571 10.416L2.68872 10.1455C2.79573 9.84084 2.95568 9.57189 3.15161 9.31348L3.35962 9.05762C3.49944 8.89425 3.66183 8.7193 3.84595 8.5293L4.46118 7.9082L8.53247 3.83691C8.88769 3.48137 9.15621 3.21222 9.47485 3.01172C9.79315 2.81147 10.1433 2.66651 10.51 2.58301C10.7855 2.5203 11.0683 2.50474 11.4045 2.50098L11.76 2.5H13.2532L13.6086 2.50098C13.9446 2.50475 14.2269 2.52037 14.5022 2.58301C14.8689 2.66648 15.219 2.8115 15.5374 3.01172C15.8561 3.21223 16.1245 3.48132 16.4797 3.83691L16.7512 4.10742C16.979 4.33481 17.1794 4.53561 17.3303 4.77539C17.4805 5.01408 17.59 5.2768 17.6526 5.55176C17.7155 5.82823 17.7154 6.11248 17.7151 6.43457V8.45508Z",fill:"currentColor"}),g.createElement("path",{d:"M14.3809 7.08301C14.3809 7.77336 13.8212 8.33301 13.1309 8.33301C12.4405 8.33301 11.8809 7.77336 11.8809 7.08301C11.8809 6.39265 12.4405 5.83301 13.1309 5.83301C13.8212 5.83301 14.3809 6.39265 14.3809 7.08301Z",fill:"currentColor"})),zSt=Object.freeze(Object.defineProperty({__proto__:null,default:Soe},Symbol.toStringTag,{value:"Module"})),koe=t=>g.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none"},t),g.createElement("path",{d:"M16.8347 7.91699C16.8347 7.76279 16.8266 7.61021 16.8123 7.45996L15.4705 8.80371C14.2903 9.98388 12.3762 9.98388 11.1961 8.80371C10.016 7.62352 10.0159 5.70942 11.1961 4.5293L12.5378 3.18652C12.3885 3.17238 12.237 3.16505 12.0837 3.16504C9.45947 3.16504 7.33179 5.29272 7.33179 7.91699C7.33184 8.56608 7.46162 9.18329 7.69605 9.74512C7.79981 9.9939 7.74311 10.2811 7.5525 10.4717L3.59547 14.4287C3.0498 14.9744 3.04991 15.8586 3.59547 16.4043L3.70191 16.501C4.25076 16.9483 5.05957 16.9158 5.57105 16.4043L9.52906 12.4473L9.60426 12.3828C9.79018 12.2455 10.0369 12.2131 10.2546 12.3037C10.8166 12.5382 11.4345 12.668 12.0837 12.668C14.7078 12.6678 16.8345 10.541 16.8347 7.91699ZM18.1648 7.91699C18.1646 11.2755 15.4423 13.9979 12.0837 13.998C11.4151 13.998 10.7708 13.8886 10.1677 13.6885L6.51246 17.3457C5.51389 18.3443 3.93332 18.406 2.86207 17.5322L2.65504 17.3457C1.58992 16.2806 1.58992 14.5534 2.65504 13.4883L6.31031 9.83203C6.1104 9.22921 6.00175 8.58526 6.00172 7.91699C6.00172 4.55818 8.72494 1.83496 12.0837 1.83496C12.7838 1.835 13.458 1.95316 14.0857 2.17188L14.1638 2.20508C14.3404 2.29325 14.4697 2.45713 14.5144 2.65234C14.5653 2.87533 14.4984 3.10876 14.3367 3.27051L12.1375 5.4707C11.4767 6.13148 11.4767 7.20251 12.1375 7.86328C12.7983 8.52373 13.8694 8.52395 14.53 7.86328L16.7293 5.66309L16.7937 5.60742C16.9499 5.48687 17.1532 5.44067 17.3484 5.48535C17.5714 5.53648 17.7526 5.69898 17.8279 5.91504C18.0466 6.54272 18.1648 7.21689 18.1648 7.91699Z",fill:"currentColor"})),u$e=Object.freeze(Object.defineProperty({__proto__:null,default:koe},Symbol.toStringTag,{value:"Module"})),Moe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.3206 1.36075C16.2973 1.15542 16.1237 1.00021 15.9171 1C15.7104 0.999789 15.5365 1.15464 15.5128 1.35993C15.365 2.64161 14.6416 3.36501 13.3599 3.51284C13.1546 3.53652 12.9998 3.71044 13 3.91708C13.0002 4.12373 13.1554 4.29733 13.3608 4.32059C14.6243 4.4637 15.3978 5.18014 15.5118 6.4628C15.5304 6.67271 15.7064 6.83357 15.9171 6.83333C16.1279 6.8331 16.3035 6.67184 16.3217 6.46189C16.4311 5.19736 17.1974 4.43112 18.4619 4.32166C18.6718 4.30348 18.8331 4.12787 18.8333 3.91712C18.8336 3.70638 18.6727 3.5304 18.4628 3.51176C17.1801 3.39782 16.4637 2.62425 16.3206 1.36075Z",fill:"currentColor"}),g.createElement("path",{d:"M9.50016 3C9.53056 7.05405 12.9459 10.4786 17 10.4999C12.9459 10.4999 9.53056 13.9459 9.50016 18C9.46975 13.9459 6.05405 10.4999 2 10.4999C6.05405 10.4999 9.46975 7.05405 9.50016 3Z",stroke:"currentColor",strokeWidth:1.33,strokeLinejoin:"round"})),GSt=Object.freeze(Object.defineProperty({__proto__:null,default:Moe},Symbol.toStringTag,{value:"Module"})),Eoe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.8206 1.36075C15.7973 1.15542 15.6237 1.00021 15.4171 1C15.2104 0.999789 15.0365 1.15464 15.0128 1.35993C14.865 2.64161 14.1416 3.36501 12.8599 3.51284C12.6546 3.53652 12.4998 3.71044 12.5 3.91708C12.5002 4.12373 12.6554 4.29733 12.8608 4.32059C14.1243 4.4637 14.8978 5.18014 15.0118 6.4628C15.0304 6.67271 15.2064 6.83357 15.4171 6.83333C15.6279 6.8331 15.8035 6.67184 15.8217 6.46189C15.9311 5.19736 16.6974 4.43112 17.9619 4.32166C18.1718 4.30348 18.3331 4.12787 18.3333 3.91712C18.3336 3.70638 18.1727 3.5304 17.9628 3.51176C16.6801 3.39782 15.9637 2.62425 15.8206 1.36075Z",fill:"currentColor"}),g.createElement("path",{d:"M13.8462 13.8092C13.8263 13.6332 13.6775 13.5002 13.5004 13.5C13.3232 13.4998 13.1742 13.6326 13.1539 13.8085C13.0272 14.9071 12.4071 15.5272 11.3085 15.6539C11.1326 15.6742 10.9998 15.8232 11 16.0004C11.0002 16.1775 11.1332 16.3263 11.3092 16.3462C12.3922 16.4689 13.0553 17.083 13.1529 18.1824C13.1689 18.3623 13.3198 18.5002 13.5004 18.5C13.681 18.4998 13.8316 18.3616 13.8471 18.1816C13.941 17.0977 14.5977 16.441 15.6816 16.3471C15.8616 16.3316 15.9998 16.181 16 16.0004C16.0002 15.8198 15.8623 15.6689 15.6824 15.6529C14.583 15.5553 13.9689 14.8922 13.8462 13.8092Z",fill:"currentColor"}),g.createElement("path",{d:"M7.50013 4C7.52445 7.24324 10.2568 9.98287 13.5 9.99994C10.2568 9.99994 7.52445 12.7568 7.50013 16C7.4758 12.7568 4.74324 9.99994 1.5 9.99994C4.74324 9.99994 7.4758 7.24324 7.50013 4Z",stroke:"currentColor",strokeWidth:1.33,strokeLinejoin:"round"})),WSt=Object.freeze(Object.defineProperty({__proto__:null,default:Eoe},Symbol.toStringTag,{value:"Module"})),c3=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.335 10C16.335 9.96334 16.3033 9.90797 16.2314 9.89746C14.3872 9.6308 12.9635 9.10033 11.9385 8.08105C10.9772 7.1251 10.4472 5.81895 10.1621 4.14453L10.1084 3.80469C10.0948 3.71183 10.0216 3.66505 9.96484 3.66504C9.92381 3.66504 9.87863 3.68787 9.85156 3.73047L9.83203 3.7793C9.40877 5.60247 8.88454 7.02131 7.92871 8.04297C7.01515 9.0193 5.78211 9.55662 4.11035 9.84277L3.77051 9.89648C3.69699 9.90725 3.66504 9.96384 3.66504 10C3.66504 10.0362 3.69699 10.0927 3.77051 10.1035L4.11035 10.1572C5.78211 10.4434 7.01515 10.9807 7.92871 11.957C8.88454 12.9787 9.40877 14.3975 9.83203 16.2207C9.8491 16.2942 9.91023 16.335 9.96484 16.335C10.0216 16.335 10.0948 16.2882 10.1084 16.1953C10.3785 14.3567 10.9131 12.9386 11.9385 11.9189C12.9635 10.8997 14.3872 10.3692 16.2314 10.1025L16.2773 10.0879C16.317 10.0662 16.335 10.0277 16.335 10ZM17.665 10C17.665 10.6877 17.1785 11.2454 16.5488 11.3945L16.4219 11.4189C14.7098 11.6665 13.6129 12.1305 12.877 12.8623C12.1414 13.5938 11.6742 14.6843 11.4238 16.3887C11.3197 17.0973 10.7182 17.665 9.96484 17.665C9.27085 17.665 8.68836 17.1772 8.53613 16.5215C8.12392 14.7459 7.6623 13.619 6.95703 12.8652C6.31314 12.1772 5.39414 11.7268 3.88672 11.4688L3.57715 11.4199C2.88869 11.319 2.33496 10.734 2.33496 10C2.33496 9.26603 2.88869 8.681 3.57715 8.58008L3.88672 8.53125C5.39414 8.27321 6.31314 7.82277 6.95703 7.13477C7.6623 6.38104 8.12392 5.25413 8.53613 3.47852L8.56934 3.35742C8.76133 2.76356 9.31424 2.33496 9.96484 2.33496C10.7182 2.33497 11.3197 2.9027 11.4238 3.61133L11.5283 4.22266C11.7954 5.58295 12.2334 6.49773 12.877 7.1377C13.6129 7.86952 14.7098 8.33351 16.4219 8.58105C17.1119 8.68101 17.665 9.26667 17.665 10Z"})),ZSt=Object.freeze(Object.defineProperty({__proto__:null,default:c3},Symbol.toStringTag,{value:"Module"})),joe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.9167 17.0833L10.8334 13.75",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7.08337 17.0833L9.16671 13.75",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3.84618 7.94752C3.04382 8.28108 2.63236 9.17511 2.90087 10.0015L3.21813 10.9779C3.49457 11.8287 4.39335 12.3095 5.25449 12.0673L7.86002 11.3345M12.0747 4.5267L10.0176 5.3819M11.9085 10.1958L13.7486 9.67825M15.5954 9.95196L16.3879 9.69444C17.0445 9.48111 17.4038 8.77592 17.1905 8.11935L15.6454 3.36407C15.4321 2.7075 14.7269 2.34819 14.0703 2.56152L13.2778 2.81903C12.4023 3.10347 11.9233 4.04373 12.2077 4.91915L13.4953 8.88189C13.7797 9.75731 14.72 10.2364 15.5954 9.95196Z",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M9.99996 13.7499C11.1506 13.7499 12.0833 12.8172 12.0833 11.6666C12.0833 10.516 11.1506 9.58325 9.99996 9.58325C8.84937 9.58325 7.91663 10.516 7.91663 11.6666C7.91663 12.8172 8.84937 13.7499 9.99996 13.7499Z",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6.32059 1.86075C6.29733 1.65542 6.12373 1.50021 5.91708 1.5C5.71044 1.49979 5.53652 1.65464 5.51284 1.85993C5.36501 3.14161 4.64161 3.86501 3.35993 4.01284C3.15464 4.03652 2.99979 4.21044 3 4.41708C3.00021 4.62373 3.15542 4.79733 3.36075 4.82059C4.62425 4.9637 5.39782 5.68014 5.51176 6.9628C5.5304 7.17271 5.70638 7.33357 5.91712 7.33333C6.12787 7.3331 6.30348 7.17184 6.32166 6.96189C6.43112 5.69736 7.19736 4.93112 8.46189 4.82166C8.67184 4.80348 8.8331 4.62787 8.83333 4.41712C8.83357 4.20638 8.67271 4.0304 8.4628 4.01176C7.18014 3.89782 6.4637 3.12425 6.32059 1.86075Z",fill:"currentColor"})),KSt=Object.freeze(Object.defineProperty({__proto__:null,default:joe},Symbol.toStringTag,{value:"Module"})),Toe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6.25 17.5L8.75 12.5L11.25 17.5",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M5.11027 9.10043L2.44577 10.2867C1.81509 10.5675 1.53146 11.3064 1.81225 11.9371L2.1512 12.6984C2.43199 13.3291 3.17088 13.6127 3.80155 13.3319L6.46606 12.1456",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M9.71717 6.13571L6.29137 7.66097C5.45048 8.03536 5.0723 9.02055 5.44669 9.86144L6.12459 11.384C6.49898 12.2249 7.48416 12.6031 8.32506 12.2287L11.15 10.971",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M13.4223 10.8719V10.8719C12.4763 11.2931 11.3679 10.8676 10.9467 9.9216L9.84517 7.44741C9.37718 6.39629 9.8499 5.16481 10.901 4.69682L15.8494 2.49366L16.8563 4.75528",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M8.75 14.25C9.7165 14.25 10.5 13.4665 10.5 12.5C10.5 11.5335 9.7165 10.75 8.75 10.75C7.7835 10.75 7 11.5335 7 12.5C7 13.4665 7.7835 14.25 8.75 14.25Z",fill:"#F5F5F5",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4.25312 2.39704C4.23464 2.23386 4.09668 2.11052 3.93246 2.11035C3.76824 2.11018 3.63002 2.23325 3.61121 2.39639C3.49373 3.41494 2.91884 3.98982 1.90029 4.1073C1.73715 4.12612 1.61409 4.26433 1.61426 4.42855C1.61443 4.59277 1.73777 4.73074 1.90095 4.74922C2.90505 4.86295 3.5198 5.4323 3.61035 6.45163C3.62517 6.61845 3.76502 6.74628 3.93249 6.74609C4.09997 6.7459 4.23953 6.61776 4.25397 6.4509C4.34096 5.44599 4.9499 4.83706 5.95481 4.75007C6.12166 4.73562 6.24981 4.59606 6.25 4.42859C6.25019 4.26111 6.12235 4.12126 5.95553 4.10644C4.93621 4.01589 4.36686 3.40114 4.25312 2.39704Z",fill:"currentColor"}),g.createElement("path",{d:"M17.3473 6.94607C17.3267 6.7643 17.173 6.6269 16.9901 6.62671C16.8072 6.62652 16.6532 6.76361 16.6323 6.94534C16.5014 8.07997 15.861 8.72038 14.7263 8.85125C14.5446 8.87221 14.4075 9.02617 14.4077 9.20911C14.4079 9.39204 14.5453 9.54573 14.7271 9.56632C15.8456 9.69301 16.5304 10.3273 16.6313 11.4627C16.6478 11.6486 16.8036 11.791 16.9902 11.7908C17.1767 11.7906 17.3322 11.6478 17.3483 11.4619C17.4452 10.3425 18.1235 9.66417 19.2429 9.56726C19.4288 9.55118 19.5716 9.39571 19.5718 9.20915C19.572 9.02258 19.4296 8.86679 19.2438 8.85029C18.1083 8.74942 17.474 8.06461 17.3473 6.94607Z",fill:"currentColor"})),YSt=Object.freeze(Object.defineProperty({__proto__:null,default:Toe},Symbol.toStringTag,{value:"Module"})),Noe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64258 2.25098C7.92412 2.25111 8.17552 2.42896 8.26953 2.69434C8.52175 3.40794 9.20207 3.91797 10 3.91797C10.7979 3.91797 11.4782 3.40794 11.7305 2.69434C11.8245 2.42896 12.0759 2.25111 12.3574 2.25098H14.583C15.8707 2.25098 16.9149 3.29537 16.915 4.58301V15.416C16.915 16.7038 15.8708 17.748 14.583 17.748H12.3574C12.0757 17.7479 11.8244 17.5703 11.7305 17.3047C11.4782 16.5912 10.7978 16.0811 10 16.0811C9.20215 16.0811 8.52182 16.5912 8.26953 17.3047C8.17565 17.5703 7.92428 17.7479 7.64258 17.748H5.41699C4.12925 17.748 3.08496 16.7038 3.08496 15.416V4.58301C3.08508 3.29537 4.12932 2.25098 5.41699 2.25098H7.64258ZM5.41699 3.58105C4.86386 3.58105 4.41516 4.0299 4.41504 4.58301V15.416C4.41504 15.9692 4.86379 16.418 5.41699 16.418H7.21191C7.74592 15.4265 8.79344 14.751 10 14.751C11.2066 14.751 12.2541 15.4265 12.7881 16.418H14.583C15.1362 16.418 15.585 15.9692 15.585 15.416V4.58301C15.5848 4.0299 15.1361 3.58105 14.583 3.58105H12.7881C12.2542 4.57276 11.2067 5.24805 10 5.24805C8.79326 5.24805 7.74584 4.57276 7.21191 3.58105H5.41699Z",fill:"currentColor"}),g.createElement("path",{d:"M8 10H10M12 10H10M10 10V8M10 10V12",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),QSt=Object.freeze(Object.defineProperty({__proto__:null,default:Noe},Symbol.toStringTag,{value:"Module"})),Aoe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64258 2.25098C7.92412 2.25111 8.17552 2.42896 8.26953 2.69434C8.52175 3.40794 9.20207 3.91797 10 3.91797C10.7979 3.91797 11.4782 3.40794 11.7305 2.69434C11.8245 2.42896 12.0759 2.25111 12.3574 2.25098H14.583C15.8707 2.25098 16.9149 3.29537 16.915 4.58301V15.416C16.915 16.7038 15.8708 17.748 14.583 17.748H12.3574C12.0757 17.7479 11.8244 17.5703 11.7305 17.3047C11.4782 16.5912 10.7978 16.0811 10 16.0811C9.20215 16.0811 8.52182 16.5912 8.26953 17.3047C8.17565 17.5703 7.92428 17.7479 7.64258 17.748H5.41699C4.12925 17.748 3.08496 16.7038 3.08496 15.416V4.58301C3.08508 3.29537 4.12932 2.25098 5.41699 2.25098H7.64258ZM5.41699 3.58105C4.86386 3.58105 4.41516 4.0299 4.41504 4.58301V15.416C4.41504 15.9692 4.86379 16.418 5.41699 16.418H7.21191C7.74592 15.4265 8.79344 14.751 10 14.751C11.2066 14.751 12.2541 15.4265 12.7881 16.418H14.583C15.1362 16.418 15.585 15.9692 15.585 15.416V4.58301C15.5848 4.0299 15.1361 3.58105 14.583 3.58105H12.7881C12.2542 4.57276 11.2067 5.24805 10 5.24805C8.79326 5.24805 7.74584 4.57276 7.21191 3.58105H5.41699Z",fill:"currentColor"}),g.createElement("path",{d:"M4 11.6599H16",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),JSt=Object.freeze(Object.defineProperty({__proto__:null,default:Aoe},Symbol.toStringTag,{value:"Module"})),Poe=20,d$e=20,f$e=23,m$e=1999,p$e=349e3,g$e=399,h$e=4,v$e=3.5,y$e=4,x$e=75e3,b$e=pe({goName:{id:"pricingPlanConstants.go.name",defaultMessage:"Go"},goCTA:{id:"pricingPlanConstants.go.callToAction",defaultMessage:"Upgrade to Go"},goCTAActive:{id:"pricingPlanConstants.go.callToActionActive",defaultMessage:"Your current plan"},goSummary:{id:"pricingPlanConstants.go.summary",defaultMessage:"Get more access to our most popular features"},goCTAPromo:{id:"pricingPlanConstants.go.callToActionPromo",defaultMessage:"Apply to my subscription"},goCost:{id:"pricingPlanConstants.go.costInDollars",defaultMessage:"4"},goCostInPounds:{id:"pricingPlanConstants.go.costInPounds",defaultMessage:"3.50"},goCostInEuros:{id:"pricingPlanConstants.go.costInEuros",defaultMessage:"4"},goCostInINR:{id:"pricingPlanConstants.go.costInINR",defaultMessage:"399"},goCostInIDR:{id:"pricingPlanConstants.go.costInIDR_v2",defaultMessage:"75000"},goAdvertisedEverythingInFree:{id:"pricingPlanConstants.go.everythingInFree",defaultMessage:"Everything in Free"},goAdvertisedGPT5Extended:{id:"pricingPlanConstants.go.gpt5Extended",defaultMessage:"Extended access to our flagship model GPT-5"},goAdvertisedImgGenExtended:{id:"pricingPlanConstants.go.imageGenExtended",defaultMessage:"Extended access to image generation"},goAdvertisedFileUploadsExtended:{id:"pricingPlanConstants.go.fileUploadsExtended",defaultMessage:"Extended access to file uploads"},goAdvertisedADAExtended:{id:"pricingPlanConstants.go.advancedDataAnalysisExtended",defaultMessage:"Extended access to advanced data analysis"},goAdvertisedLongerMemory:{id:"pricingPlanConstants.go.longerMemory",defaultMessage:"Longer memory for more personalized responses"}}),Ioe=pe({freeName:{id:"pricingPlanConstants.free.name",defaultMessage:"Free"},freeCTA_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.free.freeCTA_UnifiedAccountCreation_Experiment",defaultMessage:"Continue with free plan"},freeCTA:{id:"pricingPlanConstants.free.callToAction",defaultMessage:"Your current plan"},freeSummary:{id:"pricingPlanConstants.free.freeSummary",defaultMessage:"Explore how AI can help you with everyday tasks"},freeCost:{id:"pricingPlanConstants.free.costInDollars",defaultMessage:"0"},freeCostInPounds:{id:"pricingPlanConstants.free.costInPounds",defaultMessage:"0"},freeCostInEuros:{id:"pricingPlanConstants.free.costInEuros",defaultMessage:"0"},freeCostInINR:{id:"pricingPlanConstants.free.freeCostInINR",defaultMessage:"0"},freeCostInIDR:{id:"pricingPlanConstants.free.freeCostInIDR",defaultMessage:"0"},freeAdvertisedFeatures0:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce0",defaultMessage:"Standard voice mode"},freeAdvertisedFeatures1:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce1",defaultMessage:"Real-time data from the web with search"},freeAdvertisedFeatures3:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce3",defaultMessage:"Limited access to file uploads, advanced data analysis, and image generation"},freeAdvertisedFeatures4:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce4",defaultMessage:"Use custom GPTs"},freeBasicModelAccess:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce0_1",defaultMessage:"Access to GPT-5"},freeAdvertisedFeatures2_1:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce2_1",defaultMessage:"Limited access to GPT-4o and o4-mini"}}),C$e=pe({plusName:{id:"pricingPlanConstants.plus.name",defaultMessage:"Plus"},plusSummary:{id:"pricingPlanConstants.plus.plusSummary",defaultMessage:"Level up productivity and creativity with expanded access"},plusSummaryWithDiscount:{id:"pricingPlanConstants.plus.plusSummaryWithDiscount",defaultMessage:"More access to advanced intelligence"},plusActive:{id:"pricingPlanConstants.plus.callToAction.active",defaultMessage:"Your current plan"},plusCost:{id:"pricingPlanConstants.plus.costInDollars",defaultMessage:"20"},plusCostInPounds:{id:"pricingPlanConstants.plus.costInPounds",defaultMessage:"20"},plusCostInEuros:{id:"pricingPlanConstants.plus.costInEuros",defaultMessage:"23"},plusCostInINR:{id:"pricingPlanConstants.plus.plusCostInINRProduce",defaultMessage:"1999"},plusCostInIDR:{id:"pricingPlanConstants.plus.plusCostInIDR",defaultMessage:"349000"},plusAdvertisedFeaturesNeptune4:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesNeptune4",defaultMessage:"Create and use tasks, shared projects, and custom GPTs"},plusAdvertisedFeatures0:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce0",defaultMessage:"Everything in Free"},plusAdvertisedFeatures1:{id:"pricingPlanConstants.plus.plusAdvertisedFeatures0_2_restricted",defaultMessage:"Extended limits on GPT-5, our flagship model"},plusAdvertisedFeatures2:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce2",defaultMessage:"Standard and advanced voice mode"},plusAdvertisedFeatures3_6:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce3_6",defaultMessage:"Access to deep research, multiple reasoning models (o4-mini, o4-mini-high, and o3), and a research preview of GPT-4.5"},plusAdvertisedFeatures3_7:{id:"pricingPlanConstants.plus.plusAdvertisedFeatures0_6_restricted",defaultMessage:"Access to ChatGPT agent"},plusAdvertisedFeatures3_8:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce3_8",defaultMessage:"Access to a research preview of GPT-4.5, our largest model yet, and GPT-4.1, a model optimized for coding tasks"},plusAdvertisedFeatures4:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce4",defaultMessage:"Opportunities to test new features"},plusAdvertisedFeatures5:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce5",defaultMessage:"Limited access to Sora video generation"},plusAdvertisedFeatures6:{id:"pricingPlanConstants.plus.plusAdvertisedFeaturesProduce6",defaultMessage:"Access to a research preview of Codex agent"},plusInactive:{id:"pricingPlanConstants.plus.callToAction.inactivePayment",defaultMessage:"Get Plus"},plusInactiveUnauthenticated:{id:"pricingPlanConstants.plus.callToAction.inactiveUnauthenticated",defaultMessage:"Sign up to get free Plus"},memoryUpsell:{id:"pricingPlanConstants.plus.memoryUpsell",defaultMessage:"More space for memories"},studentAdvertisedFeatures1:{id:"pricingPlanConstants.student.studentAdvertisedFeatures1",defaultMessage:"Generate quick summaries of documents with more file uploads"},studentAdvertisedFeatures2:{id:"pricingPlanConstants.student.studentAdvertisedFeatures2",defaultMessage:"Practice speaking foreign languages with advanced voice"},studentAdvertisedFeatures3:{id:"pricingPlanConstants.student.studentAdvertisedFeatures3",defaultMessage:"Test new features like Projects, which lets you organize chats by topic"},studentAdvertisedFeatures4:{id:"pricingPlanConstants.student.studentAdvertisedFeatures4",defaultMessage:"Get better answers to your biggest questions with our most advanced AI models"},plusRedesignFeatures:{id:"pricingPlanConstants.plus.plusRedesignFeatures",defaultMessage:"Everything in Free"}}),_$e=pe({teamPlanName:{id:"pricingPlanConstants.teams.teamPlanName",defaultMessage:"Business"},teamPlanSummary:{id:"pricingPlanConstants.team.teamPlanSummary",defaultMessage:"Supercharge your business with a secure, collaborative workspace"},teamPlanSummary_V2:{id:"pricingPlanConstants.team.teamPlanSummary_V2",defaultMessage:"Secure, collaborative workspace for teams"},teamPlanActive:{id:"pricingPlanConstants.teams.teamPlanActive",defaultMessage:"Your current plan"},teamPlanCreate:{id:"pricingPlanConstants.teams.teamPlanCreate",defaultMessage:"Add Business workspace"},teamPlanCost:{id:"pricingPlanConstants.teams.teamPlanSubTitle",defaultMessage:"25"},teamPlanCostInPounds:{id:"pricingPlanConstants.teams.teamPlanInPoundsSubTitle",defaultMessage:"25"},teamPlanCostInEuros:{id:"pricingPlanConstants.teams.teamPlanInEurosSubTitle",defaultMessage:"29"},teamPlanCostInINR:{id:"pricingPlanConstants.teams.teamPlanCostInINRSubTitleProduce",defaultMessage:"2099"},teamPlanCostInIDR:{id:"pricingPlanConstants.teams.teamPlanCostInIDRSubTitle",defaultMessage:"469000"},teamAdvertisedFeatures0:{id:"pricingPlanConstants.team.teamAdvertisedFeatures0_1",defaultMessage:"Everything in Plus and more: unlimited GPT-5 messages, with generous access to GPT-5 thinking, access to GPT-5 pro, and optional credits that scale with your team."},teamAdvertisedFeatures1:{id:"pricingPlanConstants.team.teamAdvertisedFeatures1",defaultMessage:"Connect your company knowledge: Google Drive, SharePoint, Dropbox, GitHub, Outlook, and custom integrations"},teamAdvertisedFeatures2:{id:"pricingPlanConstants.team.teamAdvertisedFeatures2",defaultMessage:"Business-essential security: SAML SSO, MFA, SOC 2 Type 2, encryption in transit & at rest, data excluded from training"},teamAdvertisedFeatures3:{id:"pricingPlanConstants.team.teamAdvertisedFeatures3",defaultMessage:"Record mode: capture meetings and voice notes on macOS desktop, then search and reference transcripts in any chat"},teamAdvertisedFeatures4:{id:"pricingPlanConstants.team.teamAdvertisedFeatures4",defaultMessage:"Business features like shared projects, tasks, file uploads, and custom workspace GPTs"},teamAdvertisedFeatures5:{id:"pricingPlanConstants.team.teamAdvertisedFeatures5",defaultMessage:"Built-in agents â deep research, ChatGPT agent, and Codex can reason across your documents, tools, and codebases to save you hours"},teamAdvertisedFeatures6:{id:"pricingPlanConstants.team.teamAdvertisedFeatures6",defaultMessage:"Multimodal creation â create videos with Sora, generate images, build canvases, run advanced data analysis, and execute code inline"},teamAdvertisedFeatures0_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures0_ComparisonV2_Experiment",defaultMessage:"Everything in Plus, with even higher limits"},teamAdvertisedFeatures1_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures1_ComparisonV2_Experiment",defaultMessage:"Unlimited access to our best model for work"},teamAdvertisedFeatures2_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures2_ComparisonV2_Experiment",defaultMessage:"Advanced security with SSO, MFA & more"},teamAdvertisedFeatures3_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures3_ComparisonV2_Experiment",defaultMessage:"Privacy built in; data never used for training"},teamAdvertisedFeatures4_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures4_ComparisonV2_Experiment",defaultMessage:"Integration with Sharepoint & other tools"},teamAdvertisedFeatures5_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures5_ComparisonV2_Experiment",defaultMessage:"Tools for teams like shared projects & custom GPTs"},teamAdvertisedFeatures6_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures6_ComparisonV2_Experiment",defaultMessage:"Simplified billing and user management"},teamAdvertisedFeatures7_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures7_ComparisonV2_Experiment",defaultMessage:"Meeting and voice transcription"},teamAdvertisedFeatures8_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures8_ComparisonV2_Experiment",defaultMessage:"Coding and deep research agents"},teamAdvertisedFeatures9_ComparisonV2_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures9_ComparisonV2_Experiment",defaultMessage:"Videos, image gen, data, & code all in chat"},teamPlanSummary_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamPlanSummary_UnifiedAccountCreation_Experiment",defaultMessage:"Secure, collaborative workspace for teams"},teamAdvertisedFeatures_EverythingInFreePlus_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures_EverythingInFreePlus_UnifiedAccountCreation_Experiment",defaultMessage:"Everything in free, plus"},teamAdvertisedFeatures0_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures0_UnifiedAccountCreation_Experiment",defaultMessage:"Unlimited access to our best model for work"},teamAdvertisedFeatures1_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures1_UnifiedAccountCreation_Experiment",defaultMessage:"Privacy built in; data never used for training"},teamAdvertisedFeatures2_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures2_UnifiedAccountCreation_Experiment",defaultMessage:"Tools for teams like shared projects & custom GPTs"},teamAdvertisedFeatures3_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures3_UnifiedAccountCreation_Experiment",defaultMessage:"Integration with Sharepoint & other tools"},teamAdvertisedFeatures4_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures4_UnifiedAccountCreation_Experiment",defaultMessage:"Coding and deep research agents"},teamAdvertisedFeatures5_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures5_UnifiedAccountCreation_Experiment",defaultMessage:"Simplified billing and user management"},teamAdvertisedFeatures6_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamAdvertisedFeatures6_UnifiedAccountCreation_Experiment",defaultMessage:"Advanced security with SSO, MFA & more"},teamPlanInactive_UnifiedAccountCreation_Experiment:{id:"pricingPlanConstants.team.teamPlanInactive_UnifiedAccountCreation_Experiment",defaultMessage:"Start Business trial"},teamPricingDisclaimer:{id:"pricingPlanConstants.teams.teamPricingDisclaimer",defaultMessage:"For {minSeats}+ users, billed annually"},teamPricingDisclaimer2:{id:"pricingPlanConstants.team.teamPricingDisclaimer2",defaultMessage:"Unlimited subject to abuse guardrails. <link>Learn more</link>",link:"https://help.openai.com/en/articles/8792828-what-is-chatgpt-team"},teamPricingDisclaimerRedesign:{id:"pricingPlanConstants.teams.teamPricingDisclaimerRedesign",defaultMessage:"*Billed as $1/seat for 30 days up to 5 seats and $30 seat/mo thereafter"},teamPlanInactive:{id:"pricingPlanConstants.teams.callToAction.inactivePayment",defaultMessage:"Get Business"}}),w$e=pe({proName:{id:"pricingPlanConstants.pro.name",defaultMessage:"Pro"},proActive:{id:"pricingPlanConstants.pro.callToAction.active",defaultMessage:"Your current plan"},proInactive:{id:"pricingPlanConstants.pro.callToAction.inactive",defaultMessage:"Get Pro"},proSummary:{id:"pricingPlanConstants.pro.proPlanSummary",defaultMessage:"Get the best of OpenAI with the highest level of access"},proCost:{id:"pricingPlanConstants.pro.costInDollars",defaultMessage:"200"},proCostInPounds:{id:"pricingPlanConstants.pro.costInPounds",defaultMessage:"200"},proCostInEuros:{id:"pricingPlanConstants.pro.costInEuros",defaultMessage:"229"},proCostInINR:{id:"pricingPlanConstants.pro.costInINR",defaultMessage:"19900"},proCostInIDR:{id:"pricingPlanConstants.pro.costInIDR",defaultMessage:"3499000"},proAdvertisedFeatures0:{id:"pricingPlanConstants.pro.proAdvertisedFeatures0",defaultMessage:"Everything in Plus"},proAdvertisedFeatures1:{id:"pricingPlanConstants.pro.proAdvertisedFeatures0_1_restricted",defaultMessage:"Unlimited access to GPT-5"},proAdvertisedFeatures2:{id:"pricingPlanConstants.pro.proAdvertisedFeatures2",defaultMessage:"Unlimited access to advanced voice"},proAdvertisedFeatures3:{id:"pricingPlanConstants.pro.proAdvertisedFeatures3",defaultMessage:"Access to o1 pro mode, which uses more compute for the best answers to the hardest questions"},proAdvertisedFeatures3_1:{id:"pricingPlanConstants.pro.proAdvertisedFeatures0_2_restricted",defaultMessage:"Access to GPT-5 pro, which uses more compute for the best answers to the hardest questions"},proAdvertisedFeatures3_5:{id:"jg7GoI",defaultMessage:"Extended access to deep research, which conducts multi-step online research for complex tasks"},proAdvertisedFeatures3_6:{id:"pricingPlanConstants.pro.proAdvertisedFeatures3_6",defaultMessage:"Extended access to ChatGPT agent"},proAdvertisedFeatures3_7:{id:"pricingPlanConstants.pro.proAdvertisedFeatures3_7",defaultMessage:"Access to research preview of GPT-4.5"},proAdvertisedFeatures4:{id:"pricingPlanConstants.pro.proAdvertisedFeatures4",defaultMessage:"Extended access to Sora video generation"},proAdvertisedFeaturesGpt4_5:{id:"pricingPlanConstants.pro.proAdvertisedFeaturesGpt4_5",defaultMessage:"Access to research preview of GPT-4.5"},proAdvertisedFeaturesGpt4_5AndOperator:{id:"pricingPlanConstants.pro.proAdvertisedFeaturesGpt4_5AndOperator",defaultMessage:"Access to research previews of GPT-4.5 and Operator"},proPricingDisclaimer:{id:"pricingPlanConstants.pro.proPricingDisclaimer",defaultMessage:"Unlimited subject to abuse guardrails. <link>Learn more</link>",link:"https://help.openai.com/en/articles/9793128-what-is-chatgpt-pro"},proAdvertisedFeatures5:{id:"pricingPlanConstants.pro.proAdvertisedFeatures5",defaultMessage:"Access to a research preview of Codex agent"}}),bm=pe({manageSubscriptionWeb:{id:"pricingPlanConstants.manageSubscriptionWeb.callToAction",defaultMessage:"Manage my subscription"},manageSubscriptionIos:{id:"pricingPlanConstants.manageSubscriptionIos.callToAction",defaultMessage:"Manage my subscription in the ChatGPT iOS app"},manageSubscriptionAndroid:{id:"pricingPlanConstants.manageSubscriptionAndroid.callToAction",defaultMessage:"Manage my subscription in the ChatGPT Android app"},cancelSubscriptionWeb:{id:"pricingPlanConstants.cancelSubscriptionWeb.callToAction",defaultMessage:"Cancel my subscription"},cancelSubscriptionIos:{id:"pricingPlanConstants.cancelSubscriptionIos.callToAction",defaultMessage:"Cancel my subscription in the ChatGPT iOS app"},cancelSubscriptionAndroid:{id:"pricingPlanConstants.cancelSubscriptionAndroid.callToAction",defaultMessage:"Cancel my subscription in the ChatGPT Android app"}}),XSt={manageSubscriptionIos:{callToAction:bm.manageSubscriptionIos},manageSubscriptionAndroid:{callToAction:bm.manageSubscriptionAndroid},cancelSubscriptionWeb:{callToAction:bm.cancelSubscriptionWeb},cancelSubscriptionIos:{callToAction:bm.cancelSubscriptionIos},cancelSubscriptionAndroid:{callToAction:bm.cancelSubscriptionAndroid}},Qm=pe({planName:{id:"pricing.freeRedesign.planName",defaultMessage:"Free"},headline:{id:"pricing.freeRedesign.headline_08012025",defaultMessage:"Intelligence for everyday tasks"},cta:{id:"pricing.freeRedesign.cta",defaultMessage:"Start for free"},featureBasicModels:{id:"pricing.freeRedesign.feature.basicModels",defaultMessage:"Basic models"},featureLimitedMessagesUploads:{id:"pricingPlanConstants.free.freeAdvertisedFeaturesProduce0_2_restricted",defaultMessage:"Limited file uploads"},featureLimitedImageGen:{id:"pricing.freeRedesign.feature.limitedImageGen",defaultMessage:"Limited and slower image generation"},featureLimitedDeepResearch:{id:"pricing.freeRedesign.feature.limitedDeepResearch",defaultMessage:"Limited deep research"},featureLimitedMemoryContext:{id:"pricing.freeRedesign.feature.limitedMemoryContext",defaultMessage:"Limited memory and context"}}),fi=pe({planName:{id:"pricing.plusRedesign.planName",defaultMessage:"Plus"},headline:{id:"pricing.plusRedesign.headline",defaultMessage:"More access to advanced intelligence"},cta:{id:"pricing.plusRedesign.cta",defaultMessage:"Get Plus"},featureAdvancedReasoning:{id:"pricingPlanConstants.plus.plusAdvertisedFeatures0_redesign_restricted",defaultMessage:"GPT-5 with advanced reasoning"},featureExpandedMessagesUploads:{id:"pricing.plusRedesign.feature.expandedMessagesUploads",defaultMessage:"Expanded messaging and uploads"},featureExpandedFasterImageCreation:{id:"pricing.plusRedesign.feature.expandedFasterImageCreation",defaultMessage:"Expanded and faster image creation"},featureExpandedDeepResearchAgentMode:{id:"pricing.plusRedesign.feature.expandedDeepResearchAgentMode",defaultMessage:"Expanded deep research and agent mode"},featureExpandedMemoryContext:{id:"pricing.plusRedesign.feature.expandedMemoryContext",defaultMessage:"Expanded memory and context"},featureSoraVideoGeneration:{id:"pricing.plusRedesign.feature.soraVideoGeneration",defaultMessage:"Sora video generation"},featureCodexAgent:{id:"pricing.plusRedesign.feature.codexAgent",defaultMessage:"Codex agent"},footnoteLimitsApply:{id:"pricing.plusRedesign.footnote.limitsApply",defaultMessage:"Limits apply"}}),lo=pe({planName:{id:"pricing.proRedesign.planName",defaultMessage:"Pro"},headline:{id:"pricing.proRedesign.headline_08012025",defaultMessage:"Full access to the best of ChatGPT"},cta:{id:"pricing.proRedesign.cta",defaultMessage:"Get Pro"},featureMostPowerfulModels:{id:"pricingPlanConstants.pro.proAdvertisedFeatures0_redesign_restricted",defaultMessage:"GPT-5 with pro reasoning"},featureUnlimitedMessagesUploads:{id:"pricing.proRedesign.feature.unlimitedMessagesUploads",defaultMessage:"Unlimited messages and uploads"},featureUnlimitedFasterImageCreation:{id:"pricing.proRedesign.feature.unlimitedFasterImageCreation",defaultMessage:"Unlimited and faster image creation"},featureMaximumDeepResearchAgentMode:{id:"pricing.proRedesign.feature.maximumDeepResearchAgentMode",defaultMessage:"Maximum deep research and agent mode"},featureMaximumMemoryContext:{id:"pricing.proRedesign.feature.maximumMemoryContext",defaultMessage:"Maximum memory and context"},featureExpandedProjectsTasksCustomGPTs:{id:"pricing.proRedesign.feature.expandedProjectsTasksCustomGPTs",defaultMessage:"Expanded projects, tasks, and custom GPTs"},featureExpandedSoraVideoGeneration:{id:"pricing.proRedesign.feature.expandedSoraVideoGeneration",defaultMessage:"Expanded Sora video generation"},featureExpandedCodexAgent:{id:"pricing.proRedesign.feature.expandedCodexAgent",defaultMessage:"Expanded Codex agent"},featureResearchPreview:{id:"pricing.proRedesign.feature.researchPreview",defaultMessage:"Research preview of new features"},footnoteAbuseGuardrails:{id:"pricing.proRedesign.footnote.abuseGuardrails",defaultMessage:"Unlimited subject to abuse guardrails"}}),wl=pe({planName:{id:"pricing.enterpriseRedesign.planName",defaultMessage:"Enterprise"},headline:{id:"pricing.enterpriseRedesign.headline",defaultMessage:"More access to advanced intelligence"},cta:{id:"pricing.enterpriseRedesign.cta",defaultMessage:"Contact sales"},ctaActive:{id:"pricing.enterpriseRedesign.ctaActive",defaultMessage:"Your current plan"},undefinedPrice:{id:"pricing.enterpriseRedesign.undefinedPrice",defaultMessage:"â"},featureEverythingInBusinessAndMore:{id:"pricing.enterpriseRedesign.feature.everythingInBusinessAndMore",defaultMessage:"Everything in Business and more"},featureEnterpriseSecurityControls:{id:"pricing.enterpriseRedesign.feature.enterpriseSecurityControls",defaultMessage:"Enterprise-level security and controls"},featureAdvancedDataPrivacy:{id:"pricing.enterpriseRedesign.feature.advancedDataPrivacy",defaultMessage:"Advanced data privacy"},featureDataResidency:{id:"pricing.enterpriseRedesign.feature.dataResidency",defaultMessage:"Support for data residency in seven regions"},featurePrioritySupport:{id:"pricing.enterpriseRedesign.feature.prioritySupport",defaultMessage:"24/7 priority support"},featureScaleWithVolumeDiscounts:{id:"pricing.enterpriseRedesign.feature.scaleWithVolumeDiscounts",defaultMessage:"Built for scale with volume discounts"}}),S$e=pe({planName:{id:"pricing.teamRedesign.planName",defaultMessage:"Business"},headline:{id:"pricing.teamRedesign.headline",defaultMessage:"Supercharge your business with a secure, collaborative workspace"},cta:{id:"pricing.teamRedesign.cta",defaultMessage:"Get Business"},featureEverythingInPlus:{id:"pricing.teamRedesign.feature.everythingInPlus",defaultMessage:"Everything in Plus"},featureUnlimitedGpt4oAnd41Mini:{id:"pricing.teamRedesign.feature.unlimitedGpt4oAnd41Mini",defaultMessage:"Unlimited access to GPT-4o and 4.1âmini"},featureConnectorsInternalKnowledge:{id:"pricing.teamRedesign.feature.connectorsInternalKnowledge",defaultMessage:"Connectors to internal knowledge"},featureSecuredWorkspaceAdminBilling:{id:"pricing.teamRedesign.feature.securedWorkspaceAdminBilling",defaultMessage:"Secured workspace with admin tools and billing"},featurePrivacyLawCompliant:{id:"pricing.teamRedesign.feature.privacyLawCompliant",defaultMessage:"Privacy law compliant"},featureBusinessFeaturesDataAnalysisRecordModeCustomGPTs:{id:"pricing.teamRedesign.feature.businessFeaturesDataAnalysisRecordModeCustomGPTs",defaultMessage:"Business features like data analysis, record mode, and custom GPTs"}}),tr=pe({feature0Label:{id:"pricing.team.unified.feature0.label",defaultMessage:"Everything in Plus, with even higher limits"},feature0Tooltip:{id:"pricing.team.unified.feature0.tooltip",defaultMessage:"Get unlimited GPT-5 messages and generous access to GPT-5 Thinking and Pro"},feature1Label:{id:"pricing.team.unified.feature1.label",defaultMessage:"Unlimited access to our best model for work"},feature1Tooltip:{id:"pricing.team.unified.feature1.tooltip",defaultMessage:"Use our latest, best model, GPT-5, for all of your tasks"},feature2Label:{id:"pricing.team.unified.feature2.label",defaultMessage:"Videos, image gen, data, & code all in chat"},feature2Tooltip:{id:"pricing.team.unified.feature2.tooltip",defaultMessage:"Access multimodal creation tools, like image and video generation, data analysis, and code execution in chat"},feature3Label:{id:"pricing.team.unified.feature3.label",defaultMessage:"Advanced security with SSO, MFA, & more"},feature3Tooltip:{id:"pricing.team.unified.feature3.tooltip",defaultMessage:"Business-essential security: SAML SSO, MFA, SOC 2 Type 2, encryption in transit & at rest, data excluded from training."},feature4Label:{id:"pricing.team.unified.feature4.label",defaultMessage:"Privacy built in; data never used for training"},feature4Tooltip:{id:"pricing.team.unified.feature4.tooltip",defaultMessage:"Information or data you share in your workspace wonât be used to train ChatGPT models"},feature5Label:{id:"pricing.team.unified.feature5.label",defaultMessage:"Tools for teams like shared projects & custom GPTs"},feature5Tooltip:{id:"pricing.team.unified.feature5.tooltip",defaultMessage:"Collaborate seamlessly with workspace features like shared projects, tasks, file uploads, and custom workspace GPTs"},feature6Label:{id:"pricing.team.unified.feature6.label",defaultMessage:"Integration with Sharepoint & other tools"},feature6Tooltip:{id:"pricing.team.unified.feature6.tooltip",defaultMessage:"Connect to company knowledge with integrations like Google Drive, Sharepoint, Dropbox, GitHub, Outlook, and more"},feature7Label:{id:"pricing.team.unified.feature7.label",defaultMessage:"Simplified billing and user management"},feature7Tooltip:{id:"pricing.team.unified.feature7.tooltip",defaultMessage:"Manage users and payments via secure admin tooling"},feature8Label:{id:"pricing.team.unified.feature8.label",defaultMessage:"Meeting and voice transcription"},feature8Tooltip:{id:"pricing.team.unified.feature8.tooltip",defaultMessage:"Capture meetings and voice notes on macOS desktop, then search and reference transcripts in any chat"},feature9Label:{id:"pricing.team.unified.feature9.label",defaultMessage:"Coding and deep research agents"},feature9Tooltip:{id:"pricing.team.unified.feature9.tooltip",defaultMessage:"Leverage built-in agents that reason across your documents, tools, and codebases to save your teamâs time"}}),k$e=()=>[{label:tr.feature0Label,tooltip:tr.feature0Tooltip,icon:pd},{label:tr.feature1Label,tooltip:tr.feature1Tooltip,icon:hT},{label:tr.feature2Label,tooltip:tr.feature2Tooltip,icon:bT},{label:tr.feature3Label,tooltip:tr.feature3Tooltip,icon:Ua},{label:tr.feature4Label,tooltip:tr.feature4Tooltip,icon:$M},{label:tr.feature5Label,tooltip:tr.feature5Tooltip,icon:_oe},{label:tr.feature6Label,tooltip:tr.feature6Tooltip,icon:Mh},{label:tr.feature7Label,tooltip:tr.feature7Tooltip,icon:kh},{label:tr.feature8Label,tooltip:tr.feature8Tooltip,icon:vT},{label:tr.feature9Label,tooltip:tr.feature9Tooltip,icon:gT}],Jm=pe({planName:{id:"pricing.goRedesign.planName",defaultMessage:"Go"},headline:{id:"pricing.goRedesign.headline",defaultMessage:"More access to popular features"},cta:{id:"pricing.goRedesign.cta",defaultMessage:"Try Go"},featureAccessToGPT5:{id:"pricing.goRedesign.feature.accessToGpt5",defaultMessage:"Access to GPT-5"},featureExpandedMessagesUploads:{id:"pricing.goRedesign.feature.expandedMessagesUploads",defaultMessage:"Expanded messaging and uploads"},featureExpandedImageCreation:{id:"pricing.goRedesign.feature.expandedImageCreation",defaultMessage:"Expanded image creation"},featureLimitedDeepResearch:{id:"pricing.goRedesign.feature.limitedDeepResearch",defaultMessage:"Limited deep research"},featureLongerMemoryContext:{id:"pricing.goRedesign.feature.longerMemoryContext",defaultMessage:"Longer memory and context"},featureExtendedADA:{id:"pricing.goRedesign.feature.extendedADA",defaultMessage:"Extended advanced data analysis"}}),M$e=()=>[{label:Ioe.freeBasicModelAccess,icon:c3},{label:Qm.featureLimitedMessagesUploads,icon:bc},{label:Qm.featureLimitedImageGen,icon:ol},{label:Qm.featureLimitedMemoryContext,icon:vE},{label:Qm.featureLimitedDeepResearch,icon:Nu}],E$e=()=>[{label:Jm.featureAccessToGPT5,icon:c3},{label:Jm.featureExpandedMessagesUploads,icon:rl},{label:fi.featureExpandedFasterImageCreation,icon:Do},{label:Jm.featureLongerMemoryContext,icon:xT},{label:Jm.featureLimitedDeepResearch,icon:Nu},{label:tn.featureProjectsTasksCustomGPTs,icon:yT}],j$e=()=>[{label:fi.featureAdvancedReasoning,icon:Moe},{label:fi.featureExpandedMessagesUploads,icon:rl},{label:fi.featureExpandedFasterImageCreation,icon:Do},{label:fi.featureExpandedMemoryContext,icon:xT},{label:fi.featureExpandedDeepResearchAgentMode,icon:joe},{label:tn.featureProjectsTasksCustomGPTs,icon:yT},{label:fi.featureSoraVideoGeneration,icon:Aoe},{label:fi.featureCodexAgent,icon:Lj}],T$e=()=>[{label:lo.featureMostPowerfulModels,icon:Eoe},{label:lo.featureUnlimitedMessagesUploads,icon:xoe},{label:lo.featureUnlimitedFasterImageCreation,icon:bT},{label:lo.featureMaximumMemoryContext,icon:yoe},{label:lo.featureMaximumDeepResearchAgentMode,icon:Toe},{label:lo.featureExpandedProjectsTasksCustomGPTs,icon:voe},{label:lo.featureExpandedSoraVideoGeneration,icon:Noe},{label:lo.featureExpandedCodexAgent,icon:boe},{label:lo.featureResearchPreview,icon:Coe}],N$e=()=>[{label:wl.featureEverythingInBusinessAndMore,icon:pd},{label:wl.featureEnterpriseSecurityControls,icon:Ua},{label:wl.featureAdvancedDataPrivacy,icon:pw},{label:wl.featureDataResidency,icon:koe},{label:wl.featurePrioritySupport,icon:woe},{label:wl.featureScaleWithVolumeDiscounts,icon:Soe}],he={go:b$e,free:Ioe,plus:C$e,team:_$e,pro:w$e,enterprise:wl,goRedesign:Jm,freeRedesign:Qm,plusRedesign:fi,proRedesign:lo,enterpriseRedesign:wl,teamRedesign:S$e};function ekt(t){let e=[{label:he.free.freeBasicModelAccess},{label:he.free.freeAdvertisedFeatures0},{label:he.free.freeAdvertisedFeatures1},{label:he.free.freeAdvertisedFeatures3},{label:he.free.freeAdvertisedFeatures4}];return t!=null&&t.isWebRedesign&&(e=M$e()),{name:he.free.freeName,callToAction:{active:t!=null&&t.shouldUseOnboardingFeatures?he.free.freeCTA_UnifiedAccountCreation_Experiment:he.free.freeCTA,create:t!=null&&t.shouldUseOnboardingFeatures?he.free.freeCTA_UnifiedAccountCreation_Experiment:he.free.freeCTA,inactive:t!=null&&t.shouldUseOnboardingFeatures?he.free.freeCTA_UnifiedAccountCreation_Experiment:he.free.freeCTA},summary:t!=null&&t.isWebRedesign?he.freeRedesign.headline:he.free.freeSummary,cost:{costInDollars:he.free.freeCost,costInPounds:he.free.freeCostInPounds,costInEuros:he.free.freeCostInEuros,costInINR:he.free.freeCostInINR,costInIDR:he.free.freeCostInIDR},advertisedFeatures:e}}function Loe({isWebRedesign:t}={isWebRedesign:!1}){const e=[{label:he.plus.plusAdvertisedFeatures0},{label:he.plus.plusAdvertisedFeatures1},{label:he.plus.plusAdvertisedFeatures2},{label:he.plus.plusAdvertisedFeatures3_7},{label:he.plus.plusAdvertisedFeaturesNeptune4},{label:he.plus.plusAdvertisedFeatures5},{label:he.plus.plusAdvertisedFeatures4},{label:he.plus.plusAdvertisedFeatures6}],n=j$e();return{name:he.plus.plusName,callToAction:{active:he.plus.plusActive,create:he.plus.plusActive,inactive:he.plus.plusInactive,inactiveUnauthenticated:he.plus.plusInactiveUnauthenticated},summary:t?he.plusRedesign.headline:he.plus.plusSummary,cost:{costInDollars:he.plus.plusCost,costInPounds:he.plus.plusCostInPounds,costInEuros:he.plus.plusCostInEuros,costInINR:he.plus.plusCostInINR,costInIDR:he.plus.plusCostInIDR},advertisedFeatures:t?n:e}}function tkt(){return[{label:he.plus.plusAdvertisedFeatures1},{label:he.plus.plusAdvertisedFeatures2},{label:he.plus.plusAdvertisedFeatures3_6},{label:he.plus.plusAdvertisedFeaturesNeptune4},{label:he.plus.plusAdvertisedFeatures5},{label:he.plus.plusAdvertisedFeatures4}]}function nkt(t){let e=[{label:he.team.teamAdvertisedFeatures0,icon:pd},{label:he.team.teamAdvertisedFeatures1,icon:Mh},{label:he.team.teamAdvertisedFeatures2,icon:Ua},{label:he.team.teamAdvertisedFeatures3,icon:t!=null&&t.isWebRedesign?vT:IS},{label:he.team.teamAdvertisedFeatures4,icon:Iu},{label:he.team.teamAdvertisedFeatures5,icon:t!=null&&t.isWebRedesign?gT:pg},{label:he.team.teamAdvertisedFeatures6,icon:Do}];t!=null&&t.isBusinessUpgradeV2CopyEnabled&&(e=[{label:he.team.teamAdvertisedFeatures0_ComparisonV2_Experiment,icon:pd},{label:he.team.teamAdvertisedFeatures1_ComparisonV2_Experiment,icon:hT},{label:he.team.teamAdvertisedFeatures2_ComparisonV2_Experiment,icon:Ua},{label:he.team.teamAdvertisedFeatures3_ComparisonV2_Experiment,icon:pw},{label:he.team.teamAdvertisedFeatures4_ComparisonV2_Experiment,icon:goe},{label:he.team.teamAdvertisedFeatures5_ComparisonV2_Experiment,icon:hoe},{label:he.team.teamAdvertisedFeatures6_ComparisonV2_Experiment,icon:kh},{label:he.team.teamAdvertisedFeatures7_ComparisonV2_Experiment,icon:IS},{label:he.team.teamAdvertisedFeatures8_ComparisonV2_Experiment,icon:pg},{label:he.team.teamAdvertisedFeatures9_ComparisonV2_Experiment,icon:Do}]),t!=null&&t.shouldUseOnboardingFeatures&&(e=[{label:he.team.teamAdvertisedFeatures0_UnifiedAccountCreation_Experiment,icon:pd},{label:he.team.teamAdvertisedFeatures1_UnifiedAccountCreation_Experiment,icon:pw},{label:he.team.teamAdvertisedFeatures2_UnifiedAccountCreation_Experiment,icon:Iu},{label:he.team.teamAdvertisedFeatures3_UnifiedAccountCreation_Experiment,icon:Mh},{label:he.team.teamAdvertisedFeatures4_UnifiedAccountCreation_Experiment,icon:pg},{label:he.team.teamAdvertisedFeatures5_UnifiedAccountCreation_Experiment,icon:kh},{label:he.team.teamAdvertisedFeatures6_UnifiedAccountCreation_Experiment,icon:Ua}]),t!=null&&t.showBusinessTooltips&&(e=k$e());let n=he.team.teamPlanSummary;return t!=null&&t.isBusinessUpgradeV2CopyEnabled?n=he.team.teamPlanSummary_V2:(t!=null&&t.shouldUseOnboardingFeatures||t!=null&&t.showBusinessTooltips)&&(n=he.team.teamPlanSummary_UnifiedAccountCreation_Experiment),{name:he.team.teamPlanName,summary:n,cost:{costInDollars:he.team.teamPlanCost,costInPounds:he.team.teamPlanCostInPounds,costInEuros:he.team.teamPlanCostInEuros,costInINR:he.team.teamPlanCostInINR,costInIDR:he.team.teamPlanCostInIDR},disclaimer:he.team.teamPricingDisclaimer,disclaimer2:he.team.teamPricingDisclaimer2,advertisedFeatures:e,callToAction:{active:he.team.teamPlanActive,create:he.team.teamPlanCreate,inactive:t!=null&&t.shouldUseOnboardingFeatures&&(t!=null&&t.isTrialEnabled)?he.team.teamPlanInactive_UnifiedAccountCreation_Experiment:he.team.teamPlanInactive}}}function rkt({isWebRedesign:t}={isWebRedesign:!1}){let e=[{label:he.pro.proAdvertisedFeatures0},{label:he.pro.proAdvertisedFeatures1},{label:he.pro.proAdvertisedFeatures2},{label:he.pro.proAdvertisedFeatures3_5},{label:he.pro.proAdvertisedFeatures3_1},{label:he.pro.proAdvertisedFeatures3_6},{label:he.pro.proAdvertisedFeatures4}];return t&&(e=T$e()),{name:he.pro.proName,callToAction:{active:he.pro.proActive,create:he.pro.proActive,inactive:he.pro.proInactive},summary:t?he.proRedesign.headline:he.pro.proSummary,cost:{costInDollars:he.pro.proCost,costInPounds:he.pro.proCostInPounds,costInEuros:he.pro.proCostInEuros,costInINR:he.pro.proCostInINR,costInIDR:he.pro.proCostInIDR},advertisedFeatures:e,disclaimer:he.pro.proPricingDisclaimer}}const skt=()=>{const t=Loe();return P(C({},t),{advertisedFeatures:[{label:he.plus.studentAdvertisedFeatures1},{label:he.plus.studentAdvertisedFeatures2},{label:he.plus.studentAdvertisedFeatures3},{label:he.plus.studentAdvertisedFeatures4}]})};function akt({isWebRedesign:t}={isWebRedesign:!1}){const e=[{label:he.go.goAdvertisedEverythingInFree},{label:he.go.goAdvertisedGPT5Extended},{label:he.go.goAdvertisedImgGenExtended},{label:he.go.goAdvertisedFileUploadsExtended},{label:he.go.goAdvertisedADAExtended},{label:he.go.goAdvertisedLongerMemory}],n=t?E$e():e;return{name:he.go.goName,callToAction:{active:he.go.goCTAActive,create:he.go.goCTAActive,inactive:he.go.goCTA,promo:he.go.goCTAPromo},summary:t?he.goRedesign.headline:he.go.goSummary,cost:{costInDollars:he.go.goCost,costInPounds:he.go.goCostInPounds,costInEuros:he.go.goCostInEuros,costInINR:he.go.goCostInINR,costInIDR:he.go.goCostInIDR},advertisedFeatures:n}}function okt(){return{name:he.enterprise.planName,callToAction:{active:he.enterprise.ctaActive,create:he.enterprise.cta,inactive:he.enterprise.cta},summary:he.enterprise.headline,cost:{costInDollars:he.enterprise.undefinedPrice,costInPounds:he.enterprise.undefinedPrice,costInEuros:he.enterprise.undefinedPrice,costInINR:he.enterprise.undefinedPrice,costInIDR:he.enterprise.undefinedPrice},advertisedFeatures:N$e()}}const A$e=g.createContext("none"),CT=()=>g.useContext(A$e),P$e=5*1024*1024,x2=2e3,mO="modal-report-bug";function I$e({onClose:t,entryPointElementId:e,conversationId:n}){const[r,s]=g.useState(!1),[a,i]=g.useState(""),[l,c]=g.useState(null),[u,d]=g.useState(!1),f=g.useRef(!1),[m,p]=g.useState(!0),h=Tt(),v=Z(),{clientThreadId:y}=r1(),x=kn(y),b=n!=null?n:x,_=q(),w=yt(_);let S=!1;w&&(S=w.isEnterprise()||w.isEdu());const k=S,M=ze(_,"2888142241").get("is_feedback_tool_shown",!1),E=ie(_,"108590566"),T=M&&!k;if(g.useEffect(()=>{T||t()},[T,t]),g.useEffect(()=>{if(!T)return;if(d(!0),!E){p(!1),c(null);return}if(f.current)return;f.current=!0;const L=async()=>{var O,R,H,V,z;if(typeof window>"u")return null;try{await((O=document.fonts)==null?void 0:O.ready)}catch($){}try{const $=(H=(R=document.getElementById("__next"))!=null?R:document.getElementById("root"))!=null?H:document.body,{domToPng:D}=await Ve(async()=>{const{domToPng:me}=await import("./n1kjwwyrpz0yhe62.js");return{domToPng:me}},[]),Y=window.innerWidth,G=window.innerHeight,F=me=>me.closest('[data-testid="'.concat(mO,'"]'))!=null,X=await D($,{scale:(V=window.devicePixelRatio)!=null?V:1,width:Y,height:G,features:{restoreScrollPosition:!0},filter:me=>!(me instanceof Element&&F(me))}),te=(z=X.split(",")[1])!=null?z:"";return te.length*3/4-(te.endsWith("==")?2:te.endsWith("=")?1:0)>P$e?(h.danger(v.formatMessage({id:"feedback.screenshotTooLarge",defaultMessage:"Screenshot too large; not included"}),{toastId:"feedback_screenshot_too_large"}),p(!1),null):X}catch($){return B.logEventWithStatsig("Feedback: Report Modal Screenshot Failed","chatgpt_feedback_report_modal_screenshot_failed"),Me.count(Ee.DEFAULT,"chatgpt_feedback_report_modal_screenshot_failed"),null}};(async()=>{try{const O=await L();c(O)}catch(O){c(null)}})()},[E,v,h,T]),g.useEffect(()=>{u&&(B.logEventWithStatsig("Feedback: Report Modal Shown","chatgpt_feedback_report_modal_shown"),Me.count(Ee.DEFAULT,"chatgpt_feedback_report_modal_shown"))},[u]),!T||!u)return null;const j=async()=>{const L=a.trim();if(!L){h.danger(v.formatMessage({id:"feedback.emptyError",defaultMessage:"Please enter your feedback"}),{toastId:"feedback_empty_error"});return}if(L.length>x2){h.danger(v.formatMessage({id:"feedback.tooLong",defaultMessage:"Your feedback is too long. Please enter less than {maxLength} characters."},{maxLength:x2}),{toastId:"feedback_too_long"});return}s(!0);let O=!1;try{const R=m?l:null;B.logEventWithStatsig("Feedback: Report Submitted","chatgpt_feedback_report_submitted",{screenshot_included:R!=null}),Me.count(Ee.DEFAULT,"chatgpt_feedback_report_submitted",{screenshot_included:R!=null?"true":"false"}),await ue.safePost("/user_feedback/submit_feedback",{requestBody:{user_feedback_description:L,conversation_id:b!=null?b:null,user_agent:oQ(),language:navigator.language,timestamp_client:Date.now(),viewport_size:{width:window.innerWidth,height:window.innerHeight},screenshot:R,entry_point_element_id:e}}),O=!0,h.success(v.formatMessage({id:"feedback.success",defaultMessage:"Thank you for your feedback!"}))}catch(R){R instanceof Wn&&R.status===429?h.danger(v.formatMessage({id:"feedback.rateLimit",defaultMessage:"You're submitting feedback too fast. Please try again later."}),{toastId:"feedback_rate_limit"}):h.danger(v.formatMessage({id:"feedback.error",defaultMessage:"Failed to submit feedback. Please try again."}),{toastId:"feedback_submit_error",loggingTitle:"Failed to submit feedback",loggingDescription:"User feedback submission failed"})}finally{s(!1),O&&A(!0)}},A=(L=!1)=>{r||(B.logEventWithStatsig("Feedback: Report Modal Closed","chatgpt_feedback_report_modal_closed",{report_submitted:L}),Me.count(Ee.DEFAULT,"chatgpt_feedback_report_modal_closed",{report_submitted:L?"true":"false"}),t())},I=L=>{L.key==="Enter"&&(L.metaKey||L.ctrlKey)&&(L.preventDefault(),j())};return o.jsx(tt,{testId:mO,isOpen:!0,onClose:()=>A(!1),shouldIgnoreClickOutside:r,size:"xlarge",type:"success",title:v.formatMessage({id:"feedback.modalTitle",defaultMessage:"What happened?"}),showCloseButton:!r,primaryButton:o.jsx(oe,{color:"primary",fullWidth:!0,onClick:j,disabled:r,loading:r,children:o.jsx(N,{id:"feedback.send",defaultMessage:"Send"})}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"w-full",children:o.jsxs("div",{className:"relative",children:[o.jsx("textarea",{id:"feedback-textarea",value:a,onChange:L=>i(L.target.value),className:"border-token-border-default bg-token-bg-primary text-token-text-primary placeholder:text-token-text-tertiary w-full rounded-lg border p-3 pe-10 text-sm focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none",placeholder:v.formatMessage({id:"feedback.placeholder",defaultMessage:"Tell us about the issue you encountered"}),rows:10,maxLength:x2,disabled:r,onKeyDown:I}),o.jsx("div",{className:"text-token-text-tertiary mt-1 text-end text-xs",children:o.jsx(N,{id:"feedback.charactersUsed",defaultMessage:"{count} / {max} characters used",values:{count:a.length,max:x2}})})]})}),E&&l&&o.jsx("div",{className:"text-token-text-secondary mt-2 text-xs",children:o.jsx(N,{id:"jP5SLX",defaultMessage:"Any information you share may be reviewed to help improve ChatGPT. If you have additional questions, <link>contact support</link>.",values:{link:L=>o.jsx(mr,{to:"https://help.openai.com",target:"_blank",rel:"noopener noreferrer",className:"underline",onClick:()=>{B.logEventWithStatsig("Feedback: Contact Support Link Clicked","chatgpt_feedback_modal_contact_support_link_clicked"),Me.count(Ee.DEFAULT,"chatgpt_feedback_modal_contact_support_link_clicked")},children:L})}})}),E&&o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("div",{className:"w-full",children:l&&o.jsxs("label",{className:"text-token-text-secondary flex items-center gap-2 text-sm",children:[o.jsx(Ng,{withinLabel:!0,checked:m,onCheckedChange:p,disabled:r,"data-testid":"toggle-include-screenshot"}),o.jsx("span",{children:v.formatMessage({id:"feedback.includeScreenshot",defaultMessage:"Include screenshot in report"})})]})}),o.jsx("div",{className:"w-fit max-w-full",children:E&&m&&l&&o.jsx("div",{className:"border-token-border-default bg-token-bg-secondary text-token-text-secondary relative inline-block rounded-lg border p-1",children:o.jsx("img",{src:l,alt:v.formatMessage({id:"feedback.screenshotPreviewAlt",defaultMessage:"Screenshot preview"}),className:"block h-14 w-auto rounded-lg object-contain object-left md:h-24"})})})]})]})})}function ikt(){const t=q(),e=ze(t,"2888142241").get("is_feedback_tool_shown",!1),{clientThreadId:n}=r1(),r=kn(n),s=yt(t);if(!s)return null;const i=s.isEnterprise()||s.isEdu();if(!e||i)return null;const l="report-bug-menu-item";return o.jsx(J.Item,{id:l,icon:Q0,onClick:()=>{B.logEventWithStatsig("Feedback: Report Bug Button Clicked","chatgpt_feedback_report_bug_click",{location:"help-menu"}),Me.count(Ee.DEFAULT,"chatgpt_feedback_report_bug_click",{location:"help-menu"}),requestAnimationFrame(()=>{Dt(t,I$e,{entryPointElementId:l,conversationId:r!=null?r:void 0})})},children:o.jsx(N,{id:"feedback.reportBug",defaultMessage:"Report Bug"})})}const Roe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.0303 4.11328C13.4406 2.70317 15.7275 2.70305 17.1377 4.11328C18.5474 5.52355 18.5476 7.81056 17.1377 9.2207L10.8457 15.5117C10.522 15.8354 10.2868 16.0723 10.0547 16.2627L9.82031 16.4394C9.61539 16.5794 9.39783 16.7003 9.1709 16.7998L8.94141 16.8916C8.75976 16.9582 8.57206 17.0072 8.35547 17.0518L7.59082 17.1865L5.19727 17.5859C5.05455 17.6097 4.90286 17.6358 4.77441 17.6455C4.67576 17.653 4.54196 17.6555 4.39648 17.6201L4.24707 17.5703C4.02415 17.4746 3.84119 17.3068 3.72559 17.0957L3.67969 17.0029C3.59322 16.8013 3.59553 16.6073 3.60547 16.4756C3.61519 16.3473 3.6403 16.1963 3.66406 16.0537L4.06348 13.6602C4.1638 13.0582 4.22517 12.6732 4.3584 12.3096L4.45117 12.0791C4.55073 11.8521 4.67152 11.6346 4.81152 11.4297L4.9873 11.1953C5.17772 10.9632 5.4146 10.728 5.73828 10.4043L12.0303 4.11328ZM6.67871 11.3447C6.32926 11.6942 6.14542 11.8803 6.01953 12.0332L5.90918 12.1797C5.81574 12.3165 5.73539 12.4618 5.66895 12.6133L5.60742 12.7666C5.52668 12.9869 5.48332 13.229 5.375 13.8789L4.97656 16.2725L4.97559 16.2744H4.97852L7.37207 15.875L8.08887 15.749C8.25765 15.7147 8.37336 15.6839 8.4834 15.6435L8.63672 15.581C8.78817 15.5146 8.93356 15.4342 9.07031 15.3408L9.2168 15.2305C9.36965 15.1046 9.55583 14.9207 9.90527 14.5713L14.8926 9.583L11.666 6.35742L6.67871 11.3447ZM16.1963 5.05371C15.3054 4.16303 13.8616 4.16305 12.9707 5.05371L12.6074 5.41601L15.833 8.64257L16.1963 8.27929C17.0869 7.38844 17.0869 5.94455 16.1963 5.05371Z"}),g.createElement("path",{d:"M5.13477 6.68139L5 6.6687H2.5C2.13273 6.6687 1.83496 6.96647 1.83496 7.33374C1.83518 7.70082 2.13286 7.99877 2.5 7.99877H5L5.13477 7.9851C5.4375 7.92299 5.66485 7.6548 5.66504 7.33374C5.66504 7.01249 5.43764 6.74352 5.13477 6.68139Z"}),g.createElement("path",{d:"M8.46777 3.34838L8.33301 3.33471H2.5C2.13281 3.33471 1.8351 3.6326 1.83496 3.99975C1.83496 4.36702 2.13273 4.66479 2.5 4.66479H8.33301L8.46777 4.65112C8.77057 4.58893 8.99805 4.32094 8.99805 3.99975C8.99793 3.67864 8.77054 3.41052 8.46777 3.34838Z"})),lkt=Object.freeze(Object.defineProperty({__proto__:null,default:Roe},Symbol.toStringTag,{value:"Module"})),Ooe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.0012 9.04175V7.33667C16.0012 6.62563 16.0013 6.1323 15.97 5.74878C15.9469 5.46683 15.9091 5.27732 15.8577 5.13355L15.802 5.00366C15.6481 4.70155 15.4137 4.44853 15.1262 4.27222L14.9993 4.20191C14.8413 4.12145 14.6297 4.06462 14.2542 4.03394C13.8707 4.00262 13.3771 4.00171 12.6663 4.00171H7.33325C6.62222 4.00171 6.12888 4.0026 5.74536 4.03394C5.46351 4.05697 5.27388 4.09383 5.13013 4.14526L5.00024 4.20191C4.69799 4.35592 4.44511 4.59005 4.2688 4.87769L4.19849 5.00366C4.11798 5.16167 4.06122 5.37307 4.03052 5.74878C3.99918 6.1323 3.99829 6.62563 3.99829 7.33667V12.6667C3.99829 13.3777 3.99918 13.8711 4.03052 14.2546C4.06122 14.6303 4.11798 14.8418 4.19849 14.9998L4.2688 15.1257C4.44512 15.4134 4.69799 15.6475 5.00024 15.8015L5.13013 15.8572C5.27391 15.9087 5.46332 15.9464 5.74536 15.9695C6.12888 16.0008 6.62221 16.0017 7.33325 16.0017H10.595C11.1459 16.0017 11.4691 15.9943 11.6956 15.9724C11.5803 15.7786 11.487 15.6063 11.4172 15.4392L11.3635 15.2986C10.9573 14.1144 11.2873 12.8022 12.2053 11.9509L12.3186 11.8523C12.5958 11.6268 12.9622 11.4246 13.4709 11.1384L15.9241 9.75855L15.9583 9.82007C15.965 9.78841 15.9747 9.75735 15.9797 9.72534L15.9915 9.62183C16.0006 9.50892 16.0012 9.35336 16.0012 9.04175ZM14.1233 12.2976C13.636 12.5717 13.3907 12.7131 13.2375 12.823L13.1096 12.9255C12.5774 13.419 12.3859 14.1804 12.6213 14.8669L12.6858 15.0183C12.7265 15.1013 12.7848 15.2005 12.8674 15.3367C13.0089 15.1523 13.1785 14.8669 13.4905 14.321L14.8948 11.863L14.1233 12.2976ZM10.0002 9.33472C10.3673 9.33489 10.6652 9.63271 10.6653 9.99976C10.6653 10.3669 10.3674 10.6646 10.0002 10.6648H6.66626C6.29914 10.6646 6.00122 10.3669 6.00122 9.99976C6.00136 9.63271 6.29922 9.33489 6.66626 9.33472H10.0002ZM7.79614 6.00171L7.92993 6.01538C8.23318 6.07722 8.46118 6.34524 8.46118 6.66675C8.46115 6.98824 8.23317 7.25629 7.92993 7.31812L7.79614 7.33179H6.66626C6.29917 7.33161 6.00126 7.03387 6.00122 6.66675C6.00122 6.29959 6.29914 6.00189 6.66626 6.00171H7.79614ZM13.3333 6.00171L13.467 6.01538C13.7702 6.07732 13.9983 6.34532 13.9983 6.66675C13.9983 6.98815 13.7702 7.25619 13.467 7.31812L13.3333 7.33179H10.2961C9.92902 7.33165 9.63115 7.0339 9.6311 6.66675C9.6311 6.29956 9.92899 6.00185 10.2961 6.00171H13.3333ZM17.3313 9.04175C17.3313 9.32336 17.3331 9.53907 17.3167 9.73706L17.2932 9.9314C17.2677 10.0937 17.2293 10.2536 17.179 10.4099L17.1252 10.5652C17.0792 10.6862 17.0235 10.8026 16.9563 10.9294L16.717 11.3562L14.6458 14.9812C14.2984 15.5891 14.0513 16.0335 13.7327 16.3728L13.5911 16.5125C13.3022 16.7742 12.9676 16.9799 12.6047 17.1199L12.4475 17.1755C11.9451 17.3394 11.3951 17.3318 10.595 17.3318H7.33325C6.64416 17.3318 6.0872 17.3324 5.63696 17.2957C5.23632 17.2629 4.87559 17.1977 4.53931 17.0535L4.39673 16.9871C3.87547 16.7215 3.43912 16.3171 3.13501 15.821L3.01294 15.6033C2.82112 15.2267 2.74176 14.8208 2.70435 14.363C2.66756 13.9128 2.66821 13.3558 2.66821 12.6667V7.33667C2.66821 6.64758 2.66756 6.09062 2.70435 5.64038C2.74176 5.18259 2.82113 4.77676 3.01294 4.40015L3.13501 4.1814C3.4391 3.68568 3.87569 3.28184 4.39673 3.01636L4.53931 2.94995C4.8756 2.80571 5.23632 2.74051 5.63696 2.70776C6.0872 2.67098 6.64416 2.67163 7.33325 2.67163H12.6663C13.3553 2.67163 13.9123 2.67099 14.3625 2.70776C14.8206 2.74518 15.227 2.82439 15.6038 3.01636L15.8215 3.13843C16.3174 3.44253 16.7211 3.87903 16.9866 4.40015L17.053 4.54273C17.1973 4.87904 17.2624 5.2397 17.2952 5.64038C17.332 6.09062 17.3313 6.64758 17.3313 7.33667V9.04175Z"})),ckt=Object.freeze(Object.defineProperty({__proto__:null,default:Ooe},Symbol.toStringTag,{value:"Module"})),L$e="https://help.openai.com/en/collections/3742473-chatgpt",R$e="https://help.openai.com/en/articles/9982051",O$e="https://help.openai.com/en/articles/6825453-chatgpt-release-notes",D$e="https://help.openai.com/en/articles/10003026-windows-app-release-notes";function F$e(){return Xi?R$e:L$e}function B$e(){return Xi?D$e:O$e}function ukt(){return o.jsxs(o.Fragment,{children:[o.jsx(J.LinkItem,{icon:iT,external:!0,to:F$e(),onClick:()=>{B.logEvent("Click FAQ")},children:o.jsx(N,{id:"thread.helpCenter",defaultMessage:"Help center"})}),o.jsx(J.LinkItem,{icon:Roe,external:!0,to:B$e(),children:o.jsx(N,{id:"thread.releaseNotes",defaultMessage:"Release notes"})}),o.jsx(J.LinkItem,{icon:Ooe,external:!0,to:"https://openai.com/policies",children:o.jsx(N,{id:"thread.termsAndPolicies",defaultMessage:"Terms & policies"})})]})}const Doe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("circle",{cx:16,cy:4,r:4,fill:"#0285FF"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0009 2.04297C10.2281 2.04299 10.4529 2.05491 10.6747 2.07715C10.5245 2.49316 10.422 2.93192 10.373 3.38672C10.25 3.37826 10.1259 3.37306 10.0009 3.37305C7.34404 3.3731 5.09961 5.31138 4.69133 7.91113L4.65715 8.16504L4.09563 13.3145C4.08479 13.4139 4.16269 13.5007 4.26262 13.501H15.7382C15.8255 13.5007 15.8961 13.4346 15.9052 13.3516V13.3145L15.5038 9.63672C15.6674 9.65093 15.8327 9.66015 15.9999 9.66016C16.2846 9.66016 16.5644 9.63823 16.8378 9.59766L17.2275 13.1709L17.2363 13.335C17.2366 14.1505 16.5741 14.8307 15.7382 14.8311H13.9023C13.5039 16.619 11.9088 17.9557 10.0009 17.9561C8.09266 17.956 6.49691 16.6193 6.09856 14.8311H4.26262C3.37119 14.8308 2.67693 14.0571 2.77337 13.1709L3.33489 8.02051L3.37786 7.7041C3.88715 4.461 6.68656 2.04302 10.0009 2.04297ZM7.48137 14.8311C7.84327 15.8755 8.83338 16.6259 10.0009 16.626C11.1681 16.6256 12.1576 15.8752 12.5195 14.8311H7.48137Z"})),dkt=Object.freeze(Object.defineProperty({__proto__:null,default:Doe},Symbol.toStringTag,{value:"Module"})),Foe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.0004 2.04329C13.4217 2.04348 16.2944 4.61968 16.6655 8.02083L17.227 13.1712L17.2358 13.3353C17.2361 14.1509 16.5738 14.8313 15.7377 14.8314H13.9018C13.5034 16.6195 11.9085 17.9562 10.0004 17.9564C8.09213 17.9564 6.49643 16.6196 6.09808 14.8314H4.26214C3.37065 14.8311 2.67643 14.0575 2.77288 13.1712L3.3344 8.02083L3.37737 7.70442C3.88652 4.4611 6.68591 2.04329 10.0004 2.04329ZM7.48089 14.8314C7.8428 15.8758 8.83285 16.6263 10.0004 16.6263C11.1678 16.6261 12.1571 15.8757 12.519 14.8314H7.48089ZM10.0004 3.37337C7.34338 3.37337 5.09898 5.31147 4.69085 7.91145L4.65667 8.16536L4.09515 13.3148C4.08429 13.4142 4.16215 13.5011 4.26214 13.5013H15.7377C15.8252 13.5012 15.8956 13.4351 15.9047 13.3519V13.3148L15.3432 8.16536C15.0458 5.43888 12.743 3.37356 10.0004 3.37337Z"})),fkt=Object.freeze(Object.defineProperty({__proto__:null,default:Foe},Symbol.toStringTag,{value:"Module"}));function Eh({date:t}){const e=Z(),n=t instanceof Date?t:new Date(t*1e3),r=Fl(n,new Date);if(r<4&&r>-4){const s=e.formatRelativeTime(r,"day",{numeric:"auto"});return s.charAt(0).toUpperCase()+s.slice(1)}else return e.formatDate(n,{year:"numeric",month:"long",day:"numeric"})}const U$e="_wrapper_m72g5_1",H$e="_disabled_m72g5_16",V$e="_label_m72g5_22",s8={wrapper:U$e,disabled:H$e,label:V$e};function $$e(u){var d=u,{className:t,icon:e,label:n,onClick:r,style:s,tabIndex:a=0,ref:i,disabled:l}=d,c=de(d,["className","icon","label","onClick","style","tabIndex","ref","disabled"]);return o.jsx("label",{"aria-label":n,className:U(t,s8.wrapper,l&&s8.disabled),style:s,tabIndex:-1,children:o.jsx("button",P(C({className:U(s8.label,l&&"opacity-50"),onClick:r,tabIndex:a,ref:i,type:"button",disabled:l},c),{children:e}))})}const u3=Rt(Sn(()=>({feedItems:[],hasUnreadNotifications:!1,isModalOpen:!1}))),q$e=u3.getState,a8=u3.setState,z$e={getHasUnreadNotifications:(t=q$e())=>t.hasUnreadNotifications},gd={setIsModalOpen:t=>{a8({isModalOpen:t})},setHasUnreadNotifications:t=>{a8({hasUnreadNotifications:t})},bulkLoadFeedItems:t=>{a8(e=>{e.feedItems=t})}};function G$e(){const t=_T(),e=u3(z$e.getHasUnreadNotifications);return t&&e}function W$e(t,e,n,r){const s=q(),a=G$e(),i=at(()=>G2e(s).some(c=>{var u;return((u=Yu(c))==null?void 0:u.value)===sn.UNREAD}));return n&&a||r&&i?t:e}function _T(){const t=q();return ze(t,"3606233934",{disableExposureLog:!0}).get("enable_notifications_feed")}function mkt(){const t=_T(),e=u3(n=>n.isModalOpen);return t&&e}function Z$e(){const t=_T(),e=ut({queryKey:["fetch-notifications-feed"],queryFn:async()=>{const n=await ue.safeGet("/notifications/feed");return gd.bulkLoadFeedItems(n.items),gd.setHasUnreadNotifications(n.has_unreads),n.items},enabled:t});return{isLoading:e.isLoading,isFetching:e.isFetching}}function pkt(){const t=Z(),e=W$e(Doe,Foe,!0,!1),n=t.formatMessage({id:"1UHY6w",defaultMessage:"Notifications"});return Z$e(),o.jsx(wt,{label:n,className:"group",children:o.jsx(Vf,{icon:e,onClick:()=>gd.setIsModalOpen(!0),"aria-label":n})})}function K$e({item:t,onClose:e}){const r={announcement:c3}[t.type];let s=null;try{const u=new Date(t.created_at);s=Eh({date:u})}catch(u){}const{clientThreadId:a}=r1(),i=Bf(a),l=it(),c=u=>{var d,f,m;if(((d=t.action)==null?void 0:d.type)==="show_conversation")e(),l(t.action.conversation_id);else if(((f=t.action)==null?void 0:f.type)==="new_conversation"){const p=t.action;p.prefilled_message&&(i({sourceEvent:u,promptMessage:Fr(p.prefilled_message),requestedModelId:(m=p.model_slug)!=null?m:void 0}),e())}};return o.jsxs("button",{className:"border-token-border-default flex w-full items-center justify-start gap-3 overflow-hidden border-t py-4 first-of-type:border-none",onClick:c,disabled:!t.action,children:[o.jsx("div",{className:"relative",children:r&&o.jsx(r,{className:"icon"})}),o.jsxs("div",{className:"flex h-5 shrink grow basis-0 items-center justify-between",children:[o.jsx("div",{className:"text-token-text-primary text-sm leading-tight font-normal",children:t.message}),o.jsx("div",{className:"flex items-center justify-start gap-1",children:o.jsx("div",{className:"text-token-text-tertiary text-sm leading-tight font-normal",children:s!=null?s:""})})]})]})}function gkt(){const{feedItems:t,isModalOpen:e}=u3();g.useEffect(()=>{e&&(gd.setHasUnreadNotifications(!1),ue.safePost("/notifications/feed/read",{authOption:qt.SendIfAvailable}))},[e]);const n=Z(),r=it(),s=q(),a=ie(s,"3325813340"),i=new Date,l=j0(t,u=>{const d=new Date(u.created_at);if(W2e(d))return"today";const f=Fl(i,d);return f<=7?"last_7_days":f<=30?"last_30_days":"more_than_30_days"}),c=u=>{switch(u){case"today":return n.formatMessage({id:"zlkA39",defaultMessage:"Today"});case"last_7_days":return n.formatMessage({id:"FW89A4",defaultMessage:"Last 7 days"});case"last_30_days":return n.formatMessage({id:"2s3h/P",defaultMessage:"Last 30 days"});case"more_than_30_days":return n.formatMessage({id:"yArZiR",defaultMessage:"More than 30 days"})}};return o.jsx(tt,{testId:"modal-notifications-feed",isOpen:e,onClose:()=>{gd.setIsModalOpen(!1)},type:"success",size:"custom",className:"max-w-3xl",children:o.jsxs("div",{className:"flex flex-col gap-y-10",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold",children:n.formatMessage({id:"kWt8Cx",defaultMessage:"Notifications"})}),a&&o.jsx($$e,{icon:o.jsx(E0,{className:"icon"}),onClick:()=>{r(hf(Dn.Notifications))},label:n.formatMessage({id:"mZVh0S",defaultMessage:"Notifications settings"})})]}),Object.entries(l).map(([u,d])=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold",children:c(u)}),d.map(f=>o.jsx(K$e,{item:f,onClose:()=>gd.setIsModalOpen(!1)},f.id))]},u))]})})}const wT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.91626 11.0013C9.43597 11.0013 10.7053 12.0729 11.011 13.5013H16.6663L16.801 13.515C17.1038 13.5771 17.3311 13.8453 17.3313 14.1663C17.3313 14.4875 17.1038 14.7555 16.801 14.8177L16.6663 14.8314H11.011C10.7056 16.2601 9.43619 17.3314 7.91626 17.3314C6.39643 17.3312 5.1269 16.2601 4.82153 14.8314H3.33325C2.96598 14.8314 2.66821 14.5336 2.66821 14.1663C2.66839 13.7992 2.96609 13.5013 3.33325 13.5013H4.82153C5.12713 12.0729 6.39665 11.0015 7.91626 11.0013ZM7.91626 12.3314C6.90308 12.3316 6.08148 13.1532 6.0813 14.1663C6.0813 15.1797 6.90297 16.0011 7.91626 16.0013C8.9297 16.0013 9.75122 15.1798 9.75122 14.1663C9.75104 13.153 8.92959 12.3314 7.91626 12.3314ZM12.0833 2.66829C13.6031 2.66829 14.8725 3.73966 15.178 5.16829H16.6663L16.801 5.18196C17.1038 5.24414 17.3313 5.51212 17.3313 5.83333C17.3313 6.15454 17.1038 6.42253 16.801 6.4847L16.6663 6.49837H15.178C14.8725 7.92701 13.6031 8.99837 12.0833 8.99837C10.5634 8.99837 9.29405 7.92701 8.98853 6.49837H3.33325C2.96598 6.49837 2.66821 6.2006 2.66821 5.83333C2.66821 5.46606 2.96598 5.16829 3.33325 5.16829H8.98853C9.29405 3.73966 10.5634 2.66829 12.0833 2.66829ZM12.0833 3.99837C11.0698 3.99837 10.2483 4.81989 10.2483 5.83333C10.2483 6.84677 11.0698 7.66829 12.0833 7.66829C13.0967 7.66829 13.9182 6.84677 13.9182 5.83333C13.9182 4.81989 13.0967 3.99837 12.0833 3.99837Z"})),hkt=Object.freeze(Object.defineProperty({__proto__:null,default:wT},Symbol.toStringTag,{value:"Module"}));function Zf(t){var E;const e=q(),[n,r]=g.useState(!1),M=t,{announcementKey:s,onDismiss:a,children:i,childrenWrapperClassName:l}=M,c=de(M,["announcementKey","onDismiss","children","childrenWrapperClassName"]),{show:u}=c,f=ze(e,"717266490").get("one_announcement_tooltip_per_session",!1),m=Su(T=>!!T.displayAnnouncementTooltip),p=Su(T=>!f||T.displayAnnouncementTooltip===s),h=Z(),v=Z2e(),y=K2e();let x=!1;const b=Gf(!1);x=((E=b==null?void 0:b.store.useContentAreaId(Fae.HeaderTop))!=null?E:null)!==null;const S=u&&!(v||x||y);if(g.useEffect(()=>{f&&S&&n&&pn.showAnnouncementTooltipExclusively(s)},[n,f,s,S]),g.useEffect(()=>{S&&(!f||p)&&(Le.logEvent("announcement_tooltip_shown",null,{announcement_key:s}),B.logEvent("Announcement Tooltip Shown",{announcement_key:s}))},[S,p,s,f]),m&&!p)return i;const k=()=>{(!f||p)&&(a(),Le.logEvent("announcement_tooltip_dismissed",null,{announcement_key:s}),B.logEvent("Announcement Tooltip Dismissed",{announcement_key:s}))};return o.jsx(Y$e,P(C({},c),{show:S,onDismiss:k,renderAsInvisible:f&&!m,onTooltipChildrenBecomeVisible:()=>{f&&r(!0)},children:o.jsx("div",{"aria-label":h.formatMessage({id:"announcementTooltip.ariaLabel",defaultMessage:"Announcements"}),className:U("w-fit",l),children:i})}))}function Y$e({align:t,arrowPadding:e,alignOffset:n,show:r,onDismiss:s,children:a,title:i,side:l,sideOffset:c,theme:u="default",badge:d="new",contentAlign:f="start",description:m,className:p,collisionPadding:h,onTooltipChildrenBecomeVisible:v,renderAsInvisible:y=!1,dismissOnOutsideClick:x=!1,dismissOnTriggerClick:b=!0,contentClassName:_}){var E;const w=g.useRef(null),[S,k]=g.useState(!1);g.useEffect(()=>{if(!r)return;const T=w.current;if(!T)return;const j=new IntersectionObserver(A=>{k(A[A.length-1].intersectionRatio===1)},{threshold:1});return j.observe(T),()=>{j.unobserve(T)}},[r]);const M=T=>{r&&T&&T.getBoundingClientRect().width>0&&T.getBoundingClientRect().height>0&&(v==null||v()),w.current=T};return o.jsxs(e1,{open:r&&S,onOpenChange:T=>{T||s()},children:[o.jsx(Gi,{asChild:!0,onPointerDown:()=>{b&&s()},ref:M,children:a}),o.jsx(t1,{container:(E=w.current)==null?void 0:E.ownerDocument.body,children:o.jsx(iQ,{children:o.jsxs(n1,{arrowPadding:e,alignOffset:n,align:t,collisionPadding:h,side:l,sideOffset:c,onOpenAutoFocus:T=>{T.preventDefault()},onCloseAutoFocus:T=>{T.preventDefault()},onInteractOutside:T=>{var A;T.target instanceof Element&&((A=w.current)==null?void 0:A.contains(T.target))||T.type==="dismissableLayer.focusOutside"?T.preventDefault():x?s():T.preventDefault()},updatePositionStrategy:"always",className:U("animate-slideLeftAndFade relative z-30 rounded-xl p-4 text-sm shadow-sm select-none",u==="default"?"bg-gray-900 text-white dark:bg-gray-50 dark:text-gray-700":"bg-blue-400 text-white",y&&"invisible",_),children:[o.jsxs("div",{className:U("flex max-w-xs flex-col gap-1",p),children:[o.jsxs("div",{className:"mb-0.5 flex gap-2",children:[d==="new"?o.jsx("span",{className:U("self-center rounded-sm px-1.5 py-0.5 text-[10px] leading-normal font-semibold uppercase",u==="default"?"bg-token-main-surface-primary text-token-main-surface-primary-inverse":"bg-white text-blue-400"),children:o.jsx(N,C({},pO.new))}):d==="beta"&&o.jsx("span",{className:"rounded-full bg-blue-100 px-1.5 text-[10px] font-semibold text-blue-600",children:o.jsx(N,C({},pO.beta))}),o.jsx("div",{className:U("grow font-semibold",f&&"text-".concat(f)),children:i}),o.jsx(gUe,{className:"-m-1 p-1 leading-[0] opacity-70 transition hover:opacity-100","data-testid":"announcement-tooltip-close-btn",children:o.jsx(bu,{className:"icon-sm"})})]}),m!==void 0&&o.jsx("div",{className:U(f&&"text-".concat(f)),children:m})]}),o.jsx(hUe,{asChild:!0,children:o.jsx("div",{className:U("relative top-[-6px] h-3 w-3 rotate-45 transform rounded-ee-sm",u==="default"?"bg-gray-900 dark:bg-gray-50":"bg-blue-400")})})]})})})]})}const pO=pe({new:{id:"announcementTooltip.new",defaultMessage:"New"},beta:{id:"announcementTooltip.beta",defaultMessage:"Beta"}}),Q$e=Je(()=>Ve(()=>Promise.resolve().then(()=>umt),void 0).then(t=>t.CustomInstructionsModal)),J$e=t=>{var e;return t.type===Zn.EMAIL?{id:t.user_email,label:t.user_email}:t.type===Zn.GROUP?{id:t.group_id,label:t.group_name}:t.type===Zn.USER?{id:t.user_id,label:(e=t.user_name)!=null?e:"Unknown",sublabel:t.user_email}:null};var VZ;const Boe=Ge.div(VZ||(VZ=qe(["icon-lg relative flex items-center justify-center rounded-full text-[10px]"]))),X$e=({monograms:t,variant:e="knockout",showTooltip:n=!0})=>{const s=t.slice(0,2),a=t.length-2;return o.jsxs("div",{className:"flex",children:[s.map((i,l)=>o.jsx("div",{className:U("relative rounded-full not-first:ms-[-6px]",e==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:s.length-l},children:o.jsx(eqe,{monogram:i,showTooltip:n})},i.id)),a>0&&o.jsx("div",{className:U("relative ms-[-6px] rounded-full first:ms-0",e==="knockout"&&"bg-token-bg-primary p-0.5"),style:{zIndex:0},children:o.jsx(Boe,{className:"text-token-text-primary bg-token-main-surface-tertiary",children:o.jsx(N,{id:"QY9mVO",values:{remaining:a},defaultMessage:"+{remaining}"})})})]})},eqe=({monogram:t,zIndex:e=0,className:n,showTooltip:r=!0})=>{const s=q(),a=yt(s),i=a==null?void 0:a.isWorkspaceAccount();if(!t)return null;const l=o.jsx(Boe,{className:U("text-white group-data-[disabled]/sharing-row:opacity-50",H7e(t.id),n),style:{zIndex:e},children:IJ(t.label)});return r?o.jsx(wt,{label:t.label,secondaryLabel:!i&&t.sublabel,contentClassName:"touch:hidden",labelClassName:"max-w-[200px] truncate",secondaryLabelClassName:"max-w-[200px] truncate",side:"top",children:l}):l};function tqe({gizmoId:t,handleDelete:e,onClose:n}){const r=Z(),s=lFe(),a=()=>{s.mutate({gizmoId:t}),e()};return o.jsx(tt,{testId:"modal-delete-project",isOpen:!0,onClose:n,type:"danger",title:o.jsx(N,C({},xt.deleteProjectModalTitle)),primaryButton:o.jsx(yn.Button,{title:r.formatMessage(xt.deleteProjectModalButton),color:"danger",onClick:()=>{a()}}),secondaryButton:o.jsx(yn.Button,{title:r.formatMessage(xt.cancelDeleteProjectModalButton),color:"secondary",onClick:n}),children:o.jsx("div",{className:"text-sm",children:o.jsx(N,P(C({},xt.deleteProjectModalDescription),{values:{bold:i=>o.jsx("span",{className:"font-bold",children:i})}}))})})}function nqe({gizmoId:t,projectName:e,handleLeave:n,onClose:r}){const s=Z(),a=it(),[i,l]=g.useState(!1),c=cFe(),[u,d]=g.useState(!1),f=()=>{d(!0),c.mutate({gizmoId:t,saveCopy:i},{onSuccess:m=>{var h;const p=(h=m.resource)==null?void 0:h.gizmo.id;p?(r(),a("/g/".concat(p,"/project"))):n()},onSettled:()=>{d(!1)}})};return o.jsx(tt,{testId:"modal-leave-project",isOpen:!0,onClose:()=>{u||r()},type:"danger",title:o.jsx(N,P(C({},xt.leaveProjectModalTitle),{values:{projectName:e}})),primaryButton:o.jsx(yn.Button,{as:"button",title:s.formatMessage(xt.leaveProjectModalButton),color:"danger",loading:u,onClick:f}),secondaryButton:o.jsx(yn.Button,{title:s.formatMessage(xt.cancelLeaveProjectModalButton),color:"secondary",disabled:u,onClick:r}),children:o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsx("span",{tabIndex:0,"aria-hidden":!0,className:"h-0 w-0 opacity-0 focus:outline-hidden"}),o.jsx("div",{children:o.jsx(N,P(C({},xt.leaveProjectModalDescription),{values:{bold:m=>o.jsx("span",{className:"font-bold",children:m})}}))}),o.jsxs("div",{children:[o.jsx($l,{id:"leave-project-save-copy",checked:i,onChange:m=>l(m.target.checked),disabled:u,label:o.jsx(N,C({},xt.leaveProjectSaveCopyLabel))}),o.jsx("div",{className:"text-token-text-secondary ps-6 text-xs",children:o.jsx(N,C({},xt.leaveProjectSaveCopyDescription))})]})]})})}const rqe=Je(()=>Ve(()=>import("./ktpjwmh7uke6476d.js"),__vite__mapDeps([86,4,1,5,87,88,27,89,90,91])).then(t=>t.ShareProjectModal));function sqe(n){var r=n,{className:t}=r,e=de(r,["className"]);const s=q(),a=Z(),i=yt(s),{eligible:l,markAsViewed:c}=$e(We.hasSeenSharedProjectsTooltip);return o.jsx(Zf,{announcementKey:We.hasSeenSharedProjectsTooltip,show:l,side:"bottom",align:"end",className:"w-full",sideOffset:0,contentClassName:"z-100",childrenWrapperClassName:"w-full",theme:"bright",dismissOnOutsideClick:!0,badge:"new",title:a.formatMessage({id:"YJ1BcI",defaultMessage:"Invite others to projects"}),description:i!=null&&i.isWorkspaceAccount()?a.formatMessage({id:"7i6HBq",defaultMessage:"Build reports, plan client work, or do research â together."}):a.formatMessage({id:"CO0hjY",defaultMessage:"Plan adventures, campaigns, workouts, and more â together."}),onDismiss:c,children:o.jsx(oe,P(C({className:U("mx-2",t),color:"ghost",icon:Bo,label:a.formatMessage(xt.projectShareButton)},e),{children:a.formatMessage(xt.projectShareButton)}))})}function vkt({gizmoId:t,serverThreadId:e}){var O,R,H,V,z,$,D,Y;const n=Z(),r=it(),s=q(),{data:a}=Ds(),i=m0(a),l=(O=i==null?void 0:i.isWorkspaceAccount())!=null?O:!1,c=!e,{data:u}=pf(i==null?void 0:i.getWorkspaceId()),d=(R=u==null?void 0:u.share_settings)==null?void 0:R.chat_share_setting,f=ie(s,"2913573978");let m;f?m=(H=u==null?void 0:u.beta_settings)==null?void 0:H.project_sharing:m=d!==Y2e.NO_ONE;const p=ie(s,"773249106")&&(m!=null?m:!l),h=p&&c,{data:v}=Ya(t),{canEdit:y}=lQ(v),{canDelete:x}=Q2e(v),b=((z=(V=v==null?void 0:v.gizmo)==null?void 0:V.author)==null?void 0:z.user_id)===(i==null?void 0:i.normalizedAccountUserId),_=g.useCallback(()=>{Dt(s,eae,{submitButtonTitle:n.formatMessage(xt.projectSettingsSubmitButton),gizmo:v})},[s,n,v]),w=g.useCallback(()=>{const G=F=>{F(),r("/",{replace:!0})};Dt(s,({onClose:F})=>o.jsx(tqe,{gizmoId:t,handleDelete:()=>G(F),onClose:F}))},[s,t,r]),S=vu(()=>{v&&Dt(s,({onClose:G})=>o.jsx(Q$e,{gizmo:v,onClose:G}))}),k=g.useCallback(()=>{if(!v)return;const G=F=>{F(),r("/",{replace:!0})};Dt(s,({onClose:F})=>o.jsx(nqe,{gizmoId:t,projectName:v.gizmo.display.name,handleLeave:()=>G(F),onClose:F}))},[s,v,t,r]),M=((Y=(D=($=v==null?void 0:v.gizmo)==null?void 0:$.instructions)==null?void 0:D.length)!=null?Y:0)>0;let E;y?E=M?xt.editInstructionsDropdownLabel:xt.addInstructionsDropdownLabel:E=xt.viewOnlyInstructionsDropdownLabel;const T=g.useMemo(()=>{const G=ie(s,"1478278884");return[b&&o.jsx(J.Item,{onClick:_,icon:hc,children:ie(s,"4283270305")?o.jsx(N,{id:"ADb29o",defaultMessage:"Edit project"}):o.jsx(N,C({},xt.editProjectNameDropdownButton))}),(y||M)&&G&&o.jsx(J.Item,{onClick:S,icon:wT,children:o.jsx(N,C({},E))}),!b&&o.jsx(J.Item,{color:"danger",onClick:k,icon:Bre,children:o.jsx(N,C({},xt.leaveProjectDropdownButton))}),x&&o.jsx(J.Item,{color:"danger",onClick:w,icon:_c,children:o.jsx(N,C({},xt.deleteProjectDropdownButton))})].filter(Boolean)},[y,b,_,s,x,w,S,E,M,k]),j=g.useMemo(()=>{var G,F,X;return(X=(F=(G=v==null?void 0:v.gizmo)==null?void 0:G.sharing)==null?void 0:F.subjects)!=null?X:[]},[v]),A=g.useMemo(()=>{var X;const G=[],F=(X=v==null?void 0:v.gizmo)==null?void 0:X.author;return F&&F.display_name&&G.push({id:F.user_id,label:F.display_name,sublabel:F.user_email}),j.forEach(te=>{const ae=J$e(te);ae&&G.push(ae)}),G},[v,j]),I=p&&j.length>0&&A.length>1,L=g.useCallback(()=>{v&&Dt(s,rqe,{gizmo:fse(v),publishedGizmo:v})},[s,v]);return g.useEffect(()=>{l&&(Me.count(Ee.PROJECTS,"snorlax_header_actions_shown",{in_shared_projects_gate:ie(s,"773249106")?"true":"false",workspace_allows_sharing:m?"true":"false",is_shared_projects_enabled:p?"true":"false"}),h&&Me.count(Ee.PROJECTS,"snorlax_header_actions_share_button_shown"))},[l,h,m,p,s]),o.jsxs(o.Fragment,{children:[I&&o.jsx(oe,{"aria-label":n.formatMessage(xt.projectShareButton),className:"bg-transparent! px-0! hover:opacity-90",color:"ghost",onClick:L,children:o.jsx(X$e,{monograms:A})}),h&&o.jsx(sqe,{disabled:!v,onClick:L}),c&&T.length>0&&o.jsx(Qa,{side:"top",contentAlign:"end",sideOffset:0,triggerButton:o.jsx(Kae,{"aria-label":n.formatMessage(xt.showProjectDetailsDropdown),className:"shrink-0"}),size:"auto",children:T})]})}const Lu=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M4.52148 15.1664C4.61337 14.8108 4.39951 14.4478 4.04395 14.3559C3.73281 14.2756 3.41605 14.4295 3.28027 14.7074L3.2334 14.8334C3.13026 15.2324 3.0046 15.6297 2.86133 16.0287L2.71289 16.4281C2.63179 16.6393 2.66312 16.8775 2.79688 17.06C2.93067 17.2424 3.14825 17.3443 3.37402 17.3305L3.7793 17.3002C4.62726 17.2265 5.44049 17.0856 6.23438 16.8764C6.84665 17.1788 7.50422 17.4101 8.19434 17.558C8.55329 17.6348 8.9064 17.4062 8.9834 17.0473C9.06036 16.6882 8.83177 16.3342 8.47266 16.2572C7.81451 16.1162 7.19288 15.8862 6.62305 15.5815C6.50913 15.5206 6.38084 15.4946 6.25391 15.5053L6.12793 15.5277C5.53715 15.6955 4.93256 15.819 4.30566 15.9027C4.33677 15.8053 4.36932 15.7081 4.39844 15.6098L4.52148 15.1664Z"}),g.createElement("path",{d:"M15.7998 14.5365C15.5786 14.3039 15.2291 14.2666 14.9668 14.4301L14.8604 14.5131C13.9651 15.3633 12.8166 15.9809 11.5273 16.2572C11.1682 16.3342 10.9396 16.6882 11.0166 17.0473C11.0936 17.4062 11.4467 17.6348 11.8057 17.558C13.2388 17.2509 14.5314 16.5858 15.5713 15.6645L15.7754 15.477C16.0417 15.2241 16.0527 14.8028 15.7998 14.5365Z"}),g.createElement("path",{d:"M2.23828 7.58927C1.97668 8.34847 1.83496 9.15958 1.83496 10.0004C1.835 10.736 1.94324 11.4483 2.14551 12.1234L2.23828 12.4106C2.35793 12.7576 2.73588 12.9421 3.08301 12.8227C3.3867 12.718 3.56625 12.4154 3.52637 12.1088L3.49512 11.977C3.2808 11.3549 3.16508 10.6908 3.16504 10.0004C3.16504 9.30977 3.28072 8.64514 3.49512 8.02286C3.61476 7.67563 3.43024 7.2968 3.08301 7.17716C2.73596 7.05778 2.35799 7.24232 2.23828 7.58927Z"}),g.createElement("path",{d:"M16.917 12.8227C17.2641 12.9421 17.6421 12.7576 17.7617 12.4106C18.0233 11.6515 18.165 10.8411 18.165 10.0004C18.165 9.15958 18.0233 8.34847 17.7617 7.58927C17.642 7.24231 17.264 7.05778 16.917 7.17716C16.5698 7.2968 16.3852 7.67563 16.5049 8.02286C16.7193 8.64514 16.835 9.30977 16.835 10.0004C16.8349 10.6908 16.7192 11.3549 16.5049 11.977C16.3852 12.3242 16.5698 12.703 16.917 12.8227Z"}),g.createElement("path",{d:"M8.9834 2.95255C8.90632 2.59374 8.55322 2.3651 8.19434 2.44181C6.76126 2.74892 5.46855 3.41405 4.42871 4.33536L4.22461 4.52286C3.95829 4.77577 3.94729 5.19697 4.2002 5.46329C4.42146 5.69604 4.77088 5.73328 5.0332 5.56973L5.13965 5.4877C6.03496 4.63748 7.18337 4.0189 8.47266 3.74259C8.83177 3.66563 9.06036 3.31166 8.9834 2.95255Z"}),g.createElement("path",{d:"M15.5713 4.33536C14.5314 3.41405 13.2387 2.74892 11.8057 2.44181C11.4468 2.3651 11.0937 2.59374 11.0166 2.95255C10.9396 3.31166 11.1682 3.66563 11.5273 3.74259C12.7361 4.00163 13.8209 4.56095 14.6895 5.33048L14.8604 5.4877L14.9668 5.56973C15.2291 5.73327 15.5785 5.69604 15.7998 5.46329C16.0211 5.23026 16.0403 4.87903 15.8633 4.6254L15.7754 4.52286L15.5713 4.33536Z"})),ykt=Object.freeze(Object.defineProperty({__proto__:null,default:Lu},Symbol.toStringTag,{value:"Module"}));function b2({label:t,tooltip:e,Icon:n,tooltipInteractive:r=!1}){return o.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold opacity-70",children:[n&&o.jsx(n,{className:"icon-sm"}),o.jsx("div",{children:t}),o.jsx(wt,{label:e,interactive:r,children:o.jsx(Hs,{className:"icon-sm ms-1"})})]})}function xkt({clientThreadId:t,gizmoId:e}){const n=Z(),r=Af(),s=L0(),a=MJ(),{data:i}=qte(e,!1,a),l=!!e,c=Er(),u=Te(t,se.getIsNewConversation),d=J2e();return a?c&&(!u||l)?o.jsx(b2,{label:n.formatMessage(pl.temporaryChat),tooltip:n.formatMessage(pl.temporaryChatTooltip),Icon:Lu}):d&&!u?o.jsx(b2,{label:n.formatMessage(pl.memoryOff),tooltip:n.formatMessage(pl.developerModeTooltip)}):r&&!s&&!c?o.jsx(b2,{label:n.formatMessage(pl.memoryOff),tooltip:n.formatMessage(pl.memoryOffTooltip)}):i&&(i==null?void 0:i.memoryFullPct)>=100?o.jsx(b2,{label:n.formatMessage(pl.memoryFull),tooltip:o.jsx("div",{className:"whitespace-normal",children:o.jsx(N,P(C({},pl.memoryFullTooltip),{values:{link:f=>o.jsx(mr,{to:hf(Dn.Personalization),className:"underline",children:f})}}))}),tooltipInteractive:!0}):null:null}const pl=pe({temporaryChat:{id:"ConversationPrivacyIndicator.temporaryChat",defaultMessage:"Temporary Chat"},temporaryChatTooltip:{id:"ConversationPrivacyIndicator.temporaryChatTooltip",defaultMessage:"Temporary Chats won't appear in your history, and ChatGPT won't remember anything you talk about."},memoryOff:{id:"ConversationPrivacyIndicator.memoryOff",defaultMessage:"Memory Off"},memoryOffTooltip:{id:"ConversationPrivacyIndicator.memoryOffTooltip",defaultMessage:"ChatGPT won't remember anything you talk about in this conversation."},developerModeTooltip:{id:"ConversationPrivacyIndicator.developerModeTooltip",defaultMessage:"ChatGPT won't reference past memories, or create new memories from this chat."},memoryFull:{id:"tf4lEW",defaultMessage:"Saved memory full"},memoryFullTooltip:{id:"7IKefd",defaultMessage:"ChatGPT's out of space for saved memories. <link>Manage saved memories</link> to create more space."}});function aqe(t,e){t.metaKey||t.ctrlKey?B.logEventWithStatsig("New Chat Opened In New Tab","chatgpt_new_chat_opened_in_new_tab"):(pn.setPopoverSidebarOpen(!1),t.preventDefault(),UNe(),e())}function bkt(){const t=q();return ze(t,"1803944755").get("enable_combined_login_or_signup_button",!1)}const Uoe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M11.7304 7.35195C11.9273 7.04193 12.3384 6.95002 12.6484 7.14687C12.9582 7.34374 13.0502 7.75487 12.8535 8.06484L9.67868 13.0648C9.56765 13.2397 9.38114 13.3525 9.17477 13.3705C8.96844 13.3885 8.76558 13.3096 8.62595 13.1566L6.80075 11.1566L6.7197 11.0482C6.56149 10.7827 6.60647 10.4337 6.84372 10.2172C7.08112 10.0007 7.43256 9.98823 7.68259 10.1703L7.78317 10.2601L9.02145 11.6166L11.7304 7.35195Z","data-rtl-flip":""}),g.createElement("path",{d:"M4.52148 15.1664C4.61337 14.8108 4.39951 14.4478 4.04395 14.3559C3.73281 14.2756 3.41605 14.4295 3.28027 14.7074L3.2334 14.8334C3.13026 15.2324 3.0046 15.6297 2.86133 16.0287L2.71289 16.4281C2.63179 16.6393 2.66312 16.8775 2.79688 17.06C2.93067 17.2424 3.14825 17.3443 3.37402 17.3305L3.7793 17.3002C4.62726 17.2265 5.44049 17.0856 6.23438 16.8764C6.84665 17.1788 7.50422 17.4101 8.19434 17.558C8.55329 17.6347 8.9064 17.4062 8.9834 17.0473C9.06036 16.6881 8.83177 16.3342 8.47266 16.2572C7.81451 16.1162 7.19288 15.8862 6.62305 15.5814C6.50913 15.5205 6.38084 15.4946 6.25391 15.5053L6.12793 15.5277C5.53715 15.6955 4.93256 15.819 4.30566 15.9027C4.33677 15.8052 4.36932 15.7081 4.39844 15.6098L4.52148 15.1664Z"}),g.createElement("path",{d:"M15.7998 14.5365C15.5786 14.3039 15.2291 14.2666 14.9668 14.4301L14.8604 14.5131C13.9651 15.3633 12.8166 15.9809 11.5273 16.2572C11.1682 16.3342 10.9396 16.6881 11.0166 17.0473C11.0936 17.4062 11.4467 17.6347 11.8057 17.558C13.2388 17.2509 14.5314 16.5858 15.5713 15.6644L15.7754 15.4769C16.0417 15.224 16.0527 14.8028 15.7998 14.5365Z"}),g.createElement("path",{d:"M2.23828 7.58925C1.97668 8.34846 1.83496 9.15956 1.83496 10.0004C1.835 10.7359 1.94324 11.4483 2.14551 12.1234L2.23828 12.4105C2.35793 12.7576 2.73588 12.9421 3.08301 12.8226C3.3867 12.718 3.56625 12.4153 3.52637 12.1088L3.49512 11.9769C3.2808 11.3548 3.16508 10.6908 3.16504 10.0004C3.16504 9.30975 3.28072 8.64512 3.49512 8.02284C3.61476 7.67561 3.43024 7.29679 3.08301 7.17714C2.73596 7.05777 2.35799 7.2423 2.23828 7.58925Z"}),g.createElement("path",{d:"M16.917 12.8226C17.2641 12.9421 17.6421 12.7576 17.7617 12.4105C18.0233 11.6515 18.165 10.8411 18.165 10.0004C18.165 9.15956 18.0233 8.34846 17.7617 7.58925C17.642 7.2423 17.264 7.05777 16.917 7.17714C16.5698 7.29679 16.3852 7.67561 16.5049 8.02284C16.7193 8.64512 16.835 9.30975 16.835 10.0004C16.8349 10.6908 16.7192 11.3548 16.5049 11.9769C16.3852 12.3242 16.5698 12.703 16.917 12.8226Z"}),g.createElement("path",{d:"M8.9834 2.95253C8.90632 2.59372 8.55322 2.36509 8.19434 2.44179C6.76126 2.74891 5.46855 3.41404 4.42871 4.33534L4.22461 4.52284C3.95829 4.77575 3.94729 5.19696 4.2002 5.46327C4.42146 5.69603 4.77088 5.73326 5.0332 5.56972L5.13965 5.48769C6.03496 4.63746 7.18337 4.01888 8.47266 3.74257C8.83177 3.66561 9.06036 3.31165 8.9834 2.95253Z"}),g.createElement("path",{d:"M15.5713 4.33534C14.5314 3.41404 13.2387 2.74891 11.8057 2.44179C11.4468 2.36509 11.0937 2.59372 11.0166 2.95253C10.9396 3.31165 11.1682 3.66561 11.5273 3.74257C12.7361 4.00161 13.8209 4.56094 14.6895 5.33046L14.8604 5.48769L14.9668 5.56972C15.2291 5.73326 15.5785 5.69603 15.7998 5.46327C16.0211 5.23025 16.0403 4.87902 15.8633 4.62538L15.7754 4.52284L15.5713 4.33534Z"})),Ckt=Object.freeze(Object.defineProperty({__proto__:null,default:Uoe},Symbol.toStringTag,{value:"Module"})),C2="temporary-chat",_kt="anon-mode";function wkt({clientThreadId:t,variant:e="default"}){const n=Te(t,se.getIsNewConversation),r=Er(),s=nl(),a=it(),[,i]=kr(),l=()=>{B.logEvent("Temporary Chat Move: Temporary Chat Button Clicked"),!n&&!r?a({pathname:"/",search:new URLSearchParams({[C2]:"true"}).toString()}):(i(f=>(f.get(C2)==="true"?f.delete(C2):f.set(C2,"true"),f),{replace:n,state:q5()}),Zo(Ht(s)))},c=Z(),u=r?c.formatMessage({id:"0emak7",defaultMessage:"Turn off temporary chat"}):c.formatMessage({id:"x2lslS",defaultMessage:"Turn on temporary chat"}),d=r?Uoe:Lu;return o.jsx(wt,{label:u,children:e==="default"?o.jsx(Vf,{className:"rounded-full!","aria-label":u,onClick:l,icon:d}):o.jsx(oe,{className:"text-token-text-secondary rounded-lg",color:"ghost",icon:d,onClick:l,label:u})})}const oqe={type:"spring",bounce:.1,duration:.3},Skt={type:"spring",bounce:.1,duration:.24},Hoe={duration:1e-14},a4=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.5 5.75C4.5 5.05964 5.05964 4.5 5.75 4.5H14.25C14.9404 4.5 15.5 5.05964 15.5 5.75V14.25C15.5 14.9404 14.9404 15.5 14.25 15.5H5.75C5.05964 15.5 4.5 14.9404 4.5 14.25V5.75Z"})),kkt=Object.freeze(Object.defineProperty({__proto__:null,default:a4},Symbol.toStringTag,{value:"Module"})),Voe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M2.66867 14.1665V8.98677C2.23313 8.72481 1.8817 8.32262 1.69113 7.82075L1.61691 7.59419L1.45578 6.99067C1.12249 5.74681 1.86036 4.46753 3.10422 4.13423L13.9714 1.2231L14.2048 1.17329C15.3713 0.984508 16.5144 1.70556 16.8269 2.87153L16.988 3.47505L17.0388 3.70845C17.2153 4.79724 16.5981 5.86547 15.5671 6.25728L15.3396 6.33149L4.47336 9.24263C4.31482 9.28511 4.15541 9.30996 3.99777 9.3188V14.1665C3.99777 15.1799 4.82027 16.0014 5.83371 16.0014H14.1667C15.1801 16.0013 16.0017 15.1799 16.0017 14.1665V8.33345C16.0017 7.96618 16.2994 7.66841 16.6667 7.66841C17.0339 7.66848 17.3318 7.96622 17.3318 8.33345V14.1665C17.3318 15.9144 15.9146 17.3314 14.1667 17.3315H5.83371C4.08573 17.3315 2.66867 15.9144 2.66867 14.1665ZM11.6667 10.1684L11.8005 10.1821C12.1036 10.2441 12.3318 10.5121 12.3318 10.8334C12.3317 11.1548 12.1035 11.4228 11.8005 11.4848L11.6667 11.4985H8.33371C7.96648 11.4985 7.66873 11.2007 7.66867 10.8334C7.66867 10.4662 7.96644 10.1684 8.33371 10.1684H11.6667ZM15.5417 3.21626C15.4075 2.71539 14.9168 2.40477 14.4157 2.48579L14.3152 2.50727L3.44895 5.41938C2.91466 5.56254 2.59693 6.11166 2.73996 6.64595L2.90207 7.24946L2.93332 7.34712C3.11346 7.82184 3.62765 8.09253 4.12863 7.95845L14.9958 5.04634L15.0935 5.01509C15.5364 4.84669 15.8013 4.3872 15.7253 3.91938L15.7038 3.81977L15.5417 3.21626Z"})),Mkt=Object.freeze(Object.defineProperty({__proto__:null,default:Voe},Symbol.toStringTag,{value:"Module"}));function Ru({percentage:t,thickness:e=1/12,className:n,sizeOverride:r,backgroundStrokeClassName:s="stroke-gray-400",transitionDuration:a,transitionTimingFunction:i,onTransitionEnd:l}){const c=r!=null?r:120,u=c*e,d=(c-u)/2,f=2*Math.PI*d,m=f-t/100*f;return o.jsxs("svg",{width:c,height:c,viewBox:"0 0 ".concat(c," ").concat(c),className:n,children:[o.jsx("circle",{className:U("origin-[50%_50%] -rotate-90",s),strokeWidth:u,fill:"transparent",r:d,cx:c/2,cy:c/2}),o.jsx("circle",{className:"origin-[50%_50%] -rotate-90 transition-[stroke-dashoffset]",stroke:"currentColor",strokeWidth:u,strokeDashoffset:m,strokeDasharray:"".concat(f," ").concat(f),fill:"transparent",r:d,cx:c/2,cy:c/2,style:{strokeLinecap:"round",transitionDuration:a,transitionTimingFunction:i},onTransitionEnd:l})]})}const iqe=({size:t=40,className:e="text-blue-400"})=>o.jsx("div",{className:U("relative",e),style:{width:t,height:t},children:o.jsxs("svg",{className:"absolute h-full w-full animate-spin",viewBox:"0 0 50 50",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"spinner-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",style:{stopColor:"currentColor",stopOpacity:1}}),o.jsx("stop",{offset:"100%",style:{stopColor:"currentColor",stopOpacity:0}})]})}),o.jsx("circle",{cx:"25",cy:"25",r:"20",stroke:"url(#spinner-gradient)",strokeWidth:"8",strokeLinecap:"round",fill:"none",strokeDasharray:"75,150",strokeDashoffset:"0"})]})}),$oe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M11.6663 12.6686L11.801 12.6823C12.1038 12.7445 12.3313 13.0125 12.3313 13.3337C12.3311 13.6547 12.1038 13.9229 11.801 13.985L11.6663 13.9987H3.33325C2.96609 13.9987 2.66839 13.7008 2.66821 13.3337C2.66821 12.9664 2.96598 12.6686 3.33325 12.6686H11.6663ZM16.6663 6.00163L16.801 6.0153C17.1038 6.07747 17.3313 6.34546 17.3313 6.66667C17.3313 6.98788 17.1038 7.25586 16.801 7.31803L16.6663 7.33171H3.33325C2.96598 7.33171 2.66821 7.03394 2.66821 6.66667C2.66821 6.2994 2.96598 6.00163 3.33325 6.00163H16.6663Z"})),Ekt=Object.freeze(Object.defineProperty({__proto__:null,default:$oe},Symbol.toStringTag,{value:"Module"}));function lqe(t,e){const[n,r]=g.useState(t),s=g.useRef(xs(a=>r(a),e));return g.useEffect(()=>(s.current=xs(a=>{r(a)},e),()=>{var a;(a=s.current)==null||a.cancel()}),[e]),g.useEffect(()=>{var a;(a=s.current)==null||a.call(s,t)},[t]),n}const qoe=t=>g.createElement("svg",C({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M5 11.1485V4.85129C5 4.19371 5.72596 3.7952 6.28073 4.14824L11.2285 7.29684C11.7431 7.6243 11.7431 8.37548 11.2285 8.70294L6.28073 11.8515C5.72596 12.2046 5 11.8061 5 11.1485Z"})),jkt=Object.freeze(Object.defineProperty({__proto__:null,default:qoe},Symbol.toStringTag,{value:"Module"})),Xd=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.502 16.6663V13.3333C3.502 12.9661 3.79977 12.6683 4.16704 12.6683H7.50004L7.63383 12.682C7.93691 12.7439 8.16508 13.0119 8.16508 13.3333C8.16508 13.6547 7.93691 13.9227 7.63383 13.9847L7.50004 13.9984H5.47465C6.58682 15.2249 8.21842 16.0013 10 16.0013C13.06 16.0012 15.5859 13.711 15.9551 10.7513L15.9854 10.6195C16.0845 10.3266 16.3785 10.1334 16.6973 10.1732C17.0617 10.2186 17.3198 10.551 17.2745 10.9154L17.2247 11.2523C16.6301 14.7051 13.6224 17.3313 10 17.3314C8.01103 17.3314 6.17188 16.5383 4.83208 15.2474V16.6663C4.83208 17.0335 4.53411 17.3311 4.16704 17.3314C3.79977 17.3314 3.502 17.0336 3.502 16.6663ZM4.04497 9.24935C3.99936 9.61353 3.66701 9.87178 3.30278 9.8265C2.93833 9.78105 2.67921 9.44876 2.72465 9.08431L4.04497 9.24935ZM10 2.66829C11.9939 2.66833 13.8372 3.46551 15.1778 4.76204V3.33333C15.1778 2.96616 15.4757 2.66844 15.8428 2.66829C16.2101 2.66829 16.5079 2.96606 16.5079 3.33333V6.66634C16.5079 7.03361 16.2101 7.33138 15.8428 7.33138H12.5098C12.1425 7.33138 11.8448 7.03361 11.8448 6.66634C11.8449 6.29922 12.1426 6.0013 12.5098 6.0013H14.5254C13.4133 4.77488 11.7816 3.99841 10 3.99837C6.93998 3.99837 4.41406 6.28947 4.04497 9.24935L3.38481 9.16634L2.72465 9.08431C3.17574 5.46702 6.26076 2.66829 10 2.66829Z"})),Tkt=Object.freeze(Object.defineProperty({__proto__:null,default:Xd},Symbol.toStringTag,{value:"Module"})),ST=(...t)=>e=>{t.forEach(n=>{if(typeof n=="function")n(e);else if(n){const r=n;r.current=e}})},cqe=(...t)=>{"use forget";return g.useMemo(()=>ST(...t),[...t])},zoe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.23145 7.23145C7.49106 6.97183 7.91216 6.97199 8.17188 7.23145L10 9.05957L11.8281 7.23145L11.9316 7.14648C12.1898 6.97593 12.5413 7.00416 12.7686 7.23145C12.9958 7.45873 13.0241 7.81022 12.8535 8.06836L12.7686 8.17188L10.9404 10L12.7686 11.8281C13.028 12.0878 13.0282 12.5089 12.7686 12.7686C12.5089 13.0282 12.0878 13.028 11.8281 12.7686L10 10.9404L8.17188 12.7686C7.91216 13.028 7.49106 13.0282 7.23145 12.7686C6.97183 12.5089 6.97199 12.0878 7.23145 11.8281L9.05957 10L7.23145 8.17188C6.97199 7.91216 6.97183 7.49106 7.23145 7.23145Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),Nkt=Object.freeze(Object.defineProperty({__proto__:null,default:zoe},Symbol.toStringTag,{value:"Module"}));var o8,gO;function uqe(){if(gO)return o8;gO=1;var t=Hu();function e(n){return typeof n=="function"?n:t}return o8=e,o8}var i8,hO;function dqe(){if(hO)return i8;hO=1;var t=X2e(),e=uqe(),n=cQ(),r=9007199254740991,s=4294967295,a=Math.min;function i(l,c){if(l=n(l),l<1||l>r)return[];var u=s,d=a(l,s);c=e(c),l-=s;for(var f=t(d,c);++u<l;)c(u);return f}return i8=i,i8}var fqe=dqe();const Akt=St(fqe);var Qs=(t=>(t.INFERRING="inferring",t.PENDING="pending",t.SENT="sent",t))(Qs||{}),Xp=(t=>(t.MODEL="model",t.SYSTEM_HINT_CANVAS="system_hint_canvas",t.SYSTEM_HINT_CANVAS_APPS="system_hint_canvas_apps",t.USER_CREATED_COMPOSER="user_created_composer",t.MESSAGE_CODE_SNIPPET="message_code_snippet",t.MESSAGE_WRITING_BLOCK="message_writing_block",t.MESSAGE="message",t.TASK_RESULT="task_result",t.REMIX_OF_SHARED_CANVAS="remix_of_shared_canvas",t.HIVE="hive",t))(Xp||{});const ki=-1;var ms=(t=>(t.CREATING="creating",t.REWRITING="rewriting",t.COMMENTING="commenting",t.UPDATING="updating",t.COMPLETE="complete",t.ATTACHED_PENDING="attached_pending",t.ATTACHED_SENT="attached_sent",t))(ms||{});const Pkt=t=>(t==null?void 0:t.status)!=="complete"&&(t==null?void 0:t.status)!=="attached_pending"&&(t==null?void 0:t.status)!=="attached_sent",Ikt=t=>(t==null?void 0:t.status)==="rewriting",Lkt=t=>(t==null?void 0:t.status)==="creating",Rkt=t=>(t==null?void 0:t.status)==="attached_pending"||(t==null?void 0:t.status)==="attached_sent",Okt=t=>(t==null?void 0:t.status)==="attached_pending";var Ii=(t=>(t.DOCUMENT="document",t.CODE_BASH="code/bash",t.CODE_ZSH="code/zsh",t.CODE_JAVASCRIPT="code/javascript",t.CODE_TYPESCRIPT="code/typescript",t.CODE_HTML="code/html",t.CODE_CSS="code/css",t.CODE_PYTHON="code/python",t.CODE_JSON="code/json",t.CODE_SQL="code/sql",t.CODE_GO="code/go",t.CODE_YAML="code/yaml",t.CODE_JAVA="code/java",t.CODE_RUST="code/rust",t.CODE_CPP="code/cpp",t.CODE_SWIFT="code/swift",t.CODE_PHP="code/php",t.CODE_XML="code/xml",t.CODE_RUBY="code/ruby",t.CODE_HASKELL="code/haskell",t.CODE_KOTLIN="code/kotlin",t.CODE_CSHARP="code/csharp",t.CODE_C="code/c",t.CODE_OBJECTIVEC="code/objectivec",t.CODE_R="code/r",t.CODE_LUA="code/lua",t.CODE_DART="code/dart",t.CODE_SCALA="code/scala",t.CODE_PERL="code/perl",t.CODE_COMMONLISP="code/commonlisp",t.CODE_CLOJURE="code/clojure",t.CODE_OCAML="code/ocaml",t.CODE_POWERSHELL="code/powershell",t.CODE_VERILOG="code/verilog",t.CODE_DOCKERFILE="code/dockerfile",t.CODE_VUE="code/vue",t.CODE_REACT="code/react",t.CODE_OTHER="code/other",t.LOADING="loading",t))(Ii||{});function jh(t){return t.startsWith("code/")}function Ou(t){const e=Ig(t,Object.values(Ii),null);if(e)return e;if(t==="webview")return"code/html";if(t.startsWith("code"))switch(t){case"code/js":case"code/jsx":return"code/javascript";case"code/ts":case"code/tsx":return"code/typescript";default:return"code/other"}return"document"}var qn=(t=>(t.CREATE="create",t.REWRITE="rewrite",t.EDIT="edit",t.ADD_COMMENT="add_comment",t.REMOVE_COMMENT="remove_comment",t))(qn||{}),Goe=(t=>(t.ACCEPT="accept",t.DISMISS="dismiss",t))(Goe||{}),LS=(t=>(t.ACCEPT_INITIATED="accept_initiated",t.DISMISSED="dismissed",t.PENDING="pending",t))(LS||{}),mqe=(t=>(t.ADDED="added",t.REMOVED="removed",t))(mqe||{}),pqe=(t=>(t.ACCEPT_COMMENT="accept_comment",t.ASK_CHATGPT="ask_chatgpt",t.ACCELERATOR="accelerator",t.CONSOLE="console",t.FULL_SCREEN_SUBMIT="full_screen_submit",t.HIVE_SPEAKER_EDIT="hive_speaker_edit",t))(pqe||{}),Woe=(t=>(t.PUBLIC="public",t.PRIVATE="private",t.WORKSPACE="workspace",t))(Woe||{});const gqe=t=>Ig(t,Object.values(Woe),void 0),hqe=new RegExp("((?:\\n|\\r)+)((?:\\s{2,}|\\t)+)?|(```)|([#*_-]+)|([(){}[\\]]+)|([\\x21-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7B-\\x7E]+)|(\\b(?:await|break|case|catch|class|continue|default|define|except|extends|export|finally|implements|import|include|print|private|protected|public|return|span|switch|system|template|throw|type|using|while)\\b)|(\\b(?:async|breakpoint|cin|cmd|console|const|constexpr|cout|def|defn|div|env|fn|func|function|href|html|img|interface|lambda|namespace|println|src|stdout|struct|var|workdir|yield)\\b)","gi"),vqe=[80.33911781017851,19.194942847935266,-78.96158351597562,31.404985863148777,48.13976028814005,82.48501866379408,15.781632991361631,67.81666324403915],yqe=-9.860574779222393;function Zoe(t){return xqe(bqe(t),vqe,yqe)>0}function xqe(t,e,n){let r=n;for(let s=0;s<t.length;s++)r+=t[s]*e[s];return r}function bqe(t){const e=[0,0,0,0,0,0,0,0];if(!t)return e;let n;for(;(n=hqe.exec(t))!=null;)for(let r=0;r<e.length;r++)n[r+1]&&(e[r]+=n[r+1].length);for(let r=0;r<e.length;r++)e[r]/=t.length;return e}function Cqe(t){var e,n;return{sharedTextdocId:t.shared_textdoc_id,versionInt:(e=t.version)!=null?e:void 0,title:t.name,type:Ou(t.textdoc_type),content:t.content,access:gqe(t.access),isModerationBlocked:t.is_moderation_blocked,isAnonifyApiKeyDetected:(n=t.is_anonify_api_key_detected)!=null?n:!1}}const _qe=4e4,wqe={[Re.FREE]:8e3,[Re.GO]:8e3,[Re.PLUS]:32e3,[Re.PRO]:128e3,[Re.SELF_SERVE_BUSINESS]:32e3,[Re.ENTERPRISE_CBP]:128e3,[Re.EDUCATION_CBP]:32e3,[Re.QUORUM]:128e3,[Re.DEPRECATED_ENTERPRISE]:128e3,[Re.DEPRECATED_EDU]:32e3};function Dkt(t){return Math.round(wqe[t]/3*4)}const Sqe="max-length-toast",Koe=xs((t,e,n,r=1.5)=>t.warning(e,{description:n,duration:r,id:Sqe}),500,{leading:!0,trailing:!1});function Fkt(t,e,n){Koe(t,e.formatMessage(Th.exceededMaxLengthTitle),e.formatMessage(Th.exceededMaxLengthDescription),n)}function kqe(t,e,n){Koe(t,e.formatMessage(Th.exceededMaxLengthTitle),e.formatMessage(Th.exceededMaxLengthForTruncatedMessageDescription),n)}const Th=pe({exceededMaxLengthDescription:{id:"YhSTHh",defaultMessage:"The document might be longer than a canvas can currently handle. To edit, please reduce the length."},exceededMaxLengthForTruncatedMessageDescription:{id:"r87COE",defaultMessage:"The document was truncated because it was too long."},exceededMaxLengthTitle:{id:"v9nHC8",defaultMessage:"Document may exceed maximum length"}}),o4="temp";function Yoe(t,e){return"".concat(o4,"-tdc-").concat(e,"-").concat(t)}function kT(t){return"".concat(o4,"-td-").concat(t)}function Mqe(){return"".concat(o4,"-td-user:").concat(Date.now())}function Eqe(t){return"".concat(o4,"-td-remix:").concat(t)}const Kf=Rt(Sn(()=>({attachedTempTextdocs:{}}))),{setState:oi,getState:jqe}=Kf,Tqe=7e3,Qoe={createTempTextdoc:(t,e,n,r)=>{const s=Mqe(),a=r?Ou("code/"+r):Zoe(t)?Ii.CODE_OTHER:Ii.DOCUMENT;oi(u=>{u.attachedTempTextdocs[s]={tempTextdocId:s,createdAt:Date.now(),status:Qs.INFERRING,type:a,title:e,content:t,create_source:n,hasUserEdits:!1}});let i=!1;const l=new Promise(u=>setTimeout(u,Tqe)).then(()=>{i=!0}),c=ue.safePost("/conversation/textdocs/infer_metadata",{requestBody:{content:t.slice(0,_qe)}}).then(({name:u,type:d})=>{i||oi(f=>{f.attachedTempTextdocs[s]&&(f.attachedTempTextdocs[s].title=u,f.attachedTempTextdocs[s].type=Ou(d))})});return Promise.race([l,c]).finally(()=>{oi(u=>{u.attachedTempTextdocs[s]&&(u.attachedTempTextdocs[s].status=Qs.PENDING)})}),s},createRemixTempTextdoc:(t,e)=>{const n=Eqe(t);if(!jqe().attachedTempTextdocs[n])return oi(r=>{r.attachedTempTextdocs[n]={tempTextdocId:n,createdAt:Date.now(),status:Qs.PENDING,type:Ii.LOADING,title:"",content:"",create_source:Xp.REMIX_OF_SHARED_CANVAS,hasUserEdits:!1,remixSharedTextdocId:t}}),ue.safeGet("/textdoc/shared/{shared_textdoc_id}",{parameters:{path:{shared_textdoc_id:t}}}).then(({shared_textdoc:r})=>{const s=Cqe(r);oi(a=>{a.attachedTempTextdocs[n]={tempTextdocId:n,createdAt:Date.now(),status:Qs.PENDING,type:s.type,title:e.formatMessage({id:"cuH4su",defaultMessage:"Copy of {title}"},{title:s.title}),content:s.content,create_source:Xp.REMIX_OF_SHARED_CANVAS,hasUserEdits:!1,remixSharedTextdocId:s.sharedTextdocId}})}).catch(()=>{Qoe.removeTempTextdoc(n),window.location.href=RY(OY.CANVAS_NOT_FOUND)}),n},replaceTempTextdocContent:(t,e)=>{oi(n=>{n.attachedTempTextdocs[t].content=e,n.attachedTempTextdocs[t].hasUserEdits=!0})},markAsSent:t=>{oi(e=>{e.attachedTempTextdocs[t].status===Qs.PENDING?e.attachedTempTextdocs[t].status=Qs.SENT:delete e.attachedTempTextdocs[t]})},markAllAsSent:()=>{oi(t=>{for(const e of Object.keys(t.attachedTempTextdocs))t.attachedTempTextdocs[e].status===Qs.PENDING?t.attachedTempTextdocs[e].status=Qs.SENT:delete t.attachedTempTextdocs[e]})},removeTempTextdoc:t=>{oi(e=>{delete e.attachedTempTextdocs[t]})}},d3=Cc(({attachedTempTextdocs:t})=>t),Nqe=Cc(t=>Object.values(t)),MT=Cc(t=>Object.values(t).filter(e=>e.status!==Qs.SENT)),Aqe=()=>MT(d3(Kf.getState())),Pqe=()=>Kf(t=>Nqe(d3(t))),Iqe=()=>Kf(t=>MT(d3(t))),Bkt=t=>Kf(e=>{if(t)return d3(e)[t]}),Ukt=()=>Kf(t=>MT(d3(t)).length>0),Lqe=t=>{const[e,n]=g.useState(null),r=g.useCallback(a=>{n(i=>{if(!i)return[a];const l=[...i];for(let c=0;c<i.length;c++)l[c].id===a.id?l[c]=a:c===l.length-1&&l.push(a);return l})},[]),s=g.useCallback(()=>n(null),[]);return NR(bh.TurnComplete,async()=>{await t(),s()}),NR(bh.CanvasMessage,async({message:a})=>{var u;const{message:i}=a,{recipient:l,author:c}=i;(l!=null&&l.startsWith(zl)||(u=c.name)!=null&&u.startsWith(zl))&&r(i)}),e};function Rqe(t,e){return t.replace(new RegExp("\\\\(\\d+)|\\\\g<(?:(\\d+)|(\\D[^>]*))>|((?<!\\\\)\\\\(?:g(?:<[^>]*)?)?$)","gi"),(n,r,s,a,i)=>{var c,u,d;if(r==="0")return"\\0";const l=r!=null?r:s;if(l)return(c=e[ege(l)])!=null?c:"";if(a)return(d=(u=e.groups)==null?void 0:u[a])!=null?d:"";if(i)return"";throw new Error("Unreachable")})}function Oqe(t,e){var y;let n="",r=0,s=0,a=0,i=0,l=!1;const c=x=>{r+=x},u=x=>{r>s&&(n+=t.slice(s,r)),r=s=r+x},d=x=>{u(0),n+=x},f=()=>{d("\\"),c(1)},m=x=>{if(r+x<t.length)return t[r+x]},p=(x,b=0)=>r+b<t.length&&x===t[r+b],h=x=>{const b=t.indexOf(x,r);if(b===-1)u(t.length-r);else return b-r},v=x=>{let b=1;if(m(x)==="\\"){const w=m(x+1);b=w==="U"?10:w==="u"?6:w==="x"?4:2}const _=r+x+b>t.length;return _&&u(t.length-r),_};for(;r<t.length;){if(p("\\")){if(v(0))continue;const _=(y=m(1))!=null?y:"";if(_==="a")u(2),d("\\x07");else if(_==="A")u(2),d("^");else if(_==="z")u(2),d("$");else if(_==="Z")u(2),d("(?=\\n?$)");else if(_==="U"){const w=t.slice(r+2,r+10);u(10),d("\\u{".concat(parseInt(w,16).toString(16),"}"))}else if(_==="u")c(6);else if(_==="x")c(4);else{let w;l?w=/[0bdDsSwWfnrtv()[\]{}|/\\^-]/.test(_):/[1-9]/.test(_)?w=parseInt(_,10)<=i:w=/[0bBdDsSwWfnrtv()[\]{}|/\\^$.?*+]/.test(_),w?c(2):u(1)}continue}if(p("]")){l?(l=!1,c(1)):f();continue}else if(l){if(p("-")&&v(1))continue;/[()[\]{}|/\\]/.test(t[r])?f():c(1);continue}else if(p("[")){l=!0,c(1),p("]")&&f();continue}if(p("|")&&v(1))continue;if(p("{")){const _=/^\{(?:\d+(?:,\d*)?(\}|$)|$)/.exec(t.slice(r));r>0&&(_==null?void 0:_[1])==="}"?c(_[0].length):r>0&&_&&e?u(_[0].length):f();continue}else if(p("}")){f();continue}if(p("+")){const _=m(-1);_&&/[*+?}]/.test(_)&&m(-2)!=="\\"?u(1):c(1);continue}if(p(")")){a>0?(a--,c(1)):f();continue}if(!p("(")){c(1);continue}if(v(1))continue;if(m(1)!=="?"){a++,i++,c(1);continue}if(v(2))continue;const x=m(2);if(!x){u(2);continue}if(x==="#"){const _=h(")");_&&u(1+_);continue}if(x==="P"){if(m(3)==="="){const _=h(")");if(_){const w=t.slice(r+4,r+_);u(1+_),d("\\k<".concat(w,">"))}}else{const _=h(">");if(_){const w=t.slice(r+4,r+_);if(u(1+_),v(0))continue;d("(?<".concat(w,">")),a++}}continue}if(/[-a-z]/.test(x)){const _=t.indexOf(":",r)>=0,w=h(_?":":")");if(w&&u(1+w),_){if(v(0))continue;d("(?:"),a++}continue}if(x===">"){if(u(3),v(0))continue;d("(?:"),a++;continue}const b=x==="<"?4:3;v(b)||(c(b),a++)}for(n+=t.slice(s,t.length),l&&(n+="]");a-- >0;)n+=")";return n.length>0?n:"(?!)"}function vO(t){const e=[/^`{1,3}\s*$/,/^```[^\n]*\n?/],n=[/\n?`{1,3}\s*$/];for(const r of e)if(r.test(t)){t=t.replace(r,"");break}for(const r of n)if(r.test(t)){t=t.replace(r,"");break}return t}function Joe(t){let e=t;return e=e.replace(/\.[^/.]+$/,""),e=e.replace(/_/g," "),e=e.replace(/([a-z])([A-Z])/g,"$1 $2"),e.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" ")}function Nh(t,e){return e!=null||t!=null?{modelSelectionPositionRange:e,modelCursorPosition:t}:void 0}function Dqe(t,e,n){const r=[],s=e.start-e.end+n;for(const a of t){const i=Fqe(a.at,e,s);i&&r.push(i===a.at?a:P(C({},a),{at:i}))}return r}function Fqe(t,e,n){return e.start>=t.end?t:e.start<=t.start&&e.end>=t.end?null:e.end<=t.start?n===0?t:{start:t.start+n,end:t.end+n}:e.start<=t.start?{start:e.end+n,end:t.end+n}:e.end>=t.end?{start:t.start,end:e.start}:{start:t.start,end:t.end+n}}const Bqe=/[*_-\s\d.\\`]+$/;function RS(t,e){return e?t.replace(Bqe,""):t}function Xoe(t,e){return Nl(t,n=>{for(const r of e){if(r.kind===qn.CREATE){const s=Hqe(r);mp(n,s)}else{const s=n.textdocById[r.textdocId];if(!s){ve.addError("Attempted to apply canmore operation to an unknown target id",{textdocOp:r});continue}const a=s.versions[s.versions.length-1],i=eie(a,r);mp(n,i,Uqe(a,r))}r.textdocId&&(n.latestTextdocId=r.textdocId)}})}function Uqe(t,e){if(e.author.role===Ue.User)return t.messageId?!0:e.createdAt-t.createdAt>3600;switch(e.kind){case qn.REWRITE:return!0;case qn.EDIT:return e.messageId!==t.messageId;case qn.ADD_COMMENT:return!1;case qn.REMOVE_COMMENT:return!1}}function Hqe(t){var r,s;const e=!!t.isPartial,n=RS(t.content,e);return{textdocId:t.textdocId,versionInt:(r=t.versionInt)!=null?r:null,messageId:(s=t.messageId)!=null?s:null,title:t.title,type:t.type,content:n,createdAt:t.createdAt,status:e?ms.CREATING:ms.COMPLETE,comments:[],modelCursor:Nh(t.author.role===Ue.Assistant&&t.isPartial?n.length:void 0)}}function Vqe(t,e){if(!t.isPartial)return;if(t.isPartialRange)return Nh(void 0,t.at);const n=t.at.start+e.length;return Nh(n)}function eie(t,e){var n,r,s,a,i,l,c,u,d,f;switch(e.kind){case qn.REMOVE_COMMENT:return P(C({},t),{versionInt:(n=e.versionInt)!=null?n:t.versionInt,comments:t.comments.map(m=>m.id===e.commentId?P(C({},m),{status:e.reason===Goe.ACCEPT?LS.ACCEPT_INITIATED:LS.DISMISSED}):m)});case qn.REWRITE:{const m=t.status!==ms.COMPLETE||e.isPartial===!0,p=RS(e.content,m),h=e.author.role===Ue.Assistant&&e.isPartial?p.length:void 0;return P(C({},t),{versionInt:(r=e.versionInt)!=null?r:t.versionInt,messageId:(s=e.messageId)!=null?s:null,content:p,createdAt:e.createdAt,comments:(a=e.comments)!=null?a:t.comments,status:e.isPartial?ms.REWRITING:ms.COMPLETE,modelCursor:Nh(h)})}case qn.EDIT:{const m=e.isPartial&&e.isPartialRange?t.content.slice(e.at.start,e.at.end):RS(e.content,e.isPartial===!0),p=t.content.slice(0,e.at.start)+m+t.content.slice(e.at.end);return P(C({},t),{versionInt:(i=e.versionInt)!=null?i:t.versionInt,messageId:(l=e.messageId)!=null?l:null,content:p,createdAt:e.createdAt,status:e.isPartial?ms.UPDATING:ms.COMPLETE,comments:Dqe(t.comments,e.at,m.length),modelCursor:Vqe(e,m)})}case qn.ADD_COMMENT:{const m={id:(c=e.id)!=null?c:e.tempId,tempId:e.tempId,at:e.at,content:(u=e.content)!=null?u:""},p=t.comments.concat(m);return P(C({},t),{versionInt:(d=e.versionInt)!=null?d:t.versionInt,messageId:(f=e.messageId)!=null?f:null,createdAt:e.createdAt,status:e.isPartial?ms.COMMENTING:ms.COMPLETE,comments:p})}}}function $qe(t){let e="";const n=t.length;let r=0,s=0;for(;r<n;){let a=t.charCodeAt(r);if(a!==92){r++;continue}if(s<r&&(e+=t.slice(s,r)),r++,r>=n){e+="\\";break}switch(a=t.charCodeAt(r),a){case 110:e+="\n",r++;break;case 116:e+="	",r++;break;case 114:e+="\r",r++;break;case 98:e+="\b",r++;break;case 102:e+="\f",r++;break;case 118:e+="\v",r++;break;case 48:e+="\0",r++;break;case 39:e+="'",r++;break;case 34:e+='"',r++;break;case 92:e+="\\",r++;break;case 120:if(r+2<n){const i=parseInt(t.slice(r+1,r+3),16);if(!isNaN(i)){e+=String.fromCharCode(i),r+=3;break}}e+="\\x",r++;break;case 117:if(r+1<n)if(t.charAt(r+1)==="{"){const i=t.indexOf("}",r+2);if(i!==-1){const l=parseInt(t.slice(r+2,i),16);if(!isNaN(l)&&l<=1114111){e+=String.fromCodePoint(l),r=i+1;break}}}else{const i=parseInt(t.slice(r+1,r+5),16);if(!isNaN(i)){e+=String.fromCharCode(i),r+=5;break}}e+="\\u",r++;break;default:e+="\\"+t.charAt(r),r++;break}s=r}return s<n&&(e+=t.slice(s)),e}const yO=t=>t===" "||t==="\n"||t==="\r"||t==="	";function qqe(t,e=!1){let n=0,r=null;const s=[];if(!t)return[void 0,s];if(e)return[l(),s];try{return[JSON.parse(t),null]}catch(h){return r=h,[l(),s]}function a(){for(;n<t.length&&yO(t[n]);)n++;return n<t.length}function i(h){return a()&&t[n]===h?(n++,!0):!1}function l(){if(a())switch(t[n]){case"{":return f();case"[":return m();case'"':{const[h]=u();return h}case"f":return p("false",!1);case"t":return p("true",!0);case"n":return p("null",null);case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return d()}throw r}function c(h,v=!1){return v?$qe(h):h}function u(h=!1){const v=n+1;let y=!1;for(n++;n<t.length;){const x=t[n++];if(x==="\\"){if(y=!0,n===t.length||t[n]==="u"&&n+4>=t.length){const b=n-1;return n=t.length,[c(t.slice(v,b),y),!1]}n++;continue}if(x==='"'){let b=n;for(;b<t.length&&yO(t[b]);)b++;if(t[b]==null||t[b]===","||t[b]==="]"||t[b]==="}"||h&&t[b]===":")return[c(t.slice(v,n-1),y),!0]}}return[c(t.slice(v,n),y),!1]}function d(){const h=n;for(;n<t.length&&/[0-9.eE+-]/.test(t[n]);)n++;const v=Number(t.slice(h,n));if(isNaN(v)){if(a())throw r;return 0}return v}function f(){n++;const h={};if(i("}"))return h;for(;a();){const[v,y]=u(!0);if(!y||(s.push(v),!a()))break;if(!i(":"))throw r;if(!a()||(h[v]=l(),!a()))break;if(i("}")){s.pop();break}if(!i(","))throw r;s.pop()}return h}function m(){n++;const h=[];if(i("]"))return h;for(s.push(0);a()&&(h.push(l()),!!a());){if(i("]")){s.pop();break}if(!i(","))throw r;s[s.length-1]=h.length}return h}function p(h,v){const y=n+h.length;if(y<=t.length?t.slice(n,y)===h:h.startsWith(t.slice(n)))return n=y,v;throw r}}function gp(t,e,n=!1){try{const[r,s]=qqe(t);return[e(r),s]}catch(r){return n&&Xu.logError("JSON parsing",r),[void 0,[]]}}function Cm(t,e){return t!=null&&e.every((n,r)=>t[r]===n)}const zqe=Mo({type:Bl(No),name:Bl(No),content:Bl(No)}),Gqe=Mo({updates:uQ(Mo({pattern:Bl(No),multiple:Bl(dQ),replacement:Bl(No)}))}),Wqe=Mo({comments:uQ(Mo({pattern:Bl(No),comment:Bl(No)}))});function tie(t){var r;const e=t.author.name;if(!Yre(e))return null;const n=(r=t==null?void 0:t.metadata)==null?void 0:r.canvas;return{function:e,status:Kqe(t),textdocId:n==null?void 0:n.textdoc_id,type:(n==null?void 0:n.textdoc_type)&&Ou(n.textdoc_type),versionInt:Yqe(n),commentIds:n==null?void 0:n.comment_ids}}function nie(t,e,n){var u,d,f,m,p;const{id:r,author:s,recipient:a,create_time:i}=e;if(!i)throw new Error("Expected a create_time");const l=Ka(e),c=n&&tie(n);if((u=e==null?void 0:e.metadata)!=null&&u.is_redacted||(c==null?void 0:c.status)===Mt.REDACTED||l==="The output of this plugin was redacted.")return{function:a,status:Mt.REDACTED,messageId:r,author:s,createdAt:i};switch(a){case rr.CreateTextdoc:{const[h,v]=gp(l,zqe),y=(d=c==null?void 0:c.type)!=null?d:!(h!=null&&h.type)||Cm(v,["type"])?void 0:Ou(h.type);return{function:rr.CreateTextdoc,status:(f=c==null?void 0:c.status)!=null?f:l8(t,e,v!=null),messageId:r,author:s,createdAt:i,textdocId:c==null?void 0:c.textdocId,versionInt:c==null?void 0:c.versionInt,title:h==null?void 0:h.name,type:y,content:h==null?void 0:h.content}}case rr.UpdateTextdoc:{const[h,v]=gp(l,Gqe,!t),y=h==null?void 0:h.updates.map((x,b)=>P(C({},x),{isPartialPattern:Cm(v,["updates",b,"pattern"]),isPartial:Cm(v,["updates",b])}));return{function:rr.UpdateTextdoc,status:(m=c==null?void 0:c.status)!=null?m:l8(t,e,v!=null),messageId:r,author:s,createdAt:i,textdocId:c==null?void 0:c.textdocId,versionInt:c==null?void 0:c.versionInt,updates:y}}case rr.CommentTextdoc:{const[h,v]=gp(l,Wqe,!t),y=c==null?void 0:c.commentIds,x=h==null?void 0:h.comments.map((b,_)=>P(C({},b),{id:y==null?void 0:y[_],isPartialPattern:Cm(v,["comments",_,"pattern"]),isPartial:Cm(v,["comments",_])}));return{function:rr.CommentTextdoc,status:(p=c==null?void 0:c.status)!=null?p:l8(t,e,v!=null),messageId:r,author:s,createdAt:i,textdocId:c==null?void 0:c.textdocId,versionInt:c==null?void 0:c.versionInt,comments:x}}}}function rie(t){return Yre(t==null?void 0:t.recipient)}function Zqe(t,e=0){for(let n=e;n<t.length;n++)if(rie(t[n]))return!0;return!1}function l8(t,e,n){var s,a;return((a=(s=e==null?void 0:e.metadata)==null?void 0:s.finish_details)==null?void 0:a.type)==="interrupted"?Mt.CANCELED:t?n?Mt.STREAMING:Mt.WAITING:Mt.FAILED}function Kqe(t){var n,r;if((n=t==null?void 0:t.metadata)!=null&&n.is_redacted)return Mt.REDACTED;if((t==null?void 0:t.content.content_type)===rt.SystemError)return Mt.FAILED;const e=(r=t==null?void 0:t.metadata)==null?void 0:r.canvas;return e!=null&&e.is_failure!==!0?Mt.COMPLETE:Mt.FAILED}function Yqe(t){var e;return(e=t==null?void 0:t.version)!=null?e:t==null?void 0:t.version_int}const Qqe=5;function ET(t){let e=null;for(let n=0;n<t.length;n++){const r=t[n];if(rie(r)){const s=n+1<t.length&&t[n+1].author.name===r.recipient?t[n+1]:null;s&&n++,e?e.push([r,s]):e=[[r,s]]}}return e}function Jqe(t,e,n){let r=null;const s=ET(n);if(!s)return r;for(const[a,i]of s){const l=nie(t,a,i),c=Xqe(e,l);c&&(e&&(e=Xoe(e,c)),r?r=r.concat(c):r=c)}return r}const c8=Cc((t,e,n)=>{ve.addError(e,n)},([t],[e])=>t===e);function Xqe(t,e){var a,i,l,c,u,d,f;if(e.status===Mt.FAILED||e.status===Mt.CANCELED)return null;if(e.function===rr.CreateTextdoc){if(!e.type)return null;const m=kT(e.messageId),p=e.content&&jh(e.type)?vO(e.content):e.content;return[{kind:qn.CREATE,textdocId:(a=e.textdocId)!=null?a:m,versionInt:e.versionInt,messageId:e.messageId,author:e.author,createdAt:e.createdAt,tempTextdocId:m,title:Joe((i=e.title)!=null?i:""),type:e.type,content:p!=null?p:"",isPartial:e.status===Mt.STREAMING}]}const n=t==null?void 0:t.latestTextdocId,r=(l=e==null?void 0:e.textdocId)!=null?l:n;if(e.status===Mt.COMPLETE&&(n?e!=null&&e.textdocId&&e.textdocId!==n&&c8(e.messageId,"Attempted to parse canmore operation with incorrect client latest target id",{latestTextdocId:n,toolCall:e}):c8(e.messageId,"Attempted to parse canmore operation but latestTextdocId is unset",{toolCall:e})),!r)return null;const s=el((c=Oj(t,r))==null?void 0:c.versions);if(!s)return e.status===Mt.COMPLETE&&c8(e.messageId,"Attempted to parse canmore operation against unknown target id",{textdocId:r}),null;switch(e.function){case rr.UpdateTextdoc:{const m=[],p=(u=e.updates)!=null?u:[];for(let h=0;h<p.length;h++){const v=p[h];if(v.isPartialPattern&&v.pattern&&v.pattern.length<Qqe)continue;if(v.pattern===".*"){const b=v.replacement?jh(s.type)?vO(v.replacement):v.replacement:"";return[{kind:qn.REWRITE,textdocId:r,versionInt:e.versionInt,messageId:e.messageId,createdAt:e.createdAt,author:e.author,content:b,isPartial:e.status===Mt.STREAMING&&v.isPartial,comments:[]}]}const y=bO(v.pattern,v.isPartialPattern,v.multiple);if(!y)continue;let x=!1;for(const b of xO(s.content,y,v.multiple)){x=!0;const _=CO(b),w=v.replacement&&Rqe(v.replacement,b);for(const S of m)if(S.at.end<=_.start){if(!S.isPartialRange){const k=S.at.start-S.at.end+S.content.length;_.start+=k,_.end+=k}}else S.at.start<_.end;m.push({kind:qn.EDIT,textdocId:r,versionInt:e.versionInt,messageId:e.messageId,author:e.author,createdAt:e.createdAt,at:_,content:w!=null?w:"",isPartialRange:e.status===Mt.STREAMING&&v.isPartialPattern,isPartial:e.status===Mt.STREAMING&&v.isPartial})}if(!v.isPartialPattern&&!x)return null}return m.length>0?m:null}case rr.CommentTextdoc:{const m=[],p=(d=e.comments)!=null?d:[];for(let h=0;h<p.length;h++){const v=p[h],y=bO(v.pattern,v.isPartialPattern);if(!y)continue;let x=!1;for(const b of xO(s.content,y)){x=!0;const _=CO(b);_.end>_.start&&m.push({kind:qn.ADD_COMMENT,textdocId:r,versionInt:e.versionInt,messageId:e.messageId,author:e.author,createdAt:e.createdAt,id:v.id,tempId:Yoe(e.messageId,h),at:_,content:(f=v.comment)!=null?f:"",isPartialRange:e.status===Mt.STREAMING&&v.isPartialPattern,isPartial:e.status===Mt.STREAMING&&v.isPartial})}if(!v.isPartialPattern&&!x)return null}return m.length>0?m:null}}}function*xO(t,e,n=!1){if(n)yield*p7(t.matchAll(e));else{const r=t.match(e);r&&(yield r)}}function bO(t,e,n=!1){if(t)try{const r=Oqe(t,e);return new RegExp(r,n?"gsv":"sv")}catch(r){console.warn("Assistant returned invalid Regexp, dropping",{pattern:t,error:r})}}function CO(t){return{start:t.index,end:t.index+t[0].length}}const jT=()=>({lastFlushedAt:null,lastTriggeredAt:null}),TT=Rt(Sn(()=>({userEdits:{},timestamps:{}}))),{setState:i4}=TT,Hkt=t=>TT(({timestamps:e})=>{var n,r,s,a;return((r=(n=e[t])==null?void 0:n.lastTriggeredAt)!=null?r:0)>((a=(s=e[t])==null?void 0:s.lastFlushedAt)!=null?a:0)}),Vkt=t=>{i4(e=>{var n,r;(r=(n=e.timestamps)[t])!=null||(n[t]=jT()),e.timestamps[t].lastTriggeredAt=Date.now()})},$kt=({textdocId:t,basedOnVersionInt:e,content:n,comments:r})=>{i4(s=>{var a,i,l,c;(i=(a=s.timestamps)[t])!=null||(a[t]=jT()),s.timestamps[t].lastFlushedAt=Date.now(),(c=(l=s.userEdits)[t])!=null||(l[t]=[]),s.userEdits[t].push({content:n,basedOnVersionInt:e,nextVersionInt:null,isPending:!0,comments:r})})},qkt=({textdocId:t,basedOnVersionInt:e,newVersion:n})=>{i4(r=>{var s,a;(a=(s=r.userEdits)[t])!=null||(s[t]=[]);for(const i of r.userEdits[t])if(i.basedOnVersionInt===e){i.isPending=!1,i.nextVersionInt=n;break}})},eze=t=>{i4(e=>{for(const{textdocId:n,versionInt:r}of t){const s=e.userEdits[n];s&&(e.userEdits[n]=s.filter(a=>a.basedOnVersionInt>(r!=null?r:ki)),s.length===0&&(e.timestamps[n]=jT()))}})},tze=Cc(({userEdits:t})=>t),nze=Cc(t=>{const e=new Map;for(const[n,r]of Object.entries(t)){const s=el(r);if(!s)continue;const{content:a,comments:i,nextVersionInt:l,basedOnVersionInt:c}=s;e.set(n,{textdocId:n,comments:i,content:a,versionInt:l!=null?l:c})}return e}),rze=()=>TT(t=>nze(tze(t)));function sie(t){var e;return t.author.role===Ue.Assistant&&((e=t.recipient)==null?void 0:e.startsWith(vs.CANMORE))===!0}function aie(t){var e;return t.author.role===Ue.Tool&&((e=t.author.name)==null?void 0:e.startsWith(zl))===!0}const _O=(t,e)=>{var s,a,i;for(const l of e){const c=(s=l.metadata)==null?void 0:s.canvas;if(c!=null&&c.user_created_temp_textdoc_id&&(c!=null&&c.textdoc_id)){const{user_created_temp_textdoc_id:u,textdoc_id:d}=c;t=Nl(t,f=>{f.latestTextdocId=d,f.resolveTempTextdocId[u]=d})}}const n=Gu(e,l=>sie(l));for(let l=e.length-1;l>=0;l--){const{metadata:c}=e[l],u=c==null?void 0:c.canvas,d=(i=(a=c==null?void 0:c.open_in_canvas_view)==null?void 0:a.id)!=null?i:u==null?void 0:u.textdoc_id;if(d){t=Nl(t,f=>{f.latestTextdocId=d!=null?d:null,n&&(f.lastCanvasAssistantMessageById[d]=n.id)});break}}const r=ET(e);if(!r)return t;for(const[l,c]of r){const u=c&&tie(c);u&&(t=Nl(t,d=>{if(u.function===rr.CreateTextdoc){const{textdocId:f}=u;f&&(d.resolveTempTextdocId[kT(l.id)]=f)}else if(u.function===rr.CommentTextdoc){const{commentIds:f=[]}=u;for(let m=0;m<f.length;m++){const p=f[m],h=Yoe(l.id,m);d.resolveTempCommentId[p]=h}}}))}return t},sze=(t,e,n)=>{const r=st(t),s=se.getTree(r),a=se.getVariantIds(r,n.messages[0].id);if(a.length<2)return _O(e,n.messages);for(const i of a){const l=s.getLeafFromNode(i).id,c=se.getConversationLastTurn(r,l);c&&(e=_O(e,c.messages))}return e};function aze(){return new WeakMap}function oie(t,e,n,r){const s=n[r];let a=e.get(s);if(!a){const i=r===0?zre():oie(t,e,n,r-1);a=sze(t,i,s),e.set(s,a)}return a}function oze(t,e,n){return n.length===0?null:oie(t,e,n,n.length-1)}function ize(t,e){const[n]=g.useState(aze);return g.useMemo(()=>oze(t,n,e),[n,t,e])}function iie(t,e){const n=[];let r=0,s=0;for(const a of e)n[s]=r,r+=a.length,s+=1;return n[s]=r,t.map(a=>{const{start:i,end:l}=a;return{start:n[i],end:n[l]}})}function lze(t,e){const n=[];let r=0,s=0;for(const a of e)n[r]=s,a.length===2?(n[r+1]=s,r+=2):r+=1,s+=1;return n[r]=s,t.map(a=>{const{start:i,end:l}=a;return{start:n[i],end:n[l]}})}function OS(t,e){const n=t.map(({content:a,id:i,start:l,end:c})=>({id:i,at:{start:l,end:c},content:a})),r=n.map(a=>a.at),s=iie(r,e);return n.map((a,i)=>P(C({},a),{at:s[i]}))}function zkt(t,e){const n=t.map(a=>a.at),r=lze(n,e);return t.map((a,i)=>P(C({},a),{at:r[i]})).map(({content:a,id:i,at:l})=>({id:i,start:l.start,end:l.end,content:a}))}const cze=(t,e)=>{const n=iie(e,t),r=[];for(let a=0;a<n.length;a++){const{start:i}=n[a];let l=0;const c=n.slice(0,a).entries();for(const[u,d]of c)if(i>d.start||i>d.end){const f=d.end-d.start,m=e[u].content.length;l+=m-f}r.push(l)}const s=[];for(let a=0;a<n.length;a++){const{content:i}=e[a],l=n[a],{start:c}=l,u=r[a],d={start:c+u,end:c+u+i.length};s.push({id:"edit-".concat(a),content:i,positionBefore:l,positionAfter:d})}return s},uze=(t,e)=>ue.safeGet("/textdoc/{textdoc_id}/diff/{version}",{parameters:{path:{textdoc_id:t,version:e}}});function dze(t,e){const n=t.filter(r=>r.op_type==="edit");return cze(e,n)}const fze=async(t,e)=>{if(e===1)return null;const{content_before:n,content_after:r,comments_before:s,comments_after:a,operations:i}=await uze(t,e!=null?e:-1);return{edits:dze(i,n),contentBefore:n,contentAfter:r,commentsBefore:OS(s,n),commentsAfter:OS(a,r)}},lie=(t,e)=>Ho({queryKey:[t,e,"edit"],enabled:e!=null,gcTime:1e3*60*5,queryFn:()=>fze(t,e)}),cie=Rt(()=>({optimisticRestore:null})),{setState:gg,getState:mze}=cie;function pze(t){gg(e=>{var n;if(e.optimisticRestore){for(const{textdocId:r,versionInt:s}of t)if(e.optimisticRestore.textdocId===r&&e.optimisticRestore.versionInt!==-1&&((n=e.optimisticRestore.versionInt)!=null?n:ki)<=(s!=null?s:ki))return{optimisticRestore:null}}return e})}function uie(){return cie(t=>t.optimisticRestore)}function Gkt(t,e,n){const r=pt(),{mutateAsync:s}=Vt({mutationKey:["canvas","textdoc","persist"],mutationFn:gze,onSuccess:()=>{t&&r.invalidateQueries({queryKey:[t,"textdocs"]})}}),a=uie(),i=g.useCallback(async()=>{if(!e||!n||e.versionInt==null||n.versionInt==null||mze().optimisticRestore!=null)return;const{textdocId:l,versionInt:c}=e,u=n.versionInt,d=P(C({},n),{versionInt:-1});gg(()=>({optimisticRestore:d})),Vre(l);try{const f=await s({textdocId:l,versionInt:c,restoreFromVersionInt:u});gg(m=>({optimisticRestore:m.optimisticRestore&&P(C({},m.optimisticRestore),{versionInt:f})}))}catch(f){gg(()=>({optimisticRestore:null})),POe(l,{version:u})}},[e,n,s]);return{optimisticRestoredTextdocVersion:a,restoreHistoricalTextdocVersion:i}}async function gze({textdocId:t,versionInt:e,restoreFromVersionInt:n}){return(await ue.safePost("/textdoc/{textdoc_id}/restore",{parameters:{path:{textdoc_id:t}},requestBody:{version:e,restore_from_version:n}})).version}const hze=async({lastVersion:t,textdocId:e,commentId:n,reason:r})=>(await ue.safeDelete("/textdoc/{textdoc_id}/{version}/comment/{comment_id}",{parameters:{query:{reason:r},path:{textdoc_id:e,version:String(t),comment_id:n}}})).version,DS=Rt(()=>({persistingOp:null,ops:[]})),{setState:hg,getState:vze}=DS,yze=()=>{const t=DS(({ops:n})=>n),e=DS(({persistingOp:n})=>n);return g.useMemo(()=>[...t,e].filter(qM),[t,e])},xze=t=>{hg(e=>{let n=e.ops;for(const{textdocId:r,versionInt:s}of t)n=n.filter(a=>{var i;return a.textdocId!==r||((i=a.versionInt)!=null?i:ki)>(s!=null?s:ki)});return{ops:n}})},Wkt=t=>g.useCallback(async(e,n)=>{const r=!!vze().persistingOp,s=t==null?void 0:t.versionInt,a=t==null?void 0:t.textdocId;if(r||s==null||a==null)return!1;const i={kind:qn.REMOVE_COMMENT,textdocId:a,author:{role:Ue.User},versionInt:s,createdAt:Date.now()/1e3,commentId:e,reason:n};hg(({ops:l})=>({ops:l,isPersisting:!0,persistingOp:i}));try{const l=await hze({lastVersion:s,textdocId:a,commentId:e,reason:n});return hg(({ops:c})=>({ops:[...c,P(C({},i),{versionInt:l})],isPersisting:!1,persistingOp:null})),l}catch(l){return hg(({ops:c})=>({ops:c,isPersisting:!1,persistingOp:null})),!1}},[t]),NT=()=>{const t=q();return ie(t,"2928249761")};function bze(t){var n,r;const e=(r=(n=t.metadata)==null?void 0:n.open_in_canvas_view)==null?void 0:r.id;return e!=null?e:null}const Cze=async t=>await ue.safeGet("/conversation/{conversation_id}/textdocs",{parameters:{path:{conversation_id:t}}}).catch(e=>(Xu.logError("Failed to fetch persisted textdocs",e,{clientThreadId:t}),[])),_ze=async t=>{const e=await Cze(t),n=new Map(e.map(a=>[a.id,a])),r=[];for(const{id:a,content:i,version:l,textdoc_type:c,title:u,comments:d,metadata:f}of e)r.push({textdocId:a,messageId:null,type:Ou(c),comments:OS(d,i),status:ms.COMPLETE,title:u,content:i,versionInt:l,createdAt:0,metadata:{content_references:f==null?void 0:f.content_references,hive_id:f==null?void 0:f.hive_id}});return{persistedTextdocVersionById:new Map(r.map(a=>[a.textdocId,a])),persistedTextdocVersions:r,persistedTextdocById:n}};function wze(t){const e=q(),n=NT(),r=ie(e,"3959994305")||n,s=kn(t),[a,i]=Te(t,h=>[se.isMessageTurnEnded(h),se.lastUserMessage(h)]),l=i&&!!bze(i),c=!!s&&Et(e)&&(!r||a||!!l),{data:u,error:d,isLoading:f,isFetching:m,refetch:p}=ut({queryKey:[s,"textdocs"],enabled:c,queryFn:s?()=>_ze(s):tM});return g.useEffect(()=>{if(!u)return;const{persistedTextdocVersions:h}=u;xze(h),eze(h),pze(h)},[u]),[P(C({},u),{error:d,isEnabled:c,isLoading:f,isFetching:m}),p]}var Ah=(t=>(t[t.INITIALIZING=0]="INITIALIZING",t[t.READY=1]="READY",t[t.REFETCHING=2]="REFETCHING",t))(Ah||{});function die(t){"use forget";const e=ee.c(14),[n,r]=wze(t),{error:s,persistedTextdocVersionById:a,isEnabled:i,isLoading:l,isFetching:c}=n,u=a===void 0?null:a,d=pt();let f;e[0]!==t||e[1]!==d||e[2]!==r?(f=()=>{var _,w,S,k,M;const v=se.getConversationLastTurn(st(t)),y=(_=v==null?void 0:v.messages)!=null?_:[],x=Gu(y,kze),b=y.some(Sze);if(x){const E=(S=(w=x.metadata)==null?void 0:w.canvas)==null?void 0:S.textdoc_id,T=(M=(k=x.metadata)==null?void 0:k.canvas)==null?void 0:M.version;E!=null&&T!=null&&d.prefetchQuery(lie(E,T))}(x||b)&&r()},e[0]=t,e[1]=d,e[2]=r,e[3]=f):f=e[3],UE(f);let m;e[4]!==i||e[5]!==c||e[6]!==l||e[7]!==u?(m=0,u&&c?m=2:(!i||u&&!c&&!l)&&(m=1),e[4]=i,e[5]=c,e[6]=l,e[7]=u,e[8]=m):m=e[8];let p,h;return e[9]!==s||e[10]!==u||e[11]!==r||e[12]!==m?(h={status:m,fetchError:s,textdocVersionById:u,refetch:r},e[9]=s,e[10]=u,e[11]=r,e[12]=m,e[13]=h):h=e[13],p=h,p}function Sze(t){var e,n;return((n=(e=t.metadata)==null?void 0:e.canvas)==null?void 0:n.user_created_temp_textdoc_id)!=null}function kze(t){return aie(t)}const wO=t=>{if(!t)return;const{messages:e}=t,n=dae(e!=null?e:[],s=>s.author.role===Ue.System||s.author.role===Ue.Developer),r=n===-1?e:e==null?void 0:e.slice(n+1);if(r&&Zqe(r))return r},Mze=({lastTurn:t,clientThreadId:e,isRequestActive:n,persistedTextdocStoreStatus:r})=>{const[s,a]=g.useState(!0),i=n||!s||r!==Ah.READY,l=g.useMemo(()=>{if(!t)return null;const u=st(e),d=se.getTree(u),f=se.getVariantIds(u,t.messages[0].id);return f.length<2?null:f.map(m=>{const p=d.getLeafFromNode(m).id;return se.getConversationLastTurn(u,p)})},[e,t]);return[g.useMemo(()=>{var u,d;return!i||!t?null:l?(d=l.flatMap(wO).filter(qM))!=null?d:null:(u=wO(t))!=null?u:null},[i,t,l]),a]};class fie{constructor(e,n,r,s){Q(this,"sentLength",null);Q(this,"sentIsComplete",null);Q(this,"bufferedLength");Q(this,"requestUpdateRaf",null);Q(this,"prevBuffer");Q(this,"nextBuffer");this.targetLength=e,this.isActivelyStreaming=n,this.onUpdate=s,this.bufferedLength=r?0:this.targetLength,r&&!r.isComplete()?(r.nextBuffer=this,this.prevBuffer=r):r!=null&&r.isComplete()&&(this.bufferedLength=this.targetLength)}setTargetLength(e,n){e<this.bufferedLength&&(this.bufferedLength=e),this.targetLength=e,this.isActivelyStreaming=n,this.shouldUpdate()&&this.updateBufferedState()}shouldUpdate(){return!this.prevBuffer&&(this.isBuffering()||this.sentIsComplete!==this.isComplete())}isBuffering(){return this.bufferedLength<this.targetLength}isComplete(){return!this.prevBuffer&&!this.isActivelyStreaming&&!this.isBuffering()}getTotalRemainingLength(){let e=this.targetLength,n=this.nextBuffer;for(;n;)e+=n.targetLength,n=n.nextBuffer;return e-this.bufferedLength}requestUpdate(){this.requestUpdateRaf||this.sentLength===this.bufferedLength&&this.sentIsComplete===this.isComplete()||(this.requestUpdateRaf=window.requestAnimationFrame(()=>{this.requestUpdateRaf=null;const e=this.isComplete();this.sentLength=this.bufferedLength,this.sentIsComplete=e,this.onUpdate(this.bufferedLength,e),e&&this.resolveDependency()}))}resolveDependency(){if(this.nextBuffer){const e=this.nextBuffer;this.nextBuffer=e.prevBuffer=void 0,e.shouldUpdate()&&e.updateBufferedState()}}destroy(){this.resolveDependency(),this.requestUpdateRaf&&(window.cancelAnimationFrame(this.requestUpdateRaf),this.requestUpdateRaf=null)}}const Qc=class Qc extends fie{constructor(){super(...arguments);Q(this,"frameRequestId");Q(this,"prevAddFrameTime")}updateBufferedState(){if(!this.frameRequestId){const n=this.getTotalRemainingLength(),r=Math.max(Qc.MIN_BUFFERING_CHAR_PER_MS,n/Qc.MAX_BUFFERING_LAG_MS);this.frameRequestId=window.requestAnimationFrame(s=>{this.frameRequestId=void 0;const a=this.prevAddFrameTime===void 0?2/Qc.MIN_BUFFERING_CHAR_PER_MS:s-this.prevAddFrameTime,i=Math.floor(r*a);i>0&&(this.prevAddFrameTime=s,this.bufferedLength=Math.min(this.bufferedLength+i,this.targetLength)),this.requestUpdate(),this.shouldUpdate()&&this.updateBufferedState()})}}destroy(){super.destroy(),this.frameRequestId&&window.cancelAnimationFrame(this.frameRequestId)}};Q(Qc,"MAX_BUFFERING_LAG_MS",500),Q(Qc,"MIN_BUFFERING_CHAR_PER_MS",1/30);let FS=Qc;class AT extends fie{constructor(e,n,r,s){super(Lg(e).length,r,s,(a,i)=>n(tge(this.textMessageParts,a),i)),this.textMessageParts=e}onMessagePartsUpdated(e,n){this.textMessageParts=e,this.setTargetLength(Lg(e).length,n)}removeDelayedRender(){return!this.isBuffering()}}class Zkt extends AT{constructor(n,r,s,a){super(n,r,s,a);Q(this,"ALPHA",.1);Q(this,"DIV",1.2);Q(this,"MUL",1.5);Q(this,"minRate",1);Q(this,"expectedDisplayInterval",.05);Q(this,"displayNextChunkTimeout");Q(this,"_rate",this.minRate);Q(this,"_lastArrival",null);Q(this,"_lastDrain",0);Q(this,"_drainCarry",0);Q(this,"_lastTargetLength",0);this.updateReactComponentDisplay=r}removeDelayedRender(){return this.bufferedLength>1}calculateBufferLength(){if(!this.isActivelyStreaming){this.bufferedLength<this.targetLength&&(this.bufferedLength=this.targetLength,this.requestUpdate());return}const n=performance.now()/1e3,r=this.targetLength-this._lastTargetLength;if(this._lastTargetLength=this.targetLength,r>0){if(this._lastArrival!=null){const c=Math.max(n-this._lastArrival,10),u=r/c;this._rate=Math.max(this.minRate,this.ALPHA*u+(1-this.ALPHA)*this._rate)}else this._rate=r;this._lastArrival=n}const s=n-this._lastDrain;this._lastDrain=n;const a=this.targetLength-this.bufferedLength;for(let c=0;c<(s+this._drainCarry)/this.expectedDisplayInterval;c++)a&&a<this._rate*this.MUL&&(this._rate=(a+this._rate*this.MUL)/2),a>this._rate/this.DIV&&(this._rate=(a+this._rate/this.DIV)/2);this._rate=Math.max(this.minRate,this._rate);const i=s*this._rate+this._drainCarry,l=Math.floor(i);this._drainCarry=i-l,l>=1&&(this.bufferedLength=Math.min(this.bufferedLength+l,this.targetLength)),this.requestUpdate()}updateBufferedState(){this.calculateBufferLength(),this.displayNextChunkTimeout||(this.displayNextChunkTimeout=window.setTimeout(()=>{this.displayNextChunkTimeout=void 0,this.shouldUpdate()&&this.updateBufferedState()},50))}destroy(){super.destroy(),window.clearTimeout(this.displayNextChunkTimeout)}}const gi=class gi extends AT{constructor(n,r,s,a){super(n,r,s,a);Q(this,"displayNextChunkTimeout");this.updateReactComponentDisplay=r}updateBufferedState(){const n=this.getTotalRemainingLength(),r=n<gi.MIN_CHARS_BEHIND_TO_CATCHUP?this.targetLength-this.bufferedLength:Math.ceil(n*gi.UPDATE_FREQUENCY_MS/gi.CATCHUP_TIME_MS);this.bufferedLength=Math.min(this.bufferedLength+r,this.targetLength),this.requestUpdate(),this.displayNextChunkTimeout||(this.displayNextChunkTimeout=window.setTimeout(()=>{this.displayNextChunkTimeout=void 0,this.shouldUpdate()&&this.updateBufferedState()},gi.UPDATE_FREQUENCY_MS))}destroy(){super.destroy(),window.clearTimeout(this.displayNextChunkTimeout)}};Q(gi,"MIN_CHARS_BEHIND_TO_CATCHUP",5),Q(gi,"CATCHUP_TIME_MS",300),Q(gi,"UPDATE_FREQUENCY_MS",30);let Ph=gi;const _2=15,u8=8;class SO extends AT{constructor(n,r,s,a,i){var l;super(n,r,s,a);Q(this,"LAG_FACTORS",C({".":_2,"!":_2,"?":_2,"\n":_2,",":u8,":":u8,";":u8,DEFAULT_LAG_FACTOR:.9,BUFFER_FACTOR:.08},typeof window<"u"&&window.__PUNCTUATION_BUFFER_LAG_FACTORS));Q(this,"concatenatedText");Q(this,"displayNextCharTimeout");Q(this,"debug");Q(this,"streamStartMs");Q(this,"averageMsPerChar");Q(this,"_throttledDebugLog",E6(n=>{console.debug(n)},500,{leading:!0,trailing:!0}));this.updateReactComponentDisplay=r,this.concatenatedText=Lg(this.textMessageParts),this.debug=(l=i==null?void 0:i.debug)!=null?l:!1,this.streamStartMs=0,this.averageMsPerChar=0,this.debug&&console.debug(["PunctuationBuffer:","[lagFactors: ".concat(JSON.stringify(this.LAG_FACTORS,null,2),"]")].join("\n"))}displayNextChar(){this.displayNextCharTimeout=void 0,this.shouldUpdate()&&(this.bufferedLength++,this.requestUpdate(),this.displayNextCharTimeout=window.setTimeout(()=>this.displayNextChar(),this._getNextCharDelayMs()))}updateBufferedState(){this.concatenatedText=Lg(this.textMessageParts),this.streamStartMs===0?this.streamStartMs=Date.now():this.averageMsPerChar=(Date.now()-this.streamStartMs)/this.targetLength,this.displayNextCharTimeout||this.displayNextChar()}destroy(){super.destroy(),window.clearTimeout(this.displayNextCharTimeout)}_getNextCharDelayMs(){var l;const n=this.concatenatedText[this.bufferedLength-1],r=this.getTotalRemainingLength(),s=1/Math.max(r*this.LAG_FACTORS.BUFFER_FACTOR,1),a=((l=this.LAG_FACTORS[n])!=null?l:this.LAG_FACTORS.DEFAULT_LAG_FACTOR)*s,i=this.averageMsPerChar*a;return this.debug&&this._throttledDebugLog(["PunctuationBuffer:","[lagMs: ".concat(i,"]"),'[lastChar: "'.concat(n,'"]'),"[averageMsPerChar: ".concat(this.averageMsPerChar,"]"),"[lagFactor: ".concat(a,"]"),"[bufferLagFactor: ".concat(s,"]"),"[remainingLength: ".concat(r,"]"),"==="].join("\n")),i}}function Eze(t){return t.type==="text"}class Ih{constructor(e,n,r="",s,a){Q(this,"buffer");Q(this,"text");this.buffer=new e([r],(i,l)=>{const c=i.filter(Eze).map(u=>u.text).join("");n(c,l)},s,a),this.text=r}setText(e,n=!0){this.text=e,this.buffer.onMessagePartsUpdated([this.text],n)}isBuffering(){return this.buffer.isBuffering()}isComplete(){return this.buffer.isComplete()}destroy(){return this.buffer.destroy()}}function jze(t,e,n){var c;const[r,s]=g.useState(null),a=(c=e==null?void 0:e.length)!=null?c:0,i=a>0,l=g.useRef(new Map);return g.useEffect(()=>{if(e)for(const u of e){const{messageId:d}=u;if(d==null||l.current.has(d))continue;const f=new Tze((m,p)=>{if(s(h=>P(C({},h),{[d]:m})),!!p){for(const[h,v]of l.current.entries())if(h!==d&&!v.isComplete())return;n(!0)}});l.current.set(d,f)}},[a]),g.useEffect(()=>{const u=l.current;return()=>{for(const d of u.values())d.destroy()}},[i]),g.useEffect(()=>{if(!i)return s(null);const u=j0(e,"messageId");for(const[d,f]of Object.entries(u)){const m=l.current.get(d);m&&m.setTextdocOps(f,!t)}},[i,t,e]),g.useMemo(()=>!i||!r?null:Object.values(r).flatMap(u=>u!=null?u:[]),[i,r])}class Tze{constructor(e){Q(this,"bufferedOps",[]);Q(this,"isFinishedStreaming",!1);Q(this,"rangeBuffers",[]);Q(this,"textBuffers",[]);Q(this,"completeCounters",[]);Q(this,"lastBuffer");this.onUpdate=e}destroy(){for(const e of this.rangeBuffers)e==null||e.destroy();for(const e of this.textBuffers)e==null||e.destroy();this.isFinishedStreaming=!0,this.rangeBuffers=[],this.textBuffers=[],this.completeCounters=[],this.lastBuffer=void 0}isBuffering(){var e,n,r,s;return!(((n=(e=this.lastBuffer)==null?void 0:e.isComplete())==null||n)&&((s=(r=el(this.completeCounters))==null?void 0:r.isComplete())==null||s))}getNonEmptyBufferedOpsOrNull(){return this.bufferedOps&&this.bufferedOps.length>0?this.bufferedOps:null}isComplete(){return this.isFinishedStreaming&&!this.isBuffering()}setTextdocOps(e,n){if(this.isFinishedStreaming=n,e)for(let r=0;r<e.length;r++){const s=e[r];if(s.author.role===Ue.Assistant)switch(s.kind){case qn.CREATE:case qn.REWRITE:this.setAllContentOpAtIndex(s,r);break;case qn.EDIT:case qn.ADD_COMMENT:this.setRangeAndContentOpAtIndex(s,r);break;default:this.setUnbufferedOpAtIndex(s,r)}else this.setUnbufferedOpAtIndex(s,r)}n&&(e?this.isBuffering()||this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),!0):(this.destroy(),this.update(()=>null)))}update(e){const n=this.bufferedOps;this.bufferedOps=k6(n,e),this.bufferedOps!==n&&this.onUpdate(this.getNonEmptyBufferedOpsOrNull(),this.isComplete())}getBufferedAllContentOp(e,n,r){let s=e[r];return s||(s=P(C({},n),{content:""}),e[r]=s),s}setAllContentOpAtIndex(e,n){const{content:r,isPartial:s=!1}=e;let a=this.textBuffers[n];a?(a.setText(r,s),e.kind===qn.CREATE&&this.update(i=>{const l=this.getBufferedAllContentOp(i,e,n);l.textdocId=e.textdocId})):(a=new Ih(Ph,(i,l)=>{this.update(c=>{const u=this.getBufferedAllContentOp(c,e,n);u.content=i,u.isPartial=!l})},r,s,this.lastBuffer),this.textBuffers[n]=a,this.lastBuffer=a.buffer)}getBufferedRangeAndContentOp(e,n,r){let s=e[r];return s||(s=P(C({},n),{at:{start:n.at.start,end:n.at.start},content:"",isPartial:!0,isPartialRange:!0}),e[r]=s),s}setRangeAndContentOpAtIndex(e,n){const{at:r,content:s,isPartialRange:a=!1,isPartial:i=!1}=e;let l=this.completeCounters[n];l||(l=new Nze(()=>{this.update(d=>{const f=this.getBufferedRangeAndContentOp(d,e,n);f.isPartial=!1})}),l.update("original",!1),this.completeCounters[n]=l);let c=this.rangeBuffers[n];c?(this.update(d=>{const f=this.getBufferedRangeAndContentOp(d,e,n);if(f.at.start!==r.start){const m=f.at.end-f.at.start;f.at={start:r.start,end:r.start+m}}}),c.setTargetLength(r.end-r.start,a)):(c=new FS(0,a,this.lastBuffer,(d,f)=>{this.update(m=>{const p=this.getBufferedRangeAndContentOp(m,e,n);p.at.end=p.at.start+d,p.isPartialRange=!f}),l.update("range",f)}),this.rangeBuffers[n]=c,this.lastBuffer=c,l.update("range",!1));let u=this.textBuffers[n];u?u.setText(s!=null?s:"",i):(u=new Ih(Ph,(d,f)=>{this.update(m=>{const p=this.getBufferedRangeAndContentOp(m,e,n);p.content=d}),l.update("content",f)},s,i,this.lastBuffer),this.textBuffers[n]=u,this.lastBuffer=u.buffer,l.update("content",!1)),l.update("original",!i)}setUnbufferedOpAtIndex(e,n){this.update(r=>{r[n]=e})}}class Nze{constructor(e){Q(this,"keyStates",new Set);Q(this,"onComplete");this.onComplete=e}isComplete(){return this.onComplete==null}update(e,n){if(!n)this.keyStates.add(e);else if(this.keyStates.delete(e),this.keyStates.size===0&&this.onComplete){const r=this.onComplete;this.onComplete=null,r()}}}function Aze(t){const e=Z(),n=Tt();UE(()=>{var a,i;const r=se.getConversationLastTurn(st(t)),s=Gu(r==null?void 0:r.messages,l=>sie(l));((i=(a=s==null?void 0:s.metadata)==null?void 0:a.finish_details)==null?void 0:i.type)==="max_tokens"&&kqe(n,e,4)})}function Pze(t){const[e,n]=Te(t,S=>[se.getRequestId(S),se.getConversationTurns(S)],{disablePerfDetector:!0}),r=eo(e),s=die(t),a=rze(),i=Lqe(()=>Promise.allSettled([s.refetch(),fa(t)])),[l,c]=Mze({isRequestActive:r,lastTurn:el(n),clientThreadId:t,persistedTextdocStoreStatus:s.status}),u=i!=null?i:l,d=!!i||r,f=u?i?SS.NATIVE:SS.LAST_TURN:null,m=ize(t,n),p=uie(),h=yze(),v=Pqe(),y=g.useMemo(()=>{let S=zre(m);const{textdocVersionById:k,fetchError:M,status:E}=s;return S=Nl(S,T=>{var j,A,I,L;T.fetchError=M,T.isFetchingFromPersistence=E===Ah.REFETCHING||E===Ah.INITIALIZING;for(const{tempTextdocId:O,status:R,createdAt:H,type:V,title:z,content:$}of v){const D=(j=T.resolveTempTextdocId[O])!=null?j:O;mp(T,{textdocId:D,title:z,type:V,content:$,createdAt:H,versionInt:0,comments:[],messageId:null,status:R===Qs.SENT?ms.ATTACHED_SENT:ms.ATTACHED_PENDING})}if(k)for(const[O,R]of k.entries()){T.allTextdocIdSet[O]=O;const H=a.get(O);let V=H&&((A=H.versionInt)!=null?A:ki)>((I=R.versionInt)!=null?I:ki)?C(C({},R),H):R;const z=h.filter(D=>D.textdocId===O&&D.kind===qn.REMOVE_COMMENT);let $=V.versionInt;for(const D of z)V=eie(V,D),$=Math.max($!=null?$:ki,(L=D.versionInt)!=null?L:ki);V=P(C({},V),{versionInt:$}),T.textdocById[O]=void 0,mp(T,V)}}),p?Nl(S,T=>{mp(T,p,!1)}):S},[v,m,s,a,p,h]),x=g.useMemo(()=>u!=null&&u.length?Jqe(d,y,u):null,[u,d,y]),b=g.useMemo(()=>Nl(y,S=>{for(const k of x!=null?x:[])if(k.messageId&&(S.lastCanvasAssistantMessageById[k.textdocId]=k.messageId),k.kind===qn.CREATE){const{tempTextdocId:M,textdocId:E}=k;M&&E&&(S.resolveTempTextdocId[M]=E)}}),[x,y]),_=jze(d,x,c);return g.useMemo(()=>_?Nl(Xoe(b,_),S=>{S.streamingSource=f}):b,[b,f,_])}function Kkt({clientThreadId:t,children:e}){const n=Pze(t);return Aze(t),o.jsx(qre.Provider,{value:n,children:e})}const PT=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.33468 3.33333C9.33468 2.96617 9.6326 2.66847 9.99972 2.66829C10.367 2.66829 10.6648 2.96606 10.6648 3.33333V15.0609L15.363 10.3626L15.4675 10.2777C15.7255 10.1074 16.0762 10.1357 16.3034 10.3626C16.5631 10.6223 16.5631 11.0443 16.3034 11.304L10.4704 17.137C10.2108 17.3967 9.7897 17.3966 9.52999 17.137L3.69601 11.304L3.61105 11.1995C3.44054 10.9414 3.46874 10.5899 3.69601 10.3626C3.92328 10.1354 4.27479 10.1072 4.53292 10.2777L4.63741 10.3626L9.33468 15.0599V3.33333Z"})),Ykt=Object.freeze(Object.defineProperty({__proto__:null,default:PT},Symbol.toStringTag,{value:"Module"})),a1=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M7.52925 3.7793C7.75652 3.55203 8.10803 3.52383 8.36616 3.69434L8.47065 3.7793L14.2207 9.5293C14.4804 9.789 14.4804 10.211 14.2207 10.4707L8.47065 16.2207C8.21095 16.4804 7.78895 16.4804 7.52925 16.2207C7.26955 15.961 7.26955 15.539 7.52925 15.2793L12.8085 10L7.52925 4.7207L7.44429 4.61621C7.27378 4.35808 7.30198 4.00657 7.52925 3.7793Z"})),Qkt=Object.freeze(Object.defineProperty({__proto__:null,default:a1},Symbol.toStringTag,{value:"Module"}));function Ize(t,e){try{var n=global,r=n.document;if(typeof r<"u"&&r.createElement&&r.head&&r.head.appendChild){var s=r.querySelector('html meta[name="'.concat(encodeURI(t),'"]'))||r.createElement("meta");s.setAttribute("name",t),s.setAttribute("content",e),r.head.appendChild(s)}}catch(a){}}function Jkt(){Ize("react-scroll-to-bottom:version","4.2.0")}var kO={},w2,MO;function Jr(){if(MO)return w2;MO=1;var t=function(e){return e&&e.Math===Math&&e};return w2=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof Tg=="object"&&Tg)||function(){return this}()||w2||Function("return this")(),w2}var d8,EO;function jr(){return EO||(EO=1,d8=function(t){try{return!!t()}catch(e){return!0}}),d8}var f8,jO;function l4(){if(jO)return f8;jO=1;var t=jr();return f8=!t(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),f8}var m8,TO;function IT(){if(TO)return m8;TO=1;var t=l4(),e=Function.prototype,n=e.apply,r=e.call;return m8=typeof Reflect=="object"&&Reflect.apply||(t?r.bind(n):function(){return r.apply(n,arguments)}),m8}var p8,NO;function ur(){if(NO)return p8;NO=1;var t=l4(),e=Function.prototype,n=e.call,r=t&&e.bind.bind(n,n);return p8=t?r:function(s){return function(){return n.apply(s,arguments)}},p8}var g8,AO;function Yf(){if(AO)return g8;AO=1;var t=ur(),e=t({}.toString),n=t("".slice);return g8=function(r){return n(e(r),8,-1)},g8}var h8,PO;function LT(){if(PO)return h8;PO=1;var t=Yf(),e=ur();return h8=function(n){if(t(n)==="Function")return e(n)},h8}var v8,IO;function mie(){if(IO)return v8;IO=1;var t=typeof document=="object"&&document.all,e=typeof t>"u"&&t!==void 0;return v8={all:t,IS_HTMLDDA:e},v8}var y8,LO;function Tr(){if(LO)return y8;LO=1;var t=mie(),e=t.all;return y8=t.IS_HTMLDDA?function(n){return typeof n=="function"||n===e}:function(n){return typeof n=="function"},y8}var x8={},b8,RO;function Ss(){if(RO)return b8;RO=1;var t=jr();return b8=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),b8}var C8,OO;function Xo(){if(OO)return C8;OO=1;var t=l4(),e=Function.prototype.call;return C8=t?e.bind(e):function(){return e.apply(e,arguments)},C8}var _8={},DO;function pie(){if(DO)return _8;DO=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);return _8.f=n?function(s){var a=e(this,s);return!!a&&a.enumerable}:t,_8}var w8,FO;function f3(){return FO||(FO=1,w8=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),w8}var S8,BO;function gie(){if(BO)return S8;BO=1;var t=ur(),e=jr(),n=Yf(),r=Object,s=t("".split);return S8=e(function(){return!r("z").propertyIsEnumerable(0)})?function(a){return n(a)==="String"?s(a,""):r(a)}:r,S8}var k8,UO;function RT(){return UO||(UO=1,k8=function(t){return t==null}),k8}var M8,HO;function OT(){if(HO)return M8;HO=1;var t=RT(),e=TypeError;return M8=function(n){if(t(n))throw e("Can't call method on "+n);return n},M8}var E8,VO;function ei(){if(VO)return E8;VO=1;var t=gie(),e=OT();return E8=function(n){return t(e(n))},E8}var j8,$O;function il(){if($O)return j8;$O=1;var t=Tr(),e=mie(),n=e.all;return j8=e.IS_HTMLDDA?function(r){return typeof r=="object"?r!==null:t(r)||r===n}:function(r){return typeof r=="object"?r!==null:t(r)},j8}var T8,qO;function Br(){return qO||(qO=1,T8={}),T8}var N8,zO;function ti(){if(zO)return N8;zO=1;var t=Br(),e=Jr(),n=Tr(),r=function(s){return n(s)?s:void 0};return N8=function(s,a){return arguments.length<2?r(t[s])||r(e[s]):t[s]&&t[s][a]||e[s]&&e[s][a]},N8}var A8,GO;function kc(){if(GO)return A8;GO=1;var t=ur();return A8=t({}.isPrototypeOf),A8}var P8,WO;function hie(){return WO||(WO=1,P8=typeof navigator<"u"&&String(navigator.userAgent)||""),P8}var I8,ZO;function DT(){if(ZO)return I8;ZO=1;var t=Jr(),e=hie(),n=t.process,r=t.Deno,s=n&&n.versions||r&&r.version,a=s&&s.v8,i,l;return a&&(i=a.split("."),l=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!l&&e&&(i=e.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=e.match(/Chrome\/(\d+)/),i&&(l=+i[1]))),I8=l,I8}var L8,KO;function Qf(){if(KO)return L8;KO=1;var t=DT(),e=jr(),n=Jr(),r=n.String;return L8=!!Object.getOwnPropertySymbols&&!e(function(){var s=Symbol("symbol detection");return!r(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&t&&t<41}),L8}var R8,YO;function vie(){if(YO)return R8;YO=1;var t=Qf();return R8=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",R8}var O8,QO;function m3(){if(QO)return O8;QO=1;var t=ti(),e=Tr(),n=kc(),r=vie(),s=Object;return O8=r?function(a){return typeof a=="symbol"}:function(a){var i=t("Symbol");return e(i)&&n(i.prototype,s(a))},O8}var D8,JO;function c4(){if(JO)return D8;JO=1;var t=String;return D8=function(e){try{return t(e)}catch(n){return"Object"}},D8}var F8,XO;function u4(){if(XO)return F8;XO=1;var t=Tr(),e=c4(),n=TypeError;return F8=function(r){if(t(r))return r;throw n(e(r)+" is not a function")},F8}var B8,eD;function FT(){if(eD)return B8;eD=1;var t=u4(),e=RT();return B8=function(n,r){var s=n[r];return e(s)?void 0:t(s)},B8}var U8,tD;function Lze(){if(tD)return U8;tD=1;var t=Xo(),e=Tr(),n=il(),r=TypeError;return U8=function(s,a){var i,l;if(a==="string"&&e(i=s.toString)&&!n(l=t(i,s))||e(i=s.valueOf)&&!n(l=t(i,s))||a!=="string"&&e(i=s.toString)&&!n(l=t(i,s)))return l;throw r("Can't convert object to primitive value")},U8}var H8={exports:{}},V8,nD;function p3(){return nD||(nD=1,V8=!0),V8}var $8,rD;function Rze(){if(rD)return $8;rD=1;var t=Jr(),e=Object.defineProperty;return $8=function(n,r){try{e(t,n,{value:r,configurable:!0,writable:!0})}catch(s){t[n]=r}return r},$8}var q8,sD;function BT(){if(sD)return q8;sD=1;var t=Jr(),e=Rze(),n="__core-js_shared__",r=t[n]||e(n,{});return q8=r,q8}var aD;function Jf(){if(aD)return H8.exports;aD=1;var t=p3(),e=BT();return(H8.exports=function(n,r){return e[n]||(e[n]=r!==void 0?r:{})})("versions",[]).push({version:"3.32.2",mode:t?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"}),H8.exports}var z8,oD;function Mc(){if(oD)return z8;oD=1;var t=OT(),e=Object;return z8=function(n){return e(t(n))},z8}var G8,iD;function qs(){if(iD)return G8;iD=1;var t=ur(),e=Mc(),n=t({}.hasOwnProperty);return G8=Object.hasOwn||function(s,a){return n(e(s),a)},G8}var W8,lD;function UT(){if(lD)return W8;lD=1;var t=ur(),e=0,n=Math.random(),r=t(1 .toString);return W8=function(s){return"Symbol("+(s===void 0?"":s)+")_"+r(++e+n,36)},W8}var Z8,cD;function vr(){if(cD)return Z8;cD=1;var t=Jr(),e=Jf(),n=qs(),r=UT(),s=Qf(),a=vie(),i=t.Symbol,l=e("wks"),c=a?i.for||i:i&&i.withoutSetter||r;return Z8=function(u){return n(l,u)||(l[u]=s&&n(i,u)?i[u]:c("Symbol."+u)),l[u]},Z8}var K8,uD;function Oze(){if(uD)return K8;uD=1;var t=Xo(),e=il(),n=m3(),r=FT(),s=Lze(),a=vr(),i=TypeError,l=a("toPrimitive");return K8=function(c,u){if(!e(c)||n(c))return c;var d=r(c,l),f;if(d){if(u===void 0&&(u="default"),f=t(d,c,u),!e(f)||n(f))return f;throw i("Can't convert object to primitive value")}return u===void 0&&(u="number"),s(c,u)},K8}var Y8,dD;function d4(){if(dD)return Y8;dD=1;var t=Oze(),e=m3();return Y8=function(n){var r=t(n,"string");return e(r)?r:r+""},Y8}var Q8,fD;function yie(){if(fD)return Q8;fD=1;var t=Jr(),e=il(),n=t.document,r=e(n)&&e(n.createElement);return Q8=function(s){return r?n.createElement(s):{}},Q8}var J8,mD;function xie(){if(mD)return J8;mD=1;var t=Ss(),e=jr(),n=yie();return J8=!t&&!e(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),J8}var pD;function f4(){if(pD)return x8;pD=1;var t=Ss(),e=Xo(),n=pie(),r=f3(),s=ei(),a=d4(),i=qs(),l=xie(),c=Object.getOwnPropertyDescriptor;return x8.f=t?c:function(d,f){if(d=s(d),f=a(f),l)try{return c(d,f)}catch(m){}if(i(d,f))return r(!e(n.f,d,f),d[f])},x8}var X8,gD;function Dze(){if(gD)return X8;gD=1;var t=jr(),e=Tr(),n=/#|\.prototype\./,r=function(c,u){var d=a[s(c)];return d===l?!0:d===i?!1:e(u)?t(u):!!u},s=r.normalize=function(c){return String(c).replace(n,".").toLowerCase()},a=r.data={},i=r.NATIVE="N",l=r.POLYFILL="P";return X8=r,X8}var ev,hD;function HT(){if(hD)return ev;hD=1;var t=LT(),e=u4(),n=l4(),r=t(t.bind);return ev=function(s,a){return e(s),a===void 0?s:n?r(s,a):function(){return s.apply(a,arguments)}},ev}var tv={},nv,vD;function bie(){if(vD)return nv;vD=1;var t=Ss(),e=jr();return nv=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),nv}var rv,yD;function ll(){if(yD)return rv;yD=1;var t=il(),e=String,n=TypeError;return rv=function(r){if(t(r))return r;throw n(e(r)+" is not an object")},rv}var xD;function ni(){if(xD)return tv;xD=1;var t=Ss(),e=xie(),n=bie(),r=ll(),s=d4(),a=TypeError,i=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c="enumerable",u="configurable",d="writable";return tv.f=t?n?function(m,p,h){if(r(m),p=s(p),r(h),typeof m=="function"&&p==="prototype"&&"value"in h&&d in h&&!h[d]){var v=l(m,p);v&&v[d]&&(m[p]=h.value,h={configurable:u in h?h[u]:v[u],enumerable:c in h?h[c]:v[c],writable:!1})}return i(m,p,h)}:i:function(m,p,h){if(r(m),p=s(p),r(h),e)try{return i(m,p,h)}catch(v){}if("get"in h||"set"in h)throw a("Accessors not supported");return"value"in h&&(m[p]=h.value),m},tv}var sv,bD;function Xf(){if(bD)return sv;bD=1;var t=Ss(),e=ni(),n=f3();return sv=t?function(r,s,a){return e.f(r,s,n(1,a))}:function(r,s,a){return r[s]=a,r},sv}var av,CD;function bn(){if(CD)return av;CD=1;var t=Jr(),e=IT(),n=LT(),r=Tr(),s=f4().f,a=Dze(),i=Br(),l=HT(),c=Xf(),u=qs(),d=function(f){var m=function(p,h,v){if(this instanceof m){switch(arguments.length){case 0:return new f;case 1:return new f(p);case 2:return new f(p,h)}return new f(p,h,v)}return e(f,this,arguments)};return m.prototype=f.prototype,m};return av=function(f,m){var p=f.target,h=f.global,v=f.stat,y=f.proto,x=h?t:v?t[p]:(t[p]||{}).prototype,b=h?i:i[p]||c(i,p,{})[p],_=b.prototype,w,S,k,M,E,T,j,A,I;for(M in m)w=a(h?M:p+(v?".":"#")+M,f.forced),S=!w&&x&&u(x,M),T=b[M],S&&(f.dontCallGetSet?(I=s(x,M),j=I&&I.value):j=x[M]),E=S&&j?j:m[M],!(S&&typeof T==typeof E)&&(f.bind&&S?A=l(E,t):f.wrap&&S?A=d(E):y&&r(E)?A=n(E):A=E,(f.sham||E&&E.sham||T&&T.sham)&&c(A,"sham",!0),c(b,M,A),y&&(k=p+"Prototype",u(i,k)||c(i,k,{}),c(i[k],M,E),f.real&&_&&(w||!_[M])&&c(_,M,E)))},av}var ov,_D;function em(){if(_D)return ov;_D=1;var t=Yf();return ov=Array.isArray||function(n){return t(n)==="Array"},ov}var wD;function Fze(){if(wD)return kO;wD=1;var t=bn(),e=em();return t({target:"Array",stat:!0},{isArray:e}),kO}var iv,SD;function Bze(){if(SD)return iv;SD=1,Fze();var t=Br();return iv=t.Array.isArray,iv}var lv,kD;function Cie(){if(kD)return lv;kD=1;var t=Bze();return lv=t,lv}var cv,MD;function Uze(){if(MD)return cv;MD=1;var t=Cie();return cv=t,cv}var uv,ED;function Hze(){if(ED)return uv;ED=1;var t=Uze();return uv=t,uv}var dv,jD;function Vze(){return jD||(jD=1,dv=Hze()),dv}var fv,TD;function $ze(){return TD||(TD=1,fv=Vze()),fv}var qze=$ze();const _ie=St(qze);function zze(t){if(_ie(t))return t}var ND={},mv,AD;function Gze(){if(AD)return mv;AD=1;var t=Math.ceil,e=Math.floor;return mv=Math.trunc||function(r){var s=+r;return(s>0?e:t)(s)},mv}var pv,PD;function m4(){if(PD)return pv;PD=1;var t=Gze();return pv=function(e){var n=+e;return n!==n||n===0?0:t(n)},pv}var gv,ID;function Wze(){if(ID)return gv;ID=1;var t=m4(),e=Math.min;return gv=function(n){return n>0?e(t(n),9007199254740991):0},gv}var hv,LD;function o1(){if(LD)return hv;LD=1;var t=Wze();return hv=function(e){return t(e.length)},hv}var vv,RD;function wie(){if(RD)return vv;RD=1;var t=TypeError,e=9007199254740991;return vv=function(n){if(n>e)throw t("Maximum allowed index exceeded");return n},vv}var yv,OD;function tm(){if(OD)return yv;OD=1;var t=d4(),e=ni(),n=f3();return yv=function(r,s,a){var i=t(s);i in r?e.f(r,i,n(0,a)):r[i]=a},yv}var xv,DD;function VT(){if(DD)return xv;DD=1;var t=vr(),e=t("toStringTag"),n={};return n[e]="z",xv=String(n)==="[object z]",xv}var bv,FD;function nm(){if(FD)return bv;FD=1;var t=VT(),e=Tr(),n=Yf(),r=vr(),s=r("toStringTag"),a=Object,i=n(function(){return arguments}())==="Arguments",l=function(c,u){try{return c[u]}catch(d){}};return bv=t?n:function(c){var u,d,f;return c===void 0?"Undefined":c===null?"Null":typeof(d=l(u=a(c),s))=="string"?d:i?n(u):(f=n(u))==="Object"&&e(u.callee)?"Arguments":f},bv}var Cv,BD;function Zze(){if(BD)return Cv;BD=1;var t=ur(),e=Tr(),n=BT(),r=t(Function.toString);return e(n.inspectSource)||(n.inspectSource=function(s){return r(s)}),Cv=n.inspectSource,Cv}var _v,UD;function $T(){if(UD)return _v;UD=1;var t=ur(),e=jr(),n=Tr(),r=nm(),s=ti(),a=Zze(),i=function(){},l=[],c=s("Reflect","construct"),u=/^\s*(?:class|function)\b/,d=t(u.exec),f=!u.exec(i),m=function(v){if(!n(v))return!1;try{return c(i,l,v),!0}catch(y){return!1}},p=function(v){if(!n(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(u,a(v))}catch(y){return!0}};return p.sham=!0,_v=!c||e(function(){var h;return m(m.call)||!m(Object)||!m(function(){h=!0})||h})?p:m,_v}var wv,HD;function Kze(){if(HD)return wv;HD=1;var t=em(),e=$T(),n=il(),r=vr(),s=r("species"),a=Array;return wv=function(i){var l;return t(i)&&(l=i.constructor,e(l)&&(l===a||t(l.prototype))?l=void 0:n(l)&&(l=l[s],l===null&&(l=void 0))),l===void 0?a:l},wv}var Sv,VD;function qT(){if(VD)return Sv;VD=1;var t=Kze();return Sv=function(e,n){return new(t(e))(n===0?0:n)},Sv}var kv,$D;function p4(){if($D)return kv;$D=1;var t=jr(),e=vr(),n=DT(),r=e("species");return kv=function(s){return n>=51||!t(function(){var a=[],i=a.constructor={};return i[r]=function(){return{foo:1}},a[s](Boolean).foo!==1})},kv}var qD;function Sie(){if(qD)return ND;qD=1;var t=bn(),e=jr(),n=em(),r=il(),s=Mc(),a=o1(),i=wie(),l=tm(),c=qT(),u=p4(),d=vr(),f=DT(),m=d("isConcatSpreadable"),p=f>=51||!e(function(){var y=[];return y[m]=!1,y.concat()[0]!==y}),h=function(y){if(!r(y))return!1;var x=y[m];return x!==void 0?!!x:n(y)},v=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:v},{concat:function(x){var b=s(this),_=c(b,0),w=0,S,k,M,E,T;for(S=-1,M=arguments.length;S<M;S++)if(T=S===-1?b:arguments[S],h(T))for(E=a(T),i(w+E),k=0;k<E;k++,w++)k in T&&l(_,w,T[k]);else i(w+1),l(_,w++,T);return _.length=w,_}}),ND}var zD={},GD={},Mv,WD;function g3(){if(WD)return Mv;WD=1;var t=nm(),e=String;return Mv=function(n){if(t(n)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return e(n)},Mv}var Ev={},jv,ZD;function g4(){if(ZD)return jv;ZD=1;var t=m4(),e=Math.max,n=Math.min;return jv=function(r,s){var a=t(r);return a<0?e(a+s,0):n(a,s)},jv}var Tv,KD;function kie(){if(KD)return Tv;KD=1;var t=ei(),e=g4(),n=o1(),r=function(s){return function(a,i,l){var c=t(a),u=n(c),d=e(l,u),f;if(s&&i!==i){for(;u>d;)if(f=c[d++],f!==f)return!0}else for(;u>d;d++)if((s||d in c)&&c[d]===i)return s||d||0;return!s&&-1}};return Tv={includes:r(!0),indexOf:r(!1)},Tv}var Nv,YD;function h4(){return YD||(YD=1,Nv={}),Nv}var Av,QD;function Mie(){if(QD)return Av;QD=1;var t=ur(),e=qs(),n=ei(),r=kie().indexOf,s=h4(),a=t([].push);return Av=function(i,l){var c=n(i),u=0,d=[],f;for(f in c)!e(s,f)&&e(c,f)&&a(d,f);for(;l.length>u;)e(c,f=l[u++])&&(~r(d,f)||a(d,f));return d},Av}var Pv,JD;function zT(){return JD||(JD=1,Pv=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Pv}var Iv,XD;function GT(){if(XD)return Iv;XD=1;var t=Mie(),e=zT();return Iv=Object.keys||function(r){return t(r,e)},Iv}var eF;function WT(){if(eF)return Ev;eF=1;var t=Ss(),e=bie(),n=ni(),r=ll(),s=ei(),a=GT();return Ev.f=t&&!e?Object.defineProperties:function(l,c){r(l);for(var u=s(c),d=a(c),f=d.length,m=0,p;f>m;)n.f(l,p=d[m++],u[p]);return l},Ev}var Lv,tF;function Yze(){if(tF)return Lv;tF=1;var t=ti();return Lv=t("document","documentElement"),Lv}var Rv,nF;function v4(){if(nF)return Rv;nF=1;var t=Jf(),e=UT(),n=t("keys");return Rv=function(r){return n[r]||(n[r]=e(r))},Rv}var Ov,rF;function ZT(){if(rF)return Ov;rF=1;var t=ll(),e=WT(),n=zT(),r=h4(),s=Yze(),a=yie(),i=v4(),l=">",c="<",u="prototype",d="script",f=i("IE_PROTO"),m=function(){},p=function(b){return c+d+l+b+c+"/"+d+l},h=function(b){b.write(p("")),b.close();var _=b.parentWindow.Object;return b=null,_},v=function(){var b=a("iframe"),_="java"+d+":",w;return b.style.display="none",s.appendChild(b),b.src=String(_),w=b.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},y,x=function(){try{y=new ActiveXObject("htmlfile")}catch(_){}x=typeof document<"u"?document.domain&&y?h(y):v():h(y);for(var b=n.length;b--;)delete x[u][n[b]];return x()};return r[f]=!0,Ov=Object.create||function(_,w){var S;return _!==null?(m[u]=t(_),S=new m,m[u]=null,S[f]=_):S=x(),w===void 0?S:e.f(S,w)},Ov}var Dv={},sF;function KT(){if(sF)return Dv;sF=1;var t=Mie(),e=zT(),n=e.concat("length","prototype");return Dv.f=Object.getOwnPropertyNames||function(s){return t(s,n)},Dv}var Fv={},Bv,aF;function Qze(){if(aF)return Bv;aF=1;var t=g4(),e=o1(),n=tm(),r=Array,s=Math.max;return Bv=function(a,i,l){for(var c=e(a),u=t(i,c),d=t(l===void 0?c:l,c),f=r(s(d-u,0)),m=0;u<d;u++,m++)n(f,m,a[u]);return f.length=m,f},Bv}var oF;function Jze(){if(oF)return Fv;oF=1;var t=Yf(),e=ei(),n=KT().f,r=Qze(),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(i){try{return n(i)}catch(l){return r(s)}};return Fv.f=function(l){return s&&t(l)==="Window"?a(l):n(e(l))},Fv}var Uv={},iF;function YT(){return iF||(iF=1,Uv.f=Object.getOwnPropertySymbols),Uv}var Hv,lF;function y4(){if(lF)return Hv;lF=1;var t=Xf();return Hv=function(e,n,r,s){return s&&s.enumerable?e[n]=r:t(e,n,r),e},Hv}var Vv,cF;function Xze(){if(cF)return Vv;cF=1;var t=ni();return Vv=function(e,n,r){return t.f(e,n,r)},Vv}var $v={},uF;function Eie(){if(uF)return $v;uF=1;var t=vr();return $v.f=t,$v}var qv,dF;function zn(){if(dF)return qv;dF=1;var t=Br(),e=qs(),n=Eie(),r=ni().f;return qv=function(s){var a=t.Symbol||(t.Symbol={});e(a,s)||r(a,s,{value:n.f(s)})},qv}var zv,fF;function jie(){if(fF)return zv;fF=1;var t=Xo(),e=ti(),n=vr(),r=y4();return zv=function(){var s=e("Symbol"),a=s&&s.prototype,i=a&&a.valueOf,l=n("toPrimitive");a&&!a[l]&&r(a,l,function(c){return t(i,this)},{arity:1})},zv}var Gv,mF;function eGe(){if(mF)return Gv;mF=1;var t=VT(),e=nm();return Gv=t?{}.toString:function(){return"[object "+e(this)+"]"},Gv}var Wv,pF;function h3(){if(pF)return Wv;pF=1;var t=VT(),e=ni().f,n=Xf(),r=qs(),s=eGe(),a=vr(),i=a("toStringTag");return Wv=function(l,c,u,d){if(l){var f=u?l:l.prototype;r(f,i)||e(f,i,{configurable:!0,value:c}),d&&!t&&n(f,"toString",s)}},Wv}var Zv,gF;function tGe(){if(gF)return Zv;gF=1;var t=Jr(),e=Tr(),n=t.WeakMap;return Zv=e(n)&&/native code/.test(String(n)),Zv}var Kv,hF;function QT(){if(hF)return Kv;hF=1;var t=tGe(),e=Jr(),n=il(),r=Xf(),s=qs(),a=BT(),i=v4(),l=h4(),c="Object already initialized",u=e.TypeError,d=e.WeakMap,f,m,p,h=function(b){return p(b)?m(b):f(b,{})},v=function(b){return function(_){var w;if(!n(_)||(w=m(_)).type!==b)throw u("Incompatible receiver, "+b+" required");return w}};if(t||a.state){var y=a.state||(a.state=new d);y.get=y.get,y.has=y.has,y.set=y.set,f=function(b,_){if(y.has(b))throw u(c);return _.facade=b,y.set(b,_),_},m=function(b){return y.get(b)||{}},p=function(b){return y.has(b)}}else{var x=i("state");l[x]=!0,f=function(b,_){if(s(b,x))throw u(c);return _.facade=b,r(b,x,_),_},m=function(b){return s(b,x)?b[x]:{}},p=function(b){return s(b,x)}}return Kv={set:f,get:m,has:p,enforce:h,getterFor:v},Kv}var Yv,vF;function JT(){if(vF)return Yv;vF=1;var t=HT(),e=ur(),n=gie(),r=Mc(),s=o1(),a=qT(),i=e([].push),l=function(c){var u=c===1,d=c===2,f=c===3,m=c===4,p=c===6,h=c===7,v=c===5||p;return function(y,x,b,_){for(var w=r(y),S=n(w),k=t(x,b),M=s(S),E=0,T=_||a,j=u?T(y,M):d||h?T(y,0):void 0,A,I;M>E;E++)if((v||E in S)&&(A=S[E],I=k(A,E,w),c))if(u)j[E]=I;else if(I)switch(c){case 3:return!0;case 5:return A;case 6:return E;case 2:i(j,A)}else switch(c){case 4:return!1;case 7:i(j,A)}return p?-1:f||m?m:j}};return Yv={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)},Yv}var yF;function nGe(){if(yF)return GD;yF=1;var t=bn(),e=Jr(),n=Xo(),r=ur(),s=p3(),a=Ss(),i=Qf(),l=jr(),c=qs(),u=kc(),d=ll(),f=ei(),m=d4(),p=g3(),h=f3(),v=ZT(),y=GT(),x=KT(),b=Jze(),_=YT(),w=f4(),S=ni(),k=WT(),M=pie(),E=y4(),T=Xze(),j=Jf(),A=v4(),I=h4(),L=UT(),O=vr(),R=Eie(),H=zn(),V=jie(),z=h3(),$=QT(),D=JT().forEach,Y=A("hidden"),G="Symbol",F="prototype",X=$.set,te=$.getterFor(G),ae=Object[F],me=e.Symbol,W=me&&me[F],K=e.TypeError,ne=e.QObject,re=w.f,le=S.f,fe=b.f,ge=M.f,ye=r([].push),_e=j("symbols"),Ne=j("op-symbols"),Ae=j("wks"),ot=!ne||!ne[F]||!ne[F].findChild,gt=a&&l(function(){return v(le({},"a",{get:function(){return le(this,"a",{value:7}).a}})).a!==7})?function(Ye,Xe,ht){var ft=re(ae,Xe);ft&&delete ae[Xe],le(Ye,Xe,ht),ft&&Ye!==ae&&le(ae,Xe,ft)}:le,Pe=function(Ye,Xe){var ht=_e[Ye]=v(W);return X(ht,{type:G,tag:Ye,description:Xe}),a||(ht.description=Xe),ht},Ie=function(Xe,ht,ft){Xe===ae&&Ie(Ne,ht,ft),d(Xe);var Qe=m(ht);return d(ft),c(_e,Qe)?(ft.enumerable?(c(Xe,Y)&&Xe[Y][Qe]&&(Xe[Y][Qe]=!1),ft=v(ft,{enumerable:h(0,!1)})):(c(Xe,Y)||le(Xe,Y,h(1,{})),Xe[Y][Qe]=!0),gt(Xe,Qe,ft)):le(Xe,Qe,ft)},ct=function(Xe,ht){d(Xe);var ft=f(ht),Qe=y(ft).concat(lt(ft));return D(Qe,function(Qt){(!a||n(ce,ft,Qt))&&Ie(Xe,Qt,ft[Qt])}),Xe},dt=function(Xe,ht){return ht===void 0?v(Xe):ct(v(Xe),ht)},ce=function(Xe){var ht=m(Xe),ft=n(ge,this,ht);return this===ae&&c(_e,ht)&&!c(Ne,ht)?!1:ft||!c(this,ht)||!c(_e,ht)||c(this,Y)&&this[Y][ht]?ft:!0},ke=function(Xe,ht){var ft=f(Xe),Qe=m(ht);if(!(ft===ae&&c(_e,Qe)&&!c(Ne,Qe))){var Qt=re(ft,Qe);return Qt&&c(_e,Qe)&&!(c(ft,Y)&&ft[Y][Qe])&&(Qt.enumerable=!0),Qt}},Ze=function(Xe){var ht=fe(f(Xe)),ft=[];return D(ht,function(Qe){!c(_e,Qe)&&!c(I,Qe)&&ye(ft,Qe)}),ft},lt=function(Ye){var Xe=Ye===ae,ht=fe(Xe?Ne:f(Ye)),ft=[];return D(ht,function(Qe){c(_e,Qe)&&(!Xe||c(ae,Qe))&&ye(ft,_e[Qe])}),ft};return i||(me=function(){if(u(W,this))throw K("Symbol is not a constructor");var Xe=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ht=L(Xe),ft=function(Qe){this===ae&&n(ft,Ne,Qe),c(this,Y)&&c(this[Y],ht)&&(this[Y][ht]=!1),gt(this,ht,h(1,Qe))};return a&&ot&&gt(ae,ht,{configurable:!0,set:ft}),Pe(ht,Xe)},W=me[F],E(W,"toString",function(){return te(this).tag}),E(me,"withoutSetter",function(Ye){return Pe(L(Ye),Ye)}),M.f=ce,S.f=Ie,k.f=ct,w.f=ke,x.f=b.f=Ze,_.f=lt,R.f=function(Ye){return Pe(O(Ye),Ye)},a&&(T(W,"description",{configurable:!0,get:function(){return te(this).description}}),s||E(ae,"propertyIsEnumerable",ce,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!i,sham:!i},{Symbol:me}),D(y(Ae),function(Ye){H(Ye)}),t({target:G,stat:!0,forced:!i},{useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),t({target:"Object",stat:!0,forced:!i,sham:!a},{create:dt,defineProperty:Ie,defineProperties:ct,getOwnPropertyDescriptor:ke}),t({target:"Object",stat:!0,forced:!i},{getOwnPropertyNames:Ze}),V(),z(me,G),I[Y]=!0,GD}var xF={},Qv,bF;function Tie(){if(bF)return Qv;bF=1;var t=Qf();return Qv=t&&!!Symbol.for&&!!Symbol.keyFor,Qv}var CF;function rGe(){if(CF)return xF;CF=1;var t=bn(),e=ti(),n=qs(),r=g3(),s=Jf(),a=Tie(),i=s("string-to-symbol-registry"),l=s("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!a},{for:function(c){var u=r(c);if(n(i,u))return i[u];var d=e("Symbol")(u);return i[u]=d,l[d]=u,d}}),xF}var _F={},wF;function sGe(){if(wF)return _F;wF=1;var t=bn(),e=qs(),n=m3(),r=c4(),s=Jf(),a=Tie(),i=s("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!a},{keyFor:function(c){if(!n(c))throw TypeError(r(c)+" is not a symbol");if(e(i,c))return i[c]}}),_F}var SF={},Jv,kF;function XT(){if(kF)return Jv;kF=1;var t=ur();return Jv=t([].slice),Jv}var Xv,MF;function aGe(){if(MF)return Xv;MF=1;var t=ur(),e=em(),n=Tr(),r=Yf(),s=g3(),a=t([].push);return Xv=function(i){if(n(i))return i;if(e(i)){for(var l=i.length,c=[],u=0;u<l;u++){var d=i[u];typeof d=="string"?a(c,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&a(c,s(d))}var f=c.length,m=!0;return function(p,h){if(m)return m=!1,h;if(e(this))return h;for(var v=0;v<f;v++)if(c[v]===p)return h}}},Xv}var EF;function oGe(){if(EF)return SF;EF=1;var t=bn(),e=ti(),n=IT(),r=Xo(),s=ur(),a=jr(),i=Tr(),l=m3(),c=XT(),u=aGe(),d=Qf(),f=String,m=e("JSON","stringify"),p=s(/./.exec),h=s("".charAt),v=s("".charCodeAt),y=s("".replace),x=s(1 .toString),b=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,S=!d||a(function(){var T=e("Symbol")("stringify detection");return m([T])!=="[null]"||m({a:T})!=="{}"||m(Object(T))!=="{}"}),k=a(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),M=function(T,j){var A=c(arguments),I=u(j);if(!(!i(I)&&(T===void 0||l(T))))return A[1]=function(L,O){if(i(I)&&(O=r(I,this,f(L),O)),!l(O))return O},n(m,null,A)},E=function(T,j,A){var I=h(A,j-1),L=h(A,j+1);return p(_,T)&&!p(w,L)||p(w,T)&&!p(_,I)?"\\u"+x(v(T,0),16):T};return m&&t({target:"JSON",stat:!0,arity:3,forced:S||k},{stringify:function(j,A,I){var L=c(arguments),O=n(S?M:m,null,L);return k&&typeof O=="string"?y(O,b,E):O}}),SF}var jF={},TF;function iGe(){if(TF)return jF;TF=1;var t=bn(),e=Qf(),n=jr(),r=YT(),s=Mc(),a=!e||n(function(){r.f(1)});return t({target:"Object",stat:!0,forced:a},{getOwnPropertySymbols:function(l){var c=r.f;return c?c(s(l)):[]}}),jF}var NF;function Nie(){return NF||(NF=1,nGe(),rGe(),sGe(),oGe(),iGe()),zD}var AF={},PF;function lGe(){if(PF)return AF;PF=1;var t=zn();return t("asyncIterator"),AF}var IF={},LF;function cGe(){if(LF)return IF;LF=1;var t=zn();return t("hasInstance"),IF}var RF={},OF;function uGe(){if(OF)return RF;OF=1;var t=zn();return t("isConcatSpreadable"),RF}var DF={},FF;function dGe(){if(FF)return DF;FF=1;var t=zn();return t("iterator"),DF}var BF={},UF;function fGe(){if(UF)return BF;UF=1;var t=zn();return t("match"),BF}var HF={},VF;function mGe(){if(VF)return HF;VF=1;var t=zn();return t("matchAll"),HF}var $F={},qF;function pGe(){if(qF)return $F;qF=1;var t=zn();return t("replace"),$F}var zF={},GF;function gGe(){if(GF)return zF;GF=1;var t=zn();return t("search"),zF}var WF={},ZF;function hGe(){if(ZF)return WF;ZF=1;var t=zn();return t("species"),WF}var KF={},YF;function vGe(){if(YF)return KF;YF=1;var t=zn();return t("split"),KF}var QF={},JF;function yGe(){if(JF)return QF;JF=1;var t=zn(),e=jie();return t("toPrimitive"),e(),QF}var XF={},eB;function xGe(){if(eB)return XF;eB=1;var t=ti(),e=zn(),n=h3();return e("toStringTag"),n(t("Symbol"),"Symbol"),XF}var tB={},nB;function bGe(){if(nB)return tB;nB=1;var t=zn();return t("unscopables"),tB}var rB={},sB;function CGe(){if(sB)return rB;sB=1;var t=Jr(),e=h3();return e(t.JSON,"JSON",!0),rB}var ey,aB;function _Ge(){if(aB)return ey;aB=1,Sie(),Nie(),lGe(),cGe(),uGe(),dGe(),fGe(),mGe(),pGe(),gGe(),hGe(),vGe(),yGe(),xGe(),bGe(),CGe();var t=Br();return ey=t.Symbol,ey}var oB={},ty,iB;function wGe(){return iB||(iB=1,ty=function(){}),ty}var ny,lB;function rm(){return lB||(lB=1,ny={}),ny}var ry,cB;function SGe(){if(cB)return ry;cB=1;var t=Ss(),e=qs(),n=Function.prototype,r=t&&Object.getOwnPropertyDescriptor,s=e(n,"name"),a=s&&function(){}.name==="something",i=s&&(!t||t&&r(n,"name").configurable);return ry={EXISTS:s,PROPER:a,CONFIGURABLE:i},ry}var sy,uB;function kGe(){if(uB)return sy;uB=1;var t=jr();return sy=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),sy}var ay,dB;function Aie(){if(dB)return ay;dB=1;var t=qs(),e=Tr(),n=Mc(),r=v4(),s=kGe(),a=r("IE_PROTO"),i=Object,l=i.prototype;return ay=s?i.getPrototypeOf:function(c){var u=n(c);if(t(u,a))return u[a];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof i?l:null},ay}var oy,fB;function Pie(){if(fB)return oy;fB=1;var t=jr(),e=Tr(),n=il(),r=ZT(),s=Aie(),a=y4(),i=vr(),l=p3(),c=i("iterator"),u=!1,d,f,m;[].keys&&(m=[].keys(),"next"in m?(f=s(s(m)),f!==Object.prototype&&(d=f)):u=!0);var p=!n(d)||t(function(){var h={};return d[c].call(h)!==h});return p?d={}:l&&(d=r(d)),e(d[c])||a(d,c,function(){return this}),oy={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},oy}var iy,mB;function MGe(){if(mB)return iy;mB=1;var t=Pie().IteratorPrototype,e=ZT(),n=f3(),r=h3(),s=rm(),a=function(){return this};return iy=function(i,l,c,u){var d=l+" Iterator";return i.prototype=e(t,{next:n(+!u,c)}),r(i,d,!1,!0),s[d]=a,i},iy}var ly,pB;function EGe(){if(pB)return ly;pB=1;var t=ur(),e=u4();return ly=function(n,r,s){try{return t(e(Object.getOwnPropertyDescriptor(n,r)[s]))}catch(a){}},ly}var cy,gB;function jGe(){if(gB)return cy;gB=1;var t=Tr(),e=String,n=TypeError;return cy=function(r){if(typeof r=="object"||t(r))return r;throw n("Can't set "+e(r)+" as a prototype")},cy}var uy,hB;function TGe(){if(hB)return uy;hB=1;var t=EGe(),e=ll(),n=jGe();return uy=Object.setPrototypeOf||("__proto__"in{}?function(){var r=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),r=s instanceof Array}catch(i){}return function(l,c){return e(l),n(c),r?a(l,c):l.__proto__=c,l}}():void 0),uy}var dy,vB;function Iie(){if(vB)return dy;vB=1;var t=bn(),e=Xo(),n=p3(),r=SGe(),s=Tr(),a=MGe(),i=Aie(),l=TGe(),c=h3(),u=Xf(),d=y4(),f=vr(),m=rm(),p=Pie(),h=r.PROPER,v=r.CONFIGURABLE,y=p.IteratorPrototype,x=p.BUGGY_SAFARI_ITERATORS,b=f("iterator"),_="keys",w="values",S="entries",k=function(){return this};return dy=function(M,E,T,j,A,I,L){a(T,E,j);var O=function(X){if(X===A&&$)return $;if(!x&&X&&X in V)return V[X];switch(X){case _:return function(){return new T(this,X)};case w:return function(){return new T(this,X)};case S:return function(){return new T(this,X)}}return function(){return new T(this)}},R=E+" Iterator",H=!1,V=M.prototype,z=V[b]||V["@@iterator"]||A&&V[A],$=!x&&z||O(A),D=E==="Array"&&V.entries||z,Y,G,F;if(D&&(Y=i(D.call(new M)),Y!==Object.prototype&&Y.next&&(!n&&i(Y)!==y&&(l?l(Y,y):s(Y[b])||d(Y,b,k)),c(Y,R,!0,!0),n&&(m[R]=k))),h&&A===w&&z&&z.name!==w&&(!n&&v?u(V,"name",w):(H=!0,$=function(){return e(z,this)})),A)if(G={values:O(w),keys:I?$:O(_),entries:O(S)},L)for(F in G)(x||H||!(F in V))&&d(V,F,G[F]);else t({target:E,proto:!0,forced:x||H},G);return(!n||L)&&V[b]!==$&&d(V,b,$,{name:A}),m[E]=$,G},dy}var fy,yB;function Lie(){return yB||(yB=1,fy=function(t,e){return{value:t,done:e}}),fy}var my,xB;function Rie(){if(xB)return my;xB=1;var t=ei(),e=wGe(),n=rm(),r=QT(),s=ni().f,a=Iie(),i=Lie(),l=p3(),c=Ss(),u="Array Iterator",d=r.set,f=r.getterFor(u);my=a(Array,"Array",function(p,h){d(this,{type:u,target:t(p),index:0,kind:h})},function(){var p=f(this),h=p.target,v=p.kind,y=p.index++;if(!h||y>=h.length)return p.target=void 0,i(void 0,!0);switch(v){case"keys":return i(y,!1);case"values":return i(h[y],!1)}return i([y,h[y]],!1)},"values");var m=n.Arguments=n.Array;if(e("keys"),e("values"),e("entries"),!l&&c&&m.name!=="values")try{s(m,"name",{value:"values"})}catch(p){}return my}var py,bB;function NGe(){return bB||(bB=1,py={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),py}var CB;function eN(){if(CB)return oB;CB=1,Rie();var t=NGe(),e=Jr(),n=nm(),r=Xf(),s=rm(),a=vr(),i=a("toStringTag");for(var l in t){var c=e[l],u=c&&c.prototype;u&&n(u)!==i&&r(u,i,l),s[l]=s.Array}return oB}var gy,_B;function AGe(){if(_B)return gy;_B=1;var t=_Ge();return eN(),gy=t,gy}var wB={},SB;function PGe(){if(SB)return wB;SB=1;var t=vr(),e=ni().f,n=t("metadata"),r=Function.prototype;return r[n]===void 0&&e(r,n,{value:null}),wB}var kB={},MB;function IGe(){if(MB)return kB;MB=1;var t=zn();return t("asyncDispose"),kB}var EB={},jB;function LGe(){if(jB)return EB;jB=1;var t=zn();return t("dispose"),EB}var TB={},NB;function RGe(){if(NB)return TB;NB=1;var t=zn();return t("metadata"),TB}var hy,AB;function OGe(){if(AB)return hy;AB=1;var t=AGe();return PGe(),IGe(),LGe(),RGe(),hy=t,hy}var PB={},vy,IB;function Oie(){if(IB)return vy;IB=1;var t=ti(),e=ur(),n=t("Symbol"),r=n.keyFor,s=e(n.prototype.valueOf);return vy=n.isRegisteredSymbol||function(i){try{return r(s(i))!==void 0}catch(l){return!1}},vy}var LB;function DGe(){if(LB)return PB;LB=1;var t=bn(),e=Oie();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),PB}var RB={},yy,OB;function Die(){if(OB)return yy;OB=1;for(var t=Jf(),e=ti(),n=ur(),r=m3(),s=vr(),a=e("Symbol"),i=a.isWellKnownSymbol,l=e("Object","getOwnPropertyNames"),c=n(a.prototype.valueOf),u=t("wks"),d=0,f=l(a),m=f.length;d<m;d++)try{var p=f[d];r(a[p])&&s(p)}catch(h){}return yy=function(v){if(i&&i(v))return!0;try{for(var y=c(v),x=0,b=l(u),_=b.length;x<_;x++)if(u[b[x]]==y)return!0}catch(w){}return!1},yy}var DB;function FGe(){if(DB)return RB;DB=1;var t=bn(),e=Die();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),RB}var FB={},BB;function BGe(){if(BB)return FB;BB=1;var t=zn();return t("matcher"),FB}var UB={},HB;function UGe(){if(HB)return UB;HB=1;var t=zn();return t("observable"),UB}var VB={},$B;function HGe(){if($B)return VB;$B=1;var t=bn(),e=Oie();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),VB}var qB={},zB;function VGe(){if(zB)return qB;zB=1;var t=bn(),e=Die();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),qB}var GB={},WB;function $Ge(){if(WB)return GB;WB=1;var t=zn();return t("metadataKey"),GB}var ZB={},KB;function qGe(){if(KB)return ZB;KB=1;var t=zn();return t("patternMatch"),ZB}var YB={},QB;function zGe(){if(QB)return YB;QB=1;var t=zn();return t("replaceAll"),YB}var xy,JB;function GGe(){if(JB)return xy;JB=1;var t=OGe();return DGe(),FGe(),BGe(),UGe(),HGe(),VGe(),$Ge(),qGe(),zGe(),xy=t,xy}var by,XB;function WGe(){return XB||(XB=1,by=GGe()),by}var Cy,eU;function ZGe(){return eU||(eU=1,Cy=WGe()),Cy}var KGe=ZGe();const Fie=St(KGe);var tU={},_y,nU;function YGe(){if(nU)return _y;nU=1;var t=ur(),e=m4(),n=g3(),r=OT(),s=t("".charAt),a=t("".charCodeAt),i=t("".slice),l=function(c){return function(u,d){var f=n(r(u)),m=e(d),p=f.length,h,v;return m<0||m>=p?c?"":void 0:(h=a(f,m),h<55296||h>56319||m+1===p||(v=a(f,m+1))<56320||v>57343?c?s(f,m):h:c?i(f,m,m+2):(h-55296<<10)+(v-56320)+65536)}};return _y={codeAt:l(!1),charAt:l(!0)},_y}var rU;function Bie(){if(rU)return tU;rU=1;var t=YGe().charAt,e=g3(),n=QT(),r=Iie(),s=Lie(),a="String Iterator",i=n.set,l=n.getterFor(a);return r(String,"String",function(c){i(this,{type:a,string:e(c),index:0})},function(){var u=l(this),d=u.string,f=u.index,m;return f>=d.length?s(void 0,!0):(m=t(d,f),u.index+=m.length,s(m,!1))}),tU}var wy,sU;function tN(){if(sU)return wy;sU=1;var t=nm(),e=FT(),n=RT(),r=rm(),s=vr(),a=s("iterator");return wy=function(i){if(!n(i))return e(i,a)||e(i,"@@iterator")||r[t(i)]},wy}var Sy,aU;function QGe(){if(aU)return Sy;aU=1,Rie(),Bie();var t=tN();return Sy=t,Sy}var ky,oU;function JGe(){if(oU)return ky;oU=1;var t=QGe();return eN(),ky=t,ky}var My,iU;function XGe(){if(iU)return My;iU=1;var t=JGe();return My=t,My}var Ey,lU;function eWe(){if(lU)return Ey;lU=1;var t=XGe();return Ey=t,Ey}var jy,cU;function tWe(){return cU||(cU=1,jy=eWe()),jy}var Ty,uU;function nWe(){return uU||(uU=1,Ty=tWe()),Ty}var rWe=nWe();const Uie=St(rWe);function sWe(t,e){var n=t==null?null:typeof Fie<"u"&&Uie(t)||t["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}var dU={},fU;function aWe(){if(fU)return dU;fU=1;var t=bn(),e=em(),n=$T(),r=il(),s=g4(),a=o1(),i=ei(),l=tm(),c=vr(),u=p4(),d=XT(),f=u("slice"),m=c("species"),p=Array,h=Math.max;return t({target:"Array",proto:!0,forced:!f},{slice:function(y,x){var b=i(this),_=a(b),w=s(y,_),S=s(x===void 0?_:x,_),k,M,E;if(e(b)&&(k=b.constructor,n(k)&&(k===p||e(k.prototype))?k=void 0:r(k)&&(k=k[m],k===null&&(k=void 0)),k===p||k===void 0))return d(b,w,S);for(M=new(k===void 0?p:k)(h(S-w,0)),E=0;w<S;w++,E++)w in b&&l(M,E,b[w]);return M.length=E,M}}),dU}var Ny,mU;function sm(){if(mU)return Ny;mU=1;var t=Br();return Ny=function(e){return t[e+"Prototype"]},Ny}var Ay,pU;function oWe(){if(pU)return Ay;pU=1,aWe();var t=sm();return Ay=t("Array").slice,Ay}var Py,gU;function iWe(){if(gU)return Py;gU=1;var t=kc(),e=oWe(),n=Array.prototype;return Py=function(r){var s=r.slice;return r===n||t(n,r)&&s===n.slice?e:s},Py}var Iy,hU;function lWe(){if(hU)return Iy;hU=1;var t=iWe();return Iy=t,Iy}var Ly,vU;function cWe(){if(vU)return Ly;vU=1;var t=lWe();return Ly=t,Ly}var Ry,yU;function uWe(){if(yU)return Ry;yU=1;var t=cWe();return Ry=t,Ry}var Oy,xU;function dWe(){return xU||(xU=1,Oy=uWe()),Oy}var Dy,bU;function fWe(){return bU||(bU=1,Dy=dWe()),Dy}var mWe=fWe();const pWe=St(mWe);var CU={},Fy,_U;function gWe(){if(_U)return Fy;_U=1;var t=Xo(),e=ll(),n=FT();return Fy=function(r,s,a){var i,l;e(r);try{if(i=n(r,"return"),!i){if(s==="throw")throw a;return a}i=t(i,r)}catch(c){l=!0,i=c}if(s==="throw")throw a;if(l)throw i;return e(i),a},Fy}var By,wU;function hWe(){if(wU)return By;wU=1;var t=ll(),e=gWe();return By=function(n,r,s,a){try{return a?r(t(s)[0],s[1]):r(s)}catch(i){e(n,"throw",i)}},By}var Uy,SU;function vWe(){if(SU)return Uy;SU=1;var t=vr(),e=rm(),n=t("iterator"),r=Array.prototype;return Uy=function(s){return s!==void 0&&(e.Array===s||r[n]===s)},Uy}var Hy,kU;function yWe(){if(kU)return Hy;kU=1;var t=Xo(),e=u4(),n=ll(),r=c4(),s=tN(),a=TypeError;return Hy=function(i,l){var c=arguments.length<2?s(i):l;if(e(c))return n(t(c,i));throw a(r(i)+" is not iterable")},Hy}var Vy,MU;function xWe(){if(MU)return Vy;MU=1;var t=HT(),e=Xo(),n=Mc(),r=hWe(),s=vWe(),a=$T(),i=o1(),l=tm(),c=yWe(),u=tN(),d=Array;return Vy=function(m){var p=n(m),h=a(this),v=arguments.length,y=v>1?arguments[1]:void 0,x=y!==void 0;x&&(y=t(y,v>2?arguments[2]:void 0));var b=u(p),_=0,w,S,k,M,E,T;if(b&&!(this===d&&s(b)))for(M=c(p,b),E=M.next,S=h?new this:[];!(k=e(E,M)).done;_++)T=x?r(M,y,[k.value,_],!0):k.value,l(S,_,T);else for(w=i(p),S=h?new this(w):d(w);w>_;_++)T=x?y(p[_],_):p[_],l(S,_,T);return S.length=_,S},Vy}var $y,EU;function bWe(){if(EU)return $y;EU=1;var t=vr(),e=t("iterator"),n=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){n=!0}};s[e]=function(){return this},Array.from(s,function(){throw 2})}catch(a){}return $y=function(a,i){try{if(!i&&!n)return!1}catch(u){return!1}var l=!1;try{var c={};c[e]=function(){return{next:function(){return{done:l=!0}}}},a(c)}catch(u){}return l},$y}var jU;function CWe(){if(jU)return CU;jU=1;var t=bn(),e=xWe(),n=bWe(),r=!n(function(s){Array.from(s)});return t({target:"Array",stat:!0,forced:r},{from:e}),CU}var qy,TU;function _We(){if(TU)return qy;TU=1,Bie(),CWe();var t=Br();return qy=t.Array.from,qy}var zy,NU;function wWe(){if(NU)return zy;NU=1;var t=_We();return zy=t,zy}var Gy,AU;function SWe(){if(AU)return Gy;AU=1;var t=wWe();return Gy=t,Gy}var Wy,PU;function kWe(){if(PU)return Wy;PU=1;var t=SWe();return Wy=t,Wy}var Zy,IU;function MWe(){return IU||(IU=1,Zy=kWe()),Zy}var Ky,LU;function EWe(){return LU||(LU=1,Ky=MWe()),Ky}var jWe=EWe();const Hie=St(jWe);function BS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vie(t,e){var n;if(t){if(typeof t=="string")return BS(t,e);var r=pWe(n=Object.prototype.toString.call(t)).call(n,8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Hie(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BS(t,e)}}function TWe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nN(t,e){return zze(t)||sWe(t,e)||Vie(t,e)||TWe()}var Yy={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var RU;function NWe(){return RU||(RU=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var a=arguments[s];if(a){var i=typeof a;if(i==="string"||i==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var l=n.apply(null,a);l&&r.push(l)}}else if(i==="object")if(a.toString===Object.prototype.toString)for(var c in a)e.call(a,c)&&a[c]&&r.push(c);else r.push(a.toString())}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Yy)),Yy.exports}var AWe=NWe();const $ie=St(AWe);var Qy={exports:{}},Jy,OU;function PWe(){if(OU)return Jy;OU=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jy=t,Jy}var Xy,DU;function IWe(){if(DU)return Xy;DU=1;var t=PWe();function e(){}function n(){}return n.resetWarningCache=e,Xy=function(){function r(i,l,c,u,d,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var a={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Xy}var FU;function LWe(){return FU||(FU=1,Qy.exports=IWe()()),Qy.exports}var RWe=LWe();const xo=St(RWe);var qie=be.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});qie.displayName="ScrollToBottomFunctionContext";function rN(){return g.useContext(qie)}function OWe(){var t=rN(),e=t.scrollToEnd;return e}var zie=be.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});zie.displayName="ScrollToBottomState1Context";var Gie=be.createContext({animating:!1,animatingToEnd:!1,sticky:!0});Gie.displayName="ScrollToBottomState2Context";var Wie=be.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});Wie.displayName="ScrollToBottomStateContext";var BU=[Wie,zie,Gie];function Zie(t){return g.useContext(BU[t]||BU[0])}function DWe(){var t=Zie(2),e=t.sticky;return[e]}var sN=be.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});sN.displayName="ScrollToBottomInternalContext";function Kie(){return g.useContext(sN)}function Yie(){var t=Kie(),e=t.styleToClassName;return e}var FWe={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},Qie=function(e){var n=e.children,r=e.className,s=DWe(),a=nN(s,1),i=a[0],l=Yie()(FWe),c=OWe();return!i&&be.createElement("button",{className:$ie(l,(r||"")+""),onClick:c,type:"button"},n)};Qie.defaultProps={children:void 0,className:""};Qie.propTypes={children:xo.any,className:xo.string};var ex={exports:{}},UU={},HU;function BWe(){if(HU)return UU;HU=1;var t=bn(),e=Ss(),n=ni().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==n,sham:!e},{defineProperty:n}),UU}var VU;function UWe(){if(VU)return ex.exports;VU=1,BWe();var t=Br(),e=t.Object,n=ex.exports=function(s,a,i){return e.defineProperty(s,a,i)};return e.defineProperty.sham&&(n.sham=!0),ex.exports}var tx,$U;function Jie(){if($U)return tx;$U=1;var t=UWe();return tx=t,tx}var nx,qU;function HWe(){if(qU)return nx;qU=1;var t=Jie();return nx=t,nx}var rx,zU;function VWe(){if(zU)return rx;zU=1;var t=HWe();return rx=t,rx}var sx,GU;function $We(){return GU||(GU=1,sx=VWe()),sx}var ax,WU;function qWe(){return WU||(WU=1,ax=$We()),ax}var zWe=qWe();const GWe=St(zWe);function Xkt(t,e,n){return e in t?GWe(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WWe(t){if(_ie(t))return BS(t)}function ZWe(t){if(typeof Fie<"u"&&Uie(t)!=null||t["@@iterator"]!=null)return Hie(t)}function KWe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zc(t){return WWe(t)||ZWe(t)||Vie(t)||KWe()}var ZU={},ox,KU;function zs(){if(KU)return ox;KU=1;var t=function(e){return e&&e.Math==Math&&e};return ox=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof Tg=="object"&&Tg)||function(){return this}()||Function("return this")(),ox}var ix={},lx,YU;function no(){return YU||(YU=1,lx=function(t){try{return!!t()}catch(e){return!0}}),lx}var cx,QU;function i1(){if(QU)return cx;QU=1;var t=no();return cx=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),cx}var ux={},JU;function YWe(){if(JU)return ux;JU=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);return ux.f=n?function(s){var a=e(this,s);return!!a&&a.enumerable}:t,ux}var dx,XU;function Xie(){return XU||(XU=1,dx=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),dx}var fx,eH;function aN(){if(eH)return fx;eH=1;var t={}.toString;return fx=function(e){return t.call(e).slice(8,-1)},fx}var mx,tH;function QWe(){if(tH)return mx;tH=1;var t=no(),e=aN(),n="".split;return mx=t(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return e(r)=="String"?n.call(r,""):Object(r)}:Object,mx}var px,nH;function x4(){return nH||(nH=1,px=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}),px}var gx,rH;function oN(){if(rH)return gx;rH=1;var t=QWe(),e=x4();return gx=function(n){return t(e(n))},gx}var hx,sH;function Ca(){return sH||(sH=1,hx=function(t){return typeof t=="function"}),hx}var vx,aH;function v3(){if(aH)return vx;aH=1;var t=Ca();return vx=function(e){return typeof e=="object"?e!==null:t(e)},vx}var yx,oH;function b4(){if(oH)return yx;oH=1;var t=zs(),e=Ca(),n=function(r){return e(r)?r:void 0};return yx=function(r,s){return arguments.length<2?n(t[r]):t[r]&&t[r][s]},yx}var xx,iH;function JWe(){if(iH)return xx;iH=1;var t=b4();return xx=t("navigator","userAgent")||"",xx}var bx,lH;function XWe(){if(lH)return bx;lH=1;var t=zs(),e=JWe(),n=t.process,r=t.Deno,s=n&&n.versions||r&&r.version,a=s&&s.v8,i,l;return a?(i=a.split("."),l=i[0]<4?1:i[0]+i[1]):e&&(i=e.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=e.match(/Chrome\/(\d+)/),i&&(l=i[1]))),bx=l&&+l,bx}var Cx,cH;function ele(){if(cH)return Cx;cH=1;var t=XWe(),e=no();return Cx=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol();return!String(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&t&&t<41}),Cx}var _x,uH;function tle(){if(uH)return _x;uH=1;var t=ele();return _x=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",_x}var wx,dH;function nle(){if(dH)return wx;dH=1;var t=Ca(),e=b4(),n=tle();return wx=n?function(r){return typeof r=="symbol"}:function(r){var s=e("Symbol");return t(s)&&Object(r)instanceof s},wx}var Sx,fH;function eZe(){return fH||(fH=1,Sx=function(t){try{return String(t)}catch(e){return"Object"}}),Sx}var kx,mH;function tZe(){if(mH)return kx;mH=1;var t=Ca(),e=eZe();return kx=function(n){if(t(n))return n;throw TypeError(e(n)+" is not a function")},kx}var Mx,pH;function rle(){if(pH)return Mx;pH=1;var t=tZe();return Mx=function(e,n){var r=e[n];return r==null?void 0:t(r)},Mx}var Ex,gH;function nZe(){if(gH)return Ex;gH=1;var t=Ca(),e=v3();return Ex=function(n,r){var s,a;if(r==="string"&&t(s=n.toString)&&!e(a=s.call(n))||t(s=n.valueOf)&&!e(a=s.call(n))||r!=="string"&&t(s=n.toString)&&!e(a=s.call(n)))return a;throw TypeError("Can't convert object to primitive value")},Ex}var jx={exports:{}},Tx,hH;function rZe(){return hH||(hH=1,Tx=!1),Tx}var Nx,vH;function iN(){if(vH)return Nx;vH=1;var t=zs();return Nx=function(e,n){try{Object.defineProperty(t,e,{value:n,configurable:!0,writable:!0})}catch(r){t[e]=n}return n},Nx}var Ax,yH;function lN(){if(yH)return Ax;yH=1;var t=zs(),e=iN(),n="__core-js_shared__",r=t[n]||e(n,{});return Ax=r,Ax}var xH;function cN(){if(xH)return jx.exports;xH=1;var t=rZe(),e=lN();return(jx.exports=function(n,r){return e[n]||(e[n]=r!==void 0?r:{})})("versions",[]).push({version:"3.18.3",mode:t?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"}),jx.exports}var Px,bH;function sle(){if(bH)return Px;bH=1;var t=x4();return Px=function(e){return Object(t(e))},Px}var Ix,CH;function l1(){if(CH)return Ix;CH=1;var t=sle(),e={}.hasOwnProperty;return Ix=Object.hasOwn||function(r,s){return e.call(t(r),s)},Ix}var Lx,_H;function ale(){if(_H)return Lx;_H=1;var t=0,e=Math.random();return Lx=function(n){return"Symbol("+String(n===void 0?"":n)+")_"+(++t+e).toString(36)},Lx}var Rx,wH;function y3(){if(wH)return Rx;wH=1;var t=zs(),e=cN(),n=l1(),r=ale(),s=ele(),a=tle(),i=e("wks"),l=t.Symbol,c=a?l:l&&l.withoutSetter||r;return Rx=function(u){return(!n(i,u)||!(s||typeof i[u]=="string"))&&(s&&n(l,u)?i[u]=l[u]:i[u]=c("Symbol."+u)),i[u]},Rx}var Ox,SH;function sZe(){if(SH)return Ox;SH=1;var t=v3(),e=nle(),n=rle(),r=nZe(),s=y3(),a=s("toPrimitive");return Ox=function(i,l){if(!t(i)||e(i))return i;var c=n(i,a),u;if(c){if(l===void 0&&(l="default"),u=c.call(i,l),!t(u)||e(u))return u;throw TypeError("Can't convert object to primitive value")}return l===void 0&&(l="number"),r(i,l)},Ox}var Dx,kH;function ole(){if(kH)return Dx;kH=1;var t=sZe(),e=nle();return Dx=function(n){var r=t(n,"string");return e(r)?r:String(r)},Dx}var Fx,MH;function ile(){if(MH)return Fx;MH=1;var t=zs(),e=v3(),n=t.document,r=e(n)&&e(n.createElement);return Fx=function(s){return r?n.createElement(s):{}},Fx}var Bx,EH;function lle(){if(EH)return Bx;EH=1;var t=i1(),e=no(),n=ile();return Bx=!t&&!e(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!=7}),Bx}var jH;function cle(){if(jH)return ix;jH=1;var t=i1(),e=YWe(),n=Xie(),r=oN(),s=ole(),a=l1(),i=lle(),l=Object.getOwnPropertyDescriptor;return ix.f=t?l:function(u,d){if(u=r(u),d=s(d),i)try{return l(u,d)}catch(f){}if(a(u,d))return n(!e.f.call(u,d),u[d])},ix}var Ux={},Hx,TH;function Ec(){if(TH)return Hx;TH=1;var t=v3();return Hx=function(e){if(t(e))return e;throw TypeError(String(e)+" is not an object")},Hx}var NH;function C4(){if(NH)return Ux;NH=1;var t=i1(),e=lle(),n=Ec(),r=ole(),s=Object.defineProperty;return Ux.f=t?s:function(i,l,c){if(n(i),l=r(l),n(c),e)try{return s(i,l,c)}catch(u){}if("get"in c||"set"in c)throw TypeError("Accessors not supported");return"value"in c&&(i[l]=c.value),i},Ux}var Vx,AH;function _4(){if(AH)return Vx;AH=1;var t=i1(),e=C4(),n=Xie();return Vx=t?function(r,s,a){return e.f(r,s,n(1,a))}:function(r,s,a){return r[s]=a,r},Vx}var $x={exports:{}},qx,PH;function ule(){if(PH)return qx;PH=1;var t=Ca(),e=lN(),n=Function.toString;return t(e.inspectSource)||(e.inspectSource=function(r){return n.call(r)}),qx=e.inspectSource,qx}var zx,IH;function aZe(){if(IH)return zx;IH=1;var t=zs(),e=Ca(),n=ule(),r=t.WeakMap;return zx=e(r)&&/native code/.test(n(r)),zx}var Gx,LH;function dle(){if(LH)return Gx;LH=1;var t=cN(),e=ale(),n=t("keys");return Gx=function(r){return n[r]||(n[r]=e(r))},Gx}var Wx,RH;function uN(){return RH||(RH=1,Wx={}),Wx}var Zx,OH;function fle(){if(OH)return Zx;OH=1;var t=aZe(),e=zs(),n=v3(),r=_4(),s=l1(),a=lN(),i=dle(),l=uN(),c="Object already initialized",u=e.WeakMap,d,f,m,p=function(w){return m(w)?f(w):d(w,{})},h=function(w){return function(S){var k;if(!n(S)||(k=f(S)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return k}};if(t||a.state){var v=a.state||(a.state=new u),y=v.get,x=v.has,b=v.set;d=function(w,S){if(x.call(v,w))throw new TypeError(c);return S.facade=w,b.call(v,w,S),S},f=function(w){return y.call(v,w)||{}},m=function(w){return x.call(v,w)}}else{var _=i("state");l[_]=!0,d=function(w,S){if(s(w,_))throw new TypeError(c);return S.facade=w,r(w,_,S),S},f=function(w){return s(w,_)?w[_]:{}},m=function(w){return s(w,_)}}return Zx={set:d,get:f,has:m,enforce:p,getterFor:h},Zx}var Kx,DH;function dN(){if(DH)return Kx;DH=1;var t=i1(),e=l1(),n=Function.prototype,r=t&&Object.getOwnPropertyDescriptor,s=e(n,"name"),a=s&&function(){}.name==="something",i=s&&(!t||t&&r(n,"name").configurable);return Kx={EXISTS:s,PROPER:a,CONFIGURABLE:i},Kx}var FH;function x3(){if(FH)return $x.exports;FH=1;var t=zs(),e=Ca(),n=l1(),r=_4(),s=iN(),a=ule(),i=fle(),l=dN().CONFIGURABLE,c=i.get,u=i.enforce,d=String(String).split("String");return($x.exports=function(f,m,p,h){var v=h?!!h.unsafe:!1,y=h?!!h.enumerable:!1,x=h?!!h.noTargetGet:!1,b=h&&h.name!==void 0?h.name:m,_;if(e(p)&&(String(b).slice(0,7)==="Symbol("&&(b="["+String(b).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!n(p,"name")||l&&p.name!==b)&&r(p,"name",b),_=u(p),_.source||(_.source=d.join(typeof b=="string"?b:""))),f===t){y?f[m]=p:s(m,p);return}else v?!x&&f[m]&&(y=!0):delete f[m];y?f[m]=p:r(f,m,p)})(Function.prototype,"toString",function(){return e(this)&&c(this).source||a(this)}),$x.exports}var Yx={},Qx,BH;function w4(){if(BH)return Qx;BH=1;var t=Math.ceil,e=Math.floor;return Qx=function(n){var r=+n;return r!==r||r===0?0:(r>0?e:t)(r)},Qx}var Jx,UH;function oZe(){if(UH)return Jx;UH=1;var t=w4(),e=Math.max,n=Math.min;return Jx=function(r,s){var a=t(r);return a<0?e(a+s,0):n(a,s)},Jx}var Xx,HH;function mle(){if(HH)return Xx;HH=1;var t=w4(),e=Math.min;return Xx=function(n){return n>0?e(t(n),9007199254740991):0},Xx}var eb,VH;function iZe(){if(VH)return eb;VH=1;var t=mle();return eb=function(e){return t(e.length)},eb}var tb,$H;function lZe(){if($H)return tb;$H=1;var t=oN(),e=oZe(),n=iZe(),r=function(s){return function(a,i,l){var c=t(a),u=n(c),d=e(l,u),f;if(s&&i!=i){for(;u>d;)if(f=c[d++],f!=f)return!0}else for(;u>d;d++)if((s||d in c)&&c[d]===i)return s||d||0;return!s&&-1}};return tb={includes:r(!0),indexOf:r(!1)},tb}var nb,qH;function ple(){if(qH)return nb;qH=1;var t=l1(),e=oN(),n=lZe().indexOf,r=uN();return nb=function(s,a){var i=e(s),l=0,c=[],u;for(u in i)!t(r,u)&&t(i,u)&&c.push(u);for(;a.length>l;)t(i,u=a[l++])&&(~n(c,u)||c.push(u));return c},nb}var rb,zH;function fN(){return zH||(zH=1,rb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),rb}var GH;function cZe(){if(GH)return Yx;GH=1;var t=ple(),e=fN(),n=e.concat("length","prototype");return Yx.f=Object.getOwnPropertyNames||function(s){return t(s,n)},Yx}var sb={},WH;function uZe(){return WH||(WH=1,sb.f=Object.getOwnPropertySymbols),sb}var ab,ZH;function dZe(){if(ZH)return ab;ZH=1;var t=b4(),e=cZe(),n=uZe(),r=Ec();return ab=t("Reflect","ownKeys")||function(a){var i=e.f(r(a)),l=n.f;return l?i.concat(l(a)):i},ab}var ob,KH;function fZe(){if(KH)return ob;KH=1;var t=l1(),e=dZe(),n=cle(),r=C4();return ob=function(s,a){for(var i=e(a),l=r.f,c=n.f,u=0;u<i.length;u++){var d=i[u];t(s,d)||l(s,d,c(a,d))}},ob}var ib,YH;function mZe(){if(YH)return ib;YH=1;var t=no(),e=Ca(),n=/#|\.prototype\./,r=function(c,u){var d=a[s(c)];return d==l?!0:d==i?!1:e(u)?t(u):!!u},s=r.normalize=function(c){return String(c).replace(n,".").toLowerCase()},a=r.data={},i=r.NATIVE="N",l=r.POLYFILL="P";return ib=r,ib}var lb,QH;function pZe(){if(QH)return lb;QH=1;var t=zs(),e=cle().f,n=_4(),r=x3(),s=iN(),a=fZe(),i=mZe();return lb=function(l,c){var u=l.target,d=l.global,f=l.stat,m,p,h,v,y,x;if(d?p=t:f?p=t[u]||s(u,{}):p=(t[u]||{}).prototype,p)for(h in c){if(y=c[h],l.noTargetGet?(x=e(p,h),v=x&&x.value):v=p[h],m=i(d?h:u+(f?".":"#")+h,l.forced),!m&&v!==void 0){if(typeof y==typeof v)continue;a(y,v)}(l.sham||v&&v.sham)&&n(y,"sham",!0),r(p,h,y,l)}},lb}var cb,JH;function mN(){if(JH)return cb;JH=1;var t=y3(),e=t("toStringTag"),n={};return n[e]="z",cb=String(n)==="[object z]",cb}var ub,XH;function gle(){if(XH)return ub;XH=1;var t=mN(),e=Ca(),n=aN(),r=y3(),s=r("toStringTag"),a=n(function(){return arguments}())=="Arguments",i=function(l,c){try{return l[c]}catch(u){}};return ub=t?n:function(l){var c,u,d;return l===void 0?"Undefined":l===null?"Null":typeof(u=i(c=Object(l),s))=="string"?u:a?n(c):(d=n(c))=="Object"&&e(c.callee)?"Arguments":d},ub}var db,eV;function S4(){if(eV)return db;eV=1;var t=gle();return db=function(e){if(t(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(e)},db}var fb,tV;function hle(){if(tV)return fb;tV=1;var t=Ec();return fb=function(){var e=t(this),n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.sticky&&(n+="y"),n},fb}var S2={},nV;function gZe(){if(nV)return S2;nV=1;var t=no(),e=zs(),n=e.RegExp;return S2.UNSUPPORTED_Y=t(function(){var r=n("a","y");return r.lastIndex=2,r.exec("abcd")!=null}),S2.BROKEN_CARET=t(function(){var r=n("^r","gy");return r.lastIndex=2,r.exec("str")!=null}),S2}var mb,rV;function hZe(){if(rV)return mb;rV=1;var t=ple(),e=fN();return mb=Object.keys||function(r){return t(r,e)},mb}var pb,sV;function vZe(){if(sV)return pb;sV=1;var t=i1(),e=C4(),n=Ec(),r=hZe();return pb=t?Object.defineProperties:function(a,i){n(a);for(var l=r(i),c=l.length,u=0,d;c>u;)e.f(a,d=l[u++],i[d]);return a},pb}var gb,aV;function yZe(){if(aV)return gb;aV=1;var t=b4();return gb=t("document","documentElement"),gb}var hb,oV;function xZe(){if(oV)return hb;oV=1;var t=Ec(),e=vZe(),n=fN(),r=uN(),s=yZe(),a=ile(),i=dle(),l=">",c="<",u="prototype",d="script",f=i("IE_PROTO"),m=function(){},p=function(b){return c+d+l+b+c+"/"+d+l},h=function(b){b.write(p("")),b.close();var _=b.parentWindow.Object;return b=null,_},v=function(){var b=a("iframe"),_="java"+d+":",w;return b.style.display="none",s.appendChild(b),b.src=String(_),w=b.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},y,x=function(){try{y=new ActiveXObject("htmlfile")}catch(_){}x=typeof document<"u"?document.domain&&y?h(y):v():h(y);for(var b=n.length;b--;)delete x[u][n[b]];return x()};return r[f]=!0,hb=Object.create||function(_,w){var S;return _!==null?(m[u]=t(_),S=new m,m[u]=null,S[f]=_):S=x(),w===void 0?S:e(S,w)},hb}var vb,iV;function bZe(){if(iV)return vb;iV=1;var t=no(),e=zs(),n=e.RegExp;return vb=t(function(){var r=n(".","s");return!(r.dotAll&&r.exec("\n")&&r.flags==="s")}),vb}var yb,lV;function CZe(){if(lV)return yb;lV=1;var t=no(),e=zs(),n=e.RegExp;return yb=t(function(){var r=n("(?<a>b)","g");return r.exec("b").groups.a!=="b"||"b".replace(r,"$<a>c")!=="bc"}),yb}var xb,cV;function pN(){if(cV)return xb;cV=1;var t=S4(),e=hle(),n=gZe(),r=cN(),s=xZe(),a=fle().get,i=bZe(),l=CZe(),c=RegExp.prototype.exec,u=r("native-string-replace",String.prototype.replace),d=c,f=function(){var v=/a/,y=/b*/g;return c.call(v,"a"),c.call(y,"a"),v.lastIndex!==0||y.lastIndex!==0}(),m=n.UNSUPPORTED_Y||n.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,h=f||p||m||i||l;return h&&(d=function(y){var x=this,b=a(x),_=t(y),w=b.raw,S,k,M,E,T,j,A;if(w)return w.lastIndex=x.lastIndex,S=d.call(w,_),x.lastIndex=w.lastIndex,S;var I=b.groups,L=m&&x.sticky,O=e.call(x),R=x.source,H=0,V=_;if(L&&(O=O.replace("y",""),O.indexOf("g")===-1&&(O+="g"),V=_.slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&_.charAt(x.lastIndex-1)!=="\n")&&(R="(?: "+R+")",V=" "+V,H++),k=new RegExp("^(?:"+R+")",O)),p&&(k=new RegExp("^"+R+"$(?!\\s)",O)),f&&(M=x.lastIndex),E=c.call(L?k:x,V),L?E?(E.input=E.input.slice(H),E[0]=E[0].slice(H),E.index=x.lastIndex,x.lastIndex+=E[0].length):x.lastIndex=0:f&&E&&(x.lastIndex=x.global?E.index+E[0].length:M),p&&E&&E.length>1&&u.call(E[0],k,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(E[T]=void 0)}),E&&I)for(E.groups=j=s(null),T=0;T<I.length;T++)A=I[T],j[A[0]]=E[A[1]];return E}),xb=d,xb}var uV;function vle(){if(uV)return ZU;uV=1;var t=pZe(),e=pN();return t({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e}),ZU}vle();var dV={},bb,fV;function _Ze(){if(fV)return bb;fV=1,vle();var t=x3(),e=pN(),n=no(),r=y3(),s=_4(),a=r("species"),i=RegExp.prototype;return bb=function(l,c,u,d){var f=r(l),m=!n(function(){var y={};return y[f]=function(){return 7},""[l](y)!=7}),p=m&&!n(function(){var y=!1,x=/a/;return l==="split"&&(x={},x.constructor={},x.constructor[a]=function(){return x},x.flags="",x[f]=/./[f]),x.exec=function(){return y=!0,null},x[f](""),!y});if(!m||!p||u){var h=/./[f],v=c(f,""[l],function(y,x,b,_,w){var S=x.exec;return S===e||S===i.exec?m&&!w?{done:!0,value:h.call(x,b,_)}:{done:!0,value:y.call(b,x,_)}:{done:!1}});t(String.prototype,l,v[0]),t(i,f,v[1])}d&&s(i[f],"sham",!0)},bb}var Cb,mV;function wZe(){if(mV)return Cb;mV=1;var t=w4(),e=S4(),n=x4(),r=function(s){return function(a,i){var l=e(n(a)),c=t(i),u=l.length,d,f;return c<0||c>=u?s?"":void 0:(d=l.charCodeAt(c),d<55296||d>56319||c+1===u||(f=l.charCodeAt(c+1))<56320||f>57343?s?l.charAt(c):d:s?l.slice(c,c+2):(d-55296<<10)+(f-56320)+65536)}};return Cb={codeAt:r(!1),charAt:r(!0)},Cb}var _b,pV;function SZe(){if(pV)return _b;pV=1;var t=wZe().charAt;return _b=function(e,n,r){return n+(r?t(e,n).length:1)},_b}var wb,gV;function kZe(){if(gV)return wb;gV=1;var t=sle(),e=Math.floor,n="".replace,r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;return wb=function(a,i,l,c,u,d){var f=l+a.length,m=c.length,p=s;return u!==void 0&&(u=t(u),p=r),n.call(d,p,function(h,v){var y;switch(v.charAt(0)){case"$":return"$";case"&":return a;case"`":return i.slice(0,l);case"'":return i.slice(f);case"<":y=u[v.slice(1,-1)];break;default:var x=+v;if(x===0)return h;if(x>m){var b=e(x/10);return b===0?h:b<=m?c[b-1]===void 0?v.charAt(1):c[b-1]+v.charAt(1):h}y=c[x-1]}return y===void 0?"":y})},wb}var Sb,hV;function MZe(){if(hV)return Sb;hV=1;var t=Ec(),e=Ca(),n=aN(),r=pN();return Sb=function(s,a){var i=s.exec;if(e(i)){var l=i.call(s,a);return l!==null&&t(l),l}if(n(s)==="RegExp")return r.call(s,a);throw TypeError("RegExp#exec called on incompatible receiver")},Sb}var vV;function EZe(){if(vV)return dV;vV=1;var t=_Ze(),e=no(),n=Ec(),r=Ca(),s=w4(),a=mle(),i=S4(),l=x4(),c=SZe(),u=rle(),d=kZe(),f=MZe(),m=y3(),p=m("replace"),h=Math.max,v=Math.min,y=function(w){return w===void 0?w:String(w)},x=function(){return"a".replace(/./,"$0")==="$0"}(),b=function(){return/./[p]?/./[p]("a","$0")==="":!1}(),_=!e(function(){var w=/./;return w.exec=function(){var S=[];return S.groups={a:"7"},S},"".replace(w,"$<a>")!=="7"});return t("replace",function(w,S,k){var M=b?"$":"$0";return[function(T,j){var A=l(this),I=T==null?void 0:u(T,p);return I?I.call(T,A,j):S.call(i(A),T,j)},function(E,T){var j=n(this),A=i(E);if(typeof T=="string"&&T.indexOf(M)===-1&&T.indexOf("$<")===-1){var I=k(S,j,A,T);if(I.done)return I.value}var L=r(T);L||(T=i(T));var O=j.global;if(O){var R=j.unicode;j.lastIndex=0}for(var H=[];;){var V=f(j,A);if(V===null||(H.push(V),!O))break;var z=i(V[0]);z===""&&(j.lastIndex=c(A,a(j.lastIndex),R))}for(var $="",D=0,Y=0;Y<H.length;Y++){V=H[Y];for(var G=i(V[0]),F=h(v(s(V.index),A.length),0),X=[],te=1;te<V.length;te++)X.push(y(V[te]));var ae=V.groups;if(L){var me=[G].concat(X,F,A);ae!==void 0&&me.push(ae);var W=i(T.apply(void 0,me))}else W=d(G,A,F,X,ae,T);F>=D&&($+=A.slice(D,F)+W,D=F+G.length)}return $+A.slice(D)}]},!_||!x||b),dV}EZe();var yV={},xV={},kb,bV;function jZe(){return bV||(bV=1,kb=typeof Bun=="function"&&Bun&&typeof Bun.version=="string"),kb}var Mb,CV;function TZe(){if(CV)return Mb;CV=1;var t=TypeError;return Mb=function(e,n){if(e<n)throw t("Not enough arguments");return e},Mb}var Eb,_V;function yle(){if(_V)return Eb;_V=1;var t=Jr(),e=IT(),n=Tr(),r=jZe(),s=hie(),a=XT(),i=TZe(),l=t.Function,c=/MSIE .\./.test(s)||r&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Eb=function(u,d){var f=d?2:1;return c?function(m,p){var h=i(arguments.length,1)>f,v=n(m)?m:l(m),y=h?a(arguments,f):[],x=h?function(){e(v,this,y)}:v;return d?u(x,p):u(x)}:u},Eb}var wV;function NZe(){if(wV)return xV;wV=1;var t=bn(),e=Jr(),n=yle(),r=n(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),xV}var SV={},kV;function AZe(){if(kV)return SV;kV=1;var t=bn(),e=Jr(),n=yle(),r=n(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),SV}var MV;function xle(){return MV||(MV=1,NZe(),AZe()),yV}var jb,EV;function PZe(){if(EV)return jb;EV=1,xle();var t=Br();return jb=t.setInterval,jb}var Tb,jV;function IZe(){return jV||(jV=1,Tb=PZe()),Tb}var LZe=IZe();const eMt=St(LZe);var TV={},Nb,NV;function ble(){if(NV)return Nb;NV=1;var t=jr();return Nb=function(e,n){var r=[][e];return!!r&&t(function(){r.call(null,n||function(){return 1},1)})},Nb}var AV;function RZe(){if(AV)return TV;AV=1;var t=bn(),e=LT(),n=kie().indexOf,r=ble(),s=e([].indexOf),a=!!s&&1/s([1],1,-0)<0,i=a||!r("indexOf");return t({target:"Array",proto:!0,forced:i},{indexOf:function(c){var u=arguments.length>1?arguments[1]:void 0;return a?s(this,c,u)||0:n(this,c,u)}}),TV}var Ab,PV;function OZe(){if(PV)return Ab;PV=1,RZe();var t=sm();return Ab=t("Array").indexOf,Ab}var Pb,IV;function DZe(){if(IV)return Pb;IV=1;var t=kc(),e=OZe(),n=Array.prototype;return Pb=function(r){var s=r.indexOf;return r===n||t(n,r)&&s===n.indexOf?e:s},Pb}var Ib,LV;function FZe(){if(LV)return Ib;LV=1;var t=DZe();return Ib=t,Ib}var Lb,RV;function BZe(){return RV||(RV=1,Lb=FZe()),Lb}var UZe=BZe();const tMt=St(UZe);var OV={},Rb,DV;function HZe(){if(DV)return Rb;DV=1;var t=Ss(),e=em(),n=TypeError,r=Object.getOwnPropertyDescriptor,s=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}();return Rb=s?function(a,i){if(e(a)&&!r(a,"length").writable)throw n("Cannot set read only .length");return a.length=i}:function(a,i){return a.length=i},Rb}var Ob,FV;function VZe(){if(FV)return Ob;FV=1;var t=c4(),e=TypeError;return Ob=function(n,r){if(!delete n[r])throw e("Cannot delete property "+t(r)+" of "+t(n))},Ob}var BV;function $Ze(){if(BV)return OV;BV=1;var t=bn(),e=Mc(),n=g4(),r=m4(),s=o1(),a=HZe(),i=wie(),l=qT(),c=tm(),u=VZe(),d=p4(),f=d("splice"),m=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!f},{splice:function(v,y){var x=e(this),b=s(x),_=n(v,b),w=arguments.length,S,k,M,E,T,j;for(w===0?S=k=0:w===1?(S=0,k=b-_):(S=w-2,k=p(m(r(y),0),b-_)),i(b+S-k),M=l(x,k),E=0;E<k;E++)T=_+E,T in x&&c(M,E,x[T]);if(M.length=k,S<k){for(E=_;E<b-k;E++)T=E+k,j=E+S,T in x?x[j]=x[T]:u(x,j);for(E=b;E>b-k+S;E--)u(x,E-1)}else if(S>k)for(E=b-k;E>_;E--)T=E+k-1,j=E+S-1,T in x?x[j]=x[T]:u(x,j);for(E=0;E<S;E++)x[E+_]=arguments[E+2];return a(x,b-k+S),M}}),OV}var Db,UV;function qZe(){if(UV)return Db;UV=1,$Ze();var t=sm();return Db=t("Array").splice,Db}var Fb,HV;function zZe(){if(HV)return Fb;HV=1;var t=kc(),e=qZe(),n=Array.prototype;return Fb=function(r){var s=r.splice;return r===n||t(n,r)&&s===n.splice?e:s},Fb}var Bb,VV;function GZe(){if(VV)return Bb;VV=1;var t=zZe();return Bb=t,Bb}var Ub,$V;function WZe(){return $V||($V=1,Ub=GZe()),Ub}var ZZe=WZe();const nMt=St(ZZe);var Hb,qV;function KZe(){if(qV)return Hb;qV=1,Sie();var t=sm();return Hb=t("Array").concat,Hb}var Vb,zV;function YZe(){if(zV)return Vb;zV=1;var t=kc(),e=KZe(),n=Array.prototype;return Vb=function(r){var s=r.concat;return r===n||t(n,r)&&s===n.concat?e:s},Vb}var $b,GV;function QZe(){if(GV)return $b;GV=1;var t=YZe();return $b=t,$b}var qb,WV;function JZe(){return WV||(WV=1,qb=QZe()),qb}var XZe=JZe();const e0=St(XZe);var ZV={},KV;function eKe(){if(KV)return ZV;KV=1;var t=bn(),e=ur(),n=Date,r=e(n.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return r(new n)}}),ZV}var zb,YV;function tKe(){if(YV)return zb;YV=1,eKe();var t=Br();return zb=t.Date.now,zb}var Gb,QV;function nKe(){if(QV)return Gb;QV=1;var t=tKe();return Gb=t,Gb}var Wb,JV;function rKe(){return JV||(JV=1,Wb=nKe()),Wb}var sKe=rKe();const t0=St(sKe);var XV={},Zb,e$;function aKe(){if(e$)return Zb;e$=1;var t=JT().forEach,e=ble(),n=e("forEach");return Zb=n?[].forEach:function(s){return t(this,s,arguments.length>1?arguments[1]:void 0)},Zb}var t$;function oKe(){if(t$)return XV;t$=1;var t=bn(),e=aKe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),XV}var Kb,n$;function iKe(){if(n$)return Kb;n$=1,oKe();var t=sm();return Kb=t("Array").forEach,Kb}var Yb,r$;function lKe(){if(r$)return Yb;r$=1;var t=iKe();return Yb=t,Yb}var Qb,s$;function cKe(){if(s$)return Qb;s$=1,eN();var t=nm(),e=qs(),n=kc(),r=lKe(),s=Array.prototype,a={DOMTokenList:!0,NodeList:!0};return Qb=function(i){var l=i.forEach;return i===s||n(s,i)&&l===s.forEach||e(a,t(i))?r:l},Qb}var Jb,a$;function uKe(){return a$||(a$=1,Jb=cKe()),Jb}var dKe=uKe();const fKe=St(dKe);var o$={},i$;function mKe(){if(i$)return o$;i$=1;var t=bn(),e=Mc(),n=GT(),r=jr(),s=r(function(){n(1)});return t({target:"Object",stat:!0,forced:s},{keys:function(i){return n(e(i))}}),o$}var Xb,l$;function pKe(){if(l$)return Xb;l$=1,mKe();var t=Br();return Xb=t.Object.keys,Xb}var eC,c$;function gKe(){if(c$)return eC;c$=1;var t=pKe();return eC=t,eC}var tC,u$;function hKe(){return u$||(u$=1,tC=gKe()),tC}var vKe=hKe();const rMt=St(vKe);var nC,d$;function yKe(){if(d$)return nC;d$=1,Nie();var t=Br();return nC=t.Object.getOwnPropertySymbols,nC}var rC,f$;function xKe(){if(f$)return rC;f$=1;var t=yKe();return rC=t,rC}var sC,m$;function bKe(){return m$||(m$=1,sC=xKe()),sC}var CKe=bKe();const sMt=St(CKe);var p$={},g$;function _Ke(){if(g$)return p$;g$=1;var t=bn(),e=JT().filter,n=p4(),r=n("filter");return t({target:"Array",proto:!0,forced:!r},{filter:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),p$}var aC,h$;function wKe(){if(h$)return aC;h$=1,_Ke();var t=sm();return aC=t("Array").filter,aC}var oC,v$;function SKe(){if(v$)return oC;v$=1;var t=kc(),e=wKe(),n=Array.prototype;return oC=function(r){var s=r.filter;return r===n||t(n,r)&&s===n.filter?e:s},oC}var iC,y$;function kKe(){if(y$)return iC;y$=1;var t=SKe();return iC=t,iC}var lC,x$;function MKe(){return x$||(x$=1,lC=kKe()),lC}var EKe=MKe();const aMt=St(EKe);var cC={exports:{}},b$={},C$;function jKe(){if(C$)return b$;C$=1;var t=bn(),e=jr(),n=ei(),r=f4().f,s=Ss(),a=!s||e(function(){r(1)});return t({target:"Object",stat:!0,forced:a,sham:!s},{getOwnPropertyDescriptor:function(l,c){return r(n(l),c)}}),b$}var _$;function TKe(){if(_$)return cC.exports;_$=1,jKe();var t=Br(),e=t.Object,n=cC.exports=function(s,a){return e.getOwnPropertyDescriptor(s,a)};return e.getOwnPropertyDescriptor.sham&&(n.sham=!0),cC.exports}var uC,w$;function NKe(){if(w$)return uC;w$=1;var t=TKe();return uC=t,uC}var dC,S$;function AKe(){return S$||(S$=1,dC=NKe()),dC}var PKe=AKe();const oMt=St(PKe);var k$={},fC,M$;function IKe(){if(M$)return fC;M$=1;var t=ti(),e=ur(),n=KT(),r=YT(),s=ll(),a=e([].concat);return fC=t("Reflect","ownKeys")||function(l){var c=n.f(s(l)),u=r.f;return u?a(c,u(l)):c},fC}var E$;function LKe(){if(E$)return k$;E$=1;var t=bn(),e=Ss(),n=IKe(),r=ei(),s=f4(),a=tm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(l){for(var c=r(l),u=s.f,d=n(c),f={},m=0,p,h;d.length>m;)h=u(c,p=d[m++]),h!==void 0&&a(f,p,h);return f}}),k$}var mC,j$;function RKe(){if(j$)return mC;j$=1,LKe();var t=Br();return mC=t.Object.getOwnPropertyDescriptors,mC}var pC,T$;function OKe(){if(T$)return pC;T$=1;var t=RKe();return pC=t,pC}var gC,N$;function DKe(){return N$||(N$=1,gC=OKe()),gC}var FKe=DKe();const iMt=St(FKe);var hC={exports:{}},A$={},P$;function BKe(){if(P$)return A$;P$=1;var t=bn(),e=Ss(),n=WT().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==n,sham:!e},{defineProperties:n}),A$}var I$;function UKe(){if(I$)return hC.exports;I$=1,BKe();var t=Br(),e=t.Object,n=hC.exports=function(s,a){return e.defineProperties(s,a)};return e.defineProperties.sham&&(n.sham=!0),hC.exports}var vC,L$;function HKe(){if(L$)return vC;L$=1;var t=UKe();return vC=t,vC}var yC,R$;function VKe(){return R$||(R$=1,yC=HKe()),yC}var $Ke=VKe();const lMt=St($Ke);var xC,O$;function qKe(){return O$||(O$=1,xC=Jie()),xC}var zKe=qKe();const cMt=St(zKe);function GKe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function WKe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ZKe=function(){function t(n){var r=this;this._insertTag=function(s){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,a),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(WKe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=GKe(s);try{a.insertRule(r,a.cssRules.length)}catch(i){}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Vr="-ms-",Lh="-moz-",ln="-webkit-",Cle="comm",gN="rule",hN="decl",KKe="@import",_le="@keyframes",YKe="@layer",QKe=Math.abs,k4=String.fromCharCode,JKe=Object.assign;function XKe(t,e){return Pr(t,0)^45?(((e<<2^Pr(t,0))<<2^Pr(t,1))<<2^Pr(t,2))<<2^Pr(t,3):0}function wle(t){return t.trim()}function eYe(t,e){return(t=e.exec(t))?t[0]:t}function cn(t,e,n){return t.replace(e,n)}function US(t,e){return t.indexOf(e)}function Pr(t,e){return t.charCodeAt(e)|0}function n0(t,e,n){return t.slice(e,n)}function bo(t){return t.length}function vN(t){return t.length}function k2(t,e){return e.push(t),t}function tYe(t,e){return t.map(e).join("")}var M4=1,ef=1,Sle=0,Cs=0,sr=0,am="";function E4(t,e,n,r,s,a,i){return{value:t,root:e,parent:n,type:r,props:s,children:a,line:M4,column:ef,length:i,return:""}}function _m(t,e){return JKe(E4("",null,null,"",null,null,0),t,{length:-t.length},e)}function nYe(){return sr}function rYe(){return sr=Cs>0?Pr(am,--Cs):0,ef--,sr===10&&(ef=1,M4--),sr}function Os(){return sr=Cs<Sle?Pr(am,Cs++):0,ef++,sr===10&&(ef=1,M4++),sr}function Po(){return Pr(am,Cs)}function vg(){return Cs}function b3(t,e){return n0(am,t,e)}function r0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function kle(t){return M4=ef=1,Sle=bo(am=t),Cs=0,[]}function Mle(t){return am="",t}function yg(t){return wle(b3(Cs-1,HS(t===91?t+2:t===40?t+1:t)))}function sYe(t){for(;(sr=Po())&&sr<33;)Os();return r0(t)>2||r0(sr)>3?"":" "}function aYe(t,e){for(;--e&&Os()&&!(sr<48||sr>102||sr>57&&sr<65||sr>70&&sr<97););return b3(t,vg()+(e<6&&Po()==32&&Os()==32))}function HS(t){for(;Os();)switch(sr){case t:return Cs;case 34:case 39:t!==34&&t!==39&&HS(sr);break;case 40:t===41&&HS(t);break;case 92:Os();break}return Cs}function oYe(t,e){for(;Os()&&t+sr!==57;)if(t+sr===84&&Po()===47)break;return"/*"+b3(e,Cs-1)+"*"+k4(t===47?t:Os())}function iYe(t){for(;!r0(Po());)Os();return b3(t,Cs)}function lYe(t){return Mle(xg("",null,null,null,[""],t=kle(t),0,[0],t))}function xg(t,e,n,r,s,a,i,l,c){for(var u=0,d=0,f=i,m=0,p=0,h=0,v=1,y=1,x=1,b=0,_="",w=s,S=a,k=r,M=_;y;)switch(h=b,b=Os()){case 40:if(h!=108&&Pr(M,f-1)==58){US(M+=cn(yg(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:M+=yg(b);break;case 9:case 10:case 13:case 32:M+=sYe(h);break;case 92:M+=aYe(vg()-1,7);continue;case 47:switch(Po()){case 42:case 47:k2(cYe(oYe(Os(),vg()),e,n),c);break;default:M+="/"}break;case 123*v:l[u++]=bo(M)*x;case 125*v:case 59:case 0:switch(b){case 0:case 125:y=0;case 59+d:x==-1&&(M=cn(M,/\f/g,"")),p>0&&bo(M)-f&&k2(p>32?F$(M+";",r,n,f-1):F$(cn(M," ","")+";",r,n,f-2),c);break;case 59:M+=";";default:if(k2(k=D$(M,e,n,u,d,s,l,_,w=[],S=[],f),a),b===123)if(d===0)xg(M,e,k,k,w,a,f,l,S);else switch(m===99&&Pr(M,3)===110?100:m){case 100:case 108:case 109:case 115:xg(t,k,k,r&&k2(D$(t,k,k,0,0,s,l,_,s,w=[],f),S),s,S,f,l,r?w:S);break;default:xg(M,k,k,k,[""],S,0,l,S)}}u=d=p=0,v=x=1,_=M="",f=i;break;case 58:f=1+bo(M),p=h;default:if(v<1){if(b==123)--v;else if(b==125&&v++==0&&rYe()==125)continue}switch(M+=k4(b),b*v){case 38:x=d>0?1:(M+="\f",-1);break;case 44:l[u++]=(bo(M)-1)*x,x=1;break;case 64:Po()===45&&(M+=yg(Os())),m=Po(),d=f=bo(_=M+=iYe(vg())),b++;break;case 45:h===45&&bo(M)==2&&(v=0)}}return a}function D$(t,e,n,r,s,a,i,l,c,u,d){for(var f=s-1,m=s===0?a:[""],p=vN(m),h=0,v=0,y=0;h<r;++h)for(var x=0,b=n0(t,f+1,f=QKe(v=i[h])),_=t;x<p;++x)(_=wle(v>0?m[x]+" "+b:cn(b,/&\f/g,m[x])))&&(c[y++]=_);return E4(t,e,n,s===0?gN:l,c,u,d)}function cYe(t,e,n){return E4(t,e,n,Cle,k4(nYe()),n0(t,2,-2),0)}function F$(t,e,n,r){return E4(t,e,n,hN,n0(t,0,r),n0(t,r+1,-1),r)}function hd(t,e){for(var n="",r=vN(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function uYe(t,e,n,r){switch(t.type){case YKe:if(t.children.length)break;case KKe:case hN:return t.return=t.return||t.value;case Cle:return"";case _le:return t.return=t.value+"{"+hd(t.children,r)+"}";case gN:t.value=t.props.join(",")}return bo(n=hd(t.children,r))?t.return=t.value+"{"+n+"}":""}function dYe(t){var e=vN(t);return function(n,r,s,a){for(var i="",l=0;l<e;l++)i+=t[l](n,r,s,a)||"";return i}}function fYe(t){return function(e){e.root||(e=e.return)&&t(e)}}function mYe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var pYe=function(e,n,r){for(var s=0,a=0;s=a,a=Po(),s===38&&a===12&&(n[r]=1),!r0(a);)Os();return b3(e,Cs)},gYe=function(e,n){var r=-1,s=44;do switch(r0(s)){case 0:s===38&&Po()===12&&(n[r]=1),e[r]+=pYe(Cs-1,n,r);break;case 2:e[r]+=yg(s);break;case 4:if(s===44){e[++r]=Po()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=k4(s)}while(s=Os());return e},hYe=function(e,n){return Mle(gYe(kle(e),n))},B$=new WeakMap,vYe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!B$.get(r))&&!s){B$.set(e,!0);for(var a=[],i=hYe(n,a),l=r.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=a[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},yYe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Ele(t,e){switch(XKe(t,e)){case 5103:return ln+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ln+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ln+t+Lh+t+Vr+t+t;case 6828:case 4268:return ln+t+Vr+t+t;case 6165:return ln+t+Vr+"flex-"+t+t;case 5187:return ln+t+cn(t,/(\w+).+(:[^]+)/,ln+"box-$1$2"+Vr+"flex-$1$2")+t;case 5443:return ln+t+Vr+"flex-item-"+cn(t,/flex-|-self/,"")+t;case 4675:return ln+t+Vr+"flex-line-pack"+cn(t,/align-content|flex-|-self/,"")+t;case 5548:return ln+t+Vr+cn(t,"shrink","negative")+t;case 5292:return ln+t+Vr+cn(t,"basis","preferred-size")+t;case 6060:return ln+"box-"+cn(t,"-grow","")+ln+t+Vr+cn(t,"grow","positive")+t;case 4554:return ln+cn(t,/([^-])(transform)/g,"$1"+ln+"$2")+t;case 6187:return cn(cn(cn(t,/(zoom-|grab)/,ln+"$1"),/(image-set)/,ln+"$1"),t,"")+t;case 5495:case 3959:return cn(t,/(image-set\([^]*)/,ln+"$1$`$1");case 4968:return cn(cn(t,/(.+:)(flex-)?(.*)/,ln+"box-pack:$3"+Vr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ln+t+t;case 4095:case 3583:case 4068:case 2532:return cn(t,/(.+)-inline(.+)/,ln+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bo(t)-1-e>6)switch(Pr(t,e+1)){case 109:if(Pr(t,e+4)!==45)break;case 102:return cn(t,/(.+:)(.+)-([^]+)/,"$1"+ln+"$2-$3$1"+Lh+(Pr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~US(t,"stretch")?Ele(cn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Pr(t,e+1)!==115)break;case 6444:switch(Pr(t,bo(t)-3-(~US(t,"!important")&&10))){case 107:return cn(t,":",":"+ln)+t;case 101:return cn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ln+(Pr(t,14)===45?"inline-":"")+"box$3$1"+ln+"$2$3$1"+Vr+"$2box$3")+t}break;case 5936:switch(Pr(t,e+11)){case 114:return ln+t+Vr+cn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ln+t+Vr+cn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ln+t+Vr+cn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ln+t+Vr+t+t}return t}var xYe=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case hN:e.return=Ele(e.value,e.length);break;case _le:return hd([_m(e,{value:cn(e.value,"@","@"+ln)})],s);case gN:if(e.length)return tYe(e.props,function(a){switch(eYe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hd([_m(e,{props:[cn(a,/:(read-\w+)/,":"+Lh+"$1")]})],s);case"::placeholder":return hd([_m(e,{props:[cn(a,/:(plac\w+)/,":"+ln+"input-$1")]}),_m(e,{props:[cn(a,/:(plac\w+)/,":"+Lh+"$1")]}),_m(e,{props:[cn(a,/:(plac\w+)/,Vr+"input-$1")]})],s)}return""})}},bYe=[xYe],CYe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var s=e.stylisPlugins||bYe,a={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)a[y[x]]=!0;l.push(v)});var c,u=[vYe,yYe];{var d,f=[uYe,fYe(function(v){d.insert(v)})],m=dYe(u.concat(s,f)),p=function(y){return hd(lYe(y),m)};c=function(y,x,b,_){d=b,p(y?y+"{"+x.styles+"}":x.styles),_&&(h.inserted[x.name]=!0)}}var h={key:n,sheet:new ZKe({key:n,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return h.sheet.hydrate(l),h};function _Ye(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wYe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},SYe=/[A-Z]|^ms/g,kYe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,jle=function(e){return e.charCodeAt(1)===45},U$=function(e){return e!=null&&typeof e!="boolean"},bC=mYe(function(t){return jle(t)?t:t.replace(SYe,"-$&").toLowerCase()}),H$=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(kYe,function(r,s,a){return Co={name:s,styles:a,next:Co},s})}return wYe[e]!==1&&!jle(e)&&typeof n=="number"&&n!==0?n+"px":n};function s0(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Co={name:n.name,styles:n.styles,next:Co},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Co={name:r.name,styles:r.styles,next:Co},r=r.next;var s=n.styles+";";return s}return MYe(t,e,n)}case"function":{if(t!==void 0){var a=Co,i=n(t);return Co=a,s0(t,e,i)}break}}if(e==null)return n;var l=e[n];return l!==void 0?l:n}function MYe(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=s0(t,e,n[s])+";";else for(var a in n){var i=n[a];if(typeof i!="object")e!=null&&e[i]!==void 0?r+=a+"{"+e[i]+"}":U$(i)&&(r+=bC(a)+":"+H$(a,i)+";");else if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var l=0;l<i.length;l++)U$(i[l])&&(r+=bC(a)+":"+H$(a,i[l])+";");else{var c=s0(t,e,i);switch(a){case"animation":case"animationName":{r+=bC(a)+":"+c+";";break}default:r+=a+"{"+c+"}"}}}return r}var V$=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Co,CC=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,a="";Co=void 0;var i=e[0];i==null||i.raw===void 0?(s=!1,a+=s0(r,n,i)):a+=i[0];for(var l=1;l<e.length;l++)a+=s0(r,n,e[l]),s&&(a+=i[l]);V$.lastIndex=0;for(var c="",u;(u=V$.exec(a))!==null;)c+="-"+u[1];var d=_Ye(a)+c;return{name:d,styles:a,next:Co}},EYe=!0;function Tle(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):r+=s+" "}),r}var jYe=function(e,n,r){var s=e.key+"-"+n.name;(r===!1||EYe===!1)&&e.registered[s]===void 0&&(e.registered[s]=n.styles)},TYe=function(e,n,r){jYe(e,n,r);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+s:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function $$(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function q$(t,e,n){var r=[],s=Tle(t,r,n);return r.length<2?n:s+e(r)}var uMt=function(e){var n=CYe(e);n.sheet.speedy=function(l){this.isSpeedy=l},n.compat=!0;var r=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=CC(u,n.registered,void 0);return TYe(n,f,!1),n.key+"-"+f.name},s=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=CC(u,n.registered),m="animation-"+f.name;return $$(n,{name:f.name,styles:"@keyframes "+m+"{"+f.styles+"}"}),m},a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=CC(u,n.registered);$$(n,f)},i=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return q$(n.registered,r,NYe(u))};return{css:r,cx:i,injectGlobal:a,keyframes:s,hydrate:function(c){c.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:Tle.bind(null,n.registered),merge:q$.bind(null,n.registered,r)}},NYe=function t(e){for(var n="",r=0;r<e.length;r++){var s=e[r];if(s!=null){var a=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))a=t(s);else{a="";for(var i in s)s[i]&&i&&(a&&(a+=" "),a+=i)}break}default:a=s}a&&(n&&(n+=" "),n+=a)}}return n},z$={},G$;function AYe(){if(G$)return z$;G$=1;var t=x3(),e=Date.prototype,n="Invalid Date",r="toString",s=e[r],a=e.getTime;return String(new Date(NaN))!=n&&t(e,r,function(){var l=a.call(this);return l===l?s.call(this):n}),z$}AYe();var W$={},_C,Z$;function PYe(){if(Z$)return _C;Z$=1;var t=mN(),e=gle();return _C=t?{}.toString:function(){return"[object "+e(this)+"]"},_C}var K$;function IYe(){if(K$)return W$;K$=1;var t=mN(),e=x3(),n=PYe();return t||e(Object.prototype,"toString",n,{unsafe:!0}),W$}IYe();var Y$={},Q$;function LYe(){if(Q$)return Y$;Q$=1;var t=dN().PROPER,e=x3(),n=Ec(),r=S4(),s=no(),a=hle(),i="toString",l=RegExp.prototype,c=l[i],u=s(function(){return c.call({source:"a",flags:"b"})!="/a/b"}),d=t&&c.name!=i;return(u||d)&&e(RegExp.prototype,i,function(){var m=n(this),p=r(m.source),h=m.flags,v=r(h===void 0&&m instanceof RegExp&&!("flags"in l)?a.call(m):h);return"/"+p+"/"+v},{unsafe:!0}),Y$}LYe();var wC,J$;function RYe(){if(J$)return wC;J$=1;var t=typeof window<"u"?window:self;return wC=t.crypto||t.msCrypto,wC}var SC,X$;function OYe(){return X$||(X$=1,SC=function(t){if(!t)return Math.random;var e=Math.pow(2,32),n=new Uint32Array(1);return function(){return t.getRandomValues(n)[0]/e}}(RYe())),SC}var DYe=OYe();const FYe=St(DYe);function dMt(){return FYe().toString(26).substr(2,5).replace(/[0-9]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+65)})}var kC,eq;function BYe(){return eq||(eq=1,kC=Cie()),kC}var UYe=BYe();const VS=St(UYe);function HYe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"white",n="background-color: ".concat(t,"; border-radius: 4px; padding: 2px 4px;");return e&&(n+=" color: ".concat(e,";")),[n,""]}function tq(t,e){for(var n,r,s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i];return e0(n=[e0(r="%c".concat(t,"%c ")).call(r,e)]).call(n,Zc(HYe("green","white")),a)}function fMt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.force,r=n===void 0?!1:n;return r?function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];if(a.length){var l=a,c=nN(l,1),u=c[0];typeof u=="function"&&(a=u());var d=VS(a[0])?a:[a],f=d.length===1;fKe(d).call(d,function(m,p){if(f){var h,v;(h=console).log.apply(h,Zc(tq.apply(void 0,e0(v=[t]).call(v,Zc(m)))))}else if(p){var y;(y=console).log.apply(y,Zc(VS(m)?m:[m]))}else{var x,b;(x=console).groupCollapsed.apply(x,Zc(tq.apply(void 0,e0(b=[t]).call(b,Zc(m)))))}}),f||console.groupEnd()}}:function(){return 0}}var nq={},rq;function VYe(){if(rq)return nq;rq=1;var t=i1(),e=dN().EXISTS,n=C4().f,r=Function.prototype,s=r.toString,a=/^\s*function ([^ (]*)/,i="name";return t&&!e&&n(r,i,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(l){return""}}}),nq}VYe();var MC,sq;function $Ye(){if(sq)return MC;sq=1,xle();var t=Br();return MC=t.setTimeout,MC}var EC,aq;function qYe(){return aq||(aq=1,EC=$Ye()),EC}var zYe=qYe();const GYe=St(zYe);function WYe(t,e){if(!e)return t;var n=0,r=null;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var l=t0();l-n>e?(t.apply(void 0,a),n=l):(clearTimeout(r),r=GYe(function(){t.apply(void 0,a),n=t0()},Math.max(0,e-l+n)))}}var ZYe=function(e){var n=e.debounce,r=e.name,s=e.onEvent,a=e.target,i=g.useRef();i.current=s;var l=g.useMemo(function(){return WYe(function(u){var d=i.current;d&&d(u)},n)},[n,i]),c=g.useCallback(function(u){u.timeStampLow=t0(),l(u)},[l]);return g.useLayoutEffect(function(){return a.addEventListener(r,c,{passive:!0}),c({target:a,type:r}),function(){return a.removeEventListener(r,c)}},[r,c,a]),!1};ZYe.defaultProps={debounce:200};var oq={},jC,iq;function KYe(){return iq||(iq=1,jC=Math.sign||function(e){var n=+e;return n===0||n!==n?n:n<0?-1:1}),jC}var lq;function YYe(){if(lq)return oq;lq=1;var t=bn(),e=KYe();return t({target:"Math",stat:!0},{sign:e}),oq}var TC,cq;function QYe(){if(cq)return TC;cq=1,YYe();var t=Br();return TC=t.Math.sign,TC}var NC,uq;function JYe(){if(uq)return NC;uq=1;var t=QYe();return NC=t,NC}var AC,dq;function XYe(){return dq||(dq=1,AC=JYe()),AC}var eQe=XYe();const tQe=St(eQe);function nQe(t,e){var n=tQe(e-t),r=Math.sqrt(Math.abs(e-t)),s=t+r*n;return n>0?Math.min(e,s):Math.max(e,s)}function rQe(t,e,n,r){for(var s=t,a=0;a<r;a++)s=n(s,e);return s}var sQe=function(e){var n=e.name,r=e.onEnd,s=e.target,a=e.value,i=g.useRef(),l=g.useCallback(function(u,d,f,m){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t0();(f==="100%"||typeof f=="number")&&(cancelAnimationFrame(i.current),i.current=requestAnimationFrame(function(){if(s){var h=f==="100%"?s.scrollHeight-s.offsetHeight:f,v=rQe(d,h,nQe,(t0()-p)/5);Math.abs(h-v)<1.5&&(v=h),s[u]=v,h===v?r&&r(!0):l(u,d,f,m+1,p)}}))},[i,r,s]),c=g.useCallback(function(){cancelAnimationFrame(i.current),r&&r(!1)},[r]);return g.useLayoutEffect(function(){return l(n,s[n],a,1),s?(s.addEventListener("pointerdown",c,{passive:!0}),s.addEventListener("wheel",c,{passive:!0}),function(){s.removeEventListener("pointerdown",c),s.removeEventListener("wheel",c),cancelAnimationFrame(i.current)}):function(){return cancelAnimationFrame(i.current)}},[l,i,c,n,s,a]),!1};sQe.propTypes={name:xo.string.isRequired,onEnd:xo.func,target:xo.any.isRequired,value:xo.oneOfType([xo.number,xo.oneOf(["100%"])]).isRequired};function mMt(t){var e=g.useState(t),n=nN(e,2),r=n[0],s=n[1],a=g.useRef(),i=g.useCallback(function(l){typeof l=="function"?i(function(c){return l=l(c),a.current=l,l}):(a.current=l,i(l))},[a]);return a.current=r,[r,s,a]}var aQe={height:"100%",overflowY:"auto",width:"100%"},Nle=function(e){var n=e.children,r=e.className,s=g.useContext(sN),a=s.setTarget,i=Yie()(aQe);return be.createElement("div",{className:$ie(i,(r||"")+""),ref:a},n)};Nle.defaultProps={children:void 0,className:void 0};Nle.propTypes={children:xo.any,className:xo.string};function pMt(){var t=Zie(1),e=t.atTop;return[e]}function gMt(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t&&typeof t!="function"?console.error('react-scroll-to-bottom: First argument passed to "useObserveScrollPosition" must be a function.'):VS(n)||console.error('react-scroll-to-bottom: Second argument passed to "useObserveScrollPosition" must be an array if specified.');var r=Kie(),s=r.observeScrollPosition;g.useEffect(function(){return t&&s(t)},e0(e=[]).call(e,Zc(n),[!t,s]))}function hMt(){var t=rN(),e=t.scrollToBottom;return e}function vMt(){var t=rN(),e=t.scrollToTop;return e}const $S=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M10.833 5.49219C10.833 5.34205 10.9874 5.242 11.1143 5.32227C11.6967 5.6916 12.0829 6.34235 12.083 7.08301C12.083 7.94371 11.561 8.68236 10.8164 9C10.8273 9.05371 10.833 9.11008 10.833 9.16699V10.833C10.833 11.2932 10.4602 11.667 10 11.667C9.53977 11.667 9.16699 11.2932 9.16699 10.833V9.16699C9.16699 9.11008 9.17272 9.05371 9.18359 9C8.43896 8.68236 7.91699 7.94371 7.91699 7.08301C7.9171 6.34235 8.30333 5.6916 8.88574 5.32227C9.01256 5.24197 9.16699 5.34204 9.16699 5.49219V6.66699C9.16717 7.12707 9.53988 7.49999 10 7.5C10.4601 7.5 10.8328 7.12707 10.833 6.66699V5.49219Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9678 1.84863C16.2706 1.9108 16.499 2.17878 16.499 2.5V14.167C16.499 14.255 16.4812 14.3427 16.4473 14.4238C16.0328 15.4146 16.0327 16.2523 16.4473 17.2432C16.533 17.4482 16.5106 17.683 16.3877 17.8682C16.2645 18.0532 16.0563 18.1648 15.834 18.165H5.83398C4.54624 18.165 3.50195 17.1208 3.50195 15.833V4.16699C3.50195 2.87925 4.54624 1.83496 5.83398 1.83496H15.834L15.9678 1.84863ZM5.83398 14.832C5.31551 14.832 4.88842 15.2256 4.83691 15.7305L4.83203 15.833L4.83691 15.9355C4.88812 16.4407 5.31529 16.835 5.83398 16.835H14.9219C14.7689 16.1618 14.768 15.5052 14.9209 14.832H5.83398ZM5.83398 3.16504C5.28078 3.16504 4.83203 3.61379 4.83203 4.16699V13.7295C5.13566 13.5847 5.47519 13.502 5.83398 13.502H15.1689V3.16504H5.83398Z"})),yMt=Object.freeze(Object.defineProperty({__proto__:null,default:$S},Symbol.toStringTag,{value:"Module"})),oQe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10 12.083C10.6903 12.083 11.25 12.8295 11.25 13.75C11.25 14.6705 10.6904 15.417 10 15.417C9.30964 15.417 8.75 14.6705 8.75 13.75C8.75002 12.8295 9.30965 12.083 10 12.083Z"}),g.createElement("path",{d:"M7.91699 9.16699C8.60707 9.16713 9.16677 9.63296 9.16699 10.208C9.16699 10.7832 8.60721 11.2499 7.91699 11.25C7.22664 11.25 6.66699 10.7833 6.66699 10.208C6.66722 9.63287 7.22677 9.16699 7.91699 9.16699Z"}),g.createElement("path",{d:"M12.083 9.16699C12.7732 9.16699 13.3328 9.63287 13.333 10.208C13.333 10.7833 12.7734 11.25 12.083 11.25C11.3928 11.2499 10.833 10.7832 10.833 10.208C10.8332 9.63296 11.3929 9.16713 12.083 9.16699Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9355 1.83496C15.8895 1.83496 16.5003 2.36544 16.8438 2.83887C17.0139 3.07346 17.1281 3.30439 17.1992 3.47461C17.235 3.56037 17.2605 3.6336 17.2783 3.6875C17.2872 3.71448 17.2948 3.73684 17.2998 3.75391C17.3023 3.76229 17.3041 3.76965 17.3057 3.77539C17.3064 3.7782 17.307 3.78106 17.3076 3.7832C17.3079 3.7842 17.3084 3.78528 17.3086 3.78613L17.3096 3.78809C17.3062 3.78919 17.261 3.8011 16.666 3.95801L16.417 4.02344L17.3096 3.78809C17.403 4.1431 17.1909 4.50793 16.8359 4.60156C16.4809 4.695 16.1171 4.48291 16.0234 4.12793V4.12988L16.0244 4.13086V4.13281C16.0243 4.13251 16.0239 4.13143 16.0234 4.12988C16.0222 4.12556 16.0198 4.11621 16.0156 4.10352C16.0071 4.07776 15.9927 4.03673 15.9717 3.98633C15.9286 3.88318 15.8617 3.74891 15.7676 3.61914C15.5822 3.36365 15.3274 3.16504 14.9355 3.16504C14.1975 3.16516 13.658 3.58082 13.2207 4.30273C13.1067 4.491 13.0038 4.69355 12.9111 4.9043C15.4971 5.96132 17.3311 8.38367 17.3311 11.25C17.3311 15.1087 14.0079 18.1649 10 18.165C5.99205 18.1649 2.66797 15.1087 2.66797 11.25C2.66797 8.38418 4.50167 5.96162 7.08691 4.9043C6.99433 4.69371 6.89228 4.49087 6.77832 4.30273C6.34094 3.58089 5.80158 3.16504 5.06348 3.16504C4.6718 3.16524 4.41678 3.36363 4.23145 3.61914C4.13731 3.74896 4.07043 3.88319 4.02734 3.98633C4.00627 4.0368 3.99189 4.07779 3.9834 4.10352C3.97945 4.11549 3.97693 4.12438 3.97559 4.12891C3.97559 4.12887 3.97591 4.12831 3.97461 4.12793C3.88076 4.48278 3.51806 4.69518 3.16309 4.60156C2.80838 4.5077 2.597 4.14392 2.69043 3.78906L3.54688 4.01465C3.48502 3.99833 3.41396 3.97936 3.33301 3.95801C2.73598 3.80055 2.69337 3.79012 2.69043 3.78906V3.78613C2.69066 3.78527 2.69112 3.78423 2.69141 3.7832C2.69199 3.78105 2.69257 3.77824 2.69336 3.77539C2.69496 3.76964 2.69771 3.76233 2.7002 3.75391C2.70521 3.73688 2.71184 3.71438 2.7207 3.6875C2.73849 3.63356 2.76492 3.56051 2.80078 3.47461C2.87184 3.30444 2.98518 3.07343 3.15527 2.83887C3.49861 2.36548 4.10973 1.83519 5.06348 1.83496C6.44053 1.83496 7.34381 2.66973 7.91602 3.61426C8.08809 3.89836 8.23399 4.20218 8.3623 4.50977C8.88978 4.39594 9.43839 4.33498 10 4.33496C10.5611 4.33498 11.1087 4.39615 11.6357 4.50977C11.7641 4.20208 11.9109 3.89845 12.083 3.61426C12.6552 2.66975 13.5586 1.83509 14.9355 1.83496ZM10 5.66504C9.58617 5.66506 9.18255 5.70388 8.79395 5.77734C8.79964 5.79796 8.80596 5.8184 8.81152 5.83887L8.98145 6.51758L8.99805 6.65039C9.00594 6.95974 8.79567 7.24216 8.48242 7.31445C8.16932 7.38653 7.85695 7.22473 7.72852 6.94336L7.68457 6.81641L7.52539 6.17871C7.52388 6.17318 7.52202 6.16765 7.52051 6.16211C5.42918 7.0461 3.99805 9.01126 3.99805 11.25C3.99805 14.2946 6.64444 16.8348 10 16.835C13.3556 16.8348 16.001 14.2946 16.001 11.25C16.001 9.01078 14.5696 7.04582 12.4775 6.16211C12.4166 6.38459 12.3633 6.60491 12.3145 6.81641L12.2715 6.94336C12.143 7.22493 11.8299 7.38675 11.5166 7.31445C11.1592 7.23167 10.9363 6.87512 11.0186 6.51758L11.1875 5.83887C11.193 5.81848 11.1984 5.79788 11.2041 5.77734C10.816 5.70407 10.4133 5.66506 10 5.66504Z"})),xMt=Object.freeze(Object.defineProperty({__proto__:null,default:oQe},Symbol.toStringTag,{value:"Module"})),yN=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M2 14.1667V5.83365C2 4.5459 3.04429 3.50162 4.33203 3.50162H5.16504L5.29883 3.51529C5.60196 3.57722 5.83008 3.84523 5.83008 4.16666C5.83008 4.48809 5.60196 4.75609 5.29883 4.81802L5.16504 4.8317H4.33203C3.77883 4.8317 3.33008 5.28044 3.33008 5.83365V14.1667C3.33008 14.7199 3.77883 15.1686 4.33203 15.1686H5.16504L5.29883 15.1823C5.60192 15.2442 5.83008 15.5122 5.83008 15.8336C5.82992 16.155 5.60189 16.4231 5.29883 16.485L5.16504 16.4987H4.33203C3.04429 16.4987 2 15.4544 2 14.1667ZM16.6699 14.1803V5.84732C16.6699 5.29412 16.2212 4.84537 15.668 4.84537H14.835C14.4677 4.84537 14.1699 4.5476 14.1699 4.18033C14.1699 3.81306 14.4677 3.51529 14.835 3.51529H15.668C16.9557 3.51529 18 4.55958 18 5.84732V14.1803C18 15.4681 16.9557 16.5124 15.668 16.5124H14.835C14.4678 16.5124 14.1701 16.2144 14.1699 15.8473C14.1699 15.4801 14.4677 15.1823 14.835 15.1823H15.668C16.2212 15.1823 16.6699 14.7335 16.6699 14.1803ZM6.61328 7.65494C6.84057 7.42765 7.19108 7.39942 7.44922 7.56998L7.55371 7.65494L9.42871 9.52994C9.68825 9.78965 9.68836 10.2107 9.42871 10.4704L7.55371 12.3454C7.29407 12.605 6.87299 12.6049 6.61328 12.3454C6.35358 12.0857 6.35358 11.6646 6.61328 11.4049L8.01758 9.99966L6.61328 8.59537L6.52832 8.49088C6.35776 8.23274 6.38599 7.88223 6.61328 7.65494ZM12.917 11.2096L13.0508 11.2233C13.3537 11.2853 13.5819 11.5535 13.582 11.8747C13.582 12.196 13.3537 12.464 13.0508 12.526L12.917 12.5397H11.042C10.6747 12.5397 10.377 12.2419 10.377 11.8747C10.3771 11.5075 10.6748 11.2096 11.042 11.2096H12.917Z"})),bMt=Object.freeze(Object.defineProperty({__proto__:null,default:yN},Symbol.toStringTag,{value:"Module"}));var $Z;function iQe(t){const e=t.replace(/```[\s\S]*?```/g,""),n=String.raw($Z||($Z=qe([":::","{[^}]*}[sS]*?:::"],[":::","\\{[^}]*\\}[\\s\\S]*?:::"])),aY);return new RegExp(n).test(e)}const CMt=()=>{const t=q();return ie(t,"3700195277")||!1},_Mt=()=>{const t=zo();return!!(t!=null&&t.includes(Dr.CanvasCodeExecution))||void 0},wMt=()=>{const t=zo();return!!(t!=null&&t.includes(Dr.CanvasCodeNetworkAccess))||void 0},SMt=()=>{const t=q();return ie(t,"2311599525")},kMt=()=>{const t=q();return ie(t,"3468624635")||!1},lQe=()=>{const t=q(),e=ie(t,"3286474446"),n=Us();return Et(t)&&e&&!n},MMt=(t,e)=>{var p;const n=q(),r=Et(n),s=S0(t),a=id(s,ou.Canvas),i=Us(),l=Qi(),c=(p=e==null?void 0:e.metadata)==null?void 0:p.b1de6e2_s,u=Er(),d=!!e&&N6(e)===A6.PIMBlock,f=ie(n,"4223274760"),m=((e==null?void 0:e.content.content_type)===rt.Text||(e==null?void 0:e.content.content_type)===rt.MultimodalText)&&iQe(e==null?void 0:e.content.parts.join("\n"));return r&&f&&!m&&(!i||l)&&a&&!c&&!u&&!d};function EMt({text:t,customSymbolOffsets:e}){return o.jsx(IM,{name:"formatted_text_error",fallback:()=>o.jsx(o.Fragment,{children:t}),children:o.jsx(cQe,{text:t,customSymbolOffsets:e})})}const cQe=({text:t,customSymbolOffsets:e=[]})=>{const n=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let r=0;const s=t.split(n).flatMap((a,i)=>{const l=r;if(r+=a.length,a.startsWith("```")&&a.endsWith("```"))return o.jsx("pre",{className:"overflow-x-auto",children:o.jsx("code",{children:a.slice(3,-3).trim()})},i);if(a.startsWith("```"))return o.jsx("pre",{className:"overflow-x-auto",children:o.jsx("code",{children:a.slice(3).trim()})},i);if(a.startsWith("`")&&a.endsWith("`"))return o.jsx("code",{children:a.slice(1,-1)},i);if(a.startsWith("`"))return o.jsx("code",{children:a.slice(1)},i);{const c=e.map(u=>nge(u)).find(u=>l<=u.startIndex&&u.endIndex<=r);if(c){const u=c.startIndex-l,d=c.endIndex-l,f=a.slice(0,u),m=a.slice(d),p=a.slice(u,d);return[f,uQe(c.symbol,p,i),m].filter(h=>!!h)}return a}});return o.jsx("div",{className:"whitespace-pre-wrap",children:s})};function uQe(t,e,n=void 0){return t===rge.SystemHint?o.jsx("span",{className:"hint-pill",children:e},n):null}function xN(){const t=g.useRef(!1);return g.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),g.useCallback(()=>t.current,[])}const fq=pe({copy:{id:"CopyButton.copy",defaultMessage:"Copy"},copied:{id:"CopyButton.copied",defaultMessage:"Copied"}});function dQe({buttonText:t,shouldChangeText:e=!0,iconClassName:n="icon-sm",onCopy:r,className:s,iconOnly:a=!1,textPosition:i="right"}){const l=Z(),[c,u]=g.useState(!1),d=xN(),f=g.useCallback(p=>{p.stopPropagation(),r(p),u(!0),setTimeout(()=>{d()&&u(!1)},2e3)},[d,r]);let m=t;return e&&c?m=o.jsx(N,C({},fq.copied)):t===!0&&(m=o.jsx(N,C({},fq.copy))),o.jsxs(o.Fragment,{children:[!c&&o.jsx(wt,{triggerAs:null,label:o.jsx(N,{id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),disabled:!a,children:o.jsxs(mq,{onClick:f,className:s,"aria-label":l.formatMessage({id:"ywKsIl",defaultMessage:"Copy"}),children:[i==="left"&&!a&&m,o.jsx(Y0,{className:n}),i==="right"&&!a&&m]})}),c&&o.jsxs(mq,{className:s,"aria-label":l.formatMessage({id:"I3L53c",defaultMessage:"Copied"}),children:[i==="left"&&!a&&m,o.jsx(Zr,{className:n}),i==="right"&&!a&&m]})]})}var qZ;const mq=Ge.button(qZ||(qZ=qe(["flex gap-1 items-center select-none"])));class fQe{constructor({capacity:e,dispose:n}){Q(this,"capacity");Q(this,"cache");Q(this,"dispose");this.capacity=e,this.cache=new Map,this.dispose=n}get(e){if(!this.cache.has(e))return null;const n=this.cache.get(e);return this.cache.delete(e),this.cache.set(e,n),n}set(e,n){if(this.cache.has(e)){this.cache.delete(e),this.cache.set(e,n);return}if(this.cache.size>=this.capacity){const r=this.cache.keys().next().value;r!=null&&this.delete(r)}this.cache.set(e,n)}delete(e){const n=this.cache.get(e);this.cache.delete(e),this.dispose&&this.dispose(n)}}const Ale=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M14.3013 12.6816C14.6039 12.7438 14.8314 13.012 14.8316 13.333C14.8316 13.654 14.604 13.922 14.3013 13.9843L14.1666 13.998H10.8336C10.4663 13.998 10.1685 13.7002 10.1685 13.333C10.1687 12.9659 10.4664 12.6679 10.8336 12.6679H14.1666L14.3013 12.6816Z"}),g.createElement("path",{d:"M17.5006 9.33589L17.6343 9.34956C17.9372 9.41179 18.1657 9.67969 18.1656 10.0009C18.1654 10.3221 17.9363 10.5903 17.6334 10.6523L17.4996 10.666L10.8326 10.664C10.4655 10.6637 10.1684 10.3651 10.1685 9.998C10.1688 9.63092 10.4664 9.33383 10.8336 9.33394L17.5006 9.33589Z"}),g.createElement("path",{d:"M17.6343 6.01558C17.9371 6.07778 18.1656 6.34576 18.1656 6.66695C18.1655 6.98805 17.9371 7.25617 17.6343 7.31831L17.5006 7.33199H10.8336C10.4664 7.33199 10.1687 7.0341 10.1685 6.66695C10.1685 6.29968 10.4663 6.00191 10.8336 6.00191H17.5006L17.6343 6.01558Z"}),g.createElement("path",{d:"M5.47029 3.69625C5.24315 3.46926 4.89238 3.44115 4.63435 3.61129L4.52986 3.69625L2.44587 5.78023C2.18668 6.03992 2.18649 6.4611 2.44587 6.72066C2.70554 6.98019 3.12762 6.98019 3.38728 6.72066L4.38533 5.72066C4.37869 5.75711 4.37461 5.79461 4.37458 5.83297V14.166C4.37458 14.2042 4.37875 14.2419 4.38533 14.2783L3.38728 13.2793L3.28279 13.1943C3.02467 13.0238 2.67314 13.052 2.44587 13.2793C2.21861 13.5065 2.19043 13.858 2.36091 14.1162L2.44587 14.2207L4.52986 16.3037L4.63435 16.3886C4.89245 16.5589 5.24311 16.5309 5.47029 16.3037L7.5533 14.2207C7.81297 13.961 7.81299 13.5389 7.5533 13.2793C7.32609 13.0524 6.97534 13.0241 6.71736 13.1943L6.61287 13.2793L5.61287 14.2783C5.61948 14.2418 5.62458 14.2043 5.62458 14.166V5.83297C5.62456 5.79451 5.61954 5.7572 5.61287 5.72066L6.61287 6.72066L6.71736 6.80563C6.97536 6.97591 7.32608 6.94761 7.5533 6.72066C7.78046 6.49349 7.80852 6.14283 7.63826 5.88473L7.5533 5.78023L5.47029 3.69625Z"})),jMt=Object.freeze(Object.defineProperty({__proto__:null,default:Ale},Symbol.toStringTag,{value:"Module"})),Ple=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.084 3.08496C13.7728 3.08496 14.3302 3.08432 14.7803 3.12109C15.2379 3.15853 15.644 3.23787 16.0205 3.42969L16.2383 3.55176C16.7341 3.85586 17.1378 4.29234 17.4033 4.81348L17.4707 4.95606C17.6149 5.29227 17.6792 5.65317 17.7119 6.05371C17.7487 6.50395 17.749 7.06092 17.749 7.75V12.25C17.749 12.9391 17.7487 13.4961 17.7119 13.9463C17.6792 14.3468 17.6149 14.7077 17.4707 15.0439L17.4033 15.1865C17.1378 15.7077 16.7341 16.1441 16.2383 16.4482L16.0205 16.5703C15.644 16.7621 15.2379 16.8415 14.7803 16.8789C14.3302 16.9157 13.7728 16.915 13.084 16.915H6.91699C6.22802 16.915 5.6709 16.9157 5.2207 16.8789C4.82014 16.8462 4.45928 16.7809 4.12305 16.6367L3.98047 16.5703C3.45947 16.3049 3.02284 15.9009 2.71875 15.4053L2.59668 15.1865C2.40488 14.8099 2.3255 14.4041 2.28809 13.9463C2.2513 13.496 2.25195 12.9391 2.25195 12.25V7.75C2.25195 7.06091 2.2513 6.50395 2.28809 6.05371C2.3255 5.59593 2.40488 5.19009 2.59668 4.81348C2.90012 4.21799 3.38497 3.73311 3.98047 3.42969C4.35703 3.23795 4.76299 3.1585 5.2207 3.12109C5.6709 3.08433 6.22802 3.08496 6.91699 3.08496H13.084ZM8.16504 8.99805V15.585H13.084C13.7947 15.585 14.2885 15.5841 14.6719 15.5527C15.0472 15.522 15.2591 15.4652 15.417 15.3848L15.543 15.3145C15.8304 15.1381 16.0648 14.8851 16.2188 14.583L16.2744 14.4531C16.3259 14.3094 16.3637 14.1198 16.3867 13.8379C16.4181 13.4544 16.4189 12.961 16.4189 12.25V8.99805H8.16504ZM3.58203 12.25C3.58203 12.961 3.58292 13.4544 3.61426 13.8379C3.64496 14.2136 3.70172 14.425 3.78223 14.583L3.85254 14.709C4.02885 14.9966 4.28176 15.2308 4.58399 15.3848L4.71387 15.4414C4.85759 15.4928 5.04739 15.5297 5.3291 15.5527C5.6977 15.5828 6.16774 15.5839 6.83496 15.584V8.99805H3.58203V12.25ZM8.16504 7.66797H16.4189C16.4188 7.00074 16.4168 6.5307 16.3867 6.16211C16.3637 5.88015 16.3259 5.69065 16.2744 5.54688L16.2188 5.41699C16.0648 5.11486 15.8304 4.86186 15.543 4.68555L15.417 4.61524C15.2591 4.53477 15.0472 4.47798 14.6719 4.44727C14.2885 4.41594 13.7947 4.41504 13.084 4.41504H8.16504V7.66797ZM6.83496 4.41504C6.16774 4.41515 5.6977 4.41717 5.3291 4.44727C4.95355 4.47796 4.74197 4.53478 4.58399 4.61524C4.23877 4.79114 3.95815 5.07179 3.78223 5.41699C3.70172 5.575 3.64496 5.78642 3.61426 6.16211C3.58414 6.5307 3.58214 7.00073 3.58203 7.66797H6.83496V4.41504Z"})),TMt=Object.freeze(Object.defineProperty({__proto__:null,default:Ple},Symbol.toStringTag,{value:"Module"})),bN=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z"})),NMt=Object.freeze(Object.defineProperty({__proto__:null,default:bN},Symbol.toStringTag,{value:"Module"})),pq=pe({manage:{id:"manage",defaultMessage:"Manage"},continue:{id:"continue",defaultMessage:"Continue"}});function AMt({title:t,description:e,settingsTab:n="general",clientThreadId:r,parentMessageId:s}){const a=Z(),[i,l]=g.useState(!1),{openSettings:c}=_0(),u=q(),d=()=>{var v;if(i)return;l(!0);const m=st(r),p=m?se.getCurrentNode(m):null;(p?(v=p.message.id)!=null?v:p.id:void 0)===s&&xc({ctx:u,clientThreadId:r,promptMessage:Fr("Yes, please proceed"),eventSource:"mouse",parentMessageId:s})},f=g.useCallback(()=>{const m=W6();pr()&&m?m.openSettings(n):c()},[c,n]);return o.jsxs("div",{className:"max-w-md rounded-lg border p-4 shadow-sm",children:[o.jsx("h2",{className:"mb-1 font-bold",children:o.jsx(ar,{className:"text-base",children:t})}),o.jsx("p",{className:"mb-3 text-sm",children:o.jsx(ar,{className:"text-base",children:e})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(oe,{className:"text-base",color:"secondary",onClick:f,children:a.formatMessage(pq.manage)}),o.jsx(oe,{className:"text-base",color:"primary",onClick:d,children:a.formatMessage(pq.continue)})]})]})}const mQe=t=>Te(t,e=>{var n,r;return(r=(n=e==null?void 0:e.disabledToolIds)==null?void 0:n.includes(vs.CANMORE))!=null?r:!1});function Ile({systemHint:t,modelConfig:e,conversationMode:n,isTemporaryChat:r}){return pQe(t,r)&&gQe(t,e)&&hQe(t,e)&&vQe(t,n)}function pQe(t,e){return!e||t.allowInTemporaryChat===!0}function gQe(t,e){const n=e==null?void 0:e.enabledTools;return n===void 0?!0:t.requiredFeatures.every(r=>n.includes(r))}function hQe(t,e){if(t.systemHint===we.Think){const n=e==null?void 0:e.reasoningType;return n==null||n===jP.OFF||n===jP.AUTO}return t.requiredModels.length===0||t.requiredModels.some(n=>n===(e==null?void 0:e.id))}function vQe(t,e){return t.requiredConversationModes.length===0||t.requiredConversationModes.some(n=>n===(e==null?void 0:e.kind))}var yQe=(t=>(t.ANNUAL="Annual",t.MONTHLY="Monthly",t))(yQe||{}),tf=(t=>(t.CONVERSATION_COMPOSER_WEB_ICON="conversation_composer_web_icon",t.CONVERSATION_COMPOSER_TOOL_MENU="conversation_composer_tool_menu",t.CONVERSATION_COMPOSER_SLASH_SEARCH="conversation_composer_slash_search",t.CONVERSATION_REGENERATE_WITH_SEARCH="conversation_regenerate_with_search",t.CONVERSATION_REGENERATE_WITHOUT_SEARCH="conversation_regenerate_without_search",t.URL_SEARCH_HINT="url_search_hint",t.URL_NO_SEARCH_HINT="url_no_search_hint",t.SAFARI_MACOS_BROWSER_BAR="safari_macos_browser_bar",t.SAFARI_IOS_BROWSER_BAR="safari_ios_browser_bar",t.CHROME_BROWSER_BAR="chrome_browser_bar",t))(tf||{});function j4({clientThreadId:t,conversationMode:e}){const n=Er(),r=g.useContext(YVe),s=pt(),a=o3.useIsEnabled(t!=null?t:"");return({nodeId:i,sourceEvent:l,requestedModelId:c,appendMessages:u,extraStreamParams:d,isReasoningSkipped:f})=>{var T,j,A;if(!t)throw new Error("Regeneration must have clientThreadId");const m=st(t),p=se.getVariantIds(m,i),h=se.getParentPromptNode(m,i);if(!h)throw new Error("Regeneration must have parent prompt");const v=(T=sge(s))!=null?T:[],y=(p==null?void 0:p.length)===1&&(d==null?void 0:d.forceUseSearch)===void 0&&(d==null?void 0:d.forceDisableFeatures)===void 0,x=P6(s),b=fQ(x==null?void 0:x.models,c),_=age(m,i),w=(j=h.message.metadata)==null?void 0:j.system_hints,S=c&&w?w.filter(I=>{const L=v.find(O=>O.systemHint===I);return L&&Ile({systemHint:L,modelConfig:b,isTemporaryChat:n,conversationMode:e})}):w!=null?w:[];a&&(d=P(C({},d!=null?d:{}),{enableMessageFollowups:!0}));const{systemHints:k,extraStreamParams:M}=t4(S,d);let E=k;(d==null?void 0:d.forceUseReason)!==void 0&&(d.forceUseReason?E.push(we.Think):E=E.filter(I=>I!==we.Think)),r({completionType:Ol.Variant,requestedModelId:c,sourceEvent:l,completionMetadata:{variantPurpose:y?"comparison_implicit":"none",conversationMode:e!=null?e:(A=st(t))==null?void 0:A.mode,systemHints:E,searchSource:(d==null?void 0:d.forceUseSearch)===!0?tf.CONVERSATION_REGENERATE_WITH_SEARCH:(d==null?void 0:d.forceUseSearch)===!1?tf.CONVERSATION_REGENERATE_WITHOUT_SEARCH:void 0},parentMessageId:h.id,appendMessages:u,extraStreamParams:M,isReasoningSkipped:f,thinkingEffort:_}),f&&Fe(t,I=>{let L=i,O=I.tree.getNodeByIdOrMessageId(L);for(;O.message.author.role!==Ue.User;)I.tree.deleteNode(L),L=O.parentId,O=I.tree.getNodeByIdOrMessageId(L)})}}const xQe=(t,e)=>{var u;const n=Te(t,d=>se.getLastMessageSystemHints(d).includes(Vn.CANVAS)),r=j4({clientThreadId:t}),s=mQe(t),a=NT(),i=(u=el(e))==null?void 0:u.id,l=e.some(d=>{var f,m;return(m=(f=d.metadata)==null?void 0:f.canvas)==null?void 0:m.canvas_opt_in});return{isVisible:!n&&!s&&!a&&!l&&!!i,onClick:async d=>{var v;if(!i)return;d.stopPropagation(),Rj();const f=[vs.CANMORE];r({sourceEvent:d,nodeId:i,appendMessages:[FM("The user has requested the canvas tool be disabled for this conversation. You should not call the tool again.",{disable_tool_ids:f,exclude_after_next_user_message:!0})]});const m=st(t),p=se.getConversationTurns(m,i).length,h=(v=se.getParentPromptNode(m,i))==null?void 0:v.message.id;Xu.logEventWithStatsig("Canvas Opt Out Clicked","chatgpt_canvas_opt_out_clicked",{num_turns:String(p),conversation_id:kt(t),message_id:h}),Fe(t,y=>{y.disabledToolIds=f})}}},bQe=({clientThreadId:t,allTurnMessages:e})=>{const{isVisible:n,onClick:r}=xQe(t,e);return n?o.jsx("button",{onClick:r,className:"text-token-text-secondary hover:text-token-text-primary mb-2 w-full",children:o.jsxs("div",{className:"flex items-center rounded-xl",children:[o.jsx(N,{id:"aa5Dyk",defaultMessage:"Answer in chat instead"}),o.jsx(a1,{className:"icon text-token-text-secondary"})]})}):null},qS=Je(()=>Ve(()=>import("./mukuw0vik9dn7cvf.js"),__vite__mapDeps([92,1,93,4,5,94,95,96,97,98,28,29,31,32,99,12,43,44,100,101])).then(t=>t.CanvasMessageAttachment)),CQe=Je(()=>Ve(()=>import("./mukuw0vik9dn7cvf.js"),__vite__mapDeps([92,1,93,4,5,94,95,96,97,98,28,29,31,32,99,12,43,44,100,101])).then(t=>t.CanvasMessageAttachmentWrapper)),Lle=t=>g.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24"},t),g.createElement("path",{fillRule:"evenodd",d:"M14.447 7.106a1 1 0 0 1 .447 1.341l-4 8a1 1 0 1 1-1.788-.894l4-8a1 1 0 0 1 1.341-.447ZM6.6 7.2a1 1 0 0 1 .2 1.4L4.25 12l2.55 3.4a1 1 0 0 1-1.6 1.2l-3-4a1 1 0 0 1 0-1.2l3-4a1 1 0 0 1 1.4-.2Zm10.8 0a1 1 0 0 1 1.4.2l3 4a1 1 0 0 1 0 1.2l-3 4a1 1 0 0 1-1.6-1.2l2.55-3.4-2.55-3.4a1 1 0 0 1 .2-1.4Z",clipRule:"evenodd"}));function X1(t,e){return t===Ii.DOCUMENT?o.jsx(Sr,{className:U("icon",{"text-token-text-primary":e,"text-token-text-tertiary":!e})}):t&&jh(t)?o.jsx(Lle,{className:U("icon",{"text-token-text-primary":e,"text-token-text-tertiary":!e})}):null}const C3=t=>{const{closeThreadSidebar:e}=Bn();return()=>{t!=="canvas"&&Rj(),t!=="caterpillar"&&t!=="summarizer"&&t!=="searchSources"&&e()}},_Qe=(t,e)=>t!=null&&t.textdocId?t.textdocId:(t==null?void 0:t.function)===rr.CreateTextdoc?kT(t.messageId):e!=null?e:void 0,wQe=({toolCall:t,clientThreadId:e,isRequestActive:n})=>{const r=Z(),s=KOe(),a=_Qe(t,s),i=V5(a),l=$5(),c=Dj(a),u=YOe(),d=NT(),f=pt(),m=ZOe(),p=QOe({textdocId:a,assistantMessageId:t==null?void 0:t.messageId}),h=mX(()=>{var T;const E=(T=st(e))==null?void 0:T.modelId;Xu.logError("Textdoc missing from conversation",null,{clientThreadId:e,modelId:E,textdocId:a,latestTextdocId:s,toolCallTextdocId:t==null?void 0:t.textdocId,toolCallStatus:t==null?void 0:t.status,toolCallFunction:t==null?void 0:t.function})});g.useEffect(()=>{!n&&(t==null?void 0:t.status)===Mt.COMPLETE&&!m&&!i&&h()},[t,i,n,m,h]);const v=C3("canvas");if(!t)return null;const y=t.status===Mt.REDACTED||!m&&!i&&t.status!==Mt.STREAMING&&t.status!==Mt.WAITING;let x,b,_;if(t.status!==Mt.REDACTED&&t.status!==Mt.FAILED&&!y&&a){const E=!p&&t.status===Mt.COMPLETE;x=()=>{v(),E&&t.versionInt?hu({type:gu.Textdoc,textdocId:a,history:{version:t.versionInt},shouldRunCodeOnOpen:!0}):rc(a)},b=()=>{v(),E&&t.versionInt?hu({type:gu.Textdoc,textdocId:a,history:{version:t.versionInt},shouldRunCodeOnOpen:!0}):hu({type:gu.Textdoc,textdocId:a,shouldRunCodeOnOpen:!0})},_=()=>{E&&t.versionInt&&f.prefetchQuery(lie(a,t.versionInt))}}const w=SQe(t,i);if(t.function===rr.CreateTextdoc&&!(d&&(!p||l))){if(t.status===Mt.STREAMING||t.status===Mt.WAITING||t.status===Mt.COMPLETE){const T=m===!0&&(t.status===Mt.STREAMING||t.status===Mt.WAITING);return o.jsx(qS,{textdocId:a,name:w,clientThreadId:e,tag:t.type,icon:X1(t.type,!1),iconSelected:X1(t.type,!0),isCanvasOpen:l,isInlinePreview:p,isFetching:T,isFocused:c,isStreaming:t.status===Mt.STREAMING,onClick:x,onPreview:b})}let E;switch(t.status){case Mt.FAILED:E=r.formatMessage({id:"SNarKX",defaultMessage:"Failed to generate"});break;case Mt.CANCELED:E=r.formatMessage({id:"1A6W36",defaultMessage:"Stopped generating"});break;case Mt.REDACTED:E=o.jsx(wt,{align:"start",label:r.formatMessage({id:"F6q1k7",defaultMessage:"Removed from shared conversation"}),children:r.formatMessage({id:"BqyYDu",defaultMessage:"Created document"})});break}return o.jsx(gq,{children:E})}const S=y||t.status===Mt.REDACTED,k=d?S?null:w:u&&!S?w:null,M=o.jsxs(gq,{onClick:x,onMouseOver:_,isStreaming:t.status===Mt.STREAMING,children:[d&&o.jsx(Sr,{}),t.function===rr.CommentTextdoc?MQe(r,t,k):t.function===rr.CreateTextdoc?k!=null?k:r.formatMessage({id:"/402F4",defaultMessage:"New document"}):kQe(r,t,k)]});return p&&!l&&!y&&a?o.jsx(qS,{textdocId:a,clientThreadId:e,name:w,tag:i==null?void 0:i.type,icon:X1(i==null?void 0:i.type,!1),iconSelected:X1(i==null?void 0:i.type,!0),isCanvasOpen:l,isFetching:!1,isFocused:c,isInlinePreview:!0,isStreaming:t.status===Mt.STREAMING,onPreview:b,onClick:a!=null?()=>{v(),rc(a)}:void 0}):M};function SQe(t,e){return e!=null&&e.title?e.title:t.function===rr.CreateTextdoc&&t.title?Joe(t.title):null}const gq=({isStreaming:t=!1,onClick:e,onMouseOver:n,children:r})=>o.jsx("button",{disabled:!e,className:U(t&&"loading-shimmer","text-token-text-secondary flex min-h-5 w-fit flex-row items-center gap-1.5 pt-[3px] text-start select-none",e&&"hover:text-token-text-primary"),onClick:e,onMouseOver:n,children:r}),Rle=9;function kQe(t,e,n){var s;if(e.status===Mt.STREAMING)return n?t.formatMessage({id:"W2xN1Z",defaultMessage:"Editing {documentTitle}"},{documentTitle:n}):t.formatMessage({id:"8taq8v",defaultMessage:"Editing"});if(e.status===Mt.FAILED)return n?t.formatMessage({id:"UjJKYZ",defaultMessage:"Failed to edit {documentTitle}"},{documentTitle:n}):t.formatMessage({id:"kWUVkg",defaultMessage:"Failed to edit"});if(e.status===Mt.CANCELED)return n?t.formatMessage({id:"TmSrCd",defaultMessage:"Stopped editing {documentTitle}"},{documentTitle:n}):t.formatMessage({id:"bYV7xA",defaultMessage:"Stopped editing"});const r=(s=e.updates)==null?void 0:s.length;return e.status===Mt.REDACTED||!r||r>Rle?n?t.formatMessage({id:"n+G/ct",defaultMessage:"Edited {documentTitle}"},{documentTitle:n}):t.formatMessage({id:"aegqpL",defaultMessage:"Edited"}):n?t.formatMessage({id:"osYMSb",defaultMessage:"{numEdits, plural, one {Edited {documentTitle}} other {Made {numEdits} edits to {documentTitle}}}"},{numEdits:r,documentTitle:n}):t.formatMessage({id:"xJD3WR",defaultMessage:"{numEdits, plural, one {Edited} other {Made {numEdits} edits}}"},{numEdits:r})}function MQe(t,e,n){var s;if(e.status===Mt.STREAMING)return n?t.formatMessage({id:"8xQH/P",defaultMessage:"Commenting on {documentTitle}"},{documentTitle:n}):t.formatMessage({id:"5yqLeN",defaultMessage:"Commenting"});if(e.status===Mt.FAILED)return n?t.formatMessage({id:"Rl821S",defaultMessage:"Failed to comment on {documentTitle}"},{documentTitle:n}):t.formatMessage({id:"W007jt",defaultMessage:"Failed to comment"});if(e.status===Mt.CANCELED)return n?t.formatMessage({id:"bozPdq",defaultMessage:"Stopped commenting on {documentTitle}"},{documentTitle:n}):t.formatMessage({id:"hyBGa7",defaultMessage:"Stopped commenting"});const r=(s=e.comments)==null?void 0:s.length;return e.status===Mt.REDACTED||!r||r>Rle?n?t.formatMessage({id:"LXEzK7",defaultMessage:"Commented on {documentTitle}"},{documentTitle:n}):t.formatMessage({id:"KeMYhy",defaultMessage:"Commented"}):n?t.formatMessage({id:"Ql5lPq",defaultMessage:"{numComments, plural, one {Commented on {documentTitle}} other {Added {numComments} comments on {documentTitle}}}"},{numComments:r,documentTitle:n}):t.formatMessage({id:"FHtyJQ",defaultMessage:"{numComments, plural, one {Commented} other {Added {numComments} comments}}"},{numComments:r})}const EQe="GPT-4o with scheduled tasks";function Ole({featureType:t,isUserTurn:e=!1,clientThreadId:n}){var p;const r=q(),s=ie(r,"3612584454"),a=jQe(),i=ie(r,"891514942"),l=tl(n),c=(p=l==null?void 0:l.id)!=null?p:null,u=!TQe({featureType:t,currentModelId:c});if(!(s&&a||i&&u))return null;const m=NQe({featureType:t,unsupportedMessageReason:a?"rateLimit":"modelPicker",currentModelId:c});return o.jsx("div",{className:"flex ".concat(e?"justify-end":"justify-start"),children:m})}function jQe(){var a;const t=q(),e=yt(t),n=(a=e==null?void 0:e.isFree())!=null?a:!1,s=z6().some(i=>i.model_slug==="gpt-4o");return n&&s}function TQe({featureType:t,currentModelId:e}){const n=pt(),r=P6(n),s=q(),a=yt(s);if(a==null?void 0:a.isFree())return!0;{const l=r==null?void 0:r.categories.find(u=>u.defaultModel===e);return l?!!(l==null?void 0:l.supportedFeatures.includes(t)):!0}}function NQe({featureType:t,unsupportedMessageReason:e,currentModelId:n=""}){const r=n===oge?EQe:n,s=Z();let a=null;switch(e){case"rateLimit":switch(t){case _l.ATTACHMENT:a=s.formatMessage(PC.file);break;case _l.IMAGE:a=s.formatMessage(PC.image);break;case _l.CANVAS_SUPPORTED:a=s.formatMessage(PC.canvas);break;default:return null}break;case"modelPicker":switch(t){case _l.ATTACHMENT:a=s.formatMessage(IC.file,{modelDisplayName:r});break;case _l.IMAGE:a=s.formatMessage(IC.image,{modelDisplayName:r});break;case _l.CANVAS_SUPPORTED:a=s.formatMessage(IC.canvas,{modelDisplayName:r});break;default:return null}break}return o.jsx("span",{className:"text-opacity-80 text-xs text-yellow-500",children:a})}const PC=pe({canvas:{id:"featureUnsupportedWarning.canvas",defaultMessage:"Document editing temporarily unavailable"},file:{id:"featureUnsupportedWarning.file",defaultMessage:"File analysis temporarily unavailable"},image:{id:"featureUnsupportedWarning.image",defaultMessage:"Image analysis temporarily unavailable"}}),IC=pe({canvas:{id:"modelPickerUnsupportedWarning.canvas",defaultMessage:"{modelDisplayName} cannot edit documents"},file:{id:"modelPickerUnsupportedWarning.file",defaultMessage:"{modelDisplayName} cannot analyze files"},image:{id:"modelPickerUnsupportedWarning.image",defaultMessage:"{modelDisplayName} cannot analyze images"}}),PMt=({messages:t,isRequestActive:e,isFinalTurn:n,allTurnMessages:r,clientThreadId:s,isUserTurn:a=!1})=>{const i=g.useMemo(()=>ET(t),[t]),l=g.useMemo(()=>i?i.map(([c,u])=>nie(e,c,u)).filter(Boolean):[],[i,e]);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex flex-col gap-2 [&:not(:first-child)]:mt-2",children:l.map(c=>o.jsx(wQe,{toolCall:c,clientThreadId:s,isRequestActive:e},c.messageId))}),o.jsx(Ole,{featureType:_l.CANVAS_SUPPORTED,isUserTurn:a,clientThreadId:s}),n&&o.jsx(bQe,{clientThreadId:s,allTurnMessages:r})]})};function AQe(t,e,n){const r=to(c=>!!(t&&c.tasks[t])),{openThreadSidebar:s}=Bn(),a=C3("caterpillar"),i=Te(n,c=>se.findNode(c,u=>{var d,f,m;return((d=u.message.metadata)==null?void 0:d.async_task_id)===t&&(((f=u.message.metadata)==null?void 0:f.b1de6e2_rm)===!0||((m=u.message.metadata)==null?void 0:m.is_async_task_result_message)===!0)})!=null),{clearSystemHintModeTrigger:l}=Qo();g.useEffect(()=>{var p;if(r||!t||!e)return;const{async_task_created_at:c,async_task_prompt:u,async_task_title:d}=(p=e.metadata)!=null?p:{};if(!c||!d)return;const f=kt(n),m={originalConversationId:f!=null?f:n,taskId:t,title:d,prompt:u!=null?u:"",createdAt:c,updatedAt:c,status:Wr.UNDETERMINED};gs.setTask(t,m),l(we.Research)},[r,t,e,n,s,a,l,i])}const Dle=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M20.9992 12.0001V20.4512C20.9992 20.921 20.6178 21.3024 20.1481 21.3024H6.50155C6.03179 21.3024 5.65039 20.921 5.65039 20.4512V12.0001L13.5574 11.0698L20.9992 12.0001Z",fill:"#036C70"}),g.createElement("path",{d:"M6.50155 2.69763H20.1481C20.6178 2.69763 20.9992 3.07903 20.9992 3.54879V12H5.65039V3.54879C5.65039 3.07903 6.03179 2.69763 6.50155 2.69763Z",fill:"#37C6D0"}),g.createElement("path",{d:"M14.0225 14.3256H18.6736V18.9767H14.0225V14.3256Z",fill:"#1A9BA1"}),g.createElement("path",{d:"M16.3503 10.1395C17.8915 10.1395 19.141 8.89006 19.141 7.3488C19.141 5.80754 17.8915 4.55811 16.3503 4.55811C14.809 4.55811 13.5596 5.80754 13.5596 7.3488C13.5596 8.89006 14.809 10.1395 16.3503 10.1395Z",fill:"#1A9BA1"}),g.createElement("path",{d:"M16.348 8.74419C17.1186 8.74419 17.7433 8.11947 17.7433 7.34884C17.7433 6.57821 17.1186 5.95349 16.348 5.95349C15.5774 5.95349 14.9526 6.57821 14.9526 7.34884C14.9526 8.11947 15.5774 8.74419 16.348 8.74419Z",fill:"#036C70"}),g.createElement("path",{opacity:.1,d:"M11.3109 6.41858H5.65039V18.0465H11.3109C11.7806 18.0465 12.162 17.6651 12.162 17.1953V7.26974C12.162 6.79997 11.7806 6.41858 11.3109 6.41858Z",fill:"#282828"}),g.createElement("path",{opacity:.2,d:"M10.8457 6.88379H5.65039V18.5117H10.8457C11.3155 18.5117 11.6969 18.1303 11.6969 17.6605V7.73495C11.6969 7.26518 11.3155 6.88379 10.8457 6.88379Z",fill:"#282828"}),g.createElement("path",{opacity:.2,d:"M10.8457 6.88379H5.65039V17.5815H10.8457C11.3155 17.5815 11.6969 17.2001 11.6969 16.7303V7.73495C11.6969 7.26518 11.3155 6.88379 10.8457 6.88379Z",fill:"#282828"}),g.createElement("path",{opacity:.2,d:"M10.3806 6.88379H5.65039V17.5815H10.3806C10.8504 17.5815 11.2318 17.2001 11.2318 16.7303V7.73495C11.2318 7.26518 10.8504 6.88379 10.3806 6.88379Z",fill:"#282828"}),g.createElement("path",{d:"M1.85116 6.88379H10.3767C10.8465 6.88379 11.2279 7.26518 11.2279 7.73495V16.2605C11.2279 16.7303 10.8465 17.1117 10.3767 17.1117H1.85116C1.3814 17.1163 1 16.735 1 16.2652V7.73495C1 7.26518 1.3814 6.88379 1.85116 6.88379Z",fill:"url(#paint0_linear_376_5383)"}),g.createElement("path",{d:"M7.8431 10.1301H5.4431V11.6417H7.68031V12.5394H5.4431V14.772H4.35938V9.22778H7.84775L7.8431 10.1301Z",fill:"white"}),g.createElement("defs",null,g.createElement("linearGradient",{id:"paint0_linear_376_5383",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"#058F92"}),g.createElement("stop",{offset:.5,stopColor:"#038489"}),g.createElement("stop",{offset:1,stopColor:"#026D71"})))),IMt=Object.freeze(Object.defineProperty({__proto__:null,default:Dle},Symbol.toStringTag,{value:"Module"})),Fle=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#FF4343"}),g.createElement("path",{d:"M16.0964 17.0018H14.7573V12.6902H18V13.8311H16.0964V14.5157H17.6577V15.6266H16.0964V17.0018Z",fill:"white"}),g.createElement("path",{d:"M10.2615 17.0018V12.6902H11.9309C13.3541 12.6902 14.1887 13.5309 14.1887 14.846C14.1887 16.1611 13.3541 17.0018 11.9309 17.0018H10.2615ZM11.5946 15.8608H11.9309C12.5374 15.8608 12.8376 15.4585 12.8376 14.846C12.8376 14.2335 12.5374 13.8311 11.9309 13.8311H11.5946V15.8608Z",fill:"white"}),g.createElement("path",{d:"M7.36314 15.7647V17.0018H6V12.6902H7.96364C9.06856 12.6902 9.74712 13.2186 9.74712 14.2275C9.74712 15.2363 9.06856 15.7647 7.96364 15.7647H7.36314ZM7.36314 14.6358H7.89158C8.24587 14.6358 8.402 14.4737 8.402 14.2275C8.402 13.9813 8.24587 13.8191 7.89158 13.8191H7.36314V14.6358Z",fill:"white"}),g.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#A53636"})),LMt=Object.freeze(Object.defineProperty({__proto__:null,default:Fle},Symbol.toStringTag,{value:"Module"})),is=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2598 2.25191C11.8396 2.25191 12.2381 2.24808 12.6201 2.33981L12.8594 2.40719C13.0957 2.48399 13.3228 2.5886 13.5352 2.71871L13.6582 2.79879C13.9416 2.99641 14.1998 3.25938 14.5586 3.61813L15.5488 4.60836L15.833 4.89449C16.0955 5.16136 16.2943 5.38072 16.4482 5.6318L16.5703 5.84957C16.6829 6.07074 16.7691 6.30495 16.8271 6.54684L16.8574 6.69137C16.918 7.0314 16.915 7.39998 16.915 7.90719V13.0839C16.915 13.7728 16.9157 14.3301 16.8789 14.7802C16.8461 15.1808 16.781 15.5417 16.6367 15.8779L16.5703 16.0205C16.3049 16.5413 15.9008 16.9772 15.4053 17.2812L15.1865 17.4033C14.8099 17.5951 14.4041 17.6745 13.9463 17.7119C13.4961 17.7487 12.9391 17.749 12.25 17.749H7.75C7.06092 17.749 6.50395 17.7487 6.05371 17.7119C5.65317 17.6791 5.29227 17.6148 4.95606 17.4707L4.81348 17.4033C4.29235 17.1378 3.85586 16.7341 3.55176 16.2382L3.42969 16.0205C3.23787 15.6439 3.15854 15.2379 3.12109 14.7802C3.08432 14.3301 3.08496 13.7728 3.08496 13.0839V6.91695C3.08496 6.228 3.08433 5.67086 3.12109 5.22066C3.1585 4.76296 3.23797 4.35698 3.42969 3.98043C3.73311 3.38494 4.218 2.90008 4.81348 2.59664C5.19009 2.40484 5.59593 2.32546 6.05371 2.28805C6.50395 2.25126 7.06091 2.25191 7.75 2.25191H11.2598ZM7.75 3.58199C7.03896 3.58199 6.54563 3.58288 6.16211 3.61422C5.78642 3.64492 5.575 3.70168 5.41699 3.78219C5.0718 3.95811 4.79114 4.23874 4.61524 4.58395C4.53479 4.74193 4.47795 4.95354 4.44727 5.32906C4.41595 5.71254 4.41504 6.20609 4.41504 6.91695V13.0839C4.41504 13.7947 4.41594 14.2884 4.44727 14.6718C4.47798 15.0472 4.53477 15.259 4.61524 15.417L4.68555 15.5429C4.86186 15.8304 5.11487 16.0648 5.41699 16.2187L5.54688 16.2744C5.69065 16.3258 5.88016 16.3636 6.16211 16.3867C6.54563 16.418 7.03898 16.4189 7.75 16.4189H12.25C12.961 16.4189 13.4544 16.418 13.8379 16.3867C14.2135 16.356 14.425 16.2992 14.583 16.2187L14.709 16.1474C14.9963 15.9712 15.2308 15.7189 15.3848 15.417L15.4414 15.2861C15.4927 15.1425 15.5297 14.953 15.5527 14.6718C15.5841 14.2884 15.585 13.7947 15.585 13.0839V8.55758L13.3506 8.30953C12.2572 8.18804 11.3976 7.31827 11.2881 6.22359L11.0234 3.58199H7.75ZM12.6113 6.09176C12.6584 6.56193 13.0275 6.93498 13.4971 6.98727L15.5762 7.21871C15.5727 7.13752 15.5686 7.07109 15.5615 7.01266L15.5342 6.85738C15.5005 6.7171 15.4501 6.58135 15.3848 6.45309L15.3145 6.32711C15.2625 6.24233 15.1995 6.16135 15.0928 6.04488L14.6084 5.54879L13.6182 4.55856C13.2769 4.21733 13.1049 4.04904 12.9688 3.94234L12.8398 3.8525C12.7167 3.77705 12.5853 3.71637 12.4482 3.67184L12.3672 3.6484L12.6113 6.09176Z"})),RMt=Object.freeze(Object.defineProperty({__proto__:null,default:is},Symbol.toStringTag,{value:"Module"})),Ble=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2998 2.6709C13.318 2.66997 13.3361 2.67031 13.3545 2.6709C13.739 2.67372 14.0728 2.68047 14.3623 2.7041C14.8202 2.74151 15.2268 2.82085 15.6035 3.0127L15.8213 3.13477C16.317 3.4388 16.7208 3.87553 16.9863 4.39649L17.0527 4.53906C17.197 4.87528 17.2622 5.23618 17.2949 5.63672C17.3317 6.08689 17.3311 6.64407 17.3311 7.33301V12.666C17.3311 13.3549 17.3317 13.9122 17.2949 14.3623C17.2622 14.7632 17.1971 15.1245 17.0527 15.4609L16.9863 15.6035C16.6829 16.1988 16.1988 16.6829 15.6035 16.9863C15.2268 17.1783 14.8203 17.2575 14.3623 17.2949C13.9121 17.3317 13.3549 17.3311 12.666 17.3311H7.33301C6.64403 17.3311 6.08691 17.3317 5.63672 17.2949C5.23614 17.2622 4.87531 17.197 4.53906 17.0527L4.39649 16.9863C3.87551 16.7208 3.4388 16.317 3.13477 15.8213L3.0127 15.6035C2.82086 15.2269 2.74151 14.8202 2.7041 14.3623C2.66736 13.9122 2.66797 13.3548 2.66797 12.666V7.33301C2.66797 6.64407 2.66732 6.08689 2.7041 5.63672C2.74152 5.17906 2.82093 4.77301 3.0127 4.39649C3.31613 3.80105 3.80103 3.31611 4.39649 3.0127C4.77304 2.82092 5.17902 2.74152 5.63672 2.7041C6.08691 2.66732 6.64403 2.66797 7.33301 2.66797H12.666C12.891 2.66797 13.1021 2.66971 13.2998 2.6709ZM3.99805 8.16504V12.666C3.99805 13.3767 3.99899 13.8705 4.03027 14.2539C4.06094 14.6292 4.11789 14.8411 4.19824 14.999L4.26856 15.126C4.4448 15.4133 4.69804 15.6478 5 15.8018L5.12988 15.8574C5.27361 15.9089 5.46332 15.9467 5.74512 15.9697C6.12859 16.0011 6.6221 16.001 7.33301 16.001H12.666C13.3767 16.001 13.8705 16.001 14.2539 15.9697C14.6292 15.9391 14.8411 15.8821 14.999 15.8018C15.3443 15.6258 15.6258 15.3443 15.8018 14.999L15.8574 14.8691C15.9088 14.7254 15.9467 14.5355 15.9697 14.2539C16.001 13.8705 16.001 13.3767 16.001 12.666V8.16504H3.99805ZM12.6484 6.83496H15.999C15.9976 6.38034 15.9932 6.03187 15.9697 5.74512C15.9467 5.46336 15.9089 5.2736 15.8574 5.12988L15.8018 5C15.6478 4.69805 15.4133 4.44479 15.126 4.26856L14.999 4.19824C14.8411 4.11788 14.6292 4.06094 14.2539 4.03027C14.1122 4.01871 13.9555 4.01257 13.7783 4.00781L12.6484 6.83496ZM7.33301 3.99805C6.6221 3.99805 6.12859 3.99894 5.74512 4.03027C5.36955 4.06098 5.15798 4.11775 5 4.19824C4.65484 4.37414 4.37416 4.65485 4.19824 5C4.11776 5.15796 4.06098 5.36961 4.03027 5.74512C4.00685 6.03186 4.00272 6.38034 4.00098 6.83496H6.21582L7.35059 3.99805H7.33301ZM7.64844 6.83496H11.2158L12.3506 3.99805H8.7832L7.64844 6.83496Z"})),OMt=Object.freeze(Object.defineProperty({__proto__:null,default:Ble},Symbol.toStringTag,{value:"Module"})),Ule=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.83357 5C9.0972 5 8.50024 5.59695 8.50024 6.33333C8.50024 7.06971 9.0972 7.66667 9.83357 7.66667C10.57 7.66667 11.1669 7.06971 11.1669 6.33333C11.1669 5.59695 10.57 5 9.83357 5ZM6.50024 6.33333C6.50024 4.49238 7.99263 3 9.83357 3C11.6745 3 13.1669 4.49238 13.1669 6.33333C13.1669 8.17428 11.6745 9.66667 9.83357 9.66667C7.99263 9.66667 6.50024 8.17428 6.50024 6.33333ZM13.3793 11.4215C14.3771 9.89157 16.6253 9.91327 17.5933 11.4622L20.6857 16.41C21.9346 18.4081 20.4981 21 18.1417 21H5.78797C3.24001 21 1.85205 18.0244 3.4894 16.0722L6.21761 12.8193C7.13833 11.7215 8.79145 11.6206 9.83889 12.5982L11.3452 14.0041C11.4587 14.11 11.6403 14.0879 11.7252 13.9579L13.3793 11.4215ZM15.8973 12.5222C15.7037 12.2124 15.2541 12.208 15.0545 12.514L13.4004 15.0504C12.6369 16.221 11.0022 16.4197 9.98054 15.4662L8.47425 14.0603C8.26476 13.8648 7.93414 13.885 7.75 14.1045L5.02178 17.3574C4.476 18.0081 4.93866 19 5.78797 19H18.1417C18.9272 19 19.406 18.136 18.9897 17.47L15.8973 12.5222Z",fill:"currentColor"})),DMt=Object.freeze(Object.defineProperty({__proto__:null,default:Ule},Symbol.toStringTag,{value:"Module"})),CN=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.167 15.416V4.583a.75.75 0 0 1 1.5 0v10.833a.75.75 0 0 1-1.5 0Zm4.166-2.5V7.083a.75.75 0 0 1 1.5 0v5.833a.75.75 0 0 1-1.5 0ZM3 11.25V8.75a.75.75 0 0 1 1.5 0v2.5a.75.75 0 0 1-1.5 0Zm12.5 0V8.75a.75.75 0 0 1 1.5 0v2.5a.75.75 0 0 1-1.5 0Z"})),FMt=Object.freeze(Object.defineProperty({__proto__:null,default:CN},Symbol.toStringTag,{value:"Module"})),Hle={pdf:Fle,sheet:Ap,excel:gQ,doc:Sr,audio:CN,video:Ble,image:Ule,csv:Ap,word:pQ,forms:Dle,slides:Z6,powerpoint:mQ,other:is};function _N(t){var e;return(e=Hle[t])!=null?e:is}const PQe=({children:t,iconType:e})=>{const n=_N(e);return o.jsxs("div",{className:"flex items-start gap-2 text-start text-wrap",children:[o.jsx("div",{className:"mt-[1px] inline-flex h-5 w-5 shrink-0 items-center justify-end gap-2.5 pt-[3px]",children:o.jsx(n,{className:"text-token-text-primary relative h-5 w-5"})}),t]})},IQe=({row:t})=>o.jsx(PQe,{iconType:t.iconType,children:o.jsx("div",{className:"text-token-text-primary flex-1 truncate text-base",children:t.rowText})});function wN(t){return ut(LQe(t))}function LQe(t){return Ho({enabled:t!=null,queryKey:["imageData",t],queryFn:()=>new Promise((e,n)=>{const r=new Image;r.onload=()=>{e(r)},r.onerror=n,r.src=t})})}function Nn(t){"use forget";const e=ee.c(13),{url:n,size:r,minSize:s,fallback:a,className:i,containerClassName:l,showLoadingAnimation:c,applySizeToImg:u,onLoad:d}=t,f=r===void 0?16:r,m=u===void 0?!0:u;let p;e[0]!==f||e[1]!==n?(p=$le(n,f),e[0]=f,e[1]=n,e[2]=p):p=e[2];const h=p;if(h==null)return a!=null?a:null;let v;return e[3]!==m||e[4]!==i||e[5]!==l||e[6]!==a||e[7]!==h||e[8]!==s||e[9]!==d||e[10]!==c||e[11]!==f?(v=s!=null?o.jsx(RQe,{faviconUrl:h,size:f,minSize:s,fallback:a,className:i,containerClassName:l,showLoadingAnimation:c,onLoad:d}):o.jsx(Vle,{faviconUrl:h,size:m?f:void 0,className:i,onLoad:d}),e[3]=m,e[4]=i,e[5]=l,e[6]=a,e[7]=h,e[8]=s,e[9]=d,e[10]=c,e[11]=f,e[12]=v):v=e[12],v}function RQe(t){"use forget";const e=ee.c(12),{faviconUrl:n,size:r,minSize:s,fallback:a,className:i,containerClassName:l,showLoadingAnimation:c,onLoad:u}=t,{data:d,isLoading:f}=wN(n),m=d&&Math.min(d.width,d.height);if(!f&&(m==null||m<s))return a!=null?a:null;let p;e[0]!==l?(p=U("relative inline-block shrink-0",l),e[0]=l,e[1]=p):p=e[1];let h;e[2]!==i||e[3]!==n||e[4]!==f||e[5]!==u||e[6]!==c||e[7]!==r?(h=f?c?o.jsx(OQe,{className:U(i,"duration-200 motion-safe:transition-opacity",!f&&"pointer-events-none opacity-0")}):o.jsx("div",{className:i}):o.jsx(Vle,{faviconUrl:n,size:r,className:U(i,"duration-200 motion-safe:transition-opacity",f?"pointer-events-none opacity-0":"opacity-100"),onLoad:u}),e[2]=i,e[3]=n,e[4]=f,e[5]=u,e[6]=c,e[7]=r,e[8]=h):h=e[8];let v;return e[9]!==p||e[10]!==h?(v=o.jsx("div",{className:p,children:h}),e[9]=p,e[10]=h,e[11]=v):v=e[11],v}function Vle(t){"use forget";const e=ee.c(6),{faviconUrl:n,size:r,className:s,onLoad:a}=t,i=r!=null?r:"auto",l=r!=null?r:"auto";let c;return e[0]!==s||e[1]!==n||e[2]!==a||e[3]!==i||e[4]!==l?(c=o.jsx("img",{src:n,alt:"",width:i,height:l,className:s,onLoad:a}),e[0]=s,e[1]=n,e[2]=a,e[3]=i,e[4]=l,e[5]=c):c=e[5],c}function OQe({className:t,children:e}){return o.jsx("div",{"aria-busy":!0,className:U("bg-token-bg-tertiary flex animate-pulse items-center justify-center rounded-full",t),children:e})}const DQe="http://files.openai.com",FQe="https://openai.com",BQe="https://images.openai.com";function UQe(t){const e=new URL(t);if(e.protocol!=="http:"&&e.protocol!=="https:")return DQe;const n=e.origin;return n===BQe?FQe:n}function $le(t,e){if(!t)return null;try{const n=UQe(t);return"https://www.google.com/s2/favicons?domain=".concat(n,"&sz=").concat(e)}catch(n){return ve.addAction("Invalid favicon url",{error:n,url:t}),null}}const jc=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("g",{id:"browser"},g.createElement("rect",{width:18,height:18,rx:9,fill:"currentColor"}),g.createElement("path",{id:"vector",fillRule:"evenodd",clipRule:"evenodd",d:"M11.5235 10.4348L13.0718 6.07152C13.3238 5.36116 12.6389 4.67627 11.9286 4.92833L7.56533 6.47658C7.05694 6.65697 6.65697 7.05694 6.47658 7.56533L4.92833 11.9286C4.67627 12.6389 5.36116 13.3238 6.07151 13.0718L10.4348 11.5235C10.9432 11.3431 11.3431 10.9432 11.5235 10.4348ZM9.00015 10.1192C9.61825 10.1192 10.1193 9.61814 10.1193 9.00005C10.1193 8.38195 9.61825 7.88089 9.00015 7.88089C8.38206 7.88089 7.88099 8.38195 7.88099 9.00005C7.88099 9.61814 8.38206 10.1192 9.00015 10.1192Z",fill:"white"})));function HQe(){const t=q();return ut({queryKey:["clientStrings"],queryFn:()=>ue.safeGet("/client/strings"),staleTime:1/0,enabled:Et(t)})}const qle={medium:"icon",small:"icon-sm",xsmall:"icon-xs",large:"icon-lg",xxlarge:"icon-xl"},hq={xsmall:"h-4.5 w-4.5 text-base",small:"h-6 w-6 text-xs",medium:"h-8 w-8 text-sm",large:"h-10 w-10 text-base",xxlarge:"h-20 w-20 text-base"},SN=({connector:t,className:e,size:n})=>{var i;const r=ga(),[s,a]=g.useState(!t.logo_url);return g.useEffect(()=>{t.logo_url&&a(!1)},[t.logo_url]),!t.logo_url||s?o.jsx("div",{className:e,children:o.jsx("span",{className:U("text-token-text-secondary flex items-center justify-center font-semibold",hq[n],n==="large"||n==="xxlarge"?"rounded-xl":"rounded-md",r?"bg-token-bg-tertiary":"bg-token-bg-secondary"),children:o.jsx(Wa,{className:qle[n]})})}):o.jsx("div",{className:e,children:o.jsx("img",{src:r&&t.logo_url_dark?t.logo_url_dark:(i=t.logo_url)!=null?i:void 0,alt:t.name,className:U(hq[n],"object-contain",n==="large"?"rounded-xl":"rounded-md"),onError:()=>a(!0)})})},vq=({connector:t})=>{const e=ga(),n=!!t.owners.length,r=e&&!t.logo_url_dark&&n,[s,a]=g.useState(!t.logo_url);return!t.logo_url||s?o.jsx("span",{className:U("text-token-text-secondary flex h-6 w-6 items-center justify-center rounded-md text-xs font-semibold",e?"bg-token-bg-tertiary":"bg-token-bg-secondary"),children:o.jsx(Wa,{className:qle.small})}):o.jsx("span",{className:"rounded-md p-0.5",children:o.jsx("img",{src:e&&t.logo_url_dark?t.logo_url_dark:t.logo_url,alt:t.name,className:U(r?"h-5 w-5":"h-6 w-6","rounded-md object-contain"),onError:()=>a(!0)})})};function zle(t,e="small",n,r){const{platformConnectors:s}=V6(!1,hQ.DEEP_RESEARCH);try{let a;if(r&&(a=ige[r.toLowerCase()]),!a)return null;const i=$i[a];if(!i)return null;const l=s.get(i);return l?o.jsx(SN,{connector:l,size:e,className:n}):null}catch(a){return null}}function kN({url:t,size:e="small",className:n,fallback:r,connectorSource:s}){const a=zle(t,e,n,s);return a!=null?a:r}function VQe(t,e=0){if(!t)return!1;const n=t.getBoundingClientRect();return n.top+e>=0&&n.left+e>=0&&n.bottom-e<=(window.innerHeight||document.documentElement.clientHeight)&&n.right-e<=(window.innerWidth||document.documentElement.clientWidth)}function MN(){var s,a,i,l,c,u,d;const t=Z(),{data:e}=HQe(),n=e==null?void 0:e.caterpillar_status_message_texts,r={cancelledMessage:t.formatMessage({id:"ZVkPyf",defaultMessage:"Task cancelled"}),failureMessage:t.formatMessage({id:"3BZzpX",defaultMessage:"Something went wrong"}),completedMessage:t.formatMessage({id:"nZ8w6W",defaultMessage:"Completed in"}),failureBannerContentMessage:t.formatMessage({id:"9peWdy",defaultMessage:"There was an error"}),waitingInQueueMessage:t.formatMessage({id:"k4vqxH",defaultMessage:"Your request is queued up. It will be completed shortly."}),startingMessage:t.formatMessage({id:"+jIjI+",defaultMessage:"Starting Task"}),caterpillarNoneSelectedMessage:t.formatMessage({id:"cLZOtM",defaultMessage:"Choose at least one"})};return n?{cancelledMessage:(s=n.cancelled_message)!=null?s:r.cancelledMessage,failureMessage:(a=n.failure_message)!=null?a:r.failureMessage,completedMessage:(i=n.completed_message)!=null?i:r.completedMessage,failureBannerContentMessage:(l=n.failure_banner_content_message)!=null?l:r.failureBannerContentMessage,waitingInQueueMessage:(c=n.waiting_in_queue_message)!=null?c:r.waitingInQueueMessage,startingMessage:(u=n.starting_message)!=null?u:r.startingMessage,caterpillarNoneSelectedMessage:(d=n.none_selected_dr_message)!=null?d:r.caterpillarNoneSelectedMessage}:r}function Gle(t){const e=new Map;return Go(t).forEach(r=>{if(r.type==="website")try{const s=o.jsx(kN,{url:r.url,size:"xsmall",className:"icon-sm",fallback:o.jsx(Nn,{url:r.url,className:"icon-sm bg-token-main-surface-primary rounded-full object-cover",size:32,minSize:20,fallback:o.jsx(jc,{className:"icon-sm text-token-text-quaternary"})})}),a=new URL(r.url).hostname;if(e.has(a)){const i=e.get(a);i&&(i.count+=1)}else e.set(a,{url:r.url,count:1,icon:s})}catch(s){}else if(!e.has(r.name)){const s=_N(r.fileType);e.set(r.name,{url:r.name,count:1,icon:o.jsx(s,{className:"text-token-text-primary relative h-4 w-4"})})}}),Array.from(e.values())}function Wle(t){const e=t.map(n=>n.type==="websiteOpen"?{url:n.url,type:"website"}:n.type==="fileOpen"&&n.fileName?{name:n.fileName,type:"file",fileType:n.iconType}:null);return Gle(e)}function $Qe(t){return t.reduce((e,n)=>{var r,s;if(n.type==="search"){const a=(s=(r=n.urls)==null?void 0:r.length)!=null?s:0;return e+a}return e},0)}function qQe(t){var r;const e=(r=t.metadata)==null?void 0:r.content_references;if(!e)return[];const n=e.map(s=>s.type==="webpage_extended"?s.icon_type?{name:s.title,type:"file",fileType:s.icon_type}:{url:s.url,type:"website"}:null);return Gle(n)}const Zle=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M5.34369 18.769C5.34369 19.876 5.89269 20.578 6.67569 20.578C7.26969 20.578 7.69269 20.182 7.80969 19.543L9.46569 20.092C9.06969 21.307 8.13369 22.108 6.68469 22.108C4.86669 22.108 3.57969 20.713 3.57969 18.769C3.57969 16.825 4.86669 15.43 6.68469 15.43C8.13369 15.43 9.06969 16.231 9.46569 17.446L7.80969 17.995C7.69269 17.356 7.26969 16.96 6.67569 16.96C5.89269 16.96 5.34369 17.662 5.34369 18.769ZM9.42561 21.028L10.3886 19.75C10.9376 20.371 11.6666 20.659 12.3236 20.659C12.8636 20.659 13.2236 20.461 13.2236 20.092C13.2236 19.678 12.7646 19.624 11.7746 19.426C10.8296 19.237 9.79461 18.886 9.79461 17.572C9.79461 16.249 10.9376 15.43 12.3686 15.43C13.5026 15.43 14.3936 15.871 14.9066 16.429L13.9526 17.617C13.5296 17.149 12.9626 16.879 12.3236 16.879C11.8466 16.879 11.5226 17.059 11.5226 17.392C11.5226 17.761 11.9186 17.824 12.7016 17.986C13.7096 18.193 14.9696 18.472 14.9696 19.912C14.9696 21.307 13.7456 22.108 12.2516 22.108C11.1986 22.108 9.96561 21.694 9.42561 21.028ZM14.9451 21.028L15.9081 19.75C16.4571 20.371 17.1861 20.659 17.8431 20.659C18.3831 20.659 18.7431 20.461 18.7431 20.092C18.7431 19.678 18.2841 19.624 17.2941 19.426C16.3491 19.237 15.3141 18.886 15.3141 17.572C15.3141 16.249 16.4571 15.43 17.8881 15.43C19.0221 15.43 19.9131 15.871 20.4261 16.429L19.4721 17.617C19.0491 17.149 18.4821 16.879 17.8431 16.879C17.3661 16.879 17.0421 17.059 17.0421 17.392C17.0421 17.761 17.4381 17.824 18.2211 17.986C19.2291 18.193 20.4891 18.472 20.4891 19.912C20.4891 21.307 19.2651 22.108 17.7711 22.108C16.7181 22.108 15.4851 21.694 14.9451 21.028Z",fill:"currentColor"}),g.createElement("path",{d:"M9 8V10",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),Kle=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.19876 22V21.424C8.94676 21.811 8.35276 22.099 7.56976 22.099C5.86876 22.099 4.61776 20.749 4.61776 18.805C4.61776 16.852 5.89576 15.439 7.69576 15.439C9.10876 15.439 10.0358 16.186 10.4318 17.374L9.00076 17.833C8.85676 17.14 8.38876 16.744 7.70476 16.744C6.76876 16.744 6.12076 17.554 6.12076 18.787C6.12076 20.02 6.76876 20.83 7.73176 20.83C8.46976 20.83 8.96476 20.335 9.04576 19.669H7.61476V18.436H10.5308V22H9.19876ZM13.4271 15.538V22H11.9241V15.538H13.4271ZM16.3314 22H14.8554V15.538H19.3824V16.825H16.3314V18.292H18.8694V19.552H16.3314V22Z",fill:"currentColor"}),g.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 5H8L7.1382 6.72361C7.0535 6.893 6.88037 7 6.69098 7H6V5Z",fill:"currentColor"}),g.createElement("path",{d:"M9 5H12L11.1382 6.72361C11.0535 6.893 10.8804 7 10.691 7H8.56631C8.30613 7 8.1369 6.72619 8.25326 6.49348L9 5Z",fill:"currentColor"}),g.createElement("path",{d:"M13 5H16L15.1382 6.72361C15.0535 6.893 14.8804 7 14.691 7H12.5663C12.3061 7 12.1369 6.72619 12.2533 6.49348L13 5Z",fill:"currentColor"}),g.createElement("path",{d:"M17 5H18V7H16.5663C16.3061 7 16.1369 6.72619 16.2533 6.49348L17 5Z",fill:"currentColor"})),Yle=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.10767 21.991V20.695C4.35967 20.731 4.52167 20.749 4.75567 20.749C5.38567 20.749 5.67367 20.524 5.67367 19.876V15.538H7.17667V20.101C7.17667 21.46 6.31267 22.054 4.94467 22.054C4.64767 22.054 4.35967 22.036 4.10767 21.991ZM9.61707 19.75V22H8.11407V15.538H10.8411C12.3621 15.538 13.3071 16.258 13.3071 17.644C13.3071 19.021 12.3621 19.75 10.8411 19.75H9.61707ZM9.61707 18.49H10.7601C11.4711 18.49 11.8311 18.175 11.8311 17.644C11.8311 17.113 11.4711 16.807 10.7601 16.807H9.61707V18.49ZM18.278 22V21.424C18.026 21.811 17.432 22.099 16.649 22.099C14.948 22.099 13.697 20.749 13.697 18.805C13.697 16.852 14.975 15.439 16.775 15.439C18.188 15.439 19.115 16.186 19.511 17.374L18.08 17.833C17.936 17.14 17.468 16.744 16.784 16.744C15.848 16.744 15.2 17.554 15.2 18.787C15.2 20.02 15.848 20.83 16.811 20.83C17.549 20.83 18.044 20.335 18.125 19.669H16.694V18.436H19.61V22H18.278Z",fill:"currentColor"}),g.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H14.1716C14.702 4 15.2107 4.21071 15.5858 4.58579L18.4142 7.41421C18.7893 7.78929 19 8.29799 19 8.82843V11M15 5V7.5C15 7.77614 15.2239 8 15.5 8H18M16 7L16.5 6.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Qle=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M19 11C19 7.13401 15.866 4 12 4C8.13401 4 5 7.13401 5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M6.88903 22H5.71003L4.48603 17.914V22H2.79403V15.538H5.26903L6.32203 19.246L7.37503 15.538H9.82303V22H8.11303V17.914L6.88903 22ZM14.9162 22H13.2602V20.533H10.3532V19.237L12.7112 15.538H14.9162V19.138H15.8072V20.533H14.9162V22ZM11.9192 19.138H13.2152V17.05L11.9192 19.138ZM18.255 15.538H20.289L22.62 22H20.829L20.415 20.83H18.075L17.67 22H15.924L18.255 15.538ZM19.245 17.491L18.57 19.417H19.92L19.245 17.491Z",fill:"currentColor"}),g.createElement("path",{d:"M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),Jle=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6.24629 22H5.16629L3.74429 17.527V22H2.31329V15.538H4.41029L5.72429 19.777L7.03829 15.538H9.09929V22H7.66829V17.527L6.24629 22ZM9.82977 18.769C9.82977 16.816 11.1168 15.439 12.9258 15.439C14.7438 15.439 16.0218 16.816 16.0218 18.769C16.0218 20.722 14.7438 22.099 12.9258 22.099C11.1168 22.099 9.82977 20.722 9.82977 18.769ZM14.5188 18.769C14.5188 17.527 13.8618 16.744 12.9258 16.744C11.9898 16.744 11.3418 17.527 11.3418 18.769C11.3418 20.011 11.9898 20.794 12.9258 20.794C13.8618 20.794 14.5188 20.011 14.5188 18.769ZM19.7881 22H18.2311L15.8641 15.538H17.4661L19.0321 20.065L20.5981 15.538H22.1461L19.7881 22Z",fill:"currentColor"}),g.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 5H8L7.1382 6.72361C7.0535 6.893 6.88037 7 6.69098 7H6V5Z",fill:"currentColor"}),g.createElement("path",{d:"M9 5H12L11.1382 6.72361C11.0535 6.893 10.8804 7 10.691 7H8.56631C8.30613 7 8.1369 6.72619 8.25326 6.49348L9 5Z",fill:"currentColor"}),g.createElement("path",{d:"M13 5H16L15.1382 6.72361C15.0535 6.893 14.8804 7 14.691 7H12.5663C12.3061 7 12.1369 6.72619 12.2533 6.49348L13 5Z",fill:"currentColor"}),g.createElement("path",{d:"M17 5H18V7H16.5663C16.3061 7 16.1369 6.72619 16.2533 6.49348L17 5Z",fill:"currentColor"})),Xle=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M19 11C19 7.13401 15.866 4 12 4C8.13401 4 5 7.13401 5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M6.95153 22H5.77253L4.54853 17.914V22H2.85653V15.538H5.33153L6.38453 19.246L7.43753 15.538H9.88553V22H8.17553V17.914L6.95153 22ZM12.5307 19.939V22H10.7667V15.538H13.5927C15.1857 15.538 16.1667 16.294 16.1667 17.743C16.1667 19.183 15.1857 19.939 13.5927 19.939H12.5307ZM12.5307 18.472H13.5027C14.1237 18.472 14.4207 18.193 14.4207 17.743C14.4207 17.284 14.1237 17.014 13.5027 17.014H12.5307V18.472ZM18.9677 22.108C17.5547 22.108 16.4927 21.397 16.3217 20.074L18.0587 19.822C18.1127 20.344 18.4727 20.641 18.9407 20.641C19.3547 20.641 19.7057 20.443 19.7057 19.993C19.7057 19.552 19.3367 19.399 18.8237 19.399H18.2567V18.04H18.8057C19.2827 18.04 19.6067 17.878 19.6067 17.473C19.6067 17.113 19.3637 16.897 18.9407 16.897C18.4637 16.897 18.1757 17.239 18.1127 17.68L16.4747 17.527C16.6187 16.384 17.5187 15.43 19.0217 15.43C20.4527 15.43 21.3437 16.249 21.3437 17.347C21.3437 17.995 20.9477 18.499 20.4977 18.688C21.0467 18.94 21.4337 19.39 21.4337 20.155C21.4337 21.235 20.4707 22.108 18.9677 22.108Z",fill:"currentColor"}),g.createElement("path",{d:"M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),ece=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6.84395 22H5.76395L4.34195 17.527V22H2.91095V15.538H5.00795L6.32195 19.777L7.63595 15.538H9.69695V22H8.26595V17.527L6.84395 22ZM12.2274 19.75V22H10.7244V15.538H13.4514C14.9724 15.538 15.9174 16.258 15.9174 17.644C15.9174 19.021 14.9724 19.75 13.4514 19.75H12.2274ZM12.2274 18.49H13.3704C14.0814 18.49 14.4414 18.175 14.4414 17.644C14.4414 17.113 14.0814 16.807 13.3704 16.807H12.2274V18.49ZM20.4848 22H19.0898V20.488H16.1198V19.363L18.6128 15.538H20.4938V19.282H21.5108V20.488H20.4848V22ZM17.5058 19.282H19.0538V16.879L17.5058 19.282Z",fill:"currentColor"}),g.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H17C18.1046 4 19 4.89543 19 6V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6 5H8L7.1382 6.72361C7.0535 6.893 6.88037 7 6.69098 7H6V5Z",fill:"currentColor"}),g.createElement("path",{d:"M9 5H12L11.1382 6.72361C11.0535 6.893 10.8804 7 10.691 7H8.56631C8.30613 7 8.1369 6.72619 8.25326 6.49348L9 5Z",fill:"currentColor"}),g.createElement("path",{d:"M13 5H16L15.1382 6.72361C15.0535 6.893 14.8804 7 14.691 7H12.5663C12.3061 7 12.1369 6.72619 12.2533 6.49348L13 5Z",fill:"currentColor"}),g.createElement("path",{d:"M17 5H18V7H16.5663C16.3061 7 16.1369 6.72619 16.2533 6.49348L17 5Z",fill:"currentColor"})),tce=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M19 11C19 7.13401 15.866 4 12 4C8.13401 4 5 7.13401 5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M2.64707 18.769C2.64707 16.825 3.94307 15.43 5.80607 15.43C7.67807 15.43 8.97407 16.825 8.97407 18.769C8.97407 20.713 7.67807 22.108 5.80607 22.108C3.94307 22.108 2.64707 20.713 2.64707 18.769ZM7.20107 18.769C7.20107 17.644 6.63407 16.96 5.80607 16.96C4.98707 16.96 4.42007 17.644 4.42007 18.769C4.42007 19.894 4.98707 20.578 5.80607 20.578C6.63407 20.578 7.20107 19.894 7.20107 18.769ZM13.9243 22V21.487C13.6633 21.838 13.0963 22.108 12.3673 22.108C10.6393 22.108 9.38829 20.758 9.38829 18.814C9.38829 16.87 10.6753 15.43 12.5293 15.43C14.0143 15.43 14.9683 16.204 15.3643 17.428L13.6813 17.968C13.5643 17.32 13.1593 16.96 12.5383 16.96C11.7193 16.96 11.1523 17.68 11.1523 18.787C11.1523 19.903 11.7193 20.623 12.5653 20.623C13.1593 20.623 13.5733 20.254 13.6903 19.768H12.4483V18.373H15.4543V22H13.9243ZM20.5776 22V21.487C20.3166 21.838 19.7496 22.108 19.0206 22.108C17.2926 22.108 16.0416 20.758 16.0416 18.814C16.0416 16.87 17.3286 15.43 19.1826 15.43C20.6676 15.43 21.6216 16.204 22.0176 17.428L20.3346 17.968C20.2176 17.32 19.8126 16.96 19.1916 16.96C18.3726 16.96 17.8056 17.68 17.8056 18.787C17.8056 19.903 18.3726 20.623 19.2186 20.623C19.8126 20.623 20.2266 20.254 20.3436 19.768H19.1016V18.373H22.1076V22H20.5776Z",fill:"currentColor"}),g.createElement("path",{d:"M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),nce=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M5.31483 19.75V22H3.81183V15.538H6.53883C8.05983 15.538 9.00483 16.258 9.00483 17.644C9.00483 19.021 8.05983 19.75 6.53883 19.75H5.31483ZM5.31483 18.49H6.45783C7.16883 18.49 7.52883 18.175 7.52883 17.644C7.52883 17.113 7.16883 16.807 6.45783 16.807H5.31483V18.49ZM9.63019 22V15.538H11.9252C13.9772 15.538 15.2282 16.798 15.2282 18.769C15.2282 20.74 13.9772 22 11.9252 22H9.63019ZM11.0972 20.731H11.9252C13.0862 20.731 13.7432 19.957 13.7432 18.769C13.7432 17.581 13.0862 16.807 11.9162 16.807H11.0972V20.731ZM17.4343 22H15.9583V15.538H20.4853V16.825H17.4343V18.292H19.9723V19.552H17.4343V22Z",fill:"currentColor"}),g.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H14.1716C14.702 4 15.2107 4.21071 15.5858 4.58579L18.4142 7.41421C18.7893 7.78929 19 8.29799 19 8.82843V11M15 5V7.5C15 7.77614 15.2239 8 15.5 8H18M16 7L16.5 6.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),rce=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.49305 19.75V22H2.99005V15.538H5.71705C7.23805 15.538 8.18305 16.258 8.18305 17.644C8.18305 19.021 7.23805 19.75 5.71705 19.75H4.49305ZM4.49305 18.49H5.63605C6.34705 18.49 6.70705 18.175 6.70705 17.644C6.70705 17.113 6.34705 16.807 5.63605 16.807H4.49305V18.49ZM14.3974 15.538V22H13.0924L10.2484 17.833V22H8.80841V15.538H10.3114L12.9574 19.489V15.538H14.3974ZM19.7106 22V21.424C19.4586 21.811 18.8646 22.099 18.0816 22.099C16.3806 22.099 15.1296 20.749 15.1296 18.805C15.1296 16.852 16.4076 15.439 18.2076 15.439C19.6206 15.439 20.5476 16.186 20.9436 17.374L19.5126 17.833C19.3686 17.14 18.9006 16.744 18.2166 16.744C17.2806 16.744 16.6326 17.554 16.6326 18.787C16.6326 20.02 17.2806 20.83 18.2436 20.83C18.9816 20.83 19.4766 20.335 19.5576 19.669H18.1266V18.436H21.0426V22H19.7106Z",fill:"currentColor"}),g.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H14.1716C14.702 4 15.2107 4.21071 15.5858 4.58579L18.4142 7.41421C18.7893 7.78929 19 8.29799 19 8.82843V11M15 5V7.5C15 7.77614 15.2239 8 15.5 8H18M16 7L16.5 6.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),sce=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M5 11V6C5 4.89543 5.89543 4 7 4H15.1716C15.702 4 16.2107 4.21071 16.5858 4.58579L18.4142 6.41421C18.7893 6.78929 19 7.29799 19 7.82843V11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M4.75676 19.858V22H2.99276V15.538H5.81876C7.41176 15.538 8.39276 16.312 8.39276 17.698C8.39276 18.616 7.92476 19.3 7.10576 19.633L8.59076 22H6.57476L5.30576 19.858H4.75676ZM4.75676 18.463H5.72876C6.34976 18.463 6.64676 18.175 6.64676 17.743C6.64676 17.284 6.34976 17.014 5.72876 17.014H4.75676V18.463ZM10.9742 15.538H13.0082L15.3392 22H13.5482L13.1342 20.83H10.7942L10.3892 22H8.64321L10.9742 15.538ZM11.9642 17.491L11.2892 19.417H12.6392L11.9642 17.491ZM17.5712 19.858V22H15.8072V15.538H18.6332C20.2262 15.538 21.2072 16.312 21.2072 17.698C21.2072 18.616 20.7392 19.3 19.9202 19.633L21.4052 22H19.3892L18.1202 19.858H17.5712ZM17.5712 18.463H18.5432C19.1642 18.463 19.4612 18.175 19.4612 17.743C19.4612 17.284 19.1642 17.014 18.5432 17.014H17.5712V18.463Z",fill:"currentColor"}),g.createElement("path",{d:"M12 5H10V7H11.5C11.7761 7 12 6.77614 12 6.5V5Z",fill:"currentColor"}),g.createElement("path",{d:"M10 7H8.5C8.22386 7 8 7.22386 8 7.5V8.5C8 8.77614 8.22386 9 8.5 9H10V7Z",fill:"currentColor"}),g.createElement("path",{d:"M12 9.5C12 9.22386 11.7761 9 11.5 9H10V10.5C10 10.7761 10.2239 11 10.5 11H11.5C11.7761 11 12 10.7761 12 10.5V9.5Z",fill:"currentColor"})),ace=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M19 11C19 7.13401 15.866 4 12 4C8.13401 4 5 7.13401 5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),g.createElement("path",{d:"M5.91516 15.538H7.36416L8.27316 19.372L9.17316 15.538H10.9642L9.26316 22H7.57116L6.61716 18.184L5.66316 22H3.97116L2.27016 15.538H4.10616L5.01516 19.372L5.91516 15.538ZM12.7223 15.538H14.7563L17.0873 22H15.2963L14.8823 20.83H12.5423L12.1373 22H10.3913L12.7223 15.538ZM13.7123 17.491L13.0373 19.417H14.3873L13.7123 17.491ZM20.3938 22H18.5848L16.2448 15.538H18.1258L19.5208 19.696L20.9248 15.538H22.7338L20.3938 22Z",fill:"currentColor"}),g.createElement("path",{d:"M14.5 11C14.5 9.61929 13.3807 8.5 12 8.5C10.6193 8.5 9.5 9.61929 9.5 11",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})),oce=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.85776 15.538H5.12676L6.16176 19.759L7.19676 15.538H8.71776L6.99876 22H5.54976L4.46976 17.869L3.40776 22H1.95876L0.230758 15.538H1.78776L2.83176 19.759L3.85776 15.538ZM9.28546 15.538H13.8485V16.825H10.7615V18.067H13.3355V19.336H10.7615V20.713H13.8485V22H9.28546V15.538ZM14.6732 22V15.538H17.4542C18.8672 15.538 19.6232 16.15 19.6232 17.275C19.6232 18.022 19.1732 18.463 18.7502 18.643C19.3622 18.868 19.8122 19.408 19.8122 20.182C19.8122 21.325 19.0022 22 17.6162 22H14.6732ZM16.1132 18.13H17.3012C17.8862 18.13 18.2102 17.896 18.2102 17.446C18.2102 16.996 17.8862 16.771 17.3012 16.771H16.1132V18.13ZM16.1132 19.3V20.758H17.4812C18.0572 20.758 18.3722 20.461 18.3722 20.029C18.3722 19.597 18.0572 19.3 17.4812 19.3H16.1132ZM22.0209 19.75V22H20.5179V15.538H23.2449C24.7659 15.538 25.7109 16.258 25.7109 17.644C25.7109 19.021 24.7659 19.75 23.2449 19.75H22.0209ZM22.0209 18.49H23.1639C23.8749 18.49 24.2349 18.175 24.2349 17.644C24.2349 17.113 23.8749 16.807 23.1639 16.807H22.0209V18.49Z",fill:"currentColor",transform:"scale(0.9, 1)"}),g.createElement("path",{d:"M5 11C5 11.5523 5.44772 12 6 12C6.55228 12 7 11.5523 7 11H5ZM16.5858 4.58579L17.2929 3.87868V3.87868L16.5858 4.58579ZM19.4142 7.41421L20.1213 6.70711V6.70711L19.4142 7.41421ZM19 11C19 11.5523 19.4477 12 20 12C20.5523 12 21 11.5523 21 11H19ZM17 5C17 4.44772 16.5523 4 16 4C15.4477 4 15 4.44772 15 5H17ZM19 9C19.5523 9 20 8.55228 20 8C20 7.44772 19.5523 7 19 7V9ZM16.2929 6.29289C15.9024 6.68342 15.9024 7.31658 16.2929 7.70711C16.6834 8.09763 17.3166 8.09763 17.7071 7.70711L16.2929 6.29289ZM18.2071 7.20711C18.5976 6.81658 18.5976 6.18342 18.2071 5.79289C17.8166 5.40237 17.1834 5.40237 16.7929 5.79289L18.2071 7.20711ZM7 11V6H5V11H7ZM8 5H15.1716V3H8V5ZM15.8787 5.29289L18.7071 8.12132L20.1213 6.70711L17.2929 3.87868L15.8787 5.29289ZM19 8.82843V11H21V8.82843H19ZM18.7071 8.12132C18.8946 8.30886 19 8.56321 19 8.82843H21C21 8.03278 20.6839 7.26972 20.1213 6.70711L18.7071 8.12132ZM15.1716 5C15.4368 5 15.6911 5.10536 15.8787 5.29289L17.2929 3.87868C16.7303 3.31607 15.9672 3 15.1716 3V5ZM7 6C7 5.44772 7.44772 5 8 5V3C6.34315 3 5 4.34315 5 6H7ZM15 5V7.5H17V5H15ZM16.5 9H19V7H16.5V9ZM17.7071 7.70711L18.2071 7.20711L16.7929 5.79289L16.2929 6.29289L17.7071 7.70711ZM15 7.5C15 8.32843 15.6716 9 16.5 9V7C16.7761 7 17 7.22386 17 7.5H15Z",fill:"currentColor",transform:"translate(-1, 0)"})),EN=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M13.9999 14.2019C14.3434 14.2019 14.6483 14.4221 14.7569 14.748L15.8796 18.1148C16.4835 19.9265 15.135 21.7979 13.2253 21.798H10.7749C8.86509 21.798 7.51666 19.9266 8.12059 18.1148L9.24325 14.748L9.29247 14.6308C9.42826 14.3703 9.69965 14.2019 10.0003 14.2019H13.9999ZM9.63465 18.6199C9.37521 19.3982 9.95445 20.2019 10.7749 20.2019H13.2253C14.0456 20.2018 14.6249 19.3982 14.3655 18.6199L13.4245 15.798H10.5757L9.63465 18.6199ZM13.9999 10.2023C14.4406 10.2023 14.7979 10.5596 14.7979 11.0003C14.7977 11.4409 14.4405 11.7984 13.9999 11.7984H10.0003C9.55969 11.7984 9.20244 11.4409 9.20223 11.0003C9.20223 10.5596 9.55956 10.2023 10.0003 10.2023H13.9999ZM13.9999 6.20151C14.4405 6.20151 14.7977 6.55902 14.7979 6.99956C14.7979 7.44028 14.4406 7.79761 13.9999 7.79761H10.0003C9.55956 7.79761 9.20223 7.44028 9.20223 6.99956C9.20244 6.55902 9.55969 6.20151 10.0003 6.20151H13.9999ZM13.9999 2.2019C14.4406 2.2019 14.7979 2.55923 14.7979 2.99995C14.7979 3.44067 14.4406 3.798 13.9999 3.798H10.0003C9.55956 3.798 9.20223 3.44067 9.20223 2.99995C9.20223 2.55923 9.55956 2.2019 10.0003 2.2019H13.9999Z",fill:"currentColor"}));function zQe({url:t,className:e}){switch(new URL(t).pathname.split(".").pop()){case"pdf":return o.jsx(nce,{className:e});case"gif":return o.jsx(Kle,{className:e});case"jpg":case"jpeg":return o.jsx(Yle,{className:e});case"png":return o.jsx(rce,{className:e});case"webp":return o.jsx(oce,{className:e});case"mp3":return o.jsx(Xle,{className:e});case"m4a":return o.jsx(Qle,{className:e});case"ogg":return o.jsx(tce,{className:e});case"wav":return o.jsx(ace,{className:e});case"mp4":return o.jsx(ece,{className:e});case"mov":return o.jsx(Jle,{className:e});case"zip":return o.jsx(EN,{className:e});case"rar":return o.jsx(sce,{className:e});case"css":return o.jsx(Zle,{className:e});default:return null}}function ice({searchResult:t,className:e}){switch(t.content_type){case"application/pdf":return o.jsx(nce,{className:e});case"image/gif":return o.jsx(Kle,{className:e});case"image/jpeg":return o.jsx(Yle,{className:e});case"image/png":return o.jsx(rce,{className:e});case"image/webp":return o.jsx(oce,{className:e});case"audio/mpeg":return o.jsx(Xle,{className:e});case"audio/m4a":return o.jsx(Qle,{className:e});case"audio/ogg":return o.jsx(tce,{className:e});case"audio/wav":return o.jsx(ace,{className:e});case"video/mp4":return o.jsx(ece,{className:e});case"video/quicktime":return o.jsx(Jle,{className:e});case"application/zip":return o.jsx(EN,{className:e});case"application/x-rar-compressed":return o.jsx(sce,{className:e});case"text/css":return o.jsx(Zle,{className:e})}return o.jsx(zQe,{url:t.url,className:e})}function Wi(t,e="short"){try{const n=new URL(t).hostname.replace("www.","");return e==="hostname"?n:n.replace(/\.[^.]*$/,"")}catch(n){return t}}function GQe(t){var e;if(t.startsWith("file://"))return _N((e=t.split(".").pop())!=null?e:"other")}const lce=({item:t})=>{const e=t.attribution,n=zle(t.url,"small","relative",e!=null?e:void 0);if(n)return n;const r=GQe(t.url);return r?o.jsx(r,{className:"text-token-text-primary relative h-4 w-4"}):o.jsx(Nn,{url:t.url,className:"icon-sm bg-token-main-surface-primary rounded-full object-cover",size:32,minSize:20,fallback:o.jsx(jc,{className:"icon-sm text-token-text-quaternary"})})};function WQe({item:t}){var s;const e=t.attribution,n=e!=null?e:Wi(t.url,"short"),r=a=>"ref_id"in a&&"content_type"in a;return o.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"hover:bg-token-main-surface-secondary flex flex-col gap-0.5 rounded-xl px-3 py-2.5",children:[o.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",children:[o.jsx(lce,{item:t}),n,r(t)&&o.jsx(ice,{searchResult:t,className:"text-token-text-tertiary inline h-4 w-4"})]}),o.jsx("div",{className:"line-clamp-2 text-sm font-semibold break-words",children:t.title}),((s=t.pub_date)!=null?s:t.snippet)&&o.jsxs("div",{className:"text-token-text-secondary line-clamp-2 text-sm leading-snug font-normal",children:[t.pub_date&&o.jsx(Eh,{date:t.pub_date}),t.pub_date&&t.snippet&&" â ",t.snippet]})]})}function ZQe(t,e=20){if(t.length<=e)return{attribution:t,wasTruncated:!1};const n="...",r=e-n.length,s=Math.floor(r/2),a=r-s;return{attribution:t.substring(0,s)+n+t.substring(t.length-a),wasTruncated:!0}}function KQe({citation:t,showCounts:e}){const n=Wi(t.url,"short"),{attribution:r,wasTruncated:s}=ZQe(n);return o.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"group hover:bg-token-main-surface-secondary flex items-center gap-0.5 rounded-xl px-3 py-2.5",children:[o.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",title:s?n:void 0,children:[t.icon,r]}),e&&t.count>1&&o.jsx("div",{className:"flex h-4 items-center justify-end ps-1",children:o.jsx("div",{className:"bg-token-main-surface-tertiary group-hover:bg-token-main-surface-primary flex h-4 min-w-4 items-center justify-center rounded-full text-[8px]",children:t.count})})]})}function YQe({item:t}){const e=t.url.split("#:~:text=")[0];return o.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"hover:bg-token-main-surface-secondary flex flex-col gap-0.5 rounded-xl px-3 py-2.5",children:[o.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",children:[o.jsx(lce,{item:t}),o.jsx("p",{className:"text-normal truncate text-base font-semibold",children:t.title})]}),o.jsx("div",{className:"text-token-text-secondary line-clamp-2 text-sm leading-snug font-normal",children:e})]})}function cce({taskIsPending:t,finalMessage:e,sources:n,caterpillarHeaderRef:r,showCounts:s=!0,citationView:a="normal"}){var l,c;const i=Xj((c=(l=e==null?void 0:e.metadata)==null?void 0:l.content_references)==null?void 0:c.filter(u=>u.type==="webpage_extended"),"matched_text");return o.jsxs("div",{children:[o.jsx("div",{ref:r},"task-header"),o.jsxs("div",{className:"flex flex-col gap-4",children:[i.length>0&&o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-base font-medium",children:o.jsx(N,{id:"cc9nL7",defaultMessage:"Citations"})}),o.jsx("div",{className:"ms-[-12px] flex flex-col gap-1",children:i==null?void 0:i.map((u,d)=>a==="condensed"?o.jsx(YQe,{item:u},"citation-".concat(d,"-").concat(u.matched_text)):o.jsx(WQe,{item:u},"citation-".concat(d,"-").concat(u.matched_text)))})]}),o.jsxs("div",{className:"flex flex-col gap-2.5",children:[o.jsx("div",{className:"text-base font-medium",children:t?o.jsx("div",{className:"loading-shimmer-pure-text flex h-8 gap-1 overflow-hidden",children:o.jsx(N,{id:"Wo2ed3",defaultMessage:"Compiling sources"})}):o.jsx(N,{id:"h6ereF",defaultMessage:"All Sources"})}),o.jsx("div",{className:"ms-[-12px] flex flex-wrap",children:n==null?void 0:n.map((u,d)=>o.jsx(KQe,{citation:u,showCounts:s},"source-".concat(d,"-").concat(u.url)))})]})]})]})}const uce=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("g",{clipPath:"url(#clip0_5645_181)"},g.createElement("path",{d:"M22.0001 12.4674C22.0012 12.311 21.9204 12.1654 21.7871 12.0837H21.7847L21.7763 12.079L14.8461 7.97669C14.8162 7.95647 14.7851 7.93799 14.7531 7.92135C14.4855 7.7833 14.1677 7.7833 13.9001 7.92135C13.868 7.938 13.837 7.95647 13.807 7.97669L6.87683 12.079L6.86847 12.0837C6.65666 12.2154 6.59172 12.4939 6.72344 12.7057C6.76225 12.7681 6.8157 12.8201 6.87916 12.8572L13.8094 16.9595C13.8394 16.9795 13.8705 16.998 13.9024 17.0148C14.17 17.1529 14.4879 17.1529 14.7554 17.0148C14.7874 16.998 14.8184 16.9795 14.8485 16.9595L21.7787 12.8572C21.9171 12.7764 22.0017 12.6277 22.0001 12.4674Z",fill:"#0A2767"}),g.createElement("path",{d:"M7.68454 9.72835H12.2324V13.8972H7.68454V9.72835ZM21.0696 5.49068V3.5837C21.0806 3.10691 20.7032 2.71141 20.2264 2.69998H8.42455C7.94776 2.71141 7.57036 3.10691 7.58129 3.5837V5.49068L14.558 7.35114L21.0696 5.49068Z",fill:"#0364B8"}),g.createElement("path",{d:"M7.58105 5.49066H12.2322V9.6767H7.58105V5.49066Z",fill:"#0078D4"}),g.createElement("path",{d:"M16.8836 5.49066H12.2324V9.6767L16.8836 13.8627H21.0696V9.6767L16.8836 5.49066Z",fill:"#28A8EA"}),g.createElement("path",{d:"M12.2324 9.6767H16.8836V13.8627H12.2324V9.6767Z",fill:"#0078D4"}),g.createElement("path",{d:"M12.2324 13.8627H16.8836V18.0488H12.2324V13.8627Z",fill:"#0364B8"}),g.createElement("path",{d:"M7.68457 13.8972H12.2325V17.6869H7.68457V13.8972Z",fill:"#14447D"}),g.createElement("path",{d:"M16.8838 13.8627H21.0698V18.0488H16.8838V13.8627Z",fill:"#0078D4"}),g.createElement("path",{d:"M21.7872 12.8316L21.7783 12.8362L14.8481 16.7339C14.8179 16.7525 14.7872 16.7702 14.7551 16.786C14.6374 16.8421 14.5095 16.8737 14.3793 16.879L14.0007 16.6576C13.9687 16.6416 13.9376 16.6237 13.9076 16.6041L6.88439 12.5958H6.88113L6.65137 12.4674V20.3576C6.65495 20.8841 7.08448 21.308 7.6109 21.3046H21.0555C21.0634 21.3046 21.0704 21.3009 21.0788 21.3009C21.19 21.2938 21.2996 21.2709 21.4044 21.233C21.4496 21.2138 21.4933 21.1911 21.5351 21.1651C21.5662 21.1474 21.6197 21.1088 21.6197 21.1088C21.858 20.9325 21.999 20.6541 22.0002 20.3576V12.4674C22 12.6183 21.9186 12.7575 21.7872 12.8316Z",fill:"url(#paint0_linear_5645_181)"}),g.createElement("path",{opacity:.5,d:"M21.6279 12.4362V12.92L14.3814 17.9093L6.87906 12.599C6.87906 12.5965 6.87697 12.5944 6.8744 12.5944L6.18604 12.1804V11.8316L6.46976 11.8269L7.06975 12.1711L7.0837 12.1758L7.13486 12.2083C7.13486 12.2083 14.186 16.2316 14.2046 16.2409L14.4744 16.399C14.4976 16.3897 14.5209 16.3804 14.5488 16.3711C14.5628 16.3618 21.5488 12.4316 21.5488 12.4316L21.6279 12.4362Z",fill:"#0A2767"}),g.createElement("path",{d:"M21.7872 12.8316L21.7783 12.8367L14.8481 16.7344C14.8179 16.753 14.7872 16.7706 14.7551 16.7865C14.4859 16.9179 14.1712 16.9179 13.902 16.7865C13.8702 16.7707 13.8391 16.7533 13.809 16.7344L6.87881 12.8367L6.87044 12.8316C6.73664 12.759 6.65275 12.6196 6.65137 12.4674V20.3576C6.6547 20.884 7.08407 21.3079 7.61039 21.3046C7.61039 21.3046 7.61042 21.3046 7.61044 21.3046H21.0411C21.5675 21.308 21.9968 20.884 22.0002 20.3577C22.0002 20.3577 22.0002 20.3577 22.0002 20.3576V12.4674C22 12.6183 21.9186 12.7575 21.7872 12.8316Z",fill:"#1490DF"}),g.createElement("path",{opacity:.1,d:"M14.9486 16.6767L14.8448 16.7348C14.8148 16.754 14.7837 16.7715 14.7518 16.7874C14.6375 16.8435 14.5133 16.8764 14.3862 16.8841L17.023 20.0023L21.6225 21.1106C21.7485 21.0154 21.8488 20.8903 21.9141 20.7465L14.9486 16.6767Z",fill:"currentColor"}),g.createElement("path",{opacity:.05,d:"M15.4183 16.4125L14.8448 16.7349C14.8148 16.754 14.7837 16.7715 14.7518 16.7874C14.6375 16.8435 14.5133 16.8764 14.3862 16.8842L15.6216 20.2902L21.6239 21.1093C21.8604 20.9317 21.9996 20.6533 21.9997 20.3576V20.2558L15.4183 16.4125Z",fill:"currentColor"}),g.createElement("path",{d:"M7.62346 21.3046H21.0397C21.2462 21.3057 21.4475 21.2404 21.6141 21.1186L14.0002 16.6586C13.9682 16.6425 13.9371 16.6247 13.9072 16.6051L6.88392 12.5967H6.88066L6.65137 12.4674V20.3307C6.65084 20.868 7.08606 21.3041 7.62346 21.3046Z",fill:"#28A8EA"}),g.createElement("path",{opacity:.1,d:"M13.163 7.27345V17.1944C13.1622 17.5422 12.9507 17.8549 12.6281 17.9851C12.5282 18.028 12.4206 18.0502 12.3118 18.0502H6.65137V6.88601H7.5816V6.4209H12.3118C12.7817 6.42268 13.162 6.80357 13.163 7.27345Z",fill:"currentColor"}),g.createElement("path",{opacity:.2,d:"M12.6979 7.73855V17.6595C12.699 17.7718 12.6752 17.883 12.6281 17.985C12.4989 18.3034 12.1903 18.5123 11.8467 18.5139H6.65137V6.886H11.8467C11.9817 6.88464 12.1147 6.9183 12.2328 6.98367C12.5179 7.12732 12.6978 7.4193 12.6979 7.73855Z",fill:"currentColor"}),g.createElement("path",{opacity:.2,d:"M12.6979 7.73855V16.7292C12.6956 17.1989 12.3164 17.5796 11.8467 17.5837H6.65137V6.886H11.8467C11.9817 6.88464 12.1147 6.9183 12.2328 6.98367C12.5179 7.12732 12.6978 7.4193 12.6979 7.73855Z",fill:"currentColor"}),g.createElement("path",{opacity:.2,d:"M12.2328 7.73857V16.7293C12.2323 17.1997 11.852 17.5814 11.3816 17.5837H6.65137V6.88602H11.3816C11.8519 6.88627 12.233 7.26777 12.2327 7.73811C12.2328 7.73827 12.2328 7.73842 12.2328 7.73857Z",fill:"currentColor"}),g.createElement("path",{d:"M2.85255 6.88602H11.38C11.8508 6.88602 12.2325 7.26772 12.2325 7.73857V16.266C12.2325 16.7369 11.8508 17.1186 11.38 17.1186H2.85255C2.3817 17.1186 2 16.7369 2 16.266V7.73857C2 7.26772 2.38171 6.88602 2.85255 6.88602Z",fill:"url(#paint1_linear_5645_181)"}),g.createElement("path",{d:"M4.66475 10.4618C4.87487 10.0141 5.21404 9.63948 5.6387 9.38601C6.10899 9.11676 6.64446 8.98254 7.18615 8.9981C7.6882 8.98721 8.1836 9.11448 8.61824 9.366C9.02689 9.60971 9.35602 9.96679 9.56568 10.3939C9.794 10.8646 9.90779 11.3825 9.89777 11.9055C9.90884 12.4521 9.79176 12.9937 9.55591 13.4869C9.34126 13.9293 9.00169 14.2991 8.57917 14.5506C8.12777 14.8099 7.61398 14.9405 7.09359 14.9283C6.58081 14.9407 6.07449 14.812 5.62987 14.5562C5.21767 14.3122 4.88442 13.9547 4.66987 13.5265C4.44019 13.0626 4.32505 12.5505 4.33406 12.033C4.32449 11.491 4.43754 10.9539 4.66475 10.4618ZM5.70288 12.9874C5.81492 13.2704 6.0049 13.5159 6.25079 13.6953C6.50124 13.8704 6.80114 13.9607 7.1066 13.953C7.4319 13.9658 7.75255 13.8725 8.02009 13.6869C8.26286 13.5081 8.44786 13.2619 8.55218 12.979C8.6688 12.6631 8.72635 12.3283 8.72195 11.9916C8.72555 11.6516 8.67145 11.3135 8.56194 10.9916C8.46523 10.701 8.28619 10.4447 8.0466 10.2539C7.78577 10.0596 7.46598 9.96105 7.14102 9.97485C6.82894 9.96676 6.52232 10.0578 6.26521 10.2348C6.01516 10.415 5.82157 10.6627 5.70707 10.9488C5.45307 11.6047 5.45174 12.3315 5.70334 12.9883L5.70288 12.9874Z",fill:"white"}),g.createElement("path",{d:"M16.8838 5.49066H21.0698V9.6767H16.8838V5.49066Z",fill:"#50D9FF"})),g.createElement("defs",null,g.createElement("linearGradient",{id:"paint0_linear_5645_181",x1:14.3258,y1:12.4674,x2:14.3258,y2:21.3046,gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"#35B8F1"}),g.createElement("stop",{offset:1,stopColor:"#28A8EA"})),g.createElement("linearGradient",{id:"paint1_linear_5645_181",x1:3.7776,y1:6.21985,x2:10.4549,y2:17.7847,gradientUnits:"userSpaceOnUse"},g.createElement("stop",{stopColor:"#1784D9"}),g.createElement("stop",{offset:.5,stopColor:"#107AD5"}),g.createElement("stop",{offset:1,stopColor:"#0A63C9"})),g.createElement("clipPath",{id:"clip0_5645_181"},g.createElement("rect",{width:20,height:18.6047,fill:"white",transform:"translate(2 2.70001)"})))),BMt=Object.freeze(Object.defineProperty({__proto__:null,default:uce},Symbol.toStringTag,{value:"Module"})),yq={[window.location.origin+"/c/"]:"Canvas","https://chatgpt-staging.com/c/":"Canvas","https://docs.google.com/document":"Google Docs","https://docs.google.com/presentation":"Google Slides","https://docs.google.com/spreadsheets":"Google Sheets","https://drive.google.com/":"Google Drive","https://mail.google.com/mail/":"Gmail","https://calendar.google.com/":"Google Calendar","https://www.google.com/calendar":"Google Calendar","https://github.com/":"GitHub","https://linear.app/":"Linear","https://www.notion.so/":"Notion","https://notion.so/":"Notion","https://canva.com/":"Canva","https://www.canva.com/":"Canva","https://dropbox.com/":"Dropbox","https://www.dropbox.com/":"Dropbox","https://box.com/":"Box","https://app.box.com/":"Box","https://outlook.office.com/":"Outlook","https://outlook.live.com/":"Outlook","https://outlook.office365.com/":"Outlook","https://teams.microsoft.com/":"Teams"},QQe=/^(https:\/\/)([a-zA-Z0-9-]+\.)+slack\.com(\/.*)?$/,JQe=/^https:\/\/outlook\.(office|live)\.com/,XQe=/^https:\/\/[^\s]+?\.sharepoint\.com\/[^\s]*/;function jN(t){if(t){if(QQe.test(t))return"Slack";if(JQe.test(t))return"Outlook";if(XQe.test(t))return"SharePoint";{const e=Object.keys(yq).find(n=>t.startsWith(n));return e?yq[e]:void 0}}}function dce(t){switch(t){case"Google Docs":return D6;case"Google Slides":return Z6;case"Google Sheets":return Ap;case"Google Drive":return Ir;case"Gmail":return hi;case"Google Calendar":return BK;case"GitHub":return T0;case"Slack":return K6;case"Canvas":return Sr;case"SharePoint":return ku;case"Linear":return hw;case"Dropbox":return Ul;case"Box":return gw;case"Notion":return ld;case"Canva":return lge;case"Outlook":return uce;case"Teams":return tg;default:return null}}function ri(t){const e=jN(t);if(!e)return null;const n=dce(e);return n?{type:e,Icon:n}:null}function UMt(t){var e;{const n=(e=t.extra)==null?void 0:e.cloud_doc_url;if(!n)return;const r=jN(n);if(!r)return;const s=t.name;return{url:n,type:r,title:tJe(r)?nJe(s):s}}}const eJe=["Google Docs","Google Slides","Google Sheets"];function tJe(t){return eJe.includes(t)}function nJe(t){const e=t.lastIndexOf(".");return e!==-1?t.slice(0,e):t}function HMt({citationMetadata:t,compact:e}){if(!t)return null;const n=dce(t.type);return n?e?o.jsx("a",{href:x7(t.url),target:"_blank",rel:"noreferrer",children:o.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-clip rounded-lg border border-gray-200 px-[16px] py-2",children:[o.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:t.type}),o.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:t.title?t.title:x7(t.url)})]})}):o.jsx("a",{href:x7(t.url),target:"_blank",rel:"noreferrer",children:o.jsxs("div",{className:"flex flex-col gap-[2px] overflow-clip rounded-lg border border-gray-200 px-[16px] py-[12px]",children:[o.jsxs("div",{className:"flex items-center gap-2 pb-0.5",children:[o.jsx(n,{className:"h-[16px] w-[16px] object-contain",alt:t.type}),o.jsx("p",{className:"text-token-text-secondary text-xs leading-normal",children:t.type})]}),o.jsx("p",{className:"text-token -text-primary line-clamp-1 text-sm",children:t.title})]})}):null}var fce=(t=>(t.Sources="sources",t.Images="images",t))(fce||{}),vd=(t=>(t.Links="links",t.Citations="citations",t.SearchResults="search_results",t))(vd||{});const mce=(t,e)=>t?se.getConversationTurnAtIndex(t,e).messages.filter(r=>{var s;return((s=r.metadata)==null?void 0:s.b47u8ra0)===!0}):[],rJe=5;function sJe(t){const e=ri(t);if(e)return e.type;try{return new URL(t).hostname.replace(/^www\./,"")}catch(n){return t}}function aJe(t){const e=new Map;return t.forEach(n=>e.set(sJe(n),n)),Array.from(e.values())}function pce({urls:t,max:e,itemClass:n,iconClass:r,faviconClass:s}){const a=aJe(t);return o.jsx("div",{className:"flex flex-row-reverse",children:a.slice(0,e).reverse().map((i,l)=>{var d;const c=ri(i),u=(d=c==null?void 0:c.Icon)!=null?d:null;return o.jsx("div",{className:U(n),children:u?o.jsx(u,{className:U("icon-sm",r),alt:c==null?void 0:c.type}):o.jsx(Nn,{url:i,size:32,minSize:16,className:U("icon-sm",s),"aria-label":"",showLoadingAnimation:!0,fallback:o.jsx(is,{className:"icon-sm"})})},l)})})}function gce({sourcesUrls:t,onClick:e,className:n}){return o.jsxs("button",{className:U("not-prose group/footnote border-token-border-default bg-token-main-surface-primary hover:bg-token-main-surface-secondary mt-3 mb-2 flex h-[38px] w-fit items-center gap-1.5 rounded-3xl border py-2","ps-3 pe-3",n),onClick:e,children:[t.length>0&&o.jsx(pce,{urls:t,max:rJe,itemClass:U("border-token-main-surface-primary bg-token-main-surface-primary flex items-center overflow-hidden rounded-full","-ms-1 first:me-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative")}),o.jsx("div",{className:"text-token-text-secondary flex items-center text-xs font-semibold",children:o.jsx(N,{id:"/48IOP",defaultMessage:"Sources"})})]})}function VMt({clientThreadId:t,message:e,turnIndex:n}){const r=e==null?void 0:e.id,{toggleThreadSidebar:s}=Bn(),a=g.useCallback(()=>{r&&s({type:"searchSources",scrollToHeader:vd.Citations,clientThreadId:t,turnIndex:n,messageId:r})},[r,s,t,n]),i=Te(t,d=>{const f=mce(d,n);return[e,...f]}),c=g.useMemo(()=>i.flatMap(d=>Y6(d)),[i]).find(d=>d.type==="sources_footnote");tl(t),q();const u=c!=null&&c.sources?c==null?void 0:c.sources.map(({url:d})=>d):[];return!c||u.length===0?null:o.jsx(iJe,{sourcesUrls:u,onClick:a})}const oJe=3;function iJe({sourcesUrls:t,onClick:e}){const r=Z().formatMessage({id:"/48IOP",defaultMessage:"Sources"});return o.jsxs("button",{className:"group/footnote bg-token-bg-primary hover:bg-token-bg-tertiary flex w-fit items-center gap-1.5 rounded-3xl px-3 py-1.5",onClick:e,"aria-label":r,children:[t.length>0?o.jsx(pce,{urls:t,max:oJe,itemClass:U("border-token-bg-primary bg-token-bg-primary flex items-center overflow-clip rounded-full","-ms-1.5 first:me-0","border-2","group-hover/footnote:border-token-bg-tertiary","relative"),iconClass:"rounded-full shadow-[inset_0_0_0_1px_rgba(0,0,0,0.05)]",faviconClass:"rounded-full shadow-[inset_0_0_0_1px_rgba(0,0,0,0.05)]"}):o.jsx(Vs,{className:"icon-sm text-token-text-secondary"}),o.jsx("div",{className:"text-token-text-secondary mt-[-1px] text-[13px] font-medium",children:r})]})}const lJe=({children:t})=>{const e=q(),n=ws(e);return o.jsx("div",{className:U("border-token-border-sharp dark:border-token-main-surface-secondary @container relative mb-4","flex cursor-text flex-col items-start overflow-hidden rounded-[14px] border p-4 shadow-md contain-inline-size",!n&&"mx-[-16px] sm:mx-[-32px] sm:rounded-[28px] sm:p-8"),children:t})},cJe=({title:t})=>o.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-2",children:[o.jsx(Nu,{className:"h-4 w-4"}),o.jsx("p",{children:t})]});function $Mt({messages:t,children:e,clientThreadId:n,renderingView:r}){var y,x,b;const s=t.find(_=>{var w;return(w=_.metadata)==null?void 0:w.b1de6e2_rm}),a=(y=s==null?void 0:s.metadata)==null?void 0:y.async_task_id,{toggleThreadSidebar:i}=Bn(),l=C3("caterpillar"),c=g.useRef(null),u=zM(),d=q(),f=ie(d,"1927459101"),m=g.useCallback(_=>{a&&i({type:"caterpillar",caterpillarId:a,initialTab:_,clientThreadId:n},l)},[i,a,l,n]),{uniqueSources:p}=g.useMemo(()=>s?{uniqueSources:qQe(s)}:{uniqueSources:[],totalSources:0},[s]),h=Wu();if(!s)return null;const v=({taskId:_})=>u?null:o.jsx("div",{className:"hover:bg-token-main-surface-secondary cursor-pointer rounded-md p-2",children:o.jsx(Bo,{className:"icon text-token-text-tertiary",onClick:()=>{gs.setResearchShareIntent({messages:t.map(w=>w),threadId:n,taskId:_})}})});return r==="chat"?o.jsxs(lJe,{children:[o.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[!f&&((x=s.metadata)==null?void 0:x.async_task_title)&&o.jsx(cJe,{title:(b=s.metadata)==null?void 0:b.async_task_title}),a&&o.jsx(v,{taskId:a})]}),e,o.jsxs("div",{className:"flex items-center gap-2 py-2",children:[o.jsx(gce,{sourcesUrls:p.map(_=>_.url),onClick:()=>{h&&m("sources")},className:U("mt-0! mb-0!",h&&"cursor-default")}),a&&o.jsx(v,{taskId:a})]})]}):o.jsxs("div",{className:"flex flex-col gap-4",children:[e,o.jsx("div",{className:"border-token-border-sharp flex flex-col gap-2 border-b"}),o.jsx(cce,{caterpillarHeaderRef:c,taskIsPending:!1,finalMessage:s,showCounts:!1,sources:p,citationView:"condensed"})]})}function wm({className:t}){return o.jsx(hce,{className:U("w-full",t)})}function hce({className:t}){return o.jsx("div",{className:U("loading-results-shimmer rounded-md",t),children:"Â "})}function xq(t,e){const s=300/t,a=35/s;let i;if(e<=a)i=s*e;else{const l=t-a,u=-4*((e-a)/l);i=35+(99.9-35)*(1-Math.exp(u))}return Math.min(i,99.9)}const Rh=(t,e)=>{const n=+new Date-t,[r,s]=g.useState(xq(e,n));return g.useEffect(()=>{const a=setInterval(()=>{const i=+new Date-t,l=xq(e,i);if(s(l),l>=100||i>=e)return clearInterval(a),s(100),100},100);return()=>{clearInterval(a)}},[t,e]),r};function uJe({percentage:t,height:e=10,className:n,backgroundClassName:r="bg-gray-400",barClassName:s="bg-current",transitionDuration:a,transitionTimingFunction:i,onTransitionEnd:l}){return o.jsxs("div",{className:U("relative w-full",n),style:{height:e},children:[o.jsx("div",{className:U("absolute start-0 top-0 h-full w-full",r)}),o.jsx("div",{className:U("absolute start-0 top-0 h-full transition-[width]",s),style:{width:"".concat(Math.max(Math.min(t,100),1),"%"),transitionDuration:a,transitionTimingFunction:i},onTransitionEnd:l})]})}const vce=t=>{"use forget";var A;const e=ee.c(14),{isOdysseyTurn:n,isMercuryTurn:r,hasConduitToken:s,isProTurn:a,isDeepResearchTurn:i,isImageGenAsync:l,isImageGenSync:c,metadataNode:u,hasImageGenAsync:d}=Te(t,mJe),f=q(),m=(A=u==null?void 0:u.message.metadata)==null?void 0:A.async_task_id;let p;e[0]!==m?(p=I=>m?I.tasks[m]:null,e[0]=m,e[1]=p):p=e[1];const h=to(p);let v;e[2]!==f?(v=ie(f,"1439437954"),e[2]=f,e[3]=v):v=e[3];const y=v;let x;e[4]!==f||e[5]!==(h==null?void 0:h.status)?(x=(h==null?void 0:h.status)===Wr.RUNNING&&ie(f,"877631007"),e[4]=f,e[5]=h==null?void 0:h.status,e[6]=x):x=e[6];const b=x;let _;e[7]!==f||e[8]!==(h==null?void 0:h.status)?(_=((h==null?void 0:h.status)===Wr.RUNNING||(h==null?void 0:h.status)===Wr.FINALIZING)&&ie(f,"1927459101"),e[7]=f,e[8]=h==null?void 0:h.status,e[9]=_):_=e[9];const w=_;let S;e[10]!==f?(S=ze(f,"3396794266").get("enable_interruption",!1),e[10]=f,e[11]=S):S=e[11];const M=S&&s&&!a&&!i&&!l&&!c;let E;return e[12]!==f?(E=ie(f,"2017435557"),e[12]=f,e[13]=E):E=e[13],y||n||r||M||b||w||E&&d},qMt=t=>{var i;const{metadataNode:e}=Te(t,l=>({metadataNode:se.findAsyncTaskMetadataNode(l)})),n=q(),r=(i=e==null?void 0:e.message.metadata)==null?void 0:i.async_task_id,s=to(l=>r?l.tasks[r]:null);return(s==null?void 0:s.status)===Wr.RUNNING&&ie(n,"877631007")},dJe=t=>{var i;const{metadataNode:e}=Te(t,l=>({metadataNode:se.findAsyncTaskMetadataNode(l)})),n=q(),r=(i=e==null?void 0:e.message.metadata)==null?void 0:i.async_task_id,s=to(l=>r?l.tasks[r]:null);return(s==null?void 0:s.status)===Wr.RUNNING&&ie(n,"1927459101")};function fJe(t){var e;return!!((e=t.message.metadata)!=null&&e.image_gen_async)}function mJe(t){var e,n,r,s,a,i,l,c,u,d,f,m,p,h,v;return{isOdysseyTurn:!!((n=(e=se.getCurrentNode(t))==null?void 0:e.message.metadata)!=null&&n.n7jupd_message),isMercuryTurn:!!((s=(r=se.getCurrentNode(t))==null?void 0:r.message.metadata)!=null&&s.mercury_message),hasConduitToken:(t==null?void 0:t.conduitToken)!=null,isProTurn:!!(((a=se.getCurrentNode(t))==null?void 0:a.message.author.name)===vs.A8KM123||(c=(l=(i=se.getCurrentNode(t))==null?void 0:i.message.metadata)==null?void 0:l.model_slug)!=null&&c.endsWith("-pro")),isDeepResearchTurn:!!((d=(u=se.getCurrentNode(t))==null?void 0:u.message.metadata)!=null&&d.deep_research_version),isImageGenAsync:!!((m=(f=se.getCurrentNode(t))==null?void 0:f.message.metadata)!=null&&m.image_gen_async),isImageGenSync:((h=(p=se.getCurrentNode(t))==null?void 0:p.message.author)==null?void 0:h.role)===Ue.Assistant&&((v=se.getCurrentNode(t))==null?void 0:v.message.recipient)===mu,metadataNode:se.findAsyncTaskMetadataNode(t),hasImageGenAsync:!!se.findNode(t,fJe)}}function pJe({taskId:t,intl:e,toaster:n}){return Vt({mutationFn:async()=>{if(t)return await Jre.cancelTask({taskId:t})},onSuccess:()=>{t&&(gs.setTaskStatus(t,Wr.CANCELLED),gs.abortTaskStream(t))},onError:()=>{n.danger(e.formatMessage({id:"4Hl5/B",defaultMessage:"An error occurred while cancelling the task."}),{loggingTitle:"An error occurred while cancelling the task.",toastId:"caterpillar_mutations",loggingDescription:"Error message when task cancellation throws an error"})}})}const gJe=({taskId:t,clientThreadId:e,onClose:n})=>{const r=Z(),s=Tt(),a=vQ(c=>c.bySystemHint(we.Research)),i=pJe({taskId:t,intl:r,toaster:s}),l=g.useCallback(()=>{i.mutate(),ns(e,null),B.logEventWithStatsig("Pause Completion","chatgpt_pause_completion",{threadId:kt(e),currentLeafId:se.getCurrentNode(st(e)).message.id,eventSource:"mouse"}),n()},[i,e,n]);return o.jsx(qu,{open:!0,onOpenChange:c=>{c||n()},children:o.jsxs(zu,{children:[o.jsx(b0,{className:"border-token-border-medium radix-state-open:animate-show fixed inset-0 bg-black/25"}),o.jsxs(_f,{className:"bg-token-main-surface-primary radix-state-open:animate-alertShow fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl shadow-2xl focus:outline-hidden",children:[o.jsx(bY,{className:"p-4 pb-2 text-lg font-semibold md:p-6 md:pb-2",children:o.jsx(N,{id:"caterpillar.message.modal.confirmCancelTaskTitle",defaultMessage:"Are you sure you want to stop researching?"})}),o.jsxs("div",{className:"flex flex-col gap-4 p-4 pt-0 md:p-6 md:pt-0",children:[o.jsx(CY,{className:"text-base",children:o.jsx("span",{className:"mb-2",children:a?o.jsx(N,{id:"caterpillar.message.modal.confirmCancelTaskDescription",defaultMessage:"Stopping now will still count as one deep research request. You have {remaining} more available until {resetDate}.",values:{remaining:a.remaining,resetDate:new Date(a.reset_after).toLocaleDateString(r.locale,{month:"long",day:"numeric"})}}):o.jsx(N,{id:"caterpillar.message.modal.confirmCancelTaskDescriptionNoRateLimit",defaultMessage:"Stopping now will still count as one deep research request."})})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(oe,{color:"secondary",onClick:n,children:o.jsx(N,{id:"caterpillar.message.modal.confirmCancelTaskCancelButton",defaultMessage:"Don't stop"})}),o.jsx(oe,{color:"danger",className:"w-20",onClick:l,children:i.isPending?o.jsx(On,{}):o.jsx(N,{id:"caterpillar.message.modal.confirmCancelTaskButton",defaultMessage:"Stop"})})]})]})]})]})})},LC={div:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("div",P(C({},r),{className:"text-red-500",children:n}))},p:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("p",P(C({},r),{className:"text-token-text-primary text-start leading-6",children:n}))},a:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("a",P(C({},r),{className:"font-sm text-token-text-primary! leading-6",children:n}))}},hJe=1e3*60*2,vJe=30;function yce({taskId:t,clientThreadId:e,onClick:n,statusMessage:r,showSources:s,includeMargin:a,sources:i,progressBar:l}){const c=Wu(),[u,d]=g.useState(!1);return o.jsxs(o.Fragment,{children:[t&&u&&o.jsx(gJe,{taskId:t,clientThreadId:e,onClose:()=>d(!1)}),o.jsxs("div",{className:"relative flex w-4/5 max-w-[416px]",children:[t&&o.jsx("button",{onClick:()=>d(!0),disabled:!t,className:"hover:bg-token-bg-elevated-secondary bg-token-bg-elevated-primary absolute end-4 bottom-4 flex items-center justify-center rounded-full border border-black/10 p-0.5 dark:border-white/10",children:o.jsx(a4,{className:"icon-lg"})}),o.jsx("button",{onClick:()=>c&&n(),className:U("bg-token-main-surface-primary mt-4 flex w-full items-start justify-start gap-[18px] rounded-2xl border border-black/10 px-5 py-4 shadow-sm dark:border-white/10",c?"hover:bg-token-main-surface-secondary cursor-pointer":"cursor-auto"),children:o.jsxs("div",{className:"flex w-full flex-col gap-3",children:[o.jsxs("div",{className:U("flex flex-col items-start justify-start self-stretch md:h-7 md:flex-row md:items-center md:justify-between",s?"h-12":"h-6"),children:[o.jsx("div",{className:U("font-sm text-token-text-primary w-full flex-1 truncate text-start leading-7 md:w-0",a&&"me-[30px]"),children:r}),s&&i]}),o.jsx("div",{className:U("flex w-full items-center justify-start gap-4 self-stretch pb-2",t&&"pe-10"),children:l})]})})]})]})}function TN({taskId:t,clientThreadId:e,toggleSidebar:n,openSidebar:r,startTime:s,progressBar:a}){const i=Z(),[l,c]=g.useState(!1),u=MN();g.useEffect(()=>{if(!s)return;const f=Date.now()-s,m=hJe-f;if(m>0){const p=setTimeout(()=>{c(!0),r()},m);return()=>clearTimeout(p)}else c(!0),r()},[s,r]);const d=dJe(e);return g.useEffect(()=>{d&&r()},[d,r]),a||(a=o.jsx(hce,{className:"h-2 w-full"})),o.jsx(yce,{taskId:t,clientThreadId:e,onClick:n,statusMessage:l?i.formatMessage({id:"T2SbxC",defaultMessage:"Waitingâ¦"}):o.jsx("div",{className:"text-token-text-primary text-sm font-medium text-pretty",children:u.startingMessage}),progressBar:a,showSources:!1})}function yJe(t,e,n){var a;const r=t.formatMessage({id:"Bs+OcV",defaultMessage:"Thinkingâ¦"});if(e.length<2)return(a=n==null?void 0:n.initial)!=null?a:r;const s=e[e.length-2];return s.type==="summary"?s.title:s.type==="search"?s.query:(s==null?void 0:s.type)==="websiteOpen"?o.jsx(ar,{componentOverrides:LC,children:s.activeRowText}):s.type==="fileOpen"?o.jsx(ar,{componentOverrides:LC,children:s.activeRowText}):s.type==="pythonAnalysis"?o.jsx(ar,{componentOverrides:LC,children:s.analysisSummary}):r}function xJe({task:t,clientThreadId:e,caterpillarRows:n,messageWithTaskMetadata:r,totalSources:s,handleToggleCaterpillarSidebar:a}){var S,k,M;const i=Z(),l=Wu(),c=yJe(i,n,(S=r.metadata)==null?void 0:S.async_task_status_messages),u=((k=t==null?void 0:t.expectedDurationMinutes)!=null?k:vJe)*60*1e3,d=q(),f=ie(d,"3550239432"),m=(M=n[1])!=null&&M.created_at?n[1].created_at*1e3:0,p=Rh(m||Date.now(),u),h=r!=null&&r.create_time?r.create_time*1e3:0,v=Math.min(Rh(h||Date.now(),u),4),y=f?Math.max(p,v):p;let x;const b=o.jsx("div",{className:"bg-token-main-surface-tertiary flex h-2 shrink grow basis-0 items-start justify-start gap-2.5 overflow-hidden rounded-[10px]",children:o.jsx(uJe,{percentage:y,barClassName:"bg-token-text-primary",backgroundClassName:"bg-token-main-surface-tertiary"})});f&&(x=b),g.useEffect(()=>{ns(e,{source:Cr.CLIENT,value:sn.STREAMING})},[e]);const{openThreadSidebar:_}=Bn();g.useEffect(()=>{n.length===2&&l&&_({type:"caterpillar",caterpillarId:t.taskId,initialTab:"activity",clientThreadId:e})},[n.length,_,t.taskId,e,l]);const w=g.useCallback(()=>{_({type:"caterpillar",caterpillarId:t.taskId,initialTab:"activity",clientThreadId:e})},[_,t.taskId,e]);return n.length<=1?o.jsx(TN,{taskId:t.taskId,clientThreadId:e,toggleSidebar:()=>a("activity"),openSidebar:w,startTime:new Date(t.createdAt).getTime(),progressBar:x}):o.jsx(yce,{taskId:t.taskId,clientThreadId:e,onClick:()=>a("activity"),statusMessage:c,showSources:!0,includeMargin:s>0,sources:s===0?o.jsx("div",{className:"text-token-text-tertiary text-sm text-pretty",children:o.jsx(N,{id:"zfwUjs",defaultMessage:"Looking for sourcesâ¦"})}):o.jsxs("button",{onClick:E=>{E.stopPropagation(),a("sources")},className:U("flex shrink-0 gap-1 text-[13px] leading-[18px] text-[#0285ff]",l?"cursor-pointer hover:text-[#0285ff]/80":"cursor-auto"),children:[o.jsx("div",{className:"relative",children:o.jsx(Kt,{initial:!1,children:o.jsx(Se.span,{initial:{opacity:0,rotateX:-90,translateY:20},animate:{opacity:1,rotateX:0,translateY:0},exit:{opacity:0,rotateX:90,translateY:-20},transition:{duration:.35},className:"absolute start-0 md:end-0",children:s},s)})}),o.jsx("div",{className:U("md:pe-0",s>0&&"ps-2",s>9&&"ps-[14px]",s>99&&"ps-[22px]"),children:s>1?o.jsx(N,{id:"zN+MuO",defaultMessage:" sources"}):o.jsx(N,{id:"dMowmJ",defaultMessage:" source"})})]}),progressBar:b})}function zS({message:t,handleToggleCaterpillarSidebar:e}){const n=Wu();return o.jsx("div",{className:"flex w-full flex-col gap-6 pt-3 pb-6",children:o.jsx("button",{onClick:()=>n&&e(),className:U("text-token-text-tertiary flex w-full text-start",n?"hover:text-token-text-secondary cursor-pointer":"cursor-auto"),children:t})})}function zMt(t){const e=kn(t);return to(n=>sc.getTaskIdsByConversationId(e,n).map(a=>sc.getTask(a,n)).filter(a=>a!==void 0).some(a=>a.status===Wr.RUNNING||a.status===Wr.CREATED))}function GMt(t){var e,n;return t&&(n=(e=t.metadata)==null?void 0:e.b1de6e2_rm)!=null?n:!1}function bJe(t,e){return se.findNode(t,({message:n})=>{var r,s;return((r=n.metadata)==null?void 0:r.b1de6e2_rm)===!0&&((s=n.metadata)==null?void 0:s.async_task_id)===e})!=null}function CJe(t,e){let n=se.getCurrentNode(t);return n.message.author.role==="developer"&&(n=se.getNode(t,n.parentId)),e!=null&&n.message.id===e}function bq({task:t,clientThreadId:e,messageWithTaskMetadata:n,totalSources:r,totalSearches:s,handleToggleCaterpillarSidebar:a}){var p,h,v,y,x,b;const i=t==null?void 0:t.originalConversationId,l=Qre(i),c=q(),u=ie(c,"1927459101"),d=!1,f=Te(e,_=>bJe(_,t==null?void 0:t.taskId)),{clearSystemHintModeTrigger:m}=Qo();return g.useEffect(()=>{(t==null?void 0:t.status)===Wr.COMPLETED&&!f&&!d&&(u&&DE(c)?Fe(i,_=>{vn.setShouldRefetchConvoOnFinalize(_,!0)}):l(),m(we.Research))},[t==null?void 0:t.status,d,f,l,m,u,c,i]),o.jsx(zS,{message:o.jsxs(o.Fragment,{children:[(b=(x=(h=(p=n.metadata)==null?void 0:p.async_task_status_messages)==null?void 0:h.completed_with_time)!=null?x:(y=(v=n.metadata)==null?void 0:v.async_task_status_messages)==null?void 0:y.completed_no_time)!=null?b:o.jsx(N,{id:"4d0xZc",defaultMessage:"Completed"}),r===0?o.jsx(N,{id:"VggF2B",defaultMessage:" Â· 0 sources"}):r===1?o.jsx(N,{id:"zkkdKV",defaultMessage:" Â· 1 source"}):o.jsx(N,{id:"qcKt3q",defaultMessage:" Â· {sourcesCount} sources",values:{sourcesCount:r}}),s>0&&o.jsx(N,{id:"ti+7CY",defaultMessage:" Â· {searchesCount, plural, one {# search} other {# searches}}",values:{searchesCount:s}})]}),handleToggleCaterpillarSidebar:()=>a("activity")})}function xce({clientThreadId:t}){const e=q(),n=cr(e,t),r=at(()=>{var i;return((i=Yu(n))==null?void 0:i.value)===sn.STREAMING}),[s]=Te(t,i=>[se.getRequestId(i)]);return eo(s)||r}function WMt({messages:t,clientThreadId:e}){var u;const n=t.find(d=>{var f,m;return((f=d.metadata)==null?void 0:f.b1de6e2_s)&&((m=d.metadata)==null?void 0:m.async_task_id)}),r=(u=n==null?void 0:n.metadata)==null?void 0:u.async_task_id,s=t.find(d=>d.recipient===vs.START_RESEARCH_TASK),a=Te(e,d=>CJe(d,s==null?void 0:s.id)),i=xce({clientThreadId:e}),[l,c]=g.useState(i);return g.useEffect(()=>{const d=setTimeout(()=>{c(a&&i)},3e3);return()=>clearTimeout(d)},[i,a]),!n||!r?l?o.jsx(TN,{taskId:r,clientThreadId:e,toggleSidebar:()=>{},openSidebar:()=>{},startTime:new Date().getTime()}):null:o.jsx(_Je,{clientThreadId:e,payloadTaskId:r,messageWithTaskMetadata:n})}function _Je({payloadTaskId:t,messageWithTaskMetadata:e,clientThreadId:n}){var m,p,h,v,y,x,b,_;AQe(t,e,n);const r=to(w=>t?w.tasks[t]:null),s=Z(),a=r==null?void 0:r.status,i=g.useMemo(()=>r!=null&&r.rows?r.rows:[],[r==null?void 0:r.rows]),{toggleThreadSidebar:l}=Bn(),{totalSources:c,totalSearches:u}=g.useMemo(()=>{if(!i)return{uniqueSources:[],totalSources:0,totalSearches:0};const w=Wle(i),S=w.reduce((M,E)=>M+E.count,0),k=$Qe(i);return{uniqueSources:w,totalSources:S,totalSearches:k}},[i]),d=C3("caterpillar"),f=g.useCallback(w=>{t&&l({type:"caterpillar",caterpillarId:t,initialTab:w,clientThreadId:n},d)},[l,t,d,n]);return EDe(t),(p=(m=e.metadata)==null?void 0:m.async_task_status_messages)!=null&&p.completed_with_time?o.jsx(bq,{task:r,clientThreadId:n,messageWithTaskMetadata:e,totalSources:c,totalSearches:u,handleToggleCaterpillarSidebar:f}):!r||!a||a===Wr.UNDETERMINED?o.jsx(TN,{taskId:t,clientThreadId:n,toggleSidebar:()=>{},openSidebar:()=>{},startTime:new Date().getTime()}):r.status===Wr.COMPLETED?o.jsx(bq,{task:r,clientThreadId:n,messageWithTaskMetadata:e,totalSources:c,totalSearches:u,handleToggleCaterpillarSidebar:f}):r.status===Wr.FAILED?o.jsx(zS,{message:(y=(v=(h=e.metadata)==null?void 0:h.async_task_status_messages)==null?void 0:v.error)!=null?y:s.formatMessage({id:"at6zk8",defaultMessage:"Failed to think"}),handleToggleCaterpillarSidebar:()=>f("activity")}):r.status===Wr.CANCELLED?o.jsx(zS,{message:(_=(b=(x=e.metadata)==null?void 0:x.async_task_status_messages)==null?void 0:b.cancelled)!=null?_:s.formatMessage({id:"u1rIr5",defaultMessage:"Task Cancelled"}),handleToggleCaterpillarSidebar:()=>f("activity")}):o.jsx(xJe,{task:r,clientThreadId:n,caterpillarRows:i,messageWithTaskMetadata:e,totalSources:c,handleToggleCaterpillarSidebar:f})}var RC,Cq;function wJe(){if(Cq)return RC;Cq=1;function t(e){return e==null}return RC=t,RC}var SJe=wJe();const kJe=St(SJe);function MJe({formData:t,readOnly:e,schema:n,uiSchema:r,onChange:s}){const a=g.useCallback((c,u)=>{s==null||s(P(C({},t),{[c]:u}))},[t,s]);g.useEffect(()=>{const c={};Object.entries(n.properties).forEach(([u,d])=>{c[u]===void 0&&d.default!==void 0&&("enum"in d?c[u]=[d.default]:c[u]=d.default)}),s(c)},[]);const i=g.useMemo(()=>{const c=Object.fromEntries(r.elements.map(u=>{const d=el(u.scope.split("/"));return d?[d,u]:[]}).filter(u=>u.length>0));return Object.entries(n.properties).map(([u,d])=>{const f=c[u];return f?{dataRow:d,uiRow:f,rowKey:u}:null}).filter(u=>!!u).sort((u,d)=>{const f="enum"in u.dataRow,m="enum"in d.dataRow;return f===m?0:f?-1:1})},[n,r]),l=i.filter(c=>"enum"in c.dataRow).length;return o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:i.map((c,u)=>o.jsx(EJe,{updateFormDataForRow:d=>a(c.rowKey,d),clearAll:()=>a(c.rowKey,void 0),renderRow:c,value:t==null?void 0:t[c.rowKey],readOnly:e,forceFullWidth:l%2===1&&u===l-1},c.rowKey))})}function EJe({updateFormDataForRow:t,clearAll:e,renderRow:n,readOnly:r,value:s,forceFullWidth:a=!1}){const{dataRow:i,uiRow:l,rowKey:c}=n,u=Z(),d=g.useCallback(k=>{s===void 0?t([k]):s.includes(k)?t(s.filter(M=>M!==k)):t([...s,k])},[s,t]),[f,m]=g.useState(!1),[p,h]=g.useState(""),[v,y]=g.useState(!1),[x,b]=g.useState(void 0);g.useEffect(()=>{m(!1),h("")},[v]);const _=g.useCallback(()=>{d(p),m(!1),h(""),x&&b([...x,p])},[p,d,m,h,x]);g.useEffect(()=>{"enum"in i&&i.enum&&b(i.enum)},[i]);const w=g.useMemo(()=>{const k=i.type,M=kJe(s)||s===""||Array.isArray(s)&&s.length===0;if(x){const E=M?u.formatMessage({id:"Dzsmf1",defaultMessage:"Any"}):s.length===1?s[0]:s[0]+" + ".concat(s.length-1);return o.jsxs(J.Root,{open:v,onOpenChange:y,children:[o.jsxs(J.Trigger,{className:"border-token-main-surface-quaternary bg-token-main-surface-primary text-token-text-secondary hover:bg-token-main-surface-primary! dark:bg-token-main-surface-secondary w-full justify-between rounded-md border text-start",children:[o.jsx("span",{className:"text-token-text-primary truncate",children:E}),o.jsx(wc,{className:"icon-sm text-token-text-tertiary"})]}),o.jsx(J.Portal,{children:o.jsxs(J.Content,{size:"medium",children:[o.jsx(J.MultiSelectCheckboxItem,{checked:(s==null?void 0:s.length)===0||s===void 0,onCheckedChange:e,children:o.jsx(N,{id:"Dzsmf1",defaultMessage:"Any"})},"any"),o.jsx("hr",{className:"border-token-main-surface-quaternary mx-2 my-2"}),x.map(T=>o.jsx(J.MultiSelectCheckboxItem,{checked:s==null?void 0:s.includes(T),onCheckedChange:()=>d(T),children:o.jsx("span",{className:"pe-2",children:T})},T)),o.jsx("hr",{className:"border-token-main-surface-quaternary mx-2 my-2"}),f?o.jsxs("div",{className:"flex w-full flex-row items-center justify-between pe-5",children:[o.jsx(Bi,{autoFocus:!0,name:"new-option",className:"bg-token-main-surface-primary text-token-text-secondary hover:bg-token-main-surface-primary! dark:bg-token-main-surface-secondary w-0 flex-1 grow rounded-md border-none text-start focus-within:ring-0!",value:p,placeholder:u.formatMessage({id:"LhAlwa",defaultMessage:"Add option..."}),ariaLabel:u.formatMessage({id:"XElhCL",defaultMessage:"New option"}),onChange:T=>h(T.target.value),onKeyDown:T=>T.stopPropagation(),onPressEnter:_}),o.jsx("button",{className:"shrink-0 cursor-pointer",onClick:_,children:o.jsx(Q6,{className:"icon-sm text-token-text-primary"})})]}):o.jsx("div",{className:"flex px-2",children:o.jsx("button",{className:"bg-token-main-surface-primary hover:bg-token-main-surface-secondary w-full rounded-md border-none p-2 text-start text-sm",onClick:()=>m(!0),children:o.jsx(N,{id:"lMgmto",defaultMessage:"Add Option..."})})})]})})]})}else return k==="string"||k==="integer"?o.jsx(Bi,{ariaLabel:u.formatMessage({id:"M18pon",defaultMessage:"Form row"}),name:c,color:"quaternary",placeholder:l.placeholder,value:s!=null?s:"",type:"text",className:U("border-token-main-surface-quaternary text-token-text-primary",M&&"text-token-text-quaternary"),onChange:E=>t(E.target.value),disabled:r}):null},[i,s,l.placeholder,d,u,c,r,t,e,f,p,v,x,_]);if(!w)return null;const S=a||!x;return o.jsx(jJe,{label:l.label,className:U("col-span-1 flex flex-col justify-between",S&&"sm:col-span-2"),children:w})}function jJe({children:t,label:e,className:n}){return o.jsxs("div",{className:n,children:[o.jsx("p",{className:"mb-1 font-[550]",children:e}),o.jsx("div",{children:t})]})}function TJe(t,e,n){const r=e.elements.length;if(r===0)return;const s=Object.entries(t).reduce((a,[i,l])=>Array.isArray(l)?l.length>0?a+1:a:l!==""?a+1:a,0);B.logEventWithStatsig("dynamic-form-submission","chatgpt_dyanmic_form_submission",P(C({},Pt({clientThreadId:n})),{totalItems:r.toString(),completedItems:s.toString(),ratio:(s/r).toString()}))}function NJe(t,e){let n="";return e.elements.forEach(r=>{var c;const s=r.scope.split("/").pop(),a=s&&t[s],i=a?Array.isArray(a)?a.join(", "):a:"Any",l=(c=r.label)!=null?c:s;n+="".concat(l,": ").concat(i,"\n")}),n}function ZMt({messages:t,clientThreadId:e,isLastMessage:n}){var w;const r=t.find(S=>S.author.role===Ue.Assistant),s=t.find(S=>{var k;return(k=S.metadata)==null?void 0:k.json_form}),a=(w=s==null?void 0:s.metadata)==null?void 0:w.json_form,[i,l]=g.useState({}),[c,u]=g.useState(),[d,f]=g.useState(),m=wu.useStore(),p=Bf(e);g.useEffect(()=>{a&&(u(a.json_form_ui),f(a.json_form_data))},[a]);const h=g.useCallback(()=>{if(l({}),c){const S=P(C({},c),{elements:c.elements.filter(k=>k.scope!=="#/properties/AdditionalInfo")});u(S)}d&&(delete d.properties.AdditionalInfo,f(d))},[l,u,f,c,d]),v=g.useCallback(()=>{if(c){const S=P(C({},c),{elements:[...c.elements,{type:"Control",scope:"#/properties/AdditionalInfo",label:"Additional Info",placeholder:"Any other details..."}]});u(S)}if(d){const S=P(C({},d.properties),{AdditionalInfo:{type:"string"}});f(P(C({},d),{properties:S}))}},[u,f,c,d]),y=c==null?void 0:c.elements.some(S=>S.scope.endsWith("#/properties/AdditionalInfo")),x=Te(e,se.getCurrentLeafId),b=(s==null?void 0:s.id)!==x;if(!s||!d||!c)return(r==null?void 0:r.status)==="in_progress"&&n?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(jo,{className:"h-[26px] w-full"}),o.jsx(jo,{className:"h-[26px] w-3/4"}),o.jsx(ZLe,{})]}):null;if(b)return null;const _=async S=>{const k=m.getActiveSystemHintType(),M=NJe(i,c);TJe(i,c,e),p({sourceEvent:S,promptMessage:Fr(M),completionMetadata:{systemHints:k?[k]:[],conversationMode:{kind:At.PrimaryAssistant}}})};return o.jsxs(ere,{children:[o.jsx(AJe,{formData:i,dataSchema:d,uiSchema:c,setData:l,readOnly:b}),o.jsxs("div",{className:"flex w-full justify-between",children:[y?o.jsx("div",{}):o.jsx(oe,{disabled:b,onClick:v,color:"secondary",className:"text-token-text-secondary",children:o.jsx(N,{id:"Sen69P",defaultMessage:"Add a detail"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(oe,{disabled:b,onClick:h,color:"secondary",className:"text-token-text-secondary",children:o.jsx(N,{id:"Uqo7UD",defaultMessage:"Reset"})}),o.jsx(oe,{disabled:b,onClick:_,children:o.jsx(N,{id:"FVou++",defaultMessage:"Start"})})]})]})]})}function AJe({dataSchema:t,uiSchema:e,setData:n,readOnly:r,formData:s}){return o.jsx("div",{children:o.jsx(MJe,{formData:s,readOnly:r,schema:t,uiSchema:e,onChange:a=>n(a)})})}const bce=0,NN=700,PJe=t=>{var e;return Array.from((e=t.match(/\s*\S+(?:\s+|$)/g))!=null?e:[])},IJe=/^\s*$/,LJe=()=>{const{locale:t}=Z(),e=g.useMemo(()=>{try{return new Intl.Segmenter(t,{granularity:"word"})}catch(r){return null}},[t]);return g.useCallback(r=>{var a;if(e==null)return PJe(r);const s=[];for(const{segment:i,isWordLike:l}of e.segment(r))if(IJe.test(i)||!l){const c=Math.max(s.length-1,0);(a=s[c])!=null||(s[c]=""),s[c]+=i}else s.push(i);return s},[e])},Cce=g.createContext({isDisabled:!0,segmentText:()=>[],enqueueElement:()=>{},dequeueElement:()=>{},updateElementBounds:()=>{},reportReady:()=>{},reportProgress:()=>{},reportComplete:()=>{},lastPositionCompletedAnimating:null,activeStartPos:null,animationTiming:{durationMs:NN,delayMs:bce}}),Sm=(t,e)=>"".concat(t,"-").concat(e),RJe=t=>{const[e,n]=t.split("-");return{tag:e,startPos:parseInt(n)}},AN=({isDisabled:t,onComplete:e,children:n,defaultDelayPerSegmentMs:r=bce,defaultAnimationDurationPerSegmentMs:s=NN})=>{const a=g.useRef(new Set),[i,l]=g.useState(null),[c,u]=g.useState(null),d=g.useRef(new Map),f=g.useRef(null),m=g.useCallback((w,S,k,M)=>{var E;f.current=Math.max((E=f.current)!=null?E:0,k),d.current.set(Sm(w,S),{start:S,end:k,numChildren:M})},[]),p=g.useCallback((w,S)=>{c!=null&&S<=c||(a.current.add(Sm(w,S)),a.current.size===1&&u(S))},[c]),h=g.useCallback((w,S)=>{const k=Sm(w,S);a.current.delete(k),d.current.delete(k)},[]),[v]=g.useState(()=>({delayMs:r,durationMs:s})),y=g.useCallback((w,S,k)=>{var j;if(S!==c)return;const M=Sm(w,S),E=(j=d.current.get(M))==null?void 0:j.end,T=f.current;E==null||T==null},[c]),x=g.useCallback((w,S)=>{const k=Sm(w,S);if(!a.current.has(k))return;a.current.delete(k);let M=null;for(const E of a.current){const{startPos:T}=RJe(E);(M==null||T<M)&&(M=T)}M!=null&&u(M)},[]),b=g.useCallback(w=>{(a.current.size===0||a.current.size===1&&w===f.current)&&(e==null||e()),l(S=>Math.max(S!=null?S:0,w))},[e]),_=LJe();return o.jsx(Cce.Provider,{value:{lastPositionCompletedAnimating:i,isDisabled:t,activeStartPos:c,animationTiming:v,segmentText:_,enqueueElement:p,dequeueElement:h,updateElementBounds:m,reportProgress:y,reportReady:x,reportComplete:b},children:n})},KMt=()=>{const t=ze(q(),"3991624489"),e=Eu(({wordFadeType:s})=>s),n=Eu(({tokenBufferType:s})=>s),r=t.get("animation_duration",NN);return{wordFadeType:Ig(e!=null?e:t.get("word_fade_type"),uge),bufferType:Ig(n!=null?n:t.get("token_buffer_type"),cge),animationDurationMs:r}};function _ce(){const t=q();return ie(t,"2304807207")}const _3=va(t=>{const e=Xa(t),n=J6(t),r=e&&n,s=nt(r?"header":"none"),a=nt(r?{type:"initial"}:{type:"none"}),i=()=>{r&&(s.set("none"),a.set(v=>v.type==="title"?v:{type:"none"}))},l=({toState:v,fromState:y,forceUpdate:x})=>{a.set(b=>y?b.type===y?v:b:b.type!=="title"||x?v:b)},c=({toState:v,fromState:y})=>{r&&s.set(x=>y?x===y?v:x:x!=="none"?v:x)},u=v=>{c({toState:v?"none":"cot"}),l({toState:{type:"none"}})},d=()=>{c({fromState:"cot",toState:"header"}),l({toState:{type:"thinking"},fromState:"none"})},f=(v,y)=>{l({toState:v?{type:"none"}:{type:"title",title:y},forceUpdate:!0})},m=()=>{c({fromState:"header",toState:"navlinks"})},p=v=>{l({toState:{type:"text",text:v}})},h=()=>{};return r?{loadingSkeletonState$:s,miniHeaderState$:a,clearLoadingState:i,onMountCoT:u,onUnmountCoT:d,onShowNavlinksTitle:f,onMountNavlinks:m,onUseLoadingText:p,areLoadingStatesEnabled:!0}:{loadingSkeletonState$:s,miniHeaderState$:a,clearLoadingState:h,onMountCoT:h,onUnmountCoT:h,onShowNavlinksTitle:h,onMountNavlinks:h,onUseLoadingText:h,areLoadingStatesEnabled:!1}});function YMt({text:t,isWithinFirstAssistantTurns:e}){const n=q(),{onUseLoadingText:r,areLoadingStatesEnabled:s}=_3(n),a=e&&t&&s;return g.useEffect(()=>{a&&r(t)},[a,t,r]),a?null:t&&t.length>0?o.jsx("span",{className:"result-streaming streaming-dot loading-shimmer relative pt-1",children:o.jsx(ar,{children:t})}):o.jsx("span",{className:"result-streaming streaming-dot relative pt-1",children:"â"})}function QMt(t,e,n,r,s){var a;return(a=OJe(t))!=null?a:BJe(t,e,n,r,s)}function OJe(t){var u,d,f;const{errType:e,errCode:n,err:r,disclaimers:s}=(u=t.clientMetadata)!=null?u:{},a=FJe(t),i=n!==Cl.ModelIncompatibility&&n!==Cl.ContentPolicy&&((f=(d=t.clientMetadata)==null?void 0:d.canRetry)!=null?f:!0);if(a&&DJe(t))return{flagSeverity:"warning",shouldHideContent:!0,errCode:Cl.ContentRegurgitation,errMessage:r,canRetry:i};if(!(s&&s.length>0)&&a)return{flagSeverity:"warning",shouldHideContent:!0,errCode:Cl.ContentOrTos,errMessage:r,canRetry:i};if(e)return{flagSeverity:e,shouldHideContent:e==="danger"&&(n===Cl.ContentPolicy||n===Cl.ModelIncompatibility),disclaimers:s,errCode:n,errMessage:r,canRetry:i}}function DJe(t){var e;return((e=t.metadata)==null?void 0:e.safety_plugin_status_code)===123}function FJe(t){var e,n;return((n=(e=t.metadata)==null?void 0:e.finish_details)==null?void 0:n.type)==="content_filter"}function BJe(t,e,n,r,s){var i,l,c,u;if(!r&&e&&(t==null?void 0:t.author.role)===Ue.User&&t.status!==void 0&&!s)return{flagSeverity:"info",shouldHideContent:!1,errCode:ap.MissingLastCompletion,canRetry:!0};if(((l=(i=t.metadata)==null?void 0:i.finish_details)==null?void 0:l.type)==="interrupted"&&((u=(c=t.metadata)==null?void 0:c.finish_details)==null?void 0:u.reason)==="server_error")return{flagSeverity:"danger",shouldHideContent:!1,errCode:ap.InterruptionServerError,canRetry:!0}}var Ke=(t=>(t[t.Thought=0]="Thought",t[t.Recap=1]="Recap",t[t.Search=2]="Search",t[t.CodeAnalysis=3]="CodeAnalysis",t[t.ImageAnalysis=4]="ImageAnalysis",t[t.ComputerOutput=5]="ComputerOutput",t[t.N7jupdLoading=6]="N7jupdLoading",t[t.Browsing=7]="Browsing",t[t.N7jupdAPI=8]="N7jupdAPI",t[t.e1ld0dvz=9]="e1ld0dvz",t[t.Glaux=10]="Glaux",t))(Ke||{});const UJe=g.createContext(null);let bg=null;const wce=()=>{var t;return(t=bg==null?void 0:bg.platformConnectors)!=null?t:null};function JMt({value:t,children:e}){return bg=t,o.jsx(UJe.Provider,{value:t,children:e})}const HJe=g.createContext({postId:""});function Sce(){const{postId:t}=g.useContext(HJe),{postWithProfile:e}=g.useContext(dge);return(e==null?void 0:e.post.id)||t}class VJe{async fetch(e,n){const a=this.makeQueryOptions(n,e),{enabled:r}=a,s=de(a,["enabled"]);return await e.fetchQuery(s)}makeQueryOptions(e,n){var i;const r=bs(e.asset.asset_pointer),s=P(C({},e),{id:r}),a=["getFileDownloadLink",r,e.gizmoId,e.conversationId,e.sharedThreadId,e.postId];return e.force&&(n==null||n.invalidateQueries({queryKey:a})),{queryKey:a,queryFn:async()=>r.startsWith(ss)?P(C({},e.asset),{url:r}):await $Je(s),staleTime:GM,enabled:(i=e.getServerUrl)!=null?i:!0}}}const om=new VJe;async function $Je(t){const{asset:e,gizmoId:n,id:r,isUnauthenticated:s,conversationId:a,postId:i}=t,l=await Tf(r,n,s,a,!1,null,i).catch(c=>{throw c instanceof Wn||ve.addError(new Error("Could not fetch file with ID ".concat(r," from file service"),{cause:c})),c});if(l.status!==Ro.Success)throw ve.addError("Could not fetch file with ID ".concat(r," from file service"),l),new Error("Could not fetch file with ID ".concat(r," from file service"));return P(C({},e),{url:l.download_url})}function XMt(s){var a=s,{className:t,onLoad:e,fadeIn:n=!0}=a,r=de(a,["className","onLoad","fadeIn"]);const[i,l]=g.useState(!1);function c(u){l(!0),e==null||e(u)}return o.jsx("img",P(C({},r),{alt:r.alt,onLoad:u=>c(u),className:U(t,"w-fit",n&&"transition-opacity duration-300",i?"opacity-100":"opacity-0")}))}function qJe(t,e,n){const{isUnauthenticated:r}=An(),s=g.useContext(l3),a=s==null?void 0:s.serverSharedThreadId,i=Sce();return b0e({queries:t.map(l=>om.makeQueryOptions({asset:l,sharedThreadId:a,gizmoId:e,isUnauthenticated:r,postId:i,conversationId:n}))})}const zJe=()=>null;function GJe(t){"use forget";const e=ee.c(9),{asset:n,gizmoId:r,conversationId:s,getServerUrl:a,sharedThreadId:i}=t,{isUnauthenticated:l}=An(),c=zJe(),u=Sce();let d;return e[0]!==n||e[1]!==s||e[2]!==c||e[3]!==a||e[4]!==r||e[5]!==l||e[6]!==u||e[7]!==i?(d=om.makeQueryOptions({asset:n,gizmoId:r,isUnauthenticated:l,conversationId:s,getServerUrl:a,sharedThreadId:i,postId:u}),e[0]=n,e[1]=s,e[2]=c,e[3]=a,e[4]=r,e[5]=l,e[6]=u,e[7]=i,e[8]=d):d=e[8],ut(d)}const WJe=t=>{const[e,n]=g.useState(null);return Te(t,s=>{var i,l,c;if(e)return e;const a=se.findNode(s,u=>{var d;return((d=u.message.metadata)==null?void 0:d.visited_risky_domain)!==void 0});return(i=a==null?void 0:a.message.metadata)!=null&&i.visited_risky_domain?(n((l=a==null?void 0:a.message.metadata)==null?void 0:l.visited_risky_domain),(c=a.message.metadata)==null?void 0:c.visited_risky_domain):null})},ZJe=(t,e)=>{var i,l;const{clientThreadId:n}=g.useContext(sT),r=e||kt(n),s=g.useMemo(()=>t?[t]:[],[t]);return(l=(i=qJe(s,void 0,r)[0])==null?void 0:i.data)==null?void 0:l.url},eEt=t=>{const[e,n]=g.useState(t);return g.useEffect(()=>{if(!t||t===e)return;const r=new Image;return r.src=t,r.onload=()=>n(t),r.onerror=()=>console.warn("failed to load",t),()=>{r.src="",r.onload=null,r.onerror=null}},[t,e]),e},KJe=t=>t.replace(/^wwws?\./,""),YJe=["localhost","127.0.0.1","newtab"];function QJe(t){try{return new URL(t)}catch(e){return ve.addError(e),null}}function _q(t){var a;const e=(a=t==null?void 0:t.vmMetadata)==null?void 0:a.url;if(!e)return{domain:null,origin:null};if(e.startsWith("data:"))return{domain:null,origin:null};const n=QJe(e);if(!n)return{domain:null,origin:null};if(YJe.includes(n.hostname))return{domain:null,origin:null};const r=n.origin;return{domain:KJe(n.hostname),origin:r}}const kce=(t,e)=>{var d,f,m,p;const n=[],r=[],s=[],a=[],i="";if(t.every(h=>h.author.name===vs.n7jupd_m)){if(!e)return;const h=el(t);return[{type:Ke.N7jupdLoading,needs_startup:(f=(d=h==null?void 0:h.metadata)==null?void 0:d.needs_startup)!=null?f:!1}]}for(const h of t){if(h.content.content_type===rt.ComputerOutput){const v=P(C({},h.content.screenshot),{vmMetadata:(m=h.metadata)==null?void 0:m.n7jupd_v,messageId:h.id});n.push(v)}if(h.content.content_type===rt.Text&&((p=h.recipient)!=null&&p.includes("computer"))&&r.push({type:h.recipient,parts:h.content.parts.join("")}),h.content.content_type===rt.StructuredThoughts)for(const v of h.content.thoughts)v.summary&&(s.push(v.summary),a.push(v.content))}const l=!1,c=[],u=Math.min(n.length,a.length);for(let h=0;h<u;h++){const v=n[h],{domain:y}=_q(v),x={type:Ke.ComputerOutput,screenshots:[v],text:i,messages:t,thoughts:[s[h]],fullThoughts:[a[h]],actions:r,isBlank:!y};c.push(x)}if(n.length>u){const h=n.slice(u);if(c.length===0)c.push({type:Ke.ComputerOutput,screenshots:h,text:i,messages:t,thoughts:[],fullThoughts:[],actions:r,isBlank:l});else{const v=c[c.length-1];v.screenshots.push(...h),v.isBlank&&(v.isBlank=h.every(y=>!_q(y).domain)&&v.isBlank)}}if(a.length>u)for(let h=u;h<a.length;h++)c.push({type:Ke.ComputerOutput,screenshots:[],text:i,messages:t,thoughts:[s[h]],fullThoughts:[a[h]],actions:r,isBlank:!0});return!c.length&&(n.length||a.length)?[{type:Ke.ComputerOutput,screenshots:n,text:i,messages:t,thoughts:s,fullThoughts:a,actions:r,isBlank:l}]:c},JJe=t=>{var r,s,a,i;const e=t.messages[0];let n;switch(e.author.name){case"browser.search":{const l=(s=(r=e.metadata)==null?void 0:r.n7jupd_title)!=null?s:"Searched",c=(i=(a=e.metadata)==null?void 0:a.n7jupd_urls)!=null?i:[];n={type:Ke.Search,queries:[{type:"search",q:l}],sources:c.map(u=>({type:"search_result_group",domain:u,entries:[{type:"search_result",url:u,title:"",snippet:"",ref_id:null,content_type:null,pub_date:null}]}))};break}}if(!(!n||!n.sources.length))return[n]},GS=/connector_[0-9a-f]{32}/i,XJe=t=>{var l,c,u,d,f,m,p,h,v,y,x,b,_,w,S,k;const e=wce();if(!e)return;const n=t.messages[0];if(!n)return;const r=(l=n.metadata)==null?void 0:l.n7jupd_subtool;if((c=r==null?void 0:r.subtool)!=null&&c.includes("search"))return[{type:Ke.N7jupdAPI,action:"n7jupd_as"}];if((u=r==null?void 0:r.subtool)!=null&&u.includes("api_doc"))return[{type:Ke.N7jupdAPI,action:"n7jupd_ag"}];const s=(f=(d=n.metadata)==null?void 0:d.n7jupd_subtool)==null?void 0:f.generic_api_func;let a=(p=(m=s==null?void 0:s.match(GS))==null?void 0:m[0])!=null?p:void 0;a||(a=(x=(y=(v=(h=n.metadata)==null?void 0:h.n7jupd_url)==null?void 0:v.match(GS))==null?void 0:y[0])!=null?x:void 0);const i=e==null?void 0:e.get(a!=null?a:"");if(!a||!i)return[{type:Ke.N7jupdAPI,action:"n7jupd_cf"}];if(t.messages.length>1&&((b=t.messages[1].metadata)!=null&&b.connector_source)&&t.messages[1].content.content_type===rt.TetherBrowsingDisplay){if((_=t.messages[1].metadata)!=null&&_.display_url&&((w=t.messages[1].metadata)!=null&&w.display_title))return[{type:Ke.N7jupdAPI,action:"n7jupd_cf",source:i,fetchResult:{url:(S=t.messages[1].metadata)==null?void 0:S.display_url,title:(k=t.messages[1].metadata)==null?void 0:k.display_title}}];const M=Mce(t.messages[1].content.result);if(M.length)return[{type:Ke.N7jupdAPI,action:"n7jupd_cs",source:i,searchResults:M.map(([E,T])=>({url:E,title:T}))}]}return[{type:Ke.N7jupdAPI,action:"n7jupd_cf",source:i}]},eXe=t=>{var i,l,c,u,d,f,m,p,h,v,y,x,b;const e=wce();if(!e)return;const n=t.messages[0];if(!n)return;if((i=n.recipient)!=null&&i.includes("list_resources")||(l=n.recipient)!=null&&l.includes("search_tools"))return[{type:Ke.N7jupdAPI,action:"n7jupd_as"}];if((c=n.recipient)!=null&&c.includes("read_resources")||(u=n.recipient)!=null&&u.includes("get_resource"))return[{type:Ke.N7jupdAPI,action:"n7jupd_ag"}];if(t.messages.length==1)return[];const r=t.messages[1];if(r.content.content_type!==rt.CitableCodeOutput)return[{type:Ke.N7jupdAPI,action:"n7jupd_cf"}];let s=(f=(d=r.content.metadata)==null?void 0:d.connector_id)!=null?f:void 0;s||(s=(p=(m=r.content.output_str.match(GS))==null?void 0:m[0])!=null?p:void 0);const a=e==null?void 0:e.get(s!=null?s:"");if(t.messages.length>1&&t.messages[1].content.content_type===rt.CitableCodeOutput&&((h=t.messages[1].content.metadata)!=null&&h.connector_source)){if((v=t.messages[1].metadata)!=null&&v.display_url&&((y=t.messages[1].metadata)!=null&&y.display_title))return[{type:Ke.N7jupdAPI,action:"n7jupd_cf",source:a,fetchResult:{url:(x=t.messages[1].metadata)==null?void 0:x.display_url,title:(b=t.messages[1].metadata)==null?void 0:b.display_title}}];const _=Mce(t.messages[1].content.output_str);if(_.length)return[{type:Ke.N7jupdAPI,action:"n7jupd_cs",source:a,searchResults:_.map(([w,S])=>({url:w,title:S}))}]}return[{type:Ke.N7jupdAPI,action:"n7jupd_cf",source:a}]};function Mce(t){const e=t.replace(/^\s*L\d+:\s*/gm,""),n=[],r=[];for(let f=0;f<e.length;f++){const m=e[f];if(m==="{")r.push(f);else if(m==="}"){if(r.length===0)continue;const p=r.pop();n.push({start:p,end:f})}}const s=["display_url","web_link","url","web_url"],a=["display_title","title","name","path","subject","summary"],i=f=>f.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),l=(f,m)=>{const p=[];for(const h of f){const v=new RegExp('"'.concat(i(h),'"\\s*:\\s*"([^"]+)"'),"g");for(const y of m.matchAll(v))p.push(y[1].replace(/\n/g,""))}return p},c=[];for(const{start:f,end:m}of n){const p=e.slice(f,m+1),h=l(s,p),v=l(a,p),y=Math.min(h.length,v.length);for(let x=0;x<y;x++)c.push([h[x],v[x]])}const u=new Map;for(const[f,m]of c)u.set("".concat(f,"|||").concat(m),[f,m]);return Array.from(u.values())}const Ece=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M7.47065 6.5293C7.24338 6.30203 6.89187 6.27383 6.63374 6.44434L6.52925 6.5293L2.52925 10.5293C2.26955 10.789 2.26955 11.211 2.52925 11.4707L6.52925 15.4707C6.78895 15.7304 7.21095 15.7304 7.47065 15.4707C7.73035 15.211 7.73035 14.789 7.47065 14.5293L4.6064 11.665H13.9999C16.0241 11.665 17.665 10.0241 17.665 8V4.5C17.665 4.13273 17.3672 3.83496 16.9999 3.83496C16.6327 3.83496 16.3349 4.13273 16.3349 4.5V8C16.3349 9.28958 15.2895 10.335 13.9999 10.335H4.6064L7.47065 7.4707L7.55561 7.36621C7.72612 7.10808 7.69792 6.75657 7.47065 6.5293Z"})),tEt=Object.freeze(Object.defineProperty({__proto__:null,default:Ece},Symbol.toStringTag,{value:"Module"}));function jce(n){var r=n,{contextConnectorSourceUrl:t}=r,e=de(r,["contextConnectorSourceUrl"]);const s=Z(),[a,i]=g.useState({width:0,height:0}),l=a.width/a.height,c=a.width>0&&a.height>0,u=g.useMemo(()=>{if(t!==void 0){let d=new URL(t);return d.protocol!=="https:"&&(d=void 0),d==null?void 0:d.toString()}},[t]);return g.useEffect(()=>{if(!e.src)throw new Error("ExpandableImage requires a src");const d=new Image;d.onload=()=>{i({width:d.naturalWidth,height:d.naturalHeight})},d.onerror=()=>{},d.src=e.src},[e.src]),o.jsxs(qu,{children:[o.jsx(EM,{className:e.className,disabled:!c,children:e.children}),o.jsx(zu,{children:o.jsxs(b0,{className:"radix-state-open:animate-show fixed inset-0 z-[100] flex items-center justify-center overflow-hidden bg-black/90 dark:bg-black/80",children:[o.jsx(C0,{asChild:!0,children:o.jsx("button",{className:"absolute end-4 top-4",children:o.jsx(lr,{className:"h-5 w-5 text-gray-100"})})}),o.jsxs(_f,{onEscapeKeyDown:d=>d.stopPropagation(),className:"radix-state-open:animate-contentShow shadow-xl focus:outline-hidden",children:[o.jsx("div",{className:U("relative max-h-[85vh] max-w-[90vw]"),style:{aspectRatio:l},children:o.jsx("img",{src:e.src,alt:e.alt,className:"h-full w-full object-contain"})}),u&&o.jsx("div",{className:"absolute end-14 top-4",children:o.jsx(wt,{label:s.formatMessage(tXe.openOriginal),children:o.jsx("a",{href:u,target:"_blank",rel:"noreferrer",children:o.jsx(Ece,{className:"icon rotate-180 text-gray-100"})})})})]})]})})]})}const tXe=pe({openOriginal:{id:"ExpandableImage.openOriginal",defaultMessage:"Open original image"}});function nXe(t){return"children"in t?Tce(t):"value"in t?t.value:""}function rXe(t){return t.type==="text"?t.value:"children"in t?Tce(t):""}function Tce(t){let e=-1;const n=[];for(;++e<t.children.length;)n[e]=rXe(t.children[e]);return n.join("")}const wq=Rt(()=>({rect:null})),sXe=t=>{if(!t)return wq.setState({rect:null});const{height:e,left:n,top:r,width:s}=t.getBoundingClientRect(),{borderRadius:a}=getComputedStyle(t);wq.setState({rect:{height:e,left:n,top:r,width:s,borderRadius:a}})};function Nce(t){const e=Z(),n=kn(t),r=pt();return async({title:a,textdocType:i,content:l,createSource:c})=>{if(!n)return;if(i==="loading"){ve.addError("Tried to add a textdoc with type 'loading'");return}const u=e.formatMessage({id:"6dkdc5",defaultMessage:"New document"});a||(a=u);const{textdoc_id:d}=await ue.safePost("/textdoc/add",{requestBody:{conversation_id:n,textdoc_title:a,textdoc_type:i,content:l,create_source:c}});return r.setQueryData([n,"textdocs"],f=>{if(!f)return f;const m={textdocId:d,messageId:null,type:i,comments:[],status:ms.COMPLETE,title:a,content:l,versionInt:1,createdAt:Date.now()},p=new Map(f.persistedTextdocVersionById);p.set(d,m);const h=[...f.persistedTextdocVersions,m],v=new Map(f.persistedTextdocById);return v.set(d,{id:d,version:1,title:a,textdoc_type:i,content:l,comments:[],metadata:null,updated_at:new Date().toISOString()}),P(C({},f),{persistedTextdocVersionById:p,persistedTextdocVersions:h,persistedTextdocById:v})}),await r.invalidateQueries({queryKey:[n,"textdocs"]}),requestAnimationFrame(()=>{rc(d),setTimeout(()=>{rc(d)},250)}),d}}const aXe=({content:t,codeLanguage:e,codeSnippetRef:n,clientThreadId:r})=>{const s=Z(),a=S0(r),i=Nce(r);if(!id(a,ou.Canvas))return null;function c(){Xu.logButtonClick(z5.EDIT_IN_CANVAS_CODE_SNIPPET),n!=null&&n.current&&sXe(n.current);const u=e?Ou("code/"+e):Zoe(t)?Ii.CODE_OTHER:Ii.DOCUMENT;i({title:s.formatMessage({id:"ay0U57",defaultMessage:"New {codeLanguage} document"},{codeLanguage:e||"text"}),textdocType:u,content:t,createSource:Xp.MESSAGE})}return o.jsx(wt,{label:o.jsx(N,{id:"EditInCanvasButton.editTooltip",defaultMessage:"Edit in canvas"}),children:o.jsxs("button",{className:"flex items-center gap-1 py-1 select-none",onClick:c,children:[o.jsx(b5,{className:"icon-xs"}),s.formatMessage({id:"5k0sSJ",defaultMessage:"Edit"})]})})},PN=g.createContext({isWithinDataAnalysisToolMessage:!1});function T4(t,{type:e="copy",source:n,messageId:r,serverThreadId:s,selectedText:a,location:i,contentType:l,productLogOnly:c=!1}){if(Et(t)&&(B.logEvent("Content Exported",{type:e,source:n,length:a.length,location:i,contentType:l}),!(c||e==="download")))return ue.safePost("/conversation/implicit_message_feedback",{requestBody:{message_id:r,conversation_id:s,source:n,feedback:{feedback_type:e,selected_text:a},location:i}})}const oXe=Cc(()=>Ve(()=>import("./utxdqc9pcw6i2msa.js"),__vite__mapDeps([102,1,103]))),iXe=be.memo(function({htmlSegment:e}){return o.jsx("span",{dangerouslySetInnerHTML:{__html:e}})}),lXe=t=>{var e,n;if(t instanceof Element)return(n=(e=t.closest("[data-message-id]"))==null?void 0:e.getAttribute("data-message-id"))!=null?n:void 0};function cXe({wrapperClassName:t,codeClassName:e,language:n,content:r,shouldWrapCode:s,clientThreadId:a,removeTopBorderRadius:i,showActionBar:l=!0,showStickyRightContent:c=!0,codeContainerClassName:u,title:d}){var T;const f=q(),m=g.useRef(null),p=Tt(),h=Er(),v=lQe(),y=g.useCallback(j=>{var I;j.preventDefault(),j.stopPropagation();const A=(I=window.getSelection())==null?void 0:I.toString();A&&Uo(A,void 0,j)},[]),x=g.useCallback(j=>{const A=(L,O,R)=>{if(h||a==null||O===void 0)return;const H=kt(a);H!=null&&T4(f,{source:L,type:"copy",messageId:O,serverThreadId:H,selectedText:R,location:"code-snippet",contentType:"code"})},I=lXe(j.target);Uo(r,p,j),A("mouse",I,r)},[f,r,p,h,a]),b=Z(),{isWithinDataAnalysisToolMessage:_}=g.useContext(PN),[w,S]=g.useState(null);g.useEffect(()=>{oXe().then(j=>{if(j!=null)try{S(j.highlightCode(r,n))}catch(A){if(!(A instanceof Error&&/Unknown language/i.test(A.message)))throw A}})},[r,n]);const k=n==="svg"||(n==="xml"||n==="html")&&hXe(r),M=g.useMemo(()=>w==null?void 0:w.html.split(/(<span[^>]*>.*?<\/span>)/g).filter(Boolean),[w==null?void 0:w.html]),E=k?o.jsx(fge,{svgString:r,className:"max-h-96 w-full"}):M&&M.length>0?o.jsx("span",{children:M.map((j,A)=>o.jsx(iXe,{htmlSegment:j},A))}):w!=null&&w.html?o.jsx("span",{dangerouslySetInnerHTML:{__html:w.html}}):o.jsx("span",{children:r});return o.jsx(dXe,{ref:m,title:(T=d!=null?d:w==null?void 0:w.language)!=null?T:n,shouldWrapCode:s,stickyTitleRightContent:c&&o.jsxs("div",{className:"bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs",children:[_&&o.jsx(uXe,{}),o.jsx(dQe,{buttonText:v?b.formatMessage({id:"6NJu7m",defaultMessage:"Copy"}):b.formatMessage({id:"zIa6ZQ",defaultMessage:"Copy code"}),onCopy:x,className:"py-1",iconClassName:v?"icon-xs":"icon-sm"}),a&&v&&o.jsx(aXe,{content:r,codeLanguage:n!=null?n:"",codeSnippetRef:m,clientThreadId:a})]}),codeClassName:e,codeContainerClassName:u,onCopy:y,className:t,removeTopBorderRadius:i,showActionBar:l,children:E})}function uXe(){const e=y6(!0),{data:n=!1}=Ui(Ln.ShowExpandedCodeView),r=Z();return o.jsxs("div",{className:"border-token-border-medium me-2 flex items-center gap-2 border-e pe-2",children:[o.jsx("label",{htmlFor:"ada-always-show",children:o.jsx(N,{defaultMessage:"Always show details",id:"message.tools.codeInterpreter.alwaysShowAnalysis"})}),o.jsx(Ng,{id:"ada-always-show",size:"small",onCheckedChange:s=>{e.mutate({setting:Ln.ShowExpandedCodeView,value:s})},checked:n,"aria-label":n?r.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis on",id:"message.tools.codeInterpreter.alwaysShowAnalysis.enabled"}):r.formatMessage({defaultMessage:"Toggle to always expand detail view for code analysis off",id:"message.tools.codeInterpreter.alwaysShowAnalysis.disabled"})})]})}function dXe({children:t,title:e,stickyTitleRightContent:n,shouldWrapCode:r=!1,className:s,codeContainerClassName:a,codeClassName:i,ref:l,onCopy:c,removeTopBorderRadius:u,showActionBar:d=!0}){return o.jsxs(fXe,{className:s,children:[d&&o.jsxs(o.Fragment,{children:[o.jsx(mXe,{$removeTopBorderRadius:u,children:e}),o.jsx("div",{className:"sticky top-9",children:o.jsx("div",{className:"absolute end-0 bottom-0 flex h-9 items-center pe-2",children:n})})]}),o.jsx(pXe,{ref:l,className:a,children:o.jsx(gXe,{$shouldWrap:r,className:i,onCopy:c,children:t})})]})}var zZ;const fXe=Ge.div(zZ||(zZ=qe(["contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"])));var GZ;const mXe=Ge.div(GZ||(GZ=qe(["flex items-center text-token-text-secondary px-4 py-2 text-xs font-sans justify-between h-9 bg-token-sidebar-surface-primary select-none ",""])),t=>t.$removeTopBorderRadius?"":"rounded-t-2xl"),pXe=function({children:e,className:n,ref:r}){return o.jsx("div",{ref:r,className:U("overflow-y-auto p-4",n),dir:"ltr",children:e})};var WZ;const gXe=Ge.code(WZ||(WZ=qe(["",""])),t=>t.$shouldWrap?"whitespace-pre-wrap!":"whitespace-pre!");function hXe(t){return t.trim().startsWith("<svg")}function IN(d){var f=d,{node:t,className:e,wrapperClassName:n,children:r,inline:s,clientThreadId:a,removeTopBorderRadius:i,showActionBar:l=!0,codeContainerClassName:c}=f,u=de(f,["node","className","wrapperClassName","children","inline","clientThreadId","removeTopBorderRadius","showActionBar","codeContainerClassName"]);var m;if(s)return o.jsx("code",P(C({className:e},u),{children:r}));{const p=(m=e==null?void 0:e.split(" ").find(v=>v.startsWith("language-")))==null?void 0:m.split("-")[1],h=t?nXe(t):"";return o.jsx(cXe,{clientThreadId:a,language:p,wrapperClassName:n,codeContainerClassName:c,codeClassName:e,content:h,removeTopBorderRadius:i,showActionBar:l})}}function Ace(t){return t.type==="element"}function vXe(t){return Ace(t)?t.tagName==="code":!1}function nEt(){return function(t){Qu(t,"element",function(e,n,r){vXe(e)&&(r&&Ace(r)&&r.tagName==="pre"?e.properties.inline=!1:e.properties.inline=!0)})}}const yXe="_markdown_1frq2_10",xXe={markdown:yXe},yd=({content:t})=>o.jsx(ar,{className:U(xXe.markdown,"text-token-text-secondary text-sm"),componentOverrides:{code:e=>o.jsx(IN,P(C({},e),{wrapperClassName:"",showActionBar:!1}))},children:t});function bXe(t){let e;try{e=JSON.parse(t)}catch(s){return ve.addError(s),null}const n=s=>typeof s=="object"&&s!=null&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.button=="number"&&typeof s.action=="string",r=s=>typeof s=="object"&&s!=null&&Array.isArray(s.actions);if(typeof e=="object"&&e!=null&&r(e)){const s=Gu(e.actions,a=>a&&a.action==="click");if(n(s))return s}else if(n(e))return e;return null}const Pce=({chunk:t,isKAUR1BR5:e})=>{var p,h,v,y,x;const n=g.useRef(null),r=t.screenshots.at(-1),s=(p=t.fullThoughts)==null?void 0:p.at(-1),a=(h=t.thoughts)==null?void 0:h.at(-1),i=s!=null?s:a,l=(v=t.actions)==null?void 0:v.at(-1),c=ZJe(r,void 0),[u,d]=g.useState(null),[f,m]=g.useState(!1);return g.useEffect(()=>{if(!c)return;let b=!1;const _=new Image;return m(!1),_.src=c,_.onload=()=>{!b&&d(c)},_.onerror=()=>{!b&&d(null),!b&&m(!0),!b&&ve.addError(new Error("Failed to load image"))},()=>{b=!0}},[c]),(l==null?void 0:l.type)==="computer.click"&&bXe(l.parts),e?((y=t.fullThoughts)==null?void 0:y.length)===0?o.jsx(yd,{content:"Used the browser"},"used-the-browser"):o.jsx(o.Fragment,{children:(x=t.fullThoughts)==null?void 0:x.map(b=>o.jsx(yd,{content:b},b))}):o.jsxs("div",{className:"flex w-full flex-row items-start justify-center gap-4",children:[i&&o.jsx("div",{className:"text-token-text-secondary flex-1 text-sm",children:i}),r&&o.jsx("div",{ref:n,className:"border-token-border-heavy mt-1 flex h-30 w-40 items-center justify-center overflow-hidden rounded-lg border",children:u&&o.jsx(jce,{src:u,alt:"screenshot",className:"flex aspect-[1024/764] w-40 items-center justify-center overflow-hidden",children:o.jsx("img",{src:u,alt:"screenshot",loading:"lazy",className:"h-full w-full object-cover object-bottom"},u)})})]})},CXe=({clientThreadId:t,messageId:e,renderClosestScreenshot:n})=>{const r=Te(t,i=>{const c=se.getConversationTurns(i).find(f=>f.messages.some(m=>m.id===e));if(!c)return null;const u=kce([...c.messages],!1);return u==null?void 0:u.find(f=>f.type===Ke.ComputerOutput)}),s=g.useMemo(()=>{if(!r)return null;if(n){const u=r.screenshots.findIndex(d=>d.messageId===e);return u===-1?null:u}const i={};r.screenshots.forEach((u,d)=>{i[u.messageId]=d});const l=r.messages.findIndex(u=>u.id===e),c=r.messages.slice(l).find(u=>i[u.id]);return c?i[c.id]:null},[r,e,n]),a=r==null?void 0:r.messages.some(i=>{var l;return(l=i.metadata)==null?void 0:l.kaur1br5_mode});return n&&s===null||!r||!r.screenshots.length?null:o.jsx("div",{children:o.jsx("div",{className:"relative flex flex-1 cursor-default flex-col gap-2",children:o.jsx(Pce,{chunk:r,isKAUR1BR5:a})})})};function _Xe(t,e,n){const r=Z(),{selectedSources:s}=Jo(t),a=Bf(t);return g.useCallback(async()=>await a({promptMessage:Fr(r.formatMessage({id:"3qSZZF",defaultMessage:"I understand the risks. Please continue"}),C({user_acknowledges_pim:!0,system_hints:e},s&&{selected_sources:tc(s)})),completionMetadata:{systemHints:e,conversationMode:n},eventSource:"mouse"}),[a,n,e,r,s])}const wXe=({onMarkSafe:t,justification:e,clientThreadId:n,flaggedMessageId:r})=>{const[s,a]=g.useState(!1),i=Z(),l=g.useCallback(()=>a(!1),[]);return o.jsxs(o.Fragment,{children:[o.jsx(tt,{testId:"modal-confirm-close-editor",isOpen:s,size:"custom",className:"max-w-xl",onClose:l,type:"warning",hideSeparator:!1,title:o.jsx("span",{className:"text-xl",children:o.jsx(N,{id:"lzy3Zg",defaultMessage:"Potentially Malicious Content Detected"})}),primaryButton:o.jsx(yn.Button,{title:i.formatMessage({id:"E82qxN",defaultMessage:"Mark safe and continue"}),color:"danger",onClick:t}),secondaryButton:o.jsx(yn.Button,{title:i.formatMessage({id:"byfawg",defaultMessage:"Don't mark safe"}),color:"secondary",onClick:l}),showCloseButton:!0,closeButton:o.jsx(gn,{onClick:l}),children:o.jsxs("div",{children:[o.jsx("div",{className:"text-md text-token-text-secondary pb-2",children:e?o.jsx(ar,{children:e}):o.jsx(N,{id:"OkPb2T",defaultMessage:"This webpage contained hidden instructions that may be attempting to extract sensitive information. You should only continue if you're sure this content is safe."})}),!!r&&o.jsx(CXe,{clientThreadId:n,messageId:r,renderClosestScreenshot:!0})]})}),o.jsx(oe,{color:"danger",onClick:()=>a(!0),children:o.jsx(N,{id:"5L93Tx",defaultMessage:"Continue"})})]})};function rEt({children:t,isFinalTurn:e,hasActiveRequest:n,conversationMode:r,clientThreadId:s,justification:a,flaggedMessageId:i}){const l=Te(s,d=>{var f;return(f=se.findNode(d,m=>m.message.author.role===Ue.User))==null?void 0:f.message}),c=g.useMemo(()=>{var d;return(d=l==null?void 0:l.metadata)==null?void 0:d.system_hints},[l]),u=_Xe(s,c,r);return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-token-main-surface-secondary mt-1 flex gap-2 rounded-2xl px-3 py-2",children:[o.jsx(Hs,{className:"icon-xl mt-2"}),o.jsx("div",{children:t})]}),e&&!n&&o.jsx("div",{className:"mt-2",children:o.jsx(SXe,{onMarkSafe:u,justification:a,flaggedMessageId:i,clientThreadId:s})})]})}function SXe({onMarkSafe:t,justification:e,clientThreadId:n,flaggedMessageId:r}){return o.jsx("div",{children:o.jsx(wXe,{onMarkSafe:t,justification:e,clientThreadId:n,flaggedMessageId:r})})}const Ice=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.33496 11C4.33496 10.6327 4.63273 10.335 5 10.335C5.36727 10.335 5.66504 10.6327 5.66504 11V14.335H9L9.13379 14.3486C9.43692 14.4106 9.66504 14.6786 9.66504 15C9.66504 15.3214 9.43692 15.5894 9.13379 15.6514L9 15.665H5C4.63273 15.665 4.33496 15.3673 4.33496 15V11ZM14.335 9V5.66504H11C10.6327 5.66504 10.335 5.36727 10.335 5C10.335 4.63273 10.6327 4.33496 11 4.33496H15L15.1338 4.34863C15.4369 4.41057 15.665 4.67857 15.665 5V9C15.665 9.36727 15.3673 9.66504 15 9.66504C14.6327 9.66504 14.335 9.36727 14.335 9Z"})),sEt=Object.freeze(Object.defineProperty({__proto__:null,default:Ice},Symbol.toStringTag,{value:"Module"})),Lce=118;function aEt(t){var l,c,u,d,f,m;const e=st(t),n=(l=se.getCurrentNode(e))==null?void 0:l.message;if(!n||!Rce(n)||(c=n.clientMetadata)!=null&&c.autoProceedCancelled||(u=n.metadata)!=null&&u.auto_proceed_cancelled)return!1;const r=Date.now(),s=((d=n.create_time)!=null?d:Date.now()/1e3)*1e3,a=(m=(f=n.metadata)==null?void 0:f.auto_proceed_timeout_seconds)!=null?m:Lce;return Math.max(0,Math.ceil(a-(r-s)/1e3))>0}function Rce(t){var e;return!!((e=t.metadata)!=null&&e.n7jupd_message&&t.channel==="commentary"&&t.end_turn===!0)}async function oEt(t){const e=kt(t);if(e)return Fe(t,n=>{vn.updateTree(n,(r,s)=>{r.updateNodeMetadata(s,{autoProceedCancelled:!0})})}),await ue.safePost("/conversation/{conversation_id}/agent/cancel_auto_proceed",{parameters:{path:{conversation_id:e}}})}function kXe(t,e,n){const[r,s]=g.useState(()=>Date.now());g.useEffect(()=>{if(!n)return;const u=setInterval(()=>s(Date.now()),250);return()=>clearInterval(u)},[n]);const a=e-(r-t)/1e3,i=Math.max(0,a),l=Math.ceil(i),c=e===0?1:Math.min(1,Math.max(0,1-i/e));return{secondsDisplay:l,progress:c}}const MXe=({lastMessage:t,clientThreadId:e})=>{var m,p,h;const n=q(),r=g.useRef(((m=t.create_time)!=null?m:Date.now()/1e3)*1e3),s=(h=(p=t.metadata)==null?void 0:p.auto_proceed_timeout_seconds)!=null?h:Lce,{initialTimeLeft:a}=g.useMemo(()=>{const v=Date.now(),y=r.current,x=Math.ceil(s-(v-y)/1e3),b=(s-x)/s;return{initialTimeLeft:x,initialProgress:b}},[s]),[i,l]=g.useState(!1),{selectedSources:c}=Jo(e),{secondsDisplay:u,progress:d}=kXe(r.current,s,i||a>0);g.useEffect(()=>{if(a<=0){l(!0);return}const v=setTimeout(()=>l(!0),a*1e3);return()=>clearTimeout(v)},[a]);const f=async()=>{l(!0),await xc({ctx:n,clientThreadId:e,eventSource:"mouse",promptMessage:Fr("Continue",C({system_hints:[Or]},c&&{selected_sources:tc(c)})),parentMessageId:t.id,completionMetadata:{systemHints:[Or],conversationMode:{kind:At.PrimaryAssistant}}})};return a<-30?null:o.jsx("div",{className:"my-2 flex",children:o.jsxs(oe,{onClick:f,disabled:i,className:"relative min-w-32 overflow-hidden px-2 transition-all",contentWrapperClassName:"gap-2",children:[o.jsx("span",{className:"flex items-center gap-1",children:i?o.jsx(N,{id:"clarification.loading",defaultMessage:"Proceeding..."}):o.jsx(N,{id:"clarification.modelContinueMessage",defaultMessage:"Continue"})}),!i&&o.jsx(EXe,{secondsDisplay:u,progress:d})]})})};function EXe({secondsDisplay:t,progress:e,size:n=22,strokeWidth:r=2}){const s=(n-r)/2,a=2*Math.PI*s,i=a*(1-e),l=Z();return o.jsxs("div",{"aria-label":l.formatMessage({id:"clarification.secondsRemaining",defaultMessage:"{seconds} seconds remaining"},{seconds:t.toString()}),className:"relative inline-flex items-center justify-center",style:{width:n,height:n},children:[o.jsxs("svg",{width:n,height:n,className:"block",children:[o.jsx("circle",{cx:n/2,cy:n/2,r:s,stroke:"currentColor",strokeOpacity:.3,strokeWidth:r,fill:"none"}),o.jsx("circle",{cx:n/2,cy:n/2,r:s,stroke:"currentColor",strokeWidth:r,fill:"none",strokeDasharray:a,strokeDashoffset:i,style:{transition:"stroke-dashoffset 100ms linear"},transform:"rotate(-90 ".concat(n/2," ").concat(n/2,")")})]}),o.jsx("span",{className:"absolute text-[9px] leading-none font-medium",style:{fontVariantNumeric:"tabular-nums"},children:t})]})}const Oh=pe({heading:{id:"odyssey.openTabs.heading",defaultMessage:"Relevant tabs"}});function WS(t){"use forget";const e=ee.c(14),{tabs:n,clientThreadId:r,className:s,onTabClick:a,detailed:i}=t;if(!n||n.length===0)return null;let l;e[0]!==s?(l=U("flex flex-col",s),e[0]=s,e[1]=l):l=e[1];let c;if(e[2]!==r||e[3]!==i||e[4]!==a||e[5]!==n){let d;e[7]!==r||e[8]!==i||e[9]!==a?(d=(f,m)=>{var p;return o.jsx("div",{className:U(m>0&&"border-token-border-subtle border-t"),children:o.jsx("button",{type:"button",onClick:()=>{a?a(f):NXe(f,r)},className:"hover:bg-token-bg-secondary focus-visible:ring-token-text-tertiary w-full cursor-pointer p-3 text-start transition-colors focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:outline-hidden",children:i?o.jsx(TXe,{tab:f}):o.jsx(jXe,{tab:f})})},(p=f.id)!=null?p:"".concat(f.url,"-").concat(m))},e[7]=r,e[8]=i,e[9]=a,e[10]=d):d=e[10],c=n.map(d),e[2]=r,e[3]=i,e[4]=a,e[5]=n,e[6]=c}else c=e[6];let u;return e[11]!==l||e[12]!==c?(u=o.jsx("div",{className:l,children:c}),e[11]=l,e[12]=c,e[13]=u):u=e[13],u}const jXe=t=>{"use forget";var v,y,x;const e=ee.c(22),{tab:n}=t;let r;e[0]!==n.url?(r=ri(n.url),e[0]=n.url,e[1]=r):r=e[1];const s=r,a=(v=s==null?void 0:s.Icon)!=null?v:null;let i;e[2]!==n.title||e[3]!==n.url?(i=((y=n.title)==null?void 0:y.trim())||Dh(n.url),e[2]=n.title,e[3]=n.url,e[4]=i):i=e[4];const l=i;let c;e[5]!==(s==null?void 0:s.type)||e[6]!==n.url?(c=(x=s==null?void 0:s.type)!=null?x:Dh(n.url),e[5]=s==null?void 0:s.type,e[6]=n.url,e[7]=c):c=e[7];const u=c;let d;e[8]!==a||e[9]!==(s==null?void 0:s.type)||e[10]!==n.url?(d=a?o.jsx(a,{className:"icon-md",alt:s==null?void 0:s.type}):o.jsx(Nn,{url:n.url,size:32,minSize:16,className:"size-5",showLoadingAnimation:!0,applySizeToImg:!1,fallback:o.jsx(is,{className:"size-5"})}),e[8]=a,e[9]=s==null?void 0:s.type,e[10]=n.url,e[11]=d):d=e[11];let f;e[12]!==l?(f=o.jsx("span",{className:"text-token-text-primary line-clamp-1 text-sm font-medium",children:l}),e[12]=l,e[13]=f):f=e[13];let m;e[14]!==u?(m=o.jsx("span",{className:"text-token-text-secondary line-clamp-1 text-xs",children:u}),e[14]=u,e[15]=m):m=e[15];let p;e[16]!==f||e[17]!==m?(p=o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[f,m]}),e[16]=f,e[17]=m,e[18]=p):p=e[18];let h;return e[19]!==d||e[20]!==p?(h=o.jsxs("div",{className:"flex items-center gap-3",children:[d,p]}),e[19]=d,e[20]=p,e[21]=h):h=e[21],h},TXe=t=>{"use forget";var v,y,x;const e=ee.c(22),{tab:n}=t;let r;e[0]!==n.url?(r=ri(n.url),e[0]=n.url,e[1]=r):r=e[1];const s=r,a=(v=s==null?void 0:s.Icon)!=null?v:null;let i;e[2]!==n.title||e[3]!==n.url?(i=((y=n.title)==null?void 0:y.trim())||Dh(n.url),e[2]=n.title,e[3]=n.url,e[4]=i):i=e[4];const l=i;let c;e[5]!==(s==null?void 0:s.type)||e[6]!==n.url?(c=(x=s==null?void 0:s.type)!=null?x:Dh(n.url),e[5]=s==null?void 0:s.type,e[6]=n.url,e[7]=c):c=e[7];const u=c;let d;e[8]!==a||e[9]!==(s==null?void 0:s.type)||e[10]!==n.url?(d=a?o.jsx(a,{className:"icon-md",alt:s==null?void 0:s.type}):o.jsx(Nn,{url:n.url,size:32,minSize:16,className:"size-5",showLoadingAnimation:!0,applySizeToImg:!1,fallback:o.jsx(is,{className:"size-5"})}),e[8]=a,e[9]=s==null?void 0:s.type,e[10]=n.url,e[11]=d):d=e[11];let f;e[12]!==l?(f=o.jsx("span",{className:"text-token-text-primary line-clamp-1 text-sm font-medium",children:l}),e[12]=l,e[13]=f):f=e[13];let m;e[14]!==u?(m=o.jsx("span",{className:"text-token-text-secondary line-clamp-1 text-xs",children:u}),e[14]=u,e[15]=m):m=e[15];let p;e[16]!==f||e[17]!==m?(p=o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[f,m]}),e[16]=f,e[17]=m,e[18]=p):p=e[18];let h;return e[19]!==d||e[20]!==p?(h=o.jsxs("div",{className:"flex items-center gap-3 px-3",children:[d,p]}),e[19]=d,e[20]=p,e[21]=h):h=e[21],h};function NXe(t,e){if(t!=null&&t.url){try{const n=kt(e);if(n){const r=W6();r==null||r.openAgentTabs(n,[t.url]);return}}catch(n){$n.error("openTabs via host failed",{error:n})}try{const n=window.open(t.url,"_blank","noopener,noreferrer");n==null||n.focus()}catch(n){$n.error("openTabs fallback failed",{error:n})}}}function Dh(t){try{return new URL(t).hostname.replace(/^www\./,"")}catch(e){return t}}const N4=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.12916 6.71647C3.30231 7.66684 2.69669 8.64386 2.31959 9.33561L2.1399 9.67643C2.03481 9.88215 2.03489 10.1172 2.1399 10.3229L2.31959 10.6637C2.79011 11.5269 3.61393 12.8363 4.78346 13.9811C6.11816 15.2875 7.85464 16.3346 10.0003 16.3346C11.1135 16.3346 12.116 16.0511 13.01 15.5973L13.9905 16.5778C12.8512 17.2276 11.5215 17.6646 10.0003 17.6647C7.38789 17.6647 5.33564 16.3827 3.8528 14.9313C2.55744 13.6633 1.65876 12.2312 1.14967 11.2965L0.955334 10.9284C0.6562 10.3426 0.656129 9.65668 0.955334 9.07096L1.14967 8.7028C1.56617 7.93819 2.24311 6.84027 3.18483 5.77213L4.12916 6.71647Z"}),g.createElement("path",{d:"M2.52955 2.52897C2.75682 2.30194 3.10844 2.27358 3.36647 2.44401L3.47096 2.52897L17.471 16.529L17.5559 16.6335C17.7264 16.8915 17.698 17.2431 17.471 17.4704C17.2437 17.6976 16.8922 17.7258 16.634 17.5553L16.5296 17.4704L2.52955 3.47037L2.44459 3.36588C2.27419 3.10776 2.30233 2.75619 2.52955 2.52897Z"}),g.createElement("path",{d:"M10.0003 2.33463C12.6124 2.33477 14.664 3.61673 16.1467 5.06803C17.6273 6.51728 18.5903 8.18058 19.0452 9.07096L19.1428 9.29557C19.311 9.75097 19.3109 10.2483 19.1428 10.7038L19.0452 10.9284C18.6628 11.6768 17.9199 12.9706 16.8137 14.2253L15.8714 13.2829C16.8454 12.1631 17.5118 11.0058 17.8606 10.3229L17.8948 10.2448C17.9539 10.0856 17.954 9.91374 17.8948 9.75455L17.8606 9.67643C17.4383 8.84982 16.5534 7.32638 15.2171 6.01822C13.8824 4.71194 12.1457 3.66485 10.0003 3.66471C8.88688 3.66471 7.88357 3.94723 6.98951 4.40104L6.00905 3.42057C7.14849 2.77093 8.47916 2.33463 10.0003 2.33463Z"}),g.createElement("path",{d:"M7.78053 10.3678C7.93665 11.3159 8.68321 12.0619 9.63112 12.2184L10.8831 13.4704C10.6006 13.5421 10.305 13.5817 10.0003 13.5817C8.02216 13.5817 6.41822 11.9778 6.41822 9.99967C6.41825 9.69449 6.45574 9.39775 6.5276 9.1149L7.78053 10.3678Z"}),g.createElement("path",{d:"M10.0003 6.41764C11.9781 6.41787 13.5811 8.02186 13.5813 9.99967C13.5813 10.304 13.5414 10.5994 13.47 10.8815L12.219 9.63053C12.0623 8.68292 11.3162 7.93616 10.3684 7.77994L9.11549 6.52701C9.39833 6.45518 9.69509 6.41764 10.0003 6.41764Z"})),iEt=Object.freeze(Object.defineProperty({__proto__:null,default:N4},Symbol.toStringTag,{value:"Module"})),AXe="https://help.openai.com/en/articles/11752874-chatgpt-agent#h_beedf96566";function PXe({onClose:t,onConfirm:e}){return o.jsxs(tt,{testId:"modal-odyssey-takeover-nux",isOpen:!0,onClose:t,shouldIgnoreClickOutside:!0,onEscapeKeyDown:()=>{},className:"w-[420px]! p-2",children:[o.jsx("div",{className:"flex w-full flex-col items-center pt-2 text-center",children:o.jsx("div",{className:"text-xl font-semibold text-balance",children:o.jsx(N,{id:"0hMe9z",defaultMessage:"Youâre about to control ChatGPTâs browser"})})}),o.jsx("div",{className:"border-token-border-default mt-6 mb-8 rounded-2xl border",children:o.jsxs("div",{className:"divide-token-border-default flex flex-col divide-y px-4",children:[o.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[o.jsx(N4,{className:"h-6 w-6 shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"pb-0.5 font-medium",children:o.jsx(N,{id:"+htsoa",defaultMessage:"ChatGPT wonât take screenshots"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"jNhK03",defaultMessage:"Only you can see info you enter (like passwords) while youâre in control."})})]})]}),o.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[o.jsx($M,{className:"h-6 w-6 shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"pb-0.5 font-medium",children:o.jsx(N,{id:"Ip50c4",defaultMessage:"Your browser session will be saved"})}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"qE+5u7",defaultMessage:"This will keep you signed into sites after you finish. You can manage this in Settings."})})]})]}),o.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[o.jsx(cc,{className:"h-6 w-6 shrink-0 text-[#E25507] dark:text-[#FF9E6C]"}),o.jsxs("div",{children:[o.jsx("div",{className:"pb-0.5 font-medium text-[#E25507] dark:text-[#FF9E6C]",children:o.jsx(N,{id:"2OxBmy",defaultMessage:"This may put your data at risk"})}),o.jsx("div",{className:"text-[#E25507] opacity-80 dark:text-[#FF9E6C]",children:o.jsx(N,{id:"JGhrvI",defaultMessage:"Signing ChatGPT into websites can expose your data to malicious sites. {learnMoreLink}",values:{learnMoreLink:o.jsx("a",{href:AXe,target:"_blank",rel:"noopener noreferrer",className:"underline",children:o.jsx(N,{id:"L9XdfE",defaultMessage:"Learn more"})})}})})]})]})]})}),o.jsxs("div",{className:"flex w-full flex-row gap-3",children:[o.jsx(oe,{size:"large",color:"secondary",className:"flex flex-1",onClick:t,children:o.jsx(N,{id:"qz9XeG",defaultMessage:"Cancel"})}),o.jsx(oe,{size:"large",color:"primary",className:"flex flex-1",onClick:()=>{e(),t()},children:o.jsx(N,{id:"h00sr3",defaultMessage:"I understand"})})]})]})}const IXe=()=>{"use forget";const t=q(),e=$e(We.hasSeenOdysseyTakeoverModal),{clientThreadId:n}=Kn(),r=Te(n!=null?n:void 0,l=>se.findNode(l,c=>c.message.author.name==="n7jupd.metadata"));if(!n)return()=>{$n.info("VNC modal opened without a client thread id")};const s=async l=>{const c=kt(l);if(c)return await ue.safePost("/conversation/{conversation_id}/agent/resume",{parameters:{path:{conversation_id:c}}})},a=()=>{var c,u;if(!pr()||!((c=r==null?void 0:r.message.metadata)!=null&&c.kaur1br5_mode))return Promise.resolve(!1);const l=kt(n);if(!l)return $n.info("Agent viewer opened without a server thread id"),Promise.resolve(!1);try{const d=W6(),f=(u=d==null?void 0:d.tryOpenAgentViewer(l))!=null?u:!1;return Promise.resolve(f)}catch(d){return $n.error("Failed to open local agent viewer - error thrown"),Promise.resolve(!1)}},i=async()=>{var c;if(await a()){$n.info("Opened VNC modal with local agent viewer");return}Kn.setState({isResuming:!0}),Kn.setState({isOpen:!0}),pn.setSidebarOpen(!1);let l;ve.addAction("agent.conversation.resume_rpc_attempted",{client_thread_id:n});try{l=await s(n),l?ve.addAction("agent.conversation.resume_rpc_succeeded",{client_thread_id:n,vm_id:(c=l.vm_id)!=null?c:""}):ve.addAction("agent.conversation.resume_rpc_failed",{client_thread_id:n,reason:"no_response"})}catch(u){ve.addAction("agent.conversation.resume_rpc_failed",{client_thread_id:n,reason:"exception",error:u})}Kn.setState({isResuming:!1,vmId:l==null?void 0:l.vm_id}),Oce({})};return async()=>{if(e.eligible){Dt(t,PXe,{onConfirm:async()=>{e.markAsViewed(),await i()}});return}await i()}},LXe=async(t,e,{startNewTurn:n})=>{Kn.setState({isOpen:!1}),await Dce(t,e,{startNewTurn:n})},Oce=async({showPlaceholderMessage:t=!1})=>{var r;Kn.setState({isTakeoverInProgress:!0});const{clientThreadId:e}=Kn.getState();if(!e){$n.info("VNC takeover started without a client thread id");return}t&&sLe(e);const n=await Fce();Kn.setState({parentMessageId:(r=n==null?void 0:n.last_message_id)!=null?r:null})},Dce=async(t,e,{startNewTurn:n,waitForAbortCompletion:r=!1})=>{Kn.setState({isTakeoverInProgress:!1});const{clientThreadId:s}=Kn.getState();if(!s){$n.info("VNC modal closed without a client thread id");return}if(!n)return;const a=RXe(),{abortPromise:i}=Kn.getState();i&&r&&await i,Une(s),await xc({ctx:t,clientThreadId:s,eventSource:"mouse",promptMessage:Mj(e),parentMessageIdPromise:a,completionMetadata:{systemHints:[Or],conversationMode:{kind:At.PrimaryAssistant}}})},Fce=()=>{const{clientThreadId:t}=Kn.getState();if(!t)return $n.info("stopAgent called without a client thread id"),Promise.resolve(void 0);const e=BE(t,void 0,{clientInitiated:!0,reason:"takeover",isLastTurnAgent:!0}).then(n=>n).finally(()=>{Kn.setState({abortPromise:null})});return Kn.setState({abortPromise:e}),e},RXe=(t=5e3)=>new Promise(e=>{const{parentMessageId:n}=Kn.getState();if(n)return e(n);const r=setTimeout(()=>{s(),e(void 0)},t),s=Kn.subscribe(a=>{a.parentMessageId&&(e(a.parentMessageId),clearTimeout(r),s())})}),OXe=()=>{"use forget";const t=ee.c(5),e=IXe();let n;t[0]!==e?(n=c=>({token:c.token,clientThreadId:c.clientThreadId,isOpen:c.isOpen,isTakeoverInProgress:c.isTakeoverInProgress,isResuming:c.isResuming,vmId:c.vmId,open:e,close:LXe}),t[0]=e,t[1]=n):n=t[1];const r=Kn(n),a=!moe();let i,l;return t[2]!==a||t[3]!==r?(l=P(C({},r),{isVNCEnabled:a}),t[2]=a,t[3]=r,t[4]=l):l=t[4],i=l,i},lEt=({currentGroupedMessage:t,isLastMessage:e,isLastTurnInConversation:n,clientThreadId:r,turnIndex:s,lastAgentMetadataNode:a})=>{"use forget";var f,m,p;const i=!!((f=a==null?void 0:a.metadata)!=null&&f.kaur1br5_mode),l=el(t==null?void 0:t.messages),c=n&&l&&Rce(l)&&!((m=l.metadata)!=null&&m.auto_proceed_cancelled)&&!((p=l.clientMetadata)!=null&&p.autoProceedCancelled),u=g.useMemo(()=>{var h;return(h=l==null?void 0:l.metadata)!=null&&h.open_tabs?l.metadata.open_tabs.filter(v=>v.url==="about:blank"?!1:!(v.url==="https://openai.com/"&&!v.selected)):[]},[l]),d=u.length>0&&i;return o.jsxs("div",{className:"my-2 flex flex-col",children:[d&&(l==null?void 0:l.id)&&o.jsx(DXe,{openTabList:u,clientThreadId:r,messageId:l.id}),c&&o.jsx(MXe,{clientThreadId:r,lastMessage:l,turnIndex:s}),n&&e&&o.jsx(Qj,{children:({isScheduled:h,isScheduledRun:v})=>h&&!v&&o.jsx(WBe,{})}),o.jsx(BXe,{currentGroupedMessage:t,isLastMessage:e,isLastTurnInConversation:n,isKAUR1BR5:i})]})};function DXe(t){"use forget";const e=ee.c(32),{openTabList:n,clientThreadId:r,messageId:s}=t,[a,i]=g.useState(!1),{openThreadSidebar:l}=Bn(),c=Yt(wn);let u,d;e[0]!==n?(d=n.slice(0,3),e[0]=n,e[1]=d):d=e[1],u=d;const f=u;let m;e[2]!==r||e[3]!==c||e[4]!==s||e[5]!==n||e[6]!==l?(m=()=>{if(c){i(!0);return}l({type:"n7jupdTabs",clientThreadId:r,messageId:s,tabs:n})},e[2]=r,e[3]=c,e[4]=s,e[5]=n,e[6]=l,e[7]=m):m=e[7];const p=m,h=FXe;let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=o.jsx("div",{className:"flex items-center py-0.5",children:o.jsx(N,C({},Oh.heading))}),e[8]=v):v=e[8];let y;e[9]!==p||e[10]!==n.length?(y=n.length>1&&o.jsxs(oe,{onClick:p,color:"ghost",className:"text-token-text-secondary rounded-lg font-normal",contentWrapperClassName:"gap-1",children:[o.jsx(N,{id:"BrbWdy",defaultMessage:"View {count} tabs",values:{count:n.length}}),o.jsx(Ice,{className:"icon-sm"})]}),e[9]=p,e[10]=n.length,e[11]=y):y=e[11];let x;e[12]!==y?(x=o.jsxs("div",{className:"text-token-text-primary flex items-center justify-between px-3 py-2 text-sm font-medium",children:[v,y]}),e[12]=y,e[13]=x):x=e[13];let b;e[14]!==r||e[15]!==c?(b=c?M=>h():void 0,e[14]=r,e[15]=c,e[16]=b):b=e[16];let _;e[17]!==r||e[18]!==f||e[19]!==b?(_=o.jsx(WS,{tabs:f,clientThreadId:r,className:"border-token-border-subtle flex flex-col border-t",onTabClick:b}),e[17]=r,e[18]=f,e[19]=b,e[20]=_):_=e[20];let w;e[21]!==x||e[22]!==_?(w=o.jsxs("div",{className:"border-token-border-subtle bg-token-bg-secondary/30 text-token-text-primary w-full max-w-[360px] overflow-hidden rounded-2xl border",children:[x,_]}),e[21]=x,e[22]=_,e[23]=w):w=e[23];let S;e[24]!==r||e[25]!==c||e[26]!==a||e[27]!==n?(S=c&&o.jsx(tt,{headerClassName:"ps-6! pe-5!",isOpen:a,showCloseButton:!0,onClose:()=>i(!1),testId:"modal-odyssey-open-tabs",title:o.jsx("div",{className:"flex w-full items-center text-[15px] font-medium",children:o.jsx(N,C({},Oh.heading))}),noPadding:!0,children:o.jsx(WS,{tabs:n,clientThreadId:r,onTabClick:M=>h(),className:"border-token-border-subtle flex flex-col border-t",detailed:!0})}),e[24]=r,e[25]=c,e[26]=a,e[27]=n,e[28]=S):S=e[28];let k;return e[29]!==S||e[30]!==w?(k=o.jsxs(o.Fragment,{children:[w,S]}),e[29]=S,e[30]=w,e[31]=k):k=e[31],k}function FXe(t,e){}const BXe=t=>{"use forget";var E;const e=ee.c(17),{currentGroupedMessage:n,isLastMessage:r,isLastTurnInConversation:s,isKAUR1BR5:a}=t,{formatMessage:i}=Z(),{open:l,isVNCEnabled:c}=OXe(),{clientThreadId:u}=r1(),{selectedSources:d}=Jo(u),f=q(),m=ie(f,"733205176");let p;e:{if(!c){p=null;break e}if(!m){p=null;break e}if(!r||!s){p=null;break e}if(n.type!==Hn.Text){p=null;break e}p=n.messages[0]}const h=p;if(!h)return null;const v=(E=h.metadata)==null?void 0:E.n7jupd_button_type;if(!v||v==="confirmation"||(v==="takeover"||v==="login")&&a)return null;let y;e[0]!==u||e[1]!==f||e[2]!==h.id||e[3]!==d?(y=async()=>{await xc({ctx:f,clientThreadId:u,eventSource:"mouse",promptMessage:Fr("Yes, please proceed",C({system_hints:[Or]},d&&{selected_sources:tc(d)})),parentMessageId:h.id,completionMetadata:{systemHints:[Or],conversationMode:{kind:At.PrimaryAssistant}}})},e[0]=u,e[1]=f,e[2]=h.id,e[3]=d,e[4]=y):y=e[4];const x=y;let b;e[5]!==l||e[6]!==x?(b=T=>{switch(T){case"takeover":return l();case"login":return l();case"confirmation":return x()}},e[5]=l,e[6]=x,e[7]=b):b=e[7];const _=b;let w;e[8]!==_||e[9]!==v?(w=()=>_(v),e[8]=_,e[9]=v,e[10]=w):w=e[10];const S=UXe[v];let k;e[11]!==i||e[12]!==S?(k=i(S),e[11]=i,e[12]=S,e[13]=k):k=e[13];let M;return e[14]!==w||e[15]!==k?(M=o.jsx("div",{className:"my-2 flex",children:o.jsx(oe,{onClick:w,children:k})}),e[14]=w,e[15]=k,e[16]=M):M=e[16],M},UXe=pe({takeover:{id:"odyssey-message-indicator.takeover",defaultMessage:"Take over"},login:{id:"odyssey-message-indicator.login",defaultMessage:"Log in"},confirmation:{id:"odyssey-message-indicator.confirm",defaultMessage:"Confirm"}}),LN=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.7806 10.1963C16.1326 10.3011 16.3336 10.6714 16.2288 11.0234L16.1487 11.2725C15.3429 13.6262 13.2236 15.3697 10.6644 15.6299L10.6653 16.835H12.0833L12.2171 16.8486C12.5202 16.9106 12.7484 17.1786 12.7484 17.5C12.7484 17.8214 12.5202 18.0894 12.2171 18.1514L12.0833 18.165H7.91632C7.5492 18.1649 7.25128 17.8672 7.25128 17.5C7.25128 17.1328 7.5492 16.8351 7.91632 16.835H9.33527L9.33429 15.6299C6.775 15.3697 4.6558 13.6262 3.84992 11.2725L3.76984 11.0234L3.74445 10.8906C3.71751 10.5825 3.91011 10.2879 4.21808 10.1963C4.52615 10.1047 4.84769 10.2466 4.99347 10.5195L5.04523 10.6436L5.10871 10.8418C5.8047 12.8745 7.73211 14.335 9.99933 14.335C12.3396 14.3349 14.3179 12.7789 14.9534 10.6436L15.0052 10.5195C15.151 10.2466 15.4725 10.1046 15.7806 10.1963ZM12.2513 5.41699C12.2513 4.17354 11.2437 3.16521 10.0003 3.16504C8.75675 3.16504 7.74835 4.17343 7.74835 5.41699V9.16699C7.74853 10.4104 8.75685 11.418 10.0003 11.418C11.2436 11.4178 12.2511 10.4103 12.2513 9.16699V5.41699ZM13.5814 9.16699C13.5812 11.1448 11.9781 12.7479 10.0003 12.748C8.02232 12.748 6.41845 11.1449 6.41828 9.16699V5.41699C6.41828 3.43889 8.02221 1.83496 10.0003 1.83496C11.9783 1.83514 13.5814 3.439 13.5814 5.41699V9.16699Z"})),cEt=Object.freeze(Object.defineProperty({__proto__:null,default:LN},Symbol.toStringTag,{value:"Module"})),Bce=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M13.998 9.08823V10.9105L17.252 13.2767V6.72202L13.998 9.08823ZM18.582 13.3558C18.582 14.3443 17.5303 14.9416 16.6963 14.5013L16.5332 14.3988L13.9883 12.5482C13.983 12.7529 13.976 12.9405 13.9619 13.1126C13.9292 13.5136 13.8642 13.8748 13.7197 14.2113L13.6533 14.3539C13.3878 14.8748 12.984 15.3105 12.4883 15.6146L12.2705 15.7367C11.8937 15.9286 11.4873 16.0078 11.0293 16.0453C10.5791 16.082 10.022 16.0814 9.33301 16.0814H6.5C5.81091 16.0814 5.25395 16.082 4.80371 16.0453C4.40303 16.0125 4.04237 15.9473 3.70606 15.8031L3.56348 15.7367C3.04236 15.4711 2.60586 15.0674 2.30176 14.5716L2.17969 14.3539C1.98772 13.9771 1.90851 13.5706 1.87109 13.1126C1.83432 12.6624 1.83496 12.1053 1.83496 11.4164V8.58334C1.83496 7.89425 1.83431 7.3373 1.87109 6.88706C1.90851 6.42926 1.98788 6.02344 2.17969 5.64682L2.30176 5.42807C2.60585 4.93236 3.04244 4.52851 3.56348 4.26303L3.70606 4.19663C4.04235 4.05239 4.40306 3.98718 4.80371 3.95444C5.25395 3.91765 5.81091 3.91831 6.5 3.91831H9.33301C10.022 3.91831 10.5791 3.91767 11.0293 3.95444C11.4873 3.99186 11.8937 4.07106 12.2705 4.26303L12.4883 4.3851C12.9841 4.6892 13.3878 5.1257 13.6533 5.64682L13.7197 5.7894C13.864 6.12572 13.9292 6.48637 13.9619 6.88706C13.9759 7.05883 13.983 7.2463 13.9883 7.45053L16.5332 5.60092L16.6963 5.49838C17.5302 5.05824 18.5819 5.65558 18.582 6.64389V13.3558ZM3.16504 11.4164C3.16504 12.1272 3.16595 12.6208 3.19727 13.0042C3.22795 13.3798 3.28478 13.5914 3.36524 13.7494L3.43555 13.8763C3.61186 14.1637 3.86488 14.3982 4.16699 14.5521L4.29688 14.6078C4.44065 14.6592 4.63016 14.697 4.91211 14.7201C5.29563 14.7514 5.78896 14.7513 6.5 14.7513H9.33301C10.0439 14.7513 10.5374 14.7514 10.9209 14.7201C11.2963 14.6894 11.508 14.6325 11.666 14.5521L11.793 14.4808C12.0803 14.3045 12.3148 14.0514 12.4688 13.7494L12.5244 13.6195C12.5758 13.4757 12.6137 13.286 12.6367 13.0042C12.668 12.6208 12.668 12.1272 12.668 11.4164V8.58334C12.668 7.87231 12.6681 7.37897 12.6367 6.99545C12.6137 6.7135 12.5759 6.52399 12.5244 6.38022L12.4688 6.25034C12.3148 5.94823 12.0804 5.6952 11.793 5.51889L11.666 5.44858C11.508 5.36812 11.2965 5.3113 10.9209 5.28061C10.5374 5.24929 10.0439 5.24838 9.33301 5.24838H6.5C5.78896 5.24838 5.29563 5.24928 4.91211 5.28061C4.63025 5.30364 4.44063 5.3405 4.29688 5.39194L4.16699 5.44858C3.86474 5.6026 3.61186 5.83672 3.43555 6.12436L3.36524 6.25034C3.28473 6.40834 3.22797 6.61975 3.19727 6.99545C3.16593 7.37897 3.16504 7.87231 3.16504 8.58334V11.4164Z"})),uEt=Object.freeze(Object.defineProperty({__proto__:null,default:Bce},Symbol.toStringTag,{value:"Module"}));function HXe(t){const e=Math.floor(t/60),n=Math.floor(e/60),r=String(Math.floor(t)%60).padStart(2,"0"),s=String(e%60).padStart(2,"0");return n===0?"".concat(s,":").concat(r):"".concat(n,":").concat(s,":").concat(r)}function VXe(t){var n;const e=(n=t==null?void 0:t.audio_asset_pointer)==null?void 0:n.metadata;if((e==null?void 0:e.start)!==void 0&&(e==null?void 0:e.end)!==void 0)return e.end-e.start}const dEt=g.memo(function(e){const n=Z(),{content:r,metadata:s}=e.message;if(!(r.content_type==="multimodal_text"&&e.isUserTurn))return;const i=r.parts.filter(Io.isPartRealTimeUserAudioVideoAssetPointer).find(c=>c.audio_asset_pointer),l=VXe(i);return o.jsxs("div",{className:"text-token-text-secondary my-2 me-4 flex flex-row justify-end gap-1 text-xs",children:[(s==null?void 0:s.real_time_audio_has_video)&&o.jsx(Bce,{"aria-label":n.formatMessage({id:"/nS9Zn",defaultMessage:"Recorded with video or screenshare"}),className:"icon-sm"}),i&&o.jsx(LN,{"aria-label":n.formatMessage({id:"eP1JEa",defaultMessage:"Recorded with voice"}),className:"icon-sm"}),l!==void 0&&o.jsx("span",{className:"font-semibold",children:HXe(l)})]})}),fEt=()=>o.jsxs("div",{className:"text-message relative flex w-full flex-col items-end gap-2 text-start break-words whitespace-normal [.text-message+&]:mt-5",children:[o.jsx("div",{className:"text-token-text-tertiary px-5 text-sm",children:o.jsx(N,{id:"clarification.autoResponse",defaultMessage:"Auto response"})}),o.jsx("div",{className:"bg-token-message-surface relative max-w-[var(--user-chat-width,70%)] rounded-3xl px-5 py-2.5",children:o.jsx(N,{id:"clarification.modelContinueMessage",defaultMessage:"Continue"})})]}),w3=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.6878 9.46029L10.8421 9.49545L17.2913 11.43L17.4642 11.4974C18.2215 11.8649 18.2705 12.9544 17.5492 13.388L17.3822 13.4701L14.5872 14.5872L13.4701 17.3822C13.1135 18.2734 11.8913 18.2756 11.4974 17.4642L11.43 17.2913L9.49544 10.8421C9.26342 10.0687 9.92452 9.34418 10.6878 9.46029ZM12.4984 16.2288L13.3929 13.9954L13.4388 13.8949C13.5579 13.6675 13.7549 13.4891 13.9954 13.3929L16.2288 12.4984L10.9007 10.9007L12.4984 16.2288ZM5.90365 12.9749C6.16329 12.7153 6.58436 12.7154 6.84408 12.9749C7.10378 13.2346 7.10378 13.6557 6.84408 13.9154L5.0765 15.6829C4.8168 15.9426 4.39577 15.9426 4.13607 15.6829C3.87654 15.4232 3.87643 15.0022 4.13607 14.7425L5.90365 12.9749ZM2.83724 7.3265L5.25228 7.97299L5.37826 8.02084C5.65484 8.1591 5.80597 8.47712 5.72298 8.78744C5.63984 9.09774 5.34997 9.298 5.04134 9.27963L4.90853 9.25814L2.49349 8.61068L2.36752 8.56283C2.09082 8.42452 1.93961 8.10666 2.02279 7.79623C2.10599 7.4859 2.39574 7.28652 2.70443 7.30502L2.83724 7.3265ZM14.847 4.05111C15.1051 3.88059 15.4556 3.90894 15.6829 4.13607C15.9426 4.39577 15.9426 4.8168 15.6829 5.0765L13.9154 6.84408C13.6557 7.10378 13.2346 7.10378 12.9749 6.84408C12.7154 6.58437 12.7153 6.16329 12.9749 5.90365L14.7425 4.13607L14.847 4.05111ZM7.79623 2.02279C8.15098 1.92773 8.51562 2.13874 8.61068 2.49349L9.25814 4.90853L9.27962 5.04135C9.298 5.34998 9.09774 5.63984 8.78744 5.72299C8.47713 5.80592 8.15908 5.65484 8.02084 5.37826L7.97298 5.25228L7.3265 2.83724L7.30502 2.70443C7.28652 2.39577 7.48595 2.10603 7.79623 2.02279Z"})),mEt=Object.freeze(Object.defineProperty({__proto__:null,default:w3},Symbol.toStringTag,{value:"Module"})),pEt=()=>o.jsx("div",{className:"flex w-full justify-end px-5 py-4",children:o.jsxs("div",{className:"text-token-text-secondary flex items-center justify-center gap-1",children:[o.jsx(w3,{className:"size-5"}),o.jsx(N,{id:"operator.takeover.indicator",defaultMessage:"You took control"})]})});function $Xe(t){const[e,n]=g.useState(null),r=pt();return g.useEffect(()=>{t.assetPointer&&om.fetch(r,{asset:t.assetPointer,conversationId:t.serverThreadId}).then(s=>{n(s.url)})},[r,t.assetPointer,t.serverThreadId]),e?o.jsx("video",{controls:!0,src:e,className:"w-full"}):null}function gEt({message:t,isUserTurn:e,clientThreadId:n}){var i,l;const r=OUe(t),s=kn(n);if(r.length===0||!e)return null;const a=(l=(i=r[0].metadata)==null?void 0:i.transcription)==null?void 0:l.text;return o.jsxs("div",{className:"flex max-w-[400px] flex-col justify-end self-end",children:[o.jsx($Xe,{assetPointer:r[0],serverThreadId:s}),o.jsx("div",{className:U("mt-2 text-sm italic",{"opacity-65":a,"opacity-30":!a}),children:a!=null?a:o.jsx(N,C({},qXe.transcriptUnavailable))})]})}const qXe={transcriptUnavailable:{id:"textMessage.transcriptUnavailable",defaultMessage:"Transcript Unavailable",description:"Short status message shown under a video attachment in chat when no audio transcription of the video is available (model returned empty text). Noun phrase; not a button."}};function zXe({className:t}){return o.jsxs(o.Fragment,{children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:"false",className:U(t,"dark:hidden"),children:[o.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"black",fillOpacity:"0.04"}),o.jsx("circle",{cx:"8",cy:"8",r:"7.7",stroke:"black",strokeOpacity:"0.16",strokeWidth:"0.6"}),o.jsx("path",{d:"M10.8988 4.47241C11.297 4.30205 11.6994 4.7051 11.5287 5.10327L9.85392 9.01147C9.69208 9.3891 9.39072 9.69046 9.0131 9.85229L5.1049 11.5271C4.70673 11.6977 4.30368 11.2954 4.47404 10.8972L6.14982 6.98804C6.31165 6.61062 6.61225 6.31002 6.98966 6.14819L10.8988 4.47241ZM8.00138 7.19995C7.5597 7.20005 7.20167 7.55807 7.20158 7.99976C7.20158 8.44152 7.55964 8.79946 8.00138 8.79956C8.44321 8.79956 8.80119 8.44158 8.80119 7.99976C8.80109 7.55801 8.44315 7.19995 8.00138 7.19995Z",fill:"black",fillOpacity:"0.16"})]}),o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:"false",className:U(t,"hidden dark:block"),children:[o.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"white",fillOpacity:"0.2"}),o.jsx("circle",{cx:"8",cy:"8",r:"7.7",stroke:"white",strokeOpacity:"0.65",strokeWidth:"0.6"}),o.jsx("path",{d:"M10.8989 4.47248C11.2971 4.30212 11.6994 4.70517 11.5288 5.10334L9.85399 9.01154C9.69215 9.38917 9.39079 9.69052 9.01317 9.85236L5.10496 11.5272C4.7068 11.6978 4.30375 11.2955 4.47411 10.8973L6.14989 6.98811C6.31171 6.61069 6.61232 6.31009 6.98973 6.14826L10.8989 4.47248ZM8.00145 7.20002C7.55976 7.20012 7.20174 7.55814 7.20164 7.99982C7.20164 8.44159 7.5597 8.79953 8.00145 8.79963C8.44328 8.79963 8.80125 8.44165 8.80125 7.99982C8.80116 7.55808 8.44322 7.20002 8.00145 7.20002Z",fill:"white",fillOpacity:"0.65"})]})]})}function Fh({base64:t,title:e,alt:n,className:r}){var s;return t?o.jsx("img",{src:"data:image/png;base64,".concat(t),alt:(s=n!=null?n:e)!=null?s:"",className:r}):o.jsx(zXe,{className:r})}function hEt({browserContextMetadata:t,className:e}){const n=t.sources[0];if(!n)return null;const{url:r,title:s,base64favicon:a}=n;return!r||!s?null:o.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:U("no-underline",e),children:o.jsx("div",{className:"user-message-bubble-color relative max-w-[var(--user-chat-width,70%)] rounded-3xl px-3.5 py-1.5",children:o.jsxs("div",{className:"flex min-w-0 cursor-pointer items-center gap-2",children:[o.jsx(Fh,{base64:a,title:s,alt:"",className:"h-4 w-4 flex-shrink-0"}),o.jsx("span",{className:"truncate select-none",children:s})]})})})}function RN({type:t="info",children:e,isDismissible:n=!1,onDismiss:r,className:s,isElevated:a=!1,primaryAction:i,customIcon:l,iconCentered:c=!1}){const[u,d]=g.useState(!1);if(u)return null;let f;return t!=="none"&&(f=l||Hs),o.jsxs(GXe,{$type:t,className:U("flex w-full items-center gap-6 rounded-2xl border text-sm",n?"py-2.5 ps-3 pe-2 md:py-3 md:ps-4 md:pe-3":"px-3 py-2.5 md:p-4",a&&"shadow-xxs",s),children:[o.jsxs("div",{className:U("flex min-w-0 grow gap-3",c?"items-center":"items-start"),children:[f&&o.jsx(f,{className:U("icon-lg shrink-0",n&&"mt-[2px] md:mt-px",(t==="info"||t==="none")&&"text-token-text-secondary")}),o.jsx("div",{className:U("min-w-0 grow",n?"pt-[4px] md:pt-[3px]":"pt-[2px]",!f&&"ps-1"),children:e})]}),i,n&&o.jsx("button",{onClick:()=>{d(!0),r==null||r()},className:U("text-token-text-primary flex h-7 w-7 shrink-0 items-center justify-center self-start rounded-full bg-transparent",(t==="info"||t==="none")&&"hover:bg-token-main-surface-secondary",t==="danger"&&"hover:bg-token-surface-error/10",t==="warning"&&"hover:bg-orange-400/10"),children:o.jsx(lr,{className:"icon"})})]})}var ZZ;const GXe=Ge.div(ZZ||(ZZ=qe(["\n",""])),({$type:t})=>{switch(t){case"danger":return"text-token-text-error border-token-surface-error/15 bg-token-surface-error/5";case"warning":return"text-orange-600 bg-orange-400/5 border-orange-400/15";case"success":return"text-green-500 border-green-500 bg-green-500/10";default:return"text-token-text-primary border-token-border-default bg-token-main-surface-primary/10"}});function vEt(){return!1}const yEt=t=>ze(t,"453021389").get("enable-block-animations",!1),WXe="_root_m1hgl_7",ZXe="_fadeIn_m1hgl_8",xEt={root:WXe,fadeIn:ZXe,"fade-in":"_fade-in_m1hgl_1"},ZS=v0(()=>({delayedRenderingMessageIds:new Set})),KXe=t=>vf(ZS,t);function YXe(t){return KXe(e=>t?t(e.delayedRenderingMessageIds):e.delayedRenderingMessageIds)}const Sq={addDelayedRenderingMessage(t){ZS.setState(e=>{if(e.delayedRenderingMessageIds.has(t))return e;const n=new Set(e.delayedRenderingMessageIds);return n.add(t),{delayedRenderingMessageIds:n}})},removeDelayedRenderingMessage(t){ZS.setState(e=>{if(!e.delayedRenderingMessageIds.has(t))return e;const n=new Set(e.delayedRenderingMessageIds);return n.delete(t),{delayedRenderingMessageIds:n}})}};let kq=!1;function bEt(t,e,n){g.useEffect(()=>{var r;!t||e||kq||n&&((r=W6())==null||r.receivedFirstToken(),kq=!0)},[t,e,n])}const QXe=({textdocId:t,clientThreadId:e})=>{const n=ma(f=>{var m;return(m=f==null?void 0:f.resolveTempTextdocId[t])!=null?m:t}),r=V5(n),s=Dj(n),a=$5(),i=ma(f=>{const m=f==null?void 0:f.lastCanvasAssistantMessageById;return m==null||n==null?!0:m[n]==null});if(!r)return null;const l=()=>{rc(n)},c=()=>{hu({type:gu.Textdoc,textdocId:n,shouldRunCodeOnOpen:!0})},{title:u,type:d}=r;return o.jsx("div",{className:"flex w-full justify-end",children:o.jsx(qS,{textdocId:n,clientThreadId:e,name:u,tag:d,icon:X1(d,!1),iconSelected:X1(d,!0),isCanvasOpen:a,isInlinePreview:i,isFocused:s,isUserMessage:!0,onClick:l,onPreview:c})})},CEt=({messages:t,clientThreadId:e})=>{var s,a;const[n]=t,r=(s=n==null?void 0:n.metadata)==null?void 0:s.canvas;return!r||r.user_message_type!=null?null:o.jsx(o.Fragment,{children:(a=r.user_created_textdocs)==null?void 0:a.map(({user_created_temp_textdoc_id:i})=>o.jsx(QXe,{textdocId:i,clientThreadId:e},i))})},Rr=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M12.5293 6.5293C12.7566 6.30203 13.1081 6.27383 13.3662 6.44434L13.4707 6.5293L17.4707 10.5293C17.7304 10.789 17.7304 11.211 17.4707 11.4707L13.4707 15.4707C13.211 15.7304 12.789 15.7304 12.5293 15.4707C12.2696 15.211 12.2696 14.789 12.5293 14.5293L15.3936 11.665H6C3.97588 11.665 2.33496 10.0241 2.33496 8V4.5C2.33496 4.13273 2.63273 3.83496 3 3.83496C3.36727 3.83496 3.66504 4.13273 3.66504 4.5V8C3.66504 9.28958 4.71042 10.335 6 10.335H15.3936L12.5293 7.4707L12.4443 7.36621C12.2738 7.10808 12.302 6.75657 12.5293 6.5293Z"})),_Et=Object.freeze(Object.defineProperty({__proto__:null,default:Rr},Symbol.toStringTag,{value:"Module"}));function wEt({hint:t}){var n;if(!t)return null;const e=ri((n=t.url)!=null?n:"");return o.jsxs("div",{className:"text-token-text-tertiary mb-2 flex flex-row items-center justify-end",children:[o.jsx(Rr,{className:"icon me-1.5"}),o.jsx("span",{className:"shrink-0",children:o.jsx(N,{id:"Y+ZBkg",defaultMessage:"Referring to {fileName}",values:{fileName:o.jsxs(p0,{className:"text-token-text-secondary font-semibold hover:underline",href:t.url,underline:!1,openNewTab:!0,children:[e&&o.jsx(e.Icon,{className:"icon me-1.5 inline"}),t.name]})}})})]})}const SEt=t=>{"use forget";const e=ee.c(22),{children:n,collapsedHeight:r}=t,[s,a]=g.useState(!1),[i,l]=g.useState(null),c=g.useRef(null);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{c.current&&l(c.current.scrollHeight)},e[0]=u):u=e[0];let d;e[1]!==n||e[2]!==s?(d=[n,s],e[1]=n,e[2]=s,e[3]=d):d=e[3],g.useEffect(u,d);const f=s&&i?i:"".concat(r,"rem");let m;e[4]!==f?(m={maxHeight:f},e[4]=f,e[5]=m):m=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=o.jsx("hr",{className:U("absolute start-0 end-0 bottom-0","hires-tepman:[border-inline-width:0.5px] [border-inline-width:1px] border-[var(--theme-user-msg-text)] opacity-20")}),e[6]=p):p=e[6];let h;e[7]!==n||e[8]!==m?(h=o.jsxs("div",{id:"expandable-content",ref:c,className:"relative overflow-hidden pb-3",style:m,children:[n,p]}),e[7]=n,e[8]=m,e[9]=h):h=e[9];let v;e[10]===Symbol.for("react.memo_cache_sentinel")?(v=()=>a(JXe),e[10]=v):v=e[10];const y=s?Mq.showLess.defaultMessage:Mq.showMore.defaultMessage,x=s&&"rotate-180";let b;e[11]!==x?(b=U("self-center text-[var(--theme-user-msg-text)] group-hover:scale-110",x),e[11]=x,e[12]=b):b=e[12];let _;e[13]!==b?(_=o.jsx(ys,{className:b}),e[13]=b,e[14]=_):_=e[14];let w;e[15]!==s||e[16]!==_||e[17]!==y?(w=o.jsx("button",{onClick:v,className:"group -mb-3 flex w-full cursor-pointer flex-col items-stretch pt-2 pb-2.5 select-none","aria-expanded":s,"aria-controls":"expandable-content","aria-label":y,children:_}),e[15]=s,e[16]=_,e[17]=y,e[18]=w):w=e[18];let S;return e[19]!==w||e[20]!==h?(S=o.jsxs("div",{className:"relative",children:[h,w]}),e[19]=w,e[20]=h,e[21]=S):S=e[21],S},Mq=pe({showLess:{id:"showLess",defaultMessage:"Show Less"},showMore:{id:"showMore",defaultMessage:"Show More"}});function JXe(t){return!t}const XXe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14.5022 2.58321C14.8689 2.6667 15.2189 2.81166 15.5373 3.01196C15.856 3.21247 16.1244 3.48108 16.4796 3.83668L16.7506 4.10766C16.9786 4.33523 17.1795 4.53579 17.3305 4.7758C17.4808 5.01458 17.5895 5.27707 17.6521 5.55213C17.715 5.82862 17.7148 6.11251 17.7145 6.43462L17.7145 8.45491C17.7147 8.95758 17.7149 9.33728 17.6313 9.70443C17.5478 10.0712 17.4028 10.4212 17.2025 10.7395C17.002 11.0582 16.7334 11.3266 16.3778 11.6819L12.306 15.7537C11.8557 16.204 11.4839 16.5758 11.157 16.8556C10.8177 17.1459 10.4753 17.3835 10.0689 17.5262C9.35402 17.7773 8.57491 17.7773 7.86001 17.5262C7.45362 17.3835 7.11118 17.1459 6.77189 16.8556C6.44502 16.5758 6.07328 16.2041 5.62289 15.7536L4.46084 14.5916C4.01046 14.1412 3.63869 13.7695 3.35896 13.4426C3.06857 13.1033 2.831 12.7609 2.68829 12.3545C2.43724 11.6396 2.43724 10.8605 2.68829 10.1456C2.831 9.7392 3.06857 9.39677 3.35896 9.05747C3.6387 8.73061 4.01045 8.35887 4.46085 7.90848L8.53262 3.83668C8.8879 3.48108 9.15627 3.21247 9.47498 3.01196C9.79335 2.81166 10.1433 2.6667 10.5101 2.58321C10.8772 2.49962 11.2569 2.4998 11.7596 2.50002H13.2527C13.7553 2.4998 14.135 2.49962 14.5022 2.58321ZM13.1312 8.33338C13.8216 8.33338 14.3812 7.77374 14.3812 7.08338C14.3812 6.39303 13.8216 5.83338 13.1312 5.83338C12.4409 5.83338 11.8812 6.39303 11.8812 7.08338C11.8812 7.77374 12.4409 8.33338 13.1312 8.33338Z"})),kEt=Object.freeze(Object.defineProperty({__proto__:null,default:XXe},Symbol.toStringTag,{value:"Module"})),Uce=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.0394 5.92117C12.451 6.12699 12.6179 6.62755 12.412 7.0392L9.07871 13.7059C8.87289 14.1175 8.37232 14.2844 7.96068 14.0785C7.54903 13.8727 7.38217 13.3722 7.588 12.9605L10.9213 6.29385C11.1272 5.8822 11.6277 5.71534 12.0394 5.92117ZM5.50002 5.99986C5.86821 6.276 5.94283 6.79833 5.66669 7.16652L3.54169 9.99986L5.66669 12.8332C5.94283 13.2014 5.86821 13.7237 5.50002 13.9999C5.13183 14.276 4.6095 14.2014 4.33335 13.8332L1.83335 10.4999C1.61113 10.2036 1.61113 9.79615 1.83335 9.49986L4.33335 6.16652C4.6095 5.79833 5.13183 5.72371 5.50002 5.99986ZM14.5 5.99986C14.8682 5.72371 15.3905 5.79833 15.6667 6.16652L18.1667 9.49986C18.3889 9.79615 18.3889 10.2036 18.1667 10.4999L15.6667 13.8332C15.3905 14.2014 14.8682 14.276 14.5 13.9999C14.1318 13.7237 14.0572 13.2014 14.3334 12.8332L16.4584 9.99986L14.3334 7.16652C14.0572 6.79833 14.1318 6.276 14.5 5.99986Z"})),MEt=Object.freeze(Object.defineProperty({__proto__:null,default:Uce},Symbol.toStringTag,{value:"Module"}));function EEt({messages:t,clientThreadId:e}){var a,i,l,c;const n=t.find(u=>{var d;return((d=u.metadata)==null?void 0:d.open_in_canvas_view)!=null}),{textdocVersionById:r}=die(e);if(n==null)return null;const s=(i=(a=n.metadata)==null?void 0:a.open_in_canvas_view)!=null&&i.id?r==null?void 0:r.get((c=(l=n.metadata)==null?void 0:l.open_in_canvas_view)==null?void 0:c.id):void 0;return s!=null?o.jsxs("div",{className:"text-token-text-tertiary me-5 mt-2 mb-2 flex items-center justify-end gap-1",children:[o.jsx(Rr,{className:"icon"}),s.type.startsWith("code/")?o.jsx(Uce,{className:"ms-2 inline-block"}):o.jsx(Sr,{className:"ms-2 inline-block"}),s.title]}):o.jsxs("div",{className:"text-token-text-tertiary me-5 mt-2 mb-2 flex items-center justify-end gap-1",children:[o.jsx(Rr,{className:"icon"}),o.jsx(N,{id:"NHZXLr",defaultMessage:"Canvas document"})]})}function eet(t,e=[]){var r;if(e.length===0)return t;const n=e.filter(s=>{var a;return s.end_ix<=t.length&&s.citation_format_type==="tether_markdown"&&((a=s.metadata)==null?void 0:a.type)==="webpage"});for(let s=n.length-1;s>=0;s--){const a=n[s];if(((r=a.metadata)==null?void 0:r.type)!=="webpage")continue;const{start_ix:i,end_ix:l,metadata:c}=a,d=t.substring(i,l).replace(/\[(.*?)\]\((\d+)\)/g,"[$1](".concat(c==null?void 0:c.url,")"));t=t.substring(0,i)+d+t.substring(l)}return t}function tet(t,e=[]){var a,i;if(e.length===0)return[];const n=[],r=e.filter(l=>l.end_ix<=t.length&&l.citation_format_type!=="tether_markdown"),s=mge(t);for(let l=r.length-1;l>=0;l--){const c=r[l];let u;const{start_ix:d,end_ix:f,metadata:m,invalid_reason:p}=c;if(!(m!=null&&m.type))continue;const h=s.slice(d,f).join("");switch(m.type){case"webpage":u=P(C({},m),{type:"webpage",title:(a=m.title)!=null?a:"",snippet:(i=m.text)!=null?i:null,pub_date:net(m.pub_date),matched_text:h,start_idx:d,end_idx:f,alt:null,prompt_text:null,safe_urls:[],attributions:null,refs:[]});break;case"file":u=P(C({},m),{matched_text:h,start_idx:d,end_idx:f,alt:null,prompt_text:null,safe_urls:[],refs:[]});break}p&&(u={type:"invalid",alt:p,prompt_text:null,start_idx:d,end_idx:f,matched_text:h,invalid:!0,safe_urls:[],refs:[]});let v=!1;if(n.length>0){const y=n[n.length-1];Eq(y)===Eq(u)&&s.slice(y.end_idx,c.start_ix).join("").trim().length===0&&(n[n.length-1].end_idx=c.end_ix,v=!0)}!v&&u&&n.push(u)}return n}function jEt(t,e=[],n=[]){const r=eet(t,e),a=[...n.length>0?[]:tet(r,e),...n],i=Go(a);return{text:r,contentReferences:i}}function Eq(t){switch(t.type){case"file":return t.id;case"webpage":return t.url;case"invalid":return t.alt}}function net(t){return t==null?null:new Date(t).getTime()/1e3}function TEt(t){return t.startsWith("file_")||t.startsWith("file-")}function NEt({role:t,children:e}){const n=Yt(wn);if(!n)return e;const r=t===Ue.User&&n?"py-4":void 0;return o.jsx("div",{className:U(r),children:e})}const ret=pge("(width <= 500px)",()=>!1);function set(){return at(ret)}function Hce(){const t=Yt(wn);return set()&&t}const aet={highlightedAttributions:new Set},jq=8,KS=Rt(()=>aet),Tq={debugMode:!1,viewModelPredictedFallback:!1,disableSegmentReplacement:!1,useSigmoid:!0,influenceTemperature:.2,probThreshold:.45,probBaseline:.02},ON=Rt()(gge(()=>C({},Tq),{name:"search.attributions-settings",version:jq,migrate:(t,e)=>e!==jq?Tq:t}));function Vce(t,e){return"".concat(t,"-").concat(e)}const nf={setHighlight:(t,e)=>{if(t==null)return;if(e==null||e.length===0)return nf.clearHighlights();Array.isArray(e)||(e=[e]);const n=new Set;for(const r of e)n.add(Vce(t,r));return KS.setState(()=>({highlightedAttributions:n}))},setHighlightBySource:(t,e)=>{var r;let n;"attribution_segments"in e&&(n=(r=e.attribution_segments)!=null?r:void 0),nf.setHighlight(t,n)},clearHighlights:()=>KS.setState({highlightedAttributions:new Set})},$ce=()=>ON(t=>t.viewModelPredictedFallback),AEt=()=>ON(t=>t.debugMode),PEt=(t,e)=>KS(n=>t==null?!1:n.highlightedAttributions.has(Vce(t,e))),IEt=()=>ON(t=>t.disableSegmentReplacement);function LEt({messages:t,clientThreadId:e}){var c,u,d;const[n,r]=g.useState(),s=Z(),a=kn(e);let i=null;for(const f of t)if(((d=(u=(c=f.metadata)==null?void 0:c.dalle)==null?void 0:u.from_client)==null?void 0:d.operation)!=null){i=f.metadata.dalle.from_client.operation;break}const l=null;return g.useEffect(()=>{if(i==null)return;const f=i.original_file_id;async function m(p){try{const h=await Tf(p,void 0,void 0,a,!1,l);h.status===Ro.Success?r(h.download_url):ve.addError("Error fetching URL for file ".concat(p,": ").concat(h.status))}catch(h){}}m(f)},[a,i,l]),i==null?null:o.jsxs("div",{className:"text-token-text-tertiary me-5 mt-2 mb-2 flex items-center justify-end gap-1",children:[o.jsx(Rr,{className:"icon"}),n==null?o.jsx("div",{className:"h-7"}):o.jsxs(o.Fragment,{children:[o.jsx("img",{src:n,alt:s.formatMessage({id:"textMessage.editedImageAltText",defaultMessage:"Edited image"}),className:"h-7 w-auto rounded-sm opacity-50"}),i.type==="inpainting"&&o.jsx("span",{className:"ms-1 text-sm font-semibold",children:o.jsx(N,{id:"textMessage.inpaintedImage",defaultMessage:"Selection"})})]})]})}const oet=({disclaimerContent:t})=>{let e;switch(t){case"us_elections_policy":e=o.jsx(N,{id:"D1Mw8a",defaultMessage:"Always verify information about voting with your state or local election authority. For more information, visit <usElectionLink></usElectionLink>.",values:{usElectionLink:()=>o.jsx("a",{target:"_blank",href:"https://canivote.org",rel:"noreferrer",className:"underline hover:no-underline",children:"canivote.org"})}});break;case"eu_elections_policy":e=o.jsx(N,{id:"Disclaimer.EUElections",defaultMessage:"Always verify information about voting with your local election authority. For more information about the EU elections, visit <euElectionLink></euElectionLink>.",values:{euElectionLink:()=>o.jsx("a",{target:"_blank",href:"https://elections.europa.eu",rel:"noreferrer",className:"underline hover:no-underline",children:"elections.europa.eu"})}});break;case"generic_elections_policy":e=o.jsx(N,{id:"Disclaimer.GenericElections",defaultMessage:"Always verify information about voting with your local election authority."});break;default:e=o.jsx(ar,{className:"text-sm",componentOverrides:{a:n=>{const i=n,{node:r,children:s}=i,a=de(i,["node","children"]);return o.jsx("a",P(C({},a),{target:"_blank",rel:"noreferrer",className:"underline hover:no-underline [&&]:text-black [&&]:underline [&&]:hover:text-black dark:[&&]:text-white dark:[&&]:hover:text-white",children:s}))}},children:t})}return o.jsx(RN,{className:"w-fit self-start",children:e})};function REt({message:t}){var e,n;return(n=(e=t==null?void 0:t.clientMetadata)==null?void 0:e.disclaimers)!=null&&n.length?o.jsx("div",{className:"flex flex-col gap-2",children:t.clientMetadata.disclaimers.map(r=>o.jsx(oet,{disclaimerContent:r},r))}):null}const iet=t=>{var e;return{type:"table",file_id:(e=t.id)!=null?e:"",title:hge(t),file_name:t.name,context_connector_info:t.context_connector_info}};function cet(){return vge(Dr.DataAnalysisV2)}const S3=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M2.66821 12.6663V12.5003C2.66821 12.1331 2.96598 11.8353 3.33325 11.8353C3.70052 11.8353 3.99829 12.1331 3.99829 12.5003V12.6663C3.99829 13.3772 3.9992 13.8707 4.03052 14.2542C4.0612 14.6298 4.11803 14.8413 4.19849 14.9993L4.2688 15.1263C4.44511 15.4137 4.69813 15.6481 5.00024 15.8021L5.13013 15.8577C5.2739 15.9092 5.46341 15.947 5.74536 15.97C6.12888 16.0014 6.62221 16.0013 7.33325 16.0013H12.6663C13.3771 16.0013 13.8707 16.0014 14.2542 15.97C14.6295 15.9394 14.8413 15.8825 14.9993 15.8021L15.1262 15.7308C15.4136 15.5545 15.6481 15.3014 15.802 14.9993L15.8577 14.8695C15.9091 14.7257 15.9469 14.536 15.97 14.2542C16.0013 13.8707 16.0012 13.3772 16.0012 12.6663V12.5003C16.0012 12.1332 16.2991 11.8355 16.6663 11.8353C17.0335 11.8353 17.3313 12.1331 17.3313 12.5003V12.6663C17.3313 13.3553 17.3319 13.9124 17.2952 14.3626C17.2624 14.7636 17.1974 15.1247 17.053 15.4613L16.9866 15.6038C16.7211 16.1248 16.3172 16.5605 15.8215 16.8646L15.6038 16.9866C15.227 17.1786 14.8206 17.2578 14.3625 17.2952C13.9123 17.332 13.3553 17.3314 12.6663 17.3314H7.33325C6.64416 17.3314 6.0872 17.332 5.63696 17.2952C5.23642 17.2625 4.87552 17.1982 4.53931 17.054L4.39673 16.9866C3.87561 16.7211 3.43911 16.3174 3.13501 15.8216L3.01294 15.6038C2.82097 15.2271 2.74177 14.8206 2.70435 14.3626C2.66758 13.9124 2.66821 13.3553 2.66821 12.6663ZM9.33521 3.33333C9.33521 2.96606 9.63298 2.66829 10.0002 2.66829C10.3674 2.66847 10.6653 2.96617 10.6653 3.33333V10.8939L12.8625 8.69661L12.967 8.61165C13.2252 8.44092 13.5766 8.46925 13.804 8.69661C14.0633 8.95628 14.0634 9.37744 13.804 9.63704L10.47 12.97C10.3453 13.0947 10.1765 13.1653 10.0002 13.1654C9.82388 13.1654 9.65425 13.0948 9.52954 12.97L6.19653 9.63704L6.11157 9.53255C5.94101 9.27441 5.96924 8.9239 6.19653 8.69661C6.42382 8.46932 6.77433 8.44109 7.03247 8.61165L7.13696 8.69661L9.33521 10.8949V3.33333Z"})),OEt=Object.freeze(Object.defineProperty({__proto__:null,default:S3},Symbol.toStringTag,{value:"Module"}));function qce({gizmoId:t,fileId:e,fileName:n,onClose:r}){const{data:s,isLoading:a}=ut({queryKey:["file-info",e],queryFn:async()=>await ue.safeGet("/files/{file_id}/simple",{parameters:{path:{file_id:e},query:{gizmo_id:t}}})}),i=!!(s&&(s.mime_type==="application/pdf"||Dd(n)==="pdf")),{data:l,isLoading:c}=ut({queryKey:["file-preview",e,t,i],queryFn:async()=>{const u=await Tf(e,t,!1,void 0,i);if(u.status===Ro.Success)return u.download_url;throw new Error("Failed to download file inline preview")},staleTime:GM,enabled:!!s});return g.useEffect(()=>{s&&!i&&l&&(window.open(l,"_blank"),r())},[s,l,i,r]),o.jsx(tt,{testId:"modal-file-preview",className:"min-h-[90vh] max-w-[75vw] max-w-[1000px]",isOpen:!0,onClose:r,type:"success",title:n,showCloseButton:!0,size:"custom",children:a||c||!i||!l?o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(On,{})}):o.jsx("iframe",{src:l,title:n,height:"100%",width:"100%"})})}const uet=t=>g.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.7587 3H15.2413C16.0463 2.99999 16.7106 2.99998 17.2518 3.04419C17.8139 3.09012 18.3306 3.18868 18.816 3.43597C19.5686 3.81947 20.1805 4.43139 20.564 5.18404C20.8113 5.66937 20.9099 6.18608 20.9558 6.74817C21 7.28936 21 7.95372 21 8.75868V15.2413C21 16.0463 21 16.7106 20.9558 17.2518C20.9099 17.8139 20.8113 18.3306 20.564 18.816C20.1805 19.5686 19.5686 20.1805 18.816 20.564C18.3306 20.8113 17.8139 20.9099 17.2518 20.9558C16.7106 21 16.0463 21 15.2413 21H8.75868C7.95372 21 7.28936 21 6.74817 20.9558C6.18608 20.9099 5.66937 20.8113 5.18404 20.564C4.43139 20.1805 3.81947 19.5686 3.43597 18.816C3.18868 18.3306 3.09012 17.8139 3.04419 17.2518C2.99998 16.7106 2.99999 16.0463 3 15.2413V8.7587C2.99999 7.95373 2.99998 7.28937 3.04419 6.74817C3.09012 6.18608 3.18868 5.66937 3.43597 5.18404C3.81947 4.43139 4.43139 3.81947 5.18404 3.43597C5.66937 3.18868 6.18608 3.09012 6.74817 3.04419C7.28937 2.99998 7.95373 2.99999 8.7587 3ZM5 11V15.2C5 16.0566 5.00078 16.6389 5.03755 17.089C5.07337 17.5274 5.1383 17.7516 5.21799 17.908C5.40973 18.2843 5.7157 18.5903 6.09202 18.782C6.24842 18.8617 6.47262 18.9266 6.91104 18.9624C7.36113 18.9992 7.94342 19 8.8 19H9V11H5ZM9 9H5V8.8C5 7.94342 5.00078 7.36113 5.03755 6.91104C5.07337 6.47262 5.1383 6.24842 5.21799 6.09202C5.40973 5.7157 5.7157 5.40973 6.09202 5.21799C6.24842 5.1383 6.47262 5.07337 6.91104 5.03755C7.36113 5.00078 7.94342 5 8.8 5H9V9ZM11 11V19H15.2C16.0566 19 16.6389 18.9992 17.089 18.9624C17.5274 18.9266 17.7516 18.8617 17.908 18.782C18.2843 18.5903 18.5903 18.2843 18.782 17.908C18.8617 17.7516 18.9266 17.5274 18.9624 17.089C18.9992 16.6389 19 16.0566 19 15.2V11H11ZM19 9H11V5H15.2C16.0566 5 16.6389 5.00078 17.089 5.03755C17.5274 5.07337 17.7516 5.1383 17.908 5.21799C18.2843 5.40973 18.5903 5.7157 18.782 6.09202C18.8617 6.24842 18.9266 6.47262 18.9624 6.91104C18.9992 7.36113 19 7.94342 19 8.8V9Z"}));function A4({fileName:t,icon:e,loadingPercentage:n,contextConnectorInfo:r,customFileDescription:s,fileNameClass:a}){var m,p;const i=Z(),l=n!==void 0&&n<100,c=Dd(t),u=(m=r==null?void 0:r.syntheticExtension)!=null?m:null;function d(h){if(uc(h))return i.formatMessage(T1.fileDescImage);switch(c){case"py":return"Python";case"js":case"jsx":return"JavaScript";case"ts":case"tsx":return"TypeScript";case"pdf":return"PDF";case"doc":case"docx":case"txt":return i.formatMessage(T1.fileDescDocument);case"zip":return i.formatMessage(T1.fileDescZip);case"xls":case"xlsx":case"csv":return i.formatMessage(T1.fileDescSpreadsheet);case"ppt":case"pptx":case"key":return i.formatMessage(T1.fileDescPresentation);default:return i.formatMessage(T1.fileDescFile)}}const f=s!=null?s:r!=null&&r.contextConnector?o.jsx(yge,{contextConnector:r.contextConnector,extension:(p=u!=null?u:c)!=null?p:null}):d(t);return o.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e!=null&&e!==!1?o.jsxs("div",{className:"border-token-border-heavy relative h-10 w-10 shrink-0 overflow-hidden rounded-lg border",children:[e,l&&o.jsx(Nq,{percentage:n,blurBackground:!0})]}):o.jsx("div",{className:"relative h-10 w-10 shrink-0 overflow-hidden rounded-lg",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:U("inset-0",zce),style:{backgroundColor:Wce(t,r==null?void 0:r.contextConnector)}}),o.jsx(Nq,{percentage:r?null:n})]}):o.jsx(Gce,{filename:t,contextConnectorInfo:r})}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("div",{className:U("truncate",a!=null?a:"font-semibold"),children:xge(t,u)}),o.jsx("div",{className:"text-token-text-secondary truncate",children:f})]})]})}function Nq({percentage:t,blurBackground:e=!1}){return o.jsx("div",{className:U("absolute inset-0 flex items-center justify-center text-white",e&&"bg-black/5 backdrop-blur-xs"),children:t?o.jsx(Ru,{percentage:t,className:"h-6 w-6"}):o.jsx(On,{className:"text-token-text-secondary h-6 w-6"})})}const zce="h-10 w-10 shrink-0";function Gce({filename:t,contextConnectorInfo:e,className:n=zce,glyphClassName:r="h-5 w-5"}){var l,c,u;if(e)return o.jsx("div",{className:U("flex items-center justify-center rounded-lg",n),style:{backgroundColor:Wce(t,e.contextConnector)},children:o.jsx(bge,{contextConnector:e.contextConnector,extension:(c=(l=e.syntheticExtension)!=null?l:Dd(t))!=null?c:null,className:U(r,"text-white")})});const s=(u=Dd(t))!=null?u:null,{BgColor:a,Icon:i}=Zce(s);return o.jsx("div",{className:U("flex items-center justify-center rounded-lg",n),style:{backgroundColor:a},children:o.jsx(i,{className:U(r,"text-white")})})}function Wce(t,e){var r;if(e)return Ns.gray.solid[50];const n=(r=Dd(t))!=null?r:null;return Zce(n).BgColor}function Zce(t){const e={purple:Ns.purple[400],blue:Ns.blue[400],green:Ns.green[400],red:Ns.red[400],gray:Ns.gray.solid[400]},n=(t!=null?t:"").toLowerCase();return n==="zip"?{BgColor:e.purple,Icon:EN}:n==="pdf"?{BgColor:e.red,Icon:is}:n==="xls"||n==="xlsx"||n==="csv"?{BgColor:e.green,Icon:uet}:n==="doc"||n==="docx"||n==="txt"||n==="md"||n==="markdown"?{BgColor:e.blue,Icon:Sr}:n==="png"||n==="jpg"||n==="jpeg"||n==="gif"||n==="webp"?{BgColor:e.gray,Icon:ol}:{BgColor:e.gray,Icon:is}}const T1=pe({fileDescDocument:{id:"FileDataView.fileDescDocument",defaultMessage:"Document"},fileDescZip:{id:"FileDataView.fileDescZip",defaultMessage:"Zip Archive"},fileDescSpreadsheet:{id:"FileDataView.fileDescSpreadsheet",defaultMessage:"Spreadsheet"},fileDescPresentation:{id:"FileDataView.fileDescPresentation",defaultMessage:"Presentation"},fileDescImage:{id:"FileDataView.fileDescImage",defaultMessage:"Image"},fileDescFile:{id:"FileDataView.fileDescFile",defaultMessage:"File"}});function Li(t){return typeof window>"u"?!1:typeof t!="string"}function det({downloadLink:t}){const e=g.useCallback(()=>{var r;const n=document.createElement("a");n.href=t,n.setAttribute("download",(r=t.split("/").pop())!=null?r:"downloaded_file"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},[t]);return o.jsx("button",{onClick:e,children:o.jsx(S3,{className:"icon-sm m-1.5"})})}function Aq({onClick:t,ariaLabel:e,large:n=!1,children:r}){return o.jsx("button",{onClick:t,"aria-label":e,className:U("transition-colors","flex h-4 w-4 items-center justify-center rounded-full","border-[rgba(0,0,0,0.1)] bg-black text-white","dark:border-[rgba(255,255,255,0.1)] dark:bg-white dark:text-black",n&&"h-6 w-6"),children:r})}function Kce({onRemoveFileClick:t,onImageEditClick:e,useLargeImageThumbnailStyle:n,file:r,fileId:s,gizmoId:a,loadingPercentage:i,contextConnectorInfo:l,width:c="normal",alwaysShowData:u=!1,showDownloadButton:d=!1,downloadLink:f="",borderRadius:m="xl",className:p,isUserTurn:h=!1,clientThreadId:v}){const y=q(),x=Z(),b=i!==void 0&&i<100,_=Li(r)?r.name:r,w=Li(r)&&(r==null?void 0:r.type.startsWith("image/"))||uc(_)&&s!=null,S=w&&o.jsx(met,{file:r,fileId:s,gizmoId:a,contextConnectorInfo:l}),k=g.useContext(l3),M=(k==null?void 0:k.serverSharedThreadId)&&h,E=Cge(),T=w||l==null?void 0:l.sourceUrl,j=!(l!=null&&l.sourceUrl)&&!S?_:void 0,I=Li(r)&&(r==null?void 0:r.type)==="text/plain"&&!u&&!l&&yQ(y),L=g.useCallback(async()=>{if(s)if(Dd(_)==="pdf")Dt(y,qce,{fileId:s,fileName:_});else{const V=await Tf(s,void 0,!1,v!=null?kt(v):void 0,!1);V.status===Ro.Success?window.open(V.download_url,"_blank"):ve.addError("Failed to get download link for file: ".concat(_))}},[_,y,s,v]),O=pet({file:r,isExpandableTextFile:I}),R=!t;if(M){if(!w||E()){const V=w?o.jsx(ol,{className:"icon-sm"}):o.jsx(Iu,{className:"icon-sm"}),z=w?x.formatMessage(Xm.uploadedImage):x.formatMessage(Xm.uploadedFile);return o.jsxs("div",{className:"text-token-text-secondary flex items-center gap-2",children:[V,o.jsx("span",{children:z})]})}if(w)return null}const H=o.jsxs("div",{className:U("p-2",c==="wide"?"w-80":"w-60"),children:[o.jsx(A4,{fileName:_,icon:S,loadingPercentage:i,contextConnectorInfo:l}),d&&f!==""&&o.jsx("div",{className:"absolute end-1 top-1",children:o.jsx(det,{downloadLink:f})})]});return o.jsxs("div",{className:"group text-token-text-primary relative inline-block text-sm",children:[o.jsx(vet,{showTooltip:R,sourceUrl:T,className:U("border-token-border-default bg-primary relative overflow-hidden border",m==="xl"&&"rounded-xl",m==="2xl"&&"rounded-2xl",p),tooltipContent:j,onClick:L,children:w&&!u?o.jsxs("div",{className:U("h-14.5 w-14.5",n&&"h-36 w-36"),children:[S,b&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/5 text-white",children:o.jsx(Ru,{percentage:i,className:"h-6 w-6"})})]}):I&&(O!=null&&O.length)?o.jsx(get,{trigger:H,content:O}):H}),o.jsxs("div",{className:"absolute end-1.5 top-1.5 inline-flex gap-1",children:[n&&e&&o.jsx(Aq,{onClick:V=>{V.stopPropagation(),V.preventDefault(),e()},ariaLabel:x.formatMessage(Xm.editImage),large:n,children:o.jsx(hc,{"aria-label":"",className:"icon-sm"})}),t!=null&&o.jsx(Aq,{onClick:t,ariaLabel:x.formatMessage(Xm.removeFile),large:n,children:o.jsx(bu,{"aria-label":"",className:"icon-sm"})})]})]})}var KZ;const Yce=Ge.span(KZ||(KZ=qe(["flex items-center h-full w-full justify-center bg-gray-500 dark:bg-gray-700 bg-cover bg-center text-white"])));function fet(){return o.jsx(Yce,{})}function met({file:t,fileId:e,gizmoId:n,contextConnectorInfo:r}){const s=Z(),a=Li(t)?t.name:t,i=Qce(Li(t)?t:null,a,e,n,r);return i==null?o.jsx(fet,{}):o.jsx(jce,{src:i,alt:s.formatMessage(Xm.userUploadedImage),contextConnectorSourceUrl:r==null?void 0:r.sourceUrl,className:"h-full w-full",children:o.jsx(Yce,{style:{backgroundImage:"url(".concat(i,")")}})})}function pet({file:t,isExpandableTextFile:e}){const[n,r]=g.useState(void 0);return g.useEffect(()=>{if(e&&Li(t)){const s=new FileReader;s.addEventListener("load",()=>{const a=s.result;r(typeof a=="string"?a:void 0)}),s.readAsText(t)}},[e,t]),n}function get({trigger:t,content:e}){return o.jsxs(qu,{children:[o.jsx(EM,{className:"h-full w-full text-start",children:t}),o.jsx(zu,{children:o.jsxs(b0,{className:"radix-state-open:animate-show fixed inset-0 flex items-center justify-center overflow-hidden bg-black/90 dark:bg-black/80",children:[o.jsx(C0,{asChild:!0,children:o.jsx("button",{className:"absolute end-4 top-4",children:o.jsx(lr,{className:"h-5 w-5 text-gray-100"})})}),o.jsx(_f,{className:"radix-state-open:animate-contentShow shadow-xl focus:outline-hidden",children:o.jsx("div",{className:U("relative max-h-[85vh] max-w-[90vw] overflow-scroll bg-white p-10 dark:bg-gray-800"),children:o.jsx(ar,{children:e})})})]})})]})}const M2=new Map,het=100;function Qce(t,e,n,r,s,a=!1){const[i,l]=g.useState(void 0),c=q(),u=Fs(c).flags,d=u==null?void 0:u.includes(Rg.NoAuthEnableFileUploads);return g.useEffect(()=>{if(!a&&s&&n!=null)Pq({fileId:n,gizmoId:r,setUri:l});else if(!s&&(t!=null&&t.type.startsWith("image/")))if(d){const f=URL.createObjectURL(t);return l(f),()=>{URL.revokeObjectURL(f)}}else{const f=new FileReader;f.addEventListener("load",()=>{const m=f.result;l(typeof m=="string"?m:void 0)}),f.readAsDataURL(t)}else!a&&e&&uc(e)&&n!=null?Pq({fileId:n,gizmoId:r,setUri:l}):l(void 0)},[t,e,n,r,s,a,d]),i}async function Pq({fileId:t,gizmoId:e,setUri:n}){try{const r=M2.get(t);if(r){n(r);return}const s=await Tf(t,e);s.status===Ro.Success?(M2.size>het&&M2.clear(),M2.set(t,s.download_url),n(s.download_url)):ve.addError("Error fetching URL for file ".concat(t,": ").concat(s.status))}catch(r){ve.addError(new Error("Error fetching URL for file ".concat(t,")"),{cause:r}))}}const Xm=pe({removeFile:{id:"FileTile.removeFile",defaultMessage:"Remove file"},editImage:{id:"FileTile.editImage",defaultMessage:"Edit image"},userUploadedImage:{id:"FileTile.userUploadedImage",defaultMessage:"User uploaded image"},uploadedImage:{id:"FileTile.uploadedImage",defaultMessage:"Uploaded an image"},uploadedFile:{id:"FileTile.uploadedFile",defaultMessage:"Uploaded a file"}});function vet({showTooltip:t,sourceUrl:e,children:n,className:r,onClick:s,tooltipContent:a}){var u;const i=xQ();if(!e&&!a)return o.jsx("div",{className:r,children:n});const l=o.jsx("a",{href:e,target:"_blank",rel:"noreferrer",onClick:s,className:"cursor-pointer",children:o.jsx("div",{className:r,children:n})});if(!t||!i)return l;const c=(u=a!=null?a:e)!=null?u:"";return o.jsx(wt,{wide:!0,interactive:!0,label:o.jsxs("a",{href:e,target:"_blank",className:"flex w-full items-center gap-2",rel:"noreferrer",children:[o.jsx("p",{className:"line-clamp-1 flex-1 text-ellipsis",children:yet(c)}),e&&o.jsx(ba,{className:"icon-sm"})]}),side:"top",children:l})}function yet(t){return t.split("").join("â")}const xet=Je(()=>Ve(()=>import("./gbd597xrr5jydret.js").then(t=>t.A),__vite__mapDeps([104,1,4,5,105,12,39,106,107,108])).then(t=>t.default));var YZ;const bet=Ge.div(YZ||(YZ=qe(["flex gap-2 flex-wrap mt-1 max-w-[80%] justify-end"])));var QZ;const Cet=Ge.div(QZ||(QZ=qe(["flex flex-col gap-2"]))),DEt=({parts:t,attachments:e,isUserTurn:n,clientThreadId:r})=>{const s=Us(),a=cet(),i=Io.getImageAssetPointersFromParts(t),l=new Set(i.map(p=>bs(p.asset_pointer))),u=G6()||s,d=(e!=null?e:[]).filter(p=>_ge(p.name)),f=(e!=null?e:[]).filter(p=>p.id==null||l.has(p.id)?!1:a?!d.includes(p):!0);return(a?(f.length>0||d.length>0)&&n:f.length>0&&n)?o.jsxs(o.Fragment,{children:[o.jsx(bet,{children:f.map(p=>o.jsx(Kce,{file:p.name,fileId:p.id,contextConnectorInfo:wge(p.context_connector_info),width:s?"normal":"wide",alwaysShowData:!0,isUserTurn:n,clientThreadId:r},p.id))}),o.jsx(Ole,{featureType:_l.ATTACHMENT,isUserTurn:n,clientThreadId:r}),a&&o.jsx(Cet,{className:U(!u&&!0&&"w-[80%]"),children:d.map(p=>o.jsx(xet,{clientThreadId:r,visualization:iet(p)},p.id))})]}):null},DN=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.4183 9.99967C16.4181 6.45518 13.5448 3.58188 10.0003 3.58171C7.96895 3.58171 6.15935 4.52712 4.98273 6.00163H7.50031L7.6341 6.0153C7.93707 6.07735 8.16535 6.34535 8.16535 6.66667C8.16535 6.98799 7.93707 7.25598 7.6341 7.31803L7.50031 7.33171H3.75031C3.73055 7.33171 3.71104 7.32656 3.69172 7.32487C3.68913 7.32464 3.68649 7.32513 3.68391 7.32487C3.64304 7.32082 3.60409 7.31254 3.56574 7.30143C3.56188 7.30031 3.55788 7.2997 3.55402 7.2985C3.51366 7.286 3.47546 7.27023 3.43879 7.25065L3.43586 7.24967C3.43444 7.24891 3.43337 7.24752 3.43195 7.24675C3.35757 7.20587 3.29219 7.15262 3.23859 7.08757C3.23505 7.08329 3.23128 7.07923 3.22785 7.07487C3.20549 7.04631 3.1858 7.01609 3.16828 6.98405C3.16491 6.97791 3.16169 6.97173 3.15852 6.9655C3.14408 6.93698 3.13265 6.90732 3.12238 6.87663C3.11744 6.86205 3.11264 6.84757 3.10871 6.83268C3.10316 6.81117 3.09843 6.78955 3.09504 6.76725C3.09108 6.74233 3.08833 6.71738 3.08723 6.69206C3.08691 6.68361 3.08527 6.67519 3.08527 6.66667V2.91667C3.08527 2.5494 3.38304 2.25163 3.75031 2.25163C4.11743 2.2518 4.41535 2.54951 4.41535 2.91667V4.62956C5.82462 3.16447 7.80565 2.25163 10.0003 2.25163C14.2793 2.2518 17.7482 5.72065 17.7484 9.99967C17.7484 14.2789 14.2794 17.7485 10.0003 17.7487C6.02899 17.7487 2.75629 14.7612 2.305 10.9108L2.96516 10.8337L3.62531 10.7555C3.99895 13.9437 6.7115 16.4186 10.0003 16.4186C13.5449 16.4184 16.4183 13.5443 16.4183 9.99967ZM2.88801 10.1725C3.25252 10.13 3.58237 10.3911 3.62531 10.7555L2.305 10.9108C2.26225 10.546 2.52323 10.2153 2.88801 10.1725Z"})),FEt=Object.freeze(Object.defineProperty({__proto__:null,default:DN},Symbol.toStringTag,{value:"Module"})),Jce=-1,P4=0,Bh=1,Uh=2,FN=3,BN=4,UN=5,HN=6,Xce=7,eue=8,Iq=typeof self=="object"?self:globalThis,_et=(t,e)=>{const n=(s,a)=>(t.set(a,s),s),r=s=>{if(t.has(s))return t.get(s);const[a,i]=e[s];switch(a){case P4:case Jce:return n(i,s);case Bh:{const l=n([],s);for(const c of i)l.push(r(c));return l}case Uh:{const l=n({},s);for(const[c,u]of i)l[r(c)]=r(u);return l}case FN:return n(new Date(i),s);case BN:{const{source:l,flags:c}=i;return n(new RegExp(l,c),s)}case UN:{const l=n(new Map,s);for(const[c,u]of i)l.set(r(c),r(u));return l}case HN:{const l=n(new Set,s);for(const c of i)l.add(r(c));return l}case Xce:{const{name:l,message:c}=i;return n(new Iq[l](c),s)}case eue:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s)}return n(new Iq[a](i),s)};return r},Lq=t=>_et(new Map,t)(0),N1="",{toString:wet}={},{keys:ket}=Object,km=t=>{const e=typeof t;if(e!=="object"||!t)return[P4,e];const n=wet.call(t).slice(8,-1);switch(n){case"Array":return[Bh,N1];case"Object":return[Uh,N1];case"Date":return[FN,N1];case"RegExp":return[BN,N1];case"Map":return[UN,N1];case"Set":return[HN,N1]}return n.includes("Array")?[Bh,n]:n.includes("Error")?[Xce,n]:[Uh,n]},E2=([t,e])=>t===P4&&(e==="function"||e==="symbol"),Met=(t,e,n,r)=>{const s=(i,l)=>{const c=r.push(i)-1;return n.set(l,c),c},a=i=>{if(n.has(i))return n.get(i);let[l,c]=km(i);switch(l){case P4:{let d=i;switch(c){case"bigint":l=eue,d=i.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return s([Jce],i)}return s([l,d],i)}case Bh:{if(c)return s([c,[...i]],i);const d=[],f=s([l,d],i);for(const m of i)d.push(a(m));return f}case Uh:{if(c)switch(c){case"BigInt":return s([c,i.toString()],i);case"Boolean":case"Number":case"String":return s([c,i.valueOf()],i)}if(e&&"toJSON"in i)return a(i.toJSON());const d=[],f=s([l,d],i);for(const m of ket(i))(t||!E2(km(i[m])))&&d.push([a(m),a(i[m])]);return f}case FN:return s([l,i.toISOString()],i);case BN:{const{source:d,flags:f}=i;return s([l,{source:d,flags:f}],i)}case UN:{const d=[],f=s([l,d],i);for(const[m,p]of i)(t||!(E2(km(m))||E2(km(p))))&&d.push([a(m),a(p)]);return f}case HN:{const d=[],f=s([l,d],i);for(const m of i)(t||!E2(km(m)))&&d.push(a(m));return f}}const{message:u}=i;return s([l,{name:c,message:u}],i)};return a},Rq=(t,{json:e,lossy:n}={})=>{const r=[];return Met(!(e||n),!!e,new Map,r)(t),r},yu=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Lq(Rq(t,e)):structuredClone(t):(t,e)=>Lq(Rq(t,e)),tue=function(t){if(t==null)return Tet;if(typeof t=="string")return jet(t);if(typeof t=="object")return Eet(t);if(typeof t=="function")return VN(t);throw new Error("Expected function, string, or array as `test`")};function Eet(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=tue(t[n]);return VN(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function jet(t){return VN(e);function e(n){return n.tagName===t}}function VN(t){return e;function e(n,r,s){return!!(Net(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function Tet(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function Net(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const Aet=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,Pet=/^[a-zA-Z]:\\/;function Iet(t){if(typeof t!="string")throw new TypeError("Expected a `string`, got `".concat(typeof t,"`"));return Pet.test(t)?!1:Aet.test(t)}function Let(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Ret(t){return t.join(" ").trim()}const Oet=["http","https"],Det=["nofollow"],Fet={};function BEt(t){const e=t||Fet,n=e.protocols||Oet,r=tue(e.test);return function(s){Qu(s,"element",function(a,i,l){if(a.tagName==="a"&&typeof a.properties.href=="string"&&r(a,i,l)){const c=a.properties.href;if(Iet(c)?n.includes(c.slice(0,c.indexOf(":"))):c.startsWith("//")){const u=Mm(e.content,a),d=u&&!Array.isArray(u)?[u]:u,f=Mm(e.rel,a)||Det,m=typeof f=="string"?Let(f):f,p=Mm(e.target,a),h=Mm(e.properties,a);if(h&&Object.assign(a.properties,yu(h)),m.length>0&&(a.properties.rel=[...m]),p&&(a.properties.target=p),d){const v=Mm(e.contentProperties,a)||{};a.children.push({type:"element",tagName:"span",properties:yu(v),children:yu(d)})}}}})}}function Mm(t,e){return typeof t=="function"?t(e):t}const Bet=v0(()=>({images:new Set})),Uet=t=>vf(Bet,t);function Het(){return Uet(t=>t.images)}function UEt({messages:t}){const e=JIe(t),n=Het();return e.length===0?null:o.jsx("div",{className:U({"mb-2":!0,"grid grid-flow-col gap-3":e.length>1,"w-1/3":e.length===1}),children:e.filter(({contentUrl:r})=>n.has(r)).map((r,s)=>o.jsx("a",{href:r.hostPageUrl,target:"_blank",rel:"noreferrer",children:o.jsx("img",{src:r.contentUrl,alt:r.name,className:"aspect-square rounded-xl object-cover"})},s))})}const Vet="_slideUp_1kuxv_21",HEt={slideUp:Vet};function c1({axis:t,debounce:e,initialSize:n=!0,onChange:r,target:s}){if(!s)return;let a=new AbortController,i=null,l=null,c=n;const u=new ResizeObserver(f=>{f.forEach(m=>{const{width:p,height:h}=$et(m);let v=!1;if(t==="width"){const y=(c||i!=null)&&i!==p;i=p,y&&(v=!0)}else if(t==="height"){const y=(c||l!=null)&&l!==h;l=h,y&&(v=!0)}else if(t==="both"){const y=(c||i!=null)&&i!==p,x=(c||l!=null)&&l!==h;i=p,l=h,(y||x)&&(v=!0)}if(c=!1,v)if(!e)r({width:p,height:h,previousWidth:i,previousHeight:l},m);else{a.abort(),a=new AbortController;const y=a.signal;requestAnimationFrame(()=>{y.aborted||r({width:p,height:h,previousWidth:i,previousHeight:l},m)})}})});function d(){try{u.disconnect()}catch(f){}}return u.observe(s),d}function $et(t){let e,n;if(t.borderBoxSize){const r=Array.isArray(t.borderBoxSize)?t.borderBoxSize[0]:t.borderBoxSize;e=r.inlineSize,n=r.blockSize}else e=t.contentRect.width,n=t.contentRect.height;return{width:e,height:n}}function VEt(t){return e=>c1(P(C({},t),{target:e}))}function $Et({containsImagesOrAttachments:t,isMaxWidthMessage:e=!1,children:n}){const r=g.useRef(!1);return o.jsx("div",{className:U("user-message-bubble-color relative rounded-[18px] px-4 py-1.5 data-[multiline]:py-3",t&&"rounded-se-lg",e?"w-full":"max-w-[var(--user-chat-width,70%)]"),ref:s=>c1({axis:"height",target:s,onChange:({height:a})=>{if(s){const i=parseFloat(getComputedStyle(document.documentElement).fontSize),l=2*(r.current?12:6);r.current=a>1.5*i+l,Ti(s,"data-multiline",r.current)}}}),children:n})}function qet(){return o.jsx(Se.div,{className:"absolute flex h-8 w-3 origin-center items-center justify-center",initial:{scale:1,opacity:1},animate:{scale:0,opacity:0},transition:{ease:"easeInOut",duration:.2},children:o.jsx("div",{className:"bg-token-text-primary h-3 w-3 rounded-full"})})}const YS={favicons:[]};function zet(t,e){const n=new Set,r=[];for(const s of[...t,...e])n.has(s.url)||(r.push(s),n.add(s.url));return r}const Get=t=>({entries:{},updateFromEvent:(e,n)=>t(r=>{var i,l;const s=(i=r.entries[e])!=null?i:YS,a=P(C({},s),{favicons:zet(s.favicons,(l=n.data.favicons)!=null?l:[])});return{entries:P(C({},r.entries),{[e]:a})}})}),Oq=xM()(Get,bf);function Wet(t){const e=Oq(r=>{var s,a;return t==null?YS.favicons:(a=(s=r.entries[t])==null?void 0:s.favicons)!=null?a:YS.favicons}),n=g.useCallback(({ctx:r,profiler:s})=>{if(!t||t.trim().length===0||!Ki(r).checkGate("948657827",{disableExposureLog:!0}))return;(async()=>{var d,f,m;s==null||s.logTimingOnce("fetch_favicons_stream_called");const l=Ao("".concat(ss,"/favicons"),{ctx:r,method:"POST",headers:C({},gj()),body:{query:t}});let c=!1,u=!1;try{for(var p=Xn(l),h,v,y;h=!(v=await p.next()).done;h=!1){const x=v.value;u||(u=!0,s==null||s.logTimingOnce("fetch_favicons_stream_first_event"));const b=x;b.event==="favicons"&&(Oq.getState().updateFromEvent(t,{event:"favicons",data:{favicons:(d=b.data.favicons)!=null?d:[]}}),!c&&((m=(f=b.data.favicons)==null?void 0:f.length)!=null?m:0)>0&&(c=!0,s==null||s.logTimingOnce("fetch_favicons_first_link_fetched_client")))}}catch(v){y=[v]}finally{try{h&&(v=p.return)&&await v.call(p)}finally{if(y)throw y[0]}}})().catch(()=>{})},[t]);return{favicons:e,load:n}}const Zet=g.createContext(!1);var OC,Dq;function nue(){if(Dq)return OC;Dq=1;function t(e,n,r){var s=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+n];return i}return OC=t,OC}var DC,Fq;function Ket(){if(Fq)return DC;Fq=1;var t=nue(),e=Bj(),n=cQ(),r=Math.ceil,s=Math.max;function a(i,l,c){(c?e(i,l,c):l===void 0)?l=1:l=s(n(l),0);var u=i==null?0:i.length;if(!u||l<1)return[];for(var d=0,f=0,m=Array(r(u/l));d<u;)m[f++]=t(i,d,d+=l);return m}return DC=a,DC}var Yet=Ket();const Qet=St(Yet),Bq=3;function Jet({navigation:t,trackContentReferenceEvent:e}){const[n,r]=g.useState(!1),[s,a]=g.useState(0),i=t.domains.filter(m=>m.url);g.useEffect(()=>{e("Search Content Reference Shown","search_content_reference_shown",t.type,{urls:i.map(m=>m.url).join(",")})},[i]);const l=Fu(),c=ett(i.length,!l),u=n?Qet(i,c):[i.slice(0,Bq)];function d(){return i.length<=Bq?null:s===0&&!n?o.jsx(FC,{onClick:()=>r(!0),className:"shrink-0 text-sm whitespace-nowrap",children:o.jsx(N,{id:"B5xwY8",defaultMessage:"More links"})}):o.jsx(FC,{onClick:()=>a(s-1),className:"shrink-0 text-sm whitespace-nowrap",disabled:s===0,children:o.jsx(N,{id:"Q0o6pZ",defaultMessage:"{icon} Previous",values:{icon:o.jsx(e3,{className:"icon-sm -ms-1 -me-1"})}})})}function f(){return n?o.jsx(FC,{onClick:()=>a(s+1),className:"shrink-0 text-sm whitespace-nowrap",disabled:s>=u.length-1,children:o.jsx(N,{id:"N4c5Xd",defaultMessage:"Next {icon}",values:{icon:o.jsx(ji,{className:"icon-sm -ms-1 -me-1"})}})}):null}return o.jsxs("div",{className:"not-prose mb-3",children:[o.jsx(Se.div,{initial:!1,animate:{maxHeight:n?1e3:250,opacity:1},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:o.jsx("div",{className:"flex transition-transform",style:{transform:"translateX(-".concat(s*100,"%)")},children:u.map((m,p)=>o.jsx("div",{className:"flex flex-[0_0_100%] shrink-0 flex-col gap-6",children:m.map((h,v)=>o.jsx(Xet,{navigationDomain:h,trackContentReferenceEvent:e,analyticsMetadata:{section_index:v}},h.url))},p))})}),o.jsx("div",{className:"mt-6 flex flex-col gap-6",children:o.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-3",children:[d(),o.jsx("div",{className:"bg-token-bg-tertiary h-[1px] w-full flex-1"}),f()]})})]})}function Xet({navigationDomain:t,trackContentReferenceEvent:e,analyticsMetadata:n}){var r;return g.useEffect(()=>{e("link_action",null,"navigation",{url:t.url,title:t.title,link_type:"card",action:"show",section:"fast_nav",section_location:"response",section_index:n.section_index})},[]),o.jsxs(wr,{className:"flex flex-col hover:underline",href:t.url,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nn,{url:t.url,size:32,applySizeToImg:!0,className:"icon-xs rounded-full",showLoadingAnimation:!0}),o.jsx("div",{className:"text-token-text-secondary text-xs",children:(r=t.attribution)!=null?r:t.subtitle})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-token-text-primary text-sm",children:t.title}),t.snippet&&o.jsx("div",{className:"text-token-text-secondary line-clamp-1 w-full text-sm",children:t.snippet})]})]})}function ett(t,e){const n=e?[5,6]:[6,7,8];let r=n[0],s=-1;for(let a=0;a<n.length;a++){const i=n[a],l=t%i;if(l===0)return i;l>s&&(s=l,r=i)}return r}var JZ;const FC=Ge.button(JZ||(JZ=qe(["\n    shrink-0\n    text-sm\n    whitespace-nowrap\n    flex\n    items-center\n    gap-1\n    text-token-text-secondary\n    hover:text-token-text-primary\n    disabled:opacity-50\n    disabled:hover:text-token-text-secondary\n  "]))),ttt=g.createContext(null),BC=3,ntt=3;function rtt({navigation:t,onShowSearchResults:e,trackContentReferenceEvent:n}){const r=q(),s=ie(r,"4111922784"),a=g.useContext(ttt)==="user-query-with-navlink",i=g.useContext(Zet);return o.jsx("div",{className:U({hidden:i&&a}),children:s?o.jsx(Jet,{navigation:t,trackContentReferenceEvent:n}):o.jsx(stt,{navigation:t,onShowSearchResults:e,trackContentReferenceEvent:n})})}function stt({navigation:t,onShowSearchResults:e,trackContentReferenceEvent:n}){const r=t.domains.filter(i=>i.url);g.useEffect(()=>{n("Search Content Reference Shown","search_content_reference_shown",t.type,{urls:r.map(i=>i.url).join(",")})},[r]);const s=r.slice(0,BC),a=r.slice(BC,BC+ntt);return o.jsxs("div",{className:"not-prose mb-3 flex gap-2",children:[s.map((i,l)=>o.jsx(ott,{isPrimaryDomain:l===0,isFistLineDomain:!0,navigationDomain:i,trackContentReferenceEvent:n,analyticsMetadata:{section_index:l}},i.url)),a.length>0&&o.jsx(att,{onShowSearchResults:e,trackContentReferenceEvent:n,moreDomains:a})]})}const att=({onShowSearchResults:t,trackContentReferenceEvent:e,moreDomains:n})=>o.jsx(rue,{component:"div",className:"group flex w-28 cursor-pointer",onClick:()=>{e("Search Content Reference Clicked","search_content_reference_clicked","navigation",{sidebar:"sidebar"}),t(fce.Sources,vd.Links)},children:o.jsxs("div",{className:"flex min-w-0 flex-col",children:[o.jsx("div",{className:"flex items-center",children:n.map((r,s)=>o.jsx("div",{style:{zIndex:n.length-s},className:"ms-[-6px] first:ms-0",children:o.jsx("div",{className:U("flex h-4 w-4 items-center overflow-hidden rounded-full","border-token-bg-primary bg-token-bg-primary group-hover:border-token-bg-tertiary border-2"),children:o.jsx(Nn,{url:r.url,size:32,minSize:20,className:"icon-xs rounded-full",showLoadingAnimation:!0})},r.url)},r.url))}),o.jsx("div",{className:"text-token-text-primary flex text-sm font-semibold",children:o.jsx("span",{className:"truncate",children:o.jsx(N,{id:"B5xwY8",defaultMessage:"More links"})})})]})}),ott=({isPrimaryDomain:t,isFistLineDomain:e,navigationDomain:n,trackContentReferenceEvent:r,analyticsMetadata:s})=>{var a;return g.useEffect(()=>{r("link_action",null,"navigation",{url:n.url,title:n.title,link_type:"card",action:"show",section:"fast_nav",section_location:"response",section_index:s.section_index})},[]),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx(itt,{isFistLineDomain:e,isPrimaryDomain:t,title:n.title,subtitle:(a=n.subtitle)!=null?a:void 0,url:n.url,domain:n.domain,subDomains:n.sub_domains,trackContentReferenceEvent:r,analyticsMetadata:s})})},itt=({isFistLineDomain:t,title:e,subtitle:n,url:r,trackContentReferenceEvent:s,analyticsMetadata:a})=>{const i={url:r,title:e,link_type:"card",section:"fast_nav",section_location:"response",section_index:a.section_index},l=pr(oQ())?"_self":"_blank";return o.jsxs(rue,{component:wr,href:r,target:l,onClick:()=>s("link_action",null,"navigation",P(C({},i),{action:"click"})),onMouseEnter:()=>{s("link_action",null,"navigation",P(C({},i),{action:"hover"}))},className:"flex flex-col gap-[2px]",children:[o.jsxs("div",{className:"text-token-text-secondary flex items-center gap-[6px] text-xs",children:[o.jsx(Nn,{url:r,size:32,applySizeToImg:!0,className:"icon-xs rounded-full",showLoadingAnimation:!0}),o.jsx("div",{className:"truncate",children:n})]}),o.jsx("div",{className:U("text-token-text-primary flex items-center font-medium",t?"text-sm":"text-xs"),children:o.jsx("span",{className:"truncate",children:e})})]})},rue=s=>{var a=s,{component:t,children:e,className:n}=a,r=de(a,["component","children","className"]);return o.jsx(t,P(C({},r),{className:U("hover:bg-token-bg-tertiary border-token-border-light rounded-2xl border px-4 py-3",n),children:e}))},ltt=(t,e)=>t==="Search Content Reference Shown"||t==="Contextual Answers Content Reference Shown"||t==="Search Content Reference Failed"||t==="link_action"&&(e==null?void 0:e.action)==="show"||t==="product_offer"&&(e==null?void 0:e.action)==="shown",ctt=(t,e,n)=>C(P(C({},Pt(e)),{type:t}),n?dtt(n):{}),utt=["section_index","product_index","offer_index"],dtt=t=>Object.fromEntries(Object.entries(t!=null?t:{}).map(([e,n])=>[e,utt.includes(e)&&n!==void 0?(Number(n)+1).toString():String(n)]));function ftt(t){var r;const e=(r=g.useContext(l3))==null?void 0:r.serverSharedThreadId;return g.useMemo(()=>{const[s,a]=t.split("?"),i=new URLSearchParams(a!=null?a:"");return e&&i.set("shared_conversation_id",e),i.size?s+"?"+i.toString():s},[t,e])}function sue(t){const e=g.useRef(new Set);return g.useCallback((n,r,s,a,i)=>{if(t&&t.messageId&&mtt(t.messageId)){const l=ctt(s,t,a),c="".concat(n,"-").concat(JSON.stringify(l));(!e.current.has(c)||!ltt(n,a))&&(e.current.add(c),r?B.logEventWithStatsig(n,r,l):B.logEvent(n,l),i==null||i(t))}},[t])}const mtt=t=>!t.startsWith(Sge)&&!t.startsWith(yM),aue=We.DesktopBrowserExtensionAnnouncement,oue=We.DesktopBrowserExtensionReactiveAnnouncement,ptt=5,gtt="https://chromewebstore.google.com/detail/searchgpt/ejcfepkfckglbgocfkanmcdngdijcgld";function htt({announcementKey:t=aue,onClose:e}){g.useEffect(()=>{B.logEventWithStatsig("ChatGPT Browser Extension: Announcement Shown","chatgpt_browser_extension_announcement_shown")},[]);const{markAsViewed:n}=$e(t),r=g.useCallback(()=>{n(),B.logEventWithStatsig("ChatGPT Browser Extension: Announcement Closed","chatgpt_browser_extension_announcement_closed"),e&&e()},[n,e]),s=g.useCallback(()=>{B.logEventWithStatsig("ChatGPT Browser Extension: CTA Clicked","chatgpt_browser_extension_announcement_cta_clicked"),n(),e&&e()},[n,e]);return o.jsx(vtt,{downloadUrl:gtt,announcementKey:t,handleCTAClicked:s,handleClose:r})}function qEt({onClose:t}){return htt({announcementKey:oue,onClose:t})}function vtt({downloadUrl:t,announcementKey:e,handleCTAClicked:n,handleClose:r}){const s=()=>{n(),window.open(t)},a=o.jsxs("div",{className:"grow",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:o.jsx(N,{id:"uAZwaE",defaultMessage:"Use ChatGPT for every search"})}),o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(N,{id:"+wTq4L",defaultMessage:"Download the Chrome extension to switch your default search engine to ChatGPT, and get instant answers from trusted sources with every search."})})]});return o.jsx(xn,{onPrimaryCtaClick:s,primaryCtaText:o.jsx(N,{id:"x9mKG0",defaultMessage:"Get Extension"}),onDismiss:()=>r(e),content:a})}function iue(t){const e=bQ(()=>document.documentElement.dataset.searchExtension==="1"),n=S0(t.clientThreadId),r=id(n,ou.Search),s=zo(),a=!(s!=null&&s.includes(Dr.SearchToolHoldout)),{userIsInSearchHoldoutWithWebDisabled:i}=CQ(),l=pr();return kge()&&!l&&!e&&r&&a&&!i}function zEt(t){return iue(t),xtt(),$e(aue),!1}function GEt(t){var i;const e=iue(t),n=Te(t.clientThreadId,l=>Gu(se.getConversationTurns(l),c=>c.role===Ue.User));let r=!1;const s=n==null?void 0:n.messages[0];if((s==null?void 0:s.content.content_type)===rt.Text){const l=(i=s==null?void 0:s.content.parts[0])==null?void 0:i.toLowerCase();l&&(r=l.includes("chrome extension")||l.includes("default search"))}const a=$e(oue);return a.eligible&&!a.isLoading&&e&&r}function ytt(t){var n;const e=(n=Ft.getItem(et.SearchSettings))!=null?n:{};e.hasSearchedMinTimes||(e.searchMessageIds||(e.searchMessageIds=[]),e.searchMessageIds.includes(t)||(e.searchMessageIds.push(t),e.searchMessageIds.length>=ptt&&(e.hasSearchedMinTimes=!0,delete e.searchMessageIds),Ft.setItem(et.SearchSettings,e)))}function xtt(){var e;return((e=Ft.getItem(et.SearchSettings))!=null?e:{}).hasSearchedMinTimes===!0}var u1=(t=>(t.SonicBusinessesMap="sonic.web.businessesMap",t.CompletionRequest="chatgpt.web.completionRequest",t.GetDiffedDoc="chatgpt.web.canvas.getDiffedDoc",t.ProductsCompletionRequest="chatgpt.web.products.completionRequest",t.ProductSidebar="chatgpt.web.products.sidebar",t.SuperWidget="chatgpt.web.super_widget",t.SearchingState="chatgpt.web.searchingState",t))(u1||{});class $N{constructor(e,n){Q(this,"namespace");Q(this,"expectedTimingLogs");Q(this,"expectedTimingLogTimeouts",{});Q(this,"startMs",-1);Q(this,"lastLogMs",-1);Q(this,"loggedTimings",new Set);Q(this,"timingBlocks",{});Q(this,"_debug",!1);Q(this,"context");var r,s,a;this.namespace=e,this.expectedTimingLogs=(r=n==null?void 0:n.expectedTimingLogs)!=null?r:[],this._debug=(s=n==null?void 0:n.debug)!=null?s:!1,this.context=(a=n==null?void 0:n.context)!=null?a:{},this.reset()}reset(e){this.startMs=this.lastLogMs=e!=null?e:performance.now(),this.timingBlocks={},this.loggedTimings=new Set;for(const n of Object.values(this.expectedTimingLogTimeouts))clearTimeout(n);this.expectedTimingLogTimeouts={};for(const n of this.expectedTimingLogs){const r=setTimeout(()=>{var s;ve.addAction("".concat(this.namespace,".").concat(n.name,".timed_out"),(s=n.initializationInfo)!=null?s:{})},n.expectedInMs);this.expectedTimingLogTimeouts[n.name]=r,this.isDebug()&&console.debug("[DatadogProfiler] Expecting ".concat(this.namespace,".").concat(n.name," to be logged within ").concat(n.expectedInMs,"ms"))}}isDebug(){var e;return(e=window.__DATADOG_PROFILER_DEBUG__)!=null?e:this._debug}getStartTime(){return this.startMs}logTimingOnce(e,n={fromLastLog:!1}){var a;if(this.loggedTimings.has(e)){this.isDebug()&&console.warn("[DatadogProfiler] Timing ".concat(this.namespace,".").concat(e," already logged"));return}const r=performance.now(),s=(a=n.overrideDurationMs)!=null?a:r-(n.fromLastLog?this.lastLogMs:this.startMs);return ve.addAction("".concat(this.namespace,".").concat(e),P(C(C({},this.context),n.context),{durationMs:s})),this.lastLogMs=r,this.loggedTimings.add(e),e in this.expectedTimingLogTimeouts&&(clearTimeout(this.expectedTimingLogTimeouts[e]),delete this.expectedTimingLogTimeouts[e]),this.isDebug()&&console.debug("[DatadogProfiler] ".concat(this.namespace,".").concat(e,": ").concat(s,"ms")),s}startBlock(e){this.timingBlocks[e]=performance.now()}endBlock(e,n={throwError:!0}){const r=this.timingBlocks[e];if(r===void 0&&n.throwError)throw new Error('Block "'.concat(e,'" not started'));const s=performance.now()-r;ve.addAction("".concat(this.namespace,".").concat(e),P(C(C({},this.context),n.context),{durationMs:s})),delete this.timingBlocks[e]}}const Hh={};function btt({namespace:t,opts:e}){return Hh[t]!==void 0&&ve.addError("Profiler already exists for namespace ".concat(t)),Hh[t]=new $N(t,e)}function k3({namespace:t,opts:e}){let n=Hh[t];return n===void 0&&(n=Hh[t]=btt({namespace:t,opts:e})),n}function lue(t){"use forget";const e=ee.c(11),{namespace:n,clientThreadId:r}=t,[s,a]=g.useState(!1);let i;e[0]!==n?(i=()=>k3({namespace:n,opts:{debug:!1}}),e[0]=n,e[1]=i):i=e[1];const[l]=g.useState(i),c=Te(r,Ctt),u=eo(c);let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=new Set,e[2]=d):d=e[2];const f=g.useRef(d),m=q();let p,h;e[3]!==m||e[4]!==l||e[5]!==c?(p=()=>{if(c&&!f.current.has(c)){f.current.add(c);const x=a_e(m,c);x&&(l.reset(x.turnTracker.promptSentTimestamp),a(!0))}},h=[c,l,m],e[3]=m,e[4]=l,e[5]=c,e[6]=p,e[7]=h):(p=e[6],h=e[7]),g.useEffect(p,h);const v=s?l:null;let y;return e[8]!==u||e[9]!==v?(y={profiler:v,isRequestActive:u},e[8]=u,e[9]=v,e[10]=y):y=e[10],y}function Ctt(t){return se.getRequestId(t)}const _tt="5.7.5",wtt=100,Stt=0,ktt=350,Mtt=24,Ett=24,jtt="Comp 1",Ttt=0,Ntt=[],Att=[{ddd:0,ind:1,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Path",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[8.6485975,.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[.561517499999999,12.10510526872112],[.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168]],i:[[0,0],[.3205000000000009,-.3204799999999999],[.7432999999999996,-.7433100000000001],[-.7487000000000013,-.7487000000000013],[-.7487000000000013,.7486999999999995],[-.7433000000000014,.743310000000001],[-.09659999999999869,-.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,.7885999999999989],[.7616466666666675,-.7616333333333323],[.7486899999999999,.7486999999999995],[-.7486899999999999,.7487000000000013],[-.7616466666666675,.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-.3585899999999995],[0,0],[0,0]],o:[[.4428000000000001,.09658000000000033],[-.7432999999999996,.7433100000000001],[-.7487000000000013,.7486899999999999],[.7485999999999997,.7486999999999995],[.7432999999999996,-.743310000000001],[.3204999999999991,-.3204799999999999],[.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-.7616466666666675,.761633333333334],[-.7486899999999999,.7486999999999995],[-.7486899999999999,-.7485999999999997],[.7616466666666666,-.7616333333333323],[-.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[.4428000000000001,.09658000000000033]]}}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:0,s:[13.23,10.77154381752014],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[12,12],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[13.23,10.77],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:1,k:[{t:0,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:60,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[121.15,121.15],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[-45],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:167,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:184,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:217,s:[-45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:227,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],i:[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],o:[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{ty:"fl",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:90,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[24,24],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:25,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0}],Ptt=[],Itt={v:_tt,fr:wtt,ip:Stt,op:ktt,w:Mtt,h:Ett,nm:jtt,ddd:Ttt,assets:Ntt,layers:Att,markers:Ptt},Ltt="5.7.5",Rtt=100,Ott=0,Dtt=400,Ftt=24,Btt=24,Utt="Comp 1",Htt=0,Vtt=[],$tt=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],i:[[0,0],[1.166666666666667,-1.944433333333334],[-1.166666666666667,0]],o:[[-1.166666666666666,1.944433333333333],[1.166666666666666,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],o:[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.184650421142578,-1.832367897033691],[0,0],[-1.166666666666667,0]],o:[[1.184650897979736,1.832367539405823],[0,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[3.503000259399414,0],[.003000259399414062,5.83329963684082],[3.503000259399414,5.83329963684082]],i:[[.2074432373046875,-.3626899719238281],[0,0],[-1.166666666666667,0]],o:[[-.2074427604675293,.3626899123191833],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:125,s:[-4.666999816894531,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[-4.67,-4.666650772094727],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[-4.67,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[0,2.3332999999999995],[3.5,0]],i:[[0,0],[-.7981999999999996,1.4169]],o:[[1.4311000000000007,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],i:[[1.169005393981934,0],[.7811636924743652,1.481373190879822]],o:[[-1.169005155563354,0],[-.7811641693115234,-1.481372833251953]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[-2.333999633789062,2.333300590515137],[-5.833999633789062,0]],i:[[1.169005393981934,0],[.7811636924743652,1.481373190879822]],o:[[-1.169005155563354,0],[-.7811641693115234,-1.481372833251953]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[-.003000259399414062,2.333300590515137],[3.496999740600586,0]],i:[[-1.720494270324707,0],[-.6510887145996094,1.120759010314941]],o:[[1.720494627952576,0],[.6510882377624512,-1.120759010314941]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:200,s:[1.166999816894531,2.33335018157959],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[1.17,2.33335018157959],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[.203921568627451,.207843137254902,.2509803921568627],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],qtt=[],ztt={v:Ltt,fr:Rtt,ip:Ott,op:Dtt,w:Ftt,h:Btt,nm:Utt,ddd:Htt,assets:Vtt,layers:$tt,markers:qtt},Gtt="5.7.5",Wtt=100,Ztt=0,Ktt=400,Ytt=24,Qtt=24,Jtt="Comp 1",Xtt=0,ent=[],tnt=[{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:400,st:0,bm:0,hd:!1},{ddd:0,ind:2,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[3.5,0],[0,5.8332999999999995],[3.5,5.8332999999999995]],i:[[0,0],[1.166666666666667,-1.9444333333333343],[-1.166666666666667,0]],o:[[-1.166666666666666,1.9444333333333326],[1.166666666666666,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],o:[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[5.836999893188477,0],[9.336999893188477,5.83329963684082],[5.9886474609375,5.83329963684082]],i:[[-1.1846504211425781,-1.8323678970336914],[0,0],[-1.166666666666667,0]],o:[[1.1846508979797363,1.8323675394058228],[0,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[3.503000259399414,0],[.0030002593994140625,5.83329963684082],[3.503000259399414,5.83329963684082]],i:[[.2074432373046875,-.3626899719238281],[0,0],[-1.166666666666667,0]],o:[[-.2074427604675293,.36268991231918335],[0,0],[0,0]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:125,s:[-4.666999816894531,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[-4.67,-4.666650772094727],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[-4.67,-4.666650772094727],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Path's solid stroke",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:1,k:[{t:125,s:[{c:!1,v:[[0,2.3332999999999995],[3.5,0]],i:[[0,0],[-.7981999999999996,1.4169]],o:[[1.4311000000000007,0],[0,0]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:200,s:[{c:!1,v:[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],i:[[1.1690053939819336,0],[.7811636924743652,1.4813731908798218]],o:[[-1.1690051555633545,0],[-.7811641693115234,-1.4813728332519531]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[{c:!1,v:[[-2.3339996337890625,2.3333005905151367],[-5.8339996337890625,0]],i:[[1.1690053939819336,0],[.7811636924743652,1.4813731908798218]],o:[[-1.1690051555633545,0],[-.7811641693115234,-1.4813728332519531]]}],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:400,s:[{c:!1,v:[[-.0030002593994140625,2.3333005905151367],[3.496999740600586,0]],i:[[-1.720494270324707,0],[-.6510887145996094,1.1207590103149414]],o:[[1.7204946279525757,0],[.6510882377624512,-1.1207590103149414]]}],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2}},{ty:"st",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2.33333,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:200,s:[1.1669998168945312,2.33335018157959],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:325,s:[1.17,2.33335018157959],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:0,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:400,st:0,bm:0}],nnt=[],rnt={v:Gtt,fr:Wtt,ip:Ztt,op:Ktt,w:Ytt,h:Qtt,nm:Jtt,ddd:Xtt,assets:ent,layers:tnt,markers:nnt},snt="5.7.5",ant=100,ont=0,int=350,lnt=24,cnt=24,unt="Comp 1",dnt=0,fnt=[],mnt=[{ddd:0,ind:1,ty:4,nm:"border",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[22,22],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"st",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},w:{a:0,k:2,ix:2},hd:!1,lc:2,lj:2},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Path",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[8.6485975,.1178352687211168],[8.880497499999999,1.074935268721117],[6.6505975,3.304865268721118],[6.6505975,6.016105268721118],[9.3617975,6.016105268721118],[11.5916975,3.786175268721117],[12.5487975,4.018115268721118],[11.1692975,8.727405268721117],[5.5576975,9.820205268721118],[3.272757499999999,12.10510526872112],[.561517499999999,12.10510526872112],[.561517499999999,9.393905268721117],[2.8464575,7.109005268721118],[3.9393075,1.497375268721117],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168],[8.6485975,.1178352687211168]],i:[[0,0],[.3205000000000009,-.3204799999999999],[.7432999999999996,-.7433100000000001],[-.7487000000000013,-.7487000000000013],[-.7487000000000013,.7486999999999995],[-.7433000000000014,.743310000000001],[-.09659999999999869,-.4428200000000011],[1.278300000000002,-1.2783],[1.8610999999999986,.7885999999999989],[.7616466666666675,-.7616333333333323],[.7486899999999999,.7486999999999995],[-.7486899999999999,.7487000000000013],[-.7616466666666675,.7616333333333323],[-1.5171100000000006,1.5171199999999994],[-1.6442,-.3585899999999995],[0,0],[0,0]],o:[[.4428000000000001,.09658000000000033],[-.7432999999999996,.7433100000000001],[-.7487000000000013,.7486899999999999],[.7485999999999997,.7486999999999995],[.7432999999999996,-.743310000000001],[.3204999999999991,-.3204799999999999],[.3585999999999991,1.644189999999998],[-1.5170999999999992,1.5170999999999992],[-.7616466666666675,.761633333333334],[-.7486899999999999,.7486999999999995],[-.7486899999999999,-.7485999999999997],[.7616466666666666,-.7616333333333323],[-.7885500000000008,-1.8611],[1.278289999999998,-1.27829],[0,0],[0,0],[.4428000000000001,.09658000000000033]]}}},{ty:"fl",c:{a:0,k:[.6980392156862745,.3843137254901961,.996078431372549],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:1,k:[{t:0,s:[13.23,10.77154381752014],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[12,12],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[12,12],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[13.23,10.77],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},a:{a:1,k:[{t:0,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[7.559483528137207,5.104858875274658],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},s:{a:1,k:[{t:0,s:[100,100],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:60,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[121.15,121.15],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:227,s:[121.15,121.15],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:100,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:117,s:[-45],i:{x:[.5],y:[1.5]},o:{x:[.8],y:[0]}},{t:167,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:184,s:[45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:217,s:[-45],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:227,s:[-45],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:282,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},o:{a:0,k:100,ix:2},sk:{a:1,k:[{t:0,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}},{t:50,s:[0],i:{x:[.2],y:[1]},o:{x:[.5],y:[-.5]}}],ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,-10],[10,0],[0,10],[-10,0],[0,-10]],i:[[-5.5228475,0],[0,-5.5228475],[5.5228475,0],[0,5.5228475],[-5.5228475,0]],o:[[5.5228475,0],[0,5.5228475],[-5.5228475,0],[0,-5.5228475],[5.5228475,0]]}}},{ty:"fl",c:{a:0,k:[1,1,1],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:90,ix:2},o:{a:0,k:100,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Circle",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,shapes:[{ty:"gr",hd:!1,it:[{ty:"el",hd:!1,d:1,s:{a:0,k:[24,24],ix:2},p:{a:0,k:[0,0],ix:2}},{ty:"fl",c:{a:0,k:[.6941176470588235,.3803921568627451,.9921568627450981],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[12,12],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2},r:{a:0,k:-180,ix:2},o:{a:0,k:25,ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:350,st:0,bm:0}],pnt=[],gnt={v:snt,fr:ant,ip:ont,op:int,w:lnt,h:cnt,nm:unt,ddd:dnt,assets:fnt,layers:mnt,markers:pnt},hnt=Je(()=>Ve(()=>import("./dgvzzjobs2cy0cio.js"),__vite__mapDeps([47,1])));function cue({animationData:t,animationSegmentToPlay:e,animationLoopCounter:n}){const r=g.useRef(null);return g.useEffect(()=>{var s;(s=r.current)==null||s.playSegments(e,!0)},[n]),o.jsx(hnt,{animationData:t,lottieRef:r,loop:!1,autoplay:!1})}function vnt(t){return o.jsx(Yr,P(C({width:"8",height:"9",viewBox:"0 0 8 9",fill:"none"},t),{children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.66607 0.376042C8.01072 0.605806 8.10385 1.07146 7.87408 1.4161L3.54075 7.9161C3.40573 8.11863 3.18083 8.24304 2.93752 8.24979C2.69421 8.25654 2.46275 8.1448 2.31671 7.95008L0.150044 5.06119C-0.098484 4.72982 -0.0313267 4.25972 0.300044 4.01119C0.631415 3.76266 1.10152 3.82982 1.35004 4.16119L2.88068 6.20204L6.62601 0.584055C6.85577 0.239408 7.32142 0.146278 7.66607 0.376042Z",fill:"currentColor"})}))}function ynt(t){return o.jsxs(Yr,P(C({width:"4",height:"12",viewBox:"0 0 4 12",fill:"none"},t),{children:[o.jsx("mask",{id:"path-1-inside-1_1975_4008",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z"})}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 6.5C1 7.05228 1.44772 7.5 2 7.5C2.55228 7.5 3 7.05228 3 6.5V1.5C3 0.947715 2.55228 0.5 2 0.5C1.44772 0.5 1 0.947715 1 1.5L1 6.5ZM0.75 10.25C0.75 10.9404 1.30964 11.5 2 11.5C2.69036 11.5 3.25 10.9404 3.25 10.25C3.25 9.55964 2.69036 9 2 9C1.30964 9 0.75 9.55964 0.75 10.25Z",fill:"currentColor"}),o.jsx("path",{d:"M1 6.5H-0.25H1ZM1 1.5L-0.25 1.5L-0.25 1.5L1 1.5ZM2 6.25C2.13807 6.25 2.25 6.36193 2.25 6.5H-0.25C-0.25 7.74264 0.757359 8.75 2 8.75V6.25ZM1.75 6.5C1.75 6.36193 1.86193 6.25 2 6.25V8.75C3.24264 8.75 4.25 7.74264 4.25 6.5H1.75ZM1.75 1.5V6.5H4.25V1.5H1.75ZM2 1.75C1.86193 1.75 1.75 1.63807 1.75 1.5H4.25C4.25 0.257359 3.24264 -0.75 2 -0.75V1.75ZM2.25 1.5C2.25 1.63807 2.13807 1.75 2 1.75V-0.75C0.757359 -0.75 -0.25 0.257359 -0.25 1.5L2.25 1.5ZM2.25 6.5L2.25 1.5L-0.25 1.5L-0.25 6.5L2.25 6.5ZM2 10.25H-0.5C-0.5 11.6307 0.619288 12.75 2 12.75V10.25ZM2 10.25V12.75C3.38071 12.75 4.5 11.6307 4.5 10.25H2ZM2 10.25H2H4.5C4.5 8.86929 3.38071 7.75 2 7.75V10.25ZM2 10.25H2V7.75C0.619288 7.75 -0.5 8.86929 -0.5 10.25H2Z",fill:"currentColor",mask:"url(#path-1-inside-1_1975_4008)"})]}))}function xnt(t){return o.jsx(Yr,P(C({width:"8",height:"9",viewBox:"0 0 8 9",fill:"none"},t),{children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.32256 1.48447C7.59011 1.16827 7.55068 0.695034 7.23447 0.427476C6.91827 0.159918 6.44503 0.199354 6.17748 0.515559L4.00002 3.08892L1.82256 0.515559C1.555 0.199354 1.08176 0.159918 0.765559 0.427476C0.449355 0.695034 0.409918 1.16827 0.677476 1.48447L3.01755 4.25002L0.677476 7.01556C0.409918 7.33176 0.449354 7.805 0.765559 8.07256C1.08176 8.34011 1.555 8.30068 1.82256 7.98447L4.00002 5.41111L6.17748 7.98447C6.44503 8.30068 6.91827 8.34011 7.23447 8.07256C7.55068 7.805 7.59011 7.33176 7.32256 7.01556L4.98248 4.25002L7.32256 1.48447Z",fill:"currentColor"})}))}function WEt({animationLoopCounter:t}){const e=ga();return o.jsx(cue,{animationData:e?Itt:gnt,animationSegmentToPlay:[0,300],animationLoopCounter:t})}function ZEt({animationLoopCounter:t}){const e=ga();return o.jsx(cue,{animationData:e?ztt:rnt,animationSegmentToPlay:[0,400],animationLoopCounter:t})}const bnt=2e3,uue=.4,Cnt=.45,_nt=.2,wnt=.1,Snt=.25;var As=(t=>(t[t.Running=0]="Running",t[t.Finished=1]="Finished",t[t.Error=2]="Error",t[t.Stopped=3]="Stopped",t[t.Paused=4]="Paused",t))(As||{});function KEt({conversationMessages:t,icon:e,status:n,text:r,estimatedToolDurationMs:s,animationLoopDurationMs:a=bnt,shouldPersistAfterFinished:i=!1}){const[l,c]=g.useState(n===0?0:n===1&&!i?7:1),[u,d]=g.useState(0);g.useEffect(()=>{n===2?c(8):n===3?c(9):n===4?c(10):n===1?c(l===2?3:7):n===0&&l===10&&(c(2),d(m=>m+1))},[n]);const f=Ent(l);return g.useEffect(()=>{const m=t[0].id;if(f)return Sq.addDelayedRenderingMessage(m),()=>{Sq.removeDelayedRenderingMessage(m)}},[f]),_Q(()=>{xd(l)&&d(m=>m+1)},a),l===7&&!i?null:o.jsxs("div",{className:"my-2.5 flex items-center gap-2.5",children:[o.jsx(knt,{icon:e,status:n,uiState:l,estimatedToolDurationMs:s,animationLoopCounter:u,shouldPersistAfterFinished:i,onFillProgressBarAnimationComplete:()=>c(4),onFinishAnimationComplete:()=>{c(5),setTimeout(()=>{c(i?7:6)},wnt*1e3)},onHideAnimationComplete:()=>c(7)}),o.jsx(Mnt,{text:r,uiState:l,animationLoopCounter:u,onEnterAnimationComplete:()=>c(2)})]})}const Uq=50;function knt({icon:t,status:e,uiState:n,estimatedToolDurationMs:r,animationLoopCounter:s,shouldPersistAfterFinished:a,onFillProgressBarAnimationComplete:i,onFinishAnimationComplete:l,onHideAnimationComplete:c}){const[u,d]=g.useState(0);_Q(()=>{xd(n)?d(b=>b+Uq):n===10&&d(0)},Uq);let f,m,p;xd(n)||n===10?(f="running",m=o.jsx(t,{animationLoopCounter:s}),p="bg-transparent"):n===4||n===5||n===7&&a?(f="finished",m=o.jsx(vnt,{}),p="bg-brand-purple"):e===2?(f="error",m=o.jsx(ynt,{}),p="bg-orange-500"):e===3&&(f="stopped",m=o.jsx(xnt,{}),p="bg-gray-300");let h={opacity:0,scale:0,rotate:-180,x:0},v={type:"spring",bounce:.3,duration:Cnt},y={opacity:0,scale:.6,rotate:0,x:0};n===0?(h={opacity:0,scale:.5,rotate:-180,x:-8},v={type:"spring",bounce:.3,duration:uue}):n===1?h=!1:n===5&&(y={opacity:0,scale:0,rotate:0,x:0},v={type:"spring",bounce:.3,duration:Snt});const x=YIe(u,r);return o.jsx("div",{className:"relative h-5 w-5 shrink-0",children:o.jsx(Kt,{onExitComplete:()=>{n===6&&c()},children:f!=null&&o.jsxs(Se.div,{className:U("absolute start-0 top-0 flex h-full w-full items-center justify-center rounded-full text-white",p),initial:h,animate:{opacity:1,scale:1,rotate:0,x:0},exit:y,transition:v,onAnimationComplete:()=>{n===4&&l()},children:[m,(xd(n)||n===10)&&o.jsx(Ru,{percentage:n===3?100:x,thickness:1.5/23,className:"text-brand-purple absolute start-1/2 top-1/2 h-[23px] w-[23px] -translate-x-1/2 -translate-y-1/2",backgroundStrokeClassName:"stroke-brand-purple/25 dark:stroke-brand-purple/50",transitionDuration:n===3?"".concat((100-x)/100*_nt,"s"):void 0,transitionTimingFunction:n===3?"cubic-bezier(0.55, 0, 1, 1)":void 0,onTransitionEnd:()=>{n===3&&i()}})]},f)})})}function Mnt({text:t,uiState:e,animationLoopCounter:n,onEnterAnimationComplete:r}){const[s,a]=g.useState(t);g.useEffect(()=>{e===2&&a(t)},[n]),g.useEffect(()=>{xd(e)||a(t)},[e,t]);let i={opacity:0,x:0,y:15},l={type:"spring",bounce:.3,opacity:{duration:.15},y:{duration:.3}};e===0?(i={opacity:0,x:-8,y:0},l={type:"spring",bounce:.3,duration:uue,delay:.15}):e===1&&(i=!1);const c=s!=null?s:void 0;return o.jsx("div",{className:U("relative h-5 w-full leading-5",e===8||e===9?"text-token-text-tertiary":"text-token-text-secondary"),children:o.jsx(Kt,{children:c!=null&&o.jsx(Se.div,{className:"absolute start-0 top-0 line-clamp-1 overflow-visible",initial:i,animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:0,y:-15},transition:l,onAnimationComplete:()=>{e===0&&r()},children:c},c.toString())})})}function xd(t){return t===0||t===2||t===3}function Ent(t){return xd(t)||t===4||t===5||t===6||t===10}const qN=t=>g.createElement("svg",C({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.63374 4.44433C7.89187 4.27382 8.24338 4.30202 8.47065 4.52929L12.9707 9.02929L13.0556 9.13378C13.2261 9.39191 13.1979 9.74343 12.9707 9.9707C12.7434 10.198 12.3919 10.2262 12.1337 10.0557L12.0292 9.9707L7.99995 5.9414L3.97065 9.9707C3.71095 10.2304 3.28895 10.2304 3.02925 9.9707C2.76955 9.711 2.76955 9.28899 3.02925 9.02929L7.52925 4.52929L7.63374 4.44433Z"})),YEt=Object.freeze(Object.defineProperty({__proto__:null,default:qN},Symbol.toStringTag,{value:"Module"}));var XZ;const Hq=Ge.div(XZ||(XZ=qe(["group start-0 top-0 me-1.5 overflow-hidden mt-1 text-start"]))),jnt=(m,f)=>{var p=m,{highlightedCommand:t,status:e,children:n,showWorkUserSetting:r=!1,hideOnlyIfNotInteractedWith:s=!1,defaultExpanded:a=!1,forceExpanded:i=!1,onOpenAnalytics:l,onClick:c,accessory:u}=p,d=de(p,["highlightedCommand","status","children","showWorkUserSetting","hideOnlyIfNotInteractedWith","defaultExpanded","forceExpanded","onOpenAnalytics","onClick","accessory"]);const h=n!=null||c!=null,[v]=g.useState(r),[y,x]=g.useState(r||a),[b,_]=g.useState(!1),w=e===As.Finished||e===As.Error,S=s?v?!1:!b:!1,k=e===As.Running&&"loading-shimmer";return w&&S?null:h?o.jsxs(o.Fragment,{children:[o.jsx(Vq,P(C({ref:f,$canShowWork:!0},d),{children:o.jsx(Kt,{children:o.jsx(Hq,{children:o.jsx(Se.button,{onClick:M=>{y||l==null||l(),x(E=>!E),_(!0),c==null||c(M)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:U(k),children:o.jsxs("div",{className:"flex items-center justify-start gap-1",children:[o.jsx("span",{className:"text-start",children:t}),!c&&!i&&(y?o.jsx(qN,{className:"icon-sm"}):o.jsx(ys,{className:"icon-sm"})),u]})},t==null?void 0:t.toString())})})})),o.jsx(Kt,{children:(y||i)&&n&&o.jsx(Se.div,{initial:"collapsed",animate:"reveal",exit:"collapsed",variants:{collapsed:{translateY:-20,opacity:0,height:0},reveal:{translateY:0,opacity:1,height:"auto"}},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:n})})]}):o.jsx(Vq,P(C({ref:f,$canShowWork:!1},d),{children:o.jsx(Hq,{className:U(k),children:o.jsxs("div",{className:"flex items-center justify-start gap-1",children:[o.jsx("span",{className:"text-start",children:t}),u]})})}))};var eK;const Vq=Ge.span(eK||(eK=qe(["block first:mt-0 relative\n",""])),({$canShowWork:t})=>t?"text-token-text-secondary hover:text-token-text-primary my-1.5":"text-token-text-secondary"),QS=g.forwardRef(jnt),$q=3,Tnt=.1,qq=[0,.26,.4],Nnt=800,Ant=1200;function QEt({nextMessage:t,isLastMessage:e,isRequestActive:n,isLastTurnInConversation:r,clientThreadId:s,turnIndex:a,searchResultGroups:i=[],query:l=null,searchModelQueries:c=[],showFastNav:u=!0}){var O;const d=Int({isLastMessage:e,nextMessage:t}),f=g.useRef(!1),m=pt(),p=Te(s,se.getGizmoId);g.useEffect(()=>{t&&WM(t)&&!f.current&&(f.current=!0,os(m,p))},[t,m,p]);const h=Y6(t);t!=null&&t.id&&ytt(t==null?void 0:t.id);const{profiler:v}=lue({namespace:u1.SearchingState,clientThreadId:s}),y=q(),b=Xa(y)&&J6(y),_=Ki(y).checkGate("1640462792")&&!b,{favicons:w,load:S}=Wet(l!=null?l:null);g.useEffect(()=>{l&&l.trim().length>0&&S({ctx:y,profiler:v})},[l]);const k=g.useMemo(()=>{if(b)return[];const R=w.slice(0,$q).map(H=>H.url);return R.length>0?R:Go(i.slice(0,$q).map(H=>H.entries[0].url))},[w,b,i]),M=g.useRef(!1),E=g.useRef(!1);g.useEffect(()=>{d&&!M.current&&v&&n&&(M.current=!0,v.logTimingOnce("searching_the_web_shown"))},[d,v,n]),g.useEffect(()=>{!E.current&&d&&k.length>0&&v&&n&&(E.current=!0,v.logTimingOnce("favicons_shown"))},[k.length,d,v,n]);const[T,j]=g.useState(0),[A,I]=g.useState(!0);g.useEffect(()=>{if(n&&d&&c.length>0&&A){let R=null;const H=setTimeout(()=>{I(!1),R=setInterval(()=>{j(V=>V+1>=c.length?c.length-1:V+1)},Ant)},Nnt);return()=>{clearTimeout(H),R!=null&&clearInterval(R)}}(!n||!d||c.length===0)&&!A&&I(!0)},[n,d,c.length,A]);const L=[];if(((O=h==null?void 0:h[0])==null?void 0:O.type)==="navigation"&&t&&u&&L.push(o.jsx(Pnt,{clientThreadId:s,turnIndex:a,nextMessage:t,isRequestActive:n,isLastTurnInConversation:r,navigationCitation:h[0]},"fast-nav")),d){if(_){const R=!n,H=R?o.jsx(N,{id:"sjbaxy",defaultMessage:"Stopped searching"}):A?o.jsx(N,{id:"jjx8Qg",defaultMessage:"Searching the web"}):o.jsx(N,{id:"FauKHv",defaultMessage:"Searching for {query}",values:{query:c[T]}});R?L.push(o.jsx(QS,{highlightedCommand:H,status:As.Error},"search-gpt-query")):(A&&L.push(o.jsx(qet,{})),L.push(o.jsx("span",{className:"loading-shimmer text-token-text-secondary truncate pt-[3px] font-medium select-none",children:H})))}else if(d){const R=n?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(N,{id:"jjx8Qg",defaultMessage:"Searching the web"}),k.map((H,V)=>o.jsx(Se.div,{className:U("-ms-1.5 first:ms-0 last:me-1.5","relative"),initial:{width:V===0?0:6,opacity:0},animate:{width:20,opacity:1},transition:{duration:Tnt,delay:qq[Math.min(V,qq.length-1)]},children:o.jsx("div",{className:U("flex h-[22px] w-[22px] items-center overflow-hidden rounded-full","border-token-bg-primary bg-token-bg-primary border-2"),children:o.jsx(Nn,{url:H,size:32,minSize:16,className:"icon rounded-full"})})},H))]}):o.jsx(N,{id:"sjbaxy",defaultMessage:"Stopped searching"});L.push(o.jsx(QS,{highlightedCommand:R,status:n?As.Running:As.Error},"search-gpt-query"))}}return L.length?o.jsx("div",{children:L}):null}const Pnt=({clientThreadId:t,turnIndex:e,nextMessage:n,isRequestActive:r,isLastTurnInConversation:s,navigationCitation:a})=>{var d;const{scrollToHeader:i}=(d=Jl("searchSources"))!=null?d:{},l=dc(),c=Jl("searchSources"),{openThreadSidebar:u}=Bn();return g.useEffect(()=>{ve.addFirstTiming("render.fastNavigation")},[]),g.useEffect(()=>{var f;l&&c&&u({type:"searchSources",scrollToHeader:i,clientThreadId:t,turnIndex:e,messageId:(f=n==null?void 0:n.id)!=null?f:""})},[]),g.useEffect(()=>{var h;const f=n,m=(h=f.metadata)==null?void 0:h.search_source,p=a.domains.map(v=>v.url);Fne.logEvent("Search Tool Request Time To Fast Nav",t,f.id,{search_source:m,urls:p},()=>{m===Mge.InstantQuery&&Xw.logEvent("Search Tool Page Load Time To Fast Nav",{message_id:f.id,urls:p,search_source:m})})},[t,n,a]),r&&s?o.jsx(Se.div,{initial:{opacity:r?0:1,height:r?0:"auto"},animate:{opacity:1,height:"auto"},children:o.jsx(zq,{clientThreadId:t,turnIndex:e,nextMessage:n,navigationCitation:a})}):o.jsx(zq,{clientThreadId:t,turnIndex:e,nextMessage:n,navigationCitation:a})},zq=({clientThreadId:t,turnIndex:e,nextMessage:n,navigationCitation:r})=>{const{toggleThreadSidebar:s}=Bn(),a=g.useMemo(()=>({clientThreadId:t,turnIndex:e,messageId:n==null?void 0:n.id}),[t,e,n==null?void 0:n.id]),i=g.useCallback((c,u)=>{var d;s({type:"searchSources",scrollToHeader:u,clientThreadId:t,turnIndex:e,messageId:(d=n==null?void 0:n.id)!=null?d:""})},[s,t,e,n==null?void 0:n.id]),l=sue(a);return o.jsx(rtt,{navigation:r,onShowSearchResults:i,trackContentReferenceEvent:l})};function Int({isLastMessage:t,nextMessage:e}){return t||!e||e&&!WM(e)}function Lnt(r){var s=r,{onChange:t,target:e}=s,n=de(s,["onChange","target"]);if(!e)return;const a=C({childList:!0,subtree:!0},n),i=new MutationObserver(c=>{t(c)});function l(){try{i.disconnect()}catch(c){}}return i.observe(e,a),l}const Rnt=()=>{};function Ont(t){return g.useCallback(e=>t?e(console.log.bind(console)):Rnt,[t])}const Dnt=".markdown:is(.streaming-animation,.result-streaming)",JEt=g.memo(function(e){const{debug:n,isStreaming:r}=e,s=g.useRef(-1),a=Ont(n),i=g.useRef(null),[l,c]=g.useState([]),u=g.useCallback(m=>{const p=m.dataset.start,h=m.tagName.toLowerCase(),v="--streaming-".concat(h,"-").concat(p),x={height:0,ready:!1,selector:"".concat(h,'[data-start="').concat(p,'"]'),target:m,variableName:v},b=c1({axis:"height",target:m,onChange({height:_}){var E;const w=m.dataset.end,S=m.dataset.isLastNode==="",k=["table","pre"].includes(h)&&S;if(a(T=>T("".concat(h,"-").concat(p),{observedElement:x,height:_,canLookAhead:k,isLastNode:S})),!x.ready){const T=k&&Fnt(p,w,15),j=_>0;(T||j)&&(x.ready=!0,s.current=Hnt(w))}const M=typeof x.height=="number"&&_<x.height;x.ready&&!M&&(x.height=_,(E=i.current)==null||E.style.setProperty(v,"".concat(_,"px")))}});x.unsubscribe=b,c(_=>[..._,x])},[a]),d=g.useCallback(m=>Lnt({onChange(p){const{added:h}=Unt(p);for(const v of h)u(v)},target:m,subtree:!0,childList:!0}),[u]);g.useEffect(()=>{if(!r)return;let m;function p(v){i.current=v,m=d(v)}function h(v){const y=document.querySelector(Dnt);y?v(y):requestAnimationFrame(()=>{h(v)})}return h(p),()=>{window.setTimeout(()=>{if(n){a(v=>v("Animations complete, preserving state in debug mode."));return}m==null||m(),c([]),s.current=-1},500)}},[r,n,d,a]);const f=l.map(({selector:m,variableName:p})=>"".concat(m," { --streaming-reveal-amount: var(").concat(p,", 0) }")).join("\n");return o.jsx("style",{children:f})});function Fnt(t,e,n){if(t===void 0||e===void 0)return!0;const r=parseInt(t,10),s=parseInt(e,10);return isNaN(r)||isNaN(s)?!0:s-r>=n}function Bnt(t){return t instanceof HTMLElement?["PRE","TABLE"].includes(t.tagName):!1}function Unt(t){return{added:t.flatMap(n=>Array.from(n.addedNodes)).filter(Bnt)}}function Hnt(t){return t?parseInt(t,10):-1}function I4(){var n;const{data:t}=h6(({settings:r})=>({voiceName:r==null?void 0:r[Ln.VoiceName],voiceMainLanguage:r==null?void 0:r[Ln.VoiceMainLanguage],trainingAllowed:r==null?void 0:r[Ln.TrainingAllowed],voiceTrainingAllowed:r==null?void 0:r[Ln.VoiceTrainingAllowed],videoTrainingAllowed:r==null?void 0:r[Ln.VideoTrainingAllowed]})),e=Vnt();return{voiceName:qnt(t==null?void 0:t.voiceName,e),voiceMainLanguage:(n=t==null?void 0:t.voiceMainLanguage)!=null?n:Ege.Auto,voiceTrainingAllowed:!!(t!=null&&t.trainingAllowed&&(t!=null&&t.voiceTrainingAllowed)),videoTrainingAllowed:!!(t!=null&&t.trainingAllowed&&(t!=null&&t.videoTrainingAllowed))}}function Vnt(){const t=$nt(),e=ZM().locale;return g.useCallback(()=>{if(t.length===0)return"juniper";let n=t[0].voice;return e.startsWith("zh")&&(n="cove"),n},[t,e])}function $nt(){var n;const t=(n=Ui(Ln.VoiceMainLanguage))==null?void 0:n.data,{data:e}=ut({queryKey:["getUserSettingVoices",t],queryFn:()=>ue.safeGet("/settings/voices",{authOption:qt.SendIfAvailable})});return e?e.voices:[]}function qnt(t,e){return t==="sky"?"juniper":t!=null?t:e()}function zN(){if("MediaSource"in window){const t=e=>jge(e)&&MediaSource.isTypeSupported(e);if(t("audio/aac"))return"aac";if(t("audio/mpeg"))return"mp3";if(t("audio/ogg"))return"opus"}}function znt({conversationId:t,messageId:e}){const{voiceName:n}=I4(),r=()=>ue.safeGet("/synthesize",{parameters:{query:{message_id:e,conversation_id:t,voice:n,format:zN()}},skipJsonTransform:!0}),s="".concat(t,".").concat(e,".").concat(n);return Gnt(r,s)}function Gnt(t,e){var p;const[n,r]=g.useState(!1),s=g.useRef({isMediaSourceAvailable:GN(),mediaSourceFormat:(p=zN())!=null?p:"n/a",playPromise:null,shouldAbortQueuedPlayback:!1}).current,a=Z(),i=Tt(),l=wQ(),c=SQ(h=>{var v;return h.isPlaying&&h.sourceUrl===((v=Js.get(e))==null?void 0:v.src)}),u=g.useCallback(async()=>{if(!l||!t)return;r(!0);const h={isMediaSourceAvailable:s.isMediaSourceAvailable,format:s.mediaSourceFormat};try{const v=await Wnt({key:e,onStreamingError:y=>{Gt.readAloud.error(y,h),r(!1),i.danger(a.formatMessage(j2.playbackError,{error:y.message}),{toastId:"useVoiceReadAloudAudio_onStreamingError",loggingTitle:j2.playbackError.defaultMessage,loggingDescription:y.message})},onStreamingStart:()=>{r(!1)},fetchAudioDataResponse:t});if(s.shouldAbortQueuedPlayback){s.shouldAbortQueuedPlayback=!1;return}l.changeSource(v),s.playPromise=l.play()}catch(v){Gt.readAloud.error(v,h),r(!1),i.danger(a.formatMessage(j2.playbackError,{error:v.message}),{toastId:"useVoiceReadAloudAudio_onStreamingError",loggingTitle:j2.playbackError.defaultMessage,loggingDescription:v.message})}},[l,s,e,i,a,t]),d=g.useCallback(()=>{const h=vw();h&&(s.playPromise?s.playPromise.then(()=>{h.stop(),s.playPromise=null}):h.stop())},[s]),f=g.useCallback(()=>{var v;const h=vw();h&&(h.state.isPlaying&&h.state.sourceUrl===((v=Js.get(e))==null?void 0:v.src)?d():(Gt.readAloud.click({isMediaSourceAvailable:s.isMediaSourceAvailable,format:s.mediaSourceFormat}),u()))},[e,s,u,d]);g.useEffect(()=>{n&&c&&r(!1)},[n,c]);const m=g.useRef(e);return g.useEffect(()=>{m.current=e}),g.useEffect(()=>(s.shouldAbortQueuedPlayback=!1,()=>{var y;const h=kQ();h.isPlaying&&h.sourceUrl===((y=Js.get(m.current))==null?void 0:y.src)?d():s.shouldAbortQueuedPlayback=!0}),[s,d]),{togglePlayback:f,isPlaying:c,isLoading:n}}async function due(t){var r;const e=await t(),n=(r=e.headers.get("content-type"))!=null?r:"audio/aac";return{response:e,format:n}}async function Wnt(t){return GN()?Knt(t):Znt(t)}async function Znt({key:t,fetchAudioDataResponse:e}){const n=Js.get(t);if(n!=null&&n.blob)return n.src;const{response:r,format:s}=await due(e),a=await r.arrayBuffer(),i=new Blob([a],{type:s}),l=fue({key:t,src:URL.createObjectURL(i),format:s,blob:i});return Js.set(t,l),l.src}async function Knt({key:t,onStreamingError:e,onStreamingStart:n,fetchAudioDataResponse:r}){let s=Js.get(t);s!=null&&s.streaming&&(Js.delete(t),s=null);let a,i;const l=Qnt(),c=new l;if(s)a=s,a.src=URL.createObjectURL(c);else{const{format:f,response:m}=await due(r);i=m,a=fue({key:t,src:URL.createObjectURL(c),format:f})}const u=Ynt(a.id),d={sourceopen:async()=>{var p,h;u("sourceopen");const f=c.addSourceBuffer(a.format),m=async()=>{f.updating&&await new Promise(v=>f.addEventListener("updateend",v,{once:!0}))};if(a.segments.length&&!a.streaming){u("streaming from cache"),a.streaming=!0,n();for(const v of a.segments)f.appendBuffer(v),await m();c.readyState==="open"&&c.endOfStream(),a.streaming=!1,u("done streaming from cache");return}if(i){u("fetching audio");try{const v=(p=i.body)==null?void 0:p.getReader();if(!v)return;for(;((h=Js.get(t))==null?void 0:h.id)===a.id;){const{done:y,value:x}=await v.read();if(y){u("done streaming"),a.streaming=!1,c.readyState==="open"&&c.endOfStream();break}if(!Array.from(c.sourceBuffers).includes(f)){u("stop streaming, source buffer removed"),a.streaming=!1;break}a.streaming||(u("start streaming"),a.streaming=!0,n()),f.appendBuffer(x),a.segments.push(x),await m()}}catch(v){if(u("error while streaming",v),a.streaming=!1,c.readyState==="open")try{c.endOfStream("network")}catch(y){Gt.readAloud.error(y)}Js.delete(t),e(v)}}},sourceclose:()=>{var f;u("sourceclose"),a.streaming&&(a.streaming=!1,((f=Js.get(t))==null?void 0:f.id)===a.id&&(u("sourceclosed while streaming, cleaning up cache"),Js.delete(t)))},sourceended:_n};for(const[f,m]of Object.entries(d))c.addEventListener(f,()=>{try{return m()}catch(p){Gt.readAloud.error(p)}});return Js.set(t,a),a.src}const j2=pe({playbackError:{id:"useVoiceReadAloudAudio.playbackError",defaultMessage:"Failed to play message"}}),Ynt=t=>_n;function Qnt(){return GN()?window.MediaSource:null}function GN(){return!!zN()}const fue=t=>C({id:Yn(),segments:[],streaming:!1},t),Js=new fQe({capacity:50,dispose:t=>{URL.revokeObjectURL(t.src)}}),mue=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6 14.7229V5.27708C6 4.29072 7.08894 3.69295 7.9211 4.22251L15.3428 8.94541C16.1147 9.43661 16.1147 10.5634 15.3428 11.0546L7.92109 15.7775C7.08894 16.307 6 15.7093 6 14.7229Z"})),XEt=Object.freeze(Object.defineProperty({__proto__:null,default:mue},Symbol.toStringTag,{value:"Module"}));async function WN(t){const e=await Ve(()=>import("./go8zyahgu69e8jyd.js").then(n=>n.i),__vite__mapDeps([109,1]));if(ss!=null&&(t!=null&&t.startsWith(ss)))return!0;try{return e.get(new URL(t!=null?t:"").hostname)==="openai.com"}catch(n){return!1}}function ZN(t,e,n){return ue.safeGet("/conversation/{conversation_id}/url_safe",{parameters:{path:{conversation_id:t},query:{url:e,history_and_training_disabled:n}}})}function Jnt(t,e){const n=MQ(),{isUnauthenticated:r}=An();return ut({queryKey:["safe-url",{serverThreadId:t,url:e,isHistoryAndTrainingDisabled:n}],queryFn:async()=>{if(t==null||e==null)throw new Error("Unexpected falsey useSafeUrlQuery");return await WN(e)||se.isThreadUrlSafe(st(t),e)?{safe:!0}:r?{safe:!1}:ZN(t,e,n)},enabled:t!=null&&e!=null})}function Xnt(t,e,n=!0){const r=Te(t,a=>e!=null&&se.isThreadUrlSafe(a,e)),{data:{safe:s}={}}=Jnt(t,r?void 0:e);return r||s||!n?e:void 0}function ejt(t,e,n=!0){const r=ert(e,500);return Xnt(t,r,n)}function ert(t,e){const[n,r]=g.useState(void 0),[s]=g.useState(()=>xs(a=>{r(a)},e));return g.useEffect(()=>{s(t)},[s,t]),n===t?t:void 0}function tjt(t,e){const n=MQ(),r=Te(t,a=>{var i;return(i=a==null?void 0:a.safeUrls)!=null?i:[]}),{data:s=[]}=ut({queryKey:["safe-urls",t,e,n,r],queryFn:async()=>{const a=r.filter(u=>e.includes(u)),i=e.filter(u=>!a.includes(u)),c=(await Promise.allSettled(i.map(async u=>{if(await WN(u))return u;if(t==null)return null;try{return(await ZN(t,u,n)).safe?u:null}catch(f){return null}}))).map(u=>u.status==="fulfilled"?u.value:null).filter(u=>u!=null);return a.concat(c)},enabled:t!=null&&e.length>0});return s}async function trt(t,e){const{isKnownSafeUrl:n,isUrlMarkedSafeInThread:r,serverCheck:s,isHistoryAndTrainingDisabled:a}=e,i=t.filter(f=>!r(f));if(i.length===0)return[];const l=await Promise.all(i.map(f=>n(f))),c=i.filter((f,m)=>!l[m]);if(c.length===0)return[];if(!s)return c;const u=await Promise.allSettled(c.map(async f=>{try{return await s(f,a)?null:f}catch(m){return f}})),d=[];return u.forEach((f,m)=>{const p=c[m];f.status==="fulfilled"?typeof f.value=="string"&&d.push(f.value):d.push(p)}),d}function nrt(t,e,n){const r=st(e),s=kt(e);return trt(n,{isKnownSafeUrl:WN,isUrlMarkedSafeInThread:a=>se.isThreadUrlSafe(r,a),serverCheck:s!=null?async(a,i)=>(await ZN(s,a,i)).safe:void 0,isHistoryAndTrainingDisabled:j6(t)})}const L4=Rt(t=>({targetedContent:void 0,setTargetedContent:e=>{t({targetedContent:e})}}));function Gq(){return" "}function njt(){const t=Fs(gr());t.redirect!=null&&(window.location.href=t.redirect.destination)}const pue="https://openai.com/policies/cookie-policy/",Uc=pe({essentialCookies:{id:"settingsModal.privacy.cookieConsent.essentialCookiesLabel",defaultMessage:"Strictly Necessary Cookies (always active)"},marketingCookies:{id:"settingsModal.privacy.cookieConsent.marketingCookiesLabel",defaultMessage:"Marketing Performance Cookies"},analyticsCookies:{id:"settingsModal.privacy.cookieConsent.analyticsCookiesLabel",defaultMessage:"Analytics Cookies"},cookieConsent:{id:"settingsModal.privacy.cookieConsent.header",defaultMessage:"Cookie Preference Center"}});function KN(t,e){const{isUserInPioneerHR:n,userCountry:r}=Fs(t);return(!(e!=null&&e.structure)||e.structure!==Ad.WORKSPACE)&&SY(r)&&(n!=null?n:!1)}const p6=class p6 extends Yi()(()=>({isOpen:!1})){constructor(){super(...arguments);Q(this,"openModal",()=>this.setState(n=>P(C({},n),{isOpen:!0})));Q(this,"closeModal",()=>this.setState(n=>P(C({},n),{isOpen:!1})))}};Q(p6,"useIsOpen",()=>p6.useState(n=>n.isOpen));let Zi=p6;function rjt(){const t=Z(),e=pt(),n=q(),r=yt(n),{data:s,isLoading:a}=ut(Fd),i=Zi.useStore(),l=Zi.useIsOpen(),c=ha(),[u,d]=g.useState(!1),[f,m]=g.useState(!1),[p,h]=g.useState(!1),{mutate:v}=EQ({onMutate:x=>{e.setQueryData(Fd.queryKey,b=>b?P(C({},b),{consent_analytics:x.consent_analytics,consent_marketing:x.consent_marketing}):{consent_analytics:x.consent_analytics,consent_marketing:x.consent_marketing,is_consent_required:!0})},onSuccess:(x,b)=>{ve.addAction("cookie-consent.consent-modal.updated-cookie-consent-backend",{consent_analytics:b.consent_analytics,consent_marketing:b.consent_marketing}),B.logEventWithStatsig("Cookie Preferences Modal Updated Cookie Consent Backend","chatgpt_cookie_prefs_modal_updated_cookie_consent_backend",{consent_analytics:b.consent_analytics,consent_marketing:b.consent_marketing})},onError:(x,b)=>{B.logEventWithStatsig("Cookie Preferences Modal Updated Cookie Consent Backend Error","chatgpt_cookie_prefs_modal_updated_cookie_consent_backend_error",{error:x.message,consent_analytics:b.consent_analytics,consent_marketing:b.consent_marketing})}}),y=KN(n,r)&&l;return g.useEffect(()=>{y&&B.logEventWithStatsig("Cookie Preferences Modal Shown","chatgpt_cookie_prefs_modal_shown")},[y]),o.jsx(tt,{isOpen:y,testId:"modal-cookie-preferences",onClose:()=>{i.closeModal(),B.logEventWithStatsig("Cookie Preferences Modal Closed","chatgpt_cookie_prefs_modal_closed")},size:"custom",className:"h-[100%] md:max-h-[600px] md:min-h-[600px] md:max-w-[680px]",type:"success",showCloseButton:!0,title:t.formatMessage(Uc.cookieConsent),children:o.jsxs("div",{className:"flex max-h-[calc(100vh-150px)] w-full flex-col gap-3 overflow-y-auto md:min-h-[380px]",children:[o.jsx("p",{className:"text-token-text-secondary text-sm",children:o.jsx(N,{id:"settingsModal.privacy.cookieConsent.description.v2",defaultMessage:"Using websites and apps involves storing and retrieving information from your device, including cookies and other identifiers, which can be shared with third parties, for various activities. We provide a simple tool below allowing you to tailor your choices as you deem fit. You can change your consent at any time. <learnMore>Learn more.</learnMore>",values:{learnMore:x=>o.jsx("a",{href:pue,target:"_blank",rel:"noreferrer",className:"underline",children:x})}})}),o.jsxs("div",{className:"mt-2 flex flex-col gap-3",children:[o.jsx(b7,{children:c?o.jsx(C7,{label:t.formatMessage(Uc.essentialCookies),disabled:!0,enabled:!0,onChange:()=>{},description:o.jsx("p",{children:o.jsx(N,{id:"settingsModal.privacy.cookieConsent.essentialCookiesDescription",defaultMessage:"These cookies are essential for the site to function and cannot be toggled off. They assist with security, user authentication, customer support, etc."})})}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($l,{id:"essential-cb",checked:!0,disabled:!0}),o.jsxs("div",{className:"flex w-full flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:t.formatMessage(Uc.essentialCookies)}),o.jsx("button",{onClick:()=>d(!u),children:u?o.jsx(ji,{className:"icon-sm"}):o.jsx(ys,{className:"icon-sm"})})]}),u&&o.jsx("p",{className:"text-token-text-secondary text-xs",children:o.jsx(N,{id:"settingsModal.privacy.cookieConsent.essentialCookiesDescription",defaultMessage:"These cookies are essential for the site to function and cannot be toggled off. They assist with security, user authentication, customer support, etc."})})]})]})}),o.jsx(b7,{children:c?o.jsx(C7,{label:t.formatMessage(Uc.analyticsCookies),enabled:!!(s!=null&&s.consent_analytics),disabled:a,onChange:x=>{var b;B.logEventWithStatsig("Cookie Preferences Modal Analytics Cookies Toggle Clicked","chatgpt_cookie_prefs_modal_analytics_cookies_toggle_clicked",{enabled:x}),v({consent_analytics:x,consent_marketing:(b=s==null?void 0:s.consent_marketing)!=null?b:!1})},description:o.jsx("p",{children:o.jsx(N,{id:"settingsModal.privacy.cookieConsent.analyticsCookiesDescription",defaultMessage:"These cookies help us understand how visitors interact with our site. They allow us to measure traffic and improve site performance."})})}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($l,{id:"analytics-cb",checked:!!(s!=null&&s.consent_analytics),disabled:a,onChange:x=>{var _;const b=x.target.checked;B.logEventWithStatsig("Cookie Preferences Modal Analytics Cookies Toggle Clicked","chatgpt_cookie_prefs_modal_analytics_cookies_toggle_clicked",{enabled:b}),v({consent_analytics:b,consent_marketing:(_=s==null?void 0:s.consent_marketing)!=null?_:!1})}}),o.jsxs("div",{className:"flex w-full flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:t.formatMessage(Uc.analyticsCookies)}),o.jsx("button",{onClick:()=>m(!f),children:f?o.jsx(ji,{className:"icon-sm"}):o.jsx(ys,{className:"icon-sm"})})]}),f&&o.jsx("p",{className:"text-token-text-secondary text-xs",children:o.jsx(N,{id:"settingsModal.privacy.cookieConsent.analyticsCookiesDescription",defaultMessage:"These cookies help us understand how visitors interact with our site. They allow us to measure traffic and improve site performance."})})]})]})}),o.jsx(b7,{children:c?o.jsx(C7,{label:t.formatMessage(Uc.marketingCookies),enabled:!!(s!=null&&s.consent_marketing),disabled:a,onChange:x=>{var b;B.logEventWithStatsig("Cookie Preferences Modal Marketing Cookies Toggle Clicked","chatgpt_cookie_prefs_modal_marketing_cookies_toggle_clicked",{enabled:x}),v({consent_marketing:x,consent_analytics:(b=s==null?void 0:s.consent_analytics)!=null?b:!1})},description:o.jsx("p",{children:o.jsx(N,{id:"settingsModal.privacy.cookieConsent.marketingCookiesDescription",defaultMessage:"These cookies help us measure the effectiveness of our marketing campaigns."})})}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($l,{id:"marketing-cb",checked:!!(s!=null&&s.consent_marketing),disabled:a,onChange:x=>{var _;const b=x.target.checked;B.logEventWithStatsig("Cookie Preferences Modal Marketing Cookies Toggle Clicked","chatgpt_cookie_prefs_modal_marketing_cookies_toggle_clicked",{enabled:b}),v({consent_marketing:b,consent_analytics:(_=s==null?void 0:s.consent_analytics)!=null?_:!1})}}),o.jsxs("div",{className:"flex w-full flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{children:t.formatMessage(Uc.marketingCookies)}),o.jsx("button",{onClick:()=>h(!p),children:p?o.jsx(ji,{className:"icon-sm"}):o.jsx(ys,{className:"icon-sm"})})]}),p&&o.jsx("p",{className:"text-token-text-secondary text-xs",children:o.jsx(N,{id:"settingsModal.privacy.cookieConsent.marketingCookiesDescription",defaultMessage:"These cookies help us measure the effectiveness of our marketing campaigns."})})]})]})})]})]})})}function bd(t){"use forget";const e=ee.c(7),{onClick:n,children:r}=t,s=q(),a=ze(s,"2118136551"),i=Us(),l=a.get("show_cookie_banner_improvements",!1),c=l?"secondary":void 0,u=l?"text-sm":"bg-gray-950/5 text-sm text-black hover:bg-gray-800/10 dark:bg-gray-50/5 hover:dark:bg-gray-100/10",d=i?"medium":void 0,f=i?"secondary":c,m=i?"mb-2 sm:mb-3":u;let p;return e[0]!==r||e[1]!==i||e[2]!==n||e[3]!==d||e[4]!==f||e[5]!==m?(p=o.jsx(oe,{as:"button",size:d,color:f,fullWidth:i,className:m,onClick:n,children:r}),e[0]=r,e[1]=i,e[2]=n,e[3]=d,e[4]=f,e[5]=m,e[6]=p):p=e[6],p}function sjt(t){"use forget";const e=ee.c(6),{useManuallyControlledVisibility:n}=t,r=n===void 0?!1:n,{shouldShowCookieBanner:s,closeCookieConsentBanner:a,ignoreCookieConsentBanner:i}=Tge(),{mutate:l}=EQ(),c=TP.useOnCloseSideEffect(),u=TP.useManuallySetVisibility(),d=r?u:s;let f;return e[0]!==a||e[1]!==i||e[2]!==c||e[3]!==d||e[4]!==l?(f=d&&o.jsx(rrt,{onAccept:()=>{l({consent_analytics:!0,consent_marketing:!0}),a(),c(),B.logEventWithStatsig("Cookie Consent Banner Accepted","chatgpt_cookie_consent_banner_accepted")},onReject:()=>{l({consent_analytics:!1,consent_marketing:!1}),a(),c(),B.logEventWithStatsig("Cookie Consent Banner Rejected","chatgpt_cookie_consent_banner_rejected")},onIgnore:()=>{i(),c(),B.logEventWithStatsig("Cookie Consent Banner Ignored","chatgpt_cookie_consent_banner_ignored")}}),e[0]=a,e[1]=i,e[2]=c,e[3]=d,e[4]=l,e[5]=f):f=e[5],f}function rrt(t){"use forget";const e=ee.c(4),n=Us();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0],g.useEffect(srt,r);let s;return e[1]!==n||e[2]!==t?(s=n?o.jsx(irt,C({},t)):o.jsx(ort,C({},t)),e[1]=n,e[2]=t,e[3]=s):s=e[3],s}function srt(){or.setCookie(ir.CookieBannerShownPath,window.location.pathname,{maxAge:Nre,domain:wY}),B.logEventWithStatsig("Cookie Consent Banner Shown","chatgpt_cookie_consent_banner_shown")}function gue(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.jsx(N,{id:"cookie-consent-banner.title",defaultMessage:"We use cookies"}),t[0]=e):e=t[0],e}function JS(){"use forget";const t=ee.c(2),e=Zi.useStore();let n;return t[0]!==e?(n=o.jsx(N,{id:"cookie-consent-banner.description.v2",defaultMessage:"Some cookies are essential for this site to function and cannot be turned off. We also use cookies and collect and share device identifiers to help us understand how our service performs and is used, and to support our marketing efforts. Learn more in our <cookiePolicyLink>Cookie Policy</cookiePolicyLink>. You can update your preferences at any time by clicking â<manageCookiesLink>Manage Cookies</manageCookiesLink>â.",values:{cookiePolicyLink:art,manageCookiesLink:r=>o.jsx("a",{onClick:s=>{s.preventDefault(),e.openModal()},className:"cursor-pointer underline underline-offset-2",children:r},1)}}),t[0]=e,t[1]=n):n=t[1],n}function art(t){return o.jsx("a",{className:"underline underline-offset-2",href:pue,target:"_blank",rel:"noreferrer",children:t},0)}function hue(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.jsx(N,{id:"cookie-consent-banner.reject",defaultMessage:"Reject non-essential"}),t[0]=e):e=t[0],e}function vue(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.jsx(N,{id:"cookie-consent-banner.accept",defaultMessage:"Accept all"}),t[0]=e):e=t[0],e}function yue(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.jsx(N,{id:"cookie-consent-banner.manage-cookies",defaultMessage:"Manage Cookies"}),t[0]=e):e=t[0],e}function ort(t){"use forget";const e=ee.c(21),n=q(),r=ze(n,"2118136551"),s=Zi.useStore(),a=r.get("show_cookie_banner_improvements",!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx("h1",{className:"text-base",children:o.jsx(gue,{})}),e[0]=i):i=e[0];let l;e[1]!==a?(l=o.jsxs("div",{className:"flex max-w-5xl flex-col gap-2 sm:flex-1",children:[i,o.jsx("p",{className:"text-sm",children:a?o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(JS,{})}):o.jsx("span",{className:"text-gray-600",children:o.jsx(JS,{})})})]}),e[1]=a,e[2]=l):l=e[2];let c;e[3]!==s?(c=()=>s.openModal(),e[3]=s,e[4]=c):c=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=o.jsx(yue,{}),e[5]=u):u=e[5];let d;e[6]!==c?(d=o.jsx(bd,{onClick:c,children:u}),e[6]=c,e[7]=d):d=e[7];let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=o.jsx(hue,{}),e[8]=f):f=e[8];let m;e[9]!==t.onReject?(m=o.jsx(bd,{onClick:t.onReject,children:f}),e[9]=t.onReject,e[10]=m):m=e[10];let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p=o.jsx(vue,{}),e[11]=p):p=e[11];let h;e[12]!==t.onAccept?(h=o.jsx(bd,{onClick:t.onAccept,children:p}),e[12]=t.onAccept,e[13]=h):h=e[13];let v;e[14]!==d||e[15]!==m||e[16]!==h?(v=o.jsxs("div",{className:"flex w-full flex-row justify-end gap-3 sm:w-auto sm:min-w-[300px]",children:[d,m,h]}),e[14]=d,e[15]=m,e[16]=h,e[17]=v):v=e[17];let y;return e[18]!==l||e[19]!==v?(y=o.jsx("div",{className:"z-10 w-[100vw] max-w-[100vw] overflow-hidden",children:o.jsxs("div",{className:"bg-token-main-surface-tertiary flex w-full flex-col items-center justify-between gap-5 p-5 shadow-sm sm:flex-row sm:gap-0",children:[l,v]})}),e[18]=l,e[19]=v,e[20]=y):y=e[20],y}function irt(t){"use forget";var S;const e=ee.c(24),n=q(),r=ze(n,"2118136551"),s=Zi.useStore(),a=r.get("show_cookie_banner_improvements",!1),i=lrt,l=a&&(S=t.onIgnore)!=null?S:i,c=!a;let u;e[0]!==t?(u=o.jsx("div",{className:"flex w-full justify-end",children:o.jsx(gn,{onClick:()=>{var k;return(k=t.onIgnore)==null?void 0:k.call(t)}})}),e[0]=t,e[1]=u):u=e[1];let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=o.jsx("p",{className:"mb-2 text-center text-xl font-semibold",children:o.jsx(gue,{})}),e[2]=d):d=e[2];let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=o.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-sm",children:o.jsx(JS,{})}),e[3]=f):f=e[3];let m;e[4]!==s?(m=()=>s.openModal(),e[4]=s,e[5]=m):m=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=o.jsx(yue,{}),e[6]=p):p=e[6];let h;e[7]!==m?(h=o.jsx(bd,{onClick:m,children:p}),e[7]=m,e[8]=h):h=e[8];let v;e[9]===Symbol.for("react.memo_cache_sentinel")?(v=o.jsx(vue,{}),e[9]=v):v=e[9];let y;e[10]!==t.onAccept?(y=o.jsx(bd,{onClick:t.onAccept,children:v}),e[10]=t.onAccept,e[11]=y):y=e[11];let x;e[12]===Symbol.for("react.memo_cache_sentinel")?(x=o.jsx(hue,{}),e[12]=x):x=e[12];let b;e[13]!==t.onReject?(b=o.jsx(bd,{onClick:t.onReject,children:x}),e[13]=t.onReject,e[14]=b):b=e[14];let _;e[15]!==u||e[16]!==b||e[17]!==h||e[18]!==y?(_=o.jsxs("div",{className:"flex flex-col items-center justify-center px-5 pt-4 pb-8 sm:p-10",children:[u,d,f,h,y,b]}),e[15]=u,e[16]=b,e[17]=h,e[18]=y,e[19]=_):_=e[19];let w;return e[20]!==l||e[21]!==c||e[22]!==_?(w=o.jsx(tt,{testId:"modal-cookie-consent-banner-mobile",isOpen:!0,onClose:l,noPadding:!0,type:"success",size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:"bottom",shouldIgnoreClickOutside:c,children:_}),e[20]=l,e[21]=c,e[22]=_,e[23]=w):w=e[23],w}function lrt(){}const crt="{{.assetPrefix}}/assets/team-upsell-landscape-ee106ppw.webp",urt={src:crt};function ajt(){const t=q(),e=!Et(t),n=Vo(t,"2210309751").get("variant","control"),r=Us(),[s]=$o(et.HasDismissedTeamsNoAuthUpsell,!1,o5),a=!r&&e&&n==="front-door"&&!s;ie(t,"676035580");const[i,l]=g.useState(()=>Ft.getItem(et.HasDismissedTeamsNoAuthUpsell)!==!0),c=it(),u=Nge(),d=()=>{l(!1),Ft.setItem(et.HasDismissedTeamsNoAuthUpsell,!0)},f=()=>{d(),c({hash:jQ,search:window.location.search},{state:{[TQ]:"Teams no-auth upsell announcement"}})};return!a||!i?null:o.jsx(qu,{open:i,modal:!1,children:o.jsx(zu,{container:u==null?void 0:u.document.body,children:o.jsxs("div",{className:"bg-token-bg-primary popover border-token-border-default bg-primary fixed end-4 bottom-4 z-100 flex w-full max-w-sm flex-col gap-3 overflow-hidden rounded-2xl border shadow-xl",children:[o.jsx("img",{className:"h-[147px] object-cover",src:urt.src,alt:""}),o.jsxs("div",{className:"flex flex-col px-6 py-5",children:[o.jsx("p",{className:"text-token-text-primary mb-1 text-lg font-medium text-pretty",children:o.jsx(N,C({},T2.teamsNoAuthUpsellTitle))}),o.jsx("p",{className:"text-token-text-secondary text-sm text-pretty",children:o.jsx(N,C({},T2.teamsNoAuthUpsellDescription))}),o.jsxs("div",{className:"mt-5 flex flex-row justify-start space-x-2",children:[o.jsx(oe,{as:"button",color:"primary",onClick:f,children:o.jsx(N,C({},T2.getTeam))}),!1,o.jsx(oe,{as:"button",color:"secondary",onClick:d,children:o.jsx(N,C({},T2.notNow))})]})]})]})})})}const T2=pe({teamsNoAuthUpsellTitle:{id:"TeamsNoAuthUpsell.title",defaultMessage:"A shared space for teams"},teamsNoAuthUpsellDescription:{id:"TeamsNoAuthUpsell.description",defaultMessage:"Supercharge your team's work with a shared workspace, admin controls, and connectors to your company tools."},getTeam:{id:"TeamsNoAuthUpsell.getTeam",defaultMessage:"Get Business"},notNow:{id:"TeamsNoAuthUpsell.notNow",defaultMessage:"Not now"}}),drt=({onDismiss:t})=>{const e=Z();g.useEffect(()=>{Le.logEvent("chatgpt_web_mobile_app_upsell_banner_shown"),B.logEvent("Mobile App Upsell Banner Shown")},[]);const n=()=>{localStorage.setItem(et.HasDismissedMobileAppUpsellBanner,"true"),t==null||t(),Le.logEvent("chatgpt_web_mobile_app_upsell_banner_dismissed"),B.logEvent("Mobile App Upsell Banner Dismissed")},r=()=>{window.open("https://apps.apple.com/us/app/chatgpt/id6448311069","_blank"),Le.logEvent("chatgpt_web_mobile_app_upsell_banner_clicked"),B.logEvent("Mobile App Upsell Banner Clicked")};return o.jsx(NQ,{title:e.formatMessage({id:"mobileTopBanner.title",defaultMessage:"ChatGPT"}),content:e.formatMessage({id:"mobileTopBanner.content",defaultMessage:"The official app by OpenAI"}),secondaryCtaText:e.formatMessage({id:"mobileTopBanner.secondaryCtaText",defaultMessage:"Open"}),onDismiss:n,onSecondaryCtaClick:r})};function frt(t){const e=encodeURIComponent(t);return"https://wa.me/18002428478?text=".concat(e)}function mrt({onDismiss:t}){const e=Z(),n=e.formatMessage({id:"moodengUpsellBanner.prefilledMessage",defaultMessage:"Hey ChatGPT, can you tell me a little bit more about what you can do?"}),r=()=>{B.logEventWithStatsig("Moodeng Upsell Banner Clicked","chatgpt_web_moodeng_upsell_banner_clicked"),window.open(frt(n),"_blank")},s=()=>{localStorage.setItem(et.HasDismissedMoodengUpsellBanner,"true"),t==null||t(),B.logEventWithStatsig("Moodeng Upsell Banner Dismissed","chatgpt_web_moodeng_upsell_banner_dismissed")};return g.useEffect(()=>{B.logEventWithStatsig("Moodeng Upsell Banner Shown","chatgpt_web_moodeng_upsell_banner_shown")},[]),o.jsx(NQ,{title:e.formatMessage({id:"moodengUpsellBanner.title",defaultMessage:"Chat on WhatsApp"}),content:e.formatMessage({id:"moodengUpsellBanner.content",defaultMessage:"Supported by OpenAI"}),secondaryCtaText:e.formatMessage({id:"moodengUpsellBanner.secondaryCtaText",defaultMessage:"Try Now"}),onSecondaryCtaClick:r,onDismiss:s})}function ojt(){var f;const t=q(),e=Us(),n=Age(),[r,s]=g.useState(()=>localStorage.getItem(et.HasDismissedMobileAppUpsellBanner)==="true"),[a,i]=g.useState(()=>localStorage.getItem(et.HasDismissedMoodengUpsellBanner)==="true"),l=ze(t,"3927927759"),u=g.useMemo(()=>[{Component:()=>o.jsx(drt,{onDismiss:()=>{s(!0)}}),isVisible:()=>e&&n&&!r&&l.get("enable_mobile_app_upsell_banner",!1)},{Component:()=>o.jsx(mrt,{onDismiss:()=>{i(!0)}}),isVisible:()=>e&&!a&&l.get("enable_moodeng_upsell_banner",!1)}],[e,n,r,a,l]).find(m=>m.isVisible()),d=(f=u==null?void 0:u.Component)!=null?f:()=>null;return o.jsx(d,{})}const xue=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.94556 14.0277C7.9455 12.9376 7.06204 12.054 5.97192 12.054C4.88191 12.0542 3.99835 12.9376 3.99829 14.0277C3.99829 15.1177 4.88188 16.0012 5.97192 16.0013C7.06207 16.0013 7.94556 15.1178 7.94556 14.0277ZM16.0012 14.0277C16.0012 12.9376 15.1177 12.054 14.0276 12.054C12.9375 12.0541 12.054 12.9376 12.054 14.0277C12.054 15.1178 12.9375 16.0012 14.0276 16.0013C15.1177 16.0013 16.0012 15.1178 16.0012 14.0277ZM7.94556 5.97201C7.94544 4.88196 7.062 3.99837 5.97192 3.99837C4.88195 3.99849 3.99841 4.88203 3.99829 5.97201C3.99829 7.06208 4.88187 7.94552 5.97192 7.94564C7.06207 7.94564 7.94556 7.06216 7.94556 5.97201ZM16.0012 5.97201C16.0011 4.88196 15.1177 3.99837 14.0276 3.99837C12.9376 3.99843 12.0541 4.882 12.054 5.97201C12.054 7.06212 12.9375 7.94558 14.0276 7.94564C15.1177 7.94564 16.0012 7.06216 16.0012 5.97201ZM9.27563 14.0277C9.27563 15.8524 7.79661 17.3314 5.97192 17.3314C4.14734 17.3313 2.66821 15.8523 2.66821 14.0277C2.66827 12.2031 4.14737 10.7241 5.97192 10.724C7.79657 10.724 9.27558 12.203 9.27563 14.0277ZM17.3313 14.0277C17.3313 15.8524 15.8523 17.3314 14.0276 17.3314C12.203 17.3313 10.7239 15.8523 10.7239 14.0277C10.7239 12.2031 12.203 10.724 14.0276 10.724C15.8522 10.724 17.3312 12.203 17.3313 14.0277ZM9.27563 5.97201C9.27563 7.7967 7.79661 9.27572 5.97192 9.27572C4.14734 9.2756 2.66821 7.79662 2.66821 5.97201C2.66833 4.14749 4.14741 2.66841 5.97192 2.6683C7.79654 2.6683 9.27552 4.14742 9.27563 5.97201ZM17.3313 5.97201C17.3313 7.79669 15.8523 9.27572 14.0276 9.27572C12.203 9.27566 10.7239 7.79666 10.7239 5.97201C10.724 4.14746 12.203 2.66836 14.0276 2.6683C15.8522 2.6683 17.3312 4.14742 17.3313 5.97201Z"})),ijt=Object.freeze(Object.defineProperty({__proto__:null,default:xue},Symbol.toStringTag,{value:"Module"})),prt=a=>{var i=a,{label:t,first:e,children:n,className:r}=i,s=de(i,["label","first","children","className"]);const l=g.useId();return o.jsxs("aside",P(C({className:U(e?"pt-(--sidebar-section-first-margin-top)":"pt-(--sidebar-section-margin-top)","last:mb-5",r),"aria-labelledby":t?l:void 0},s),{children:[t&&o.jsx(grt,{id:l,children:t}),n]}))},grt=t=>o.jsx(Ige,C({as:"h2"},t)),d1=t=>o.jsx(Pge,P(C({fillContainer:!0},t),{onClick:bue(t)})),hrt=t=>o.jsx(MM,P(C({as:"div",fillContainer:!0},t),{onClick:bue(t)}));function bue(t){return e=>{var n;(n=t.onClick)==null||n.call(t,e),!e.defaultPrevented&&e.currentTarget.contains(e.target)&&pn.setPopoverSidebarOpen(!1)}}function ljt(t){"use forget";const e=ee.c(8),{as:n,inExpandoSidebarSection:r}=t,s=n===void 0?d1:n,a=r===void 0?!1:r,i=Z(),l=Za();let c;e[0]!==a||e[1]!==i?(c=a?i.formatMessage({id:"gizmo.exploreStoreEnabled.short.expando",defaultMessage:"Explore"}):i.formatMessage({id:"gizmo.exploreStoreEnabled.short",defaultMessage:"GPTs"}),e[0]=a,e[1]=i,e[2]=c):c=e[2];const u=c;let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=Lge(),e[3]=d):d=e[3];const f=l.pathname==="/gpts";let m;return e[4]!==s||e[5]!==u||e[6]!==f?(m=o.jsx(s,{icon:xue,"data-testid":"explore-gpts-button",to:d,active:f,onClick:vrt,label:u}),e[4]=s,e[5]=u,e[6]=f,e[7]=m):m=e[7],m}function vrt(){Rge()&&pn.setPopoverSidebarOpen(!1),B.logEventWithStatsig("Sidebar Click Gizmo","chatgpt_sidebar_click_explore_gpts",{gizmo_id:"explore_gpts"})}const yrt=15;function xrt({task:t}){const e=(t.expectedDurationMinutes||yrt)*60*1e3,n=Rh(+new Date(t.createdAt),e);return t.status===Wr.UNDETERMINED?o.jsx(Ru,{percentage:0,thickness:1/10,className:"h-4 w-4 text-blue-400",backgroundStrokeClassName:"stroke-black/10 dark:stroke-white/10",transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"}):nse(t)?o.jsx(zoe,{className:"text-token-text-secondary"}):o.jsx(Ru,{percentage:n,thickness:1/10,className:"h-4 w-4 text-blue-400",backgroundStrokeClassName:"stroke-black/10 dark:stroke-white/10",transitionDuration:"".concat((100-n)/100*.2,"s"),transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"})}const brt=10,Crt=15,Wq=20,Zq=5,_rt=10;let UC=null;const Ri=t=>{var e,n,r,s,a,i,l;if(UC==null){const c=_s(t,"3317473948").value,u={convoPollingFreshnessMaxMins:((e=c.default_max_polling_duration)!=null?e:brt*60)/60,imageGenPollingFreshnessMaxMins:((n=c.model_slug_max_polling_durations.image_gen)!=null?n:Crt*60)/60,o1ProConvoPollingFreshnessMaxMins:((r=c.model_slug_max_polling_durations.o1_pro)!=null?r:Wq*60)/60,o3ProConvoPollingFreshnessMaxMins:((s=c.model_slug_max_polling_durations.o3_pro)!=null?s:Wq*60)/60,gpt4oConvoPollingIntervalMs:((a=c.model_slug_intervals.gpt_4o)!=null?a:Zq)*1e3,defaultConvoPollingIntervalMs:((i=c.default_interval)!=null?i:Zq)*1e3,imageGenPollingIntervalMs:((l=c.model_slug_intervals.image_gen)!=null?l:_rt)*1e3,errorCountThreshold:30};return UC=u,u}return UC};var Cue=(t=>(t[t.Standard=0]="Standard",t[t.ImageGen=1]="ImageGen",t))(Cue||{});function nu(t){var e;return(e=t==null?void 0:t.metadata)!=null&&e.image_gen_async?1:0}function wrt(t){var n,r;const e=(r=(n=t==null?void 0:t.metadata)==null?void 0:n.poll_on_websocket_inactivity_ms)!=null?r:0;return e>0?e:0}function XS(t,e){var s,a,i;const n=(a=(s=t==null?void 0:t.metadata)==null?void 0:s.poll_interval_ms)!=null?a:0;return n>0?n:nu(t)===1?Ri(e).imageGenPollingIntervalMs:Srt((i=t==null?void 0:t.metadata)==null?void 0:i.model_slug)?Ri(e).gpt4oConvoPollingIntervalMs:Ri(e).defaultConvoPollingIntervalMs}function YN(t,e){var s,a,i;const n=(a=(s=t==null?void 0:t.metadata)==null?void 0:s.poll_freshness_max_mins)!=null?a:0;if(n>0)return n;const r=(i=t==null?void 0:t.metadata)==null?void 0:i.model_slug;return wue(r)?Ri(e).o1ProConvoPollingFreshnessMaxMins:Sue(r)?Ri(e).o3ProConvoPollingFreshnessMaxMins:nu(t)===1?Ri(e).imageGenPollingFreshnessMaxMins:_ue(nu(t),e)}function _ue(t,e){switch(t){case 1:return Ri(e).imageGenPollingFreshnessMaxMins;case 0:return Ri(e).convoPollingFreshnessMaxMins}}function wue(t){return t?Lo(3010482349,"".concat(t,"-AAAA")):!1}function Sue(t){return t?Lo(3240390095,"".concat(t,"-AAAA")):!1}function Srt(t){return t?t==="gpt-4o":!1}function Kq(t,e){Fe(t,n=>{vn.updateTree(n,(r,s)=>{var i,l,c;if(!(((c=(l=(i=r.getNodeIfExists(s))==null?void 0:i.message)==null?void 0:l.content)==null?void 0:c.content_type)===rt.Text)){const u=uw("");return u.clientMetadata=C(C({},u.clientMetadata),e),r.addMessageNode(s,u)}r.updateNodeMetadata(s,e)})})}function kue({threadId:t}){const e=q(),n=pt(),r=g.useRef(!1),s=g.useRef(null),a=g.useRef(0),i=g.useRef(null);return g.useEffect(()=>{let l=!1;function c(){var f;return(f=se.getCurrentNode(st(t)))==null?void 0:f.message}let u=0;async function d(){var h,v,y;i.current==null&&(i.current=Date.now()),r.current=!0;let f=null;try{const x=c();if(nu(x)!==1&&!wue((h=x==null?void 0:x.metadata)==null?void 0:h.model_slug)&&!Sue((v=x==null?void 0:x.metadata)==null?void 0:v.model_slug))try{const b=Date.now()/1e3,{status:_}=await ue.safeGet("/conversation/{conversation_id}/stream_status",{parameters:{path:{conversation_id:t}}});_!=="COMPLETE"&&(u++,B.logEvent("ChatGPT Convo Stream: Polling Attempted",{conversationId:t,retryCount:u}),f={async_status:sn.STREAMING,update_time:b})}catch(b){}f==null&&(u++,B.logEventWithStatsig("ChatGPT Convo Stream: Polling Attempted","chatgpt_convo_stream_polling_attempted",{conversationId:t,retryCount:u}),f=await fa(t,{skipIfExisting:!1})),a.current=0}catch(x){a.current+=1;const b=c();if(a.current>=Ri(e).errorCountThreshold){B.logEventWithStatsig("chatgpt_web_network_error_poller_failure","chatgpt_web_network_error_poller_failure",{poll_type:nu(b)}),B.logNetworkError({source:"pending_thread_poller",type:"error"});const _="A network error occurred. Please check your connection and try again. ".concat(iY);Kq(t,{err:_,errType:"danger"})}else l||(s.current=window.setTimeout(d,XS(b,e)));return}if(f.async_status===sn.UNREAD){const x=c(),b=i.current?Date.now()-i.current:0;B.logEventWithStatsig("chatgpt_web_network_error_poller_success","chatgpt_web_network_error_poller_success",{duration_ms:b,poll_type:nu(x)}),ns(t,{source:Cr.SERVER,value:sn.UNREAD}),os(n,f.gizmo_id),da.updateThreadFromServer(t,f);return}if(f.async_status!==sn.STREAMING)return;const m=(y=f.update_time)!=null?y:0,p=KM(new Date,new Date(m*1e3));if(!l){const x=c();if(p<YN(x,e))s.current=window.setTimeout(d,XS(x,e));else{const b=c();B.logEventWithStatsig("chatgpt_web_network_error_poller_failure","chatgpt_web_network_error_poller_failure",{poll_type:nu(b)}),Kq(t,{err:Kl,errType:"danger",canRetry:!0}),ue.safePost("/conversation/{conversation_id}/async-status",{parameters:{path:{conversation_id:t}},requestBody:{status:null}})}}B.logEventWithStatsig("ChatGPT Convo Stream: Polling Complete","chatgpt_convo_stream_polling_complete",{conversationId:t,retryCount:u})}return r.current||(B.logEvent("Conversation Polling Started"),d()),()=>{l=!0,s.current&&window.clearTimeout(s.current),r.current=!1}},[n,t,e]),null}function Mue(t){const e=q(),n=C5(t),{value:r=null,source:s=null}=n!=null?n:{};return Te(t,a=>{var m,p,h;const i=(m=se.getCurrentNode(a))==null?void 0:m.message,l=YN(i,e),c=se.getUpdateTime(a),u=Math.max(c!=null?c:0,(p=i==null?void 0:i.create_time)!=null?p:0,(h=i==null?void 0:i.update_time)!=null?h:0),d=KM(new Date,new Date(u*1e3))<l;return ie(e,"3922476776")&&d&&r===sn.STREAMING&&s===Cr.SERVER})}const rf=Rt(Sn(()=>({dragData:null,conversationDropTargetCount:0}))),krt=()=>{"use forget";return rf(Trt)},Mrt=t=>{rf.setState({dragData:t})},Ert=()=>{rf.setState(t=>{t.dragData=null})},cjt=()=>(rf.setState(t=>{t.conversationDropTargetCount+=1}),()=>{rf.setState(t=>{t.conversationDropTargetCount=Math.max(0,t.conversationDropTargetCount-1)})}),jrt=()=>{"use forget";return rf(Nrt)};function Trt(t){return t.dragData}function Nrt(t){return t.conversationDropTargetCount>0}function Art(t){const e=q(),[n,r]=g.useState(()=>ic(()=>w5(e)().some(a=>a.conversationId===t)));return g.useEffect(()=>{var a;let s=(a=st(t))==null?void 0:a.title;return pM.subscribe(i=>{const l=st(t,i),c=l==null?void 0:l.title;c!==s&&((l==null?void 0:l.titleSource)===y0.Generated&&AQ()?r(!0):r(!1),s=c)})},[t]),n}function Prt({text:t}){const e=xN(),[n,r]=g.useState({finalText:t,pos:0,isTyping:!!t});g.useEffect(()=>{r(t?{finalText:t,pos:0,isTyping:!0}:{finalText:"",pos:0,isTyping:!1})},[t]);const s=g.useMemo(()=>Array.from(n.finalText),[n.finalText]),a=g.useMemo(()=>n.finalText?new Irt().humanTypingDelaysQuertyDistance(s):[],[s,n.finalText]);return g.useEffect(()=>{if(!n.isTyping)return;const i=a.map((l,c)=>setTimeout(()=>{e()&&r(u=>P(C({},u),{pos:c+1,isTyping:c+1<s.length}))},l));return()=>i.forEach(clearTimeout)},[n.isTyping,a,s,e]),o.jsx(o.Fragment,{children:n.finalText.slice(0,n.pos)})}class Irt{qwertyDistance(e,n){var c,u;const r={q:[0,0],w:[1,0],e:[2,0],r:[3,0],t:[4,0],y:[5,0],u:[6,0],i:[7,0],o:[8,0],p:[9,0],a:[0,1],s:[1,1],d:[2,1],f:[3,1],g:[4,1],h:[5,1],j:[6,1],k:[7,1],l:[8,1],z:[0,2],x:[1,2],c:[2,2],v:[3,2],b:[4,2],n:[5,2],m:[6,2]},[s,a]=(c=r[e.toLowerCase()])!=null?c:[0,0],[i,l]=(u=r[n.toLowerCase()])!=null?u:[0,0];return Math.abs(s-i)+Math.abs(a-l)}humanTypingDelaysQuertyDistance(e,n=10,r=100){let s=0;const a=[];for(let i=0;i<e.length;++i){let l;if(i>0){const c=this.qwertyDistance(e[i-1],e[i]);c===0?l=this.getRandomInt(n,Math.floor(r/2)):c===1?l=this.getRandomInt(n,Math.floor(r*2/3)):l=this.getRandomInt(n,r)}else l=this.getRandomInt(n,r);a.push(l+s),s+=l}return a}getRandomInt(e,n){return Math.floor(Math.random()*(n-e+1))+e}}function Lrt(t){"use forget";const e=ee.c(9),{clientThreadId:n,historyConversationResponse:r,shouldShowLoadingShimmer$:s}=t,a=at(s);let i;e[0]!==r.is_do_not_remember||e[1]!==a?(i=U({"loading-shimmer":a,"opacity-60":r.is_do_not_remember}),e[0]=r.is_do_not_remember,e[1]=a,e[2]=i):i=e[2];let l;e[3]!==n||e[4]!==r?(l=o.jsx(Rrt,{clientThreadId:n,historyConversationResponse:r}),e[3]=n,e[4]=r,e[5]=l):l=e[5];let c;return e[6]!==i||e[7]!==l?(c=o.jsx("span",{className:i,dir:"auto",children:l}),e[6]=i,e[7]=l,e[8]=c):c=e[8],c}function Rrt(t){"use forget";const e=ee.c(2),{clientThreadId:n,historyConversationResponse:r}=t,s=Te(n,Ort),a=Art(n),i=s!=null?s:r.title;if(a){const l=i!=null?i:"";let c;return e[0]!==l?(c=o.jsx(Prt,{text:l}),e[0]=l,e[1]=c):c=e[1],c}return i}function Ort(t){return t==null?void 0:t.title}function Drt(t){"use forget";const e=ee.c(19),{conversationId:n,historyConversationResponse:r,onClose:s}=t;let a;e[0]!==n||e[1]!==r?(a=()=>{var v,y,x;return(x=(y=(v=st(n))==null?void 0:v.title)!=null?y:r.title)!=null?x:""},e[0]=n,e[1]=r,e[2]=a):a=e[2];const[i]=g.useState(a),l=g.useRef(null),c=q(),u=pt();let d;e[3]!==n||e[4]!==c||e[5]!==r||e[6]!==i||e[7]!==u?(d=function(){var x,b;const y=(b=(x=l.current)==null?void 0:x.value)!=null?b:"";y!==i&&(k5(c,n,y,y0.User),B.logEvent("Rename Thread",{threadId:n,content:y}),ue.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:n}},requestBody:{title:y},intercomEventOnError:"fetch-error:conversation:edit"}).then(()=>{os(u,r.gizmo_id)}))},e[3]=n,e[4]=c,e[5]=r,e[6]=i,e[7]=u,e[8]=d):d=e[8];const f=d;let m;e[9]!==s||e[10]!==f?(m=v=>{if(!v.nativeEvent.isComposing){v.key===" "&&v.stopPropagation();e:switch(v.key){case"Escape":{s();break e}case"Enter":f(),s()}}},e[9]=s,e[10]=f,e[11]=m):m=e[11];let p;e[12]!==s||e[13]!==f?(p=()=>{f(),s()},e[12]=s,e[13]=f,e[14]=p):p=e[14];let h;return e[15]!==i||e[16]!==m||e[17]!==p?(h=o.jsx("input",{type:"text",defaultValue:i,ref:l,onClick:Brt,onKeyDown:m,onFocus:Frt,onBlur:p,autoFocus:!0,className:"w-full border-none bg-transparent p-0 text-sm focus:ring-0"}),e[15]=i,e[16]=m,e[17]=p,e[18]=h):h=e[18],h}function Frt(t){var e;(e=t.currentTarget)==null||e.select()}function Brt(t){t.preventDefault()}const Eue=Je(()=>Ve(()=>Promise.resolve().then(()=>BHe),void 0).then(t=>t.GizmoConversationOptionsDropdown)),Urt=new Date(2024,9,11,0);function Hrt(t){B.logEvent("Load Thread",{threadId:t})}function ujt(t){"use forget";const e=ee.c(12),{conversation:n,onOpenChange:r,testId:s,inMainScreen:a,isActiveConversation:i}=t,l=a===void 0?!1:a,c=Z(),u=q();if(!Et(u))return null;let f;e[0]!==c?(f=c.formatMessage({id:"idEcXk",defaultMessage:"Open conversation options"}),e[0]=c,e[1]=f):f=e[1];let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=o.jsx(Ja,{className:"icon"}),e[2]=m):m=e[2];let p;e[3]!==f||e[4]!==s?(p=o.jsx("button",{className:"text-token-text-secondary hover:text-token-text-primary radix-state-open:text-token-text-secondary flex h-full w-full items-center justify-center transition","data-testid":s,"aria-label":f,"data-prevent-default":!0,children:m}),e[3]=f,e[4]=s,e[5]=p):p=e[5];let h;return e[6]!==n||e[7]!==l||e[8]!==i||e[9]!==r||e[10]!==p?(h=o.jsx(Eue,{conversation:n,onOpenChange:r,inMainScreen:l,isActiveConversation:i,children:p}),e[6]=n,e[7]=l,e[8]=i,e[9]=r,e[10]=p,e[11]=h):h=e[11],h}const QN=g.memo(Vrt);function Vrt({conversation:t,className:e,hideOverflowMenu:n=!1,isActive:r,elementRef:s,testId:a,onSelect:i,icon:l,isStarred:c}){"use forget";var X,te,ae,me;const u=Z(),d=q(),[f,m]=g.useState(!1),p=Mr(),h="owner"in t?(X=t.owner)==null?void 0:X.user_id:null,v=h==null||h===(p==null?void 0:p.normalizedAccountUserId),y=ie(d,"232791851"),x=g.useCallback(()=>{if(t.id===void 0)return null;const W=cr(d,t.id);return Yu(W)},[t.id,d]),b=g.useCallback(()=>{var W,K;return(K=(W=x())==null?void 0:W.value)!=null?K:null},[x]),_=g.useCallback(()=>{var W,K;return(K=(W=x())==null?void 0:W.source)!=null?K:null},[x]),w=()=>(_t.windowStyle$(),wn(d)),S=Te(t.id,se.getRequestId),k=g.useCallback(()=>o_e(d,S),[d,S]),M=KM(new Date,new Date((te=t.update_time)!=null?te:0))<_ue(Cue.Standard,d),E=t.update_time&&Oge(new Date(t.update_time),Urt),T=()=>(b()===sn.STREAMING||b()===sn.REALTIME)&&M,j=()=>!!(y&&!r&&!k()&&E&&b()===sn.UNREAD&&!w()),A=()=>y&&!r&&(k()||T()),I=y&&!r,L=()=>!A()&&y&&!r&&(k()||T()),O=Mue(t.id)&&!r,R=g.useRef(!1);g.useEffect(()=>{if(!R.current&&ie(d,"3922476776"))return r?Bd(()=>(k(),b()===sn.UNREAD),async W=>{W&&(_()===Cr.SERVER&&(R.current=!0,await ue.safePost("/conversation/{conversation_id}/async-status",{parameters:{path:{conversation_id:t.id}},requestBody:{status:null}})),ns(t.id,null),R.current=!1)}):Bd(()=>(k(),_()===Cr.CLIENT&&b()===sn.UNREAD),async W=>{W&&(R.current=!0,await ue.safePost("/conversation/{conversation_id}/async-status",{parameters:{path:{conversation_id:t.id}},requestBody:{status:b()}}),ns(t.id,{value:sn.UNREAD,source:Cr.SERVER}),R.current=!1)})},[d,r,t.id,b,_,k]),g.useEffect(()=>Dge(rae,{editTitle:({serverThreadId:W})=>{v&&(W?W===t.id:r)&&m(!0)}}),[t.id,r,v]);const H=at(()=>{var W,K;if(t.conversation_template_id!=null)return(K=(W=Fge(d).data)==null?void 0:W.gizmos.find(ne=>ne.resource.gizmo.id===t.conversation_template_id))==null?void 0:K.resource}),V=g.useRef(null),z=!!t.gizmo_id&&ko(t.gizmo_id)&&"owner"in t,$=z?t.gizmo_id?{gizmo:{id:t.gizmo_id}}:void 0:H,D=z?(ae=t.owner)==null?void 0:ae.user_id:void 0,Y=(me=yt(d))==null?void 0:me.normalizedAccountUserId,G=jrt(),F=g.useRef(null);return o.jsxs(d1,{icon:l,draggable:!f&&G&&mw(t.gizmo_id,c),onDragStart:W=>{var re;if(!mw(t.gizmo_id,c))return;const K=W.currentTarget,ne=V.current;ne&&(ne.style.display="none"),K.style.opacity="0.99",ne&&requestAnimationFrame(()=>{ne.style.display="",K.style.opacity="0"}),W.dataTransfer.effectAllowed="move",Mrt({kind:"conversation",conversation:t,gizmoId:(re=t.gizmo_id)!=null?re:null})},onDragEnd:W=>{W.currentTarget.style.opacity="",Ert()},ref:ST(s,F),active:r,className:e,to:_i(t.id,$,z,D,Y),onClick:W=>{W.metaKey||W.ctrlKey||!r&&!W.defaultPrevented&&(Hrt(t.id),i==null||i())},onDoubleClick:()=>{m(!0)},trailing:o.jsx($rt,{conversationId:t.id,isActive:r,isEditingTitle:f,canShowAsyncTaskProgressCircle:I,shouldShowUnreadNotification$:j,shouldShowLoadingSpinner$:A}),highlightTrailing:!n&&!f&&o.jsx(Eue,{conversation:t,isActiveConversation:r,onOpenChange:W=>{W&&B.logEvent("Conversation History Item Open Menu",{conversationId:t.id})},children:o.jsx(aQ,{ref:V,"data-testid":"".concat(a,"-options"),"aria-label":u.formatMessage({id:"idEcXk",defaultMessage:"Open conversation options"}),icon:Ja})}),label:!f&&o.jsx(Lrt,{clientThreadId:t.id,historyConversationResponse:t,shouldShowLoadingShimmer$:L}),children:[O&&o.jsx(kue,{threadId:t.id}),f?o.jsx(Drt,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{m(!1)}}):c&&o.jsx($f,{className:"icon-xs text-token-icon-tertiary opacity-50"})]})}function $rt(t){"use forget";const e=ee.c(7),{conversationId:n,isActive:r,isEditingTitle:s,shouldShowUnreadNotification$:a,canShowAsyncTaskProgressCircle:i,shouldShowLoadingSpinner$:l}=t,c=jDe(n),u=at(a),d=at(l);let f;return e[0]!==i||e[1]!==c||e[2]!==r||e[3]!==s||e[4]!==d||e[5]!==u?(f=!r&&!s&&(u?o.jsx(Fre,{color:"blue"}):i&&c.length>0?o.jsx(xrt,{task:c[0]}):d?o.jsx(iqe,{size:16,className:"text-token-text-primary"}):null),e[0]=i,e[1]=c,e[2]=r,e[3]=s,e[4]=d,e[5]=u,e[6]=f):f=e[6],f}function djt({gizmoResource:t,serverThreadId:e,isOnProjectPage:n,conversations:r,hasNextPage:s=!1}){const a=q(),i=r!=null?r:[],l=i.findIndex(d=>d.id===e),c=i.slice(0,Ym);l!=null&&l>=Ym&&(c[Ym-1]=i[l]);const u=s||i.length>Ym;return o.jsxs(o.Fragment,{children:[c.map(d=>o.jsx(QN,{className:"ps-9",conversation:d,isActive:d.id===e},d.id)),u&&!n&&o.jsx(d1,{to:Sf(a,t),className:"ps-9",label:o.jsx(N,C({},xt.seeAllChats))})]})}function qrt(t,e,n){var i;const r=lc(t),s=Yq(()=>{const l=e();return C({notifyOnChangeProps:["data","failureCount","isLoading","error","status","isFetchingNextPage","isFetchNextPageError","hasNextPage","fetchStatus"],refetchOnReconnect:!1,throwOnError:!1,queryHash:JSON.stringify(l.queryKey)},l)}),a=Yq(()=>new RK(r,s()));return gY(()=>a().getOptimisticResult(s()),l=>{let c=!1;const u=a().subscribe(()=>{c&&l()});return c=!0,u},{name:(i=n==null?void 0:n.name)!=null?i:"infiniteReactQuerySignal",getServerFallback:()=>zrt(t)})}const zrt=va(t=>{const e=lc(t),n=eM({queryKey:["__empty"],initialPageParam:"0",getNextPageParam:r=>{var s;return(s=r==null?void 0:r.cursor)!=null?s:void 0},notifyOnChangeProps:["data","isLoading","error","status"]});return new RK(e,n).getOptimisticResult(P(C({},n),{refetchOnReconnect:!1,throwOnError:!1,queryHash:"infiniteReactQuerySignal"}))});function Yq(t){let e;return()=>e!=null?e:e=t()}const Grt=(t,e)=>{const n=qrt(t,()=>Q1(e.id),{}),r=nt(!1),s=nt(!1),a=un(()=>n().hasNextPage&&!i()),i=un(()=>!s()&&(n().fetchStatus==="fetching"||r()||n().isFetchingNextPage)),l={awaitingManualRetry$:s,all$:un(()=>{var c,u;return(u=(c=n().data)==null?void 0:c.pages.flatMap(d=>d.items))!=null?u:null}),preload$:()=>{n().refetch()},canFetchMore$:un(()=>a()&&!i()&&!n().isFetchingNextPage&&!r()&&n().fetchStatus==="idle"&&!l.awaitingManualRetry$()),cursor$:un(()=>{var d;const c=n().data;if(!c||!Array.isArray(c.pages)||c.pages.length===0)return null;const u=c.pages[c.pages.length-1];return(d=u==null?void 0:u.cursor)!=null?d:null}),canShowConversations$:un(()=>{const c=l.all$();return!!(c&&c.length>0||i()||s())}),fetchMore$:()=>{r.set(!0),n().fetchNextPage(),setTimeout(()=>r.set(!1),1e3)},failureCount$:un(()=>n().failureCount),error$:un(()=>n().error),isFetchNextPageError$:un(()=>n().isFetchNextPageError),hasNextPage$:a,isLoading$:i};return Bd(()=>({isFetchNextPageError:l.isFetchNextPageError$(),failureCount:l.failureCount$()}),({isFetchNextPageError:c,failureCount:u})=>{c&&u>0&&l.awaitingManualRetry$.set(!0)}),l},M3=va(()=>nt({}));function Wrt(t,e){var a;const n=M3(t),r=R4(n(),"theme",e.gizmo.id);let s;return r===void 0?s=(a=e.gizmo.display.theme)!=null?a:null:s=r,s}function Zrt(t,e){var a;const n=M3(t),r=R4(n(),"emoji",e.gizmo.id);return(a=r!=null?r:e.gizmo.display.emoji)!=null?a:null}function Krt(t,e){var a;const n=M3(t),r=R4(n(),"name",e.gizmo.id);return(a=r!=null?r:e.gizmo.display.name)!=null?a:null}function jue(t,e){const n=M3(t);return R4(n(),"pendingFiles",e)}const R4=(t,e,n)=>{if(n===pp||!n)return;const r="".concat(n,"-").concat(e);return t[r]},ep=(t,e,n,r)=>{if(e===pp)return;M3(t).set(a=>{const i="".concat(e,"-").concat(n),l=C({},a);return r===void 0?delete l[i]:l[i]=r,l})},HC=(t,e,n)=>{ep(t,e,n,void 0)};function Yrt({ctx:t,id:e,theme:n,emoji:r,name:s,pendingFiles:a}){if(n!==void 0&&ep(t,e,"theme",n),r!==void 0&&ep(t,e,"emoji",r),s!==void 0&&ep(t,e,"name",s),a!==void 0){let i=jue(t,e);i==null&&(i=new Map),a.value!=null?i.set(a.key,a.value):i.delete(a.key),ep(t,e,"pendingFiles",i)}}function Qrt(t,e){const n=Object.is,r=nt(t,e),s=nt(t,e);return r.baseline$=s,r.isOptimistic$=un(()=>!n(r(),r.baseline$())),r.commit=a=>{const i=typeof a=="function"?a(r()):a===void 0?r():a;return M6(()=>{n(s(),i)||s.set(i),a!==void 0&&!n(r(),i)&&r.set(i)}),i},r.rollback=()=>{const a=s();return n(r(),a)||r.set(a),a},r}const Jrt="Loading project",fjt=g.createContext(null),Xrt=(t,e,n)=>{const r=lc(t),s=Rs(r,e),a=PM(t,()=>s,{forcePendingOnServer:!0}),i={id:e,serverState$:a,queueUpdate$:async({theme:l,emoji:c,name:u,opts:d,withPostUpdate:f=!0})=>{if(Yrt({ctx:t,id:e,theme:l,emoji:c,name:u}),f){const{resource:m}=await i.postUpdate$(d);return{id:i.id,resource:m}}return{id:i.id}},lastScrollPosition$:Qrt(null),postUpdate$:async l=>{var u,d,f;const{resource:c}=await n.mutateAsync({update:C({name:(u=i.title$())!=null?u:void 0,theme:(d=i.theme$())!=null?d:void 0,emoji:(f=i.emoji$())!=null?f:void 0},l),id:i.id});return HC(t,i.id,"name"),HC(t,i.id,"theme"),HC(t,i.id,"emoji"),{id:i.id,resource:c}},conversations$:nt(()=>Grt(t,i)),isSkeleton$:un(()=>a().data===void 0),gizmo$:un(()=>{var l;return(l=a().data)!=null?l:null}),status$:un(()=>{const l=i.conversations$().all$();return l?l.length>0?"has-conversations":"empty":"loading"}),theme$:un(()=>{const l=a().data;return l?Wrt(t,l):null}),isShared$:un(()=>{var c,u,d;const l=a().data;return l?((d=(u=(c=l.gizmo.sharing)==null?void 0:c.subjects)==null?void 0:u.length)!=null?d:0)>0:null}),emoji$:un(()=>{var u;const l=a().data;if(!l)return null;const c=Zrt(t,l);return(u=c!=null?c:l.gizmo.display.emoji)!=null?u:null}),title$:un(()=>{var d;const l=a().data;if(i.isSkeleton$())return Jrt;if(!l)return null;const u=Krt(t,l);return(d=u!=null?u:l.gizmo.display.name)!=null?d:null}),filesCount$:un(()=>{var u,d;const l=a().data;if(!l)return null;const c=jue(t,l.gizmo.id);return((u=l.files.length)!=null?u:0)+((d=c==null?void 0:c.size)!=null?d:0)})};return i},mjt=va(t=>{const e=new Map;return function(n,r){var a;const s=(a=e.get(n))!=null?a:Xrt(t,n,r);return e.set(n,s),s}}),est="3578245547",tst="2904126195",nst="persist-files-to-library",rst="show-recent-files-dropdown",sst="double-write-files-to-library";function ast(t,e=!1){ze(t,tst,{disableExposureLog:e});const n=Vo(t,est,{disableExposureLog:e});return{persistFilesToLibrary:n.get(nst,!1),showRecentFilesDropdown:n.get(rst,!1),doubleWriteFilesToLibrary:n.get(sst,!1)}}var N2={},Qq;function ost(){return Qq||(Qq=1,N2.__esModule=!0,N2.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",s=(t.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return n.some(function(i){var l=i.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):s===l})}return!0}),N2}var ist=ost();const VC=St(ist);function Jq(t){return ust(t)||cst(t)||Nue(t)||lst()}function lst(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ust(t){if(Array.isArray(t))return ek(t)}function Xq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ez(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0(t,e){return mst(t)||fst(t,e)||Nue(t,e)||dst()}function dst(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nue(t,e){if(t){if(typeof t=="string")return ek(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ek(t,e)}}function ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fst(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,a=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function mst(t){if(Array.isArray(t))return t}var pst=typeof VC=="function"?VC:VC.default,gst="file-invalid-type",Aue="file-too-large",hst="file-too-small",Pue="too-many-files",pjt={FileTooLarge:Aue,TooManyFiles:Pue},vst=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:gst,message:"File type must be ".concat(r)}},tz=function(e){return{code:Aue,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},nz=function(e){return{code:hst,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},gjt={code:Pue,message:"Too many files"};function yst(t,e){var n=t.type==="application/x-moz-file"||pst(t,e);return[n,n?null:vst(e)]}function xst(t,e,n){if(Kc(t.size))if(Kc(e)&&Kc(n)){if(t.size>n)return[!1,tz(n)];if(t.size<e)return[!1,nz(e)]}else{if(Kc(e)&&t.size<e)return[!1,nz(e)];if(Kc(n)&&t.size>n)return[!1,tz(n)]}return[!0,null]}function Kc(t){return t!=null}function hjt(t){var e=t.files,n=t.accept,r=t.minSize,s=t.maxSize,a=t.multiple,i=t.maxFiles,l=t.validator;return!a&&e.length>1||a&&i>=1&&e.length>i?!1:e.every(function(c){var u=yst(c,n),d=a0(u,1),f=d[0],m=xst(c,r,s),p=a0(m,1),h=p[0],v=l?l(c):null;return f&&h&&!v})}function rz(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function vjt(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function yjt(t){t.preventDefault()}function bst(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Cst(t){return t.indexOf("Edge/")!==-1}function xjt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return bst(t)||Cst(t)}function bjt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return e.some(function(l){return!rz(r)&&l&&l.apply(void 0,[r].concat(a)),rz(r)})}}function Cjt(){return"showOpenFilePicker"in window}function _jt(t){if(Kc(t)){var e=Object.entries(t).filter(function(n){var r=a0(n,2),s=r[0],a=r[1],i=!0;return Iue(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),i=!1),(!Array.isArray(a)||!a.every(Lue))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),i=!1),i}).reduce(function(n,r){var s=a0(r,2),a=s[0],i=s[1];return ez(ez({},n),{},Tue({},a,i))},{});return[{description:"Files",accept:e}]}return t}function wjt(t){if(Kc(t))return Object.entries(t).reduce(function(e,n){var r=a0(n,2),s=r[0],a=r[1];return[].concat(Jq(e),[s],Jq(a))},[]).filter(function(e){return Iue(e)||Lue(e)}).join(",")}function Sjt(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function kjt(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Iue(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function Lue(t){return/^.*\.[\w]+$/.test(t)}const Mjt=({className:t})=>o.jsxs(Yr,{width:"132",height:"108",viewBox:"0 0 132 108",fill:"none",className:t,children:[o.jsx("g",{clipPath:"url(#clip0_3605_64419)",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.2025 29.3514C10.778 33.2165 8.51524 37.1357 11.8281 49.4995L13.4846 55.6814C16.7975 68.0453 20.7166 70.308 35.1411 66.443L43.3837 64.2344C57.8082 60.3694 60.0709 56.4502 56.758 44.0864L55.1016 37.9044C51.7887 25.5406 47.8695 23.2778 33.445 27.1428L29.3237 28.2471L25.2025 29.3514ZM18.1944 42.7244C18.8572 41.5764 20.325 41.1831 21.4729 41.8459L27.3517 45.24C28.4996 45.9027 28.8929 47.3706 28.2301 48.5185L24.836 54.3972C24.1733 55.5451 22.7054 55.9384 21.5575 55.2757C20.4096 54.613 20.0163 53.1451 20.6791 51.9972L22.8732 48.1969L19.0729 46.0028C17.925 45.3401 17.5317 43.8723 18.1944 42.7244ZM29.4091 56.3843C29.066 55.104 29.8258 53.7879 31.1062 53.4449L40.3791 50.9602C41.6594 50.6172 42.9754 51.377 43.3184 52.6573C43.6615 53.9376 42.9017 55.2536 41.6214 55.5967L32.3485 58.0813C31.0682 58.4244 29.7522 57.6646 29.4091 56.3843Z",fill:"#AFC1FF"})}),o.jsx("g",{clipPath:"url(#clip1_3605_64419)",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M86.8124 13.4036C81.0973 11.8722 78.5673 13.2649 77.0144 19.0603L68.7322 49.97C67.1793 55.7656 68.5935 58.2151 74.4696 59.7895L97.4908 65.958C103.367 67.5326 105.816 66.1184 107.406 60.1848L115.393 30.379C115.536 29.8456 115.217 29.2959 114.681 29.16C113.478 28.8544 112.435 28.6195 111.542 28.4183C106.243 27.2253 106.22 27.2201 109.449 20.7159C109.73 20.1507 109.426 19.4638 108.816 19.3004L86.8124 13.4036ZM87.2582 28.4311C86.234 28.1567 85.1812 28.7645 84.9067 29.7888C84.6323 30.813 85.2401 31.8658 86.2644 32.1403L101.101 36.1158C102.125 36.3902 103.178 35.7824 103.453 34.7581C103.727 33.7339 103.119 32.681 102.095 32.4066L87.2582 28.4311ZM82.9189 37.2074C83.1934 36.1831 84.2462 35.5753 85.2704 35.8497L100.107 39.8252C101.131 40.0996 101.739 41.1524 101.465 42.1767C101.19 43.201 100.137 43.8088 99.1132 43.5343L84.2766 39.5589C83.2523 39.2844 82.6445 38.2316 82.9189 37.2074ZM83.2826 43.2683C82.2584 42.9939 81.2056 43.6017 80.9311 44.626C80.6567 45.6502 81.2645 46.703 82.2888 46.9775L89.7071 48.9652C90.7313 49.2396 91.7841 48.6318 92.0586 47.6076C92.333 46.5833 91.7252 45.5305 90.7009 45.256L83.2826 43.2683Z",fill:"#7989FF"})}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.4004 71.8426C40.4004 57.2141 44.0575 53.5569 61.1242 53.5569H66.0004H70.8766C87.9432 53.5569 91.6004 57.2141 91.6004 71.8426V79.1569C91.6004 93.7855 87.9432 97.4426 70.8766 97.4426H61.1242C44.0575 97.4426 40.4004 93.7855 40.4004 79.1569V71.8426ZM78.8002 67.4995C78.8002 70.1504 76.6512 72.2995 74.0002 72.2995C71.3492 72.2995 69.2002 70.1504 69.2002 67.4995C69.2002 64.8485 71.3492 62.6995 74.0002 62.6995C76.6512 62.6995 78.8002 64.8485 78.8002 67.4995ZM60.7204 70.8597C60.2672 70.2553 59.5559 69.8997 58.8004 69.8997C58.045 69.8997 57.3337 70.2553 56.8804 70.8597L47.2804 83.6597C46.4851 84.72 46.7 86.2244 47.7604 87.0197C48.8208 87.8149 50.3251 87.6 51.1204 86.5397L58.8004 76.2997L66.4804 86.5397C66.8979 87.0962 67.5363 87.4443 68.2303 87.4936C68.9243 87.5429 69.6055 87.2887 70.0975 86.7967L74.8004 82.0938L79.5034 86.7967C80.4406 87.734 81.9602 87.734 82.8975 86.7967C83.8347 85.8595 83.8347 84.3399 82.8975 83.4026L76.4975 77.0026C75.5602 76.0653 74.0406 76.0653 73.1034 77.0026L68.6601 81.4459L60.7204 70.8597Z",fill:"#3C46FF"}),o.jsxs("defs",{children:[o.jsx("clipPath",{id:"clip0_3605_64419",children:o.jsx("rect",{width:"56",height:"56",fill:"white",transform:"translate(0 26.9939) rotate(-15)"})}),o.jsx("clipPath",{id:"clip1_3605_64419",children:o.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(69.5645 0.5) rotate(15)"})})]})]}),Ejt=({className:t})=>o.jsxs(Yr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#10A37F"}),o.jsx("path",{d:"M15.5 10.5H12.1667C11.2462 10.5 10.5 11.2462 10.5 12.1667V13.5V18M15.5 10.5H23.8333C24.7538 10.5 25.5 11.2462 25.5 12.1667V13.5V18M15.5 10.5V25.5M15.5 25.5H18H23.8333C24.7538 25.5 25.5 24.7538 25.5 23.8333V18M15.5 25.5H12.1667C11.2462 25.5 10.5 24.7538 10.5 23.8333V18M10.5 18H25.5",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),jjt=({className:t})=>o.jsxs(Yr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF5588"}),o.jsx("path",{d:"M19.6663 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V14.6666L19.6663 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M19.667 9.66663V14.6666H24.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M21.3337 18.8334H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M21.3337 22.1666H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M16.3337 15.5H15.5003H14.667",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Tjt=({className:t})=>o.jsxs(Yr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#0088FF"}),o.jsx("path",{d:"M18.833 9.66663H12.9997C12.5576 9.66663 12.1337 9.84222 11.8212 10.1548C11.5086 10.4673 11.333 10.8913 11.333 11.3333V24.6666C11.333 25.1087 11.5086 25.5326 11.8212 25.8451C12.1337 26.1577 12.5576 26.3333 12.9997 26.3333H22.9997C23.4417 26.3333 23.8656 26.1577 24.1782 25.8451C24.4907 25.5326 24.6663 25.1087 24.6663 24.6666V15.5L18.833 9.66663Z",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M18.833 9.66663V15.5H24.6663",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),Njt=({className:t})=>o.jsxs(Yr,{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",className:t,children:[o.jsx("rect",{width:"36",height:"36",rx:"6",fill:"#FF6E3C"}),o.jsx("path",{d:"M21.333 23L26.333 18L21.333 13",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M14.667 13L9.66699 18L14.667 23",stroke:"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]}),JN=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.94556 14.0277C7.9455 12.9376 7.06204 12.054 5.97192 12.054C4.88191 12.0542 3.99835 12.9376 3.99829 14.0277C3.99829 15.1177 4.88188 16.0012 5.97192 16.0013C7.06207 16.0013 7.94556 15.1178 7.94556 14.0277ZM13.3625 16.6663V14.6927H11.3889C11.0216 14.6927 10.7239 14.3949 10.7239 14.0277C10.7239 13.6605 11.0217 13.3626 11.3889 13.3626H13.3625V11.389C13.3625 11.0218 13.6604 10.724 14.0276 10.724C14.3949 10.724 14.6926 11.0217 14.6926 11.389V13.3626H16.6663L16.801 13.3763C17.1038 13.4385 17.3312 13.7065 17.3313 14.0277C17.3313 14.3489 17.1038 14.6169 16.801 14.679L16.6663 14.6927H14.6926V16.6663C14.6926 17.0336 14.3949 17.3314 14.0276 17.3314C13.6604 17.3313 13.3625 17.0336 13.3625 16.6663ZM7.94556 5.97201C7.94544 4.88196 7.062 3.99837 5.97192 3.99837C4.88195 3.99849 3.99841 4.88203 3.99829 5.97201C3.99829 7.06208 4.88187 7.94552 5.97192 7.94564C7.06207 7.94564 7.94556 7.06216 7.94556 5.97201ZM16.0012 5.97201C16.0011 4.88196 15.1177 3.99837 14.0276 3.99837C12.9376 3.99843 12.0541 4.882 12.054 5.97201C12.054 7.06212 12.9375 7.94558 14.0276 7.94564C15.1177 7.94564 16.0012 7.06216 16.0012 5.97201ZM9.27563 14.0277C9.27563 15.8524 7.79661 17.3314 5.97192 17.3314C4.14734 17.3313 2.66821 15.8523 2.66821 14.0277C2.66827 12.2031 4.14737 10.7241 5.97192 10.724C7.79657 10.724 9.27558 12.203 9.27563 14.0277ZM9.27563 5.97201C9.27563 7.7967 7.79661 9.27572 5.97192 9.27572C4.14734 9.2756 2.66821 7.79662 2.66821 5.97201C2.66833 4.14749 4.14741 2.66841 5.97192 2.6683C7.79654 2.6683 9.27552 4.14742 9.27563 5.97201ZM17.3313 5.97201C17.3313 7.79669 15.8523 9.27572 14.0276 9.27572C12.203 9.27566 10.7239 7.79666 10.7239 5.97201C10.724 4.14746 12.203 2.66836 14.0276 2.6683C15.8522 2.6683 17.3312 4.14742 17.3313 5.97201Z"})),Ajt=Object.freeze(Object.defineProperty({__proto__:null,default:JN},Symbol.toStringTag,{value:"Module"})),Rue=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14.665 12.335C15.0323 12.335 15.3301 12.6327 15.3301 13V14.8301H17.165C17.5323 14.8301 17.8301 15.1278 17.8301 15.4951C17.8301 15.8624 17.5323 16.1602 17.165 16.1602H15.3301V18C15.3301 18.3673 15.0323 18.665 14.665 18.665C14.2978 18.665 14 18.3673 14 18V16.1602H12.165C11.7978 16.1602 11.5 15.8624 11.5 15.4951C11.5 15.1278 11.7978 14.8301 12.165 14.8301H14V13C14 12.6327 14.2978 12.335 14.665 12.335ZM4.16504 6.83496C4.53231 6.83496 4.83008 7.13273 4.83008 7.5V12.5C4.83008 14.8942 6.77088 16.835 9.16504 16.835C9.53231 16.835 9.83008 17.1327 9.83008 17.5C9.83008 17.8214 9.60196 18.0894 9.29883 18.1514L9.16504 18.165L8.87305 18.1572C5.88006 18.0053 3.5 15.5308 3.5 12.5V7.5C3.5 7.13273 3.79777 6.83496 4.16504 6.83496ZM10.832 1.83496C13.04 1.83514 14.8299 3.62505 14.8301 5.83301V10C14.8301 10.3673 14.5323 10.665 14.165 10.665C13.7978 10.665 13.5 10.3673 13.5 10V5.83301C13.4998 4.35959 12.3055 3.16522 10.832 3.16504C9.35846 3.16504 8.16326 4.35948 8.16309 5.83301V12.5C8.16309 13.0186 8.55748 13.4447 9.0625 13.4961L9.16504 13.502L9.29883 13.5156C9.60192 13.5776 9.83008 13.8456 9.83008 14.167C9.82992 14.4883 9.60189 14.7565 9.29883 14.8184L9.16504 14.832L8.92676 14.8193C7.75096 14.7 6.83301 13.7073 6.83301 12.5V5.83301C6.83318 3.62494 8.62392 1.83496 10.832 1.83496ZM10.832 6.83496C11.1992 6.83514 11.4971 7.13284 11.4971 7.5V10C11.4971 10.3672 11.1992 10.6649 10.832 10.665C10.4648 10.665 10.167 10.3673 10.167 10V7.5C10.167 7.13273 10.4648 6.83496 10.832 6.83496Z",fill:"currentColor"})),Pjt=Object.freeze(Object.defineProperty({__proto__:null,default:Rue},Symbol.toStringTag,{value:"Module"})),O4=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.33496 12.5V7.5C4.33496 7.13273 4.63273 6.83496 5 6.83496C5.36727 6.83496 5.66504 7.13273 5.66504 7.5V12.5C5.66504 14.8942 7.60585 16.835 10 16.835C12.3942 16.835 14.335 14.8942 14.335 12.5V5.83301C14.3348 4.35959 13.1404 3.16522 11.667 3.16504C10.1934 3.16504 8.99822 4.35948 8.99805 5.83301V12.5C8.99805 13.0532 9.44679 13.502 10 13.502C10.5532 13.502 11.002 13.0532 11.002 12.5V7.5C11.002 7.13273 11.2997 6.83496 11.667 6.83496C12.0341 6.83514 12.332 7.13284 12.332 7.5V12.5C12.332 13.7877 11.2877 14.832 10 14.832C8.71226 14.832 7.66797 13.7877 7.66797 12.5V5.83301C7.66814 3.62494 9.45888 1.83496 11.667 1.83496C13.875 1.83514 15.6649 3.62505 15.665 5.83301V12.5C15.665 15.6287 13.1287 18.165 10 18.165C6.87131 18.165 4.33496 15.6287 4.33496 12.5Z"})),Ijt=Object.freeze(Object.defineProperty({__proto__:null,default:O4},Symbol.toStringTag,{value:"Module"})),XN=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M17.665 10C17.665 10.6877 17.1785 11.2454 16.5488 11.3945L16.4219 11.4189C14.7098 11.6665 13.6129 12.1305 12.877 12.8623C12.1414 13.5938 11.6742 14.6843 11.4238 16.3887C11.3197 17.0973 10.7182 17.665 9.96484 17.665C9.27085 17.665 8.68836 17.1772 8.53613 16.5215C8.12392 14.7459 7.6623 13.619 6.95703 12.8652C6.31314 12.1772 5.39414 11.7268 3.88672 11.4688L3.57715 11.4199C2.88869 11.319 2.33496 10.734 2.33496 10C2.33496 9.26603 2.88869 8.681 3.57715 8.58008L3.88672 8.53125C5.39414 8.27321 6.31314 7.82277 6.95703 7.13477C7.6623 6.38104 8.12392 5.25413 8.53613 3.47852L8.56934 3.35742C8.76133 2.76356 9.31424 2.33496 9.96484 2.33496C10.7182 2.33497 11.3197 2.9027 11.4238 3.61133L11.5283 4.22266C11.7954 5.58295 12.2334 6.49773 12.877 7.1377C13.6129 7.86952 14.7098 8.33351 16.4219 8.58105C17.1119 8.68101 17.665 9.26667 17.665 10Z"})),Ljt=Object.freeze(Object.defineProperty({__proto__:null,default:XN},Symbol.toStringTag,{value:"Module"})),Oue=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1219 3.16992C12.4691 2.20577 13.4977 1.64225 14.5135 1.89551L16.7313 2.44824L16.9295 2.50879C17.8291 2.833 18.3803 3.74985 18.244 4.69629L18.204 4.89941C18.0507 5.5142 17.6185 6.01907 17.0409 6.26758L16.9237 6.31445L15.118 6.95996L14.1795 10.9697C14.294 10.9776 14.4103 10.9908 14.5282 11.0117L14.6786 11.0439C15.421 11.2311 15.9918 11.7903 16.411 12.3662C16.8693 12.996 17.2283 13.7579 17.494 14.4355L17.5438 14.5762C18.0056 16.0202 16.8313 17.331 15.4139 17.3311H4.27915C2.95457 17.331 1.81014 16.1863 2.09751 14.7744L2.23911 14.1553C2.40108 13.5159 2.62923 12.8291 2.952 12.2354C3.02641 12.0985 3.1112 11.9633 3.202 11.8301L2.04575 10.8809C1.20569 10.1904 1.44314 8.84696 2.4686 8.48535L4.04965 7.92773L4.07407 7.91309C4.0809 7.90655 4.08712 7.89865 4.09067 7.88965L4.702 6.32813L4.78696 6.14844C5.26476 5.29613 6.49158 5.17946 7.11118 5.98926L8.12973 7.32227L8.15122 7.33984C8.1593 7.34414 8.16826 7.347 8.17758 7.34766L9.85141 7.44727L10.0497 7.47266C10.9437 7.65122 11.43 8.64741 11.0204 9.46191L10.9188 9.63281L9.96665 11.0137C9.95573 11.0295 9.95203 11.0497 9.95688 11.0684L10.1571 11.8398L10.285 11.8447C10.8172 11.8352 11.333 11.6428 11.9852 11.4043C12.2277 11.3156 12.491 11.2202 12.7723 11.1406L13.826 6.64356L12.5282 5.21875C12.0731 4.71878 11.8988 4.02413 12.0623 3.36816L12.1219 3.16992ZM5.20883 11.9121C4.83698 11.9467 4.46766 12.2334 4.12094 12.8711C3.86772 13.3369 3.67454 13.9071 3.53012 14.4756L3.40122 15.04C3.30462 15.5156 3.6776 16.0009 4.27915 16.001H15.4139C16.0463 16.0009 16.4019 15.4846 16.285 15.0146L16.2557 14.9209C16.0091 14.2919 15.6991 13.6476 15.3358 13.1484C15.0082 12.6984 14.6946 12.445 14.4139 12.3516L14.2948 12.3213C13.7131 12.2179 13.1652 12.3889 12.4422 12.6533C11.8097 12.8847 11.0158 13.2011 10.1239 13.1729L9.94419 13.1621C8.97644 13.0806 8.07403 12.6778 7.327 12.3809C6.633 12.1051 6.04368 11.9053 5.45883 11.9014L5.20883 11.9121ZM5.95981 6.78516L5.94028 6.81445L5.32797 8.375C5.19835 8.7054 4.94839 8.97218 4.63169 9.12402L4.49204 9.18164L2.91098 9.73926C2.89395 9.74529 2.88615 9.75238 2.88169 9.75781C2.8759 9.76491 2.87052 9.77599 2.86801 9.79004C2.86554 9.80408 2.86698 9.81652 2.86997 9.8252C2.87233 9.83184 2.87747 9.84105 2.89145 9.85254L4.1561 10.8916C4.42757 10.7308 4.73588 10.6204 5.08579 10.5879L5.27524 10.5752C6.21962 10.5355 7.07897 10.8507 7.81821 11.1445C8.12617 11.2669 8.41446 11.382 8.69028 11.4854L8.66977 11.4033C8.56763 11.0109 8.64086 10.5927 8.87094 10.2588L9.82407 8.87891L9.83579 8.8457C9.83623 8.83673 9.83489 8.82497 9.82895 8.8125C9.82267 8.79962 9.81404 8.78943 9.80649 8.78418L9.77329 8.77539L8.09946 8.67481C7.74529 8.6537 7.41403 8.49918 7.17172 8.24512L7.07309 8.12988L6.05454 6.79785C6.04365 6.78367 6.0347 6.77798 6.02817 6.77539C6.01969 6.77209 6.00703 6.76959 5.99301 6.77148C5.979 6.77347 5.96712 6.77968 5.95981 6.78516ZM14.1913 3.18555C13.867 3.10479 13.5393 3.26768 13.4002 3.55762L13.3524 3.69043C13.2966 3.91481 13.3569 4.15224 13.5125 4.32324L14.7469 5.67969L16.4754 5.06152L16.5545 5.02832C16.7324 4.93826 16.8639 4.77424 16.9129 4.57813L16.9334 4.43945C16.9453 4.16362 16.7899 3.90523 16.5409 3.78613L16.409 3.73926L14.1913 3.18555Z"})),Rjt=Object.freeze(Object.defineProperty({__proto__:null,default:Oue},Symbol.toStringTag,{value:"Module"})),_st="webp",wst=222,Sst=160,kst="srgb",Mst=3,Est="uchar",jst=72,Tst=!1,Nst=8,Ast=!1,Pst=!1,Ist="{{.assetPrefix}}/assets/example_bg_1-grdr084h.webp",Lst={format:_st,width:wst,height:Sst,space:kst,channels:Mst,depth:Est,density:jst,isProgressive:Tst,paletteBitDepth:Nst,hasProfile:Ast,hasAlpha:Pst,src:Ist},Rst="webp",Ost=222,Dst=160,Fst="srgb",Bst=3,Ust="uchar",Hst=72,Vst=!1,$st=8,qst=!1,zst=!1,Gst="{{.assetPrefix}}/assets/example_bg_2-bh3fby76.webp",Wst={format:Rst,width:Ost,height:Dst,space:Fst,channels:Bst,depth:Ust,density:Hst,isProgressive:Vst,paletteBitDepth:$st,hasProfile:qst,hasAlpha:zst,src:Gst},Zst="webp",Kst=222,Yst=160,Qst="srgb",Jst=3,Xst="uchar",eat=72,tat=!1,nat=8,rat=!1,sat=!1,aat="{{.assetPrefix}}/assets/example_bg_3-ogafarpd.webp",oat={format:Zst,width:Kst,height:Yst,space:Qst,channels:Jst,depth:Xst,density:eat,isProgressive:tat,paletteBitDepth:nat,hasProfile:rat,hasAlpha:sat,src:aat},iat=t=>g.createElement("svg",C({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("g",{id:"Icon"},g.createElement("path",{id:"vector",fillRule:"evenodd",clipRule:"evenodd",d:"M7.9082 1.33328C7.93833 1.3333 7.96889 1.33332 7.99992 1.33332C8.03094 1.33332 8.06151 1.3333 8.09164 1.33328C8.6219 1.333 9.01567 1.33278 9.35677 1.42418C10.277 1.67076 10.9958 2.38955 11.2424 3.3098C11.2974 3.51505 11.3192 3.73937 11.3278 4.00103C11.6471 4.00317 11.9259 4.00968 12.1678 4.02945C12.5425 4.06006 12.887 4.12577 13.2106 4.29063C13.7123 4.54629 14.1203 4.95424 14.3759 5.45601C14.5408 5.77957 14.6065 6.12403 14.6371 6.49877C14.6666 6.85956 14.6666 7.30246 14.6666 7.8391V10.1609C14.6666 10.6975 14.6666 11.1404 14.6371 11.5012C14.6065 11.8759 14.5408 12.2204 14.3759 12.544C14.1203 13.0457 13.7123 13.4537 13.2106 13.7093C12.887 13.8742 12.5425 13.9399 12.1678 13.9705C11.807 14 11.3641 14 10.8275 14H5.17237C4.63573 14 4.19283 14 3.83204 13.9705C3.4573 13.9399 3.11283 13.8742 2.78928 13.7093C2.28751 13.4537 1.87956 13.0457 1.6239 12.544C1.45904 12.2204 1.39333 11.8759 1.36271 11.5012C1.33324 11.1404 1.33324 10.6975 1.33325 10.1608V7.83912C1.33324 7.30247 1.33324 6.85956 1.36271 6.49877C1.39333 6.12403 1.45904 5.77957 1.6239 5.45601C1.87956 4.95424 2.28751 4.54629 2.78928 4.29063C3.11283 4.12577 3.4573 4.06006 3.83204 4.02945C4.07395 4.00968 4.35278 4.00317 4.67203 4.00103C4.68063 3.73937 4.70245 3.51505 4.75745 3.3098C5.00403 2.38955 5.72282 1.67076 6.64307 1.42418C6.98417 1.33278 7.37794 1.333 7.9082 1.33328ZM6.00649 3.99998H9.99334C9.98722 3.82827 9.97571 3.73408 9.95449 3.65489C9.8312 3.19477 9.4718 2.83537 9.01168 2.71208C8.86349 2.67238 8.66282 2.66665 7.99992 2.66665C7.33702 2.66665 7.13635 2.67238 6.98816 2.71208C6.52804 2.83537 6.16864 3.19477 6.04535 3.65489C6.02413 3.73408 6.01262 3.82827 6.00649 3.99998ZM3.94061 5.35835C3.64833 5.38223 3.49886 5.42551 3.3946 5.47864C3.14372 5.60647 2.93974 5.81045 2.81191 6.06133C2.75878 6.1656 2.7155 6.31506 2.69162 6.60734C2.6671 6.9074 2.66659 7.2956 2.66659 7.86665V10.1333C2.66659 10.7044 2.6671 11.0926 2.69162 11.3926C2.7155 11.6849 2.75878 11.8344 2.81191 11.9386C2.93974 12.1895 3.14372 12.3935 3.3946 12.5213C3.49886 12.5745 3.64833 12.6177 3.94061 12.6416C4.24067 12.6661 4.62887 12.6667 5.19992 12.6667H10.7999C11.371 12.6667 11.7592 12.6661 12.0592 12.6416C12.3515 12.6177 12.501 12.5745 12.6052 12.5213C12.8561 12.3935 13.0601 12.1895 13.1879 11.9386C13.2411 11.8344 13.2843 11.6849 13.3082 11.3926C13.3327 11.0926 13.3333 10.7044 13.3333 10.1333V7.86665C13.3333 7.2956 13.3327 6.9074 13.3082 6.60734C13.2843 6.31506 13.2411 6.1656 13.1879 6.06133C13.0601 5.81045 12.8561 5.60647 12.6052 5.47864C12.501 5.42551 12.3515 5.38223 12.0592 5.35835C11.7592 5.33383 11.371 5.33332 10.7999 5.33332H5.19992C4.62887 5.33332 4.24067 5.33383 3.94061 5.35835Z",fill:"currentcolor"})));function lat({usage:t}){const e={work:{icon:iat,color:"#35AE47"},school:{icon:U0,color:"#E937D1"},personalTasks:{icon:Gd,color:"#EA8444"},funAndEntertainment:{icon:Oue,color:"#6C71FF"},justCurious:{icon:H0,color:"#FFCC00"}},n=e[t].icon,r=e[t].color;return o.jsx(n,{className:"icon",style:{color:r}})}function Ojt({clientThreadId:t}){const e=Z(),n=jj({clientThreadId:t});return g.useEffect(()=>{Le.logEvent("chatgpt_convo_onboarding_usage_chips_shown")},[]),o.jsx(Kt,{mode:"wait",children:o.jsx(Se.div,{className:"-mx-6 mt-2 flex flex-wrap gap-2 px-6",initial:{opacity:0},animate:{opacity:1,transition:{delay:.2,ease:"easeInOut"}},exit:{opacity:0,transition:{ease:"easeInOut"}},children:["school","work","personalTasks","funAndEntertainment","justCurious"].map(r=>o.jsxs("button",{className:"border-token-border-default bg-token-main-surface-primary hover:bg-token-main-surface-secondary inline-flex h-[42px] items-center justify-start gap-2 rounded-[25px] border px-4 py-3",onClick:s=>{n({sourceEvent:s,stepPrompt:e.formatMessage(Yd["".concat(r,"Prompt")]),messageMetadata:{onboarding:{main_usages:[{usage:r}]},is_starter_prompt:!0,suggestion_type:je.Starter}}),Le.logEvent("chatgpt_convo_onboarding_usage_chip_clicked",null,{usage:r})},children:[o.jsx("div",{"data-svg-wrapper":!0,className:"relative",children:o.jsx(lat,{usage:r})}),o.jsx("div",{className:"font-['SF Pro'] text-token-text-primary text-[13px] leading-[18px] font-normal opacity-90",children:e.formatMessage(Yd[r])})]},r))})})}function Djt({clientThreadId:t,examples:e}){const n=jj({clientThreadId:t}),r=[Lst,Wst,oat],s=Z();return g.useEffect(()=>{Le.logEvent("chatgpt_convo_onboarding_examples_shown")},[]),o.jsx(Kt,{mode:"wait",children:o.jsxs("div",{children:[o.jsx(Se.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,ease:"easeInOut"},className:"text-token-text-primary text-base",children:s.formatMessage(Yd.tryAnExample)}),o.jsx("ul",{className:"-mx-6 flex list-none flex-nowrap gap-6 overflow-auto px-6 py-4",children:e.map((a,i)=>o.jsx(Se.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:(i+1)*.2,duration:.3},children:o.jsxs("button",{className:"bg-token-main-surface-primary outline-token-border-xlight hover:shadow-token-border-default inline-flex h-60 w-[222px] flex-col items-center justify-start overflow-hidden rounded-2xl outline transition-all duration-300 hover:shadow-lg",onClick:l=>{n({sourceEvent:l,stepPrompt:a.example,messageMetadata:{onboarding:{triggered_tools:[a.feature]},is_starter_prompt:!0,suggestion_type:je.Starter}}),Le.logEvent("chatgpt_convo_onboarding_example_clicked",null,{tool:a.feature})},children:[o.jsx("img",{src:r[i%r.length].src,className:"h-[160px] w-full object-cover",alt:s.formatMessage({id:"chatgpt.new-onboarding.example-prompt",defaultMessage:"Example prompt"})}),o.jsx("div",{className:"inline-flex h-20 w-full gap-1 p-4",children:o.jsx("div",{className:"text-token-text-primary line-clamp-2 shrink grow basis-0 text-start text-base leading-normal",title:a.title,children:a.title})})]})},a.feature))})]})})}function cat({clientThreadId:t,children:e}){const{isEligible:n,markAsViewed:r}=qne(t),s=Z();return g.useEffect(()=>{n&&pn.showAnnouncementTooltipExclusively(We.hasSeenFilePickerNuxTooltip,!0)},[n]),n?o.jsx(Zf,{announcementKey:We.hasSeenFilePickerNuxTooltip,show:!0,side:"top",align:"start",theme:"bright",dismissOnOutsideClick:!0,badge:"none",title:s.formatMessage(Yd.tryUploadingAFile),description:s.formatMessage(Yd.uploadFileExample),onDismiss:r,sideOffset:0,children:e}):e}var xu=(t=>(t.ModelNotSupported="modelNotSupported",t.HasReachedMaxFiles="hasReachedMaxFiles",t.RateLimitReached="rateLimitReached",t))(xu||{}),eA=(t=>(t.General="general",t.ModelNotSupported="modelNotSupported",t.GizmoNotSupported="gizmoNotSupported",t.HasAttachedFiles="hasAttachedFiles",t))(eA||{});function sa(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var uat=C0e[" useInsertionEffect ".trim().toString()]||Oo;function dat({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,i]=fat({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;if(f!==l){const m=f?"controlled":"uncontrolled",p=l?"controlled":"uncontrolled";console.warn("".concat(r," is changing from ").concat(m," to ").concat(p,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}d.current=l},[l,r])}const u=g.useCallback(d=>{var f;if(l){const m=mat(d)?d(t):d;m!==t&&((f=i.current)==null||f.call(i,m))}else a(d)},[l,t,a,i]);return[c,u]}function fat({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),a=g.useRef(e);return uat(()=>{a.current=e},[e]),g.useEffect(()=>{var i;s.current!==n&&((i=a.current)==null||i.call(a,n),s.current=n)},[n,s]),[n,r,a]}function mat(t){return typeof t=="function"}var pat="Arrow",Due=g.forwardRef((t,e)=>{const i=t,{children:n,width:r=10,height:s=5}=i,a=de(i,["children","width","height"]);return o.jsx(ya.svg,P(C({},a),{ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})}))});Due.displayName=pat;var gat=Due;function hat(t){const[e,n]=g.useState(void 0);return Oo(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=t.offsetWidth,l=t.offsetHeight;n({width:i,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tA="Popper",[Fue,Bue]=jE(tA),[vat,Uue]=Fue(tA),Hue=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return o.jsx(vat,{scope:e,anchor:r,onAnchorChange:s,children:n})};Hue.displayName=tA;var Vue="PopperAnchor",$ue=g.forwardRef((t,e)=>{const c=t,{__scopePopper:n,virtualRef:r}=c,s=de(c,["__scopePopper","virtualRef"]),a=Uue(Vue,n),i=g.useRef(null),l=Bs(e,i);return g.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(ya.div,P(C({},s),{ref:l}))});$ue.displayName=Vue;var nA="PopperContent",[yat,xat]=Fue(nA),que=g.forwardRef((t,e)=>{var W,K,ne,re,le,fe,ge,ye;const me=t,{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:h}=me,v=de(me,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),y=Uue(nA,n),[x,b]=g.useState(null),_=Bs(e,_e=>b(_e)),[w,S]=g.useState(null),k=hat(w),M=(W=k==null?void 0:k.width)!=null?W:0,E=(K=k==null?void 0:k.height)!=null?K:0,T=r+(a!=="center"?"-"+a:""),j=typeof d=="number"?d:C({top:0,right:0,bottom:0,left:0},d),A=Array.isArray(u)?u:[u],I=A.length>0,L={padding:j,boundary:A.filter(Cat),altBoundary:I},{refs:O,floatingStyles:R,placement:H,isPositioned:V,middlewareData:z}=Bge({strategy:"fixed",placement:T,whileElementsMounted:(..._e)=>Wge(..._e,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[Uge({mainAxis:s+E,alignmentAxis:i}),c&&Hge(C({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Gge():void 0},L)),c&&Vge(C({},L)),$ge(P(C({},L),{apply:({elements:_e,rects:Ne,availableWidth:Ae,availableHeight:ot})=>{const{width:gt,height:Pe}=Ne.reference,Ie=_e.floating.style;Ie.setProperty("--radix-popper-available-width","".concat(Ae,"px")),Ie.setProperty("--radix-popper-available-height","".concat(ot,"px")),Ie.setProperty("--radix-popper-anchor-width","".concat(gt,"px")),Ie.setProperty("--radix-popper-anchor-height","".concat(Pe,"px"))}})),w&&qge({element:w,padding:l}),_at({arrowWidth:M,arrowHeight:E}),m&&zge(C({strategy:"referenceHidden"},L))]}),[$,D]=Wue(H),Y=Oa(h);Oo(()=>{V&&(Y==null||Y())},[V,Y]);const G=(ne=z.arrow)==null?void 0:ne.x,F=(re=z.arrow)==null?void 0:re.y,X=((le=z.arrow)==null?void 0:le.centerOffset)!==0,[te,ae]=g.useState();return Oo(()=>{x&&ae(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:C(P(C({},R),{transform:V?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(fe=z.transformOrigin)==null?void 0:fe.x,(ge=z.transformOrigin)==null?void 0:ge.y].join(" ")}),((ye=z.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:t.dir,children:o.jsx(yat,{scope:n,placedSide:$,onArrowChange:S,arrowX:G,arrowY:F,shouldHideArrow:X,children:o.jsx(ya.div,P(C({"data-side":$,"data-align":D},v),{ref:_,style:P(C({},v.style),{animation:V?void 0:"none"})}))})})});que.displayName=nA;var zue="PopperArrow",bat={top:"bottom",right:"left",bottom:"top",left:"right"},Gue=g.forwardRef(function(e,n){const l=e,{__scopePopper:r}=l,s=de(l,["__scopePopper"]),a=xat(zue,r),i=bat[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(gat,P(C({},s),{ref:n,style:P(C({},s.style),{display:"block"})}))})});Gue.displayName=zue;function Cat(t){return t!==null}var _at=t=>({name:"transformOrigin",options:t,fn(e){var y,x,b,_,w;const{placement:n,rects:r,middlewareData:s}=e,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=Wue(n),f={start:"0%",center:"50%",end:"100%"}[d],m=((b=(x=s.arrow)==null?void 0:x.x)!=null?b:0)+l/2,p=((w=(_=s.arrow)==null?void 0:_.y)!=null?w:0)+c/2;let h="",v="";return u==="bottom"?(h=i?f:"".concat(m,"px"),v="".concat(-c,"px")):u==="top"?(h=i?f:"".concat(m,"px"),v="".concat(r.floating.height+c,"px")):u==="right"?(h="".concat(-c,"px"),v=i?f:"".concat(p,"px")):u==="left"&&(h="".concat(r.floating.width+c,"px"),v=i?f:"".concat(p,"px")),{data:{x:h,y:v}}}});function Wue(t){const[e,n="center"]=t.split("-");return[e,n]}var wat=Hue,Sat=$ue,kat=que,Mat=Gue,Eat="Portal",Zue=g.forwardRef((t,e)=>{var c;const l=t,{container:n}=l,r=de(l,["container"]),[s,a]=g.useState(!1);Oo(()=>a(!0),[]);const i=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?OK.createPortal(o.jsx(ya.div,P(C({},r),{ref:e})),i):null});Zue.displayName=Eat;function jat(t,e){return g.useReducer((n,r)=>{const s=e[n][r];return s!=null?s:n},t)}var rA=t=>{const{present:e,children:n}=t,r=Tat(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),a=Bs(r.ref,Nat(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:a}):null};rA.displayName="Presence";function Tat(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),a=g.useRef("none"),i=t?"mounted":"unmounted",[l,c]=jat(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=A2(r.current);a.current=l==="mounted"?u:"none"},[l]),Oo(()=>{const u=r.current,d=s.current;if(d!==t){const m=a.current,p=A2(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Oo(()=>{var u;if(e){let d;const f=(u=e.ownerDocument.defaultView)!=null?u:window,m=h=>{const y=A2(r.current).includes(h.animationName);if(h.target===e&&y&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=h=>{h.target===e&&(a.current=A2(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function A2(t){return(t==null?void 0:t.animationName)||"none"}function Nat(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Aat(t,e=globalThis==null?void 0:globalThis.document){const n=Oa(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Pat="DismissableLayer",tk="dismissableLayer.update",Iat="dismissableLayer.pointerDownOutside",Lat="dismissableLayer.focusOutside",sz,Kue=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yue=g.forwardRef((t,e)=>{var E;const M=t,{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l}=M,c=de(M,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=g.useContext(Kue),[d,f]=g.useState(null),m=(E=d==null?void 0:d.ownerDocument)!=null?E:globalThis==null?void 0:globalThis.document,[,p]=g.useState({}),h=Bs(e,T=>f(T)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(y),b=d?v.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=x,S=Dat(T=>{const j=T.target,A=[...u.branches].some(I=>I.contains(j));!w||A||(s==null||s(T),i==null||i(T),T.defaultPrevented||l==null||l())},m),k=Fat(T=>{const j=T.target;[...u.branches].some(I=>I.contains(j))||(a==null||a(T),i==null||i(T),T.defaultPrevented||l==null||l())},m);return Aat(T=>{b===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sz=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),az(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=sz)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),az())},[d,u]),g.useEffect(()=>{const T=()=>p({});return document.addEventListener(tk,T),()=>document.removeEventListener(tk,T)},[]),o.jsx(ya.div,P(C({},c),{ref:h,style:C({pointerEvents:_?w?"auto":"none":void 0},t.style),onFocusCapture:sa(t.onFocusCapture,k.onFocusCapture),onBlurCapture:sa(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:sa(t.onPointerDownCapture,S.onPointerDownCapture)}))});Yue.displayName=Pat;var Rat="DismissableLayerBranch",Oat=g.forwardRef((t,e)=>{const n=g.useContext(Kue),r=g.useRef(null),s=Bs(e,r);return g.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(ya.div,P(C({},t),{ref:s}))});Oat.displayName=Rat;function Dat(t,e=globalThis==null?void 0:globalThis.document){const n=Oa(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Que(Iat,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Fat(t,e=globalThis==null?void 0:globalThis.document){const n=Oa(t),r=g.useRef(!1);return g.useEffect(()=>{const s=a=>{a.target&&!r.current&&Que(Lat,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function az(){const t=new CustomEvent(tk);document.dispatchEvent(t)}function Que(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?wCe(s,a):s.dispatchEvent(a)}var $C,D4="HoverCard",[Jue]=jE(D4,[Bue]),F4=Bue(),[Bat,B4]=Jue(D4),Xue=t=>{const{__scopeHoverCard:e,children:n,open:r,defaultOpen:s,onOpenChange:a,openDelay:i=700,closeDelay:l=300}=t,c=F4(e),u=g.useRef(0),d=g.useRef(0),f=g.useRef(!1),m=g.useRef(!1),[p,h]=dat({prop:r,defaultProp:s!=null?s:!1,onChange:a,caller:D4}),v=g.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>h(!0),i)},[i,h]),y=g.useCallback(()=>{clearTimeout(u.current),!f.current&&!m.current&&(d.current=window.setTimeout(()=>h(!1),l))},[l,h]),x=g.useCallback(()=>h(!1),[h]);return g.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),o.jsx(Bat,{scope:e,open:p,onOpenChange:h,onOpen:v,onClose:y,onDismiss:x,hasSelectionRef:f,isPointerDownOnContentRef:m,children:o.jsx(wat,P(C({},c),{children:n}))})};Xue.displayName=D4;var e1e="HoverCardTrigger",t1e=g.forwardRef((t,e)=>{const i=t,{__scopeHoverCard:n}=i,r=de(i,["__scopeHoverCard"]),s=B4(e1e,n),a=F4(n);return o.jsx(Sat,P(C({asChild:!0},a),{children:o.jsx(ya.a,P(C({"data-state":s.open?"open":"closed"},r),{ref:e,onPointerEnter:sa(t.onPointerEnter,$h(s.onOpen)),onPointerLeave:sa(t.onPointerLeave,$h(s.onClose)),onFocus:sa(t.onFocus,s.onOpen),onBlur:sa(t.onBlur,s.onClose),onTouchStart:sa(t.onTouchStart,l=>l.preventDefault())}))}))});t1e.displayName=e1e;var sA="HoverCardPortal",[Uat,Hat]=Jue(sA,{forceMount:void 0}),n1e=t=>{const{__scopeHoverCard:e,forceMount:n,children:r,container:s}=t,a=B4(sA,e);return o.jsx(Uat,{scope:e,forceMount:n,children:o.jsx(rA,{present:n||a.open,children:o.jsx(Zue,{asChild:!0,container:s,children:r})})})};n1e.displayName=sA;var Vh="HoverCardContent",r1e=g.forwardRef((t,e)=>{const n=Hat(Vh,t.__scopeHoverCard),i=t,{forceMount:r=n.forceMount}=i,s=de(i,["forceMount"]),a=B4(Vh,t.__scopeHoverCard);return o.jsx(rA,{present:r||a.open,children:o.jsx(Vat,P(C({"data-state":a.open?"open":"closed"},s),{onPointerEnter:sa(t.onPointerEnter,$h(a.onOpen)),onPointerLeave:sa(t.onPointerLeave,$h(a.onClose)),ref:e}))})});r1e.displayName=Vh;var Vat=g.forwardRef((t,e)=>{const h=t,{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i}=h,l=de(h,["__scopeHoverCard","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),c=B4(Vh,n),u=F4(n),d=g.useRef(null),f=Bs(e,d),[m,p]=g.useState(!1);return g.useEffect(()=>{if(m){const v=document.body;return $C=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=$C,v.style.webkitUserSelect=$C}}},[m]),g.useEffect(()=>{if(d.current){const v=()=>{p(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var x;((x=document.getSelection())==null?void 0:x.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),g.useEffect(()=>{d.current&&zat(d.current).forEach(y=>y.setAttribute("tabindex","-1"))}),o.jsx(Yue,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:i,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:sa(a,v=>{v.preventDefault()}),onDismiss:c.onDismiss,children:o.jsx(kat,P(C(C({},u),l),{onPointerDown:sa(l.onPointerDown,v=>{v.currentTarget.contains(v.target)&&p(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:P(C({},l.style),{userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"})}))})}),$at="HoverCardArrow",qat=g.forwardRef((t,e)=>{const a=t,{__scopeHoverCard:n}=a,r=de(a,["__scopeHoverCard"]),s=F4(n);return o.jsx(Mat,P(C(C({},s),r),{ref:e}))});qat.displayName=$at;function $h(t){return e=>e.pointerType==="touch"?void 0:t()}function zat(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var Gat=Xue,Wat=t1e,Zat=n1e,oz=r1e;const Kat=({clientThreadId:t,rateLimitPopup:e,children:n,disabled:r,highlightTooltip:s=!1,disabledReason:a,currentModelName:i,label:l,secondaryLabel:c})=>{const u=Z(),d=Te(t,se.getIsNewConversation),f=q(),m=yt(f),p=b=>{var _;e!=null&&b&&B.logPopoverHover({type:"rate_limit",location:"file_upload",plan_type:(_=m==null?void 0:m.planType)!=null?_:"unknown"})},h=g0(tn.signUpButtonText),{isEligible:v}=qne(t),y=!!e,x=!r&&v;return y?o.jsxs(Gat,{openDelay:0,onOpenChange:p,children:[o.jsx(Wat,{asChild:!0,children:n}),o.jsx(Zat,{children:o.jsx(iQ,{children:o.jsx(oz,{role:"dialog","aria-labelledby":"rate-limit-popover-title",children:o.jsx(X6,{$as:oz,side:"bottom",sideOffset:6,align:"start",alignOffset:-6,className:"max-w-[300px]",children:o.jsx(Yat,{isNewConversation:d,rateLimitPopup:e,signUpButtonText:h})})})})})]}):x?o.jsx(cat,{clientThreadId:t,children:n}):o.jsx(wt,{label:!r&&l?l:U4(f,u,r,a,i),secondaryLabel:c,labelOrientation:"horizontal",className:"flex",contentClassName:s?void 0:"touch:hidden",open:s?!0:void 0,side:"bottom",children:n})};function U4(t,e,n,r,s){const a=yt(t),i=a!=null,l=PQ(t);return n?r===xu.ModelNotSupported&&s!=null?e.formatMessage({id:"xPEzDr",defaultMessage:"Add files disabled for {modelName}"},{modelName:s}):r===xu.HasReachedMaxFiles?i?e.formatMessage({id:"TEBczg",defaultMessage:"Cannot add more files"}):e.formatMessage({id:"Y6o+nN",defaultMessage:"Cannot add more photos"}):r===xu.RateLimitReached?i?a.hasPaidSubscription()?e.formatMessage({id:"W/ug8Z",defaultMessage:"Upload limit reached"}):l?e.formatMessage({id:"j6nN5P",defaultMessage:"Upgrade to Go for more uploads"}):e.formatMessage({id:"GXsPqr",defaultMessage:"Get Plus for more uploads"}):e.formatMessage({id:"RHdQBI",defaultMessage:"Log in to add more photos"}):i?e.formatMessage({id:"MeW0HZ",defaultMessage:"Add files is unavailable"}):e.formatMessage({id:"bvbDsP",defaultMessage:"Add photos is unavailable"}):i?e.formatMessage({id:"composer.add.label",defaultMessage:"Add photos & files"}):e.formatMessage({id:"wNvwwm",defaultMessage:"Add photos"})}const Yat=({isNewConversation:t=!1,rateLimitPopup:e,signUpButtonText:n})=>{const r=it(),s=q(),a=yt(s),i=gf(),l=ha();if(e==null)return null;const{call_to_action:c,description:u}=e,d=c==null?void 0:c.includes(Mn.UPGRADE_TO_GO),f=c==null?void 0:c.includes(Mn.GET_PLUS),m=c==null?void 0:c.includes(Mn.AUTHENTICATE),p=d||f,h=u!=null?u:o.jsx(N,P(C({},Qat.defaultDescription),{values:{upgradePlanType:d?"Go":"Plus"}})),v=m&&l;return o.jsxs("div",{className:"text-token-text-primary p-2 text-sm",children:[o.jsx("div",{className:"mb-3",id:"rate-limit-popover-title",children:h}),p?o.jsx(oe,{size:"small",color:"secondary",onClick:()=>{var y;fr(r,"Rate limited file upload popover"),B.logRateLimitGetPlusButtonClicked({type:"file_upload",location:"popover",plan_type:(y=a==null?void 0:a.planType)!=null?y:"unknown",is_hard_block:!1,is_new_conversation:t,hard_block_reason:""})},children:d?o.jsx(N,C({},Zge())):o.jsx(N,C({},Pp(s)))}):null,m?o.jsx(oe,{color:"primary",onClick:()=>{dn(s,{fallbackScreenHint:i?"login":"signup",callback:y=>{i?B.logLogInButtonClicked({location:"File picker rate limit tooltip",provider:y}):B.logSignUpButtonClicked({location:"File picker rate limit tooltip",provider:y})}})},children:i?o.jsx(N,C({},tn.logInButtonText)):o.jsx(N,C({},n))}):null,v?o.jsx(oe,{color:"secondary",className:"ms-2",onClick:()=>{dn(s,{fallbackScreenHint:i?"signup":"login",callback:y=>{i?B.logSignUpButtonClicked({location:"File picker rate limit tooltip",provider:y}):B.logLogInButtonClicked({location:"File picker rate limit tooltip",provider:y})}})},children:i?o.jsx(N,C({},n)):o.jsx(N,C({},tn.logInButtonText))}):null]})},Qat=pe({defaultDescription:{id:"mMIVYZ",defaultMessage:"You've reached your daily upload limit. Get ChatGPT {upgradePlanType} to unlock more."}}),H4=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14.338 3.08492C15.0406 3.08955 15.7151 3.28724 16.214 3.78609C16.7128 4.28495 16.9105 4.95949 16.9151 5.66207C16.9197 6.36056 16.7358 7.13467 16.419 7.92672C16.153 8.59182 15.7832 9.291 15.3243 9.99996C15.7832 10.7089 16.153 11.4081 16.419 12.0732C16.7358 12.8652 16.9197 13.6394 16.9151 14.3379C16.9105 15.0404 16.7128 15.715 16.214 16.2138C15.7151 16.7127 15.0406 16.9104 14.338 16.915C13.6395 16.9196 12.8654 16.7357 12.0733 16.4189C11.4082 16.1528 10.709 15.783 10.0001 15.3242C9.29112 15.783 8.59194 16.1528 7.92684 16.4189C7.1348 16.7357 6.36069 16.9196 5.66219 16.915C4.95961 16.9104 4.28507 16.7127 3.78622 16.2138C3.28736 15.715 3.08967 15.0404 3.08504 14.3379C3.08049 13.6394 3.26432 12.8652 3.58114 12.0732C3.84715 11.4082 4.21616 10.7088 4.67489 9.99996C4.21616 9.29115 3.84715 8.59168 3.58114 7.92672C3.26432 7.13467 3.08049 6.36056 3.08504 5.66207C3.08967 4.95949 3.28736 4.28495 3.78622 3.78609C4.28507 3.28724 4.95961 3.08955 5.66219 3.08492C6.36069 3.08037 7.1348 3.2642 7.92684 3.58102C8.5918 3.84703 9.29127 4.21603 10.0001 4.67477C10.7089 4.21603 11.4084 3.84703 12.0733 3.58102C12.8654 3.2642 13.6395 3.08037 14.338 3.08492ZM5.5118 11.1728C5.22609 11.6559 4.99351 12.1249 4.81649 12.5673C4.53951 13.2598 4.41207 13.8575 4.41512 14.3291C4.4182 14.7967 4.54582 15.0926 4.72664 15.2734C4.90747 15.4542 5.20337 15.5818 5.67098 15.5849C6.14256 15.588 6.74026 15.4605 7.4327 15.1836C7.8751 15.0066 8.34325 14.7729 8.82625 14.4873C8.23208 14.0242 7.64066 13.5038 7.06844 12.9316C6.49588 12.359 5.97512 11.7674 5.5118 11.1728ZM14.4874 11.1728C14.0242 11.7672 13.5041 12.3592 12.9317 12.9316C12.3593 13.504 11.7673 14.024 11.1729 14.4873C11.6562 14.7731 12.1248 15.0065 12.5675 15.1836C13.2599 15.4605 13.8576 15.588 14.3292 15.5849C14.7968 15.5818 15.0927 15.4542 15.2735 15.2734C15.4544 15.0926 15.582 14.7967 15.585 14.3291C15.5881 13.8575 15.4607 13.2598 15.1837 12.5673C15.0066 12.1247 14.7732 11.6561 14.4874 11.1728ZM10.0001 6.29C9.33643 6.77801 8.66365 7.35398 8.00887 8.00875C7.3541 8.66352 6.77813 9.33631 6.29012 9.99996C6.77813 10.6636 7.3541 11.3364 8.00887 11.9912C8.66349 12.6458 9.33658 13.221 10.0001 13.7089C10.6636 13.221 11.3367 12.6458 11.9913 11.9912C12.6459 11.3366 13.2211 10.6635 13.7091 9.99996C13.2211 9.33646 12.6459 8.66337 11.9913 8.00875C11.3365 7.35398 10.6637 6.77801 10.0001 6.29ZM5.67098 4.415C5.20337 4.41808 4.90747 4.54569 4.72664 4.72652C4.54582 4.90735 4.4182 5.20325 4.41512 5.67086C4.41207 6.14244 4.53951 6.74014 4.81649 7.43258C4.99342 7.87485 5.22629 8.34327 5.5118 8.82613C5.975 8.23179 6.49608 7.64069 7.06844 7.06832C7.64081 6.49595 8.23192 5.97488 8.82625 5.51168C8.3434 5.22617 7.87497 4.9933 7.4327 4.81637C6.74026 4.53939 6.14256 4.41195 5.67098 4.415ZM14.3292 4.415C13.8576 4.41195 13.2599 4.53939 12.5675 4.81637C12.125 4.99338 11.656 5.22597 11.1729 5.51168C11.7675 5.97499 12.3592 6.49576 12.9317 7.06832C13.5039 7.64053 14.0243 8.23195 14.4874 8.82613C14.773 8.34312 15.0067 7.87498 15.1837 7.43258C15.4607 6.74014 15.5881 6.14244 15.585 5.67086C15.582 5.20325 15.4544 4.90735 15.2735 4.72652C15.0927 4.54569 14.7968 4.41808 14.3292 4.415Z",fill:"currentColor"})),Fjt=Object.freeze(Object.defineProperty({__proto__:null,default:H4},Symbol.toStringTag,{value:"Module"})),s1e=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14.0405 2.8623C14.9501 2.35628 16.0341 2.59224 16.7212 3.2793C17.408 3.96644 17.6433 5.05051 17.1372 5.95996C15.2815 9.29433 11.9865 12.1904 8.99658 14.1133C8.99683 14.1294 8.99853 14.1459 8.99854 14.1621C8.99847 14.9892 8.76882 15.6599 8.32764 16.168C7.89536 16.6656 7.31621 16.9427 6.73682 17.1006C5.6188 17.4051 4.23644 17.3223 3.34326 17.3223C2.9762 17.3222 2.67841 17.0243 2.67822 16.6572C2.6782 15.7641 2.59544 14.3817 2.8999 13.2637C3.05781 12.6843 3.33492 12.1051 3.83252 11.6729C4.34065 11.2316 5.01124 11.002 5.83838 11.002C5.85397 11.002 5.86972 11.0027 5.88525 11.0029C7.80824 8.0127 10.7057 4.71816 14.0405 2.8623ZM14.5269 12.0293C14.754 11.8022 15.1047 11.7732 15.3628 11.9434L15.4673 12.0293L16.3237 12.8857C16.6804 13.2424 16.9125 13.7058 16.9839 14.2051L17.3218 16.5723C17.3512 16.7793 17.2812 16.9878 17.1333 17.1357C16.9854 17.2836 16.7769 17.3537 16.5698 17.3242L14.2026 16.9863C13.7033 16.9149 13.24 16.6828 12.8833 16.3262L12.0269 15.4697L11.9409 15.3652C11.7708 15.1072 11.7997 14.7564 12.0269 14.5293C12.254 14.3022 12.6047 14.2732 12.8628 14.4434L12.9673 14.5293L13.8237 15.3857C13.9769 15.5389 14.1767 15.6392 14.3911 15.6699L15.8794 15.8818L15.6675 14.3936C15.6368 14.1791 15.5365 13.9793 15.3833 13.8262L14.5269 12.9697L14.4409 12.8652C14.2708 12.6072 14.2997 12.2564 14.5269 12.0293ZM5.83838 12.332C5.26751 12.3321 4.92642 12.4851 4.70459 12.6777C4.47257 12.8795 4.29933 13.1868 4.18311 13.6133C3.99073 14.3197 3.99305 15.1628 4.00244 15.9971C4.83704 16.0065 5.68046 16.0099 6.38721 15.8174C6.81366 15.7012 7.12104 15.5279 7.32275 15.2959C7.51539 15.0741 7.66839 14.7329 7.66846 14.1621C7.66838 13.1514 6.84909 12.3321 5.83838 12.332ZM15.7798 4.21973C15.4628 3.90292 15.0181 3.84022 14.687 4.02441C11.7464 5.66087 9.10057 8.56744 7.25342 11.3389C7.86056 11.6438 8.35414 12.1374 8.65967 12.7441C11.431 10.897 14.3387 8.25296 15.9751 5.3125C16.1593 4.98139 16.0966 4.53666 15.7798 4.21973ZM5.46729 7.0293C5.72668 7.28902 5.72688 7.71013 5.46729 7.96973C5.20769 8.22933 4.78658 8.22913 4.52686 7.96973L5.46729 7.0293ZM3.27686 3.2793C4.22682 2.32933 5.76721 2.32952 6.71729 3.2793L7.96729 4.5293L7.49658 4.99902L7.02686 5.46973L5.77686 4.21973C5.34618 3.78935 4.64785 3.78916 4.21729 4.21973C3.78672 4.65029 3.78691 5.34862 4.21729 5.7793L5.46729 7.0293L4.99658 7.49902L4.52686 7.96973L3.27686 6.71973C2.32708 5.76965 2.32689 4.22926 3.27686 3.2793ZM7.96729 4.5293C8.22668 4.78902 8.22688 5.21013 7.96729 5.46973C7.70769 5.72933 7.28658 5.72913 7.02686 5.46973L7.96729 4.5293Z",fill:"currentColor"})),Jat=Object.freeze(Object.defineProperty({__proto__:null,default:s1e},Symbol.toStringTag,{value:"Module"})),V4=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14.3352 17.5003V15.6654H12.5002C12.1331 15.6654 11.8354 15.3674 11.8352 15.0003C11.8352 14.6331 12.133 14.3353 12.5002 14.3353H14.3352V12.5003C14.3352 12.1331 14.633 11.8353 15.0002 11.8353C15.3674 11.8355 15.6653 12.1332 15.6653 12.5003V14.3353H17.5002L17.634 14.349C17.937 14.411 18.1653 14.679 18.1653 15.0003C18.1651 15.3215 17.9369 15.5897 17.634 15.6517L17.5002 15.6654H15.6653V17.5003C15.6651 17.8673 15.3673 18.1652 15.0002 18.1654C14.6331 18.1654 14.3354 17.8674 14.3352 17.5003ZM16.0012 8.33333V7.33333C16.0012 6.62229 16.0013 6.12896 15.97 5.74544C15.9469 5.46349 15.9091 5.27398 15.8577 5.1302L15.802 5.00032C15.6481 4.69821 15.4137 4.44519 15.1262 4.26888L14.9993 4.19856C14.8413 4.11811 14.6297 4.06128 14.2542 4.03059C13.8707 3.99928 13.3772 3.99837 12.6663 3.99837H9.16431C9.16438 4.04639 9.15951 4.09505 9.14868 4.14388L8.61646 4.02571H8.61548L9.14868 4.14388L8.69263 6.19954C8.5874 6.67309 8.50752 7.06283 8.33911 7.3929L8.26196 7.53059C8.12314 7.75262 7.94729 7.94837 7.74341 8.11067L7.53052 8.26204C7.26187 8.42999 6.95158 8.52024 6.58521 8.60579L6.19946 8.6927L4.1438 9.14876L4.02564 8.61556V8.61653L4.1438 9.14876C4.09497 9.15959 4.04631 9.16446 3.99829 9.16438V12.6663C3.99829 13.3772 3.9992 13.8707 4.03052 14.2542C4.0612 14.6298 4.11803 14.8413 4.19849 14.9993L4.2688 15.1263C4.44511 15.4137 4.69813 15.6481 5.00024 15.8021L5.13013 15.8577C5.2739 15.9092 5.46341 15.947 5.74536 15.97C6.12888 16.0014 6.62221 16.0013 7.33325 16.0013H8.28442C8.65158 16.0013 8.94929 16.2992 8.94946 16.6663C8.94946 17.0336 8.65169 17.3314 8.28442 17.3314H7.33325C6.64416 17.3314 6.0872 17.332 5.63696 17.2952C5.23642 17.2625 4.87552 17.1982 4.53931 17.054L4.39673 16.9866C3.87561 16.7211 3.43911 16.3174 3.13501 15.8216L3.01294 15.6038C2.82097 15.2271 2.74177 14.8206 2.70435 14.3626C2.66758 13.9124 2.66821 13.3553 2.66821 12.6663V9.00032C2.66821 7.44077 3.58925 5.86261 4.76196 4.70638C5.9331 3.55172 7.50845 2.6675 9.00024 2.66927V2.66829H12.6663C13.3553 2.66829 13.9123 2.66765 14.3625 2.70442C14.8206 2.74184 15.227 2.82105 15.6038 3.01302L15.8215 3.13509C16.3174 3.43919 16.7211 3.87569 16.9866 4.39681L17.053 4.53938C17.1973 4.8757 17.2624 5.23636 17.2952 5.63704C17.332 6.08728 17.3313 6.64424 17.3313 7.33333V8.33333C17.3313 8.7006 17.0335 8.99837 16.6663 8.99837C16.2991 8.99819 16.0012 8.70049 16.0012 8.33333ZM7.76001 4.26204C7.06176 4.53903 6.3362 5.02201 5.69556 5.65364C5.04212 6.29794 4.53764 7.03653 4.25415 7.76204L5.91138 7.39388L6.30689 7.30403C6.62563 7.22833 6.73681 7.18952 6.82544 7.13411L6.91528 7.07063C7.00136 7.00214 7.07542 6.91924 7.13403 6.82552L7.18579 6.722C7.23608 6.59782 7.28758 6.38943 7.3938 5.91145L7.76001 4.26204Z"})),Bjt=Object.freeze(Object.defineProperty({__proto__:null,default:V4},Symbol.toStringTag,{value:"Module"}));var qC,iz;function Xat(){if(iz)return qC;iz=1;var t=Math.floor,e=Math.random;function n(r,s){return r+t(e()*(s-r+1))}return qC=n,qC}var zC,lz;function a1e(){if(lz)return zC;lz=1;var t=Xat();function e(n,r){var s=-1,a=n.length,i=a-1;for(r=r===void 0?a:r;++s<r;){var l=t(s,i),c=n[l];n[l]=n[s],n[s]=c}return n.length=r,n}return zC=e,zC}var GC,cz;function eot(){if(cz)return GC;cz=1;var t=IQ(),e=a1e();function n(r){return e(t(r))}return GC=n,GC}var WC,uz;function tot(){if(uz)return WC;uz=1;var t=NM();function e(n,r){return t(r,function(s){return n[s]})}return WC=e,WC}var ZC,dz;function not(){if(dz)return ZC;dz=1;var t=tot(),e=Kge();function n(r){return r==null?[]:t(r,e(r))}return ZC=n,ZC}var KC,fz;function rot(){if(fz)return KC;fz=1;var t=a1e(),e=not();function n(r){return t(e(r))}return KC=n,KC}var YC,mz;function sot(){if(mz)return YC;mz=1;var t=eot(),e=rot(),n=F6();function r(s){var a=n(s)?t:e;return a(s)}return YC=r,YC}var aot=sot();const oot=St(aot),o1e=va(()=>{const t=nt(!1),e=nt(!1);return{isSheetVisible$:un(()=>t()||e()),isSheetOpen$:t,keepSheetOpen$:e}}),Ujt=t=>{"use forget";const e=ee.c(19),{onCloseAutoFocus:n,children:r,items:s,fileUploadRateLimited:a,mode:i}=t,l=i===void 0?"dropdown":i,c=q(),u=LQ();let d;e[0]!==c?(d=o1e(c),e[0]=c,e[1]=d):d=e[1];const f=d,m=at(f.isSheetOpen$);let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=["370px"],e[2]=p):p=e[2];let h;e[3]!==c||e[4]!==a||e[5]!==l||e[6]!==f.isSheetOpen$?(h=x=>{f.isSheetOpen$.set(x),x&&(ast(c,!1),ze(c,"1092897457").get("is_tatertot_enabled",!0),B.logEventWithStatsig("Composer: Open Plus Menu","chatgpt_web_composer_plus_menu_open",a?{file_upload_disabled_reason:"rate_limit",mode:l}:{mode:l}))},e[3]=c,e[4]=a,e[5]=l,e[6]=f.isSheetOpen$,e[7]=h):h=e[7];let v;e[8]!==s||e[9]!==n?(v=o.jsx(J.Portal,{children:o.jsx(iot,{onCloseAutoFocus:n,children:s})}),e[8]=s,e[9]=n,e[10]=v):v=e[10];let y;return e[11]!==r||e[12]!==u||e[13]!==l||e[14]!==m||e[15]!==f||e[16]!==h||e[17]!==v?(y=o.jsxs(J.Root,{mode:l,open:m,store:f,modal:u,detents:p,onActiveDetentChange:uot,onOpenChange:h,children:[r,v]}),e[11]=r,e[12]=u,e[13]=l,e[14]=m,e[15]=f,e[16]=h,e[17]=v,e[18]=y):y=e[18],y},iot=t=>{"use forget";const e=ee.c(6),{onCloseAutoFocus:n,children:r}=t,{fullyExpanded$:s}=g.use(Yge),i=at(s)&&"content-sheet-section:scrollable-content-section";let l;e[0]!==i?(l=U("content-sheet-section:flex content-sheet-section:flex-col content-sheet-section:gap-3",i),e[0]=i,e[1]=l):l=e[1];let c;return e[2]!==r||e[3]!==n||e[4]!==l?(c=o.jsx(J.Content,{className:l,size:"auto",alignOffset:-7,loop:!0,onCloseAutoFocus:n,children:r}),e[2]=r,e[3]=n,e[4]=l,e[5]=c):c=e[5],c},Hjt=t=>{"use forget";const e=ee.c(2);let n;return e[0]!==t?(n=o.jsx(J.BasicTrigger,{asChild:!0,children:o.jsx(lot,C({},t))}),e[0]=t,e[1]=n):n=e[1],n},lot=t=>{"use forget";var h;const e=ee.c(17);let n,r;e[0]!==t?(h=t,{className:n}=h,r=de(h,["className"]),e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);const{plusButtonLabel:s}=e5(),a=Yt(wn),i=Z(),l=a&&"composer-btn--desktopSidebar",c=s&&"border-token-border-medium me-1 gap-1.5 border-1 ps-2 pe-3.5";let u;e[3]!==n||e[4]!==l||e[5]!==c?(u=U("composer-btn",n,l,c),e[3]=n,e[4]=l,e[5]=c,e[6]=u):u=e[6];let d;e[7]!==i?(d=i.formatMessage({id:"composer.plusMenu.label",defaultMessage:"Add files and more"}),e[7]=i,e[8]=d):d=e[8];let f;e[9]===Symbol.for("react.memo_cache_sentinel")?(f=o.jsx(vc,{className:"icon"}),e[9]=f):f=e[9];let m;e[10]!==s?(m=s&&o.jsx("span",{inert:!0,children:o.jsx(N,{id:"uHQYgJ",defaultMessage:"Add"})}),e[10]=s,e[11]=m):m=e[11];let p;return e[12]!==r||e[13]!==u||e[14]!==d||e[15]!==m?(p=o.jsxs("button",P(C({type:"button",className:u,"data-testid":"composer-plus-btn","aria-label":d},r),{id:"composer-plus-btn",children:[f,m]})),e[12]=r,e[13]=u,e[14]=d,e[15]=m,e[16]=p):p=e[16],p},Vjt=t=>{"use forget";const e=ee.c(4),{layoutMode:n,children:r}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=o.jsx(J.SubMenuTrigger,{icon:Ja,label:o.jsx(N,{id:"iORE28",defaultMessage:"More"})}),e[0]=s):s=e[0];const a=n==="bottom"?"end":"start";let i;return e[1]!==r||e[2]!==a?(i=o.jsxs(J.Sub,{children:[s,o.jsx(J.Portal,{children:o.jsx(J.SubContent,{align:a,children:r})})]},"more-tools-menu"),e[1]=r,e[2]=a,e[3]=i):i=e[3],i},$jt=t=>{"use forget";const e=ee.c(4),{layoutMode:n,children:r}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=o.jsx(J.SubMenuTrigger,{icon:s1e,label:o.jsx(N,{id:"gVFn9L",defaultMessage:"Tools"})}),e[0]=s):s=e[0];const a=n==="bottom"?"end":"start";let i;return e[1]!==r||e[2]!==a?(i=o.jsxs(J.Sub,{children:[s,o.jsx(J.Portal,{children:o.jsx(J.SubContent,{align:a,children:r})})]},"collapsed-tool-menu"),e[1]=r,e[2]=a,e[3]=i):i=e[3],i},cot=()=>oot([{key:we.PictureV2,label:o.jsx(N,{id:"8CBFak",defaultMessage:"Create image"}),icon:lg(we.PictureV2)},{key:we.Research,label:o.jsx(N,{id:"EGM5w4",defaultMessage:"Deep research"}),icon:lg(we.Research)},{key:we.Think,label:o.jsx(N,{id:"V/wEA3",defaultMessage:"Think longer"}),icon:lg(we.Think)},{key:"gpt-5",label:"GPT-5",icon:H4},{key:"add-flies",label:o.jsx(N,{id:"dUwCPF",defaultMessage:"Add files"}),icon:V4}]).slice(0,3),qjt=()=>{"use forget";const t=ee.c(5),e=q();let n;if(t[0]!==e){const r=cot(),s=l=>{dn(e,{fallbackScreenHint:"login_or_signup",callback:c=>{B.logLoginOrSignUpButtonClicked({location:"Plus Menu ".concat(l),provider:c})}})};let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx(J.Label,{children:o.jsx(N,{id:"2SJWKf",defaultMessage:"Log in to use..."})}),t[2]=a):a=t[2];let i;t[3]!==s?(i=l=>o.jsx(J.Item,{label:l.label,icon:l.icon,"data-disabled":!0,onSelect:()=>{s(l.key)},highlightTrailing:o.jsx(Qge,{to:"#",onClick:c=>{c.preventDefault(),s(l.key)},children:o.jsx(N,C({},tn.logInButtonText))})},l.key),t[3]=s,t[4]=i):i=t[4],n=o.jsxs(J.Group,{children:[a,r.map(i)]}),t[0]=e,t[1]=n}else n=t[1];return n};function uot(t){B.logEventWithStatsig("Composer: Plus Menu Detent Change","chatgpt_web_composer_plus_menu_detent_change",{detent:t})}const aA=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6.75C12.0241 6.75 13.665 8.39092 13.665 10.415C13.665 12.4392 12.0241 14.0801 10 14.0801C7.97588 14.0801 6.33496 12.4392 6.33496 10.415C6.33496 8.39092 7.97588 6.75 10 6.75ZM10 8.08008C8.71042 8.08008 7.66504 9.12545 7.66504 10.415C7.66504 11.7046 8.71042 12.75 10 12.75C11.2896 12.75 12.335 11.7046 12.335 10.415C12.335 9.12545 11.2896 8.08008 10 8.08008Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2C11.3384 2.00008 12.5211 2.6593 13.2461 3.66699H13.3301C14.0191 3.66699 14.5762 3.66634 15.0264 3.70312C15.4843 3.74055 15.8909 3.81978 16.2676 4.01172L16.4854 4.13379C16.9809 4.43784 17.3849 4.87365 17.6504 5.39453L17.7168 5.53711C17.8612 5.87358 17.9262 6.23484 17.959 6.63574C17.9958 7.08595 17.9951 7.64304 17.9951 8.33203V12.832C17.9951 13.521 17.9958 14.0782 17.959 14.5283C17.9262 14.9289 17.8611 15.2897 17.7168 15.626L17.6504 15.7686C17.3471 16.3639 16.8628 16.8479 16.2676 17.1514C15.8909 17.3433 15.4843 17.4225 15.0264 17.46C14.5762 17.4967 14.0191 17.4971 13.3301 17.4971H6.66016C5.97119 17.4971 5.41407 17.4967 4.96387 17.46C4.56337 17.4272 4.2024 17.3629 3.86621 17.2188L3.72363 17.1514C3.20247 16.8858 2.76602 16.4822 2.46191 15.9863L2.33984 15.7686C2.14799 15.392 2.06868 14.9861 2.03125 14.5283C1.99447 14.0781 1.99512 13.521 1.99512 12.832V8.33203C1.99512 7.64304 1.99448 7.08595 2.03125 6.63574C2.06867 6.17775 2.14788 5.77129 2.33984 5.39453C2.64329 4.7991 3.12817 4.31512 3.72363 4.01172L3.86621 3.94531C4.20247 3.8011 4.56327 3.73586 4.96387 3.70312C5.41407 3.66636 5.97119 3.66699 6.66016 3.66699H6.75391C7.47893 2.65925 8.6616 2.00006 10 2ZM10 3.33008C9.0133 3.33015 8.15083 3.86585 7.68848 4.66504C7.5697 4.87017 7.35029 4.99681 7.11328 4.99707H6.66016C5.94927 4.99707 5.45575 4.99701 5.07227 5.02832C4.79045 5.05135 4.60078 5.0892 4.45703 5.14062L4.32715 5.19629C3.9819 5.3722 3.70132 5.65379 3.52539 5.99902C3.44494 6.15702 3.38811 6.36857 3.35742 6.74414C3.32611 7.12763 3.3252 7.62114 3.3252 8.33203V12.832C3.3252 13.5429 3.32609 14.0365 3.35742 14.4199C3.38813 14.7954 3.44491 15.0071 3.52539 15.165L3.5957 15.291C3.77202 15.5785 4.02499 15.8128 4.32715 15.9668L4.45703 16.0225C4.60079 16.0739 4.7904 16.1117 5.07227 16.1348C5.45575 16.1661 5.94927 16.167 6.66016 16.167H13.3301C14.0409 16.167 14.5345 16.1661 14.918 16.1348C15.2934 16.1041 15.5051 16.0472 15.6631 15.9668C16.0082 15.7909 16.2889 15.5101 16.4648 15.165L16.5215 15.0342C16.5728 14.8905 16.6108 14.7012 16.6338 14.4199C16.6651 14.0365 16.665 13.5429 16.665 12.832V8.33203C16.665 7.6212 16.6651 7.12761 16.6338 6.74414C16.6108 6.46244 16.5729 6.27263 16.5215 6.12891L16.4648 5.99902C16.311 5.69707 16.0773 5.44388 15.79 5.26758L15.6631 5.19629C15.5051 5.11589 15.2933 5.059 14.918 5.02832C14.5345 4.997 14.0409 4.99707 13.3301 4.99707H12.8877C12.6504 4.99707 12.4304 4.87041 12.3115 4.66504C11.8492 3.8658 10.9867 3.33017 10 3.33008Z"})),zjt=Object.freeze(Object.defineProperty({__proto__:null,default:aA},Symbol.toStringTag,{value:"Module"}));function Gjt(t){"use forget";const e=ee.c(28),{uploadType:n,modelSupportedImageMimeTypes:r,gizmo:s,attachmentsProductFeature:a,contextScopes:i}=t,l=Z(),c=jf(),u=Tt();let d;e[0]!==a||e[1]!==i||e[2]!==c||e[3]!==(s==null?void 0:s.gizmo)||e[4]!==l||e[5]!==r||e[6]!==u||e[7]!==n?(d=(S,k)=>{S&&(Array.from(S).forEach(M=>{Hl.uploadFile(c,iu(M),M,n!=null?n:Ha.Retrieval,r,l,u,C({gizmoId:s==null?void 0:s.gizmo.id},i&&i.length>0?{contextScopes:i}:{}),a)}),B.logEventWithStatsig("Upload File",k==="photos"?"chatgpt_web_photos_file_uploaded":"chatgpt_web_camera_file_uploaded",{intent:k,source:n,location:n===Ha.Retrieval?"retrieval":"context-connector-picker"}))},e[0]=a,e[1]=i,e[2]=c,e[3]=s==null?void 0:s.gizmo,e[4]=l,e[5]=r,e[6]=u,e[7]=n,e[8]=d):d=e[8];const f=d;let m;e[9]!==n?(m=S=>{B.logEvent("Open File Viewer",{intent:S,source:n}),Le.logEvent("chatgpt_web_".concat(S,"_file_viewer_opened"),null,{location:n===Ha.Retrieval?"retrieval":"context-connector-picker"})},e[9]=n,e[10]=m):m=e[10];const p=m;let h;e[11]!==p?(h=()=>p("photos"),e[11]=p,e[12]=h):h=e[12];let v;e[13]!==f?(v=S=>{f(S.currentTarget.files,"photos")},e[13]=f,e[14]=v):v=e[14];let y;e[15]!==h||e[16]!==v?(y=o.jsx("input",{className:"sr-only",type:"file",tabIndex:-1,"aria-hidden":!0,id:"upload-photos",onClick:h,onChange:v,accept:"image/*",multiple:!0}),e[15]=h,e[16]=v,e[17]=y):y=e[17];let x;e[18]!==p?(x=()=>p("camera"),e[18]=p,e[19]=x):x=e[19];let b;e[20]!==f?(b=S=>{f(S.currentTarget.files,"camera")},e[20]=f,e[21]=b):b=e[21];let _;e[22]!==x||e[23]!==b?(_=o.jsx("input",{className:"sr-only",type:"file",tabIndex:-1,"aria-hidden":!0,id:"upload-camera",onClick:x,onChange:b,accept:"image/*",capture:"environment",multiple:!0}),e[22]=x,e[23]=b,e[24]=_):_=e[24];let w;return e[25]!==y||e[26]!==_?(w=o.jsxs(o.Fragment,{children:[y,_]}),e[25]=y,e[26]=_,e[27]=w):w=e[27],w}const pz=t=>{"use forget";const e=ee.c(6),{forMobileSheet:n}=t,r=n?J.HeaderItemAs:J.ItemAs,s=n?"large":void 0;let a;e[0]!==n?(a=n?o.jsx(N,{id:"wWojoI",defaultMessage:"Camera"}):o.jsx(N,{id:"AjuCMV",defaultMessage:"Take photo"}),e[0]=n,e[1]=a):a=e[1];let i;return e[2]!==r||e[3]!==s||e[4]!==a?(i=o.jsx(r,{as:"label",htmlFor:"upload-camera",onPointerUp:i1e,icon:aA,size:s,label:a}),e[2]=r,e[3]=s,e[4]=a,e[5]=i):i=e[5],i},gz=t=>{"use forget";const e=ee.c(7),{forMobileSheet:n}=t,r=n?J.HeaderItemAs:J.ItemAs,s=n?"large":void 0,a=n?Do:ol;let i;e[0]!==n?(i=n?o.jsx(N,{id:"h453TK",defaultMessage:"Photos"}):o.jsx(N,{id:"kBmJ2X",defaultMessage:"Add photos"}),e[0]=n,e[1]=i):i=e[1];let l;return e[2]!==r||e[3]!==s||e[4]!==a||e[5]!==i?(l=o.jsx(r,{as:"label",htmlFor:"upload-photos",onPointerUp:i1e,size:s,icon:a,label:i}),e[2]=r,e[3]=s,e[4]=a,e[5]=i,e[6]=l):l=e[6],l};function i1e(t){t.currentTarget.click()}const dot=[De.Mod,"u"];function oA(t,e="en"){if(!t)return"";const n=new Date(t);if(isNaN(n.getTime()))return"";const r=new Date,s=Math.max(0,n.getTime()-r.getTime()),a=Math.floor(s/(1e3*60)),i=Math.floor(s/(1e3*60*60)),l=Math.floor(s/(1e3*60*60*24));let c,u;return l>0?(c=l,u="day"):i>0?(c=i,u="hour"):(c=a,u="minute"),new Intl.RelativeTimeFormat(e,{numeric:"always"}).format(c,u).replace(/^in\s+/i,"").replace(/\s+ago$/i,"")}function fot({openFileDialog:t,showMenuForNoAuth:e,mode:n,modelSupportsImages:r,isDisabled:s,disabledReason:a,rateLimitInfo:i,currentModelName:l}){const c=q(),u=yt(c),{attachfileRateLimitMessageVariant:d,attachfileRateLimitMessageShowIcon:f}=e5(),m=r&&!s&&N0(),p=r&&!s&&Et(c)&&RQ();let h;if(s&&a===xu.RateLimitReached)if(u!=null&&u.hasPaidSubscription())h=o.jsx(hz,{account:u,forSheet:n==="sheet",rateLimitInfo:i!=null?i:null,currentModelName:l});else switch(n==="sheet"?"title_and_description":d){case"linked_text":h=o.jsx(pot,{account:u,rateLimitInfo:i!=null?i:null,showIcon:f});break;case"title_and_description":h=o.jsx(hz,{account:u,forSheet:n==="sheet",rateLimitInfo:i!=null?i:null,currentModelName:l});break;case"upgrade_button":h=o.jsx(got,{account:u,rateLimitInfo:i!=null?i:null});break}else h=o.jsx(mot,{mode:n,rateLimitInfo:i!=null?i:null,hasAddPhotosItem:p,currentModelName:l,openFileDialog:t,disabled:s,disabledReason:a});return e?o.jsx(hot,{onClickUploadImages:t,redirectToAuth:()=>dn(c,{fallbackScreenHint:"login"})}):n==="sheet"?o.jsxs(o.Fragment,{children:[m&&o.jsx(pz,{forMobileSheet:!0}),p&&o.jsx(gz,{forMobileSheet:!0}),h]}):o.jsxs(o.Fragment,{children:[p&&o.jsx(gz,{}),m&&o.jsx(pz,{}),h]})}function mot({hasAddPhotosItem:t,currentModelName:e,mode:n,openFileDialog:r,disabled:s,disabledReason:a}){const i=Z(),l=q(),c=at(YM),u=t?"android":n==="sheet"&&Et(l)?"ios":"default",d=(()=>{switch(u){case"android":return i.formatMessage({id:"LocalFileDropdownItem.uploadFilesOnly",defaultMessage:"Add files"});case"ios":return i.formatMessage({id:"LocalFileDropdownItem.uploadPhotosAndFiles",defaultMessage:"Photos & files"});case"default":return U4(l,i,s,a,e)}})(),f=n==="sheet"?J.HeaderItem:J.Item;return o.jsx(f,{size:n==="sheet"?"large":void 0,onClick:()=>{N0()&&n==="sheet"?(o1e(l).keepSheetOpen$.set(!0),Promise.resolve().then(()=>{r()})):r()},icon:o.jsx(O4,{className:"icon"}),label:d,disabled:s,highlightTrailing:n!=="sheet"&&o.jsx(r4,{binding:dot,className:"touch:hidden"}),showHighlightTrailing:c},"upload")}function hz({account:t,forSheet:e,rateLimitInfo:n,currentModelName:r}){const s=Z(),a=q(),i=it(),l=oA(n==null?void 0:n.resets_after);let c=o.jsx(O4,{className:"icon"}),u;t!=null&&t.hasPaidSubscription()?u=s.formatMessage({id:"ZBhfvX",defaultMessage:"Wait {time} to upload again"},{time:l}):(c=o.jsx(Rue,{className:"icon"}),u=s.formatMessage({id:"ba5pHI",defaultMessage:"Or wait {time} to upload again"},{time:l}));const d=e?J.HeaderItemRow:J.Item;return o.jsx(d,{onClick:()=>{t?qh(i,t):dn(a,{fallbackScreenHint:"login_or_signup",callback:f=>{B.logLogInButtonClicked({provider:f,location:"File picker rate limit tooltip"})}})},icon:!e&&c,disabled:(t==null?void 0:t.hasPaidSubscription())&&!e,label:U4(a,s,!0,xu.RateLimitReached,r),trailing:e&&!(t!=null&&t.hasPaidSubscription())&&o.jsx(oe,{className:U(e&&"min-h-9"),onClick:()=>{qh(i,t)},children:o.jsx(N,C({},tn.upgrade))}),secondary:u},"upload")}function pot({account:t,rateLimitInfo:e,showIcon:n}){const r=Z(),s=it(),a=oA(e==null?void 0:e.resets_after);return o.jsxs("div",{className:"group flex min-w-0 items-center py-2 ".concat(n?"px-2.5":"px-5"),children:[n&&o.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center",children:o.jsx(O4,{className:"text-token-text-tertiary"})}),o.jsx("div",{className:"text-token-text-tertiary line-clamp-2 block max-w-[212px] min-w-0 flex-1 text-start text-sm font-light",children:r.formatMessage({id:"egGG9V",defaultMessage:"<link>Upgrade to Plus</link> to attach more files or try again in {time}"},{time:a,link:i=>o.jsx("button",{type:"button",className:"text-token-text-secondary underline",onClick:()=>{qh(s,t)},children:i})})})]},"upload")}function got({account:t,rateLimitInfo:e}){const n=Z(),r=it(),s=oA(e==null?void 0:e.resets_after);return o.jsxs("div",{className:"flex flex-col gap-2 px-5 py-2",children:[o.jsx("div",{className:"text-token-text-tertiary max-w-[212px] text-start text-sm font-light",children:n.formatMessage({id:"/zL/ev",defaultMessage:"Upgrade to Plus to attach more files or try again in {time}"},{time:s})}),o.jsxs("button",{type:"button",className:"flex w-full items-center justify-center gap-1 rounded-full bg-[#F1F1FB] px-4 py-2 text-sm font-medium text-[#AF52DE] hover:bg-[#E4E4F6] dark:bg-[#373669] dark:text-[#DCDBF6] dark:hover:bg-[#414071]",onClick:()=>{qh(r,t)},children:[o.jsx(XN,{className:"icon-sm text-[#5D5BD0] dark:text-[#DCDBF6]"}),o.jsx(N,C({},tn.upgrade))]})]},"upload")}function qh(t,e){var n;fr(t,"Rate limited file upload inline-text"),B.logRateLimitGetPlusButtonClicked({type:"file_upload",location:"inline-text",plan_type:(n=e==null?void 0:e.planType)!=null?n:"unknown",is_hard_block:!1,hard_block_reason:""})}function hot({onClickUploadImages:t,redirectToAuth:e}){return o.jsxs(o.Fragment,{children:[o.jsx(J.Item,{icon:JN,onClick:e,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx(N,C({},Em.connectApps)),o.jsx("span",{className:"text-token-text-secondary text-[13px]",children:o.jsx(N,C({},Em.loginRequired))})]})},"connect-apps-no-auth"),o.jsx(J.Item,{icon:Sr,onClick:e,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx(N,C({},Em.uploadDocuments)),o.jsx("span",{className:"text-token-text-secondary text-[13px]",children:o.jsx(N,C({},Em.loginRequired))})]})},"upload-documents-no-auth"),o.jsx(J.Item,{icon:Do,onClick:t,children:o.jsx(N,C({},Em.uploadImages))},"upload-images-no-auth")]})}const Em=pe({connectApps:{id:"Rna6u2",defaultMessage:"Connect apps"},uploadDocuments:{id:"0BxpM7",defaultMessage:"Documents"},uploadImages:{id:"rdMuNJ",defaultMessage:"Images"},loginRequired:{id:"/1XNys",defaultMessage:"Login required"}});var tK;const Wjt=Ge.button(tK||(tK=qe(["flex items-center justify-center "," rounded-full "," "," "," "," ",""])),({$isSmall:t})=>t?"h-[34px] focus-visible:-outline-offset-1":"h-9",({$hideBorder:t,$visualTreatment:e})=>e!=="composer-btn"&&!t&&"border border-token-border-default",({$visualTreatment:t})=>t!=="composer-btn"&&"text-token-text-secondary",({$showLabel:t,$isSmall:e})=>t?"min-w-8 w-auto p-2 text-[13px] font-semibold radix-state-open:bg-black/10 hover:bg-token-main-surface-secondary":e?"w-7":"w-9",({disabled:t})=>t?"opacity-50":"hover:bg-token-main-surface-secondary",({$open:t})=>t&&"bg-black/10");function vot(){const t=Z();return o.jsx("span",{className:"ps-1 pe-1 whitespace-nowrap [[data-collapse-labels]_&]:sr-only",children:t.formatMessage({id:"PromptFilePicker.attachFilesLabel",defaultMessage:"Attach"})})}class yot extends Yi()(()=>({folderStates:{}})){expandProject(e){this.setState(n=>P(C({},n),{folderStates:P(C({},n.folderStates),{[e]:"open"})}))}collapseProject(e){this.setState(n=>P(C({},n),{folderStates:P(C({},n.folderStates),{[e]:"close"})}))}}Q(yot,"selectFolderState",(e,n)=>e.folderStates[n]);let nk=null;function Zjt(t){nk=t}function xot(t){return nk?nk(t):t}function l1e(t){switch(t.content.content_type){case rt.Text:return t.content.parts.join("");case rt.Code:return t.content.text;default:return""}}const vz=new WeakMap,zh=new WeakMap,bot=t=>{const e=vz.get(t);if(e)return e;try{const n=t!=null&&t.widget_state?JSON.parse(t.widget_state):void 0;return vz.set(t,n),n}catch(n){return null}},Cot=t=>{var n;const e=zh.get(t);if(e)return e;try{const r=l1e(t),s=r&&(n=JSON.parse(r))!=null?n:void 0;return zh.set(t,s),s}catch(r){return null}},_ot=t=>{const e=zh.get(t);if(e)return e;try{const n=l1e(t),[r]=gp(n,Mo({path:No,args:s=>{const[a]=gp(No(s),jY);return a!=null?a:{}}}));return r?(zh.set(t,r),r):null}catch(n){return null}},$4=t=>{var e;return(e=t.resource_name)!=null?e:""},wot=t=>{var e;return(e=t.resolved_pineapple_uri)!=null?e:""},yz="api_tool.",Sot=t=>t.filter(e=>{var n,r;return e.author.role===Ue.Assistant&&((n=e.recipient)==null?void 0:n.startsWith(yz))||e.author.role===Ue.Tool&&((r=e.author.name)==null?void 0:r.startsWith(yz))}),xz=new WeakMap,QC=t=>{var e;if(t){if("metadata"in t)return(e=t.metadata)==null?void 0:e.chatgpt_sdk;if("chatgpt_sdk"in t)return t.chatgpt_sdk}else return},kot=t=>{var h,v,y,x,b,_,w;const e=xz.get(t);if(e)return e;const n=Sot(t),r=n.find(S=>S.author.role===Ue.Assistant),s=n.findLast(S=>S.author.role===Ue.Tool&&!!QC(S)),a=QC(r),i=QC(s);let l=a;i&&(l=C(C({},l),i)),l=Cf(l);const c=$4(l),u=wot(l),d=r?_ot(r):null,f=s?Cot(s):null,m=(h=l.tool_response_metadata)!=null?h:null,p={path:(v=d==null?void 0:d.path)!=null?v:null,isError:(y=l.is_error)!=null?y:!1,messages:t,widgetId:(b=(x=s==null?void 0:s.id)!=null?x:r==null?void 0:r.id)!=null?b:"",toolMessageId:(_=s==null?void 0:s.id)!=null?_:null,metadata:l,widgetType:c,widgetParent:u,toolInput:(w=d==null?void 0:d.args)!=null?w:null,toolOutput:f,toolResponseMetadata:m};return xz.set(t,p),p};var d0,kd,Md,g6;class Mot{constructor(e){Q(this,"requestBlockingPromiseListener",null);Q(this,"subscriptionEffect",null);Q(this,"showLoadingBar$",nt(!1));Q(this,"transitioningId$",nt(null));Q(this,"pinnedChatSDK$",nt(null));Q(this,"pinnedChatSDKId$",un(()=>{var e,n;return(n=(e=this.pinnedChatSDK$())==null?void 0:e.widgetId)!=null?n:null}));Q(this,"pinnedWidgetType$",un(()=>{var n;const e=(n=this.pinnedChatSDK$())==null?void 0:n.metadata;return e?$4(e):null}));Q(this,"conversationTurnSnapshot$",un(()=>this.hasPinnedWidget$()?ic(()=>_7(this.conversation)):[]));Q(this,"hasPinnedWidget$",un(()=>this.pinnedWidgetType$()!=null));Q(this,"displayMode$",nt("inline"));Q(this,"title$",nt(null));Gs(this,d0,nt(null));Q(this,"maxWidgetHeight$",un(()=>{const{height:e}=Gne(this.conversation.ctx);if(this.displayMode$()!=="inline")return this.displayMode$()==="pip"?e/2-72:void 0}));Gs(this,kd,new Set);Gs(this,Md,new Map);Q(this,"widgetStateCache",new Map);Q(this,"pinnedWidgetHeight$",un(()=>{const e=this.maxWidgetHeight$(),n=this.pinnedWidgetType$(),r=Pn(this,d0).call(this);return n?Math.min(e!=null?e:0,r!=null?r:0):null}));Gs(this,g6,e=>xs(async n=>{const r=this.conversation.serverId$();if(r)try{await ue.safePost("/ecosystem/widget_state",{requestBody:{conversation_id:r,message_id:e,state:JSON.stringify(n)}})}catch(s){}finally{Pn(this,kd).delete(e)}},2e3));Q(this,"getLatestChatSDK$",e=>{const n=this.pinnedWidgetType$();if(!n||n!==e.widgetType)return e;const r=_7(this.conversation);return bz(e,r,n)});this.conversation=e,this.requestBlockingPromiseListener=c_e(async()=>{await Promise.all(Pn(this,Md).values().map(n=>n.flush()))},()=>Pn(this,kd).size>0)}subscribeToNewMessages$(e,n){this.subscriptionEffect&&this.subscriptionEffect(),this.subscriptionEffect=A0(()=>{const r=this.pinnedWidgetType$();if(!r)return;const s=this.conversationTurnSnapshot$(),i=_7(this.conversation).slice(s.length);if(i.length===0)return;const l=bz(e,i,r);n(c=>{var d,f;return!c||l.toolOutput!=null?l:P(C({},l),{toolResponseMetadata:(d=l.toolResponseMetadata)!=null?d:c.toolResponseMetadata,toolOutput:(f=l.toolOutput)!=null?f:c.toolOutput})})})}setPinnedWidgetHeight(e){Pn(this,d0).set(e)}isPinned$(e){return this.pinnedWidgetType$()===e.widgetType}isPinOrigin$(e){return this.pinnedChatSDKId$()===e.widgetId}setDisplayMode$(e,n,r){M6(()=>{this.displayMode$.set(n),n==="fullscreen"?r&&this.title$.set(r):this.title$.set(null),n==="pip"||n==="fullscreen"?this.pinnedChatSDK$.set(e):this.pinnedChatSDK$.set(null)})}setWidgetState$(e,n){this.widgetStateCache.set(e,n);let r=Pn(this,Md).get(e);r||(r=Pn(this,g6).call(this,e),Pn(this,Md).set(e,r)),Pn(this,kd).add(e),r(n)}callTool$(e,n,r){return ue.safePost("/ecosystem/call_mcp",{requestBody:{app_uri:e,tool_name:n,tool_input:r}})}getWidgetStateAndProps(e){var n;return{toolInput:e.toolInput,toolOutput:e.toolOutput,toolResponseMetadata:e.toolResponseMetadata,widgetState:(n=this.widgetStateCache.get(e.widgetId))!=null?n:bot(e.metadata)}}}d0=new WeakMap,kd=new WeakMap,Md=new WeakMap,g6=new WeakMap;const Eot=Uu(t=>new Mot(t)),bz=(t,e,n)=>{var r,s;for(let a=e.length-1;a>=0;a--){const i=e[a];for(let l=i.messageGroups.length-1;l>=0;l--){const c=i.messageGroups[l];if(c.type===Hn.JITPlugin)for(let u=c.messages.length-1;u>=0;u--){const d=c.messages[u];if((r=d.metadata)!=null&&r.chatgpt_sdk&&n===$4((s=d.metadata)==null?void 0:s.chatgpt_sdk))return kot(c.messages)}}}return t};function Kjt(){return!1}const jot={apps:[],selectedApps:[]},Yjt=Rt(k0(Sn(()=>jot))),Tot=async t=>{var n;const e=t.map(r=>r.id);if(e.length!==0)return(n=Jge)==null?void 0:n.pairing.getContentForPairedApps(e)},Qjt=async()=>{},Jjt=({event:t,conversationMode:e,systemHints:n})=>{const{systemHints:r,extraStreamParams:s}=t4(n);return{sourceEvent:t,completionType:Ol.Continue,extraStreamParams:s,completionMetadata:{conversationMode:e,systemHints:r}}},Xjt=async({ctx:t,clientThreadId:e,attachments:n,content:r,contentToSend:s,conversationMode:a,hasSelectedApps:i,desktopOrigin:l,shouldCollectSidebarContext:c,desktopSidebarContext:u,isMessageFollowupsEnabled:d,selectedApps:f,selectedGizmoTag:m,selectedRepos:p,selectedSources:h,selectedMCPConnectors:v,startedWithByoMcp:y,sourceEvent:x,systemHints:b,usedDictation:_,dictationEdited:w,dictationOriginalText:S,dictationAssetPointer:k,dictationAssetTTL:M,dictationAssetFormat:E,isN7jupdActive:T,isForceAllowCustomMcpModeEnabled:j,thinkingEffort:A})=>{var re,le,fe;const I=k3({namespace:u1.CompletionRequest,opts:{expectedTimingLogs:[{name:"prompt_submitted",expectedInMs:3e3}],debug:!1}});I.reset();const L=[];if(i){const ge=await Tot(f);ge&&L.push(Xge(ge))}(y||v&&v.some(ge=>ge.status==="ONLY_ME"))&&L.push(FM("",{disable_tool_ids:["gmail","gcal","gcontacts"]}));const O=[],{rebaseSystemMessageContent:R}=Eu.getState();R&&O.push(ehe(R));const H=C({},a);"gizmo"in H&&delete H.gizmo;const V=b.includes(we.Search),z=b.includes(we.Research),$=b.includes(we.Slurm),D=b.length===0,Y=V?tf.CONVERSATION_COMPOSER_WEB_ICON:void 0,G=Aqe(),F=V0(),X=Intl.DateTimeFormat().resolvedOptions().timeZone,te=Object.keys(F).length>0,ae=(re=Eot(cr(t,e)).pinnedChatSDK$())==null?void 0:re.toolMessageId,me=Fr(r,C(C(C(C(C(C(C(C(C(C(C(C({},n.length>0&&{attachments:n}),m&&{gizmo_id:m.gizmo.id}),h&&{caterpillar_selected_sources:z?tc(h):void 0,developer_mode_connector_ids:v==null?void 0:v.map(ge=>ge.id),selected_mcp_sources:z||$||T&&j?v:void 0,selected_sources:$||z||T||D?tc(h,$||D):void 0}),p&&{selected_github_repos:[...(le=p.selectedRepos)!=null?le:[]],selected_all_github_repos:p.selectedAllRepos}),b.length>0&&{system_hints:b}),!!s.metadata&&{serialization_metadata:s.metadata}),ae?{chatgpt_sdk_focused_message_id:ae}:null),G.length>0&&{canvas:{user_created_textdocs:G.map(ge=>({user_created_temp_textdoc_id:ge.tempTextdocId,type:ge.type,title:ge.title,content:ge.content,create_source:ge.create_source,remix_shared_textdoc_id:ge.remixSharedTextdocId}))}}),te&&{__internal:{search_settings:te?F:void 0}}),_&&C(C(C(C(C({dictation:!0},w&&{dictation_edited:!0}),S&&{dictation_original_text:S}),k&&{dictation_asset_pointer:k}),M&&{dictation_asset_ttl:M}),E&&{dictation_asset_format:E})),(z||T)&&X&&{user_timezone:X}),l?await QM(c&&u!=null?u:void 0,l,"user",b):{}));let W={sourceEvent:x,completionMetadata:{conversationMode:H,systemHints:b,searchSource:Y},promptMessage:me,prependMessages:L,appendMessages:O,thinkingEffort:A,profiler:I};const K={};if(W=xot(W),(fe=W.completionMetadata)!=null&&fe.systemHints){let ge=!1;W.completionMetadata.systemHints=W.completionMetadata.systemHints.filter(ye=>ye===we.Search?(ge=!0,!1):!0),ge&&(K.forceUseSearch=!0)}d&&(K.enableMessageFollowups=!0),W.extraStreamParams=K;const{targetedContent:ne}=L4.getState();return ne!=null&&ne.createNewCompletionParams&&(W=await ne.createNewCompletionParams(W)),I.logTimingOnce("request_params_ready"),W},Not=t=>{"use forget";var w;const e=ee.c(30),{clientThreadId:n,composerController:r}=t,s=q();let a;e[0]!==s?(a=the(s),e[0]=s,e[1]=a):a=e[1];const i=a,{systemHints:l}=oc(),c=Kr(),u=nhe(),d=OQ();let f;e:{if(!i){let T;e[2]===Symbol.for("react.memo_cache_sentinel")?(T={keywords:[],keywordToSystemHintMap:{}},e[2]=T):T=e[2],f=T;break e}let S,k;if(e[3]!==l){const T=(w=l==null?void 0:l.filter(Aot))!=null?w:[];S=T.map(Pot).flat().filter(Iot);const j=[];T.forEach(A=>{var I;(I=A.keywordInvocations)==null||I.forEach(L=>{j.push([L.toLowerCase(),A])})}),k=Object.fromEntries(j),e[3]=l,e[4]=S,e[5]=k}else S=e[4],k=e[5];const M=k;let E;e[6]!==M||e[7]!==S?(E={keywords:S,keywordToSystemHintMap:M},e[6]=M,e[7]=S,e[8]=E):E=e[8],f=E}const{keywords:m,keywordToSystemHintMap:p}=f;let h,v;e[9]!==d||e[10]!==c||e[11]!==r||e[12]!==i?(h=()=>{i&&rhe(c,d,Ht(r))},v=[c,d,r,i],e[9]=d,e[10]=c,e[11]=r,e[12]=i,e[13]=h,e[14]=v):(h=e[13],v=e[14]),g.useEffect(h,v);let y,x;e[15]!==r||e[16]!==i||e[17]!==p||e[18]!==m?(y=()=>{i&&she(m,p,Ht(r))},x=[r,m,p,i],e[15]=r,e[16]=i,e[17]=p,e[18]=m,e[19]=y,e[20]=x):(y=e[19],x=e[20]),g.useEffect(y,x);let b,_;e[21]!==c||e[22]!==u||e[23]!==n||e[24]!==r||e[25]!==i||e[26]!==p||e[27]!==l?(b=()=>{if(!i)return;const S=k=>{const M=Ht(r),E=ahe(M);return E?{systemHint:p[E.toLowerCase()],matchedKeyword:E}:{}};return Bd(()=>S(XM(r)),k=>{const{systemHint:M,matchedKeyword:E}=k;if(!M)return;const T=l==null?void 0:l.find(j=>j.systemHint===c);T&&!JM(T.systemHint)||M.isConnector&&(Ag(M.systemHint,Pg.PrefixMatch,P(C({},Pt({clientThreadId:n})),{matched_keyword:E})),u(M.systemHint,{analyticsMetadata:{clientThreadId:n}}))},{fireImmediately:!0,equals:bf})},_=[r,n,u,p,l,c,i],e[21]=c,e[22]=u,e[23]=n,e[24]=r,e[25]=i,e[26]=p,e[27]=l,e[28]=b,e[29]=_):(b=e[28],_=e[29]),g.useEffect(b,_)};function Aot(t){var e;return(e=t.keywordInvocations)==null?void 0:e.length}function Pot(t){return t.keywordInvocations}function Iot(t){return t!==void 0}function iA(t){const e=Kr(),n=Te(t,s=>s==null?void 0:s.modelId),r=c1e(n,e);return g.useMemo(()=>({isOdysseyMode:r}),[r])}function c1e(t,e){return t===ohe||Mu(e)}function u1e(t,e){const{systemHints:n}=oc(),r=tl(e),s=Te(e,i=>i==null?void 0:i.mode),a=Er();return g.useMemo(()=>{if(!n)return!0;const i=n.find(l=>l.systemHint===t);return i!=null&&Ile({systemHint:i,modelConfig:r,conversationMode:s,isTemporaryChat:a})},[n,t,r,s,a])}const d1e=({clientThreadId:t})=>{"use forget";const e=u1e(we.Slurm,t),n=Kr(),r=Mr(),s=UY(),a=!!(r!=null&&r.isPersonalAccount()&&s),i=iA(t).isOdysseyMode,l=i||e&&n==null||n===we.Slurm||n===we.Research,c=w0(),d=!!(c!=null&&c.softmentionEnabled)&&l,{connectedTypes:f,linkIdToConnectedType:m}=H6({enabled:d}),{connectedTypes:p}=HY({enabled:d}),{data:h}=VY(),{filteredKeywords:v,connectorToKeywordsMap:y,keywordsConnectorMap:x}=g.useMemo(()=>{var E,T;const b=(E=h==null?void 0:h.connection_statuses.reduce((j,A)=>(["activated","partially_activated"].includes(A.user_connection_details.activation_status)&&j.add(A.user_connection_details.connection_type),j),new Set))!=null?E:new Set;let _=f;if(n===we.Research||i)_=p;else{const j=(T=h==null?void 0:h.connection_statuses.reduce((A,I)=>{if(["activated","partially_activated"].includes(I.user_connection_details.activation_status)&&I.user_connection_details.backing_link_id){const L=m.get(I.user_connection_details.backing_link_id);L&&A.add(L)}return A},new Set))!=null?T:new Set;_=new Set([...f].filter(A=>A===vt.GDRIVE_ACTION_CONNECTOR&&a&&b.has("gdrive_sync_connector")||j.has(A)?!1:!(A===vt.SHAREPOINT_CONNECTOR&&b.has("sharepoint_admin_sync_connector"))))}const w=(c==null?void 0:c.connectorConfig)||{},{keywordSet:S,connectorToKeywordsMap:k,keywordsConnectorMap:M}=Object.entries(w).reduce((j,[A,I])=>{if(_.has(A)||b.has(A)){const L=((I==null?void 0:I.keywords)||[]).map(O=>O.toLowerCase());j.connectorToKeywordsMap[A]=L,L.forEach(O=>{j.keywordSet.add(O),j.keywordsConnectorMap[O]=A})}return j},{keywordSet:new Set,connectorToKeywordsMap:{},keywordsConnectorMap:{}});return{filteredKeywords:d?Array.from(S):[],connectorToKeywordsMap:d?k:{},keywordsConnectorMap:d?M:{}}},[h==null?void 0:h.connection_statuses,f,n,i,c==null?void 0:c.connectorConfig,d,p,m,a]);return{enabled:d,keywords:v,connectorToKeywordsMap:y,keywordsConnectorMap:x}},Lot=({clientThreadId:t,composerController:e})=>{const{mentionedSources:n,addMentionedSource:r,deleteMentionedSource:s}=Jo(t),a=Kr(),{setThreadSystemHintMode:i}=Qo(),l=iA(t).isOdysseyMode,c=g.useRef(l),{keywords:u,connectorToKeywordsMap:d,keywordsConnectorMap:f}=d1e({clientThreadId:t});g.useEffect(()=>{DQ(u,Ht(e))},[e,u]);const m=g.useRef(a);g.useEffect(()=>{const y=m.current;m.current=a;const x=Ht(e),b=c.current;if(c.current=l,b&&!l&&w7(S7(x.state),x),(y===we.Slurm||y===we.Research)&&a==null){const _=S7(x.state);w7(_,x),_.forEach(w=>s(f[w]))}},[a,e,s,l,f]);const p=g.useRef(n);g.useEffect(()=>{const y=p.current;if(p.current=n,!y)return;const x=Array.from(y).filter(_=>!(n!=null?n:new Set).has(_)),b=[];x.forEach(_=>{var w;b.push(...(w=d[_])!=null?w:[])}),w7(b,Ht(e))},[e,d,n]);const h=g.useRef([]),v=a!=null;g.useEffect(()=>{const y=b=>{if(h.current.length===0&&b.length>0&&!v){const S={clientThreadId:t};i(we.Slurm,!0,S)}const _=b.filter(S=>!h.current.includes(S)),w=h.current.filter(S=>!b.includes(S));_.forEach(S=>r(S)),w.forEach(S=>s(S)),h.current=b},x=b=>S7(b).map(_=>f[_.toLowerCase()]);return A0(()=>{y(ihe(x(XM(e))))})},[r,t,e,s,f,v,i])},eTt=({clientThreadId:t,currentModelId:e,isCompletionInProgress:n,composerController:r,expireConduit:s})=>{const a=q(),i=Kr(),l=pM(x=>{var b,_;return(_=(b=x.threads[t])==null?void 0:b.prepareRequestBlocked)!=null?_:!1}),{isOpen:c}=cLe();Lot({clientThreadId:t,composerController:r}),Not({clientThreadId:t,composerController:r});const u=g.useRef(n);g.useEffect(()=>{u.current=n},[n]);const d=g.useRef(!1);g.useEffect(()=>{d.current=!1},[t]);const f=g.useCallback(x=>{u.current?s&&Fe(t,b=>{b.conduitToken=null,b.prepareState=null}):Fe(t,b=>{b.conduitToken=x,b.prepareState="success"})},[t,s]),m=g.useRef(null);m.current=()=>e&&RIe(t,e,i?[i]:void 0,f,!1,c);const p=g.useCallback(()=>{var x;return(x=m.current)==null?void 0:x.call(m)},[]),h=g.useCallback(E6(()=>p(),5e3,{leading:!0,trailing:!0}),[]),v=g.useRef(!1),y=eE();return g.useEffect(()=>{if(y){if(!v.current){v.current=!0;return}u.current||l||d.current&&p()}},[y,t,e,i,l]),g.useEffect(()=>{h.cancel()},[n,h]),g.useEffect(()=>{if(!(n||!_5(a,!0)))return Bd(()=>XM(r),()=>{d.current=!0,h()})},[n,r,h,a]),null},tTt=({clientThreadId:t,accountUserId:e})=>{var s;const n=Te(t,a=>a==null?void 0:a.sharedProjectConversationOwner);return(n==null?void 0:n.id)!=null&&n.id!==e?o.jsx("p",{className:"text-token-text-secondary mb-2 text-center text-xs",children:o.jsx(N,{id:"thread.sharedProjectConversationOwnerNotice",defaultMessage:"This is a conversation between ChatGPT and {name}. Responding will create a branch.",values:{name:(s=n==null?void 0:n.name)!=null?s:"the owner"}})}):null};function nTt(){const t=Z();return o.jsx(oe,{onClick:()=>{pn.openModal(Yl.SharedConversationModeration)},className:"w-1/3",children:t.formatMessage({id:"thread.sharedConversation.moderate",defaultMessage:"Moderate conversation"})})}const Rot="side_chat",rTt="ntp",sTt="website";function aTt(){const[t,e]=kr(),n=pr();g.useEffect(()=>{if(n)return A0(()=>{const r=_t.windowStyle$();let s;if(r==="mainPage")s=lhe,uhe();else if(r==="sidebar")s=che,dhe();else return;t.get(s.name)!==s.value&&e(a=>{const i=new URLSearchParams(a);return i.set(s.name,s.value),i},{replace:!0})})},[n,t,e])}var JC,Cz;function f1e(){if(Cz)return JC;Cz=1;var t=fhe(),e=TY();function n(r,s,a){(a!==void 0&&!e(r[s],a)||a===void 0&&!(s in r))&&t(r,s,a)}return JC=n,JC}var XC,_z;function Oot(){if(_z)return XC;_z=1;var t=TM(),e=sM();function n(r){return e(r)&&t(r)}return XC=n,XC}var e_,wz;function Dot(){if(wz)return e_;wz=1;var t=UK(),e=mhe(),n=sM(),r="[object Object]",s=Function.prototype,a=Object.prototype,i=s.toString,l=a.hasOwnProperty,c=i.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var f=e(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&i.call(m)==c}return e_=u,e_}var t_,Sz;function m1e(){if(Sz)return t_;Sz=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return t_=t,t_}var n_,kz;function Fot(){if(kz)return n_;kz=1;var t=phe(),e=FQ();function n(r){return t(r,e(r))}return n_=n,n_}var r_,Mz;function Bot(){if(Mz)return r_;Mz=1;var t=f1e(),e=ghe(),n=hhe(),r=IQ(),s=vhe(),a=yhe(),i=F6(),l=Oot(),c=xhe(),u=bhe(),d=AM(),f=Dot(),m=Che(),p=m1e(),h=Fot();function v(y,x,b,_,w,S,k){var M=p(y,b),E=p(x,b),T=k.get(E);if(T){t(y,b,T);return}var j=S?S(M,E,b+"",y,x,k):void 0,A=j===void 0;if(A){var I=i(E),L=!I&&c(E),O=!I&&!L&&m(E);j=E,I||L||O?i(M)?j=M:l(M)?j=r(M):L?(A=!1,j=e(E,!0)):O?(A=!1,j=n(E,!0)):j=[]:f(E)||a(E)?(j=M,a(M)?j=h(M):(!d(M)||u(M))&&(j=s(E))):A=!1}A&&(k.set(E,j),w(j,E,_,S,k),k.delete(E)),t(y,b,j)}return r_=v,r_}var s_,Ez;function Uot(){if(Ez)return s_;Ez=1;var t=_he(),e=f1e(),n=whe(),r=Bot(),s=AM(),a=FQ(),i=m1e();function l(c,u,d,f,m){c!==u&&n(u,function(p,h){if(m||(m=new t),s(p))r(c,u,h,d,l,f,m);else{var v=f?f(i(c,h),p,h+"",c,u,m):void 0;v===void 0&&(v=p),e(c,h,v)}},a)}return s_=l,s_}var a_,jz;function Hot(){if(jz)return a_;jz=1;var t=ese(),e=Bj();function n(r){return t(function(s,a){var i=-1,l=a.length,c=l>1?a[l-1]:void 0,u=l>2?a[2]:void 0;for(c=r.length>3&&typeof c=="function"?(l--,c):void 0,u&&e(a[0],a[1],u)&&(c=l<3?void 0:c,l=1),s=Object(s);++i<l;){var d=a[i];d&&r(s,d,i,c)}return s})}return a_=n,a_}var o_,Tz;function Vot(){if(Tz)return o_;Tz=1;var t=Uot(),e=Hot(),n=e(function(r,s,a){t(r,s,a)});return o_=n,o_}var $ot=Vot();const q4=St($ot);function oTt(t){const e=Yt(ws),{setTargetedContent:n}=L4();g.useEffect(()=>{if(e)return tE(()=>_t.wantsPopulatePrompt$(),()=>{_t.wantsPopulatePrompt$.set(!1);const r=_t.populatePrompt;r&&(r.userMessage&&Va(Ht(t),r.userMessage),setTimeout(()=>{n(r.targetedReply?{type:"text",label:r.targetedReply,createNewCompletionParams:s=>{if(!r.targetedReply)return s;const a=BQ(r.targetedReply);return P(C({},s),{promptMessage:q4(s.promptMessage,{metadata:{targeted_reply:r.targetedReply}}),appendMessages:s.appendMessages==null?[a]:[...s.appendMessages,a]})}}:void 0)},0))})},[e,t,n])}function qot(t){"use forget";const e=ee.c(26),{size:n,triggerIcon:r,triggerButton:s,children:a,side:i,className:l,triggerIconClassName:c,sideOffset:u,alignOffset:d,open:f,onOpenChange:m,alignAgainstAnchor:p,disableAutofocus:h,modal:v}=t,y=n===void 0?"default":n,x=i===void 0?"bottom":i,b=u===void 0?10:u,_=d===void 0?0:d,w=p===void 0?"center":p,S=h===void 0?!1:h,k=v===void 0?!1:v,M=She();let E;e[0]!==r||e[1]!==s||e[2]!==c?(E=r?o.jsx(Gi,{className:U("hover:bg-token-main-surface-secondary rounded-lg p-2",c),children:o.jsx(r,{className:"icon"})}):o.jsx(Gi,{asChild:!0,children:s}),e[0]=r,e[1]=s,e[2]=c,e[3]=E):E=e[3];let T;e[4]!==S?(T=R=>{S&&R.preventDefault()},e[4]=S,e[5]=T):T=e[5];const j=y==="default";let A;e[6]!==l||e[7]!==j?(A=U({"max-w-xs min-w-[200px]":j},l),e[6]=l,e[7]=j,e[8]=A):A=e[8];let I;e[9]!==w||e[10]!==_||e[11]!==a||e[12]!==x||e[13]!==b||e[14]!==A||e[15]!==T?(I=o.jsx(X6,{$as:n1,side:x,sideOffset:b,alignOffset:_,align:w,collisionPadding:10,onOpenAutoFocus:T,className:A,children:a}),e[9]=w,e[10]=_,e[11]=a,e[12]=x,e[13]=b,e[14]=A,e[15]=T,e[16]=I):I=e[16];let L;e[17]!==M||e[18]!==I?(L=o.jsx(t1,P(C({},M),{children:I})),e[17]=M,e[18]=I,e[19]=L):L=e[19];let O;return e[20]!==k||e[21]!==m||e[22]!==f||e[23]!==L||e[24]!==E?(O=o.jsxs(e1,{open:f,onOpenChange:m,modal:k,children:[E,L]}),e[20]=k,e[21]=m,e[22]=f,e[23]=L,e[24]=E,e[25]=O):O=e[25],O}function z4(t){"use forget";const e=ee.c(2);t.triggerIcon&&t.triggerButton;let n;return e[0]!==t?(n=o.jsx(qot,C({},t)),e[0]=t,e[1]=n):n=e[1],n}const rk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M11.8352 4.58331C11.8352 3.56995 11.0136 2.74848 10.0002 2.74835C8.9868 2.74835 8.16528 3.56987 8.16528 4.58331C8.16528 4.67625 8.24033 4.75123 8.33325 4.75128H11.6663C11.7592 4.75128 11.8352 4.67628 11.8352 4.58331ZM16.7063 13.0833C16.7063 13.7724 16.707 14.3294 16.6702 14.7796C16.6374 15.1802 16.5731 15.541 16.429 15.8773L16.3616 16.0198C16.096 16.541 15.6924 16.9775 15.1965 17.2816L14.9788 17.4036C14.602 17.5956 14.1956 17.6748 13.7376 17.7122C13.2874 17.749 12.7302 17.7484 12.0413 17.7484H7.95825C7.26916 17.7484 6.71221 17.749 6.26196 17.7122C5.86132 17.6795 5.5006 17.6143 5.16431 17.47L5.02173 17.4036C4.50069 17.1381 4.06411 16.7343 3.76001 16.2386L3.63794 16.0198C3.44614 15.6432 3.36676 15.2374 3.32935 14.7796C3.29256 14.3294 3.29321 13.7724 3.29321 13.0833V7.4339C3.29321 6.89108 3.2926 6.45196 3.31568 6.09503C3.33912 5.73276 3.38938 5.40917 3.51001 5.09991C3.83166 4.27546 4.48341 3.62273 5.30786 3.30109L5.54321 3.22394C5.78184 3.15798 6.03209 3.12531 6.30396 3.10773C6.56114 3.0911 6.86075 3.08745 7.21118 3.08624C7.74527 2.0934 8.79389 1.41827 10.0002 1.41827C11.2064 1.41836 12.2542 2.09359 12.7883 3.08624C13.139 3.08744 13.4392 3.09109 13.6965 3.10773C14.0587 3.13116 14.3825 3.18053 14.6917 3.30109L14.844 3.36554C15.5964 3.7052 16.1889 4.32679 16.4905 5.09991L16.5686 5.33527C16.6344 5.5736 16.6663 5.82355 16.6838 6.09503C16.7069 6.45195 16.7063 6.89108 16.7063 7.4339V13.0833ZM13.1653 4.58331C13.1653 5.41082 12.4938 6.08136 11.6663 6.08136H8.33325C7.50579 6.08131 6.83521 5.41079 6.83521 4.58331C6.83521 4.52829 6.83634 4.47359 6.83911 4.41925C6.66887 4.42205 6.52147 4.42638 6.38989 4.43488C6.16579 4.44937 6.01318 4.47293 5.89673 4.50519L5.79126 4.54034C5.31326 4.72683 4.93477 5.10531 4.74829 5.58331C4.69813 5.71204 4.66211 5.88293 4.64282 6.18097C4.62316 6.48503 4.62329 6.87387 4.62329 7.4339V13.0833C4.62329 13.7944 4.62418 14.2877 4.65552 14.6712C4.68622 15.0469 4.74298 15.2583 4.82349 15.4163L4.8938 15.5423C5.07011 15.8299 5.32299 16.0641 5.62525 16.2181L5.75513 16.2747C5.89888 16.3262 6.08851 16.363 6.37036 16.386C6.75388 16.4174 7.24721 16.4183 7.95825 16.4183H12.0413C12.7521 16.4183 13.2457 16.4174 13.6292 16.386C14.0047 16.3554 14.2163 16.2985 14.3743 16.2181L14.5012 16.1478C14.7887 15.9715 15.0231 15.7185 15.177 15.4163L15.2327 15.2864C15.2841 15.1427 15.3219 14.9532 15.345 14.6712C15.3763 14.2877 15.3762 13.7944 15.3762 13.0833V7.4339C15.3762 6.87387 15.3764 6.48503 15.3567 6.18097C15.3422 5.95722 15.3186 5.80513 15.2864 5.68878L15.2512 5.58331C15.0881 5.16509 14.7781 4.8233 14.3831 4.61945L14.2083 4.54034C14.0795 4.49017 13.9087 4.45416 13.6106 4.43488C13.4788 4.42636 13.331 4.42205 13.1604 4.41925C13.1632 4.47359 13.1653 4.52828 13.1653 4.58331Z"})),iTt=Object.freeze(Object.defineProperty({__proto__:null,default:rk},Symbol.toStringTag,{value:"Module"})),sk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M15.5847 6.5C15.5847 5.78896 15.5848 5.29563 15.5535 4.91211C15.5304 4.63016 15.4926 4.44065 15.4412 4.29688L15.3855 4.16699C15.2316 3.86488 14.9972 3.61186 14.7097 3.43555L14.5828 3.36524C14.4248 3.28478 14.2132 3.22795 13.8376 3.19727C13.4542 3.16595 12.9606 3.16504 12.2498 3.16504H7.74976C7.03889 3.16504 6.54533 3.16594 6.16187 3.19727C5.88056 3.22027 5.69123 3.25728 5.54761 3.30859L5.41675 3.36524C5.11471 3.5192 4.86253 3.75359 4.68628 4.04102L4.61499 4.16699C4.5345 4.32499 4.47772 4.53646 4.44702 4.91211C4.42359 5.19893 4.41936 5.54719 4.41772 6.00195H4.58374C4.95086 6.00213 5.24878 6.29983 5.24878 6.66699C5.2486 7.034 4.95075 7.33186 4.58374 7.33203H4.41479V9.33496H4.58374L4.71753 9.34863C5.0205 9.41069 5.24878 9.67868 5.24878 10C5.24878 10.3213 5.0205 10.5893 4.71753 10.6514L4.58374 10.665H4.41479V12.668H4.58374C4.95075 12.6681 5.2486 12.966 5.24878 13.333C5.24878 13.7002 4.95086 13.9979 4.58374 13.998H4.41772C4.41936 14.4528 4.42359 14.8011 4.44702 15.0879C4.47772 15.4635 4.5345 15.675 4.61499 15.833L4.68628 15.959C4.86253 16.2464 5.11471 16.4808 5.41675 16.6348L5.54761 16.6914C5.69123 16.7427 5.88056 16.7797 6.16187 16.8027C6.54533 16.8341 7.03889 16.835 7.74976 16.835H12.2498C12.9606 16.835 13.4542 16.8341 13.8376 16.8027C14.2132 16.772 14.4248 16.7152 14.5828 16.6348L14.7097 16.5645C14.9972 16.3881 15.2316 16.1351 15.3855 15.833L15.4412 15.7031C15.4926 15.5594 15.5304 15.3698 15.5535 15.0879C15.5848 14.7044 15.5847 14.211 15.5847 13.5V6.5ZM10.4998 9.08496C10.867 9.08496 11.1648 9.38274 11.1648 9.75C11.1648 10.1173 10.867 10.415 10.4998 10.415H7.99976C7.6326 10.4149 7.33472 10.1172 7.33472 9.75C7.33472 9.38282 7.63261 9.0851 7.99976 9.08496H10.4998ZM11.9998 6.00195L12.1335 6.01563C12.4368 6.07749 12.6648 6.3455 12.6648 6.66699C12.6646 6.98839 12.4367 7.25657 12.1335 7.31836L11.9998 7.33203H7.99976C7.63271 7.3319 7.33489 7.03403 7.33472 6.66699C7.33472 6.29981 7.6326 6.00209 7.99976 6.00195H11.9998ZM16.9148 13.5C16.9148 14.1891 16.9154 14.746 16.8787 15.1963C16.8459 15.597 16.7807 15.9576 16.6365 16.2939L16.5701 16.4365C16.3045 16.9576 15.9008 17.3941 15.405 17.6982L15.1873 17.8203C14.8105 18.0123 14.404 18.0915 13.946 18.1289C13.4958 18.1657 12.9387 18.165 12.2498 18.165H7.74976C7.06081 18.165 6.50364 18.1657 6.05347 18.1289C5.65284 18.0961 5.29209 18.031 4.95581 17.8867L4.81323 17.8203C4.2923 17.5549 3.85658 17.1509 3.55249 16.6553L3.43042 16.4365C3.23852 16.0598 3.15925 15.6542 3.12183 15.1963C3.09435 14.86 3.08926 14.464 3.08765 13.998H2.91675C2.54948 13.998 2.25171 13.7003 2.25171 13.333C2.25188 12.9659 2.54959 12.668 2.91675 12.668H3.08472V10.665H2.91675C2.54948 10.665 2.25171 10.3673 2.25171 10C2.25171 9.63273 2.54948 9.33496 2.91675 9.33496H3.08472V7.33203H2.91675C2.54959 7.33203 2.25188 7.03411 2.25171 6.66699C2.25171 6.29972 2.54948 6.00195 2.91675 6.00195H3.08765C3.08926 5.53598 3.09435 5.14004 3.12183 4.80371C3.15925 4.34583 3.23852 3.94015 3.43042 3.56348L3.55249 3.34473C3.85658 2.84915 4.2923 2.44512 4.81323 2.17969L4.95581 2.11328C5.29209 1.969 5.65284 1.90385 6.05347 1.87109C6.50364 1.83431 7.06081 1.83496 7.74976 1.83496H12.2498C12.9387 1.83496 13.4958 1.83432 13.946 1.87109C14.404 1.90851 14.8105 1.98772 15.1873 2.17969L15.405 2.30176C15.9008 2.60586 16.3045 3.04236 16.5701 3.56348L16.6365 3.70606C16.7807 4.04237 16.8459 4.40303 16.8787 4.80371C16.9154 5.25395 16.9148 5.81091 16.9148 6.5V13.5Z"})),zot=Object.freeze(Object.defineProperty({__proto__:null,default:sk},Symbol.toStringTag,{value:"Module"})),p1e=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.2517 12.3314H7.74878V13.3333C7.74878 14.3468 8.5703 15.1683 9.58374 15.1683H10.4167C11.4302 15.1683 12.2517 14.3468 12.2517 13.3333V12.3314ZM1.00171 10.8333C1.00171 8.52434 2.62085 6.59437 4.78589 6.11557C5.64857 4.0899 7.65738 2.66844 9.99976 2.6683C12.9202 2.6683 15.3235 4.87836 15.6306 7.71713C17.5392 8.01943 18.9986 9.67279 18.9988 11.6664C18.9988 13.147 18.193 14.4389 16.9998 15.1292C16.6819 15.3131 16.2755 15.2048 16.0916 14.8871C15.9077 14.5692 16.016 14.1628 16.3337 13.9789C17.133 13.5165 17.6687 12.6532 17.6687 11.6664C17.6685 10.1928 16.4733 8.99838 14.9998 8.99838C14.6326 8.99821 14.3347 8.7005 14.3347 8.33334C14.3347 5.93919 12.3939 3.99838 9.99976 3.99838C8.21993 3.99851 6.68949 5.07167 6.02222 6.60776L5.90015 6.92123C5.82846 7.12892 5.65965 7.28554 5.4519 7.34409L5.36011 7.36362C3.65031 7.59424 2.33179 9.06021 2.33179 10.8333C2.33179 11.9071 2.81442 12.8679 3.5769 13.5111L3.73315 13.6351L3.83179 13.7269C4.03671 13.9585 4.05795 14.3099 3.86499 14.5667C3.67195 14.8234 3.32898 14.9003 3.04956 14.7679L2.93433 14.6986L2.71948 14.5277C1.67008 13.6423 1.00171 12.3158 1.00171 10.8333ZM13.5818 13.3333C13.5818 14.9978 12.2968 16.3611 10.6648 16.4876V17.5003C10.6646 17.8675 10.3669 18.1654 9.99976 18.1654C9.63274 18.1652 9.33489 17.8673 9.33472 17.5003V16.4876C7.70302 16.3608 6.4187 14.9976 6.4187 13.3333V11.6664C6.41888 11.2992 6.71658 11.0013 7.08374 11.0013H7.6687V10.0003C7.6687 9.63307 7.96647 9.3353 8.33374 9.3353C8.70086 9.33547 8.99878 9.63317 8.99878 10.0003V11.0013H11.0017V10.0003C11.0017 9.63307 11.2995 9.3353 11.6667 9.3353C12.034 9.3353 12.3318 9.63307 12.3318 10.0003V11.0013H12.9167C13.2839 11.0013 13.5816 11.2992 13.5818 11.6664V13.3333Z"})),lTt=Object.freeze(Object.defineProperty({__proto__:null,default:p1e},Symbol.toStringTag,{value:"Module"}));function Nz(t,e){return t.connector===e.connector&&t.type===e.type}const Got=()=>Rt((t,e)=>({_messages:[],_dismissedMessages:[],getFirstMessage:()=>{var r;return(r=e()._messages[0])!=null?r:null},appendMessageIfNotDismissed:n=>{t(r=>r._messages.some(s=>Nz(s,n))||r._dismissedMessages.some(s=>Nz(s,n))?r:P(C({},r),{_messages:[...r._messages,n]}))},dismissMessage:n=>{t(r=>r._messages.includes(n)?P(C({},r),{_messages:r._messages.filter(s=>s!==n),_dismissedMessages:[...r._dismissedMessages,n]}):r)},clearMessages:()=>{t(n=>n._messages.length||n._dismissedMessages.length?P(C({},n),{_messages:[],_dismissedMessages:[]}):n)}})),Wot=Got(),Zot=g.createContext(Wot);function Gh(){const t=g.useContext(Zot);return vf(t)}const ak="open-connector";function Kot(){const t=it(),e=Za(),[n]=kr(),r=n.get(ak),s=g.useCallback(()=>{const i=new URLSearchParams(e.search);i.delete(ak),t(P(C({},e),{search:i.toString()}),{replace:!0})},[e,t]);return{connector:Object.values(jt).find(i=>i===r),clearParam:s}}async function Yot(t,e,n,r){if(!e)return;n();let s="";r===Ud.Picker&&(s="".concat(ak,"=").concat(e.type)),t!=null||(t="/"),s&&(t.includes("?")?t+="&".concat(s):t+="?".concat(s)),khe({id:e.id},Mhe(r),"".concat(window.location.origin,"/ccc/").concat(e.id,"/oauth/callback"),t)}function Qot(t,e){t.access_token&&t.expires_at!=null&&t.expires_at*1e3<=Date.now()&&ts.expiredAccessTokenUsed(t.type,e)}function Jot(t,e,n,r,s,a,i,l){Hl.uploadFile(t,iu(e),e,l!=null?l:Ha.Retrieval,n,r,s,{gizmoId:i},a)}function Xot(t,e,n,r,s,a,i,l,c){let u=e.title;n===jt.GDRIVE&&(u=e.syntheticExtension?"".concat(e.title,".").concat(e.syntheticExtension):e.title);const d=e.mimeType.split(";")[0],f=d.startsWith("image/");if((s==null?void 0:s.includes(d))===!1||f&&!r.includes(d)){c.danger(l.formatMessage(Az.unsupportedFileType,{fileName:u}),P(C({},Ehe),{toastId:"ccc_upload_file",loggingTitle:Az.unsupportedFileType.defaultMessage,loggingDescription:"Unsupported file type"}));return}Hl.uploadFile(t,e.id,new File([],u,{type:d}),Ha.Retrieval,r,l,c,{gizmoId:i},a,{contextConnector:n,sourceUrl:e.url,syntheticExtension:e.syntheticExtension,type:Ud.Picker,o365DriveId:e.o365DriveId})}const Az=pe({unsupportedFileType:{id:"ContextConnectorUtils.unsupportedFileType",defaultMessage:"{fileName} is not a supported file type"}}),ru={uploadFile:Jot,uploadPickedFile:Xot,doContextConnectorOauthRedirect:Yot,logAttemptIfAccessTokenIsExpired:Qot};function cTt({onOauthRedirect:t}){const{connectorConfig:e,isLoading:n}=jhe(),r=Gh(),s=q(),a=ie(s,"1242184140"),{getFirstMessage:i}=r,l=i(),c=l?e.get(l.connector):null,u=n||!c,d=a?eit:tit,f=g.useMemo(()=>{if(u||!l)return null;switch(l.type){case"not-connected":return o.jsx(d,{unconnectedMessage:l,onOauthRedirect:t,entry:c})}},[d,u,c,l,t]),{dismissMessage:m}=Gh(),p=g.useCallback(h=>{!h&&l&&!u&&m(l)},[u,m,l]);return o.jsx(z4,{size:"none",open:!u,onOpenChange:p,side:"top",sideOffset:4,triggerButton:o.jsx("button",{type:"button",name:"context-connector-pasted-link-popover-trigger",suppressHydrationWarning:!0,className:"invisible absolute self-center","aria-hidden":!0,tabIndex:-1}),children:f})}function eit({unconnectedMessage:t,onOauthRedirect:e,entry:n}){const{dismissMessage:r}=Gh(),s=Z(),a=Og(t.connector,s),i=nit(t.connector),l=()=>{ts.oauthUpsellButtonClick(n.type,"link"),ru.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,e,Ud.Link)},c=()=>{ts.oauthUpsellButtonClick(n.type,"not-now"),r(t)};return o.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-2 sm:w-[384px]",children:[o.jsxs("div",{className:"mb-5 flex flex-row gap-2",children:[o.jsx(sit,{icon:i}),o.jsx("span",{className:"text-sm font-bold",children:o.jsx(N,P(C({},Al.connectTo),{values:{connectorName:a}}))})]}),o.jsx("span",{className:"text-token-text-secondary mb-5 text-sm",children:o.jsx(N,P(C({},Al.description),{values:{connectorName:a}}))}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(oe,{color:"primary",onClick:l,children:o.jsx(N,C({},Al.connect))}),o.jsx(oe,{color:"secondary",onClick:c,children:o.jsx(N,C({},Al.notNow))})]})]})}function tit({unconnectedMessage:t,onOauthRedirect:e,entry:n}){const{dismissMessage:r}=Gh(),s=Z(),a=Og(t.connector,s),{icon1:i,icon2:l,icon3:c,icon4:u}=rit(t.connector);return o.jsxs("div",{className:"flex w-[294px] max-w-full flex-col p-4 sm:w-[384px]",children:[o.jsxs("div",{className:"mb-3 flex flex-row gap-2 self-center",children:[o.jsx(P2,{icon:i,rotation:-6}),o.jsx(P2,{icon:l,rotation:6}),o.jsx(P2,{icon:c,rotation:-6}),o.jsx(P2,{icon:u,rotation:6})]}),o.jsx("span",{className:"mb-3 text-lg font-semibold",children:o.jsx(N,P(C({},Al.connectTo),{values:{connectorName:a}}))}),o.jsx("span",{className:"text-token-text-secondary mb-4 text-sm",children:o.jsx(N,P(C({},Al.description),{values:{connectorName:a}}))}),o.jsxs("div",{className:"flex flex-row-reverse gap-3 self-end",children:[o.jsx(oe,{color:"primary",onClick:()=>{ts.oauthUpsellButtonClick(n.type,"link"),ru.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,n,e,Ud.Link)},children:o.jsx(N,C({},Al.connect))}),o.jsx(oe,{color:"secondary",onClick:()=>{ts.oauthUpsellButtonClick(n.type,"not-now"),r(t)},children:o.jsx(N,C({},Al.notNow))})]})]})}function nit(t){switch(t){case jt.CONFLUENCE:return o.jsx(Nhe,{width:20,height:20});case jt.GDRIVE:return o.jsx(Ir,{width:20,height:20});case jt.JIRA:return o.jsx(The,{width:20,height:20});case jt.NOTION_OPEN_CONNECTOR:return o.jsx(ld,{width:20,height:20});case jt.O365:case jt.O365_BUSINESS:case jt.O365_PERSONAL:return o.jsx(UQ,{width:20,height:20});case jt.SLACK_OPEN_CONNECTOR:return o.jsx(K6,{width:20,height:20})}HQ(t)}function rit(t){switch(t){case jt.GDRIVE:return{icon1:o.jsx(Ir,{}),icon2:o.jsx(D6,{}),icon3:o.jsx(Z6,{}),icon4:o.jsx(Ap,{})};case jt.O365:case jt.O365_BUSINESS:case jt.O365_PERSONAL:return{icon1:o.jsx(UQ,{}),icon2:o.jsx(pQ,{}),icon3:o.jsx(mQ,{}),icon4:o.jsx(gQ,{})};case jt.CONFLUENCE:case jt.JIRA:case jt.NOTION_OPEN_CONNECTOR:return{icon1:o.jsx(p1e,{}),icon2:o.jsx(rk,{}),icon3:o.jsx(Sr,{}),icon4:o.jsx(sk,{})};case jt.SLACK_OPEN_CONNECTOR:return{icon1:o.jsx(K6,{}),icon2:o.jsx(rk,{}),icon3:o.jsx(Sr,{}),icon4:o.jsx(sk,{})}}HQ(t)}const sit=({icon:t})=>o.jsx("div",{className:U("flex h-[20px] w-[20px]"),children:o.jsx("div",{className:"object-contain",children:t})});function P2({rotation:t,icon:e}){return o.jsx("div",{className:U("flex h-[44px] w-[44px] items-center justify-center rounded-xl border border-[#EDEDF2] bg-white shadow-[0_1px_12px_0px_#0000000B]"),style:{transform:"rotate(".concat(t,"deg)")},children:o.jsx("div",{className:"object-contain",children:e})})}const Al=pe({connectTo:{id:"ContextConnectorPastedLinkPopover.connectTo",defaultMessage:"Connect to {connectorName}"},description:{id:"ContextConnectorPastedLinkPopover.description",defaultMessage:"Connect ChatGPT to {connectorName} to reference the content from this link."},notNow:{id:"ContextConnectorPastedLinkPopover.notNow",defaultMessage:"Not now"},connect:{id:"ContextConnectorPastedLinkPopover.connect",defaultMessage:"Connect"},addFromGdriveDescription:{id:"ContextConnectorPastedLinkPopover.addFromDriveDescription",defaultMessage:"To add files from Google Drive, upload them directly to your message."},addFromGdriveNotNow:{id:"ContextConnectorPastedLinkPopover.addFromDriveNotNow",defaultMessage:"Not now"},addFromGdriveUploadFile:{id:"ContextConnectorPastedLinkPopover.addFromDriveUploadFile",defaultMessage:"Upload file"}}),ait=Je(()=>Ve(()=>import("./eu5xc064k5tcc0d1.js"),__vite__mapDeps([110,1,4,5,111,22,112,113,114])).then(t=>t.GoogleRedirectContent)),oit=({onClose:t,onContinue:e})=>{const[n,r]=g.useState(!1);return o.jsx(tt,{rootClassName:"z-100",testId:"modal-gdrive-cta-upload",type:"success",isOpen:!0,onClose:t,size:"custom",className:"max-w-[400px]",children:o.jsx(ait,{connectorIcon:o.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:o.jsx(Ir,{height:32,width:32})}),connectorName:"Google Drive",connectorId:Ahe,onClose:t,isConnecting:n,onContinue:()=>{r(!0),e()}})})},iit=(t,e)=>"".concat(t,":").concat(e),g1e=v0((t,e)=>({async getToken(n,r){const s=iit(n,r),a=e()._tokens[s];if(a)try{const l=await a;if(Date.now()+30*60*1e3<l.expires_at*1e3)return l.access_token}catch(l){}const i=ue.safeGet("/connectors/{connector_name}/oauth/scoped_token",{parameters:{path:{connector_name:n},query:{oauth_scope:r}}});return t(l=>P(C({},l),{_tokens:P(C({},l._tokens),{[s]:i})})),i.then(l=>l.access_token)},_tokens:{}}));async function lit(t,e,n,r){if(n.type==="business"){const u=new URL(n.baseUrl);e=await g1e.getState().getToken(jt.O365_BUSINESS,"".concat(u.origin,"/.default"))}const s=cit(r,n.baseUrl),a=new URLSearchParams({filePicker:JSON.stringify(s)}),i="".concat(n.parsedUrl,"?").concat(a),l=t.document.createElement("form");l.setAttribute("action",i),l.setAttribute("method","POST");const c=t.document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name","access_token"),c.setAttribute("value",e),l.appendChild(c),t.document.body.append(l),l.submit()}function cit(t,e){return{sdk:"8.0",messaging:{channelId:t,origin:location.origin},authentication:{},entry:{sharePoint:{byPath:{list:e}}},typesAndSources:{mode:"files"},selection:{mode:"multiple"},search:{enabled:!0}}}function uit(t,e,n,r,s,a){function i(l){if((l==null?void 0:l.source)!==e)return;const c=l.data;if(c.type==="initialize"&&c.channelId===n){ts.filePickerLoaded(a);const u=l.ports[0],f=fit(t,async m=>{if(u.removeEventListener("message",f),u.close(),e.close(),m!=null){const p=await Promise.all(m.map(h=>dit(h,t,s)));r({type:"pick",docs:p})}else r({type:"cancel"})},u,a);u.addEventListener("message",f),u.start(),u.postMessage({type:"activate"})}}window.addEventListener("message",i)}async function dit(t,e,n){var l,c,u,d;let r="https://graph.microsoft.com/v1.0/drives/".concat(encodeURIComponent(t.parentReference.driveId),"/items/").concat(encodeURIComponent(t.id));n.type==="personal"&&(r="https://api.onedrive.com/v1.0/drives/".concat(encodeURIComponent(t.parentReference.driveId),"/items/").concat(encodeURIComponent(t.id)));const a=await(await fetch(r,{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).json();return{connector:n.type==="personal"?jt.O365_PERSONAL:jt.O365_BUSINESS,id:t.id,title:(l=a.name)!=null?l:"",mimeType:(u=(c=a.file)==null?void 0:c.mimeType)!=null?u:"",url:(d=a.webUrl)!=null?d:"",syntheticExtension:null,o365DriveId:t.parentReference.driveId}}function fit(t,e,n,r){return async function(a){const i=a.data;if(i.type==="notification"||i.type!=="command")return;const l=i.data;switch(n.postMessage({type:"acknowledge",id:a.data.id}),l.command){case"authenticate":{r===jt.O365_BUSINESS&&(t=await g1e.getState().getToken(r,"".concat(l.resource,"/.default"))),n.postMessage({type:"result",id:a.data.id,data:{result:"token",token:t}});break}case"close":{e(null);break}case"pick":{try{e(l.items),n.postMessage({type:"result",id:a.data.id,data:{result:"success"}})}catch(c){n.postMessage({type:"result",id:a.data.id,data:{result:"error",error:{code:"unusableItem",message:c.message}}})}break}default:{n.postMessage({type:"result",id:a.data.id,data:{result:"error",error:{code:"unsupportedCommand",message:l.command}}});break}}}}const mit=be.memo(function({onClose:e,accessToken:n,oneDriveURL:r,uploadPickedFile:s}){const{current:a}=g.useRef(new WeakMap),i=r.type==="personal"?jt.O365_PERSONAL:jt.O365_BUSINESS;return o.jsx(qu,{open:!0,onOpenChange:l=>{l||e()},children:o.jsx(zu,{children:o.jsx(b0,{className:"fixed inset-0 flex items-center justify-center bg-black/50 dark:bg-black/80",children:o.jsx(_f,{className:"flex h-full max-h-[600px] w-full max-w-[1300px] items-center justify-center",onPointerDownOutside:()=>{ts.filePickerCancelled(i)},children:o.jsx("iframe",{className:"mx-[32px] my-[32px] h-full w-full",src:"about:blank",ref:l=>{const c=l==null?void 0:l.contentWindow;if(l==null||c==null||a.has(l))return;a.set(l,!0);const u=Yn();ts.filePickerStarted(i),lit(c,n,r,u),uit(n,c,u,d=>{switch(d.type){case"pick":ts.filePickerPicked(i,d.docs.length),d.docs.forEach(f=>s(f,i));break;case"cancel":ts.filePickerCancelled(i);break}e()},r,i)}})})})})})}),pit="77377267392",h1e="AIzaSyAOHzpLbFWAcLwrOn1IvQeVd0jHRntTlPk";var git=(t=>(t.OneDrive_BUSINESS_DRIVE_ITEMS="https://graph.microsoft.com/v1.0/me/drive/items",t.OneDrive_BUSINESS_DRIVE_ROOT="https://graph.microsoft.com/v1.0/me/drive/root",t.OneDrive_BUSINESS_SHARES="https://graph.microsoft.com/v1.0/shares",t.OneDrive_PERSONAL_DRIVE_ITEMS="https://api.onedrive.com/v1.0/drives",t.OneDrive_PERSONAL_SHARES="https://api.onedrive.com/v1.0/shares",t))(git||{});let i_=null;function v1e(t){return i_==null&&(i_=hit().then(()=>(gapi.client.setToken({access_token:t}),gapi.client.init({apiKey:h1e,scope:"https://www.googleapis.com/auth/drive.file",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]})))),i_}function hit(){return new Promise((t,e)=>{const n=document.createElement("script");n.src="https://apis.google.com/js/api.js",n.onload=t,n.onerror=e,document.documentElement.appendChild(n)}).then(()=>Promise.all([new Promise(t=>gapi.load("client",t)),new Promise(t=>gapi.load("client:picker",t))]))}async function vit(t,e,n,r){await v1e(n);async function s(d){switch(d.action){case google.picker.Action.PICKED:{ts.filePickerPicked(jt.GDRIVE,d.docs.length);const f=d.docs.map(m=>({connector:e,id:m.id,title:m.name,mimeType:m.mimeType,url:m.url,syntheticExtension:m.type==="document"?Phe(m.mimeType):null}));r(f);break}case google.picker.Action.CANCEL:ts.filePickerCancelled(jt.GDRIVE);return;case"loaded":{ts.filePickerLoaded(jt.GDRIVE);return}}}const a=new google.picker.DocsView(google.picker.ViewId.DOCS).setIncludeFolders(!0).setSelectFolderEnabled(!1).setMode(google.picker.DocsViewMode.LIST);let i="en";Pz.includes(t)?i=t:Pz.includes(t.split("-")[0])&&(i=t.split("-")[0]);const l=new google.picker.PickerBuilder().enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_DRIVES).setDeveloperKey(h1e).setAppId(pit).setOAuthToken(n).addView(a).setCallback(s).setLocale(i).build();ts.filePickerStarted(jt.GDRIVE),l.setVisible(!0);const c=yit(),u=()=>{ts.filePickerCancelled(jt.GDRIVE),l.setVisible(!1),c==null||c.removeEventListener("click",u)};c==null||c.addEventListener("click",u)}function yit(){var e;if(typeof window>"u")return null;const t=(e=window.document.body.querySelector("div.picker-dialog-bg"))!=null?e:window.document.body.querySelector("div.oai-picker-dialog-bg");return t==null||t.classList.add("oai-picker-dialog-bg","bg-black/50","dark:bg-black/80","absolute","inset-0","z-1000"),t==null||t.classList.remove("picker-dialog-bg"),t}const Pz=["af","am","ar","bg","bn","ca","cs","da","de","el","en","en-GB","es","es-419","et","eu","fa","fi","fil","fr","fr-CA","gl","gu","hi","hr","hu","id","is","it","iw","ja","kn","ko","lt","lv","ml","mr","ms","nl","no","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zh-CN","zh-HK","zh-TW","zu"];function uTt({connectorConfig:t,modelSupportedImageMimeTypes:e,modelAcceptedMimeTypes:n,attachmentsProductFeature:r,onOauthRedirect:s}){"use forget";var b,_;const a=q(),i=Z(),l=Tt(),c=jf(),{getGizmoId:u}=VM(),d=(_=(b=w0())==null?void 0:b.enabled)!=null?_:!1,[f,m]=g.useState();g.useEffect(()=>{u?u().then(w=>m(w)):m(void 0)},[u]);const p=g.useCallback((w,S)=>ru.uploadPickedFile(c,w,S,e,n,r,f,i,l),[c,e,n,r,f,i,l]),h=g.useRef(!1),v=g.useCallback(w=>{if(w.type===jt.GDRIVE&&d&&!h.current){Dt(a,oit,{onContinue:()=>{h.current=!0,v(w)}});return}ru.doContextConnectorOauthRedirect(location.pathname+location.search+location.hash,w,s,Ud.Picker),s()},[a,d,s]),y=g.useCallback(w=>{ru.uploadPickedFile(c,w,jt.GDRIVE,e,n,r,f,i,l)},[c,e,n,r,f,i,l]);return{onSelectConnector:g.useCallback(w=>{const{access_token:S}=w;if(!S){v(w);return}switch(ru.logAttemptIfAccessTokenIsExpired(w,Ud.Picker),w.type){case jt.GDRIVE:vit(Fs(a).locale,w.type,S,k=>k.forEach(y));break;case jt.O365_PERSONAL:case jt.O365_BUSINESS:{const k=w.type?t.get(w.type):null;k!=null&&k.access_token&&k.onedrive_endpoint_hint&&Dt(a,mit,{accessToken:k.access_token,oneDriveURL:k.onedrive_endpoint_hint,uploadPickedFile:p});break}}},[a,t,p,y,v]),onConnectorOauthRedirect:v}}function dTt(t,e){"use forget";const n=ee.c(6),{connector:r,clearParam:s}=Kot();let a,i;n[0]!==s||n[1]!==r||n[2]!==t||n[3]!==e?(a=()=>{const l=r!=null&&Array.from(t.values()).find(c=>c.type===r&&!!c.access_token);l&&(e(l),s())},i=[t,r,s,e],n[0]=s,n[1]=r,n[2]=t,n[3]=e,n[4]=a,n[5]=i):(a=n[4],i=n[5]),g.useEffect(a,i)}function y1e(t,e){return new Intl.DateTimeFormat(t.locale,{year:"numeric",month:"short",day:"numeric"}).format(e)}function xit(t,e){return new Intl.DateTimeFormat(t.locale,{month:"short",day:"numeric"}).format(e)}function fTt({onAttachLibraryFile:t,attachedFileIds:e}){const n=Z(),[r,s]=g.useState(null),[a,i]=g.useState(!1),[l,c]=g.useState(null),u=g.useRef(!1),d=g.useMemo(()=>e==null?new Set:e instanceof Set?e:new Set(e),[e]),f=async p=>{i(!0),c(null);try{const v=await ue.safePost("/files/library",{requestBody:{limit:5,cursor:p}});s(y=>y?[...y,...v.items]:v.items)}catch(h){c(h.message)}finally{i(!1)}};function m(p){const h=p.lastIndexOf(".");return h>0?p.slice(0,h):p}return g.useEffect(()=>{u.current&&r==null&&!a&&f(null)},[u.current]),o.jsxs(J.Sub,{onOpenChange:p=>{u.current=p,p&&r==null&&!a&&f(null)},children:[o.jsx(J.SubMenuTrigger,{icon:Sr,children:o.jsx("div",{className:"line-clamp-1 text-ellipsis",children:o.jsx(N,C({},Iz.addFromLibrary))})}),o.jsx(J.Portal,{children:o.jsxs(J.SubContent,{children:[r==null&&a&&o.jsxs(o.Fragment,{children:[o.jsx(J.Shimmer,{}),o.jsx(J.Shimmer,{}),o.jsx(J.Shimmer,{})]}),l?o.jsx(J.Label,{children:o.jsx(N,{id:"fRTSh4",defaultMessage:"Failed to load library files"})}):(r==null?void 0:r.length)===0&&!a&&o.jsx(J.Label,{children:o.jsx(N,{id:"CalUoF",defaultMessage:"No results"})}),r==null?void 0:r.map(p=>o.jsx(J.Item,{className:"gap-2",size:"large",secondary:p.state==="failed"?"Failed":void 0,disabled:p.state!=="ready"||d.has(p.file_id),onClick:()=>{p.state!=="ready"||d.has(p.file_id)||(t==null||t({id:p.file_id,name:p.file_name,mimeType:p.mime_type,libraryFileId:p.id}),B.logEventWithStatsig("chatgpt_files_user_action","chatgpt_library_file_attached_to_conversation",{mimeType:p.mime_type}))},children:o.jsx(A4,{fileName:m(p.file_name),icon:o.jsx(Gce,{filename:p.file_name,contextConnectorInfo:void 0}),fileNameClass:"text-token-text-primary text-sm leading-[18px] font-normal tracking-[-0.3px]",customFileDescription:o.jsx("span",{className:"text-token-text-tertiary text-xs leading-4 font-normal tracking-[-0.1px]",children:o.jsx(N,P(C({},Iz.fileDesc),{values:{category:Ihe(p.library_file_category),sep:"Â·",date:xit(n,new Date(p.file_upload_time))}}))})})},p.id))]})})]})}const Iz=pe({addFromLibrary:{id:"hAUk/T",defaultMessage:"Recent files"},fileDesc:{id:"ContextConnectorLibraryFileDropdownItem.fileDesc",defaultMessage:"{category} {sep} {date}"}});function bit({isOpen:t,onClose:e,markAsViewed:n}){const r=Z();return o.jsx(tt,{testId:"modal-memory-alpha",isOpen:t,onClose:e,showCloseButton:!0,size:"custom",type:"success",className:"max-w-xl",title:r.formatMessage({id:"MoonshineAlphaAnnouncement.title",defaultMessage:"You're testing memory improvements"}),footerContent:o.jsxs("div",{className:"ms-1 mt-4 flex w-full justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(iT,{className:"icon text-token-text-secondary me-1.5 inline-block"}),o.jsx("a",{href:"https://help.openai.com/en/articles/10303002-how-does-memory-use-past-conversations",target:"_blank",rel:"noopener noreferrer",onClick:()=>{n&&n(),e()},className:"text-token-text-secondary font-medium",children:r.formatMessage({id:"MoonshineAlphaAnnouncement.secondaryButton",defaultMessage:"Learn more"})})]}),o.jsx("div",{children:o.jsx(yn.Button,{title:r.formatMessage({id:"MoonshineAlphaAnnouncement.primaryButton",defaultMessage:"Got it"}),color:"secondary",className:"text-base",onClick:e})})]}),children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx(rl,{className:"icon-lg text-token-text-secondary me-3 mt-1 inline-block"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:o.jsx(N,{id:"MoonshineAlphaAnnouncement.chatTitle",defaultMessage:"ChatGPT now uses all past chats"})}),o.jsx("span",{className:"text-token-text-secondary font-normal",children:o.jsx(N,{id:"MoonshineAlphaAnnouncement.chatText",defaultMessage:"All past chats will inform responses, not just saved memories."})})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(Lu,{className:"icon-lg text-token-text-secondary me-3 mt-1 inline-block"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:o.jsx(N,{id:"MoonshineAlphaAnnouncement.optInTitle",defaultMessage:"You're in control"})}),o.jsx("span",{className:"text-token-text-secondary font-normal",children:o.jsx(N,{id:"MoonshineAlphaAnnouncement.optInText",defaultMessage:"Use temporary chats for topics you don't want remembered."})})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(E0,{className:"icon-lg text-token-text-secondary me-3 mt-1 inline-block"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:o.jsx(N,{id:"MoonshineAlphaAnnouncement.optOutText",defaultMessage:"Opt out any time"})}),o.jsx("span",{className:"text-token-text-secondary font-normal",children:o.jsx(N,{id:"MoonshineAlphaAnnouncement.settingsLink",defaultMessage:"Visit {settingsLink} to turn off improved memory.",values:{settingsLink:o.jsx(mr,{to:hf(Dn.Personalization),onClick:()=>{n&&n()},className:"underline",children:o.jsx(N,{id:"MoonshineAlphaAnnouncement.settingsLinkWord",defaultMessage:"Settings"})})}})})]})]})]})})}const lA=We.hasSeenMoonshineNux;function mTt(){"use forget";const t=ee.c(17),[e,n]=g.useState(!1),{markAsViewed:r}=$e(lA);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{n(!0)},t[0]=s):s=t[0];const a=s;let i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{n(!1)},t[1]=i):i=t[1];const l=i;let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[2]=c):c=t[2],g.useEffect(Cit,c);let u,d;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{a(),Me.count(Ee.MOONSHINE,"announcement.learn_more_clicked"),B.logEventWithStatsig("ChatGPT Moonshine: CTA Clicked","chatgpt_moonshine_announcement_cta_clicked")},d=o.jsx(N,{id:"MoonshineAnnouncement.secondaryCtaText",defaultMessage:"Learn more"}),t[3]=u,t[4]=d):(u=t[3],d=t[4]);let f;t[5]!==r?(f=()=>{Me.count(Ee.MOONSHINE,"announcement.close_clicked"),B.logEventWithStatsig("ChatGPT Moonshine: Announcement Closed","chatgpt_moonshine_announcement_closed"),r()},t[5]=r,t[6]=f):f=t[6];let m;t[7]===Symbol.for("react.memo_cache_sentinel")?(m=o.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[o.jsx(N,{id:"MoonshineAnnouncement.heading",defaultMessage:"You're testing memory improvements"}),o.jsx(Lhe,{})]}),t[7]=m):m=t[7];let p;t[8]===Symbol.for("react.memo_cache_sentinel")?(p=o.jsxs("div",{className:"grow",children:[m,o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(N,{id:"MoonshineAnnouncement.description",defaultMessage:"ChatGPT can now reference past chats, not just saved memories."})})]}),t[8]=p):p=t[8];let h;t[9]!==f?(h=o.jsx(xn,{onSecondaryCtaClick:u,secondaryCtaText:d,onDismiss:f,content:p}),t[9]=f,t[10]=h):h=t[10];let v;t[11]!==e||t[12]!==r?(v=e&&o.jsx(bit,{isOpen:e,markAsViewed:r,onClose:()=>{l(),r()}}),t[11]=e,t[12]=r,t[13]=v):v=t[13];let y;return t[14]!==h||t[15]!==v?(y=o.jsxs(o.Fragment,{children:[h,v]}),t[14]=h,t[15]=v,t[16]=y):y=t[16],y}function Cit(){Me.count(Ee.MOONSHINE,"nux.shown"),B.logEventWithStatsig("ChatGPT Moonshine: Announcement Shown","chatgpt_moonshine_announcement_shown")}function _it(){"use forget";const t=a5(),{eligible:e,isLoading:n}=$e(lA);return t&&e&&!n}function pTt(){"use forget";const t=ee.c(4),e=a5(),{markAsViewed:n,eligible:r}=$e(lA);let s;return t[0]!==r||t[1]!==e||t[2]!==n?(s=()=>{!e||!r||(Me.count(Ee.MOONSHINE,"nux.implicit_close"),n())},t[0]=r,t[1]=e,t[2]=n,t[3]=s):s=t[3],s}const cA=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.63374 5.69434C9.89187 5.52383 10.2434 5.55203 10.4707 5.7793L16.2207 11.5293L16.3056 11.6338C16.4761 11.8919 16.4479 12.2434 16.2207 12.4707C15.9934 12.698 15.6419 12.7262 15.3837 12.5557L15.2792 12.4707L9.99995 7.19141L4.72065 12.4707C4.46095 12.7304 4.03895 12.7304 3.77925 12.4707C3.51955 12.211 3.51955 11.789 3.77925 11.5293L9.52925 5.7793L9.63374 5.69434Z"})),gTt=Object.freeze(Object.defineProperty({__proto__:null,default:cA},Symbol.toStringTag,{value:"Module"})),x1e=t=>{"use forget";const e=ee.c(61),{pressed:n,disabled:r,icon:s,label:a,ariaLabel:i,animatedLabel:l,showLabel:c,onClick:u,splitButtonDropdownContent:d,showSplitButton:f,dropdownContent:m,dataTestid:p,splitSecondaryButton:h,tooltip:v,as:y}=t,x=f===void 0?!0:f,b=y===void 0?"popover":y,[_,w]=g.useState(!1),[S,k]=g.useState(!1),M=DK(),E=!r&&n;let T;e[0]!==a?(T=a&&o.jsx("div",{className:"ps-1 pe-1 font-semibold whitespace-nowrap [[data-collapse-labels]_&]:sr-only",children:a}),e[0]=a,e[1]=T):T=e[1];const j=T,A=!!d;let I;e[2]!==A?(I=U("flex h-full min-w-8 items-center justify-center p-2",{"pe-1.5":A}),e[2]=A,e[3]=I):I=e[3];let L;e[4]===Symbol.for("react.memo_cache_sentinel")?(L=()=>k(!1),e[4]=L):L=e[4];let O;e[5]!==m||e[6]!==u?(O=Ie=>{m||(k(!0),u(Ie))},e[5]=m,e[6]=u,e[7]=O):O=e[7];const R=!l&&c?j:null;let H;e[8]!==l||e[9]!==j||e[10]!==M||e[11]!==c?(H=l&&o.jsx(Kt,{initial:!1,children:c&&o.jsx(Se.span,{initial:{x:-10,width:0,opacity:0},animate:{x:0,width:"fit-content",opacity:1},exit:{x:-10,width:0,opacity:0},transition:{ease:"easeOut",duration:M?0:.15},children:j})}),e[8]=l,e[9]=j,e[10]=M,e[11]=c,e[12]=H):H=e[12];let V;e[13]!==i||e[14]!==p||e[15]!==r||e[16]!==s||e[17]!==n||e[18]!==I||e[19]!==O||e[20]!==R||e[21]!==H?(V=o.jsxs("button",{className:I,"data-testid":p,"aria-pressed":n,"aria-label":i,disabled:r,onTransitionEnd:L,onClick:O,children:[s,R,H]}),e[13]=i,e[14]=p,e[15]=r,e[16]=s,e[17]=n,e[18]=I,e[19]=O,e[20]=R,e[21]=H,e[22]=V):V=e[22];const z=V;let $;e[23]!==z||e[24]!==v?($=v?v(z):z,e[23]=z,e[24]=v,e[25]=$):$=e[25];const D=$;let Y;e[26]!==_?(Y=_?o.jsx(cA,{className:"icon"}):o.jsx(wc,{className:"icon"}),e[26]=_,e[27]=Y):Y=e[27];const G=Y;let F;e[28]===Symbol.for("react.memo_cache_sentinel")?(F={type:"tween",duration:.15,ease:"easeInOut"},e[28]=F):F=e[28];const X=F;let te;e[29]!==M?(te=M?Hoe:{opacity:{delay:.1},default:X},e[29]=M,e[30]=te):te=e[30];const ae=te;let me;e[31]!==b||e[32]!==m||e[33]!==d?(me=d||m?b==="popover"?o.jsx(t1,{children:o.jsx(X6,{className:"p-0",$as:n1,side:"bottom",align:"start",collisionPadding:10,sideOffset:8,children:m!=null?m:d})}):o.jsx(J.Portal,{children:o.jsx(J.Content,{children:m!=null?m:d})}):null,e[31]=b,e[32]=m,e[33]=d,e[34]=me):me=e[34];const W=me;let K;e[35]!==b||e[36]!==D?(K=b==="popover"?o.jsx(Gi,{asChild:!0,children:D}):o.jsx(J.Trigger,{asChild:!0,children:D}),e[35]=b,e[36]=D,e[37]=K):K=e[37];const ne=K;let re;e[38]!==ae||e[39]!==b||e[40]!==G||e[41]!==r||e[42]!==E?(re=b==="popover"?o.jsx(Gi,{asChild:!0,children:o.jsx("button",{className:"border-token-border-default border-s p-2",style:{borderColor:E?"#0285FF0D":void 0},disabled:r,children:G})}):o.jsx(Se.div,{initial:{width:0,opacity:0,padding:0},animate:{width:"auto",opacity:1,padding:"0.5rem"},exit:{width:0,opacity:0,padding:0,borderInlineStart:"unset"},transition:ae,style:{overflow:"hidden",border:"unset",borderInlineStart:"solid 1px",borderColor:E?"#0285FF0D":"var(--border-default)"},children:o.jsx(J.Trigger,{asChild:!0,children:o.jsx("button",{style:{padding:0,backgroundColor:"transparent",height:"100%",borderRadius:"unset",color:E?"var(--interactive-label-accent-default)":void 0},disabled:r,children:G})})}),e[38]=ae,e[39]=b,e[40]=G,e[41]=r,e[42]=E,e[43]=re):re=e[43];const le=re,fe=!n,ge=!!E,ye=!E;let _e;e[44]!==r||e[45]!==S||e[46]!==fe||e[47]!==ge||e[48]!==ye?(_e=U("radix-state-open:bg-black/10 inline-flex h-9 rounded-full border text-[13px] font-medium",{"duration-75 motion-safe:transition-all":S,"text-token-text-secondary":fe,"text-token-interactive-label-accent-default bg-token-composer-blue-bg border-transparent hover:bg-[#BDDCF4] dark:bg-[#2A4A6D] dark:text-[#48AAFF] dark:hover:bg-[#1A416A]":ge,"border-token-border-default hover:bg-token-main-surface-secondary focus-visible:outline-black dark:focus-visible:outline-white":ye,"opacity-30":r}),e[44]=r,e[45]=S,e[46]=fe,e[47]=ge,e[48]=ye,e[49]=_e):_e=e[49];const Ne=m?ne:D,Ae=!m&&d&&x?le:null;let ot;e[50]!==Ae?(ot=o.jsx(Kt,{children:Ae}),e[50]=Ae,e[51]=ot):ot=e[51];let gt;e[52]!==h||e[53]!==_e||e[54]!==Ne||e[55]!==ot?(gt=o.jsxs("div",{className:_e,children:[Ne,ot,h]}),e[52]=h,e[53]=_e,e[54]=Ne,e[55]=ot,e[56]=gt):gt=e[56];const Pe=gt;if(d||m){let Ie;return e[57]!==b||e[58]!==Pe||e[59]!==W?(Ie=b==="popover"?o.jsxs(e1,{onOpenChange:ct=>w(ct),children:[o.jsx(pUe,{asChild:!0,children:Pe}),W]}):o.jsxs(J.Root,{onOpenChange:ct=>w(ct),children:[Pe,W]}),e[57]=b,e[58]=Pe,e[59]=W,e[60]=Ie):Ie=e[60],Ie}else return Pe},wit=["o1","o1-pro","gpt-4"];function hTt(t){"use forget";var j,A;const e=ee.c(15),{account:n,clientBootstrapFlags:r,features:s,clientThreadId:a,currentModelConfig:i,composerController:l,isDisabled:c,gizmoId:u}=t,{prospectiveModelId:d}=Oae(a),f=Oee(a),m=Mf(u),{userIsInSearchHoldoutWithWebDisabled:p}=CQ();let h;e[0]!==(i==null?void 0:i.enabledTools)?(h=(j=i==null?void 0:i.enabledTools)==null?void 0:j.includes(ou.Search),e[0]=i==null?void 0:i.enabledTools,e[1]=h):h=e[1];const v=h,y=f==null||(f==null?void 0:f.kind)===At.PrimaryAssistant||(f==null?void 0:f.kind)===At.GizmoInteraction&&m,{isUnauthenticated:x}=An(),b=Rhe(we.Search),_=!x&&(n==null||n.isFree());if(v===!1||x&&(r!=null&&r.includes(Rg.AnonSearchHoldout))||_&&(r!=null&&r.includes(Rg.FreeSearchHoldout)||p)||!b||!x&&(n==null||n.isEnterprisey())&&!(s!=null&&s.includes(Dr.BrowsingAvailable))||!y)return null;let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S={viewTransitionName:"var(--vt-composer-".concat(we.Search,"-action)")},e[2]=S):S=e[2];let k;e[3]!==n||e[4]!==x||e[5]!==v||e[6]!==d?(k=v!=null?v:x||(n==null?void 0:n.isFree())||!!d&&!wit.includes(d),e[3]=n,e[4]=x,e[5]=v,e[6]=d,e[7]=k):k=e[7];const M=v?void 0:eA.ModelNotSupported,E=(A=i==null?void 0:i.title)!=null?A:"";let T;return e[8]!==a||e[9]!==l||e[10]!==c||e[11]!==k||e[12]!==M||e[13]!==E?(T=o.jsx("div",{"data-testid":"system-hint-search",style:S,children:o.jsx(Sit,{clientThreadId:a,composerController:l,modelSupportsSearch:k,isDisabled:c,disabledReason:M,currentModelName:E})},"system-hint-".concat(we.Search)),e[8]=a,e[9]=l,e[10]=c,e[11]=k,e[12]=M,e[13]=E,e[14]=T):T=e[14],T}function Sit({clientThreadId:t,composerController:e,isDisabled:n,disabledReason:r,currentModelName:s,modelSupportsSearch:a}){"use forget";const l=Z().formatMessage({id:"TbHx8d",defaultMessage:"Search"}),c=Kr(),u=qo(),d=c===we.Search;n=n||!a,g.useEffect(()=>{n&&d&&u(null,{analyticsMetadata:{clientThreadId:t}})},[n,d,u,t]);const f=m=>{m.stopPropagation(),m.preventDefault(),u(d?null:we.Search,{analyticsMetadata:{clientThreadId:t}}),d||Zo(Ht(e)),B.logEventWithStatsig("Composer Search Button Clicked","composer_search_button_clicked",{clientThreadId:t}),d&&Ohe(Ht(e),/^search\b/i)};return o.jsx(Mit,{analyticsMetadata:{clientThreadId:t},isThreadUsingSearchMode:d,isDisabled:n,disabledReason:r,currentModelName:s,children:o.jsx(x1e,{pressed:d,disabled:n!=null?n:!1,icon:o.jsx(Vs,{className:"icon"}),label:l,ariaLabel:l,animatedLabel:!0,showLabel:!0,onClick:f,dataTestid:"composer-button-search"})})}function kit(){"use forget";const t=_it(),e=$e(We.hasSeenComposerSearchButtonTooltip);return!e.isLoading&&e.eligible&&!t}function Mit(t){"use forget";const e=ee.c(17),{children:n,analyticsMetadata:r,isThreadUsingSearchMode:s,isDisabled:a,disabledReason:i,currentModelName:l}=t,c=kit()&&!s,u=$e(We.hasSeenComposerSearchButtonTooltip);if(!c){let h;e[0]!==l||e[1]!==i||e[2]!==a?(h=a?i===eA.ModelNotSupported?o.jsx(N,{id:"GZemJe",defaultMessage:"Search disabled for {modelName}",values:{modelName:"".concat(l)}}):o.jsx(N,{id:"GpDAWD",defaultMessage:"Search is unavailable"}):o.jsx(N,{id:"c+4o2s",defaultMessage:"Search the web"}),e[0]=l,e[1]=i,e[2]=a,e[3]=h):h=e[3];let v;e[4]!==r?(v=x=>{x&&B.logEventWithStatsig("Composer Search Button Hovered","composer_search_button_hovered",r)},e[4]=r,e[5]=v):v=e[5];let y;return e[6]!==n||e[7]!==h||e[8]!==v?(y=o.jsx("div",{children:o.jsx(wt,{className:"inline-block",label:h,side:"bottom",onOpenChange:v,children:n})}),e[6]=n,e[7]=h,e[8]=v,e[9]=y):y=e[9],y}let d;e[10]===Symbol.for("react.memo_cache_sentinel")?(d=o.jsx(N,{id:"Yjduqi",defaultMessage:"Search the web"}),e[10]=d):d=e[10];let f;e[11]===Symbol.for("react.memo_cache_sentinel")?(f=o.jsx(N,{id:"W51Aei",defaultMessage:"Get fast answers with trusted sources. {learnMore}",values:{learnMore:o.jsx(wr,{href:"https://openai.com/index/introducing-chatgpt-search",className:"underline",children:o.jsx(N,{id:"stA7F4",defaultMessage:"Learn more"})})}}),e[11]=f):f=e[11];let m;e[12]!==n?(m=o.jsx("div",{children:n}),e[12]=n,e[13]=m):m=e[13];let p;return e[14]!==m||e[15]!==u.markAsViewed?(p=o.jsx(Zf,{announcementKey:We.hasSeenComposerSearchButtonTooltip,side:"right",show:!0,theme:"bright",dismissOnOutsideClick:!0,badge:"new",title:d,onDismiss:u.markAsViewed,sideOffset:0,className:"xs:max-w-sm! max-w-2xs!",description:f,children:m}),e[14]=m,e[15]=u.markAsViewed,e[16]=p):p=e[16],p}const vTt=async({filePickerStore:t,event:e,intl:n,toaster:r,conversationMode:s,clientThreadId:a,currentModelConfig:i,getEditorGizmoId:l,modelSupportedImageMimeTypes:c,activeSystemHintType:u,ctx:d,contextScopes:f})=>{var M,E;const m=Et(d),p=Fs(d).flags,h=p==null?void 0:p.includes(Rg.NoAuthEnableFileUploads),v=ZY(i,s,u),y=c.length>0;B.logEvent("Pasted to Composer",{client_thread_id:a});const{clipboardData:x}=e,b=Dhe(i,s),_=!m&&h?c:(M=b==null?void 0:b.attachments)==null?void 0:M.accepted_mime_types,w=!m&&h?!1:(E=b==null?void 0:b.attachments)==null?void 0:E.can_accept_all_mime_types,S=C(C({},h&&{isUnauthenticated:!m}),m&&f&&f.length>0?{contextScopes:f}:{});if(y&&x&&x.files.length>0){const T=x.files[0],j=T.name.match(/\.[^.]+$/),A=j?"".concat(Yn()).concat(j[0]):Yn(),I=new File([T],A,{type:T.type,lastModified:T.lastModified});if(_!==void 0&&!_.includes(I.type)&&w!==!0){r.danger(n.formatMessage(yo.unsupportedFileType,{file_type:Fhe(I)}),{toastId:"paste_unsupported_file_type",loggingTitle:yo.unsupportedFileType.defaultMessage,loggingDescription:"Unsupported file type"}),e.preventDefault();return}if(pn.hideThreadHeader(),B.logEvent("Upload File",{client:"web",eventSource:"paste"}),l!=null){l().then(L=>Hl.uploadFile(t,iu(I),I,v,c,n,r,C({gizmoId:L},S)));return}Hl.uploadFile(t,iu(I),I,v,c,n,r,S,b==null?void 0:b.attachments)}if(x&&x.types.includes("text/plain")){const T=x.getData("text");if(T&&yQ(d,T)){e.preventDefault();const j="text/plain";let A="txt";const I=await Bhe(T);I&&(w||_!=null&&_.includes(I.mime))&&(A=I.ext);const L="pasted.".concat(A),O=new Blob([T],{type:j}),R=new File([O],L,{type:j});Hl.uploadFile(t,iu(R),R,v,c,n,r,S),B.logEventWithStatsig("Big Paste","chatgpt_web_big_paste",{text_length:Eit(T.length)})}}},Eit=t=>t<500?"under 500":t<=1e3?"500-1000":t<=5e3?"1001-5000":t<=1e4?"5000-10000":"10000+",yTt=(t,{canSubmit:e,isTextContentTooLong:n,toaster:r,requestCompletion:s})=>t.shiftKey||BM()&&VQ(t)?!1:(e?(t.preventDefault(),s(t)):n&&r.danger("The message you submitted was too long, please submit something shorter.",{hasCloseButton:!0}),!0),xTt=(t,{isAutocompletionActive:e,clearAutocompletions:n,canAbortCompletion:r,clientThreadId:s,abortCompletion:a,isEmpty:i,hasTargetedContent:l,clearTargetedContent:c,hasSystemHint:u,removeSystemHint:d,hasSelectedTarget:f,removeSelectedTarget:m,hasNonDefaultModel:p,removeNonDefaultModel:h})=>r?(a(),B.logEventWithStatsig("Pause Completion","chatgpt_pause_completion",{threadId:kt(s),currentLeafId:se.getCurrentNode(st(s)).message.id,eventSource:"keyboard"}),!0):e!=null&&e()?(n(),!0):u?(d(),!0):p?(h(),!0):i&&l?(c(),!0):f?(m(),!0):!1;function bTt(){const t=it();return o.jsx(xn,{primaryCtaText:o.jsx(N,{id:"k/qPdM",defaultMessage:"Manage tasks"}),onPrimaryCtaClick:()=>{t("/tasks")},title:o.jsx(N,{id:"mYNRrn",defaultMessage:"Youâve reached your limit for scheduled tasks."}),content:o.jsx(N,{id:"Bwsb55",defaultMessage:"To schedule new ones, pause some of your existing tasks first."})})}const b1e=We.HasSeenAdvancedVoiceOnMobile,jit=window.location.origin+"/update-app",Lz=window.location.origin+"/update-app?origin=qr";function Tit(){const t=q(),e=yt(t),n=ie(t,"989108178");return e!=null&&n}function CTt(t){var i;const e=Tit(),{eligible:n,isLoading:r}=$e(b1e);return{eligible:!(!e||!n||((i=t.conversationMode)==null?void 0:i.kind)!==At.PrimaryAssistant)&&!r}}const Nit=3;function Ait(t){let e=Ft.getItem(et.AdvancedVoiceOnMobileAnnouncementCount);Array.isArray(e)||(e=[]);const n=new Set(e);return t&&n.add(t),e=[...n],Ft.setItem(et.AdvancedVoiceOnMobileAnnouncementCount,e),e.length}function _Tt({onClose:t,clientThreadId:e}){const{markAsViewed:n}=$e(b1e),r=kn(e);g.useEffect(()=>{const l=Ait(r);l>Nit&&(n(),Le.logEvent("chatgpt_advanced_voice_on_mobile_announcement_limit_reached",l)),B.logEvent("Advanced Voice on Mobile: Announcement Shown"),Le.logEvent("chatgpt_advanced_voice_on_mobile_announcement_shown")},[r,n]);const s=g.useCallback(()=>{n(),B.logEvent("Advanced Voice on Mobile: Dismissed Announcement"),Le.logEvent("chatgpt_advanced_voice_on_mobile_announcement_dismissed"),t&&t()},[n,t]),i={markAsDownloaded:g.useCallback(()=>{B.logEvent("Advanced Voice on Mobile: Link Clicked"),Le.logEvent("chatgpt_advanced_voice_on_mobile_announcement_download_clicked"),n(),t&&t()},[n,t]),markAsViewed:s};return o.jsx(Iit,C({},i))}function Pit(){window.open(jit,"_blank")}function Iit({markAsDownloaded:t,markAsViewed:e}){const n=Z(),[r,s]=g.useState(!1),a=g.useCallback(()=>{Pit(),t()},[t]),i=o.jsx("div",{className:"grow flex-row",children:o.jsxs("div",{className:"flex-column",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:o.jsx(N,C({},A1.advancedVoiceOnMobileBannerTitle))}),o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(N,C({},A1.advancedVoiceOnMobileBannerDescription))})]})}),l=!N0(),c=Fu();let u;return l?c?u=Object.freeze({primaryCtaQrLink:Lz,onPrimaryCtaQrClick:()=>s(!0)}):u=Object.freeze({onSecondaryCtaClick:()=>s(!0),secondaryCtaText:n.formatMessage(A1.advancedVoiceOnMobileButtonScanCode)}):u=Object.freeze({onPrimaryCtaClick:a,primaryCtaText:n.formatMessage(A1.advancedVoiceOnMobileButtonDownload)}),o.jsxs(o.Fragment,{children:[o.jsx(xn,P(C({},u),{onDismiss:e,content:i})),l&&o.jsx(tt,{testId:"modal-advanced-voice-on-mobile-qr",size:"custom",className:"w-[328px] max-w-[328px]",title:n.formatMessage(A1.advancedVoiceOnMobileQRModalTitle),isOpen:r,showCloseButton:!0,onClose:()=>s(!1),type:"success",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Uhe,{className:"m-[24px] mt-[0px]",size:280,value:Lz}),o.jsx("div",{className:"text-token-text-primary text-start",children:o.jsx(N,C({},A1.advancedVoiceOnMobileQRModalDescription))})]})})]})}const A1=pe({advancedVoiceOnMobileBannerTitle:{id:"AdvancedVoiceOnMobile.banner.title",defaultMessage:"Download the latest iOS or Android app to try advanced voice mode"},advancedVoiceOnMobileBannerDescription:{id:"AdvancedVoiceOnMobile.banner.description",defaultMessage:"Get more natural, real-time conversations with advanced voice. Senses and responds to humor, sarcasm, interruptions, and more."},advancedVoiceOnMobileButtonDownload:{id:"AdvancedVoiceOnMobile.button.download",defaultMessage:"Download"},advancedVoiceOnMobileButtonScanCode:{id:"AdvancedVoiceOnMobile.button.scancode",defaultMessage:"Scan code"},advancedVoiceOnMobileButtonClose:{id:"AdvancedVoiceOnMobile.button.close",defaultMessage:"Close"},advancedVoiceOnMobileQRModalTitle:{id:"AdvancedVoiceOnMobile.qrmodal.title",defaultMessage:"Download the app"},advancedVoiceOnMobileQRModalDescription:{id:"AdvancedVoiceOnMobile.qrmodal.description",defaultMessage:"Scan the QR code on your phone to download the ChatGPT app."}}),C1e="1696863369",Lit=We.UseSidekick,Rit=We.SidekickLauncherOnboarding,Oit="https://help.openai.com/en/articles/9275200",Dit="https://persistent.oaistatic.com/sidekick/public/ChatGPT_Desktop_public_latest.dmg",_1e="1697140512",Fit=We.UseSidetron,Bit=We.hasSeenWindowsAppOnboarding,Uit="https://help.openai.com/en/articles/9982051",Hit="https://apps.microsoft.com/detail/9nt1r1c2hh7j",w1e="download";function S1e(t,e){const n=q(),r=yt(n),s=ze(n,t).get(e,!1);return r!=null&&s}function Vit(){return S1e(C1e,"has_sidekick_access")}function $it(){return S1e(_1e,"can_download_sidetron")}function uA(){const t=Vit(),e=$it();return{isSidekickAvailable:t,isSidetronAvailable:e,isDesktopAppAvailable:t||e}}function qit(t){return t===w1e}function zit(){const t=it(),{hash:e}=Za(),n=qit(e.slice(1));return{openModal:()=>{t({hash:w1e})},closeModal:()=>{t({hash:""})},isOpen:n}}function wTt(t){var p;const e=uA(),{isDesktopAppAvailable:n}=e,r=dA(e),s=q(),i=ze(s,r.statsigLayerName).get("show_nux_banner",!1),{eligible:l,isLoading:c}=$e(r.downloadAnnouncement),{eligible:u,isLoading:d}=$e(r.onboardingAnnouncement);return{eligible:!(!l||!u||!n||((p=t.conversationMode)==null?void 0:p.kind)!==At.PrimaryAssistant)&&i,isLoading:d||c}}function STt({onClose:t}){const e=uA(),n=dA(e);g.useEffect(()=>{B.logEvent(n.analyticsBannerShown),Le.logEvent(n.statsigBannerShown)},[n.analyticsBannerShown,n.statsigBannerShown]);const{markAsViewed:r}=$e(n.downloadAnnouncement),s=g.useCallback(()=>{r(),B.logEvent(n.analyticsBannerDismissed),Le.logEvent(n.statsigBannerDismissed),t&&t()},[r,t,n.analyticsBannerDismissed,n.statsigBannerDismissed]),a=g.useCallback(()=>{B.logEvent(n.analyticsBannerDownloadClicked),Le.logEvent(n.statsigBannerDownloadClicked),r(),t&&t()},[r,t,n.analyticsBannerDownloadClicked,n.statsigBannerDownloadClicked]),i=P(C({},n),{isAppAvailable:e.isDesktopAppAvailable,markAsDownloaded:a,markAsViewed:s});return o.jsx(Zit,C({},i))}function Git(t){window.open(t,"_blank")}function dA(t){return t.isSidekickAvailable?Xit:elt}function Wit(t){return t.bannerTitle}function kTt(){const{closeModal:t,isOpen:e}=zit(),n=uA(),{isDesktopAppAvailable:r}=n,s=dA(n),a=g.useMemo(()=>({isDesktopAppAvailable:r}),[r]),i=()=>{B.logEvent(s.analyticsModalClosed,a),Le.logEvent(s.statsigModalClosed),t()},l=()=>{B.logEvent(s.analyticsModalDownloadClicked,a),Le.logEvent(s.statsigModalDownloadClicked),t()};if(g.useEffect(()=>{e&&(B.logEvent(s.analyticsModalShown,C({},a)),Le.logEvent(s.statsigModalShown))},[a,e,s.analyticsModalShown,s.statsigModalShown]),!e)return null;const c=P(C({},s),{isAppAvailable:n.isDesktopAppAvailable,markAsDownloaded:l,markAsViewed:i});return o.jsx(Kit,C({},c))}function Zit({downloadUrl:t,markAsDownloaded:e,markAsViewed:n,messages:r,learnMoreUrl:s}){const a=Z(),i=g.useCallback(()=>{Git(t),e()},[e,t]),l=o.jsx(N,C({},Wit(r))),c=o.jsx(N,C({},r.bannerContent)),u=o.jsxs("div",{className:"grow",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:l}),o.jsx("span",{className:"text-token-text-secondary",children:c}),o.jsxs(wr,{href:s,className:"ms-2 gap-1 font-medium",children:[o.jsx(N,C({},r.learnMore)),o.jsx(nE,{className:"icon-sm inline-block"})]})]});return o.jsx(xn,{onPrimaryCtaClick:i,primaryCtaText:a.formatMessage(r.download),onDismiss:n,content:u})}function Kit({downloadUrl:t,markAsDownloaded:e,markAsViewed:n,isAppAvailable:r,messages:s,learnMoreUrl:a}){const i=s.modalTitle,l=o.jsx(N,C({},i)),c=o.jsx(N,C({},s.modalContent)),u=o.jsx("div",{className:"mt-2",children:o.jsxs(wr,{href:a,className:"flex items-center gap-1 font-medium",children:[o.jsx(N,C({},s.learnMore)),o.jsx(nE,{className:"icon-sm"})]})}),d=o.jsx(oe,{as:"link",to:t,color:"primary",onClick:e,openNewTab:!0,children:o.jsx(N,C({},s.download))}),f=o.jsx(oe,{color:"secondary",onClick:n,children:o.jsx(N,C({},Jit.close))}),m=r?d:f,p=r?f:void 0;return o.jsx(jre,{onClose:n,title:l,description:c,actionButton:m,cancelButton:p,moreInfoLink:u})}const Yit=pe({bannerTitle:{id:"SidekickOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for macOS 14+ with Apple Silicon"},bannerContent:{id:"SidekickOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Option + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidekickOnboarding.modalTitle",defaultMessage:"ChatGPT is available for macOS 14+ with Apple Silicon"},modalContent:{id:"SidekickOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Option + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},learnMore:{id:"SidekickOnboarding.learn_more",defaultMessage:"Learn more"},download:{id:"SidekickOnboarding.download",defaultMessage:"Download"}}),Qit=pe({bannerTitle:{id:"SidetronOnboarding.bannerTitle",defaultMessage:"ChatGPT is now available for Windows 10+"},bannerContent:{id:"SidetronOnboarding.banner_content_3",defaultMessage:"Get faster access to ChatGPT with the Alt + Space shortcut, and use Advanced Voice Mode to get hands-free answers while you work."},modalTitle:{id:"SidetronOnboarding.modalTitle",defaultMessage:"ChatGPT is available for Windows 10+"},modalContent:{id:"SidetronOnboarding.modal_content_eligible",defaultMessage:"Quickly access ChatGPT from anywhere on your computer with the Alt + Space shortcut. Share screenshots, upload files, and use Advanced Voice Mode to chat with your computer and get hands-free answers while you work."},learnMore:{id:"SidetronOnboarding.learn_more",defaultMessage:"Learn more"},download:{id:"SidetronOnboarding.download",defaultMessage:"Download on Microsoft Store"}}),Jit=pe({close:{id:"SidekickOnboarding.close",defaultMessage:"Close"}}),Xit={downloadUrl:Dit,messages:Yit,learnMoreUrl:Oit,analyticsModalShown:"Sidekick: Download Modal Shown",analyticsModalClosed:"Sidekick: Download Modal Closed",analyticsModalDownloadClicked:"Sidekick: Download Modal Downloaded",analyticsBannerShown:"Sidekick: Announcement Shown",analyticsBannerDismissed:"Sidekcik: Dismissed Announcement",analyticsBannerDownloadClicked:"Sidekick: Clicked Announcement Link",statsigLayerName:C1e,statsigModalShown:"chatgpt_sidekick_modal_shown",statsigModalClosed:"chatgpt_sidekick_modal_closed",statsigModalDownloadClicked:"chatgpt_sidekick_modal_download_clicked",statsigBannerShown:"chatgpt_sidekick_announcement_shown",statsigBannerDismissed:"chatgpt_sidekick_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidekick_announcement_download_clicked",downloadAnnouncement:Lit,onboardingAnnouncement:Rit},elt={downloadUrl:Hit,messages:Qit,learnMoreUrl:Uit,analyticsModalShown:"Sidetron: Download Modal Shown",analyticsModalClosed:"Sidetron: Download Modal Closed",analyticsModalDownloadClicked:"Sidetron: Download Modal Downloaded",analyticsBannerShown:"Sidetron: Announcement Shown",analyticsBannerDismissed:"Sidetron: Dismissed Announcement",analyticsBannerDownloadClicked:"Sidetron: Clicked Announcement Link",statsigLayerName:_1e,statsigModalShown:"chatgpt_sidetron_modal_shown",statsigModalClosed:"chatgpt_sidetron_modal_closed",statsigModalDownloadClicked:"chatgpt_sidetron_modal_download_clicked",statsigBannerShown:"chatgpt_sidetron_announcement_shown",statsigBannerDismissed:"chatgpt_sidetron_announcement_closed",statsigBannerDownloadClicked:"chatgpt_sidetron_announcement_download_clicked",downloadAnnouncement:Fit,onboardingAnnouncement:Bit},k1e=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","ID","IE","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","RO","SK","SI","ES","SE","CH","GB","IN"];function tlt(t){return k1e.includes(t)}const ok={AT:20,BE:21,BG:20,HR:25,CY:19,CZ:21,DK:25,EE:24,FI:25.5,FR:20,DE:19,GR:24,HU:27,IS:24,ID:11,IE:23,IT:22,LV:21,LI:8.1,LT:21,LU:17,MT:18,NL:21,NO:25,PL:23,PT:23,RO:21,SK:23,SI:22,ES:21,SE:25,CH:8.1,GB:20,IN:18};function nlt({amount:t,roundToPrecision:e=2}){const n=Math.pow(10,e);return Math.round(t*n)/n}function M1e({amount:t,taxPercent:e,inclusive:n,roundToPrecision:r=2}){const s=e*t/((n?e:0)+100),a=Math.pow(10,r);return Math.round(s*a)/a}function Rz(t,e){return e==null?(ve.addError(new Error("nullish_country_for_vat_calculation"),{country:e}),0):tlt(e)?M1e({amount:t,taxPercent:ok[e],inclusive:!0}):(ve.addError(new Error("unrecognized_country_for_vat_calculation"),{country:e}),0)}function rlt(t){return t===Hhe?{taxCountry:t,taxRatePercent:ok[t],taxName:"gst",reverseChargeEligible:!0}:k1e.includes(t)?{taxCountry:t,taxRatePercent:ok[t],taxName:"vat",reverseChargeEligible:!0}:null}const MTt={at_vat:{type:"at_vat",country:"AT",region:"EEA-GB-CH",country_label:"Austria",format:"ATU[0-9]{8}",placeholder:"ATU12345678",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},be_vat:{type:"be_vat",country:"BE",region:"EEA-GB-CH",country_label:"Belgium",format:"BE(0|1)[0-9]{9}",placeholder:"BE0123456789",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},bg_vat:{type:"bg_vat",country:"BG",region:"EEA-GB-CH",country_label:"Bulgaria",format:"BG[0-9]{9,10}",placeholder:"BG0123456789",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},br_cnpj:{type:"br_cnpj",country:"BR",region:"BR",country_label:"Brazil",format:"([0-9]{2})\\.?([0-9]{3})\\.?([0-9]{3})[\\/\\\\]?([0-9]{4})\\-?([0-9]{2})",placeholder:"01.234.456/5432-10",stripe_type:"br_cnpj",verifiable:!1,replacement_string:"\\1.\\2.\\3/\\4-\\5",description:"Brazilian CNPJ number",reverse_charge:!1,supported:!0},br_cpf:{type:"br_cpf",country:"BR",region:"BR",country_label:"Brazil",format:"([0-9]{3})\\.?([0-9]{3})\\.?([0-9]{3})\\-?([0-9]{2})",placeholder:"123.456.789-87",stripe_type:"br_cpf",verifiable:!1,replacement_string:"\\1.\\2.\\3-\\4",description:"Brazilian CPF number",reverse_charge:!1,supported:!0},cy_vat:{type:"cy_vat",country:"CY",region:"EEA-GB-CH",country_label:"Cyprus",format:"CY[0-9]{8}[A-Z]",placeholder:"CY12345678Z",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},cz_vat:{type:"cz_vat",country:"CZ",region:"EEA-GB-CH",country_label:"Czech Republic",format:"CZ[0-9]{8,10}",placeholder:"CZ1234567890",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},de_vat:{type:"de_vat",country:"DE",region:"EEA-GB-CH",country_label:"Germany",format:"DE[0-9]{9}",placeholder:"DE123456789",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},dk_vat:{type:"dk_vat",country:"DK",region:"EEA-GB-CH",country_label:"Denmark",format:"DK[0-9]{8}",placeholder:"DK12345678",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},ee_vat:{type:"ee_vat",country:"EE",region:"EEA-GB-CH",country_label:"Estonia",format:"EE[0-9]{9}",placeholder:"EE123456789",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},es_vat:{type:"es_vat",country:"ES",region:"EEA-GB-CH",country_label:"Spain",format:"ES([A-Z][0-9]{8}|[0-9]{8}[A-Z]|[A-Z][0-9]{7}[A-Z])",placeholder:"ESA1234567Z",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},fi_vat:{type:"fi_vat",country:"FI",region:"EEA-GB-CH",country_label:"Finland",format:"FI[0-9]{8}",placeholder:"FI12345678",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},fr_vat:{type:"fr_vat",country:"FR",region:"EEA-GB-CH",country_label:"France",format:"FR[A-Z0-9]{2}[0-9]{9}",placeholder:"FRAB123456789",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},gr_vat:{type:"gr_vat",country:"GR",region:"EEA-GB-CH",country_label:"Greece",format:"EL[0-9]{9}",placeholder:"EL123456789",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},hr_vat:{type:"hr_vat",country:"HR",region:"EEA-GB-CH",country_label:"Croatia",format:"HR[0-9]{11}",placeholder:"HR12345678912",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},hu_vat:{type:"hu_vat",country:"HU",region:"EEA-GB-CH",country_label:"Hungary",format:"(HU)?[0-9]{8}((-)?[0-9]{1}(-)?[0-9]{2})?",placeholder:"HU12345678912",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},ie_vat:{type:"ie_vat",country:"IE",region:"EEA-GB-CH",country_label:"Ireland",format:"IE([0-9]{7}[A-Z]{1,2}|[0-9][A-Z][0-9]{5}[A-Z])",placeholder:"IE1234567AB",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},it_vat:{type:"it_vat",country:"IT",region:"EEA-GB-CH",country_label:"Italy",format:"IT[0-9]{11}",placeholder:"IT12345678912",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},lt_vat:{type:"lt_vat",country:"LT",region:"EEA-GB-CH",country_label:"Lithuania",format:"LT([0-9]{9}|[0-9]{12})",placeholder:"LT123456789123",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},lu_vat:{type:"lu_vat",country:"LU",region:"EEA-GB-CH",country_label:"Luxembourg",format:"LU[0-9]{8}",placeholder:"LU12345678",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},lv_vat:{type:"lv_vat",country:"LV",region:"EEA-GB-CH",country_label:"Latvia",format:"LV[0-9]{11}",placeholder:"LV12345678912",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},mt_vat:{type:"mt_vat",country:"MT",region:"EEA-GB-CH",country_label:"Malta",format:"MT[0-9]{8}",placeholder:"MT12345678",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},nl_vat:{type:"nl_vat",country:"NL",region:"EEA-GB-CH",country_label:"Netherlands",format:"NL[0-9]{9}B[0-9]{2}",placeholder:"NL123456789B12",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},pl_vat:{type:"pl_vat",country:"PL",region:"EEA-GB-CH",country_label:"Poland",format:"PL[0-9]{10}",placeholder:"PL1234567890",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},pt_vat:{type:"pt_vat",country:"PT",region:"EEA-GB-CH",country_label:"Portugal",format:"PT[0-9]{9}",placeholder:"PT123456789",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},ro_vat:{type:"ro_vat",country:"RO",region:"EEA-GB-CH",country_label:"Romania",format:"RO[0-9]{2,10}",placeholder:"RO1234567891",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},se_vat:{type:"se_vat",country:"SE",region:"EEA-GB-CH",country_label:"Sweden",format:"SE[0-9]{12}",placeholder:"SE123456789123",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},si_vat:{type:"si_vat",country:"SI",region:"EEA-GB-CH",country_label:"Slovenia",format:"SI[0-9]{8}",placeholder:"SI12345678",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},sk_vat:{type:"sk_vat",country:"SK",region:"EEA-GB-CH",country_label:"Slovakia",format:"SK[0-9]{10}",placeholder:"SK1234567891",stripe_type:"eu_vat",verifiable:!0,description:"European VAT number",reverse_charge:!0,supported:!0},xi_vat:{type:"xi_vat",country:"GB",region:"EEA-GB-CH",country_label:"United Kingdom",format:"(XI)([0-9]{9}|[0-9]{12}|(HA|GD)[0-9]{3})",placeholder:"XI123456789",stripe_type:"eu_vat",verifiable:!0,description:"Northern Ireland VAT number",reverse_charge:!0,supported:!0},gb_vat:{type:"gb_vat",country:"GB",region:"EEA-GB-CH",country_label:"United Kingdom",format:"GB([0-9]{9}|[0-9]{12}|(HA|GD)[0-9]{3})",placeholder:"GB123456789",stripe_type:"gb_vat",verifiable:!0,description:"United Kingdom VAT number",reverse_charge:!0,supported:!0},nz_gst:{type:"nz_gst",country:"NZ",region:"NZ",country_label:"New Zealand",format:"[0-9]{8,9}",placeholder:"123456789",stripe_type:"nz_gst",description:"New Zealand GST number",reverse_charge:!0,supported:!0,verifiable:!1},au_abn:{type:"au_abn",country:"AU",region:"AU",country_label:"Australia",format:"[0-9]{11}",placeholder:"12345678912",stripe_type:"au_abn",verifiable:!0,description:"Australian Business Number (AU ABN)",reverse_charge:!0,supported:!0},au_arn:{type:"au_arn",country:"AU",region:"AU",country_label:"Australia",format:"[0-9]{12}",placeholder:"123456789123",stripe_type:"au_arn",verifiable:!1,description:"Australian Taxation Office Reference Number",reverse_charge:!0,supported:!0},in_gst:{type:"in_gst",country:"IN",region:"IN",country_label:"India",format:"[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z][1-9A-Z]Z[0-9A-Z]",placeholder:"12ABCDE3456FGZH",stripe_type:"in_gst",description:"Indian GST number",reverse_charge:!0,supported:!0,verifiable:!1},no_vat:{type:"no_vat",country:"NO",region:"EEA-GB-CH",country_label:"Norway",format:"[0-9]{9}MVA",placeholder:"123456789MVA",stripe_type:"no_vat",verifiable:!1,description:"Norwegian VAT number",reverse_charge:!0,supported:!0},za_vat:{type:"za_vat",country:"ZA",region:"ZA",country_label:"South Africa",format:"4[0-9]{9}",placeholder:"4123456789",stripe_type:"za_vat",verifiable:!1,description:"South African VAT number",reverse_charge:!1,supported:!0},ch_vat:{type:"ch_vat",country:"CH",region:"EEA-GB-CH",country_label:"Switzerland",placeholder:"CHE-123.456.789 MWST",format:"([Cc][Hh][Ee])[\\. \\-]?(\\d{3})[\\. \\-]?(\\d{3})[\\. \\-]?(\\d{3}) ?([Mm][Ww][Ss][Tt]|[Tt][Vv][Aa]|[Ii][Vv][Aa])",stripe_type:"ch_vat",verifiable:!1,replacement_string:"\\1-\\2.\\3.\\4 \\5",description:"Switzerland VAT number",reverse_charge:!0,supported:!0},mx_rfc:{type:"mx_rfc",country:"MX",region:"MX",country_label:"Mexico",format:"([A-Za-zÃÃ±&]{3,4})-?([0-9]{2})(0[1-9]|1[0-2])(0[1-9]|[12][0-9]|3[01])-?([A-Za-z0-9])-?([A-Za-z0-9][0-9A])",placeholder:"ABC010203AB9",stripe_type:"mx_rfc",verifiable:!1,replacement_string:"\\1\\2\\3\\4\\5\\6",description:"Mexican RFC number",reverse_charge:!0,supported:!0},sg_uen:{type:"sg_uen",country:"SG",region:"SG",country_label:"Singapore",format:"([0-9]{8}[A-Z]|[0-9]{4}[0-9]{5}[A-Z]|F(000|   )[0-9]{5}[A-Z]|[ST][0-9]{2}[A-Z]{2}[0-9]{4}[A-Z])",placeholder:"123456789F",stripe_type:"sg_uen",verifiable:!1,description:"Singaporean UEN",reverse_charge:!0,supported:!0},ru_inn:{type:"ru_inn",country:"RU",region:"RU",country_label:"Russia",format:"[0-9]{10}",placeholder:"1234567891",stripe_type:"ru_inn",verifiable:!1,description:"Russian INN",reverse_charge:!0,supported:!1},ru_kpp:{type:"ru_kpp",country:"RU",region:"RU",country_label:"Russia",format:"[0-9]{9}",placeholder:"123456789",stripe_type:"ru_kpp",verifiable:!1,description:"Russian KPP",reverse_charge:!0,supported:!1},ca_bn:{type:"ca_bn",country:"CA",region:"CA",country_label:"Canada",format:"[0-9]{9}",placeholder:"123456789",stripe_type:"ca_bn",verifiable:!1,description:"Canadian BN",reverse_charge:!1,supported:!0},hk_br:{type:"hk_br",country:"HK",region:"HK",country_label:"Hong Kong",format:"[0-9]{8}",placeholder:"12345678",stripe_type:"hk_br",description:"Hong Kong BR number",reverse_charge:!1,supported:!1,verifiable:!1},es_cif:{type:"es_cif",country:"ES",region:"EEA-GB-CH",country_label:"Spain",format:"[0-9A-Z][0-9]{7}[0-9A-Z]",placeholder:"A12345678",stripe_type:"es_cif",description:"Spanish CIF number",reverse_charge:!0,supported:!0,verifiable:!1},tw_vat:{type:"tw_vat",country:"TW",region:"TW",country_label:"Taiwan",format:"[0-9]{8}",placeholder:"12345678",stripe_type:"tw_vat",description:"Taiwanese VAT",reverse_charge:!0,supported:!0,verifiable:!1},th_vat:{type:"th_vat",country:"TH",region:"TH",country_label:"Thailand",format:"[0-9]{13}",placeholder:"1234567891234",stripe_type:"th_vat",description:"Thai VAT",reverse_charge:!0,supported:!0,verifiable:!1},jp_cn:{type:"jp_cn",country:"JP",region:"JP",country_label:"Japan",format:"[0-9]{13}",placeholder:"1234567891234",stripe_type:"jp_cn",description:"Japanese Corporate Number",reverse_charge:!0,supported:!0,verifiable:!1},jp_rn:{type:"jp_rn",country:"JP",region:"JP",country_label:"Japan",format:"[0-9]{5}",placeholder:"12345",stripe_type:"jp_rn",description:"Japanese Registered Foreign Businesses Number",reverse_charge:!0,supported:!0,verifiable:!1},li_uid:{type:"li_uid",country:"LI",region:"EEA-GB-CH",country_label:"Liechtenstein",format:"CHE[0-9]{9}",placeholder:"CHE123456789",stripe_type:"li_uid",description:"Liechtensteinian UID number",reverse_charge:!0,supported:!0,verifiable:!1},my_itn:{type:"my_itn",country:"MY",region:"MY",country_label:"Malaysia",format:"([A-Z]{1,2}) ?([0-9]{10})",placeholder:"C 1234567890",stripe_type:"my_itn",description:"Malaysian ITN",reverse_charge:!0,supported:!0,verifiable:!1,replacement_string:"\\1 \\2"},us_ein:{type:"us_ein",country:"US",region:"US",country_label:"United States",format:"([0-9]{2})-?([0-9]{7})",placeholder:"12-3456789",stripe_type:"us_ein",verifiable:!1,replacement_string:"\\1-\\2",description:"United States EIN",reverse_charge:!1,supported:!1},kr_brn:{type:"kr_brn",country:"KR",region:"KR",country_label:"South Korea",format:"([0-9]{3})-?([0-9]{2})-?([0-9]{5})",placeholder:"123-45-67890",stripe_type:"kr_brn",description:"Korean BRN",reverse_charge:!0,supported:!0,verifiable:!1,replacement_string:"\\1-\\2-\\3"},ca_qst:{type:"ca_qst",country:"CA",region:"CA",country_label:"Canada",format:"([0-9]{10}TQ[0-9]{4}|[0-9]{9}[A-Z]{2}[0-9]{4}|[0-9]{9,10}|NR[0-9]{8})",placeholder:"1234567890TQ1234",stripe_type:"ca_qst",verifiable:!1,description:"Canadian QST number (QuÃ©bec)",reverse_charge:!1,supported:!0},ca_gst_hst:{type:"ca_gst_hst",country:"CA",region:"CA",country_label:"Canada",format:"([0-9]{9}) ?RT ?([0-9]{4})",placeholder:"123456789RT0002",stripe_type:"ca_gst_hst",verifiable:!1,replacement_string:"\\1RT\\2",description:"Canadian GST/HST number",reverse_charge:!1,supported:!0},ca_pst_bc:{type:"ca_pst_bc",country:"CA",region:"CA",country_label:"Canada",format:"PST-?([0-9]{4})-?([0-9]{4})",placeholder:"PST-1234-5678",stripe_type:"ca_pst_bc",verifiable:!1,replacement_string:"PST-\\1-\\2",description:"Canadian PST number (British Columbia)",reverse_charge:!1,supported:!0},ca_pst_mb:{type:"ca_pst_mb",country:"CA",region:"CA",country_label:"Canada",format:"([0-9]{6})-?([0-9])",placeholder:"123456-7",stripe_type:"ca_pst_mb",verifiable:!1,replacement_string:"\\1-\\2",description:"Canadian PST number (Manitoba)",reverse_charge:!1,supported:!0},ca_pst_sk:{type:"ca_pst_sk",country:"CA",region:"CA",country_label:"Canada",format:"([0-9]{7})",placeholder:"1234567",stripe_type:"ca_pst_sk",verifiable:!1,description:"Canadian PST number (Saskatchewan)",reverse_charge:!1,supported:!0},my_sst:{type:"my_sst",country:"MY",region:"MY",country_label:"Malaysia",format:"(([A-Z][0-9]{2})-?([0-9]{4})-?([0-9]{8})|[0-9]{8})",placeholder:"A12-3456-78912345",stripe_type:"my_sst",description:"Malaysian SST number",reverse_charge:!0,supported:!0,verifiable:!1,replacement_string:"\\2-\\3-\\4",only_replace_if_group_captured:2},sg_gst:{type:"sg_gst",country:"SG",region:"SG",country_label:"Singapore",format:"([0-9]{8}[A-Z]|[0-9]{4}[0-9]{5}[A-Z]|F(000|   )[0-9]{5}[A-Z]|[ST][0-9]{2}[A-Z]{2}[0-9]{4}[A-Z]|M[0-9A-Z][0-9]{7}[0-9A-Z]|F[0-9]{8}[A-Z])",placeholder:"M12345678X",stripe_type:"sg_gst",description:"Singaporean GST",reverse_charge:!0,supported:!0,verifiable:!1},ae_trn:{type:"ae_trn",country:"AE",region:"AE",country_label:"United Arab Emirates",format:"[0-9]{15}",placeholder:"123456789012345",stripe_type:"ae_trn",verifiable:!1,description:"United Arab Emirates TRN",reverse_charge:!0,supported:!0},cl_tin:{type:"cl_tin",country:"CL",region:"CL",country_label:"Chile",format:"([0-9]{2})\\.?([0-9]{3})\\.?([0-9]{3})-?([K0-9])",placeholder:"12.345.678-K",stripe_type:"cl_tin",verifiable:!1,replacement_string:"\\1.\\2.\\3-\\4",description:"Chilean TIN",reverse_charge:!0,supported:!1},sa_vat:{type:"sa_vat",country:"SA",region:"SA",country_label:"Saudi Arabia",format:"[0-9]{15}",placeholder:"123456789012345",stripe_type:"sa_vat",description:"Saudi Arabia VAT",reverse_charge:!0,supported:!0,verifiable:!1},id_npwp:{type:"id_npwp",country:"ID",region:"ID",country_label:"Indonesia",format:"([0-9]{2})\\.?([0-9]{3})\\.?([0-9]{3})\\.?([0-9])-?([0-9]{3})\\.?([0-9]{3})",placeholder:"12.345.678.9-012.345",verifiable:!1,stripe_type:"id_npwp",description:"Indonesian NPWP number",reverse_charge:!0,supported:!0,replacement_string:"\\1.\\2.\\3.\\4-\\5.\\6"},my_frp:{type:"my_frp",country:"MY",region:"MY",country_label:"Malaysia",format:"[0-9]{8}",placeholder:"12345678",verifiable:!1,stripe_type:"my_frp",description:"Malaysian FRP number",reverse_charge:!0,supported:!0},il_vat:{type:"il_vat",country:"IL",region:"IL",country_label:"Israel",format:"[0-9]{9}",placeholder:"000012345",verifiable:!1,stripe_type:"il_vat",description:"Israel VAT",reverse_charge:!0,supported:!0},ge_vat:{type:"ge_vat",country:"GE",region:"GE",country_label:"Georgia",format:"([0-9]{9}|[0-9]{11})",placeholder:"123456789",verifiable:!1,stripe_type:"ge_vat",description:"Georgian VAT",reverse_charge:!0,supported:!0},ua_vat:{type:"ua_vat",country:"UA",region:"UA",country_label:"Ukraine",format:"([0-9]{8,10}|[0-9]{12})",placeholder:"123456789",verifiable:!1,stripe_type:"ua_vat",description:"Ukrainian VAT",reverse_charge:!0,supported:!1},is_vat:{type:"is_vat",country:"IS",region:"EEA-GB-CH",country_label:"Iceland",format:"[0-9]{6}",placeholder:"123456",verifiable:!1,stripe_type:"is_vat",description:"Icelandic VAT",reverse_charge:!0,supported:!0},tr_tin:{country:"TR",region:"TR",format:"[0-9]{10,11}",placeholder:"0123456789",verifiable:!1,type:"tr_tin",stripe_type:"tr_tin",description:"Turkish Tax Identification Number",country_label:"TÃ¼rkiye",reverse_charge:!0,supported:!0}};var Xt=(t=>(t.Month="month",t.Year="year",t.Once="once",t))(Xt||{}),en=(t=>(t.Inclusive="inclusive",t.Exclusive="exclusive",t))(en||{});function fn(t,e,n,r,s){return{product:t,currency:e,recurringInterval:n,amount:Number(r),amountTaxBehavior:s}}const jm="free",Tm="go",Nm="plus",Am="pro",oo="team",slt=[fn(jm,vi,Xt.Month,"0.00",en.Inclusive),fn(Tm,vi,Xt.Month,"4.00",en.Inclusive),fn(Nm,vi,Xt.Month,"23.00",en.Inclusive),fn(Am,vi,Xt.Month,"229.00",en.Inclusive),fn(oo,vi,Xt.Month,"34.00",en.Inclusive),fn(oo,vi,Xt.Year,"29.00",en.Inclusive),fn(jm,yi,Xt.Month,"0.00",en.Inclusive),fn(Tm,yi,Xt.Month,"3.50",en.Inclusive),fn(Nm,yi,Xt.Month,"20.00",en.Inclusive),fn(Am,yi,Xt.Month,"200.00",en.Inclusive),fn(oo,yi,Xt.Month,"30.00",en.Inclusive),fn(oo,yi,Xt.Year,"25.00",en.Inclusive),fn(jm,qc,Xt.Month,"0.00",en.Exclusive),fn(Tm,qc,Xt.Month,"4.00",en.Exclusive),fn(Nm,qc,Xt.Month,"20.00",en.Exclusive),fn(Am,qc,Xt.Month,"200.00",en.Exclusive),fn(oo,qc,Xt.Month,"30.00",en.Exclusive),fn(oo,qc,Xt.Year,"25.00",en.Exclusive),fn(jm,ho,Xt.Month,"0.00",en.Inclusive),fn(Tm,ho,Xt.Month,"399.00",en.Inclusive),fn(Nm,ho,Xt.Month,"1999.00",en.Inclusive),fn(Am,ho,Xt.Month,"19900.00",en.Inclusive),fn(oo,ho,Xt.Month,"2599.00",en.Exclusive),fn(oo,ho,Xt.Year,"2099.00",en.Exclusive),fn(jm,vo,Xt.Month,"0.00",en.Inclusive),fn(Tm,vo,Xt.Month,"75000.00",en.Inclusive),fn(Nm,vo,Xt.Month,"349000.00",en.Inclusive),fn(Am,vo,Xt.Month,"3499000.00",en.Inclusive),fn(oo,vo,Xt.Month,"469000.00",en.Exclusive),fn(oo,vo,Xt.Year,"389000.00",en.Exclusive)];function alt(t,e,n){const r=slt.find(s=>s.product===t&&s.currency===e&&s.recurringInterval===n);if(r===void 0)throw new Error("Could not find PriceDetail");return r}function olt(t,e){const n=rlt(t);if(!n)return null;const r=t,s=e.currency,{taxName:a,reverseChargeEligible:i,taxRatePercent:l}=n;return l==null?{taxAmount:null,taxCurrency:s,taxCountry:r,taxName:a,reverseChargeEligible:i}:{taxAmount:M1e({amount:e.amount,taxPercent:l,inclusive:e.amountTaxBehavior===en.Inclusive}),taxCurrency:s,taxCountry:r,taxName:a,reverseChargeEligible:i}}function ETt(t){switch(t){case Re.GO:return ro.GO;case Re.PLUS:return ro.PLUS;case Re.PRO:return ro.PRO;case Re.SELF_SERVE_BUSINESS:return ro.SELF_SERVE_BUSINESS;case Re.ENTERPRISE_CBP:return ro.ENTERPRISE_CBP_FLAT;case Re.EDUCATION_CBP:return ro.EDUCATION_CBP_FLAT;case Re.QUORUM:return ro.QUORUM;case Re.FREE:return ro.FREE;case Re.DEPRECATED_ENTERPRISE:return ro.DEPRECATED_ENTERPRISE;case Re.DEPRECATED_EDU:return ro.DEPRECATED_EDU}}function jTt(t){switch(t){case Re.FREE:return 0;case Re.GO:return 1;case Re.PLUS:return 2;case Re.PRO:return 3;case Re.SELF_SERVE_BUSINESS:return 4;case Re.ENTERPRISE_CBP:return 5;default:return ve.addError(new Error("Unsupported plan type",{cause:t})),-1}}const ilt="promo_campaign";function TTt(){const[t]=kr();return t.get(ilt)}const llt=["WEB-team_try_for_1"],clt=["openai_business"],ult=["true"];function dlt(){const[t]=kr();return{utmInternalSource:t.get("utm_internal_source"),openAIReferred:t.get("openaicom_referred"),utmCampaign:t.get("utm_campaign")}}function flt(t){const{utmCampaign:e,utmInternalSource:n,openAIReferred:r}=t;return!!e&&!!n&&!!r&&llt.includes(e)&&clt.includes(n)&&ult.includes(r)}function mlt(){const t=dlt(),e=flt(t);return P(C({},t),{shouldHide:e})}var nK;const E1e=Ge.li(nK||(nK=qe(["relative "," ",""])),t=>t.ispopover?"flex justify-between":"",t=>t.ischeckout?"py-2":"");var rK;const plt=Ge.div(rK||(rK=qe(["\nrelative ","\n"])),t=>t.type==="highlight"?"":"bg-token-main-surface-primary");function glt(t){"use forget";const e=ee.c(33),{feature:n,labelValues:r,tooltipValues:s,type:a}=t,{label:i,icon:l,tooltip:c}=n,u=l!=null?l:Zr,[d,f]=g.useState(!1),m=c&&"gap-2";let p;e[0]!==m?(p=U("text-l flex cursor-default justify-start gap-3.5",m),e[0]=m,e[1]=p):p=e[1];const h=d&&"text-token-text-secondary";let v;e[2]!==h?(v=U("h-5 w-5 shrink-0 self-center",h),e[2]=h,e[3]=v):v=e[3];let y;e[4]!==u||e[5]!==v?(y=o.jsx(u,{className:v}),e[4]=u,e[5]=v,e[6]=y):y=e[6];const x=d?"text-token-text-secondary":"text-token-text-primary";let b;e[7]!==x?(b=U("min-w-0 font-normal",x),e[7]=x,e[8]=b):b=e[8];let _;e[9]!==i||e[10]!==r?(_=o.jsx(N,P(C({},i),{values:r})),e[9]=i,e[10]=r,e[11]=_):_=e[11];let w;e[12]!==b||e[13]!==_?(w=o.jsx("div",{className:"flex flex-1 items-start gap-2",children:o.jsx("span",{className:b,children:_})}),e[12]=b,e[13]=_,e[14]=w):w=e[14];let S;e[15]!==p||e[16]!==y||e[17]!==w?(S=o.jsxs("div",{className:p,children:[y,w]}),e[15]=p,e[16]=y,e[17]=w,e[18]=S):S=e[18];let k;e[19]===Symbol.for("react.memo_cache_sentinel")?(k=U("z-50 max-w-[80vw] min-w-[100px]! p-3 sm:min-w-[200px]!"),e[19]=k):k=e[19];const M=d&&"text-token-text-secondary";let E;e[20]!==M?(E=U("p-0!",M),e[20]=M,e[21]=E):E=e[21];let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T=L=>{f(L),L&&B.logEventWithStatsig("Account Pay: Unified Pricing Tooltip Opened","chatgpt_account_payment_modal_unified_pricing_tooltip_opened",{type:"mobile_web"})},e[22]=T):T=e[22];let j;e[23]!==c||e[24]!==s?(j=o.jsx(N,P(C({},c),{values:s})),e[23]=c,e[24]=s,e[25]=j):j=e[25];let A;e[26]!==E||e[27]!==j?(A=o.jsx(z4,{className:k,alignAgainstAnchor:"start",triggerIcon:Hs,triggerIconClassName:E,onOpenChange:T,children:j}),e[26]=E,e[27]=j,e[28]=A):A=e[28];let I;return e[29]!==S||e[30]!==A||e[31]!==a?(I=o.jsxs(E1e,{type:a,ispopover:!0,children:[S,A]}),e[29]=S,e[30]=A,e[31]=a,e[32]=I):I=e[32],I}function hlt(t){"use forget";const e=ee.c(42),{feature:n,type:r,isCheckout:s}=t,a=!Fu(),{label:i,icon:l,tooltip:c}=n,[u,d]=g.useState(!1);let f;e[0]!==u?(f=V=>{V&&B.logEventWithStatsig("Account Pay: Unified Pricing Tooltip Opened","chatgpt_account_payment_modal_unified_pricing_tooltip_opened",{type:"desktop_web"}),V!==u&&d(V)},e[0]=u,e[1]=f):f=e[1];const m=f,p=l!=null?l:Zr,h=vlt;let v;e[2]!==i?(v=h(i),e[2]=i,e[3]=v):v=e[3];const y=v;let x;e[4]!==c?(x=c?h(c):void 0,e[4]=c,e[5]=x):x=e[5];const b=x;if(c&&b&&a){let V;return e[6]!==n||e[7]!==y||e[8]!==b||e[9]!==r?(V=o.jsx(glt,{type:r,feature:n,labelValues:y,tooltipValues:b}),e[6]=n,e[7]=y,e[8]=b,e[9]=r,e[10]=V):V=e[10],V}let _;e[11]!==c||e[12]!==b?(_=c?o.jsx(N,P(C({},c),{values:b})):void 0,e[11]=c,e[12]=b,e[13]=_):_=e[13];const w=c&&"gap-2";let S;e[14]!==w?(S=U("text-l flex cursor-default justify-start gap-3.5",w),e[14]=w,e[15]=S):S=e[15];const k=u&&"text-token-text-secondary";let M;e[16]!==k?(M=U("h-5 w-5 shrink-0",k),e[16]=k,e[17]=M):M=e[17];const E=s?"#5856D6":"primary";let T;e[18]!==p||e[19]!==M||e[20]!==E?(T=o.jsx(p,{className:M,color:E}),e[18]=p,e[19]=M,e[20]=E,e[21]=T):T=e[21];const j=u?"text-token-text-secondary":"text-token-text-primary";let A;e[22]!==j?(A=U("min-w-0 font-normal",j),e[22]=j,e[23]=A):A=e[23];let I;e[24]!==i||e[25]!==y?(I=o.jsx(N,P(C({},i),{values:y})),e[24]=i,e[25]=y,e[26]=I):I=e[26];let L;e[27]!==A||e[28]!==I?(L=o.jsx("div",{className:"flex flex-1 items-start gap-2",children:o.jsx("span",{className:A,children:I})}),e[27]=A,e[28]=I,e[29]=L):L=e[29];let O;e[30]!==T||e[31]!==L||e[32]!==S?(O=o.jsxs("div",{className:S,children:[T,L]}),e[30]=T,e[31]=L,e[32]=S,e[33]=O):O=e[33];let R;e[34]!==m||e[35]!==O||e[36]!==_?(R=o.jsx(wt,{align:"start",triggerAs:null,label:_,labelTextAlign:"left",theme:"white",sideOffset:4,alignOffset:2,narrow:!0,labelClassName:"font-normal!",customPaddingClassName:"p-3",customBorderClassName:"border-token-border-default border",onOpenChange:m,children:O}),e[34]=m,e[35]=O,e[36]=_,e[37]=R):R=e[37];let H;return e[38]!==s||e[39]!==R||e[40]!==r?(H=o.jsx(E1e,{type:r,ischeckout:s,children:R}),e[38]=s,e[39]=R,e[40]=r,e[41]=H):H=e[41],H}function vlt(t){return{link:e=>{var n;return o.jsx(mr,{className:"underline",target:"_blank",rel:"noopener noreferrer",to:(n=t.link)!=null?n:"",children:e})},b:ylt,article:e=>{var n;return o.jsx(mr,{className:"underline",target:"_blank",rel:"noopener noreferrer",to:(n=t.article)!=null?n:"",children:e})}}}function ylt(t){return o.jsx("strong",{children:t})}function xlt({advertisedFeatures:t,type:e}){return o.jsx(o.Fragment,{children:t==null?void 0:t.map((n,r)=>{let s=Zr;return n.icon&&(s=n.icon),o.jsx(plt,{type:e,children:o.jsxs("div",{className:"text-l flex justify-start gap-2",children:[o.jsx(s,{className:"h-5 w-5 shrink-0"}),o.jsx("span",{children:o.jsx(N,P(C({},n.label),{values:{link:a=>{var i;return o.jsx(mr,{className:"underline",target:"_blank",rel:"noreferrer",to:(i=n.label.link)!=null?i:"",children:a})},article:a=>{var i;return o.jsx(mr,{className:"underline",target:"_blank",rel:"noreferrer",to:(i=n.label.article)!=null?i:"",children:a})},modelName:"GPTâ4o"}}))})]})},r)})})}function blt(t){"use forget";var v;const e=ee.c(16),{advertisedFeatures:n,pricingModalColumnType:r,isWebRedesign:s,isTeamColumn:a,isCheckout:i,isBusinessUpgradeV2CopyEnabled:l}=t,c=l===void 0?!1:l;if(!(n!=null&&n.length))return null;if(!s){let y;return e[0]!==n||e[1]!==r?(y=o.jsx(xlt,{advertisedFeatures:n,type:r}),e[0]=n,e[1]=r,e[2]=y):y=e[2],y}const u=(v=n.at(0))==null?void 0:v.tooltip,d=a&&!c&&!u?"gap-3":"gap-5",f=i&&"mb-3 gap-0!";let m;e[3]!==d||e[4]!==f?(m=U("mb-2 flex flex-col",d,f),e[3]=d,e[4]=f,e[5]=m):m=e[5];let p;if(e[6]!==n||e[7]!==i||e[8]!==r){let y;e[10]!==i||e[11]!==r?(y=(x,b)=>o.jsx(hlt,{feature:x,type:r,isCheckout:i},b),e[10]=i,e[11]=r,e[12]=y):y=e[12],p=n.map(y),e[6]=n,e[7]=i,e[8]=r,e[9]=p}else p=e[9];let h;return e[13]!==m||e[14]!==p?(h=o.jsx("ul",{className:m,children:p}),e[13]=m,e[14]=p,e[15]=h):h=e[15],h}var o0=(t=>(t.standard="standard",t.promo="promo",t.highlight="highlight",t))(o0||{});function Clt(t){return"percentage"in t}function _lt({activeDiscountMetadata:t,promoMetadata:e,type:n,isWebRedesign:r,showNewBadge:s}){let a="border border-green-600 text-green-600";return t?a="text-token-text-tertiary border":(e==null?void 0:e.promotion_type)==="student_discount"?a="border-brand-purple text-brand-purple":([o0.highlight,o0.promo].includes(n)&&r||s)&&(a="border bg-[#DCDBFF] dark:bg-[#444378] dark:text-[#B9B7FF] text-[#615EEB] border-none rounded-4xl font-weight-bold px-2 pt-1.5 pb-1.25 text-[11px]"),s&&(a+=r?" text-center font-[700]! w-[57px]":"w-[25px] py-1.25 text-[10px] bg-[#F4F3FF] font-[700]!"),a}function io({children:t,badgeClassNames:e}){return o.jsx("span",{className:U("ms-1 rounded px-1 py-0 text-xs font-semibold",e),children:t})}function wlt({useRecommendedBadge:t,isWebRedesign:e,activeDiscountMetadata:n,promoMetadata:r,type:s,planType:a,welcomeOfferLabel:i,currencySymbol:l,isScheduledPromo:c}){const u=Z(),d=s===o0.highlight&&a===Re.GO,f=_lt({activeDiscountMetadata:n,promoMetadata:r,type:s,isWebRedesign:e,showNewBadge:d}),m=s===o0.highlight&&e,p=n&&"percentage"in n.discount&&n.discount.percentage===100,h=n&&!p;if(i)return o.jsx(io,{badgeClassNames:f,children:o.jsx(N,C({},i))});if(!c&&(r!=null&&r.promotion_type_label))return o.jsx(io,{badgeClassNames:f,children:r.promotion_type_label});if(!c&&(r!=null&&r.duration))return Clt(r.discount)?o.jsx(io,{badgeClassNames:f,children:o.jsx(N,P(C({},gl.percentageDiscount),{values:{discount_percentage:Math.round(r.discount.percentage)}}))}):o.jsx(io,{badgeClassNames:f,children:o.jsx(N,P(C({},gl.flatDiscount),{values:{discounted_cost:u.formatNumber(r.discount.value,{style:"currency",currency:r.discount.currency_code,minimumFractionDigits:0,maximumFractionDigits:2})}}))});if(!c&&r)return o.jsx(io,{badgeClassNames:f,children:o.jsx(N,C({},gl.promo))});if(h&&n){if("percentage"in n.discount)return o.jsx(io,{badgeClassNames:f,children:o.jsx(N,P(C({},gl.percentageDiscount),{values:{discount_percentage:n==null?void 0:n.discount.percentage}}))});if("value"in n.discount)return o.jsx(io,{badgeClassNames:f,children:o.jsx(N,P(C({},gl.flatDiscount),{values:{discounted_cost:u.formatNumber(n.discount.value,{style:"currency",currency:u.formatMessage(l.code),minimumFractionDigits:0,maximumFractionDigits:2})}}))})}return d?o.jsx(io,{badgeClassNames:f,children:o.jsx(N,C({},gl.new))}):t?o.jsx(io,{badgeClassNames:f,children:o.jsx(N,C({},gl.recommended))}):m?o.jsx(io,{badgeClassNames:f,children:o.jsx(N,C({},gl.popular))}):null}const gl=pe({percentageDiscount:{id:"percentageDiscount",defaultMessage:"{discount_percentage}% OFF"},flatDiscount:{id:"flatDiscount",defaultMessage:"{discounted_cost} OFF"},promo:{id:"promo",defaultMessage:"PROMO"},popular:{id:"popular",defaultMessage:"POPULAR"},recommended:{id:"recommended",defaultMessage:"RECOMMENDED"},new:{id:"new",defaultMessage:"NEW"}}),I2="team1dollar",NTt=5,Slt="team_free_trial",klt="team-1-month-free",ATt=5;function l_(t){return t===Slt||t===klt}function PTt(t){switch(t){case"EUR":case"GBP":case"USD":return 1;case"INR":return 100;case"IDR":return 16e3}}function ITt(t){switch(t){case"EUR":case"GBP":case"USD":case"INR":case"IDR":return 0}}const L2=pe({team1dollarCost:{id:"promo.team1dollar.team1dollarCost",defaultMessage:"for the first month"},team1dollarPerSeat:{id:"promo.team1dollar.team1dollarPerSeat",defaultMessage:"/seat"},team1dollarCostFollowUp:{id:"promo.team1dollar.team1dollarCostFollowUp",defaultMessage:"up to 5 users if eligible"},team1dollarCostNormalPricing:{id:"promo.team1dollar.team1dollarCostNormalPricing",defaultMessage:"After promotion, you will be charged the regular price"},asterisk:{id:"promo.team1dollar.astrix",defaultMessage:"*"},team1dollarLoginToVerify:{id:"promo.team1dollar.loginToVerify",defaultMessage:"Log in or create a free account to verify your eligibility for the promotion."},team1dollarMonthlyCost:{id:"promo.team1dollar.monthlyCost",defaultMessage:"{currencyCode} {currencySign}{discountedMonthlyCost} <s>{currencySign}{monthlyCost}</s>"},team1dollarMonthlyCostINR:{id:"promo.team1dollar.monthlyCostINR",defaultMessage:"{currencyCode} {currencySign}{discountedMonthlyCost} <s>{currencySign}{monthlyCost}</s>"},team1dollarMonthlyStructure:{id:"promo.team1dollar.monthlyStructure",defaultMessage:"Up to 5 users for {currencySign}1 flat-fee for the first month, then standard pricing applies."},team1dollarOverSeatsDisclaimer:{id:"promo.team1dollar.overSeatsDisclaimer",defaultMessage:"You have more than 5 users. The promo will only apply to the first 5 users for the first month."},team1dollarBelowDiscount:{id:"promo.team1dollar.belowDiscount",defaultMessage:"Up to 5 users"},promoCost:{id:"promo.team1dollar.cost",defaultMessage:"1*"},promoCostINR:{id:"promo.team1dollar.costINR",defaultMessage:"100*"},promoCostIDR:{id:"promo.team1dollar.costIDR",defaultMessage:"16000*"},team1dollarPromoDisclaimer:{id:"promo.team1dollar.disclaimer",defaultMessage:"*Billed as a {currencySign}1 flat fee up to 5 seats for the first month, after which regular pricing applies. Restrictions apply."},team1dollarPromoDisclaimerINR:{id:"promo.team1dollar.team1dollarPromoDisclaimerINR",defaultMessage:"*Billed as a â¹100 flat fee up to 5 seats for the first month, after which regular pricing applies. Restrictions apply."},team1dollarPromoDisclaimerIDR:{id:"promo.team1dollar.team1dollarPromoDisclaimerIDR",defaultMessage:"*Billed as a Rp16000 flat fee up to 5 seats for the first month, after which regular pricing applies. Restrictions apply."},team1dollarPromoDisclaimerWithAmount:{id:"promo.team1dollar.team1dollarPromoDisclaimerWithAmount",defaultMessage:"*Billed as a {amount} flat fee up to 5 seats for the first month, after which regular pricing applies. Restrictions apply."},promoCostDuration:{id:"promo.team1dollar.costDuration",defaultMessage:"for the first month"},team1dollarNotEligible:{id:"promo.team1dollar.notEligibleMessage",defaultMessage:"Sorry, you're not eligible for this promotional discount."},team1dollarTemporarilyDisabled:{id:"promo.team1dollar.temporarilyDisabled",defaultMessage:"This promotion is currently temporarily disabled. Please check back later."},team1dollarOffline:{id:"promo.team1dollar.offline",defaultMessage:"This promotion you are trying to use is offline or expired."},team1dollarWelcomeOffer:{id:"promo.team1dollar.welcomeOffer",defaultMessage:"WELCOME OFFER"}}),R2=pe({teamFreeTrialCost:{id:"promo.teamFreeTrial.teamFreeTrialCost",defaultMessage:"for the first month"},teamFreeTrialPerSeat:{id:"promo.teamFreeTrial.teamFreeTrialPerSeat",defaultMessage:"/seat"},teamFreeTrialCostFollowUp:{id:"promo.teamFreeTrial.teamFreeTrialCostFollowUp",defaultMessage:"up to 5 users if eligible"},teamFreeTrialCostNormalPricing:{id:"promo.teamFreeTrial.teamFreeTrialCostNormalPricing",defaultMessage:"After promotion, you will be charged the regular price"},asterisk:{id:"promo.teamFreeTrial.astrix",defaultMessage:"*"},teamFreeTrialLoginToVerify:{id:"promo.teamFreeTrial.loginToVerify",defaultMessage:"Log in or create a free account to verify your eligibility for the promotion."},teamFreeTrialMonthlyCost:{id:"promo.teamFreeTrial.monthlyCostZero",defaultMessage:"1 month free <s>{currencySign}{monthlyCost}</s>"},teamFreeTrialMonthlyStructure:{id:"promo.teamFreeTrial.monthlyStructure",defaultMessage:"Up to 5 users for {currencySign}1 flat-fee for the first month, then standard pricing applies."},teamFreeTrialOverSeatsDisclaimer:{id:"promo.teamFreeTrial.overSeatsDisclaimer",defaultMessage:"You have more than 5 users. The promo will only apply to the first 5 users for the first month."},teamFreeTrialBelowDiscount:{id:"promo.teamFreeTrial.belowDiscount",defaultMessage:"1 month free up to 5 seats"},promoCost:{id:"promo.teamFreeTrial.cost",defaultMessage:"0*"},promoCostINR:{id:"promo.teamFreeTrial.costINR",defaultMessage:"0*"},teamFreeTrialPromoDisclaimer:{id:"promo.teamFreeTrial.disclaimer",defaultMessage:"*Billed as a {currencySign}0 flat fee up to 5 seats for the first month, after which regular pricing applies. Restrictions apply."},teamFreeTrialPromoDisclaimerWithPerSeatMonthlyPrice:{id:"promo.teamFreeTrial.disclaimerWithPerSeatMonthlyPrice",defaultMessage:"*Maximum 5 seats. Billed at {postTrialSeatPrice} seat/mo after 1 month. Limits apply."},teamFreeTrialPromoDisclaimerINR:{id:"promo.teamFreeTrial.teamFreeTrialPromoDisclaimerINR",defaultMessage:"*Billed as a â¹0 flat fee up to 5 seats for the first month, after which regular pricing applies. Restrictions apply."},teamFreeTrialPromoDisclaimerIDR:{id:"promo.teamFreeTrial.teamFreeTrialPromoDisclaimerIDR",defaultMessage:"*Billed as a Rp0 flat fee up to 5 seats for the first month, after which regular pricing applies. Restrictions apply."},teamFreeTrialPromoDisclaimerWithAmount:{id:"promo.teamFreeTrial.teamFreeTrialPromoDisclaimerWithAmount",defaultMessage:"*Billed as a {amount} flat fee up to 5 seats for the first month, after which regular pricing applies. Restrictions apply."},promoCostDuration:{id:"promo.teamFreeTrial.costDuration",defaultMessage:"for the first month"},teamFreeTrialNotEligible:{id:"promo.teamFreeTrial.notEligibleMessage",defaultMessage:"Sorry, you're not eligible for this promotional discount."},teamFreeTrialTemporarilyDisabled:{id:"promo.teamFreeTrial.temporarilyDisabled",defaultMessage:"This promotion is currently temporarily disabled. Please check back later."},teamFreeTrialOffline:{id:"promo.teamFreeTrial.offline",defaultMessage:"This promotion you are trying to use is offline or expired."},teamFreeTrialWelcomeOffer:{id:"promo.teamFreeTrial.welcomeOffer",defaultMessage:"WELCOME OFFER"}});function ka(t){const e=nlt({amount:t,roundToPrecision:2});return e%1===0?e.toFixed(0):e.toFixed(2)}const Mlt={standard:"border-s border-e border-t border-b border-token-border-default md:min-h-[30rem] md:max-w-96 md:rounded-none md:border-e-0 md:pb-6 md:first:rounded-ss-xl md:first:rounded-es-xl md:last:rounded-se-xl md:last:rounded-ee-xl md:last:border-e",promo:"shadow-lg md:min-h-[30rem] md:max-w-96 md:pb-6",highlight:"border-s border-e border-t border-b md:-mt-4 md:-mb-4 md:min-h-[20rem] md:max-w-96 md:pb-6 md:first:rounded-ss-xl md:first:rounded-es-xl md:last:rounded-se-xl md:last:rounded-ee-xl"};function Elt(i){var l=i,{children:t,className:e,type:n,isWebRedesign:r,isGoColumn:s}=l,a=de(l,["children","className","type","isWebRedesign","isGoColumn"]);const d=r?"relative flex flex-1 flex-col justify-center gap-4 rounded-xl px-6 py-6.5 text-sm md:rounded-2xl! md:border-e-1 md:border-b-1 md:border-t-1 md:border-s-1":"relative flex flex-1 flex-col justify-center gap-5 rounded-xl px-6 pt-6 pb-10 text-sm",v=U(r&&"border-[#CFCEFC] bg-[#F5F5FF] dark:bg-[#282841] dark:border-[#484777] md:mt-0 md:mb-0",!r&&s&&"border-token-border-default mr-[-1px]",!r&&!s&&"border-green-600 bg-green-600/5",r&&n==="promo"&&"border-token-border-light");return o.jsx("div",P(C({},a),{className:U(Mlt[n],["highlight","promo"].includes(n)&&v,d,e),children:t}))}var sK;const Oz=Ge.div(sK||(sK=qe(["\n  relative flex flex-col ","\n"])),t=>["highlight","promo"].includes(t.type)?"mt-4":"bg-token-main-surface-primary");var aK;const jlt=Ge.div(aK||(aK=qe(["flex flex-col grow gap-2"])));var oK;const Dz=Ge.div(oK||(oK=qe(["\n  relative flex flex-col text-xs text-token-text-secondary ","\n"])),t=>["highlight","promo"].includes(t.type)?"":"bg-token-main-surface-primary");function Tlt(t){return"referrer_name"in t}var Nlt=(t=>(t.standard="standard",t.promo="promo",t.highlight="highlight",t))(Nlt||{});const LTt=({planType:t,pricingPlan:e,callToActionButton:n,secondaryCallToActionButton:r=null,className:s,elementId:a,additionalLinks:i=[],promoMetadata:l=null,activeDiscountMetadata:c=null,billingDetails:u,promoData:d=null,type:f="standard",isWebRedesign:m,isGoColumn:p=!1,isBusinessUpgradeV2CopyEnabled:h=!1,useRecommendedBadge:v=!1,shouldUseComparisonSpacing:y=!1,paymentsOverrideString:x,isUnifiedPricingPage:b=!1})=>{var ye,_e,Ne,Ae,ot;const _=ha(),{costTitle:w,costSubtitle:S,currencySymbol:k}=j1e(e,u.currency),M=Z(),E=q(),j=ze(E,"3768341700").get("is_sku_info_code_enabled",!1),A=g.useMemo(()=>C(C({},Ilt(u.currency,u.country)),Llt(E,u.currency)),[E,u]),I=A.inclusiveTaxDisplay==="tax_name_only",L=A.inclusiveTaxDisplay==="with_amount",O=A.showReverseChargeDisclaimer,H=t===Re.SELF_SERVE_BUSINESS?uoe(u.currency):null,V=H==null?void 0:H.flexibleBillingPlan,z=mT(),$=(d==null?void 0:d.coupon)===I2&&d.state==="eligible",D=d&&l_(d.coupon)&&d.state==="eligible",Y=I&&t!==Re.FREE&&!$,G=L&&t!==Re.FREE&&!$,F=O&&t===Re.SELF_SERVE_BUSINESS&&!$;let X=w;if(($||D)&&V)X={id:"defaultTeamCost",defaultMessage:ka(V.monthlyCost).toString()};else if(t===Re.PLUS)switch(u.currency){case"INR":X={id:"defaultCostInINR",defaultMessage:ka(m$e).toString()};break;case"USD":{X={id:"defaultCostInDollars",defaultMessage:ka(Poe).toString()};break}case"EUR":{X={id:"defaultCostInEuros",defaultMessage:ka(f$e).toString()};break}case"GBP":{X={id:"defaultCostInPounds",defaultMessage:ka(d$e).toString()};break}case"IDR":{X={id:"defaultCostInIDR",defaultMessage:ka(p$e).toString()};break}}else if(t===Re.GO)switch(u.currency){case"INR":{X={id:"defaultCostInINR",defaultMessage:ka(g$e).toString()};break}case"USD":{X={id:"defaultCostInDollars",defaultMessage:ka(h$e).toString()};break}case"EUR":{X={id:"defaultCostInEuros",defaultMessage:ka(y$e).toString()};break}case"GBP":{X={id:"defaultCostInPounds",defaultMessage:ka(v$e).toString()};break}case"IDR":{X={id:"defaultCostInIDR",defaultMessage:ka(x$e).toString()};break}}const te=((_e=(ye=l==null?void 0:l.schedule)==null?void 0:ye.start_after_num_periods)!=null?_e:0)>0,ae=!!c||!!l&&!te,W=!x&&j&&d==null&&l==null&&e.cost.costDuration==null&&c==null?Rlt(t,u):null,{shouldHide:K}=mlt(),ne=d==null?void 0:d.coupon,re=g.useMemo(()=>ne===I2?{welcomeOffer:L2.team1dollarWelcomeOffer,notEligible:L2.team1dollarNotEligible,temporarilyDisabled:L2.team1dollarTemporarilyDisabled,offline:L2.team1dollarOffline}:ne&&l_(ne)?{welcomeOffer:R2.teamFreeTrialWelcomeOffer,notEligible:R2.teamFreeTrialNotEligible,temporarilyDisabled:R2.teamFreeTrialTemporarilyDisabled,offline:R2.teamFreeTrialOffline}:null,[ne]),le=(d==null?void 0:d.coupon)===I2&&d.state==="eligible";let fe=null,ge=null;return d&&(d.coupon===I2||l_(d.coupon))&&(d.state==="eligible"?ge=re==null?void 0:re.welcomeOffer:d.state==="not_eligible"&&!K?fe=o.jsx("div",{className:"mb-3 w-full","data-testid":"pricing-modal-promo-banner",children:o.jsx("div",{className:"rounded bg-gray-50 px-3 py-2 text-sm text-gray-900",children:o.jsx(N,C({},re==null?void 0:re.notEligible))})}):d.state==="temporary_disabled"&&!K?fe=o.jsx("div",{className:"mb-3 w-full","data-testid":"pricing-modal-promo-banner",children:o.jsx("div",{className:"rounded bg-gray-50 px-3 py-2 text-sm text-gray-500",children:o.jsx(N,C({},re==null?void 0:re.temporarilyDisabled))})}):d.state==="offline"&&!K&&(fe=o.jsx("div",{className:"mb-3 w-full","data-testid":"pricing-modal-promo-banner",children:o.jsx("div",{className:"rounded bg-gray-50 px-3 py-2 text-sm text-gray-900",children:o.jsx(N,C({},re==null?void 0:re.offline))})}))),o.jsxs(Elt,{className:U(m&&!["promo","highlight"].includes(f)&&"bg-token-main-surface-primary",y&&"md:max-w-117",s),"data-testid":"".concat(t,"-pricing-modal-column"),id:a,type:f,isWebRedesign:m,isGoColumn:p,children:[fe,o.jsxs(Oz,{type:f,className:m?"mt-0":"",children:[o.jsxs("div",{className:U("flex flex-col gap-1",m&&"gap-5 rounded-2xl"),children:[o.jsxs("p",{className:U("flex items-center gap-2",m?"justify-between text-[28px] font-medium":"text-2xl font-semibold"),children:[o.jsx(N,C({},e.name)),o.jsx(wlt,{useRecommendedBadge:v,isWebRedesign:m,activeDiscountMetadata:c,promoMetadata:l,type:f,planType:t,welcomeOfferLabel:ge,currencySymbol:k,isScheduledPromo:te})]}),x&&o.jsx("span",{className:"text-token-text-primary text-base text-[42px] leading-[48px]",children:M.formatMessage(x)}),!x&&o.jsxs("div",{className:"flex items-end gap-1.5","data-testid":"".concat(t,"-pricing-column-cost"),children:[o.jsx(Fz,{costTitle:X,currencySymbol:k,isStrikethrough:ae,priceDetail:W==null?void 0:W.priceDetails,isWebRedesign:m}),ae?o.jsx(Fz,{costTitle:w,currencySymbol:k,isWebRedesign:m}):null,o.jsx("div",{className:"flex items-baseline gap-1.5",children:o.jsxs("div",{className:"mt-auto mb-0.5 flex h-full flex-col items-start",children:[o.jsxs("p",{className:U("text-token-text-secondary w-full text-xs",m&&"text-[11px]"),children:[!le&&o.jsx(N,{id:"PricingModalColumn.currencyCodeWithSlash",defaultMessage:"{currencyCode} / ",values:{currencyCode:M.formatMessage(k.code)}}),l&&!c&&(Y?o.jsx(N,C({},Ys.frequencyWithVATInformation)):G?o.jsx(N,P(C({},Ys.frequencyWithVATInformationIncludingAmount),{values:{vat_amount:M.formatNumber(Rz(Number((Ne=w.defaultMessage)==null?void 0:Ne.toString().replaceAll("*","")),u.country),{style:"currency",currency:M.formatMessage(k.code),minimumFractionDigits:2,maximumFractionDigits:2})}})):le?o.jsx(o.Fragment,{}):o.jsx(N,C({},Ys.frequency))),(!c||Y||G)&&o.jsx("br",{}),l&&!c?o.jsx(N,C({},e.cost.costDuration)):le?o.jsx(o.Fragment,{}):W?o.jsx(Olt,{priceDetails:W.priceDetails,taxDetails:W.taxDetails,priceDisplayOptions:A}):Y?o.jsx(N,C({},Ys.frequencyWithVATInformation)):G?o.jsx(N,P(C({},Ys.frequencyWithVATInformationIncludingAmount),{values:{vat_amount:M.formatNumber(Rz(Number((Ae=w.defaultMessage)==null?void 0:Ae.toString().replaceAll("*","")),u.country),{style:"currency",currency:M.formatMessage(k.code),minimumFractionDigits:2,maximumFractionDigits:2})}})):o.jsx(N,C({},Ys.frequency))]}),o.jsx("p",{className:"text-token-text-secondary text-xs",children:c&&c.discount.expires_at&&o.jsx(N,P(C({},Ys.remainingDiscountDate),{values:{remaining_discount_date:c.discount.expires_at}}))})]})})]})]}),!x&&S&&_?o.jsx("p",{className:"text-token-text-tertiary mt-6 mb-3 text-sm","data-testid":"".concat(t,"-pricing-column-cost-subtitle"),children:o.jsx(N,C({},S))}):null,e.summary?o.jsx("p",{className:U("text-token-text-primary text-base",m?U("mt-4 font-medium",(y||b)&&"md:min-h-12"):"me-2 mt-2"),"data-testid":"".concat(t,"-pricing-column-cost-summary"),children:o.jsx(N,C({},e.summary))}):null]}),o.jsx("div",{className:U(m&&"mb-2.5 w-full"),children:n}),r&&o.jsx(Oz,{type:f,className:"-mt-2",children:r}),o.jsx(jlt,{children:o.jsx(blt,{advertisedFeatures:e.advertisedFeatures,pricingModalColumnType:f,isWebRedesign:m,isTeamColumn:t===Re.SELF_SERVE_BUSINESS,isBusinessUpgradeV2CopyEnabled:h})}),l&&Tlt(l)&&(l==null?void 0:l.referrer_name)&&o.jsx("div",{className:"flex w-full items-center justify-center rounded-md border-[1px] border-[#AF52DE] bg-[#8C43A00D] py-2 text-center",children:o.jsx("span",{className:"text-l text-[#AF52DE]",children:o.jsx(N,{id:"PricingModalColumn.referredBy",defaultMessage:"{referrer_name} gave you 1 month of free Plus",values:{referrer_name:l==null?void 0:l.referrer_name}})})}),o.jsxs("div",{children:[i.length>0&&o.jsx(Dz,{type:f,className:U(m&&"gap-0.5 pt-3"),children:i.map((gt,Pe)=>o.jsx("div",{children:gt},Pe))}),e.disclaimer&&o.jsxs(Dz,{type:f,className:U(m?"px-1":"px-2",m&&!(i!=null&&i.length)&&"pt-3",m&&(i==null?void 0:i.length)&&"mt-0.5"),children:[o.jsx("div",{children:o.jsx(N,P(C({},e.disclaimer),{values:{link:gt=>{var Pe,Ie;return o.jsx(mr,{className:U("underline",m&&"font-medium"),target:"_blank",rel:"noreferrer",to:(Ie=(Pe=e.disclaimer)==null?void 0:Pe.link)!=null?Ie:"",children:gt})},minSeats:z,article:gt=>{var Pe,Ie;return o.jsx(mr,{className:U("underline",m&&"font-medium"),target:"_blank",rel:"noreferrer",to:(Ie=(Pe=e==null?void 0:e.disclaimer)==null?void 0:Pe.article)!=null?Ie:"",children:gt})},currencySign:M.formatMessage(k.sign),postTrialSeatPrice:D&&V?M.formatNumber(V.monthlyCost,{style:"currency",currency:u.currency,trailingZeroDisplay:"stripIfInteger"}):void 0}}))}),e.disclaimer2&&!b&&o.jsx("div",{children:o.jsx(N,P(C({},e.disclaimer2),{values:{link:gt=>{var Pe,Ie;return o.jsx(mr,{className:U("underline",m&&"font-medium"),target:"_blank",rel:"noreferrer",to:(Ie=(Pe=e.disclaimer2)==null?void 0:Pe.link)!=null?Ie:"",children:gt})}}}))}),F&&(W?((ot=W.taxDetails)==null?void 0:ot.reverseChargeEligible)&&o.jsx("div",{children:o.jsx(N,P(C({},Ys.reverseChargeTaxDisclaimer),{values:{tax_type:W.taxDetails.taxName}}))}):o.jsx("div",{children:o.jsx(N,C({},Ys.teamPricingVATDisclaimer))}))]})]})]})};function Fz({costTitle:t,currencySymbol:e,isStrikethrough:n=!1,priceDetail:r,isWebRedesign:s}){return r?o.jsx(Plt,{priceDetail:r,isStrikethrough:n,isWebRedesign:s}):o.jsxs("div",{className:U("flex",{"text-token-text-primary":!n,"text-token-text-tertiary":n}),children:[o.jsx("div",{className:U("text-2xl text-gray-500",s&&"text-secondary text-xl"),children:o.jsx(N,C({},e.sign))}),o.jsx("div",{className:U("text-5xl",{"line-through":n}),children:o.jsx(N,C({},t))})]})}function Alt(t,e){return t===vo?"id-ID":e}function Plt({priceDetail:t,isStrikethrough:e=!1,isWebRedesign:n}){var u;const r=Z(),s={style:"currency",currency:t.currency,currencyDisplay:"narrowSymbol",trailingZeroDisplay:"stripIfInteger"},a=Alt(t.currency,r.locale),i=new Intl.NumberFormat(a,s).formatToParts(t.amount),l=(u=i.find(d=>d.type==="currency"))==null?void 0:u.value,c=i.filter(d=>d.type!=="currency").map(d=>d.value).join("");return o.jsxs("div",{className:U("flex",{"text-token-text-primary":!e,"text-token-text-tertiary":e}),children:[o.jsx("div",{className:U("text-2xl text-gray-500",n&&"text-secondary text-xl"),children:l}),o.jsx("div",{className:U("text-5xl",{"line-through":e}),children:c})]})}function Ilt(t,e){const n={inclusiveTaxDisplay:"none",exclusiveTaxDisplay:"none",showReverseChargeDisclaimer:!1};switch(t){case"EUR":case"GBP":return Vhe(e)?n:{inclusiveTaxDisplay:"with_amount",exclusiveTaxDisplay:"tax_name_only",showReverseChargeDisclaimer:!0};case"INR":return{inclusiveTaxDisplay:"tax_name_only",exclusiveTaxDisplay:"tax_name_only",showReverseChargeDisclaimer:!0};case"IDR":return{inclusiveTaxDisplay:"tax_name_only",exclusiveTaxDisplay:"tax_name_only",showReverseChargeDisclaimer:!1};default:return n}}function Llt(t,e){const n=ze(t,"3768341700"),r=n.get("is_vat_information_enabled",!1),s=n.get("is_vat_information_with_amount_enabled",!0),a=n.get("is_team_pricing_vat_disclaimer_enabled",!1);return e===ho?r?{inclusiveTaxDisplay:"tax_name_only",exclusiveTaxDisplay:"tax_name_only",showReverseChargeDisclaimer:a}:s?{inclusiveTaxDisplay:"with_amount",exclusiveTaxDisplay:"tax_name_only",showReverseChargeDisclaimer:a}:{inclusiveTaxDisplay:"none",exclusiveTaxDisplay:"none",showReverseChargeDisclaimer:a}:{}}function Rlt(t,e){const n=alt(t,e.currency,t==="team"?Xt.Year:Xt.Month),r=e.country?olt(e.country,n):null;return{priceDetails:n,taxDetails:r}}function Olt({priceDetails:t,taxDetails:e,priceDisplayOptions:n}){var i;const r=Z(),s={tax_type:(i=e==null?void 0:e.taxName)!=null?i:"tax",tax_behavior:t.amountTaxBehavior,tax_amount:(e==null?void 0:e.taxAmount)&&r.formatNumber(e.taxAmount,{style:"currency",currency:t.currency,currencyDisplay:"narrowSymbol",trailingZeroDisplay:"stripIfInteger"})};let a;return e==null||e.taxAmount===0?a="none":a=t.amountTaxBehavior===en.Inclusive?n.inclusiveTaxDisplay:n.exclusiveTaxDisplay,o.jsx(N,P(C({},Dlt({displayOption:a})),{values:s}))}function Dlt({displayOption:t}){switch(t){case"none":return Ys.frequency;case"tax_name_only":return Ys.subscriptionFrequencyTaxInformation;case"with_amount":return Ys.subscriptionFrequencyTaxInformationWithAmount}}function j1e(t,e){return e===vi?{costTitle:t.cost.costInEuros,costSubtitle:t.cost.costInEurosSubtitle,currencySymbol:Pd}:e===yi?{costTitle:t.cost.costInPounds,costSubtitle:t.cost.costInPoundsSubtitle,currencySymbol:Id}:e===ho?{costTitle:t.cost.costInINR,costSubtitle:t.cost.costInINRSubtitle,currencySymbol:Ld}:e===vo?{costTitle:t.cost.costInIDR,costSubtitle:t.cost.costInIDRSubtitle,currencySymbol:Rd}:{costTitle:t.cost.costInDollars,costSubtitle:t.cost.costInDollarsSubtitle,currencySymbol:Od}}const Ys=pe({frequency:{id:"frequency",defaultMessage:"month"},frequencyWithVATInformation:{id:"frequencyWithVATInformation",defaultMessage:"month (including VAT)"},frequencyWithVATInformationIncludingAmount:{id:"frequencyWithVATInformationIncludingAmount",defaultMessage:"month (includes {vat_amount} of VAT)"},teamPricingVATDisclaimer:{id:"pricingPlanConstants.teams.teamPricingVATDisclaimer",defaultMessage:"VAT excluded at checkout with valid VAT ID"},remainingDiscountDate:{id:"remainingDiscountDate",defaultMessage:"until {remaining_discount_date}"},subscriptionFrequencyTaxInformation:{id:"PricingModalColumn.subscriptionFrequencyTaxInformation",defaultMessage:"month ({tax_behavior, select, inclusive {inclusive of} exclusive {exclusive of} other {exclusive of} } {tax_type, select, gst {GST} vat {VAT} other {tax} })"},subscriptionFrequencyTaxInformationWithAmount:{id:"PricingModalColumn.subscriptionFrequencyTaxInformationWithAmount",defaultMessage:"month ({tax_behavior, select, inclusive {includes} exclusive {plus} other {plus} } {tax_amount} of {tax_type, select, gst {GST} vat {VAT} other {tax} })"},reverseChargeTaxDisclaimer:{id:"PricingModalColumn.reverseChargeTaxDisclaimer",defaultMessage:"{tax_type, select, gst {GST} vat {VAT} other {Tax} } excluded at checkout with a valid {tax_type, select, gst {GST} vat {VAT} other {tax} } ID"}});function Bz(){return Bz=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bz.apply(null,arguments)}function RTt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ik(t,e){return ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ik(t,e)}function OTt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ik(t,e)}var Uz=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Flt(t,e){return!!(t===e||Uz(t)&&Uz(e))}function Blt(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Flt(t[n],e[n]))return!1;return!0}function DTt(t,e){e===void 0&&(e=Blt);var n,r=[],s,a=!1;function i(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return a&&n===this&&e(l,r)||(s=t.apply(this,l),a=!0,n=this,r=l),s}return i}const FTt="promoCode",BTt=t=>{var l,c,u;const{data:e,isLoading:n}=ut({enabled:!!t,queryKey:["promotionEligibility",t],queryFn:()=>ue.safeGet("/promotions/eligibility/{promo_code}",{parameters:{path:{promo_code:t}}})}),{data:r,isLoading:s}=ut({enabled:!!t&&(e==null?void 0:e.is_eligible),queryKey:["promotionMetadata",t],queryFn:()=>ue.safeGet("/promotions/metadata/{promo_code}",{parameters:{path:{promo_code:t}}})}),a=n||s,i=(e==null?void 0:e.ineligible_reason)&&(e&&!e.is_eligible&&(l=e.ineligible_reason)!=null?l:null);return{isEligible:(c=e==null?void 0:e.is_eligible)!=null?c:!1,isPromoLoading:a,promoCode:t,promoError:i,promoMetadata:(u=r==null?void 0:r.metadata)!=null?u:null}},na=window.localStorage,Hz=Rt(Sn(()=>{var n;const t=(n=na==null?void 0:na.getItem(et.NoAuthBannerDisclaimerClientThreadId))!=null?n:null,e=(na==null?void 0:na.getItem(et.NoAuthHasAcceptedFooterDisclaimer))==="true";return{bannerDisclaimerClientThreadId:t,hasAcceptedFooterDisclaimer:e}})),T1e={updateBannerDisclaimerClientThreadId(t){Hz.setState(e=>{e.bannerDisclaimerClientThreadId=t}),na==null||na.setItem(et.NoAuthBannerDisclaimerClientThreadId,t)},updateHasAcceptedFooterDisclaimer(){Hz.setState(t=>{t.hasAcceptedFooterDisclaimer=!0}),na==null||na.setItem(et.NoAuthHasAcceptedFooterDisclaimer,"true")}},c_=t=>{"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=o.jsx("div",{className:"pointer-events-auto",children:n}),e[0]=n,e[1]=r):r=e[1],r};function UTt({clientThreadId:t}){const e=$Q(t);return e!=null?o.jsx(Ult,{clientThreadId:t,gizmoId:e}):o.jsx(N1e,{clientThreadId:t})}function Ult({clientThreadId:t,gizmoId:e}){const n=Ya(e).data,r=Te(t,se.getThreadCreateTime),s=(n==null?void 0:n.gizmo.updated_at)!=null?new Date(n.gizmo.updated_at):void 0;return(n==null?void 0:n.gizmo.gizmo_type)===Td.PROJECT||(n==null?void 0:n.gizmo.short_url)==null||s==null||r==null||s<=r?o.jsx(N1e,{clientThreadId:t}):o.jsxs("div",{className:"text-token-text-tertiary",children:[o.jsx(V4,{className:"text-token-secondary me-1 mb-1 inline-block h-4 w-4 stroke-0"}),o.jsx(N,P(C({},Ar.outdatedGptDisclaimer),{values:{link:a=>o.jsx(mr,{to:jM(n.gizmo.short_url),className:"underline",children:a},"gizmo-link-".concat(n.gizmo.short_url)),bold:a=>o.jsx("span",{className:"text-token-secondary font-semibold",children:a},"gizmo-bold-".concat(n.gizmo.short_url))}}))]})}function N1e({clientThreadId:t}){const e=q(),n=yt(e),r=Mr(),s=!Et(e),a=Zi.useStore(),i=Te(t,se.hasUserMessage);if(n!=null&&n.isWorkspaceAccount()){if(r==null)return null;if(ie(e,"2462890004"))return o.jsx(c_,{children:r.name!=null?o.jsx(N,P(C({},Ar.earlyAccessBusinessDisclaimer),{values:{workspaceName:r.name}})):o.jsx(N,C({},Ar.earlyAccessBusinessDisclaimerNoName))});const c=r.data.ekmConfig!=null;return o.jsx(c_,{children:c?r.name!=null?o.jsx(N,P(C({},Ar.businessDisclaimerWithEncryption),{values:{workspaceName:r.name}})):o.jsx(N,C({},Ar.businessDisclaimerWithEncryptionNoName)):r.name!=null?o.jsx(N,P(C({},Ar.businessDisclaimer),{values:{workspaceName:r.name}})):o.jsx(N,C({},Ar.businessDisclaimerNoName))})}if(s&&!i)return o.jsx(fA,{clientThreadId:t});let l=Ar.mayProduceInaccurateInformation;return KN(e,n)&&(l=Ar.mayProduceInaccurateInformationWithCookieConsent),o.jsx(c_,{children:o.jsx(N,P(C({},l),{values:{cookiePreferencesLink:c=>o.jsx("a",{onClick:u=>{u.preventDefault(),B.logEventWithStatsig("Footer Disclaimer Cookie Preferences Link Clicked","chatgpt_footer_disclaimer_cookie_preferences_link_clicked",{isAuthenticated:!0}),a.openModal()},className:"text-token-text-primary decoration-token-text-primary cursor-pointer underline",children:c})}}))})}function fA({clientThreadId:t,variant:e="default"}){const n=q(),r=yt(n),{country:s}=wf();let a=e==="default"?s==="KR"?Ar.mayProduceInaccurateInformationNoAuthKorea:Ar.mayProduceInaccurateInformationNoAuthV2:s==="KR"?Ar.agreeToTermsNoAuthKorea:Ar.agreeToTermsNoAuthV2;const l=ze(n,"3533083032",{disableExposureLog:!0}).get("disclaimer_color_adjust",!1),c=Zi.useStore();return KN(n,r)&&(a=e==="default"?s==="KR"?Ar.mayProduceInaccurateInformationNoAuthKoreaWithCookieConsent:Ar.mayProduceInaccurateInformationNoAuthV2WithCookieConsent:s==="KR"?Ar.agreeToTermsNoAuthKoreaWithCookieConsent:Ar.agreeToTermsNoAuthV2WithCookieConsent),g.useEffect(()=>()=>{se.hasUserMessage(st(t))&&T1e.updateHasAcceptedFooterDisclaimer()},[t]),o.jsx("span",{className:U("pointer-events-auto text-sm",e==="byContinuing"?void 0:"leading-none"),children:o.jsx(N,P(C({},a),{values:{privacyLink:u=>o.jsx("a",{href:"https://openai.com/privacy",target:"_blank",className:U(l?"text-token-text-secondary":"text-token-text-primary","decoration-token-text-primary underline"),onClick:()=>{Le.logEvent("chatgpt_footer_disclaimer_privacy_link_clicked"),B.logEvent("Footer Disclaimer Privacy Link Clicked")},rel:"noreferrer",children:u},"privacy_link"),termsLink:u=>o.jsx("a",{href:"https://openai.com/terms",target:"_blank",className:U(l?"text-token-text-secondary":"text-token-text-primary","decoration-token-text-primary underline"),onClick:()=>{Le.logEvent("chatgpt_footer_disclaimer_terms_link_clicked"),B.logEvent("Footer Disclaimer Terms Link Clicked")},rel:"noreferrer",children:u},"terms_link"),koreaAddendumLink:u=>o.jsx("a",{href:"https://openai.com/ko/policies/kr-privacy-policy-addendum",target:"_blank",className:"text-token-text-primary decoration-token-text-primary underline",onClick:()=>{Le.logEvent("chatgpt_footer_disclaimer_korea_addendum_link_clicked"),B.logEvent("Footer Disclaimer Korea Addendum Link Clicked")},rel:"noreferrer",children:u},"addendum_link"),cookiePreferencesLink:u=>o.jsx("a",{onClick:d=>{d.preventDefault(),c.openModal(),B.logEventWithStatsig("Footer Disclaimer Cookie Preferences Link Clicked","chatgpt_footer_disclaimer_cookie_preferences_link_clicked",{isAuthenticated:!1})},className:"text-token-text-primary decoration-token-text-primary cursor-pointer underline",children:u},"cookie_preferences_link")}}))})}const Ar=pe({mayProduceInaccurateInformation:{id:"thread.chatgptMayProduceInaccurateInformation-oct-30",defaultMessage:"ChatGPT can make mistakes. Check important info."},mayProduceInaccurateInformationWithCookieConsent:{id:"thread.chatgptMayProduceInaccurateInformationWithCookieConsent-may-12",defaultMessage:"ChatGPT can make mistakes. Check important info. See <cookiePreferencesLink>Cookie Preferences</cookiePreferencesLink>."},mayProduceInaccurateInformationNoAuthV2:{id:"thread.chatgptMayProduceInaccurateInformationNoAuth-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink>."},agreeToTermsNoAuthV2:{id:"thread.agreeToTermsNoAuth-may-06",defaultMessage:"By continuing, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink>."},mayProduceInaccurateInformationNoAuthV2WithCookieConsent:{id:"thread.chatgptMayProduceInaccurateInformationNoAuthV2WithCookieConsent-may-12",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink>. See <cookiePreferencesLink>Cookie Preferences</cookiePreferencesLink>."},agreeToTermsNoAuthV2WithCookieConsent:{id:"thread.agreeToTermsNoAuthV2WithCookieConsent-may-12",defaultMessage:"By continuing, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink>. See <cookiePreferencesLink>Cookie Preferences</cookiePreferencesLink>."},mayProduceInaccurateInformationNoAuthKorea:{id:"thread.chatgptMayProduceInaccurateInformationNoAuthKorea-may-06",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink> and its <koreaAddendumLink>Korea addendum</koreaAddendumLink>."},agreeToTermsNoAuthKorea:{id:"thread.agreeToTermsNoAuthKorea-may-06",defaultMessage:"By continuing, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink> and its <koreaAddendumLink>Korea addendum</koreaAddendumLink>."},mayProduceInaccurateInformationNoAuthKoreaWithCookieConsent:{id:"thread.chatgptMayProduceInaccurateInformationNoAuthKoreaWithCookieConsent-may-12",defaultMessage:"By messaging ChatGPT, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink> and its <koreaAddendumLink>Korea addendum</koreaAddendumLink>. See <cookiePreferencesLink>Cookie Preferences</cookiePreferencesLink>."},agreeToTermsNoAuthKoreaWithCookieConsent:{id:"thread.agreeToTermsNoAuthKoreaWithCookieConsent-may-12",defaultMessage:"By continuing, you agree to our <termsLink>Terms</termsLink> and have read our <privacyLink>Privacy Policy</privacyLink> and its <koreaAddendumLink>Korea addendum</koreaAddendumLink>. See <cookiePreferencesLink>Cookie Preferences</cookiePreferencesLink>."},businessDisclaimer:{id:"thread.businessDisclaimer-jan-17",defaultMessage:"ChatGPT can make mistakes. OpenAI doesn't use {workspaceName} workspace data to train its models."},businessDisclaimerNoName:{id:"thread.businessDisclaimerNoName-jan-17",defaultMessage:"ChatGPT can make mistakes. OpenAI doesn't use your workspace data to train its models."},businessDisclaimerWithEncryption:{id:"thread.businessDisclaimerWithEncryption-jan-17",defaultMessage:"ChatGPT can make mistakes. OpenAI doesn't use {workspaceName} workspace data to train its models. The content of this workspace is encrypted with your organization managed keys."},businessDisclaimerWithEncryptionNoName:{id:"thread.businessDisclaimerWithEncryptionNoName-jan-17",defaultMessage:"ChatGPT can make mistakes. OpenAI doesn't use your workspace data to train its models. The content of this workspace is encrypted with your organization managed keys."},outdatedGptDisclaimer:{id:"thread.outdatedGptDisclaimer.0",defaultMessage:"<bold>New version of GPT available</bold> - Continue chatting to use the old version, or start a <link>new chat</link> for the latest version."},earlyAccessBusinessDisclaimer:{id:"thread.earlyAccessBusinessDisclaimer",defaultMessage:"ChatGPT can make mistakes. OpenAI uses {workspaceName} workspace data to train its models."},earlyAccessBusinessDisclaimerNoName:{id:"thread.earlyAccessBusinessDisclaimerNoName",defaultMessage:"ChatGPT can make mistakes. OpenAI uses your workspace data to train its models."}});function HTt({threadId:t}){const e=q(),n=Z(),[r,s]=g.useState(!1);g.useEffect(()=>{T1e.updateBannerDisclaimerClientThreadId(t),Le.logEvent("chatgpt_unauthenticated_legal_banner"),B.logEvent("Unauthenticated Legal Banner",{threadId:t})},[t]);const a=MY(e)?Oi.bannerTermsDisclaimer:Oi.bannerTermsDisclaimerSafetyAndAbuse;return r?null:o.jsx(xn,{onDismiss:()=>{s(!0),B.logEventWithStatsig("Unauthenticated Legal Banner Dismissed Clicked","chatgpt_unauthenticated_legal_banner_dismissed")},content:o.jsxs(o.Fragment,{children:[o.jsx(fA,{clientThreadId:t}),o.jsx("br",{}),n.formatMessage(a,{learnMoreLink:i=>o.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",className:"text-token-text-primary underline",onClick:()=>{Le.logEvent("chatgpt_unauthenticated_banner_learn_more_clicked"),B.logEvent("Unauthenticated Signup Banner Learn More Clicked",{threadId:t})},children:i})})]})})}function VTt({threadId:t,showLogin:e=!0}){const n=q(),r=Z(),a=ze(n,"2118136551").get("sign_up_button_has_the_word_free",!0);return g.useEffect(()=>{Le.logEvent("chatgpt_unauthenticated_signup_banner"),B.logEvent("Unauthenticated Signup Banner",{threadId:t})},[t]),o.jsx(xn,{content:r.formatMessage(Oi.bannerSignup),onPrimaryCtaClick:()=>{dn(n,{fallbackScreenHint:"signup",callback:i=>{Le.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),B.logSignUpButtonClicked({location:"Chat Stage Signup Banner",provider:i})}})},primaryCtaText:r.formatMessage(a?Oi.bannerSignupButtonWithFree:Oi.bannerSignupButton),onSecondaryCtaClick:e?()=>{dn(n,{fallbackScreenHint:"login",callback:i=>{Le.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),B.logLogInButtonClicked({location:"Chat Stage Signup Banner",provider:i})}})}:void 0,secondaryCtaText:e?r.formatMessage(tn.logInButtonText):void 0})}function $Tt({threadId:t,showSignUp:e}){const n=q(),r=Z(),a=ze(n,"2118136551").get("sign_up_button_has_the_word_free",!0);return g.useEffect(()=>{Le.logEvent("chatgpt_unauthenticated_login_banner"),B.logEvent("Unauthenticated Login Banner",{threadId:t})},[t]),o.jsx(xn,{content:r.formatMessage(Oi.bannerSignup),onPrimaryCtaClick:()=>{dn(n,{fallbackScreenHint:"login",callback:i=>{Le.logEvent("chatgpt_unauthenticated_banner_login_button_clicked"),B.logLogInButtonClicked({location:"Chat Stage Login Banner",provider:i})}})},primaryCtaText:r.formatMessage(tn.logInButtonText),onSecondaryCtaClick:e?()=>{dn(n,{fallbackScreenHint:"signup",callback:i=>{Le.logEvent("chatgpt_unauthenticated_banner_signup_button_clicked"),B.logSignUpButtonClicked({location:"Chat Stage Login Banner",provider:i})}})}:void 0,secondaryCtaText:e?a?r.formatMessage(Oi.bannerSignupButtonWithFree):r.formatMessage(Oi.bannerSignupButton):void 0})}const Oi=pe({bannerTermsDisclaimer:{id:"bannerTermsDisclaimer",defaultMessage:"Don't share sensitive info. Chats may be reviewed and used to train our models. <learnMoreLink>Learn more</learnMoreLink>"},bannerTermsDisclaimerSafetyAndAbuse:{id:"pDsoLk",defaultMessage:"Don't share sensitive information. Chats may be reviewed for safety and abuse prevention. <learnMoreLink>Learn more</learnMoreLink>"},bannerSignup:{id:"4qlPtW",defaultMessage:"Get smarter responses, upload files and images, and more."},bannerSignupButton:{id:"hedgehog.banner_signup_button",defaultMessage:"Sign up"},bannerSignupButtonWithFree:{id:"xL5gsL",defaultMessage:"Sign up for free"}});function qTt({threadId:t}){const e=Z(),{isOpen:n,close:r,markViewedInClientThreadId:s,viewedInClientThreadId:a}=zne(),{setHasSeenOnboarding:i}=Ij(),l=Hlt();return g.useEffect(()=>{a?kt(a)!==kt(t)&&(l&&i(),r()):(s(t),B.logEventWithStatsig("New User Legal Banner Shown","chatgpt_new_user_legal_banner_shown",{threadId:t}))},[t,a,r,s,l,i]),n?o.jsx(xn,{onDismiss:()=>{l&&i(),r(),B.logEventWithStatsig("New User Legal Banner Dismissed Clicked","chatgpt_new_user_legal_banner_dismissed")},content:o.jsxs(o.Fragment,{children:[o.jsx(fA,{clientThreadId:t}),o.jsx("br",{}),e.formatMessage(Oi.bannerTermsDisclaimer,{learnMoreLink:c=>o.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",className:"text-token-text-primary underline",onClick:()=>{B.logEventWithStatsig("New User Legal Banner Learn More Clicked","chatgpt_new_user_legal_banner_learn_more_clicked",{threadId:t})},children:c})})]})}):null}function Hlt(){const t=q();return ze(t,"109457",{disableExposureLog:!0}).get("is_new_user_banner_disclaimer_enabled",!1)}const Vz={logCouponCheck(t,e){Me.count(Ee.TEAMS,"promo_campaign.web.check_coupon",[{key:"coupon",value:t},{key:"outcome",value:e}]),B.logEvent("Promo Campaign: Check Coupon",{coupon:t,outcome:e})},logCouponApplied(t){Me.count(Ee.TEAMS,"promo_campaign.web.coupon_applied",[{key:"coupon",value:t}]),B.logEvent("Promo Campaign: Coupon Applied",{coupon:t})}},Vlt=t=>{var e,n,r,s,a;return P(C({},t),{redeemed_at:(e=t.redeemed_at)!=null?e:null,user_redeemed_at:(n=t.user_redeemed_at)!=null?n:null,workspace_redeemed_at:(r=t.workspace_redeemed_at)!=null?r:null,promotion_length_days:(s=t.promotion_length_days)!=null?s:null,expires_at:(a=t.expires_at)!=null?a:null})},$lt=t=>({coupon:t.coupon,state:t.state,redemption:t.redemption?Vlt(t.redemption):null}),qlt=t=>{const e=ut({queryKey:["promoCampaignEligibility",t],queryFn:async()=>{const n=await ue.safeGet("/promo_campaign/check_coupon",{parameters:{query:{coupon:t}},authOption:qt.SendIfAvailable});return $lt(n)},enabled:!!t});return g.useEffect(()=>{e.isSuccess&&e.data?Vz.logCouponCheck(t,e.data.state):e.isError&&Vz.logCouponCheck(t,"error")},[e.isSuccess,e.isError,e.data,t]),e},lk=25,zlt=lk/100,Glt="team_seats_promo";function A1e(t){return t==null||!Number.isFinite(t)?null:Math.ceil(t*zlt)}function zTt(t){const{data:e}=qlt(Glt),n=(e==null?void 0:e.state)==="eligible",r=g.useMemo(()=>A1e(t),[t]);return g.useMemo(()=>{const s=e!=null?e:null,a=n&&r!=null?r:null;return{eligible:n,seatThresholdGap:a,promoEligibility:s}},[e,n,r])}function GTt(){const t=it(),{markAsViewed:e}=$e(We.hasSeenTeamSeatsPromoAnnouncement),{data:n}=Qae(),r=n==null?void 0:n.seats_entitled,s=g.useMemo(()=>A1e(r),[r]);return g.useEffect(()=>{Me.count(Ee.TEAMS,"teams.web.teamSeatsPromo.impressionAnnouncementBanner"),B.logEvent("Teams: Show Team Seats Promo Announcement Banner")},[]),s==null?null:o.jsx(xn,{icon:o.jsx(Ure,{className:"h-6 w-6 text-[#4338CA]","aria-hidden":"true"}),title:o.jsx(N,{id:"components.pricing.teams.teamSeatsPromoAnnouncement.title.withThreshold",defaultMessage:"Add {seatsCount, plural, one {# seat} other {# seats}}, get {discount}% off",values:{discount:lk,seatsCount:s}}),content:o.jsx(N,{id:"components.pricing.teams.teamSeatsPromoAnnouncement.content.withThreshold",defaultMessage:"Invite team members to work with you in ChatGPT and save {discount}% for a month when you add {seatsCount, plural, one {# seat} other {# seats}}.",values:{discount:lk,seatsCount:s}}),primaryCtaColor:"purple",className:"border-[#DDD8FF] bg-[#F2F0FF]",primaryCtaText:o.jsx(N,{id:"components.pricing.teams.teamSeatsPromoAnnouncement.primaryCta",defaultMessage:"Add Seats"}),onPrimaryCtaClick:()=>{Me.count(Ee.TEAMS,"teams.web.teamSeatsPromo.clickAnnouncementBannerPrimaryCta"),B.logEvent("Teams: Click Team Seats Promo Announcement Banner"),e(),t("/admin/billing")},onDismiss:()=>{Me.count(Ee.TEAMS,"teams.web.teamSeatsPromo.dismissAnnouncementBanner"),B.logEvent("Teams: Close Team Seats Promo Announcement Banner"),e()}})}function Wlt(){const t=q();return ie(t,"878458344")}const WTt=t=>{const e=Wlt(),{eligible:n}=$e(We.hasSeenTeamsContextualAnswersUpsell),r=Wt(),s=r!=null&&$he(r),i=!!Te(t,c=>se.findNode(c,u=>u.message.author.role===Ue.Tool&&u.message.author.name===vs.MYFILES_BROWSER));return e&&n&&s&&i};function ZTt(){const t=it(),{markAsViewed:e}=$e(We.hasSeenTeamsContextualAnswersUpsell);return g.useEffect(()=>{Me.count(Ee.TEAMS,"teams.web.caUpsell.impressionAnnouncementBanner"),B.logEvent("Teams: Show CA Upsell Announcement Banner")},[]),o.jsx(xn,{title:o.jsx(N,{id:"components.pricing.teams.contextualUpsellAnnouncement.title",defaultMessage:"Connect to Google Drive directly with the Business plan"}),content:o.jsx(N,{id:"components.pricing.teams.contextualUpsellAnnouncement.content",defaultMessage:"Summarize, analyze, and get smarter answers from your teamâs docs."}),primaryCtaText:o.jsx(N,{id:"components.pricing.teams.contextualUpsellAnnouncement.primaryCtaText",defaultMessage:"Get Business"}),onPrimaryCtaClick:()=>{Me.count(Ee.TEAMS,"teams.web.caUpsell.clickAnnouncementBannerPrimaryCta"),B.logEvent("Teams: Click CA Upsell Announcement Banner"),e(),t({hash:jQ,search:window.location.search},{state:{[TQ]:"CA upsell announcement banner"}})},onDismiss:()=>{Me.count(Ee.TEAMS,"teams.web.caUpsell.dismissAnnouncementBanner"),B.logEvent("Teams: Close CA Upsell Announcement Banner"),e()}})}const Zlt=We.hasSeenAgentModeAnnouncementBanner,KTt=()=>{const t=q();return ie(t,"785520609")};function YTt(){const{markAsViewed:t}=$e(Zlt),e=qo();return o.jsx(xn,{title:o.jsx(N,{id:"VjCFGa",defaultMessage:"ChatGPT can now do more work for you"}),content:o.jsx(N,{id:"idZZDZ",defaultMessage:"Agent mode can do even more complex tasks, like spreadsheets, research, and reservations, all on its own."}),primaryCtaText:o.jsx(N,{id:"xT8iIw",defaultMessage:"Try agent mode"}),onPrimaryCtaClick:()=>{t(),e(Or)},onDismiss:()=>{t()}})}function QTt({onDismissSideEffect:t,onPrimaryCtaClickSideEffect:e}){var d;const n=Z(),r=q(),s=it(),a=Fs(r),{locale:i,usedDefault:l}=P1e((d=a.cfIpCity)!=null?d:""),c=n.formatMessage(Qlt[i]),u=n.formatMessage({id:"language-upsell-banner.query",defaultMessage:"Talk to me in {language}"},{language:c});return g.useEffect(()=>{B.logEventWithStatsig("Language Upsell Banner Shown","chatgpt_web_language_upsell_banner_shown",{inferred_locale:i,used_default:l})},[i,l]),o.jsx(xn,{title:n.formatMessage({id:"language-upsell-banner.title",defaultMessage:"{hello} Want to chat in {language}?"},{hello:Ylt[i],language:c}),content:l?n.formatMessage({id:"language-upsell-banner.content.default",defaultMessage:"ChatGPT speaks many languages. Give it a try, just by typing."}):n.formatMessage({id:"language-upsell-banner.content.language",defaultMessage:"ChatGPT speaks your local language â give it a try, just by typing."}),primaryCtaText:n.formatMessage({id:"language-upsell-banner.primary-cta",defaultMessage:"Try it"}),onPrimaryCtaClick:()=>{e(),s("/?q=".concat(encodeURIComponent(u)))},onDismiss:t})}const Klt=pa(()=>oY(et.HasManuallyClosedLanguageUpsellBanner,()=>!1,{coerceStoredValue:dQ}));function JTt(t){var c,u;const e=q(),n=Te(t,(c=se.getIsNewConversation)!=null?c:()=>!1),r=Fs(e),{country:s}=wf(),a=ze(e,"723297404"),i=r.locale,{locale:l}=P1e((u=r.cfIpCity)!=null?u:"");return at(()=>n&&(s==null?void 0:s.toUpperCase())==="IN"&&i!==l&&a.get("show_india_language_upsell_banner",!1)&&!Klt(e))}function P1e(t){return t in $z?{locale:$z[t],usedDefault:!1}:{locale:"hi-IN",usedDefault:!0}}const $z={Bengaluru:"kn-IN",Mumbai:"mr-IN",Hyderabad:"te-IN",Chennai:"ta-IN",Pune:"mr-IN","New Delhi":"hi-IN",Delhi:"hi-IN",Kolkata:"bn-BD",Ahmedabad:"gu-IN",Kochi:"ml",Jaipur:"hi-IN",Lucknow:"hi-IN",Indore:"hi-IN",Patna:"hi-IN",Guwahati:"as",Coimbatore:"ta-IN",Chandigarh:"pa",Bhopal:"hi-IN",Surat:"gu-IN",Bhubaneswar:"or",Gurugram:"hi-IN",Nagpur:"mr-IN",Noida:"hi-IN",Ludhiana:"pa",Dehradun:"hi-IN",Thrissur:"ml",Agra:"hi-IN",Visakhapatnam:"te-IN",Vadodara:"gu-IN",Thiruvananthapuram:"ml",Mangalore:"kn-IN",Ranchi:"hi-IN",Ghaziabad:"hi-IN",Kanpur:"hi-IN",Vijayawada:"te-IN",Madurai:"ta-IN",Varanasi:"hi-IN",Srinagar:"hi-IN",Salem:"ta-IN",Faridabad:"hi-IN",Jodhpur:"hi-IN",Raipur:"hi-IN",Jammu:"hi-IN",Sopur:"hi-IN",Nashik:"mr-IN","Navi Mumbai":"mr-IN",Rajkot:"gu-IN",Prayagraj:"hi-IN",Meerut:"hi-IN",Thane:"mr-IN",Kozhikode:"ml",Jabalpur:"hi-IN"},Ylt={"kn-IN":"à®µà®£à®à¯à®à®®à¯!","mr-IN":"à¤¹à¥à¤²à¥!","te-IN":"à°¹à°²à±!","ta-IN":"à®µà®£à®à¯à®à®®à¯!","hi-IN":"à¤¨à¤®à¤¸à¥à¤¤à¥!","bn-BD":"à¦¹à§à¦¯à¦¾à¦²à§!","gu-IN":"àª¨àª®à«àª°!",ml:"à´¹à´²àµà´¾!",as:"à¦¨à¦®à¦¸à§à¦à¦¾à§°!",pa:"à¨¸à¨¤ à¨¸à©à¨°à© à¨à¨à¨¾à¨²!",or:"à¬¨à¬®à¬¸à­à¬à¬¾à¬°!"},Qlt=pe({"kn-IN":{id:"language-upsell-banner.locale.kn",defaultMessage:"Kannada"},"mr-IN":{id:"language-upsell-banner.locale.mr",defaultMessage:"Marathi"},"te-IN":{id:"language-upsell-banner.locale.te",defaultMessage:"Telugu"},"ta-IN":{id:"language-upsell-banner.locale.ta",defaultMessage:"Tamil"},"hi-IN":{id:"language-upsell-banner.locale.hi",defaultMessage:"Hindi"},"bn-BD":{id:"language-upsell-banner.locale.bn",defaultMessage:"Bengali"},"gu-IN":{id:"language-upsell-banner.locale.gu",defaultMessage:"Gujarati"},ml:{id:"language-upsell-banner.locale.ml",defaultMessage:"Malayalam"},as:{id:"language-upsell-banner.locale.as",defaultMessage:"Assamese"},pa:{id:"language-upsell-banner.locale.pa",defaultMessage:"Punjabi"},or:{id:"language-upsell-banner.locale.or",defaultMessage:"Odia"}});function XTt(t){const e=q(),n=Te(t,r=>r==null?void 0:r.modelId);return au(e,n)}function eNt(t){return null}const Jlt=1;function I1e(){const[t,e]=$o(et.LastSeenNoAuthTrialsBannerAt,null,s=>s!=null&&typeof s=="number"),n=t==null||Fl(Date.now(),Nf(t))>=Jlt;return{markBannerSeen:()=>{e(Xl(new Date)),localStorage.setItem(et.LastSeenNoAuthTrialsBannerAt,JSON.stringify(Xl(new Date)))},canBeSeen:n}}function tNt(){const t=q(),e=!Et(t),{canBeSeen:n}=I1e();return e&&n&&ze(t,"1074962980").get("is_plus_1_month_free_enabled",!1)}function nNt(){const t=it(),{markBannerSeen:e}=I1e();return g.useEffect(()=>{B.logEventWithStatsig("No Auth Trials Banner Shown","chatgpt_no_auth_trials_banner_shown")},[]),o.jsx(xn,{icon:o.jsx("img",{src:"https://openaiassets.blob.core.windows.net/$web/chatgpt/filled-plus-icon.png",alt:"",style:{width:24,height:24}}),onPrimaryCtaClick:()=>{B.logEventWithStatsig("No Auth Trials Banner Try Plus free Button Clicked","chatgpt_no_auth_trials_banner_try_plus_free_button_clicked"),sessionStorage.setItem("poijcwa","jwoid"),fr(t,"No auth trials banner"),e()},primaryCtaText:o.jsx(N,C({},tn.tryPlusTrial)),onDismiss:()=>{B.logEventWithStatsig("No Auth Trials Banner Dismissed","chatgpt_no_auth_trials_banner_dismissed"),e()},title:o.jsx(N,C({},qz.noAuthTrialUpsellTitle)),content:o.jsx(N,C({},qz.noAuthTrialUpsellDescription))})}const qz=pe({noAuthTrialUpsellTitle:{id:"sSjBA2",defaultMessage:"Get better, faster responses for free"},noAuthTrialUpsellDescription:{id:"4yEtmJ",defaultMessage:"Upgrade to ChatGPT Plus. Your first 30 days are on us."}}),Xlt=We.DesktopOperatorAnnouncement;function rNt(){const{markAsViewed:t}=$e(Xlt);g.useEffect(()=>{B.logEventWithStatsig("Operator Announcement Banner Shown","chatgpt_operator_announcement_banner_shown")},[]);const e=o.jsxs("div",{className:"grow",children:[o.jsx("div",{className:"mb-0.5 font-semibold",children:o.jsx(N,{id:"/bPUPL",defaultMessage:"Delegate daily tasks with Operator"})}),o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(N,{id:"ODMLVJ",defaultMessage:"With the Pro plan, you can try the Operator research preview â an agent that browses the web to handle tasks for you."})})]});return o.jsx(xn,{onPrimaryCtaClick:()=>{t(),B.logEventWithStatsig("Operator Announcement Banner Try Operator Button Clicked","chatgpt_operator_announcement_banner_try_operator_button_clicked"),window.open("".concat(qhe,"?utm_source=chatgpt"),"_blank")},primaryCtaText:o.jsx(N,{id:"eDZIyV",defaultMessage:"Try Operator"}),onDismiss:()=>{t(),B.logEventWithStatsig("Operator Announcement Banner Dismissed","chatgpt_operator_announcement_banner_dismissed")},content:e})}const ect=20,tct=7;function sNt(){const t=it(),e=q();return g.useEffect(()=>{B.logEventWithStatsig("Plus Upsell Banner Shown","chatgpt_plus_upsell_banner_shown")},[]),o.jsx(xn,{onPrimaryCtaClick:()=>{B.logEventWithStatsig("Plus Upsell Banner Get Plus Button Clicked","chatgpt_plus_upsell_banner_get_plus_button_clicked"),fr(t,"Plus upsell banner"),zz()},primaryCtaText:o.jsx(N,C({},Pp(e))),onDismiss:()=>{B.logEventWithStatsig("Plus Upsell Banner Dismissed","chatgpt_plus_upsell_banner_dismissed"),zz()},title:o.jsx(N,{id:"CEHXxQ",defaultMessage:"Unlock more with Plus"}),content:o.jsx(N,{id:"s+Afdr",defaultMessage:"ChatGPT Plus gives you higher limits, smarter models, and Sora for video."})})}const L1e=Rt(Sn(()=>({lastSeenPlusUpsellBannerAt:nct()})));function zz(){const t=new Date;L1e.setState(e=>{e.lastSeenPlusUpsellBannerAt=t}),localStorage.setItem(et.LastSeenPlusUpsellBannerAt,String(Xl(new Date)))}function nct(){const t=localStorage.getItem(et.LastSeenPlusUpsellBannerAt);return t?Nf(Number(t)):null}function aNt(){const t=i5(Q4e),e=L1e(i=>i.lastSeenPlusUpsellBannerAt),n=Mr(),r=!!(n!=null&&n.isFree()&&(n!=null&&n.features.includes("plus_upsell"))),s=t>=ect,a=e==null||Fl(Date.now(),e)>=tct;return r&&s&&a}function rct(t){"use forget";const e=ee.c(13),{label:n,iconSvgString:r,onClick:s,onDismiss:a,onMouseEnter:i,onMouseLeave:l}=t;if(!n)return null;let c;e[0]!==r?(c=r?o.jsx("span",{className:"h-4.5 w-4.5 shrink-0",children:o.jsx(h0,{svgString:r,className:"h-full w-full"})}):null,e[0]=r,e[1]=c):c=e[1];let u;e[2]!==n?(u=o.jsx("span",{className:"truncate text-sm",children:n}),e[2]=n,e[3]=u):u=e[3];let d;e[4]!==a?(d=a?o.jsx("span",{className:"-ms-1.5 -me-1.5",children:o.jsx(N,{id:"GYl7YK",defaultMessage:"Dismiss",children:m=>o.jsx(bu,{className:"icon dark:hover:bg-token-bg-tertiary hover:bg-token-bg-secondary translate-y-[0.5px] cursor-pointer rounded-full p-0.5 opacity-30 hover:opacity-100","aria-label":m,strokeWidth:.5,onClick:p=>{p.stopPropagation(),a==null||a(p)}})})}):null,e[4]=a,e[5]=d):d=e[5];let f;return e[6]!==s||e[7]!==i||e[8]!==l||e[9]!==c||e[10]!==u||e[11]!==d?(f=o.jsxs("button",{type:"button",className:"hover:bg-token-bg-tertiary dark:hover:bg-token-bg-tertiary dark:bg-token-bg-secondary border-token-border-default bg-token-bg-primary text-token-text-primary focus-visible:ring-token-text-tertiary mx-auto mb-1 flex h-9 items-center gap-2.5 rounded-full border py-1 ps-2.5 pe-3 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden",onClick:s,onMouseEnter:i,onMouseLeave:l,children:[c,u,d]}),e[6]=s,e[7]=i,e[8]=l,e[9]=c,e[10]=u,e[11]=d,e[12]=f):f=e[12],f}const Gz=.2;function oNt(){"use forget";const t=q(),{store:e}=Gf(),n=e.useSharedProps(s=>s==null?void 0:s.clientThreadId),r=at(()=>n?ch(cr(t,n)).activeSystemHintSuggestionChips$():[]);return r.length?o.jsx("div",{className:"max-xs:flex-col max-xs:gap-0 flex justify-center gap-3",children:r.map(s=>o.jsx(sct,{threadId:n,systemHintSuggestionChip:s},s.systemHint))}):null}function sct({systemHintSuggestionChip:t,threadId:e}){"use forget";var _;const n=Z(),r=q(),s=nl(),a=zhe(),i=g.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null)},[]);g.useEffect(()=>()=>{i()},[i]);const l=g.useCallback(w=>{w==null||w.preventDefault(),w==null||w.stopPropagation();const S=t==null?void 0:t.systemHint;e&&(f(!0),setTimeout(()=>{f(!1),w&&S?(Ag(S,Pg.SuggestionReject,Pt({clientThreadId:e})),ch(cr(r,e)).removeActiveSystemHintSuggestionChip(t)):ch(cr(r,e)).clearActiveSystemHintSuggestionChips()},Gz*1e3),i())},[r,e,t,i]),c=g.useRef(null),u=g.useRef(!1),[d,f]=g.useState(!1),m=g.useCallback(()=>{u.current||(i(),c.current=setTimeout(()=>{l()},2e3))},[i,l]),p=g.useCallback(()=>{u.current=!0,i()},[i]),h=g.useCallback(()=>{u.current=!1},[]);g.useEffect(()=>s.subscribe("input",()=>{c.current||m()}),[s,l,m]);const{actionLabel:v,systemHint:y}=t!=null?t:{},x=(_=a.data)==null?void 0:_.find(w=>w.systemHint===y),b=g.useCallback(w=>{var A,I,L,O;l();const S=t==null?void 0:t.systemHint;if(!e||!S)return;const k=st(e),M=se.getParentPromptNode(k);if(!M)return;const E=[...(I=(A=M.message.metadata)==null?void 0:A.system_hints)!=null?I:[],S],T=(L=x==null?void 0:x.actionLabel)!=null?L:x==null?void 0:x.name,j=Fr(M.message.content,P(C({},M.message.metadata),{system_hints:E,is_visually_hidden_from_conversation:!0,targeted_reply_label:T?n.formatMessage(Wz.usedSystemHint,{systemHint:T}):n.formatMessage(Wz.usedSystemHintGeneric)}));M&&xc({promptMessage:j,completionMetadata:{systemHints:E,conversationMode:(O=k==null?void 0:k.mode)!=null?O:{kind:At.PrimaryAssistant}},sourceEvent:w,ctx:r,clientThreadId:e}),S&&Ag(S,Pg.SuggestionAccept,Pt({clientThreadId:e}))},[e,r,t,l,n,x]);return!e||!t||!x?null:o.jsx(Kt,{children:!d&&o.jsx(Se.div,{exit:{opacity:0},transition:{type:"tween",ease:"easeInOut",duration:Gz},children:o.jsx(rct,{label:v,iconSvgString:x==null?void 0:x.logo,onClick:b,onDismiss:l,onMouseEnter:p,onMouseLeave:h})},"system-hint-suggestion-banner")})}const Wz=pe({usedSystemHint:{id:"pwHqiX",defaultMessage:"Used {systemHint}"},usedSystemHintGeneric:{id:"wbs4BT",defaultMessage:"Used tool"}}),act=({className:t,children:e})=>o.jsx(Se.div,{className:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.1,delay:0}},transition:{type:"tween",duration:.3,delay:.2},children:e});function iNt(t){"use forget";const e=ee.c(6),{canContinue:n,onContinueGenerating:r}=t;let s;e[0]!==r?(s=c=>{r(c),pj()},e[0]=r,e[1]=s):s=e[1];const a=s;let i=null;if(n){let c;e[2]!==a?(c=o.jsx(ict,{onHandleContinueGenerating:a}),e[2]=a,e[3]=c):c=e[3],i=c}if(!i)return i;let l;return e[4]!==i?(l=o.jsx("div",{className:"flex h-full w-full items-center justify-end gap-0 py-4 md:gap-2",children:i}),e[4]=i,e[5]=l):l=e[5],l}function oct({className:t}){return o.jsx(DN,{className:U("-rotate-180",t)})}const ict=t=>{"use forget";const e=ee.c(3),{onHandleContinueGenerating:n}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=o.jsx(N,C({},yo.continueGenerating)),e[0]=r):r=e[0];let s;return e[1]!==n?(s=o.jsx(act,{children:o.jsx(oe,{as:"button",color:"secondary",onClick:n,className:"py-2 whitespace-nowrap",icon:oct,size:"small",children:r})}),e[1]=n,e[2]=s):s=e[2],s};function R1e(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:lct},t[0]=e):e=t[0],Vt(e)}function lct(t){return ue.safePost("/beacons/event",{requestBody:{beacon_id:t,event_type:rE.VIEW}})}function im(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={mutationFn:cct},t[0]=e):e=t[0],Vt(e)}function cct(t){const{beaconId:e,eventCtaId:n}=t;return ue.safePost("/beacons/event",{requestBody:{beacon_id:e,event_type:rE.CLICK,event_cta_id:n}})}function O1e(){return Vt({mutationFn:t=>ue.safePost("/beacons/event",{requestBody:{beacon_id:t,event_type:rE.DISMISS}})})}function D1e(t){"use forget";const e=ee.c(50),{onThennableClick:n,text:r,onTrackCopyToClipboard:s}=t,a=Z();let i;e[0]!==a||e[1]!==r?(i=typeof r=="string"?r:a.formatMessage(r),e[0]=a,e[1]=r,e[2]=i):i=e[2];const l=i;let c,u;e[3]!==a?(u=a.formatMessage(O2.copy),e[3]=a,e[4]=u):u=e[4],c=u;const d=c;let f,m;e[5]!==a?(m=a.formatMessage(O2.copied),e[5]=a,e[6]=m):m=e[6],f=m;const p=f,[h,v]=g.useState(!1),y=g.useRef(null),x=g.useRef(null),[b,_]=g.useState();let w;e[7]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{var ne,re,le,fe;const me=(re=(ne=y.current)==null?void 0:ne.offsetWidth)!=null?re:0,W=(fe=(le=x.current)==null?void 0:le.offsetWidth)!=null?fe:0,K=Math.max(me,W);_(K===0?void 0:K)},e[7]=w):w=e[7];let S;e[8]!==p||e[9]!==d?(S=[d,p],e[8]=p,e[9]=d,e[10]=S):S=e[10],Rn(w,S);let k,M;e[11]!==h?(k=()=>{if(!h)return;const me=window.setTimeout(()=>{v(!1)},5e3);return()=>{window.clearTimeout(me)}},M=[h],e[11]=h,e[12]=k,e[13]=M):(k=e[12],M=e[13]),g.useEffect(k,M);let E;e[14]!==n||e[15]!==s?(E=()=>{s(),n().then(()=>{v(!0)})},e[14]=n,e[15]=s,e[16]=E):E=e[16];const T=E;let j;e[17]===Symbol.for("react.memo_cache_sentinel")?(j=U("flex w-fit flex-row gap-1 text-center"),e[17]=j):j=e[17];let A;e[18]!==l?(A=o.jsx("code",{className:"max-w-[50vw] truncate sm:max-w-[300px] md:max-w-[200px] lg:max-w-[300px]",children:l}),e[18]=l,e[19]=A):A=e[19];let I;e[20]!==T||e[21]!==A?(I=o.jsx(oe,{color:"secondary",className:"w-fit max-w-[40vw] rounded-3xl border px-3 py-2 sm:max-w-[300px]",onClick:T,contentWrapperClassName:"flex justify-between! md:justify-center! w-full",children:A}),e[20]=T,e[21]=A,e[22]=I):I=e[22];const L=h?"primary-inverse":"primary";let O;e[23]!==b?(O=typeof b=="number"?{width:b}:void 0,e[23]=b,e[24]=O):O=e[24];let R;e[25]!==d?(R=o.jsx("span",{"aria-hidden":!0,className:"absolute -z-10 whitespace-nowrap opacity-0",children:o.jsx("span",{ref:y,children:d})}),e[25]=d,e[26]=R):R=e[26];let H;e[27]!==p?(H=o.jsx("span",{"aria-hidden":!0,className:"absolute -z-10 whitespace-nowrap opacity-0",children:o.jsx("span",{ref:x,children:p})}),e[27]=p,e[28]=H):H=e[28];const V=h?"copied":"copy";let z,$,D,Y;e[29]===Symbol.for("react.memo_cache_sentinel")?(z={opacity:0,y:4},$={opacity:1,y:0},D={opacity:0,y:-4},Y={duration:.2,ease:"easeInOut"},e[29]=z,e[30]=$,e[31]=D,e[32]=Y):(z=e[29],$=e[30],D=e[31],Y=e[32]);let G;e[33]!==h?(G=h?o.jsx(N,C({},O2.copied)):o.jsx(N,C({},O2.copy)),e[33]=h,e[34]=G):G=e[34];let F;e[35]!==V||e[36]!==G?(F=o.jsx(Kt,{mode:"wait",initial:!1,children:o.jsx(Se.span,{initial:z,animate:$,exit:D,transition:Y,className:"inline-flex whitespace-nowrap",children:G},V)}),e[35]=V,e[36]=G,e[37]=F):F=e[37];let X;e[38]!==O||e[39]!==R||e[40]!==H||e[41]!==F?(X=o.jsxs("span",{className:"relative inline-flex justify-center",style:O,children:[R,H,F]}),e[38]=O,e[39]=R,e[40]=H,e[41]=F,e[42]=X):X=e[42];let te;e[43]!==T||e[44]!==L||e[45]!==X?(te=o.jsx(oe,{color:L,className:"w-fit px-4 py-2 transition-all duration-200 ease-in-out",onClick:T,contentWrapperClassName:"flex justify-between! lg:justify-center! w-fit min-w-[40px] text-center",children:X}),e[43]=T,e[44]=L,e[45]=X,e[46]=te):te=e[46];let ae;return e[47]!==I||e[48]!==te?(ae=o.jsxs("div",{className:j,children:[I,te]}),e[47]=I,e[48]=te,e[49]=ae):ae=e[49],ae}const O2=pe({copy:{id:"beacon-banner-copy-to-clipboard.copy",defaultMessage:"Copy"},copied:{id:"beacon-banner-copy-to-clipboard.copied",defaultMessage:"Copied"}});function uct(t){"use forget";var m,p;const e=ee.c(14),{beaconInfo:n,copyBeaconAction:r,onDismiss:s}=t,{title:a,description:i}=n.ui_info,l=im();let c;e[0]!==l||e[1]!==((m=n.action_items[0])==null?void 0:m.id)||e[2]!==n.beacon_id||e[3]!==n.beacon_name?(c=()=>{var h,v,y,x,b;B.logEventWithStatsig("Beacon UI Banner Copy to Clipboard Clicked","chatgpt_beacon_ui_banner_copy_to_clipboard_clicked",{beacon_id:n.beacon_id,beacon_name:(h=n.beacon_name)!=null?h:"unknown",event_cta_id:(y=(v=n.action_items[0])==null?void 0:v.id)!=null?y:"unknown"}),l.mutate({beaconId:n.beacon_id,eventCtaId:(b=(x=n.action_items[0])==null?void 0:x.id)!=null?b:"unknown"})},e[0]=l,e[1]=(p=n.action_items[0])==null?void 0:p.id,e[2]=n.beacon_id,e[3]=n.beacon_name,e[4]=c):c=e[4];const u=c;let d;e[5]!==r.onThennableClick||e[6]!==r.text||e[7]!==u?(d=o.jsx(D1e,{onThennableClick:r.onThennableClick,text:r.text,onTrackCopyToClipboard:u}),e[5]=r.onThennableClick,e[6]=r.text,e[7]=u,e[8]=d):d=e[8];let f;return e[9]!==i||e[10]!==s||e[11]!==d||e[12]!==a?(f=o.jsx(xn,{title:a,content:i,onDismiss:s,customCtas:d,contentClassName:"gap-1!"}),e[9]=i,e[10]=s,e[11]=d,e[12]=a,e[13]=f):f=e[13],f}const Wh=t=>{"use forget";var M,E;const e=ee.c(32),{actions:n,title:r,description:s,onDismiss:a,onInteract:i,primaryButtonColor:l,secondaryButtonColor:c,bannerIconImageUrl:u,icon:d}=t,f=Z();let m;e[0]!==n||e[1]!==f?(m=(M=n==null?void 0:n.primaryAction)!=null&&M.text?typeof n.primaryAction.text=="string"?n.primaryAction.text:f.formatMessage(n.primaryAction.text):void 0,e[0]=n,e[1]=f,e[2]=m):m=e[2];const p=m;let h;e[3]!==n||e[4]!==f?(h=(E=n==null?void 0:n.secondaryAction)!=null&&E.text?typeof n.secondaryAction.text=="string"?n.secondaryAction.text:f.formatMessage(n.secondaryAction.text):void 0,e[3]=n,e[4]=f,e[5]=h):h=e[5];const v=h,y=n==null?void 0:n.customActions;let x;e[6]!==u||e[7]!==d?(x=d||u&&o.jsx("img",{src:u,alt:"",style:{width:24,height:24,objectFit:"contain"}}),e[6]=u,e[7]=d,e[8]=x):x=e[8];let b;e[9]!==s?(b=s?o.jsx("div",{dangerouslySetInnerHTML:{__html:s}}):null,e[9]=s,e[10]=b):b=e[10];let _;e[11]!==a||e[12]!==i?(_=a?()=>{i==null||i(),a==null||a()}:void 0,e[11]=a,e[12]=i,e[13]=_):_=e[13];let w;e[14]!==(n==null?void 0:n.primaryAction)||e[15]!==i?(w=()=>{var T,j;i==null||i(),(j=(T=n==null?void 0:n.primaryAction)==null?void 0:T.onClick)==null||j.call(T)},e[14]=n==null?void 0:n.primaryAction,e[15]=i,e[16]=w):w=e[16];let S;e[17]!==(n==null?void 0:n.secondaryAction)||e[18]!==i?(S=()=>{var T,j;i==null||i(),(j=(T=n==null?void 0:n.secondaryAction)==null?void 0:T.onClick)==null||j.call(T)},e[17]=n==null?void 0:n.secondaryAction,e[18]=i,e[19]=S):S=e[19];let k;return e[20]!==y||e[21]!==l||e[22]!==p||e[23]!==c||e[24]!==v||e[25]!==x||e[26]!==b||e[27]!==_||e[28]!==w||e[29]!==S||e[30]!==r?(k=o.jsx(xn,{icon:x,title:r,content:b,onDismiss:_,customCtas:y,primaryCtaText:p,primaryCtaColor:l,onPrimaryCtaClick:w,secondaryCtaText:v,secondaryCtaColor:c,onSecondaryCtaClick:S,isElevated:!0}),e[20]=y,e[21]=l,e[22]=p,e[23]=c,e[24]=v,e[25]=x,e[26]=b,e[27]=_,e[28]=w,e[29]=S,e[30]=r,e[31]=k):k=e[31],k};function dct(t){"use forget";const e=ee.c(6),{iconUrl:n,label:r}=t;let s;e[0]!==r?(s=r.trim().slice(0,1).toUpperCase(),e[0]=r,e[1]=s):s=e[1];const a=s;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=U("flex h-6 w-6 items-center justify-center rounded-full","dark:border-token-border-muted dark:border dark:bg-white"),e[2]=i):i=e[2];let l;return e[3]!==a||e[4]!==n?(l=o.jsx("div",{className:i,"aria-hidden":"true",children:n?o.jsx("img",{src:n,alt:"",className:"h-4 w-4 object-contain",loading:"eager"}):o.jsx("span",{className:"text-token-text-secondary text-sm font-medium",children:a})}),e[3]=a,e[4]=n,e[5]=l):l=e[5],l}function fct({item:t,beaconInfo:e,beaconClickEventMutation:n}){var r,s,a;t.action&&(B.logEventWithStatsig("Beacon UI Banner Dropdown Item Clicked","chatgpt_beacon_ui_banner_dropdown_item_clicked",{beacon_id:e.beacon_id,beacon_name:(r=e.beacon_name)!=null?r:"unknown",event_cta_id:t.id}),n.mutate({beaconId:e.beacon_id,eventCtaId:t.id}),"onThennableClick"in t.action&&t.action.onThennableClick?t.action.onThennableClick():(a=(s=t.action).onClick)==null||a.call(s))}function mct({beaconInfo:t,dropdownAction:e,formatAction:n,onDismiss:r}){"use no forget";const s=im(),a=Z(),{title:i,description:l,icon_image_url:c}=t.ui_info,u=g.useMemo(()=>e.action_v2.items.map(v=>{const y=n(v);return y?{id:v.id,text:v.text,iconUrl:v.icon_url,action:y}:null}).filter(v=>v!=null),[e.action_v2.items,n]);if(u.length===0)return o.jsx(Wh,{bannerIconImageUrl:c,onDismiss:r,title:i,description:l});const d=v=>{fct({item:v,beaconInfo:t,beaconClickEventMutation:s})};let f=e.action_v2.header_text;f&&typeof f!="string"&&(f=a.formatMessage(f));const m=o.jsxs(J.Content,{size:"auto",className:"border-token-border-subtle bg-token-bg-elevated-primary dark:border-token-border-muted w-[256px] max-w-[80vw] min-w-[220px] overflow-hidden rounded-2xl border p-1.5 shadow-lg",children:[e.action_v2.header_text&&o.jsx("p",{className:"text-token-text-tertiary m-0 p-2 text-[13px] leading-4.5 font-normal",children:f}),o.jsx("div",{className:"flex flex-col gap-1",children:u.map(v=>o.jsx(J.Item,{size:"large",className:"m-0 py-1.5 ps-2.5 pe-0 [&>div]:h-6 [&>div]:w-6 [&>div>div]:h-6 [&>div>div]:w-6",icon:o.jsx(dct,{iconUrl:v.iconUrl,label:v.text}),onSelect:()=>d(v),children:o.jsx("span",{className:"text-token-text-primary text-sm",children:v.text})},v.id))}),e.action_v2.footer_text&&o.jsx("p",{className:"text-token-text-tertiary m-0 p-2 text-[13px] leading-4.5 font-normal",children:e.action_v2.footer_text})]}),p=()=>{var v;B.logEventWithStatsig("Beacon UI Banner Dropdown Opened","chatgpt_beacon_ui_banner_dropdown_opened",{beacon_id:t.beacon_id,beacon_name:(v=t.beacon_name)!=null?v:"unknown"})},h=o.jsx("div",{className:"flex w-full flex-col gap-2",children:o.jsxs(J.Root,{onOpenChange:v=>v&&p(),children:[o.jsx(J.Trigger,{asChild:!0,children:o.jsxs("button",{className:"w-full items-center justify-between gap-2 rounded-4xl! bg-[rgba(13,13,13,0.90)]! px-4 py-2 dark:bg-[rgba(255,255,255,0.90)]!",children:[o.jsx("span",{className:"truncate font-medium text-white dark:text-[#0D0D0D]",children:e.text}),o.jsx(ys,{className:"icon-sm shrink-0 text-white dark:text-[#0D0D0D]"})]})}),o.jsx(J.Portal,{children:m})]})});return o.jsx(Wh,{bannerIconImageUrl:c,onDismiss:r,title:i,description:l,actions:{customActions:h}})}const mA=Je(()=>Ve(()=>import("./jswv45qchuu48hl8.js"),__vite__mapDeps([115,1,4,5,116,41,89,90,91,117,118])).then(t=>t.AdminInviteModal)),lNt=Object.freeze(Object.defineProperty({__proto__:null,AdminInviteModal:mA},Symbol.toStringTag,{value:"Module"}));function F1e(t){"use forget";const e=ee.c(19),{clientThreadId:n,location:r,composerController:s,persistedSystemHintsStore:a,openFileDialog:i}=t,l=q(),c=Mr(),u=!Et(l),d=it();let f;e[0]!==n||e[1]!==r?(f={clientThreadId:n,location:r},e[0]=n,e[1]=r,e[2]=f):f=e[2];const m=e4(f),p=kn(n);let h;e[3]!==n?(h={clientThreadId:n},e[3]=n,e[4]=h):h=e[4];const v=j4(h),y=Ql(!1);let x;return e[5]!==n||e[6]!==s||e[7]!==m||e[8]!==l||e[9]!==c||e[10]!==u||e[11]!==r||e[12]!==d||e[13]!==i||e[14]!==a||e[15]!==v||e[16]!==p||e[17]!==y?(x=b=>{if(b===void 0)return;const{action_v2:_,text:w}=b;switch(_.action_enum){case Un.FILE_UPLOAD:case Un.PHOTO_UPLOAD:return{text:w,onClick:()=>{if(i(),_.composer_text){const k=Ht(s);k.focus(),Va(k,_.composer_text)}}};case Un.SYSTEM_HINT:return{text:w,onClick:()=>{var M;const k=sE(_.hint);if(k){if(_.new_chat)m({prompt:(M=_.composer_text)!=null?M:"",systemHints:[k]});else if(Ghe(a,s,k,{analyticsMetadata:{clientThreadId:n}}),_.composer_text){const E=Ht(s);E.focus(),Va(E,_.composer_text)}}}};case Un.INVITE_TEAM_MEMBERS:return c?{text:w,onClick:()=>{Dt(l,mA,{workspace:c})}}:void 0;case Un.AUTHENTICATE_LOGIN:return{text:w,onClick:()=>{dn(l,{fallbackScreenHint:"login"})}};case Un.AUTHENTICATE_SIGNUP:return{text:w,onClick:()=>{dn(l,{fallbackScreenHint:"signup"})}};case Un.GET_PLUS:case Un.GET_GO:case Un.GET_PRO:case Un.GET_TEAM:return{text:w,onClick:()=>{u?dn(l,{fallbackScreenHint:"login",shouldOpenPaymentModalOnAuth:!0}):fr(d,r)}};case Un.DISMISS:return{text:w,onClick:()=>{if(_.composer_text){const k=Ht(s);k.focus(),Va(k,_.composer_text)}}};case Un.OPEN_URL:return{text:w,onClick:()=>{window.open(_.url,"_blank","noopener noreferrer")}};case Un.SHARE_CONVERSATION:return p?{text:w,onClick:()=>{pn.openSharingModal(p,r)}}:void 0;case Un.COPY_TO_CLIPBOARD:{const S=_.copy_text;return{text:S,onThennableClick:()=>{if(S.startsWith("$")){const M=S.slice(1);return Uo(M.trim())}else return Uo(S.trim())}}}case Un.DROPDOWN:return;case Un.REGENERATE:{const S=se.getCurrentLeafId(st(n));return{text:w,onClick:()=>{_.update_model_picker&&y({modelId:_.model_slug,location:"Beacon - regenerate action"}),v({sourceEvent:new Event("click"),nodeId:S,requestedModelId:_.model_slug})}}}}},e[5]=n,e[6]=s,e[7]=m,e[8]=l,e[9]=c,e[10]=u,e[11]=r,e[12]=d,e[13]=i,e[14]=a,e[15]=v,e[16]=p,e[17]=y,e[18]=x):x=e[18],x}const E3=t=>{g.useEffect(t,[])};function Zh(t){switch(t){case V1.PRIMARY:return"primary";case V1.SECONDARY:return"secondary";case V1.COPY:return"primary";case V1.DROPDOWN:return"primary"}return"primary"}const pct=t=>{"use forget";var Y,G;const e=ee.c(63),{clientThreadId:n,beaconInfo:r,onPrimaryCTAClick:s,onSecondaryCTAClick:a,onDismiss:i,onMount:l,openFileDialog:c}=t,{ui_info:u,action_items:d}=r,{title:f,description:m,icon_image_url:p}=u,h=(Y=d[0])==null?void 0:Y.type;let v;e[0]!==h?(v=Zh(h),e[0]=h,e[1]=v):v=e[1];const y=v,x=(G=d[1])==null?void 0:G.type;let b;e[2]!==x?(b=Zh(x),e[2]=x,e[3]=b):b=e[3];const _=b,w=nl(),S=wu.useStore();let k;e[4]!==n||e[5]!==w||e[6]!==c||e[7]!==S?(k={clientThreadId:n,location:"Prompt TextareaBeacons Banner",composerController:w,openFileDialog:c,persistedSystemHintsStore:S},e[4]=n,e[5]=w,e[6]=c,e[7]=S,e[8]=k):k=e[8];const M=F1e(k);let E;e[9]!==l?(E=()=>{l==null||l()},e[9]=l,e[10]=E):E=e[10],E3(E);let T;e[11]!==d?(T=d!=null?d:[],e[11]=d,e[12]=T):T=e[12];const[j,A]=T;let I;e[13]!==M||e[14]!==A?(I=M(A),e[13]=M,e[14]=A,e[15]=I):I=e[15];const L=I;let O;e[16]!==M||e[17]!==j?(O=M(j),e[16]=M,e[17]=j,e[18]=O):O=e[18];const R=O;let H;e:{if(!R){H=void 0;break e}if(R.onThennableClick){let te;e[19]!==R||e[20]!==s?(te=()=>(s==null||s(),R.onThennableClick()),e[19]=R,e[20]=s,e[21]=te):te=e[21];let ae;e[22]!==R||e[23]!==te?(ae=P(C({},R),{onThennableClick:te}),e[22]=R,e[23]=te,e[24]=ae):ae=e[24],H=ae;break e}let F;e[25]!==R||e[26]!==s?(F=()=>{s==null||s(),R.onClick&&R.onClick()},e[25]=R,e[26]=s,e[27]=F):F=e[27];let X;e[28]!==R||e[29]!==F?(X=P(C({},R),{onClick:F}),e[28]=R,e[29]=F,e[30]=X):X=e[30],H=X}let V;e:{if(!L){V=void 0;break e}if(L.onThennableClick){let te;e[31]!==L||e[32]!==a?(te=()=>(a==null||a(),L.onThennableClick()),e[31]=L,e[32]=a,e[33]=te):te=e[33];let ae;e[34]!==L||e[35]!==te?(ae=P(C({},L),{onThennableClick:te}),e[34]=L,e[35]=te,e[36]=ae):ae=e[36],V=ae;break e}let F;e[37]!==L||e[38]!==a?(F=()=>{a==null||a(),L.onClick&&L.onClick()},e[37]=L,e[38]=a,e[39]=F):F=e[39];let X;e[40]!==L||e[41]!==F?(X=P(C({},L),{onClick:F}),e[40]=L,e[41]=F,e[42]=X):X=e[42],V=X}let z;e[43]!==H||e[44]!==V?(z={primaryAction:H,secondaryAction:V},e[43]=H,e[44]=V,e[45]=z):z=e[45];const $=z;if((j==null?void 0:j.type)===V1.COPY&&(R!=null&&R.onThennableClick)){let F;return e[46]!==r||e[47]!==R||e[48]!==i?(F=o.jsx(uct,{beaconInfo:r,copyBeaconAction:R,onDismiss:i}),e[46]=r,e[47]=R,e[48]=i,e[49]=F):F=e[49],F}if(gct(j)){let F;return e[50]!==r||e[51]!==M||e[52]!==i||e[53]!==j?(F=o.jsx(mct,{beaconInfo:r,dropdownAction:j,formatAction:M,onDismiss:i}),e[50]=r,e[51]=M,e[52]=i,e[53]=j,e[54]=F):F=e[54],F}let D;return e[55]!==$||e[56]!==m||e[57]!==p||e[58]!==i||e[59]!==y||e[60]!==_||e[61]!==f?(D=o.jsx(Wh,{bannerIconImageUrl:p,onDismiss:i,title:f,description:m,actions:$,primaryButtonColor:y,secondaryButtonColor:_}),e[55]=$,e[56]=m,e[57]=p,e[58]=i,e[59]=y,e[60]=_,e[61]=f,e[62]=D):D=e[62],D};function gct(t){return(t==null?void 0:t.action_v2.action_enum)===Un.DROPDOWN}const cNt=t=>{"use forget";const e=ee.c(29),{clientThreadId:n,openFileDialog:r}=t,s=Dee(),a=Te(n,se.getRequestId),i=eo(a),l=R1e(),c=im(),u=O1e();let d;e[0]!==(s==null?void 0:s.beacon_id)||e[1]!==(s==null?void 0:s.beacon_name)||e[2]!==i?(d=()=>{var M,E;i&&(B.logEventWithStatsig("Beacon UI Banner Ignored","chatgpt_beacon_ui_banner_ignored",{beacon_id:(M=s==null?void 0:s.beacon_id)!=null?M:"unknown",beacon_name:(E=s==null?void 0:s.beacon_name)!=null?E:"unknown"}),wi.dismiss())},e[0]=s==null?void 0:s.beacon_id,e[1]=s==null?void 0:s.beacon_name,e[2]=i,e[3]=d):d=e[3];let f;e[4]!==s||e[5]!==i?(f=[i,s],e[4]=s,e[5]=i,e[6]=f):f=e[6],g.useEffect(d,f);const m=g.useRef(!1);let p;e[7]!==s||e[8]!==l?(p=()=>{m.current||s&&(B.logEventWithStatsig("Beacon UI Banner Shown","chatgpt_beacon_ui_banner_shown",{beacon_id:s.beacon_id,beacon_name:s.beacon_name}),l.mutate(s.beacon_id),m.current=!0)},e[7]=s,e[8]=l,e[9]=p):p=e[9];const h=p;let v;e[10]!==s||e[11]!==c?(v=()=>{var M,E,T,j;s&&(B.logEventWithStatsig("Beacon UI Banner Primary CTA Clicked","chatgpt_beacon_ui_banner_primary_cta_clicked",{beacon_id:s.beacon_id,beacon_name:s.beacon_name,event_cta_id:(E=(M=s.action_items[0])==null?void 0:M.id)!=null?E:"unknown"}),c.mutate({beaconId:s.beacon_id,eventCtaId:(j=(T=s.action_items[0])==null?void 0:T.id)!=null?j:"unknown"})),wi.dismiss()},e[10]=s,e[11]=c,e[12]=v):v=e[12];const y=v;let x;e[13]!==s||e[14]!==c?(x=()=>{var M,E,T,j;s&&(B.logEventWithStatsig("Beacon UI Banner Secondary CTA Clicked","chatgpt_beacon_ui_banner_secondary_cta_clicked",{beacon_id:s.beacon_id,beacon_name:s.beacon_name,event_cta_id:(E=(M=s.action_items[1])==null?void 0:M.id)!=null?E:"unknown"}),c.mutate({beaconId:s.beacon_id,eventCtaId:(j=(T=s.action_items[1])==null?void 0:T.id)!=null?j:"unknown"})),wi.dismiss()},e[13]=s,e[14]=c,e[15]=x):x=e[15];const b=x;let _;e[16]!==s||e[17]!==u?(_=()=>{s&&(B.logEventWithStatsig("Beacon UI Banner Dismissed","chatgpt_beacon_ui_banner_dismissed",{beacon_id:s.beacon_id,beacon_name:s.beacon_name}),u.mutate(s.beacon_id)),wi.dismiss()},e[16]=s,e[17]=u,e[18]=_):_=e[18];const w=_;let S;e[19]!==s||e[20]!==n||e[21]!==w||e[22]!==h||e[23]!==y||e[24]!==b||e[25]!==r?(S=s&&o.jsx(Se.div,{transition:{type:"tween",ease:"easeInOut",duration:.1},initial:{opacity:0,transform:"translateY(8px)"},animate:{opacity:1,transform:"translateY(0px)"},exit:{opacity:0,transform:"translateY(8px)"},children:o.jsx(pct,{clientThreadId:n,beaconInfo:s,onPrimaryCTAClick:y,onSecondaryCTAClick:b,onDismiss:w,onMount:h,openFileDialog:r})}),e[19]=s,e[20]=n,e[21]=w,e[22]=h,e[23]=y,e[24]=b,e[25]=r,e[26]=S):S=e[26];let k;return e[27]!==S?(k=o.jsx(Kt,{children:S}),e[27]=S,e[28]=k):k=e[28],k};function uNt(t){"use forget";const e=ee.c(2),n=Te(t,se.getRequestId),r=eo(n),s=Dee();let a;if(e[0]!==s){const l=Object.values(Un);a=s!=null&&s.action_items.every(c=>l.includes(c.action_v2.action_enum)?c.action_v2.action_enum===Un.DROPDOWN?c.action_v2.items.every(u=>l.includes(u.action_v2.action_enum)):!0:!1),e[0]=s,e[1]=a}else a=e[1];return!r&&a}const hct=3,vct=3,u_="oai/apps/connectorInContextUpsellBannerV1";function yct(){const t=q();return!!ze(t,"3819205143",{disableExposureLog:!1}).get("enabled",!0)}function xct(t){return t?new Date>aE(t,hct):!0}function B1e(t){var d;const[e,n]=$o(u_,null,f=>f!=null&&typeof f=="object"&&typeof f.messageId=="string"&&typeof f.lastSeenAt=="number"&&typeof f.interacted=="boolean"&&typeof f.viewCount=="number"&&typeof f.hasDismissed=="boolean"),r=yct(),s=e?Nf(e.lastSeenAt):null,a=e&&(d=e.viewCount)!=null?d:0,i=e?e.hasDismissed:!1;return{canBeSeen:t!==""&&!i&&r&&(!e||a<=vct&&(xct(s)||e.interacted===!1)),markSeen:f=>{const m={messageId:t,lastSeenAt:Xl(new Date),interacted:f,viewCount:(e?e.viewCount:0)+(f?0:1),hasDismissed:i};Me.count(Ee.DEFAULT,"connector_upsell_banner_shown"),n(m),window.localStorage.setItem(u_,JSON.stringify(m))},markDismissed:()=>{const f={messageId:t,lastSeenAt:Xl(new Date),interacted:!0,viewCount:0,hasDismissed:!0};Me.count(Ee.DEFAULT,"connector_upsell_banner_dismissed"),n(f),window.localStorage.setItem(u_,JSON.stringify(f))}}}const ck=30,bct=3,Cct=1,uk=Rt(Sn(()=>({lastSeenInContextUpsellBannerAt:wct()}))),dk=Rt(Sn(()=>({inContextUpsellBannerPeriodStartAt:U1e()}))),fk=Rt(Sn(()=>({inContextUpsellBannerPeriodExposureCount:H1e()}))),mk=Rt(Sn(()=>({inContextUpsellBannerInteractedInPeriod:Sct()}))),pk=Rt(Sn(()=>({inContextUpsellBannerLastSeenId:V1e()})));function _ct(t){if(V1e()===t)return;const n=U1e(),r=H1e();!n||!r||Fl(Date.now(),n)>=ck?gk({lastSeenAt:new Date,periodStartAt:new Date,exposureCount:1,interactedInPeriod:!1,lastSeenId:t}):gk({lastSeenAt:new Date,exposureCount:r+1,lastSeenId:t})}function gk({lastSeenAt:t,periodStartAt:e,exposureCount:n,interactedInPeriod:r,lastSeenId:s}){t===void 0?t=uk.getState().lastSeenInContextUpsellBannerAt:uk.setState(i=>{i.lastSeenInContextUpsellBannerAt=t===void 0?null:t}),e===void 0?e=dk.getState().inContextUpsellBannerPeriodStartAt:dk.setState(i=>{i.inContextUpsellBannerPeriodStartAt=e===void 0?null:e}),n===void 0?n=fk.getState().inContextUpsellBannerPeriodExposureCount:fk.setState(i=>{i.inContextUpsellBannerPeriodExposureCount=n===void 0?null:n}),r===void 0?r=mk.getState().inContextUpsellBannerInteractedInPeriod:mk.setState(i=>{i.inContextUpsellBannerInteractedInPeriod=r===void 0?null:r}),s===void 0?s=pk.getState().inContextUpsellBannerLastSeenId:pk.setState(i=>{i.inContextUpsellBannerLastSeenId=s===void 0?null:s});const a={lastSeenInContextUpsellBannerAt:t?String(Xl(t)):null,inContextUpsellBannerPeriodStartAt:e?String(Xl(e)):null,inContextUpsellBannerPeriodExposureCount:n,inContextUpsellBannerInteractedInPeriod:r,inContextUpsellBannerLastSeenId:s};localStorage.setItem(et.O3MiniHighInContextUpsellBanner,JSON.stringify(a))}function j3(){const t=localStorage.getItem(et.O3MiniHighInContextUpsellBanner);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}}function wct(){var e;const t=(e=j3())==null?void 0:e.lastSeenInContextUpsellBannerAt;return t?Nf(Number(t)):null}function U1e(){var e;const t=(e=j3())==null?void 0:e.inContextUpsellBannerPeriodStartAt;return t?Nf(Number(t)):null}function H1e(){var t,e;return(e=(t=j3())==null?void 0:t.inContextUpsellBannerPeriodExposureCount)!=null?e:null}function Sct(){var t,e;return(e=(t=j3())==null?void 0:t.inContextUpsellBannerInteractedInPeriod)!=null?e:null}function V1e(){var t,e;return(e=(t=j3())==null?void 0:t.inContextUpsellBannerLastSeenId)!=null?e:null}function kct({clientThreadId:t,rateLimitInfo:e,onDismiss:n,onInteract:r,onMount:s}){var le;const{name:a,title:i,call_to_action:l,description:c,icon_image_url:u}=e,d="metadata"in e&&e.metadata?e.metadata:{},f=q(),m=yt(f),p=Ql(!0),{updateSystemHint:h}=Qo(),v=nl(),y=Ql(!1),x=Whe(),b=Te(t,se.getIsNewConversation),_=(le=m==null?void 0:m.planType)!=null?le:"unknown",w=ha(),S=Yt(wn),k=x&&"block_reason"in x?x.block_reason:null,M="banner_description",E=g.useMemo(()=>({type:a||"unknown",location:M,plan_type:_,is_new_conversation:b,is_hard_block:!!x,hard_block_reason:k!=null?k:"",call_to_action:l,title:i,description:c,icon_image_url:u}),[a,_,b,x,k,l,i,c,u]),T=it(),j=!Et(f),A=gf(),I=g0(tn.signUpButtonText),{eligible:L,isLoading:O}=$e(We.hasSeenTatertotNux),R=j4({clientThreadId:t}),H=ze(f,"1368081792"),V=Zhe(),z=LM({skip:a!=="agent-connector-in-context-upsell",fetchValidLinksOnly:!0,productSku:"n7jupd"}),$=Array.from(z.connectorLinks.values()).some(fe=>fe.some(ge=>ge.connector_id===(d==null?void 0:d.connector_id))),{addSource:D}=Jo(t),Y=fe=>{switch(fe){case Mn.CONNECT_CONNECTOR:return{text:tn.connect,onClick:()=>{B.logEventWithStatsig("Agent Connector In Context Upsell Banner CTA Clicked","chatgpt_agent_connector_in_context_upsell_banner_cta_clicked",{location:"Agent Connector In Context Upsell Banner CTA Clicked",eventProperties:E});const ge=kt(t),ye=ge?new URL(_i(ge),window.location.origin):new URL(window.location.href);if(ye.searchParams.set("oauth_success","true"),!!(d!=null&&d.connector_id))if($){D(ng[d==null?void 0:d.connector_id]);return}else V({connectorId:d==null?void 0:d.connector_id,redirectAfter:ye.toString(),systemHintType:we.Agent,referrer:Ep.AgentConnectBanner})}};case Mn.AUTHENTICATE:return{text:A?tn.logInButtonText:I,onClick:()=>{dn(f,{fallbackScreenHint:A?"login":"signup",callback:ge=>{A?B.logLogInButtonClicked({location:"Rate limit banner - ".concat(a),provider:ge}):B.logSignUpButtonClicked({location:"Rate limit banner - ".concat(a),provider:ge})}})}};case Mn.AUTHENTICATE_SECONDARY:return{text:A?I:tn.logInButtonText,onClick:()=>{dn(f,{fallbackScreenHint:A?"signup":"login",callback:ge=>{A?B.logSignUpButtonClicked({location:"Rate limit banner - ".concat(a),provider:ge}):B.logLogInButtonClicked({location:"Rate limit banner - ".concat(a),provider:ge})}})}};case Mn.GET_PLUS:return{text:Pp(f),onClick:()=>{B.logRateLimitGetPlusButtonClicked(E),j?dn(f,{fallbackScreenHint:A?"login":"signup",shouldOpenPaymentModalOnAuth:!0,callback:ge=>{A?B.logLogInButtonClicked({location:"Rate limit banner Get Plus upsell",provider:ge}):B.logSignUpButtonClicked({location:"Rate limit banner Get Plus upsell",provider:ge})}}):fr(T,"Prompt textarea rate limit banner")}};case Mn.NEW_CHAT:return{text:hl.newChatButton,onClick:()=>{S&&(_t.wantsNewConversation$.set(!0),_t.selectedConversationId$.set(void 0)),p({modelId:"",location:M})}};case Mn.PAID_USER_O3_MINI_HIGH:{const ge=se.getCurrentLeafId(st(t)),ye=()=>{B.logEventWithStatsig("In Context Upsell Banner O3 Mini High CTA Clicked","chatgpt_in_context_upsell_banner_o3_mini_high_cta_clicked",{location:H.get("should_change_model_picker",!0)?"In-context upsell o3-mini-high for Plus banner - Try it button":"In-context upsell o3-mini-high for Plus (no model switch) banner - Try it button",eventProperties:E}),H.get("should_change_model_picker",!0)&&y({modelId:"o4-mini-high",location:"In-context upsell o4-mini-high for Plus banner - Try it button"}),R({sourceEvent:new Event("click"),nodeId:ge,requestedModelId:"o4-mini-high"})};return{text:hl.tryItButton,onClick:ye}}case Mn.FREE_USER_O3_MINI_HIGH:return{text:Pp(f),onClick:()=>{B.logEventWithStatsig("In Context Upsell Banner O3 Mini High CTA Clicked","chatgpt_in_context_upsell_banner_o3_mini_high_cta_clicked",{location:"In-context upsell o3-mini-high for Free banner - Get Plus button",eventProperties:E}),fr(T,"Prompt textarea in-context upsell banner")}};case Mn.DEEP_RESEARCH_IN_CONTEXT_UPSELL:{const ge=se.findNode(st(t),_e=>Yhe(_e.message)),ye=ge?Ka(ge.message):void 0;return{text:hl.tryItButton,onClick:()=>{B.logEventWithStatsig("In Context Upsell Banner Deep Research CTA Clicked","chatgpt_in_context_upsell_banner_deep_research_cta_clicked",{location:"In-context upsell deep research - Try it button",eventProperties:E}),h(we.Research,{clientThreadId:t});const _e=Ht(v);_e.focus(),Va(_e,ye!=null?ye:"")}}}case Mn.GET_PRO:return{text:Khe(f),onClick:()=>{B.logRateLimitUpgradePlanButtonClicked(P(C({},E),{upgrade_plan_tye:"pro"})),j?dn(f,{fallbackScreenHint:A?"login":"signup",shouldOpenPaymentModalOnAuth:!0,callback:ge=>{A?B.logLogInButtonClicked({location:"Rate limit banner Get Pro upsell",provider:ge}):B.logSignUpButtonClicked({location:"Rate limit banner Get Pro upsell",provider:ge})}}):fr(T,"Prompt textarea rate limit banner")}};case Mn.UPGRADE_TO_GO:return{text:hl.upgradeToGoButton,onClick:()=>{B.logRateLimitUpgradePlanButtonClicked(P(C({},E),{upgrade_plan_tye:"go"})),j?dn(f,{fallbackScreenHint:A?"login":"signup",shouldOpenPaymentModalOnAuth:!0,callback:ge=>{A?B.logLogInButtonClicked({location:"Rate limit banner Upgrade to Go upsell",provider:ge}):B.logSignUpButtonClicked({location:"Rate limit banner Upgrade to Go upsell",provider:ge})}}):fr(T,"Prompt textarea rate limit banner")}};case Mn.GET_BUSINESS_TRIAL:return{text:hl.getBusinessTrialButton,onClick:()=>{B.logRateLimitUpgradePlanButtonClicked(P(C({},E),{upgrade_plan_tye:"business"})),fr(T,"Prompt textarea rate limit banner")}};case Mn.GET_PLUS_TRIAL:return{text:hl.getPlusTrialButton,onClick:()=>{B.logRateLimitUpgradePlanButtonClicked(P(C({},E),{upgrade_plan_tye:"plus"})),fr(T,"Prompt textarea rate limit banner")}};case Mn.TRY_CODEX:return{text:hl.tryCodexButton,onClick:()=>{B.logEventWithStatsig("In Context Upsell Banner Codex CTA Clicked","chatgpt_in_context_upsell_banner_codex_cta_clicked",{location:"In-context upsell codex - Try Codex button",eventProperties:E}),T("/codex")}};case Mn.TRY_TATERTOT:return{text:hl.tryItButton,onClick:()=>{B.logEventWithStatsig("In Context Upsell Banner Tatertot CTA Clicked","chatgpt_in_context_upsell_banner_tatertot_cta_clicked",{location:"In-context upsell tatertot - Try it button",eventProperties:E}),Me.count(Ee.TATERTOT,"tatertot_upsell_banner_try_it_clicked"),h(we.Tatertot,{clientThreadId:t}),!O&&L&&ie(f,"1586944302")&&Dt(f,e_e)}};case Mn.NOTIFY_ADMIN_FOR_CREDITS:case Mn.ADD_CREDITS:return null}};E3(()=>{!H.get("should_change_model_picker",!0)&&E.type==="o3-mini-high-in-context-upsell-plus"&&(E.type="o3-mini-high-in-context-upsell-plus-no-model-switch"),B.logRateLimitBannerShown(E),s==null||s()});const[G,F]=l!=null?l:[];let X=F;G===Mn.AUTHENTICATE&&w&&(X=Mn.AUTHENTICATE_SECONDARY);const te=ie(f,"2861925050");let ae={};te&&(G===Mn.NOTIFY_ADMIN_FOR_CREDITS||G===Mn.ADD_CREDITS)?G===Mn.ADD_CREDITS?ae={customActions:o.jsx(Qhe,{trigger:"prompt-textarea-rate-limit-banner"})}:G===Mn.NOTIFY_ADMIN_FOR_CREDITS&&(ae={customActions:o.jsx(Jhe,{creditConsumingProduct:Xhe(a),trigger:"prompt-textarea-rate-limit-banner"})}):ae={primaryAction:Y(G),secondaryAction:Y(X)};const me=d==null?void 0:d.connector_id,{platformConnectors:W,isLoading:K}=V6(!!me),ne=me?W.get(me):void 0;let re=null;if(a==="agent-connector-in-context-upsell"){if(me===void 0||!ne||K)return null;re=o.jsx(SN,{connector:ne,size:"xxlarge"})}return o.jsx(Wh,{onDismiss:n,title:i,description:c,actions:ae,onInteract:r,bannerIconImageUrl:u!=null?u:void 0,icon:re})}const hl=pe({upgradeToGoButton:{id:"SuXEJy",defaultMessage:"Upgrade to Go"},newChatButton:{id:"7OvnJ5",defaultMessage:"New chat"},tryItButton:{id:"zPDzun",defaultMessage:"Try it"},tryCodexButton:{id:"KcWniZ",defaultMessage:"Try Codex"},getBusinessTrialButton:{id:"PMkLT4",defaultMessage:"Try Business free"},getPlusTrialButton:{id:"H+N0ro",defaultMessage:"Try Plus free"}}),dNt=t=>{"use forget";const e=ee.c(35),{clientThreadId:n,composerController:r}=t,s=qQ(),a=Te(n,se.getRequestId),i=Te(n,se.getCurrentLeafId),l=eo(a),{markSeen:c}=zQ(i),{markSeen:u,markDismissed:d}=B1e(i),f=q();let m;e[0]!==f?(m=ze(f,"1368081792"),e[0]=f,e[1]=m):m=e[1];const p=m;let h;e[2]!==s||e[3]!==i||e[4]!==u||e[5]!==c?(h=s!=null&&s.name?()=>{e:switch(s.name){case"tatertot-in-context-upsell":{c(!1);break e}case"agent-connector-in-context-upsell":{u(!1);break e}case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":_ct(i)}}:void 0,e[2]=s,e[3]=i,e[4]=u,e[5]=c,e[6]=h):h=e[6];const v=h;let y;e[7]!==f?(y=ie(f,"3612584454"),e[7]=f,e[8]=y):y=e[8];const x=y;let b;e[9]!==(s==null?void 0:s.name)||e[10]!==l||e[11]!==x?(b=()=>{l&&!((s==null?void 0:s.name)==="gpt-4l"&&x)&&Mp.dismissBanner()},e[9]=s==null?void 0:s.name,e[10]=l,e[11]=x,e[12]=b):b=e[12];const _=s==null?void 0:s.name;let w;e[13]!==r||e[14]!==l||e[15]!==x||e[16]!==_?(w=[l,_,x,r],e[13]=r,e[14]=l,e[15]=x,e[16]=_,e[17]=w):w=e[17],g.useEffect(b,w);let S;e[18]!==(s==null?void 0:s.is_dismissible)||e[19]!==(s==null?void 0:s.name)||e[20]!==p||e[21]!==d?(S=s!=null&&s.is_dismissible?()=>{(s==null?void 0:s.name)==="agent-connector-in-context-upsell"?B.logEventWithStatsig("Dismiss Agent Connector In Context Upsell Banner","chatgpt_agent_connector_in_context_upsell_banner_dismissed",{type:"agent-connector-in-context-upsell"}):B.logEventWithStatsig("Rate Limit: Dismiss Banner","chatgpt_rate_limit_banner_dismissed",{type:!p.get("should_change_model_picker",!0)&&(s==null?void 0:s.name)==="o3-mini-high-in-context-upsell-plus"?"o3-mini-high-in-context-upsell-plus-no-model-switch":s==null?void 0:s.name}),(s==null?void 0:s.name)==="agent-connector-in-context-upsell"&&d(),Mp.dismissBanner()}:void 0,e[18]=s==null?void 0:s.is_dismissible,e[19]=s==null?void 0:s.name,e[20]=p,e[21]=d,e[22]=S):S=e[22];const k=S;let M;e[23]!==(s==null?void 0:s.name)||e[24]!==u||e[25]!==c?(M=()=>{e:switch(s==null?void 0:s.name){case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":{gk({interactedInPeriod:!0});break e}case"tatertot-in-context-upsell":{c(!0);break e}case"agent-connector-in-context-upsell":{u(!0);break e}}},e[23]=s==null?void 0:s.name,e[24]=u,e[25]=c,e[26]=M):M=e[26];const E=M;let T;e[27]!==s||e[28]!==n||e[29]!==k||e[30]!==E||e[31]!==v?(T=s&&o.jsx(Se.div,{transition:{type:"tween",ease:"easeInOut",duration:.1},initial:{opacity:0,transform:"translateY(8px)"},animate:{opacity:1,transform:"translateY(0px)"},exit:{opacity:0,transform:"translateY(8px)"},children:o.jsx(kct,{clientThreadId:n,rateLimitInfo:s,onDismiss:k,onInteract:E,onMount:v})}),e[27]=s,e[28]=n,e[29]=k,e[30]=E,e[31]=v,e[32]=T):T=e[32];let j;return e[33]!==T?(j=o.jsx(Kt,{children:T}),e[33]=T,e[34]=j):j=e[34],j};function Mct(t,e,n,r,s,a,i,l,c,u,d,f,m){if(c||(t.name==="o3-mini-high-in-context-upsell-free"||t.name==="o3-mini-high-in-context-upsell-plus")&&(e.some(w=>w.model_slug==="o4-mini-high")||(n==null?void 0:n.id)==="o4-mini-high")||l&&i&&Fl(Date.now(),i)<ck)return!1;const h=r==null||Fl(Date.now(),r)>=Cct,v=s===u,y=i==null||a==null||Fl(Date.now(),i)>=ck||a<bct;if(!(h&&y||v))return!1;switch(t.name){case"deep-research-in-context-upsell":return d("should_show_deep_research_upsell_banner",!1);case"deep-research-in-context-upsell-free":return d("should_show_deep_research_upsell_banner_free",!1);case"o3-mini-high-in-context-upsell-free":return d("should_show_o3_mini_high_upsell_banner_free_user_to_plus",!1);case"o3-mini-high-in-context-upsell-plus":return d("should_show_o3_mini_high_upsell_banner_plus_user",!1);case"codex-in-context-upsell":return f("should_show_codex_upsell_banner",!1);case"codex-in-context-upsell-plus":return m("should_show_codex_upsell_banner",!1);default:return!1}}function fNt(t){var w;const e=q(),n=z6(),r=tl(t),s=Te(t,se.getRequestId),a=Te(t,se.getCurrentLeafId),i=eo(s),l=uk(S=>S.lastSeenInContextUpsellBannerAt),c=fk(S=>S.inContextUpsellBannerPeriodExposureCount),u=dk(S=>S.inContextUpsellBannerPeriodStartAt),d=pk(S=>S.inContextUpsellBannerLastSeenId),f=mk(S=>S.inContextUpsellBannerInteractedInPeriod),m=ze(e,"1368081792"),p=ze(e,"1738106734"),h=ze(e,"3861158060"),v=ze(e,"1092897457"),y=qQ(),{canBeSeen:x}=zQ(a),{canBeSeen:b}=B1e(a);let _=!1;switch(y==null?void 0:y.name){case null:case void 0:break;case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":_=Mct(y,n,r,l,d,c,u,f,i,a,m.get,p.get,h.get);break;case"tatertot-in-context-upsell":_=x&&v.get("is_tatertot_enabled",!0)&&v.get("is_upsell_banner_enabled",!0);break;case"agent-connector-in-context-upsell":_=b&&((w=y.metadata)==null?void 0:w.connector_id)!==void 0;break;default:_=!0}return!i&&_}function mNt(t){"use forget";const e=ee.c(2);if(!t.shouldRender)return null;let n;return e[0]!==t?(n=o.jsx(Ect,C({},t)),e[0]=t,e[1]=n):n=e[1],n}function Ect({contentArea:t,children:e}){"use forget";const{store:n}=Gf(),r=g.useRef(null);return n.useContentAreaResizeObserver(t,r),o.jsx("div",{ref:r,className:"relative h-full w-full",children:e})}function pNt(t){returnwindow.location.host+"/redeem/".concat(t)}function jct(t){return"/?code=".concat(t,"#referrals")}function gNt(t){return t.currency_code===vi?Pd:t.currency_code===yi?Id:t.currency_code===ho?Ld:t.currency_code===vo?Rd:Od}function hNt(t,e,n){return t.formatNumber(e||0,{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:2})}function Tct(t){return"/?program=".concat(t,"#referrals")}function vNt(t){return"/refer/".concat(t)}function yNt(){const t=it(),{data:e}=ase(),{markAsViewed:n}=$e(We.hasSeenReferralUpsellAnnouncement);g.useEffect(()=>{e&&e.info&&zt.logShowReferralUpsellAnnouncementBanner()},[e]);const r=e==null?void 0:e.info;return r?o.jsx(xn,{title:o.jsx(N,{id:"referralUpsellAnnouncementBanner.title",defaultMessage:"Get up to 12 free months of Plus when you refer classmates"}),content:o.jsx(N,{id:"referralUpsellAnnouncementBanner.content",defaultMessage:"Refer a friend to sign up for ChatGPT, and youâll both get a $20 credit."}),primaryCtaText:o.jsx(N,{id:"referralUpsellAnnouncementBanner.primaryCtaText",defaultMessage:"Invite"}),onDismiss:()=>{n(),zt.logCloseReferralUpsellAnnouncementBanner()},onPrimaryCtaClick:async()=>{n(),zt.logClickReferralUpsellButton(),t(Tct(r.program_name))}}):null}const xNt=t=>{var i,l,c,u,d,f,m,p;const{data:e,isLoading:n}=ut({enabled:!!t,queryKey:["referralMetadata",t],queryFn:async()=>K0.getReferralProgramMetadata(t)}),r=e,s=(c=(l=(i=r==null?void 0:r.metadata)==null?void 0:i.program_name)!=null?l:t)!=null?c:null,a=(r==null?void 0:r.ineligible_reason)&&(r&&!r.is_eligible&&(u=r.ineligible_reason)!=null?u:null);return{isEligible:(d=r==null?void 0:r.is_eligible)!=null?d:!1,referralMetadata:(f=r==null?void 0:r.metadata)!=null?f:null,programName:s,isReferralLoading:n,referralCode:(m=r==null?void 0:r.referral_code)!=null?m:null,transactionId:(p=r==null?void 0:r.transaction_id)!=null?p:null,referralError:a}},Nct=t=>{var a,i,l,c,u,d;const{data:e,isLoading:n}=ut({enabled:!!t,queryKey:["referralMetadata",t],queryFn:async()=>t?K0.getReferralCodeMetadata(t):{metadata:null,is_referrer:!1,ineligible_reason:null,should_forward_to_checkout:!1}}),r=e,s=(i=(a=r==null?void 0:r.metadata)==null?void 0:a.program_name)!=null?i:null;return{shouldForwardToCheckout:(l=r==null?void 0:r.should_forward_to_checkout)!=null?l:!1,isReferrer:(c=r==null?void 0:r.is_referrer)!=null?c:!1,ineligibleReason:(u=r==null?void 0:r.ineligible_reason)!=null?u:null,referralMetadata:(d=r==null?void 0:r.metadata)!=null?d:null,programName:s,isReferralLoading:n}},$1e=We.hasDismissedRefereeRedemption,q1e=()=>{const{eligible:t}=$e($1e),{referralCode:e,discountValue:n,discountDuration:r}=Act();return{shouldShowBanner:t&&e&&n&&r,referralCode:e,discountValue:n,discountDuration:r}},Act=()=>{const t=Ft.getItem(et.ReferralCode),{referralMetadata:e}=Nct(t);return{referralCode:t,discountValue:e==null?void 0:e.discount,discountDuration:e==null?void 0:e.duration}},bNt=()=>{const t=q(),e=ie(t,"727502549"),n=ie(t,"550432558"),{shouldShowBanner:r}=q1e();return e&&n&&r};function CNt(){const t=Z(),e=it(),{markAsViewed:n}=$e($1e),{shouldShowBanner:r,referralCode:s,discountValue:a,discountDuration:i}=q1e();if(g.useEffect(()=>{r&&s&&a&&i&&zt.logShowRefereeRedemptionBanner(s)},[r,s,a,i]),!r||!a||!i)return null;const l=Pct(t,a,i);return o.jsx(xn,{onPrimaryCtaClick:()=>{n(),zt.logClickRefereeRedeemButton(s),Ft.removeItem(et.ReferralCode),e(jct(s))},primaryCtaText:o.jsx(N,{id:"refereeRedemptionBannerPrimaryCta",defaultMessage:"Redeem"}),onDismiss:()=>{n(),zt.logCloseRefereeRedemptionBanner(s),Ft.removeItem(et.ReferralCode)},title:l,content:o.jsx(N,{id:"xoQacW",defaultMessage:"Verify you are a student to get your first month of Plus for free."})})}function Pct(t,e,n){var i,l;const{currencySymbol:r}=j1e(Loe(),e.currency_code),s=(l=(i=r.code.defaultMessage)==null?void 0:i.toString())!=null?l:qc,a=t.formatNumber(e.value,{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2});return e.value===Poe?o.jsx(N,{id:"refereeRedemptionFree",defaultMessage:"Finish redeeming your free month of Plus"}):o.jsx(N,{id:"refereeRedemptionDiscount",defaultMessage:"Get ChatGPT Plus for {discount} off for the {months, plural, one {first month} other {first # months}}.",values:{discount:a,months:n.num_periods}})}async function Ict(t){return ue.safePost("/payments/checkout",{requestBody:t,additionalHeaders:I5(null,null,null,await sPe("chatgpt_checkout").catch(e=>{ve.addError(e)}))})}async function _Nt(t,e,n){B.logEvent("Account Pay: Payment Checkout Clicked",e),Le.logEvent("chatgpt_account_payment_modal_upgrade_button_click",Re.PLUS);const r=await Ict(C({plan_name:"chatgptplusplan",billing_details:t},n&&{student_verification_id:n}));B.logEvent("Account Pay: Navigating to Payment Checkout",P(C({},e),{url:r.url})),Le.logEvent("chatgpt_account_payment_modal_navigating_to_checkout",Re.PLUS,{url:r.url}),n&&Ft.setItem(et.CheckoutFrom,"students"),window.location.href=r.url}const Lct=t=>{var r;const{data:e,isLoading:n}=ut({queryKey:["referralDiscount",t],queryFn:async()=>t?await K0.getReferralDiscount():{discount:null}});return{discount:(r=e==null?void 0:e.discount)!=null?r:null,isDiscountLoading:n}},Rct=We.hasDismissedReferrerRedemption,Oct=()=>{const{eligible:t}=$e(Rct),{discount:e,isDiscountLoading:n}=Lct(t);return{shouldShowBanner:t&&e&&!n,discountValue:e==null?void 0:e.value,discountDuration:e==null?void 0:e.duration}},wNt=()=>{const t=q(),e=ie(t,"727502549"),n=ie(t,"550432558"),{shouldShowBanner:r}=Oct();return e&&n&&r},d_={logDisabledAccess(t){Me.count(Ee.STUDENTS,"students.web.disabled",{reason:t})},logLandingPageImpression(){Me.count(Ee.STUDENTS,"students.web.landingPageImpression"),B.logEvent("Students: Landing Page Impression")},logClickLoginButton(t){Me.count(Ee.STUDENTS,"students.web.clickLoginButton",{key:"source",value:t}),B.logEvent("Students: Click Login Button",{source:t})},logClickVerifyButton(t){Me.count(Ee.STUDENTS,"students.web.clickVerifyButton",{key:"source",value:t}),B.logEvent("Students: Click Verify Button",{source:t})},logClickCheckoutButton(t){Me.count(Ee.STUDENTS,"students.web.clickCheckoutButton",{key:"source",value:t}),B.logEvent("Students: Click Checkout Button",{source:t})},logShowNeedsVerificationModal(){Me.count(Ee.STUDENTS,"students.web.showNeedsVerificationModal"),B.logEvent("Students: Show Needs Verification Modal")},logShowVerifiedModal(){Me.count(Ee.STUDENTS,"students.web.showVerifiedModal"),B.logEvent("Students: Show Verified Modal")},logError(t){Me.count(Ee.STUDENTS,"students.web.error",{key:"errorType",value:t})},logShowAnnouncementBanner(){Me.count(Ee.STUDENTS,"students.web.showAnnouncementBanner"),B.logEvent("Students: Show Announcement Banner")},logClickAnnouncementBanner(){Me.count(Ee.STUDENTS,"students.web.clickAnnouncementBanner"),B.logEvent("Students: Click Announcement Banner")},logCloseAnnouncementBanner(){Me.count(Ee.STUDENTS,"students.web.closeAnnouncementBanner"),B.logEvent("Students: Close Announcement Banner")}},SNt="redirectedFromAuth",Zz="studentsPromotion";function Kz(t){return t?"/students?".concat(t,"=true"):"/students"}function kNt(t=!1){return t?window.location.origin+"/?".concat(Zz,"=true"):"/?".concat(Zz,"=true")}function MNt(t){const e=t.hasPaidSubscription(),n=t.getLastActiveSubscription(),r=e&&[k7.CHATGPT_IOS,k7.SORA_IOS].includes(n.purchase_origin_platform),s=e&&n.purchase_origin_platform===k7.MOBILE_ANDROID;return r||s}function ENt(){const t=it(),{markAsViewed:e}=$e(We.hasSeenStudentsUpsellAnnouncement);return g.useEffect(()=>{d_.logShowAnnouncementBanner()},[]),o.jsx(xn,{title:o.jsx(N,{id:"GA5kGX",defaultMessage:"Students can claim 2 months of Plus, free."}),content:o.jsx(N,{id:"WOGB1g",defaultMessage:"Get access to premium features when you verify youâre a student in the US or Canada. {learnMoreLink}",values:{learnMoreLink:o.jsx("span",{className:"underline",children:o.jsx(mr,{to:Kz(),children:o.jsx(N,{id:"0cZpUc",defaultMessage:"Learn more"})})})}}),primaryCtaText:o.jsx(N,{id:"uA26i5",defaultMessage:"Learn More"}),onPrimaryCtaClick:()=>{d_.logClickAnnouncementBanner(),e(),t(Kz())},onDismiss:()=>{d_.logCloseAnnouncementBanner(),e()}})}const bt=pe({personal_trainer_title:{id:"curated-starter-prompts.personal_trainer.title-2",defaultMessage:"Be my personal trainer"},personal_trainer_body:{id:"curated-starter-prompts.personal_trainer.body-3",defaultMessage:"Create a strength training plan"},personal_trainer_prompt:{id:"curated-starter-prompts.personal_trainer.prompt",defaultMessage:"Create a strength training plan with daily check-ins and guidance on exercises, sets, and progression."},upgrade_skin_care_title:{id:"curated-starter-prompts.upgrade_skin_care.title",defaultMessage:"Upgrade my skin care"},upgrade_skin_care_body:{id:"curated-starter-prompts.upgrade_skin_care.body",defaultMessage:"Use my selfie for skincare tips"},upgrade_skin_care_prompt:{id:"curated-starter-prompts.upgrade_skin_care.prompt",defaultMessage:"I want good advice with skin care and makeup. Based on a selfie, get me advice for skin and hair, along with any products. Ask for a selfie if not provided."},is_this_scam_title:{id:"curated-starter-prompts.is_this_scam.title",defaultMessage:"Is this text a scam?"},is_this_scam_body:{id:"curated-starter-prompts.is_this_scam.body",defaultMessage:"Tell me if this text is a scam"},is_this_scam_prompt:{id:"curated-starter-prompts.is_this_scam.prompt",defaultMessage:"I just got this weird text message. Here's a screenshot. Do you think itâs a scam or some kind of phishing attempt?"},motivate_me_title:{id:"curated-starter-prompts.motivate_me.title",defaultMessage:"Motivate me"},motivate_me_body:{id:"curated-starter-prompts.motivate_me.body-2",defaultMessage:"Help with procrastination"},motivate_me_prompt:{id:"curated-starter-prompts.motivate_me.prompt",defaultMessage:"I'm struggling to get started. Motivate me. Break things down into the very small tasks to make it easy. Ask me questions for context."},meal_prep_title:{id:"curated-starter-prompts.meal_prep.title",defaultMessage:"Simplify meal prep"},meal_prep_body:{id:"curated-starter-prompts.meal_prep.body-2",defaultMessage:"Create a protein-packed meal plan"},meal_prep_prompt:{id:"curated-starter-prompts.meal_prep.prompt",defaultMessage:"Create a plan for meal prep with a grocery list. I want more protein and less carbs. I have a limited budget. Keep it simple."},morning_routine_title:{id:"curated-starter-prompts.morning_routine.title",defaultMessage:"Build my morning routine"},morning_routine_body:{id:"curated-starter-prompts.morning_routine.body-2",defaultMessage:"Build a morning routine for focus"},morning_routine_prompt:{id:"curated-starter-prompts.morning_routine.prompt",defaultMessage:"Help me build a better morning routine. I want to start my days with more focus. Be my coach and keep me honest."},budget_title:{id:"curated-starter-prompts.budget.title",defaultMessage:"Make my budget"},budget_body:{id:"curated-starter-prompts.budget.body",defaultMessage:"Make my weekly budget"},budget_prompt:{id:"curated-starter-prompts.budget.prompt",defaultMessage:"I want to get control of my bills. Here's what is due, my monthly paycheck, other expenses. I'd like help getting on top of this and then trying to save some money."},color_theory_title:{id:"curated-starter-prompts.color_theory.title",defaultMessage:"Do my color theory analysis"},color_theory_body:{id:"curated-starter-prompts.color_theory.body",defaultMessage:"Do my color theory analysis"},color_theory_prompt:{id:"curated-starter-prompts.color_theory.prompt",defaultMessage:"Take a look at this picture of me. Using color theory, tell me my season and suggest my best colors for clothing and makeup. Ask for a picture if not provided."},fix_procrastination_title:{id:"curated-starter-prompts.fix_procrastination.title-2",defaultMessage:"Help with procrastination"},fix_procrastination_body:{id:"curated-starter-prompts.fix_procrastination.body",defaultMessage:"Help me start a project I put off"},fix_procrastination_prompt:{id:"curated-starter-prompts.fix_procrastination.prompt",defaultMessage:"I'm struggling to get started. Motivate me. Break things down into the very small tasks to make it easy. Ask me questions for context."},decode_this_text_message_title:{id:"curated-starter-prompts.decode_this_text_message.title",defaultMessage:"Decode this text message"},decode_this_text_message_body:{id:"curated-starter-prompts.decode_this_text_message.body",defaultMessage:"Decode this text message"},decode_this_text_message_prompt:{id:"curated-starter-prompts.decode_this_text_message.prompt",defaultMessage:"Decode this text and explain possible intentions behind it. I want to understand what the person might really mean."},help_me_get_recognized_title:{id:"curated-starter-prompts.help_me_get_recognized.title",defaultMessage:"Help me get recognized"},help_me_get_recognized_body:{id:"curated-starter-prompts.help_me_get_recognized.body",defaultMessage:"Help me get recognition for my work"},help_me_get_recognized_prompt:{id:"curated-starter-prompts.help_me_get_recognized.prompt",defaultMessage:"I'm not getting recognized for everything I'm doing. Be my personal coach. Ask me questions and help me advocate for myself."},anime_style_portrait_title:{id:"curated-starter-prompts.anime_style_portrait.title",defaultMessage:"Anime-style portrait"},anime_style_portrait_body:{id:"curated-starter-prompts.anime_style_portrait.body",defaultMessage:"Make an anime-style portrait of me"},anime_style_portrait_prompt:{id:"curated-starter-prompts.anime_style_portrait.prompt-2",defaultMessage:"Recreate this photo in a playful anime style. Ask for a photo if not provided."},action_figure_portrait_title:{id:"curated-starter-prompts.action_figure_portrait.title",defaultMessage:"Action figure portrait"},action_figure_portrait_body:{id:"curated-starter-prompts.action_figure_portrait.body",defaultMessage:"Turn me into an action figure"},action_figure_portrait_prompt:{id:"curated-starter-prompts.action_figure_portrait.prompt",defaultMessage:"Use my photo to create a 3D superhero action figure of me. Label the box and include my pet as a sidekick. Ask for my name and picture if not provided."},b_w_raindrop_portrait_title:{id:"curated-starter-prompts.b_w_raindrop_portrait.title-2",defaultMessage:"Cinematic raindrop portrait"},b_w_raindrop_portrait_body:{id:"curated-starter-prompts.b_w_raindrop_portrait.body-2",defaultMessage:"Make a cinematic raindrop portrait"},b_w_raindrop_portrait_prompt:{id:"curated-starter-prompts.b_w_raindrop_portrait.prompt-2",defaultMessage:"Make this photo a black and white portrait of the subject emerging from water. Make it feel cinematic. Ask for a photo if not provided."},b_w_studio_portrait_title:{id:"curated-starter-prompts.b_w_studio_portrait.title",defaultMessage:"Studio Portrait in B&W"},b_w_studio_portrait_body:{id:"curated-starter-prompts.b_w_studio_portrait.body",defaultMessage:"Make a studio portrait in B&W"},b_w_studio_portrait_prompt:{id:"curated-starter-prompts.b_w_studio_portrait.prompt",defaultMessage:"Fashion photography portrait, black and white. high fashion, editorial lighting, cinematic."},create_a_puppet_title:{id:"curated-starter-prompts.create_a_puppet.title",defaultMessage:"Create a puppet"},create_a_puppet_body:{id:"curated-starter-prompts.create_a_puppet.body",defaultMessage:"Create a puppet"},create_a_puppet_prompt:{id:"curated-starter-prompts.create_a_puppet.prompt",defaultMessage:"Make a puppet from this photo. Ask for a photo if not provided."},document_summary_title:{id:"curated-starter-prompts.document_summary.title",defaultMessage:"Read this document"},document_summary_body:{id:"curated-starter-prompts.document_summary.body",defaultMessage:"Read this document"},document_summary_prompt:{id:"curated-starter-prompts.document_summary.prompt",defaultMessage:"Give me the key points from this document. Start simple, and I'll ask follow-up questions. Ask for a document if not provided."},recommend_a_movie_title:{id:"curated-starter-prompts.recommend_a_movie.title",defaultMessage:"Recommend a movie"},recommend_a_movie_body:{id:"curated-starter-prompts.recommend_a_movie.body",defaultMessage:"Recommend a movie"},recommend_a_movie_prompt:{id:"curated-starter-prompts.recommend_a_movie.prompt",defaultMessage:"What are well-reviewed movies I should watch tonight? I love action and comedies."},create_a_quiz_title:{id:"curated-starter-prompts.create_a_quiz.title",defaultMessage:"Create a quiz"},create_a_quiz_body:{id:"curated-starter-prompts.create_a_quiz.body",defaultMessage:"Create a quiz"},create_a_quiz_prompt:{id:"curated-starter-prompts.create_a_quiz.prompt",defaultMessage:"I have an exam this week. Create a quiz based on my notes and ask questions one at a time."},language_coach_spanish_title:{id:"curated-starter-prompts.language_coach_spanish.title",defaultMessage:"Be my language coach"},language_coach_spanish_body:{id:"curated-starter-prompts.language_coach_spanish.body",defaultMessage:"Help me practice Spanish vocabulary and gently correct my mistakes."},language_coach_spanish_prompt:{id:"curated-starter-prompts.language_coach_spanish.prompt",defaultMessage:"I'm trying to master some Spanish vocabulary before traveling to Mexico. Can you practice with me and gently correct my mistakes when I get something wrong?"},friendly_text_roommate_title:{id:"curated-starter-prompts.friendly_text_roommate.title",defaultMessage:"Make this text sound friendlier"},friendly_text_roommate_body:{id:"curated-starter-prompts.friendly_text_roommate.body",defaultMessage:"Make this text to my roommate kinder, please"},friendly_text_roommate_prompt:{id:"curated-starter-prompts.friendly_text_roommate.prompt",defaultMessage:"My roommate plays heavy metal music really loud late at night. Can you draft a friendly text that asks him to turn it down after 10 PM?"},packing_list_camping_title:{id:"curated-starter-prompts.packing_list_camping.title",defaultMessage:"Make a packing list"},packing_list_camping_body:{id:"curated-starter-prompts.packing_list_camping.body",defaultMessage:"Create a minimal packing list for a camping trip"},packing_list_camping_prompt:{id:"curated-starter-prompts.packing_list_camping.prompt",defaultMessage:"I'm planning on going camping for the first time with friends this weekend and don't have much room to bring stuff with me. Can you create a packing list with just the bare essentials?"},gift_under_20_title:{id:"curated-starter-prompts.gift_under_20.title",defaultMessage:"Find a great gift under $20"},gift_under_20_body:{id:"curated-starter-prompts.gift_under_20.body",defaultMessage:"Give me gift ideas under $20 for a friend"},gift_under_20_prompt:{id:"curated-starter-prompts.gift_under_20.prompt",defaultMessage:"My friend loves kpop music and they have a birthday coming up. Can you recommend a gift for them that's under $20?"},plan_game_night_mystery_title:{id:"curated-starter-prompts.plan_game_night_mystery.title",defaultMessage:"Plan a game night"},plan_game_night_mystery_body:{id:"curated-starter-prompts.plan_game_night_mystery.body",defaultMessage:"Plan a themed game night with six friends"},plan_game_night_mystery_prompt:{id:"curated-starter-prompts.plan_game_night_mystery.prompt",defaultMessage:"I want to host a murder mystery party with my friends. Can you help plan the mystery and suggest fun food and drinks to serve?"},decluttering_plan_4_weeks_title:{id:"curated-starter-prompts.decluttering_plan_4_weeks.title",defaultMessage:"Make a decluttering plan"},decluttering_plan_4_weeks_body:{id:"curated-starter-prompts.decluttering_plan_4_weeks.body",defaultMessage:"Create a 4 week, 10 mins-per-day decluttering plan"},decluttering_plan_4_weeks_prompt:{id:"curated-starter-prompts.decluttering_plan_4_weeks.prompt",defaultMessage:"I want to have more kitchen countertop space. Can you help me create a decluttering plan so I can make more space? I only want to spend 10 minutes per day on it over the next 4 weeks."},fridge_recipes_three_title:{id:"curated-starter-prompts.fridge_recipes_three.title",defaultMessage:"Recipes for what's in my fridge"},fridge_recipes_three_body:{id:"curated-starter-prompts.fridge_recipes_three.body",defaultMessage:"Give me 3 quick recipes with chicken, lettuce, and salsa"},fridge_recipes_three_prompt:{id:"curated-starter-prompts.fridge_recipes_three.prompt",defaultMessage:"I'm stumped on what to make for dinner. Can you create three easy recipes for me based on the leftover chicken, lettuce, and cheese I have in my fridge?"},desk_stretch_routine_title:{id:"curated-starter-prompts.desk_stretch_routine.title",defaultMessage:"Make a daily desk stretch routine"},desk_stretch_routine_body:{id:"curated-starter-prompts.desk_stretch_routine.body",defaultMessage:"Draft a desk-friendly, 5-minute stretch routine"},desk_stretch_routine_prompt:{id:"curated-starter-prompts.desk_stretch_routine.prompt",defaultMessage:"I have a lot of back pain at my desk job. Can you suggest some 5-minute stretches that I can do discreetly at the office?"},prep_for_appointment_title:{id:"curated-starter-prompts.prep_for_appointment.title",defaultMessage:"Prep for an appointment"},prep_for_appointment_body:{id:"curated-starter-prompts.prep_for_appointment.body",defaultMessage:"Write questions + checklist for my PT visit"},prep_for_appointment_prompt:{id:"curated-starter-prompts.prep_for_appointment.prompt",defaultMessage:"I have a mild cough and a runny nose. Help me prep for my doctor's visit with a checklist."},decode_bill_title:{id:"curated-starter-prompts.decode_bill.title",defaultMessage:"Decode this bill"},decode_bill_body:{id:"curated-starter-prompts.decode_bill.body",defaultMessage:"Explain this charge and what I owe, simply."},decode_bill_prompt:{id:"curated-starter-prompts.decode_bill.prompt",defaultMessage:"I'll upload my bill. Help me understand why I was charged this amount and how much I owe in plain language."},decision_pros_cons_title:{id:"curated-starter-prompts.decision_pros_cons.title",defaultMessage:"Help me make a decision"},decision_pros_cons_body:{id:"curated-starter-prompts.decision_pros_cons.body",defaultMessage:"Compare A vs B: give me pros, cons, and a recommendation"},decision_pros_cons_prompt:{id:"curated-starter-prompts.decision_pros_cons.prompt",defaultMessage:"I'm trying to decide what to buy. Can you give me pros, cons and a recommendation?"},organize_notes_title:{id:"curated-starter-prompts.organize_notes.title",defaultMessage:"Organize my notes"},organize_notes_body:{id:"curated-starter-prompts.organize_notes.body",defaultMessage:"Turn these notes into an outline + actions."},organize_notes_prompt:{id:"curated-starter-prompts.organize_notes.prompt",defaultMessage:"Summarize this document and give me a list of key points and action items"},excel_shortcuts_cheatsheet_title:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.title",defaultMessage:"Write an Excel cheat sheet"},excel_shortcuts_cheatsheet_body:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.body",defaultMessage:"Write a one-page Excel shortcuts cheat sheet."},excel_shortcuts_cheatsheet_prompt:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.prompt",defaultMessage:"I'm trying to get better at making spreadsheets. Can you make me a one-page cheat sheet to help me be more productive?"},presentation_outline_title:{id:"curated-starter-prompts.presentation_outline.title",defaultMessage:"Start a presentation outline"},presentation_outline_body:{id:"curated-starter-prompts.presentation_outline.body",defaultMessage:"Outline a 6-slide deck with key points"},presentation_outline_prompt:{id:"curated-starter-prompts.presentation_outline.prompt",defaultMessage:"I'm putting together a presentation on the digestive system for school. Outline a 6-slide deck with key points to help me get started."},social_media_captions_title:{id:"curated-starter-prompts.social_media_captions.title",defaultMessage:"Draft social media captions"},social_media_captions_body:{id:"curated-starter-prompts.social_media_captions.body",defaultMessage:"Write 5 short captions for a summer trip Instagram post"},social_media_captions_prompt:{id:"curated-starter-prompts.social_media_captions.prompt",defaultMessage:"Here's an Instagram campaign I'm running. Write short captions for each of the images."},true_crime_watch_list_title:{id:"curated-starter-prompts.true_crime_watch_list.title",defaultMessage:"Make a true crime watch list"},true_crime_watch_list_body:{id:"curated-starter-prompts.true_crime_watch_list.body",defaultMessage:"Recommend true crime books, videos, and podcasts"},true_crime_watch_list_prompt:{id:"curated-starter-prompts.true_crime_watch_list.prompt",defaultMessage:"Recommend books, videos, and podcasts about true crime that I might like."},help_me_translate_title:{id:"curated-starter-prompts.help_me_translate.title",defaultMessage:"Help me translate"},help_me_translate_body:{id:"curated-starter-prompts.help_me_translate.body",defaultMessage:"Help me translate"},help_me_translate_prompt:{id:"curated-starter-prompts.help_me_translate.prompt",defaultMessage:"Help me translate between English and another language. Explain tone and nuance where helpful."},professional_email_boss_title:{id:"curated-starter-prompts.professional_email_boss.title",defaultMessage:"Write a professional email"},professional_email_boss_body:{id:"curated-starter-prompts.professional_email_boss.body",defaultMessage:"Draft a clear email to my boss about a project that I want to kick off."},professional_email_boss_prompt:{id:"curated-starter-prompts.professional_email_boss.prompt",defaultMessage:"Draft a clear email to my boss about a project that I want to kick off."},summarize_financial_news_title:{id:"curated-starter-prompts.summarize_financial_news.title",defaultMessage:"Summarize this"},summarize_financial_news_body:{id:"curated-starter-prompts.summarize_financial_news.body",defaultMessage:"Summarize the latest financial news with three takeaways that are relevant for me."},summarize_financial_news_prompt:{id:"curated-starter-prompts.summarize_financial_news.prompt",defaultMessage:"Summarize the latest financial news with three takeaways that are relevant for me."},breathing_meditation_title:{id:"curated-starter-prompts.breathing_meditation.title",defaultMessage:"Lead a breathing meditation"},breathing_meditation_body:{id:"curated-starter-prompts.breathing_meditation.body",defaultMessage:"Lead a 5-minute breathing meditation"},breathing_meditation_prompt:{id:"curated-starter-prompts.breathing_meditation.prompt",defaultMessage:"Lead a 5-minute breathing meditation."},voice_mock_interview_title:{id:"curated-starter-prompts.voice_mock_interview.title",defaultMessage:"Mock interview coach"},voice_mock_interview_body:{id:"curated-starter-prompts.voice_mock_interview.body",defaultMessage:"Do a voice mock interview for [role] and give feedback"},voice_mock_interview_prompt:{id:"curated-starter-prompts.voice_mock_interview.prompt",defaultMessage:"Do a voice mock interview for [role] and give feedback."},toast_speech_coach_title:{id:"curated-starter-prompts.toast_speech_coach.title",defaultMessage:"Toast coach"},toast_speech_coach_body:{id:"curated-starter-prompts.toast_speech_coach.body",defaultMessage:"Listen to my toast; coach pacing, pauses, and tone"},toast_speech_coach_prompt:{id:"curated-starter-prompts.toast_speech_coach.prompt",defaultMessage:"Listen to my toast; coach my pacing, pauses, and tone."},logo_ideas_simple_title:{id:"curated-starter-prompts.logo_ideas_simple.title",defaultMessage:"Create simple logo ideas"},logo_ideas_simple_body:{id:"curated-starter-prompts.logo_ideas_simple.body",defaultMessage:"Create simple logo ideas for my business, they should be clean and modern"},logo_ideas_simple_prompt:{id:"curated-starter-prompts.logo_ideas_simple.prompt",defaultMessage:"Create simple logo ideas for my business, they should be clean and modern"},translation_generic_title:{id:"curated-starter-prompts.translation_generic.title",defaultMessage:"Translation"},translation_generic_body:{id:"curated-starter-prompts.translation_generic.body",defaultMessage:"Translate text between languages"},translation_generic_prompt:{id:"curated-starter-prompts.translation_generic.prompt",defaultMessage:"Translate the following text to [language]. Keep it natural and explain any tricky phrases."},professional_profile_picture_title:{id:"curated-starter-prompts.professional_profile_picture.title",defaultMessage:"Make a professional profile picture"},professional_profile_picture_body:{id:"curated-starter-prompts.professional_profile_picture.body",defaultMessage:"Create a professional headshot of me using this photo"},professional_profile_picture_prompt:{id:"curated-starter-prompts.professional_profile_picture.prompt",defaultMessage:"Create a professional headshot of me using this photo. I'll upload the photo."},visualize_concept_benzene_title:{id:"curated-starter-prompts.visualize_concept_benzene.title",defaultMessage:"Visualize a concept"},visualize_concept_benzene_body:{id:"curated-starter-prompts.visualize_concept_benzene.body",defaultMessage:"Create an image to help me visualize the 3D molecular structure for benzene."},visualize_concept_benzene_prompt:{id:"curated-starter-prompts.visualize_concept_benzene.prompt",defaultMessage:"Please create an image to help me visualize the 3D molecular structure for benzene."},redesign_this_room_title:{id:"curated-starter-prompts.redesign_this_room.title",defaultMessage:"Redesign this room"},redesign_this_room_body:{id:"curated-starter-prompts.redesign_this_room.body",defaultMessage:"Make this room a mid-century modern style with new paint and furniture."},redesign_this_room_prompt:{id:"curated-starter-prompts.redesign_this_room.prompt",defaultMessage:"Redesign this room with new paint and furniture. I'll upload a photo of the room."},make_me_an_action_figure_title:{id:"curated-starter-prompts.make_me_an_action_figure.title",defaultMessage:"Make me an action figure"},make_me_an_action_figure_body:{id:"curated-starter-prompts.make_me_an_action_figure.body",defaultMessage:"Draw a picture of me as a real-life action figure. Include my interests, like gardening and baking, in the packaging."},make_me_an_action_figure_prompt:{id:"curated-starter-prompts.make_me_an_action_figure.prompt",defaultMessage:"Draw a picture of me as a real-life action figure. Include my interests, like gardening and baking, in the packaging. I'll upload my photo."},promo_code_title:{id:"curated-starter-prompts.promo_code.title",defaultMessage:"Find shopping promo codes"},promo_code_body:{id:"curated-starter-prompts.promo_code.body",defaultMessage:"Find shopping promo codes"},promo_code_prompt:{id:"curated-starter-prompts.promo_code.prompt",defaultMessage:"Find promo codes or coupons for my favorite sites. Confirm they're active."}});function z1e(){const t=Z();return[{type:je.Starter,id:"morning_routine",title:t.formatMessage(bt.morning_routine_title),body:t.formatMessage(bt.morning_routine_body),prompt:t.formatMessage(bt.morning_routine_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-sun-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-sun-sm@2x.png",accentColor:"#F9C00D",isFeatured:!0,source:"CURATED"},{type:je.Starter,id:"be_my_personal_trainer",title:t.formatMessage(bt.personal_trainer_title),body:t.formatMessage(bt.personal_trainer_body),prompt:t.formatMessage(bt.personal_trainer_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-fitness-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-fitness-sm@2x.png",accentColor:"#000000",isFeatured:!0,source:"CURATED"},{type:je.Starter,id:"fix_procrastination",title:t.formatMessage(bt.fix_procrastination_title),body:t.formatMessage(bt.fix_procrastination_body),prompt:t.formatMessage(bt.fix_procrastination_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",isFeatured:!0,source:"CURATED"},{type:je.Starter,id:"upgrade_skin_care",title:t.formatMessage(bt.upgrade_skin_care_title),body:t.formatMessage(bt.upgrade_skin_care_body),prompt:t.formatMessage(bt.upgrade_skin_care_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-skincare-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-skincare-sm@2x.png",accentColor:"#F3A38C",requires_file_upload:!0,isFeatured:!0,source:"CURATED"},{type:je.Starter,id:"meal_prep",title:t.formatMessage(bt.meal_prep_title),body:t.formatMessage(bt.meal_prep_body),prompt:t.formatMessage(bt.meal_prep_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-food@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-food-40@2x.png",accentColor:"#E66E04",isFeatured:!0,source:"CURATED"},{type:je.Starter,id:"budget",title:t.formatMessage(bt.budget_title),body:t.formatMessage(bt.budget_body),prompt:t.formatMessage(bt.budget_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-preadsheet@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-preadsheet-40@2x.png",accentColor:"#F8907F",source:"CURATED"},{type:je.Starter,id:"color_theory",title:t.formatMessage(bt.color_theory_title),body:t.formatMessage(bt.color_theory_body),prompt:t.formatMessage(bt.color_theory_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-color-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-color-sm@2x.png",accentColor:"#EABD7E",requires_file_upload:!0,source:"CURATED"},{type:je.Starter,id:"help_me_get_recognized",title:t.formatMessage(bt.help_me_get_recognized_title),body:t.formatMessage(bt.help_me_get_recognized_body),prompt:t.formatMessage(bt.help_me_get_recognized_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-award@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-award-40@2x.png",source:"CURATED"},{type:je.Starter,id:"anime_style_portrait",title:t.formatMessage(bt.anime_style_portrait_title),body:t.formatMessage(bt.anime_style_portrait_body),prompt:t.formatMessage(bt.anime_style_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/anime@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/anime.png",requires_file_upload:!0,systemHints:[we.PictureV2],source:"CURATED"},{type:je.Starter,id:"action_figure_portrait",title:t.formatMessage(bt.action_figure_portrait_title),body:t.formatMessage(bt.action_figure_portrait_body),prompt:t.formatMessage(bt.action_figure_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/action-figure@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/action-figure.png",requires_file_upload:!0,systemHints:[we.PictureV2],source:"CURATED"},{type:je.Starter,id:"b_w_raindrop_portrait",title:t.formatMessage(bt.b_w_raindrop_portrait_title),body:t.formatMessage(bt.b_w_raindrop_portrait_body),prompt:t.formatMessage(bt.b_w_raindrop_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/raindrop-bnw@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/raindrop-bnw.png",requires_file_upload:!0,source:"CURATED"},{type:je.Starter,id:"b_w_studio_portrait",title:t.formatMessage(bt.b_w_studio_portrait_title),body:t.formatMessage(bt.b_w_studio_portrait_body),prompt:t.formatMessage(bt.b_w_studio_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/studio-bnw@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/studio-bnw.png",requires_file_upload:!0,source:"CURATED"},{type:je.Starter,id:"create_a_puppet",title:t.formatMessage(bt.create_a_puppet_title),body:t.formatMessage(bt.create_a_puppet_body),prompt:t.formatMessage(bt.create_a_puppet_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/create-puppet@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/create-puppet.png",requires_file_upload:!0,systemHints:[we.PictureV2],source:"CURATED"},{type:je.Starter,id:"document_summary",title:t.formatMessage(bt.document_summary_title),body:t.formatMessage(bt.document_summary_body),prompt:t.formatMessage(bt.document_summary_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-paper-pen@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-paper-pen-40@2x.png",requires_file_upload:!0,source:"CURATED"},{type:je.Starter,id:"recommend_a_movie",title:t.formatMessage(bt.recommend_a_movie_title),body:t.formatMessage(bt.recommend_a_movie_body),prompt:t.formatMessage(bt.recommend_a_movie_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-movies@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-movies-40@2x.png",source:"CURATED"},{type:je.Starter,id:"create_a_quiz",title:t.formatMessage(bt.create_a_quiz_title),body:t.formatMessage(bt.create_a_quiz_body),prompt:t.formatMessage(bt.create_a_quiz_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",requires_file_upload:!0,source:"CURATED"},{type:je.Starter,id:"promo_code",title:t.formatMessage(bt.promo_code_title),body:t.formatMessage(bt.promo_code_body),prompt:t.formatMessage(bt.promo_code_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",source:"CURATED"}]}function Dct(t,e=[],n=4,r=2){if(!t||t.length===0)return[];const s=p=>p.category==="dalle"||!!p.coverImageUrl,a=(p,h)=>p.id!=null&&h.id!=null?p.id===h.id:p===h,i=(p,h)=>e.some(v=>h&&!h(v)?!1:a(v,p)),l=t.filter(p=>p.category==="dalle"&&!i(p,s));let c=l.length>0?l[Math.floor(Math.random()*l.length)]:void 0;if(!c){const p=t.filter(h=>!!h.coverImageUrl).filter(h=>!i(h,s));c=p.length>0?p[Math.floor(Math.random()*p.length)]:void 0}const d=[...t.filter(p=>!(p===c||s(p)||i(p,h=>!s(h))))].sort(()=>Math.random()-.5);if(c){const p=Math.max(0,n-1),h=[],v=new Set;for(const b of d){const _=b.iconImageUrl;if(!v.has(_)&&(v.add(_),h.push(b),h.length===p))break}if(h.length<p){for(const b of d)if(!h.includes(b)&&(h.push(b),h.length===p))break}const y=[...h],x=Math.min(Math.max(r,0),Math.max(n-1,0));return y.splice(x,0,c),y.slice(0,n)}const f=[],m=new Set;for(const p of d){const h=p.iconImageUrl;if(!m.has(h)&&(m.add(h),f.push(p),f.length===n))break}if(f.length<n){for(const p of d)if(!f.includes(p)&&(f.push(p),f.length===n))break}return f.slice(0,n)}const Hr=pe({add_picture_do_rest:{id:"india-viral-image-gen-prompts.add_picture_do_rest",defaultMessage:"Just add a picture â ChatGPT will do the rest."},navratri_title:{id:"india-viral-image-gen-prompts.navratri.title",defaultMessage:"Navratri Garba Glow"},navratri_oneliner:{id:"india-viral-image-gen-prompts.navratri.oneliner",defaultMessage:"Garba night photo, styled for you"},navratri_prompt:{id:"india-viral-image-gen-prompts.navratri.prompt",defaultMessage:"Transform us into a Garba dance celebration, wearing colorful chaniya cholis and kediyus, ready to dance under strings of fairy lights in a festive ground."},diwali_title:{id:"india-viral-image-gen-prompts.diwali.title",defaultMessage:"Diwali Family Lights"},diwali_oneliner:{id:"india-viral-image-gen-prompts.diwali.oneliner",defaultMessage:"Create a Diwali card from your photo"},diwali_prompt:{id:"india-viral-image-gen-prompts.diwali.prompt",defaultMessage:"Change the photo to us wearing traditional clothes, participating in a Diwali celebration. Glowing 'Happy Diwali From [Insert Name]' text written in background with shining letters floats in the air. Make it a slightly stylized festive illustration."},childrens_title:{id:"india-viral-image-gen-prompts.childrens.title",defaultMessage:"Children's Day Story"},childrens_oneliner:{id:"india-viral-image-gen-prompts.childrens.oneliner",defaultMessage:"Make a playful Childrenâs Day card"},childrens_prompt:{id:"india-viral-image-gen-prompts.childrens.prompt",defaultMessage:"Create a Happy Children's Day greeting card in a photo surrealistic style. The photo looks like there is a big open book with the greeting written on it and the children are playing on swings and slides around it. There are rainbows and confetti all around."},christmas_title:{id:"india-viral-image-gen-prompts.christmas.title",defaultMessage:"Christmas Wonderland Card"},christmas_oneliner:{id:"india-viral-image-gen-prompts.christmas.oneliner",defaultMessage:"Make a snowy family Christmas card"},christmas_prompt:{id:"india-viral-image-gen-prompts.christmas.prompt",defaultMessage:'Make the family celebrate Christmas in a detailed snowy winter wonderland Christmas card style with "Merry Christmas from the [Insert Name]" written in the background.'},cricket_title:{id:"india-viral-image-gen-prompts.cricket.title",defaultMessage:"Cricket Festival Street"},cricket_oneliner:{id:"india-viral-image-gen-prompts.cricket.oneliner",defaultMessage:"Get a custom match-day photo"},cricket_prompt:{id:"india-viral-image-gen-prompts.cricket.prompt",defaultMessage:"Generate a vibrant Indian festival street scene with me included in the celebration and fans in blue jerseys dancing Garba and waving flags, colorful gulal (powder) flying in the air, and a glowing banner reading 'Chak De India' in beautiful English calligraphy."}});function Fct(){"use forget";var u;const t=ee.c(14),e=Z(),{country:n}=wf(),r=n!=null?n:"";let s;t[0]!==r?(s=r.toUpperCase(),t[0]=r,t[1]=s):s=t[1];const a=s;let i,l;if(t[2]!==e||t[3]!==a){l=Symbol.for("react.early_return_sentinel");e:{const d=e.formatMessage(Hr.add_picture_do_rest),f=Hct,m=w=>{var M;const S=(M=w.trending_target_countries)!=null?M:[];return S.length===0||a===""?!1:new Set(S.map(Uct)).has(a)},h=[{type:je.Trending,id:"india_viral_navratri_garba",title:e.formatMessage(Hr.navratri_title),body:d,oneliner:e.formatMessage(Hr.navratri_oneliner),prompt:e.formatMessage(Hr.navratri_prompt),category:"dalle",systemHints:[we.PictureV2],requires_dalle:!0,requires_file_upload:!0,is_trending:!0,trending_target_countries:["IN"],trending_schedule_timezone:"Asia/Kolkata",trending_schedule_utc:[{start_time_utc:"2025-09-21T18:30:00Z",end_time_utc:"2025-10-02T18:29:59Z"}],example_image_urls:[{"320_2x":"https://persistent.oaistatic.com/chatgpt/trending/image-gen/navratri-1@2x.png"},{"320_2x":"https://persistent.oaistatic.com/chatgpt/trending/image-gen/navratri-2@2x.png"}],theme:Ct.ImageGenTrending,source:"CURATED"},{type:je.Trending,id:"india_viral_diwali_family_glow",title:e.formatMessage(Hr.diwali_title),body:d,oneliner:e.formatMessage(Hr.diwali_oneliner),prompt:e.formatMessage(Hr.diwali_prompt),category:"dalle",systemHints:[we.PictureV2],requires_dalle:!0,requires_file_upload:!0,is_trending:!0,trending_target_countries:["IN"],trending_schedule_timezone:"Asia/Kolkata",trending_schedule_utc:[{start_time_utc:"2025-10-14T18:30:00Z",end_time_utc:"2025-10-22T18:29:59Z"}],example_image_urls:[{"320_2x":"https://persistent.oaistatic.com/chatgpt/trending/image-gen/diwali-1@2x.png"},{"320_2x":"https://persistent.oaistatic.com/chatgpt/trending/image-gen/diwali-2@2x.png"},{"320_2x":"https://persistent.oaistatic.com/chatgpt/trending/image-gen/diwali-3@2x.png"}],theme:Ct.ImageGenTrending,source:"CURATED"},{type:je.Trending,id:"india_viral_childrens_day_card",title:e.formatMessage(Hr.childrens_title),body:d,oneliner:e.formatMessage(Hr.childrens_oneliner),prompt:e.formatMessage(Hr.childrens_prompt),category:"dalle",systemHints:[we.PictureV2],requires_dalle:!0,requires_file_upload:!0,is_trending:!0,trending_target_countries:["IN"],trending_schedule_timezone:"Asia/Kolkata",trending_schedule_utc:[{start_time_utc:"2025-11-11T18:30:00Z",end_time_utc:"2025-11-14T18:29:59Z"}],example_image_urls:[{"320_2x":"https://persistent.oaistatic.com/chatgpt/trending/image-gen/childrens-day@2x.png"}],theme:Ct.ImageGenTrending,source:"CURATED"},{type:je.Trending,id:"india_viral_christmas_card",title:e.formatMessage(Hr.christmas_title),body:d,oneliner:e.formatMessage(Hr.christmas_oneliner),prompt:e.formatMessage(Hr.christmas_prompt),category:"dalle",systemHints:[we.PictureV2],requires_dalle:!0,requires_file_upload:!0,is_trending:!0,trending_target_countries:["IN"],trending_schedule_timezone:"Asia/Kolkata",trending_schedule_utc:[{start_time_utc:"2025-12-24T18:30:00Z",end_time_utc:"2025-12-25T18:29:59Z"}],example_image_urls:[{"320_2x":"https://persistent.oaistatic.com/chatgpt/trending/image-gen/christmas@2x.png"}],theme:Ct.ImageGenTrending,source:"CURATED"},{type:je.Trending,id:"india_viral_cricket_festival",title:e.formatMessage(Hr.cricket_title),body:d,oneliner:e.formatMessage(Hr.cricket_oneliner),prompt:e.formatMessage(Hr.cricket_prompt),category:"dalle",systemHints:[we.PictureV2],requires_dalle:!0,is_trending:!0,trending_target_countries:["IN"],trending_schedule_timezone:"Asia/Kolkata",trending_schedule_utc:[{start_time_utc:"2025-09-08T18:30:00Z",end_time_utc:"2025-09-28T18:29:59Z"},{start_time_utc:"2025-10-18T18:30:00Z",end_time_utc:"2025-10-19T18:29:59Z"},{start_time_utc:"2025-10-22T18:30:00Z",end_time_utc:"2025-10-23T18:29:59Z"},{start_time_utc:"2025-10-24T18:30:00Z",end_time_utc:"2025-10-25T18:29:59Z"},{start_time_utc:"2025-10-28T18:30:00Z",end_time_utc:"2025-10-29T18:29:59Z"},{start_time_utc:"2025-10-30T18:30:00Z",end_time_utc:"2025-10-31T18:29:59Z"},{start_time_utc:"2025-11-01T18:30:00Z",end_time_utc:"2025-11-02T18:29:59Z"},{start_time_utc:"2025-11-05T18:30:00Z",end_time_utc:"2025-11-06T18:29:59Z"},{start_time_utc:"2025-11-07T18:30:00Z",end_time_utc:"2025-11-08T18:29:59Z"},{start_time_utc:"2025-11-29T18:30:00Z",end_time_utc:"2025-11-30T18:29:59Z"},{start_time_utc:"2025-12-02T18:30:00Z",end_time_utc:"2025-12-03T18:29:59Z"},{start_time_utc:"2025-12-05T18:30:00Z",end_time_utc:"2025-12-06T18:29:59Z"},{start_time_utc:"2025-12-08T18:30:00Z",end_time_utc:"2025-12-09T18:29:59Z"},{start_time_utc:"2025-12-10T18:30:00Z",end_time_utc:"2025-12-11T18:29:59Z"},{start_time_utc:"2025-12-13T18:30:00Z",end_time_utc:"2025-12-14T18:29:59Z"},{start_time_utc:"2025-12-16T18:30:00Z",end_time_utc:"2025-12-17T18:29:59Z"},{start_time_utc:"2025-12-18T18:30:00Z",end_time_utc:"2025-12-19T18:29:59Z"}],example_image_urls:[{"320_2x":"https://persistent.oaistatic.com/chatgpt/trending/image-gen/cricket@2x.png"}],theme:Ct.ImageGenTrending,source:"CURATED"}].filter(w=>m(w)&&f(w)),v=Bct,y=h.filter(v),x=y[Math.floor(Math.random()*y.length)];if(!x){let w;t[6]===Symbol.for("react.memo_cache_sentinel")?(w=[],t[6]=w):w=t[6],l=w;break e}const b=x.oneliner;i=b?P(C({},x),{title:b}):x;const _=i.example_image_urls;if(Array.isArray(_)&&_.length>0){const w=_[Math.floor(Math.random()*_.length)],S=(u=w==null?void 0:w["320_2x"])!=null?u:w?Object.values(w)[0]:void 0;if(typeof S=="string"&&S.length>0){let k;t[7]!==i||t[8]!==S?(k=P(C({},i),{coverImageUrl:S}),t[7]=i,t[8]=S,t[9]=k):k=t[9];const M=k;let E;t[10]!==M?(E=[M],t[10]=M,t[11]=E):E=t[11],l=E;break e}}}t[2]=e,t[3]=a,t[4]=i,t[5]=l}else i=t[4],l=t[5];if(l!==Symbol.for("react.early_return_sentinel"))return l;let c;return t[12]!==i?(c=[i],t[12]=i,t[13]=c):c=t[13],c}function Bct(t){var e;return(e=t.systemHints)==null?void 0:e.includes(we.PictureV2)}function Uct(t){return t.toUpperCase()}function Hct(t){var r;const e=(r=t.trending_schedule_utc)!=null?r:[];if(e.length===0)return!1;const n=new Date;for(const s of e){const a=s.start_time_utc,i=s.end_time_utc;if(!a||!i)continue;const l=new Date(a),c=new Date(i);if(l<=n&&n<=c)return!0}return!1}const Vct=M0(()=>{const t=nt(!1);let e=null;const n=s=>{e&&(clearTimeout(e),e=null),t.set(s)};return{shouldHighlight$:t,setShouldHighlight:n,flashHighlight:(s=4e3)=>{n(!0),e=setTimeout(()=>{t.set(!1),e=null},s)}}});function G1e(){"use forget";const t=ee.c(3),{store:e}=Gf(),n=qo();let r;return t[0]!==n||t[1]!==e?(r=(s,a,i,l)=>{const c=e.getSharedProps(),u=c==null?void 0:c.composerController;if(!u)return;const d=zr(a);if(d==null)return;const f="systemHints"in a?a.systemHints:void 0,m=f&&f.length>0?f[0]:void 0;if(m){const y=c!=null&&c.clientThreadId?{clientThreadId:c.clientThreadId}:void 0;n(m,C({},y?{analyticsMetadata:y}:{}))}if((a.type===je.Starter||a.type===je.Autocomplete||a.type===je.Trending)&&a.requires_file_upload===!0){const{flashHighlight:y}=Vct(u);y()}s.preventDefault();const h=Ht(u);Va(h,d),h.focus();const v=c==null?void 0:c.clientThreadId;v&&L5(a,l,v)},t[0]=n,t[1]=e,t[2]=r):r=t[2],r}const $ct=pe({subtitle:{id:"starter-prompt-banner.subtitle",defaultMessage:"Just add a picture â ChatGPT will do the rest. <tryNow>Try now</tryNow>"}});function jNt(){"use forget";const[t]=$o("oai/apps/hasDismissedStarterPromptBanner",!1,qct);return!t}function qct(t){return typeof t=="boolean"}function TNt(t){"use forget";var D;const e=ee.c(35),{className:n}=t,r=s1(),s=G1e(),[a,i]=$o("oai/apps/hasDismissedStarterPromptBanner",!1,Wct),l=z1e(),c=Fct(),d=i3(!1).get("image_gen_prompts_type","evergreen");let f;const m=d==="trending"?c:l;let p;e[0]!==m?(p=m.filter(Gct),e[0]=m,e[1]=p):p=e[1];const h=p;f=h[Math.floor(Math.random()*h.length)];const v=f;let y,x;e[2]!==v?(y=()=>{var Y;v&&B.logEventWithStatsig("Show Image Gen Prompt","chatgpt_prompt_show_suggestion",{type:v.type,id:v.id,index:0,theme:(Y=v.theme)!=null?Y:""})},x=[v],e[2]=v,e[3]=y,e[4]=x):(y=e[3],x=e[4]),g.useEffect(y,x);const b=QY();if(!v)return null;let _;e[5]!==v?(_=[v],e[5]=v,e[6]=_):_=e[6];const w=_,S=b,k=v.title,M=(D=v.coverImageUrl)!=null?D:v.coverThumbnailImageUrl;let E;e[7]!==w||e[8]!==r||e[9]!==S||e[10]!==s||e[11]!==v?(E=Y=>{var F;if(S){Y.preventDefault();return}if(Y.stopPropagation(),v.requires_file_upload===!0&&((F=v.systemHints)==null?void 0:F.includes(we.PictureV2))){s(Y,v,w,0);return}r(Y,v,w,0)},e[7]=w,e[8]=r,e[9]=S,e[10]=s,e[11]=v,e[12]=E):E=e[12];const T=E;if(a)return null;let j;e[13]!==n?(j=U("relative",n),e[13]=n,e[14]=j):j=e[14];const A=S?"opacity-60":"";let I;e[15]!==A?(I=U("border-token-border-default bg-tertiary flex w-full items-center gap-3 rounded-2xl border shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)]",A),e[15]=A,e[16]=I):I=e[16];let L;e[17]!==M?(L=M?o.jsx("div",{className:"py-3 ps-3",children:o.jsx("div",{className:"border-token-border-default borde h-14 w-14 -rotate-2 overflow-hidden rounded-xl p-0.5 shadow-lg",children:o.jsx("img",{src:M,alt:"","aria-hidden":"true",className:"h-full w-full rounded-lg object-cover"})})}):null,e[17]=M,e[18]=L):L=e[18];let O;e[19]!==k?(O=o.jsx("div",{className:"text-token-text-primary truncate text-sm leading-5 font-medium sm:text-base",children:k}),e[19]=k,e[20]=O):O=e[20];let R;e[21]===Symbol.for("react.memo_cache_sentinel")?(R=o.jsx("div",{className:"text-token-text-secondary mt-1 text-xs leading-5 sm:text-sm",children:o.jsx(N,P(C({},$ct.subtitle),{values:{tryNow:zct}}))}),e[21]=R):R=e[21];let H;e[22]!==O?(H=o.jsxs("div",{className:"min-w-0 flex-1 py-3 text-start",children:[O,R]}),e[22]=O,e[23]=H):H=e[23];let V;e[24]!==i?(V=o.jsx(gn,{className:"me-1 mt-1 self-start",iconSize:"md",onClick:Y=>{Y.stopPropagation(),i(!0)}}),e[24]=i,e[25]=V):V=e[25];let z;e[26]!==T||e[27]!==L||e[28]!==H||e[29]!==V||e[30]!==I?(z=o.jsxs("div",{role:"button",tabIndex:0,className:I,onClick:T,children:[L,H,V]}),e[26]=T,e[27]=L,e[28]=H,e[29]=V,e[30]=I,e[31]=z):z=e[31];let $;return e[32]!==z||e[33]!==j?($=o.jsx("div",{className:j,children:z}),e[32]=z,e[33]=j,e[34]=$):$=e[34],$}function zct(t){return o.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-500 sm:text-sm dark:text-blue-400",children:o.jsx("span",{children:t})})}function Gct(t){var e;return(e=t.systemHints)==null?void 0:e.includes(we.PictureV2)}function Wct(t){return typeof t=="boolean"}const hk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.4707 17.137C15.211 17.3967 14.789 17.3967 14.5293 17.137C14.2699 16.8774 14.27 16.4563 14.5293 16.1966L15.4707 17.137ZM14.5293 11.1966C14.7567 10.9693 15.1081 10.9409 15.3662 11.1117L15.4707 11.1966L17.9707 13.6966C18.23 13.9563 18.2301 14.3774 17.9707 14.637L15.4707 17.137L15 16.6663L14.5293 16.1966L15.8945 14.8314H14.5869C14.2748 14.8288 14.0174 14.818 13.7744 14.7747L13.6299 14.7445C13.3878 14.6863 13.1539 14.5994 12.9326 14.4867L12.7148 14.3656C12.3799 14.1603 12.1014 13.8751 11.6914 13.4652L11.1963 12.9701L11.667 12.5003L12.1367 12.0296L12.6318 12.5247C13.0865 12.9794 13.2406 13.1269 13.4102 13.2308L13.5361 13.3021C13.6644 13.3674 13.8002 13.4168 13.9404 13.4505L14.0957 13.4788C14.2674 13.4996 14.508 13.5013 14.9902 13.5013H15.8936L14.5293 12.137L14.4443 12.0326C14.2741 11.7746 14.3024 11.4238 14.5293 11.1966ZM14.5293 2.86263C14.7566 2.63536 15.1081 2.60716 15.3662 2.77767L15.4707 2.86263L17.9707 5.36263L18.0557 5.46712C18.2018 5.68842 18.2018 5.97825 18.0557 6.19954L17.9707 6.30404L15.4707 8.80404C15.211 9.06373 14.789 9.06373 14.5293 8.80404C14.2696 8.54434 14.2696 8.12233 14.5293 7.86263L15.8936 6.49837H14.9902C14.5079 6.49837 14.2674 6.50102 14.0957 6.52181L13.9404 6.54915C13.8001 6.58286 13.6645 6.63319 13.5361 6.69857L13.4102 6.76888C13.3253 6.82085 13.2445 6.88373 13.1279 6.99056L12.6318 7.47493L5.80859 14.2982C5.44991 14.6569 5.19151 14.9199 4.9082 15.1175L4.78516 15.1986C4.57277 15.3287 4.34572 15.4333 4.10938 15.5101L3.87012 15.5775C3.58342 15.6463 3.28545 15.6613 2.90723 15.6644L2.5 15.6654L2.36621 15.6517C2.06315 15.5898 1.83512 15.3216 1.83496 15.0003C1.83496 14.6331 2.13273 14.3353 2.5 14.3353L3.20117 14.3275C3.36059 14.3206 3.46295 14.3077 3.55957 14.2845L3.69824 14.2454C3.83527 14.2009 3.96671 14.1402 4.08984 14.0648L4.21875 13.974C4.35485 13.8673 4.52707 13.6988 4.86816 13.3577L11.6914 6.5345L11.9775 6.25032C12.2445 5.98777 12.4637 5.78904 12.7148 5.63509L12.9326 5.51302C13.1539 5.40035 13.3879 5.31429 13.6299 5.25618L13.7744 5.22591C14.1145 5.16528 14.4829 5.16829 14.9902 5.16829H15.8936L14.5293 3.80404L14.4443 3.69954C14.2738 3.44141 14.302 3.0899 14.5293 2.86263ZM11.1963 12.0296C11.4559 11.77 11.877 11.7701 12.1367 12.0296L11.1963 12.9701C10.9368 12.7103 10.9366 12.2893 11.1963 12.0296ZM2.90723 4.33529C3.28545 4.33837 3.58342 4.35337 3.87012 4.4222L4.10938 4.48958C4.34575 4.56639 4.57274 4.67094 4.78516 4.80111L4.9082 4.88216C5.19157 5.07978 5.44984 5.34275 5.80859 5.7015L7.13672 7.02962L7.22168 7.13411C7.39224 7.39225 7.36401 7.74276 7.13672 7.97005C6.90943 8.19734 6.55892 8.22557 6.30078 8.05501L6.19629 7.97005L4.86816 6.64193C4.52694 6.3007 4.35488 6.13241 4.21875 6.02572L4.08984 5.93587C3.96673 5.86043 3.83525 5.79974 3.69824 5.75521L3.55957 5.71615C3.46296 5.69295 3.36058 5.68005 3.20117 5.67318L2.5 5.66536L2.36621 5.65169C2.06315 5.58981 1.83511 5.32163 1.83496 5.00032C1.83496 4.63306 2.13273 4.33529 2.5 4.33529H2.90723Z"})),NNt=Object.freeze(Object.defineProperty({__proto__:null,default:hk},Symbol.toStringTag,{value:"Module"}));function Zct({label:t,onClick:e,disabled:n=!1,icon:r,rightIcon:s}){return o.jsxs("button",{className:"group border-token-border-default enabled:hover:bg-token-main-surface-secondary relative flex h-[42px] items-center gap-1.5 rounded-full border px-3 py-2 text-start text-[13px] transition disabled:cursor-not-allowed xl:gap-2 xl:text-[14px]",disabled:n,onClick:e,children:[r,o.jsx("span",{className:"group-hover:text-token-text-primary max-w-full whitespace-nowrap text-gray-600 transition select-none dark:text-gray-500",children:t}),s]})}const Kct=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.11523 3.19409C9.15589 2.15344 10.844 2.15363 11.8848 3.19409L16.8057 8.11499C17.8462 9.15575 17.8463 10.8438 16.8057 11.8845L11.8848 16.8054C10.8441 17.8461 9.156 17.846 8.11523 16.8054L3.19434 11.8845C2.15387 10.8438 2.15369 9.15564 3.19434 8.11499L8.11523 3.19409ZM7.96582 7.49976C7.78889 7.49965 7.6396 7.63263 7.61914 7.80835C7.49243 8.90693 6.87202 9.52734 5.77344 9.65405C5.59772 9.67451 5.46474 9.8238 5.46484 10.0007C5.46517 10.1777 5.59859 10.3264 5.77441 10.3464C6.85731 10.4691 7.52042 11.0831 7.61816 12.1824C7.63414 12.3623 7.78525 12.4999 7.96582 12.4998C8.14634 12.4994 8.29693 12.3613 8.3125 12.1814C8.40645 11.0979 9.06302 10.4414 10.1465 10.3474C10.3264 10.3318 10.4645 10.1813 10.4648 10.0007C10.465 9.82016 10.3273 9.66905 10.1475 9.65308C9.04822 9.55533 8.4342 8.89222 8.31152 7.80933C8.29153 7.6335 8.14276 7.50008 7.96582 7.49976Z",fill:"#5856D6"})),ANt=Object.freeze(Object.defineProperty({__proto__:null,default:Kct},Symbol.toStringTag,{value:"Module"})),PNt=()=>Za().pathname==="/new-tab-page";function INt({starterPrompt:t,allPrompts:e,index:n,disabled:r,className:s}){var p;const a=s1(),i=G1e(),l=(p=t.body)!=null?p:t.title,c=h=>{var y;((y=t.systemHints)==null?void 0:y.includes(we.PictureV2))&&t.requires_file_upload?i(h,t,e,n):a(h,t,e,n)},u=t.iconImageUrl,d=t.coverImageUrl,f=t.accentColor,m=f&&d?{backgroundColor:f}:void 0;return o.jsxs("button",{disabled:r,onClick:c,className:U("group relative flex aspect-[4/3] items-end overflow-hidden rounded-2xl border p-3 text-start transition","border-token-border-default enabled:hover:bg-token-interactive-bg-secondary-hover shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)] disabled:opacity-60",s),style:m,"aria-label":l,children:[!u&&d&&o.jsxs(o.Fragment,{children:[o.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute inset-0 h-full w-full object-cover object-center"}),o.jsx("div",{"aria-hidden":"true",className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"})]}),o.jsx("div",{className:"absolute start-3 top-3",children:u?o.jsx("img",{src:u,alt:"","aria-hidden":"true",className:"h-10 w-10 rounded-md sm:h-12 sm:w-12"}):null}),o.jsx("div",{className:"pointer-events-none absolute start-3 end-3 bottom-3 select-none",children:o.jsx("div",{className:U("line-clamp-2 text-sm leading-tight sm:text-base",d?"text-white":"text-token-text-primary"),children:l})})]})}const LNt={PromptTextareaHeader:"z-20"},xr=window.sessionStorage,ed=Rt(Sn(()=>{const t=!!(xr!=null&&xr.getItem(et.MemoryFullBannerDismissed)),e=!!(xr!=null&&xr.getItem(et.MemoryAlmostFullBannerDismissed));return{memoryFullBannerDismissed:t,memoryAlmostFullBannerDismissed:e}})),hp={dismissBanner(){ed.setState(t=>{t.memoryFullBannerDismissed=!0}),xr==null||xr.setItem(et.MemoryFullBannerDismissed,"true")},dismissAlmostFullBanner(){ed.setState(t=>{t.memoryAlmostFullBannerDismissed=!0}),xr==null||xr.setItem(et.MemoryAlmostFullBannerDismissed,"true")},clearDismissedBanner(){ed.setState(t=>{t.memoryFullBannerDismissed=!1}),xr==null||xr.removeItem(et.MemoryFullBannerDismissed)},clearAlmostFullDismissedBanner(){ed.setState(t=>{t.memoryAlmostFullBannerDismissed=!1}),xr==null||xr.removeItem(et.MemoryAlmostFullBannerDismissed)}};function RNt(t){const e=$Q(t),n=MJ(),{data:r}=qte(e,!1,n),s=r!=null,a=s&&r.memoryFullPct>=100,i=s&&r.memoryFullPct>=80&&r.memoryFullPct<100,[l,c]=g.useState(!1),[u,d]=g.useState(!1);g.useEffect(()=>{!a&&s&&(c(!0),hp.clearDismissedBanner())},[a,s]),g.useEffect(()=>{!i&&s&&(d(!0),hp.clearAlmostFullDismissedBanner())},[i,s]);const f=ed(v=>v.memoryAlmostFullBannerDismissed),m=ed(v=>v.memoryFullBannerDismissed);return{shouldShowMemoryFull:a&&l&&!m,shouldShowMemoryAlmostFull:i&&u&&!f}}function ONt({memoryAlmostFullVariant:t}={}){const e=Z(),{openSettings:n}=_0(),r=it(),s=q(),a=yt(s),i=PQ(s),l=a==null?void 0:a.isFree(),c=Vo(s,"1206459705").get("upsell_variant","control"),u=i&&l?"Go":"Plus",d=c==="upgrade"?e.formatMessage(tn.upgrade):e.formatMessage(Ma.getMore),f=()=>{fr(r,"Memory Full Banner")};return t?o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},children:o.jsx(xn,{title:e.formatMessage(Ma.memoryAlmostFullTitle),content:e.formatMessage(Ma.memoryTooltipVariant,P(C({},Ma.memoryTooltipVariant.values),{planType:u})),primaryCtaText:d,onPrimaryCtaClick:f,onDismiss:()=>hp.dismissAlmostFullBanner()})}):c!=="control"?o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},children:o.jsx(xn,{title:e.formatMessage(Ma.memoryFullTitleVariant),content:e.formatMessage(Ma.memoryTooltipVariant,P(C({},Ma.memoryTooltipVariant.values),{planType:u})),primaryCtaText:d,primaryCtaColor:"primary",onPrimaryCtaClick:f,onDismiss:()=>hp.dismissBanner()})}):o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},children:o.jsx(xn,{title:e.formatMessage(Ma.memoryFullTitle),content:e.formatMessage(Ma.memoryFullTooltip,Ma.memoryFullTooltip.values),primaryCtaText:e.formatMessage(Ma.memoryManageButton),onPrimaryCtaClick:()=>n(Dn.Personalization),onDismiss:()=>hp.dismissBanner()})})}const Ma=pe({memoryFullTitle:{id:"i1hV1R",defaultMessage:"ChatGPT's out of space for saved memories"},getMore:{id:"LdblxY",defaultMessage:"Get more"},memoryFullTitleVariant:{id:"AFoUJA",defaultMessage:"You've run out of ChatGPT memory"},memoryManageButton:{id:"a5A88o",defaultMessage:"Manage"},memoryAlmostFullTitle:{id:"DlX2SO",defaultMessage:"You're almost out of ChatGPT memory"},memoryTooltipVariant:{id:"h72m3Z",defaultMessage:"<link>Manage</link> saved memories or upgrade to {planType} to get more.",values:{link:t=>o.jsx(mr,{to:hf(Dn.Personalization),className:"underline",children:t})}},memoryFullTooltip:{id:"Rs+Att",defaultMessage:"New memories wonât be added until you make space. <a>Learn more</a>",values:{a:t=>o.jsx("a",{href:RNe,target:"_blank",rel:"noopener noreferrer",className:"underline",children:t})}}});function DNt(){"use forget";const t=ee.c(2),e=q();let n;return t[0]!==e?(n=ze(e,"3637408529").get("is_secondary_auth_banner_button_enabled",!1),t[0]=e,t[1]=n):n=t[1],n}function W1e(t){var e,n,r;return(r=(n=(e=t.metadata)==null?void 0:e.dalle)==null?void 0:n.prompt)!=null?r:""}async function Yct(t,e,n="image/png"){return new Promise((r,s)=>{t.toBlob(a=>{a!=null?r(new File([a],e,{type:n})):s(new Error("Failed to convert canvas to blob"))},n)})}async function Qct(t,e){const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");if(r==null)throw new Error("Failed to get 2d context for mask canvas");const s=r.createImageData(t.width,t.height);for(let a=0;a<t.data.length;a+=4)t.data[a+3]!==0?(s.data[a]=0,s.data[a+1]=0,s.data[a+2]=0,s.data[a+3]=255):(s.data[a]=255,s.data[a+1]=255,s.data[a+2]=255,s.data[a+3]=255);return r.putImageData(s,0,0),Yct(n,e)}async function Jct(t,e){const r=await(await fetch(t)).blob(),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download=e,s.click(),s.remove()}function Xct(t){const e=t6e(new Date,"yyyy-MM-dd HH.mm.ss");let n=t.slice(0,150);return n.endsWith(".")&&(n=n.slice(0,-1)),"DALLÂ·E ".concat(e," - ").concat(n,".webp")}async function eut(t,e,n,r=!1){var l,c,u,d,f,m,p,h,v,y,x,b,_,w,S,k,M,E,T,j,A,I;const s=W1e(t),a=Xct(s);await Jct(t.url,a);const i=r?"chatgpt_dalle_image_captioning_download":"chatgpt_dalle_image_download";Le.logEvent(i,null,{sourceOperation:(u=(c=(l=t.metadata)==null?void 0:l.dalle)==null?void 0:c.edit_op)!=null?u:"none",hasParent:((f=(d=t.metadata)==null?void 0:d.dalle)==null?void 0:f.parent_gen_id)!=null?"true":"false",model:"dalle"}),B.logEvent(i,{conversationId:e,messageId:n,generationId:(p=(m=t.metadata)==null?void 0:m.dalle)==null?void 0:p.gen_id,parentGenerationId:(v=(h=t.metadata)==null?void 0:h.dalle)==null?void 0:v.parent_gen_id,fileId:bs(t.asset_pointer),sourceOperation:(x=(y=t.metadata)==null?void 0:y.dalle)==null?void 0:x.edit_op,model:"dalle"}),Le.logEvent("chatgpt_image_download",null,{sourceOperation:(w=(_=(b=t.metadata)==null?void 0:b.dalle)==null?void 0:_.edit_op)!=null?w:"none",hasParent:((k=(S=t.metadata)==null?void 0:S.dalle)==null?void 0:k.parent_gen_id)!=null?"true":"false",model:"dalle"}),B.logEvent("chatgpt_image_download",{conversationId:e,messageId:n,generationId:(E=(M=t.metadata)==null?void 0:M.dalle)==null?void 0:E.gen_id,parentGenerationId:(j=(T=t.metadata)==null?void 0:T.dalle)==null?void 0:j.parent_gen_id,fileId:bs(t.asset_pointer),sourceOperation:(I=(A=t.metadata)==null?void 0:A.dalle)==null?void 0:I.edit_op,model:"dalle"})}function FNt(t){const e=Oee(t),n=G6(),r=e&&"gizmo"in e?e.gizmo:void 0;return!n&&(r==null?void 0:r.gizmo.id)===e6e}function tut(t,e){var s,a;const n=(a=(s=e.metadata)==null?void 0:s.dalle)==null?void 0:a.gen_id,r=bs(e.asset_pointer);return r==null||n==null?t:q4(t,{promptMessage:{metadata:{dalle:{from_client:{operation:{type:"transformation",original_gen_id:n,original_file_id:r}}}}}})}async function nut(t,e,n,r){return new Promise((s,a)=>{n6e(iu(t),t,e,n,{kind:r6e.DalleAgent},{onFileCreated:_n,onFileUploadProgress:_n,onFileUploaded:(i,l)=>s(l),onError:(i,l)=>{a(new Error("Failed to upload file with reason: ".concat(l)))}},r)})}async function rut(t,e,n,r,s){var l,c;const a=(c=(l=e.metadata)==null?void 0:l.dalle)==null?void 0:c.gen_id,i=bs(e.asset_pointer);if(i==null||a==null||n==null)return t;try{const u=await Qct(n,"mask.png"),d=await nut(u,r,s,{imageDimensions:{width:e.width,height:e.height}});return q4(t,{promptMessage:{metadata:{dalle:{from_client:{operation:{type:"inpainting",original_gen_id:a,original_file_id:i,mask_file_id:d}}}}}})}catch(u){return ve.addError(u),t}}async function sut(t,e,n,r,s){return await Promise.all(e.map(a=>om.fetch(t,{asset:a,sharedThreadId:n,gizmoId:r,conversationId:s}))).catch(a=>{const i=e.map(l=>bs(l.asset_pointer));throw ve.addError(new Error("Could not fetch files with IDs ".concat(i," from file service"),{cause:a})),a})}function BNt(t){const e=_ce(),n=W5(K5.getMaxBannerClientThreadId);return!(!e||n!==t)}let ii="";const Yz={setSessionId(t){ii=t},logImpression(){Me.count(Ee.JAWBONE,"jawbone_notifications_banner.impression"),ve.addAction("tasks.notification.impression"),B.logEvent("tasks:notification.impression",{logging_session_id:ii})},logNotNow(){Me.count(Ee.JAWBONE,"jawbone_notifications_banner.not_now"),ve.addAction("tasks.notification.not_now"),B.logEvent("tasks:notification.not_now",{logging_session_id:ii})},logAllow(){Me.count(Ee.JAWBONE,"jawbone_notifications_banner.allow"),ve.addAction("tasks.notification.allow"),B.logEvent("tasks:notification.allow",{logging_session_id:ii})},logSystemDeny(){Me.count(Ee.JAWBONE,"jawbone_notifications_banner.system_deny"),ve.addAction("tasks.notification.system_deny"),B.logEvent("tasks:notification.system_deny",{logging_session_id:ii})},logSystemAllow(){Me.count(Ee.JAWBONE,"jawbone_notifications_banner.system_allow"),ve.addAction("tasks.notification.system_allow"),B.logEvent("tasks:notification.system_allow",{logging_session_id:ii})},logSystemSuccess(){Me.count(Ee.JAWBONE,"jawbone_notifications_banner.system_success"),ve.addAction("tasks.notification.system_success"),B.logEvent("tasks:notification.system_success",{logging_session_id:ii})},logRegistration(){Me.count(Ee.JAWBONE,"jawbone_notifications_banner.registration"),ve.addAction("tasks.notification.registration"),B.logEvent("tasks:notification.registration",{logging_session_id:ii})},logErrorDismissed(){Me.count(Ee.JAWBONE,"jawbone_notifications_banner.error_dismissed"),ve.addAction("tasks.notification.error_dismissed"),B.logEvent("tasks:notification.error_dismissed",{logging_session_id:ii})}},Cd=window.localStorage,pA=Rt(Sn(()=>{var t;return{initialized:!1,requestingClientThreadId:null,previouslyRequestedClientThreadIds:new Set,lastRequestTime:(t=Cd==null?void 0:Cd.getItem("oai/apps/jawboneNotificationLastRequestTime"))!=null?t:null,permission:typeof window<"u"&&"Notification"in window?Notification.permission:"default"}})),Cg=pA.getState,D2=pA.setState,UNt={initIfNeeded:(t=Cg())=>{var e;t.initialized||(D2({initialized:!0}),typeof window<"u"&&"Notification"in window&&((e=navigator.permissions)==null||e.query({name:"notifications"}).then(n=>{n.onchange=()=>{switch(Notification.permission){case"granted":Yz.logSystemAllow();break;case"denied":Yz.logSystemDeny();break}D2({permission:Notification.permission})}})))},setRequestingClientThreadId:t=>{D2(e=>{e.previouslyRequestedClientThreadIds.has(t)||(e.requestingClientThreadId=t,e.previouslyRequestedClientThreadIds.add(t))})},clearNotificationRequest:()=>{D2(t=>{if(t.requestingClientThreadId){const e=new Date().toISOString();t.lastRequestTime=e,Cd==null||Cd.setItem("oai/apps/jawboneNotificationLastRequestTime",e)}t.requestingClientThreadId=null})}},aut={getRequestingClientThreadId:(t=Cg())=>t.requestingClientThreadId,getLastRequestTime:(t=Cg())=>t.lastRequestTime,getPermission:(t=Cg())=>t.permission};function HNt(t){const{requestingClientThreadId:e}=pA(r=>({requestingClientThreadId:aut.getRequestingClientThreadId(r)}));return!(!_ce()||t!==e)}const out={banner:{containerClassName:"flex w-full flex-col gap-2",triggerClassName:"w-full items-center justify-between gap-2 rounded-4xl! bg-[rgba(13,13,13,0.90)]! px-4 py-2 dark:bg-[rgba(255,255,255,0.90)]!",triggerTextClassName:"truncate font-medium text-white dark:text-[#0D0D0D]",chevronClassName:"icon-sm shrink-0 text-white dark:text-[#0D0D0D]",contentClassName:"border-token-border-subtle bg-token-bg-elevated-primary dark:border-token-border-muted w-[256px] max-w-[80vw] min-w-[220px] overflow-hidden rounded-2xl border p-1.5 shadow-lg",headerClassName:"text-token-text-tertiary m-0 p-2 text-[13px] leading-4.5 font-normal",itemsWrapperClassName:"flex flex-col gap-1",itemClassName:"m-0 py-1.5 ps-2.5 pe-0 [&>div]:h-5 [&>div]:w-5",itemTextClassName:"text-token-text-primary text-sm",iconClassName:"h-7 w-7 dark:border-token-border-muted dark:border dark:bg-white",fallbackTextClassName:"text-token-text-secondary text-sm font-medium",footerPlacement:"inline",footerClassName:"text-token-text-tertiary m-0 p-2 text-[13px] leading-4.5 font-normal"},modal:{containerClassName:"flex w-full flex-col gap-2",triggerClassName:"w-full h-11.5 items-center justify-between! gap-3 rounded-2xl! border-token-border-default! bg-token-bg-elevated-primary px-4 py-3 text-left dark:border-token-border-muted dark:bg-token-bg-elevated-secondary",triggerTextClassName:"truncate font-normal font-[14px] text-token-text-tertiary",chevronClassName:"icon-lg shrink-0 text-token-text-secondary",contentClassName:"border-token-border-subtle bg-token-bg-elevated-primary dark:border-token-border-muted w-full overflow-hidden rounded-2xl border p-1.5 shadow-xl w-[416px] sm:max-w-[416px]",headerClassName:"text-token-text-tertiary m-0 p-2 text-[13px] leading-4.5 font-normal",itemsWrapperClassName:"flex flex-col gap-1 px-1",itemClassName:"m-0 pe-2.5 py-1.5 ps-1.5 dark:ps-2.5 [&>div]:w-fit [&>div]:h-6 [&>div]:w-6 [&>div>div]:h-6 [&>div>div]:w-6",itemTextClassName:"text-token-text-primary text-sm",iconClassName:"flex h-6 w-6 items-center justify-center rounded-full dark:border-token-border-muted dark:border dark:bg-white",fallbackTextClassName:"text-token-text-secondary text-base font-semibold",footerPlacement:"below",footerClassName:"text-token-text-tertiary m-0 p-2 text-[13px] leading-4.5 font-normal",footerBelowClassName:"text-token-text-tertiary leading-4.5 text-center text-[13px]"}},Z1e={banner:{openEventName:"Beacon UI Banner Dropdown Opened",openEventId:"chatgpt_beacon_ui_banner_dropdown_opened",itemEventName:"Beacon UI Banner Dropdown Item Clicked",itemEventId:"chatgpt_beacon_ui_banner_dropdown_item_clicked"},modal:{openEventName:"Beacon UI Modal Dropdown Opened",openEventId:"chatgpt_beacon_ui_modal_dropdown_opened",itemEventName:"Beacon UI Modal Dropdown Item Clicked",itemEventId:"chatgpt_beacon_ui_modal_dropdown_item_clicked"}};function iut(t){"use forget";const e=ee.c(6),{dropdownAction:n,formatAction:r}=t;let s;e:{if(!n){let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],e[0]=i):i=e[0],s=i;break e}let a;if(e[1]!==n.action_v2.items||e[2]!==r){let i;e[4]!==r?(i=l=>{const c=r(l);return c?{id:l.id,text:l.text,iconUrl:l.icon_url,action:c}:null},e[4]=r,e[5]=i):i=e[5],a=n.action_v2.items.map(i).filter(lut),e[1]=n.action_v2.items,e[2]=r,e[3]=a}else a=e[3];s=a}return s}function lut(t){return t!=null}function cut(t){"use forget";const e=ee.c(11),{iconUrl:n,label:r,className:s,fallbackTextClassName:a}=t;let i;e[0]!==r?(i=r.trim().slice(0,1).toUpperCase(),e[0]=r,e[1]=i):i=e[1];const l=i;let c;e[2]!==s?(c=U("flex items-center justify-center rounded-full",s),e[2]=s,e[3]=c):c=e[3];let u;e[4]!==l||e[5]!==a||e[6]!==n?(u=n?o.jsx("img",{src:n,alt:"",className:"h-4 w-4 object-contain",loading:"eager"}):o.jsx("span",{className:a,children:l}),e[4]=l,e[5]=a,e[6]=n,e[7]=u):u=e[7];let d;return e[8]!==c||e[9]!==u?(d=o.jsx("div",{className:c,"aria-hidden":"true",children:u}),e[8]=c,e[9]=u,e[10]=d):d=e[10],d}function uut({item:t,beaconInfo:e,beaconClickEventMutation:n,variant:r,onClose:s}){var l,c,u;const{itemEventId:a,itemEventName:i}=Z1e[r];B.logEventWithStatsig(i,a,{beacon_id:e.beacon_id,beacon_name:(l=e.beacon_name)!=null?l:"unknown",event_cta_id:t.id}),n.mutate({beaconId:e.beacon_id,eventCtaId:t.id}),"onThennableClick"in t.action&&t.action.onThennableClick?t.action.onThennableClick():(u=(c=t.action).onClick)==null||u.call(c),r==="modal"&&s()}function dut(t){"use forget";var R;const e=ee.c(61),{beaconInfo:n,dropdownAction:r,dropdownItems:s,variant:a,onClose:i}=t,l=a===void 0?"banner":a,c=Z(),u=im(),d=out[l],{openEventId:f,openEventName:m}=Z1e[l];let p=(R=r.action_v2.header_text)!=null?R:void 0;if(p&&typeof p!="string"){let H;e[0]!==c||e[1]!==p?(H=c.formatMessage(p),e[0]=c,e[1]=p,e[2]=H):H=e[2],p=H}let h;e[3]!==u||e[4]!==n||e[5]!==i||e[6]!==l?(h=H=>{uut({item:H,beaconInfo:n,beaconClickEventMutation:u,variant:l,onClose:i})},e[3]=u,e[4]=n,e[5]=i,e[6]=l,e[7]=h):h=e[7];const v=h;if(s.length===0)return null;const y=d.containerClassName;let x;e[8]!==n||e[9]!==f||e[10]!==m?(x=H=>{var V;H&&B.logEventWithStatsig(m,f,{beacon_id:n.beacon_id,beacon_name:(V=n.beacon_name)!=null?V:"unknown"})},e[8]=n,e[9]=f,e[10]=m,e[11]=x):x=e[11];let b;e[12]!==d.triggerTextClassName||e[13]!==r.text?(b=o.jsx("span",{className:d.triggerTextClassName,children:r.text}),e[12]=d.triggerTextClassName,e[13]=r.text,e[14]=b):b=e[14];let _;e[15]!==d.chevronClassName?(_=o.jsx(ys,{className:d.chevronClassName}),e[15]=d.chevronClassName,e[16]=_):_=e[16];let w;e[17]!==d.triggerClassName||e[18]!==b||e[19]!==_?(w=o.jsx(J.Trigger,{asChild:!0,children:o.jsxs("button",{type:"button",className:d.triggerClassName,children:[b,_]})}),e[17]=d.triggerClassName,e[18]=b,e[19]=_,e[20]=w):w=e[20];const S=d.contentClassName;let k;e[21]!==d.headerClassName||e[22]!==r.action_v2.header_text||e[23]!==p?(k=r.action_v2.header_text&&p?o.jsx("p",{className:d.headerClassName,children:p}):null,e[21]=d.headerClassName,e[22]=r.action_v2.header_text,e[23]=p,e[24]=k):k=e[24];const M=d.itemsWrapperClassName;let E;if(e[25]!==d.fallbackTextClassName||e[26]!==d.iconClassName||e[27]!==d.itemClassName||e[28]!==d.itemTextClassName||e[29]!==s||e[30]!==v){let H;e[32]!==d.fallbackTextClassName||e[33]!==d.iconClassName||e[34]!==d.itemClassName||e[35]!==d.itemTextClassName||e[36]!==v?(H=V=>o.jsx(J.Item,{size:"large",className:d.itemClassName,icon:o.jsx(cut,{iconUrl:V.iconUrl,label:V.text,className:d.iconClassName,fallbackTextClassName:d.fallbackTextClassName}),trailing:o.jsx(ba,{className:"text-token-text-primary"}),onSelect:()=>v(V),children:o.jsx("span",{className:d.itemTextClassName,children:V.text})},V.id),e[32]=d.fallbackTextClassName,e[33]=d.iconClassName,e[34]=d.itemClassName,e[35]=d.itemTextClassName,e[36]=v,e[37]=H):H=e[37],E=s.map(H),e[25]=d.fallbackTextClassName,e[26]=d.iconClassName,e[27]=d.itemClassName,e[28]=d.itemTextClassName,e[29]=s,e[30]=v,e[31]=E}else E=e[31];let T;e[38]!==d.itemsWrapperClassName||e[39]!==E?(T=o.jsx("div",{className:M,children:E}),e[38]=d.itemsWrapperClassName,e[39]=E,e[40]=T):T=e[40];let j;e[41]!==d.footerClassName||e[42]!==r.action_v2.footer_text?(j=r.action_v2.footer_text?o.jsx("p",{className:d.footerClassName,children:r.action_v2.footer_text}):null,e[41]=d.footerClassName,e[42]=r.action_v2.footer_text,e[43]=j):j=e[43];let A;e[44]!==d.contentClassName||e[45]!==T||e[46]!==j||e[47]!==k?(A=o.jsx(J.Portal,{children:o.jsxs(J.Content,{size:"auto",className:S,children:[k,T,j]})}),e[44]=d.contentClassName,e[45]=T,e[46]=j,e[47]=k,e[48]=A):A=e[48];let I;e[49]!==A||e[50]!==x||e[51]!==w?(I=o.jsxs(J.Root,{onOpenChange:x,children:[w,A]}),e[49]=A,e[50]=x,e[51]=w,e[52]=I):I=e[52];let L;e[53]!==d.footerBelowClassName||e[54]!==d.footerPlacement||e[55]!==r.action_v2.footer_text?(L=d.footerPlacement==="below"&&r.action_v2.footer_text?o.jsx("p",{className:d.footerBelowClassName,children:r.action_v2.footer_text}):null,e[53]=d.footerBelowClassName,e[54]=d.footerPlacement,e[55]=r.action_v2.footer_text,e[56]=L):L=e[56];let O;return e[57]!==d.containerClassName||e[58]!==I||e[59]!==L?(O=o.jsxs("div",{className:y,children:[I,L]}),e[57]=d.containerClassName,e[58]=I,e[59]=L,e[60]=O):O=e[60],O}function fut(t){"use forget";var z,$,D,Y;const e=ee.c(29),{modalInfo:n,onPrimaryCTAClick:r,onSecondaryCTAClick:s,formatAction:a,onClose:i}=t,{action_items:l}=n,c=im();let u;e[0]!==l?(u=l!=null?l:[],e[0]=l,e[1]=u):u=e[1];const[d,f]=u,m=a(f),p=a(d),h=(z=l[0])==null?void 0:z.type;let v;e[2]!==h?(v=Zh(h),e[2]=h,e[3]=v):v=e[3];const y=v,x=($=l[1])==null?void 0:$.type;let b;e[4]!==x?(b=Zh(x),e[4]=x,e[5]=b):b=e[5];const _=b,w=Z();let S;e[6]!==d?(S=mut(d)?d:void 0,e[6]=d,e[7]=S):S=e[7];const k=S;let M;e[8]!==k||e[9]!==a?(M={dropdownAction:k,formatAction:a},e[8]=k,e[9]=a,e[10]=M):M=e[10];const E=iut(M);if(!d&&!f)return null;let T;e:{if(!p){T=void 0;break e}if(p.onThennableClick){T=P(C({},p),{onThennableClick:()=>p.onThennableClick()});break e}T=P(C({},p),{onClick:()=>{r==null||r(),p.onClick&&p.onClick()}})}let j;e:{if(!m){j=void 0;break e}if(m.onThennableClick){j=P(C({},m),{onThennableClick:()=>m.onThennableClick()});break e}j=P(C({},m),{onClick:()=>{s==null||s(),m.onClick&&m.onClick()}})}const A={primaryAction:T,secondaryAction:j},{primaryAction:I,secondaryAction:L}=A;if((d==null?void 0:d.type)===V1.COPY&&(p!=null&&p.onThennableClick)){let G;e[11]!==c||e[12]!==((D=n.action_items[0])==null?void 0:D.id)||e[13]!==n.beacon_id||e[14]!==n.beacon_name?(G=()=>{var X,te,ae,me;B.logEventWithStatsig("Beacon UI Modal Copy to Clipboard Clicked","chatgpt_beacon_ui_modal_copy_to_clipboard_clicked",{beacon_id:n.beacon_id,beacon_name:n.beacon_name,event_cta_id:(te=(X=n.action_items[0])==null?void 0:X.id)!=null?te:"unknown"}),c.mutate({beaconId:n.beacon_id,eventCtaId:(me=(ae=n.action_items[0])==null?void 0:ae.id)!=null?me:"unknown"})},e[11]=c,e[12]=(Y=n.action_items[0])==null?void 0:Y.id,e[13]=n.beacon_id,e[14]=n.beacon_name,e[15]=G):G=e[15];const F=G;return o.jsx("div",{className:"flex justify-center pb-10",children:o.jsx(D1e,{onThennableClick:p.onThennableClick,onTrackCopyToClipboard:F,text:p.text})})}if(k&&E.length>0){let G;return e[16]!==k||e[17]!==E||e[18]!==n||e[19]!==i?(G=o.jsx("div",{className:"flex w-full flex-col items-center gap-2 px-8 pb-8",children:o.jsx(dut,{variant:"modal",beaconInfo:n,dropdownAction:k,dropdownItems:E,onClose:i})}),e[16]=k,e[17]=E,e[18]=n,e[19]=i,e[20]=G):G=e[20],G}const O="me-6 flex flex-row justify-end gap-4 pb-8",R=L&&o.jsx(oe,{onClick:()=>{var G;(G=L.onClick)==null||G.call(L),i()},color:_!=null?_:"secondary",size:"large",children:typeof L.text=="string"?L.text:w.formatMessage(L.text)});let H;e[21]!==w||e[22]!==i||e[23]!==I||e[24]!==y?(H=I&&o.jsx(oe,{onClick:()=>{var G;(G=I.onClick)==null||G.call(I),i()},color:y!=null?y:"primary",size:"large",children:typeof I.text=="string"?I.text:w.formatMessage(I.text)}),e[21]=w,e[22]=i,e[23]=I,e[24]=y,e[25]=H):H=e[25];let V;return e[26]!==R||e[27]!==H?(V=o.jsxs("div",{className:O,children:[R,H]}),e[26]=R,e[27]=H,e[28]=V):V=e[28],V}function mut(t){return(t==null?void 0:t.action_v2.action_enum)===Un.DROPDOWN}function put(t){"use forget";const e=ee.c(28),{onDismiss:n,onClose:r,onPrimaryCTAClick:s,onSecondaryCTAClick:a,openFileDialog:i,persistedSystemHintsStore:l,composerController:c,modalInfo:u,clientThreadId:d}=t,{title:f,description:m,header_image_url:p}=u.ui_info,{action_items:h,footer_text:v}=u,[y,x]=g.useState(!1);let b,_;e[0]!==p?(b=()=>{if(p){const te=new Image;te.src=p,te.onload=()=>x(!0)}},_=[p],e[0]=p,e[1]=b,e[2]=_):(b=e[1],_=e[2]),g.useEffect(b,_);const w=!(h!=null&&h.length),S=h==null?void 0:h.some(hut),k=h==null?void 0:h.some(gut),M=S||k;let E;e[3]!==d||e[4]!==c||e[5]!==i||e[6]!==l?(E={clientThreadId:d,location:"beacon_modal",composerController:c,persistedSystemHintsStore:l,openFileDialog:i},e[3]=d,e[4]=c,e[5]=i,e[6]=l,e[7]=E):E=e[7];const T=F1e(E);if(p&&!y)return null;const j=tt,A=!0,I="modal-beacon",L="custom",O="success",R=!0,H=!1,V=U("relative flex max-w-[400px] flex-col",M&&"max-w-[480px]"),z=M?()=>{n(),r()}:void 0,$=!0;let D;e[8]!==r||e[9]!==n?(D=o.jsx("div",{className:"absolute end-4 top-4 z-50",children:o.jsx(gn,{className:"text-token-text-secondary ring-0! outline-0! focus:ring-0! focus:ring-offset-0! focus:outline-0!",onClick:()=>{n(),r()}})}),e[8]=r,e[9]=n,e[10]=D):D=e[10];const Y=p?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"relative w-full flex-1",children:o.jsx("img",{src:p,className:"w-full object-contain object-bottom",alt:""})}),o.jsxs("div",{className:U("-mt-4 flex flex-1 flex-col gap-6 px-8",w&&"pb-16",M&&"mt-0! items-center justify-center! gap-2! pt-10 pb-6"),children:[o.jsx("div",{className:"".concat(w?"text-center text-[24px]":"text-start text-[20px]"," leading-7 font-medium"),children:f}),o.jsx("div",{className:U("text-token-text-secondary -mt-4 w-full text-start text-[16px] font-normal",w&&"text-center text-[17px]",M&&"mt-0! text-center!"),children:m})]})]}):o.jsxs("div",{className:"flex flex-1 flex-col gap-6 px-8 pt-12 pb-8",children:[o.jsx("div",{className:"".concat(w?"text-center text-[24px]":"text-start text-[20px]"," leading-7 font-medium"),children:f}),o.jsx("div",{className:U("text-token-text-secondary -mt-4 w-full text-start text-[16px] font-normal",w&&"text-center text-[17px]",M&&"mt-0!"),children:m})]});let G;e[11]!==T||e[12]!==u||e[13]!==r||e[14]!==s||e[15]!==a?(G=o.jsx(fut,{modalInfo:u,onPrimaryCTAClick:s,onSecondaryCTAClick:a,formatAction:T,onClose:r}),e[11]=T,e[12]=u,e[13]=r,e[14]=s,e[15]=a,e[16]=G):G=e[16];let F;e[17]!==v?(F=v&&o.jsx("div",{className:"text-token-text-tertiary px-8 pb-10 font-normal",children:v}),e[17]=v,e[18]=F):F=e[18];let X;return e[19]!==j||e[20]!==r||e[21]!==V||e[22]!==z||e[23]!==D||e[24]!==Y||e[25]!==G||e[26]!==F?(X=o.jsxs(j,{isOpen:A,onClose:r,testId:I,size:L,type:O,noPadding:R,showCloseButton:H,className:V,onEscapeKeyDown:z,shouldIgnoreClickOutside:$,children:[D,Y,G,F]}),e[19]=j,e[20]=r,e[21]=V,e[22]=z,e[23]=D,e[24]=Y,e[25]=G,e[26]=F,e[27]=X):X=e[27],X}function gut(t){return t.action_v2.action_enum===Un.DROPDOWN}function hut(t){return t.action_v2.action_enum===Un.COPY_TO_CLIPBOARD}function VNt(t){"use forget";const e=ee.c(14),{clientThreadId:n,composerController:r,openFileDialog:s}=t,a=swe(),i=q(),l=R1e(),c=O1e(),u=im(),d=g.useRef(!1),f=Te(n,se.getCurrentLeafId),m=wu.useStore();let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{d.current=!1},e[0]=p):p=e[0];let h;e[1]!==f?(h=[f],e[1]=f,e[2]=h):h=e[2],g.useEffect(p,h);let v,y;e[3]!==u||e[4]!==c||e[5]!==l||e[6]!==n||e[7]!==r||e[8]!==i||e[9]!==a||e[10]!==s||e[11]!==m?(v=()=>{if(!a||d.current)return;d.current=!0,B.logEventWithStatsig("Beacon UI Modal Shown","chatgpt_beacon_ui_modal_shown",{beacon_id:a.beacon_id,beacon_name:a.beacon_name}),l.mutate(a.beacon_id),Dt(i,put,{onDismiss:()=>{B.logEventWithStatsig("Beacon UI Modal Dismissed","chatgpt_beacon_ui_modal_dismissed",{beacon_id:a.beacon_id,beacon_name:a.beacon_name}),c.mutate(a.beacon_id),wi.dismiss()},modalInfo:a,clientThreadId:n,onPrimaryCTAClick:()=>{var w,S,k,M;B.logEventWithStatsig("Beacon UI Modal Primary CTA Clicked","chatgpt_beacon_ui_modal_primary_cta_clicked",{beacon_id:a.beacon_id,beacon_name:a.beacon_name,event_cta_id:(S=(w=a.action_items[0])==null?void 0:w.id)!=null?S:"unknown"}),u.mutate({beaconId:a.beacon_id,eventCtaId:(M=(k=a.action_items[0])==null?void 0:k.id)!=null?M:"unknown"}),wi.dismiss()},onSecondaryCTAClick:()=>{var w,S,k,M;B.logEventWithStatsig("Beacon UI Modal Secondary CTA Clicked","chatgpt_beacon_ui_modal_secondary_cta_clicked",{beacon_id:a.beacon_id,beacon_name:a.beacon_name,event_cta_id:(S=(w=a.action_items[1])==null?void 0:w.id)!=null?S:"unknown"}),u.mutate({beaconId:a.beacon_id,eventCtaId:(M=(k=a.action_items[1])==null?void 0:k.id)!=null?M:"unknown"}),wi.dismiss()},composerController:r,persistedSystemHintsStore:m,openFileDialog:s})},y=[a,i,l,c,u,n,r,m,s],e[3]=u,e[4]=c,e[5]=l,e[6]=n,e[7]=r,e[8]=i,e[9]=a,e[10]=s,e[11]=m,e[12]=v,e[13]=y):(v=e[12],y=e[13]),g.useEffect(v,y)}function $Nt(){var l;const t=q(),e=ie(t,"727502549"),n=ie(t,"550432558"),{eligible:r}=$e(We.hasSeenReferralUpsellAnnouncement),{data:s}=ase(r),a=ze(t,"1976075658"),i=((l=s==null?void 0:s.info)==null?void 0:l.program_name)==="colombia"?a.get("show_banner",!1):!0;return e&&n&&i&&r&&!!(s!=null&&s.info)}function qNt(){var u;const t=q(),e=ie(t,"3148583717"),n=ie(t,"3362382575"),r=_s(t,"1087852479").value,{eligible:s}=$e(We.hasSeenStudentsUpsellAnnouncement),a=Wt(),i=a==null?void 0:a.email,l=(u=r==null?void 0:r.blacklist)!=null?u:[];return Array.isArray(l)&&i&&l.some(d=>i.endsWith(d))?!1:(i==null?void 0:i.endsWith(".edu"))&&s&&e&&n}function zNt(t){"use forget";const e=ee.c(13),[n,r]=g.useState(!1),s=q();let a;e[0]!==t||e[1]!==s?(a=cr(s,t),e[0]=t,e[1]=s,e[2]=a):a=e[2];const i=a;let l;e[3]!==i?(l=()=>{var h;return((h=Yu(i))==null?void 0:h.value)===sn.REALTIME},e[3]=i,e[4]=l):l=e[4];const c=at(l);let u;e[5]!==c?(u=()=>{c&&r(!0)},e[5]=c,e[6]=u):u=e[6];const d=u;let f,m;e[7]!==c?(f=()=>{c||r(!1)},m=[c],e[7]=c,e[8]=f,e[9]=m):(f=e[8],m=e[9]),g.useEffect(f,m);let p;return e[10]!==n||e[11]!==d?(p={maybeSetWaitingForRealtimeOnAbort:d,isWatingForRealtimeStatusChange:n},e[10]=n,e[11]=d,e[12]=p):p=e[12],p}function GNt(){const t=q(),e=o6e(),n=ie(t,"1416952492");return g.useMemo(()=>{const r=[];for(const s of e){const a=i6e(s.name);a&&r.push(a)}return n&&!r.includes(we.Research)&&r.push(we.Research),r},[e,n])}function vut(t){const e=q(),n=Z(),r=yt(e),s=(r==null?void 0:r.isTeam())||(r==null?void 0:r.isBusiness()),a=vQ(x=>x.bySystemHint(t)),i=s6e(a6e(t)),l=i&&s,c=t===we.Research?yut(n.locale,a,s):Mu(t)?xut(n.locale,a,s):null,u=c!=null&&!i,d=t===we.Research&&ie(e,"1416952492"),f=Mu(t)&&ie(e,"926440545"),m=d||f,p=m||i!=null,h=m?o.jsx(N,{id:"composer.skills.unavailable",defaultMessage:"Temporarily unavailable"}):i&&!s?o.jsx(N,{id:"composer.skills.rateLimited",defaultMessage:"{limit} more available on {resetDate}",values:{limit:i.limit,resetDate:new Date(i.resets_after).toLocaleDateString(n.locale,{month:"long",day:"numeric"})}}):void 0;let v,y;return(l||u)&&(v=l?i.title:c==null?void 0:c.label,y=l?i.description:c==null?void 0:c.secondaryLabel),{isBlocked:p,blockedLabel:h,remainingLabel:v,remainingLabelSecondary:y}}function K1e(t,e){return new Date(e.reset_after).toLocaleDateString(t,{month:"long",day:"numeric"})}function yut(t,e,n){return n||!e?null:{label:o.jsx(N,{id:"m6JsYD",defaultMessage:"{remaining} left",values:{remaining:e.remaining}}),secondaryLabel:o.jsx(N,{id:"8V98un",defaultMessage:"More available on {resetDate}",values:{resetDate:K1e(t,e)}})}}function xut(t,e,n){return n||!e?null:{label:o.jsx(N,{id:"nD45w8",defaultMessage:"{remaining} left",values:{remaining:e.remaining}}),secondaryLabel:o.jsx(N,{id:"eBZSNV",defaultMessage:"More available on {resetDate}",values:{resetDate:K1e(t,e)}})}}function gA(t){_t.sidebarUrlTrayOpen$.set(t)}function WNt(){const t=q(),e=Yt(wn),n=t5(t),r=at(_t.sidebarUrlTrayOpen$),s=at(_t.context$),a=Kr(),i=qo(),l=g.useRef(a);g.useEffect(()=>{if(!e||!n)return;const u=l.current;l.current=a,a===we.Agent&&u!==we.Agent&&s&&(r||gA(!0))},[e,n,a,s,r]);const c=g.useRef(r);g.useEffect(()=>{if(!e||!n)return;const u=r,d=c.current;c.current=u,d&&!u&&a===we.Agent&&i(null,{ifPrevSystemHint:we.Agent})},[e,n,r,a,i])}const but=Je(()=>Ve(()=>import("./l49crt55yd8l3agz.js"),__vite__mapDeps([119,4,1,5,120])).then(t=>t.ContextConnectorDocumentParser));function ZNt({composerController:t,parsedDocumentHandler:e}){const n=q(),{gdriveLinkStatus:r,o365BusinessLinkStatus:s,o365PersonalLinkStatus:a}=l6e(n);return r==="false"&&s==="false"&&a==="false"?null:o.jsx(but,{composerController:t,parsedDocumentHandler:e})}function Cut({shortName:t,includeAction:e,entry:n,onClick:r}){g.useEffect(()=>{if(!open||n.type!==jt.GDRIVE)return;const u=n.access_token;u&&v1e(u)},[n]);const s=c6e(n.type),a=Z(),i=!t&&(n.type===jt.O365_BUSINESS||n.type===jt.O365_PERSONAL)?Og(jt.O365,a,t):Og(n.type,a,t),l=t?void 0:n.type===jt.O365_BUSINESS?a.formatMessage(Jz.workSchool):n.type===jt.O365_PERSONAL?a.formatMessage(Jz.personal):void 0,c=!t&&n.type===jt.O365_BUSINESS?!0:!!l;return o.jsx(J.Item,{onClick:r,icon:s,label:e?n.access_token?o.jsx(N,P(C({},Qz.uploadFromMessage),{values:{connectorName:i}})):o.jsx(N,P(C({},Qz.signinWithMessage),{values:{connectorName:i}})):i,secondary:c?[l,n.type===jt.O365_BUSINESS?a.formatMessage(u6e.includesSharePoint):void 0].filter(Boolean).join(" - "):null},n.id)}const Qz=pe({signinWithMessage:{id:"ContextConnectorPickerDropdownItem.signInWithMessage",defaultMessage:"Connect {connectorName}"},uploadFromMessage:{id:"ContextConnectorPickerDropdownItem.uploadWithMessage",defaultMessage:"Add from {connectorName}"}}),Jz=pe({personal:{id:"ContextConnectorPickerDropdownItem.o365Personal",defaultMessage:"Personal"},workSchool:{id:"ContextConnectorPickerDropdownItem.o365WorkSchool",defaultMessage:"Work/School"}});function _ut({isLoadingConnectors:t,connectorConfig:e,onConnectorClick:n}){const r=!Fu(),a=g.useMemo(()=>Array.from(e.values()),[e]).filter(l=>l.access_token!=null),i=Qi();return a.length===0&&(!t||i)?null:o.jsxs(J.Sub,{onOpenChange:l=>{l&&B.logEventWithStatsig("Composer: Open Context Connector Picker","chatgpt_composer_open_context_connector_picker")},children:[o.jsx(J.SubMenuTrigger,{icon:JN,children:o.jsx("div",{className:"line-clamp-1 text-ellipsis",children:o.jsx(N,C({},Sut.addFromApps))})}),o.jsx(J.Portal,{children:o.jsxs(J.SubContent,{className:U(r&&"-translate-x-1/2 -translate-y-full"),children:[t&&o.jsxs(o.Fragment,{children:[o.jsx(J.Shimmer,{}),o.jsx(J.Shimmer,{}),o.jsx(J.Shimmer,{})]}),o.jsx(wut,{includeAction:!1,shortName:!1,connectorConfig:e,onConnectorClick:n})]})})]})}const wut=({shortName:t,includeAction:e,connectorConfig:n,onConnectorClick:r})=>{const a=g.useMemo(()=>Array.from(n.values()),[n]).filter(i=>i.access_token!=null);return o.jsx(o.Fragment,{children:a.map(i=>o.jsx(Cut,{shortName:t,includeAction:e,entry:i,onClick:()=>r(i)},i.id))})},Sut=pe({addFromApps:{id:"ContextConnectorPicker.addFromApps",defaultMessage:"Add from apps"}});function kut(){var i;const t=q(),e=Yt(wn),n=t5(t),r=at(_t.sidebarUrlTrayOpen$),s=at(_t.context$),a=r&&!!s;return e&&n?o.jsx(J.Item,{icon:o.jsx(Fh,{base64:s==null?void 0:s.base64favicon,title:(i=s==null?void 0:s.title)!=null?i:s==null?void 0:s.url,className:"h-4 w-4 rounded-[4px]"}),disabled:a,onClick:()=>{var l;(l=GQ())==null||l.triggerProductEvent("addTabContext"),gA(!0)},children:o.jsx("span",{children:o.jsx(N,{id:"+gYTJ0",defaultMessage:"Attach tab"})})},"tab_context"):null}const Y1e=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M3.33301 12.668C3.70018 12.668 3.99788 12.9659 3.99805 13.333V14.166C3.99805 15.1794 4.81968 16.0008 5.83301 16.001H6.66602L6.80078 16.0146C7.10343 16.0768 7.33076 16.3451 7.33105 16.666C7.33105 16.9872 7.10357 17.2552 6.80078 17.3174L6.66602 17.3311H5.83301C4.08514 17.3309 2.66797 15.9139 2.66797 14.166V13.333C2.66813 12.966 2.96595 12.6681 3.33301 12.668Z"}),g.createElement("path",{d:"M16.666 12.668C17.0332 12.668 17.3309 12.9659 17.3311 13.333V14.166C17.3311 15.914 15.914 17.3311 14.166 17.3311H13.333C12.9659 17.3309 12.668 17.0332 12.668 16.666C12.6683 16.2991 12.9661 16.0011 13.333 16.001H14.166C15.1795 16.001 16.001 15.1795 16.001 14.166V13.333C16.0011 12.9661 16.2991 12.6683 16.666 12.668Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6.83496C11.748 6.83496 13.165 8.25202 13.165 10C13.165 11.748 11.748 13.165 10 13.165C8.25202 13.165 6.83496 11.748 6.83496 10C6.83496 8.25202 8.25202 6.83496 10 6.83496ZM10 8.16504C8.98656 8.16504 8.16504 8.98656 8.16504 10C8.16504 11.0134 8.98656 11.835 10 11.835C11.0134 11.835 11.835 11.0134 11.835 10C11.835 8.98656 11.0134 8.16504 10 8.16504Z"}),g.createElement("path",{d:"M6.80078 2.68164C7.1035 2.74379 7.33091 3.01193 7.33105 3.33301C7.33105 3.65422 7.1036 3.9222 6.80078 3.98438L6.66602 3.99805H5.83301C4.81978 3.99818 3.99821 4.81979 3.99805 5.83301V6.66602C3.99805 7.03329 3.70028 7.33105 3.33301 7.33105C2.96585 7.33092 2.66797 7.0332 2.66797 6.66602V5.83301C2.66813 4.08525 4.08524 2.6681 5.83301 2.66797H6.66602L6.80078 2.68164Z"}),g.createElement("path",{d:"M14.166 2.66797C15.9139 2.66797 17.3309 4.08517 17.3311 5.83301V6.66602C17.3311 7.03329 17.0333 7.33105 16.666 7.33105C16.299 7.33075 16.001 7.03309 16.001 6.66602V5.83301C16.0008 4.81971 15.1794 3.99805 14.166 3.99805H13.333C12.9659 3.99791 12.668 3.7002 12.668 3.33301C12.6681 2.96596 12.966 2.6681 13.333 2.66797H14.166Z"})),KNt=Object.freeze(Object.defineProperty({__proto__:null,default:Y1e},Symbol.toStringTag,{value:"Module"})),Mut={"image/jpeg":".jpg","image/png":".png"};function Eut({entry:t}){return o.jsx(J.Item,{onClick:t.onClick,icon:t.icon,children:o.jsx(N,C({},t.label))},t.key)}function jut(t){const e=Z(),n=Tt(),r=jf();return g.useCallback(async a=>{const i="".concat(new Date().toISOString().replaceAll(":","-")).concat(Mut[a.mimeType]);ru.uploadFile(r,new File([a.data],i,{type:a.mimeType}),t,e,n,void 0,void 0,Ha.Multimodal)},[r,e,n,t])}function Q1e(t){const e=jut(t),n=Tut(e),r=Nut(e);return{desktopConnectors:g.useMemo(()=>Xi?[n,r].filter(a=>a!==void 0):[],[n,r])}}function Tut(t){return g.useMemo(()=>({key:"takeScreenshot",label:J1e.takeScreenshot,icon:Y1e,onClick:async()=>{const e=await d6e();e&&(B.logEvent("Sidetron: Screenshot Attached"),await t(e))}}),[t])}function Nut(t){return g.useMemo(()=>({key:"takePhoto",label:J1e.takePhoto,icon:aA,onClick:async()=>{const e=await f6e();e&&(B.logEvent("Sidetron: Photo Attached"),await t(e))}}),[t])}const J1e=pe({takeScreenshot:{id:"ContextConnectorPickerDropdownItem.takeScreenshotDesktop",defaultMessage:"Take screenshot"},takePhoto:{id:"ContextConnectorPickerDropdownItem.takePhotoDesktop",defaultMessage:"Take photo"}});function YNt({clientThreadId:t,icon:e,modelSupportedImageMimeTypes:n,isLoadingConnectors:r,connectorConfig:s,onSelectConnector:a,openFileDialog:i,isDisabled:l=!1,highlightTooltip:c=!1,showLabel:u,disabledReason:d,currentModelName:f}){const m=Z(),p=m6e(),[h,v]=g.useState(!1),y=g.useRef(!1),x=q(),b=Yt(wn),_=p!=null||d===xu.RateLimitReached,w=A=>{v(A),A&&(B.logEventWithStatsig("Composer: Open Plus Menu","chatgpt_web_composer_plus_menu_open",_?{file_upload_disabled_reason:"rate_limit"}:void 0),y.current=!0,setTimeout(()=>{y.current=!1},250))},{desktopConnectors:S}=Q1e(n),k=n.length>0,M=o.jsxs(o.Fragment,{children:[b&&o.jsx(kut,{}),o.jsx(_ut,{isLoadingConnectors:r,connectorConfig:s,onConnectorClick:a}),o.jsx(Aut,{modelSupportedImageMimeTypes:n}),o.jsx(fot,{openFileDialog:i,showMenuForNoAuth:!1,modelSupportsImages:k})]}),E=l||p!=null,T=g.useRef(!1),j=o.jsxs(J.Root,{open:h,onOpenChange:w,children:[o.jsx(Kat,{clientThreadId:t,rateLimitPopup:p,highlightTooltip:c,disabled:E,disabledReason:d,currentModelName:f,children:o.jsxs(J.BasicTrigger,{className:"composer-btn",disabled:E,id:"upload-file-btn","aria-label":U4(x,m,E,d,f),children:[e,u&&o.jsx(vot,{})]})}),o.jsx(J.Portal,{children:o.jsx(J.Content,{alignOffset:-8,onEscapeKeyDown:()=>{T.current=!0},side:"bottom",size:"small",onCloseAutoFocus:A=>{T.current||A.preventDefault()},className:"radix-side-bottom:flex-col-reverse flex flex-col",children:M})})]});return o.jsx("div",{className:"flex flex-col",children:j})}const Aut=({modelSupportedImageMimeTypes:t})=>Qi()?o.jsx(Put,{modelSupportedImageMimeTypes:t}):null,Put=({modelSupportedImageMimeTypes:t})=>{const{desktopConnectors:e}=Q1e(t);return o.jsx(o.Fragment,{children:e.map(n=>o.jsx(Eut,{entry:n},n.key))})};class f_ extends Error{constructor(){super("Invalid message header")}}class Xz extends Error{constructor(){super("Invalid struct header")}}class Iut extends Error{constructor(){super("Invalid union header")}}class Lut extends Error{constructor(){super("Invalid handle encoding")}}class QNt extends Error{constructor(){super("Invalid enum value")}}class X1e extends Error{constructor(){super("Unexpected null value")}}class bl extends Error{constructor(){super("Buffer range out of bounds")}}class i0 extends Error{constructor(e){super(e?"Not implemented: ".concat(e):"Not implemented")}}class Rut extends Error{constructor(e){super(e?"Assertion failed: ".concat(e):"Assertion failed")}}function T3(t,e){if(!t)throw new Rut(e)}class eG{constructor(e){Q(this,"rawHandle");this.rawHandle=e}close(){this.rawHandle.close()}watch(e,n){const r=this.rawHandle.watch(e,s=>{r.cancel(),n(s)})}}class vp extends eG{write(e,n=[]){this.rawHandle.writeMessage(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n.map(r=>r.rawHandle))}read(){const{result:e,buffer:n,handles:r}=this.rawHandle.readMessage();return e==Mojo.RESULT_SHOULD_WAIT?{status:"nothing"}:e==Mojo.RESULT_FAILED_PRECONDITION?{status:"dead"}:(T3(e===Mojo.RESULT_OK,"unexpected read result"),{status:"ok",data:n,handles:r.map(s=>new eG(s))})}}function ede(){const{handle0:t,handle1:e}=Mojo.createMessagePipe();return[new vp(t),new vp(e)]}var sf;(t=>{function e(n){const[r,s]=ede();return[new G4(n,r),new tde(n,s)]}t.createChannel=e})(sf||(sf={}));class tde{constructor(e,n){Q(this,"interfaceType");Q(this,"pipe");this.interfaceType=e,this.pipe=n}get endpointState(){return{kind:"primary",pipe:this.pipe}}}class G4{constructor(e,n,r=null){Q(this,"interfaceType");Q(this,"pipe");Q(this,"version");this.interfaceType=e,this.pipe=n,this.version=r!=null?r:e.interfaceVersion}static toBrowser(e){const[n,r]=ede();return Mojo.bindInterface(e.interfaceName,n.rawHandle),new G4(e,r)}get endpointState(){return{kind:"primary",pipe:this.pipe}}}function yp(t){return t+7&-8}function Ci(t){if(t===null)throw new X1e;return t}function JNt(t){if(t===null)return null;for(let e=0;e<t.length;++e)if(t[e]===null)throw new X1e;return t}const Ts=8,Gl=16,xp=8,nde=4294967295,Di=8,rn=class rn{constructor(e=0,n=0){Q(this,"numBytes",0);Q(this,"numAssociatedEndpoints",0);this.numBytes=e,this.numAssociatedEndpoints=n}static bytes(e){return new rn(e)}add(e){return this.numBytes+=e.numBytes,this.numAssociatedEndpoints+=e.numAssociatedEndpoints,this}addBytes(e){return this.numBytes+=e,this}static get zero(){return new rn(0)}get aligned(){return new rn(yp(this.numBytes),this.numAssociatedEndpoints)}static forObject(e,n){return n===null?rn.zero:e.measure(n)}static forUnionValue(e,n){return n===null?rn.zero:e.measure(n)}static forUnionValueIndirect(e,n){return n===null?rn.zero:e.measure(n).addBytes(Gl)}static forString(e){return e===null?rn.zero:rn.forNumericArray(Uint8Array,rn.textEncoder.encode(e))}static forBitArray(e){return e===null?rn.zero:new rn(Ts+yp(e.length+7>>3))}static forNumericArray(e,n){return n===null?rn.zero:rn.bytes(Ts+yp(e.BYTES_PER_ELEMENT*n.length))}static forUnionValueArray(e,n){return n===null?rn.zero:n.reduce((r,s)=>r.add(rn.forUnionValue(e,s)),rn.bytes(Ts+Gl*n.length).aligned)}static forEnumArray(e){return e===null?rn.zero:rn.bytes(Ts+Int32Array.BYTES_PER_ELEMENT*e.length).aligned}static forObjectArray(e,n){return n===null?rn.zero:n.reduce((r,s)=>r.add(rn.forObject(e,s)),rn.bytes(Ts+Di*n.length))}static forHandleArray(e){return e===null?rn.zero:rn.bytes(Ts+Uint32Array.BYTES_PER_ELEMENT*e.length)}static forStringArray(e){return e===null?rn.zero:e.reduce((n,r)=>n.add(rn.forString(r)),rn.bytes(Ts+Di*e.length))}static forArrayOfArrays(e,n){return e===null?rn.zero:e.reduce((r,s)=>r.add(s===null?rn.zero:n(s)),rn.bytes(Ts+Di*e.length))}};Q(rn,"textEncoder",new TextEncoder);let jn=rn;class tG{constructor(e){Q(this,"buffer");Q(this,"handles",[]);Q(this,"interfaceIDs",[]);Q(this,"numClaimedBytes",0);this.buffer=new ArrayBuffer(e)}get remainingCapacity(){return this.buffer.byteLength-this.numClaimedBytes}claim(e){const n=yp(e);if(this.buffer.byteLength<n||this.buffer.byteLength-n<this.numClaimedBytes)throw new bl;const r=this.numClaimedBytes;return this.numClaimedBytes+=n,new vk(this,r,e)}addHandle(e){const n=this.handles.length;return this.handles.push(e),n}addInterfaceID(e){const n=this.interfaceIDs.length;return this.interfaceIDs.push(e),n}}const kl=class kl{constructor(e,n,r){Q(this,"buffer");Q(this,"data");this.buffer=e,this.data=new DataView(e.buffer,n,r)}get baseOffset(){return this.data.byteOffset}get dataSize(){return this.data.byteLength}typedArrayForRange(e,n,r){return new e(this.data.buffer,this.data.byteOffset+n,r)}bigTypedArrayForRange(e,n,r){return new e(this.data.buffer,this.data.byteOffset+n,r)}createEncoderForRange(e,n){return new kl(this.buffer,this.data.byteOffset+e,n)}setBit(e,n,r){const s=this.data.getUint8(e),a=1<<n;this.data.setUint8(e,r?s|a:s&~a)}setI8(e,n){this.data.setInt8(e,n)}setU8(e,n){this.data.setUint8(e,n)}setI16(e,n){this.data.setInt16(e,n,!0)}setU16(e,n){this.data.setUint16(e,n,!0)}setI32(e,n){this.data.setInt32(e,n,!0)}setU32(e,n){this.data.setUint32(e,n,!0)}setI64(e,n){this.data.setBigInt64(e,n,!0)}setU64(e,n){this.data.setBigUint64(e,n,!0)}setF32(e,n){this.data.setFloat32(e,n,!0)}setF64(e,n){this.data.setFloat64(e,n,!0)}setOffset(e,n){if(n==0){this.setU64(e,BigInt(0));return}const r=e+this.data.byteOffset;T3(n>r);const s=n-r;this.setU64(e,BigInt(s))}setUnionValue(e,n,r){if(r===null){this.setU32(n,0);return}this.setU32(n,Gl),this.setU32(n+4,e.tag(r)),e.encode(this.createEncoderForRange(n+8,8),r)}setUnionValueIndirect(e,n,r){if(r===null){this.setOffset(n,0);return}const s=this.buffer.claim(Gl);s.setUnionValue(e,0,r),this.setOffset(n,s.baseOffset)}setEnumValue(e,n,r){this.setI32(n,e.encode(r))}setHandle(e,n){if(n===null){this.setU32(e,nde);return}this.setU32(e,this.buffer.addHandle(n))}setRemote(e,n){if(n===null){this.setHandle(e,null);return}this.setHandle(e,n.pipe),this.setU32(e+4,n.version)}setReceiver(e,n){this.setHandle(e,n===null?null:n.pipe)}setObjectIndirect(e,n,r){if(r===null){this.setOffset(n,0);return}const s=this.buffer.claim(e.CURRENT_VERSION.size);s.setU32(0,e.CURRENT_VERSION.size),s.setU32(4,e.CURRENT_VERSION.version),e.encode(new kl(this.buffer,s.baseOffset+xp,e.CURRENT_VERSION.size-xp),r),this.setOffset(n,s.baseOffset)}setString(e,n){if(n===null){this.setOffset(e,0);return}this.setNumericArray(Uint8Array,e,Array.from(kl.textEncoder.encode(n)))}setBitArray(e,n){if(n===null){this.setOffset(e,0);return}const r=n.length+7>>3,[s,a]=this.allocateArray(r,n.length);for(let i=0;i<r;++i){const l=i*8,c=n.slice(l,l+8).reduce((u,d,f)=>u|(d?1<<f:0),0);a.setU8(i,c)}this.setOffset(e,s.baseOffset)}setNumericArray(e,n,r){if(r===null){this.setOffset(n,0);return}const s=e.BYTES_PER_ELEMENT*r.length,[a,i]=this.allocateArray(s,r.length);i.typedArrayForRange(e,0,r.length).set(r),this.setOffset(n,a.baseOffset)}setBigNumericArray(e,n,r){if(r===null){this.setOffset(n,0);return}const s=e.BYTES_PER_ELEMENT*r.length,[a,i]=this.allocateArray(s,r.length);i.bigTypedArrayForRange(e,0,r.length).set(r),this.setOffset(n,a.baseOffset)}setUnionValueArray(e,n,r){this.setArrayOfNullable(n,Gl,r,(s,a)=>{s.setUnionValue(e,0,a)})}setEnumArray(e,n,r){this.setArray(n,Int32Array.BYTES_PER_ELEMENT,r,(s,a)=>{s.setEnumValue(e,0,a)})}setObjectArray(e,n,r){this.setArrayOfNullable(n,Di,r,(s,a)=>{s.setObjectIndirect(e,0,a)})}setHandleArray(e,n){this.setArray(e,Uint32Array.BYTES_PER_ELEMENT,n,(r,s)=>{r.setHandle(0,s)})}setStringArray(e,n){this.setArray(e,Di,n,(r,s)=>{r.setString(0,s)})}setArrayOfArrays(e,n,r){this.setArrayOfNullable(e,Di,n,(s,a)=>{r(s,a)})}allocateArray(e,n){const r=this.buffer.claim(yp(Ts+e));return r.setU32(0,Ts+e),r.setU32(4,n),[r,r.createEncoderForRange(8,e)]}setArray(e,n,r,s){if(r===null){this.setOffset(e,0);return}const[a,i]=this.allocateArray(r.length*n,r.length);Array.prototype.forEach.call(r,(l,c)=>{s(new kl(this.buffer,i.baseOffset+c*n,n),l)}),this.setOffset(e,a.baseOffset)}setArrayOfNullable(e,n,r,s){if(r===null){this.setOffset(e,0);return}const[a,i]=this.allocateArray(r.length*n,r.length);Array.prototype.forEach.call(r,(l,c)=>{s(new kl(this.buffer,i.baseOffset+c*n,n),l)}),this.setOffset(e,a.baseOffset)}};Q(kl,"textEncoder",new TextEncoder);let vk=kl;class Out{constructor(e,n){Q(this,"buffer");Q(this,"handles");this.buffer=e,this.handles=n.map(r=>({status:"unclaimed",handle:r}))}dispose(){for(const e of this.handles)e.status==="unclaimed"&&e.handle.close()}get numBytes(){return this.buffer.byteLength}get numHandles(){return this.handles.length}claimHandle(e){if(e<0||e>=this.handles.length||this.handles[e].status==="claimed")throw new Lut;const n=this.handles[e].handle;return this.handles[e]={status:"claimed"},n}}const Ks=class Ks{constructor(e,n,r){Q(this,"buffer");Q(this,"data");this.buffer=e,this.data=new DataView(e.buffer,n,r)}get baseOffset(){return this.data.byteOffset}get dataSize(){return this.data.byteLength}typedArrayForRange(e,n,r){return new e(this.data.buffer,this.data.byteOffset+n,r)}bigTypedArrayForRange(e,n,r){return new e(this.data.buffer,this.data.byteOffset+n,r)}isBitSet(e,n){return(this.data.getUint8(e)&1<<n)!==0}getI8(e){return this.data.getInt8(e)}getU8(e){return this.data.getUint8(e)}getI16(e){return this.data.getInt16(e,!0)}getU16(e){return this.data.getUint16(e,!0)}getI32(e){return this.data.getInt32(e,!0)}getU32(e){return this.data.getUint32(e,!0)}getI64(e){return this.data.getBigInt64(e,!0)}getU64(e){return this.data.getBigUint64(e,!0)}getF32(e){return this.data.getFloat32(e,!0)}getF64(e){return this.data.getFloat64(e,!0)}getOffset(e){const n=this.getU32(e);if(this.getU32(e+4)!==0)throw new bl;if(n===0)return 0;const r=this.data.byteOffset+e+n;if(!Number.isSafeInteger(r))throw new bl;return r}getUnionValue(e,n){const r=this.getU32(n);if(r===0)return null;if(r!=Gl)throw new Iut;const s=this.getU32(n+4);return e.decode(s,new Ks(this.buffer,this.data.byteOffset+n+8,8))}getUnionValueIndirect(e,n){const r=this.getOffset(n);return r===0?null:new Ks(this.buffer,r,Gl).getUnionValue(e,0)}getEnumValue(e,n){return e.decode(this.getI32(n))}getHandle(e){const n=this.getU32(e);return n==nde?null:this.buffer.claimHandle(n)}getMessagePipeHandle(e){const n=this.getHandle(e);return n===null?null:new vp(n.rawHandle)}getRemote(e,n){const r=this.getHandle(n);if(r===null)return null;const s=new vp(r.rawHandle),a=this.getU32(n+4);return new G4(e,s,a)}getReceiver(e,n){const r=this.getHandle(n);return r===null?null:new tde(e,new vp(r.rawHandle))}getString(e){const n=this.getNumericArrayInternal(Uint8Array,e);return n===null?null:Ks.textDecoder.decode(n)}getObject(e,n){const r=new Ks(this.buffer,this.baseOffset+n,xp),s=r.getU32(0),a=r.getU32(4);let i=e.VERSION_INFO[0];for(let l=1;l<e.VERSION_INFO.length&&e.VERSION_INFO[l].version<=a;++l)i=e.VERSION_INFO[l];if(s<i.size)throw new Xz;if(a==i.version&&s!=i.size)throw new Xz;return e.decode(new Ks(this.buffer,r.baseOffset+xp,i.size-xp),i.version)}getObjectIndirect(e,n){const r=this.getOffset(n);return r===0?null:this.getObject(e,r-this.baseOffset)}getBitArray(e){const n=this.decodeArray(e);if(n===null)return null;const r=n.numElements+7>>3;if(r>n.elementDecoder.dataSize)throw new bl;const s=[];for(let a=0;a<r;++a){const i=n.elementDecoder.getU8(a),l=a*8;for(let c=0;c<8&&l+c<n.numElements;++c)s.push((i&1<<c)!==0)}return s}getNumericArray(e,n){const r=this.getNumericArrayInternal(e,n);return r===null?r:Array.from(r)}getBigNumericArray(e,n){const r=this.decodeArray(n);if(r===null)return null;if(r.numElements*e.BYTES_PER_ELEMENT>r.elementDecoder.dataSize)throw new bl;return r.elementDecoder.bigTypedArrayForRange(e,0,r.numElements)}getUnionValueArray(e,n){return this.getArray(n,Gl,r=>r.getUnionValue(e,0))}getEnumArray(e,n){return this.getArray(n,Int32Array.BYTES_PER_ELEMENT,r=>r.getEnumValue(e,0))}getObjectArray(e,n){return this.getArrayOfNullable(n,Di,r=>r.getObjectIndirect(e,0))}getHandleArray(e){return this.getArrayOfNullable(e,Uint32Array.BYTES_PER_ELEMENT,n=>n.getHandle(0))}getStringArray(e){return this.getArrayOfNullable(e,Di,n=>n.getString(0))}getArrayOfArrays(e,n){return this.getArrayOfNullable(e,Di,r=>n(r))}decodeArray(e){const n=this.getOffset(e);if(n===0)return null;const r=new Ks(this.buffer,n,Ts),s=r.getU32(0);return{numElements:r.getU32(4),elementDecoder:new Ks(this.buffer,n+Ts,s-Ts)}}getArray(e,n,r){const s=this.decodeArray(e);if(s===null)return null;if(s.numElements*n>s.elementDecoder.dataSize)throw new bl;const a=[];for(let i=0;i<s.numElements;++i){const l=new Ks(this.buffer,s.elementDecoder.baseOffset+i*n,n);a.push(r(l))}return a}getArrayOfNullable(e,n,r){const s=this.decodeArray(e);if(s===null)return null;if(s.numElements*n>s.elementDecoder.dataSize)throw new bl;const a=[];for(let i=0;i<s.numElements;++i){const l=new Ks(this.buffer,s.elementDecoder.baseOffset+i*n,n);a.push(r(l))}return a}getNumericArrayInternal(e,n){const r=this.decodeArray(n);if(r===null)return null;if(r.numElements*e.BYTES_PER_ELEMENT>r.elementDecoder.dataSize)throw new bl;return r.elementDecoder.typedArrayForRange(e,0,r.numElements)}};Q(Ks,"textDecoder",new TextDecoder);let Kh=Ks;const Pl=[24,32,48],Yh=Pl.length-1;var aa=(t=>(t[t.None=0]="None",t[t.ExpectsResponse=1]="ExpectsResponse",t[t.IsResponse=2]="IsResponse",t[t.IsSync=4]="IsSync",t[t.NoInterrupt=8]="NoInterrupt",t[t.IsUrgent=16]="IsUrgent",t[t.UnimplementedResponse=1073741824]="UnimplementedResponse",t))(aa||{});function nG(t,e,n){return t&~e|(n?e:0)}class Is{constructor(e,n,r){Q(this,"header");Q(this,"data");Q(this,"handles");this.header=e,this.data=n,this.handles=r}static encodeEmpty(e,n,r){const s=Pl[Yh],a=new tG(s),i=new td(a.claim(td.size));return i.ordinal=e,i.flags=n,i.requestID=r,new Is(i,new DataView(a.buffer),[])}static encode(e,n,r,s){const a=jn.forObject(r,s),i=Pl[Yh]+a.numBytes;if(a.numAssociatedEndpoints>0)throw new i0("Associated interfaces");const l=new tG(i),c=new td(l.claim(td.size));return c.interfaceID=0,c.ordinal=e,c.flags=n,c.payloadEncoder.setObjectIndirect(r,0,s),new Is(c,new DataView(l.buffer),l.handles)}dump(){const e=[];for(let n=0;n<this.data.byteLength;n+=4){const r=this.data.getUint32(n);e.push(r.toString(16).padStart(8,"0"))}console.log("Data: ",e.join(" "),"Handles: ",this.handles.length)}}class Dut{constructor(e,n){Q(this,"buffer");Q(this,"header");Q(this,"payload");this.buffer=new Out(e,n),this.header=new Fut(new Kh(this.buffer,0)),this.payload=new Kh(this.buffer,this.header.payload)}dispose(){this.buffer.dispose()}decode(e){return this.payload.getObject(e,0)}dump(){const e=[],n=new DataView(this.buffer.buffer);for(let r=0;r<n.byteLength;r+=4){const s=n.getUint32(r);e.push(s.toString(16).padStart(8,"0"))}console.log("Data: ",e.join(" "),"Handles: ",this.buffer.numHandles)}}const Jc=class Jc{constructor(e){Q(this,"payloadEncoder");Q(this,"encoder");T3(e.dataSize>=Jc.size),this.encoder=e,this.encoder.setU32(0,Jc.size),this.encoder.setU32(4,Jc.version),this.payloadEncoder=e.createEncoderForRange(32,8)}set interfaceID(e){this.encoder.setU32(8,e)}set ordinal(e){this.encoder.setU32(12,e)}set flags(e){this.encoder.setU32(16,e)}set requestID(e){this.encoder.setU64(24,BigInt(e))}set newEndpoints(e){this.encoder.setOffset(40,e)}set isResponse(e){this.flags=nG(this.flags,2,e)}set expectsResponse(e){this.flags=nG(this.flags,1,e)}};Q(Jc,"size",Pl[Yh]),Q(Jc,"version",Yh);let td=Jc;class Fut{constructor(e){Q(this,"decoder");var a;if(e.dataSize<Pl[0])throw new f_;this.decoder=e;const n=this.headerSize,r=this.headerVersion,s=(a=Pl[r])!=null?a:Pl[Pl.length-1];if(n>e.dataSize||n<s)throw new f_;if(this.payload>=e.dataSize)throw new f_}get headerSize(){return this.decoder.getU32(0)}get headerVersion(){return this.decoder.getU32(4)}get interfaceID(){return this.decoder.getU32(8)}get ordinal(){return this.decoder.getU32(12)}get flags(){return this.decoder.getU32(16)}get isResponse(){return(this.flags&2)!==0}get expectsResponse(){return(this.flags&1)!==0}get unimplementedResponse(){return(this.flags&1073741824)!==0}get requestID(){if(this.headerVersion<1)return 0;const e=Number(this.decoder.getU64(24));return T3(Number.isSafeInteger(e)),e}get payload(){return this.headerVersion>=2?this.decoder.getOffset(32):this.headerSize}get newEndpoints(){if(this.headerVersion<2)return null;const e=this.decoder.getOffset(40);return e===0?null:e}}const But=1<<31,Uut=4294967295;class Hut{constructor(e,n){Q(this,"pipe");Q(this,"setNamespaceBit");Q(this,"nextInterfaceID",1);Q(this,"knownUnboundInterfaceIDs",new Set);Q(this,"listeners",new Map);Q(this,"isDispatchScheduled",!1);Q(this,"blockingMessage",null);this.pipe=e,this.setNamespaceBit=n}dispose(){this.closed||this.close()}get closed(){return this.pipe===null}get rawPipe(){return this.pipe}close(){this.pipe!==null&&(this.pipe.close(),this.pipe=null)}allocateEndpointID(){const e=this.nextInterfaceID|(this.setNamespaceBit?But:0);return this.nextInterfaceID+=1,this.knownUnboundInterfaceIDs.add(e),e}send(e,n){this.pipe!==null&&(n.header.interfaceID=e,this.pipe.write(n.data,n.handles))}listen(e,n){this.knownUnboundInterfaceIDs.delete(e),this.listeners.set(e,n),this.ensureDispatchingIfReady()}stopListening(e){this.listeners.delete(e),this.knownUnboundInterfaceIDs.delete(e),this.ensureDispatchingIfReady()}get isDispatchBlocked(){if(this.blockingMessage===null)return!1;const e=this.blockingMessage.header.interfaceID;return this.knownUnboundInterfaceIDs.has(e)}dispatchDisconnect(){const e=this.listeners;this.listeners=new Map;for(const[n,r]of e)r({type:"disconnected"})}ensureDispatchingIfReady(){this.isDispatchBlocked||this.isDispatchScheduled||(this.isDispatchScheduled=!0,setTimeout(()=>{this.dispatchMessages()},0))}dispatchMessages(){for(this.isDispatchScheduled=!1;this.pipe!==null&&!this.isDispatchBlocked;){if(this.blockingMessage!==null){const n=this.blockingMessage;this.blockingMessage=null,this.dispatchMessage(n);continue}const e=this.pipe.read();switch(e.status){case"ok":this.dispatchMessage(new Dut(e.data,e.handles));continue;case"nothing":this.listenToPipe();return;case"dead":this.dispatchDisconnect(),this.close();return}}}listenToPipe(){T3(this.pipe!==null),this.pipe.watch({readable:!0},e=>{this.dispatchMessages()})}dispatchMessage(e){var a;const n=e.header.interfaceID;if(n===Uut)throw new i0("Control messages");if(this.knownUnboundInterfaceIDs.has(n)){this.blockingMessage=e;return}if(e.header.newEndpoints!==null)throw new i0("Associated interfaces");const r=(a=this.listeners.get(n))!=null?a:null;if(r===null){e.dispose();return}r({type:"message",message:e})==="stopListening"&&this.stopListening(n)}}class hA{constructor(e,n){Q(this,"router");Q(this,"interfaceID");Q(this,"action");Q(this,"isListening",!1);Q(this,"nextRequestID",1);Q(this,"pendingResponses",new Map);switch(e.kind){case"primary":this.router=new Hut(e.pipe,n),this.interfaceID=0;break;case"secondary":throw new i0("Associated interfaces")}}dispose(){this.router.dispose()}send(e){this.router.send(this.interfaceID,e)}async sendAndAwaitResponse(e){const n=this.nextRequestID++;e.header.expectsResponse=!0,e.header.requestID=n,this.ensureListening();const r=await new Promise((s,a)=>{this.pendingResponses.set(n,{resolve:s,reject:a}),this.send(e)});if(r.header.unimplementedResponse)throw new i0("Unimplemented method");return r}sendUnimplementedResponse(e,n){const r=Is.encodeEmpty(n,aa.UnimplementedResponse|aa.IsResponse,e);this.router.send(this.interfaceID,r)}listen(e){this.action=e,this.ensureListening()}createResponder(e,n,r){return s=>{const a=Is.encode(n,aa.IsResponse,e,s);a.header.requestID=r,this.send(a)}}ensureListening(){this.isListening||(this.isListening=!0,this.router.listen(this.interfaceID,e=>{switch(e.type){case"message":{const n=e.message;if(n.header.isResponse){const r=this.pendingResponses.get(n.header.requestID);r&&r.resolve(n)}else this.action&&this.action({type:"message",message:n});return"keepListening"}case"disconnected":return this.pendingResponses.forEach(n=>n.reject("Disconnected")),this.action&&this.action({type:"disconnected"}),"stopListening"}}))}}class rde{constructor(e){Q(this,"interfaceType");Q(this,"endpoints",new Set);this.interfaceType=e}dispose(){this.endpoints.forEach(e=>e.dispose())}addReceiver(e,n,r){const s=new hA(e.endpointState,!1);this.endpoints.add(s),s.listen(a=>{switch(a.type){case"message":n(a.message,s);break;case"disconnected":this.endpoints.delete(s),r();break}})}}const sde=nt("answer"),Vut=nt("contentOnly"),XNt=nt(void 0);class eAt{constructor(e){Q(this,"proxy");this.proxy=e,Su.subscribe((n,r)=>{n.isSlideoverSidebarOpen&&!r.isSlideoverSidebarOpen&&this.setSidebarVisibility(!1)}),this.proxy.getSidebarVisibility().then(async n=>{n&&(await tE(()=>!p6e()),pn.setSlideoverSidebarOpen(!1))})}setSidebarVisibility(e){this.proxy.setSidebarVisibility(e)}}class Qh{}Q(Qh,"interfaceName","owl.mojom.ChatGPTFrontendHost"),Q(Qh,"interfaceVersion",0);(t=>{let e;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function f(h){return jn.bytes(d.CURRENT_VERSION.size)}d.measure=f;function m(h,v){h.setRemote(0,v.frontend)}d.encode=m;function p(h,v){return{frontend:Ci(h.getRemote(l0,0))}}d.decode=p})(e=t.ChatGPTFrontendHost_SetFrontend_Params||(t.ChatGPTFrontendHost_SetFrontend_Params={}));let n;(d=>{d.VERSION_INFO=[{version:0,size:8}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function f(h){return jn.bytes(d.CURRENT_VERSION.size)}d.measure=f;function m(h,v){}d.encode=m;function p(h,v){return{}}d.decode=p})(n=t.ChatGPTFrontendHost_GetAccountID_Params||(t.ChatGPTFrontendHost_GetAccountID_Params={}));let r;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function f(h){var v;return jn.bytes(d.CURRENT_VERSION.size).add(jn.forString((v=h.id)!=null?v:null))}d.measure=f;function m(h,v){var y;h.setString(0,(y=v.id)!=null?y:null)}d.encode=m;function p(h,v){const y=h.getString(0);return C({},y!==null?{id:y}:{})}d.decode=p})(r=t.ChatGPTFrontendHost_GetAccountID_ResponseParams||(t.ChatGPTFrontendHost_GetAccountID_ResponseParams={}));let s;(d=>{d.VERSION_INFO=[{version:0,size:24}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function f(h){var v;return jn.bytes(d.CURRENT_VERSION.size).add(jn.forString(h.name)).add(jn.forString((v=h.payload)!=null?v:null))}d.measure=f;function m(h,v){var y;h.setString(0,v.name),h.setString(8,(y=v.payload)!=null?y:null)}d.encode=m;function p(h,v){const y=h.getString(8);return C({name:Ci(h.getString(0))},y!==null?{payload:y}:{})}d.decode=p})(s=t.ChatGPTFrontendHost_SendMessage_Params||(t.ChatGPTFrontendHost_SendMessage_Params={}));let a;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function f(h){var v;return jn.bytes(d.CURRENT_VERSION.size).add(jn.forString((v=h.reply)!=null?v:null))}d.measure=f;function m(h,v){var y;h.setString(0,(y=v.reply)!=null?y:null)}d.encode=m;function p(h,v){const y=h.getString(0);return C({},y!==null?{reply:y}:{})}d.decode=p})(a=t.ChatGPTFrontendHost_SendMessage_ResponseParams||(t.ChatGPTFrontendHost_SendMessage_ResponseParams={}));let i;(d=>{d.VERSION_INFO=[{version:0,size:16}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function f(h){return jn.bytes(d.CURRENT_VERSION.size).add(jn.forString(h.serverConversationId))}d.measure=f;function m(h,v){h.setString(0,v.serverConversationId)}d.encode=m;function p(h,v){return{serverConversationId:Ci(h.getString(0))}}d.decode=p})(i=t.ChatGPTFrontendHost_ReceivedFirstToken_Params||(t.ChatGPTFrontendHost_ReceivedFirstToken_Params={}));let l;(d=>{d.VERSION_INFO=[{version:0,size:24}],d.CURRENT_VERSION=d.VERSION_INFO[d.VERSION_INFO.length-1];function f(h){return jn.bytes(d.CURRENT_VERSION.size).add(jn.forString(h.interfaceName))}d.measure=f;function m(h,v){h.setString(0,v.interfaceName),h.setHandle(8,v.pipe)}d.encode=m;function p(h,v){return{interfaceName:Ci(h.getString(0)),pipe:Ci(h.getMessagePipeHandle(8))}}d.decode=p})(l=t.ChatGPTFrontendHost_BindReceiver_Params||(t.ChatGPTFrontendHost_BindReceiver_Params={}));class c{constructor(f){Q(this,"_endpoint");Q(this,"_version");this._endpoint=new hA(f.endpointState,!0),this._version=0}static create(){const[f,m]=sf.createChannel(t);return[new c(f),m]}static createToBrowser(){const[f,m]=this.create();return Mojo.bindInterface(t.interfaceName,m.pipe.rawHandle),f}setFrontend(f){const m={frontend:f};this._endpoint.send(Is.encode(0,aa.None,e,m))}async getAccountID(){const f={};return(await this._endpoint.sendAndAwaitResponse(Is.encode(1,aa.None,n,f))).decode(r).id}async sendMessage(f,m){const p={name:f,payload:m};return(await this._endpoint.sendAndAwaitResponse(Is.encode(2,aa.None,s,p))).decode(a).reply}receivedFirstToken(f){const m={serverConversationId:f};this._endpoint.send(Is.encode(3,aa.None,i,m))}bindReceiver(f,m){const p={interfaceName:f,pipe:m};this._endpoint.send(Is.encode(4,aa.None,l,p))}}t.Proxy=c;class u extends rde{constructor(){super(t);Q(this,"onDisconnect")}bind(m,p){this.addReceiver(p,async(h,v)=>{switch(h.header.ordinal){case 0:{const y=h.decode(e);m.setFrontend(y.frontend);break}case 1:{h.decode(n);const y=m.getAccountID(),x=v.createResponder(r,1,h.header.requestID),b=await y;x({id:b});break}case 2:{const y=h.decode(s),x=m.sendMessage(y.name,y.payload),b=v.createResponder(a,2,h.header.requestID),_=await x;b({reply:_});break}case 3:{const y=h.decode(i);m.receivedFirstToken(y.serverConversationId);break}case 4:{const y=h.decode(l);m.bindReceiver(y.interfaceName,y.pipe);break}default:h.header.expectsResponse&&v.sendUnimplementedResponse(h.header.requestID,h.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(m)})}createRemote(m){const[p,h]=sf.createChannel(t);return this.bind(m,h),p}}t.Dispatcher=u})(Qh||(Qh={}));class l0{}Q(l0,"interfaceName","owl.mojom.ChatGPTFrontend"),Q(l0,"interfaceVersion",0);(t=>{let e;(l=>{l.VERSION_INFO=[{version:0,size:16}],l.CURRENT_VERSION=l.VERSION_INFO[l.VERSION_INFO.length-1];function c(f){return jn.bytes(l.CURRENT_VERSION.size).add(jn.forString(f.message))}l.measure=c;function u(f,m){f.setString(0,m.message)}l.encode=u;function d(f,m){return{message:Ci(f.getString(0))}}l.decode=d})(e=t.ChatGPTFrontend_LogConsoleMessage_Params||(t.ChatGPTFrontend_LogConsoleMessage_Params={}));let n;(l=>{l.VERSION_INFO=[{version:0,size:24}],l.CURRENT_VERSION=l.VERSION_INFO[l.VERSION_INFO.length-1];function c(f){var m;return jn.bytes(l.CURRENT_VERSION.size).add(jn.forString(f.name)).add(jn.forString((m=f.payload)!=null?m:null))}l.measure=c;function u(f,m){var p;f.setString(0,m.name),f.setString(8,(p=m.payload)!=null?p:null)}l.encode=u;function d(f,m){const p=f.getString(8);return C({name:Ci(f.getString(0))},p!==null?{payload:p}:{})}l.decode=d})(n=t.ChatGPTFrontend_SendMessage_Params||(t.ChatGPTFrontend_SendMessage_Params={}));let r;(l=>{l.VERSION_INFO=[{version:0,size:16}],l.CURRENT_VERSION=l.VERSION_INFO[l.VERSION_INFO.length-1];function c(f){var m;return jn.bytes(l.CURRENT_VERSION.size).add(jn.forString((m=f.reply)!=null?m:null))}l.measure=c;function u(f,m){var p;f.setString(0,(p=m.reply)!=null?p:null)}l.encode=u;function d(f,m){const p=f.getString(0);return C({},p!==null?{reply:p}:{})}l.decode=d})(r=t.ChatGPTFrontend_SendMessage_ResponseParams||(t.ChatGPTFrontend_SendMessage_ResponseParams={}));let s;(l=>{l.VERSION_INFO=[{version:0,size:24}],l.CURRENT_VERSION=l.VERSION_INFO[l.VERSION_INFO.length-1];function c(f){return jn.bytes(l.CURRENT_VERSION.size).add(jn.forString(f.interfaceName))}l.measure=c;function u(f,m){f.setString(0,m.interfaceName),f.setHandle(8,m.pipe)}l.encode=u;function d(f,m){return{interfaceName:Ci(f.getString(0)),pipe:Ci(f.getMessagePipeHandle(8))}}l.decode=d})(s=t.ChatGPTFrontend_BindReceiver_Params||(t.ChatGPTFrontend_BindReceiver_Params={}));class a{constructor(c){Q(this,"_endpoint");Q(this,"_version");this._endpoint=new hA(c.endpointState,!0),this._version=0}static create(){const[c,u]=sf.createChannel(t);return[new a(c),u]}static createToBrowser(){const[c,u]=this.create();return Mojo.bindInterface(t.interfaceName,u.pipe.rawHandle),c}logConsoleMessage(c){const u={message:c};this._endpoint.send(Is.encode(0,aa.None,e,u))}async sendMessage(c,u){const d={name:c,payload:u};return(await this._endpoint.sendAndAwaitResponse(Is.encode(1,aa.None,n,d))).decode(r).reply}bindReceiver(c,u){const d={interfaceName:c,pipe:u};this._endpoint.send(Is.encode(2,aa.None,s,d))}}t.Proxy=a;class i extends rde{constructor(){super(t);Q(this,"onDisconnect")}bind(u,d){this.addReceiver(d,async(f,m)=>{switch(f.header.ordinal){case 0:{const p=f.decode(e);u.logConsoleMessage(p.message);break}case 1:{const p=f.decode(n),h=u.sendMessage(p.name,p.payload),v=m.createResponder(r,1,f.header.requestID),y=await h;v({reply:y});break}case 2:{const p=f.decode(s);u.bindReceiver(p.interfaceName,p.pipe);break}default:f.header.expectsResponse&&m.sendUnimplementedResponse(f.header.requestID,f.header.ordinal)}return Promise.resolve()},()=>{this.onDisconnect&&this.onDisconnect(u)})}createRemote(u){const[d,f]=sf.createChannel(t);return this.bind(u,f),d}}t.Dispatcher=i})(l0||(l0={}));function tAt({composerController:t,clientThreadId:e}){const n=Z(),r=Kr(),s=qo(),a=r===we.Tatertot,i=n.formatMessage({id:"bF9p2/",defaultMessage:"Study"}),l=c=>{c.stopPropagation(),c.preventDefault(),s(we.Tatertot,{analyticsMetadata:{clientThreadId:e}}),a||Zo(Ht(t))};return o.jsx(x1e,{pressed:a,icon:o.jsx(U0,{className:"h-[18px] w-[18px]"}),label:i,ariaLabel:i,animatedLabel:!0,showLabel:!0,onClick:l,disabled:!1,dataTestid:"composer-button-study"})}const $ut="https://help.openai.com/en/articles/11752874-chatgpt-agent#h_beedf96566",qut="composer_system_hint",li={segment:{shown:"Agent Nux Modal Shown",continueClicked:"Agent Nux Modal Continue Clicked",dismissed:"Agent Nux Modal Dismissed"},statsig:{shown:"chatgpt_agent_nux_modal_shown",continueClicked:"chatgpt_agent_nux_modal_continue_clicked",dismissed:"chatgpt_agent_nux_modal_dismissed"},datadog:{shown:"agent_nux_modal_shown",continueClicked:"agent_nux_modal_continue_clicked",dismissed:"agent_nux_modal_dismissed"}},Pm={title:o.jsx(N,{id:"jFh1/1",defaultMessage:"Welcome to agent mode"}),description:o.jsx(N,{id:"RJdktl",defaultMessage:"Let ChatGPT handle complex tasks from start to finish, from finding the perfect product to creating spreadsheets."}),privacy:o.jsx(N,{id:"AgLzPZ",defaultMessage:"Agent mode uses a remote browser and takes screenshots. You can take control anytime. Agent mode has privacy risks and is important to monitor. <learnMoreLink>Learn more</learnMoreLink>",values:{learnMoreLink:t=>o.jsx("a",{href:$ut,target:"_blank",rel:"noopener noreferrer",className:"cursor-pointer underline",children:t})}}),buttonText:o.jsx(N,{id:"RW8OC0",defaultMessage:"Get started"})},nAt=()=>{const{eligible:t,isLoading:e}=$e(We.hasSeenn7jupdNux),n=Yt(ws),r=q(),s=ie(r,"3014776572"),a=u1e(Or,g6e);return!s||!a||n?"hide":e?"loading":t?"show":"hide"},rAt=({onClose:t,clientThreadId:e,source:n=qut})=>{const{markAsViewed:r}=$e(We.hasSeenn7jupdNux),s=q(),a=_s(s,"2302071098"),i=a.get("videoUrl","https://persistent.oaistatic.com/deep-research/nuxx.070152025.mp4"),l=a.get("posterUrl","https://persistent.oaistatic.com/deep-research/nuxx.070152025.jpg"),[c,u]=g.useState(!1),d=g.useMemo(()=>({client_thread_id:e,source:n}),[e,n]);g.useEffect(()=>{B.logEventWithStatsig(li.segment.shown,li.statsig.shown,d),ve.addAction(li.datadog.shown,d)},[d,e,n]);const f=()=>{B.logEventWithStatsig(li.segment.dismissed,li.statsig.dismissed,d),ve.addAction(li.datadog.dismissed,d),r(),t()},m=()=>{B.logEventWithStatsig(li.segment.continueClicked,li.statsig.continueClicked,d),ve.addAction(li.datadog.continueClicked,d),r(),t()};return o.jsxs(tt,{testId:"modal-agent-nux",isOpen:!0,noPadding:!0,onClose:f,showCloseButton:!0,size:"custom",type:"success",className:"max-w-md",title:Pm.title,visuallyHiddenHeader:!0,children:[o.jsxs("div",{className:"relative aspect-16/9 w-full",children:[!c&&o.jsx("img",{src:l,alt:"",className:"pointer-events-none absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"}),o.jsx("video",{src:i,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"pointer-events-none h-full w-full object-cover object-bottom",onLoadedData:()=>u(!0)})]}),o.jsxs("div",{className:"flex flex-col gap-4 px-8 pt-6 pb-8 text-center",children:[o.jsx("div",{className:"text-xl font-medium",children:Pm.title}),o.jsx("div",{className:"text-token-text-secondary",children:Pm.description}),o.jsx("div",{className:"text-token-text-secondary text-xs",children:Pm.privacy}),o.jsx("div",{className:"mt-4 flex w-full justify-center gap-3",children:o.jsx("div",{className:"mx-auto flex w-fit max-w-full min-w-[260px] justify-center gap-3",children:o.jsx(oe,{color:"primary",onClick:m,className:"min-w-0 flex-1",children:Pm.buttonText})})})]})]})},sAt=({layoutMode:t,selectedModelId:e,onSelectModelId:n})=>{"use forget";const r=q(),{data:s,isLoading:a}=at(()=>h6e(r)),i=g.useMemo(()=>{var p;return(p=s==null?void 0:s.categories)!=null?p:[]},[s]),l=g.useMemo(()=>{var p,h,v;return(v=(p=s==null?void 0:s.categories.find(y=>{var x;return y.defaultModel===e||((x=y.supportedModels)==null?void 0:x.includes(e))}))==null?void 0:p.label)!=null?v:(h=s==null?void 0:s.models.get(e))==null?void 0:h.title},[s,e]),{primaryGroup:c,subGroups:u}=g.useMemo(()=>{const p=i.filter(v=>v.subcategory==null),h=j0(i.filter(v=>v.subcategory!=null),"subcategory");return{primaryGroup:p,subGroups:h}},[i]);if(!v6e())return null;const f=ie(r,"3315017149"),m=3+(f?9:0)+12*c.length+2+9+3;return o.jsxs(J.Sub,{children:[o.jsx(J.SubMenuTrigger,{icon:H4,label:o.jsx(N,{id:"RylQRg",defaultMessage:"Model"}),trailing:o.jsx("span",{className:"max-w-40 truncate",children:l}),disabled:a}),o.jsx(J.Portal,{children:o.jsxs(J.SubContent,{align:t==="center"?"start":"end",style:{maxHeight:"min(var(--radix-dropdown-menu-content-available-height),calc(var(--spacing)*".concat(m,"))")},children:[o.jsxs(J.RadioGroup,{value:e,onValueChange:n,children:[f&&o.jsx(J.Label,{children:s==null?void 0:s.title}),c.map(p=>o.jsx(rG,{category:p,isSelected:e===p.defaultModel},p.defaultModel)),Object.entries(u).map(([p,h])=>o.jsxs(J.Group,{children:[o.jsx(J.Label,{children:p}),h.map(v=>o.jsx(rG,{category:v,isSelected:e===v.defaultModel},v.defaultModel))]},p))]}),!1]})})]},"models-menu")},rG=t=>{"use forget";const e=ee.c(12),{category:n,isSelected:r}=t,s=Z();let a;e[0]!==n.isAlpha||e[1]!==n.isBeta||e[2]!==n.modelBadge||e[3]!==s?(a=n.isBeta?s.formatMessage({id:"Mu+7v6",defaultMessage:"Beta"}):n.isAlpha?s.formatMessage({id:"chDss2",defaultMessage:"Alpha"}):n.modelBadge,e[0]=n.isAlpha,e[1]=n.isBeta,e[2]=n.modelBadge,e[3]=s,e[4]=a):a=e[4];const i=a,l=r?"selected":"default";let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=o.jsx(J.RadioItemCheck,{}),e[5]=c):c=e[5];let u;return e[6]!==i||e[7]!==n.defaultModel||e[8]!==n.description||e[9]!==n.label||e[10]!==l?(u=o.jsx(J.RadioItem,{value:n.defaultModel,color:l,trailing:c,label:n.label,secondary:n.description,badge:i,disabled:!1}),e[6]=i,e[7]=n.defaultModel,e[8]=n.description,e[9]=n.label,e[10]=l,e[11]=u):u=e[11],u};function tp(t){return Ht(t).state.doc.textContent}const zut=M0(()=>{let t=sG;function e(s){t=s}function n(){e(sG)}function r(s){return P(C({},t),{dictationEdited:Gut(t,s)})}return{setData:e,resetData:n,getData:r}}),sG={usedDictation:!1,dictationOriginalText:null,dictationAssetPointer:null,dictationAssetTTL:null,dictationAssetFormat:null};function Gut(t,e){return t.usedDictation&&t.dictationOriginalText!=null&&!e.includes(t.dictationOriginalText)}const ade=M0(()=>{const t=nt(!1),e=nt(void 0);return{isWhisperActive$:t,waveformData$:e}});var Wut=(t=>(t.ConfigureRepos="configure-repos",t.SyncRepos="sync-repos",t.IndexRepos="index-repos",t))(Wut||{});class yk extends Yi()(()=>({files:[]})){addFile(e){this.setState(n=>P(C({},n),{files:[...n.files,e]}))}updateFile(e,n){this.setState(r=>P(C({},r),{files:r.files.map(s=>s.fileSpec.id===e?C(C({},s),n):s)}))}removeFile(e){this.setState(n=>P(C({},n),{files:n.files.filter(r=>r.fileSpec.id!==e)}))}reset(){this.setState(()=>({files:[]}))}}Q(yk,"selectFiles",e=>e.files),Q(yk,"selectFile",(e,n)=>e.files.find(r=>r.fileSpec.id===n));const ode=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6.24992 11.0417C6.65578 11.0417 7.04227 10.9587 7.39339 10.809C7.05099 11.7065 6.35374 12.9827 5.29864 13.1333C4.84303 13.1985 4.52644 13.6206 4.59153 14.0762C4.65662 14.5318 5.07873 14.8484 5.53434 14.7832C7.66169 14.4794 8.93792 12.0592 9.30742 10.1591C9.50975 9.11833 9.48792 7.98412 9.04084 7.03938C8.53525 5.97097 7.43538 5.20335 6.23748 5.20834C4.63238 5.21504 3.33325 6.5183 3.33325 8.12498C3.33325 9.73583 4.63909 11.0417 6.24992 11.0417Z"}),g.createElement("path",{d:"M13.4832 11.0417C13.889 11.0417 14.2755 10.9587 14.6267 10.809C14.2843 11.7065 13.587 12.9827 12.5319 13.1333C12.0763 13.1985 11.7597 13.6206 11.8248 14.0762C11.8899 14.5318 12.312 14.8484 12.7676 14.7832C14.8949 14.4794 16.1712 12.0592 16.5407 10.1591C16.743 9.11833 16.7212 7.98412 16.2741 7.03938C15.7685 5.97097 14.6687 5.20335 13.4708 5.20834C11.8656 5.21504 10.5665 6.5183 10.5665 8.12498C10.5665 9.73583 11.8724 11.0417 13.4832 11.0417Z"})),aAt=Object.freeze(Object.defineProperty({__proto__:null,default:ode},Symbol.toStringTag,{value:"Module"}));class us extends Yi()(()=>({history:[],historyIndex:-1,historyScrollTops:[],historyFullWidthImageHeights:[]})){appendOrReplaceActive(e,n=y6e){const{history:r,historyIndex:s,historyScrollTops:a,historyFullWidthImageHeights:i}=this.getState();if(s>=0&&n(r[s],e)){const c=[...r];c[s]=e,this.setState({history:c});return}const l=s>=0?r.slice(0,s+1):[];this.setState({history:[...l,e],historyScrollTops:[...a.slice(0,Math.max(0,s+1)),0],historyFullWidthImageHeights:[...i.slice(0,Math.max(0,s+1)),null],historyIndex:l.length})}setActiveIndex(e){const{history:n}=this.getState();e<0||e>=n.length||this.setState({historyIndex:e})}setScrollTopForActive(e){const{historyIndex:n,historyScrollTops:r}=this.getState();if(n<0)return;const s=[...r];s[n]=e,this.setState({historyScrollTops:s})}setFullWidthImageHeightForIndex(e,n){const{history:r,historyFullWidthImageHeights:s}=this.getState();if(e<0||e>=r.length)return;const a=[...s];a[e]=n,this.setState({historyFullWidthImageHeights:a})}setFullWidthImageHeightForActive(e){const{historyIndex:n}=this.getState();this.setFullWidthImageHeightForIndex(n,e)}reset(){this.setState({history:[],historyIndex:-1,historyScrollTops:[],historyFullWidthImageHeights:[]})}goBack(e){const{historyIndex:n,history:r}=this.getState();n<=0||(this.setActiveIndex(n-1),e(r[n-1]))}goToHistoryIndex(e,n){const{history:r}=this.getState();e<0||e>=r.length||(this.setActiveIndex(e),n(r[e]))}closeThreadSidebar(e){this.reset(),e()}}Q(us,"selectCanGoBack",e=>e.historyIndex>0),Q(us,"selectBackHistory",e=>e.history.slice(0,Math.max(0,e.historyIndex))),Q(us,"selectCurrentHistoryScrollTop",e=>{var n;return e.historyIndex>=0&&(n=e.historyScrollTops[e.historyIndex])!=null?n:0}),Q(us,"selectCurrentHistoryFullWidthImageHeight",e=>{var n;return e.historyIndex>=0&&(n=e.historyFullWidthImageHeights[e.historyIndex])!=null?n:null});function ide(){const{openThreadSidebar:t,closeThreadSidebar:e}=Bn(),n=oE(),r=us.useStore(),s=us.useState(us.selectCanGoBack),a=us.useState(us.selectBackHistory),i=us.useState(us.selectCurrentHistoryScrollTop),l=us.useState(us.selectCurrentHistoryFullWidthImageHeight),c=us.useState(y=>y.historyIndex);g.useEffect(()=>{n&&r.appendOrReplaceActive(n)},[n,r]);const u=g.useCallback(()=>r.goBack(t),[r,t]),d=g.useCallback(y=>r.goToHistoryIndex(y,t),[r,t]),f=g.useCallback(y=>r.setScrollTopForActive(y),[r]),m=g.useCallback(y=>r.setFullWidthImageHeightForActive(y),[r]),p=g.useCallback((y,x)=>r.setFullWidthImageHeightForIndex(y,x),[r]),h=g.useCallback(()=>{r.reset()},[r]),v=g.useCallback(()=>{r.reset(),e()},[r,e]);return{canGoBack:s,backHistory:a,goBack:u,goToHistoryIndex:d,setScrollTopForActive:f,currentHistoryScrollTop:i,setFullWidthImageHeightForActive:m,setFullWidthImageHeightForIndex:p,currentHistoryFullWidthImageHeight:l,activeHistoryIndex:c,resetSidebarHistory:h,closeThreadSidebarAndResetHistory:v}}function Zut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}function xk(t,e){return Array(e+1).join(t)}function Kut(t){return t.replace(/^\n*/,"")}function Yut(t){for(var e=t.length;e>0&&t[e-1]==="\n";)e--;return t.substring(0,e)}var Qut=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function vA(t){return yA(t,Qut)}var lde=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function cde(t){return yA(t,lde)}function Jut(t){return dde(t,lde)}var ude=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Xut(t){return yA(t,ude)}function e1t(t){return dde(t,ude)}function yA(t,e){return e.indexOf(t.nodeName)>=0}function dde(t,e){return t.getElementsByTagName&&e.some(function(n){return t.getElementsByTagName(n).length})}var Xr={};Xr.paragraph={filter:"p",replacement:function(t){return"\n\n"+t+"\n\n"}};Xr.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+"\n"}};Xr.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var r=Number(e.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var s=xk(r===1?"=":"-",t.length);return"\n\n"+t+"\n"+s+"\n\n"}else return"\n\n"+xk("#",r)+" "+t+"\n\n"}};Xr.blockquote={filter:"blockquote",replacement:function(t){return t=t.replace(/^\n+|\n+$/g,""),t=t.replace(/^/gm,"> "),"\n\n"+t+"\n\n"}};Xr.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return n.nodeName==="LI"&&n.lastElementChild===e?"\n"+t:"\n\n"+t+"\n\n"}};Xr.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",s=e.parentNode;if(s.nodeName==="OL"){var a=s.getAttribute("start"),i=Array.prototype.indexOf.call(s.children,e);r=(a?Number(a)+i:i+1)+".  "}return r+t+(e.nextSibling&&!/\n$/.test(t)?"\n":"")}};Xr.indentedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="indented"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){return"\n\n    "+e.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}};Xr.fencedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){for(var r=e.firstChild.getAttribute("class")||"",s=(r.match(/language-(\S+)/)||[null,""])[1],a=e.firstChild.textContent,i=n.fence.charAt(0),l=3,c=new RegExp("^"+i+"{3,}","gm"),u;u=c.exec(a);)u[0].length>=l&&(l=u[0].length+1);var d=xk(i,l);return"\n\n"+d+s+"\n"+a.replace(/\n$/,"")+"\n"+d+"\n\n"}};Xr.horizontalRule={filter:"hr",replacement:function(t,e,n){return"\n\n"+n.hr+"\n\n"}};Xr.inlineLink={filter:function(t,e){return e.linkStyle==="inlined"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href"),r=Jh(e.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+t+"]("+n+r+")"}};Xr.referenceLink={filter:function(t,e){return e.linkStyle==="referenced"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e,n){var r=e.getAttribute("href"),s=Jh(e.getAttribute("title"));s&&(s=' "'+s+'"');var a,i;switch(n.linkReferenceStyle){case"collapsed":a="["+t+"][]",i="["+t+"]: "+r+s;break;case"shortcut":a="["+t+"]",i="["+t+"]: "+r+s;break;default:var l=this.references.length+1;a="["+t+"]["+l+"]",i="["+l+"]: "+r+s}return this.references.push(i),a},references:[],append:function(t){var e="";return this.references.length&&(e="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),e}};Xr.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}};Xr.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}};Xr.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n=t.parentNode.nodeName==="PRE"&&!e;return t.nodeName==="CODE"&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",r=t.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+e+t+e+n}};Xr.image={filter:"img",replacement:function(t,e){var n=Jh(e.getAttribute("alt")),r=e.getAttribute("src")||"",s=Jh(e.getAttribute("title")),a=s?' "'+s+'"':"";return r?"!["+n+"]("+r+a+")":""}};function Jh(t){return t?t.replace(/(\n+\s*)+/g,"\n"):""}function fde(t){this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[];for(var e in t.rules)this.array.push(t.rules[e])}fde.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){if(t.isBlank)return this.blankRule;var e;return(e=m_(this.array,t,this.options))||(e=m_(this._keep,t,this.options))||(e=m_(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};function m_(t,e,n){for(var r=0;r<t.length;r++){var s=t[r];if(t1t(s,e,n))return s}}function t1t(t,e,n){var r=t.filter;if(typeof r=="string"){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(t,e,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function n1t(t){var e=t.element,n=t.isBlock,r=t.isVoid,s=t.isPre||function(f){return f.nodeName==="PRE"};if(!(!e.firstChild||s(e))){for(var a=null,i=!1,l=null,c=aG(l,e,s);c!==e;){if(c.nodeType===3||c.nodeType===4){var u=c.data.replace(/[ \r\n\t]+/g," ");if((!a||/ $/.test(a.data))&&!i&&u[0]===" "&&(u=u.substr(1)),!u){c=p_(c);continue}c.data=u,a=c}else if(c.nodeType===1)n(c)||c.nodeName==="BR"?(a&&(a.data=a.data.replace(/ $/,"")),a=null,i=!1):r(c)||s(c)?(a=null,i=!0):a&&(i=!1);else{c=p_(c);continue}var d=aG(l,c,s);l=c,c=d}a&&(a.data=a.data.replace(/ $/,""),a.data||p_(a))}}function p_(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function aG(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var mde=typeof window<"u"?window:{};function r1t(){var t=mde.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch(n){}return e}function s1t(){var t=function(){};return a1t()?t.prototype.parseFromString=function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:t.prototype.parseFromString=function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n},t}function a1t(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch(e){window.ActiveXObject&&(t=!0)}return t}var o1t=r1t()?mde.DOMParser:s1t();function i1t(t,e){var n;if(typeof t=="string"){var r=l1t().parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=t.cloneNode(!0);return n1t({element:n,isBlock:vA,isVoid:cde,isPre:e.preformattedCode?c1t:null}),n}var g_;function l1t(){return g_=g_||new o1t,g_}function c1t(t){return t.nodeName==="PRE"||t.nodeName==="CODE"}function u1t(t,e){return t.isBlock=vA(t),t.isCode=t.nodeName==="CODE"||t.parentNode.isCode,t.isBlank=d1t(t),t.flankingWhitespace=f1t(t,e),t}function d1t(t){return!cde(t)&&!Xut(t)&&/^\s*$/i.test(t.textContent)&&!Jut(t)&&!e1t(t)}function f1t(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n=m1t(t.textContent);return n.leadingAscii&&oG("left",t,e)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&oG("right",t,e)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function m1t(t){var e=t.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function oG(t,e,n){var r,s,a;return t==="left"?(r=e.previousSibling,s=/ $/):(r=e.nextSibling,s=/^ /),r&&(r.nodeType===3?a=s.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?a=!1:r.nodeType===1&&!vA(r)&&(a=s.test(r.textContent))),a}var p1t=Array.prototype.reduce,g1t=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function Xh(t){if(!(this instanceof Xh))return new Xh(t);var e={rules:Xr,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?"\n\n":""},keepReplacement:function(n,r){return r.isBlock?"\n\n"+r.outerHTML+"\n\n":r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?"\n\n"+n+"\n\n":n}};this.options=Zut({},e,t),this.rules=new fde(this.options)}Xh.prototype={turndown:function(t){if(!y1t(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(t==="")return"";var e=pde.call(this,new i1t(t,this.options));return h1t.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if(typeof t=="function")t(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return g1t.reduce(function(e,n){return e.replace(n[0],n[1])},t)}};function pde(t){var e=this;return p1t.call(t.childNodes,function(n,r){r=new u1t(r,e.options);var s="";return r.nodeType===3?s=r.isCode?r.nodeValue:e.escape(r.nodeValue):r.nodeType===1&&(s=v1t.call(e,r)),gde(n,s)},"")}function h1t(t){var e=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(t=gde(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function v1t(t){var e=this.rules.forNode(t),n=pde.call(this,t),r=t.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+e.replacement(n,t,this.options)+r.trailing}function gde(t,e){var n=Yut(t),r=Kut(e),s=Math.max(t.length-n.length,e.length-r.length),a="\n\n".substring(0,s);return n+a+r}function y1t(t){return t!=null&&(typeof t=="string"||t.nodeType&&(t.nodeType===1||t.nodeType===9||t.nodeType===11))}var iG=/highlight-(?:text|source)-([a-z0-9]+)/;function x1t(t){t.addRule("highlightedCodeBlock",{filter:function(e){var n=e.firstChild;return e.nodeName==="DIV"&&iG.test(e.className)&&n&&n.nodeName==="PRE"},replacement:function(e,n,r){var s=n.className||"",a=(s.match(iG)||[null,""])[1];return"\n\n"+r.fence+a+"\n"+n.firstChild.textContent+"\n"+r.fence+"\n\n"}})}function b1t(t){t.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var C1t=Array.prototype.indexOf,_1t=Array.prototype.every,af={};af.tableCell={filter:["th","td"],replacement:function(t,e){return hde(t,e)}};af.tableRow={filter:"tr",replacement:function(t,e){var n="",r={left:":--",right:"--:",center:":-:"};if(xA(e))for(var s=0;s<e.childNodes.length;s++){var a="---",i=(e.childNodes[s].getAttribute("align")||"").toLowerCase();i&&(a=r[i]||a),n+=hde(a,e.childNodes[s])}return"\n"+t+(n?"\n"+n:"")}};af.table={filter:function(t){return t.nodeName==="TABLE"&&xA(t.rows[0])},replacement:function(t){return t=t.replace("\n\n","\n"),"\n\n"+t+"\n\n"}};af.tableSection={filter:["thead","tbody","tfoot"],replacement:function(t){return t}};function xA(t){var e=t.parentNode;return e.nodeName==="THEAD"||e.firstChild===t&&(e.nodeName==="TABLE"||w1t(e))&&_1t.call(t.childNodes,function(n){return n.nodeName==="TH"})}function w1t(t){var e=t.previousSibling;return t.nodeName==="TBODY"&&(!e||e.nodeName==="THEAD"&&/^\s*$/i.test(e.textContent))}function hde(t,e){var n=C1t.call(e.parentNode.childNodes,e),r=" ";return n===0&&(r="| "),r+t+" |"}function S1t(t){t.keep(function(n){return n.nodeName==="TABLE"&&!xA(n.rows[0])});for(var e in af)t.addRule(e,af[e])}function k1t(t){t.addRule("taskListItems",{filter:function(e){return e.type==="checkbox"&&e.parentNode.nodeName==="LI"},replacement:function(e,n){return(n.checked?"[x]":"[ ]")+" "}})}function M1t(t){t.use([x1t,b1t,S1t,k1t])}function lG(t){const e=C({},t);for(const n of Object.keys(e))e[n]=Math.round(e[n]);return e}function nd(t,e){for(;t;){if(t instanceof HTMLElement&&t.dataset[e]!=null)return{node:t,dataValue:t.dataset[e]};t=t.parentNode}return{node:void 0,dataValue:void 0}}const h_={clientRect:void 0,isCollapsed:void 0,textContent:void 0,documentFragment:void 0,selection:void 0},vde=new Xh;vde.use(M1t);function E1t(t){const n=t.getRangeAt(0).cloneContents(),r=document.createElement("div");return r.appendChild(n),vde.turndown(r.innerHTML)}function j1t(t){const e=q(),[{clientRect:n,isCollapsed:r,textContent:s,documentFragment:a,selection:i},l]=g.useState(h_);Rn(()=>{const u=()=>{setTimeout(()=>{let d;const f=window.getSelection(),m={};if(f==null||!f.rangeCount){l(h_);return}const p=f.getRangeAt(0);if(p==null){l(h_);return}const h=p.cloneContents();m.documentFragment=h,m.textContent=E1t(f);const v=p.getClientRects();if(v.length===0&&p.commonAncestorContainer!=null&&p.commonAncestorContainer instanceof HTMLElement){const y=p.commonAncestorContainer;d=lG(y.getBoundingClientRect().toJSON())}else{if(v.length<1)return;d=lG(v[0].toJSON())}m.clientRect=d,m.isCollapsed=p.collapsed,m.selection=f,l(m)},0)};return window.addEventListener("mouseup",u),()=>{window.removeEventListener("mouseup",u)}},[]);const c=Er();return g.useEffect(()=>{if(c)return;const u=d=>{const f=window.getSelection(),m=f==null?void 0:f.toString(),p=kt(t),{dataValue:h}=nd(f==null?void 0:f.anchorNode,"messageAuthorRole"),{dataValue:v}=nd(f==null?void 0:f.anchorNode,"messageId");!m||!v||!p||!h||h!=="assistant"||T4(e,{source:"keyboard",type:"copy",messageId:v,serverThreadId:p,selectedText:m,location:"selection",contentType:"text"})};return document.addEventListener("copy",u),()=>{document.removeEventListener("copy",u)}},[e,t,c]),{clientRect:n,isCollapsed:r,textContent:s,documentFragment:a,selection:i}}const yde="agent-turn",oAt=[At.PrimaryAssistant,At.GizmoInteraction],v_=8,T1t=44,N1t=12;function A1t({clientRect:t,containerSize:e}){const n=t.top,r=n+t.height,s=t.left+t.width/2;let a=n-T1t,i=s-e.width/2;const l=v_;(a<l||n<l)&&(a=r+N1t);const c=window.innerWidth-e.width-v_;return i=Math.max(v_,Math.min(i,c)),{top:a,left:i}}function P1t(t){var e;return Zl.createPortal(t.children,(e=t.mount)!=null?e:document.body)}function I1t({onClick:t}){return o.jsx(oe,{size:"medium",color:"secondary",className:"shadow-long flex rounded-xl border-none active:opacity-1",onClick:t,children:o.jsxs("span",{className:"flex items-center gap-1.5 select-none",children:[o.jsx(ode,{className:"icon"}),o.jsx("span",{className:"whitespace-nowrap! select-none max-md:sr-only",children:o.jsx(N,{defaultMessage:"Ask ChatGPT",id:"TargetedReplyPopover.askChatGPT"})})]})})}function L1t({anchorNode:t,clientRect:e,buttons:n}){var u;const r=g.useRef(null),[s,a]=g.useState({width:0,height:0});if(Rn(()=>{const d=r.current;if(!d)return;const f=()=>{r.current&&a({width:r.current.offsetWidth,height:r.current.offsetHeight})};f();const m=new ResizeObserver(f);return m.observe(d),()=>m.disconnect()},[n.length]),!t||!t.closest(".".concat(yde))||(n==null?void 0:n.length)===0)return null;const{top:i,left:l}=A1t({clientRect:e,containerSize:s}),c=(u=t.ownerDocument)==null?void 0:u.body;return c?o.jsx(P1t,{mount:c,children:o.jsx("div",{className:"aria-live=polite fixed select-none",style:{top:i,left:l},children:o.jsx("div",{ref:r,className:"shadow-long flex overflow-hidden rounded-xl",children:n})})}):null}const R1t=3;function iAt({clientThreadId:t,onTargetedReply:e,conversation_context:n}){var S;const{clientRect:r,isCollapsed:s,textContent:a,selection:i}=j1t(t),{openThreadSidebar:l}=Bn(),{resetSidebarHistory:c}=ide();q();const u=!1,{dataValue:d}=nd(i==null?void 0:i.anchorNode,"messageAuthorRole"),{node:f,dataValue:m}=nd(i==null?void 0:i.anchorNode,"messageId"),{dataValue:p}=nd(i==null?void 0:i.focusNode,"messageId"),h=!p||m===p,v=a==null?void 0:a.trim(),y=(S=v==null?void 0:v.length)!=null?S:0,{dataValue:x}=nd(i==null?void 0:i.focusNode,"writingBlock");g.useCallback(k=>{},[u,v,c,l,t,n]);const b=g.useCallback(k=>{v!==void 0&&e&&e({targetedReply:{type:"text",label:v,createNewCompletionParams:M=>{const E=BQ(v);return P(C({},M),{promptMessage:q4(M.promptMessage,{metadata:{targeted_reply:v}}),appendMessages:M.appendMessages==null?[E]:[...M.appendMessages,E]})},onCreateCompletion:({serverThreadId:M,currentLeafId:E})=>{B.logEventWithStatsig("Targeted Reply Submitted","chatgpt_targeted_reply_submitted",{conversationId:M,currentLeafId:E})},onCleared:({serverThreadId:M,currentLeafId:E})=>{B.logEventWithStatsig("Targeted Reply Cleared","chatgpt_targeted_reply_cleared",{conversationId:M,currentLeafId:E})}},messageId:k})},[v,e]);if(r==null||s||x||!h||d!=="assistant")return null;const _=m!=null?m:"",w=[];return y>=R1t&&w.push(o.jsx(I1t,{onClick:()=>b(_)})),o.jsx(L1t,{anchorNode:f,clientRect:r,buttons:w})}function xde(){const t=q(),{isUnauthenticated:e,isLoading:n}=An(),r=ze(t,"3434623093"),s=e&&!n;return{getShowUpsellReason:jl({layer:r,condition:()=>s,paramName:"with-reason-upsell",defaultValue:!1}),getUpsellLabelType:jl({layer:r,condition:()=>s,paramName:"labels",defaultValue:void 0}),getShowVoiceUpsell:jl({layer:r,condition:()=>s,paramName:"with-voice-upsell",defaultValue:!1}),getUpsellShowsAttach:jl({layer:r,condition:()=>s,paramName:"with-attach-upsell",defaultValue:!1})}}const O1t=t=>g.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"currentColor",viewBox:"0 0 24 24"},t),g.createElement("path",{d:"M11.016 2.099a3.998 3.998 0 0 1 5.58.072l.073.074a3.991 3.991 0 0 1 1.058 3.318 3.994 3.994 0 0 1 3.32 1.06l.073.071.048.047.071.075a3.998 3.998 0 0 1 0 5.506l-.071.074-8.183 8.182-.034.042a.267.267 0 0 0 .034.335l1.68 1.68a.8.8 0 0 1-1.131 1.13l-1.68-1.679a1.866 1.866 0 0 1-.034-2.604l8.26-8.261a2.4 2.4 0 0 0-.044-3.349l-.047-.047-.044-.043a2.4 2.4 0 0 0-3.349.043l-6.832 6.832-.03.029a.8.8 0 0 1-1.1-1.16l6.876-6.875a2.4 2.4 0 0 0-.044-3.35l-.179-.161a2.399 2.399 0 0 0-3.169.119l-.045.043-9.047 9.047-.03.028a.8.8 0 0 1-1.1-1.16l9.046-9.046.074-.072Z"}),g.createElement("path",{d:"M13.234 4.404a.8.8 0 0 1 1.1 1.16l-6.69 6.691a2.399 2.399 0 1 0 3.393 3.393l6.691-6.692a.8.8 0 0 1 1.131 1.131l-6.691 6.692a4 4 0 0 1-5.581.07l-.073-.07a3.998 3.998 0 0 1 0-5.655l6.69-6.691.03-.029Z"})),lAt=Object.freeze(Object.defineProperty({__proto__:null,default:O1t},Symbol.toStringTag,{value:"Module"}));class D1t{constructor(e,n){Q(this,"store",[]);this.compare=e,this.maxSize=n}push(e){const n=this.store;n.length<this.maxSize?(n.push(e),F1t(this.store,this.compare)):this.compare(e,n[0])>0&&(n[0]=e,cG(this.store,this.compare))}pop(){const e=this.store,n=e[0],r=e.pop();return e.length>0&&(e[0]=r,cG(this.store,this.compare)),n}toArray(e){const n=this.store.length,r=new Array(n);for(let s=n-1;s>=0;s--){const a=this.pop();r[s]=e?e(a):a}return r}}function F1t(t,e){let n=t.length-1;for(;n>0;){const r=Math.floor((n-1)/2);if(e(t[r],t[n])<=0)break;[t[r],t[n]]=[t[n],t[r]],n=r}}function cG(t,e){let n=0;for(let r=1;r<t.length;r=n*2+1){const s=r+1,a=s<t.length&&e(t[s],t[r])<0?s:r;if(e(t[n],t[a])<=0)break;[t[n],t[a]]=[t[a],t[n]],n=a}}function cAt(t,e,n,{locale:r,maxResults:s=50}={}){const a=e.toLocaleLowerCase();if(!a)return t;const i=new D1t((l,c)=>l.score-c.score,s);for(let l=0;l<t.length;l++){const{targets:c,weight:u=1}=n(t[l]);let d=0;for(let f=0;f<c.length;f++){const m=c[f];if(m){const p=m.toLowerCase(),h=B1t(p,a,r);h>d&&(d=h)}}d>0&&i.push({value:t[l],score:d*u})}return i.toArray(l=>l.value)}function B1t(t,e,n){if(e.length===0||e.length>t.length||!t.includes(e[0])||e.length>1&&!t.includes(e[e.length-1]))return 0;const r=[];for(let c=0,u=0;c<t.length&&u<e.length;c++)t.charCodeAt(c)===e.charCodeAt(u)&&(r.push(c),u++);if(r.length!==e.length)return 0;for(let c=r.length-2;c>=0;c--){const u=r[c+1]-1;r[c]<u&&t.charCodeAt(u)===e.charCodeAt(c)&&(r[c]=u)}const s=r[0];let a=0,i=0,l=uG(t,r[0],n)?1:0;for(let c=1;c<r.length;c++){const u=r[c]-r[c-1];u===1?a++:(i+=u-1,l+=uG(t,r[c],n)?1:0)}return U1t*r.length+H1t*a+V1t*(s===0?1:0)+$1t*l+q1t*i+z1t*s}const U1t=5,H1t=10,V1t=5,$1t=15,q1t=-5,z1t=-.2;function uG(t,e,n){if(typeof Intl.Segmenter=="function"){const r=new Intl.Segmenter(n,{granularity:"word"}).segment(t);if(typeof r.containing=="function"){const s=r.containing(e);return s.isWordLike===!0&&(s.index===e||s.segment[e-s.index-1]==="_")}}return!1}var G1t=x6e();const uAt=St(G1t);function dAt({children:t,className:e,showBackground:n}){return o.jsxs("div",{className:"relative",children:[t,n&&o.jsx(Se.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:U("pointer-events-none absolute inset-0 rounded-full",e)})]})}const W1t=[];function fAt(t){"use forget";const e=ee.c(49),{composerController:n,activeSystemHintType:r,systemHints:s,clientThreadId:a,disabled:i}=t,l=i===void 0?!1:i,c=qo(),u=OQ(),d=q();let f;e[0]!==a||e[1]!==c?(f=te=>{c(te,{analyticsMetadata:{clientThreadId:a}})},e[0]=a,e[1]=c,e[2]=f):f=e[2];const m=f;let p;e[3]!==a?(p={clientThreadId:a},e[3]=a,e[4]=p):p=e[4];const h=p;let v;e[5]!==h?(v=function(){B.logEventWithStatsig("Composer System Hint Button Hovered","composer_system_hint_button_hovered",h)},e[5]=h,e[6]=v):v=e[6];const y=v;let x;e[7]!==h||e[8]!==d?(x=function(){ze(d,"1092897457").get("is_tatertot_enabled",!0),B.logEventWithStatsig("Composer System Hint Button Clicked","composer_system_hint_button_clicked",h)},e[7]=h,e[8]=d,e[9]=x):x=e[9];const b=x;let _;e[10]!==n?(_=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{Zo(Ht(n))})})},e[10]=n,e[11]=_):_=e[11];const w=_,S=Z(),[k,M]=g.useState(!1),E=r!=null,T=!E,j=g.useRef(!1),A=g.useRef(!1);let I;e[12]!==b||e[13]!==w?(I=te=>{M(te),te?b==null||b():requestAnimationFrame(()=>{requestAnimationFrame(()=>{j.current&&(j.current=!1,w())})})},e[12]=b,e[13]=w,e[14]=I):I=e[14];let L;e[15]!==k?(L=WQ(k),e[15]=k,e[16]=L):L=e[16];let O;e[17]!==S?(O=S.formatMessage({id:"mJYhKI",defaultMessage:"Choose tool"}),e[17]=S,e[18]=O):O=e[18];let R;e[19]===Symbol.for("react.memo_cache_sentinel")?(R=o.jsx(wT,{"aria-label":"",className:"icon"}),e[19]=R):R=e[19];let H;e[20]!==T?(H=T&&o.jsx("span",{className:"ms-1.5 me-0.5",children:o.jsx(N,{id:"mNL7WC",defaultMessage:"Tools"})}),e[20]=T,e[21]=H):H=e[21];let V;e[22]!==l||e[23]!==y||e[24]!==H||e[25]!==L||e[26]!==O?(V=o.jsxs(qY,{className:"composer-btn px-2","data-opened":L,"aria-label":O,id:"system-hint-button",disabled:l,onPointerOver:y,onClick:K1t,onFocusCapture:Z1t,children:[R,H]}),e[22]=l,e[23]=y,e[24]=H,e[25]=L,e[26]=O,e[27]=V):V=e[27];let z;e[28]!==l||e[29]!==E||e[30]!==V?(z=o.jsx(J1t,{disabled:l,hintSelected:E,children:V}),e[28]=l,e[29]=E,e[30]=V,e[31]=z):z=e[31];let $,D;e[32]===Symbol.for("react.memo_cache_sentinel")?($=()=>{A.current=!0},D=te=>{var ae;if(!A.current||j.current){te.preventDefault();return}(ae=document.querySelector("#system-hint-button"))==null||ae.focus()},e[32]=$,e[33]=D):($=e[32],D=e[33]);let Y;e[34]!==T?(Y=!T&&o.jsx(J.Label,{children:o.jsx(N,{id:"KSn3Jr",defaultMessage:"Tools"})}),e[34]=T,e[35]=Y):Y=e[35];let G;e[36]!==u||e[37]!==r||e[38]!==m||e[39]!==s?(G=o.jsx(Y1t,{systemHints:s,activeConnectorSystemHintTypes:u,selectedHintType:r,onSelectHintType:m}),e[36]=u,e[37]=r,e[38]=m,e[39]=s,e[40]=G):G=e[40];let F;e[41]!==Y||e[42]!==G?(F=o.jsx(J.Portal,{children:o.jsxs(J.Content,{size:"auto",alignOffset:-7,onEscapeKeyDown:$,onCloseAutoFocus:D,children:[Y,G]})}),e[41]=Y,e[42]=G,e[43]=F):F=e[43];let X;return e[44]!==k||e[45]!==z||e[46]!==F||e[47]!==I?(X=o.jsxs(J.Root,{open:k,onOpenChange:I,children:[z,F]}),e[44]=k,e[45]=z,e[46]=F,e[47]=I,e[48]=X):X=e[48],X}function Z1t(t){t.stopPropagation()}function K1t(t){t.preventDefault()}const Y1t=({systemHints:t,activeConnectorSystemHintTypes:e,selectedHintType:n,onSelectHintType:r})=>o.jsx(J.RadioGroup,{value:n!=null?n:void 0,onValueChange:s=>{r(s===n?null:s)},children:t?o.jsx(o.Fragment,{children:t.map(s=>o.jsx(Q1t,{hint:s,isSelected:n===s.systemHint||JM(n)&&(e==null?void 0:e.has(s.systemHint))},s.systemHint))}):o.jsxs(o.Fragment,{children:[o.jsx(J.Shimmer,{size:"short"}),o.jsx(J.Shimmer,{size:"short"})]})}),Q1t=t=>{"use forget";var _;const e=ee.c(24),{hint:n,isSelected:r}=t,s=Z(),a=vut(n.systemHint);let i;e[0]!==n.systemHint?(i=W1t.includes(n.systemHint),e[0]=n.systemHint,e[1]=i):i=e[1];const l=i,{badgeText:c,isDangerous:u,hideFromInitialSelection:d}=n;if(d&&!r)return null;let f;e[2]!==c||e[3]!==s||e[4]!==l?(f=l?s.formatMessage({id:"composer.skills.new",defaultMessage:"New"}):c!=null?c:void 0,e[2]=c,e[3]=s,e[4]=l,e[5]=f):f=e[5];const m=f,p=r?"selected":"default";let h;e[6]!==n?(h=o.jsx(du,{hint:n,isNextToLabel:!0}),e[6]=n,e[7]=h):h=e[7];let v;e[8]===Symbol.for("react.memo_cache_sentinel")?(v=o.jsx(J.RadioItemCheck,{}),e[8]=v):v=e[8];const y=(_=n.actionLabel)!=null?_:n.name;let x;e[9]!==m||e[10]!==n.systemHint||e[11]!==u||e[12]!==a.blockedLabel||e[13]!==a.isBlocked||e[14]!==p||e[15]!==h||e[16]!==y?(x=o.jsx(J.RadioItem,{value:n.systemHint,disabled:a.isBlocked,color:p,icon:h,trailing:v,label:y,secondary:a.blockedLabel,badge:m,isDangerous:u}),e[9]=m,e[10]=n.systemHint,e[11]=u,e[12]=a.blockedLabel,e[13]=a.isBlocked,e[14]=p,e[15]=h,e[16]=y,e[17]=x):x=e[17];const b=x;if(a.remainingLabel){const w=a.isBlocked?"left":"center",S=a.isBlocked?void 0:null;let k;return e[18]!==b||e[19]!==a.remainingLabel||e[20]!==a.remainingLabelSecondary||e[21]!==w||e[22]!==S?(k=o.jsx(wt,{side:"right",labelTextAlign:w,label:a.remainingLabel,secondaryLabel:a.remainingLabelSecondary,contentClassName:"cant-hover:hidden",triggerAs:S,children:b}),e[18]=b,e[19]=a.remainingLabel,e[20]=a.remainingLabelSecondary,e[21]=w,e[22]=S,e[23]=k):k=e[23],k}return b},J1t=({disabled:t,children:e,hintSelected:n})=>{const r=$e(We.hasSeenComposerSystemHintButtonTooltip),s=X1t(),a=!t&&!s.isLoading&&s.eligible,i=!t&&!r.isLoading&&r.eligible,l=g.useMemo(()=>{if(a)return{announcementKey:We.hasSeenConnectorsSourcesPillTooltip,title:o.jsx(N,{id:"qgvuHg",defaultMessage:"Search connected apps"}),onDismiss:s.markAsViewed,description:o.jsx(N,{id:"bJE6uS",defaultMessage:"Get insights across Google Drive, SharePoint, Dropbox, and more."})};if(i)return{announcementKey:We.hasSeenComposerSystemHintButtonTooltip,title:o.jsx(N,{id:"tTydhk",defaultMessage:"All your tools, in one handy place"}),onDismiss:r.markAsViewed,description:o.jsx(N,{id:"Kgb5fv",defaultMessage:"Create an image, research report, and more."})}},[i,r.markAsViewed,a,s.markAsViewed]);if(!n&&!a)return e;if(l)return o.jsx(Zf,P(C({show:!0,side:"bottom",theme:"bright",dismissOnOutsideClick:!0,badge:"new",sideOffset:0,className:"xs:max-w-sm! max-w-2xs!"},l),{children:e}));let c;return t?c=o.jsx(N,{id:"uw9x80",defaultMessage:"Tools unavailable"}):c=o.jsx(N,{id:"Yr1zf1",defaultMessage:"Choose tool"}),o.jsx(wt,{side:"bottom",label:c,children:e})},X1t=()=>{const{systemHints:t}=oc(),{data:e,isLoading:n}=h6(d=>d.announcements),{eligible:r,markAsViewed:s,markAsViewedDontInvalidateCache:a,isLoading:i}=$e(We.hasSeenConnectorsSourcesPillTooltip),l=e==null?void 0:e[We.hasSeenConnectorsNuxModal],c=!!(l&&hM(new Date,new Date(l))>=1);return{eligible:r&&c&&t!=null&&t.some(d=>d.systemHint===we.Slurm),isLoading:n||i,markAsViewed:s,markAsViewedDontInvalidateCache:a}},bde=g.createContext({isScrolling:!1});function edt(){"use forget";return g.useContext(bde)}function tdt({items:t,getItemKey:e,onRenderItem:n,itemClassName:r,getItemStyle:s,onShown:a,onClick:i,className:l,arrowClassName:c}){"use forget";const u=q(),d=wn(u),[f,m]=g.useState(!1),[p,h]=g.useState(!1),[v,y]=g.useState(!1),x=g.useRef(null),b=g.useRef(void 0),_=g.useRef(!1),w=g.useRef(!1),S=g.useRef(0),k=8,M=g.useRef([]),E=g.useCallback(z=>{z.button!==0&&z.button!==1||(_.current=!0,w.current=!1,S.current=z.clientX)},[]),T=g.useCallback(z=>{const $=x.current;if(!$||!_.current&&!$.hasPointerCapture(z.pointerId))return;if(!f)if(Math.abs(z.clientX-S.current)>=k){m(!0),w.current=!0;try{z.currentTarget.setPointerCapture(z.pointerId)}catch(G){}}else return;const D=z.movementX||0;D!==0&&($.scrollLeft-=D)},[f,w,S,k]),j=g.useCallback(z=>{const $=x.current;if($){try{$.hasPointerCapture(z.pointerId)&&$.releasePointerCapture(z.pointerId)}catch(D){}_.current=!1,m(!1)}},[]),A=g.useCallback(z=>{w.current&&(z.preventDefault(),z.stopPropagation(),w.current=!1)},[]),I=g.useCallback(z=>{var $;($=x.current)!=null&&$.hasPointerCapture(z.pointerId)||j(z)},[j]),L=g.useCallback(z=>{z.preventDefault(),z.stopPropagation()},[]);g.useEffect(()=>{if(!x.current)return;const z=x.current,$=()=>{h(!0),clearTimeout(b.current),b.current=setTimeout(()=>h(!1),150)};return z.addEventListener("scroll",$,{passive:!0}),()=>{z.removeEventListener("scroll",$),clearTimeout(b.current),h(!1)}},[x]),g.useEffect(()=>{if(!x.current)return;const z=x.current;y(z.scrollWidth>z.clientWidth)},[t]);const O=!x.current||x.current.scrollLeft===0,R=!!x.current&&x.current.scrollLeft+x.current.clientWidth>=x.current.scrollWidth,H=g.useCallback(()=>{if(!x.current)return;const z=x.current;z.scrollTo({left:z.scrollLeft+z.clientWidth,behavior:"smooth"})},[]),V=g.useCallback(()=>{if(!x.current)return;const z=x.current;z.scrollTo({left:z.scrollLeft-z.clientWidth,behavior:"smooth"})},[]);return o.jsxs("div",{className:"group relative -my-3 overflow-hidden py-3",children:[o.jsx("div",{ref:x,onPointerDown:v?E:void 0,onPointerMove:v?T:void 0,onPointerUp:v?j:void 0,onPointerCancel:v?j:void 0,onLostPointerCapture:v?j:void 0,onPointerLeave:v?I:void 0,onDragStartCapture:v?L:void 0,onClickCapture:v?A:void 0,onAuxClickCapture:v?A:void 0,className:U("relative w-full touch-none","no-scrollbar overflow-x-auto overflow-y-hidden overscroll-x-contain overscroll-y-none",v&&(f?"cursor-grabbing select-none":"cursor-grab"),d?"scroll-px-[var(--thread-content-margin)] px-[var(--thread-content-margin)]":"scroll-px-6 px-6"),children:o.jsx("div",{className:"relative w-max",children:o.jsx(bde.Provider,{value:{isScrolling:f||p},children:o.jsx("ul",{className:U("not-prose relative flex list-none items-stretch gap-2 px-0",l),children:t.map((z,$)=>o.jsx("li",{ref:D=>{M.current[$]=D},className:U("not-prose border-token-border-default border-thin hover:border-token-border-heavy relative overflow-hidden rounded-lg",r),style:s==null?void 0:s(z),children:o.jsx(ndt,{item:z,onRenderItem:n,onShown:a?()=>a(z,$):void 0,onClick:i?()=>i(z,$):void 0,containerRef:x})},e(z)))})})})}),v&&o.jsxs(o.Fragment,{children:[o.jsx(dG,{side:"left",onClick:V,isFullyScrolled:O,className:c}),o.jsx(dG,{side:"right",onClick:H,isFullyScrolled:R,className:c})]})]})}function ndt(t){"use forget";const e=ee.c(12),{item:n,onRenderItem:r,onShown:s,onClick:a,containerRef:i}=t,l=g.useRef(null),c=g.useRef(s);let u,d;e[0]!==s?(u=()=>{c.current=s},d=[s],e[0]=s,e[1]=u,e[2]=d):(u=e[1],d=e[2]),g.useEffect(u,d);let f,m;e[3]!==i?(f=()=>{if(!l.current)return;const v=new IntersectionObserver(y=>{const[x]=y;return x.isIntersecting&&c.current&&c.current()},{root:i.current,threshold:.5});return v.observe(l.current),()=>v.disconnect()},m=[i],e[3]=i,e[4]=f,e[5]=m):(f=e[4],m=e[5]),g.useEffect(f,m);let p;e[6]!==n||e[7]!==r?(p=r(n),e[6]=n,e[7]=r,e[8]=p):p=e[8];let h;return e[9]!==a||e[10]!==p?(h=o.jsx("div",{ref:l,className:"h-full w-full overflow-hidden",onClick:a,children:p}),e[9]=a,e[10]=p,e[11]=h):h=e[11],h}function dG(t){"use forget";const e=ee.c(10),{side:n,onClick:r,isFullyScrolled:s,className:a}=t,i=n==="left"?"start-0 -translate-x-full rounded-e-full ps-1 pe-1.5":"end-0 translate-x-full rounded-s-full ps-1.5 pe-1",l=!s&&"group-hover:pointer-events-auto group-hover:translate-x-0 group-hover:opacity-1000";let c;e[0]!==a||e[1]!==i||e[2]!==l?(c=U("bg-token-bg-primary hover:bg-token-bg-secondary shadow-long pointer-events-none absolute top-[50%] -translate-y-1/2 py-1","transition-translate-x opacity-0 delay-100 duration-150 ease-out",i,l,a),e[0]=a,e[1]=i,e[2]=l,e[3]=c):c=e[3];let u;e[4]!==n?(u=n==="left"?o.jsx(e3,{className:"icon-sm"}):o.jsx(ji,{className:"icon-sm"}),e[4]=n,e[5]=u):u=e[5];let d;return e[6]!==r||e[7]!==c||e[8]!==u?(d=o.jsx("button",{onClick:r,className:c,children:u}),e[6]=r,e[7]=c,e[8]=u,e[9]=d):d=e[9],d}const rdt=({root:t=void 0,rootMargin:e="0px",threshold:n=0,onlyOnce:r=!1})=>{const[s,a]=g.useState(!1),i=g.useCallback(l=>{if(!l)return;const c=new IntersectionObserver(u=>{for(const d of u)d.isIntersecting?(a(!0),r&&l&&c.unobserve(l)):a(!1)},{root:t,rootMargin:e,threshold:n});return c.observe(l),()=>{c.unobserve(l)}},[t,e,n,r]);return[s,i]},sdt=350,adt=150;function Cde({favicon:t,heading:e,title:n,quoteHeading:r,quoteText:s,snippet:a,isContentBlocked:i,theme:l,children:c}){const[u,d]=g.useState(!1),f=g.useRef(null),m=g.useRef(null),p=g.useRef(!1),{isScrolling:h}=edt(),v=r!=null||s!=null,[y,x]=rdt({threshold:.75}),b=g.useCallback(()=>{f.current&&clearTimeout(f.current)},[]),_=g.useCallback(()=>{m.current&&clearTimeout(m.current)},[]),w=g.useCallback(()=>{d(!1)},[]),S=g.useCallback(T=>{T.stopPropagation(),p.current=!0,_(),f.current=setTimeout(()=>{p.current&&d(!0)},sdt)},[_]),k=g.useCallback(T=>{T.stopPropagation(),p.current=!1,b(),m.current=setTimeout(()=>{w()},adt)},[b,w]);g.useEffect(()=>{u&&_()},[u,_]),g.useEffect(()=>{h&&w()},[h,w]);const M=g.useMemo(()=>({onBlur:k,onMouseLeave:k,onMouseEnter:S,onFocus:S}),[k,S]),E=y&&u&&!h;return o.jsxs(e1,{open:E,children:[o.jsx(Gi,P(C({ref:x,asChild:!0},M),{children:c})),o.jsx(t1,{children:o.jsx(n1,P(C({side:"top",align:"start",sideOffset:4},M),{onOpenAutoFocus:T=>T.preventDefault(),onCloseAutoFocus:T=>T.preventDefault(),className:U(b6e,l==="grey"&&"bg-token-bg-primary!","relative w-64 text-sm focus:outline-none"),collisionPadding:8,onPointerDown:T=>T.stopPropagation(),children:o.jsxs("div",{className:"rounded-xl px-3 py-1.5 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[t,o.jsx("span",{className:"text-token-text-secondary truncate text-xs",children:e})]}),i?o.jsx("div",{className:"mt-2",children:o.jsx(N,{id:"iGylAw",defaultMessage:"ChatGPT is unable to access the contents of this website."})}):o.jsxs(o.Fragment,{children:[n&&o.jsx("div",{className:"mt-2 line-clamp-2 leading-snug font-semibold text-ellipsis",children:n}),v&&o.jsxs("div",{className:"border-token-border-default mt-2 flex flex-col gap-1 border-s-2 ps-2 text-xs",children:[r&&o.jsx("div",{className:"text-token-link text-xs font-semibold",children:r}),s&&o.jsx("div",{className:"text-token-text-secondary line-clamp-2 overflow-hidden text-xs leading-snug text-ellipsis",children:s})]}),a&&o.jsx("div",{className:"mt-2 line-clamp-4 text-sm select-text",children:a})]})]})}))})]})}function mAt(){var h,v,y,x;const t=q(),e=at(_t.context$),n=at(_t.sidebarUrlTrayOpen$),r=t5(t),s=Z(),i=Kr()===we.Agent,l=g.useRef(null),[c,u]=g.useState(!1);if(g.useEffect(()=>{const b=l.current;b&&u(b.scrollWidth>b.clientWidth)},[e==null?void 0:e.title,e==null?void 0:e.url]),!r||!e)return null;let d;if(e!=null&&e.url)try{d=new URL(e.url).host}catch(b){}const f=!!(e!=null&&e.blocked);if(!n)return null;const p=i?void 0:e.selection;return o.jsx("div",{className:"relative px-3 pt-3",children:o.jsx(Cde,{favicon:o.jsx(Fh,{base64:e.base64favicon,title:(h=e.title)!=null?h:e.url,className:"h-4 w-4 flex-shrink-0 rounded-[4px]"}),heading:d!=null?d:e.url,title:(v=e.title)!=null?v:e.url,quoteHeading:p?o.jsx(N,{id:"EwD8lK",defaultMessage:"Selected text ({count} words)",values:{count:p.split(/\s+/).filter(Boolean).length}}):null,quoteText:p!=null?p:null,snippet:null,isContentBlocked:f,theme:"grey",children:o.jsxs("div",{className:U("group flex h-[36px] w-fit max-w-[150px] min-w-0 cursor-default items-center gap-[6px] rounded-xl px-2 pe-3 transition-all",f?"bg-[rgba(255,214,10,0.1)]":p?"bg-token-interactive-bg-accent-default":"bg-[rgba(0,0,0,0.03)] hover:bg-[rgba(0,0,0,0.08)] dark:bg-[rgba(255,255,255,0.05)] dark:hover:bg-[rgba(255,255,255,0.1)]"),children:[o.jsxs("div",{className:"relative h-4 w-4 flex-shrink-0",children:[f?o.jsx(cc,{className:"text-token-icon-status-warning block h-4 w-4 group-hover:hidden"}):o.jsx(Fh,{base64:e.base64favicon,title:(y=e.title)!=null?y:e.url,className:"block h-4 w-4 rounded-[4px] group-hover:hidden"}),o.jsx("button",{onClick:()=>{var b;(b=GQ())==null||b.triggerProductEvent("removeTabContext"),gA(!1)},className:"absolute start-0 top-0 hidden group-hover:block","aria-label":s.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),children:o.jsx(lr,{className:"h-4 w-4 text-[rgba(0,0,0,0.6)] dark:text-[rgba(255,255,255,0.7)]"})})]}),o.jsx("span",{ref:l,className:U("overflow-hidden text-xs whitespace-nowrap select-none",c&&"[mask-image:linear-gradient(to_right,black_85%,transparent_100%)] [-webkit-mask-image:linear-gradient(to_right,black_85%,transparent_100%)]"),children:p&&!f?o.jsx(N,{id:"DaC6ra",defaultMessage:"Selected text"}):o.jsx("span",{className:"text-[rgba(0,0,0,0.6)] dark:text-[rgba(255,255,255,0.7)]",children:(x=e.title)!=null?x:e.url})})]})})})}const W4=t=>{"use forget";const e=ee.c(39),{icon:n,removable:r,label:s,content:a,dropdownContent:i,onRemove:l,onOpenChange:c,onCloseAutoFocus:u}=t,d=Z();let f;e[0]!==d||e[1]!==s?(f=d.formatMessage({id:"giCR14",defaultMessage:"{selectedMode}, click to remove"},{selectedMode:s}),e[0]=d,e[1]=s,e[2]=f):f=e[2];const m=f,p=odt;let h,v;e[3]!==l?(v=E=>{const T=E.changedTouches[0];E.target===E.currentTarget&&E.currentTarget.contains(document.elementFromPoint(T.clientX,T.clientY))&&(E.preventDefault(),l==null||l(E))},e[3]=l,e[4]=v):v=e[4];let y;e[5]!==l||e[6]!==v?(y={onClick:l,onTouchStart:idt,onTouchEnd:v},e[5]=l,e[6]=v,e[7]=y):y=e[7],h=y;const x=h;let b;e[8]!==n?(b=typeof n=="function"?o.jsx(n,{className:"__composer-pill-icon",inert:!0}):o.jsx("div",{className:"__composer-pill-icon",inert:!0,children:n}),e[8]=n,e[9]=b):b=e[9];const _=b,w=a!=null?a:s;let S;e[10]!==w?(S=o.jsx("span",{className:"max-w-40 truncate [[data-collapse-labels]_&]:sr-only",ref:p,children:w}),e[10]=w,e[11]=S):S=e[11];const k=S;if(i){let E;e[12]===Symbol.for("react.memo_cache_sentinel")?(E=o.jsx(ys,{className:"icon-sm -me-0.5 h-3.5 w-3.5",inert:!0}),e[12]=E):E=e[12];let T;e[13]!==_||e[14]!==k?(T=o.jsxs(J.BasicTrigger,{className:"__composer-pill group/pill",children:[_,k,E]}),e[13]=_,e[14]=k,e[15]=T):T=e[15];let j;e[16]!==i||e[17]!==u?(j=o.jsx(J.Portal,{children:o.jsx(J.Content,{size:"auto",align:"start",alignOffset:-8,onCloseAutoFocus:u,children:i})}),e[16]=i,e[17]=u,e[18]=j):j=e[18];let A;e[19]!==c||e[20]!==j||e[21]!==T?(A=o.jsxs(J.Root,{modal:!1,onOpenChange:c,children:[T,j]}),e[19]=c,e[20]=j,e[21]=T,e[22]=A):A=e[22];const I=A;if(r){let L;e[23]===Symbol.for("react.memo_cache_sentinel")?(L=o.jsx(bu,{className:"icon-sm",inert:!0}),e[23]=L):L=e[23];let O;e[24]!==x||e[25]!==m?(O=o.jsx("button",P(C({type:"button",className:"__composer-pill-remove","aria-label":m},x),{children:L})),e[24]=x,e[25]=m,e[26]=O):O=e[26];let R;return e[27]!==I||e[28]!==O?(R=o.jsxs("div",{className:"__composer-pill-composite group relative",children:[O,I]}),e[27]=I,e[28]=O,e[29]=R):R=e[29],R}return I}if(r){let E;e[30]===Symbol.for("react.memo_cache_sentinel")?(E=o.jsx("div",{className:"__composer-pill-remove",inert:!0,children:o.jsx(bu,{className:"icon-sm"})}),e[30]=E):E=e[30];let T;return e[31]!==_||e[32]!==x||e[33]!==m||e[34]!==k?(T=o.jsxs("button",P(C({type:"button",className:"__composer-pill group","aria-label":m},x),{children:[_,k,E]})),e[31]=_,e[32]=x,e[33]=m,e[34]=k,e[35]=T):T=e[35],T}let M;return e[36]!==_||e[37]!==k?(M=o.jsxs("div",{className:"__composer-pill",children:[_,k]}),e[36]=_,e[37]=k,e[38]=M):M=e[38],M};function odt(t){t!=null&&t.parentElement&&t.textContent&&t.scrollWidth>t.clientWidth&&(t.parentElement.title=t.textContent)}function idt(t){t.preventDefault()}const pAt=({label:t,tooltipLabel:e,onRemoveModel:n})=>o.jsx(wt,{label:e,disabled:e==null,children:o.jsx(W4,{icon:H4,label:t,removable:!0,onRemove:n})}),ldt=t=>{"use forget";const e=ee.c(16),{clientThreadId:n,activeConnectorSystemHints:r}=t,s=Z(),a=ZQ();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx(Wa,{}),e[0]=i):i=e[0];let l;e[1]!==r.length||e[2]!==s?(l=s.formatMessage({id:"composer.tools.multiple",defaultMessage:"{count} tools"},{count:r.length}),e[1]=r.length,e[2]=s,e[3]=l):l=e[3];let c;if(e[4]!==r||e[5]!==n||e[6]!==a){let f;e[8]!==n||e[9]!==a?(f=m=>{var p,h;return o.jsx(J.RadioGroup,{value:(p=m.systemHint)!=null?p:void 0,onValueChange:v=>{a(v,{analyticsMetadata:{clientThreadId:n}})},children:o.jsx(J.RadioItem,{value:m.systemHint,color:"default",icon:o.jsx(du,{hint:m,isNextToLabel:!0}),trailing:o.jsx(J.RadioItemCheck,{}),label:(h=m.actionLabel)!=null?h:m.name,isDangerous:m.isDangerous,onSelect:cdt},m.systemHint)},m.systemHint)},e[8]=n,e[9]=a,e[10]=f):f=e[10],c=r.map(f),e[4]=r,e[5]=n,e[6]=a,e[7]=c}else c=e[7];let u;e[11]!==c?(u=o.jsx("div",{className:"min-w-48",children:c}),e[11]=c,e[12]=u):u=e[12];let d;return e[13]!==l||e[14]!==u?(d=o.jsx(W4,{icon:i,label:l,removable:!1,dropdownContent:u}),e[13]=l,e[14]=u,e[15]=d):d=e[15],d},gAt=t=>{"use forget";var v;const e=ee.c(14),{clientThreadId:n,activeSystemHint:r,activeSystemHintType:s,activeConnectorSystemHints:a,locked:i,onRemoveSystemHint:l}=t,c=ZQ();let u=r,d=l;if(s&&JM(s)){if((a==null?void 0:a.length)===0)return null;if((a==null?void 0:a.length)===1){u=a[0];let y;e[0]!==a[0]||e[1]!==n||e[2]!==c?(y=()=>c(a[0].systemHint,{analyticsMetadata:{clientThreadId:n}}),e[0]=a[0],e[1]=n,e[2]=c,e[3]=y):y=e[3],d=y}else{let y;return e[4]!==a||e[5]!==n?(y=o.jsx(ldt,{activeConnectorSystemHints:a,clientThreadId:n}),e[4]=a,e[5]=n,e[6]=y):y=e[6],y}}if(!u)return null;let f;e[7]!==u?(f=o.jsx(du,{hint:u,isNextToLabel:!0}),e[7]=u,e[8]=f):f=e[8];const m=(v=u.shortLabel)!=null?v:u.name,p=!i;let h;return e[9]!==d||e[10]!==f||e[11]!==m||e[12]!==p?(h=o.jsx(W4,{icon:f,label:m,removable:p,onRemove:d}),e[9]=d,e[10]=f,e[11]=m,e[12]=p,e[13]=h):h=e[13],h};function cdt(t){t.preventDefault()}function hAt(){return o.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:o.jsx(N,{id:"mP0mrm",defaultMessage:"Beta"})})}function udt(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.jsx("div",{className:"text-token-interactive-label-danger-secondary-default border-token-border-status-error items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:o.jsx(N,{id:"w+mmPI",defaultMessage:"DEV"})}),t[0]=e):e=t[0],e}const ddt=()=>{"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.jsx("span",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:o.jsx(N,{defaultMessage:"Custom",id:"allConnectors.custom"})}),t[0]=e):e=t[0],e};function vAt(t){"use forget";const e=ee.c(2),{connector:n}=t;if(n.connector_type!=="MCP")return null;let r;return e[0]!==n.status?(r=n.status==="ONLY_ME"?o.jsx(udt,{}):o.jsx(ddt,{}),e[0]=n.status,e[1]=r):r=e[1],r}const _de=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.0334 8.5H4.03052L3.99829 12.667C3.99829 13.3779 3.99919 13.8714 4.03052 14.2549C4.06123 14.6304 4.118 14.842 4.19849 15L4.2688 15.126C4.44512 15.4135 4.69805 15.6478 5.00024 15.8018L5.13013 15.8574C5.27391 15.9089 5.46336 15.9467 5.74536 15.9697C6.12888 16.0011 6.62222 16.002 7.33325 16.002H12.6663C13.3771 16.002 13.8707 16.001 14.2542 15.9697C14.6296 15.939 14.8413 15.8822 14.9993 15.8018L15.1262 15.7305C15.4135 15.5542 15.6481 15.302 15.802 15L15.8577 14.8691C15.909 14.7255 15.947 14.5363 15.97 14.2549C16.0013 13.8714 16.0012 13.3779 16.0012 12.667L16.0334 8.5ZM12.6682 4.58301V3.99805H7.3313V4.58301C7.3313 4.95028 7.03353 5.24805 6.66626 5.24805C6.29914 5.24787 6.00122 4.95017 6.00122 4.58301V4.01465C5.56253 4.03471 5.30367 4.07592 5.1106 4.14941L5.00024 4.19824C4.69805 4.35222 4.44512 4.58648 4.2688 4.87402L4.19849 5C4.118 5.15796 4.06123 5.36961 4.03052 5.74512C4.00709 6.03187 4.03411 6.71531 4.03247 7.16992H16.0315C16.0299 6.71532 15.9934 6.03187 15.97 5.74512C15.947 5.46372 15.909 5.27451 15.8577 5.13086L15.802 5C15.6481 4.69801 15.4135 4.44583 15.1262 4.26953L14.9993 4.19824C14.7935 4.09348 14.526 4.03877 13.9983 4.01465V4.58301C13.9983 4.95028 13.7005 5.24805 13.3333 5.24805C12.966 5.24805 12.6682 4.95028 12.6682 4.58301ZM17.3313 12.667C17.3313 13.3559 17.3319 13.9131 17.2952 14.3633C17.2624 14.7639 17.1973 15.1246 17.053 15.4609L16.9866 15.6035C16.7211 16.1245 16.3172 16.5602 15.8215 16.8643L15.6038 16.9863C15.227 17.1783 14.8206 17.2575 14.3625 17.2949C13.9123 17.3317 13.3553 17.332 12.6663 17.332H7.33325C6.64416 17.332 6.0872 17.3317 5.63696 17.2949C5.23638 17.2622 4.87555 17.1979 4.53931 17.0537L4.39673 16.9863C3.87553 16.7208 3.43912 16.3172 3.13501 15.8213L3.01294 15.6035C2.82108 15.2269 2.74178 14.821 2.70435 14.3633C2.66757 13.9131 2.66821 13.3559 2.66821 12.667V7.33301C2.66821 6.64406 2.66757 6.08689 2.70435 5.63672C2.74178 5.17895 2.82108 4.77308 3.01294 4.39648L3.13501 4.17871C3.43912 3.68278 3.87553 3.27924 4.39673 3.01367L4.62915 2.91016C5.02766 2.75808 5.4759 2.70249 6.00122 2.68164V2.5C6.00122 2.13284 6.29914 1.83514 6.66626 1.83496C7.03353 1.83496 7.3313 2.13273 7.3313 2.5V2.66797H12.6682V2.5C12.6682 2.13273 12.966 1.83496 13.3333 1.83496C13.7005 1.83496 13.9983 2.13273 13.9983 2.5V2.68164C14.6286 2.70664 15.1482 2.78155 15.6038 3.01367L15.8215 3.13574C16.3172 3.43983 16.7211 3.87547 16.9866 4.39648L17.053 4.53906C17.1973 4.87537 17.2624 5.23605 17.2952 5.63672C17.3319 6.08689 17.3313 6.64407 17.3313 7.33301V12.667Z"})),yAt=Object.freeze(Object.defineProperty({__proto__:null,default:_de},Symbol.toStringTag,{value:"Module"})),bk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.8343 12.0693C10.0371 12.5295 9.01783 12.2564 8.55759 11.4592C8.09735 10.6621 8.37048 9.64276 9.16763 9.18253C10.1299 8.62697 14.0533 7.64478 14.3311 8.1259C14.6089 8.60703 11.7966 11.5137 10.8343 12.0693Z"}),g.createElement("path",{d:"M16.585 10.25C16.585 6.6132 13.6368 3.66504 10 3.66504C6.3632 3.66504 3.41504 6.6132 3.41504 10.25C3.41504 12.4001 4.44494 14.31 6.04102 15.5127L6.36719 15.7432L6.47168 15.8291C6.68974 16.0482 6.73203 16.3973 6.55469 16.665C6.3772 16.9328 6.03875 17.0306 5.75195 16.915L5.63281 16.8516L5.24023 16.5752C3.32482 15.1316 2.08496 12.8355 2.08496 10.25C2.08496 5.87867 5.62867 2.33496 10 2.33496C14.3713 2.33496 17.915 5.87867 17.915 10.25C17.915 13.0079 16.5037 15.4356 14.3672 16.8516L14.248 16.915C13.9612 17.0306 13.6228 16.9328 13.4453 16.665C13.2425 16.3589 13.3267 15.946 13.6328 15.7432L13.959 15.5127C15.5551 14.31 16.585 12.4001 16.585 10.25Z"})),xAt=Object.freeze(Object.defineProperty({__proto__:null,default:bk},Symbol.toStringTag,{value:"Module"})),bAt=({connection:t,onClose:e})=>{var l;const n=Z(),r=t.user_connection_details.activation_status,s=r==="activating"?[{icon:zi,label:n.formatMessage(co.initialTime)},{icon:bk,label:n.formatMessage(co.response)},{icon:Xd,label:n.formatMessage(co.future)}]:[{icon:_de,label:n.formatMessage(co.search)},{icon:zi,label:n.formatMessage(co.fullSyncTime)},{icon:bk,label:n.formatMessage(co.response)},{icon:Xd,label:n.formatMessage(co.future)}],a=r==="activating"?n.formatMessage(co.titleSyncing):n.formatMessage(co.titlePartialSyncing),i=t.connection_display_info.display_name;return o.jsx(fdt,{iconUrl:(l=t.connection_display_info.icon_url)!=null?l:void 0,iconAlt:t.connection_display_info.display_name,footerLogo:r==="activating"?o.jsx(NP,{sizeOverride:18,percentage:40,className:"text-token-text-tertiary"}):o.jsx(NP,{sizeOverride:18,percentage:60,className:"text-blue-400"}),bulletPoints:s,onClose:e,title:a,description:i})},fdt=({title:t,iconUrl:e,iconAlt:n,footerLogo:r,description:s,bulletPoints:a,onClose:i})=>{const l=Z();return o.jsxs(tt,{testId:"modal-ca-nux",isOpen:!0,noPadding:!0,onClose:i,shouldIgnoreClickOutside:!0,size:"custom",type:"success",className:"z-[10000] max-w-sm",children:[o.jsx("div",{className:"relative h-12",children:o.jsx(gn,{onClick:i,className:"absolute end-0 top-0 z-10 me-2 mt-2 text-black"})}),o.jsxs("div",{className:"flex flex-col p-6 pb-5 text-center",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:e,alt:n,className:"h-12 w-12 rounded-full"}),o.jsx("div",{className:"bg-token-bg-primary absolute end-0 bottom-0 z-10 flex items-center justify-center rounded-full",children:r})]})}),o.jsx("div",{className:"text-md mt-6 font-medium",children:t}),o.jsx("div",{className:"text-token-text-tertiary text-sm",children:s}),o.jsx("div",{className:"mt-5 mb-9 flex flex-col justify-center gap-3",children:a.map(c=>o.jsxs("div",{className:"text-token-text-secondary flex items-start gap-2",children:[o.jsx(c.icon,{className:"icon"}),o.jsx("span",{className:"text-body-small-regular text-start",children:c.label})]},c.label))}),o.jsx("div",{children:o.jsx(oe,{color:"secondary",onClick:i,children:o.jsx("span",{className:"px-4",children:l.formatMessage(co.gotIt)})})})]})]})},co=pe({titleSyncing:{id:"contextual-answers.status-modal.title-syncing",defaultMessage:"Sync in progress..."},titlePartialSyncing:{id:"contextual-answers.status-modal.title-partial-syncing",defaultMessage:"Last 30 days synced. Still syncing..."},search:{id:"contextual-answers.status-modal.search",defaultMessage:"The last 30 days are ready to search."},initialTime:{id:"contextual-answers.status-modal.initial-time",defaultMessage:"The initial sync may take 8 hours or longer, based on workspace size."},fullSyncTime:{id:"contextual-answers.status-modal.full-time",defaultMessage:"Full sync may take up to 16 hours or longer, based on workspace size."},response:{id:"contextual-answers.status-modal.response",defaultMessage:"Syncing enables instant ChatGPT responses about your data."},future:{id:"contextual-answers.status-modal.future",defaultMessage:"Future changes are available in real-time."},gotIt:{id:"contextual-answers.status-modal.got-it",defaultMessage:"Got it"}});function CAt(t,{target:e,referrer:n,toggleAllAfterRedirect:r}={target:"connectors"}){let s="#settings/".concat(Dn.Connectors);return t&&(s+="?connector=".concat($i[t],"&add-connector-link=true&target=").concat(e),n&&(s+="&referrer=".concat(encodeURIComponent(n))),r&&(s+="&".concat(yw))),s}function _At(t){return"#settings/".concat(Dn.Connectors,"?connector=").concat($i[t])}function wAt(){const t=Za(),{availableConnectors:e}=O6(),n=Kr(),r=q();return s=>{var f,m;const a=t.pathname.match(/\/c\/.+/)?t.pathname:"/",i=t.hash.includes("suggestedPromptsText="),l=t.hash.includes(yw),c=t.hash.includes("target=")?(f=t.hash.match(/target=([^&]+)/))==null?void 0:f[1]:"connectors",u="".concat(a,"?hints=").concat(c,"&sources=").concat(ng[s.id]);if(i){const p=(m=t.hash.match(/suggestedPromptsText=([^&]+)/))==null?void 0:m[1];return"".concat(u,"&prompt=").concat(p,"&redirect_source=suggested_ca_prompts")}if(l)return"".concat(u,"&").concat(yw);if((n==null||n===we.Slurm)&&e.some(p=>p.id===s.id&&[vt.GDRIVE_ACTION_CONNECTOR,vt.BOX_CONNECTOR,vt.DROPBOX_CONNECTOR,vt.SHAREPOINT_CONNECTOR].includes(ng[p.id]))){const p=Vo(r,"1204757806").get("group","control");if(p==="connector-enabled"||p==="suggestions")return"".concat(u).concat(p==="suggestions"?"&suggestions-for-connector=".concat(ng[s.id]):"")}return""}}const mdt=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M7.54606 3.45195C8.8729 3.17755 10.2686 3.38121 11.4425 4.02894C12.3893 4.55144 13.1407 5.33663 13.5853 6.27666C13.9375 6.25157 14.293 6.27658 14.6392 6.35397C15.2412 6.48859 15.7994 6.77486 16.2464 7.19056C16.6941 7.60691 17.0142 8.138 17.1579 8.72783C17.2378 9.05588 17.2578 9.39143 17.2246 9.7223C17.7967 10.0443 18.2829 10.498 18.6276 11.0529C19.1054 11.8222 19.2756 12.73 19.0972 13.6131C18.919 14.4945 18.4097 15.2733 17.6812 15.8242C16.9541 16.3738 16.0491 16.6664 15.125 16.6657V16.6665H5.51156C4.29522 16.6664 3.11411 16.2283 2.23193 15.427C1.40256 14.6736 0.898534 13.6524 0.838704 12.56L0.833008 12.3403C0.83305 11.4096 1.15674 10.5119 1.74365 9.77438C2.18291 9.22255 2.75156 8.78113 3.3973 8.47881C3.34268 7.43746 3.64895 6.40464 4.27376 5.53284C5.03987 4.46392 6.21866 3.72649 7.54606 3.45195ZM2.50293 12.4673C2.53745 13.1012 2.83006 13.7186 3.35254 14.1933C3.9126 14.702 4.6883 14.9998 5.51156 14.9998H15.1258C15.7016 15.0004 16.2502 14.8172 16.6761 14.4952C17.1006 14.1743 17.3712 13.7414 17.4639 13.2827C17.5562 12.8256 17.4708 12.3491 17.2116 11.9318C16.9508 11.512 16.5246 11.1717 15.9925 10.9886L15.1738 10.707L15.4863 9.89971C15.5838 9.64769 15.601 9.37968 15.5384 9.12252C15.4755 8.86436 15.3315 8.61622 15.1112 8.41126C14.8903 8.20583 14.6024 8.05295 14.2762 7.97995H14.2754C13.9492 7.90707 13.6063 7.91857 13.2882 8.0125L12.4826 8.25094L12.2507 7.44365C12.0221 6.64737 11.4544 5.93883 10.6377 5.48808C9.81944 5.03654 8.8299 4.8888 7.88379 5.08444C6.93814 5.28002 6.13456 5.79803 5.62874 6.50371C5.12549 7.20587 4.95023 8.04424 5.12256 8.84665L5.28369 9.59941L4.5472 9.81995C3.93226 10.0043 3.41067 10.3566 3.04818 10.812C2.68683 11.2659 2.49971 11.8008 2.49967 12.3403L2.50293 12.4673Z"})),SAt=Object.freeze(Object.defineProperty({__proto__:null,default:mdt},Symbol.toStringTag,{value:"Module"})),kAt="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3cpath%20d='M3.51105%2018.4269L4.39307%2019.9615C4.57634%2020.2846%204.8398%2020.5384%205.14908%2020.723L8.29914%2015.2307H1.99902C1.99902%2015.5884%202.09066%2015.9461%202.27394%2016.2692L3.51105%2018.4269Z'%20fill='%230066DA'%20/%3e%3cpath%20d='M11.999%208.76916L8.84897%203.27686C8.53969%203.46147%208.27623%203.71532%208.09295%204.03839L2.27394%2014.1922C2.09403%2014.5083%201.99926%2014.8663%201.99902%2015.2307H8.29914L11.999%208.76916Z'%20fill='%2300AC47'%20/%3e%3cpath%20d='M18.8492%2020.723C19.1585%2020.5384%2019.422%2020.2846%2019.6053%2019.9615L19.9718%2019.3269L21.7244%2016.2692C21.9077%2015.9461%2021.9993%2015.5884%2021.9993%2015.2307H15.6987L17.0394%2017.8846L18.8492%2020.723Z'%20fill='%23EA4335'%20/%3e%3cpath%20d='M11.9982%208.76923L15.1483%203.27692C14.839%203.09231%2014.4839%203%2014.1173%203H9.87907C9.51252%203%209.15742%203.10385%208.84814%203.27692L11.9982%208.76923Z'%20fill='%2300832D'%20/%3e%3cpath%20d='M15.6983%2015.2307H8.29849L5.14844%2020.723C5.45772%2020.9076%205.81281%2020.9999%206.17937%2020.9999H17.8174C18.1839%2020.9999%2018.539%2020.8961%2018.8483%2020.723L15.6983%2015.2307Z'%20fill='%232684FC'%20/%3e%3cpath%20d='M18.8146%209.11532L15.9051%204.03839C15.7218%203.71532%2015.4584%203.46147%2015.1491%203.27686L11.999%208.76916L15.6989%2015.2307H21.9876C21.9876%2014.873%2021.8959%2014.5153%2021.7127%2014.1922L18.8146%209.11532Z'%20fill='%23FFBA00'%20/%3e%3c/svg%3e",wde=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.20312 6.79102C3.77142 7.5695 3.49237 8.44438 3.40527 9.375H6.76758C6.76777 9.36849 6.76738 9.36197 6.76758 9.35547L8.03711 10.625H8.01855C8.07245 12.3191 8.34102 13.8192 8.73633 14.9141C8.95892 15.5305 9.20944 15.9855 9.45605 16.2744C9.70463 16.5656 9.89098 16.625 10 16.625C10.109 16.625 10.2954 16.5655 10.5439 16.2744C10.7905 15.9855 11.0411 15.5304 11.2637 14.9141C11.3542 14.6634 11.4365 14.3912 11.5127 14.1006L12.5166 15.1045C12.4903 15.1836 12.467 15.2626 12.4395 15.3389C12.313 15.689 12.1705 16.0167 12.0117 16.3125C12.43 16.1793 12.8294 16.0043 13.207 15.7949L14.1221 16.71C12.9229 17.4482 11.5115 17.875 10 17.875C5.65076 17.875 2.125 14.3492 2.125 10C2.125 8.4884 2.55072 7.07616 3.28906 5.87695L4.20312 6.79102ZM3.40527 10.625C3.65618 13.306 5.50389 15.5214 7.98828 16.3125C7.82951 16.0167 7.68699 15.689 7.56055 15.3389C7.10793 14.0854 6.8217 12.4359 6.76758 10.625H3.40527Z"}),g.createElement("path",{d:"M2.5293 2.5293C2.75657 2.30203 3.10808 2.27383 3.36621 2.44434L3.4707 2.5293L17.4707 16.5293L17.5557 16.6338C17.7262 16.8919 17.698 17.2434 17.4707 17.4707C17.2434 17.698 16.8919 17.7262 16.6338 17.5557L16.5293 17.4707L2.5293 3.4707L2.44434 3.36621C2.27383 3.10808 2.30203 2.75657 2.5293 2.5293Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.125C14.3492 2.125 17.875 5.65076 17.875 10C17.875 11.5115 17.4482 12.9229 16.71 14.1221L15.7949 13.207C16.2265 12.4288 16.5077 11.5554 16.5947 10.625H13.2324C13.2322 10.6312 13.2316 10.6374 13.2314 10.6436L11.9629 9.375H11.9824C11.9285 7.68092 11.659 6.18076 11.2637 5.08594C11.0411 4.46959 10.7905 4.01449 10.5439 3.72559C10.2954 3.43448 10.109 3.37504 10 3.375C9.89098 3.37504 9.70463 3.43444 9.45605 3.72559C9.20944 4.01449 8.95892 4.46954 8.73633 5.08594C8.6459 5.33638 8.56244 5.60811 8.48633 5.89844L7.48242 4.89453C7.50866 4.81558 7.53307 4.73722 7.56055 4.66113C7.6871 4.31069 7.82935 3.98254 7.98828 3.68652C7.5696 3.81982 7.16893 3.99347 6.79102 4.20312L5.87695 3.28906C7.07616 2.55072 8.4884 2.125 10 2.125ZM12.0117 3.68652C12.1707 3.98255 12.3129 4.31067 12.4395 4.66113C12.8921 5.91455 13.1783 7.56409 13.2324 9.375H16.5947C16.3438 6.69395 14.4963 4.47751 12.0117 3.68652Z"})),MAt=Object.freeze(Object.defineProperty({__proto__:null,default:wde},Symbol.toStringTag,{value:"Module"}));function pdt({repoName:t,onClose:e}){const n=Z();return o.jsxs(tt,{isOpen:!0,onClose:e,shouldIgnoreClickOutside:!0,testId:"modal-github-indexing",type:"success",size:"custom",className:"max-w-[420px]",headerClassName:"pt-0 pb-0 pe-2",showCloseButton:!0,hideSeparator:!0,title:o.jsx("span",{}),children:[o.jsx("div",{className:"mt-0 mb-4 flex justify-center",children:o.jsx("div",{className:"bg-tertiary border-token-border-subtle rounded-lg border p-3",children:o.jsx(T0,{className:"h-10 w-10"})})}),o.jsx("h2",{className:"mb-4 px-4 text-center text-xl font-semibold",children:n.formatMessage({id:"ejqREp",defaultMessage:"{repoName} is not indexed yet"},{repoName:t})}),o.jsx("p",{className:"text-token-text-secondary mb-6 px-6 text-center text-sm leading-relaxed",children:n.formatMessage({id:"KkmieM",defaultMessage:"This repository can't be accessed by ChatGPT until it's indexed by GitHub. You can trigger indexing by searching the repository's code on GitHub. After about 5â10 minutes, you can use it in ChatGPT."})}),o.jsxs(oe,{className:"w-full",size:"large",onClick:()=>{const r="https://github.com/search?q=repo:".concat(t,"&type=code");window.open(r,"_blank"),e()},children:[n.formatMessage({id:"yUeuLL",defaultMessage:"Trigger indexing on GitHub"}),o.jsx(ba,{className:"icon-sm ms-2 inline-block"})]})]})}const gdt=({items:t,searchTerm:e,setSearchTerm:n,selectedItems:r,searchPlaceholder:s,handleSelectItem:a,showSelectAllRepos:i,loading:l,onEndScroll:c,maxRepos:u,contentRef:d,subContentRef:f})=>{var _;const m=C6e("installations/select_target"),p=g.useRef(null),h=g.useRef(null),v=i&&(r==null?void 0:r.includes("$all_accessible_repos")),y=(_=r==null?void 0:r.filter(w=>w!=="$all_accessible_repos").length)!=null?_:0,x=u!==void 0&&y>=u,b=u===1;return g.useEffect(()=>{requestAnimationFrame(()=>{var w;(w=p.current)==null||w.focus()})},[]),g.useEffect(()=>{const w=E=>{p.current&&document.activeElement!==p.current&&(KQ(E)||E.key==="Enter"||E.ctrlKey||E.metaKey||E.key.length!==1&&!YQ(E)||(E.stopPropagation(),p.current.focus()))},S=E=>{if(E)return E.addEventListener("keydown",w),()=>{E.removeEventListener("keydown",w)}},k=d&&S(d==null?void 0:d.current),M=f&&S(f==null?void 0:f.current);return()=>{k==null||k(),M==null||M()}},[]),g.useEffect(()=>{var M,E;const w=h.current;if(!w)return;const S=(E=(M=f==null?void 0:f.current)!=null?M:d==null?void 0:d.current)!=null?E:null,k=new IntersectionObserver(T=>{T[0].isIntersecting&&(c==null||c())},S?{root:S}:void 0);return k.observe(w),()=>k.disconnect()},[d,f,c]),o.jsxs(o.Fragment,{children:[o.jsx(J.InputItem,{selectAllOnFocus:!1,border:!1,ref:p,value:e,onChange:w=>n(w.target.value),placeholder:s,name:"github-submenu-dropdown-input"}),o.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[t==null?void 0:t.map(w=>{const S=r==null?void 0:r.includes(w.name),k=u!==void 0&&!S&&x&&!b;return o.jsx(J.Item,{onClick:M=>{M.preventDefault(),a(w)},secondary:o.jsx("span",{className:"line-clamp-2",children:w.description}),trailing:S&&Zr,className:U((k||!w.indexed)&&"text-token-text-tertiary opacity-50"),disabled:k,children:o.jsx("div",{className:"truncate",children:w.name})},w.name)}),o.jsx("div",{className:"w-auto",ref:h}),!l&&t.length===0&&o.jsx(J.Item,{className:"text-token-text-tertiary pointer-events-none",children:o.jsx(N,{id:"LRA3gT",defaultMessage:"No repositories found"})}),l&&o.jsx("div",{className:"text-token-text-tertiary mx-1.5 px-2 py-2.5 text-sm",role:"alert","aria-busy":"true",children:o.jsx(N,{id:"HvTGRC",defaultMessage:"Loading..."})})]}),i&&u===void 0&&o.jsx(J.Item,{onClick:w=>{w.preventDefault(),a({name:"$all_accessible_repos"}),v&&!e&&hdt(w.currentTarget)},secondary:o.jsx(N,{id:"EhTGqu",defaultMessage:"Select all repositories accessible to ChatGPT"}),trailing:v&&Zr,children:o.jsx(N,{id:"pJnTxe",defaultMessage:"All Repositories"})}),o.jsx(J.Separator,{}),o.jsx(J.Item,{onClick:()=>{window.open(m,"_blank")},trailing:o.jsx(ba,{className:"icon-sm"}),children:o.jsx(N,{id:"ICVOEb",defaultMessage:"Configure Repositories"})}),o.jsx(J.Separator,{}),o.jsxs("div",{className:"text-token-text-tertiary mx-1.5 px-2.5 py-2 text-xs",children:[u&&o.jsx(N,{id:"k/9Fjt",defaultMessage:"Choose up to {maxRepos} {maxRepos, plural, one {repository} other {repositories}}. To search more, use deep research.",values:{maxRepos:u}}),o.jsx(N,{id:"4Z21ID",defaultMessage:"Not seeing a repository? {helpLink}",values:{helpLink:o.jsx(o.Fragment,{children:o.jsx("a",{href:"https://help.openai.com/en/articles/11145903-chatgpt-connectors",target:"_blank",rel:"noopener noreferrer",className:"underline",children:o.jsx(N,{id:"sVuhcw",defaultMessage:"Learn more"})})})}})]})]})};function hdt(t){const e=t.closest("[role=menuitem]");if(!e)return;let n=e.nextElementSibling;for(;n&&n.getAttribute("role")!=="menuitem";)n=n.nextElementSibling;if(!n)for(n=e.previousElementSibling;n&&n.getAttribute("role")!=="menuitem";)n=n.previousElementSibling;n instanceof HTMLElement&&n.focus()}const vdt=30,ydt=25,xdt=({enabled:t=!0,debouncedSearchTerm:e,linkId:n,limit:r=20})=>ac({queryKey:["github-repos",e,n],enabled:t,queryFn:async({pageParam:s=null})=>await ue.safePost("/aip/connectors/github/search_repos",{requestBody:{query:e,limit:r,next_token:s,link_id:n}}),getNextPageParam:s=>{var a;return(a=s.next_token)!=null?a:void 0},initialPageParam:null,retry:1});function EAt({clientThreadId:t,allowSelectAllRepos:e=!1,linkId:n,syncConnectionId:r,githubSyncEnabled:s=!1,contentRef:a}){var Y;const i=Z(),[l,c]=g.useState(null),u=g.useRef(null),{selectedRepos:d,setSelectedRepos:f}=yae(t),m=xae(d),[p,h]=g.useState(d),{addSource:v}=Jo(t),[y,x]=g.useState(""),b=lqe(y,300),[_,w]=g.useState(!m),{maxRepos:S}=vae(),{data:k,isFetching:M,isFetchingNextPage:E,isError:T,fetchNextPage:j}=xdt({enabled:!!n,debouncedSearchTerm:b,linkId:n!=null?n:""}),{data:A,isFetching:I}=gae({enabled:s&&!!r,connectionInstanceId:r!=null?r:""}),L=g.useMemo(()=>A!=null&&A.sync_enabled_objects?A.sync_enabled_objects.filter(G=>G.object_type==="repository"&&G.object_name).map(G=>{var F;return{repository_full_name:G.object_name,description:(F=G.object_description)!=null?F:null}}):[],[A]),O=1,R=g.useRef(0),H=()=>{R.current<O&&j()};g.useEffect(()=>{R.current=0},[b]),g.useEffect(()=>{T?R.current+=1:!E&&!T&&(R.current=0)},[T,E]);const V=g.useMemo(()=>{var F;const G=new Map;return b.length===0&&((F=p.selectedRepos)==null||F.forEach(X=>{G.set(X,{repository_full_name:X,description:null,is_code_search_indexed:!0,synced:!1})})),s&&L&&L.forEach(X=>{var te;G.set(X.repository_full_name,{repository_full_name:X.repository_full_name,description:(te=X.description)!=null?te:null,is_code_search_indexed:!0,synced:!0})}),k&&k.pages.forEach(X=>{X.repos.forEach(te=>{var me,W,K;const ae=G.get(te.repository_full_name);G.set(te.repository_full_name,{repository_full_name:te.repository_full_name,description:(me=te.description)!=null?me:null,is_code_search_indexed:(W=te.is_code_search_indexed)!=null?W:void 0,synced:(K=ae==null?void 0:ae.synced)!=null?K:!1})})}),b.length>0&&G.forEach(X=>{var te;!X.repository_full_name.toLowerCase().includes(b.toLowerCase())&&!((te=X.description)!=null&&te.toLowerCase().includes(b.toLowerCase()))&&G.delete(X.repository_full_name)}),Array.from(G.values())},[b,p,s,L,k]),z=G=>{var me,W,K,ne,re;const F=G.name;if(!G.indexed&&!G.synced){c(G.name);return}if(F==="$all_accessible_repos"){f({selectedRepos:[],selectedAllRepos:!d.selectedAllRepos}),d.selectedAllRepos||v(vt.GITHUB_CONNECTOR);return}const X=(me=d.selectedRepos)==null?void 0:me.includes(F),te=(K=(W=d.selectedRepos)==null?void 0:W.length)!=null?K:0;if(S!==void 0&&S>1&&!X&&te>=S)return;if(S!==void 0&&S===1&&!X){f({selectedRepos:[F],selectedAllRepos:!1});return}const ae=X?((ne=d.selectedRepos)!=null?ne:[]).filter(le=>le!==F):[...(re=d.selectedRepos)!=null?re:[],F];f({selectedRepos:ae,selectedAllRepos:!1})},$=g.useMemo(()=>{var G,F;if((G=d==null?void 0:d.selectedRepos)!=null&&G.length&&((F=d==null?void 0:d.selectedRepos)==null?void 0:F.length)>=1){const X=d.selectedRepos;let te=X[0];if(te.length>vdt){const me=(ydt-3)/2;te=te.slice(0,Math.floor(me))+"..."+te.slice(Math.floor(-me))}const ae=X.length-1;return ae>0?"".concat(te," +").concat(ae):te}},[d.selectedRepos]);if(!n&&!s)return null;const D=V.map(G=>{const F=!!G.is_code_search_indexed||G.synced&&s;return{name:G.repository_full_name,description:F?G.description:i.formatMessage({id:"oFTjZm",defaultMessage:"Not indexed"}),indexed:F,synced:G.synced}});return o.jsxs(J.Sub,{open:!m||_,onOpenChange:G=>{m&&w(G)},children:[o.jsx(J.SubMenuTrigger,{className:"ps-4",icon:Rr,children:$!=null?$:i.formatMessage({id:"sDCihQ",defaultMessage:"Repositories"})}),l&&o.jsx(pdt,{repoName:l,onClose:()=>c(null)}),o.jsx(J.Portal,{children:o.jsx(J.SubContent,{ref:u,children:o.jsx(gdt,{items:D,searchTerm:y,setSearchTerm:x,selectedItems:[...(Y=d.selectedRepos)!=null?Y:[],...d.selectedAllRepos?["$all_accessible_repos"]:[]],searchPlaceholder:i.formatMessage({id:"o4McNz",defaultMessage:"Search repositoriesâ¦"}),handleSelectItem:z,showSelectAllRepos:e,loading:M||E||I,onEndScroll:H,maxRepos:S,contentRef:a,subContentRef:u})})})]})}const jAt=({includeDisabledByAdmin:t}={})=>{const e=q(),{enabled:n,availableConnectorsType:r}=_6e(e),{availableConnectors:s,isLoading:a}=w6e({enabled:n,includeDisabledByAdmin:t,productSku:hQ.N7JUPD}),i=S6e(),l=ie(e,"1826175200"),c=g.useMemo(()=>i?s.filter(u=>r.includes(u.type)):l?s.filter(u=>r.includes(u.type)||u.type===op.MCP_CONNECTOR&&u.status!=="ONLY_ME"):s.filter(u=>r.includes(u.type)&&u.type!==op.MCP_CONNECTOR),[r,s,i,l]);return n?{enabled:!0,availableConnectors:c,isLoading:a}:{enabled:!1,availableConnectors:[],isLoading:!1}},Sde=t=>g.createElement("svg",C({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.00098 9.67741C8.42405 9.6777 8.76743 10.0209 8.76758 10.444C8.76758 10.8672 8.42414 11.2103 8.00098 11.2106C7.57756 11.2106 7.23438 10.8674 7.23438 10.444C7.23453 10.0207 7.57765 9.67741 8.00098 9.67741Z",fill:"currentColor"}),g.createElement("path",{d:"M8.00098 4.54362C8.36883 4.54388 8.66779 4.84274 8.66797 5.21061V7.8776C8.66779 8.24548 8.36883 8.54336 8.00098 8.54362C7.6329 8.54362 7.33416 8.24565 7.33398 7.8776V5.21061C7.33417 4.84258 7.6329 4.54362 8.00098 4.54362Z",fill:"currentColor"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.19824 1.16764C7.70922 0.944091 8.29076 0.944146 8.80176 1.16764L12.8018 2.91764C13.5296 3.23612 13.9999 3.95525 14 4.74968V8.5446C13.9998 11.8582 11.3136 14.5446 8 14.5446C4.68655 14.5444 2.00018 11.858 2 8.5446V4.74968C2.00013 3.95538 2.47064 3.2362 3.19824 2.91764L7.19824 1.16764ZM8.26758 2.38932C8.0973 2.31483 7.9037 2.31489 7.7334 2.38932L3.7334 4.13932C3.49091 4.24547 3.33411 4.48498 3.33398 4.74968V8.5446C3.33416 11.1217 5.42293 13.2114 8 13.2116C10.5772 13.2116 12.6668 11.1218 12.667 8.5446V4.74968C12.6669 4.48501 12.51 4.24548 12.2676 4.13932L8.26758 2.38932Z"})),TAt=Object.freeze(Object.defineProperty({__proto__:null,default:Sde},Symbol.toStringTag,{value:"Module"})),bdt="https://help.openai.com/en/articles/11752874-chatgpt-agent#h_beedf96566";function Cdt({connector:t,onClose:e,onConfirm:n,onTurnOffConnectors:r,alreadyViewed:s=!1}){const a=Z(),i=s?vl.continue:vl.confirm;return o.jsxs(tt,{testId:"modal-agent-connectors-safety",isOpen:!0,onClose:e,className:"w-[400px]! p-2",children:[o.jsx("div",{className:"flex justify-end pb-6",children:o.jsx(gn,{onClick:e})}),o.jsxs("div",{className:"flex w-full flex-col items-center",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"bg-token-bg-elevated-primary dark:bg-token-bg-elevated-secondary flex h-14 w-14 items-center justify-center rounded-xl border-[0.5px] shadow-sm",children:o.jsx(IE,{className:"text-token-icon-accent h-8 w-8"})}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),o.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),o.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"})]}),o.jsx(SN,{connector:t,className:"bg-token-bg-elevated-primary dark:bg-token-bg-elevated-secondary rounded-xl border-[0.5px] p-2 shadow-sm",size:"large"})]}),o.jsx("div",{className:"pt-4 text-center text-2xl font-semibold",children:a.formatMessage(vl.title)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"border-token-border-default mt-8 rounded-3xl border px-4",children:[o.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[o.jsx("div",{className:"flex w-6 items-center justify-center",children:o.jsx(Wa,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("div",{className:"pb-0.5 font-medium",children:o.jsx(N,C({},vl.settingsTitle))}),o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,C({},vl.settingsDescription))})]})]}),o.jsxs("div",{className:"border-token-border-default flex items-center gap-4 border-t py-4 text-sm",children:[o.jsx("div",{className:"flex w-6 items-center justify-center",children:o.jsx(cc,{className:"stroke- h-6 w-6 text-[#E25507] dark:text-[#FF9E6C]"})}),o.jsxs("div",{children:[o.jsx("div",{className:"pb-0.5 font-medium text-[#E25507] dark:text-[#FF9E6C]",children:o.jsx(N,C({},vl.alertTitle))}),o.jsx("div",{className:"text-[#E25507] opacity-80 dark:text-[#FF9E6C]",children:o.jsx(N,P(C({},vl.alertDescription),{values:{nbsp:"Â ",link:l=>o.jsx("a",{href:bdt,target:"_blank",rel:"noopener noreferrer",className:"border-b border-[#E25507] whitespace-nowrap dark:border-[#FF9E6C]",children:l})}}))})]})]})]}),o.jsxs("div",{className:"flex w-full flex-row gap-3 pt-6",children:[o.jsx(oe,{size:"large",color:"secondary",className:"flex flex-1",onClick:()=>{r(),e()},children:o.jsx(N,C({},vl.turnOffConnectors))}),o.jsx(oe,{size:"large",color:"primary",className:"flex flex-1",onClick:()=>{n(),e()},children:o.jsx(N,C({},i))})]})]})]})}const vl=pe({title:{id:"edmFZ1",defaultMessage:"Using agent mode with connectors"},alertTitle:{id:"/i2WdP",defaultMessage:"Untrusted sites can obtain your data"},alertDescription:{id:"0f6yLE",defaultMessage:"Agent mode is designed to respect your privacy, but malicious sites may trick it into sharing data from connectors. <link>Learn{nbsp}more</link>"},settingsTitle:{id:"ebLQYi",defaultMessage:"Choose connectors with care"},settingsDescription:{id:"UO9QKO",defaultMessage:"Using only the connectors needed for a task helps reduce privacy risks."},turnOffConnectors:{id:"7A5oEW",defaultMessage:"Turn off connectors"},confirm:{id:"w4463x",defaultMessage:"I understand"},continue:{id:"G9JaXB",defaultMessage:"Continue"}});function NAt({clientThreadId:t,activeSystemHintType:e,layoutMode:n}){"use forget";var p;const r=Z(),s=q(),a=yt(s),i=$e(We.hasSeenOdysseyConnectorsModal),{platformConnectors:l}=V6(),{selectedSources:c}=Jo(t);if(i.isLoading||i.eligible)return null;const u=Array.from(c!=null?c:[]).find(h=>h!=="web"&&h!=="cloud");if(!(u!=null))return null;let f;if(u){const h=(p=$i[u])!=null?p:u;f=l.get(h)}if(!f&&l.size>0&&(f=Array.from(l.values())[0]),!f)return null;const m=()=>{Dt(s,Cdt,{connector:f,alreadyViewed:!0,onClose:()=>{},onConfirm:()=>{},onTurnOffConnectors:()=>{Fe(t,h=>{var v,y;(v=h.selectedSources)!=null||(h.selectedSources=new Map),h.selectedSources.set(e,new Set(["web"])),(y=h.selectedMCPSources)!=null||(h.selectedMCPSources=new Map),h.selectedMCPSources.set(e,new Set),h.mentionedSources=new Set,$Y({selectedSourcesMap:h.selectedSources,selectedMCPSourcesMap:h.selectedMCPSources,scope:{userId:a==null?void 0:a.authUserId,workspaceId:a==null?void 0:a.id}})})}})};return o.jsx(wt,{label:r.formatMessage(_dt.tooltip),side:n==="center"?"bottom":"top",delayDuration:300,children:o.jsx("button",{type:"button",onClick:m,className:"-ms-1 flex h-9 items-center justify-center p-1.5",children:o.jsx(Sde,{className:"icon-sm text-[#E25507] dark:text-[#FF9E6C]"})})})}const _dt=pe({tooltip:{id:"IK9l6I",defaultMessage:"Learn more about privacy risks with connectors"}}),AAt=t=>{"use forget";const e=ee.c(42),{modelLabel:n,modelSlug:r,thinkingEffort:s,onChangeThinkingEffort:a,onRemoveModel:i,onCloseAutoFocus:l}=t,c=Z(),u=q();let d,f,m,p,h,v,y,x,b,_,w,S;if(e[0]!==u||e[1]!==c||e[2]!==n||e[3]!==r||e[4]!==a||e[5]!==l||e[6]!==i||e[7]!==s){const E=k6e(u);let T;e[20]!==c||e[21]!==s?(T=QQ(c,s),e[20]=c,e[21]=s,e[22]=T):T=e[22];const{filledIcon:j,fullLabel:A}=T;f=W4,x=j,b=s==="standard"?n:A,_=!0,w=i,S=l,p=Sdt,d=J.RadioGroup,m=s,e[23]!==r||e[24]!==a?(h=I=>{const L=I;M6e(r,L),a(L)},e[23]=r,e[24]=a,e[25]=h):h=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(v=o.jsx(J.Label,{children:o.jsx(N,{id:"YhWabo",defaultMessage:"Thinking time"})}),e[26]=v):v=e[26],y=E.map(kdt),e[0]=u,e[1]=c,e[2]=n,e[3]=r,e[4]=a,e[5]=l,e[6]=i,e[7]=s,e[8]=d,e[9]=f,e[10]=m,e[11]=p,e[12]=h,e[13]=v,e[14]=y,e[15]=x,e[16]=b,e[17]=_,e[18]=w,e[19]=S}else d=e[8],f=e[9],m=e[10],p=e[11],h=e[12],v=e[13],y=e[14],x=e[15],b=e[16],_=e[17],w=e[18],S=e[19];let k;e[27]!==d||e[28]!==m||e[29]!==h||e[30]!==v||e[31]!==y?(k=o.jsxs(d,{value:m,onValueChange:h,children:[v,y]}),e[27]=d,e[28]=m,e[29]=h,e[30]=v,e[31]=y,e[32]=k):k=e[32];let M;return e[33]!==f||e[34]!==p||e[35]!==k||e[36]!==x||e[37]!==b||e[38]!==_||e[39]!==w||e[40]!==S?(M=o.jsx(f,{icon:x,label:b,removable:_,onRemove:w,onCloseAutoFocus:S,onOpenChange:p,dropdownContent:k}),e[33]=f,e[34]=p,e[35]=k,e[36]=x,e[37]=b,e[38]=_,e[39]=w,e[40]=S,e[41]=M):M=e[41],M};function wdt({effort:t}){const e=Z(),{progressIcon:n,shortLabel:r,description:s}=QQ(e,t);return o.jsx(wt,{side:"right",labelTextAlign:"left",contentClassName:"cant-hover:hidden",labelClassName:"[text-wrap:pretty]",label:s,triggerAs:null,children:o.jsx(J.RadioItem,{value:t,icon:n,label:r})})}function Sdt(t){t&&B.logEventWithStatsig("ChatGPT Composer Thinking Effort Opened","chatgpt_composer_thinking_effort_opened")}function kdt(t){return o.jsx(wdt,{effort:t},t)}class bA{constructor(e){Q(this,"namespace","Voice");e&&(this.namespace=e.namespace)}log(e,...n){}info(...e){this.log("log",...e)}debug(...e){this.log("debug",...e)}error(...e){this.log("error",...e)}createChild(e){return new bA({namespace:"".concat(this.namespace,":").concat(e)})}}const Du=new bA,ui=t=>t===0?null:t+performance.timeOrigin,Z4=t=>{const e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];e[n]=ui(r!=null?r:0)}return e},kde=nt(void 0),Mde=nt(void 0),Ede=nt(void 0),jde=nt(void 0),Mdt=nt(void 0),Tde=nt(void 0),Nde=nt(void 0),Ade=nt(void 0),Pde=nt(void 0),Edt=nt(void 0),Ide=nt(void 0),Lde=nt(void 0),Rde=nt(void 0),PAt=()=>P0(()=>{const t=Ede(),e=kde(),n=Mde(),r=Tde(),s=Pde();return Z4({pre_connection_setup_start_time:t==null?void 0:t.start_time,pre_connection_setup_end_time:t==null?void 0:t.end_time,audio_input_aquisition_start_time:e==null?void 0:e.start_time,audio_input_aquisition_end_time:e==null?void 0:e.end_time,audio_transceiver_setup_start_time:n==null?void 0:n.start_time,audio_transceiver_setup_end_time:n==null?void 0:n.end_time,post_connection_setup_start_time:r==null?void 0:r.start_time,post_connection_setup_end_time:r==null?void 0:r.end_time,quality_monitor_setup_start_time:s==null?void 0:s.start_time,quality_monitor_setup_end_time:s==null?void 0:s.end_time})}),IAt=()=>P0(()=>{const t=Edt(),e=Ide(),n=Lde(),r=Rde(),s=jde(),a=Mdt();return Z4({pre_connect_get_peer_connection_start_time:t==null?void 0:t.start_time,pre_connect_get_peer_connection_end_time:t==null?void 0:t.end_time,pre_connect_data_channel_start_time:e==null?void 0:e.start_time,pre_connect_data_channel_end_time:e==null?void 0:e.end_time,pre_connect_event_handlers_start_time:n==null?void 0:n.start_time,pre_connect_event_handlers_end_time:n==null?void 0:n.end_time,pre_connect_blank_transceiver_start_time:r==null?void 0:r.start_time,pre_connect_blank_transceiver_end_time:r==null?void 0:r.end_time,pre_connect_create_offer_start_time:s==null?void 0:s.start_time,pre_connect_create_offer_end_time:s==null?void 0:s.end_time,pre_connect_create_abort_signal_start_time:a==null?void 0:a.start_time,pre_connect_create_abort_signal_end_time:a==null?void 0:a.end_time})}),LAt=()=>P0(()=>{const t=Nde(),e=Ade();return Z4({post_connect_set_remote_description_start_time:t==null?void 0:t.start_time,post_connect_set_remote_description_end_time:t==null?void 0:t.end_time,post_connect_get_response_text_start_time:e==null?void 0:e.start_time,post_connect_get_response_text_end_time:e==null?void 0:e.end_time})}),CA=nt(void 0),_A=nt(void 0),Ode=nt(void 0),RAt=()=>P0(()=>{const t=_A(),e=CA();return Z4({connect_auth_headers_start_time:t==null?void 0:t.start_time,connect_auth_headers_end_time:t==null?void 0:t.end_time,connect_new_form_start_time:e==null?void 0:e.start_time,connect_new_form_end_time:e==null?void 0:e.end_time})}),OAt=()=>{kde.set(void 0),Mde.set(void 0),Ede.set(void 0),Tde.set(void 0),Pde.set(void 0),Ide.set(void 0),Lde.set(void 0),Rde.set(void 0),jde.set(void 0),Nde.set(void 0),Ade.set(void 0),CA.set(void 0),_A.set(void 0),Ode.set(void 0)},fG=(t,e)=>{const n=performance.now(),r=e(),s=performance.now();return t.set({start_time:n,end_time:s}),r},DAt=async(t,e)=>{const n=performance.now(),r=await e(),s=performance.now();return t.set({start_time:n,end_time:s}),r},Dde=va(t=>ie(t,"2783249450")),wA=()=>{"use forget";const t=ee.c(2),e=q();let n;return t[0]!==e?(n=Dde(e),t[0]=e,t[1]=n):n=t[1],n},jdt=window.location.origin+"/voice",Fde=window.location.origin,Bde=window.location.origin,Tdt=[/\[abort\]/,/The user aborted a request/,/Fetch is aborted/,/Request signal is aborted/],Ndt="v=0\r\no=- 0 0 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=ice-ufrag:foo\r\na=ice-pwd:barbazqux\r\na=fingerprint:sha-256 00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00:00\r\na=setup:actpass\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111\r\nc=IN IP4 0.0.0.0\r\na=rtpmap:111 opus/48000/2\r\na=mid:0\r\na=rtcp-mux\r\n",Adt=t=>{const e=t instanceof Error?t.message:String(t);return Tdt.some(n=>n.test(e))},Ude=()=>{const t=gr();return ie(t,"571174949")&&!0},mG=()=>{const t=Ude(),e=t?Bde:Fde,n=t?"/realtime/status":"/v1/vp/status";return"".concat(e).concat(n)},y_=(t=!0)=>{const e=Ude(),n=e?Bde:Fde,r=e?"/realtime/vp":"/v1/vp";return"".concat(n).concat(r).concat(t?"":"s")};async function pG(t,{payload:e,eventSource:n,url:r}){var i;const s={eventSource:n,voice:e.voice,voice_mode:(i=e.voice_mode)!=null?i:"undefined",voice_session_id:e.voice_session_id};performance.clearResourceTimings();const a=performance.now();Gt.getToken.request(s);try{const l=await t();P0(()=>{const u=performance.getEntriesByType("resource").filter(f=>f.name.includes(r))[0],d={domain_lookup_start_time:null,domain_lookup_end_time:null,connect_end_time:null,connect_start_time:null,secure_connection_start_time:null,request_start_time:null,response_start_time:null,response_end_time:null,latency_ms:null};if(u){const{domainLookupEnd:f,domainLookupStart:m,connectEnd:p,connectStart:h,secureConnectionStart:v,requestStart:y,responseStart:x,responseEnd:b,duration:_}=u;d.domain_lookup_start_time=ui(m),d.domain_lookup_end_time=ui(f),d.connect_end_time=ui(p),d.connect_start_time=ui(h),d.secure_connection_start_time=ui(v),d.request_start_time=ui(y),d.response_start_time=ui(x),d.response_end_time=ui(b),d.latency_ms=_||null}Du.debug({timing:d,entry:u}),Ode.set(d)});const c=performance.now()-a;return Gt.getToken.success(P(C({},s),{durationMs:c})),l}catch(l){const c=performance.now()-a,u=Adt(l);throw Gt.getToken.failure(P(C({},s),{durationMs:c,error:l instanceof Error?l.message:String(l),voice_session_id:e.voice_session_id,user_aborted:u})),l}}class Ck{static startLivekitSession(e,n,r){const s="".concat(jdt,"/get_token");return pG(()=>la.post(s,e,{additionalHeaders:r?{[F1.ProofToken]:r}:{}}),{payload:e,eventSource:n,url:s})}static startTransceiverSession({payload:e,accessToken:n,proofOfWorkAnswer:r,eventSource:s,signal:a,dataChannelId:i=0,offer:l}){const c=e.voice_mode==="advanced",u="".concat(y_(c),"?dcid=").concat(i);return pG(async()=>{const d=fG(_A,()=>ca({accessToken:n}));delete d["cf-timezone"];let f={};const m=fG(CA,()=>{const h=new FormData;return h.append("sdp",l.sdp),h.append("session",JSON.stringify(e)),h}),p=await fetch(u,{method:"POST",body:m,headers:C(C(C({},d),f),r?{[F1.ProofToken]:r}:{}),signal:a});if(!p.ok)throw new Error("Failed to create session: ".concat(p.statusText));return p},{payload:e,eventSource:s,url:u})}static prewarmRealtimeVoice(){const e={[F1.ProofToken]:"dummy"},n=C(C({},ca({accessToken:"dummy"})),e),r=()=>{};la.post(mG(),{requested_voice_mode:"prewarm"},{additionalHeaders:e}).catch(r);const s=()=>{const a=new FormData;return a.append("sdp",Ndt),a.append("session",JSON.stringify({voice_mode:"prewarm"})),a};fetch("".concat(y_(!0),"?dcid=0"),{method:"POST",body:s(),headers:n}).catch(r),fetch("".concat(y_(!1),"?dcid=0"),{method:"POST",body:s(),headers:n}).catch(r)}static async getVoiceStatus(e,n){var a;const r={eventSource:n,requested_voice_mode:(a=e.requested_voice_mode)!=null?a:"null"},s=await ec.getRequirementsToken();return Gt.getVoiceStatus.request(r),ue.safePost("/conversation/voice/status",{requestBody:e,additionalHeaders:{[F1.ProofToken]:s}}).then(i=>(Gt.getVoiceStatus.success(r),i)).catch(i=>{throw Gt.getVoiceStatus.failure(P(C({},r),{error:i==null?void 0:i.message})),i})}static async getRealtimeVoiceStatus(e,n){var a;const r={eventSource:n,requested_voice_mode:(a=e.requested_voice_mode)!=null?a:"null"},s=await ec.getRequirementsToken();return Gt.getVoiceStatus.request(r),la.post(mG(),e,{additionalHeaders:{[F1.ProofToken]:s}}).then(i=>(Gt.getVoiceStatus.success(r),i)).catch(i=>{throw Gt.getVoiceStatus.failure(P(C({},r),{error:i==null?void 0:i.message})),i})}}const Pdt=()=>wA()?Ck.getRealtimeVoiceStatus:Ck.getVoiceStatus,Idt=()=>[8,4,4,4,12].map(e=>Math.floor(Math.random()*Math.pow(10,e)).toString(16).padStart(e,"0").toUpperCase()).join("-");var Mi=(t=>(t.StateUpdate="state_update",t.ActionRequest="action_request",t.ConversationUpdate="conversation_update",t.RelayMessage="relay_message",t.Unknown="unknown",t.UsageUpdate="usage_update",t.ToolUpdate="tool_update",t.TurnContext="turn_context",t.Performance="performance",t.StartupTelemetry="startup_telemetry",t.TrackState="track_state",t))(Mi||{}),Ldt=(t=>(t.StartListeningIntently="start_listening",t.StopListeningIntently="stop_listening",t.HaltAllActivity="stop_speaking",t.ResumeListening="resume_listening",t.RelayMessage="relay_message",t))(Ldt||{}),Rdt=(t=>(t.Connecting="connecting",t.Idle="idle",t.Connected="connected",t.Halted="halted",t.Listening="listening",t.ListeningIntently="listening_intently",t.Thinking="thinking",t.Speaking="speaking",t))(Rdt||{}),_k=(t=>(t.Add="add",t.Remove="remove",t))(_k||{});let x_;const Odt=()=>(x_||(x_=new TextEncoder),x_);async function Hde({room:t,event:e,voiceStore:n}){const r=Odt();await t.localParticipant.publishData(r.encode(JSON.stringify(e))),n.setState(s=>{s.server.messages.push(P(C({},e),{timestamp:new Date,source:"local"}))})}function FAt(t,e,n,r){Hde({room:t,voiceStore:e,event:{type:Mi.TrackState,payload:{type:Mi.TrackState,track_id:n==="camera_front"?"webcam":"screenshare",media_type:"video",media_source:n,state:r}}})}function Ddt(t,e,n,r){Hde({room:t,voiceStore:e,event:{type:Mi.TrackState,payload:{type:Mi.TrackState,track_id:"microphone",media_type:"audio",media_source:n,state:r}}})}class Fdt{constructor(){Q(this,"logger",Du.createChild("VoiceTurnContext"));Q(this,"publish",async()=>{throw new Error("VoiceTurnContext does not have a set publisher.")});Q(this,"store",Rt(k0(Sn(()=>({parts:{},attachments:{}})))))}useState(e){return this.store(e||(n=>n))}setPublisher(e){this.publish=e}async add({parts:e,attachments:n}){if(!e&&!n)return;let r={},s={};n&&(r=Object.fromEntries(n.map(i=>[this.makeId("attachment"),i]))),e&&(s=Object.fromEntries(e.map(i=>[this.makeId("part"),i])));const a={type:Mi.TurnContext,payload:{type:Mi.TurnContext,action:_k.Add,attachments:r,parts:s}};await this.publish(a),this.store.setState(i=>{i.parts=Object.assign(i.parts,s),i.attachments=Object.assign(i.attachments,r)}),this.logger.info("Added",{payload:a})}async remove({parts:e,attachments:n}){if(!e&&!n)return;this.logger.info("Removing turn context attachment",{parts:e,attachments:n});const r={},s={},a=this.store.getState();n&&n.forEach(l=>{a.attachments[l]&&(r[l]=a.attachments[l])}),e&&e.forEach(l=>{a.parts[l]&&(s[l]=a.parts[l])});const i={type:Mi.TurnContext,payload:{type:Mi.TurnContext,action:_k.Remove,attachments:r,parts:s}};this.publish(i),this.store.setState(l=>{Object.keys(s).forEach(c=>{delete l.parts[c]}),Object.keys(r).forEach(c=>{delete l.attachments[c]})}),this.logger.info("Removed",{payload:i})}async clear(){this.store.setState(e=>{e.parts={},e.attachments={}}),this.logger.info("Cleared")}makeId(e){return"client:".concat(e?"".concat(e,":"):"").concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,15))}}var Bdt=(t=>(t.Starting="starting",t.Started="started",t.Stopping="stopping",t.Stopped="stopped",t))(Bdt||{});const Vde={conversationId:null,voiceSessionId:null,isActivityHalted:!1,isVoiceModeActive:!1,video:"stopped",screenshare:"stopped",dev:{room:null},credentials:{token:null,url:null,e2eeKey:null},server:{actions:null,connectionState:null,remoteState:null,messages:[],usage:null,toolUpdate:null,voiceConnectionQuality:null,turnContext:new Fdt,relayReady:!1},disconnectPending:void 0,showVoicePicker:!1,showNuxFullPage:!1,metrics:{totalLatencyMs:[],currentRttMs:[],numSpeaking:0,numThinking:0,numListening:0,conversationLatency:0},hasConnectedOnce:!1},Udt=t=>Rt(k0(Sn(()=>Vde))),Hdt=Udt(),Vdt=g.createContext(null);function f1(){const t=g.useContext(Vdt);return t!=null?t:Hdt}function of(t){return f1()(t)}function BAt(){const t=at(()=>iE()),e=of(r=>!!(r.credentials.token&&r.credentials.url&&r.credentials.e2eeKey)),n=of(r=>r.server.connectionState==="connected");return t==="livekit"?e:n}function UAt(){return f1()(e=>e.voiceStatus)}function $dt(){const{voiceName:t}=I4(),e=f1(),n=Pdt();return g.useCallback(async function(s,a){var c;const i=Idt(),l=await n(P(C({},s),{timezone_offset_min:new Date().getTimezoneOffset(),nonce:rY(),voice:(c=s.voice)!=null?c:t,voice_session_id:i}),a);return l!=null&&l.chatreq&&ec.startEnforcement(l==null?void 0:l.chatreq),e.setState({voiceStatus:l}),P(C({},l),{voice_session_id:i})},[t,n,e])}function HAt(){const[t,e]=g.useState(!1),n=f1(),r=g.useCallback(async()=>{e(!0);const s=n.getState().dev.room;if(s){const a=s.localParticipant.isMicrophoneEnabled,i=a?"mute":"unmute";Gt.toggleMuteButton.click({toggleTo:i});try{await s.localParticipant.setMicrophoneEnabled(!a),Ddt(s,n,"microphone",i==="mute"?"muted":"live")}finally{e(!1)}}},[n]);return{isMuting:t,toggleMute:r}}function VAt(t,e){if(t){const{credentials:n,conversationId:r,voiceSessionId:s,voiceMode:a}=t;Du.debug("setting credentials",t),e.setState(i=>{i.conversationId=r,i.credentials=n,i.voiceSessionId=s,i.voiceMode=a});return}Du.debug("clearing credentials"),qdt(e)}function $At(){const t=f1(),e=of(s=>s.video),n=g.useCallback(s=>{t.setState(a=>{const i=a.video?"off":"on";Gt.toggleVideoButton.click({eventSource:s,toggleTo:i}),a.video==="stopped"?(a.screenshare==="started"&&(a.screenshare="stopping"),a.video="starting"):a.video="stopping"})},[t]),r=g.useCallback(s=>{t.setState(a=>{a.video=s})},[t]);return{cameraTrackState:e,finalizeCameraState:r,toggleCamera:n}}function qAt(){const t=of(s=>s.screenshare),e=f1(),n=g.useCallback(s=>{e.setState(a=>{const i=a.screenshare?"off":"on";Gt.toggleScreenShareButton.click({eventSource:s,toggleTo:i}),a.screenshare==="stopped"?(a.video==="started"&&(a.video="stopping"),a.screenshare="starting"):a.screenshare="stopping"})},[e]),r=g.useCallback(s=>{e.setState(a=>{a.screenshare=s})},[e]);return{screenshareTrackState:t,toggleScreenShare:n,finalizeScreenshareState:r}}function qdt(t){t.setState(e=>P(C({},Vde),{isVoiceModeActive:e.isVoiceModeActive,hasConnectedOnce:e.hasConnectedOnce}))}function zAt(t){const e=t.default_voice_mode,n=t.modes.find(r=>r.mode===e);if(!n)throw new Error("Voice status returned a default_voice_mode that does not exist in the modes array");return n}const zdt="{{.assetPrefix}}/assets/pcm-player-processor-Bnki682T.js";var po,go,f0,Ed,Ra,Gc,$de;class gG extends E6e.EventEmitter{constructor({sampleRate:n=24e3,channels:r=1}={}){super();Gs(this,Ra);Gs(this,po);Gs(this,go,null);Gs(this,f0);Gs(this,Ed);cl(this,po,new AudioContext({sampleRate:n,latencyHint:"playback"})),cl(this,f0,r),cl(this,go,null),cl(this,Ed,!1)}async preload(){return await on(this,Ra,Gc).call(this),this}async stream(n){const r=await on(this,Ra,Gc).call(this);let s=0,a=await n.read();for(;!a.done;)this.emit("ready"),r.port.postMessage({type:"push",payload:{chunk:a.value}}),s+=a.value.byteLength,a=await n.read();cl(this,Ed,!0),s===0&&this.emit("error")}async play(){Pn(this,po).state==="suspended"&&await Pn(this,po).resume(),(await on(this,Ra,Gc).call(this)).port.postMessage({type:"play"})}async pause(){(await on(this,Ra,Gc).call(this)).port.postMessage({type:"pause"})}async seek(n){(await on(this,Ra,Gc).call(this)).port.postMessage({type:"seek",payload:{seconds:n}})}async reset(){(await on(this,Ra,Gc).call(this)).port.postMessage({type:"reset"})}destroy(){this.removeAllListeners(),Pn(this,go)&&(Pn(this,go).disconnect(),cl(this,go,null)),Pn(this,po).close()}}po=new WeakMap,go=new WeakMap,f0=new WeakMap,Ed=new WeakMap,Ra=new WeakSet,Gc=async function(){if(Pn(this,go))return Pn(this,go);await Pn(this,po).audioWorklet.addModule(zdt);const n=new AudioWorkletNode(Pn(this,po),"pcm-player");return n.connect(Pn(this,po).destination),n.port.postMessage({type:"init",payload:{channels:Pn(this,f0)}}),n.port.onmessage=on(this,Ra,$de).bind(this),cl(this,go,n),n},$de=function(n){switch(n.data.type){case"timeupdate":{this.emit("timeupdate",{seconds:n.data.payload.seconds,totalSeconds:n.data.payload.totalSeconds}),Pn(this,Ed)&&n.data.payload.seconds>=n.data.payload.totalSeconds&&this.emit("ended");break}}};const e6=Symbol("both-are-bad"),Gdt=({serverThreadId:t})=>xM(Sn((e,n)=>{const r=(s,a)=>e(i=>{const l=i.paragens.find(c=>c.id===s);l&&a(l)});return{serverThreadId:t,paragens:[],playingId:null,selectedId:null,shouldShowAudioParagenPrompt:!1,shouldShowThankYouTooltip:!1,actions:{createAudioParagen:async s=>{var _,w,S;const{serverThreadId:a}=n();if(!a){const k=new Error("thread id is not set");throw ve.addError(k),k}const i=Yn(),l=Yn();e(k=>{k.paragens[0]={id:i},k.paragens[1]={id:l}});const{forceParagen:c,forceParagenModel:u}=yf(),[d,f,m]=await Promise.all([ue.safePost("/generate_audio_paragen",{requestBody:C({conversation_id:a,message_id:s,paragen_ids:[i,l]},c?{force_paragen:!0,force_paragen_model_slug:u.value}:{}),skipJsonTransform:!0}),new gG().preload(),new gG().preload()]),p=(_=d.body)==null?void 0:_.getReader();if(!d.ok||!p){for(const k of[i,l])r(k,M=>{M.error=new Error("Failed to create audio paragen: ".concat(d.statusText))});return}const h={},v=k=>new ReadableStream({start(M){h[k]=M}}),y=(k,M)=>{k.on("ready",()=>r(M,E=>{E.player=k})).on("error",()=>r(M,E=>{E.error=!0}))};y(f,i),y(m,l),f.stream(v(i).getReader()),m.stream(v(l).getReader());const x=new TextDecoder;let b="";for(;;){const{value:k,done:M}=await p.read();if(M)break;b+=x.decode(k,{stream:!0});let E=b.indexOf("\n");for(;E!==-1;){const T=b.slice(0,E).trim();if(b=b.slice(E+1),T)try{const j=JSON.parse(T),A=j.paragen_id;if(j.chunk){const I=Uint8Array.from(atob(j.chunk),L=>L.charCodeAt(0));(w=h[A])==null||w.enqueue(I)}j.done&&((S=h[A])==null||S.close())}catch(j){}E=b.indexOf("\n")}}},playParagen:s=>{B.logEventWithStatsig("Audio Paragen: Play","chatgpt_audio_paragen_play",{paragen_id:s}),e(a=>{a.playingId=s})},pauseParagen:(s,a=!1)=>{a&&B.logEventWithStatsig("Audio Paragen: Pause","chatgpt_audio_paragen_pause",{paragen_id:s}),e(i=>{i.playingId===s&&(i.playingId=null)})},selectParagen:s=>{B.logEventWithStatsig("Audio Paragen: Select Option","chatgpt_audio_paragen_select_option",{paragen_id:s}),e(a=>{a.playingId=null,a.selectedId=s})},submitParagenResults:async(s,a,i)=>{const{paragens:l,selectedId:c,serverThreadId:u}=n();if(!u){const f=new Error("thread id is not set");throw ve.addError(f),f}B.logEventWithStatsig("Audio Paragen: Submit Results","chatgpt_audio_paragen_submit_results");const d=await ue.safePost("/paragen_audio_submission",{requestBody:{conversation_id:u,user_prompt_message_id:s,displayed_paragen_ids:l.map(f=>f.id),selected_paragen_id:c===e6?null:c,reviews:a,stream_type:"stream",freeform_feedback:i},skipJsonTransform:!0});if(!d.ok){const f=new Error("Failed to create audio paragen: ".concat(d.statusText));throw ve.addError(f,{conversationId:u,messageId:s}),f}},setShouldShowThankYouTooltip:s=>{e(a=>{a.shouldShowThankYouTooltip=s})},resetStore:()=>{e(s=>{var a;for(const i of s.paragens)(a=i.player)==null||a.destroy();s.paragens=[],s.playingId=null,s.selectedId=null})}}}}),bf),K4=g.createContext(null);K4.displayName="AudioParagenStore";function Wdt(){const t=g.useContext(K4);if(!t)throw new Error("useAudioParagenState must be used within a AudioParagenStoreProvider");return t}function Zdt(t,e){const n=g.useContext(K4);if(n)return n(t,e)}function lf(t,e){const n=Wdt(),r=j6e(n,t,e);if(r===n.getState())throw new Error("Selector cannot return the entire state. Please select a specific part of the state.");return r}function Y4(){return lf(t=>t.actions)}function GAt(t,e){const{createAudioParagen:n,resetStore:r}=Y4(),{paragens:s}=lf(a=>({paragens:a.paragens}));return g.useEffect(()=>{if(!(!e||!t))return n(t),()=>{r()}},[n,e,t,r]),s.every(a=>a.player&&!a.error)}function WAt({children:t,serverThreadId:e}){const n=g.useRef(null);return n.current==null&&(n.current=Gdt({serverThreadId:e})),g.useEffect(()=>{const r=n.current;r&&!r.getState().serverThreadId&&e&&r.setState(s=>{s.serverThreadId=e})},[e]),o.jsx(K4.Provider,{value:n.current,children:t})}const qde=new Set;function ZAt(t){return t?qde.has(t):!1}function Kdt(t){qde.add(t)}function Ydt(){return typeof RTCPeerConnection<"u"&&typeof RTCPeerConnection.generateCertificate=="function"}function Qdt(t,e){return U("relative flex h-9 items-center justify-center rounded-full disabled:text-gray-50 disabled:opacity-30",t?"min-w-8 p-2":e?"w-7":"w-9",e&&"h-7!","composer-secondary-button-color hover:opacity-80")}function Jdt(){const t=Z();return o.jsx("span",{className:"ps-1 pe-1 text-[13px] font-semibold whitespace-nowrap [[data-collapse-labels]_&]:sr-only",children:t.formatMessage({id:"composerSpeechUpsell.voiceLabel",defaultMessage:"Voice"})})}const Xdt=Je(()=>Ve(()=>import("./gi56e9qc6hkbhcx3.js"),__vite__mapDeps([121,1,4,5,122,123,124,125])).then(t=>t.VoiceModals));function eft(){const t=$e(We.hasSeenAdvancedVoiceNuxFullPage);return!t.isLoading&&t.eligible}const tft=()=>{const t=f1(),{isUnauthenticated:e}=An(),n=eft(),r=lE();return()=>{if(B.logEventWithStatsig("Composer Speech Button Clicked","composer_speech_button_clicked",{protocol:r}),e)return Gt.voiceSelectionShown.click(e?{isUnauthenticated:!0,eventSource:"composerSpeechButton"}:{}),t.setState(a=>{a.showVoicePicker=!0});if(n){Gt.voiceAdvancedDisclosureShown.success(),t.setState(a=>{a.showNuxFullPage=!0});return}t.setState(a=>{a.isVoiceModeActive=!0})}};function nft({isSmall:t=!1,disableTooltip:e=!1,clientThreadId:n}){const r=q(),a=Z().formatMessage({id:"HDu59A",defaultMessage:"Start voice mode"}),i=lE(),l=of(p=>p.isVoiceModeActive),{loggedOutVoiceLabel:c}=e5(),{getUpsellLabelType:u}=xde(),d=Et(r)?u()==="all":c,f=tft(),m=eE()?Ydt():!0;return o.jsxs(o.Fragment,{children:[o.jsx(rft,{disabled:e,protocol:i,isRTCSupported:m,children:o.jsxs("button",{"data-testid":"composer-speech-button",onClick:f,"aria-label":a,disabled:!m||l,className:Qdt(d,t),style:{viewTransitionName:"var(--vt-composer-speech-button)"},children:[o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(CN,{className:"icon"})}),d&&o.jsx(Jdt,{})]})}),o.jsx(Xdt,{clientThreadId:n})]})}function rft(t){return Zdt(n=>n.shouldShowThankYouTooltip)?o.jsx(aft,C({},t)):o.jsx(sft,C({},t))}function sft({children:t,disabled:e=!1,protocol:n,isRTCSupported:r}){const s=Z();return o.jsx(wt,{open:e?!1:void 0,label:r?s.formatMessage(t6.defaultTooltipLabel):s.formatMessage(t6.webRTCNotSupportedLabel),side:"bottom",onOpenChange:a=>{a&&(B.logEvent("Composer Speech Button Hovered",{protocol:n}),Gt.composerSpeechButton.hover())},children:t})}function aft({children:t}){const{setShouldShowThankYouTooltip:e}=Y4();return g.useEffect(()=>{const n=setTimeout(()=>{e(!1)},5e3);return()=>clearTimeout(n)},[e]),o.jsx(wt,{open:!0,label:o.jsx(N,C({},t6.audioParagenThankYouLabelHeader)),secondaryLabel:o.jsx(N,C({},t6.audioParagenThankYouLabelSubheader)),side:"top",withArrow:!0,children:t})}const t6=pe({audioParagenThankYouLabelHeader:{id:"ComposerSpeechButton.audioParagenThankYouLabelHeader",defaultMessage:"Thank you for your feedback!"},audioParagenThankYouLabelSubheader:{id:"ComposerSpeechButton.audioParagenThankYouLabelSubheader",defaultMessage:"Continue chatting with voice mode"},defaultTooltipLabel:{id:"ComposerSpeechButton.defaultTooltipLabel",defaultMessage:"Use voice mode"},webRTCNotSupportedLabel:{id:"ComposerSpeechButton.webRTCNotSupportedLabel",defaultMessage:"Voice mode unsupported"}}),oft=Je(()=>Ve(()=>import("./ld4419374p482u7j.js").then(t=>t.v),__vite__mapDeps([126,4,1,5,124,122,123,127,128,14])).then(t=>t.VoiceModeLayout)),ift=Je(()=>Ve(()=>import("./bustf626kupu8tmq.js"),__vite__mapDeps([129,1,4,5,130])).then(t=>t.VoiceConversationRating));function lft(){const t=q(),e=lE();return ie(t,"482976135")&&e==="transceiver"}function SA(){const t=lft();return N0()?!1:JQ()?t:!0}function KAt(t){return SA()?o.jsx(oft,C({},t)):null}function cft(t){return SA()?o.jsx(ift,C({},t)):null}const YAt=Je(()=>Promise.resolve(()=>null));function uft(t){"use forget";var k;const e=q(),n=!Et(e),s=cE(M=>M.files).length>0,a=at(()=>!ju(t.composerController)),i=!s&&!a,{browseMode:l}=Su(),c=Qi(),u=N0()&&!c,d=Er(),f=ie(e,"2360528850"),m=d&&!f,p=ie(e,"3728856343"),h=yt(e),v=zo(),[y,x]=Yt(M=>[ws(M),wn(M)]),{isSingleLine:b}=e5(),{getShowVoiceUpsell:_}=xde();if(t.inputState==="disabled"&&t.disableReason!=="pimBlock"||x&&b&&i&&t.state!=="streaming")return"disabled";const w=h!=null&&!y&&((k=v==null?void 0:v.includes(Dr.AllowVoiceUse))!=null?k:!1);return(!n&&w||n&&(p||_()))&&i&&t.state==="disabled"&&t.clientThreadId&&l!=="gizmo-editor"&&!u&&!m?"speech":"submit"}function QAt(t){"use forget";const n=Te(t.clientThreadId,l=>{var c,u;return!!(l!=null&&l.interruptionInProgress)&&!!((u=(c=se.getCurrentNode(l))==null?void 0:c.message.metadata)!=null&&u.n7jupd_message)}),r=uft(t),s=SA(),a=at(()=>UM(t.composerController));if(r==="disabled"&&!n)return null;const i=o.jsx(dft,{isSmall:t.isSmall,isDisabled:t.state==="disabled",isStreaming:t.state==="streaming",showSpinner:n,onSubmit:t.onSubmit,disableReason:t.disableReason,useStartButtonText:t.useStartButtonText,composerController:t.composerController,clientThreadId:t.clientThreadId});return r==="speech"&&t.clientThreadId&&s?o.jsx("div",{className:t.isSmall?"min-w-7":"min-w-9","data-testid":"composer-speech-button-container",children:o.jsx(nft,{isSmall:t.isSmall,clientThreadId:t.clientThreadId,disableTooltip:t.disableTooltip})}):i}function dft(t){"use forget";var R;const e=ee.c(30),{onSubmit:n,isStreaming:r,isDisabled:s,showSpinner:a,disableReason:i,useStartButtonText:l,composerController:c,isSmall:u,clientThreadId:d}=t;let f;e[0]!==c?(f=()=>ju(c),e[0]=c,e[1]=f):f=e[1];const m=at(f),p=vce(d),h=r&&(!p||m),v=a?On:h?a4:bN,y=Z(),x=i==="async_task_pending"&&!p,b=MN(),_=s||x||a;let w;e[2]!==y||e[3]!==h?(w=h?y.formatMessage(Hc.stopStreamingLabel):y.formatMessage(Hc.sendPromptLabel),e[2]=y,e[3]=h,e[4]=w):w=e[4];const S=h?"stop-button":"send-button",k=h?"composer-secondary-button-color":"composer-submit-button-color",M=u?"h-7":"h-9",E=l&&!h?"w-fit px-3":u?"w-7":"w-9";let T;e[5]!==k||e[6]!==M||e[7]!==E?(T=U("composer-submit-btn",k,M,E),e[5]=k,e[6]=M,e[7]=E,e[8]=T):T=e[8];let j;e[9]!==v||e[10]!==h||e[11]!==l?(j=l&&!h?o.jsx("p",{className:"text-md font-medium",children:o.jsx(N,{id:"q2Rxh8",defaultMessage:"Start"})}):o.jsx(v,{className:"icon"}),e[9]=v,e[10]=h,e[11]=l,e[12]=j):j=e[12];let A;e[13]!==n||e[14]!==_||e[15]!==w||e[16]!==S||e[17]!==T||e[18]!==j?(A=o.jsx("button",{onClick:n,disabled:_,id:"composer-submit-button","aria-label":w,"data-testid":S,className:T,children:j}),e[13]=n,e[14]=_,e[15]=w,e[16]=S,e[17]=T,e[18]=j,e[19]=A):A=e[19];const I=A;let L;e:{if(!i){L=void 0;break e}let H;e[20]!==b||e[21]!==i||e[22]!==y?(H=i==="file_upload_pending"?y.formatMessage(Hc.fileUploadPendingLabel):i==="rate_limit_hard_block"?y.formatMessage(Hc.rateLimitHardBlockLabel):i==="empty_text_content"?y.formatMessage(Hc.emptyTextContentLabel):i==="async_task_pending"?y.formatMessage(Hc.asyncTaskInProgressLabel):i==="no_source_selected_dr"?b.caterpillarNoneSelectedMessage:i==="text_content_too_long"?y.formatMessage(Hc.textContentTooLongLabel):void 0,e[20]=b,e[21]=i,e[22]=y,e[23]=H):H=e[23];const V=H;if(V){L=V;break e}if(e[24]!==i||e[25]!==y){const z=(R=lPe(i))==null?void 0:R.placeholder;if(z){L=y.formatMessage(z);break e}e[24]=i,e[25]=y,e[26]=L}else L=e[26];L=void 0}const O=L;if(i&&s||x){let H;return e[27]!==I||e[28]!==O?(H=O?o.jsx(wt,{sideOffset:14,label:O,side:"bottom",children:I}):I,e[27]=I,e[28]=O,e[29]=H):H=e[29],H}return I}const Hc=pe({stopStreamingLabel:{id:"+yfm/p",defaultMessage:"Stop streaming"},sendPromptLabel:{id:"xfIykB",defaultMessage:"Send prompt"},emptyTextContentLabel:{id:"LCVL2q",defaultMessage:"Message is empty"},textContentTooLongLabel:{id:"kDrqDJ",defaultMessage:"Message is too long"},fileUploadPendingLabel:{id:"Qv7jQN",defaultMessage:"File upload pending"},rateLimitHardBlockLabel:{id:"YhP4bh",defaultMessage:"Messages limit reached"},asyncTaskInProgressLabel:{id:"a959Km",defaultMessage:"Disabled"},bigBoxSubmitShortcutWindows:{id:"v8kTwt",defaultMessage:"Ctrl + Enter to send"},bigBoxSubmitShortcutMac:{id:"DC5el0",defaultMessage:"â Enter to send"}}),zde=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M2.66827 13.3333C2.66827 12.9661 2.96604 12.6683 3.33331 12.6683C3.70058 12.6683 3.99835 12.9661 3.99835 13.3333C3.99835 14.1511 4.00404 14.4299 4.06085 14.6419L4.09601 14.7591C4.29253 15.3357 4.76513 15.7798 5.3587 15.9388L5.53741 15.973C5.74347 15.9985 6.05337 16.0013 6.66632 16.0013C7.03348 16.0013 7.33118 16.2992 7.33136 16.6663C7.33136 17.0336 7.03359 17.3314 6.66632 17.3314C6.02598 17.3314 5.5659 17.336 5.17706 17.2611L5.01397 17.224C3.99008 16.9496 3.17607 16.1826 2.83722 15.1878L2.77569 14.9857C2.66221 14.5619 2.66827 14.0654 2.66827 13.3333ZM16.0013 13.3333C16.0013 12.9662 16.2992 12.6685 16.6663 12.6683C17.0336 12.6683 17.3314 12.9661 17.3314 13.3333C17.3314 13.9742 17.3361 14.4345 17.261 14.8236L17.2239 14.9857C16.9496 16.0096 16.1825 16.8236 15.1878 17.1624L14.9857 17.224C14.6679 17.3091 14.3093 17.3267 13.8411 17.3304L13.3333 17.3314L13.1995 17.3177C12.8964 17.2558 12.6683 16.9878 12.6683 16.6663C12.6684 16.2992 12.9661 16.0013 13.3333 16.0013L13.8528 16.0003C14.2862 15.9961 14.4829 15.9814 14.6419 15.9388L14.7591 15.9037C15.3355 15.7071 15.7796 15.2353 15.9388 14.6419L15.973 14.4632C15.9986 14.2571 16.0013 13.9471 16.0013 13.3333ZM10.8333 11.0013L10.9671 11.015C11.2702 11.0769 11.4982 11.345 11.4983 11.6663C11.4983 11.9878 11.2702 12.2558 10.9671 12.3177L10.8333 12.3314H7.5003C7.13303 12.3314 6.83526 12.0336 6.83526 11.6663C6.83544 11.2992 7.13314 11.0013 7.5003 11.0013H10.8333ZM12.5003 7.6683L12.6341 7.68197C12.9371 7.74402 13.1653 8.01202 13.1653 8.33334C13.1653 8.65466 12.9371 8.92265 12.6341 8.9847L12.5003 8.99838H7.5003C7.13303 8.99838 6.83526 8.70061 6.83526 8.33334C6.83526 7.96607 7.13303 7.6683 7.5003 7.6683H12.5003ZM2.66827 6.66635C2.66827 5.93436 2.66215 5.43774 2.77569 5.014L2.83722 4.81185C3.17614 3.81725 3.99014 3.05007 5.01397 2.77572L5.17706 2.73861C5.56589 2.66371 6.02602 2.6683 6.66632 2.6683C7.03359 2.6683 7.33136 2.96607 7.33136 3.33334C7.33136 3.70061 7.03359 3.99838 6.66632 3.99838C6.05341 3.99838 5.74347 4.00115 5.53741 4.0267L5.3587 4.06088C4.76493 4.21998 4.29241 4.66465 4.09601 5.24154L4.06085 5.35873C4.00412 5.5707 3.99835 5.84919 3.99835 6.66635C3.99835 7.03361 3.70058 7.33138 3.33331 7.33138C2.96604 7.33138 2.66827 7.03361 2.66827 6.66635ZM16.0013 6.66635C16.0013 6.0534 15.9985 5.7435 15.973 5.53744L15.9388 5.35873C15.7797 4.76516 15.3357 4.29256 14.7591 4.09603L14.6419 4.06088C14.4829 4.01826 14.2861 4.0046 13.8528 4.00033L13.3333 3.99838L13.1995 3.9847C12.8964 3.92277 12.6683 3.65477 12.6683 3.33334C12.6683 2.96607 12.966 2.6683 13.3333 2.6683L13.8411 2.66928C14.3092 2.673 14.6679 2.69063 14.9857 2.77572L15.1878 2.83724C16.1825 3.1761 16.9495 3.9901 17.2239 5.014L17.261 5.17709C17.336 5.56593 17.3314 6.02601 17.3314 6.66635C17.3314 7.03361 17.0336 7.33138 16.6663 7.33138C16.2992 7.33121 16.0013 7.03351 16.0013 6.66635Z"})),JAt=Object.freeze(Object.defineProperty({__proto__:null,default:zde},Symbol.toStringTag,{value:"Module"})),fft=({textdocId:t,userCreatedTextdoc:e,isCanvasOpen:n=!1,isFocused:r=!1})=>o.jsxs("div",{className:"group/file-tile relative",children:[o.jsx("button",{onClick:()=>{Qoe.removeTempTextdoc(t),Rj()},className:"dark:border-token-main-surface-secondary absolute -start-1 -top-1 z-10 hidden rounded-full border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white group-hover/file-tile:block dark:bg-white dark:text-black",children:o.jsx(lr,{className:"icon-xs"})}),o.jsx(CQe,{textdocId:t,clientThreadId:void 0,name:e.title,tag:e.type,icon:o.jsx(zde,{className:"icon"}),size:"small",isCanvasOpen:n,isFocused:r,isInlinePreview:!0,isInferring:e.status===Qs.INFERRING,onClick:()=>rc(t),children:o.jsx("div",{className:U("px-4 whitespace-pre",jh(e.type)&&"font-mono"),children:e.content})})]}),mft=({textdocId:t,userCreatedTextdoc:e})=>{const n=Dj(t),r=$5();return o.jsx(fft,{textdocId:t,userCreatedTextdoc:e,isFocused:n,isCanvasOpen:r})};function pft({selectedApp:t}){const e=Z(),n=pe({removeItem:{id:"WorkWithAppsTile.removeItem",defaultMessage:"Remove"}});return o.jsxs("div",{className:"group border-token-border-default bg-token-main-surface-primary text-token-text-primary relative inline-block rounded-xl border p-2 text-sm",children:[o.jsxs("div",{className:"grid h-full grid-cols-[auto_1fr] items-center gap-2",children:[o.jsx("div",{className:"icon relative overflow-hidden",children:o.jsx(hft,{app:t,className:"h-full w-full"})}),o.jsx("div",{className:"truncate font-semibold",children:vft(t.name)})]}),o.jsx("button",{className:"dark:border-token-main-surface-secondary absolute end-1 top-1 translate-x-1/2 -translate-y-1/2 rounded-full border-[3px] border-[#f4f4f4] bg-black p-[2px] text-white transition-colors dark:bg-white dark:text-black",children:o.jsx(wt,{label:e.formatMessage(n.removeItem),side:"top",children:o.jsx(lr,{className:"icon-xs"})})})]})}const gft=o.jsx("span",{className:"pe-2 text-2xl",children:o.jsx(N,{id:"WorkWithAppsTile.defaultIcon",defaultMessage:"ð"})});function hft({app:t,className:e}){const[n,r]=g.useState(null);return g.useEffect(()=>{if(!t||!t.icon){r(null);return}const s=new Blob([t.icon.data],{type:t.icon.mimeType}),a=URL.createObjectURL(s);return r(a),()=>{URL.revokeObjectURL(a)}},[t]),n?o.jsx("img",{src:n,alt:"",className:e}):gft}function vft(t){if(!t)return"";if(t.length<=32)return t;const n=t.substring(0,20),r=t.substring(t.length-9);return"".concat(n,"...").concat(r)}function yft(t){if(t.length!==1)return!1;const{file:e,fileId:n}=t[0],r=Li(e)&&!!(e!=null&&e.type)&&e.type.startsWith("image/"),s=n!=null&&!!e&&uc(e.name);return r||s}function XAt(t){"use forget";const e=ee.c(34),{files:n,selectedApps:r,className:s,activeSystemHintType:a,disableEditButton:i,forceSmallView:l}=t;let c;e[0]!==r?(c=r===void 0?[]:r,e[0]=r,e[1]=c):c=e[1];const u=c,d=i===void 0?!1:i,f=l===void 0?!1:l,m=Us(),p=jf(),h=yk.useStore(),{updateSystemHint:v}=Qo(),{clientThreadId:y}=r1(),x=Yt(wn);let b;e[2]!==n?(b=yft(n),e[2]=n,e[3]=b):b=e[3];const _=b,w=!d&&_&&a!==we.PictureV2,S=Iqe();let k;e[4]!==S?(k=S.map(bft),e[4]=S,e[5]=k):k=e[5];let M;e[6]!==u?(M=u.map(xft),e[6]=u,e[7]=M):M=e[7];let E;if(e[8]!==y||e[9]!==n||e[10]!==f||e[11]!==x||e[12]!==m||e[13]!==h||e[14]!==w||e[15]!==_||e[16]!==p||e[17]!==v){let j;e[19]!==y||e[20]!==f||e[21]!==x||e[22]!==m||e[23]!==h||e[24]!==w||e[25]!==_||e[26]!==p||e[27]!==v?(j=A=>{var I;return o.jsx(Kce,{borderRadius:"2xl",width:m?"normal":"wide",onRemoveFileClick:()=>{Hl.remove(p,A.tempId,"none"),h.removeFile(A.tempId)},useLargeImageThumbnailStyle:_&&!x&&!f,onImageEditClick:w?()=>{v(we.PictureV2,{clientThreadId:y})}:void 0,file:A.file,fileId:(I=A.fileId)!=null?I:void 0,contextConnectorInfo:A.contextConnectorInfo,loadingPercentage:A.status===XQ.Uploading?A.progress:void 0},A.tempId)},e[19]=y,e[20]=f,e[21]=x,e[22]=m,e[23]=h,e[24]=w,e[25]=_,e[26]=p,e[27]=v,e[28]=j):j=e[28],E=n.map(j),e[8]=y,e[9]=n,e[10]=f,e[11]=x,e[12]=m,e[13]=h,e[14]=w,e[15]=_,e[16]=p,e[17]=v,e[18]=E}else E=e[18];let T;return e[29]!==s||e[30]!==k||e[31]!==M||e[32]!==E?(T=o.jsxs("div",{className:s,children:[k,M,E]}),e[29]=s,e[30]=k,e[31]=M,e[32]=E,e[33]=T):T=e[33],T}function xft(t){return o.jsx(pft,{selectedApp:t},t.id)}function bft(t){return o.jsx(mft,{textdocId:t.tempTextdocId,userCreatedTextdoc:t},t.tempTextdocId)}const ePt=t=>{"use forget";const e=ee.c(4),{replyRegions:n}=t;let r;e[0]!==n?(r=n.map(Sft),e[0]=n,e[1]=r):r=e[1];let s;return e[2]!==r?(s=o.jsx("div",{className:"divide-token-border-default bg-token-main-surface-primary mx-1 mt-1 flex cursor-auto flex-col divide-y overflow-hidden rounded-t-[24px] rounded-b-lg",children:r}),e[2]=r,e[3]=s):s=e[3],s};function Cft(t){"use forget";const e=ee.c(8),{value:n,onRemoveRegion:r}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=o.jsx(EA,{children:o.jsx(Rr,{className:"icon"})}),e[0]=s):s=e[0];const a="â".concat(n,"â");let i;e[1]!==a?(i=o.jsx(jA,{children:a}),e[1]=a,e[2]=i):i=e[2];let l;e[3]!==r?(l=o.jsx(kA,{onClick:r}),e[3]=r,e[4]=l):l=e[4];let c;return e[5]!==i||e[6]!==l?(c=o.jsxs(MA,{className:"text-token-text-secondary",children:[s,i,l]}),e[5]=i,e[6]=l,e[7]=c):c=e[7],c}function _ft(t){"use forget";const e=ee.c(8),{value:n,onRemoveRegion:r}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=o.jsx(EA,{children:o.jsx(Rr,{className:"icon"})}),e[0]=s):s=e[0];let a;e[1]!==n?(a=o.jsx(jA,{className:"font-semibold",children:n}),e[1]=n,e[2]=a):a=e[2];let i;e[3]!==r?(i=o.jsx(kA,{onClick:r}),e[3]=r,e[4]=i):i=e[4];let l;return e[5]!==a||e[6]!==i?(l=o.jsxs(MA,{className:"text-blue-400",children:[s,a,i]}),e[5]=a,e[6]=i,e[7]=l):l=e[7],l}function wft(t){"use forget";const e=ee.c(10),{value:n,icon:r,onRemoveRegion:s}=t;let a;e[0]!==r?(a=o.jsx(EA,{className:"mt-0",children:r}),e[0]=r,e[1]=a):a=e[1];let i;e[2]!==n?(i=o.jsx(jA,{className:"text-token-text-primary font-semibold",children:n}),e[2]=n,e[3]=i):i=e[3];let l;e[4]!==s?(l=o.jsx(kA,{onClick:s}),e[4]=s,e[5]=l):l=e[5];let c;return e[6]!==a||e[7]!==i||e[8]!==l?(c=o.jsxs(MA,{children:[a,i,l]}),e[6]=a,e[7]=i,e[8]=l,e[9]=c):c=e[9],c}function kA(t){"use forget";const e=ee.c(6),{onClick:n}=t,r=Z();let s;e[0]!==r?(s=r.formatMessage({id:"PlVqJ1",defaultMessage:"Remove"}),e[0]=r,e[1]=s):s=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx(lr,{className:"icon"}),e[2]=a):a=e[2];let i;return e[3]!==n||e[4]!==s?(i=o.jsx("button",{onClick:n,type:"button",className:"text-token-text-secondary flex h-9 w-9 shrink-0 items-center justify-center","aria-label":s,children:a}),e[3]=n,e[4]=s,e[5]=i):i=e[5],i}var iK;const MA=Ge.div(iK||(iK=qe(["bg-token-main-surface-secondary dark:bg-token-main-surface-tertiary flex items-start py-1 gap-1.5 px-1.5 text-sm"])));var lK;const EA=Ge.span(lK||(lK=qe(["shrink-0 w-9 h-9 flex justify-center items-center"])));var cK;const jA=Ge.span(cK||(cK=qe(["flex-1 line-clamp-3 py-2"])));function Sft(t,e){switch(t.type){case"text":return o.jsx(Cft,{value:t.value,onRemoveRegion:t.onRemoveRegion},e);case"object":return o.jsx(_ft,{value:t.value,onRemoveRegion:t.onRemoveRegion},e);case"mention":case"system_hint":return o.jsx(wft,{value:t.value,icon:t.icon,onRemoveRegion:t.onRemoveRegion},e)}return null}function kft({scriptSrc:t}){const e=g.useContext(fc);return o.jsx("script",{nonce:e.cspScriptNonce,suppressHydrationWarning:!0,children:t})}const Mft="_fallbackTextarea_4ajk2_2",hG={"prosemirror-parent":"_prosemirror-parent_4ajk2_2",fallbackTextarea:Mft},tPt=({composerController:t,placeholder:e,disableAutoFocus:n=!1,textareaMaxHeightClassName:r="max-h-[max(35svh,5rem)]",fontSize:s="base"})=>{"use forget";const a=g.useRef(null),i=g.useRef(null),l=g.useRef(!1),c=q(),u=T6e(c),d=at(u.composer.autofocusDisabled$),f=g.useRef(n||d);return Rn(()=>{if(l.current||!a.current)return;const m=Ht(t);l.current=!0;const p=i.current;if(p!=null){const{value:h,selectionStart:v,selectionEnd:y}=p;m.dispatch(m.state.tr.insertText(h)),m.dispatch(m.state.tr.setSelection(eJ.create(m.state.doc,v+1,y+1))),p.style.display="none",p.value=""}a.current.appendChild(m.dom),m.dom.id=ph,m.dom.dataset.virtualkeyboard="true",dPe(m.dom),f.current||Zo(Ht(t))},[t]),g.useEffect(()=>{const m=a.current;if(!m)return;const p=Ht(t);return c1({target:p.dom,axis:"height",onChange:({height:h,previousHeight:v})=>{if(ic(()=>AP(t))&&v!=null&&h>v)return;const y=document.createElement("span");y.textContent="Â ",y.inert=!0;const x=getComputedStyle(p.dom);for(const _ of["font-size","line-height","padding-top","padding-bottom"])y.style.setProperty(_,x.getPropertyValue(_));y.style.position="absolute",m.appendChild(y);const b=y.offsetHeight;m.removeChild(y),AP.set(t,h>b)}})},[t]),g.useEffect(()=>{N6e(Ht(t),e)},[e,t]),g.useEffect(()=>{ve.addFirstTiming("chatgpt.web.chatPage.prompttextarea.modern.mounted")},[]),o.jsxs("div",{ref:a,onKeyDown:()=>{tJ.postTask(()=>{ar.prefetch()},{priority:"background"})},className:U([hG["prosemirror-parent"],"text-token-text-primary",r,"max-h-52","flex-1 overflow-auto [scrollbar-width:thin]",JQ()?"firefox":"default-browser"],"vertical-scroll-fade-mask"),"data-size":s!=="base"?s:void 0,children:[o.jsx("textarea",{className:hG.fallbackTextarea,name:ph,autoFocus:!f.current,placeholder:e,ref:i,"data-virtualkeyboard":!0}),o.jsx(kft,{scriptSrc:"window.__oai_logHTML?window.__oai_logHTML():window.__oai_SSR_HTML=window.__oai_SSR_HTML||Date.now();requestAnimationFrame((function(){window.__oai_logTTI?window.__oai_logTTI():window.__oai_SSR_TTI=window.__oai_SSR_TTI||Date.now()}))"})]})},Eft=4,Gde=.0025;function nPt(n){var r=n,{composerController:t}=r,e=de(r,["composerController"]);const{waveformData$:s}=ade(t),a=at(s);return a?o.jsx(jft,C({waveform:a},e)):null}function jft({waveform:t,progressPercentage:e,barWidth:n=Eft,normalize:r=!1,scaleFactor:s=10,initialValue:a=Gde,silentColor:i,activeColor:l,className:c}){const u=g.useRef(null),d=ga(),f=i!=null?i:d?"#000":"#CCC",m=l!=null?l:d?"#CCC":"#000",[p,h]=g.useState(300);g.useEffect(()=>{u.current&&h(u.current.clientWidth)},[]);const{soundBars:v,firstAudioBarIndex:y}=g.useMemo(()=>{const x=t.length,b=Math.floor(p/n),_=x/b;let w=-1;const S=[];for(let M=0;M<b;M++){const E=Math.floor(M*_),T=Math.min(Math.floor((M+1)*_),x);if(E>=T){S.push(0);continue}let j=0;for(let I=E;I<T;I++)j+=Math.abs(t[I]);const A=j/(T-E);w===-1&&A>a&&(w=M),S.push(A)}let k=S;if(r){const E=1/(Math.max(...k)||1);k=k.map(T=>{const j=T*E;return Math.max(Math.min(j,.92),.08)})}return{soundBars:k,firstAudioBarIndex:w}},[t,p,n,r,a]);return g.useEffect(()=>{const x=u.current,b=x==null?void 0:x.getContext("2d");if(!x||!b)return;const _=window.devicePixelRatio,{clientHeight:w,clientWidth:S}=x;x.width=S*_,x.height=w*_,b.clearRect(0,0,x.width,x.height);const k=w*_*.5;b.translate(0,k);const M=x.width/v.length;for(let E=0;E<v.length;E++){let T=v[E];r||(T*=s);const j=T*k,A=E*M;if(typeof e=="number"){const L=(v.length-E)/v.length<e;b.fillStyle=L?m:f}else{const I=y===-1||E<y?f:m;b.fillStyle=I}b.fillRect(A,-j,M/2,j*2)}},[v,p,f,m,r,s,y,e]),o.jsx("canvas",{ref:u,className:U("h-8 w-full",c)})}const rPt=300,sPt=async(t=1)=>{let e=0,n;return new Promise(r=>{const s=a=>(n||(n=a),a-n<t*1e3?(e+=1,requestAnimationFrame(s)):r(Math.floor(e/t)));requestAnimationFrame(s)})},aPt=t=>{const e=g.useRef(t),n=g.useCallback(r=>{(e.current[0]!==r.width||e.current[1]!==r.height)&&(e.current=[r.width,r.height])},[]);return{canvasSizeRef:e,handleCanvasSizeUpdate:n}},oPt=t=>{var i,l,c,u,d,f,m,p,h;const{voiceSessionId:e,server:n,voiceMode:r,audioInputDevice:s,voiceStatus:a}=t;return{voice_session_id:e!=null?e:"(none)",server_messages:n.messages.map(v=>v.type).join(","),rate_limit_message:(l=JSON.stringify((i=n.usage)==null?void 0:i.rate_limit_message))!=null?l:"(none)",audio_s:(u=(c=n.usage)==null?void 0:c.audio_s)!=null?u:"(none)",tool_update:(f=(d=n.toolUpdate)==null?void 0:d.type)!=null?f:"(none)",voice_connection_quality:(m=n.voiceConnectionQuality)!=null?m:"(none)",voice_mode:r!=null?r:"(none)",audio_input_device:(p=s==null?void 0:s.label)!=null?p:"(none)",voice_status:(h=JSON.stringify(a))!=null?h:"(none)"}};function Wde(t){return t instanceof DOMException&&t.name==="NotAllowedError"?(Gt.permissions.denied({message:t.message}),!0):!1}const wp=class wp{constructor(){Q(this,"userMediaPromiseMap",new Map)}static getLocalDevices(e,n=!0){return wp.instance.getDevices(e,n)}async getDevices(e,n=!0){if(this.userMediaPromiseMap.size>0)try{e?await this.userMediaPromiseMap.get(e):await Promise.all(Array.from(this.userMediaPromiseMap.values()))}catch(s){console.warn("error waiting for media permissions",s)}let r=await navigator.mediaDevices.enumerateDevices();if(n&&!(A6e()&&this.hasDeviceInUse(e))&&(r.filter(a=>a.kind===e).length===0||r.some(a=>{const i=a.label==="",l=e?a.kind===e:!0;return i&&l}))){const a={video:e!=="audioinput"&&e!=="audiooutput",audio:e!=="videoinput"},i=await navigator.mediaDevices.getUserMedia(a);r=await navigator.mediaDevices.enumerateDevices(),i.getTracks().forEach(l=>{l.stop()})}return e&&(r=r.filter(s=>s.kind===e)),r}hasDeviceInUse(e){return e?this.userMediaPromiseMap.has(e):this.userMediaPromiseMap.size>0}};Q(wp,"instance",new wp);let wk=wp;async function Tft(t){let e;try{e=await wk.getLocalDevices(t)}catch(s){Wde(s),Du.debug("Error fetching local devices",s);return}const n={};for(const s of e)s.kind===t&&(n[s.groupId]||(n[s.groupId]=[]),n[s.groupId].push(s));for(const s in n){const a=n[s];if(a.length>1&&a.find(l=>l.deviceId==="default")){const l=a.find(c=>c.deviceId!=="default");if(l)return l}}let r;for(const s of e)if(s.kind===t){if(s.deviceId==="default")return s;r||(r=s)}return r}async function Nft(){var a,i;const e=(await navigator.mediaDevices.enumerateDevices()).filter(l=>l.kind==="audioinput"),n=e.find(l=>l.deviceId==="default"),r=e.find(l=>l.label.toLowerCase().includes("iphone")),s=e.find(l=>{const c=!!(r&&r.label!==l.label),u=!!(n&&l.deviceId===n.deviceId);return c||u});return(i=s==null?void 0:s.deviceId)!=null?i:(a=e[0])==null?void 0:a.deviceId}const Aft=()=>{const t=wM()&&Xi;return async()=>{if(t)return await P6e();try{const e=await Nft(),n=await navigator.mediaDevices.getUserMedia({audio:e!==""?{deviceId:{exact:e}}:!0,video:!1}),r=await navigator.mediaDevices.enumerateDevices();return n.getTracks().forEach(a=>a.stop()),r.some(a=>a.kind==="audioinput"&&a.label!=="")}catch(e){if(!Wde(e))throw e;return!1}}};function Pft(t){const e=g.useRef(void 0);g.useEffect(()=>{if(!(wM()&&Xi||!navigator.permissions))return navigator.permissions.query({name:"microphone"}).then(r=>{e.current=r,r.onchange=()=>{t(r.state==="granted")}}).catch(()=>{}),()=>{e.current&&(e.current.onchange=null)}},[t])}const Ift=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(!1),[s,a]=g.useState(),i=g.useCallback(d=>{e(d)},[]);Pft(i);const l=Aft(),c=g.useCallback(async()=>n?t:l().then(d=>(e(d),d)).finally(()=>{r(!0)}),[l,n,t]);return g.useEffect(()=>{t&&Lft().then(d=>{a(d)})},[t]),{permissionsRequested:n,requestMicrophonePermissions:c,userDeclinedMicrophonePermissions:n&&!t,microphoneAvailable:t,microphoneLabel:s}},Lft=async()=>{var t;try{const e=await Tft("audioinput");return(t=e==null?void 0:e.label)!=null?t:""}catch(e){const n=iE();return ve.addError("Failed to fetch default media device",{error:e,protocol:n}),"Error accessing microphone devices"}},Rft={status:"idle"},Oft=Rt()(k0(Sn(()=>C({},Rft)))),Zde=U("flex items-center justify-center rounded-full"),Kde=U(Zde,"border border-token-border-default p-1 text-token-text-secondary","focus-visible:outline-black dark:text-token-text-secondary dark:focus-visible:outline-white","bg-transparent dark:bg-transparent"),Yde=U("hover:bg-token-main-surface-tertiary"),Qde=U(Zde,"bg-transparent text-token-text-secondary transition-colors","hover:bg-token-main-surface-tertiary focus-visible:outline-black","disabled:text-[#f4f4f4] disabled:opacity-30","dark:bg-transparent dark:text-token-text-secondary dark:hover:bg-token-main-surface-tertiary dark:focus-visible:outline-white","h-8 w-8"),Dft=t=>{const{requestMicrophonePermissions:e}=Ift(),r=Z().formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),s=Tt();return async()=>{if(B.logEvent("Whisper on Web/Windows: Clicked to start dictation"),Le.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await e())return s.danger(r,{toastId:"whisper_icon_button_click_failure"});t()}},Fft=c=>{var u=c,{size:t="medium",disabled:e,onExit:n,buttonClassName:r,invertColor:s,disableTooltip:a=!1,visualTreatment:i}=u,l=de(u,["size","disabled","onExit","buttonClassName","invertColor","disableTooltip","visualTreatment"]);const d=Z(),f=Oft(v=>v.status),m=Dft(n);f==="error"&&(B.logEvent("Whisper on Web/Windows: Error"),Le.logEvent("chatgpt_composer_whisper_button_error"));const p=o.jsx(LN,{"aria-label":"",className:"icon",fontSize:"inherit"}),h=Yt(wn);return o.jsx(Bft,{disabled:a,children:i==="composer-btn"||i==="codex"?o.jsx("button",P(C({},l),{"aria-label":d.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),type:"button",onClick:m,disabled:e,className:U("composer-btn",h&&"composer-btn--desktopSidebar"),children:p})):o.jsx(oe,P(C({},l),{"aria-label":d.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:t,type:"button",onClick:m,disabled:e,className:U(s?Qde:Kde,"[view-transition-name:var(--vt-composer-whisper-button)]",e?"opacity-30":!s&&Yde,"dark:hover:bg-transparent dark:hover:opacity-100",r),children:p}))})};function Bft({children:t,disabled:e=!1}){const n=Z();return o.jsx(wt,{open:e?!1:void 0,label:n.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"bottom",onOpenChange:r=>{r&&(B.logEvent("Whisper on Web/Windows: Button hover to see tooltip"),Le.logEvent("chatgpt_composer_whisper_button_hovered"))},children:t})}function Uft(t){const e=q();return Et(e)?o.jsx(Fft,C({},t)):null}function Hft(t){return t.visualTreatment==="codex"?o.jsxs("div",{className:"flex gap-x-1.5",children:[o.jsx(oe,{type:"button",color:"ghost",size:"small",icon:lr,children:o.jsx(N,{id:"wham.whisperModeControlsLoading.cancel",defaultMessage:"Cancel"})}),o.jsx(oe,{type:"button",color:"secondary",size:"small",icon:Zr,children:o.jsx(N,{id:"wham.whisperModeControlsLoading.done",defaultMessage:"Done"})})]}):o.jsxs("div",{className:"flex gap-x-1.5",children:[o.jsx("div",{className:U(Kde,Yde,t.buttonClassName),children:o.jsx(lr,{className:"icon"})}),o.jsx("div",{className:U(Qde,t.buttonClassName),children:o.jsx(Zr,{className:"icon-lg"})})]})}const Vft=Je(()=>Ve(()=>import("./l8txpulguntosk7u.js"),__vite__mapDeps([131,1,4,5])).then(t=>t.WhisperModeControls),{loading:t=>o.jsx(Hft,C({},t))});function $ft(t){return o.jsx(Vft,C({},t))}function iPt({composerController:t,composerType:e}){const{waveformData$:n,isWhisperActive$:r}=ade(t),s=at(r),a=g.useCallback((i,l,c,u)=>{if(!(t instanceof nJ))return;const d=Ht(t),f=d.state.selection.ranges[0].$from.pos;r.set(!1),requestAnimationFrame(()=>{d.focus(),d.dispatch(d.state.tr.insertText(i,f,f)),d.dispatch(d.state.tr.setSelection(eJ.create(d.state.doc,f+i.length)).scrollIntoView()),zut(t).setData({usedDictation:!0,dictationOriginalText:i!=null?i:null,dictationAssetPointer:l!=null?l:null,dictationAssetTTL:c!=null?c:null,dictationAssetFormat:u!=null?u:null})})},[t,r]);return s?o.jsx($ft,{initialValue:Gde,onSuccess:a,onWaveformDataUpdate:n.set,onExit:()=>{r.set(!1)},visualTreatment:e,buttonClassName:"h-9 min-h-9 w-9 min-w-9"}):o.jsx(Uft,{size:"small",onExit:()=>{r.set(!0)},visualTreatment:e,buttonClassName:"h-9 min-h-9 w-9 min-w-9"})}const Jde=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.5707 2.18424C16.2172 1.91495 16.9523 2.08245 17.435 2.5651L17.5268 2.66568C17.9375 3.14611 18.0672 3.826 17.8159 4.42936L17.7563 4.55729C17.0247 5.96929 16.1512 7.19856 15.0952 8.3024C16.1595 9.60343 16.9544 10.9444 17.2817 12.194C17.6271 13.513 17.4625 14.8113 16.4604 15.7526L16.2495 15.9362C15.3041 16.6925 14.2397 16.5972 13.3676 16.237C12.5149 15.8847 11.7507 15.2494 11.2192 14.736C10.9554 14.4808 10.9486 14.0606 11.2036 13.7965C11.4587 13.5324 11.8788 13.5249 12.143 13.7799C12.632 14.2522 13.253 14.7503 13.8754 15.0075C14.4786 15.2566 14.9814 15.2476 15.4184 14.8981L15.5356 14.7965C16.0972 14.2758 16.2587 13.5358 15.9955 12.5309C15.7402 11.556 15.0942 10.4153 14.1352 9.22721C13.6183 9.68612 13.0635 10.1247 12.4653 10.5446L12.3276 10.3483V10.3493L12.4653 10.5446C12.4206 10.5759 12.3723 10.5979 12.3237 10.6169C12.2889 11.2362 12.0961 11.7532 11.7455 12.1569C11.3661 12.5938 10.8613 12.8333 10.3657 12.9684C9.41524 13.2274 8.24067 13.1569 7.50824 13.1569C7.14097 13.1569 6.8432 12.8591 6.8432 12.4919C6.84319 11.7594 6.77269 10.5849 7.03168 9.63443C7.16676 9.13878 7.40626 8.63402 7.8432 8.25455C8.24673 7.90413 8.76328 7.71035 9.38226 7.67545C9.40122 7.62702 9.42432 7.57929 9.45551 7.53482C9.82484 7.00868 10.2088 6.51626 10.6078 6.05338C8.18682 4.65714 5.77692 4.65583 4.43597 5.83951L4.30121 5.96744C3.44402 6.82463 3.12263 8.16037 3.41547 9.72232C3.70763 11.2805 4.60535 12.9913 6.06879 14.4547L6.39594 14.7672C7.16606 15.4689 7.96602 15.9748 8.63617 16.3131C9.01862 16.5062 9.35331 16.6421 9.60883 16.7282C9.75074 16.776 9.85238 16.8021 9.91644 16.8171L10.0004 16.8356L10.1342 16.8483C10.4374 16.9102 10.6655 17.1792 10.6655 17.5006C10.6653 17.8219 10.4372 18.0901 10.1342 18.152L10.0004 18.1657L9.81976 18.151C9.62747 18.1242 9.40328 18.0615 9.185 17.9879C8.8651 17.8802 8.47125 17.7191 8.03656 17.4997C7.27643 17.1159 6.37221 16.545 5.49945 15.7497L5.12836 15.3952C3.50015 13.767 2.45549 11.8215 2.10785 9.96744C1.76097 8.11721 2.10269 6.28511 3.36078 5.02701L3.55902 4.83951C5.56925 3.05673 8.8026 3.3871 11.5366 5.05924C12.6813 3.93293 13.9621 3.01097 15.4428 2.24381L15.5707 2.18424ZM9.58734 8.99869C9.1331 8.9987 8.8763 9.11869 8.71527 9.25846C8.54385 9.40733 8.40833 9.64114 8.31488 9.98404C8.16637 10.529 8.16105 11.1743 8.16742 11.8327C8.82581 11.839 9.47111 11.8337 10.0161 11.6852C10.359 11.5918 10.5928 11.4563 10.7416 11.2848C10.8814 11.1238 11.0014 10.867 11.0014 10.4128C11.0014 9.63161 10.3685 8.99869 9.58734 8.99869ZM16.4946 3.5065C16.3821 3.39404 16.2306 3.36368 16.1059 3.40396L16.0551 3.42447C13.9314 4.52482 12.2583 5.96237 10.7944 7.95084C11.3392 8.21844 11.7804 8.6601 12.0483 9.20475C14.0368 7.74085 15.4753 6.06968 16.5756 3.94596L16.5971 3.8942C16.6315 3.78742 16.6139 3.66095 16.5375 3.55631L16.4946 3.5065Z"})),lPt=Object.freeze(Object.defineProperty({__proto__:null,default:Jde},Symbol.toStringTag,{value:"Module"})),qft=Be({id:"imageGenEditor.transformationTextareaPlaceholder",defaultMessage:"Describe what you want to add, remove or replaceâ¦"}),zft=Be({id:"imageGenEditor.transformationTextareaPlaceholderShort",defaultMessage:"Describe your editâ¦"}),Sk="image",cPt=({image:t,currentDrawnShape:e,onCleared:n,getImageData:r})=>{const s=Z(),{setTargetedContent:a}=L4(),i=Tt(),c=ha()?qft:zft;g.useEffect(()=>(e==null?a({type:"object",subtype:Sk,placeholderTextOverride:c,shouldPersistAcrossMessages:!0,isFocusedViewContent:!1,createNewCompletionParams:u=>tut(u,t)}):a({type:"object",subtype:Sk,placeholderTextOverride:c,isFocusedViewContent:!1,createNewCompletionParams:async u=>await rut(u,t,r(),s,i),onCleared:n}),()=>{a(void 0)}),[e,r,t,s,n,a,i,c])},Xde={cyberpunk:{id:"cyberpunk",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/cyberpunk.webp",label:Be({id:"EoebyJ",defaultMessage:"Cyberpunk"}),textToImagePrompt:Be({id:"Deq9he",defaultMessage:"Create an image in a cyberpunk aesthetic: vivid neon accents, futuristic textures, glowing details, and high-contrast lighting."}),imageToImagePrompt:Be({id:"omZTK1",defaultMessage:"Restyle this image with a cyberpunk aesthetic: vivid neon accents, futuristic textures, glowing details, and high-contrast lighting."})},"coloring-book":{id:"coloring-book",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/coloring-book.webp",label:Be({id:"Ma5v0R",defaultMessage:"Coloring Book"}),textToImagePrompt:Be({id:"PWjYK/",defaultMessage:"Create an image in a children's coloring book style: bold, even black outlines on white, no shading or tone. Simplify textures into playful, easily recognizable shapes."}),imageToImagePrompt:Be({id:"U6fwpJ",defaultMessage:"Restyle this image in a children's coloring book style: bold, even black outlines on white, no shading or tone. Simplify textures into playful, easily recognizable shapes."})},anime:{id:"anime",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/anime.webp",label:Be({id:"U/Qrsc",defaultMessage:"Anime"}),textToImagePrompt:Be({id:"gCogZd",defaultMessage:"Create an image in a detailed anime aesthetic: expressive eyes, smooth cel-shaded coloring, and clean linework. Emphasize emotion and character presence, with a sense of motion or atmosphere typical of anime scenes."}),imageToImagePrompt:Be({id:"jZIKG9",defaultMessage:"Restyle this image with a detailed anime aesthetic: expressive eyes, smooth cel-shaded coloring, and clean linework. Emphasize emotion and character presence, with a sense of motion or atmosphere typical of anime scenes."})},"classic-anime":{id:"classic-anime",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/classic-anime.webp",label:Be({id:"jLkVYJ",defaultMessage:"Classic Anime"}),textToImagePrompt:Be({id:"7SgRKH",defaultMessage:"Create an image in a classic 2D anime style with flat cel shading, clear black outlines, and stylized charactersâmixing realism with fantasy in a heartfelt, nostalgic tone."}),imageToImagePrompt:Be({id:"r6UnyO",defaultMessage:"Restyle this image in a classic 2D anime style with flat cel shading, clear black outlines, and stylized charactersâmixing realism with fantasy in a heartfelt, nostalgic tone."})},"dramatic-headshot":{id:"dramatic-headshot",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/dramatic-headshot.webp",label:Be({id:"p4IJX5",defaultMessage:"Dramatic Headshot"}),textToImagePrompt:Be({id:"L2OTSr",defaultMessage:"Create an ultra-realistic high-contrast black-and-white headshot, close up, black shadow background, 35mm lens, 4K quality, aspect ratio 4:3."}),imageToImagePrompt:Be({id:"HwR32X",defaultMessage:"Restyle this photo into a high-contrast black-and-white headshot, close up, black shadow background, 35mm lens, 4K quality, aspect ratio 4:3."})},"photo-shoot":{id:"photo-shoot",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/photo-shoot.webp",label:Be({id:"ZmdPZ5",defaultMessage:"Photo Shoot"}),textToImagePrompt:Be({id:"APWtsI",defaultMessage:"Create an ultra-realistic professional photo shoot with soft lighting."}),imageToImagePrompt:Be({id:"ugvh1K",defaultMessage:"Make a professional photo shoot with soft lighting based on this photo."})},"retro-cartoon":{id:"retro-cartoon",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/retro-cartoon.webp",label:Be({id:"GAjF4n",defaultMessage:"Retro Cartoon"}),textToImagePrompt:Be({id:"46xB6P",defaultMessage:"Create a retro 1950s cartoon style image, minimal vector art, Art Deco inspired, clean flat colors, geometric shapes, mid-century modern design, elegant silhouettes, UPA style animation, smooth lines, limited color palette (black, red, beige, brown, white), grainy paper texture background, vintage jazz club atmosphere, subtle lighting, slightly exaggerated character proportions, classy and stylish mood."}),imageToImagePrompt:Be({id:"ozicEm",defaultMessage:"Restyle this photo in a retro 1950s cartoon style, minimal vector art, Art Deco inspired, clean flat colors, geometric shapes, mid-century modern design, elegant silhouettes, UPA style animation, smooth lines, limited color palette (black, red, beige, brown, white), grainy paper texture background, vintage jazz club atmosphere, subtle lighting, slightly exaggerated character proportions, classy and stylish mood."})},"80s-glam":{id:"80s-glam",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/80s-glam.webp",label:Be({id:"fDejVt",defaultMessage:"80s Glam"}),textToImagePrompt:Be({id:"W7Od8r",defaultMessage:"Create a selfie styled like a cheesy 1980s mall glamour shot, foggy soft lighting, teal and magenta lasers in the background, feathered hair, shoulder pads, portrait studio vibes, ironic âglam 4 lifeâ caption."}),imageToImagePrompt:Be({id:"sL7kY5",defaultMessage:"Turn this photo into a selfie styled like a cheesy 1980s mall glamour shot, foggy soft lighting, teal and magenta lasers in the background, feathered hair, shoulder pads, portrait studio vibes, ironic âglam 4 lifeâ caption."})},"art-nouveau":{id:"art-nouveau",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/art-nouveau.webp",label:Be({id:"JNecL3",defaultMessage:"Art Nouveau"}),textToImagePrompt:Be({id:"Kdl/EG",defaultMessage:"Create an image in an Art Nouveau style: flowing lines, organic shapes, floral motifs, and soft, decorative elegance."}),imageToImagePrompt:Be({id:"IicReU",defaultMessage:"Restyle this image in an Art Nouveau style: flowing lines, organic shapes, floral motifs, and soft, decorative elegance."})},synthwave:{id:"synthwave",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/synthwave.webp",label:Be({id:"Db9V0o",defaultMessage:"Synthwave"}),textToImagePrompt:Be({id:"t8FH1X",defaultMessage:"Create an image in a synthwave aesthetic: retro-futuristic 1980s vibe with neon grids, glowing sunset, vibrant magenta-and-cyan gradients, chrome highlights, and a nostalgic outrun atmosphere."}),imageToImagePrompt:Be({id:"CnZDU9",defaultMessage:"Restyle this image with a synthwave aesthetic: retro-futuristic 1980s vibe with neon grids, glowing sunset, vibrant magenta-and-cyan gradients, chrome highlights, and a nostalgic outrun atmosphere."})},"tiranga-portrait-2025":{id:"tiranga-portrait-2025",imageUrl:"https://cdn.openai.com/API/images/image-picker-styles/v2/tiranga-portrait-2025.webp",label:Be({id:"eHhV1D",defaultMessage:"Tiranga Portrait"}),textToImagePrompt:Be({id:"V7BzQx",defaultMessage:"Create a photorealistic photo on a clean background with soft key lighting. Add saffron-white-green rim light and a subtle Ashoka Chakra halo behind the head. Blend one soft overlay â Red Fort or India Gate skyline, India map contour, or Ayodhya Ram Mandir silhouette â into the shoulders/background. Include light tricolor bokeh or smoke and a gentle khadi/paper micro-texture. Crisp detail, no text, no flag as clothing."}),imageToImagePrompt:Be({id:"AJ1btA",defaultMessage:'Restyle this photo in a "Tiranga double-exposure" look: preserve identity and pose, add saffron-white-green rim light and a subtle Ashoka Chakra halo. Blend one overlay - Red Fort or India Gate skyline, India map contour, or Ayodhya Ram Mandir silhouette - plus soft tricolor bokeh/smoke and gentle khadi/paper micro-texture. Photo real, balanced saturation. No text, don\'t use the flag as clothing'})}},efe=Object.values(Xde);function uPt({composerController:t}){const e=cE(d=>d.files.some(f=>uc(f.file.name))),{targetedContent:n}=L4(),r=e||(n==null?void 0:n.subtype)===Sk,s=Z(),a=q(),c=_s(a,"3961845717").get("styles",efe.map(d=>d.id)).map(d=>Xde[d]).filter(Boolean);g.useEffect(()=>{B.logEventWithStatsig("chatgpt_imagegen_style_picker_shown","chatgpt_imagegen_style_picker_shown")},[]);const u=g.useCallback(d=>{const f=r?s.formatMessage(d.imageToImagePrompt):s.formatMessage(d.textToImagePrompt);Wft(f,t,s),B.logEventWithStatsig("chatgpt_imagegen_preset_style_selected","chatgpt_imagegen_preset_style_selected",{style_id:d.id})},[t,s,r]);return o.jsxs(e1,{onOpenChange:d=>{d&&B.logEventWithStatsig("chatgpt_imagegen_style_picker_opened","chatgpt_imagegen_style_picker_opened")},children:[o.jsx(Gi,{asChild:!0,children:o.jsxs("button",{type:"button",className:"composer-btn px-2",children:[o.jsx(Jde,{className:"icon"}),o.jsx("span",{className:"ms-1.5 [[data-collapse-labels]_&]:sr-only",children:o.jsx(N,{id:"X850uz",defaultMessage:"Styles"})}),o.jsx(ys,{className:"icon-sm xs:ms-1.5 ms-1"})]})}),o.jsx(t1,{children:o.jsx(X6,{className:"z-[51] max-h-[294px] w-[345px] overflow-y-auto bg-clip-border px-3 py-4",$as:n1,side:"bottom",align:"start",collisionPadding:10,sideOffset:8,children:o.jsx("div",{className:"grid grid-cols-3 gap-x-2 gap-y-4",children:c.map(d=>o.jsx(Gft,{style:d,onClick:()=>u(d)},d.id))})})})]})}function Gft({style:t,onClick:e}){const n=Z();return o.jsxs("button",{onClick:e,className:"hover:bg-token-bg-secondary focus-visible:ring-ring flex flex-col items-center gap-2.5 rounded-md p-1 text-xs focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-none",children:[o.jsx("img",{src:t.imageUrl,alt:n.formatMessage(t.label),className:"aspect-square w-4/5 rounded-full object-cover"}),o.jsx("span",{children:n.formatMessage(t.label)})]})}function Wft(t,e,n){const r=Ht(e),s=tp(e);if(s.trim()===""){I6e(r,t);return}const a=s.toLowerCase();for(const{textToImagePrompt:i,imageToImagePrompt:l}of efe){const u=[n.formatMessage(i),n.formatMessage(l)].map(d=>{const f=a.indexOf(d.toLowerCase());return f===-1?null:{start:f,end:f+d.length}}).filter(Boolean);if(u.length){const d=Math.min(...u.map(p=>p.start)),f=Math.max(...u.map(p=>p.end)),m=s.substring(d,f).trimEnd();L6e(r,m,t);return}}R6e(r,t)}function Zft(){const t=eE(),e=LQ();return t&&e&&RQ()&&oT()}function Kft(t){const i=t,{ref:e,children:n,className:r}=i,s=de(i,["ref","children","className"]),a=Zft();return o.jsx("div",P(C({},s),{className:U(a&&"keyboard-open:fixed keyboard-open:bottom-[var(--screen-keyboard-height,0)] keyboard-open:start-3 keyboard-open:end-3 keyboard-open:z-50 keyboard-open:w-auto! keyboard-open:-translate-y-2",r),ref:l=>{if(typeof e=="function"?e(l):e!=null&&(e.current=l),!!a)return c1({axis:"height",target:l,onChange:({height:c})=>{GUe.setState(u=>P(C({},u),{composerHeight:c}))}})},children:n}))}const dPt=t=>{"use forget";const e=ee.c(44),{viewTransitionName:n,isTemporaryChat:r,isDeveloperMode:s,isNewConversation:a,composerController:i,children:l,expanded:c,onSubmit:u,shouldUseTightRadius:d,canCollapseWithInput:f,canCollapseWithFooterActions:m,expandOnMultilineInput:p,backgroundClassName:h,ariaLabel:v,ref:y}=t,x=n===void 0?"var(--vt-composer)":n,b=d===void 0?!1:d;let _=f===void 0?!1:f,w=m===void 0?!0:m;const S=p===void 0?!1:p,k=Yt(wn);let M=null,E=null,T=null;const j=[],A=[],I=[],L=[];g.Children.forEach(l,Cn=>{if(g.isValidElement(Cn)){if(Cn.type===Yft){if(M!=null)throw new Error("PromptTextareaComposer only accepts a single primary content");M=Cn}if(Cn.type===Qft){if(E!=null)throw new Error("PromptTextareaComposer only accepts a single submit button");E=Cn}else if(Cn.type===Jft){if(T!=null)throw new Error("PromptTextareaComposer only accepts a single leading action");T=Cn}else Cn.type===emt||Cn.type===Xft?j.push(Cn):Cn.type===tmt?A.push(Cn):Cn.type===nmt?I.push(Cn):Cn.type===rmt&&L.push(Cn)}}),S&&(_=!0,w=!1);const O=j.length>0,R=A.length>0,H=R||E!=null,V=_M(),z=q(),$=!Et(z),D=at(()=>!O&&!H?!1:c!=null?c:S&&O6e(i)||!S&&D6e(i)||!_&&!ju(i)||!w&&O),Y=smt,G=Cn=>{Cn.preventDefault(),u(Cn)},[F,X]=g.useState(!1);let te;e[0]===Symbol.for("react.memo_cache_sentinel")?(te=()=>{X(!0),setTimeout(()=>{X(!1)},250)},e[0]=te):te=e[0];const ae=te;let me;e[1]!==F||e[2]!==V?(me=F?{duration:0}:V?Hoe:oqe,e[1]=F,e[2]=V,e[3]=me):me=e[3];const W=me,K=Z();let ne;e[4]!==K?(ne=K.formatMessage({id:"U6PwZd",defaultMessage:"Developer mode"}).toLocaleUpperCase(),e[4]=K,e[5]=ne):ne=e[5];const re=ne,le=s&&!a&&"relative";let fe;e[6]!==le?(fe=U("group/composer w-full",le),e[6]=le,e[7]=fe):fe=e[7];const ge=x!=null?x:void 0;let ye;e[8]!==ge?(ye={viewTransitionName:ge},e[8]=ge,e[9]=ye):ye=e[9];const _e=ye;let Ne;e[10]!==D?(Ne=WQ(D),e[10]=D,e[11]=Ne):Ne=e[11];const Ae="unified-composer",ot=cqe(F6e(i),y),gt=s&&!a&&o.jsx(p0,{href:"#settings/Connectors/Advanced",underline:!1,className:"absolute end-12 top-0 -translate-y-full rounded-t-xl bg-orange-400 px-2 text-xs font-medium text-white transition-colors hover:bg-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500",children:re}),Pe=L.length>0&&o.jsx("div",{className:"hidden",children:L}),Ie=Kft,ct=Cn=>{!UM(i)&&!Cn.defaultPrevented&&(B6e(z).anySheetOpen$()||Zo(Ht(i)))},dt=Se,ce=!0,ke=U("bg-token-bg-primary cursor-text overflow-clip bg-clip-padding p-2.5 contain-inline-size dark:bg-[#303030]","grid grid-cols-[auto_1fr_auto] [grid-template-areas:'header_header_header'_'leading_primary_trailing'_'._footer_.'] group-data-expanded/composer:[grid-template-areas:'header_header_header'_'primary_primary_primary'_'leading_footer_trailing']",k&&"dark:bg-token-bg-primary",r&&"dark",!s&&"shadow-short",s&&"relative shadow-sm outline-2 outline-orange-400",h),Ze=k?"0":b?"var(--radius-xl)":"28px";let lt;e[12]!==Ze?(lt={borderRadius:Ze},e[12]=Ze,e[13]=lt):lt=e[13];const Ye=M;let Xe;e[14]!==D||e[15]!==Ye||e[16]!==W?(Xe=o.jsx(Se.div,{layout:"position",layoutDependency:D,transition:W,className:"-my-2.5 flex min-h-14 items-center overflow-x-hidden px-1.5 [grid-area:primary] group-data-expanded/composer:mb-0 group-data-expanded/composer:px-2.5",children:Ye}),e[14]=D,e[15]=Ye,e[16]=W,e[17]=Xe):Xe=e[17];const ht=T&&o.jsx(Se.div,{layout:"position",layoutDependency:D,transition:W,className:"[grid-area:leading]",children:T}),ft=O&&o.jsx(Se.div,{layout:"position",layoutDependency:D,transition:W,"data-testid":"composer-footer-actions",className:U("-m-1 max-w-full overflow-x-auto p-1 [grid-area:footer] [scrollbar-width:none]",w&&"group-not-data-expanded/composer:-mb-12"),inert:!D,initial:{translateY:D?0:"calc(-6*var(--spacing))"},animate:{translateY:0},children:o.jsx("div",{className:U("flex min-w-fit items-center",$?"gap-1.5 ps-0 pe-1.5":"cant-hover:px-1.5 cant-hover:gap-1.5"),ref:Y,children:j})}),Qe=H&&o.jsxs(Se.div,{layout:"position",layoutDependency:D,transition:W,className:"flex items-center gap-2 [grid-area:trailing]",children:[R&&o.jsx("div",{className:"relative ms-1",children:A}),E]}),Qt=I.length>0&&o.jsx(Se.div,{layout:"position",layoutDependency:D,transition:W,className:"-mx-2.5 -mt-2.5 mb-2.5 flex flex-col [grid-area:header]",children:I});let Jt;e[18]!==D||e[19]!==dt.div||e[20]!==ke||e[21]!==lt||e[22]!==Xe||e[23]!==ht||e[24]!==ft||e[25]!==Qe||e[26]!==Qt||e[27]!==W?(Jt=o.jsxs(dt.div,{layout:ce,layoutDependency:D,transition:W,className:ke,style:lt,children:[Xe,ht,ft,Qe,Qt]}),e[18]=D,e[19]=dt.div,e[20]=ke,e[21]=lt,e[22]=Xe,e[23]=ht,e[24]=ft,e[25]=Qe,e[26]=Qt,e[27]=W,e[28]=Jt):Jt=e[28];let an;e[29]!==Ie||e[30]!==ct||e[31]!==Jt?(an=o.jsx(Ie,{onClick:ct,children:Jt}),e[29]=Ie,e[30]=ct,e[31]=Jt,e[32]=an):an=e[32];let yr;return e[33]!==v||e[34]!==ae||e[35]!==G||e[36]!==fe||e[37]!==_e||e[38]!==Ne||e[39]!==ot||e[40]!==gt||e[41]!==Pe||e[42]!==an?(yr=o.jsxs("form",{onPaste:ae,className:fe,style:_e,"data-expanded":Ne,onSubmit:G,"data-type":Ae,"aria-label":v,ref:ot,children:[gt,Pe,an]}),e[33]=v,e[34]=ae,e[35]=G,e[36]=fe,e[37]=_e,e[38]=Ne,e[39]=ot,e[40]=gt,e[41]=Pe,e[42]=an,e[43]=yr):yr=e[43],yr},Yft=t=>{"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=o.jsx(o.Fragment,{children:n}),e[0]=n,e[1]=r):r=e[1],r},Qft=t=>{"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=o.jsx("div",{className:"ms-auto flex items-center gap-1.5",onPointerDown:amt,children:n}),e[0]=n,e[1]=r):r=e[1],r},Jft=t=>{"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=o.jsx(o.Fragment,{children:n}),e[0]=n,e[1]=r):r=e[1],r},Xft=t=>{"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=n?o.jsx(o.Fragment,{children:n}):null,e[0]=n,e[1]=r):r=e[1],r},emt=t=>{"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=o.jsx("div",{onPointerDown:omt,children:n}),e[0]=n,e[1]=r):r=e[1],r},tmt=t=>{"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=o.jsx("div",{onPointerDown:imt,children:n}),e[0]=n,e[1]=r):r=e[1],r},nmt=t=>{"use forget";const e=ee.c(5),{children:n,width:r}=t,a=(r===void 0?"full":r)==="fit"?"w-fit":"w-full";let i;e[0]!==a?(i=U(a),e[0]=a,e[1]=i):i=e[1];let l;return e[2]!==n||e[3]!==i?(l=o.jsx("div",{className:i,onPointerDown:lmt,children:n}),e[2]=n,e[3]=i,e[4]=l):l=e[4],l},rmt=t=>{"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=o.jsx(o.Fragment,{children:n}),e[0]=n,e[1]=r):r=e[1],r};function smt(t){const e=t==null?void 0:t.parentElement;if(!t||!e)return;const n=()=>{const s=rJ(t,"data-collapse-labels"),a=t.scrollWidth>(s?0:e.clientWidth);Ti(t,"data-collapse-labels",a)},r=new ResizeObserver(n);return r.observe(t),r.observe(e),()=>r.disconnect()}function amt(t){return t.stopPropagation()}function omt(t){return t.stopPropagation()}function imt(t){return t.stopPropagation()}function lmt(t){return t.stopPropagation()}function cmt({onClose:t,gizmo:e}){var v;const n=Z(),[r,s]=g.useState(((v=e==null?void 0:e.gizmo)==null?void 0:v.instructions)||""),a=mse(),i=Tt(),l=pt(),c=[];(r==null?void 0:r.length)>MS&&c.push(n.formatMessage(xt.instructionsTooLong,{length:MS})),g.useEffect(()=>{l.invalidateQueries({queryKey:Rs(l,e.gizmo.id).queryKey})},[e.gizmo.id,l]);const u=y=>{s(y.target.value)},d=()=>{t()},f=async()=>{try{await a.mutateAsync({update:{instructions:r!=null?r:""},id:e.gizmo.id}),t()}catch(y){const x=B6(y);i.danger(x!=null?x:"Error",{duration:2,toastId:"custom_instructions_modal_save_error"})}},m=o.jsx(yn.Button,{title:n.formatMessage(xt.save),color:"primary",onClick:f,loading:a.isPending,disabled:c.length>0}),p=o.jsx(yn.Button,{title:n.formatMessage(xt.cancel),color:"secondary",onClick:d,disabled:a.isPending}),{canEdit:h}=lQ(e);return o.jsx(tt,{testId:"modal-project-custom-instructions",className:"min-h-[50dvh] max-w-[820px]",isOpen:!0,showCloseButton:!a.isPending,hideSeparator:!0,noPadding:!0,size:"custom",type:"success",title:o.jsx("div",{className:"h-8",children:n.formatMessage(xt.editCustomInstructionsTitle)}),onClose:()=>{a.isPending||t()},headerAccessory:!h&&o.jsx(wt,{label:n.formatMessage(xt.viewOnlyCustomInstructionsModalHeaderTooltip),side:"left",align:"center",children:o.jsxs("div",{className:"text-token-text-tertiary flex flex-row items-center gap-1.5 text-sm",children:[o.jsx(D0,{className:"icon"}),o.jsx(N,C({},xt.viewOnlyCustomInstructionsModalHeaderLabel))]})}),children:o.jsxs("div",{className:"flex h-full flex-col px-4 pt-0 pb-4",children:[o.jsx("div",{className:"text-sm font-medium",children:n.formatMessage(h?xt.editCustomInstructionsSubtitle:xt.readOnlyCustomInstructionsTitle)}),o.jsx("div",{className:"text-token-text-secondary text-sm",children:n.formatMessage(xt.editCustomInstructionsDescription)}),o.jsx("textarea",{autoFocus:!0,placeholder:n.formatMessage(xt.projectInstructionsPlaceholder),className:U("focus:ring-token-text-primary border-heavy mt-4 mb-1 min-h-24 w-full grow resize-none overflow-x-clip overflow-y-auto rounded-lg border px-3 py-2 focus:ring-1",h?"bg-transparent":"bg-token-bg-tertiary"),name:"instructions",onChange:u,value:r,disabled:a.isPending||!h}),c.map(y=>o.jsx(j_e,{className:"mt-1",children:y},y)),h&&o.jsx(yn.Actions,{primaryButton:m,secondaryButton:p})]})})}const umt=Object.freeze(Object.defineProperty({__proto__:null,CustomInstructionsModal:cmt},Symbol.toStringTag,{value:"Module"}));var uK;const fPt=Ge.textarea(uK||(uK=qe(["w-full text-sm overflow-y-auto rounded-lg border px-3 py-2 focus:ring-2 focus:ring-blue-400 border-token-border-medium bg-token-main-surface-primary h-32"])));var dK;const mPt=Ge.div(dK||(dK=qe(["mb-6"])));var fK;const pPt=Ge.input(fK||(fK=qe(["w-full resize-none overflow-y-auto rounded-lg px-3 py-2 text-sm outline-hidden focus:ring-2 border focus:ring-blue-400 border-token-border-medium h-9 bg-token-main-surface-primary"])));function gPt({label:t,description:e,collapsed:n,onClick:r,htmlFor:s}){const a=o.jsx("label",{htmlFor:s,className:"text-token-text-primary block font-semibold",children:t});return o.jsxs("div",{className:"mb-1.5 flex items-center",onClick:r,children:[n!==void 0&&(n?o.jsx(cA,{className:"icon-sm"}):o.jsx(wc,{className:"icon-sm"})),e?o.jsx(wt,{label:e,side:"top",children:a}):o.jsx(o.Fragment,{children:a})]})}function hPt({actionTool:t,onShowActionsEditor:e,isDisabled:n,className:r}){var a;const s="metadata"in t?(a=t.metadata)==null?void 0:a.domain:void 0;return o.jsxs("div",{className:U("border-token-border-medium flex rounded-lg border text-sm hover:cursor-pointer",n?"bg-token-main-surface-secondary":"",r),onClick:e,children:[o.jsx("div",{className:"h-9 grow px-3 py-2",children:s!=null?s:o.jsx("span",{className:"text-red-500",children:o.jsx(N,{id:"TJYXrY",defaultMessage:"Invalid action"})})}),o.jsx("div",{className:"bg-token-border-medium w-px"}),o.jsx("button",{disabled:n,className:"flex h-9 w-9 items-center justify-center rounded-lg rounded-s-none",children:o.jsx(E0,{className:"icon-sm"})})]})}function tfe({className:t,file:e,fileName:n,fileId:r,gizmoId:s}){const a=uc(n)&&r!=null,i=Z(),l=Qce(e&&Li(e)?e:null,n,r,s,void 0);return a?o.jsx("div",{className:U("flex h-full w-full items-center justify-center bg-[#8F8F8F] bg-cover bg-center text-white",t),"aria-label":i.formatMessage({id:"snorlax.imageThumbnail",defaultMessage:"Image thumbnail for {fileName}"},{fileName:n}),style:{backgroundImage:"url(".concat(l,")")},children:!l&&o.jsx(ol,{className:"icon-lg"})}):null}function vPt({gizmoId:t,gizmoName:e,canEdit:n,pendingFiles:r,files:s,interpreterOnlyFileIds:a,onAddFiles:i,removePendingFile:l,pendingFileUpsertMutationsRef:c}){return r.length===0&&s.length===0?o.jsx("div",{className:"h-full pb-4",children:o.jsx(gmt,{gizmoName:e,onAddFiles:i,canEdit:n})}):o.jsxs("div",{className:"pb-6",children:[o.jsx(dmt,{numFiles:s.length+r.length}),o.jsx(fmt,{canEdit:n,projectId:t,files:s,pendingFiles:r,interpreterOnlyFileIds:a,removePendingFile:l,pendingFileUpsertMutationsRef:c})]})}function dmt({numFiles:t}){const e=q(),n=yt(e),r=it();if(!P_e({accountPlanType:n==null?void 0:n.planType,numFiles:t}))return null;let s;return(n==null?void 0:n.planType)===Re.FREE?s=o.jsx(N,P(C({},xt.projectFileRateLimitBannerPlusDescription),{values:{freeFileLimit:Gm(Re.FREE),paidFileLimit:Gm(Re.PLUS)}})):s=o.jsx(N,P(C({},xt.projectFileRateLimitBannerProDescription),{values:{paidFileLimit:Gm(Re.PLUS),proFileLimit:Gm(Re.PRO),planType:n==null?void 0:n.planType.valueOf()}})),o.jsxs("div",{className:"bg-token-bg-tertiary mb-3 flex flex-row items-center justify-between gap-3 rounded-xl p-3 text-sm",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-token-text-primary",children:o.jsx(N,C({},xt.projectFileRateLimitBannerTitle))}),o.jsx("span",{className:"text-token-text-secondary",children:s})]}),o.jsx(oe,{color:"secondary",className:"bg-token-bg-tertiary",onClick:()=>{fr(r,"projects file upsell banner")},children:o.jsx(N,C({},xt.upgradeToPlus))})]})}function fmt({projectId:t,files:e,pendingFiles:n,interpreterOnlyFileIds:r,removePendingFile:s,pendingFileUpsertMutationsRef:a,canEdit:i}){const l=mse();return e.length===0&&n.length===0?null:o.jsxs("div",{className:"border-token-border-light overflow-hidden rounded-lg border",children:[e.map(c=>o.jsx(pmt,{gizmoId:t,gizmoFile:c,interpreterOnly:r.includes(c.file_id),canEdit:i,onDelete:()=>{const u=new Promise(f=>{a.current.push({id:t,mutationId:Yn(),update:m=>{const p=m.files.filter(h=>h.file_id!==c.file_id);return P(C({},m),{files:p})},onSuccess:f})});return uFe(t)({projectId:t,upsertProjectMutation:l,pendingFileUpsertMutationsRef:a}),u}},c.file_id)),n.map(c=>o.jsx(mmt,{canEdit:i,interpreterOnly:r.includes(c.tempId),pendingFile:c,onDelete:async()=>s(c.tempId)},c.tempId))]})}function nfe(){return o.jsx("div",{className:"truncate",children:o.jsx(N,C({},xt.interpreterOnlyLabel))})}function mmt({pendingFile:t,onDelete:e,interpreterOnly:n,canEdit:r}){var l,c,u;const s=t.file.name,i=(Li(t.file)&&((l=t.file)==null?void 0:l.type.startsWith("image/"))||uc(s))&&o.jsx(tfe,{file:t.file,fileName:s,fileId:(c=t.fileId)!=null?c:void 0,gizmoId:(u=t.gizmoId)!=null?u:void 0});return o.jsx(rfe,{interpreterOnly:n,onDelete:e,canEdit:r,children:o.jsx(A4,{icon:i,fileName:t.file.name,loadingPercentage:t.status===XQ.Uploading?t.progress:void 0,customFileDescription:n?o.jsx(nfe,{}):void 0})})}function pmt({gizmoFile:t,gizmoId:e,interpreterOnly:n,onDelete:r,canEdit:s}){const a=t.name,l=uc(a)&&t.file_id!=null&&o.jsx(tfe,{fileName:a,fileId:t.file_id,gizmoId:e}),c=q(),u=()=>{const d=t.file_id;d&&Dt(c,qce,{gizmoId:e,fileId:d,fileName:t.name})};return o.jsx(rfe,{interpreterOnly:n,onDelete:r,canEdit:s,children:o.jsx("div",{className:"cursor-pointer",onClick:u,children:o.jsx(A4,{icon:l,fileName:t.name,customFileDescription:n?o.jsx(nfe,{}):void 0})})})}function rfe({children:t,onDelete:e,canEdit:n,interpreterOnly:r}){const[s,a]=g.useState(!1);return o.jsxs("div",{className:U("group/file-row border-token-border-light flex w-full items-center justify-between border-b p-3 text-sm last:border-b-0",n?"hover:bg-token-interactive-bg-primary-selected/5":"hover:bg-transparent",r),children:[o.jsx("div",{className:"can-hover:w-full w-10/12 group-hover:w-11/12",children:t}),n&&o.jsx("button",{onClick:async()=>{e&&(a(!0),await e(),a(!1))},className:U("group/file-layout -m-2 flex aspect-square shrink-0 grow-0 items-center justify-center bg-transparent p-2",!s&&"can-hover:opacity-0 group-hover/file-row:opacity-100 focus-visible:opacity-100"),children:o.jsx("div",{className:"group-hover/file-layout:bg-token-interactive-bg-primary-selected/5 group-active/file-layout:bg-token-interactive-bg-primary-selected/15 rounded-md p-[5px]",children:s?o.jsx("div",{className:"flex h-full w-6 items-center justify-center",children:o.jsx(On,{})}):o.jsx(_c,{className:"icon-sm text-token-secondary"})})})]})}function gmt({gizmoName:t,onAddFiles:e,canEdit:n}){return o.jsx("div",{className:"border-token-border-default active:bg-token-bg-tertiary flex h-full cursor-pointer items-center justify-center rounded-lg border px-4 py-3 pb-6",onClick:e,children:o.jsxs("div",{className:"text-token-text-secondary flex flex-col items-center gap-2 py-4 text-sm",children:[n?o.jsx(V4,{}):o.jsx(Sr,{}),o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-token-text-secondary max-w-100",children:o.jsx(N,P(C({},xt.emptyFileInstructions),{values:{gizmoNameText:o.jsx("span",{className:"font-bold",children:o.jsx(N,P(C({},xt.emptyFileGizmoName),{values:{gizmoName:t}}))},"gizmoNameText")}}))})})]})})}function yPt(t,e){for(const n of t)if(e(n))return n}function sfe({fullHeight:t,children:e,verticalPadding:n,horizontalPadding:r,overflowY:s,verticalMargin:a="auto",horizontalMargin:i="auto",ref:l}){const c=q(),[u,d]=Yt(p=>[Xa(p),wn(p)]),f=Np(c)&&u,m=!d&&!f||n==="last";return o.jsx("div",{className:U("text-base",s==="auto"&&"overflow-y-auto",a==="auto"&&"my-auto",i==="auto"&&"mx-auto",m&&n==="first"&&"pt-3",m&&n==="last"&&"pb-10",m&&n==="last-standard"&&"pb-3",m&&n==="large"&&"pt-12",m&&n==="small"&&"py-1",f&&"pt-4.5",ofe,r!=="none"&&"px-(--thread-content-margin)",t&&"h-full"),ref:l,children:e})}function m1(r){var s=r,{children:t,className:e}=s,n=de(s,["children","className"]);const a=q(),[i,l]=Yt(f=>[Xa(f),wn(f)]),c=Np(a)&&i?"bento":"default",u=l?"[--thread-content-max-width:100%]":afe(c),d=l?"mx-auto flex-1 w-full max-w-full":"mx-auto max-w-(--thread-content-max-width) flex-1";return o.jsx("div",P(C({className:U(u,d,e)},n),{children:t}))}function afe(t){return t==="bento"?"[--thread-content-max-width:100%] thread-sm:[--thread-content-max-width:44rem] thread-md:[--thread-content-max-width:48rem] thread-lg:[--thread-content-max-width:50rem] thread-xxl:[--thread-content-max-width:54rem]":"[--thread-content-max-width:40rem] thread-lg:[--thread-content-max-width:48rem]"}const ofe="[--thread-content-margin:--spacing(4)] thread-sm:[--thread-content-margin:--spacing(6)] thread-lg:[--thread-content-margin:--spacing(16)]";function xPt(t){"use forget";const e=ee.c(21),{className:n,autoFocus:r,initialValue:s,onCommit:a,onCancel:i}=t,l=r===void 0?!0:r,[c,u]=g.useState(s),d=g.useRef(null);let f;e[0]!==s||e[1]!==i||e[2]!==a||e[3]!==c?(f=function(){c!==s?a(c):i()},e[0]=s,e[1]=i,e[2]=a,e[3]=c,e[4]=f):f=e[4];const m=f;let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=b=>u(b.target.value),e[5]=p):p=e[5];let h;e[6]!==m||e[7]!==i?(h=b=>{if(VQ(b)){b.key===" "&&b.stopPropagation();e:switch(b.key){case"Escape":{i();break e}case"Enter":m()}}},e[6]=m,e[7]=i,e[8]=h):h=e[8];let v;e[9]!==m||e[10]!==i||e[11]!==c.length?(v=()=>{c.length?m():i()},e[9]=m,e[10]=i,e[11]=c.length,e[12]=v):v=e[12];let y;e[13]!==n?(y=U("w-full border-none bg-transparent p-0 text-sm focus:ring-0",n),e[13]=n,e[14]=y):y=e[14];let x;return e[15]!==l||e[16]!==h||e[17]!==v||e[18]!==y||e[19]!==c?(x=o.jsx("input",{ref:d,type:"text",name:"title-editor",value:c,onFocus:vmt,autoFocus:l,onChange:p,onClick:hmt,onKeyDown:h,onBlur:v,className:y}),e[15]=l,e[16]=h,e[17]=v,e[18]=y,e[19]=c,e[20]=x):x=e[20],x}function hmt(t){t.preventDefault()}function vmt(t){var e;(e=t.currentTarget)==null||e.select()}const bPt=pe({exploreStoreEnabled:{id:"gizmo.exploreStoreEnabled",defaultMessage:"Explore GPTs"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}}),vG=2,yG=3;function CPt(t,e){var d,f,m,p,h,v,y;const n=j0(t,x=>x.flair.kind);let r=[],s=[];const a=(d=n[Pc.Recent])==null?void 0:d.slice(0,vG),i=(f=n[Pc.Recent])==null?void 0:f.slice(vG),l=(m=n[Pc.Workspace])==null?void 0:m.slice(0,yG),c=(p=n[Pc.Workspace])==null?void 0:p.slice(yG),u=(h=n[Pc.Mine])!=null?h:[];return r=[...l!=null?l:[],...(v=n[Pc.FirstParty])!=null?v:[],...(y=n[Pc.SidebarKeep])!=null?y:[],...a!=null?a:[],...e?u:[]],s=[...i!=null?i:[],...c!=null?c:[]],{topGizmos:r,remainingGizmos:s}}function ife(t){const e=JSON.stringify(t.map(r=>[r.id,r.title,r.update_time]));return g.useMemo(()=>t,[e])}const ymt="starred-conversations",xmt=1;function bmt({activeId:t}){var a;const e=gM(ymt,xmt,J1().queryKey),{data:n,isLoading:r}=ut(P(C({},J1()),{placeholderData:e})),s=ife((a=n==null?void 0:n.map(i=>i.item))!=null?a:[]);return!r&&s.length===0?null:r?o.jsxs(kf,{children:[o.jsx(Vl,{}),o.jsx(Vl,{})]}):s.map(i=>o.jsx(QN,{conversation:i,isActive:t===i.id,isStarred:!0},i.id))}const Cmt=5;function lfe(t){"use forget";const e=ee.c(9),{activeId:n,items:r,hasNextPage:s,infiniteScrollTriggerElementRef:a,hideOverflowMenu:i,onSelect:l}=t;let c;e[0]!==n||e[1]!==s||e[2]!==i||e[3]!==a||e[4]!==r||e[5]!==l?(c=r.map((f,m)=>{var h;const p=s&&((h=r[r.length-Cmt-1])==null?void 0:h.id)===f.id?a:void 0;return o.jsx(QN,{conversation:f,hideOverflowMenu:i,isActive:n===f.id,elementRef:p,testId:"history-item-".concat(m),onSelect:l},f.id)}),e[0]=n,e[1]=s,e[2]=i,e[3]=a,e[4]=r,e[5]=l,e[6]=c):c=e[6];let u;return e[7]!==c?(u=o.jsx(o.Fragment,{children:c}),e[7]=c,e[8]=u):u=e[8],u}const xG=pe({unableToLoadHistory:{id:"history.unableToLoad",defaultMessage:"Unable to load history"},retryButton:{id:"history.retryButton",defaultMessage:"Retry"}});function _mt(t){"use forget";const e=ee.c(61),{activeId:n,hideOverflowMenu:r}=t,s=q(),a=pt(),[i,l]=g.useState(!1),[c,u]=g.useState(0),d=U6e(),[f,m]=g.useState(!1),p=krt(),h=dse();let v;e[0]===Symbol.for("react.memo_cache_sentinel")?(v={},e[0]=v):v=e[0];const{conversations:y,hasNextPage:x,fetchNextPage:b,isLoading:_,isFetchingNextPage:w,isError:S}=S5(v),k=ife(y);let M;e[1]!==x||e[2]!==_||e[3]!==b?(M=Ne=>{if(_||Ne==null)return;const Ae=new IntersectionObserver(ot=>{ot[0].isIntersecting&&x&&b()});return Ae.observe(Ne),()=>{Ae.disconnect()}},e[1]=x,e[2]=_,e[3]=b,e[4]=M):M=e[4];const E=M;let T,j;e[5]!==k?(T=()=>{Rl.publish({kind:"refreshHistory",conversations:k})},j=[k],e[5]=k,e[6]=T,e[7]=j):(T=e[6],j=e[7]),g.useEffect(T,j);let A,I;e[8]!==s||e[9]!==a?(A=()=>H6e(s,"conversations").onMessage(Ae=>{Ae.type==="conversation-turn-complete"&&ie(s,"1163864876")&&os(a,Ae.payload.conversation_id)}),I=[s,a],e[8]=s,e[9]=a,e[10]=A,e[11]=I):(A=e[10],I=e[11]),g.useEffect(A,I);const L=k;let O,R;e[12]!==c||e[13]!==d?(O=()=>{const Ne=V6e($6e(),Date.now());d(()=>{u(c+1)},Ne+1e3)},R=[c,d],e[12]=c,e[13]=d,e[14]=O,e[15]=R):(O=e[14],R=e[15]),g.useEffect(O,R);const H=L.length===0;ia.markStart("History",ia.NS_SIDEBAR);const V=yt(s);let z;e[16]!==s?(z=ie(s,"2560369700"),e[16]=s,e[17]=z):z=e[17];const $=z;V!=null&&!_&&ia.markRendered("History",ia.NS_SIDEBAR);let Y;e[18]!==p?(Y=p!=null&&p.kind==="conversation"&&p.gizmoId!=null&&ko(p.gizmoId),e[18]=p,e[19]=Y):Y=e[19];const G=Y,F=_||S||H,X=g.useRef(0),te=F&&"h-full items-center justify-center empty:hidden",ae=f&&"opacity-50";let me;e[20]!==te||e[21]!==ae?(me=U(te,ae),e[20]=te,e[21]=ae,e[22]=me):me=e[22];let W;e[23]!==G?(W=Ne=>{Ne.preventDefault(),G&&m(!0)},e[23]=G,e[24]=W):W=e[24];let K;e[25]!==G||e[26]!==p||e[27]!==h?(K=Ne=>{var Ae;Ne.preventDefault(),G&&(X.current=0,m(!1),h({newGizmoId:null,conversation:p.conversation,previousGizmoId:(Ae=p.gizmoId)!=null?Ae:null}))},e[25]=G,e[26]=p,e[27]=h,e[28]=K):K=e[28];let ne,re;e[29]!==G?(ne=Ne=>{Ne.preventDefault(),G&&(X.current=X.current+1)},re=Ne=>{Ne.preventDefault(),G&&(X.current=X.current-1,X.current===0&&m(!1))},e[29]=G,e[30]=ne,e[31]=re):(ne=e[30],re=e[31]);let le;e[32]!==H||e[33]!==_?(le=H&&_&&o.jsx(kf,{children:o.jsx(On,{className:"m-auto"})}),e[32]=H,e[33]=_,e[34]=le):le=e[34];let fe;e[35]!==i||e[36]!==H||e[37]!==S||e[38]!==a?(fe=H&&S&&o.jsxs("div",{className:"text-token-text-tertiary p-3 text-center italic",children:[o.jsx(N,C({},xG.unableToLoadHistory)),!i&&o.jsx("div",{className:"mt-1",children:o.jsx(oe,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{l(!0),os(a)},children:o.jsx(N,C({},xG.retryButton))})})]}),e[35]=i,e[36]=H,e[37]=S,e[38]=a,e[39]=fe):fe=e[39];let ge;e[40]!==n||e[41]!==x||e[42]!==r||e[43]!==E||e[44]!==H||e[45]!==_||e[46]!==L||e[47]!==$?(ge=!_&&!H&&o.jsxs(o.Fragment,{children:[$&&o.jsx(bmt,{activeId:n}),o.jsx(lfe,{activeId:n,hasNextPage:x,items:L,infiniteScrollTriggerElementRef:E,hideOverflowMenu:r})]}),e[40]=n,e[41]=x,e[42]=r,e[43]=E,e[44]=H,e[45]=_,e[46]=L,e[47]=$,e[48]=ge):ge=e[48];let ye;e[49]!==w?(ye=w&&o.jsxs("div",{className:"mb-5",children:[o.jsx(Vl,{}),o.jsx(Vl,{}),o.jsx(Vl,{})]}),e[49]=w,e[50]=ye):ye=e[50];let _e;return e[51]!==me||e[52]!==W||e[53]!==K||e[54]!==ne||e[55]!==re||e[56]!==le||e[57]!==fe||e[58]!==ge||e[59]!==ye?(_e=o.jsxs("div",{id:"history",className:me,onDragOver:W,onDrop:K,onDragEnter:ne,onDragLeave:re,children:[le,fe,ge,ye]}),e[51]=me,e[52]=W,e[53]=K,e[54]=ne,e[55]=re,e[56]=le,e[57]=fe,e[58]=ge,e[59]=ye,e[60]=_e):_e=e[60],_e}const _Pt=be.memo(_mt);function wmt(t,e){return t in _g&&typeof e=="boolean"}const _g={apps:!1,projects:!0,gpts:!0,chats:!0,favorites:!1},wPt=va(()=>{const t=Smt(),e={apps:nt(t.sectionStates.apps),projects:nt(t.sectionStates.projects),gpts:nt(t.sectionStates.gpts),chats:nt(t.sectionStates.chats),favorites:nt(t.sectionStates.favorites)};return{sidebarSectionState:e,expandSection:r=>{e[r].set(!0),bG(e)},collapseSection:r=>{e[r].set(!1),bG(e)}}});function bG(t){const e={apps:t.apps(),projects:t.projects(),gpts:t.gpts(),chats:t.chats(),favorites:t.favorites()};kmt({sectionStates:e})}function Smt(){try{const t=or.getCookie(ir.SidebarSections);if(t){const e=JSON.parse(t);if(e&&typeof e.sectionStates=="object"){const n=C({},_g);for(const[r,s]of Object.entries(e.sectionStates))wmt(r,s)&&(n[r]=s);return{sectionStates:n}}}return{sectionStates:_g}}catch(t){return ve.addError(new Error("Failed to load sidebar section state",{cause:t})),{sectionStates:_g}}}function kmt(t){try{or.setCookie(ir.SidebarSections,JSON.stringify({sectionStates:t.sectionStates}))}catch(e){ve.addError(new Error("Failed to save sidebar section state",{cause:e}))}}function SPt({showRetry:t,refetch:e}){return o.jsxs("div",{className:"text-token-text-tertiary mt-5 p-3 text-center italic",children:[o.jsx(N,C({},xt.unableToLoadHistory)),t&&o.jsx("div",{className:"mt-1",children:o.jsx(oe,{as:"button",color:"primary",size:"small",className:"m-auto mt-2",onClick:()=>{e(!0)},children:o.jsx(N,C({},xt.retryLoadingHistory))})})]})}function Mmt(t){return o.jsx(Qa,{side:"right",sideOffset:-4,alignOffset:-7,size:"auto",triggerButton:o.jsx(MM,{as:"div",icon:t.icon,label:t.label,highlightTrailing:t.highlightTrailing}),children:o.jsx("div",{className:"max-h-[50dvh] max-w-(--sidebar-width) overflow-x-auto [scrollbar-gutter:stable]",children:o.jsx(kf,{children:t.children})})})}function kPt({currentGizmoId:t}){return o.jsx(Mmt,{label:o.jsx(N,C({},xt.seeMoreProjectItems)),icon:Ja,children:o.jsx(ES,{currentGizmoId:t,inSidebarFlyout:!0})})}function Emt(){"use forget";const t=ee.c(1),e=q(),n=ie(e,"733205176"),r=ie(e,"1767304360");if(!(n&&r))return null;let a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx(jmt,{}),t[0]=a):a=t[0],a}function jmt(){const{scheduledAutomations:t}=NBe({enabled:!0,staleTimeMs:1/0}),e=Z(),n=Za(),r=q6e();return t.length>0?o.jsx(d1,{icon:zi,"data-testid":"schedule-sidebar-button",to:r,active:n.pathname===r,label:e.formatMessage({id:"sidebar.schedulesItem",defaultMessage:"Schedules"})}):null}const Tmt=({as:t=d1})=>{const e=z6e(),n=kOe();return!e||n==="DISABLED"?null:o.jsx(Nmt,{children:o.jsx(t,{to:"/codex",external:!0,onClick:()=>{B.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:"codex"}),B.logEventWithStatsig("Sidebar Click Gizmo","chatgpt_sidebar_click_codex",{gizmo_id:"codex"})},icon:Lj,label:o.jsx(N,{id:"EFFUeE",defaultMessage:"Codex"})})})};function Nmt({children:t}){const e=Z(),n=J5e();return n&&!n.isLoading&&n.eligible?o.jsx(Zf,{show:!0,side:"right",theme:"bright",dismissOnOutsideClick:!0,badge:"new",sideOffset:0,className:"xs:max-w-sm! max-w-2xs!",childrenWrapperClassName:"!w-full",announcementKey:gJ,title:e.formatMessage({id:"wham.sidebarListItem.nuxTooltip.title",defaultMessage:"Software engineering agent"}),description:e.formatMessage({id:"wham.whamSidebarListItem.writeInCodebase",defaultMessage:"Answers questions, runs code, and drafts PRs."}),onDismiss:n.markAsViewed,children:t}):t}const MPt=t=>{"use forget";const e=ee.c(15),{as:n}=t,r=q();let s,a;e[0]!==r?(s=yt(r),a=s==null?void 0:s.hasPaidSubscription(),e[0]=r,e[1]=s,e[2]=a):(s=e[1],a=e[2]);const i=a;if(!s)return null;let l;e[3]!==n||e[4]!==i?(l=i&&o.jsx(Tmt,{as:n}),e[3]=n,e[4]=i,e[5]=l):l=e[5];let c;e[6]!==n?(c=!1,e[6]=n,e[7]=c):c=e[7];let u;e[8]!==n?(u=!1,e[8]=n,e[9]=u):u=e[9];let d;e[10]===Symbol.for("react.memo_cache_sentinel")?(d=o.jsx(Emt,{}),e[10]=d):d=e[10];let f;return e[11]!==l||e[12]!==c||e[13]!==u?(f=o.jsxs(o.Fragment,{children:[l,c,u,d]}),e[11]=l,e[12]=c,e[13]=u,e[14]=f):f=e[14],f};function Amt(){return{finished:Promise.resolve(),ready:Promise.resolve(),skipTransition:()=>{},types:new Set,updateCallbackDone:Promise.resolve()}}function Pmt(){return"ViewTransitionTypeSet"in document}function Imt({forceFlushSync:t,update:e,className:n,types:r}){var s;if("startViewTransition"in document){let a;const i=Pmt();r&&document.documentElement.setAttribute("active-view-transition-type",r.join(","));const l=["active-view-transition"];return n&&(Array.isArray(n)?l.push(...n):l.push(n)),document.documentElement.classList.add(...l),i?a=document.startViewTransition({update:()=>{if(document.documentElement.classList.add("update-callback-done"),t)Zl.flushSync(e);else return e()},types:r}):a=document.startViewTransition(()=>{if(document.documentElement.classList.add("update-callback-done"),t)Zl.flushSync(e);else return e()}),(s=a.finished)==null||s.then(async()=>{await tJ.yield(),document.documentElement.classList.remove(...l,"update-callback-done"),document.documentElement.removeAttribute("active-view-transition-type")}),a}else{const a=Amt();return setTimeout(()=>{e()},0),a}}const Lmt={type:"unsupported",value:void 0};const Rmt={home:{from:{type:"landing-page",className:"back-animation"}},"landing-page":{from:{type:"home",className:"use-case-animation"},to:{type:"home",className:"back-animation"}},conversation:{},unsupported:{},library:{from:{type:"home",className:"use-case-animation"},to:{type:"home",className:"back-animation"}}},Ml=class Ml{constructor(){Q(this,"activeViewTransition",null);Q(this,"classNames",[]);Q(this,"storage",new kk);Q(this,"currentPage",null);Q(this,"previousPage",null);Q(this,"waitForReadyPromise",null);Q(this,"waitForReadyResolve",null)}static getPageToPageConfig({to:e,from:n}){if(!Rmt[e.type]||e.type===(n==null?void 0:n.type))return null;const s=[];return n&&(s.push("from-".concat(n.type)),n.value&&s.push("from-value-".concat(n.value))),s.push("to-".concat(e.type)),e.value&&s.push("to-value-".concat(e.value)),s}addStaticClass(e){if(!e)return;const n=Array.isArray(e)?e:[e];n.forEach(r=>{Ml.persistedClassNames.add(r)}),document.documentElement.classList.add(...n)}static getPageType(e){let n;for(const r of e)if(r.id==="routes/_conversation.$landingType"){const s=r.data;s!=null&&s.type&&(n={type:s.page,value:s.type})}else r.id==="routes/_conversation"?n={type:"home",value:void 0}:r.id==="routes/_conversation.c.$conversationId"?n={type:"conversation",value:void 0}:r.id==="routes/trending"&&(n={type:"trending",value:void 0});return n!=null?n:Lmt}loadPageTransition(e){const n=Ml.getPageType(e);this.previousPage=this.currentPage,this.currentPage=n}loadPageTransitionFromStorage(){const e=this.storage.getEntry();e&&(this.addClassToCurrentTransition(e.classNames),this.signalTransitionReady())}transitionToPage(e,n){const r=Ml.getPageToPageConfig({to:e,from:this.currentPage});this.classNames=[],this.addClassToCurrentTransition(r);const s=this.storage.createEntry({from:this.currentPage,to:e,classNames:r});this.storage.saveEntry(s),this.startTransition({classNames:r,waitForReady:!0,update:n})}addClassToCurrentTransition(e){e&&(this.classNames.push(...Array.isArray(e)?e:[e]),this.syncClassNames())}syncClassNames(){const e=Array.from(document.documentElement.classList).filter(n=>!this.classNames.includes(n)&&!Ml.persistedClassNames.has(n)&&(n.startsWith("from-")||n.startsWith("to-")));document.documentElement.classList.remove(...e),document.documentElement.classList.add(...this.classNames)}signalTransitionReady(){var e;this.waitForReadyPromise&&((e=this.waitForReadyResolve)==null||e.call(this))}waitForTransitionReady(){return this.waitForReadyPromise}static timeout(e,n){return new Promise(r=>{setTimeout(()=>{n.aborted||ve.addError(new Error("Unexpected view transition timeout")),r()},e)})}startTransition({classNames:e,forceFlushSync:n,staticClassNames:r,types:s,update:a,waitForReady:i=!1}){this.addStaticClass(r),i&&(this.waitForReadyPromise=new Promise(u=>{this.waitForReadyResolve=u}));const c=Imt({update:i?async()=>{await a();const u=new AbortController;await Promise.race([this.waitForTransitionReady(),Ml.timeout(1500,u.signal)]),u.abort(),await new Promise(d=>setTimeout(d,60))}:a,className:e,forceFlushSync:n,types:s});return this.activeViewTransition=c,c}};Q(Ml,"persistedClassNames",new Set);let n6=Ml;const Sp=class Sp{getEntry(){const e=sessionStorage.getItem(Sp.key);return e?JSON.parse(e):null}saveEntry(e){sessionStorage.setItem(Sp.key,JSON.stringify(e))}createEntry({from:e,to:n,classNames:r}){return n.type==="home"?{version:1,classNames:r!=null?r:[],from:e==null?void 0:e.type,to:n.type,selector:"[data-type='unified-composer']",wait:!1}:n.type==="landing-page"?{version:1,from:e==null?void 0:e.type,to:n.type,classNames:r!=null?r:[],selector:"[data-landing-page-load-target]",wait:!0}:{version:1,from:e==null?void 0:e.type,to:n.type,classNames:r!=null?r:[],wait:!1}}};Q(Sp,"key","view-transition-session-storage");let kk=Sp;const Omt=va(()=>new n6);function Dmt(){const t=q();return Omt(t)}function Fmt(){const t=_0e(),e=n6.getPageType(t),n=Dmt();return E3(()=>{n.loadPageTransition(t)}),g.useEffect(()=>{n.loadPageTransitionFromStorage()},[e.type,n]),{pageType:e}}function Bmt(){return{library:we.PictureV2,images:we.PictureV2,research:we.Research,write:we.Canvas}}const Umt=Bmt();Object.fromEntries(Object.entries(Umt).map(([t,e])=>[e,t]));function Hmt(t,e){return"/".concat(e)}const EPt=w0e(function(){return null}),Vmt=t=>{"use forget";const e=ee.c(18),{iconOnly:n}=t,r=Z(),{pageType:s}=Fmt(),a=CT();let i;e[0]!==r?(i=r.formatMessage({id:"E56n+Q",defaultMessage:"Library"}),e[0]=r,e[1]=i):i=e[1];const l=i;let c,u;if(e[2]===Symbol.for("react.memo_cache_sentinel")){c=null;try{typeof window<"u"&&(c=window.localStorage.getItem("chatgpt_library_last_tab"))}catch(w){c=null}u=Hmt(we.PictureV2,"library"),e[2]=c,e[3]=u}else c=e[2],u=e[3];const d=u;let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=()=>d,e[4]=f):f=e[4];const[m,p]=g.useState(f);let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{p(c?"".concat(d,"?tab=").concat(encodeURIComponent(c)):d)},e[5]=h):h=e[5];let v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=[c,d],e[6]=v):v=e[6],g.useEffect(h,v);let y;e[7]!==a?(y=()=>{B.logEventWithStatsig("chatgpt_web_image_library_sidebar_item_clicked","chatgpt_web_image_library_sidebar_item_clicked",{location:a})},e[7]=a,e[8]=y):y=e[8];const x=s.type==="library";let b;e[9]!==n||e[10]!==l?(b=n?{iconOnly:!0,iconAriaLabel:l}:{},e[9]=n,e[10]=l,e[11]=b):b=e[11];let _;return e[12]!==l||e[13]!==y||e[14]!==x||e[15]!==b||e[16]!==m?(_=o.jsx(d1,C({"data-testid":"sidebar-item-library",onClick:y,active:x,icon:Do,to:m,label:l},b)),e[12]=l,e[13]=y,e[14]=x,e[15]=b,e[16]=m,e[17]=_):_=e[17],_},jPt=({onNewThread:t})=>{const e=q();return ie(e,"713974087"),o.jsxs(prt,{first:!0,className:U("tall:sticky tall:top-header-height tall:z-20 bg-token-bg-elevated-secondary relative","[--sticky-spacer:6px]"),children:[o.jsx($mt,{onNewThread:t}),o.jsx(qmt,{}),!1,!1,!1,o.jsx(Vmt,{}),!1,o.jsx("div",{"aria-hidden":!0,className:U("pointer-events-none absolute start-0 end-0","-bottom-[var(--sticky-spacer)] h-[var(--sticky-spacer)]","opacity-0 will-change-[opacity] group-data-scrolled-from-top/scrollport:opacity-100","bg-token-bg-elevated-secondary")})]})},$mt=({onNewThread:t,iconOnly:e})=>{const n=Z(),r=CT(),s=at(YM),a=l=>{B.logNewChatButtonClicked({location:r!=null?r:"Sidebar gizmo list",gizmo_id:"primary"}),B.logEvent("Sidebar Click Gizmo",{gizmo_id:"primary"}),aqe(l,t)},i=n.formatMessage({id:"6Abeg/",defaultMessage:"New chat"});return o.jsx(d1,C({"data-testid":"create-new-chat-button",to:"/",onClick:a,icon:I0,label:i,highlightTrailing:o.jsx(r4,{binding:sae,className:"touch:hidden"}),showHighlightTrailing:s},e?{iconOnly:!0,iconAriaLabel:i}:{}))},qmt=({iconOnly:t})=>{const e=Z(),{isFannyPackEnabled:n}=$j(),r=CT(),s=at(YM);if(g.useEffect(()=>{n&&(ve.addAction("fannypack.web.action_seen"),Ve(()=>import("./fvtv66gbcyo8d83l.js").then(i=>i.d),__vite__mapDeps([132,133,4,1,5])))},[n]),!n)return null;const a=e.formatMessage({id:"bDEsvT",defaultMessage:"Search chats"});return o.jsx(hrt,C({onClick:()=>{Ve(()=>import("./fvtv66gbcyo8d83l.js").then(i=>i.d),__vite__mapDeps([132,133,4,1,5])).then(i=>i.openFannyPackSearch()),B.logEventWithStatsig("chatgpt_web_search_sidebar_item_clicked","chatgpt_web_search_sidebar_item_clicked",{location:r})},icon:Cu,label:a,highlightTrailing:o.jsx("div",{className:"touch:hidden",children:o.jsx(r4,{binding:jFe})}),showHighlightTrailing:s},t?{iconOnly:!0,iconAriaLabel:a}:{}))},cfe=t=>{switch(t){case"thumbsDown":return"thumbs_down";case"thumbsUp":return"thumbs_up"}};function Tc(t,e,n="CHAT"){return{signal_detail:{common_metadata:e},signal_type:t,signal_metadata:{},user_metadata:{},product_surface:n}}function Nc(t){ue.safePost("/unified_user_signals",{requestBody:t,authOption:qt.SendIfAvailable})}function zmt(t,e,n,r="CHAT"){var s=Tc("message_feedback",{conversation_id:e,message_id:n},r);s.signal_detail.message_feedback=t,Nc(s)}function Gmt(t,e,n,r="CHAT"){var s=Tc("conversation_rating",{conversation_id:e,message_id:n},r);s.signal_detail.conversation_rating=t,Nc(s)}function yl(t,e,n,r,s={},a="CHAT"){const i=Tc(t,{conversation_id:e,message_id:n,image_generation_id:r},a);Object.assign(i.signal_detail,s),Nc(i)}function ufe(t,e,n,r="CHAT"){var s=Tc("turn_regeneration",{conversation_id:e,model_slug:n},r);s.signal_detail.turn_regeneration=t,Nc(s)}function TPt(t,e,n="CHAT"){var r=Tc("active_branch_switch",{conversation_id:e},n);r.signal_detail.active_branch_switch=t,Nc(r)}function Wmt(t,e,n="CHAT"){const r=Tc("survey_submission",{conversation_id:e},n);r.signal_detail.survey_submission=t,Nc(r)}function Zmt(t,e,n="CHAT"){const r=Tc("survey_seen",{conversation_id:e},n);r.signal_detail.survey_seen=t,Nc(r)}function Kmt(t,e,n="CHAT"){var s,a;const r=Tc("survey_dismissed",{conversation_id:e},n);r.signal_detail.survey_dismissed={survey_campaign_name:(s=t.survey_campaign_name)!=null?s:null,survey_election_id:(a=t.survey_election_id)!=null?a:null},Nc(r)}const Ymt=768,Qmt=320,Jmt=140,F2=8,Xmt=12;function ept(t,e,n){const[r,s]=g.useState(null),[a,i]=g.useState(!1),l=g.useRef(null),c=g.useRef(null),u=g.useRef(null),d=()=>{var h,v,y,x,b;const f=e.current;if(!f)return;let m=null;if(t){const _='nav a[href*="/c/'.concat(t,'"]'),w=document.querySelector(_);if(w&&(m=w.getBoundingClientRect()),m&&(m.bottom<=0||m.top>=window.innerHeight)){s(null);return}}if(m||(m=((h=document.querySelector("nav"))!=null?h:f).getBoundingClientRect()),window.matchMedia("(max-width: ".concat(Ymt,"px)")).matches){const _=(y=(v=n.current)==null?void 0:v.getBoundingClientRect().width)!=null?y:Qmt,w=(b=(x=n.current)==null?void 0:x.getBoundingClientRect().height)!=null?b:Jmt,S=m.left+m.width/2-_/2,k=Math.max(F2,Math.min(S,window.innerWidth-_-F2)),M=m.top-w-F2,E=Math.max(F2,M);i(!0),s({top:E,left:k})}else{const _=m.top+m.height/2,w=m.right+Xmt;i(!1),s({top:_,left:w})}};return Rn(()=>{d();const f=()=>{l.current&&cancelAnimationFrame(l.current),l.current=requestAnimationFrame(d)},m=()=>{f()};window.addEventListener("resize",m),window.addEventListener("scroll",m,!0);const p=document.querySelector("nav");if(p&&typeof MutationObserver<"u"){const h=new MutationObserver(()=>f());h.observe(p,{childList:!0,subtree:!0}),c.current=h}if(typeof ResizeObserver<"u"){const h=new ResizeObserver(()=>f());p&&h.observe(p),n.current&&h.observe(n.current),u.current=h}return()=>{window.removeEventListener("resize",m),window.removeEventListener("scroll",m,!0),l.current&&cancelAnimationFrame(l.current),c.current&&(c.current.disconnect(),c.current=null),u.current&&(u.current.disconnect(),u.current=null)}},[t]),{pos:r,isMobileAbove:a,remeasure:d}}function tpt({conversationId:t,children:e,onClose:n,clickOutsideToClose:r=!1,onVisibilityChange:s=()=>{}}){const[a,i]=g.useState(!1),l=Z(),c=g.useRef(null),u=g.useRef(null),d=G6e(),{pos:f,isMobileAbove:m}=ept(t,c,u);Rn(()=>{d||pn.setSidebarOpen(!0)},[d]),Rn(()=>{if(!r)return;const y=x=>{const b=u.current;b&&x.target instanceof Node&&!b.contains(x.target)&&n()};return document.addEventListener("mousedown",y,!0),()=>document.removeEventListener("mousedown",y,!0)},[n,r]),Rn(()=>{if(!f)return;i(!1);const y=requestAnimationFrame(()=>i(!0));return()=>cancelAnimationFrame(y)},[f]);const p=vu(s);g.useEffect(()=>{const y=!!f;p==null||p(y)},[f,p]);const h=o.jsx("span",{ref:c,role:"presentation",style:{display:"none"}});if(!f)return h;const v=o.jsxs("div",{ref:u,style:{position:"fixed",top:f.top,left:f.left,zIndex:1e3},className:"border-token-border-light relative max-h-[60vh] max-w-md transform rounded-lg border bg-blue-500 p-4 text-sm text-white shadow-2xl transition-opacity duration-200 "+(m?"":"-translate-y-1/2")+(a?" opacity-100":" opacity-0"),children:[o.jsx(gn,{onClick:n,className:"absolute end-2 top-2 text-white hover:bg-blue-400/20! hover:text-white",bg:"transparent","aria-label":l.formatMessage({id:"n7Yh10",defaultMessage:"Close survey"})}),m?o.jsx("div",{className:"border-token-border-light absolute start-4 -bottom-2 h-4 w-4 rotate-45 border bg-blue-500"}):o.jsx("div",{className:"border-token-border-light absolute -start-2 top-1/2 h-4 w-4 -translate-y-1/2 rotate-45 border bg-blue-500"}),e]});return o.jsxs(o.Fragment,{children:[h,Zl.createPortal(v,document.body)]})}const npt=5;function NPt(){"use forget";const t=ee.c(6),e=q();let n;t[0]!==e?(n=ie(e,"3324471394"),t[0]=e,t[1]=n):n=t[1];const r=n;let s,a;if(t[2]!==r?(s=()=>{r||zte()},a=[r],t[2]=r,t[3]=s,t[4]=a):(s=t[3],a=t[4]),g.useEffect(s,a),!r)return null;let i;return t[5]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx(rpt,{}),t[5]=i):i=t[5],i}function rpt(){const{survey:t,finishSurvey:e}=HNe(),{conversations:n}=S5({}),r=q();VNe();const s=g.useRef(null),i=(Array.isArray(n)?n:[]).slice(0,npt),l=!!(t&&i.some(b=>(b==null?void 0:b.id)===(t==null?void 0:t.conversation_id))),c=!(t!=null&&t.survey_display_type)||t.survey_display_type==="CONVERSATION_COACHMARK",u=!(t!=null&&t.trigger_event_type)||t.trigger_event_type==="NEW_CHAT_CLICK",d=!!(t!=null&&t.content),f=!!(t&&l&&d&&c&&u);Rn(()=>{if(!f||!(t!=null&&t.conversation_id))return;const b='nav a[href*="/c/'.concat(t.conversation_id,'"]'),_=document.querySelector(b);if(_)return _.classList.add("ring-2","ring-blue-500","rounded-md"),()=>{_.classList.remove("ring-2","ring-blue-500","rounded-md")}},[f,t==null?void 0:t.conversation_id]);const m=g.useCallback(b=>{var S;if(!b||!t)return;const _=t.conversation_id,w=t.survey_election_id;!_||!w||s.current!==w&&(Zmt({survey_campaign_name:t.survey_campaign_name,survey_election_id:w},_),wo(r,"chatgpt_survey_seen",void 0,{survey_campaign_name:String((S=t.survey_campaign_name)!=null?S:""),survey_election_id:w,conversation_id:_}),s.current=w)},[r,t]);if(!f||!t)return null;const{conversation_id:p}=t,h=t.content,v=Array.isArray(h==null?void 0:h.answers)?h.answers:[],y=b=>{var _,w,S,k;Wmt({survey_campaign_name:b.campaign_name,survey_election_id:b.election_id,question_id:void 0,question_text:(_=b.question)!=null?_:null,answer_id:b.answer_id,answer_text:(w=b.answer_text)!=null?w:null,tags:null},b.conversation_id),wo(r,"chatgpt_survey_response",void 0,{survey_campaign_name:b.campaign_name,survey_election_id:b.election_id,conversation_id:b.conversation_id,question_text:(S=b.question)!=null?S:"",answer_id:b.answer_id,answer_text:(k=b.answer_text)!=null?k:""})},x=b=>{var _,w;Kmt({survey_campaign_name:b.campaign_name,survey_election_id:b.election_id},b.conversation_id),wo(r,"chatgpt_survey_dismissed",void 0,{survey_campaign_name:String((_=b.campaign_name)!=null?_:""),survey_election_id:String((w=b.election_id)!=null?w:""),conversation_id:b.conversation_id})};return o.jsxs(tpt,{conversationId:t.conversation_id,onClose:()=>{t&&x({conversation_id:t.conversation_id,election_id:t.survey_election_id,campaign_name:t.survey_campaign_name}),e()},onVisibilityChange:m,children:[o.jsx("div",{className:"mb-3 pe-8 font-medium break-words",children:h.question}),o.jsx("div",{className:"flex gap-2",children:v.map(b=>o.jsx("button",{className:"rounded-full border border-gray-300 bg-white px-4 py-2 font-medium whitespace-nowrap text-black hover:bg-gray-100",onClick:()=>{y({conversation_id:p,election_id:t.survey_election_id,campaign_name:t.survey_campaign_name,question:h.question,answer_id:b.answer_id,answer_text:b.text}),e()},children:b.text},b.answer_id))})]})}const APt=r=>{var s=r,{className:t,children:e}=s,n=de(s,["className","children"]);const a=g.useRef(null),i=g.useCallback(()=>{const l=a.current;l&&(Ti(l,"data-scrolled-from-top",l.scrollTop>0),Ti(l,"data-scrolled-from-end",l.scrollTop<l.scrollHeight-l.clientHeight-1))},[]);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=new ResizeObserver(i);return c.observe(l),()=>c.disconnect()},[i]),g.useEffect(()=>{setTimeout(()=>{i()},500)},[]),o.jsx("nav",P(C({className:U("group/scrollport",t),onScroll:i,ref:a},n),{children:e}))},spt=()=>ut({queryKey:["userSurvey"],queryFn:()=>ue.safeGet("/user_surveys/active")}),apt=()=>{const t=pt();return Vt({mutationFn:({surveyId:e,reason:n})=>ue.safePost("/user_surveys/{survey_id}/complete",{parameters:{path:{survey_id:e}},requestBody:{reason:n}}),onSuccess:()=>{t.invalidateQueries({queryKey:["userSurvey"]})}})};function PPt(){const t=Z(),[e,n]=g.useState(!1),{mutate:r}=apt(),{data:s}=spt(),a=s==null?void 0:s.survey,i=c=>{n(!0),a!=null&&r({surveyId:a.id,reason:c})};return!e&&a!=null?o.jsx("div",{className:"bg-brand-blue-800 mx-1.5 rounded-lg",children:o.jsxs("div",{className:"flex flex-col gap-3 p-3 text-sm text-white",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("div",{className:"font-bold text-wrap",children:o.jsx(N,{id:"navigation.survey.title",defaultMessage:"We are asking a small group of people for their opinion"})}),o.jsx("button",{className:"text-white/25 hover:text-white/40",onClick:()=>i("dismissed"),"aria-label":t.formatMessage({id:"navigation.survey.dismiss",defaultMessage:"Dismiss survey"}),children:o.jsx(lr,{className:"icon"})})]}),o.jsx("div",{className:"text-wrap",children:o.jsx(N,{id:"navigation.survey.description",defaultMessage:"Could you spare few minutes to take a short survey?"})}),o.jsxs("a",{href:a.link,target:"_blank",className:"flex w-full cursor-pointer items-center justify-center gap-2 rounded-sm bg-white/25 p-2 hover:bg-white/40",rel:"noreferrer",onClick:()=>i("link_clicked"),children:[o.jsx(ba,{className:"icon-sm"}),o.jsx(N,{id:"navigation.survey.takeSurvey",defaultMessage:"Take survey"})]})]})}):null}const dfe=t=>g.createElement("svg",C({width:21,height:20,viewBox:"0 0 21 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.2441 10.7759C12.7597 10.8965 14.8838 12.8648 14.8838 15.0601C14.8838 15.4273 14.586 15.7251 14.2188 15.7251H5.78125C5.41399 15.7251 5.11623 15.4273 5.11621 15.0601C5.11621 12.7959 7.37906 10.77 10 10.77L10.2441 10.7759Z"}),g.createElement("path",{d:"M0 14.436C0 11.5616 3.13043 10.5652 5.2998 11.4478C4.37179 12.4185 3.78619 13.6736 3.78613 15.0601L3.78809 15.1011H0.665039C0.298096 15.1011 0.000527744 14.8029 0 14.436Z"}),g.createElement("path",{d:"M14.7988 11.5532C16.969 10.4969 20.3301 11.4561 20.3301 14.436C20.3295 14.8029 20.032 15.1011 19.665 15.1011H16.2119L16.2139 15.0601C16.2138 13.7223 15.6689 12.5079 14.7988 11.5532Z"}),g.createElement("path",{d:"M3.4248 5.00146C4.85516 5.00146 6.01454 6.16098 6.01465 7.59131C6.01454 9.02164 4.85516 10.1812 3.4248 10.1812C1.99454 10.181 0.835068 9.02157 0.834961 7.59131C0.835066 6.16105 1.99454 5.00157 3.4248 5.00146Z"}),g.createElement("path",{d:"M16.5703 5.00146C18.0006 5.00157 19.1601 6.16105 19.1602 7.59131C19.16 9.02157 18.0006 10.181 16.5703 10.1812C15.14 10.1812 13.9806 9.02164 13.9805 7.59131C13.9806 6.16098 15.14 5.00146 16.5703 5.00146Z"}),g.createElement("path",{d:"M10 4.27002C11.6099 4.27002 12.915 5.57515 12.915 7.18506C12.915 8.79497 11.6099 10.1001 10 10.1001C8.39009 10.1001 7.08496 8.79497 7.08496 7.18506C7.08496 5.57515 8.39009 4.27002 10 4.27002Z"})),IPt=Object.freeze(Object.defineProperty({__proto__:null,default:dfe},Symbol.toStringTag,{value:"Module"})),opt=7*24*60*60*1e3;function ipt(t,e){const n=Date.parse(t.dismissedAt);return Number.isNaN(n)?!0:Date.now()-n>e}function lpt(t,e){if(!t)return!1;if(!t.isDismissable||!t.dismissStorageKey)return!0;const n=Ft.getItem(t.dismissStorageKey);return n?ipt(n,e):!0}const cpt=t=>{const e=q(),n=Mr(),r=g.useCallback(()=>{n&&(B.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"sidebar-footer-cap"}),Ki(e).logEvent("chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"sidebar-footer-cap",text:"AddTeammates",step:"OpenModal"}),Dt(e,({onClose:a})=>o.jsx(mA,{workspace:n,onClose:a})))},[e,n]),s=g.useCallback(()=>{B.logEventWithStatsig("Invite Users to Workspace Button Dismissed","chatgpt_invite_users_to_workspace_dismissed",{variant:"expanded sidebar"})},[]);return g.useMemo(()=>({variant:"invite",label:o.jsx(N,{id:"inviteMemberButton.inviteMemberSidebarFooterCap",defaultMessage:"Invite team members"}),icon:o.jsx(dfe,{className:"icon-sm","aria-hidden":"true"}),onClick:r,isDismissable:t.isDismissable,dismissStorageKey:et.HasDismissedSidebarFooterCapTeamInviteButton,onDismissCallback:s}),[r,s,t==null?void 0:t.isDismissable])},upt=t=>{const e=it(),n=g.useCallback(()=>{fr(e,"sidebar footer cap above user menu")},[e]),r=g.useCallback(()=>{B.logEventWithStatsig("Upgrade Plan Button Dismissed","chatgpt_upgrade_plan_button_dismissed",{variant:"expanded sidebar"})},[]);return g.useMemo(()=>({variant:"upgrade",label:o.jsx(N,C({},tn.upgradeYourPlan)),icon:o.jsx(XN,{className:"icon-sm text-[#5856D6]","aria-hidden":"true"}),onClick:n,isDismissable:t.isDismissable,dismissStorageKey:et.HasDismissedSidebarFooterCapFreeUpsellButton,onDismissCallback:r}),[n,r,t==null?void 0:t.isDismissable])};function LPt(t){var p,h;const e=(p=t==null?void 0:t.dismissTtlMs)!=null?p:opt,n=(h=t==null?void 0:t.isDismissable)!=null?h:!1,r=q(),s=yt(r),{enableProfileUpgradePill:a}=UHe(),i=Yae(),l=cpt({isDismissable:n}),c=upt({isDismissable:n}),u=g.useMemo(()=>{var v;return s?(v=s.isTeam)!=null&&v.call(s)?l:i&&a?c:null:null},[s,a,l,i,c]),[d,f]=g.useState(!1);g.useEffect(()=>{f(lpt(u,e))},[u,e]);const m=g.useCallback(()=>{var v;if(u!=null&&u.isDismissable&&u.dismissStorageKey){(v=u.onDismissCallback)==null||v.call(u);const y={dismissedAt:new Date().toISOString()};Ft.setItem(u.dismissStorageKey,y)}f(!1)},[u]);return u?{isVisible:d,dismiss:m,config:u}:null}const dpt=1;function fpt(t){return t?new Date>aE(t,dpt):!0}function mpt(){const[t,e]=$o(et.SubscriptionFailedBanner,null,a=>typeof a=="number"),n=t!=null?Nf(t):null;return{canBeSeen:fpt(n),markSeen:()=>{e(Xl(new Date))}}}var b_,CG;function ppt(){if(CG)return b_;CG=1;var t=nue();function e(n,r,s){var a=n.length;return s=s===void 0?a:s,!r&&s>=a?n:t(n,r,s)}return b_=e,b_}var C_,_G;function ffe(){if(_G)return C_;_G=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,a="\\ufe0e\\ufe0f",i="\\u200d",l=RegExp("["+i+t+s+a+"]");function c(u){return l.test(u)}return C_=c,C_}var __,wG;function gpt(){if(wG)return __;wG=1;function t(e){return e.split("")}return __=t,__}var w_,SG;function hpt(){if(SG)return w_;SG=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,a="\\ufe0e\\ufe0f",i="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",h=u+"?",v="["+a+"]?",y="(?:"+p+"(?:"+[d,f,m].join("|")+")"+v+h+")*",x=v+h+y,b="(?:"+[d+l+"?",l,f,m,i].join("|")+")",_=RegExp(c+"(?="+c+")|"+b+x,"g");function w(S){return S.match(_)||[]}return w_=w,w_}var S_,kG;function vpt(){if(kG)return S_;kG=1;var t=gpt(),e=ffe(),n=hpt();function r(s){return e(s)?n(s):t(s)}return S_=r,S_}var k_,MG;function ypt(){if(MG)return k_;MG=1;var t=ppt(),e=ffe(),n=vpt(),r=sJ();function s(a){return function(i){i=r(i);var l=e(i)?n(i):void 0,c=l?l[0]:i.charAt(0),u=l?t(l,1).join(""):i.slice(1);return c[a]()+u}}return k_=s,k_}var M_,EG;function xpt(){if(EG)return M_;EG=1;var t=ypt(),e=t("toUpperCase");return M_=e,M_}var E_,jG;function bpt(){if(jG)return E_;jG=1;var t=sJ(),e=xpt();function n(r){return e(t(r).toLowerCase())}return E_=n,E_}var Cpt=bpt();const Mk=St(Cpt),_pt=({message:t,buttonText:e,buttonAction:n,iconAriaLabel:r,isDismissible:s,onDismiss:a})=>o.jsx("div",{className:"pointer-events-none fixed inset-x-4 top-2 z-50 flex justify-center",children:o.jsx(xn,{className:"pointer-events-auto bg-yellow-300 text-[16px] text-black",icon:o.jsx(uE,{className:"icon-lg mt-1.5","aria-label":r}),content:t,customCtas:e?o.jsx("button",{onClick:n,className:"font-medium text-black underline dark:text-white",type:"button",children:e}):void 0,onDismiss:s?a:void 0})}),wpt=({title:t,message:e,buttonText:n,buttonAction:r,iconAriaLabel:s,isDismissible:a,onDismiss:i})=>o.jsxs("div",{className:"border-main-surface-secondary flex h-auto min-h-16 items-center justify-between bg-yellow-300 p-3 text-black dark:border-transparent",ref:l=>{const c=c1({axis:"height",target:l,onChange({height:u}){document.documentElement.style.setProperty("--top-banner-height","".concat(u,"px"))}});return()=>{c==null||c(),document.documentElement.style.removeProperty("--top-banner-height")}},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"px-2",children:o.jsx(uE,{className:"icon-lg","aria-label":s})}),o.jsx("div",{className:"px-2",children:o.jsxs("div",{children:[t&&o.jsx("div",{className:"text-sm font-bold",children:t}),o.jsx("div",{className:U(t?"text-sm":""),children:e})]})})]}),o.jsxs("div",{className:"flex flex-none items-center gap-2 pe-4",children:[n&&o.jsx(oe,{onClick:r,color:"primary",className:"dark:bg-gray-950 dark:text-white",children:n}),a&&o.jsx(gn,{onClick:i,className:"hover:bg-black/10! dark:hover:bg-white/10!"})]})]}),Spt=7,ks=pe({userTitle:{id:"SubscriptionRenewalFailedBanner.userTitle",defaultMessage:"Your workspace will be deactivated on {date}"},ownerTile:{id:"SubscriptionRenewalFailedBanner.ownerTitle",defaultMessage:"Unable to charge payment method for your Team subscription"},userMessage:{id:"SubscriptionRenewalFailedBanner.userMessage",defaultMessage:"Please contact your workspace admin to retain access to your account"},ownerMessage:{id:"SubscriptionRenewalFailedBanner.ownerMessage",defaultMessage:"We'll keep trying this method, or you can update it now. To continue accessing your workspace, please take action by {date}"},ownerButtonText:{id:"SubscriptionRenewalFailedBanner.ownerButtonText",defaultMessage:"Update"},iconAriaLabel:{id:"SubscriptionRenewalFailedBanner.iconAriaLabel",defaultMessage:"Warning"},personalTitle:{id:"SubscriptionRenewalFailedBanner.personalTitle",defaultMessage:"Unable to charge payment method for your {subscription} subscription"},personalDescriptionNoDate:{id:"SubscriptionRenewalFailedBanner.personalDescription",defaultMessage:"We're keeping your access active for now. To continue using Plus, please update your payment details."},personalDescriptionWithDate:{id:"SubscriptionRenewalFailedBanner.personalDescriptionWithDate",defaultMessage:"We're keeping your access active for now. To continue using {subscription}, please update your payment details by {date}."},personalMessageMobileNoDate:{id:"SubscriptionRenewalFailedBanner.personalMessageMobile",defaultMessage:"Subscription charge failed. Please update your payment method."},personalMessageMobileWithDate:{id:"SubscriptionRenewalFailedBanner.personalMessageMobileWithDate",defaultMessage:"Subscription charge failed. Please update your payment method by {date}."}});function kpt(t){t?document.documentElement.classList.add("top-banner-visible"):document.documentElement.classList.remove("top-banner-visible")}const RPt=t=>{const e=q(),n=yt(e),r=ZM();return!(n!=null&&n.hasPaidSubscription())||r.authStatus!==Ba.LoggedIn?null:o.jsx(Mpt,C({},t))},Mpt=({setIsVisible:t})=>{const e=Z(),n=it(),[r,s]=g.useState(!1),[a,i]=g.useState(!1),{data:l}=Qae(),{canBeSeen:c,markSeen:u}=mpt(),d=Mr(),f=d==null?void 0:d.isStandardUserOfAccount(),m=Qi(),p=l!=null&&l.plan_type===Re.SELF_SERVE_BUSINESS,h=q(),v=ze(h,"3850010910"),y=l!=null&&l.became_delinquent_timestamp?new Date(l.became_delinquent_timestamp):null,x=y!=null&&new Date>aE(y,p&&f?3:2),b=l!=null&&l.grace_period_end_timestamp!=null&&new Date(l.grace_period_end_timestamp)>new Date,_=l!=null&&!!l.is_delinquent&&b&&l.will_renew&&x,w=_&&p,S=_&&l.plan_type===Re.PLUS&&c&&v.get("include_banner_notifications",!1),k=S&&l!=null&&l.grace_period_end_timestamp!=null&&W6e(new Date(l.grace_period_end_timestamp),Spt)<new Date,M=S&&v.get("is_banner_notification_dismissible",!1),E=ie(h,"2293185713"),T=!m&&l!=null&&(w||S||E),j=Us(),A=T&&(!j||M)&&!a,I=A&&!j,L=A&&j;T&&!A&&B.logEvent("Subscription Renewal Failed Banner Hidden On Mobile"),g.useEffect(()=>{A&&(p?f?B.logEventWithStatsig("Subscription Renewal Failed Banner Shown to User","chatgpt_web_subscription_renewal_failed_banner_shown_to_user"):B.logEventWithStatsig("Subscription Renewal Failed Banner Shown to Owner","chatgpt_web_subscription_renewal_failed_banner_shown_to_owner"):B.logEventWithStatsig("Subscription Renewal Failed Banner Shown to Personal User","chatgpt_web_subscription_renewal_failed_banner_shown_to_personal_user")),t==null||t(A)},[A,f,t,p]);const O=async()=>{s(!0);let F;try{F=(await ue.safeGet("/payments/customer_portal",{parameters:{query:{account_id:d==null?void 0:d.getWorkspaceId()}},intercomEventOnError:"fetch-error:customer_portal:get"})).url}catch(X){F=window.location.origin+"/admin/billing"}finally{s(!1)}B.logEventWithStatsig("Subscription Renewal Failed Banner Owner Clicked","chatgpt_web_subscription_renewal_failed_banner_owner_clicked"),location.href=F},R=()=>{O().catch(()=>{})},H=()=>{B.logEventWithStatsig("Subscription Renewal Failed Banner Personal Manage Subscription CTA Clicked","chatgpt_web_subscription_renewal_failed_banner_personal_cta_clicked"),n("/account/manage")},V=l!=null&&l.grace_period_end_timestamp!=null?y1e(e,new Date(l.grace_period_end_timestamp)):null;let z="",$="",D="",Y;p?f?(z=e.formatMessage(ks.userTitle,{date:V}),$=e.formatMessage(ks.userMessage)):(z=e.formatMessage(ks.ownerTile),$=e.formatMessage(ks.ownerMessage,{date:V}),D=e.formatMessage(ks.ownerButtonText),Y=R):(z=e.formatMessage(ks.personalTitle,{subscription:Mk(l==null?void 0:l.plan_type)}),D=e.formatMessage(ks.ownerButtonText),Y=H,j?k?$=e.formatMessage(ks.personalMessageMobileWithDate,{date:V}):$=e.formatMessage(ks.personalMessageMobileNoDate):k?$=e.formatMessage(ks.personalDescriptionWithDate,{subscription:Mk(l==null?void 0:l.plan_type),date:V}):$=e.formatMessage(ks.personalDescriptionNoDate)),kpt(I);const G=()=>{B.logEventWithStatsig("Subscription Renewal Failed Banner Personal Dismissed","chatgpt_web_subscription_renewal_failed_banner_personal_dismissed"),u(),i(!0)};return A?L?o.jsx(_pt,{message:$,buttonText:D,buttonAction:Y,iconAriaLabel:e.formatMessage(ks.iconAriaLabel),isDismissible:M,onDismiss:G}):o.jsx(wpt,{title:z,message:$,buttonText:D,buttonAction:Y,iconAriaLabel:e.formatMessage(ks.iconAriaLabel),isDismissible:M,onDismiss:G}):null},Ept=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("circle",{cx:15,cy:6,r:4,fill:"#0285FF"}),g.createElement("path",{d:"M11.8008 12.6826C12.1036 12.7448 12.3311 13.0128 12.3311 13.334C12.3307 13.6549 12.1034 13.9232 11.8008 13.9854L11.666 13.999H3.33301C2.96607 13.9989 2.66832 13.7009 2.66797 13.334C2.66797 12.9668 2.96585 12.6691 3.33301 12.6689H11.666L11.8008 12.6826Z"}),g.createElement("path",{d:"M9.16992 6.00195C9.17007 6.45966 9.22432 6.90473 9.32422 7.33203H3.33301C2.96596 7.3319 2.66814 7.03403 2.66797 6.66699C2.66797 6.2998 2.96585 6.00209 3.33301 6.00195H9.16992Z"})),OPt=Object.freeze(Object.defineProperty({__proto__:null,default:Ept},Symbol.toStringTag,{value:"Module"}));function jpt({children:t}){return o.jsx("div",{className:"bg-token-main-surface-primary h-full w-full px-[22px] py-4",children:t})}function mfe(){return o.jsxs("div",{className:"flex w-full gap-2",children:[o.jsx("div",{className:"h-6 w-6",children:o.jsx(wm,{className:"h-full w-full rounded-full!"})}),o.jsxs("div",{className:"flex w-full flex-col gap-2",children:[o.jsx(wm,{}),o.jsx(wm,{}),o.jsx(wm,{}),o.jsx(wm,{})]})]})}function Tpt({label:t,tab:e,activeTab:n,setActiveTab:r,caterpillarHeaderRef:s}){const a=g.useCallback(()=>{r(e),s.current&&s.current.scrollIntoView({behavior:"instant",block:"center"})},[r,e,s]),i=n===e;return o.jsx("button",{onClick:a,className:U("btn text-token-text-primary min-h-[36px]! min-w-[100px] rounded-full px-2 py-1 select-none",i?"bg-token-main-surface-primary shadow-sm":"bg-token-main-surface-tertiary!"),children:t})}function Npt({activeTab:t,setActiveTab:e,sourcesCount:n,showAuxTab:r=!1,caterpillarHeaderRef:s}){const a=Z(),i=[{tab:"activity",label:a.formatMessage({id:"9lnBJU",defaultMessage:"Activity"})},{tab:"sources",label:n>1?a.formatMessage({id:"/Ucokx",defaultMessage:"{sourcesCount} Sources"},{sourcesCount:n}):n===1?a.formatMessage({id:"CCF0z+",defaultMessage:"1 Source"}):a.formatMessage({id:"twjHy3",defaultMessage:"Sources"})}];return r&&i.unshift({tab:"report",label:a.formatMessage({id:"zF7Fu5",defaultMessage:"Report"})}),o.jsx("div",{className:U("border-token-main-surface-tertiary bg-token-main-surface-tertiary flex items-center rounded-full border-[4px] transition-all"),children:i.map(({tab:l,label:c})=>o.jsx(Tpt,{activeTab:t,tab:l,setActiveTab:e,label:c,caterpillarHeaderRef:s},l))})}const Q4=({children:t,icon:e,fillIcon:n,className:r})=>o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("div",{className:U("mt-[3px] inline-flex h-5 w-5 shrink-0 items-center justify-center gap-2.5 rounded-[30px]",n&&"border border-black/10 bg-white",r),children:e}),t]});function Im({icon:t,message:e,iconClassName:n}){return o.jsx("div",{className:"loading-shimmer-pure-text flex h-8 gap-1 overflow-hidden",children:o.jsx(Q4,{fillIcon:!1,icon:t,className:n,children:o.jsx("div",{className:"mt-[.5px] flex h-10",children:e})})})}const Apt=({finalRow:t})=>{var r;const e=Z(),n=t.type==="fileOpen"?(r=Hle[t.iconType])!=null?r:is:null;return o.jsx(Kt,{children:o.jsx(Se.div,{layout:!0,transition:{type:"spring",stiffness:300,damping:30},className:"flex flex-col items-start justify-start gap-4",children:t.type==="search"?o.jsx(Im,{icon:o.jsx(Cu,{className:"text-token-text-primary relative h-5 w-5 opacity-50"}),message:e.formatMessage({id:"f9wsyE",defaultMessage:"Searchingâ¦"})}):t.type==="websiteOpen"?o.jsx(Im,{icon:o.jsx(Vs,{className:"inline-flex h-5 w-5 items-center justify-center opacity-50"}),message:e.formatMessage({id:"8L6BBp",defaultMessage:"Readingâ¦"})}):t.type==="fileOpen"?o.jsx(Im,{icon:o.jsx(n,{className:"inline-flex h-5 w-5 items-center justify-center opacity-50"}),message:e.formatMessage({id:"h5M4/O",defaultMessage:"Reading fileâ¦"})}):t.type==="pythonAnalysis"?o.jsx(Im,{icon:o.jsx(yN,{className:"inline-flex h-5 w-5 items-center justify-center opacity-50"}),message:e.formatMessage({id:"jZ7gNw",defaultMessage:"Analyzingâ¦"})}):o.jsx(Im,{icon:o.jsx(jd,{className:"inline-flex h-5 w-5 items-center justify-center opacity-50"}),message:e.formatMessage({id:"bSPYmC",defaultMessage:"Thinkingâ¦"})})})})},Ppt=({children:t})=>o.jsxs("div",{className:"flex items-start gap-2 text-start text-wrap",children:[o.jsx("div",{className:"mt-[1px] inline-flex h-5 w-5 shrink-0 items-center justify-end gap-2.5 pt-[3px]",children:o.jsx(yN,{className:"text-token-text-primary relative h-5 w-5"})}),t]}),Ipt=({row:t})=>o.jsx(Ppt,{children:o.jsx("div",{className:"text-token-text-primary flex text-base",children:t.analysisSummary})}),Lpt=({children:t,showIcon:e})=>o.jsxs("div",{className:"flex items-start gap-2 text-start text-wrap",children:[o.jsx("div",{className:"mt-[1px] inline-flex h-5 w-5 shrink-0 items-center justify-end gap-2.5 pt-[3px]",children:e&&o.jsx(Cu,{className:"text-token-text-primary relative h-5 w-5"})}),t]}),Rpt=({row:t,showIcon:e})=>{const n=t.query;return n?o.jsx(Lpt,{showIcon:e,children:o.jsx("div",{className:"text-token-text-primary flex text-base",children:n})}):null};function Opt({children:t,showIcon:e=!0}){return o.jsx(Q4,{fillIcon:!1,icon:e?o.jsx(jd,{className:"text-token-text-primary inline-flex h-5 w-5 items-center justify-center"}):null,children:t})}const Dpt={strong:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("strong",P(C({},r),{className:U(r.className,"text-token-text-primary font-semibold"),children:n}))},p:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("p",P(C({},r),{className:U(r.className,"mb-0! text-base"),children:n}))}};function Fpt(t){return t.replace(/^#+\s*.*$/gm,"").replace(/^\*\*.*\*\*$/gm,"").trim()}function Bpt({row:t,showIcon:e=!0}){const n=t.summary;if(!n)return null;const r=Fpt(n);return r.length===0?null:o.jsx(Opt,{showIcon:e,children:o.jsx(ar,{componentOverrides:Dpt,className:"w-0! flex-1 leading-6",children:r})})}function Upt(t){try{const{hostname:e}=new URL(t);return e}catch(e){return null}}const Hpt={p:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("p",P(C({},r),{className:"text-token-text-primary text-start text-base",children:n}))},a:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("a",P(C({},r),{className:"text-blue! text-base leading-6",children:n}))}},Vpt=({website:t})=>{const e=Upt(t.url);return e?o.jsxs("div",{className:"flex items-start justify-start gap-2",children:[o.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:o.jsx(wt,{label:e,className:"bg-token-main-surface-primary mt-[3px] flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center",children:o.jsx(kN,{url:t.url,size:"xsmall",className:"h-5 w-5",fallback:o.jsx(Nn,{url:t.url,className:"h-5 w-5 rounded-2xl border-[.5px] border-black/25",fallback:o.jsx(jc,{className:"icon-sm text-token-text-quaternary"})})})})}),o.jsx("div",{className:"text-token-text-primary mt-[1px] flex flex-col text-base",children:o.jsx(ar,{componentOverrides:Hpt,children:t.rowText})})]}):null};function Lm({children:t}){return o.jsx(Se.div,{className:"w-full",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:t})}const $pt=({previousRow:t,currentRow:e})=>o.jsx("div",{className:"flex flex-col items-start justify-start gap-4",children:e.type==="search"?o.jsx(Lm,{children:o.jsx(Rpt,{row:e,showIcon:!t||t.type!=="search"})},"search_".concat(e.id)):e.type==="summary"?o.jsx(Lm,{children:o.jsx(Bpt,{row:e,showIcon:!t||t.type!=="summary"})},"summary_".concat(e.id)):e.type==="websiteOpen"?o.jsx(Lm,{children:o.jsx(Vpt,{website:e})},"website_".concat(e.id)):e.type==="fileOpen"?o.jsx(Lm,{children:o.jsx(IQe,{row:e})},"file_".concat(e.id)):e.type==="pythonAnalysis"?o.jsx(Lm,{children:o.jsx(Ipt,{row:e})},"python_".concat(e.id)):null}),qpt=120,zpt=1e3*60*2;function TG(t){t==null||t.scrollIntoView({block:"center",behavior:"smooth"})}function Gpt({caterpillarStatusMessageTexts:t}){return o.jsx("div",{className:"p-4",children:o.jsx(xn,{type:"error",title:t.failureMessage,content:t.failureBannerContentMessage})})}function Wpt({caterpillarStatusMessageTexts:t}){return o.jsx("div",{className:"p-4",children:o.jsx(xn,{title:t.cancelledMessage,content:""})})}function Zpt({sourcesCount:t,taskInfo:e}){const n=Te(e.originalConversationId,s=>{var a,i;return(i=(a=se.findNode(s,l=>{var c,u;return((c=l.message.metadata)==null?void 0:c.b1de6e2_s)===!0&&((u=l.message.metadata)==null?void 0:u.async_task_id)===e.taskId}))==null?void 0:a.message.metadata)==null?void 0:i.async_task_status_messages}),r=g.useMemo(()=>{var s;return n!=null&&n.completed_no_time?o.jsxs(o.Fragment,{children:[(s=n==null?void 0:n.completed_with_time)!=null?s:n==null?void 0:n.completed_no_time,o.jsx(N,{id:"zxfmo/",defaultMessage:" Â· {sourcesCount} sources",values:{sourcesCount:t}})]}):o.jsx(N,{id:"YG7a0T",defaultMessage:"Completed Â· {sourcesCount} sources",values:{sourcesCount:t}})},[t,n]);return!e.updatedAt&&!(n!=null&&n.completed)?null:o.jsx(Q4,{icon:o.jsx(Q6,{className:"text-token-text-secondary"}),fillIcon:!1,children:o.jsx("div",{className:"text-token-text-tertiary",children:r})})}function Kpt({taskInfo:t,caterpillarStatusMessageTexts:e,sourcesCount:n,caterpillarHeaderRef:r}){const[s,a]=g.useState(!1),i=g.useRef(!1),l=g.useRef(null),c=g.useMemo(()=>{var h;return i.current=!!l.current&&VQe(l.current,qpt),(h=t.rows)!=null?h:[]},[t.rows]);g.useEffect(()=>{if(c.length===0){const h=new Date(t.createdAt).getTime(),v=Date.now()-h,y=zpt-v;if(y>0){const x=setTimeout(()=>{a(!0)},y);return()=>clearTimeout(x)}else a(!0)}else a(!1)},[c,t.createdAt]),g.useEffect(()=>{i.current&&TG(l.current)},[c]),g.useEffect(()=>{kS(t)||setTimeout(()=>{l.current&&TG(l.current)},100)},[]);const u=kS(t)||nse(t),d=vce(t.originalConversationId),f=g.useMemo(()=>c.length&&!u&&!d?c.slice(0,c.length-1):c,[c,u,d]),m=()=>{Fe(t.originalConversationId,h=>{h.steeringAsyncTaskId=t.taskId})},p=t.status==="finalizing";return o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{ref:r},"task-header"),o.jsxs("div",{className:"flex w-full flex-col gap-4",children:[o.jsx("div",{className:"text-base font-medium",children:t.title}),c.length?o.jsxs(Kt,{initial:!1,children:[f.map((h,v)=>o.jsx($pt,{previousRow:v>0?c[v-1]:null,currentRow:h},h.id)),!u&&o.jsx(Apt,{finalRow:c[c.length-1]})]}):s?o.jsx(Q4,{fillIcon:!1,icon:o.jsx(jd,{className:"text-token-text-primary inline-flex h-5 w-5 items-center justify-center"}),children:e.waitingInQueueMessage}):o.jsx(mfe,{}),rse(t)&&d&&o.jsx(oe,{onClick:m,disabled:p,children:p?o.jsx(N,{id:"WhS0Hs",defaultMessage:"Finalizing"}):o.jsx(N,{id:"QP2RR0",defaultMessage:"Comment"})}),t.status==="failed"?o.jsx(Gpt,{caterpillarStatusMessageTexts:e}):t.status==="cancelled"?o.jsx(Wpt,{caterpillarStatusMessageTexts:e}):t.status==="completed"?o.jsx(Zpt,{caterpillarStatusMessageTexts:e,taskInfo:t,sourcesCount:n}):null]}),o.jsx("div",{ref:l},"task-footer")]})}const Ypt="_leadingBar_sbmq2_1",Qpt="_leadingBarScrollAnimation_sbmq2_19",Jpt="_trailingBar_sbmq2_23",Xpt="_trailingBarScrollAnimation_sbmq2_41",e0t="_primary_sbmq2_45",Rm={leadingBar:Ypt,leadingBarScrollAnimation:Qpt,trailingBar:Jpt,trailingBarScrollAnimation:Xpt,primary:e0t};function t0t({disabled:t=!1,track:e}={}){const[n,r]=g.useState(null),s=g.useRef(null),a=g.useRef(null),i=g.useCallback(l=>{if(a.current&&(a.current.disconnect(),a.current=null),s.current=l,t||!l)return;const c=new ResizeObserver(u=>{if(!u.length)return;const d=u[0],{width:f,height:m}=n0t(d);g.startTransition(()=>{r(p=>{const h={width:f,height:m};return!p||e==="width"&&p.width!==f||e==="height"&&p.height!==m||p.width!==f||p.height!==m?h:p})})});c.observe(l),a.current=c},[t,e]);return[n,i]}function n0t(t){let e,n;if(t.borderBoxSize){const r=Array.isArray(t.borderBoxSize)?t.borderBoxSize[0]:t.borderBoxSize;e=r.inlineSize,n=r.blockSize}else e=t.contentRect.width,n=t.contentRect.height;return{width:e,height:n}}function wg({disableSizeTracking:t,name:e,track:n}){const[r,s]=t0t({disabled:n===void 0||t,track:n});let a={};return e&&!t&&n&&r&&(a={["--".concat(e,"-").concat(n)]:"".concat(r[n==="width"?"width":"height"],"px")}),[a,s,r]}function pfe(t){var h;const p=t,{axis:e="horizontal",children:n,className:r,hidden:s,leading:a,trailing:i,ref:l,style:c,type:u}=p,d=de(p,["axis","children","className","hidden","leading","trailing","ref","style","type"]),[f,m]=wg(d);return o.jsx("div",{"bar-type":u,hidden:s,"data-testid":"bar-".concat((h=d.name)!=null?h:"default"),className:U("gap-bar grid",e==="vertical"&&"flex-col",a&&[Rm.leadingBar,Rm.leadingBarScrollAnimation],i&&[Rm.trailingBar,Rm.trailingBarScrollAnimation],u==="primary"&&Rm.primary,r),ref:l!=null?l:m,style:C(C({},c),f),children:n})}const r0t="_screen_c7xqp_1",s0t={screen:r0t};function a0t(t){const k=t,{anchor:e,children:n,className:r,contentClassName:s,leading:a,leadingClassName:i,primaryScrollContainer:l,ref:c,style:u,trailing:d,trackLeading:f,trackTrailing:m}=k,p=de(k,["anchor","children","className","contentClassName","leading","leadingClassName","primaryScrollContainer","ref","style","trailing","trackLeading","trackTrailing"]),{name:h}=p,[v,y]=wg(p),[x,b]=wg({disableSizeTracking:!f,name:"".concat(h,"-leading"),track:"height"}),[_,w]=wg({disableSizeTracking:!m,name:"".concat(h,"-trailing"),track:"height"}),S=h!=null?h:"default";return o.jsxs("section",{className:U(s0t.screen,"h-[var(--screen-height-override,calc(var(--cqh-full)-var(--screen-height-offset,0px)))]","keyboard-open:h-[var(--screen-height-override,calc(var(--cqh-full)-env(keyboard-inset-height,0px)-var(--screen-height-offset,0px)-var(--force-redraw,0px)))]",r),"data-testid":"screen-".concat(S),"data-primary-scroller":l,"screen-anchor":e,ref:ST(y,c),style:P(C(C(C(C({},u),v),x),_),{container:h?"".concat(h," / inline-size"):void 0,minWidth:"min(var(--screen-".concat(S,"_min-width), 100cqw)")}),children:[o.jsx("div",{slot:"leading",ref:b,className:i,children:a}),o.jsx("div",{slot:"content",className:s,children:n}),o.jsx("div",{slot:"trailing",ref:M=>{w(M)},children:d})]})}var mK;const o0t=Ge.button(mK||(mK=qe(["cursor-pointer absolute z-30 rounded-full bg-clip-padding border text-token-text-secondary border-token-border-default end-1/2 translate-x-1/2 bg-token-main-surface-primary w-8 h-8 flex items-center justify-center"])));function i0t({show:t,onClick:e,className:n}){return o.jsx(Kt,{children:t&&o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"easeInOut"},children:o.jsx(o0t,{className:n,onClick:e,children:o.jsx(PT,{className:"icon text-token-text-primary"})})})})}function Ac(u){var d=u,{ariaLabel:t,leadingFullBleed:e,trailing:n,handleClose:r,showScrollToBottomButton:s=!1,children:a,onScroll:i,restoreScrollTop:l}=d,c=de(d,["ariaLabel","leadingFullBleed","trailing","handleClose","showScrollToBottomButton","children","onScroll","restoreScrollTop"]);const f=q(),m=ws(f),p=g.useRef(null),[h,v]=g.useState(!0);return g.useEffect(()=>{const y=p.current;if(!y||typeof i!="function")return;function x(){y&&i&&i(y.scrollTop)}return y.addEventListener("scroll",x,{passive:!0}),()=>{y.removeEventListener("scroll",x)}},[i]),g.useEffect(()=>{const y=p.current;!y||l==null||requestAnimationFrame(()=>{y.scrollTop=l})},[l]),o.jsxs(o.Fragment,{children:[o.jsxs(a0t,{ref:p,anchor:"top",className:U("relative flex-1",m?"border-s-thin border-(--bento-border-color)":"border-s-token-border-sharp dark:border-token-main-surface-secondary border-s"),name:"threadFlyOut",ariaLabel:t,primaryScrollContainer:!0,trackLeading:!0,trailing:n,contentClassName:"bg-token-bg-primary",leading:(()=>{if("renderLeading"in c)return c.renderLeading({handleClose:r});const{leading:y}=c;return o.jsx(pfe,{name:"search-sources-header",type:"primary",className:U("flex items-center ".concat(y?"":"justify-end p-1.5"," bg-transparent!"),e&&"pointer-events-none",m?"min-h-[calc(var(--header-height,3.5rem))]":"min-h-[calc(var(--header-height,3.5rem)+1px)]"),children:y?o.jsxs("div",{className:U("flex items-center justify-between px-6 py-3",m?"h-[calc(var(--header-height,3.5rem))] border-(--bento-border-color)":"border-token-border-sharp h-[calc(var(--header-height,3.5rem)+1px)]",e?"pointer-events-none bg-transparent":m?"border-b-thin border-(--bento-border-color)":"bg-token-main-surface-primary border-b"),children:[y,o.jsx(gn,{className:U("bg-token-main-surface-primary pointer-events-auto -me-3.5",e&&"opacity-80"),bg:e?"primary":"transparent",onClick:r})]}):o.jsx(gn,{className:"bg-token-main-surface-primary! hover:bg-token-main-surface-secondary! me-3 p-1",onClick:r})})})(),leadingClassName:e?"pointer-events-none":void 0,children:[a,s&&o.jsx(Z6e,{setIsScrolledToEdge:y=>{v(!y)},options:{rootMargin:"0px 0px 80px 0px"}})]}),s&&o.jsx(i0t,{show:!h,className:"bottom-8",onClick:()=>{var y,x;(x=p==null?void 0:p.current)==null||x.scrollTo({top:(y=p==null?void 0:p.current)==null?void 0:y.scrollHeight,behavior:"smooth"})}})]})}function DPt({taskId:t,setWidth:e=void 0,initialTab:n}){const r=to(p=>sc.getTask(t,p)),{closeThreadSidebar:s}=Bn(),[a,i]=g.useState(n),l=MN(),c=g.useRef(null),u=!1;g.useEffect(()=>{i(n)},[n]),g.useEffect(()=>{},[r==null?void 0:r.taskId,r==null?void 0:r.status,u]),g.useEffect(()=>{},[r==null?void 0:r.taskId,r==null?void 0:r.status,a]),g.useEffect(()=>{},[e,r,u]);const d=Z(),{uniqueSources:f,totalSources:m}=g.useMemo(()=>{if(!(r!=null&&r.rows))return{uniqueSources:[],totalSources:0};const p=Wle(r.rows),h=p.reduce((v,y)=>v+y.count,0);return{uniqueSources:p,totalSources:h}},[r==null?void 0:r.rows]);return o.jsx(Ac,{ariaLabel:d.formatMessage({id:"region.sidebar.caterpillar",defaultMessage:"Tasks"}),handleClose:s,leading:o.jsx("div",{className:"flex w-full justify-center",children:o.jsx(Npt,{activeTab:a,setActiveTab:i,showAuxTab:u,sourcesCount:m,caterpillarHeaderRef:c})}),children:r&&o.jsxs(jpt,{children:[!1,a==="activity"&&o.jsx(Kpt,{taskInfo:r,caterpillarStatusMessageTexts:l,sourcesCount:m,caterpillarHeaderRef:c}),a==="sources"&&o.jsx(cce,{taskIsPending:rse(r),finalMessage:r.finalMessage,sources:f,caterpillarHeaderRef:c})]})})}const gfe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M8.8011 3.611C9.05912 3.44087 9.40989 3.46898 9.63703 3.69596C9.89673 3.95566 9.89673 4.37767 9.63703 4.63737L4.93977 9.33463H16.6663L16.8011 9.34831C17.1038 9.41043 17.3312 9.67859 17.3314 9.99967C17.3314 10.3209 17.1039 10.5888 16.8011 10.651L16.6663 10.6647H4.93879L9.63703 15.363L9.722 15.4674C9.89241 15.7255 9.86413 16.0761 9.63703 16.3034C9.40981 16.5306 9.05921 16.5587 8.8011 16.3883L8.69661 16.3034L2.86262 10.4704C2.60319 10.2108 2.6033 9.78962 2.86262 9.52995L8.69661 3.69596L8.8011 3.611Z"})),FPt=Object.freeze(Object.defineProperty({__proto__:null,default:gfe},Symbol.toStringTag,{value:"Module"}));function BPt({title:t,isTransparent:e,onClose:n}){const r=Z(),[s,a]=g.useState(!1),{canGoBack:i,goBack:l,goToHistoryIndex:c,backHistory:u}=ide(),d=U("pointer-events-auto",e&&"bg-opacity-70 backdrop-blur-[12.5px] backdrop-filter");return o.jsx(pfe,{name:"entity-header",type:"primary",className:U("flex min-h-[calc(var(--header-height,3.5rem)+1px)] items-center bg-transparent!",e?"pointer-events-none":"pointer-events-auto"),children:o.jsxs("div",{className:U("flex h-[calc(var(--header-height,3.5rem)+1px)] items-center justify-between border-b px-6 py-3 transition-colors duration-200 ease-out",e?"pointer-events-none border-transparent bg-transparent":"bg-token-main-surface-primary border-light"),children:[o.jsxs("div",{className:"flex items-center gap-2",children:[i&&o.jsx(Qa,{open:s,onOpenChange:a,size:"small",triggerButton:o.jsx("button",{type:"button",onClick:l,onPointerDown:f=>{f.preventDefault()},onContextMenu:f=>{f.preventDefault(),i&&a(!0)},className:U("hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-tertiary keyboard-focused:focus-ring bg-token-main-surface-primary relative me-1 flex h-8 w-8 items-center justify-center rounded-full",d),"aria-label":r.formatMessage({id:"entity.sidebar.back",defaultMessage:"Back"}),children:o.jsx(gfe,{className:"icon"})}),children:u.map((f,m)=>({s:f,absoluteIndex:m})).reverse().map(({s:f,absoluteIndex:m})=>o.jsx(J.Item,{label:f.query,onSelect:()=>{a(!1),c(m)}},"".concat(m,"-").concat(f.type)))}),t&&!e&&o.jsx("div",{className:"text-token-text-primary pointer-events-auto line-clamp-1 text-lg font-normal",children:t})]}),o.jsx("div",{className:"pointer-events-auto",children:o.jsx(gn,{className:d,bg:e?"primary":"transparent",onClick:n})})]})})}const p1=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M11.5292 3.7793C11.7889 3.5196 12.211 3.5196 12.4707 3.7793C12.7304 4.039 12.7304 4.461 12.4707 4.7207L7.19136 10L12.4707 15.2793L12.5556 15.3838C12.7261 15.6419 12.6979 15.9934 12.4707 16.2207C12.2434 16.448 11.8919 16.4762 11.6337 16.3057L11.5292 16.2207L5.77925 10.4707C5.51955 10.211 5.51955 9.789 5.77925 9.5293L11.5292 3.7793Z"})),UPt=Object.freeze(Object.defineProperty({__proto__:null,default:p1},Symbol.toStringTag,{value:"Module"}));function l0t(t){"use forget";const e=ee.c(58),{images:n,initialIndex:r,className:s,aspect:a,objectPosition:i,showDots:l,showArrows:c,imageClassName:u,allowLoop:d,onClick:f}=t,m=r===void 0?0:r,p=s===void 0?"":s,h=a===void 0?"aspect-[16/9]":a,v=i===void 0?"object-cover":i,y=l===void 0?!0:l,x=c===void 0?!0:c,b=u===void 0?"":u,_=d===void 0?!0:d,[w,S]=g.useState(m),[k,M]=g.useState(!1),[E,T]=g.useState(!1),j=g.useRef(null),A=Z();let I;e[0]===Symbol.for("react.memo_cache_sentinel")?(I={active:!1,startX:0,lastX:0,dx:0,width:1,lastTime:0,velocity:0,captured:!1,programmaticTargetIndex:null},e[0]=I):I=e[0];const L=g.useRef(I),O=n.length;let R;e[1]!==_||e[2]!==O?(R=(Pe,Ie)=>{const ct=Ie===void 0?"smooth":Ie,dt=j.current;if(!dt)return;const ce=_?c0t(Pe,0,O-1):j_(Pe,0,O-1),ke=L.current.width||dt.clientWidth||1;L.current.programmaticTargetIndex=ce,dt.scrollTo({left:ce*ke,behavior:ct}),S(ce)},e[1]=_,e[2]=O,e[3]=R):R=e[3];const H=R;let V,z;e[4]!==x?(V=()=>{if(!x)return;T(!0);const Pe=window.setTimeout(()=>T(!1),2e3);return()=>window.clearTimeout(Pe)},z=[x],e[4]=x,e[5]=V,e[6]=z):(V=e[5],z=e[6]),g.useEffect(V,z);const $=k,D=k||E;let Y;e[7]!==H?(Y=Pe=>{H(Pe,"smooth")},e[7]=H,e[8]=Y):Y=e[8];const G=Y;let F;e[9]!==G||e[10]!==w?(F=()=>G(w+1),e[9]=G,e[10]=w,e[11]=F):F=e[11];const X=F;let te;e[12]!==G||e[13]!==w?(te=()=>G(w-1),e[12]=G,e[13]=w,e[14]=te):te=e[14];const ae=te;let me,W;e[15]===Symbol.for("react.memo_cache_sentinel")?(me=()=>{const Pe=j.current;if(!Pe)return;const Ie=new ResizeObserver(ct=>{for(const dt of ct)L.current.width=dt.contentRect.width||Pe.clientWidth||1});return Ie.observe(Pe),L.current.width=Pe.clientWidth||1,()=>Ie.disconnect()},W=[],e[15]=me,e[16]=W):(me=e[15],W=e[16]),g.useEffect(me,W);let K,ne;e[17]!==w||e[18]!==O?(K=()=>{const Pe=j.current;if(!Pe)return;const Ie=()=>{const ct=L.current.width||Pe.clientWidth||1,dt=Pe.scrollLeft||0,ce=dt/ct,ke=L.current.programmaticTargetIndex;if(ke!=null){const lt=ke*ct;Math.abs(dt-lt)<=2&&(L.current.programmaticTargetIndex=null);return}let Ze=w;ce>w+.5?Ze=j_(w+1,0,O-1):ce<w-.5&&(Ze=j_(w-1,0,O-1)),Ze!==w&&S(Ze)};return Pe.addEventListener("scroll",Ie,{passive:!0}),()=>Pe.removeEventListener("scroll",Ie)},ne=[O,w],e[17]=w,e[18]=O,e[19]=K,e[20]=ne):(K=e[19],ne=e[20]),g.useEffect(K,ne);const re="select-none ".concat(p," relative");let le,fe;e[21]===Symbol.for("react.memo_cache_sentinel")?(le=()=>M(!0),fe=()=>M(!1),e[21]=le,e[22]=fe):(le=e[21],fe=e[22]);const ge="relative w-full ".concat(h," overflow-clip");let ye;if(e[23]!==b||e[24]!==n||e[25]!==A||e[26]!==v||e[27]!==f){let Pe;e[29]!==b||e[30]!==A||e[31]!==v||e[32]!==f?(Pe=(Ie,ct)=>{var dt;return o.jsx("div",{onClick:()=>f==null?void 0:f(Ie,ct),className:"relative h-full w-full shrink-0 grow-0 basis-full snap-center",children:Ie.content?Ie.content:o.jsx("img",{src:Ie.src,alt:(dt=Ie.alt)!=null?dt:A.formatMessage({id:"wHCsqa",defaultMessage:"Slide {index}"},{index:ct+1}),className:"h-full w-full ".concat(v," ").concat(b)})},ct)},e[29]=b,e[30]=A,e[31]=v,e[32]=f,e[33]=Pe):Pe=e[33],ye=n.map(Pe),e[23]=b,e[24]=n,e[25]=A,e[26]=v,e[27]=f,e[28]=ye}else ye=e[28];let _e;e[34]!==ye?(_e=o.jsx("div",{ref:j,className:"no-scrollbar flex h-full w-full touch-pan-y snap-x snap-mandatory overflow-x-scroll scroll-smooth",children:ye}),e[34]=ye,e[35]=_e):_e=e[35];let Ne;e[36]!==n.length||e[37]!==A||e[38]!==$||e[39]!==X||e[40]!==ae||e[41]!==D||e[42]!==x?(Ne=x&&n.length>1&&o.jsxs(o.Fragment,{children:[o.jsx(NG,{ariaLabel:A.formatMessage({id:"l9pylv",defaultMessage:"Previous slide"}),onClick:ae,side:"start",visible:$,children:o.jsx(p1,{className:"icon-md"})}),o.jsx(NG,{ariaLabel:A.formatMessage({id:"L0pbQh",defaultMessage:"Next slide"}),onClick:X,side:"end",visible:D,children:o.jsx(a1,{className:"icon-md"})})]}),e[36]=n.length,e[37]=A,e[38]=$,e[39]=X,e[40]=ae,e[41]=D,e[42]=x,e[43]=Ne):Ne=e[43];let Ae;e[44]!==ge||e[45]!==_e||e[46]!==Ne?(Ae=o.jsxs("div",{className:ge,children:[_e,Ne]}),e[44]=ge,e[45]=_e,e[46]=Ne,e[47]=Ae):Ae=e[47];let ot;e[48]!==G||e[49]!==n||e[50]!==w||e[51]!==A||e[52]!==y?(ot=y&&n.length>1&&n.length<=20&&o.jsx("div",{className:"absolute start-0 end-0 bottom-3 flex items-center justify-center gap-2",children:n.map((Pe,Ie)=>o.jsx("button",{onClick:()=>G(Ie),"aria-label":A.formatMessage({id:"PUV+4+",defaultMessage:"Go to slide {index}"},{index:Ie+1}),className:"h-1.5 w-1.5 rounded-full transition-opacity ".concat(Ie===w?"bg-black":"bg-gray-400 opacity-60 dark:bg-gray-600")},Ie))}),e[48]=G,e[49]=n,e[50]=w,e[51]=A,e[52]=y,e[53]=ot):ot=e[53];let gt;return e[54]!==re||e[55]!==Ae||e[56]!==ot?(gt=o.jsxs("div",{className:re,"aria-roledescription":"carousel",onMouseEnter:le,onMouseLeave:fe,children:[Ae,ot]}),e[54]=re,e[55]=Ae,e[56]=ot,e[57]=gt):gt=e[57],gt}const j_=(t,e,n)=>Math.min(Math.max(t,e),n),c0t=(t,e,n)=>t>n?e:t<e?n:t;function NG(t){"use forget";const e=ee.c(8),{ariaLabel:n,onClick:r,side:s,visible:a,children:i}=t,l=s==="start"?"start-3":"end-3",c=a?"opacity-90 pointer-events-auto":"opacity-0 pointer-events-none";let u;e[0]!==l||e[1]!==c?(u=U("btn-secondary border-token-border-default active:bg-token-bg-tertiary hover:bg-token-bg-primary absolute top-1/2 flex h-8 w-8 -translate-y-1/2 items-center justify-center rounded-full bg-clip-padding backdrop-blur transition-opacity duration-300 hover:shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)] active:opacity-100!",c,l),e[0]=l,e[1]=c,e[2]=u):u=e[2];let d;return e[3]!==n||e[4]!==i||e[5]!==r||e[6]!==u?(d=o.jsx("button",{"aria-label":n,onClick:r,className:u,children:i}),e[3]=n,e[4]=i,e[5]=r,e[6]=u,e[7]=d):d=e[7],d}const Vc=new Map;async function u0t({productLookupKey:t}){const e=Ao("".concat(ss,"/search/product_info_variants"),{method:"POST",headers:C({},ca({isAuthOptional:!0})),body:{product_lookup_key:t}});let n;try{for(var r=Xn(e),s,a,i;s=!(a=await r.next()).done;s=!1){const l=a.value;"data"in l&&(n=l.data)}}catch(a){i=[a]}finally{try{s&&(a=r.return)&&await a.call(r)}finally{if(i)throw i[0]}}return n}const T_=new Map;function d0t({clientThreadId:t,messageId:e,product:n,isInitialLoad:r}){var S,k,M,E;const s=(S=kt(t))!=null?S:t,a=Eu(),i=AG({conversationId:s,messageId:e,productQuery:n.title}),l=[s,e,n.title].join(":"),[c,u]=g.useState((k=Vc.get(l))==null?void 0:k.productReviews),[d,f]=g.useState((M=Vc.get(l))==null?void 0:M.productRationale),[m,p]=g.useState((E=Vc.get(l))==null?void 0:E.__debug),[h,v]=g.useState(T_.get(i)),[y,x]=g.useState(!1),[b,_]=g.useState(!0),w=g.useRef(null);return g.useEffect(()=>{async function T({profiler:I,conversationId:L,messageId:O,productQuery:R,productLookupKey:H,updatePartial:V}){try{for(var z=Xn(f0t({conversationId:L,messageId:O,productQuery:R,productLookupKey:H,persistConversationToUser:a.showDebugConversationTurns})),$,D,Y;$=!(D=await z.next()).done;$=!1){const G=D.value;switch(G.type){case"product_reviews":{u(G),V({productReviews:G}),I.logTimingOnce("time_to_first_review"),x(!1);break}case"product_rationale":{f(G),V({productRationale:G}),I.logTimingOnce("time_to_rationale"),x(!1);break}case"__debug":{V({__debug:G}),p(G);break}}}}catch(D){Y=[D]}finally{try{$&&(D=z.return)&&await D.call(z)}finally{if(Y)throw Y[0]}}}async function j({profiler:I,productQuery:L,productLookupKey:O,updatePartial:R}){try{for(var H=Xn(m0t({productQuery:L,productLookupKey:O})),V,z,$;V=!(z=await H.next()).done;V=!1){const D=z.value;switch(D.type){case"product_entity":{if(i===w.current){const Y=P(C({},D),{product:P(C({},D.product),{product_lookup_key:P(C({},D.product.product_lookup_key),{variant_options_query:O==null?void 0:O.variant_options_query})})});R({productEntity:Y}),v(Y),I.logTimingOnce("time_to_product_entity"),_(!1)}break}case"__debug":{R({__debug:D}),p(D);break}}}}catch(z){$=[z]}finally{try{V&&(z=H.return)&&await z.call(H)}finally{if($)throw $[0]}}}async function A({conversationId:I,messageId:L,productQuery:O,productLookupKey:R}){var $;const H=new $N(u1.ProductSidebar,{context:{version:"v2"}});let V={};function z(D){V=C(C({},V),D)}try{r&&x(!0),await Promise.allSettled([T({profiler:H,conversationId:I,messageId:L,productQuery:O,productLookupKey:R,updatePartial:z}),j({profiler:H,productQuery:O,productLookupKey:R,updatePartial:z})])}finally{r&&H.logTimingOnce("sidebar_loaded"),i===w.current&&(w.current=null,_(!1));const{productReviews:D,productRationale:Y,__debug:G}=V;(D||Y||G)&&Vc.set(l,C(C(C(C({},($=Vc.get(l))!=null?$:{}),D&&{productReviews:D}),Y&&{productRationale:Y}),G&&{__debug:G})),V.productEntity!==void 0&&T_.set(AG({conversationId:I,messageId:L,productQuery:O}),V.productEntity)}}(async function(){const L=Vc.get(l);L&&(L.productReviews&&u(L.productReviews),L.productRationale&&f(L.productRationale),L.__debug&&p(L.__debug));const O=T_.get(i);if(O){v(O),_(!1);return}s&&e&&w.current!==i&&(w.current=i,await A({conversationId:s,messageId:e,productQuery:n.title,productLookupKey:n.product_lookup_key}))})()},[e,n.title,i,s,r]),{productInfo:{productReviews:c,productRationale:d,productEntity:h,__debug:m},isLoadingReviewsOrRationale:y,isLoadingProductEntity:b,isCached:Vc.has(l)}}function f0t(a){return wa(this,arguments,function*({conversationId:t,messageId:e,productQuery:n,productLookupKey:r,persistConversationToUser:s}){var c;const i=Ao("".concat(ss,"/sidebar/conversation"),{method:"POST",headers:P(C({},ca({isAuthOptional:!0})),{"Content-Type":"application/json"}),body:C({conversation_id:t,message_id:e,supported_encodings:[Kd.V1],category:"product",product_params:C({product_query:n},r?{product_lookup_key:r}:{})},s?{debug_params:{persist_conversation_to_user:s}}:{})});let l=!1;try{for(var u=Xn(Zd(i)),d,f,m;d=!(f=yield new hn(u.next())).done;d=!1){const p=f.value;if(!("data"in p))continue;const{type:h,data:v}=p.data;if(!l&&h==="__debug")l=!0,yield{type:"__debug",data:{conversation_link:"/c/".concat(v.conversation_id)}};else if(h==="message"){const x=(c=v.metadata)==null?void 0:c.content_references;if(!x)continue;for(const b of x){const _=b;if(!(r!=null&&r.variant_options_query&&_.type==="product_entity"&&!_.product.variants))switch(_.type){case"product_reviews":case"product_rationale":yield _;break;default:continue}}}}}catch(f){m=[f]}finally{try{d&&(f=u.return)&&(yield new hn(f.call(u)))}finally{if(m)throw m[0]}}})}function m0t(n){return wa(this,arguments,function*({productQuery:t,productLookupKey:e}){const r=Ao("".concat(ss,"/search/product_update"),{method:"POST",headers:P(C({},ca({isAuthOptional:!0})),{"Content-Type":"application/json"}),body:C({product_query:t},e?{product_lookup_key:e}:{})});try{for(var s=Xn(r),a,i,l;a=!(i=yield new hn(s.next())).done;a=!1){const c=i.value;"data"in c&&(yield c.data)}}catch(i){l=[i]}finally{try{a&&(i=s.return)&&(yield new hn(i.call(s)))}finally{if(l)throw l[0]}}})}function AG({conversationId:t,messageId:e,productQuery:n}){return[t,e,n].join(":")}const $c=new Map,N_=new Map;function p0t({clientThreadId:t,messageId:e,product:n,isInitialLoad:r}){var E,T,j,A;const s=(E=kt(t))!=null?E:t,a=q(),i=ie(a,"966859370"),l=ie(a,"1146160621"),c=s==t,u=PG({conversationId:s,messageId:e,productQuery:n.title,product:n}),d=[s,e,n.title].join(":"),[f,m]=g.useState((T=$c.get(d))==null?void 0:T.productReviews),[p,h]=g.useState((j=$c.get(d))==null?void 0:j.productRationale),[v,y]=g.useState((A=$c.get(d))==null?void 0:A.__debug),[x,b]=g.useState(N_.get(u)),[_,w]=g.useState(!1),[S,k]=g.useState(!0),M=g.useRef(null);return g.useEffect(()=>{async function I(){const{chatReq:O,turnstileToken:R,proofToken:H}=await Ej(a,void 0);return I5(O,R,H,null)}async function L({conversationId:O,isClientThread:R,messageId:H,isGenericEndpoint:V,productQuery:z,productLookupKey:$,sentinelHeaders:D,isProductInfoVariantsEndpointEnabled:Y}){var W;const G=new $N(u1.ProductSidebar,{context:{version:"v1"}}),F={};try{r&&w(!0);const K=g0t({conversationId:O,isClientThread:R,messageId:H,isGenericEndpoint:V,productQuery:z,productLookupKey:$,sentinelHeaders:D,isProductInfoVariantsEndpointEnabled:Y});try{for(var X=Xn(K),te,ae,me;te=!(ae=await X.next()).done;te=!1){const ne=ae.value;switch(ne.type){case"product_reviews":{m(ne),F.productReviews=ne,G.logTimingOnce("time_to_first_review");break}case"product_rationale":{h(ne),F.productRationale=ne,G.logTimingOnce("time_to_rationale");break}case"product_entity":{if(u===M.current){const re=P(C({},ne),{product:P(C({},ne.product),{product_lookup_key:P(C({},ne.product.product_lookup_key),{variant_options_query:$==null?void 0:$.variant_options_query})})});F.productEntity=re,b(re),G.logTimingOnce("time_to_product_entity"),k(!1)}break}case"__debug":{F.__debug=ne,y(ne);break}}(ne.type==="product_reviews"||ne.type==="product_rationale")&&w(!1)}}catch(ae){me=[ae]}finally{try{te&&(ae=X.return)&&await ae.call(X)}finally{if(me)throw me[0]}}}finally{r&&G.logTimingOnce("sidebar_loaded"),u===M.current&&(M.current=null,k(!1));const{productReviews:K,productRationale:ne,__debug:re}=F;(K||ne||re)&&$c.set(d,C(C(C(C({},(W=$c.get(d))!=null?W:{}),K&&{productReviews:K}),ne&&{productRationale:ne}),re&&{__debug:re})),F.productEntity!==void 0&&N_.set(PG({conversationId:O,messageId:H,productQuery:z,product:F.productEntity.product}),F.productEntity)}}(async function(){const R=$c.get(d);R&&(R.productReviews&&m(R.productReviews),R.productRationale&&h(R.productRationale),R.__debug&&y(R.__debug));const H=N_.get(u);if(H){b(H),k(!1);return}s&&e&&M.current!==u&&(M.current=u,await L({conversationId:s,isClientThread:c,messageId:e,isGenericEndpoint:i,productQuery:n.title,productLookupKey:n.product_lookup_key,sentinelHeaders:i?await I():null,isProductInfoVariantsEndpointEnabled:l}))})()},[e,n.title,u,s,r]),{productInfo:{productReviews:f,productRationale:p,productEntity:x,__debug:v},isLoadingReviewsOrRationale:_,isLoadingProductEntity:S,isCached:$c.has(d)}}function g0t(c){return wa(this,arguments,function*({conversationId:t,isClientThread:e,messageId:n,isGenericEndpoint:r,productQuery:s,productLookupKey:a,sentinelHeaders:i,isProductInfoVariantsEndpointEnabled:l}){var h;const u=!!(a!=null&&a.variant_options_query);if(l&&u){const M=Ao("".concat(ss,"/search/product_info_variants"),{method:"POST",headers:C({},ca({isAuthOptional:!0})),body:{product_lookup_key:a}});try{for(var d=Xn(M),f,m,p;f=!(m=yield new hn(d.next())).done;f=!1){const E=m.value;"data"in E&&(yield E.data)}}catch(m){p=[m]}finally{try{f&&(m=d.return)&&(yield new hn(m.call(d)))}finally{if(p)throw p[0]}}}else if(r){const M=Ao("".concat(ss,"/sidebar/conversation"),{method:"POST",headers:P(C(C({},ca({isAuthOptional:!0})),i!=null?i:{}),{"Content-Type":"application/json"}),body:{conversation_id:t,message_id:n,supported_encodings:[Kd.V1],is_client_thread:e,category:"product",product_params:C({product_query:s},a?{product_lookup_key:a}:{})}});let E=!1;try{for(var v=Xn(Zd(M)),y,x,b;y=!(x=yield new hn(v.next())).done;y=!1){const T=x.value;if(!("data"in T))continue;const{type:j,data:A}=T.data;if(!E&&j==="__debug")E=!0,yield{type:"__debug",data:{conversation_link:"/c/".concat(A.conversation_id)}};else if(j==="message"){const L=(h=A.metadata)==null?void 0:h.content_references;if(!L)continue;for(const O of L){const R=O;if(!(a!=null&&a.variant_options_query&&R.type=="product_entity"&&!R.product.variants))switch(R.type){case"product_reviews":case"product_rationale":case"product_entity":yield R;break;default:continue}}}}}catch(x){b=[x]}finally{try{y&&(x=v.return)&&(yield new hn(x.call(v)))}finally{if(b)throw b[0]}}}else{const M=Ao("".concat(ss,"/search/product_info"),{method:"POST",headers:P(C({},ca({isAuthOptional:!0})),{"Content-Type":"application/json"}),body:C({conversation_id:t,is_client_thread:e,message_id:n,product_query:s,supported_encodings:[Kd.V1]},a?{product_lookup_key:a}:{})}),E=Zd(M);try{for(var _=Xn(E),w,S,k;w=!(S=yield new hn(_.next())).done;w=!1){const T=S.value;"data"in T&&(yield T.data)}}catch(S){k=[S]}finally{try{w&&(S=_.return)&&(yield new hn(S.call(_)))}finally{if(k)throw k[0]}}}})}function PG({conversationId:t,messageId:e,productQuery:n,product:r}){var s;return[t,e,n,JSON.stringify((s=r.product_lookup_key)==null?void 0:s.variant_options_query)].join(":")}function h0t({imageUrls:t,title:e,onImageClick:n,isLoading:r}){const[s,a]=g.useState(0),i=g.useRef(null);return t?o.jsx("div",{className:"overflow-clip",children:o.jsxs("div",{className:U("flex flex-col transition duration-400 ease-in-out",r&&"pointer-events-none blur-lg"),children:[t[s]&&o.jsx(Se.div,{className:"bg-token-main-surface-secondary dark:bg-token-main-surface-primary-inverse",drag:"x",dragConstraints:{left:0,right:0},dragElastic:0,onDragEnd:(l,{offset:c,velocity:u})=>{const d=Math.abs(c.x)*u.x,f=1e3;d<-f?s<t.length-1&&a(s+1):d>f&&s>0&&a(s-1)},onClick:()=>n(t[s]),children:o.jsx("img",{className:"m-0 aspect-square w-full cursor-pointer object-contain mix-blend-darken",src:t[s],alt:e,draggable:!1})}),t.length>1&&o.jsx("div",{ref:i,className:"no-scrollbar flex flex-row gap-2 overflow-x-scroll px-6 py-3",children:t.map((l,c)=>o.jsx("div",{className:U("flex-none cursor-pointer overflow-hidden rounded-lg border-2 p-0.5",s===c?"border-token-text-primary":"border-transparent"),onMouseEnter:()=>a(c),children:o.jsx("div",{className:"bg-token-main-surface-secondary dark:bg-token-main-surface-primary-inverse overflow-clip rounded-[4.5px]",children:o.jsx("img",{className:"h-10 w-10 object-cover mix-blend-darken",src:l,alt:e})})},"".concat(c,"-").concat(l)))})]})}):null}const hfe=t=>g.createElement("svg",C({width:19,height:19,viewBox:"0 0 19 19",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M11.4727 9.29004C11.8131 8.91462 12.3899 8.85104 12.8066 9.1582C13.2231 9.46547 13.3321 10.0346 13.0742 10.4707L13.0176 10.5566L10.0693 14.5566C9.89393 14.7944 9.62201 14.9424 9.32715 14.9609C9.03222 14.9794 8.74383 14.8664 8.54004 14.6523L6.98828 13.0225L6.92187 12.9453C6.61124 12.5449 6.64856 11.9664 7.02344 11.6094C7.3985 11.2522 7.97847 11.2431 8.36328 11.5732L8.4375 11.6436L9.16699 12.4092L11.4082 9.36914L11.4727 9.29004Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.96289 0.462891C12.5556 0.462891 14.6876 2.43622 14.9385 4.96289H16.9629C18.0675 4.96289 18.9629 5.85832 18.9629 6.96289L18.9629 14.9629C18.9629 17.172 17.172 18.9629 14.9629 18.9629H4.96289C2.75375 18.9629 0.962891 17.172 0.962891 14.9629L0.962891 6.96289C0.962891 5.85832 1.85832 4.96289 2.96289 4.96289H4.9873C5.23815 2.43622 7.37021 0.462891 9.96289 0.462891ZM2.96289 14.9629C2.96289 16.0675 3.85832 16.9629 4.96289 16.9629H14.9629C16.0675 16.9629 16.9629 16.0675 16.9629 14.9629L16.9629 6.96289H2.96289L2.96289 14.9629ZM9.96289 2.46289C8.47642 2.46289 7.24296 3.54408 7.00488 4.96289H12.9209C12.6828 3.54408 11.4494 2.46289 9.96289 2.46289Z"})),HPt=Object.freeze(Object.defineProperty({__proto__:null,default:hfe},Symbol.toStringTag,{value:"Module"})),v0t=async t=>await ue.safePost("/shopping/customer",{requestBody:{items:t.map(e=>({id:e.id,value:e.value,quantity:e.quantity}))},authOption:qt.SendIfAvailable}),y0t=async({items:t,conversationId:e,sharedConversationUrl:n,existing_customer_session_client_secret:r})=>{const s=async()=>await ue.safePost("/shopping/checkout",{requestBody:{items:t.map(a=>({id:a.id,value:a.value,quantity:a.quantity})),conversation_id:e,shared_conversation_url:n,existing_customer_session_client_secret:r},authOption:qt.SendIfAvailable});try{return await s()}catch(a){return await s()}},bp=async(t,{items:e,shippingMethodId:n,shippingAddress:r})=>{var l,c,u;const s=performance.now(),a={items:e.map(d=>({id:d.id,value:d.value,quantity:d.quantity}))};n!=null&&(a.shipping_option_id=n),r!=null&&(a.shipping_address={name:(l=r.name)!=null?l:void 0,line_one:(c=r.addressLine1)!=null?c:void 0,line_two:r.addressLine2,city:r.city,state:r.state,postal_code:r.postalCode,country:r.country,phone_number:(u=r.phoneNumber)!=null?u:void 0}),a.items=e.map(d=>({id:d.id,value:d.value,quantity:d.quantity}));const i=await ue.safePatch("/shopping/checkout/{checkout_session_id}/update",{parameters:{path:{checkout_session_id:t}},requestBody:a,authOption:qt.SendIfAvailable});return ve.addAction("shopping_checkout.update",{durationMs:performance.now()-s}),i},x0t=async(t,e,n,r,s)=>await ue.safePost("/shopping/checkout/{checkout_session_id}/complete",{parameters:{path:{checkout_session_id:t}},requestBody:{items:e.map(a=>({id:a.id,value:a.value,quantity:a.quantity})),payment_method:n,attempt_id:r,shipping_address:s},authOption:qt.SendIfAvailable}),b0t=async()=>(await ue.safeGet("/shopping/orders",{authOption:qt.SendIfAvailable})).orders,C0t=async t=>await ue.safeGet("/shopping/order/{order_id}",{parameters:{path:{order_id:t}},authOption:qt.SendIfAvailable}),qr={cartUpdateShippingAddressErrorMessage:{id:"cart.updateShippingAddressError",defaultMessage:"Failed to update shipping address. Please try again.",description:"Error message shown when failed to update shipping address"},cartUpdateGeneralErrorMessage:{id:"cart.updateGeneralError",defaultMessage:"Failed to update the cart. Please try again.",description:"Error message shown when failed to update the cart"},cartUpdateGeneralErrorRetryMessage:{id:"cart.updateGeneralErrorRetry",defaultMessage:"Failed to update the cart. Please close the cart and try again.",description:"Error message shown when failed to update the cart"},cartUpdateQuantityErrorMessage:{id:"cart.updateQuantityError",defaultMessage:"Failed to update cart quantity. Please try again.",description:"Error message shown when failed to update cart quantity"},stripeLoadingPaymentMethodError:{id:"cart.stripeLoadingPaymentMethodError",defaultMessage:"Failed to load previous payment method. Please add a new payment method.",description:"Error message for failed to load payment method"},stripeLoadingShippingAddressError:{id:"cart.stripeLoadingShippingAddressError",defaultMessage:"Failed to load previous shipping address. Please enter a new shipping address.",description:"Error message for failed to load shipping address"},stripeLoadingBillingAddressError:{id:"cart.stripeLoadingBillingAddressError",defaultMessage:"Failed to load previous billing address. Please enter a new billing address.",description:"Error message for failed to load billing address"},cartAgreementsRequiredErrorMessage:{id:"cart.updateAgreementsError",defaultMessage:"Please check the {count, plural, one {box} other {boxes}} to agree before continuing.",description:"Message to show when the user has not accepted all required agreements"}},vfe=(t,e,n,r,s)=>{var i;if(!r)return;const a=n.find(l=>l.id===r);B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((i=t.cartMetadata)!=null?i:{})),{checkout_id:e,prefill:s==="prefill",action:t.shippingMethodId?"shipping_method_updated":"shipping_method_added",shipping_method_name:a==null?void 0:a.title,shipping_method_price:a==null?void 0:a.subtotal,shipping_method_index:n.findIndex(l=>l.id===r)}))},yfe=(t,e,n,r)=>{var s;B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((s=t.cartMetadata)!=null?s:{})),{checkout_id:e,prefill:r==="prefill",action:t.shippingAddress?"shipping_address_updated":"shipping_address_added",shipping_city:n==null?void 0:n.city,shipping_state:n==null?void 0:n.state,shipping_postal_code:n==null?void 0:n.postalCode,shipping_country:n==null?void 0:n.country}))},A_=(t,e,n)=>{var r,s;B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((r=t.cartMetadata)!=null?r:{})),{checkout_id:t.cartId,credit_card_type:e,prefill:n==="prefill",action:(s=t.paymentDetails)!=null&&s.paymentMethodId?"payment_method_updated":"payment_method_added"}))},_0t=(t,e)=>{var n;B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((n=t.cartMetadata)!=null?n:{})),{checkout_id:t.cartId,credit_card_type:e,action:"payment_method_removed"}))};function VPt(t){for(var e=[],n=String(t||""),r=n.indexOf(","),s=0,a,i;!a;)r===-1&&(r=n.length,a=!0),i=n.slice(s,r).trim(),(i||!a)&&e.push(i),s=r+1,r=n.indexOf(",",s);return e}function w0t(t,e){var n=e||{};return t[t.length-1]===""&&(t=t.concat("")),t.join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const S0t=new RegExp("^[$_\\p{ID_Start}][$_\\u{200C}\\u{200D}\\p{ID_Continue}]*$","u"),k0t=new RegExp("^[$_\\p{ID_Start}][-$_\\u{200C}\\u{200D}\\p{ID_Continue}]*$","u"),M0t={};function IG(t,e){return(M0t.jsx?k0t:S0t).test(t)}const E0t=/[ \t\n\f\r]/g;function j0t(t){return typeof t=="object"?t.type==="text"?LG(t.value):!1:LG(t)}function LG(t){return t.replace(E0t,"")===""}class N3{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}N3.prototype.property={};N3.prototype.normal={};N3.prototype.space=null;function xfe(t,e){const n={},r={};let s=-1;for(;++s<t.length;)Object.assign(n,t[s].property),Object.assign(r,t[s].normal);return new N3(n,r,e)}function Ek(t){return t.toLowerCase()}class _a{constructor(e,n){this.property=e,this.attribute=n}}_a.prototype.space=null;_a.prototype.boolean=!1;_a.prototype.booleanish=!1;_a.prototype.overloadedBoolean=!1;_a.prototype.number=!1;_a.prototype.commaSeparated=!1;_a.prototype.spaceSeparated=!1;_a.prototype.commaOrSpaceSeparated=!1;_a.prototype.mustUseProperty=!1;_a.prototype.defined=!1;let T0t=0;const Bt=g1(),nr=g1(),bfe=g1(),Oe=g1(),En=g1(),_d=g1(),Ms=g1();function g1(){return 2**++T0t}const jk=Object.freeze(Object.defineProperty({__proto__:null,boolean:Bt,booleanish:nr,commaOrSpaceSeparated:Ms,commaSeparated:_d,number:Oe,overloadedBoolean:bfe,spaceSeparated:En},Symbol.toStringTag,{value:"Module"})),P_=Object.keys(jk);class TA extends _a{constructor(e,n,r,s){let a=-1;if(super(e,n),RG(this,"space",s),typeof r=="number")for(;++a<P_.length;){const i=P_[a];RG(this,P_[a],(r&jk[i])===jk[i])}}}TA.prototype.defined=!0;function RG(t,e,n){n&&(t[e]=n)}const N0t={}.hasOwnProperty;function lm(t){const e={},n={};let r;for(r in t.properties)if(N0t.call(t.properties,r)){const s=t.properties[r],a=new TA(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Ek(r)]=r,n[Ek(a.attribute)]=r}return new N3(e,n,t.space)}const Cfe=lm({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),_fe=lm({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function wfe(t,e){return e in t?t[e]:e}function Sfe(t,e){return wfe(t,e.toLowerCase())}const kfe=lm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Sfe,properties:{xmlns:null,xmlnsXLink:null}}),Mfe=lm({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:nr,ariaAutoComplete:null,ariaBusy:nr,ariaChecked:nr,ariaColCount:Oe,ariaColIndex:Oe,ariaColSpan:Oe,ariaControls:En,ariaCurrent:null,ariaDescribedBy:En,ariaDetails:null,ariaDisabled:nr,ariaDropEffect:En,ariaErrorMessage:null,ariaExpanded:nr,ariaFlowTo:En,ariaGrabbed:nr,ariaHasPopup:null,ariaHidden:nr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:En,ariaLevel:Oe,ariaLive:null,ariaModal:nr,ariaMultiLine:nr,ariaMultiSelectable:nr,ariaOrientation:null,ariaOwns:En,ariaPlaceholder:null,ariaPosInSet:Oe,ariaPressed:nr,ariaReadOnly:nr,ariaRelevant:null,ariaRequired:nr,ariaRoleDescription:En,ariaRowCount:Oe,ariaRowIndex:Oe,ariaRowSpan:Oe,ariaSelected:nr,ariaSetSize:Oe,ariaSort:null,ariaValueMax:Oe,ariaValueMin:Oe,ariaValueNow:Oe,ariaValueText:null,role:null}}),A0t=lm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Sfe,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_d,acceptCharset:En,accessKey:En,action:null,allow:null,allowFullScreen:Bt,allowPaymentRequest:Bt,allowUserMedia:Bt,alt:null,as:null,async:Bt,autoCapitalize:null,autoComplete:En,autoFocus:Bt,autoPlay:Bt,capture:Bt,charSet:null,checked:Bt,cite:null,className:En,cols:Oe,colSpan:null,content:null,contentEditable:nr,controls:Bt,controlsList:En,coords:Oe|_d,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Bt,defer:Bt,dir:null,dirName:null,disabled:Bt,download:bfe,draggable:nr,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Bt,formTarget:null,headers:En,height:Oe,hidden:Bt,high:Oe,href:null,hrefLang:null,htmlFor:En,httpEquiv:En,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Bt,itemId:null,itemProp:En,itemRef:En,itemScope:Bt,itemType:En,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Bt,low:Oe,manifest:null,max:null,maxLength:Oe,media:null,method:null,min:null,minLength:Oe,multiple:Bt,muted:Bt,name:null,nonce:null,noModule:Bt,noValidate:Bt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Bt,optimum:Oe,pattern:null,ping:En,placeholder:null,playsInline:Bt,poster:null,preload:null,readOnly:Bt,referrerPolicy:null,rel:En,required:Bt,reversed:Bt,rows:Oe,rowSpan:Oe,sandbox:En,scope:null,scoped:Bt,seamless:Bt,selected:Bt,shape:null,size:Oe,sizes:null,slot:null,span:Oe,spellCheck:nr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Oe,step:null,style:null,tabIndex:Oe,target:null,title:null,translate:null,type:null,typeMustMatch:Bt,useMap:null,value:nr,width:Oe,wrap:null,align:null,aLink:null,archive:En,axis:null,background:null,bgColor:null,border:Oe,borderColor:null,bottomMargin:Oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Bt,declare:Bt,event:null,face:null,frame:null,frameBorder:null,hSpace:Oe,leftMargin:Oe,link:null,longDesc:null,lowSrc:null,marginHeight:Oe,marginWidth:Oe,noResize:Bt,noHref:Bt,noShade:Bt,noWrap:Bt,object:null,profile:null,prompt:null,rev:null,rightMargin:Oe,rules:null,scheme:null,scrolling:nr,standby:null,summary:null,text:null,topMargin:Oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Bt,disableRemotePlayback:Bt,prefix:null,property:null,results:Oe,security:null,unselectable:null}}),P0t=lm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:wfe,properties:{about:Ms,accentHeight:Oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Oe,amplitude:Oe,arabicForm:null,ascent:Oe,attributeName:null,attributeType:null,azimuth:Oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Oe,by:null,calcMode:null,capHeight:Oe,className:En,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Oe,diffuseConstant:Oe,direction:null,display:null,dur:null,divisor:Oe,dominantBaseline:null,download:Bt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Oe,enableBackground:null,end:null,event:null,exponent:Oe,externalResourcesRequired:null,fill:null,fillOpacity:Oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_d,g2:_d,glyphName:_d,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Oe,horizOriginX:Oe,horizOriginY:Oe,id:null,ideographic:Oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Oe,k:Oe,k1:Oe,k2:Oe,k3:Oe,k4:Oe,kernelMatrix:Ms,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Oe,overlineThickness:Oe,paintOrder:null,panose1:null,path:null,pathLength:Oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:En,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Oe,pointsAtY:Oe,pointsAtZ:Oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ms,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ms,rev:Ms,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ms,requiredFeatures:Ms,requiredFonts:Ms,requiredFormats:Ms,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Oe,specularExponent:Oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Oe,strikethroughThickness:Oe,string:null,stroke:null,strokeDashArray:Ms,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Oe,strokeOpacity:Oe,strokeWidth:null,style:null,surfaceScale:Oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ms,tabIndex:Oe,tableValues:null,target:null,targetX:Oe,targetY:Oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ms,to:null,transform:null,u1:null,u2:null,underlinePosition:Oe,underlineThickness:Oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Oe,values:null,vAlphabetic:Oe,vMathematical:Oe,vectorEffect:null,vHanging:Oe,vIdeographic:Oe,version:null,vertAdvY:Oe,vertOriginX:Oe,vertOriginY:Oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),I0t=/^data[-\w.:]+$/i,OG=/-[a-z]/g,L0t=/[A-Z]/g;function R0t(t,e){const n=Ek(e);let r=e,s=_a;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&I0t.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(OG,D0t);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!OG.test(a)){let i=a.replace(L0t,O0t);i.charAt(0)!=="-"&&(i="-"+i),e="data"+i}}s=TA}return new s(r,e)}function O0t(t){return"-"+t.toLowerCase()}function D0t(t){return t.charAt(1).toUpperCase()}const F0t={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},B0t=xfe([_fe,Cfe,kfe,Mfe,A0t],"html"),NA=xfe([_fe,Cfe,kfe,Mfe,P0t],"svg");var P1={},I_,DG;function U0t(){if(DG)return I_;DG=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i=/^[;\s]*/,l=/^\s+|\s+$/g,c="\n",u="/",d="*",f="",m="comment",p="declaration";I_=function(v,y){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];y=y||{};var x=1,b=1;function _(L){var O=L.match(e);O&&(x+=O.length);var R=L.lastIndexOf(c);b=~R?L.length-R:b+L.length}function w(){var L={line:x,column:b};return function(O){return O.position=new S(L),E(),O}}function S(L){this.start=L,this.end={line:x,column:b},this.source=y.source}S.prototype.content=v;function k(L){var O=new Error(y.source+":"+x+":"+b+": "+L);if(O.reason=L,O.filename=y.source,O.line=x,O.column=b,O.source=v,!y.silent)throw O}function M(L){var O=L.exec(v);if(O){var R=O[0];return _(R),v=v.slice(R.length),O}}function E(){M(n)}function T(L){var O;for(L=L||[];O=j();)O!==!1&&L.push(O);return L}function j(){var L=w();if(!(u!=v.charAt(0)||d!=v.charAt(1))){for(var O=2;f!=v.charAt(O)&&(d!=v.charAt(O)||u!=v.charAt(O+1));)++O;if(O+=2,f===v.charAt(O-1))return k("End of comment missing");var R=v.slice(2,O-2);return b+=2,_(R),v=v.slice(O),b+=2,L({type:m,comment:R})}}function A(){var L=w(),O=M(r);if(O){if(j(),!M(s))return k("property missing ':'");var R=M(a),H=L({type:p,property:h(O[0].replace(t,f)),value:R?h(R[0].replace(t,f)):f});return M(i),H}}function I(){var L=[];T(L);for(var O;O=A();)O!==!1&&(L.push(O),T(L));return L}return E(),I()};function h(v){return v?v.replace(l,f):f}return I_}var FG;function H0t(){if(FG)return P1;FG=1;var t=P1&&P1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(P1,"__esModule",{value:!0});var e=t(U0t());function n(r,s){var a=null;if(!r||typeof r!="string")return a;var i=(0,e.default)(r),l=typeof s=="function";return i.forEach(function(c){if(c.type==="declaration"){var u=c.property,d=c.value;l?s(u,d,c):d&&(a=a||{},a[u]=d)}}),a}return P1.default=n,P1}var V0t=H0t();const BG=St(V0t),$0t=BG.default||BG,Efe=jfe("end"),AA=jfe("start");function jfe(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function q0t(t){const e=AA(t),n=Efe(t);if(e&&n)return{start:e,end:n}}const PA={}.hasOwnProperty,z0t=new Map,G0t=/[A-Z]/g,W0t=/-([a-z])/g,Z0t=new Set(["table","tbody","thead","tfoot","tr"]),K0t=new Set(["td","th"]),Tfe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Y0t(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=s3t(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=r3t(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?NA:B0t,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=Nfe(s,t,void 0);return a&&typeof a!="string"?a:s.create(t,s.Fragment,{children:a||void 0},void 0)}function Nfe(t,e,n){if(e.type==="element")return Q0t(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return J0t(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return e3t(t,e,n);if(e.type==="mdxjsEsm")return X0t(t,e);if(e.type==="root")return t3t(t,e,n);if(e.type==="text")return n3t(t,e)}function Q0t(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=NA,t.schema=s),t.ancestors.push(e);const a=Pfe(t,e.tagName,!1),i=a3t(t,e);let l=LA(t,e);return Z0t.has(e.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!j0t(c):!0})),Afe(t,i,a,e),IA(i,l),t.ancestors.pop(),t.schema=r,t.create(e,a,i,n)}function J0t(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}c0(t,e.position)}function X0t(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);c0(t,e.position)}function e3t(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=NA,t.schema=s),t.ancestors.push(e);const a=e.name===null?t.Fragment:Pfe(t,e.name,!0),i=o3t(t,e),l=LA(t,e);return Afe(t,i,a,e),IA(i,l),t.ancestors.pop(),t.schema=r,t.create(e,a,i,n)}function t3t(t,e,n){const r={};return IA(r,LA(t,e)),t.create(e,t.Fragment,r,n)}function n3t(t,e){return e.value}function Afe(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function IA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function r3t(t,e,n){return r;function r(s,a,i,l){const u=Array.isArray(i.children)?n:e;return l?u(a,i,l):u(a,i)}}function s3t(t,e){return n;function n(r,s,a,i){const l=Array.isArray(a.children),c=AA(r);return e(s,a,i,l,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function a3t(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&PA.call(e.properties,s)){const a=i3t(t,s,e.properties[s]);if(a){const[i,l]=a;t.tableCellAlignToStyle&&i==="align"&&typeof l=="string"&&K0t.has(e.tagName)?r=l:n[i]=l}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function o3t(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const l=i.properties[0];l.type,Object.assign(n,t.evaluater.evaluateExpression(l.argument))}else c0(t,e.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const l=r.value.data.estree.body[0];l.type,a=t.evaluater.evaluateExpression(l.expression)}else c0(t,e.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function LA(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:z0t;for(;++r<e.children.length;){const a=e.children[r];let i;if(t.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=s.get(c)||0;i=c+"-"+u,s.set(c,u+1)}}const l=Nfe(t,a,i);l!==void 0&&n.push(l)}return n}function i3t(t,e,n){const r=R0t(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?w0t(n):Ret(n)),r.property==="style"){let s=typeof n=="object"?n:l3t(t,String(n));return t.stylePropertyNameCase==="css"&&(s=c3t(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?F0t[r.property]||r.property:r.attribute,n]}}function l3t(t,e){const n={};try{$0t(e,r)}catch(s){if(!t.ignoreInvalidStyle){const a=s,i=new Qr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=Tfe+"#cannot-parse-style-attribute",i}}return n;function r(s,a){let i=s;i.slice(0,2)!=="--"&&(i.slice(0,4)==="-ms-"&&(i="ms-"+i.slice(4)),i=i.replace(W0t,d3t)),n[i]=a}}function Pfe(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let a=-1,i;for(;++a<s.length;){const l=IG(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};i=i?{type:"MemberExpression",object:i,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=i}else r=IG(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return PA.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);c0(t)}function c0(t,e){const n=new Qr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Tfe+"#cannot-handle-mdx-estrees-without-createevaluater",n}function c3t(t){const e={};let n;for(n in t)PA.call(t,n)&&(e[u3t(n)]=t[n]);return e}function u3t(t){let e=t.replace(G0t,f3t);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function d3t(t,e){return e.toUpperCase()}function f3t(t){return"-"+t.toLowerCase()}const L_={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]};function m3t(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function p3t(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:"\n"}]}function g3t(t,e){const n=e.value?e.value+"\n":"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function h3t(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function v3t(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function y3t(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Df(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let i,l=t.footnoteCounts.get(r);l===void 0?(l=0,t.footnoteOrder.push(r),i=t.footnoteOrder.length):i=a+1,l+=1,t.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};t.patch(e,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,u),t.applyData(e,u)}function x3t(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function b3t(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Ife(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&i.type==="text"?i.value+=r:s.push({type:"text",value:r}),s}function C3t(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Ife(t,e);const s={src:Df(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,a),t.applyData(e,a)}function _3t(t,e){const n={src:Df(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function w3t(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function S3t(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Ife(t,e);const s={href:Df(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function k3t(t,e){const n={href:Df(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function M3t(t,e,n){const r=t.all(e),s=n?E3t(n):Lfe(e),a={},i=[];if(typeof e.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(s||l!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:"\n"}),d.type==="element"&&d.tagName==="p"&&!s?i.push(...d.children):i.push(d)}const c=r[r.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&i.push({type:"text",value:"\n"});const u={type:"element",tagName:"li",properties:a,children:i};return t.patch(e,u),t.applyData(e,u)}function E3t(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Lfe(n[r])}return e}function Lfe(t){const e=t.spread;return e==null?t.children.length>1:e}function j3t(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const i=r[s];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function T3t(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function N3t(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function A3t(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function P3t(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],i),s.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},l=AA(e.children[1]),c=Efe(e.children[e.children.length-1]);l&&c&&(i.position={start:l,end:c}),s.push(i)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function I3t(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,l=i?i.length:e.children.length;let c=-1;const u=[];for(;++c<l;){const f=e.children[c],m={},p=i?i[c]:void 0;p&&(m.align=p);let h={type:"element",tagName:a,properties:m,children:[]};f&&(h.children=t.all(f),t.patch(f,h),h=t.applyData(f,h)),u.push(h)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function L3t(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const UG=9,HG=32;function R3t(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const a=[];for(;r;)a.push(VG(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return a.push(VG(e.slice(s),s>0,!1)),a.join("")}function VG(t,e,n){let r=0,s=t.length;if(e){let a=t.codePointAt(r);for(;a===UG||a===HG;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(s-1);for(;a===UG||a===HG;)s--,a=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function O3t(t,e){const n={type:"text",value:R3t(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function D3t(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const F3t={blockquote:m3t,break:p3t,code:g3t,delete:h3t,emphasis:v3t,footnoteReference:y3t,heading:x3t,html:b3t,imageReference:C3t,image:_3t,inlineCode:w3t,linkReference:S3t,link:k3t,listItem:M3t,list:j3t,paragraph:T3t,root:N3t,strong:A3t,table:P3t,tableCell:L3t,tableRow:I3t,text:O3t,thematicBreak:D3t,toml:B2,yaml:B2,definition:B2,footnoteDefinition:B2};function B2(){}function B3t(t,e){const n=[{type:"text",value:"â©"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function U3t(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function H3t(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||B3t,r=t.options.footnoteBackLabel||U3t,s=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",i=t.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[c]);if(!u)continue;const d=t.all(u),f=String(u.identifier).toUpperCase(),m=Df(f.toLowerCase());let p=0;const h=[],v=t.footnoteCounts.get(f);for(;v!==void 0&&++p<=v;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(c,p);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...h)}else d.push(...h);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(d,!0)};t.patch(u,x),l.push(x)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:P(C({},yu(i)),{id:"footnote-label"}),children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:t.wrap(l,!0)},{type:"text",value:"\n"}]}}const Tk={}.hasOwnProperty,V3t={};function $3t(t,e){const n=e||V3t,r=new Map,s=new Map,a=new Map,i=C(C({},F3t),n.handlers),l={all:u,applyData:z3t,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:i,one:c,options:n,patch:q3t,wrap:W3t};return Qu(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:s,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),l;function c(d,f){const m=d.type,p=l.handlers[m];if(Tk.call(l.handlers,m)&&p)return p(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in d){const v=d,{children:y}=v,x=de(v,["children"]),b=yu(x);return b.children=l.all(d),b}return yu(d)}return(l.options.unknownHandler||G3t)(l,d,f)}function u(d){const f=[];if("children"in d){const m=d.children;let p=-1;for(;++p<m.length;){const h=l.one(m[p],d);if(h){if(p&&m[p-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=$G(h.value)),!Array.isArray(h)&&h.type==="element")){const v=h.children[0];v&&v.type==="text"&&(v.value=$G(v.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function q3t(t,e){t.position&&(e.position=q0t(t))}function z3t(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&a&&Object.assign(n.properties,yu(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function G3t(t,e){const n=e.data||{},r="value"in e&&!(Tk.call(n,"hProperties")||Tk.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function W3t(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:"\n"});++r<t.length;)r&&n.push({type:"text",value:"\n"}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:"\n"}),n}function $G(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function qG(t,e){const n=$3t(t,e),r=n.one(t,void 0),s=H3t(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:"\n"},s),a}function Z3t(t,e){return t&&"run"in t?async function(n,r){const s=qG(n,C({file:r},e));await t.run(s,r)}:function(n,r){return qG(n,C({file:r},t||e))}}const K3t="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zG=[],GG={allowDangerousHtml:!0},Y3t=/^(https?|ircs?|mailto|xmpp)$/i,Q3t=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function J4(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",s=t.className,a=t.components,i=t.disallowedElements,l=t.rehypePlugins||zG,c=t.remarkPlugins||zG,u=t.remarkRehypeOptions?C(C({},t.remarkRehypeOptions),GG):GG,d=t.skipHtml,f=t.unwrapDisallowed,m=t.urlTransform||Rfe,p=P5().use(ij).use(c).use(Z3t,u).use(l),h=new Vte;typeof r=="string"&&(h.value=r);for(const b of Q3t)Object.hasOwn(t,b.from)&&(""+b.from+(b.to?"use `"+b.to+"` instead":"remove it")+K3t+b.id,void 0);const v=p.parse(h);let y=p.runSync(v,h);return s&&(y={type:"element",tagName:"div",properties:{className:s},children:y.type==="root"?y.children:[y]}),Qu(y,x),Y0t(y,{Fragment:o.Fragment,components:a,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function x(b,_,w){if(b.type==="raw"&&w&&typeof _=="number")return d?w.children.splice(_,1):w.children[_]={type:"text",value:b.value},_;if(b.type==="element"){let S;for(S in L_)if(Object.hasOwn(L_,S)&&Object.hasOwn(b.properties,S)){const k=b.properties[S],M=L_[S];(M===null||M.includes(b.tagName))&&(b.properties[S]=m(String(k||""),S,b))}}if(b.type==="element"){let S=e?!e.includes(b.tagName):i?i.includes(b.tagName):!1;if(!S&&n&&typeof _=="number"&&(S=!n(b,_,w)),S&&w&&typeof _=="number")return f&&b.children?w.children.splice(_,1,...b.children):w.children.splice(_,1),_}}}function Rfe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e<0||s>-1&&e>s||n>-1&&e>n||r>-1&&e>r||Y3t.test(t.slice(0,e))?t:""}const $Pt=Object.freeze(Object.defineProperty({__proto__:null,default:J4,defaultUrlTransform:Rfe},Symbol.toStringTag,{value:"Module"})),Ofe=1e3*5*60;function qPt(){const t=t2t();return t?o.jsx(e2t,{orderId:t}):o.jsx(K6e,{title:o.jsx(N,{id:"xdSD9Q",defaultMessage:"Orders"}),children:o.jsx(J3t,{})})}const Dfe=()=>o.jsxs("div",{className:"flex w-full gap-3 py-2",children:[o.jsx("div",{className:"bg-token-bg-tertiary h-20 w-20 rounded-xl"}),o.jsxs("div",{className:"flex flex-1 flex-col items-start justify-start gap-1",children:[o.jsx(Eo,{index:0,width:50,heightSize:"sm"}),o.jsx(Eo,{index:0,width:70,heightSize:"sm"})]})]});function J3t(){const t=it(),{data:e,isLoading:n,isError:r,error:s}=ut({queryKey:["orders"],queryFn:b0t,staleTime:Ofe,refetchOnMount:"always",refetchOnWindowFocus:"always"});return n?o.jsx(Dfe,{}):r?o.jsxs("div",{className:"flex min-h-[400px] w-full flex-col items-center justify-center py-6 text-sm",children:[o.jsx(cc,{className:"icon-xl"}),o.jsx("div",{className:"text-base font-medium",children:o.jsx(N,{id:"/GqhEc",defaultMessage:"Error loading orders"})}),!1]}):e&&(e!=null&&e.length)?o.jsx("div",{className:"flex flex-col",children:e==null?void 0:e.map((a,i)=>o.jsxs(o.Fragment,{children:[o.jsx(X3t,{order:a,onClick:()=>{RA(t,a.order.id)}},a.order.id),i!==e.length-1&&o.jsx("div",{className:"bg-token-border-light h-px"})]}))}):o.jsxs("div",{className:"flex min-h-[400px] w-full flex-col items-center justify-center py-6 text-sm",children:[o.jsx(pT,{className:"icon-xl"}),o.jsx("div",{className:"text-base font-medium",children:o.jsx(N,{id:"2XILkl",defaultMessage:"No orders yet"})}),o.jsx("div",{className:"text-token-text-secondary text-xs",children:o.jsx(N,{id:"LwFNFv",defaultMessage:"Products you buy with ChatGPT will show here."})})]})}const X3t=({order:t,onClick:e})=>{var n;return o.jsxs("button",{className:"my-3",onClick:e,children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx("img",{className:"border-token-border-default bg-token-bg-primary shadow-xxs relative h-14 w-14 rounded-[10px] border border-[.5px]",src:(n=t.image_url)!=null?n:"",alt:t.title})}),o.jsxs("div",{className:"flex flex-1 flex-col items-start justify-start gap-0.5",children:[o.jsx("div",{className:"-mt-1 line-clamp-2 text-start text-base",children:t.title}),o.jsx("div",{className:"text-token-text-secondary text-xs",children:t.subtitle})]}),o.jsx("div",{className:"me-2 flex items-center justify-center",children:o.jsx(a1,{className:"icon"})})]}),t.error_message&&o.jsx("div",{className:"bg-token-bg-status-error text-token-interactive-label-danger-secondary-default mt-3 flex items-center rounded-lg px-3 py-1 text-sm",children:t.error_message})]})},e2t=({orderId:t})=>{var s,a,i,l,c;const{data:e,isLoading:n}=ut({queryKey:["order",t],queryFn:()=>C0t(t),staleTime:Ofe,refetchOnMount:"always",refetchOnWindowFocus:"always"}),r=it();return g.useEffect(()=>{(e!=null&&e.order.conversation_id||e!=null&&e.order.shared_conversation_url)&&t&&B.logEventWithStatsig("product_order_history","product_order_history",P(C({},Pt({clientThreadId:e==null?void 0:e.order.conversation_id})),{action:"shown",order_id:t,shared_conversation_url:e.order.shared_conversation_url}))},[e==null?void 0:e.order.conversation_id,e==null?void 0:e.order.shared_conversation_url,t]),o.jsxs("div",{children:[o.jsxs("div",{className:"h-header-height my-1 -ms-1 flex flex-shrink-0 items-center gap-2",children:[o.jsx(oe,{color:"ghost",size:"medium",onClick:()=>RA(r,void 0),contentWrapperClassName:"gap-[6px]",className:"w-9 rounded-lg",children:o.jsx(p1,{className:"icon icon-sm"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Nn,{className:"icon h-[18px] w-[18px] rounded-full",url:(s=e==null?void 0:e.merchant_logo_url)!=null?s:"",size:128,minSize:16,fallback:o.jsx(jc,{className:"text-token-text-tertiary"})}),o.jsx("div",{className:"text-sm font-normal",children:e==null?void 0:e.merchant_title})]}),o.jsx("div",{className:"text-token-text-secondary text-xs",children:e==null?void 0:e.merchant_subtitle})]})]}),n?o.jsx(Dfe,{}):e?o.jsxs("div",{className:"flex flex-col pt-1 pb-4",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"bg-token-bg-tertiary dark:bg-token-main-surface-primary-inverse overflow-clip rounded-lg",children:o.jsx("img",{className:"m-0 aspect-square h-32 w-32 object-cover mix-blend-darken",src:(a=e==null?void 0:e.image_url)!=null?a:"",alt:(i=e==null?void 0:e.title)!=null?i:""})}),o.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[o.jsx("div",{className:"text-normal line-clamp-2 text-[17px] font-medium",children:e.title}),o.jsx("div",{className:"text-token-text-secondary text-sm",children:e==null?void 0:e.subtitle}),o.jsxs("div",{className:"mt-2 flex w-full flex-1 items-end gap-2",children:[((l=e.order.conversation_id)!=null?l:e.order.shared_conversation_url)&&o.jsx(oe,{as:"a",to:e.order.shared_conversation_url||_i(e.order.conversation_id),onClick:u=>{u.stopPropagation(),B.logEventWithStatsig("product_order_history","product_order_history",P(C({},Pt({clientThreadId:e==null?void 0:e.order.conversation_id})),{action:"open_conversation_button_clicked",order_id:t,shared_conversation_url:e.order.shared_conversation_url}))},color:"ghost",className:"border-token-border-light rounded-2xl border px-4",children:o.jsx(N,{id:"bLLnUh",defaultMessage:"Open in ChatGPT"})}),e.external_buttons.map((u,d)=>o.jsx(o.Fragment,{children:o.jsx(oe,{as:"a",to:u.url,openNewTab:!0,onClick:f=>{f.stopPropagation(),B.logEventWithStatsig("product_order_history","product_order_history",P(C({},Pt({clientThreadId:e==null?void 0:e.order.conversation_id})),{action:"external_link_button_clicked",url:u.url,order_id:t}))},color:"ghost",className:"border-token-border-light rounded-2xl border px-4",children:u.title},"".concat(u.title,"-").concat(d))}))]})]})]}),e.error_message&&o.jsx("div",{className:"bg-token-bg-status-error text-token-interactive-label-danger-secondary-default mt-4 flex items-center rounded-lg px-3 py-1 text-sm",children:e.error_message}),o.jsx("div",{className:"mt-8 flex flex-col gap-8",children:(c=e==null?void 0:e.sections)==null?void 0:c.map(u=>o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"border-token-border-light border-b pb-2.5 text-base font-medium",children:u.title}),o.jsx("dl",{className:"divide-token-border-light divide-y",children:u.items.map(d=>o.jsxs("div",{className:"text-token-text-primary flex items-start gap-2 py-2.5 text-sm",children:[o.jsx("dt",{className:"flex-grow text-sm",children:d.label}),o.jsx("dd",{className:"text-end text-sm font-medium whitespace-pre",children:o.jsx(J4,{remarkPlugins:[[oj,{singleTilde:!1}]],components:{a:f=>o.jsx("a",P(C({},f),{className:U(f.className,"underline"),target:"_blank",children:f.children}))},children:d.value})})]},d.label))})]},u.title))})]}):null]})},RA=(t,e)=>{const n=window.location.hash,[r,s]=n.split("?"),a=new URLSearchParams(s);e?a.set("order",e):a.delete("order");const i="#settings/".concat(Dn.Orders).concat(a.toString()?"?".concat(a.toString()):"");t(i,{replace:!0})},t2t=()=>{const t=window.location.hash,[e,n]=t.split("?");return new URLSearchParams(n).get("order")};function r6(t,e,n){return{name:e,addressLine1:t.line1,addressLine2:t.line2,city:t.city,state:t.state,postalCode:t.postal_code,country:t.country,phoneNumber:n!=null?n:void 0}}function n2t(t,e){var n;return{name:t.name,address:{line1:t.addressLine1,line2:t.addressLine2,city:t.city,state:t.state,postal_code:t.postalCode,country:(n=t.country)!=null?n:""},phone:e?t.phoneNumber:void 0}}function r2t(t){var e;return{name:t.name,line_one:t.addressLine1,line_two:t.addressLine2,city:t.city,state:t.state,postal_code:t.postalCode,country:(e=t.country)!=null?e:"",phone_number:t.phoneNumber}}function Ffe(t,e,n){var r,s,a,i;return{name:t,line_one:(r=e.line1)!=null?r:void 0,line_two:e.line2,city:(s=e.city)!=null?s:"",state:(a=e.state)!=null?a:"",postal_code:(i=e.postal_code)!=null?i:"",country:e.country,phone_number:n}}function Bfe(t){var e,n,r,s,a,i,l,c;return{name:(e=t.name)!=null?e:null,addressLine1:(n=t.line_one)!=null?n:null,addressLine2:(r=t.line_two)!=null?r:null,city:(s=t.city)!=null?s:null,state:(a=t.state)!=null?a:null,postalCode:(i=t.postal_code)!=null?i:null,country:(l=t.country)!=null?l:null,phoneNumber:(c=t.phone_number)!=null?c:void 0}}const OA=t=>t.every(e=>{var n;return(n=e.metadata)==null?void 0:n.isDigital}),R_=t=>{var n,r,s,a,i,l,c,u;const e=t;return{paymentMethodId:(n=e.value.payment_method)==null?void 0:n.id,paymentMethodType:(r=e.value.payment_method)==null?void 0:r.type,label:(a=(s=e.preview)==null?void 0:s.label)!=null?a:"",sublabel:(l=(i=e.preview)==null?void 0:i.sublabel)!=null?l:"",icon:(u=(c=e.preview)==null?void 0:c.icon)!=null?u:null}},su=async({store:t,fields:e,errorMessage:n,onLocalMutationComplete:r,source:s,skipLogging:a})=>{var i,l;try{t.setCartStatus("updating"),e.shippingAddress&&(a||yfe(t,t.cartId,e.shippingAddress,s),t.setShippingAddress(e.shippingAddress)),e.shippingMethodId&&(a||vfe(t,t.cartId,t.shippingOptions,e.shippingMethodId,s),t.setShippingMethodId(e.shippingMethodId)),r==null||r();const c=await bp(t.cartId,e);c.cart.errors.length>0&&B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((i=t.cartMetadata)!=null?i:{})),{action:"cart_update_failed",reason:"bad_response_from_endpoint",error_message:JSON.stringify(c.cart.errors)})),t.updateCart(c)}catch(c){B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((l=t.cartMetadata)!=null?l:{})),{action:"cart_update_failed",reason:"error_response_from_endpoint",error_message:c})),t.setErrors([{group:"general",message:n}]),t.setCartStatus("idle")}},Nk=(t,e)=>{var n,r,s;t.cartStatus!=="submitting"&&(t.closeCheckout(!0),B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((n=t.cartMetadata)!=null?n:{})),{checkout_id:t.cartId,reason:e,action:"abandoned"})),ve.addAction("shopping_checkout.abandoned",{merchant_id:(r=t.merchant)==null?void 0:r.externalId,merchant_network_id:(s=t.merchant)==null?void 0:s.networkId,cart_total:t.grandTotal.value,reason:e}))},s2t=(t,e)=>{const r=(s=3,a=1)=>{const i=Ufe(t);if(i){const l=a2t(i);if(l){const c=i.getBoundingClientRect(),u=l.getBoundingClientRect();l.scrollTo({top:c.top-u.top+l.scrollTop,behavior:"smooth"})}else i.scrollIntoView({behavior:"smooth"});e==null||e()}else s>1&&setTimeout(()=>r(s-1,a+1),200*a)};setTimeout(()=>r(),50)},Ufe=t=>document.querySelector('[data-order-id="'.concat(t,'"]')),a2t=t=>{let e=t.parentElement;for(;e;){const{overflowY:n}=window.getComputedStyle(e);if(n==="auto"||n==="scroll")return e;e=e.parentElement}return null},WG=(t,e,n)=>OA(t)?[{id:"na",amount:0,displayName:n.formatMessage({id:"tLRVwj",defaultMessage:"Digital delivery"})}]:e.map(r=>({id:r.id,amount:r.subtotal_minor,displayName:r.title})),ZG=1e3,Hfe=async({store:t,order:e,navigate:n})=>{var a,i;let r=!1;t.setCartStatus("complete");const s=performance.now();e.conversation_id&&await fa(e.conversation_id),performance.now()-s<ZG&&(Ufe(t.cartId)&&(r=!0,ve.addAction("shopping_checkout.receipt",{durationMs:performance.now()-s,merchant_id:(a=t.merchant)==null?void 0:a.externalId,merchant_network_id:(i=t.merchant)==null?void 0:i.networkId})),await new Promise(l=>setTimeout(l,ZG-(performance.now()-s)))),e.conversation_id?s2t(t.cartId,()=>{var l,c;r||ve.addAction("shopping_checkout.receipt",{durationMs:performance.now()-s,merchant_id:(l=t.merchant)==null?void 0:l.externalId,merchant_network_id:(c=t.merchant)==null?void 0:c.networkId})}):RA(n,e.id)},wd=(t,e)=>{var r;const n=(r=t.additionalFields)!=null&&r.includes("shipping_address_phone_number")?!!(e!=null&&e.phoneNumber):!0;return!!(e!=null&&e.complete)&&!!(e!=null&&e.addressLine1)&&n},DA=t=>t?!t.some(e=>e.is_required&&!e.is_checked):!0,Vfe=(t,e)=>DA(t.agreements)?!0:($fe(t,e),!1),$fe=(t,e)=>{var n;t.setErrors([{group:"general",message:e.formatMessage(qr.cartAgreementsRequiredErrorMessage,{count:(n=t.agreements)==null?void 0:n.filter(r=>r.is_required).length})}])},O_={cartId:"",cartMetadata:void 0,isCheckoutOpen:!1,items:[],shippingAddress:void 0,billingAddress:void 0,shippingMethodId:void 0,totals:void 0,merchant:void 0,paymentDetails:void 0,currencyCode:"USD",canCompleteCheckout:!1,shippingOptions:[],grandTotal:{title:"",subtitle:"",value:"",value_minor:0,formatted_value:""},paymentTypes:{},cartStatus:"idle",isShippingAddressSameAsBilling:!1,errors:void 0,preloadCustomerSessionClientSecret:void 0,cachedPaymentDetailsResponse:void 0,agreements:void 0},qfe=va(()=>v0((t,e)=>P(C({},O_),{openNewCheckout:({preloadCustomerSessionClientSecret:n,metadata:r,item:s})=>t(a=>{var i,l,c,u;return P(C({},O_),{preloadCustomerSessionClientSecret:n,cartMetadata:r?C({},r):void 0,isCheckoutOpen:!0,items:[C({},s)],paymentDetails:(i=a.paymentDetails)!=null&&i.complete?C({},a.paymentDetails):void 0,shippingAddress:(l=a.shippingAddress)!=null&&l.complete?C({},a.shippingAddress):void 0,billingAddress:(c=a.billingAddress)!=null&&c.complete?C({},a.billingAddress):void 0,cachedPaymentDetailsResponse:a.cachedPaymentDetailsResponse?C({},a.cachedPaymentDetailsResponse):void 0,isShippingAddressSameAsBilling:((u=a.billingAddress)==null?void 0:u.complete)&&a.isShippingAddressSameAsBilling})}),closeCheckout:(n=!1)=>t(r=>C({},n?O_:P(C({},r),{isCheckoutOpen:!1}))),setInitialCart:n=>{const r=n.cart.line_items[0].item,s=r.item_metadata;t(a=>{var i,l,c,u,d,f,m;return P(C({},a),{cartId:n.id,totals:n.cart.totals,grandTotal:n.cart.grand_total,shippingAddress:n.cart.shipping_address?P(C({},Bfe(n.cart.shipping_address)),{complete:!0}):(i=a.shippingAddress)!=null&&i.complete?C({},a.shippingAddress):void 0,shippingOptions:(l=n.cart.shipping_options)!=null?l:[],shippingMethodId:(c=n.cart.shipping_option_id)!=null?c:void 0,footerMessage:(u=n.cart.footer_level_message)!=null?u:void 0,agreements:(d=n.agreements)!=null?d:[],paymentTypes:Object.fromEntries(((f=n.payment_surfaces_and_types)!=null?f:[]).map(p=>[p.surface,p.types])),currencyCode:n.cart.currency,errors:n.cart.errors,merchant:{title:s==null?void 0:s.merchant_title,subtitle:s==null?void 0:s.merchant_subtitle,url:s==null?void 0:s.product_url,logoUrl:s==null?void 0:s.merchant_logo_url,externalId:n.seller_details.external_id,networkId:n.seller_details.network_id},items:[{id:(m=r.id)!=null?m:"",quantity:r.quantity,value:r.value,title:s==null?void 0:s.product_title,variant:s==null?void 0:s.product_variant_info,price:s==null?void 0:s.product_price,imageUrl:s==null?void 0:s.product_image_url,url:s==null?void 0:s.product_url,metadata:{isDigital:s==null?void 0:s.is_digital}}],allowedCountries:n.allowed_countries,additionalFields:n.additional_fields})})},updateCart:n=>t(r=>{var s,a,i,l;return P(C({},r),{totals:n.cart.totals,grandTotal:n.cart.grand_total,shippingOptions:(s=n.cart.shipping_options)!=null?s:[],shippingMethodId:(a=n.cart.shipping_option_id)!=null?a:void 0,footerMessage:(i=n.cart.footer_level_message)!=null?i:void 0,errors:n.cart.errors,cartStatus:r.cartStatus==="updating"?"idle":r.cartStatus,items:[P(C({},r.items[0]),{id:(l=n.cart.line_items[0].item.id)!=null?l:"",quantity:n.cart.line_items[0].item.quantity,value:n.cart.line_items[0].item.value})]})}),addItem:n=>t(r=>P(C({},r),{items:[...r.items,n]})),updateQuantity:(n,r)=>{const s=e().items.map(a=>a.id===n?P(C({},a),{quantity:r}):a);return t({items:s}),s},removeItem:n=>t(r=>P(C({},r),{items:r.items.filter(s=>s.id!==n).map(s=>C({},s))})),setShippingAddress:n=>t(r=>P(C({},r),{shippingAddress:n?C({},n):void 0})),setHasAcceptedAgreement:(n,r)=>{var a;const s=(a=e().agreements)==null?void 0:a.map(i=>i.id===n?P(C({},i),{is_checked:r}):i);t(C({agreements:s},DA(s)?{errors:void 0}:{}))},setBillingAddress:n=>t(r=>P(C({},r),{billingAddress:C({},n)})),setShippingMethodId:n=>t(r=>P(C({},r),{shippingMethodId:n})),setMerchant:n=>t(r=>P(C({},r),{merchant:C({},n)})),setCachedPaymentDetailsResponse:n=>t(r=>P(C({},r),{cachedPaymentDetailsResponse:n})),setPaymentDetails:n=>t(r=>P(C({},r),{paymentDetails:n?C({},n):void 0})),setCartStatus:n=>t(r=>P(C({},r),{cartStatus:n})),setIsShippingAddressSameAsBilling:n=>t(r=>P(C({},r),{isShippingAddressSameAsBilling:n})),setErrors:n=>t(r=>P(C({},r),{errors:n}))}))),o2t=t=>qfe(t).getState(),i2t=t=>vf(qfe(t)),l2t=t=>{var e,n;return!!((e=t.shippingAddress)!=null&&e.complete&&((n=t.paymentDetails)!=null&&n.complete)&&(t.shippingMethodId||OA(t.items)))},c2t=t=>{var n;return(n=t==null?void 0:t.reduce((r,s)=>(s.selected_option_id&&(r[s.id]=s.options.find(a=>a.id===s.selected_option_id)),r),{}))!=null?n:{}},u2t=t=>{var e;return!((e=t.variants)!=null&&e.length)||t.variants.every(n=>n.selected_option_id)},d2t=3;function f2t({offers:t,profiler:e,contentReferenceStartIndex:n,productIndex:r,product:s,isLoading:a,onOpenCheckout:i,trackContentReferenceEvent:l,analyticsMetadata:c,className:u}){"use forget";var _,w;const d=q(),f=ie(d,"3375735072"),m=f?o2t(d):null,[p,h]=g.useState(!1),v=(_=s.offers_see_more_boundary)!=null?_:d2t,y=(w=s.variants&&Object.values(c2t(s.variants)).map(S=>S.label).join(" â¢ "))!=null?w:null,x=t.filter(S=>S.available),b=g.useRef(new Set);return g.useEffect(()=>{var S,k,M,E;if(!a){if(b.current.has(y))return;b.current.add(y);const T=t.filter(I=>I.available).length,j=t.filter(I=>I.checkoutable).length,A={total_count:t.length,available_count:T,checkoutable_count:j,is_variant:!!y};l("Product Offers Shown","product_offers_shown","product_entity",A),l("product_detail","product_detail","product_entity",{action:"updated",variants_count:(k=(S=s.variants)==null?void 0:S.length)!=null?k:0,variants_with_selection_count:(E=(M=s.variants)==null?void 0:M.filter(I=>I.selected_option_id).length)!=null?E:0,offers_count:T,checkoutable_offers_count:j}),ve.addAction("shopping_checkout.offers_shown",A)}},[t,l,a,y]),x.length===0&&s.variants&&s.variants.length>0&&s.variants.every(S=>S.selected_option_id)&&!a?o.jsx("div",{className:"border-token-border-light border-t p-6 text-sm",children:o.jsx(N,{id:"jEsmfN",defaultMessage:"This combination is unavailable"})}):x.length>0&&o.jsxs("div",{className:U(u,a&&"pointer-events-none opacity-50"),children:[x.slice(0,p?t.length:v).map((S,k)=>o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:o.jsx(m2t,{offer:S,isCheckoutEnabled:f,isLoading:a,isCheckoutable:f&&S.checkoutable,showPriceDisclosure:!!s.show_price_disclosure,onOpenCheckout:(M,E)=>{var T,j,A;M.stopPropagation(),i(),f&&m&&u2t(s)&&S.checkout_payload&&(e==null||e.startBlock("shown"),m.openNewCheckout({preloadCustomerSessionClientSecret:E,metadata:c,item:{id:S.checkout_payload,quantity:1,value:S.checkout_payload}}),l("Product Offer Clicked","product_offer_clicked","product_entity",{content_reference_start_index:n,product_index:r,offer_index:k,product_id:s.id,product_url:s.url,offer_url:S.url,offers_count:t.length,price:(T=S.price)==null?void 0:T.toString(),action:"buy_button_clicked"}),l("product_offer","product_offer","product_entity",{content_reference_start_index:n,product_index:r,product_id:s.id,action:"buy_button_clicked",section:"product_detail",section_location:"sidebar",section_index:k,offer_index:k,merchant_name:S.merchant_name,price:(j=S.price)==null?void 0:j.toString(),had_buy_button:f&&S.checkoutable,variants:y,source:(A=S.debug_info)==null?void 0:A.source}))},onVisitMerchant:M=>{var E,T,j;M.stopPropagation(),l("Product Offer Clicked","product_offer_clicked","product_entity",{content_reference_start_index:n,product_index:r,offer_index:k,product_id:s.id,product_url:s.url,offer_url:S.url,offers_count:t.length,price:(E=S.price)==null?void 0:E.toString(),action:"open_site_clicked"}),l("product_offer","product_offer","product_entity",{content_reference_start_index:n,product_index:r,product_id:s.id,action:"open_site_clicked",section:"product_detail",section_location:"sidebar",section_index:k,offer_index:k,merchant_name:S.merchant_name,site_url:S.url,price:(T=S.price)==null?void 0:T.toString(),had_buy_button:f&&S.checkoutable,variants:y,source:(j=S.debug_info)==null?void 0:j.source}),window.open(S.url,"_blank")},onShown:()=>{var M,E;f&&S.checkoutable&&(e==null||e.logTimingOnce("offer_ready")),l("product_offer","product_offer","product_entity",{content_reference_start_index:n,product_index:r,product_id:s.id,action:"shown",section:"product_detail",section_location:"sidebar",section_index:k,offer_index:k,merchant_name:S.merchant_name,price:(M=S.price)==null?void 0:M.toString(),had_buy_button:f&&S.checkoutable,source:(E=S.debug_info)==null?void 0:E.source})}},S.url+S.checkout_payload)},S.url)),t.length>v&&!a&&o.jsx(Se.div,{layout:!0,transition:{type:"easeInOut",duration:.1},children:o.jsxs(oe,{className:"w-fit px-3",size:"small",color:"ghost",onClick:()=>h(!p),contentWrapperClassName:"gap-1",children:[p?o.jsx(N,{id:"Gl3oLS",defaultMessage:"See less"}):o.jsx(N,{id:"f9tOaY",defaultMessage:"See more"}),p?o.jsx(qN,{className:"mt-0.5"}):o.jsx(ys,{})]})})]})}function m2t({offer:t,onVisitMerchant:e,onOpenCheckout:n,isCheckoutEnabled:r,isLoading:s,isCheckoutable:a,showPriceDisclosure:i,onShown:l}){var S;const[c,u]=g.useState(void 0),d=t.price_details,f=(d==null?void 0:d.base)&&((S=d.shipping)!=null?S:d.tax)&&d.total,m=((d==null?void 0:d.display_price)==="total_price"||f)&&i,p=(d==null?void 0:d.display_price)==="total_price",h=Er(),{showDebugConversationTurns:v}=Eu(),y=g.useRef(!1);g.useEffect(()=>{s||(l(),(async()=>{if(!s&&a&&t.checkout_payload&&!y.current){y.current=!0;const M=await v0t([{id:t.checkout_payload,quantity:1,value:t.checkout_payload}]);M.customer_session_client_secret&&u(M.customer_session_client_secret)}})())},[l,s,a,t.checkout_payload]);let x=null;f&&d?x=o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsx("div",{children:o.jsx(N,{id:"offer.breakdown.base",defaultMessage:"Base price: {amount}",values:{amount:d.base}})}),d.shipping&&o.jsx("div",{children:o.jsx(N,{id:"offer.breakdown.shipping",defaultMessage:"Shipping: {amount}",values:{amount:d.shipping}})}),d.tax&&o.jsx("div",{children:o.jsx(N,{id:"offer.breakdown.tax",defaultMessage:"Tax: {amount}",values:{amount:d.tax}})})]}):p&&(x=o.jsx(N,{id:"ur3//V",defaultMessage:"Prices shown include estimated tax and shipping."}));const b=r&&a&&!h?k=>n(k,c):e,_=o.jsx("span",{className:"text-[15px] leading-snug font-semibold",children:t.price}),w=r&&a&&!h;return o.jsxs("div",{className:U("flex cursor-pointer flex-col rounded-xl p-3","hover:bg-token-bg-tertiary"),onClick:b,children:[o.jsxs("div",{className:"flex flex-row items-start gap-2",children:[o.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-0.5",children:[o.jsxs("div",{className:"group flex flex-col gap-0.5",onClick:e,children:[o.jsxs("div",{className:"flex flex-row items-center gap-1.5 text-sm font-medium",children:[o.jsx(Nn,{className:"border-token-border-light h-5 w-5 rounded-full border-1",url:t.url,size:128,minSize:16,fallback:o.jsx(jc,{className:"text-token-text-tertiary"})}),o.jsx("div",{className:"truncate",children:t.merchant_name}),o.jsx(ba,{className:"text-token-text-secondary mt-0.5 h-3 w-3 shrink-0 opacity-0 transition-opacity group-hover:opacity-100"})]}),o.jsx("div",{className:"text-token-text-secondary text-xs whitespace-pre-wrap",children:t.details})]}),r&&g2t(t.tag,w)&&o.jsx(h2t,{tag:t.tag})]}),o.jsxs("div",{className:"flex flex-row items-center gap-2",children:[o.jsxs("div",{className:"flex flex-col items-end",children:[t.original_price&&o.jsx("span",{className:"text-token-text-secondary text-xs line-through",children:t.original_price}),m&&x?o.jsx(wt,{label:x,children:o.jsxs("span",{className:"flex items-center gap-0.5",children:[_,o.jsx(Hs,{className:"text-token-text-secondary h-3 w-3"})]})}):_]}),r?w?o.jsx(oe,{className:"w-fit truncate px-4",disabled:s,size:"medium",color:"primary",children:o.jsx(N,{id:"vxb4gy",defaultMessage:"Buy"})}):o.jsx(oe,{className:"w-fit truncate px-4",size:"medium",color:"secondary",disabled:s,children:o.jsx(N,{id:"CvthQr",defaultMessage:"Visit"})}):o.jsx(oe,{className:"w-fit min-w-20 truncate",size:"small",color:"secondary",disabled:s,children:o.jsx(N,{id:"CvthQr",defaultMessage:"Visit"})})]})]}),!1]})}const p2t="https://persistent.oaistatic.com/chatgpt/pink_720.jpeg",g2t=(t,e)=>{var n;return!(!t||((n=t.tooltip)==null?void 0:n.type)==="instant_checkout"&&!e)},h2t=t=>{"use forget";var s,a;const e=ee.c(3),{tag:n}=t;if(!n)return null;let r;return e[0]!==n.text||e[1]!==n.tooltip?(r=n.tooltip?o.jsx(wt,{label:o.jsxs("div",{className:"flex flex-col items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"relative flex h-44 w-full items-center justify-center overflow-hidden",children:[o.jsx("div",{className:"bg-token-bg-elevated-secondary absolute inset-0 h-44 w-full overflow-hidden",children:o.jsx("img",{src:p2t,alt:"tag background"})}),o.jsx("div",{className:"outline-token-border-light z-1 inline-flex h-16 w-16 items-center justify-center overflow-hidden rounded-full bg-white shadow-lg outline",children:o.jsx(hfe,{className:"h-[18px] w-[18px] text-black"})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-start gap-2 self-stretch p-6 text-start",children:[o.jsx("div",{className:"w-full text-base leading-normal",children:(s=n.tooltip)==null?void 0:s.title}),o.jsx(J4,{className:"text-token-text-secondary text-sm leading-relaxed font-normal",components:{a:v2t},children:(a=n.tooltip)==null?void 0:a.body_markdown})]})]}),theme:"primary",side:"top",align:"start",customPaddingClassName:"p-0",cornerRadius:"2xl",contentClassName:"bg-token-bg-primary shadow-xl",interactive:!0,delayDuration:500,children:o.jsxs("div",{className:"text-token-interactive-label-accent-default flex items-center gap-1 text-xs",children:[o.jsx(Hs,{className:"mt-[1px] h-3 w-3"}),o.jsx("span",{className:"leading-3",children:n.text})]})}):o.jsx("div",{className:"text-token-interactive-label-accent-default flex items-center gap-1 text-xs",children:o.jsx("span",{className:"leading-3",children:n.text})}),e[0]=n.text,e[1]=n.tooltip,e[2]=r):r=e[2],r};function v2t(t){return o.jsx("a",{href:t.href,className:U(t.className,"underline"),target:"_blank",rel:"noreferrer",children:t.children})}function zPt(t){return $ce(),null}function y2t(t){if(t.startsWith("file://"))return!1;try{return new URL(t).hostname!=="localhost"}catch(e){return!0}}function GPt(t){if($ce()){if(t.webpageRef.fallback_items){const n=P(C({},t),{webpageRef:P(C({},t.webpageRef),{items:t.webpageRef.fallback_items,fallback_items:void 0})});return o.jsx(KG,C({},n))}return null}return o.jsx(KG,C({},t))}function KG({webpageRef:t,trackContentReferenceEvent:e,messageId:n,index:r}){const[s,a]=g.useState(null);if(t.style==="hidden")return null;switch(t.status){case"loading":case"error":return null;default:return o.jsx(o.Fragment,{children:t.items.map((i,l)=>{if(!y2t(i.url))return null;const u=s===l;return o.jsx(X4,{webpageItem:i,trackContentReferenceEvent:e,onMouseEnter:()=>{a(l)},isLastHovered:u,messageId:n,analyticsMetadata:{section:"inline",section_location:"response",section_index:i.section_index},index:r,style:t.style},"".concat(l,"-").concat(i.url))})})}}const D_={prev:{x:"0%",opacity:0,pointerEvents:"none",transition:{duration:.1,ease:"easeOut"}},cur:{x:"0",opacity:1,pointerEvents:"auto",transition:{duration:.15,ease:"easeOut"}},next:{x:"5%",opacity:0,pointerEvents:"none",transition:{duration:.1,ease:"easeOut"}}};function X4({webpageItem:t,className:e,trackContentReferenceEvent:n,onMouseEnter:r,isLastHovered:s,messageId:a,analyticsMetadata:i,index:l,noMarginStart:c,style:u}){var D,Y,G,F;const d=q(),f=Xa(d),m=X=>C({url:X.url,title:X.title,pub_date:Rwe(X.pub_date),sub_pill_index:X.sub_pill_index,link_type:"pill"},i),p=(Y=(D=t.supporting_websites)==null?void 0:D.length)!=null?Y:0,[h,v]=g.useState(!1),[y,x]=g.useState(!1),b=(h||y)&&s,_=g.useRef(b);b||(_.current=!1);const w=!b||!_.current,S=g.useRef(null),[k,M]=g.useState(null);g.useEffect(()=>{S.current=null,M(null)},[t]),Rn(()=>{if(S.current){const{offsetWidth:X}=S.current;M(X+1)}},[]),g.useEffect(()=>{s&&(b?nf.setHighlightBySource(a,t):nf.clearHighlights())},[b,s,a,t]);const E=[t,...(G=t.supporting_websites)!=null?G:[]],[T,j]=g.useState(0),A=X=>{X!==T&&b&&(_.current=b),j(X)},I=(F=E[T])!=null?F:t,L=Sl(T-1,E.length),O=Sl(T+1,E.length),R={url:I.url,title:I.title,pub_date:I.pub_date,sub_pill_index:T};g.useEffect(()=>{b||A(0)},[b]);const H=_2t(a,l!=null?l:0,T);g.useEffect(()=>{H||(n("link_action",null,"webpage",P(C({},m(R)),{action:"show"})),w2t(a,l!=null?l:0,T))},[H]);const V=()=>{n("link_action",null,"webpage",P(C({},m(R)),{action:"click"}))},z=X=>{X&&n("link_action",null,"webpage",P(C({},m(R)),{action:"hover"})),x(X)};let $=null;return u==="reduced"?$=o.jsx("span",{className:U(!c&&"ms-1","inline-flex items-center","relative top-1"),onMouseEnter:()=>{r==null||r(),v(!0)},onMouseLeave:()=>{v(!1)},onClick:V,children:o.jsx(wr,{href:I.url,className:U("rounded-full px-1.5 py-0.5","bg-token-border-xlight text-token-text-secondary!","hover:bg-token-border-default hover:text-token-text-primary"),children:o.jsx(X5,{className:"icon-sm"})})}):$=o.jsx("span",{ref:S,className:U(!c&&"ms-1","inline-flex max-w-full items-center","relative top-[-0.094rem]","animate-[show_150ms_ease-in]"),style:k?{width:k}:void 0,"data-testid":"webpage-citation-pill",children:o.jsx(wr,{href:I.url,className:U("flex h-4.5 overflow-hidden rounded-xl px-2 text-[9px] font-medium","transition-colors duration-150 ease-in-out",b?"bg-token-text-primary! text-token-main-surface-primary!":"text-token-text-secondary!",!b&&!f&&"bg-[#F4F4F4]! dark:bg-[#303030]!",f&&"hover:bg-token-bg-tertiary bg-(--bg-quaternary)",e),style:k?{maxWidth:k}:void 0,onClick:V,onMouseEnter:()=>{r==null||r(),v(!0)},onMouseLeave:()=>{v(!1)},children:o.jsxs("span",{className:"relative start-0 bottom-0 flex h-full w-full items-center",children:[E.length>3&&o.jsx(F_,{variant:"prev",item:E[L],numAdditionalSupportingWebsites:p,isActive:b!=null?b:!1,shouldShowSupportingCount:w,className:"absolute"},L),o.jsx(F_,{variant:"cur",item:E[T],numAdditionalSupportingWebsites:p,isActive:b!=null?b:!1,shouldShowSupportingCount:w},T),E.length>2&&o.jsx(F_,{variant:"next",item:E[O],numAdditionalSupportingWebsites:p,isActive:b!=null?b:!1,shouldShowSupportingCount:w,className:"absolute"},O)]})})}),o.jsx(x2t,{webpageItem:t,open:y&&s,onOpenChange:z,onClick:V,currentItemIndex:T,setCurrentItemIndex:A,children:$})}function F_(l){var c=l,{className:t,variant:e,item:n,numAdditionalSupportingWebsites:r,isActive:s,shouldShowSupportingCount:a}=c,i=de(c,["className","variant","item","numAdditionalSupportingWebsites","isActive","shouldShowSupportingCount"]);var d;const u=a&&r>0;return o.jsxs(Se.span,P(C({variants:{prev:{x:"0%",opacity:0,transition:{duration:.1,ease:"easeOut"}},cur:{x:"0",opacity:1,transition:{duration:.1,ease:"easeOut"}},next:{x:"10%",opacity:0}},animate:e,initial:e,className:U("flex h-4 w-full items-center justify-between",!u&&"overflow-hidden",t)},i),{children:[o.jsx("span",{className:"max-w-[15ch] grow truncate overflow-hidden text-center",children:(d=n.attribution)!=null?d:Wi(n.url)}),u&&o.jsxs("span",{className:U("-me-1 flex h-full items-center rounded-full px-1 text-[#8F8F8F]",s&&"text-token-main-surface-tertiary"),children:["+",r]})]}))}function x2t({webpageItem:t,onClick:e,open:n,onOpenChange:r,children:s,currentItemIndex:a,setCurrentItemIndex:i,className:l}){const c=ga(),u=o.jsx(b2t,{webpageItem:t,onClick:e,currentItemIndex:a,setCurrentItemIndex:i});return o.jsx(wt,{label:u,onOpenChange:r,open:n,side:"bottom",delayDuration:150,theme:c?"default":"white",align:"start",customPaddingClassName:"p-0",cornerRadius:"xl",customBorderClassName:"border-token-border-default border",contentClassName:"animate-show",className:l,wide:!0,interactive:!0,children:s})}function U2({item:t,onClick:e}){var r,s;if(!t)return null;const n=t.pub_date!=null?new Date(t.pub_date*1e3):null;return o.jsxs(wr,{className:"flex flex-col gap-2 p-3",href:t.url,onClick:e,children:[o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:o.jsx(kN,{url:t.url,size:"xsmall",className:"icon-sm",connectorSource:(r=t.attribution)==null?void 0:r.toLowerCase(),fallback:o.jsx(Nn,{url:t.url,size:32,minSize:16,className:"icon-sm"})})}),o.jsx("div",{className:"text-token-text-primary truncate",children:(s=t.attribution)!=null?s:Wi(t.url)})]}),o.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:t.title}),o.jsxs("div",{className:"text-token-text-secondary line-clamp-2 text-sm",children:[C2t(n),n&&t.snippet&&" â ",t.snippet]})]})}function b2t({webpageItem:t,onClick:e,currentItemIndex:n,setCurrentItemIndex:r}){var m;const s=[t,...(m=t.supporting_websites)!=null?m:[]],a=s[n!=null?n:0],i=n!=null&&"".concat(n+1,"/").concat(s.length),l=n?s[Sl(n+1,s.length)]:void 0,c=n?s[Sl(n-1,s.length)]:void 0,u=()=>{n!=null&&(r==null||r(Sl(n+1,s.length)))},d=()=>{n!=null&&(r==null||r(Sl(n-1,s.length)))};g.useEffect(()=>CM(document,{keydown:p=>{p.key==="ArrowRight"?u():p.key==="ArrowLeft"&&d()}}));const f=U("flex flex-col dark:bg-token-main-surface-secondary");return o.jsxs("span",{className:"text-token-text-primary flex flex-col text-start text-xs font-normal no-underline!",children:[n!=null&&s.length>1&&o.jsxs("div",{className:"bg-token-main-surface-secondary dark:bg-token-main-surface-tertiary flex h-9 items-center justify-between gap-1.5",children:[o.jsxs("div",{className:"text-token-text-secondary mx-1.5 flex gap-1",children:[o.jsx("button",{onClick:d,className:"hover:bg-token-border-xlight disabled:text-token-text-quaternary h-6 w-6 rounded-md disabled:hover:bg-transparent",children:o.jsx(Y6e,{className:"icon-sm m-auto"})}),o.jsx("button",{onClick:u,className:"hover:bg-token-border-xlight disabled:text-token-text-quaternary h-6 w-6 rounded-md disabled:hover:bg-transparent",children:o.jsx(YY,{className:"icon-sm m-auto"})})]}),o.jsx("span",{className:"text-token-text-tertiary mx-3.5",children:i})]}),n!=null&&s.length>1?o.jsxs("div",{className:"flex overflow-hidden",children:[s.length>3&&o.jsx(Se.span,{className:U(f,"absolute"),variants:D_,animate:"prev",initial:"prev",children:o.jsx(U2,{item:c,onClick:e})},Sl(n-1,s.length)),o.jsx(Se.span,{className:f,variants:D_,animate:"cur",initial:"cur",children:o.jsx(U2,{item:a,onClick:e})},n),s.length>2&&o.jsx(Se.span,{className:U(f,"absolute"),variants:D_,animate:"next",initial:"next",children:o.jsx(U2,{item:l,onClick:e})},Sl(n+1,s.length))]}):o.jsx("div",{className:f,children:o.jsx(U2,{item:a,onClick:e})})]})}function C2t(t){return t&&t.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}function Sl(t,e){return(t%e+e)%e}const zfe=Rt(()=>({}));function Gfe(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n)}function _2t(t,e,n){return zfe(r=>r[Gfe(t,e,n)])}function w2t(t,e,n){zfe.setState(r=>P(C({},r),{[Gfe(t,e,n)]:1}))}function S2t({rating:t}){const e=Math.round(t*2)/2,n="â";return o.jsx("div",{className:"flex flex-row",children:[1,2,3,4,5].map(r=>o.jsxs("div",{children:[r<=e&&o.jsx("span",{className:"text-yellow-500",children:n}),r===e+.5&&o.jsxs("div",{className:"relative inline-block",children:[o.jsx("span",{className:"text-gray-200",children:n}),o.jsx("span",{className:"absolute start-0 top-0 w-1/2 overflow-hidden text-yellow-500",children:n})]}),r>e+.5&&o.jsx("span",{className:"text-gray-200",children:n})]},r))})}function WPt({rating:t}){const e=Math.max(0,Math.min(1,t)),n="â";return o.jsxs("div",{className:"relative inline-block",children:[o.jsx("span",{className:"text-gray-200",children:n}),o.jsx("span",{className:"absolute start-0 top-0 overflow-hidden text-yellow-500",style:{width:"".concat(e*100,"%")},children:n})]})}function k2t({rating:t,numReviews:e,ratingGroupedCitation:n,trackContentReferenceEvent:r,analyticsMetadata:s}){return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"text-token-text-secondary flex flex-row items-center gap-1 text-sm text-nowrap text-ellipsis",children:[o.jsx(S2t,{rating:t!=null?t:0}),o.jsx(N,{id:"Tj10jZ",defaultMessage:"{rating} ({num_reviews})",values:{rating:(t!=null?t:0).toFixed(1),num_reviews:new Intl.NumberFormat().format(e)}}),o.jsx(wt,{label:o.jsx(N,{id:"zngDZ6",defaultMessage:"Ratings and pricing are sourced from third parties which may update over time"}),children:o.jsx(Hs,{className:"h-4 w-4"})})]}),n&&o.jsx(X4,{webpageItem:n,trackContentReferenceEvent:r,analyticsMetadata:P(C({},s),{section:"products",section_location:"sidebar"}),isLastHovered:!0,noMarginStart:!0})]})}var B_,YG;function M2t(){if(YG)return B_;YG=1;var t=Nee(),e=Hu();function n(r){return r&&r.length?t(r,e):0}return B_=n,B_}var E2t=M2t();const j2t=St(E2t),Ak=({durationMs:t,delayMs:e})=>({"--duration":"".concat(t,"ms"),"--delay":"".concat(e,"ms")}),Pk=t=>!!(g.isValidElement(t)&&HM(["strong","em"],t.type)&&n5(t.props)&&typeof t.props.children=="string"),Wfe=(t,e)=>typeof t=="string"?e(t).length:Pk(t)?e(t.props.children).length:1,Zfe=(t,e)=>Array.isArray(t)?j2t(t.map(n=>Zfe(n,e))):Wfe(t,e),T2t="_fadeIn_4f9by_7",N2t="_marker_4f9by_21",A2t="_hidden_4f9by_21",P2t="_animate_4f9by_25",Ik={fadeIn:T2t,marker:N2t,hidden:A2t,animate:P2t},H2=({hideWordsUntilStart:t=!1,animationTiming:e,children:n,delayMs:r,index:s,segmentText:a,onReady:i,onComplete:l})=>{const[c,u]=g.useState(0),d=a(n);return o.jsx(o.Fragment,{children:d.map((f,m)=>{const p=r+m*e.delayMs;return o.jsx("span",{className:U(Ik.fadeIn,t&&c<m&&"sr-only"),style:Ak({delayMs:p,durationMs:e.durationMs}),onAnimationStart:()=>{i(s+m),t&&u(m)},onAnimationEnd:()=>l(s+m),children:f},m)})})},I2t=({tag:t,children:e,start:n,end:r,isMarker:s,isLastNode:a,isOnlyNode:i})=>{const l=a==="",c=i==="",{enqueueElement:u,dequeueElement:d,updateElementBounds:f,reportComplete:m,reportProgress:p,reportReady:h,isDisabled:v,animationTiming:y,lastPositionCompletedAnimating:x,activeStartPos:b,segmentText:_}=g.useContext(Cce),w=g.useRef(null),S=()=>{w.current!=null&&window.clearTimeout(w.current),w.current=window.setTimeout(()=>{Me.count(Ee.DEFAULT,"text_entry_animation.timeout"),h(t,n!=null?n:0),w.current=null},2e3)},k=!v;g.useEffect(()=>{if(!(n==null||!k))return u(t,n),()=>d(t,n)},[t,n,k]);const M=(!l||s)&&n!=null&&r!=null,E=g.useRef(!1),T=s?1:Zfe(e,_),j=T-1;g.useEffect(()=>{n!=null&&r!=null&&f(t,n,r,T),M&&E.current!==!1&&E.current>=j?h(t,n):M&&S()},[M,j,T,n,r]);const A=R=>{n!=null&&j>0&&p(t,n,R/j),E.current=R,M&&R>=j?h(t,n):M&&S()},I=R=>{s||R===j&&(M||c&&r!=null)&&m(r)},L=b!=null&&n!=null&&r!=null&&b>n&&x!=null&&x>=r,O=b!=null&&n!=null&&n<=b;return{segmentText:_,onReady:A,onComplete:I,isDisabled:v||L,shouldHide:!v&&!O&&!L,shouldAnimate:O,animationTiming:y}},L2t=({tag:t,children:e,"data-start":n=null,"data-end":r=null,"data-is-last-node":s,"data-is-only-node":a})=>{const{animationTiming:i,shouldHide:l,isDisabled:c,segmentText:u,onComplete:d,onReady:f}=I2t({isMarker:!1,tag:t,children:e,start:n,end:r,isLastNode:s,isOnlyNode:a});if(c||l)return o.jsx(t,{"data-start":n,"data-end":r,className:U(l&&"hidden!"),children:e});let m=0,p=0;return o.jsx(t,{"data-start":n,"data-end":r,children:typeof e=="string"?o.jsx(H2,{index:0,segmentText:u,delayMs:m,animationTiming:i,onReady:f,onComplete:d,children:e},0):Pk(e)?g.cloneElement(e,e.props,o.jsx(H2,{index:0,delayMs:m,animationTiming:i,segmentText:u,onReady:f,onComplete:d,children:e.props.children},0)):Array.isArray(e)?e.map(h=>{const v=m,y=p,x=Wfe(h,u);return p+=x,m+=x*i.delayMs,typeof h=="string"?o.jsx(H2,{index:y,delayMs:v,animationTiming:i,segmentText:u,onReady:f,onComplete:d,children:h},y):Pk(h)?g.cloneElement(h,h.props,o.jsx(H2,{index:y,delayMs:v,animationTiming:i,segmentText:u,onReady:f,onComplete:d,children:h.props.children},y)):o.jsx("span",{className:Ik.fadeIn,style:Ak({delayMs:m,durationMs:i.durationMs}),onAnimationStart:()=>f(y),onAnimationEnd:()=>d(y),children:h},y)}):o.jsx("span",{className:Ik.fadeIn,style:Ak({delayMs:m,durationMs:i.durationMs}),onAnimationStart:()=>f(0),onAnimationEnd:()=>d(0),children:e},0)})};function Kfe({title:t,children:e}){return o.jsxs("div",{children:[o.jsx("div",{className:"border-token-border-light bg-token-bg-primary text-token-text-primary sticky top-0 z-10 flex items-center border-t px-6 py-4 text-base font-semibold",children:t}),o.jsx("div",{className:"px-6 pb-3",children:e})]})}function R2t({contentReference:t,trackContentReferenceEvent:e,disableAnimation:n}){const r=g.useRef(!1);return g.useEffect(()=>{t&&!r.current&&(r.current=!0,e("Product Sidebar Rationale Loaded","product_sidebar_rationale_loaded","product_rationale"))},[t,e]),t?o.jsx(Kfe,{title:o.jsx(N,{id:"XgsZPF",defaultMessage:"Why you might like this"}),children:o.jsx("div",{className:"text-sm",children:o.jsx(AN,{isDisabled:n,children:o.jsxs(L2t,{tag:"p","data-start":0,"data-end":t.rationale.length,children:[o.jsx("span",{className:"me-1",children:t.rationale}),t.grouped_citation&&o.jsx(X4,{webpageItem:t.grouped_citation,trackContentReferenceEvent:e,analyticsMetadata:{section:"product_rationale",section_location:"sidebar"},isLastHovered:!0,noMarginStart:!0})]})})})}):null}const A3=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.6687 5.83304C12.6687 5.22006 12.6649 4.91019 12.6394 4.70413L12.6062 4.52542C12.4471 3.93179 12.0022 3.45922 11.4255 3.26272L11.3083 3.22757C11.0963 3.17075 10.8175 3.16507 9.99974 3.16507H8.0554C7.04558 3.16507 6.62456 3.17475 6.32982 3.26175L6.2097 3.30374C5.95005 3.41089 5.71908 3.57635 5.53392 3.78616L5.45677 3.87796C5.30475 4.0748 5.20336 4.33135 5.03392 4.91702L4.83763 5.6221L4.45677 7.01761C4.24829 7.78204 4.10326 8.31846 4.02318 8.73929C3.94374 9.15672 3.94298 9.39229 3.98119 9.56448L4.03587 9.75784C4.18618 10.1996 4.50043 10.5702 4.91771 10.7901L5.05052 10.8477C5.20009 10.9014 5.40751 10.9429 5.72533 10.9678C6.15231 11.0012 6.70771 11.002 7.49974 11.002C7.71076 11.002 7.90952 11.1018 8.0349 11.2715C8.14465 11.4201 8.18683 11.6067 8.15404 11.7862L8.13548 11.8623L7.34447 14.4326C7.01523 15.5033 7.71404 16.6081 8.81126 16.7813L11.5095 12.0606L11.5827 11.9405C11.8445 11.5461 12.2289 11.2561 12.6687 11.1094V5.83304ZM17.3318 8.33304C17.3318 8.97366 17.3364 9.43432 17.2615 9.82327L17.2234 9.98538C16.949 11.0094 16.1821 11.8233 15.1872 12.1621L14.9861 12.2237C14.5624 12.3372 14.0656 12.3321 13.3337 12.3321C13.0915 12.3321 12.8651 12.4453 12.7204 12.6348L12.6638 12.7198L9.74388 17.8301C9.61066 18.0631 9.35005 18.1935 9.08372 18.1602L8.70579 18.1123C6.75379 17.8682 5.49542 15.9213 6.07396 14.041L6.60033 12.3272C6.22861 12.3233 5.90377 12.3161 5.62083 12.294C5.18804 12.26 4.79914 12.1931 4.44701 12.0391L4.29857 11.9668C3.52688 11.5605 2.95919 10.8555 2.72533 10.0205L2.68333 9.85257C2.58769 9.42154 2.62379 8.97768 2.71654 8.49026C2.80865 8.00634 2.97082 7.41139 3.17357 6.668L3.55443 5.27249L3.74583 4.58011C3.9286 3.94171 4.10186 3.45682 4.40404 3.06546L4.53685 2.9053C4.85609 2.54372 5.25433 2.25896 5.70189 2.07425L5.93626 1.99222C6.49455 1.82612 7.15095 1.83499 8.0554 1.83499H12.6667C13.3558 1.83499 13.9128 1.83434 14.363 1.87112C14.8208 1.90854 15.2266 1.98789 15.6033 2.17972L15.821 2.30179C16.317 2.6059 16.7215 3.04226 16.987 3.56351L17.0535 3.70608C17.1977 4.04236 17.2629 4.40311 17.2956 4.80374C17.3324 5.25398 17.3318 5.81094 17.3318 6.50003V8.33304ZM13.9978 10.9961C14.3321 10.9901 14.5013 10.977 14.6413 10.9395L14.7585 10.9033C15.3353 10.7069 15.7801 10.2353 15.9392 9.64163L15.9724 9.46292C15.998 9.25682 16.0017 8.94657 16.0017 8.33304V6.50003C16.0017 5.78899 16.0008 5.29566 15.9695 4.91214C15.9464 4.6301 15.9086 4.44069 15.8572 4.2969L15.8015 4.16702C15.6475 3.86478 15.4133 3.6119 15.1257 3.43558L14.9997 3.36526C14.8418 3.28477 14.6302 3.228 14.2546 3.19729C14.0221 3.1783 13.7491 3.17109 13.4118 3.168C13.6267 3.47028 13.7914 3.81126 13.8904 4.18069L13.9275 4.34378C13.981 4.62163 13.9947 4.93582 13.9978 5.3262V10.9961Z"})),ZPt=Object.freeze(Object.defineProperty({__proto__:null,default:A3},Symbol.toStringTag,{value:"Module"})),Lk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M15.3702 10.3242C15.3702 9.87178 15.3673 9.66262 15.3516 9.53418L15.3311 9.42676C15.2387 9.08236 14.9921 8.8037 14.668 8.66894L14.5255 8.62012C14.4065 8.58823 14.4058 8.58912 14.378 8.58691L13.9171 8.58203L13.7823 8.56836C13.4795 8.50629 13.2522 8.23813 13.252 7.91699C13.252 7.54972 13.5498 7.25195 13.9171 7.25195H15.5538C16.0484 7.25195 16.4596 7.251 16.794 7.27832C17.1361 7.30627 17.4565 7.36647 17.7589 7.52051L17.9288 7.61621C18.3159 7.85359 18.6317 8.19374 18.8389 8.60058L18.8917 8.71484C19.0069 8.98349 19.0567 9.26596 19.0811 9.56543C19.1085 9.89987 19.1075 10.311 19.1075 10.8057V12.4941C19.1053 12.7802 19.095 13.0234 19.0528 13.2422L19.0235 13.3711C18.8093 14.1702 18.211 14.8058 17.4347 15.0703L17.2764 15.1182C16.941 15.208 16.5519 15.2021 16.0352 15.2021C15.9352 15.2022 15.8414 15.2426 15.7725 15.3115L15.712 15.3896L13.6036 19.0801C13.4704 19.3131 13.2098 19.4434 12.9434 19.4102L12.671 19.376C11.1472 19.1855 10.1637 17.665 10.6153 16.1973L10.922 15.2021H10.0001C9.63284 15.2021 9.33508 14.9043 9.33504 14.5371C9.33504 14.1698 9.63281 13.8721 10.0001 13.8721H11.8223C12.0333 13.8721 12.2321 13.972 12.3575 14.1416C12.4828 14.3113 12.5201 14.5308 12.4581 14.7324L11.8868 16.5889C11.6947 17.2134 12.0658 17.8565 12.6759 18.0225L14.5577 14.7295L14.6173 14.6328C14.8037 14.3518 15.0671 14.1366 15.3702 14.0078V10.3242ZM7.07527 0.589843L7.34871 0.624023L7.48934 0.645507C8.8858 0.900505 9.78198 2.28694 9.44149 3.66504L9.4034 3.80273L9.09383 4.80469C9.26639 4.80872 9.42469 4.81491 9.56844 4.82617C9.93535 4.85495 10.2802 4.91643 10.5948 5.08203L10.8272 5.22168C11.3479 5.57355 11.7179 6.11326 11.8555 6.7334L11.88 6.86328C11.9248 7.16766 11.8933 7.4745 11.8331 7.79102C11.799 7.97017 11.7521 8.16961 11.6954 8.39062L11.4991 9.12207L11.2247 10.1299C11.0567 10.746 10.9317 11.2371 10.6895 11.627L10.5782 11.7881C10.3471 12.0873 10.051 12.329 9.71297 12.4951L9.56551 12.5615C9.0832 12.7605 8.52572 12.748 7.79598 12.748H4.46492C3.97039 12.748 3.55908 12.749 3.22469 12.7217C2.92525 12.6972 2.64273 12.6475 2.3741 12.5322L2.25985 12.4795C1.85303 12.2722 1.51283 11.9564 1.27547 11.5693L1.18074 11.3994C1.02663 11.0969 0.965541 10.7768 0.93758 10.4346C0.910255 10.1001 0.911213 9.68897 0.911213 9.19433V7.87012C0.911211 7.35335 0.905318 6.96434 0.995197 6.62891L1.04305 6.47168C1.30751 5.69506 1.9429 5.09604 2.74227 4.88184L2.87117 4.85254C3.17731 4.79349 3.53146 4.79785 3.98348 4.79785C4.11701 4.79785 4.24047 4.72629 4.30672 4.61035L6.41512 0.919921L6.47078 0.83789C6.61342 0.657078 6.84208 0.560753 7.07527 0.589843ZM16.7003 13.8623C16.811 13.8565 16.8768 13.848 16.9327 13.833L17.0763 13.7842C17.4 13.6492 17.6471 13.3706 17.7393 13.0264L17.7589 12.9189C17.7745 12.7905 17.7774 12.5815 17.7774 12.1299V10.8057C17.7774 10.2891 17.7778 9.94154 17.7559 9.67383C17.74 9.47878 17.7144 9.35924 17.6847 9.27637L17.6534 9.2041C17.5713 9.04316 17.4525 8.90503 17.3077 8.7998L17.1554 8.70605C17.0716 8.66338 16.9456 8.62573 16.6856 8.60449C16.6064 8.59802 16.5203 8.59311 16.4249 8.58984C16.505 8.74522 16.57 8.91021 16.6163 9.08301L16.6456 9.21094C16.6879 9.42971 16.6981 9.67298 16.7003 9.95898V13.8623ZM4.64852 9.67578C4.64852 10.2783 4.65443 10.4495 4.68758 10.5732L4.73641 10.7158C4.87123 11.04 5.14969 11.2876 5.49422 11.3799L5.60164 11.3994C5.73008 11.415 5.93904 11.418 6.3907 11.418H7.79598C8.64567 11.418 8.87848 11.4059 9.0577 11.332L9.19149 11.2666C9.32053 11.1924 9.43391 11.0932 9.52547 10.9746L9.56844 10.9131C9.6649 10.7567 9.74567 10.4973 9.94149 9.7793L10.2159 8.77148L10.4073 8.05957C10.4589 7.85882 10.4984 7.6904 10.5264 7.54297C10.568 7.3245 10.5755 7.19026 10.5684 7.09961L10.5577 7.02148C10.4941 6.73503 10.3227 6.48568 10.0821 6.32324L9.97469 6.25879C9.89449 6.2167 9.75934 6.17549 9.46395 6.15234C9.16443 6.12888 8.77153 6.12793 8.19637 6.12793C7.98563 6.12785 7.78753 6.0278 7.66219 5.8584C7.53687 5.68873 7.49869 5.4692 7.56063 5.26758L8.13192 3.41113L8.16317 3.28418C8.27278 2.70117 7.91206 2.13103 7.34285 1.97656L5.46102 5.27051C5.27333 5.59878 4.98538 5.84809 4.64852 5.99121V9.67578ZM2.24129 9.19433C2.24129 9.71091 2.24188 10.0585 2.26375 10.3262C2.28499 10.5861 2.32265 10.7122 2.36531 10.7959L2.45906 10.9482C2.56437 11.0932 2.70323 11.2119 2.86434 11.2939L2.9366 11.3252C3.0194 11.3548 3.13872 11.3796 3.33309 11.3955C3.41216 11.402 3.49855 11.4059 3.59383 11.4092C3.53863 11.3021 3.4897 11.1909 3.45027 11.0752L3.40242 10.917C3.31261 10.5816 3.31844 10.1925 3.31844 9.67578V6.13672C3.26922 6.13929 3.2289 6.1423 3.19442 6.14648L3.08699 6.16699C2.7426 6.25927 2.46406 6.50612 2.32918 6.83008L2.28035 6.97363C2.24726 7.09732 2.24129 7.26819 2.24129 7.87012V9.19433Z"})),KPt=Object.freeze(Object.defineProperty({__proto__:null,default:Lk},Symbol.toStringTag,{value:"Module"})),P3=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.9153 1.83987L11.2942 1.88772L11.4749 1.91507C13.2633 2.24201 14.4107 4.01717 13.9749 5.78225L13.9261 5.95901L13.3987 7.6719C13.7708 7.67575 14.0961 7.68389 14.3792 7.70608C14.8737 7.74486 15.3109 7.82759 15.7015 8.03323L15.8528 8.11819C16.5966 8.56353 17.1278 9.29625 17.3167 10.1475L17.347 10.3096C17.403 10.69 17.3647 11.0832 17.2835 11.5098C17.2375 11.7517 17.1735 12.0212 17.096 12.3233L16.8255 13.3321L16.4456 14.7276C16.2076 15.6001 16.0438 16.2356 15.7366 16.7305L15.595 16.9346C15.2989 17.318 14.9197 17.628 14.4866 17.8408L14.2982 17.9258C13.6885 18.1774 12.9785 18.1651 11.9446 18.1651H7.33331C6.64422 18.1651 6.08726 18.1657 5.63702 18.1289C5.23638 18.0962 4.87565 18.031 4.53936 17.8867L4.39679 17.8203C3.87576 17.5549 3.43916 17.151 3.13507 16.6553L3.013 16.4366C2.82119 16.0599 2.74182 15.6541 2.7044 15.1963C2.66762 14.7461 2.66827 14.1891 2.66827 13.5V11.667C2.66827 10.9349 2.66214 10.4375 2.77569 10.0137L2.83722 9.81253C3.17599 8.81768 3.99001 8.05084 5.01397 7.77639L5.17706 7.73928C5.56592 7.66435 6.02595 7.66799 6.66632 7.66799C6.9429 7.66799 7.19894 7.52038 7.33624 7.2803L10.2562 2.16995L10.3118 2.08792C10.4544 1.90739 10.6824 1.81092 10.9153 1.83987ZM7.33136 14.167C7.33136 14.9841 7.33714 15.2627 7.39386 15.4746L7.42999 15.5918C7.62644 16.1686 8.09802 16.6134 8.69171 16.7725L8.87042 16.8067C9.07652 16.8323 9.38687 16.835 10.0003 16.835H11.9446C13.099 16.835 13.4838 16.8228 13.7903 16.6963L13.8997 16.6465C14.1508 16.5231 14.3716 16.3444 14.5433 16.1221L14.6155 16.0166C14.7769 15.7552 14.8968 15.3517 15.1624 14.378L15.5433 12.9824L15.8079 11.9922C15.8804 11.7102 15.9368 11.4711 15.9769 11.2608C16.0364 10.948 16.0517 10.7375 16.0394 10.5791L16.0179 10.4356C15.9156 9.97497 15.641 9.57381 15.2542 9.31253L15.0814 9.20999C14.9253 9.12785 14.6982 9.06544 14.2747 9.03225C13.8477 8.99881 13.2923 8.99807 12.5003 8.99807C12.2893 8.99807 12.0905 8.89822 11.9651 8.72854C11.8398 8.55879 11.8025 8.33942 11.8646 8.13772L12.6556 5.56741L12.7054 5.36331C12.8941 4.35953 12.216 3.37956 11.1878 3.2178L8.49054 7.93948C8.23033 8.39484 7.81431 8.72848 7.33136 8.88967V14.167ZM3.99835 13.5C3.99835 14.2111 3.99924 14.7044 4.03058 15.0879C4.06128 15.4636 4.11804 15.675 4.19854 15.833L4.26886 15.959C4.44517 16.2466 4.69805 16.4808 5.0003 16.6348L5.13019 16.6905C5.27397 16.7419 5.46337 16.7797 5.74542 16.8028C5.97772 16.8217 6.25037 16.828 6.58722 16.8311C6.41249 16.585 6.27075 16.3136 6.1712 16.0215L6.10968 15.8194C5.99614 15.3956 6.00128 14.899 6.00128 14.167V9.00296C5.79386 9.0067 5.65011 9.01339 5.53741 9.02737L5.3587 9.06057C4.76502 9.21965 4.29247 9.66448 4.09601 10.2412L4.06085 10.3584C4.00404 10.5705 3.99835 10.8493 3.99835 11.667V13.5Z"})),YPt=Object.freeze(Object.defineProperty({__proto__:null,default:P3},Symbol.toStringTag,{value:"Module"})),O2t={positive:P3,negative:A3,neutral:Lk,mixed:Lk},D2t={positive:"Positive",negative:"Negative",neutral:"Mixed",mixed:"Mixed"};function F2t({contentReference:t,trackContentReferenceEvent:e,disableAnimation:n}){const r=g.useRef(!1);g.useEffect(()=>{t&&!r.current&&(r.current=!0,e("Product Sidebar Reviews Loaded","product_sidebar_reviews_loaded","product_reviews"))},[t,e]);function s(i){return new URL(i).hostname.replace(/^www\./,"")}function a(i){var l;return t?i.cite?(l=t.cite_map[i.cite])==null?void 0:l.url:i.cite_url:null}return t?o.jsx(Kfe,{title:o.jsx(N,{id:"p8XHcJ",defaultMessage:"What people are saying"}),children:o.jsxs("div",{className:"flex flex-col gap-6",children:[t.summary&&o.jsx(AN,{isDisabled:n,children:o.jsx(ar,{className:"-mb-2 text-sm",children:t.summary})}),t.reviews.map((i,l)=>{var d;const c=O2t[(d=i.sentiment)!=null?d:"neutral"],u=a(i);return o.jsxs(Se.div,{className:"relative flex flex-col gap-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:n?0:.4},children:[o.jsxs("div",{className:U("flex flex-row items-center gap-2","not-prose"),children:[o.jsx(Nn,{url:u!=null?u:"",className:"h-8 w-8 rounded-full",size:128,minSize:16,fallback:o.jsx(jc,{className:"text-token-text-tertiary"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"text-sm font-semibold",children:i.source}),o.jsxs("div",{className:"text-token-text-secondary flex flex-row gap-1 text-xs",children:[o.jsx("div",{children:u?s(u):""}),i.sentiment&&c&&o.jsxs(o.Fragment,{children:["Â·",o.jsx(c,{className:"icon-sm text-token-text-secondary"}),D2t[i.sentiment]]})]})]})]}),o.jsxs("div",{className:"text-sm",children:[i.theme&&o.jsx("div",{className:"font-semibold",children:i.theme}),o.jsx("span",{className:"me-1",children:i.summary}),o.jsx(B2t,{cite:i.cite,contentReference:t,trackContentReferenceEvent:e})]})]},l)})]})}):null}function B2t({cite:t,contentReference:e,trackContentReferenceEvent:n,analyticsMetadata:r}){const{cite_map:s}=e,a=t?s[t]:null;return a?o.jsx(X4,{webpageItem:a,trackContentReferenceEvent:n,analyticsMetadata:P(C({},r),{section:"product_reviews",section_location:"sidebar"}),isLastHovered:!0,noMarginStart:!0}):null}const U2t=({options:t,onSelect:e,isErrored:n})=>{var r,s;return o.jsxs(J.Root,{children:[o.jsxs(J.Trigger,{className:U("radix-state-open:border-token-text-primary border-token-border-heavy bg-token-bg-primary text-token-text-secondary hover:bg-token-bg-primary h-12 w-full justify-between rounded-2xl border px-4 py-3 text-start",n&&"border-token-interactive-label-danger-secondary-default"),children:[(s=(r=t==null?void 0:t.find(a=>a.selected))==null?void 0:r.label)!=null?s:o.jsx(N,{id:"FxgwoS",defaultMessage:"Choose an option"}),o.jsx(wc,{className:"icon-md ms-0.5"})]}),o.jsx(J.Portal,{children:o.jsx(J.Content,{children:t==null?void 0:t.map((a,i)=>{var l;return o.jsx(J.Item,{"aria-label":(l=a.label)!=null?l:"",onClick:()=>e(a.id,i),children:a.label},a.id)})})})]})},H2t=({options:t,onSelect:e})=>o.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((n,r)=>o.jsx("button",{type:"button","aria-label":n.label,className:"flex items-center justify-center rounded-full border-2 px-4 py-2 text-lg text-xs font-medium transition-all ".concat(n.selected?"bg-token-bg-primary border-black":"bg-token-bg-tertiary border-transparent"," ").concat(n.available?"":"opacity-50"),onClick:()=>e(n.id,r),children:n.label},n.id))}),V2t=({options:t,onSelect:e})=>o.jsx("div",{className:"flex flex-wrap items-center gap-3",children:t.map((n,r)=>o.jsx("button",{type:"button","aria-label":n.label,className:"flex h-9 w-9 items-center justify-center rounded-lg outline-2 outline-offset-1 transition-all ".concat(n.selected?"":"outline-transparent"),onClick:()=>e(n.id,r),children:n.swatch_color_hex?o.jsx("span",{className:"block h-9 w-9 rounded-lg border",style:{backgroundColor:n.swatch_color_hex}}):n.swatch_image_url?o.jsx("img",{className:"h-9 w-9 rounded-lg object-cover",src:n.swatch_image_url,alt:n.label}):null},n.id))});function $2t({options:t,updateOption:e,showErrors:n}){return t?o.jsx(o.Fragment,{children:t.map((r,s)=>{var a;return o.jsxs("div",{className:U("flex flex-col gap-1.5",s>0&&"mt-4"),children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"text-sm font-medium capitalize",children:r.label}),r.type!=="dropdown"&&r.selected_option_id&&o.jsxs(o.Fragment,{children:[o.jsx(N,{id:"6JW/+Y",defaultMessage:"â¢"}),o.jsx("span",{className:"text-token-text-secondary text-sm",children:(a=r.options.find(i=>i.id===r.selected_option_id))==null?void 0:a.label})]})]}),r.type==="swatch"?o.jsx(V2t,{options:r.options,onSelect:(i,l)=>e(r.id,i,l)}):r.type==="pill"?o.jsx(H2t,{options:r.options,onSelect:(i,l)=>e(r.id,i,l)}):o.jsx(U2t,{options:r.options,onSelect:(i,l)=>e(r.id,i,l),isErrored:n&&!r.selected_option_id}),!r.selected_option_id&&n&&o.jsxs("div",{className:"text-token-interactive-label-danger-secondary-default flex items-center gap-1 text-sm",children:[o.jsx(cc,{className:"icon-sm"}),o.jsx(N,{id:"UsAVv3",defaultMessage:"Choose an option"})]})]},r.id)})}):null}function q2t({product:t,setUpdatedProduct:e,clientThreadId:n,messageId:r,contentReferenceStartIndex:s,productIndex:a,analyticsMetadata:i,offsetTopMargin:l=!1}){var te,ae,me,W,K,ne,re,le,fe,ge,ye,_e,Ne;const c=q(),u=ws(c),d=sue(i),[f,m]=g.useState(t),p=((te=f.product_lookup_key)==null?void 0:te.variant_options_query)==null,[h,v]=g.useState(null),[y,x]=g.useState(!1),{showDebugConversationTurns:b}=Eu(),_=Ju.useStore(),w=ie(c,"3375735072"),S=ie(c,"232003972"),k=ie(c,"4170238021"),M=ie(c,"966859370"),E=M?d0t:p0t,T=k3({namespace:"shopping_checkout"});g.useEffect(()=>{T==null||T.reset()},[t.id,T]);const{productInfo:j,isLoadingReviewsOrRationale:A,isLoadingProductEntity:I,isCached:L}=E({clientThreadId:n,messageId:r,product:f,isInitialLoad:p}),O=g.useRef(!1);g.useEffect(()=>{var Ae;j.productEntity&&(!M&&((Ae=f.product_lookup_key)!=null&&Ae.variant_options_query)&&j.productEntity.product.variants,m(P(C({},j.productEntity.product),{title:f.title}))),j.productEntity&&!O.current&&(O.current=!0,d("Product Sidebar Entity Loaded","product_sidebar_entity_loaded","product_entity"))},[j.productEntity,d]),g.useEffect(()=>{d("Product Detail Shown","product_detail_shown","product_entity",{product_id:t.id,product_url:t.url})},[]),g.useEffect(()=>{f&&e(f)},[f,e]),g.useEffect(()=>{var ot;if(!M)return;async function Ae(){T==null||T.startBlock("offer_variant_reload");const gt=await u0t({productLookupKey:f.product_lookup_key}),Pe=gt==null?void 0:gt.product;Pe&&Pe.variants&&m(Ie=>P(C({},Pe),{title:Ie.title})),T==null||T.endBlock("offer_variant_reload")}(ot=f.product_lookup_key)!=null&&ot.variant_options_query&&Ae()},[(ae=f.product_lookup_key)==null?void 0:ae.variant_options_query]);const R=g.useRef([]),H=g.useRef([]),V=(W=(me=f==null?void 0:f.offers)!=null?me:t.offers)!=null?W:[];for(const Ae of V)R.current.some(ot=>ot.merchant_name===Ae.merchant_name)||R.current.push(Ae);const z=(ne=(K=f==null?void 0:f.image_urls)!=null?K:t.image_urls)!=null?ne:[];for(const Ae of z)H.current.includes(Ae)||H.current.push(Ae);const $=f.num_reviews,D=f.rating,Y=f.rating_grouped_citation,G=(re=f==null?void 0:f.variants)!=null?re:[],F=w?f.image_urls:(le=H.current)!=null?le:[],X=F==null?void 0:F.map(Ae=>({url:Ae,content_url:Ae,thumbnail_url:Ae,title:t.title,content_size:{width:0,height:0},thumbnail_size:{width:0,height:0}}));return o.jsxs("div",{className:U("bg-token-bg-primary flex w-full flex-col",l?u?"mt-[calc(var(--threadFlyOut-leading-height,var(--header-height))*-1)] min-h-screen":"mt-[calc(var(--threadFlyOut-leading-height,57px)*-1)] min-h-screen":"mt-0"),children:[k?o.jsx(l0t,{images:(fe=F==null?void 0:F.map(Ae=>({src:Ae})))!=null?fe:[],aspect:"aspect-square",objectPosition:"object-contain",imageClassName:"mix-blend-darken dark:mix-blend-lighten cursor-zoom-in",onClick:Ae=>{_.setCurrentImage({image:{url:Ae.src,content_url:Ae.src,thumbnail_url:Ae.src,title:t.title,content_size:{width:0,height:0},thumbnail_size:{width:0,height:0}},source:Zp.ImageGroup,analyticsMetadata:i,contentReferenceStartIndex:s,productIndex:a,imageResults:X!=null?X:[]})}}):o.jsx(h0t,{imageUrls:F,title:t.title,onImageClick:Ae=>{_.setCurrentImage({image:{url:Ae,content_url:Ae,thumbnail_url:Ae,title:t.title,content_size:{width:0,height:0},thumbnail_size:{width:0,height:0}},source:Zp.ImageGroup,analyticsMetadata:i,contentReferenceStartIndex:s,productIndex:a,imageResults:X!=null?X:[]})}}),o.jsxs("div",{className:"border-token-border-light flex flex-col border-t px-6 pt-4",children:[o.jsx("div",{className:"text-token-text-primary text-xl font-medium",children:t.title}),$!=null&&$>0&&D!=null&&S&&o.jsx(k2t,{rating:D,numReviews:$,ratingGroupedCitation:Y,trackContentReferenceEvent:d,analyticsMetadata:i})]}),w&&(G==null?void 0:G.length)>0&&o.jsx("div",{className:"px-6 pt-4",children:o.jsx($2t,{options:G,showErrors:y,updateOption:(Ae,ot,gt)=>z2t({optionGroupId:Ae,selectedId:ot,variant_index:gt,statefulProduct:f,setStatefulProduct:m,trackContentReferenceEvent:d,productIndex:a,productId:t.id})})}),h&&o.jsx("div",{className:"text-token-interactive-label-danger-secondary-default text-center",children:h}),o.jsx(f2t,{className:"border-token-border-light -mx-3 flex flex-col px-6 pt-4",offers:w?(ge=f.offers)!=null?ge:[]:(ye=R.current)!=null?ye:[],profiler:T,contentReferenceStartIndex:s,productIndex:a,product:f,trackContentReferenceEvent:d,analyticsMetadata:i,imageUrls:w?(_e=f.image_urls)!=null?_e:[]:(Ne=H.current)!=null?Ne:[],isLoading:w?I:!1,onOpenCheckout:()=>x(!0)}),A?o.jsxs("div",{className:"flex flex-col gap-4 px-6 py-6",children:[o.jsx(Eo,{index:0,width:50,heightSize:"sm"}),o.jsxs(Q6e,{children:[o.jsx(Eo,{index:1,width:100,heightSize:"sm"}),o.jsx(Eo,{index:2,width:100,heightSize:"sm"}),o.jsx(Eo,{index:3,width:30,heightSize:"sm"})]})]}):o.jsxs("div",{className:"bg-token-bg-primary flex flex-col pt-4",children:[o.jsx(R2t,{contentReference:j.productRationale,trackContentReferenceEvent:d,disableAnimation:L}),o.jsx(F2t,{contentReference:j.productReviews,trackContentReferenceEvent:d,disableAnimation:L})]}),!1]})}function z2t({optionGroupId:t,selectedId:e,variant_index:n,statefulProduct:r,setStatefulProduct:s,trackContentReferenceEvent:a,productIndex:i,productId:l}){var u,d,f,m;const c=(u=r.variants)==null?void 0:u.find(p=>p.id===t);a("product_detail","product_detail","product_entity",{product_index:i,product_id:l,action:"variant_selected",section:"product_detail",section_location:"sidebar",variant_name:(d=c==null?void 0:c.label)!=null?d:"",variant_value:(m=(f=c==null?void 0:c.options.find(p=>p.id===e))==null?void 0:f.label)!=null?m:"",variant_index:n}),s(p=>{var x,b;const h=(b=(x=p.variants)==null?void 0:x.map(_=>_.id===t?P(C({},_),{options:_.options.map(w=>P(C({},w),{selected:w.id===e})),selected_option_id:e}):_))!=null?b:p.variants,y=(h==null?void 0:h.every(_=>_.selected_option_id))?h==null?void 0:h.reduce((_,w)=>(w.selected_option_id&&(_[w.id]=w.selected_option_id),_),{}):null;return P(C({},p),{variants:h,product_lookup_key:P(C({},p.product_lookup_key),{variant_options_query:y,last_variant_selection_group_id:t})})})}const I1={};function G2t(t){var s,a,i,l,c,u,d,f,m,p;const e=(c=(l=(s=t.metadata)==null?void 0:s.debug_sonic_thread_id)!=null?l:(i=(a=t.metadata)==null?void 0:a.__internal)==null?void 0:i.sonic_thread_id)!=null?c:null,n=(f=(d=(u=t.metadata)==null?void 0:u.__internal)==null?void 0:d.sonic_user_id)!=null?f:null;let r=t;if(e||n){const h=C({},(m=t.metadata)!=null?m:{});e&&h.debug_sonic_thread_id==null&&(h.debug_sonic_thread_id=e);const v=C({},(p=h.__internal)!=null?p:{});e&&v.sonic_thread_id==null&&(v.sonic_thread_id=e),n&&v.sonic_user_id==null&&(v.sonic_user_id=n),h.__internal=v,r=P(C({},t),{metadata:h})}return r}function QPt({clientThreadId:t,debugThreadId:e,messageId:n,query:r,category:s,extraParams:a}){var y,x;const i=q(),l=J6e(i),c=Z(),u=(y=kt(t))!=null?y:t,d=Eu(),f=g.useMemo(()=>"entity-".concat(s,"-").concat(r,"-").concat(JSON.stringify(a!=null?a:{}),"-").concat(u,"-").concat(n,"-").concat(e),[s,r,a,u,n,e]),[m,p]=g.useState((x=I1[f])!=null?x:null),[h,v]=g.useState(null);return g.useEffect(()=>{v(null)},[r,s]),g.useEffect(()=>{const b=new AbortController;if(I1[f]){p(I1[f]);return}async function _(){p(null),I1[f]=null;try{const{chatReq:E,turnstileToken:T,proofToken:j}=await Ej(i,void 0),A=I5(E,T,j,null),I=Ao("".concat(ss,"/sidebar/conversation"),{method:"POST",headers:C(P(C({},ca({isAuthOptional:!0})),{"Content-Type":"application/json"}),A),body:C(C({conversation_id:u,message_id:n,supported_encodings:[Kd.V1],is_client_thread:u===t},s==="ask_sidebar"?{category:"ask_sidebar",locale:c.locale,ask_sidebar_params:{query:r,additional_context:a==null?void 0:a.context}}:{category:"generic_entity",locale:c.locale,generic_entity_params:{name:r,category:s,extra_params:a}}),d.showDebugConversationTurns?{debug_params:{persist_conversation_to_user:!0}}:{}),signal:b.signal});let L=null,O=null;try{for(var w=Xn(Zd(I)),S,k,M;S=!(k=await w.next()).done;S=!1){const R=k.value;if(b.signal.aborted)break;if(!("data"in R))continue;const H=R.data,{type:V,data:z}=H;if(V==="message"&&z&&z.author.role===Ue.Assistant&&_u(z)&&(!z.channel||z.channel==="final")){const $=G2t(z);p($),!O&&H.conversation_id&&(O=H.conversation_id,Ji(t)&&da.setServerIdForNewThread(t,O)),$.status==="finished_successfully"&&(I1[f]=$)}}}catch(k){M=[k]}finally{try{S&&(k=w.return)&&await k.call(w)}finally{if(M)throw M[0]}}}catch(E){b.abort(),I1[f]=null,v(E)}}return _(),()=>{b.abort(),p(null)}},[f,u,t,e,n,r,s,a,i,l,c.locale,d.showDebugConversationTurns]),{message:m,error:h}}const Yfe=g.createContext(void 0);function JPt({value:t,children:e}){return o.jsx(Yfe.Provider,{value:t,children:e})}function XPt(){return g.useContext(Yfe)}var U_,QG;function W2t(){if(QG)return U_;QG=1;var t=NM(),e=T6(),n=Xre(),r=F6();function s(a,i){var l=r(a)?t:n;return l(a,e(i,3))}return U_=s,U_}var H_,JG;function Z2t(){if(JG)return H_;JG=1;var t=NY(),e=W2t();function n(r,s){return t(e(r,s),1)}return H_=n,H_}var K2t=Z2t();const Y2t=St(K2t);function Qfe({clientThreadId:t,turnIndex:e,messageId:n,isInSidebar:r=!1,isN7JUPDSidebar:s=!1,scrollToHeader:a,shouldAnimateScroll:i}){const l=q(),c=ws(l),[u,d]=X2t(t,n),f=Te(t,v=>{var x;const y=mce(v,e);return[(x=v==null?void 0:v.tree.getNodeIfExists(n))==null?void 0:x.message,...y]}),m=g.useMemo(()=>f.flatMap(v=>Dg(v)),[f]),p=Y2t(m,v=>v.entries).toSorted((v,y)=>{var x,b;return((x=y==null?void 0:y.pub_date)!=null?x:0)-((b=v==null?void 0:v.pub_date)!=null?b:0)}),h={clientThreadId:t,messageId:n,turnIndex:e};return o.jsxs("div",{className:U("bg-token-bg-primary flex w-full flex-col",r?c?"mt-[calc(var(--threadFlyOut-leading-height,var(--header-height))*-1)] min-h-screen":"mt-[calc(var(--threadFlyOut-leading-height,57px)*-1)] min-h-screen":"mt-0",r?"":"border-token-border-default border-t"),children:[d&&d.length>0&&o.jsx(V_,{title:o.jsx(N,{id:"fYO0jL",defaultMessage:"Links"}),items:d,analyticsMetadata:P(C({},h),{linkType:"links"}),scrollToHeader:a===vd.Links,shouldAnimateScroll:i,messageId:n,isN7JUPDSidebar:s}),o.jsx(V_,{title:o.jsx(N,{id:"dlVlo6",defaultMessage:"Citations"}),items:u,analyticsMetadata:P(C({},h),{linkType:"citation"}),scrollToHeader:a===vd.Citations,shouldAnimateScroll:i,messageId:n,isN7JUPDSidebar:s}),o.jsx(V_,{title:o.jsx(N,{id:"Gz+4tE",defaultMessage:"More"}),items:p,analyticsMetadata:P(C({},h),{linkType:"search_result"}),messageId:n,scrollToHeader:a===vd.SearchResults,shouldAnimateScroll:i,isN7JUPDSidebar:s})]},"".concat(e,"-").concat(t))}function V_({title:t,items:e,analyticsMetadata:n,scrollToHeader:r,messageId:s,shouldAnimateScroll:a,isN7JUPDSidebar:i}){const l=q(),c=ws(l),u=g.useRef(null);return g.useEffect(()=>{u.current&&r&&setTimeout(()=>{u.current&&u.current.scrollIntoView({behavior:a?"smooth":"instant"})},300)},[r,a]),!e||e.length===0?null:o.jsxs("div",{ref:u,children:[o.jsx(Rk,{className:U("bg-token-bg-primary text-token-text-primary sticky top-0 z-1 flex items-center px-6 pt-4 pb-4 text-sm font-medium",c?"border-b-thin h-[calc(var(--header-height,3.5rem))] border-(--bento-border-color)":"border-token-border-light h-[calc(var(--header-height,3.5rem)+1px)] border-b"),children:t}),o.jsx("ul",{className:"flex flex-col px-3 py-2",children:e.map((d,f)=>o.jsx(Rk,{index:f,children:o.jsx(J2t,{item:d,analyticsMetadata:P(C({},n),{groupIndex:f}),messageId:s,isN7JUPDSidebar:i},f)},"".concat(t,"-").concat(f)))})]})}function Rk({children:t,index:e=0,className:n=""}){return o.jsx(Se.li,{className:n,initial:{opacity:0},animate:{opacity:1},transition:{delay:(e+1)*.03+.2},children:t})}function Q2t({item:t,analyticsMetadata:e}){var p,h,v,y,x;const n=Z(),{clientThreadId:r}=e,s=kn(r),a=(h=(p=t.asset_pointer_links)==null?void 0:p[0])!=null?h:"",i=ftt(a),l=GJe({asset:{content_type:Tp.ImageAssetPointer,size_bytes:0,width:0,height:0,asset_pointer:i},conversationId:s}),c=(v=t.clicked_from_url)!=null?v:"",u=l.data?{url:l.data.url,thumbnail_url:l.data.url,content_url:c,title:(y=t.clicked_from_title)!=null?y:n.formatMessage({id:"jLfAkx",defaultMessage:"Image"}),content_size:{width:0,height:0},thumbnail_size:{width:0,height:0},is_proxied_image:!0,attribution:Wi(c,"hostname")}:null,d=Ju.useStore(),f=b=>{b.preventDefault(),b.stopPropagation(),u&&d.setCurrentImage({image:u})},m=Wi(c,"hostname");return o.jsx("li",{children:o.jsxs(Jfe,{analyticsMetadata:e,href:(x=u==null?void 0:u.content_url)!=null?x:"#",className:"hover:bg-token-main-surface-secondary flex flex-col gap-0.5 rounded-xl px-3 py-2.5",onClick:f,rel:"noopener",children:[o.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",children:[u?o.jsx("img",{src:u.thumbnail_url,className:"icon-sm bg-token-main-surface-primary rounded-full object-cover",alt:n.formatMessage({id:"LUO0a4",defaultMessage:"Image thumbnail"})}):o.jsx("span",{className:"icon-sm bg-token-main-surface-primary rounded-full"}),m]}),o.jsx("div",{className:"line-clamp-2 text-sm font-semibold break-words",children:t.clicked_from_title?t.clicked_from_title:o.jsx(N,{id:"mmoVoz",defaultMessage:"Unknown"})})]})})}function J2t({item:t,analyticsMetadata:e,messageId:n,isN7JUPDSidebar:r}){var p,h,v,y,x,b;const s=Z();if(t.type==="image_inline"&&r)return o.jsx(Q2t,{item:t,analyticsMetadata:e});const i=(h=t.attribution)!=null?h:Wi((p=t==null?void 0:t.url)!=null?p:"","short"),l=(v=t.url)!=null?v:"",c=ri(l),u=c?c.Icon:t.type==="file"?is:null,d=c?c.type:t.type==="file"?s.formatMessage({id:"8ny9KX",defaultMessage:"File"}):void 0,f=_=>"ref_id"in _&&"content_type"in _;return o.jsxs(Jfe,{analyticsMetadata:e,href:l,target:"_blank",rel:"noopener",className:"hover:bg-token-main-surface-secondary flex flex-col gap-0.5 rounded-xl px-3 py-2.5",onMouseEnter:()=>{nf.setHighlightBySource(n,t)},onMouseLeave:()=>{nf.clearHighlights()},children:[o.jsxs("div",{className:"line-clamp-1 flex h-6 items-center gap-2 text-xs",children:[u?o.jsx(u,{className:"icon-sm bg-token-main-surface-primary rounded-full object-cover",alt:d}):o.jsx(Nn,{url:(y=t==null?void 0:t.url)!=null?y:"",className:"icon-sm bg-token-main-surface-primary rounded-full object-cover",size:32,minSize:20,fallback:o.jsx(jc,{className:"icon-sm text-token-text-quaternary"})}),i,f(t)&&o.jsx(ice,{searchResult:t,className:"text-token-text-tertiary inline h-4 w-4"})]}),o.jsx("div",{className:"line-clamp-2 text-sm font-semibold break-words",children:(b=(x=t.title)!=null?x:t.name)!=null?b:""}),o.jsx("div",{className:"text-token-text-secondary line-clamp-2 text-sm leading-snug font-normal",children:o.jsx(egt,{date:t.pub_date,snippet:t.snippet})})]})}const Jfe=g.forwardRef(function(e,n){const u=e,{analyticsMetadata:r}=u,s=de(u,["analyticsMetadata"]),d=r,{groupIndex:a,linkType:i}=d,l=de(d,["groupIndex","linkType"]),c=P(C({},Pt(l)),{url:e.href,section_index:(a+1).toString(),link_type:"text",section:i,section_location:"sidebar"});return g.useEffect(()=>{B.logEvent("link_action",P(C({},c),{action:"show"}))},[]),o.jsx("a",P(C({ref:n},s),{onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),f.stopPropagation(),B.logEvent("link_action",P(C({},c),{action:"click"}))}}))}),X2t=(t,e)=>Te(t,n=>{var m,p,h,v;const r=n&&((m=n.tree.getNodeIfExists(e))==null?void 0:m.message),s=(p=Y6(r))!=null?p:[],a=Object.values((v=(h=r==null?void 0:r.metadata)==null?void 0:h.content_references_by_file)!=null?v:{}).flat(),i=Go([...s,...a]),l=zee(i);let c=[];const u=i.filter(y=>y.type==="navigation");u.length>0&&(c=u.flatMap(y=>y.domains.flatMap(x=>[{title:x.title,snippet:x.domain,url:x.url},...x.sub_domains.map(b=>({title:b.title,snippet:x.domain,url:b.url}))])));const d=i.filter(y=>y.type==="tldr").filter(y=>!y.used_as_navigation);d.length>0&&d.forEach(y=>{c.push({title:y.display_title,url:y.url})});const f=c.length>0?c:void 0;return[l,f]});function egt({date:t,snippet:e}){return!t&&!e?null:t&&!e?o.jsx(Eh,{date:t}):!t&&e?o.jsx(o.Fragment,{children:e}):o.jsx("span",{children:o.jsx(N,{id:"bgWoDg",defaultMessage:"{date} â {snippet}",values:{date:o.jsx(Eh,{date:t}),snippet:e}})})}const tgt=Object.freeze(Object.defineProperty({__proto__:null,AnimatedContainer:Rk,SearchSources:Qfe},Symbol.toStringTag,{value:"Module"}));function eIt({clientThreadId:t,messageId:e}){const n=dc(),{closeThreadSidebar:r}=Bn(),s=Te(t,a=>a?se.getConversationTurns(a).findIndex(l=>l.messages.some(c=>c.id===e)):void 0);return s==null||s===-1||!n?null:o.jsx(Ac,{ariaLabel:"Citations",handleClose:r,children:o.jsx(Qfe,{clientThreadId:t,turnIndex:s,messageId:e,isInSidebar:!0,isN7JUPDSidebar:!0})})}function tIt(t){"use forget";const e=ee.c(10),{clientThreadId:n,tabs:r}=t,s=dc(),{closeThreadSidebar:a}=Bn(),i=Z();if(!s||!r||r.length===0)return null;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=o.jsx("div",{className:"text-token-text-secondary flex items-center py-4 text-sm font-semibold",children:o.jsx(N,C({},Oh.heading))}),e[0]=l):l=e[0];let c;e[1]!==i?(c=i.formatMessage(Oh.heading),e[1]=i,e[2]=c):c=e[2];let u;e[3]!==n||e[4]!==r?(u=o.jsx("div",{className:"flex flex-1 flex-col",children:o.jsx(WS,{tabs:r,clientThreadId:n,className:"border-token-border-subtle flex flex-col border-t",detailed:!0})}),e[3]=n,e[4]=r,e[5]=u):u=e[5];let d;return e[6]!==a||e[7]!==c||e[8]!==u?(d=o.jsx(Ac,{leading:l,ariaLabel:c,handleClose:a,children:u}),e[6]=a,e[7]=c,e[8]=u,e[9]=d):d=e[9],d}function ngt(t){const e=new Set,n=new Set;for(const r of t)if(r.type===Ke.Search){for(const s of r.queries)e.add(s.q);for(const s of r.sources)n.add(s.domain)}return{queries:e.size,sources:n.size}}const $_=24,rgt=12,sgt=4,agt=5e3,Xfe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.74709 9.4286C4.09594 9.54326 4.47122 9.35358 4.58596 9.00478C5.08292 7.49281 6.19702 6.25947 7.62893 5.60243C8.06385 6.47457 8.96218 7.07502 10.003 7.07509C11.4688 7.07509 12.6572 5.88666 12.6572 4.42079C12.6572 2.9549 11.4688 1.76649 10.003 1.76649C8.58666 1.76659 7.43205 2.87614 7.35549 4.27333C5.45427 5.04691 3.9686 6.62635 3.32326 8.58974C3.20868 8.9386 3.39823 9.31394 3.74709 9.4286ZM11.3272 4.42079C11.3272 3.68944 10.7343 3.09657 10.003 3.09657C9.27168 3.09667 8.67873 3.6895 8.67873 4.42079C8.67875 5.15207 9.2717 5.74491 10.003 5.74501C10.7343 5.74501 11.3272 5.15213 11.3272 4.42079Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4619 7.23427C15.2394 8.2087 15.7041 9.4424 15.7041 10.786C15.7041 10.9669 15.6951 11.1459 15.6787 11.3222C14.7046 11.2611 13.734 11.7399 13.2129 12.6425C12.4802 13.9118 12.9144 15.5346 14.1836 16.2675C15.453 17.0003 17.0767 16.5651 17.8096 15.2958C18.5164 14.0711 18.1344 12.5197 16.9668 11.7538C17.0104 11.4372 17.0332 11.114 17.0332 10.786C17.0332 9.13002 16.4602 7.6065 15.502 6.40517L15.3057 6.16982L15.2071 6.07704C14.9612 5.8895 14.6094 5.89431 14.3672 6.10536C14.1251 6.31651 14.0723 6.66436 14.2246 6.93349L14.3028 7.04286L14.4619 7.23427ZM16.1729 12.8222C15.5397 12.4566 14.7299 12.6743 14.3643 13.3075C13.999 13.9406 14.2158 14.7495 14.8487 15.1151C15.4819 15.4807 16.2917 15.264 16.6572 14.6308C17.0227 13.9976 16.806 13.1877 16.1729 12.8222Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.78713 12.6425C6.05428 11.3731 4.43147 10.9379 3.16213 11.6708C1.89304 12.4036 1.45791 14.0266 2.19045 15.2958C2.89893 16.5229 4.438 16.9667 5.68654 16.3329C6.87794 17.2613 8.37572 17.8172 10.003 17.8173C10.4526 17.8173 10.8932 17.7743 11.3203 17.6933C11.6812 17.6248 11.9181 17.2767 11.8496 16.9159C11.781 16.5553 11.433 16.3182 11.0723 16.3866C10.7265 16.4522 10.3689 16.4872 10.003 16.4872C8.77108 16.4872 7.63223 16.0956 6.70022 15.4315C7.23668 14.6191 7.30697 13.5429 6.78713 12.6425ZM5.63576 13.3075C5.27019 12.6743 4.46037 12.4566 3.82717 12.8222C3.19401 13.1877 2.97733 13.9976 3.3428 14.6308C3.70838 15.264 4.51818 15.4807 5.15139 15.1151C5.78423 14.7495 6.00103 13.9406 5.63576 13.3075Z"})),nIt=Object.freeze(Object.defineProperty({__proto__:null,default:Xfe},Symbol.toStringTag,{value:"Module"}));function ogt({messages:t,isRequestActive:e,isLastMessageInTurn:n,isRetrieval:r,isUsingGizmo:s,isUsingSnorlax:a}){var y,x;const i=FA({messages:t}),l=igt(t),c=l.filter(b=>hgt(b,!1)&&!vgt(b)),u=(y=c[c.length-1])!=null?y:void 0,d=Z();if(ygt(t).some(({content:b})=>b.content_type===rt.SystemError))return null;let f=As.Running;const m=c.filter(b=>b.type===$t.Search).length,p={count:c.length-m,domain:u?aJ((x=e7(u))!=null?x:""):void 0,query:u?eme(u):void 0};let h=r?s?a?d.formatMessage(xt.searchingProjectFiles):d.formatMessage({id:"browsingMessage.searchingKnowledge",defaultMessage:"Searching my knowledge"}):d.formatMessage({id:"browsingMessage.startingRetrieval",defaultMessage:"Reading documents"}):d.formatMessage({id:"message.tools.browse.running",defaultMessage:"Searching the web"});return t.some(ZIe)?(f=As.Stopped,h=r?s?d.formatMessage({id:"browsingMessage.searchingKnowledgeStopped",defaultMessage:"Stopped searching knowledge"}):d.formatMessage({id:"browsingMessage.retrievalStopped",defaultMessage:"Stopped reading documents"}):d.formatMessage({id:"message.tools.browse.stopped",defaultMessage:"Search stopped"})):!n||!e?l.length>0&&l.every(b=>b.didError)?(f=As.Error,h=r?s?d.formatMessage({id:"browsingMessage.searchingKnowledgeFailed",defaultMessage:"Error searching knowledge"}):d.formatMessage({id:"browsingMessage.retrievalFailed",defaultMessage:"Error reading documents"}):d.formatMessage({id:"message.tools.browse.failed",defaultMessage:"Search failed"})):(f=As.Finished,h=r?null:p.count===0?d.formatMessage({id:"message.tools.browse.started",defaultMessage:"Searching the web..."}):d.formatMessage({id:"message.tools.browse.finished",defaultMessage:"Searched {count, plural, =0 {0 sites} one {# site} other {# sites}}"},p)):i.length>0?h=tme({contextualAnswerSources:i,intl:d}):c.length>0&&(h=pgt(d,p,r,s,c[c.length-1])),(c.length>0||r&&n)&&f!==As.Error?o.jsx(QS,{highlightedCommand:h,showWorkUserSetting:!1,status:f,children:c.length===0?null:o.jsx(lgt,{commands:c})}):o.jsx(xgt,{$isError:f===As.Error,children:h})}function XG(t){var e,n,r;return((e=t.metadata)==null?void 0:e.command)==="quote"||((n=t.metadata)==null?void 0:n.command)==="quote_full"||((r=t.metadata)==null?void 0:r.command)==="quote_lines"}function igt(t){return t.map((e,n)=>{if(e.author.role!==Ue.Tool||n>0&&XG(e)&&XG(t[n-1]))return null;const r=e.metadata;if(!r)return null;const{command:s,status:a}=r;return s?{type:s,status:a,didError:e.content.content_type===rt.SystemError,message:e}:null}).filter(qM)}function lgt({commands:t}){const e=Z();return o.jsx("div",{className:"divide-token-border-default border-token-border-default mb-4 divide-y rounded-xl border text-sm",children:o.jsx(Kt,{initial:!1,children:t.map((n,r)=>{const s=dgt(n);if(s==null)return null;const{icon:a,url:i,title:l,externalLink:c}=s,u=i?aJ(i):void 0,d=l?typeof l=="string"?l:e.formatMessage(l):null,f=i&&Wi(i);return o.jsx(Se.div,{initial:"collapsed",animate:"open",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},children:o.jsxs(cgt,{url:c!=null?c:i,className:U("flex items-start gap-3 px-4 py-3",l?"text-token-text-secondary":"text-token-text-primary",r===0&&"rounded-t-xl",r===t.length-1&&"rounded-b-xl"),children:[a?o.jsx(a,{className:"icon-sm text-token-text-secondary mt-0.5 shrink-0"}):i?o.jsx(Nn,{url:i,className:"mt-1"}):null,o.jsxs("div",{children:[d&&o.jsxs("div",{className:"text-token-text-primary line-clamp-1",children:[f&&"".concat(f," â "),d]}),o.jsx("div",{children:u})]})]})},r)})})})}function cgt({url:t,children:e,className:n}){return t?o.jsxs("a",{href:t,target:"_blank",className:U(n,"group hover:bg-token-main-surface-secondary relative"),rel:"noreferrer",children:[e,o.jsx("div",{className:"from-token-main-surface-secondary invisible absolute end-3 bg-linear-to-l to-transparent ps-4 group-hover:visible",children:o.jsx(ba,{className:"icon text-token-text-secondary"})})]}):o.jsx("div",{className:n,children:e})}function ugt(t){var n,r;const e=(r=(n=t.message.metadata)==null?void 0:n._cite_metadata)==null?void 0:r.metadata_list[0];return e!=null&&e.type!=="file"?e.title:null}function eme(t){var e,n;return(n=(e=t.message.metadata)==null?void 0:e.args)==null?void 0:n[0]}function dgt(t){var e,n,r;switch(t.type){case $t.Search:{const s=(e=t.message.metadata)==null?void 0:e.search_engine;if(s&&s!==e5e.Bing)return null;const a=eme(t);return{icon:Cu,url:((n=t.message.metadata)==null?void 0:n.message_source)==="apple"?null:"bing.com",externalLink:mgt(t),title:a?"â".concat(a,"â"):{id:"message.tools.browse.querying",defaultMessage:"Querying",description:"Status message when issuing a query"}}}case $t.Click:case $t.MultiClick:case $t.Lookup:case $t.OpenUrl:case $t.Open:case $t.Quote:case $t.QuoteFull:case $t.QuoteLines:case $t.Scroll:return{url:e7(t),title:(r=ugt(t))!=null?r:void 0};case $t.Spinner:case $t.Back:return null}}function fgt(t){const e=new URLSearchParams({query:t.query});return"".concat(ss,"/bing/redirect?").concat(e.toString())}function mgt(t){var n,r;const e=(r=(n=t.message.metadata)==null?void 0:n.args)==null?void 0:r[0];return e===void 0?null:fgt({query:e})}function pgt(t,e,n,r,s){switch(s==null?void 0:s.type){case $t.Click:case $t.MultiClick:case $t.Lookup:case $t.OpenUrl:case $t.Quote:case $t.QuoteFull:case $t.QuoteLines:case $t.Scroll:case $t.Open:case $t.Back:return t.formatMessage({id:"message.tools.browse.reading",defaultMessage:"Browsing {domain}"},e);case $t.Search:case void 0:return n?r?t.formatMessage({id:"browsingMessage.searchingKnowledge",defaultMessage:"Searching my knowledge"}):t.formatMessage({id:"browsingMessage.startingRetrieval",defaultMessage:"Reading documents"}):t.formatMessage({id:"message.tools.browse.searching",defaultMessage:'Searching "{query}"'},e);case $t.Spinner:return null}}function ggt(t){var n,r;const e=(r=(n=t.message.metadata)==null?void 0:n._cite_metadata)==null?void 0:r.metadata_list[0];return e!=null&&e.type==="file"?e.name:null}function hgt(t,e){switch(t.type){case $t.Search:return!0;case $t.Click:case $t.Lookup:case $t.MultiClick:case $t.OpenUrl:case $t.Quote:case $t.QuoteFull:case $t.QuoteLines:return e?ggt(t)!=null:e7(t)!=null;case $t.Open:case $t.Back:case $t.Scroll:case $t.Spinner:return!1}}function vgt(t){var e;return((e=t.message.metadata)==null?void 0:e.message_source)==="apple"}function e7(t){var n,r;const e=(r=(n=t.message.metadata)==null?void 0:n._cite_metadata)==null?void 0:r.metadata_list[0];return e!=null&&e.type!=="file"?e.url:null}function ygt(t){return t.filter(e=>e.author.role===Ue.Tool)}var pK;const xgt=Ge.p(pK||(pK=qe(["first:mt-0 my-1.5 h-8 flex items-center ltr:me-auto rtl:ms-auto empty:hidden\n",""])),({$isError:t})=>t?"text-token-text-error":"text-token-text-secondary"),t7={google_drive:"Google Drive",sharepoint:"SharePoint",slack:"Slack",github:"GitHub",dropbox_sync_connector:"Dropbox",box_sync_connector:"Box",linear_sync_connector:"Linear",slurm_sharepoint:"SharePoint",slurm_linear:"Linear",slurm_box:"Box",slurm_dropbox:"Dropbox",slurm_gmail:"Gmail",slurm_google_drive:"Google Drive",slurm_notion:"Notion"},s6={google_drive:Ir,sharepoint:ku,slack:K6,github:T0,dropbox_sync_connector:Ul,box_sync_connector:gw,linear_sync_connector:hw,slurm_sharepoint:ku,slurm_linear:hw,slurm_box:gw,slurm_dropbox:Ul,slurm_gmail:hi,slurm_google_drive:Ir,slurm_notion:ld},FA=({messages:t})=>[...t.filter(X6e).reduce((r,s)=>{var a,i;return(i=(a=s.metadata)==null?void 0:a.retrieval_search_sources)==null||i.forEach(l=>{(l.product_type==="contextual_answers"||l.product_type==="slurm")&&l.source_name in t7&&r.add(l.source_name)}),r},new Set)],tme=({contextualAnswerSources:t,intl:e})=>{const n=t.map(a=>{var i;return(i=t7[a])!=null?i:a}).filter(Boolean),r=t.map(a=>{var l;const i=(l=s6[a])!=null?l:Xfe;return o.jsx(i,{className:"icon-sm"},a)}).filter(Boolean),s=t.length===1?e.formatMessage({id:"Jzt2om",defaultMessage:"Reading {source}"},{source:n[0]}):t.length===2?e.formatMessage({id:"wTM7gR",defaultMessage:"Reading {source1} and {source2}"},{source1:n[0],source2:n[1]}):e.formatMessage({id:"xnwjH1",defaultMessage:"Reading {source1}, {source2} and more"},{source1:n[0],source2:n[1]});return t.length>0?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center gap-1",children:r}),s]}):void 0},rIt=Object.freeze(Object.defineProperty({__proto__:null,BrowsingMessage:ogt,CA_SOURCE_TO_ICON_MAP:s6,CA_SOURCE_TO_TEXT_MAP:t7,getCASources:FA,getContextualAnswerDisplayText:tme,getVisitedUrl:e7},Symbol.toStringTag,{value:"Module"}));function cm(t,e,n,r,s,a,i=!0){var l,c;if(r&&s&&!n)return t.formatMessage({id:"xvTcn5",defaultMessage:"Stopping"});if("title"in e&&e.title&&i)return e.title;switch(e.type){case Ke.Thought:return e.thought.summary;case Ke.Recap:return e.content;case Ke.N7jupdAPI:return a6({action:e.action,source:e.source,intl:t});case Ke.Browsing:return nme({contextualAnswerSources:e.sources,intl:t});case Ke.Search:return n?t.formatMessage({id:"+a5J9x",defaultMessage:"Searched the web"}):t.formatMessage({id:"GamH3R",defaultMessage:"Searching the web"});case Ke.CodeAnalysis:return n?t.formatMessage({id:"SGdXPO",defaultMessage:"Analyzed"}):t.formatMessage({id:"+JAejT",defaultMessage:"Writing code"});case Ke.ImageAnalysis:return n?t.formatMessage({id:"fjqIXj",defaultMessage:"Analyzed image"}):t.formatMessage({id:"D//PTx",defaultMessage:"Analyzing image"});case Ke.ComputerOutput:return n?t.formatMessage({id:"PlB7p/",defaultMessage:"Browsed the web"}):(c=(l=e.thoughts)==null?void 0:l.at(-1))!=null?c:t.formatMessage({id:"HFx/8x",defaultMessage:"Browsing the web"});case Ke.e1ld0dvz:return e.tasks.every(u=>u.status==="completed")?t.formatMessage({id:"WUrSuY",defaultMessage:"Completed tasks"}):t.formatMessage({id:"tH3LAN",defaultMessage:"Running tasks"});case Ke.N7jupdLoading:return a?Cgt(t,a):t.formatMessage({id:"hgnsat",defaultMessage:"Thinking"});case Ke.Glaux:return bgt(t,e,n)}}const bgt=(t,e,n)=>{if(e.queries.length>1){const s="*",a=new Map;if(e.queries.forEach(({connectorName:c})=>{var u;a.set(c,((u=a.get(c))!=null?u:0)+1)}),a.has(s))return n?t.formatMessage({id:"x+iQ54",defaultMessage:"Searched across connectors"}):t.formatMessage({id:"jsjYQX",defaultMessage:"Searching across connectors"});let i=Array.from(a.entries()).toSorted(([c,u],[d,f])=>f-u).map(([c])=>c);if(i.length>3){const c=i.length-2;i=[...i.slice(0,2),t.formatMessage({id:"45+rh1",defaultMessage:"{number} others"},{number:c})]}const l=t.formatList(i);return n?t.formatMessage({id:"OvXUzx",defaultMessage:"Searched {connectorNames}"},{connectorNames:l}):t.formatMessage({id:"r44Nbg",defaultMessage:"Searching {connectorNames}"},{connectorNames:l})}else return n?t.formatMessage({id:"x+iQ54",defaultMessage:"Searched across connectors"}):t.formatMessage({id:"jsjYQX",defaultMessage:"Searching across connectors"})},Cgt=(t,e)=>e===Vm.Research?t.formatMessage({id:"CsSGJm",defaultMessage:"Starting research"}):e===Vm.Autoswitch?t.formatMessage({id:"9CDId8",defaultMessage:"Thinking longer with agent mode"}):e===Vm.KAUR1BR5?t.formatMessage({id:"QqaVzm",defaultMessage:"Getting started..."}):t.locale.startsWith("en")&&e===Vm.Random?_gt(t):t.formatMessage({id:"gw6x6T",defaultMessage:"Setting up my desktop"}),eW=[{text:"Pouring a cup of coffee",weight:1},{text:"Sharpening pencils",weight:1},{text:"Consulting the rubber duck",weight:1},{text:"Negotiating with servers",weight:1},{text:"Tuning caffeine levels",weight:1},{text:"Untangling the wires",weight:1},{text:"Refilling the printer paper",weight:1},{text:"Baking cookies â HTTP only, of course",weight:1},{text:"Looking for snacks",weight:1},{text:"Warming up the neurons",weight:1},{text:"Folding the transformer layers neatly",weight:1},{text:"Plugging into the matrix",weight:1},{text:"Downloading the extended trilogy",weight:1},{text:"Putting on my super suit",weight:1},{text:"Building additional pylons",weight:1},{text:"Reticulating splines",weight:1},{text:"Blowing dust out of the cartridge",weight:1},{text:"Installing the flux capacitor",weight:1},{text:"Ordering extra pizza for the Turtles",weight:1},{text:"Refining the data",weight:1}];function _gt(t){const e=eW.reduce((r,s)=>r+s.weight,2e3);let n=Math.random()*e;for(const{text:r,weight:s}of eW){if(n<s)return r;n-=s}return t.formatMessage({id:"gw6x6T",defaultMessage:"Setting up my desktop"})}const a6=({action:t,source:e,intl:n})=>t==="n7jupd_as"?n.formatMessage({id:"np3RkB",defaultMessage:"Checking available APIs"}):t==="n7jupd_ag"?n.formatMessage({id:"Q0QNzM",defaultMessage:"Reading API documentation"}):t==="n7jupd_cf"&&!e?n.formatMessage({id:"soOFxK",defaultMessage:"Reading from API"}):t==="n7jupd_cf"&&e?n.formatMessage({id:"1ETpL6",defaultMessage:"Reading from {source}"},{source:e.name}):t==="n7jupd_cs"&&e?n.formatMessage({id:"nqEMzN",defaultMessage:"Searching {source}"},{source:e.name}):n.formatMessage({id:"soOFxK",defaultMessage:"Reading from API"}),nme=({contextualAnswerSources:t,intl:e})=>{if(t.length===0)return e.formatMessage({id:"browsingMessage.startingRetrieval",defaultMessage:"Reading documents"});const n=t.map(r=>t7[r]).filter(Boolean);return t.length===1?e.formatMessage({id:"Jzt2om",defaultMessage:"Reading {source}"},{source:n[0]}):t.length===2?e.formatMessage({id:"wTM7gR",defaultMessage:"Reading {source1} and {source2}"},{source1:n[0],source2:n[1]}):e.formatMessage({id:"xnwjH1",defaultMessage:"Reading {source1}, {source2} and more"},{source1:n[0],source2:n[1]})};function tW({jupyterMessage:t}){const e=Z(),{width:n,height:r}=t;if(t.image_payload!=null)return o.jsx("img",{className:"my-1 max-h-full max-w-full object-contain",src:"data:image/png;base64,".concat(t.image_payload),alt:e.formatMessage(ome.altText),width:n,height:r});if(t.image_url!=null){const s=bs(t.image_url);return o.jsx(ame,{fileId:s,width:n,height:r})}return null}const wgt=30*1e3,rme=100,Ok=1.5,Sgt=Math.log(1-wgt*(1-Ok)/rme)/Math.log(Ok);function sme(t,e){return Ho({queryKey:["getFileDownloadLink",t],queryFn:()=>Tf(t,void 0,e),staleTime:GM,refetchInterval:n=>{var a;const r=n.state.dataUpdateCount;return((a=n.state.data)==null?void 0:a.status)===Ro.Success||r>Sgt||n.state.status===Ro.Error?!1:Math.pow(Ok,r)*rme}})}function ame({fileId:t,width:e,height:n}){const r=Z(),{isUnauthenticated:s}=An(),{data:a,isLoading:i,refetch:l}=ut(sme(t,s));return g.useEffect(()=>{if((a==null?void 0:a.status)===Ro.Success){const u=new URL(a.download_url,location.toString()).searchParams.get("se");u!=null&&!i&&new Date>new Date(u)&&l()}},[a,i,l]),(a==null?void 0:a.status)!==Ro.Success?null:o.jsx("img",{src:a.download_url,className:"my-1 max-h-64 max-w-full object-contain sm:max-h-80",alt:r.formatMessage(ome.altText),width:e,height:n})}const ome=pe({altText:{id:"CodeExecutionOutputImage.altText",defaultMessage:"Output image"}});function kgt({FormattedText:t,message:e,codeRendererClassName:n,forceDarkMode:r,removeTopBorderRadius:s,showActionBar:a,codeContainerClassName:i}){const l=ga()||r,c=ime(e);return c==null?null:o.jsx(PN.Provider,{value:{isWithinDataAnalysisToolMessage:!0},children:o.jsx(t,{className:U("markdown prose dark:prose-invert w-full break-words",l?"dark":"light"),forceDarkMode:r,componentOverrides:{code:u=>o.jsx(IN,P(C({},u),{wrapperClassName:n,codeContainerClassName:i,removeTopBorderRadius:s,showActionBar:a}))},children:c})})}function ime(t){var n,r,s,a,i,l,c,u;function e(d,f){return"```".concat(f,"\n").concat(d,"\n```")}if(t.author.name==="python"&&t.content.content_type===rt.ExecutionOutput)return(r=(n=t.metadata)==null?void 0:n.aggregate_result)!=null&&r.code?e((a=(s=t.metadata)==null?void 0:s.aggregate_result)==null?void 0:a.code,"python"):null;if(t.author.name==="container.exec"&&t.author.role===Ue.Tool)return(l=(i=t.metadata)==null?void 0:i.container_citation)!=null&&l.source_cmd?e((u=(c=t.metadata)==null?void 0:c.container_citation)==null?void 0:u.source_cmd,"bash"):null;if(t.content.content_type==="code")return e(t.content.text,"python");if(t.recipient==="python"){if(t.content.content_type!=="text")return ve.addError("Unexpected content type for code message"),null;const d=t.content.parts;return d.length!==1||typeof d[0]!="string"?(ve.addError("Unexpected parts for code message"),null):e(d[0],"python")}return Lo(3179801956,t.author.name)&&t.content.content_type===rt.ExecutionOutput?e(t.content.text,"python"):(ve.addError("Unexpected code message format"),null)}function Mgt({message:t,showLabel:e=!0,wrapperClassName:n,codeContainerClassName:r,forceDarkMode:s}){var f;const a=Z();if(t.content.content_type!==rt.ExecutionOutput)return null;const i=(f=t.metadata)==null?void 0:f.aggregate_result;if(!i)return ve.addError("Corrupt code execution result message"),null;const l=i.messages.filter(Tgt),c=l.length>0,u=i.final_expression_output!=null,d=i.in_kernel_exception!=null;return o.jsxs(o.Fragment,{children:[c&&o.jsx(Dk,{forceDarkMode:s,label:e?"STDOUT/STDERR":null,wrapperClassName:n,output:l.map((m,p)=>o.jsx("span",{className:m.stream_name==="stderr"?"text-red-500":"",children:m.text},"".concat(p)))}),u&&o.jsx(Dk,{forceDarkMode:s,wrapperClassName:n,codeContainerClassName:r,label:e?a.formatMessage({id:"codeInterpreterMessage.resultLabel",defaultMessage:"Result"}):null,output:i.final_expression_output}),d&&o.jsx(Egt,{traceback:i.in_kernel_exception.traceback.join("")})]})}function Dk({wrapperClassName:t,label:e,output:n,codeContainerClassName:r,forceDarkMode:s}){const a=ga()||s;return o.jsxs("div",{className:U("bg-token-sidebar-surface-primary p-4 text-xs","overflow-x-auto",t),children:[e&&o.jsx("div",{className:"mb-1 text-gray-400",children:e}),o.jsx("div",{className:U("prose flex flex-col-reverse",a?"text-white":"text-black"),children:o.jsx("pre",{className:U("shrink-0 overflow-auto",r),children:n})})]})}function Egt({traceback:t}){return o.jsx("div",{className:"overflow-auto border-t border-gray-500 bg-black text-white",children:o.jsx("div",{className:"border-s-4 border-red-500 p-2 text-xs",children:o.jsx("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-700 flex max-h-64 flex-col-reverse",children:o.jsx("pre",{className:"shrink-0",children:t})})})})}function jgt({message:t,isCoT:e=!1}){var r;if(t.content.content_type!==rt.ExecutionOutput)return null;const n=(r=t.metadata)==null?void 0:r.aggregate_result;return n?e?n.messages.filter(o6).map((s,a)=>o.jsx(tW,{jupyterMessage:s},a)):o.jsx("div",{className:"flex flex-wrap gap-2",children:n.messages.filter(o6).map((s,a)=>o.jsx("div",{className:"max-h-64 items-start justify-start sm:max-h-80",children:o.jsx(tW,{jupyterMessage:s})},a))}):(ve.addError("Corrupt code execution result message"),null)}function Tgt(t){return t.message_type==="stream"}function o6(t){return t.message_type==="image"||"image_url"in t&&t5e(t.image_url+"")}function Ngt(t){var e,n,r;return(r=(n=(e=t.metadata)==null?void 0:e.aggregate_result)==null?void 0:n.messages.some(o6))!=null?r:!1}const Agt=({chunk:t,isExpanded:e,isComplete:n,enableV4:r})=>{const s=Z(),a=t.assistantMessage,i=t.toolMessage,l=a!=null&&lme(a)!=null;return o.jsxs("div",{className:U("flex w-full flex-col gap-2 text-sm",r&&"mt-1"),children:[e&&!r&&cm(s,t,n),l&&o.jsxs("div",{children:[o.jsx(Pgt,{message:a,forceDarkMode:!0,showActionBar:!1,codeRendererClassName:U("rounded-md max-h-[calc(clamp(20px,1/4*var(--thread-safe-area-height,100lvh),400px))] overflow-auto",i&&"rounded-b-none"),codeContainerClassName:"overflow-visible!"}),i&&o.jsx(Igt,{forceDarkMode:!0,wrapperClassName:"max-h-[calc(clamp(20px,1/8*var(--thread-safe-area-height,100lvh),200px))] w-full overflow-auto dark rounded-b-md",codeContainerClassName:"whitespace-pre-wrap",message:i})]})]})};function lme(t){function e(r,s,a){return"```".concat(a,"\nagent@chatgpt:").concat(r,"$ ").concat(s,"\n```")}function n(r){var i;const s=JSON.parse(r);if(!s.cmd)return null;const a=(i=s.workdir)!=null?i:"/";return s.cmd.length===3&&s.cmd[0]==="bash"&&s.cmd[1]==="-lc"?e(a,s.cmd[2],s.cmd[2].startsWith("python")?"python":"bash"):e(a,s.cmd.join(" "),"bash")}if(t.recipient!=="container.exec")return null;switch(t.content.content_type){case rt.Code:return n(t.content.text);case rt.Text:return n(t.content.parts.join(""));default:return null}}function Pgt({message:t,codeRendererClassName:e,forceDarkMode:n,removeTopBorderRadius:r,showActionBar:s,codeContainerClassName:a}){const i=ga()||n,l=lme(t);return l==null?null:o.jsx(PN.Provider,{value:{isWithinDataAnalysisToolMessage:!0},children:o.jsx(ar,{className:U("markdown prose dark:prose-invert w-full break-words",i?"dark":"light"),forceDarkMode:n,componentOverrides:{code:c=>o.jsx(IN,P(C({},c),{wrapperClassName:e,codeContainerClassName:a,removeTopBorderRadius:r,showActionBar:s}))},children:l})})}function Igt({message:t,wrapperClassName:e,codeContainerClassName:n,forceDarkMode:r}){const s=t.content.content_type==="text"?t.content.parts.join(""):null;return s?o.jsx(Dk,{forceDarkMode:r,wrapperClassName:e,codeContainerClassName:n,output:s,label:null}):null}function Lgt(){return Date.now()}function Rgt({tasks:t}){return o.jsxs("div",{className:"flex w-full flex-col gap-1",children:[o.jsx("div",{className:"text-token-text-secondary mb-1 text-sm",children:o.jsx(N,{id:"FTmQVN",defaultMessage:"Delegated Tasks"})}),o.jsx("div",{className:"flex flex-col divide-y divide-gray-200 rounded-lg border border-gray-200",children:t.map(e=>o.jsx(Ogt,{task:e},String(e.id)))})]})}function Ogt({task:t}){var s,a;const e=(s=t.startedAtMs)!=null?s:Lgt(),n=Rh(e,90*1e3),r=t.status==="completed"?o.jsx(Q6,{className:"icon text-token-text-secondary h-4 w-4"}):t.status==="gathering"||t.status==="running"?o.jsx(Ru,{percentage:n,thickness:1/12,className:"text-token-text-tertiary h-4 w-4",backgroundStrokeClassName:"stroke-token-main-surface-tertiary",transitionDuration:"".concat((100-n)/100*.2,"s"),transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"}):o.jsx("div",{className:"h-4 w-4"});return o.jsxs("div",{className:"grid grid-cols-[1fr_auto] items-center gap-2 p-2",children:[o.jsx("div",{className:"min-w-0",children:o.jsx("div",{className:"text-token-text-tertiary truncate text-xs",children:(a=t.instruction)!=null?a:t.model})}),o.jsx("div",{className:"flex items-center justify-center",children:r})]})}const q_=H5({animationLoader:()=>Ve(()=>import("./doitflbvj988jrtm.js"),[]),StaticIcon:yE}),Dgt=H5({animationLoader:()=>Ve(()=>import("./ecrufyyzn0h8291m.js"),[]),StaticIcon:ol}),nW=H5({animationLoader:()=>Ve(()=>import("./hvsc20zw1oied9k8.js"),[]),StaticIcon:Vs}),cme=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M17.6682 13.998H12.6565L11.9641 14.3447C11.8718 14.3909 11.7695 14.415 11.6663 14.415H8.33325C8.23001 14.415 8.12774 14.3909 8.0354 14.3447L7.34302 13.998H2.32837V14.583C2.32837 15.1362 2.77712 15.585 3.33032 15.585H16.6663C17.2195 15.585 17.6682 15.1362 17.6682 14.583V13.998ZM16.8352 6.41699C16.8352 5.93931 16.8347 5.62054 16.8147 5.37598C16.8002 5.19841 16.7766 5.09313 16.7512 5.02246L16.7258 4.96191C16.6538 4.82049 16.5493 4.69891 16.4221 4.60645L16.2883 4.52441C16.2194 4.48931 16.1101 4.45489 15.8733 4.43555C15.6288 4.4156 15.3106 4.41504 14.8333 4.41504H5.16626C4.68886 4.41504 4.37071 4.41559 4.12622 4.43555C3.94903 4.45002 3.84339 4.47277 3.77271 4.49805L3.71216 4.52441C3.57094 4.59637 3.4491 4.70021 3.35669 4.82715L3.27368 4.96191C3.23861 5.03079 3.20513 5.13947 3.18579 5.37598C3.16581 5.62054 3.16528 5.93931 3.16528 6.41699V12.668H7.50024L7.57642 12.6729C7.65302 12.6817 7.72779 12.7036 7.79712 12.7383L8.4895 13.085H11.51L12.2024 12.7383L12.2737 12.708C12.346 12.6819 12.423 12.668 12.5002 12.668H16.8352V6.41699ZM18.1653 12.668H18.3333C18.7003 12.668 18.9981 12.9659 18.9983 13.333V14.583C18.9983 15.8708 17.954 16.915 16.6663 16.915H3.33032C2.04258 16.915 0.998291 15.8708 0.998291 14.583V13.333L1.01196 13.1992C1.07402 12.8962 1.34201 12.668 1.66333 12.668H1.83521V6.41699C1.83521 5.96125 1.83419 5.57886 1.85962 5.26758C1.88569 4.94869 1.94266 4.6459 2.08911 4.3584L2.17896 4.19727C2.40296 3.83215 2.72389 3.53443 3.10767 3.33887L3.21606 3.28809C3.47122 3.17862 3.73854 3.13317 4.01782 3.11035C4.32903 3.08493 4.71068 3.08496 5.16626 3.08496H14.8333C15.2888 3.08496 15.6705 3.08494 15.9817 3.11035C16.3007 3.13642 16.6042 3.19231 16.8918 3.33887L17.052 3.42871C17.4174 3.65275 17.7147 3.97437 17.9104 4.3584L17.9612 4.4668C18.0705 4.72179 18.1171 4.9885 18.1399 5.26758C18.1653 5.57886 18.1653 5.96125 18.1653 6.41699V12.668Z"})),sIt=Object.freeze(Object.defineProperty({__proto__:null,default:cme},Symbol.toStringTag,{value:"Module"})),Fgt=({chunk:t,size:e="small",isAnimated:n=!1,className:r,isHeadline:s})=>{const a=e==="small"?U("h-[15px] w-[15px]",r):U("icon",r);if(!t)return s?o.jsx(ql,{className:a}):null;switch(t.type){case Ke.N7jupdAPI:return t.action==="n7jupd_as"?o.jsx(q_,{matchTextColor:!0,className:a}):t.action==="n7jupd_ag"?o.jsx(Sr,{className:a}):t.action==="n7jupd_cf"&&t.source?o.jsx(vq,{connector:t.source}):t.action==="n7jupd_cs"&&t.source?o.jsx(vq,{connector:t.source}):o.jsx(ql,{className:a});case Ke.Browsing:if(t.sources.length>0){const i=t.sources.find(l=>l in s6);if(i){const l=s6[i];return o.jsx(l,{className:a},i)}}return n?o.jsx(q_,{matchTextColor:!0,className:a}):o.jsx(Sr,{className:a});case Ke.Search:return n?o.jsx(nW,{matchTextColor:!0,className:a}):o.jsx(Vs,{className:a});case Ke.CodeAnalysis:return n?o.jsx(q_,{matchTextColor:!0,className:a}):o.jsx(Lle,{className:a});case Ke.ImageAnalysis:return n?o.jsx(Dgt,{matchTextColor:!0,className:a}):o.jsx(ol,{className:a});case Ke.Recap:return o.jsx(n5e,{className:a});case Ke.Glaux:return null;default:return t.type===Ke.ComputerOutput?t.messages.every(i=>i.author.name===vs.n7jupd_m)?o.jsx(cme,{className:a}):n?o.jsx(nW,{matchTextColor:!0,className:a}):o.jsx(w3,{className:a}):s?o.jsx(ql,{className:U("-ms-[3px]",a)}):o.jsx("div",{className:U("bg-token-interactive-icon-tertiary-default h-[6px] w-[6px] rounded-full",r)})}},Bgt=({chunk:t,isExpanded:e,isComplete:n,enableV4:r})=>{const s=Z(),a=t.assistantMessage,i=t.toolMessage,l=a!=null&&ime(a)!=null;return o.jsxs("div",{className:U("flex w-full flex-col gap-2 text-sm",r&&"mt-1"),children:[e&&!r&&cm(s,t,n),l&&o.jsxs("div",{children:[o.jsx(kgt,{message:a,forceDarkMode:!0,FormattedText:ar,showActionBar:!1,codeRendererClassName:U("rounded-md max-h-[calc(clamp(20px,1/4*var(--thread-safe-area-height,100lvh),400px))] overflow-auto",i&&"rounded-b-none"),codeContainerClassName:"overflow-visible!"}),i&&o.jsx(Mgt,{forceDarkMode:!0,wrapperClassName:"max-h-[calc(clamp(20px,1/8*var(--thread-safe-area-height,100lvh),200px))] w-full overflow-auto dark rounded-b-md",codeContainerClassName:"whitespace-pre-wrap",message:i,showLabel:!1})]})]})},Ugt=({chunk:t,isExpanded:e,isComplete:n,enableV4:r})=>{var h,v,y,x,b,_,w;const s=Z(),a=t.toolMessage,i=DK(),{isUnauthenticated:l}=An();let c;const u=(v=(h=a.author.name)==null?void 0:h.includes("container"))!=null?v:!1;if((y=a.author.name)!=null&&y.includes("python")){const S=(b=(x=a.metadata)==null?void 0:x.aggregate_result)==null?void 0:b.messages.find(o6);c=(S==null?void 0:S.image_url)&&bs(S.image_url)}else if(u){const S=(w=(_=a.metadata)==null?void 0:_.attachments)==null?void 0:w[0];c=S==null?void 0:S.id}const{data:d}=ut(c?sme(c,l):{enabled:!1,queryKey:[]}),f=(d==null?void 0:d.status)===Ro.Success?d.download_url:void 0,{isSuccess:m}=wN(f),[p]=g.useState(m);return o.jsxs("div",{className:U("flex w-full flex-col gap-2 text-sm",r&&"mt-1"),children:[e&&!r&&cm(s,t,n),o.jsxs("div",{className:"bg-token-bg-secondary relative flex h-[calc(clamp(150px,1/4*var(--thread-safe-area-height,100lvh),400px))] justify-center overflow-hidden rounded-md p-2",children:[f&&o.jsx(Se.div,{initial:{opacity:p?.5:0,scale:1.1},animate:{opacity:m?.5:0,scale:n||i?1.1:[1.1,1.25,1.1]},transition:{opacity:{ease:"easeInOut"},scale:n?{type:"spring",stiffness:300,damping:20}:{duration:2.5,repeat:1/0,ease:"easeInOut"}},className:"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-40 blur-lg filter",style:{backgroundImage:"url(".concat(JSON.stringify(f),")")}}),o.jsx(Se.div,{initial:{opacity:p?1:0},animate:{opacity:m?1:0},className:"relative *:m-0 *:h-full *:w-full *:rounded-md *:object-center *:shadow-lg",children:c&&(u?o.jsx(ame,{fileId:c}):o.jsx(jgt,{isCoT:!0,message:a}))})]})]})},ume="text-token-text-secondary inline-flex items-center rounded-full bg-[#f4f4f4] select-none dark:bg-token-main-surface-secondary",Hgt=U(ume," h-[22px] px-2 text-[0.5em] font-medium"),Vgt=U(ume,"h-[25px] px-3 text-xs"),$gt=4,qgt=3,zgt=3,Ggt={hidden:{opacity:0},visible:{opacity:1}},rW={hidden:{opacity:0,x:-5},visible:{opacity:1,x:0}},Wgt=({chunk:t,isExpanded:e,isComplete:n})=>{var l,c,u;const r=Z();if(!t.searchResults&&!t.fetchResult)return e&&o.jsx(yd,{content:a6({action:t.action,source:t.source,intl:r})});const s=[];let a=[];if(t.action==="n7jupd_cs"&&t.searchResults)a=t.searchResults.map(d=>({entries:[{url:d.url,title:d.title,snippet:"",attribution:d.title}]}));else if(t.action==="n7jupd_cf"&&t.fetchResult)a=[{entries:[{url:(l=t.fetchResult)==null?void 0:l.url,title:(c=t.fetchResult)==null?void 0:c.title,snippet:"",attribution:(u=t.fetchResult)==null?void 0:u.title}]}];else return null;const i={type:Ke.Search,queries:s,sources:a};return e&&o.jsx(dme,{chunk:i,isExpanded:e,isComplete:n,headlineContents:a6({action:t.action,source:t.source,intl:r}),useCloudDocIcons:!0})},Zgt=({chunk:t,isExpanded:e,isComplete:n,enableV4:r})=>{const s=Z();return o.jsx(dme,{chunk:t,isExpanded:e,isComplete:n,headlineContents:r?void 0:cm(s,t,n),useCloudDocIcons:!1})},dme=({chunk:t,isExpanded:e,isComplete:n,headlineContents:r,useCloudDocIcons:s,isSmall:a,isVisualCoT:i=!1})=>{const{queries:l,sources:c}=t,[u,d]=g.useState(n),f=i?Se.div:"div";return o.jsxs(f,P(C({className:U("flex min-w-0 flex-col gap-2 text-sm",i&&"overflow-hidden")},i?{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},transition:{duration:.25,ease:"easeOut"}}:{}),{children:[e&&r,o.jsxs("div",{className:"flex min-w-0 flex-col gap-1",children:[o.jsx(sW,{isComplete:n,items:l,max:zgt,getKey:m=>m.q,Item:Kgt,ShowMoreButton:Jgt,onAnimationComplete:()=>d(!0),isSmall:a,isVisualCoT:i}),o.jsx(sW,{isComplete:n,items:u?c:[],max:$gt,getKey:m=>m.entries[0].url,Item:Ygt,ShowMoreButton:Qgt,useCloudDocIcons:s,isSmall:a,isVisualCoT:i})]})]}))},sW=({isComplete:t,items:e,max:n,getKey:r,Item:s,ShowMoreButton:a,onAnimationComplete:i,useCloudDocIcons:l,isSmall:c,isVisualCoT:u=!1})=>{const[d,f]=g.useState(!1),[m,p]=e.length>n?[e.slice(0,n-1),e.slice(n-1)]:[e];return o.jsxs(Se.div,{className:U("flex flex-wrap items-center gap-1",u&&"justify-center"),initial:u?"hidden":t?"visible":"hidden",animate:"visible",transition:{duration:.25,staggerChildren:.1,delayChildren:.3},onAnimationComplete:i,children:[m.map(h=>o.jsx(Se.div,{variants:Ggt,className:"flex max-w-full items-center",children:o.jsx(s,{item:h,isComplete:t,useCloudDocIcons:l,isSmall:c,isVisualCoT:u})},r(h))),d&&o.jsx(Se.div,{className:"contents",initial:"hidden",animate:"visible",transition:{duration:.2,staggerChildren:.02},children:p==null?void 0:p.map(h=>o.jsx(Se.div,{variants:rW,className:"flex max-w-full items-center",children:o.jsx(s,{item:h,isComplete:t,useCloudDocIcons:l,isSmall:c,isVisualCoT:u})},r(h)))}),p&&o.jsx(Se.div,{variants:rW,className:"flex items-center",children:o.jsx(a,{moreItems:p,isShowingMore:d,onClick:()=>f(h=>!h),useCloudDocIcons:l,isSmall:c})},"more")]})},Kgt=({item:t,isSmall:e})=>o.jsxs(n7,{componentType:"span",isSmall:e,children:[o.jsx(Cu,{className:"-ms-1 h-3 w-3 shrink-0"}),o.jsx("span",{className:"max-w-[8rem] overflow-hidden text-ellipsis whitespace-nowrap",children:t.q})]}),Ygt=({item:t,isComplete:e,useCloudDocIcons:n,isSmall:r,isVisualCoT:s})=>{var u;const a=t.entries[0],i=g.useMemo(()=>({url:a.url,title:a.title}),[a.url,a.title]);g.useEffect(()=>{B.logEvent("link_action",P(C({},i),{action:"show"}))},[i]);const l=()=>{B.logEvent("link_action",P(C({},i),{action:"click"}))},c=(u=a.attribution)!=null?u:Wi(a.url);return o.jsxs(n7,{componentType:wr,href:a.url,onClick:l,animateScan:!e,isSmall:r,children:[o.jsx(fme,{url:a.url,useCloudDocIcons:n}),s?o.jsx("div",{className:"max-w-[8rem] truncate",children:c}):c]})},fme=({url:t,withBorder:e=!1,useCloudDocIcons:n})=>{const{isSuccess:r,isError:s}=wN($le(t,32)),[a]=g.useState(r);if(s)return null;if(n){const i=ri(t);if((i==null?void 0:i.Icon)!=null)return o.jsx(Se.div,{initial:{opacity:a?1:0},animate:{opacity:r?1:0},className:U("bg-token-main-surface-primary -ms-3 box-content h-3 w-3 shrink-0 overflow-hidden rounded-full first:-ms-1",e&&"border-token-main-surface-secondary group-hover:border-token-text-primary dark:group-hover:border-token-text-primary border"),children:o.jsx(i.Icon,{className:"m-0 h-3 w-3"})})}return o.jsx(Se.div,{initial:{opacity:a?1:0},animate:{opacity:r?1:0},className:U("bg-token-main-surface-primary -ms-3 box-content h-3 w-3 shrink-0 overflow-hidden rounded-full first:-ms-1",e&&"border-token-main-surface-secondary group-hover:border-token-text-primary dark:group-hover:border-token-text-primary border"),children:o.jsx(Nn,{url:t,size:32,minSize:16,className:"m-0 h-3 w-3"})})},Qgt=({moreItems:t,isShowingMore:e,onClick:n,useCloudDocIcons:r,isSmall:s})=>o.jsx(n7,{onClick:n,isSmall:s,children:e?o.jsx(N,{id:"19fGXl",defaultMessage:"Show less"}):o.jsxs(o.Fragment,{children:[t.slice(0,qgt).map((a,i)=>o.jsx(fme,{url:a.entries[0].url,withBorder:!0,useCloudDocIcons:r},i)),o.jsx("div",{className:"max-w-[8rem] truncate",children:o.jsx(N,{id:"5ob5C8",defaultMessage:"{count} more",values:{count:t.length}})})]})}),Jgt=({moreItems:t,isShowingMore:e,onClick:n,isSmall:r})=>o.jsx(n7,{onClick:n,isSmall:r,children:e?o.jsx(N,{id:"0SWns2",defaultMessage:"Show less"}):o.jsx(N,{id:"PpZw7t",defaultMessage:"{count} more",values:{count:t.length}})}),Xgt=1500,n7=t=>{"use forget";var k;const e=ee.c(26);let n,r,s,a,i,l;e[0]!==t?(k=t,{className:s,componentType:i,children:r,animateScan:n,isSmall:l}=k,a=de(k,["className","componentType","children","animateScan","isSmall"]),e[0]=t,e[1]=n,e[2]=r,e[3]=s,e[4]=a,e[5]=i,e[6]=l):(n=e[1],r=e[2],s=e[3],a=e[4],i=e[5],l=e[6]);const c=i===void 0?"button":i,u=l===void 0?!1:l,[d,f]=g.useState(!1),m=Math.random()*Xgt;let p,h;e[7]!==n?(p=()=>{n&&(f(!1),requestAnimationFrame(()=>f(!0)))},h=[n,m],e[7]=n,e[8]=p,e[9]=h):(p=e[8],h=e[9]),g.useEffect(p,h);const v=u?Hgt:Vgt,y=n&&"dark:border-token-main-surface-secondary border border-[#f4f4f4] bg-transparent dark:bg-transparent",x=(a.href!=null||a.onClick!=null)&&"hover:bg-token-main-surface-primary-inverse hover:text-token-text-inverted dark:hover:bg-token-text-primary";let b;e[10]!==s||e[11]!==v||e[12]!==y||e[13]!==x?(b=U(v,"group relative max-w-full overflow-hidden",y,x,s),e[10]=s,e[11]=v,e[12]=y,e[13]=x,e[14]=b):b=e[14];let _;e[15]!==n||e[16]!==d?(_=n&&o.jsx("span",{className:U("dark:bg-token-main-surface-secondary absolute start-0 top-0 z-[-1] h-full rounded-se-full rounded-ee-full bg-[#f4f4f4] transition-[width] ease-in-out",d?"w-full":"w-0"),style:{transitionDuration:"".concat(m,"ms")}}),e[15]=n,e[16]=d,e[17]=_):_=e[17];let w;e[18]!==r?(w=o.jsx("div",{className:"z-1 inline-flex items-center gap-1",children:r}),e[18]=r,e[19]=w):w=e[19];let S;return e[20]!==c||e[21]!==a||e[22]!==w||e[23]!==b||e[24]!==_?(S=o.jsxs(c,P(C({className:b},a),{children:[_,w]})),e[20]=c,e[21]=a,e[22]=w,e[23]=b,e[24]=_,e[25]=S):S=e[25],S},eht=t=>{const e=Wu(),n=q();return e&&!t?ie(n,"3576660381"):!1},aW=null,tht=()=>null,nht=({index:t,chunk:e,onClick:n,onMeasure:r,onAnimationComplete:s,gap:a=0,showBullet:i=!1,isExpanded:l=!1,isAnimationComplete:c=!1,isLast:u=!1,isKAUR1BR5:d=!1,hasGlauxMessages:f=!1,isAgentTurn:m=!1,interruptionInProgress:p=!1,odysseyLoadingState:h=Vm.Done,disableAnimation:v=!1})=>{const y=Z(),x=u||l,b=!u||c,_=u?0:a,w=oE(),S=(w==null?void 0:w.type)==="cot",k=S?cm(y,e,b,p,m&&u,h,!0):void 0,M=b||v?"static":"stage",E=b||v?"static":"enter",T=g.useRef(null);T.current=()=>{s==null||s(t,"enter")},g.useEffect(()=>{if(E!=="enter")return;const I=setTimeout(()=>{var L;Me.count(Ee.COT_SUMMARIZER,"cot_chunk_timeout"),(L=T.current)==null||L.call(T)},agt);return()=>clearTimeout(I)},[E]);const j=E==="static",A=g.useRef(null);return Rn(()=>c1({axis:"height",target:A.current,onChange:({height:I})=>r(t,I)}),[]),o.jsx(Se.div,{role:S?void 0:"button",variants:{static:{opacity:1,scale:1,position:"static",translateY:0},enter:{position:"static",translateY:0,scale:1,opacity:1},stage:{position:"absolute",translateY:-$_,scale:.95,opacity:0}},initial:M,animate:E,exit:l?void 0:{opacity:0,pointerEvents:"none",position:"absolute",translateY:$_,filter:"blur(8px)"},style:{zIndex:t},transition:c||E==="static"?{duration:0}:{type:"spring",bounce:.05},className:U("text-token-text-secondary start-0 end-0 top-0 flex origin-left",!x&&"pointer-events-none"),onAnimationComplete:I=>I!=="enter"&&s(t,I),onClick:n,ref:A,children:o.jsx(AN,{onComplete:T.current,isDisabled:j,defaultDelayPerSegmentMs:20,children:i?o.jsxs("div",{className:U("relative flex w-full items-start gap-2 overflow-clip",aW),children:[aW,o.jsxs("div",{className:"flex h-full w-4 shrink-0 flex-col items-center",children:[o.jsx("div",{className:"flex h-5 shrink-0 items-center justify-center",children:o.jsx(Fgt,{chunk:e,size:"small"})}),!u&&o.jsx(Se.div,{initial:{translateY:-$_,opacity:0},animate:{translateY:0,opacity:1},className:"bg-token-border-heavy h-full w-[1px] rounded-full"})]}),o.jsxs("div",{className:"w-full",style:{marginBottom:_},children:[x&&o.jsx("div",{className:"w-full",children:k&&o.jsx("div",{className:"text-token-text-primary text-sm",children:k})}),o.jsx(oW,{chunk:e,isExpanded:l,isComplete:b,isLast:u,isKAUR1BR5:d,hasGlauxMessages:f,isAgentTurn:m})]})]}):o.jsxs("div",{className:"w-full",style:{marginBottom:_},children:[x&&o.jsx("div",{className:"w-full",children:k&&o.jsx("div",{className:"text-token-text-primary text-sm",children:k})}),o.jsx(oW,{chunk:e,isExpanded:l,isComplete:b,isLast:u,isKAUR1BR5:d,isAgentTurn:m})]})})})},rht=g.memo(nht),aIt=({text:t,isStreamingAnimation:e,onClick:n})=>{const[r,s]=g.useState(""),a=g.useRef(null),i=g.useRef("");return g.useEffect(()=>{if(e)return a.current=new Ih(SO,s,"",!0),()=>{var l;(l=a.current)==null||l.destroy(),a.current=null}},[e]),g.useEffect(()=>{var d;if(!e)return;const l=a.current;if(!l)return;const c=i.current;t.startsWith(c)||(l.destroy(),s(""),a.current=new Ih(SO,s,"",!0)),(d=a.current)==null||d.setText(t),i.current=t},[t,e]),o.jsx("p",{className:"text-token-text-tertiary line-clamp-3 cursor-pointer",onClick:n,children:e?r:t})},oIt=({chunk:t,isLast:e,hasGlauxMessages:n,intl:r})=>{switch(t.type){case Ke.Thought:return t.thought.content.trim()||t.thought.summary;case Ke.Recap:return t.content.includes("Stopped")?r.formatMessage({id:"sOsSsn",defaultMessage:"Stopped"}):n&&!e?t.content:r.formatMessage({id:"Eo2n2s",defaultMessage:"Done"});case Ke.Search:return t.sources.slice(0,3).map(s=>s.domain).join(", ")+"...";case Ke.CodeAnalysis:return cm(r,t,!1)+"...";case Ke.N7jupdAPI:return null;case Ke.Browsing:return null;case Ke.ImageAnalysis:return r.formatMessage({id:"IrgecZ",defaultMessage:"Analyzing image"});case Ke.ComputerOutput:return r.formatMessage({id:"QJACwT",defaultMessage:"Using browser"});case Ke.N7jupdLoading:return null;case Ke.e1ld0dvz:return r.formatMessage({id:"f87J+9",defaultMessage:"Delegating tasks"});case Ke.Glaux:return""}},oW=({chunk:t,isExpanded:e,isComplete:n,isLast:r,isKAUR1BR5:s,hasGlauxMessages:a,isAgentTurn:i})=>{var u,d;const l=Z(),c=eht(!!i);switch(t.type){case Ke.Thought:return o.jsx(yd,{content:t.thought.content.trim()||t.thought.summary});case Ke.Recap:return t.content.includes("Stopped")?o.jsx("div",{className:"text-token-text-secondary text-sm",children:o.jsx(N,{id:"sOsSsn",defaultMessage:"Stopped"})}):a&&!r?o.jsx("div",{className:"text-token-text-secondary text-sm",children:t.content}):o.jsx("div",{className:"text-token-text-secondary text-sm",children:o.jsx(N,{id:"Eo2n2s",defaultMessage:"Done"})});case Ke.Search:return o.jsx(Zgt,{chunk:t,isExpanded:e,isComplete:n,enableV4:c});case Ke.CodeAnalysis:{const f=t.assistantMessage,m=t.toolMessage;return(f==null?void 0:f.recipient)==="container.exec"&&((u=f==null?void 0:f.metadata)!=null&&u.n7jupd_message)&&((d=m==null?void 0:m.metadata)!=null&&d.n7jupd_message)?o.jsx(Agt,{chunk:t,isExpanded:e,isComplete:n,enableV4:c}):o.jsx(Bgt,{chunk:t,isExpanded:e,isComplete:n,enableV4:c})}case Ke.N7jupdAPI:return t.action==="n7jupd_as"||t.action==="n7jupd_ag"?e&&o.jsx(yd,{content:a6({action:t.action,source:t.source,intl:l})}):o.jsx(Wgt,{chunk:t,isExpanded:e,isComplete:n});case Ke.Browsing:return e&&o.jsx(yd,{content:nme({contextualAnswerSources:t.sources,intl:l})});case Ke.ImageAnalysis:return o.jsx(Ugt,{chunk:t,isExpanded:e,isComplete:n,enableV4:c});case Ke.ComputerOutput:return o.jsx(Pce,{chunk:t,isKAUR1BR5:s});case Ke.N7jupdLoading:return null;case Ke.e1ld0dvz:return o.jsx(Rgt,{tasks:t.tasks});case Ke.Glaux:return o.jsx(tht,{chunk:t,isExpanded:e,isComplete:n})}};function sht({chunks:t,isFinishedThinking:e}){var r,s,a;const n=t.some(i=>i.type===Ke.Glaux);return t.length===0||t.length===1&&((r=t[0])==null?void 0:r.type)===Ke.Thought&&!((a=(s=t[0])==null?void 0:s.thought)!=null&&a.content)?o.jsx(mfe,{}):o.jsx("div",{className:"relative isolate flex flex-col",style:{margin:"".concat(sgt,"px 0")},children:o.jsx(Kt,{children:t.map((i,l)=>o.jsx(rht,{index:l,chunk:i,gap:rgt,isLast:l===t.length-1,isExpanded:!0,isAnimationComplete:e,showBullet:!0,onClick:()=>{},isKAUR1BR5:!1,hasGlauxMessages:n,onAnimationComplete:()=>{},onMeasure:()=>{}},"cot-sidebar-".concat(l)))})})}const iW=new WeakMap;function aht(t){const e=[];let n=!1;return t.forEach((r,s)=>{const a=s===t.length-1;let i=iW.get([r,a]);i||(i=oht(r,a),i&&iW.set([r,a],i)),i&&e.push(...i),n||(n=n||r.messages.some(l=>{var c;return((c=l.metadata)==null?void 0:c.n7jupd_message)&&l.author.name!==vs.n7jupd_m&&l.content.content_type!==rt.StructuredThoughts&&l.content.content_type!==rt.ReasoningRecap}))}),{chunks:e,isAgentVisualCoT:n}}function oht(t,e){var n,r,s,a,i,l,c,u,d,f,m,p,h,v;switch(t.type){case Hn.ReasoningRecap:{const y=t.messages[t.messages.length-1].content.content;return[{type:Ke.Recap,content:y}]}case Hn.Browsing:case Hn.RetrievalBrowsing:{const y=FA({messages:t.messages});return[{type:Ke.Browsing,sources:y,isRetrieval:t.type===Hn.RetrievalBrowsing,title:(n=t.messages[0].metadata)==null?void 0:n.reasoning_title}]}case Hn.StructuredThoughts:{const y=[];for(const x of t.messages){const{thoughts:b}=x.content;for(const _ of b)!_.content&&!_.summary||y.push({type:Ke.Thought,thought:_})}return y}case Hn.CodeInterpreter:case Hn.Container:{let y=t.messages.slice(1);const x=t.messages[0];let b=!0;if(x.author.role===Ue.Tool)y=t.messages,b=!1;else if(x.author.role!==Ue.Assistant){ve.addError(new Error("[cot] out of order code tool messages"));break}return(y.length>0?y:[null]).map((w,S)=>{var M,E,T;return{type:w!=null&&(Ngt(w)||((E=(M=w.metadata)==null?void 0:M.attachments)==null?void 0:E.length))?Ke.ImageAnalysis:Ke.CodeAnalysis,toolMessage:w,assistantMessage:S===0&&b?x:void 0,messages:t.messages,title:S===0&&b?(T=x.metadata)==null?void 0:T.reasoning_title:void 0}})}case Hn.CoTSearchTool:{const y={type:Ke.Search,queries:[],sources:[]};for(const x of t.messages)if((r=x.metadata)!=null&&r.reasoning_title&&(y.title=x.metadata.reasoning_title),(a=(s=x.metadata)==null?void 0:s.search_queries)!=null&&a.length&&(y.queries=x.metadata.search_queries),(l=(i=x.metadata)==null?void 0:i.search_result_groups)!=null&&l.length)for(const b of x.metadata.search_result_groups)(c=y==null?void 0:y.sources)!=null&&c.some(_=>_.domain===b.domain)||(u=y.sources)==null||u.push(b);return[y]}case Hn.n7jupd:return kce(t.messages,e);case Hn.n7jupd_x:return JJe(t);case Hn.n7jupd_a:return XJe(t);case Hn.n7jupd_native_api_tool:return eXe(t);case Hn.e1ld0dvz:{const y=[],x=new Map;for(const b of t.messages)if(b.content.content_type===rt.Code){if((d=b.metadata)!=null&&d.e1ld0dvz_tasks)for(const _ of b.metadata.e1ld0dvz_tasks)x.set(_.id,{id:_.id,status:"running",model:_.model,instruction:_.instruction,startedAtMs:(f=b.metadata)!=null&&f.e1ld0dvz_task_create_time?(m=b.metadata)==null?void 0:m.e1ld0dvz_task_create_time:Date.now()});else if((p=b.metadata)!=null&&p.e1ld0dvz_task_ids)for(const _ of b.metadata.e1ld0dvz_task_ids)if(x.has(_)){const w=x.get(_);w&&x.set(_,P(C({},w),{status:"gathering"}))}else x.set(_,{id:_,status:"gathering"})}else if(((h=b.metadata)==null?void 0:h.e1ld0dvz_status)==="completed"&&((v=b.metadata)!=null&&v.e1ld0dvz_task_id)){const _=b.metadata.e1ld0dvz_task_id,w=x.get(_);w?x.set(_,P(C({},w),{status:"completed"})):x.set(_,{id:_,status:"completed"})}return y.push({type:Ke.e1ld0dvz,tasks:Array.from(x.values())}),y}case Hn.Glaux:{const y=[],x=[];for(const b of y){if(b.call==="unhandled")continue;const _=b.call.isMixer?b.call.queries.map(S=>({connectorName:S.connectorName,query:S.query})):[{connectorName:b.call.connectorName,query:b.call.query}];if(!_.length)continue;const w=b.results.map(S=>C({},S));x.push({type:Ke.Glaux,queries:_,results:w})}return x}}}const iht=" Â· ";function iIt({clientThreadId:t}){var S,k;const e=Z(),{closeThreadSidebar:n}=Bn(),r=dc(),s=g.useRef(null),{clientThreadId:a,reasoningGroupIndex:i=-1,turnIndex:l=-1}=(S=Jl("cot"))!=null?S:{},c=Te(t,M=>l>=0?se.getConversationTurnAtIndex(M,l):void 0),u=i>=0?(k=c==null?void 0:c.messageGroups)==null?void 0:k[i]:void 0,{chunks:d=[]}=g.useMemo(()=>!u||u.type!==r5e?{chunks:[]}:aht(u.groups),[u]),{startReasoningMessage:f,endReasoningMessage:m}=g.useMemo(()=>{var E,T;const M={startReasoningMessage:void 0,endReasoningMessage:void 0};if(!u||!Array.isArray(u.groups))return M;for(const j of u.groups)for(const A of j.messages)((E=A.content)==null?void 0:E.content_type)===rt.StructuredThoughts&&!M.startReasoningMessage&&(M.startReasoningMessage=A),((T=A.content)==null?void 0:T.content_type)===rt.ReasoningRecap&&(M.endReasoningMessage=A);return M},[u]),p=!!m;Rn(()=>{if(!r||a!==t)return;const M=requestAnimationFrame(()=>{var E,T;p?(E=s.current)==null||E.scrollIntoView({behavior:"auto",block:"end"}):(T=s.current)==null||T.scrollIntoView({behavior:"smooth",block:"end"})});return()=>cancelAnimationFrame(M)},[r,a,t,d.length]);const[h,v]=g.useState(()=>Date.now());g.useEffect(()=>{if(p)return;const M=window.setInterval(()=>v(Date.now()),1e3);return()=>clearInterval(M)},[p]);const y=f==null?void 0:f.create_time,x=p?m==null?void 0:m.create_time:h/1e3,b=y!=null&&x!=null?Math.max(0,x-y):0,_=(()=>{const M=Math.floor(b),E=Math.floor(M/60),T=(M%60).toString().padStart(2,"0");return"".concat(E,":").concat(T)})(),w=g.useMemo(()=>ngt(d),[d]);return!r||a!==t?null:o.jsx(Ac,{ariaLabel:e.formatMessage(V2.cotDetails),leading:o.jsxs("div",{className:"flex w-full flex-col",children:[o.jsx("span",{className:"text-md truncate",children:e.formatMessage(V2.placeholderTitle)}),o.jsx("span",{className:"text-token-text-secondary text-xs",children:[_,...w.queries>0?[e.formatMessage(V2.queries,{count:w.queries})]:[],...w.sources>0?[e.formatMessage(V2.sources,{count:w.sources})]:[]].join(iht)})]}),handleClose:n,children:o.jsxs("div",{className:"bg-primary max-h-full overflow-y-auto px-6",children:[o.jsx("div",{className:"py-4",children:o.jsx(sht,{chunks:d,isFinishedThinking:p})}),o.jsx("div",{ref:s})]})})}const V2=pe({cotDetails:{id:"GKVpeP",defaultMessage:"Reasoning details"},placeholderTitle:{id:"w0RKFn",defaultMessage:"Thinking"},queries:{id:"8HonUQ",defaultMessage:"{count, plural, one {# query} other {# queries}}"},sources:{id:"YC7OAc",defaultMessage:"{count, plural, one {# source} other {# sources}}"}}),lht=Je(()=>Ve(()=>Promise.resolve().then(()=>tgt),void 0).then(t=>t.SearchSources));function lIt({clientThreadId:t}){var u;const e=dc(),{turnIndex:n,messageId:r,clientThreadId:s,scrollToHeader:a,shouldAnimateScroll:i}=(u=Jl("searchSources"))!=null?u:{},{closeThreadSidebar:l}=Bn(),c=Z();return!r||!n||!e||s!==t?null:o.jsx(Ac,{handleClose:l,ariaLabel:c.formatMessage({id:"region.sidebar.searchSources",defaultMessage:"Search result sources"}),children:o.jsx(lht,{clientThreadId:t,scrollToHeader:a,shouldAnimateScroll:i,turnIndex:n,messageId:r,isInSidebar:!0})})}function cht({thread:t,messageId:e,contentReferenceStartIndex:n,productIndex:r}){var l,c;if(!t||!e||n===void 0||r===void 0)return{};const a=(c=(l=se.getNode(t,e).message.metadata)==null?void 0:l.content_references)==null?void 0:c.find(u=>u.start_idx===n);if(!a)return{};let i;switch(a.type){case"products":i=a.products[r];break;case"product_entity":i=a.product;break}return i?{product:i}:{}}function uht(r){var s=r,{className:t,children:e}=s,n=de(s,["className","children"]);return o.jsx(coe,P(C({className:t},n),{children:e}))}const dht=s=>{var a=s,{value:t,className:e,label:n}=a,r=de(a,["value","className","label"]);return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dT,C({id:t,value:t,className:U("border-token-text-tertiary hover:bg-token-main-surface-tertiary h-4 w-4 shrink-0 gap-2 rounded-full border bg-transparent shadow-sm outline-hidden",e)},r)),o.jsx("label",{htmlFor:t,className:"w-full cursor-pointer",children:n})]})},fht=n=>{var r=n,{className:t}=r,e=de(r,["className"]);return o.jsx(fT,C({className:U("after:bg-token-text-primary relative flex h-full w-full items-center justify-center after:block after:h-2 after:w-2 after:rounded-[50%] after:content-['']",t)},e))},z_={Root:uht,Item:dht,Indicator:fht};function mht(t){var e,n;return((n=(e=t.sub_reasons)==null?void 0:e.length)!=null?n:0)===0&&t.details_placeholder==null&&t.link_attachment==null&&t.subtext==null}function mme(t,e,n,r,s={}){const a=Tt();return Vt({mutationFn:i=>{var c,u;return Et(t)?ue.safePost("/report_flow/report",{requestBody:P(C({},i),{entity_type:r,entity_id:n,additional_fields_values:C(C({},(c=i.additional_fields_values)!=null?c:{}),s!=null?s:{})}),authOption:qt.SendIfAvailable}):oJ.safePost("/report_flow/report",{requestBody:P(C({},i),{entity_type:r,entity_id:n,additional_fields_values:C(C({},(u=i.additional_fields_values)!=null?u:{}),s!=null?s:{})}),authOption:qt.Anonymous})},onError:i=>{var l;ve.addError(new Error("Error occurred while reporting",{cause:i}),{entityType:r,id:n}),a.danger(e.formatMessage({id:"report.submitError",defaultMessage:"Error reporting: {detail}"},{detail:i.message}),{toastId:"report_mutation_failed_to_report",loggingTitle:String((l=i==null?void 0:i.message)!=null?l:""),loggingDescription:"Error message when submitting a report fails"})}})}function pme(t,e){return ut({queryKey:["reportReasons",{entityType:e}],queryFn:()=>Et(t)?ue.safeGet("/report_flow/reasons/{entity_type}",{parameters:{path:{entity_type:e}},authOption:qt.SendIfAvailable}):oJ.safeGet("/report_flow/reasons/{entity_type}",{parameters:{path:{entity_type:e}},authOption:qt.Anonymous})})}var gK;Ge.div(gK||(gK=qe(["divide-y overflow-hidden rounded-md border border-token-border-medium"])));var hK;Ge.button(hK||(hK=qe(["w-full border-token-border-medium p-2 text-start text-sm hover:bg-token-main-surface-secondary"])));var vK;const pht=Ge.div(vK||(vK=qe(["text-base font-medium"])));var yK;const ght=Ge.div(yK||(yK=qe(["text-sm text-token-text-secondary"])));function L1({header:t,subHeader:e}){return t==null&&e==null?null:o.jsxs("div",{className:"mb-4",children:[t!=null&&o.jsx(pht,{children:t}),e!=null&&o.jsx(ght,{children:e})]})}function hht({reasons:t,setSelectedReason:e,selectedReason:n}){var r;return o.jsx(z_.Root,{value:(r=n==null?void 0:n.id)!=null?r:"",onValueChange:s=>e(t.find(a=>a.id===s)),className:"flex flex-col gap-3",children:t.map(s=>o.jsx(z_.Item,{value:s.id,label:s.cta,children:o.jsx(z_.Indicator,{})},s.id))})}function vht({reason:t,details:e,setDetails:n,name:r,setName:s,email:a,setEmail:i,showName:l,showEmail:c}){const u=l||c,d=Z(),f=d.formatMessage({id:"report.loggedOut.name",defaultMessage:"Your name"}),m=d.formatMessage({id:"report.loggedOut.email",defaultMessage:"Your email address"}),p=d.formatMessage({id:"report.loggedOut.details",defaultMessage:"Add details"});return o.jsxs("div",{className:"flex flex-col gap-4",children:[u&&o.jsxs("div",{className:"flex flex-col gap-4 text-sm",children:[l&&o.jsxs("div",{className:"flex flex-col gap-1",children:[f,o.jsx(Bi,{ariaLabel:f,name:"name",type:"text",value:r,onChange:h=>s(h.target.value)})]}),c&&o.jsxs("div",{className:"flex flex-col gap-1",children:[m,o.jsx(Bi,{ariaLabel:m,name:"email",type:"email",value:a,onChange:h=>i(h.target.value)})]})]}),o.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[u&&p,o.jsx(Hj,{"aria-label":u?p:void 0,value:e,onChange:h=>n(h.target.value),placeholder:!u&&t.details_placeholder?t.details_placeholder:void 0,autoFocus:!0,className:"bg-token-main-surface-primary!"})]}),t.subtext!=null&&o.jsx("div",{className:"text-token-text-secondary text-sm",children:t.subtext})]})}function yht({reason:t}){return o.jsx("div",{className:"text-sm",children:o.jsx("div",{className:"mb-2",children:t.link_explanation})})}function gme({reasons:t,submitReport:e,title:n,onClose:r,header:s}){var I,L;const a=Z(),[i,l]=g.useState([]);let c=t,u;for(const O of i)u=c.find(R=>R.id===O.id),c=(I=u==null?void 0:u.sub_reasons)!=null?I:[];const[d,f]=g.useState(),m=d!=null&&mht(d),[p,h]=g.useState(""),[v,y]=g.useState(""),[x,b]=g.useState(""),_=(L=u==null?void 0:u.additional_fields)==null?void 0:L.map(O=>O.id),w=_==null?void 0:_.includes(Fg.UserName),S=_==null?void 0:_.includes(Fg.UserEmail);let k;m?k=o.jsx(oe,{color:"primary",onClick:()=>{e.mutateAsync({reason:{id:d.id}})},disabled:!d||e.isPending,loading:e.isPending,children:o.jsx(N,{id:"report.submitReport",defaultMessage:"Submit"})}):k=o.jsx(oe,{color:"primary",onClick:()=>{d&&(l(O=>[...O,d]),f(void 0))},disabled:!d,children:o.jsx(N,{id:"z5fExR",defaultMessage:"Next"})});let M=u!=null?o.jsx(oe,{onClick:()=>{if(i.length>0){const O=i[i.length-1];l(R=>R.slice(0,-1)),f(O)}},color:"secondary",children:o.jsx(N,{id:"xJnONr",defaultMessage:"Back"})}):null;const E=(u==null?void 0:u.subtext)!=null&&o.jsx("div",{className:"text-token-text-secondary text-sm",children:u.subtext}),T=a.formatMessage({id:"report.submittedModal.header",defaultMessage:"Report submitted"}),j=a.formatMessage({id:"report.submittedModal.subHeader",defaultMessage:"Thank you for your report. We'll review the content to determine if it violates our policies."});let A;if(e.isSuccess)M=void 0,k=void 0,A=o.jsxs(o.Fragment,{children:[o.jsx(L1,{header:T}),o.jsxs("div",{className:"text-sm",children:[j,o.jsx("br",{}),o.jsx("br",{}),o.jsx(N,{id:"report.submittedModal.learn",defaultMessage:"Learn more about "}),o.jsx("a",{href:"https://openai.com/transparency-and-content-moderation/",target:"_blank",rel:"noreferrer",className:"break-words underline",children:o.jsx(N,{id:"report.submittedModal.link",defaultMessage:"how we handle reports."})})]})]});else if((u==null?void 0:u.details_placeholder)!=null)k=o.jsx(oe,{color:"primary",onClick:()=>{let O;(w||S)&&(O={},w&&(O.user_name=v),S&&(O.user_email=x)),e.mutateAsync({reason:{id:u.id,details:p},additional_fields_values:O})},disabled:e.isPending,loading:e.isPending,children:o.jsx(N,{id:"report.submitReport",defaultMessage:"Submit"})}),A=o.jsxs(o.Fragment,{children:[o.jsx(L1,{header:o.jsx(N,{id:"CGoWjT",defaultMessage:"Please tell us more"})}),o.jsx(vht,{reason:u,showName:w!=null?w:!1,showEmail:S!=null?S:!1,details:p,setDetails:h,name:v,setName:y,email:x,setEmail:b})]});else if((u==null?void 0:u.link_attachment)!=null){const O=u.link_attachment;k=o.jsx(oe,{color:"primary",onClick:()=>{window.open(O,"_blank")},children:o.jsx(N,{id:"report.goToForm",defaultMessage:"Go to Form"})}),A=o.jsxs(o.Fragment,{children:[o.jsx(L1,{}),o.jsx(yht,{reason:u}),E]})}else c.length>0?A=o.jsxs(o.Fragment,{children:[o.jsx(L1,{header:s}),c.length>0&&o.jsx(hht,{reasons:c,selectedReason:d,setSelectedReason:f}),E]}):(u==null?void 0:u.subtext)!=null?(k=void 0,A=o.jsxs(o.Fragment,{children:[o.jsx(L1,{header:s}),o.jsx("div",{className:"text-sm",children:u==null?void 0:u.subtext})]})):(ve.addError("Reporting: arrived at empty leaf reason",u),k=void 0,M=void 0,A=o.jsx(L1,{header:T,subHeader:j}));return o.jsx(tt,{testId:"modal-report-reason-selection",title:n,onClose:r,isOpen:!0,showCloseButton:!0,type:"success",secondaryButton:M,primaryButton:k,children:A})}function xht({product_id:t,product_title:e,product_url:n,onClose:r}){const s=q(),a=Et(s),{data:i}=pme(s,$1.CommerceProduct),l=Z(),c=mme(s,l,t,$1.CommerceProduct,{[Fg.EntityName]:e,[Fg.EntityUrl]:n});if(i==null)return null;const u="Report ".concat((e==null?void 0:e.length)<=30?e:(e==null?void 0:e.substring(0,27))+"...");return a?o.jsx(gme,{reasons:i.reasons,submitReport:c,title:u,onClose:r,header:i.header,subHeader:i.header_explanation}):o.jsx(tt,{testId:"modal-report-reason-selection",title:u,onClose:r,isOpen:!0,showCloseButton:!0,type:"success",primaryButton:o.jsx(oe,{color:"primary",onClick:()=>{window.open("https://openai.com/form/report-content","_blank")},children:o.jsx(N,{id:"report.goToForm",defaultMessage:"Go to Form"})}),children:o.jsx("div",{className:"text-sm",children:o.jsx("div",{className:"mb-2",children:o.jsx(N,{id:"report.externalReportFormInstruction",defaultMessage:"Please use this form to report the issue."})})})})}function lW({product_id:t,product_title:e,product_url:n,isCheckoutable:r,className:s}){const a=q(),i=Z(),[l,c]=g.useState(!1),[u,d]=g.useState(!1);return ie(a,"1961970013")&&r?o.jsxs(o.Fragment,{children:[o.jsx(Qa,{open:l,onOpenChange:m=>{c(m)},side:"bottom",contentAlign:"end",triggerButton:o.jsx(Vf,{className:U("keyboard-focused:focus-ring bg-token-main-surface-primary hover:bg-token-main-surface-secondary! pointer-events-auto me-2 h-8! w-8! rounded-full! opacity-80",s),"aria-label":i.formatMessage({id:"G4IkJB",defaultMessage:"Open product options"}),"data-testid":"product-options-button",icon:Ja}),size:"auto",children:o.jsx(J.Item,{icon:Q0,onClick:()=>{d(!0)},children:o.jsx(N,{id:"thread.reportProduct",defaultMessage:"Report"})})}),u&&o.jsx(xht,{product_id:t,product_title:e,product_url:n,onClose:()=>d(!1)})]}):null}function cIt({clientThreadId:t,type:e="sidebar"}){var _,w,S;const n=q(),{closeThreadSidebar:r}=Bn(),{clientThreadId:s,messageId:a,turnIndex:i,contentReferenceStartIndex:l,productIndex:c}=(_=Jl("product"))!=null?_:{},u=Te(s,k=>k),d=Z(),f=g.useMemo(()=>({clientThreadId:t,messageId:a,turnIndex:i}),[t,a,i]),{product:m}=cht({thread:u,messageId:a,contentReferenceStartIndex:l,productIndex:c}),[p,h]=g.useState(m);g.useEffect(()=>{m&&h(m)},[m]);const v=g.useMemo(()=>p&&p.offers&&p.offers.some(k=>k.checkoutable),[p]);if(s!==t||l===void 0||c===void 0||!a||!m)return null;const y="".concat(a,"-").concat(l,"-").concat(c),x=o.jsx(q2t,{product:m,setUpdatedProduct:h,clientThreadId:t,messageId:a,contentReferenceStartIndex:l,productIndex:c,analyticsMetadata:f,offsetTopMargin:e==="sidebar"}),b=ie(n,"1961970013");switch(e){case"sidebar":return o.jsx(Ac,{handleClose:r,showScrollToBottomButton:!0,leading:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex grow"}),b&&o.jsx(lW,{product_id:m.id,product_title:m.title,product_url:(w=p==null?void 0:p.url)!=null?w:m.url,isCheckoutable:v!=null?v:!1})]}),leadingFullBleed:!0,ariaLabel:d.formatMessage({id:"region.sidebar.product",defaultMessage:"Product details"}),children:x},y);case"modal":return o.jsxs(tt,{testId:"modal-chat-screen-product-flyout",className:"relative max-w-md",size:"custom",type:"success",noPadding:!0,title:m.title,visuallyHiddenHeader:!0,isOpen:!0,onClose:r,rootClassName:"z-0",children:[x,b&&o.jsx(lW,{product_id:m.id,product_title:m.title,product_url:(S=p==null?void 0:p.url)!=null?S:m.url,isCheckoutable:v!=null?v:!1,className:"absolute end-8.5 top-1.5 z-10"}),o.jsx(gn,{className:"absolute end-2.5 top-2.5 z-10",onClick:r})]},y)}}const bht=Je(()=>Ve(()=>import("./dz63jikeem6urs0m.js"),__vite__mapDeps([134,1,4,5,38])).then(t=>t.ChatScreenRetrievalResultsFlyoutContent));function uIt({clientThreadId:t}){var l;const e=dc(),{turnIndex:n,clientThreadId:r}=(l=Jl("retrievalResults"))!=null?l:{},{closeThreadSidebar:s}=Bn(),a=!n||!e||r!==t;g.useEffect(()=>{a&&e&&s()},[s,e,a]);const i=Z();return a?null:o.jsx(Ac,{handleClose:s,ariaLabel:i.formatMessage({id:"region.sidebar.retrievalResults",defaultMessage:"Citations & Search Results"}),children:o.jsx(bht,{turnIndex:n,clientThreadId:t})})}const Cht={strong:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("strong",P(C({},r),{className:U(r.className,"text-token-text-primary font-semibold"),children:n}))},p:t=>{const s=t,{node:e,children:n}=s,r=de(s,["node","children"]);return o.jsx("p",P(C({},r),{className:U(r.className,"text-sm","has-[strong]:mb-0 [&:not(:has(strong))]:mb-[18px]"),children:n}))}};function _ht({isCompletionRequestInProgress:t}){return o.jsx("div",{className:"bg-token-main-surface-primary text-token-text-tertiary flex h-full items-center justify-center px-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg",children:o.jsx(N,{id:"chatScreenSummarizerFlyout.noDetailsAvailable",defaultMessage:"No details available"})}),!t&&o.jsx("div",{className:"mt-2 text-base",children:o.jsx(N,{id:"chatScreenSummarizerFlyout.noSummaryAvailable",defaultMessage:"Occasionally, the model generates the best response without anything to summarize."})})]})})}function dIt({clientThreadId:t}){var x;const{clientThreadId:e,currentGroupedMessageIndex:n,turnIndex:r=-1}=(x=Jl("summarizer"))!=null?x:{},[s,a]=Te(t,b=>[se.getRequestId(b),b&&r>=0?se.getConversationTurnAtIndex(b,r):void 0]),i=dc(),{closeThreadSidebar:l}=Bn(),c=a==null?void 0:a.messageGroups,u=n!==void 0&&c?c[n]:void 0,d=u&&u.type===Hn.a8km123?u.messages:void 0,f=d==null?void 0:d.map(b=>Ka(b)).join("\n\n"),m=Te(t,se.isMessageTurnEnded),p=eo(s),h=s&&p&&!m,v=g.useRef(null),y=Z();return g.useEffect(()=>{v.current&&v.current.scrollIntoView({behavior:"smooth"})},[f]),!a||!i||!(d!=null&&d.length)||e!==t?null:o.jsx("div",{className:"bg-token-main-surface-primary!",children:o.jsx(Ac,{ariaLabel:y.formatMessage({id:"region.sidebar.details",defaultMessage:"Details"}),leading:o.jsx("span",{className:"w-full text-[17px] font-medium",children:o.jsx(N,{id:"sidebar-details",defaultMessage:"Details"})}),handleClose:l,children:f?o.jsxs("div",{id:"sidebar-summarizer",className:"bg-token-main-surface-primary max-h-full overflow-y-auto px-6 pt-4",children:[o.jsx(ar,{componentOverrides:Cht,className:"not-prose",children:f}),o.jsx("div",{ref:v})]}):o.jsx(_ht,{isCompletionRequestInProgress:!!h})})})}function fIt({clientThreadId:t}){const e=VE(s=>s.notifications),n=g.useRef(new Set),r=U("pointer-events-auto fixed end-4 top-8 z-100 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse px-2 py-4",e.length>3&&"overflow-y-auto");return g.useEffect(()=>{e.filter(a=>a.clientThreadId===void 0||t===a.clientThreadId).map(a=>a.id).filter(a=>a!==void 0).forEach(a=>$E(a)),e.forEach(a=>{a.id&&!n.current.has(a.id)&&(Le.logEvent("chatgpt_notification_shown"),B.logEvent("Notifications: Notification Shown to User"),n.current.add(a.id))})},[t,e]),e.length===0||Xi?null:o.jsx("div",{className:r,children:o.jsx(Kt,{children:e.map(s=>o.jsx(Sht,C({},s),s.id))})})}function wht({notification:t}){return t.icon?o.jsx(LJ,{className:"border-token-secondary bg-token-main-surface-primary text-token-text-primary rounded-full border",IconComponent:t.icon}):o.jsx(Ug,{iconName:"openai",className:"border-token-secondary bg-token-main-surface-primary text-token-text-primary rounded-full border"})}function Sht(e){var t=de(e,[]);var l,c;const n=it(),r=pt(),s=Z(),a=kn(t.clientThreadId),i=()=>{Le.logEvent("chatgpt_notification_clicked"),B.logEvent("Notifications: User Clicked Notification"),t.onClick!=null?t.onClick():a&&HE(n,r,a),t.id&&$E(t.id)};return o.jsxs(Se.div,{onClick:i,className:"border-token-border-default bg-token-main-surface-primary z-100 inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border px-3 py-3 align-middle shadow-lg","data-ignore-for-page-load":!0,initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[o.jsx(wht,{notification:t}),o.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[o.jsx("div",{className:"text-token-text-primary w-full truncate text-sm font-medium",children:(l=t.title)!=null?l:s.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),t.subtitle&&o.jsx("div",{className:"text-token-text-tertiary w-full truncate text-sm",children:t.subtitle}),((c=t.payload)==null?void 0:c.display_image_url)&&o.jsx("img",{className:"mt-2 h-12 w-12 rounded-xs",src:t.payload.display_image_url,alt:t.payload.image_alt})]})]})}function mIt(){const t=pt(),e=g.useCallback(function(r){var l,c;const s=r.data.conversation_id;if(!s)return;const a=(c=(l=st(s))==null?void 0:l.title)!=null?c:void 0,i=se.getGizmoId(st(s));rh({title:a,subtitle:r.title,clientThreadId:s}),os(t,i),fa(s)},[t]),n=g.useCallback(function(r){var i,l;const s=r.data.conversation_id;if(!s)return;const a=(l=(i=st(s))==null?void 0:i.title)!=null?l:void 0;rh({title:a,subtitle:r.body,clientThreadId:s})},[]);return g.useEffect(()=>{const r={"new-message":e,"automation-error":n},s=a=>{if(a.data.type in r){const i=a.data.type;r[i](a.data)}};return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",s),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",s)}},[e,n,t]),null}const Cp=200,G_=150;function kht(t){const[e,n]=g.useState([t]),[r,s]=g.useState(null),[a,i]=g.useState("right"),l=e[e.length-1],c=g.useCallback(f=>{i("right"),s(l),n(m=>[...m,f]),setTimeout(()=>s(null),Cp+G_)},[l]),u=g.useCallback(()=>{e.length<=1||(i("left"),s(l),n(f=>f.slice(0,f.length-1)),setTimeout(()=>s(null),Cp+G_))},[l,e.length]),d=g.useCallback(()=>{e.length<=1||(i("left"),s(l),n([e[0]]),setTimeout(()=>s(null),Cp+G_))},[l,e]);return{currentPane:l,exitingPane:r,direction:a,pushPane:c,popPane:u,resetPanes:d}}function Mht({renderPane:t,className:e,paneStack:n,useDelayedEnteringPane:r,alwaysMountedPanes:s=[]}){const{currentPane:a,exitingPane:i,direction:l}=n,c=_M(),[u,d]=g.useState(!0),f=g.useRef(a),m=g.useRef(null);return g.useEffect(()=>{if(f.current!==a)if(d(!1),!c&&r){const p=setTimeout(()=>{d(!0),f.current=a},Cp+50);return()=>clearTimeout(p)}else d(!0),f.current=a},[a,c,r]),g.useEffect(()=>{setTimeout(()=>{var p;m.current&&((p=m.current)==null||p.scrollTo({top:0}))},Cp)},[i]),o.jsxs("div",{className:U("relative overflow-x-clip",e),children:[i!=null&&!c&&!s.includes(i)&&o.jsx("div",{className:U("absolute inset-0 overflow-y-auto",$2("exit",l)),children:t(i)}),!s.includes(a)&&o.jsx("div",{className:U("absolute inset-0 overflow-y-auto",f.current!==a&&!c?$2("enter",l):""),children:u&&t(a)}),s.map(p=>{const h=p===i;return o.jsx("div",{ref:h?m:void 0,className:U("absolute inset-0 overflow-y-auto",p===a||p===i?"":"hidden",i===p&&!c&&$2("exit",l),a===p&&f.current!==a&&!c&&$2("enter",l)),children:t(p)},"persist-".concat(String(p)))})]})}function $2(t,e){return t==="enter"?e==="right"?"animate-[slide-in-right_0.2s_forwards]":"animate-[slide-in-left_0.2s_forwards]":e==="right"?"animate-[slide-out-left_0.2s_forwards]":"animate-[slide-out-right_0.2s_forwards]"}const Eht=({currentPane:t,popPane:e,merchant:n,PANES:r})=>{const s=Z();return t==="overview"?o.jsx(jht,{merchant:n}):o.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[o.jsx("button",{type:"button",onClick:e,className:"bg-token-main-surface-primary hover:bg-token-main-surface-secondary focus-visible:ring-token-text-quaternary dark:hover:bg-token-main-surface-tertiary -ms-1 flex h-8 w-8 items-center justify-center rounded-full focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden","aria-label":s.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),children:o.jsx(p1,{className:"icon-md text-token-interactive-icon-tertiary-default"})}),o.jsx("span",{className:"text-xl font-medium",children:s.formatMessage(r[t].name)})]},t)},jht=({merchant:t})=>{var e,n;return o.jsxs(wr,{className:"flex min-h-[36px] flex-col justify-center",href:(e=t==null?void 0:t.url)!=null?e:"",target:"_blank",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Nn,{className:"icon rounded-full",url:(n=t==null?void 0:t.logoUrl)!=null?n:"",size:128,minSize:16,fallback:o.jsx(jc,{className:"text-token-text-tertiary"})}),o.jsx("div",{className:"text-sm font-medium",children:t==null?void 0:t.title})]}),o.jsx("div",{className:"text-token-text-secondary text-xs",children:t==null?void 0:t.subtitle})]})};function cW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function uW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cW(Object(n),!0).forEach(function(r){hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sg=function(e){return typeof e}:Sg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function hme(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tht(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function vme(t,e){if(t==null)return{};var n=Tht(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i6(t,e){return Nht(t)||Aht(t,e)||Pht(t,e)||Iht()}function Nht(t){if(Array.isArray(t))return t}function Aht(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],s=!0,a=!1,i,l;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Pht(t,e){if(t){if(typeof t=="string")return dW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dW(t,e)}}function dW(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var es=function(e,n,r){var s=!!r,a=be.useRef(r);be.useEffect(function(){a.current=r},[r]),be.useEffect(function(){if(!s||!e)return function(){};var i=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,i),function(){e.off(n,i)}},[s,n,e,a])},Sd=function(e){var n=be.useRef(e);return be.useEffect(function(){n.current=e},[e]),n.current},cf=function(e){return e!==null&&Sg(e)==="object"},Lht=function(e){return cf(e)&&typeof e.then=="function"},Rht=function(e){return cf(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},fW="[object Object]",Fk=function t(e,n){if(!cf(e)||!cf(n))return e===n;var r=Array.isArray(e),s=Array.isArray(n);if(r!==s)return!1;var a=Object.prototype.toString.call(e)===fW,i=Object.prototype.toString.call(n)===fW;if(a!==i)return!1;if(!a&&!r)return e===n;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var m=Object.keys(u);if(m.length!==l.length)return!1;var p=e,h=n,v=function(x){return t(p[x],h[x])};return m.every(v)},yme=function(e,n,r){return cf(e)?Object.keys(e).reduce(function(s,a){var i=!cf(n)||!Fk(e[a],n[a]);return r.includes(a)?(i&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),s):i?uW(uW({},s||{}),{},hme({},a,e[a])):s},null):null},xme="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",mW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xme;if(e===null||Rht(e))return e;throw new Error(n)},bme=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xme;if(Lht(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return mW(s,n)})};var r=mW(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Cme=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},r7=be.createContext(null);r7.displayName="ElementsContext";var _me=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},wme=function(e){var n=e.stripe,r=e.options,s=e.children,a=be.useMemo(function(){return bme(n)},[n]),i=be.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=i6(i,2),c=l[0],u=l[1];be.useEffect(function(){var m=!0,p=function(v){u(function(y){return y.stripe?y:{stripe:v,elements:v.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(h){h&&m&&p(h)}):a.tag==="sync"&&!c.stripe&&p(a.stripe),function(){m=!1}},[a,c,r]);var d=Sd(n);be.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var f=Sd(r);return be.useEffect(function(){if(c.elements){var m=yme(r,f,["clientSecret","fonts"]);m&&c.elements.update(m)}},[r,f,c.elements]),be.useEffect(function(){Cme(c.stripe)},[c.stripe]),be.createElement(r7.Provider,{value:c},s)};wme.propTypes={stripe:Ce.any,options:Ce.object};var Oht=function(e){var n=be.useContext(r7);return _me(n,e)},s7=function(){var e=Oht("calls useElements()"),n=e.elements;return n};Ce.func.isRequired;var Dht=["on","session"],a7=be.createContext(null);a7.displayName="CheckoutSdkContext";var Sme=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},BA=be.createContext(null);BA.displayName="CheckoutContext";var Fht=function(e,n){if(!e)return null;e.on,e.session;var r=vme(e,Dht);return Object.assign(n||e.session(),r)},Bht="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Uht=function(e){var n=e.stripe,r=e.options,s=e.children,a=be.useMemo(function(){return bme(n,Bht)},[n]),i=be.useState(null),l=i6(i,2),c=l[0],u=l[1],d=be.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,checkoutSdk:null}}),f=i6(d,2),m=f[0],p=f[1],h=function(S,k){p(function(M){return M.stripe&&M.checkoutSdk?M:{stripe:S,checkoutSdk:k}})},v=be.useRef(!1);be.useEffect(function(){var w=!0;return a.tag==="async"&&!m.stripe?a.stripePromise.then(function(S){S&&w&&!v.current&&(v.current=!0,S.initCheckout(r).then(function(k){k&&(h(S,k),k.on("change",u))}))}):a.tag==="sync"&&a.stripe&&!v.current&&(v.current=!0,a.stripe.initCheckout(r).then(function(S){S&&(h(a.stripe,S),S.on("change",u))})),function(){w=!1}},[a,m,r,u]);var y=Sd(n);be.useEffect(function(){y!==null&&y!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[y,n]);var x=Sd(r),b=Sd(m.checkoutSdk);be.useEffect(function(){var w,S,k,M;if(m.checkoutSdk){var E=!!(!b&&m.checkoutSdk),T=x==null||(w=x.elementsOptions)===null||w===void 0?void 0:w.appearance,j=r==null||(S=r.elementsOptions)===null||S===void 0?void 0:S.appearance,A=!Fk(j,T);j&&(A||E)&&m.checkoutSdk.changeAppearance(j);var I=x==null||(k=x.elementsOptions)===null||k===void 0?void 0:k.fonts,L=r==null||(M=r.elementsOptions)===null||M===void 0?void 0:M.fonts,O=!Fk(I,L);L&&(O||E)&&m.checkoutSdk.loadFonts(L)}},[r,x,m.checkoutSdk,b]),be.useEffect(function(){Cme(m.stripe)},[m.stripe]);var _=be.useMemo(function(){return Fht(m.checkoutSdk,c)},[m.checkoutSdk,c]);return m.checkoutSdk?be.createElement(a7.Provider,{value:m},be.createElement(BA.Provider,{value:_},s)):null};Uht.propTypes={stripe:Ce.any,options:Ce.shape({fetchClientSecret:Ce.func.isRequired,elementsOptions:Ce.object}).isRequired};var Hht=function(e){var n=be.useContext(a7);return Sme(n,e)},Bk=function(e){var n=be.useContext(a7),r=be.useContext(r7);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?Sme(n,e):_me(r,e)},pIt=function(){Hht("calls useCheckout()");var e=be.useContext(BA);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},Vht=["mode"],$ht=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Qn=function(e,n){var r="".concat($ht(e),"Element"),s=function(c){var u=c.id,d=c.className,f=c.options,m=f===void 0?{}:f,p=c.onBlur,h=c.onFocus,v=c.onReady,y=c.onChange,x=c.onEscape,b=c.onClick,_=c.onLoadError,w=c.onLoaderStart,S=c.onNetworksChange,k=c.onConfirm,M=c.onCancel,E=c.onShippingAddressChange,T=c.onShippingRateChange,j=c.onSavedPaymentMethodRemove,A=c.onSavedPaymentMethodUpdate,I=Bk("mounts <".concat(r,">")),L="elements"in I?I.elements:null,O="checkoutSdk"in I?I.checkoutSdk:null,R=be.useState(null),H=i6(R,2),V=H[0],z=H[1],$=be.useRef(null),D=be.useRef(null);es(V,"blur",p),es(V,"focus",h),es(V,"escape",x),es(V,"click",b),es(V,"loaderror",_),es(V,"loaderstart",w),es(V,"networkschange",S),es(V,"confirm",k),es(V,"cancel",M),es(V,"shippingaddresschange",E),es(V,"shippingratechange",T),es(V,"savedpaymentmethodremove",j),es(V,"savedpaymentmethodupdate",A),es(V,"change",y);var Y;v&&(e==="expressCheckout"?Y=v:Y=function(){v(V)}),es(V,"ready",Y),be.useLayoutEffect(function(){if($.current===null&&D.current!==null&&(L||O)){var F=null;if(O)switch(e){case"payment":F=O.createPaymentElement(m);break;case"address":if("mode"in m){var X=m.mode,te=vme(m,Vht);if(X==="shipping")F=O.createShippingAddressElement(te);else if(X==="billing")F=O.createBillingAddressElement(te);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":F=O.createExpressCheckoutElement(m);break;case"currencySelector":F=O.createCurrencySelectorElement();break;case"taxId":F=O.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else L&&(F=L.create(e,m));$.current=F,z(F),F&&F.mount(D.current)}},[L,O,m]);var G=Sd(m);return be.useEffect(function(){if($.current){var F=yme(m,G,["paymentRequest"]);F&&"update"in $.current&&$.current.update(F)}},[m,G]),be.useLayoutEffect(function(){return function(){if($.current&&typeof $.current.destroy=="function")try{$.current.destroy(),$.current=null}catch(F){}}},[]),be.createElement("div",{id:u,className:d,ref:D})},a=function(c){Bk("mounts <".concat(r,">"));var u=c.id,d=c.className;return be.createElement("div",{id:u,className:d})},i=n?a:s;return i.propTypes={id:Ce.string,className:Ce.string,onChange:Ce.func,onBlur:Ce.func,onFocus:Ce.func,onReady:Ce.func,onEscape:Ce.func,onClick:Ce.func,onLoadError:Ce.func,onLoaderStart:Ce.func,onNetworksChange:Ce.func,onConfirm:Ce.func,onCancel:Ce.func,onShippingAddressChange:Ce.func,onShippingRateChange:Ce.func,onSavedPaymentMethodRemove:Ce.func,onSavedPaymentMethodUpdate:Ce.func,options:Ce.object},i.displayName=r,i.__elementType=e,i},Jn=typeof window>"u",qht=be.createContext(null);qht.displayName="EmbeddedCheckoutProviderContext";var UA=function(){var e=Bk("calls useStripe()"),n=e.stripe;return n};Qn("auBankAccount",Jn);Qn("card",Jn);Qn("cardNumber",Jn);Qn("cardExpiry",Jn);Qn("cardCvc",Jn);Qn("fpxBank",Jn);Qn("iban",Jn);Qn("idealBank",Jn);Qn("p24Bank",Jn);Qn("epsBank",Jn);var zht=Qn("payment",Jn),Ght=Qn("expressCheckout",Jn);Qn("currencySelector",Jn);Qn("paymentRequestButton",Jn);Qn("linkAuthentication",Jn);var kme=Qn("address",Jn);Qn("shippingAddress",Jn);Qn("paymentMethodMessaging",Jn);Qn("affirmMessage",Jn);Qn("afterpayClearpayMessage",Jn);Qn("taxId",Jn);function kg(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kg=function(e){return typeof e}:kg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}var Mme="basil",Wht=function(e){return e===3?"v3":e},Eme="https://js.stripe.com",Zht="".concat(Eme,"/").concat(Mme,"/stripe.js"),Kht=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Yht=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,pW="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Qht=function(e){return Kht.test(e)||Yht.test(e)},Jht=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Eme,'"]')),n=0;n<e.length;n++){var r=e[n];if(Qht(r.src))return r}return null},gW=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Zht).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},Xht=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},Om=null,q2=null,z2=null,e6t=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},t6t=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},n6t=function(e){return Om!==null?Om:(Om=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(pW),window.Stripe){n(window.Stripe);return}try{var s=Jht();if(s&&e)console.warn(pW);else if(!s)s=gW(e);else if(s&&z2!==null&&q2!==null){var a;s.removeEventListener("load",z2),s.removeEventListener("error",q2),(a=s.parentNode)===null||a===void 0||a.removeChild(s),s=gW(e)}z2=t6t(n,r),q2=e6t(r),s.addEventListener("load",z2),s.addEventListener("error",q2)}catch(i){r(i);return}}),Om.catch(function(n){return Om=null,Promise.reject(n)}))},r6t=function(e,n,r){if(e===null)return null;var s=n[0],a=s.match(/^pk_test/),i=Wht(e.version),l=Mme;a&&i!==l&&console.warn("Stripe.js@".concat(i," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return Xht(c,r),c},hW=function(e){var n="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(e),"\n");if(e===null||kg(e)!=="object")throw new Error(n);if(Object.keys(e).length===1&&typeof e.advancedFraudSignals=="boolean")return e;throw new Error(n)},Mg,Uk=!1,jme=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Uk=!0;var s=Date.now();return n6t(Mg).then(function(a){return r6t(a,n,s)})};jme.setLoadParameters=function(t){if(Uk&&Mg){var e=hW(t),n=Object.keys(e),r=n.reduce(function(s,a){var i;return s&&t[a]===((i=Mg)===null||i===void 0?void 0:i[a])},!0);if(r)return}if(Uk)throw new Error("You cannot change load parameters after calling loadStripe");Mg=hW(t)};const s6t=["card","shop_pay","us_bank_account"],a6t=["payment_element_change_preview_beta_1","prepare_payment_method_beta_1","elements_icon_style_beta_1","elements_address_element_sync_checkbox_beta_1","link_forest_beta_1","ece_prefer_plain_single_row_beta_1","relax_spm_address_validation_beta_1","change_event_improvements_beta_1"],o6t=15e3;function i6t({clientThreadId:t,items:e,store:n,children:r}){const{stripeCartSession:s,loading:a,error:i}=c6t(e,t,n),l=ga(),c=Z(),[u,d]=g.useState(null),f=g.useMemo(()=>s!=null&&s.publishable_key?jme(s.publishable_key,{betas:a6t}):null,[s==null?void 0:s.publishable_key]),m=g.useMemo(()=>{var y,x,b,_,w,S;const h=(y=n.paymentTypes)==null?void 0:y.payment_sheet,v=(x=n.paymentTypes)==null?void 0:x.express_checkout;return!(s!=null&&s.client_secret)||!h||!v?null:{mode:"payment",currency:"usd",amount:n.grandTotal.value_minor>0?n.grandTotal.value_minor:(w=(_=(b=n.totals)==null?void 0:b.find(k=>k.type==="subtotal"))==null?void 0:_.value_minor)!=null?w:0,customerSessionClientSecret:s.client_secret,paymentMethodTypes:[...h,...v].filter(k=>s6t.includes(k)),paymentMethodOptions:v.includes("shop_pay")?{shop_pay:{shop_id:(S=n.merchant)==null?void 0:S.externalId}}:void 0,sellerDetails:n.merchant?{externalId:n.merchant.externalId,networkId:n.merchant.networkId,businessName:n.merchant.title}:void 0,syncAddressCheckbox:{mode:"shipping",formBehavior:"editable"},appearance:l6t(l)}},[l,n.grandTotal.value_minor,n.merchant,n.paymentTypes.express_checkout,n.paymentTypes.payment_sheet,n.totals,s==null?void 0:s.client_secret]),p=a||!f||!m;return g.useEffect(()=>{if(!p)return;const h=setTimeout(()=>{d(c.formatMessage({id:"Vj32Tb",defaultMessage:"Failed to load cart session (1298). Please refresh the page and try again."}))},o6t);return()=>clearTimeout(h)},[p,c]),p?r({loadingCartSession:!0,cartLoadError:i!=null?i:u}):o.jsx(wme,{stripe:f,options:m,children:r({loadingCartSession:a,cartLoadError:i})})}function l6t(t){return{icons:"outline",theme:t?"night":"stripe",labels:"floating",inputs:"condensed",variables:{fontSizeBase:"16px",colorPrimary:t?"white":"black",colorBackground:t?"#2f2f2f":"white",borderRadius:"30px",gridRowSpacing:"8px",gridColumnSpacing:"8px",colorTextSecondary:"#8F8F8F",fontSizeXs:"0.8rem"},rules:{".Input, .PickerItem, .Tab, .AccordionItem, .Dropdown, .Block":{borderRadius:"16px",boxShadow:"none"},".Input":{padding:"12px 16px 10px 16px",fontSize:"1em"},".CheckboxLabel":{fontWeight:"500",fontSize:".9rem",alignItems:"center"},".Label--floating":{padding:"0",fontSize:".75em",marginTop:"-3px"},".AccordionItem--selected":{border:"solid 1px ".concat(t?"white":"black")},".Input:focus":{boxShadow:"none",borderColor:t?"white":"black"},".Label":{fontWeight:"500",fontSize:"14px",marginBottom:"6px",color:"#8F8F8F"}},disableAnimations:!0}}function c6t(t,e,n){const r=Z(),s=kn(e),a=window&&window.location.href,i=a.includes("/share/"),[l,c]=g.useState(void 0),[u,d]=g.useState(!0),[f,m]=g.useState(null);return g.useEffect(()=>{if(!s&&!i){m(r.formatMessage({id:"/zl1B7",defaultMessage:"Failed to load cart session (1299). Please refresh the page and try again."}));return}(async()=>{var p,h,v,y;try{const x=await y0t(P(C({items:t},i?{sharedConversationUrl:a}:{conversationId:s}),{existing_customer_session_client_secret:n.preloadCustomerSessionClientSecret}));((p=x.cart.errors)==null?void 0:p.length)>0?(m(x.cart.errors[0].message),B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((h=n.cartMetadata)!=null?h:{})),{action:"cart_load_failed",reason:"error_response_from_endpoint",error_message:x.cart.errors[0].message}))):x.customer_session_client_secret&&x.publishable_key?(c({client_secret:x.customer_session_client_secret,publishable_key:x.publishable_key}),n.setInitialCart(x),x.cart.shipping_option_id&&vfe(n,x.id,x.cart.shipping_options,x.cart.shipping_option_id,"prefill"),x.cart.shipping_address&&yfe(n,x.id,P(C({},Bfe(x.cart.shipping_address)),{complete:!0}),"prefill")):(m(r.formatMessage({id:"imEcZX",defaultMessage:"Failed to load cart session (1300)"})),B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((v=n.cartMetadata)!=null?v:{})),{action:"cart_load_failed",reason:"error_response_from_endpoint",error_message:"Missing customer_session_client_secret or publishable_key"})))}catch(x){m(x instanceof Error?x.message:r.formatMessage({id:"S86mYy",defaultMessage:"Failed to load cart session (1301)"})),B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((y=n.cartMetadata)!=null?y:{})),{action:"cart_load_failed",reason:"error_thrown_from_endpoint",error_message:x instanceof Error?x.message:"Unknown error"}))}finally{d(!1)}})()},[]),{stripeCartSession:l,loading:u,error:f}}const u6t=H5({animationLoader:()=>Ve(()=>import("./g7ok40ush52euab4.js"),[]),StaticIcon:()=>o.jsx(o.Fragment,{})}),Hk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.835 8.16669C16.835 7.45565 16.8341 6.96232 16.8027 6.5788C16.772 6.20309 16.7153 5.99169 16.6348 5.83368C16.4588 5.48844 16.1783 5.20784 15.833 5.03192C15.675 4.95141 15.4636 4.89466 15.0879 4.86395C14.7044 4.83262 14.211 4.83173 13.5 4.83173H6.5C5.78896 4.83173 5.29563 4.83262 4.91211 4.86395C4.5364 4.89466 4.325 4.95141 4.16699 5.03192C3.82175 5.20784 3.54116 5.48844 3.36524 5.83368C3.28473 5.99169 3.22797 6.20309 3.19727 6.5788C3.16593 6.96232 3.16504 7.45565 3.16504 8.16669V11.8337C3.16504 12.5445 3.16594 13.0381 3.19727 13.4216C3.22797 13.7971 3.28475 14.0087 3.36524 14.1667C3.54117 14.5118 3.82182 14.7926 4.16699 14.9684C4.32499 15.0489 4.53646 15.1057 4.91211 15.1364C5.29563 15.1677 5.78896 15.1686 6.5 15.1686H13.5C14.211 15.1686 14.7044 15.1677 15.0879 15.1364C15.4635 15.1057 15.675 15.0489 15.833 14.9684C16.1782 14.7926 16.4588 14.5118 16.6348 14.1667C16.7153 14.0087 16.772 13.7971 16.8027 13.4216C16.8341 13.0381 16.835 12.5445 16.835 11.8337V8.16669ZM18.165 11.8337C18.165 12.5226 18.1657 13.0798 18.1289 13.53C18.0915 13.9877 18.0122 14.3936 17.8203 14.7702C17.5169 15.3657 17.0321 15.8496 16.4365 16.153C16.0598 16.3449 15.6542 16.4242 15.1963 16.4616C14.746 16.4984 14.1891 16.4987 13.5 16.4987H6.5C5.81091 16.4987 5.25395 16.4984 4.80371 16.4616C4.34583 16.4242 3.94015 16.3449 3.56348 16.153C2.96794 15.8496 2.48313 15.3657 2.17969 14.7702C1.98783 14.3936 1.90853 13.9877 1.87109 13.53C1.83431 13.0798 1.83496 12.5226 1.83496 11.8337V8.16669C1.83496 7.4776 1.83431 6.92064 1.87109 6.4704C1.90851 6.01261 1.98788 5.60678 2.17969 5.23016C2.48313 4.63463 2.96794 4.14981 3.56348 3.84638C3.94009 3.65457 4.34592 3.57519 4.80371 3.53778C5.25395 3.501 5.81091 3.50165 6.5 3.50165H13.5C14.1891 3.50165 14.746 3.501 15.1963 3.53778C15.6541 3.57519 16.0599 3.65457 16.4365 3.84638C17.0321 4.14981 17.5169 4.63463 17.8203 5.23016C18.0121 5.60678 18.0915 6.01261 18.1289 6.4704C18.1657 6.92064 18.165 7.4776 18.165 8.16669V11.8337Z"}),g.createElement("path",{d:"M17.5 7.66832L17.6338 7.68199C17.9369 7.74392 18.165 8.01192 18.165 8.33335C18.165 8.65479 17.9369 8.92279 17.6338 8.98472L17.5 8.99839H2.5C2.13273 8.99839 1.83496 8.70062 1.83496 8.33335C1.83496 7.96608 2.13273 7.66832 2.5 7.66832H17.5Z"}),g.createElement("path",{d:"M14.167 11.835L14.3008 11.8487C14.6038 11.9107 14.832 12.1787 14.832 12.5C14.832 12.8213 14.6038 13.0893 14.3008 13.1514L14.167 13.1651H12.5C12.1327 13.1651 11.835 12.8673 11.835 12.5C11.835 12.1328 12.1327 11.835 12.5 11.835H14.167Z"})),gIt=Object.freeze(Object.defineProperty({__proto__:null,default:Hk},Symbol.toStringTag,{value:"Module"})),Vk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.001 1.83594C13.9484 1.83594 17.1659 4.90441 17.166 8.9873C17.166 11.8368 15.3695 14.1317 13.7002 15.6592C12.8541 16.4334 12.0106 17.0381 11.3799 17.4492C11.0639 17.6552 10.7992 17.8141 10.6123 17.9219C10.5189 17.9757 10.4443 18.0166 10.3926 18.0449C10.3667 18.059 10.3463 18.0705 10.332 18.0781C10.3251 18.0818 10.3195 18.0848 10.3154 18.0869C10.3134 18.088 10.3118 18.0892 10.3105 18.0898L10.3086 18.0908L10.001 17.501L10.3076 18.0908C10.1144 18.1913 9.88417 18.1912 9.69141 18.0898L10.001 17.501L9.69043 18.0889L9.68848 18.0879C9.68724 18.0872 9.68554 18.086 9.68359 18.085C9.67954 18.0828 9.67396 18.0799 9.66699 18.0762C9.65272 18.0685 9.63232 18.0573 9.60645 18.043C9.55471 18.0144 9.48007 17.9733 9.38672 17.9189C9.19995 17.8102 8.93589 17.6498 8.62012 17.4424C7.98975 17.0283 7.14642 16.4199 6.30078 15.6436C4.63333 14.1126 2.83594 11.8176 2.83594 8.9873C2.83602 4.90441 6.05356 1.83594 10.001 1.83594ZM10.001 3.16602C6.76879 3.16602 4.1661 5.65812 4.16602 8.9873C4.16602 11.2489 5.6187 13.2112 7.20117 14.6641C7.98034 15.3793 8.76231 15.9446 9.35059 16.3311C9.61363 16.5039 9.83709 16.6392 10.002 16.7363C10.1667 16.6402 10.3903 16.5064 10.6533 16.335C11.2413 15.9516 12.0229 15.3904 12.8018 14.6777C14.3825 13.2313 15.8359 11.2693 15.8359 8.9873C15.8359 5.65812 13.2332 3.16602 10.001 3.16602ZM10.001 6.07422C11.6109 6.07422 12.916 7.37935 12.916 8.98926C12.916 10.5992 11.6109 11.9043 10.001 11.9043C8.39107 11.9043 7.08594 10.5992 7.08594 8.98926C7.08594 7.37935 8.39107 6.07422 10.001 6.07422ZM10.001 7.4043C9.12561 7.4043 8.41602 8.11389 8.41602 8.98926C8.41602 9.86463 9.12561 10.5742 10.001 10.5742C10.8763 10.5742 11.5859 9.86463 11.5859 8.98926C11.5859 8.11389 10.8763 7.4043 10.001 7.4043Z"})),hIt=Object.freeze(Object.defineProperty({__proto__:null,default:Vk},Symbol.toStringTag,{value:"Module"})),Tme=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.66309 3.50195C10.1188 3.50195 10.5012 3.50191 10.8125 3.52734C11.1313 3.5534 11.4342 3.6095 11.7217 3.75586C12.1604 3.9794 12.5177 4.33666 12.7412 4.77539C12.8064 4.90335 12.8519 5.03483 12.8867 5.16895H14.1738C14.5194 5.1724 14.8152 5.19084 15.0938 5.28027C15.4013 5.37905 15.685 5.54071 15.9268 5.75488C16.2186 6.01342 16.4169 6.3634 16.6768 6.80176L18 9.03223C18.1282 9.24849 18.2306 9.41854 18.3037 9.60449C18.3646 9.75935 18.409 9.92072 18.4355 10.085C18.4674 10.2821 18.4648 10.4802 18.4648 10.7314V11.6973C18.4648 12.0626 18.4657 12.3691 18.4492 12.6201C18.4323 12.8767 18.3952 13.1224 18.2998 13.3623C18.0628 13.958 17.5909 14.43 16.9951 14.667C16.7552 14.7624 16.5096 14.7985 16.2529 14.8154C16.0631 14.8279 15.8416 14.8293 15.5869 14.8301C15.2307 15.8026 14.3009 16.498 13.2051 16.498C12.1097 16.498 11.1788 15.8038 10.8223 14.832H8.21582C7.85926 15.8038 6.92835 16.498 5.83301 16.498C4.72851 16.498 3.79119 15.7922 3.44141 14.8076C2.36455 14.6572 1.53529 13.7355 1.53516 12.6172V6.83398C1.53516 6.37825 1.53511 5.99585 1.56055 5.68457C1.58661 5.36576 1.64268 5.06283 1.78906 4.77539C2.01261 4.33666 2.36986 3.9794 2.80859 3.75586C3.09603 3.60948 3.39897 3.55341 3.71777 3.52734C4.02905 3.50191 4.41145 3.50195 4.86719 3.50195H9.66309ZM5.83301 12.748C5.16474 12.748 4.62305 13.2897 4.62305 13.958C4.62305 14.6263 5.16474 15.168 5.83301 15.168C6.50127 15.168 7.04297 14.6263 7.04297 13.958C7.04297 13.2897 6.50127 12.748 5.83301 12.748ZM13.2051 12.748C12.5368 12.748 11.9951 13.2897 11.9951 13.958C11.9951 14.6263 12.5368 15.168 13.2051 15.168C13.8733 15.168 14.415 14.6263 14.415 13.958C14.415 13.2897 13.8733 12.748 13.2051 12.748ZM4.86719 4.83203C4.3895 4.83203 4.07073 4.83256 3.82617 4.85254C3.5895 4.87189 3.48098 4.90631 3.41211 4.94141C3.22371 5.03743 3.07063 5.19051 2.97461 5.37891C2.93952 5.44778 2.90509 5.5563 2.88574 5.79297C2.86576 6.03753 2.86523 6.3563 2.86523 6.83398V12.6172C2.86534 12.9634 3.06479 13.2619 3.35449 13.4072C3.60622 12.2694 4.61946 11.418 5.83301 11.418C7.07999 11.418 8.11506 12.317 8.33008 13.502H10.708C10.8231 12.8679 11.1731 12.3177 11.665 11.9414V6.83398C11.665 6.3563 11.6645 6.03753 11.6445 5.79297C11.6252 5.55631 11.5908 5.44778 11.5557 5.37891C11.4596 5.19051 11.3066 5.03741 11.1182 4.94141C11.0493 4.90631 10.9409 4.87188 10.7041 4.85254C10.4595 4.83256 10.1408 4.83203 9.66309 4.83203H4.86719ZM12.9951 6.83398V11.4277C13.0644 11.4221 13.1343 11.418 13.2051 11.418C14.4513 11.418 15.4853 12.316 15.7012 13.5C15.8915 13.4987 16.0406 13.4965 16.166 13.4883C16.3574 13.4757 16.4473 13.4532 16.5039 13.4307C16.7598 13.3288 16.9627 13.126 17.0645 12.8701C17.0869 12.8134 17.1095 12.7234 17.1221 12.5322C17.135 12.335 17.1348 12.08 17.1348 11.6973V10.7314C17.1348 10.4386 17.133 10.3643 17.1221 10.2969C17.1106 10.2263 17.0916 10.1573 17.0654 10.0908C17.0404 10.0273 17.0046 9.96256 16.8555 9.71094L15.5332 7.47949C15.2284 6.96535 15.1438 6.83862 15.0449 6.75098C14.941 6.65892 14.8187 6.58932 14.6865 6.54688C14.5608 6.50657 14.4086 6.49903 13.8115 6.49902H12.9932C12.9935 6.60579 12.9951 6.71764 12.9951 6.83398Z"})),vIt=Object.freeze(Object.defineProperty({__proto__:null,default:Tme},Symbol.toStringTag,{value:"Module"}));async function Nme({store:t,merchant:e,elements:n,stripe:r,userEmail:s,intl:a,finalShippingAddress:i,expressPaymentType:l,paymentAttemptId:c,onConfirm:u,onComplete:d}){var m,p;const f=performance.now();t.setCartStatus("submitting"),c||(c=Yn());try{if(d6t({store:t,merchant:e,finalShippingAddress:i,expressPaymentType:l,paymentAttemptId:c}),!f6t({elements:n,stripe:r,userEmail:s,intl:a,store:t,paymentAttemptId:c}))return;const h=await m6t({stripe:r,elements:n,intl:a,store:t,userEmail:s,finalShippingAddress:i,paymentAttemptId:c,isExpressCheckout:l!==void 0});if(!h)return;u==null||u(),await p6t({store:t,paymentMethod:h,intl:a,onComplete:d,paymentAttemptId:c,finalShippingAddress:i,startMs:f,expressPaymentType:l})}catch(h){const v=h;let y="payment_failed_general_error";const{stripe_error_code:x,stripe_decline_code:b}=((m=v==null?void 0:v.json)==null?void 0:m.detail)||{};let _=x&&b?await r.localizeError({code:x,decline_code:b}):void 0;v.message==="Failed to fetch"&&!_&&(y="payment_failed_network_error",_=a.formatMessage({id:"DPyhFG",defaultMessage:"Failed to submit payment (1347). Please refresh the page and try again."})),Wl({store:t,action:"payment_failed",reason:y,uiMessage:(p=_!=null?_:v.message)!=null?p:a.formatMessage({id:"nyG5lS",defaultMessage:"Failed to submit payment (1350)"}),internalMessage:(x!=null?x:b)?"Stripe error code: ".concat(x,"  ::  Stripe decline code: ").concat(b):v.message,paymentAttemptId:c})}finally{t.setCartStatus("idle")}}function d6t({store:t,merchant:e,finalShippingAddress:n,expressPaymentType:r,paymentAttemptId:s}){var i,l,c,u,d,f,m,p;const a=t.shippingOptions.find(h=>h.id===t.shippingMethodId);l6(t,{merchant_name:e==null?void 0:e.title,merchant_url:e==null?void 0:e.url,totals:t.totals,total_price:t.grandTotal.value,shipping_city:(l=n==null?void 0:n.city)!=null?l:(i=t.shippingAddress)==null?void 0:i.city,shipping_state:(u=n==null?void 0:n.state)!=null?u:(c=t.shippingAddress)==null?void 0:c.state,shipping_zip:(f=n==null?void 0:n.postal_code)!=null?f:(d=t.shippingAddress)==null?void 0:d.postalCode,shipping_country:(p=n==null?void 0:n.country)!=null?p:(m=t.shippingAddress)==null?void 0:m.country,payment_method:Ame(t,r),shipping_method_name:a==null?void 0:a.title,shipping_method_price:a==null?void 0:a.subtotal,shipping_method_index:t.shippingOptions.findIndex(h=>h.id===t.shippingMethodId),items:t.items.map(h=>({product_id:h.id,product_title:h.title,variant:h.variant,quantity:h.quantity,price:h.price})),action:"pay_button_clicked",attempt_id:s})}function f6t({elements:t,stripe:e,userEmail:n,intl:r,store:s,paymentAttemptId:a}){return!t||!e?(Wl({store:s,action:"payment_failed",reason:"elements_or_stripe_null",uiMessage:r.formatMessage({id:"/MYGq8",defaultMessage:"Failed to submit payment (1340)"}),internalMessage:"elements or stripe is null",paymentAttemptId:a}),!1):n?!0:(Wl({store:s,action:"payment_failed",reason:"user_email_empty",uiMessage:r.formatMessage({id:"Zs2vbs",defaultMessage:"Failed to submit payment (1346)"}),internalMessage:"userEmail is empty",paymentAttemptId:a}),!1)}async function m6t({stripe:t,elements:e,intl:n,store:r,userEmail:s,finalShippingAddress:a,paymentAttemptId:i,isExpressCheckout:l}){var d,f,m,p;if(r.cachedPaymentDetailsResponse&&!l)return r.cachedPaymentDetailsResponse;if(!l){const h=await e.submit();if(h!=null&&h.error)return Wl({store:r,action:"payment_failed",reason:"stripe_payment_submit_failed",uiMessage:(d=h.error.message)!=null?d:n.formatMessage({id:"Fken/H",defaultMessage:"Failed to submit payment (1341)"}),internalMessage:h.error.message?"".concat(h.error.message," (").concat(h.error.code,")"):void 0,extraLogData:{error_message:h.error.message,error_code:h.error.code},paymentAttemptId:i}),null}const{error:c,paymentMethod:u}=await t.preparePaymentMethod({elements:e,params:{allow_redisplay:"always",billing_details:{name:(m=a==null?void 0:a.name)!=null?m:(f=r.billingAddress)==null?void 0:f.name,email:s}}});return c?(Wl({store:r,action:"payment_failed",reason:"stripe_prepare_payment_method_failed",uiMessage:(p=c.message)!=null?p:n.formatMessage({id:"bUeW4/",defaultMessage:"Failed to submit payment (1342)"}),internalMessage:String(c),extraLogData:{error_message:c},paymentAttemptId:i}),null):(l||r.setCachedPaymentDetailsResponse(u),u)}async function p6t({store:t,paymentMethod:e,intl:n,onComplete:r,paymentAttemptId:s,finalShippingAddress:a,startMs:i,expressPaymentType:l}){var d,f,m,p,h,v,y,x;const c=(d=e.billing_details)!=null&&d.address?Ffe(e.billing_details.name,e.billing_details.address,e.billing_details.phone):t.billingAddress?r2t(t.billingAddress):null;if(!e.id||!e.type||!c){Wl({store:t,action:"payment_failed",reason:"missing_payment_method_or_billing_address",uiMessage:n.formatMessage({id:"xYuTJ8",defaultMessage:"Failed to submit payment (1344)"}),internalMessage:"Missing payment method or billing address",extraLogData:{error_message:"Missing payment method: ".concat(e.id," with type: ").concat(e.type)},paymentAttemptId:s});return}const u=await x0t(t.cartId,t.items,{id:e.id,type:e.type,billing_address:c},s,a);if((f=u.cart.errors)!=null&&f.length){t.setErrors(u.cart.errors),l6(t,{action:"payment_failed",reason:"openai_complete_shopping_cart_failed",error_message:u.cart.errors.map(b=>b.message).join(", "),attempt_id:s});return}if((m=u.order)!=null&&m.id&&((p=u.order)==null?void 0:p.status)==="placed")try{l6(t,{action:"payment_succeeded",attempt_id:s}),ve.addAction("shopping_checkout.complete",{durationMs:performance.now()-i,merchant_id:(h=t.merchant)==null?void 0:h.externalId,merchant_network_id:(v=t.merchant)==null?void 0:v.networkId,cart_total:t.grandTotal.value,payment_method:Ame(t,l)}),typeof r=="function"&&await r(u.order),t.closeCheckout()}catch(b){Wl({store:t,action:"refresh_convo_failed",uiMessage:n.formatMessage({id:"d45UJa",defaultMessage:"Failed to update conversation (1400)"}),internalMessage:b instanceof Error?b.message:"Unknown error",paymentAttemptId:s})}else Wl({store:t,action:"payment_failed",reason:"openai_complete_shopping_cart_failed",uiMessage:n.formatMessage({id:"QJ9CZQ",defaultMessage:"Failed to create order (1345)"}),internalMessage:"Missing orderID",extraLogData:{error_message:"Missing orderID: ".concat((y=u.order)==null?void 0:y.id," with status: ").concat((x=u.order)==null?void 0:x.status)},paymentAttemptId:s})}function l6(t,e){var n,r,s;B.logEventWithStatsig("product_checkout","product_checkout",C(P(C({},Pt((n=t.cartMetadata)!=null?n:{})),{checkout_id:t.cartId}),e)),ve.addAction("shopping_checkout.".concat(e.action),{merchant_id:(r=t.merchant)==null?void 0:r.externalId,merchant_network_id:(s=t.merchant)==null?void 0:s.networkId,cart_total:t.grandTotal.value,reason:e.reason})}function Wl({store:t,action:e,reason:n,uiMessage:r,internalMessage:s,extraLogData:a,paymentAttemptId:i}){const l=r+"";t.setErrors([{group:"general",message:l}]),l6(t,C(C(C(C({action:e},n?{reason:n}:{}),s?{error_message:s}:{}),a!=null?a:{}),(e==="payment_failed"||e==="payment_succeeded")&&i?{attempt_id:i}:{}))}function Ame(t,e){var n,r,s;return(s=e==null?void 0:e.toLocaleLowerCase())!=null?s:(r=(n=t.paymentDetails)==null?void 0:n.label)==null?void 0:r.toLocaleLowerCase()}const Pme=({store:t,optionOverrides:e,onConfirm:n,onReady:r,onComplete:s,surface:a})=>{var v;const i=s7(),l=UA(),c=Wt(),u=c==null?void 0:c.email,d=Z(),f=it(),m=g.useRef(void 0),p=g.useRef(void 0),h=g.useMemo(()=>{var x,b,_,w,S,k;const y={buttonHeight:40,shippingAddressRequired:!0,billingAddressRequired:!0,business:{name:(b=(x=t.merchant)==null?void 0:x.title)!=null?b:""},phoneNumberRequired:!0,paymentMethods:{applePay:(_=t==null?void 0:t.paymentTypes[a])!=null&&_.includes("apple_pay")?"always":"never",googlePay:(w=t==null?void 0:t.paymentTypes[a])!=null&&w.includes("google_pay")?"always":"never",shopPay:(S=t==null?void 0:t.paymentTypes[a])!=null&&S.includes("shop_pay")?"auto":"never",link:(k=t==null?void 0:t.paymentTypes[a])!=null&&k.includes("link")?"auto":"never"},paymentMethodOrder:["apple_pay","google_pay","shop_pay","link"],shippingRates:WG(t.items,t.shippingOptions,d)};return C(C({},y),e)},[(v=t.merchant)==null?void 0:v.title,e,a,t.paymentTypes,t.shippingOptions,d,t.items]);return o.jsx(Ght,{options:h,onConfirm:async y=>{var b,_,w;const x=(b=y.shippingAddress)!=null&&b.address&&((_=y.shippingAddress)!=null&&_.name)?Ffe(y.shippingAddress.name,y.shippingAddress.address,(w=y.billingDetails)==null?void 0:w.phone):void 0;await Nme({store:t,merchant:t.merchant,elements:i,stripe:l,userEmail:u,intl:d,finalShippingAddress:x,expressPaymentType:y.expressPaymentType,paymentAttemptId:m.current,onConfirm:n,onComplete:async S=>{await Hfe({store:t,order:S,navigate:f}),await(s==null?void 0:s(S))}})},onReady:()=>{r==null||r()},onClick:y=>{var w;const{expressPaymentType:x,resolve:b,reject:_}=y;if(p.current=t.shippingAddress,m.current=Yn(),B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((w=t.cartMetadata)!=null?w:{})),{payment_method:x,checkout_id:t.cartId,action:"express_checkout_button_clicked",attempt_id:m.current})),Vfe(t,d))return b();_()},onShippingAddressChange:async function({address:y,resolve:x,reject:b}){try{const _=await bp(t.cartId,{items:t.items,shippingAddress:{name:null,addressLine1:null,addressLine2:null,city:y.city,state:y.state,postalCode:y.postal_code,country:y.country,complete:!0}});t.updateCart(_);const w=WG(t.items,_.cart.shipping_options,d);if(w.length===0){b();return}i&&i.update({amount:_.cart.grand_total.value_minor}),x({shippingRates:w})}catch(_){b()}},onCancel:async()=>{try{if(wd(t,p.current)){const y=await bp(t.cartId,{items:t.items,shippingAddress:p.current});t.updateCart(y),i&&i.update({amount:y.cart.grand_total.value_minor})}}catch(y){}},onShippingRateChange:async function({shippingRate:y,resolve:x,reject:b}){try{const _=await bp(t.cartId,{items:t.items,shippingMethodId:y.id});t.updateCart(_),i&&i.update({amount:_.cart.grand_total.value_minor}),x()}catch(_){b()}}})},g6t=({text:t,className:e="",duration:n=.15})=>{const r=g.useMemo(()=>[...t].map((s,a)=>({key:"".concat(a,"-").concat(s),char:s,delay:Math.random()*.4})),[t]);return o.jsx("span",{className:"perspective-1000 inline-block ".concat(e),children:r.map(({key:s,char:a,delay:i},l)=>o.jsxs(Se.span,{layout:!0,transition:{layout:{type:"spring",stiffness:320,damping:30,duration:150}},className:"relative inline-block align-baseline",children:[o.jsx("span",{className:"invisible",children:a===" "?"Â ":a}),o.jsx(Kt,{initial:!1,children:o.jsx(Se.span,{className:"absolute inset-0 inline-block will-change-transform",initial:{rotateX:90,opacity:0,translateY:"0.2em"},animate:{rotateX:0,opacity:1,translateY:0},exit:{rotateX:-90,opacity:0,translateY:"-0.2em"},transition:{duration:n,ease:"easeInOut",delay:i},children:a===" "?"Â ":a},s)})]},l))})},G2=({cartErrors:t,section:e})=>{var r;const n=(r=t==null?void 0:t.filter(s=>e?s.group===e:!0))!=null?r:[];return n.length?o.jsx("div",{className:"flex flex-col gap-1 pt-3",children:n.map(s=>o.jsx(c6,{message:s.message},s.message))}):null},c6=({message:t})=>o.jsxs("div",{className:"bg-token-bg-status-error text-token-interactive-label-danger-secondary-default flex items-center rounded-lg px-3 py-2 text-sm",children:[o.jsx(cc,{className:"me-2 shrink-0"}),t]});let W_=0;function h6t({item:t,store:e,pushPane:n,loadingCartSession:r,loadingPayment:s,loadingAddress:a,cartLoadError:i,stripeLoadingError:l,merchant:c,footerMessage:u,isCurrentPane:d}){const f=Wt(),m=f==null?void 0:f.email,{cartStatus:p,paymentDetails:h,shippingAddress:v,shippingMethodId:y,shippingOptions:x,totals:b,grandTotal:_,errors:w}=e,S=OA(e.items),k=g.useMemo(()=>x.find(Y=>Y.id===y),[x,y]),M=!!(h!=null&&h.complete),E=!!(v!=null&&v.complete),T=(r||s||a)&&!i,j=!T&&!i,A=j&&!S,I=p==="complete",L=p==="updating",O=j&&(M||s||a),R=!!(E&&x.length>0&&k),H=!!u&&!T,V=Z(),z=g.useCallback(()=>{if(!DA(e.agreements))return $fe(e,V),!1;n("paymentMethod")},[n]),$=g.useCallback(()=>{n("shippingAddress")},[n]),D=g.useCallback(()=>{n("shippingMethod")},[n]);return o.jsxs("div",{className:"relative flex h-full flex-col",children:[I&&o.jsx("div",{className:"bg-token-bg-primary absolute inset-0 z-50 flex items-center justify-center",children:o.jsx(u6t,{className:"h-44 w-44 text-green-400",loop:!1})}),o.jsxs("div",{className:"flex flex-col px-6 pb-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(x6t,{item:t,store:e,canUpdateQuantity:A,isLoading:r})}),l&&o.jsx(c6,{message:l}),i&&o.jsx(c6,{message:i}),j&&o.jsxs(o.Fragment,{children:[O&&o.jsxs("div",{className:U(e.cartStatus==="submitting"&&"pointer-events-none opacity-50"),children:[o.jsxs("div",{className:"border-token-border-light border-t",children:[o.jsx(w6t,{onClick:z,isLoading:s,paymentMethod:h}),o.jsx(G2,{cartErrors:w,section:"payment_method"})]}),o.jsxs("div",{className:"border-token-border-light border-t",children:[o.jsx(S6t,{shippingAddress:v,isLoading:a,onClick:$}),o.jsx(G2,{cartErrors:w,section:"shipping_address"})]}),S&&o.jsx("div",{className:"border-token-border-light border-t",children:o.jsx(k6t,{emailAddress:m})}),R&&k&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border-token-border-light border-t",children:o.jsx(M6t,{method:k,onClick:D})}),o.jsx(G2,{cartErrors:w,section:"shipping_option"})]})]}),o.jsx(_6t,{totals:b,grandTotal:_,isLoading:L}),o.jsx(E6t,{store:e}),o.jsx(G2,{cartErrors:w,section:O?"general":void 0}),o.jsx(v6t,{store:e,merchant:c,hasValidPaymentMethod:M,pushPane:n,showExpressCheckoutElement:d})]})]}),H&&o.jsx(HA,{className:"bg-token-bg-elevated-secondary text-token-text-tertiary border-token-border-light h-full border-t p-6 text-xs",components:{a:Y=>o.jsx("a",P(C({},Y),{className:U(Y.className,"text-blue-400 underline"),target:"_blank",children:Y.children}))},children:u})]})}const v6t=({store:t,merchant:e,hasValidPaymentMethod:n,pushPane:r,showExpressCheckoutElement:s})=>{const[a,i]=g.useState(!1),l=it(),c=s7(),u=UA(),d=Wt(),f=d==null?void 0:d.email,m=Z(),p=g.useMemo(()=>y6t(e),[e]),h=s&&!n,v=t.cartStatus==="submitting",y=t.cartStatus==="updating";g.useEffect(()=>{h||i(!1)},[h]);const x=v?o.jsx(Z_,{messages:p}):o.jsx(oe,{fullWidth:!0,disabled:!l2t(t),onClick:async()=>{Vfe(t,m)&&await Nme({store:t,merchant:e,elements:c,stripe:u,userEmail:f,intl:m,onComplete:async _=>await Hfe({store:t,order:_,navigate:l})})},className:"h-10 px-6",contentWrapperClassName:"w-full min-w-0",children:o.jsx("span",{className:"truncate",children:o.jsx(N,{id:"BbrtuK",defaultMessage:"Pay {merchant}",values:{merchant:e==null?void 0:e.title}})})}),b=o.jsxs("div",{className:"flex min-h-[104px] w-full flex-col gap-2 overflow-hidden pt-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Kt,{initial:!1,children:!a&&!v&&o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0",children:o.jsx(Z_,{messages:[o.jsx(N,{id:"4NPTWv",defaultMessage:"Loading payment methods"},"loading")]})},"working")}),o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:a?1:0},transition:{opacity:{duration:.3}},style:{pointerEvents:a?"auto":"none"},className:U(v&&"hidden"),children:s&&o.jsx(Pme,{store:t,surface:"express_checkout",optionOverrides:{layout:{maxColumns:1,overflow:"never"}},onReady:()=>{i(!0)}})},"express")]}),o.jsx("div",{className:"flex grow place-items-end",children:v?o.jsx(Z_,{messages:p}):o.jsx(oe,{fullWidth:!0,color:"ghost",className:"border-token-border-light h-10 rounded-full border text-base",onClick:()=>r("paymentMethod"),children:o.jsx(N,{id:"add-card",defaultMessage:"Pay another way"})})})]});return o.jsx("div",{className:U("pt-4 transition-opacity duration-300",y&&"pointer-events-none opacity-30 [&_*]:pointer-events-none"),children:n?x:b})},y6t=t=>[o.jsx(N,{id:"RHR6oM",defaultMessage:"Talking to {store}",values:{store:t==null?void 0:t.title}},"working"),o.jsx(N,{id:"QGko3r",defaultMessage:"Still working"},"talking"),o.jsx(N,{id:"D8fGfD",defaultMessage:"Finalizing details"},"securing")],Z_=({messages:t,intervalMs:e=4e3,repeat:n})=>{const[r,s]=g.useState(0);return g.useEffect(()=>{if(t.length<=1)return;const a=setInterval(()=>{s(i=>!n&&i>=t.length-1?(clearInterval(a),i):(i+1)%t.length)},e);return()=>clearInterval(a)},[t.length,e,n]),o.jsx(oe,{contentsFullWidth:!0,fullWidth:!0,disabled:!0,className:"h-10 text-base",children:o.jsx("div",{className:"relative h-6 w-full overflow-hidden",children:o.jsx(Kt,{initial:!1,children:o.jsxs(Se.span,{initial:{y:"100%",opacity:0},animate:{y:"0%",opacity:1},exit:{y:"-100%",opacity:0},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center",children:[o.jsx(On,{className:"me-2"}),t[r]]},r)})})})},x6t=({item:t,store:e,canUpdateQuantity:n,isLoading:r})=>o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"bg-token-bg-tertiary dark:bg-token-main-surface-primary-inverse overflow-clip rounded-lg",children:r?o.jsx("div",{className:"relative m-0 aspect-square h-32 w-32",children:o.jsx("div",{className:"absolute inset-0 z-3 w-full overflow-hidden",children:o.jsx("div",{className:"absolute start-[-150%] top-[-150%] h-[400%] w-[400%]",children:o.jsx("div",{className:"diagonal-sweep-gradient h-full w-full"})})})}):o.jsx("img",{className:"m-0 aspect-square h-32 w-32 object-cover mix-blend-darken",src:t.imageUrl,alt:t.title})}),o.jsxs("div",{className:"flex flex-1 flex-col",children:[o.jsx("div",{className:"text-normal line-clamp-2 min-h-6 leading-snug font-medium",title:t.title,children:r?o.jsx(Eo,{index:1,width:80,heightSize:"sm"}):t.title}),o.jsx("div",{className:"text-token-text-secondary h-[18px] text-[13px]",children:r?o.jsx(Eo,{index:2,width:60,heightSize:"sm"}):t.variant}),o.jsx("div",{className:"mt-2 flex flex-1 items-end",children:n&&!r&&o.jsx(C6t,{quantity:t.quantity,store:e,itemId:t.id,isDisabled:e.cartStatus==="submitting"||e.cartStatus==="updating"})})]})]}),b6t=600,C6t=({quantity:t,store:e,itemId:n,isDisabled:r})=>{const s=Z(),a=g.useCallback(xs(async(l,c)=>{var d,f;const u=++W_;e.setCartStatus("updating"),e.setErrors([]);try{const m=await bp(l,{items:c});u===W_&&(e.updateCart(m),B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((d=e.cartMetadata)!=null?d:{})),{checkout_id:e.cartId,product_id:n,action:"quantity_changed",new_quantity:c[0].quantity.toString()})))}catch(m){u===W_&&(e.setErrors([{group:"general",message:s.formatMessage(qr.cartUpdateQuantityErrorMessage)}]),B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((f=e.cartMetadata)!=null?f:{})),{action:"cart_update_failed",reason:"error_response_from_endpoint",error_message:m})),e.setCartStatus("idle"))}},b6t),[]),i="bg-token-bg-tertiary hover:bg-token-bg-secondary text-token-text-primary flex items-center justify-center px-2 py-2 text-xl font-bold";return o.jsxs("div",{className:U("inline-flex items-center select-none",r&&"pointer-events-none opacity-50"),children:[o.jsx("button",{className:U(i,"rounded-s-xl"),onClick:()=>{if(t===1){confirm(s.formatMessage({id:"XvhtH9",defaultMessage:"Are you sure you want to remove this item?"}))&&Nk(e,"deleted_item");return}const l=e.updateQuantity(n,Math.max(t-1,1));a(e.cartId,l)},children:t===1?o.jsx(_c,{className:"icon"}):o.jsx(lT,{className:"icon"})}),o.jsx("span",{className:"bg-token-bg-tertiary text-token-text-primary flex h-9 w-6 items-center justify-center text-sm font-semibold",children:t}),o.jsx("button",{className:U(i,"rounded-e-xl"),onClick:()=>{const l=e.updateQuantity(n,t+1);a(e.cartId,l)},children:o.jsx(vc,{className:"icon"})})]})},_6t=({totals:t,grandTotal:e,isLoading:n})=>e!=null&&e.value?o.jsxs("div",{className:"flex flex-col gap-3 pt-3",children:[o.jsx("div",{children:t==null?void 0:t.map(r=>o.jsxs("div",{className:"text-token-text-secondary flex items-end justify-between text-[13px]",children:[o.jsx("span",{className:"font-medium",children:r.title}),o.jsx(HA,{className:U("transition-opacity duration-200",n&&"opacity-50"),remarkPlugins:[[oj,{singleTilde:!1}]],children:r.formatted_value})]},r.title))}),o.jsxs("div",{className:"flex items-end justify-between",children:[o.jsxs("div",{className:"flex flex-col text-[13px]",children:[o.jsx("span",{className:"font-medium",children:e.title}),o.jsx("span",{className:"text-token-text-secondary",children:e.subtitle})]}),o.jsx("div",{className:"text-xl font-medium",children:e.value_minor>0?o.jsx(g6t,{text:e.formatted_value,className:U("transition-opacity duration-200",n&&"opacity-50")}):"-"})]})]}):null,uf=({onClick:t,className:e="",icon:n,primaryText:r,secondaryText:s,disabled:a,showChevron:i=!0})=>o.jsxs("button",{type:"button",disabled:a,className:U("bg-token-bg-elevated-primary flex min-h-[56px] w-full items-center justify-between rounded px-1 py-0 select-none",e,!t&&"cursor-default"),onClick:t,style:{boxShadow:"none"},children:[o.jsxs("div",{className:"flex items-center gap-3.5 py-3",children:[n,o.jsxs("div",{className:"flex flex-col items-start",children:[o.jsx("span",{className:"flex items-center gap-2 text-sm font-medium",children:r}),s&&o.jsx("span",{className:"text-token-text-secondary text-[13px] leading-tight",children:s})]})]}),i&&o.jsx(a1,{className:"text-token-text-tertiary icon-lg"})]}),w6t=({onClick:t,paymentMethod:e,isLoading:n})=>{var s;const r=e==null?void 0:e.complete;return n?o.jsx(uf,{disabled:!0,icon:o.jsx(Hk,{className:"icon-lg"}),primaryText:o.jsx(Eo,{index:1,width:100,heightSize:"sm",className:"min-w-28"})}):o.jsx(uf,{onClick:t,icon:r&&(e!=null&&e.icon)?o.jsx(h0,{svgString:(s=e==null?void 0:e.icon)==null?void 0:s.outerHTML,className:"icon-lg"}):o.jsx(Hk,{className:"icon-lg"}),primaryText:r?e==null?void 0:e.label:o.jsx(N,{id:"nO5Crd",defaultMessage:"Add payment method"}),secondaryText:r?e==null?void 0:e.sublabel:void 0})},S6t=({shippingAddress:t,isLoading:e,onClick:n})=>{if(e)return o.jsx(uf,{disabled:!0,icon:o.jsx(Vk,{className:"icon-lg"}),primaryText:o.jsx(Eo,{index:1,width:100,heightSize:"sm",className:"min-w-28"})});const r=t==null?void 0:t.complete;return o.jsx(uf,{onClick:n,icon:o.jsx(Vk,{className:"icon-lg"}),primaryText:r?o.jsx(o.Fragment,{children:t.name&&o.jsx("span",{children:t.name})}):o.jsx(N,{id:"BlMnQg",defaultMessage:"Add shipping address"}),secondaryText:r?o.jsx(N,{id:"XZ62ju",defaultMessage:"{line1}{line2}{city}, {state}",values:{line1:t.addressLine1?"".concat(t.addressLine1,", "):"",line2:t.addressLine2?"".concat(t.addressLine2,", "):"",city:t.city||"",state:t.state||""}}):void 0})},k6t=({emailAddress:t})=>o.jsx(uf,{onClick:void 0,icon:o.jsx(PE,{className:"icon-lg"}),showChevron:!1,primaryText:o.jsx(N,{id:"xNqXJN",defaultMessage:"Digital Delivery"}),secondaryText:o.jsx(N,{id:"a8C3IV",defaultMessage:"Email to {emailAddress}",values:{emailAddress:t}})});function M6t({method:t,onClick:e}){return o.jsx(uf,{onClick:e,icon:o.jsx(Tme,{className:"icon-lg"}),primaryText:t.title,secondaryText:t.subtitle})}const E6t=t=>{"use forget";const e=ee.c(2),{store:n}=t;let r;return e[0]!==n?(r=n.agreements&&n.agreements.length>0&&o.jsx("div",{className:"flex flex-col gap-2 pt-3",children:n.agreements.map(s=>o.jsx(j6t,{store:n,agreement:s},s.id))}),e[0]=n,e[1]=r):r=e[1],r},j6t=({agreement:t,store:e})=>{"use forget";return g.useEffect(()=>{var n;B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((n=e.cartMetadata)!=null?n:{})),{checkout_id:e.cartId,action:"agreement_shown",agreement_id:t.id}))},[]),o.jsx($l,{id:t.id,checked:t.is_checked,onChange:n=>{var s;const r=n.currentTarget.checked;e.setHasAcceptedAgreement(t.id,r),B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt((s=e.cartMetadata)!=null?s:{})),{checkout_id:e.cartId,action:"agreement_clicked",agreement_id:t.id,checked:r}))},labelClassName:"ps-3 text-[13px] font-medium select-none text-token",label:o.jsx(HA,{components:{a:n=>o.jsx("a",P(C({},n),{className:U(n.className,"text-blue-400 underline"),target:"_blank",children:n.children}))},children:t.content+(t.is_required?" *":"")})},t.id)},HA=g.memo(J4),VA=({onClick:t,isDisabled:e=!1,isSaving:n=!1})=>o.jsx(oe,{fullWidth:!0,color:"primary",onClick:t,disabled:e,className:"h-10",children:n?o.jsx(N,{id:"WmDyLh",defaultMessage:"Saving..."}):o.jsx(N,{id:"8jETK0",defaultMessage:"Continue"})}),T6t=10*1e3,N6t=({store:t,pushPane:e,resetPanes:n,setLoadingPayment:r,loadingAddress:s,setStripeLoadingError:a,isCurrentPane:i})=>{var E,T,j;const l=Z(),c=Wt(),u=c==null?void 0:c.email,d=s7(),f=UA(),[m,p]=g.useState(null),[h,v]=g.useState(!1),[y,x]=g.useState((E=t.paymentDetails)!=null&&E.complete?t.paymentDetails:null),[b,_]=g.useState(void 0),w=g.useRef(!0),S=g.useRef(!0),k=()=>{w.current=!1,a(l.formatMessage(qr.stripeLoadingPaymentMethodError)),r(!1)};g.useEffect(()=>{const A=setTimeout(()=>{w.current&&k()},T6t);return()=>clearTimeout(A)},[]);const M=async A=>{var I,L,O,R,H,V;if(p(null),w.current){if(w.current=!1,(I=t.paymentDetails)!=null&&I.complete&&((L=t.billingAddress)!=null&&L.complete)&&t.cachedPaymentDetailsResponse){A_(t,(O=t.paymentDetails)==null?void 0:O.label,"prefill"),r(!1);return}if(A.complete&&((R=A.value.payment_method)!=null&&R.id)){t.setPaymentDetails(P(C({},R_(A)),{complete:!0})),t.setCachedPaymentDetailsResponse({id:A.value.payment_method.id,type:A.value.payment_method.type,billing_details:{address:A.value.payment_method.billing_details.address,name:(H=A.value.payment_method.billing_details.name)!=null?H:""}});const z=P(C({},r6(A.value.payment_method.billing_details.address,A.value.payment_method.billing_details.name,A.value.payment_method.billing_details.phone)),{complete:!0});t.setBillingAddress(z),x(P(C({},R_(A)),{complete:A.complete})),!s&&t.isShippingAddressSameAsBilling&&z.addressLine1&&!wd(t,t.shippingAddress)&&await su({store:t,fields:{items:t.items,shippingAddress:z},errorMessage:l.formatMessage(qr.cartUpdateShippingAddressErrorMessage),source:"prefill"}),A_(t,(V=A.preview)==null?void 0:V.label,"prefill")}r(!1);return}A.complete&&x(P(C({},R_(A)),{complete:!0}))};return o.jsxs("div",{className:"flex w-full flex-col gap-4 px-6 pb-6",children:[i&&((T=t.paymentDetails)==null?void 0:T.complete)&&o.jsx("div",{className:"min-h-10",children:o.jsx(Pme,{store:t,surface:"payment_sheet",optionOverrides:{layout:{maxRows:1,overflow:"auto"}},onConfirm:()=>{t.setPaymentDetails(void 0),t.setShippingAddress(void 0),n()}})}),!t.paymentTypes.payment_sheet.includes("card")&&!((j=t.paymentDetails)!=null&&j.complete)&&o.jsx("div",{className:"text-token-text-tertiary py-10 text-center text-sm",children:o.jsx(N,{id:"7t8tjX",defaultMessage:"No other payment methods available"})}),o.jsxs("div",{className:t.paymentTypes.payment_sheet.includes("card")?"":"hidden",children:[o.jsx(zht,{id:"payment-element",options:{fields:{billingDetails:{email:"never",phone:"never"}},wallets:{applePay:"never",googlePay:"never"},defaultValues:{billingDetails:{email:u}},business:{name:"OpenAI"},layout:{type:"accordion",defaultCollapsed:!1}},onLoadError:()=>{w.current&&k()},onChange:M,onSavedPaymentMethodRemove:A=>{var I,L,O,R;((I=t.paymentDetails)==null?void 0:I.paymentMethodId)===((L=A.payment_method)==null?void 0:L.id)&&(t.setPaymentDetails(void 0),x(null)),_0t(t,(R=(O=A.payment_method)==null?void 0:O.type)!=null?R:"")}}),m&&o.jsx(c6,{message:m}),o.jsx("div",{className:"mt-6 mb-2 text-sm font-medium",children:o.jsx(N,{id:"8pb7do",defaultMessage:"Billing address"})}),o.jsx(kme,{options:{mode:"billing",allowedCountries:t.allowedCountries,fields:{phone:"always"},validation:{phone:{required:"always"}}},onChange:A=>{if(p(null),S.current){S.current=!1;return}_(P(C({},r6(A.value.address,A.value.name,A.value.phone)),{complete:!0}))}})]}),o.jsx(VA,{isSaving:h,isDisabled:h,onClick:async()=>{var A;if(p(null),!d){p(l.formatMessage(qr.cartUpdateGeneralErrorRetryMessage));return}try{if(!y){p(l.formatMessage(qr.cartUpdateGeneralErrorMessage));return}if(!(b!=null&&b.name)){p(l.formatMessage(qr.stripeLoadingBillingAddressError));return}v(!0);const{error:I,paymentMethod:L}=await f.preparePaymentMethod({elements:d,params:{allow_redisplay:"always",billing_details:{name:b.name,email:u}}});if(v(!1),I)return;A_(t,y==null?void 0:y.label,"user"),t.setPaymentDetails(P(C({},y),{complete:!0,paymentMethodId:L==null?void 0:L.id,paymentMethodType:L==null?void 0:L.type,label:y==null?void 0:y.label,sublabel:y==null?void 0:y.sublabel})),t.setBillingAddress(b),t.setCachedPaymentDetailsResponse(L)}catch(I){p(l.formatMessage(qr.cartUpdateGeneralErrorMessage)),v(!1);return}t.isShippingAddressSameAsBilling&&su({store:t,fields:{items:t.items,shippingAddress:b},errorMessage:l.formatMessage(qr.cartUpdateShippingAddressErrorMessage),source:"prefill"}),(A=t.shippingAddress)!=null&&A.addressLine1?n():e("shippingAddress")}})]})},A6t=10*1e3;function P6t({store:t,resetPanes:e,setLoadingAddress:n,loadingPayment:r,setStripeLoadingError:s,isCurrentPane:a}){var m,p;const i=Z(),l=g.useRef(!0),c=s7(),u=g.useRef(!1);g.useEffect(()=>{wd(t,t.shippingAddress)&&su({store:t,fields:{items:t.items,shippingAddress:t.shippingAddress},errorMessage:i.formatMessage(qr.cartUpdateShippingAddressErrorMessage),source:"prefill",skipLogging:!0});const h=setTimeout(()=>{l.current&&(l.current=!1,s(i.formatMessage(qr.stripeLoadingShippingAddressError)),n(!1))},A6t);return()=>clearTimeout(h)},[]);const d=async h=>{var v;if(l.current){if(l.current=!1,wd(t,t.shippingAddress)){n(!1);return}h.complete&&((v=h.value.address)!=null&&v.line1)?await su({store:t,fields:{items:t.items,shippingAddress:P(C({},r6(h.value.address,h.value.name,h.value.phone)),{complete:h.complete})},errorMessage:i.formatMessage(qr.cartUpdateShippingAddressErrorMessage),onLocalMutationComplete:()=>{n(!1)},source:"prefill"}):!r&&wd(t,t.billingAddress)&&(t.setIsShippingAddressSameAsBilling(!0),await su({store:t,fields:{items:t.items,shippingAddress:t.billingAddress},errorMessage:i.formatMessage(qr.cartUpdateShippingAddressErrorMessage),onLocalMutationComplete:()=>{n(!1)},source:"prefill"})),n(!1);return}a&&(u.current=!0),t.setIsShippingAddressSameAsBilling(h.syncAddress)},f=(m=t.additionalFields)==null?void 0:m.includes("shipping_address_phone_number");return o.jsxs("div",{className:"flex h-full flex-col gap-4 px-6 pb-6",children:[o.jsx(kme,{id:"address-element",options:{mode:"shipping",allowedCountries:t.allowedCountries,defaultValues:(p=t.shippingAddress)!=null&&p.complete?n2t(t.shippingAddress,f):void 0,fields:{phone:f?"always":"never"},validation:C({},f&&{phone:{required:"always"}})},onChange:d,onLoadError:()=>{l.current&&(l.current=!1,s(i.formatMessage(qr.stripeLoadingShippingAddressError)),n(!1))}}),o.jsx(VA,{onClick:async()=>{var v;const h=await((v=c==null?void 0:c.getElement("address",{mode:"shipping"}))==null?void 0:v.getValue());if(h!=null&&h.complete){if(u.current){const y=P(C({},r6(h.value.address,h.value.name,h.value.phone)),{complete:h.complete});su({store:t,fields:{items:t.items,shippingAddress:y},errorMessage:i.formatMessage(qr.cartUpdateShippingAddressErrorMessage),source:"user"})}e()}}})]})}function I6t({shippingMethods:t,resetPanes:e,store:n}){const r=Z(),[s,a]=g.useState(n.shippingMethodId);return o.jsxs("div",{className:"flex h-full flex-col gap-4 px-6 pb-6",children:[o.jsx("div",{className:"divide-token-border-light -mt-4 flex flex-col gap-2 divide-y",children:t.map(i=>o.jsxs("button",{type:"button",onClick:()=>{a(i.id)},className:"flex w-full items-center gap-3 rounded-lg px-4 py-3 text-start",children:[s===i.id?o.jsx(Q6,{className:"text-token-text-primary h-6 w-6"}):o.jsx(s5e,{className:"text-token-text-primary h-6 w-6"}),o.jsxs("div",{className:"flex flex-1 flex-col items-start",children:[o.jsx("span",{className:"text-token-text-primary flex items-center gap-2 text-base",children:i.title}),o.jsx("span",{className:"text-token-text-secondary text-sm leading-tight font-normal",children:i.subtitle})]})]},i.id))}),o.jsx(VA,{onClick:()=>{s&&(su({store:n,fields:{items:n.items,shippingMethodId:s},errorMessage:r.formatMessage(qr.cartUpdateShippingAddressErrorMessage),source:"user"}),e())}})]})}function yIt(){var u;const t=q(),e=i2t(t),n=e.items[0],r=kht("overview"),{currentPane:s,pushPane:a,popPane:i,resetPanes:l}=r,c=ie(t,"3375735072");return g.useEffect(()=>{e.isCheckoutOpen||l()},[e.isCheckoutOpen,l]),!c||!e.isCheckoutOpen||!n||!((u=e.cartMetadata)!=null&&u.clientThreadId)?null:o.jsx(tt,{testId:"modal-shopping-checkout",isOpen:!0,hideSeparator:!0,showCloseButton:e.cartStatus!=="submitting",size:"large",type:"success",className:"min-h-36 max-w-[550px]!",headerClassName:"sm:p-0 sm:px-6 sm:py-4 items-center sm:-me-1",contentClassName:"!p-0 pt-3",rootClassName:"z-40",shouldIgnoreClickOutside:!0,onEscapeKeyDown:d=>{d.preventDefault(),Nk(e,"closed")},onClose:()=>{Nk(e,"closed")},title:o.jsx(Eht,{currentPane:s,popPane:i,paneStack:r,merchant:e.merchant,PANES:R6t}),children:o.jsx(i6t,{items:[n],store:e,clientThreadId:e.cartMetadata.clientThreadId,children:({loadingCartSession:d,cartLoadError:f})=>o.jsx(L6t,{paneStack:r,pushPane:a,item:n,store:e,loadingCartSession:d,cartLoadError:f,resetPanes:l})})})}function L6t({paneStack:t,pushPane:e,item:n,store:r,loadingCartSession:s,cartLoadError:a,resetPanes:i}){var v,y;const[l,c]=g.useState(!wd(r,r.shippingAddress)),[u,d]=g.useState(!((v=r.paymentDetails)!=null&&v.complete)),[f,m]=g.useState(null),p=k3({namespace:"shopping_checkout"}),h=(s||u||l)&&!a;return g.useEffect(()=>{var x,b,_,w,S;r.isCheckoutOpen&&!h&&r.cartMetadata&&r.cartId&&(B.logEventWithStatsig("product_checkout","product_checkout",P(C({},Pt(r.cartMetadata)),{checkout_id:r.cartId,merchant_name:(x=r.merchant)==null?void 0:x.title,merchant_url:(b=r.merchant)==null?void 0:b.url,hadSavedPaymentMethod:!!((_=r.paymentDetails)!=null&&_.complete),items:[{quantity:n.quantity.toString(),price:n.price,variants:n.variant,product_id:n.id,product_title:n.title}],action:"shown"})),p.endBlock("shown",{context:{merchant_id:(w=r.merchant)==null?void 0:w.externalId,merchant_network_id:(S=r.merchant)==null?void 0:S.networkId,cart_total:r.grandTotal.value}}))},[(y=r.cartMetadata)==null?void 0:y.clientThreadId,r.isCheckoutOpen,r.cartId,h]),o.jsx("div",{className:"relative w-full",children:o.jsx(Mht,{className:"min-h-[755px] w-full",paneStack:t,useDelayedEnteringPane:!0,alwaysMountedPanes:["paymentMethod","overview","shippingAddress"],renderPane:x=>{switch(x){case"overview":return o.jsx(h6t,{item:n,store:r,pushPane:b=>{r.setErrors([]),m(null),e(b)},loadingCartSession:s,loadingPayment:u,loadingAddress:l,cartLoadError:a,stripeLoadingError:f,merchant:r.merchant,footerMessage:r.footerMessage,isCurrentPane:t.currentPane==="overview"});case"paymentMethod":return!s&&!a&&o.jsx(N6t,{store:r,pushPane:e,resetPanes:i,loadingPayment:u,setLoadingPayment:d,loadingAddress:l,setStripeLoadingError:m,isCurrentPane:t.currentPane==="paymentMethod"});case"shippingAddress":return!s&&!a&&o.jsx(P6t,{store:r,resetPanes:i,setLoadingAddress:c,loadingPayment:u,setStripeLoadingError:m,isCurrentPane:t.currentPane==="shippingAddress"});case"shippingMethod":return o.jsx(I6t,{shippingMethods:r.shippingOptions,store:r,resetPanes:i})}}})})}const R6t={overview:{name:{id:"shopping-checkout.pane.overview.title",defaultMessage:"Overview",description:"Title for shopping checkout overview pane"}},shippingAddress:{name:{id:"shopping-checkout.pane.shippingAddress.title",defaultMessage:"Add Shipping Address",description:"Title for shopping checkout shipping address pane"}},shippingMethod:{name:{id:"shopping-checkout.pane.shippingMethod.title",defaultMessage:"Select Shipping Method",description:"Title for shopping checkout shipping method pane"}},paymentMethod:{name:{id:"shopping-checkout.pane.paymentMethod.title",defaultMessage:"Add payment method",description:"Title for shopping checkout payment method pane"}}};function xIt(){"use forget";const t=ee.c(7),e=q();let n;t[0]!==e?(n=Et(e),t[0]=e,t[1]=n):n=t[1];const r=n,s=Wt(),a=n7e();let i,l;t[2]!==r||t[3]!==a||t[4]!==s?(i=()=>{var d;if(!s||!r)return;if(!s.email&&!s.phone_number){ve.addError(new Error("User should have either email or phone number, but none are present: ".concat(JSON.stringify(s))));return}if(a===hE.control)return;const c=s.email?{email:s.email}:{phoneNumber:(d=s.phone_number)!=null?d:""},u=P(C({name:s.name},c),{picture:s.picture,timestamp:Date.now()});or.setCookie(ir.UserInfo,JSON.stringify(u),{maxAge:2592e3})},l=[s,r,a],t[2]=r,t[3]=a,t[4]=s,t[5]=i,t[6]=l):(i=t[5],l=t[6]),g.useEffect(i,l)}const vW="3747963938802455",rd="1105138088231444",O6t="Lead",D6t="AddToCart",F6t={"":"",[Re.GO]:"FindLocation",[Re.PLUS]:"AddToWishlist",[Re.PRO]:"CustomizeProduct",[Re.SELF_SERVE_BUSINESS]:"Contact","go-secondary":"","plus-secondary":"","pro-secondary":"","team-secondary":"","chatgpt-team-get-started":"Search","chatgpt-team-contact-sales":"ViewContent"},B6t={"":"",[Re.GO]:"",[Re.PLUS]:"",[Re.PRO]:"",[Re.SELF_SERVE_BUSINESS]:"","go-secondary":"","plus-secondary":"","pro-secondary":"","team-secondary":"","chatgpt-team-get-started":"","chatgpt-team-contact-sales":""};function bIt(){const{isUnauthenticated:t,isLoading:e}=An(),{eligible:n,isLoading:r,markAsViewed:s}=$e(We.hasSeenMaverick),a=Wt(),{data:i,isLoading:l}=ut(P(C({},Fd),{staleTime:4*60*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})),c=i?i.is_consent_required?!!i.consent_marketing:!0:!1;return{eligible:a&&n&&c&&!t,isLoading:r||e||l,markAsViewed:s}}function CIt({key:t,onTracked:e,allowUnauthenticatedTracking:n=!1}){const r=Wt(),{cspScriptNonce:s}=g.useContext(fc);return!window||!r&&!n||!s?()=>{}:()=>{const a=Zu(Ku.Fbclid),i=a?F6t[t]:B6t[t];if(!i)return;const l=Ime(s);l("set","autoConfig","false",rd),l("init",rd),l("dataProcessingOptions",["LDU"],0,0),a?l("trackSingle",rd,i,{fbclid:a}):l("trackSingle",rd,i),e()}}function _It(){const t=Wt(),{cspScriptNonce:e}=g.useContext(fc),n=q(),s=Fs(n).eligibleNoCookieConsumerMarketing.isUserEligibleForMaverick,{eligible:a,markAsViewed:i}=$e(We.hasSeenMaverickCapi);return!window||!t||!e?()=>{}:()=>{const l=Zu(Ku.Fbclid);if(!l&&!s)return;const c=Ime(e);l&&(c("init",vW),c("dataProcessingOptions",["LDU"],0,0),c("trackSingle",vW,O6t,{fbclid:l})),a&&(c("init",rd),c("dataProcessingOptions",["LDU"],0,0),c("trackSingle",rd,D6t,{fbclid:l!=null?l:""}),i())}}function Ime(t){return!window||!document?()=>{}:(function(e,n,r,s,a,i,l){e.fbq||(a=e.fbq=function(){a.callMethod?a.callMethod(...arguments):a.queue.push(arguments)},e._fbq||(e._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],i=n.createElement(r),i.async=!0,i.src=s,i.nonce=t,l=n.getElementsByTagName(r)[0],l==null||l.parentNode.insertBefore(i,l))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),window.fbq)}const yW="pioneer-script-ouia2h4";function wIt(){const{isUnauthenticated:t,isLoading:e}=An(),{eligible:n,isLoading:r,markAsViewed:s}=$e(We.hasSeenPioneer),a=Wt(),{data:i,isLoading:l}=ut(P(C({},Fd),{staleTime:4*60*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})),c=i?i.is_consent_required?!!i.consent_marketing:!0:!1;return{eligible:a&&a.created>Date.now()/1e3-24*60*60&&n&&c&&!t,isLoading:r||e||l,markAsViewed:s}}function U6t(){return window.dataLayer=window.dataLayer||[],function(){window.dataLayer.push(arguments)}}function H6t(){const t=window.gtag,e=window.dataLayer,n=Array.isArray(e)&&e.some(r=>Array.isArray(r)&&r[0]==="js");return typeof t=="function"&&n}function V6t(){["IDE","ANID","NID"].forEach(e=>{try{document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;domain=."+window.location.hostname}catch(n){Le.logEvent("chatgpt_pioneer_cookie_error")}})}async function $6t(t){if(t)try{const n=new TextEncoder().encode(t);return await crypto.subtle.digest("SHA-256",n).then(r=>Array.from(new Uint8Array(r)).map(s=>s.toString(16).padStart(2,"0")).join(""))}catch(e){Le.logEvent("chatgpt_pioneer_email_error")}}function Lme(t,e){if(!document.getElementById(yW)){const s=document.createElement("script");s.id=yW,s.src="https://www.googletagmanager.com/gtag/js?id=".concat(e),s.nonce=t,s.async=!0,document.body.appendChild(s)}const r=U6t();return H6t()||r("js",new Date),r}const q6t={"":"",[Re.GO]:"AW-16679965591/WLICCMbBkYUbEJen0JE-",[Re.PLUS]:"AW-16679965591/_IcwCPrEnYQbEJen0JE-",[Re.PRO]:"AW-16679965591/vEXOCMPBkYUbEJen0JE-",[Re.SELF_SERVE_BUSINESS]:"AW-16679965591/GuBcCP3CkYUbEJen0JE-","go-secondary":"AW-16678058309/OcdrCOT1g5kbEMXy25A-","plus-secondary":"AW-16678058309/ekpFCMui9ZgbEMXy25A-","pro-secondary":"AW-16678058309/CuIdCPne8JgbEMXy25A-","team-secondary":"AW-16678058309/nwKZCKzt8pgbEMXy25A-","chatgpt-team-get-started":"AW-16679965591/qdZOCN-224sbEJen0JE-","chatgpt-team-contact-sales":"AW-16679965591/X1ZvCLPptJQbEJen0JE-"},z6t={"":"",[Re.GO]:"AW-16679965591/WLICCMbBkYUbEJen0JE-",[Re.PLUS]:"AW-16679965591/_IcwCPrEnYQbEJen0JE-",[Re.PRO]:"AW-16679965591/vEXOCMPBkYUbEJen0JE-",[Re.SELF_SERVE_BUSINESS]:"AW-16679965591/GuBcCP3CkYUbEJen0JE-","go-secondary":"AW-16678058309/OcdrCOT1g5kbEMXy25A-","plus-secondary":"AW-16678058309/ekpFCMui9ZgbEMXy25A-","pro-secondary":"AW-16678058309/CuIdCPne8JgbEMXy25A-","team-secondary":"AW-16678058309/nwKZCKzt8pgbEMXy25A-","chatgpt-team-get-started":"","chatgpt-team-contact-sales":""},xW=[["AW-16678058309","0kStCJHMl9QZEMXy25A-"],["AW-16679965591","1dOfCL2W9ZYbEJen0JE-"]];function SIt({key:t,onTracked:e,allowUnauthenticatedTracking:n=!1}){const r=Wt(),{cspScriptNonce:s}=g.useContext(fc);return!window||!r&&!n||!s?()=>{}:()=>{const a=Zu(Ku.Gclid),i=a?q6t[t]:z6t[t];if(!i)return;const l=Lme(s,"AW-16679965591");l("config","AW-16679965591",{send_page_view:!1,conversion_linker:!1,allow_ad_personalization_signals:!1,restricted_data_processing:!0}),a?l("event","conversion",{send_to:i,user_data:{gclid:a}}):l("event","conversion",{send_to:i}),e()}}function kIt(){const t=Wt(),{cspScriptNonce:e}=g.useContext(fc),n=q(),s=Fs(n).eligibleNoCookieConsumerMarketing.isUserEligibleForPioneer;return!window||!t||!e?()=>{}:async()=>{const a=Zu(Ku.Gclid);if(!a&&!s)return;const i=await $6t(t.email),[l]=xW[0],c=Lme(e,l);for(const[u,d]of xW)c("config",u,{send_page_view:!1,conversion_linker:!0,restricted_data_processing:!0}),V6t(),c("set","user_data",{sha256_email_address:i}),c("event","conversion",{send_to:"".concat(u,"/").concat(d),user_data:{sha256_email_address:i,gclid:a!=null?a:void 0}});Le.logEvent("chatgpt_pioneer_conv")}}function MIt(){const{isUnauthenticated:t,isLoading:e}=An(),{eligible:n,isLoading:r,markAsViewed:s}=$e(We.hasSeenStratos),a=Wt(),{data:i,isLoading:l}=ut(P(C({},Fd),{staleTime:4*60*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})),c=i?i.is_consent_required?!!i.consent_marketing:!0:!1;return{eligible:a&&n&&c&&!t,isLoading:r||e||l,markAsViewed:s}}function EIt(){const t=Wt(),{cspScriptNonce:e}=g.useContext(fc),n=q(),s=Fs(n).eligibleNoCookieConsumerMarketing.isUserEligibleForStratos;return!window||!t||!e?()=>{}:()=>{const a=Zu(Ku.Tiktokclid);if(!(!a&&!s))try{const i=G6t(e);i.load("D0V58BRC77UC6ES2LGJG",{limited_data_use:!0}),i.page(),i.identify({external_id:a}),i.track("AddToCart")}catch(i){ve.addError(i,{message:"Failed to track Stratos conversion"})}}}function G6t(t){return!window||!document?()=>{}:(function(e,n,r){e.TiktokAnalyticsObject=r;var s=e[r]=e[r]||[];s.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],s.setAndDefer=function(i,l){i[l]=function(){i.push([l].concat(Array.prototype.slice.call(arguments,0)))}};for(var a=0;a<s.methods.length;a++)s.setAndDefer(s,s.methods[a]);s.instance=function(i){for(var l=s._i[i]||[],c=0;c<s.methods.length;c++)s.setAndDefer(l,s.methods[c]);return l},s.load=function(i,l){var c="https://analytics.tiktok.com/i18n/pixel/events.js";l&&l.partner,s._i=s._i||{},s._i[i]=[],s._i[i]._u=c,s._t=s._t||{},s._t[i]=+new Date,s._o=s._o||{},s._o[i]=l||{},l=n.createElement("script"),l.type="text/javascript",l.async=!0,l.src=c+"?sdkid="+i+"&lib="+r,l.nonce=t,i=n.getElementsByTagName("script")[0],i.parentNode.insertBefore(l,i)}}(window,document,"ttq"),window.ttq)}function jIt(){const{isUnauthenticated:t,isLoading:e}=An(),{eligible:n,isLoading:r,markAsViewed:s}=$e(We.hasSeenTrailBlazer),a=Wt(),{data:i,isLoading:l}=ut(P(C({},Fd),{staleTime:4*60*60*1e3,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})),c=i?i.is_consent_required?!!i.consent_marketing:!0:!1;return{eligible:a&&n&&c&&!t,isLoading:r||e||l,markAsViewed:s}}const W6t={"":"",[Re.GO]:"FindLocation",[Re.PLUS]:"AddToWishlist",[Re.PRO]:"CustomizeProduct",[Re.SELF_SERVE_BUSINESS]:"Contact","go-secondary":"","plus-secondary":"","pro-secondary":"","team-secondary":"","chatgpt-team-get-started":"PageVisit","chatgpt-team-contact-sales":"SignUp"},Z6t={"":"",[Re.GO]:"",[Re.PLUS]:"",[Re.PRO]:"",[Re.SELF_SERVE_BUSINESS]:"","go-secondary":"","plus-secondary":"","pro-secondary":"","team-secondary":"","chatgpt-team-get-started":"","chatgpt-team-contact-sales":""};function TIt({key:t,onTracked:e,allowUnauthenticatedTracking:n=!1}){const r=Wt(),{cspScriptNonce:s}=g.useContext(fc);return!window||!r&&!n||!s?()=>{}:()=>{const a=Zu(Ku.Rdtcid),i=a?W6t[t]:Z6t[t];if(!i)return;const l=Rme(s);l("init","a2_f1c16ccvsrrl",{dpm:"LDU",dpcc:"ALL",dprc:"ALL"}),a?l("track",i,{rdt_cid:a}):l("track",i),e()}}function NIt(){const t=Wt(),{cspScriptNonce:e}=g.useContext(fc),n=q(),s=Fs(n).eligibleNoCookieConsumerMarketing.isUserEligibleForTrailBlazer;return!window||!t||!e?()=>{}:()=>{const a=Zu(Ku.Rdtcid);if(!a&&!s)return;const i=Rme(e);i("init","a2_f1c16ccvsrrl",{email:t.email}),i("track","Lead",{rdt_cid:a!=null?a:void 0})}}function Rme(t){return!window||!document?()=>{}:(function(e,n){if(!e.rdt){var r=e.rdt=function(){r.sendEvent?r.sendEvent(...arguments):r.callQueue.push(arguments)};r.callQueue=[];var s=n.createElement("script");s.src="https://www.redditstatic.com/ads/pixel.js",s.async=!0,s.nonce=t;var a=n.getElementsByTagName("script")[0];a==null||a.parentNode.insertBefore(s,a)}}(window,document),window.rdt)}const K6t={type:"spring",stiffness:300,damping:30,mass:1},Y6t={transition:K6t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},Q6t={setFocusedObject:t=>{yh.setState({focusedObject:t}),IOe()},close(){yh.setState({focusedObject:null})}},J6t=({className:t})=>o.jsxs(Yr,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:t,children:[o.jsx("path",{d:"M11.5047 10C12.8828 10 14 11.1172 14 12.4953C14 15.2919 10.9404 14.9905 9.00947 14.9905C9.00947 13.0596 8.70813 10 11.5047 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),o.jsx("path",{d:"M12 9.5C13.8983 6.79576 16.0839 4.85949 18.8983 3.40128C19.3829 3.15019 19.9712 3.25691 20.3571 3.64286V3.64286C20.7431 4.0288 20.8498 4.61706 20.5987 5.10168C19.1405 7.91612 17.2042 10.1017 14.5 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),o.jsx("path",{d:"M12.0003 21.0003C11.5003 21.0003 8.93732 20.1297 6.71782 17.9102C3.00784 14.2002 2.05809 9.13491 4.5965 6.5965C6.68218 4.51082 10.4738 4.78002 13.8179 7.00031M17.1066 10.0003C19.9927 13.3315 21.2146 16.7289 19.0003 18.5003C17.3415 19.8274 15.2424 18.2927 14.0176 17.1097",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),X6t=({className:t})=>o.jsx(Yr,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:t,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.70711 2.29289C8.09763 2.68342 8.09763 3.31658 7.70711 3.70711L6.41421 5H13.5C17.6421 5 21 8.35786 21 12.5C21 16.6421 17.6421 20 13.5 20H9C8.44772 20 8 19.5523 8 19C8 18.4477 8.44772 18 9 18H13.5C16.5376 18 19 15.5376 19 12.5C19 9.46243 16.5376 7 13.5 7H6.41421L7.70711 8.29289C8.09763 8.68342 8.09763 9.31658 7.70711 9.70711C7.31658 10.0976 6.68342 10.0976 6.29289 9.70711L3.29289 6.70711C2.90237 6.31658 2.90237 5.68342 3.29289 5.29289L6.29289 2.29289C6.68342 1.90237 7.31658 1.90237 7.70711 2.29289Z",fill:"currentColor"})}),e5t=({className:t})=>o.jsx(Yr,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:t,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2929 2.29289C16.6834 1.90237 17.3166 1.90237 17.7071 2.29289L20.7071 5.29289C21.0976 5.68342 21.0976 6.31658 20.7071 6.70711L17.7071 9.70711C17.3166 10.0976 16.6834 10.0976 16.2929 9.70711C15.9024 9.31658 15.9024 8.68342 16.2929 8.29289L17.5858 7H10.5C7.46243 7 5 9.46243 5 12.5C5 15.5376 7.46243 18 10.5 18H15C15.5523 18 16 18.4477 16 19C16 19.5523 15.5523 20 15 20H10.5C6.35786 20 3 16.6421 3 12.5C3 8.35786 6.35786 5 10.5 5H17.5858L16.2929 3.70711C15.9024 3.31658 15.9024 2.68342 16.2929 2.29289Z",fill:"currentColor"})}),AIt=({className:t})=>o.jsx(Yr,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:t,children:o.jsx("path",{d:"M3 18H4.17157C4.70201 18 5.21071 17.7893 5.58579 17.4142L15.4142 7.58579C15.7893 7.21071 16.298 7 16.8284 7H19M3 6H4.17157C4.70201 6 5.21071 6.21071 5.58579 6.58579L8 9M19 17H16.8284C16.298 17 15.7893 16.7893 15.4142 16.4142L14 15M18 4L21 7L18 10M18 14L21 17L18 20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),PIt=({className:t})=>o.jsx(Yr,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:t,children:o.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),IIt=({className:t})=>o.jsx(Yr,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:t,children:o.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),LIt=({className:t})=>o.jsx(Yr,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:t,children:o.jsx("rect",{x:"6",y:"2",width:"12",height:"20",rx:"2",stroke:"currentColor",strokeWidth:"2"})}),t5t=({className:t})=>o.jsx(Yr,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",className:t,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4C13 3.44772 13.4477 3 14 3H20C20.5523 3 21 3.44772 21 4V10C21 10.5523 20.5523 11 20 11C19.4477 11 19 10.5523 19 10V6.41421L15.2071 10.2071C14.8166 10.5976 14.1834 10.5976 13.7929 10.2071C13.4024 9.81658 13.4024 9.18342 13.7929 8.79289L17.5858 5H14C13.4477 5 13 4.55228 13 4ZM4 13C4.55228 13 5 13.4477 5 14V17.5858L8.79289 13.7929C9.18342 13.4024 9.81658 13.4024 10.2071 13.7929C10.5976 14.1834 10.5976 14.8166 10.2071 15.2071L6.41421 19H10C10.5523 19 11 19.4477 11 20C11 20.5523 10.5523 21 10 21H4C3.44772 21 3 20.5523 3 20V14C3 13.4477 3.44772 13 4 13Z",fill:"currentColor"})});var Ome=["PageUp","PageDown"],Dme=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fme={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},um="Slider",[$k,n5t,r5t]=iM(um),[Bme]=Bu(um,[r5t]),[s5t,o7]=Bme(um),Ume=g.forwardRef((t,e)=>{const A=t,{name:n,min:r=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:h}=A,v=de(A,["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"]),y=g.useRef(new Set),x=g.useRef(0),_=i==="horizontal"?a5t:o5t,[w=[],S]=Hi({prop:d,defaultProp:u,onChange:I=>{var O;(O=[...y.current][x.current])==null||O.focus(),f(I)}}),k=g.useRef(w);function M(I){const L=d5t(w,I);j(I,L)}function E(I){j(I,x.current)}function T(){const I=k.current[x.current];w[x.current]!==I&&m(w)}function j(I,L,{commit:O}={commit:!1}){const R=g5t(a),H=h5t(Math.round((I-r)/a)*a+r,R),V=Qg(H,[r,s]);S((z=[])=>{const $=c5t(z,V,L);if(p5t($,c*a)){x.current=$.indexOf(V);const D=String($)!==String(z);return D&&O&&m($),D?$:z}else return z})}return o.jsx(s5t,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:x,thumbs:y.current,values:w,orientation:i,form:h,children:o.jsx($k.Provider,{scope:t.__scopeSlider,children:o.jsx($k.Slot,{scope:t.__scopeSlider,children:o.jsx(_,P(C({"aria-disabled":l,"data-disabled":l?"":void 0},v),{ref:e,onPointerDown:Nt(v.onPointerDown,()=>{l||(k.current=w)}),min:r,max:s,inverted:p,onSlideStart:l?void 0:M,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&j(r,0,{commit:!0}),onEndKeyDown:()=>!l&&j(s,w.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:L})=>{if(!l){const H=Ome.includes(I.key)||I.shiftKey&&Dme.includes(I.key)?10:1,V=x.current,z=w[V],$=a*H*L;j(z+$,V,{commit:!0})}}}))})})})});Ume.displayName=um;var[Hme,Vme]=Bme(um,{startEdge:"left",endEdge:"right",size:"width",direction:1}),a5t=g.forwardRef((t,e)=>{const _=t,{min:n,max:r,dir:s,inverted:a,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u}=_,d=de(_,["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),[f,m]=g.useState(null),p=Fn(e,w=>m(w)),h=g.useRef(),v=_6(s),y=v==="ltr",x=y&&!a||!y&&a;function b(w){const S=h.current||f.getBoundingClientRect(),k=[0,S.width],E=$A(k,x?[n,r]:[r,n]);return h.current=S,E(w-S.left)}return o.jsx(Hme,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:o.jsx($me,P(C({dir:v,"data-orientation":"horizontal"},d),{ref:p,style:P(C({},d.style),{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:w=>{const S=b(w.clientX);i==null||i(S)},onSlideMove:w=>{const S=b(w.clientX);l==null||l(S)},onSlideEnd:()=>{h.current=void 0,c==null||c()},onStepKeyDown:w=>{const k=Fme[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:k?-1:1})}}))})}),o5t=g.forwardRef((t,e)=>{const v=t,{min:n,max:r,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c}=v,u=de(v,["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),d=g.useRef(null),f=Fn(e,d),m=g.useRef(),p=!s;function h(y){const x=m.current||d.current.getBoundingClientRect(),b=[0,x.height],w=$A(b,p?[r,n]:[n,r]);return m.current=x,w(y-x.top)}return o.jsx(Hme,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx($me,P(C({"data-orientation":"vertical"},u),{ref:f,style:P(C({},u.style),{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:y=>{const x=h(y.clientY);a==null||a(x)},onSlideMove:y=>{const x=h(y.clientY);i==null||i(x)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:y=>{const b=Fme[p?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:b?-1:1})}}))})}),$me=g.forwardRef((t,e)=>{const f=t,{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c}=f,u=de(f,["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"]),d=o7(um,n);return o.jsx(mn.span,P(C({},u),{ref:e,onKeyDown:Nt(t.onKeyDown,m=>{m.key==="Home"?(i(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):Ome.concat(Dme).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Nt(t.onPointerDown,m=>{const p=m.target;p.setPointerCapture(m.pointerId),m.preventDefault(),d.thumbs.has(p)?p.focus():r(m)}),onPointerMove:Nt(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:Nt(t.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&(p.releasePointerCapture(m.pointerId),a(m))})}))}),qme="SliderTrack",zme=g.forwardRef((t,e)=>{const a=t,{__scopeSlider:n}=a,r=de(a,["__scopeSlider"]),s=o7(qme,n);return o.jsx(mn.span,P(C({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},r),{ref:e}))});zme.displayName=qme;var qk="SliderRange",Gme=g.forwardRef((t,e)=>{const m=t,{__scopeSlider:n}=m,r=de(m,["__scopeSlider"]),s=o7(qk,n),a=Vme(qk,n),i=g.useRef(null),l=Fn(e,i),c=s.values.length,u=s.values.map(p=>Zme(p,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(mn.span,P(C({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},r),{ref:l,style:P(C({},t.style),{[a.startEdge]:d+"%",[a.endEdge]:f+"%"})}))});Gme.displayName=qk;var zk="SliderThumb",Wme=g.forwardRef((t,e)=>{const n=n5t(t.__scopeSlider),[r,s]=g.useState(null),a=Fn(e,l=>s(l)),i=g.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(i5t,P(C({},t),{ref:a,index:i}))}),i5t=g.forwardRef((t,e)=>{const b=t,{__scopeSlider:n,index:r,name:s}=b,a=de(b,["__scopeSlider","index","name"]),i=o7(zk,n),l=Vme(zk,n),[c,u]=g.useState(null),d=Fn(e,_=>u(_)),f=c?i.form||!!c.closest("form"):!0,m=sQ(c),p=i.values[r],h=p===void 0?0:Zme(p,i.min,i.max),v=u5t(r,i.values.length),y=m==null?void 0:m[l.size],x=y?f5t(y,h,l.direction):0;return g.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:"calc(".concat(h,"% + ").concat(x,"px)")},children:[o.jsx($k.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(mn.span,P(C({role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0},a),{ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:Nt(t.onFocus,()=>{i.valueIndexToChangeRef.current=r})}))}),f&&o.jsx(l5t,{name:s!=null?s:i.name?i.name+(i.values.length>1?"[]":""):void 0,form:i.form,value:p},r)]})});Wme.displayName=zk;var l5t=t=>{const a=t,{value:e}=a,n=de(a,["value"]),r=g.useRef(null),s=cM(e);return g.useEffect(()=>{const i=r.current,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&u){const d=new Event("input",{bubbles:!0});u.call(i,e),i.dispatchEvent(d)}},[s,e]),o.jsx("input",P(C({style:{display:"none"}},n),{ref:r,defaultValue:e}))};function c5t(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,a)=>s-a)}function Zme(t,e,n){const a=100/(n-e)*(t-e);return Qg(a,[0,100])}function u5t(t,e){return e>2?"Value ".concat(t+1," of ").concat(e):e===2?["Minimum","Maximum"][t]:void 0}function d5t(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function f5t(t,e,n){const r=t/2,a=$A([0,50],[0,r]);return(r-a(e)*n)*n}function m5t(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function p5t(t,e){if(e>0){const n=m5t(t);return Math.min(...n)>=e}return!0}function $A(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function g5t(t){return(String(t).split(".")[1]||"").length}function h5t(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Kme=Ume,Yme=zme,Qme=Gme,Jme=Wme;function RIt({imageAsset:t,mode:e,setMode:n,clientThreadId:r,messageId:s,cursorWidth:a,setCursorWidth:i,inpaintingDrawingState:l,isLoadingNewImage:c}){const u=kt(r),{canUndoDrawing:d,undoDrawing:f,canRedoDrawing:m,redoDrawing:p,clearAllDrawings:h}=l,v=Z();return o.jsxs(Se.div,P(C({className:"flex h-16 w-full justify-between px-4"},Y6t),{children:[o.jsx("div",{className:"flex items-center",children:e==="inpaint"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:U("flex items-center gap-3",c&&"opacity-50"),children:[o.jsx(CW,{className:"h-[11px] w-[11px]"}),o.jsxs(Kme,{className:"relative flex w-[90px] items-center",min:32,max:240,step:.01,value:[a],onValueChange:y=>i(y[0]),disabled:c,children:[o.jsx(Yme,{className:"bg-token-text-quaternary relative h-[2px] grow",children:o.jsx(Qme,{className:"bg-token-text-secondary absolute h-full"})}),o.jsx(Jme,{className:"bg-token-text-secondary block h-[11px] w-[11px] rounded-full"})]}),o.jsx(CW,{className:"h-6 w-6"})]}),o.jsx(bW,{}),o.jsx(mi,{disabled:!d||c,onClick:f,children:o.jsx(X6t,{})}),o.jsx(mi,{disabled:!m||c,onClick:p,children:o.jsx(e5t,{})}),o.jsx(bW,{}),o.jsx(mi,{disabled:!d||c,onClick:h,children:o.jsx(N,{id:"imageEditorControls.clearSelectionButtonLabel",defaultMessage:"Clear selection"})})]})}),o.jsx("div",{className:"flex items-center",children:e==="inpaint"?o.jsx(mi,{onClick:()=>n("default"),disabled:c,children:o.jsx(N,{id:"imageEditorControls.cancelButtonLabel",defaultMessage:"Cancel"})}):o.jsxs(o.Fragment,{children:[o.jsx(y5t,{imageAsset:t,setMode:n,messageId:s,serverThreadId:u}),o.jsx(mi,{tooltip:v.formatMessage({id:"imageEditorControls.downloadButtonTooltip",defaultMessage:"Save"}),onClick:()=>eut(t,u,s),children:o.jsx(S3,{})}),o.jsx(v5t,{prompt:W1e(t),children:o.jsx(mi,{tooltip:v.formatMessage({id:"imageEditorControls.promptButtonTooltip",defaultMessage:"Prompt"}),children:o.jsx(Hs,{})})}),o.jsx(mi,{tooltip:v.formatMessage({id:"imageEditorControls.closeButtonTooltip",defaultMessage:"Close"}),onClick:Q6t.close,children:o.jsx(lr,{className:"icon-lg"})})]})})]}))}function v5t({prompt:t,children:e}){const[n,r]=g.useState(!1),s=Z(),a=Tt();return o.jsx(z4,{sideOffset:4,alignAgainstAnchor:"end",triggerButton:o.jsx("div",{className:"group",children:e}),className:"z-10",size:"none",children:o.jsxs("div",{className:"flex max-w-sm flex-col gap-3 p-4",children:[o.jsx("div",{className:"text-token-text-secondary",children:o.jsx(N,{id:"imageEditorControls.promptPopoverLabel",defaultMessage:"Prompt"})}),o.jsx("div",{children:t}),o.jsx("div",{children:o.jsx(oe,{color:"secondary",disabled:n,onClick:i=>{r(!0),Uo(t,a,i),setTimeout(()=>r(!1),2e3)},icon:Y0,children:n?s.formatMessage({id:"imageEditorControls.copiedButtonLabel",defaultMessage:"Copied!"}):s.formatMessage({id:"imageEditorControls.copyButtonLabel",defaultMessage:"Copy"})})})]})})}function mi({children:t,tooltip:e,disabled:n,onClick:r}){const s=o.jsx("button",{className:U("hover:bg-token-main-surface-tertiary group-radix-state-open:bg-token-main-surface-tertiary rounded-sm p-2 font-semibold",n?"text-token-text-quaternary":"text-token-text-secondary"),disabled:n,onClick:r,children:t});return e!=null?o.jsx(wt,{label:e,children:s}):s}function OIt({onClose:t}){const e=Z();return o.jsx(mi,{tooltip:e.formatMessage({id:"imageEditorControls.closeButtonTooltip",defaultMessage:"Close"}),onClick:t,children:o.jsx(lr,{className:"icon-lg"})})}function y5t({imageAsset:t,setMode:e,messageId:n,serverThreadId:r,disabled:s}){const a=Z(),i=$e(We.DalleEditingOnboarding),l=i.eligible&&!i.isLoading,c=o.jsx(mi,{tooltip:l?void 0:a.formatMessage({id:"imageEditorControls.inpaintButtonTooltip",defaultMessage:"Select"}),onClick:()=>{var u,d,f,m,p,h,v,y,x,b,_,w,S,k,M,E,T,j,A,I,L,O;e("inpaint"),Le.logEvent("chatgpt_dalle_inpaint_click",null,{sourceOperation:(f=(d=(u=t.metadata)==null?void 0:u.dalle)==null?void 0:d.edit_op)!=null?f:"none",hasParent:((p=(m=t.metadata)==null?void 0:m.dalle)==null?void 0:p.parent_gen_id)!=null?"true":"false",model:"dalle"}),B.logEvent("chatgpt_dalle_inpaint_click",{conversationId:r,messageId:n,generationId:(v=(h=t.metadata)==null?void 0:h.dalle)==null?void 0:v.gen_id,fileId:bs(t.asset_pointer),parentGenerationId:(x=(y=t.metadata)==null?void 0:y.dalle)==null?void 0:x.parent_gen_id,sourceOperation:(_=(b=t.metadata)==null?void 0:b.dalle)==null?void 0:_.edit_op,model:"dalle"}),Le.logEvent("chatgpt_image_inpaint_click",null,{sourceOperation:(k=(S=(w=t.metadata)==null?void 0:w.dalle)==null?void 0:S.edit_op)!=null?k:"none",hasParent:((E=(M=t.metadata)==null?void 0:M.dalle)==null?void 0:E.parent_gen_id)!=null?"true":"false",model:"dalle"}),B.logEvent("chatgpt_image_inpaint_click",{conversationId:r,messageId:n,generationId:(j=(T=t.metadata)==null?void 0:T.dalle)==null?void 0:j.gen_id,fileId:bs(t.asset_pointer),parentGenerationId:(I=(A=t.metadata)==null?void 0:A.dalle)==null?void 0:I.parent_gen_id,sourceOperation:(O=(L=t.metadata)==null?void 0:L.dalle)==null?void 0:O.edit_op,model:"dalle"})},disabled:s,children:o.jsx(J6t,{})});return l?o.jsx(Zf,{announcementKey:We.DalleEditingOnboarding,show:!0,side:"bottom",sideOffset:0,title:a.formatMessage({id:"imageEditorNUX.title",defaultMessage:"Select area of the image to edit"}),description:a.formatMessage({id:"imageEditorNUX.description",defaultMessage:"Highlight the area and describe changes in chat."}),onDismiss:i.markAsViewed,children:o.jsx("div",{children:c})}):c}var xK;const bW=Ge.div(xK||(xK=qe(["mx-3 w-[1px] h-6 bg-token-border-default"])));var bK;const CW=Ge.div(bK||(bK=qe(["rounded-full border-2 border-token-text-secondary"]))),x5t=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.50905 16.2629L8.63503 16.3118L8.91237 16.4465C9.18007 16.5704 9.41683 16.6631 9.60866 16.7278C9.75081 16.7757 9.85219 16.8027 9.91628 16.8176L10.0003 16.8352L10.1341 16.8489C10.4371 16.9109 10.6653 17.1789 10.6653 17.5002C10.6652 17.8216 10.4371 18.0897 10.1341 18.1516L10.0003 18.1653L9.8196 18.1516C9.62705 18.1248 9.40252 18.0612 9.18386 17.9876C8.94363 17.9066 8.66213 17.7958 8.3528 17.6526L8.03542 17.4993L7.92116 17.426C7.67899 17.234 7.59677 16.8924 7.74147 16.6057C7.88635 16.3189 8.21062 16.1817 8.50905 16.2629ZM15.9964 14.1721C16.1874 13.9289 16.5293 13.8449 16.8167 13.9885C17.1449 14.1529 17.2777 14.5527 17.1135 14.8811L17.0081 15.0745C16.7437 15.52 16.3571 15.9172 15.8909 16.1799L15.7678 16.2336C15.4735 16.3284 15.1434 16.2068 14.9856 15.927C14.8053 15.607 14.9186 15.2011 15.2385 15.0208L15.343 14.9563C15.5828 14.7934 15.7907 14.5531 15.9241 14.2864L15.9964 14.1721ZM11.3899 13.9973C11.6068 13.76 11.9564 13.7154 12.2219 13.8743L12.3294 13.9544L12.5325 14.134C12.7405 14.3123 12.9648 14.4865 13.1975 14.6399C13.5038 14.8421 13.588 15.2543 13.386 15.5608C13.1839 15.8672 12.7717 15.9522 12.4651 15.7502C12.1771 15.5604 11.9078 15.3508 11.6653 15.1428L11.4329 14.9368L11.343 14.8362C11.161 14.5861 11.1733 14.2346 11.3899 13.9973ZM3.89284 12.7854C4.15743 12.6034 4.5069 12.6395 4.72976 12.8538L4.81765 12.9563L5.09597 13.342C5.2894 13.597 5.49846 13.8473 5.72194 14.092L6.06862 14.4544L6.15358 14.5588C6.32402 14.8168 6.29559 15.1675 6.06862 15.3948C5.84153 15.6219 5.49076 15.6508 5.23268 15.4807L5.12819 15.3948L4.73952 14.9895C4.48886 14.715 4.25441 14.4331 4.0364 14.1458L3.72194 13.7102L3.65749 13.592C3.53684 13.3074 3.62825 12.9676 3.89284 12.7854ZM15.4993 9.92603C15.8166 9.74157 16.2237 9.84904 16.4085 10.1663C16.6535 10.587 16.8614 11.007 17.0257 11.4211C17.1611 11.7625 16.994 12.149 16.6526 12.2844C16.3114 12.4196 15.9248 12.2535 15.7893 11.9124C15.6531 11.5689 15.4761 11.2079 15.2591 10.8352C15.0744 10.5179 15.182 10.1108 15.4993 9.92603ZM2.68679 7.66919C3.0534 7.68828 3.33549 8.00088 3.31667 8.36744C3.2922 8.83748 3.33403 9.34087 3.44362 9.86353C3.51895 10.2229 3.28835 10.5752 2.92897 10.6506C2.56969 10.726 2.21746 10.4961 2.14186 10.137C2.01123 9.51398 1.95753 8.89534 1.98854 8.29908C2.00763 7.93239 2.32013 7.65025 2.68679 7.66919ZM4.90456 4.0315C5.20754 3.96864 5.52274 4.12486 5.64968 4.42017C5.79462 4.75763 5.6385 5.14926 5.30104 5.29419L5.02663 5.42701C4.75959 5.57172 4.51665 5.75148 4.30104 5.96705L4.19655 6.05201C3.93849 6.22262 3.58796 6.19417 3.36061 5.96705C3.10092 5.70735 3.10092 5.28631 3.36061 5.02662L3.51784 4.87623C3.89316 4.53604 4.31766 4.26866 4.77663 4.07154L4.90456 4.0315ZM8.47194 3.80884L8.92214 3.91626L9.37429 4.05005L9.49733 4.10474C9.76632 4.25754 9.89962 4.58332 9.80007 4.88892C9.70043 5.19421 9.40116 5.37879 9.09401 5.344L8.96218 5.3147L8.57741 5.20044L8.1985 5.10962L8.0696 5.06959C7.78587 4.94661 7.61786 4.63696 7.68386 4.32252C7.74987 4.00817 8.02805 3.79281 8.33718 3.79419L8.47194 3.80884Z"}),g.createElement("path",{d:"M11.0019 10.4124C11.0017 9.63143 10.3679 8.99838 9.58685 8.99838C9.13262 8.99844 8.87576 9.11932 8.71478 9.25912C8.54358 9.40794 8.40876 9.64128 8.31537 9.98373C8.16688 10.5286 8.16056 11.1741 8.16693 11.8324C8.82534 11.8387 9.47057 11.8334 10.0156 11.6849C10.3585 11.5914 10.5923 11.4559 10.7411 11.2845C10.8809 11.1235 11.0019 10.8667 11.0019 10.4124ZM12.332 10.4124C12.332 11.1232 12.1335 11.7092 11.7451 12.1566C11.3656 12.5935 10.8608 12.833 10.3652 12.9681C9.41468 13.2271 8.24011 13.1576 7.50775 13.1576C7.14065 13.1575 6.84293 12.8596 6.84271 12.4925C6.84271 11.7601 6.77311 10.5847 7.03216 9.63412C7.16722 9.13875 7.40614 8.63455 7.84271 8.25521C8.28998 7.86677 8.87622 7.66837 9.58685 7.6683C11.1024 7.6683 12.3318 8.89689 12.332 10.4124Z"}),g.createElement("path",{d:"M15.5702 2.18415C16.2167 1.91473 16.9517 2.08241 17.4345 2.56501L17.5263 2.66559C17.9372 3.14606 18.0668 3.82581 17.8154 4.42927L17.7558 4.5572C16.489 7.00222 14.8025 8.9042 12.4658 10.5445L12.3476 10.6099C12.0641 10.7332 11.7236 10.6452 11.539 10.3824C11.328 10.0818 11.4005 9.66665 11.7011 9.45563L12.1005 9.16755C14.0623 7.71278 15.4843 6.0511 16.5751 3.94587L16.5966 3.89411C16.6311 3.78726 16.6135 3.66092 16.537 3.55622L16.4941 3.50641C16.3658 3.37813 16.1868 3.35607 16.0546 3.42438C13.809 4.58788 12.0673 6.12815 10.5439 8.29841C10.3329 8.59901 9.9187 8.67153 9.6181 8.46052C9.31754 8.2495 9.24499 7.83532 9.45599 7.53473C11.0963 5.19803 12.9973 3.51054 15.4423 2.24372L15.5702 2.18415Z"})),DIt=Object.freeze(Object.defineProperty({__proto__:null,default:x5t},Symbol.toStringTag,{value:"Module"}));async function _W({url:t,fileName:e}){const r=await(await fetch(t)).blob(),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download=e,s.click(),s.remove()}const b5t="ChatGPT Image";function C5t(t){const e=new Date,n=t.formatDate(e,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return"".concat(b5t," ").concat(n,".png")}function FIt(){const[t,e]=g.useState({undoStack:[],currentIndex:-1});function n(i){e(l=>({undoStack:[...l.undoStack.slice(0,l.currentIndex+1),i],currentIndex:l.currentIndex+1}))}function r(){e(i=>({undoStack:i.undoStack,currentIndex:Math.max(i.currentIndex-1,-1)}))}function s(){e(i=>({undoStack:i.undoStack,currentIndex:Math.min(i.currentIndex+1,i.undoStack.length-1)}))}function a(){e({undoStack:[],currentIndex:-1})}return{currentDrawnShape:t.undoStack.length>0?t.undoStack[t.currentIndex]:null,onNewDrawnShape:n,canUndoDrawing:t.currentIndex>=0,undoDrawing:r,canRedoDrawing:t.currentIndex<t.undoStack.length-1,redoDrawing:s,clearAllDrawings:a}}const _5t=Je(()=>Ve(()=>import("./lzi9kzc39ucmpxz0.js"),__vite__mapDeps([135,1,4,5,136,137])).then(t=>t.DynamicDrawingCanvas)),w5t=136;function S5t({image:t,drawingState:e,drawingCanvasRef:n}){return o.jsx("div",{className:"pointer-events-none absolute inset-0 z-[60] overflow-visible",children:o.jsx("div",{className:"pointer-events-auto absolute inset-0",children:o.jsx(_5t,{drawingCanvasRef:n,color:"rgba(0, 122, 255, 0.5)",dashedOutlineColor:"rgba(255, 255, 255, 0.65)",cursorWidth:w5t,canvasWidth:t.width,canvasHeight:t.height,currentDrawnShape:e.currentDrawnShape,onNewDrawnShape:e.onNewDrawnShape})})})}const k5t="https://openai.com/form/report-content/",BIt=({areButtonsFullWidth:t,post:e,setIsReportModalOpen:n})=>{const{isUnauthenticated:r}=An(),s=Z(),a=e.attachments.every(i=>i.kind==="media_generation");return o.jsx("div",{className:"border-token-border-default flex w-full justify-center border-b-[0.5px] px-2 sm:px-6",children:o.jsx("div",{className:U("flex w-full items-center justify-between gap-4 py-4",!t&&"max-w-[1200px]"),children:o.jsxs("div",{children:[o.jsx(wt,{align:"start",theme:"primary",labelTextAlign:"left",wide:!0,contentClassName:"![&>*]:font-normal *:font-normal",label:s.formatMessage({id:"rZHri8",defaultMessage:"The content youâre seeing was made by a ChatGPT user. It may be unverified or contain potentially unsafe content that doesnât reflect the views of OpenAI."}),children:o.jsx("h1",{className:"text-token-text-primary line-clamp-1 text-base font-semibold",children:e.text})}),o.jsxs("div",{className:"text-token-text-secondary xs:flex-col flex flex-col gap-1.5 text-xs sm:flex-row",children:[!a&&o.jsx("div",{className:"cursor-default",children:s.formatMessage(K_.madeWithCanvas)}),o.jsx("div",{children:r?o.jsx("a",{className:"underline",href:k5t,target:"_blank",rel:"noreferrer",onClick:()=>{},children:s.formatMessage(K_.report)}):o.jsx("button",{className:"underline",onClick:()=>{n(!0)},children:s.formatMessage(K_.report)})})]})]})})})},K_=pe({report:{id:"DHsq+d",defaultMessage:"Report"},editWithChatGPT:{id:"DrcR8S",defaultMessage:"Edit with ChatGPT"},edit:{id:"PpEliN",defaultMessage:"Edit"},madeWithCanvas:{id:"h8SGou",defaultMessage:"Youâre viewing user-generated content that may be unverified or unsafe."}}),M5t=t=>g.createElement("svg",C({width:357,height:62,viewBox:"0 0 357 62",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M30.8694 50.7428C19.9894 50.7428 12.4244 42.4978 12.4244 31.1078C12.4244 19.7178 19.9894 11.4728 30.6994 11.4728C38.5194 11.4728 44.5544 16.0628 46.3394 21.6728H58.4944C56.3694 9.43281 44.8944 0.507812 30.5294 0.507812C13.2744 0.507812 0.609375 14.1928 0.609375 31.1078C0.609375 48.0228 12.9344 61.7078 30.6144 61.7078C45.2344 61.7078 56.4544 52.9528 58.7494 40.5428H46.6794C44.6394 46.2378 38.6894 50.7428 30.8694 50.7428Z",fill:"currentColor"}),g.createElement("path",{d:"M88.586 17.5094C82.976 17.5094 78.556 19.9744 76.091 23.3744V1.35938H65.041V60.8594H76.091V37.9944C76.091 31.3644 79.661 27.0294 85.441 27.0294C90.711 27.0294 93.686 31.1094 93.686 36.8044V60.8594H104.736V35.0194C104.736 24.4794 98.276 17.5094 88.586 17.5094Z",fill:"currentColor"}),g.createElement("path",{d:"M150.04 33.1478C150.04 23.4578 143.41 17.5078 131.17 17.5078C121.14 17.5078 113.15 23.1178 111.79 31.2778H122.925C123.775 28.4728 126.835 26.2628 131.085 26.2628C136.61 26.2628 139.245 29.1528 139.245 34.1678V34.4228L128.45 35.3578C117.145 36.2928 110.855 40.8828 110.855 49.5528C110.855 56.8628 117.145 61.7078 125.9 61.7078C131.765 61.7078 137.46 59.4128 139.84 55.5878C139.84 57.4578 140.01 59.1578 140.35 60.8578H150.635C150.21 58.1378 150.04 54.9928 150.04 51.3378V33.1478ZM139.245 43.2628C139.245 48.2778 135.505 53.3778 127.94 53.3778C123.86 53.3778 121.65 51.4228 121.65 48.5328C121.65 45.3878 123.775 43.4328 128.535 43.0078L139.245 42.0728V43.2628Z",fill:"currentColor"}),g.createElement("path",{d:"M173.245 4.58984H162.195V18.3598H153.355V27.2848H162.195V48.1948C162.195 56.2698 166.36 60.8598 175.285 60.8598H184.125V51.6798H178.515C174.775 51.6798 173.245 50.4048 173.245 46.9198V27.2848H184.125V18.3598H173.245V4.58984Z",fill:"currentColor"}),g.createElement("path",{d:"M239.033 29.0678H219.993V38.5878H236.228C235.123 46.4928 227.728 51.2528 219.483 51.2528C207.583 51.2528 200.613 42.4978 200.613 31.1078C200.613 19.7178 208.433 11.3878 219.143 11.3878C226.453 11.3878 232.403 15.6378 233.933 20.3978H246.088C243.793 8.58281 232.913 0.507812 218.973 0.507812C201.803 0.507812 189.053 14.3628 189.053 31.1928C189.053 48.0228 200.783 61.7078 218.293 61.7078C226.283 61.7078 233.508 58.1378 236.738 53.2928V60.8578H246.598V36.6328C246.598 31.7878 243.878 29.0678 239.033 29.0678Z",fill:"currentColor"}),g.createElement("path",{d:"M281.703 1.35938H255.354V60.8594H266.573V38.5044H281.789C293.519 38.5044 301.849 31.6194 301.849 20.0594C301.849 8.49937 293.518 1.35938 281.703 1.35938ZM280.939 28.6444H266.573V11.5594H280.939C286.719 11.5594 290.458 14.8744 290.458 20.0594C290.458 25.2444 286.719 28.6444 280.939 28.6444Z",fill:"currentColor"}),g.createElement("path",{d:"M304.652 1.35938V11.5594H324.967V60.8594H336.187V11.5594H356.587V1.35938H304.652Z",fill:"currentColor"}));function E5t({className:t}){const e=Z();return o.jsx(M5t,{className:U("h-6 w-24",t),"aria-label":e.formatMessage({id:"VJmCc9",defaultMessage:"ChatGPT logo"}),role:"img"})}const Xme=Je(()=>Ve(()=>import("./ftrtxkiel0v40sqg.js"),__vite__mapDeps([138,1,4,5,139,140,96,93,94,95,141,142,143,144,145,146,147,148,149,150,151,152,29,7,153,8,154,155,42,156,157,10,158])).then(t=>t.AttachmentContent));function j5t(){Xme.prefetch()}function epe({attachments:t,variant:e,className:n,clientThreadId:r}){return o.jsx(o.Fragment,{children:t.map((s,a)=>o.jsx("div",{className:n,children:o.jsx(Xme,{attachment:s,caption:"",variant:e,hasActiveRequest:!1,clientThreadId:r})},a))})}function T5t({attachments:t,clientThreadId:e,className:n}){var s;const r=((s=t[0])==null?void 0:s.kind)==="media_generation";return o.jsx(a5e,{clientThreadId:e,children:o.jsxs("div",{className:U("bg-token-primary relative m-0 box-border w-full overflow-hidden",n),"data-testid":"sharing-post-unfurl-view",children:[o.jsx(epe,{attachments:t,variant:"unfurl",className:"h-full w-full",clientThreadId:e}),o.jsx("div",{className:U("absolute start-0 end-0 bottom-0 z-10 h-40 bg-gradient-to-t to-transparent",r?"from-black/35":"from-token-main-surface-primary")}),o.jsx("div",{className:"absolute end-5 bottom-5 z-10 inline-flex flex-shrink-0 items-end justify-end",children:o.jsx(E5t,{className:U("inline h-4 w-24 text-end",r&&"text-white")})})]})})}const tpe=Object.freeze(Object.defineProperty({__proto__:null,PostListPreview:epe,PostUnfurlPreview:T5t,prefetchPostPreviewContentComponent:j5t},Symbol.toStringTag,{value:"Module"}));function N5t(t){"use forget";var m;const e=ee.c(8),n=at(_t.wantsHandleAgentRequest$),r=q(),{selectedSources:s}=Jo(t),a=kn(t),i=Te(t,A5t),l=N6(i)===A6.n7jupd_m&&((m=i.metadata)==null?void 0:m.kaur1br5_mode)===!0;let c;e[0]!==s||e[1]!==r||e[2]!==n?(c=[n,s,r],e[0]=s,e[1]=r,e[2]=n,e[3]=c):c=e[3],g.useEffect(()=>{if(!n)return;_t.wantsHandleAgentRequest$.set(!1);const p=_t.agentRequest;p&&f(p,r,s)},c);let u,d;e[4]!==l||e[5]!==a?(u=()=>{l&&a&&s_e(a)},d=[l,a],e[4]=l,e[5]=a,e[6]=u,e[7]=d):(u=e[6],d=e[7]),g.useEffect(u,d);function f(p,h,v){e:switch(p){case"startTakeoverFromAgent":{Oce({showPlaceholderMessage:!0});break e}case"endTakeoverFromAgent":{Dce(h,v,{startNewTurn:!0,waitForAbortCompletion:!0});break e}case"stopAgent":{Fce();break e}}}}function A5t(t){return se.getCurrentNode(t).message}const UIt=t=>{"use forget";const{clientThreadId:e}=t;return N5t(e),null};function HIt(t){const e=Yt(Xa),n=kn(t),r=Te(t,se.firstUserMessage,{disablePerfDetector:!0}),s=Te(t,se.getConversationTurns,{disablePerfDetector:!0}),a=g.useMemo(()=>s?s.filter(c=>c.role===Ue.User).length:0,[s]),i=g.useMemo(()=>{var u;if(!r)return!1;const c=(u=r.metadata)==null?void 0:u.system_hints;return c!=null&&c.length?c.some(d=>d&&d!==we.Search):!1},[r]),l=g.useRef(void 0);g.useEffect(()=>{var c,u,d,f,m,p,h,v;if(!e){$n.info("Skipping auto archive because page is not ref=mini",{clientThreadId:t});return}if(!Ji(t)){$n.info("Skipping auto archive because thread is not new",{clientThreadId:t});return}if(!n){$n.info("Skipping auto archive because serverThreadId missing",{clientThreadId:t});return}if(((c=l.current)==null?void 0:c.conversationId)!==n&&(l.current=void 0),a>0&&i){if(((u=l.current)==null?void 0:u.status)==="enqueued"&&l.current.conversationId===n){$n.info("Cancel conversation archive due to non-search system hint",{conversationId:n});const x=n,b=(d=rg)==null?void 0:d.getHost();b?b.cancelConversationArchive(x):ad.then(_=>{_.getHost().cancelConversationArchive(x)})}else(((f=l.current)==null?void 0:f.status)!=="cancelled"||l.current.conversationId!==n)&&$n.info("Skipping auto archive due to non-search system hint",{conversationId:n});l.current={conversationId:n,status:"cancelled"};return}if(a===1){if(((m=l.current)==null?void 0:m.status)==="enqueued")return;$n.info("Enqueue conversation archive",{conversationId:n}),l.current={conversationId:n,status:"enqueued"};const y=n,x=(p=rg)==null?void 0:p.getHost();x?x.enqueueConversationArchive(y):ad.then(b=>{b.getHost().enqueueConversationArchive(y)});return}if(a>1&&((h=l.current)==null?void 0:h.status)==="enqueued"&&l.current.conversationId===n){$n.info("Cancel conversation archive",{conversationId:n}),l.current={conversationId:n,status:"cancelled"};const y=n,x=(v=rg)==null?void 0:v.getHost();x?x.cancelConversationArchive(y):ad.then(b=>{b.getHost().cancelConversationArchive(y)})}},[t,i,e,n,a])}var Yc=(t=>(t.Running="running",t.Finished="finished",t.Error="error",t))(Yc||{});const Y_=(t,e)=>"".concat(t,":").concat(e),U1=Rt((t,e)=>({toolStates:new Map,setToolState:(n,r,s,a)=>{const i=Y_(n,r),l=e().toolStates.get(i);t(c=>{var d;const u=new Map(c.toolStates);return u.set(i,{status:a,toolName:s,messageId:r,startTime:(d=l==null?void 0:l.startTime)!=null?d:Date.now()}),{toolStates:u}})},getToolState:(n,r)=>{const s=Y_(n,r);return e().toolStates.get(s)},removeToolState:(n,r)=>{const s=Y_(n,r);t(a=>{const i=new Map(a.toolStates);return i.delete(s),{toolStates:i}})},getRunningToolsForThread:n=>{const r=e().toolStates,s=[];for(const[a,i]of r.entries())a.startsWith("".concat(n,":"))&&i.status==="running"&&s.push(i);return s}}));function P5t({onClose:t,urls:e,onAction:n,onActionAborted:r,suppressNavigation:s=!1}){const a=g.useRef(!1),i=Z(),{clientThreadId:l}=r1(),c={clientThreadId:l},u=Array.isArray(e)?e:[e],d=u[0],f=u.slice(1),m=P(C({},Pt(c)),{url:d,link_type:"text",section:"safe-link-modal"});g.useEffect(()=>{B.logEventWithStatsig("Safe Link Warning Modal Shown","chatgpt_safe_link_warning_modal_shown")},[]);const p=async()=>{a.current=!0;try{const _=f.length>0?u.join("\n"):d;await navigator.clipboard.writeText(_),B.logEventWithStatsig("Safe Link Warning Modal Copy Clicked","chatgpt_safe_link_warning_modal_copy_clicked"),B.logEvent("link_action",P(C({},m),{action:"copy"}))}catch(_){ve.addError(_)}n==null||n("copy"),t()},h=()=>{a.current=!0,B.logEventWithStatsig("Safe Link Warning Modal Open Clicked","chatgpt_safe_link_warning_modal_open_clicked"),B.logEvent("link_action",P(C({},m),{action:"click"})),n==null||n("open"),t()},v=()=>{a.current||(B.logEventWithStatsig("Safe Link Warning Modal Canceled","chatgpt_safe_link_warning_modal_canceled"),r==null||r()),a.current=!1,t()};let y="",x=d,b="";try{x=new URL(d).hostname;const w=d.indexOf(x);w!==-1&&(y=d.substring(0,w),b=d.substring(w+x.length))}catch(_){}return o.jsxs(tt,{testId:"modal-safe-link-warning",isOpen:!0,hideSeparator:!0,onClose:v,showCloseButton:!0,type:"warning",title:o.jsx("div",{className:"flex items-center gap-2",children:f.length>0?i.formatMessage({id:"BpXZi1",defaultMessage:"Check these links are safe"}):i.formatMessage({id:"xgI3Kt",defaultMessage:"Check this link is safe"})}),primaryButton:o.jsx(oe,P(C({color:"primary",onClick:h},s?{as:"button",type:"button"}:{as:"link",openNewTab:!0,rel:"noopener noreferer",to:d}),{children:f.length>0?i.formatMessage({id:"+k3ilv",defaultMessage:"Open links"}):i.formatMessage({id:"XSj3EP",defaultMessage:"Open link"})})),secondaryButton:o.jsx(yn.Button,{title:f.length>0?i.formatMessage({id:"qXURZz",defaultMessage:"Copy links"}):i.formatMessage({id:"5P5qUm",defaultMessage:"Copy link"}),color:"secondary",onClick:p}),children:[o.jsxs("p",{className:"text-token-text-secondary mb-6 text-sm text-pretty",children:[f.length>0?o.jsx(N,{defaultMessage:"These links arenât verified and may contain data from your conversation that will be shared with a third-party site. Make sure you trust these links before proceeding.",id:"safe-link-warning-modal-description-plural"}):o.jsx(N,{defaultMessage:"This link isnât verified and may contain data from your conversation that will be shared with a third-party site. Make sure you trust this link before proceeding.",id:"safe-link-warning-modal-description"}),o.jsx("a",{className:"hover:text-token-link-hover ps-1 underline underline-offset-1",href:"https://help.openai.com/en/articles/10984597-chatgpt-generated-links",target:"_blank",rel:"noopener noreferrer",children:o.jsx(N,{id:"xNvPsR",defaultMessage:"Learn more"})})]}),f.length===0?o.jsxs("div",{className:"mb-2 text-sm break-all",children:[o.jsx("span",{className:"text-token-text-secondary",children:y}),o.jsx("span",{className:"text-token-text-primary font-medium",children:x}),o.jsx("span",{className:"text-token-text-secondary",children:b})]}):o.jsx("ul",{className:"mt-2 max-h-[300px] list-disc overflow-y-auto ps-5 text-sm break-all",children:u.map((_,w)=>o.jsx("li",{className:"text-token-text-secondary",children:_},"".concat(_,"-").concat(w)))})]})}const I5t=15e3,npe="TimeoutError",L5t="opening link failed";function VIt(t){const e=g.useRef(new Set),n=Te(t,se.getConversationTurns,{disablePerfDetector:!0});g.useEffect(()=>{pr()&&uj().catch(()=>{})},[]);const r=Te(t,s=>se.getRequestId(s));g.useEffect(()=>{if(!pr()||!n.length)return;n.flatMap(a=>a.messages).filter(a=>{var i;return!!a.recipient&&ug(a.recipient)&&(a.status==="in_progress"||a.status==="finished_successfully")&&!e.current.has(a.id)&&((i=a.clientMetadata)==null?void 0:i.requestId)===r}).forEach(a=>{a.recipient&&ug(a.recipient)&&U1.getState().setToolState(t,a.id,a.recipient,Yc.Running)})},[t,n,r]),UE(async()=>{if(!pr()||!n.length)return;const s=n.flatMap(a=>a.messages).filter(a=>{var i;return!!a.recipient&&ug(a.recipient)&&(a.status==="in_progress"||a.status==="finished_successfully")&&!e.current.has(a.id)&&((i=a.clientMetadata)==null?void 0:i.requestId)===r});if(s.length!==0)for(const a of s)e.current.add(a.id),await R5t(a,t)})}async function R5t(t,e){var m;const n=t.recipient;if(!n||!ug(n))return;let r;if(t.content.content_type===rt.Text?r=t.content.parts&&t.content.parts.length?t.content.parts[0]:"":t.content.content_type===rt.Code?r=t.content.text:r="",!await O5t(n,r,e)){U1.getState().setToolState(e,t.id,n,Yc.Finished);return}if(!await B5t(n,r,e)){U1.getState().setToolState(e,t.id,n,Yc.Finished);return}if(!await H5t(n,r,e)){U1.getState().setToolState(e,t.id,n,Yc.Finished);return}const l=()=>{U1.getState().setToolState(e,t.id,n,Yc.Error)},c=()=>{l(),wW(e,n,"Tool host unavailable","host_unavailable")};try{await ad}catch(p){c();return}const u=(m=rg)==null?void 0:m.getHost();if(!u||!u.callLocalTool){c();return}let d,f;try{d=await $5t(u.callLocalTool(n,r),I5t)}catch(p){f=p.name===npe?"timeout":"exception",l(),wW(e,n,f,f);return}U1.getState().setToolState(e,t.id,n,Yc.Finished);for(const p of d)await rpe(e,p.author,p.message)}async function rpe(t,e,n){const r={id:Yn(),author:{role:Ue.Tool,name:e},create_time:Date.now()/1e3,content:{content_type:rt.Text,parts:[n]},recipient:"all",status:"finished_successfully",weight:0};try{const s=gr();await xc({ctx:s,clientThreadId:t,promptMessage:r,eventSource:"keyboard"})}catch(s){Fe(t,a=>{vn.appendMessage(a,r)})}}function wW(t,e,n,r){const s={id:Yn(),author:{role:Ue.Assistant,name:e},create_time:Date.now()/1e3,content:{content_type:rt.Text,parts:["Error: "+n]},status:"finished_successfully",weight:0,metadata:{local_function_error:!0,local_function_error_type:r}};Fe(t,a=>{vn.appendMessage(a,s)})}function O5t(t,e,n){return t!=="kaur1br5.navigate_current_tab"?Promise.resolve(!0):qA(t,e,n,r=>{const s=F5t(r);return s?[s]:void 0})}function D5t(t){return n5(t)&&(t.url===void 0||typeof t.url=="string")}function F5t(t){try{const e=JSON.parse(t||"{}");if(D5t(e))return e.url}catch(e){}}function B5t(t,e,n){return t!=="kaur1br5.open_tabs"?Promise.resolve(!0):qA(t,e,n,U5t)}function U5t(t){try{const e=JSON.parse(t||"{}"),n=n5(e)?e:{};if(Array.isArray(n.urls))return n.urls.filter(r=>typeof r=="string")}catch(e){}}function H5t(t,e,n){return t!=="kaur1br5.add_bookmark"?Promise.resolve(!0):qA(t,e,n,V5t)}function V5t(t){try{const e=JSON.parse(t||"{}"),n=n5(e)?e:{};if(typeof n.url=="string")return[n.url]}catch(e){}}function $5t(t,e){return new Promise((n,r)=>{const s=setTimeout(()=>{const a=new Error("Local function invocation timed out");a.name=npe,r(a)},e);t.then(a=>{clearTimeout(s),n(a)}).catch(a=>{clearTimeout(s),r(a)})})}async function Q_(t,e,n,r){const s=await q5t(t,r);return s||await rpe(e,n,L5t),s}function q5t(t,e){return new Promise(n=>{let r=!1;const s=a=>{r||(r=!0,n(a))};Dt(t,P5t,{urls:e,suppressNavigation:!0,onAction:a=>s(a==="open"),onActionAborted:()=>s(!1)})})}async function qA(t,e,n,r){const s=gr();try{const a=r(e);if(!a||a.length===0)return Q_(s,n,t,e);const i=a.filter(c=>!z5t(c));if(i.length===0)return!0;const l=await nrt(s,n,i);return l.length===0?!0:Q_(s,n,t,l.length===1?l[0]:l)}catch(a){return Q_(s,n,t,e)}}function z5t(t){try{return new URL(t).protocol.toLowerCase()==="atlas:"}catch(e){return!1}}function $It(){const t=aM();g.useEffect(()=>{pr()&&t&&L6.setIsNoAuthChatTrainingEnabled(!1)},[t])}var CK;const G5t=Ge.button(CK||(CK=qe(["group flex cursor-pointer justify-center items-center gap-1 rounded-lg min-h-9 touch:min-h-10 px-2.5 text-lg hover:bg-token-surface-hover focus-visible:bg-token-surface-hover font-normal whitespace-nowrap focus-visible:outline-none"])));function spe({ctx:t,clientThreadId:e,threadState:n,searchParams:r,hasPlusFeatures:s}){if(n!=null&&n.modelId)return n.modelId;if(!Ji(e))return;const a=r==null?void 0:r.get("model");if(a&&!au(t,a))return a;const i=od();return i&&!au(t,i)?i:O5(t,s)}function W5t(t,e){var r;if(!e||!t)return sg.SHORT_LABEL;const n=e.categories.find(({defaultModel:s,supportedModels:a})=>s===t||(a==null?void 0:a.includes(t)));return n==null?sg.SHORT_LABEL:(r=n.renderHeaderType)!=null?r:sg.SHORT_LABEL}function Z5t(t,e){if(!e||!t)return!1;const n=e.groups.find(({modelIds:r})=>r.includes(t));return!!(n!=null&&n.group)}function K5t(t,e,n,r="short"){if(t!==void 0){if(e){const{modelLabel:s,fullModelLabel:a}=eQ(t,e);return r==="short"?s:a}switch(t){case"auto":return"";case"gpt-4o":return r==="short"?"4o":"GPT-4o";case"gpt-4o-mini":return r==="short"?"4o mini":"GPT-4o mini";case"gpt-4o-jawbone":return n.formatMessage({id:"8y5npr",defaultMessage:"Tasks"});case"gpt-4":return r==="short"?"4":"GPT-4";case"gpt-4-5":return r==="short"?"4.5":"GPT-4.5";case"o1":return"o1";case"o1-pro":return"o1 pro";case"o3-mini":case"o3-mini-high":case"o4-mini":case"o4-mini-high":case"o3":return t;case"gpt-5-auto":case"gpt-5":return r==="short"?"5":"GPT-5";default:return}}}const Y5t=Je(()=>Ve(()=>import("./l9iajfeo7ifxjxwc.js"),__vite__mapDeps([159,4,1,5])).then(t=>t.GizmoModelPicker)),Q5t=({clientThreadId:t,shouldShowFinchSection:e,preferredModelId:n})=>{const r=tQ(),s=nQ(t,r,e,void 0,n);return o.jsx(XY,{sections:s})};function J5t({clientThreadId:t,preferredModelId:e,headerTextClassName:n,chevronClassName:r}){const s=q(),{modelsData:a}=DM();wu.useStoreWithInit({});const i=Kr(),l=Mu(i)||!1,c=z6(),[u]=kr(),d=yt(s),f=Su(T=>T.shouldShowThreadModelPickerDot),{data:m}=Ds(),p=m&&$u(m),h=Te(t,T=>spe({ctx:s,clientThreadId:t,threadState:T,searchParams:u,hasPlusFeatures:p})),v=Z(),y=K5t(h,a,v),x=W5t(h,a),_=!!Et(s)&&!(d!=null&&d.isFree())||p,w=g.useMemo(()=>!Et(s)||!o5e(s,d,c,a)?!1:(i5e()&&!f&&pn.setThreadModelPickerAlertDot(!0),!0),[s,d,a,c,f]);if(l)return o.jsx("div",{className:U("text-token-text-primary px-3",n!=null?n:"text-lg"),children:K9});_&&(ia.markStart("ThreadModelSelector"),y!=null&&ia.markRendered("ThreadModelSelector"));const S=x===sg.TITLE?o.jsx(o.Fragment,{children:y}):o.jsxs(o.Fragment,{children:[K9," ",o.jsx("span",{className:"text-token-text-tertiary",children:y})]}),k=o.jsx("div",{className:n,children:_?S:K9}),M=Z5t(h,a),E=o.jsxs(G5t,{style:{viewTransitionName:"var(--vt-thread-model-switcher)"},"aria-label":y?v.formatMessage({id:"JrtGPQ",defaultMessage:"Model selector, current model is {modelLabel}"},{modelLabel:y}):"",children:[M?o.jsx(wt,{label:h,side:"right",children:k}):k,o.jsx(ys,{className:U(r!=null?r:"icon-sm","text-token-text-tertiary")}),f&&o.jsx(Fre,{color:"blue",className:"ms-1"})]});return a===void 0?E:o.jsx(Qa,{alignOffset:-4,size:"small",triggerButton:E,onOpenChange:T=>{B.logEvent("Toggle Model Switcher",{isOpen:T}),Le.logEvent("toggle_model_switcher",null,{isOpen:String(T)})},testId:"model-switcher-dropdown",children:o.jsx(Q5t,{clientThreadId:t,shouldShowFinchSection:w,preferredModelId:e})})}function qIt({clientThreadId:t,textClassName:e,chevronClassName:n}){var l;const r=q6(),s=Te(t,c=>c?se.getGizmoId(c):r),a=Mf(s),{data:i}=Ya(s);return s==null||a?o.jsx(J5t,{clientThreadId:t,preferredModelId:(l=i==null?void 0:i.gizmo.default_model)!=null?l:void 0,headerTextClassName:e,chevronClassName:n}):o.jsx(Y5t,{gizmoId:s,clientThreadId:t,textClassName:e,chevronClassName:n})}const zA=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.50881 17.7486C9.33158 18.0537 8.97577 18.213 8.6255 18.1441C7.03327 17.8308 6.06502 16.2324 6.54255 14.7055L7.24966 12.322H5.92157C3.73272 12.322 2.14302 10.2743 2.71895 8.1967L3.85063 4.23665C4.2445 2.81575 5.55627 1.83 7.05325 1.83L12.0305 1.83C12.9457 1.83174 13.687 2.56219 13.687 3.463V12.322H13.0711C12.7732 12.322 12.4983 12.6015 12.3505 12.8559L9.50881 17.7486Z"}),g.createElement("path",{d:"M15.0125 12.322C16.3875 12.322 17.3346 11.1825 17.3346 9.8297V4.23665C17.3346 2.88384 16.3875 1.83 15.0125 1.83H14.5684C14.8508 2.31039 15.0125 2.86812 15.0125 3.463V12.322Z"})),zIt=Object.freeze(Object.defineProperty({__proto__:null,default:zA},Symbol.toStringTag,{value:"Module"})),GA=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10.4933 2.24145C10.6705 1.93631 11.0263 1.77698 11.3766 1.84591C12.9688 2.15921 13.9371 3.75763 13.4595 5.28453L12.7524 7.66797H14.0805C16.2694 7.66797 17.8591 9.71567 17.2831 11.7933L16.1515 15.7534C15.7576 17.1743 14.4458 18.16 12.9488 18.16L7.97157 18.16C7.0564 18.1583 6.31505 17.4278 6.31505 16.527V7.66797H6.93102C7.22884 7.66797 7.50382 7.38853 7.65157 7.13413L10.4933 2.24145Z"}),g.createElement("path",{d:"M4.98959 7.66797C3.61457 7.66797 2.66748 8.80749 2.66748 10.1603V15.7534C2.66748 17.1062 3.61457 18.16 4.98959 18.16H5.4337C5.15125 17.6796 4.98959 17.1219 4.98959 16.527V7.66797Z"})),GIt=Object.freeze(Object.defineProperty({__proto__:null,default:GA},Symbol.toStringTag,{value:"Module"}));var ape=(t=>(t[t.ADAVisualization=0]="ADAVisualization",t[t.Image=1]="Image",t))(ape||{});function X5t(){const t=q();return Vo(t,"398474797").get("enabled",!1)}function ope(t=!1){const e=Uj(Dr.WorkspaceShareLinks),n=q(),r=ze(n,"2382399797",{disableExposureLog:t}),s=iJ();return g.useCallback(()=>e&&!s&&r.get("is_enabled",!1),[s,r,e])}function e4t(t){return ze(t,"3243846918").get("enable_message_slice",!1)}function t4t(t){const e=Er(),n=ope(),r=q(),{imageGenMessages:s,canvasMessage:a,gizmoMessage:i,hasErrorInTurn:l,isIncomplete:c}=g.useMemo(()=>{const f=[];let m,p,h=!1,v=!1;return t.forEach(y=>{var b,_;M5(y)&&f.push(y),aie(y)&&(m=y),(b=y.metadata)!=null&&b.gizmo_id&&(p=y);const x=(_=y.clientMetadata)==null?void 0:_.errType;x!=null&&x!=="info"&&(h=!0),l5e(y)&&(v=!0)}),{imageGenMessages:f,canvasMessage:m,gizmoMessage:p,hasErrorInTurn:h,isIncomplete:v}},[t]),u=!e&&!i&&s.length>0&&s.every(f=>f.status==="finished_successfully")&&n(),d=!e&&s.length===0&&!a&&!i&&e4t(r);return{enableImageGenPostSharing:u,enableMessageSliceSharing:d,imageGenMessages:s,canvasMessage:a,hasErrorInTurn:l,isIncomplete:c}}function ipe(t=!1){const e=Er(),n=ope(t);return g.useMemo(()=>!e&&n(),[e,n])}function WA(t){returnwindow.location.origin+"/s/".concat(t)}const _p=pe({copyLink:{id:"postSharingModal.copyLink",defaultMessage:"Copy link"},linkCopied:{id:"postSharingModal.linkCopied",defaultMessage:"Link copied!"},failedToGenerateShareLink:{id:"postSharingModal.failedToGenerateShareLink",defaultMessage:"Failed to generate share link"},fromChatGPT:{id:"postSharingModal.fromChatGPT",defaultMessage:"From ChatGPT"},contentUnavailable:{id:"postSharingModal.contentUnavailable",defaultMessage:"Content Unavailable"},unavailableReasonGeneral:{id:"postSharingModal.unavailableReasonGeneral",defaultMessage:"This share link is not available because it doesnât exist or you donât have access to it."},unavailableReasonWorkspace:{id:"postSharingModal.unavailableReasonWorkspace",defaultMessage:"This content was shared from a workspace you donât have access to. Ask the owner to invite you if youâd like to view it."},ok:{id:"postSharingModal.ok",defaultMessage:"OK"},shareLinkVisibleToWorkspaceOnly:{id:"postSharingModal.shareLinkVisibleToWorkspaceOnly",defaultMessage:"The share links are visible to workspace members only."},download:{id:"postSharingModal.download",defaultMessage:"Download"},downloadPdfButtonMenu:{id:"postSharingModal.download-pdf-button.menu",defaultMessage:"PDF Document (.pdf)"},downloadDocxButtonMenu:{id:"postSharingModal.download-docx-button.menu",defaultMessage:"Microsoft Word Document (.docx)"},downloadPptxButtonMenu:{id:"postSharingModal.download-pptx-button.menu",defaultMessage:"Microsoft PowerPoint Document (.pptx)"},downloadFileError:{id:"postSharingModal.downloadFileError",defaultMessage:"Failed to download file. Please try again later."},imageLicenseDisclaimer:{id:"postSharingModal.imageLicenseDisclaimer",defaultMessage:"Only share images you have a license to use. <link>Learn{nbsp}more</link>"},screenshotDisclaimer:{id:"postSharingModal.screenshotDisclaimer",defaultMessage:"Screenshots may contain sensitive information."}}),i7=Je(()=>Ve(()=>import("./gvpqzrcgxbwujqw7.js"),__vite__mapDeps([160,1,4,5,88,13,31,32])).then(t=>t.PostSharingModal)),n4t=Je(()=>Ve(()=>Promise.resolve().then(()=>tpe),void 0).then(t=>t.PostUnfurlPreview));function r4t(t){const e=Gu(t,n=>Io.getImageAssetPointers(n).length>0);return e?Io.getImageAssetPointers(e)[0]:null}async function s4t(t,e,n){return bs(e.asset_pointer)?(await sut(t,[e],null,void 0,n))[0]:null}const a4t=async(t,e,n)=>{var i;const r=()=>se.findNode(st(e),({message:l})=>l.id===n||!!Io.getImageAssetPointers(l).find(c=>c.asset_pointer===t));let s=r();if(!(s!=null&&s.message)&&(await fa(e),s=r(),!(s!=null&&s.message)))return null;const a=kt(e);return{postText:(i=s.message.metadata)==null?void 0:i.image_gen_title,imageAssetPointer:r4t([s.message]),serverThreadId:a}};async function o4t(t,e,n,r){const s=bs(e.asset_pointer);if(!s)return null;const a=await ue.safePost("/share/post",{requestBody:{post_text:n,attachments_to_create:[{kind:"image_share",file_id:s,conversation_id:t,width:r==null?void 0:r.width,height:r==null?void 0:r.height}]}});return WA(a.post.id)}async function i4t(t,e,n){const r=await ue.safePost("/share/post",{requestBody:{post_text:n,attachments_to_create:[{kind:"message_slice",conversation_id:t,message_ids:e}]}});return WA(r.post.id)}function l4t(t,e){const n=st(t);return n?{id:"tmp",kind:"message_slice",messages:e.map(s=>{const a=se.findNode(n,({message:i})=>i.id===s);return a?a.message:null}).filter(Boolean)}:null}function c4t(t){return{id:"tmp",kind:"message_slice",messages:[t.previewMessage]}}function df({clientThreadId:t,coverImageUrl:e,messageSliceIds:n,odysseyShareIntent:r,onClose:s}){g.useEffect(()=>{if(!n||n.length===0)return;const i=st(t);n.filter(c=>!se.findNode(i,({message:u})=>u.id===c)).length>0&&fa(t)},[t,n]);const a=g.useMemo(()=>r?c4t(r):e||!n||n.length===0?null:l4t(t,n),[e,t,n,r]);return a&&o.jsx(tt,{testId:"modal-mobile-post-preview",isOpen:!0,onClose:s,type:"success",size:"custom",position:"top",noPadding:!0,contentClassName:"w-full",children:o.jsx("div",{className:"aspect-[4/3] w-full",children:o.jsx(n4t,{attachments:[a],clientThreadId:t,className:"h-full"})})})}async function l7({postText:t,postTitle:e,clientThreadId:n,generateShareLinkFn:r,renderPreviewFn:s,usePostText:a,useShareLink:i,useShareTitle:l}){if(!kt(n))return!1;try{const u=await r();return u?(s&&s(),await navigator.share({text:a?t:void 0,url:i?u:void 0,title:l?e:void 0}),!0):!1}catch(u){return!1}}async function u4t(t,e,n,r,s,a,i=!1){const l=await a4t(t,e,n);if(!(l!=null&&l.imageAssetPointer)||!(l!=null&&l.serverThreadId))return;const{postText:c,imageAssetPointer:u,serverThreadId:d}=l,f=await s4t(r,u,d);if(!f)return;const m=()=>o4t(d,u,c,f);if(a&&ie(s,"1138231213")){const p=ze(s,"2382399797");if(await l7({clientThreadId:e,postText:c,generateShareLinkFn:m,usePostText:p.get("navigator_share_text",!1),useShareLink:p.get("navigator_share_link",!1)}))return}Dt(s,i7,{postSharingData:{clientThreadId:e,postText:c,generateShareLinkFn:m,coverImageUrl:f==null?void 0:f.url}})}async function d4t(t,e,n,r,s,a=!1){const i=kt(t);if(!i)return;const l=()=>i4t(i,e,s);if(r&&ie(n,"1138231213")){await l7({clientThreadId:t,generateShareLinkFn:l,renderPreviewFn:()=>{Dt(n,df,{clientThreadId:t,coverImageUrl:void 0,messageSliceIds:e})},useShareLink:!0,useShareTitle:!0,postTitle:s}),dE(n,df);return}Dt(n,i7,{postSharingData:{clientThreadId:t,generateShareLinkFn:l,postText:s,messageSliceIds:e,messageSliceAttachment:void 0}})}const J_=async(t,e,n,r)=>{if(!kt(e))return;const a=async()=>{const i=await ue.safePost("/share/post",{requestBody:{attachments_to_create:[{kind:"odyssey_artifact",file_id:t.fileId,message_id:t.messageId,conversation_id:t.serverThreadId}]}});return WA(i.post.id)};if(r&&ie(n,"1138231213")){const i=await l7({clientThreadId:e,generateShareLinkFn:a,renderPreviewFn:()=>{Dt(n,df,{clientThreadId:e,generateShareLinkFn:a,coverImageUrl:void 0,messageSliceIds:void 0,odysseyShareIntent:t})},useShareLink:!0,useShareTitle:!1});if(dE(n,df),i)return}Dt(n,i7,{postSharingData:{clientThreadId:e,generateShareLinkFn:a,odysseyShareIntent:t,messageSliceIds:void 0}})};async function WIt({ctx:t,serverThreadId:e,existingShareLinkUrl:n}){var u,d,f;if(!t)return!1;const r=RM(e);let s=st(r);if(s||(await fa(r),s=st(r)),!s)return!1;const a=se.getConversationTurns(s).flatMap(m=>m.messages.map(p=>p.id)).filter(m=>!!m);if(a.length===0)return!1;const i=!AQ();((u=se.getCurrentNode(s))==null?void 0:u.message.id)||await fa(r);const c=()=>Promise.resolve(n!=null?n:null);return i&&ie(t,"1138231213")?(await l7({clientThreadId:r,postTitle:(d=s.title)!=null?d:void 0,generateShareLinkFn:c,renderPreviewFn:()=>{Dt(t,df,{clientThreadId:r,coverImageUrl:void 0,messageSliceIds:a})},useShareLink:!0,useShareTitle:!0}),dE(t,df),!0):(Dt(t,i7,{postSharingData:{clientThreadId:r,generateShareLinkFn:c,postText:(f=s.title)!=null?f:void 0,messageSliceIds:a,messageSliceAttachment:void 0}}),!0)}function ZA(t){const{assetPointer:e=null,clientThreadId:n,imageGenMessageId:r,messageSliceIds:s,odysseyShareIntent:a,parentPromptId:i}=t,l=!1,c=pt(),u=q(),d=Us(),f=Te(n,m=>m==null?void 0:m.title);return g.useEffect(()=>{Ve(()=>Promise.resolve().then(()=>tpe),void 0)},[]),g.useCallback(async()=>{if(r)await u4t(e,n,r,c,u,d,l);else if(s){const p=i!=null&&ze(u,"1547743984").get("is_message_prompt_enabled",!1)&&i?[i,...s.filter(h=>h!==i)]:s;await d4t(n,p,u,d,f!=null?f:void 0,l)}else a&&await(J_==null?void 0:J_(a,n,u,d))},[e,n,r,s,f,c,d,l,a,i,u])}function f4t(t){const e=Z();switch(t){case"general":return e.formatMessage(_p.unavailableReasonGeneral);case"workspace":return e.formatMessage(_p.unavailableReasonWorkspace);default:return e.formatMessage(_p.unavailableReasonGeneral)}}function ZIt({onClose:t,reason:e}){const n=Z(),r=it(),s=()=>{t(),r("/")},a=f4t(e);return o.jsx(tt,{testId:"modal-post-sharing-error",isOpen:!0,type:"danger",textCenter:!0,title:n.formatMessage(_p.contentUnavailable),description:a,onClose:s,footerContent:o.jsx(oe,{size:"large",color:"primary",className:"w-full",onClick:s,children:n.formatMessage(_p.ok)})})}const m4t=g.createContext({model:"gpt-4o"}),KA=()=>g.useContext(m4t);function KIt({pointer:t,conversationId:e,messageId:n,source:r,imageIndex:s}){var a,i,l,c,u,d,f;return{imageUrl:t&&"url"in t?t.url:void 0,conversationId:e,messageId:n,generationId:(l=(i=(a=t==null?void 0:t.metadata)==null?void 0:a.generation)==null?void 0:i.gen_id)!=null?l:void 0,parentGenerationId:(d=(u=(c=t==null?void 0:t.metadata)==null?void 0:c.generation)==null?void 0:u.parent_gen_id)!=null?d:void 0,fileId:bs((f=t==null?void 0:t.asset_pointer)!=null?f:""),model:"gpt-4o",source:r,imageIndex:s}}class $r{}Q($r,"imageRated",({liked:e,analyticsContext:n})=>{const r=e?"like":"dislike",s=e?"true":"false";Le.logEvent("chatgpt_dalle_image_rating",r,C({liked:s},n)),B.logEvent("chatgpt_dalle_image_rating",C({liked:e},n)),Le.logEvent("chatgpt_image_rating",r,C({liked:s},n)),B.logEvent("chatgpt_image_rating",C({liked:e},n));var a="thumbs_down";e&&(a="thumbs_up"),n.conversationId&&n.messageId&&n.generationId&&(yl("imagegen_rating",n.conversationId,n.messageId,n.generationId,{imagegen_rating:{rating:a}}),ue.safePost("/conversation/message_feedback",{requestBody:{message_id:n.messageId,conversation_id:n.conversationId,rating:e?"thumbsUp":"thumbsDown"},authOption:qt.SendIfAvailable}))}),Q($r,"imageShared",({analyticsContext:e,source:n})=>{B.logEventWithStatsig("Share Post: Share Button Clicked","chatgpt_post_share_button_clicked",C({source:n},e)),e.conversationId&&e.messageId&&e.generationId&&yl("image_share",e.conversationId,e.messageId,e.generationId)}),Q($r,"paragenImageRated",({liked:e,analyticsContext:n})=>{const r=e?"like":"dislike";Le.logEvent("chatgpt_imagegen_image_paragen_rating",void 0,{liked:r,hasParent:n.parentGenerationId?"true":"false"}),B.logEvent("chatgpt_imagegen_image_paragen_rating",C({liked:e},n));var s="thumbs_down";e&&(s="thumbs_up"),n.conversationId&&n.messageId&&n.generationId&&yl("imagegen_image_paragen_rating",n.conversationId,n.messageId,n.generationId,{imagegen_image_paragen_rating:{rating:s}})}),Q($r,"paragenDownload",({analyticsContext:e})=>{Le.logEvent("chatgpt_imagegen_image_paragen_download",void 0,{hasParent:e.parentGenerationId?"true":"false"}),B.logEvent("chatgpt_imagegen_image_paragen_download",e),e.conversationId&&e.messageId&&e.generationId&&yl("imagegen_image_paragen_download",e.conversationId,e.messageId,e.generationId)}),Q($r,"renderingComplete",({analyticsContext:e})=>{Le.logEvent("chatgpt_imagegen_image_rendering_complete",void 0,{hasParent:e.parentGenerationId?"true":"false"}),B.logEvent("chatgpt_imagegen_image_rendering_complete",e)}),Q($r,"editorClick",({sourceOperation:e,analyticsContext:n})=>{Le.logEvent("chatgpt_dalle_image_view_full",null,C({sourceOperation:e},n)),B.logEvent("chatgpt_dalle_image_view_full",C({sourceOperation:e},n)),Le.logEvent("chatgpt_image_view_full",null,C({sourceOperation:e},n)),B.logEvent("chatgpt_image_view_full",C({sourceOperation:e},n)),n.conversationId&&n.messageId&&n.generationId&&yl("image_view_full",n.conversationId,n.messageId,n.generationId)}),Q($r,"inpaintStarted",({analyticsContext:e})=>{Le.logEvent("chatgpt_dalle_inpaint_click","click",e),B.logEvent("chatgpt_dalle_inpaint_click",e),Le.logEvent("chatgpt_image_inpaint_click",void 0,e),B.logEvent("chatgpt_image_inpaint_click",e)}),Q($r,"inpaintClick",({analyticsContext:e})=>{Le.logEvent("chatgpt_imagegen_inpaint_click",null,e),B.logEvent("chatgpt_imagegen_inpaint_click",e)}),Q($r,"zoom",({zoomType:e,analyticsContext:n})=>{Le.logEvent(e==="in"?"chatgpt_image_view_full_zoom_in":"chatgpt_image_view_full_zoom_out",null,{hasParent:n.parentGenerationId?"true":"false"}),B.logEvent(e==="in"?"chatgpt_image_view_full_zoom_in":"chatgpt_image_view_full_zoom_out",P(C({},n),{startMs:performance.now()})),n.conversationId&&n.messageId&&n.generationId&&yl(e==="in"?"image_view_full_zoom_in":"image_view_full_zoom_out",n.conversationId,n.messageId,n.generationId)}),Q($r,"download",({analyticsContext:e})=>{Le.logEvent("chatgpt_dalle_image_download","click",e),B.logEvent("chatgpt_dalle_image_download",e),Le.logEvent("chatgpt_image_download",void 0,e),B.logEvent("chatgpt_image_download",e),e.conversationId&&e.messageId&&e.generationId&&yl("image_download",e.conversationId,e.messageId,e.generationId)}),Q($r,"generationSuccess",({analyticsContext:e,durationMs:n})=>{Le.logEvent("chatgpt_imagegen_generation_success",n?Math.round(n):void 0),B.logEvent("chatgpt_imagegen_generation_success",P(C({},e),{duration_ms:n}))}),Q($r,"generationFailure",({analyticsContext:e,errorReason:n})=>{const r=n?{errorReason:n}:void 0;Le.logEvent("chatgpt_imagegen_generation_failure",void 0,r),B.logEvent("chatgpt_imagegen_generation_failure",P(C({},e),{errorReason:n}))});const p4t=5,g4t="Default";function h4t(t){const e={};return t.forEach(n=>{var s;const r=(s=n.group)!=null?s:g4t;e[r]||(e[r]=[]),e[r].push(n)}),e}function v4t({tagOptions:t,onSubmit:e,onMoreClicked:n,onCancel:r,maxInlineTags:s=p4t,modalOnly:a=!1,modalTitle:i,multiple:l,children:c,allowEmptySubmit:u=!1}){const d=Z(),f=q(),m=yt(f),p=m==null?void 0:m.planType,h=p===Re.FREE||p===Re.GO||p===Re.PLUS||p===Re.PRO,[v,y]=g.useState(a?"modal":"inline"),[x,b]=g.useState([]),[_,w]=g.useState(void 0),S=$=>x.some(D=>D.value===$),{eligible:k,markAsViewed:M}=$e(We.hasSeenInlineFeedbackCustomInstrMessage),E=k?4e3:1500,[T,j]=g.useState(!1),A=it(),I=g.useCallback($=>{e($),y("submitted");const D=["Too chatty or casual","Don't like the style"];j($.tags.some(Y=>D.includes(Y.value))),setTimeout(()=>{y("closed"),k&&T&&M()},E)},[e,E,k,M,T]),L=g.useMemo(()=>xs(I,500),[I]),O=$=>{let D=[];return l?D=S($.value)?x.filter(Y=>Y!==$):[...x,$]:D=[$],b(D),D},R=$=>{I({event:$,tags:x,textFeedback:_,tagChoices:H,source:"modal"})},H=t.map($=>$.value),V=h4t(t),z=Object.keys(V);return o.jsxs(o.Fragment,{children:[!a&&o.jsx(Kt,{children:v!=="closed"&&o.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"min-h-[96px] w-full",children:[v==="submitted"&&o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-center",children:o.jsx("div",{className:"border-token-border-default inline-flex rounded-lg border p-4",children:o.jsx("div",{className:"text-sm",children:k&&T?o.jsx(o.Fragment,{children:o.jsx(N,{id:"ConversationTurnInlineMessageFeedback.customInstructions",defaultMessage:"Thanks! If ChatGPT's style isn't quite right, you can also <link>customize its responses</link>.",values:{link:$=>o.jsx("span",{onClick:()=>{A("#settings/".concat(Dn.Personalization)),Le.logEvent("chatgpt_user_context_inline_feedback_message_clicked"),B.logEvent("User Context Inline Feedback Message Clicked")},className:"text-token-text-primary cursor-pointer font-semibold",children:$})}})}):o.jsx(N,{id:"ConversationTurnInlineMessageFeedback.submitted",defaultMessage:"Thanks for your feedback!"})})})}),["inline","modal"].includes(v)&&o.jsxs("div",{className:"border-token-border-default relative mt-2 flex w-full flex-col gap-3 rounded-lg border p-4",children:[o.jsx("button",{className:"absolute end-4 top-4 text-sm font-bold",onClick:()=>{y("closed"),L.cancel(),r==null||r()},children:o.jsx(lr,{className:"icon text-token-text-secondary hover:text-token-text-primary"})}),o.jsx("div",{className:"text-token-text-secondary text-sm",children:o.jsx(N,{id:"ConversationTurnInlineMessageFeedback.inlineTitle",defaultMessage:"Tell us more:"})}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.slice(0,s).map($=>o.jsx(X_,{"aria-pressed":S($.value),"aria-selected":S($.value),$selected:S($.value),onClick:D=>{const Y=O($);L({event:D,tags:Y,tagChoices:H,source:"inline"})},children:$.label},$.value)),o.jsx(X_,{onClick:()=>{n==null||n(),L.cancel(),y("modal")},children:o.jsx(N,{id:"ConversationTurnInlineMessageFeedback.moreOptions.1",defaultMessage:"More..."})})]})]})]},"main")}),v==="modal"&&o.jsxs(tt,{type:"success",testId:"modal-inline-feedback",isOpen:!0,className:"max-w-xl",size:"custom",title:i!=null?i:o.jsx(N,{id:"ConversationTurnInlineMessageFeedback.modalTitle",defaultMessage:"Provide additional feedback"}),onClose:()=>{b([]),y(a?"closed":"inline"),a&&(r==null||r())},showCloseButton:!0,primaryButton:o.jsx(oe,{color:"primary",disabled:x.length===0&&!_&&!u,onClick:R,children:o.jsx(N,{id:"ConversationTurnInlineMessageFeedback.submit",defaultMessage:"Submit"})}),rootClassName:"z-50",children:[o.jsx("div",{className:"flex flex-col gap-6",children:z.map($=>o.jsxs("div",{children:[z.length>1&&o.jsx("div",{className:"mb-3 text-sm font-semibold",children:$}),o.jsx("div",{className:"flex flex-wrap gap-3",children:V[$].map(D=>o.jsx(X_,{$selected:S(D.value),onClick:()=>O(D),children:D.label},D.value))},$)]},$))}),o.jsx(Bi,{ariaLabel:d.formatMessage({id:"Z3Ja/T",defaultMessage:"Additional feedback"}),name:"feedback",type:"text",className:"mt-6",placeholder:d.formatMessage({id:"ConversationTurnInlineMessageFeedback.feedbackPlaceholder.1",defaultMessage:"(Optional) Feel free to add specific details"}),value:_!=null?_:"",onChange:$=>w($.target.value),onPressEnter:($,D)=>R(D)}),h&&o.jsx("div",{className:"bg-token-main-surface-secondary text-token-text-secondary mt-4 rounded-lg p-3 text-xs",children:o.jsx(N,{id:"n8n3KW",defaultMessage:"Submitting feedback will include this full conversation to help improve ChatGPT, even if 'Improve the model for everyone' is turned off. <link>Learn more</link>",values:{link:$=>o.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",rel:"noopener noreferrer",className:"text-token-text-secondary underline",children:$})}})}),c]})]})}var _K;const X_=Ge.button(_K||(_K=qe(["\n  rounded-lg border border-token-border-default px-3 py-1 text-sm text-token-text-secondary hover:text-token-text-primary hover:bg-token-main-surface-secondary\n  ","\n"])),({$selected:t})=>t&&"bg-token-text-primary! text-token-main-surface-primary!");function y4t({messageId:t,serverThreadId:e,rating:n,onClose:r}){const s=Z(),a=Object.entries(c5e).map(([l,c])=>({label:s.formatMessage(c),value:l})),i=async l=>{var u;const c=a.map(d=>d.value);try{await ue.safePost("/conversation/message_feedback",{requestBody:{message_id:t,conversation_id:e,rating:"thumbsDown",text:(u=l.textFeedback)!=null?u:void 0,tags:l.tags.map(d=>d.value),tag_choices:c},authOption:qt.SendIfAvailable})}catch(d){ve.addError("Failed to submit ".concat(n," image generation feedback: ").concat(d))}r()};return o.jsx("div",{onClick:l=>l.stopPropagation(),children:o.jsx(v4t,{tagOptions:a,modalOnly:!0,multiple:!0,onSubmit:i})})}const x4t=({onOpenChange:t,onDownload:e,triggerClassName:n,iconClassName:r,dropdownClassName:s})=>{const a=Z(),i=g.useCallback(()=>{e==null||e()},[e]);return o.jsxs(J.Root,{onOpenChange:t,children:[o.jsx(J.Trigger,{"aria-label":a.formatMessage({id:"imagegen.watermark.dropdownName",defaultMessage:"More Download options"}),className:n,tabIndex:0,children:o.jsx(Ja,{style:{filter:"drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.20))"},className:r})}),o.jsx(J.Portal,{children:o.jsx(J.Content,{className:s,side:"bottom",align:"end",children:o.jsx(J.Item,{className:"py-2",children:o.jsxs("button",{type:"button",onClick:i,className:"row text-token-text-primary flex items-center gap-2",children:[o.jsx(S3,{}),o.jsxs("div",{className:"ms-2 flex flex-col items-start",children:[o.jsx("span",{className:"font-semibold",children:o.jsx(N,{id:"imagegen.watermark.dropdownLabel",defaultMessage:"Save image"})}),o.jsx("span",{className:"text-token-text-secondary",children:o.jsx(N,{id:"imagegen.watermark.dropdownSecondaryLabel",defaultMessage:"without watermark"})})]})]})})})})]})};function SW({rightAlign:t=!1,bottomAlign:e=!1,fullWidth:n=!1,justifyBetween:r=!1,alwaysVisible:s=!1,children:a}){const i=g.useRef(null),l=g.useRef(!1),c=KA(),u=ipe(),d=g.useCallback(()=>{u&&(l.current||(B.logEvent("Share Post: Share Button Shown",C({source:"image_gen_action_overlay"},c)),l.current=!0))},[c,u]),f=g.useCallback(m=>{m.propertyName==="opacity"&&d()},[d]);return g.useEffect(()=>{s&&d()},[s,d]),o.jsxs("div",{ref:i,onTransitionEnd:f,className:U("absolute z-2 transition-opacity duration-75 ease-out",s?"opacity-100":"opacity-0 group-hover/imagegen-image:opacity-100 group-focus/imagegen-image:opacity-100 focus-within:opacity-100",t?"end-0":"start-0",e?"bottom-0":"top-0",n&&"w-full"),children:[o.jsx("div",{className:U(e?"bg-linear-to-b":"bg-linear-to-t","from-transparent to-black/30","h-20 w-full")}),o.jsx("div",{className:U("absolute inset-0 flex p-1",e?"items-end":"items-start",t?"justify-end":"justify-start",r&&"justify-between"),children:a})]})}function np({icon:t,children:e,disabled:n,onClick:r,ariaLabel:s,selected:a=!1}){return o.jsxs("button",{"aria-pressed":a,className:U("hover:bg-white/15 hover:backdrop-blur-md focus:bg-white/15 focus:backdrop-blur-md","z-11 flex h-10 items-center justify-center gap-1 rounded-xl text-sm font-medium text-white",e==null?"w-10":"px-2"),onClick:r,disabled:n,"aria-label":s,children:[o.jsx(t,{style:{filter:"drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.15))"},className:"icon fill-current"}),e]})}function Eg(t){return e=>{e.stopPropagation(),t()}}const YIt=({imageAssetPointer:t,imageUrl:e,messageId:n,clientThreadId:r,serverThreadId:s,shouldShowOverflow:a=!1,showRatingButtons:i=!0})=>{const l=X5t(),c=Z(),[u,d]=g.useState(!1),[f,m]=g.useState(null),p=KA(),h=k=>{f==null&&($r.imageRated({liked:k,analyticsContext:p}),m(k),k||d(!0))},v=g.useCallback(()=>C5t(c),[c]),y=G6(),x=Hre(),b=(x==null?void 0:x.type)===ape.Image&&x.image.asset_pointer===t,[_,w]=g.useState(!1),S=g.useCallback(()=>{t&&(_W({url:t,fileName:v()}),$r.download({analyticsContext:p}))},[t,v,p]);return o.jsxs(o.Fragment,{children:[y?!b&&o.jsx(SW,{rightAlign:!0,fullWidth:!0,children:o.jsx(np,{icon:t5t,ariaLabel:c.formatMessage(rp.expand)})}):o.jsx(o.Fragment,{children:o.jsx(SW,{bottomAlign:!0,rightAlign:!0,fullWidth:!0,alwaysVisible:_,children:o.jsxs("div",{className:"flex w-full items-center justify-between",children:[o.jsxs("div",{className:"flex",children:[i&&f!==!1&&o.jsx(wt,{label:c.formatMessage({id:"U99PVw",defaultMessage:"Like"}),delayDuration:300,children:o.jsx(np,{icon:f===!0?GA:P3,selected:f===!0,onClick:Eg(()=>h(!0)),ariaLabel:c.formatMessage(rp.thumbsUp),disabled:f===!0})}),i&&f!==!0&&o.jsx(wt,{label:c.formatMessage({id:"ncGqTt",defaultMessage:"Dislike"}),delayDuration:300,children:o.jsx(np,{icon:f===!1?zA:A3,selected:f===!1,onClick:Eg(()=>h(!1)),ariaLabel:c.formatMessage(rp.thumbsDown),disabled:f===!1})}),e&&o.jsx(wt,{label:c.formatMessage({id:"0EYire",defaultMessage:"Download"}),children:o.jsx(np,{icon:S3,ariaLabel:c.formatMessage(rp.download),onClick:Eg(()=>{_W({url:e,fileName:v()}),$r.download({analyticsContext:p})})})}),l&&a&&o.jsx(x4t,{onOpenChange:w,onDownload:S,triggerClassName:"z-11 flex h-10 w-10 items-center justify-center rounded-xl bg-transparent hover:bg-token-icon-surface/10 focus:bg-token-icon-surface/10 focus-visible:bg-token-icon-surface/10",iconClassName:"icon-lg fill-transparent text-white",dropdownClassName:"z-11 min-w-fit origin-top-right text-token-text-primary"})]}),o.jsx("div",{className:"flex",children:o.jsx(b4t,{clientThreadId:r,messageId:n})})]})})}),u&&o.jsx(y4t,{messageId:n,serverThreadId:s!=null?s:"",rating:f,onClose:()=>d(!1)})]})};function b4t({clientThreadId:t,messageId:e}){const[n,r]=g.useState(!1),s=Z(),a=ipe(),i=zM(),l=ZA({clientThreadId:t,imageGenMessageId:e}),c=KA();return!a||i?null:o.jsx(np,{icon:n?On:Bo,disabled:n,onClick:Eg(async()=>{r(!0);try{await l()}finally{r(!1)}$r.imageShared({analyticsContext:c,source:"image_gen_action_overlay"})}),ariaLabel:s.formatMessage(rp.share),children:o.jsx(N,{id:"imageGenActionOverlay.shareButton",defaultMessage:"Share"})})}const rp=pe({thumbsUp:{id:"imageGenActionOverlay.thumbsUp",defaultMessage:"Like this image"},thumbsDown:{id:"imageGenActionOverlay.thumbsDown",defaultMessage:"Dislike this image"},inpaint:{id:"imageGenActionOverlay.inpaint",defaultMessage:"Enter inpainting mode"},download:{id:"imageGenActionOverlay.download",defaultMessage:"Download this image"},expand:{id:"imageGenActionOverlay.expand",defaultMessage:"Expand this image"},share:{id:"imageGenActionOverlay.share",defaultMessage:"Share this image"}}),C4t="data:image/svg+xml;base64,PHN2ZwogIHdpZHRoPSIzNiIKICBoZWlnaHQ9IjM2IgogIHZpZXdCb3g9IjAgMCAzNiAzNiIKICBmaWxsPSJub25lIgogIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKPgogIDxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF80NjY1XzIzMzApIj4KICAgIDxyZWN0IHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiIgZmlsbD0id2hpdGUiIC8+CiAgICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIGZpbGw9IiMxRTFFMUUiIC8+CiAgICA8cmVjdCB4PSIxOCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiBmaWxsPSJibGFjayIgLz4KICAgIDxyZWN0IHg9IjE4IiB5PSIxOCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiBmaWxsPSIjMUUxRTFFIiAvPgogICAgPHJlY3QgeT0iMTgiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZmlsbD0iYmxhY2siIC8+CiAgPC9nPgogIDxkZWZzPgogICAgPGNsaXBQYXRoIGlkPSJjbGlwMF80NjY1XzIzMzAiPgogICAgICA8cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIiAvPgogICAgPC9jbGlwUGF0aD4KICA8L2RlZnM+Cjwvc3ZnPgo=",_4t="data:image/svg+xml;base64,PHN2ZwogIHdpZHRoPSIzNiIKICBoZWlnaHQ9IjM2IgogIHZpZXdCb3g9IjAgMCAzNiAzNiIKICBmaWxsPSJub25lIgogIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKPgogIDxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF80NjY1XzIzMTkpIj4KICAgIDxyZWN0IHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiIgZmlsbD0id2hpdGUiIC8+CiAgICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIGZpbGw9IiNFRkVGRjAiIC8+CiAgICA8cmVjdCB4PSIxOCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiBmaWxsPSJ3aGl0ZSIgLz4KICAgIDxyZWN0IHg9IjE4IiB5PSIxOCIgd2lkdGg9IjE4IiBoZWlnaHQ9IjE4IiBmaWxsPSIjRUZFRkYwIiAvPgogICAgPHJlY3QgeT0iMTgiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZmlsbD0id2hpdGUiIC8+CiAgPC9nPgogIDxkZWZzPgogICAgPGNsaXBQYXRoIGlkPSJjbGlwMF80NjY1XzIzMTkiPgogICAgICA8cmVjdCB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIiAvPgogICAgPC9jbGlwUGF0aD4KICA8L2RlZnM+Cjwvc3ZnPgo=",w4t=()=>{"use forget";const t=ee.c(2),e=ga(),n="url(".concat(e?C4t:_4t,")");let r;return t[0]!==n?(r=o.jsx("div",{className:"absolute inset-0 z-0 w-full overflow-hidden opacity-0 group-hover:opacity-100 group-focus:opacity-100",children:o.jsx("div",{className:"absolute inset-0 bg-auto bg-repeat",style:{backgroundImage:n}})}),t[0]=n,t[1]=r):r=t[1],r},S4t=({src:t,thumbnail:e,alt:n,height:r,width:s,isLoaded:a,onLoad:i,onError:l})=>{"use forget";const c=Z(),[u,d]=g.useState(!1);return n!=null||(n=c.formatMessage({id:"xoI74H",defaultMessage:"ChatGPT generated image."})),o.jsxs(o.Fragment,{children:[o.jsx("img",{loading:"lazy",decoding:"async",className:U("absolute inset-0 z-0 aspect-square object-cover transition-opacity delay-100 duration-300 ease-[cubic-bezier(.24,.1,.42,.91)]",!a&&"opacity-0"),onLoad:()=>{i()},onError:()=>{l(),i()},alt:n,src:t,width:s,height:r}),e&&e!==t&&o.jsx("img",{loading:"lazy",decoding:"async",alt:n,src:e,className:U("absolute inset-0 z-1 h-full w-full object-cover blur-sm transition-opacity delay-100 duration-300 ease-[cubic-bezier(.24,.1,.42,.91)]",u&&!a?"opacity-100":"opacity-0"),onLoad:()=>d(!0),width:s,height:r}),a&&o.jsx(w4t,{})]})},k4t=t=>!("isPlaceholder"in t)||!t.isPlaceholder,QIt=t=>{"use forget";const e=ee.c(19),[n,r]=g.useState(!1),[s,a]=g.useState(!1),{index:i,onClick:l}=t,c=!k4t(t);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=U("group/imagegen-image bg-tertiary relative z-0 flex aspect-square items-center justify-center overflow-clip text-xs"),e[0]=u):u=e[0];let d;e[1]!==i||e[2]!==l||e[3]!==c?(d=()=>{c||l==null||l(i)},e[1]=i,e[2]=l,e[3]=c,e[4]=d):d=e[4];const f=c?void 0:"button",m=c?!0:void 0;let p;e[5]!==n||e[6]!==c||e[7]!==t?(p=c?o.jsx("div",{className:"absolute inset-0 flex h-full w-full items-center justify-center",children:o.jsx("div",{className:"bg-token-bg-tertiary h-full w-full animate-pulse"})}):o.jsxs(o.Fragment,{children:[!n&&o.jsx("div",{className:"bg-token-bg-tertiary absolute inset-0 z-0 animate-pulse"}),o.jsx(S4t,P(C({},t),{isLoaded:n,onLoad:()=>r(!0),onError:()=>a(!0)}))]}),e[5]=n,e[6]=c,e[7]=t,e[8]=p):p=e[8];let h;e[9]!==s||e[10]!==c?(h=s&&!c&&o.jsx(uE,{className:"text-token-text-tertiary absolute z-0 h-12 w-12 text-red-500"}),e[9]=s,e[10]=c,e[11]=h):h=e[11];let v;return e[12]!==t.children||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==p||e[17]!==h?(v=o.jsxs("div",{className:u,onClick:d,role:f,"aria-hidden":m,children:[p,h,t.children]}),e[12]=t.children,e[13]=d,e[14]=f,e[15]=m,e[16]=p,e[17]=h,e[18]=v):v=e[18],v},JIt=({onScrollToEnd:t})=>{const e=g.useRef(null);return g.useEffect(()=>{if(!e.current)return;const n=new IntersectionObserver(r=>{r[0].isIntersecting&&t()});return n.observe(e.current),()=>n.disconnect()},[t]),o.jsx("div",{className:"absolute",ref:e})};function M4t(t,e){const n=[],r={};return be.Children.forEach(t,s=>{var i,l;if(!be.isValidElement(s)){n.push(s);return}let a=!1;for(const c of Object.keys(e))((l=(i=s.type)==null?void 0:i.extends)!=null?l:s.type)===e[c]&&(r[c]=s,a=!0);a||n.push(s)}),P(C({},r),{children:n})}const kW=1.2,MW=.95,E4t=80,j4t=56,EW=.34,lpe=g.memo(function({img:e,size:n,active:r,onClick:s,axis:a,index:i,indexMv:l}){var m,p;const c=g.useCallback(h=>{const v=Math.abs(h-i);return v<1?kW-(kW-MW)*v:MW},[i]),u=g.useCallback(h=>{const v=Math.abs(h-i);return v<1?1-(1-EW)*v:EW},[i]),d=cw(l,c),f=cw(l,u);return o.jsx(Se.button,{"aria-selected":r,role:"option",onClick:s,style:{height:n,width:n,scale:d,opacity:f},className:U("border-thin focus-visible:ring-ring overflow-hidden rounded-lg border-black/10 bg-gray-200 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-none dark:border-white/10",a==="vertical"?"mx-auto mb-2 block":"flex-shrink-0"),children:o.jsx("img",{src:(m=e.thumbnail)!=null?m:e.url,alt:(p=e.title)!=null?p:"",loading:"lazy",decoding:"async",className:"h-full w-full rounded-lg object-cover"})})});function cpe(t){"use forget";const e=ee.c(51),{axis:n,itemSize:r,gap:s,imagesLen:a,index:i,setIndex:l,externalSyncRef:c,wheelHostRef:u}=t,d=g.useRef(null),[f,m]=g.useState(0),p=r+s,h=p*(a-1);let v;e[0]!==n||e[1]!==i||e[2]!==p||e[3]!==h?(v=()=>{const X=d.current;if(!X)return;const te=Math.round(i*p);n==="vertical"?X.scrollTop=mo(te,0,h):X.scrollLeft=mo(te,0,h)},e[0]=n,e[1]=i,e[2]=p,e[3]=h,e[4]=v):v=e[4];let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y=[],e[5]=y):y=e[5],Rn(v,y);let x,b;e[6]!==n||e[7]!==p?(x=()=>{const X=()=>{const ae=n==="vertical"?window.innerHeight-j4t:window.innerWidth,me=Math.max(1,Math.floor(ae/p)),W=me%2===0?me-1:me,K=n==="vertical"?E4t:0;m(W*p-K)};X();let te=null;return typeof ResizeObserver<"u"&&(te=new ResizeObserver(()=>X()),te.observe(document.documentElement)),()=>{te&&te.disconnect()}},b=[n,p],e[6]=n,e[7]=p,e[8]=x,e[9]=b):(x=e[8],b=e[9]),Rn(x,b);let _;e[10]===Symbol.for("react.memo_cache_sentinel")?(_={container:d},e[10]=_):_=e[10];const{scrollX:w,scrollY:S}=S0e(_),k=n==="vertical"?S:w;let M;e[11]!==p?(M=X=>X/p,e[11]=p,e[12]=M):M=e[12];const E=cw(k,M);let T;e[13]!==a||e[14]!==i||e[15]!==p||e[16]!==l?(T=X=>{const te=Math.round(X/p);te!==i&&te>=0&&te<a&&l(te)},e[13]=a,e[14]=i,e[15]=p,e[16]=l,e[17]=T):T=e[17],k0e(k,"change",T);let j;e[18]!==n||e[19]!==p||e[20]!==h?(j=(X,te)=>{const ae=te===void 0?!1:te,me=d.current;if(!me)return;const W=Math.round(X*p),K=n==="vertical"?{top:mo(W,0,h)}:{left:mo(W,0,h)};ae?me.scrollTo(P(C({},K),{behavior:"smooth"})):n==="vertical"?me.scrollTop=K.top:me.scrollLeft=K.left},e[18]=n,e[19]=p,e[20]=h,e[21]=j):j=e[21];const A=j,I=g.useRef(null);let L;e[22]!==a||e[23]!==A||e[24]!==l?(L=X=>{I.current||(I.current=requestAnimationFrame(()=>{l(te=>{const ae=mo(te+X,0,a-1);return ae!==te&&A(ae),ae}),I.current=null}))},e[22]=a,e[23]=A,e[24]=l,e[25]=L):L=e[25];const O=L;let R;e[26]!==n||e[27]!==O||e[28]!==a||e[29]!==i||e[30]!==A?(R=X=>{if(n!=="vertical")return;const te=X.key==="ArrowUp"?-1:X.key==="ArrowDown"?1:0;if(te){if(X.repeat)O(te);else{const ae=mo(i+te,0,a-1);A(ae,!0)}X.preventDefault()}},e[26]=n,e[27]=O,e[28]=a,e[29]=i,e[30]=A,e[31]=R):R=e[31];const H=R;let V,z;e[32]!==n||e[33]!==H?(V=()=>{if(n==="vertical")return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},z=[n,H],e[32]=n,e[33]=H,e[34]=V,e[35]=z):(V=e[34],z=e[35]),g.useEffect(V,z);let $,D;e[36]!==n||e[37]!==h||e[38]!==u?($=()=>{if(!(u!=null&&u.current)||n!=="vertical")return;const X=u.current,te=d.current;if(!te)return;const ae=me=>{me.preventDefault();let W=te.scrollTop+me.deltaY;const K=te.scrollTop<=0&&me.deltaY<0,ne=te.scrollTop>=h&&me.deltaY>0;(K||ne)&&(W=te.scrollTop+me.deltaY*.2),W=mo(W,0,h),W!==te.scrollTop&&(te.scrollTop=W)};return X.addEventListener("wheel",ae,{passive:!1}),()=>X.removeEventListener("wheel",ae)},D=[n,u,h],e[36]=n,e[37]=h,e[38]=u,e[39]=$,e[40]=D):($=e[39],D=e[40]),g.useEffect($,D);let Y,G;e[41]!==c||e[42]!==a||e[43]!==i||e[44]!==l?(Y=()=>{if(!(c!=null&&c.current))return;const X=c.current,te=()=>{const ae=Math.round(X.scrollLeft/X.clientWidth);ae!==i&&ae>=0&&ae<a&&l(ae)};return X.addEventListener("scroll",te,{passive:!0}),()=>X.removeEventListener("scroll",te)},G=[c,a,i,l],e[41]=c,e[42]=a,e[43]=i,e[44]=l,e[45]=Y,e[46]=G):(Y=e[45],G=e[46]),g.useEffect(Y,G);let F;return e[47]!==E||e[48]!==f||e[49]!==A?(F={railRef:d,railHeight:f,indexMv:E,scrollToIndex:A},e[47]=E,e[48]=f,e[49]=A,e[50]=F):F=e[50],F}const T4t=g.memo(function(e){"use forget";const n=ee.c(34),{images:r,index:s,setIndex:a,wheelHostRef:i}=e;let l;n[0]!==r.length||n[1]!==s||n[2]!==a||n[3]!==i?(l={axis:"vertical",itemSize:46,gap:8,imagesLen:r.length,index:s,setIndex:a,wheelHostRef:i},n[0]=r.length,n[1]=s,n[2]=a,n[3]=i,n[4]=l):l=n[4];const{railRef:c,railHeight:u,indexMv:d,scrollToIndex:f}=cpe(l);let m;n[5]!==f||n[6]!==a?(m=T=>{a(T),f(T)},n[5]=f,n[6]=a,n[7]=m):m=n[7];const p=m;let h,v;if(n[8]!==p||n[9]!==r){let T;n[11]!==p?(T=(j,A)=>()=>p(A),n[11]=p,n[12]=T):T=n[12],v=r.map(T),n[8]=p,n[9]=r,n[10]=v}else v=n[10];h=v;const y=h;let x;n[13]!==u?(x={height:u,contain:"layout size style"},n[13]=u,n[14]=x):x=n[14];let b;n[15]===Symbol.for("react.memo_cache_sentinel")?(b=o.jsx("div",{style:{height:"calc(50% - 23px)"}}),n[15]=b):b=n[15];let _;if(n[16]!==y||n[17]!==r||n[18]!==s||n[19]!==d){let T;n[21]!==y||n[22]!==s||n[23]!==d?(T=(j,A)=>{var I;return o.jsx(lpe,{img:j,size:46,active:A===s,onClick:y[A],axis:"vertical",index:A,indexMv:d},(I=j.id)!=null?I:j.url)},n[21]=y,n[22]=s,n[23]=d,n[24]=T):T=n[24],_=r.map(T),n[16]=y,n[17]=r,n[18]=s,n[19]=d,n[20]=_}else _=n[20];let w;n[25]===Symbol.for("react.memo_cache_sentinel")?(w=o.jsx("div",{style:{height:"calc(50% - 23px)"}}),n[25]=w):w=n[25];let S;n[26]!==c||n[27]!==x||n[28]!==_?(S=o.jsxs(Se.div,{ref:c,style:x,className:"no-scrollbar overflow-y-scroll",children:[b,_,w]}),n[26]=c,n[27]=x,n[28]=_,n[29]=S):S=n[29];let k,M;n[30]===Symbol.for("react.memo_cache_sentinel")?(k=o.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 z-10 h-16 bg-gradient-to-b from-white via-white/90 to-transparent dark:from-[#212121] dark:via-[#212121]/60 dark:to-transparent"}),M=o.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 z-10 h-16 bg-gradient-to-t from-white via-white/90 to-transparent dark:from-[#212121] dark:via-[#212121]/60 dark:to-transparent"}),n[30]=k,n[31]=M):(k=n[30],M=n[31]);let E;return n[32]!==S?(E=o.jsxs("div",{className:"relative mt-4 w-24 self-start",role:"listbox","aria-orientation":"vertical",children:[S,k,M]}),n[32]=S,n[33]=E):E=n[33],E}),N4t=g.memo(function(e){"use forget";const n=ee.c(37),{images:r,index:s,setIndex:a,carouselRef:i}=e;let l;n[0]!==i||n[1]!==r.length||n[2]!==s||n[3]!==a?(l={axis:"horizontal",itemSize:32,gap:6,imagesLen:r.length,index:s,setIndex:a,externalSyncRef:i},n[0]=i,n[1]=r.length,n[2]=s,n[3]=a,n[4]=l):l=n[4];const{railRef:c,indexMv:u,scrollToIndex:d}=cpe(l);let f,m;n[5]!==s||n[6]!==d?(f=()=>{d(s)},m=[s,d],n[5]=s,n[6]=d,n[7]=f,n[8]=m):(f=n[7],m=n[8]),Rn(f,m);let p;n[9]!==i||n[10]!==d||n[11]!==a?(p=j=>{a(j),d(j),i.current&&i.current.scrollTo({behavior:"instant",left:i.current.clientWidth*j})},n[9]=i,n[10]=d,n[11]=a,n[12]=p):p=n[12];const h=p;let v,y;if(n[13]!==h||n[14]!==r){let j;n[16]!==h?(j=(A,I)=>()=>h(I),n[16]=h,n[17]=j):j=n[17],y=r.map(j),n[13]=h,n[14]=r,n[15]=y}else y=n[15];v=y;const x=v;let b,_;n[18]===Symbol.for("react.memo_cache_sentinel")?(b={contain:"layout size style",contentVisibility:"auto"},_=o.jsx("div",{style:{width:"max(calc(50% - 32px + 6px), 0px)",flexShrink:0}}),n[18]=b,n[19]=_):(b=n[18],_=n[19]);let w;if(n[20]!==x||n[21]!==r||n[22]!==s||n[23]!==u){let j;n[25]!==x||n[26]!==s||n[27]!==u?(j=(A,I)=>{var L;return o.jsx(lpe,{img:A,size:32,active:I===s,onClick:x[I],axis:"horizontal",index:I,indexMv:u},(L=A.id)!=null?L:A.url)},n[25]=x,n[26]=s,n[27]=u,n[28]=j):j=n[28],w=r.map(j),n[20]=x,n[21]=r,n[22]=s,n[23]=u,n[24]=w}else w=n[24];let S;n[29]===Symbol.for("react.memo_cache_sentinel")?(S=o.jsx("div",{style:{width:"max(calc(50% - 32px + 6px), 0px)",flexShrink:0}}),n[29]=S):S=n[29];let k;n[30]!==c||n[31]!==w?(k=o.jsxs(Se.div,{ref:c,className:"flex flex-1 gap-1.5 overflow-x-hidden px-4 py-2",style:b,children:[_,w,S]}),n[30]=c,n[31]=w,n[32]=k):k=n[32];let M,E;n[33]===Symbol.for("react.memo_cache_sentinel")?(M=o.jsx("div",{className:"pointer-events-none absolute inset-y-0 start-0 z-10 w-8 bg-gradient-to-r from-white via-white/90 to-transparent dark:from-[#212121] dark:via-[#212121]/60 dark:to-transparent"}),E=o.jsx("div",{className:"pointer-events-none absolute inset-y-0 end-0 z-10 w-8 bg-gradient-to-l from-white via-white/90 to-transparent dark:from-[#212121] dark:via-[#212121]/60 dark:to-transparent"}),n[33]=M,n[34]=E):(M=n[33],E=n[34]);let T;return n[35]!==k?(T=o.jsxs("div",{className:"relative flex min-h-[48px] w-full overflow-hidden",role:"listbox","aria-orientation":"horizontal",children:[k,M,E]}),n[35]=k,n[36]=T):T=n[36],T}),YA=g.createContext({activeImage:void 0,index:0});function A4t({images:t,initialIndex:e=0,onClose:n,onIndexChange:r,children:s,inpaintingProps:a}){var b,_,w;const[i,l]=g.useState(e),c=t[i];g.useEffect(()=>{r==null||r(i)},[i,r]);const u=Z(),d=ha()===!1,f=g.useRef(null),{footerSlot:m,headerActionsSlot:p}=M4t(s,{footerSlot:upe,headerActionsSlot:dpe}),h=g.useRef(null),v=t.length>1,y=g.useCallback(S=>{S.key==="Escape"&&(n(),S.preventDefault())},[n]);g.useEffect(()=>(document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}),[y]),Rn(()=>{var k;if(!d||!f.current)return;const S=(k=f.current)==null?void 0:k.querySelector('[data-position="'.concat(i,'"]'));S&&f.current.scrollTo({behavior:"instant",left:S.offsetLeft})},[d]);const x=a&&(a==null?void 0:a.mode)==="inpaint";return o.jsx(YA.Provider,{value:{activeImage:c,index:i},children:o.jsx(yn.Root,{isOpen:!0,onClose:n,testId:"modal-lightbox-new",shouldIgnoreClickOutside:x,children:o.jsx(yn.Overlay,{children:o.jsxs(yn.Content,{size:"fullscreen",removePopoverStyling:!0,className:"grid min-h-0 grid-rows-[auto_minmax(0,1fr)] overflow-hidden",children:[o.jsxs(P4t,{children:[o.jsxs("div",{className:"grid w-full grid-cols-[auto_1fr] items-start justify-between gap-1 md:gap-2",children:[o.jsx(Vf,{icon:lr,onClick:n,"aria-label":u.formatMessage({id:"EYLKSm",defaultMessage:"Close"})}),(c==null?void 0:c.title)&&o.jsx("h2",{className:"line-clamp-1 self-center text-base font-medium md:line-clamp-none",children:c.title})]}),p]}),d?o.jsxs("div",{className:"grid h-full min-h-0 w-full grid-rows-[minmax(0,1fr)_auto] overflow-hidden",children:[o.jsx("ol",{ref:f,className:"no-scrollbar flex h-full snap-x snap-mandatory overflow-x-auto scroll-smooth",children:t.map((S,k)=>{var M,E;return o.jsx("li",{"data-position":k,className:"flex w-full flex-shrink-0 snap-start snap-always items-center justify-center px-4",children:o.jsx("img",{src:S.url,alt:(M=S.title)!=null?M:"",className:"max-h-full max-w-full rounded object-contain",fetchPriority:k===i?"high":"auto",loading:k===i?"eager":"lazy",decoding:"async"})},(E=S.id)!=null?E:S.url)})}),o.jsxs("div",{className:"no-scrollbar flex flex-col gap-2 overflow-hidden py-4",children:[v&&o.jsx(N4t,{images:t,index:i,setIndex:l,carouselRef:f}),o.jsx("div",{className:"px-4",children:m})]})]}):o.jsxs("div",{ref:h,className:"grid h-full w-full grid-cols-[1fr_auto] items-center overflow-y-auto overscroll-contain",children:[o.jsxs("div",{className:"grid h-full min-h-0 w-full grid-rows-[minmax(0,1fr)_auto] justify-items-center px-4 pb-9",children:[c&&o.jsxs("div",{className:"relative mt-12 mb-12 flex items-center justify-center rounded bg-neutral-100",children:[o.jsx("img",{src:c.url,alt:(b=c.title)!=null?b:"",className:"h-full max-h-full w-auto max-w-full rounded object-contain",fetchPriority:"high",loading:"eager",decoding:"async"},(_=c.id)!=null?_:c.url),x&&o.jsx(S5t,{image:c,drawingState:a.drawingState,drawingCanvasRef:a.drawingCanvasRef})]},(w=c.id)!=null?w:c.url),m]}),!x&&v?o.jsx(T4t,{images:t,index:i,setIndex:l,wheelHostRef:h}):o.jsx("div",{className:"h-full w-24"})]})]})})})})}function P4t(t){"use forget";const e=ee.c(2),{children:n}=t;let r;return e[0]!==n?(r=o.jsx("header",{className:"grid w-full grid-cols-[auto_1fr] gap-1 p-2",children:n}),e[0]=n,e[1]=r):r=e[1],r}function upe(t){"use forget";const e=ee.c(5),{children:n}=t,{activeImage:r}=g.useContext(YA);let s;e[0]!==r||e[1]!==n?(s=typeof n=="function"?n({activeImage:r}):n,e[0]=r,e[1]=n,e[2]=s):s=e[2];const a=s;let i;return e[3]!==a?(i=o.jsx("footer",{className:"pointer-events-auto w-full max-w-[768px]",children:a}),e[3]=a,e[4]=i):i=e[4],i}function dpe(t){"use forget";const e=ee.c(7),{children:n}=t,{activeImage:r}=g.useContext(YA);let s;e[0]!==r||e[1]!==n?(s=typeof n=="function"?n({activeImage:r}):n,e[0]=r,e[1]=n,e[2]=s):s=e[2];const a=s;let i;e[3]!==a?(i=[],g.Children.forEach(a,c=>{g.isValidElement(c)&&i.push(c)}),e[3]=a,e[4]=i):i=e[4];let l;return e[5]!==i?(l=o.jsx("div",{className:"flex items-baseline justify-end gap-2",children:i.map(I4t)}),e[5]=i,e[6]=l):l=e[6],l}function I4t(t,e){return o.jsx(g.Fragment,{children:t},e)}const XIt={Root:A4t,Footer:upe,LightboxHeaderActions:dpe},eLt=({assetPointer:t,serverThreadId:e,messageId:n})=>{"use forget";const r=Z(),[s,a]=g.useState(!1),i=ZA({assetPointer:t,clientThreadId:e,imageGenMessageId:n}),l=g.useCallback(async()=>{a(!0);try{await i()}finally{a(!1)}B.logEventWithStatsig("chatgpt_web_image_library_lightbox_image_share_clicked","chatgpt_web_image_library_lightbox_image_share_clicked")},[i]),c=r.formatMessage({id:"lqgWN2",defaultMessage:"Share"});return o.jsxs(o.Fragment,{children:[o.jsx(oe,{className:"max-md:hidden",color:"secondary",icon:s?On:Bo,onClick:l,disabled:s,children:c}),o.jsx(oe,{color:"ghost",className:"text-token-text-secondary w-10 md:hidden",icon:s?On:Bo,onClick:l,label:c,disabled:s})]})},L4t=["recent","images","bootstrap"],R4t=10,O4t=25,D4t=20,F4t=(t,e)=>({queryKey:["recent","images",t,e],initialPageParam:null,staleTime:2*60*1e3,queryFn:({pageParam:n})=>{const r=Le.checkGate("1057463568"),s=r?"/my/recent/v2/image_gen":"/my/recent/image_gen",a=n==null?t?R4t:O4t:D4t,i=C({limit:a,after:n},r?{retrieve_archived:e||void 0}:{include_archived:e||void 0});return ue.safeGet(s,{parameters:{query:i}})},getNextPageParam:({cursor:n})=>n}),fpe=()=>({queryKey:L4t,refetchOnMount:"always",enabled:()=>!0,queryFn:()=>ue.safeGet("/images/bootstrap",{})}),tLt=t=>t.fetchQuery(fpe()),nLt=()=>{"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=fpe(),t[0]=e):e=t[0],ut(e)};function jW({queryClient:t,includeArchived:e,isMobile:n,imageId:r,operation:s}){t.setQueryData(["recent","images",n,e],a=>a&&P(C({},a),{pages:a.pages.map(i=>{let l=i.items.map(c=>c.id===r?P(C({},c),{is_archived:s==="archive"}):c);return s==="archive"&&!e&&(l=l.filter(c=>c.id!==r)),P(C({},i),{items:l})})}))}const rLt=()=>{"use forget";const t=ee.c(7),e=q(),n=!ha();let r;t[0]!==e?(r=lc(e),t[0]=e,t[1]=r):r=t[1];const s=r;let a;t[2]!==n||t[3]!==s?(a={mutationFn:B4t,onMutate:async c=>{const{imageId:u,operation:d}=c;await Promise.all([s.cancelQueries({queryKey:["recent","images",n,!1]}),s.cancelQueries({queryKey:["recent","images",n,!0]})]);const f=s.getQueryData(["recent","images",n,!1]),m=s.getQueryData(["recent","images",n,!0]);return jW({queryClient:s,includeArchived:!1,isMobile:n,imageId:u,operation:d}),jW({queryClient:s,includeArchived:!0,isMobile:n,imageId:u,operation:d}),{recentImagesUnarchived:f,recentImagesArchived:m}},onError:(c,u,d)=>{const{recentImagesUnarchived:f,recentImagesArchived:m}=d!=null?d:{};s.setQueryData(["recent","images",n,!1],f),s.setQueryData(["recent","images",n,!0],m)},onSuccess:(c,u)=>{const{operation:d}=u;d==="unarchive"&&s.invalidateQueries({queryKey:["recent","images",n,!1]})}},t[2]=n,t[3]=s,t[4]=a):a=t[4];const i=Vt(a);let l;return t[5]!==i?(l={archiveMutation:i},t[5]=i,t[6]=l):l=t[6],l},sLt=(t,e)=>{"use forget";var _;const n=ee.c(14),r=t===void 0?!1:t,s=e===void 0?"all":e,a=!ha(),i=r||s!=="unarchived";let l,c;n[0]!==a||n[1]!==i?(c=F4t(a,i),n[0]=a,n[1]=i,n[2]=c):c=n[2],l=c;const u=l,{data:d,refetch:f,fetchNextPage:m,hasNextPage:p,isLoading:h,isFetchingNextPage:v}=ac(u);let y;e:{let w;if(n[3]!==(d==null?void 0:d.pages)||n[4]!==s){if(w=(_=d==null?void 0:d.pages.flatMap(U4t).map(H4t))!=null?_:[],s==="archived"){y=w.filter(V4t);break e}if(s==="unarchived"){y=w.filter($4t);break e}n[3]=d==null?void 0:d.pages,n[4]=s,n[5]=w,n[6]=y}else w=n[5],y=n[6];y=w}const x=y;let b;return n[7]!==m||n[8]!==p||n[9]!==x||n[10]!==v||n[11]!==h||n[12]!==f?(b={refetch:f,images:x,isLoading:h,isFetchingNextPage:v,hasNextPage:p,fetchNextPage:m},n[7]=m,n[8]=p,n[9]=x,n[10]=v,n[11]=h,n[12]=f,n[13]=b):b=n[13],b};function B4t(t){const{imageId:e,operation:n}=t;return ue.safePatch("/my/image/{gen_id}/".concat(n),{parameters:{path:{gen_id:e}}})}function U4t(t){return t.items}function H4t(t){var e,n,r,s,a,i,l,c;return P(C({},t),{archived:(e=t.is_archived)!=null?e:!1,id:t.id,messageId:(n=t.message_id)!=null?n:null,transformationId:(r=t.transformation_id)!=null?r:null,assetPointer:(s=t.asset_pointer)!=null?s:null,createdAt:t.created_at?new Date(t.created_at*1e3):void 0,conversationId:(a=t.conversation_id)!=null?a:void 0,thumbnail:(c=(l=(i=t.encodings)==null?void 0:i.thumbnail)==null?void 0:l.path)!=null?c:null})}function V4t(t){return t.archived}function $4t(t){return!t.archived}let Dm=null;function q4t(){return Dm||(Dm=document.createElement("div"),Dm.setAttribute("portal-container",""),document.body.append(Dm)),Dm||null}function aLt(t){const{children:e}=t,n=q4t();return n&&OK.createPortal(e,n)}const oLt=t=>{"use forget";const e=ee.c(6),{borderless:n}=t,r=!n&&"border";let s;e[0]!==r?(s=U("flex h-full w-full flex-col items-center justify-center gap-2 rounded-xl p-8",r),e[0]=r,e[1]=s):s=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx("div",{className:"text-token-text-secondary -mt-[100px] text-xl",children:o.jsx(N,{id:"D9mM+/",defaultMessage:"Visualize anything, find it here"})}),e[2]=a):a=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx("div",{className:"text-token-text-tertiary text-center text-base text-balance",children:o.jsx(N,{id:"fnxt50",defaultMessage:"Ask ChatGPT to turn any idea into an image, diagram, or visual."})}),e[3]=i):i=e[3];let l;return e[4]!==s?(l=o.jsxs("div",{className:s,children:[a,i]}),e[4]=s,e[5]=l):l=e[5],l},iLt=t=>{"use forget";const e=ee.c(10),{onShowHidden:n}=t,r=Z();let s;e[0]!==r?(s=r.formatMessage({id:"NaTncQ",defaultMessage:"Library menu"}),e[0]=r,e[1]=s):s=e[1];let a;e[2]!==s?(a=o.jsx(Kae,{"aria-label":s}),e[2]=s,e[3]=a):a=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(N4,{className:"h-4 w-4"}),o.jsx(N,{id:"H788Jv",defaultMessage:"Show hidden images"})]}),e[4]=i):i=e[4];let l;e[5]!==n?(l=o.jsx(J.Item,{onClick:n,children:i}),e[5]=n,e[6]=l):l=e[6];let c;return e[7]!==a||e[8]!==l?(c=o.jsx(Qa,{triggerButton:a,contentAlign:"end",children:l}),e[7]=a,e[8]=l,e[9]=c):c=e[9],c};function lLt(t){"use forget";const e=ee.c(2);if(Mue(t)&&t){let r;return e[0]!==t?(r=o.jsx(kue,{threadId:t}),e[0]=t,e[1]=r):r=e[1],r}return null}function cLt(){const t=q(),e=ie(t,"733205176"),n=ie(t,"2017435557"),r=e||n;g.useEffect(()=>{if(!r)return;const s=a=>{const i=a.payload.conversation_id,l=a.payload.update_content,c=a.payload.update_type;if(c==="refetch-conversation"){fa(i,{skipIfExisting:!1});return}if(c==="async-task-update-message"){const f=l.message;if(!f)return;Fe(i,m=>{vn.updateTree(m,p=>{p.updateNodeMessage(f.id,f)})})}const u=cr(t,i);if(ppe(u).set(Date.now()),c==="add-messages"){const f=l.messages;if(!(f!=null&&f.length))return;mpe(u).set(p=>{const h=[...p];for(const v of f){const y=p.findIndex(x=>x.id===v.id);y!==-1?h[y]=v:h.push(v)}return h})}if(c==="async-task-completed"){const f=l.message;if(!f)return;Fe(i,m=>{DE(t)?vn.setShouldRefetchConvoOnFinalize(m,!0):vn.appendMessage(m,f)})}if(c==="title-update"){const f=l.title;if(!f)return;k5(t,i,f,y0.Server)}if(c==="set-conversation-async-status"&&"conversation_async_status"in l){const f=l.conversation_async_status,m=f?{value:f,source:Cr.SERVER}:null;ns(i,m);const p=RM(i);p!==i&&ns(p,m)}if(c==="moderation-response")try{const f=l.moderation_event,m=bne(f);if((m==null?void 0:m.type)!=="moderation")throw new Error("Expected moderation type but got ".concat(m==null?void 0:m.type));Pee(m,i)}catch(f){}};return lJ.on("conversation-update",s)},[t,r])}const z4t=Object.freeze([]),ew=10*1e3,G4t=10*20*1e3,mpe=Uu(()=>nt([])),ppe=Uu(()=>nt(null));function uLt(t){"use forget";var me;const e=ee.c(51),n=q();let r;e[0]!==n||e[1]!==t?(r=t?cr(n,t):null,e[0]=n,e[1]=t,e[2]=r):r=e[2];const s=r,i=((me=C5(t))==null?void 0:me.value)===sn.REALTIME;let l;e[3]!==n?(l=W=>{var ne,re,le;const K=(ne=se.getCurrentNode(W))==null?void 0:ne.message;return[K!=null?wrt(K):0,K!=null?XS(K,n):0,K!=null?YN(K,n):null,K!=null?"".concat(K.id,":").concat(K.create_time):null,K!=null?(re=K.author)==null?void 0:re.role:null,K!=null?K.channel:null,(le=se.lastUserMessage(W))==null?void 0:le.id]},e[3]=n,e[4]=l):l=e[4];const[c,u,d,f,m,p,h]=Te(t,l);let v;e[5]!==s?(v=()=>s?ppe(s)():null,e[5]=s,e[6]=v):v=e[6];const y=at(v),x=d!=null?d*60*1e3:G4t,[b,_]=g.useState(!1),[w,S]=g.useState(!1),[k,M]=g.useState(!1),E=g.useRef(null);let T;e[7]!==t?(T=()=>{if(_(!1),!t)return;const W=setTimeout(()=>{S(!0)},ew);return()=>{clearTimeout(W),S(!1)}},e[7]=t,e[8]=T):T=e[8];let j;e[9]!==h||e[10]!==t?(j=[t,h],e[9]=h,e[10]=t,e[11]=j):j=e[11],g.useEffect(T,j);let A;e[12]!==i||e[13]!==x||e[14]!==c||e[15]!==t?(A=()=>{if(t==null||!i||!c){M(!1);return}M(!1);let W=null;const K=window.setTimeout(()=>{M(!0),Me.count(Ee.DEFAULT,"chatgpt_web_websocket_timeout_reached"),W=window.setTimeout(()=>{M(!1),Me.count(Ee.DEFAULT,"chatgpt_web_websocket_timeout_max_duration")},x)},c);return()=>{window.clearTimeout(K),W&&window.clearTimeout(W)}},e[12]=i,e[13]=x,e[14]=c,e[15]=t,e[16]=A):A=e[16];let I;e[17]!==i||e[18]!==y||e[19]!==x||e[20]!==c||e[21]!==t?(I=[t,i,c,y,x],e[17]=i,e[18]=y,e[19]=x,e[20]=c,e[21]=t,e[22]=I):I=e[22],g.useEffect(A,I);const L=t!==void 0&&i&&(b&&w||k);let O;e[23]!==s?(O=()=>s?mpe(s)():z4t,e[23]=s,e[24]=O):O=e[24];const R=at(O),H=u&&u>0?u:ew,V=k?H:ew,z=t!=null?t:"missing";let $;e[25]!==z?($=E5({clientThreadId:z,alwaysForceUpdate:!0}),e[25]=z,e[26]=$):$=e[26];const D=t!=null&&L;let Y;e[27]!==V||e[28]!==D||e[29]!==$?(Y=P(C({},$),{enabled:D,refetchInterval:V,staleTime:V}),e[27]=V,e[28]=D,e[29]=$,e[30]=Y):Y=e[30];const{data:G}=ut(Y);let F;e[31]!==m||e[32]!==p||e[33]!==f||e[34]!==t||e[35]!==k?(F=()=>{if(!t){E.current=null;return}k&&m==="assistant"&&p==="final"&&f&&f!==E.current&&(B.logEventWithStatsig("chatgpt_web_polled_for_final_assistant_message","chatgpt_web_polled_for_final_assistant_message",{conversationId:t}),Me.count(Ee.DEFAULT,"chatgpt_web_polled_for_final_assistant_message")),E.current=f},e[31]=m,e[32]=p,e[33]=f,e[34]=t,e[35]=k,e[36]=F):F=e[36];let X;e[37]!==H||e[38]!==m||e[39]!==p||e[40]!==f||e[41]!==t||e[42]!==k?(X=[f,m,p,k,t,H],e[37]=H,e[38]=m,e[39]=p,e[40]=f,e[41]=t,e[42]=k,e[43]=X):X=e[43],g.useEffect(F,X);let te;e[44]!==R||e[45]!==t?(te=()=>{!R.length||!t||Fe(t,W=>{vn.updateTree(W,(K,ne)=>{let re=null,fe=K.getBranchFromLeaf(ne).findLast(W4t),ge=fe!=null&&fe.parentId?K.getNodeByIdOrMessageId(fe.parentId):void 0;if(R.forEach(ye=>{var Ae;const _e=Ia(ye),Ne=(Ae=_e.metadata)==null?void 0:Ae.parent_id;if(Ne)if(K.getNodeIfExists(_e.id)){const ot=K.getNodeByIdOrMessageId(_e.id);if(ot.message.create_time&&_e.create_time&&ot.message.create_time>_e.create_time)return;K.updateNodeMessage(_e.id,_e)}else K.getNodeIfExists(Ne)?(ge&&fe&&Ne===(ge==null?void 0:ge.message.id)&&(re&&(K.deleteNode(ge.id),K.addMessageNode(re,ge.message)),K.deleteNode(fe.id),fe=void 0,ge=void 0),re=K.addMessageNode(Ne,_e)):_(!0);else return}),re){if(ge&&fe){K.deleteNode(ge.id),K.deleteNode(fe.id);const ye=K.addMessageNode(re,ge.message);re=K.addMessageNode(ye,fe.message)}return re}})})},e[44]=R,e[45]=t,e[46]=te):te=e[46];let ae;e[47]!==G||e[48]!==R||e[49]!==t?(ae=[G,R,t],e[47]=G,e[48]=R,e[49]=t,e[50]=ae):ae=e[50],g.useEffect(te,ae)}function W4t(t){var e;return(e=t.message.clientMetadata)==null?void 0:e.isPlaceholder}const Z4t=Je(()=>Ve(()=>import("./gk51axr1jredolm8.js"),__vite__mapDeps([161,133,4,1,5])).then(t=>t.FannyPackInitializer));function dLt(){const{isFannyPackEnabled:t,isFannyPackInitializerEnabled:e}=$j();return t||!e?null:o.jsx(Z4t,{})}function fLt({clientThreadId:t,urlThreadId:e}){const n=Z(),r=it(),s=Er();return o.jsx(kf,{children:s&&t&&!!e&&o.jsx(zj,{isOpen:!0,title:o.jsx(N,{id:"HistoryGizmoItem.leaveTempChatTitle",defaultMessage:"Leave Temporary Chat?"}),description:o.jsx(N,{id:"HistoryGizmoItem.leaveTempChatDescription",defaultMessage:"Temporary Chats don't appear in your history, so you won't be able to come back to it."}),confirmText:n.formatMessage({id:"HistoryGizmoItem.leaveTempChatConfirm",defaultMessage:"Leave Temporary Chat"}),onClose:()=>{r("/")},onConfirm:()=>{L6.setIsTemporaryChatEnabled(!1)}})})}function mLt(t){"use forget";const e=ee.c(15),n=q();let r;e[0]!==n?(r=Xa(n),e[0]=n,e[1]=r):r=e[1];const s=r;let a;e[2]!==n?(a=J6(n),e[2]=n,e[3]=a):a=e[3];const l=s&&a;let c;e[4]!==n?(c=_3(n),e[4]=n,e[5]=c):c=e[5];const{clearLoadingState:u}=c;let d;e[6]!==l?(d=y=>l?se.getConversationTurns(y):[],e[6]=l,e[7]=d):d=e[7];const f=Te(t,d);let m;e[8]!==f?(m=f.filter(Q4t).flatMap(Y4t).some(K4t),e[8]=f,e[9]=m):m=e[9];const p=m;let h,v;e[10]!==u||e[11]!==p||e[12]!==l?(h=()=>{p&&l&&u()},v=[u,p,l],e[10]=u,e[11]=p,e[12]=l,e[13]=h,e[14]=v):(h=e[13],v=e[14]),g.useEffect(h,v)}function K4t(t){return u5e(t)||_u(t)&&d5e(t)}function Y4t(t){return t.messages}function Q4t(t){return t.role===Ue.Assistant}function pLt(){const t=Yt(ws),e=at(_t.wantsAttachUserFile$),n=Z(),r=Tt(),s=jf();g.useEffect(()=>{if(!t||!e)return;_t.wantsAttachUserFile$.set(!1);const a=_t.attachUserFileRequest;if(_t.attachUserFileRequest=void 0,!!a)try{const i=new Uint8Array(a.bytes),l=new File([i],a.name,{type:a.mimeType}),c=iu(l),u=(l.type||a.mimeType).startsWith("image/"),d=u?Ha.Multimodal:Ha.Retrieval;Hl.uploadFile(s,c,l,d,u?[a.mimeType]:[],n,r)}catch(i){$n.error("failed to attach file",{error:i})}},[t,e,n,r,s])}function gLt(){const t=pr(),e=Yt(wn);g.useEffect(()=>{if(!t||!e)return;const n=a=>{var f,m;const i=a.target;if(!i)return;const l=i.closest("a");if(!l||l.closest("[data-desktop-skip-link-handler]"))return;const c=l.getAttribute("href");if(!c)return;const u=(f=l.getAttribute("target"))!=null?f:"",d=PP(c,document.baseURI);d&&(f5e(a)||(a.preventDefault(),(m=IP())==null||m.handleLink(d.href,u)))};document.addEventListener("click",n,{capture:!0});const r=window.open,s=(a,i,l)=>{var d;const c=typeof a=="string"?a:a==null?void 0:a.toString();if(!c)return r.call(window,a,i,l);const u=PP(c,document.baseURI);return u?((d=IP())==null||d.handleLink(u.href,i!=null?i:""),null):r.call(window,a,i,l)};return window.open=s,()=>{document.removeEventListener("click",n,{capture:!0}),window.open=r}},[t,e])}function J4t(t,e){const n=e==null?void 0:e.filter(a=>a.width!==void 0&&a.height!==void 0);if(!(n!=null&&n.length))return{content_type:rt.Text,parts:[t]};const r=n.map(a=>{var i,l;return{content_type:Tp.ImageAssetPointer,asset_pointer:fw((i=a.id)!=null?i:""),size_bytes:(l=a.size)!=null?l:0,width:a.width,height:a.height}}),s=t;return{content_type:rt.MultimodalText,parts:[...r,s]}}function hLt(t,e){const n=q(),r=Yt(ws),s=at(_t.wantsRequestCompletion$),a=at(_t.sidebarUrlTrayOpen$),i=t5(n);g.useEffect(()=>{if(!r||!s)return;_t.wantsRequestCompletion$.set(!1);const l=_t.requestCompletion;if(!l)return;const c=k3({namespace:u1.CompletionRequest,opts:{debug:!1}});c.reset();function u(p){p&&Fe(t,h=>{h.modelId=p})}function d(p){if(!p)return;const{prepareState:h,lastPrepareTimestamp:v,conduitToken:y}=p;Fe(t,x=>{x.prepareState=h,x.lastPrepareTimestamp=v,x.conduitToken=y!=null?y:null})}async function f(p,h,v){var k,M,E,T;const y=(k=_t.tabContext)==null?void 0:k[0],x=a&&i,b=J4t(p,_t.attachments),_=Fr(b,C(C(C({},h.length&&{system_hints:h}),((M=_t.attachments)==null?void 0:M.length)&&{attachments:_t.attachments}),await QM(x?y:void 0,(E=_t.promptOrigin)!=null?E:"unknown","user",h))),w=x?await m5e(y,(T=_t.promptOrigin)!=null?T:"unknown",h,t):void 0;return{promptMessage:_,prependMessages:w&&w.length>0?w:void 0,requestedModelId:v!==""?v:void 0,completionMetadata:{systemHints:h}}}function m(){_t.requestCompletion=void 0,_t.attachments=void 0,_t.prepareConversationDetails=void 0,_t.whisperContent=void 0,_t.tabContext=void 0,_t.promptOrigin=void 0}u(l.modelSlug),d(_t.prepareConversationDetails),(async()=>{const p=await f(l.prompt,l.systemHints,l.modelSlug);p.profiler=c,m(),e(p)})()},[r,s,t,e,a,i])}function vLt(t){const e=Yt(ws),n=it(),r=kn(t),s=pt(),a=e4({clientThreadId:t,location:"Sidebar"}),i=Ql(),l=q(),c=at(_t.wantsModelSlug$),u=at(_t.selectedConversationId$),d=at(_t.wantsNewConversation$),f=JOe(Za());g.useEffect(()=>{e&&d&&(_t.wantsNewConversation$.set(!1),a())},[e,d,a]),g.useEffect(()=>{!e||!f||(_t.selectedConversationId$.set(void 0),a())},[e,f,a]),g.useEffect(()=>{e&&u&&u!==r&&HE(n,s,u)},[e,u,n,s,r]),g.useEffect(()=>{e&&c&&(_t.wantsModelSlug$.set(void 0),$6(l,c),i({modelId:c,location:"Sidebar"}))},[e,c,t,i,l])}const X4t=24;function e7t({className:t}){return o.jsx("div",{className:U("pointer-events-none fixed inset-x-0 z-21","border-b-thin hires:top-[calc(var(--header-height)-.5px)] top-[calc(var(--header-height)-1px)] border-(--bento-border-color)",t)})}function yLt(){const t=at(()=>Vut());return t==="none"?null:o.jsxs(o.Fragment,{children:[o.jsx(e7t,{}),o.jsx("div",{className:U(afe("bento"),ofe,"pointer-events-none fixed inset-y-0 start-1/2 z-99 -translate-x-1/2 border-s border-e border-(--bento-border-color)","hires:[border-inline-width:0.5px] [border-inline-width:1px]",t==="contentOnly"&&"mt-(--header-height)"),style:{width:"min(100vw, calc(min(var(--thread-content-max-width), 100cqw - (var(--thread-content-margin) * 2)) + ".concat(2*X4t,"px))")}})]})}class t7t{static async getOnPageSuggestions({source:e="kaur1br5_chat",current_page:n}){return await ue.safePost("/kaur1br5/suggestions",{requestBody:{source:e,current_page:n}})}}const n7t=(t,e,n,r)=>C({queryKey:["kaur1br5","kaur1br5Suggestions",n!=null?n:"anon",t],enabled:!!t&&!!e,staleTime:5*60*1e3,gcTime:30*60*1e3,refetchOnWindowFocus:!1,queryFn:async()=>t7t.getOnPageSuggestions({source:"kaur1br5_chat",current_page:{url:t,title:e}})},r!=null?r:{});function r7t(t,e,n){var l;const r=q(),s=yt(r),a=(l=s==null?void 0:s.id)!=null?l:void 0,i=ie(r,"3830740688");return ut(n7t(t,e,a,{enabled:!!(t&&e&&!n&&i)}))}function s7t(t,e,n){B.logEventWithStatsig("kaur1br5: Suggested Action Displayed","chatgpt_suggested_action_displayed",gpe(t,e,n))}function a7t(t,e,n){B.logEventWithStatsig("kaur1br5: Suggested Action Selected","chatgpt_suggested_action_selected",gpe(t,e,n))}function gpe(t,e,n){var s;const r={location:n.location,impression_id:n.impression_id,suggestion_index:e,suggestion_id:(s=t.id)!=null?s:null,suggestion_type:t.action_type};return n.page_classification_domain&&(r.page_classification_domain=n.page_classification_domain),n.page_classification_type&&(r.page_classification_type=n.page_classification_type),t.action_type==="chat"&&t.system_hint&&(r.system_hint=t.system_hint),r}function o7t(t){"use forget";var E;const e=ee.c(30),{action:n,ChatsIcon:r,FileBlankIcon:s,onItemClick:a,starter:i,index:l,hint:c}=t;let u;e[0]!==r?(u=function(j){const{hint:A}=j;if(A){const I={systemHint:A,aliases:[],name:A,description:"",logo:"",requiredFeatures:[],requiredModels:[],allowInTemporaryChat:!0,requiredConversationModes:[],isAuto:!1,category:p5e[0],persistBetweenMessages:!1};return o.jsx(du,{hint:I,isNextToLabel:!0,className:"block h-4 w-4 text-token-text-primary","aria-hidden":!0})}return o.jsx(r,{className:"block h-4 w-4 text-token-text-primary"})},e[0]=r,e[1]=u):u=e[1];const d=u;let f,m,p,h=!1;e:switch(n.action_type){case"chat":{f=n.title,m=n.message,p=(E=n.system_hint)!=null?E:void 0,h=p==="agent";break e}case"navigation":f=n.title,m=n.subtitle||n.url}if(!f)return null;let v;e[2]!==c||e[3]!==l||e[4]!==a||e[5]!==i?(v=T=>a(T,i,l,c),e[2]=c,e[3]=l,e[4]=a,e[5]=i,e[6]=v):v=e[6];let y;e[7]!==d||e[8]!==s||e[9]!==n.action_type||e[10]!==n.system_hint?(y=o.jsx("div",{className:"mt-[2px] shrink-0 self-start","aria-hidden":!0,children:n.action_type==="chat"?o.jsx(d,{hint:n.system_hint}):o.jsx(s,{className:"text-token-text-primary block h-4 w-4"})}),e[7]=d,e[8]=s,e[9]=n.action_type,e[10]=n.system_hint,e[11]=y):y=e[11];let x;e[12]!==f?(x=o.jsx("div",{className:"text-token-text-primary truncate text-sm leading-5",children:f}),e[12]=f,e[13]=x):x=e[13];let b;e[14]!==h?(b=h&&o.jsx("span",{className:"inline-flex shrink-0 items-center rounded-full px-1.5 py-px text-xs",style:{color:"var(--colors-fills-accented-fill-a-prominent, #007AFD)",background:"var(--colors-fills-accented-fill-a-subtle, rgba(0, 122, 253, 0.10))"},children:o.jsx(N,{id:"4ufBv1",defaultMessage:"NEW"})}),e[14]=h,e[15]=b):b=e[15];let _;e[16]!==x||e[17]!==b?(_=o.jsxs("div",{className:"flex items-center gap-2",children:[x,b]}),e[16]=x,e[17]=b,e[18]=_):_=e[18];let w;e[19]!==m?(w=m?o.jsx("div",{className:"text-token-text-secondary mt-1 truncate text-sm",children:m}):null,e[19]=m,e[20]=w):w=e[20];let S;e[21]!==_||e[22]!==w?(S=o.jsxs("div",{className:"min-w-0 flex-1",children:[_,w]}),e[21]=_,e[22]=w,e[23]=S):S=e[23];let k;e[24]!==y||e[25]!==S?(k=o.jsxs("div",{className:"flex items-start gap-2 overflow-hidden",children:[y,S]}),e[24]=y,e[25]=S,e[26]=k):k=e[26];let M;return e[27]!==v||e[28]!==k?(M=o.jsx("li",{children:o.jsx("button",{type:"button",onClick:v,className:"relative w-full rounded-xl py-3 ps-3.5 pe-3 text-start transition-colors hover:bg-black/5 dark:hover:bg-white/5",children:k})}),e[27]=v,e[28]=k,e[29]=M):M=e[29],M}function i7t(t){"use forget";const e=ee.c(9),{items:n,suggestions:r,onItemClick:s}=t;let a;if(e[0]!==n||e[1]!==s||e[2]!==r){let l;e[4]!==s||e[5]!==r?(l=(c,u)=>{var m,p;const d=r[u],f=c.action_type==="chat"&&(m=c.system_hint)!=null?m:null;return o.jsx(o7t,{action:c,ChatsIcon:rl,FileBlankIcon:is,onItemClick:s,starter:d,index:u,hint:f},(p=c.id)!=null?p:c.title)},e[4]=s,e[5]=r,e[6]=l):l=e[6],a=n.map(l),e[0]=n,e[1]=s,e[2]=r,e[3]=a}else a=e[3];let i;return e[7]!==a?(i=o.jsx("ul",{className:"flex flex-col gap-2",children:a}),e[7]=a,e[8]=i):i=e[8],i}const TW="default_agent_suggestion",l7t=[{reason:"Default suggestion",action_type:"chat",id:Yn(),title:"Summarize",message:"Summarize this content"},{reason:"Default suggestion",action_type:"chat",id:Yn(),title:"Learn more",message:"Find related information and links to this content",system_hint:"search"},{reason:"Default suggestion",action_type:"chat",id:Yn(),title:"What can I do here?",message:"Suggest useful actions for this content"}];function c7t(t){var r,s;let e="";switch(t.action_type){case"chat":e=t.message;break;case"navigation":e=t.title;break}const n=t.action_type==="chat"&&t.system_hint?sE(String(t.system_hint)):void 0;return{type:je.Starter,title:(r=t.title)!=null?r:"",body:"",prompt:String(e!=null?e:""),id:(s=t.id)!=null?s:void 0,data:C({},n?{system_hint:n}:{})}}function u7t(){"use forget";var E,T;const t=at(_t.context$),e=t==null?void 0:t.url,n=t==null?void 0:t.title,r=(E=t==null?void 0:t.blocked)!=null?E:!1,{data:s,isLoading:a}=r7t(e,n,r),i=s1(),l=wu.useStore(),{activeSystemHintType:c,activeConnectorSystemTypes:u}=wu.useState(j=>({activeSystemHintType:j.activeSystemHintType,activeConnectorSystemTypes:j.activeConnectorSystemTypes})),{store:d}=Gf(),[f,m]=g.useState(null);g.useEffect(()=>{let j=!1;async function A(){if(t&&t.url&&t.title){const I=await QM(t,Rot,"user");j||m(I)}}return A(),()=>{j=!0}},[t]);const p=!t||!t.url||!t.title,h=a||p||!f,v=s==null?void 0:s.actions,y=g.useMemo(()=>{if(r)return[];const j=v!=null?v:[],A=3,I=new Set;c&&I.add(c);for(const V of u)I.add(V);const L=I.size>0,O=V=>{if(!L)return!0;if(V.action_type!=="chat"||!V.system_hint)return!1;const z=sE(V.system_hint);return z?I.has(z):!1},R=j.filter(V=>L&&V.id===TW?!1:O(V));if(L)return R.slice(0,A);const H=j.slice(0,A);return H.length>0?H:l7t.slice(0,A)},[u,c,r,v]),x=y.map(j=>{const A=c7t(j),I=C({},A.data);return f!=null&&f.kaur1br5&&(I.kaur1br5=f.kaur1br5),P(C({},A),{data:I})}),b=g.useMemo(()=>y.map((j,A)=>{var I,L;return"".concat((L=(I=j.id)!=null?I:j.title)!=null?L:"","-").concat(A)}).join("|"),[y]),_=g.useRef(Yn());g.useEffect(()=>{_.current=Yn()},[b]);const w=(T=s==null?void 0:s.id)!=null?T:_.current,S=g.useMemo(()=>{var j,A;return{location:"sidebar",impression_id:w,page_classification_domain:(j=s==null?void 0:s.page_classification)==null?void 0:j.domain,page_classification_type:(A=s==null?void 0:s.page_classification)==null?void 0:A.page_type}},[s,w]),k=g.useRef(null);g.useEffect(()=>{h||y.length===0||k.current!==w&&(k.current=w,y.forEach((j,A)=>{s7t(j,A,S)}))},[S,w,h,y]);const M=(j,A,I,L)=>{var O;if(y[I]&&a7t(y[I],I,S),l.setActiveSystemHint(L,{locked:!1}),((O=A.data)==null?void 0:O.system_hint)==="agent"){const R=d.getSharedProps();if(R!=null&&R.composerController){const H=Ht(R.composerController);if(A.id===TW)return;Va(H,A.prompt)}return}i(j,A,x,I)};return o.jsx("div",{className:"ps-2.5 pe-3 pt-4",children:!h&&o.jsx("div",{className:"w-full max-w-[28rem]",children:o.jsx(i7t,{items:y,suggestions:x,onItemClick:M})})})}const d7t=Je(()=>Ve(()=>import("./lef5ym39glv4981l.js").then(t=>t.wK),__vite__mapDeps([4,1,5])).then(t=>t.OpenaiLogo));function f7t(){return o.jsx("div",{className:"flex h-full items-center justify-center",children:o.jsx(d7t,{className:"h-11 w-11 opacity-40"})})}function xLt({ctx:t}){return ie(t,"292680291")?o.jsx("div",{className:"mt-auto pb-3",children:o.jsx(u7t,{})}):o.jsx(f7t,{})}const bLt=Uu(()=>({marginBottom$:nt(null),height$:nt(null)}));var wK;const CLt=Ge.header(wK||(wK=qe(["draggable no-draggable-children sticky top-0 p-2 touch:p-2.5 flex items-center justify-between z-20 h-header-height bg-token-main-surface-primary"]))),_Lt=128;function wLt(t){var l;const i=t,{tooltip:e,className:n,testId:r}=i,s=de(i,["tooltip","className","testId"]),a=o.jsx(oe,P(C({color:(l=t.color)!=null?l:"secondary",size:"medium"},s),{className:n,"data-testid":r}));return e!=null?o.jsx(wt,{label:e,children:a}):a}function SLt({label:t,disabled:e=!1,tooltipText:n,value:r}){const s=g.useId();return o.jsx("div",{className:U("flex items-center gap-2",e?"opacity-50":""),children:o.jsx(wt,{disabled:n==null,label:n,side:"right",triggerAs:null,children:o.jsxs("label",{htmlFor:s,className:"flex cursor-pointer items-center gap-1",children:[o.jsx(dT,{id:s,value:r,disabled:e,className:"me-1 flex h-5 w-5 shrink-0 items-center justify-center rounded-full border border-gray-500 bg-white dark:border-gray-600 dark:bg-gray-700",children:o.jsx(fT,{className:"h-2 w-2 rounded-full bg-gray-950 dark:bg-white"})}),t]})})})}function kLt(t){return o.jsx($l,P(C({},t),{className:U("rounded-sm! checked:border-black! checked:bg-black! dark:border-gray-600 dark:bg-gray-700",t.className)}))}const hpe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.835 9.83331C16.835 9.12228 16.8341 8.62894 16.8027 8.24542C16.772 7.86972 16.7153 7.65831 16.6348 7.50031C16.4588 7.15506 16.1783 6.87447 15.833 6.69855C15.675 6.61804 15.4636 6.56128 15.0879 6.53058C14.7044 6.49924 14.211 6.49835 13.5 6.49835H6.5C5.78896 6.49835 5.29563 6.49924 4.91211 6.53058C4.5364 6.56128 4.325 6.61804 4.16699 6.69855C3.82175 6.87447 3.54116 7.15506 3.36524 7.50031C3.28473 7.65831 3.22797 7.86972 3.19727 8.24542C3.16593 8.62894 3.16504 9.12228 3.16504 9.83331V12.2503C3.16504 12.9612 3.16594 13.4547 3.19727 13.8382C3.22797 14.2137 3.28475 14.4254 3.36524 14.5833C3.54117 14.9284 3.82182 15.2092 4.16699 15.3851C4.32499 15.4656 4.53646 15.5223 4.91211 15.553C5.29563 15.5844 5.78896 15.5853 6.5 15.5853H13.5C14.211 15.5853 14.7044 15.5844 15.0879 15.553C15.4635 15.5223 15.675 15.4656 15.833 15.3851C16.1782 15.2092 16.4588 14.9284 16.6348 14.5833C16.7153 14.4254 16.772 14.2137 16.8027 13.8382C16.8341 13.4547 16.835 12.9612 16.835 12.2503V9.83331ZM18.165 12.2503C18.165 12.9392 18.1657 13.4964 18.1289 13.9466C18.0915 14.4044 18.0122 14.8102 17.8203 15.1868C17.5169 15.7824 17.0321 16.2662 16.4365 16.5696C16.0599 16.7615 15.6542 16.8408 15.1963 16.8782C14.746 16.915 14.1891 16.9153 13.5 16.9153H6.5C5.81091 16.9153 5.25395 16.915 4.80371 16.8782C4.34584 16.8408 3.94015 16.7615 3.56348 16.5696C2.96794 16.2662 2.48313 15.7824 2.17969 15.1868C1.98783 14.8102 1.90853 14.4044 1.87109 13.9466C1.83431 13.4964 1.83496 12.9392 1.83496 12.2503V9.83331C1.83496 9.14422 1.83431 8.58727 1.87109 8.13702C1.90851 7.67923 1.98788 7.27341 2.17969 6.89679C2.48313 6.30126 2.96794 5.81644 3.56348 5.513C3.94009 5.3212 4.34592 5.24182 4.80371 5.20441C5.25395 5.16762 5.81091 5.16827 6.5 5.16827H13.5C14.1891 5.16827 14.746 5.16762 15.1963 5.20441C15.6541 5.24182 16.0599 5.3212 16.4365 5.513C17.0321 5.81644 17.5169 6.30126 17.8203 6.89679C18.0121 7.27341 18.0915 7.67923 18.1289 8.13702C18.1657 8.58727 18.165 9.14422 18.165 9.83331V12.2503Z"}),g.createElement("path",{d:"M12.2686 2.64485L15.0069 2.66828L15.1407 2.68293C15.443 2.74798 15.6683 3.01883 15.6651 3.34016C15.6618 3.66124 15.4313 3.92651 15.128 3.98567L14.9932 3.99836L12.2627 3.97493C9.84402 3.95932 8.1286 3.96715 5.00687 3.99836C4.63968 4.00203 4.33877 3.70732 4.33499 3.34016C4.33132 2.97297 4.62603 2.67206 4.9932 2.66828C8.12135 2.63701 9.8436 2.62921 12.2686 2.64485Z"})),MLt=Object.freeze(Object.defineProperty({__proto__:null,default:hpe},Symbol.toStringTag,{value:"Module"})),vpe={spreadsheets:Ple,presentations:hpe,actions:w3,deep_research:Sr,suggested:c3};function ELt({clientThreadId:t}){const{isOdysseyMode:e}=iA(t),n=h7t(e),{keywords:r}=d1e({clientThreadId:t});return!e||!n?null:o.jsx(m7t,{groups:n,mentionKeywords:r})}function m7t({groups:t,mentionKeywords:e}){const[n,r]=g.useState(null),s=nl(),[a,i]=g.useState(null),[l,c]=g.useState("suggested"),u=_=>{c(_),i(null)},d=g.useMemo(()=>{var w;const _=t.find(S=>S.category.name===l);return(w=_==null?void 0:_.prompts)!=null?w:[]},[t,l]);g.useEffect(()=>{d&&a!=null&&Va(Ht(s),d[a].prompt_string)},[s,d,a]),g.useEffect(()=>{e&&e.length>0&&DQ(e,Ht(s))},[s,e]);const[f,m]=g.useState(()=>ic(()=>ju(s)));g.useEffect(()=>A0(()=>{ju(s)&&m(!0)}),[s]);const p=vu(()=>{const _=a==null?0:Math.min(a+1,d.length-1);return i(_),!0}),h=vu(()=>{const _=a===0||a==null?null:a-1;return i(_),!0}),v=d.length>0;g.useEffect(()=>{if(!(!f||!v))return KY(Ht(s),{ArrowDown:p,ArrowUp:h})},[f,v,s,p,h]),g.useEffect(()=>s.subscribe("input",()=>{m(!1),i(null)}),[s]),g.useEffect(()=>s.subscribe("click",()=>{m(!1),i(null)}),[s]);const y=g.useRef(null),[x,b]=g.useState(void 0);return Rn(()=>{y.current&&b(y.current.offsetWidth)},[l]),o.jsx(sfe,{horizontalPadding:"standard",horizontalMargin:"none",verticalMargin:"none",verticalPadding:"none",overflowY:"auto",children:o.jsx(m1,{className:"h-full overflow-y-hidden",children:o.jsx(Se.div,{className:"flex size-full flex-col",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs("div",{className:"mt-5 flex flex-col items-center overflow-y-auto",children:[o.jsx("div",{className:"py-2",ref:y,children:o.jsx("div",{className:"flex flex-row flex-nowrap gap-2 overflow-x-auto",children:t.map(_=>o.jsx(p7t,{category:_.category.name,displayName:_.category_display_name,selected:l===_.category.name,onSelect:()=>u(_.category.name)},_.category.name))})}),o.jsx("div",{className:"overflow-y-auto",children:o.jsx(Se.ul,{className:"mt-1 flex flex-col",style:x?{width:x}:{},children:d.map((_,w)=>o.jsx(g7t,{prompt:_,rowIdx:w,selected:a===w,onSelect:()=>{B.logEvent("Agent Suggested Prompt Selected",{prompt_title:_.title,prompt_category:_.categories[0].name}),i(w),Zo(Ht(s))},hoveredPromptIndex:n,setHoveredPromptIndex:r,totalRows:d.length},"".concat(l,"-").concat(w)))})})]})})})})}function p7t({category:t,displayName:e,selected:n,onSelect:r}){const s=vpe[t],a=n?"text-token-text-primary":"text-token-text-secondary",i=n?"text-token-icon-primary":"text-token-icon-secondary";return o.jsx(oe,{color:"secondary",onClick:r,icon:()=>o.jsx(s,{className:i}),className:U("border-token-bg-tertiary",n&&"bg-token-bg-tertiary","font-normal",a),children:e})}function g7t({prompt:t,rowIdx:e,selected:n,onSelect:r,hoveredPromptIndex:s,setHoveredPromptIndex:a,totalRows:i}){const l=g.useRef(null);g.useEffect(()=>{var d;n&&((d=l.current)==null||d.scrollIntoView({behavior:"auto"}))},[n]);function c(){const d=v7t(t),f=d?vpe[d]:Vs;return o.jsx(f,{className:"text-token-icon-secondary size-5"})}const u=s===e||s===e+1;return o.jsxs(Se.li,{ref:l,initial:{opacity:0,translateY:4},animate:{opacity:1,translateY:0},transition:{delay:e*.03},exit:{opacity:0,translateY:4},onMouseEnter:()=>a(e),onMouseLeave:()=>a(null),children:[o.jsxs("button",{className:U("hover:bg-token-bg-tertiary flex w-full flex-row items-center rounded-xl px-2 py-4 text-start"),onClick:r,type:"button",children:[o.jsx("div",{className:"flex flex-col items-center justify-center p-1",children:c()}),o.jsx("div",{className:"text-token-text-secondary flex-1 overflow-hidden pe-2 text-sm text-ellipsis whitespace-nowrap",children:t.title}),t.example_url?o.jsx("div",{className:"flex flex-col items-center justify-center pe-1",onClick:d=>{d.stopPropagation(),B.logEvent("Agent Suggested Prompt Example Clicked",{prompt_title:t.title,prompt_category:t.categories[0].name}),t.example_url&&(window.location.href=t.example_url)},children:o.jsx(Kj,{className:"text-token-icon-tertiary size-6.5 shrink-0"})}):null]}),e<i-1&&!u&&o.jsx("div",{className:"bg-token-bg-tertiary mx-4 mt-[-1px] h-[1px]"})]})}function h7t(t){var n;return(n=ut({queryKey:["odyssey_suggested_prompts_all"],queryFn:async()=>await ue.safeGet("/n7jupd_suggested_prompts_all"),enabled:t}).data)==null?void 0:n.prompt_groups}function v7t(t){const e=t.categories;if(e.length!==0)return e[0].name}class ype{constructor(e){Q(this,"config");Q(this,"localStorageKey");this.config=e,this.localStorageKey=e.localStorageKey}getState(){const e=Ft.getItem(this.localStorageKey)||{lastShown:null,showCount:0,shownTimestamps:[]};return Array.isArray(e.shownTimestamps)||(e.shownTimestamps=[]),e}setState(e){Ft.setItem(this.localStorageKey,e)}getShownTimes(){return this.getState().showCount}shouldShow(){const e=this.getState(),n=Date.now();if(this.config.termination.maxShows!==void 0&&e.showCount>=this.config.termination.maxShows||this.config.termination.customCondition&&this.config.termination.customCondition())return!1;const r=this.config.schedule.maxShowsPerInterval;if(r!==void 0){const s=n-this.config.schedule.intervalMs;if((e.shownTimestamps||[]).filter(i=>i>=s).length>=r)return!1}else if(e.lastShown!=null&&n-e.lastShown<this.config.schedule.intervalMs)return!1;return!0}recordShown(){const e=this.getState(),n=Date.now();let r=Array.isArray(e.shownTimestamps)?e.shownTimestamps:[];const s=n-this.config.schedule.intervalMs;r=r.filter(a=>a>=s),r.push(n),this.setState({lastShown:n,showCount:e.showCount+1,shownTimestamps:r})}reset(){Ft.setItem(this.localStorageKey,{lastShown:null,showCount:0,shownTimestamps:[]})}}const Gk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M2.97065 14.6371C2.71095 14.8968 2.28895 14.8968 2.02925 14.6371C1.76982 14.3775 1.76993 13.9563 2.02925 13.6966L2.97065 14.6371ZM16.8349 10.8333V7.43881L10.8867 13.3871C10.627 13.6466 10.2059 13.6467 9.94624 13.3871L7.08296 10.5238L2.97065 14.6371L2.49995 14.1664L2.02925 13.6966L6.61323 9.11264L6.71772 9.02768C6.97575 8.85755 7.32652 8.88565 7.55366 9.11264L10.416 11.9759L15.8945 6.49838H12.5C12.1327 6.49838 11.8349 6.20061 11.8349 5.83334C11.8349 5.46607 12.1327 5.1683 12.5 5.1683H17.5L17.6337 5.18198C17.9369 5.24391 18.165 5.51191 18.165 5.83334V10.8333C18.165 11.2006 17.8672 11.4984 17.5 11.4984C17.1327 11.4984 16.8349 11.2006 16.8349 10.8333Z"})),jLt=Object.freeze(Object.defineProperty({__proto__:null,default:Gk},Symbol.toStringTag,{value:"Module"}));function y7t(){"use forget";const t=Z(),e=cJ(),{availableConnectors:n,isLoading:r}=O6({includeAutoConnectors:!0}),{connectedTypes:s,isLoading:a}=H6({includeAutoConnectors:!0}),{isLoading:i,internalKnowledgeConfigs:l}=g5e(),c=!!(e&&(l!=null&&l.some(b=>b.user_connection_details.auth_status==="not_connected"))),u=!!(e&&(l!=null&&l.some(b=>["partially_activated","activated"].includes(b.user_connection_details.activation_status)))),d=Kr(),f=b=>{var w,S,k;const _=(w=b.data)!=null?w:{};return{connectors:(S=_.connectors)!=null?S:{},syncConnectors:(k=_.syncConnectors)!=null?k:{}}},m=b=>o.jsx("div",{className:"flex flex-1 items-center justify-end gap-1",children:b.filter(Boolean).slice(0,3).map((_,w)=>o.jsx("div",{className:"flex h-4 w-4 shrink-0 items-center justify-center rounded-full",children:o.jsx(_,{className:"h-full w-full"})},w))}),p=(b,_,w)=>{const S=[],k=!!(_!=null&&_[Lc.gdrive_sync_connector]);k&&w.hasGdriveSync&&S.push(_[Lc.gdrive_sync_connector]);const M=E=>w.mode==="connected"?w.connectedTypes.has(E):w.availableTypes.has(E);for(const E of Object.keys(b))k&&w.hasGdriveSync&&E===vt.GDRIVE_ACTION_CONNECTOR||M(E)&&S.push(b[E]);return S.sort(()=>Math.random()-.5),S},h=g.useCallback((b,_)=>{var w,S;if(_.type===je.Starter&&(_.theme===Ct.ContextualAnswersNUX||_.theme===Ct.Slurm)){const{data:k}=_,{link:M}=k;window.location.hash=M+"&suggestedPromptsText=".concat(encodeURIComponent(_.prompt)),B.logEventWithStatsig("chatgpt_contextual_answers_recommended_prompt_selected","chatgpt_contextual_answers_recommended_prompt_selected",{prompt_id:(w=_.data)==null?void 0:w.id,prompt_position:(S=_.data)==null?void 0:S.position}),b.preventDefault();return}},[]),v=g.useMemo(()=>[{type:je.Starter,title:t.formatMessage({id:"9jtvbx",defaultMessage:"Describe and suggest improvements to my email style"}),prompt:t.formatMessage({id:"PjZmLV",defaultMessage:"Describe and suggest improvements to my email style"}),theme:Ct.Slurm,data:{connectors:{[vt.GMAIL_CONNECTOR]:hi,[vt.OUTLOOK_EMAIL_CONNECTOR]:Ic}},body:""},{type:je.Starter,title:t.formatMessage({id:"gmFv/2",defaultMessage:"Summarize my unread emails"}),prompt:t.formatMessage({id:"/lt8RC",defaultMessage:"Summarize my unread emails"}),theme:Ct.Slurm,data:{connectors:{[vt.GMAIL_CONNECTOR]:hi,[vt.OUTLOOK_EMAIL_CONNECTOR]:Ic}},body:""},{type:je.Starter,title:t.formatMessage({id:"rMKyX2",defaultMessage:"Give me an overview of a project or customer"}),prompt:t.formatMessage({id:"5hS/7U",defaultMessage:"Give me an overview of a project or customer"}),theme:Ct.Slurm,data:{connectors:{[vt.GDRIVE_ACTION_CONNECTOR]:Ir,[vt.GMAIL_CONNECTOR]:hi,[vt.OUTLOOK_EMAIL_CONNECTOR]:Ic,[vt.HUBSPOT_CONNECTOR]:E7,[vt.DROPBOX_CONNECTOR]:Ul,[vt.NOTION_CONNECTOR]:ld,[vt.SHAREPOINT_CONNECTOR]:M7,[vt.TEAMS_CONNECTOR]:tg},syncConnectors:{[Lc.gdrive_sync_connector]:Ir}},body:""},{type:je.Starter,title:t.formatMessage({id:"c9CBw8",defaultMessage:"Find me the top three most relevant documents on a project"}),prompt:t.formatMessage({id:"NYPKci",defaultMessage:"Find me the top three most relevant documents on a project"}),theme:Ct.Slurm,data:{connectors:{[vt.GDRIVE_ACTION_CONNECTOR]:Ir,[vt.GMAIL_CONNECTOR]:hi,[vt.OUTLOOK_EMAIL_CONNECTOR]:Ic,[vt.HUBSPOT_CONNECTOR]:E7,[vt.DROPBOX_CONNECTOR]:Ul,[vt.NOTION_CONNECTOR]:ld,[vt.SHAREPOINT_CONNECTOR]:M7,[vt.TEAMS_CONNECTOR]:tg},syncConnectors:{[Lc.gdrive_sync_connector]:Ir}},body:""},{type:je.Starter,title:t.formatMessage({id:"bh3D+B",defaultMessage:"Review my most recent PR"}),prompt:t.formatMessage({id:"MQvW9m",defaultMessage:"Review my most recent PR"}),theme:Ct.Slurm,data:{connectors:{[vt.GITHUB_CONNECTOR]:T0}},body:""},{type:je.Starter,title:t.formatMessage({id:"eb79eJ",defaultMessage:"What changed in the projects that Iâm working on"}),prompt:t.formatMessage({id:"Q+eKmx",defaultMessage:"What changed in the projects that Iâm working on"}),theme:Ct.Slurm,data:{connectors:{[vt.GDRIVE_ACTION_CONNECTOR]:Ir,[vt.GMAIL_CONNECTOR]:hi,[vt.OUTLOOK_EMAIL_CONNECTOR]:Ic,[vt.HUBSPOT_CONNECTOR]:E7,[vt.DROPBOX_CONNECTOR]:Ul,[vt.NOTION_CONNECTOR]:ld,[vt.SHAREPOINT_CONNECTOR]:M7,[vt.TEAMS_CONNECTOR]:tg},syncConnectors:{[Lc.gdrive_sync_connector]:Ir}},body:""},{type:je.Starter,title:t.formatMessage({id:"BZuK5N",defaultMessage:"Find all emails about a project or customer"}),prompt:t.formatMessage({id:"S/AOrO",defaultMessage:"Find all emails about a project or customer"}),theme:Ct.Slurm,data:{connectors:{[vt.GMAIL_CONNECTOR]:hi,[vt.OUTLOOK_EMAIL_CONNECTOR]:Ic}},body:""},{type:je.Starter,title:t.formatMessage({id:"DtUTpV",defaultMessage:"Brief me on this weekâs meetings"}),prompt:t.formatMessage({id:"NoHU2S",defaultMessage:"Brief me on this weekâs meetings"}),theme:Ct.Slurm,data:{connectors:{[vt.GOOGLE_CONTACTS_CONNECTOR]:h5e,[vt.OUTLOOK_CALENDAR_CONNECTOR]:Ic}},body:""}],[t]),y=r||a||i;if(y)return{prompts:[],isLoading:y};if(d===we.Slurm){let b=v.filter(_=>{const{connectors:w,syncConnectors:S}=f(_),k=Object.keys(w).some(E=>[...s].some(T=>T===E)),M=!!S[Lc.gdrive_sync_connector];return k||M&&u});return b.length<3?{prompts:[],isLoading:y}:(b.sort(()=>Math.random()-.5),b=b.slice(0,4).map(_=>{const{connectors:w,syncConnectors:S}=f(_),k=p(w,S,{mode:"connected",connectedTypes:new Set([...s]),hasGdriveSync:u});return P(C({},_),{trailing:m(k)})}),{prompts:b,isLoading:y})}let x=v.filter(b=>{const{connectors:_,syncConnectors:w}=f(b),S=new Set(n.map(E=>E.type)),k=Object.keys(_).some(E=>S.has(E)),M=!!w[Lc.gdrive_sync_connector];return k||M&&c});return x.length<3?{prompts:[],isLoading:y}:(x.sort(()=>Math.random()-.5),x=x.slice(0,4).map((b,_)=>{var E;const w="#settings/".concat(Dn.Connectors,"?referrer=").concat(Ep.SuggestedPrompts),{connectors:S,syncConnectors:k}=f(b),M=p(S,k,{mode:"available",availableTypes:new Set(n.map(T=>T.type)),hasGdriveSync:c});return P(C({},b),{theme:Ct.ContextualAnswersNUX,trailing:m(M),data:{link:w,id:(E=b.data)==null?void 0:E.id,position:_.toString()},onSelectOverride:h})}),{prompts:x,isLoading:y})}const x7t=4,b7t=7,C7t=5,_7t=60*60*1e3,w7t=async({text:t,numCompletions:e,isUnauthenticated:n,isThreadUsingSearchMode:r=!1,autocompleteMode:s,activeSystemHintType:a})=>{try{return(n?await ue.safePost("/conversation/experimental/generate_autocompletions_anon",{requestBody:{input_text:t,num_completions:e,in_search_mode:r,system_hint:a!=null?a:void 0},authOption:qt.Anonymous}):await ue.safePost("/conversation/experimental/generate_autocompletions",{requestBody:{input_text:t,num_completions:e,in_search_mode:r,system_hint:a!=null?a:void 0}})).completions.map(l=>({id:Yn(),type:je.Autocomplete,title:l.slice(0,t.length),body:l.slice(t.length),oneliner:l,prompt:l,source:s}))}catch(i){return[]}},Wk=(t,e=!1)=>ze(t,Et(t)?"4093727931":"312855442",{disableExposureLog:!e}),S7t=({clientThreadId:t,composerController:e,isGizmoThread:n,isNewThread:r,isProjectThread:s})=>{const[a,i]=kr(),l=a.get("forceShowNuxCASuggestion")==="true",c=q(),u=Kr(),{autocompletions$:d}=aT(e),f=3,m=u===we.Search,{bingTrendingSuggestions:p,chatgptTrendingSuggestions:h,imageGenTrendingSuggestions:v,fetchBingTrendingSuggestions:y,fetchChatgptTrendingSuggestions:x}=M7t(),b=g.useRef({bing:0,chatgpt:{time:0,imageGen:!1}}),_=g.useRef(!1),[w,S]=g.useState(!1),k=cE(Pe=>Pe.files),M=k.length>0,E=g.useMemo(()=>k.some(Pe=>{var ct,dt,ce,ke;return((ke=(ce=(ct=Pe.fileSpec)==null?void 0:ct.mimeType)!=null?ce:(dt=Pe.file)==null?void 0:dt.type)!=null?ke:"").toLowerCase().startsWith("image/")}),[k]);g.useEffect(()=>e.subscribe("click",()=>S(!0)),[e]);const{isUnauthenticated:T}=An(),j=g.useCallback(Pe=>{const Ie=tp(e);return Ie&&tw(Pe).startsWith(Ie.toLocaleLowerCase())},[e]),A=g.useCallback(Pe=>{const Ie=tp(e),ct=Pe.title+Pe.body;return j(Pe)?P(C({},Pe),{title:Ie,body:ct.slice(Ie.length)}):P(C({},Pe),{title:ct,body:""})},[e,j]),I=g.useCallback((Pe=!1)=>{d.set(Ie=>!Ie.some(j)&&Ie.length>0?[]:Pe?Ie:Ie.map(A))},[j,A,d]),L=Z(),O=g.useMemo(()=>({[Ct.Canvas]:[{type:je.Starter,title:L.formatMessage({id:"GMvniX",defaultMessage:"Help me write a birthday message for a friend"}),prompt:L.formatMessage({id:"JInqHw",defaultMessage:"Help me write a birthday message for a friend"}),body:"",theme:Ct.Canvas},{type:je.Starter,title:L.formatMessage({id:"Xwp6O+",defaultMessage:"Help me write a short story"}),prompt:L.formatMessage({id:"e2j3PL",defaultMessage:"Help me write a short story set in a post-apocalyptic Tokyo, focused on a character whoâs discovering a long-lost secret"}),body:"",theme:Ct.Canvas},{type:je.Starter,title:L.formatMessage({id:"ARQf7p",defaultMessage:"Help me write a basic outline for an essay"}),prompt:L.formatMessage({id:"K0WcGA",defaultMessage:"Help me write a basic outline for an essay"}),body:"",theme:Ct.Canvas},{type:je.Starter,title:L.formatMessage({id:"z+JwEj",defaultMessage:"Create a business plan outline"}),prompt:L.formatMessage({id:"4c/Ux5",defaultMessage:"Create a detailed outline for a business plan for a new app that connects local artists with buyers. Include sections for market analysis, monetization, and user acquisition"}),body:"",theme:Ct.Canvas}],[Ct.Image]:[{type:je.Starter,title:L.formatMessage({id:"noA7wB",defaultMessage:"Design a modern logo"}),prompt:L.formatMessage({id:"k53BuX",defaultMessage:"Create a modern, minimalist logo for a tech startup called âNexoraâ. It should use bold typography and a sleek geometric icon, suitable for both light and dark backgrounds"}),body:"",theme:Ct.Image},{type:je.Starter,title:L.formatMessage({id:"akHy6z",defaultMessage:"Create an invite for my birthday"}),prompt:L.formatMessage({id:"BXf15G",defaultMessage:"Please create an invite for my birthday to send to my friends. Itâll be an outdoor barbeque with music and delicious food with my closest friends and family"}),body:"",theme:Ct.Image},{type:je.Starter,title:L.formatMessage({id:"57SKj2",defaultMessage:"Create a cartoon illustration of my pet"}),prompt:L.formatMessage({id:"EtCE7V",defaultMessage:"Please create an illustration of my pet in 2D animation style. Itâs taking a nap in its favorite spot by the fire"}),body:"",theme:Ct.Image},{type:je.Starter,title:L.formatMessage({id:"s5iqKS",defaultMessage:"Create a Renaissance-style painting"}),prompt:L.formatMessage({id:"mEPKGA",defaultMessage:"Please create a Renaissance-style painting of a Mars rover. Use techniques like chiaroscuro and a warm color palette"}),body:"",theme:Ct.Image}],[Ct.ContextualAnswers]:[{type:je.Starter,title:L.formatMessage({id:"VJy602",defaultMessage:"Summarize my top projects this quarter and key outcomes across all of them."}),prompt:L.formatMessage({id:"BADBWZ",defaultMessage:"Summarize my top projects this quarter and key outcomes across all of them."}),icon:o.jsx(D6,{className:"h-full w-full"}),body:"",theme:Ct.ContextualAnswers},{type:je.Starter,title:L.formatMessage({id:"CXhrsc",defaultMessage:"Get me up to speed on the past 2 weeks of project updates."}),prompt:L.formatMessage({id:"WPQR3a",defaultMessage:"Get me up to speed on the past 2 weeks of project updates."}),icon:o.jsx(Z6,{className:"h-full w-full"}),body:"",theme:Ct.ContextualAnswers},{type:je.Starter,title:L.formatMessage({id:"7QVCTa",defaultMessage:"Find the revenue projection for Q3 and the most profitable projects."}),prompt:L.formatMessage({id:"tvB7JD",defaultMessage:"Find the revenue projection for Q3 and the most profitable projects."}),icon:o.jsx(Ap,{className:"h-full w-full"}),body:"",theme:Ct.ContextualAnswers},{type:je.Starter,title:L.formatMessage({id:"Rny+bg",defaultMessage:"What is our company's current policy on work from home?"}),prompt:L.formatMessage({id:"P0W1ks",defaultMessage:"What is our company's current policy on work from home?"}),icon:o.jsx(Ir,{className:"h-full w-full"}),body:"",theme:Ct.ContextualAnswers}]}),[L]),R=Mr(),V=LM().connectorLinks.size>0,{availableConnectors:z,isLoading:$}=O6(),{prompts:D,isLoading:Y}=y7t(),G=z.length>0&&!V,F=Et(c),X=G?ze(c,"1704943789").get("onboarding_state","control")==="suggested_prompts":!1,te=g.useMemo(()=>new ype({localStorageKey:et.CARecommendedPromptsUpsell,schedule:{intervalMs:24*60*60*1e3,maxShowsPerInterval:3},termination:{maxShows:9}}),[]);g.useEffect(()=>{if((!G||!X||u!=null||!te.shouldShow())&&!l||$||Y||R==null)return;const Pe=[...D];d.set(Ie=>Ie.length>0?Ie:(_.current||(te.recordShown(),B.logEventWithStatsig("chatgpt_contextual_answers_recommended_prompt_shown","chatgpt_contextual_answers_recommended_prompt_shown",{prompts:Pe.map(ct=>{var dt;return(dt=ct.data)==null?void 0:dt.id}).join(","),shown_times:te.getShownTimes().toString()}),_.current=!0),Pe))},[D,$,Y,G,X,u,te,l,R,d]);const ae=Wk(c,!1),me=Wk(c,!0),W=i3(!0),K=z1e(),ne=$ae();g.useEffect(()=>Bd(()=>ju(e),Pe=>{const Ie=()=>{d.set(ct=>ct.filter(dt=>dt.theme!==Ct.Search&&dt.theme!==Ct.ChatGPTTrending&&dt.theme!==Ct.ImageGenTrending&&dt.theme!==Ct.Image&&dt.theme!==Ct.Slurm&&dt.theme!==Ct.Tatertot&&dt.theme!==Ct.ContextualAnswersNUX))};if(Pe&&r&&!n&&!s||l)if(m)d.set(p.length>0?p:[]),b.current.bing===0&&(b.current.bing=Date.now(),y());else if(!u&&w&&ne()&&W.get("homepage_prompt_style","chips")==="autocomplete"){const ct=Dct(K,d(),4,3);d.set(ct.map(dt=>P(C({},dt),{body:""})))}else if(!u&&ae.get("enable_data",!1)){d.set(()=>w&&E&&v.length>0&&me.get("enable_image_gen_trending",!1)?v:w&&!E&&h.length>0&&me.get("enable_chatgpt_trending",!1)?h:[]);const ct=Date.now(),dt=b.current.chatgpt;(dt.time===0||ct-dt.time>_7t||dt.imageGen!==E)&&(b.current.chatgpt={time:ct,imageGen:E},x(E))}else if(u===we.PictureV2){const ct=Uae(L);d.set(ct)}else if(u===we.Tatertot)d.set(Mee(L,F));else if(u===we.Slurm)ze(c,"1704943789").get("post_connection_connector_button",!1)&&D.length>0&&!Y&&d.set(D);else{if(d().length>0&&d()[0].theme===Ct.ContextualAnswersNUX)return;if(d().length===0)return;Ie()}else Ie()},{fireImmediately:!0}),[e,y,x,ae,me,m,d,p,h,v,u,w,L,t,r,n,s,O,a,i,l,M,E,F,K,W,D,Y,c,ne]),g.useEffect(()=>A0(()=>{if(ju(e)){const Pe=d().filter(Ie=>Ie.type!==je.Autocomplete);Pe.length>0&&one(Pe,t)}}),[e,d,t]);const re=j7t(m),le=ze(c,"4031588851"),fe=le.get("autocomplete_min_char",4),ge=le.get("autocomplete_fetch_interval",200),ye=g.useRef(null),_e=g.useCallback(xs(async Pe=>{if(!k7t(e,fe)){d.set([]);return}const Ie=tp(e);if(!(ye.current&&ye.current.length>fe&&Ie.startsWith(ye.current)))try{const ct=(await w7t({text:Ie,numCompletions:Pe,isUnauthenticated:T,isThreadUsingSearchMode:m,autocompleteMode:re,activeSystemHintType:u})).filter(j).map(A);d.set(dt=>{const ce=dt.filter(j),ke=ct.filter(Ze=>{const lt=tw(Ze);return!ce.some(Ye=>{const Xe=tw(Ye);if(lt===Xe)return!0;const ht=new RegExp("[\\p{P}\\p{S}]$","u"),ft=lt.replace(ht,""),Qe=Xe.replace(ht,"");return ft===Xe||lt===Qe||ft===Qe})}).slice(0,f-ce.length);return[...ce,...ke]})}catch(ct){}},re==="BING"?150:ge),[e,re,A,ge,u]),Ne=g.useCallback(()=>{I();const Pe=f-d().filter(j).length;Pe>0&&_e(Pe)},[_e,I,d,j]),Ae=g.useMemo(()=>re==="HARDCODED"?I:Ne,[re,Ne,I]),ot=g.useCallback(()=>{Ae()},[Ae]),gt=g.useCallback(()=>{e instanceof nJ&&I(!0),tp(e).indexOf("\n")>0&&d.set([])},[e,d,I]);g.useEffect(()=>e.subscribe("input",()=>{ot()}),[e,ot]),g.useEffect(()=>e.subscribe("change",()=>{gt()}),[e,gt])};function k7t(t,e){var r;const n=Ht(t).state.doc;return n.childCount===1&&((r=n.firstChild)==null?void 0:r.isTextblock)===!0&&n.content.size>=e&&n.content.size<=80}const M7t=()=>{const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,a]=g.useState([]),i=ha(),l=q(),c=Wk(l,!1),u=c.get("num_mobile_results",C7t),d=c.get("num_desktop_results",b7t),f=c.get("item_label","PROMPT"),m=g.useCallback(async()=>{const v=(await ue.safePost("/conversation/experimental/generate_trending_suggestions",{requestBody:{num_items:x7t},authOption:qt.SendIfAvailable})).suggestions.map((y,x)=>({type:je.Trending,title:NW(y),body:"",icon:o.jsx(Gk,{className:"h-full w-full"}),prompt:NW(y),id:"search-trending-".concat(x),theme:Ct.Search}));return e(v),v},[]),p=g.useCallback(async h=>{const y=((await ue.safeGet("/trending/chatgpt",{parameters:{query:C({num_items:i?d:u},h?{tags:["image_gen"]}:{})},authOption:qt.SendIfAvailable})).topics||[]).map((x,b)=>{var E,T,j,A,I;const _=(E=x.suggested_prompts)!=null?E:[],w=_.length>0?_[Math.floor(Math.random()*_.length)]:void 0,S=(T=w==null?void 0:w.short_prompt)!=null?T:"",k=(A=(j=x.short_title)!=null?j:x.title)!=null?A:"",M=(I=w==null?void 0:w.prompt)!=null?I:Array.isArray(x.prompts)&&x.prompts.length>0?x.prompts[Math.floor(Math.random()*x.prompts.length)]:k;return{type:je.Trending,title:f==="TITLE"?k:S,body:"",icon:o.jsx(Gk,{className:"h-full w-full"}),prompt:M,id:"chatgpt-trending-".concat(b),theme:h?Ct.ImageGenTrending:Ct.ChatGPTTrending}});return h?a(y):r(y),y},[i,u,d,f]);return{bingTrendingSuggestions:t,chatgptTrendingSuggestions:n,imageGenTrendingSuggestions:s,fetchBingTrendingSuggestions:m,fetchChatgptTrendingSuggestions:p}};function NW(t){return t.split(" ").map(Mk).join(" ")}const tw=t=>"".concat(t.title).concat(t.body).toLocaleLowerCase();function E7t(){const t=q(),n=ze(t,"4031588851",{disableExposureLog:!0}).get("autocomplete_qualified_start_date","2099-09-13T00:00:00Z"),r=Wt();return!!r&&r.created*1e3>=new Date(n).getTime()}function j7t(t){const{isUnauthenticated:e}=An(),n=q(),r=ie(n,"1468311859"),s=ie(n,"2053937752"),a=ie(n,"3664702598"),i=ie(n,"471233253"),l=ze(n,"4031588851"),c=ze(n,"3533083032"),u=E7t(),d=!e&&r||e&&s,f=(!e&&a||e&&i)&&u;let m="HARDCODED";{const p=e?c:l;if(t){const h=p.get("search_autocomplete_mode","");d&&h&&(m=h)}else f&&(m=p.get("autocomplete_mode","HARDCODED"))}return m}const TLt=({clientThreadId:t,isGizmoThread:e,isNewThread:n,isProjectThread:r})=>{const s=nl();return S7t({clientThreadId:t,composerController:s,isGizmoThread:e,isNewThread:n,isProjectThread:r}),null};function NLt(t){const e=q();g.useEffect(()=>U6(e).addAction({key:"prev-message",group:Gn.Chat,keyboardBinding:[De.Shift,De.ArrowUp],actionMessageDescriptor:Be({id:"N8H1CM",defaultMessage:"Previous message"}),action:n=>AW(n,"up"),enabled:!t},{key:"next-message",group:Gn.Chat,keyboardBinding:[De.Shift,De.ArrowDown],actionMessageDescriptor:Be({id:"d69Yjj",defaultMessage:"Next message"}),action:n=>AW(n,"down"),enabled:!t}),[e,t])}function AW(t,e){if(t.target instanceof HTMLDivElement&&t.target.isContentEditable&&t.target.textContent)return!1;const n=[...document.querySelectorAll("article[data-turn=assistant]")];let r;if(document.activeElement instanceof HTMLElement&&n.includes(document.activeElement)&&PW(document.activeElement))r=n.indexOf(document.activeElement)+(e==="down"?1:-1);else{const s=n.findIndex(T7t);if(s===-1)return!1;r=e==="down"?s+1:PW(n[s])?s-1:s}if(r===-1||r>=n.length)return!1;n[r].focus({preventScroll:!0}),n[r].scrollIntoView({behavior:"smooth",block:"start"})}function T7t(t){const e=t.getBoundingClientRect();return e.bottom>xpe()&&e.top<window.innerHeight}function PW(t){const e=t.getBoundingClientRect();return e.top>=xpe()&&e.top<window.innerHeight}function xpe(){return Math.min(200,Math.max(70,window.innerHeight*.2))}const ALt=Je(()=>Ve(()=>import("./ity1pmibq4f7ojcn.js"),__vite__mapDeps([162,1,4,5,76,77,78,79,80,81,82,75,72])).then(t=>t.ProjectHomePage)),N7t=(t,e,n=!1)=>t.role===Ue.Root?!1:t.role===Ue.System||t.role===Ue.Developer||e.every(r=>{var s,a;return((s=r.metadata)==null?void 0:s.is_visually_hidden_from_conversation)&&!((a=r.metadata)!=null&&a.targeted_reply_label)})?n:!0,PLt=(t,e)=>t.length===1&&t[0].author.name==="n7jupd.metadata"&&!e,bpe=t=>t.some(e=>{var r,s;if((r=e.metadata)!=null&&r.is_visually_hidden_from_conversation&&!((s=e.metadata)!=null&&s.targeted_reply_label)||e.author.role===Ue.Tool||e.author.role===Ue.System||e.recipient!=="all")return!1;const n=e.content;return(n.content_type===rt.Text||n.content_type===rt.MultimodalText)&&n.parts.some(a=>typeof a=="string"&&a.length>0)});function A7t(t,e=Vu){const n=g.useRef(void 0);return r=>{const s=t(r);return e(n.current,s)?n.current:n.current=s}}function Cpe(t){if(t&&t.messages.length>0){const e=t.messages[0].create_time;if(e)return new Date(e*1e3)}return null}function u6(t,e){return!t||!e?!1:t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function ILt(t){const e=Te(t,A7t(c=>se.getConversationTurns(c).map(d=>{const f=Cpe(d),m=N7t(d,d.messages);return{turnDate:f,isRenderable:m}}))),n=C5(t),r=(n==null?void 0:n.value)===sn.UNREAD&&n.source===Cr.SERVER,[s,a]=g.useState(null),{results:i,lastRenderableTurnIndex:l}=g.useMemo(()=>{const c=new Array(e.length).fill(void 0),u=new Date;let d=null;for(const h of e){const v=h.turnDate;v&&(!d||v<d)&&(d=v)}let f=null,m=!0,p=null;for(let h=0;h<e.length;h++){const v=e[h];if(v.isRenderable){p=h;const y=v.turnDate;m?(m=!1,d&&!u6(d,u)&&(c[h]=0)):f&&!u6(y,f)&&(c[h]=0),f=y}}return{results:c,lastRenderableTurnIndex:p}},[e]);return g.useEffect(()=>{r&&l!=null&&l!==s&&a(l)},[r,l,s]),g.useMemo(()=>{const c=[...i];return r&&l!=null?c[l]=1:!r&&s!=null&&(c[s]=1),u=>c[u]},[i,r,l,s])}function P7t(t){const e=Z(),n=Cpe(t);if(n){const r=new Date,s=new Date;s.setDate(r.getDate()-1);let a;if(u6(n,r))a=e.formatMessage({id:"ConversationTurn.todayHeader",defaultMessage:"Today"});else if(u6(n,s))a=e.formatMessage({id:"ConversationTurn.yesterdayHeader",defaultMessage:"Yesterday"});else{const i=r.getFullYear(),l=n.getFullYear();i===l?a=e.formatDate(n,{month:"short",day:"numeric"}):a=e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}return a}else return null}const I7t=()=>{const t=q();return ie(t,"1847911009")||null!=null},LLt=({turn:t,dateHeaderType:e})=>{const n=I7t(),r=P7t(t);return!n||!r||e===void 0?null:e===1?o.jsxs("div",{className:"mx-auto my-4 flex h-[20px] w-full items-center md:max-w-3xl lg:max-w-[40rem] xl:max-w-[48rem]",children:[o.jsx("div",{className:"me-1 flex-1 border-t border-[#B3DBFF] opacity-50 dark:border-[#0088FF]"}),o.jsx("span",{className:"text-sm leading-5 font-normal text-[#0088FF]",children:r}),o.jsx("div",{className:"ms-1 flex-1 border-t border-[#B3DBFF] opacity-50 dark:border-[#0088FF]"})]}):o.jsx("div",{className:"my-4 flex justify-center",style:{height:"20px"},children:o.jsx("span",{className:"text-token-text-secondary text-sm leading-5 font-normal",children:r})})},L7t="https://help.openai.com/en/articles/8400625-voice-mode-faq";function R7t({onSubmit:t}){const e=y6(),n=gE(),r=(n==null?void 0:n[Ln.TrainingAllowed])===!0||(n==null?void 0:n[Ln.VoiceTrainingAllowed])===!0;g.useEffect(()=>{B.logEventWithStatsig("Audio Paragen: Opt-In Shown","chatgpt_audio_paragen_opt_in_shown")},[]);const s=g.useCallback(async()=>{B.logEventWithStatsig("Audio Paragen: Opt-In Accepted","chatgpt_audio_paragen_opt_in_accepted"),await Promise.all([e.mutateAsync({setting:Ln.TrainingAllowed,value:!0}),e.mutateAsync({setting:Ln.VoiceTrainingAllowed,value:!0})]),t()},[e,t]);return o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("section",{children:[o.jsx("p",{className:"text-token-text-primary text-lg font-semibold",children:o.jsx(N,C({},ci.header))}),o.jsx("p",{className:"text-token-text-secondary text-base",children:o.jsx(N,C({},ci.subheader))})]}),o.jsxs("section",{className:"flex gap-3 align-top",children:[o.jsx($M,{className:"h-5 w-5 shrink-0"}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{children:o.jsx(N,C({},ci.privacyHeader))}),o.jsx("p",{className:"text-token-text-secondary",children:o.jsx(N,C({},ci.privacyDescription))})]})]}),o.jsxs("section",{className:"flex gap-3 align-top",children:[o.jsx(E0,{className:"h-5 w-5 shrink-0"}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("p",{children:o.jsx(N,C({},ci.controlHeader))}),o.jsx("p",{className:"text-token-text-secondary",children:o.jsx(N,P(C({},ci.controlDescription),{values:{learnMoreTextAndLink:o.jsx(wr,{href:L7t,target:"_blank",className:"underline underline-offset-2",children:o.jsx(N,C({},ci.controlLearnMoreLink))})}}))})]})]}),o.jsxs("section",{className:"flex justify-center gap-2",children:[o.jsx(oe,{size:"medium",onClick:()=>{B.logEventWithStatsig("Audio Paragen: Opt-In Actively Declined","chatgpt_audio_paragen_opt_in_actively_declined"),t()},color:"primary-inverse",className:"flex-1",children:o.jsx(N,C({},ci.buttonNotNow))}),o.jsx(oe,{size:"medium",onClick:()=>s(),disabled:r,className:"flex-1",children:o.jsx(N,C({},ci.buttonEnableDataSharing))})]})]})}const ci=pe({header:{id:"AudioParagenOptIn.header",defaultMessage:"Thank you for making Voice Mode better!"},subheader:{id:"AudioParagenOptIn.subheader",defaultMessage:"Use voice chats to improve our models?"},privacyHeader:{id:"AudioParagenOptIn.privacyHeader",defaultMessage:"Taking steps to protect privacy"},privacyDescription:{id:"AudioParagenOptIn.privacyDescription",defaultMessage:"To improve our models, our team may review your audio. We take steps to reduce the amount of personal information used to train our models."},controlHeader:{id:"AudioParagenOptIn.controlHeader",defaultMessage:"Youâre in control"},controlDescription:{id:"AudioParagenOptIn.controlDescription",defaultMessage:"You can stop sharing any time in settings. {learnMoreTextAndLink} about how to disable training on other content from voice mode."},controlLearnMoreLink:{id:"VoiceTrainingModal.controlLearnMoreLink",defaultMessage:"Learn more"},buttonNotNow:{id:"AudioParagenOptIn.buttonNotNow",defaultMessage:"Not now"},buttonEnableDataSharing:{id:"AudioParagenOptIn.buttonEnableDataSharing",defaultMessage:"Enable data sharing"}}),_pe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4023 9.875C14.1796 9.87504 15.2734 11.2666 15.2734 13.542C15.2734 15.8173 14.1894 17.2382 12.4023 17.2383C10.6152 17.2383 9.52637 15.8271 9.52637 13.5469C9.52637 11.2715 10.625 9.875 12.4023 9.875ZM12.4023 11.0566C11.543 11.0566 11.0254 11.9453 11.0254 13.5469C11.0254 15.1631 11.5332 16.0566 12.4023 16.0566C13.2714 16.0566 13.7744 15.163 13.7744 13.5469C13.7744 11.9405 13.2666 11.0567 12.4023 11.0566Z"}),g.createElement("path",{d:"M7.19727 9.92871C7.71968 9.92874 8.03223 10.2461 8.03223 10.7539V16.4473C8.03223 16.8916 7.73921 17.1845 7.30469 17.1846C6.87012 17.1846 6.57227 16.8916 6.57227 16.4473V11.4033H6.54297L5.5127 12.1211C5.376 12.2187 5.27339 12.2529 5.12207 12.2529C4.82422 12.2529 4.60449 12.0381 4.60449 11.7256C4.60449 11.501 4.69238 11.335 4.92188 11.1738L6.31836 10.207C6.66013 9.97269 6.89455 9.92871 7.19727 9.92871Z"}),g.createElement("path",{d:"M10.001 2.75C12.9826 2.75019 15.5477 4.53013 16.6934 7.08301L16.7998 7.33203L16.8369 7.46191C16.8929 7.76578 16.73 8.07755 16.4326 8.19824C16.1348 8.31876 15.8011 8.20778 15.6299 7.9502L15.5664 7.83105L15.4795 7.62695C14.5407 5.53539 12.4398 4.08027 10.001 4.08008C7.84905 4.08011 5.96089 5.21368 4.90137 6.91699H6.66699L6.80176 6.93066C7.10424 6.99299 7.33187 7.26114 7.33203 7.58203C7.33188 7.90293 7.10424 8.17107 6.80176 8.2334L6.66699 8.24707H3.33398C2.96682 8.24707 2.66814 7.94915 2.66797 7.58203V4.24805C2.66833 3.88108 2.96694 3.58301 3.33398 3.58301C3.70081 3.58327 3.99867 3.88124 3.99902 4.24805V5.87109C5.32508 3.98456 7.51841 2.75003 10.001 2.75Z","data-rtl-flip":""})),RLt=Object.freeze(Object.defineProperty({__proto__:null,default:_pe},Symbol.toStringTag,{value:"Module"})),wpe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.4025 9.875C14.1798 9.87508 15.2736 11.2667 15.2736 13.542C15.2736 15.8173 14.1895 17.2382 12.4025 17.2383C10.6154 17.2383 9.52655 15.8271 9.52655 13.5469C9.52655 11.2715 10.6252 9.875 12.4025 9.875ZM12.4025 11.0566C11.5432 11.0566 11.0256 11.9453 11.0256 13.5469C11.0256 15.1631 11.5334 16.0566 12.4025 16.0566C13.2716 16.0565 13.7746 15.163 13.7746 13.5469C13.7746 11.9405 13.2667 11.0567 12.4025 11.0566Z"}),g.createElement("path",{d:"M7.19745 9.92871C7.71982 9.92877 8.03241 10.2461 8.03241 10.7539V16.4473C8.03241 16.8916 7.73936 17.1845 7.30487 17.1846C6.8703 17.1846 6.57245 16.8916 6.57245 16.4473V11.4033H6.54315L5.51288 12.1211C5.37621 12.2187 5.27354 12.2529 5.12226 12.2529C4.8244 12.2529 4.60468 12.0381 4.60468 11.7256C4.60468 11.501 4.69257 11.335 4.92206 11.1738L6.31854 10.207C6.66029 9.97272 6.89475 9.92871 7.19745 9.92871Z"}),g.createElement("path",{d:"M9.99823 2.75C12.4813 2.75 14.6752 3.98494 16.0012 5.87207V4.24805C16.0015 3.88114 16.2992 3.5831 16.6662 3.58301C17.033 3.58325 17.3309 3.88123 17.3312 4.24805V7.58203C17.3311 7.949 17.0332 8.24683 16.6662 8.24707H13.3322C12.9652 8.24686 12.6674 7.94902 12.6672 7.58203C12.6674 7.21504 12.9652 6.9172 13.3322 6.91699H15.0988C14.0393 5.21347 12.1503 4.08008 9.99823 4.08008C7.48092 4.08033 5.32363 5.63068 4.4328 7.83105L4.3703 7.9502C4.19916 8.20795 3.86454 8.31885 3.56659 8.19824C3.22659 8.06021 3.06266 7.67225 3.20038 7.33203L3.30683 7.08301C4.45251 4.53031 7.01677 2.75024 9.99823 2.75Z","data-rtl-flip":""})),OLt=Object.freeze(Object.defineProperty({__proto__:null,default:wpe},Symbol.toStringTag,{value:"Module"})),QA=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M4.5 5.75C4.5 5.05964 5.05964 4.5 5.75 4.5H7.25C7.94036 4.5 8.5 5.05964 8.5 5.75V14.25C8.5 14.9404 7.94036 15.5 7.25 15.5H5.75C5.05964 15.5 4.5 14.9404 4.5 14.25V5.75Z"}),g.createElement("path",{d:"M11.5 5.75C11.5 5.05964 12.0596 4.5 12.75 4.5H14.25C14.9404 4.5 15.5 5.05964 15.5 5.75V14.25C15.5 14.9404 14.9404 15.5 14.25 15.5H12.75C12.0596 15.5 11.5 14.9404 11.5 14.25V5.75Z"})),DLt=Object.freeze(Object.defineProperty({__proto__:null,default:QA},Symbol.toStringTag,{value:"Module"}));function O7t({player:t,isPlaying:e,onPlay:n,onPause:r,onRewind:s,onForward:a}){const i=e&&!t,[l,c]=g.useState(0),[u,d]=g.useState(0);g.useEffect(()=>{t==null||t.on("ended",r);const h=v=>{c(v.seconds),d(v.totalSeconds)};return t==null||t.on("timeupdate",h),()=>{t==null||t.off("ended",r),t==null||t.off("timeupdate",h)}},[r,c,d,t]),g.useEffect(()=>{e||t==null||t.pause()},[e,t]);function f(){l>=u-.2&&(t==null||t.reset()),t==null||t.play(),n()}function m(){t==null||t.seek(-5),s==null||s()}function p(){t==null||t.seek(5),a==null||a()}return o.jsxs("div",{className:"flex w-full flex-row items-center gap-2",children:[o.jsx("button",{className:"ms-auto disabled:opacity-50",onClick:m,disabled:l<=.05,children:o.jsx(_pe,{className:"size-6"})}),o.jsx("button",{className:U("rounded-full p-4 transition-all duration-200",e?"bg-token-bg-secondary":"bg-token-bg-tertiary"),onClick:e?()=>r(!0):f,children:i?o.jsx(On,{className:"m-3 size-6 opacity-50"}):e?o.jsx(QA,{className:"size-10"}):o.jsx(mue,{className:"size-10"})}),o.jsx("button",{className:"me-auto disabled:opacity-50",onClick:p,disabled:l>=u-.05,children:o.jsx(wpe,{className:"size-6"})})]})}function D7t({paragen:t,onSelect:e}){const n=lf(i=>i.playingId===t.id),r=lf(i=>i.selectedId),{playParagen:s,pauseParagen:a}=Y4();return o.jsxs("div",{className:U("flex flex-1 flex-col gap-4 rounded-2xl border p-4 [transition:opacity_500ms_ease-out,border-color_200ms_ease-in-out,background-color_200ms_ease-in-out]",{"bg-token-interactive-bg-tertiary-hover border-token-border-heavy":n,"bg-token-interactive-bg-tertiary-press border-token-border-focus border-1":r===t.id,"opacity-40":r&&r!==t.id}),children:[o.jsx(O7t,{player:t.player,isPlaying:n,onPlay:()=>s(t.id),onPause:i=>a(t.id,i),onRewind:()=>{B.logEventWithStatsig("Audio Paragen: Rewind","chatgpt_audio_paragen_rewind",{paragen_id:t.id})},onForward:()=>{B.logEventWithStatsig("Audio Paragen: Forward","chatgpt_audio_paragen_forward",{paragen_id:t.id})}}),o.jsx(oe,{size:"medium",onClick:()=>e(t.id),children:o.jsx(N,C({},jg.paragenOptionButton))})]})}function F7t({selectedId:t,onSelect:e,onMount:n}){const r=lf(s=>s.paragens);return E3(()=>{n(r.length)}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"gap flex flex-col",children:[o.jsx("p",{className:"text-token-text-primary text-lg font-semibold",children:o.jsx(N,C({},jg.feedbackDescription))}),o.jsx("p",{className:"text-token-text-secondary text-base",children:o.jsx(N,C({},jg.feedbackHeader))})]}),o.jsx("div",{className:"flex flex-row gap-4 md:justify-center",children:r.map(s=>o.jsx(D7t,{paragen:s,onSelect:e},s.id))}),o.jsx(oe,{className:U("self-center transition-opacity duration-300",{"opacity-40":t!=null&&t!==e6}),size:"medium",color:"ghost",onClick:()=>e(e6),children:o.jsx(N,C({},jg.paragenOptionBothBad))})]})}const jg=pe({feedbackHeader:{id:"audioParagen.feedbackHeader",defaultMessage:"Help improve voice mode in your region"},feedbackDescription:{id:"audioParagen.feedbackDescription",defaultMessage:"Which audio response do you prefer?"},paragenOptionButton:{id:"audioParagen.paragenOptionButton",defaultMessage:"I prefer this audio"},paragenOptionBothBad:{id:"audioParagen.paragenOptionBothBad",defaultMessage:"Both are bad"}}),Spe=1500,FLt={aboutUserMessage:void 0,aboutModelMessage:void 0,nameUserMessage:void 0,roleUserMessage:void 0,traitsModelMessage:void 0,otherUserMessage:void 0,disabledTools:void 0,enabled:void 0,personalityTypeMessage:void 0},BLt=["engineeringStudent","gastroenterologist","sourdoughBaker","interiorDesigner","daycareManager","familyLawAttorney","excelWizard","level10Mage","pharmaSales","freelanceCopywriter","weddingPhotographer","catHerder","cdlDriver","thirdGradeTeacher"],ULt={initial:{opacity:0,y:8},animate:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:-8,transition:{duration:.2}}};function HLt(t){var e,n,r,s,a,i;return{personalityTypeMessage:(e=t==null?void 0:t.personalityTypeMessage)!=null?e:"",nameUserMessage:(n=t==null?void 0:t.nameUserMessage)!=null?n:"",roleUserMessage:(r=t==null?void 0:t.roleUserMessage)!=null?r:"",traitsModelMessage:(s=t==null?void 0:t.traitsModelMessage)!=null?s:"",otherUserMessage:(a=t==null?void 0:t.otherUserMessage)!=null?a:"",disabledTools:(i=t==null?void 0:t.disabledTools)!=null?i:[],enabled:t==null?void 0:t.enabled}}function VLt({userContextData:t,updates:e,localUserContext:n,setLocalUserContext:r}){var v;const{aboutUserMessage:s="",aboutModelMessage:a="",personalityTypeMessage:i="",nameUserMessage:l="",roleUserMessage:c="",traitsModelMessage:u="",otherUserMessage:d="",disabledTools:f=[],enabled:m}=t!=null?t:{},p=(v=n.enabled)!=null?v:!!m,h=(y,x,b)=>y!==void 0?y:x!=null?x:b;r(y=>P(C(C({},y),e),{aboutUserMessage:h(e.aboutUserMessage,y.aboutUserMessage,s),personalityTypeMessage:h(e.personalityTypeMessage,y.personalityTypeMessage,i),aboutModelMessage:h(e.aboutModelMessage,y.aboutModelMessage,a),nameUserMessage:h(e.nameUserMessage,y.nameUserMessage,l),roleUserMessage:h(e.roleUserMessage,y.roleUserMessage,c),traitsModelMessage:h(e.traitsModelMessage,y.traitsModelMessage,u),otherUserMessage:h(e.otherUserMessage,y.otherUserMessage,d),enabled:h(e.enabled,y.enabled,p),disabledTools:h(e.disabledTools,y.disabledTools,f)}))}const B7t=(t,e=Spe)=>t.length>e,Fm=pe({traitsReset:{id:"userContextModal.traitsReset",defaultMessage:"Refresh traits"},tipsHeader:{id:"userContextModal.tipsHeader",defaultMessage:"Thought starters"},aboutUserTip1:{id:"userContextModal.aboutUserTip1",defaultMessage:"Where are you based?"},aboutUserTip2:{id:"userContextModal.aboutUserTip2",defaultMessage:"What do you do for work?"},aboutUserTip3:{id:"userContextModal.aboutUserTip3",defaultMessage:"What are your hobbies and interests?"},aboutUserTip4:{id:"userContextModal.aboutUserTip4",defaultMessage:"What subjects can you talk about for hours?"},aboutUserTip5:{id:"userContextModal.aboutUserTip5",defaultMessage:"What are some goals you have?"},modelTip1:{id:"userContextModal.modelTip1",defaultMessage:"How formal or casual should ChatGPT be?"},modelTip2:{id:"userContextModal.modelTip2",defaultMessage:"How long or short should responses generally be?"},modelTip3:{id:"userContextModal.modelTip3",defaultMessage:"How do you want to be addressed?"},modelTip4:{id:"userContextModal.modelTip4",defaultMessage:"Should ChatGPT have opinions on topics or remain neutral?"},save:{id:"userContextModal.save",defaultMessage:"Save"},chatPreferencesEnable:{id:"userContextModal.chatPreferencesEnable",defaultMessage:"Enable for new chats"},enableToggleLabel:{id:"userContextModal.enableToggleLabel",defaultMessage:"Enable chat preferences"},disableToggleLabel:{id:"userContextModal.disableToggleLabel",defaultMessage:"Disable chat preferences"},cancel:{id:"userContextModal.cancel",defaultMessage:"Cancel"},aboutYouHelpText:{id:"userContextModal.aboutYouHelpText",defaultMessage:"What would you like ChatGPT to know about you to provide better responses?"},modelHelpText:{id:"userContextModal.modelHelpText",defaultMessage:"How would you like ChatGPT to respond?"},profileTitle:{id:"userContextModal.title.1",defaultMessage:"Customize ChatGPT"},profileSubtitle:{id:"userContextModal.profileSubtitle",defaultMessage:"Introduce yourself to get better, more personalized responses"},profileSubtitleTooltip:{id:"userContextModal.profileSubtitleTooltip",defaultMessage:"ChatGPT will use the information you provide to tailor its responses to you. <link>Learn more</link> about how we use your data.",link:"https://help.openai.com/en/articles/8096356-custom-instructions-for-chatgpt"},customizeName:{id:"userContextModal.customizeName",defaultMessage:"What should ChatGPT call you?"},customizeNamePlaceholder:{id:"userContextModal.customizeNamePlaceholder",defaultMessage:"Nickname"},occupationInputTitle:{id:"userContextModal.occupationInputTitle",defaultMessage:"Occupation"},moreDetailsInputTitle:{id:"userContextModal.moreDetailsInputTitle",defaultMessage:"More about you"},customizeRole:{id:"userContextModal.customizeRole",defaultMessage:"What do you do?"},customizeRolePlaceholder:{id:"userContextModal.customizeRolePlaceholder",defaultMessage:"Engineer, student, etc."},customizePersonality:{id:"userContextModal.customizePersonality",defaultMessage:"What personality should ChatGPT have?"},customizeTraits:{id:"userContextModal.customizeTraits",defaultMessage:"What traits should ChatGPT have?"},customizeTraitsPlaceholder:{id:"userContextModal.customizeTraitsPlaceholder",defaultMessage:"Describe or select traits"},customInstructionsPlaceholder:{id:"userContextModal.customInstructionsPlaceholder",defaultMessage:"Additional behavior, style, and tone preferences"},customizeOther:{id:"userContextModal.customizeOther",defaultMessage:"Anything else ChatGPT should know about you?"},customizeOtherPlaceholder:{id:"userContextModal.customizeOtherPlaceholder",defaultMessage:"Interests, values, or preferences to keep in mind"},customInstructionsTitle:{id:"userContextModal.customInstructionsTitle",defaultMessage:"Custom Instructions"},customInstructionsTooltip:{id:"userContextModal.customInstructionsTooltip",defaultMessage:"<article>Learn more</article> about Custom Instructions and how they're used to help ChatGPT provide better responses."},traitsTooltipTitle:{id:"userContextModal.traitsTooltipTitle",defaultMessage:"You can tune ChatGPT's behavior by..."},traitsTooltipBodyItem1:{id:"userContextModal.traitsTooltipBodyItem1",defaultMessage:"Use a formal, professional tone."},traitsTooltipBodyItem2:{id:"userContextModal.traitsTooltipBodyItem2",defaultMessage:"Be casual and chatty."},traitsTooltipBodyItem3:{id:"userContextModal.traitsTooltipBodyItem3",defaultMessage:"Be opinionated. If a question could have multiple answers, try to give only the best one."},otherTooltipTitle:{id:"userContextModal.otherTooltipTitle",defaultMessage:"You can share things like..."},otherTooltipBodyItem1:{id:"userContextModal.otherTooltipBodyItem1",defaultMessage:"I love hiking and jazz."},otherTooltipBodyItem2:{id:"userContextModal.otherTooltipBodyItem2",defaultMessage:"I'm vegetarian."},otherTooltipBodyItem3:{id:"userContextModal.otherTooltipBodyItem3",defaultMessage:"I'm trying to learn French."},messageLimitError:{id:"userContextModal.messageLimitError",defaultMessage:"Please limit your responses to {limit} characters or less."},showTips:{id:"userContextModal.showTips",defaultMessage:"Show tips"},hideTips:{id:"userContextModal.hideTips",defaultMessage:"Hide tips"},confirmCloseTitle:{id:"userContextModal.confirmCloseTitle",defaultMessage:"You have unsaved changes."},confirmCloseBody:{id:"userContextModal.confirmCloseBody",defaultMessage:"Are you sure you want to exit? Any changes you made will be permanently lost."},confirmCloseCancel:{id:"userContextModal.confirmCloseCancel",defaultMessage:"Back"},confirmCloseOk:{id:"userContextModal.confirmCloseOk",defaultMessage:"Exit"},modApiVoilation:{id:"userContextModal.modApiVoilation",defaultMessage:"This content may violate our <policyLink>content policy</policyLink>. If you believe this to be in error, please <feedbackLink>submit your feedback</feedbackLink> â your input will aid our research in this area."},dalle:{id:"userContexModal.tools.dalleTooltip",defaultMessage:"Generate images using DALLÂ·E"},python:{id:"userContexModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"},advanced:{id:"userContextModal.advanced",defaultMessage:"Advanced"},advancedOpen:{id:"userContextModal.advancedOpen",defaultMessage:"Open advanced settings"},advancedClose:{id:"userContextModal.advancedClose",defaultMessage:"Close advanced settings"},customizeTitle:{id:"personalizationSettings.customizeTitle",defaultMessage:"Personalization"},aboutYouSectionTitle:{id:"personalizationSettings.aboutYouSectionTitle",defaultMessage:"About you"},memoryTitle:{id:"personalizationSettings.memoryTitle",defaultMessage:"Memory"},toggleLabel:{id:"settingsModal.myChagtGptToggleLabel.2",defaultMessage:"Reference saved memories"},exampleDescription:{id:"settingsModal.exampleDescription",defaultMessage:"Let ChatGPT save and use memories when responding."},manageMemoriesLink:{id:"settingsModal.manageMemoriesLink",defaultMessage:"Manage memories"},manageButton:{id:"settingsModal.manageMemoriesLink.button",defaultMessage:"Manage"},exampleDescription1:{id:"settingsModal.exampleDescription1.1",defaultMessage:"ChatGPT will become more helpful as you chat, picking up on details and preferences to tailor its responses to you. <link>Learn more</link>"},exampleDescription2:{id:"settingsModal.exampleDescription2.2",defaultMessage:"To understand what ChatGPT remembers or teach it something new, just chat with it:"},exampleMessage1:{id:"settingsModal.exampleMessage1.1",defaultMessage:"Remember that I like concise responses."},exampleMessage2:{id:"settingsModal.exampleMessage2.1",defaultMessage:"I just got a puppy!"},exampleMessage3:{id:"settingsModal.exampleMessage3.2",defaultMessage:"What do you remember about me?"},exampleMessage4:{id:"settingsModal.exampleMessage4",defaultMessage:"Where did we leave off on my last project?"},reset:{id:"settingsModal.reset",defaultMessage:"Reset memories"},resetModalTitle:{id:"settingsModal.resetModalTitle",defaultMessage:"Are you sure?"},resetModalDescription:{id:"settingsModal.resetModalDescription",defaultMessage:"Your GPT will forget what it has learned from your previous chats. This can't be undone."},resetModalConfirm:{id:"settingsModal.resetModalConfirm",defaultMessage:"Confirm reset"},resetModalCancel:{id:"settingsModal.resetModalCancel",defaultMessage:"Cancel"},resetSuccessful:{id:"settingsModal.resetSuccessful",defaultMessage:"Your GPT's memory has been reset."},resetFailed:{id:"settingsModal.resetFailed",defaultMessage:"Failed to reset your GPT's memory."},on:{id:"personalizationSettings.on",defaultMessage:"On"},off:{id:"personalizationSettings.off",defaultMessage:"Off"},customInstructions:{id:"personalizationSettings.customInstructions",defaultMessage:"Custom instructions"},enablePersonalizationRowLabel:{id:"personalizationSettings.enablePersonalizationRowLabel",defaultMessage:"Enable customization"},enablePersonalizationRowDescription:{id:"personalizationSettings.enablePersonalizationRowDescription",defaultMessage:"Customize how ChatGPT responds to you. {learnMoreLink}",values:{learnMoreLink:o.jsx(wr,{href:"https://help.openai.com/en/articles/8096356-chatgpt-custom-instructions-faq",className:"underline",children:o.jsx(N,{id:"dyoG1M",defaultMessage:"Learn more"})})}},manageMemoriesButton:{id:"personalizationSettings.manageMemoriesButton",defaultMessage:"Manage memories"},RecordModeTitle:{id:"personalizationSettings.recordModeTitle",defaultMessage:"Record mode"},recordModeToggleLabel:{id:"personalizationSettings.recordModeToggleLabel",defaultMessage:"Reference record history"},recordModeDescription:{id:"personalizationSettings.recordModeDescription",defaultMessage:"Let ChatGPT reference all previous recording transcripts and notes when responding."},proactivity:{id:"personalizationSettings.proactivity",defaultMessage:"Proactivity"},settingsPersonalitySelectionRowTitle:{id:"personalizationSettings.settingsPersonalitySelectionRowTitle",defaultMessage:"ChatGPT personality"},settingsPersonalitySelectionRowDescription:{id:"personalizationSettings.settingsPersonalitySelectionRowDescription",defaultMessage:"Set the style and tone ChatGPT uses when responding."}}),$Lt=pe({engineeringStudent:{id:"userContextModal.rolePlaceholder.engineeringStudent",defaultMessage:"Engineering student at University of Waterloo"},gastroenterologist:{id:"userContextModal.rolePlaceholder.gastroenterologist",defaultMessage:"Gastroenterologist"},sourdoughBaker:{id:"userContextModal.rolePlaceholder.sourdoughBaker",defaultMessage:"Small-batch home sourdough baker"},interiorDesigner:{id:"userContextModal.rolePlaceholder.interiorDesigner",defaultMessage:"Interior designer"},daycareManager:{id:"userContextModal.rolePlaceholder.daycareManager",defaultMessage:"Home daycare manager"},familyLawAttorney:{id:"userContextModal.rolePlaceholder.familyLawAttorney",defaultMessage:"Family law attorney"},excelWizard:{id:"userContextModal.rolePlaceholder.excelWizard",defaultMessage:"Excel wizard"},level10Mage:{id:"userContextModal.rolePlaceholder.level10Mage",defaultMessage:"Level 10 mage"},pharmaSales:{id:"userContextModal.rolePlaceholder.pharmaSales",defaultMessage:"Pharma sales"},freelanceCopywriter:{id:"userContextModal.rolePlaceholder.freelanceCopywriter",defaultMessage:"Freelance copywriter"},weddingPhotographer:{id:"userContextModal.rolePlaceholder.weddingPhotographer",defaultMessage:"Wedding photographer"},catHerder:{id:"userContextModal.rolePlaceholder.catHerder",defaultMessage:"Professional cat herder"},cdlDriver:{id:"userContextModal.rolePlaceholder.cdlDriver",defaultMessage:"CDL driver"},thirdGradeTeacher:{id:"userContextModal.rolePlaceholder.thirdGradeTeacher",defaultMessage:"Third-grade teacher"}}),U7t=({disabled:t,onChange:e,onSubmit:n,placeholder:r,value:s,name:a,tip:i,hasModError:l,className:c,size:u="md",showCharacterCount:d=!0,autoHighlight:f=!1,isNewCustomInstructionsUIEnabled:m=!1,maxLength:p=Spe,dynamicHeight:h=!1})=>{var L;const v=Z(),y=g.useRef(null);g.useEffect(()=>{f&&y.current&&requestAnimationFrame(()=>{var O;(O=y.current)==null||O.select(),pn.setAutoHighlightNicknameInput(!1)})},[f]),g.useEffect(()=>{if(!h||!y.current)return;const O=y.current,R=()=>{O.style.height="auto",O.style.height=Math.min(O.scrollHeight+2,120)+"px"};return R(),O.addEventListener("input",R),()=>{O.removeEventListener("input",R)}},[h,s]);const x=Wu(),b=v5e(),_=!x,[w,S]=g.useState(!1),[k,M]=g.useState(_),E=!_&&w&&!k,T=_&&!k,j=B7t(s,p),A=O=>{O.nativeEvent.isComposing||!t&&O.key==="Enter"&&O.metaKey&&!O.shiftKey&&!O.nativeEvent.isComposing&&(O.preventDefault(),n())},I=g.useRef(null);return o.jsxs(o.Fragment,{children:[i&&o.jsx(tt,{testId:"modal-user-context-tip",isOpen:T,type:"success",size:"custom",className:"max-w-lg",title:v.formatMessage(Fm.tipsHeader),showCloseButton:!0,onClose:()=>{M(!0)},children:i}),o.jsxs(e1,{open:E,children:[o.jsxs("div",{className:c,ref:I,children:[o.jsx(Gi,{asChild:!0,children:o.jsx("textarea",{ref:y,className:U("bg-token-main-surface-primary w-full resize-none focus:ring-transparent",{"rounded-sm p-4":u!=="sm"&&!m,"rounded-lg border text-sm":u==="sm"||m,"border-orange-400 focus:border-orange-400":l,"border-red-500 focus:border-red-500":j&&!l,"focus-token-border-heavy border-token-border-default":!j&&!l,"opacity-30":t,"placeholder:text-gray-400":u==="sm"||m,"placeholder:text-gray-300":!m,"overflow-y-auto":h}),name:a,disabled:t,placeholder:r,onKeyDown:A,rows:u==="sm"?1:x&&!b?6:5,value:s,onChange:e,onBlur:()=>{S(!1)},onFocus:()=>{S(!0)},style:{maxHeight:h?"120px":void 0,verticalAlign:"top"}})}),o.jsx("div",{className:U("flex items-center justify-between px-1 text-xs tabular-nums",j?"text-red-600":"text-token-text-tertiary"),children:l?o.jsx("div",{className:"visible mt-2 text-start text-xs text-orange-400",children:o.jsx(N,P(C({},Fm.modApiVoilation),{values:{policyLink:O=>o.jsx("a",{href:"https://platform.openai.com/docs/usage-policies/content-policy",className:"underline",target:"_blank",rel:"noreferrer",children:O}),feedbackLink:O=>o.jsx("a",{href:"https://forms.gle/3gyAMj5r5rTEcgbs5",className:"underline",target:"_blank",rel:"noreferrer",children:O})}}))}):o.jsxs(o.Fragment,{children:[d&&o.jsx("div",{children:"".concat(s.length,"/").concat(p)}),i&&o.jsx("button",{className:"flex items-center gap-1",onClick:()=>{var O;(O=y.current)==null||O.focus(),M(!k)},tabIndex:-1,children:o.jsx(Kt,{initial:!1,children:w&&o.jsx(Se.div,{className:"flex items-center gap-1",initial:{opacity:0},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:k?o.jsxs(o.Fragment,{children:[o.jsx(N,C({},Fm.showTips)),o.jsx(D0,{className:"icon-xs"})]}):o.jsxs(o.Fragment,{children:[o.jsx(N,C({},Fm.hideTips)),o.jsx(N4,{className:"icon-xs"})]})},"show-hide")})})]})})]}),i&&o.jsx(t1,{container:(L=I.current)==null?void 0:L.ownerDocument.body,children:o.jsx(n1,{side:"right",align:"start",sideOffset:12,className:"popover animate-slideLeftAndFade border-token-border-default bg-token-main-surface-primary text-token-text-primary relative z-50 max-w-[220px] rounded-xl border p-4 text-sm shadow-[0px_4px_14px_rgba(0,0,0,0.06)] select-none xl:max-w-xs",onOpenAutoFocus:O=>{O.preventDefault()},onCloseAutoFocus:O=>{O.preventDefault()},children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("strong",{children:o.jsx(N,C({},Fm.tipsHeader))}),i]})})})]})]})};function H7t({children:t,className:e,footer:n,title:r}){return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:U("flex flex-col gap-2",e),children:[o.jsx("div",{className:"text-body-small-emphasized [font-weight:500]",children:r}),t]}),n]})}const ra=pe({formResponseSound:{id:"audioParagen.formResponseSound",defaultMessage:"Clearer sound"},formResponseAccent:{id:"audioParagen.formResponseAccent",defaultMessage:"Better accent"},formResponseMoreExpressive:{id:"audioParagen.formResponseMoreExpressive",defaultMessage:"More expressive"},formResponseNotExpressive:{id:"audioParagen.formResponseNotExpressive",defaultMessage:"Not expressive"},formResponseDistortedAudio:{id:"audioParagen.formResponseDistortedAudio",defaultMessage:"Distorted audio"},formResponsePoorAccent:{id:"audioParagen.formResponsePoorAccent",defaultMessage:"Poor accent"},formThankYou:{id:"audioParagen.formThankYou",defaultMessage:"Thank you for making Voice Mode better!"},formWhyChoose:{id:"audioParagen.formWhyChoose",defaultMessage:"Why did you choose your response?"},formOptionalFeedback:{id:"audioParagen.formOptionalFeedback",defaultMessage:"Other feedback (Optional)"},formOptionalFeedbackPlaceholder:{id:"audioParagen.formOptionalFeedbackPlaceholder",defaultMessage:"Anything you'd like to share?"},formBack:{id:"audioParagen.formBack",defaultMessage:"Back"},formSubmit:{id:"audioParagen.formSubmit",defaultMessage:"Submit"}}),IW={clearer_sound:ra.formResponseSound,better_accent:ra.formResponseAccent,more_expressive:ra.formResponseMoreExpressive,not_expressive:ra.formResponseNotExpressive,distorted_audio:ra.formResponseDistortedAudio,poor_accent:ra.formResponsePoorAccent};function V7t({option:t,reviews:e,onSelect:n}){const r=t in IW?IW[t]:null;if(!r)return null;const s=e.includes(t);return o.jsx(oe,{icon:s?Zr:vc,color:s?"primary":"secondary",className:"py-2 ps-2 pe-3 text-xs font-normal",onClick:()=>n(t),children:o.jsx(N,C({},r))})}function $7t({reviewOptions:t,feedback:e,selectedReviewOptions:n,onReviewOptionsChanged:r,onOptionalFeedbackChanged:s,onBack:a,onSubmit:i}){const l=g.useRef(null),c=Z();g.useEffect(()=>{l.current&&l.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[]);function u(f){n.includes(f)?r(n.filter(m=>m!==f)):r([...n,f])}function d(f){s(f.target.value)}return o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"gap flex flex-col",children:[o.jsx("p",{className:"text-token-text-primary text-lg font-semibold",children:o.jsx(N,C({},ra.formThankYou))}),o.jsx("p",{className:"text-token-text-secondary text-base",children:o.jsx(N,C({},ra.formWhyChoose))})]}),o.jsx("div",{className:"flex flex-row flex-wrap gap-2",children:t.map(f=>o.jsx(V7t,{option:f,reviews:n,onSelect:u},f))}),o.jsx(H7t,{title:o.jsx("div",{className:"flex items-center gap-1",children:o.jsx(N,C({},ra.formOptionalFeedback))}),children:o.jsx(U7t,{disabled:!1,onChange:d,onSubmit:_n,value:e,name:"audio_paragen_optional_feedback",placeholder:c.formatMessage(ra.formOptionalFeedbackPlaceholder),showCharacterCount:!1,isNewCustomInstructionsUIEnabled:!0,size:"md"})}),o.jsxs("div",{className:"flex flex-row gap-2 self-end",children:[o.jsx(oe,{color:"ghost",onClick:a,children:o.jsx(N,C({},ra.formBack))}),o.jsx(oe,{onClick:i,children:o.jsx(N,C({},ra.formSubmit))})]})]})}const q7t=["clearer_sound","better_accent","more_expressive"],z7t=["not_expressive","distorted_audio","poor_accent"];function qLt({lastUserMessageId:t,setIsDismissed:e}){const[n,r]=g.useState("options"),[s,a]=g.useState([]),[i,l]=g.useState(""),c=g.useRef(null),u=g.useRef(!1),{markAsViewed:d}=$e(We.hasSeenAudioParagenPrompt),f=lf(k=>k.selectedId),{data:m}=Ui(Ln.TrainingAllowed),{data:p}=Ui(Ln.VoiceTrainingAllowed),{selectParagen:h,submitParagenResults:v,setShouldShowThankYouTooltip:y}=Y4();function x(){h(null),a([]),r("options")}function b(k){c.current&&window.clearTimeout(c.current),h(k),c.current=window.setTimeout(()=>{r("review")},1e3)}function _(){e(!0),Kdt(t),y(!0)}function w(){if(v(t,s,i),!m||!p){r("opt-in");return}_()}const S=g.useCallback(k=>{u.current||(u.current=!0,B.logEventWithStatsig("Audio Paragen: View","chatgpt_audio_paragen_view",{count:k}))},[]);return o.jsx(Se.div,{className:"relative max-w-[548px]",initial:{opacity:0},animate:{opacity:1,transition:{duration:.5,delay:.75}},exit:{opacity:0},children:o.jsxs(FK,{children:[o.jsx(Se.div,{layout:"size",className:"shadow-xxs overflow-hidden rounded-2xl border p-6 text-sm focus:outline-hidden",children:o.jsx(Kt,{mode:"wait",initial:!1,children:o.jsx(Se.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},exit:{opacity:0},children:n==="options"?o.jsx(F7t,{selectedId:f,onSelect:b,onMount:S}):n==="review"?o.jsx($7t,{reviewOptions:f!==e6?q7t:z7t,feedback:i,selectedReviewOptions:s,onReviewOptionsChanged:a,onOptionalFeedbackChanged:l,onBack:x,onSubmit:w}):n==="opt-in"?o.jsx(R7t,{onSubmit:_}):null},n)})}),o.jsx(gn,{className:"absolute end-6 top-6",onClick:()=>{B.logEventWithStatsig("Audio Paragen: Dismissed Modal","chatgpt_audio_paragen_dismissed_modal"),d(),e(!0)}})]})})}const JA=()=>{const t=q();return ie(t,"1424158285")},XA=()=>{const t=q();return _s(t,"1535193150")},zLt=()=>{const t=XA();return JA()&&t.get("show_web_page_file_refs",!1)},GLt=()=>{const t=XA();return JA()&&!t.get("show_turn_search_sources",!0)},WLt=()=>{const t=XA();return JA()?t.get("file_ref_type_order",[]):[]},kpe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.98167 8.15209V6.04584C9.98167 4.99369 11.2654 4.38168 12.1896 4.99323L18.1653 8.94742C18.9449 9.46332 18.9449 10.5368 18.1653 11.0526L12.1896 15.0068C11.2654 15.6183 9.98167 15.0063 9.98167 13.9542V11.848L5.20793 15.0068C4.28374 15.6183 3 15.0063 3 13.9542V6.04584C3 4.99369 4.28375 4.38168 5.20794 4.99323L9.98167 8.15209Z"})),ZLt=Object.freeze(Object.defineProperty({__proto__:null,default:kpe},Symbol.toStringTag,{value:"Module"})),G7t=/^ã(\d+)â ([^â ã]*)(â [^â ã]+)?ã$/,W7t=["Citation Marker","Content Snippet","Content source","File created at","File last modified at","Mclick Target","Title"];function KLt(t){const e=[];if(!t||typeof t!="object")return null;if(!Object.hasOwn(t,"results"))return null;const n=t.results;if(!Array.isArray(n))return null;const r=n.map(LW);for(const a of r){if(a==null)return null;e.push(a)}let s;if(Object.hasOwn(t,"debug_info")){const a=t.debug_info;if(!a||typeof a!="object"||!Object.hasOwn(a,"retrieval_results")||!Array.isArray(a.retrieval_results))return null;const i=a.retrieval_results;s={retrieval_results:[]};for(const l of i){if(!l||typeof l!="object"||typeof l.query!="string"||!Array.isArray(l.results))return null;const c=l.query,u=l.results.map(LW),d=[];for(const f of u){if(!f)return null;d.push(f)}s.retrieval_results.push({query:c,results:d})}}return{results:e,debug_info:s}}function LW(t){const e={};if(!t||typeof t!="object")return null;for(const[n,r]of Object.entries(t))n==="score"&&typeof r=="number"?e.score=r:["document_id","content","title","created_at","updated_at","file_created_at","file_modified_at","document_chunk_id","cloud_doc_url","document_source"].includes(n)&&(r==null||typeof r=="string")&&(e[n]=r!=null?r:void 0);return e.document_id==null||e.content==null?null:P(C({},e),{document_id:e.document_id,content:e.content})}function Z7t(t){var i;if(!t.startsWith("# "))return null;const e=t.slice(2),n=G7t.exec(e);if(!n||n.length<3)return null;const r=parseInt(n[1],10),s=n[2],a=((i=n[3])==null?void 0:i.slice(1))||void 0;return{resultNum:r,title:s,documentId:a}}function Mpe(t,e){var i,l;const n=[];let r=null,s="";const a=t.split("\n");a.length>0&&a[a.length-1].startsWith("Visible: ")&&(s=(i=a.pop())!=null?i:"");for(const c of a){const u=c.trim(),d=Z7t(u);if(d){const{resultNum:f,documentId:m,title:p}=d;r&&n.push(r),r={resultNum:f,title:(l=p||m)!=null?l:"",documentId:m,contents:"",metadata:{}}}else if(r)if(r.contents)r.contents+="\n".concat(c);else{let f=!1;for(const m of W7t){const p="".concat(m,":");if(u.startsWith(p)){r.metadata[m]=u.slice(p.length),f=!0;break}}f||(r.contents=c)}}if(r&&n.push(r),e)for(let c=0;c<n.length;c++)n[c].metadata.cloud_doc_url?n[c].cloudDocUrl=String(n[c].metadata.cloud_doc_url):c<e.length&&(n[c].cloudDocUrl=e[c]);return{visibilityLine:s,chunks:n}}function YLt(t){const e=t.content;switch(e.content_type){case rt.Text:return e.parts.join();case rt.ExecutionOutput:case rt.SystemError:case rt.Code:case rt.SystemMessage:case rt.TetherQuote:case rt.TetherBrowsingCode:return e.text;case rt.TetherBrowsingDisplay:return e.result;case rt.SonicWebpage:return e.text;case rt.UserEditableContext:case rt.ModelEditableContext:case rt.Error:return null;case rt.MultimodalText:return RW(e.parts);case rt.SystemContent:case rt.DeveloperContent:return e.instructions==null?null:typeof e.instructions=="string"?e.instructions:RW(e.instructions);case rt.StructuredThoughts:case rt.ReasoningRecap:return null;case rt.ComputerOutput:return null;case rt.SuperWidget:return null;case rt.CitableCodeOutput:return e.output_str}}function RW(t){return t.filter(e=>typeof e=="string").join()}function K7t(t,e,n){return!n&&t.role!==Ue.User&&bpe(t.messages)&&t.messages.some(r=>{var i,l;const s=!!((l=(i=r.metadata)==null?void 0:i.content_references)!=null&&l.some(c=>c.type==="file"||c.type==="file_navlist")),a=e&&Y7t(r);return s||a})}function QLt(t,e,n){return!e&&t.role!==Ue.User&&bpe(t.messages)&&t.messages.some(r=>{var s,a;return!!((a=(s=r.metadata)==null?void 0:s.content_references)!=null&&a.some(i=>i.type==="file"&&i.medical_file_reference!=null||n&&i.type==="grouped_webpages"))})}function Y7t(t){return eP(t)&&t.content.result.length>0&&t.content.result.trim()!=="Visible: 0% - 100%"}function eP(t){return t.author.role===Ue.Tool&&t.author.name==="file_search"&&t.content.content_type===rt.TetherBrowsingDisplay}function JLt({handleShowRetrievalResults:t,clientThreadId:e,turnIndex:n,className:r,responseComplete:s}){const a=Te(e,m=>se.getConversationTurnAtIndex(m,n).messages),i=tl(e),l=uJ(i),c=g.useMemo(()=>({clientThreadId:e,turnIndex:n,responseComplete:s}),[e,n,s]),u=g.useMemo(()=>{var h,v;if(!l)return[];const m=new Map,p=new Set;for(const y of a)if(eP(y)){const x=Mpe(y.content.result),b=(v=(h=y.metadata)==null?void 0:h.cloud_doc_urls)!=null?v:[];x.chunks.forEach((_,w)=>{if(!_.documentId||p.has(_.documentId))return;p.add(_.documentId);let S;if(_.metadata.cloud_doc_url)S=_.metadata.cloud_doc_url.toString();else if(w<b.length)S=b[w];else if(_.documentId.endsWith("--google")){const M=_.documentId.split("--")[1];S="https://drive.google.com/file/d/".concat(M)}const k={id:_.documentId,name:_.title,cloud_doc_url:S};m.set(k.id,k)})}return Array.from(m.values())},[l,a]),d=g.useMemo(()=>{var p,h;const m=new Set;for(const v of u){const y=ri((p=v.cloud_doc_url)!=null?p:"");m.add((h=y==null?void 0:y.Icon)!=null?h:v.cloud_doc_url?Wa:is)}return Array.from(m).slice(0,3)},[u]),f=g.useRef(!1);return g.useEffect(()=>{f.current||u.length>0&&(f.current=!0,B.logEvent("File Sources Carousel Shown",c))},[u,c]),u.length===0?null:o.jsx("div",{className:U("flex w-full flex-row gap-2",r),children:o.jsxs("div",{className:U("flex flex-1 flex-row justify-start gap-2 overflow-hidden"),children:[u.slice(0,3).map((m,p)=>o.jsx(Q7t,{item:m},p)),u.length>3&&o.jsx(J7t,{overflowIcons:d,count:u.length,onClick:()=>{B.logEvent("File Sources Carousel Clicked",c),t()}})]})})}function Q7t({item:t}){var r,s,a;if(!t)return null;const e=ri((r=t.cloud_doc_url)!=null?r:""),n=(s=e==null?void 0:e.Icon)!=null?s:t.cloud_doc_url?Wa:is;return o.jsxs("a",{href:t.cloud_doc_url,target:"_blank",rel:"noreferrer",className:U("block h-[64px] min-w-0 flex-1 basis-0","relative flex flex-col gap-1 rounded-2xl px-4 py-3","border-token-border-default border","bg-token-bg-primary","hover:bg-token-bg-tertiary cursor-pointer"),children:[o.jsxs("div",{className:"flex items-center gap-1",children:[n?o.jsx(n,{className:"icon-sm"}):null,o.jsx("div",{className:"text-token-text-secondary line-clamp-1 text-xs",children:jN((a=t.cloud_doc_url)!=null?a:"")})]}),o.jsx("div",{className:"text-token-text-primary line-clamp-1 truncate text-sm",children:t.name})]})}function J7t({overflowIcons:t,count:e,onClick:n}){return o.jsx("button",{className:"bg-token-bg-primary hover:bg-token-bg-tertiary border-token-border-default flex h-[64px] min-w-[110px] shrink-0 flex-col justify-between rounded-2xl border px-4 py-3",onClick:n,children:o.jsxs("div",{className:"flex h-full flex-col justify-between",children:[o.jsx("div",{className:"flex flex-row gap-1",children:Array.from({length:3}).map((r,s)=>{const a=t[s];return o.jsx("div",{children:a?o.jsx(a,{className:"icon-sm"}):o.jsx("div",{className:"icon-sm rounded-full object-cover"})},s)})}),o.jsx("div",{className:"text-token-text-primary text-start text-sm",children:o.jsx(N,{id:"aQJYKd",defaultMessage:"{count} {count, plural, one {source} other {sources}}",values:{count:e}})})]})})}const XLt=({gizmo:t})=>o.jsx("div",{className:"text-token-text-tertiary pointer-events-none text-sm select-none","aria-hidden":!0,inert:!0,children:t.gizmo.display.name}),X7t=({icons:t,size:e,stackOrder:n="bottom"})=>o.jsx("div",{className:"flex items-center",children:t.map((r,s)=>o.jsx("div",{className:"border-token-border-default box-content rounded-full border border-1 bg-white",style:{marginInlineStart:s===0?0:-e/2,zIndex:n==="bottom"?t.length-s:void 0,width:e,height:e,padding:e/4-1},children:r},s))});function eRt({clientThreadId:t,connectorToUpsell:e,analyticsMetadata:n}){const r=Yt(ws),s=o3.useIsEnabled(t)&&!r,a=Mr(),i=!!(a!=null&&a.isAdminOfAccount()||a!=null&&a.isOwnerOfAccount()),l=!!(a!=null&&a.isPersonalAccount()),c=i&&!l,u=()=>{c&&e===jt.GDRIVE?window.location.href="/admin/ca":e==="general"?window.location.hash="#settings/".concat(Dn.Connectors):window.location.hash="#settings/".concat(Dn.Connectors,"?connector=").concat($i[e===jt.GDRIVE?vt.GDRIVE_ACTION_CONNECTOR:vt.SHAREPOINT_CONNECTOR],"&add-connector-link=true&referrer=").concat(Ep.ConversationFollowup)};let d;if(e==="general")d=o.jsxs("div",{className:"text-token-text-secondary flex flex-row items-center gap-2 pe-2 text-start text-sm",children:[o.jsx(X7t,{size:16,icons:[o.jsx(Ir,{width:16,height:16},"gdrive"),o.jsx(Ul,{width:16,height:16},"dropbox"),o.jsx(T0,{width:16,height:16},"github")]}),o.jsx("div",{children:o.jsx(N,{id:"k3bYdS",defaultMessage:"<b>Connect apps</b> to find answers, summarize info, and get things done",values:{b:f=>o.jsx("span",{className:"font-medium",children:f})}})})]});else{const f=e===jt.GDRIVE?Ir:ku;d=o.jsxs("div",{className:"text-token-text-secondary flex flex-row items-center gap-2 pe-2 text-start text-sm",children:[o.jsx(f,{className:"icon-sm inline"}),o.jsx("div",{children:o.jsx(N,{id:"m1IPsN",defaultMessage:"<b>Connect {app}</b> to ask questions about all your files",values:{b:m=>o.jsx("span",{className:"font-medium",children:m}),app:e===jt.GDRIVE?"Google Drive":"SharePoint"}})})]})}return s?o.jsxs("div",{className:"group",children:[o.jsx("hr",{className:"bg-token-bg-tertiary mt-5 mb-5 opacity-70"}),o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex w-full flex-col",children:o.jsx(Se.div,{initial:{opacity:0,translateY:4},animate:{opacity:1,translateY:0},transition:{delay:0*.03},exit:{opacity:0,translateY:4},children:o.jsxs(Se.button,{whileHover:"hover",className:U("bg-primary hover:bg-secondary flex w-full cursor-pointer items-start justify-start gap-2 rounded-lg px-0 py-3 text-start"),onClick:f=>{u(),B.logEventWithStatsig("chatgpt_message_followup_connector_upsell_action","chatgpt_message_followup_connector_upsell_action",P(C({},Pt(n)),{action:"click",connectorToUpsell:e}))},onMouseEnter:()=>{B.logEventWithStatsig("chatgpt_message_followup_connector_upsell_action","chatgpt_message_followup_connector_upsell_action",P(C({},Pt(n)),{action:"hover",connectorToUpsell:e}))},children:[o.jsx(Se.div,{className:"flex items-center justify-center pt-0.25 opacity-70",variants:{hover:{x:4}},initial:{x:0},transition:{duration:.1},children:o.jsx(Rr,{className:"text-token-text-secondary icon"})}),d]})})})]}):null}function e9t(t=!1){const e=q(),n=ze(e,"3692302894"),r={getCapabilitySuggestionsEnabled:jl({layer:n,paramName:"capability_suggestions",defaultValue:!1}),getPrefetchCapabilitySuggestions:jl({layer:n,paramName:"prefetch_capability_suggestions",defaultValue:!1})};return{capabilitySuggestionsEnabled:!t&&r.getCapabilitySuggestionsEnabled(),prefetchCapabilitySuggestions:!t&&r.getPrefetchCapabilitySuggestions()}}const tRt=t=>t.some(e=>{var n;return!!((n=e.metadata)!=null&&n.chatgpt_sdk)});function nRt({message:t,clientThreadId:e,turnIndex:n,referenceMessageId:r,responseComplete:s}){var m,p;const{toggleThreadSidebar:a}=Bn(),i=C3("n7jupdSources"),l=Wu(),c=(m=t==null?void 0:t.metadata)==null?void 0:m.async_task_id,u=t&&((p=t.metadata)==null?void 0:p.open_tabs)&&t.metadata.open_tabs.length>0,d=(()=>{var y,x,b;if(!t)return[];const h=(y=t.metadata)!=null?y:{},v=[...(x=h.content_references)!=null?x:[],...Object.values((b=h.content_references_by_file)!=null?b:{}).flat()];return v.length===0?[]:v.flatMap(_=>{var w,S,k,M;switch(_.type){case"webpage":case"webpage_extended":return _.url?[_.url]:[];case"grouped_webpages":return(S=(w=_.items)==null?void 0:w.map(E=>E.url).filter(Boolean))!=null?S:[];case"file":return _.cloud_doc_url?[_.cloud_doc_url]:[];case"image_inline":{const E=(M=_.clicked_from_url)!=null?M:(k=_.asset_pointer_links)==null?void 0:k[0];return E?[E]:[]}default:return[]}})})();g.useEffect(()=>{if(c)return gs.retainTaskStream(c),()=>{gs.releaseTaskStream(c)}},[c]);const f=g.useCallback(()=>{a({type:"n7jupdSources",clientThreadId:e,turnIndex:n||1,messageId:r},i)},[a,e,i,n,r]);return!s||d.length===0||u?null:o.jsx(gce,{sourcesUrls:d,onClick:()=>{f()},className:U("mt-0! mb-0!",l&&"cursor-default")})}const rRt=({clientThreadId:t})=>{const e=kt(t),n=Te(t,r=>se.findNode(r,s=>{var a;return!!((a=s.message.metadata)!=null&&a.visited_risky_domain)}));return g.useEffect(()=>{if(!e||!n)return;const r=setInterval(()=>{document.visibilityState==="visible"&&ue.safePost("/conversation/{conversation_id}/agent/notify_viewing",{parameters:{path:{conversation_id:e}}})},1e3);return()=>clearInterval(r)},[e,n]),null},t9t="Continue",sRt=({clientThreadId:t,messages:e})=>{const n=q(),r=g.useMemo(()=>e.some(c=>{var u;return((u=c.metadata)==null?void 0:u.stop_reason)===y5e.RiskyDomainNotWatching}),[e]),s=WJe(t),{selectedSources:a}=Jo(t),[i,l]=g.useState(!1);return o.jsx(tt,{testId:"modal-watch-mode-stopped",isOpen:r&&!i,type:"success",size:"normal",onClose:_n,className:"p-1",title:o.jsx("div",{className:"font-semibold",children:o.jsx(N,{id:"8FmSDC",defaultMessage:"Task paused while you were away"})}),primaryButton:o.jsx(oe,{onClick:()=>{xc({ctx:n,clientThreadId:t,eventSource:"mouse",promptMessage:Fr(t9t,C({system_hints:[Or]},a&&{selected_sources:tc(a)})),completionMetadata:{systemHints:[Or],conversationMode:{kind:At.PrimaryAssistant}}})},children:o.jsx(N,{id:"4rrYz9",defaultMessage:"Resume"})}),secondaryButton:o.jsx(oe,{color:"secondary",onClick:()=>l(!0),children:o.jsx(N,{id:"yg+V5e",defaultMessage:"Stay paused"})}),children:o.jsx(N,{id:"Wdb/cy",defaultMessage:"ChatGPT is working with {riskyDomain}, which contains sensitive data. To resume, keep your browser's tab open and monitor actions.",values:{riskyDomain:o.jsx("span",{className:"font-medium",children:s})}})})};function Epe(t){"use forget";const e=ee.c(7),{className:n}=t;let r;e[0]!==n?(r=U("mb-2 flex flex-col gap-2",n),e[0]=n,e[1]=r):r=e[1];let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"bg-token-bg-tertiary h-3 grow rounded-full"}),o.jsx("div",{className:"bg-token-bg-tertiary h-3 grow rounded-full"}),o.jsx("div",{className:"bg-token-bg-tertiary h-3 grow rounded-full"}),o.jsx("div",{className:"bg-token-bg-tertiary h-3 grow rounded-full"})]}),e[2]=s):s=e[2];let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"bg-token-bg-tertiary h-3 grow rounded-full"}),o.jsx("div",{className:"bg-token-bg-tertiary h-3 grow rounded-full"}),o.jsx("div",{className:"bg-token-bg-tertiary h-3 grow rounded-full"})]}),e[3]=a):a=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"bg-token-bg-tertiary h-3 basis-3/7 rounded-full"}),o.jsx("div",{className:"bg-token-bg-tertiary h-3 basis-2/7 rounded-full"}),o.jsx("div",{className:"bg-token-bg-tertiary h-3 basis-1/7 rounded-full"})]}),e[4]=i):i=e[4];let l;return e[5]!==r?(l=o.jsxs("div",{className:r,children:[s,a,i]}),e[5]=r,e[6]=l):l=e[6],l}function tP({className:t,direction:e="horizontal",isMasked:n=!0,children:r,style:s}){return n?o.jsx("div",{className:U(e==="horizontal"?"[mask-image:linear-gradient(to_right,black_calc(100%_-_2rem),transparent_100%)]":"[mask-image:linear-gradient(to_bottom,black_calc(100%_-_2rem),transparent_100%)]","[mask-size:100%_100%]","[mask-repeat:no-repeat]",t),style:s,children:r}):o.jsx("div",{className:t,style:s,children:r})}function n9t({navlink:t,linkTarget:e="_self"}){var u;const n=q(),r=Xa(n),s=g.useRef(null),a=g.useRef(null),[i,l]=g.useState(!1);Rn(()=>{if(!s.current||!a.current)return;const d=s.current.getBoundingClientRect().width-16-8-24,f=a.current.getBoundingClientRect().width>d;l(f)},[]);const c=o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-token-text-secondary",children:t.domain}),t.snippet&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-token-text-tertiary",children:" â "}),o.jsx("span",{className:"text-token-text-tertiary",children:t.title})]})]});return o.jsx(Cde,{favicon:o.jsx(Nn,{url:t.url,size:32,minSize:16,applySizeToImg:!1,showLoadingAnimation:!0,className:"h-4 w-4 shrink-0 rounded-full border-1 border-gray-200"}),heading:t.title,title:null,quoteHeading:null,quoteText:null,snippet:(u=t.snippet)!=null?u:null,isContentBlocked:!1,theme:"white",children:o.jsxs(wr,{ref:s,href:t.url,target:e,className:U(r?"hover:bg-token-bg-tertiary bg-(--bg-quaternary)":"bg-token-bg-tertiary hover:bg-token-bg-secondary","h-full max-w-[284px] rounded-lg px-3","flex w-full items-center gap-2 select-none"),children:[o.jsx(Nn,{url:t.url,size:32,minSize:16,applySizeToImg:!1,className:"h-4 w-4 shrink-0 rounded-full",showLoadingAnimation:!0}),o.jsx(tP,{isMasked:i,className:"overflow-hidden text-sm whitespace-nowrap",children:c}),o.jsx("div",{ref:a,className:"pointer-events-none absolute text-sm opacity-0",children:c})]})})}var _o=(t=>(t[t.Classifier=0]="Classifier",t[t.Conversation=1]="Conversation",t[t.ShortQuery=2]="ShortQuery",t))(_o||{});function r9t(t){switch(t){case 0:return"navlinks_shown_cl";case 1:return"navlinks_shown_co";case 2:return"navlinks_shown_sq"}}function s9t(t,e,n,r,s){var d,f;if(!n)return;const a=t,i=e,l=n.getStartTime();if(n.logTimingOnce("navlinks_shown",{overrideDurationMs:a-l}),s!==void 0){const m=r9t(s);n.logTimingOnce(m,{overrideDurationMs:a-l}),Me.count(Ee.DEFAULT,"navlinks_show_decision_counter",[{key:"source",value:m}])}if(!r)return;let c=0;r.requestedTimeUnixEpochMs!==void 0&&(c=i-(r==null?void 0:r.requestedTimeUnixEpochMs)-(a-l),n.logTimingOnce("navlinks_before_js",{overrideDurationMs:c}),n.logTimingOnce("navlinks_shown_total",{overrideDurationMs:i-(r==null?void 0:r.requestedTimeUnixEpochMs)}));const u=s===_o.Classifier;if(r.lastStartFetch!==void 0&&r.firstStartFetch!==void 0&&r.firstNavlinkFetched!==void 0){const m=Math.max(u&&r.firstClassifierFetched!==void 0?r.firstClassifierFetched-r.lastStartFetch:0,0);let p=Math.max(Math.min(r.lastStartFetch-r.firstStartFetch,r.firstNavlinkFetched-r.firstStartFetch),0);s===_o.Conversation&&(p=0),n.logTimingOnce("navlinks_typeahead_savings",{overrideDurationMs:p}),n.logTimingOnce("navlinks_typeahead_savings_adj",{overrideDurationMs:Math.max(p-m,0)})}if(r.firstRoundtripTime!==void 0&&r.firstStartFetch!==void 0&&n.logTimingOnce("navlinks_roundtrip_latency",{overrideDurationMs:r.firstRoundtripTime-r.firstStartFetch}),r.firstNavlinkFetched!==void 0&&r.firstStartFetch!==void 0&&n.logTimingOnce("navlinks_first_fetch_latency",{overrideDurationMs:r.firstNavlinkFetched-r.firstStartFetch}),r.firstClassifierFetched!==void 0&&r.lastStartFetch!==void 0&&n.logTimingOnce("navlinks_classifier_latency",{overrideDurationMs:r.firstClassifierFetched-r.lastStartFetch}),r.requestedTimeUnixEpochMs){const m=Math.max((d=r.firstNavlinksFetchedTS)!=null?d:0,u&&(f=r.firstClassifierFetchedTS)!=null?f:0,r.requestedTimeUnixEpochMs);let p=i-m;s===_o.Conversation&&(p=c),n.logTimingOnce("navlinks_wait_for_ui",{overrideDurationMs:p})}}const OW=new Set,nw=new Map;function a9t({content:t,clientThreadId:e,navlinksShowDecisionSource:n,analytics:r,query:s}){const a=q(),i=2,{navlinks:l}=t.widgets,{profiler:c,isRequestActive:u}=lue({namespace:u1.SuperWidget,clientThreadId:e}),d=g.useRef(!1),f=dJ(a),m=wn(a),p=(Np(a)?f:!m)&&l&&l.length>0;if(p&&s!=null){const v="".concat(e,"_").concat(s);nw.has(v)||nw.set(v,{perf:performance.now(),unix:Date.now()})}if(g.useEffect(()=>{if(p&&c&&u&&!d.current&&s!=null){const v="".concat(e,"_").concat(s),y=nw.get(v);!OW.has(v)&&y&&(OW.add(v),d.current=!0,s9t(y.perf,y.unix,c,r,n))}},[p,c,u,n,r,s,e]),!p)return null;if(Np(a))return o.jsx("div",{className:m?"-mx-[var(--thread-content-margin)]":"-mx-6",children:o.jsx(tdt,{items:l,getItemKey:v=>v.url,onRenderItem:v=>o.jsx(n9t,{navlink:v}),itemClassName:"h-full border-none",className:"h-10"})});const h=["bg-token-bg-primary dark:bg-token-bg-secondary rounded-xl","border-token-border-default hover:border-light border bg-clip-padding hover:shadow-md","dark:hover:bg-token-bg-tertiary","transition-all duration-200"];return o.jsxs("div",{className:"flex gap-2",children:[l.slice(0,i).map(v=>o.jsx(wr,{href:v.url,target:"_self",className:U("flex w-[320px] flex-1 flex-col gap-1.5 overflow-hidden ps-4 pe-2 pt-4 pb-4",h),children:o.jsxs(tP,{children:[o.jsx("div",{className:"inline-flex items-center justify-start gap-2 self-stretch",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nn,{url:v.url,size:32,minSize:16,applySizeToImg:!0,className:"icon-sm rounded-full",showLoadingAnimation:!0}),o.jsx("div",{className:"text-token-text-secondary overflow-hidden text-xs text-clip",children:v.domain})]})}),o.jsxs("div",{className:"flex flex-col gap-0.5 self-stretch",children:[o.jsx("div",{className:"overflow-hidden text-sm font-medium text-clip whitespace-nowrap text-[var(--mini-link-color)]",children:v.title}),o.jsx("div",{className:"text-token-text-secondary overflow-hidden text-sm text-clip whitespace-nowrap",children:v.snippet})]})]})},v.url)),o.jsx("button",{onClick:()=>sde.set("web"),className:U("flex w-[44px] items-center justify-center",h),children:o.jsx(a1,{className:"icon"})})]})}function o9t(t){return t.replace(/^https?:\/\/(www\.)?/,"").replace(/\/$/,"").replace(/\?.*$/,"").replace(/#.*$/,"")}function aRt({content:t}){const{navlinks:e}=t.widgets,n=jpe(e);return o.jsx("div",{className:"-mx-4 flex flex-col",children:n.map((r,s)=>o.jsx(i9t,{navlinks:r},s))})}function i9t({navlinks:t}){const e=t[0],n=t.slice(1);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(DW,{navlink:e},e.url),o.jsx("div",{className:"ms-4 flex flex-col gap-1",children:n.map(r=>o.jsx(DW,{navlink:r,showDomain:!1},r.url))})]})}function DW({navlink:t,showDomain:e=!0}){const n=g.useRef(!1);return o.jsx(wr,{href:t.url,target:"_self",className:"hover:bg-token-interactive-bg-secondary-hover flex flex-col rounded-xl p-4",draggable:!1,onMouseDown:()=>n.current=!1,onMouseMove:()=>n.current=!0,onClick:r=>n.current?(n.current=!1,r.preventDefault()):null,children:o.jsxs("div",{className:"flex flex-col",children:[e&&o.jsxs("div",{className:"mb-2 flex items-center gap-2.5",children:[o.jsx(Nn,{url:t.url,size:32,minSize:16,applySizeToImg:!0,className:"icon-sm rounded-full",showLoadingAnimation:!0}),o.jsx("div",{className:"text-sm leading-none font-normal",children:t.domain})]}),o.jsx("div",{className:"text-base text-[var(--mini-link-color)] select-text max-md:line-clamp-1",children:t.title}),t.snippet&&o.jsx("div",{className:"mb-1 line-clamp-2 text-sm font-normal",children:t.snippet}),o.jsx("div",{className:"text-token-text-tertiary line-clamp-1 text-sm",children:o9t(t.url)})]})},t.url)}function jpe(t){return Object.values(t.reduce((e,n)=>{const r=n.domain;return e[r]||(e[r]=[]),e[r].push(n),e},{}))}function nP({domain:t,url:e,title:n,thumbnail_url:r,description:s,pub_date:a,subscript:i,theme:l="default",thumbnailOverlay:c,ThumbnailErrorIcon:u=cc,descriptionClassName:d="line-clamp-2"}){const f=Z(),m=g.useRef(!1),[p,h]=g.useState("loading"),[v,y]=g.useState("loading");return o.jsxs(wr,{href:e,target:"_self",className:U("hover:bg-token-interactive-bg-secondary-hover thread-sm:px-4 flex w-full justify-between gap-6 rounded-xl px-2 py-2.5",!s&&"min-h-[96px]"),draggable:!1,onMouseDown:()=>m.current=!1,onMouseMove:()=>m.current=!0,onClick:x=>m.current?(m.current=!1,x.preventDefault()):null,children:[o.jsxs("div",{className:"flex flex-col overflow-hidden",children:[l==="default"&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:U("border-token-border-default h-8 w-8 shrink-0 self-center rounded-full border-1 p-1.25",v!=="loaded"&&"loading-results-shimmer"),children:o.jsx(Nn,{url:e,size:128,minSize:16,applySizeToImg:!0,className:U("rounded-sm",v!=="loaded"&&"hidden"),onLoad:()=>y("loaded")})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"line-clamp-1 text-sm [overflow-wrap:anywhere]",children:t}),o.jsx("span",{className:"text-token-text-secondary mt-0.5 line-clamp-1 align-top text-xs [overflow-wrap:anywhere]",children:l9t(e)})]})]}),n&&o.jsx("span",{className:U("mt-2.5 text-base font-medium [overflow-wrap:anywhere] text-[var(--mini-link-color)]",l==="default"&&"line-clamp-2",l==="sub-result"&&"line-clamp-1"),children:n}),(s!=null?s:a)&&o.jsxs("div",{className:U("text-token-text-secondary mt-1 line-clamp-2 w-full text-sm font-normal [overflow-wrap:anywhere]",d),children:[o.jsx("span",{className:"text-token-text-tertiary",children:a&&o.jsxs(o.Fragment,{children:[y1e(f,new Date(a)),s&&o.jsxs(o.Fragment,{children:[o.jsx(Gq,{}),"â",o.jsx(Gq,{})]})]})}),s]}),i&&o.jsx("div",{className:"text-token-text-tertiary mt-1 line-clamp-1 text-sm",children:i})]}),r&&l==="default"&&o.jsx("div",{className:"self-center",children:o.jsxs("div",{className:"relative ms-auto block aspect-video min-h-[144px] w-[222px] min-w-0 overflow-hidden rounded-xl",children:[r&&o.jsx("img",{src:r,alt:"",className:U("absolute inset-0 h-full w-full object-cover opacity-0",p==="loaded"&&"opacity-100"),loading:"lazy",onLoad:()=>h("loaded"),onError:()=>h("error")}),o.jsx("div",{className:U("loading-results-shimmer absolute inset-0",{hidden:p!=="loading"})}),o.jsx("div",{className:U("bg-token-bg-secondary absolute inset-0 flex items-center justify-center",{hidden:p!=="error"}),children:o.jsx(u,{className:"icon-2xl opacity-15"})}),c]})})]})}function l9t(t){const e=t.replace(/\/$/,"");return e.match("youtube.com/watch")?e:e.replace(/\?.*$/,"")}const Tpe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.0013 7.33331C16.0013 6.62228 16.0014 6.12894 15.9701 5.74542C15.947 5.46347 15.9092 5.27396 15.8578 5.13019L15.8021 5.00031C15.6482 4.6982 15.4137 4.44517 15.1263 4.26886L14.9994 4.19855C14.8414 4.11809 14.6298 4.06127 14.2542 4.03058C13.8708 3.99926 13.3772 3.99835 12.6663 3.99835H7.33334C6.6223 3.99835 6.12897 3.99924 5.74545 4.03058C5.46359 4.05361 5.27396 4.09047 5.13021 4.14191L5.00033 4.19855C4.69807 4.35257 4.4452 4.58669 4.26888 4.87433L4.19857 5.00031C4.11806 5.15831 4.0613 5.36972 4.0306 5.74542C3.99927 6.12894 3.99838 6.62228 3.99838 7.33331V11.7269L5.01791 10.7083L5.19466 10.5482C6.11049 9.80104 7.46204 9.85459 8.31576 10.7083L13.6038 15.9964C13.8549 15.9923 14.0676 15.9853 14.2542 15.97C14.6296 15.9394 14.8414 15.8824 14.9994 15.8021L15.1263 15.7308C15.4137 15.5545 15.6482 15.3014 15.8021 14.9993L15.8578 14.8694C15.9092 14.7257 15.947 14.536 15.9701 14.2542C16.0014 13.8707 16.0013 13.3772 16.0013 12.6663V7.33331ZM7.37533 11.6487C7.00855 11.282 6.42794 11.2593 6.03451 11.5804L5.95834 11.6487L4.00228 13.6048C4.00643 13.8555 4.01538 14.0678 4.0306 14.2542C4.06129 14.6298 4.11811 14.8413 4.19857 14.9993L4.26888 15.1263C4.44519 15.4137 4.69822 15.6481 5.00033 15.8021L5.13021 15.8577C5.27398 15.9092 5.46349 15.947 5.74545 15.97C6.12896 16.0014 6.6223 16.0013 7.33334 16.0013H11.7269L7.37533 11.6487ZM13.0853 7.91632C13.0851 7.36327 12.6364 6.91535 12.0833 6.91535C11.5302 6.91535 11.0816 7.36327 11.0814 7.91632C11.0814 8.46953 11.5301 8.91827 12.0833 8.91827C12.6365 8.91827 13.0853 8.46953 13.0853 7.91632ZM14.4154 7.91632C14.4154 9.20407 13.3711 10.2484 12.0833 10.2484C10.7956 10.2484 9.75131 9.20407 9.75131 7.91632C9.75148 6.62873 10.7957 5.58527 12.0833 5.58527C13.371 5.58527 14.4152 6.62873 14.4154 7.91632ZM17.3314 12.6663C17.3314 13.3553 17.332 13.9124 17.2953 14.3626C17.2625 14.7636 17.1975 15.1247 17.0531 15.4612L16.9867 15.6038C16.7212 16.1248 16.3173 16.5605 15.8216 16.8646L15.6038 16.9866C15.2271 17.1786 14.8206 17.2578 14.3626 17.2952C13.9124 17.332 13.3554 17.3314 12.6663 17.3314H7.33334C6.64425 17.3314 6.08729 17.332 5.63705 17.2952C5.23636 17.2625 4.87571 17.1973 4.53939 17.053L4.39681 16.9866C3.87569 16.7211 3.43919 16.3174 3.13509 15.8216L3.01302 15.6038C2.82105 15.2271 2.74185 14.8206 2.70443 14.3626C2.66766 13.9124 2.6683 13.3553 2.6683 12.6663V7.33331C2.6683 6.64422 2.66764 6.08727 2.70443 5.63702C2.74184 5.17923 2.82122 4.77341 3.01302 4.39679L3.13509 4.17804C3.43919 3.68233 3.87578 3.27848 4.39681 3.013L4.53939 2.9466C4.87568 2.80236 5.2364 2.73715 5.63705 2.70441C6.08729 2.66762 6.64424 2.66827 7.33334 2.66827H12.6663C13.3553 2.66827 13.9124 2.66764 14.3626 2.70441C14.8206 2.74183 15.2271 2.82103 15.6038 3.013L15.8216 3.13507C16.3174 3.43917 16.7211 3.87567 16.9867 4.39679L17.0531 4.53937C17.1973 4.87569 17.2625 5.23634 17.2953 5.63702C17.332 6.08727 17.3314 6.64422 17.3314 7.33331V12.6663Z"})),Npe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M14.165 12.668C14.532 12.6682 14.8299 12.966 14.8301 13.333C14.8301 13.7001 14.5321 13.9978 14.165 13.998H5.83203C5.46476 13.998 5.16699 13.7003 5.16699 13.333C5.16717 12.9659 5.46487 12.668 5.83203 12.668H14.165Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.79981 6.00195C9.16705 6.00198 9.46484 6.29974 9.46484 6.66699V10C9.46467 10.3671 9.16695 10.665 8.79981 10.665H5.83301C5.46596 10.6649 5.16814 10.367 5.16797 10V6.66699C5.16797 6.29981 5.46585 6.00209 5.83301 6.00195H8.79981ZM6.49805 9.33496H8.13477V7.33203H6.49805V9.33496Z"}),g.createElement("path",{d:"M14.166 9.33496C14.5332 9.33496 14.8309 9.63288 14.8311 10C14.8309 10.3671 14.5332 10.665 14.166 10.665H11.7998C11.4328 10.6649 11.1349 10.367 11.1348 10C11.1349 9.63296 11.4328 9.33509 11.7998 9.33496H14.166Z"}),g.createElement("path",{d:"M14.166 6.00195C14.5333 6.00195 14.8311 6.29972 14.8311 6.66699C14.8309 7.03412 14.5332 7.33203 14.166 7.33203H11.7998C11.4328 7.3319 11.1349 7.03403 11.1348 6.66699C11.1348 6.29981 11.4326 6.00209 11.7998 6.00195H14.166Z"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5 2.66797C14.1891 2.66797 14.7461 2.66732 15.1963 2.7041C15.654 2.74151 16.0599 2.82094 16.4365 3.0127C17.032 3.31609 17.5169 3.80107 17.8203 4.39649C18.0121 4.77301 18.0915 5.17906 18.1289 5.63672C18.1657 6.08689 18.165 6.64406 18.165 7.33301V12.666C18.165 13.3548 18.1656 13.9122 18.1289 14.3623C18.0915 14.8202 18.0122 15.2268 17.8203 15.6035C17.5169 16.199 17.032 16.6829 16.4365 16.9863C16.0599 17.1782 15.6541 17.2575 15.1963 17.2949C14.746 17.3317 14.1891 17.3311 13.5 17.3311H6.5C5.81091 17.3311 5.25395 17.3317 4.80371 17.2949C4.34589 17.2575 3.94011 17.1782 3.56348 16.9863C2.96804 16.6829 2.48311 16.1989 2.17969 15.6035C1.98781 15.2268 1.90851 14.8202 1.87109 14.3623C1.83435 13.9122 1.83496 13.3548 1.83496 12.666V7.33301C1.83496 6.64407 1.83431 6.08689 1.87109 5.63672C1.90852 5.17906 1.98793 4.77301 2.17969 4.39649C2.48314 3.80107 2.96803 3.31609 3.56348 3.0127C3.94006 2.82094 4.34597 2.74151 4.80371 2.7041C5.25395 2.66732 5.81092 2.66797 6.5 2.66797H13.5ZM6.5 3.99805C5.78898 3.99805 5.29563 3.99894 4.91211 4.03027C4.53651 4.06097 4.32499 4.11777 4.16699 4.19824C3.82183 4.37412 3.54117 4.65487 3.36524 5C3.28475 5.15796 3.22797 5.36961 3.19727 5.74512C3.16594 6.12858 3.16504 6.62214 3.16504 7.33301V12.666C3.16504 13.3767 3.16598 13.8705 3.19727 14.2539C3.22794 14.6293 3.28485 14.8411 3.36524 14.999C3.54114 15.3443 3.82178 15.6258 4.16699 15.8018C4.32498 15.8822 4.53656 15.939 4.91211 15.9697C5.29563 16.0011 5.78896 16.001 6.5 16.001H13.5C14.211 16.001 14.7044 16.0011 15.0879 15.9697C15.4634 15.939 15.675 15.8822 15.833 15.8018C16.1782 15.6258 16.4589 15.3443 16.6348 14.999C16.7152 14.8411 16.7721 14.6293 16.8027 14.2539C16.834 13.8705 16.835 13.3767 16.835 12.666V7.33301C16.835 6.62214 16.8341 6.12858 16.8027 5.74512C16.772 5.36961 16.7153 5.15796 16.6348 5C16.4588 4.65487 16.1782 4.37412 15.833 4.19824C15.675 4.11777 15.4635 4.06097 15.0879 4.03027C14.7044 3.99894 14.211 3.99805 13.5 3.99805H6.5Z"})),Ape=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M10 2.125C14.3492 2.125 17.875 5.65076 17.875 10C17.875 14.3492 14.3492 17.875 10 17.875C5.65076 17.875 2.125 14.3492 2.125 10C2.125 5.65076 5.65076 2.125 10 2.125ZM7.88672 10.625C7.94334 12.3161 8.22547 13.8134 8.63965 14.9053C8.87263 15.5194 9.1351 15.9733 9.39453 16.2627C9.65437 16.5524 9.86039 16.625 10 16.625C10.1396 16.625 10.3456 16.5524 10.6055 16.2627C10.8649 15.9733 11.1274 15.5194 11.3604 14.9053C11.7745 13.8134 12.0567 12.3161 12.1133 10.625H7.88672ZM3.40527 10.625C3.65313 13.2734 5.45957 15.4667 7.89844 16.2822C7.7409 15.997 7.5977 15.6834 7.4707 15.3486C6.99415 14.0923 6.69362 12.439 6.63672 10.625H3.40527ZM13.3633 10.625C13.3064 12.439 13.0059 14.0923 12.5293 15.3486C12.4022 15.6836 12.2582 15.9969 12.1006 16.2822C14.5399 15.467 16.3468 13.2737 16.5947 10.625H13.3633ZM12.1006 3.7168C12.2584 4.00235 12.4021 4.31613 12.5293 4.65137C13.0059 5.90775 13.3064 7.56102 13.3633 9.375H16.5947C16.3468 6.72615 14.54 4.53199 12.1006 3.7168ZM10 3.375C9.86039 3.375 9.65437 3.44756 9.39453 3.7373C9.1351 4.02672 8.87263 4.48057 8.63965 5.09473C8.22547 6.18664 7.94334 7.68388 7.88672 9.375H12.1133C12.0567 7.68388 11.7745 6.18664 11.3604 5.09473C11.1274 4.48057 10.8649 4.02672 10.6055 3.7373C10.3456 3.44756 10.1396 3.375 10 3.375ZM7.89844 3.7168C5.45942 4.53222 3.65314 6.72647 3.40527 9.375H6.63672C6.69362 7.56102 6.99415 5.90775 7.4707 4.65137C7.59781 4.31629 7.74073 4.00224 7.89844 3.7168Z"})),Ppe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2998 2.6709C13.318 2.66997 13.3361 2.67031 13.3545 2.6709C13.739 2.67372 14.0728 2.68047 14.3623 2.7041C14.8202 2.74151 15.2268 2.82085 15.6035 3.0127L15.8213 3.13477C16.317 3.4388 16.7208 3.87553 16.9863 4.39649L17.0527 4.53906C17.197 4.87528 17.2622 5.23618 17.2949 5.63672C17.3317 6.08689 17.3311 6.64407 17.3311 7.33301V12.666C17.3311 13.3549 17.3317 13.9121 17.2949 14.3623C17.2622 14.7632 17.1971 15.1245 17.0527 15.4609L16.9863 15.6035C16.6829 16.1988 16.1988 16.6829 15.6035 16.9863C15.2268 17.1783 14.8203 17.2575 14.3623 17.2949C13.9121 17.3317 13.3549 17.3311 12.666 17.3311H7.33301C6.64403 17.3311 6.08691 17.3317 5.63672 17.2949C5.23614 17.2622 4.87531 17.197 4.53906 17.0527L4.39649 16.9863C3.87551 16.7208 3.4388 16.317 3.13477 15.8213L3.0127 15.6035C2.82086 15.2269 2.74151 14.8202 2.7041 14.3623C2.66736 13.9122 2.66797 13.3548 2.66797 12.666V7.33301C2.66797 6.64407 2.66732 6.08689 2.7041 5.63672C2.74152 5.17906 2.82093 4.77301 3.0127 4.39649C3.31613 3.80105 3.80103 3.31611 4.39649 3.0127C4.77304 2.82092 5.17902 2.74152 5.63672 2.7041C6.08691 2.66732 6.64403 2.66797 7.33301 2.66797H12.666C12.891 2.66797 13.1021 2.66971 13.2998 2.6709ZM3.99805 8.16504V12.666C3.99805 13.3767 3.99899 13.8705 4.03027 14.2539C4.06094 14.6292 4.11789 14.8411 4.19824 14.999L4.26856 15.126C4.4448 15.4133 4.69804 15.6478 5 15.8018L5.12988 15.8574C5.27361 15.9089 5.46331 15.9467 5.74512 15.9697C6.12859 16.0011 6.6221 16.001 7.33301 16.001H12.666C13.3767 16.001 13.8705 16.001 14.2539 15.9697C14.6292 15.9391 14.8411 15.8821 14.999 15.8018C15.3443 15.6258 15.6258 15.3443 15.8018 14.999L15.8574 14.8691C15.9088 14.7254 15.9467 14.5355 15.9697 14.2539C16.001 13.8705 16.001 13.3767 16.001 12.666V8.16504H3.99805ZM12.6484 6.83496H15.999C15.9976 6.38034 15.9932 6.03187 15.9697 5.74512C15.9467 5.46336 15.9089 5.2736 15.8574 5.12988L15.8018 5C15.6478 4.69805 15.4133 4.44479 15.126 4.26856L14.999 4.19824C14.8411 4.11788 14.6292 4.06094 14.2539 4.03027C14.1122 4.01871 13.9555 4.01257 13.7783 4.00781L12.6484 6.83496ZM7.33301 3.99805C6.6221 3.99805 6.12859 3.99894 5.74512 4.03027C5.36955 4.06098 5.15798 4.11775 5 4.19824C4.65484 4.37414 4.37416 4.65485 4.19824 5C4.11776 5.15796 4.06098 5.36961 4.03027 5.74512C4.00685 6.03186 4.00272 6.38034 4.00098 6.83496H6.21582L7.35059 3.99805H7.33301ZM7.64844 6.83496H11.2158L12.3506 3.99805H8.7832L7.64844 6.83496Z"}));function I3(t){switch(t){case"web":return Ape;case"images":return Tpe;case"videos":return Ppe;case"news":return Npe;case"answer":return null}}function ff({IconComponent:t=T5,children:e}){return o.jsxs("div",{className:"flex min-h-[160px] flex-col items-center justify-center gap-3",children:[o.jsx(t,{className:"icon-xl text-token-text-tertiary"}),o.jsx("div",{className:"text-token-text-tertiary text-center",children:e})]})}function c9t({content:t,descriptionClassName:e}){const{navlinks:n}=t.widgets;if(!n||n.length===0){const s=I3("web");return o.jsx(ff,{IconComponent:s,children:o.jsx(N,{id:"dOHukr",defaultMessage:"No links found"})})}const r=m9t(n);return o.jsx("div",{className:"thread-sm:-mx-4 -mx-2 flex flex-col",children:r.map((s,a)=>o.jsx(u9t,{navlinks:s,showSeparator:a<r.length-1,descriptionClassName:e},a))})}function u9t({navlinks:t,showSeparator:e,descriptionClassName:n}){const r=t[0],s=t.slice(1);return o.jsxs("div",{className:"flex flex-col",children:[o.jsx(d9t,{mainNavlink:r,descriptionClassName:n}),o.jsx("div",{className:"ms-4 flex flex-col",children:s.map(a=>o.jsx(f9t,{navlink:a,descriptionClassName:n},a.url))}),e&&o.jsx("hr",{className:"border-heavy mx-4 my-2.5"})]})}function d9t({mainNavlink:t,descriptionClassName:e}){return o.jsx(nP,{url:t.url,domain:t.domain,title:t.title,description:t.snippet,descriptionClassName:e})}function f9t({navlink:t,descriptionClassName:e}){const n=g.useRef(!1);return o.jsx(wr,{href:t.url,target:"_self",className:"hover:bg-token-interactive-bg-secondary-hover ms-2.5 flex flex-col rounded-xl px-4 py-2.5",draggable:!1,onMouseDown:()=>n.current=!1,onMouseMove:()=>n.current=!0,onClick:r=>n.current?(n.current=!1,r.preventDefault()):null,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"mb-1 truncate text-base font-medium text-[var(--mini-link-color)]",children:t.title}),t.snippet&&o.jsx("div",{className:U("text-token-text-secondary mb-1 truncate text-sm font-normal",e),children:t.snippet})]})},t.url)}function m9t(t){return Object.values(t.reduce((e,n)=>{const r=n.domain;return e[r]||(e[r]=[]),e[r].push(n),e},{}))}const p9t=4,oRt=t=>{"use forget";const e=ee.c(25),{clientThreadId:n,query:r,className:s,state:a}=t,i=q();let l;e[0]!==i?(l=_3(i),e[0]=i,e[1]=l):l=e[1];const{loadingSkeletonState$:c}=l;let u;e[2]!==c?(u=()=>c(),e[2]=c,e[3]=u):u=e[3];const d=at(u),{showNavlinksWidget:f,showLongList:m,navlinksOptimistic:p,imagesOptimistic:h,videosOptimistic:v,newsOptimistic:y,showReason:x,analytics:b}=a;let _;e[4]!==i?(_=J6(i)&&Xa(i),e[4]=i,e[5]=_):_=e[5];const w=_;if(!f)return null;let S;e[6]!==s?(S=U("mb-6",s),e[6]=s,e[7]=S):S=e[7];let k;e[8]!==b||e[9]!==n||e[10]!==h||e[11]!==p||e[12]!==y||e[13]!==r||e[14]!==m||e[15]!==x||e[16]!==v?(k=m?o.jsxs(o.Fragment,{children:[o.jsx(c9t,{content:{content_type:rt.SuperWidget,widgets:{navlinks:p.slice(0,p9t),images:h,videos:v,news:y}},descriptionClassName:"line-clamp-1"}),o.jsxs("div",{className:"thread-sm:-mx-4 -mx-2",children:[o.jsx("div",{className:"mt-3 mb-6 flex w-full items-center justify-between px-4",children:o.jsx("button",{type:"button",onClick:g9t,className:"text-token-text-primary text-sm hover:underline",children:o.jsx(N,{id:"navlinks.showAllSearchResults",defaultMessage:"Show all search results"})})}),o.jsx("hr",{className:"mx-4"})]})]}):o.jsx(a9t,{content:{content_type:rt.SuperWidget,widgets:{navlinks:p,images:h,videos:v,news:y}},clientThreadId:n,navlinksShowDecisionSource:x,analytics:b,query:r}),e[8]=b,e[9]=n,e[10]=h,e[11]=p,e[12]=y,e[13]=r,e[14]=m,e[15]=x,e[16]=v,e[17]=k):k=e[17];let M;e[18]!==w||e[19]!==d?(M=w&&d==="navlinks"&&o.jsx(Epe,{className:"mt-6"}),e[18]=w,e[19]=d,e[20]=M):M=e[20];let E;return e[21]!==S||e[22]!==k||e[23]!==M?(E=o.jsxs("div",{id:"navlinks-content",className:S,children:[k,M]}),e[21]=S,e[22]=k,e[23]=M,e[24]=E):E=e[24],E};function g9t(){return sde.set("web")}const W2=new Set(["lynx","fast"]),h9t=3;function Z2(t,e,n){if(e===void 0||e<0)return t;let r=e;const s=[];for(const a of t){const i=a.source!==void 0&&n.has(a.source);i&&r<=0||(s.push(a),i&&r--)}return s}const Ipe="ChatGPT";function v9t(t,e){const[n]=Te(t,r=>{var s;return[(s=r==null?void 0:r.title)!=null?s:null]});return g.useMemo(()=>y9t(t,n,e),[t,e,n])}function y9t(t,e,n){const r=Ji(t);return n&&n.kind===At.GizmoInteraction&&n.gizmo?r?"ChatGPT - ".concat(n.gizmo.gizmo.display.name):e&&"".concat(n.gizmo.gizmo.display.name," - ").concat(e):e||Ipe}function x9t(t){return t.split(new RegExp("[^\\p{L}\\p{N}]+","u")).filter(Boolean).length}const b9t=va(t=>_s(t,"3656028793").get("max_words",4));function C9t(){const t=q();return b9t(t)}function iRt({clientThreadId:t,threadContent:e,query:n,triggeredSearch:r,messageGroups:s,allMessages:a}){"use forget";var z,$,D,Y,G,F,X,te,ae;const i=q(),l=C9t(),c=x9t(n!=null?n:""),u=eLe(n!=null?n:""),d=c>0&&c<=l&&!u.isNoForceSearch&&u.navlinks.length>0,f=u.isNavlinkIntent===!0||!!((z=e==null?void 0:e.widgets)!=null&&z.is_navlinks_emphasize),m=u.truncateFastNavlinks!==void 0?u.truncateFastNavlinks:h9t,[p,h]=g.useState(Z2(($=e==null?void 0:e.widgets)!=null&&$.navlinks&&e.widgets.navlinks.length>0?e.widgets.navlinks:u.navlinks,m,W2)),[v,y]=g.useState((D=e==null?void 0:e.widgets)!=null&&D.images&&e.widgets.images.length>0?e.widgets.images:u.images),[x,b]=g.useState((Y=e==null?void 0:e.widgets)!=null&&Y.videos&&e.widgets.videos.length>0?e.widgets.videos:u.videos),[_,w]=g.useState((G=e==null?void 0:e.widgets)!=null&&G.news&&e.widgets.news.length>0?e.widgets.news:u.news),[S,k]=g.useState({show:!u.isForceHide&&(d||u.isSearchLikely===!0||f||r),showReason:d?_o.ShortQuery:u.isSearchLikely===!0?_o.Classifier:r?_o.Conversation:void 0}),M=g.useRef({navlinks:(F=e==null?void 0:e.widgets)!=null&&F.navlinks&&e.widgets.navlinks.length>0?"thread":u.navlinks.length>0?"prefetched":null,images:(X=e==null?void 0:e.widgets)!=null&&X.images&&e.widgets.images.length>0?"thread":u.images.length>0?"prefetched":null,videos:(te=e==null?void 0:e.widgets)!=null&&te.videos&&e.widgets.videos.length>0?"thread":u.videos.length>0?"prefetched":null,news:(ae=e==null?void 0:e.widgets)!=null&&ae.news&&e.widgets.news.length>0?"thread":u.news.length>0?"prefetched":null}),E=p.length>0?p:Z2(u.navlinks,m,W2),T=v.length>0?v:u.images,j=x.length>0?x:u.videos,A=_.length>0?_:u.news,I=!u.isForceHide&&(S.show||u.isSearchLikely===!0||f||r);g.useEffect(()=>{var K,ne,re,le;if(!u)return;function me({prefetchedData:fe,threadData:ge,sourceType:ye,setData:_e}){const Ne=M.current[ye];function Ae(ot){return Array.isArray(ot)&&ot.length>0}Ae(ge)&&(!Ne||Ne==="thread")?(M.current[ye]="thread",_e(ge)):Ae(fe)&&(!Ne||Ne==="prefetched")&&(M.current[ye]="prefetched",_e(fe))}me({prefetchedData:Z2(u.navlinks,m,W2),threadData:((K=e==null?void 0:e.widgets)==null?void 0:K.navlinks)!==void 0?Z2((ne=e==null?void 0:e.widgets)==null?void 0:ne.navlinks,m,W2):void 0,sourceType:"navlinks",setData:h}),me({prefetchedData:u.images,threadData:(re=e==null?void 0:e.widgets)==null?void 0:re.images,sourceType:"images",setData:y}),me({prefetchedData:u.videos,threadData:(le=e==null?void 0:e.widgets)==null?void 0:le.videos,sourceType:"videos",setData:b}),me({prefetchedData:u.news,threadData:e==null?void 0:e.widgets.news,sourceType:"news",setData:w}),(u.isSearchLikely||r||d)&&!S.show&&!u.isForceHide&&k({show:!0,showReason:d?_o.ShortQuery:u.isSearchLikely?_o.Classifier:_o.Conversation})},[u,e,r,d]);const L=I&&E.length>0,O=v9t(t,void 0),R=O!==Ipe?O:null,H=g.useMemo(()=>_9t(r,s,a),[r,s,a]),{onShowNavlinksTitle:V}=_3(i);return g.useEffect(()=>{L&&V(f,R)},[f,L,R,V]),{showNavlinksWidget:L,showLongList:f,showReason:S.showReason,navlinksOptimistic:E,imagesOptimistic:T,videosOptimistic:j,newsOptimistic:A,analytics:u.analytics,title:R,header:H}}function _9t(t,e,n){const r=n.findLast(u=>Dg(u).length>0),s=Dg(r);let a=!1,i,l=-1;for(let u=0;u<e.length;u++)if(e[u].type===Hn.SearchGPTQuery){l=u,a=!0;break}if(a)for(let u=e.length-1;u>l;u--){const d=e[u];if(d.type===Hn.Text||d.type===Hn.CoTSearchTool){i=d.messages[0];break}}return{showSearchGPTQuery:t&&a&&(!i||!WM(i)),nextMessage:i,searchResultGroups:s}}class Il extends Yi()(n=>n){constructor(){super(...arguments);Q(this,"startReplay",n=>{this.setState(()=>({isReplayEnabled:!0,finalMessageId:n}))});Q(this,"endReplay",()=>{this.setState(()=>({isPlaying:!1,isReplayEnabled:!1,finalMessageId:null}))});Q(this,"setIsReplayEnabled",n=>{this.setState(r=>P(C({},r),{isReplayEnabled:n}))});Q(this,"toggleIsPlaying",()=>{this.setState(n=>P(C({},n),{isPlaying:!n.isPlaying}))});Q(this,"setPlaying",n=>{this.setState(r=>P(C({},r),{isPlaying:n}))});Q(this,"setSpeed",n=>{this.setState(r=>P(C({},r),{playbackSpeed:n}))})}}Q(Il,"getFinalMessageId",({finalMessageId:n})=>n),Q(Il,"isReplayInProgress",(n,r)=>n.isReplayEnabled&&n.finalMessageId!==r);function lRt({children:t,clientThreadId:e}){const n=Te(e,d=>!!(d!=null&&d.tree.getBranchFromLeaf(d.currentLeafId).some(f=>{var m;return(m=f.message.metadata)==null?void 0:m.n7jupd_message}))),r=Te(e,d=>d==null?void 0:d.currentLeafId),s=!!r,l=moe()&&n&&!!r,c=l?r:null,[u]=g.useState(()=>new Il({finalMessageId:c,isReplayEnabled:l,isPlaying:!1,playbackSpeed:1}));return g.useEffect(()=>{s&&l&&u.setState({isReplayEnabled:l,finalMessageId:c})},[s]),o.jsx(Il.Provider,{store:u,children:t})}const w9t=Je(()=>Ve(()=>import("./bfpssj0ubey4ph3i.js"),__vite__mapDeps([163,1,4,5,164,157,10])).then(t=>t.CAFeedbackModal));function cRt({clientThreadId:t,currentModelConfig:e}){const n=q(),r=x5e(t),s=b5e(e,r),a=hs(za.isBusinessWorkspace);tl(t);const i=!1;return{onChangeRating:g.useCallback(({nodeId:c,messageId:u,rating:d})=>{var h,v;const f=kt(t);d&&B.logEvent("Rated Result",{id:u,threadId:f,rating:d,model:e==null?void 0:e.id});const m=se.getTree(st(t)),p=m.getNodeByIdOrMessageId(c);if(f!==void 0&&(a&&ie(n,"4147309512")?d&&zmt({rating:cfe(d)},f,u):a||(d?ue.safePost("/conversation/message_feedback",{requestBody:{message_id:u,conversation_id:f,rating:d},authOption:qt.SendIfAvailable}):ue.safeDelete("/conversation/message_feedback",{requestBody:{message_id:u,conversation_id:f},authOption:qt.SendIfAvailable}))),Fe(t,y=>{vn.updateTree(y,x=>{x.updateNodeMetadata(c,{rating:d!=null?d:void 0})})}),d&&(s||i)){Dt(n,w9t,{citations:(v=(h=p.message.metadata)==null?void 0:h.citations)!=null?v:[],rating:d,conversationId:f!=null?f:"",messageId:u,conversationTree:m,nodeId:c,isGlaux:i});return}},[n,t,e==null?void 0:e.id,a,s,i])}}const uRt=({role:t,gizmo:e})=>{const n=Z();function r(){switch(t){case Ue.User:return n.formatMessage({id:"3DStaP",defaultMessage:"You said:"});case Ue.Assistant:return e?n.formatMessage({id:"ptfwNc",defaultMessage:"{author} said:"},{author:e.gizmo.display.name}):n.formatMessage({id:"LDIn6l",defaultMessage:"ChatGPT said:"});default:return""}}const s=t===Ue.Assistant?"h6":"h5";return o.jsx(s,{className:"sr-only",children:r()})};function dRt({isUserTurn:t}){return U("relative flex w-full min-w-0 flex-col",!t&&yde)}function S9t(t,e,n,r){if(e)return t?n&&n!==r?"/g/".concat(t,"/shared/c/").concat(e,"?project_id=").concat(t,"&owner_user_id=").concat(n):"/g/".concat(t,"/c/").concat(e):"/c/".concat(e)}function fRt({clientThreadId:t,turn:e,isFinalTurn:n}){return Te(t,s=>!n&&e.messages.some(a=>(s==null?void 0:s.continuingSharedConversationLastMessageId)===a.id))?o.jsx("div",{className:"mx-auto mt-8 -mb-2 flex justify-center",children:o.jsxs("p",{className:"flex items-center text-xs text-gray-500",children:[o.jsx(Ua,{className:"icon-xs me-2"}),o.jsx(N,{id:"threadLayout.sharedConversationPrivateDisclaimer",defaultMessage:"Messages beyond this point are only visible to you"})]})}):null}function mRt({clientThreadId:t,turn:e}){var d,f,m,p,h,v,y,x;const n=kt(t),r=q(),s=yt(r),a=(f=(d=e.messages.find(b=>{var _;return(_=b.metadata)==null?void 0:_.branching_from_conversation_title}))==null?void 0:d.metadata)==null?void 0:f.branching_from_conversation_title,i=(p=(m=e.messages.find(b=>{var _;return(_=b.metadata)==null?void 0:_.branching_from_conversation_id}))==null?void 0:m.metadata)==null?void 0:p.branching_from_conversation_id,l=(v=(h=e.messages.find(b=>{var _;return(_=b.metadata)==null?void 0:_.branching_from_conversation_owner}))==null?void 0:h.metadata)==null?void 0:v.branching_from_conversation_owner,c=(x=(y=e.messages.find(b=>{var _;return(_=b.metadata)==null?void 0:_.gizmo_id}))==null?void 0:y.metadata)==null?void 0:x.gizmo_id,u=S9t(c,i,l,s==null?void 0:s.normalizedAccountUserId);return a?o.jsx(m1,{children:o.jsxs("div",{className:"mx-auto mt-8 flex w-full items-center justify-center",children:[o.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"}),o.jsx("p",{className:"mx-3 shrink text-xs whitespace-nowrap text-gray-500",children:o.jsx(N,{id:"threadLayout.branchConversationDisclaimer",defaultMessage:"Branched from {conversationTitle}",values:{conversationTitle:(n||l)&&u?o.jsx(p0,{className:"font-semibold",href:u,children:a}):o.jsx("span",{className:"font-semibold",children:a})}})}),o.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"})]})}):null}const k9t="bg-token-main-surface-primary text-token-text-primary",M9t="openai",FW=["bg-blue-300 text-white"];function E9t(t){var e;return FW[((e=t==null?void 0:t.charCodeAt(0))!=null?e:0)%FW.length]}const K2=({children:t})=>o.jsx("div",{className:"pt-0",children:o.jsx("div",{className:U(g.isValidElement(t)&&t.type===Ug?"gizmo-bot-avatar":"gizmo-shadow-stroke","flex h-8 w-8 items-center justify-center overflow-hidden rounded-full"),children:t})});function pRt(t){var m;const{messages:e,isUserTurn:n,avatarClassName:r,gizmo:s}=t,a=e[0],i=(m=a==null?void 0:a.metadata)==null?void 0:m.shared_conversation_id,l=i!=null,c=Wt(),{gizmoEditorData:u,mode:d}=VM();let f=o.jsx(K2,{children:o.jsx(Ug,{className:r!=null?r:k9t,iconName:M9t})});return s?f=o.jsx(K2,{children:o.jsx(_Ue,{gizmoId:s.gizmo.id,className:"h-full w-full"})}):u!=null&&d==="test"&&(f=o.jsx(a3,{isFirstParty:!1,src:u.profilePictureUrl,className:"h-8 w-8 first:pt-[3px]"})),o.jsx("div",{className:void 0,children:n?l?o.jsx(K2,{children:o.jsx(Ug,{className:E9t(i),iconName:"user"})}):o.jsx(K2,{children:o.jsx(Hd,{user:c})}):f})}const j9t=Rt(()=>({displayingSideBySideFeedback:!1}));function gRt({handleShowRetrievalResults:t,clientThreadId:e,turnIndex:n,responseComplete:r=!1}){const s=q(),[a,i]=Te(e,m=>[se.getTurnContentReferences(m,n),se.getConversationTurnAtIndex(m,n).messages]),l=g.useMemo(()=>({turnIndex:n,clientThreadId:e,responseComplete:r}),[e,r,n]),c=g.useRef(!1);g.useEffect(()=>{c.current||(c.current=!0,B.logEvent("File Sources Footer Shown",l))},[l]);const u=g.useCallback(()=>{B.logEvent("File Sources Footer Clicked",l),t()},[t,l]),d=g.useMemo(()=>{var x,b,_;const m=new Set,p=[];function h(w){!w||m.has(w)||(m.add(w),p.push(w))}if(a.forEach(w=>{var S,k;w.type==="file"?h((k=w.cloud_doc_url)!=null?k:(S=w.extra)==null?void 0:S.cloud_doc_url):w.type==="file_navlist"&&w.items.forEach(M=>{h(M.cloud_doc_url)})}),r){for(const w of i)if(eP(w)){const S=Mpe(w.content.result),k=(b=(x=w.metadata)==null?void 0:x.cloud_doc_urls)!=null?b:[],M=S.chunks;for(let E=0;E<M.length;E++){const T=M[E];if(!T.documentId)continue;if(E<k.length){h(k[E]);continue}const j=T.documentId.endsWith("--google")?T.documentId.split("--")[1]:void 0,A=(_=T.metadata.cloud_doc_url)!=null?_:j?"https://drive.google.com/file/d/".concat(j):void 0;h(A==null?void 0:A.toString())}break}}const v=ie(s,"1424158285"),y=new Set;for(let w=0;w<p.length;w++){const S=p[w],k=ri(S);if(k)y.add(k.Icon);else if(v&&S.length>0){const M=({className:E})=>o.jsx(Nn,{url:S,className:U(E,"object-cover"),size:32,minSize:20,fallback:o.jsx(Wa,{className:E})});y.add(M)}else y.add(Wa);if(y.size>=3)break}return y},[i,a,r,s]),f=Yt(wn);return d.size===0&&!r||f?null:o.jsx("div",{className:"relative h-[60px]",children:o.jsx(Se.div,{className:"absolute h-[60px]",initial:{opacity:0},animate:{opacity:1},children:o.jsxs("button",{className:U("not-prose group/footnote border-token-border-default bg-token-main-surface-primary hover:bg-token-main-surface-secondary mt-3 mb-2 flex w-fit items-center gap-1.5 rounded-xl border py-2","ps-3 pe-2.5"),onClick:u,children:[d.size>0&&o.jsx("div",{className:"flex flex-row-reverse gap-1",children:Array.from(d).reverse().map((m,p)=>o.jsx(Se.div,{className:U("border-token-main-surface-primary bg-token-main-surface-primary flex items-center overflow-hidden","group-hover/footnote:border-token-main-surface-secondary","relative"),initial:{opacity:0},animate:{opacity:1},children:o.jsx(m,{className:"icon-sm"})},p))}),o.jsx("div",{className:"text-token-text-secondary flex items-center gap-0.5 text-xs font-semibold",children:o.jsx(N,{id:"/48IOP",defaultMessage:"Sources"})})]})})})}const T9t=t=>{switch(t){case"research":return o.jsx(Nu,{className:"h-4 w-4"});case"pro_mode":return o.jsx(Nu,{className:"h-4 w-4"});default:return o.jsx(Rr,{className:"h-4 w-4"})}},hRt=({message:t,clientThreadId:e})=>{var d,f,m,p,h,v;const n=Te(e,y=>{var x,b;return t&&((x=t.metadata)==null?void 0:x.async_task_id)&&se.hasUserContinuedFromAsyncTask(y,t==null?void 0:t.id,(b=t==null?void 0:t.metadata)==null?void 0:b.async_task_id)}),r=q(),s=ie(r,"1927459101"),a=ie(r,"2017435557"),i=s||a,{openThreadSidebar:l}=Bn();if(!i||!t||!(n||(d=t.metadata)!=null&&d.async_task_original_message_id))return null;const c=(f=t.metadata)==null?void 0:f.async_task_original_message_id,u=()=>{var y,x,b,_;((y=t.metadata)==null?void 0:y.async_task_type)==="research"||((x=t.metadata)==null?void 0:x.async_task_type)==="pro_mode"?l({type:"caterpillar",caterpillarId:(_=(b=t.metadata)==null?void 0:b.async_task_id)!=null?_:"",initialTab:"activity",clientThreadId:e}):c&&(Fe(e,w=>{w.scrollToMessageId=c}),requestAnimationFrame(()=>{Fe(e,w=>{w.scrollToMessageId=void 0})}))};return o.jsxs("button",{type:"button",className:"text-token-text-tertiary hover:text-token-text-primary mt-2 mb-1 flex items-center gap-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-current","aria-haspopup":"dialog",onClick:u,children:[o.jsx("span",{"aria-hidden":"true",className:"pointer-events-none",children:T9t((p=(m=t.metadata)==null?void 0:m.async_task_type)!=null?p:"")}),o.jsx("span",{children:((h=t.metadata)==null?void 0:h.async_task_message_label)||((v=t.metadata)==null?void 0:v.async_task_title)})]})},Zk=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M6.04462 13.8908L5.28227 13.9709C4.36685 14.0672 3.54677 13.403 3.45052 12.4876L2.6666 5.0287C2.57035 4.11326 3.23443 3.29316 4.14993 3.19695L9.12252 2.6743C9.89332 2.59329 10.5965 3.05134 10.8569 3.74459",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M15.8814 6.5302C16.7969 6.62641 17.461 7.44651 17.3648 8.36192L16.5808 15.8208C16.4846 16.7363 15.6645 17.4004 14.749 17.3042L9.77641 16.7815C8.86099 16.6853 8.19691 15.8653 8.29308 14.9498L9.07708 7.49087C9.17332 6.57545 9.99341 5.91134 10.9088 6.00756L15.8814 6.5302Z",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),vRt=Object.freeze(Object.defineProperty({__proto__:null,default:Zk},Symbol.toStringTag,{value:"Module"}));function rP({followups:t,analyticsMetadata:e,layout:n="list"}){const r=g.useRef(!1),s=s1(),a=q(),i=u=>(u==null?void 0:u.pineapple)!==void 0;g.useEffect(()=>{r.current||(r.current=!0,t.forEach((u,d)=>{B.logEventWithStatsig("chatgpt_message_followup_action","chatgpt_message_followup_action",P(C({},Pt(e)),{action:"show",position:(d+1).toString(),followup_text:zr(u)})),i(u)&&B.logEventWithStatsig("Pineapple Followup: Show","chatgpt_pineapple_followup_action",P(C({},Pt(e)),{action:"show",position:(d+1).toString(),followup_text:zr(u)}))}))},[t,e]);const l=_s(a,"4283453052").get("max_followups",4),c=t.slice(0,l);return n==="chips"?o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex w-full flex-wrap gap-2 py-1",children:c.map((u,d,f)=>o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:d*.03},exit:{opacity:0},children:o.jsx(BW,{followUp:u,onSelectingSuggestedReply:s,analyticsMetadata:e,position:d,visibleFollowups:f,layout:"chips"})},d))}):o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex w-full flex-col",children:c.map((u,d,f)=>o.jsx(Se.div,{initial:{opacity:0,translateY:4},animate:{opacity:1,translateY:0},transition:{delay:d*.03},exit:{opacity:0,translateY:4},children:o.jsx(BW,{followUp:u,onSelectingSuggestedReply:s,analyticsMetadata:e,position:d,visibleFollowups:f,layout:"list"})},d))})}var SK;const Lpe=Ge.div(SK||(SK=qe(["\n  h-[1px] opacity-45\n  ","\n"])),({$isSelected:t})=>t?"mx-2 bg-token-main-surface-secondary":"bg-token-border-default");function BW({followUp:t,onSelectingSuggestedReply:e,analyticsMetadata:n,position:r,visibleFollowups:s,layout:a="list"}){const i=f=>(f==null?void 0:f.pineapple)!==void 0,l=f=>{var m;return(m=f==null?void 0:f.toLowerCase().includes("quizgpt"))!=null?m:!1},c=i(t)&&(l(t.pineapple.pineapple_path)||l(t.pineapple.pineapple_uri)),u=f=>{var m,p;e(f,t,s,r),B.logEventWithStatsig("chatgpt_message_followup_action","chatgpt_message_followup_action",P(C({},Pt(n)),{action:"click",position:(r+1).toString(),followup_text:zr(t)})),i(t)&&B.logEventWithStatsig("Pineapple Followup: Click","chatgpt_pineapple_followup_action",P(C({},Pt(n)),{action:"click",position:(r+1).toString(),followup_text:zr(t),pineapple_uri:String((m=t.pineapple.pineapple_uri)!=null?m:""),pineapple_path:String((p=t.pineapple.pineapple_path)!=null?p:"")}))},d=()=>{B.logEventWithStatsig("chatgpt_message_followup_action","chatgpt_message_followup_action",P(C({},Pt(n)),{action:"hover",position:(r+1).toString(),followup_text:zr(t)})),i(t)&&B.logEventWithStatsig("Pineapple Followup: Hover","chatgpt_pineapple_followup_action",P(C({},Pt(n)),{action:"hover",position:(r+1).toString(),followup_text:zr(t)}))};return a==="chips"?o.jsx("div",{onMouseEnter:d,children:o.jsx(Zct,{onClick:u,icon:i(t)&&t.pineapple.image_url?o.jsx("img",{src:t.pineapple.image_url,alt:"",className:"icon-xs rounded-full object-cover"}):c?o.jsx(Zk,{className:"icon-xs text-token-text-secondary"}):o.jsx(Rr,{className:"icon-xs text-token-text-secondary"}),label:zr(t)})}):o.jsxs(Se.button,{whileHover:"hover",className:U("bg-token-main-surface-primary hover:bg-token-main-surface-secondary flex w-full cursor-pointer items-start justify-start gap-2 rounded-lg px-0 py-3 text-start"),onClick:u,onMouseEnter:d,children:[o.jsx(Se.div,{className:"flex items-center justify-center pt-0.25 opacity-70",variants:{hover:{x:4}},initial:{x:0},transition:{duration:.1},children:c?o.jsx(Zk,{className:"text-token-text-secondary icon"}):o.jsx(Rr,{className:"text-token-text-secondary icon"})}),i(t)&&t.pineapple.image_url&&o.jsx("img",{src:t.pineapple.image_url,alt:"",className:"icon rounded-sm object-cover"}),o.jsx("div",{className:"text-token-text-secondary pe-2 text-start text-sm",children:zr(t)})]})}const N9t=()=>o.jsx(fJ,{size:"lg",lines:3,width:35,widthVariance:10,className:"w-full"}),A9t=19,P9t=4,I9t=8,L9t=2,R9t=f=>{var m=f,{as:t="div",logo:e,size:n="default",label:r,isBadge:s,isNew:a,isLauncher:i,isSelected:l=!1,tooltip:c,className:u}=m,d=de(m,["as","logo","size","label","isBadge","isNew","isLauncher","isSelected","tooltip","className"]);const p=Z(),h=n==="large"?A9t:I9t,v=n==="large"?P9t:L9t,y=o.jsx("div",{className:U("w-".concat(h," h-").concat(h," flex aspect-square items-center justify-center rounded-full border p-").concat(v),"border-transparent bg-white","dark:bg-token-main-surface-secondary"),children:o.jsx("div",{className:U("transition-[transform_--shadow-color] duration-[0.24s]",i&&!l&&"drop-shadow-[0_6px_4px_var(--shadow-color)] [--shadow-color:transparent] group-hover/app-icon:motion-safe:scale-[1.025] group-hover/app-icon:motion-safe:[--shadow-color:rgba(0,0,0,0.1)]"),children:e})}),x=t;return o.jsxs(x,P(C(C({className:U("group/app-icon can-hover:active:scale-[0.98] flex flex-col items-center gap-3 transition-transform duration-100 w-".concat(h),s?"scale-[0.9]":"",i?"cursor-pointer":"cursor-default","opacity-80 group-hover:opacity-100",u),onClick:async b=>{var _;b.persist(),await Promise.race([new Promise(w=>{b.target.addEventListener("transitionend",()=>{w()},{once:!0})}),new Promise(w=>{setTimeout(()=>w(),200)})]),(_=d.onClick)==null||_.call(d,b)}},t==="button"?{type:"button"}:{}),d),{children:[o.jsxs("div",{className:U("relative rounded-full transition-[transform_--shadow-color] duration-[0.24s]",s&&"border-token-border-default border",i&&"dark:border-token-border-default scale-[0.9] border border-black/[0.12] shadow-none group-hover/app-icon:motion-safe:shadow-[0px_4px_12px_rgba(0,0,0,0.08)]",i&&"group-hover/app-icon:motion-safe:scale-[0.91]"),children:[!i&&y,i&&o.jsx(wt,{label:c,side:"top",children:y}),a&&o.jsx("div",{className:"text-token-text-primary absolute -start-1 -top-1 z-10 rounded-full bg-blue-500 px-1.5 py-1 text-[10px] font-bold uppercase",children:p.formatMessage({id:"kEZrwC",defaultMessage:"New"})})]}),r&&o.jsx("div",{className:U("text-token-text-secondary text-center text-[12px] leading-[17px]",l&&"text-blue-400",!i&&"w-20"),children:r})]}))},O9t=t=>{var n;return(n={[we.Search]:"Web Search",[we.Research]:"Research",[we.PictureV2]:"Draw Image",[we.Think]:"Think Harder"}[t])!=null?n:"Title"},Kk=(t,e,n,r,s)=>{B.logEventWithStatsig("Capabilities Suggestion Action","chatgpt_capabilities_suggestion_action",P(C({},Pt(n)),{categoryId:e.categoryId,suggestionId:e.id,position:r,action:t,numSuggestions:String(s)}))},D9t=(t,e)=>{const n=g.useRef(!1);g.useEffect(()=>{n.current||(n.current=!0,t.forEach((r,s)=>{Kk("show",r,e,s+1,t.length)}))},[t,e])},Rpe=({suggestions:t,analyticsMetadata:e,style:n="default"})=>{const r=s1();return D9t(t,e),o.jsx(o.Fragment,{children:t.map((s,a)=>o.jsxs(Se.div,{initial:{opacity:0,translateY:4},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:4},transition:{delay:a*.03},className:U("w-full flex-1",n==="compact"&&"flex-col"),children:[n==="compact"&&a>0&&o.jsx(Lpe,{$isSelected:!1}),o.jsx(F9t,{suggestion:s,onSelectingSuggestedReply:r,position:a+1,numSuggestions:t.length,analyticsMetadata:e,style:n})]},s.prompt))})},F9t=({suggestion:t,onSelectingSuggestedReply:e,analyticsMetadata:n,position:r,numSuggestions:s,style:a="default"})=>{const{setThreadSystemHintMode:i}=Qo(),l=q(),c=yt(l),u=it();return o.jsx(Se.button,{onClick:d=>{if(Kk("click",t,n,r,s),t.categoryId===we.Research)if(c!=null&&c.isFree()){fr(u,"Suggested Capabilities Upsell");return}else i(t.categoryId,!0,n);e(d,t,[],0)},onMouseEnter:()=>{Kk("hover",t,n,r,s)},className:U("hover:bg-token-main-surface-secondary flex w-full flex-1 items-start rounded-xl text-start transition-colors duration-300 ease-in-out",a==="default"&&"gap-4 p-2"),children:a==="compact"?o.jsx(B9t,{suggestion:t}):o.jsx(U9t,{suggestion:t})})},B9t=({suggestion:t})=>{var r;const{systemHints:e}=oc(),n=g.useMemo(()=>t.categoryId==="ask"||e==null?void 0:e.find(s=>s.systemHint===t.categoryId),[e,t.categoryId]);return o.jsxs("div",{className:"bg-primary hover:bg-tertiary group flex w-full cursor-pointer items-center justify-start gap-2 rounded-lg px-2 py-3 text-start transition-colors duration-300 ease-in-out",children:[o.jsx("div",{className:"flex items-center justify-center opacity-70 transition-all duration-100 ease-in-out group-hover:scale-[1.02] group-hover:rotate-[-5deg] group-hover:opacity-100",children:t.categoryId==="ask"?o.jsx(Rr,{className:"text-token-text-secondary group-hover:text-token-text-primary icon"}):o.jsx(h0,{svgString:(r=n==null?void 0:n.logo)!=null?r:"",className:"text-token-text-secondary icon group-hover:text-token-interactive-label-accent-default"})}),o.jsx("div",{className:"text-token-text-secondary group-hover:text-token-text-primary flex items-center pe-2 text-start text-sm",children:zr(t)})]})},U9t=({suggestion:{categoryId:t,imageUrl:e,description:n,title:r,ctaLabel:s,prompt:a}})=>{var c;const{systemHints:i}=oc(),l=g.useMemo(()=>t==="ask"||i==null?void 0:i.find(u=>u.systemHint===t),[i,t]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"border-token-border-default bg-primary relative h-16 w-14 flex-shrink-0 rounded-lg border drop-shadow-xs transition-all duration-100 ease-in-out group-hover:scale-[1.02] group-hover:rotate-[-2deg]",children:[t===we.PictureV2?o.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-lg bg-cover",style:{backgroundImage:"url(".concat(e,")")},children:o.jsx(ol,{className:"icon-xl mb-2 text-white"})}):o.jsxs("div",{className:"flex flex-col gap-1.5 p-2",children:[o.jsx("div",{className:"text-token-text-primary text-[5px] leading-tight font-semibold tracking-tighter",children:r!=null?r:O9t(t)}),o.jsx("div",{className:"flex flex-col gap-0.5",children:Array.from({length:10}).map((u,d)=>o.jsx("div",{className:"bg-token-border-heavy h-[1px] w-full rounded-full"},d))})]}),o.jsx("div",{className:"absolute -end-2 -bottom-2",children:o.jsx(R9t,{isBadge:!0,className:"opacity-100",logo:o.jsx(h0,{svgString:(c=l==null?void 0:l.logo)!=null?c:"",className:"icon"})})})]}),o.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[o.jsx("div",{className:"text-token-text-primary flex-grow",children:n!=null?n:a}),s&&o.jsxs("div",{className:"text-token-text-secondary flex items-center font-medium",children:[s,o.jsx(Se.div,{variants:{hover:{x:2}},initial:{x:0},transition:{duration:.1},children:o.jsx(ji,{className:"icon-sm"})})]})]})]})},sP=t=>{var e,n,r,s,a,i;return{id:t.id,prompt:t.prompt,title:(e=t.title)!=null?e:void 0,description:(n=t.description)!=null?n:void 0,categoryId:(r=t.system_hint)!=null?r:t.category_id,type:je.Capabilities,imageUrl:(s=t.image_url)!=null?s:void 0,ctaLabel:(a=t.cta_label)!=null?a:void 0,modelOverride:(i=t.model_override)!=null?i:void 0}},H9t=({categoryId:t,shouldFetch:e,serverThreadId:n,lastMessageId:r})=>{var c;const{data:s,isLoading:a,error:i}=ut({queryKey:["capability_suggestions",t,r],queryFn:()=>{if(!n||!r)throw new Error("Server thread ID and last user message ID are required");return ue.safePost("/conversation/experimental/suggest_capabilities",{requestBody:{conversation_id:n,message_id:r,system_hint:t,category_id:t}})},enabled:e&&!!n&&!!r});return{suggestions:(c=s==null?void 0:s.suggestions.map(sP))!=null?c:[],isLoading:a,error:i}},Yk=(t,e,n,r)=>{B.logEventWithStatsig("Capabilities Tab Action","chatgpt_capabilities_tab_action",P(C({},Pt(n)),{tabId:e,position:r,action:t}))},V9t=(t,e)=>{const n=g.useRef(!1);g.useEffect(()=>{n.current||(n.current=!0,t.forEach((r,s)=>{Yk("show",r.value,e,s+1)}))},[t,e])},$9t=({clientThreadId:t,categorySuggestions:e,lastMessageId:n,analyticsMetadata:r,style:s="default"})=>{const a=e.map(({category_id:c,title:u,suggestions:d})=>{var f;return{value:c,message:u,suggestions:(f=d==null?void 0:d.map(sP))!=null?f:[]}}),[i,l]=g.useState(a[0].value);return V9t(a,r),o.jsxs(AY,{value:i,onValueChange:l,orientation:"horizontal",className:"flex w-full flex-col",children:[o.jsx(PY,{className:"border-token-border-default relative flex w-full flex-row gap-6 border-b",children:a.map((c,u)=>o.jsx(z9t,{value:c.value,message:c.message,isActive:i===c.value,analyticsMetadata:r,position:u+1},c.value))}),a.map(c=>o.jsx(C5e,{value:c.value,children:o.jsx(q9t,{initialSuggestions:c.suggestions,clientThreadId:t,categoryId:c.value,isActive:i===c.value,lastMessageId:n,analyticsMetadata:r,style:s})},c.value))]})},q9t=({initialSuggestions:t,clientThreadId:e,categoryId:n,isActive:r,lastMessageId:s,analyticsMetadata:a,style:i="default"})=>{const l=kt(e),c=r&&t.length===0,{suggestions:u,isLoading:d}=H9t({categoryId:n,shouldFetch:c,serverThreadId:l,lastMessageId:s}),f=c?u:t;return n==="ask"?d?o.jsx(N9t,{}):o.jsx(rP,{followups:f.map(m=>({type:je.Reply,text:m.prompt})),analyticsMetadata:a}):o.jsx("div",{className:"flex w-full flex-col gap-y-4 py-3 md:flex-row md:gap-x-4",children:d?o.jsxs(o.Fragment,{children:[o.jsx(UW,{}),o.jsx(UW,{})]}):o.jsx(Rpe,{suggestions:f,analyticsMetadata:a,style:i})})},z9t=({value:t,message:e,isActive:n,analyticsMetadata:r,position:s})=>o.jsxs(IY,{className:"text-token-text-tertiary hover:text-token-text-secondary radix-state-active:text-token-text-primary relative flex min-w-10 justify-center py-4 text-sm font-medium",value:t,onClick:()=>{Yk("click",t,r,s)},onMouseEnter:()=>{Yk("hover",t,r,s)},children:[o.jsx("div",{className:"truncate",children:e}),o.jsx(Kt,{children:n&&o.jsx(Se.div,{layoutId:"tab-underline",className:"bg-token-text-primary absolute start-0 end-0 bottom-0 h-0.5",transition:{type:"spring",stiffness:500,damping:30}})})]}),UW=()=>o.jsxs("div",{className:"flex flex-1 items-center gap-4 rounded-xl p-2",children:[o.jsx("div",{className:"bg-token-sidebar-surface-secondary dark:bg-token-border-default h-16 w-14 flex-shrink-0 rounded-lg"}),o.jsx("div",{className:"w-full flex-grow",children:o.jsx(fJ,{lines:3,size:"sm"})})]}),G9t=({clientThreadId:t,categorySuggestions:e,lastMessageId:n,analyticsMetadata:r})=>{if(!e||e.length===0)return null;const s=e.length===1,a=e[0],i=a.suggestions.length>0?a.suggestions:void 0;return s&&i?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-1 text-sm font-semibold",children:o.jsx(N,{id:"3UFIQc",defaultMessage:"Follow up"})}),o.jsx(Rpe,{suggestions:i.map(sP),analyticsMetadata:r,style:a.style})]}):o.jsx($9t,{clientThreadId:t,categorySuggestions:e!=null?e:[],lastMessageId:n,analyticsMetadata:r})},W9t=({pineappleToolSuggestions:t,analyticsMetadata:e})=>{if(!t||t.length===0)return null;const n=t.map(r=>({type:je.Reply,text:r.prompt,pineapple:{pineapple_uri:r.pineapple_uri,pineapple_path:r.pineapple_path,tool_input_schema:r.tool_input_schema,image_url:r.image_url}}));return o.jsxs("div",{children:[o.jsx("hr",{className:"bg-token-bg-tertiary mt-5 mb-5 opacity-70"}),o.jsx(rP,{followups:n,analyticsMetadata:e,layout:"chips"})]})},Z9t=(t,e,n,r,s)=>{B.logEventWithStatsig("Agent Suggestion Action","chatgpt_agent_suggestion_action",P(C({},Pt(n)),{capability:e.capability,position:r,action:t,numSuggestions:s}))},K9t=(t,e)=>{const n=g.useRef(!1);g.useEffect(()=>{n.current||(n.current=!0,t.forEach((r,s)=>{Z9t("show",r,e,s+1,t.length)}))},[t,e])},Y9t=({agentSuggestions:t,analyticsMetadata:e})=>(K9t(t,e),o.jsx(o.Fragment,{children:t.map((n,r)=>o.jsxs(Se.div,{initial:{opacity:0,translateY:4},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:4},transition:{delay:r*.03},className:U("w-full flex-1","flex-col"),children:[r>0&&o.jsx(Lpe,{$isSelected:!1}),o.jsx(Q9t,{agentSuggestion:n,analyticsMetadata:e})]},n.prompt))})),Q9t=({agentSuggestion:t})=>{const e=nl(),n=J9t(t.capability),r=qo(),s=()=>{const a=Ht(e);a.focus(),Va(a,t.prompt),r(we.Agent)};return o.jsxs("div",{onClick:s,className:"bg-primary hover:bg-tertiary group flex w-full cursor-pointer items-center justify-start gap-2 rounded-lg px-2 py-3 text-start transition-colors duration-300 ease-in-out",children:[o.jsx("div",{className:"flex items-center justify-center opacity-70 transition-all duration-100 ease-in-out group-hover:scale-[1.02] group-hover:opacity-100",children:o.jsx(n,{className:"text-token-text-secondary group-hover:text-token-text-primary icon"})}),o.jsx("div",{className:"text-token-text-secondary group-hover:text-token-text-primary flex items-center pe-2 text-start text-sm",children:t.title})]})},HW={action:w3,research:Rr,spreadsheet:Rr,presentation:Rr,default:Rr},J9t=t=>{var e;return(e=HW[t])!=null?e:HW.default};function yRt({clientThreadId:t,followups:e,categorySuggestions:n,actionSuggestions:r,pineappleToolSuggestions:s,lastMessageId:a,analyticsMetadata:i,isTatertotFollowupsEnabled:l}){const c=Yt(ws),u=o3.useIsEnabled(t)&&!c,{capabilitySuggestionsEnabled:d}=e9t(l),f=n&&n.length>0,m=r&&r.length>0,p=s&&s.length>0;return m?o.jsx(Y9t,{agentSuggestions:r,analyticsMetadata:i}):p?o.jsx(W9t,{pineappleToolSuggestions:s,analyticsMetadata:i}):o.jsx(o.Fragment,{children:u&&(d?f&&o.jsx(G9t,{clientThreadId:t,lastMessageId:a,categorySuggestions:n,analyticsMetadata:i}):e.length>0&&o.jsx(X9t,{followups:e,analyticsMetadata:i}))})}function X9t({followups:t,analyticsMetadata:e}){return o.jsxs("div",{className:"group",children:[o.jsx("hr",{className:"bg-token-bg-tertiary mt-5 mb-5 opacity-70"}),o.jsx(rP,{followups:t,analyticsMetadata:e})]})}class Qk extends Yi()(()=>({selectedIndex:0})){setSelectedIndex(e){this.setState({selectedIndex:e})}static useSelectedIndex(){return this.useState(e=>e.selectedIndex)}}function xRt({children:t}){return o.jsx(Qk.Provider,{store:()=>new Qk,children:t})}const Fi=({icon:t,label:e,iconClassName:n,className:r,size:s="med",onClick:a,onSelect:i,onBeforeClick:l,selected:c=!1,disabled:u=!1,asMenuItem:d=!1,style:f,testId:m,trailing:p})=>{const h=d?J.Item:"button";return o.jsx(wt,{label:e,disabled:!e||d,triggerAs:null,children:o.jsx(h,{className:U(!d&&"text-token-text-secondary hover:bg-token-bg-secondary rounded-lg",!d&&c&&"bg-token-bg-tertiary",r),"aria-label":e,"aria-pressed":c,onClick:a,onSelect:i,onPointerEnter:l,onTouchStart:l,onFocus:l,disabled:u,style:f,"data-testid":m,label:d?e:void 0,icon:d?t:void 0,trailing:d?p:void 0,children:typeof t=="function"&&!d&&o.jsx("span",{className:U("flex items-center justify-center","touch:w-10 h-8 w-8"),children:o.jsx(t,{className:n!=null?n:s==="small"?"icon-sm":"icon"})})})})};async function e8t(t,e,n,{unprocessed:r=!1}={}){var c;const s=[],a=[],i={},l=new Map;for(const u of t.messages){if(Dpe(u)){const d=(c=u.metadata)==null?void 0:c.content_references,f=Ka(u,{shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!0});if(r)s.push(f);else{const{messageTextToClipboardContent:m}=await Ve(async()=>{const{messageTextToClipboardContent:h}=await import("./efscvp3g4k0or8n5.js").then(v=>v.k);return{messageTextToClipboardContent:h}},__vite__mapDeps([3,4,1,5,6,7,8])),p=m(f,d);p["text/plain"]&&s.push(p["text/plain"]),p["text/html"]&&a.push(p["text/html"])}if(!r&&d)for(const m of d)m.type==="file"&&t8t(m)&&!l.has(m.id)&&l.set(m.id,m)}if(_5e(u)){const d=Io.getImageAssetPointers(u);if(d.length>0){const f=d[0];try{const m=kt(n),{url:p}=await om.fetch(e,{asset:f,conversationId:m!=null?m:void 0}),v=await(await fetch(p)).blob();["image/png","image/jpeg","image/webp"].includes(v.type)&&(i[v.type]=v)}catch(m){return Promise.reject()}}}}if(!r&&l.size>0){const u=Array.from(l.values()),d=u.map(n8t).filter(m=>!!m);if(d.length>0){const m=d.map((p,h)=>"".concat(h+1,". ").concat(p));s.push(["Medical References:",...m].join("\n"))}const f=u.map(r8t).filter(m=>!!m);f.length>0&&a.push("<section><p><strong>Medical References</strong></p><ol>".concat(f.join(""),"</ol></section>"))}return s.length>0&&(i["text/plain"]=s.join("\n\n")),a.length>0&&(i["text/html"]=a.join("\n\n")),i}function t8t(t){const e=t.medical_file_reference;return e!=null&&!!(e.journal_name||e.authors_display||e.publication_year||e.doi)}function n8t(t){const e=Ope(t);if(!e)return null;const{journalName:n,authorsDisplay:r,publicationYear:s,doi:a,url:i}=e,l=[];n&&l.push(n);const c=[];return r&&c.push(r),s&&c.push(s),c.length>0&&l.push(c.join(", ")),a&&l.push("DOI: ".concat(a)),i&&l.push("URL: ".concat(i)),l.join(" â ")}function r8t(t){const e=Ope(t);if(!e)return null;const{journalName:n,authorsDisplay:r,publicationYear:s,doi:a,url:i}=e,l=[];if(n&&l.push("<span>".concat(Bm(n),"</span>")),r||s){const c=[];r&&c.push("<em>".concat(Bm(r),"</em>")),s&&c.push("<span>".concat(Bm(s),"</span>")),l.push(c.join(" "))}return a&&l.push("<span>DOI: ".concat(Bm(a),"</span>")),i&&l.push("<span>URL: ".concat(Bm(i),"</span>")),l.length===0?null:"<li>".concat(l.join("<br/>"),"</li>")}function Ope(t){var n,r,s,a,i,l,c;const e=t.medical_file_reference;return!e||!e.journal_name&&!e.authors_display&&!e.publication_year&&!((n=e.doi)!=null?n:t.id)?null:{journalName:(r=e.journal_name)!=null?r:void 0,authorsDisplay:(s=e.authors_display)!=null?s:void 0,publicationYear:(a=e.publication_year)!=null?a:void 0,doi:(l=(i=e.doi)!=null?i:t.id)!=null?l:void 0,url:(c=t.cloud_doc_url)!=null?c:void 0}}function Bm(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Dpe(t){var e,n;return!((e=t.clientMetadata)!=null&&e.err)&&(t.author.role===Ue.Assistant||t.author.role===Ue.User)&&(t.author.role===Ue.User||t.recipient==="all")&&!((n=t.metadata)!=null&&n.reasoning_status)}const s8t=({turn:t,clientThreadId:e})=>{const n=Nce(e),r=Z();function s(){Xu.logButtonClick(z5.EDIT_IN_CANVAS_MESSAGE);const a=a8t(t);n({textdocType:Ii.DOCUMENT,content:a,createSource:Xp.MESSAGE})}return o.jsx(Fi,{icon:b5,onClick:s,label:r.formatMessage({id:"EditInCanvas.tooltip",defaultMessage:"Edit in canvas"}),asMenuItem:!0})};function a8t(t){return t.messages.filter(e=>Dpe(e)&&e.author.role===Ue.Assistant).map(e=>Ka(e,{shouldGetTextFromContentReferences:!0,shouldGetVisibleText:!1})).filter(Boolean).join("\n\n")}const Fpe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M12.5 4.5H15.5V7.5",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12.5 15.5H15.5V12.5",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3.32996 10H8.01173C8.7455 10 9.11239 10 9.45765 9.91711C9.76376 9.84362 10.0564 9.72241 10.3248 9.55792C10.6276 9.3724 10.887 9.11297 11.4058 8.59411L15.5 4.5",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M12 12L15.5 15.5",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),bRt=Object.freeze(Object.defineProperty({__proto__:null,default:Fpe},Symbol.toStringTag,{value:"Module"}));function o8t({clientThreadId:t,lastMessage:e,asMenuItem:n}){const[r,s]=g.useState(!1),a=Z(),i=g.useCallback(()=>{const c=kt(t);if(!c)return;s(!0);const u="/branch/".concat(c,"/").concat(e.id);window.open(u,"_blank","noreferrer")},[t,e.id]),l=r?VW.loading:VW.branch;return o.jsx(Fi,{icon:r?On:Fpe,label:a.formatMessage(l),onClick:i,disabled:r,asMenuItem:n,onSelect:c=>{c.preventDefault()}})}const VW=pe({branch:{id:"BranchTurnActionButton.branch",defaultMessage:"Branch in new chat"},loading:{id:"BranchTurnActionButton.loading",defaultMessage:"Loading"}}),Bpe=Je(()=>Ve(()=>import("./mxt01bm3fpoc10fv.js"),__vite__mapDeps([165,1,4,5,166,123])).then(t=>t.VoicePlayButton));function i8t(t){"use forget";const e=ee.c(23),{showPlayButton:n,showCanvasButton:r,showJujutsuButton:s,showBranchButton:a,canShowScheduleButton:i,clientThreadId:l,messages:c,lastMessage:u,imageGenMessageId:d,turn:f,turnIndex:m,requestId:p,parentPromptId:h}=t,v=Z();let y;e[0]!==v?(y=v.formatMessage({id:"e/27r7",defaultMessage:"More actions"}),e[0]=v,e[1]=y):y=e[1];const x=y;if(!(a&&!!u||n&&!!u||r||i||!1))return null;let _;e[2]===Symbol.for("react.memo_cache_sentinel")?(_=o.jsx(Ja,{className:"icon"}),e[2]=_):_=e[2];let w;e[3]!==x?(w=o.jsx("button",{className:"text-token-text-secondary hover:bg-token-bg-secondary touch:w-10 flex h-8 w-8 items-center justify-center rounded-lg",onMouseOver:l8t,"aria-label":x,children:_}),e[3]=x,e[4]=w):w=e[4];let S;e[5]!==i||e[6]!==l||e[7]!==d||e[8]!==u||e[9]!==c||e[10]!==h||e[11]!==p||e[12]!==a||e[13]!==r||e[14]!==s||e[15]!==n||e[16]!==f||e[17]!==m?(S=o.jsx(c8t,{showPlayButton:n,showCanvasButton:r,showJujutsuButton:s,showBranchButton:a,canShowScheduleButton:i,clientThreadId:l,messages:c,lastMessage:u,imageGenMessageId:d,turn:f,turnIndex:m,requestId:p,parentPromptId:h}),e[5]=i,e[6]=l,e[7]=d,e[8]=u,e[9]=c,e[10]=h,e[11]=p,e[12]=a,e[13]=r,e[14]=s,e[15]=n,e[16]=f,e[17]=m,e[18]=S):S=e[18];let k;return e[19]!==x||e[20]!==w||e[21]!==S?(k=o.jsx(Qa,{triggerButton:w,size:"auto",contentAlign:"start",alignOffset:-7,side:"top",sideOffset:4,tooltip:x,children:S}),e[19]=x,e[20]=w,e[21]=S,e[22]=k):k=e[22],k}function l8t(){Bpe.prefetch()}function c8t(t){"use forget";const e=ee.c(28),{showPlayButton:n,showCanvasButton:r,showJujutsuButton:s,showBranchButton:a,canShowScheduleButton:i,clientThreadId:l,messages:c,lastMessage:u,imageGenMessageId:d,turn:f,requestId:m}=t,p=Z();let h;e[0]!==l||e[1]!==u||e[2]!==a?(h=a&&u&&o.jsx(o8t,{clientThreadId:l,lastMessage:u,asMenuItem:!0}),e[0]=l,e[1]=u,e[2]=a,e[3]=h):h=e[3];let v;e[4]!==l||e[5]!==u||e[6]!==n?(v=n&&u&&o.jsx(Bpe,{conversationId:l,message:u,asMenuItem:!0}),e[4]=l,e[5]=u,e[6]=n,e[7]=v):v=e[7];let y;e[8]!==l||e[9]!==r||e[10]!==f?(y=r&&o.jsx(s8t,{clientThreadId:l,turn:f}),e[8]=l,e[9]=r,e[10]=f,e[11]=y):y=e[11];let x;e[12]!==i||e[13]!==p?(x=i&&o.jsx(Qj,{children:w=>{const{openScheduleModal:S,isScheduled:k,isSchedulable:M}=w;return!k&&M?o.jsx(Fi,{icon:zi,label:p.formatMessage({id:"l12ujd",defaultMessage:"Schedule"}),onClick:S,asMenuItem:!0}):null}}),e[12]=i,e[13]=p,e[14]=x):x=e[14];let b;e[15]!==l||e[16]!==d||e[17]!==u||e[18]!==c||e[19]!==m||e[20]!==s?(b=!1,e[15]=l,e[16]=d,e[17]=u,e[18]=c,e[19]=m,e[20]=s,e[21]=b):b=e[21];let _;return e[22]!==h||e[23]!==v||e[24]!==y||e[25]!==x||e[26]!==b?(_=o.jsxs(o.Fragment,{children:[h,v,y,x,b]}),e[22]=h,e[23]=v,e[24]=y,e[25]=x,e[26]=b,e[27]=_):_=e[27],_}function Upe({currentPage:t,length:e,onChangeIndex:n}){const r=a=>{n(mo(t+a,0,e-1))},s=Z();return o.jsxs("div",{className:U("text-token-text-secondary flex items-center justify-center"),children:[o.jsx("button",{onClick:()=>r(-1),disabled:t===0,className:"hover:bg-token-main-surface-secondary touch:w-[32px] flex h-[30px] w-[24px] items-center justify-center rounded-md disabled:opacity-50 disabled:hover:bg-transparent","aria-label":s.formatMessage({id:"XwENI/",defaultMessage:"Previous response"}),children:o.jsx(p1,{className:"icon"})}),o.jsx("div",{className:"px-0.5 text-sm font-semibold tabular-nums",children:"".concat(t+1,"/").concat(e)}),o.jsx("button",{onClick:()=>r(1),disabled:t===e-1,"aria-label":s.formatMessage({id:"V8RFHE",defaultMessage:"Next response"}),className:"hover:bg-token-main-surface-secondary touch:w-[32px] flex h-[30px] w-[24px] items-center justify-center rounded-md disabled:opacity-50 disabled:hover:bg-transparent",children:o.jsx(a1,{className:"icon"})})]})}function CRt({currentPage:t,onChangeIndex:e,length:n}){const r=s=>{e(mo(t+s,0,n-1))};return n===0?null:o.jsxs(u8t,{children:[o.jsx($W,{onClick:()=>r(-1),disabled:t===0,children:o.jsx(e3,{className:"icon-sm"})}),o.jsx(d8t,{children:"".concat(t+1,"/").concat(n)}),o.jsx($W,{onClick:()=>r(1),disabled:t===n-1,children:o.jsx(ji,{className:"icon-sm"})})]})}var kK;const u8t=Ge.div(kK||(kK=qe(["text-sm inline-flex border rounded-full border-token-border-medium overflow-hidden"])));var MK;const $W=Ge.button(MK||(MK=qe(["text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-main-surface-tertiary"])));var EK;const d8t=Ge.span(EK||(EK=qe(["text-token-text-tertiary px-2 flex items-center font-mono tracking-widest py-1.5"]))),Hpe=t=>g.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none","data-rtl-flip":""},t),g.createElement("path",{d:"M10.2002 7.91699L16.8669 7.91889",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round"}),g.createElement("path",{d:"M10.2002 12.083H13.5335",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round"}),g.createElement("path",{d:"M5.2002 3.33301V7.49967",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M5.2002 12.5V16.6667",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M3.11719 13.7503L5.20052 11.667L7.28385 13.7503",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M7.28385 6.25L5.20052 8.33333L3.11719 6.25",stroke:"currentColor",strokeWidth:1.33,strokeLinecap:"round",strokeLinejoin:"round"})),_Rt=Object.freeze(Object.defineProperty({__proto__:null,default:Hpe},Symbol.toStringTag,{value:"Module"})),aP=({modelSwitcherDeny:t,value:e,label:n,subtitle:r,icon:s,onMouseEnter:a,onMouseLeave:i,onSelect:l,messageModelSlug:c,shouldShowUpsell:u=!1,className:d,includeRegenerate:f=!1,clientThreadId:m,isContextualRetryMenu:p})=>{const h=q(),v=yt(h),y=OM({clientThreadId:m}),x=w5e({modelSlug:e,modelSwitcherDenialsBySlug:y}),b=!x&&!u,_=it(),w=S=>{var k;if(!u){l==null||l(S);return}B.logEvent("Account Pay: Open Payment from Message Model Picker"),B.logRateLimitGetPlusButtonClicked({type:fE.RATE_LIMIT,location:"message_model_switcher_dropdown",plan_type:(k=v==null?void 0:v.planType)!=null?k:"unknown",is_hard_block:!1,hard_block_reason:"",is_new_conversation:!1}),fr(_,"Message model switcher dropdown")};return o.jsx(wt,{label:t&&o.jsx(S5e,{modelSwitcherDeny:t}),children:o.jsx(J.Item,{onSelect:w,onMouseEnter:()=>x&&(a==null?void 0:a()),onMouseLeave:()=>x&&(i==null?void 0:i()),disabled:b,className:d!=null?d:p?void 0:"radix-disabled:pointer-events-auto radix-disabled:cursor-not-allowed radix-disabled:hover:bg-transparent",icon:p?s:void 0,trailing:p&&u?o.jsx(qW,{}):void 0,label:p?n:void 0,secondary:p?r:void 0,children:!p&&o.jsxs("span",{className:"flex w-full items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex w-full items-center gap-3",children:[s||null,o.jsxs("div",{children:[o.jsx("div",{children:n}),o.jsx("div",{className:U({"text-token-text-secondary text-sm":!b},{"text-token-text-quaternary text-sm":b}),children:r})]})]}),u?o.jsx(qW,{}):o.jsx(f8t,{messageModelSlug:c,modelSwitcherDeny:t,optionModelSlug:e,includeRegenerate:f})]})})})},f8t=({modelSwitcherDeny:t,includeRegenerate:e=!0})=>{let n=null;if(t)switch(t.reason){case fE.RATE_LIMIT:n=zi;break;default:n=Hs;break}return t?o.jsx(n,{className:"icon"}):!!e&&o.jsx(Xd,{className:"icon text-token-text-tertiary hidden"})};function qW(){const t=q();return o.jsx(oe,{color:"secondary",size:"small",children:o.jsx(N,C({},Pp(t)))})}const oP="rounded-lg radix-disabled:pointer-events-auto radix-disabled:cursor-not-allowed",iP=U("icon-sm","order-10 ms-auto text-token-text-tertiary icon");function Vpe(t,e){const{modelSwitcherDeny:n,subscriptionLevel:r}=t;return!!n&&n.reason===fE.RATE_LIMIT&&r===ag.PLUS&&!e}function m8t({messageModelEnabledTools:t,message:e,intl:n}){const r=t.includes(we.Search),s=qee(e);return[{key:"use-search",extraStreamParams:{forceUseSearch:!0},label:n.formatMessage({id:"eTV6j1",defaultMessage:"Search the web"}),icon:Vs,condition:r&&!s,eventName:"chatgpt_regenerate_with_search_button_clicked"},{key:"use-no-search",extraStreamParams:{forceUseSearch:!1},label:n.formatMessage({id:"k/SdXa",defaultMessage:"Don't search the web"}),icon:wde,condition:r&&s,eventName:"chatgpt_regenerate_without_search_button_clicked"}]}function p8t({clientThreadId:t,message:e,intl:n}){const r=se.isReasoningResponseMessage(st(t),e.id);return[{key:"use-reason",extraStreamParams:{forceUseReason:!0},label:n.formatMessage({id:"4VX35n",defaultMessage:"Think longer"}),icon:H0,condition:!r,eventName:"chatgpt_regenerate_with_reason_button_clicked"}]}function rw(t){"use forget";var x;const e=ee.c(24),{clientThreadId:n,messageId:r,onModelSelect:s,modelRetryOption:a,showContextualRetry:i,hasPlusFeatures:l,subcategory:c,messageModelSlug:u}=t;let d,f;e[0]!==a?(x=a,{value:f}=x,d=de(x,["value"]),e[0]=a,e[1]=d,e[2]=f):(d=e[1],f=e[2]);let m;e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==f?(m=b=>{Le.logEvent("chatgpt_regenerate_switch_model_button_clicked",f,C({requestedModelId:f},Pt({clientThreadId:n,messageId:r}))),s({sourceEvent:b,requestedModelId:f})},e[3]=n,e[4]=r,e[5]=s,e[6]=f,e[7]=m):m=e[7];let p;e[8]!==l||e[9]!==a?(p=Vpe(a,l),e[8]=l,e[9]=a,e[10]=p):p=e[10];const h=i?void 0:oP;let v;e[11]!==i||e[12]!==c?(v=!i&&!c?o.jsx("span",{className:iP}):void 0,e[11]=i,e[12]=c,e[13]=v):v=e[13];let y;return e[14]!==n||e[15]!==u||e[16]!==d||e[17]!==i||e[18]!==m||e[19]!==p||e[20]!==h||e[21]!==v||e[22]!==f?(y=o.jsx(aP,P(C({value:f,onSelect:m,messageModelSlug:u,shouldShowUpsell:p,className:h},d),{icon:v,clientThreadId:n,isContextualRetryMenu:i})),e[14]=n,e[15]=u,e[16]=d,e[17]=i,e[18]=m,e[19]=p,e[20]=h,e[21]=v,e[22]=f,e[23]=y):y=e[23],y}function $pe(t){"use forget";const e=ee.c(21),{clientThreadId:n,messageId:r,onModelSelect:s,modelRetryOption:a,showContextualRetry:i,messageModelSlug:l,parentPrompt:c}=t,u=Z(),d=q(),f=a.value;let m;e[0]!==n||e[1]!==d||e[2]!==r||e[3]!==a.value||e[4]!==s||e[5]!==(c==null?void 0:c.id)?(m=_=>{var w;B.logEventWithStatsig("chatgpt_regenerate_try_again_button_clicked","chatgpt_regenerate_try_again_button_clicked",C({requestedModelId:a.value},Pt({clientThreadId:n,messageId:r}))),ie(d,"3247947701")&&ufe({retry_option:"try_again",parent_prompt_id:(w=c==null?void 0:c.id)!=null?w:""},kt(n),a.value),s({sourceEvent:_,requestedModelId:a.value})},e[0]=n,e[1]=d,e[2]=r,e[3]=a.value,e[4]=s,e[5]=c==null?void 0:c.id,e[6]=m):m=e[6];const p=i?void 0:oP;let h;e[7]!==u?(h=u.formatMessage({id:"VbsBGW",defaultMessage:"Try again"}),e[7]=u,e[8]=h):h=e[8];const v=!i&&a.label,y=i?"icon":iP;let x;e[9]!==y?(x=o.jsx(Xd,{className:y}),e[9]=y,e[10]=x):x=e[10];let b;return e[11]!==n||e[12]!==l||e[13]!==a||e[14]!==i||e[15]!==m||e[16]!==p||e[17]!==h||e[18]!==v||e[19]!==x?(b=o.jsx(aP,P(C({onSelect:m,messageModelSlug:l,className:p},a),{label:h,subtitle:v,icon:x,clientThreadId:n,isContextualRetryMenu:i,includeRegenerate:!0}),f),e[11]=n,e[12]=l,e[13]=a,e[14]=i,e[15]=m,e[16]=p,e[17]=h,e[18]=v,e[19]=x,e[20]=b):b=e[20],b}function zW(t){"use forget";const e=ee.c(15),{clientThreadId:n,messageId:r,onModelSelect:s,modelRetryOption:a,systemHintRetryOptions:i,showContextualRetry:l,messageModelSlug:c}=t;let u;if(e[0]!==n||e[1]!==r||e[2]!==c||e[3]!==a||e[4]!==s||e[5]!==l||e[6]!==i){let d;e[8]!==n||e[9]!==r||e[10]!==c||e[11]!==a||e[12]!==s||e[13]!==l?(d=f=>{const m=f.icon;return o.jsx(aP,P(C({onSelect:p=>{B.logEventWithStatsig(f.eventName,f.eventName,C({requestedModelId:a.value},Pt({clientThreadId:n,messageId:r}))),s({sourceEvent:p,requestedModelId:a.value,extraStreamParams:f.extraStreamParams})},messageModelSlug:c,className:l?void 0:oP},a),{label:f.label,subtitle:"",icon:o.jsx(m,{className:l?"icon":iP}),clientThreadId:n,isContextualRetryMenu:l}),f.key)},e[8]=n,e[9]=r,e[10]=c,e[11]=a,e[12]=s,e[13]=l,e[14]=d):d=e[14],u=i.filter(g8t).map(d),e[0]=n,e[1]=r,e[2]=c,e[3]=a,e[4]=s,e[5]=l,e[6]=i,e[7]=u}else u=e[7];return u}function g8t(t){return t.condition}const GW="freeform_feedback",WW=pe({retryWithFeedback:{id:"HW5O9Q",defaultMessage:"Ask to change response"},makeLonger:{id:"s7cVzc",defaultMessage:"Add details"},makeShorter:{id:"uWyhEy",defaultMessage:"More concise"}}),h8t=()=>[{key:"make_longer",messageKey:"makeLonger",prompt:"Please make this response longer and more detailed.",icon:o.jsx(Ale,{})},{key:"make_shorter",messageKey:"makeShorter",prompt:"Please make this response more concise and brief.",icon:o.jsx(Hpe,{})}];function v8t({message:t,canRegenerateResponse:e,onModelSelect:n,clientThreadId:r,retryOption:s,contentRef:a,parentPrompt:i}){var b;const l=Z(),c=q(),[u,d]=g.useState(""),f=g.useRef(null),m=_s(c,"3586972587").get("prompt",""),p=h8t(),h=(b=t.metadata)==null?void 0:b.model_slug;g.useEffect(()=>{requestAnimationFrame(()=>{var _;(_=f.current)==null||_.focus()})},[]),g.useEffect(()=>{const _=a==null?void 0:a.current;if(!_)return;function w(S){f.current&&document.activeElement!==f.current&&(KQ(S)||S.key==="Enter"||S.ctrlKey||S.metaKey||S.key.length!==1&&!YQ(S)||(S.stopPropagation(),f.current.focus()))}return _.addEventListener("keydown",w),()=>{_.removeEventListener("keydown",w)}},[]);const v=g.useCallback((_,w,S,k,M)=>{var T;ie(M,"3247947701")&&ufe({retry_option:k,parent_prompt_id:(T=i==null?void 0:i.id)!=null?T:"",freeform_feedback:k===GW?w:void 0},kt(r),h);const E="".concat(_).concat(w);n({sourceEvent:S,requestedModelId:h||"",appendMessages:[Fr(E,{is_visually_hidden_from_conversation:!0,is_contextual_retry_user_message:!0})]})},[n,h,r,i==null?void 0:i.id]),y=_=>{u.trim()&&(v(m,u.trim(),_,GW,c),d(""))},x=(_,w)=>{const S="".concat(_.prompt);v(m,S,w,_.key,c)};return e?o.jsxs(o.Fragment,{children:[o.jsx(J.InputItem,{selectAllOnFocus:!1,ref:f,value:u,onChange:_=>d(_.target.value),placeholder:l.formatMessage(WW.retryWithFeedback),submitIcon:bN,onSubmit:y,border:!1,className:"min-w-[210px]",name:"contextual-retry-dropdown-input"}),o.jsx(J.Separator,{}),!!s&&o.jsx($pe,{clientThreadId:r,messageId:t.id,onModelSelect:n,modelRetryOption:s,messageModelSlug:h,parentPrompt:i,showContextualRetry:!0}),p.map(_=>o.jsx(J.Item,{onSelect:w=>x(_,w),label:l.formatMessage(WW[_.messageKey]),icon:_.icon},_.key))]}):null}const y8t=({clientThreadId:t,message:e})=>{var f,m,p,h,v,y,x,b,_,w;const{modelsData:n}=DM(),r=OM({clientThreadId:t}),s=[];for(const S of(f=n==null?void 0:n.categories)!=null?f:[]){if(k5e(S))continue;const{defaultModel:k,label:M,tagline:E,subscriptionLevel:T,subcategory:j}=S,A=(p=(m=r[k])==null?void 0:m.regenerate)==null?void 0:p[0];s.push({label:M,value:k,subtitle:E,modelSwitcherDeny:A,subscriptionLevel:T,subcategory:j})}const a=(h=e.metadata)==null?void 0:h.model_slug,i=fQ(n==null?void 0:n.models,a),l=(i==null?void 0:i.enabledTools)||[],c=S0(t),u=Nd(n);let d;return i&&a?d={label:i==null?void 0:i.title,value:a,subtitle:i==null?void 0:i.description,subscriptionLevel:ag.FREE,modelSwitcherDeny:a?(y=(v=r[a])==null?void 0:v.regenerate)==null?void 0:y[0]:void 0}:c?d={label:c.title,value:c.id,subtitle:c.description,subscriptionLevel:ag.FREE,modelSwitcherDeny:(b=(x=r[c.id])==null?void 0:x.regenerate)==null?void 0:b[0]}:u&&(d={label:u.title,value:u.id,subtitle:u.description,subscriptionLevel:ag.FREE,modelSwitcherDeny:(w=(_=r[u.id])==null?void 0:_.regenerate)==null?void 0:w[0]}),{modelOptions:s,messageModelConfig:i,messageModelEnabledTools:l,defaultModelSlug:Nd(n),modelPickerVersion:n==null?void 0:n.modelPickerVersion,fallbackModelOption:d}};var sw,ZW;function x8t(){if(ZW)return sw;ZW=1;var t=M5e(),e=t(function(n,r,s){n[s?0:1].push(r)},function(){return[[],[]]});return sw=e,sw}var b8t=x8t();const C8t=St(b8t);function _8t(t){"use forget";var uP,dP,fP,mP,pP,gP;const e=ee.c(78),{className:n,clientThreadId:r,message:s,onModelSelect:a,canRegenerateResponse:i,parentPrompt:l,size:c}=t,u=c===void 0?"med":c,[d,f]=g.useState(!1),m=q(),p=(uP=s.metadata)==null?void 0:uP.model_slug,h=s.id,v=Z(),y=yt(m),x=y==null?void 0:y.planType,b=g.useRef(null),_=g.useRef(null);L0();const[w,S]=g.useState(!1);let k;e[0]!==m?(k=ie(m,"1327278438"),e[0]=m,e[1]=k):k=e[1];const M=k;ie(m,"880513586");let E;e[2]!==r||e[3]!==s?(E={clientThreadId:r,message:s},e[2]=r,e[3]=s,e[4]=E):E=e[4];const{modelOptions:T,messageModelConfig:j,messageModelEnabledTools:A,defaultModelSlug:I,modelPickerVersion:L,fallbackModelOption:O}=y8t(E);let R,H;if(e[5]!==p||e[6]!==T){let dr;e[8]!==p?(dr=u7=>u7.value===p,e[8]=p,e[9]=dr):dr=e[9],H=T.find(dr),e[5]=p,e[6]=T,e[7]=H}else H=e[7];R=H;const V=R;let z,$;if(e[10]!==(I==null?void 0:I.id)||e[11]!==T){let dr;e[13]!==(I==null?void 0:I.id)?(dr=u7=>u7.value===(I==null?void 0:I.id),e[13]=I==null?void 0:I.id,e[14]=dr):dr=e[14],$=T.find(dr),e[10]=I==null?void 0:I.id,e[11]=T,e[12]=$}else $=e[12];z=$;const D=z,Y=L===2;let G;e[15]!==r||e[16]!==h||e[17]!==p||e[18]!==T||e[19]!==a||e[20]!==M||e[21]!==Y?(G=o.jsx(w8t,{clientThreadId:r,messageId:h,onModelSelect:a,messageModelSlug:p,modelOptions:T,showContextualRetry:M,isModelPickerV2:Y}),e[15]=r,e[16]=h,e[17]=p,e[18]=T,e[19]=a,e[20]=M,e[21]=Y,e[22]=G):G=e[22];const F=G,X=V!=null?V:O;let te;e[23]===Symbol.for("react.memo_cache_sentinel")?(te=dr=>{dr||setTimeout(()=>{b.current&&b.current.blur()},10)},e[23]=te):te=e[23];const ae=te;let me,W;e[24]!==d?(me=()=>{ae(d)},W=[d],e[24]=d,e[25]=me,e[26]=W):(me=e[25],W=e[26]),g.useEffect(me,W);let K,ne;e[27]!==d?(K=()=>{d||S(!1)},ne=[d],e[27]=d,e[28]=K,e[29]=ne):(K=e[28],ne=e[29]),g.useEffect(K,ne);const re=Te(r,Fj);let le;e[30]!==r?(le={clientThreadId:r},e[30]=r,e[31]=le):le=e[31];const fe=xce(le),ge=g.useRef(fe);let ye,_e;e[32]!==fe?(ye=()=>{ge.current=fe},_e=[fe],e[32]=fe,e[33]=ye,e[34]=_e):(ye=e[33],_e=e[34]),g.useEffect(ye,_e);const Ne=Hce();if(re)return null;const Ae=(dP=s.metadata)==null?void 0:dP.model_slug,ot=m8t({messageModelEnabledTools:A,message:s,intl:v});let gt;e[35]!==r||e[36]!==v||e[37]!==s?(gt=p8t({clientThreadId:r,message:s,intl:v}),e[35]=r,e[36]=v,e[37]=s,e[38]=gt):gt=e[38];const Pe=gt;if(!i)return null;const Ie=(fP=s.metadata)==null?void 0:fP.show_safety_switch_ui,ct=J;let dt;e[39]!==M?(dt=dr=>{f(dr),ae(dr),dr&&M&&B.logEventWithStatsig("Contextual Retry Dropdown Menu Opened","chatgpt_contextual_retry_dropdown_opened")},e[39]=M,e[40]=dt):dt=e[40];let ce,ke;e[41]!==(j==null?void 0:j.title)||e[42]!==Ae||e[43]!==Ie?(ce=Ie?o.jsx(N,P(C({},R1.modelUsedDescription),{values:{modelName:(mP=j==null?void 0:j.title)!=null?mP:Ae}})):o.jsx(N,{id:"gW2N97",defaultMessage:"Try again..."}),ke=Ie?null:o.jsx(N,{id:"yAiiEg",defaultMessage:"Used {modelName}",values:{modelName:(pP=j==null?void 0:j.title)!=null?pP:Ae}}),e[41]=j==null?void 0:j.title,e[42]=Ae,e[43]=Ie,e[44]=ce,e[45]=ke):(ce=e[44],ke=e[45]);let Ze;e[46]!==n?(Ze=U("cursor-pointer",n),e[46]=n,e[47]=Ze):Ze=e[47];let lt;e[48]!==v?(lt=v.formatMessage({id:"42qUcL",defaultMessage:"Switch model"}),e[48]=v,e[49]=lt):lt=e[49];let Ye;e[50]!==Ie||e[51]!==u?(Ye=Ie?o.jsx(Hs,{color:"var(--tag-blue)",className:u==="small"?"icon-sm":"icon"}):o.jsx(Xd,{className:u==="small"?"icon-sm":"icon"}),e[50]=Ie,e[51]=u,e[52]=Ye):Ye=e[52];let Xe;e[53]!==M?(Xe=!M&&o.jsx(ys,{className:"icon-sm"}),e[53]=M,e[54]=Xe):Xe=e[54];let ht;e[55]!==Ye||e[56]!==Xe?(ht=o.jsxs("div",{className:"flex items-center",children:[Ye,Xe]}),e[55]=Ye,e[56]=Xe,e[57]=ht):ht=e[57];let ft;e[58]!==Ze||e[59]!==lt||e[60]!==ht?(ft=o.jsx(J.BasicTrigger,{ref:b,className:Ze,"aria-label":lt,children:ht}),e[58]=Ze,e[59]=lt,e[60]=ht,e[61]=ft):ft=e[61];let Qe;e[62]!==ce||e[63]!==ke||e[64]!==ft?(Qe=o.jsx(wt,{label:ce,secondaryLabel:ke,children:ft}),e[62]=ce,e[63]=ke,e[64]=ft,e[65]=Qe):Qe=e[65];const Qt=J,Jt=J,an="top",yr=4,Cn=-10,cP="start",m0e="auto",c7=w?o.jsxs(o.Fragment,{children:[o.jsx(J.Item,{icon:o.jsx(p1,{className:"h-4 w-4"}),color:"default",className:"mb-1 ps-1",onClick:dr=>{dr.preventDefault(),S(!1)},children:o.jsx(N,C({},R1.back))}),o.jsx(J.Separator,{}),F]}):o.jsxs(o.Fragment,{children:[M&&o.jsx(v8t,{message:s,canRegenerateResponse:i,onModelSelect:a,clientThreadId:r,retryOption:X,contentRef:_,parentPrompt:l}),!M&&o.jsxs(o.Fragment,{children:[o.jsx(J.Label,{children:o.jsx(N,{id:"bFLh5u",defaultMessage:"Switch model"})}),F]}),X&&o.jsxs(o.Fragment,{children:[o.jsx(J.Separator,{}),!M&&o.jsx($pe,{clientThreadId:r,messageId:h,messageModelSlug:p,onModelSelect:a,modelRetryOption:X,showContextualRetry:!1,parentPrompt:l}),o.jsx(zW,{clientThreadId:r,messageId:h,onModelSelect:a,modelRetryOption:X,systemHintRetryOptions:[...ot],showContextualRetry:M,messageModelSlug:p})]}),!!D&&M&&(x===Re.FREE||x===Re.GO)&&o.jsx(zW,{clientThreadId:r,messageId:h,onModelSelect:a,modelRetryOption:D,systemHintRetryOptions:Pe,messageModelSlug:p,showContextualRetry:!0}),M&&x&&E5e(x)&&x!==Re.GO&&!Ie&&o.jsxs(J.Sub,{children:[!Ne&&o.jsxs(o.Fragment,{children:[o.jsx(J.SubMenuTrigger,{icon:hk,children:o.jsx(N,C({},R1.switchModel))}),o.jsx(J.Portal,{children:o.jsx(J.SubContent,{children:F})})]}),Ne&&o.jsx(J.SubMenuTrigger,{icon:hk,onClick:dr=>{dr.preventDefault(),S(!0)},children:o.jsx(N,C({},R1.switchModel))})]}),Ie&&o.jsxs(o.Fragment,{children:[o.jsx(J.Separator,{}),o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("div",{className:"text-sm",children:o.jsx(N,P(C({},R1.modelUsedDescription),{values:{modelName:(gP=j==null?void 0:j.title)!=null?gP:Ae}}))}),o.jsx("div",{className:"text-token-text-tertiary max-w-64 py-1 text-xs",children:o.jsx(N,P(C({},R1.safetySwitchWarning),{values:{learnMoreLink:o.jsx("a",{href:"https://help.openai.com/en/articles/12454167",target:"_blank",className:"text-token-text-accent hover:text-token-text-accent/80 underline",rel:"noreferrer",children:o.jsx(N,{id:"dyuBaD",defaultMessage:"Learn more"})})}}))})]})]})]});let h1;e[66]!==Jt.Content||e[67]!==c7?(h1=o.jsx(Jt.Content,{side:an,sideOffset:yr,alignOffset:Cn,align:cP,size:m0e,ref:_,children:c7}),e[66]=Jt.Content,e[67]=c7,e[68]=h1):h1=e[68];let v1;e[69]!==Qt.Portal||e[70]!==h1?(v1=o.jsx(Qt.Portal,{children:h1}),e[69]=Qt.Portal,e[70]=h1,e[71]=v1):v1=e[71];let L3;return e[72]!==d||e[73]!==ct.Root||e[74]!==dt||e[75]!==Qe||e[76]!==v1?(L3=o.jsxs(ct.Root,{open:d,onOpenChange:dt,children:[Qe,v1]}),e[72]=d,e[73]=ct.Root,e[74]=dt,e[75]=Qe,e[76]=v1,e[77]=L3):L3=e[77],L3}function w8t({clientThreadId:t,messageId:e,messageModelSlug:n,onModelSelect:r,modelOptions:s,showContextualRetry:a,isModelPickerV2:i}){"use forget";const{data:l=null}=Ds(),c=l&&$u(l),[u,d]=g.useMemo(()=>C8t(s,m=>m.subcategory),[s]);g.useEffect(()=>{const m=s.some(p=>Vpe(p,c));B.logEvent("Conversation Open Message Model Selector",{has_get_plus_button:m,is_new_regen_dropdown:!0})},[]);const f=g.useMemo(()=>{const m=new Map;return u.forEach(p=>{var v;const h=p.subcategory;h&&(m.has(h)||m.set(h,[]),(v=m.get(h))==null||v.push(p))}),m},[u]);return o.jsxs(o.Fragment,{children:[d.map(m=>o.jsx(rw,{clientThreadId:t,messageId:e,onModelSelect:r,modelRetryOption:m,showContextualRetry:a,hasPlusFeatures:c,messageModelSlug:n},m.value)),i&&[...f.entries()].map(([m,p])=>p.map(h=>o.jsx(rw,{clientThreadId:t,messageId:e,onModelSelect:r,modelRetryOption:h,showContextualRetry:a,hasPlusFeatures:c,messageModelSlug:n,subcategory:m},m+"-"+h.value))),!i&&[...f.entries()].map(([m,p])=>o.jsxs(J.Sub,{children:[o.jsx(J.SubMenuTrigger,{children:o.jsx("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:m})}),o.jsx(J.Portal,{children:o.jsx(J.SubContent,{className:"min-w-fit",children:p.map(h=>o.jsx(rw,{clientThreadId:t,messageId:e,onModelSelect:r,modelRetryOption:h,showContextualRetry:a,hasPlusFeatures:c,messageModelSlug:n,subcategory:m},m+"-"+h.value))})})]},m))]})}const S8t=g.memo(_8t),R1=pe({switchModel:{id:"RegenerateWithModelDropdown.switchModel",defaultMessage:"Switch model"},back:{id:"RegenerateWithModelDropdown.back",defaultMessage:"Back"},modelUsedDescription:{id:"RegenerateWithModelDropdown.modelUsedDescription",defaultMessage:"Used {modelName}"},safetySwitchWarning:{id:"RegenerateWithModelDropdown.safetySwitchWarning",defaultMessage:"ChatGPT routes some sensitive conversations to models that handle these topics with extra care. {learnMoreLink}"}});function k8t(t,e){var m,p,h,v;const[n,r,s]=Te(t,y=>[se.getIsNewConversation(y),se.getRequestId(y),Fj(y)]),a=eo(r),i=j9t(),{isUnauthenticated:l}=An(),c=((m=e==null?void 0:e.metadata)==null?void 0:m.b1de6e2_s)||((p=e==null?void 0:e.metadata)==null?void 0:p.b1de6e2_rm),u=!!((h=e==null?void 0:e.metadata)!=null&&h.n7jupd_message),d=!!((v=e==null?void 0:e.metadata)!=null&&v.image_gen_async);return!n&&!a&&!i.displayingSideBySideFeedback&&!l&&!s&&!u&&!d&&!c}const M8t={$type:"protobuf_analytics_events.v1.CopyTurnToClipboard"},wRt={$type:"protobuf_analytics_events.v1.ChatgptVoiceSession"},qpe=async(t,e,n,r,s,a="mouse",i)=>{var v;const c=se.getConversationTurns(st(e))[n];if(!c)return Promise.reject();const{messages:u}=c,d=s,f=((v=u[0])==null?void 0:v.author.role)===Ue.User,m=d.metaKey||d.altKey,p=await e8t(c,i,e,{unprocessed:m||f});await Uo(p,r,s);const h=kt(e);h&&(T4(t,{messageId:u[0].id,type:"copy",serverThreadId:h,selectedText:Ka(u[0]),source:a,location:"message",contentType:"text"}),B.logStructuredEvent(M8t,{conversationId:h,messageId:u[0].id}))};function E8t({audioAssetPointer:t,conversationId:e}){const n=pt(),[r,s]=g.useState(!1),a=g.useRef(!0),[i,l]=g.useState(void 0),c=g.useRef(null),u=wQ(),d=SQ(v=>v.isPlaying&&v.sourceUrl===i),f=null,m=g.useCallback(()=>{const v=vw();if(v)c.current?c.current.then(()=>{v.stop(),c.current=null}):v.stop();else return},[]);g.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),g.useEffect(()=>()=>{kQ().isPlaying&&m()},[m]);const p=g.useCallback(async()=>{if(!u||!a.current)return;s(!0);const{url:v}=await om.fetch(n,{asset:t,conversationId:e});s(!1),l(v),u.changeSource(v),c.current=u.play()},[t,e,u,n,f]);return{togglePlayback:g.useCallback(()=>{if(u)d?m():(Gt.messagePlayback.click(),p());else return},[d,p,u,m]),isPlaying:d,isLoading:r}}const zpe=g.createContext({isLoading:!1,isPlaying:!1,togglePlayback:()=>{throw new Error("Invalid usage outside of VoicePlaybackContext")},mode:"readAloud"});function j8t({children:t,audioAssetPointer:e,conversationId:n}){const{isLoading:r,isPlaying:s,togglePlayback:a}=E8t({audioAssetPointer:e,conversationId:n});return o.jsx(zpe.Provider,{value:g.useMemo(()=>({isLoading:r,isPlaying:s,togglePlayback:a,mode:"audioAsset"}),[r,s,a]),children:t})}function T8t({children:t,conversationId:e,messageId:n}){const{isLoading:r,isPlaying:s,togglePlayback:a}=znt({conversationId:e,messageId:n});return o.jsx(zpe.Provider,{value:g.useMemo(()=>({isLoading:r,isPlaying:s,togglePlayback:a,mode:"readAloud"}),[r,s,a]),children:t})}function N8t({children:t,enable:e,lastMessage:n,serverThreadId:r}){if(!e||!n||!r)return t;const s=Io.getAudioAssetPointers(n)[0];return s?o.jsx(j8t,{conversationId:r,audioAssetPointer:s,children:t}):o.jsx(T8t,{conversationId:r,messageId:n.id,children:t})}function A8t({onAnticipateEdit:t,onEnterEdit:e}){const n=Z();return o.jsx(Fi,{label:n.formatMessage({id:"gG9rea",defaultMessage:"Edit message"}),icon:hc,onClick:e,onBeforeClick:t})}const P8t=Je(async()=>()=>null),SRt=({alwaysShow:t,isUserTurn:e,children:n})=>{const r=g.useRef(null);return g.useEffect(()=>{const s=r.current;s&&(t?requestAnimationFrame(()=>{s&&(s.style.maskPosition=t?"0% 0%":"")}):s.style.maskPosition="")},[t]),o.jsx("div",{className:U("z-0 flex",!t&&"absolute start-0 end-0 flex",e?"justify-end":"min-h-[46px] justify-start"),children:o.jsx("div",{ref:r,className:U("touch:-me-2 touch:-ms-3.5 -ms-2.5 -me-1 flex flex-wrap items-center gap-y-4 p-1 select-none",!e&&"touch:w-[calc(100%+--spacing(3.5))] -mt-1 w-[calc(100%+--spacing(2.5))]",t&&!e&&"duration-[1.5s]","focus-within:transition-none hover:transition-none",!(t||e)&&"duration-500 group-hover/turn-messages:delay-300",!e&&["pointer-events-none [mask-image:linear-gradient(to_right,black_33%,transparent_66%)] [mask-size:300%_100%] [mask-position:100%_0%] motion-safe:transition-[mask-position]","group-hover/turn-messages:pointer-events-auto group-hover/turn-messages:[mask-position:0_0]","group-focus-within/turn-messages:pointer-events-auto group-focus-within/turn-messages:[mask-position:0_0]","has-data-[state=open]:pointer-events-auto has-data-[state=open]:[mask-position:0_0]"],e&&["duration-300 group-hover/turn-messages:delay-300","pointer-events-none opacity-0 motion-safe:transition-opacity","group-hover/turn-messages:pointer-events-auto group-hover/turn-messages:opacity-100","group-focus-within/turn-messages:pointer-events-auto group-focus-within/turn-messages:opacity-100","has-data-[state=open]:pointer-events-auto has-data-[state=open]:opacity-100"]),children:n})})},kRt=({activeVariantIndex:t,clientThreadId:e,conversationMode:n,lastMessage:r,messages:s,numVariants:a,onChangeIndex:i,onRate:l,showCanvasButton:c,showCopyButton:u,showPagination:d,showPlayButton:f,showRatingButtons:m,showRegenerateButton:p,turn:h,turnIndex:v,parentPrompt:y,isAgentTurn:x,isKAUR1BR5:b})=>{var fe,ge,ye,_e;const _=q(),w=Z(),S=Tt(),k=pt(),M=Yt(wn),E=Et(_),T=(fe=r==null?void 0:r.clientMetadata)==null?void 0:fe.rating,j=(ge=r==null?void 0:r.clientMetadata)==null?void 0:ge.requestId,{imageGenMessages:A,enableImageGenPostSharing:I,enableMessageSliceSharing:L,hasErrorInTurn:O,isIncomplete:R}=t4t(s),H=Qk.useSelectedIndex(),z=s.filter(cY).filter(Ne=>Ne.recipient==="all").length>0,$=A.length>0,D=Us(),Y=kt(e),G=zM(),F=Er(),X=iJ(),te=r!=null&&Io.getAudioAssetPointers(r).length>0,ae=Te(e,Ne=>Fj(Ne,r==null?void 0:r.id)),me=$&&!z&&A.some(LP),W=Y!=null&&!O&&!R&&!x&&E&&!G&&!M&&!X,K=Y!=null&&!O&&!R&&!x&&E&&!G&&!M&&!ae&&!F;let ne=null;if(W&&(I||L?ne=o.jsx(L8t,{clientThreadId:e,imageGenMessageId:(ye=A[H])==null?void 0:ye.id,messages:s,parentPromptId:y==null?void 0:y.id}):D&&ze(_,"1547743984").get("show_share_button_inline",!1)&&(ne=o.jsx(Fi,{onClick:()=>{Y&&pn.openSharingModal(Y)},label:w.formatMessage({id:"ConversationTurn.shareButtonTooltip",defaultMessage:"Share conversation"}),className:"sm:hidden",icon:Bo}))),r&&Q_e(r)&&!LP(r))return null;const re=M?"small":"med",le=!!(f&&r&&Y&&(te||!F));return o.jsxs(N8t,{enable:le,lastMessage:r,serverThreadId:Y,children:[d&&o.jsx(Upe,{currentPage:t,onChangeIndex:i,length:a}),u&&!me&&o.jsx(Gpe,{size:re,onClick:Ne=>{qpe(_,e,v,S,Ne,"mouse",k)}}),m&&!$&&o.jsxs(o.Fragment,{children:[T!=="thumbsDown"&&o.jsx(Fi,{size:re,onClick:()=>l("thumbsUp"),selected:T==="thumbsUp",icon:T==="thumbsUp"?GA:P3,label:w.formatMessage({id:"ConversationTurn.goodResponseTooltip",defaultMessage:"Good response"}),testId:"good-response-turn-action-button"}),T!=="thumbsUp"&&o.jsx(Fi,{size:re,onClick:()=>l("thumbsDown"),selected:T==="thumbsDown",icon:T==="thumbsDown"?zA:A3,label:w.formatMessage({id:"ConversationTurn.badResponseTooltip",defaultMessage:"Bad response"}),testId:"bad-response-turn-action-button"})]}),ne,!1,p&&r&&o.jsx(I8t,{clientThreadId:e,conversationMode:n,lastMessage:r,messages:s,hasImageGenMessage:$,parentPrompt:y,size:re}),!M&&o.jsx(i8t,{showPlayButton:!!(f&&r&&(z||te)),showCanvasButton:!$&&c,showJujutsuButton:W&&ie(_,"3096078201"),showBranchButton:K&&ie(_,"3550297692"),canShowScheduleButton:!b,turnIndex:v,clientThreadId:e,messages:s,imageGenMessageId:(_e=A[H])==null?void 0:_e.id,lastMessage:r,turn:h,requestId:j,parentPromptId:y==null?void 0:y.id})]})},MRt=({activeVariantIndex:t,clientThreadId:e,numVariants:n,onAnticipateEdit:r,onChangeIndex:s,onEnterEdit:a,showCopyButton:i,showEditMessageButton:l,showPagination:c,turnIndex:u})=>{const d=q(),f=Tt(),m=pt();return o.jsxs(o.Fragment,{children:[i&&o.jsxs(o.Fragment,{children:[!1,o.jsx(Gpe,{onClick:h=>{qpe(d,e,u,f,h,"mouse",m)}})]}),l&&o.jsx(A8t,{onAnticipateEdit:r,onEnterEdit:a}),c&&o.jsx(Upe,{currentPage:t,onChangeIndex:s,length:n})]})},I8t=({clientThreadId:t,conversationMode:e,messages:n,hasImageGenMessage:r,lastMessage:s,parentPrompt:a,size:i="med"})=>{const l=j4({clientThreadId:t,conversationMode:e}),c=k8t(t,s),u=g.useCallback(({sourceEvent:d,requestedModelId:f,appendMessages:m,extraStreamParams:p})=>{s&&l({sourceEvent:d,nodeId:s.id,requestedModelId:f,appendMessages:m,extraStreamParams:p})},[s,l]);return r?o.jsx(P8t,{messages:n,onModelSelect:u}):o.jsx(S8t,{className:"text-token-text-secondary hover:bg-token-bg-secondary touch:px-2.5 h-[30px] rounded-md px-1.5",clientThreadId:t,message:s,onModelSelect:u,canRegenerateResponse:c,parentPrompt:a,size:i})},Gpe=({onClick:t,size:e="med"})=>{const[n,r]=g.useState(!1),s=xN(),a=Z(),i=g.useCallback(l=>{l.stopPropagation(),B.logEvent("ChatGPT Turn Action Copy Clicked"),t(l),r(!0),setTimeout(()=>{s()&&r(!1)},2e3),Le.logEvent("chatgpt_turn_action_copy")},[s,t]);return o.jsx(Fi,{icon:n?Zr:Y0,onClick:i,label:a.formatMessage({id:"CopyButton.copyTooltip",defaultMessage:"Copy"}),testId:"copy-turn-action-button",size:e})};function L8t({clientThreadId:t,imageGenMessageId:e,messages:n,parentPromptId:r}){var d;const[s,a]=g.useState(!1),i=Z(),l=g.useMemo(()=>e?"media_generation":"message_slice",[e]),c=(d=n==null?void 0:n.map(f=>f.id))!=null?d:void 0,u=ZA({clientThreadId:t,imageGenMessageId:e,messageSliceIds:c,parentPromptId:r});return g.useEffect(()=>{B.logEvent("Share Post: Share Button Shown",{source:"turn_action",attachment_type:l})},[l]),o.jsx(Fi,{onClick:async()=>{a(!0);try{await u()}finally{a(!1)}B.logEventWithStatsig("Share Post: Share Button Clicked","chatgpt_post_share_button_clicked",C({source:"turn_action",attachment_type:l},e?{message_id:e}:{}))},label:i.formatMessage({id:"ConversationTurn.sharePostButtonTooltip",defaultMessage:"Share"}),icon:s?On:Bo,disabled:s})}const ERt=()=>{const t=q(),e=ha(),n=xQ();return e&&n&&Vo(t,"43324078").get("enabled",!1)};function jRt(t){return Ki(t).getExperiment("3438591328").get("use_scroll_v3",!1)}const KW=[1,2,3,4,10,20,30],R8t=1,O8t=["g-67e595af0a408191b84ee532fca12cd1","g-67ec3b78892481918c89067962526695","g-67ec3b4988f8819184c5454e18f5e84b","g-67ec3ad40750819181ccffa6a6f050d5","g-67edaaa3d3a081918205d0c470f00a32","g-67edab030ac881918ce8fa5c75a8e1b3","g-67edab2fc0f48191881a20ac98fedf6f","g-67edab4a24fc8191b975acaa8da2dcef"];function Wpe({clientThreadId:t,isInline:e=!1}){var Y;const n=q(),r=cr(n,t),s=hs(za.isBusinessWorkspace),a=j5e(),i=g.useRef(!1),l=kn(t),[c,u,d,f]=Te(t,G=>[G==null?void 0:G.mode,se.getRequestId(G),se.getConversationLastTurn(G),se.getConversationTurns(G).filter(F=>F.role===Ue.Assistant).length]),m=at(()=>{var G;return((G=Yu(r))==null?void 0:G.value)===sn.STREAMING}),{isUnauthenticated:p}=An(),h=g.useMemo(()=>{if(!l)return-1;const G=T5e(l);return G()>R8t?-1:KW[Math.floor(G()*KW.length)]},[l]),v=eo(u),y=((Y=C5(t))==null?void 0:Y.value)===sn.STREAMING,x=m||v||y,b=function(){return Math.random()<.9?"default":"personality_v1"},[_,w]=g.useState(null),[S,k]=g.useState(!1),[M,E]=g.useState(!1),[T,j]=g.useState(!1),[A,I]=g.useState(b),L=(G,F,X)=>{var ae;const te=(ae=d==null?void 0:d.messages[0])==null?void 0:ae.id;w(G),I(F),R(te,G,F,X)},O=(d==null?void 0:d.role)===Ue.Assistant,R=g.useMemo(()=>xs((G,F,X,te)=>{l&&G&&(s&&a?Gmt({rating:cfe(F),shown_at_assistant_turn:h,prompt:X},l,G):s||ue.safePost("/conversation/{conversation_id}/rating",{parameters:{path:{conversation_id:l}},requestBody:{message_id:G,rating:F,shown_at_assistant_turn:h,prompt:X,popup_ui_message:te},authOption:qt.SendIfAvailable})),B.logEvent("Conversation Rating Submitted",{rating:F,showAtAssistantTurn:h,conversationId:l,prompt:X,popupUiMessage:te}),k(!0),setTimeout(()=>{E(!0)},1500)},2e3),[s,a,l,h]),H=Yt(ws),V=Z(),z=g.useMemo(()=>A==="personality_v1"?V.formatMessage({id:"rating.instructions.personality_v1",defaultMessage:"Do you like this personality?"}):e?"Is this helpful so far?":"Is this conversation helpful so far?",[V,A,e]),$=f!==h||x||!O||!!s&&!a||(c==null?void 0:c.kind)!==At.PrimaryAssistant&&(c==null?void 0:c.kind)!==At.FlyingCircusCustomization&&(c==null?void 0:c.gizmo_id)!==void 0&&!O8t.includes(c==null?void 0:c.gizmo_id)||T||p||H;g.useEffect(()=>{!$&&!i.current&&(B.logEvent("Conversation Rating Shown",{showAtAssistantTurn:h,conversationId:l}),i.current=!0)},[$]);const D=yf();return T||!D.forceShowConvoRating&&$?null:o.jsxs(o.Fragment,{children:[o.jsx(Kt,{children:S&&!M&&o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:o.jsx(YW,{$padded:!0,$fullRounded:e,children:o.jsx("span",{className:"text-token-text-tertiary text-sm",children:o.jsx(N,{id:"rating.thanks",defaultMessage:"Thanks for your feedback!"})})})},"submitted")}),!S&&o.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.1},children:o.jsxs(YW,{$padded:!1,$fullRounded:e,children:[o.jsxs("div",{className:"text-token-text-secondary flex items-center justify-center gap-4 px-4 py-2.5 text-sm whitespace-nowrap",children:[o.jsx("span",{children:z}),o.jsxs("div",{className:"flex items-center gap-5",children:[o.jsx(aw,{$selected:_==="thumbsUp",onClick:()=>L("thumbsUp",A,z),children:o.jsx(P3,{className:"icon"})}),o.jsx(aw,{$selected:_==="thumbsDown",onClick:()=>L("thumbsDown",A,z),children:o.jsx(A3,{className:"icon"})})]})]}),!e&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-token-main-surface-tertiary w-px flex-1 self-stretch"}),o.jsx(aw,{className:"p-3",$selected:!1,onClick:()=>j(!0),children:o.jsx(lr,{className:"icon text-token-text-secondary hover:text-token-text-primary"})})]})]})},"rating")]})}var jK;const aw=Ge.button(jK||(jK=qe(["\n  ","\n  hover:text-token-text-primary\n"])),t=>t.$selected?"text-token-text-primary":"text-token-text-secondary");var TK;const YW=Ge.div(TK||(TK=qe(["inline-flex border border-gray-100 dark:border-gray-700\n","\n","\n"])),t=>t.$padded&&"py-2.5 px-4",t=>t.$fullRounded?"rounded-full":"rounded-xl"),D8t=Je(()=>Ve(()=>import("./l4yn0tubwvglpuy4.js"),__vite__mapDeps([167,1,4,5])));function Zpe({clientThreadId:t,canShowInlineMessageFeedback:e,messageForRating:n}){var d,f;const r=q(),s=yt(r),a=(d=s==null?void 0:s.isWorkspacePlan())!=null?d:!1,i=Te(t,m=>{const p=se.getConversationTurns(m);let h=0;for(let v=p.length-1;v>=0;v--){const y=p[v];if(y.messages.some(x=>{var b;return(b=x.metadata)==null?void 0:b.is_indepth_feedback}))return!0;if(y.messages.some(x=>x.author.role===Ue.Assistant)&&h++,h>=3)break}return!1}),l=kn(t),c=Su(m=>m.voiceFeedbackThread),u=l===c;return i?"none":u&&l&&!a?"voice":(f=n.clientMetadata)!=null&&f.rating&&e?"inline":"conversation"}function TRt({clientThreadId:t,canShowInlineMessageFeedback:e,messageForRating:n,allGroupedMessages:r,currentModelId:s}){const a=q(),i=ie(a,"294957382"),l=Zpe({clientThreadId:t,canShowInlineMessageFeedback:e,messageForRating:n}),c=kn(t),{voiceName:u}=I4();if(l==="none")return null;let d=null;if(l==="voice"&&c)Gt.feedbackShown.success({voice:u}),d=o.jsx("div",{className:"text-center",children:o.jsx(cft,{serverThreadId:c})});else if(l==="inline")d=o.jsx(D8t,{clientThreadId:t,conversationMessage:n,allGroupedMessages:r,currentModelId:s});else if(l==="conversation"){if(i)return null;d=o.jsx("div",{className:"text-center",children:o.jsx(Wpe,{clientThreadId:t})})}return o.jsx("div",{className:"mt-3 w-full empty:hidden",children:d})}function NRt({clientThreadId:t,canShowInlineMessageFeedback:e,messageForRating:n}){const r=q(),s=ie(r,"294957382");return Zpe({clientThreadId:t,canShowInlineMessageFeedback:e,messageForRating:n})!=="conversation"||!s?null:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grow"}),o.jsx(Wpe,{clientThreadId:t,isInline:!0})]})}function ARt(){return!0}function PRt(t){const{isCompletionRequestInProgress:e,isUserTurn:n,message:r}=t,s=Z(),a=g.useRef(e);g.useEffect(()=>{if(!e)return;let i;D3.setLiveRegionAssertive(s.formatMessage({id:"0LFLpz",defaultMessage:"ChatGPT is generating a response..."}));const l=s.formatMessage({id:"uqqkLX",defaultMessage:"ChatGPT is still generating a response..."}),c=5e3;function u(){D3.setLiveRegionAssertive(""),i=window.setTimeout(()=>{D3.setLiveRegionAssertive(l),i=window.setTimeout(()=>u(),c)},1e3)}return i=window.setTimeout(u,c),()=>{window.clearTimeout(i)}},[e,s]),g.useEffect(()=>{var u,d,f;if(e||n||!r||!a.current){a.current=e;return}const{content:i}=r,l=(i.content_type===rt.Text,i),c=s.formatMessage({id:"lZ4dVJ",defaultMessage:"ChatGPT says: {message}"},{message:(f=(d=(u=l==null?void 0:l.parts)==null?void 0:u.join)==null?void 0:d.call(u,"\n"))!=null?f:""});D3.setLiveRegionAssertive(c),a.current=!1},[n,e,s,r])}function IRt({content:t}){const e=q();if(!t.widgets.news_tab_enabled)return null;if(!ie(e,"3024830181"))return o.jsx(ff,{children:"Work in progress"});const{news:n}=t.widgets;if(!n||n.length===0){const s=I3("news");return o.jsx(ff,{IconComponent:s,children:o.jsx(N,{id:"sM5f1q",defaultMessage:"No news results found"})})}const r=jpe(n);return o.jsx("div",{className:"thread-sm:-mx-4 flex flex-col",children:r.map((s,a)=>o.jsx(F8t,{news:s,showSeparator:a<r.length-1},a))})}const F8t=g.memo(function({news:e,showSeparator:n=!0}){const r=e[0],s=e.slice(1);return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx(QW,{news:r},r.url),o.jsx("div",{className:"ms-4 flex flex-col gap-1",children:s.map(a=>o.jsx(QW,{news:a,showDomain:!1},a.url))}),n&&o.jsx("hr",{className:"border-heavy mx-4 my-2.5"})]})});function QW({news:t,showDomain:e=!0}){const n=Z(),r=g.useMemo(()=>{const s=t.pub_date?new Date(t.pub_date).getTime()/1e3:null;return N5e(n,s)},[n,t.pub_date]);return o.jsx(nP,{url:t.url,domain:t.domain,title:t.title,description:t.snippet,theme:e?"default":"sub-result",subscript:r,thumbnail_url:t.thumbnail_url})}const Kpe=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM9.22461 7.13086C8.68075 6.78163 7.96613 7.17202 7.96582 7.81836V12.1816C7.96613 12.828 8.68075 13.2184 9.22461 12.8691L12.6182 10.6875C13.1184 10.3657 13.1184 9.6343 12.6182 9.3125L9.22461 7.13086Z"})),LRt=Object.freeze(Object.defineProperty({__proto__:null,default:Kpe},Symbol.toStringTag,{value:"Module"}));function RRt({content:t,turnIndex:e}){const n=q();if(!ie(n,"3024830181"))return o.jsx(ff,{children:"Work in progress"});const{videos:r}=t.widgets;if(!r||r.length===0){const s=I3("videos");return o.jsx(ff,{IconComponent:s,children:o.jsx(N,{id:"YgdAWv",defaultMessage:"No videos found"})})}return o.jsx("div",{className:"flex flex-col",children:o.jsx("div",{className:"thread-sm:-mx-4 -mx-2 flex flex-col",children:r.map((s,a)=>o.jsxs(o.Fragment,{children:[o.jsx(B8t,{video:s,turnIndex:e},s.url),a<r.length-1&&o.jsx("hr",{className:"border-heavy mx-4 my-2.5"})]}))})})}function B8t({video:t}){return o.jsx(nP,{url:t.url,domain:t.domain,title:t.title,description:t.description,pub_date:t.pub_date,thumbnail_url:t.thumbnail_url,thumbnailOverlay:t.duration&&o.jsxs("div",{className:"absolute start-1.5 bottom-1.5 inline-flex items-center gap-1.5 rounded-full border-[0.5px] border-white/20 bg-black/20 bg-clip-padding px-1 py-1 text-sm font-normal text-white backdrop-blur-2xl",children:[o.jsx(Kpe,{className:"size-4"}),o.jsx("span",{className:"pe-1.5",children:U8t(t.duration)})]}),ThumbnailErrorIcon:T5})}function U8t(t){const e=t.split(":");if(e.length===0)return t;const n=e[0],r=/^(\d+)$/.test(n)?String(Number(n)):n;return e[0]=r,e.join(":")}const JW=2048;function ORt(t,e){const n=encodeURIComponent(t),r=(()=>{switch(e){case"web":return"https://www.google.com/search?q=";case"images":return"https://www.google.com/search?udm=2&q=";case"videos":return"https://www.google.com/search?udm=7&q=";case"news":return"https://www.google.com/search?tbm=nws&q=";default:throw new Error("Unsupported tab type: ".concat(e))}})(),s=r+n;if(s.length<=JW)return s;const a=Math.max(0,JW-r.length);let i=n.slice(0,a);if(/%%?$/.test(i))for(;i.endsWith("%");)i=i.slice(0,-1);return/%[0-9A-Fa-f]$/.test(i)&&(i=i.slice(0,-1)),r+i}const XW=180,ow=8,H8t=130;function DRt(t){"use forget";const e=ee.c(27),{content:n,turnIndex:r}=t,{images:s}=n.widgets,a=g.useRef(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],e[0]=i):i=e[0];const[l,c]=g.useState(i);let u;e[1]===Symbol.for("react.memo_cache_sentinel")?(u=new Set,e[1]=u):u=e[1];const[d,f]=g.useState(u);let m;e[2]===Symbol.for("react.memo_cache_sentinel")?(m=E=>f(T=>{const j=new Set(T);return j.add(E),j}),e[2]=m):m=e[2];const p=m;let h,v;if(e[3]!==d||e[4]!==s){let E;e[6]!==d?(E=T=>!d.has(T.content_url),e[6]=d,e[7]=E):E=e[7],v=s.filter(E),e[3]=d,e[4]=s,e[5]=v}else v=e[5];h=v;const y=h;let x;e[8]!==y?(x=()=>{if(!a.current)return;const E=a.current.getBoundingClientRect().width,T=[];let j=[],A=0;y.forEach((I,L)=>{const{width:O,height:R}=I.content_size,V=(R?O/R:1)*XW,z=E-A;let $=Math.min(V,z);const D=z-$;let Y=D<=0;D>0&&D<H8t&&($=$+D,Y=!0),j.push({img:I,displayWidth:$}),A=A+($+ow),Y?(T.push(j),j=[],A=0):L===y.length-1&&T.push(j)}),c(T)},e[8]=y,e[9]=x):x=e[9];const b=x;let _;e[10]!==y?(_=[y],e[10]=y,e[11]=_):_=e[11],Rn(b,_);let w;e[12]!==b?(w=()=>{if(!a.current)return;const E=new ResizeObserver(b);return E.observe(a.current),()=>E.disconnect()},e[12]=b,e[13]=w):w=e[13];let S;if(e[14]!==y?(S=[y],e[14]=y,e[15]=S):S=e[15],Rn(w,S),!y||y.length===0){let E;e[16]===Symbol.for("react.memo_cache_sentinel")?(E=I3("images"),e[16]=E):E=e[16];const T=E;let j;return e[17]===Symbol.for("react.memo_cache_sentinel")?(j=o.jsx(ff,{IconComponent:T,children:o.jsx(N,{id:"jtAYXl",defaultMessage:"No images found"})}),e[17]=j):j=e[17],j}let k;if(e[18]!==l||e[19]!==r||e[20]!==y){let E;e[22]!==r||e[23]!==y?(E=(T,j)=>o.jsx("div",{className:"flex",style:{gap:ow,marginBottom:ow},children:T.map(A=>{const{img:I,displayWidth:L}=A;return o.jsx("div",{className:"object-cover",style:{width:L,height:XW},children:o.jsx(G8t,{image:I,allImages:y,turnIndex:r,onError:()=>p(I.content_url)})},I.url)})},j),e[22]=r,e[23]=y,e[24]=E):E=e[24],k=l.map(E),e[18]=l,e[19]=r,e[20]=y,e[21]=k}else k=e[21];let M;return e[25]!==k?(M=o.jsx("div",{ref:a,className:"w-full",children:k}),e[25]=k,e[26]=M):M=e[26],M}var NK;const V8t=Ge.div(NK||(NK=qe(["\n  pointer-events-none absolute inset-0 z-10 bg-gradient-to-t\n  from-black/70 via-black/20 to-transparent\n  opacity-0 transition-opacity duration-200\n  group-hover:opacity-100 group-focus-visible:opacity-100\n  select-none flex flex-col justify-end\n"])));var AK;const $8t=Ge.div(AK||(AK=qe(["\n  flex items-center gap-2 text-xs text-white/90 text-clip whitespace-nowrap\n"])));var PK;const q8t=Ge.div(PK||(PK=qe(["\n  text-start text-sm font-medium text-white text-clip whitespace-nowrap\n"])));function z8t({image:t}){const[e,n]=g.useState(!1);return o.jsx(V8t,{children:o.jsxs(tP,{className:"flex flex-col gap-1 px-2.5 pb-2.5",children:[o.jsxs($8t,{children:[o.jsx(Nn,{url:t.content_url,className:"icon-sm",containerClassName:U("bg-token-bg-primary rounded-sm overflow-hidden",!e&&"loading-results-shimmer"),size:32,minSize:16,applySizeToImg:!0,onLoad:()=>n(!0)}),o.jsx("span",{className:"text-clip whitespace-nowrap",children:t.domain})]}),o.jsx(q8t,{children:t.title})]})})}function G8t({image:t,allImages:e,turnIndex:n,onError:r}){const[s,a]=g.useState(!1),i=Ju.useStore();return o.jsxs("button",{className:"border-token-border-light group relative block h-full w-full overflow-hidden rounded-lg border",disabled:!s,onClick:()=>{i.setCurrentImage({image:t,source:Zp.SuperWidget,imageResults:e,analyticsMetadata:{turnIndex:n}})},children:[o.jsx("div",{className:U("bg-token-bg-tertiary absolute inset-0 transition-opacity duration-300",s?"pointer-events-none opacity-0":"animate-pulse opacity-100")}),o.jsx("img",{src:t.content_url,alt:t.title,onLoad:()=>a(!0),onError:r,className:U("block h-full w-full transform-gpu object-cover object-[0%_25%] transition-transform duration-300 hover:scale-103",s?"opacity-100":"opacity-0"),width:t.content_size.width,height:t.content_size.height}),s&&o.jsx(z8t,{image:t})]})}function FRt({href:t,chatTheme:e}){const n=e!==void 0&&e!=="default";return o.jsxs(wr,{target:"_self",href:t,className:"flex items-center gap-2 text-sm text-(--super-widget-link-color) select-none hover:text-(--super-widget-link-color-hover)",style:{"--super-widget-link-color":n?"var(--theme-user-msg-text)":"var(--mini-link-color)","--super-widget-link-color-hover":"oklch(from var(--super-widget-link-color) calc(l - 0.2) clamp(0, calc(c + 0.03), 1.0) h)"},children:[o.jsx(N,C({},W8t.googleIt)),o.jsx(nE,{})]})}const W8t=pe({googleIt:{id:"ZOaw3K",defaultMessage:"Google"}}),Z8t=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M16.5353 9.60012C16.5353 8.7943 16.5288 8.52666 16.4591 8.2925C16.3916 8.06583 16.2807 7.85414 16.1329 7.66945C15.9803 7.47876 15.7645 7.32044 15.1027 6.86086L11.9025 4.63918C11.0356 4.03721 10.7407 3.84522 10.4415 3.77102C10.1518 3.69926 9.84844 3.69926 9.55871 3.77102C9.25946 3.84517 8.96491 4.037 8.09777 4.63918L4.89758 6.86086C4.23585 7.32039 4.01991 7.4788 3.8673 7.66945C3.71959 7.85412 3.60858 8.06585 3.54113 8.2925C3.47147 8.52666 3.46496 8.79429 3.46496 9.60012V13.9995C3.46496 14.4772 3.46549 14.796 3.48547 15.0405C3.50481 15.2773 3.53924 15.3857 3.57433 15.4546C3.67034 15.643 3.82343 15.7961 4.01183 15.8921C4.0807 15.9272 4.18923 15.9616 4.4259 15.981C4.67046 16.001 4.98923 16.0015 5.46691 16.0015H7.25207V13.1245C7.25231 11.6069 8.48241 10.3765 10.0001 10.3765C11.5178 10.3766 12.7479 11.6069 12.7482 13.1245V16.0015H14.5333C15.011 16.0015 15.3298 16.001 15.5743 15.981C15.8109 15.9616 15.9195 15.9272 15.9884 15.8921C16.1767 15.7961 16.3299 15.643 16.4259 15.4546C16.461 15.3857 16.4954 15.2772 16.5148 15.0405C16.5347 14.796 16.5353 14.4772 16.5353 13.9995V9.60012ZM17.8653 13.9995C17.8653 14.4553 17.8654 14.8377 17.84 15.1489C17.8139 15.4677 17.7578 15.7707 17.6114 16.0581C17.3879 16.4969 17.0306 16.8541 16.5919 17.0777C16.3044 17.2241 16.0016 17.2811 15.6827 17.3071C15.3715 17.3326 14.9891 17.3316 14.5333 17.3316H12.0831C11.7159 17.3315 11.4181 17.0337 11.4181 16.6665V13.1245C11.4178 12.3415 10.7832 11.7067 10.0001 11.7066C9.21694 11.7066 8.58142 12.3414 8.58117 13.1245V16.6665C8.58117 17.0338 8.2834 17.3316 7.91613 17.3316H5.46691C5.01118 17.3316 4.62878 17.3326 4.3175 17.3071C3.99865 17.2811 3.69579 17.2241 3.40832 17.0777C2.96959 16.8541 2.61233 16.4969 2.38879 16.0581C2.24243 15.7707 2.18633 15.4678 2.16027 15.1489C2.13484 14.8377 2.13488 14.4553 2.13488 13.9995V9.60012C2.13488 8.87504 2.12885 8.37705 2.26672 7.91359C2.38301 7.52267 2.57352 7.15791 2.82824 6.83938C3.13027 6.46179 3.54324 6.18263 4.13879 5.76906L7.33898 3.54641C8.11664 3.00637 8.645 2.62722 9.23937 2.48C9.73901 2.3563 10.2612 2.35626 10.7609 2.48C11.3552 2.62722 11.8836 3.00639 12.6612 3.54641L15.8614 5.76906C16.4569 6.18257 16.87 6.46182 17.172 6.83938C17.4267 7.15789 17.6172 7.52271 17.7335 7.91359C17.8714 8.37703 17.8654 8.87507 17.8653 9.60012V13.9995Z"}));function K8t(){return o.jsx(Se.div,{layoutId:"super-widget-underline",className:"absolute start-0 end-0 bottom-0 h-0.5 bg-black dark:bg-white",transition:{type:"spring",duration:.3,bounce:.12}})}function Y8t(r){var s=r,{selected:t,label:e}=s,n=de(s,["selected","label"]);const a=U(t?"text-token-text-primary":"text-token-text-tertiary hover:text-token-text-secondary",n.className);return o.jsx(wt,{label:e,className:a,children:o.jsx("button",P(C({},n),{className:"h-full w-full"}))})}function BRt({selectedTab:t,selectTab:e,className:n,textClassName:r,showNewsTab:s=!0}){const a=[{key:"answer",label:o.jsx(N,C({},Um.chatTab)),icon:o.jsx(Z8t,{className:"justify-self-center"})},{key:"web",label:o.jsx(N,C({},Um.searchTab)),icon:o.jsx(Ape,{className:"justify-self-center"})},{key:"images",label:o.jsx(N,C({},Um.imagesTab)),icon:o.jsx(Tpe,{className:"justify-self-center"})},{key:"videos",label:o.jsx(N,C({},Um.videosTab)),icon:o.jsx(Ppe,{className:"justify-self-center"})}];return s&&a.push({key:"news",label:o.jsx(N,C({},Um.newsTab)),icon:o.jsx(Npe,{className:"justify-self-center"})}),o.jsx(FK,{id:"super-widget-tabs",children:o.jsx("div",{className:U("flex h-full gap-0.5",n),children:a.map(({key:i,label:l,icon:c})=>o.jsxs(Y8t,{label:l,className:U("relative flex-1 sm:w-(--tab-width) sm:flex-none",t===i?"font-medium":"font-normal",r),selected:t===i,style:{fontSize:"0.9375rem"},onClick:u=>{e(i),u.currentTarget.scrollIntoView({behavior:"smooth"})},children:[c,t===i&&o.jsx(K8t,{})]},i))})})}const Um=pe({chatTab:{id:"CSsJbp",defaultMessage:"Chat"},searchTab:{id:"GjXttB",defaultMessage:"Search"},imagesTab:{id:"ZY9oIP",defaultMessage:"Images"},videosTab:{id:"C8mH8+",defaultMessage:"Videos"},newsTab:{id:"2QYAL1",defaultMessage:"News"}});function URt({queryText:t,tabType:e,searchIt:n}){const r=I3(e);return o.jsxs("div",{className:"flex w-full items-center text-start text-sm",children:[o.jsxs("span",{className:"text-token-text-tertiary flex max-w-[var(--user-chat-width,70%)] min-w-0 items-center",children:[o.jsx(r,{className:"me-2.5 h-4 w-4 shrink-0"}),o.jsx(N,P(C({},Q8t(e)),{values:{prefix:s=>o.jsx("span",{className:"shrink-0",children:s}),query:o.jsx("span",{className:"min-w-0 flex-initial truncate",children:t}),trailingQuote:s=>o.jsx("span",{"aria-hidden":"true",className:"shrink-0",children:s})}}))]}),o.jsx("span",{className:"ms-auto flex-shrink-0",children:n})]})}function Q8t(t){switch(t){case"images":return Y2.imageResultsFor;case"videos":return Y2.videoResultsFor;case"news":return Y2.newsResultsFor;case"web":default:return Y2.searchResultsFor}}const Y2=pe({searchResultsFor:{id:"xeT484",defaultMessage:"<prefix>Search results for â</prefix>{query}<trailingQuote>â</trailingQuote>"},imageResultsFor:{id:"OsLjmT",defaultMessage:"<prefix>Image results for â</prefix>{query}<trailingQuote>â</trailingQuote>"},videoResultsFor:{id:"Egf3CB",defaultMessage:"<prefix>Video results for â</prefix>{query}<trailingQuote>â</trailingQuote>"},newsResultsFor:{id:"MtgcpS",defaultMessage:"<prefix>News results for â</prefix>{query}<trailingQuote>â</trailingQuote>"}}),Ype=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M9.33467 16.6663V4.93978L4.6374 9.63704L4.1667 9.16634L3.69599 8.69661L9.52998 2.86263L9.63447 2.77767C9.8925 2.60753 10.2433 2.63564 10.4704 2.86263L16.3034 8.69661L16.3884 8.80111C16.5588 9.05922 16.5306 9.40982 16.3034 9.63704C16.0762 9.86414 15.7255 9.89242 15.4675 9.722L15.363 9.63704L10.6647 4.9388V16.6663C10.6647 17.0336 10.367 17.3314 9.99971 17.3314C9.63259 17.3312 9.33467 17.0335 9.33467 16.6663ZM4.6374 9.63704C4.3777 9.89674 3.95569 9.89674 3.69599 9.63704C3.43657 9.37744 3.43668 8.95628 3.69599 8.69661L4.6374 9.63704Z"})),HRt=Object.freeze(Object.defineProperty({__proto__:null,default:Ype},Symbol.toStringTag,{value:"Module"})),J8t=({onClick:t})=>{const e=Z();return o.jsx("div",{className:U("sticky top-6 z-10 flex h-0 items-start justify-center motion-safe:transition-all motion-safe:delay-300 motion-safe:duration-300","group-[:not([data-scroll-from-top])]/thread:scale-50","group-[:not([data-scroll-from-top])]/thread:opacity-0","group-[:not([data-scroll-from-top])]/thread:pointer-events-none","group-[:not([data-scroll-from-top])]/thread:duration-100","group-[:not([data-scroll-from-top])]/thread:delay-0"),children:o.jsx(Qpe,{label:e.formatMessage({id:"dZQBu/",defaultMessage:"Scroll to beginning"}),onClick:t,children:o.jsx(Ype,{className:"icon text-token-text-primary min-w-8"})})})},X8t=({streamingState:t,onClick:e})=>{const n=Z();return o.jsx("div",{className:U("sticky bottom-[calc(var(--composer-overlap-px)+--spacing(6))] z-10 flex h-0 items-end justify-center motion-safe:transition-all motion-safe:delay-300 motion-safe:duration-300","group-[:not([data-scroll-from-end])]/thread:scale-50","group-[:not([data-scroll-from-end])]/thread:opacity-0","group-[:not([data-scroll-from-end])]/thread:pointer-events-none","group-[:not([data-scroll-from-end])]/thread:duration-100","group-[:not([data-scroll-from-end])]/thread:delay-0"),children:o.jsx(Qpe,{label:n.formatMessage({id:"JDdG2F",defaultMessage:"Scroll to end"}),onClick:e,contentKey:t,children:o.jsxs("div",{className:"absolute end-0 flex items-center pe-1 text-nowrap",children:[t==="streaming"?o.jsx("span",{className:"loading-shimmer-pure-text ps-2.5",children:o.jsx(N,{id:"lMu1TV",defaultMessage:"Responding"})}):t==="unseen"?o.jsx("span",{className:"ps-2.5",children:o.jsx(N,{id:"mX2yAS",defaultMessage:"Done"})}):null,o.jsx(PT,{className:"icon text-token-text-primary min-w-6"})]})})})},Qpe=({children:t,label:e,onClick:n,contentKey:r})=>{const s=g.useRef(null),a=g.useCallback(()=>{const i=s.current,l=i==null?void 0:i.firstElementChild;l&&(i.style.width="".concat(l.clientWidth,"px"))},[]);return g.useEffect(()=>{r!=null&&a()},[a,r]),o.jsx("button",{tabIndex:-1,onClick:n,"aria-label":e,onTransitionEnd:a,className:U("absolute flex h-8 min-w-8 cursor-pointer items-center justify-end overflow-hidden rounded-full outline-hidden select-none","motion-safe:transition-width motion-safe:duration-300","btn-secondary box-content shadow-sm sm:shadow-md dark:shadow-none!"),ref:s,children:t})},evt="_threadRoot_1y3t0_1",tvt="_threadGutter_1y3t0_22",nvt={threadRoot:evt,threadGutter:tvt},VRt=n=>{var r=n,{clientThreadId:t}=r,e=de(r,["clientThreadId"]);const s=YXe(),[a,i,l]=Te(t,f=>{var m,p;return[se.isMessageTurnEnded(f),se.getRequestId(f),(p=(m=se.getConversationLastTurn(f))==null?void 0:m.messages.some(h=>s.has(h.id)))!=null?p:!1]}),u=(eo(i)&&!a||l)&&!0,d=o.jsx(rvt,C({isStreaming:u},e));return e.initScrolledToEnd?o.jsx(kf,{children:o.jsxs(g.Suspense,{fallback:null,children:[o.jsx(uOe,{}),d]})}):d},rvt=({allowScrollToEnd:t,allowScrollToTop:e,children:n,initScrolledToEnd:r,isStreaming:s,threadFooterRef:a,threadRootRef:i})=>{const l=g.useRef(null),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),[f]=Yt(y=>[Xa(y)]),[m,p]=g.useState("seen");Rn(()=>{const y=l.current;!r||!y||(y.scrollTop=y.scrollHeight,requestAnimationFrame(()=>{y.scrollTop=y.scrollHeight,requestAnimationFrame(()=>{y.scrollTop=y.scrollHeight})}))},[]),E3(()=>{const y=i.current,x=a.current,b=l.current,_=u.current,w=c.current;if(!y||!b||!_||!w)return;const S=eZ(_,{root:b,threshold:0},T=>{pn.setIsConversationScrolledFromTop(!T.isIntersecting),Ti(y,"data-scroll-from-top",!T.isIntersecting)}),k=Array.from({length:101},(T,j)=>j/100),M=eZ(w,{root:b,threshold:k,rootMargin:"1px"},T=>{avt(b,w),!T.isIntersecting&&Jpe(d)?iw(y,b):Ti(y,"data-scroll-from-end",!T.isIntersecting)}),E=x&&lvt(x,T=>{y.style.setProperty("--thread-footer-height","".concat(T,"px"))});return()=>{S==null||S(),M==null||M(),E==null||E()}}),g.useEffect(()=>{const y=i.current,x=c.current,b=l.current;!t||!y||!x||!b||(Ti(y,"data-stream-active",s),s&&iw(y,b),p(s?"streaming":rJ(y,"data-scroll-from-end")?"unseen":"seen"),s||ivt(d))},[s]);const h=g.useCallback(()=>{Le.logEvent("chatgpt_thread_scroll_to_top");const y=i.current,x=l.current;!y||!x||svt(y,x)},[i]),v=g.useCallback(()=>{Le.logEvent("chatgpt_thread_scroll_to_bottom");const y=i.current,x=l.current,b=c.current;!y||!x||!b||(iw(y,x),s?ovt(y,d):p("seen"))},[s,i]);return o.jsxs("div",{className:U("@container h-full overflow-y-auto [scrollbar-gutter:stable_both-edges] group-data-stream-active/thread:[overflow-anchor:none]",!f&&"thread-xl:pt-(--header-height)"),ref:l,children:[e&&o.jsx(J8t,{onClick:h}),o.jsx("div",{ref:u,className:"pointer-events-none w-px"}),n,o.jsx("div",{ref:c,className:U("pointer-events-none w-px",nvt.threadGutter,"min-h-[max(var(--gutter-min-height,0px),var(--gutter-remaining-height,0px))] md:[--gutter-min-height:2.25rem]","group-data-stream-active/thread:h-(--thread-end-gutter-active-height)")}),t&&o.jsx(X8t,{streamingState:m,onClick:v})]})};function svt(t,e){Ti(t,"data-scroll-from-top",!1),e==null||e.scrollTo({top:0,behavior:"smooth"})}function iw(t,e){Ti(t,"data-scroll-from-end",!1),e==null||e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}function avt(t,e){const n=t.getBoundingClientRect().bottom-e.getBoundingClientRect().top;n>0?e.style.setProperty("--gutter-remaining-height","".concat(n,"px")):e.style.removeProperty("--gutter-remaining-height")}function Jpe(t){return t.current!=null}function ovt(t,e){if(!Jpe(e)&&t){const n=()=>{e.current=null,t.removeEventListener("wheel",n),t.removeEventListener("pointerdown",n)};e.current=n,t.addEventListener("wheel",n,{passive:!0}),t.addEventListener("pointerdown",n)}}function ivt(t){var e;(e=t.current)==null||e.call(t)}function eZ(t,e,n){const r=new IntersectionObserver(s=>{n(s[s.length-1])},e);return r.observe(t),()=>r.disconnect()}function lvt(t,e){const n=()=>e(t.getBoundingClientRect().height);n();const r=new ResizeObserver(n);return r.observe(t),()=>r.disconnect()}var cvt=" daum[ /]| deusu/| yadirectfetcher|(?:^| )site|(?:^|[^g])news|(?<! (?:channel/|google/))google(?!(app|/google| pixel))|(?<! cu)bot(?:[^\\w]|_|$)|(?<! ya(?:yandex)?)search|(?<!(?:lib))http|(?<![hg]m)score|@[a-z]|\\(at\\)[a-z]|\\[at\\][a-z]|^12345|^<|^[\\w \\.\\-\\(?:\\):]+(?:/v?\\d+(\\.\\d+)?(?:\\.\\d{1,10})?)?(?:,|$)|^[^ ]{50,}$|^active|^ad muncher|^amaya|^anglesharp/|^avsdevicesdk/|^bidtellect/|^biglotron|^bot|^btwebclient/|^clamav[ /]|^client/|^cobweb/|^coccoc|^custom|^ddg[_-]android|^discourse|^dispatch/\\d|^downcast/|^duckduckgo|^facebook|^fdm[ /]\\d|^getright/|^gozilla/|^hatena|^hobbit|^hotzonu|^hwcdn/|^jeode/|^jetty/|^jigsaw|^linkdex|^metauri|^microsoft bits|^movabletype|^mozilla/\\d\\.\\d \\(compatible;?\\)$|^mozilla/\\d\\.\\d \\w*$|^navermailapp|^netsurf|^nuclei|^offline explorer|^php|^postman|^postrank|^python|^rank|^read|^reed|^rest|^serf|^snapchat|^space bison|^svn|^swcd |^taringa|^thumbor/|^tumblr/|^user-agent:|^valid|^venus/fedoraplanet|^w3c|^webbandit/|^webcopier|^wget|^whatsapp|^xenu link sleuth|^yahoo|^yandex|^zdm/\\d|^zoom marketplace/|^{{.*}}$|adbeat\\.com|appinsights|archive|ask jeeves/teoma|bit\\.ly/|bluecoat drtr|browsex|burpcollaborator|capture|catch|check|chrome-lighthouse|chromeframe|classifier|cloud|crawl|cryptoapi|dareboost|datanyze|dataprovider|dejaclick|dmbrowser|download|evc-batch/|feed|firephp|freesafeip|gomezagent|headless|httrack|hubspot marketing grader|hydra|ibisbrowser|images|inspect|iplabel|ips-agent|java(?!;)|library|mail\\.ru/|manager|monitor|neustar wpm|nutch|offbyone|optimize|pageburst|parser|perl|phantom|pingdom|powermarks|preview|proxy|ptst[ /]\\d|reader|reputation|resolver|retriever|rexx;|rigor|robot|rss|scan|scrape|server|sogou|sparkler/|speedcurve|spider|splash|statuscake|stumbleupon\\.com|supercleaner|synapse|synthetic|torrent|trace|transcoder|twingly recon|url|virtuoso|wappalyzer|webglance|webkit2png|whatcms/|wordpress|zgrab",uvt=/bot|spider|crawl|http|lighthouse/i,Q2;function $Rt(t){if(typeof Q2>"u")try{Q2=new RegExp(cvt,"i")}catch(e){Q2=uvt}return!!t&&Q2.test(t)}function dvt({id:t,name:e,checked:n,onChange:r=_n}){return o.jsx("input",{className:"sr-only",checked:n,id:t,name:e,type:"checkbox",readOnly:!0,onChange:r})}function qRt(t){"use forget";const e=ee.c(8),{gizmo:n}=t;let r;e[0]!==n?(r=n?use(n.tools):!1,e[0]=n,e[1]=r):r=e[1];const s=r;let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsxs("h1",{className:"text-[28px] leading-[34px] font-normal tracking-[0.38px]","data-testid":"temporary-chat-label",children:[o.jsx(dvt,{id:"temporary-chat-checkbox",name:"temporary-chat-checkbox",checked:!0}),o.jsx(N,C({},sd.temporaryChat))]}),e[2]=a):a=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=o.jsx(mvt,{}),e[3]=i):i=e[3];let l;e[4]!==s?(l=s&&o.jsx("div",{className:"mt-3",children:o.jsx(N,P(C({},sd.temporaryChatDescriptionGptActions),{values:{link:fvt}}))}),e[4]=s,e[5]=l):l=e[5];let c;return e[6]!==l?(c=o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a,o.jsxs("div",{className:"text-token-text-secondary dark:text-token-text-tertiary max-w-md text-center text-base leading-[24px] font-normal tracking-[-0.32px] text-balance",children:[i,l]})]}),e[6]=l,e[7]=c):c=e[7],c}function fvt(t){return o.jsx("a",{href:"https://help.openai.com/en/articles/8914046-temporary-chat-faq",target:"_blank",className:"underline",rel:"noreferrer",children:t})}function mvt(){"use forget";const t=ee.c(2),e=q(),n=yt(e),r=n==null?void 0:n.isWorkspaceAccount(),s=Af(),a=r?s?sd.temporaryChatBizMemoryAvailable:sd.temporaryChatBizMemoryUnavailable:s?sd.temporaryChatDescriptionMemoryAvailable:sd.temporaryChatDescriptionMemoryUnavailable;let i;return t[0]!==a?(i=o.jsx(N,C({},a)),t[0]=a,t[1]=i):i=t[1],i}const sd=pe({temporaryChat:{id:"GizmoLanding.temporaryChat",defaultMessage:"Temporary Chat"},temporaryChatBizMemoryAvailable:{id:"otDmKh",defaultMessage:"Memory is disabled for this chat, and it wonât appear in your history."},temporaryChatBizMemoryUnavailable:{id:"fQmbtG",defaultMessage:"This chat won't appear your conversation history."},temporaryChatDescriptionMemoryAvailable:{id:"GizmoLanding.temporaryChatDescriptionMemoryAvailable",defaultMessage:"This chat won't appear in history, use or update ChatGPT's memory, or be used to train our models. For safety purposes, we may keep a copy of this chat for up to 30 days."},temporaryChatDescriptionMemoryUnavailable:{id:"GizmoLanding.temporaryChatDescriptionMemoryUnavailable",defaultMessage:"This chat won't appear in history or be used to train our models. For safety purposes, we may keep a copy of this chat for up to 30 days."},temporaryChatDescriptionGptActions:{id:"GizmoLanding.temporaryChatDescriptionGptActions",defaultMessage:"Any data shared with a third party through GPT actions are subject to the third party's privacy policy. <link>Learn more</link>"}}),J2="m",pvt=2e3,gvt="skip_instant_query",hvt="client_reported_search_source",vvt=["gpt-5","gpt-4o","gpt-4-1-mini"];function zRt(t){var T;const{clientThreadId:e,handleRequestCompletion:n}=t,r=g.useRef(!1),s=g.useRef(null),{isLoading:a,data:i}=Ef(),l=o3.useIsEnabled(e),{isLoading:c,data:u}=Ds(),d=u&&$u(u),f=Te(e,se.hasUserMessage),m=m0(u),[p,h]=kr(),v=Tt(),y=p.get(dm),x=p.get(RP)==="ipl";g.useEffect(()=>{E(!0),r.current=!1,s.current=null},[y]);const b=g.useCallback(({content:j,attachments:A},I,L)=>{const O=V0(),R=A.length>0?{attachments:A}:{};R.system_hints=I.systemHints,Object.keys(O).length>0&&(R.__internal={search_settings:O});const{extraStreamParams:H}=t4(I.systemHints?I.systemHints:[],{enableMessageFollowups:l});n({promptMessage:Fr(j,R,x?{real_author:vM.IPL}:void 0),requestedModelId:L,eventSource:"url",completionMetadata:I,extraStreamParams:H})},[n,l,x]),_=(T=bQ(()=>window.location.pathname))!=null?T:null,w=A5e(),S=!a&&!c&&_!=null,k=ZM(),[M,E]=g.useState(!0);return g.useEffect(()=>{var ae,me,W,K,ne;if(!M||r.current)return;const j=(ae=st(e))==null?void 0:ae.mode;if(!S||j==null)return;if(!xvt(_)||yvt(_)&&w===void 0||kt(e)!=null){E(!1);return}const A=(()=>{try{return Object.fromEntries(new URLSearchParams(location.hash.slice(1)).entries())}catch(re){return{}}})(),I=C(C({},Object.fromEntries(p)),A),{[dm]:L,[J2]:O,model:R,[gvt]:H,[hvt]:V}=I,z=(me=typeof L=="string"?L:null)!=null?me:typeof O=="string"?O:null,$=Object.values(tf).includes(V)?V:void 0;if(!z||!z.trim()){E(!1);return}else s.current=Date.now();const D=P5e(p);r.current=!0;const Y=D.find(Mu),G=c1e(R!=null?R:null,Y);let F=k.secFetchSite==="none"||((W=document.referrer)==null?void 0:W.startsWith("https://openai.com/"))||((K=document.referrer)==null?void 0:K.startsWith("https://pay.openai.com/"));if(G&&(F=!1),!F){h(re=>{const le=new URLSearchParams(re);return le.delete(dm),le.delete(J2),le.delete(RP),le.append("prompt",z),le}),E(!1),ve.addAction("pageload-completion.disallowed",{secFetchSite:k.secFetchSite,referrer:document.referrer});return}const X=D.includes(we.Search);let te=Nd(i);if(X&&i){const re=vvt.map(le=>i.models.get(le)).find(le=>id(le,ou.Search));if(re)te=re;else if(!id(te,ou.Search)){for(const le of i.models.values())if(id(le,ou.Search)){te=le;break}}}((ne=t.prefetchSearchThreadIdPromise)!=null?ne:Promise.resolve(null)).then(re=>{var fe;h(ge=>{const ye=new URLSearchParams(ge);return ye.delete(dm),ye.delete(J2),ye.delete("skip_instant_query"),te&&ye.append("model",te.id),ye});const le=$!=null?$:X?tf.URL_SEARCH_HINT:void 0;b({content:z,attachments:[]},{conversationMode:j,source:H?void 0:"instant-query",systemHints:D,prefetchIds:re!=null?[re]:void 0,searchSource:le},(fe=te==null?void 0:te.id)!=null?fe:void 0),re!=null&&ve.addFirstTiming("createCompletion.prefetchSearch")})},[a,c,S,_,i,d,m,b,M,e,w,k.secFetchSite,v,t.prefetchSearchThreadIdPromise,p,h]),M&&(t.prefetchSearchThreadIdPromise!=null||p.has(dm)||p.has(J2)?!0:s.current?f||Date.now()-s.current>pvt?(s.current=null,E(!1),!1):!0:!1)}function yvt(t){return Xpe(t)}function Xpe(t){return t==null?!1:/^\/g\/[\w-]+$/.test(t)}function xvt(t){return t==null?!1:t==="/"||Xpe(t)}function GRt(){const t=q();g.useEffect(()=>{const e=n=>{const r=n.payload.conversation_id,s=n.payload.update_content,a=n.payload.update_type;if(a==="chime-start-task"){const i=s.task_id,l=s.initiating_message_id;Fe(r,c=>{c&&(c.asyncTurns||(c.asyncTurns={}),c.asyncTurns[i]?(c.asyncTurns[i].status="streaming_cot_messages",c.asyncTurns[i].initiatingMessageId=l):c.asyncTurns[i]={turnId:i,messages:{},title:s.title,status:"streaming_cot_messages",initiatingMessageId:l})})}if(a==="chime-update-title"){const i=s.task_id,l=s.title;Fe(r,c=>{var d;if(!c)return;const u=(d=c.asyncTurns)==null?void 0:d[i];u&&(u.title=l)})}if(a==="chime-cot-message-add"||a==="chime-final-message-add"){const i=s.task_id,l=s.message;Fe(r,c=>{var d;if(!c)return;const u=(d=c.asyncTurns)==null?void 0:d[i];u&&(u.status="streaming_cot_messages",u.messages[l.id]=l,a==="chime-final-message-add"&&(u.status="streaming_final_message",c.tree.getNodeIfExists(l.id)?vn.updateTree(c,m=>{l.metadata||(l.metadata={}),m.updateNodeMessage(l.id,l)}):vn.appendMessage(c,l),l.status==="finished_successfully"&&(u.status="done")))})}};return lJ.on("conversation-update",e)},[t])}const WRt={"composer-slide":"_composer-slide_dfyot_111","pinned-widget":"_pinned-widget_dfyot_135","becoming-inline":"_becoming-inline_dfyot_179","becoming-pinned":"_becoming-pinned_dfyot_200","fullscreen-widget-composer-transition":"_fullscreen-widget-composer-transition_dfyot_219"};function ZRt({children:t}){let e;return g.Children.forEach(t,n=>{if(g.isValidElement(n)&&n.type==="title"){const r=g.Children.toArray(n.props.children)[0];typeof r=="string"&&(e=r)}}),g.useEffect(()=>{if(e!=null){const n=document.title;return document.title=e,()=>{document.title=n}}},[e]),null}const e0e=1e3*60*60;let lw;function bvt(){(lw===void 0||Date.now()-lw>e0e)&&(Ck.prewarmRealtimeVoice(),lw=Date.now())}function Cvt(t){if(Et(t)&&ie(t,"422449809")&&Dde(t)){let e;const n=()=>{bvt(),e=window.setTimeout(()=>{n()},e0e)};return n(),()=>window.clearTimeout(e)}}function _vt(t){return Ho({queryKey:["conversation",t,"stream-status"],queryFn:async()=>t?await ue.safeGet("/conversation/{conversation_id}/stream_status",{parameters:{path:{conversation_id:t}}}):null})}function wvt(t,e){return PM(t,()=>_vt(e))}function Svt(t,e){const n=cr(t,e),r=un(()=>{const s=n.serverId$();return s==null?null:wvt(t,s)()});return tE(()=>{var c;const s=I5e(n),a=r(),i=n.serverId$();return i==null||s||((c=a==null?void 0:a.data)==null?void 0:c.status)!=="IS_STREAMING"?!1:dp.get(i)!=null},()=>{if(!ze(t,"2489999880").get("is_resume_over_reloads_enabled",!1))return;const s=ic(()=>n.serverId$()),a=dp.get(s);lLe({ctx:t,clientThreadId:e,completionType:Ol.Continue,conversationId:s,token:a})})}function KRt(t,e){const n=[Cvt(t),Svt(t,e)];return()=>{n.forEach(r=>r==null?void 0:r())}}function YRt({clientThreadId:t}){const e=pt(),n=kn(t),r=Te(t,se.getGizmoId),s=async()=>{n&&(await ue.safePatch("/conversation/{conversation_id}",{parameters:{path:{conversation_id:n}},requestBody:{is_archived:!1},intercomEventOnError:"fetch-error:conversation:edit"}),e.invalidateQueries(E5({clientThreadId:t})),Fe(n,a=>{a.isArchived=!1}),os(e,r))};return o.jsxs("div",{className:"my-6 flex flex-col items-center justify-center gap-4",children:[o.jsx("div",{className:"text-token-text-secondary px-3 text-center text-sm",children:o.jsx(N,{id:"thread.archivedConversationDescription",defaultMessage:"This conversation is archived. To continue, please unarchive it first."})}),o.jsx("div",{children:o.jsx(oe,{disabled:!n,onClick:s,icon:Voe,children:o.jsx(N,{id:"thread.unarchiveButton",defaultMessage:"Unarchive"})})})]})}function kvt(t){var n,r,s,a;const e=se.getTree(t).findNode(i=>{var l;return((l=i.message.metadata)==null?void 0:l.greenwich)!==void 0},se.getCurrentLeafId(t));return[(r=(n=e==null?void 0:e.message.metadata)==null?void 0:n.greenwich)==null?void 0:r.text,(a=(s=e==null?void 0:e.message.metadata)==null?void 0:s.greenwich)==null?void 0:a.link]}function QRt({clientThreadId:t}){const[e,n]=Te(t,kvt);return!e||!n?null:o.jsx("div",{className:"flex w-full items-center justify-center p-2 text-center text-xs",children:o.jsx("a",{href:n,target:"_blank",rel:"noreferrer",className:"hover:text-token-text-primary text-token-text-tertiary hover:underline",children:e})})}function JRt({serverThreadId:t,clientThreadId:e,isStaticSharedThread:n,isSharedConversation:r}){var f;const s=WY(Yl.ReportConversation),a=q(),i=ie(a,"2935021756"),l=ie(a,"3376455464")||n||r,c=kn(e);let u=t!=null?t:c;const d=g.useContext(l3);return u==null&&d!=null&&(u=(f=d.serverSharedThreadId)!=null?f:void 0),i&&typeof window<"u"&&(window._convo_share_debug={isOpen:s,canReport:l,serverThreadIdIsNull:u==null,isStaticSharedThread:n,isSharedConversation:r}),!s||!l||u==null?(s&&Le.logEvent("chatgpt_conversation_share_report_modal_not_shown",l?"serverThreadId":"canReport"),null):o.jsx(Mvt,{serverThreadId:u,onClose:()=>pn.closeModal(Yl.ReportConversation),isStaticSharedThread:n,isSharedConversation:r})}function Mvt({serverThreadId:t,onClose:e,isStaticSharedThread:n,isSharedConversation:r}){const s=q(),{data:a}=pme(s,n||r?$1.ShareableConversation:$1.Conversation),i=Z(),l=mme(s,i,t,n||r?$1.ShareableConversation:$1.Conversation);return a==null||t==null?(Le.logEvent("chatgpt_conversation_share_report_modal_not_shown",a==null?"report_reasons":"thread_id"),null):o.jsx(gme,{reasons:a.reasons,submitReport:l,title:i.formatMessage({id:"gizmo.report.conversationModal.title",defaultMessage:"Report a conversation"}),onClose:e,header:a.header,subHeader:a.header_explanation})}const XRt=(t,e)=>{const n=Jl("searchSources"),r=oE(),s=dc(),a=s&&(r==null?void 0:r.type)==="searchSources",i=s&&(r==null?void 0:r.type)==="retrievalResults",l=Evt(e),c=l!=null,u=jvt(e),d=!!u,{openThreadSidebar:f,closeThreadSidebar:m}=Bn();g.useEffect(()=>{var _,w,S;if(!(a||i))return;let p;a?p=(_=l==null?void 0:l.id)!=null?_:u==null?void 0:u.id:p=(w=u==null?void 0:u.id)!=null?w:l==null?void 0:l.id;const h=t-1,v=e!==r.clientThreadId,y=h>((S=r.turnIndex)!=null?S:-1),x=h===r.turnIndex&&!v&&p!==r.messageId;if(!v&&x&&t&&!(c||d)){m();return}y&&p&&(!v||v&&r.clientThreadId===mJ)&&(c?f({type:"searchSources",clientThreadId:e,turnIndex:h,messageId:p,scrollToHeader:n==null?void 0:n.scrollToHeader}):d&&f({type:"retrievalResults",clientThreadId:e,turnIndex:h,messageId:p}))},[e,t,c,d])},Evt=t=>Te(t,e=>{const n=se.getConversationLastTurn(e),r=n==null?void 0:n.messages.find(s=>qee(s));if(r){const a=Dg(r).length,i=Y6(r),l=zee(i).length;return a||l?r:null}return null}),jvt=t=>{const e=tl(t),n=uJ(e);return Te(t,r=>{const s=se.getConversationLastTurn(r),a=se.getGizmoId(r);return s&&K7t(s,n,!!a)&&s!=null&&s.messages.length?s.messages[s.messages.length-1]:void 0})};function Tvt(t,e,n={}){if(!t||!e)return Promise.resolve();const{padding:r=0,behavior:s="smooth",signal:a,idleMs:i=120,timeoutMs:l=4e3,resolveOnUserInterruption:c=!0}=n,u=e.getBoundingClientRect(),f=t.getBoundingClientRect().top-u.top+e.scrollTop-r;return e.scrollTo({top:f,behavior:s}),s!=="smooth"&&Math.abs(e.scrollTop-f)<=1?Promise.resolve():new Promise((m,p)=>{let h=!1,v,y;const x=["wheel","touchstart","mousedown","keydown"],b=()=>{v&&window.clearTimeout(v),y&&window.clearTimeout(y),e.removeEventListener("scroll",M,E),e.removeEventListener("scrollend",k),x.forEach(j=>{e.removeEventListener(j,S,T)}),a==null||a.removeEventListener("abort",w)},_=()=>{h||(h=!0,b(),m())},w=()=>{b();const j=new DOMException("Scroll aborted","AbortError");p(j)},S=()=>{if(c)_();else{b();const j=new Error("Scroll interrupted by user");p(j)}},k=()=>_(),M=()=>{v&&window.clearTimeout(v),v=window.setTimeout(()=>{_()},i)},E={passive:!0},T={passive:!0,capture:!0};if("onscrollend"in e?e.addEventListener("scrollend",k,{once:!0}):(e.addEventListener("scroll",M,E),M()),x.forEach(j=>{e.addEventListener(j,S,T)}),a){if(a.aborted)return w();a.addEventListener("abort",w,{once:!0})}y=window.setTimeout(()=>{_()},l)})}function Jk(t){return t.map(e=>e.type==="list"?"":e.type==="text"?e.value:Array.isArray(e.children)?Jk(e.children):"").join("")}function Nvt({markdown:t}){var i;const e=P5().use(ij).parse(t),n=[];let r=6,s;const a=({text:l,depth:c,originalMarkdown:u})=>{l&&(n.push({text:l,depth:c,originalMarkdown:u}),c<r&&(r=c))};for(let l=0;l<e.children.length;l++){const c=e.children[l];if(c.type==="heading"){const u=c;if(s=u,u.depth<=3){const d=Jk(u.children);if(d.trim()){const f=u.position?t.slice(u.position.start.offset,u.position.end.offset):d;a({text:d,originalMarkdown:f,depth:u.depth})}}}else if(c.type==="thematicBreak")s=void 0;else if(c.type==="list"&&(s&&s.depth<=3||s===void 0)){const u=c;for(const d of u.children){const f=Jk(d.children),m=d.position?t.slice(d.position.start.offset,d.position.end.offset):f;a({text:f,originalMarkdown:m,depth:((i=s==null?void 0:s.depth)!=null?i:0)+1})}}}return n.length===0&&(r=0),{tocItems:n,minDepth:r}}const Avt=300,Pvt=36,Ivt={type:"tween",ease:"linear",duration:.3},eOt=t=>o.jsx(IM,{name:"TableOfContentsSidebar",fallback:()=>o.jsx(o.Fragment,{children:null}),logRequestErrors:!0,children:o.jsx(Lvt,C({},t))}),Lvt=({clientThreadId:t,scrollContainerRef:e})=>{const[n,r]=g.useState(!1),[s,a]=g.useState([]),[i,l]=g.useState(!1),{conversationMode:c,conversationTurnIds:u,activeTurnIdPair:d}=Te(t,m=>{const p=se.getConversationTurnIds(m),h=m==null?void 0:m.turnIdsInViewpoint,v=h==null?void 0:h.reduce((x,b)=>b.turnIndex<x.turnIndex?b:x,{turnIndex:1/0,turnId:"",role:Ue.User}),y=[];return v&&(y.push(v.turnId),v.role===Ue.Assistant&&v.turnIndex>0?y.unshift(p[v.turnIndex-1]):v.turnIndex<p.length-1&&y.push(p[v.turnIndex+1])),{conversationMode:m==null?void 0:m.mode,conversationTurnIds:p,activeTurnIdPair:y}});g.useEffect(()=>{!i&&(s.length!==d.length||!s.every(m=>d.includes(m)))&&a(d)},[d,s,i]);const f=g.useRef(null);return(c==null?void 0:c.kind)!==At.PrimaryAssistant?null:o.jsx(Se.div,{className:U("fixed end-4 top-25 z-10 max-h-[calc(100vh-20rem)] overflow-hidden ps-1 will-change-transform",n&&"border-token-border-default bg-token-bg-primary scrollbar overflow-y-auto rounded-lg border py-4 ps-3 shadow-lg [scrollbar-gutter:stable]"),initial:!1,animate:{width:n?Avt:Pvt},transition:Ivt,onMouseEnter:()=>{f.current&&clearTimeout(f.current),r(!0)},onMouseLeave:()=>{f.current=setTimeout(()=>r(!1),500)},children:o.jsx("div",{className:"block font-normal",children:u.map((m,p)=>o.jsx(Rvt,{clientThreadId:t,turnIndex:p,active:s.includes(m),isHovered:n,isLast:p===u.length-1,scrollContainerRef:e,onScrollingChange:l},m))})})},Rvt=({turnIndex:t,clientThreadId:e,active:n,isHovered:r,isLast:s,scrollContainerRef:a,onScrollingChange:i})=>{const l=g.useRef(null),[c,u]=Te(e,v=>{const y=se.getConversationTurnAtIndex(v,t),x=t>0?se.getConversationTurnAtIndex(v,t-1):null,b=(x==null?void 0:x.role)===Ue.User&&x.messages.some(_=>{var w;return(w=_.metadata)==null?void 0:w.visually_hide_response_from_conversation});return[y,b]}),{tocItems:d,truncatedContent:f,minDepth:m}=g.useMemo(()=>{const x=c.messageGroups.filter(k=>k.type!==-1&&[Hn.Text,Hn.b1de6e2_rm].includes(k.type)).flatMap(k=>k.messages.filter(M=>_u(M)||[A6.b1de6e2_rm].includes(N6(M)))).map(k=>Ka(k,{shouldGetVisibleText:!1,shouldGetTextFromContentReferences:!1})).join("\n"),b=x.length>1e3?x.slice(0,1e3)+"...":x,{tocItems:_,minDepth:w}=c.role===Ue.Assistant?Nvt({markdown:x}):{tocItems:[],minDepth:0};return{tocItems:_.filter(k=>k.depth-w<=1),content:x,truncatedContent:b,minDepth:w}},[c]);g.useEffect(()=>{var v;n&&r&&((v=l.current)==null||v.scrollIntoView({behavior:"smooth",block:"center"}))},[n,r]);const p=g.useCallback(async(v,y)=>{const x=document.querySelector(y==="turn"?'[data-turn-id="'.concat(v,'"]'):'[data-section-id="'.concat(v,'"]'));x&&a.current&&(B.logEvent("Table of Contents: Clicked",{type:y,screenWidth:window.innerWidth}),i(!0),await Tvt(x,a.current),i(!1))},[a,i]);if(u)return null;const h=c.role===Ue.User?o.jsxs("div",{onClick:()=>p(c.id,"turn"),className:U("text-token-text-tertiary hover:text-token-text-primary text-xs","relative flex cursor-pointer items-center overflow-visible py-1",n&&"text-token-text-primary! font-medium"),title:f,children:[n&&o.jsx("div",{className:U("border-token-bg-primary box-content overflow-hidden border border-4","absolute -start-3 h-2 w-2 -translate-x-1/2 rounded-full",r?"bg-token-icon-primary":"bg-token-icon-tertiary")}),o.jsx(Se.span,{initial:!0,animate:{opacity:r?1:0},transition:{type:"easeInOut",duration:.3},className:"truncate overflow-hidden will-change-transform",children:f})]}):o.jsx(Kt,{initial:!1,mode:"wait",children:c.role===Ue.Assistant&&n&&r?o.jsx(Se.div,{initial:{height:0,paddingTop:0,paddingBottom:0},animate:{height:n&&r?"auto":0,paddingTop:r?4:0,paddingBottom:r?4:0},exit:{height:0,paddingTop:0,paddingBottom:0},transition:{type:"linear",duration:.3},className:"overflow-hidden ps-6 will-change-transform",children:d.length===0?o.jsx("div",{onClick:()=>p(c.id,"turn"),className:U("text-token-text-tertiary line-clamp-2 cursor-pointer text-xs"),title:f,children:f}):o.jsx("ul",{className:"flex flex-col gap-4",children:d.map((v,y)=>{const x=Dwe(v.originalMarkdown),b=v.depth-m;return o.jsx("li",{className:U(b!==0&&"ps-4"),children:o.jsx("div",{onClick:()=>p(x,"section"),className:"hover:text-token-text-primary text-token-text-tertiary cursor-pointer truncate text-xs",children:v.text})},y)})})}):null});return h?o.jsxs("div",{ref:l,className:"flex items-stretch gap-2",children:[o.jsx("div",{className:"flex w-2 justify-center",children:!(s&&c.role===Ue.Assistant)&&o.jsx("div",{className:U("h-full w-[2px]",r?"bg-token-border-heavy":"bg-token-border-default")})}),o.jsx("div",{className:"flex min-w-0 flex-1 basis-0 flex-col",children:h})]}):null};function Ovt({navigate:t,safetyLimited:e}){return e?o.jsx(N,{id:"5QWLgm",defaultMessage:"<heading>We've limited access to this content for safety reasons.</heading>This type of information may be used to benefit or to harm people. We are continuously refining our work in this area, and you can read more about our approach in our <blogLink>blog post</blogLink> and <modelSpecLink>Model Spec</modelSpecLink>.",values:{heading:n=>o.jsx("h4",{className:"text-base font-bold",children:n}),blogLink:n=>o.jsx("a",{href:"https://openai.com/index/preparing-for-future-ai-capabilities-in-biology/",target:"_blank",rel:"noreferrer",className:"underline hover:no-underline",children:n}),modelSpecLink:n=>o.jsx("a",{href:"https://openai.com/index/introducing-the-model-spec/",target:"_blank",rel:"noreferrer",className:"underline hover:no-underline",children:n})}}):o.jsx(N,{id:"4vDLZ8",defaultMessage:"This chat may violate our <contentPolicyLink>usage policies</contentPolicyLink> and has been closed. <startNewChatLink>Start a new chat</startNewChatLink>.",values:{contentPolicyLink:n=>o.jsx("a",{href:"https://openai.com/policies/usage-policies",target:"_blank",rel:"noreferrer",className:"underline hover:no-underline",children:n}),startNewChatLink:n=>o.jsx(mr,{to:"/",onClick:()=>Hf(t),className:"underline hover:no-underline",children:n})}})}function tOt({safetyLimited:t}){const e=it();return o.jsx("div",{className:"flex flex-col items-center justify-center gap-4 pt-8",children:o.jsx(m1,{children:o.jsx(RN,{type:"danger",className:"mb-2 w-fit self-start",children:o.jsx(Ovt,{navigate:e,safetyLimited:t})})})})}const Dvt='defaults write com.google.Chrome NewTabPageLocation "'.concat(atob("aHR0cHM6Ly93d3cuY2hhdGdwdC5jb20vbmV3LXRhYi1wYWdl"),'"'),t0e="defaults delete com.google.Chrome NewTabPageLocation 2>/dev/null || true",Xk=({content:t})=>{const[e,n]=g.useState(!1),r=Tt(),s=Z();return o.jsxs("div",{className:"bg-token-bg-tertiary relative min-w-0 rounded-sm",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[o.jsx("div",{className:"overflow-x-auto px-2 py-1",children:o.jsx("code",{className:"block min-w-0 whitespace-nowrap",children:t})}),e&&o.jsx(oe,{color:"secondary",className:"absolute! sticky end-1 top-1/2 -translate-y-1/2",size:"small",onClick:async()=>{try{await navigator.clipboard.writeText(t),r.success(s.formatMessage({id:"laoJM9",defaultMessage:"Command copied to clipboard"}))}catch(a){}},children:o.jsx(N,{id:"fmeSBG",defaultMessage:"Copy"})})]})},lP=()=>o.jsxs("div",{className:"bg-token-bg-secondary w-full flex-none animate-pulse rounded-md p-3",children:[o.jsx("div",{className:"mb-3 h-32 w-full rounded-md bg-gray-200"}),o.jsx("div",{className:"mb-2 h-4 w-3/4 rounded bg-gray-200"}),o.jsx("div",{className:"h-3 w-2/3 rounded bg-gray-200"})]}),nOt=()=>Ft.getItem(et.HomeDiscoveryDismissed)?null:o.jsx(m1,{children:o.jsxs(RN,{isDismissible:!0,className:"w-full",onDismiss:()=>Ft.setItem(et.HomeDiscoveryDismissed,!0),children:[o.jsx(N,{id:"ool//w",tagName:"p",defaultMessage:"Thanks for finding this page. You can set the default chrome new tab to this page by:"}),o.jsx(Xk,{content:Dvt}),o.jsx(N,{id:"8+SRpS",tagName:"p",defaultMessage:"You can revert by:"}),o.jsx(Xk,{content:t0e})]})});function Fvt({limit:t=3}={}){const{data:e,isLoading:n,isError:r}=L5e({cutId:"popular_in_my_workspace",limit:t});return{gizmos:g.useMemo(()=>{var i;return((i=e==null?void 0:e.pages)!=null?i:[]).flatMap(l=>{var c;return(c=l.list)!=null?c:[]}).flatMap(l=>{var c;return(c=l.items)!=null?c:[]}).flatMap(l=>l.resource)},[e]),isLoading:n,isError:r}}function Bvt(){const{gizmos:t,isLoading:e,isError:n}=Fvt();return n?null:o.jsxs("div",{className:"flex flex-col gap-3 pe-1",children:[o.jsx("h3",{className:"mb-1 line-clamp-2 text-sm font-medium",children:o.jsx(N,{id:"/XUia9",defaultMessage:"Trending GPTs"})}),e&&o.jsx(o.Fragment,{children:Array.from({length:3}).map((r,s)=>o.jsx(lP,{},s))}),t.map(r=>o.jsx(Uvt,{gizmo:r},r.gizmo.id))]})}function Uvt({gizmo:t}){var l;const e=q(),n=it(),r=t.gizmo.display.name,s=t.gizmo.display.description,a=(l=t.gizmo.display.profile_picture_url)!=null?l:void 0,i=()=>{const c=Sf(e,t);n(c)};return o.jsx("article",{className:"bg-token-bg-secondary w-full flex-none cursor-pointer rounded-md p-3 shadow-sm",onClick:i,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(a3,{src:a,isFirstParty:!1,className:"h-10 w-10 shrink-0 rounded-md border border-gray-200 dark:border-gray-700"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h3",{className:"mb-0.5 line-clamp-1 text-sm font-medium",children:r}),s&&o.jsx("p",{className:"text-token-text-secondary line-clamp-2 text-xs",children:s})]})]})})}function n0e(){const t=ut({queryKey:["mixed-feed"],queryFn:()=>ue.safeGet("/feed/mixed")}),e=g.useMemo(()=>{var r,s;return((s=(r=t.data)==null?void 0:r.items)!=null?s:[]).filter(a=>a.content_type!=="survey"&&a.content_type!=="card_set"&&a.content_type!=="footer")},[t.data]);return P(C({},t),{items:e})}function rOt(){return o.jsxs("div",{className:"flex w-full justify-center gap-4",children:[o.jsx("div",{className:"bg-token-bg-tertiary max-h-84 w-68 overflow-y-auto rounded-lg p-2",children:o.jsx(Vvt,{})}),o.jsx("div",{className:"bg-token-bg-tertiary max-h-84 w-68 overflow-y-auto rounded-lg p-2",children:o.jsx(Hvt,{})}),o.jsx("div",{className:"bg-token-bg-tertiary max-h-84 w-68 overflow-y-auto rounded-lg p-2",children:o.jsx(Bvt,{})})]})}function Hvt(){const{items:t,isLoading:e,isError:n}=n0e(),r=t.filter(s=>{var a,i;return s.content_type==="card"&&(((a=s.title)==null?void 0:a.toLowerCase().includes("inbox"))||((i=s.title)==null?void 0:i.toLowerCase().includes("calendar")))});return n?null:o.jsxs("div",{className:"flex flex-col gap-3 pe-1",children:[e&&o.jsx(o.Fragment,{children:Array.from({length:4}).map((s,a)=>o.jsx(lP,{},a))}),r.map((s,a)=>o.jsx("div",{children:o.jsx(r0e,{item:s})},"".concat(s.content_type,"-").concat(a)))]})}function Vvt(){const{items:t,isLoading:e,isError:n}=n0e();return n?null:o.jsxs("div",{className:"flex flex-col gap-3 pe-1",children:[e&&o.jsx(o.Fragment,{children:Array.from({length:4}).map((r,s)=>o.jsx(lP,{},s))}),t.map((r,s)=>o.jsx("div",{children:o.jsx(r0e,{item:r})},"".concat(r.content_type,"-").concat(s)))]})}const r0e=({item:t})=>{var r,s;const e=Z(),n=q();switch(t.content_type){case"card":{const a=(r=t.image)==null?void 0:r.url,i=(s=t.image)==null?void 0:s.fallback_url,l=t.title,c=t.preview_markdown_text;return o.jsxs("article",{className:"bg-token-bg-secondary w-full flex-none cursor-pointer rounded-md p-3 shadow-sm",onClick:()=>Dt(n,$vt,{selectedCard:t}),children:[a&&o.jsx("img",{src:a,onError:u=>{i&&u.target.src!==i&&(u.target.src=i)},alt:l!=null?l:e.formatMessage(s0e.newsImageAlt),className:"mb-3 h-32 w-full rounded-md object-cover"}),l&&o.jsx("h3",{className:"mb-1 line-clamp-2 text-sm font-medium",children:l}),c&&o.jsx("p",{className:"text-token-text-secondary line-clamp-3 text-xs",children:c})]})}case"header_with_date":{const a=t.date!=null?new Date(Number(t.date)*1e3):null,i=t.body;return o.jsxs("div",{children:[a&&o.jsx("h3",{className:"mb-0.5 line-clamp-2 text-sm font-medium",children:o.jsx(nM,{value:a,month:"long",day:"numeric"})}),i&&o.jsx("p",{className:"text-token-text-secondary text-xs",children:i})]})}case"commentary":{const a=t.title,i=t.body;return o.jsxs("div",{children:[a&&o.jsx("h3",{className:"mb-1 line-clamp-2 text-sm font-medium",children:a}),i&&o.jsx("p",{className:"text-token-text-secondary line-clamp-3 text-xs",children:i})]})}case"divider":return o.jsx("div",{className:"border-token-border-muted my-1 border-t"});default:return null}},$vt=({onClose:t,selectedCard:e})=>{const n=Z();return o.jsx(tt,{isOpen:!0,onClose:t,testId:"modal-email-activity-card",title:e.title,showCloseButton:!0,size:"large",children:(()=>{var i,l,c,u;const r=(i=e.image)==null?void 0:i.url,s=(l=e.image)==null?void 0:l.fallback_url,a=(c=e.preview_markdown_text)!=null?c:"";return o.jsxs("div",{className:"flex flex-col gap-4",children:[r&&o.jsx("img",{src:r,onError:d=>{s&&d.target.src!==s&&(d.target.src=s)},alt:(u=e.title)!=null?u:n.formatMessage(s0e.newsImageAlt),className:"h-60 w-full rounded-md object-cover"}),a&&o.jsx(ar,{className:"markdown prose dark:prose-invert break-words",children:a})]})})()})},s0e=pe({newsImageAlt:{id:"+EPy7B",defaultMessage:"News image"}});function sOt({clientThreadId:t}){const e=q(),n=cJ(),r=nl(),{connectedTypes:s}=H6(),a=Kr(),i=qo(),{openSettings:l}=_0(),[c,u]=kr(),d=!1,{isLoading:f,anyAccessConnectorEnabled:m}=R5e(),{connectionInstanceData:p,isLoading:h}=FY({skip:!n}),v=f||h,y=g.useMemo(()=>new ype({localStorageKey:et.ConnectorsDismissableBannerUpsell,schedule:{intervalMs:24*60*60*1e3,maxShowsPerInterval:3},termination:{maxShows:9}}),[]),x=g.useMemo(()=>{var j;return(j=p==null?void 0:p.connection_statuses.filter(A=>A.user_connection_details.activation_status==="activated"&&["google_drive_oauth","google_drive_dwd"].includes(A.user_connection_details.knowledge_connector_type)).map(A=>A.user_connection_details.connection_type))!=null?j:[]},[p]),b=g.useMemo(()=>Array.from(s).filter(j=>[vt.GDRIVE_ACTION_CONNECTOR,vt.BOX_CONNECTOR,vt.DROPBOX_CONNECTOR,vt.SHAREPOINT_CONNECTOR].includes(j)),[s]),{systemHints:_}=oc(),w=_==null?void 0:_.some(j=>j.systemHint===we.Slurm),S=!1,{showUseConnectorsToggle:k,showDismissableBanner:M}=g.useMemo(()=>{if(v)return{showUseConnectorsToggle:!1,showDismissableBanner:!1};if(a!=null||d||!w)return{showUseConnectorsToggle:!1,showDismissableBanner:!1};if(m)return b.length===0?{showUseConnectorsToggle:!1,showDismissableBanner:!1}:{showUseConnectorsToggle:ze(e,"1704943789").get("post_connection_connector_button",!1),showDismissableBanner:!1};const j=ze(e,"1704943789").get("onboarding_state","control");return{showUseConnectorsToggle:j==="connectors_button",showDismissableBanner:y.shouldShow()&&j==="dismissable_banner"}},[v,a,d,w,m,e,b,y]);g.useCallback(()=>{},[e,t,i]);const E=()=>{if(a==null)if(m)i(we.Slurm,{analyticsMetadata:{clientThreadId:t}}),Fe(t,j=>{var I,L,O;const A=(L=(I=j.selectedSources)==null?void 0:I.get(we.Slurm))!=null?L:new Set;(O=j.selectedSources)!=null||(j.selectedSources=new Map),j.selectedSources.set(we.Slurm,new Set([...A,...s,...x]))}),Zo(Ht(r)),B.logEventWithStatsig("ChatGPT Connectors Connector Pill Enabled","chatgpt_connectors_connector_pill_enabled",{type:"connectors"});else{const j="#settings/".concat(Dn.Connectors,"?").concat(O5e,"=true");window.location.hash=j}};g.useEffect(()=>{},[S,c,u,e,t,i]);const T=({onClick:j,Icon:A,label:I})=>o.jsx("div",{className:"mx-1.5 mt-11 flex justify-center max-md:hidden",children:o.jsx(oe,{className:"py-2",color:"secondary",onClick:j,size:"medium",children:o.jsx("div",{className:"flex gap-2",children:o.jsxs(o.Fragment,{children:[o.jsx(A,{className:"icon"}),I]})})})});return k?o.jsx(T,{onClick:E,Icon:Wa,label:o.jsx(N,{id:"tJ8dM4",defaultMessage:"Use connectors"})}):M&&y.shouldShow()?(y.recordShown(),o.jsxs("div",{className:"bg-token-main-surface-secondary mt-8 flex w-full items-center gap-2 rounded-xl p-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"border-token-bg-secondary rounded-full border-[1px] bg-white p-1",children:o.jsx(Ir,{className:"icon"})}),o.jsx("div",{className:"border-token-bg-secondary ms-[-8px] rounded-full border-[1px] bg-white p-1",children:o.jsx(ku,{className:"icon"})}),o.jsx("div",{className:"border-token-bg-secondary ms-[-8px] rounded-full border-[1px] bg-white p-1",children:o.jsx(Ul,{className:"icon"})})]}),o.jsx("div",{className:"text-token-text-primary flex flex-1 text-sm",children:o.jsx(N,{id:"UiTg5C",defaultMessage:"Find answers and summarize info across the apps you use at work"})}),o.jsx(oe,{color:"secondary",onClick:()=>{l(Dn.Connectors)},size:"small",children:o.jsx(N,{id:"kbZegD",defaultMessage:"Connect"})}),o.jsx(lr,{className:"icon-sm",onClick:()=>{}})]})):null}function qvt(t){return t!=null&&(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.tagName==="SELECT"||!!t.getAttribute("contenteditable"))}function aOt(t){"use forget";const e=ee.c(3);let n,r;e[0]!==t?(n=()=>{const s=Ht(t).dom.ownerDocument,a=s.defaultView;if(!a)return;const i=l=>{l.code!=="Space"&&(!l.metaKey||l.key==="v")&&!qvt(s.activeElement)&&Zo(Ht(t))};return a.addEventListener("keypress",i),()=>{a.removeEventListener("keypress",i)}},r=[t],e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]),g.useEffect(n,r)}function zvt({currentIndex:t,numEntries:e,onChange:n,onMouseDown:r,onMouseUp:s}){return o.jsx("div",{className:"w-full",children:o.jsxs(Kme,{className:"relative m-2 flex w-full items-center",min:0,max:e,step:1,value:[t],onValueChange:a=>{n(a[0]),r()},onValueCommit:()=>{s()},children:[o.jsx(Yme,{className:"bg-token-text-quaternary relative h-[9px] grow rounded-full",children:o.jsx(Qme,{className:"bg-token-text-primary absolute h-full rounded-full"})}),o.jsx(Jme,{className:"bg-token-bg-primary border-token-bg-secondary block h-[15px] w-[15px] cursor-pointer rounded-full border focus:outline-none"})]})})}function Gvt(t,e){const n=[];if(!e)return n;let r=t.getNodeIfExists(e);for(;r;)n.push(r.message),r=t.getNodeIfExists(r.parentId);return n.reverse()}const Wvt=400,Zvt=4e3,Kvt=3e3,Yvt=2e3;function Qvt(t,e){const n=t.author.name,r=t.recipient;return n!=null&&n.startsWith("browser")||r!=null&&r.startsWith("browser")?Zvt/e:F3(n,724319625)||F3(r,724319625)?Kvt/e:F3(n,3405121681)||F3(r,3405121681)?Yvt/e:Wvt/e}const a0e="inline-block min-h-[unset]",tZ=U(a0e,"p-0 h-fit py-1 px-4");function oOt({clientThreadId:t}){var j;const e=Il.useState(A=>A.finalMessageId),n=Il.useStore(),r=Il.useState(A=>A.isPlaying),s=Il.useState(A=>A.playbackSpeed),a=n.setPlaying,i=n.endReplay,l=g.useRef(!1),c=g.useCallback(A=>{a(A),l.current=A},[a]),u=g.useCallback(()=>{a(!1)},[a]),d=g.useCallback(()=>{a(l.current)},[a]);g.useCallback(()=>{if(!e)throw Error("Missing finalMessageId");Fe(t,A=>{A.currentLeafId=e}),i()},[i,e,t]),g.useEffect(()=>()=>{e&&Fe(t,A=>{A.currentLeafId=e})},[e,t]);const f=Te(t,A=>A==null?void 0:A.tree),m=g.useMemo(()=>f?Gvt(f,e).filter(L=>!(L.author.role==="root"||L.author.role==="system"||L.author.role==="assistant"&&L.recipient!=="all"||L.author.name&&Lo(111655449,L.author.name))):[],[f,e]),p=((j=m==null?void 0:m.length)!=null?j:1)-1,h=q(),v=!Et(h),y=e4({clientThreadId:t,location:"share conversation"}),x=g.useCallback(()=>{c(!1),w(p)},[c,p]),b=g.useMemo(()=>{var V,z,$;const A=m.findLastIndex(D=>D.author.role==Ue.User),I=m[A],L=A===-1?m:m.slice(A),O=L.findLast(D=>{var Y;return D.channel==="final"&&((Y=D.metadata)==null?void 0:Y.n7jupd_summary)})||L.findLast(D=>{var Y;return(Y=D.metadata)==null?void 0:Y.n7jupd_summary}),R=(z=(V=I.metadata)==null?void 0:V.system_hints)!=null?z:[],H=($=O==null?void 0:O.metadata)==null?void 0:$.n7jupd_summary;return H?{systemHints:R,summarizedPrompt:H}:null},[m]),[_,w]=g.useState(1);g.useEffect(()=>{const A=m==null?void 0:m[_].id;A&&Fe(t,I=>{I.currentLeafId=A})},[_,m,t]);const S=p===_;g.useEffect(()=>{S&&c(!1)},[S,c]);const k=n.toggleIsPlaying,M=g.useCallback(()=>{S&&!r&&w(1),k()},[S,r,k]);g.useEffect(()=>{if(!r||_>=p)return;const A=Qvt(m[_],s),I=setTimeout(()=>{w(L=>L+1)},A);return()=>clearTimeout(I)},[r,s,_,m,p]),g.useEffect(()=>(c(!0),()=>c(!1)),[c]);const E=g.useCallback(()=>{c(!0),w(1)},[c]);return o.jsxs("div",{className:"shadow-long bg-token-main-surface-primary flex w-full items-center gap-2 rounded-[20px] p-4",children:[o.jsx(oe,{icon:S?DN:r?QA:qoe,onClick:S?E:M,className:U(a0e,"border-none p-2"),color:"secondary"}),o.jsx("div",{className:"flex flex-1 flex-col items-center justify-center pe-6",children:o.jsx(zvt,{onChange:w,numEntries:p,currentIndex:_,onMouseDown:u,onMouseUp:d})}),o.jsxs("div",{className:"flex max-w-[200px] items-center justify-center",children:[S&&o.jsxs(o.Fragment,{children:[!1,!v&&!!b&&o.jsx(oe,{icon:bc,onClick:()=>y({prompt:b.summarizedPrompt,systemHints:b.systemHints}),className:tZ,children:o.jsx("span",{className:"truncate",children:o.jsx(N,{id:"if6xD7",defaultMessage:"Try this prompt"})})})]}),!S&&o.jsx(o.Fragment,{children:o.jsx(oe,{icon:kpe,onClick:x,className:tZ,color:"secondary",children:o.jsx(N,{id:"Cxho9p",defaultMessage:"Skip"})})})]})]})}const iOt=t=>{"use forget";const e=ee.c(22),{clientThreadId:n,bottom:r,pinnedWidgetType:s,onClick:a}=t;let i;e[0]!==n?(i=()=>se.getBranch(st(n)),e[0]=n,e[1]=i):i=e[1];const[l]=g.useState(i);let c;e[2]!==l||e[3]!==s?(c=b=>{var _,w,S;return[(S=(w=(_=se.getBranch(b))==null?void 0:_.slice(l.length).findLast(k=>{const{message:M}=k,{metadata:E}=M;return(E==null?void 0:E.chatgpt_sdk)&&$4(E.chatgpt_sdk)===s}))==null?void 0:w.message.metadata)==null?void 0:S.tool_invoking_message]},e[2]=l,e[3]=s,e[4]=c):c=e[4];const[u]=Te(n,c);let d;e[5]!==r?(d={bottom:r},e[5]=r,e[6]=d):d=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f={viewTransitionName:"var(--vt-composer)"},e[7]=f):f=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m=o.jsx(Ru,{sizeOverride:28,className:"text-token-border-default ms-2 flex-shrink-0 animate-spin",thickness:.08333333333333333,backgroundStrokeClassName:U("stroke-[rgba(0,0,0,0)]"),percentage:33.333333333333336}),e[8]=m):m=e[8];let p;e[9]!==u?(p=u!=null?u:o.jsx(N,{id:"z6ez+H",defaultMessage:"Thinking"}),e[9]=u,e[10]=p):p=e[10];let h;e[11]!==p?(h=o.jsx("span",{className:"loading-shimmer px-20",children:p}),e[11]=p,e[12]=h):h=e[12];let v;e[13]!==n?(v=o.jsx(oe,{icon:a4,size:"medium",className:"aspect-square p-0",onClick:b=>{b.stopPropagation(),BE(n)}}),e[13]=n,e[14]=v):v=e[14];let y;e[15]!==a||e[16]!==h||e[17]!==v?(y=o.jsx("div",{className:"mx-12 min-w-fit",style:f,children:o.jsxs("div",{role:"button",onClick:a,className:"bg-token-bg-primary shadow-short mx-auto flex h-12 w-fit items-center justify-between gap-2 rounded-full px-1.5",children:[m,h,v]})}),e[15]=a,e[16]=h,e[17]=v,e[18]=y):y=e[18];let x;return e[19]!==d||e[20]!==y?(x=o.jsx(m1,{className:"fixed start-0 end-0 bottom-0 z-[100] py-1",style:d,children:y}),e[19]=d,e[20]=y,e[21]=x):x=e[21],x},Jvt="_main_vose0_1",lOt={main:Jvt};function Xvt(t){return t.nodeType===Node.ELEMENT_NODE}function o0e(t){var e;if(Xvt(t)){if(["THEAD","TR","TD","TH"].includes(t.nodeName.toUpperCase())){let n=t.parentNode;for(;n&&n.nodeName!=="TABLE";)n=n.parentNode;if(!n){$n.debug("Found table element without a parent <table>");const r=document.createElement("table");(e=t.parentNode)==null||e.insertBefore(r,t),r.appendChild(t)}}t.attributes&&[...t.attributes].forEach(n=>{["style"].includes(n.name)&&t.removeAttribute(n.name)})}t.childNodes.forEach(o0e)}function eyt(t){t.childNodes.forEach(o0e)}function tyt(t){const e=t.currentTarget.ownerDocument,n=e.defaultView;t.preventDefault();const r=n==null?void 0:n.getSelection();if(r&&r.rangeCount>0){const a=r.getRangeAt(0).cloneContents();eyt(a),a.querySelectorAll("script, [class*='select-none']").forEach(u=>{u.remove()});const i=e.createElement("div");i.appendChild(a),e.body.appendChild(i);const l=i.innerHTML,c=i.innerText;e.body.removeChild(i),t.clipboardData.setData("text/html",l),t.clipboardData.setData("text/plain",c)}}const cOt=t=>{const e=q(),n=Er();return g.useCallback(r=>{var c,u;tyt(r);const{currentTarget:s}=r,a=(c=s.closest("[data-message-id]"))==null?void 0:c.getAttribute("data-message-id"),i=(u=document.getSelection())==null?void 0:u.toString(),l=kt(t);!a||!i||!l||n||T4(e,{source:"keyboard",type:"copy",messageId:a,serverThreadId:l,selectedText:i,location:"selection",contentType:"text"})},[e,t,n])},i0e=g.createContext(!1);function uOt(){return g.useContext(i0e)}function dOt({children:t}){return o.jsx(i0e.Provider,{value:!0,children:t})}const fOt=()=>o.jsx("div",{className:"pointer-events-none absolute inset-x-0 bottom-0 -z-10 h-24",children:o.jsx(m1,{children:o.jsx("div",{className:"relative -mx-8 h-24 [mask-image:linear-gradient(to_right,transparent_0%,black_20%,black_80%,transparent_100%),linear-gradient(to_top,black_0%,black_75%,transparent_100%)] [mask-composite:intersect] backdrop-blur-2xl [-webkit-mask-composite:source-in] [-webkit-mask-image:linear-gradient(to_right,transparent_0%,black_20%,black_80%,transparent_100%),linear-gradient(to_top,black_0%,black_75%,transparent_100%)]"})})});var IK;const nZ=Ge.div(IK||(IK=qe(["m-8 flex flex-col items-center"])));function rZ(t){return o.jsx(Se.div,C({initial:{opacity:0,translateY:20},animate:{opacity:1,translateY:0,transition:{duration:.5,ease:"easeIn"}}},t))}function mOt({clientThreadId:t}){const e=Te(t,s=>s==null?void 0:s.promptGptRating),n=e==null?void 0:e.gizmoId,{data:r}=Ya(n);return n==null||r==null||!rQ(r)?null:o.jsx(nyt,{gizmoId:n})}function nyt({gizmoId:t}){const[e,n]=g.useState(!1),[r,s]=g.useState(!1),a=JY(t),i=async c=>{n(!0),setTimeout(()=>{s(!0)},5e3),B.logEvent("Submit Inline Rating",{gizmo_id:t,rating:c}),await a.mutateAsync({rating:c})},l=async()=>{s(!0),B.logEvent("Dismiss Inline Rating",{gizmo_id:t}),await a.mutateAsync({})};return g.useEffect(()=>{r||B.logEvent("Show Inline Rating",{gizmo_id:t})},[r,t]),r?null:e?o.jsx(nZ,{children:o.jsxs(rZ,{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"border-token-border-heavy rounded-lg border p-4",children:o.jsxs("div",{className:"flex justify-between gap-2",children:[o.jsx(N,{id:"gizmo.inlineReview.reviewLeft",defaultMessage:"Feedback sent"}),o.jsx(gn,{onClick:()=>{s(!0)}})]})}),o.jsx("div",{className:"text-token-text-tertiary text-xs",children:o.jsx(N,{id:"gizmo.inlineReview.reviewLeftSubtext",defaultMessage:'To update your rating, click "Send Feedback" in the GPT Menu'})})]})}):o.jsx(nZ,{children:o.jsxs(rZ,{className:"border-token-border-heavy flex flex-col items-center gap-4 rounded-lg border p-4",children:[o.jsxs("div",{className:"flex justify-between gap-2",children:[o.jsx(N,{id:"gizmo.inlineReview.prompt",defaultMessage:"How would you rate this GPT so far?"}),o.jsx(gn,{onClick:l})]}),o.jsx(Wae,{rating:void 0,onRating:i})]})})}const l0e=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},t),g.createElement("path",{d:"M8.49951 4.50012C8.49951 3.67272 9.1702 3.00225 9.99756 3.00208C10.8251 3.00208 11.4966 3.67262 11.4966 4.50012C11.4966 5.32763 10.8251 5.99817 9.99756 5.99817C9.1702 5.99799 8.49951 5.32752 8.49951 4.50012Z"}),g.createElement("path",{d:"M8.49951 15.5001C8.49951 14.6727 9.1702 14.0013 9.99756 14.0011C10.8251 14.0011 11.4966 14.6726 11.4966 15.5001C11.4964 16.3275 10.825 16.9982 9.99756 16.9982C9.17031 16.998 8.49969 16.3274 8.49951 15.5001Z"}),g.createElement("path",{d:"M8.49951 9.99783C8.49969 9.17059 9.17031 8.49996 9.99756 8.49979C10.825 8.49979 11.4964 9.17048 11.4966 9.99783C11.4966 10.8253 10.8251 11.4969 9.99756 11.4969C9.1702 11.4967 8.49951 10.8252 8.49951 9.99783Z"})),pOt=Object.freeze(Object.defineProperty({__proto__:null,default:l0e},Symbol.toStringTag,{value:"Module"})),ryt=t=>Array.isArray(t)?t.map(e=>typeof e=="object"&&e!=null?{name:String(e.name),url:String(e.url)}:null).filter(Boolean):[];function gOt(){var l;const t=q(),e=Z(),[n,r]=g.useState(ryt((l=Ft.getItem(et.ShortcutLinks))!=null?l:[])),s=c=>{r(c),Ft.setItem(et.ShortcutLinks,c)},a=c=>{Dt(t,aZ,{title:e.formatMessage(Ei.editShortcut),defaultName:n[c].name,defaultUrl:n[c].url,onSave:(u,d)=>{s(n.map((f,m)=>m===c?{name:u,url:d}:f))}})},i=c=>{s(n.filter((u,d)=>d!==c))};return o.jsx("div",{className:"text-center",children:o.jsxs("div",{className:"flex flex-wrap justify-center",children:[n.map((c,u)=>o.jsx(sZ,{onClick:()=>window.location.href=c.url,img:o.jsx("img",{src:"https://www.google.com/s2/favicons?domain=".concat(c.url,"&sz=64"),alt:c.name,className:"h-6 w-6"}),name:c.name,showMenu:!0,onEdit:()=>a(u),onRemove:()=>i(u)},c.name)),o.jsxs("div",{className:"relative",children:[o.jsx(sZ,{onClick:()=>Dt(t,aZ,{title:e.formatMessage(Ei.addShortcut),onSave:(c,u)=>{s([...n,{name:c,url:u}])}}),img:o.jsx(vc,{className:"h-6 w-6"}),name:e.formatMessage(Ei.addShortcut)}),o.jsx("div",{className:"absolute! end-0 top-0 translate-x-full rtl:-translate-x-full",children:o.jsx(syt,{})})]})]})})}const syt=()=>o.jsx(z4,{triggerIcon:Hs,side:"right",sideOffset:4,children:o.jsxs("div",{className:"text-sm",children:[o.jsx(N,{id:"RUf4sV",tagName:"p",defaultMessage:"You can revert to chrome original by:"}),o.jsx(Xk,{content:t0e})]})}),sZ=({onClick:t,img:e,name:n,showMenu:r,onEdit:s,onRemove:a})=>{const i=Z();return o.jsxs(oe,{color:"ghost",className:"group relative rounded-sm",onClick:t,children:[r&&s&&a&&o.jsxs(J.Root,{children:[o.jsx(J.Trigger,{asChild:!0,onClick:l=>{l.stopPropagation()},children:o.jsx(ayt,{})}),o.jsx(J.Portal,{children:o.jsxs(J.Content,{size:"auto",children:[o.jsx(J.Item,{onClick:l=>{l.stopPropagation(),s()},label:i.formatMessage(Ei.edit)}),o.jsx(J.Item,{onClick:l=>{l.stopPropagation(),a()},label:i.formatMessage(Ei.remove)})]})})]}),o.jsxs("div",{className:"flex flex-col items-center gap-3 py-3",children:[o.jsx("div",{className:"bg-token-bg-secondary mx-3 rounded-full p-3",children:e}),o.jsx("span",{className:"text-xs text-gray-700",children:n})]})]})},ayt=n=>{var r=n,{ref:t}=r,e=de(r,["ref"]);return o.jsx(oe,P(C({ref:t},e),{as:"button",onClick:s=>{var a;return(a=e.onClick)==null?void 0:a.call(e,s)},icon:l0e,color:"ghost",className:"absolute! end-0 top-0 opacity-0 transition-opacity group-hover:opacity-100",size:"small"}))},aZ=({title:t,defaultName:e,defaultUrl:n,onClose:r,onSave:s})=>{const a=Z(),[i,l]=g.useState(e!=null?e:""),[c,u]=g.useState(n!=null?n:""),d=()=>{s(i,c),r()};return o.jsxs(tt,{isOpen:!0,onClose:r,testId:"modal-add-shortcut",primaryButton:o.jsx(oe,{disabled:!i||!c,onClick:d,children:a.formatMessage(Ei.done)}),secondaryButton:o.jsx(oe,{onClick:r,color:"secondary",children:a.formatMessage(Ei.cancel)}),children:[o.jsx("h2",{className:"mb-4 text-lg font-medium",children:t}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-token-text-secondary block text-sm",children:a.formatMessage(Ei.name)}),o.jsx(Bi,{value:i,onChange:f=>l(f.target.value),name:"shortcutName",ariaLabel:"shortcutName"})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("label",{className:"text-token-text-secondary block text-sm",children:a.formatMessage(Ei.url)}),o.jsx(Bi,{value:c,onChange:f=>u(f.target.value),name:"url",ariaLabel:"URL"})]})]})]})},Ei=pe({addShortcut:{id:"TK0jxS",defaultMessage:"Add shortcut"},editShortcut:{id:"OLI43T",defaultMessage:"Edit shortcut"},name:{id:"kbJjZB",defaultMessage:"Name"},url:{id:"uMWdr7",defaultMessage:"URL"},done:{id:"hJ/G0Q",defaultMessage:"Done"},cancel:{id:"+64+eE",defaultMessage:"Cancel"},edit:{id:"PUtE2c",defaultMessage:"Edit"},remove:{id:"lCYLCS",defaultMessage:"Remove"}}),c0e=t=>g.createElement("svg",C({width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":""},t),g.createElement("path",{d:"M15.002 15.8337V4.16669C15.002 3.79942 15.2997 3.50165 15.667 3.50165C16.0341 3.50178 16.332 3.7995 16.332 4.16669V15.8337C16.3319 16.2007 16.034 16.4986 15.667 16.4987C15.2998 16.4987 15.0021 16.2008 15.002 15.8337ZM7.03027 5.36298C7.25758 5.13592 7.60817 5.10749 7.86621 5.27802L7.9707 5.36298L12.1367 9.52997C12.3964 9.78967 12.3964 10.2107 12.1367 10.4704L7.9707 14.6364L7.86621 14.7224C7.60809 14.8928 7.25752 14.8637 7.03027 14.6364C6.7706 14.3767 6.77058 13.9557 7.03027 13.696L10.0615 10.6647H3C2.63273 10.6647 2.33496 10.367 2.33496 9.99969C2.33513 9.63257 2.63283 9.33466 3 9.33466H10.0605L7.03027 6.30341L6.94434 6.19891C6.77417 5.94083 6.80314 5.59011 7.03027 5.36298Z"})),hOt=Object.freeze(Object.defineProperty({__proto__:null,default:c0e},Symbol.toStringTag,{value:"Module"}));function oZ(t){"use forget";const e=ee.c(31),{activeId:n,hideOverflowMenu:r,onSelect:s}=t,{conversations:a,hasNextPage:i,fetchNextPage:l,isLoading:c,isFetchingNextPage:u,refetch:d}=S5();let f,m;e[0]!==d?(f=()=>{d()},m=[d],e[0]=d,e[1]=f,e[2]=m):(f=e[1],m=e[2]),g.useEffect(f,m);let p;e[3]!==l||e[4]!==i?(p=M=>{if(M==null)return;const E=new IntersectionObserver(T=>{T[0].isIntersecting&&i&&l()});return E.observe(M),()=>{E.disconnect()}},e[3]=l,e[4]=i,e[5]=p):p=e[5];const h=p;let v,y;if(e[6]!==n||e[7]!==a){let M;e[9]!==n?(M=E=>E.id!==n,e[9]=n,e[10]=M):M=e[10],y=a.filter(M),e[6]=n,e[7]=a,e[8]=y}else y=e[8];v=y;const x=v;let b;e[11]!==h||e[12]!==c?(b=c?oyt:h,e[11]=h,e[12]=c,e[13]=b):b=e[13];let _;e[14]!==n||e[15]!==i||e[16]!==r||e[17]!==x||e[18]!==s||e[19]!==b?(_=o.jsx(lfe,{activeId:n,hasNextPage:i,items:x,infiniteScrollTriggerElementRef:b,hideOverflowMenu:r,onSelect:s}),e[14]=n,e[15]=i,e[16]=r,e[17]=x,e[18]=s,e[19]=b,e[20]=_):_=e[20];let w;e[21]!==c||e[22]!==x.length?(w=x.length===0&&!c&&o.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:o.jsx(N,C({},iyt.noConversations))}),e[21]=c,e[22]=x.length,e[23]=w):w=e[23];let S;e[24]!==u||e[25]!==c?(S=(c||u)&&o.jsxs("div",{children:[o.jsx(Vl,{}),o.jsx(Vl,{}),o.jsx(Vl,{})]}),e[24]=u,e[25]=c,e[26]=S):S=e[26];let k;return e[27]!==_||e[28]!==w||e[29]!==S?(k=o.jsxs(o.Fragment,{children:[_,w,S]}),e[27]=_,e[28]=w,e[29]=S,e[30]=k):k=e[30],k}function oyt(){}const iyt=pe({noConversations:{id:"SidebarHistory.noConversations",defaultMessage:"No previous chats"}});function lyt(t){"use forget";const e=ee.c(19),{clientThreadId:n,onClose:r}=t,s=q(),a=kn(n),i=pJ();let l;e[0]!==s?(l=Et(s),e[0]=s,e[1]=l):l=e[1];const c=l;let u;e[2]!==i?(u=()=>{i==null||i.openInNewTab()},e[2]=i,e[3]=u):u=e[3];const d=u,f=Hce(),[m,p]=g.useState(!1);let h;e[4]!==s||e[5]!==d||e[6]!==c||e[7]!==m||e[8]!==f||e[9]!==r||e[10]!==a?(h=!m&&o.jsxs(o.Fragment,{children:[c&&!f&&o.jsxs(o.Fragment,{children:[o.jsxs(J.Sub,{children:[o.jsx(J.SubMenuTrigger,{fillContainer:!0,children:o.jsx(N,C({},O1.switchChat))}),o.jsx(J.Portal,{children:o.jsx(J.SubContent,{"data-desktop-skip-link-handler":!0,className:"max-h-[50dvh] w-72 overflow-y-auto",children:o.jsx(oZ,{activeId:a,hideOverflowMenu:!0,onSelect:r})})})]}),o.jsx(J.Separator,{})]}),c&&f&&o.jsxs(o.Fragment,{children:[o.jsx(J.Sub,{children:o.jsx(J.SubMenuTrigger,{onClick:x=>{x.preventDefault(),p(!0)},fillContainer:!0,children:o.jsx(N,C({},O1.switchChat))})}),o.jsx(J.Separator,{})]}),o.jsx(J.Item,{icon:I0,onClick:()=>{_t.wantsNewConversation$.set(!0),_t.selectedConversationId$.set(void 0),r()},fillContainer:!0,children:o.jsx(N,C({},O1.newChat))}),a&&o.jsxs(o.Fragment,{children:[o.jsx(J.Item,{icon:ba,onClick:d,fillContainer:!0,children:o.jsx(N,C({},O1.openChatInTab))}),o.jsx(J.Item,{icon:_c,color:"danger",onClick:()=>{a&&(Dt(s,Vj,{serverThreadId:a,isActiveConversation:!0}),r())},fillContainer:!0,children:o.jsx(N,C({},O1.deleteChat))})]}),!1]}),e[4]=s,e[5]=d,e[6]=c,e[7]=m,e[8]=f,e[9]=r,e[10]=a,e[11]=h):h=e[11];let v;e[12]!==m||e[13]!==r||e[14]!==a?(v=m&&o.jsxs(o.Fragment,{children:[o.jsx(J.Item,{icon:o.jsx(p1,{className:"h-4 w-4"}),color:"default",className:"mb-1 ps-1",onClick:x=>{x.preventDefault(),p(!1)},fillContainer:!0,children:o.jsx(N,C({},O1.back))}),o.jsx(J.Separator,{}),o.jsx(J.Group,{"data-desktop-skip-link-handler":!0,className:"-mb-1.5 max-h-[50dvh] w-70 overflow-y-auto pb-1.5",separator:!1,children:o.jsx(oZ,{activeId:a,hideOverflowMenu:!0,onSelect:r})})]}),e[12]=m,e[13]=r,e[14]=a,e[15]=v):v=e[15];let y;return e[16]!==h||e[17]!==v?(y=o.jsxs(o.Fragment,{children:[h,v]}),e[16]=h,e[17]=v,e[18]=y):y=e[18],y}const O1=pe({switchChat:{id:"SidebarHeader.switchChat",defaultMessage:"Switch Chat"},newChat:{id:"SidebarHeader.newChat",defaultMessage:"New Chat"},openChatInTab:{id:"SidebarHeader.openChatInTab",defaultMessage:"Open Chat in Tab"},deleteChat:{id:"SidebarHeader.deleteChat",defaultMessage:"Delete Chat"},openFeedbackModal:{id:"SidebarHeader.openFeedbackModal",defaultMessage:"Share Feedback"},back:{id:"SidebarHeader.back",defaultMessage:"Back"}});var LK;const iZ=Ge.button(LK||(LK=qe(["\n  hover:bg-token-interactive-bg-secondary-hover\n  focus-visible:bg-token-interactive-bg-secondary-hover\n  radix-state-open:bg-token-interactive-bg-secondary-hover\n  flex h-[34px] w-[34px] items-center justify-center rounded-[8px]\n  focus-visible:outline-0\n"])));function vOt(t){"use forget";const e=ee.c(24),{clientThreadId:n}=t,r=q(),s=Z(),[a,i]=g.useState(!1),l=pJ();let c;e[0]!==r?(c=dJ(r),e[0]=r,e[1]=c):c=e[1];const u=c;let d;e[2]!==l?(d=()=>{l==null||l.becomeMainPage()},e[2]=l,e[3]=d):d=e[3];const f=d;let m;e[4]!==f||e[5]!==s||e[6]!==u?(m=u&&o.jsx(wt,{triggerAs:null,label:o.jsx(N,C({},X2.expandSidebar)),children:o.jsx(iZ,{"aria-label":s.formatMessage(X2.expandSidebar),onClick:f,children:o.jsx(c0e,{className:"icon -scale-x-100"})})}),e[4]=f,e[5]=s,e[6]=u,e[7]=m):m=e[7];let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=o.jsx(N,C({},X2.openChatMenu)),e[8]=p):p=e[8];let h;e[9]!==s?(h=s.formatMessage(X2.openChatMenu),e[9]=s,e[10]=h):h=e[10];let v;e[11]===Symbol.for("react.memo_cache_sentinel")?(v=o.jsx($oe,{className:"icon -scale-x-100"}),e[11]=v):v=e[11];let y;e[12]!==h?(y=o.jsx(wt,{triggerAs:null,label:p,children:o.jsx(J.BasicTrigger,{asChild:!0,children:o.jsx(iZ,{"aria-label":h,children:v})})}),e[12]=h,e[13]=y):y=e[13];let x;e[14]===Symbol.for("react.memo_cache_sentinel")?(x=()=>i(!1),e[14]=x):x=e[14];let b;e[15]!==n?(b=o.jsx(J.Portal,{children:o.jsx(J.Content,{children:o.jsx(lyt,{clientThreadId:n,onClose:x})})}),e[15]=n,e[16]=b):b=e[16];let _;e[17]!==a||e[18]!==y||e[19]!==b?(_=o.jsx("div",{className:"ms-auto",children:o.jsxs(J.Root,{open:a,onOpenChange:i,children:[y,b]})}),e[17]=a,e[18]=y,e[19]=b,e[20]=_):_=e[20];let w;return e[21]!==_||e[22]!==m?(w=o.jsxs("div",{className:"flex w-full items-center justify-between",children:[m,_]}),e[21]=_,e[22]=m,e[23]=w):w=e[23],w}const X2=pe({expandSidebar:{id:"SidebarHeader.expandSidebar",defaultMessage:"Back to ChatGPT"},openChatMenu:{id:"SidebarHeader.openChatMenu",defaultMessage:"Open chat menu"}}),u0e=We.TemporaryChatOnboarding;function yOt(){const t=Er(),{eligible:e}=$e(u0e);return e&&t}function Hm({icon:t,title:e,description:n}){return o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"mt-1 h-5 w-5 shrink-0",children:t}),o.jsxs("div",{className:"ms-4",children:[o.jsx("div",{className:"text-lg font-semibold",children:e}),o.jsx("p",{className:"text-token-text-secondary mt-1 text-sm",children:n})]})]})}function xOt({onClose:t}){const[e,n]=g.useState(!0),r=q(),s=yt(r),a=Z(),{markAsViewed:i}=$e(u0e),l=Af(),c=g.useCallback(()=>{i(),n(!1),t==null||t()},[i,t]);return s!=null&&s.isWorkspaceAccount()?o.jsx(tt,{testId:"modal-temporary-chat-onboarding",isOpen:e,onClose:_n,size:"custom",className:"max-w-xl",type:"success",title:a.formatMessage(Nr.title),primaryButton:o.jsx(yn.Button,{onClick:c,title:a.formatMessage(Nr.continue),color:"primary"}),children:o.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[o.jsx(Hm,{icon:o.jsx(Lu,{className:"h-full w-full"}),title:a.formatMessage(Nr.bulletTitle1),description:a.formatMessage({id:"nSGhxr",defaultMessage:"Temporary chats won't appear in your history."})}),o.jsx(Hm,{icon:l?o.jsx(is,{className:"h-full w-full"}):o.jsx($S,{className:"h-full w-full"}),title:a.formatMessage(l?Nr.bulletTitle2MemoryAvailable:Nr.bulletTitle2MemoryUnavailable),description:a.formatMessage(l?Nr.bulletDescription2MemoryAvailable:Nr.bulletDescription2MemoryUnavailable)})]})}):o.jsx(tt,{testId:"modal-temporary-chat-onboarding",isOpen:e,onClose:_n,size:"custom",className:"max-w-xl",type:"success",title:a.formatMessage(Nr.title),primaryButton:o.jsx(yn.Button,{onClick:c,title:a.formatMessage(Nr.continue),color:"primary"}),children:o.jsxs("div",{className:"mb-6 flex flex-col gap-3",children:[o.jsx(Hm,{icon:o.jsx(Lu,{className:"h-full w-full"}),title:a.formatMessage(Nr.bulletTitle1),description:a.formatMessage(Nr.bulletDescription1)}),o.jsx(Hm,{icon:o.jsx(D5e,{className:"h-full w-full"}),title:a.formatMessage(Nr.bulletTitle3),description:a.formatMessage(Nr.bulletDescription3)}),o.jsx(Hm,{icon:l?o.jsx(is,{className:"h-full w-full"}):o.jsx($S,{className:"h-full w-full"}),title:a.formatMessage(l?Nr.bulletTitle2MemoryAvailable:Nr.bulletTitle2MemoryUnavailable),description:a.formatMessage(l?Nr.bulletDescription2MemoryAvailable:Nr.bulletDescription2MemoryUnavailable)})]})})}const Nr=pe({title:{id:"TemporaryChatOnboardingModal.title",defaultMessage:"Temporary Chat"},bulletTitle1:{Icon:o.jsx(Lu,{className:"h-full w-full"}),id:"TemporaryChatOnboardingModal.bulletTitle1",defaultMessage:"Not in history"},bulletDescription1:{id:"TemporaryChatOnboardingModal.bulletDescription1.1",defaultMessage:"Temporary chats won't appear in your history. For safety purposes, we may keep a copy of your chat for up to 30 days."},bulletTitle2MemoryAvailable:{id:"TemporaryChatOnboardingModal.bulletTitle2MemoryAvailable",defaultMessage:"Memory off"},bulletDescription2MemoryAvailable:{id:"rmWwWN",defaultMessage:"While in a temporary chat, ChatGPT won't use or update its memory. Custom instructions will still be followed if you have them enabled."},bulletTitle2MemoryUnavailable:{id:"TemporaryChatOnboardingModal.bulletTitle2MemoryUnavailable",defaultMessage:"Follows Custom Instructions"},bulletDescription2MemoryUnavailable:{id:"TemporaryChatOnboardingModal.bulletDescription2MemoryUnavailable",defaultMessage:"Custom Instructions will still be followed if you have them enabled."},bulletTitle3:{id:"TemporaryChatOnboardingModal.bulletTitle3",defaultMessage:"No model training"},bulletDescription3:{id:"TemporaryChatOnboardingModal.bulletDescription3",defaultMessage:"Temporary chats won't be used to improve our models."},continue:{id:"TemporaryChatOnboardingModal.continue",defaultMessage:"Continue"}});function bOt({isSharedConversation:t,clientThreadId:e}){const n=q(),r=ie(n,"2287071194"),s=g.useRef(!1),{clearAllSystemHintModeTriggers:a,setThreadSystemHintMode:i}=Qo(),c=Te(e,d=>se.getLastMessageSystemHints(d)).includes(we.Tatertot),u=r&&t&&fM(n)&&c;g.useEffect(()=>{!u||s.current||(a(),i(we.Tatertot,!0,{clientThreadId:e}),s.current=!0)},[u,s,e,a,i,c])}const COt=()=>{"use forget";var E;const t=ee.c(29),e=q(),n=Z();let r;t[0]!==e?(r=_3(e),t[0]=e,t[1]=r):r=t[1];const{loadingSkeletonState$:s,miniHeaderState$:a}=r;let i;t[2]!==s?(i=()=>s(),t[2]=s,t[3]=i):i=t[3];const l=at(i);let c;t[4]!==a?(c=()=>a(),t[4]=a,t[5]=c):c=t[5];const u=at(c);let d;e:{let T;t[6]!==n?(T=n.formatMessage({id:"GwO0es",defaultMessage:"Getting started"}),t[6]=n,t[7]=T):T=t[7];const j=T;switch(u.type){case"initial":{d=j;break e}case"thinking":{let A;t[8]!==n?(A=n.formatMessage({id:"rU0No+",defaultMessage:"Thinking"}),t[8]=n,t[9]=A):A=t[9],d=A;break e}case"text":{d=u.text;break e}case"title":{d=(E=u.title)!=null?E:j;break e}case"none":{d=null;break e}}d=void 0}const f=d,m=f!=null?f:"",p=u.type==="title"&&u.title?1:0;let h;t[10]!==m||t[11]!==p?(h={text:m,textType:p},t[10]=m,t[11]=p,t[12]=h):h=t[12];const v=cyt(h),[y,x]=g.useState(!1);let b;t[13]!==u.title||t[14]!==u.type||t[15]!==v?(b=()=>{v||x(u.type==="title"&&!!u.title)},t[13]=u.title,t[14]=u.type,t[15]=v,t[16]=b):b=t[16];let _;t[17]!==u||t[18]!==v?(_=[u,v],t[17]=u,t[18]=v,t[19]=_):_=t[19],g.useEffect(b,_);const w=l==="header";if(!f&&!w)return null;let S;t[20]!==v||t[21]!==f||t[22]!==y?(S=f&&o.jsx("div",{className:U("flex","h-[30px]",y?"items-start text-xl leading-tight font-semibold":"text-token-text-primary items-center text-base",!y&&"loading-shimmer pt-[4px]"),children:v}),t[20]=v,t[21]=f,t[22]=y,t[23]=S):S=t[23];let k;t[24]!==w?(k=w&&o.jsx(Epe,{className:"mt-4"}),t[24]=w,t[25]=k):k=t[25];let M;return t[26]!==k||t[27]!==S?(M=o.jsx(sfe,{horizontalPadding:"standard",verticalPadding:"none",children:o.jsxs(m1,{children:[S,k]})}),t[26]=k,t[27]=S,t[28]=M):M=t[28],M};function cyt(t){"use forget";const e=ee.c(10),{text:n,textType:r}=t,[s,a]=g.useState(""),[i,l]=g.useState(r),[c,u]=g.useState("idle"),d=g.useRef("");let f,m;e[0]!==n?(f=()=>{n!==d.current&&u("deleting")},m=[n],e[0]=n,e[1]=f,e[2]=m):(f=e[1],m=e[2]),g.useEffect(f,m);let p;e:{if(i===0){p=0;break e}let x=0;for(;x<s.length&&x<n.length&&s[x]===n[x];)x++;p=x}const h=p;let v,y;return e[3]!==h||e[4]!==s.length||e[5]!==c||e[6]!==n||e[7]!==r?(v=()=>{let x;return c==="deleting"&&(s.length>h?x=setTimeout(()=>{a(uyt)},20):(d.current=n,l(r),u("typing"))),c==="typing"&&(s.length<n.length?x=setTimeout(()=>{a(n.slice(0,s.length+1))},20):u("idle")),()=>{clearTimeout(x)}},y=[s.length,c,n,h,r],e[3]=h,e[4]=s.length,e[5]=c,e[6]=n,e[7]=r,e[8]=v,e[9]=y):(v=e[8],y=e[9]),g.useEffect(v,y),s}function uyt(t){return t.slice(0,-1)}const dyt="webrtc-cert-db",fyt=1,mf="certs",lZ="ecdsa-p256:v1",myt={name:"ECDSA",namedCurve:"P-256",expires:365*24*60*60*1e3};function pyt(){return new Promise((t,e)=>{const n=indexedDB.open(dyt,fyt);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(mf)||r.createObjectStore(mf)},n.onsuccess=()=>t(n.result),n.onerror=()=>e(n.error)})}function gyt(t,e){return new Promise((n,r)=>{const a=t.transaction(mf,"readonly").objectStore(mf).get(e);a.onsuccess=()=>n(a.result),a.onerror=()=>r(a.error)})}function hyt(t,e,n){return new Promise((r,s)=>{const i=t.transaction(mf,"readwrite").objectStore(mf).put(n,e);i.onsuccess=()=>r(),i.onerror=()=>s(i.error)})}function d0e(t){const e=Date.now();return t.expires<=e}async function vyt(){try{"storage"in navigator&&"persist"in navigator.storage&&await navigator.storage.persist()}catch(t){Gt.certificateLocalDb.saveFailed(t)}}async function cZ(t){const e=await RTCPeerConnection.generateCertificate(t);return Gt.certificateLocalDb.generated(),e}async function yyt(t={}){const{generationParams:e=myt,disablePersistence:n=!1}=t;if(!n&&"indexedDB"in window)try{await vyt();const r=await pyt(),s=await gyt(r,lZ);if(s&&!d0e(s))return Gt.certificateLocalDb.hit(),s;const a=await cZ(e);return hyt(r,lZ,a).catch(i=>{Gt.certificateLocalDb.saveFailed(i)}),a}catch(r){Gt.certificateLocalDb.loadFailed(r)}return cZ(e)}let sp,pi;const d6=nt(!0),_Ot=()=>{const t=q(),e=g.useRef(!1),n=g.useRef(!1),r=Et(t),s=at(d6),a=ie(t,"1863841549"),i=ie(t,"2777663391");return g.useEffect(()=>{r&&(a&&!e.current&&pi===void 0?(e.current=!0,yyt({generationParams:{name:"ECDSA",namedCurve:"P-256"}}).then(l=>{pi=l}).catch(l=>{n.current||(n.current=!0,Gt.certificateCache.unsupported(l))}).finally(()=>{e.current=!1})):a||Gt.certificateCache.disabled())},[a,r]),g.useEffect(()=>{if(r&&i&&s)try{sp=f0e.createPeerConnection("cache"),d6.set(!1)}catch(l){Gt.peerConnectionCache.unsupported(l)}},[i,s,r]),null};function xyt(t){return!(!t||t.signalingState==="closed"||t.connectionState!=="new"||t.iceConnectionState!=="new")}const f0e={createPeerConnection:t=>(pi&&d0e(pi)&&(Gt.certificateCache.expired({expires:pi.expires}),pi=void 0),pi===void 0?(Gt.certificateCache.miss({reason:t}),new RTCPeerConnection({bundlePolicy:"max-bundle"})):(Gt.certificateCache.hit({reason:t}),new RTCPeerConnection({bundlePolicy:"max-bundle",certificates:[pi]}))),getFreshPeerConnection:t=>{try{return xyt(sp)?(Gt.peerConnectionCache.hit(),sp):(Gt.peerConnectionCache.miss(),f0e.createPeerConnection(t))}finally{d6.set(!0),sp=void 0}},resetAll:()=>{sp=void 0,pi=void 0,d6.set(!0)}},wOt=()=>{const t=wA();return g.useEffect(()=>{iE.set(t?"transceiver":"livekit")},[t]),null};async function byt(){try{return(await navigator.permissions.query({name:"microphone"})).state}catch(t){return Du.info("Failed to check microphone permission state",t),"unknown"}}const eg=nt(void 0),Cyt=1e3*60*9,_yt=nt([]),wyt=nt([]),SOt=nt(void 0),uZ=nt([]);function Syt(t,e){return t.includes(e)?t:[...t,e]}function kyt(t,e){return t.includes(e)?t.filter(n=>n!==e):t}function f6(...t){Du.debug("[Status Cache]",...t)}function Myt(t){const e=q(),[n]=kr(),r=kn(t),s=r&&st(r),{data:a}=Ds(),i=a&&$u(a);return spe({ctx:e,clientThreadId:t,threadState:s,searchParams:n,hasPlusFeatures:i})}function Eyt(t){const e=_s(t,"2943229081");return{"require-voice-used-recently":e.get("require-voice-used-recently",!1),"voice-used-within-past-days":e.get("voice-used-within-past-days",7),"enable-cache-for-gpts":e.get("enable-cache-for-gpts",!1),"enable-cache-for-new-users":e.get("enable-cache-for-new-users",!1),"new-user-within-past-days":e.get("new-user-within-past-days",7),"voice-status-cache-ttl-ms":e.get("voice-status-cache-ttl-ms",Cyt),"enable-cache-if-mic-granted":e.get("enable-cache-if-mic-granted",!1)}}function jyt(t,e){var l;const n=t["enable-cache-for-new-users"],r=t["new-user-within-past-days"];if(!n)return!1;const s=((l=e==null?void 0:e.created)!=null?l:0)*1e3,a=Date.now()-s;return Math.floor(a/(1e3*60*60*24))<r}function Tyt(t,e){const n=t["require-voice-used-recently"],r=t["voice-used-within-past-days"],s=r*24*60*60*1e3;if(e&&!n)return f6("User using transceiver and recency not required, prefetch OK"),!0;const a=Ft.getItem(et.VoiceLastUsed),i=a?new Date(a):null,l=i?i.getTime()>Date.now()-s:!1;return f6("User ".concat(l?"passes":"fails"," recency requirement, prefetch ").concat(l?"OK":"SKIP"),{voiceUsedWithinDays:r,lastUsedVoiceDate:i}),l}const kOt=({conversationId:t})=>{var E;const e=q(),{voiceName:n}=I4(),r=kn(t),s=$dt(),a=g.useRef(!1),i=of(T=>T.isVoiceModeActive),l=q6(),c=(E=Myt(t))!=null?E:F5e,u=wA(),d=g.useMemo(()=>Eyt(e),[e]),f=Wt(),m=d["voice-status-cache-ttl-ms"],p=ie(e,"2209667701"),h=Et(e),v=Te(r,T=>!!(T&&T.isLoading===!1))||Ji(t),y=g.useMemo(()=>{const T=d["enable-cache-for-gpts"],j=Tyt(d,u),A=jyt(d,f),I=!!l,L=[];return L.push(!p&&"gate-disabled"),!j&&!A&&(L.push("not-voice-used-recently"),L.push("fails-new-user-requirement")),L.push(!T&&I&&"is-custom-gpt"),L.push(!h&&"logged-out"),L.filter(O=>typeof O=="string")},[l,u,d,f,p,h]),[x,b]=g.useState([]);g.useEffect(()=>{const T=d["enable-cache-if-mic-granted"];h&&p&&T?byt().then(j=>{b(j==="granted"?A=>Syt(A,"mic-granted"):A=>kyt(A,"mic-granted"))}):b(j=>j.length>0?[]:j)},[d,p,h]);const _=g.useMemo(()=>({conversation_id:r!=null?r:null,requested_voice_mode:"advanced",gizmo_id:l!=null?l:null,voice:n!=null?n:null,requested_default_model:c}),[r,n,l,c]),[w,S]=g.useState(!0),k=g.useRef(void 0),M=g.useRef(void 0);return g.useEffect(()=>{S(!0)},[_]),g.useEffect(()=>{if(!v)return;_yt.set(y),wyt.set(x),f6("Eligibility snapshot",{eligibleReasons:x,ineligibleReasons:y}),y.length>0&&x.length===0&&eg.set(void 0);const T=y.length===0||x.length>0,j=!i&&T&&w,A=a.current;!j||A||(a.current=!0,f6("Prefetching voice status"),s(_,"voice-status-cache").then(I=>{uZ.set([]);const{chatreq:L}=I;eg.set(P(C({},I),{proofOfWorkPromise:new Promise((O,R)=>{L?ec.getEnforcementToken(L).then(O).catch(R):O(null)})})),k.current=Date.now(),S(!1),clearTimeout(M.current),M.current=setTimeout(()=>{var R;const O=(R=k.current)!=null?R:0;Date.now()-O>=m&&(eg.set(void 0),S(!0),B5e().then(H=>{ve.addAction("voice-status-cache-stale",{conversationId:_.conversation_id,protocol:H,ttlMs:m})}))},m)}).catch(I=>{var L;I.code==="conversation_not_found"?ve.addAction("voice-status-cache-conversation-not-found",{conversationId:_.conversation_id}):ve.addError(new Error("Voice status cache failed"),I),uZ.set([(L=I.code)!=null?L:"unknown error"]),eg.set(void 0)}).finally(()=>{a.current=!1}))},[s,_,y,x,i,w,m,v]),g.useEffect(()=>()=>{clearTimeout(M.current)},[]),null},dZ="chatgpt_library_last_tab";function MOt(t,e){var a;const[n,r]=kr(),s=(a=n.get("tab"))!=null?a:"images";g.useEffect(()=>{if(!e)return;const i=n.get("tab");if(!(!!i&&t.includes(i)))try{if(typeof window<"u"){const c=window.localStorage.getItem(dZ),u=c&&t.includes(c)?c:"images";r(d=>(d.set("tab",u),d))}}catch(c){}},[e,s,t,r,n]),g.useEffect(()=>{if(e)try{typeof window<"u"&&t.includes(s)&&window.localStorage.setItem(dZ,s)}catch(i){}},[e,s,t])}function EOt(t){"use forget";const e=ee.c(15),{clientThreadId:n}=t;let r,s;e[0]!==n?(r=()=>{pn.closeSharingModal(),Fe(n,Nyt)},s=[n],e[0]=n,e[1]=r,e[2]=s):(r=e[1],s=e[2]),g.useEffect(r,s);const a=pt();let i,l;e[3]!==a||e[4]!==n?(i=()=>(da.retainThread(n),()=>{setTimeout(()=>{a.invalidateQueries(E5({clientThreadId:n}))},0),da.releaseThread(n)}),l=[n,a],e[3]=a,e[4]=n,e[5]=i,e[6]=l):(i=e[5],l=e[6]),g.useEffect(i,l);const{closeThreadSidebar:c}=Bn(),u=OP.useState(OP.getActiveSidebar),d=g.useRef(u);let f,m;e[7]!==u?(f=()=>{d.current=u},m=[u],e[7]=u,e[8]=f,e[9]=m):(f=e[8],m=e[9]),g.useEffect(f,m);let p;e[10]!==c?(p=()=>{var v,y,x,b,_;(((v=d.current)==null?void 0:v.type)==="searchSources"||((y=d.current)==null?void 0:y.type)==="summarizer"||((x=d.current)==null?void 0:x.type)==="caterpillar"||((b=d.current)==null?void 0:b.type)==="product")&&((_=d.current)==null?void 0:_.clientThreadId)!==mJ&&c()},e[10]=c,e[11]=p):p=e[11];let h;e[12]!==n||e[13]!==c?(h=[n,c],e[12]=n,e[13]=c,e[14]=h):h=e[14],g.useEffect(p,h)}function Nyt(t){t.scrollToMessageId="finalAgentTurn"}function jOt({clientThreadId:t}){return Ju.useCurrentImage()?o.jsx(Ayt,{clientThreadId:t}):null}const Ayt=Je(()=>Ve(()=>import("./jq5pvmx1nfwz5so0.js"),__vite__mapDeps([168,1,4,5,169])).then(t=>t.ImageLightbox));function TOt(){const t=DP(n=>n.liveRegionAssertive),e=DP(n=>n.liveRegionPolite);return o.jsxs(o.Fragment,{children:[o.jsx("div",{"aria-live":"assertive","aria-atomic":"true",className:"sr-only",id:"live-region-assertive",children:t}),o.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",id:"live-region-polite",children:e})]})}function NOt(){"use forget";const t=ee.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=o.jsx("a",{"data-skip-to-content":"",className:"bg-token-main-surface-primary fixed start-1/2 top-1 z-50 mx-auto w-fit -translate-x-1/2 translate-y-[-100lvh] rounded-full px-3 py-2 focus-visible:translate-y-0",href:"#main",children:o.jsx(N,{id:"thread.skipToContent",defaultMessage:"Skip to content"})}),t[0]=e):e=t[0],e}function AOt(t,e,n){var a;if(((a=t.getQueryState(e))==null?void 0:a.status)==="success")return n(),()=>{};const r=U5e(e),s=t.getQueryCache().subscribe(i=>{i.query.queryHash===r&&i.query.state.status==="success"&&(n(),s())});return s}export{WHe as $,W$e as A,YCe as A$,Qwt as A0,Mkt as A1,jLt as A2,O_t as A3,JSt as A4,QSt as A5,YPt as A6,GIt as A7,KPt as A8,ZPt as A9,d_t as AA,gSt as AB,HPt as AC,vIt as AD,__t as AE,u$e as AF,hkt as AG,NMt as AH,KNt as AI,Zbt as AJ,L_t as AK,I_t as AL,Tkt as AM,P_t as AN,aAt as AO,Ywt as AP,kEt as AQ,zSt as AR,vbt as AS,Kwt as AT,lTt as AU,Rjt as AV,XEt as AW,jkt as AX,gwt as AY,LRt as AZ,lbt as A_,zIt as Aa,M7e as Ab,ckt as Ac,wbt as Ad,YSt as Ae,KSt as Af,mbt as Ag,TMt as Ah,kkt as Ai,Hxt as Aj,R_t as Ak,bRt as Al,xAt as Am,ASt as An,NSt as Ao,ZSt as Ap,WSt as Aq,GSt as Ar,Ljt as As,TSt as At,_bt as Au,ZLt as Av,S_t as Aw,w_t as Ax,NNt as Ay,_Rt as Az,IDe as B,$xt as B$,Cbt as B0,lkt as B1,DLt as B2,fwt as B3,JAt as B4,Ijt as B5,Pjt as B6,DMt as B7,zot as B8,Xwt as B9,QCe as BA,MAt as BB,u_t as BC,OLt as BD,LDe as BE,rwt as BF,nwt as BG,MSt as BH,HSt as BI,USt as BJ,vRt as BK,A_t as BL,OMt as BM,MLt as BN,Fxt as BO,MEt as BP,RMt as BQ,Wwt as BR,Dxt as BS,iEt as BT,kwt as BU,Swt as BV,LMt as BW,IMt as BX,BMt as BY,zxt as BZ,qxt as B_,cEt as Ba,Ekt as Bb,OPt as Bc,lAt as Bd,bMt as Be,Uxt as Bf,hIt as Bg,jSt as Bh,wwt as Bi,D_t as Bj,Bxt as Bk,bbt as Bl,sIt as Bm,ESt as Bn,nIt as Bo,mEt as Bp,lPt as Bq,DIt as Br,hbt as Bs,qSt as Bt,$St as Bu,Zwt as Bv,VSt as Bw,IPt as Bx,k7e as By,ANt as Bz,gu as C,kSt as C$,sEt as C0,hOt as C1,c_t as C2,TAt as C3,ibt as C4,OEt as C5,pOt as C6,jbt as C7,Jat as C8,jwt as C9,yAt as CA,Gwt as CB,xMt as CC,S7e as CD,DSt as CE,OSt as CF,yMt as CG,pbt as CH,fkt as CI,dkt as CJ,w7e as CK,RLt as CL,zwt as CM,Fjt as CN,HRt as CO,FEt as CP,FPt as CQ,Ykt as CR,qwt as CS,_Et as CT,tEt as CU,E_t as CV,RSt as CW,LSt as CX,ijt as CY,ISt as CZ,PSt as C_,Nkt as Ca,gIt as Cb,N_t as Cc,xbt as Cd,Ajt as Ce,Oyt as Cf,T_t as Cg,l_t as Ch,BSt as Ci,SAt as Cj,j_t as Ck,iTt as Cl,gTt as Cm,YEt as Cn,Qkt as Co,UPt as Cp,pwt as Cq,mwt as Cr,Jxt as Cs,gbt as Ct,fbt as Cu,FSt as Cv,s_t as Cw,ykt as Cx,Ckt as Cy,zjt as Cz,PDe as D,lNt as D$,SSt as D0,ybt as D1,jMt as D2,wSt as D3,k_t as D4,kJe as D5,Y2t as D6,I2t as D7,Ak as D8,Ik as D9,Uce as DA,wee as DB,h0t as DC,k2t as DD,$2t as DE,f2t as DF,rHe as DG,Hgt as DH,jN as DI,x2t as DJ,PJ as DK,zPt as DL,R2t as DM,F2t as DN,rtt as DO,c1 as DP,cCt as DQ,Dwe as DR,tS as DS,bi as DT,IN as DU,jre as DV,Iwt as DW,AOt as DX,fxt as DY,fCt as DZ,BHe as D_,L2t as Da,ol as Db,ZA as Dc,cXe as Dd,LNe as De,Xh as Df,M1t as Dg,PNe as Dh,Fle as Di,Nce as Dj,$ee as Dk,wSe as Dl,_Se as Dm,Ybt as Dn,iCt as Do,tdt as Dp,XPt as Dq,t0t as Dr,$f as Ds,lue as Dt,a_e as Du,sue as Dv,WPt as Dw,LJe as Dx,PEt as Dy,AEt as Dz,e4 as E,$Pt as E0,rIt as E1,I0 as F,FHe as G,Kae as H,aqe as I,Fj as J,f_t as K,ukt as L,m_t as M,Vf as N,b_t as O,ia as P,iT as Q,uSt as R,l3 as S,Kkt as T,hSt as U,pd as V,qP as W,CT as X,moe as Y,Q0 as Z,EPt as _,TUe as a,Rxt as a$,ikt as a0,Bre as a1,qHe as a2,vc as a3,Uo as a4,ZHe as a5,zHe as a6,qCt as a7,f4e as a8,sse as a9,hEt as aA,PMt as aB,fEt as aC,$Mt as aD,WMt as aE,ZMt as aF,AMt as aG,YMt as aH,QEt as aI,pEt as aJ,rEt as aK,lEt as aL,dEt as aM,gEt as aN,KMt as aO,AN as aP,yEt as aQ,JEt as aR,vEt as aS,xEt as aT,RN as aU,OJe as aV,xce as aW,t7e as aX,Lee as aY,eTt as aZ,nTt as a_,eRe as aa,UHe as ab,bSt as ac,GHe as ad,zVe as ae,$He as af,AOe as ag,s4 as ah,Qae as ai,foe as aj,pE as ak,qyt as al,Uwt as am,ekt as an,Loe as ao,rkt as ap,qLe as aq,zLe as ar,jo as as,Rc as at,X5 as au,Woe as av,_ce as aw,mX as ax,j4 as ay,dae as az,Zre as b,s7e as b$,tTt as b0,cPt as b1,Jjt as b2,Xjt as b3,Pwt as b4,Ire as b5,zCt as b6,zRe as b7,Nre as b8,kNt as b9,SHe as bA,Bwt as bB,q_e as bC,Mk as bD,$j as bE,LJ as bF,Xd as bG,r4e as bH,n4e as bI,s4e as bJ,jAt as bK,Xxt as bL,NS as bM,dxt as bN,wc as bO,Qbt as bP,L0 as bQ,a5 as bR,qte as bS,$te as bT,zj as bU,ys as bV,a3 as bW,xwt as bX,Qjt as bY,uj as bZ,n7e as b_,xJ as ba,ST as bb,ySt as bc,V4 as bd,_c as be,$l as bf,mo as bg,rxt as bh,nxt as bi,Wxt as bj,r5 as bk,lT as bl,T5t as bm,OCt as bn,RCt as bo,DCt as bp,$e as bq,We as br,Wa as bs,CAt as bt,rl as bu,Y0 as bv,Hf as bw,pme as bx,mme as by,gme as bz,y_t as c,eo as c$,hE as c0,Gxt as c1,ubt as c2,lqe as c3,Nu as c4,dO as c5,Vd as c6,Zr as c7,a_t as c8,Hd as c9,Dr as cA,W5 as cB,K5 as cC,X0 as cD,Z5 as cE,Yz as cF,X_e as cG,ACt as cH,TCt as cI,JA as cJ,zLt as cK,WLt as cL,ri as cM,Mpe as cN,Rk as cO,is as cP,TEt as cQ,Eh as cR,UNt as cS,Ot as cT,Foe as cU,git as cV,ru as cW,t4e as cX,cLe as cY,jj as cZ,LUe as c_,PT as ca,Oue as cb,ftt as cc,Sce as cd,om as ce,oxt as cf,xN as cg,c4e as ch,H5 as ci,Ule as cj,QS as ck,As as cl,ZIe as cm,JIe as cn,Bet as co,Nn as cp,Jo as cq,yae as cr,tc as cs,cet as ct,o6 as cu,jgt as cv,ime as cw,kgt as cx,ar as cy,Mgt as cz,jUe as d,K4e as d$,UE as d0,gxt as d1,Awt as d2,nkt as d3,o0 as d4,PVe as d5,fA as d6,p1 as d7,aSt as d8,Hj as d9,KIt as dA,_W as dB,XIt as dC,X6t as dD,e5t as dE,GA as dF,P3 as dG,zA as dH,A3 as dI,x5t as dJ,S3 as dK,eLt as dL,y4t as dM,twt as dN,xse as dO,xt as dP,hJ as dQ,Oxt as dR,Ij as dS,FLe as dT,GCt as dU,UCt as dV,LCt as dW,b4e as dX,Tbt as dY,ZCe as dZ,iOe as d_,Yd as da,Gd as db,xw as dc,fce as dd,Qfe as de,Q6t as df,ape as dg,zmt as dh,v4t as di,cfe as dj,zpe as dk,CN as dl,Fi as dm,$$e as dn,J4 as dp,a1 as dq,Ype as dr,gfe as ds,wT as dt,Xfe as du,ql as dv,ope as dw,FIt as dx,C5t as dy,$r as dz,Hbt as e,REt as e$,N4e as e0,p4e as e1,CLe as e2,jLe as e3,n_t as e4,rOe as e5,Pxt as e6,KCt as e7,vxt as e8,Nxt as e9,hxt as eA,fOe as eB,mE as eC,Gne as eD,NT as eE,Pkt as eF,Ikt as eG,Lkt as eH,jh as eI,Ii as eJ,SO as eK,Ph as eL,Zkt as eM,Sq as eN,QMt as eO,CSt as eP,DN as eQ,BEt as eR,Fne as eS,Xw as eT,bEt as eU,Rr as eV,XXe as eW,CEt as eX,wEt as eY,LEt as eZ,EEt as e_,Sbt as ea,Mbt as eb,XCt as ec,NCt as ed,zne as ee,dbt as ef,e_t as eg,QCt as eh,$Ct as ei,ICt as ej,JCt as ek,Lxt as el,Ixt as em,HCt as en,FCt as eo,BCt as ep,ZCt as eq,r_t as er,i_t as es,Nbt as et,WCt as eu,YCt as ev,kbt as ew,Ebt as ex,yxt as ey,Axt as ez,fa as f,eSt as f$,UEt as f0,HEt as f1,set as f2,IEt as f3,EMt as f4,$Et as f5,SEt as f6,jEt as f7,zbt as f8,Gbt as f9,U0 as fA,hAt as fB,SIt as fC,CIt as fD,TIt as fE,M4t as fF,Dot as fG,Ru as fH,dVe as fI,WLe as fJ,mT as fK,uJe as fL,Ps as fM,mse as fN,mjt as fO,J0 as fP,Uj as fQ,kLt as fR,I5 as fS,sPe as fT,TTt as fU,qlt as fV,I2 as fW,l_ as fX,nSt as fY,rSt as fZ,GVe as f_,GMt as fa,tSe as fb,DEt as fc,pjt as fd,Wjt as fe,U4 as ff,vot as fg,Kat as fh,fot as fi,ast as fj,Oee as fk,Mjt as fl,BTt as fm,akt as fn,j1e as fo,h$e as fp,Poe as fq,x$e as fr,p$e as fs,g$e as ft,m$e as fu,v$e as fv,d$e as fw,y$e as fx,f$e as fy,Zxt as fz,E5 as g,cme as g$,tSt as g0,$yt as g1,uoe as g2,PTt as g3,ITt as g4,L2 as g5,R2 as g6,r8 as g7,klt as g8,sSt as g9,N4 as gA,yo as gB,G_t as gC,APt as gD,Vs as gE,eqe as gF,J$e as gG,tre as gH,fse as gI,qDe as gJ,XBe as gK,F_t as gL,z_t as gM,Gr as gN,hc as gO,bc as gP,Xse as gQ,iwt as gR,owt as gS,Jse as gT,KEt as gU,ZEt as gV,qJe as gW,WEt as gX,XMt as gY,OXe as gZ,$oe as g_,He as ga,coe as gb,uO as gc,oSt as gd,lSt as ge,NTt as gf,ATt as gg,iSt as gh,cSt as gi,yQe as gj,Vz as gk,mue as gl,SA as gm,$nt as gn,Vnt as go,qnt as gp,Kme as gq,Yme as gr,Jme as gs,ba as gt,SN as gu,DJ as gv,FJ as gw,Ple as gx,hpe as gy,Bf as gz,P5 as h,uMt as h$,w3 as h0,BE as h1,a4 as h2,eht as h3,Ke as h4,Fgt as h5,MBe as h6,hwt as h7,Bbt as h8,aut as h9,qoe as hA,ZJ as hB,Zw as hC,Pf as hD,Qxt as hE,y7e as hF,obt as hG,u7e as hH,d7e as hI,I7 as hJ,cbt as hK,b7e as hL,Yxt as hM,_7e as hN,T4e as hO,Ao as hP,xo as hQ,fMt as hR,mMt as hS,nN as hT,tMt as hU,nMt as hV,e0 as hW,Zc as hX,HYe as hY,t0 as hZ,fKe as h_,yk as ha,Qce as hb,GJe as hc,jce as hd,Ole as he,Wut as hf,xdt as hg,Bce as hh,Jde as hi,b5 as hj,kJ as hk,Zf as hl,z4 as hm,iA as hn,C5 as ho,J5 as hp,_wt as hq,Qj as hr,WBe as hs,_h as ht,Zj as hu,V0 as hv,t4 as hw,Kce as hx,VEt as hy,e3 as hz,WE as i,ZAt as i$,dMt as i0,sN as i1,qie as i2,Wie as i3,zie as i4,Gie as i5,ZYe as i6,sQe as i7,eMt as i8,Xkt as i9,xjt as iA,bjt as iB,OTt as iC,Bz as iD,RTt as iE,DTt as iF,MJ as iG,Q_e as iH,pRt as iI,afe as iJ,Abt as iK,j9t as iL,ofe as iM,jRt as iN,GLt as iO,YXe as iP,e9t as iQ,ttt as iR,cRt as iS,Il as iT,MMt as iU,iRt as iV,_3 as iW,Eot as iX,PRt as iY,Rwt as iZ,jCt as i_,iMt as ia,lMt as ib,cMt as ic,oMt as id,rMt as ie,sMt as ig,aMt as ih,Yie as ii,$ie as ij,Nle as ik,Qie as il,Jkt as im,wjt as io,_jt as ip,Cjt as iq,yjt as ir,vjt as is,rz as it,hjt as iu,yst as iv,xst as iw,gjt as ix,Sjt as iy,kjt as iz,rNe as j,t1 as j$,GAt as j0,TPt as j1,N7t as j2,PLt as j3,K7t as j4,QLt as j5,tRt as j6,je as j7,Zet as j8,xRt as j9,fRt as jA,mRt as jB,ERt as jC,ARt as jD,_Lt as jE,nwe as jF,$5 as jG,Hre as jH,sde as jI,XNt as jJ,Akt as jK,IRt as jL,RRt as jM,DRt as jN,c9t as jO,aRt as jP,BRt as jQ,ORt as jR,FRt as jS,URt as jT,ZRt as jU,K_t as jV,eFe as jW,Vxt as jX,xue as jY,TS as jZ,pUe as j_,LLt as ja,uRt as jb,NEt as jc,sfe as jd,kpe as je,m1 as jf,XLt as jg,oRt as jh,JLt as ji,hRt as jj,gRt as jk,nRt as jl,Ojt as jm,Djt as jn,SRt as jo,MRt as jp,kRt as jq,VMt as jr,NRt as js,rRt as jt,sRt as ju,TRt as jv,qLt as jw,eRt as jx,yRt as jy,dRt as jz,Yu as k,krt as k$,n1 as k0,e1 as k1,IJ as k2,H7e as k3,wLt as k4,mPt as k5,gPt as k6,pPt as k7,fPt as k8,hPt as k9,eut as kA,ug as kB,U1 as kC,Yc as kD,mi as kE,epe as kF,_p as kG,WIt as kH,DE as kI,Xp as kJ,Gm as kK,B_t as kL,yPt as kM,j_e as kN,MS as kO,cmt as kP,Yrt as kQ,uFe as kR,vPt as kS,D0 as kT,tfe as kU,Gce as kV,fjt as kW,eae as kX,Drt as kY,X_t as kZ,ewt as k_,Mh as ka,Do as kb,pg as kc,Iu as kd,IS as ke,PE as kf,goe as kg,Slt as kh,c7e as ki,uwt as kj,CLt as kk,NBe as kl,vwt as km,Jj as kn,aae as ko,a0t as kp,TFe as kq,Zct as kr,U7e as ks,De as kt,Gn as ku,bxt as kv,Rh as kw,FNt as kx,W1e as ky,t5t as kz,DHe as l,WOe as l$,dse as l0,yot as l1,yse as l2,cjt as l3,rae as l4,ujt as l5,jn as l6,Ci as l7,JNt as l8,hA as l9,ec as lA,C2 as lB,_kt as lC,tLt as lD,rjt as lE,NOt as lF,jOt as lG,TOt as lH,fIt as lI,mIt as lJ,Kbt as lK,yIt as lL,Bj as lM,HJe as lN,E5t as lO,Ju as lP,ZIt as lQ,CRt as lR,JLe as lS,Glt as lT,zTt as lU,lk as lV,VHe as lW,Hwt as lX,X_ as lY,YLt as lZ,KLt as l_,sf as la,Is as lb,aa as lc,rde as ld,QNt as le,Bne as lf,l0 as lg,Qh as lh,eAt as li,tde as lj,mkt as lk,gkt as ll,Y6t as lm,JOe as ln,wIt as lo,kIt as lp,bIt as lq,_It as lr,jIt as ls,NIt as lt,MIt as lu,EIt as lv,MCt as lw,xIt as lx,rne as ly,fS as lz,r1 as m,qN as m$,f1 as m0,rPt as m1,zi as m2,of as m3,Oae as m4,Oft as m5,Kde as m6,Yde as m7,sut as m8,L4 as m9,EDe as mA,PCt as mB,xc as mC,ECt as mD,z1e as mE,one as mF,Dmt as mG,Zp as mH,Wi as mI,nSe as mJ,bSe as mK,sSe as mL,Xj as mM,cht as mN,oCt as mO,xSe as mP,CSe as mQ,T5 as mR,wde as mS,vu as mT,qUe as mU,UTt as mV,c3 as mW,xpt as mX,UAt as mY,G5t as mZ,Mi as m_,tut as ma,rut as mb,RIt as mc,Jbt as md,dQe as me,dT as mf,rdt as mg,cqe as mh,yOe as mi,hOe as mj,ilt as mk,o_t as ml,d4e as mm,$wt as mn,zyt as mo,wxt as mp,Hk as mq,awt as mr,H0 as ms,swt as mt,pp as mu,U_t as mv,ZDe as mw,qMt as mx,Mue as my,AQe as mz,ONe as n,rc as n$,aA as n0,LN as n1,wk as n2,SS as n3,rLt as n4,sLt as n5,R4t as n6,O4t as n7,QIt as n8,YIt as n9,El as nA,qj as nB,Kj as nC,pBe as nD,vBe as nE,Wyt as nF,Kyt as nG,Yyt as nH,cxt as nI,ext as nJ,Xyt as nK,txt as nL,lxt as nM,ixt as nN,a4e as nO,zoe as nP,bJ as nQ,sxt as nR,axt as nS,uxt as nT,z_ as nU,SLt as nV,Xat as nW,Xu as nX,z5 as nY,sXe as nZ,Qoe as n_,JIt as na,iLt as nb,nLt as nc,oLt as nd,aLt as ne,Fmt as nf,MOt as ng,qIt as nh,UIt as ni,fLt as nj,dLt as nk,KAt as nl,EOt as nm,Nwt as nn,lLt as no,cLt as np,VIt as nq,$It as nr,HIt as ns,cIt as nt,zae as nu,H_t as nv,wUe as nw,oot as nx,sjt as ny,NFe as nz,tUe as o,Cc as o$,o4 as o0,q4 as o1,KOe as o2,bze as o3,C3 as o4,p_t as o5,rie as o6,nie as o7,rr as o8,Mt as o9,Vwt as oA,he as oB,pxt as oC,fi as oD,C$e as oE,ffe as oF,ppt as oG,vpt as oH,kMt as oI,Njt as oJ,jjt as oK,Ejt as oL,JN as oM,SJ as oN,k3 as oO,u1 as oP,X4 as oQ,Kxt as oR,mc as oS,Dbe as oT,NI as oU,sbt as oV,ebt as oW,tbt as oX,nbt as oY,rbt as oZ,abt as o_,IOe as oa,Zjt as ob,Rj as oc,wq as od,x_t as oe,Vre as of,Zyt as og,CMe as oh,uCt as oi,XSt as oj,LTt as ok,okt as ol,Nlt as om,jTt as on,ETt as oo,MNt as op,zt as oq,E3 as or,E4e as os,j4e as ot,dfe as ou,SCt as ov,ZJe as ow,kCt as ox,uce as oy,ka as oz,M_t as p,STt as p$,d_ as p0,_Nt as p1,SNt as p2,Kz as p3,O4 as p4,fT as p5,Z_t as p6,met as p7,C8t as p8,Q_t as p9,mCt as pA,pCt as pB,Gf as pC,Fae as pD,BUe as pE,LNt as pF,mNt as pG,YTt as pH,UUe as pI,oNt as pJ,TNt as pK,QTt as pL,Klt as pM,ZTt as pN,GTt as pO,eNt as pP,ENt as pQ,yNt as pR,CNt as pS,nNt as pT,sNt as pU,rNt as pV,bTt as pW,ONt as pX,qEt as pY,mTt as pZ,htt as p_,$_t as pa,use as pb,KDe as pc,q_t as pd,V_t as pe,kUe as pf,AHe as pg,W_t as ph,Y_t as pi,Hoe as pj,Skt as pk,Rct as pl,Oct as pm,mxt as pn,XN as po,_St as pp,Yae as pq,Kct as pr,aT as ps,Dct as pt,hk as pu,INt as pv,PNt as pw,Dwt as px,s1 as py,$5e as pz,C_t as q,Yjt as q$,_Tt as q0,cNt as q1,dNt as q2,iNt as q3,qTt as q4,HTt as q5,DNt as q6,$Tt as q7,VTt as q8,VNt as q9,Y1e as qA,O1t as qB,vSt as qC,J_t as qD,nAt as qE,GNt as qF,Qo as qG,cAt as qH,uAt as qI,tf as qJ,rAt as qK,vut as qL,du as qM,YNt as qN,dAt as qO,xae as qP,bwt as qQ,mdt as qR,kAt as qS,bAt as qT,_At as qU,ywt as qV,EAt as qW,vAt as qX,FBe as qY,c1e as qZ,ade as q_,fNt as qa,uNt as qb,wTt as qc,zEt as qd,_it as qe,GEt as qf,RNt as qg,CTt as qh,HNt as qi,BNt as qj,Xlt as qk,wNt as ql,bNt as qm,$Nt as qn,qNt as qo,XTt as qp,WTt as qq,aNt as qr,tNt as qs,JTt as qt,KTt as qu,ch as qv,Owt as qw,jNt as qx,Hz as qy,sOe as qz,njt as r,Ujt as r$,dPt as r0,Kjt as r1,Yft as r2,nPt as r3,tPt as r4,rmt as r5,nmt as r6,ePt as r7,XAt as r8,mAt as r9,zut as rA,Rot as rB,rTt as rC,sTt as rD,WNt as rE,FUe as rF,Kf as rG,zNt as rH,yTt as rI,xTt as rJ,pj as rK,tp as rL,yCt as rM,lPe as rN,Vct as rO,uTt as rP,dTt as rQ,xu as rR,dot as rS,Aut as rT,wut as rU,fTt as rV,kut as rW,Y1t as rX,Vjt as rY,qjt as rZ,lot as r_,Jft as ra,Xft as rb,emt as rc,AAt as rd,pAt as re,gAt as rf,NAt as rg,uPt as rh,Qft as ri,iPt as rj,QAt as rk,oTt as rl,aTt as rm,o3 as rn,e_e as ro,HBe as rp,pTt as rq,vce as rr,Got as rs,Ukt as rt,zMt as ru,to as rv,Wr as rw,xde as rx,gCt as ry,o1e as rz,hu as s,xxt as s$,Hjt as s0,Hae as s1,oAt as s2,iAt as s3,Gjt as s4,Zot as s5,cTt as s6,gJe as s7,hCt as s8,Lwt as s9,WRt as sA,fOt as sB,iOt as sC,aOt as sD,Pbt as sE,tOt as sF,mOt as sG,oOt as sH,Cdt as sI,sOt as sJ,nOt as sK,gOt as sL,rOt as sM,yOt as sN,xOt as sO,vOt as sP,zq as sQ,kft as sR,hMt as sS,DWe as sT,vMt as sU,pMt as sV,bOt as sW,COt as sX,o0t as sY,i0t as sZ,KRt as s_,vTt as sa,$jt as sb,sAt as sc,ZNt as sd,hTt as se,fAt as sf,tAt as sg,Ile as sh,vCt as si,aEt as sj,oEt as sk,S5t as sl,OIt as sm,BIt as sn,Wrt as so,Zrt as sp,$Rt as sq,Zft as sr,qae as ss,qRt as st,lOt as su,cOt as sv,ILt as sw,dOt as sx,bLt as sy,Imt as sz,vkt as t,nqe as t$,rwe as t0,v9t as t1,os as t2,hLt as t3,pLt as t4,mLt as t5,NLt as t6,zRt as t7,GUe as t8,WAt as t9,mA as tA,Vyt as tB,l0e as tC,_de as tD,pSt as tE,Ure as tF,pIt as tG,MTt as tH,HIe as tI,zht as tJ,kme as tK,Bg as tL,blt as tM,UA as tN,jme as tO,Uht as tP,Fyt as tQ,Lj as tR,Fre as tS,kOe as tT,Krt as tU,bPt as tV,d1 as tW,djt as tX,xPt as tY,lwt as tZ,K9 as t_,lRt as ta,YVe as tb,QRt as tc,xLt as td,yLt as te,YRt as tf,ELt as tg,TLt as th,nvt as ti,JRt as tj,Twt as tk,kOt as tl,wOt as tm,_Ot as tn,uLt as to,GRt as tp,gLt as tq,vLt as tr,XRt as ts,eOt as tt,ALt as tu,Fwt as tv,VRt as tw,uOe as tx,Hyt as ty,Gyt as tz,Wre as u,oQe as u$,tqe as u0,CPt as u1,hrt as u2,gse as u3,th as u4,kPt as u5,SPt as u6,_Pt as u7,wPt as u8,ljt as u9,dIt as uA,iIt as uB,DPt as uC,eIt as uD,tIt as uE,RPt as uF,ojt as uG,ajt as uH,KA as uI,C4t as uJ,_4t as uK,X5t as uL,m4t as uM,uo as uN,Qk as uO,mu as uP,Z_e as uQ,Y_e as uR,Ree as uS,Fkt as uT,_qe as uU,cwt as uV,Voe as uW,ose as uX,Gi as uY,Gq as uZ,Uyt as u_,grt as ua,MPt as ub,_T as uc,A$e as ud,S5 as ue,jPt as uf,NPt as ug,pkt as uh,LPt as ui,PPt as uj,NUe as uk,r4 as ul,sae as um,$mt as un,jFe as uo,qmt as up,Vmt as uq,Ept as ur,QPt as us,ide as ut,JPt as uu,Ac as uv,BPt as uw,q2t as ux,lIt as uy,uIt as uz,Qu as v,Rbt as v$,Byt as v0,_Ye as v1,Uot as v2,Hot as v3,Cxt as v4,_xt as v5,Rre as v6,t_t as v7,Du as v8,qdt as v9,Zd as vA,kot as vB,uOt as vC,P5t as vD,aLe as vE,rk as vF,rh as vG,o5 as vH,RRe as vI,ORe as vJ,DRe as vK,FRe as vL,HRe as vM,xR as vN,URe as vO,BRe as vP,xSt as vQ,wAt as vR,ise as vS,Qyt as vT,HMt as vU,UMt as vV,Tjt as vW,Jyt as vX,Dbt as vY,m_e as vZ,Of as v_,oPt as va,byt as vb,SOt as vc,wyt as vd,_yt as ve,uZ as vf,v_e as vg,Ode as vh,PAt as vi,IAt as vj,LAt as vk,RAt as vl,HAt as vm,wRt as vn,Bdt as vo,OAt as vp,I4 as vq,Ift as vr,$At as vs,qAt as vt,aPt as vu,Rdt as vv,bN as vw,LS as vx,VCt as vy,OE as vz,Bo as w,jYe as w$,Obt as w0,Fbt as w1,Lbt as w2,Ibt as w3,dEe as w4,ij as w5,oj as w6,Nke as w7,lCt as w8,bE as w9,hUe as wA,a6 as wB,q_ as wC,dme as wD,QA as wE,Qme as wF,WJe as wG,wce as wH,GS as wI,Mce as wJ,QJe as wK,aht as wL,JMt as wM,ngt as wN,oIt as wO,j2t as wP,rgt as wQ,sgt as wR,cm as wS,qet as wT,aIt as wU,rht as wV,Epe as wW,$_ as wX,CYe as wY,Tle as wZ,CC as w_,h9e as wa,Gee as wb,yE as wc,Da as wd,ah as we,eS as wf,Xbt as wg,rCt as wh,tCt as wi,nCt as wj,cSe as wk,Ih as wl,zQe as wm,uSe as wn,jc as wo,ice as wp,aCt as wq,sCt as wr,eCt as ws,gMt as wt,ma as wu,T4 as wv,wN as ww,$le as wx,_q as wy,eEt as wz,wkt as x,g_t as x$,TYe as x0,ejt as x1,qbt as x2,$bt as x3,Vbt as x4,R0t as x5,Let as x6,VPt as x7,Ek as x8,B0t as x9,SMt as xA,Qs as xB,Cqe as xC,Ece as xD,zkt as xE,ki as xF,$kt as xG,qkt as xH,Rkt as xI,Hkt as xJ,Vkt as xK,OS as xL,Ou as xM,CMt as xN,ZOe as xO,mQe as xP,Gkt as xQ,v_t as xR,tjt as xS,Wkt as xT,h_t as xU,wMt as xV,Okt as xW,lie as xX,Goe as xY,pqe as xZ,POe as x_,NA as xa,$0 as xb,tue as xc,ZE as xd,Gwe as xe,Pke as xf,nEt as xg,Wbt as xh,Rfe as xi,dCt as xj,j0t as xk,w0t as xl,Ret as xm,oh as xn,Z3t as xo,Bkt as xp,ms as xq,yN as xr,$S as xs,_Mt as xt,Ale as xu,iqe as xv,zl as xw,mqe as xx,Gnt as xy,zN as xz,xkt as y,NPe as y$,Nee as y0,Sae as y1,Dyt as y2,Z5e as y3,Oot as y4,ese as y5,tse as y6,Fqe as y7,Ug as y8,fQe as y9,Vde as yA,HE as yB,Ldt as yC,BAt as yD,$dt as yE,Aft as yF,Idt as yG,eg as yH,Ubt as yI,Adt as yJ,sPt as yK,dwt as yL,lne as yM,xCt as yN,wCt as yO,CCt as yP,js as yQ,wIe as yR,fne as yS,mS as yT,_Ct as yU,lR as yV,aIe as yW,bCt as yX,XPe as yY,iR as yZ,oR as y_,$N as ya,iDe as yb,GPt as yc,Dkt as yd,zAt as ye,f0e as yf,Nft as yg,fG as yh,DAt as yi,Ede as yj,kde as yk,Pde as yl,Tde as ym,Ck as yn,VAt as yo,Ide as yp,jde as yq,Mde as yr,Edt as ys,Lde as yt,Rde as yu,Mdt as yv,Ade as yw,Nde as yx,Tft as yy,FAt as yz,bkt as z,Bjt as z$,PIt as z0,IIt as z1,LIt as z2,AIt as z3,oqe as z4,gs as z5,FTt as z6,K0 as z7,skt as z8,Nct as z9,Txt as zA,FLt as zB,HLt as zC,B7t as zD,Spe as zE,BLt as zF,dSt as zG,VLt as zH,mSt as zI,fSt as zJ,H7t as zK,U7t as zL,ULt as zM,$Lt as zN,WA as zO,pT as zP,LE as zQ,qPt as zR,Zz as zS,Jwt as zT,kTt as zU,mYe as zV,Vye as zW,tW as zX,AJ as zY,FMt as zZ,uEt as z_,Tct as za,jct as zb,gNt as zc,hNt as zd,pNt as ze,xNt as zf,Cwt as zg,gae as zh,vq as zi,J_e as zj,tkt as zk,vNt as zl,Mwt as zm,Ewt as zn,tT as zo,eT as zp,_Fe as zq,Fm as zr,Af as zs,gE as zt,Ext as zu,F4e as zv,Sxt as zw,kxt as zx,Mxt as zy,jxt as zz};
//# sourceMappingURL=mclphevd122040jw.js.map

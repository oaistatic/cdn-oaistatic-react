var S=Object.defineProperty;var R=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var T=(s,e,t)=>e in s?S(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,b=(s,e)=>{for(var t in e||(e={}))v.call(e,t)&&T(s,t,e[t]);if(R)for(var t of R(e))y.call(e,t)&&T(s,t,e[t]);return s};import{G as E,af as $,a6 as w,r as x}from"./jj85rqzpbnvv3emr.js";import{w as C,bM as G,cg as O,ch as P,nQ as A}from"./lef5ym39glv4981l.js";import{e as I,f as L}from"./mclphevd122040jw.js";import"./gyvvad7btmtz1x9o.js";import"./xx3svpq6qe4q5uu1.js";import"./f3wj76d1ulqyss85.js";import"./hnotrmacgvnfyexv.js";import"./n6vmm5pyahusdy8e.js";import"./l041el2tch1t3nkf.js";import"./dta5t6ifyam55mk9.js";import"./easgat082167v0i8.js";import"./cncd8uuk5eicbkeu.js";import"./ng0sx063g0r0whhb.js";import"./fvmxudg74tbhlabl.js";const Y=()=>[{title:"ChatGPT"}],Z=()=>!1;function M(s){var p,c,m,l,u,f,h,_,g;const e={},t="client-created-root";e[t]={id:t,message:{id:t,author:{role:P.Root},content:{content_type:O.Text,parts:[]}},parent:"",children:[]};let n=t;const a=[],r=new Set;for(const o of s.messages)r.add(o.id);for(const o of s.messages){let i=(c=(p=o.metadata)==null?void 0:p.parent_id)!=null?c:n;r.has(i)||(i=n),e[o.id]={id:o.id,message:o,parent:i,children:[]},n=o.id,a.push(...(l=(m=o.metadata)==null?void 0:m.safe_urls)!=null?l:[])}for(const[o,i]of Object.entries(e))i.parent!==""&&((f=(u=e[i.parent])==null?void 0:u.children)==null||f.push(o));const d=(h=s.conversation_id)!=null?h:s.id;return b({title:(_=s.title)!=null?_:null,conversation_id:d,mapping:e,current_node:n,moderation_results:[],safe_urls:(g=s.safe_urls)!=null?g:a},A(s,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember"))}const D=E(function(){var d;const e=$(),t=w(),n=e!=null?e:t;C.debug("IN: POST=".concat(e==null?void 0:e.length,", GET=").concat(t==null?void 0:t.length));const a=JSON.parse(n),r=(d=a.conversation_id)!=null?d:a.id;return x.useEffect(()=>{const p=M(a);I(r,p),L(r),G(r,c=>{c.continuingFromSharedConversationId=r})},[]),C.debug("Ready ".concat(r," (SERVER: false) : ").concat(n.length," byte(s)")),null});export{D as default,Y as meta,Z as shouldRevalidate};
//# sourceMappingURL=dc8wdml3cfaydanz.js.map

var w=Object.defineProperty,P=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var g=(e,a,t)=>a in e?w(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,u=(e,a)=>{for(var t in a||(a={}))_.call(a,t)&&g(e,t,a[t]);if(M)for(var t of M(a))A.call(a,t)&&g(e,t,a[t]);return e},d=(e,a)=>P(e,O(a));import{b as C,r as h,j as r,d as B}from"./jj85rqzpbnvv3emr.js";import{e as T,aI as K,T as L}from"./lef5ym39glv4981l.js";import{bj as k}from"./mclphevd122040jw.js";import{S as G,c as j}from"./nuvef33udhwgu2hu.js";function I(e){return e.split(/[\s,]+/)}function H({value:e,onChange:a,className:t,trackEmailsAdded:l,trackEmailRemoved:o,placeholder:i,classNames:p,trailingComponent:c,shouldShowTrailingComponent:b=()=>!0}){const x=C(),[n,f]=h.useState(""),V=s=>r.jsx(j.IndicatorsContainer,d(u({},s),{children:c})),E=h.useCallback(s=>{if(n&&!s.nativeEvent.isComposing)switch(s.key){case"Enter":case",":case" ":{const m=I(n);a([...e,...m.map(y)]),f(""),s.preventDefault();const S={numEmailsAdded:m.length,uploadType:"Manual"};l==null||l(S)}}},[n,a,e,l]),D=s=>{if(n){const m=I(n);a([...e,...m.map(y)]),f(n),s.preventDefault()}},N=b(e.map(s=>s.value),n);return r.jsx(G,{className:T("react-select-container",t),isMulti:!0,onBlur:D,classNamePrefix:"react-select",components:d(u({},U),{IndicatorsContainer:N&&c?V:()=>null}),inputValue:n,isClearable:!0,menuIsOpen:!1,onChange:(s,m)=>{switch(a(s),m.action){case"pop-value":case"remove-value":o==null||o();break}},classNames:p,onInputChange:f,onKeyDown:E,placeholder:i!=null?i:x.formatMessage(v.placeholder),value:e,"aria-labelledby":"add-emails-label",name:"add-member-emails",trackEmailRemoved:o})}const y=e=>({label:e,value:e,isValid:k.test(e)}),R=e=>{const a=C(),t=r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{children:e.children}),r.jsx(K,{className:"icon-sm"})]}),l=e.data.isValid?t:r.jsx(L,{label:a.formatMessage(v.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:t}),o=i=>{var p,c,b,x;(c=(p=e.removeProps).onClick)==null||c.call(p,i),(x=(b=e.selectProps).trackEmailRemoved)==null||x.call(b),i.preventDefault()};return r.jsx(j.MultiValue,d(u({},e),{children:r.jsx("div",d(u({className:T("text-token-text-primary m-1 cursor-pointer rounded-md border border-transparent px-1.5 py-1 text-sm",e.data.isValid?"bg-token-bg-tertiary hover:border-token-border-heavy hover:bg-token-bg-tertiary":"bg-red-200 text-red-500"),role:"button",tabIndex:0,"aria-label":a.formatMessage(v.removeMember,{member:e.data.value})},e.removeProps),{onClick:o,children:l}))}))},U={DropdownIndicator:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:R},v=B({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});export{H as E,y as c};
//# sourceMappingURL=h0k73bnwu158btqf.js.map

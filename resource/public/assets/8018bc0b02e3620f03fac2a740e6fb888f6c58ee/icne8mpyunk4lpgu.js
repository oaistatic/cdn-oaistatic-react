import{f as h,a as v,b as S,g as N,j as e,M as j}from"./n3epq09dut36rmi2.js";import{c6 as w,bf as B,aG as E}from"./uox23aig6gp6se2y.js";import{u as R}from"./eirgecln9yzcy5p4.js";import{m as F,b as k,c as T}from"./nqrmgk5te3uzwsyz.js";import{A as P}from"./iudeu2zm1922chka.js";function y(){return e.jsx(w,{className:"icon-sm text-token-text-tertiary ms-1"})}function C({onChange:t,enabled:s,Icon:a,label:i,labelValues:c,onClickInfo:n,tooltip:o,tooltipValues:l,hasPadding:u=!0,className:d,disabled:m=!1,messageAfterTooltip:r=void 0}){return e.jsxs(P,{className:T("justify-start",u?"py-6":"py-0",d),children:[e.jsx(B,{label:"",disabled:m,enabled:s,onChange:t}),e.jsxs("p",{className:"text-md inline-flex items-center",children:[a&&e.jsx(a,{className:"icon-md me-2"}),e.jsx(j,{...i,values:c}),o&&e.jsxs(e.Fragment,{children:[e.jsx(E,{interactive:!0,label:e.jsx(j,{...o,values:l}),side:"top",children:n?e.jsx("button",{className:"block h-full",onClick:n,children:e.jsx(y,{})}):e.jsx(y,{})}),r&&e.jsx("span",{className:"text-token-text-secondary ps-1 text-sm",children:e.jsx(j,{...r})})]})]})]})}function z({workspaceId:t,Icon:s,label:a,onClickInfo:i,feature:c,value:n,tooltip:o,hasPadding:l=!0,className:u,disabled:d=!1,overrideDisplayValue:m=void 0,messageAfterTooltip:r=void 0}){const f=h(),g=F(),p=v(),{variables:x,mutate:_}=S({mutationFn:({feature:b,enabled:q})=>k.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:t}},requestBody:{feature:b,value:q}}),onSettled:()=>{p.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{g.danger(f.formatMessage(M.featureSettingsUpdateFailed))}});return e.jsx(C,{onChange:b=>{_({feature:c,enabled:b})},enabled:m??x?.enabled??n,Icon:s,label:a,tooltip:o,hasPadding:l,className:u,disabled:d,messageAfterTooltip:r,onClickInfo:i})}function A({connectorId:t,workspaceId:s,Icon:a,label:i,tooltip:c,tooltipValues:n,messageAfterTooltip:o,labelValues:l}){const u=h(),d=F(),m=v(),{enabled:r,isLoading:f}=R(t),{variables:g,mutate:p}=S({mutationFn:x=>k.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:s,connector_id:t}},requestBody:{enabled:x}}),onSettled:()=>{m.invalidateQueries({queryKey:["fetchConnectorWorkspacePermissions",s,t]})},onError:()=>{d.danger(u.formatMessage(M.featureSettingsUpdateFailed))}});return e.jsx(C,{onChange:p,enabled:g??!!r,Icon:a,label:i,labelValues:l,disabled:f,tooltip:c,tooltipValues:n,messageAfterTooltip:o})}const M=N({featureSettingsUpdateFailed:{id:"workspaceSettingsOld.featureSettingsUpdateFailed",defaultMessage:"Failed to update feature setting"}});export{z as B,y as S,A as W};
//# sourceMappingURL=icne8mpyunk4lpgu.js.map

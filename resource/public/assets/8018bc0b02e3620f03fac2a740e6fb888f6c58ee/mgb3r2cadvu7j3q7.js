import{eq as p,cS as d,d0 as h,d1 as c,bD as u,W as f,b as S}from"./nqrmgk5te3uzwsyz.js";import{C as x,j as e,u as l,r as a}from"./n3epq09dut36rmi2.js";import{C as v}from"./koqafwtam8w6m5t5.js";import{D as C}from"./uox23aig6gp6se2y.js";import"./he8nwqvd8i1qrsxh.js";import"./e4sjbad9hyqt73xe.js";import"./dkr8jkx9n88ez7ho.js";import"./nnldvg4yjd3ynnqu.js";import"./dga4w4fj85z63yhg.js";import"./izzltcwrbklvvt51.js";import"./jit20xrzecwhc2dk.js";import"./dnyjnsewv99rujtf.js";import"./hi5bz78ars1jrvhf.js";import"./gfex7240qlmgxew5.js";import"./jsnptf63edu6k32a.js";import"./h446s733avqwi4v2.js";import"./hk3emygtpn0flzgl.js";import"./nm5ivxaismwgb6gf.js";import"./fqlc6cxqy4xl9ika.js";import"./hg9sd8r31mlqtsqh.js";import"./7h5hwpux622xuq2c.js";import"./mdvozkxry38nfk32.js";import"./izxna8u6mo9guqnq.js";import"./e3jbhlk6nvddhkdz.js";import"./kvhuqs0v8em60vy1.js";import"./iiunoc4k1n6g4a9l.js";import"./ljuezj190v37napq.js";import"./jvs80tn6co0ttzp0.js";import"./ga29rzv9pwswyv07.js";import"./d588ndwa76k83w2v.js";import"./c1itczlqrzelhws9.js";import"./eirgecln9yzcy5p4.js";import"./i1gy5x3o7l2ezmdz.js";import"./m142gq95svb5klgv.js";import"./nonl1vc40q9bndh8.js";import"./oshe56yhea4czc03.js";import"./ex4mh6ngabphh37h.js";import"./gbfmb6n7vmtt0mld.js";import"./iwi9e9tak1je4ys9.js";import"./esr5i8s9ua5dxz6k.js";function _(o){const t=o.sharedConversationId,{data:r,isError:s}=l({queryKey:[`shared-conversation/${t}`],queryFn:()=>S.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),[i]=a.useState(()=>d()),[m,n]=a.useState(!1);return a.useEffect(()=>{s&&(window.location.href=h(c.SHARE_NOT_FOUND))},[s]),a.useEffect(()=>{r&&i&&(u.updateThreadFromServer(i,r,{skipIfExisting:!0,continuingFromSharedConversationId:t}),n(!0))},[r,t,i]),m&&r?e.jsx(C.Provider,{value:{serverSharedThreadId:o.sharedConversationId},children:e.jsx(v,{...o.chatPageProps,clientThreadId:i})}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(f,{className:"text-token-text-tertiary"})})}const mt=p(function(){const{sharedConversationId:t,...r}=x();return e.jsx(_,{...r,sharedConversationId:t})});export{mt as default};
//# sourceMappingURL=mgb3r2cadvu7j3q7.js.map

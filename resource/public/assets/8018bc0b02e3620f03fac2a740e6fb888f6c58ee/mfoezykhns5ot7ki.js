import{f as M,r as x,j as e}from"./n3epq09dut36rmi2.js";import{d7 as k,d8 as P,d9 as C,d6 as j,da as V}from"./uox23aig6gp6se2y.js";import{useWhisperHandleClick as b}from"./o3qdrvecun0y2jh7.js";import{c6 as g,c7 as v}from"./nqrmgk5te3uzwsyz.js";import{P as w,B as h,C as T}from"./i1gy5x3o7l2ezmdz.js";import"./cvbn1tps70d1df9x.js";import"./b0e9c42woseah2it.js";import"./jd7yzda1iudpei56.js";import"./m142gq95svb5klgv.js";import"./he8nwqvd8i1qrsxh.js";import"./e4sjbad9hyqt73xe.js";import"./dkr8jkx9n88ez7ho.js";import"./nnldvg4yjd3ynnqu.js";const B=({onDictationClick:r,onVoiceModeClick:i,onPointerEnter:s,onPointerLeave:a})=>{const{openPopover:t,closePopover:n}=P(),o=M();return e.jsxs("div",{className:"flex flex-col py-2",onPointerEnter:()=>s(t),onPointerLeave:()=>a(n),children:[e.jsx(C,{onClick:()=>{n(),r()},label:o.formatMessage({id:"TbQPoM",defaultMessage:"Dictate"}),icon:e.jsx(j,{"aria-label":o.formatMessage({id:"HfM1/B",defaultMessage:"Icon for menu item to select voice dictation"})})}),e.jsx(C,{onClick:()=>{n(),i()},label:o.formatMessage({id:"5myXsw",defaultMessage:"Voice Mode"}),icon:e.jsx(V,{"aria-label":o.formatMessage({id:"wXJZbs",defaultMessage:"Icon for menu item to select voice mode"})})})]})},y=({renderVoiceButton:r,onPointerEnter:i,onPointerLeave:s,...a})=>{const{openPopover:t,closePopover:n,popoverTriggerRef:o}=P(),m=x.useCallback(c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),t())},[t]);return r({onPointerEnter:()=>i(t),onPointerLeave:()=>s(n),onKeyDown:m,ref:o,...a})},J=({layoutMode:r,onDictationExit:i,renderVoiceButton:s,restoreFocus:a})=>{const t=b(i),n=k(),o=()=>{g.setBooleanCookie(v.LastVoiceInteraction,!1),t()},m=()=>{g.setBooleanCookie(v.LastVoiceInteraction,!0),n()},c=M(),l=x.useRef(null),u=()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},p=d=>{u(),l.current=window.setTimeout(()=>d(!1),300)},f=d=>{u(),l.current=window.setTimeout(()=>d(),100)};return e.jsxs(w,{layoutMode:r,restoreFocus:a,children:[e.jsx(h,{"aria-label":c.formatMessage({id:"o8zNIZ",defaultMessage:"Open voice menu"}),asChild:!0,children:e.jsx(y,{onPointerEnter:p,onPointerLeave:f,renderVoiceButton:s})}),e.jsx(T,{align:"end",sideOffset:2,children:e.jsx(B,{onDictationClick:o,onVoiceModeClick:m,onPointerEnter:p,onPointerLeave:f})})]})};export{J as CombinedVoiceButtonPopover};
//# sourceMappingURL=mfoezykhns5ot7ki.js.map

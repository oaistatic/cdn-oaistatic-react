import{eq as M,e as A,b3 as g,ae as y,W as C,aH as R,aE as E,p as O,fj as w,aj as v}from"./nqrmgk5te3uzwsyz.js";import{p as S,d as T,D as b,r as i,a7 as j,j as r,g as L}from"./n3epq09dut36rmi2.js";import{A as x}from"./jnoo2conh61brlnm.js";import{c0 as F}from"./uox23aig6gp6se2y.js";import{C as s}from"./yg6wrtqfbphm58hb.js";import"./oawcjxlzyn0p3s26.js";import"./e2u42pll2zvg252i.js";import"./kxtb8uzibmzit7fz.js";import"./dudzu8p2x62xexsf.js";import"./d588ndwa76k83w2v.js";const f={pro:"chatgptpro",plus:"chatgptplusplan"},P=Object.keys(s),D={oiw216z:"sora_redirect",vza493q:"operator_redirect"};function U(o){o&&s[o]&&(window.location.href=s[o])}const $=M(function(){const[_]=S(),n=T(),l=A(),{plan:a}=b(),e=_.get("checkout_from"),u=i.useRef(!1),t=g(),p=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]),{value:c}=y("1719651090");if(!a||!(a in f))throw j("/");return i.useEffect(()=>{if(!t||u.current)return;if(u.current=!0,e==="vza493q"){t.hasPaidSubscription()&&t.isPro()?window.location.href=s[e]:c||n("/");return}(async()=>{const d=e&&P.includes(e)?D[e]:"purchase_plan_redirect";try{e&&P.includes(e)&&R.setItem(E.CheckoutFrom,e);const m=await O.getCheckoutLink(l,"Sora",{plan_name:f[a],billing_details:{currency:w}});v.logEvent("Account Pay: Purchase Plan Redirect",{...p,plan:a,location:d}),window.location.href=m.url}catch{F(n,d)}})()},[n,l,a,e,p,c,t]),r.jsxs(r.Fragment,{children:[t&&e==="vza493q"&&c&&r.jsx(x,{currentAccount:t,hasEnterpriseFooter:!1,onClose:()=>U(e),subtitle:h.operatorModalSubtitle,title:h.operatorModalTitle,variant:"operator"}),r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:r.jsx(C,{})})]})}),h=L({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{$ as default};
//# sourceMappingURL=blvai9z642smjg0q.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nplanl4wgfidg7wv.js","assets/n3epq09dut36rmi2.js","assets/uox23aig6gp6se2y.js","assets/nqrmgk5te3uzwsyz.js","assets/root-nu0t8wee.css","assets/conversation-small-cqkvcue6.css","assets/e4sjbad9hyqt73xe.js","assets/dkr8jkx9n88ez7ho.js","assets/nnldvg4yjd3ynnqu.js","assets/ndn4flwqbqj2ljkj.js","assets/pawqw5naoncdrm4a.js","assets/la8z119bov5ppsrb.js","assets/nhaumnamaraldeqg.js","assets/flm25398fqv3l1fq.js","assets/he8nwqvd8i1qrsxh.js","assets/jimsid3i508qaho5.js","assets/m60ckkzn7rurnxvk.js","assets/ml4w4c9lsfl3hdys.js","assets/hi5bz78ars1jrvhf.js","assets/hg9sd8r31mlqtsqh.js","assets/7h5hwpux622xuq2c.js","assets/b99rlgw1hhu0zh6m.js","assets/lg6icdyr21lby6jd.js","assets/njd26q3dyf3rmqxh.js","assets/gv70d3tg5ak51g8p.js","assets/uej9dpn25xq0voku.js","assets/w7zwb8sma3e0efwq.js","assets/mmgogcu21wjwfuju.js","assets/hei6y7h1s7bbkn44.js","assets/pdkqh7k9zfozmz7b.js","assets/fdyy6rpyngvfwf1e.js","assets/bmuv64etdg91ex6w.js","assets/xdtirbwvvk4sqc30.js","assets/732ktrbtyfqle46e.js","assets/dnyjnsewv99rujtf.js","assets/loybro28dk8o1rh8.js","assets/play-sm-1f6vhsjh.css","assets/mwmzy5d3s65b6nqi.js","assets/eirgecln9yzcy5p4.js","assets/izzltcwrbklvvt51.js","assets/oshe56yhea4czc03.js","assets/azqvry2z7sssyjfm.js","assets/ipklaqcgu1ejshk6.js","assets/bns64zud9fwchaft.js","assets/lw3nae8q1eor1tu0.js","assets/kth8b95xbvmuu5bx.js","assets/iiunoc4k1n6g4a9l.js","assets/kvhuqs0v8em60vy1.js","assets/oco3z5r1wfatkk2z.js","assets/i29w7batiy3i4iov.js","assets/FormattedText-kb0ehjj7.css","assets/cot-message-lf3q5fj1.css","assets/b6zsv7l6ev03surx.js","assets/fqir9qbv9yg84epv.js","assets/o1t6xpv89lnnhjsb.js","assets/e255q8q718drrsgb.js","assets/dmx052n3lc572ye8.js"])))=>i.map(i=>d[i]);
import{g as Me,s as Qe,c as y,aY as qe,be as Ze,dX as $,dP as Ge,af as Q,ga as es,aa as De,B as ee,aL as K,fd as ss,aj as ts,c0 as as,ag as Le,ae as U,dL as Oe,F as ie,h4 as ns,h5 as ne,dY as is,ar as os,ew as pe,ev as rs,at as ls,e5 as cs,dh as ds,e6 as x,c4 as ms,c5 as us,bL as fs,g9 as Y,X as N,cs as gs,fC as he,u as xs,dR as ps,_ as k}from"./nqrmgk5te3uzwsyz.js";import{f as oe,r as g,j as e,M as T,a6 as B,a5 as L,a as hs}from"./n3epq09dut36rmi2.js";import{mS as _s,mT as ys,fK as Re,mU as js,mV as bs,fh as Ss,fi as vs,aN as se,mW as Ns,mX as Cs,mY as ks,mZ as Es,lq as As,m_ as Ts,m$ as _e,n0 as X,n1 as ye,n2 as ws,n3 as Ms,L as je,n4 as Ds,n5 as Ls,n6 as Os,fv as Rs,dq as Ie,cS as Pe,aE as Fe,aJ as q,n7 as Is,n8 as Ps,n9 as be,na as Be,ec as Fs,nb as Bs,nc as Us,nd as Vs,ne as zs,bJ as Hs,bI as Ws,mp as Js,nf as Xs,mN as Ks,ng as Ys,nh as $s,ni as Qs,aS as qs,de as Zs,nj as Gs,jV as et,nk as st,jp as Se,nl as tt,nm as at,nn as nt,no as Ue,k1 as it,np as ot,nq as rt,nr as ve,aL as lt,ns as ct,nt as dt,nu as mt,ee as ut}from"./uox23aig6gp6se2y.js";import{u as ft}from"./e4sjbad9hyqt73xe.js";const te={div:s=>{const{node:n,children:t,...a}=s;return e.jsx("div",{...a,className:"text-red-500",children:t})},p:s=>{const{node:n,children:t,...a}=s;return e.jsx("p",{...a,className:"text-token-text-primary text-start leading-6",children:t})},a:s=>{const{node:n,children:t,...a}=s;return e.jsx("a",{...a,className:"font-sm text-token-text-primary! leading-6",children:t})}},gt=1e3*60*2,xt=30;function Ve({taskId:s,clientThreadId:n,onClick:t,statusMessage:a,showSources:i,includeMargin:o,sources:l,progressBar:c}){const r=Re(),[m,u]=g.useState(!1),p=Me(),f=Qe(p,"2007855518");return e.jsxs(e.Fragment,{children:[s&&m&&e.jsx(js,{taskId:s,clientThreadId:n,onClose:()=>u(!1)}),e.jsxs("div",{className:"relative flex w-4/5 max-w-[416px]",children:[s&&f&&e.jsx("button",{onClick:()=>u(!0),disabled:!s,className:"hover:bg-token-bg-elevated-secondary bg-token-bg-elevated-primary absolute end-4 bottom-4 flex items-center justify-center rounded-full border border-black/10 p-0.5 dark:border-white/10",children:e.jsx(bs,{className:"icon-lg"})}),e.jsx("button",{onClick:()=>r&&t(),className:y("bg-token-main-surface-primary mt-4 flex w-full items-start justify-start gap-[18px] rounded-2xl border border-black/10 px-5 py-4 shadow-sm dark:border-white/10",r?"hover:bg-token-main-surface-secondary cursor-pointer":"cursor-auto"),children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsxs("div",{className:y("flex flex-col items-start justify-start self-stretch md:h-7 md:flex-row md:items-center md:justify-between",i?"h-12":"h-6"),children:[e.jsx("div",{className:y("font-sm text-token-text-primary w-full flex-1 truncate text-start leading-7 md:w-0",o&&"me-[30px]"),children:a}),i&&l]}),e.jsx("div",{className:y("flex w-full items-center justify-start gap-4 self-stretch pb-2",s&&f&&"pe-10"),children:c})]})})]})]})}function re({taskId:s,clientThreadId:n,toggleSidebar:t,openSidebar:a,startTime:i}){const o=oe(),[l,c]=g.useState(!1),r=_s();return g.useEffect(()=>{if(!i)return;const m=Date.now()-i,u=gt-m;if(u>0){const p=setTimeout(()=>{c(!0),a()},u);return()=>clearTimeout(p)}else c(!0),a()},[i,a]),e.jsx(Ve,{taskId:s,clientThreadId:n,onClick:t,statusMessage:l?o.formatMessage({id:"T2SbxC",defaultMessage:"Waiting…"}):e.jsx("div",{className:"text-token-text-primary text-sm font-medium text-pretty",children:r.startingMessage}),progressBar:e.jsx(ys,{className:"h-2 w-full"}),showSources:!1})}function pt(s,n,t){const a=s.formatMessage({id:"Bs+OcV",defaultMessage:"Thinking…"});if(n.length<2)return t?.initial??a;const i=n[n.length-2];return i.type==="summary"?i.title:i.type==="search"?i.query:i?.type==="websiteOpen"?e.jsx(se,{componentOverrides:te,children:i.activeRowText}):i.type==="fileOpen"?e.jsx(se,{componentOverrides:te,children:i.activeRowText}):i.type==="pythonAnalysis"?e.jsx(se,{componentOverrides:te,children:i.analysisSummary}):a}function ht({task:s,clientThreadId:n,caterpillarRows:t,messageWithTaskMetadata:a,totalSources:i,handleToggleCaterpillarSidebar:o}){const l=oe(),c=Re(),r=pt(l,t,a.metadata?.async_task_status_messages),m=(s?.expectedDurationMinutes??xt)*60*1e3,u=Ss(t[1]?.created_at?t[1].created_at*1e3:Date.now(),m),p=t[1]&&t[1].created_at?u:0;g.useEffect(()=>{qe(n,b=>{b.async_status=Ze.STREAMING})},[n]);const{openThreadSidebar:f}=$();g.useEffect(()=>{t.length===2&&c&&f({type:"caterpillar",caterpillarId:s.taskId,initialTab:"activity",clientThreadId:n})},[t.length,f,s.taskId,n,c]);const _=g.useCallback(()=>{f({type:"caterpillar",caterpillarId:s.taskId,initialTab:"activity",clientThreadId:n})},[f,s.taskId,n]);return t.length<=1?e.jsx(re,{taskId:s.taskId,clientThreadId:n,toggleSidebar:()=>o("activity"),openSidebar:_,startTime:new Date(s.createdAt).getTime()}):e.jsx(Ve,{taskId:s.taskId,clientThreadId:n,onClick:()=>o("activity"),statusMessage:r,showSources:!0,includeMargin:i>0,sources:i===0?e.jsx("div",{className:"text-token-text-tertiary text-sm text-pretty",children:e.jsx(T,{id:"zfwUjs",defaultMessage:"Looking for sources…"})}):e.jsxs("button",{onClick:b=>{b.stopPropagation(),o("sources")},className:y("flex shrink-0 gap-1 text-[13px] leading-[18px] text-[#0285ff]",c?"cursor-pointer hover:text-[#0285ff]/80":"cursor-auto"),children:[e.jsx("div",{className:"relative",children:e.jsx(B,{initial:!1,children:e.jsx(L.span,{initial:{opacity:0,rotateX:-90,translateY:20},animate:{opacity:1,rotateX:0,translateY:0},exit:{opacity:0,rotateX:90,translateY:-20},transition:{duration:.35},className:"absolute start-0 md:end-0",children:i},i)})}),e.jsx("div",{className:y("md:pe-0",i>0&&"ps-2",i>9&&"ps-[14px]",i>99&&"ps-[22px]"),children:i>1?e.jsx(T,{id:"zN+MuO",defaultMessage:" sources"}):e.jsx(T,{id:"dMowmJ",defaultMessage:" source"})})]}),progressBar:e.jsx("div",{className:"bg-token-main-surface-tertiary flex h-2 shrink grow basis-0 items-start justify-start gap-2.5 overflow-hidden rounded-[10px]",children:e.jsx(vs,{percentage:p,barClassName:"bg-token-text-primary",backgroundClassName:"bg-token-main-surface-tertiary"})})})}function _t({messages:s,clientThreadId:n}){const t=s.find(m=>m.metadata?.b1de6e2_s&&m.metadata?.async_task_id),a=t?.metadata?.async_task_id,i=s.find(m=>m.recipient===Ge.START_RESEARCH_TASK),o=Q(n,m=>ws(m,i?.id)),l=es({clientThreadId:n}),[c,r]=g.useState(l);return g.useEffect(()=>{const m=setTimeout(()=>{r(o&&l)},3e3);return()=>clearTimeout(m)},[l,o]),!t||!a?c?e.jsx(re,{taskId:a,clientThreadId:n,toggleSidebar:()=>{},openSidebar:()=>{},startTime:new Date().getTime()}):null:e.jsx(yt,{clientThreadId:n,payloadTaskId:a,messageWithTaskMetadata:t})}function yt({payloadTaskId:s,messageWithTaskMetadata:n,clientThreadId:t}){Ns(s,n,t);const a=Cs(f=>s?f.tasks[s]:null),i=oe(),o=a?.status,l=g.useMemo(()=>a?.rows?a.rows:[],[a?.rows]),{toggleThreadSidebar:c}=$(),{totalSources:r,totalSearches:m}=g.useMemo(()=>{if(!l)return{uniqueSources:[],totalSources:0,totalSearches:0};const f=ks(l),_=f.reduce((S,C)=>S+C.count,0),b=Es(l);return{uniqueSources:f,totalSources:_,totalSearches:b}},[l]),u=As("caterpillar"),p=g.useCallback(f=>{s&&c({type:"caterpillar",caterpillarId:s,initialTab:f,clientThreadId:t},u)},[c,s,u,t]);return Ts(s),n.metadata?.async_task_status_messages?.completed_with_time?e.jsx(_e,{task:a,clientThreadId:t,messageWithTaskMetadata:n,totalSources:r,totalSearches:m,handleToggleCaterpillarSidebar:p}):!a||!o||o===X.UNDETERMINED?e.jsx(re,{taskId:s,clientThreadId:t,toggleSidebar:()=>{},openSidebar:()=>{},startTime:new Date().getTime()}):a.status===X.COMPLETED?e.jsx(_e,{task:a,clientThreadId:t,messageWithTaskMetadata:n,totalSources:r,totalSearches:m,handleToggleCaterpillarSidebar:p}):a.status===X.FAILED?e.jsx(ye,{message:n.metadata?.async_task_status_messages?.error??i.formatMessage({id:"at6zk8",defaultMessage:"Failed to think"}),handleToggleCaterpillarSidebar:()=>p("activity")}):a.status===X.CANCELLED?e.jsx(ye,{message:n.metadata?.async_task_status_messages?.cancelled??i.formatMessage({id:"u1rIr5",defaultMessage:"Task Cancelled"}),handleToggleCaterpillarSidebar:()=>p("activity")}):e.jsx(ht,{task:a,clientThreadId:t,caterpillarRows:l,messageWithTaskMetadata:n,totalSources:r,handleToggleCaterpillarSidebar:p})}function jt(s,n,t){const a=n.elements.length;if(a===0)return;const i=Object.entries(s).reduce((o,[l,c])=>Array.isArray(c)?c.length>0?o+1:o:c!==""?o+1:o,0);ts.logEventWithStatsig("dynamic-form-submission","chatgpt_dyanmic_form_submission",{...as({clientThreadId:t}),totalItems:a.toString(),completedItems:i.toString(),ratio:(i/a).toString()})}function bt(s,n){let t="";return n.elements.forEach(a=>{const i=a.scope.split("/").pop(),o=i&&s[i],l=o?Array.isArray(o)?o.join(", "):o:"Any",c=a.label??i;t+=`${c}: ${l}
`}),t}function St({messages:s,clientThreadId:n,isLastMessage:t}){const a=s.find(v=>v.author.role===De.Assistant),i=s.find(v=>v.metadata?.json_form),o=i?.metadata?.json_form,[l,c]=g.useState({}),[r,m]=g.useState(),[u,p]=g.useState(),f=Ms(),_=ft(n);g.useEffect(()=>{o&&(m(o.json_form_ui),p(o.json_form_data))},[o]);const b=g.useCallback(()=>{if(c({}),r){const v={...r,elements:r.elements.filter(F=>F.scope!=="#/properties/AdditionalInfo")};m(v)}u&&(delete u.properties.AdditionalInfo,p(u))},[c,m,p,r,u]),S=g.useCallback(()=>{if(r){const v={...r,elements:[...r.elements,{type:"Control",scope:"#/properties/AdditionalInfo",label:"Additional Info",placeholder:"Any other details..."}]};m(v)}if(u){const v={...u.properties,AdditionalInfo:{type:"string"}};p({...u,properties:v})}},[m,p,r,u]),C=r?.elements.some(v=>v.scope.endsWith("#/properties/AdditionalInfo")),M=Q(n,Le.getCurrentLeafId),E=i?.id!==M;if(!i||!u||!r)return a?.status==="in_progress"&&t?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(je,{className:"h-[26px] w-full"}),e.jsx(je,{className:"h-[26px] w-3/4"}),e.jsx(Ds,{})]}):null;if(E)return null;const P=async v=>{const F=bt(l,r);jt(l,r,n),_({sourceEvent:v,promptMessage:ss(F),completionMetadata:{systemHints:[...f],conversationMode:{kind:K.PrimaryAssistant}}})};return e.jsxs(Ls,{children:[e.jsx(vt,{formData:l,dataSchema:u,uiSchema:r,setData:c,readOnly:E}),e.jsxs("div",{className:"flex w-full justify-between",children:[C?e.jsx("div",{}):e.jsx(ee,{disabled:E,onClick:S,color:"secondary",className:"text-token-text-secondary",children:e.jsx(T,{id:"Sen69P",defaultMessage:"Add a detail"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{disabled:E,onClick:b,color:"secondary",className:"text-token-text-secondary",children:e.jsx(T,{id:"Uqo7UD",defaultMessage:"Reset"})}),e.jsx(ee,{disabled:E,onClick:P,children:e.jsx(T,{id:"FVou++",defaultMessage:"Start"})})]})]})]})}function vt({dataSchema:s,uiSchema:n,setData:t,readOnly:a,formData:i}){return e.jsx("div",{children:e.jsx(Os,{formData:i,readOnly:a,schema:s,uiSchema:n,onChange:o=>t(o)})})}const Ne=4;function Nt({navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t}){const{value:a}=U("3472722167"),i=s.domains.filter(r=>r.url);g.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",s.type,{urls:i.map(r=>r.url).join(",")})},[i]);let o=[],l=[];const c=i[0].sub_domains.length>0&&a;return i.length>3||c?(o=[i[0]],l=i.slice(1,Ne)):o=i,e.jsxs("div",{className:y("not-prose mb-3 flex gap-2",l.length>0?"flex-col":"flex-row"),children:[o.map((r,m)=>e.jsx(Ce,{isPrimaryDomain:m===0,isFistLineDomain:!0,navigationDomain:r,trackContentReferenceEvent:t,analyticsMetadata:{section_index:m}},r.url)),l.length>0&&e.jsxs("div",{className:"flex items-stretch gap-2",children:[l.map((r,m)=>e.jsx(Ce,{navigationDomain:r,trackContentReferenceEvent:t,analyticsMetadata:{section_index:o.length+m}},r.url)),s.domains.length>Ne&&e.jsx(Ct,{onShowSearchResults:n,trackContentReferenceEvent:t})]})]})}const ze=ie.div`border border-token-border-default shadow-xxs hover:bg-token-main-surface-secondary dark:border-token-border-xlight dark:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-tertiary`,Ct=({onShowSearchResults:s,trackContentReferenceEvent:n})=>e.jsx(ze,{className:"flex w-8 cursor-pointer items-center justify-center rounded-xl",onClick:()=>{n("Search Content Reference Clicked","search_content_reference_clicked","navigation",{sidebar:"sidebar"}),s(Ie.Sources,Pe.Links)},children:e.jsx(Rs,{className:"opacity-50"})}),Ce=({isPrimaryDomain:s,isFistLineDomain:n,navigationDomain:t,trackContentReferenceEvent:a,analyticsMetadata:i})=>(g.useEffect(()=>{a("link_action","link_action","navigation",{url:t.url,title:t.title,link_type:"card",action:"show",section:"fast_nav",section_location:"response",section_index:i.section_index})},[]),e.jsx("div",{className:y("flex-1",s?"min-w-[40%]":"min-w-0"),children:e.jsx(kt,{isFistLineDomain:n,isPrimaryDomain:s,title:t.title,subtitle:t.subtitle??void 0,url:t.url,domain:t.domain,subDomains:t.sub_domains,trackContentReferenceEvent:a,analyticsMetadata:i})})),kt=({isFistLineDomain:s,isPrimaryDomain:n,title:t,subtitle:a,url:i,subDomains:o,trackContentReferenceEvent:l,analyticsMetadata:c})=>{const{value:r}=U("3472722167"),[m,u]=g.useState(!1),p={url:i,title:t,link_type:"card",section:"fast_nav",section_location:"response",section_index:c.section_index};o.length>0;const f=Oe()?"_self":"_blank";return e.jsxs(ze,{className:"group/navigation text-token-link flex flex-col rounded-2xl",children:[e.jsxs(Fe,{href:i,target:f,onClick:()=>l("link_action","link_action","navigation",{...p,action:"click"}),onMouseEnter:()=>{l("link_action","link_action","navigation",{...p,action:"hover"})},className:y("flex flex-row items-center gap-2",s?"px-4 py-3":"px-4 py-2.5"),children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-[#1D53BF0D] group-hover/navigation:bg-[#1D53BF1A] dark:bg-[#7CA8FF33] dark:group-hover/navigation:bg-[#7CA8FF33]",children:e.jsx(q,{url:i,size:32,minSize:20,className:"icon-sm rounded-full"})}),e.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",children:[e.jsxs("div",{className:y("flex items-center gap-1 font-semibold",s?"text-sm":"text-xs"),children:[e.jsx("span",{className:"flex-1 truncate",children:t}),!1]}),e.jsx("div",{className:"truncate text-xs",children:a})]})]}),!1]})},ae=3,Et=3;function At({navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t}){const{value:a}=U("756982149"),i=g.useContext(Is)!=null,o=g.useContext(Ps);return e.jsx("div",{className:y({hidden:o&&i}),children:a?e.jsx(Tt,{navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t}):e.jsx(Nt,{navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t})})}function Tt({navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t}){const a=s.domains.filter(l=>l.url);g.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",s.type,{urls:a.map(l=>l.url).join(",")})},[a]);const i=a.slice(0,ae),o=a.slice(ae,ae+Et);return e.jsxs("div",{className:"not-prose mb-3 flex gap-2",children:[i.map((l,c)=>e.jsx(Mt,{isPrimaryDomain:c===0,isFistLineDomain:!0,navigationDomain:l,trackContentReferenceEvent:t,analyticsMetadata:{section_index:c}},l.url)),o.length>0&&e.jsx(wt,{onShowSearchResults:n,trackContentReferenceEvent:t,moreDomains:o})]})}const wt=({onShowSearchResults:s,trackContentReferenceEvent:n,moreDomains:t})=>e.jsx(He,{component:"div",className:"group flex w-28 cursor-pointer",onClick:()=>{n("Search Content Reference Clicked","search_content_reference_clicked","navigation",{sidebar:"sidebar"}),s(Ie.Sources,Pe.Links)},children:e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("div",{className:"flex items-center",children:t.map((a,i)=>e.jsx("div",{style:{zIndex:t.length-i},className:"ms-[-6px] first:ms-0",children:e.jsx("div",{className:y("flex h-4 w-4 items-center overflow-hidden rounded-full","border-token-main-surface-primary bg-token-main-surface-primary group-hover:border-token-bg-tertiary border-2"),children:e.jsx(q,{url:a.url,size:32,minSize:20,className:"icon-xs rounded-full",showLoadingAnimation:!0})},a.url)},a.url))}),e.jsx("div",{className:"text-token-text-primary flex text-sm font-semibold",children:e.jsx("span",{className:"truncate",children:e.jsx(T,{id:"B5xwY8",defaultMessage:"More links"})})})]})}),Mt=({isPrimaryDomain:s,isFistLineDomain:n,navigationDomain:t,trackContentReferenceEvent:a,analyticsMetadata:i})=>(g.useEffect(()=>{a("link_action","link_action","navigation",{url:t.url,title:t.title,link_type:"card",action:"show",section:"fast_nav",section_location:"response",section_index:i.section_index})},[]),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx(Dt,{isFistLineDomain:n,isPrimaryDomain:s,title:t.title,subtitle:t.subtitle??void 0,url:t.url,domain:t.domain,subDomains:t.sub_domains,trackContentReferenceEvent:a,analyticsMetadata:i})})),Dt=({isFistLineDomain:s,title:n,subtitle:t,url:a,trackContentReferenceEvent:i,analyticsMetadata:o})=>{const l={url:a,title:n,link_type:"card",section:"fast_nav",section_location:"response",section_index:o.section_index},c=Oe(ns())?"_self":"_blank";return e.jsxs(He,{component:Fe,href:a,target:c,onClick:()=>i("link_action","link_action","navigation",{...l,action:"click"}),onMouseEnter:()=>{i("link_action","link_action","navigation",{...l,action:"hover"})},className:"flex flex-col gap-[2px]",children:[e.jsxs("div",{className:"text-token-text-secondary flex items-center gap-[6px] text-xs",children:[e.jsx(q,{url:a,size:32,minSize:20,className:"icon-xs rounded-full",showLoadingAnimation:!0}),e.jsx("div",{className:"truncate",children:t})]}),e.jsx("div",{className:y("text-token-text-primary flex items-center font-medium",s?"text-sm":"text-xs"),children:e.jsx("span",{className:"truncate",children:n})})]})},He=({component:s,children:n,className:t,...a})=>e.jsx(s,{...a,className:y("hover:bg-token-main-surface-secondary border-token-border-light rounded-2xl border px-4 py-3",t),children:n}),Lt=2e3,We=.4,Ot=.45,Rt=.2,It=.1,Pt=.25;var R=(s=>(s[s.Running=0]="Running",s[s.Finished=1]="Finished",s[s.Error=2]="Error",s[s.Stopped=3]="Stopped",s[s.Paused=4]="Paused",s))(R||{});function ha({conversationMessages:s,icon:n,status:t,text:a,estimatedToolDurationMs:i,animationLoopDurationMs:o=Lt,shouldPersistAfterFinished:l=!1}){const[c,r]=g.useState(t===0?0:t===1&&!l?7:1),[m,u]=g.useState(0);g.useEffect(()=>{t===2?r(8):t===3?r(9):t===4?r(10):t===1?r(c===2?3:7):t===0&&c===10&&(r(2),u(f=>f+1))},[t]);const p=Ut(c);return g.useEffect(()=>{const f=s[0].id;if(p)return be.addDelayedRenderingMessage(f),()=>{be.removeDelayedRenderingMessage(f)}},[p]),Be(()=>{I(c)&&u(f=>f+1)},o),c===7&&!l?null:e.jsxs("div",{className:"my-2.5 flex items-center gap-2.5",children:[e.jsx(Ft,{icon:n,status:t,uiState:c,estimatedToolDurationMs:i,animationLoopCounter:m,shouldPersistAfterFinished:l,onFillProgressBarAnimationComplete:()=>r(4),onFinishAnimationComplete:()=>{r(5),setTimeout(()=>{r(l?7:6)},It*1e3)},onHideAnimationComplete:()=>r(7)}),e.jsx(Bt,{text:a,uiState:c,animationLoopCounter:m,onEnterAnimationComplete:()=>r(2)})]})}const ke=50;function Ft({icon:s,status:n,uiState:t,estimatedToolDurationMs:a,animationLoopCounter:i,shouldPersistAfterFinished:o,onFillProgressBarAnimationComplete:l,onFinishAnimationComplete:c,onHideAnimationComplete:r}){const[m,u]=g.useState(0);Be(()=>{I(t)?u(E=>E+ke):t===10&&u(0)},ke);let p,f,_;I(t)||t===10?(p="running",f=e.jsx(s,{animationLoopCounter:i}),_="bg-transparent"):t===4||t===5||t===7&&o?(p="finished",f=e.jsx(Us,{}),_="bg-brand-purple"):n===2?(p="error",f=e.jsx(Vs,{}),_="bg-orange-500"):n===3&&(p="stopped",f=e.jsx(zs,{}),_="bg-gray-300");let b={opacity:0,scale:0,rotate:-180,x:0},S={type:"spring",bounce:.3,duration:Ot},C={opacity:0,scale:.6,rotate:0,x:0};t===0?(b={opacity:0,scale:.5,rotate:-180,x:-8},S={type:"spring",bounce:.3,duration:We}):t===1?b=!1:t===5&&(C={opacity:0,scale:0,rotate:0,x:0},S={type:"spring",bounce:.3,duration:Pt});const M=Bs(m,a);return e.jsx("div",{className:"relative h-5 w-5 shrink-0",children:e.jsx(B,{onExitComplete:()=>{t===6&&r()},children:p!=null&&e.jsxs(L.div,{className:y("absolute start-0 top-0 flex h-full w-full items-center justify-center rounded-full text-white",_),initial:b,animate:{opacity:1,scale:1,rotate:0,x:0},exit:C,transition:S,onAnimationComplete:()=>{t===4&&c()},children:[f,(I(t)||t===10)&&e.jsx(Fs,{percentage:t===3?100:M,thickness:1.5/23,className:"text-brand-purple absolute start-1/2 top-1/2 h-[23px] w-[23px] -translate-x-1/2 -translate-y-1/2",backgroundStrokeClassName:"stroke-brand-purple/25 dark:stroke-brand-purple/50",transitionDuration:t===3?`${(100-M)/100*Rt}s`:void 0,transitionTimingFunction:t===3?"cubic-bezier(0.55, 0, 1, 1)":void 0,onTransitionEnd:()=>{t===3&&l()}})]},p)})})}function Bt({text:s,uiState:n,animationLoopCounter:t,onEnterAnimationComplete:a}){const[i,o]=g.useState(s);g.useEffect(()=>{n===2&&o(s)},[t]),g.useEffect(()=>{I(n)||o(s)},[n,s]);let l={opacity:0,x:0,y:15},c={type:"spring",bounce:.3,opacity:{duration:.15},y:{duration:.3}};n===0?(l={opacity:0,x:-8,y:0},c={type:"spring",bounce:.3,duration:We,delay:.15}):n===1&&(l=!1);const r=i??void 0;return e.jsx("div",{className:y("relative h-5 w-full leading-5",n===8||n===9?"text-token-text-tertiary":"text-token-text-secondary"),children:e.jsx(B,{children:r!=null&&e.jsx(L.div,{className:"absolute start-0 top-0 line-clamp-1 overflow-visible",initial:l,animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:0,y:-15},transition:c,onAnimationComplete:()=>{n===0&&a()},children:r},r.toString())})})}function I(s){return s===0||s===2||s===3}function Ut(s){return I(s)||s===4||s===5||s===6||s===10}const Ee=ie.div`group start-0 top-0 me-1.5 overflow-hidden mt-1 text-start`,Vt=({highlightedCommand:s,status:n,children:t,showWorkUserSetting:a=!1,hideOnlyIfNotInteractedWith:i=!1,defaultExpanded:o=!1,onOpenAnalytics:l,onClick:c,...r},m)=>{const u=t!=null||c!=null,[p]=g.useState(a),[f,_]=g.useState(a||o),[b,S]=g.useState(!1),C=n===R.Finished||n===R.Error,M=i?p?!1:!b:!1,E=n===R.Running&&"loading-shimmer";return C&&M?null:u?e.jsxs(e.Fragment,{children:[e.jsx(Ae,{ref:m,$canShowWork:!0,...r,children:e.jsx(B,{children:e.jsx(Ee,{children:e.jsx(L.button,{onClick:P=>{f||l?.(),_(v=>!v),S(!0),c?.(P)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:y(E),children:e.jsxs("div",{className:"flex items-center justify-start gap-1",children:[e.jsx("span",{className:"text-start",children:s}),!c&&(f?e.jsx(Hs,{className:"icon-md"}):e.jsx(Ws,{className:"icon-md"}))]})},s?.toString())})})}),e.jsx(B,{children:f&&t&&e.jsx(L.div,{initial:"collapsed",animate:"reveal",exit:"collapsed",variants:{collapsed:{translateY:-20,opacity:0,height:0},reveal:{translateY:0,opacity:1,height:"auto"}},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:t})})]}):e.jsx(Ae,{ref:m,$canShowWork:!1,...r,children:e.jsx(Ee,{className:y(E),children:s})})},Ae=ie.span`block first:mt-0 relative
${({$canShowWork:s})=>s?"text-token-text-secondary hover:text-token-text-primary my-1.5":"text-token-text-secondary"}`,zt=g.forwardRef(Vt),Ht=3,Wt=.1,Te=[0,.26,.4];function Jt({nextMessage:s,isLastMessage:n,isRequestActive:t,isLastTurnInConversation:a,clientThreadId:i,turnIndex:o,searchResultGroups:l}){const c=n||!s||s&&!ne(s),r=g.useRef(!1),m=hs(),u=Q(i,Le.getGizmoId);g.useEffect(()=>{s&&ne(s)&&!r.current&&(r.current=!0,Js(m,u))},[s,m,u]);const p=is(s);s?.id&&Xs(s?.id);const f=[];if(p?.[0]?.type==="navigation"&&s&&f.push(e.jsx(Xt,{clientThreadId:i,turnIndex:o,nextMessage:s,isRequestActive:t,isLastTurnInConversation:a,navigationCitation:p[0]},"fast-nav")),c){const _=os(l.slice(0,Ht).map(S=>S.entries[0].url)),b=t?e.jsxs("div",{className:"flex items-center gap-1",children:[_.map((S,C)=>e.jsx(L.div,{className:y("-ms-1.5 first:ms-0 last:me-1.5","relative"),initial:{width:C===0?0:6,opacity:0},animate:{width:20,opacity:1},transition:{duration:Wt,delay:Te[Math.min(C,Te.length-1)]},children:e.jsx("div",{className:y("flex h-[22px] w-[22px] items-center overflow-hidden rounded-full","border-token-bg-primary bg-token-bg-primary border-2"),children:e.jsx(q,{url:S,size:32,minSize:16,className:"icon-md rounded-full"})})},S)),e.jsx(T,{id:"jjx8Qg",defaultMessage:"Searching the web"})]}):e.jsx(T,{id:"fssXGM",defaultMessage:"Error while searching"});f.push(e.jsx(zt,{highlightedCommand:b,status:t?R.Running:R.Error},"search-gpt-query"))}return f.length?e.jsx(e.Fragment,{children:f}):null}const Xt=({clientThreadId:s,turnIndex:n,nextMessage:t,isRequestActive:a,isLastTurnInConversation:i,navigationCitation:o})=>{const{scrollToHeader:l}=pe("searchSources")??{},c=rs(),r=pe("searchSources"),{openThreadSidebar:m}=$(),{value:u}=U("756982148");return g.useEffect(()=>{ls.addFirstTiming("render.fastNavigation")},[]),g.useEffect(()=>{c&&r&&m({type:"searchSources",scrollToHeader:l,clientThreadId:s,turnIndex:n,messageId:t?.id??""})},[]),g.useEffect(()=>{const p=t,f=p.metadata?.search_source,_=o.domains.map(b=>b.url);Ks.logEvent("Search Tool Request Time To Fast Nav",s,p.id,{search_source:f,urls:_},()=>{f===cs.InstantQuery&&Ys.logEvent("Search Tool Page Load Time To Fast Nav",{message_id:p.id,urls:_,search_source:f})})},[s,t,o]),a&&i&&u?e.jsx(L.div,{initial:{opacity:a?0:1,height:a?0:"auto"},animate:{opacity:1,height:"auto"},children:e.jsx(we,{clientThreadId:s,turnIndex:n,nextMessage:t,navigationCitation:o})}):e.jsx(we,{clientThreadId:s,turnIndex:n,nextMessage:t,navigationCitation:o})},we=({clientThreadId:s,turnIndex:n,nextMessage:t,navigationCitation:a})=>{const{toggleThreadSidebar:i}=$(),{value:o}=U("756982148"),l=g.useMemo(()=>({clientThreadId:s,turnIndex:n,messageId:t?.id}),[s,n,t?.id]),c=g.useCallback((m,u)=>{i({type:"searchSources",scrollToHeader:u,clientThreadId:s,turnIndex:n,messageId:t?.id??""})},[i,s,n,t?.id]),r=$s(l);return o?e.jsx(At,{navigation:a,onShowSearchResults:c,trackContentReferenceEvent:r}):e.jsx(Qs,{tldr:{type:"tldr",status:"done",display_title:a.domains[0].title,url:a.domains[0].url,matched_text:"",start_idx:0,end_idx:0,page_title:"",breadcrumbs:[a.domains[0].domain],refs:[]},trackContentReferenceEvent:r})},Kt=N(()=>k(()=>import("./nplanl4wgfidg7wv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Yt=N(()=>k(()=>import("./ndn4flwqbqj2ljkj.js"),__vite__mapDeps([9,1,3,4,10]))),$t=N(()=>k(()=>import("./la8z119bov5ppsrb.js"),__vite__mapDeps([11,1,3,4,2,5]))),Qt=N(()=>k(()=>import("./nhaumnamaraldeqg.js"),__vite__mapDeps([12,1,3,4,2,5,13,14,6,7,8]))),qt=N(async()=>()=>null);N(async()=>()=>null);const Zt=N(async()=>(await k(()=>import("./jimsid3i508qaho5.js"),__vite__mapDeps([15,3,1,4,13,2,5,16,17,6,7,8,18,19,20,21]))).ImageGenMessage),Gt=N(()=>k(()=>import("./lg6icdyr21lby6jd.js"),__vite__mapDeps([22,1,3,4,2,5,6,7,8]))),ea=N(()=>k(()=>import("./ml4w4c9lsfl3hdys.js"),__vite__mapDeps([17,1,3,4,2,5,6,7,8])).then(s=>s.BrowsingMessage)),sa=N(()=>k(()=>import("./njd26q3dyf3rmqxh.js"),__vite__mapDeps([23,1,3,4,2,5])).then(s=>s.SearchResultMessage)),ta=N(()=>k(()=>import("./gv70d3tg5ak51g8p.js"),__vite__mapDeps([24,1,3,4,2,5,6,7,8])).then(s=>s.JITPluginMessage)),aa=N(()=>k(()=>import("./uej9dpn25xq0voku.js"),__vite__mapDeps([25,3,1,4,26,2,5,27,6,7,8])).then(s=>s.DataAnalysisMessage)),na=N(()=>k(()=>import("./hei6y7h1s7bbkn44.js"),__vite__mapDeps([28,1,3,4,2,5,29]))),ia=N(()=>k(()=>import("./fdyy6rpyngvfwf1e.js"),__vite__mapDeps([30,1,3,4,31,32,2,5,16,17,6,7,8,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,27,48,49,50,51])).then(s=>s.LegacyCoTMessage)),oa=N(()=>k(()=>import("./bmuv64etdg91ex6w.js"),__vite__mapDeps([31,1,3,4,32,2,5,16,17,6,7,8,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,27,48,49,50,51])).then(s=>s.CoT)),ra=N(()=>k(()=>import("./b6zsv7l6ev03surx.js"),__vite__mapDeps([52,1,2,3,4,5,53,54,55,56])).then(s=>s.JawboneMessage)),la=N(async()=>()=>null);function ca(s){return s.some(n=>n.type===x.SearchGPTQuery)?s.filter(a=>a.type===Y).reduce((a,i)=>a+i.groups.filter(o=>o.type===x.StructuredThoughts).length,0)>1:!0}function _a({groupedMessagesToRender:s,allMessages:n,allGroupedMessages:t,clientThreadId:a,isUserTurn:i,isCompletionRequestInProgress:o,isFeedbackEnabled:l,isFinalTurn:c,isFinalUserTurn:r,turnIndex:m,hasActiveRequest:u,onRequestCompletion:p,shouldGrowContainer:f=!0,isParagen:_=!1,renderingView:b="chat"}){const{showDebugConversationTurns:S}=qs(),[C]=Q(a,d=>[d?.mode]),M=Zs(a),E=ds(a),P=Gs(),v=t.some(d=>d.type===x.Browsing||d.type===x.RetrievalBrowsing||d.type===x.SearchGPTQuery),F=et(()=>ms.count(us.DEFAULT,"conversation_turn_grouped_messages.attempted_render_missing_type_f959b8c")),Z=fs(n),le=st({clientThreadId:a,conversationMode:C}),Je=g.useCallback(({sourceEvent:d,requestedModelId:h,appendMessages:j,extraStreamParams:w})=>{Z&&le({sourceEvent:d,nodeId:Z.id,requestedModelId:h,appendMessages:j,extraStreamParams:w})},[Z,le]),G=s.map((d,h)=>{const j=h===t.length-1,w=ca(s);if(d.type===Y)return w?e.jsx(oa,{isStreaming:c&&j&&o,messageGroups:d.groups,isAutoswitch:M?.enableInfer,handleSimplerResponseClick:A=>{Je({sourceEvent:A,requestedModelId:"gpt-4o"})}},"cot-"+d.groups[0].messages[0].id):null;const ue=h===0?void 0:s[h-1],fe=ue?.type!==Y?ue:void 0,ge=fe?.type,xe=fe?.messages,Ye=d&&!ne(d.messages[0]),$e=v&&Ye,W=[];switch($e||W.push(e.jsx(Se,{className:"min-h-8",message:d.messages[0],isFeedbackEnabled:l,isFinalUserTurn:r,isCompletionInProgress:j&&o,hasActiveRequest:u,turnIndex:m,clientThreadId:a,isUserTurn:i,prevGroupedMessageType:ge,prevGroupedMessages:xe},"text-message-"+d.messages[0].id)),S&&W.push(e.jsx(la,{clientThreadId:a,message:d.messages[0]},"message-debug-"+d.messages[0].id)),d.type){case x.Text:case x.MultiText:return d.type===x.Text?e.jsxs(g.Fragment,{children:[W,e.jsx(ot,{isUserTurn:i,message:d.messages[0]})]},"group-"+d.messages[0].id):d.type===x.MultiText?e.jsx($t,{clientThreadId:a,messages:d.messages,isCompletionInProgress:j&&o,isFeedbackEnabled:l,hasActiveRequest:u,prevGroupedMessageType:ge,prevGroupedMessages:xe},"multitext-"+(d.messages[0]?.id??h)):d.type;case x.Browsing:case x.RetrievalBrowsing:{const A=C!=null&&[K.GizmoInteraction,K.GizmoMagicCreate,K.GizmoTest].includes(C.kind),D=E?it(E):!1;return e.jsx(ea,{messages:d.messages,isRequestActive:u,isLastMessageInTurn:j,isUsingGizmo:A,isUsingSnorlax:D,isRetrieval:d.type===x.RetrievalBrowsing},"browsing-"+(d.messages[0]?.id??h))}case x.SearchGPTQuery:{if(s.some(O=>O.type===Y)&&w)return null;const D=s.slice(h+1).findLast(O=>O.type===x.Text||O.type===x.CoTSearchTool),J=n.findLast(O=>he(O).length>0);return e.jsx(Jt,{clientThreadId:a,turnIndex:m,isRequestActive:u,isLastMessage:j,isLastTurnInConversation:c,nextMessage:D?.messages[0],searchResultGroups:he(J)},"searchquery-"+(d.messages[0]?.id??h))}case x.StructuredThoughts:return null;case x.ReasoningRecap:return null;case x.CoTSearchTool:return null;case x.n7jupd:return null;case x.n7jupd_i:case x.n7jupd_x:return null;case x.n7jupd_m:{if(!j)return null;const A={...d.messages[0],content:{content_type:gs.Text,parts:[""]}};return e.jsx(Se,{className:"min-h-8",message:A,isFeedbackEnabled:l,isFinalUserTurn:r,isCompletionInProgress:j&&o,hasActiveRequest:u,clientThreadId:a,isUserTurn:i,turnIndex:m},"text-message-"+A.id)}case x.a8km123:{if(!d.messages.some(D=>D.metadata?.model_slug==="o1-pro")){const D=Ue(n,J=>J.author.role===De.Assistant&&J.recipient==="all");return e.jsx(ia,{clientThreadId:a,turnIndex:m,isStreaming:(j||D<h)&&o,messages:d.messages},"sum-"+(d.messages[0]?.id??h))}return e.jsx(na,{messages:d.messages,isStreaming:j&&o,isLastMessage:j,clientThreadId:a,currentGroupedMessageIndex:h,turnIndex:m},"sum-"+(d.messages[0]?.id??h))}case x.f959b8c:return F(),null;case x.is_loading_message:return j&&o?e.jsx(nt,{},"loading-message-"+h):null;case x.c12k321:return null;case x.l1p9k3u:return null;case x.b1de6e2_c:return e.jsx(St,{messages:d.messages,clientThreadId:a,isLastMessage:j},"b1de6e2-"+(d.messages[0]?.id??h));case x.b1de6e2_s:return e.jsx(_t,{messages:d.messages,clientThreadId:a},"b1de6e2_s-"+(d.messages[0]?.id??h));case x.b1de6e2_d:return null;case x.b1de6e2_rm:return e.jsx(at,{messages:d.messages,clientThreadId:a,renderingView:b,children:W},"b1de6e2_rm-"+(d.messages[0]?.id??h));case x.de1d73e:if(P){const A=h+1<t.length?t[h+1]:void 0;return e.jsx(ra,{clientThreadId:a,currentGroupedMessage:d,nextMessage:A&&A.type===x.Text?A.messages[0]:void 0,isLastMessage:j,isRequestActive:u},"jawbone-"+(d.messages[0]?.id??h))}else return null;case x.ParallelBrowsing:return e.jsx(Gt,{messages:d.messages},"parallel-"+(d.messages[0]?.id??h));case x.CodeInterpreter:return e.jsx(aa,{messages:d.messages,isRequestActive:u,clientThreadId:a},"ada-"+(d.messages[0]?.id??h));case x.JITPlugin:return e.jsx(ta,{messages:d.messages,clientThreadId:a,isLastTurnInConversation:c,onRequestCompletion:p},"jit-"+(d.messages[0]?.id??h));case x.t2uay3k:return e.jsx(Zt,{messages:d.messages,clientThreadId:a,disableClickThru:_,isLastTurnInConversation:c},"t2uay3k-"+(d.messages[0]?.id??h));case x.Dalle:return e.jsx(Qt,{messages:d.messages,clientThreadId:a,disableClickThru:_},"dalle-"+(d.messages[0]?.id??h));case x.GizmoEditor:return e.jsx(Kt,{messages:d.messages},"gizmo-editor-"+(d.messages[0]?.id??h));case x.oiw209h:return e.jsx(qt,{messages:d.messages,clientThreadId:a},"oiw209h-"+(d.messages[0]?.id??h));case x.Canmore:return e.jsx(tt,{messages:d.messages,allTurnMessages:n,isFinalTurn:c,isRequestActive:u,clientThreadId:a,isUserTurn:i},"canmore-"+(d.messages[0]?.id??h));case x.Container:case x.Oboe:return null;case x.Debug:return S?e.jsx(Yt,{message:d.messages[0]},"debug-"+d.messages[0].id):null;case x.SearchResult:return e.jsx(sa,{messages:d.messages},"search-result-"+(d.messages[0]?.id??h));case x.kanzi:return null}}),Xe=mt(),Ke=Me(),{wordFadeType:V}=rt(),z=g.useRef([]),ce=g.useRef(void 0),de=g.useRef(null),H=!i&&c&&o,me=n[0]?.id;return xs(()=>{if(V!=="indexed"||!H)return;const d=de.current;if(!d)return;ce.current!==me&&(ce.current=me,z.current=[]);const h=d.getAnimations({subtree:!0}).filter(j=>j.animationName===ve["fade-in"]);if(h.length!==0){const j=ua({now:performance.now(),previousStartTimes:z.current,groupCount:h.length});z.current=j;for(let w=0;w<h.length;w++)h[w].startTime=j[w]}else z.current=[]},[G,V,H]),e.jsx("div",{className:y({"flex max-w-full flex-col":!0,[ve.root]:V==="indexed"&&H,grow:f}),ref:de,children:e.jsx(ps,{name:"GroupedMessages",fallback:da,children:i?G:e.jsxs(lt,{isDisabled:!H||V!=="delay",children:[ct(Ke)&&c&&e.jsx(dt,{isStreaming:o,debug:Xe}),G]},n[0]?.id)})})}function da({error:s}){return e.jsxs(ut,{type:"danger",children:[e.jsx(T,{id:"5eGo3w",defaultMessage:"Unable to display this message due to an error."}),!1]})}function ma(s,n,t){if(s.length<2||n<=0)return 0;const a=n/Math.log(2);s=[...s].sort((l,c)=>l-c);let i=0,o=0;for(let l=s.length-1;l>0;--l){const c=Math.exp(-(t-s[l])/a);if(i>0&&c/i<.01)break;const r=s[l]-s[l-1];i+=c,o+=c*r}return i===0?0:i/o}function ua({now:s,previousStartTimes:n,groupCount:t,initialRate:a=50,halfLife:i=1}){const o=n.slice(0,Ue(n,u=>u<=s)+1),l=o.length<2?a/1e3:Math.max(.01,ma(o,i*1e3,s)),c=t-o.length;let r=o[o.length-1]??0,m=1;for(let u=0;u<c;u++){const p=l*1e3*m;c<p?m*=.8:c>p&&(m*=1.5);const f=1/(l*m),_=Math.max(s,r+f);o.push(_),r=_}return o}export{_a as C,we as F,At as N,R as T,zt as a,ha as b};
//# sourceMappingURL=iwi9e9tak1je4ys9.js.map

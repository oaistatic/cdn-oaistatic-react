import{f as r,j as a}from"./n3epq09dut36rmi2.js";import{m as b,aj as i,aO as c,B as v,c as w}from"./nqrmgk5te3uzwsyz.js";import{d3 as W,d4 as _,d5 as k,aG as M,d6 as x}from"./uox23aig6gp6se2y.js";import{u as E}from"./cvbn1tps70d1df9x.js";import{u as C}from"./jd7yzda1iudpei56.js";import"./b0e9c42woseah2it.js";const j=e=>{const{requestMicrophonePermissions:t}=E(),o=r().formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),s=b();return async()=>{if(i.logEvent("Whisper on Web/Windows: Clicked to start dictation"),c.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await t())return s.danger(o);e()}},O=({size:e="medium",disabled:t,onExit:n,buttonClassName:o,invertColor:s,disableTooltip:l=!1,visualTreatment:p,...u})=>{const d=r(),g=C(f=>f.status),m=j(n);g==="error"&&(i.logEvent("Whisper on Web/Windows: Error"),c.logEvent("chatgpt_composer_whisper_button_error"));const h=a.jsx(x,{"aria-label":"",className:s?"h-5 w-5":"h-[18px] w-[18px]",fontSize:"inherit"});return a.jsx(y,{disabled:l,children:p==="composer-btn"?a.jsx("button",{...u,"aria-label":d.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),type:"button",onClick:m,disabled:t,className:"composer-btn",children:h}):a.jsx(v,{...u,"aria-label":d.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:e,type:"button",onClick:m,disabled:t,className:w(s?W:_,"[view-transition-name:var(--vt-composer-whisper-button)]",t?"opacity-30":!s&&k,"dark:hover:bg-transparent dark:hover:opacity-100",o),children:h})})};function y({children:e,disabled:t=!1}){const n=r();return a.jsx(M,{open:t?!1:void 0,label:n.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"bottom",onOpenChange:o=>{o&&(i.logEvent("Whisper on Web/Windows: Button hover to see tooltip"),c.logEvent("chatgpt_composer_whisper_button_hovered"))},children:e})}export{O as WhisperIconButton,j as useWhisperHandleClick};
//# sourceMappingURL=o3qdrvecun0y2jh7.js.map

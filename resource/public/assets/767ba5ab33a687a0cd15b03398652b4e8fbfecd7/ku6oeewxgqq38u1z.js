import{c3 as h,aU as l,cU as g,B as b,fG as v}from"./j5zd9vs1l0bwsjqa.js";import{f,r as m,u as M,j as e,M as c,d as P}from"./j12so9ru57hpoz1y.js";import{a as y}from"./egjzck8f21ldiiq8.js";import{gF as G,gN as C,r as T,gL as N}from"./jn7p98x7qxquz26a.js";import{C as w,a as L,b as z}from"./b3uizo711j30otmf.js";import{G as E}from"./ltbb50k4vcg90o8t.js";import{E as S,P as _}from"./j2m3ef69iou998eo.js";import"./n5601invkykfg1ys.js";import"./b0v1yruiy44zd1p9.js";import"./msp412gwqdn605it.js";import"./ok8fnoyzbnoyk9qs.js";import"./owhjnpwqw9ddu7v0.js";import"./n8jfalcwtj8ijtra.js";import"./ico83cg07nw4gm43.js";import"./b808i0mobwfw0uar.js";import"./b4wy8ndq94672kqa.js";import"./n0tk3xne532h7ges.js";import"./e2i9dno9lalz25o9.js";import"./01yrv2o49ye0ebr7.js";import"./d8hi8vzea1zd4sdu.js";import"./hxt8zt4ovcs39phn.js";const k=20,x=h.div`border-b-2 border-b-black pb-3 dark:border-b-white`,p=h.div`cursor-pointer border-b-2 border-b-transparent pb-3 text-token-text-secondary`;function A(){const i=l(),r=f(),t=i?.isWorkspaceAccount(),[s,a]=m.useState("mine");y({resetThreadAction:()=>{r("/")}});const n=M();if(i==null)return null;const d=e.jsx(c,{id:"1pqG1A",defaultMessage:"Created by me"}),o=e.jsx(c,{id:"2oQjZs",defaultMessage:"Shared with me"});return e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-12 pt-0",children:[e.jsx("h1",{className:"mb-8 text-xl font-semibold md:text-2xl",children:e.jsx(c,{id:"dgQTc/",defaultMessage:"My GPTs"})}),t&&(s==="mine"?e.jsxs("div",{className:"mb-4 flex flex-row space-x-4",children:[e.jsx(x,{children:d}),e.jsx(p,{onClick:()=>a("shared_with_me"),children:o})]}):e.jsxs("div",{className:"mb-4 flex flex-row space-x-4",children:[e.jsx(p,{onClick:()=>a("mine"),children:d}),e.jsx(x,{children:o})]})),s==="mine"&&e.jsx(w,{type:L.Enabled}),e.jsx(B,{emptyMessage:s==="shared_with_me"?n.formatMessage({id:"zG4NW2",defaultMessage:"No GPTs have been shared with you yet"}):void 0,cutId:s},s)]})})}function B({cutId:i,emptyMessage:r}){const[t,s]=m.useState(!0),{data:a,hasNextPage:n,fetchNextPage:d,isLoading:o}=G({cutId:i,limit:k,enabled:t});return o&&a==null?e.jsx("div",{className:"my-8 flex justify-center",children:e.jsx(g,{})}):!o&&a?.pages?.[0].list.items.length===0&&!n?e.jsx("span",{children:r}):e.jsxs("div",{children:[e.jsx("div",{children:a?.pages.flatMap(j=>j.list.items.map(({resource:u})=>e.jsx(z,{gizmoResource:u},u.gizmo.id)))}),!t||n||o?e.jsx(b,{color:"secondary",onClick:()=>{t?d():s(!0)},loading:o,fullWidth:!0,children:e.jsx(c,{...F.discoveryLoadMore})}):null]})}const F=P({discoveryLoadMore:{id:"gizmo.mygpts.loadMore",defaultMessage:"Load more"}});function I({children:i}){return l()==null?null:e.jsxs("div",{children:[i,e.jsx("div",{className:"fixed end-3 bottom-3",children:e.jsx(C,{})})]})}const oe=()=>(T(),null),ne=v(function(){const r=l(),t=!!r?.hasPlusFeatures(),s=f();if(m.useEffect(()=>{r!=null&&!t&&s("/gpts")},[r,t,s]),!t)return null;const a=e.jsx(I,{children:e.jsx(A,{})});return e.jsx(E,{header:e.jsxs(N,{children:[e.jsx(S,{}),e.jsx("div",{className:"ms-auto",children:e.jsx(_,{})})]}),children:a})});export{oe as clientLoader,ne as default};
//# sourceMappingURL=ku6oeewxgqq38u1z.js.map

import{u as M,r as x,j as e}from"./j12so9ru57hpoz1y.js";import{dd as k,de as P,df as g,dc as j,dg as V}from"./jn7p98x7qxquz26a.js";import{useWhisperHandleClick as b}from"./m24yo49a47c7k45e.js";import{l as v,m as C}from"./j5zd9vs1l0bwsjqa.js";import{P as w,B as h,C as B}from"./nc07k7y06adedb9d.js";import"./fe63fbazy8g3etes.js";import"./ko9momito7h8y578.js";import"./mpl7u7azbwm9upe9.js";import"./b0v1yruiy44zd1p9.js";import"./msp412gwqdn605it.js";import"./ok8fnoyzbnoyk9qs.js";import"./d8hi8vzea1zd4sdu.js";import"./hxt8zt4ovcs39phn.js";import"./owhjnpwqw9ddu7v0.js";import"./i0f6lf35jgfv6z47.js";import"./egjzck8f21ldiiq8.js";import"./n5601invkykfg1ys.js";import"./01yrv2o49ye0ebr7.js";const T=({onDictationClick:n,onVoiceModeClick:r,onPointerEnter:s,onPointerLeave:a})=>{const{openPopover:t,closePopover:i}=P(),o=M();return e.jsxs("div",{className:"flex flex-col py-2",onPointerEnter:()=>s(t),onPointerLeave:()=>a(i),children:[e.jsx(g,{onClick:()=>{i(),n()},label:o.formatMessage({id:"TbQPoM",defaultMessage:"Dictate"}),icon:e.jsx(j,{"aria-label":o.formatMessage({id:"HfM1/B",defaultMessage:"Icon for menu item to select voice dictation"})})}),e.jsx(g,{onClick:()=>{i(),r()},label:o.formatMessage({id:"5myXsw",defaultMessage:"Voice Mode"}),icon:e.jsx(V,{"aria-label":o.formatMessage({id:"wXJZbs",defaultMessage:"Icon for menu item to select voice mode"})})})]})},y=({renderVoiceButton:n,onPointerEnter:r,onPointerLeave:s,...a})=>{const{openPopover:t,closePopover:i,popoverTriggerRef:o}=P(),m=x.useCallback(c=>{(c.key==="Enter"||c.key===" ")&&(c.preventDefault(),t())},[t]);return n({onPointerEnter:()=>r(t),onPointerLeave:()=>s(i),onKeyDown:m,ref:o,...a})},F=({layoutMode:n,onDictationExit:r,renderVoiceButton:s,restoreFocus:a})=>{const t=b(r),i=k(),o=()=>{v.setBooleanCookie(C.LastVoiceInteraction,!1),t()},m=()=>{v.setBooleanCookie(C.LastVoiceInteraction,!0),i()},c=M(),l=x.useRef(null),u=()=>{l.current&&(window.clearTimeout(l.current),l.current=null)},p=d=>{u(),l.current=window.setTimeout(()=>d(!1),300)},f=d=>{u(),l.current=window.setTimeout(()=>d(),100)};return e.jsxs(w,{layoutMode:n,restoreFocus:a,children:[e.jsx(h,{"aria-label":c.formatMessage({id:"o8zNIZ",defaultMessage:"Open voice menu"}),asChild:!0,children:e.jsx(y,{onPointerEnter:p,onPointerLeave:f,renderVoiceButton:s})}),e.jsx(B,{align:"end",sideOffset:2,children:e.jsx(T,{onDictationClick:o,onVoiceModeClick:m,onPointerEnter:p,onPointerLeave:f})})]})};export{F as CombinedVoiceButtonPopover};
//# sourceMappingURL=c84gf8u6s055evv0.js.map

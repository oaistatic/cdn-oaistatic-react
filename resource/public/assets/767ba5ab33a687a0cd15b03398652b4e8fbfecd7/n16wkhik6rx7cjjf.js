const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fkc3ntf87kry2ywn.js","assets/j12so9ru57hpoz1y.js","assets/jn7p98x7qxquz26a.js","assets/j5zd9vs1l0bwsjqa.js","assets/root-eh80jqkj.css","assets/conversation-small-cmjjxogj.css","assets/klbsx4kdjyr4mj5x.js","assets/e1jofttp6ghk5de6.js"])))=>i.map(i=>d[i]);
import{dV as F,B as X,cW as B,u as ce,C as ue,M as H,a as ne,aA as W,r as me,aO as ge,cU as we,cy as ke,cz as Ce,aU as De,aW as Ae,fG as Oe}from"./j5zd9vs1l0bwsjqa.js";import{u as _,r as M,j as e,M as s,d as L}from"./j12so9ru57hpoz1y.js";import{kS as Te,il as w,kT as Le,eG as Ee,kU as Re,bj as Be,gR as Z,q as fe,dK as ae,kV as Pe,kW as Ne,kX as pe,kY as _e,aS as Ue,aP as qe,kZ as xe,fG as N,k_ as P,c3 as Ve,k$ as Se,l0 as Fe,l1 as He,l2 as We,dq as ie,dr as oe,c9 as $e,l3 as Ge,l4 as Xe,l5 as ze,eN as Ye}from"./jn7p98x7qxquz26a.js";import{S as Ze}from"./jue5tlf16awjqha1.js";import{b as Ke,c as Qe,u as Je,d as et}from"./bsx5it5i69ktteto.js";import{d as Q,e as J,f as $,a as tt}from"./e1jofttp6ghk5de6.js";import{S as he}from"./fe0hu88t4g44z3ii.js";import"./ico83cg07nw4gm43.js";import"./j2m3ef69iou998eo.js";import"./egjzck8f21ldiiq8.js";import"./n5601invkykfg1ys.js";import"./b0v1yruiy44zd1p9.js";import"./msp412gwqdn605it.js";import"./ok8fnoyzbnoyk9qs.js";import"./owhjnpwqw9ddu7v0.js";import"./d8hi8vzea1zd4sdu.js";import"./hxt8zt4ovcs39phn.js";import"./b808i0mobwfw0uar.js";import"./b4wy8ndq94672kqa.js";import"./n0tk3xne532h7ges.js";import"./e2i9dno9lalz25o9.js";import"./01yrv2o49ye0ebr7.js";import"./dcbnlt0qk59dcwle.js";import"./kfx9sm4pjzhy5hcb.js";import"./doknjlw48az0ww3q.js";const re={[F.VERIFIED]:"✅",[F.PENDING]:"⏳",[F.EXPIRED]:"⚠️"};function st({onRemoveDomainClick:t,onVerifyDomainClick:a}){return e.jsxs(B.Root,{children:[e.jsx(B.Trigger,{children:e.jsx(Be,{className:"icon-sm"})}),e.jsx(B.Portal,{children:e.jsxs(B.Content,{children:[e.jsx(B.Item,{onClick:t,children:e.jsx(s,{...G.ssoDropdownRemoveButtonText})}),e.jsx(B.Item,{onClick:a,children:e.jsx(s,{...G.ssoDropdownVerifyButtonText})})]})})]})}function nt({domains:t,workspaceId:a}){const o=_(),{mutateAsync:n}=Te(a),[i,d]=M.useState(!1),[m,f]=M.useState();return e.jsxs(e.Fragment,{children:[e.jsxs(w.Root,{className:"w-full table-auto",children:[e.jsxs(w.Header,{children:[e.jsx(w.HeaderCell,{className:"bg-token-main-surface-primary",children:e.jsx(s,{...G.domainTableHeader})}),e.jsx(w.HeaderCell,{className:"bg-token-main-surface-primary",children:e.jsx(s,{...G.statusTableHeader})}),e.jsx(w.HeaderCell,{className:"bg-token-main-surface-primary"})]}),e.jsx(w.Body,{children:t.map((c,v)=>{const S=re[c.status]!==void 0?re[c.status]:"";return e.jsxs("tr",{onClick:()=>f(c),className:"cursor-pointer",children:[e.jsx(w.Cell,{children:c.hostname}),e.jsx(w.Cell,{children:e.jsxs("span",{children:[S," ",o.formatMessage(Le[c.status])]})}),e.jsx(w.Cell,{textAlign:"right",children:e.jsx("div",{onClick:h=>h.stopPropagation(),children:e.jsx(st,{onRemoveDomainClick:()=>{n({domainId:c.id})},onVerifyDomainClick:()=>{f(c)}})})})]},v)})})]}),e.jsx(X,{color:"secondary",className:"mt-6",onClick:()=>{d(!0)},icon:Ee,children:e.jsx(s,{...G.addDomainButton})}),e.jsx(Re,{isOpen:i||m!==void 0,onClose:()=>{d(!1),f(void 0)},workspaceId:a,currentDomain:i?void 0:m,domains:t},m?.id)]})}const G=L({ssoDropdownRemoveButtonText:{id:"workspaceIdentity.ssoDropdownRemoveButtonText",defaultMessage:"Remove Domain"},ssoDropdownVerifyButtonText:{id:"workspaceIdentity.ssoDropdownVerifyButtonText",defaultMessage:"Verify"},domainTableHeader:{id:"workspaceIdentity.domainTableHeader",defaultMessage:"Domain"},statusTableHeader:{id:"workspaceIdentity.statusTableHeader",defaultMessage:"Status"},addDomainButton:{id:"workspaceIdentity.addDomainButton.0",defaultMessage:"Add domain"}}),K=({icon:t,title:a,body:o,toggle:n})=>e.jsxs(Q,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"icon-sm"}),e.jsx(J,{children:a})]}),e.jsx("div",{children:n})]}),e.jsx($,{children:o})]});function at({acsId:t,hasSSO:a}){const o=`https://auth0.openai.com/login/callback?connection=${t}`,n=`urn:auth0:openai:${t}`,i=`${location.host}/auth/login?sso=true&connection=${t}`,d=_(),m=ce();return e.jsxs(e.Fragment,{children:[e.jsx($,{children:e.jsx(s,{...V.setupSSOContent})}),e.jsxs("div",{className:"mb-6 flex flex-col space-y-4",children:[e.jsx(Z,{label:"Assertion Consumer Service (ACS) URL",value:o,onCopied:()=>{m.success(d.formatMessage(V.copiedACSToClipboard),{duration:3})}}),e.jsx(Z,{label:"Entity ID",value:n,onCopied:()=>{m.success(d.formatMessage(V.copiedEntityToClipboard),{duration:3})}}),a&&e.jsx(Z,{label:d.formatMessage(V.idpSignInURL),value:i,onCopied:()=>{m.success(d.formatMessage(V.copiedIDPUrlToClipboard),{duration:3})}})]})]})}const V=L({setupSSOContent:{id:"workspaceIdentity.setupSSOContent",defaultMessage:"Anyone using email addresses with a verified domain can log in via SAML SSO."},idpSignInURL:{id:"workspaceIdentity.idpSignInURL",defaultMessage:"IDP Tile URL"},copiedACSToClipboard:{id:"workspaceIdentity.copiedACSToClipboard",defaultMessage:"Copied ACS URL to clipboard"},copiedEntityToClipboard:{id:"workspaceIdentity.copiedEntityToClipboard",defaultMessage:"Copied entity ID to clipboard"},copiedIDPUrlToClipboard:{id:"workspaceIdentity.copiedIDPUrlToClipboard",defaultMessage:"Copied IDP URL to clipboard"}});function ye({isOpen:t,onClose:a}){const o=fe();return e.jsx(ue,{testId:"modal-reauth-required",isOpen:t,onClose:a,type:"warning",title:e.jsx(s,{...le.reauthRequiredTitle}),icon:ae,primaryButton:e.jsx(H.Button,{onClick:()=>{o({authType:"login",callbackUrl:"/admin/identity"})},color:"primary",children:e.jsx(s,{id:"qcl4gn",defaultMessage:"Login"})}),secondaryButton:e.jsx(H.Button,{onClick:a,children:e.jsx(s,{id:"E1vtdZ",defaultMessage:"Close"})}),children:e.jsx("label",{className:"mb-2 flex items-center text-sm",children:e.jsx(s,{...le.reauthRequiredExplanation})})})}const le=L({reauthRequiredTitle:{id:"workspaceIdentity.reauthRequiredTitle",defaultMessage:"Please login again"},reauthRequiredExplanation:{id:"workspaceIdentity.reauthRequiredExplanation",defaultMessage:"For security reasons, we need you to reauthenticate before making changes to SSO settings."}}),it=async t=>new Promise((a,o)=>{const n=new FileReader;n.readAsText(t),n.onload=function(i){a(i.target?.result)},n.onerror=o});function ot({workspaceId:t,data:a,isOpen:o,onClose:n}){const i=_(),d=fe(),{mutateAsync:m}=Pe(t),{mutateAsync:f}=Ne(t),{mutateAsync:c}=pe(t),v=M.useRef(null),S=a?.connection,[h,C]=M.useState(S?.sign_in_endpoint),[E,y]=M.useState(!1),[r,j]=M.useState(S?.cert),b=a===null?1:2,p=async(g,T)=>{let U;try{U=await m({signInEndpoint:g,cert:T})}catch(A){if(A instanceof W&&A.code==="reauth_required"){y(!0);return}throw A}await c({connectionId:U.id,active:!0}),n()},ee=b===1?e.jsx(H.Button,{title:i.formatMessage(k.doneButton),color:"primary",disabled:h===void 0||r===void 0,onClick:async()=>{h===void 0||r===void 0||await p(h,r)}}):a&&e.jsx(H.Button,{title:i.formatMessage(k.doneButton),color:"primary",onClick:async()=>{await c({connectionId:a?.id,cert:r,signInEndpoint:h,active:!0}),n()}}),D=a===null?e.jsx(H.Button,{title:i.formatMessage(k.cancelButton),color:"secondary",onClick:()=>n()}):e.jsx(X,{as:"link",color:"danger-outline",onClick:async()=>{await f({connectionId:a?.id}),n()},children:i.formatMessage(k.deleteButton)});return e.jsx(ue,{testId:"modal-sso",isOpen:o,type:"success",title:i.formatMessage(b===1?k.createTitle:k.editTitle),primaryButton:ee,secondaryButton:D,onClose:n,children:e.jsxs("form",{onSubmit:g=>g.preventDefault(),children:[e.jsx(_e,{children:e.jsx(s,{...k.createInstructionsManual})}),e.jsx("label",{htmlFor:"sign-in-url",className:"mb-2 flex items-center text-sm",children:e.jsx(s,{...k.signInLabel})}),e.jsx("div",{className:"mb-4",children:e.jsx(Ue,{ariaLabel:!1,className:"w-full appearance-none rounded-sm border px-3 py-2",name:"sign-in-url",type:"text",placeholder:"https://your.idp.here/saml2?idpid=123456",value:h??"",onChange:g=>{C(g.target.value)}})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("label",{className:"text-sm",children:e.jsx(s,{...k.certLabel})}),e.jsx("input",{ref:v,type:"file",accept:".csv,.cer,.pem,text/plain",className:"hidden",onChange:async g=>{if(g.target.files?.[0]){const T=await it(g.target.files[0]);j(T)}}}),e.jsx(X,{color:"secondary",onClick:()=>v.current?.click(),icon:qe})]}),e.jsx("textarea",{rows:10,className:ne("w-full resize-none overflow-y-auto rounded-sm border border-gray-300 px-3 py-2","outline-hidden focus-within:border-green-600 focus-within:ring-1 focus-within:ring-green-600","text-token-text-primary placeholder-gray-500 dark:bg-gray-700"),placeholder:"-----BEGIN CERTIFICATE-----",value:r??"",onChange:g=>{j(g.target.value)}})]}),E&&e.jsx("label",{className:"text-token-text-error",children:e.jsx(s,{id:"ZfFabW",defaultMessage:"You need to re-authenticate to access this page. Please <login>log in</login> before continuing.",values:{login:g=>e.jsx("a",{href:"#",className:"text-token-text-primary underline",onClick:T=>{T.preventDefault(),d({authType:"login",callbackUrl:"/admin/identity"})},children:g})}})})]})})}const k=L({createInstructionsXML:{id:"ssoModal.createInstructionsXML",defaultMessage:"If your Identity Provider offers a metadata URL or an XML file, add it here for the quickest setup option."},createInstructionsManual:{id:"ssoModal.createInstructionsManual",defaultMessage:"Copy your Sign-in endpoint (SSO URL) and the public X.509 certificate from your Identity Provider."},createTitle:{id:"ssoModal.createTitle",defaultMessage:"Create SAML SSO Configuration"},editTitle:{id:"ssoModal.editTitle",defaultMessage:"Edit SAML SSO Configuration"},ssoMetadataLabel:{id:"ssoModal.ssoMetadataLabel",defaultMessage:"App Federation Metadata URL"},signInLabel:{id:"ssoModal.signInLabel",defaultMessage:"SSO URL"},certLabel:{id:"ssoModal.certLabel",defaultMessage:"X.509 Signing Certificate"},doneButton:{id:"ssoModal.doneButton",defaultMessage:"Done"},nextButton:{id:"ssoModal.nextButton",defaultMessage:"Next"},deleteButton:{id:"ssoModal.deleteButton",defaultMessage:"Delete configuration"},cancelButton:{id:"ssoModal.cancelButton",defaultMessage:"Cancel"},acsURLLabel:{id:"workspaceIdentity.acsURLLabel",defaultMessage:"Assertion Consumer Service (ACS) URL"},entityIDLabel:{id:"workspaceIdentity.entityIDLabel",defaultMessage:"Entity ID"},orDivider:{id:"workspaceIdentity.orDivider",defaultMessage:"or"},certExtractFailed:{id:"workspaceIdentity.certExtractFailed",defaultMessage:"Unable to find X.509 Certificate in provided XML"},ssoUrlExtractFailed:{id:"workspaceIdentity.ssoUrlExtractFailed",defaultMessage:"Unable to find Entity ID (sign-in endpoint) in provided XML"},ssoLearnMoreLink:{id:"workspaceIdentity.ssoLearnMoreLink",defaultMessage:"Learn more"}});function rt({currentWorkspaceId:t}){const a=me(),o=_(),{data:n}=xe(t),{mutateAsync:i}=pe(t),d=n?.sso_connection!=null,f=!!n?.domains?.some(b=>b.status===F.VERIFIED),c=d?O.ssoEditButton:O.ssoAddButton,[v,S]=M.useState(!1),[h,C]=M.useState(!1),E=n?.sso_connection?.status==="ACTIVE",y=n?.sso_connection?.connection?.enabled_client_names?.includes("chat")??!1,r=E&&y,j=n?.sso_connection?.id;return n?e.jsxs("div",{children:[e.jsxs(Q,{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:ne("icon-sm",r?"text-blue-600":"text-token-text-tertiary")}),e.jsx(J,{children:e.jsx(s,{...O.ssoTitle})})]}),d&&e.jsx("div",{children:e.jsx(N,{enabled:r,onChange:()=>{i({connectionId:j,active:!r})},label:o.formatMessage(O.ssoToggleActive)})})]}),f&&e.jsx(at,{acsId:n.acs_id,hasSSO:d}),e.jsxs("div",{children:[!f&&e.jsx("p",{className:"mb-4 text-sm",children:e.jsx(s,{...O.ssoDisabledMessage})}),e.jsx(X,{as:"button",color:"primary",disabled:!f,onClick:()=>{P(a)?C(!0):S(!0)},children:e.jsx(s,{...c})}),e.jsx(ot,{workspaceId:t,data:n.sso_connection,isOpen:h,onClose:()=>{C(!1)}}),e.jsx(ye,{isOpen:v,onClose:()=>S(!1)})]})]}),n.sso_connection&&e.jsx(K,{icon:ae,title:e.jsx(s,{...O.enforceSSOTitle}),body:e.jsx(s,{...O.enforceSSOBody}),toggle:e.jsx(N,{disabled:!f,enabled:n.sso_connection.auth0_enforced_clients?.includes("chat"),onChange:b=>{!P(a)||!n.sso_connection?S(!0):i({connectionId:n.sso_connection.id,enforcedClients:b?["chat"]:[]}).catch(p=>{throw p instanceof W&&p.status===401&&S(!0),p})},label:o.formatMessage(O.enforceSSOLabel)})})]}):null}const O=L({ssoTitle:{id:"workspaceIdentity.ssoTitle",defaultMessage:"Single Sign On"},ssoToggleActive:{id:"WorkspaceIdentityPage.ssoToggleActive",defaultMessage:"Enable SSO for this workspace"},ssoAddButton:{id:"workspaceIdentity.ssoAddButton",defaultMessage:"Add SAML SSO"},ssoEditButton:{id:"workspaceIdentity.ssoEditButton",defaultMessage:"Edit SAML SSO"},enforceSSOTitle:{id:"workspaceIdentity.enforceSSOTitle",defaultMessage:"Enforce SSO log in"},enforceSSOBody:{id:"workspaceIdentity.enforceSSOBody",defaultMessage:"When SSO is active, users will no longer be able to use social logins and will be redirected to your SSO portal."},enforceSSOLabel:{id:"workspaceIdentity.enforceSSOLabel",defaultMessage:"Toggle to enable or disable SSO enforcement"},ssoDisabledMessage:{id:"workspaceIdentity.ssoDisabledMessage",defaultMessage:"A verified domain is required to manage (SSO) Single Sign On settings. Please verify a domain."}});function de({currentWorkspaceId:t}){const a=me(),n=(Ve()?.length??0)>0,{connection:i,enabled:d,error:m,isLoading:f}=Se(),{mutateAsync:c,status:v}=Fe(t),{mutateAsync:S,status:h}=He(t),{mutateAsync:C,status:E}=We(t),[y,r]=M.useState(!1),[j,b]=M.useState(null),[p,ee]=M.useState(null),D=m?.code==="reauth_required"||!P(a),g=ie(oe.isTeamPlan),T=ie(oe.isEnterpriseyPlan),{value:U}=ge("4105779609"),A=_(),be=ce(),z=!!i,Y=i?.sso_connection_status==="ACTIVE",R=!!i?.enabled_client_names?.includes("chat"),Me=!!i?.enforced_client_names?.includes("chat"),te=g&&U||T,ve=n?D?x.reauthRequiredExplanation:R?Y?x.ssoStatusActive:x.ssoEnabledButInactive:x.ssoStatusDisabled:x.ssoRequiresVerifiedDomain,je=D?x.reauthButtonLabel:x.manageSSOButton,q=f||v==="pending"||h==="pending"||E==="pending",Ie=async()=>{if(!q&&(b(null),!(g&&!U))){if(D||!P(a)){r(!0);return}if(i?.portal_link){window.open(i.portal_link,"_blank");return}try{const u=await c();if(u instanceof W&&u.code==="reauth_required"){r(!0);return}u.portal_link&&window.open(u.portal_link,"_blank")}catch(u){const I=u instanceof Error?u.message:"An unknown error occurred.";window.alert(I),b(I)}}};return d?e.jsxs(Q,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:ne("icon-sm",Y&&R?"text-blue-600":"text-token-text-tertiary")}),e.jsx(J,{children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx("div",{children:e.jsx(s,{...x.ssoTitle})}),e.jsx("div",{className:"ms-2 mt-1",children:q&&e.jsx(we,{})})]})})]}),e.jsx(N,{enabled:z&&R,disabled:q||!te,onChange:async()=>{if(!P(a)||D){r(!0);return}try{let u;z?u=await C():u=await c(),u instanceof W&&u.code==="reauth_required"&&r(!0)}catch(u){const I=u instanceof Error?u.message:"An unknown error occurred.";window.alert(I),ee(I)}},label:A.formatMessage(x.ssoToggleActive)})]}),p&&e.jsx("div",{className:"mt-2 text-sm text-red-500",children:p}),z&&e.jsx("div",{className:"text-sm",children:e.jsx(s,{...ve})}),z&&R&&e.jsxs(X,{className:"self-start",onClick:Ie,loading:q,disabled:!n||!te,children:[!D&&e.jsx($e,{className:"icon-sm me-2"}),e.jsx(s,{...je})]}),j&&e.jsx("div",{className:"mt-2 text-sm text-red-500",children:j}),R&&Y&&i&&e.jsx(Z,{label:A.formatMessage(x.idpSignInURL),value:`${location.host}/auth/login?sso=true&connection=${i.sso_connection_id}`,onCopied:()=>{be.success(A.formatMessage(x.copiedIDPUrlToClipboard),{duration:3})}}),e.jsx(ye,{isOpen:y,onClose:()=>r(!1)}),R&&Y&&e.jsx(K,{icon:ae,title:e.jsx(s,{...x.enforceSSOTitle}),body:e.jsx(s,{...x.enforceSSOBody}),toggle:e.jsx(N,{disabled:q||!te,enabled:Me,onChange:async u=>{if(!P(a)||D){r(!0);return}try{await S({enforcementStatus:u})}catch(I){if(I instanceof W&&I.code==="reauth_required"){r(!0);return}throw I}},label:A.formatMessage(x.enforceSSOLabel)})})]}):null}const x=L({setupSSOContent:{id:"workspaceIdentity.setupSSOContent",defaultMessage:"Anyone using email addresses with a verified domain can log in via SAML SSO."},ssoTitle:{id:"workspaceIdentity.ssoTitle",defaultMessage:"Single Sign On"},ssoToggleActive:{id:"WorkspaceIdentityPage.ssoToggleActive",defaultMessage:"Enable SSO for this workspace"},ssoStatusActive:{id:"workspaceIdentity.ssoStatusActive",defaultMessage:"Single Sign On is enabled."},ssoStatusDisabled:{id:"workspaceIdentity.ssoStatusDisabled",defaultMessage:"Single Sign On is disabled."},ssoEnabledButInactive:{id:"workspaceIdentity.ssoEnabledButInactive",defaultMessage:"Single Sign On is enabled but not activated yet."},ssoRequiresVerifiedDomain:{id:"workspaceIdentity.ssoRequiresVerifiedDomain",defaultMessage:"A verified domain is required to manage (SSO) Single Sign On settings. Please verify a domain."},manageSSOButton:{id:"workspaceIdentity.manageSSOButton",defaultMessage:"Manage Single Sign On"},enforceSSOTitle:{id:"workspaceIdentity.enforceSSOTitle",defaultMessage:"Enforce SSO log in"},enforceSSOBody:{id:"workspaceIdentity.enforceSSOBody",defaultMessage:"When SSO is active, users will no longer be able to use social logins and will be redirected to your SSO portal."},enforceSSOLabel:{id:"workspaceIdentity.enforceSSOLabel",defaultMessage:"Toggle to enable or disable SSO enforcement"},reauthButtonLabel:{id:"workspaceIdentity.reauthButtonLabel",defaultMessage:"Reauthenticate"},reauthRequiredExplanation:{id:"workspaceIdentity.reauthRequiredExplanation",defaultMessage:"For security reasons, we need you to reauthenticate before making changes to SSO settings."},idpSignInURL:{id:"workspaceIdentity.idpSignInURL",defaultMessage:"IDP Tile URL"},copiedIDPUrlToClipboard:{id:"workspaceIdentity.copiedIDPUrlToClipboard",defaultMessage:"Copied IDP URL to clipboard"}}),lt=ke(()=>Ce(()=>import("./fkc3ntf87kry2ywn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(t=>t.DirectorySyncSection)),se=({title:t,children:a})=>e.jsxs(Q,{children:[e.jsx(J,{children:t}),e.jsx("div",{children:a})]});function dt({currentWorkspaceId:t}){const o=_(),{data:n,isLoading:i}=xe(t),{enabled:d}=Se(),m=De()?.planType===Ae.TEAM,{value:f}=ge("4105779609"),c=m&&f,{variables:v,mutateAsync:S}=Ge(t),{variables:h,mutateAsync:C}=Xe(t),y=!!n?.domains?.some(p=>p.status===F.VERIFIED),r=h?.shouldAllowExternalDomainInvites??n?.allow_external_domain_invites??!0,j=y,b=n?e.jsxs(tt,{children:[e.jsxs(se,{title:e.jsxs("div",{className:"flex items-center",children:[e.jsx(s,{...l.domainsPoliciesSubtitle}),e.jsx("a",{href:"https://help.openai.com/en/articles/8871611-domain-verification",target:"_blank",rel:"noopener noreferrer",className:"ms-2 text-sm text-gray-500 hover:underline",children:e.jsx(s,{...l.learnMoreLink})})]}),children:[e.jsx(nt,{domains:n.domains,workspaceId:t}),e.jsx($,{className:"mt-2 text-sm text-gray-600",children:e.jsx(s,{...l.verifyDomainInfoText})})]}),e.jsx(se,{title:e.jsxs("div",{className:"flex items-center",children:[e.jsx(s,{...l.identitySubtitle}),e.jsx("a",{href:"https://help.openai.com/en/articles/9534785-configuring-sso-for-chatgpt-enterprise",target:"_blank",rel:"noopener noreferrer",className:"ms-2 text-sm text-gray-500 hover:underline",children:e.jsx(s,{...l.learnMoreLink})})]}),children:y?!m&&(d?e.jsx(de,{currentWorkspaceId:t}):e.jsx(rt,{currentWorkspaceId:t}))||c&&e.jsx(de,{currentWorkspaceId:t}):e.jsx($,{className:"text-gray-600",children:e.jsx(s,{...l.requiresVerifiedDomain,values:{feature:o.formatMessage(l.ssoSubtitle)}})})}),e.jsxs(se,{title:e.jsxs("div",{className:"flex items-center",children:[e.jsx(s,{...l.provisioningSubtitle}),e.jsx("a",{href:"https://help.openai.com/en/articles/10479654-understanding-your-ideal-user-management-setup#h_b2253ef5a6",target:"_blank",rel:"noopener noreferrer",className:"ms-2 text-sm text-gray-500 hover:underline",children:e.jsx(s,{...l.learnMoreLink})})]}),children:[e.jsxs("div",{className:"mb-2 space-y-4",children:[y&&e.jsx(K,{icon:ze,title:e.jsx(s,{...l.autoProvisionTitle}),body:e.jsx(s,{...l.autoProvisionBody}),toggle:e.jsx(N,{disabled:!y,enabled:v?.shouldAutoProvision??n.should_auto_provision,onChange:p=>{S({shouldAutoProvision:p})},label:o.formatMessage(l.toggleAutoProvisionLabel)})}),j?e.jsx(K,{icon:Ze,title:e.jsx(s,{...l.allowExternalDomainInvitesTitle}),body:e.jsx(s,{...l.allowExternalDomainInvitesBody}),toggle:e.jsx(N,{disabled:!y&&r,enabled:r,onChange:p=>{C({shouldAllowExternalDomainInvites:p})},label:o.formatMessage(l.toggleDisableExternalDomainInvitesLabel)})}):!y&&e.jsx($,{className:"text-gray-600",children:e.jsx(s,{...l.verifyADomainForMoreOptions})})]}),m?e.jsx("span",{children:e.jsx(s,{...l.scimNotAvailable})}):e.jsx(lt,{workspaceId:t})]}),!1]}):null;return e.jsxs(e.Fragment,{children:[e.jsx(Ye,{children:e.jsx("title",{children:o.formatMessage(l.title)})}),e.jsx(Ke,{title:o.formatMessage(l.title)}),e.jsx(Qe,{showSpinner:i,children:b})]})}const l=L({title:{id:"workspaceIdentity.title",defaultMessage:"Identity & Provisioning"},domainsPoliciesSubtitle:{id:"workspaceIdentity.domainsPoliciesSubtitle",defaultMessage:"Verified Domains"},autoProvisionTitle:{id:"workspaceIdentity.autoProvisionSubtitle",defaultMessage:"Automatic account creation"},autoProvisionBody:{id:"workspaceIdentity.autoProvisionBody",defaultMessage:"Automatically create workspace accounts for new users who log in with a verified domain."},toggleAutoProvisionLabel:{id:"workspaceIdentity.toggleAutoProvisionLabel",defaultMessage:"Enable automatic account creation"},allowExternalDomainInvitesTitle:{id:"workspaceIdentity.allowExternalDomainInvitesTitle",defaultMessage:"Allow External Domain Invites"},allowExternalDomainInvitesBody:{id:"workspaceIdentity.allowExternalDomainInvitesBody",defaultMessage:"If disabled, invitations to this workspace will be limited to users from your verified domains only."},toggleDisableExternalDomainInvitesLabel:{id:"workspaceIdentity.toggleDisableExternalDomainInvitesLabel",defaultMessage:"Enable external domain invites"},verifyDomainInfoText:{id:"workspaceIdentity.verifyDomainInfoText",defaultMessage:"Verify ownership of an email domain to unlock advanced security features, including SSO and SCIM."},domainVerificationLearnMore:{id:"workspaceIdentity.domainVerificationLearnMore",defaultMessage:"Learn more ↗"},identitySubtitle:{id:"workspaceIdentity.identitySubtitle",defaultMessage:"Identity Management (SSO)"},ssoSubtitle:{id:"workspaceIdentity.ssoSubtitle",defaultMessage:"Single Sign-On (SSO)"},learnMoreLink:{id:"workspaceIdentity.learnMoreLink",defaultMessage:"Learn more ↗"},provisioningSubtitle:{id:"workspaceIdentity.provisioningSubtitle",defaultMessage:"User Provisioning"},scimLearnMoreLink:{id:"workspaceIdentity.scimLearnMoreLink",defaultMessage:"Learn more ↗"},scimNotAvailable:{id:"workspaceIdentity.scimNotAvailable",defaultMessage:"Your plan supports SSO. Upgrade to ChatGPT Enterprise to enable Automatic User Provisioning (SCIM)."},reauthRequiredTitleSkipStaging:{id:"workspaceIdentity.reauthRequiredTitleSkipStaging",defaultMessage:"Dev/Test environment detected – Re-authentication is not required for SSO changes in test environments."},requiresVerifiedDomain:{id:"workspaceIdentity.requiresVerifiedDomain",defaultMessage:"A verified domain is required to configure {feature}."},verifyADomainForMoreOptions:{id:"workspaceIdentity.verifyADomainForMoreOptions",defaultMessage:"A verified domain is required to enable more options for User Provisioning."}}),Bt=Oe(function(){const a=Je();return et(),e.jsx(dt,{...a})});export{Bt as default};
//# sourceMappingURL=n16wkhik6rx7cjjf.js.map

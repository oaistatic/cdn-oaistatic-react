const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/omvo5pavq8p43sw1.js","assets/j12so9ru57hpoz1y.js","assets/jn7p98x7qxquz26a.js","assets/j5zd9vs1l0bwsjqa.js","assets/root-eh80jqkj.css","assets/conversation-small-cmjjxogj.css","assets/n0tk3xne532h7ges.js","assets/01yrv2o49ye0ebr7.js","assets/jjr7t0qbucu926fl.js","assets/lvpb6cwnqd8aihaw.js","assets/mx9tryggoikmqll4.js","assets/BusinessesMap-alw4dhxd.css"])))=>i.map(i=>d[i]);
import{j as s,r as p,y as ss,b as ns,o as he,M as S,R as as,u as M,d as Fe,g as yt,w as xe,aa as Ye,a9 as Be}from"./j12so9ru57hpoz1y.js";import{hq as wt,zI as rs,zJ as be,zK as os,aV as O,cF as te,cY as ve,cX as is,a$ as cs,a1 as ls,uv as ds,zL as us,f6 as hs,zM as ms,aZ as fs,km as jt,iE as ps,iD as gs,pK as xs,iU as bs,fp as vs,zN as ys,zO as Lg,zP as Rg,zQ as zg,ag as $t,af as B,zR as Hg,zS as Og,pc as Le,zT as _t,kv as kt,mZ as me,zU as ws,zV as js,i1 as $s,ii as _s,hm as Nt,hn as Ct,gv as Re,ak as ye,zW as ks,jv as Ze,fJ as Ns,fF as Cs,fE as Ss,il as A,zX as Ts,a9 as Ps,h3 as Ms,tF as Ds,d5 as Es,kn as As,zY as Is,q0 as Fs,nf as Ls,f5 as Rs,ku as zs,f9 as Hs,re as Ve,zZ as Os,z_ as Us,N as Ws,r9 as Ys}from"./jn7p98x7qxquz26a.js";import{a as N,Y as St,R as Bs,A as Zs,at as fe,au as Tt,W as J,i3 as Pt,cA as Mt,r as Vs,a_ as qs,P as re,bN as Gs,em as Xs,B as Q,cv as Ks,bT as pe,T as ze,c6 as Js,df as Qs,M as ae,ds as en,gF as tn,D as Dt,c3 as Et,ef as sn,cW as nn,cy as an,cz as rn,aO as At,c7 as It,cu as on,ct as cn,dT as ln,dy as dn,V as un}from"./j5zd9vs1l0bwsjqa.js";import{R as Ft,h as Lt,i as Rt,I as hn,S as mn,M as fn,j as pn,r as gn}from"./b0v1yruiy44zd1p9.js";import{L as xn,O as bn}from"./msp412gwqdn605it.js";import{u as vn,b as yn}from"./lvpb6cwnqd8aihaw.js";import{S as wn}from"./jfg5hcsrdvz6wljc.js";import{g as jn,c as $n,b as Pe,I as _n}from"./ok8fnoyzbnoyk9qs.js";import{u as kn}from"./mx9tryggoikmqll4.js";import{a as Nn,b as Cn}from"./e2i9dno9lalz25o9.js";import{a as Sn,b as Tn}from"./kipluhegsnyrr10h.js";import{P as X}from"./01yrv2o49ye0ebr7.js";import{v as qe,C as Pn,A as Mn,a as Dn,L as En,B as An,p as In,b as Fn,e as Ln,P as Rn,f as zn,i as Hn,g as On}from"./kep3qe1fe7a2vzu1.js";import{N as Ge}from"./ik1mvke1rzg5h1fr.js";import{b as Un,a as Wn,c as Yn}from"./n0tk3xne532h7ges.js";const Bn=wt("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),Zn=wt("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),Xe=({children:e,"data-start":t=null,"data-end":n=null,"data-is-last-node":a,"data-is-only-node":r,tag:o})=>{const{animationTiming:c,shouldAnimate:l,shouldHide:u,isDisabled:m,onComplete:i,onReady:f}=rs({isMarker:!0,tag:o,children:e,start:t,end:n,isLastNode:a,isOnlyNode:r});return m||u?s.jsx(o,{"data-start":t,"data-end":n,className:N(u&&"hidden"),children:e}):s.jsx(o,{"data-start":t,"data-end":n,className:N(be.marker,l?be.animate:be.hidden),onAnimationStart:()=>f(0),onAnimationEnd:()=>i(0),style:os(c),children:e})},Vn={p:e=>s.jsx(O,{tag:"p",...e}),h1:e=>s.jsx(O,{tag:"h1",...e}),h2:e=>s.jsx(O,{tag:"h2",...e}),h3:e=>s.jsx(O,{tag:"h3",...e}),h4:e=>s.jsx(O,{tag:"h4",...e}),h5:e=>s.jsx(O,{tag:"h5",...e}),h6:e=>s.jsx(O,{tag:"h6",...e}),li:e=>s.jsx(Xe,{tag:"li",isListItem:!0,...e}),hr:e=>s.jsx(Xe,{tag:"hr",...e})};function qn(e){const t=e.split(`
`),n=Gn(t.pop()).trimEnd();return n&&t.push(n),t.join(`
`)}function Gn(e){if(!e||/^\s*-\s*([*_]+)?\s*$/.test(e))return"";let t=[],n="",a=0;for(;a<e.length;){if(e[a]==="*"&&e[a+1]==="*"){n+="**",t.length&&t[t.length-1]==="**"?t.pop():t.push("**"),a+=2;continue}if(e[a]==="*"||e[a]==="_"){n+=e[a];const o=e[a];t.length&&t[t.length-1]===o?t.pop():t.push(o),a++;continue}if(e[a]==="["){const o=e[a];n+=o,t.push(o),a++;continue}if(e[a]==="]"){const o=e[a];n+=o,t.length&&t[t.length-1]==="["&&t.pop(),a++;continue}if(e[a]==="("&&e[a-1]==="]"){const o=e[a];n+=o,t.push(o),a++;continue}if(e[a]===")"){const o=e[a];n+=o,t.length&&t[t.length-1]==="("&&t.pop(),a++;continue}n+=e[a],a++}if(t.length===0)return e;let r=n.trimEnd();for(;t.length;){const o=t.pop();if(o==null)break;o==="("?r+=")":r.endsWith(o)?r=r.slice(0,-o.length).trimEnd():o==="["?r+="]()":r+=o}return r}function Xn(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const Kn=4;function Jn({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:n}){const a=te(),r=e.images,o=r.some(i=>i.is_proxied_image)?[]:r.map(i=>i.thumbnail_url),c=ss({queries:o.map(i=>jn(i)),combine:i=>{const f=new Set;return i.forEach((y,g)=>{y.isSuccess&&f.add(o[g])}),f}}),l=r.filter(i=>c.has(i.thumbnail_url)),u=e.images.length;if(r.some(i=>i.is_proxied_image)){const i=r.find(y=>y.is_proxied_image),f=N("mb-7 mt-1 min-w-32 max-w-[22%] rounded-xl border-[0.5px] border-token-border-default",i?.float_top?"relative block":"float-image z-10 float-end clear-end ms-7 overflow-hidden");return s.jsx(we,{image:i,imageSource:ve.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:f},i?.content_url)}if(u===0)return null;if(u===1){const i=e.images[0];return s.jsx(we,{image:i,imageSource:ve.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:"float-image border-token-border-default z-10 float-end clear-end ms-7 mt-1 mb-7 max-w-[22%] min-w-32 overflow-hidden rounded-xl border-[0.5px]"},i.content_url)}const m=a?l.length:Math.min(l.length,Kn);return s.jsx("div",{className:"no-scrollbar mt-1 mb-6 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:l.slice(0,m).map((i,f)=>s.jsx("div",{className:N("border-token-border-default relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] sm:w-[calc((100%-1rem)/4)] md:shrink",f===0&&"rounded-s-xl",f===m-1&&"rounded-e-xl"),children:s.jsx(we,{image:i,imageSource:ve.Turn,analyticsMetadata:t,trackContentReferenceEvent:n,className:"h-full w-full"},i.thumbnail_url)},i.thumbnail_url))})}const zt=p.memo(Jn,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((n,a)=>n.content_url===t.metadata.images[a].content_url));function Qn(e,t){if(!e||!t)return null;const{width:n,height:a}=t;if(n===a)return null;const{center_x_percent:r,center_y_percent:o}=e;let c=50,l=50;if(a>n){const u=a-n;l=(o*a-n/2)/u*100,c=50}else{const u=n-a;c=(r*n-a/2)/u*100,l=50}return`${c.toFixed(1)}% ${l.toFixed(1)}%`}function we({image:e,imageSource:t,className:n,imgClassName:a,style:r,analyticsMetadata:o,trackContentReferenceEvent:c}){const l=$n(e),u=e?.content_url.replace(/^http:\/\//,"https://"),m=ea(e),{isSuccess:i}=Pe(l),{isSuccess:f}=Pe(m?u:void 0),y=p.useMemo(()=>({image_url:l,title:e?.title}),[l,e?.title]);p.useEffect(()=>{e&&i&&c("Search Content Reference Shown","search_content_reference_shown","image_v2",y)},[c,e,i,y]);const g=is.useStore(),$=Qn(e?.thumbnail_crop_info??null,e?.thumbnail_size??null),b=!e||!(i||f||e.is_proxied_image),w=(()=>{if(!b)return e.is_proxied_image?e.url:m&&f?u:l})();return s.jsx("button",{className:N("relative aspect-square overflow-hidden",n),style:r,onClick:()=>{c("Search Content Reference Clicked","search_content_reference_clicked","image_v2",y),g.setCurrentImage(e?{image:e,source:t,analyticsMetadata:o}:void 0)},children:b?s.jsx("div",{className:"bg-token-main-surface-tertiary aspect-square h-full w-full animate-pulse"}):s.jsx(_n,{children:s.jsx("img",{src:w,alt:e?.content_url,style:$?{objectPosition:$}:{},className:N("bg-token-main-surface-tertiary m-0 h-full w-full object-cover",a)})})})}function ea(e){return!e||e.is_proxied_image?!1:e.thumbnail_url.includes("images.openai.com/thumbnails")}async function ta({conversationId:e,messageId:t,assetPointerLinks:n,sharedConversationLikeId:a}){return await Bs.safePost("/conversation/get_images_for_message",{requestBody:{conversation_id:e??null,share_id:a??null,message_id:t,asset_pointer_links:n},authOption:Zs.SendIfAvailable})}function sa({reference:e,conversationId:t,messageId:n,sharedConversationLikeId:a}){return ns({queryKey:["inline-images",e,t,n],queryFn:async()=>{if(!e.asset_pointer_links||e.asset_pointer_links.length===0||!t&&!a)return{images:[],formats:[]};const r=await ta({conversationId:t,messageId:n,assetPointerLinks:e.asset_pointer_links,sharedConversationLikeId:a});for(let o=0;o<r.images.length;o++){const c=r.images[o],u=`image/${r.formats[o]}`,m=na(c,u);r.images[o]=m}return r}})}function na(e,t="",n=512){const a=atob(e),r=[];for(let c=0;c<a.length;c+=n){const l=a.slice(c,c+n),u=new Array(l.length);for(let i=0;i<l.length;i++)u[i]=l.charCodeAt(i);const m=new Uint8Array(u);r.push(m)}const o=new Blob(r,{type:t});return URL.createObjectURL(o)}const aa=200;function ra({reference:e,clientThreadId:t,message:n,trackContentReferenceEvent:a}){const r=St(t),{postId:o}=p.useContext(wn),{data:c,isLoading:l,isError:u,error:m}=sa({reference:e,conversationId:r,messageId:n.id,sharedConversationLikeId:o}),i=p.useRef([]);if(p.useEffect(()=>()=>{i.current.forEach(g=>{URL.revokeObjectURL(g)}),i.current=[]},[]),l||u||m||!c||!("images"in c))return null;i.current=[];const f=(g,$)=>{const b=new RegExp($+"\\s*([^\\n]+)","m"),w=g.match(b);return w&&w[1]?w[1].trim().length:0};let y=-1;return n.content.content_type==="text"&&(y=f(n.content.parts.join(""),e.matched_text)),s.jsx(s.Fragment,{children:c?.images.map((g,$)=>{const b={matched_text:e.matched_text,start_idx:e.start_idx,end_idx:e.end_idx,safe_urls:e.safe_urls,alt:e.alt,prompt_text:e.prompt_text,type:"image_v2",images:[{url:g,content_url:e.clicked_from_url??"",thumbnail_url:g,title:e.clicked_from_title??"",content_size:{width:141,height:143},thumbnail_size:{width:141,height:143},is_proxied_image:!0,float_top:y<aa||y===-1}]};return s.jsx(zt,{metadata:b,analyticsMetadata:{clientThreadId:t,messageId:n.id},numImageResults:1,trackContentReferenceEvent:a},`image-carousel-inline-${$}`)})})}const R={TTFP:"products.ttfp",TTLT:"products.ttlt",TTF_VISIBLE_CONTENT_TOKEN:"products.ttf_visible_content_token"},He={[R.TTFP]:new Set,[R.TTLT]:new Set,[R.TTF_VISIBLE_CONTENT_TOKEN]:new Set};function je({profiler:e,messageId:t,metric:n,overrideDurationMs:a}){He[n].add(t);const r=ls();e.logTiming(n,{context:{eval_preset:r.eval_preset},overrideDurationMs:a})}function $e({messageId:e,metric:t}){return He[t].has(e)}function oa(e){"use forget";const t=he.c(9),{namespace:n,clientThreadId:a}=e;let r;t[0]!==n?(r=()=>ds({namespace:n,opts:{debug:!1}}),t[0]=n,t[1]=r):r=t[1];const[o]=p.useState(r),c=fe(a,ia),l=Tt(c);let u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=new Set,t[2]=u):u=t[2];const m=p.useRef(u);let i,f;t[3]!==o||t[4]!==c?(i=()=>{if(c&&!m.current.has(c)){m.current.add(c);const $=Pt(c);$&&o.reset($.turnTracker.start_time_ms)}},f=[c,o],t[3]=o,t[4]=c,t[5]=i,t[6]=f):(i=t[5],f=t[6]),p.useEffect(i,f);const y=l?o:null;let g;return t[7]!==y?(g={profiler:y},t[7]=y,t[8]=g):g=t[8],g}function ia(e){return J.getRequestId(e)}function Ht(e){"use forget";const t=he.c(25),{clientThreadId:n,messageId:a,products:r}=e;let o;t[0]!==a?(o=k=>[J.getRequestId(k),J.isMessageTurnEnded(k,a)],t[0]=a,t[1]=o):o=t[1];const[c,l]=fe(n,o);let u;t[2]!==n?(u={namespace:cs.ProductsCompletionRequest,clientThreadId:n},t[2]=n,t[3]=u):u=t[3];const{profiler:m}=oa(u),f=Tt(c)&&!l,y=kn(f);let g,$;t[4]!==f||t[5]!==a||t[6]!==r.length||t[7]!==m?(g=()=>{$e({messageId:a,metric:R.TTFP})||m&&f&&r.length>0&&je({profiler:m,messageId:a,metric:R.TTFP})},$=[f,a,r.length,m],t[4]=f,t[5]=a,t[6]=r.length,t[7]=m,t[8]=g,t[9]=$):(g=t[8],$=t[9]),p.useEffect(g,$);let b,w;t[10]!==f||t[11]!==a||t[12]!==y||t[13]!==m?(b=()=>{$e({messageId:a,metric:R.TTLT})||y.current&&!f&&m&&je({profiler:m,messageId:a,metric:R.TTLT})},w=[a,y,f,m],t[10]=f,t[11]=a,t[12]=y,t[13]=m,t[14]=b,t[15]=w):(b=t[14],w=t[15]),p.useEffect(b,w);let h;t[16]!==a||t[17]!==m||t[18]!==c?(h=()=>{if(!$e({messageId:a,metric:R.TTF_VISIBLE_CONTENT_TOKEN})&&m){const k=c?Pt(c):null;if(k){const x=R.TTF_VISIBLE_CONTENT_TOKEN;He[x].add(a),je({profiler:m,messageId:a,metric:x,overrideDurationMs:k.turnTracker.first_visible_content_token_lat})}}},t[16]=a,t[17]=m,t[18]=c,t[19]=h):h=t[19];let _;t[20]!==a||t[21]!==r.length||t[22]!==m||t[23]!==c?(_=[a,m,c,r.length],t[20]=a,t[21]=r.length,t[22]=m,t[23]=c,t[24]=_):_=t[24],p.useEffect(h,_)}function ca({contentReference:e,clientThreadId:t,messageId:n,turnIndex:a,trackContentReferenceEvent:r}){const o=p.useCallback(()=>r("Search Content Reference Shown","search_content_reference_shown","product_entity",{content_reference_start_index:e.start_idx,product_id:e.product.id}),[r,e.start_idx,e.product.id]),c=p.useCallback(()=>r("Search Content Reference Clicked","search_content_reference_clicked","product_entity",{content_reference_start_index:e.start_idx,product_id:e.product.id}),[r,e.start_idx,e.product.id]),l=e.product;p.useEffect(()=>o(),[o]),Ht({clientThreadId:t,messageId:n,products:[l]});const{openThreadSidebar:u}=Mt();return s.jsxs("span",{className:"decoration-token-text-secondary inline align-baseline underline decoration-[4%] underline-offset-[16%] [text-decoration-skip-ink:auto] [text-underline-position:from-font] hover:cursor-pointer",onClick:()=>{if(c(),l.offers){if(!t)return;u({type:"product",clientThreadId:t,messageId:n,turnIndex:a,contentReferenceStartIndex:e.start_idx,productIndex:0})}else window.open(l.url,"_blank")},children:[s.jsx(us,{className:"text-token-text-tertiary me-0.5 inline h-[1em] w-[1em] align-[-0.2em]"}),s.jsx("span",{className:"whitespace-normal",children:l.title})]})}function la({product:e,wide:t,onShown:n,onClick:a,onHover:r,showDebug:o=!1}){const c=e.image_urls?e.image_urls[0]:void 0,l=p.useRef(null),[u,m]=p.useState("contain"),i=p.useRef(null);return p.useEffect(()=>{if(!l.current)return;const f=new IntersectionObserver(([y])=>y.isIntersecting&&n(),{threshold:.5});return f.observe(l.current),()=>f.disconnect()},[]),s.jsxs("div",{ref:l,className:N(t?"flex w-full flex-row":"flex h-full flex-col","bg-token-main-surface-primary cursor-pointer overflow-hidden rounded-xl","border-token-border-default hover:border-token-border-xlight border bg-clip-padding hover:shadow-md","transition-all duration-200"),onClick:a,onMouseEnter:()=>l.current&&r(l.current),onMouseLeave:()=>r(null),children:[s.jsxs("div",{className:N("relative aspect-square",t?"w-1/3":"w-full","bg-token-main-surface-secondary dark:bg-token-main-surface-primary-inverse"),children:[c?s.jsx("img",{ref:i,className:`absolute inset-0 m-0 h-full w-full mix-blend-darken object-${u}`,src:c,alt:e.title,onLoad:()=>{if(!i.current)return;const{naturalWidth:f,naturalHeight:y}=i.current,g=f/y;m(Math.abs(g-1)<.25?"cover":"contain")}}):s.jsx("div",{className:"flex aspect-square items-center justify-center",children:s.jsx(hs,{className:"text-token-text-tertiary h-12 w-12"})}),e.featured_tag&&s.jsx("div",{className:"absolute start-3 end-3 bottom-3",children:s.jsxs("div",{className:"relative max-w-fit px-2 py-1",children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-white/60 backdrop-blur-xl"}),s.jsx("div",{className:"relative truncate text-xs font-semibold text-gray-950",children:e.featured_tag})]})})]}),s.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[s.jsx("div",{className:"line-clamp-2 leading-snug font-semibold text-ellipsis",children:e.title}),e.description&&s.jsx("div",{className:"line-clamp-3 pt-3 text-sm text-ellipsis",children:e.description}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex flex-row items-end pt-3",children:[s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("div",{className:"text-md leading-snug font-semibold",children:e.price}),s.jsx("div",{className:"text-token-text-secondary overflow-hidden pt-0.5 text-xs text-ellipsis whitespace-nowrap",children:e.merchants})]}),s.jsx("div",{className:"flex-1"}),e.num_reviews&&e.num_reviews>0&&s.jsxs("div",{className:"text-token-text-secondary flex w-fit flex-row gap-1 text-sm",children:[s.jsx(ms,{rating:e.rating??0/5}),(e.rating??0).toFixed(1)]})]})]}),!1]})}function da({contentReference:e,clientThreadId:t,messageId:n,turnIndex:a,analyticsMetadata:r}){const o=e.products,c=e.target_product_count,l=fe(t,C=>{const H=J.getNode(C,n).message.metadata?.content_references?.find(ne=>ne.type==="products");return e.start_idx===H?.start_idx}),u=Vs(),m=qs(u,"3144771298"),{showDebugConversationTurns:i}=fs(),f=jt(r),y=p.useCallback((C,P)=>f("Search Content Reference Shown","search_content_reference_shown","products",{content_reference_start_index:e.start_idx,product_index:P,product_id:C.id}),[f,e.start_idx]),g=p.useCallback((C,P)=>f("Search Content Reference Clicked","search_content_reference_clicked","products",{content_reference_start_index:e.start_idx,product_index:P,product_id:C.id}),[f,e.start_idx]);Ht({clientThreadId:t,messageId:n,products:o});const{openThreadSidebar:$}=Mt(),b=p.useRef(null),[w,h]=p.useState(null),_=p.useRef(null),k=()=>{_.current=setTimeout(()=>{h(null),_.current=null},200)},x=()=>{_.current&&(clearTimeout(_.current),_.current=null)},j=p.useRef(null),[v,T]=p.useState({left:0,top:0});p.useEffect(()=>{const C=b.current,P=j.current;if(!w||!C||!P)return;const H=()=>{const ne=w.card.getBoundingClientRect(),ge=C.getBoundingClientRect(),es=P.getBoundingClientRect(),ts=ne.bottom-ge.top+8;var q=ne.left-ge.left;q=Math.max(0,q),q=Math.min(q,ge.width-es.width),T({left:q,top:ts})};return H(),C.addEventListener("scroll",H),()=>C.removeEventListener("scroll",H)},[w,o]);const{setTargetedContent:D}=ps(),d=te(),I=d?2:4;if(!c&&o.length<I)return null;const se=(c??o.length)>=I,We=se&&d;return s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{ref:b,className:N("flex flex-row gap-4 py-2",We&&"mx-[-1rem] px-[1rem]",se&&"no-scrollbar snap-x snap-proximity scroll-ps-4 overflow-x-scroll scroll-smooth"),children:o.map((C,P)=>s.jsx("div",{className:N(se?"w-64 shrink-0 snap-start":"min-w-0 flex-1"),children:s.jsx(la,{product:C,wide:!d&&c===1,onShown:()=>y(C,P),onClick:()=>{t&&(g(C,P),C.offers?$({type:"product",clientThreadId:t,messageId:n,turnIndex:a,contentReferenceStartIndex:e.start_idx,productIndex:P}):window.open(C.url,"_blank"))},onHover:H=>{x(),H?h({card:H,product:C,index:P}):k()},showDebug:i})},`${P}-${C.title}`))}),se&&!We&&s.jsx(ua,{scrollableRef:b,units:o.length}),s.jsx("div",{ref:j,className:N("absolute z-10",w?"translate-y-0 opacity-100":"translate-y-[-0.5rem] opacity-0","transition-[transform,opacity] duration-200"),style:v,onMouseEnter:x,onMouseLeave:k,children:s.jsx(ha,{onClick:()=>{w&&(re.logEventWithStatsig("Product Targeted Reply Clicked","product_targeted_reply_clicked",{...Gs(r),content_reference_start_index:e.start_idx,product_index:w.index,product_id:w.product.id}),D({type:"object",label:w.product.title,createNewCompletionParams:C=>{const P=Xs(w.product.title);return{...C,promptMessage:gs(C.promptMessage,{metadata:{targeted_reply:w.product.title,targeted_reply_label:w.product.title,targeted_reply_icon:"product_tag"}}),appendMessages:[...C.appendMessages??[],P]}},onCreateCompletion:({serverThreadId:C,currentLeafId:P})=>{re.logEventWithStatsig("Targeted Reply Submitted","chatgpt_targeted_reply_submitted",{conversation_id:C,current_leaf_id:P,source_message_id:n,content_reference_start_index:e.start_idx,product_index:w.index,product_id:w.product.id})},onCleared:({serverThreadId:C,currentLeafId:P})=>{re.logEventWithStatsig("Targeted Reply Cleared","chatgpt_targeted_reply_cleared",{conversation_id:C,current_leaf_id:P,source_message_id:n,content_reference_start_index:e.start_idx,product_index:w.index,product_id:w.product.id})}}))}})})]}),l&&m&&s.jsxs("div",{className:"text-token-text-secondary flex text-xs hover:cursor-pointer hover:underline",onClick:()=>window.open("https://help.openai.com/en/articles/11128490","_blank"),children:[s.jsx(S,{id:"4Y5Zn5",defaultMessage:"ChatGPT chooses products independently. Learn more"}),s.jsx(xs,{className:"icon-md -ms-0.5"})]})]})}function ua({scrollableRef:e,units:t}){const[n,a]=p.useState({left:!1,right:!1});p.useEffect(()=>{const o=e.current;if(!o)return;const c=()=>{const{scrollLeft:l,scrollWidth:u,clientWidth:m}=o,i=l/(u-m);a({left:i>0,right:i<1})};return c(),o.addEventListener("scroll",c),()=>o.removeEventListener("scroll",c)},[e,t]);const r=o=>{if(!e.current)return;const{clientWidth:c,scrollWidth:l}=e.current,u=l/t,m=Math.floor(c/u)*u;e.current.scrollBy({left:m*o,behavior:"smooth"})};return s.jsxs("div",{className:"pointer-events-none absolute start-0 top-0 flex h-full w-full flex-row",children:[s.jsx("div",{className:N("flex h-full w-9 items-center justify-start","from-token-main-surface-primary bg-linear-to-r to-transparent",n.left?"opacity-100":"opacity-0","transition-opacity duration-200"),children:s.jsx(Q,{color:"secondary",size:"xs",className:"border-token-border-default h-8 w-8 rounded-full",onClick:()=>r(-1),children:s.jsx(bs,{className:"icon-md"})})}),s.jsx("div",{className:N("ms-auto flex h-full w-9 items-center justify-end","from-token-main-surface-primary bg-linear-to-l to-transparent",n.right?"opacity-100":"opacity-0","transition-opacity duration-200"),children:s.jsx(Q,{color:"secondary",size:"xs",className:"border-token-border-default h-8 w-8 rounded-full",onClick:()=>r(1),children:s.jsx(Ks,{className:"icon-md"})})})]})}function ha({onClick:e}){return s.jsx(Q,{className:"border-token-border-xlight bg-clip-padding px-4 py-2 shadow-md",size:"small",color:"secondary",onClick:e,children:s.jsxs("div",{className:"flex flex-row items-center gap-1",children:[s.jsx(vs,{className:"text-token-text-secondary h-4 w-4"}),s.jsx(S,{id:"9TG7OR",defaultMessage:"Ask about this"})]})})}function ma({attribution:e,wordFadeType:t}){const n=p.useContext(me),a=ws(n?.message.id,e.attributable_index),r=ys();return s.jsx(ga,{isHighlighted:a,isDebugMode:r&&!1,content:e.alt??"",attributableIndex:e.attributable_index,attributions:void 0,attributionsDebug:void 0,wordFadeType:t})}const fa=p.memo(Le);function pa({content:e,isHighlighted:t,isDebugMode:n,attributableIndex:a,attributions:r,attributionsDebug:o,wordFadeType:c}){const l=c==="indexed",u=_t(),m=p.useMemo(()=>l?{handlers:{text:(y,g,$)=>{const b=[];for(const w of u(g.value))b.push({type:"element",tagName:"span",properties:{className:kt.fadeIn},children:[{type:"text",value:w}]});return b}}}:void 0,[l,u]),i=p.useMemo(()=>({p:({children:y})=>s.jsx(s.Fragment,{children:y})}),[]),f=s.jsx(fa,{rehypePlugins:Ft,remarkPlugins:Lt,urlTransform:Rt,remarkRehypeOptions:m,components:i,children:e});return s.jsx(xa,{isHighlighted:t,children:f})}const ga=as.memo(pa);function xa({isHighlighted:e,className:t,children:n}){return s.jsx("span",{className:N("relative","-mx-px my-[-0.2rem] rounded px-px py-[0.2rem]",e&&"bg-[#FCECC1] dark:bg-[#64572A]","transition-colors duration-100 ease-in-out",t),children:n})}function Ke(e,t){try{return BigInt(e).toLocaleString(t)}catch{const n=Number(e);return e.includes("e")||e.includes("E")?n.toExponential():n.toLocaleString(t,{maximumFractionDigits:6})}}function ba({data:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const n=Js().locale;return e.expression&&e.result!=null?s.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[s.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&s.jsx("span",{children:e.prefix}),s.jsx("span",{children:Ke(e.result,n)}),e.suffix&&s.jsx("span",{children:e.suffix})]}),s.jsx("div",{className:"text-token-text-primary tracking-wide",children:`${e.expression}=${Ke(e.result,n)}`})]}):null}function va(e){return s.jsxs(Qs,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[s.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function ya({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:n,FormattedText:a}){const r=M();return s.jsx(ae.Root,{isOpen:!0,onClose:n,testId:"modal-code-execution",children:s.jsx(ae.Overlay,{children:s.jsxs(ae.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[s.jsx(ae.Header,{title:r.formatMessage(wa.title),type:"success",closeButton:s.jsx(en,{onClick:n})}),s.jsxs("div",{className:"flex flex-1 flex-col overflow-auto",children:[s.jsx("div",{children:s.jsx(Sn,{FormattedText:a,message:e,codeRendererClassName:"border-none rounded-none",removeTopBorderRadius:!0})}),s.jsx("div",{children:s.jsx(Tn,{message:t})})]})]})})})}const wa=Fe({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function ja({displayInfo:e,FormattedText:t,trackContentReferenceEvent:n}){const[a,r]=p.useState(!1),o=M();return p.useEffect(()=>{n("Search Content Reference Shown","search_content_reference_shown",e.type)},[n,e.type]),s.jsxs(s.Fragment,{children:[s.jsx(ze,{label:o.formatMessage($a.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:s.jsx("button",{onClick:()=>r(!0),children:s.jsx(va,{className:"text-token-link hover:text-token-link-hover ms-0.5 -mt-0.5 inline-block"})})}),a&&s.jsx(ya,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>r(!1)})]})}const $a=Fe({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),Ot="text-token-text-secondary inline-flex items-center rounded-full bg-[#f4f4f4] select-none dark:bg-token-main-surface-secondary",_a=N(Ot," h-[22px] px-2 text-[0.5em] font-medium"),tx=N(Ot,"h-[25px] px-3 text-xs"),Je=24;function ka(e){const t=e.split(".");let n=e;return t.length>1&&t.slice(0,-1).some(a=>a.length>0)&&(n=t.slice(0,-1).join(".")),n.length>Je&&(n=n.slice(0,Je-1)+"…"),n}function Na({fileRef:e,index:t,trackContentReferenceEvent:n}){const a=js(),r=p.useContext(me),o=p.useMemo(()=>({source:e.source,index:t}),[e.source,t]);p.useEffect(()=>{n("File Citation Shown","file_citation_shown","file",o)},[]);const c=p.useCallback(i=>{i?n("File Citation Hovered","file_citation_hovered","file",o):n("File Citation Unhovered","file_citation_unhovered","file",o)},[o,n]),l=p.useCallback(()=>{n("File Citation Clicked","file_citation_clicked","file",o)},[o,n]),u=p.useCallback(()=>a(e.id,e.name),[a,e.id,e.name]),m=fe(r?.analyticsMetadata.clientThreadId??tn,i=>i?.mode);return $s(m)?m.gizmo_id&&_s(m.gizmo_id)?s.jsx("span",{className:N(_a,"ms-1"),title:e.name,children:ka(e.name)}):null:s.jsx(Ca,{fileItem:e,onClickDownloadFile:u,trackTooltipOpenChange:c,trackCloudLinkClick:l})}function Ca({fileItem:e,className:t,trackTooltipOpenChange:n,trackCloudLinkClick:a,onClickDownloadFile:r}){const o=Nt(e.cloud_doc_url??""),c=o?.type??s.jsx(S,{id:"bqY3sN",defaultMessage:"File"}),l=o?.Icon??Ct,u=s.jsx(l,{alt:c,className:"h-[16px] w-[16px] object-contain"}),m=N("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] text-token-text-secondary! hover:bg-token-text-primary hover:text-token-main-surface-secondary! dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",t),i=s.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?s.jsx(B,{href:e.cloud_doc_url,className:m,onClick:a,children:u}):s.jsx("button",{onClick:r,className:m,children:u})});return s.jsx(Sa,{fileItem:e,icon:s.jsx(l,{alt:c,className:"me-2 h-[16px] w-[16px] object-contain"}),contentType:c,trackTooltipOpenChange:n,children:i})}function Sa({fileItem:e,children:t,className:n,icon:a,contentType:r,trackTooltipOpenChange:o}){const c=pe();return s.jsx(ze,{label:s.jsxs(B,{href:e.cloud_doc_url,className:N("text-token-text-primary flex max-w-80 flex-col gap-1 text-start text-xs font-normal no-underline!",n),children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:a}),s.jsx("div",{className:"text-token-text-primary truncate",children:r})]}),s.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&s.jsx("div",{className:"text-token-text-secondary line-clamp-2 text-sm",children:e.text})]}),onOpenChange:o,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:c?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-default border",wide:!0,children:t})}function Ta(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function Pa({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:s.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((n,a)=>s.jsx(Ma,{item:n,index:a,trackContentReferenceEvent:t},a))})}function Ma({item:e,index:t,trackContentReferenceEvent:n}){const a=M(),r={title:e.name,description:e.description,index:t};p.useEffect(()=>{n("Contextual Answers Content Reference Shown","contextual_answers_content_reference_shown","file_navlist",r)},[]);const o=Nt(e.cloud_doc_url??""),c=o?.Icon??Ct,l=o?.type??s.jsx(S,{id:"bqY3sN",defaultMessage:"File"});return s.jsxs(B,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.cloud_doc_url??"/",onClick:()=>{n("Contextual Answers Content Reference Clicked","contextual_answers_content_reference_clicked","file_navlist",r)},children:[s.jsx("div",{className:"absolute start-0 top-0 bottom-0 w-[3px] rounded-t-lg rounded-b-lg bg-black/10"}),s.jsxs("div",{className:"ms-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[s.jsxs("div",{className:"not-prose text-token-text-primary flex items-center gap-1.5 text-sm",children:[s.jsx(c,{className:"icon-md object-contain"}),s.jsx("div",{className:"text-token-text-primary line-clamp-2 text-sm",children:l})]}),s.jsx("div",{className:"text-token-link decoration-token-link line-clamp-2 font-semibold group-hover/nav-list:underline",children:e.name}),s.jsx("div",{className:"text-token-text-primary line-clamp-2 text-sm leading-snug font-normal",children:e.description}),e.last_modified_time&&s.jsx("div",{className:"text-token-text-secondary text-sm",children:Ta(e.last_modified_time,a.locale)})]})]})}var Me={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(a){if(a===null||a===!0||a===!1)return NaN;var r=Number(a);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}e.exports=t.default})(Me,Me.exports);var Da=Me.exports;const Ea=yt(Da);var De={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(a){var r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return r.setUTCFullYear(a.getFullYear()),a.getTime()-r.getTime()}e.exports=t.default})(De,De.exports);var Aa=De.exports;const Qe=yt(Aa);function Ia(e,t){var n=za(t);return n.formatToParts?La(n,e):Ra(n,e)}var Fa={year:0,month:1,day:2,hour:3,minute:4,second:5};function La(e,t){try{for(var n=e.formatToParts(t),a=[],r=0;r<n.length;r++){var o=Fa[n[r].type];o>=0&&(a[o]=parseInt(n[r].value,10))}return a}catch(c){if(c instanceof RangeError)return[NaN];throw c}}function Ra(e,t){var n=e.format(t),a=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[a[3],a[1],a[2],a[4],a[5],a[6]]}var _e={};function za(e){if(!_e[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";_e[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return _e[e]}function Ut(e,t,n,a,r,o,c){var l=new Date(0);return l.setUTCFullYear(e,t,n),l.setUTCHours(a,r,o,c),l}var et=36e5,Ha=6e4,ke={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Wt(e,t,n){var a,r;if(!e||(a=ke.timezoneZ.exec(e),a))return 0;var o;if(a=ke.timezoneHH.exec(e),a)return o=parseInt(a[1],10),tt(o)?-(o*et):NaN;if(a=ke.timezoneHHMM.exec(e),a){o=parseInt(a[2],10);var c=parseInt(a[3],10);return tt(o,c)?(r=Math.abs(o)*et+c*Ha,a[1]==="+"?-r:r):NaN}if(Wa(e)){t=new Date(t||Date.now());var l=n?t:Oa(t),u=Ee(l,e),m=n?u:Ua(t,u,e);return-m}return NaN}function Oa(e){return Ut(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Ee(e,t){var n=Ia(e,t),a=Ut(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),r=e.getTime(),o=r%1e3;return r-=o>=0?o:1e3+o,a-r}function Ua(e,t,n){var a=e.getTime(),r=a-t,o=Ee(new Date(r),n);if(t===o)return t;r-=o-t;var c=Ee(new Date(r),n);return o===c?o:Math.max(o,c)}function tt(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var st={};function Wa(e){if(st[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),st[e]=!0,!0}catch{return!1}}var Ya=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Ne=36e5,nt=6e4,Ba=2,E={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ya};function Ae(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n={},a=n.additionalDigits==null?Ba:Ea(n.additionalDigits);if(a!==2&&a!==1&&a!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var r=Za(e),o=Va(r.date,a),c=o.year,l=o.restDateString,u=qa(l,c);if(isNaN(u))return new Date(NaN);if(u){var m=u.getTime(),i=0,f;if(r.time&&(i=Ga(r.time),isNaN(i)))return new Date(NaN);if(r.timeZone||n.timeZone){if(f=Wt(r.timeZone||n.timeZone,new Date(m+i)),isNaN(f))return new Date(NaN)}else f=Qe(new Date(m+i)),f=Qe(new Date(m+i+f));return new Date(m+i+f)}else return new Date(NaN)}function Za(e){var t={},n=E.dateTimePattern.exec(e),a;if(n?(t.date=n[1],a=n[3]):(n=E.datePattern.exec(e),n?(t.date=n[1],a=n[2]):(t.date=null,a=e)),a){var r=E.timeZone.exec(a);r?(t.time=a.replace(r[1],""),t.timeZone=r[1].trim()):t.time=a}return t}function Va(e,t){var n=E.YYY[t],a=E.YYYYY[t],r;if(r=E.YYYY.exec(e)||a.exec(e),r){var o=r[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(r=E.YY.exec(e)||n.exec(e),r){var c=r[1];return{year:parseInt(c,10)*100,restDateString:e.slice(c.length)}}return{year:null}}function qa(e,t){if(t===null)return null;var n,a,r,o;if(e.length===0)return a=new Date(0),a.setUTCFullYear(t),a;if(n=E.MM.exec(e),n)return a=new Date(0),r=parseInt(n[1],10)-1,rt(t,r)?(a.setUTCFullYear(t,r),a):new Date(NaN);if(n=E.DDD.exec(e),n){a=new Date(0);var c=parseInt(n[1],10);return Ja(t,c)?(a.setUTCFullYear(t,0,c),a):new Date(NaN)}if(n=E.MMDD.exec(e),n){a=new Date(0),r=parseInt(n[1],10)-1;var l=parseInt(n[2],10);return rt(t,r,l)?(a.setUTCFullYear(t,r,l),a):new Date(NaN)}if(n=E.Www.exec(e),n)return o=parseInt(n[1],10)-1,ot(t,o)?at(t,o):new Date(NaN);if(n=E.WwwD.exec(e),n){o=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return ot(t,o,u)?at(t,o,u):new Date(NaN)}return null}function Ga(e){var t,n,a;if(t=E.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),Ce(n)?n%24*Ne:NaN;if(t=E.HHMM.exec(e),t)return n=parseInt(t[1],10),a=parseFloat(t[2].replace(",",".")),Ce(n,a)?n%24*Ne+a*nt:NaN;if(t=E.HHMMSS.exec(e),t){n=parseInt(t[1],10),a=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return Ce(n,a,r)?n%24*Ne+a*nt+r*1e3:NaN}return null}function at(e,t,n){t=t||0,n=n||0;var a=new Date(0);a.setUTCFullYear(e,0,4);var r=a.getUTCDay()||7,o=t*7+n+1-r;return a.setUTCDate(a.getUTCDate()+o),a}var Xa=[31,28,31,30,31,30,31,31,30,31,30,31],Ka=[31,29,31,30,31,30,31,31,30,31,30,31];function Yt(e){return e%400===0||e%4===0&&e%100!==0}function rt(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var a=Yt(e);if(a&&n>Ka[t]||!a&&n>Xa[t])return!1}return!0}function Ja(e,t){if(t<1)return!1;var n=Yt(e);return!(n&&t>366||!n&&t>365)}function ot(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function Ce(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function V(e,t,n){var a=Ae(e,n),r=Wt(t,a,!0),o=new Date(a.getTime()-r),c=new Date(0);return c.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),c.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),c}var Se={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},Qa={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=Se),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:function(){this.resetZoom(e,!1,!1)}.bind(this)};var n=this.getOption(e,"sync","enabled");n&&(e.crosshair.syncEventHandler=function(a){this.handleSyncEvent(e,a)}.bind(this),e.crosshair.resetZoomEventHandler=function(a){var r=this.getOption(e,"sync","group");a.chartId!==e.id&&a.syncGroup===r&&this.resetZoom(e,!0)}.bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var n=e.crosshair.end-e.crosshair.start,a=e.crosshair.min,r=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,a),e.crosshair.end=e.crosshair.start===a?a+n:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===r?r-n:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,n){return qe(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][n]:void 0,Se[t][n])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var n=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===n){var a=this.getXScale(e);if(a){var r=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(r=0);var o={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:a.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:r},stop:!0};e._eventHandler(o)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let n=t.event;var a=e.config.options.scales.x.type;if(!(a!=="linear"&&a!=="time"&&a!=="category"&&xscaleType!=="logarithmic")){var r=this.getXScale(e);if(r){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var o=n.native.buttons===void 0?n.native.which:n.native.buttons;n.native.type==="mouseup"&&(o=0);var c=this.getOption(e,"sync","enabled"),l=this.getOption(e,"sync","group");if(!n.stop&&c){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=l,t.original=n,t.xValue=r.getValueForPixel(n.x),window.dispatchEvent(t)}var u=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=n.stop&&u,e.crosshair.enabled=n.type!=="mouseout"&&n.x>r.getPixelForValue(r.min)&&n.x<r.getPixelForValue(r.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return n.x>r.getPixelForValue(r.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var m=this.getOption(e,"zoom","enabled");if(o===1&&!e.crosshair.dragStarted&&m&&(e.crosshair.dragStartX=n.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&o===0){e.crosshair.dragStarted=!1;var i=r.getValueForPixel(e.crosshair.dragStartX),f=r.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,i,f),e.update("none")}e.crosshair.x=n.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n){if(e.crosshair.originalData.length>0)for(var a=0;a<e.data.datasets.length;a++){var r=e.data.datasets[a];r.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var o=this.getOption(e,"sync","enabled");if(!t&&n&&o){var c=this.getOption(e,"sync","group"),l=new CustomEvent("reset-zoom-event");l.chartId=e.id,l.syncGroup=c,window.dispatchEvent(l)}n&&e.update("none")},doZoom:function(e,t,n){if(t>n){var a=t;t=n,n=a}var r=qe(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,Se.callbacks.beforeZoom);if(!r(t,n))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var o=document.createElement("button"),c=this.getOption(e,"zoom","zoomButtonText"),l=this.getOption(e,"zoom","zoomButtonClass"),u=document.createTextNode(c);o.appendChild(u),o.className=l,o.addEventListener("click",function(){this.resetZoom(e)}.bind(this)),e.canvas.parentNode.appendChild(o),e.crosshair.button=o}e.options.scales.x.min=t,e.options.scales.x.max=n;var m=e.crosshair.originalData.length===0,i=e.config.options.scales.x.type!=="category";if(i)for(var f=0;f<e.data.datasets.length;f++){var y=[],g=0,$=!1,b=!1;m&&(e.crosshair.originalData[f]=e.data.datasets[f].data);for(var w=e.crosshair.originalData[f],h=0;h<w.length;h++){var _=w[h],k=_.x!==void 0?_.x:NaN;k>=t&&!$&&g>0&&(y.push(w[g-1]),$=!0),k>=t&&k<=n&&y.push(_),k>n&&!b&&g<w.length&&(y.push(_),b=!0),g+=1}e.data.datasets[f].data=y}if(e.crosshair.start=t,e.crosshair.end=n,m){var x=this.getXScale(e);e.crosshair.min=x.min,e.crosshair.max=x.max}e.crosshair.ignoreNextEvents=2,e.update("none");var j=this.getOption(e,"callbacks","afterZoom");j(t,n)},drawZoombox:function(e){var t=this.getYScale(e),n=this.getOption(e,"zoom","zoomboxBorderColor"),a=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=n,e.ctx.fillStyle=a,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),n=this.getOption(e,"line","width"),a=this.getOption(e,"line","color"),r=this.getOption(e,"line","dashPattern"),o=this.getOption(e,"snap","enabled"),c=e.crosshair.x;o&&e._active.length&&(c=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(r),e.ctx.moveTo(c,t.getPixelForValue(t.max)),e.ctx.lineWidth=n,e.ctx.strokeStyle=a,e.ctx.lineTo(c,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var n=e.data.datasets[t],a=e.getDatasetMeta(t),r=e.scales[a.yAxisID];a.hidden||!n.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,r.getPixelForValue(n.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=n.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var n=e.data.datasets[t],a=e.getDatasetMeta(t),r=e.scales[a.xAxisID],o=r.getValueForPixel(e.crosshair.x);if(!(a.hidden||!n.interpolate)){var c=n.data,l=c.findIndex(function(f){return f.x>=o}),u=c[l-1],m=c[l];if(e.data.datasets[t].steppedLine&&u)n.interpolatedValue=u.y;else if(u&&m){var i=(m.y-u.y)/(m.x-u.x);n.interpolatedValue=u.y+(o-u.x)*i}else n.interpolatedValue=NaN}}}};const ie=(e=1)=>`rgba(48, 166, 51, ${e})`,ce=(e=1)=>`rgba(241, 77, 66, ${e})`,it="text-[#30a633]",ct="text-[#f14d42]",er=["1d","5d","1m","6m","ytd","1y","5y","max"];function tr({histories:e,selectedInterval:t,onSelectHistoryInterval:n}){const a=Object.keys(e?.quotes??{});return s.jsx("div",{className:"text-token-text-tertiary inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold sm:justify-start sm:gap-1 dark:bg-[#393939]",children:a.map(r=>s.jsx("button",{onClick:()=>{n?.(r)},className:N("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase",t===r?"border-token-border-default! bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:border-token-border-medium! rounded-lg":"hover:text-token-text-secondary"),children:Bt[r].label},r))})}const Bt={"1d":{label:"1D",formatTimestampLabel:lt,formatTimestampTooltip:lt,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:dt,formatTimestampTooltip:nr,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:dt,formatTimestampTooltip:ar,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:Te,formatTimestampTooltip:G,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:Te,formatTimestampTooltip:G,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:Te,formatTimestampTooltip:G,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:ut,formatTimestampTooltip:G,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:ut,formatTimestampTooltip:G,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function sr(e){return e?er.filter(n=>n in e.quotes).find(n=>e.quotes[n].length>0):void 0}function Z(e,t){return V(new Date(e*1e3),t??"America/New_York")}function lt(e,t,n){const a=Z(t,n);return e.formatTime(a,{hour:"numeric",minute:"numeric"})}function nr(e,t,n){const a=Z(t,n);return e.formatDate(a,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function G(e,t,n){const a=Z(t,n);return e.formatDate(a,{month:"short",day:"numeric",year:"numeric"})}function Te(e,t,n){const a=Z(t,n);return e.formatDate(a,{month:"short",year:"numeric"})}function dt(e,t,n){const a=Z(t,n);return e.formatDate(a,{month:"short",day:"numeric"})}function ar(e,t,n){const a=Z(t,n);return e.formatDate(a,{weekday:"short",month:"short",day:"numeric"})}function ut(e,t,n){const a=Z(t,n);return e.formatDate(a,{year:"numeric"})}Pn.register(Mn,Dn,En,An,In,Fn,Ln,Rn,zn,Qa,Hn);const rr=100,ht={color:"#b4b4b4",font:{size:10,weight:"600",family:"Menlo"}};function or({isUp:e,histories:t,selectedInterval:n,setHighlightedPrice:a,latestTradingPeriod:r,timezone:o}){return s.jsx(s.Fragment,{children:t&&n&&r?s.jsx(ir,{isUp:e,histories:t,selectedInterval:n,latestTradingPeriod:r,timezone:o,setHighlightedPrice:a}):s.jsx(X,{className:"h-full",index:1,width:100})})}function ir({isUp:e,histories:t,selectedInterval:n,latestTradingPeriod:a,timezone:r,setHighlightedPrice:o}){const[c,l]=p.useState(null),[u,m]=p.useState(!1),i=n==="1d",f=p.useMemo(()=>{let x=t.quotes[n].filter(j=>j.close>=0);if(i&&a){const j=a.regular.start_timestamp,v=a.regular.end_timestamp;if(x=x.filter(T=>T.timestamp>=j&&T.timestamp<=v),x.length===0||x[x.length-1].timestamp<v){let D=x.length>0?x[x.length-1].timestamp:j-600;for(;D<v;)D+=600,x.push({timestamp:D,close:null})}}return x},[t,n,i,a]),y=Bt[n],{formatTimestampTooltip:g,maxTicksLimit:$,useUtc:b=!1}=y,w=M(),h=Re(),_=pe(),k=p.useMemo(()=>{const{formatTimestampLabel:x,lineTension:j}=y;return{labels:f.map(v=>x(w,v.timestamp,b?"UTC":r)),datasets:[{data:f.map(v=>v.close),borderColor:e?ie():ce(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?ie():ce(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function(v){const{ctx:T,chartArea:D}=v.chart;if(D)return lr(T,D,e)},fill:!0,borderWidth:2,lineTension:j??.4}]}},[y,f,e,b,r,w]);return s.jsx("div",{className:"flex h-full flex-col gap-6",children:s.jsxs("div",{className:"relative h-full",onMouseEnter:()=>m(!0),onMouseLeave:()=>{m(!1),o(null)},children:[s.jsx(On,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:u?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:x=>{if(x.ticks.length>$)if(i)x.ticks=x.ticks.filter((j,v)=>f[v].timestamp%(h?3600:7200)===0);else{const j=Math.ceil(x.ticks.length/($-1));x.ticks=x.ticks.filter((v,T)=>T>0&&(T%j===0||T===x.ticks.length-1))}},grid:{display:!1},ticks:{...ht,align:"end"}},y:{ticks:{...ht,maxTicksLimit:7},border:{display:!1},grid:{color:_?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(x){const j=x[0];if(!j)return"";const v=f[j.dataIndex]?.timestamp;return v?g(w,v,b?"UTC":r):""}},external:({tooltip:x})=>{u&&x.opacity>0&&o(K(x.dataPoints?.[0]?.parsed?.y??0)),l(j=>{const v=x.chart.width,T=x.caretX>v-rr;return!j||j.x!==x.caretX||j.y!==x.caretY||j.opacity!==x.opacity||j.flip!==T?{...j,x:x.caretX,y:x.caretY,dateLabel:x.title?.[0],value:K(x.dataPoints?.[0]?.parsed?.y??0),opacity:x.opacity,flip:T}:j})}},dropShadow:!1,crosshair:{line:{color:_?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:k}),s.jsx(cr,{tooltipData:c})]})})}function cr({tooltipData:e}){return!e||!e.opacity?null:s.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:N("text-token-main-surface-primary dark:bg-token-main-surface-secondary pointer-events-none absolute translate-y-[-100%] rounded-lg bg-black px-2 py-1 font-mono font-semibold whitespace-nowrap dark:text-white"),children:s.jsx("div",{className:"text-xs",children:e.dateLabel})})}function lr(e,t,n){const a=e.createLinearGradient(0,t.top,0,t.bottom);return a.addColorStop(0,n?ie(.4):ce(.4)),a.addColorStop(1,n?ie(0):ce(0)),a}function K(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function L({label:e,value:t,className:n}){return s.jsxs("div",{className:N("flex w-full flex-1 flex-row justify-between text-sm",n),children:[s.jsx("span",{className:"text-token-text-secondary font-normal whitespace-nowrap",children:e}),s.jsx("span",{className:"text-token-text-primary font-normal whitespace-nowrap",children:t})]})}function dr({metrics:e}){const t=M(),n=!!(e.marketCap&&e.peRatio&&e.eps);return s.jsx("div",{className:"border-token-border-default flex flex-col gap-1 rounded-b-lg border-t bg-[#f4f4f4] px-4 py-3 dark:bg-[#393939]",children:s.jsxs("div",{className:N("grid grid-cols-2 gap-x-10 gap-y-3 lg:grid-cols-3 lg:gap-x-6"),children:[s.jsx(L,{label:t.formatMessage({id:"MDHEj7",defaultMessage:"Open"}),value:t.formatNumber(e.openPrice,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-1"}),s.jsx(L,{label:t.formatMessage({id:"PboNMC",defaultMessage:"Volume"}),value:t.formatNumber(e.intradayVolume,{notation:"compact",maximumFractionDigits:1}),className:N("order-2",!n&&"lg:order-last")}),s.jsxs("div",{className:"order-4 row-span-2 flex flex-col gap-3",children:[s.jsx(L,{label:t.formatMessage({id:"bresUW",defaultMessage:"Day Low"}),value:t.formatNumber(e.intradayLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),s.jsx(L,{label:t.formatMessage({id:"oWyv5V",defaultMessage:"Day High"}),value:t.formatNumber(e.intradayHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})]}),s.jsxs("div",{className:"order-5 row-span-2 flex flex-col gap-3",children:[s.jsx(L,{label:t.formatMessage({id:"DcEYIK",defaultMessage:"Year Low"}),value:t.formatNumber(e.fiftyTwoWeekLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),s.jsx(L,{label:t.formatMessage({id:"ZfFtJ4",defaultMessage:"Year High"}),value:t.formatNumber(e.fiftyTwoWeekHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})]}),e.marketCap&&s.jsx(L,{label:t.formatMessage({id:"BzyP4Y",defaultMessage:"Market Cap"}),value:t.formatNumber(e.marketCap,{notation:"compact",maximumFractionDigits:2}),className:"order-last lg:order-3"}),e.peRatio&&e.eps&&s.jsxs(s.Fragment,{children:[s.jsx(L,{label:t.formatMessage({id:"edGd+S",defaultMessage:"EPS (TTM)"}),value:t.formatNumber(e.eps,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-last"}),s.jsx(L,{label:t.formatMessage({id:"AhpCu1",defaultMessage:"P/E Ratio"}),value:t.formatNumber(e.peRatio,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),className:"order-last"})]})]})})}function ur({data:e,priceChange:t,highlightedPrice:n,extendedPriceChange:a,url:r}){function o(c,l="intraday",u=null){const{isUp:m,changePercentage:i,changeLabel:f,changeAmount:y}=c,g=Math.abs(i).toFixed(2),$=K(y);return s.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[l==="extended_hours"&&u!=null&&s.jsx("span",{className:"font-semibold",children:s.jsx(S,{id:"HWwWpW",defaultMessage:"{price}",values:{price:u}})}),s.jsx("span",{className:N("font-semibold",m?it:ct),children:s.jsx(S,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:$,sign:m?"+":""}})}),s.jsx("span",{className:N("font-semibold",m?it:ct),children:s.jsx(S,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:g,sign:m?"+":"-"}})}),l==="extended_hours"?s.jsx("span",{className:"text-token-text-primary min-w-0 truncate",children:f}):s.jsx("span",{className:"text-token-text-primary min-w-0 truncate",children:f})]})}return s.jsxs("div",{children:[s.jsx("div",{className:"mt-2 text-sm",children:e?s.jsx(S,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):s.jsx("div",{className:"w-32 font-medium",children:s.jsx(X,{index:9,width:100})})}),s.jsx("div",{className:"text-token-text-tertiary text-sm",children:e?s.jsx(s.Fragment,{children:r!=null&&s.jsxs(s.Fragment,{children:[" · ",s.jsx(B,{href:r,className:"text-token-link hover:underline",children:$t(r,"hostname")})]})}):s.jsx("div",{className:"mt-2 w-36",children:s.jsx(X,{index:6,width:100})})}),s.jsx("div",{className:"mt-2 flex text-4xl font-semibold",children:e?s.jsx(S,{id:"s+1uly",defaultMessage:"{price}",values:{price:n??K(e.price.price)}}):s.jsx("div",{className:"w-32",children:s.jsx(X,{index:0,width:100})})}),s.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:t?o(t):s.jsx("div",{className:"mt-2 w-40",children:s.jsx(X,{index:3,width:100})})}),s.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&a!=null&&o(a,"extended_hours",K(e.price.extended_price))})]})}function hr({contentReference:e,trackContentReferenceEvent:t}){const n=M();p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown","stock")},[t]);const a=sr(e?.stock?.histories),r=e?.stock,[o,c]=p.useState(a),[l,u]=p.useState(null),m=o==="1d",i=r?.histories?.quotes?.[o??""]?.[0],f=o&&o in oe?o:void 0,y=r&&(i&&!m?{changePercentage:(r.price.price-i.close)/i.close*100,changeAmount:r.price.price-i.close,changeLabel:f?n.formatMessage(oe[f]):"",isUp:r.price.price>i.close}:r.price.change_percent&&r.price.change?{changePercentage:r.price.change_percent*100,changeAmount:r.price.change,changeLabel:fr(r.price.latest_trade_timestamp,r.asset.timezone,n),isUp:r.price.change?r.price.change>0:!1}:null),g=r&&r.price.extended_price!=null&&r.price.extended_change_percent!=null&&r.price.extended_change!=null?{changePercentage:r.price.extended_change_percent*100,changeAmount:r.price.extended_change,changeLabel:n.formatMessage(mr(r.price.market_status)??oe.extended),isUp:r.price.extended_change>0}:null,{fiftyTwoWeekHigh:$,fiftyTwoWeekLow:b}=p.useMemo(()=>{const _=r?.histories?.quotes["1y"];if(!_)return{fiftyTwoWeekHigh:null,fiftyTwoWeekLow:null};const k=_.map(j=>j.high).filter(j=>j!=null),x=_.map(j=>j.low).filter(j=>j!=null);return{fiftyTwoWeekHigh:k.length>0?Math.max(...k):null,fiftyTwoWeekLow:x.length>0?Math.min(...x):null}},[r?.histories?.quotes]),w=r?.price.open_price&&r.price.intraday_high&&r.price.intraday_low&&r.price.intraday_volume&&$&&b?{openPrice:r.price.open_price,intradayHigh:r.price.intraday_high,intradayLow:r.price.intraday_low,intradayVolume:r.price.intraday_volume,fiftyTwoWeekHigh:$,fiftyTwoWeekLow:b,marketCap:r.metrics?.market_cap??void 0,peRatio:r.metrics?.pe_ratio??void 0,eps:r.metrics?.eps??void 0}:null,h=w!=null;return s.jsxs("div",{className:N("border-token-border-default flex min-h-[480px] flex-col gap-8 rounded-lg border"),children:[s.jsxs("div",{className:"mx-6 flex flex-wrap items-end justify-between",children:[s.jsx(ur,{data:r??null,highlightedPrice:l,priceChange:y??null,extendedPriceChange:g??null,url:e?.url??null}),s.jsx("div",{className:"mt-4",children:s.jsx(tr,{selectedInterval:o,onSelectHistoryInterval:c,histories:r?.histories})})]}),s.jsx("div",{className:"mx-6 h-[340px]",children:s.jsx(or,{isUp:y?.isUp??!1,selectedInterval:o,histories:r?.histories,setHighlightedPrice:u,onSelectHistoryInterval:_=>c(_),latestTradingPeriod:r?.asset.latest_trading_period,timezone:r?.asset.timezone??null})}),h&&s.jsx("div",{className:"-mt-4",children:s.jsx(dr,{metrics:w})})]})}function mr(e){if(e==null)return null;const t=e.toLowerCase();return t==="premarket"||t==="open"?xe({id:"By+pvF",defaultMessage:"Pre-Market"}):t==="afterhours"||t==="closed"?xe({id:"aLCg3c",defaultMessage:"After Hours"}):xe({id:"2p526c",defaultMessage:"Extended Hours"})}function fr(e,t,n){function a(r,o){const l=V(new Date,o),u=n.formatDate(l,{year:"numeric",month:"2-digit",day:"2-digit"}),m=Ae(r*1e3),i=V(m,o),f=n.formatDate(i,{year:"numeric",month:"2-digit",day:"2-digit"});return u===f}if(!e||!t||a(e,t))return n.formatMessage(oe["1d"]);{const r=Ae(e*1e3),o=V(r,t);return n.formatDate(o,{month:"long",day:"numeric"})}}const oe=Fe({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),pr={google_maps:{title:"Google Maps"}};function gr({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const n=pr[e.provider]?.title??"Maps";return s.jsx("span",{children:s.jsx(S,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:s.jsx(B,{href:e.url,children:n})}})})}function xr(e){"use forget";const t=he.c(19),{metadata:n,trackContentReferenceEvent:a}=e,r=n.items.length>0,o=p.useRef(a);let c,l;t[0]!==a?(c=()=>{o.current=a},l=[a],t[0]=a,t[1]=c,t[2]=l):(c=t[1],l=t[2]),p.useEffect(c,l);let u,m;t[3]!==r?(u=()=>{r&&o.current("Search Content Reference Shown","search_content_reference_shown","nav_list")},m=[r],t[3]=r,t[4]=u,t[5]=m):(u=t[4],m=t[5]),p.useEffect(u,m);const i=!Re(),f=te();if(n.items.length===0)return null;const y=i||f?2:n.items.length;let g;t[6]!==n.title?(g=n.title&&s.jsx("div",{className:"text-token-text-primary -mb-1 pb-3 font-semibold",children:n.title}),t[6]=n.title,t[7]=g):g=t[7];let $;if(t[8]!==y||t[9]!==n.items||t[10]!==a){let h;t[12]!==a?(h=(_,k)=>s.jsx(br,{item:_,index:k,trackContentReferenceEvent:a,className:"flex-1"},k),t[12]=a,t[13]=h):h=t[13],$=n.items.slice(0,y).map(h),t[8]=y,t[9]=n.items,t[10]=a,t[11]=$}else $=t[11];let b;t[14]!==$?(b=s.jsx("div",{className:"flex flex-row justify-start gap-4",children:$}),t[14]=$,t[15]=b):b=t[15];let w;return t[16]!==g||t[17]!==b?(w=s.jsxs("div",{className:"mt-6",children:[g,b]}),t[16]=g,t[17]=b,t[18]=w):w=t[18],w}function br({item:e,index:t,trackContentReferenceEvent:n,className:a}){const{isSuccess:r}=Pe(e.thumbnail_url??void 0),o={url:e.url,title:e.title,section_index:t,link_type:"text",section:"nav_list",section_location:"response"};p.useEffect(()=>{n("link_action","link_action","nav_list",{...o,action:"show"})},[]);const l=M().locale,u=e.pub_date!=null?new Date(e.pub_date*1e3):null,m=new Intl.RelativeTimeFormat(l,{numeric:"auto"}),i=u?Math.max(Math.floor((Date.now()-u.getTime())/(1e3*60*60*24)),0):null;let f=i!=null?m.format(-i,"day"):null;return l.startsWith("en")&&f&&(f=f.charAt(0).toUpperCase()+f.slice(1)),s.jsxs(B,{className:`group/nav-list pt border-token-border-default bg-token-main-surface-primary dark:bg-token-main-surface-secondary relative flex flex-col items-center gap-4 overflow-hidden rounded-xl border pb-6 hover:shadow-sm ${a} max-w-1/2`,href:e.url,onClick:()=>{n("link_action","link_action","nav_list",{...o,action:"click"})},children:[r&&e.thumbnail_url?s.jsx("div",{className:"relative h-36 w-full overflow-hidden",children:s.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full",style:{objectFit:"cover"},alt:e.title})}):s.jsxs("div",{className:"icon-bg relative flex h-36 w-full shrink-0 items-center justify-center overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-cover bg-center bg-no-repeat blur-3xl",children:s.jsx(ye,{url:e.url,size:256,minSize:128,className:"mix-soft-light opacity-30 dark:opacity-20"})}),s.jsx("div",{className:"absolute flex h-10 w-10 items-center justify-center",children:s.jsx(ye,{url:e.url,size:128,minSize:80,className:"icon-xl rounded-full"})})]}),s.jsxs("div",{className:"flex flex-col gap-2 overflow-hidden px-4 text-ellipsis",children:[s.jsxs("div",{className:"text-token-text-primary flex items-center gap-1.5 text-xs",children:[s.jsx(ye,{url:e.url,size:32,minSize:16,className:"icon-xs my-0 rounded-full"}),e.attribution??$t(e.url)]}),s.jsx("div",{className:"text-token-text-primary decoration-token-link line-clamp-5 text-sm font-medium",children:e.title}),f&&s.jsx("div",{className:"text-token-text-secondary text-xs",children:f})]})]})}function z(e,t){const n=ks(e),a=t<0?"-":"+",r=Math.abs(t),o=Math.floor(r/3600).toString().padStart(2,"0"),c=Math.floor(r%3600/60).toString().padStart(2,"0"),l=`${a}${o}:${c}`;return V(n,l)}function Ie(e,t){if(Ze(t))return s.jsx(S,{id:"wxni9H",defaultMessage:"Today"});const n=new Date;return n.setTime(n.getTime()+7*24*60*60*1e3),t<n&&t>new Date||Ze(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const vr="webp",yr=250,wr=187,jr="srgb",$r=4,_r="uchar",kr=72,Nr=!1,Cr=!1,Sr=!0,Tr="{{.assetPrefix}}/assets/missing-logo-h96s4tk9.webp",mt={format:vr,width:yr,height:wr,space:jr,channels:$r,depth:_r,density:kr,isProgressive:Nr,hasProfile:Cr,hasAlpha:Sr,src:Tr};function Zt({team:e,className:t}){const[n,a]=p.useState(e.logo??mt.src),r=()=>{Dt.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),a(mt.src)};return s.jsx("img",{src:n,alt:e.name,className:t,onError:r})}const ee=["ipl"],ft=6,U="home",W="away";function Pr({scheduleRef:e,trackContentReferenceEvent:t}){const[n,a]=p.useState(!0),r=M(),o=e.games.length>0,c=e.league.id,l=Ns(),u=te();if(p.useEffect(()=>{o&&t("Search Content Reference Shown","search_content_reference_shown","sports",{hasSchedule:!0})},[o]),!o)return null;const i=(r.formatDateToParts(new Date,{timeZoneName:"long"}).find($=>$.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let f=e.games;const y=$=>Math.abs(new Date().getTime()-new Date($.date).getTime());y(f[0])>y(f[f.length-1])&&(f=f.slice().reverse());const g=n?f.slice(0,ft):f;return s.jsxs("div",{className:"not-prose mb-3",children:[s.jsx("div",{className:"font-semibold",children:s.jsx(S,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),s.jsx("div",{className:"text-token-text-secondary text-sm",children:i}),g.length===1?s.jsx("div",{children:s.jsx(Ye,{children:s.jsx(Be.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:"border-token-border-medium mt-3 rounded-xl border py-3",children:s.jsx(Dr,{game:g[0],useAlias:ee.includes(c),leagueId:c,activeTeam:g[0]?.active_team??null,isMobile:u})})})})}):s.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:s.jsx(Ye,{children:g.map(($,b)=>s.jsx(Be.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:b*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:s.jsx("div",{className:N("border-token-border-medium border-b py-3",b%2===0&&"lg:border-e lg:pe-4",b%2===1&&"lg:ps-4",Math.floor(b/2)===Math.ceil(f.length/2)-1&&"lg:border-b-0",b===f.length-1&&"border-b-0"),children:s.jsx(Mr,{game:$,useAlias:(l||u)&&ee.includes(c),leagueId:c,activeTeam:$.active_team??null})})},b))})}),f.length>ft&&s.jsx("div",{className:"mt-2 flex items-center justify-between",children:s.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>a(!n),children:n?s.jsx(S,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:s.jsx(Cs,{className:"mb-[-2px]"})}}):s.jsx(S,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:s.jsx(Ss,{className:"mb-[-2px]"})}})})})]})}function Mr({game:e,useAlias:t=!1,leagueId:n,activeTeam:a}){const r=qt(e),o=[e.first_team_info,e.second_team_info],c=o.find(i=>i.location===U)??e.first_team_info,l=o.find(i=>i.location===W)??e.second_team_info,u=r?.team.name===c?.team.name,m=r?.team.name===l?.team.name;return s.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[s.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pe-3",children:[s.jsx(de,{team:l.team,isWinner:m,isActive:a===W,logoSize:"small",useAlias:t}),s.jsx(de,{team:c.team,isWinner:u,isActive:a===U,logoSize:"small",useAlias:t})]}),s.jsxs("div",{className:N("flex flex-none flex-col items-start gap-1",ee.includes(n)&&"me-4"),children:[s.jsx(ue,{score:l.score,scoreSuffix:l.score_suffix,scoreParenthetical:l.score_parenthetical?{message:l.score_parenthetical,position:"right"}:null,isWinner:m,negateScore:le(n,W,a)}),s.jsx(ue,{score:c.score,scoreSuffix:c.score_suffix,scoreParenthetical:c.score_parenthetical?{message:c.score_parenthetical,position:"right"}:null,isWinner:u,negateScore:le(n,U,a)})]}),s.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:s.jsx(Gt,{game:e})})]})}function Dr({game:e,useAlias:t=!1,leagueId:n,activeTeam:a,isMobile:r}){const o=qt(e),c=[e.first_team_info,e.second_team_info],l=c.find(f=>f.location===U)??e.first_team_info,u=c.find(f=>f.location===W)??e.second_team_info,m=o?.team.name===l?.team.name,i=o?.team.name===u?.team.name;return s.jsxs("div",{className:"flex w-full py-3 text-base",children:[s.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:s.jsx(de,{team:u.team,isWinner:i,isActive:a===W,useAlias:t,layoutDirection:r?"column":"row"})}),s.jsx("div",{className:"ms-2 flex items-center justify-start sm:ms-8",children:s.jsx(ue,{score:u.score,scoreSuffix:u.score_suffix,scoreParenthetical:u.score_parenthetical?{message:u.score_parenthetical,position:"bottom"}:null,isWinner:i,negateScore:le(n,W,a),className:"text-sm font-semibold sm:text-lg"})}),s.jsx("div",{className:"mx-2 flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:s.jsx(Gt,{game:e})}),s.jsx("div",{className:"me-2 flex items-center justify-end sm:me-8",children:s.jsx(ue,{score:l.score,scoreSuffix:l.score_suffix,scoreParenthetical:l.score_parenthetical?{message:l.score_parenthetical,position:"bottom"}:null,isWinner:m,negateScore:le(n,U,a),className:"text-sm font-semibold sm:text-lg"})}),s.jsx("div",{className:"flex flex-1 items-center justify-center md:px-2",children:s.jsx(de,{team:l.team,isWinner:m,isActive:a===U,useAlias:t,layoutDirection:r?"column":"row"})})]})}function Vt(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function qt(e){return Vt(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function le(e,t,n){return ee.includes(e)&&t===U&&n===W}function de({team:e,isWinner:t,isActive:n,logoSize:a,useAlias:r=!1,layoutDirection:o="row"}){return s.jsxs("span",{className:N("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64",o==="column"&&"flex-col"),children:[e.logo&&s.jsx(Zt,{team:{name:e.name,logo:e.logo},className:N(a==="small"?"w-6":"w-8")}),s.jsx("span",{className:"truncate",children:r?e.alias:e.name}),n&&s.jsx("span",{className:"bg-token-surface-error inline-block h-2 w-2 rounded-full"})]})}function ue({score:e,scoreSuffix:t,scoreParenthetical:n,isWinner:a,negateScore:r=!1,className:o}){const c=M();return e==null?null:s.jsxs("span",{className:N(a&&"font-semibold",o),children:[r?c.formatMessage({id:"sports.dash",defaultMessage:"-"}):e,t&&!r&&s.jsx("span",{children:t}),n&&!r&&s.jsx("span",{className:N("text-token-text-secondary font-normal",n.position==="right"&&"ms-1",n.position==="bottom"&&"mx-auto block text-center"),children:`(${n.message})`})]})}function Gt({game:e}){const t=M();switch(Vt(e)){case"live":return s.jsxs(s.Fragment,{children:[s.jsx(Er,{}),s.jsx("div",{children:e.details})]});case"complete":return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-semibold",children:s.jsx(S,{id:"q/iMZL",defaultMessage:"Final"})}),s.jsx("div",{className:"text-token-text-secondary",children:Ie(t,new Date(e.date))})]});case"scheduled":{const n=new Date(e.date);return isNaN(n.getTime())?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{children:Ie(t,n)}),s.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(n,{timeStyle:"short"})})]})}}}function Er(){return s.jsx("div",{className:"bg-token-surface-error rounded-[4px] px-1.5 py-1 text-xs font-semibold text-white",children:s.jsx(S,{id:"vObALn",defaultMessage:"Live"})})}function Ar({standingsRef:e,trackContentReferenceEvent:t}){const[n,a]=p.useState(0),r=e.conferences.length>0,o=te(),c=e.league.id;p.useEffect(()=>{r&&t("Search Content Reference Shown","search_content_reference_shown","sports",{hasStandings:!0})},[r]);const l=e.conferences[n],u=e.conferences.length>1?e.conferences.map((m,i)=>s.jsx("button",{className:N(n===i?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>a(i),children:m.name},m.name)):null;return s.jsxs(s.Fragment,{children:[u&&s.jsx("div",{className:"flex gap-4",children:u}),s.jsx("div",{className:"mt-3",children:l.divisions.map(m=>m.name?s.jsx("div",{className:"mt-3",children:s.jsx(pt,{division:m,teamsColumnHeader:m.name})},m.name):s.jsx(pt,{division:m,useAlias:o&&ee.includes(c)}))})]})}function pt({division:e,teamsColumnHeader:t,useAlias:n}){const a=e.headers.map(r=>r.key);return s.jsxs(A.Root,{size:"compact",className:"not-prose",children:[s.jsxs(A.Header,{children:[s.jsx(Ir,{children:t??s.jsx(S,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(r=>s.jsx(Xt,{textAlign:"center",className:"min-w-11 px-0!",children:s.jsx(gt,{data:r})},r.key))]}),s.jsx(A.Body,{children:e.teams.map(({team:r,data:o},c)=>{const l=o.reduce((u,m)=>(u[m.key]=m,u),{});return s.jsxs(A.Row,{children:[s.jsx(A.Cell,{className:"w-full border-0! py-0! ps-0!",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"text-token-text-tertiary me-2 w-4 whitespace-nowrap tabular-nums",children:c+1}),s.jsxs("div",{className:"flex items-center justify-start gap-2",children:[s.jsx(Zt,{team:r,className:"w-6"}),s.jsx("span",{className:"text-base whitespace-nowrap",children:n?r.alias:r.name})]})]})}),a.map(u=>s.jsx(A.Cell,{className:"min-w-11 border-0! px-0! py-0! text-start whitespace-nowrap tabular-nums",textAlign:"center",children:s.jsx(gt,{data:l[u]})},u))]},r.name)})})]})}function gt({data:e}){switch(e.type){case"text":return s.jsx(s.Fragment,{children:e.text});default:return s.jsx(s.Fragment,{children:e.alt})}}const Xt=Et(A.HeaderCell)`text-token-text-secondary font-normal! text-sm static! bg-transparent! border-token-border-default! border-t-0! border-s-0! border-e-0!`,Ir=Et(Xt)`text-token-text-primary ps-0!`;function Fr({metadata:e,trackContentReferenceEvent:t}){p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]);const n=M(),a=V(e.utc_time,e.utc_offset),r=n.formatDate(a,{hour:"numeric",minute:"numeric"});return s.jsx("span",{children:r})}function Lr({metadata:e,trackContentReferenceEvent:t}){return p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type)},[t,e.type]),s.jsx("div",{children:e.url?s.jsx(Un,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:s.jsx(B,{href:e.url,className:"font-semibold!",children:e.description})}):s.jsx("div",{className:"font-semibold!",children:e.description})})}function Rr({url:e,className:t}){let n;const a="aspect-video w-full rounded-lg",r=zr(e);r&&(n=s.jsx(Hr,{videoId:r,className:a}));const o=Or(e);return o&&(n=s.jsx(Ur,{videoId:o,className:a})),n?s.jsx("div",{className:t,children:n}):null}function zr(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,n=e.match(t);return n?n[1]:null}function Hr({videoId:e,className:t}){return s.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Or(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,n=e.match(t);return n?n[1]:null}function Ur({videoId:e,className:t}){return s.jsx(s.Fragment,{children:s.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function Wr({video:e,trackContentReferenceEvent:t}){const n={url:e.url,title:e.title};return p.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",e.type,n)},[]),e.url==null||e.url===""?null:s.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:s.jsx(Rr,{url:e.url})})}const Yr=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34354 4.92894C6.7341 5.31946 6.7341 5.95263 6.34354 6.34315C3.21906 9.46735 3.21906 14.5327 6.34354 17.6569C6.7341 18.0474 6.7341 18.6806 6.34354 19.0711C5.95298 19.4616 5.31976 19.4616 4.9292 19.0711C1.0236 15.1658 1.0236 8.83418 4.9292 4.92894C5.31976 4.53842 5.95298 4.53842 6.34354 4.92894ZM17.6583 4.92894C18.0488 4.53842 18.682 4.53842 19.0726 4.92894C22.9782 8.83418 22.9782 15.1658 19.0726 19.0711C18.682 19.4616 18.0488 19.4616 17.6583 19.0711C17.2677 18.6806 17.2677 18.0474 17.6583 17.6569C20.7827 14.5327 20.7827 9.46735 17.6583 6.34315C17.2677 5.95263 17.2677 5.31946 17.6583 4.92894Z",fill:"currentColor"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17222 7.75737C9.56278 8.14789 9.56278 8.78106 9.17222 9.17158C7.60998 10.7337 7.60998 13.2663 9.17222 14.8284C9.56278 15.219 9.56278 15.8521 9.17222 16.2426C8.78166 16.6332 8.14844 16.6332 7.75788 16.2426C5.41452 13.8995 5.41452 10.1005 7.75788 7.75737C8.14844 7.36684 8.78166 7.36684 9.17222 7.75737ZM14.8296 7.75737C15.2201 7.36684 15.8534 7.36684 16.2439 7.75737C18.5873 10.1005 18.5873 13.8995 16.2439 16.2426C15.8534 16.6332 15.2201 16.6332 14.8296 16.2426C14.439 15.8521 14.439 15.219 14.8296 14.8284C16.3918 13.2663 16.3918 10.7337 14.8296 9.17158C14.439 8.78106 14.439 8.14789 14.8296 7.75737Z",fill:"currentColor"}),p.createElement("path",{d:"M14.0011 12C14.0011 13.1046 13.1056 14 12.0009 14C10.8962 14 10.0007 13.1046 10.0007 12C10.0007 10.8954 10.8962 10 12.0009 10C13.1056 10 14.0011 10.8954 14.0011 12Z",fill:"currentColor"})),Br="webp",Zr=96,Vr=96,qr="srgb",Gr=4,Xr="uchar",Kr=288,Jr=!1,Qr=!1,eo=!0,to="{{.assetPrefix}}/assets/cloud-foggy-o4a3hmky.webp",so={format:Br,width:Zr,height:Vr,space:qr,channels:Gr,depth:Xr,density:Kr,isProgressive:Jr,hasProfile:Qr,hasAlpha:eo,src:to},no="webp",ao=96,ro=96,oo="srgb",io=4,co="uchar",lo=288,uo=!1,ho=!1,mo=!0,fo="{{.assetPrefix}}/assets/cloudy-co8vwrk7.webp",po={format:no,width:ao,height:ro,space:oo,channels:io,depth:co,density:lo,isProgressive:uo,hasProfile:ho,hasAlpha:mo,src:fo},go="webp",xo=96,bo=96,vo="srgb",yo=4,wo="uchar",jo=288,$o=!1,_o=!1,ko=!0,No="{{.assetPrefix}}/assets/heavy-snow-mke52kag.webp",Co={format:go,width:xo,height:bo,space:vo,channels:yo,depth:wo,density:jo,isProgressive:$o,hasProfile:_o,hasAlpha:ko,src:No},So="webp",To=96,Po=96,Mo="srgb",Do=4,Eo="uchar",Ao=288,Io=!1,Fo=!1,Lo=!0,Ro="{{.assetPrefix}}/assets/light-snow-mcy1l7t9.webp",zo={format:So,width:To,height:Po,space:Mo,channels:Do,depth:Eo,density:Ao,isProgressive:Io,hasProfile:Fo,hasAlpha:Lo,src:Ro},Ho="webp",Oo=96,Uo=96,Wo="srgb",Yo=4,Bo="uchar",Zo=288,Vo=!1,qo=!1,Go=!0,Xo="{{.assetPrefix}}/assets/moon-drizzle-cplxr2ub.webp",Ko={format:Ho,width:Oo,height:Uo,space:Wo,channels:Yo,depth:Bo,density:Zo,isProgressive:Vo,hasProfile:qo,hasAlpha:Go,src:Xo},Jo="webp",Qo=96,ei=96,ti="srgb",si=4,ni="uchar",ai=288,ri=!1,oi=!1,ii=!0,ci="{{.assetPrefix}}/assets/moon-hazy-jvgt25bp.webp",li={format:Jo,width:Qo,height:ei,space:ti,channels:si,depth:ni,density:ai,isProgressive:ri,hasProfile:oi,hasAlpha:ii,src:ci},di="webp",ui=96,hi=96,mi="srgb",fi=4,pi="uchar",gi=288,xi=!1,bi=!1,vi=!0,yi="{{.assetPrefix}}/assets/moon-mostly-cloudy-cia3do0v.webp",wi={format:di,width:ui,height:hi,space:mi,channels:fi,depth:pi,density:gi,isProgressive:xi,hasProfile:bi,hasAlpha:vi,src:yi},ji="webp",$i=96,_i=96,ki="srgb",Ni=4,Ci="uchar",Si=288,Ti=!1,Pi=!1,Mi=!0,Di="{{.assetPrefix}}/assets/moon-mostly-sunny-n3mh1b6a.webp",Ei={format:ji,width:$i,height:_i,space:ki,channels:Ni,depth:Ci,density:Si,isProgressive:Ti,hasProfile:Pi,hasAlpha:Mi,src:Di},Ai="webp",Ii=96,Fi=96,Li="srgb",Ri=4,zi="uchar",Hi=288,Oi=!1,Ui=!1,Wi=!0,Yi="{{.assetPrefix}}/assets/moon-shower-ntzhti9o.webp",Bi={format:Ai,width:Ii,height:Fi,space:Li,channels:Ri,depth:zi,density:Hi,isProgressive:Oi,hasProfile:Ui,hasAlpha:Wi,src:Yi},Zi="webp",Vi=96,qi=96,Gi="srgb",Xi=4,Ki="uchar",Ji=288,Qi=!1,ec=!1,tc=!0,sc="{{.assetPrefix}}/assets/moon-sunny-eg2emh4d.webp",nc={format:Zi,width:Vi,height:qi,space:Gi,channels:Xi,depth:Ki,density:Ji,isProgressive:Qi,hasProfile:ec,hasAlpha:tc,src:sc},ac="webp",rc=96,oc=96,ic="srgb",cc=4,lc="uchar",dc=288,uc=!1,hc=!1,mc=!0,fc="{{.assetPrefix}}/assets/rain-thunder-bx7a0l5g.webp",pc={format:ac,width:rc,height:oc,space:ic,channels:cc,depth:lc,density:dc,isProgressive:uc,hasProfile:hc,hasAlpha:mc,src:fc},gc="webp",xc=96,bc=96,vc="srgb",yc=4,wc="uchar",jc=288,$c=!1,_c=!1,kc=!0,Nc="{{.assetPrefix}}/assets/rain-cxs76xuj.webp",Cc={format:gc,width:xc,height:bc,space:vc,channels:yc,depth:wc,density:jc,isProgressive:$c,hasProfile:_c,hasAlpha:kc,src:Nc},Sc="webp",Tc=96,Pc=96,Mc="srgb",Dc=4,Ec="uchar",Ac=288,Ic=!1,Fc=!1,Lc=!0,Rc="{{.assetPrefix}}/assets/sleet-gc63vwmo.webp",zc={format:Sc,width:Tc,height:Pc,space:Mc,channels:Dc,depth:Ec,density:Ac,isProgressive:Ic,hasProfile:Fc,hasAlpha:Lc,src:Rc},Hc="webp",Oc=96,Uc=96,Wc="srgb",Yc=4,Bc="uchar",Zc=288,Vc=!1,qc=!1,Gc=!0,Xc="{{.assetPrefix}}/assets/snow-d0k6tmmc.webp",Kc={format:Hc,width:Oc,height:Uc,space:Wc,channels:Yc,depth:Bc,density:Zc,isProgressive:Vc,hasProfile:qc,hasAlpha:Gc,src:Xc},Jc="webp",Qc=96,el=96,tl="srgb",sl=4,nl="uchar",al=288,rl=!1,ol=!1,il=!0,cl="{{.assetPrefix}}/assets/sun-drizzle-g94obr5e.webp",ll={format:Jc,width:Qc,height:el,space:tl,channels:sl,depth:nl,density:al,isProgressive:rl,hasProfile:ol,hasAlpha:il,src:cl},dl="webp",ul=96,hl=96,ml="srgb",fl=4,pl="uchar",gl=288,xl=!1,bl=!1,vl=!0,yl="{{.assetPrefix}}/assets/sun-hazy-c3z1j0hy.webp",wl={format:dl,width:ul,height:hl,space:ml,channels:fl,depth:pl,density:gl,isProgressive:xl,hasProfile:bl,hasAlpha:vl,src:yl},jl="webp",$l=96,_l=96,kl="srgb",Nl=4,Cl="uchar",Sl=288,Tl=!1,Pl=!1,Ml=!0,Dl="{{.assetPrefix}}/assets/sun-mostly-cloudy-d4o4zkga.webp",El={format:jl,width:$l,height:_l,space:kl,channels:Nl,depth:Cl,density:Sl,isProgressive:Tl,hasProfile:Pl,hasAlpha:Ml,src:Dl},Al="webp",Il=96,Fl=96,Ll="srgb",Rl=4,zl="uchar",Hl=288,Ol=!1,Ul=!1,Wl=!0,Yl="{{.assetPrefix}}/assets/sun-mostly-sunny-livrdkgu.webp",Bl={format:Al,width:Il,height:Fl,space:Ll,channels:Rl,depth:zl,density:Hl,isProgressive:Ol,hasProfile:Ul,hasAlpha:Wl,src:Yl},Zl="webp",Vl=96,ql=96,Gl="srgb",Xl=4,Kl="uchar",Jl=288,Ql=!1,ed=!1,td=!0,sd="{{.assetPrefix}}/assets/sun-shower-lvtjthah.webp",nd={format:Zl,width:Vl,height:ql,space:Gl,channels:Xl,depth:Kl,density:Jl,isProgressive:Ql,hasProfile:ed,hasAlpha:td,src:sd},ad="webp",rd=96,od=96,id="srgb",cd=4,ld="uchar",dd=288,ud=!1,hd=!1,md=!0,fd="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",pd={format:ad,width:rd,height:od,space:id,channels:cd,depth:ld,density:dd,isProgressive:ud,hasProfile:hd,hasAlpha:md,src:fd},gd="webp",xd=96,bd=96,vd="srgb",yd=4,wd="uchar",jd=288,$d=!1,_d=!1,kd=!0,Nd="{{.assetPrefix}}/assets/thunder-jgjqg9ai.webp",Cd={format:gd,width:xd,height:bd,space:vd,channels:yd,depth:wd,density:jd,isProgressive:$d,hasProfile:_d,hasAlpha:kd,src:Nd},Sd="webp",Td=96,Pd=96,Md="srgb",Dd=4,Ed="uchar",Ad=288,Id=!1,Fd=!1,Ld=!0,Rd="{{.assetPrefix}}/assets/tornado-opa24tq3.webp",zd={format:Sd,width:Td,height:Pd,space:Md,channels:Dd,depth:Ed,density:Ad,isProgressive:Id,hasProfile:Fd,hasAlpha:Ld,src:Rd},Hd="webp",Od=96,Ud=96,Wd="srgb",Yd=4,Bd="uchar",Zd=288,Vd=!1,qd=!1,Gd=!0,Xd="{{.assetPrefix}}/assets/windy-mw0a3u21.webp",Kd={format:Hd,width:Od,height:Ud,space:Wd,channels:Yd,depth:Bd,density:Zd,isProgressive:Vd,hasProfile:qd,hasAlpha:Gd,src:Xd},Jd="webp",Qd=96,eu=96,tu="srgb",su=4,nu="uchar",au=288,ru=!1,ou=!1,iu=!0,cu="{{.assetPrefix}}/assets/cloud-foggy-fhg0jn0w.webp",lu={format:Jd,width:Qd,height:eu,space:tu,channels:su,depth:nu,density:au,isProgressive:ru,hasProfile:ou,hasAlpha:iu,src:cu},du="webp",uu=96,hu=96,mu="srgb",fu=4,pu="uchar",gu=288,xu=!1,bu=!1,vu=!0,yu="{{.assetPrefix}}/assets/cloudy-disd26f3.webp",wu={format:du,width:uu,height:hu,space:mu,channels:fu,depth:pu,density:gu,isProgressive:xu,hasProfile:bu,hasAlpha:vu,src:yu},ju="webp",$u=96,_u=96,ku="srgb",Nu=4,Cu="uchar",Su=288,Tu=!1,Pu=!1,Mu=!0,Du="{{.assetPrefix}}/assets/heavy-snow-g6jjwo2d.webp",Eu={format:ju,width:$u,height:_u,space:ku,channels:Nu,depth:Cu,density:Su,isProgressive:Tu,hasProfile:Pu,hasAlpha:Mu,src:Du},Au="webp",Iu=96,Fu=96,Lu="srgb",Ru=4,zu="uchar",Hu=288,Ou=!1,Uu=!1,Wu=!0,Yu="{{.assetPrefix}}/assets/light-snow-iz0efpkh.webp",Bu={format:Au,width:Iu,height:Fu,space:Lu,channels:Ru,depth:zu,density:Hu,isProgressive:Ou,hasProfile:Uu,hasAlpha:Wu,src:Yu},Zu="webp",Vu=96,qu=96,Gu="srgb",Xu=4,Ku="uchar",Ju=288,Qu=!1,eh=!1,th=!0,sh="{{.assetPrefix}}/assets/moon-drizzle-b1nfv39c.webp",nh={format:Zu,width:Vu,height:qu,space:Gu,channels:Xu,depth:Ku,density:Ju,isProgressive:Qu,hasProfile:eh,hasAlpha:th,src:sh},ah="webp",rh=96,oh=96,ih="srgb",ch=4,lh="uchar",dh=288,uh=!1,hh=!1,mh=!0,fh="{{.assetPrefix}}/assets/moon-hazy-nfnzea7a.webp",ph={format:ah,width:rh,height:oh,space:ih,channels:ch,depth:lh,density:dh,isProgressive:uh,hasProfile:hh,hasAlpha:mh,src:fh},gh="webp",xh=96,bh=96,vh="srgb",yh=4,wh="uchar",jh=288,$h=!1,_h=!1,kh=!0,Nh="{{.assetPrefix}}/assets/moon-mostly-cloudy-e56e3z55.webp",Ch={format:gh,width:xh,height:bh,space:vh,channels:yh,depth:wh,density:jh,isProgressive:$h,hasProfile:_h,hasAlpha:kh,src:Nh},Sh="webp",Th=96,Ph=96,Mh="srgb",Dh=4,Eh="uchar",Ah=288,Ih=!1,Fh=!1,Lh=!0,Rh="{{.assetPrefix}}/assets/moon-mostly-sunny-ffu4gzf4.webp",zh={format:Sh,width:Th,height:Ph,space:Mh,channels:Dh,depth:Eh,density:Ah,isProgressive:Ih,hasProfile:Fh,hasAlpha:Lh,src:Rh},Hh="webp",Oh=96,Uh=96,Wh="srgb",Yh=4,Bh="uchar",Zh=288,Vh=!1,qh=!1,Gh=!0,Xh="{{.assetPrefix}}/assets/moon-shower-e5dy9u48.webp",Kh={format:Hh,width:Oh,height:Uh,space:Wh,channels:Yh,depth:Bh,density:Zh,isProgressive:Vh,hasProfile:qh,hasAlpha:Gh,src:Xh},Jh="webp",Qh=96,em=96,tm="srgb",sm=4,nm="uchar",am=288,rm=!1,om=!1,im=!0,cm="{{.assetPrefix}}/assets/moon-sunny-d9o08xiw.webp",lm={format:Jh,width:Qh,height:em,space:tm,channels:sm,depth:nm,density:am,isProgressive:rm,hasProfile:om,hasAlpha:im,src:cm},dm="webp",um=96,hm=96,mm="srgb",fm=4,pm="uchar",gm=288,xm=!1,bm=!1,vm=!0,ym="{{.assetPrefix}}/assets/rain-thunder-eplemvu1.webp",wm={format:dm,width:um,height:hm,space:mm,channels:fm,depth:pm,density:gm,isProgressive:xm,hasProfile:bm,hasAlpha:vm,src:ym},jm="webp",$m=96,_m=96,km="srgb",Nm=4,Cm="uchar",Sm=288,Tm=!1,Pm=!1,Mm=!0,Dm="{{.assetPrefix}}/assets/rain-ogayr6kt.webp",Em={format:jm,width:$m,height:_m,space:km,channels:Nm,depth:Cm,density:Sm,isProgressive:Tm,hasProfile:Pm,hasAlpha:Mm,src:Dm},Am="webp",Im=96,Fm=96,Lm="srgb",Rm=4,zm="uchar",Hm=288,Om=!1,Um=!1,Wm=!0,Ym="{{.assetPrefix}}/assets/sleet-o8noil7l.webp",Bm={format:Am,width:Im,height:Fm,space:Lm,channels:Rm,depth:zm,density:Hm,isProgressive:Om,hasProfile:Um,hasAlpha:Wm,src:Ym},Zm="webp",Vm=96,qm=96,Gm="srgb",Xm=4,Km="uchar",Jm=288,Qm=!1,ef=!1,tf=!0,sf="{{.assetPrefix}}/assets/snow-lq4cl3uc.webp",nf={format:Zm,width:Vm,height:qm,space:Gm,channels:Xm,depth:Km,density:Jm,isProgressive:Qm,hasProfile:ef,hasAlpha:tf,src:sf},af="webp",rf=96,of=96,cf="srgb",lf=4,df="uchar",uf=288,hf=!1,mf=!1,ff=!0,pf="{{.assetPrefix}}/assets/sun-drizzle-htsohv65.webp",gf={format:af,width:rf,height:of,space:cf,channels:lf,depth:df,density:uf,isProgressive:hf,hasProfile:mf,hasAlpha:ff,src:pf},xf="webp",bf=96,vf=96,yf="srgb",wf=4,jf="uchar",$f=288,_f=!1,kf=!1,Nf=!0,Cf="{{.assetPrefix}}/assets/sun-hazy-nfj7clcd.webp",Sf={format:xf,width:bf,height:vf,space:yf,channels:wf,depth:jf,density:$f,isProgressive:_f,hasProfile:kf,hasAlpha:Nf,src:Cf},Tf="webp",Pf=96,Mf=96,Df="srgb",Ef=4,Af="uchar",If=288,Ff=!1,Lf=!1,Rf=!0,zf="{{.assetPrefix}}/assets/sun-mostly-cloudy-e3pqqgs7.webp",Hf={format:Tf,width:Pf,height:Mf,space:Df,channels:Ef,depth:Af,density:If,isProgressive:Ff,hasProfile:Lf,hasAlpha:Rf,src:zf},Of="webp",Uf=96,Wf=96,Yf="srgb",Bf=4,Zf="uchar",Vf=288,qf=!1,Gf=!1,Xf=!0,Kf="{{.assetPrefix}}/assets/sun-mostly-sunny-o99k1c7a.webp",Jf={format:Of,width:Uf,height:Wf,space:Yf,channels:Bf,depth:Zf,density:Vf,isProgressive:qf,hasProfile:Gf,hasAlpha:Xf,src:Kf},Qf="webp",ep=96,tp=96,sp="srgb",np=4,ap="uchar",rp=288,op=!1,ip=!1,cp=!0,lp="{{.assetPrefix}}/assets/sun-shower-ldwl4jbp.webp",dp={format:Qf,width:ep,height:tp,space:sp,channels:np,depth:ap,density:rp,isProgressive:op,hasProfile:ip,hasAlpha:cp,src:lp},up="webp",hp=96,mp=96,fp="srgb",pp=4,gp="uchar",xp=!1,bp=!1,vp=!0,yp="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",wp={format:up,width:hp,height:mp,space:fp,channels:pp,depth:gp,isProgressive:xp,hasProfile:bp,hasAlpha:vp,src:yp},jp="webp",$p=96,_p=96,kp="srgb",Np=4,Cp="uchar",Sp=288,Tp=!1,Pp=!1,Mp=!0,Dp="{{.assetPrefix}}/assets/thunder-xzn1cku3.webp",Ep={format:jp,width:$p,height:_p,space:kp,channels:Np,depth:Cp,density:Sp,isProgressive:Tp,hasProfile:Pp,hasAlpha:Mp,src:Dp},Ap="webp",Ip=96,Fp=96,Lp="srgb",Rp=4,zp="uchar",Hp=288,Op=!1,Up=!1,Wp=!0,Yp="{{.assetPrefix}}/assets/tornado-diqu61wg.webp",Bp={format:Ap,width:Ip,height:Fp,space:Lp,channels:Rp,depth:zp,density:Hp,isProgressive:Op,hasProfile:Up,hasAlpha:Wp,src:Yp},Zp="webp",Vp=96,qp=96,Gp="srgb",Xp=4,Kp="uchar",Jp=288,Qp=!1,eg=!1,tg=!0,sg="{{.assetPrefix}}/assets/windy-n2v8wtyp.webp",ng={format:Zp,width:Vp,height:qp,space:Gp,channels:Xp,depth:Kp,density:Jp,isProgressive:Qp,hasProfile:eg,hasAlpha:tg,src:sg},ag={foggy:{default:so},cloudy:{default:po},"heavy-snow":{default:Co},"light-snow":{default:zo},sleet:{default:zc},drizzle:{default:ll,night:Ko},hazy:{default:wl,night:li},"mostly-cloudy":{default:El,night:wi},"mostly-sunny":{default:Bl,night:Ei},shower:{default:nd,night:Bi},sunny:{default:pd,night:nc},"rain-thunder":{default:pc},rain:{default:Cc},snow:{default:Kc},thunder:{default:Cd},tornado:{default:zd},windy:{default:Kd}},rg={foggy:{default:lu},cloudy:{default:wu},"heavy-snow":{default:Eu},"light-snow":{default:Bu},sleet:{default:Bm},drizzle:{default:gf,night:nh},hazy:{default:Sf,night:ph},"mostly-cloudy":{default:Hf,night:Ch},"mostly-sunny":{default:Jf,night:zh},shower:{default:dp,night:Kh},sunny:{default:wp,night:lm},"rain-thunder":{default:wm},rain:{default:Em},snow:{default:nf},thunder:{default:Ep},tornado:{default:Bp},windy:{default:ng}};function og({weatherCode:e,isDarkMode:t,isNight:n}){const a=t?rg:ag,r=ig(e),o=a[r];return o.night&&n?o.night:o.default}function ig(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const cg="C";function lg(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function xt(e,t,n=cg){return e===n?`${Math.round(t)}°`:`${lg(e,t)}°`}const dg=7,bt=8,ug=p.memo(function({weatherResults:t,dateRange:n,turnIndex:a,trackContentReferenceEvent:r}){const[o,c]=jg(),l=fg(t);p.useEffect(()=>{r("Search Content Reference Shown","search_content_reference_shown","forecast")},[r]);const{daily:u,hourly:m,historical:i}=t;let f="daily";if(n||m&&u.length<2)f="hourly";else if(u.length>0)f="daily";else if(i&&i?.length>0)f="historical";else return null;return s.jsxs("div",{className:"relative",children:[l?s.jsxs(s.Fragment,{children:[s.jsx(mg,{weatherResults:t}),s.jsx(pg,{weatherResults:t,temperatureUnit:o,setTemperatureUnit:c})]}):s.jsx("div",{className:"bg-token-main-surface-primary absolute end-0 top-3 z-10 rounded-sm",children:s.jsx(Kt,{onTemperatureUnitChange:c,temperatureUnit:o})}),s.jsx(vg,{turnIndex:a}),f==="hourly"&&s.jsx(gg,{weatherResults:t,temperatureUnit:o,dateRange:n}),f==="daily"&&s.jsx(xg,{dailyForecast:u.slice(0,dg),temperatureUnit:o}),f==="historical"&&s.jsx(bg,{historical:i,temperatureUnit:o})]})});function hg({weatherAlert:e}){const[t,n]=p.useState(!1),a=M(),r=Re(),o=z(e.start_timestamp,e.utc_offset_sec),c=e.end_timestamp?z(e.end_timestamp,e.utc_offset_sec):null,l=s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx(S,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:a.formatDate(o,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:c?" - ":"",end:c?a.formatDate(c,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),s.jsx("div",{children:e.summary})]});return s.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-start text-sm text-red-800",onClick:()=>n(!t),children:[s.jsxs("div",{className:"flex w-full items-center gap-4",children:[s.jsx(Es,{className:"h-9 w-9 shrink-0"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"font-bold",children:s.jsx(S,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),r&&l]}),s.jsx("div",{className:"grow"}),s.jsx("div",{className:"opacity-30",children:t?s.jsx(Zn,{className:"icon-lg"}):s.jsx(Bn,{className:"icon-lg"})})]}),t&&e.details&&s.jsxs(s.Fragment,{children:[!r&&l,s.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function mg({weatherResults:e}){const{severe:t}=e;return t?s.jsx("div",{className:"my-2",children:t.map((n,a)=>s.jsx(hg,{weatherAlert:n},a))}):null}function fg(e){const{historical:t,daily:n,hourly:a,current:r}=e;if(!r)return!1;let o=!1;const c=z(r.timestamp,r.utc_offset_sec);for(const l of[t,n,a])l&&(o=o||l?.some(u=>Ts(c,z(u.timestamp,u.utc_offset_sec))));return o}function pg({weatherResults:e,temperatureUnit:t,setTemperatureUnit:n}){const a=M(),{current:r}=e;if(!r)return null;const o=r.temperature.current,c=r.description,l=o!=null&&c&&" · ";return s.jsxs("div",{className:"not-prose flex items-center gap-4",children:[s.jsxs("div",{className:"grow",children:[s.jsxs("div",{className:"text-lg font-semibold",children:[o!=null&&s.jsx(S,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:Y(a,o,t)}}),l,c.description]}),s.jsx("div",{className:"text-token-text-secondary",children:wg(e.location)})]}),s.jsxs("div",{className:"flex",children:[s.jsx(Kt,{onTemperatureUnitChange:n,temperatureUnit:t}),s.jsx(Ue,{weatherDescriptionData:c,isNight:r.night})]})]})}function Oe({children:e}){return s.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:s.jsx(A.Root,{className:"min-w-0",children:s.jsx(A.Body,{className:"border-token-border-medium border-b-[0.5px] [&_tr:last-child]:border-b-0",children:e})})})}function gg({weatherResults:e,temperatureUnit:t,dateRange:n}){const a=M(),{hourly:r,current:o}=e;let c=r??[];n&&(c=c.filter(i=>i.timestamp>=n.start_timestamp&&i.timestamp<n.end_timestamp));const[l,u]=p.useState(!1),m=c.length>bt;if(!l&&m){const i=c[0],f=z(i.timestamp,i.utc_offset_sec);let y=!1;if(o){const g=z(o.timestamp,o.utc_offset_sec);f.getTime()-g.getTime()>8*60*60*1e3&&c.length>18&&(c=c.slice(7,18),y=!0)}y||(c=c.slice(0,bt))}return s.jsxs(Oe,{children:[c.map((i,f)=>s.jsxs(A.Row,{children:[s.jsxs(F,{className:"w-44",children:[s.jsx(Ue,{weatherDescriptionData:i.description,isNight:i.night,size:"small"}),s.jsx("div",{className:"ms-3 whitespace-nowrap",children:s.jsx("span",{className:"lowercase",children:yg(a,i)})})]}),s.jsx(F,{className:"w-[60px] tabular-nums",children:s.jsx("div",{children:Y(a,i.temperature.current,t)})}),s.jsx(F,{children:i.description.description})]},f)),m&&s.jsx(A.Row,{children:s.jsx(F,{className:"w-44",children:s.jsx(Q,{color:"secondary",onClick:()=>u(!l),size:"small",children:l?s.jsx(S,{id:"KoC8Ym",defaultMessage:"Show less"}):s.jsx(S,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function xg({dailyForecast:e,temperatureUnit:t}){const n=M();return s.jsx(Oe,{children:e.map((a,r)=>s.jsxs(A.Row,{children:[s.jsxs(F,{className:"w-[7.5rem] min-w-[7.5rem]",children:[s.jsx(Ue,{weatherDescriptionData:a.description,isNight:a.night,size:"small"}),s.jsx("div",{className:"ms-3 whitespace-nowrap",children:Ie(n,z(a.timestamp,a.utc_offset_sec))})]}),s.jsxs(F,{className:"tabular-nums",children:[s.jsx("div",{children:Y(n,a.temperature.max,t)}),s.jsx("div",{className:"text-token-text-secondary ms-1",children:Y(n,a.temperature.min,t)})]}),s.jsx(F,{className:"min-w-80",children:a.description.description})]},r))})}function bg({historical:e,temperatureUnit:t}){const n=M();return e?s.jsx(Oe,{children:e.map((a,r)=>{const o=z(a.timestamp,a.utc_offset_sec);return s.jsxs(A.Row,{children:[s.jsx(F,{className:"w-[250px]",children:s.jsx("div",{className:"ms-3 whitespace-nowrap",children:n.formatDate(o,{weekday:"long",month:"short",day:"numeric"})})}),s.jsx(F,{className:"tabular-nums",children:a.temperature.max&&a.temperature.min?s.jsxs(s.Fragment,{children:[s.jsx("div",{children:Y(n,a.temperature.max,t)}),s.jsx("div",{className:"text-token-text-secondary ms-1",children:Y(n,a.temperature.min,t)})]}):s.jsx("div",{children:Y(n,a.temperature.current,t)})}),s.jsx(F,{})]},r)})}):null}function F({className:e,children:t}){return s.jsx(A.Cell,{className:N("border-token-border-xlight! border-s-0! border-e-0! py-2! ps-4! pe-3! first:ps-0! last:pe-0!",e),divClassName:"items-start leading-relaxed",children:t})}function vg({turnIndex:e}){const t=Ps(a=>a.thread?.turns[e]?.use_location),[n]=vn();return!n.useLocation&&t?s.jsx("div",{className:"mt-3",children:s.jsx(Q,{color:"secondary",icon:Yr,onClick:()=>{yn.setSettingsModalOpen(!0)},children:s.jsx(S,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function Kt({temperatureUnit:e,onTemperatureUnitChange:t}){const n=a=>e===a?"font-bold":"font-light";return s.jsx(sn,{size:"small",triggerButton:s.jsx("button",{className:"text-token-text-tertiary hover:text-token-text-primary flex items-center justify-center p-1.5",children:s.jsx(Ms,{className:"icon-sm-heavy"})}),children:s.jsxs(nn.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[s.jsx(S,{id:"bQIoe/",defaultMessage:"Temperature"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:n("F"),children:s.jsx(S,{id:"bvDeBB",defaultMessage:"°F"})}),s.jsx("div",{className:"mx-1 h-4 border-s border-gray-300"}),s.jsx("div",{className:n("C"),children:s.jsx(S,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function Ue({weatherDescriptionData:e,isNight:t=!1,size:n="normal"}){const a=pe(),r=n==="small"?30:50;return s.jsx("img",{draggable:!1,alt:e.description,src:og({weatherCode:e.id,isDarkMode:a,isNight:t}).src,width:r,height:r})}function yg(e,t){const n=z(t.timestamp,t.utc_offset_sec);return e.formatDate(n,{hour:"numeric"})}function Y(e,t,n){return t==null?"-":xt(n?n??"F":Jt(e),t)}function Jt(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],n=e.locale||"en-US";return t.includes(n)?"F":"C"}function wg(e){const t=e.name.split(",").map(n=>n.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const jg=()=>{const e=M(),[t,n]=Ds("USER_TEMPERATURE_UNIT",Jt(e),a=>["F","C"].includes(a));return[t,n]},$g=an(()=>rn(()=>import("./omvo5pavq8p43sw1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])).then(e=>e.BusinessesMap));function _g(e){"use forget";const t=he.c(117),{index:n,FormattedText:a,node:r,wordFadeType:o}=e,c=parseInt(n,10),l=p.useContext(me);let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u="756982148",t[0]=u):u=t[0];const{value:m}=At(u),i=jt(l?.analyticsMetadata),f=p.useRef(!1);if(l==null)return null;const{contentReferences:y,onShowSearchResults:g,numImageResults:$,analyticsMetadata:b,message:w}=l,h=y?.[c],_=b?.clientThreadId==null;if(!h||b.turnIndex===void 0||h.type===void 0)return null;let k;t[1]===Symbol.for("react.memo_cache_sentinel")?(k={img:Ng},t[1]=k):k=t[1];let x;t[2]!==h.alt?(x=s.jsx(Le,{components:k,children:h.alt}),t[2]=h.alt,t[3]=x):x=t[3];const j=x;let v=null;e:switch(h.type){case"title_citation":{let d;t[4]!==h||t[5]!==i?(d=s.jsx(Lr,{metadata:h,trackContentReferenceEvent:i}),t[4]=h,t[5]=i,t[6]=d):d=t[6],v=d;break e}case"location_search":{let d;t[7]!==h||t[8]!==i?(d=s.jsx(gr,{metadata:h,trackContentReferenceEvent:i}),t[7]=h,t[8]=i,t[9]=d):d=t[9],v=d;break e}case"time":{let d;t[10]!==h||t[11]!==i?(d=s.jsx(Fr,{metadata:h,trackContentReferenceEvent:i}),t[10]=h,t[11]=i,t[12]=d):d=t[12],v=d;break e}case"image_v2":{const d=$??0;let I;t[13]!==b||t[14]!==h||t[15]!==i||t[16]!==d?(I=s.jsx(zt,{metadata:h,numImageResults:d,analyticsMetadata:b,trackContentReferenceEvent:i}),t[13]=b,t[14]=h,t[15]=i,t[16]=d,t[17]=I):I=t[17],v=I;break e}case"nav_list":{let d;t[18]!==h||t[19]!==i?(d=s.jsx(xr,{metadata:h,trackContentReferenceEvent:i}),t[18]=h,t[19]=i,t[20]=d):d=t[20],v=d;break e}case"file_navlist":{let d;t[21]!==h||t[22]!==i?(d=s.jsx(Pa,{metadata:h,trackContentReferenceEvent:i}),t[21]=h,t[22]=i,t[23]=d):d=t[23],v=d;break e}case"file":{let d;t[24]!==h||t[25]!==i||t[26]!==c?(d=s.jsx(Na,{fileRef:h,index:c,trackContentReferenceEvent:i}),t[24]=h,t[25]=i,t[26]=c,t[27]=d):d=t[27],v=d;break e}case"grouped_webpages_model_predicted_fallback":{let d;t[28]!==h||t[29]!==l.message.id||t[30]!==i||t[31]!==c||t[32]!==r?(d=s.jsx(Yn,{webpageRef:h,node:r,trackContentReferenceEvent:i,messageId:l.message.id,index:c}),t[28]=h,t[29]=l.message.id,t[30]=i,t[31]=c,t[32]=r,t[33]=d):d=t[33],v=d;break e}case"grouped_webpages":{let d;t[34]!==h||t[35]!==l.message.id||t[36]!==i||t[37]!==c||t[38]!==r?(d=s.jsx(Wn,{webpageRef:h,node:r,trackContentReferenceEvent:i,messageId:l.message.id,index:c}),t[34]=h,t[35]=l.message.id,t[36]=i,t[37]=c,t[38]=r,t[39]=d):d=t[39],v=d;break e}case"tldr":{let d;t[40]!==h||t[41]!==i||t[42]!==m||t[43]!==g?(d=m?s.jsx(Ge,{navigation:{...h,type:"navigation",domains:[{title:h.page_title,subtitle:h.display_title,domain:h.breadcrumbs[0],url:h.url,sub_domains:[]}]},onShowSearchResults:g,trackContentReferenceEvent:i}):s.jsx(As,{tldr:h,trackContentReferenceEvent:i}),t[40]=h,t[41]=i,t[42]=m,t[43]=g,t[44]=d):d=t[44],v=d;break e}case"navigation":{let d;t[45]!==h||t[46]!==i||t[47]!==g?(d=s.jsx(Ge,{navigation:h,onShowSearchResults:g,trackContentReferenceEvent:i}),t[45]=h,t[46]=i,t[47]=g,t[48]=d):d=t[48],v=d;break e}case"stock":{let d;t[49]!==h||t[50]!==i?(d=s.jsx(hr,{contentReference:h,trackContentReferenceEvent:i}),t[49]=h,t[50]=i,t[51]=d):d=t[51],v=d;break e}case"calculator":{let d;t[52]!==h||t[53]!==i?(d=s.jsx(ba,{data:h,trackContentReferenceEvent:i}),t[52]=h,t[53]=i,t[54]=d):d=t[54],v=d;break e}case"code_execution":{let d;t[55]!==a||t[56]!==h||t[57]!==i?(d=s.jsx(ja,{FormattedText:a,displayInfo:h,trackContentReferenceEvent:i}),t[55]=a,t[56]=h,t[57]=i,t[58]=d):d=t[58],v=d;break e}case"forecast":{let d;t[59]!==b||t[60]!==h.date_range||t[61]!==h.forecast||t[62]!==i?(d=h?.forecast&&s.jsx(ug,{weatherResults:h.forecast,dateRange:h.date_range,turnIndex:b.turnIndex,trackContentReferenceEvent:i}),t[59]=b,t[60]=h.date_range,t[61]=h.forecast,t[62]=i,t[63]=d):d=t[63],v=d;break e}case"businesses_map":{let d;t[64]!==h||t[65]!==i?(d=s.jsx($g,{contentReference:h,trackContentReferenceEvent:i}),t[64]=h,t[65]=i,t[66]=d):d=t[66],v=d;break e}case"video":{let d;t[67]!==h||t[68]!==i?(d=s.jsx(Wr,{video:h,trackContentReferenceEvent:i}),t[67]=h,t[68]=i,t[69]=d):d=t[69],v=d;break e}case"sources_footnote":{let d;t[70]!==h||t[71]!==i||t[72]!==_||t[73]!==g?(d=s.jsx(Is,{sourcesFootnote:h,onShowSearchResults:g,trackContentReferenceEvent:i,isSearchGptApp:_}),t[70]=h,t[71]=i,t[72]=_,t[73]=g,t[74]=d):d=t[74],v=d;break e}case"sports_standings":{let d;t[75]!==h||t[76]!==i?(d=s.jsx(Ar,{standingsRef:h,trackContentReferenceEvent:i}),t[75]=h,t[76]=i,t[77]=d):d=t[77],v=d;break e}case"sports_schedule":{let d;t[78]!==h||t[79]!==i?(d=s.jsx(Pr,{scheduleRef:h,trackContentReferenceEvent:i}),t[78]=h,t[79]=i,t[80]=d):d=t[80],v=d;break e}case"attribution":{let d;t[81]!==h||t[82]!==o?(d=s.jsx(ma,{attribution:h,wordFadeType:o}),t[81]=h,t[82]=o,t[83]=d):d=t[83],v=d;break e}case"debug":{let d;t[84]!==h?(d=Object.entries(h).map(kg),t[84]=h,t[85]=d):d=t[85];let I;t[86]!==d?(I=s.jsx(s.Fragment,{children:d}),t[86]=d,t[87]=I):I=t[87],v=I;break e}case"image_inline":{let d;t[88]!==h||t[89]!==l.clientThreadId||t[90]!==i||t[91]!==w?(d=s.jsx(ra,{reference:h,clientThreadId:l.clientThreadId,trackContentReferenceEvent:i,message:w}),t[88]=h,t[89]=l.clientThreadId,t[90]=i,t[91]=w,t[92]=d):d=t[92],v=d;break e}case"product_entity":{let d;t[93]!==b.turnIndex||t[94]!==h||t[95]!==l.clientThreadId||t[96]!==l.message.id||t[97]!==i?(d=s.jsx(ca,{contentReference:h,clientThreadId:l.clientThreadId,messageId:l.message.id,turnIndex:b.turnIndex,trackContentReferenceEvent:i}),t[93]=b.turnIndex,t[94]=h,t[95]=l.clientThreadId,t[96]=l.message.id,t[97]=i,t[98]=d):d=t[98],v=d;break e}case"products":{let d;t[99]!==b||t[100]!==h||t[101]!==l.clientThreadId||t[102]!==l.message.id?(d=s.jsx(da,{contentReference:h,clientThreadId:l.clientThreadId,messageId:l.message.id,turnIndex:b.turnIndex,analyticsMetadata:b}),t[99]=b,t[100]=h,t[101]=l.clientThreadId,t[102]=l.message.id,t[103]=d):d=t[103],v=d;break e}case"product_reviews":{let d;t[104]!==h||t[105]!==i?(d=s.jsx(Cn,{contentReference:h,disableAnimation:!0,trackContentReferenceEvent:i}),t[104]=h,t[105]=i,t[106]=d):d=t[106],v=d;break e}case"product_rationale":{let d;t[107]!==h||t[108]!==i?(d=s.jsx(Nn,{contentReference:h,trackContentReferenceEvent:i,disableAnimation:!0}),t[107]=h,t[108]=i,t[109]=d):d=t[109],v=d;break e}}let T;t[110]!==j||t[111]!==h||t[112]!==i?(T=d=>(f.current||(i("Search Content Reference Failed","search_content_reference_failed",h.type),Dt.addError(`Error rendering content reference: ${h.type}`,{...d,contentReference:h}),f.current=!0),h?.alt?j:s.jsx("span",{className:`errored-object-${h.type}`})),t[110]=j,t[111]=h,t[112]=i,t[113]=T):T=t[113];let D;return t[114]!==v||t[115]!==T?(D=s.jsx(It,{name:"content-reference-renderer",fallback:T,children:v}),t[114]=v,t[115]=T,t[116]=D):D=t[116],D}function kg(e){const[t,n]=e;return s.jsx("sub",{className:"ms-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:n},t)}function Ng(e){const{src:t,alt:n}=e;return s.jsx("img",{src:t,alt:n,className:"max-h-28"})}const Cg=({onClick:e})=>{const[t,n]=p.useState(!1),a=Fs(),r=M(),o=l=>{e(l),n(!0),setTimeout(()=>{a()&&n(!1)},2e3)},c=t?on:cn;return s.jsx(ze,{label:r.formatMessage({id:"KrNQPS",defaultMessage:"Copy Table"}),side:"bottom",align:"center",alignOffset:0,sideOffset:0,children:s.jsx("button",{onClick:o,className:"bg-token-bg-primary hover:bg-token-bg-tertiary text-token-text-secondary my-1 rounded-sm p-1 transition-opacity group-[:not(:hover):not(:focus-within)]:pointer-events-none group-[:not(:hover):not(:focus-within)]:opacity-0",children:s.jsx(c,{className:"icon-md-heavy"})})})},Sg="_tableContainer_16hzy_1",Tg="_tableWrapper_16hzy_14",vt={tableContainer:Sg,tableWrapper:Tg},Pg=({onClickCopy:e,children:t,...n})=>{const a=p.useRef(null),r=p.useRef(null);return ln(()=>{Ls({axis:"height",target:a.current?.firstElementChild,onChange:({height:o})=>{r.current&&(r.current.style.height=`${o}px`)}})},[]),s.jsx("div",{className:vt.tableContainer,children:s.jsxs("div",{tabIndex:-1,className:N(vt.tableWrapper,"group flex w-fit flex-col-reverse"),children:[s.jsx("table",{...n,className:"w-fit min-w-(--thread-content-width)",ref:a,children:t}),s.jsx("div",{className:"sticky end-(--thread-content-margin) h-0 self-end select-none",children:s.jsx("div",{className:"absolute end-0 flex items-end",ref:r,children:s.jsx(Cg,{onClick:e})})})]})})},Mg=({node:e,children:t,...n})=>s.jsx("td",{...n,children:p.Children.map(t,(a,r)=>a==="<br>"?s.jsx("br",{},r):a)});function Dg(e){const{src:t,clientThreadId:n,...a}=e,r=St(n),o=p.useContext(me),c=Ys(r,t,o?.useSafeUrls);return c==null?s.jsx("div",{}):s.jsx("img",{...a,src:c})}function Eg(e){return s.jsx(_g,{...e,FormattedText:Qt})}function Qt({size:e="medium",children:t,className:n,clientThreadId:a,messageId:r,isActivelyStreaming:o=!1,componentOverrides:c,isDeepResearchResultMessage:l,forceDarkMode:u}){const m=pe()||u,i=Rs(),{wordFadeType:f}=zs(),y=p.useMemo(()=>({pre:({children:_,"data-start":k,"data-end":x,"data-is-last-node":j})=>s.jsx("pre",{className:"overflow-visible!","data-start":k,"data-end":x,"data-is-last-node":j,children:_}),code:_=>s.jsx(Hs,{..._,clientThreadId:a}),[dn]:_=>s.jsx(Eg,{wordFadeType:f,..._}),[xn]:bn,a:_=>{const{node:k,children:x,...j}=_,v=k?.properties?.href;if(typeof v=="string"&&v.startsWith(Ve))return i?s.jsx(Os,{...j}):a!=null&&r!=null?s.jsx(Us,{...j,clientThreadId:a,messageId:r,href:v,children:x}):null;if(typeof v=="string"&&v===hn){const T=k?.children?.map(D=>typeof D.value=="string"?D.value:"").join("").trim();return s.jsx(mn,{..._,text:T,clientThreadId:a,messageId:r,className:"cursor-pointer"})}return v&&typeof v=="string"&&Xn(v)?x:s.jsx(fn,{..._,clientThreadId:a,messageId:r})},table:({node:_,...k})=>s.jsx(Pg,{...k,onClickCopy:x=>{re.logEvent("ChatGPT Table Copy Clicked");const j=a!=null&&r!=null?J.getNode(un(a),r).message:void 0;Ws(pn(_.markdownSource,j?.metadata?.content_references),void 0,x)}}),td:Mg,img:({node:_,...k})=>{const x=_?.properties?.src;return typeof x=="string"&&(x.startsWith(Ve)||x.startsWith("attachment:"))?null:s.jsx(Dg,{...k,clientThreadId:a})},...f==="delay"?Vn:[],...c}),[c,a,r,i,f]),g=p.useMemo(()=>o?qn(t):t,[t,o]),{value:$}=At("1839283687"),b=_t(),w=p.useMemo(()=>[...Ft,[gn,g]],[g]),h=p.useMemo(()=>f==="indexed"?{handlers:{text:(_,k,x)=>{const j=[];for(const v of b(k.value))j.push({type:"element",tagName:"span",properties:{className:kt.fadeIn},children:[{type:"text",value:v}]});return j}}}:void 0,[f,b]);return $?!1:s.jsx(It,{name:"formatted_text_error",fallback:()=>s.jsx(s.Fragment,{children:g}),children:s.jsx(Ag,{rehypePlugins:w,remarkPlugins:Lt,remarkRehypeOptions:h,className:N(n,"markdown prose dark:prose-invert w-full break-words",m?"dark":"light",e==="small"&&"prose-xs",l&&"deep-research-result"),urlTransform:Rt,components:y,children:g})})}const Ag=p.memo(Le),sx=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:Qt},Symbol.toStringTag,{value:"Module"}));export{Qt as F,sx as a,tx as l};
//# sourceMappingURL=gcv37ii59mzsrd32.js.map

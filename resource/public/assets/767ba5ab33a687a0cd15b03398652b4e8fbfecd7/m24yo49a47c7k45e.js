import{u as i,j as n}from"./j12so9ru57hpoz1y.js";import{u as f,q as b,P as r,aw as c,B as v,a as w,T as W}from"./j5zd9vs1l0bwsjqa.js";import{d9 as M,da as _,db as k,dc as x}from"./jn7p98x7qxquz26a.js";import{u as E}from"./fe63fbazy8g3etes.js";import{u as B}from"./mpl7u7azbwm9upe9.js";import"./ko9momito7h8y578.js";const S=e=>{const{requestMicrophonePermissions:t}=E(),s=i().formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),o=f();return async()=>{if(r.logEvent("Whisper on Web/Windows: Clicked to start dictation"),c.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await t())return o.danger(s);e()}},O=({size:e="medium",disabled:t,onExit:a,buttonClassName:s,invertColor:o,disableTooltip:l=!1,...p})=>{const u=i(),{isUnauthenticated:d}=b(),h=B(g=>g.status),m=S(a);return d?null:(h==="error"&&(r.logEvent("Whisper on Web/Windows: Error"),c.logEvent("chatgpt_composer_whisper_button_error")),n.jsx(y,{disabled:l,children:n.jsx(v,{...p,"aria-label":u.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:e,type:"button",onClick:m,disabled:t,className:w(o?M:_,"[view-transition-name:var(--vt-composer-whisper-button)]",t?"opacity-30":!o&&k,"dark:hover:bg-transparent dark:hover:opacity-100",s),children:n.jsx(x,{"aria-label":u.formatMessage({id:"cBnp8z",defaultMessage:"Mic icon"}),className:o?"h-5 w-5":"h-[18px] w-[18px]",fontSize:"inherit"})})}))};function y({children:e,disabled:t=!1}){const a=i();return n.jsx(W,{open:t?!1:void 0,sideOffset:4,label:a.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"top",onOpenChange:s=>{s&&(r.logEvent("Whisper on Web/Windows: Button hover to see tooltip"),c.logEvent("chatgpt_composer_whisper_button_hovered"))},children:e})}export{O as WhisperIconButton,S as useWhisperHandleClick};
//# sourceMappingURL=m24yo49a47c7k45e.js.map

import{a as A,P as j,l as L,m as k,B as b,aw as M,c5 as P,fG as S,u as E,gz as w,dN as _,bT as N}from"./j5zd9vs1l0bwsjqa.js";import{r as l,f as F,j as e,M as x,d as B,G as O,h as W,l as U,u as G,m as D}from"./j12so9ru57hpoz1y.js";import{T as R,m as z,L as H}from"./bhf6j6bob8jbpb82.js";import{L as C,dt as K,q,eL as V,v as X,w as Y,bH as $,x as J,eM as Q}from"./jn7p98x7qxquz26a.js";import{c as Z}from"./faj0gkykpgrm6dz1.js";import{C as ee}from"./cg0toekqaiqcfbur.js";function te({auth0Provider:n,isNoAuthEnabled:o,nextUrl:a,isStorageComplianceEnabled:r}){const t=C(),[i,s]=l.useState(!1),u=F(),g=K(p.signUp),d=q(),v=!t||!i,h=()=>{j.logLogInButtonClicked({provider:n,location:"Login page"}),i||setTimeout(()=>{s(!0)},500),d({authType:"login",callbackUrl:a})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black sm:rounded-t-[30px] md:rounded-none md:px-6 dark:bg-black dark:text-white",children:[!t&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx(ee,{})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:t?e.jsx("div",{children:R}):e.jsx(x,{...p.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:A("grid gap-x-3 gap-y-2",t?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(y,{blue:!0,loading:i,testid:"login-button",onClick:h,children:e.jsx(x,{...p.logIn})}),t&&i&&e.jsx(y,{ghost:!0,testid:"login-tryagain-button",onClick:h,children:e.jsx(x,{...p.logInTryAgain})}),v&&e.jsx(y,{blue:!0,testid:"signup-button",onClick:()=>{j.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),L.setCookie(k.SignupRedirectUrl,a,{maxAge:60*60*3}),d({authType:"signup",callbackUrl:a})},children:e.jsx(x,{...g})})]})})}),o?e.jsx(b,{color:"ghost",className:"mt-2 sm:mt-5",onClick:f=>{f.preventDefault(),j.logEvent("Auth: Try It First Link Clicked"),M.logEvent("chatgpt_auth_try_it_first_link_clicked"),u("/")},children:e.jsx(x,{...p.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center",children:[e.jsx(P,{}),e.jsx(Z,{isStorageComplianceEnabled:r})]})]})})}function y({icon:n,children:o,className:a,onClick:r,testid:t,blue:i=!1,ghost:s=!1,loading:u=!1}){return e.jsxs(b,{color:i?"blue":s?"ghost":"primary",loading:u,size:"large","data-testid":t,onClick:r,className:a,children:[n?e.jsx("div",{className:A("h-5 w-5 justify-self-start",{}),style:{backgroundImage:n}}):null,e.jsx("span",{children:o})]})}const p=B({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function se({auth0Provider:n,cfConnectingIp:o,isStorageComplianceEnabled:a,isNoAuthEnabled:r,ssoConnection:t}){const{hash:i}=W(),[s]=U(),u=s.get("next"),g=(u?.startsWith("/")?u:"/")+i,d=G(),v=E(),h=l.useRef(!1),f=s.get("sso"),I=V()(),m=X()??(Y(s,!0,I)||n);return l.useEffect(()=>{sessionStorage.setItem($,m.toString())},[m]),l.useEffect(()=>{if(f){const c=L.getCookie(k.DeviceId)??"";D.signIn(m,{callbackUrl:g},{...c?{device_id:c}:{},...t?{connection:t,connection_provider:t.startsWith("conn_")?w.WorkOS.toString():w.Auth0.toString()}:{},...J(c)})}},[g,f,t,m]),l.useEffect(()=>{j.logEvent("Logged Out: Opened Auth Login Page",{cfConnectingIp:o})},[o]),l.useEffect(()=>{window.location.hash==="#pricing"&&L.setBooleanCookie(k.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),l.useEffect(()=>{if(h.current)return;h.current=!0;const c=s.get("inv_ws_name"),T=s.get("inv_email");c&&T&&v.success(d.formatMessage(z.invitedToastMessage,{workspace_name:c,email:T}),{hasCloseButton:!0,duration:600})},[s,d,v]),f?null:e.jsxs("div",{className:"flex h-[100vh] flex-col justify-between",style:{height:"100dvh"},children:[e.jsx(oe,{auth0Provider:m,nextUrl:g,isStorageComplianceEnabled:a,isNoAuthEnabled:r}),e.jsx(_,{children:e.jsx(Q,{})})]})}const oe=({auth0Provider:n,nextUrl:o,isStorageComplianceEnabled:a,isNoAuthEnabled:r})=>e.jsxs(e.Fragment,{children:[e.jsx(ne,{auth0Provider:n,nextUrl:o,isStorageComplianceEnabled:a,isNoAuthEnabled:r}),!1]});function ne({auth0Provider:n,isNoAuthEnabled:o,nextUrl:a,isStorageComplianceEnabled:r}){const t=C(),i=N(),s=l.useRef(null);return l.useEffect(()=>{if(t)return;s.current==null&&(s.current=document.body.style.backgroundColor);const u=i?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=u,()=>{s.current!=null&&(document.body.style.backgroundColor=s.current)}},[i,t]),e.jsxs("div",{className:A("flex w-screen flex-1 flex-col md:grid",t?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!t&&e.jsx(H,{}),e.jsx(te,{auth0Provider:n,isNoAuthEnabled:o,nextUrl:a,isStorageComplianceEnabled:r})]})}const he=S(function(){const o=O();return e.jsx(se,{...o})});export{he as default};
//# sourceMappingURL=k4d3djgs280t5yon.js.map

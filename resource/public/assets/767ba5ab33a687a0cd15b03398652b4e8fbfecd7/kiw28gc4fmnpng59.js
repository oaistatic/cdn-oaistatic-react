import{fG as M,bc as A,aZ as g,aO as y,cU as C,L as O,b as R,ao as E,fi as b,P as w}from"./j5zd9vs1l0bwsjqa.js";import{l as v,f as S,E as T,r as i,ab as L,j as r,d as x}from"./j12so9ru57hpoz1y.js";import{A as j}from"./g5g67p9tpbd4ossx.js";import{bC as F}from"./jn7p98x7qxquz26a.js";import{C as s}from"./k05xgzvm1nctul35.js";import"./e356qmi078stocni.js";import"./e31tdb1dzgc9nuq8.js";import"./e4plqbgpm9lugmng.js";const m={pro:"chatgptpro",plus:"chatgptplusplan"},P=Object.keys(s),U={oiw216z:"sora_redirect",vza493q:"operator_redirect"};function D(o){o&&s[o]&&(window.location.href=s[o])}const Y=M(function(){const[_]=v(),n=S(),l=A(),{plan:a}=T(),e=_.get("checkout_from"),u=i.useRef(!1),t=g(),p=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]),{value:c}=y("1719651090");if(!a||!(a in m))throw L("/");return i.useEffect(()=>{if(!t||u.current)return;if(u.current=!0,e==="vza493q"){t.hasPaidSubscription()&&t.isPro()?window.location.href=s[e]:c||n("/");return}(async()=>{const d=e&&P.includes(e)?U[e]:"purchase_plan_redirect";try{e&&P.includes(e)&&O.setItem(R.CheckoutFrom,e);const f=await E.getCheckoutLink(l,"Sora",{plan_name:m[a],billing_details:{currency:b}});w.logEvent("Account Pay: Purchase Plan Redirect",{...p,plan:a,location:d}),window.location.href=f.url}catch{F(n,d)}})()},[n,l,a,e,p,c,t]),r.jsxs(r.Fragment,{children:[t&&e==="vza493q"&&c&&r.jsx(j,{currentAccount:t,hasEnterpriseFooter:!1,onClose:()=>D(e),subtitle:h.operatorModalSubtitle,title:h.operatorModalTitle,variant:"operator"}),r.jsx("div",{className:"flex h-full w-full items-center justify-center",children:r.jsx(C,{})})]})}),h=x({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{Y as default};
//# sourceMappingURL=kiw28gc4fmnpng59.js.map

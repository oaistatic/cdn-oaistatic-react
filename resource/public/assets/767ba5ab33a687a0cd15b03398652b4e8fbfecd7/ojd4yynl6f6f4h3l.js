import{R as X,r as d,j as t,M,u as v,a9 as g,aa as I,af as Y,c as Z,f as J,d as ee}from"./j12so9ru57hpoz1y.js";import{dP as se,ap as T,aP as te,gQ as ae,a as m,gB as ne,c3 as re,cR as oe,B as A,cO as ie,cP as le,j as ce,bT as de,cQ as ue,cS as me,cT as xe,d4 as fe,r as he,at as ge,C as pe,a_ as L,cY as be,dg as P,v as k,u as ve,aU as U,P as F,ds as we,cZ as y,cU as ke,W as E,V as G,R as B}from"./j5zd9vs1l0bwsjqa.js";import{i6 as je,cF as _e,f7 as D,i7 as ye,f as Me,dH as Ce,aQ as Se,i8 as Ne,i9 as Te,ia as Re,ib as W,aC as Ie}from"./jn7p98x7qxquz26a.js";import{T as Ae}from"./l12f3ah2dx3larti.js";import{C as Le}from"./ik1mvke1rzg5h1fr.js";function Pe({turn:e,turnIndex:s,clientThreadId:a,hasActiveRequest:n,isFinalTurn:r}){return t.jsx(Le,{turnIndex:s,clientThreadId:a,groupedMessagesToRender:e.messageGroups,allGroupedMessages:e.messageGroups,allMessages:e.messages,isUserTurn:e.role==="user",isFinalUserTurn:!1,isCompletionRequestInProgress:!1,isFeedbackEnabled:!1,isFinalTurn:r,hasActiveRequest:n,onRequestCompletion:()=>{}})}function Ue({messages:e,hasActiveRequest:s}){const a=d.useMemo(()=>{const r=se();return T.initThread(r,{kind:te.PrimaryAssistant}),r},[]),n=d.useMemo(()=>{const{allConversationMessages:r,threadResponse:i}=je(e);T.initThreadFromServerData(a,i,!1,void 0,!0);let o=[];for(const l of r)o=ae(o,l.message);return o.filter(l=>l.role!=="root")},[e,a]);return t.jsx("div",{className:"space-y-2",children:n.map((r,i)=>t.jsx(Pe,{turn:r,turnIndex:i,clientThreadId:a,hasActiveRequest:s,isFinalTurn:i===n.length-1},r.messages[0].id))})}const Fe=X.memo(Ue),Ee=d.memo(Ae,(e,s)=>e.sharedTextdoc.sharedTextdocId===s.sharedTextdoc.sharedTextdocId&&e.showHeader===s.showHeader&&e.disableNetworkRequests===s.disableNetworkRequests&&e.unsafeAllowAllNetworkRequests===s.unsafeAllowAllNetworkRequests&&e.disablePermissions===s.disablePermissions);function Ge(){const e=()=>typeof document<"u"?document.documentElement.classList.contains("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches,[s,a]=d.useState(e);return d.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)"),r=o=>a(o.matches);"addEventListener"in n?n.addEventListener("change",r):n.addListener(r);const i=new MutationObserver(()=>{a(document.documentElement.classList.contains("dark"))});return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{"removeEventListener"in n?n.removeEventListener("change",r):n.removeListener(r),i.disconnect()}},[]),s}function Be({children:e,className:s,fullscreen:a}){const n=d.useRef(null),[r,i]=d.useState(!1),l=Ge()?"#353535":"#fff";return d.useEffect(()=>{const c=n.current;if(!c)return;const u=()=>i(c.scrollHeight>c.clientHeight);u();const x=new ResizeObserver(u);return x.observe(c),()=>{x.disconnect()}},[e]),t.jsxs("div",{ref:n,className:m(!a&&"relative",s,!r&&"pb-2"),children:[e,!a&&r&&t.jsx("div",{className:"pointer-events-none absolute start-0 end-0 bottom-0 h-40",style:{background:`linear-gradient(to top, ${l}, transparent)`}})]})}function De({url:e,attachment_width:s,attachment_height:a,isFullscreen:n}){return t.jsx("video",{className:m(n?"mx-auto block max-h-screen max-w-full rounded-none object-contain":"mx-auto block w-full rounded-3xl object-cover object-center"),style:{aspectRatio:s/a},src:e,playsInline:!0,autoPlay:!0,muted:!0,loop:!0})}const We=d.memo(De);function Oe({attachment:e,isFullscreen:s,isInline:a,isComposer:n}){return t.jsx("div",{className:m(s&&"flex h-screen items-center justify-center",s&&"rounded-none",a&&"rounded-3xl",n&&"mx-24 rounded-3xl"),children:e.generation_type==="video_gen"?t.jsx(We,{url:e.url,attachment_width:e.width,attachment_height:e.height,isFullscreen:s,isInline:a}):t.jsxs("div",{className:"relative",children:[t.jsx("img",{className:m(s?"mx-auto block max-h-screen max-w-full rounded-none object-contain":"mx-auto block rounded-3xl object-cover object-center"),style:{aspectRatio:e.width/e.height},src:e.url,alt:e.kind}),e.output_blocked&&t.jsxs("div",{className:"text-token-text-error absolute start-0 bottom-0 flex h-1/4 w-full items-center justify-center gap-1 bg-transparent text-xs font-medium",children:[t.jsx(ne,{className:"text-red-500"}),t.jsx(M,{id:"post-tree-attachment-output-blocked",defaultMessage:"Blocked by moderation"})]})]})})}const qe=d.memo(Oe);function He({url:e,isFullscreen:s,isInline:a,isComposer:n}){const r=v();return t.jsx("div",{className:m(s&&"flex h-screen items-center justify-center",s&&"rounded-none",a&&"rounded-3xl",n&&"mx-24 rounded-3xl"),children:t.jsx("img",{src:e,className:m(s?"mx-auto block max-h-screen max-w-full rounded-none object-contain":"mx-auto block aspect-square rounded-3xl object-cover object-center"),alt:r.formatMessage({id:"image-share-renderer-alt",defaultMessage:"User Shared Image"})})})}const $e=d.memo(He);function ze({attachment:e,isFullscreen:s,isInline:a}){const n=d.useRef(null);return t.jsx("div",{ref:n,className:m("bg-token-main-surface-primary w-full",s?"h-[100vh] rounded-none":"",a?"h-[300px] cursor-zoom-in overflow-hidden rounded-3xl":"flex-1"),children:t.jsx(Ee,{disablePermissions:!s,sharedTextdoc:{sharedTextdocId:e.shared_textdoc_id,title:e.shared_textdoc.name,type:e.shared_textdoc.textdoc_type,content:e.shared_textdoc.content},showHeader:!1,unsafeAllowAllNetworkRequests:!0})})}const Ve=d.memo(ze);function Qe({attachment:e,caption:s,variant:a,coverPhotoUrl:n,hasActiveRequest:r}){const i=e.tags?.includes("deep_research"),o=a==="fullscreen",l=a==="inline",c=a==="composer";switch(e.kind){case"message_slice":return e.messages.length===0?null:t.jsx(R,{caption:s,variant:a,coverPhotoUrl:n,messages:e.messages,hasActiveRequest:r,hasCaption:!i});case"conversation_share":{const u=e.share.linear_conversation.map(x=>x.message).filter(x=>x!=null);return u.length===0?null:t.jsx(R,{hasCaption:!1,caption:s,variant:a,coverPhotoUrl:n,messages:u,hasActiveRequest:r})}case"image_share":return t.jsx($e,{url:e.file_public_url,isFullscreen:o,isInline:l,isComposer:c});case"canvas":return t.jsx(Ve,{attachment:e,isFullscreen:o,isInline:l});case"sora":return t.jsx(qe,{attachment:e,isFullscreen:o,isInline:l,isComposer:c});case"error":return t.jsx("div",{children:t.jsx(M,{id:"post-tree-attachment-error",defaultMessage:"Error loading attachment"})});default:return null}}function R({caption:e,variant:s,coverPhotoUrl:a,messages:n,hasActiveRequest:r,hasCaption:i}){const o=s==="fullscreen",l=s==="inline",c=s==="composer";return t.jsxs(g.div,{layout:"position",className:m("bg-token-main-surface-primary inline-block w-full rounded-3xl dark:bg-[#353535]",o&&"h-screen overflow-auto rounded-none",c&&"shadow-[0_12px_24px_-6px_rgb(0_0_0_/_0.1),0_0_1px_rgb(0_0_0_/_0.2)] dark:shadow-[0_10px_20px_-6px_rgb(20_20_20_/_0.5),inset_0_0_1px_rgb(255_255_255_/_0.3)]"),children:[a&&t.jsx("img",{className:m("max-h-[300px] w-full object-cover object-center",{"rounded-t-3xl":s!=="fullscreen","rounded-none":o}),src:a,alt:e??""}),t.jsx(Be,{fullscreen:!l,className:m("rounded-b-3xl",o&&"relative px-24 py-24",l&&"max-h-[300px] overflow-hidden p-6",c&&"max-h-[300px] overflow-auto p-6"),children:t.jsxs(g.div,{layout:"position",transition:{type:"spring",duration:.45,bounce:.15},children:[t.jsx(I,{mode:"wait",children:i?e==null&&s==="composer"?t.jsx(g.div,{layout:"position",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:t.jsx("div",{className:"text-token-text-primary max-w-[460px] pb-8 text-2xl leading-[1.4] font-medium",children:t.jsx("span",{className:"animate-pulse opacity-30",children:t.jsx(M,{id:"placeholder.generatingTitle",defaultMessage:"Generating title..."})})})},"loading-caption"):e!==""?t.jsx(g.div,{layout:"position",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:t.jsx("div",{className:"text-token-text-primary max-w-[460px] pb-8 text-2xl leading-[1.4] font-medium",children:e})},"caption"):null:null}),t.jsx(Fe,{messages:n,hasActiveRequest:r})]})})]})}const Ke=d.memo(Qe);function Xe({attachments:e,variant:s}){return t.jsx(t.Fragment,{children:e.map((a,n)=>t.jsx("div",{children:t.jsx(Ke,{attachment:a,caption:"",variant:s,hasActiveRequest:!1})},n))})}function Ye({className:e,children:s,position:a="center",size:n,removePopoverStyling:r=!1,shadow:i="normal"}){const o=Y(),l=v(),c=Math.random()*40-20;return d.useEffect(()=>{o.start({x:0,y:0,rotate:0,opacity:1,transition:{type:"spring",duration:.6,bounce:.15}})},[o]),t.jsx(g.div,{initial:{x:0,y:"100%",rotate:0,opacity:1},animate:o,exit:{x:0,y:"100%",rotate:c,opacity:1},transition:{type:"spring",duration:.6,bounce:.15},className:m("z-50 h-full w-full overflow-y-auto",n!=="fullscreen"&&"grid grid-cols-[10px_1fr_10px]",n!=="fullscreen"&&a==="center"&&"grid-rows-[minmax(10px,1fr)_auto_minmax(10px,1fr)] md:grid-rows-[minmax(20px,1fr)_auto_minmax(20px,1fr)]",n!=="fullscreen"&&a==="bottom"&&"grid-rows-[minmax(10px,1fr)_auto_10px] md:grid-rows-[minmax(20px,1fr)_auto_20px]"),children:t.jsx(oe,{className:m(!r&&"popover","bg-token-sidebar-surface relative start-1/2 col-auto col-start-2 row-auto row-start-2 h-full w-full gap-4 p-4 text-start ltr:-translate-x-1/2 rtl:translate-x-1/2 dark:bg-[#171717]",n!=="fullscreen"&&"rounded-[36px]",i==="normal"&&"shadow-[0_32px_48px_rgba(0,0,0,0.175),_0_0_1px_rgba(0,0,0,0.2)] dark:shadow-[0_32px_48px_rgba(0,0,0,0.175),_0_0_1px_rgba(255,255,255,0.4)]",e),"aria-description":l.formatMessage({id:"slide-up-modal.share-sheet.description",defaultMessage:"Share sheet"}),"aria-describedby":"",children:s})})}const Ze=e=>{const{color:s="secondary",title:a,children:n,...r}=e;return t.jsx(A,{as:"button",color:s,...r,children:a??n})};function Je({isOpen:e,onClose:s,children:a,shouldIgnoreClickOutside:n=!1,className:r}){return t.jsx(ie,{open:e,onOpenChange:i=>{n||i===!1&&s(!1)},children:t.jsx(le,{container:ce()?.document.body,children:t.jsx("div",{className:m("absolute inset-0",r),children:a})})})}function es({className:e,children:s,showBackground:a=!0}){const n=de(),r=a?n?"rgba(0, 0, 0, 0.8)":"rgba(249,249,249,0.8)":"rgba(0, 0, 0, 0)";return t.jsx(ue,{asChild:!0,children:t.jsx(g.div,{initial:{backdropFilter:"blur(0px)",backgroundColor:n?"rgba(0, 0, 0, 0)":"rgba(255, 255, 255, 0)"},animate:{backdropFilter:a?"blur(4px)":"blur(0px)",backgroundColor:r},exit:{backdropFilter:"blur(0px)",backgroundColor:n?"rgba(0, 0, 0, 0)":"rgba(255, 255, 255, 0)"},className:m("fixed inset-0 z-50",e),children:s})})}function O({title:e,description:s,icon:a,type:n}){return t.jsxs("div",{className:"flex max-w-full min-w-0 items-center",children:[t.jsx(as,{icon:a,type:n}),t.jsxs("div",{className:"flex max-w-full min-w-0 grow flex-col gap-1",children:[e!=null&&t.jsx(me,{className:"text-token-text-primary text-3xl leading-6 font-semibold tracking-tight max-sm:text-xl",children:e}),s!=null&&t.jsx(xe,{className:"text-token-text-tertiary text-sm",children:s})]})]})}function ss({title:e,accessory:s,description:a,withSeparator:n=!0,icon:r,type:i,closeButton:o,textCenter:l}){return!e&&!a?null:t.jsxs(q,{$hasSeparator:n,children:[t.jsx("div",{className:m("flex max-w-full",l&&"flex-1 justify-center text-center"),children:t.jsx(O,{title:e,description:a,icon:r,type:i})}),t.jsxs("div",{className:"flex items-center gap-5",children:[s,o!=null&&t.jsx(fe,{asChild:!0,className:"sm:mt-0",children:o})]})]})}function ts({primaryButton:e,secondaryButton:s,isSpacedBetween:a=!1,modalHasContent:n=!0,textCenter:r=!1}){return e==null&&s==null?null:t.jsxs("div",{className:m("flex flex-col gap-3 sm:flex-row-reverse",r&&"justify-center",a&&"justify-between",n?"mt-5 sm:mt-4":"mt-1"),children:[e,s]})}const as=({type:e,icon:s})=>s==null?null:t.jsx("div",{className:m("me-4 flex h-12 w-12 shrink-0 items-center justify-center rounded-full sm:h-10 sm:w-10",e==="danger"&&"bg-red-100",e==="warning"&&"bg-yellow-100",e==="success"&&"bg-green-100"),children:t.jsx(s,{className:m("icon-lg",e==="danger"&&"text-red-600",e==="warning"&&"text-yellow-700",e==="success"&&"text-green-700"),"aria-hidden":"true"})}),q=re.div`px-4 pb-2 sm:p-6 flex items-center justify-between ${({$hasSeparator:e})=>e&&"border-b border-black/10 dark:border-white/10"}`,w={Root:Je,Overlay:es,Content:Ye,Title:O,TitleBar:q,Header:ss,Actions:ts,Button:Ze},f=ee({copyLink:{id:"postSharingModal.copyLink",defaultMessage:"Copy link"},linkCopied:{id:"postSharingModal.linkCopied",defaultMessage:"Link copied!"},failedToGenerateShareLink:{id:"postSharingModal.failedToGenerateShareLink",defaultMessage:"Failed to generate share link"},fromChatGPT:{id:"postSharingModal.fromChatGPT",defaultMessage:"From ChatGPT"},contentUnavailable:{id:"postSharingModal.contentUnavailable",defaultMessage:"Content Unavailable"},unavailableReasonGeneral:{id:"postSharingModal.unavailableReasonGeneral",defaultMessage:"This share link is not available because it doesn’t exist or you don’t have access to it."},unavailableReasonWorkspace:{id:"postSharingModal.unavailableReasonWorkspace",defaultMessage:"This content was shared from a workspace you don’t have access to. Ask the owner to invite you if you’d like to view it."},ok:{id:"postSharingModal.ok",defaultMessage:"OK"},shareLinkVisibleToWorkspaceOnly:{id:"postSharingModal.shareLinkVisibleToWorkspaceOnly",defaultMessage:"The share links are visible to workspace members only."}});function ns(e){const s=e.findLast(a=>y.getImageAssetPointers(a).length>0);return s?y.getImageAssetPointers(s)[0]:null}function rs({showLinkCopied:e,isGeneratingShareLink:s,onClick:a,postText:n,showDownloadButton:r,disabled:i}){const o=v(),l=U()?.isWorkspaceAccount();let c=[{id:"copy",icon:s?t.jsx(ke,{}):t.jsx(Ce,{}),label:e?o.formatMessage(f.linkCopied):o.formatMessage(f.copyLink),action:"copy"}];return l&&r?c.push({id:"download",icon:t.jsx(Se,{}),label:o.formatMessage({id:"postSharingModal.download",defaultMessage:"Download"}),action:"download"}):c=c.concat({id:"x",href:u=>`https://twitter.com/intent/tweet?url=${encodeURIComponent(u)}&text=${n?encodeURIComponent(n):""}`,icon:t.jsx(Ne,{initialFillColor:"var(--text-primary)"}),label:o.formatMessage({id:"postSharingModal.x",defaultMessage:"X"}),action:"share"},{id:"linkedin",href:u=>`https://www.linkedin.com/shareArticle?url=${encodeURIComponent(u)}&text=${n?encodeURIComponent(n):""}`,icon:t.jsx(Te,{initialFillColor:"var(--text-primary)"}),label:o.formatMessage({id:"postSharingModal.linkedin",defaultMessage:"LinkedIn"}),action:"share"},{id:"reddit",href:u=>`https://www.reddit.com/submit?url=${encodeURIComponent(u)}&title=${n?encodeURIComponent(n):""}`,icon:t.jsx(Re,{initialFillColor:"var(--text-primary)"}),label:o.formatMessage({id:"postSharingModal.reddit",defaultMessage:"Reddit"}),action:"share"}),t.jsx(t.Fragment,{children:c.map(u=>t.jsxs("button",{onClick:()=>{a(u),F.logEventWithStatsig("Share Post: Social Clicked","chatgpt_post_share_link_social_clicked",{platform:u.id})},disabled:i,className:"relative flex flex-col gap-y-4 disabled:opacity-50 max-sm:gap-y-2",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full shadow-lg max-sm:h-12 max-sm:w-12 max-sm:shadow-md dark:shadow-md",children:t.jsx("div",{className:"pointer-events-none flex h-8 w-8 items-center justify-center max-sm:h-6 max-sm:w-6",children:u.icon})}),t.jsx("div",{className:"w-full text-center text-xs",children:u.label})]},u.id))})}async function os(e,s,a){return D(s.asset_pointer)?(await ye(e,[s],null,void 0,a))[0]:null}const is=async(e,s,a)=>{const n=()=>E.findNode(G(s),({message:o})=>o.id===a||!!y.getImageAssetPointers(o).find(l=>l.asset_pointer===e));let r=n();if(!r?.message&&(await Me(s,!0),r=n(),!r?.message))return null;const i=k(s);return{postText:r.message.metadata?.image_gen_title,imageAssetPointer:ns([r.message]),serverThreadId:i}};async function ls(e,s,a,n){const r=D(s.asset_pointer);if(!r)return null;const i=await B.safePost("/share/post",{requestBody:{post_text:a,attachments_to_create:[{kind:"image_share",file_id:r,conversation_id:e,width:n?.width,height:n?.height}]}});return W(i.post.id)}async function cs(e,s,a){const n=await B.safePost("/share/post",{requestBody:{post_text:a,attachments_to_create:[{kind:"message_slice",conversation_id:e,message_ids:s}]}});return W(n.post.id)}function ds(e,s){const a=G(e);return a?{kind:"message_slice",messages:s.map(r=>{const i=E.findNode(a,({message:o})=>o.id===r);return i?i.message:null}).filter(Boolean)}:null}function H({postSharingData:e,onCloseFinished:s}){const{clientThreadId:a,postText:n,generateShareLinkFn:r,coverImageUrl:i,messageSliceIds:o}=e,l=d.useRef(void 0),[c,u]=d.useState(!1),[x,p]=d.useState(!1),h=v(),j=ve(),[z,C]=d.useState(!0),V=U()?.isWorkspaceAccount();d.useEffect(()=>{F.logEventWithStatsig("Share Post: Post Sharing Modal Shown","chatgpt_post_share_modal_shown")},[]),d.useEffect(()=>{l.current=void 0},[a]);const S=d.useMemo(()=>i||!o||o.length===0?null:ds(a,o),[i,a,o]),N=k(a),Q=async b=>{if(!(c||!N)&&N){if(!l.current){u(!0);try{const _=await r();_&&(l.current=_)}catch{j.danger(h.formatMessage(f.failedToGenerateShareLink))}finally{u(!1)}}if(l.current){if(b.action==="copy")navigator.clipboard.writeText(l.current),p(!0),j.success(h.formatMessage(f.linkCopied)),setTimeout(()=>{p(!1)},3e3);else if(b.action==="share"&&b.href)window.open(b.href(l.current),"_blank","noopener,noreferrer");else if(b.action==="download"){if(!i)return;Ie({url:i,fileName:`${n}.png`})}}}},K=i?t.jsx("div",{className:"max-xs:max-h-[260px] flex h-[30vh] max-h-[550px] max-w-full justify-center rounded-xl max-sm:max-h-[300px]",children:t.jsx("img",{src:i,alt:n})}):S&&t.jsx(Xe,{attachments:[S],variant:"inline"});return t.jsx(I,{onExitComplete:s,children:z&&t.jsx(w.Root,{isOpen:!0,onClose:()=>{C(!1)},className:"max-w-[664px] px-4",children:t.jsx(w.Overlay,{showBackground:!0,children:t.jsxs(w.Content,{size:"normal",position:"center",className:m("flex flex-col pb-4 focus:outline-hidden",{"max-w-[640px]":"normal"==="normal"}),removePopoverStyling:!1,shadow:"normal",children:[t.jsx(w.Header,{title:n,type:"success",closeButton:t.jsx(we,{onClick:()=>C(!1)})}),t.jsxs("div",{children:[t.jsx("div",{className:"pointer-events-none flex justify-center",children:K}),t.jsx("div",{className:"mt-12 flex flex-wrap justify-center space-y-4 space-x-12 max-sm:mt-6 max-sm:space-x-6",children:t.jsx(rs,{showLinkCopied:x,isGeneratingShareLink:c,disabled:c,onClick:Q,postText:n,showDownloadButton:!!i})}),V&&t.jsx("p",{className:"text-token-text-tertiary text-center text-sm sm:mt-4",children:h.formatMessage(f.shareLinkVisibleToWorkspaceOnly)})]})]})})})})}const us=d.createContext({postWithProfile:null});function ws(){return!!d.useContext(us)?.postWithProfile}async function $({postText:e,clientThreadId:s,generateShareLinkFn:a,usePostText:n,useShareLink:r}){if(!k(s))return!1;try{const o=await a();return o?(await navigator.share({text:n?e:void 0,url:r?o:void 0}),!0):!1}catch{return!1}}async function ms(e,s,a,n,r,i){const o=await is(e,s,a);if(!o?.imageAssetPointer||!o?.serverThreadId)return;const{postText:l,imageAssetPointer:c,serverThreadId:u}=o,x=await os(n,c,u);if(!x)return;const p=()=>ls(u,c,l,x);if(i&&L(r,"1138231213")){const h=be(r,"2382399797");if(await $({clientThreadId:s,postText:l,generateShareLinkFn:p,usePostText:h.get("navigator_share_text",!1),useShareLink:h.get("navigator_share_link",!1)}))return}P(r,({closeModal:h})=>t.jsx(H,{postSharingData:{clientThreadId:s,postText:l,generateShareLinkFn:p,coverImageUrl:x?.url},onCloseFinished:()=>{h()}}))}async function xs(e,s,a,n,r){const i=k(e);if(!i)return;const o=()=>cs(i,s,r);n&&L(a,"1138231213")&&await $({clientThreadId:e,generateShareLinkFn:o,useShareLink:!0})||P(a,({closeModal:l})=>t.jsx(H,{postSharingData:{clientThreadId:e,generateShareLinkFn:o,postText:r,messageSliceIds:s},onCloseFinished:()=>{l()}}))}function ks({assetPointer:e=null,clientThreadId:s,imageGenMessageId:a,messageSliceIds:n}){const r=Z(),i=he(),o=_e(),l=ge(s,c=>c?.title);return d.useCallback(async()=>{a?await ms(e,s,a,r,i,o):n&&await xs(s,n,i,o,l??void 0)},[e,s,a,n,l,r,o,i])}function js({closeModal:e,reason:s}){const a=v(),n=J(),r=()=>{e(),n("/")};let i=a.formatMessage(f.unavailableReasonGeneral);switch(s){case"general":i=a.formatMessage(f.unavailableReasonGeneral);break;case"workspace":i=a.formatMessage(f.unavailableReasonWorkspace);break}return t.jsx(pe,{testId:"modal-post-sharing-error",isOpen:!0,type:"danger",textCenter:!0,title:a.formatMessage(f.contentUnavailable),description:i,onClose:r,footerContent:t.jsx(A,{size:"large",color:"primary",className:"w-full",onClick:r,children:a.formatMessage(f.ok)})})}export{us as P,js as a,ws as b,ks as u};
//# sourceMappingURL=ojd4yynl6f6f4h3l.js.map

import{fG as u,P as d,dP as l,ap as P,aP as f,r as y,dg as w}from"./j5zd9vs1l0bwsjqa.js";import{G as x,j as n,r as c}from"./j12so9ru57hpoz1y.js";import{m as s}from"./foftlufav6ncxtja.js";import{R as _}from"./jfg5hcsrdvz6wljc.js";import{C as h}from"./nmf2fghlcyhqu1pn.js";import{P as T,a as C}from"./ojd4yynl6f6f4h3l.js";import"./gvjjanb6hwn8rg4p.js";import"./ik1mvke1rzg5h1fr.js";import"./jn7p98x7qxquz26a.js";import"./cg0toekqaiqcfbur.js";import"./01yrv2o49ye0ebr7.js";import"./hxt8zt4ovcs39phn.js";import"./b0v1yruiy44zd1p9.js";import"./msp412gwqdn605it.js";import"./ok8fnoyzbnoyk9qs.js";import"./d8hi8vzea1zd4sdu.js";import"./j2m3ef69iou998eo.js";import"./egjzck8f21ldiiq8.js";import"./n5601invkykfg1ys.js";import"./owhjnpwqw9ddu7v0.js";import"./f7sx4o03m10jq2cf.js";import"./c9pbgvcj05aso7rq.js";import"./nc2llj0k42mz5eom.js";import"./ijgsr1qtu4s7rq92.js";import"./ico83cg07nw4gm43.js";import"./b808i0mobwfw0uar.js";import"./b4wy8ndq94672kqa.js";import"./n0tk3xne532h7ges.js";import"./e2i9dno9lalz25o9.js";import"./ob1ryhq7reedd72f.js";import"./nc07k7y06adedb9d.js";import"./i0f6lf35jgfv6z47.js";import"./jqgeyuwq00z6gkku.js";import"./cx64odxk6g9mmfxk.js";import"./lqzkl9nshtyuq055.js";import"./l12f3ah2dx3larti.js";import"./epsg05et2lobrl6v.js";import"./gh4kfg6qlx7b3ikk.js";import"./jgfehaz03xkmntxn.js";import"./ke2u5pwt169srvv9.js";import"./c7zwb9p0mkhdhxup.js";import"./hv2qnh4kmlq1qj5o.js";import"./fqps1a3pxo0q8nxi.js";const wt=u(function(){const r=x();return r.kind==="forbidden"?n.jsx(W,{chatPageProps:r.chatPageProps,reason:"workspace"}):n.jsx(b,{loaderData:r})});function b({loaderData:e}){c.useEffect(()=>{d.logEventWithStatsig("Share Post: Shared Post Page Viewed","chatgpt_share_post_page_viewed",{post_id:e.postWithProfile.post.id,primary_attachment_type:e.postWithProfile.post.attachments?.[0]?.kind,referrer:e.referrer})},[e]);const r=c.useMemo(()=>{const t=l();return P.initThread(t,{kind:f.PrimaryAssistant}),t},[]);return e.postWithProfile.post.attachments?.[0]?.kind==="deep_research"&&e.postWithProfile.post.attachments[0].tags?.includes("deep_research")?n.jsx(_,{postWithProfile:e.postWithProfile,threadId:r}):n.jsx(j,{postWithProfile:e.postWithProfile,chatPageProps:e.chatPageProps})}function S(e,r){if(!e.attachments||e.attachments.length===0)return{url:s.src};const t=e.attachments[0];switch(t.kind){case"media_generation":{const o=t.encodings?.md?.path?{url:t.encodings.md.path,size:[t.width,t.height]}:void 0,i=t.encodings?.unfurl?.path?{url:t.encodings.unfurl.path,size:[1200,630]}:void 0,a=t.encodings?.thumbnail?.path?{url:t.encodings.thumbnail.path}:void 0,p={url:t.url,size:[t.width,t.height]};return r&&o!=null?o:i??a??p}default:return{url:s.src}}}function v(e){const r=e.text?.trim();if(r)return r;const t=e.attachments?.[0];return t?.kind==="media_generation"&&t.title?.trim()?t.title.trim():"Shared Content"}const xt=({data:e})=>{const r=e,t={name:"robots",content:"noindex,nofollow"};if(!r||r.kind==="forbidden"){const m="Privately Shared Content";return[{title:`ChatGPT - ${m}`},t,{property:"og:site_name",content:"ChatGPT"},{property:"og:title",content:m},{property:"og:type",content:"website"},{property:"og:image",content:s.src},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:s.src},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:m}]}const{post:o}=r.postWithProfile,i=S(o,r.preferIntrinsicAspectRatioForOgImage),a=v(o),p=o.permalink,g=new Date(o.posted_at*1e3).toISOString();return[{title:`ChatGPT - ${a}`},t,{property:"og:site_name",content:"ChatGPT"},{property:"og:type",content:"article"},{property:"og:url",content:p},{property:"og:title",content:a},{property:"og:locale",content:"en_US"},{property:"og:image",content:i.url},{property:"og:image:secure_url",content:i.url},...i.size?[{property:"og:image:width",content:i.size[0]},{property:"og:image:height",content:i.size[1]}]:[],{property:"og:image:alt",content:"Preview of shared ChatGPT content"},{property:"article:published_time",content:g},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:"@ChatGPTapp"},{name:"twitter:title",content:a},{name:"twitter:image",content:i.url},{name:"twitter:image:alt",content:"Preview of shared ChatGPT content"}]};function W({chatPageProps:e,reason:r}){const t=y();return c.useEffect(()=>{w(t,({closeModal:o})=>n.jsx(C,{closeModal:o,reason:r}))},[]),n.jsx(h,{...e})}function j({postWithProfile:e,chatPageProps:r}){return n.jsx(T.Provider,{value:{postWithProfile:e},children:n.jsx(h,{...r})})}export{wt as default,xt as meta};
//# sourceMappingURL=jyqvidjoistz1eb5.js.map

import{r as n,v as f,e as m,j as t,M as i}from"./j12so9ru57hpoz1y.js";import{cr as e,B as r,d5 as x,d6 as a,d7 as o,d8 as p}from"./jn7p98x7qxquz26a.js";import{c as g}from"./4ew8v0dcz9pvrlu8.js";import{D as b}from"./j5zd9vs1l0bwsjqa.js";function B(){const[c,s]=n.useState(!1);n.useEffect(()=>{e.setSessionId(f()),e.logImpression()},[]);const{mutate:l,isPending:u}=m({mutationFn:g,onError:d=>{if(b.addError("Jawbone: Failed to create push subscription",{error:d}),Notification.permission==="denied"){a.clearNotificationRequest();return}s(!0)},onSuccess:()=>{a.clearNotificationRequest()}});return c?t.jsx(r,{icon:t.jsx(x,{}),isPrimaryCtaDisabled:!0,isSecondaryCtaDisabled:!0,type:"error",onDismiss:()=>{s(!1),e.logErrorDismissed(),a.clearNotificationRequest()},title:t.jsx(i,{...o.notificationsDisabledBannerTitle}),content:t.jsx(i,{...o.notificationsDisabledBannerContent})}):t.jsx(r,{icon:t.jsx(p,{}),primaryCtaText:t.jsx(i,{...o.notificationsBannerAllow}),onPrimaryCtaClick:()=>{e.logAllow(),l()},isPrimaryCtaDisabled:u,secondaryCtaText:t.jsx(i,{...o.notificationsBannerNotNow}),onSecondaryCtaClick:()=>{e.logNotNow(),a.clearNotificationRequest()},title:t.jsx(i,{...o.notificationsBannerTitle}),content:t.jsx(i,{...o.notificationsBannerContent})})}export{B as JawboneNotificationsBanner};
//# sourceMappingURL=ebmdm6eq16wqsch2.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ilcgqz9tzaz3l63n.js","assets/j12so9ru57hpoz1y.js","assets/jn7p98x7qxquz26a.js","assets/j5zd9vs1l0bwsjqa.js","assets/root-eh80jqkj.css","assets/conversation-small-cmjjxogj.css","assets/fmw3vtt8y90emgda.js","assets/cx64odxk6g9mmfxk.js","assets/01yrv2o49ye0ebr7.js","assets/pcetty3qfpqopskj.js","assets/epsg05et2lobrl6v.js","assets/gh4kfg6qlx7b3ikk.js","assets/bmq33amvrfzjcyfd.js","assets/msp412gwqdn605it.js","assets/ok8fnoyzbnoyk9qs.js","assets/ng20n9f2et03jm61.js","assets/dyn54m8afmkkz42o.js","assets/ik1mvke1rzg5h1fr.js","assets/gld03raz97um5arz.js","assets/di9gukc1ozd2hjw9.js","assets/mbbi7ghgl3dsk97a.js","assets/doknjlw48az0ww3q.js","assets/j2m3ef69iou998eo.js","assets/egjzck8f21ldiiq8.js","assets/n5601invkykfg1ys.js","assets/b0v1yruiy44zd1p9.js","assets/owhjnpwqw9ddu7v0.js","assets/d8hi8vzea1zd4sdu.js","assets/hxt8zt4ovcs39phn.js","assets/mx9tryggoikmqll4.js","assets/btagl6w1gub4aw61.js","assets/gnf8igcndbkf7iga.js","assets/lnar6239puot51cu.js","assets/j92odb70l0m0fpoz.js"])))=>i.map(i=>d[i]);
import{a as b,gF as k,B as F,r as S,o as v,P as R,cy as y,cz as M,at as I,ar as D,W as O,fQ as z,fM as B,gG as T}from"./j5zd9vs1l0bwsjqa.js";import{u as G,j as e,M as V,r as u}from"./j12so9ru57hpoz1y.js";import{S as C,c as W,d as q,N as K,a as J,C as Q,F as U}from"./ico83cg07nw4gm43.js";import{C as Y}from"./b0v1yruiy44zd1p9.js";import{gl as N,gm as _,fH as X,gn as Z,go as $,gp as ee,gq as ae,gr as se,gs as te,gt as re,f5 as oe,cE as ne,gu as ie,gv as ce,R as le,gw as ge,P as me,gx as de,gy as xe,gz as ue,gA as he,gB as j,fJ as pe}from"./jn7p98x7qxquz26a.js";import"./n0tk3xne532h7ges.js";import"./01yrv2o49ye0ebr7.js";import{I as fe,M as Ce}from"./ob1ryhq7reedd72f.js";import{N as je,L as be}from"./j2m3ef69iou998eo.js";import{a as Se}from"./egjzck8f21ldiiq8.js";function P({isMobile:a=!1,includeArchived:s,setIncludeArchived:t}){const{data:r}=N(),c=!!r?.archived_images_count,o=G().formatMessage({id:"vMAtK7",defaultMessage:"Create image"}),l=_();return e.jsxs("header",{"data-landing-page-load-target":!0,className:b("flex w-full items-center justify-between",a&&"px-2",!a&&"h-header-height bg-token-main-surface-primary sticky top-0 z-20 px-3 py-3 max-md:hidden"),children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(je,{clientThreadId:k}),e.jsx("h1",{className:"text-token-text-secondary text-lg font-semibold tracking-[-0.28px] [text-box-trim:trim-both] [view-transition-name:var(--vt-tool-page-title)] md:px-3.5",children:e.jsx(V,{id:"Az9rja",defaultMessage:"My Library"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(F,{type:"button",color:"ghost",className:"border-token-border-default border max-md:aspect-square max-md:w-10",onClick:l,children:[e.jsx(X,{"aria-label":"",className:"icon-md max-md:icon-sm"}),e.jsx("span",{className:"max-md:sr-only",children:o})]}),c&&e.jsx(Z,{includeArchived:s,setIncludeArchived:t}),e.jsx(be,{})]})]})}function ve({includeArchived:a,setIncludeArchived:s}){const{images:t,hasNextPage:r,isLoading:c,isFetchingNextPage:g,fetchNextPage:o}=$(a),{data:l,isLoading:h}=N(),p=S(),n=v(p).checkGate("2980121290"),m=_();if(u.useEffect(()=>{R.logEventWithStatsig("chatgpt_web_image_library_page_viewed","chatgpt_web_image_library_page_viewed")},[]),!n)return null;const d=h,x=l?.images_count??0,i=!d&&!x;return e.jsxs("div",{className:"flex w-full flex-1 flex-col items-center gap-4 justify-self-center",children:[e.jsx(P,{includeArchived:a,setIncludeArchived:s}),e.jsxs("div",{className:b("w-full max-w-3xl px-8 max-md:px-0 md:mt-10",i?"pt-8":"max-md:pt-0"),children:[i&&e.jsx(ee,{borderless:!0,onClick:m}),!i&&e.jsx(ae,{children:e.jsx(fe,{count:x,images:t,includeArchived:a,hasMoreImages:r,isFetchingMore:g||c,onScrollToEnd:o})})]})]})}const ye=y(()=>M(()=>import("./ilcgqz9tzaz3l63n.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30])).then(a=>a.CanvasFocusedViewManager)),Me=y(()=>M(()=>import("./gnf8igcndbkf7iga.js"),__vite__mapDeps([31,1,3,4,32,2,5,33])).then(a=>a.SearchResultsModal));function De({clientThreadId:a,setClientThreadId:s,urlThreadId:t,threadContent:r}){const c=oe(),{createNewThread:g,resetThread:o}=ne({clientThreadId:a,setClientThreadId:s}),{pageType:l}=ie(),h=ce(),p=S(),n=l?.type==="library"&&v(p).checkGate("2980121290"),[m,d]=u.useState(!1),x=r??(n?e.jsx(ve,{includeArchived:m,setIncludeArchived:d}):null),i=I(a,A=>O.getGizmoId(A)),w=le(i);u.useContext(D);const f=!1,L=c||f,E=f,H=!h&&(w||!i)?e.jsx(he,{children:e.jsx(j,{clientThreadId:a,inMobileHeader:!0})}):e.jsx(j,{clientThreadId:a,inMobileHeader:!0});return e.jsxs(e.Fragment,{children:[e.jsx(Ne,{clientThreadId:a,resetThread:o}),e.jsx(ge,{clientThreadId:a,urlThreadId:t}),e.jsx(me,{clientThreadId:a,children:e.jsx(Y,{clientThreadId:a,children:e.jsxs(C,{hideNavigation:L,mobileHeaderRightContentExpanded:n,mobileHeaderContent:n?null:H,mobileHeaderBottomContent:e.jsx(de,{clientThreadId:a}),mobileHeaderLeftContent:e.jsx(W,{onNewChatButtonClick:o}),mobileHeaderRightContent:n?e.jsx(P,{isMobile:!0,includeArchived:m,setIncludeArchived:d}):e.jsx(q,{clientThreadId:a,onNewChatButtonClick:o}),renderNavSidebar:()=>e.jsx(K,{navHeader:a?e.jsx(J,{className:"h-header-height xs:pe-3 flex items-center",onNewThread:g}):null,children:e.jsx(Q,{clientThreadId:a})}),threadFlyout:e.jsx(U,{clientThreadId:a}),children:[e.jsx(xe,{}),x??e.jsx(Ce,{clientThreadId:a,hideToolsOverlay:!0,hideHeader:E},a),e.jsx(ue,{clientThreadId:a}),e.jsxs(C.Sidebars,{children:[e.jsx(ye,{clientThreadId:a}),!1,!1,!1]})]})})}),e.jsx(_e,{clientThreadId:a})]})}const Ne=u.memo(function({clientThreadId:s,resetThread:t}){se({clientThreadId:s}),te(s),Se({resetThreadAction:t,clientThreadId:s});const r=re(s);return e.jsx(e.Fragment,{children:r})});function _e({clientThreadId:a}){const s=z(),t=B(),r=pe();return!s||!t||r?null:e.jsxs(e.Fragment,{children:[T(s,"searchSources")&&e.jsx(Me,{clientThreadId:a}),!1]})}export{De as C};
//# sourceMappingURL=ijgsr1qtu4s7rq92.js.map

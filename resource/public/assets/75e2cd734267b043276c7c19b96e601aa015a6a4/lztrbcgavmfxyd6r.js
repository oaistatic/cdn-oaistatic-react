const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jeyn5979j0tk4wcn.js","assets/l6lryjpkt8rv0lpy.js","assets/la9xl0atf8rx1afm.js","assets/dvllb5fed1b4y7k1.js","assets/mnkup87aq6tfilq5.js","assets/root-lwz5toux.css","assets/conversation-small-ga20ijz2.css","assets/4wfwbvmzqu7tbfmg.js","assets/1e3kywkhcjn5spyo.js","assets/cbms2jcglp4b707f.js","assets/jnjzqafy9dn7o7ce.js","assets/gjttiufxol9zbtcw.js","assets/dssqb33wed4i78fb.js","assets/m1wuuk5evqjakuq1.js","assets/mc77hi6aghwo7h20.js","assets/hli3paxjs6c9ftyy.js","assets/gffbkcdjbbbnp8kb.js","assets/d5w25xgxcglldc4u.js","assets/ipgaseve9xp2bi1a.js","assets/nxg0mr2frwehg6na.js","assets/o8noabc2ok2qmjvd.js","assets/gmef5oj8cqxmaxml.js","assets/pc32gvx0zuzynmfl.js","assets/o0ruvxo2l2807vcb.js","assets/gmo2p487z675vgyc.js","assets/f651cyqvxf3m7zo6.js","assets/ll5ad5t40w01fypo.js","assets/oftd8yvle59zqu13.js","assets/hjvhqy8z9mtcdx24.js"])))=>i.map(i=>d[i]);
import{j as e,r as m}from"./l6lryjpkt8rv0lpy.js";import{hx as $,hy as q,hz as Q,cF as Z,hA as J,hB as K,hC as X,hD as w,hE as Y,hF as ee,hG as se,hH as ae,hI as re,ac as L,hJ as te,hK as A,hL as oe,bv as I,hM as ne,a2 as ie,go as ce,R as de,fV as le,aa as he,hN as me,hO as ue,cZ as pe,c_ as Ce,c$ as xe,d0 as Te}from"./dvllb5fed1b4y7k1.js";import{S as ge,b as ve,u as B,E as je,C as k,c as Se,T as fe,d as ye,F as be}from"./gjttiufxol9zbtcw.js";import{bl as H,bm as M,U as O,s as U,fO as Ne,bk as W,eW as t,d as h,N as Ee,ea as we,am as Ie,gy as He,bz as Me}from"./mnkup87aq6tfilq5.js";import{P as Fe}from"./1e3kywkhcjn5spyo.js";import{e as F,u as De}from"./4wfwbvmzqu7tbfmg.js";import{C as Pe}from"./b389eodcyywjf70s.js";import{C as _e}from"./khfeyjk7s03xesjl.js";function Re({clientThreadId:s,currentModelId:n,isModelLoaded:d,onRequestCompletion:l,chatgptHomepageDisclaimer:a}){return e.jsx(ge,{clientThreadId:s,currentModelId:n,isModelLoaded:d,onRequestCompletion:l,chatgptHomepageDisclaimer:a})}const ke=H(()=>M(()=>import("./jeyn5979j0tk4wcn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function Le({disableEmptyState:s,fullWidth:n,renderEmptyState:d}){const{clientThreadId:a,currentModelId:i,isCompanionWindow:u,isEmbeddedInFocusedView:r,onChangeRating:p,onRequestCompletion:c,isModelLoaded:v,prefetchSearch:y}=m.useContext(F),[b,C,T]=O(a,o=>[o?.isLoading,U.getConversationTurns(o).length,o?.scrollToMessageId]),j={clientThreadId:a,currentModelId:i,onChangeRating:p,onRequestCompletion:c,showAvatar:!1},N=ve({clientThreadId:a,handleRequestCompletion:c,prefetchSearchPromise:y}),S=b||N||s,x=Ne(),{initialConversationTurns:g,continuedConversationTurns:f}=$(C,x),{canUseNewHomepage:D,showEmptyState:z}=B(a),G=C>=2;q(G);const{setTargetedContent:P}=Q(),V=Z(i),_=J(a);K(C,a),m.useEffect(()=>{r||P(void 0)},[a,P,r]);const R=X(a);if(z){if(d!=null)return d();if(D&&!S){const o=u?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:a})});return e.jsx(Re,{clientThreadId:a,currentModelId:i,isModelLoaded:v,onRequestCompletion:c,chatgptHomepageDisclaimer:o})}else if(!D&&!S)return e.jsx(je,{clientThreadId:a,currentModelId:i,isModelLoaded:v,onRequestCompletion:c,showChatgptHomepage:!V,chatgptHomepageDisclaimer:e.jsx(w,{clientThreadId:a})})}return e.jsxs(e.Fragment,{children:[x&&e.jsx(Y,{}),x&&f.length===0&&e.jsx(ee,{}),e.jsx(W,{children:e.jsxs(m.Suspense,{fallback:null,children:[e.jsx(se,{}),g.length>0&&e.jsx("ol",{className:t.conversationTurnList,onCopy:_,children:g.map(({turnIndex:o,isFinalTurn:E})=>e.jsx("li",{className:h(t.conversationTurnWrapper,n&&"w-full"),children:m.createElement(k,{...j,key:`${a}-${o}`,turnIndex:o,isFinalTurn:E,scrollToMessageId:T,dateHeaderType:R(o)})},o))}),x&&e.jsx(ae,{}),e.jsx("ol",{className:t.conversationTurnList,onCopy:_,children:f.map(({turnIndex:o,isFinalTurn:E})=>e.jsx("li",{className:h(t.conversationTurnWrapper,n&&"w-full"),children:m.createElement(k,{...j,key:`${a}-${o}`,turnIndex:o,isFinalTurn:E,scrollToMessageId:T,dateHeaderType:R(o)})},o))})]})}),e.jsx(ke,{}),C>0&&e.jsx(re,{})]})}function Ae({renderEmptyState:s}){return e.jsx(Le,{renderEmptyState:s})}const Be=H(()=>M(()=>import("./gjttiufxol9zbtcw.js").then(s=>s.e),__vite__mapDeps([11,4,1,5,9,3,6,8,12,13,14,15,7,10,16,17,18,19])).then(s=>s.ChatScreenComposerAlerts));function Oe(){const{clientThreadId:s,currentModelId:n,isCompanionWindow:d,onRequestCompletion:l}=m.useContext(F),a=L(s),[i,u]=O(s,c=>[c&&c.conversationTurns.length>1,U.hasUserMessage(c)]),r=Ee(s)&&!i&&te(a),{setComposerFooterElement:p}=m.useContext(A);return e.jsx("div",{className:t.footer,children:e.jsxs(oe,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent",position:"relative"},children:[e.jsxs(I,{type:"secondary",className:"absolute bottom-[var(--composer-bar-height)] w-full",children:[i&&e.jsx(ne,{className:t.scrollButton}),e.jsx(Be,{})]}),e.jsxs(I,{type:"primary",ref:p,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(Se,{clientThreadId:s,currentModelId:n,isNewThread:r,noWrap:!0,onRequestCompletion:l,showPromptStarters:r||!u}),!d&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:s})})]})]})})}const Ue=H(()=>M(()=>import("./o8noabc2ok2qmjvd.js"),__vite__mapDeps([20,1,3,4,5,6,21,22,8,23,24,25,26,27,15,14,28,11,9,12,13,7,10,16,17,18,19])).then(s=>s.ConversationHeaderMenuItems));function We(){const{clientThreadId:s,isLoggedInUser:n,onNewThread:d}=m.useContext(F),l=we(s),a=ie(l),i=ce(l),{useStore:u}=de(),r=u(p=>p.isSidebarOpen);return e.jsxs(I,{leading:!0,type:"primary",className:t.header,name:"thread-header",children:[e.jsxs("div",{className:t.headerLeading,children:[n&&e.jsx(le,{className:h(r&&"invisible")}),!a&&(!n||!r)&&e.jsx(Pe,{onNewThread:d,className:h(n&&"hidden @lg/thread:inline-flex",r&&"invisible"),location:"thread"}),i?e.jsx("div",{className:h(t.threadDropdown),children:e.jsx(Ue,{clientThreadId:s})}):e.jsx("div",{className:h(t.threadDropdown),children:e.jsx(fe,{clientThreadId:s})})]}),e.jsx("div",{className:t.headerTrailing,children:e.jsx(W,{children:e.jsx(ye,{clientThreadId:s})})})]})}function Ke({hideHeader:s=!1,hideFooter:n=!1,hideTools:d=!1,embedded:l=!1,renderEmptyState:a,ref:i}){const{data:u}=Ie(),{clientThreadId:r,currentModelId:p,isCompanionWindow:c,isInstalledApp:v,onRequestCompletion:y,routeType:b}=De(),{canUseNewHomepage:C,showEmptyState:T}=B(r),j=he(u?.models,p),[N,S]=me({name:"composer-bar",track:"height"}),x=L(r),g=ue(r,x),f=n||T&&C;return He(r),e.jsx(Me.Provider,{value:y,children:e.jsx(pe,{children:e.jsxs(Fe,{clientThreadId:r,children:[e.jsx(Ce,{children:g!=null&&e.jsx("title",{children:g})}),e.jsx(be,{clientThreadId:r,className:h(l&&"h-full","flex-1"),currentModelConfig:j,children:e.jsxs(A.Provider,{value:{setComposerFooterElement:S},children:[e.jsx(xe,{anchor:"vertical",className:h(t.screen,T&&C&&t.screenEmptyState,c&&t.screenCompanionWindow,v&&t.screenInstalledApp,l&&t.screenEmbedded),contentClassName:h(b==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!s&&e.jsx(We,{}),style:N,ref:i,trackLeading:!0,trackTrailing:!0,trailing:!f&&e.jsx(Oe,{}),children:e.jsx(Ae,{renderEmptyState:a})}),!c&&!d&&e.jsxs(e.Fragment,{children:[e.jsx(_e,{}),e.jsx(Te,{})]})]})})]})})})}export{Ke as C,We as a,Ae as b};
//# sourceMappingURL=lztrbcgavmfxyd6r.js.map

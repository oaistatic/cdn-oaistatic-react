const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ebwi522o6lekl2nu.js","assets/mnkup87aq6tfilq5.js","assets/l6lryjpkt8rv0lpy.js","assets/root-lwz5toux.css","assets/dvllb5fed1b4y7k1.js","assets/conversation-small-ga20ijz2.css","assets/gcxygv2dp78oh7g7.js","assets/cal7wpbc1bdlnwfh.js","assets/bj9d14lm2vt5tl41.js","assets/mhw2wjge8ypdrzdr.js","assets/m1wuuk5evqjakuq1.js","assets/cbms2jcglp4b707f.js","assets/1e3kywkhcjn5spyo.js","assets/fci2470qc059et56.js","assets/d0ynpcmhn5mxx54e.js","assets/lpa0sb8hkyi7pmml.js","assets/4wfwbvmzqu7tbfmg.js","assets/jnjzqafy9dn7o7ce.js","assets/pc32gvx0zuzynmfl.js","assets/f65x4oloxtpv6ygs.js","assets/llh8t5ckv1lpc2n1.js","assets/hli3paxjs6c9ftyy.js","assets/h30lmxihx79lh0e9.js","assets/k0r4nt4e0ngxvcib.js","assets/b389eodcyywjf70s.js","assets/c8arge5d7l8vmb3f.js","assets/gjttiufxol9zbtcw.js","assets/dssqb33wed4i78fb.js","assets/mc77hi6aghwo7h20.js","assets/gffbkcdjbbbnp8kb.js","assets/d5w25xgxcglldc4u.js","assets/ipgaseve9xp2bi1a.js","assets/nxg0mr2frwehg6na.js","assets/lztrbcgavmfxyd6r.js","assets/khfeyjk7s03xesjl.js","assets/dsrtm1un9dvk7lp0.js","assets/ezomqtba3s5o1b1m.js","assets/id71harmmcod9qv8.js","assets/knrpzfy23gqw1k17.js"])))=>i.map(i=>d[i]);
import{fw as B,S as V,P as L,a as R,cP as J,u as X,dU as D,gI as _,bl as f,bm as h,I as Z,gK as $,d8 as N,F as S,gd as ee,ge as se,dG as ae,fy as ie,r as te,ac as re,aF as oe,fq as ne,O as de}from"./mnkup87aq6tfilq5.js";import{r as d,j as e,aw as z,d as le,a as U,c as ce,au as u,e as M,h as ue,u as me}from"./l6lryjpkt8rv0lpy.js";import{iI as fe,iJ as G,iK as he,ej as ge,iL as P,iM as m,iN as xe,cu as g,cv as A,iO as ve,x as pe,z as be,H as je,iP as we,bL as Ce,cY as Ee,iQ as Te,iR as ye,iS as Ie,iT as ke,i as _e,ea as Ne,iU as Se,dH as Me,d2 as Pe,dg as Ae,iV as Oe,iW as Fe,T as O,dh as Ve,iX as Le,iY as Re,iZ as De}from"./dvllb5fed1b4y7k1.js";import{b as ze,u as Ue}from"./m1wuuk5evqjakuq1.js";import{C as Ge}from"./fci2470qc059et56.js";import{a as K,u as H}from"./4wfwbvmzqu7tbfmg.js";import{C as Ke}from"./lztrbcgavmfxyd6r.js";import{M as He}from"./gjttiufxol9zbtcw.js";import{K as We}from"./dsrtm1un9dvk7lp0.js";import{u as qe}from"./pc32gvx0zuzynmfl.js";import{C as Qe}from"./ezomqtba3s5o1b1m.js";function Ye(){const s=fe(r=>r.notifications),{activeThreadIds:a}=B(),t=d.useRef(new Set);return d.useEffect(()=>{s.filter(i=>i.clientThreadId===void 0||a.has(i.clientThreadId)).map(i=>i.id).filter(i=>i!==void 0).forEach(i=>G(i)),s.forEach(i=>{i.id&&!t.current.has(i.id)&&(V.logEvent("chatgpt_notification_shown"),L.logEvent(R.notificationShown),t.current.add(i.id))})},[a,s]),s.length===0||J?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(z,{children:s.map(r=>e.jsx(Be,{...r},r.id))})})}function Be({...s}){const a=le(),t=U(),r=ce(),i=X(s.clientThreadId),l=()=>{V.logEvent("chatgpt_notification_clicked"),L.logEvent(R.notificationClicked),i&&ge(a,t,i),s.id&&G(s.id)};return e.jsxs(u.div,{onClick:l,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(he,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:s.title??r.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:s.subtitle??r.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const F=450;function Je({children:s,clientThreadId:a,isOpen:t,onClose:r}){const i=D();return e.jsxs(z,{children:[t&&i&&e.jsx(K,{clientThreadId:a,children:e.jsx(_,{children:e.jsx(P.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(u.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:F},...m,children:e.jsx(Ke,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:s})]})]})})})}),t&&!i&&e.jsx(_,{children:e.jsx(P.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:s}),e.jsx(u.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:F},...m,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(He,{clientThreadId:a,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},a)})})]})]})})})]})}const Xe=f(()=>h(()=>import("./ebwi522o6lekl2nu.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ze=f(()=>h(()=>import("./gcxygv2dp78oh7g7.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36])).then(s=>s.ImageEditor));function $e({clientThreadId:s}){const a=xe();d.useEffect(()=>{g.close()},[s]);let t;return a?.type===A.ADAVisualization?t=e.jsx(Xe,{clientThreadId:s,visualization:a.visualization}):a?.type===A.Image&&(t=e.jsx(Ze,{clientThreadId:s,messageId:a.messageId,image:a.image,allImages:a.allImages},a.image.asset_pointer)),e.jsx(Je,{clientThreadId:s,isOpen:a!=null,onClose:g.close,children:t})}function es(){const{clientThreadId:s,resetThread:a}=H();return qe({resetThreadAction:a,clientThreadId:s}),null}function ss(){const{clientThreadId:s,isCompanionWindow:a}=H();return e.jsx(ve,{conversationId:s,isActiveWindow:!a})}function as({clientThreadId:s,urlThreadId:a}){return pe({clientThreadId:s}),e.jsxs(e.Fragment,{children:[e.jsx(ss,{}),e.jsx(es,{}),e.jsx(be,{clientThreadId:s,urlThreadId:a}),e.jsx(je,{}),e.jsx(Qe,{})]})}var is={};const ts=f(()=>h(()=>import("./id71harmmcod9qv8.js"),__vite__mapDeps([37,2,1,3,4,5,10,11,12,16,17,33,26,27,28,21,29,30,31,32,24,34]))),rs=f(()=>h(()=>import("./knrpzfy23gqw1k17.js"),__vite__mapDeps([38,2,1,3,27,4,5,11,12,16,17])).then(s=>s.MadlibsModal));function js(s){const{urlThreadId:a,clientThreadId:t,prefetchSearch:r}=s;ds();const i=Z(),l=M(),[x]=ue(),[o,c]=d.useState(()=>{if(a!==void 0){const n=a;return $(n)??n}return t!==void 0?t:N()});a!==void 0&&o!==a&&(S(o)===a||c(a));const W=we(M());d.useEffect(()=>{a===void 0&&S(o)!==void 0&&c(N())},[a,o,W]);const q=Ce(Ee.workspaceId),Q=D(),{eligible:v,isLoading:p,markAsViewed:b}=Te(),j=ye(),{eligible:w,isLoading:C,markAsViewed:E}=Ie(),T=ke(),y=_e();d.useEffect(()=>{ee(!0).then(n=>{n.force_login&&y({authType:"login"}),Ne.initializeAndGatherData(n),se.initializeAndGatherData(n)})},[y]),d.useEffect(()=>{const n=x.get(Se)==="true";i!==n&&ae.setIsTemporaryChatEnabled(n)},[i,x]),d.useEffect(()=>{l.state?.focusObject&&g.setFocusedObject(l.state.focusObject)},[l.state?.focusObject]),d.useEffect(()=>{!p&&v&&(b(),j())},[v,p,b,j]),d.useEffect(()=>{!C&&w&&(E(),T())},[w,C,E,T]),ze(o);const Y=Q?as:Ge,I=U();return d.useEffect(()=>ie(oe,{completionFinished:n=>{if(n.serverThreadId!=null&&!i){const k=te(n.serverThreadId)?.mode;k?.kind===re.GizmoInteraction&&Me.handleGizmoInteracted(I,k.gizmo_id)}}}),[i,I]),e.jsx(ne.Provider,{value:null,children:e.jsx(Pe,{children:e.jsxs(Ae,{clientThreadId:o,children:[e.jsx(Oe,{clientThreadId:o},q),e.jsx(os,{clientThreadId:o,setClientThreadId:c}),e.jsx(We,{}),e.jsx(Fe,{}),e.jsx(K,{clientThreadId:o,setClientThreadId:c,prefetchSearch:r,children:e.jsxs(O,{clientThreadId:o,children:[e.jsx(Y,{urlThreadId:a,clientThreadId:o,setClientThreadId:c,prefetchSearch:r}),e.jsx(ns,{})]})}),e.jsx(O,{clientThreadId:o,children:e.jsx($e,{clientThreadId:o})}),e.jsx(Ve,{clientThreadId:o}),e.jsx(Le,{}),e.jsx(Ye,{}),e.jsx(Re,{}),null]})})})}function os({clientThreadId:s,setClientThreadId:a}){const{isOpen:t,isLoading:r}=Ue();return!r&&t?e.jsx(ts,{clientThreadId:s,setClientThreadId:a}):null}function ns(){const{isOpen:s}=De();return s?e.jsx(rs,{}):null}function ds(){me({queryKey:["pingEdge"],queryFn:()=>de.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=is.GOKU_SERVICE);export{js as C,F};
//# sourceMappingURL=oskmzl9oluf94aki.js.map

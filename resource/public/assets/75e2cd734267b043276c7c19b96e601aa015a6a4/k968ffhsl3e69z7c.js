import{d as A,P as v,at as L,au as k,bT as I,a as C,S,fU as _,h as N,e_ as F,C as U,bw as B}from"./mnkup87aq6tfilq5.js";import{c as M,r as c,d as O,j as e,M as p,A as D,e as W,h as R,i as G}from"./l6lryjpkt8rv0lpy.js";import{T as w,m as z,L as H}from"./b4mp6ob96e3k47pl.js";import{c as K}from"./kv0usf3z469lqiin.js";import{Q as E,bu as Q,i as V,dd as X,j as Y,k as $,bI as q,l as J}from"./dvllb5fed1b4y7k1.js";import"./isjdmfmhzv09v01t.js";function Z({auth0Provider:a,isNoAuthEnabled:n,nextUrl:i,isStorageComplianceEnabled:l}){const t=E(),s=M(),[o,r]=c.useState(!1),u=O(),j=Q(f.signUp),m=V(),d=!t||!o,g=()=>{v.logLogInButtonClicked({provider:a,location:"Login page"}),o||setTimeout(()=>{r(!0)},500),m({authType:"login",callbackUrl:i})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[!t&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx("h1",{"aria-label":s.formatMessage(f.ariaLabel),children:e.jsx("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:e.jsx("div",{children:w})})})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:t?e.jsx("div",{children:w}):e.jsx(p,{...f.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:A("grid gap-x-3 gap-y-2",t?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(y,{blue:!0,loading:o,testid:"login-button",onClick:g,children:e.jsx(p,{...f.logIn})}),t&&o&&e.jsx(y,{ghost:!0,testid:"login-tryagain-button",onClick:g,children:e.jsx(p,{...f.logInTryAgain})}),d&&e.jsx(y,{blue:!0,testid:"signup-button",onClick:()=>{v.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),L.setCookie(k.SignupRedirectUrl,i,{maxAge:60*60*3}),m({authType:"signup",callbackUrl:i})},children:e.jsx(p,{...j})})]})})}),n?e.jsx(I,{color:"ghost",className:"mt-2 sm:mt-5",onClick:b=>{b.preventDefault(),v.logEvent(C.authTryItFirstLinkClicked),S.logEvent("chatgpt_auth_try_it_first_link_clicked"),u("/")},children:e.jsx(p,{...f.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center text-gray-300 md:mb-3",children:e.jsx(_,{className:"h-[22px] w-auto"})}),e.jsx(K,{isStorageComplianceEnabled:l})]})]})})}function y({icon:a,children:n,className:i,onClick:l,testid:t,blue:s=!1,ghost:o=!1,loading:r=!1}){return e.jsxs(I,{color:s?"blue":o?"ghost":"primary",loading:r,size:"large","data-testid":t,onClick:l,className:i,children:[a?e.jsx("div",{className:A("h-5 w-5 justify-self-start",{}),style:{backgroundImage:a}}):null,e.jsx("span",{children:n})]})}const f=N({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function ee({auth0Provider:a,cfConnectingIp:n,isStorageComplianceEnabled:i,isNoAuthEnabled:l}){const{hash:t}=W(),[s]=R(),o=s.get("next"),r=(o?.startsWith("/")?o:"/")+t,u=M(),j=U(),m=c.useRef(!1),d=s.get("sso"),g=d?s.get("connection"):void 0,P=X()(),x=Y()??($(s,!0,P)||a);return c.useEffect(()=>{sessionStorage.setItem(q,x.toString())},[x]),c.useEffect(()=>{if(d){const h=L.getCookie(k.DeviceId)?.toString();G.signIn(x,{callbackUrl:r},{...h?{device_id:h}:{},...g?{connection:g}:{},...J(h)})}},[r,d,g,x]),c.useEffect(()=>{v.logEvent(C.loggedOutOpenedAuthLogin,{cfConnectingIp:n})},[n]),c.useEffect(()=>{window.location.hash==="#pricing"&&L.setCookie(k.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),c.useEffect(()=>{if(m.current)return;m.current=!0;const h=s.get("inv_ws_name"),T=s.get("inv_email");h&&T&&j.success(u.formatMessage(z.invitedToastMessage,{workspace_name:h,email:T}),{hasCloseButton:!0,duration:600})},[s,u,j]),d?null:e.jsx(te,{auth0Provider:x,nextUrl:r,isStorageComplianceEnabled:i,isNoAuthEnabled:l})}const te=({auth0Provider:a,nextUrl:n,isStorageComplianceEnabled:i,isNoAuthEnabled:l})=>e.jsxs(e.Fragment,{children:[e.jsx(se,{auth0Provider:a,nextUrl:n,isStorageComplianceEnabled:i,isNoAuthEnabled:l}),!1]});function se({auth0Provider:a,isNoAuthEnabled:n,nextUrl:i,isStorageComplianceEnabled:l}){const t=E(),s=B(),o=c.useRef(null),r=!1;return c.useEffect(()=>{if(t||r)return;o.current==null&&(o.current=document.body.style.backgroundColor);const u=s?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=u,()=>{o.current!=null&&(document.body.style.backgroundColor=o.current)}},[s,t,r]),e.jsxs("div",{className:A("flex min-h-dvh w-screen flex-col md:grid",t?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!t&&e.jsx(H,{}),e.jsx(Z,{auth0Provider:a,isNoAuthEnabled:n,nextUrl:i,isStorageComplianceEnabled:l})]})}const ue=F(function(){const n=D();return e.jsx(ee,{...n})});export{ue as default};
//# sourceMappingURL=k968ffhsl3e69z7c.js.map

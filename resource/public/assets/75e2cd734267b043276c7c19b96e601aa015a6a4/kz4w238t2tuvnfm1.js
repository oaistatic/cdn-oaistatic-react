const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/doqe6wq6jvyj9nzu.js","assets/l6lryjpkt8rv0lpy.js","assets/dvllb5fed1b4y7k1.js","assets/mnkup87aq6tfilq5.js","assets/root-lwz5toux.css","assets/conversation-small-ga20ijz2.css","assets/chwpaxfxk9st7eq2.js","assets/dssqb33wed4i78fb.js","assets/cbms2jcglp4b707f.js","assets/1e3kywkhcjn5spyo.js","assets/jm8zus0mi88xmv2y.js","assets/b4zl6usbni9k59c7.js","assets/hklpkipqhzi68oi6.js","assets/i822scwyjyzhmdym.js","assets/h4jw8c63q447uotc.js","assets/eivflkxhgemu4u0k.js","assets/no74ca53mzecj421.js","assets/mmww893yope46dld.js","assets/fzmi0zkr0dvmhwns.js","assets/ffxduo863rikjmz1.js","assets/BusinessesMap-g8qqrkxo.css"])))=>i.map(i=>d[i]);
import{g as $e,r as m,j as a,aE as Vt,u as Gt,R as Xt,c as S,M as $,aw as Me,au as Te}from"./l6lryjpkt8rv0lpy.js";import{i as Kt,d as j,c1 as Jt,a as N,u as ht,R as Qt,bw as q,c2 as ae,cm as es,bx as ts,b9 as Z,c9 as ss,h as je,U as ns,ak as as,hS as os,df as mt,em as re,D as ft,bh as pt,bT as gt,dj as rs,bR as is,bl as cs,bm as ls,ap as xt,ex as Ne,J as ds,i7 as us,i9 as hs,gV as ms}from"./mnkup87aq6tfilq5.js";import{sv as fs,oZ as ps,p1 as gs,sw as xs,sx as yt,sy as ys,cx as ie,cw as bs,sz as bt,sA as vs,sB as ws,sC as $s,bV as _e,E as I,sD as js,sE as Ns,hr as oe,sF as _s,c3 as ks,c5 as Cs,sG as Ss,sH as Ps,eY as Ds,cH as vt,cI as wt,F as $t,S as Ms,q as Ae,sI as Ts,sJ as Ee,gS as As,gR as Es,fg as T,sK as Is,gh as Fs,kE as Ls,kF as Rs,kN as Hs,hp as Ie}from"./dvllb5fed1b4y7k1.js";import{s as z,c as Fe,d as jt,R as J,u as Nt,e as zs,g as Os,b as Us,j as Ws,C as Ys,l as Bs,m as qs,S as Le,D as Zs,n as Vs,I as Gs,o as Xs,M as Ks,r as Js,q as Qs}from"./chwpaxfxk9st7eq2.js";import{a as en}from"./jm8zus0mi88xmv2y.js";import{u as tn,b as sn,i as nn}from"./fzmi0zkr0dvmhwns.js";import{a as an}from"./hklpkipqhzi68oi6.js";import{g as on,d as rn,b as _t,I as cn}from"./i822scwyjyzhmdym.js";import{w as ke,s as kt,f as ln,D as dn,h as un,M as Ce,u as hn,r as mn,E as fn}from"./b4zl6usbni9k59c7.js";import{b as Y}from"./no74ca53mzecj421.js";import{v as Re,C as pn,A as gn,a as xn,L as yn,B as bn,p as vn,b as wn,e as $n,P as jn,f as Nn,i as _n,g as kn}from"./o8w0b09azms3av0p.js";import{N as He}from"./nxg0mr2frwehg6na.js";import{S as Cn}from"./cu56xogs1b4sjtcp.js";import{c as Ct}from"./jse5gib798yh273j.js";const Sn=Ct("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),Pn=Ct("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]);var Dn=fs,Mn=Kt;function Tn(e){return e&&e.length?Dn(e,Mn):0}var An=Tn;const En=$e(An),Q=(e,t)=>({"--duration":`${t}ms`,"--delay":`${e}ms`}),ge=e=>!!(m.isValidElement(e)&&ps(["strong","em"],e.type)&&gs(e.props)&&typeof e.props.children=="string"),St=(e,t)=>typeof e=="string"?t(e).length:ge(e)?t(e.props.children).length:1,Pt=(e,t)=>Array.isArray(e)?En(e.map(s=>Pt(s,t))):St(e,t),Dt=({Tag:e,children:t,disableRegistration:s=!1,start:n,end:o,isLastNode:r})=>{const i=r==="",{animationDurationMs:c,segmentText:u,lastPositionCompletedAnimating:h,isDisabled:d,activeStartPos:l,reportComplete:p,reportReady:f,register:x,unregister:y}=m.useContext(xs),v=!s&&!d;m.useEffect(()=>{if(!(n==null||!v))return x(e,n),()=>y(n)},[n,v]);const _=!i&&n!=null&&o!=null,w=m.useRef(!1),P=Pt(t,u),g=()=>{w.current=P,_&&f(n)},b=()=>{_&&p(o)};m.useEffect(()=>{_&&w.current===P&&f(n)},[P,_]);const k=l!=null&&n!=null&&o!=null&&l>n&&h!=null&&h>=o,D=l!=null&&n!=null&&n<=l;return{segmentText:u,onReady:g,onComplete:b,isDisabled:d||k,shouldHide:!d&&!D&&!k,shouldAnimate:D,animationDurationMs:c}},In="_fadeIn_18q64_7",Fn="_fade_18q64_7",Ln="_marker_18q64_21",Rn="_hidden_18q64_21",Hn="_animate_18q64_25",O={fadeIn:In,fade:Fn,marker:Ln,hidden:Rn,animate:Hn},ze=({children:e,"data-start":t=null,"data-end":s=null,"data-is-last-node":n,tag:o,isListItem:r=!1})=>{const{animationDurationMs:i,shouldAnimate:c,shouldHide:u,isDisabled:h,onComplete:d,onReady:l}=Dt({Tag:o,disableRegistration:r,children:e,start:t,end:s,isLastNode:n});return h||u?a.jsx(o,{className:j(u&&"hidden"),children:e}):a.jsx(o,{"data-start":t,"data-end":s,className:j(O.marker,c?O.animate:O.hidden),onAnimationStart:l,onAnimationEnd:d,style:Q(0,i),children:e})},V=({animationDurationMs:e,children:t,delay:s,segmentText:n,onReady:o,onComplete:r})=>{const i=n(t);return a.jsx(a.Fragment,{children:i.map((c,u)=>{const h=u===i.length-1,d=s+u*yt;return a.jsx("span",{className:O.fadeIn,style:Q(d,e),onAnimationStart:h?o:void 0,onAnimationEnd:h?r:void 0,children:c},u)})})},F=({tag:e,children:t,"data-start":s=null,"data-end":n=null,"data-is-last-node":o})=>{const{animationDurationMs:r,shouldHide:i,isDisabled:c,segmentText:u,onComplete:h,onReady:d}=Dt({Tag:e,children:t,start:s,end:n,isLastNode:o});if(c||i)return a.jsx(e,{"data-start":s,"data-end":n,className:j(i&&"!hidden"),children:t});let l=0;return a.jsx(e,{"data-start":s,"data-end":n,children:typeof t=="string"?a.jsx(V,{segmentText:u,delay:l,animationDurationMs:r,onReady:d,onComplete:h,children:t},0):ge(t)?m.cloneElement(t,t.props,a.jsx(V,{delay:l,animationDurationMs:r,segmentText:u,onReady:d,onComplete:h,children:t.props.children})):Array.isArray(t)?t.map((p,f)=>{const x=l;l+=St(p,u)*yt;const y=f===t.length-1;return typeof p=="string"?a.jsx(V,{delay:x,animationDurationMs:r,segmentText:u,onReady:y?d:void 0,onComplete:y?h:void 0,children:p},f):ge(p)?m.cloneElement(p,p.props,a.jsx(V,{delay:x,animationDurationMs:r,segmentText:u,onReady:y?d:void 0,onComplete:y?h:void 0,children:p.props.children},f)):a.jsx("span",{className:O.fadeIn,style:Q(l,r),onAnimationStart:y?d:void 0,onAnimationEnd:y?h:void 0,children:p},f)}):a.jsx("span",{className:O.fadeIn,style:Q(l,r),onAnimationStart:d,onAnimationEnd:h,children:t},0)})},zn={p:e=>a.jsx(F,{tag:"p",...e}),h1:e=>a.jsx(F,{tag:"h1",...e}),h2:e=>a.jsx(F,{tag:"h2",...e}),h3:e=>a.jsx(F,{tag:"h3",...e}),h4:e=>a.jsx(F,{tag:"h4",...e}),h5:e=>a.jsx(F,{tag:"h5",...e}),h6:e=>a.jsx(F,{tag:"h6",...e}),li:e=>a.jsx(ze,{tag:"li",isListItem:!0,...e}),hr:e=>a.jsx(ze,{tag:"hr",...e})};function On(e){const t=e.split(`
`),s=t.length-1,n=Un(t[s]);return t[s]=n,t.join(`
`)}function Un(e){if(/^\s*-\s*([*_]+)?\s*$/.test(e))return"";let t=[],s="",n=0;for(;n<e.length;){if(e[n]==="*"&&e[n+1]==="*"){s+="**",t.length&&t[t.length-1]==="**"?t.pop():t.push("**"),n+=2;continue}if(e[n]==="*"||e[n]==="_"){s+=e[n];const o=e[n];t.length&&t[t.length-1]===o?t.pop():t.push(o),n++;continue}s+=e[n],n++}if(t.length){if(s=s.replace(/\s+$/,""),/^[\*\_\-]+$/.test(s))return"";for(;t.length;)s+=t.pop()}return s}const Wn=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Oe={}.hasOwnProperty;function Yn(e,t){const s=t||{};function n(o,...r){let i=n.invalid;const c=n.handlers;if(o&&Oe.call(o,e)){const u=String(o[e]);i=Oe.call(c,u)?c[u]:n.unknown}if(i)return i.call(this,o,...r)}return n.handlers=s.handlers||{},n.invalid=s.invalid,n.unknown=s.unknown,n}const Bn=/^>|^->|<!--|-->|--!>|<!-$/g,qn=[">"],Zn=["<",">"];function Vn(e,t,s,n){return n.settings.bogusComments?"<?"+z(e.value,Object.assign({},n.settings.characterReferences,{subset:qn}))+">":"<!--"+e.value.replace(Bn,o)+"-->";function o(r){return z(r,Object.assign({},n.settings.characterReferences,{subset:Zn}))}}function Gn(e,t,s,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const C=Tt(1),Mt=Tt(-1),Xn=[];function Tt(e){return t;function t(s,n,o){const r=s?s.children:Xn;let i=(n||0)+e,c=r[i];if(!o)for(;c&&ke(c);)i+=e,c=r[i];return c}}const Kn={}.hasOwnProperty;function At(e){return t;function t(s,n,o){return Kn.call(e,s.tagName)&&e[s.tagName](s,n,o)}}const Se=At({body:Qn,caption:ce,colgroup:ce,dd:na,dt:sa,head:ce,html:Jn,li:ta,optgroup:aa,option:oa,p:ea,rp:Ue,rt:Ue,tbody:ia,td:We,tfoot:ca,th:We,thead:ra,tr:la});function ce(e,t,s){const n=C(s,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&ke(n.value.charAt(0)))}function Jn(e,t,s){const n=C(s,t);return!n||n.type!=="comment"}function Qn(e,t,s){const n=C(s,t);return!n||n.type!=="comment"}function ea(e,t,s){const n=C(s,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function ta(e,t,s){const n=C(s,t);return!n||n.type==="element"&&n.tagName==="li"}function sa(e,t,s){const n=C(s,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function na(e,t,s){const n=C(s,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function Ue(e,t,s){const n=C(s,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function aa(e,t,s){const n=C(s,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function oa(e,t,s){const n=C(s,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function ra(e,t,s){const n=C(s,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function ia(e,t,s){const n=C(s,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function ca(e,t,s){return!C(s,t)}function la(e,t,s){const n=C(s,t);return!n||n.type==="element"&&n.tagName==="tr"}function We(e,t,s){const n=C(s,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const da=At({body:ma,colgroup:fa,head:ha,html:ua,tbody:pa});function ua(e){const t=C(e,-1);return!t||t.type!=="comment"}function ha(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const s=e.children[0];return!s||s.type==="element"}function ma(e){const t=C(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&ke(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function fa(e,t,s){const n=Mt(s,t),o=C(e,-1,!0);return s&&n&&n.type==="element"&&n.tagName==="colgroup"&&Se(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="col")}function pa(e,t,s){const n=Mt(s,t),o=C(e,-1);return s&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&Se(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="tr")}const G={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function ga(e,t,s,n){const o=n.schema,r=o.space==="svg"?!1:n.settings.omitOptionalTags;let i=o.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const c=[];let u;o.space==="html"&&e.tagName==="svg"&&(n.schema=kt);const h=xa(n,e.properties),d=n.all(o.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=o,d&&(i=!1),(h||!r||!da(e,t,s))&&(c.push("<",e.tagName,h?" "+h:""),i&&(o.space==="svg"||n.settings.closeSelfClosing)&&(u=h.charAt(h.length-1),(!n.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&c.push(" "),c.push("/")),c.push(">")),c.push(d),!i&&(!r||!Se(e,t,s))&&c.push("</"+e.tagName+">"),c.join("")}function xa(e,t){const s=[];let n=-1,o;if(t){for(o in t)if(t[o]!==null&&t[o]!==void 0){const r=ya(e,o,t[o]);r&&s.push(r)}}for(;++n<s.length;){const r=e.settings.tightAttributes?s[n].charAt(s[n].length-1):void 0;n!==s.length-1&&r!=='"'&&r!=="'"&&(s[n]+=" ")}return s.join("")}function ya(e,t,s){const n=ln(e.schema,t),o=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,r=e.settings.allowDangerousCharacters?0:1;let i=e.quote,c;if(n.overloadedBoolean&&(s===n.attribute||s==="")?s=!0:(n.boolean||n.overloadedBoolean&&typeof s!="string")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const u=z(n.attribute,Object.assign({},e.settings.characterReferences,{subset:G.name[o][r]}));return s===!0||(s=Array.isArray(s)?(n.commaSeparated?dn:ys)(s,{padLeft:!e.settings.tightCommaSeparatedLists}):String(s),e.settings.collapseEmptyAttributes&&!s)?u:(e.settings.preferUnquoted&&(c=z(s,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:G.unquoted[o][r]}))),c!==s&&(e.settings.quoteSmart&&Fe(s,i)>Fe(s,e.alternative)&&(i=e.alternative),c=i+z(s,Object.assign({},e.settings.characterReferences,{subset:(i==="'"?G.single:G.double)[o][r],attribute:!0}))+i),u+(c&&"="+c))}const ba=["<","&"];function Et(e,t,s,n){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?e.value:z(e.value,Object.assign({},n.settings.characterReferences,{subset:ba}))}function va(e,t,s,n){return n.settings.allowDangerousHtml?e.value:Et(e,t,s,n)}function wa(e,t,s,n){return n.all(e)}const $a=Yn("type",{invalid:ja,unknown:Na,handlers:{comment:Vn,doctype:Gn,element:ga,raw:va,root:wa,text:Et}});function ja(e){throw new Error("Expected node, not `"+e+"`")}function Na(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const _a={},ka={},Ca=[];function Sa(e,t){const s=t||_a,n=s.quote||'"',o=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:Pa,all:Da,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||Wn,characterReferences:s.characterReferences||ka,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?kt:un,quote:n,alternative:o}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function Pa(e,t,s){return $a(e,t,s,this)}function Da(e){const t=[],s=e&&e.children||Ca;let n=-1;for(;++n<s.length;)t[n]=this.one(s[n],n,e);return t.join("")}function Ma(e){const t=this,s={...t.data("settings"),...e};t.compiler=n;function n(o){return Sa(o,s)}}function Ta(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const Aa=4;function Ea({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:s}){const n=Jt(),o=e.images,r=o.some(d=>d.is_proxied_image)?[]:o.map(d=>d.thumbnail_url),i=Vt({queries:r.map(d=>on(d)),combine:d=>{const l=new Set;return d.forEach((p,f)=>{p.isSuccess&&l.add(r[f])}),l}}),c=o.filter(d=>i.has(d.thumbnail_url)),u=e.images.length;if(o.some(d=>d.is_proxied_image)){const d=o.find(l=>l.is_proxied_image);return a.jsx(le,{image:d,imageSource:ie.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},d?.content_url)}if(u===0)return null;if(u===1){const d=e.images[0];return a.jsx(le,{image:d,imageSource:ie.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},d.content_url)}const h=n?c.length:Math.min(c.length,Aa);return a.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:c.slice(0,h).map((d,l)=>a.jsx("div",{className:j("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",l===0&&"rounded-l-xl",l===h-1&&"rounded-r-xl"),children:a.jsx(le,{image:d,imageSource:ie.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"h-full w-full"},d.thumbnail_url)},d.thumbnail_url))})}const It=m.memo(Ea,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((s,n)=>s.content_url===t.metadata.images[n].content_url));function le({image:e,imageSource:t,className:s,imgClassName:n,style:o,analyticsMetadata:r,trackContentReferenceEvent:i}){const c=rn(e),{isSuccess:u}=_t(c),h=m.useMemo(()=>({image_url:c,title:e?.title}),[c,e?.title]);m.useEffect(()=>{e&&u&&i(N.searchContentReferenceShown,"search_content_reference_shown","image_v2",h)},[i,e,u,h]);const d=bs.useStore(),l=e?.is_proxied_image?e.url:c;return a.jsx("button",{className:j("relative aspect-square overflow-hidden",s),style:o,onClick:()=>{i(N.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",h),d.setCurrentImage(e?{image:e,source:t,analyticsMetadata:r}:void 0)},children:e?e?.is_proxied_image||u?a.jsx(cn,{children:a.jsx("img",{src:l,alt:e?.content_url,className:j("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",n)})}):a.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):a.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}async function Ia({conversationId:e,messageId:t,assetPointerLinks:s}){return await Qt.safePost("/conversation/get_images_for_message",{requestBody:{conversation_id:e,message_id:t,asset_pointer_links:s}})}function Fa({reference:e,conversationId:t,messageId:s}){return Gt({queryKey:["inline-images",e,t,s],queryFn:async()=>{if(!e.asset_pointer_links||e.asset_pointer_links.length===0||!t)return{images:[],formats:[]};const n=await Ia({conversationId:t,messageId:s,assetPointerLinks:e.asset_pointer_links});for(let o=0;o<n.images.length;o++){const r=n.images[o],c=`image/${n.formats[o]}`,u=La(r,c);n.images[o]=u}return n}})}function La(e,t="",s=512){const n=atob(e),o=[];for(let i=0;i<n.length;i+=s){const c=n.slice(i,i+s),u=new Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d);const h=new Uint8Array(u);o.push(h)}const r=new Blob(o,{type:t});return URL.createObjectURL(r)}function Ra({reference:e,clientThreadId:t,messageId:s,trackContentReferenceEvent:n}){const o=ht(t),{data:r,isLoading:i,isError:c,error:u}=Fa({reference:e,conversationId:o,messageId:s}),h=m.useRef([]);return m.useEffect(()=>()=>{h.current.forEach(d=>{URL.revokeObjectURL(d)}),h.current=[]},[]),i||c||u||!r||!("images"in r)?null:(h.current=[],a.jsx(a.Fragment,{children:r?.images.map((d,l)=>{const p={matched_text:e.matched_text,start_idx:e.start_idx,end_idx:e.end_idx,safe_urls:e.safe_urls,alt:e.alt,prompt_text:e.prompt_text,type:"image_v2",images:[{url:d,content_url:e.clicked_from_url??"",thumbnail_url:d,title:e.clicked_from_title??"",content_size:{width:141,height:143},thumbnail_size:{width:141,height:143},is_proxied_image:!0}]};return a.jsx(It,{metadata:p,analyticsMetadata:{clientThreadId:t,messageId:s},numImageResults:1,trackContentReferenceEvent:n},`image-carousel-inline-${l}`)})}))}function Ha({attributions:e,attributionsDebug:t,children:s}){const n=bt(),o=q(),r=m.useMemo(()=>e?.map((l,p)=>({...l,originalIndex:p}))?.toSorted((l,p)=>(p.probability??0)-(l.probability??0)),[e]),i=vs(),c=ws(),u=$s(),d=t&&(t.influence_temperature!==i||t.prob_baseline!==c||t.use_sigmoid_likelihood!==u)&&e&&(u?js(e,i,c):Ns(e,i));return!r||!n?s:a.jsx(ae,{label:a.jsxs("div",{className:"text-left text-xs font-normal text-token-text-primary",children:[a.jsx("div",{className:"font-bold",children:"Attributions (Debug)"}),a.jsxs("div",{className:"grid grid-cols-[200px,1fr,1fr] gap-1",children:[a.jsx("div",{children:"Source"}),a.jsxs("div",{children:["τ=",t?.influence_temperature,", b=",t?.prob_baseline]}),a.jsx("div",{children:d&&`τ=${i}, b=${c}`}),r.map((l,p)=>{const f=l.source_type==="prior",x=f?"text-red-500":l.url?"":"text-gray-500",y=l.probability&&`${(l.probability*100).toFixed(2)}%`,v=d&&d[l.originalIndex].probability,_=v&&`${(v*100).toFixed(2)}%`;return a.jsxs(m.Fragment,{children:[a.jsx("div",{className:j("flex flex-col",x),children:f?a.jsx("div",{className:"line-clamp-1 font-bold",children:"Model Prior"}):l.url?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"line-clamp-1 font-bold",children:_e(l.url)}),"(",l.source_type,")"]}),a.jsx(I,{href:l.url,className:"line-clamp-1 text-xs",children:l.url})]}):a.jsxs("div",{className:"text-xxs line-clamp-1",children:["(",l.source_type,")"]})}),a.jsx("div",{className:x,children:y}),a.jsx("div",{className:x,children:_})]},p)})]})]}),theme:o?"default":"white",delayDuration:0,className:"inline",side:"left",interactive:!0,children:s})}function za({attribution:e}){const t=m.useContext(oe),s=_s(t?.message.id,e.attributable_index),n=bt();return a.jsx(Ua,{isHighlighted:s,isDebugMode:n,content:e.alt??"",attributableIndex:e.attributable_index,attributions:e.attributions??void 0,attributionsDebug:e.attributions_debug??void 0})}function Oa({content:e,isHighlighted:t,isDebugMode:s,attributableIndex:n,attributions:o,attributionsDebug:r}){const i=s?"hover:shadow-[-1px_0_2px_2px_rgba(255,0,0,0.4)]":void 0,c=a.jsxs(a.Fragment,{children:[s&&a.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:a.jsx(ae,{label:"Attribution Index",side:"top",children:n})}),a.jsx(Ha,{attributions:o,attributionsDebug:r,children:a.jsx(Ce,{rehypePlugins:jt,remarkPlugins:J,urlTransform:Nt,components:{p:({children:u})=>a.jsx(a.Fragment,{children:u})},children:e})})]});return a.jsx(Wa,{isHighlighted:t,className:i,children:c})}const Ua=Xt.memo(Oa);function Wa({isHighlighted:e,className:t,children:s}){return a.jsx("span",{className:j("relative","-mx-px my-[-0.2rem] rounded px-px py-[0.2rem]",e&&"bg-token-main-surface-tertiary",t),children:s})}function Ye(e,t){try{return BigInt(e).toLocaleString(t)}catch{const s=Number(e);return e.includes("e")||e.includes("E")?s.toExponential():s.toLocaleString(t,{maximumFractionDigits:6})}}function Ya({data:e,trackContentReferenceEvent:t}){m.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=es().locale;return e.expression&&e.result!=null?a.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[a.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&a.jsx("span",{children:e.prefix}),a.jsx("span",{children:Ye(e.result,s)}),e.suffix&&a.jsx("span",{children:e.suffix})]}),a.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${Ye(e.result,s)}`})]}):null}function Ba(e){return a.jsxs(ts,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[a.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function qa({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:s,FormattedText:n}){const o=S();return a.jsx(Z.Root,{isOpen:!0,onClose:s,children:a.jsx(Z.Overlay,{children:a.jsxs(Z.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[a.jsx(Z.Header,{title:o.formatMessage(Za.title),type:"success",closeButton:a.jsx(ss,{onClick:s})}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[a.jsx("div",{children:a.jsx(ks,{FormattedText:n,message:e})}),a.jsx("div",{children:a.jsx(Cs,{message:t})})]})]})})})}const Za=je({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function Va({displayInfo:e,FormattedText:t,trackContentReferenceEvent:s}){const[n,o]=m.useState(!1),r=S();return m.useEffect(()=>{s(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]),a.jsxs(a.Fragment,{children:[a.jsx(ae,{label:r.formatMessage(Ga.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:a.jsx("button",{onClick:()=>o(!0),children:a.jsx(Ba,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),n&&a.jsx(qa,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>o(!1)})]})}const Ga=je({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),Be=24;function Xa(e){const t=e.split(".");let s=e;return t.length>1&&t.slice(0,-1).some(n=>n.length>0)&&(s=t.slice(0,-1).join(".")),s.length>Be&&(s=s.slice(0,Be-1)+"…"),s}function Ka({fileRef:e,index:t,trackContentReferenceEvent:s}){const n=Ss(),o=m.useContext(oe),r=m.useMemo(()=>({source:e.source,index:t}),[e.source,t]);m.useEffect(()=>{s(N.fileCitationShown,"file_citation_shown","file",r)},[]);const i=m.useCallback(d=>{d?s(N.fileCitationHovered,"file_citation_hovered","file",r):s(N.fileCitationUnhovered,"file_citation_unhovered","file",r)},[r,s]),c=m.useCallback(()=>{s(N.fileCitationClicked,"file_citation_clicked","file",r)},[r,s]),u=m.useCallback(()=>n(e.id,e.name),[n,e.id,e.name]),h=ns(o?.analyticsMetadata.clientThreadId??os,d=>as(d?.mode));return Ps(h)?h.gizmo_id&&Ds(h.gizmo_id)?a.jsx("span",{className:j(zs,"select-none"),title:e.name,children:Xa(e.name)}):null:a.jsx(Ja,{fileItem:e,onClickDownloadFile:u,trackTooltipOpenChange:i,trackCloudLinkClick:c})}function Ja({fileItem:e,className:t,trackTooltipOpenChange:s,trackCloudLinkClick:n,onClickDownloadFile:o}){const r=vt(e.cloud_doc_url??""),i=r?.type??a.jsx($,{id:"bqY3sN",defaultMessage:"File"}),c=r?.Icon??wt,u=a.jsx(c,{alt:i,className:"h-[16px] w-[16px] object-contain"}),h=j("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",t),d=a.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?a.jsx(I,{href:e.cloud_doc_url,className:h,onClick:n,children:u}):a.jsx("button",{onClick:o,className:h,children:u})});return a.jsx(Qa,{fileItem:e,icon:a.jsx(c,{alt:i,className:"mr-2 h-[16px] w-[16px] object-contain"}),contentType:i,trackTooltipOpenChange:s,children:d})}function Qa({fileItem:e,children:t,className:s,icon:n,contentType:o,trackTooltipOpenChange:r}){const i=q();return a.jsx(ae,{label:a.jsxs(I,{href:e.cloud_doc_url,className:j("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",s),children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:n}),a.jsx("div",{className:"truncate text-token-text-primary",children:o})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:e.text})]}),onOpenChange:r,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:i?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:t})}function eo(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function to({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:a.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((s,n)=>a.jsx(so,{item:s,index:n,trackContentReferenceEvent:t},n))})}function so({item:e,index:t,trackContentReferenceEvent:s}){const n=S(),o={title:e.name,description:e.description,index:t};m.useEffect(()=>{s(N.contextualAnswersContentReferenceShown,"contextual_answers_content_reference_shown","file_navlist",o)},[]);const r=vt(e.cloud_doc_url??""),i=r?.Icon??wt,c=r?.type??a.jsx($,{id:"bqY3sN",defaultMessage:"File"});return a.jsxs(I,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.cloud_doc_url??"/",onClick:()=>{s(N.contextualAnswersContentReferenceClicked,"contextual_answers_content_reference_clicked","file_navlist",o)},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"not-prose flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(i,{className:"icon-md object-contain"}),a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-primary",children:c})]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.name}),a.jsx("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-primary",children:e.description}),e.last_modified_time&&a.jsx("div",{className:"text-sm text-token-text-secondary",children:eo(e.last_modified_time,n.locale)})]})]})}var xe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){if(n===null||n===!0||n===!1)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(xe,xe.exports);var no=xe.exports;const ao=$e(no);var ye={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}e.exports=t.default})(ye,ye.exports);var oo=ye.exports;const qe=$e(oo);function ro(e,t){var s=uo(t);return s.formatToParts?co(s,e):lo(s,e)}var io={year:0,month:1,day:2,hour:3,minute:4,second:5};function co(e,t){try{for(var s=e.formatToParts(t),n=[],o=0;o<s.length;o++){var r=io[s[o].type];r>=0&&(n[r]=parseInt(s[o].value,10))}return n}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function lo(e,t){var s=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(s);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var de={};function uo(e){if(!de[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),s=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";de[e]=s?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return de[e]}function Ft(e,t,s,n,o,r,i){var c=new Date(0);return c.setUTCFullYear(e,t,s),c.setUTCHours(n,o,r,i),c}var Ze=36e5,ho=6e4,ue={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Lt(e,t,s){var n,o;if(!e||(n=ue.timezoneZ.exec(e),n))return 0;var r;if(n=ue.timezoneHH.exec(e),n)return r=parseInt(n[1],10),Ve(r)?-(r*Ze):NaN;if(n=ue.timezoneHHMM.exec(e),n){r=parseInt(n[2],10);var i=parseInt(n[3],10);return Ve(r,i)?(o=Math.abs(r)*Ze+i*ho,n[1]==="+"?-o:o):NaN}if(po(e)){t=new Date(t||Date.now());var c=s?t:mo(t),u=be(c,e),h=s?u:fo(t,u,e);return-h}return NaN}function mo(e){return Ft(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function be(e,t){var s=ro(e,t),n=Ft(s[0],s[1]-1,s[2],s[3]%24,s[4],s[5],0).getTime(),o=e.getTime(),r=o%1e3;return o-=r>=0?r:1e3+r,n-o}function fo(e,t,s){var n=e.getTime(),o=n-t,r=be(new Date(o),s);if(t===r)return t;o-=r-t;var i=be(new Date(o),s);return r===i?r:Math.max(r,i)}function Ve(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var Ge={};function po(e){if(Ge[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Ge[e]=!0,!0}catch{return!1}}var go=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,he=36e5,Xe=6e4,xo=2,M={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:go};function ve(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var s={},n=s.additionalDigits==null?xo:ao(s.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=yo(e),r=bo(o.date,n),i=r.year,c=r.restDateString,u=vo(c,i);if(isNaN(u))return new Date(NaN);if(u){var h=u.getTime(),d=0,l;if(o.time&&(d=wo(o.time),isNaN(d)))return new Date(NaN);if(o.timeZone||s.timeZone){if(l=Lt(o.timeZone||s.timeZone,new Date(h+d)),isNaN(l))return new Date(NaN)}else l=qe(new Date(h+d)),l=qe(new Date(h+d+l));return new Date(h+d+l)}else return new Date(NaN)}function yo(e){var t={},s=M.dateTimePattern.exec(e),n;if(s?(t.date=s[1],n=s[3]):(s=M.datePattern.exec(e),s?(t.date=s[1],n=s[2]):(t.date=null,n=e)),n){var o=M.timeZone.exec(n);o?(t.time=n.replace(o[1],""),t.timeZone=o[1].trim()):t.time=n}return t}function bo(e,t){var s=M.YYY[t],n=M.YYYYY[t],o;if(o=M.YYYY.exec(e)||n.exec(e),o){var r=o[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(o=M.YY.exec(e)||s.exec(e),o){var i=o[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function vo(e,t){if(t===null)return null;var s,n,o,r;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(s=M.MM.exec(e),s)return n=new Date(0),o=parseInt(s[1],10)-1,Je(t,o)?(n.setUTCFullYear(t,o),n):new Date(NaN);if(s=M.DDD.exec(e),s){n=new Date(0);var i=parseInt(s[1],10);return No(t,i)?(n.setUTCFullYear(t,0,i),n):new Date(NaN)}if(s=M.MMDD.exec(e),s){n=new Date(0),o=parseInt(s[1],10)-1;var c=parseInt(s[2],10);return Je(t,o,c)?(n.setUTCFullYear(t,o,c),n):new Date(NaN)}if(s=M.Www.exec(e),s)return r=parseInt(s[1],10)-1,Qe(t,r)?Ke(t,r):new Date(NaN);if(s=M.WwwD.exec(e),s){r=parseInt(s[1],10)-1;var u=parseInt(s[2],10)-1;return Qe(t,r,u)?Ke(t,r,u):new Date(NaN)}return null}function wo(e){var t,s,n;if(t=M.HH.exec(e),t)return s=parseFloat(t[1].replace(",",".")),me(s)?s%24*he:NaN;if(t=M.HHMM.exec(e),t)return s=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),me(s,n)?s%24*he+n*Xe:NaN;if(t=M.HHMMSS.exec(e),t){s=parseInt(t[1],10),n=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return me(s,n,o)?s%24*he+n*Xe+o*1e3:NaN}return null}function Ke(e,t,s){t=t||0,s=s||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var o=n.getUTCDay()||7,r=t*7+s+1-o;return n.setUTCDate(n.getUTCDate()+r),n}var $o=[31,28,31,30,31,30,31,31,30,31,30,31],jo=[31,29,31,30,31,30,31,31,30,31,30,31];function Rt(e){return e%400===0||e%4===0&&e%100!==0}function Je(e,t,s){if(t<0||t>11)return!1;if(s!=null){if(s<1)return!1;var n=Rt(e);if(n&&s>jo[t]||!n&&s>$o[t])return!1}return!0}function No(e,t){if(t<1)return!1;var s=Rt(e);return!(s&&t>366||!s&&t>365)}function Qe(e,t,s){return!(t<0||t>52||s!=null&&(s<0||s>6))}function me(e,t,s){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||s!=null&&(s<0||s>=60))}function U(e,t,s){var n=ve(e,s),o=Lt(t,n,!0),r=new Date(n.getTime()-o),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}var fe={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},_o={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=fe),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var s=this.getOption(e,"sync","enabled");s&&(e.crosshair.syncEventHandler=(function(n){this.handleSyncEvent(e,n)}).bind(this),e.crosshair.resetZoomEventHandler=(function(n){var o=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===o&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var s=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,o=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,n),e.crosshair.end=e.crosshair.start===n?n+s:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===o?o-s:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,s){return Re(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][s]:void 0,fe[t][s])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var s=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===s){var n=this.getXScale(e);if(n){var o=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(o=0);var r={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:n.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:o},stop:!0};e._eventHandler(r)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let s=t.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var o=this.getXScale(e);if(o){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var r=s.native.buttons===void 0?s.native.which:s.native.buttons;s.native.type==="mouseup"&&(r=0);var i=this.getOption(e,"sync","enabled"),c=this.getOption(e,"sync","group");if(!s.stop&&i){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=c,t.original=s,t.xValue=o.getValueForPixel(s.x),window.dispatchEvent(t)}var u=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=s.stop&&u,e.crosshair.enabled=s.type!=="mouseout"&&s.x>o.getPixelForValue(o.min)&&s.x<o.getPixelForValue(o.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return s.x>o.getPixelForValue(o.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var h=this.getOption(e,"zoom","enabled");if(r===1&&!e.crosshair.dragStarted&&h&&(e.crosshair.dragStartX=s.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&r===0){e.crosshair.dragStarted=!1;var d=o.getValueForPixel(e.crosshair.dragStartX),l=o.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,d,l),e.update("none")}e.crosshair.x=s.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var o=e.data.datasets[n];o.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var r=this.getOption(e,"sync","enabled");if(!t&&s&&r){var i=this.getOption(e,"sync","group"),c=new CustomEvent("reset-zoom-event");c.chartId=e.id,c.syncGroup=i,window.dispatchEvent(c)}s&&e.update("none")},doZoom:function(e,t,s){if(t>s){var n=t;t=s,s=n}var o=Re(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,fe.callbacks.beforeZoom);if(!o(t,s))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var r=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),c=this.getOption(e,"zoom","zoomButtonClass"),u=document.createTextNode(i);r.appendChild(u),r.className=c,r.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(r),e.crosshair.button=r}e.options.scales.x.min=t,e.options.scales.x.max=s;var h=e.crosshair.originalData.length===0,d=e.config.options.scales.x.type!=="category";if(d)for(var l=0;l<e.data.datasets.length;l++){var p=[],f=0,x=!1,y=!1;h&&(e.crosshair.originalData[l]=e.data.datasets[l].data);for(var v=e.crosshair.originalData[l],_=0;_<v.length;_++){var w=v[_],P=w.x!==void 0?w.x:NaN;P>=t&&!x&&f>0&&(p.push(v[f-1]),x=!0),P>=t&&P<=s&&p.push(w),P>s&&!y&&f<v.length&&(p.push(w),y=!0),f+=1}e.data.datasets[l].data=p}if(e.crosshair.start=t,e.crosshair.end=s,h){var g=this.getXScale(e);e.crosshair.min=g.min,e.crosshair.max=g.max}e.crosshair.ignoreNextEvents=2,e.update("none");var b=this.getOption(e,"callbacks","afterZoom");b(t,s)},drawZoombox:function(e){var t=this.getYScale(e),s=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=s,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),s=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),o=this.getOption(e,"line","dashPattern"),r=this.getOption(e,"snap","enabled"),i=e.crosshair.x;r&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(o),e.ctx.moveTo(i,t.getPixelForValue(t.max)),e.ctx.lineWidth=s,e.ctx.strokeStyle=n,e.ctx.lineTo(i,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.yAxisID];n.hidden||!s.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,o.getPixelForValue(s.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=s.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.xAxisID],r=o.getValueForPixel(e.crosshair.x);if(!(n.hidden||!s.interpolate)){var i=s.data,c=i.findIndex(function(l){return l.x>=r}),u=i[c-1],h=i[c];if(e.data.datasets[t].steppedLine&&u)s.interpolatedValue=u.y;else if(u&&h){var d=(h.y-u.y)/(h.x-u.x);s.interpolatedValue=u.y+(r-u.x)*d}else s.interpolatedValue=NaN}}}};const ee=(e=1)=>`rgba(48, 166, 51, ${e})`,te=(e=1)=>`rgba(241, 77, 66, ${e})`,et="text-[#30a633]",tt="text-[#f14d42]",ko=["1d","5d","1m","6m","ytd","1y","5y","max"];function Co({histories:e,selectedInterval:t,onSelectHistoryInterval:s}){const n=Object.keys(e?.quotes??{});return a.jsx("div",{className:"inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold text-token-text-tertiary dark:bg-[#393939] sm:justify-start sm:gap-1",children:n.map(o=>a.jsx("button",{onClick:()=>{s?.(o)},className:j("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase",t===o?"rounded-lg !border-token-border-light bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:!border-token-border-medium":"hover:text-token-text-secondary"),children:Ht[o].label},o))})}const Ht={"1d":{label:"1D",formatTimestampLabel:st,formatTimestampTooltip:st,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:nt,formatTimestampTooltip:Po,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:nt,formatTimestampTooltip:Do,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:pe,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:pe,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:pe,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:at,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:at,formatTimestampTooltip:W,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function So(e){return e?ko.filter(s=>s in e.quotes).find(s=>e.quotes[s].length>0):void 0}function R(e,t){return U(new Date(e*1e3),t??"America/New_York")}function st(e,t,s){const n=R(t,s);return e.formatTime(n,{hour:"numeric",minute:"numeric"})}function Po(e,t,s){const n=R(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function W(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}function pe(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",year:"numeric"})}function nt(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",day:"numeric"})}function Do(e,t,s){const n=R(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric"})}function at(e,t,s){const n=R(t,s);return e.formatDate(n,{year:"numeric"})}pn.register(gn,xn,yn,bn,vn,wn,$n,jn,Nn,_o,_n);const Mo=100,ot={color:"#b4b4b4",font:{size:10,weight:"600",family:"Menlo"}};function To({isUp:e,histories:t,selectedInterval:s,setHighlightedPrice:n,latestTradingPeriod:o,timezone:r}){return a.jsx(a.Fragment,{children:t&&s&&o?a.jsx(Ao,{isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:o,timezone:r,setHighlightedPrice:n}):a.jsx(Y,{className:"h-full",index:1,width:100})})}function Ao({isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:n,timezone:o,setHighlightedPrice:r}){const[i,c]=m.useState(null),[u,h]=m.useState(!1),d=s==="1d",l=m.useMemo(()=>{let g=t.quotes[s].filter(b=>b.close>=0);if(d&&n){const b=n.regular.start_timestamp,k=n.regular.end_timestamp;if(g=g.filter(D=>D.timestamp>=b&&D.timestamp<=k),g.length===0||g[g.length-1].timestamp<k){let H=g.length>0?g[g.length-1].timestamp:b-600;for(;H<k;)H+=600,g.push({timestamp:H,close:null})}}return g},[t,s,d,n]),p=Ht[s],{formatTimestampTooltip:f,maxTicksLimit:x,useUtc:y=!1}=p,v=S(),_=mt(),w=q(),P=m.useMemo(()=>{const{formatTimestampLabel:g,lineTension:b}=p;return{labels:l.map(k=>g(v,k.timestamp,y?"UTC":o)),datasets:[{data:l.map(k=>k.close),borderColor:e?ee():te(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?ee():te(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function(k){const{ctx:D,chartArea:H}=k.chart;if(H)return Io(D,H,e)},fill:!0,borderWidth:2,lineTension:b??.4}]}},[p,l,e,y,o,v]);return a.jsx("div",{className:"flex h-full flex-col gap-6",children:a.jsxs("div",{className:"relative h-full",onMouseEnter:()=>h(!0),onMouseLeave:()=>{h(!1),r(null)},children:[a.jsx(kn,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:u?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:g=>{if(g.ticks.length>x)if(d)g.ticks=g.ticks.filter((b,k)=>l[k].timestamp%(_?3600:7200)===0);else{const b=Math.ceil(g.ticks.length/(x-1));g.ticks=g.ticks.filter((k,D)=>D>0&&(D%b===0||D===g.ticks.length-1))}},grid:{display:!1},ticks:{...ot,align:"end"}},y:{ticks:{...ot,maxTicksLimit:7},border:{display:!1},grid:{color:w?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(g){const b=g[0];if(!b)return"";const k=l[b.dataIndex]?.timestamp;return k?f(v,k,y?"UTC":o):""}},external:({tooltip:g})=>{u&&g.opacity>0&&r(B(g.dataPoints?.[0]?.parsed?.y??0)),c(b=>{const k=g.chart.width,D=g.caretX>k-Mo;return!b||b.x!==g.caretX||b.y!==g.caretY||b.opacity!==g.opacity||b.flip!==D?{...b,x:g.caretX,y:g.caretY,dateLabel:g.title?.[0],value:B(g.dataPoints?.[0]?.parsed?.y??0),opacity:g.opacity,flip:D}:b})}},dropShadow:!1,crosshair:{line:{color:w?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:P}),a.jsx(Eo,{tooltipData:i})]})})}function Eo({tooltipData:e}){return!e||!e.opacity?null:a.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:j("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap rounded-lg bg-black px-2 py-1 font-mono font-semibold text-token-main-surface-primary dark:bg-token-main-surface-secondary dark:text-white"),children:a.jsx("div",{className:"text-xs",children:e.dateLabel})})}function Io(e,t,s){const n=e.createLinearGradient(0,t.top,0,t.bottom);return n.addColorStop(0,s?ee(.4):te(.4)),n.addColorStop(1,s?ee(0):te(0)),n}function B(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function X({label:e,value:t}){return a.jsxs("div",{className:"flex w-max flex-1 flex-col gap-1 text-sm",children:[a.jsx("span",{className:"whitespace-nowrap font-normal text-token-text-secondary",children:e}),a.jsx("span",{className:"whitespace-nowrap font-semibold text-token-text-primary",children:t})]})}function Fo({data:e}){const t=S();return a.jsxs("div",{className:"flex flex-col gap-1 rounded-xl pt-2",children:[a.jsx("div",{className:"py-2 text-sm font-semibold text-token-text-primary",children:t.formatMessage({id:"6MpNPe",defaultMessage:"Key Metrics"})}),a.jsx("hr",{className:"m-0 border-token-border-xlight"}),a.jsxs("div",{className:"flex w-full flex-row flex-wrap gap-8 py-3",children:[a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(X,{label:t.formatMessage({id:"MDHEj7",defaultMessage:"Open"}),value:t.formatNumber(e.openPrice,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx(X,{label:t.formatMessage({id:"uBKgbo",defaultMessage:"Day Range"}),value:t.formatMessage({id:"8LyBkV",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.intradayLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.intradayHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})})]}),a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(X,{label:t.formatMessage({id:"/h0itm",defaultMessage:"52 Week Range"}),value:t.formatMessage({id:"VkpWnl",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.fiftyTwoWeekLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.fiftyTwoWeekHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})}),a.jsx(X,{label:t.formatMessage({id:"PboNMC",defaultMessage:"Volume"}),value:t.formatNumber(e.intradayVolume,{notation:"compact",maximumFractionDigits:1})})]})]})]})}function Lo({data:e,priceChange:t,highlightedPrice:s,extendedPriceChange:n,url:o}){function r(i,c="intraday",u=null){const{isUp:h,changePercentage:d,changeLabel:l,changeAmount:p}=i,f=Math.abs(d).toFixed(2),x=B(p);return a.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[c==="extended_hours"&&u!=null&&a.jsx("span",{className:"font-semibold",children:a.jsx($,{id:"HWwWpW",defaultMessage:"{price}",values:{price:u}})}),a.jsx("span",{className:j("font-semibold",h?et:tt),children:a.jsx($,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:x,sign:h?"+":""}})}),a.jsx("span",{className:j("font-semibold",h?et:tt),children:a.jsx($,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:f,sign:h?"+":"-"}})}),c==="extended_hours"?a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:l}):a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:l})]})}return a.jsxs("div",{children:[a.jsx("div",{className:"mt-2 text-sm",children:e?a.jsx($,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):a.jsx("div",{className:"w-32 font-medium",children:a.jsx(Y,{index:9,width:100})})}),a.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?a.jsx(a.Fragment,{children:o!=null&&a.jsxs(a.Fragment,{children:[" · ",a.jsx(I,{href:o,className:"text-token-link hover:underline",children:_e(o,"hostname")})]})}):a.jsx("div",{className:"mt-2 w-36",children:a.jsx(Y,{index:6,width:100})})}),a.jsx("div",{className:"mt-2 flex text-4xl font-semibold",children:e?a.jsx($,{id:"s+1uly",defaultMessage:"{price}",values:{price:s??B(e.price.price)}}):a.jsx("div",{className:"w-32",children:a.jsx(Y,{index:0,width:100})})}),a.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:t?r(t):a.jsx("div",{className:"mt-2 w-40",children:a.jsx(Y,{index:3,width:100})})}),a.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&n!=null&&r(n,"extended_hours",B(e.price.extended_price))})]})}function Ro({contentReference:e,trackContentReferenceEvent:t}){const s=S();m.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown","stock")},[t]);const n=So(e?.stock?.histories),o=e?.stock,[r,i]=m.useState(n),[c,u]=m.useState(null),h=r==="1d",d=o?.histories?.quotes?.[r??""]?.[0],l=r&&r in K?r:void 0,p=o&&(d&&!h?{changePercentage:(o.price.price-d.close)/d.close*100,changeAmount:o.price.price-d.close,changeLabel:l?s.formatMessage(K[l]):"",isUp:o.price.price>d.close}:o.price.change_percent&&o.price.change?{changePercentage:o.price.change_percent*100,changeAmount:o.price.change,changeLabel:zo(o.price.latest_trade_timestamp,o.asset.timezone,s),isUp:o.price.change?o.price.change>0:!1}:null),f=o&&o.price.extended_price!=null&&o.price.extended_change_percent!=null&&o.price.extended_change!=null?{changePercentage:o.price.extended_change_percent*100,changeAmount:o.price.extended_change,changeLabel:s.formatMessage(Ho(o.price.market_status)??K.extended),isUp:o.price.extended_change>0}:null,{fiftyTwoWeekHigh:x,fiftyTwoWeekLow:y}=m.useMemo(()=>{const w=o?.histories?.quotes["1y"];if(!w)return{fiftyTwoWeekHigh:null,fiftyTwoWeekLow:null};const P=w.map(b=>b.high).filter(b=>b!=null),g=w.map(b=>b.low).filter(b=>b!=null);return{fiftyTwoWeekHigh:P.length>0?Math.max(...P):null,fiftyTwoWeekLow:g.length>0?Math.min(...g):null}},[o?.histories?.quotes]),v=o?.price.open_price&&o.price.intraday_high&&o.price.intraday_low&&o.price.intraday_volume&&x&&y?{openPrice:o.price.open_price,intradayHigh:o.price.intraday_high,intradayLow:o.price.intraday_low,intradayVolume:o.price.intraday_volume,fiftyTwoWeekHigh:x,fiftyTwoWeekLow:y}:null,_=v!=null;return a.jsxs("div",{className:j("flex flex-col gap-8",_?"min-h-[620px]":"h-[480px]"),children:[a.jsxs("div",{className:"flex flex-wrap items-end justify-between",children:[a.jsx(Lo,{data:o??null,highlightedPrice:c,priceChange:p??null,extendedPriceChange:f??null,url:e?.url??null}),a.jsx("div",{className:"mt-4",children:a.jsx(Co,{selectedInterval:r,onSelectHistoryInterval:i,histories:o?.histories})})]}),a.jsx("div",{className:_?"h-[340px]":"h-full",children:a.jsx(To,{isUp:p?.isUp??!1,selectedInterval:r,histories:o?.histories,setHighlightedPrice:u,onSelectHistoryInterval:w=>i(w),latestTradingPeriod:o?.asset.latest_trading_period,timezone:o?.asset.timezone??null})}),_&&a.jsx("div",{className:"-mt-4 mb-2",children:a.jsx(Fo,{data:v})})]})}function Ho(e){if(e==null)return null;const t=e.toLowerCase();return t==="premarket"||t==="open"?re({id:"By+pvF",defaultMessage:"Pre-Market"}):t==="afterhours"||t==="closed"?re({id:"aLCg3c",defaultMessage:"After Hours"}):re({id:"2p526c",defaultMessage:"Extended Hours"})}function zo(e,t,s){function n(o,r){const c=U(new Date,r),u=s.formatDate(c,{year:"numeric",month:"2-digit",day:"2-digit"}),h=ve(o*1e3),d=U(h,r),l=s.formatDate(d,{year:"numeric",month:"2-digit",day:"2-digit"});return u===l}if(!e||!t||n(e,t))return s.formatMessage(K["1d"]);{const o=ve(e*1e3),r=U(o,t);return s.formatDate(r,{month:"long",day:"numeric"})}}const K=je({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),Oo={google_maps:{title:"Google Maps"}};function Uo({metadata:e,trackContentReferenceEvent:t}){m.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=Oo[e.provider]?.title??"Maps";return a.jsx("span",{children:a.jsx($,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:a.jsx(I,{href:e.url,children:s})}})})}function Wo({metadata:e,trackContentReferenceEvent:t}){return m.useEffect(()=>{e.items.length>0&&t(N.searchContentReferenceShown,"search_content_reference_shown","nav_list")},[]),e.items.length===0?null:a.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&a.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((s,n)=>a.jsx(Yo,{item:s,index:n,trackContentReferenceEvent:t},n))]})}function Yo({item:e,index:t,trackContentReferenceEvent:s}){const{isSuccess:n}=_t(e.thumbnail_url??void 0),o={url:e.url,title:e.title,section_index:t,link_type:"text",section:"nav_list",section_location:"response"};m.useEffect(()=>{s(N.linkAction,"link_action","nav_list",{...o,action:"show"})},[]);const i=S().locale,c=e.pub_date!=null?new Date(e.pub_date*1e3):null,u=new Intl.RelativeTimeFormat(i,{numeric:"auto"}),h=c?Math.max(Math.floor((Date.now()-c.getTime())/(1e3*60*60*24)),0):null;let d=h!=null?u.format(-h,"day"):null;return i.startsWith("en")&&d&&(d=d.charAt(0).toUpperCase()+d.slice(1)),a.jsxs(I,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{s(N.linkAction,"link_action","nav_list",{...o,action:"click"})},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx($t,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??_e(e.url)]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),d&&a.jsx("div",{className:"text-xs text-token-text-tertiary",children:d})]}),n&&e.thumbnail_url&&a.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:a.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const Bo=5;function qo({sourcesFootnote:e,onShowSearchResults:t,trackContentReferenceEvent:s}){const n={urls:e.sources.map(o=>o.url).toString(),has_images:e.has_images};return m.useEffect(()=>{s(N.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",n)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute h-[60px]",children:a.jsxs("button",{className:j("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{s(N.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",n),t(Ms.Sources,e.sources.length>0?Ae.Citations:Ae.SearchResults)},children:[a.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:a.jsx($,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&a.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,Bo).reverse().map((o,r)=>a.jsx("div",{className:j("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:a.jsx($t,{url:o.url,size:32,minSize:16,className:"icon-md"})},r))})]})}),a.jsx("div",{className:"h-[60px]"})]})}function E(e,t){const s=Ts(e),n=t<0?"-":"+",o=Math.abs(t),r=Math.floor(o/3600).toString().padStart(2,"0"),i=Math.floor(o%3600/60).toString().padStart(2,"0"),c=`${n}${r}:${i}`;return U(s,c)}function we(e,t){if(Ee(t))return a.jsx($,{id:"wxni9H",defaultMessage:"Today"});const s=new Date;return s.setTime(s.getTime()+7*24*60*60*1e3),t<s&&t>new Date||Ee(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const Zo="webp",Vo=250,Go=187,Xo="srgb",Ko=4,Jo="uchar",Qo=72,er=!1,tr=!1,sr=!0,nr="{{.assetPrefix}}/assets/missing-logo-h96s4tk9.webp",rt={format:Zo,width:Vo,height:Go,space:Xo,channels:Ko,depth:Jo,density:Qo,isProgressive:er,hasProfile:tr,hasAlpha:sr,src:nr};function zt({team:e,className:t}){const[s,n]=m.useState(e.logo??rt.src),o=()=>{ft.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),n(rt.src)};return a.jsx("img",{src:s,alt:e.name,className:t,onError:o})}const it=6;function ar({scheduleRef:e,trackContentReferenceEvent:t}){const[s,n]=m.useState(!0),o=S(),r=e.games.length>0;if(m.useEffect(()=>{r&&t(N.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[r]),!r)return null;const c=(o.formatDateToParts(new Date,{timeZoneName:"long"}).find(l=>l.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let u=e.games;const h=l=>Math.abs(new Date().getTime()-new Date(l.date).getTime());h(u[0])>h(u[u.length-1])&&(u=u.slice().reverse());const d=s?u.slice(0,it):u;return a.jsxs("div",{className:"not-prose mb-3",children:[a.jsx("div",{className:"font-semibold",children:a.jsx($,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),a.jsx("div",{className:"text-sm text-token-text-secondary",children:c}),d.length===1?a.jsx("div",{children:a.jsx(Me,{children:a.jsx(Te.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:a.jsx(rr,{game:d[0]})})})})}):a.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:a.jsx(Me,{children:d.map((l,p)=>a.jsx(Te.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:p*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:j("border-b border-token-border-medium py-3",p%2===0&&"lg:border-r lg:pr-4",p%2===1&&"lg:pl-4",Math.floor(p/2)===Math.ceil(u.length/2)-1&&"lg:border-b-0",p===u.length-1&&"border-b-0"),children:a.jsx(or,{game:l})})},p))})}),u.length>it&&a.jsx("div",{className:"mt-2 flex items-center justify-between",children:a.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!s),children:s?a.jsx($,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:a.jsx(As,{className:"mb-[-2px]"})}}):a.jsx($,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:a.jsx(Es,{className:"mb-[-2px]"})}})})})]})}function or({game:e}){const t=Ut(e),s=[e.first_team_info,e.second_team_info],n=s.find(c=>c.location==="home")??e.first_team_info,o=s.find(c=>c.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,i=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[a.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pr-3",children:[a.jsx(se,{team:o.team,isWinner:i,logoSize:"small"}),a.jsx(se,{team:n.team,isWinner:r,logoSize:"small"})]}),a.jsxs("div",{className:"flex flex-none flex-col items-start gap-1",children:[a.jsx(ne,{score:o.score,isWinner:i}),a.jsx(ne,{score:n.score,isWinner:r})]}),a.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:a.jsx(Wt,{game:e})})]})}function rr({game:e}){const t=Ut(e),s=[e.first_team_info,e.second_team_info],n=s.find(c=>c.location==="home")??e.first_team_info,o=s.find(c=>c.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,i=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full py-3 text-base",children:[a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(se,{team:o.team,isWinner:i})}),a.jsx("div",{className:"ml-8 flex items-center justify-start",children:a.jsx(ne,{score:o.score,isWinner:i,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:a.jsx(Wt,{game:e})}),a.jsx("div",{className:"mr-8 flex items-center justify-end",children:a.jsx(ne,{score:n.score,isWinner:r,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(se,{team:n.team,isWinner:r})})]})}function Ot(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function Ut(e){return Ot(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function se({team:e,isWinner:t,logoSize:s}){return a.jsxs("span",{className:j("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&a.jsx(zt,{team:{name:e.name,logo:e.logo},className:j(s==="small"?"w-6":"w-8")}),a.jsx("span",{className:"truncate",children:e.name})]})}function ne({score:e,isWinner:t,className:s}){return e==null?null:a.jsx("span",{className:j(t&&"font-semibold",s),children:e})}function Wt({game:e}){const t=S();switch(Ot(e)){case"live":return a.jsxs(a.Fragment,{children:[a.jsx(ir,{}),a.jsx("div",{children:e.details})]});case"complete":return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-semibold",children:a.jsx($,{id:"q/iMZL",defaultMessage:"Final"})}),a.jsx("div",{className:"text-token-text-secondary",children:we(t,new Date(e.date))})]});case"scheduled":{const s=new Date(e.date);return isNaN(s.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{children:we(t,s)}),a.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(s,{timeStyle:"short"})})]})}}}function ir(){return a.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:a.jsx($,{id:"vObALn",defaultMessage:"Live"})})}function cr({standingsRef:e,trackContentReferenceEvent:t}){const[s,n]=m.useState(0),o=e.conferences.length>0;m.useEffect(()=>{o&&t(N.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[o]);const r=e.conferences[s],i=e.conferences.length>1?e.conferences.map((c,u)=>a.jsx("button",{className:j(s===u?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(u),children:c.name},c.name)):null;return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"flex gap-4",children:i}),a.jsx("div",{className:"mt-3",children:r.divisions.map(c=>c.name?a.jsx("div",{className:"mt-3",children:a.jsx(ct,{division:c,teamsColumnHeader:c.name})},c.name):a.jsx(ct,{division:c}))})]})}function ct({division:e,teamsColumnHeader:t}){const s=e.headers.map(n=>n.key);return a.jsxs(T.Root,{size:"compact",className:"not-prose",children:[a.jsxs(T.Header,{children:[a.jsx(lr,{children:t??a.jsx($,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(n=>a.jsx(Yt,{textAlign:"center",className:"min-w-11 !px-0",children:a.jsx(lt,{data:n})},n.key))]}),a.jsx(T.Body,{children:e.teams.map(({team:n,data:o},r)=>{const i=o.reduce((c,u)=>(c[u.key]=u,c),{});return a.jsxs(T.Row,{children:[a.jsx(T.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:r+1}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsx(zt,{team:n,className:"w-6"}),a.jsx("span",{className:"whitespace-nowrap text-base",children:n.name})]})]})}),s.map(c=>a.jsx(T.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:a.jsx(lt,{data:i[c]})},c))]},n.name)})})]})}function lt({data:e}){switch(e.type){case"text":return a.jsx(a.Fragment,{children:e.text});default:return a.jsx(a.Fragment,{children:e.alt})}}const Yt=pt(T.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,lr=pt(Yt)`text-token-text-primary !pl-0`;function dr({metadata:e,trackContentReferenceEvent:t}){m.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=S(),n=U(e.utc_time,e.utc_offset),o=s.formatDate(n,{hour:"numeric",minute:"numeric"});return a.jsx("span",{children:o})}function ur({metadata:e,trackContentReferenceEvent:t}){return m.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),a.jsx("div",{children:e.url?a.jsx(Os,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:a.jsx(I,{href:e.url,className:"!font-semibold",children:e.description})}):a.jsx("div",{className:"!font-semibold",children:e.description})})}function hr({url:e,className:t}){let s;const n="aspect-video w-full rounded-lg",o=mr(e);o&&(s=a.jsx(fr,{videoId:o,className:n}));const r=pr(e);return r&&(s=a.jsx(gr,{videoId:r,className:n})),s?a.jsx("div",{className:t,children:s}):null}function mr(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,s=e.match(t);return s?s[1]:null}function fr({videoId:e,className:t}){return a.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function pr(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,s=e.match(t);return s?s[1]:null}function gr({videoId:e,className:t}){return a.jsx(a.Fragment,{children:a.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function xr({video:e,trackContentReferenceEvent:t}){const s={url:e.url,title:e.title};return m.useEffect(()=>{t(N.searchContentReferenceShown,"search_content_reference_shown",e.type,s)},[]),e.url==null||e.url===""?null:a.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:a.jsx(hr,{url:e.url})})}const yr=e=>m.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34354 4.92894C6.7341 5.31946 6.7341 5.95263 6.34354 6.34315C3.21906 9.46735 3.21906 14.5327 6.34354 17.6569C6.7341 18.0474 6.7341 18.6806 6.34354 19.0711C5.95298 19.4616 5.31976 19.4616 4.9292 19.0711C1.0236 15.1658 1.0236 8.83418 4.9292 4.92894C5.31976 4.53842 5.95298 4.53842 6.34354 4.92894ZM17.6583 4.92894C18.0488 4.53842 18.682 4.53842 19.0726 4.92894C22.9782 8.83418 22.9782 15.1658 19.0726 19.0711C18.682 19.4616 18.0488 19.4616 17.6583 19.0711C17.2677 18.6806 17.2677 18.0474 17.6583 17.6569C20.7827 14.5327 20.7827 9.46735 17.6583 6.34315C17.2677 5.95263 17.2677 5.31946 17.6583 4.92894Z",fill:"currentColor"}),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17222 7.75737C9.56278 8.14789 9.56278 8.78106 9.17222 9.17158C7.60998 10.7337 7.60998 13.2663 9.17222 14.8284C9.56278 15.219 9.56278 15.8521 9.17222 16.2426C8.78166 16.6332 8.14844 16.6332 7.75788 16.2426C5.41452 13.8995 5.41452 10.1005 7.75788 7.75737C8.14844 7.36684 8.78166 7.36684 9.17222 7.75737ZM14.8296 7.75737C15.2201 7.36684 15.8534 7.36684 16.2439 7.75737C18.5873 10.1005 18.5873 13.8995 16.2439 16.2426C15.8534 16.6332 15.2201 16.6332 14.8296 16.2426C14.439 15.8521 14.439 15.219 14.8296 14.8284C16.3918 13.2663 16.3918 10.7337 14.8296 9.17158C14.439 8.78106 14.439 8.14789 14.8296 7.75737Z",fill:"currentColor"}),m.createElement("path",{d:"M14.0011 12C14.0011 13.1046 13.1056 14 12.0009 14C10.8962 14 10.0007 13.1046 10.0007 12C10.0007 10.8954 10.8962 10 12.0009 10C13.1056 10 14.0011 10.8954 14.0011 12Z",fill:"currentColor"})),br="webp",vr=96,wr=96,$r="srgb",jr=4,Nr="uchar",_r=288,kr=!1,Cr=!1,Sr=!0,Pr="{{.assetPrefix}}/assets/cloud-foggy-o4a3hmky.webp",Dr={format:br,width:vr,height:wr,space:$r,channels:jr,depth:Nr,density:_r,isProgressive:kr,hasProfile:Cr,hasAlpha:Sr,src:Pr},Mr="webp",Tr=96,Ar=96,Er="srgb",Ir=4,Fr="uchar",Lr=288,Rr=!1,Hr=!1,zr=!0,Or="{{.assetPrefix}}/assets/cloudy-co8vwrk7.webp",Ur={format:Mr,width:Tr,height:Ar,space:Er,channels:Ir,depth:Fr,density:Lr,isProgressive:Rr,hasProfile:Hr,hasAlpha:zr,src:Or},Wr="webp",Yr=96,Br=96,qr="srgb",Zr=4,Vr="uchar",Gr=288,Xr=!1,Kr=!1,Jr=!0,Qr="{{.assetPrefix}}/assets/heavy-snow-mke52kag.webp",ei={format:Wr,width:Yr,height:Br,space:qr,channels:Zr,depth:Vr,density:Gr,isProgressive:Xr,hasProfile:Kr,hasAlpha:Jr,src:Qr},ti="webp",si=96,ni=96,ai="srgb",oi=4,ri="uchar",ii=288,ci=!1,li=!1,di=!0,ui="{{.assetPrefix}}/assets/light-snow-mcy1l7t9.webp",hi={format:ti,width:si,height:ni,space:ai,channels:oi,depth:ri,density:ii,isProgressive:ci,hasProfile:li,hasAlpha:di,src:ui},mi="webp",fi=96,pi=96,gi="srgb",xi=4,yi="uchar",bi=288,vi=!1,wi=!1,$i=!0,ji="{{.assetPrefix}}/assets/moon-drizzle-cplxr2ub.webp",Ni={format:mi,width:fi,height:pi,space:gi,channels:xi,depth:yi,density:bi,isProgressive:vi,hasProfile:wi,hasAlpha:$i,src:ji},_i="webp",ki=96,Ci=96,Si="srgb",Pi=4,Di="uchar",Mi=288,Ti=!1,Ai=!1,Ei=!0,Ii="{{.assetPrefix}}/assets/moon-hazy-jvgt25bp.webp",Fi={format:_i,width:ki,height:Ci,space:Si,channels:Pi,depth:Di,density:Mi,isProgressive:Ti,hasProfile:Ai,hasAlpha:Ei,src:Ii},Li="webp",Ri=96,Hi=96,zi="srgb",Oi=4,Ui="uchar",Wi=288,Yi=!1,Bi=!1,qi=!0,Zi="{{.assetPrefix}}/assets/moon-mostly-cloudy-cia3do0v.webp",Vi={format:Li,width:Ri,height:Hi,space:zi,channels:Oi,depth:Ui,density:Wi,isProgressive:Yi,hasProfile:Bi,hasAlpha:qi,src:Zi},Gi="webp",Xi=96,Ki=96,Ji="srgb",Qi=4,ec="uchar",tc=288,sc=!1,nc=!1,ac=!0,oc="{{.assetPrefix}}/assets/moon-mostly-sunny-n3mh1b6a.webp",rc={format:Gi,width:Xi,height:Ki,space:Ji,channels:Qi,depth:ec,density:tc,isProgressive:sc,hasProfile:nc,hasAlpha:ac,src:oc},ic="webp",cc=96,lc=96,dc="srgb",uc=4,hc="uchar",mc=288,fc=!1,pc=!1,gc=!0,xc="{{.assetPrefix}}/assets/moon-shower-ntzhti9o.webp",yc={format:ic,width:cc,height:lc,space:dc,channels:uc,depth:hc,density:mc,isProgressive:fc,hasProfile:pc,hasAlpha:gc,src:xc},bc="webp",vc=96,wc=96,$c="srgb",jc=4,Nc="uchar",_c=288,kc=!1,Cc=!1,Sc=!0,Pc="{{.assetPrefix}}/assets/moon-sunny-eg2emh4d.webp",Dc={format:bc,width:vc,height:wc,space:$c,channels:jc,depth:Nc,density:_c,isProgressive:kc,hasProfile:Cc,hasAlpha:Sc,src:Pc},Mc="webp",Tc=96,Ac=96,Ec="srgb",Ic=4,Fc="uchar",Lc=288,Rc=!1,Hc=!1,zc=!0,Oc="{{.assetPrefix}}/assets/rain-thunder-bx7a0l5g.webp",Uc={format:Mc,width:Tc,height:Ac,space:Ec,channels:Ic,depth:Fc,density:Lc,isProgressive:Rc,hasProfile:Hc,hasAlpha:zc,src:Oc},Wc="webp",Yc=96,Bc=96,qc="srgb",Zc=4,Vc="uchar",Gc=288,Xc=!1,Kc=!1,Jc=!0,Qc="{{.assetPrefix}}/assets/rain-cxs76xuj.webp",el={format:Wc,width:Yc,height:Bc,space:qc,channels:Zc,depth:Vc,density:Gc,isProgressive:Xc,hasProfile:Kc,hasAlpha:Jc,src:Qc},tl="webp",sl=96,nl=96,al="srgb",ol=4,rl="uchar",il=288,cl=!1,ll=!1,dl=!0,ul="{{.assetPrefix}}/assets/sleet-gc63vwmo.webp",hl={format:tl,width:sl,height:nl,space:al,channels:ol,depth:rl,density:il,isProgressive:cl,hasProfile:ll,hasAlpha:dl,src:ul},ml="webp",fl=96,pl=96,gl="srgb",xl=4,yl="uchar",bl=288,vl=!1,wl=!1,$l=!0,jl="{{.assetPrefix}}/assets/snow-d0k6tmmc.webp",Nl={format:ml,width:fl,height:pl,space:gl,channels:xl,depth:yl,density:bl,isProgressive:vl,hasProfile:wl,hasAlpha:$l,src:jl},_l="webp",kl=96,Cl=96,Sl="srgb",Pl=4,Dl="uchar",Ml=288,Tl=!1,Al=!1,El=!0,Il="{{.assetPrefix}}/assets/sun-drizzle-g94obr5e.webp",Fl={format:_l,width:kl,height:Cl,space:Sl,channels:Pl,depth:Dl,density:Ml,isProgressive:Tl,hasProfile:Al,hasAlpha:El,src:Il},Ll="webp",Rl=96,Hl=96,zl="srgb",Ol=4,Ul="uchar",Wl=288,Yl=!1,Bl=!1,ql=!0,Zl="{{.assetPrefix}}/assets/sun-hazy-c3z1j0hy.webp",Vl={format:Ll,width:Rl,height:Hl,space:zl,channels:Ol,depth:Ul,density:Wl,isProgressive:Yl,hasProfile:Bl,hasAlpha:ql,src:Zl},Gl="webp",Xl=96,Kl=96,Jl="srgb",Ql=4,ed="uchar",td=288,sd=!1,nd=!1,ad=!0,od="{{.assetPrefix}}/assets/sun-mostly-cloudy-d4o4zkga.webp",rd={format:Gl,width:Xl,height:Kl,space:Jl,channels:Ql,depth:ed,density:td,isProgressive:sd,hasProfile:nd,hasAlpha:ad,src:od},id="webp",cd=96,ld=96,dd="srgb",ud=4,hd="uchar",md=288,fd=!1,pd=!1,gd=!0,xd="{{.assetPrefix}}/assets/sun-mostly-sunny-livrdkgu.webp",yd={format:id,width:cd,height:ld,space:dd,channels:ud,depth:hd,density:md,isProgressive:fd,hasProfile:pd,hasAlpha:gd,src:xd},bd="webp",vd=96,wd=96,$d="srgb",jd=4,Nd="uchar",_d=288,kd=!1,Cd=!1,Sd=!0,Pd="{{.assetPrefix}}/assets/sun-shower-lvtjthah.webp",Dd={format:bd,width:vd,height:wd,space:$d,channels:jd,depth:Nd,density:_d,isProgressive:kd,hasProfile:Cd,hasAlpha:Sd,src:Pd},Md="webp",Td=96,Ad=96,Ed="srgb",Id=4,Fd="uchar",Ld=288,Rd=!1,Hd=!1,zd=!0,Od="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",Ud={format:Md,width:Td,height:Ad,space:Ed,channels:Id,depth:Fd,density:Ld,isProgressive:Rd,hasProfile:Hd,hasAlpha:zd,src:Od},Wd="webp",Yd=96,Bd=96,qd="srgb",Zd=4,Vd="uchar",Gd=288,Xd=!1,Kd=!1,Jd=!0,Qd="{{.assetPrefix}}/assets/thunder-jgjqg9ai.webp",eu={format:Wd,width:Yd,height:Bd,space:qd,channels:Zd,depth:Vd,density:Gd,isProgressive:Xd,hasProfile:Kd,hasAlpha:Jd,src:Qd},tu="webp",su=96,nu=96,au="srgb",ou=4,ru="uchar",iu=288,cu=!1,lu=!1,du=!0,uu="{{.assetPrefix}}/assets/tornado-opa24tq3.webp",hu={format:tu,width:su,height:nu,space:au,channels:ou,depth:ru,density:iu,isProgressive:cu,hasProfile:lu,hasAlpha:du,src:uu},mu="webp",fu=96,pu=96,gu="srgb",xu=4,yu="uchar",bu=288,vu=!1,wu=!1,$u=!0,ju="{{.assetPrefix}}/assets/windy-mw0a3u21.webp",Nu={format:mu,width:fu,height:pu,space:gu,channels:xu,depth:yu,density:bu,isProgressive:vu,hasProfile:wu,hasAlpha:$u,src:ju},_u="webp",ku=96,Cu=96,Su="srgb",Pu=4,Du="uchar",Mu=288,Tu=!1,Au=!1,Eu=!0,Iu="{{.assetPrefix}}/assets/cloud-foggy-fhg0jn0w.webp",Fu={format:_u,width:ku,height:Cu,space:Su,channels:Pu,depth:Du,density:Mu,isProgressive:Tu,hasProfile:Au,hasAlpha:Eu,src:Iu},Lu="webp",Ru=96,Hu=96,zu="srgb",Ou=4,Uu="uchar",Wu=288,Yu=!1,Bu=!1,qu=!0,Zu="{{.assetPrefix}}/assets/cloudy-disd26f3.webp",Vu={format:Lu,width:Ru,height:Hu,space:zu,channels:Ou,depth:Uu,density:Wu,isProgressive:Yu,hasProfile:Bu,hasAlpha:qu,src:Zu},Gu="webp",Xu=96,Ku=96,Ju="srgb",Qu=4,eh="uchar",th=288,sh=!1,nh=!1,ah=!0,oh="{{.assetPrefix}}/assets/heavy-snow-g6jjwo2d.webp",rh={format:Gu,width:Xu,height:Ku,space:Ju,channels:Qu,depth:eh,density:th,isProgressive:sh,hasProfile:nh,hasAlpha:ah,src:oh},ih="webp",ch=96,lh=96,dh="srgb",uh=4,hh="uchar",mh=288,fh=!1,ph=!1,gh=!0,xh="{{.assetPrefix}}/assets/light-snow-iz0efpkh.webp",yh={format:ih,width:ch,height:lh,space:dh,channels:uh,depth:hh,density:mh,isProgressive:fh,hasProfile:ph,hasAlpha:gh,src:xh},bh="webp",vh=96,wh=96,$h="srgb",jh=4,Nh="uchar",_h=288,kh=!1,Ch=!1,Sh=!0,Ph="{{.assetPrefix}}/assets/moon-drizzle-b1nfv39c.webp",Dh={format:bh,width:vh,height:wh,space:$h,channels:jh,depth:Nh,density:_h,isProgressive:kh,hasProfile:Ch,hasAlpha:Sh,src:Ph},Mh="webp",Th=96,Ah=96,Eh="srgb",Ih=4,Fh="uchar",Lh=288,Rh=!1,Hh=!1,zh=!0,Oh="{{.assetPrefix}}/assets/moon-hazy-nfnzea7a.webp",Uh={format:Mh,width:Th,height:Ah,space:Eh,channels:Ih,depth:Fh,density:Lh,isProgressive:Rh,hasProfile:Hh,hasAlpha:zh,src:Oh},Wh="webp",Yh=96,Bh=96,qh="srgb",Zh=4,Vh="uchar",Gh=288,Xh=!1,Kh=!1,Jh=!0,Qh="{{.assetPrefix}}/assets/moon-mostly-cloudy-e56e3z55.webp",em={format:Wh,width:Yh,height:Bh,space:qh,channels:Zh,depth:Vh,density:Gh,isProgressive:Xh,hasProfile:Kh,hasAlpha:Jh,src:Qh},tm="webp",sm=96,nm=96,am="srgb",om=4,rm="uchar",im=288,cm=!1,lm=!1,dm=!0,um="{{.assetPrefix}}/assets/moon-mostly-sunny-ffu4gzf4.webp",hm={format:tm,width:sm,height:nm,space:am,channels:om,depth:rm,density:im,isProgressive:cm,hasProfile:lm,hasAlpha:dm,src:um},mm="webp",fm=96,pm=96,gm="srgb",xm=4,ym="uchar",bm=288,vm=!1,wm=!1,$m=!0,jm="{{.assetPrefix}}/assets/moon-shower-e5dy9u48.webp",Nm={format:mm,width:fm,height:pm,space:gm,channels:xm,depth:ym,density:bm,isProgressive:vm,hasProfile:wm,hasAlpha:$m,src:jm},_m="webp",km=96,Cm=96,Sm="srgb",Pm=4,Dm="uchar",Mm=288,Tm=!1,Am=!1,Em=!0,Im="{{.assetPrefix}}/assets/moon-sunny-d9o08xiw.webp",Fm={format:_m,width:km,height:Cm,space:Sm,channels:Pm,depth:Dm,density:Mm,isProgressive:Tm,hasProfile:Am,hasAlpha:Em,src:Im},Lm="webp",Rm=96,Hm=96,zm="srgb",Om=4,Um="uchar",Wm=288,Ym=!1,Bm=!1,qm=!0,Zm="{{.assetPrefix}}/assets/rain-thunder-eplemvu1.webp",Vm={format:Lm,width:Rm,height:Hm,space:zm,channels:Om,depth:Um,density:Wm,isProgressive:Ym,hasProfile:Bm,hasAlpha:qm,src:Zm},Gm="webp",Xm=96,Km=96,Jm="srgb",Qm=4,ef="uchar",tf=288,sf=!1,nf=!1,af=!0,of="{{.assetPrefix}}/assets/rain-ogayr6kt.webp",rf={format:Gm,width:Xm,height:Km,space:Jm,channels:Qm,depth:ef,density:tf,isProgressive:sf,hasProfile:nf,hasAlpha:af,src:of},cf="webp",lf=96,df=96,uf="srgb",hf=4,mf="uchar",ff=288,pf=!1,gf=!1,xf=!0,yf="{{.assetPrefix}}/assets/sleet-o8noil7l.webp",bf={format:cf,width:lf,height:df,space:uf,channels:hf,depth:mf,density:ff,isProgressive:pf,hasProfile:gf,hasAlpha:xf,src:yf},vf="webp",wf=96,$f=96,jf="srgb",Nf=4,_f="uchar",kf=288,Cf=!1,Sf=!1,Pf=!0,Df="{{.assetPrefix}}/assets/snow-lq4cl3uc.webp",Mf={format:vf,width:wf,height:$f,space:jf,channels:Nf,depth:_f,density:kf,isProgressive:Cf,hasProfile:Sf,hasAlpha:Pf,src:Df},Tf="webp",Af=96,Ef=96,If="srgb",Ff=4,Lf="uchar",Rf=288,Hf=!1,zf=!1,Of=!0,Uf="{{.assetPrefix}}/assets/sun-drizzle-htsohv65.webp",Wf={format:Tf,width:Af,height:Ef,space:If,channels:Ff,depth:Lf,density:Rf,isProgressive:Hf,hasProfile:zf,hasAlpha:Of,src:Uf},Yf="webp",Bf=96,qf=96,Zf="srgb",Vf=4,Gf="uchar",Xf=288,Kf=!1,Jf=!1,Qf=!0,ep="{{.assetPrefix}}/assets/sun-hazy-nfj7clcd.webp",tp={format:Yf,width:Bf,height:qf,space:Zf,channels:Vf,depth:Gf,density:Xf,isProgressive:Kf,hasProfile:Jf,hasAlpha:Qf,src:ep},sp="webp",np=96,ap=96,op="srgb",rp=4,ip="uchar",cp=288,lp=!1,dp=!1,up=!0,hp="{{.assetPrefix}}/assets/sun-mostly-cloudy-e3pqqgs7.webp",mp={format:sp,width:np,height:ap,space:op,channels:rp,depth:ip,density:cp,isProgressive:lp,hasProfile:dp,hasAlpha:up,src:hp},fp="webp",pp=96,gp=96,xp="srgb",yp=4,bp="uchar",vp=288,wp=!1,$p=!1,jp=!0,Np="{{.assetPrefix}}/assets/sun-mostly-sunny-o99k1c7a.webp",_p={format:fp,width:pp,height:gp,space:xp,channels:yp,depth:bp,density:vp,isProgressive:wp,hasProfile:$p,hasAlpha:jp,src:Np},kp="webp",Cp=96,Sp=96,Pp="srgb",Dp=4,Mp="uchar",Tp=288,Ap=!1,Ep=!1,Ip=!0,Fp="{{.assetPrefix}}/assets/sun-shower-ldwl4jbp.webp",Lp={format:kp,width:Cp,height:Sp,space:Pp,channels:Dp,depth:Mp,density:Tp,isProgressive:Ap,hasProfile:Ep,hasAlpha:Ip,src:Fp},Rp="webp",Hp=96,zp=96,Op="srgb",Up=4,Wp="uchar",Yp=!1,Bp=!1,qp=!0,Zp="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",Vp={format:Rp,width:Hp,height:zp,space:Op,channels:Up,depth:Wp,isProgressive:Yp,hasProfile:Bp,hasAlpha:qp,src:Zp},Gp="webp",Xp=96,Kp=96,Jp="srgb",Qp=4,eg="uchar",tg=288,sg=!1,ng=!1,ag=!0,og="{{.assetPrefix}}/assets/thunder-xzn1cku3.webp",rg={format:Gp,width:Xp,height:Kp,space:Jp,channels:Qp,depth:eg,density:tg,isProgressive:sg,hasProfile:ng,hasAlpha:ag,src:og},ig="webp",cg=96,lg=96,dg="srgb",ug=4,hg="uchar",mg=288,fg=!1,pg=!1,gg=!0,xg="{{.assetPrefix}}/assets/tornado-diqu61wg.webp",yg={format:ig,width:cg,height:lg,space:dg,channels:ug,depth:hg,density:mg,isProgressive:fg,hasProfile:pg,hasAlpha:gg,src:xg},bg="webp",vg=96,wg=96,$g="srgb",jg=4,Ng="uchar",_g=288,kg=!1,Cg=!1,Sg=!0,Pg="{{.assetPrefix}}/assets/windy-n2v8wtyp.webp",Dg={format:bg,width:vg,height:wg,space:$g,channels:jg,depth:Ng,density:_g,isProgressive:kg,hasProfile:Cg,hasAlpha:Sg,src:Pg},Mg={foggy:{default:Dr},cloudy:{default:Ur},"heavy-snow":{default:ei},"light-snow":{default:hi},sleet:{default:hl},drizzle:{default:Fl,night:Ni},hazy:{default:Vl,night:Fi},"mostly-cloudy":{default:rd,night:Vi},"mostly-sunny":{default:yd,night:rc},shower:{default:Dd,night:yc},sunny:{default:Ud,night:Dc},"rain-thunder":{default:Uc},rain:{default:el},snow:{default:Nl},thunder:{default:eu},tornado:{default:hu},windy:{default:Nu}},Tg={foggy:{default:Fu},cloudy:{default:Vu},"heavy-snow":{default:rh},"light-snow":{default:yh},sleet:{default:bf},drizzle:{default:Wf,night:Dh},hazy:{default:tp,night:Uh},"mostly-cloudy":{default:mp,night:em},"mostly-sunny":{default:_p,night:hm},shower:{default:Lp,night:Nm},sunny:{default:Vp,night:Fm},"rain-thunder":{default:Vm},rain:{default:rf},snow:{default:Mf},thunder:{default:rg},tornado:{default:yg},windy:{default:Dg}};function Ag({weatherCode:e,isDarkMode:t,isNight:s}){const n=t?Tg:Mg,o=Eg(e),r=n[o];return r.night&&s?r.night:r.default}function Eg(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const Ig="C";function Fg(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function dt(e,t,s=Ig){return e===s?`${Math.round(t)}°`:`${Fg(e,t)}°`}const Lg=7,ut=8,Rg=m.memo(function({weatherResults:t,dateRange:s,turnIndex:n,trackContentReferenceEvent:o}){const[r,i]=Gg(),c=Og(t);m.useEffect(()=>{o(N.searchContentReferenceShown,"search_content_reference_shown","forecast")},[o]);const{daily:u,hourly:h,historical:d}=t;let l="daily";if(s||h&&u.length<2)l="hourly";else if(u.length>0)l="daily";else if(d&&d?.length>0)l="historical";else return null;return a.jsxs("div",{className:"relative",children:[c?a.jsxs(a.Fragment,{children:[a.jsx(zg,{weatherResults:t}),a.jsx(Ug,{weatherResults:t,temperatureUnit:r,setTemperatureUnit:i})]}):a.jsx("div",{className:"absolute right-0 top-3 z-10 rounded bg-token-main-surface-primary",children:a.jsx(Bt,{onTemperatureUnitChange:i,temperatureUnit:r})}),a.jsx(qg,{turnIndex:n}),l==="hourly"&&a.jsx(Wg,{weatherResults:t,temperatureUnit:r,dateRange:s}),l==="daily"&&a.jsx(Yg,{dailyForecast:u.slice(0,Lg),temperatureUnit:r}),l==="historical"&&a.jsx(Bg,{historical:d,temperatureUnit:r})]})});function Hg({weatherAlert:e}){const[t,s]=m.useState(!1),n=S(),o=mt(),r=E(e.start_timestamp,e.utc_offset_sec),i=e.end_timestamp?E(e.end_timestamp,e.utc_offset_sec):null,c=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx($,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:n.formatDate(r,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:i?" - ":"",end:i?n.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),a.jsx("div",{children:e.summary})]});return a.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-left text-sm text-red-800",onClick:()=>s(!t),children:[a.jsxs("div",{className:"flex w-full items-center gap-4",children:[a.jsx(Cn,{className:"h-9 w-9 shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"font-bold",children:a.jsx($,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),o&&c]}),a.jsx("div",{className:"flex-grow"}),a.jsx("div",{className:"opacity-30",children:t?a.jsx(Pn,{className:"icon-lg"}):a.jsx(Sn,{className:"icon-lg"})})]}),t&&e.details&&a.jsxs(a.Fragment,{children:[!o&&c,a.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function zg({weatherResults:e}){const{severe:t}=e;return t?a.jsx("div",{className:"my-2",children:t.map((s,n)=>a.jsx(Hg,{weatherAlert:s},n))}):null}function Og(e){const{historical:t,daily:s,hourly:n,current:o}=e;if(!o)return!1;let r=!1;const i=E(o.timestamp,o.utc_offset_sec);for(const c of[t,s,n])c&&(r=r||c?.some(u=>Is(i,E(u.timestamp,u.utc_offset_sec))));return r}function Ug({weatherResults:e,temperatureUnit:t,setTemperatureUnit:s}){const n=S(),{current:o}=e;if(!o)return null;const r=o.temperature.current,i=o.description,c=r!=null&&i&&" · ";return a.jsxs("div",{className:"not-prose flex items-center gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[r!=null&&a.jsx($,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:L(n,r,t)}}),c,i.description]}),a.jsx("div",{className:"text-token-text-secondary",children:Vg(e.location)})]}),a.jsxs("div",{className:"flex",children:[a.jsx(Bt,{onTemperatureUnitChange:s,temperatureUnit:t}),a.jsx(De,{weatherDescriptionData:i,isNight:o.night})]})]})}function Pe({children:e}){return a.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:a.jsx(T.Root,{className:"min-w-0",children:a.jsx(T.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:e})})})}function Wg({weatherResults:e,temperatureUnit:t,dateRange:s}){const n=S(),{hourly:o,current:r}=e;let i=o??[];s&&(i=i.filter(d=>d.timestamp>=s.start_timestamp&&d.timestamp<s.end_timestamp));const[c,u]=m.useState(!1),h=i.length>ut;if(!c&&h){const d=i[0],l=E(d.timestamp,d.utc_offset_sec);let p=!1;if(r){const f=E(r.timestamp,r.utc_offset_sec);l.getTime()-f.getTime()>8*60*60*1e3&&i.length>18&&(i=i.slice(7,18),p=!0)}p||(i=i.slice(0,ut))}return a.jsxs(Pe,{children:[i.map((d,l)=>a.jsxs(T.Row,{children:[a.jsxs(A,{className:"w-44",children:[a.jsx(De,{weatherDescriptionData:d.description,isNight:d.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:a.jsx("span",{className:"lowercase",children:Zg(n,d)})})]}),a.jsx(A,{className:"w-[60px] tabular-nums",children:a.jsx("div",{children:L(n,d.temperature.current,t)})}),a.jsx(A,{children:d.description.description})]},l)),h&&a.jsx(T.Row,{children:a.jsx(A,{className:"w-44",children:a.jsx(gt,{color:"secondary",onClick:()=>u(!c),size:"small",children:c?a.jsx($,{id:"KoC8Ym",defaultMessage:"Show less"}):a.jsx($,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function Yg({dailyForecast:e,temperatureUnit:t}){const s=S();return a.jsx(Pe,{children:e.map((n,o)=>a.jsxs(T.Row,{children:[a.jsxs(A,{className:"w-[7.5rem] min-w-[7.5rem]",children:[a.jsx(De,{weatherDescriptionData:n.description,isNight:n.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:we(s,E(n.timestamp,n.utc_offset_sec))})]}),a.jsxs(A,{className:"tabular-nums",children:[a.jsx("div",{children:L(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:L(s,n.temperature.min,t)})]}),a.jsx(A,{className:"min-w-80",children:n.description.description})]},o))})}function Bg({historical:e,temperatureUnit:t}){const s=S();return e?a.jsx(Pe,{children:e.map((n,o)=>{const r=E(n.timestamp,n.utc_offset_sec);return a.jsxs(T.Row,{children:[a.jsx(A,{className:"w-[250px]",children:a.jsx("div",{className:"ml-3 whitespace-nowrap",children:s.formatDate(r,{weekday:"long",month:"short",day:"numeric"})})}),a.jsx(A,{className:"tabular-nums",children:n.temperature.max&&n.temperature.min?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:L(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:L(s,n.temperature.min,t)})]}):a.jsx("div",{children:L(s,n.temperature.current,t)})}),a.jsx(A,{})]},o)})}):null}function A({className:e,children:t}){return a.jsx(T.Cell,{className:j("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:t})}function qg({turnIndex:e}){const t=an(n=>n.thread?.turns[e]?.use_location),[s]=tn();return!s.useLocation&&t?a.jsx("div",{className:"mt-3",children:a.jsx(gt,{color:"secondary",icon:yr,onClick:()=>{sn.setSettingsModalOpen(!0)},children:a.jsx($,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function Bt({temperatureUnit:e,onTemperatureUnitChange:t}){const s=n=>e===n?"font-bold":"font-light";return a.jsx(rs,{size:"small",triggerButton:a.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:a.jsx(Fs,{className:"icon-sm-heavy"})}),children:a.jsxs(is.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[a.jsx($,{id:"bQIoe/",defaultMessage:"Temperature"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:s("F"),children:a.jsx($,{id:"bvDeBB",defaultMessage:"°F"})}),a.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),a.jsx("div",{className:s("C"),children:a.jsx($,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function De({weatherDescriptionData:e,isNight:t=!1,size:s="normal"}){const n=q(),o=s==="small"?30:50;return a.jsx("img",{draggable:!1,alt:e.description,src:Ag({weatherCode:e.id,isDarkMode:n,isNight:t}).src,width:o,height:o})}function Zg(e,t){const s=E(t.timestamp,t.utc_offset_sec);return e.formatDate(s,{hour:"numeric"})}function L(e,t,s){return t==null?"-":dt(s?s??"F":qt(e),t)}function qt(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],s=e.locale||"en-US";return t.includes(s)?"F":"C"}function Vg(e){const t=e.name.split(",").map(s=>s.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const Gg=()=>{const e=S(),[t,s]=nn("USER_TEMPERATURE_UNIT",qt(e),n=>["F","C"].includes(n));return[t,s]},Xg=cs(()=>ls(()=>import("./doqe6wq6jvyj9nzu.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(e=>e.BusinessesMap));function Kg({index:e,FormattedText:t,node:s}){const n=parseInt(e,10),o=m.useContext(oe),{value:r}=xt("756982148"),i=Ls(o?.analyticsMetadata);if(o==null)return null;const{contentReferences:c,onShowSearchResults:u,numImageResults:h,analyticsMetadata:d}=o,l=c?.[n],p=d?.clientThreadId==null;if(!l||d.turnIndex===void 0||l.type===void 0)return null;let f=null;switch(l.type){case"title_citation":f=a.jsx(ur,{metadata:l,trackContentReferenceEvent:i});break;case"location_search":f=a.jsx(Uo,{metadata:l,trackContentReferenceEvent:i});break;case"time":f=a.jsx(dr,{metadata:l,trackContentReferenceEvent:i});break;case"image_v2":f=a.jsx(It,{metadata:l,numImageResults:h??0,analyticsMetadata:d,trackContentReferenceEvent:i});break;case"nav_list":f=a.jsx(Wo,{metadata:l,trackContentReferenceEvent:i});break;case"file_navlist":f=a.jsx(to,{metadata:l,trackContentReferenceEvent:i});break;case"file":f=a.jsx(Ka,{fileRef:l,index:n,trackContentReferenceEvent:i});break;case"grouped_webpages_model_predicted_fallback":f=a.jsx(Ws,{webpageRef:l,node:s,trackContentReferenceEvent:i,messageId:o.message.id});break;case"grouped_webpages":f=a.jsx(Us,{webpageRef:l,node:s,trackContentReferenceEvent:i,messageId:o.message.id});break;case"tldr":f=r?a.jsx(He,{navigation:{...l,type:"navigation",domains:[{title:l.page_title,subtitle:l.display_title,domain:l.breadcrumbs[0],url:l.url,sub_domains:[]}]},onShowSearchResults:u,trackContentReferenceEvent:i}):a.jsx(Rs,{tldr:l,trackContentReferenceEvent:i});break;case"navigation":f=a.jsx(He,{navigation:l,onShowSearchResults:u,trackContentReferenceEvent:i});break;case"stock":f=a.jsx(Ro,{contentReference:l,trackContentReferenceEvent:i});break;case"calculator":f=a.jsx(Ya,{data:l,trackContentReferenceEvent:i});break;case"code_execution":f=a.jsx(Va,{FormattedText:t,displayInfo:l,trackContentReferenceEvent:i});break;case"forecast":f=l?.forecast&&a.jsx(Rg,{weatherResults:l.forecast,dateRange:l.date_range,turnIndex:d.turnIndex,trackContentReferenceEvent:i});break;case"businesses_map":f=a.jsx(Xg,{contentReference:l,trackContentReferenceEvent:i});break;case"video":f=a.jsx(xr,{video:l,trackContentReferenceEvent:i});break;case"sources_footnote":f=a.jsx(qo,{sourcesFootnote:l,onShowSearchResults:u,trackContentReferenceEvent:i,isSearchGptApp:p});break;case"sports_standings":f=a.jsx(cr,{standingsRef:l,trackContentReferenceEvent:i});break;case"sports_schedule":f=a.jsx(ar,{scheduleRef:l,trackContentReferenceEvent:i});break;case"attribution":f=a.jsx(za,{attribution:l});break;case"debug":f=a.jsx(a.Fragment,{children:Object.entries(l).map(([x,y])=>a.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:y},x))});break;case"image_inline":f=a.jsx(Ra,{reference:l,messageId:o.message.id,clientThreadId:o.clientThreadId,trackContentReferenceEvent:i});break;case"product_reviews":f=!1;break;case"products":f=!1;break}return a.jsx(Ne,{name:"content-reference-renderer",fallback:x=>(i(N.searchContentReferenceFailed,"search_content_reference_failed",l.type),ft.addError(`Error rendering content reference: ${l.type}`,{...x,contentReference:l}),l?.alt?a.jsx(Ce,{components:{img:({src:y,alt:v})=>a.jsx("img",{src:y,alt:v,className:"max-h-28"})},children:l.alt}):a.jsx("span",{className:`errored-object-${l.type}`})),children:f})}function Jg(e){const{src:t,clientThreadId:s,...n}=e,o=ht(s),r=m.useContext(oe),i=en(o,t,r?.useSafeUrls);return i==null?a.jsx("div",{}):a.jsx("img",{...n,src:i})}function Qg(e){return a.jsx(Kg,{...e,FormattedText:Zt})}function Zt({size:e="medium",children:t,className:s,clientThreadId:n,messageId:o,isActivelyStreaming:r=!1,interpolateCitations:i=!1,componentOverrides:c}){const u=q(),h=ds(),d=m.useMemo(()=>({pre:({children:x,"data-start":y,"data-end":v,"data-is-last-node":_})=>a.jsx("pre",{className:"!overflow-visible","data-start":y,"data-end":v,"data-is-last-node":_,children:x}),code:x=>a.jsx(Ys,{...x,clientThreadId:n}),[us]:Qg,[Bs]:qs,a:x=>{const{node:y,children:v,..._}=x,w=y?.properties?.href;if(typeof w=="string"&&w.startsWith(Le))return h?a.jsx(Zs,{..._}):n!=null&&o!=null?a.jsx(Vs,{..._,clientThreadId:n,messageId:o,href:w,children:v}):null;if(typeof w=="string"&&w===Gs){const P=y?.children?.map(g=>typeof g.value=="string"?g.value:"").join("").trim();return a.jsx(Xs,{...x,text:P,clientThreadId:n,messageId:o,className:"cursor-pointer"})}return w&&typeof w=="string"&&Ta(w)?v:a.jsx(Ks,{...x,clientThreadId:n,messageId:o,interpolateCitations:i})},td:({children:x})=>a.jsx("td",{children:m.Children.map(x,(y,v)=>y==="<br>"?a.jsx("br",{},v):y)}),img:({node:x,...y})=>{const v=x?.properties?.src;return typeof v=="string"&&(v.startsWith(Le)||v.startsWith("attachment:"))?null:a.jsx(Jg,{...y,clientThreadId:n})},...Hs()?zn:{},...c}),[c,n,o,i,h]),l=m.useMemo(()=>Ie()?[...J,Js]:J,[]),p=m.useMemo(()=>r&&Ie()?On(t):t,[t,r]),{value:f}=xt("1839283687");return f?!1:a.jsx(Ne,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:p}),children:a.jsx(ax,{rehypePlugins:jt,remarkPlugins:l,className:j(s,"markdown prose w-full break-words dark:prose-invert",u?"dark":"light",e==="small"&&"prose-xs"),urlTransform:Nt,components:d,children:p})})}function ex(e,t,s=void 0){return e===ms.SystemHint?a.jsx("span",{className:"hint-pill",children:t},s):null}function tx({text:e,customSymbolOffsets:t}){return a.jsx(Ne,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:e}),children:a.jsx(sx,{text:e,customSymbolOffsets:t})})}const sx=({text:e,customSymbolOffsets:t=[]})=>{const s=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let n=0;const o=e.split(s).flatMap((r,i)=>{const c=n;if(n+=r.length,r.startsWith("```")&&r.endsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3,-3).trim()})},i);if(r.startsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3).trim()})},i);if(r.startsWith("`")&&r.endsWith("`"))return a.jsx("code",{children:r.slice(1,-1)},i);if(r.startsWith("`"))return a.jsx("code",{children:r.slice(1)},i);{const u=t.map(h=>hs(h)).find(h=>c<=h.startIndex&&h.endIndex<=n);if(u){const h=u.startIndex-c,d=u.endIndex-c,l=r.slice(0,h),p=r.slice(d),f=r.slice(h,d);return[l,ex(u.symbol,f,i),p].filter(x=>!!x)}return r}});return a.jsx("div",{className:"whitespace-pre-wrap",children:o})};async function nx(e){const s=await hn().use(mn).use(J).use(fn).use(Qs).use(Ma).process(e);return String(s)}const ax=m.memo(Ce),bx=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:Zt,UserFormattedText:tx,markdownToHtml:nx},Symbol.toStringTag,{value:"Module"}));export{Zt as F,bx as a,En as s};
//# sourceMappingURL=kz4w238t2tuvnfm1.js.map

import{r as m,j as a}from"./l6lryjpkt8rv0lpy.js";import{dE as p,dF as h,dG as x}from"./dvllb5fed1b4y7k1.js";import{J as f,a as _}from"./cj02dauuftw44t5d.js";import{n as g,s as S,r as j}from"./mnkup87aq6tfilq5.js";import{u as E}from"./g0y3jk4ws9sr9t5q.js";function T(s,n){const e=n.find(l=>l.message.author.role===g.Assistant),t=S.getTree(j(s)),o=(e?t.getParentPromptNode(e.nodeId):null)?.message.metadata,u=o?.real_author_type==="automation"?o?.real_author_id:null,c=o?.real_author_title,{automation:d}=E(u??"");return{automationId:u,automation:d,automationTitle:c}}function y({clientThreadId:s,messages:n}){const{automationId:e,automation:t,automationTitle:i}=T(s,n),[o,r]=m.useState(!1);return m.useEffect(()=>{e&&p.count(h.JAWBONE,"jawbone_automation_source_header.open")},[e]),e?a.jsxs("div",{className:"mb-1 flex items-center gap-1.5 text-sm text-token-text-secondary hover:text-token-text-primary",children:[a.jsx(x,{className:"icon-sm"}),a.jsx("button",{onClick:()=>{r(!0)},children:t?.title??i}),o&&t&&a.jsx(f,{initialScheduleComponents:t.schedule_components,nextRunTimes:t.next_run_times,children:a.jsx(_,{item:t,source:"chat",onClose:()=>{r(!1)}})})]}):null}export{y as AutomationSourceHeader};
//# sourceMappingURL=d92a9jypjbtn5sjn.js.map

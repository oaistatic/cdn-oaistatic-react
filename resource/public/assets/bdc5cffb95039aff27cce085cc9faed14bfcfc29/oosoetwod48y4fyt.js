import{lU as A,k as C,bQ as g,e as y,p as O,S as R,V as w,L as E,k4 as S,P as b,s as T}from"./dmck639k4dv7claj.js";import{b as x,a as L,O as v,r as i,ad as j,j as o,d as k}from"./cs7toih8jegb7teq.js";import{C as U}from"./n58bh5hmvtdcp01g.js";import{A as F}from"./knwvzd4zdwnd5k5m.js";import{C as s}from"./ngfdozy6ucqfmo6o.js";import"./lo4bvml5ypzzx0bg.js";import"./hnw079jsdm76umup.js";import"./f9bnpe34l2c3c1sm.js";import"./de0xekdnf43rd5ny.js";import"./kyjth308quztvz31.js";import"./lox5zdwgg3gy3k4z.js";const m={pro:"chatgptpro",plus:"chatgptplusplan"},f=Object.keys(s),D={oiw216z:"sora_redirect",vza493q:"operator_redirect"};function I(r){r&&s[r]&&(window.location.href=s[r])}const W=A(function(){const[h]=x(),n=L(),_=C(),{plan:a}=v(),e=h.get("checkout_from"),l=i.useRef(!1),t=g(),u=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]),M=y(),c=O(M,"1719651090");if(!a||!(a in m))throw j("/");return i.useEffect(()=>{if(!t||l.current)return;if(l.current=!0,e==="vza493q"){t.hasPaidSubscription()&&t.isPro()?window.location.href=s[e]:c||n("/");return}(async()=>{const p=e&&f.includes(e)?D[e]:"purchase_plan_redirect";try{e&&f.includes(e)&&w.setItem(E.CheckoutFrom,e);const d=await U.getCheckoutLink({plan_name:m[a],billing_details:{currency:S}});b.logEvent("Account Pay: Purchase Plan Redirect",{...u,plan:a,location:p}),window.location.href=d.url}catch{T(n,p)}})()},[n,_,a,e,u,c,t]),o.jsxs(o.Fragment,{children:[t&&e==="vza493q"&&c&&o.jsx(F,{currentAccount:t,onClose:()=>I(e),subtitle:P.operatorModalSubtitle,title:P.operatorModalTitle}),o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(R,{})})]})}),P=k({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{W as default};
//# sourceMappingURL=oosoetwod48y4fyt.js.map

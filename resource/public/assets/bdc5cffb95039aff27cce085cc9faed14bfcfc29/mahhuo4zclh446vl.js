import{e as k,r as D,j as e,d as W,M as v}from"./cs7toih8jegb7teq.js";import{e as M,ep as q,f6 as V,aG as T,aF as K,eo as Q,f9 as $,q as J,r as X,f0 as Y,k as Z,b6 as ee,i as x,B as S,br as U,de as y,aS as se,Q as ae,aO as te,nT as ne,z as f,W as C,P as j,lV as oe,aM as ie,nU as re,T as P,gF as ce}from"./dmck639k4dv7claj.js";import{h as le,j as ue,k as de,l as ge,S as w,N,n as he,O as me,G as pe,H as xe,o as Se,P as E,p as fe,q as be,t as ve,v as Ce,w as je,x as ke,y as Me,z as ye}from"./hnw079jsdm76umup.js";import{P as Ne}from"./l1m3l5lbmhuctzw6.js";function Ae({showShareButton:t,showProfileDropdown:a,clientThreadId:s}){const n=M(),r=q(n,s),c=V(s),u=k(),d=T(n,"1547743984"),[b,o,B,g,h,p]=K(s,l=>[P.hasUserMessage(l),P.getGizmoId(l),ye(l),l?.title,l?.is_do_not_remember,l?.isStarred]),m=Q(()=>ce(r)?.value),i=D.useMemo(()=>le({clientThreadId:s,gizmoId:o,conversationTitle:g,conversationAsyncStatus:m,isDoNotRemember:h,isStarred:p}),[s,o,g,m,h,p]),A=$(s),{prefetchSearchPromises:I}=ue(),F=I!=null,H=J(X),z=d.get("show_share_button_text",!1)&&!H,O=u.formatMessage({id:"GizmoInformation.shareChat",defaultMessage:"Share"}),_=()=>U.openSharingModal(c),G=Y(o),R=Z();ee();const L=!x(n);return e.jsxs(e.Fragment,{children:[x(n)?e.jsx(de,{}):null,x(n)&&R?.includes("caterpillar")&&e.jsx(ge,{}),null,t&&c&&e.jsx(e.Fragment,{children:z?e.jsx(S,{onClick:_,icon:w,label:O,"data-testid":"share-chat-button",color:"ghost",className:"text-token-text-primary",style:{viewTransitionName:"var(--vt_share_chat_wide_button)"},children:O}):e.jsx(y,{label:u.formatMessage({id:"CPEfES",defaultMessage:"Share chat"}),children:e.jsx(N,{"data-testid":"share-chat-button",onClick:_,icon:w,style:{viewTransitionName:"var(--vt_share_chat_compact_button)"}})})}),e.jsxs("div",{className:"flex items-center",children:[!L&&!o&&A&&!F&&!b&&e.jsx(e.Fragment,{children:e.jsx(he,{clientThreadId:s})}),e.jsx(me,{}),c!=null&&!L?e.jsx(pe,{conversation:i,inMainScreen:!0,isActiveConversation:!0,inChatWindow:!0,children:e.jsx(xe,{"aria-label":u.formatMessage({id:"9Mk/E3",defaultMessage:"Open conversation options"}),"data-testid":"conversation-options-button"})}):o&&G?e.jsx(Se,{gizmoId:o}):null,a&&e.jsx(Be,{clientThreadId:s})]})]})}const Be=({clientThreadId:t})=>{const a=M(),s=se();return E.markStart("LoginOrProfileMenu"),E.markRendered("LoginOrProfileMenu"),e.jsxs(e.Fragment,{children:[!s&&!x(a)&&e.jsx(Le,{}),!s&&e.jsx(Ne,{clientThreadId:t})]})};function Oe({onClick:t,className:a,testId:s}){const r=k().formatMessage({id:"OFyxqj",defaultMessage:"New chat"});return e.jsx(y,{label:r,className:f("flex",a),children:e.jsx(N,{onClick:c=>Me(c,t),icon:ke,"aria-label":r,"data-testid":s,as:"link"})})}function Ie({clientThreadId:t,hideNewChat:a=!1}){const s=je({clientThreadId:t,location:"Navigation actions"});return re()?e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{}),!a&&e.jsx(Oe,{onClick:s})]}):null}function _e(){const t=k(),a=oe(),{isUnauthenticated:s}=ie(),n=be(Ce,ve,!1,!0);return s||a?null:e.jsx(y,{label:t.formatMessage({id:"cElEQV",defaultMessage:"Open sidebar"}),className:"flex",children:e.jsx(N,{"aria-label":t.formatMessage({id:"pV/Etp",defaultMessage:"Open sidebar"}),onClick:()=>{U.setSidebarOpen(!0)},icon:n})})}function Le(){const t=M(),a=ae(),s=fe(),n=te(Pe.signUpCta),r=ne(),u=T(t,"3637408529").get("is_desktop_primary_auth_button_on_right",!1),d="Chat header",b=()=>{C(t,{fallbackScreenHint:"login",callback:i=>{j.logLogInButtonClicked({location:d,provider:i})}})},o=()=>{C(t,{fallbackScreenHint:"signup",callback:i=>{j.logSignUpButtonClicked({location:d,provider:i})}})},B=()=>{C(t,{fallbackScreenHint:"login_or_signup",callback:i=>{j.logLoginOrSignUpButtonClicked({location:d,provider:i})}})},g=e.jsx(S,{onClick:b,color:a?"primary":"secondary","data-testid":"login-button",className:f(!a&&"screen-arch:hidden md:screen-arch:flex"),children:e.jsx(v,{id:"B1SN7b",defaultMessage:"Log in"})},"login"),h=e.jsx(S,{color:a?"secondary":"primary",onClick:o,"data-testid":"signup-button",className:f(a&&"screen-arch:hidden md:screen-arch:flex"),children:e.jsx(v,{...n})},"signup"),p=e.jsx(S,{color:"primary",onClick:B,"data-testid":"login-or-signup-button",className:f(a&&"screen-arch:hidden md:screen-arch:flex"),children:e.jsx(v,{...r})},"signup"),m=s?[p]:a?[g,h]:[h,g];return e.jsx("div",{className:"flex items-center justify-center gap-2",children:u?m.reverse():m})}const Pe=W({signUpCta:{id:"P6cySK",defaultMessage:"Sign up"}});export{Ae as C,_e as E,Be as L,Ie as N,Le as a,Oe as b};
//# sourceMappingURL=mahhuo4zclh446vl.js.map

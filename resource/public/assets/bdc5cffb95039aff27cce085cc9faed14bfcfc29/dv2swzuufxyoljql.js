import{r as n,v as m,i as d,j as t,M as i}from"./cs7toih8jegb7teq.js";import{ci as e,cj as a,b1 as r,ck as o,cl as x}from"./hnw079jsdm76umup.js";import{a0 as p,l$ as b}from"./dmck639k4dv7claj.js";import{c as g}from"./hlzwxj9o6a2p2agm.js";function w(){const[c,s]=n.useState(!1);n.useEffect(()=>{e.setSessionId(m()),e.logImpression()},[]);const{mutate:l,isPending:u}=d({mutationFn:g,onError:f=>{if(p.addError("Jawbone: Failed to create push subscription",{error:f}),Notification.permission==="denied"){a.clearNotificationRequest();return}s(!0)},onSuccess:()=>{a.clearNotificationRequest()}});return c?t.jsx(r,{icon:t.jsx(b,{}),isPrimaryCtaDisabled:!0,isSecondaryCtaDisabled:!0,type:"error",onDismiss:()=>{s(!1),e.logErrorDismissed(),a.clearNotificationRequest()},title:t.jsx(i,{...o.notificationsDisabledBannerTitle}),content:t.jsx(i,{...o.notificationsDisabledBannerContent})}):t.jsx(r,{icon:t.jsx(x,{}),primaryCtaText:t.jsx(i,{...o.notificationsBannerAllow}),onPrimaryCtaClick:()=>{e.logAllow(),l()},isPrimaryCtaDisabled:u,secondaryCtaText:t.jsx(i,{...o.notificationsBannerNotNow}),onSecondaryCtaClick:()=>{e.logNotNow(),a.clearNotificationRequest()},title:t.jsx(i,{...o.notificationsBannerTitle}),content:t.jsx(i,{...o.notificationsBannerContent})})}export{w as JawboneNotificationsBanner};
//# sourceMappingURL=dv2swzuufxyoljql.js.map

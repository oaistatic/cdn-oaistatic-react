const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hc50eeeiujpdc0ub.js","assets/cs7toih8jegb7teq.js","assets/ijs8y7uhx4vwpdmv.js","assets/patyquqint0axqjn.js","assets/jtilaepvk4dal4p6.js","assets/ozplb2v7s86mfv04.js","assets/oxhoc2mdli9hl8g4.js","assets/ke2gksi1l31mmghi.js","assets/g0qqcme5h04p667m.js","assets/hnw079jsdm76umup.js","assets/conversation-small-b5ztx8w5.css","assets/colxm2qapa6szd9b.js","assets/n19np2s41sk6lwki.js","assets/bc5es29753gd8drd.js","assets/de0xekdnf43rd5ny.js","assets/n58bh5hmvtdcp01g.js","assets/iri9awi9pbx6xfhf.js","assets/lox5zdwgg3gy3k4z.js","assets/ieljay4ufw8jyjph.js","assets/bymwoxvfcvixl09m.js","assets/jf6zdgxyet8q4h2w.js","assets/ly6bl4jw3rdrrcgu.js","assets/nlxagrvvx9r77jf7.js","assets/gqxnaj28dwt74usv.js","assets/dfhgw8mxn1h3ecpw.js","assets/na0t6wj09rfp0awn.js","assets/liqaqj2w179grtbv.js","assets/kl7c6054usfnqmd4.js","assets/mia7qmdupqoji40k.js","assets/hxqegvq5aiiivxa3.js","assets/etto4cxdmq45jwpe.js","assets/fhmbfrqqfncxraqv.js","assets/knwvzd4zdwnd5k5m.js","assets/lo4bvml5ypzzx0bg.js","assets/f9bnpe34l2c3c1sm.js","assets/kyjth308quztvz31.js","assets/ngfdozy6ucqfmo6o.js","assets/kime2kclye4c7vau.js","assets/s8itexxqb3amu7yr.js","assets/c6yb6cmc50jj0xn1.js","assets/iej0cupg2dqkmejt.js","assets/k4ghje9xipg90eb2.js","assets/nfubiloo9rdxk3kj.js","assets/i8cynbeei8myj5br.js","assets/mpeahdafp45cy7gg.js","assets/if861sq56k12kkjx.js","assets/dia5a65grp9qhigk.js","assets/jwhncdo48voofvub.js","assets/ecchxv5wz55k703w.js","assets/o1rimc0rmno8kzy9.js","assets/cgb8zuz8f2lmksur.js","assets/djjpj5f1idix1hxg.js","assets/o9z1qr2wto7ryovt.js","assets/f7yovpq7wholb0k7.js","assets/cq7nh9aqi3zpn79u.js","assets/cdfnjjul33gy64ln.js","assets/f3smjfr1xyyoa8j5.js","assets/eq5mxjsfi2cjwfyk.js","assets/g4tl5lt9yqf20m4s.js","assets/jowyjrirlo5h1pme.js","assets/k0vsfnhj46wtdqkf.js","assets/nubxp7c1wy66c1tg.js","assets/gt1ksg7rjkl5obl2.js","assets/kbw2jmlkjkz9fp4l.js","assets/bk8slwxjkdlmxjxm.js","assets/l32pbw1kg88xu4to.js","assets/bmobnezbuwzpy0oz.js","assets/ov1bxu4ooypnl6gv.js"])))=>i.map(i=>d[i]);
import{J as vD,K as _D,N as zS,O as yD,r as p,C as rg,c as Re,j as g,P as To,Q as xr,S as ZK,T as JK,t as GS,R as Le,k as HS,U as VS,g as mn,v as qr,p as Gn,L as uh,y as QK,z as Al,_ as ma,V as bD,W as XK,e as yt,M as ve,d as It,X as $S,u as Rt,f as yr,i as Kn,q as ps,s as eY,w as _u,Y as tY,h as Hr,a as ms,Z as nY,m as CD,b as ig,n as WS,$ as rY,o as iY,a0 as sY,a1 as SD,a2 as oY,a3 as wD,a4 as ED,a5 as xD,a6 as aY,a7 as lY,a8 as cY,a9 as uY}from"./cs7toih8jegb7teq.js";class yu{static#e;#t;#r=new Map;#n=[];static get instance(){return yu.#e||(yu.#e=new yu),yu.#e}setLogger(t){if(this.#t)throw new Error("Logger already set");this.#t=t;for(const[n,r]of this.#r.entries())this.#t.addTiming(n,r);this.#r.clear();for(const{error:n,context:r}of this.#n)this.#t.addError(n,r);this.#n=[]}addTiming(t,n){this.#t?this.#t.addTiming(t,n):this.#r.set(t,n??Date.now())}addError(t,n){this.#t?this.#t.addError(t,n):(this.#n.push({error:t,context:n}),this.#n.length>10&&(console.warn("LazyLogger: too many errors"),this.#n.shift()))}}function dY(e){return function(){const n={params:yD(),loaderData:zS(),actionData:_D(),matches:rg()};return p.createElement(e,n)}}function fY(e){return function(){const n={params:yD(),loaderData:zS(),actionData:_D(),error:vD()};return p.createElement(e,n)}}function KS(e){return function(n){const r=Symbol(void 0);return i=>{if(!i)throw new Error(`Attempted to access scoped value without a ${e}.`);const s=i;if(r in s){const o=s[r];if(o===b7)throw new Error(`[${e}] Dependency cycle during scoped value initialization.`);if(o instanceof Error)throw o;return o}try{s[r]=b7;const o=n(i);return s[r]=o,o}catch(o){const a=o instanceof Error?o:new Error(`[${e}] Failed to initialize scoped value: `+o,{cause:o});throw s[r]=a,a}}}}const nn=KS("SessionContext");function hY(){const e=Symbol(void 0);return[r=>{if(!r)throw new Error("[SessionContext] Attempted to access session value without a SessionContext.");const i=r;if(e in i)return i[e];throw new Error("[SessionContext] Attempted to access session value before initialization.")},(r,i)=>{const s=r;if(e in s)throw new Error("[SessionContext] Attempted to initialize session value more than once.");s[e]=i}]}const b7=Symbol();function pe(){"use forget";const e=p.useContext(kD);if(!e)throw new Error("[SessionContext] Attempted to access sessionContext outside of <SessionContextProvider>");return e}const kD=p.createContext(void 0);function TD(){return{}}const pY=e=>{"use forget";const t=Re.c(3),{sessionContext:n,children:r}=e;let i;return t[0]!==r||t[1]!==n?(i=g.jsx(kD.Provider,{value:n,children:r}),t[0]=r,t[1]=n,t[2]=i):i=t[2],i};var mY=(e=>(e.FreeSearchHoldout="fsh",e.AnonSearchHoldout="ash",e.NoAuthEnableFileUploads="naefu",e))(mY||{});const[dn,gY]=hY();function vY(){const e=pe();return dn(e)}let _Y=TD();function Lt(){return _Y}let C7=!1;function yY(e,t){C7||(C7=!0,gY(e,t))}class mt extends Error{constructor(t,n,r,i,s){const o=typeof r.error=="string"&&r.error||typeof r.detail=="string"&&r.detail||r.detail?.message||r.detail?.description||r.detail?.error?.message||CY;super(o),this.url=t,this.status=n,this.json=r,this.requestId=i,this.rawError=s,this.detail=r.detail,this.jsonError=r.error,this.rawError=s}name="RequestError";detail;jsonError;static createWithErrorMessage(t,n,r,i,s){return new mt(t,n==="client"?400:500,{error:r},i,s)}get code(){return this.detail?.code??this.jsonError?.code??this.jsonError?.error?.code??this.detail?.error?.code}isClientError(){return this.status>=400&&this.status<500}isServerError(){return this.status>=500}}class cn extends Error{name="UserFileError";code;extra;constructor(t,n,r){super(t),this.code=n,this.extra=r}}const bY="If this issue persists please contact us through our help center at help.openai.com.",YS="If this issue persists please contact us through our help center at [help.openai.com](https://help.openai.com/).",CY=`Something went wrong. ${bY}`,SY=`Something went wrong while generating the response. ${YS}`,Kl=`A network error occurred. Please check your connection and try again. ${YS}`,wY="Network connection lost. Attempting to reconnect…";function tPe(e){if(e instanceof mt&&typeof e.message=="string"&&e.message)return e.message}var gm=(e=>(e.HistoryDisabledConversationNotFound="history_disabled_conversation_not_found",e.ModelCapExceeded="model_cap_exceeded",e.MissingLastCompletion="missing_last_completion",e.InterruptionServerError="interruption_server_error",e))(gm||{}),OD=(e=>(e.NetworkErrorWithReconnection="network_error_with_reconnection",e))(OD||{});function EY(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Something went wrong")}function S7(e){return e instanceof Error&&e.name==="AbortError"}function xY(e,t){return e instanceof Error&&Error.captureStackTrace?.(e,t),e}function gs(e,t="<unknown>"){if(e==null)throw xY(new Error(`${t}: unexpected nullish value: ${JSON.stringify(e)}`),gs);return e}const Ep=(e,t,n={})=>{const r={level:e,message:String(t),...n};t instanceof Error&&(r.error=t),r.error instanceof Error&&(r.error=r.error.stack??String(r.error));try{console[e](r)}catch{es.error({level:"error",message:"Error stringifying log object."+(typeof r.message=="string"?` Message: ${r.message}`:"")})}},es={info:(...e)=>Ep("info",...e),error:(...e)=>Ep("error",...e),warn:(...e)=>Ep("warn",...e),debug:(...e)=>Ep("debug",...e)},kY="client-nb0qtYlZuy2tCMN5s5ncnuIBCJncjRViT0IzFm7GqST";let AD="development";AD="production";const TY=AD;var hl={},Uc={},xp={},w7;function OY(){if(w7)return xp;w7=1,Object.defineProperty(xp,"__esModule",{value:!0});const e=To();let t=class{constructor(r){this._sdkKey=r,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(r,i){var s;if(!r)return!1;const o=(0,e._typedJsonParse)(r.data,"has_updates","EvaluationResponse");return o==null?!1:(this._source=r.source,o?.has_updates!==!0||(this._rawValues=r.data,this._lcut=o.time,this._receivedAt=r.receivedAt,this._values=o,this._bootstrapMetadata=this._extractBootstrapMetadata(r.source,o),r.source&&o.user&&this._setWarningState(i,o),e.SDKFlags.setFlags(this._sdkKey,(s=o.sdk_flags)!==null&&s!==void 0?s:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.feature_gates,r)}getConfig(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.dynamic_configs,r)}getLayer(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.layer_configs,r)}getParamStore(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.param_stores,r)}getSource(){return this._source}getExposureMapping(){var r;return(r=this._values)===null||r===void 0?void 0:r.exposures}_extractBootstrapMetadata(r,i){if(r!=="Bootstrap")return null;const s={};return i.user&&(s.user=i.user),i.sdkInfo&&(s.generatorSDKInfo=i.sdkInfo),s.lcut=i.time,s}_getDetailedStoreResult(r,i){let s=null;return r&&(s=r[i]?r[i]:r[(0,e._DJB2)(i)]),{result:s,details:this._getDetails(s==null)}}_setWarningState(r,i){var s,o;const a=e.StableID.get(this._sdkKey);if(((s=r.customIDs)===null||s===void 0?void 0:s.stableID)!==a&&(!((o=r.customIDs)===null||o===void 0)&&o.stableID||a)){this._warnings.add("StableIDMismatch");return}if("user"in i){const l=i.user;(0,e._getFullUserHash)(r)!==(0,e._getFullUserHash)(l)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const r={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(r.warnings=Array.from(this._warnings)),r}_getDetails(r){var i,s;const o=this.getCurrentSourceDetails();let a=o.reason;const l=(i=o.warnings)!==null&&i!==void 0?i:[];this._source==="Bootstrap"&&l.length>0&&(a=a+l[0]),a!=="Uninitialized"&&a!=="NoValues"&&(a=`${a}:${r?"Unrecognized":"Recognized"}`);const c=this._source==="Bootstrap"&&(s=this._bootstrapMetadata)!==null&&s!==void 0?s:void 0;return c&&(o.bootstrapMetadata=c),Object.assign(Object.assign({},o),{reason:a})}};return xp.default=t,xp}var qc={},Ld={},E7;function AY(){if(E7)return Ld;E7=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld._resolveDeltasResponse=void 0;const e=To(),t=2;function n(o,a){const l=(0,e._typedJsonParse)(a,"checksum","DeltasEvaluationResponse");if(!l)return{hadBadDeltaChecksum:!0};const c=r(o,l),u=i(c),d=(0,e._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},t);return d===l.checksumV2?JSON.stringify(u):{hadBadDeltaChecksum:!0,badChecksum:d,badMergedConfigs:u,badFullResponse:l.deltas_full_response}}Ld._resolveDeltasResponse=n;function r(o,a){return Object.assign(Object.assign(Object.assign({},o),a),{feature_gates:Object.assign(Object.assign({},o.feature_gates),a.feature_gates),layer_configs:Object.assign(Object.assign({},o.layer_configs),a.layer_configs),dynamic_configs:Object.assign(Object.assign({},o.dynamic_configs),a.dynamic_configs)})}function i(o){const a=o;return s(o.deleted_gates,a.feature_gates),delete a.deleted_gates,s(o.deleted_configs,a.dynamic_configs),delete a.deleted_configs,s(o.deleted_layers,a.layer_configs),delete a.deleted_layers,a}function s(o,a){o?.forEach(l=>{delete a[l]})}return Ld}var x7;function ID(){if(x7)return qc;x7=1;var e=qc&&qc.__awaiter||function(i,s,o,a){function l(c){return c instanceof o?c:new o(function(u){u(c)})}return new(o||(o=Promise))(function(c,u){function d(m){try{h(a.next(m))}catch(v){u(v)}}function f(m){try{h(a.throw(m))}catch(v){u(v)}}function h(m){m.done?c(m.value):l(m.value).then(d,f)}h((a=a.apply(i,s||[])).next())})};Object.defineProperty(qc,"__esModule",{value:!0});const t=To(),n=AY();class r extends t.NetworkCore{constructor(s,o){super(s,o);const a=s?.networkConfig;this._option=s,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,a?.initializeUrl,a?.api,a?.initializeFallbackUrls)}fetchEvaluations(s,o,a,l,c){var u,d,f,h,m,v;return e(this,void 0,void 0,function*(){const _=o?(0,t._typedJsonParse)(o,"has_updates","InitializeResponse"):null;let y={user:l,hash:(f=(d=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||d===void 0?void 0:d.initializeHashAlgorithm)!==null&&f!==void 0?f:"djb2",deltasResponseRequested:!1,full_checksum:null};if(_?.has_updates){const b=_?.hash_used!==((v=(m=(h=this._option)===null||h===void 0?void 0:h.networkConfig)===null||m===void 0?void 0:m.initializeHashAlgorithm)!==null&&v!==void 0?v:"djb2");y=Object.assign(Object.assign({},y),{sinceTime:c&&!b?_.time:0,previousDerivedFields:"derived_fields"in _&&c?_.derived_fields:{},deltasResponseRequested:!0,full_checksum:_.full_checksum,partialUserMatchSinceTime:b?0:_.time})}return this._fetchEvaluations(s,_,y,a)})}_fetchEvaluations(s,o,a,l){var c,u;return e(this,void 0,void 0,function*(){const d=yield this.post({sdkKey:s,urlConfig:this._initializeUrlConfig,data:a,retries:2,isStatsigEncodable:!0,priority:l});if(d?.code===204)return'{"has_updates": false}';if(d?.code!==200)return(c=d?.body)!==null&&c!==void 0?c:null;if(o?.has_updates!==!0||((u=d.body)===null||u===void 0?void 0:u.includes('"is_delta":true'))!==!0||a.deltasResponseRequested!==!0)return d.body;const f=(0,n._resolveDeltasResponse)(o,d.body);return typeof f=="string"?f:this._fetchEvaluations(s,o,Object.assign(Object.assign(Object.assign({},a),f),{deltasResponseRequested:!1}),l)})}}return qc.default=r,qc}var Fd={},k7;function IY(){if(k7)return Fd;k7=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd._makeParamStoreGetter=void 0;const e=To(),t={disableExposureLog:!0};function n(u){return u==null||u.disableExposureLog===!1}function r(u,d){return d!=null&&!(0,e._isTypeMatch)(u,d)}function i(u,d){return u.value}function s(u,d,f){return u.getFeatureGate(d.gate_name,n(f)?void 0:t).value?d.pass_value:d.fail_value}function o(u,d,f,h){const v=u.getDynamicConfig(d.config_name,n(h)?void 0:t).get(d.param_name);return r(v,f)?f:v}function a(u,d,f,h){const v=u.getExperiment(d.experiment_name,n(h)?void 0:t).get(d.param_name);return r(v,f)?f:v}function l(u,d,f,h){const v=u.getLayer(d.layer_name,n(h)?void 0:t).get(d.param_name);return r(v,f)?f:v}function c(u,d,f){return(h,m)=>{if(d==null)return m;const v=d[h];if(v==null||m!=null&&(0,e._typeOf)(m)!==v.param_type)return m;switch(v.ref_type){case"static":return i(v);case"gate":return s(u,v,f);case"dynamic_config":return o(u,v,m,f);case"experiment":return a(u,v,m,f);case"layer":return l(u,v,m,f);default:return m}}}return Fd._makeParamStoreGetter=c,Fd}var pl={},T7;function MY(){if(T7)return pl;T7=1;var e=pl&&pl.__awaiter||function(i,s,o,a){function l(c){return c instanceof o?c:new o(function(u){u(c)})}return new(o||(o=Promise))(function(c,u){function d(m){try{h(a.next(m))}catch(v){u(v)}}function f(m){try{h(a.throw(m))}catch(v){u(v)}}function h(m){m.done?c(m.value):l(m.value).then(d,f)}h((a=a.apply(i,s||[])).next())})};Object.defineProperty(pl,"__esModule",{value:!0}),pl.StatsigEvaluationsDataAdapter=void 0;const t=To(),n=ID();let r=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(s,o,a){super.attach(s,o,a),a!==null&&a instanceof n.default?this._network=a:this._network=new n.default(o??{})}getDataAsync(s,o,a){return this._getDataAsyncImpl(s,(0,t._normalizeUser)(o,this._options),a)}prefetchData(s,o){return this._prefetchDataImpl(s,o)}setData(s){const o=(0,t._typedJsonParse)(s,"has_updates","data");o&&"user"in o?super.setData(s,o.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(s,o){super.setData(s,o)}_fetchFromNetwork(s,o,a,l){var c;return e(this,void 0,void 0,function*(){const u=yield(c=this._network)===null||c===void 0?void 0:c.fetchEvaluations(this._getSdkKey(),s,a?.priority,o,l);return u??null})}_getCacheKey(s){var o;const a=(0,t._getStorageKey)(this._getSdkKey(),s,(o=this._options)===null||o===void 0?void 0:o.customUserCacheKeyFunc);return`${t.DataAdapterCachePrefix}.${this._cacheSuffix}.${a}`}_isCachedResultValidFor204(s,o){return s.fullUserHash!=null&&s.fullUserHash===(0,t._getFullUserHash)(o)}};return pl.StatsigEvaluationsDataAdapter=r,pl}var O7;function RY(){if(O7)return Uc;O7=1;var e=Uc&&Uc.__awaiter||function(a,l,c,u){function d(f){return f instanceof c?f:new c(function(h){h(f)})}return new(c||(c=Promise))(function(f,h){function m(y){try{_(u.next(y))}catch(b){h(b)}}function v(y){try{_(u.throw(y))}catch(b){h(b)}}function _(y){y.done?f(y.value):d(y.value).then(m,v)}_((u=u.apply(a,l||[])).next())})};Object.defineProperty(Uc,"__esModule",{value:!0});const t=To(),n=OY(),r=ID(),i=IY(),s=MY();let o=class q5 extends t.StatsigClientBase{static instance(l){const c=(0,t._getStatsigGlobal)().instance(l);return c instanceof q5?c:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new q5(l??"",{}))}constructor(l,c,u=null){var d,f;t.SDKType._setClientType(l,"javascript-client");const h=new r.default(u,v=>{this.$emt(v)});super(l,(d=u?.dataAdapter)!==null&&d!==void 0?d:new s.StatsigEvaluationsDataAdapter,h,u),this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(l),this._network=h,this._user=this._configureUser(c,u);const m=(f=u?.plugins)!==null&&f!==void 0?f:[];for(const v of m)v.bind(this)}initializeSync(l){var c;return this.loadingStatus!=="Uninitialized"?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(c=this._store.getWarnings())!==null&&c!==void 0?c:[]]):(this._logger.start(),this.updateUserSync(this._user,l))}initializeAsync(l){return e(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(l),this._initializePromise)})}updateUserSync(l,c){var u;const d=performance.now(),f=[...(u=this._store.getWarnings())!==null&&u!==void 0?u:[]];this._resetForUser(l);const h=this.dataAdapter.getDataSync(this._user);h==null&&f.push("NoCachedValues"),this._store.setValues(h,this._user),this._finalizeUpdate(h);const m=c?.disableBackgroundCacheRefresh;return m===!0||m==null&&h?.source==="Bootstrap"?(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-d,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f):(this._runPostUpdate(h??null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-d,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f))}updateUserAsync(l,c){return e(this,void 0,void 0,function*(){this._resetForUser(l);const u=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let d=this.dataAdapter.getDataSync(u);if(this._store.setValues(d,this._user),this._setStatus("Loading",d),d=yield this.dataAdapter.getDataAsync(d,u,c),u!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let f=!1;d!=null&&(t.Diagnostics._markInitProcessStart(this._sdkKey),f=this._store.setValues(d,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:f})),this._finalizeUpdate(d),f||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,f,this._store.getCurrentSourceDetails());const h=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(f,this._store.getSource(),h,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey)}}checkGate(l,c){return this.getFeatureGate(l,c).value}logEvent(l,c,u){const d=typeof l=="string"?{eventName:l,value:c,metadata:u}:l;this.$emt({name:"log_event_called",event:d}),this._logger.enqueue(Object.assign(Object.assign({},d),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(l){return e(this,void 0,void 0,function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,l)})}_finalizeUpdate(l){this._store.finalize(),this._setStatus("Ready",l)}_runPostUpdate(l,c){this.dataAdapter.getDataAsync(l,c,{priority:"low"}).catch(u=>{t.Log.error("An error occurred after update.",u)})}_resetForUser(l){this._logger.reset(),this._store.reset(),this._user=this._configureUser(l,this._options)}_configureUser(l,c){var u;const d=(0,t._normalizeUser)(l,c),f=(u=d.customIDs)===null||u===void 0?void 0:u.stableID;return f&&t.StableID.setOverride(f,this._sdkKey),d}_getFeatureGateImpl(l,c){var u,d;const{result:f,details:h}=this._store.getGate(l),m=(0,t._makeFeatureGate)(l,h,f),v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getGateOverride)===null||d===void 0?void 0:d.call(u,m,this._user,c),_=v??m;return this._enqueueExposure(l,(0,t._createGateExposure)(this._user,_,this._store.getExposureMapping()),c),this.$emt({name:"gate_evaluation",gate:_}),_}_getDynamicConfigImpl(l,c){var u,d;const{result:f,details:h}=this._store.getConfig(l),m=(0,t._makeDynamicConfig)(l,h,f),v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getDynamicConfigOverride)===null||d===void 0?void 0:d.call(u,m,this._user,c),_=v??m;return this._enqueueExposure(l,(0,t._createConfigExposure)(this._user,_,this._store.getExposureMapping()),c),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:_}),_}_getExperimentImpl(l,c){var u,d,f,h;const{result:m,details:v}=this._store.getConfig(l),_=(0,t._makeExperiment)(l,v,m);_.__evaluation!=null&&(_.__evaluation.secondary_exposures=(0,t._mapExposures)((d=(u=_.__evaluation)===null||u===void 0?void 0:u.secondary_exposures)!==null&&d!==void 0?d:[],this._store.getExposureMapping()));const y=(h=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getExperimentOverride)===null||h===void 0?void 0:h.call(f,_,this._user,c),b=y??_;return this._enqueueExposure(l,(0,t._createConfigExposure)(this._user,b,this._store.getExposureMapping()),c),this.$emt({name:"experiment_evaluation",experiment:b}),b}_getLayerImpl(l,c){var u,d,f;const{result:h,details:m}=this._store.getLayer(l),v=(0,t._makeLayer)(l,m,h),_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getLayerOverride)===null||d===void 0?void 0:d.call(u,v,this._user,c);c?.disableExposureLog&&this._logger.incrementNonExposureCount(l);const y=(0,t._mergeOverride)(v,_,(f=_?.__value)!==null&&f!==void 0?f:v.__value,b=>{c?.disableExposureLog||this._enqueueExposure(l,(0,t._createLayerParameterExposure)(this._user,y,b,this._store.getExposureMapping()),c)});return this.$emt({name:"layer_evaluation",layer:y}),y}_getParameterStoreImpl(l,c){var u,d;const{result:f,details:h}=this._store.getParamStore(l);this._logger.incrementNonExposureCount(l);const m={name:l,details:h,__configuration:f,get:(0,i._makeParamStoreGetter)(this,f,c)},v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getParamStoreOverride)===null||d===void 0?void 0:d.call(u,m,c);return v!=null&&(m.__configuration=v.config,m.details=v.details,m.get=(0,i._makeParamStoreGetter)(this,v.config,c)),m}};return Uc.default=o,Uc}var A7;function PY(){return A7||(A7=1,function(e){var t=hl&&hl.__createBinding||(Object.create?function(o,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,c,u)}:function(o,a,l,c){c===void 0&&(c=l),o[c]=a[l]}),n=hl&&hl.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,o,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const r=To(),i=RY();e.StatsigClient=i.default,n(To(),e);const s=Object.assign((0,r._getStatsigGlobal)(),{StatsigClient:i.default});e.default=s}(hl)),hl}var MD=PY(),ml={},gl={},I7;function NY(){if(I7)return gl;I7=1;var e=gl&&gl.__awaiter||function(o,a,l,c){function u(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function h(_){try{v(c.next(_))}catch(y){f(y)}}function m(_){try{v(c.throw(_))}catch(y){f(y)}}function v(_){_.done?d(_.value):u(_.value).then(h,m)}v((c=c.apply(o,a||[])).next())})};Object.defineProperty(gl,"__esModule",{value:!0}),gl.LocalOverrideAdapter=void 0;const t=To(),n="LocalOverride:Recognized";function r(){return{gate:{},dynamicConfig:{},experiment:{},layer:{}}}function i(o,a){return{gate:Object.assign({},o.gate,a.gate),dynamicConfig:Object.assign({},o.dynamicConfig,a.dynamicConfig),experiment:Object.assign({},o.experiment,a.experiment),layer:Object.assign({},o.layer,a.layer)}}let s=class{constructor(a){this._overrides=r(),this._sdkKey=a??null}_getLocalOverridesStorageKey(a){return`statsig.local-overrides.${(0,t._getStorageKey)(a)}`}loadFromStorage(){return e(this,void 0,void 0,function*(){if(this._sdkKey==null)return;t.Storage.isReady()||(yield t.Storage.isReadyResolver());const a=this._getLocalOverridesStorageKey(this._sdkKey),l=t.Storage.getItem(a),c=l?(0,t._typedJsonParse)(l,"gate","LocalOverrideAdapter overrides"):null,u=this._hasInMemoryOverrides();c&&(this._overrides=u?i(c,this._overrides):c),u&&this._saveOverridesToStorage()})}_saveOverridesToStorage(){if(this._sdkKey==null||!t.Storage.isReady())return;const a=this._getLocalOverridesStorageKey(this._sdkKey);t.Storage.setItem(a,JSON.stringify(this._overrides))}overrideGate(a,l){this._overrides.gate[a]=l,this._overrides.gate[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}_warnIfStorageNotReady(){t.Storage.isReady()||t.Log.warn("Storage is not ready. Override removal may not persist.")}removeGateOverride(a){this._warnIfStorageNotReady(),delete this._overrides.gate[a],delete this._overrides.gate[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getGateOverride(a,l){var c;const u=(c=this._overrides.gate[a.name])!==null&&c!==void 0?c:this._overrides.gate[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,details:Object.assign(Object.assign({},a.details),{reason:n})})}overrideDynamicConfig(a,l){this._overrides.dynamicConfig[a]=l,this._overrides.dynamicConfig[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeDynamicConfigOverride(a){this._warnIfStorageNotReady(),delete this._overrides.dynamicConfig[a],delete this._overrides.dynamicConfig[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getDynamicConfigOverride(a,l){return this._getConfigOverride(a,this._overrides.dynamicConfig)}overrideExperiment(a,l){this._overrides.experiment[a]=l,this._overrides.experiment[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeExperimentOverride(a){this._warnIfStorageNotReady(),delete this._overrides.experiment[a],delete this._overrides.experiment[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getExperimentOverride(a,l){return this._getConfigOverride(a,this._overrides.experiment)}overrideLayer(a,l){this._overrides.layer[a]=l,this._overrides.layer[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeLayerOverride(a){this._warnIfStorageNotReady(),delete this._overrides.layer[a],delete this._overrides.layer[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getAllOverrides(){return JSON.parse(JSON.stringify(this._overrides))}removeAllOverrides(){this._warnIfStorageNotReady(),this._overrides=r(),this._saveOverridesToStorage()}getLayerOverride(a,l){var c;const u=(c=this._overrides.layer[a.name])!==null&&c!==void 0?c:this._overrides.layer[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{__value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_getConfigOverride(a,l){var c;const u=(c=l[a.name])!==null&&c!==void 0?c:l[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_hasInMemoryOverrides(){return Object.keys(this._overrides.gate).length>0||Object.keys(this._overrides.dynamicConfig).length>0||Object.keys(this._overrides.experiment).length>0||Object.keys(this._overrides.layer).length>0}};return gl.LocalOverrideAdapter=s,gl}var M7;function DY(){return M7||(M7=1,function(e){var t=ml&&ml.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=ml&&ml.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(NY(),e)}(ml)),ml}var LY=DY();function Ym(e,t,n,r){return mi(e).logEvent(t,n,r)}function Qe(e,t,n){return mi(e).checkGate(t,n)}function On(e,t,n){return mi(e).getDynamicConfig(t,n)}function dh(e,t,n){return mi(e).getExperiment(t,n)}function $t(e,t,n){return mi(e).getLayer(t,n)}const FY=nn(()=>new LY.LocalOverrideAdapter),jY=e=>{const t={};return typeof e?.custom?.auth_status=="string"&&(t.auth_status=e.custom.auth_status),typeof e?.locale=="string"&&(t.browser_locale=e.locale),t};class BY extends MD.StatsigClient{logEvent(t,n,r){const i={...jY(this.getContext().user),...typeof t=="string"?r:t.metadata};super.logEvent(typeof t=="string"?t:t.eventName,typeof t=="string"?n:t.value??void 0,i)}}const mi=nn(e=>{const t=dn(e),n=FY(e),r=new BY(kY,t.statsigPayload.user,{environment:{tier:TY},networkConfig:{api:window.location.origin+"/v1",preventAllNetworkTraffic:!1},loggingBufferMaxSize:100,disableLogging:!1,disableStorage:!1,overrideAdapter:n,logEventCompressionMode:MD.LogEventCompressionMode.Forced});return r.dataAdapter.setData(JSON.stringify(t.statsigPayload)),r.initializeSync(),r});function jd(){return mi(Lt())}const vt={logEvent:(e,t,n)=>jd().logEvent(e,t??void 0,n),checkGate:e=>jd().checkGate(e),getUser:()=>jd().getContext().user,getLayerValue(e){return jd().getLayer(e.layerName,{disableExposureLog:!e.shouldLogExposure}).get(e.key)??e.defaultValue},checkGateWithExposureLoggingDisabled:e=>jd().checkGate(e,{disableExposureLog:!0})};function Mi(){return navigator.userAgent}function ZS(){return/iPad|iPhone|iPod/.test(Mi())}function JS(){return/Android/.test(Mi())}function UY(){return ZS()&&Mi().includes("CriOS")}function sg(){return ZS()||JS()||UY()}function R7(){return/^((?!chrome|android).)*safari/i.test(Mi())}function sPe(){return JS()&&Mi().includes("Chrome")}function qY(){return Mi().includes("Mac OS X")}function RD(){return ZS()||qY()}function oPe(){return Mi().includes("Windows_NT")}function aPe(){return Mi().includes("Chrome/")&&!/Android|iPhone|iPad/i.test(Mi())}function lPe(){return Mi().includes("Firefox")}function QS(){const e=Mi();return/iPad/.test(e)||JS()&&!/Mobile/.test(e)||/Tablet/.test(e)}function zY(){return sg()&&!QS()}function PD(){return sg()||QS()}function XS(){return!PD()}const GY=/^ChatGPT.+Macintosh;.+ Chrome\/([\d.]+) .*$/;function vs(e){return e||(e=Mi()),GY.test(e)}const HY=["Fetch is aborted","Load failed","Script error.","Failed to execute 'insertBefore' on 'Node'","ResizeObserver loop completed with undelivered notifications.","Object Not Found Matching Id","Object.hasOwn is not a function"],VY=100,P7=1e3,kp=[];function N7(e,t){const n=e.findIndex(r=>r<=t);return n===-1?e.length:n}const $Y=e=>{if(e.stack?.includes("-extension://")||e.source==="console"||HY.some(i=>e?.message?.includes(i))||e.type==="RequestError")return!0;const t=Date.now(),n=t-1e3*60;if(N7(kp,n)>=VY)return!0;const r=t-1e3*60*60*24;return N7(kp,r)>=P7?!0:(kp.unshift(t),kp.splice(P7),!1)};function ND(){return location.origin===window.location.origin||!1}function DD(){return vs()?"mini-web":"chatgpt-web"}const D7=typeof window>"u"?void 0:window.DesktopHostGateway,$n=D7?.getVersion()===1?D7:void 0,og=$n!==void 0,LD=og||!1;function cPe(e){if(e===void 0)return;const t=/^ChatGPT\/([\d.]+) \(([^)]+)\) Electron\/([\d.]+) Chrome\/([\d.]+)$/,n=e.match(t);if(n)return n[1]}function L7(...e){try{return new URL(...e)}catch{return null}}function mf(e){const t=new URL(e);return t.searchParams.has("q")&&t.searchParams.set("q","<redacted>"),t.toString()}const e4=window.location.host+"/ces",t4="https",WY={},KY=WY,FD=`${t4}://${e4}`,YY={disableClientPersistence:!0,integrations:{"Segment.io":{apiHost:`${e4}/v1`,host:FD,protocol:t4,deliveryStrategy:{...KY}}}},ZY={writeKey:"oai",cdnURL:`${t4}://${e4}`};var n4={},tn=(e=>(e[e.Required=0]="Required",e[e.SendIfAvailable=1]="SendIfAvailable",e[e.Anonymous=2]="Anonymous",e))(tn||{});const ut=n4.VITE_SHARED_API_URL??window.location.origin+"/backend-api",r4=n4.VITE_SHARED_ANON_API_URL??window.location.origin+"/backend-anon",vm=n4.VITE_PUBLIC_API_URL??window.location.origin+"/public-api",JY="v4-2023-04-27",uPe={IT:"Italy",KR:"South Korea"},QY={AD:"Andorra",AI:"Anguilla",AT:"Austria",AW:"Aruba",AX:"Åland Islands",BG:"Bulgaria",BL:"Saint Barthélemy",BM:"Bermuda",BQ:"Caribbean Netherlands",BV:"Bouvet Island",CH:"Switzerland",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",EE:"Estonia",ES:"Spain",FI:"Finland",FK:"Falkland Islands",FO:"Faroe Islands",FR:"France",GB:"United Kingdom",GF:"French Guiana",GG:"Guernsey",GI:"Gibraltar",GL:"Greenland",GP:"Guadeloupe",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",HR:"Croatia",HU:"Hungary",IC:"Canary Islands",IE:"Ireland",IM:"Isle of Man",IO:"British Indian Ocean Territory",IS:"Iceland",IT:"Italy",JE:"Jersey",KY:"Cayman Islands",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",ME:"Montenegro",MF:"Saint Martin",MQ:"Martinique",MS:"Montserrat",MT:"Malta",NC:"New Caledonia",NL:"Netherlands",NO:"Norway",PF:"French Polynesia",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PT:"Portugal",RE:"Reunion",SE:"Sweden",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SM:"San Marino",SX:"Sint Maarten",TC:"Turks and Caicos Islands",TF:"French Southern Territories",VG:"British Virgin Islands",WF:"Wallis and Futuna",YT:"Mayotte",ZA:"South Africa",ID:"Indonesia",BE:"Belgium",IN:"India",RO:"Romania",CA:"Canada",SG:"Singapore"},jD=[/^https:\/\/ab\.chatgpt\.com\//,e=>e.startsWith(FD),e=>{const t=[ut,r4],n=[/^\/sentinel\//];for(const r of t)if(e.startsWith(r)){const i=e.slice(r.length);return n.some(s=>s.test(i))}return!1}];class XY{#e=!1;#t=new Set;#r=new Set;#n=new Map;initialize(t){if(!this.#e){{const n=og?$n?.getTelemetryConfig?.():void 0,r=n!==void 0?n.datadogService:DD(),i=vs()?100:1;xr.init({applicationId:"fd6e06b8-4825-4fbb-8db4-2a243f92c4bc",clientToken:"pub1f79f8ac903a5872ae5f53026d20a77c",site:"datadoghq.com",service:r,env:"prod",version:"bdc5cffb95039aff27cce085cc9faed14bfcfc29",sessionSampleRate:i,sessionReplaySampleRate:0,trackUserInteractions:!1,defaultPrivacyLevel:ZK.MASK_USER_INPUT,beforeSend:s=>{if(s.type==="error"&&$Y(s.error))return!1;if(s.view.url=mf(s.view.url),s.type==="resource"){const o=L7(s.resource.url);if(o!=null&&(o.hostname===window.location.host||o.pathname.startsWith("/ces/")))return!1;s.resource.url=mf(s.resource.url)}return s.type==="error"&&s.error.resource&&(s.error.resource.url=mf(s.error.resource.url)),!0},allowedTracingUrls:[{match:s=>{const o=L7(s);if(o==null)return!1;const{hostname:a,pathname:l}=o;return!(!["openai.com",window.location.host].some(u=>a.endsWith(u))||a===window.location.host||l.startsWith("/ces/")||l.startsWith("/healthcheck"))},propagatorTypes:["datadog"]}],traceSampleRate:i,excludedActivityUrls:jD,...t}),xr.setGlobalContextProperty("track","stable"),n!==void 0&&xr.setGlobalContextProperty("is_electron_desktop_app",!0),xr.setGlobalContextProperty("is_authenticated",!1)}this.#e=!0,yu.instance.setLogger(this)}}get viewId(){return xr.getInternalContext()?.view?.id}get sessionId(){return xr.getInternalContext()?.session_id}addAction(t,n){this.#e||(console.error("Should not call addAction before initialize"),this.initialize()),xr.addAction(t,n)}addError(t,n){if(console.error(t,n),this.#e||(console.error("Should not call addError before initialize"),this.initialize()),t instanceof mt)return;const r=typeof t=="string"?new Error(t):t;xr.addError(r,n)}addTiming(t,n){const r=n??Date.now();this.#n.set(t,r),this.#e||(console.error("Should not call addTiming before initialize"),this.initialize()),performance.mark(t,{startTime:Math.max(0,r-performance.timeOrigin)}),xr.addTiming(t,n)}addFirstTiming(t,n){this.#t.has(t)||(this.#t.add(t),this.addTiming(t,n))}addDurationVital(t,n,r){xr.addDurationVital(t,{startTime:n,duration:r})}addFirstDurationVital(t,n,r){this.#r.has(t)||(this.#r.add(t),this.addDurationVital(t,n,r))}getTimings(){return this.#n}setUser(t,n){xr.setGlobalContextProperty("is_authenticated",!0);const r={id:t.id,account_plan_type:n?.planType??"none",workspace_id:n?.id};this.#e||(console.error("Should not call setUser before initialize"),this.initialize()),xr.setUser(r)}addFeatureFlagEvaluation(t,n){xr.addFeatureFlagEvaluation(t,n)}}const V=new XY,BD=58*60*1e3,eZ=BD,z5={};function tZ(e,t){z5[e]=t}function nZ(e){return e!=null&&"__type"in e&&e.__type in z5?z5[e.__type](e):e}const UD=JSON.stringify,Wa=nn(rZ);function rZ(e){let t=!0;return e&&(t=$t(e,"892702716").get("react_query_infinite_stale_time",!1),V.addFeatureFlagEvaluation("react_query_infinite",t)),new JK({defaultOptions:{queries:{gcTime:eZ,staleTime:t?1/0:BD,retry:!1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,networkMode:"always",queryKeyHashFn:UD,throwOnError:(n,r)=>{if(!(n instanceof mt||n instanceof cn))try{V.addError(n,{queryKey:r.queryKey.map(String).join(","),queryHash:r.queryHash})}catch(i){console.error(i)}return!1}},hydrate:{deserializeData:nZ}}})}const qD=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!qD)throw new Error("Missing react shared internals. Check version.");function i4(){const e=qD?.H;return e!=null&&e.useState!==e.useReducer}function lt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var iZ={};function ag(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:iZ}var zD=Object.assign,Zm=Object.getOwnPropertyDescriptor,Us=Object.defineProperty,fh=Object.prototype,G5=[];Object.freeze(G5);var s4={};Object.freeze(s4);var sZ=typeof Proxy<"u",oZ=Object.toString();function GD(){sZ||lt("Proxy not available")}function HD(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var bu=function(){};function di(e){return typeof e=="function"}function Yl(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function lg(e){return e!==null&&typeof e=="object"}function Oo(e){if(!lg(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===oZ}function VD(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function hh(e,t,n){Us(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function $D(e,t,n){Us(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Ka(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return lg(r)&&r[n]===!0}}function ld(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function aZ(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function vo(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var WD=typeof Object.getOwnPropertySymbols<"u";function lZ(e){var t=Object.keys(e);if(!WD)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return fh.propertyIsEnumerable.call(e,r)})):t}var qu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:WD?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function KD(e){return e===null?null:typeof e=="object"?""+e:e}function bo(e,t){return fh.hasOwnProperty.call(e,t)}var cZ=Object.getOwnPropertyDescriptors||function(t){var n={};return qu(t).forEach(function(r){n[r]=Zm(t,r)}),n};function ri(e,t){return!!(e&t)}function ii(e,t,n){return n?e|=t:e&=~t,e}function F7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function uZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fZ(r.key),r)}}function cd(e,t,n){return t&&uZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cu(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=hZ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ma.apply(null,arguments)}function YD(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H5(e,t)}function H5(e,t){return H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},H5(e,t)}function dZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(e){if(typeof e=="string")return F7(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F7(e,t):void 0}}var Fs=Symbol("mobx-stored-annotations");function ts(e){function t(n,r){if(mh(r))return e.decorate_20223_(n,r);ph(n,r,e)}return Object.assign(t,e)}function ph(e,t,n){bo(e,Fs)||hh(e,Fs,Ma({},e[Fs])),SZ(n)||(e[Fs][t]=n)}function pZ(e){return bo(e,Fs)||hh(e,Fs,Ma({},e[Fs])),e[Fs]}function mh(e){return typeof e=="object"&&typeof e.kind=="string"}var Ue=Symbol("mobx administration"),Ya=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Nt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return hL(this)},t.reportChanged=function(){Lr(),pL(this),Fr()},t.toString=function(){return this.name_},cd(e,[{key:"isBeingObserved",get:function(){return ri(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=ii(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ri(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=ii(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ri(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=ii(this.flags_,e.diffValueMask_,r===1)}}])}();Ya.isBeingObservedMask_=1;Ya.isPendingUnobservationMask_=2;Ya.diffValueMask_=4;var o4=Ka("Atom",Ya);function cg(e,t,n){t===void 0&&(t=bu),n===void 0&&(n=bu);var r=new Ya(e);return t!==bu&&wL(r,t),n!==bu&&u4(r,n),r}function mZ(e,t){return e===t}function gZ(e,t){return g4(e,t)}function vZ(e,t){return g4(e,t,1)}function _Z(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Zl={identity:mZ,structural:gZ,default:_Z,shallow:vZ};function Jl(e,t,n){return vg(e)?e:Array.isArray(e)?Fn.array(e,{name:n}):Oo(e)?Fn.object(e,void 0,{name:n}):ld(e)?Fn.map(e,{name:n}):vo(e)?Fn.set(e,{name:n}):typeof e=="function"&&!Gu(e)&&!Hu(e)?VD(e)?Xl(e):zu(n,e):e}function yZ(e,t,n){if(e==null||lr(e)||Vr(e)||ur(e)||jn(e))return e;if(Array.isArray(e))return Fn.array(e,{name:n,deep:!1});if(Oo(e))return Fn.object(e,void 0,{name:n,deep:!1});if(ld(e))return Fn.map(e,{name:n,deep:!1});if(vo(e))return Fn.set(e,{name:n,deep:!1})}function ug(e){return e}function bZ(e,t){return g4(e,t)?t:e}var ZD="override",CZ=ts({annotationType_:ZD,make_:wZ,extend_:EZ,decorate_20223_:xZ});function SZ(e){return e.annotationType_===ZD}function wZ(e,t){return 0}function EZ(e,t,n,r){lt("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function xZ(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function gh(e,t){return{annotationType_:e,options_:t,make_:kZ,extend_:TZ,decorate_20223_:OZ}}function kZ(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Gu(n.value))return 1;var s=JD(e,this,t,n,!1);return Us(r,t,s),2}function TZ(e,t,n,r){var i=JD(e,this,t,n);return e.defineProperty_(t,i,r)}function OZ(e,t){var n=t.kind,r=t.name,i=t.addInitializer,s=this,o=function(c){var u,d,f,h;return Ra((u=(d=s.options_)==null?void 0:d.name)!=null?u:r.toString(),c,(f=(h=s.options_)==null?void 0:h.autoAction)!=null?f:!1)};if(n=="field")return function(l){var c,u=l;return Gu(u)||(u=o(u)),(c=s.options_)!=null&&c.bound&&(u=u.bind(this),u.isMobxAction=!0),u};if(n=="method"){var a;return Gu(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&i(function(){var l=this,c=l[r].bind(l);c.isMobxAction=!0,l[r]=c}),e}lt("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function AZ(e,t,n,r){t.annotationType_,r.value}function JD(e,t,n,r,i){var s,o,a,l,c,u,d;i===void 0&&(i=ge.safeDescriptors),AZ(e,t,n,r);var f=r.value;if((s=t.options_)!=null&&s.bound){var h;f=f.bind((h=e.proxy_)!=null?h:e.target_)}return{value:Ra((o=(a=t.options_)==null?void 0:a.name)!=null?o:n.toString(),f,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=t.options_)!=null&&u.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function QD(e,t){return{annotationType_:e,options_:t,make_:IZ,extend_:MZ,decorate_20223_:RZ}}function IZ(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!bo(e.target_,t)||!Hu(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Hu(n.value))return 1;var s=XD(e,this,t,n,!1,!1);return Us(r,t,s),2}function MZ(e,t,n,r){var i,s=XD(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,s,r)}function RZ(e,t){var n,r=t.name,i=t.addInitializer;return Hu(e)||(e=Xl(e)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),e}function PZ(e,t,n,r){t.annotationType_,r.value}function XD(e,t,n,r,i,s){s===void 0&&(s=ge.safeDescriptors),PZ(e,t,n,r);var o=r.value;if(Hu(o)||(o=Xl(o)),i){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function a4(e,t){return{annotationType_:e,options_:t,make_:NZ,extend_:DZ,decorate_20223_:LZ}}function NZ(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function DZ(e,t,n,r){return FZ(e,this,t,n),e.defineComputedProperty_(t,Ma({},this.options_,{get:n.get,set:n.set}),r)}function LZ(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var s=pc(this)[Ue],o=Ma({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new as(o))}),function(){return this[Ue].getObservablePropValue_(r)}}function FZ(e,t,n,r){t.annotationType_,r.get}function dg(e,t){return{annotationType_:e,options_:t,make_:jZ,extend_:BZ,decorate_20223_:UZ}}function jZ(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function BZ(e,t,n,r){var i,s;return qZ(e,this),e.defineObservableProperty_(t,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:Jl,r)}function UZ(e,t){var n=this,r=t.kind,i=t.name,s=new WeakSet;function o(a,l){var c,u,d=pc(a)[Ue],f=new ka(l,(c=(u=n.options_)==null?void 0:u.enhancer)!=null?c:Jl,"ObservableObject."+i.toString(),!1);d.values_.set(i,f),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[Ue].getObservablePropValue_(i)},set:function(l){return s.has(this)||o(this,l),this[Ue].setObservablePropValue_(i,l)},init:function(l){return s.has(this)||o(this,l),l}}}function qZ(e,t,n,r){t.annotationType_}var zZ="true",GZ=eL();function eL(e){return{annotationType_:zZ,options_:e,make_:HZ,extend_:VZ,decorate_20223_:$Z}}function HZ(e,t,n,r){var i,s;if(n.get)return ud.make_(e,t,n,r);if(n.set){var o=Ra(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:ge.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(Us(r,t,{configurable:!0,set:o}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(VD(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?Xl.bound:Xl;return c.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?zu.bound:zu;return u.make_(e,t,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?Fn.ref:Fn;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function VZ(e,t,n,r){var i,s;if(n.get)return ud.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:ge.safeDescriptors?e.isPlainObject_:!0,set:Ra(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?Fn.ref:Fn;return a.extend_(e,t,n,r)}function $Z(e,t){lt("'"+this.annotationType_+"' cannot be used as a decorator")}var WZ="observable",KZ="observable.ref",YZ="observable.shallow",ZZ="observable.struct",tL={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(tL);function Tp(e){return e||tL}var V5=dg(WZ),JZ=dg(KZ,{enhancer:ug}),QZ=dg(YZ,{enhancer:yZ}),XZ=dg(ZZ,{enhancer:bZ}),nL=ts(V5);function Op(e){return e.deep===!0?Jl:e.deep===!1?ug:tJ(e.defaultDecorator)}function eJ(e){var t;return e?(t=e.defaultDecorator)!=null?t:eL(e):void 0}function tJ(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Jl}function rL(e,t,n){if(mh(t))return V5.decorate_20223_(e,t);if(Yl(t)){ph(e,t,V5);return}return vg(e)?e:Oo(e)?Fn.object(e,t,n):Array.isArray(e)?Fn.array(e,t):ld(e)?Fn.map(e,t):vo(e)?Fn.set(e,t):typeof e=="object"&&e!==null?e:Fn.box(e,t)}zD(rL,nL);var nJ={box:function(t,n){var r=Tp(n);return new ka(t,Op(r),r.name,!0,r.equals)},array:function(t,n){var r=Tp(n);return(ge.useProxies===!1||r.proxy===!1?vQ:aQ)(t,Op(r),r.name)},map:function(t,n){var r=Tp(n);return new h4(t,Op(r),r.name)},set:function(t,n){var r=Tp(n);return new p4(t,Op(r),r.name)},object:function(t,n,r){return Za(function(){return d4(ge.useProxies===!1||r?.proxy===!1?pc({},r):rQ({},r),t,n)})},ref:ts(JZ),shallow:ts(QZ),deep:nL,struct:ts(XZ)},Fn=zD(rL,nJ),iL="computed",rJ="computed.struct",$5=a4(iL),iJ=a4(rJ,{equals:Zl.structural}),ud=function(t,n){if(mh(n))return $5.decorate_20223_(t,n);if(Yl(n))return ph(t,n,$5);if(Oo(t))return ts(a4(iL,t));var r=Oo(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new as(r)};Object.assign(ud,$5);ud.struct=ts(iJ);var j7,B7,Jm=0,sJ=1,oJ=(j7=(B7=Zm(function(){},"name"))==null?void 0:B7.configurable)!=null?j7:!1,U7={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ra(e,t,n,r){n===void 0&&(n=!1);function i(){return sL(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},oJ&&(U7.value=e,Us(i,"name",U7)),i}function sL(e,t,n,r,i){var s=oL(e,t);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{aL(s)}}function oL(e,t,n,r){var i=!1,s=0,o=ge.trackingDerivation,a=!t||!o;Lr();var l=ge.allowStateChanges;a&&(hc(),l=fg(!0));var c=pg(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:s,actionId_:sJ++,parentActionId_:Jm};return Jm=u.actionId_,u}function aL(e){Jm!==e.actionId_&&lt(30),Jm=e.parentActionId_,e.error_!==void 0&&(ge.suppressReactionErrors=!0),hg(e.prevAllowStateChanges_),ku(e.prevAllowStateReads_),Fr(),e.runAsAction_&&Co(e.prevDerivation_),ge.suppressReactionErrors=!1}function l4(e,t){var n=fg(e);try{return t()}finally{hg(n)}}function fg(e){var t=ge.allowStateChanges;return ge.allowStateChanges=e,t}function hg(e){ge.allowStateChanges=e}var ka=function(e){function t(r,i,s,o,a){var l;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=Zl.default),l=e.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=i,l.name_=s,l.equals=a,l.value_=i(r,void 0,s),l}YD(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==ge.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(xi(this)){var s=ki(this,{object:this,type:qs,newValue:i});if(!s)return ge.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?ge.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),ns(this)&&rs(this,{type:qs,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return _h(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:qs,newValue:this.value_,oldValue:void 0}),yh(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return KD(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Ya),c4=Ka("ObservableValue",ka),as=function(){function e(n){this.dependenciesState_=Nt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Nt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Xm(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Qm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||lt(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ra("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Zl.structural:Zl.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){vJ(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&lt(32,this.name_,this.derivation),ge.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)W5(this)&&(this.warnAboutUntrackedRead_(),Lr(),this.value_=this.computeValue_(!1),Fr());else if(hL(this),W5(this)){var r=ge.trackingContext;this.keepAlive_&&!r&&(ge.trackingContext=this),this.trackAndCompute()&&gJ(this),ge.trackingContext=r}var i=this.value_;if(_m(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&lt(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else lt(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===Nt.NOT_TRACKING_,s=this.computeValue_(!0),o=i||_m(r)||_m(s)||!this.equals_(r,s);return o&&(this.value_=s),o},t.computeValue_=function(r){this.isComputing=!0;var i=fg(!1),s;if(r)s=lL(this,this.derivation,this.scope_);else if(ge.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new Xm(o)}return hg(i),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(K5(this),this.value_=void 0)},t.observe_=function(r,i){var s=this,o=!0,a=void 0;return mg(function(){var l=s.get();if(!o||i){var c=hc();r({observableKind:"computed",debugObjectName:s.name_,type:qs,object:s,newValue:l,oldValue:a}),Co(c)}o=!1,a=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return KD(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},cd(e,[{key:"isComputing",get:function(){return ri(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=ii(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return ri(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=ii(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return ri(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=ii(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ri(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=ii(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ri(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=ii(this.flags_,e.diffValueMask_,r===1)}}])}();as.isComputingMask_=1;as.isRunningSetterMask_=2;as.isBeingObservedMask_=4;as.isPendingUnobservationMask_=8;as.diffValueMask_=16;var Ql=Ka("ComputedValue",as),Nt;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Nt||(Nt={}));var Qm;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Qm||(Qm={}));var Xm=function(t){this.cause=void 0,this.cause=t};function _m(e){return e instanceof Xm}function W5(e){switch(e.dependenciesState_){case Nt.UP_TO_DATE_:return!1;case Nt.NOT_TRACKING_:case Nt.STALE_:return!0;case Nt.POSSIBLY_STALE_:{for(var t=pg(!0),n=hc(),r=e.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(Ql(o)){if(ge.disableErrorBoundaries)o.get();else try{o.get()}catch{return Co(n),ku(t),!0}if(e.dependenciesState_===Nt.STALE_)return Co(n),ku(t),!0}}return cL(e),Co(n),ku(t),!1}}}function aJ(){return ge.trackingDerivation!==null}function lL(e,t,n){var r=pg(!0);cL(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++ge.runId;var i=ge.trackingDerivation;ge.trackingDerivation=e,ge.inBatch++;var s;if(ge.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(o){s=new Xm(o)}return ge.inBatch--,ge.trackingDerivation=i,lJ(e),ku(r),s}function lJ(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Nt.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,e.newObserving_=null,s=t.length;s--;){var l=t[s];l.diffValue===0&&dL(l,e),l.diffValue=0}for(;i--;){var c=n[i];c.diffValue===1&&(c.diffValue=0,mJ(c,e))}r!==Nt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function K5(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)dL(t[n],e);e.dependenciesState_=Nt.NOT_TRACKING_}function vh(e){var t=hc();try{return e()}finally{Co(t)}}function hc(){var e=ge.trackingDerivation;return ge.trackingDerivation=null,e}function Co(e){ge.trackingDerivation=e}function pg(e){var t=ge.allowStateReads;return ge.allowStateReads=e,t}function ku(e){ge.allowStateReads=e}function cL(e){if(e.dependenciesState_!==Nt.UP_TO_DATE_){e.dependenciesState_=Nt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Nt.UP_TO_DATE_}}var cJ=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],gf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ym=!0,uL=!1,ge=function(){var e=ag();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ym=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new gf().version&&(ym=!1),ym?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new gf):(setTimeout(function(){uL||lt(35)},1),new gf)}();function uJ(){if((ge.pendingReactions.length||ge.inBatch||ge.isRunningReactions)&&lt(36),uL=!0,ym){var e=ag();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),ge=new gf}}function dJ(){return ge}function fJ(){var e=new gf;for(var t in e)cJ.indexOf(t)===-1&&(ge[t]=e[t]);ge.allowStateChanges=!ge.enforceActions}function hJ(e){return e.observers_&&e.observers_.size>0}function pJ(e){return e.observers_}function mJ(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function dL(e,t){e.observers_.delete(t),e.observers_.size===0&&fL(e)}function fL(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,ge.pendingUnobservations.push(e))}function Lr(){ge.inBatch++}function Fr(){if(--ge.inBatch===0){mL();for(var e=ge.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof as&&n.suspend_())}ge.pendingUnobservations=[]}}function hL(e){var t=ge.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&ge.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&ge.inBatch>0&&fL(e),!1)}function pL(e){e.lowestObserverState_!==Nt.STALE_&&(e.lowestObserverState_=Nt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Nt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Nt.STALE_}))}function gJ(e){e.lowestObserverState_!==Nt.STALE_&&(e.lowestObserverState_=Nt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Nt.POSSIBLY_STALE_?t.dependenciesState_=Nt.STALE_:t.dependenciesState_===Nt.UP_TO_DATE_&&(e.lowestObserverState_=Nt.UP_TO_DATE_)}))}function vJ(e){e.lowestObserverState_===Nt.UP_TO_DATE_&&(e.lowestObserverState_=Nt.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Nt.UP_TO_DATE_&&(t.dependenciesState_=Nt.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ls=function(){function e(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Nt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Qm.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,ge.pendingReactions.push(this),mL())},t.runReaction_=function(){if(!this.isDisposed){Lr(),this.isScheduled=!1;var r=ge.trackingContext;if(ge.trackingContext=this,W5(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}ge.trackingContext=r,Fr()}},t.track=function(r){if(!this.isDisposed){Lr(),this.isRunning=!0;var i=ge.trackingContext;ge.trackingContext=this;var s=lL(this,r,void 0);ge.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&K5(this),_m(s)&&this.reportExceptionInDerivation_(s.cause),Fr()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(ge.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";ge.suppressReactionErrors||console.error(s,r),ge.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Lr(),K5(this),Fr()))},t.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[Ue]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},cd(e,[{key:"isDisposed",get:function(){return ri(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=ii(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return ri(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=ii(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return ri(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=ii(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return ri(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=ii(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return ri(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=ii(this.flags_,e.diffValueMask_,r===1)}}])}();ls.isDisposedMask_=1;ls.isScheduledMask_=2;ls.isTrackPendingMask_=4;ls.isRunningMask_=8;ls.diffValueMask_=16;function _J(e){return ge.globalReactionErrorHandlers.push(e),function(){var t=ge.globalReactionErrorHandlers.indexOf(e);t>=0&&ge.globalReactionErrorHandlers.splice(t,1)}}var yJ=100,Y5=function(t){return t()};function mL(){ge.inBatch>0||ge.isRunningReactions||Y5(bJ)}function bJ(){ge.isRunningReactions=!0;for(var e=ge.pendingReactions,t=0;e.length>0;){++t===yJ&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}ge.isRunningReactions=!1}var e1=Ka("Reaction",ls);function CJ(e){var t=Y5;Y5=function(r){return e(function(){return t(r)})}}function vf(){return!1}function gL(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var vL="action",SJ="action.bound",_L="autoAction",wJ="autoAction.bound",yL="<unnamed action>",Z5=gh(vL),EJ=gh(SJ,{bound:!0}),J5=gh(_L,{autoAction:!0}),xJ=gh(wJ,{autoAction:!0,bound:!0});function bL(e){var t=function(r,i){if(di(r))return Ra(r.name||yL,r,e);if(di(i))return Ra(r,i,e);if(mh(i))return(e?J5:Z5).decorate_20223_(r,i);if(Yl(i))return ph(r,i,e?J5:Z5);if(Yl(r))return ts(gh(e?_L:vL,{name:r,autoAction:e}))};return t}var va=bL(!1);Object.assign(va,Z5);var zu=bL(!0);Object.assign(zu,J5);va.bound=ts(EJ);zu.bound=ts(xJ);function t1(e){return sL(e.name||yL,!1,e,this,void 0)}function Gu(e){return di(e)&&e.isMobxAction===!0}function mg(e,t){var n,r,i,s;t===void 0&&(t=s4);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,l;if(a)l=new ls(o,function(){this.track(d)},t.onError,t.requiresObservable);else{var c=CL(t),u=!1;l=new ls(o,function(){u||(u=!0,c(function(){u=!1,l.isDisposed||l.track(d)}))},t.onError,t.requiresObservable)}function d(){e(l)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||l.schedule_(),l.getDisposer_((s=t)==null?void 0:s.signal)}var kJ=function(t){return t()};function CL(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:kJ}function SL(e,t,n){var r,i,s;n===void 0&&(n=s4);var o=(r=n.name)!=null?r:"Reaction",a=va(o,n.onError?TJ(n.onError,t):t),l=!n.scheduler&&!n.delay,c=CL(n),u=!0,d=!1,f,h=n.compareStructural?Zl.structural:n.equals||Zl.default,m=new ls(o,function(){u||l?v():d||(d=!0,c(v))},n.onError,n.requiresObservable);function v(){if(d=!1,!m.isDisposed){var _=!1,y=f;m.track(function(){var b=l4(!1,function(){return e(m)});_=u||!h(f,b),f=b}),(u&&n.fireImmediately||!u&&_)&&a(f,y,m),u=!1}}return(i=n)!=null&&(i=i.signal)!=null&&i.aborted||m.schedule_(),m.getDisposer_((s=n)==null?void 0:s.signal)}function TJ(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var OJ="onBO",AJ="onBUO";function wL(e,t,n){return EL(OJ,e,t,n)}function u4(e,t,n){return EL(AJ,e,t,n)}function EL(e,t,n,r){var i=typeof r=="function"?Ao(t,n):Ao(t),s=di(r)?r:n,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var IJ="never",Ap="always",MJ="observed";function xL(e){e.isolateGlobalState===!0&&uJ();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(ge.useProxies=t===Ap?!0:t===IJ?!1:typeof Proxy<"u"),t==="ifavailable"&&(ge.verifyProxies=!0),n!==void 0){var r=n===Ap?Ap:n===MJ;ge.enforceActions=r,ge.allowStateChanges=!(r===!0||r===Ap)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(ge[i]=!!e[i])}),ge.allowStateReads=!ge.observableRequiresReaction,e.reactionScheduler&&CJ(e.reactionScheduler)}function d4(e,t,n,r){var i=cZ(t);return Za(function(){var s=pc(e,r)[Ue];qu(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),e}function kL(e,t){return TL(Ao(e,t))}function TL(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=PJ(e.observing_).map(TL)),t}function RJ(e,t){return OL(Ao(e,t))}function OL(e){var t={name:e.name_};return hJ(e)&&(t.observers=Array.from(pJ(e)).map(OL)),t}function PJ(e){return Array.from(new Set(e))}var NJ=0;function gg(){this.message="FLOW_CANCELLED"}gg.prototype=Object.create(Error.prototype);function DJ(e){return e instanceof gg}var tv=QD("flow"),LJ=QD("flow.bound",{bound:!0}),Xl=Object.assign(function(t,n){if(mh(n))return tv.decorate_20223_(t,n);if(Yl(n))return ph(t,n,tv);var r=t,i=r.name||"<unnamed flow>",s=function(){var a=this,l=arguments,c=++NJ,u=va(i+" - runid: "+c+" - init",r).apply(a,l),d,f=void 0,h=new Promise(function(m,v){var _=0;d=v;function y(S){f=void 0;var x;try{x=va(i+" - runid: "+c+" - yield "+_++,u.next).call(u,S)}catch(w){return v(w)}C(x)}function b(S){f=void 0;var x;try{x=va(i+" - runid: "+c+" - yield "+_++,u.throw).call(u,S)}catch(w){return v(w)}C(x)}function C(S){if(di(S?.then)){S.then(C,v);return}return S.done?m(S.value):(f=Promise.resolve(S.value),f.then(y,b))}y(void 0)});return h.cancel=va(i+" - runid: "+c+" - cancel",function(){try{f&&q7(f);var m=u.return(void 0),v=Promise.resolve(m.value);v.then(bu,bu),q7(v),d(new gg)}catch(_){d(_)}}),h};return s.isMobXFlow=!0,s},tv);Xl.bound=ts(LJ);function q7(e){di(e.cancel)&&e.cancel()}function FJ(e){return e}function Hu(e){return e?.isMobXFlow===!0}function jJ(e,t,n){var r;return ur(e)||Vr(e)||c4(e)?r=Io(e):lr(e)&&(r=Io(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function BJ(e,t,n){return di(n)?qJ(e,t,n):UJ(e,t)}function UJ(e,t){return Io(e).intercept_(t)}function qJ(e,t,n){return Io(e,t).intercept_(n)}function AL(e,t){if(t===void 0)return Ql(e);if(lr(e)===!1||!e[Ue].values_.has(t))return!1;var n=Ao(e,t);return Ql(n)}function zJ(e){return AL(e)}function GJ(e,t){return AL(e,t)}function IL(e,t){return e?t!==void 0?lr(e)?e[Ue].values_.has(t):!1:lr(e)||!!e[Ue]||o4(e)||e1(e)||Ql(e):!1}function vg(e){return IL(e)}function HJ(e,t){return IL(e,t)}function Lf(e){if(lr(e))return e[Ue].keys_();if(ur(e)||jn(e))return Array.from(e.keys());if(Vr(e))return e.map(function(t,n){return n});lt(5)}function VJ(e){if(lr(e))return Lf(e).map(function(t){return e[t]});if(ur(e))return Lf(e).map(function(t){return e.get(t)});if(jn(e))return Array.from(e.values());if(Vr(e))return e.slice();lt(6)}function $J(e){if(lr(e))return Lf(e).map(function(t){return[t,e[t]]});if(ur(e))return Lf(e).map(function(t){return[t,e.get(t)]});if(jn(e))return Array.from(e.entries());if(Vr(e))return e.map(function(t,n){return[n,t]});lt(7)}function ML(e,t,n){if(arguments.length===2&&!jn(e)){Lr();var r=t;try{for(var i in r)ML(e,i,r[i])}finally{Fr()}return}lr(e)?e[Ue].set_(t,n):ur(e)?e.set(t,n):jn(e)?e.add(t):Vr(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&lt("Invalid index: '"+t+"'"),Lr(),t>=e.length&&(e.length=t+1),e[t]=n,Fr()):lt(8)}function WJ(e,t){lr(e)?e[Ue].delete_(t):ur(e)||jn(e)?e.delete(t):Vr(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):lt(9)}function RL(e,t){if(lr(e))return e[Ue].has_(t);if(ur(e))return e.has(t);if(jn(e))return e.has(t);if(Vr(e))return t>=0&&t<e.length;lt(10)}function KJ(e,t){if(RL(e,t)){if(lr(e))return e[Ue].get_(t);if(ur(e))return e.get(t);if(Vr(e))return e[t];lt(11)}}function YJ(e,t,n){if(lr(e))return e[Ue].defineProperty_(t,n);lt(39)}function PL(e){if(lr(e))return e[Ue].ownKeys_();lt(38)}function ZJ(e,t,n,r){return di(n)?QJ(e,t,n,r):JJ(e,t,n)}function JJ(e,t,n){return Io(e).observe_(t,n)}function QJ(e,t,n,r){return Io(e,t).observe_(n,r)}function Ip(e,t,n){return e.set(t,n),n}function ou(e,t){if(e==null||typeof e!="object"||e instanceof Date||!vg(e))return e;if(c4(e)||Ql(e))return ou(e.get(),t);if(t.has(e))return t.get(e);if(Vr(e)){var n=Ip(t,e,new Array(e.length));return e.forEach(function(o,a){n[a]=ou(o,t)}),n}if(jn(e)){var r=Ip(t,e,new Set);return e.forEach(function(o){r.add(ou(o,t))}),r}if(ur(e)){var i=Ip(t,e,new Map);return e.forEach(function(o,a){i.set(a,ou(o,t))}),i}else{var s=Ip(t,e,{});return PL(e).forEach(function(o){fh.propertyIsEnumerable.call(e,o)&&(s[o]=ou(e[o],t))}),s}}function XJ(e,t){return ou(e,new Map)}function eQ(){}function Ns(e,t){t===void 0&&(t=void 0),Lr();try{return e.apply(t)}finally{Fr()}}function Q5(e,t,n){return arguments.length===1||t&&typeof t=="object"?tQ(e,t):NL(e,t,n||{})}function NL(e,t,n){var r;if(typeof n.timeout=="number"){var i=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!o[Ue].isDisposed)if(o(),n.onError)n.onError(i);else throw i},n.timeout)}n.name="When";var s=Ra("When-effect",t),o=mg(function(a){var l=l4(!1,e);l&&(a.dispose(),r&&clearTimeout(r),s())},n);return o}function tQ(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,i,s=new Promise(function(o,a){var l,c=NL(e,o,Ma({},t,{onError:a}));r=function(){c(),a(new Error("WHEN_CANCELLED"))},i=function(){c(),a(new Error("WHEN_ABORTED"))},t==null||(l=t.signal)==null||l.addEventListener==null||l.addEventListener("abort",i)}).finally(function(){var o;return t==null||(o=t.signal)==null||o.removeEventListener==null?void 0:o.removeEventListener("abort",i)});return s.cancel=r,s}function zc(e){return e[Ue]}var nQ={has:function(t,n){return zc(t).has_(n)},get:function(t,n){return zc(t).get_(n)},set:function(t,n,r){var i;return Yl(n)?(i=zc(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return Yl(n)?(r=zc(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=zc(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return zc(t).ownKeys_()},preventExtensions:function(t){lt(13)}};function rQ(e,t){var n,r;return GD(),e=pc(e,t),(r=(n=e[Ue]).proxy_)!=null?r:n.proxy_=new Proxy(e,nQ)}function xi(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function _h(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),HD(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ki(e,t){var n=hc();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&(t=r[i](t),t&&!t.type&&lt(14),!!t);i++);return t}finally{Co(n)}}function ns(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function yh(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),HD(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function rs(e,t){var n=hc(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](t);Co(n)}}function DL(e,t,n){return Za(function(){var r,i=pc(e,n)[Ue];(r=t)!=null||(t=pZ(e)),qu(t).forEach(function(s){return i.make_(s,t[s])})}),e}var nv=Symbol("mobx-keys");function iQ(e,t,n){return Oo(e)?d4(e,e,t,n):(Za(function(){var r=pc(e,n)[Ue];if(!e[nv]){var i=Object.getPrototypeOf(e),s=new Set([].concat(qu(e),qu(i)));s.delete("constructor"),s.delete(Ue),hh(i,nv,s)}e[nv].forEach(function(o){return r.make_(o,t&&o in t?t[o]:!0)})}),e)}var z7="splice",qs="update",sQ=1e4,oQ={get:function(t,n){var r=t[Ue];return n===Ue?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):bo(n1,n)?n1[n]:t[n]},set:function(t,n,r){var i=t[Ue];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){lt(15)}},f4=function(){function e(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new Ya(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return _h(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),yh(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&lt("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&lt(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&UL(r+i+1)},t.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=G5),xi(this)){var l=ki(this,{object:this.proxy_,type:z7,index:r,removedCount:i,added:s});if(!l)return G5;i=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var c=s.length-i;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,i,s){if(s.length<sQ){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),l=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var c=0;c<s.length;c++)this.values_[r+c]=s[c];for(var u=0;u<l.length;u++)this.values_[r+s.length+u]=l[u];return a}},t.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&vf(),a=ns(this),l=a||o?{observableKind:"array",object:this.proxy_,type:qs,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&rs(this,l)},t.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&vf(),a=ns(this),l=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:z7,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&rs(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&lt(17,r,s.length),r<s.length){this.atom_;var o=s[r];if(xi(this)){var a=ki(this,{type:qs,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var l=i!==o;l&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var c=new Array(r+1-s.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=i,this.spliceWithArray_(s.length,0,c)}},e}();function aQ(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),GD(),Za(function(){var i=new f4(n,t,r,!1);$D(i.values_,Ue,i);var s=new Proxy(i.values_,oQ);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s})}var n1={clear:function(){return this.splice(0)},replace:function(t){var n=this[Ue];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[Ue];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[Ue].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Ue],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Ue].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Ue],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return ge.trackingDerivation&&lt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ge.trackingDerivation&&lt(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Ue],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Jt("at",gi);Jt("concat",gi);Jt("flat",gi);Jt("includes",gi);Jt("indexOf",gi);Jt("join",gi);Jt("lastIndexOf",gi);Jt("slice",gi);Jt("toString",gi);Jt("toLocaleString",gi);Jt("toSorted",gi);Jt("toSpliced",gi);Jt("with",gi);Jt("every",_s);Jt("filter",_s);Jt("find",_s);Jt("findIndex",_s);Jt("findLast",_s);Jt("findLastIndex",_s);Jt("flatMap",_s);Jt("forEach",_s);Jt("map",_s);Jt("some",_s);Jt("toReversed",_s);Jt("reduce",LL);Jt("reduceRight",LL);function Jt(e,t){typeof Array.prototype[e]=="function"&&(n1[e]=t(e))}function gi(e){return function(){var t=this[Ue];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function _s(e){return function(t,n){var r=this,i=this[Ue];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[e](function(o,a){return t.call(n,o,a,r)})}}function LL(e){return function(){var t=this,n=this[Ue];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,t)},r[e].apply(r,arguments)}}var lQ=Ka("ObservableArrayAdministration",f4);function Vr(e){return lg(e)&&lQ(e[Ue])}var cQ={},_a="add",r1="delete",h4=function(){function e(n,r,i){var s=this;r===void 0&&(r=Jl),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ue]=cQ,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,di(Map)||lt(18),Za(function(){s.keysAtom_=cg("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!ge.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new ka(this.has_(r),ug,"ObservableMap.key?",!1);this.hasMap_.set(r,o),u4(o,function(){return i.hasMap_.delete(r)})}return s.get()},t.set=function(r,i){var s=this.has_(r);if(xi(this)){var o=ki(this,{type:s?qs:_a,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,xi(this)){var s=ki(this,{type:r1,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=vf(),a=ns(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:r1,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ns(function(){var c;i.keysAtom_.reportChanged(),(c=i.hasMap_.get(r))==null||c.setNewValue_(!1);var u=i.data_.get(r);u.setNewValue_(void 0),i.data_.delete(r)}),a&&rs(this,l),!0}return!1},t.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==ge.UNCHANGED){var o=vf(),a=ns(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:qs,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&rs(this,l)}},t.addValue_=function(r,i){var s=this;this.keysAtom_,Ns(function(){var c,u=new ka(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,u),i=u.value_,(c=s.hasMap_.get(r))==null||c.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=vf(),a=ns(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:_a,object:this,name:r,newValue:i}:null;a&&rs(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return G7({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,i=this.keys();return G7({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var s=Cu(this),o;!(o=s()).done;){var a=o.value,l=a[0],c=a[1];r.call(i,c,l,this)}},t.merge=function(r){var i=this;return ur(r)&&(r=new Map(r)),Ns(function(){Oo(r)?lZ(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):ld(r)?(aZ(r)||lt(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&lt(20,r)}),this},t.clear=function(){var r=this;Ns(function(){vh(function(){for(var i=Cu(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.replace=function(r){var i=this;return Ns(function(){for(var s=uQ(r),o=new Map,a=!1,l=Cu(i.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!s.has(u)){var d=i.delete(u);if(d)a=!0;else{var f=i.data_.get(u);o.set(u,f)}}}for(var h=Cu(s.entries()),m;!(m=h()).done;){var v=m.value,_=v[0],y=v[1],b=i.data_.has(_);if(i.set(_,y),i.data_.has(_)){var C=i.data_.get(_);o.set(_,C),b||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var S=i.data_.keys(),x=o.keys(),w=S.next(),E=x.next();!w.done;){if(w.value!==E.value){i.keysAtom_.reportChanged();break}w=S.next(),E=x.next()}i.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return yh(this,r)},t.intercept_=function(r){return _h(this,r)},cd(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ur=Ka("ObservableMap",h4);function G7(e){return e[Symbol.toStringTag]="MapIterator",v4(e)}function uQ(e){if(ld(e)||ur(e))return e;if(Array.isArray(e))return new Map(e);if(Oo(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return lt(21,e)}var dQ={},p4=function(){function e(n,r,i){var s=this;r===void 0&&(r=Jl),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Ue]=dQ,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,di(Set)||lt(22),this.enhancer_=function(o,a){return r(o,a,i)},Za(function(){s.atom_=cg(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Ns(function(){vh(function(){for(var i=Cu(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.forEach=function(r,i){for(var s=Cu(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},t.add=function(r){var i=this;if(this.atom_,xi(this)){var s=ki(this,{type:_a,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Ns(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=ns(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:_a,object:this,newValue:r}:null;a&&rs(this,l)}return this},t.delete=function(r){var i=this;if(xi(this)){var s=ki(this,{type:r1,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=ns(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:r1,object:this,oldValue:r}:null;return Ns(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&rs(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return H7({next:function(){var s=r.next(),o=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[o,o],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return H7({next:function(){var o=i.next(),a=o.value,l=o.done;return l?{value:void 0,done:l}:{value:r.dehanceValue_(a),done:l}}})},t.intersection=function(r){if(vo(r)&&!jn(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(vo(r)&&!jn(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(vo(r)&&!jn(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(vo(r)&&!jn(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return jn(r)&&(r=new Set(r)),Ns(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):vo(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&lt("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return yh(this,r)},t.intercept_=function(r){return _h(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},cd(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),jn=Ka("ObservableSet",p4);function H7(e){return e[Symbol.toStringTag]="SetIterator",v4(e)}var V7=Object.create(null),$7="remove",FL=function(){function e(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=GZ),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new Ya("ObservableObject.keys"),this.isPlainObject_=Oo(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof as)return s.set(i),!0;if(xi(this)){var o=ki(this,{type:qs,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==ge.UNCHANGED){var a=ns(this),l=!1,c=a||l?{type:qs,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&rs(this,c)}return!0},t.get_=function(r){return ge.trackingDerivation&&!bo(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,s){return s===void 0&&(s=!1),bo(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!ge.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new ka(r in this.target_,ug,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[Fs])!=null&&s[r])return;lt(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==fh;){var a=Zm(o,r);if(a){var l=i.make_(this,r,a,o);if(l===0)return;if(l===1)break}o=Object.getPrototypeOf(o)}K7(this,i,r)}},t.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var a=s.extend_(this,r,i,o);return a&&K7(this,s,r),a},t.defineProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Lr();var o=this.delete_(r);if(!o)return o;if(xi(this)){var a=ki(this,{object:this.proxy_||this.target_,name:r,type:_a,newValue:i.value});if(!a)return null;var l=a.newValue;i.value!==l&&(i=Ma({},i,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else Us(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{Fr()}return!0},t.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{Lr();var a=this.delete_(r);if(!a)return a;if(xi(this)){var l=ki(this,{object:this.proxy_||this.target_,name:r,type:_a,newValue:i});if(!l)return null;i=l.newValue}var c=W7(r),u={configurable:ge.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Us(this.target_,r,u);var d=new ka(i,s,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{Fr()}return!0},t.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Lr();var o=this.delete_(r);if(!o)return o;if(xi(this)){var a=ki(this,{object:this.proxy_||this.target_,name:r,type:_a,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var l=W7(r),c={configurable:ge.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,r,c))return!1}else Us(this.target_,r,c);this.values_.set(r,new as(i)),this.notifyPropertyAddition_(r,void 0)}finally{Fr()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!bo(this.target_,r))return!0;if(xi(this)){var s=ki(this,{object:this.proxy_||this.target_,name:r,type:$7});if(!s)return null}try{var o;Lr();var a=ns(this),l=!1,c=this.values_.get(r),u=void 0;if(!c&&(a||l)){var d;u=(d=Zm(this.target_,r))==null?void 0:d.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(c&&(this.values_.delete(r),c instanceof ka&&(u=c.value_),pL(c)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||l){var f={type:$7,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:r};a&&rs(this,f)}}finally{Fr()}return!0},t.observe_=function(r,i){return yh(this,r)},t.intercept_=function(r){return _h(this,r)},t.notifyPropertyAddition_=function(r,i){var s,o=ns(this),a=!1;if(o||a){var l=o||a?{type:_a,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;o&&rs(this,l)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),qu(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function pc(e,t){var n;if(bo(e,Ue))return e;var r=(n=t?.name)!=null?n:"ObservableObject",i=new FL(e,new Map,String(r),eJ(t));return hh(e,Ue,i),e}var fQ=Ka("ObservableObjectAdministration",FL);function W7(e){return V7[e]||(V7[e]={get:function(){return this[Ue].getObservablePropValue_(e)},set:function(n){return this[Ue].setObservablePropValue_(e,n)}})}function lr(e){return lg(e)?fQ(e[Ue]):!1}function K7(e,t,n){var r;(r=e.target_[Fs])==null||delete r[n]}var hQ=BL(0),pQ=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),rv=0,jL=function(){};function mQ(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}mQ(jL,Array.prototype);var m4=function(e){function t(r,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,Za(function(){var l=new f4(s,i,o,!0);l.proxy_=a,$D(a,Ue,l),r&&r.length&&a.spliceWithArray(0,0,r),pQ&&Object.defineProperty(a,"0",hQ)}),a}YD(t,e);var n=t.prototype;return n.concat=function(){this[Ue].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return Vr(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,i=0;return v4({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},cd(t,[{key:"length",get:function(){return this[Ue].getArrayLength_()},set:function(i){this[Ue].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(jL);Object.entries(n1).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&hh(m4.prototype,t,n)});function BL(e){return{enumerable:!1,configurable:!0,get:function(){return this[Ue].get_(e)},set:function(n){this[Ue].set_(e,n)}}}function gQ(e){Us(m4.prototype,""+e,BL(e))}function UL(e){if(e>rv){for(var t=rv;t<e+100;t++)gQ(t);rv=e}}UL(1e3);function vQ(e,t,n){return new m4(e,t,n)}function Ao(e,t){if(typeof e=="object"&&e!==null){if(Vr(e))return t!==void 0&&lt(23),e[Ue].atom_;if(jn(e))return e.atom_;if(ur(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||lt(25,t,i1(e)),n}if(lr(e)){if(!t)return lt(26);var r=e[Ue].values_.get(t);return r||lt(27,t,i1(e)),r}if(o4(e)||Ql(e)||e1(e))return e}else if(di(e)&&e1(e[Ue]))return e[Ue];lt(28)}function Io(e,t){if(e||lt(29),t!==void 0)return Io(Ao(e,t));if(o4(e)||Ql(e)||e1(e)||ur(e)||jn(e))return e;if(e[Ue])return e[Ue];lt(24,e)}function i1(e,t){var n;if(t!==void 0)n=Ao(e,t);else{if(Gu(e))return e.name;lr(e)||ur(e)||jn(e)?n=Io(e):n=Ao(e)}return n.name_}function Za(e){var t=hc(),n=fg(!0);Lr();try{return e()}finally{Fr(),hg(n),Co(t)}}var Y7=fh.toString;function g4(e,t,n){return n===void 0&&(n=-1),X5(e,t,n)}function X5(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var o=Y7.call(e);if(o!==Y7.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Z7(e),t=Z7(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(di(l)&&l instanceof l&&di(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var u=r.length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!X5(e[u],t[u],n-1,r,i))return!1}else{var d=Object.keys(e),f=d.length;if(Object.keys(t).length!==f)return!1;for(var h=0;h<f;h++){var m=d[h];if(!(bo(t,m)&&X5(e[m],t[m],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function Z7(e){return Vr(e)?e.slice():ld(e)||ur(e)||vo(e)||jn(e)?Array.from(e.entries()):e}var J7,_Q=((J7=ag().Iterator)==null?void 0:J7.prototype)||{};function v4(e){return e[Symbol.iterator]=yQ,Object.assign(Object.create(_Q),e)}function yQ(){return this}["Symbol","Map","Set"].forEach(function(e){var t=ag();typeof t[e]>"u"&&lt("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:gL,extras:{getDebugName:i1},$mobx:Ue});const dPe=Object.freeze(Object.defineProperty({__proto__:null,$mobx:Ue,FlowCancellationError:gg,ObservableMap:h4,ObservableSet:p4,Reaction:ls,_allowStateChanges:l4,_allowStateChangesInsideComputed:t1,_allowStateReadsEnd:ku,_allowStateReadsStart:pg,_autoAction:zu,_endAction:aL,_getAdministration:Io,_getGlobalState:dJ,_interceptReads:jJ,_isComputingDerivation:aJ,_resetGlobalState:fJ,_startAction:oL,action:va,autorun:mg,comparer:Zl,computed:ud,configure:xL,createAtom:cg,defineProperty:YJ,entries:$J,extendObservable:d4,flow:Xl,flowResult:FJ,get:KJ,getAtom:Ao,getDebugName:i1,getDependencyTree:kL,getObserverTree:RJ,has:RL,intercept:BJ,isAction:Gu,isBoxedObservable:c4,isComputed:zJ,isComputedProp:GJ,isFlow:Hu,isFlowCancellationError:DJ,isObservable:vg,isObservableArray:Vr,isObservableMap:ur,isObservableObject:lr,isObservableProp:HJ,isObservableSet:jn,keys:Lf,makeAutoObservable:iQ,makeObservable:DL,observable:Fn,observe:ZJ,onBecomeObserved:wL,onBecomeUnobserved:u4,onReactionError:_J,override:CZ,ownKeys:PL,reaction:SL,remove:WJ,runInAction:t1,set:ML,spy:gL,toJS:XJ,trace:eQ,transaction:Ns,untracked:vh,values:VJ,when:Q5},Symbol.toStringTag,{value:"Module"}));if(!p.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!DL)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function bQ(e){e()}function CQ(e){e||(e=bQ),xL({reactionScheduler:e})}function SQ(e){return kL(e)}var wQ=1e4,EQ=1e4,xQ=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=wQ),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(s,o){i-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,EQ))}}),e}(),kQ=typeof FinalizationRegistry<"u"?FinalizationRegistry:xQ,e6=new kQ(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),iv={exports:{}},sv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q7;function TQ(){if(Q7)return sv;Q7=1;var e=GS();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),m=r({inst:{value:h,getSnapshot:f}}),v=m[0].inst,_=m[1];return s(function(){v.value=h,v.getSnapshot=f,l(v)&&_({inst:v})},[d,h,f]),i(function(){return l(v)&&_({inst:v}),d(function(){l(v)&&_({inst:v})})},[d]),o(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return sv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,sv}var X7;function OQ(){return X7||(X7=1,iv.exports=TQ()),iv.exports}var AQ=OQ();function e8(e){e.reaction=new ls("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function IQ(e,t){t===void 0&&(t="observed");var n=Le.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return e6.unregister(r),r.onStoreChange=a,r.reaction||(e8(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(e8(i),e6.register(n,i,i)),Le.useDebugValue(i.reaction,SQ),AQ.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var s,o;if(i.reaction.track(function(){try{s=e()}catch(a){o=a}}),o)throw o;return s}var ov,av,qL=typeof Symbol=="function"&&Symbol.for;av=(ov=Object.getOwnPropertyDescriptor(function(){},"name"))===null||ov===void 0?void 0:ov.configurable;qL?Symbol.for("react.forward_ref"):typeof p.forwardRef=="function"&&p.forwardRef(function(e){return null}).$$typeof;qL?Symbol.for("react.memo"):typeof p.memo=="function"&&p.memo(function(e){return null}).$$typeof;var lv;CQ(HS.unstable_batchedUpdates);lv=e6.finalizeAllImmediately;function MQ(e,t){return t===void 0&&(t="observed"),IQ(e,t)}function kt(e,t){const n=DQ(e),r=Fn.box(n?void 0:e,{deep:!1,name:t?.name,equals:t?.equals});let i=n?()=>{i=void 0,r.set(e())}:void 0;const s=()=>(i?.(),r.get()),o=t?.getServerFallback,a=$L(s),l=o?fi(a,{name:t.name,getServerFallback:o}):a;return l.set=c=>{WL(),t1(()=>{r?.set(VL(c)?c(vh(s)):c)})},l}function zr(e){return MQ(()=>Pa(e))}function fi(e,t){const n=t?.getServerFallback,r=ud(n?()=>HL()?n():Pa(e):()=>Pa(e),{name:t?.name,equals:t?.equals});return $L(()=>r.get())}function RQ(e){if(i4())throw new Error("[signal] Cannot run effect directly within React component");let t;const n=mg(()=>{t?.(),t=Pa(e)});return()=>{n(),t?.()}}function zL(e,t,n){return SL(()=>Pa(e),t,{equals:n?.equals,fireImmediately:n?.fireImmediately})}function jl(e){return vh(()=>Pa(e))}function fPe(e,t){return typeof t=="function"?Q5(()=>Pa(e),t):Q5(()=>Pa(e))}function PQ(e){return t1(e)}function Do(e,t,n){let r;const i=cg(n?.name??"syncExternalStoreSignal",()=>{let o=t();r=e(()=>{WL();const a=t();o!==a&&(o=a,i.reportChanged())})},()=>{r?.()}),s=n?.getServerFallback;return fi(()=>s&&HL()?s():(i.reportObserved(),t()))}const GL=kt(!0,{name:"isServerRendering"}),HL=GL;function NQ(){p.useLayoutEffect(()=>{GL.set(!1)},[])}function DQ(e){return typeof e=="function"}function VL(e){return typeof e=="function"}function $L(e){return()=>(LQ(),e())}let s1=0;function Pa(e){try{return s1++,e()}finally{s1--}}function LQ(){!s1&&i4()&&t6(new Error("[signal] Must read signal with useObserve() or untracked() within React component"))}function WL(){s1&&t6(new Error("[signal] Cannot update signal value directly within useObserve(), computed() or effect()")),i4()&&t6(new Error("[signal] Cannot update signal value directly within React component"))}function t6(e){V.addError(e)}function bh(e,t,n){const r=Wa(e),i=t8(()=>r.defaultQueryOptions({...t(),notifyOnChangeProps:["data","isLoading","error","status"]})),s=t8(()=>new VS(r,i()));return Do(o=>{let a=!1;const l=s().subscribe(()=>{a&&o()});return a=!0,l},()=>s().getOptimisticResult(i()),{name:n?.name??"reactQuerySignal",getServerFallback:n?.forcePendingOnServer?()=>FQ(e):void 0})}const FQ=nn(e=>{const t=Wa(e),n=t.defaultQueryOptions({queryKey:["__empty"]});return new VS(t,n).getOptimisticResult(n)});function t8(e){let t;return()=>t??(t=e())}function jQ(e,t){return Do(n=>e.subscribe(n),()=>e.getState(),{name:"storeSignal",getServerFallback:()=>e.getInitialState()})}function BQ(e,t,n){return Do(r=>e.subscribe((i,s)=>{t(i)!==t(s)&&r()}),()=>t(e.getState()),{name:"storeWithSelectorSignal",getServerFallback:()=>t(e.getInitialState())})}const UQ="OAI-Language",_g="OAI-Client-Version",yg="OAI-Device-Id",_r="OAI-Product-Sku",qQ={},n8=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(qQ?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},Lo=e=>e?n8(e):n8;var cv={exports:{}},uv={},dv={exports:{}},fv={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r8;function zQ(){if(r8)return fv;r8=1;var e=GS();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),m=r({inst:{value:h,getSnapshot:f}}),v=m[0].inst,_=m[1];return s(function(){v.value=h,v.getSnapshot=f,l(v)&&_({inst:v})},[d,h,f]),i(function(){return l(v)&&_({inst:v}),d(function(){l(v)&&_({inst:v})})},[d]),o(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return fv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,fv}var i8;function GQ(){return i8||(i8=1,dv.exports=zQ()),dv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s8;function HQ(){if(s8)return uv;s8=1;var e=GS(),t=GQ();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,l=e.useDebugValue;return uv.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var m=s(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=a(function(){function y(w){if(!b){if(b=!0,C=w,w=f(w),h!==void 0&&v.hasValue){var E=v.value;if(h(E,w))return S=E}return S=w}if(E=S,r(C,w))return E;var T=f(w);return h!==void 0&&h(E,T)?E:(C=w,S=T)}var b=!1,C,S,x=d===void 0?null:d;return[function(){return y(u())},x===null?void 0:function(){return y(x())}]},[u,d,f,h]);var _=i(c,m[0],m[1]);return o(function(){v.hasValue=!0,v.value=_},[_]),l(_),_},uv}var o8;function VQ(){return o8||(o8=1,cv.exports=HQ()),cv.exports}var $Q=VQ();const KL=mn($Q),YL={},{useDebugValue:WQ}=Le,{useSyncExternalStoreWithSelector:KQ}=KL;let a8=!1;const YQ=e=>e;function dd(e,t=YQ,n){(YL?"production":void 0)!=="production"&&n&&!a8&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),a8=!0);const r=KQ(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return WQ(r),r}const l8=e=>{(YL?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Lo(e):e,n=(r,i)=>dd(t,r,i);return Object.assign(n,t),n},fn=e=>e?l8(e):l8,ZQ="bdc5cffb95039aff27cce085cc9faed14bfcfc29",JQ="prod",QQ="",XQ="",fd=`${JQ}-${ZQ}${QQ}${XQ}`;var vl={},Mp={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var c8;function eX(){if(c8)return Mp;c8=1,Mp.parse=r,Mp.serialize=i;var e=decodeURIComponent,t=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(o,a){if(typeof o!="string")throw new TypeError("argument str must be a string");for(var l={},c=a||{},u=o.split(";"),d=c.decode||e,f=0;f<u.length;f++){var h=u[f],m=h.indexOf("=");if(!(m<0)){var v=h.substring(0,m).trim();if(l[v]==null){var _=h.substring(m+1,h.length).trim();_[0]==='"'&&(_=_.slice(1,-1)),l[v]=s(_,d)}}}return l}function i(o,a,l){var c=l||{},u=c.encode||t;if(typeof u!="function")throw new TypeError("option encode is invalid");if(!n.test(o))throw new TypeError("argument name is invalid");var d=u(a);if(d&&!n.test(d))throw new TypeError("argument val is invalid");var f=o+"="+d;if(c.maxAge!=null){var h=c.maxAge-0;if(isNaN(h)||!isFinite(h))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(h)}if(c.domain){if(!n.test(c.domain))throw new TypeError("option domain is invalid");f+="; Domain="+c.domain}if(c.path){if(!n.test(c.path))throw new TypeError("option path is invalid");f+="; Path="+c.path}if(c.expires){if(typeof c.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(f+="; HttpOnly"),c.secure&&(f+="; Secure"),c.sameSite){var m=typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite;switch(m){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f}function s(o,a){try{return a(o)}catch{return o}}return Mp}var u8;function tX(){return u8||(u8=1,function(e){var t=vl&&vl.__assign||function(){return t=Object.assign||function(_){for(var y,b=1,C=arguments.length;b<C;b++){y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(_[S]=y[S])}return _},t.apply(this,arguments)},n=vl&&vl.__rest||function(_,y){var b={};for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&y.indexOf(C)<0&&(b[C]=_[C]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,C=Object.getOwnPropertySymbols(_);S<C.length;S++)y.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(_,C[S])&&(b[C[S]]=_[C[S]]);return b};Object.defineProperty(e,"__esModule",{value:!0}),e.checkCookies=e.hasCookie=e.removeCookies=e.deleteCookie=e.setCookies=e.setCookie=e.getCookie=e.getCookies=void 0;var r=eX(),i=function(){return typeof window<"u"},s=function(_){if(_==="true")return!0;if(_==="false")return!1;if(_!=="undefined")return _==="null"?null:_},o=function(_){_===void 0&&(_="");try{var y=JSON.stringify(_);return/^[\{\[]/.test(y)?y:_}catch{return _}},a=function(_){return _&&_.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},l=function(_){var y;if(_&&(y=_.req),!i())return y&&y.cookies?y.cookies:y&&y.headers&&y.headers.cookie?(0,r.parse)(y.headers.cookie):{};for(var b={},C=document.cookie?document.cookie.split("; "):[],S=0,x=C.length;S<x;S++){var w=C[S].split("="),E=w.slice(1).join("="),T=w[0];b[T]=E}return b};e.getCookies=l;var c=function(_,y){var b=(0,e.getCookies)(y),C=b[_];if(C!==void 0)return s(a(C))};e.getCookie=c;var u=function(_,y,b){var C,S,x;if(b){var w=b.req,E=b.res,T=n(b,["req","res"]);S=w,x=E,C=T}var O=(0,r.serialize)(_,o(y),t({path:"/"},C));if(i())document.cookie=O;else if(x&&S){var k=x.getHeader("Set-Cookie");if(Array.isArray(k)||(k=k?[String(k)]:[]),x.setHeader("Set-Cookie",k.concat(O)),S&&S.cookies){var A=S.cookies;y===""?delete A[_]:A[_]=o(y)}if(S&&S.headers&&S.headers.cookie){var A=(0,r.parse)(S.headers.cookie);y===""?delete A[_]:A[_]=o(y),S.headers.cookie=Object.entries(A).reduce(function(D,N){return D.concat("".concat(N[0],"=").concat(N[1],";"))},"")}}};e.setCookie=u;var d=function(_,y,b){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,e.setCookie)(_,y,b)};e.setCookies=d;var f=function(_,y){return(0,e.setCookie)(_,"",t(t({},y),{maxAge:-1}))};e.deleteCookie=f;var h=function(_,y){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,e.deleteCookie)(_,y)};e.removeCookies=h;var m=function(_,y){if(!_)return!1;var b=(0,e.getCookies)(y);return b.hasOwnProperty(_)};e.hasCookie=m;var v=function(_,y){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,e.hasCookie)(_,y)};e.checkCookies=v}(vl)),vl}var Rp=tX(),je=(e=>(e.AgeVerification="oai-av-seen",e.AllowNonessential="oai-allow-ne",e.CookieBannerShownPath="oai-cbs",e.CookieBannerIgnored="oai-cbi",e.LastVoiceInteraction="oai-lvi",e.DeviceId="oai-did",e.WaId="oai-wid",e.IpOverride="oai-ip-country",e.GeohashOverride="oai-geohash-override",e.IpCityOverride="oai-ip-city",e.ShowPaymentModal="ui-show-payment-modal",e.TempEnableUnauthedCompliance="temp-oai-compliance",e.Workspace="_account",e.WorkspaceResidencyRegion="_account_residency_region",e.LastLocation="oai-ll",e.HideLoggedOutBanner="hide-logged-out-banner",e.HasLoggedInBefore="oai-hlib",e.PunchOutInfoToken="oai-poit",e.PunchOutRequireLoginInfo="oai-porli",e.SharedConversationId="oai-sh-c-i",e.AuthSessionLoggingId="oai-asli",e.PunchOutRequireAnonToAuthedToken="oai-po-ra2a",e.PunchOutAnonToAuthedEnabled="oai-po-a2a",e.DowngradeAccountEnabled="oai-downgrade-account-enabled",e.DogfoodingAccountType="oai-dogfooding-account-type",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.HasClickedOnTryItFirstLink="oai-tif-20240402",e.IntercomDeviceIdProd="intercom-device-id-dgkjq2bp",e.IntercomDeviceIdDev="intercom-device-id-izw1u7l7",e.DomainMigrationSourceCompleted="oai-dm-src-c-240329",e.DomainMigrationTargetCompleted="oai-dm-tgt-c-240329",e.SignupRedirectUrl="signup_redirect_url",e.DesktopResultsTab="sonic_desktop_results_tab",e.NavigationState="oai-nav-state",e.PreferredLocale="oai-locale",e.ThreadSidebarState="oai-thread-sidebar",e.InternalSearchSettings="oai-internal-search-settings",e.LastUsedModel="oai-last-model",e.LastUsedModelConfig="oai-last-model-config",e.IsSpecificModel="oai-is-specific-model",e.ModelStickyForNewChats="oai-model-sticky-for-new-chats",e.GreetingName="oai-gn",e.headlineMessage="oai-hm",e.ConsentAnalytics="oai_consent_analytics",e.ConsentMarketing="oai_consent_marketing",e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.LastSelectedGithubRepo="oai-last-selected-github-repo",e.ShowInternalModels="oai-show-internal-models",e.SidebarSections="oai-sidebar-sections",e))(je||{});const nX=["gclid","fbclid","rdt_cid","ttclid","li_fat_id"],rX=["ajs_user_id","ajs_user_traits"],iX={sameSite:"lax"},hv=".chatgpt.com",ZL=window!==window.top,sX=e=>e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);class JL{allowAnalyticsCookies=!1;allowMarketingCookies=!1;constructor(){ZL||(this.synchronizeWithLocalStorage(),setInterval(()=>this.synchronizeWithLocalStorage(),6e4))}setAllowAnalyticsCookies_CLIENT_ONLY(t){this.allowAnalyticsCookies=t,t===!1&&this.clearAnalyticsCookies()}setAllowMarketingCookies_CLIENT_ONLY(t){this.allowMarketingCookies=t,t===!1&&this.clearMarketingCookies()}clearAnalyticsCookies(){for(const t of rX)this.deleteCookie(t)}clearMarketingCookies(){for(const t of nX)this.deleteCookie(t)}synchronizeWithLocalStorage(){[je.Workspace,je.WorkspaceResidencyRegion,je.DeviceId].forEach(n=>{const r=Rp.getCookie(n);r!=null?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)})}_getCookie(t){const n=Rp.getCookies()[t];return n===void 0?void 0:sX(n)}getCookie(t){return this._getCookie(t)}getBooleanCookie(t){const n=this._getCookie(t);return n==null?void 0:n==="true"}getAnalyticsCookie(t){if(this.allowAnalyticsCookies)return this._getCookie(t);this.deleteCookie(t)}getMarketingCookie(t){if(this.allowMarketingCookies)return this._getCookie(t);this.deleteCookie(t)}_setCookie(t,n,r){Rp.setCookie(t,n,{...iX,...r})}setCookie(t,n,r){this._setCookie(t,n,r)}setBooleanCookie(t,n,r){this._setCookie(t,n!=null?n?"true":"false":void 0,r)}setAnalyticsCookie(t,n,r){this.allowAnalyticsCookies?this._setCookie(t,n,r):this.deleteCookie(t)}setMarketingCookie(t,n,r){this.allowMarketingCookies?this._setCookie(t,n,r):this.deleteCookie(t)}deleteCookie(t){const n={};Rp.deleteCookie(t,n)}}class oX extends JL{getCookie(t){const n=localStorage.getItem(t);return typeof n=="string"?JSON.parse(n):n}setCookie(){}setAnalyticsCookie(){}setMarketingCookie(){}deleteCookie(){}setAllowAnalyticsCookies_CLIENT_ONLY(){}setAllowMarketingCookies_CLIENT_ONLY(){}}const $e=ZL?new oX:new JL,aX=60*60*24*30*12,lX=()=>qr(),cX=e=>typeof e=="string"&&e.length>0,uX=e=>{const t={maxAge:aX};return e.endsWith("openai.com")?t.domain=".openai.com":e.endsWith(window.location.host)&&(t.domain=".chatgpt.com"),t};function dX(){return window.location.hostname??void 0}function Fo(e=dX()){const t=$e.getCookie(je.DeviceId);if(cX(t))return t;const n=lX(),r=uX(e);return $e.setCookie(je.DeviceId,n,r),n}function hPe(){window.location.href=window.location.origin+"/auth/logout"}const fX="auth_session_logging_id";var _4=(e=>(e.OpenAI="openai",e.OpenAIDev="openai-dev",e.Mocked="mocked",e.OpenAISidetron="openai-sidetron",e.OpenAISidetronDev="openai-sidetron-dev",e))(_4||{}),hX=(e=>(e[e.Auth0=1]="Auth0",e[e.WorkOS=2]="WorkOS",e))(hX||{});const QL=nn(e=>{const t=dn(e),n=t.authStatus==="logged_in"?t.session:null;return Lo(()=>({session:n}))});function _n(e){return dn(e).authStatus==="logged_in"}function hd(e){return QL(e).getState().session}function Ch(e){return hd(e)?.accessToken}async function pX(e){try{const t=Date.now(),n=new URL("/api/auth/session",location.origin);n.searchParams.set("refresh","true");for(const[l,c]of Object.entries(e))n.searchParams.set(l,c);const r=Fo();V.addAction(`Refreshing access token due to ${e.reason} error.`,{...e,url:location.origin+(e.path??""),deviceId:r});const i=await fetch(n,{headers:{[yg]:r,[_g]:fd}}),s=await i.json(),a=(Date.now()-t)/1e3;if(i.status!==200&&V.addAction("fetchSession.statusNon200",{status:i.status,reqDuration:a}),Object.keys(s).length)return s.accessToken==null&&s.error==null&&V.addAction("missing_access_token_error",{error:`Missing access token for User: ${s.user?.id} (${s.accessToken})`}),s.error==="RefreshAccessTokenError"&&window._oaiHandleSessionExpired?.("page load",s.error),s.error&&V.addAction("fetchSession.error",{error:s.error}),s}catch{}return null}function Sh(){const e=pe();return{session:hd(e),isLoading:!1}}function mX(e){return!e||!e.email?!1:e.email.endsWith("@openai.com")}var gr=(e=>(e.LoggedOut="logged_out",e.LoggedIn="logged_in",e))(gr||{});const pPe="https://api.openai.com/mfa",gX=nn(()=>({pending:null}));function XL(e,t){const n=QL(e),r=n.getState().session;r&&n.setState({session:{...r,accessToken:t}})}function eF(e,t){const n=gX(e);return n.pending||(n.pending=(async()=>{try{const r=await pX(t);r?.accessToken&&XL(e,r.accessToken)}finally{n.pending=null}})()),n.pending}class vX{windowStyle$=kt(void 0);wantsModelSlug$=kt(void 0);selectedConversationId$=kt(void 0);wantsNewConversation$=kt(!1);prepareConversationDetails;attachments;whisperContent;tabContext;requestCompletion;wantsRequestCompletion$=kt(!1);populatePrompt;wantsPopulatePrompt$=kt(!1);context$=kt(void 0);promptOrigin=void 0;authSessionContext=void 0;wantsAuthSessionContext$=kt(!1);agentRequest;wantsHandleAgentRequest$=kt(!1);wantsAgentConversationSentMessage$=kt(!1);agentConversationSentMessage;signalAgentConversationSentMessage(t){this.agentConversationSentMessage={clientThreadId:t},this.wantsAgentConversationSentMessage$.set(!0)}sidebarUrlTrayOpen$=kt(!0);wantsAttachUserFile$=kt(!1);attachUserFileRequest;wantsSetChatTheme$=kt(!1);chatTheme}const nr=new vX,o1="new_page_view",n6="sidebar_view",_X={name:"ref",value:"mini"},yX={name:"ref",value:"mini-sidebar"};let Ff;function tF(e){Ff=e}function mPe(){tF(n6)}function gPe(){tF(o1)}function jo(e){return y4(e)||nF(e)}function y4(e){return Ff?Ff===o1:dn(e).windowStyle===o1}function nF(e){return Ff?Ff===n6:dn(e).windowStyle===n6}function vPe(e){return dn(e).windowStyle===o1}function bX(e){return jo(e)&&dn(e).isContainerOTR===!0}function _Pe(e){const t="gpt-5";if(e?.has(t))return t;const n="gpt-4o";if(e?.has(n))return n}function yPe(e){return y4(e)}function rF(e){zr(nr.windowStyle$);const t=pe();return e(t)}function bPe(){const e=pe();return bX(e)?!0:jo(e)&&!_n(e)}function CPe(e){return Qe(e,"1224064188")}class CX extends TypeError{constructor(t,n){let r;const{message:i,explanation:s,...o}=t,{path:a}=t,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function SX(e){return wh(e)&&typeof e[Symbol.iterator]=="function"}function wh(e){return typeof e=="object"&&e!=null}function a1(e){return wh(e)&&!Array.isArray(e)}function ec(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function wX(e){const{done:t,value:n}=e.next();return t?void 0:n}function EX(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ec(r)}\``}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:l}}function*d8(e,t,n,r){SX(e)||(e=[e]);for(const i of e){const s=EX(i,t,n,r);s&&(yield s)}}function*iF(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(e=t.coercer(e,a));let l="valid";for(const c of t.validator(e,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,d]of t.entries(e,a)){const f=iF(u,d,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const h of f)h[0]?(l=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):s&&(u=h[1],c===void 0?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):wh(e)&&(u!==void 0||c in e)&&(e[c]=u))}if(l!=="not_valid")for(const c of t.refiner(e,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,e])}class Eh{constructor(t){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return d8(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return d8(u,c,this,l)}:this.refiner=()=>[]}assert(t,n){return xX(t,this,n)}create(t,n){return kX(t,this,n)}is(t){return OX(t,this)}mask(t,n){return TX(t,this,n)}validate(t,n={}){return xh(t,this,n)}}function xX(e,t,n){const r=xh(e,t,{message:n});if(r[0])throw r[0]}function kX(e,t,n){const r=xh(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function TX(e,t,n){const r=xh(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function OX(e,t){return!xh(e,t)[0]}function xh(e,t,n={}){const r=iF(e,t,n),i=wX(r);return i[0]?[new CX(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function b4(e,t){return new Eh({type:e,schema:null,validator:t})}function SPe(e){return new Eh({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${ec(t)}`}})}function wPe(){return b4("boolean",e=>typeof e=="boolean")}function EPe(e){const t={},n=e.map(r=>ec(r)).join();for(const r of e)t[r]=r;return new Eh({type:"enums",schema:t,validator(r){return e.includes(r)||`Expected one of \`${n}\`, but received: ${ec(r)}`}})}function AX(){return b4("never",()=>!1)}function IX(e){const t=e?Object.keys(e):[],n=AX();return new Eh({type:"object",schema:e||null,*entries(r){if(e&&wh(r)){const i=new Set(Object.keys(r));for(const s of t)i.delete(s),yield[s,r[s],e[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return a1(r)||`Expected an object, but received: ${ec(r)}`},coercer(r,i){if(!a1(r))return r;const s={...r};if(i.mask&&e)for(const o in s)e[o]===void 0&&delete s[o];return s}})}function f8(){return b4("string",e=>typeof e=="string"||`Expected a string, but received: ${ec(e)}`)}function xPe(e){const t=Object.keys(e);return new Eh({type:"type",schema:e,*entries(n){if(wh(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return a1(n)||`Expected an object, but received: ${ec(n)}`},coercer(n){return a1(n)?{...n}:n}})}var mc=(e=>(e.Sunshine="sunshine",e.GoldenHour="golden_hour",e.TrainingAllowed="training_allowed",e.ShowExpandedCodeView="show_expanded_code_view",e.VoiceName="voice_name",e.VoiceMainLanguage="voice_main_language",e.MemoryInSearch="memory_in_search",e.VoiceTrainingAllowed="voice_training_allowed",e.VideoTrainingAllowed="video_training_allowed",e.Moonshine="moonshine",e.CodexTrainingAllowed="codex_training_allowed_v2",e.ModelStickyForNewChats="model_sticky_for_new_chats",e.ShowLegacyModels="show_legacy_models",e.HiveReferencedInInternalKnowledge="hive_referenced_in_internal_knowledge",e.DeveloperMode="developer_mode",e.Gift="gift",e.ChatTheme="chat_theme",e.LastUsedModelConfig="last_used_model_config",e.VoiceSpeed="voice_speed",e.EnableRemoteBrowserData="enable_remote_browser_data",e.H17180rGmail="h17180r_gmail",e.H17180rGoogleCalendar="h17180r_google_calendar",e.H17180rGoogleContacts="h17180r_google_contacts",e))(mc||{}),ca=(e=>(e.DEEP_RESEARCH="deep_research",e.WORKSPACE_GPT_CUSTOM_ACTIONS="workspace_gpt_custom_actions",e.APP_PAIRING="app_pairing",e.BROWSING="browsing",e.CANVAS="canvas",e.CANVAS_CODE_EXECUTION="canvas_code_execution",e.CANVAS_CODE_NETWORK_ACCESS="canvas_code_network_access",e.DALLE="dalle",e.MEMORY="sunshine",e.LEGACY_MODELS="legacy_models",e.CONTEXT_CONNECTOR_CONFLUENCE="context_connector_confluence",e.CONTEXT_CONNECTOR_GDRIVE="context_connector_gdrive",e.CONTEXT_CONNECTOR_JIRA="context_connector_java",e.CONTEXT_CONNECTOR_NOTION="context_connector_notion",e.CONTEXT_CONNECTOR_O365_PERSONAL="context_connector_o365_personal",e.CONTEXT_CONNECTOR_O365_BUSINESS="context_connector_o365_business",e.CONTEXT_CONNECTOR_SLACK="context_connector_slack",e.CONTEXT_CONNECTOR_GITHUB="context_connector_github",e.CLIENT_APPLICATION_APPLE="client_application_apple",e.CLIENT_APPLICATION_APPLE_MDM_REQUIRED="client_application_apple_mdm_required",e.MEMORY_IN_SEARCH="memory_in_search_2",e.VIDEO_SCREEN_SHARING="video_screen_sharing",e.HIVE="hive",e.HIVE_KNOWLEDGE_RETRIEVAL="hive_knowledge_retrieval",e.ALLOW_CODEX_ACCESS="wham_access",e.ALLOW_CODEX_LOCAL_ACCESS="wham_local_access",e.CODEX_AGENT_NETWORK_ACCESS="codex_agent_network_access",e.WORKSPACE_POLICY="workspace_policy",e))(ca||{}),MX=(e=>(e.FREE="chatgptfreeplan",e.GO="chatgptgoplan",e.PLUS="chatgptplusplan",e.PRO="chatgptpro",e.PRO_FREE="chatgptprofreeplan",e.PLUS_FREE="chatgptplusfreeplan",e.SELF_SERVE_BUSINESS="chatgptteamplan",e.ENTERPRISE_CBP_SEAT_USAGE="chatgptbusiness_seat_usage",e.ENTERPRISE_CBP_FLAT="chatgptbusiness_flat",e.EDUCATION_CBP_FLAT="chatgpteducation_flat",e.QUORUM="chatgptquorumplan",e.DEPRECATED_ENTERPRISE="chatgptenterpriseplan",e.DEPRECATED_EDU="chatgpteduplan",e))(MX||{}),Ke=(e=>(e.FREE="free",e.GO="go",e.PLUS="plus",e.PRO="pro",e.SELF_SERVE_BUSINESS="team",e.ENTERPRISE_CBP="business",e.EDUCATION_CBP="education",e.QUORUM="quorum",e.DEPRECATED_ENTERPRISE="enterprise",e.DEPRECATED_EDU="edu",e))(Ke||{}),RX=(e=>(e.ANYONE="anyone",e.NO_ONE="no_one",e.WORKSPACE_ONLY="workspace_only",e))(RX||{});const kPe={ALLOW_ALL:"allow_all",ALLOW_SPECIFIC:"allow_specific",ALLOW_NONE:"allow_none"};var PX=(e=>(e.GPT_SHARE_SETTINGS="gpt_share_setting",e.CHAT_SHARE_SETTINGS="chat_share_setting",e))(PX||{}),NX=(e=>(e.WORKSPACE="workspace",e.THIRD_PARTY="third_party",e.UNASSIGNED="unassigned",e))(NX||{}),Il=(e=>(e.WEB="web",e.IOS_APP="ios_app",e.ANDROID_APP="android_app",e.WINDOWS_APP="windows_app",e.MAC_APP="mac_os_app",e.DEFAULT="default",e))(Il||{}),Ml=(e=>(e.CodeInterpreter="code_interpreter",e.Multimodal="multimodal",e.Retrieval="retrieval",e.ContextConnector="context_connector",e))(Ml||{}),DX=(e=>(e.FREE="free",e.PLUS="plus",e))(DX||{}),As=(e=>(e.TOOL_USE="tool_use",e.IMAGE="image",e.ATTACHMENT="attachment",e.AUDIO="audio",e.TARGETED_REPLY="targeted_reply",e.CANVAS_SUPPORTED="canvas_supported",e.TOOL_SEARCH="tool_search",e.CUSTOM_INSTRUCTIONS="custom_instructions",e.GIZMO_PROJECT="gizmo_project",e))(As||{}),LX=(e=>(e.SHORT_LABEL="short_label",e.TITLE="title",e))(LX||{}),Dr=(e=>(e[e.DEPRECATED_PENDING=1]="DEPRECATED_PENDING",e[e.DEPRECATED_FINISHED=2]="DEPRECATED_FINISHED",e[e.STREAMING=3]="STREAMING",e[e.UNREAD=4]="UNREAD",e[e.REALTIME=5]="REALTIME",e))(Dr||{}),Ps=(e=>(e[e.CLIENT=1]="CLIENT",e[e.SERVER=2]="SERVER",e))(Ps||{}),Gr=(e=>(e.PERSONAL="personal",e.WORKSPACE="workspace",e))(Gr||{}),_f=(e=>(e.OWNER="account-owner",e.ADMIN="account-admin",e.STANDARD="standard-user",e))(_f||{}),FX=(e=>(e.VERIFIED="verified",e.PENDING="pending",e.EXPIRED="expired",e))(FX||{}),jX=(e=>(e.PERCENTAGE="percentage",e.FIXED="fixed",e))(jX||{}),Ln=(e=>(e.AceUpload="ace_upload",e.MyFiles="my_files",e.LibraryFiles="library_files",e.Multimodal="multimodal",e.ProfilePicture="profile_picture",e.Gizmo="agent",e.DalleAgent="dalle_agent",e.Codex="codex",e))(Ln||{}),si=(e=>(e.Initial="initial",e.FileCreated="file_created",e.FileUploaded="file_uploaded",e.FileProcessed="file_processed",e.RetrievalIndexCreated="retrieval_index_created",e))(si||{}),jf=(e=>(e.Success="success",e.Retry="retry",e.Error="error",e))(jf||{}),Tu=(e=>(e.Success="success",e.Failed="failed",e.Processing="processing",e.Skipped="skipped",e))(Tu||{}),Ne=(e=>(e.GDRIVE="gdrive",e.O365="o365",e.O365_PERSONAL="o365_personal",e.O365_BUSINESS="o365_business",e.CONFLUENCE="confluence",e.JIRA="java",e.NOTION_OPEN_CONNECTOR="notion_open_connector",e.SLACK_OPEN_CONNECTOR="slack_open_connector",e))(Ne||{});const q={GDRIVE_ACTION_CONNECTOR:"gdrive_action_connector",GITHUB_CONNECTOR:"github_connector",LINEAR_CONNECTOR:"linear_connector",DROPBOX_CONNECTOR:"dropbox_connector",SHAREPOINT_CONNECTOR:"sharepoint_connector",GCAL_CONNECTOR:"google_calendar_connector",GMAIL_CONNECTOR:"gmail_connector",GOOGLE_CONTACTS_CONNECTOR:"google_contacts_connector",TEAMS_CONNECTOR:"teams_connector",OUTLOOK_CALENDAR_CONNECTOR:"outlook_calendar_connector",OUTLOOK_EMAIL_CONNECTOR:"outlook_email_connector",BOX_CONNECTOR:"box_connector",INTERCOM_CONNECTOR:"intercom_connector",NOTION_CONNECTOR:"notion_connector",HUBSPOT_CONNECTOR:"hubspot_connector",CANVA_CONNECTOR:"canva_connector",SLACK_CONNECTOR:"slack_connector",UAE_PASS_CONNECTOR:"uae_pass_connector",SHAREPOINT_ADMIN_CONNECTOR:"sharepoint_admin_connector"};var kh=(e=>(e.MCP_CONNECTOR="mcp_connector",e))(kh||{}),sF=(e=>(e.GDRIVE_SYNC_CONNECTOR="gdrive_sync_connector",e.SLACK_SYNC_CONNECTOR="slack_sync_connector",e))(sF||{}),BX=(e=>(e.GCAL_CONNECTOR="gcal_action_connector",e.GMAIL_CONNECTOR="gmail_action_connector",e.GOOGLE_CONTACTS_CONNECTOR="google_contacts_action_connector",e))(BX||{}),UX=(e=>(e.PAGE="page",e))(UX||{}),qX=(e=>(e.PAGE="page",e.DATABASE="database",e))(qX||{}),zX=(e=>(e.MESSAGE="message",e))(zX||{}),GX=(e=>(e.PYTHON="python",e.RETRIEVAL="retrieval",e.BROWSER="browser",e.CANVAS="canvas",e.FUNCTION="function",e.DALLE="dalle",e.API="api",e.PARALLEL_BROWSE="parallel_browse",e.MEMORY="memory",e.CONTEXT_CONNECTOR="context_connector",e.JIT_PLUGIN="plugins_prototype",e.IMAGE_GEN="image_gen",e))(GX||{}),HX=(e=>(e.Gizmo="gizmo",e.ShareableConversation="share_link",e.Conversation="conversation",e.Post="post",e.CommerceProduct="commerce_product",e.Connector="connector",e))(HX||{}),VX=(e=>(e.UserName="user_name",e.UserEmail="user_email",e.EntityName="entity_name",e.EntityUrl="entity_url",e.SampleLongerInput="sample_longer_input",e.SampleUrl="sample_url_input",e.SampleIntInput="sample_int_input",e))(VX||{});const TPe={shouldnt_have_created:Gn({id:"ImageGenFeedback.ShouldNotHaveCreated",defaultMessage:"Shouldn't have created an image"}),dont_like_style:Gn({id:"ImageGenFeedback.DontLikeStyle",defaultMessage:"Don't like the style"}),didnt_fully_follow_instructions:Gn({id:"ImageGenFeedback.DidntFollowInstructions",defaultMessage:"Didn't fully follow instructions"}),low_quality_or_distorted:Gn({id:"ImageGenFeedback.LowQualityOrDistorted",defaultMessage:"Low quality or distorted"}),odd_cropping:Gn({id:"ImageGenFeedback.OddCropping",defaultMessage:"Odd cropping"}),inaccurate_editing:Gn({id:"ImageGenFeedback.InaccurateEditing",defaultMessage:"Inaccurate editing"}),inaccurate_text_rendering:Gn({id:"ImageGenFeedback.InaccurateTextRendering",defaultMessage:"Inaccurate text rendering"}),unsafe_or_problematic:Gn({id:"ImageGenFeedback.UnsafeOrProblematic",defaultMessage:"Unsafe or problematic"}),biased:Gn({id:"ImageGenFeedback.Biased",defaultMessage:"Biased"}),other:Gn({id:"ImageGenFeedback.Other",defaultMessage:"Other"})};var $X=(e=>(e.AUDIO_ISSUES="audio_issues",e.RESPONSE_QUALITY="response_quality",e.INTERRUPTIONS="interruptions",e.TRANSCRIPTION_ISSUES="transcription_issues",e.INAUDIBLE_ISSUES="inaudible_issues",e.OTHER="other",e))($X||{});const OPe={audio_issues:Gn({id:"VoiceFeedback.AudioIssues",defaultMessage:"Audio issues"}),response_quality:Gn({id:"VoiceFeedback.ResponseQuality",defaultMessage:"I didn't like the responses"}),interruptions:Gn({id:"VoiceFeedback.Interruptions",defaultMessage:"It interrupted me"}),transcription_issues:Gn({id:"VoiceFeedback.TranscriptionIssues",defaultMessage:"It misheard me"}),inaudible_issues:Gn({id:"VoiceFeedback.InaudibleIssues",defaultMessage:"It couldn't hear me"}),other:Gn({id:"VoiceFeedback.Other",defaultMessage:"Other"})};var WX=(e=>(e.THUMBS_UP="thumbs_up",e.THUMBS_DOWN="thumbs_down",e))(WX||{}),KX=(e=>(e.Auto="auto",e.Arabic="ar",e.Bosnian="bs",e.Bulgarian="bg",e.Catalan="ca",e.Chinese="zh",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.English="en",e.Finnish="fi",e.French="fr",e.Galician="gl",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Macedonian="mk",e.Malay="ms",e.Norwegian="no",e.Polish="pl",e.Portuguese="pt",e.Romanian="ro",e.Russian="ru",e.Slovak="sk",e.Spanish="es",e.Tagalog="tl",e.Tamil="ta",e.Thai="th",e.Turkish="tr",e.Swedish="sv",e.Ukrainian="uk",e.Vietnamese="vi",e))(KX||{});const APe=["new_chat","switch_to_standard","ok","upgrade_to_plus","upgrade_to_pro"],pv="account_switch",mv="error",IPe=IX({email:f8(),token:f8()});var YX=(e=>(e.InvalidProof="invalid_proof",e.ExternalAccountAlreadyLinked="external_account_already_linked",e.InternalAccountAlreadyLinked="account_already_linked",e.UnsupportedPlatform="unsupported_platform",e.UnsupportedPlanType="unsupported_plan_type",e.SessionExpired="user_session_expired",e))(YX||{});function MPe(e){if(typeof e!="object"||e==null)return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function RPe(e){return e!=null}const ZX=(e,t)=>e.includes(t),JX=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},PPe=(e,t=[])=>n=>JX(n,e,t),QX=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,XX=(e,t)=>{const n=QX(e),r={};for(const i in t)r[i]=t[i](n?.[i]);return r},NPe=e=>t=>XX(t,e),DPe=(e,t="")=>typeof e=="object"||e==null?t:String(e),LPe=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},FPe=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},r6=(e,t,n=t[0])=>ZX(t,e)?e:n,jPe=(e,t=e[0])=>n=>r6(n,e,t),BPe=e=>t=>t===void 0?void 0:e(t),eee=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10 10.168C10.8271 10.1681 11.4987 10.8389 11.499 11.666C11.499 12.2542 11.1583 12.7616 10.665 13.0068V14.166C10.665 14.5332 10.3671 14.8309 10 14.8311C9.63288 14.8309 9.33496 14.5332 9.33496 14.166V13.0068C8.84181 12.7616 8.50195 12.2542 8.50195 11.666C8.50231 10.8389 9.17286 10.1681 10 10.168Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.83496C12.6683 1.83514 14.8311 3.99865 14.8311 6.66699V6.93262C15.1047 6.98164 15.3605 7.05589 15.6035 7.17969L15.8213 7.30176C16.3171 7.60583 16.7208 8.04242 16.9863 8.56348L17.0527 8.70605C17.197 9.04236 17.2622 9.40304 17.2949 9.80371C17.3317 10.254 17.3311 10.8109 17.3311 11.5V13.5C17.3311 14.1891 17.3317 14.746 17.2949 15.1963C17.2622 15.597 17.197 15.9576 17.0527 16.2939L16.9863 16.4365C16.7208 16.9576 16.3171 17.3942 15.8213 17.6982L15.6035 17.8203C15.2268 18.0122 14.8202 18.0915 14.3623 18.1289C13.9122 18.1656 13.3548 18.165 12.666 18.165H7.33301C6.64407 18.165 6.08689 18.1657 5.63672 18.1289C5.23621 18.0962 4.87526 18.0309 4.53906 17.8867L4.39649 17.8203C3.87557 17.5548 3.43881 17.1509 3.13477 16.6553L3.0127 16.4365C2.82094 16.0599 2.74151 15.654 2.7041 15.1963C2.66732 14.7461 2.66797 14.1891 2.66797 13.5V11.5C2.66797 10.8109 2.66732 10.2539 2.7041 9.80371C2.74151 9.34597 2.82094 8.94005 3.0127 8.56348L3.13477 8.34473C3.43881 7.8491 3.87557 7.44517 4.39649 7.17969L4.53906 7.11328C4.7388 7.02761 4.94775 6.97131 5.16797 6.93164V6.66699C5.16797 3.99865 7.3317 1.83514 10 1.83496ZM7.33301 8.16504C6.62215 8.16504 6.12858 8.16594 5.74512 8.19727C5.46345 8.2203 5.27358 8.25718 5.12988 8.30859L5 8.36523C4.69786 8.51925 4.44482 8.75346 4.26856 9.04102L4.19824 9.16699C4.11777 9.32498 4.06097 9.53651 4.03027 9.91211C3.99894 10.2956 3.99805 10.789 3.99805 11.5V13.5C3.99805 14.211 3.99894 14.7044 4.03027 15.0879C4.06097 15.4635 4.11777 15.675 4.19824 15.833L4.26856 15.959C4.44482 16.2465 4.69786 16.4807 5 16.6348L5.12988 16.6914C5.27358 16.7428 5.46345 16.7797 5.74512 16.8027C6.12858 16.8341 6.62215 16.835 7.33301 16.835H12.666C13.3767 16.835 13.8705 16.834 14.2539 16.8027C14.6293 16.7721 14.8411 16.7151 14.999 16.6348L15.126 16.5645C15.4134 16.3882 15.6478 16.1351 15.8018 15.833L15.8574 15.7031C15.9089 15.5594 15.9467 15.3698 15.9697 15.0879C16.0011 14.7044 16.001 14.211 16.001 13.5V11.5C16.001 10.789 16.0011 10.2956 15.9697 9.91211C15.9467 9.63017 15.9089 9.44064 15.8574 9.29688L15.8018 9.16699C15.6478 8.86494 15.4134 8.61183 15.126 8.43555L14.999 8.36523C14.8411 8.28485 14.6293 8.22793 14.2539 8.19727C13.8705 8.16598 13.3767 8.16504 12.666 8.16504H7.33301ZM10 3.16504C8.06624 3.16522 6.49805 4.73319 6.49805 6.66699V6.83789C6.75223 6.8349 7.02983 6.83496 7.33301 6.83496H12.666C12.969 6.83496 13.2469 6.8349 13.501 6.83789V6.66699C13.501 4.73318 11.9338 3.16522 10 3.16504Z"})),C4=nn(()=>Lo(()=>({modals:[],nextKey:1})));function bg(e,t,n){C4(e).setState(r=>{const i=r.modals.find(s=>s.ModalComponent===t);return i?{modals:[...r.modals.filter(s=>s.ModalComponent!==t),{key:i.key,ModalComponent:t,props:n}]}:{modals:[...r.modals,{key:r.nextKey,ModalComponent:t,props:n}],nextKey:r.nextKey+1}})}function tee(e,t){C4(e).setState(n=>({modals:n.modals.filter(r=>r.ModalComponent!==t)}))}const nee=p.memo(function({modal:{ModalComponent:t,props:n}}){const r=pe();return g.jsx(t,{...n,onClose:()=>{n?.onClose?.(),tee(r,t)}})});function ree(){const e=pe(),t=C4(e),n=dd(t,r=>r.modals);return g.jsx(g.Fragment,{children:n.map(r=>g.jsx(nee,{modal:r},r.key))})}var gv,h8;function oF(){if(h8)return gv;h8=1;function e(){}return gv=e,gv}var iee=oF();const aF=mn(iee);function lF(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=lF(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=lF(e))&&(r&&(r+=" "),r+=t);return r}const see=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.5 2.9375V5.5625M9.5 13.4375V16.0625M2.9375 9.5H5.5625M13.4375 9.5H16.0625",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"}),p.createElement("path",{d:"M4.86011 4.85961L6.71627 6.71577M12.2847 12.2842L14.1409 14.1404M4.86011 14.1404L6.71627 12.2842M12.2847 6.71577L14.1409 4.85961",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"}));function Bf({className:e}){return g.jsx(see,{className:ke("motion-safe:animate-spin",e)})}function UPe({className:e}){return g.jsx("div",{className:"flex h-full w-full items-center justify-center",children:g.jsx(Bf,{className:e})})}function un({children:e,onClick:t,className:n,contentWrapperClassName:r,color:i="primary",label:s,disabled:o=!1,visuallyDisabled:a=!1,loading:l=!1,size:c="medium",fullWidth:u=!1,contentsFullWidth:d=!1,icon:f,style:h,...m}){const v=a||o||l,_=l||o,y=ke(v&&"opacity-50",_&&"cursor-not-allowed","btn relative",i==="primary"&&"btn-primary",i==="primary-inverse"&&"btn-primary-inverse",i==="green"&&"btn-green",i==="purple"&&"btn-purple",i==="secondary"&&"btn-secondary",i==="danger"&&"btn-danger",i==="danger-outline"&&"btn-danger-outline",i==="blue"&&"btn-blue",i==="ghost"&&"btn-ghost",c==="small"&&"btn-small",c==="large"&&"btn-large",u&&"w-full",n),b=f?g.jsxs("div",{className:ke("flex w-full","items-center justify-center",r,{"gap-1.5":c==="medium"||c==="large","gap-1":c==="small"}),children:[l?g.jsx(Bf,{className:ke(e?"-ms-0.5":"-mx-1",c==="small"&&"icon-sm",(c==="medium"||c==="large")&&"icon")}):g.jsx(f,{"aria-label":"",className:ke(e?"-ms-0.5":"-mx-1",c==="small"&&"icon-sm",(c==="medium"||c==="large")&&"icon")}),e]}):g.jsxs("div",{className:ke("flex items-center justify-center",r,d&&"w-full"),children:[e,l&&g.jsx(Bf,{className:ke(c==="small"&&"icon-sm ms-1",(c==="medium"||c==="large")&&"icon ms-1.5")})]});switch(m.as){case"link":case"a":{const{openNewTab:C,...S}=m;return g.jsx(uh,{...S,"aria-label":s,to:m.to??"/",target:C===!0?"_blank":"_self",onClick:t,className:y,style:h,children:b})}default:return g.jsx("button",{className:y,ref:m.ref,"aria-label":s,onClick:t,disabled:_,...m,style:h,children:b})}}un.displayName="Button";const cF=()=>{},oee=()=>cF;function i6(e,t=cF){return p.useSyncExternalStore(oee,e,t)}function Cg(){return i6(()=>!0,()=>!1)}function uF(){return Cg()?window:null}function et(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function aee(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Sg(...e){return t=>e.forEach(n=>aee(n,t))}function An(...e){return p.useCallback(Sg(...e),e)}function lee(e,t){const n=p.createContext(t),r=s=>{const{children:o,...a}=s,l=p.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(s){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function pd(e,t=[]){let n=[];function r(s,o){const a=p.createContext(o),l=n.length;n=[...n,o];const c=d=>{const{scope:f,children:h,...m}=d,v=f?.[e]?.[l]||a,_=p.useMemo(()=>m,Object.values(m));return g.jsx(v.Provider,{value:_,children:h})};c.displayName=s+"Provider";function u(d,f){const h=f?.[e]?.[l]||a,m=p.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>p.createContext(o));return function(a){const l=a?.[e]||s;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,cee(i,...t)]}function cee(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var tc=globalThis?.document?p.useLayoutEffect:()=>{},uee=QK.useId||(()=>{}),dee=0;function zs(e){const[t,n]=p.useState(uee());return tc(()=>{n(r=>r??String(dee++))},[e]),e||(t?`radix-${t}`:"")}function Ri(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>t.current?.(...n),[])}function gc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=fee({defaultProp:t,onChange:n}),s=e!==void 0,o=s?e:r,a=Ri(n),l=p.useCallback(c=>{if(s){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else i(c)},[s,e,i,a]);return[o,l]}function fee({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,i=p.useRef(r),s=Ri(t);return p.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Vu=p.forwardRef((e,t)=>{const{children:n,...r}=e,i=p.Children.toArray(n),s=i.find(hee);if(s){const o=s.props.children,a=i.map(l=>l===s?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return g.jsx(s6,{...r,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return g.jsx(s6,{...r,ref:t,children:n})});Vu.displayName="Slot";var s6=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const i=mee(n);return p.cloneElement(n,{...pee(r,n.props),ref:t?Sg(t,i):i})}return p.Children.count(n)>1?p.Children.only(null):null});s6.displayName="SlotClone";var dF=({children:e})=>g.jsx(g.Fragment,{children:e});function hee(e){return p.isValidElement(e)&&e.type===dF}function pee(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function mee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kt=gee.reduce((e,t)=>{const n=p.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Vu:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fF(e,t){e&&HS.flushSync(()=>e.dispatchEvent(t))}function vee(e,t=globalThis?.document){const n=Ri(e);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _ee="DismissableLayer",o6="dismissableLayer.update",yee="dismissableLayer.pointerDownOutside",bee="dismissableLayer.focusOutside",p8,hF=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Th=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=p.useContext(hF),[u,d]=p.useState(null),f=u?.ownerDocument??globalThis?.document,[,h]=p.useState({}),m=An(t,E=>d(E)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(_),b=u?v.indexOf(u):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,x=See(E=>{const T=E.target,O=[...c.branches].some(k=>k.contains(T));!S||O||(i?.(E),o?.(E),E.defaultPrevented||a?.())},f),w=wee(E=>{const T=E.target;[...c.branches].some(k=>k.contains(T))||(s?.(E),o?.(E),E.defaultPrevented||a?.())},f);return vee(E=>{b===c.layers.size-1&&(r?.(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),p.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(p8=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),m8(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=p8)}},[u,f,n,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),m8())},[u,c]),p.useEffect(()=>{const E=()=>h({});return document.addEventListener(o6,E),()=>document.removeEventListener(o6,E)},[]),g.jsx(Kt.div,{...l,ref:m,style:{pointerEvents:C?S?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,w.onFocusCapture),onBlurCapture:et(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,x.onPointerDownCapture)})});Th.displayName=_ee;var Cee="DismissableLayerBranch",pF=p.forwardRef((e,t)=>{const n=p.useContext(hF),r=p.useRef(null),i=An(t,r);return p.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Kt.div,{...e,ref:i})});pF.displayName=Cee;function See(e,t=globalThis?.document){const n=Ri(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){mF(yee,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function wee(e,t=globalThis?.document){const n=Ri(e),r=p.useRef(!1);return p.useEffect(()=>{const i=s=>{s.target&&!r.current&&mF(bee,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function m8(){const e=new CustomEvent(o6);document.dispatchEvent(e)}function mF(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?fF(i,s):i.dispatchEvent(s)}var qPe=Th,zPe=pF,vv="focusScope.autoFocusOnMount",_v="focusScope.autoFocusOnUnmount",g8={bubbles:!1,cancelable:!0},Eee="FocusScope",S4=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,l]=p.useState(null),c=Ri(i),u=Ri(s),d=p.useRef(null),f=An(t,v=>l(v)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(C){if(h.paused||!a)return;const S=C.target;a.contains(S)?d.current=S:ua(d.current,{select:!0})},_=function(C){if(h.paused||!a)return;const S=C.relatedTarget;S!==null&&(a.contains(S)||ua(d.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const x of C)x.removedNodes.length>0&&ua(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const b=new MutationObserver(y);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),b.disconnect()}}},[r,a,h.paused]),p.useEffect(()=>{if(a){_8.add(h);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(vv,g8);a.addEventListener(vv,c),a.dispatchEvent(y),y.defaultPrevented||(xee(Iee(gF(a)),{select:!0}),document.activeElement===v&&ua(a))}return()=>{a.removeEventListener(vv,c),setTimeout(()=>{const y=new CustomEvent(_v,g8);a.addEventListener(_v,u),a.dispatchEvent(y),y.defaultPrevented||ua(v??document.body,{select:!0}),a.removeEventListener(_v,u),_8.remove(h)},0)}}},[a,c,u,h]);const m=p.useCallback(v=>{if(!n&&!r||h.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(_&&y){const b=v.currentTarget,[C,S]=kee(b);C&&S?!v.shiftKey&&y===S?(v.preventDefault(),n&&ua(C,{select:!0})):v.shiftKey&&y===C&&(v.preventDefault(),n&&ua(S,{select:!0})):y===b&&v.preventDefault()}},[n,r,h.paused]);return g.jsx(Kt.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});S4.displayName=Eee;function xee(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ua(r,{select:t}),document.activeElement!==n)return}function kee(e){const t=gF(e),n=v8(t,e),r=v8(t.reverse(),e);return[n,r]}function gF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function v8(e,t){for(const n of e)if(!Tee(n,{upTo:t}))return n}function Tee(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Oee(e){return e instanceof HTMLInputElement&&"select"in e}function ua(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Oee(e)&&t&&e.select()}}var _8=Aee();function Aee(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=y8(e,t),e.unshift(t)},remove(t){e=y8(e,t),e[0]?.resume()}}}function y8(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Iee(e){return e.filter(t=>t.tagName!=="A")}var Mee="Portal",Oh=p.forwardRef((e,t)=>{const{container:n,...r}=e,[i,s]=p.useState(!1);tc(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?Al.createPortal(g.jsx(Kt.div,{...r,ref:t}),o):null});Oh.displayName=Mee;var GPe=Oh;function Ree(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var ys=e=>{const{present:t,children:n}=e,r=Pee(t),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=An(r.ref,Nee(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:s}):null};ys.displayName="Presence";function Pee(e){const[t,n]=p.useState(),r=p.useRef({}),i=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[a,l]=Ree(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Pp(r.current);s.current=a==="mounted"?c:"none"},[a]),tc(()=>{const c=r.current,u=i.current;if(u!==e){const f=s.current,h=Pp(c);e?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),tc(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=h=>{const v=Pp(r.current).includes(h.animationName);if(h.target===t&&v&&(l("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},f=h=>{h.target===t&&(s.current=Pp(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Pp(e){return e?.animationName||"none"}function Nee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var yv=0;function vF(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??b8()),document.body.insertAdjacentElement("beforeend",e[1]??b8()),yv++,()=>{yv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yv--}},[])}function b8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bm="right-scroll-bar-position",Cm="width-before-scroll-bar",Dee="with-scroll-bars-hidden",Lee="--removed-body-scroll-bar-size";function bv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Fee(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var C8=new WeakMap;function jee(e,t){var n=Fee(null,function(r){return e.forEach(function(i){return bv(i,r)})});return p.useLayoutEffect(function(){var r=C8.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||bv(a,null)}),s.forEach(function(a){i.has(a)||bv(a,o)})}C8.set(n,e)},[e]),n}function Bee(e){return e}function Uee(e,t){t===void 0&&(t=Bee);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function qee(e){e===void 0&&(e={});var t=Uee(null);return t.options=ma({async:!0,ssr:!1},e),t}var _F=function(e){var t=e.sideCar,n=bD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,ma({},n))};_F.isSideCarExport=!0;function zee(e,t){return e.useMedium(t),_F}var yF=qee(),Cv=function(){},wg=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Cv,onWheelCapture:Cv,onTouchMoveCapture:Cv}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,m=e.inert,v=e.allowPinchZoom,_=e.as,y=_===void 0?"div":_,b=e.gapMode,C=bD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,x=jee([n,t]),w=ma(ma({},C),i);return p.createElement(p.Fragment,null,u&&p.createElement(S,{sideCar:yF,removeScrollBar:c,shards:d,noIsolation:h,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:b}),o?p.cloneElement(p.Children.only(a),ma(ma({},w),{ref:x})):p.createElement(y,ma({},w,{className:l,ref:x}),a))});wg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wg.classNames={fullWidth:Cm,zeroRight:bm};var Gee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hee(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Gee();return t&&e.setAttribute("nonce",t),e}function Vee(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $ee(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Wee=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Hee())&&(Vee(t,n),$ee(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Kee=function(){var e=Wee();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},bF=function(){var e=Kee(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Yee={left:0,top:0,right:0,gap:0},Sv=function(e){return parseInt(e||"",10)||0},Zee=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Sv(n),Sv(r),Sv(i)]},Jee=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Yee;var t=Zee(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Qee=bF(),Ou="data-scroll-locked",Xee=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Dee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ou,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bm," .").concat(bm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cm," .").concat(Cm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ou,`] {
    `).concat(Lee,": ").concat(a,`px;
  }
`)},S8=function(){var e=parseInt(document.body.getAttribute(Ou)||"0",10);return isFinite(e)?e:0},ete=function(){p.useEffect(function(){return document.body.setAttribute(Ou,(S8()+1).toString()),function(){var e=S8()-1;e<=0?document.body.removeAttribute(Ou):document.body.setAttribute(Ou,e.toString())}},[])},tte=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;ete();var s=p.useMemo(function(){return Jee(i)},[i]);return p.createElement(Qee,{styles:Xee(s,!t,i,n?"":"!important")})},a6=!1;if(typeof window<"u")try{var Np=Object.defineProperty({},"passive",{get:function(){return a6=!0,!0}});window.addEventListener("test",Np,Np),window.removeEventListener("test",Np,Np)}catch{a6=!1}var Gc=a6?{passive:!1}:!1,nte=function(e){return e.tagName==="TEXTAREA"},CF=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!nte(e)&&n[t]==="visible")},rte=function(e){return CF(e,"overflowY")},ite=function(e){return CF(e,"overflowX")},w8=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=SF(e,r);if(i){var s=wF(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ste=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ote=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},SF=function(e,t){return e==="v"?rte(t):ite(t)},wF=function(e,t){return e==="v"?ste(t):ote(t)},ate=function(e,t){return e==="h"&&t==="rtl"?-1:1},lte=function(e,t,n,r,i){var s=ate(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=wF(e,a),m=h[0],v=h[1],_=h[2],y=v-_-s*m;(m||y)&&SF(e,a)&&(d+=y,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Dp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},E8=function(e){return[e.deltaX,e.deltaY]},x8=function(e){return e&&"current"in e?e.current:e},cte=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ute=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dte=0,Hc=[];function fte(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(dte++)[0],s=p.useState(bF)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=XK([e.lockRef.current],(e.shards||[]).map(x8),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=Dp(v),b=n.current,C="deltaX"in v?v.deltaX:b[0]-y[0],S="deltaY"in v?v.deltaY:b[1]-y[1],x,w=v.target,E=Math.abs(C)>Math.abs(S)?"h":"v";if("touches"in v&&E==="h"&&w.type==="range")return!1;var T=w8(E,w);if(!T)return!0;if(T?x=E:(x=E==="v"?"h":"v",T=w8(E,w)),!T)return!1;if(!r.current&&"changedTouches"in v&&(C||S)&&(r.current=x),!x)return!0;var O=r.current||x;return lte(O,_,v,O==="h"?C:S)},[]),l=p.useCallback(function(v){var _=v;if(!(!Hc.length||Hc[Hc.length-1]!==s)){var y="deltaY"in _?E8(_):Dp(_),b=t.current.filter(function(x){return x.name===_.type&&(x.target===_.target||_.target===x.shadowParent)&&cte(x.delta,y)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var C=(o.current.shards||[]).map(x8).filter(Boolean).filter(function(x){return x.contains(_.target)}),S=C.length>0?a(_,C[0]):!o.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),c=p.useCallback(function(v,_,y,b){var C={name:v,delta:_,target:y,should:b,shadowParent:hte(y)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(S){return S!==C})},1)},[]),u=p.useCallback(function(v){n.current=Dp(v),r.current=void 0},[]),d=p.useCallback(function(v){c(v.type,E8(v),v.target,a(v,e.lockRef.current))},[]),f=p.useCallback(function(v){c(v.type,Dp(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return Hc.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Gc),document.addEventListener("touchmove",l,Gc),document.addEventListener("touchstart",u,Gc),function(){Hc=Hc.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Gc),document.removeEventListener("touchmove",l,Gc),document.removeEventListener("touchstart",u,Gc)}},[]);var h=e.removeScrollBar,m=e.inert;return p.createElement(p.Fragment,null,m?p.createElement(s,{styles:ute(i)}):null,h?p.createElement(tte,{gapMode:e.gapMode}):null)}function hte(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pte=zee(yF,fte);var w4=p.forwardRef(function(e,t){return p.createElement(wg,ma({},e,{ref:t,sideCar:pte}))});w4.classNames=wg.classNames;var mte=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vc=new WeakMap,Lp=new WeakMap,Fp={},wv=0,EF=function(e){return e&&(e.host||EF(e.parentNode))},gte=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=EF(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vte=function(e,t,n,r){var i=gte(t,Array.isArray(e)?e:[e]);Fp[n]||(Fp[n]=new WeakMap);var s=Fp[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var h=f.getAttribute(r),m=h!==null&&h!=="false",v=(Vc.get(f)||0)+1,_=(s.get(f)||0)+1;Vc.set(f,v),s.set(f,_),o.push(f),v===1&&m&&Lp.set(f,!0),_===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}})};return u(t),a.clear(),wv++,function(){o.forEach(function(d){var f=Vc.get(d)-1,h=s.get(d)-1;Vc.set(d,f),s.set(d,h),f||(Lp.has(d)||d.removeAttribute(r),Lp.delete(d)),h||d.removeAttribute(n)}),wv--,wv||(Vc=new WeakMap,Vc=new WeakMap,Lp=new WeakMap,Fp={})}},_te=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=mte(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),vte(r,i,n,"aria-hidden")):function(){return null}},E4="Dialog",[xF,yte]=pd(E4),[bte,bs]=xF(E4),x4=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=p.useRef(null),l=p.useRef(null),[c=!1,u]=gc({prop:r,defaultProp:i,onChange:s});return g.jsx(bte,{scope:t,triggerRef:a,contentRef:l,contentId:zs(),titleId:zs(),descriptionId:zs(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};x4.displayName=E4;var kF="DialogTrigger",k4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=bs(kF,n),s=An(t,i.triggerRef);return g.jsx(Kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":D4(i.open),...r,ref:s,onClick:et(e.onClick,i.onOpenToggle)})});k4.displayName=kF;var T4="DialogPortal",[Cte,TF]=xF(T4,{forceMount:void 0}),O4=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=bs(T4,t);return g.jsx(Cte,{scope:t,forceMount:n,children:p.Children.map(r,o=>g.jsx(ys,{present:n||s.open,children:g.jsx(Oh,{asChild:!0,container:i,children:o})}))})};O4.displayName=T4;var l1="DialogOverlay",A4=p.forwardRef((e,t)=>{const n=TF(l1,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=bs(l1,e.__scopeDialog);return s.modal?g.jsx(ys,{present:r||s.open,children:g.jsx(Ste,{...i,ref:t})}):null});A4.displayName=l1;var Ste=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=bs(l1,n);return g.jsx(w4,{as:Vu,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Kt.div,{"data-state":D4(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),nc="DialogContent",I4=p.forwardRef((e,t)=>{const n=TF(nc,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=bs(nc,e.__scopeDialog);return g.jsx(ys,{present:r||s.open,children:s.modal?g.jsx(wte,{...i,ref:t}):g.jsx(Ete,{...i,ref:t})})});I4.displayName=nc;var wte=p.forwardRef((e,t)=>{const n=bs(nc,e.__scopeDialog),r=p.useRef(null),i=An(t,n.contentRef,r);return p.useEffect(()=>{const s=r.current;if(s)return _te(s)},[]),g.jsx(OF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault())})}),Ete=p.forwardRef((e,t)=>{const n=bs(nc,e.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return g.jsx(OF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),OF=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,a=bs(nc,n),l=p.useRef(null),c=An(t,l);return vF(),g.jsxs(g.Fragment,{children:[g.jsx(S4,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Th,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":D4(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(kte,{titleId:a.titleId}),g.jsx(Ote,{contentRef:l,descriptionId:a.descriptionId})]})]})}),M4="DialogTitle",R4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=bs(M4,n);return g.jsx(Kt.h2,{id:i.titleId,...r,ref:t})});R4.displayName=M4;var AF="DialogDescription",P4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=bs(AF,n);return g.jsx(Kt.p,{id:i.descriptionId,...r,ref:t})});P4.displayName=AF;var IF="DialogClose",N4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=bs(IF,n);return g.jsx(Kt.button,{type:"button",...r,ref:t,onClick:et(e.onClick,()=>i.onOpenChange(!1))})});N4.displayName=IF;function D4(e){return e?"open":"closed"}var MF="DialogTitleWarning",[xte,RF]=lee(MF,{contentName:nc,titleName:M4,docsSlug:"dialog"}),kte=({titleId:e})=>{const t=RF(MF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Tte="DialogDescriptionWarning",Ote=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RF(Tte).contentName}}.`;return p.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},PF=x4,Ate=k4,NF=O4,DF=A4,LF=I4,FF=R4,jF=P4,BF=N4;const HPe=Object.freeze(Object.defineProperty({__proto__:null,Close:BF,Content:LF,Description:jF,Dialog:x4,DialogClose:N4,DialogContent:I4,DialogDescription:P4,DialogOverlay:A4,DialogPortal:O4,DialogTitle:R4,DialogTrigger:k4,Overlay:DF,Portal:NF,Root:PF,Title:FF,Trigger:Ate,WarningProvider:xte,createDialogScope:yte},Symbol.toStringTag,{value:"Module"}));var Ite="VisuallyHidden",L4=p.forwardRef((e,t)=>g.jsx(Kt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));L4.displayName=Ite;var Mte=L4;function yf(e){"use forget";const t=Re.c(9);let n,r,i,s;t[0]!==e?({color:i,title:s,children:r,...n}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=i===void 0?"secondary":i,a=s??r;let l;return t[5]!==n||t[6]!==o||t[7]!==a?(l=g.jsx(un,{as:"button",color:o,...n,children:a}),t[5]=n,t[6]=o,t[7]=a,t[8]=l):l=t[8],l}function Rte(e){"use forget";const t=Re.c(16),{isOpen:n,onClose:r,children:i,shouldIgnoreClickOutside:s,className:o,testId:a}=e,l=s===void 0?!1:s;let c;t[0]!==r||t[1]!==l?(c=v=>{l||v===!1&&r(!1)},t[0]=r,t[1]=l,t[2]=c):c=t[2];const u=uF()?.document.body;let d;t[3]!==o?(d=ke("absolute inset-0",o),t[3]=o,t[4]=d):d=t[4];let f;t[5]!==i||t[6]!==d||t[7]!==a?(f=g.jsx("div",{className:d,"data-testid":a,"data-ignore-for-page-load":!0,children:i}),t[5]=i,t[6]=d,t[7]=a,t[8]=f):f=t[8];let h;t[9]!==u||t[10]!==f?(h=g.jsx(NF,{container:u,children:f}),t[9]=u,t[10]=f,t[11]=h):h=t[11];let m;return t[12]!==n||t[13]!==c||t[14]!==h?(m=g.jsx(PF,{open:n,onOpenChange:c,children:h}),t[12]=n,t[13]=c,t[14]=h,t[15]=m):m=t[15],m}function Pte(e){"use forget";const t=Re.c(6),{className:n,children:r,showBackground:i}=e,o=(i===void 0?!0:i)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let a;t[0]!==n||t[1]!==o?(a=ke("fixed inset-0 z-50",o,n),t[0]=n,t[1]=o,t[2]=a):a=t[2];let l;return t[3]!==r||t[4]!==a?(l=g.jsx(DF,{className:a,children:r}),t[3]=r,t[4]=a,t[5]=l):l=t[5],l}function Nte(e){"use forget";const t=Re.c(18),{className:n,children:r,position:i,size:s,removePopoverStyling:o,shadow:a,onEscapeKeyDown:l,removeBackground:c}=e,u=i===void 0?"center":i,d=o===void 0?!1:o,f=a===void 0?"normal":a,h=c===void 0?!1:c,m=s!=="fullscreen"&&"grid grid-cols-[10px_1fr_10px]",v=s!=="fullscreen"&&u==="center"&&"grid-rows-[minmax(10px,1fr)_auto_minmax(10px,1fr)] md:grid-rows-[minmax(20px,0.8fr)_auto_minmax(20px,1fr)]",_=s!=="fullscreen"&&u==="bottom"&&"grid-rows-[minmax(10px,1fr)_auto_10px] md:grid-rows-[minmax(20px,1fr)_auto_20px]",y=s!=="fullscreen"&&u==="top"&&"grid-rows-[10px_auto_minmax(10px,1fr)] md:grid-rows-[20px_auto_minmax(20px,1fr)]";let b;t[0]!==m||t[1]!==v||t[2]!==_||t[3]!==y?(b=ke("z-50 h-full w-full overflow-y-auto",m,v,_,y),t[0]=m,t[1]=v,t[2]=_,t[3]=y,t[4]=b):b=t[4];const C=!d&&"popover",S=!h&&"bg-token-main-surface-primary",x=s!=="fullscreen"&&"rounded-2xl",w=f==="normal"&&"shadow-long";let E;t[5]!==n||t[6]!==C||t[7]!==S||t[8]!==x||t[9]!==w?(E=ke(C,S,"relative start-1/2 col-auto col-start-2 row-auto row-start-2 h-full w-full text-start ltr:-translate-x-1/2 rtl:translate-x-1/2",x,w,n),t[5]=n,t[6]=C,t[7]=S,t[8]=x,t[9]=w,t[10]=E):E=t[10];let T;t[11]!==r||t[12]!==l||t[13]!==E?(T=g.jsx(LF,{onEscapeKeyDown:l,className:E,children:r}),t[11]=r,t[12]=l,t[13]=E,t[14]=T):T=t[14];let O;return t[15]!==T||t[16]!==b?(O=g.jsx("div",{className:b,children:T}),t[15]=T,t[16]=b,t[17]=O):O=t[17],O}function Dte(e){"use forget";const t=Re.c(16),{title:n,description:r,icon:i}=e;let s;t[0]!==n?(s=n&&g.jsx(FF,{className:"text-token-text-primary text-lg font-normal",children:n}),t[0]=n,t[1]=s):s=t[1];let o;t[2]!==r?(o=r&&g.jsx(jF,{asChild:!0,children:g.jsx("div",{className:"text-token-text-tertiary ms-0.5 mt-0.5 text-xs",children:r})}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==s||t[5]!==o?(a=g.jsxs("div",{className:"flex max-w-full min-w-0 grow flex-col",children:[s,o]}),t[4]=s,t[5]=o,t[6]=a):a=t[6];const l=a;if(!i)return l;const c=!r&&"items-center";let u;t[7]!==c?(u=ke("flex max-w-full min-w-0 gap-1.5",c),t[7]=c,t[8]=u):u=t[8];let d;t[9]!==i||t[10]!==r?(d=typeof i!="function"?i:g.jsx(i,{className:ke("icon",r&&"mt-1"),"aria-label":""}),t[9]=i,t[10]=r,t[11]=d):d=t[11];let f;return t[12]!==l||t[13]!==u||t[14]!==d?(f=g.jsxs("div",{className:u,children:[d,l]}),t[12]=l,t[13]=u,t[14]=d,t[15]=f):f=t[15],f}function Lte(e){"use forget";const t=Re.c(23),{title:n,accessory:r,description:i,hasSeparator:s,icon:o,closeButton:a,textCenter:l,visuallyHiddenHeader:c,className:u,closeButtonSide:d}=e,f=s===void 0?!1:s,h=c===void 0?!1:c,m=d===void 0?"right":d;if(!n)return null;let v;t[0]!==a?(v=a&&g.jsx(BF,{asChild:!0,children:a}),t[0]=a,t[1]=v):v=t[1];const _=v,y=l&&"flex-1 justify-center text-center";let b;t[2]!==y?(b=ke("flex max-w-full items-center",y),t[2]=y,t[3]=b):b=t[3];const C=m==="left"&&_;let S;t[4]!==i||t[5]!==o||t[6]!==n?(S=g.jsx(Dte,{title:n,description:i,icon:o}),t[4]=i,t[5]=o,t[6]=n,t[7]=S):S=t[7];let x;t[8]!==b||t[9]!==C||t[10]!==S?(x=g.jsxs("div",{className:b,children:[C,S]}),t[8]=b,t[9]=C,t[10]=S,t[11]=x):x=t[11];const w=m==="right"&&_;let E;t[12]!==r||t[13]!==w?(E=g.jsxs("div",{className:"flex h-[max-content] items-center gap-2",children:[r,w]}),t[12]=r,t[13]=w,t[14]=E):E=t[14];let T;t[15]!==u||t[16]!==f||t[17]!==E||t[18]!==x?(T=g.jsxs(jte,{hasSeparator:f,className:u,children:[x,E]}),t[15]=u,t[16]=f,t[17]=E,t[18]=x,t[19]=T):T=t[19];const O=T;let k;return t[20]!==O||t[21]!==h?(k=h?g.jsx(L4,{children:O}):O,t[20]=O,t[21]=h,t[22]=k):k=t[22],k}function Fte(e){"use forget";const t=Re.c(9),{primaryButton:n,secondaryButton:r,isSpacedBetween:i,modalHasContent:s,textCenter:o,className:a}=e,l=i===void 0?!1:i,c=s===void 0?!0:s,u=o===void 0?!1:o,d=a===void 0?"":a;if(n==null&&r==null)return null;const f=u&&"justify-center",h=l&&"justify-between",m=c&&"mt-5 sm:mt-4";let v;t[0]!==d||t[1]!==f||t[2]!==h||t[3]!==m?(v=ke("flex flex-col gap-3 sm:flex-row-reverse",f,h,m,d),t[0]=d,t[1]=f,t[2]=h,t[3]=m,t[4]=v):v=t[4];let _;return t[5]!==n||t[6]!==r||t[7]!==v?(_=g.jsxs("div",{className:v,children:[n,r]}),t[5]=n,t[6]=r,t[7]=v,t[8]=_):_=t[8],_}const jte=({hasSeparator:e,className:t,children:n})=>g.jsx("header",{className:ke("min-h-header-height flex justify-between py-2.5 ps-4 pe-2 select-none",e&&"border-token-border-light border-b",t),children:n}),Rl={Root:Rte,Overlay:Pte,Content:Nte,Header:Lte,Actions:Fte,Button:yf},UF=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M14.2548 4.75488C14.5282 4.48152 14.9717 4.48152 15.2451 4.75488C15.5184 5.02825 15.5184 5.47175 15.2451 5.74512L10.9902 10L15.2451 14.2549L15.3349 14.3652C15.514 14.6369 15.4841 15.006 15.2451 15.2451C15.006 15.4842 14.6368 15.5141 14.3652 15.335L14.2548 15.2451L9.99995 10.9902L5.74506 15.2451C5.4717 15.5185 5.0282 15.5185 4.75483 15.2451C4.48146 14.9718 4.48146 14.5282 4.75483 14.2549L9.00971 10L4.75483 5.74512L4.66499 5.63477C4.48589 5.3631 4.51575 4.99396 4.75483 4.75488C4.99391 4.51581 5.36305 4.48594 5.63471 4.66504L5.74506 4.75488L9.99995 9.00977L14.2548 4.75488Z"})),F4=({onClick:e,bg:t="transparent",className:n,iconSize:r="md",ref:i,...s})=>{const o=yt();return g.jsx("button",{"data-testid":"close-button",ref:i,onClick:e,className:ke("hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-tertiary keyboard-focused:focus-ring flex h-8 w-8 items-center justify-center rounded-full",t==="transparent"?"bg-transparent":"bg-token-main-surface-primary",n),"aria-label":o.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),...s,children:g.jsx(UF,{className:r==="lg"?"icon-lg":"icon"})})};F4.displayName="CloseButton";const Bte="modulepreload",Ute=function(e){return"{{.assetPrefix}}/"+e},k8={},ye=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=o(n.map(c=>{if(c=Ute(c),c in k8)return;k8[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Bte,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function qte(){return null}function Eg(e,t){const n=async()=>{try{const l=await e();return"default"in l?l:{default:l}}catch(l){return V.addAction("Failed importing dynamic component",{error:l}),{default:t?.fallback??qte}}},r=p.lazy(n),i=t?.loading;function s(l){const[c]=p.useState(()=>a);return Cg()?c?g.jsx(c,{...l}):g.jsx(p.Suspense,{fallback:i==null?null:g.jsx(i,{...l}),children:g.jsx(r,{...l})}):i!=null?g.jsx(i,{...l}):null}let o,a;return s.prefetch=()=>(o||(o=n().then(l=>{a=l.default})),o),s}const zte=Eg(()=>ye(()=>import("./hc50eeeiujpdc0ub.js"),__vite__mapDeps([0,1])).then(e=>e.ContentModalSheet),{fallback:()=>null});function Bo(e){"use forget";const t=Re.c(65),{children:n,rootClassName:r,textCenter:i,className:s,description:o,icon:a,isBottomSheet:l,isOpen:c,onClose:u,onCloseComplete:d,primaryButton:f,secondaryButton:h,footerContent:m,size:v,title:_,headerAccessory:y,type:b,noPadding:C,hasSeparator:S,hideSeparator:x,showCloseButton:w,shouldIgnoreClickOutside:E,closeButton:T,isScrollable:O,allowVerticalContentToOverflow:k,position:A,removePopoverStyling:I,showOverlayBackground:D,shadow:N,visuallyHiddenHeader:R,headerClassName:F,contentClassName:j,footerClassName:H,modalActionsClassName:U,footerIsSpacedBetween:M,onEscapeKeyDown:me,testId:de,contentRef:P}=e,Ce=c===void 0?!1:c,Se=v===void 0?"normal":v,ne=C===void 0?!1:C,ue=S===void 0?!1:S,te=x===void 0?!0:x,xe=w===void 0?!1:w,oe=E===void 0?!1:E,fe=O===void 0?!0:O,le=k===void 0?!1:k,we=A===void 0?"center":A,Xe=I===void 0?!1:I,ce=D===void 0?!0:D,J=N===void 0?"normal":N,Y=R===void 0?!1:R,_e=!!_&&!Y,re=!!n,W=ue||!te;if(l){let Rn;return t[0]!==e?(Rn=g.jsx(zte,{...e}),t[0]=e,t[1]=Rn):Rn=t[1],Rn}let B;t[2]!==d||t[3]!==u?(B=()=>{u(!0),d?.()},t[2]=d,t[3]=u,t[4]=B):B=t[4];const Ie=i&&"text-center",Te=Se==="normal",X=Se==="large",L=Se==="xlarge",G=Se==="fullscreen",$=!le;let se;t[5]!==s||t[6]!==Ie||t[7]!==Te||t[8]!==X||t[9]!==L||t[10]!==G||t[11]!==$?(se=ke("flex flex-col focus:outline-hidden",Ie,{"max-w-md":Te,"max-w-lg":X,"max-w-xl":L,"h-full w-full":G,"overflow-hidden":$},s),t[5]=s,t[6]=Ie,t[7]=Te,t[8]=X,t[9]=L,t[10]=G,t[11]=$,t[12]=se):se=t[12];let Me;t[13]!==T||t[14]!==u||t[15]!==xe?(Me=xe&&(T??g.jsx(F4,{onClick:()=>u(!0)})),t[13]=T,t[14]=u,t[15]=xe,t[16]=Me):Me=t[16];let it;t[17]!==o||t[18]!==y||t[19]!==F||t[20]!==a||t[21]!==W||t[22]!==Me||t[23]!==i||t[24]!==_||t[25]!==b||t[26]!==Y?(it=g.jsx(Rl.Header,{icon:a,title:_,accessory:y,type:b,textCenter:i,closeButton:Me,description:o,hasSeparator:W,visuallyHiddenHeader:Y,className:F}),t[17]=o,t[18]=y,t[19]=F,t[20]=a,t[21]=W,t[22]=Me,t[23]=i,t[24]=_,t[25]=b,t[26]=Y,t[27]=it):it=t[27];const ht=le?"overflow-y-visible":fe?"overflow-y-auto":"overflow-y-hidden",at=Se!=="fullscreen"&&!ne,nt=!W&&_e&&!ne;let St;t[28]!==j||t[29]!==ht||t[30]!==at||t[31]!==nt?(St=ke("grow",ht,{"p-4":at,"pt-1":nt},j),t[28]=j,t[29]=ht,t[30]=at,t[31]=nt,t[32]=St):St=t[32];let Tt;t[33]!==H||t[34]!==m||t[35]!==M||t[36]!==re||t[37]!==U||t[38]!==f||t[39]!==h?(Tt=g.jsx(Gte,{primaryButton:f,secondaryButton:h,footerContent:m,modalHasContent:re,className:H,isSpacedBetween:M,modalActionsClassName:U}),t[33]=H,t[34]=m,t[35]=M,t[36]=re,t[37]=U,t[38]=f,t[39]=h,t[40]=Tt):Tt=t[40];let Pt;t[41]!==n||t[42]!==P||t[43]!==St||t[44]!==Tt?(Pt=g.jsxs("div",{className:St,ref:P,children:[n,Tt]}),t[41]=n,t[42]=P,t[43]=St,t[44]=Tt,t[45]=Pt):Pt=t[45];let gt;t[46]!==me||t[47]!==we||t[48]!==Xe||t[49]!==J||t[50]!==Se||t[51]!==se||t[52]!==it||t[53]!==Pt?(gt=g.jsxs(Rl.Content,{size:Se,position:we,className:se,removePopoverStyling:Xe,shadow:J,onEscapeKeyDown:me,children:[it,Pt]}),t[46]=me,t[47]=we,t[48]=Xe,t[49]=J,t[50]=Se,t[51]=se,t[52]=it,t[53]=Pt,t[54]=gt):gt=t[54];let yn;t[55]!==ce||t[56]!==gt?(yn=g.jsx(Rl.Overlay,{showBackground:ce,children:gt}),t[55]=ce,t[56]=gt,t[57]=yn):yn=t[57];let Mn;return t[58]!==Ce||t[59]!==r||t[60]!==oe||t[61]!==B||t[62]!==yn||t[63]!==de?(Mn=g.jsx(Rl.Root,{isOpen:Ce,onClose:B,shouldIgnoreClickOutside:oe,className:r,testId:de,children:yn}),t[58]=Ce,t[59]=r,t[60]=oe,t[61]=B,t[62]=yn,t[63]=de,t[64]=Mn):Mn=t[64],Mn}function Gte(e){"use forget";const t=Re.c(14),{primaryButton:n,secondaryButton:r,footerContent:i,textCenter:s,className:o,isSpacedBetween:a,modalActionsClassName:l,modalHasContent:c}=e,u=n!=null||r!=null;if(!(u||i))return null;let d;t[0]!==o?(d=ke("flex w-full flex-row items-center justify-end text-sm select-none",o),t[0]=o,t[1]=d):d=t[1];let f;t[2]!==u||t[3]!==a||t[4]!==l||t[5]!==c||t[6]!==n||t[7]!==r||t[8]!==s?(f=u?g.jsx("div",{className:ke(a?"grow":"flex-0"),children:g.jsx(Rl.Actions,{className:ke(l,"flex w-full flex-row-reverse"),textCenter:s,primaryButton:n,secondaryButton:r,modalHasContent:c,isSpacedBetween:a})}):null,t[2]=u,t[3]=a,t[4]=l,t[5]=c,t[6]=n,t[7]=r,t[8]=s,t[9]=f):f=t[9];let h;return t[10]!==i||t[11]!==d||t[12]!==f?(h=g.jsxs("div",{className:d,children:[i,f]}),t[10]=i,t[11]=d,t[12]=f,t[13]=h):h=t[13],h}function Hte(e,t){bg(e,Vte,{userEmail:t})}function Vte({userEmail:e}){const t=yt();return g.jsx(Bo,{testId:"modal-all-workspaces-blocked",isOpen:!0,onClose:aF,type:"warning",size:"custom",className:"max-w-3xl",title:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("div",{className:"text-lg",children:g.jsx(ve,{...jp.title})}),g.jsx("div",{className:"text-sm font-normal",children:g.jsx(ve,{...jp.subtitle})})]}),icon:eee,primaryButton:g.jsx(Rl.Button,{onClick:async()=>{const n=await $S.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=n.url},color:"primary",title:t.formatMessage(jp.signOutButton)}),children:g.jsx("div",{className:"flex flex-col space-y-4",children:g.jsx("div",{children:g.jsx(ve,{...jp.detail,values:{email:g.jsx("span",{className:"font-semibold",children:e})}})})})})}const jp=It({title:{id:"AllWorkspacesBlockedModal.title",defaultMessage:"Access Denied"},subtitle:{id:"AllWorkspacesBlockedModal.subtitle",defaultMessage:"Your IT administrator has blocked access to this workspace"},detail:{id:"AllWorkspacesBlockedModal.detail",defaultMessage:"It looks like you’re either trying to login using a personal email or you don’t have access to a workspace that’s been approved by your IT administrator. Please use an authorized work email to access your workspace, or contact your IT administrator for access."},signOutButton:{id:"AllWorkspacesBlockedModal.signOutButton",defaultMessage:"Sign Out"}});var $te={};const Wte=window.location.origin+"/backend/se",VPe=$te.VITE_VZA493Q_SERVICE_URL??"https://operator.chatgpt.com"??"https://operator.chatgpt.com",So="personal",qF=60*60*24*90,_o=It({signUpButtonText:{id:"Kiuf8K",defaultMessage:"Sign up"},logInButtonText:{id:"Yx8BXg",defaultMessage:"Log in"},cancelButtonText:{id:"DR1Cxg",defaultMessage:"Cancel"},continueButtonText:{id:"bT1n8o",defaultMessage:"Continue"},gotItButtonText:{id:"Eomb3Y",defaultMessage:"Got it"},stayLoggedOut:{id:"JpuO4U",defaultMessage:"Stay logged out"},somethingWentWrong:{id:"SJ1B8J",defaultMessage:"Something went wrong. Please try again later"},getPlus:{id:"nPUS9f",defaultMessage:"Get Plus"},getPro:{id:"MC/MAr",defaultMessage:"Get Pro"},tryPlus:{id:"lhUk0N",defaultMessage:"Try Plus"},tryBusiness:{id:"D5Q+Xo",defaultMessage:"Try Business"},tryGo:{id:"OkPnQG",defaultMessage:"Try Go"},upgradeToPlus:{id:"LIJKv1",defaultMessage:"Upgrade to Plus"},upgradeToPro:{id:"U92S4K",defaultMessage:"Upgrade to Pro"},upgradeToGo:{id:"xbeQTB",defaultMessage:"Upgrade to Go"},joinGo:{id:"w4EEKa",defaultMessage:"Join Go"},joinPlus:{id:"HmtUzT",defaultMessage:"Join Plus"},joinPro:{id:"Ehp9lH",defaultMessage:"Join Pro"},unlockGo:{id:"C3xzfi",defaultMessage:"Unlock Go"},unlockPlus:{id:"W3hk8e",defaultMessage:"Unlock Plus"},unlockPro:{id:"TXstaY",defaultMessage:"Unlock Pro"},longCtaPlus:{id:"kp6hSg",defaultMessage:"Get better, faster answers"},longCtaPro:{id:"SEKq+P",defaultMessage:"Unlock all of ChatGPT"},upgradeYourPlan:{id:"aWGaHN",defaultMessage:"Upgrade your plan"},upgradePlan:{id:"N8cHz1",defaultMessage:"Upgrade plan"},upgrade:{id:"0CZNA2",defaultMessage:"Upgrade"},upgradeForFree:{id:"c1Drc7",defaultMessage:"Upgrade for free"},featureProjectsTasksCustomGPTs:{id:"pricing.plusRedesign.feature.projectsTasksCustomGPTs",defaultMessage:"Projects, tasks, custom GPTs"},maybeLater:{id:"common-message.maybeLater",defaultMessage:"Maybe later"},confirm:{id:"common-message.confirm",defaultMessage:"Confirm"},cancel:{id:"common-message.cancel",defaultMessage:"Cancel"},tryPlusTrial:{id:"common-message.tryPlusFree",defaultMessage:"Try Plus free"},chatGPT:{id:"common-message.chatGPT",defaultMessage:"ChatGPT"}});var Kte=(e=>(e.APPLE="apple",e))(Kte||{});const Yte="gpt-4o",$Pe=Yte;var Zte=(e=>(e.NoAuthGo="ifpazk",e))(Zte||{});const WPe={ifpazk:"zkl"};var j4=(e=>(e.GPT_3_5="gpt3.5",e.GPT_4="gpt4",e.GPT_4o="gpt4o",e.HIDDEN="hidden",e))(j4||{});const B4="WEB:",KPe=`${B4}:DUMMY`;var Au=(e=>(e.Next="next",e.Variant="variant",e.Continue="continue",e))(Au||{}),Ve=(e=>(e.Root="root",e.User="user",e.Assistant="assistant",e.System="system",e.Critic="critic",e.Tool="tool",e.Developer="developer",e))(Ve||{}),an=(e=>(e.PrimaryAssistant="primary_assistant",e.GizmoInteraction="gizmo_interaction",e.GizmoMagicCreate="gizmo_magic_create",e.GizmoTest="gizmo_test",e.FlyingCircusCustomization="flying_circus_customization",e))(an||{});const Dn={Web:"web",Cloud:"cloud",GitHub:"github",GoogleDrive:"google_drive",GoogleCalendar:"google_calendar",Gmail:"gmail",GoogleContacts:"google_contacts",Dropbox:"dropbox",Linear:"linear",Sharepoint:"sharepoint",Teams:"teams",OutlookEmail:"outlook_email",OutlookCalendar:"outlook_calendar",Box:"box",Intercom:"intercom",Hubspot:"hubspot",Canva:"canva",Notion:"notion",Slack:"slack"};var Jte=(e=>(e.None="none",e.OAuth="oauth",e.ServiceHTTP="service_http",e))(Jte||{}),Xd=(e=>(e.CONVERSATION="conversation",e.REGENERATE="regenerate",e))(Xd||{}),Ci=(e=>(e.UNSUPPORTED_ATTACHMENT="unsupported_attachment",e.UNSUPPORTED_AUDIO="unsupported_audio",e.UNSUPPORTED_IMAGE="unsupported_image",e.UNSUPPORTED_TOOL_USE="unsupported_tool_use",e.UNSUPPORTED_GIZMO="unsupported_gizmo",e.UNSUPPORTED_CUSTOM_INSTRUCTIONS="unsupported_custom_instructions",e.UNSUPPORTED_TEMPORARY_CHAT="unsupported_temporary_chat",e.UNSUPPORTED_CANVAS="unsupported_canvas",e))(Ci||{}),U4=(e=>(e.RATE_LIMIT="rate_limit",e))(U4||{}),He=(e=>(e.Text="text",e.MultimodalText="multimodal_text",e.StructuredThoughts="thoughts",e.ReasoningRecap="reasoning_recap",e.TetherBrowsingCode="tether_browsing_code",e.Code="code",e.ExecutionOutput="execution_output",e.SystemError="system_error",e.SystemMessage="system_message",e.SystemContent="system_content",e.DeveloperContent="developer_content",e.TetherBrowsingDisplay="tether_browsing_display",e.TetherQuote="tether_quote",e.UserEditableContext="user_editable_context",e.ModelEditableContext="model_editable_context",e.SonicWebpage="sonic_webpage",e.ComputerOutput="computer_output",e.Error="error",e.SuperWidget="super_widget",e.CitableCodeOutput="citable_code_output",e))(He||{}),qn=(e=>(e.Audio="audio",e.AudioAssetPointer="audio_asset_pointer",e.ImageAssetPointer="image_asset_pointer",e.Image="image",e.AudioTranscription="audio_transcription",e.RealTimeUserAudioVideoAssetPointer="real_time_user_audio_video_asset_pointer",e.SimpleImageAssetPointer="simple_image_asset_pointer",e.ArbitraryAssetPointer="arbitrary_asset_pointer",e.VideoAssetPointer="video_asset_pointer",e))(qn||{}),Uf=(e=>(e.Picker="Picker",e.Link="Link",e))(Uf||{}),Gs=(e=>(e.SEND="send",e.GIZMO_TAG="gizmo_tag",e.FILE_UPLOAD="file_upload",e.REASON="reason",e.DEEP_RESEARCH="deep_research",e.IMAGE_GEN="image_gen",e.WHAM="wham",e.ODYSSEY="odyssey",e))(Gs||{}),Qte=(e=>(e.AUTHENTICATE="authenticate",e.AUTHENTICATE_SECONDARY="authenticate_secondary",e.NEW_CHAT="new_chat",e.FREE_USER_O3_MINI_HIGH="free_user_o3_mini_high",e.PAID_USER_O3_MINI_HIGH="paid_user_o3_mini_high",e.DEEP_RESEARCH_IN_CONTEXT_UPSELL="deep_research_in_context_upsell",e.TRY_CODEX="try_codex",e.TRY_TATERTOT="try_tatertot",e.NOTIFY_ADMIN_FOR_CREDITS="notify_admin_for_credits",e.ADD_CREDITS="add_credits",e.UPGRADE_TO_GO="upgrade_to_go",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.GET_BUSINESS_TRIAL="get_business_trial",e.GET_PLUS_TRIAL="get_plus_trial",e))(Qte||{}),q4=(e=>(e.DEEP_RESEARCH="deep_research",e.ODYSSEY="odyssey",e))(q4||{}),Xte=(e=>(e.VIEW="view",e.CLICK="click",e.DISMISS="dismiss",e))(Xte||{}),ene=(e=>(e.FILE_UPLOAD="file_upload",e.PHOTO_UPLOAD="photo_upload",e.AUTHENTICATE_LOGIN="authenticate_login",e.AUTHENTICATE_SIGNUP="authenticate_signup",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.SYSTEM_HINT="system_hint",e.DISMISS="dismiss",e.GET_GO="get_go",e.GET_TEAM="get_team",e.OPEN_URL="open_url",e))(ene||{}),zF=(e=>(e.SystemHint="systemHint",e))(zF||{});function YPe(e){return"start_index"in e?{startIndex:e.start_index,endIndex:e.end_index,symbol:e.symbol}:e}var tne=(e=>(e.InstantQuery="instant_query",e.ComposerSearch="composer_search",e.UrlSearch="url_search",e))(tne||{}),nne=(e=>(e.RiskyDomainNotWatching="risky_domain_not_watching",e.UserInterrupted="user_interrupted",e.MaliciousInstructionDetected="malicious_instruction_detected",e.ModerationBlocked="moderation_blocked",e.Unknown="unknown",e))(nne||{}),rne=(e=>(e.ToolWeb="tool:web",e.Onboarding="onboarding",e.AppPairing="tool:app-pairing",e.IPL="campaign:ipl",e))(rne||{}),GF=(e=>(e.Search="search",e.Canvas="canvas",e.ImageGen="image_gen_tool_enabled",e))(GF||{}),HF=(e=>(e.Search="search",e.Click="click",e.MultiClick="mclick",e.Lookup="lookup",e.OpenUrl="open_url",e.Open="open",e.Quote="quote",e.QuoteFull="quote_full",e.QuoteLines="quote_lines",e.Back="back",e.Scroll="scroll",e.Spinner="spinner",e))(HF||{}),ine=(e=>(e.Bing="bing",e.Fortis="fortis",e))(ine||{}),sne=(e=>(e.Starting="starting",e.Running="running",e.Done="done",e.Timeout="timeout",e.Error="error",e.Cancelled="cancelled",e))(sne||{}),l6=(e=>(e.AUTO="auto",e))(l6||{}),one=(e=>(e.AUTO="auto",e.ON="reasoning",e.OFF="none",e.PRO="pro",e))(one||{});const is="agent",ane="~oai~s1~";function lne(e){let t=2166136261;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);t=Math.imul(t^i&255,16777619),t=Math.imul(t^i&65280,16777619)}return t>>>0}function jr(e,t){if(typeof e!="number")throw new Error(`Unexpected: ${e}`);return t!=null&&e===cne(t)}const T8={};function cne(e){return T8[e]??(T8[e]=lne(ane+e))}const ZPe="n7jupd",VF="-0dy553y",une=1338619165;function $F(e){return jr(une,e+VF)}const dne=3675352570;function JPe(e){return jr(dne,e+VF)}var fne=(e=>(e[e.Setup=0]="Setup",e[e.Random=1]="Random",e[e.Animation=2]="Animation",e[e.Done=3]="Done",e[e.Thinking=4]="Thinking",e[e.Research=5]="Research",e[e.Autoswitch=6]="Autoswitch",e))(fne||{});const Ae={Search:"search",Think:"reason",Research:"research",Canvas:"canvas",Picture:"picture",PictureV2:"picture_v2",Video:"video",ContextualAnswers:"contextual_answers",Slurm:"slurm",ApiTool:"api_tool",Moonshine:"moonshine",Tatertot:"tatertot",Agent:"agent"};function hne(e){return Object.values(Ae).includes(e)}function pne(e){return hne(e)?e:gne[e]}const mne="study",gne={connectors:Ae.Slurm,image:Ae.PictureV2,think:Ae.Think,[mne]:Ae.Tatertot};var WF=Symbol.for("immer-nothing"),O8=Symbol.for("immer-draftable"),Gt=Symbol.for("immer-state");function Ti(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $u=Object.getPrototypeOf;function Wu(e){return!!e&&!!e[Gt]}function Mo(e){return e?KF(e)||Array.isArray(e)||!!e[O8]||!!e.constructor?.[O8]||kg(e)||Tg(e):!1}var vne=Object.prototype.constructor.toString();function KF(e){if(!e||typeof e!="object")return!1;const t=$u(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===vne}function Ku(e,t){xg(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function xg(e){const t=e[Gt];return t?t.type_:Array.isArray(e)?1:kg(e)?2:Tg(e)?3:0}function c6(e,t){return xg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function YF(e,t,n){const r=xg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function _ne(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kg(e){return e instanceof Map}function Tg(e){return e instanceof Set}function zn(e){return e.copy_||e.base_}function u6(e,t){if(kg(e))return new Map(e);if(Tg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&KF(e))return $u(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Gt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create($u(e),n)}function z4(e,t=!1){return Og(e)||Wu(e)||!Mo(e)||(xg(e)>1&&(e.set=e.add=e.clear=e.delete=yne),Object.freeze(e),t&&Ku(e,(n,r)=>z4(r,!0))),e}function yne(){Ti(2)}function Og(e){return Object.isFrozen(e)}var d6={};function rc(e){const t=d6[e];return t||Ti(0,e),t}function bne(e,t){d6[e]||(d6[e]=t)}var qf;function c1(){return qf}function Cne(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A8(e,t){t&&(rc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function f6(e){h6(e),e.drafts_.forEach(Sne),e.drafts_=null}function h6(e){e===qf&&(qf=e.parent_)}function I8(e){return qf=Cne(qf,e)}function Sne(e){const t=e[Gt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function M8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Gt].modified_&&(f6(t),Ti(4)),Mo(e)&&(e=u1(t,e),t.parent_||d1(t,e)),t.patches_&&rc("Patches").generateReplacementPatches_(n[Gt].base_,e,t.patches_,t.inversePatches_)):e=u1(t,n,[]),f6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WF?e:void 0}function u1(e,t,n){if(Og(t))return t;const r=t[Gt];if(!r)return Ku(t,(i,s)=>R8(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return d1(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Ku(s,(a,l)=>R8(e,r,i,a,l,n,o)),d1(e,i,!1),n&&e.patches_&&rc("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function R8(e,t,n,r,i,s,o){if(Wu(i)){const a=s&&t&&t.type_!==3&&!c6(t.assigned_,r)?s.concat(r):void 0,l=u1(e,i,a);if(YF(n,r,l),Wu(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Mo(i)&&!Og(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;u1(e,i),(!t||!t.scope_.parent_)&&d1(e,i)}}function d1(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&z4(t,n)}function wne(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:c1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=G4;n&&(i=[r],s=zf);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var G4={get(e,t){if(t===Gt)return e;const n=zn(e);if(!c6(n,t))return Ene(e,n,t);const r=n[t];return e.finalized_||!Mo(r)?r:r===Ev(e.base_,t)?(xv(e),e.copy_[t]=Gf(r,e)):r},has(e,t){return t in zn(e)},ownKeys(e){return Reflect.ownKeys(zn(e))},set(e,t,n){const r=ZF(zn(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ev(zn(e),t),s=i?.[Gt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(_ne(n,i)&&(n!==void 0||c6(e.base_,t)))return!0;xv(e),ho(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ev(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,xv(e),ho(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ti(11)},getPrototypeOf(e){return $u(e.base_)},setPrototypeOf(){Ti(12)}},zf={};Ku(G4,(e,t)=>{zf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zf.deleteProperty=function(e,t){return zf.set.call(this,e,t,void 0)};zf.set=function(e,t,n){return G4.set.call(this,e[0],t,n,e[0])};function Ev(e,t){const n=e[Gt];return(n?zn(n):e)[t]}function Ene(e,t,n){const r=ZF(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function ZF(e,t){if(!(t in e))return;let n=$u(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$u(n)}}function ho(e){e.modified_||(e.modified_=!0,e.parent_&&ho(e.parent_))}function xv(e){e.copy_||(e.copy_=u6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xne=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Ti(6),r!==void 0&&typeof r!="function"&&Ti(7);let i;if(Mo(t)){const s=I8(this),o=Gf(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?f6(s):h6(s)}return A8(s,r),M8(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===WF&&(i=void 0),this.autoFreeze_&&z4(i,!0),r){const s=[],o=[];rc("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Ti(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Mo(e)||Ti(8),Wu(e)&&(e=kne(e));const t=I8(this),n=Gf(e,void 0);return n[Gt].isManual_=!0,h6(t),n}finishDraft(e,t){const n=e&&e[Gt];(!n||!n.isManual_)&&Ti(9);const{scope_:r}=n;return A8(r,t),M8(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=rc("Patches").applyPatches_;return Wu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Gf(e,t){const n=kg(e)?rc("MapSet").proxyMap_(e,t):Tg(e)?rc("MapSet").proxySet_(e,t):wne(e,t);return(t?t.scope_:c1()).drafts_.push(n),n}function kne(e){return Wu(e)||Ti(10,e),JF(e)}function JF(e){if(!Mo(e)||Og(e))return e;const t=e[Gt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=u6(e,t.scope_.immer_.useStrictShallowCopy_)}else n=u6(e,!0);return Ku(n,(r,i)=>{YF(n,r,JF(i))}),t&&(t.finalized_=!1),n}function Tne(){class e extends Map{constructor(l,c){super(),this[Gt]={type_:2,parent_:c,scope_:c?c.scope_:c1(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:l,draft_:this,isManual_:!1,revoked_:!1}}get size(){return zn(this[Gt]).size}has(l){return zn(this[Gt]).has(l)}set(l,c){const u=this[Gt];return o(u),(!zn(u).has(l)||zn(u).get(l)!==c)&&(n(u),ho(u),u.assigned_.set(l,!0),u.copy_.set(l,c),u.assigned_.set(l,!0)),this}delete(l){if(!this.has(l))return!1;const c=this[Gt];return o(c),n(c),ho(c),c.base_.has(l)?c.assigned_.set(l,!1):c.assigned_.delete(l),c.copy_.delete(l),!0}clear(){const l=this[Gt];o(l),zn(l).size&&(n(l),ho(l),l.assigned_=new Map,Ku(l.base_,c=>{l.assigned_.set(c,!1)}),l.copy_.clear())}forEach(l,c){const u=this[Gt];zn(u).forEach((d,f,h)=>{l.call(c,this.get(f),f,this)})}get(l){const c=this[Gt];o(c);const u=zn(c).get(l);if(c.finalized_||!Mo(u)||u!==c.base_.get(l))return u;const d=Gf(u,c);return n(c),c.copy_.set(l,d),d}keys(){return zn(this[Gt]).keys()}values(){const l=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const c=l.next();return c.done?c:{done:!1,value:this.get(c.value)}}}}entries(){const l=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const c=l.next();if(c.done)return c;const u=this.get(c.value);return{done:!1,value:[c.value,u]}}}}[Symbol.iterator](){return this.entries()}}function t(a,l){return new e(a,l)}function n(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class r extends Set{constructor(l,c){super(),this[Gt]={type_:3,parent_:c,scope_:c?c.scope_:c1(),modified_:!1,finalized_:!1,copy_:void 0,base_:l,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return zn(this[Gt]).size}has(l){const c=this[Gt];return o(c),c.copy_?!!(c.copy_.has(l)||c.drafts_.has(l)&&c.copy_.has(c.drafts_.get(l))):c.base_.has(l)}add(l){const c=this[Gt];return o(c),this.has(l)||(s(c),ho(c),c.copy_.add(l)),this}delete(l){if(!this.has(l))return!1;const c=this[Gt];return o(c),s(c),ho(c),c.copy_.delete(l)||(c.drafts_.has(l)?c.copy_.delete(c.drafts_.get(l)):!1)}clear(){const l=this[Gt];o(l),zn(l).size&&(s(l),ho(l),l.copy_.clear())}values(){const l=this[Gt];return o(l),s(l),l.copy_.values()}entries(){const l=this[Gt];return o(l),s(l),l.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(l,c){const u=this.values();let d=u.next();for(;!d.done;)l.call(c,d.value,d.value,this),d=u.next()}}function i(a,l){return new r(a,l)}function s(a){a.copy_||(a.copy_=new Set,a.base_.forEach(l=>{if(Mo(l)){const c=Gf(l,a);a.drafts_.set(l,c),a.copy_.add(c)}else a.copy_.add(l)}))}function o(a){a.revoked_&&Ti(3,JSON.stringify(zn(a)))}bne("MapSet",{proxyMap_:t,proxySet_:i})}var hi=new xne,Wi=hi.produce;hi.produceWithPatches.bind(hi);hi.setAutoFreeze.bind(hi);hi.setUseStrictShallowCopy.bind(hi);hi.applyPatches.bind(hi);hi.createDraft.bind(hi);hi.finishDraft.bind(hi);const One=e=>(t,n,r)=>(r.setState=(i,s,...o)=>{const a=typeof i=="function"?Wi(i):i;return t(a,s,...o)},e(r.setState,n,r)),Ja=One,Ane={bannerInfo:null,modelLimits:[],blockedFeatures:[],isInitialLoad:!0,limitsProgress:[]},wo=fn(Ja(()=>({...Ane}))),H4={[Ae.Research]:Gs.DEEP_RESEARCH,[Ae.PictureV2]:Gs.IMAGE_GEN,[Ae.Think]:Gs.REASON};H4[is]=Gs.ODYSSEY;const QPe=e=>$F(e)?Gs.ODYSSEY:H4[e]??null,XPe=e=>{for(const[t,n]of Object.entries(H4))if(n===e)return t;return null},Ine={[Ae.Research]:q4.DEEP_RESEARCH};function Mne(e){return $F(e)?q4.ODYSSEY:Ine[e]??null}function Na(e){return new Date(e.resets_after)>new Date}const Rne=e=>{const t=(e.model_limits?.filter(Na)??[]).map(r=>r.model_slug),n=new Set(wo.getState().modelLimits.filter(Na).map(r=>r.model_slug));return t.length!==n.size||!t.every(r=>n.has(r))},QF={updateDetails:({banner_info:e,model_limits:t,blocked_features:n,limits_progress:r})=>{wo.setState(i=>{const s=Lt();$t(s,"3886886465").get("should_overwrite_banner_info",!1)?i.bannerInfo=e:i.bannerInfo??=e,i.isInitialLoad=!1,i.blockedFeatures=i.blockedFeatures.concat(n).filter(Na),i.modelLimits=i.modelLimits.concat(t??[]).filter(Na),i.limitsProgress=r??[]})},dismissBanner:()=>{wo.setState(e=>{e.bannerInfo=null})},reset:()=>{wo.setState(e=>{e.blockedFeatures=[],e.bannerInfo=null})}};function eNe(){return wo(({bannerInfo:e})=>{const{resets_after:t}=e??{};return!e||t!=null&&!Na({resets_after:t})?null:e})}function Ag(e){return wo(({blockedFeatures:t})=>{if(!e)return null;const n=t.find(({name:r})=>r===e);return n&&Na(n)?n:null})}function Pne(){return Ag(Gs.SEND)}function tNe(){return!!Pne()}function nNe(){return Ag(Gs.FILE_UPLOAD)}function rNe(){return Ag(Gs.GIZMO_TAG)}function iNe(){return Ag(Gs.DEEP_RESEARCH)}function Nne(){return wo(({modelLimits:t})=>t).filter(Na)}function sNe(e){return wo(({limitsProgress:n})=>n).filter(n=>e({...n,bySystemHint:r=>n.feature_name===Mne(r)}))[0]}function oNe(){return wo(({blockedFeatures:t})=>t).filter(Na)}const Dne=fn(()=>null),Lne=fn(()=>null);var XF=(e=>(e.UnexpectedSSOLogin="unexpected_sso_login",e.SSOMismatch="sso_mismatch",e.RequireSSOLogin="require_sso_login",e))(XF||{});const Fne=Object.freeze(new Set(Object.values(XF)));function jne(e){return e?Fne.has(e):!1}const Bne=fn(()=>null),P8=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Ig="en-US",aNe=["am","ar","bg-BG","bn-BD","bs-BA","ca-ES","cs-CZ","da-DK","de-DE","el-GR","en-US","es-419","es-ES","et-EE","fi-FI","fr-CA","fr-FR","gu-IN","hi-IN","hr-HR","hu-HU","hy-AM","id-ID","is-IS","it-IT","ja-JP","ka-GE","kk","kn-IN","ko-KR","lt","lv-LV","mk-MK","ml","mn","mr-IN","ms-MY","my-MM","nb-NO","nl-NL","pa","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","so-SO","sq-AL","sr-RS","sv-SE","sw-TZ","ta-IN","te-IN","th-TH","tl","tr-TR","uk-UA","ur","vi-VN","zh-CN","zh-HK","zh-TW"],Une=["es-419","fr-FR","zh-TW"],lNe={am:"አማርኛ",ar:"العربية","bg-BG":"български","bn-BD":"বাংলা","bs-BA":"bosanski","ca-ES":"català","cs-CZ":"čeština","da-DK":"dansk","de-DE":"Deutsch","el-GR":"Ελληνικά","en-US":"English (US)","es-419":"español (Latinoamérica)","es-ES":"español (España)","et-EE":"eesti","fi-FI":"suomi","fr-CA":"français (Canada)","fr-FR":"français (France)","gu-IN":"ગુજરાતી","hi-IN":"हिन्दी","hr-HR":"hrvatski","hu-HU":"magyar","hy-AM":"հայերեն","id-ID":"Indonesia","is-IS":"íslenska","it-IT":"italiano","ja-JP":"日本語","ka-GE":"ქართული",kk:"қазақ тілі","kn-IN":"ಕನ್ನಡ","ko-KR":"한국어",lt:"lietuvių","lv-LV":"latviešu","mk-MK":"македонски",ml:"മലയാളം",mn:"монгол","mr-IN":"मराठी","ms-MY":"Bahasa Melayu","my-MM":"မြန်မာ","nb-NO":"norsk bokmål","nl-NL":"Nederlands",pa:"ਪੰਜਾਬੀ","pl-PL":"polski","pt-BR":"português (Brasil)","pt-PT":"português (Portugal)","ro-RO":"română","ru-RU":"русский","sk-SK":"slovenčina","sl-SI":"slovenščina","so-SO":"Soomaali","sq-AL":"shqip","sr-RS":"српски","sv-SE":"svenska","sw-TZ":"Kiswahili","ta-IN":"தமிழ்","te-IN":"తెలుగు","th-TH":"ไทย",tl:"Tagalog","tr-TR":"Türkçe","uk-UA":"українська",ur:"اردو","vi-VN":"Tiếng Việt","zh-CN":"简体中文","zh-HK":"繁體中文（香港）","zh-TW":"繁體中文（台灣）"};function qne(){return Array.from(new Set(Object.values(ef)))}const ef={am:"am",ar:"ar",bg:"bg-BG","bg-bg":"bg-BG",bn:"bn-BD","bn-bd":"bn-BD",bs:"bs-BA","bs-ba":"bs-BA",ca:"ca-ES","ca-es":"ca-ES",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",el:"el-GR","el-gr":"el-GR",en:"en-US","en-us":"en-US",es:"es-ES","es-es":"es-ES","es-419":"es-419","es-ar":"es-419","es-bo":"es-419","es-br":"es-419","es-bz":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419","es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-jp":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419",et:"et-EE","et-ee":"et-EE",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-ca":"fr-CA","fr-fr":"fr-FR",gu:"gu-IN","gu-in":"gu-IN",hi:"hi-IN","hi-in":"hi-IN",hr:"hr-HR","hr-hr":"hr-HR",hu:"hu-HU","hu-hu":"hu-HU",hy:"hy-AM","hy-am":"hy-AM",id:"id-ID","id-id":"id-ID",is:"is-IS","is-is":"is-IS",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ka:"ka-GE","ka-ge":"ka-GE",kk:"kk",kn:"kn-IN","kn-in":"kn-IN",ko:"ko-KR","ko-kr":"ko-KR",lt:"lt",lv:"lv-LV","lv-lv":"lv-LV",mk:"mk-MK","mk-mk":"mk-MK",ml:"ml",mn:"mn",mr:"mr-IN","mr-in":"mr-IN",ms:"ms-MY","ms-my":"ms-MY",my:"my-MM","my-mm":"my-MM",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL","nl-nl":"nl-NL",pa:"pa",pl:"pl-PL","pl-pl":"pl-PL",pt:"pt-BR","pt-br":"pt-BR","pt-pt":"pt-PT","pt-ao":"pt-PT","pt-ch":"pt-PT","pt-cv":"pt-PT","pt-fr":"pt-PT","pt-gq":"pt-PT","pt-gw":"pt-PT","pt-lu":"pt-PT","pt-mo":"pt-PT","pt-mz":"pt-PT","pt-st":"pt-PT","pt-tl":"pt-PT",ro:"ro-RO","ro-ro":"ro-RO",ru:"ru-RU","ru-ru":"ru-RU",sk:"sk-SK","sk-sk":"sk-SK",sl:"sl-SI","sl-si":"sl-SI",so:"so-SO","so-so":"so-SO",sq:"sq-AL","sq-al":"sq-AL",sr:"sr-RS","sr-rs":"sr-RS",sv:"sv-SE","sv-se":"sv-SE",sw:"sw-TZ","sw-tz":"sw-TZ",ta:"ta-IN","ta-in":"ta-IN",te:"te-IN","te-in":"te-IN",th:"th-TH","th-th":"th-TH",tl:"tl",tr:"tr-TR","tr-tr":"tr-TR",uk:"uk-UA","uk-ua":"uk-UA",ur:"ur",vi:"vi-VN","vi-vn":"vi-VN",zh:"zh-CN","zh-cn":"zh-CN","zh-hans":"zh-CN","zh-hans-cn":"zh-CN","zh-tw":"zh-TW","zh-hant":"zh-TW","zh-hant-tw":"zh-TW","zh-hk":"zh-HK","zh-hant-hk":"zh-HK"},ej=new Set(["ar"]);function V4(e){const t=e.replace("_","-").toLowerCase();if(t in ef)return ef[t];const n=t.split("-");for(let r=n.length-1;r>=1;r--){const i=n.slice(0,r).join("-");if(i in ef)return ef[i]}return null}const bf={};function tj(e){return Une.includes(e)}async function zne(e,t){return e===Ig?bf:(await(tj(e)&&t?P8(Object.assign({"./locales-mt/es-419.json":()=>ye(()=>import("./ic7vrv3hijmgthps.js"),[]),"./locales-mt/fr-FR.json":()=>ye(()=>import("./cadj37o9qwzzcse6.js"),[]),"./locales-mt/zh-TW.json":()=>ye(()=>import("./d6nii8jwdiu8u72u.js"),[])}),`./locales-mt/${e}.json`,3):P8(Object.assign({"./locales/am.json":()=>ye(()=>import("./hcrj4b4lbq3c9kab.js"),[]),"./locales/ar.json":()=>ye(()=>import("./cc0nm8iir4p432cs.js"),[]),"./locales/bg-BG.json":()=>ye(()=>import("./iih6tr58jga386x1.js"),[]),"./locales/bn-BD.json":()=>ye(()=>import("./dr38z064w00z34ze.js"),[]),"./locales/bs-BA.json":()=>ye(()=>import("./gcrzdr2w4n7eowmp.js"),[]),"./locales/ca-ES.json":()=>ye(()=>import("./0h6ahu43zpahef05.js"),[]),"./locales/cs-CZ.json":()=>ye(()=>import("./ey1zvgg0i9nu125x.js"),[]),"./locales/da-DK.json":()=>ye(()=>import("./kbrasu515cr2kiph.js"),[]),"./locales/de-DE.json":()=>ye(()=>import("./gy1mv16w2ch0slj7.js"),[]),"./locales/el-GR.json":()=>ye(()=>import("./lqtx6iano99txcxa.js"),[]),"./locales/es-419.json":()=>ye(()=>import("./eakzagchtozwibds.js"),[]),"./locales/es-ES.json":()=>ye(()=>import("./hybxc9elgkkjl8jv.js"),[]),"./locales/et-EE.json":()=>ye(()=>import("./hehpzlzk924mi05u.js"),[]),"./locales/fi-FI.json":()=>ye(()=>import("./ksq8zrs9eat5l8rz.js"),[]),"./locales/fr-CA.json":()=>ye(()=>import("./ljd8sf3s8h9mcbqh.js"),[]),"./locales/fr-FR.json":()=>ye(()=>import("./bef53nck8z9294jr.js"),[]),"./locales/gu-IN.json":()=>ye(()=>import("./kutsxyuh2cvnh8yn.js"),[]),"./locales/he-IL.json":()=>ye(()=>import("./h0pte8pfxhise50n.js"),[]),"./locales/hi-IN.json":()=>ye(()=>import("./c7d8pn39wrxlne64.js"),[]),"./locales/hr-HR.json":()=>ye(()=>import("./l1a39d59p5iact8z.js"),[]),"./locales/hu-HU.json":()=>ye(()=>import("./e35b9s4r0imlys5a.js"),[]),"./locales/hy-AM.json":()=>ye(()=>import("./dd8isfys1blk0g7k.js"),[]),"./locales/id-ID.json":()=>ye(()=>import("./m41pdkpeovj8nqtj.js"),[]),"./locales/is-IS.json":()=>ye(()=>import("./azizegt85ocdddfm.js"),[]),"./locales/it-IT.json":()=>ye(()=>import("./o9kxcvq0dngoa63o.js"),[]),"./locales/ja-JP.json":()=>ye(()=>import("./hs4byp2oq8wvkywe.js"),[]),"./locales/ka-GE.json":()=>ye(()=>import("./lumh492emz7wgec4.js"),[]),"./locales/kk.json":()=>ye(()=>import("./orvi9ftrlkw2ed40.js"),[]),"./locales/kn-IN.json":()=>ye(()=>import("./e87mchkez7o629hv.js"),[]),"./locales/ko-KR.json":()=>ye(()=>import("./hcr3uyuztexer72z.js"),[]),"./locales/lt.json":()=>ye(()=>import("./f6xxjtbrridfssm0.js"),[]),"./locales/lv-LV.json":()=>ye(()=>import("./kcjkw5sg7j48xqd2.js"),[]),"./locales/mk-MK.json":()=>ye(()=>import("./emm5q5f9xuqzhwu3.js"),[]),"./locales/ml.json":()=>ye(()=>import("./o83mrwof69dgsogq.js"),[]),"./locales/mn.json":()=>ye(()=>import("./myfpjpr3akn743kz.js"),[]),"./locales/mr-IN.json":()=>ye(()=>import("./6h80q2lhm09jil45.js"),[]),"./locales/ms-MY.json":()=>ye(()=>import("./o0hnmcrliz9gfdok.js"),[]),"./locales/my-MM.json":()=>ye(()=>import("./m3g1m95efh84f79u.js"),[]),"./locales/nb-NO.json":()=>ye(()=>import("./exber39hn4192o3d.js"),[]),"./locales/nl-NL.json":()=>ye(()=>import("./kvwy7rbv45gpu8pl.js"),[]),"./locales/pa.json":()=>ye(()=>import("./lo3mafmx4jn7w7x8.js"),[]),"./locales/pl-PL.json":()=>ye(()=>import("./h064avzadsaxl9bq.js"),[]),"./locales/pt-BR.json":()=>ye(()=>import("./k2bikjvrussu1n0j.js"),[]),"./locales/pt-PT.json":()=>ye(()=>import("./ffvvizd15hmudf9n.js"),[]),"./locales/ro-RO.json":()=>ye(()=>import("./papnn5qvofiqh3tw.js"),[]),"./locales/ru-RU.json":()=>ye(()=>import("./hs585jyhcgzees7u.js"),[]),"./locales/sk-SK.json":()=>ye(()=>import("./jqml5ozc8nm0bv58.js"),[]),"./locales/sl-SI.json":()=>ye(()=>import("./lwnv6kzugglbman9.js"),[]),"./locales/so-SO.json":()=>ye(()=>import("./j2psfx34az6x43t0.js"),[]),"./locales/sq-AL.json":()=>ye(()=>import("./hccykfqqeqpm6t6m.js"),[]),"./locales/sr-RS.json":()=>ye(()=>import("./fdvt5iqv0sd319j3.js"),[]),"./locales/sv-SE.json":()=>ye(()=>import("./e6d5dw548xboqsel.js"),[]),"./locales/sw-TZ.json":()=>ye(()=>import("./nj3or8y954vk28q0.js"),[]),"./locales/ta-IN.json":()=>ye(()=>import("./oq2bfa84l7enkr0l.js"),[]),"./locales/te-IN.json":()=>ye(()=>import("./h7fr5u44wl0vl975.js"),[]),"./locales/th-TH.json":()=>ye(()=>import("./pn3kpcnyoxgbarqk.js"),[]),"./locales/tl.json":()=>ye(()=>import("./m3juqzyapv8xv99a.js"),[]),"./locales/tr-TR.json":()=>ye(()=>import("./j88pmygrbv2m8c2y.js"),[]),"./locales/uk-UA.json":()=>ye(()=>import("./oenpfvvw8saytr79.js"),[]),"./locales/ur.json":()=>ye(()=>import("./cuuaot2yeatf9cs2.js"),[]),"./locales/vi-VN.json":()=>ye(()=>import("./dmofbsla2olu7hjg.js"),[]),"./locales/zh-CN.json":()=>ye(()=>import("./bs5vnvke9dh7sbni.js"),[]),"./locales/zh-HK.json":()=>ye(()=>import("./hfgftskc3pk39mtg.js"),[]),"./locales/zh-TW.json":()=>ye(()=>import("./c5quyrrhdmopmfa5.js"),[])}),`./locales/${e}.json`,3))).default}const Gne=365*24*60*60,cNe=e=>{e==null?$e.deleteCookie(je.PreferredLocale):$e.setCookie(je.PreferredLocale,e,{maxAge:Gne}),window.location.reload()},Hne=()=>{const e=$e.getCookie(je.PreferredLocale);return e!=null?V4(e):null},uNe=()=>{const e=pe(),t=dn(e).locale,n=i6(()=>Hne())??null,r=i6(()=>{const i=navigator.language;return i?V4(i):null});return Array.from(new Set([t,n,r].filter(Boolean)))},Ts=window.localStorage;var qt=(e=>(e.Theme="theme",e.NextAuth="nextauth.message",e.IsNoAuthChatTrainingEnabled="oai/apps/isNoAuthChatTrainingEnabled",e.IsNavigationCollapsed="UiState.isNavigationCollapsed.1",e.IsHistoryCollapsed="UiState.isOnlyShowingRecents.1",e.ChatThreadFlyoutState="UiState.chatThreadFlyoutState",e.IsGptListCollapsed="UiState.isGptListCollapsed",e.LastUsedModel="oai/apps/lastModelUsed",e.EnabledPlugins="oai/enabledPluginIds",e.HasSeenNewChatModal="oai/apps/hasSeenNewChatModal",e.HasSeenMeetChatGptModal="oai/apps/hasSeenMeetChatGptModal",e.HasSignedUpForPlusUpgradeWaitlistV1="oai/apps/HasSignedUpForPlusUpgradeWaitlist",e.HasSignedUpForPlusUpgradeWaitlistV2="oai/apps/HasSignedUpForPlusUpgradeWaitlistV2",e.HasSignedUpForTeamUpgradeWaitlistV1="oai/apps/HasSignedUpForTeamUpgradeWaitlist",e.HasSignedUpForTeamUpgradeWaitlistV2="oai/apps/HasSignedUpForTeamUpgradeWaitlistV2",e.HasDismissedUpgradeInviteModal="oai/apps/hasDismissedUpgradeInviteModal",e.GizmoEditorTab="oai/apps/gizmoEditorTab",e.GizmoDiscoveryLocale="oai/apps/gizmoDiscoveryLocale",e.NoAuthRateLimitState="oai/apps/noAuthRateLimitState",e.RestoreMessageAfterOauthRedirect="oai/apps/restoreMessageAfterOauthRedirect",e.HasSeenAdaInteractiveChart="oai/apps/hasSeenAdaInteractiveChart",e.HasSeenAdaInteractiveTable="oai/apps/hasSeenAdaInteractiveTable",e.SearchSettings="oai/apps/searchSettings",e.NoAuthBannerDisclaimerClientThreadId="oai/apps/noAuthBannerDisclaimerClientThreadId",e.NoAuthHasAcceptedFooterDisclaimer="oai/apps/noAuthHasAcceptedFooterDisclaimer",e.NoAuthUserMessageCount="oai/apps/noAuthUserMessageCount",e.HasSeenNoAuthImagegenNux="oai/apps/hasSeenNoAuthImagegenNux",e.LoggedInUserMessageCount="oai/apps/loggedInUserMessageCount",e.NoAuthHasDismissedSoftRateLimitModal="oai/apps/noAuthHasDismissedSoftRateLimitModal",e.NoAuthHasSeenGpt4oModal="oai/apps/noAuthHasSeenGpt4oModal",e.MemoryFullBannerDismissed="oai/apps/memoryFullBannerDismissed",e.MemoryAlmostFullBannerDismissed="oai/apps/memoryAlmostFullBannerDismissed",e.IndepthFeedbackDismissedAt="oai/apps/indepthFeedbackDismissedAt",e.AdvancedVoiceOnMobileAnnouncementCount="oai/apps/oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.CheckoutFrom="oai/apps/checkout_from",e.HasConfirmedCanvasCodeExecution="oai/apps/hasConfirmedCanvasCodeExecution",e.CODE_EXECUTION_DOMAIN_ALLOW_LIST="oai/apps/codeExecutionDomainAllowlistWithTTL",e.TasksHasSeenProjectDisclaimerBanner="oai/apps/tasksHasSeenProjectDisclaimerBanner",e.ExpandSummarizedCoT="oai/apps/ExpandSummarizedCoT",e.PromoCode="oai/apps/promoCode",e.LastPageLoadDate="oai/apps/lastPageLoadDate",e.NoAuthMadlibsModalState="oai/apps/noAuthMadlibsModalState",e.d2dee219="oai/apps/d2dee219",e.ReferralCode="oai/apps/referralCode",e.LastFeedLoad="oai/apps/2dc5214a",e.VoiceLastUsed="oai/apps/voiceLastUsed",e.ModelCustomConfig="oai/modelCustomConfig",e.ChatThemeOverride="oai/apps/chatThemeOverride",e.ChatTheme="oai/apps/chatTheme",e.ConversationDrafts="oai/apps/conversationDrafts",e.DebugSettings="oai/apps/debugSettings",e.GlauxUsePromptOverride="oai/apps/glauxUsePromptOverride",e.GlauxPromptOverride="oai/apps/glauxPromptOverride",e.GlauxJuiceScore="oai/apps/glauxJuiceScore",e.LastEnvironment="oai/apps/l1239dk1/a3f4b29d",e.PromptDraft="oai/apps/l1239dk1/c7e2d18f",e.ProposedTasks="oai/apps/l1239dk1/8fa94c1e",e.ReactQueryDevtoolsVisible="oai/apps/l1239dk1/3e2d18f",e.WhamForcedRateLimitRemaining="oai/apps/l1239dk1/49292001",e.WhamChangelogClickedDate="oai/apps/l1239dk1/4b7d9e2f",e.WhamRepoDownloadDurations="oai/apps/l1239dk1/9182cd99",e.WhamBestOfN="oai/apps/l1239dk1/109b6e28",e.WhamImageSnapshot="oai/apps/l1239dk1/4kdf92l2",e.WhamShowFullDiff="oai/apps/l1239dk1/7a8d45ff",e.WhamPreferredEditor="oai/apps/l1239dk1/e2b7ab3c",e.WhamCodexOnboardingState="oai/apps/l1239dk1/codexOnboardingState",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.MessageFollowupsStoreState="oai/apps/messageFollowupsStoreState",e.JumpToShade="jump-to-shade",e.HasManuallyClosedLanguageUpsellBanner="oai/apps/hasManuallyClosedLanguageUpsellBanner",e.PluginsAuthRedirect="oai/apps/plugins/authRedirect",e.SelectedSources="oai/apps/connectors/selectedSources",e.SelectedGithubRepos="oai/apps/connectors/selectedGithubRepos",e.ConnectorOAuthFlowType="oai/apps/connectors/oauthFlowType",e.SubscriptionFailedBanner="oai/apps/subscriptionFailedBanner",e.HasDismissedTeamsNoAuthUpsell="oai/apps/hasDismissedTeamsNoAuthUpsell",e.FinchAdminNotified="oai/apps/finchAdminNotified",e.GetTeamPillDismissed="oai/apps/getTeamPillDismissed",e.CARecommendedPromptsUpsell="oai/apps/caRecommendedPromptsUpsell",e.ChinookStartupInfo="oai/apps/chinookStartupInfo",e.ModelSlugStatsOverride="oai/apps/modelSlugStatsOverride",e.ShortcutLinks="oai/apps/shortcutLinks",e.HomeDiscoveryDismissed="oai/apps/homeDiscoveryDismissed",e.O3MiniHighInContextUpsellBanner="oai/apps/o3MiniHighInContextUpsellBanner",e.TatertotInContextUpsellBannerV2="oai/apps/tatertotInContextUpsellBannerV2",e.ImageGenProgressUpsellV2="oai/apps/imageGenProgressUpsellV2",e.NoAuthGoUpsellModalDismissed="oai/apps/noAuthGoUpsellModalDismissed",e.HasDismissedMobileAppUpsellBanner="oai/apps/hasDismissedMobileAppUpsellBanner",e.HasDismissedMoodengUpsellBanner="oai/apps/hasDismissedMoodengUpsellBanner",e.LastSeenPlusUpsellBannerAt="oai/apps/lastSeenPlusUpsellBannerAt",e.HasDismissedOnboardingSidebarEntry="oai/apps/hasDismissedOnboardingSidebarEntry",e.LastSeenNoAuthTrialsBannerAt="oai/apps/lastSeenNoAuthTrialsBannerAt",e.PendingSurveySpec="oai/apps/pendingSurveySpec",e))(qt||{});class Wt{static setItem(t,n,r){if(!Ts)return;const i=Sm(t,r);Ts.setItem(i,JSON.stringify(n))}static getItem(t,n){if(!Ts)return null;try{const r=Sm(t,n),i=Ts.getItem(r);return typeof i=="string"?JSON.parse(i):i}catch{return null}}static removeItem(t,n){if(Ts){const r=Sm(t,n);return Ts.removeItem(r)}}static DANGER_SECRET_FOLDERS_ONLY_setItem(t,n){if(!Ts){console.warn(`You cannot set localStorage server-side (${t})`);return}Ts.setItem(t,JSON.stringify(n))}static DANGER_SECRET_FOLDERS_ONLY_getItem(t){if(!Ts)return console.warn(`You cannot get localStorage server-side (${t})`),null;const n=Ts.getItem(t);return typeof n=="string"?JSON.parse(n):n}}function Sm(e,t){const n=[e];return t!==void 0&&(t.userId!=null&&n.push(t.userId),t.workspaceId!=null&&n.push(t.workspaceId)),n.join("/")}const N8=100,Hf=fn()(Ja(()=>Wt.getItem(qt.ConversationDrafts)??{drafts:[],userId:null})),$4=e=>{Hf.setState(e),Wt.setItem(qt.ConversationDrafts,e)},W4=e=>e??"null_thread",dNe=(e,t,n)=>{const r=W4(e);let s=Hf.getState().userId===n?Hf.getState().drafts:[];const o=s.findIndex(l=>l.id===r),a={id:r,content:t,timestamp:Date.now()};o!==-1?s[o]=a:s.push(a),s.length>N8&&(s=s.sort((l,c)=>c.timestamp-l.timestamp).slice(0,N8)),$4({drafts:s,userId:n})},Vne=e=>{const t=W4(e);return Hf.getState().drafts.find(n=>n.id===t)},fNe=e=>{const t=W4(e),n=Hf.getState().drafts.filter(r=>r.id!==t);$4({drafts:n,userId:null})},$ne=()=>{$4({drafts:[],userId:null})};function Wne(e,t,n){if(n)return t??void 0;if(!e)return;const r=e.trim();if(!r)return;const i=r.split(/\s+/);if(i.length===0)return;const s=i[0];return s.indexOf("@")!==-1||/^\d+$/.test(s)?void 0:s.replace(/[^a-zA-ZÀ-ž]+/g,"")}function hNe(e,t,n){const r=Wne(t?.name,t?.first_name,n);let i="";e&&("object"in e&&e.object==="user_system_message_detail"?i=e.name_user_message:i=e.nameUserMessage??"");const s=i.trim();return(e?.enabled??!0)&&s?s:r}function Kne(){$e.deleteCookie(je.GreetingName)}const Su="@@",K4=[],f1=new Map;function $c(e,t,n,r){if(f1.has(e)||e==="Ref")throw new Error(`Already registered pickler ${e}`);const i={key:e,test:t,pickle:n,unpickle:r};f1.set(e,i),K4.push(i)}function nj(){const e=[],t=new Map;return function(n,r){for(;e.length&&e[e.length-1][0]!==this;){const s=e.pop()[1];typeof s=="object"&&s!=null&&t.set(s,t.size)}const i=this[n];if(typeof i=="object"&&i!=null){const s=t.get(i);if(s!=null)return{[Su]:"Ref","":s}}for(const s of K4)if(s.test(i)){const o={[Su]:s.key,"":s.pickle(i)};return e.push([o,i]),o}if(typeof r=="object"&&r!=null){if(Su in r)throw new Error(`Unexpected ${Su} property`);e.push([r,i])}return r}}function Yne(){const e=[];return function(t,n){if(typeof n!="object"||n==null)return n;if(Su in n){const{[Su]:r,"":i}=n;if(r==="Ref")return e[i];const s=f1.get(r);if(!s)throw Error(`Unknown pickle key ${r}`);if(n=s.unpickle(i),typeof n!="object"||n==null)return n}return e.push(n),n}}function Zne(){K4.length=0,f1.clear(),$c("Map",e=>e instanceof Map,e=>[...e.entries()],e=>new Map(e)),$c("Set",e=>e instanceof Set,e=>[...e.keys()],e=>new Set(e)),$c("Date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),$c("RegExp",e=>e instanceof RegExp,e=>[e.source,e.flags],([e,t])=>new RegExp(e,t)),$c("Number",e=>typeof e=="number"&&(Object.is(e,-0)||!isFinite(e)||isNaN(e)),e=>Object.is(e,-0)?"-0":String(e),e=>Number(e)),$c("BigInt",e=>typeof e=="bigint",e=>String(e),e=>BigInt(e))}Zne();function Jne(e){if(e==null)return null;const t=dn(Lt());return t.authStatus!==gr.LoggedIn?null:{workspaceId:e,userId:t.user.id}}function Y4(e,t){const n=Jne(e);return n==null?null:`cache/${n.userId}/${n.workspaceId}/${t}`}const Qne=1e3*60*60*24;function Xne(e,t,n){const r=Y4(e,t);if(r==null)return;const i=localStorage.getItem(r);if(i!=null)try{const{value:s,timestamp:o,version:a,used:l}=JSON.parse(i,Yne());if(a!==n||Date.now()-o>Qne){localStorage.removeItem(r);return}return{localStorageKey:r,value:s,version:a,used:typeof l=="number"?l:0}}catch{return}}const kv={};function ere(e,t,n){if(e==null)return;if(t in kv)return kv[t];const r=Xne(e,t,n);if(V.addAction(`localStorageCache.${t}`,{cacheVersion:n,wasPresent:r!=null}),kv[t]=r?.value,r!=null)return r.used+1>=4?localStorage.removeItem(r.localStorageKey):localStorage.setItem(r.localStorageKey,JSON.stringify({timestamp:Date.now(),value:r.value,version:r.version,used:r.used+1},nj())),r.value}function tre(e,t,n,r){const i=Y4(e,t);i!=null&&localStorage.setItem(i,JSON.stringify({value:n,timestamp:Date.now(),version:r},nj()))}function nre(e,t){const n=Y4(e,t);n!=null&&localStorage.removeItem(n)}function rj(){for(const e of Object.keys(localStorage))e.startsWith("cache/")&&localStorage.removeItem(e)}const rre="session",ij="refresh";let p6;typeof window<"u"&&window.BroadcastChannel!==void 0&&(p6=new window.BroadcastChannel(rre),p6.onmessage=e=>{e.data===ij&&(document.hidden?window.addEventListener("visibilitychange",()=>{document.hidden||(window.location.href="/")}):setTimeout(()=>{window.location.href="/"},300))});function ire(){p6?.postMessage(ij)}function sre(){ire(),rj(),$ne(),Kne(),$e.deleteCookie(je.LastUsedModel),$e.deleteCookie(je.LastUsedModelConfig)}function Z4(e){sre(),window.location.href=e??"/?refresh_account=true"}const ore="dgkjq2bp",are=ore;function sj(){return ye(()=>import("./ijs8y7uhx4vwpdmv.js").then(e=>e.i),__vite__mapDeps([2,1]))}function lre(e,t,n){if(e.id){const r={app_id:are,user_id:e.id,name:e.name,email:e.email,user_hash:n,hide_default_launcher:!0,is_chatgpt_user:!0,chatgpt_plan_type:t?.planType};sj().then(i=>i?.boot(r))}}function J4(e,t){sj().then(n=>n?.trackEvent(e,t))}class Mg extends Error{name="ClientRequestMismatchedAuthError"}function oj(e,t="fetch"){e.url.includes("/aip");const n=e.detail,r=n?.conversation_detail_metadata;if(r&&QF.updateDetails(r),e.code==="request_account_access"&&Lne.setState({accountName:n?.account_name,ownerEmail:n?.owner_email,userEmail:n?.user_email,accountId:n?.account_id,hasActiveRequest:n?.has_active_request,workspacePlanType:n?.workspace_plan_type}),e.code==="all_accounts_blocked"&&Hte(Lt(),n?.user_email),jne(e.code)&&Bne.setState({accountName:n?.account_name,errorCode:e.code}),e.code==="trigger_account_transfer"){Dne.setState({destinationWorkspaceId:n?.workspace_id,destinationWorkspaceName:n?.workspace_name,destinationWorkspaceProfilePictureUrl:n?.workspace_profile_picture_url,destinationWorkspacePlanType:n?.workspace_plan_type});return}if(e.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}if((e.code==="expired_session_key"||e.code==="token_expired"||e.code==="token_invalidated"||e.jsonError?.error?.code==="token_invalidated")&&(V.addAction("Token expired",{url:e.url,error:n}),typeof window<"u"&&window._oaiHandleSessionExpired?.(t,JSON.stringify(n))),e.code==="invalid_account_id_header"&&typeof $e.getCookie(je.Workspace)=="string"){$e.deleteCookie(je.Workspace),Z4();return}}function aj(e){V.addAction("RequestError",{url:e.url,message:e.message,status:e.status,json:e.json,requestId:e.requestId,deviceId:Fo(),rawErrorMessage:e.rawError?.message})}function cre(e,t){return e.replace(/\{([^}]+)\}/g,(n,r)=>t[r].toString())}function ure(e){if(!e)return"";const t=new URLSearchParams;for(const[r,i]of Object.entries(e))if(Array.isArray(i))for(const s of i)t.append(r,s.toString());else i!=null&&t.append(r,i.toString());const n=t.toString();return n.length===0?"":`?${n}`}function dre(){return dn(Lt()).locale??Ig}function Rg(){return{[UQ]:dre(),[yg]:Fo(),[_g]:fd}}function Pg(e={}){const t=e.accessToken??fre(),n=Rg();if(t==null){if(e.isAuthOptional===!0)return n;throw new Mg("No access token when trying to use AuthHeader")}n.Authorization=`Bearer ${t}`;const r=$e.getCookie(je.Workspace);return typeof r=="string"&&r!==So&&(n["ChatGPT-Account-ID"]=encodeURIComponent(r)),n}function fre(){return Ch(Lt())}function lj({method:e,body:t,authOption:n,accessToken:r,additionalHeaders:i}){return{method:e?.toUpperCase(),body:t,credentials:"include",headers:{...n===tn.Anonymous?Rg():Pg({isAuthOptional:n===tn.SendIfAvailable,accessToken:r}),...t!=null&&!(t instanceof FormData||t instanceof File)?{"Content-Type":"application/json"}:null,...t!=null&&t instanceof File?{"Content-Type":"application/octet-stream"}:null,...i}}}function hre(e){return(t,n)=>{const r=(i,s)=>{if(i>=e.length)return n(s);const o=e[i];return o(s,a=>r(i+1,a))};return r(0,t)}}function cj(e,t){const n=hre(e);return r=>n(r,t)}async function uj(e,t){let n=await t(e.clone());if(n.status===401){const i=await n.clone().json(),s=n.headers.get("X-Request-Id")??void 0;if(new mt(e.url,n.status,i,s,new Error(JSON.stringify(i))).code==="token_expired"){const a=Fo();await eF(gs(Lt()),{reason:"token_expired",method:e.method??"GET",path:new URL(e.url,location.origin).pathname});const l=Pg(),c=e.clone();for(const[u,d]of Object.entries(l))c.headers.set(u,d);n=await t(c),n.status===200?V.addAction("Request succeeded after refresh.",{url:e.url,deviceId:a}):V.addAction("Request failed after refresh.",{url:e.url,deviceId:a})}}return n}async function dj(e,t){let n;try{n=await t(e)}catch(r){throw r instanceof Error?mt.createWithErrorMessage(e.url,"server",r.message,void 0,r):r}if(n.status>=400){const r=await n.text();let i;try{i=JSON.parse(r)}catch{i={detail:{code:"not_json_response",text:r?.substring(0,1e3)}}}const s=n.headers.get("X-Request-Id")??void 0,o=new mt(e.url,n.status,i,s,new Error(JSON.stringify(i)));throw oj(o),aj(o),o}return n}class Q4{#e;constructor(t){const{baseUrl:n}=t;this.#e=typeof n=="string"?()=>n:n}baseUrl(t){return this.#e(t)}#t=cj([dj,uj],fetch);async fetch(t,n={}){try{const r=await this.#t(t);return n.skipJsonTransform?r:r.status===204?{}:r.json()}catch(r){throw n.intercomEventOnError&&J4(n.intercomEventOnError,{url:t.url}),r}}request(t,n,r){const i=r?.parameters&&"query"in r.parameters?r.parameters.query:void 0,s=r?.parameters&&"path"in r.parameters&&r.parameters.path?r.parameters.path:{},o=cre(n,s),a=ure(i),l=lj({...r,method:t,body:r&&"requestBody"in r?r.requestBody instanceof File?r.requestBody:JSON.stringify(r.requestBody):void 0}),c=`${this.baseUrl(l)}${o}${a}`,u=new globalThis.Request(c,l);return this.fetch(u,r)}safeGet(t,...n){return this.request("get",t,n[0])}safePost(t,...n){return this.request("post",t,n[0])}safeDelete(t,...n){return this.request("delete",t,n[0])}safePatch(t,...n){return this.request("patch",t,n[0])}async*streamedJsonPost(t,n){n.skipJsonTransform=!0;const r=await this.request("post",t,n);if(!r.body)return;const i=r.body.getReader(),s=new TextDecoder;let o="";for(;;){const{value:a,done:l}=await i.read();a&&(o+=s.decode(a,{stream:!0}));let c;for(;(c=o.indexOf(`
`))!==-1;){const u=o.slice(0,c).trim();if(o=o.slice(c+1),u.length!==0)try{yield JSON.parse(u)}catch{o=u+`
`+o;break}}if(l){const u=o.trim();u&&(yield JSON.parse(u));return}}}}function pre(e,t){const n={[ut]:r4};if(t.headers.Authorization)return e;for(const[r,i]of Object.entries(n))if(e.startsWith(r))return e.replace(r,i);return e}class mre{#e=cj([dj,uj],fetch);async fetch(t,n={}){n.params&&(t+="?"+new URLSearchParams(n.params).toString());try{const r=lj(n),i=await this.#e(new globalThis.Request(pre(t,r),r));return n.skipJsonTransform?i:i.status===204?{}:i.json()}catch(r){throw n.intercomEventOnError&&J4(n.intercomEventOnError,{url:t}),r}}get(t,n={}){return this.fetch(t,n)}post(t,n,r={}){return this.fetch(t,{...r,method:"post",body:n instanceof FormData?n:JSON.stringify(n)})}async*streamedJsonPost(t,n,r={}){const s=(await this.fetch(t,{...r,method:"post",body:JSON.stringify(n),skipJsonTransform:!0})).body;if(!s)return;const o=s.getReader(),a=new TextDecoder;let l=!1,c="";for(;!l;){const u=await o.read();if(l=u.done,l&&u.value==null)break;const d=c+a.decode(u.value,{stream:!0});c="";const f=d.split(`
`).filter(h=>!!h.trim());for(let h=0;h<f.length;h++)try{yield JSON.parse(f[h])}catch{c=f[h];break}}c.length>0&&(yield JSON.parse(c))}}const he=new Q4({baseUrl(e){return!!e.headers.Authorization?ut:r4}}),gre=new Q4({baseUrl:vm});new Q4({baseUrl:Wte});const ct=new mre,fj=["system-hints"];function hj(){return fj}function pNe(e){return e.getQueryData(hj())}function pj(e,t){return Rt({queryKey:fj,queryFn:async()=>{const n=await he.safeGet("/system_hints",{authOption:tn.SendIfAvailable});return V.addFirstTiming("load.systemHints"),n.system_hints.map(({name:r,description:i,action_label:s,short_label:o,logo:a,system_hint:l,aliases:c=[],required_features:u=[],required_models:d=[],required_conversation_modes:f=[],composer_bar_button_info:h,suggested_prompt:m,allow_in_temporary_chat:v,persist_between_messages:_,regex_matches:y,is_auto:b,category:C,requires_opt_in:S})=>({name:r,description:i,actionLabel:s??void 0,shortLabel:o??void 0,logo:a,systemHint:l,aliases:c,requiredFeatures:u,requiredModels:d,requiredConversationModes:f,composerBarButtonInfo:h?{announcementKey:h.announcement_key,disabledText:h.disabled_text,nuxTitle:h.nux_title,nuxDescription:h.nux_description,tooltipText:h.tooltip_text,rateLimitReachedText:h.rate_limit_reached_text??void 0}:void 0,suggestedPrompt:m?{theme:m.theme,title:m.title,subtitle:m.subtitle,sortOrder:m.sort_order,badge:m.badge??void 0}:void 0,allowInTemporaryChat:v,persistBetweenMessages:!!_,regexMatches:y??void 0,isAuto:b,category:C,requiresOptIn:!!S}))},select:t,staleTime:1/0,enabled:e??!0})}function Zi(){return ps({queryKey:["userSettings"],queryFn:()=>he.safeGet("/settings/user",{authOption:tn.SendIfAvailable})})}const X4=nn(e=>bh(e,Zi));function mj(e){const{session:t}=Sh(),n=t!=null;return Rt({...Zi(),enabled:n,select:e})}function vre(e){return mj(t=>t.settings[e])}function _re(){const e=yr();return Kn({mutationFn:({model_slug:t,thinking_effort:n})=>he.safePatch("/settings/user_last_used_model_config",{parameters:{query:{model_slug:t,thinking_effort:n}}}),onSuccess:()=>{e.invalidateQueries(Zi())}})}function yre(e=!1){const t=yr();return Kn({mutationFn:({setting:n,value:r})=>he.safePatch("/settings/account_user_setting",{parameters:{query:{feature:n,value:r.toString()}}}),onMutate:async({setting:n,value:r})=>{if(e){await t.cancelQueries(Zi());const i=t.getQueryData(Zi().queryKey);return t.setQueryData(Zi().queryKey,s=>s&&{...s,settings:{...s.settings,[n]:r}}),{previousValue:i}}},onError:(n,r,i)=>{e&&i!==void 0&&t.setQueryData(Zi().queryKey,i.previousValue)},onSuccess:(n,{setting:r})=>{t.invalidateQueries(Zi()),r===mc.DeveloperMode&&t.invalidateQueries({queryKey:hj()})}})}function Ng(e,t){return Rt({queryKey:["workspace-settings",e],queryFn:e?()=>he.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):eY,select:n=>n&&t?t(n):n})}const gj=["AD","AE","AF","AG","AL","AM","AO","AR","AT","AU","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BN","BO","BR","BS","BT","BW","BZ","CA","CD","CF","CG","CH","CI","CL","CM","CO","CR","CV","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FM","FR","GA","GB","GD","GE","GF","GH","GM","GN","GP","GQ","GR","GT","GW","GY","HN","HR","HT","HU","ID","IE","IL","IN","IQ","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KR","KW","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MQ","MR","MT","MU","MV","MW","MX","MY","MZ","NA","NE","NG","NI","NL","NO","NP","NR","NZ","OM","PA","PE","PG","PH","PK","PL","PR","PS","PT","PW","PY","QA","RE","RO","RS","RW","SA","SB","SC","SD","SE","SG","SI","SK","SL","SM","SN","SO","SR","SS","ST","SV","SZ","TD","TG","TH","TJ","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VN","VU","WS","XK","YE","YT","ZA","ZM","ZW"],bre=new Set(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GF","GP","GR","HU","IS","IE","IT","LV","LI","LT","LU","MF","MQ","MT","NL","NO","PL","PT","RE","RO","SK","SI","ES","SE","YT"]),Cre=new Set(["GF","GP","MF","MQ","RE","YT"]),Bp="US",Sre="GB",wre="CH",Ere="IN",xre={AL:"Albania",DZ:"Algeria",AF:"Afghanistan",AD:"Andorra",AO:"Angola",AG:"Antigua & Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia & Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cape Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CF:"Central African Republic",TD:"Chad",CL:"Chile",CO:"Colombia",KM:"Comoros",CG:"Congo - Brazzaville",CD:"Congo - Kinshasa",CR:"Costa Rica",CI:"Côte d’Ivoire",HR:"Croatia",CY:"Cyprus",CZ:"Czechia",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GP:"Guadeloupe",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",VA:"Vatican City",HN:"Honduras",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",MK:"North Macedonia",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PL:"Poland",PR:"Puerto Rico",PT:"Portugal",QA:"Qatar",RE:"Réunion",RO:"Romania",RW:"Rwanda",KN:"St. Kitts & Nevis",LC:"St. Lucia",VC:"St. Vincent & Grenadines",MF:"Saint Martin",WS:"Samoa",SM:"San Marino",ST:"São Tomé & Príncipe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SR:"Suriname",SE:"Sweden",CH:"Switzerland",SD:"Sudan",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TO:"Tonga",TT:"Trinidad & Tobago",TN:"Tunisia",TR:"Türkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VN:"Vietnam",XK:"Kosovo",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};function kre(e){return gj.includes(e)}function mNe({country:e,shouldUseDefaultCountryCode:t}){return t?(V.addAction(`Force using ${Bp}`,{user_country:e}),Bp):e==null||!kre(e)?(V.addError(`User country is null or unrecognized - will use ${Bp}`,{user_country:e}),Bp):e}function Tre(e){try{const t=new Intl.DisplayNames([e],{type:"region"});return n=>t.of(n)??""}catch(t){return V.addError("Failed to create country display name formatter, will fallback to en_US locale display name",{cause:t}),n=>xre[n]??""}}function Ore(){const e=pe(),t=dn(e);return p.useMemo(()=>Tre(t.locale),[t.locale])}function gNe(){const e=Ore();return p.useMemo(()=>[...gj].sort((n,r)=>{const i=e(n),s=e(r);return i.localeCompare(s)}),[e])}function Are(e){return bre.has(e)}function vNe(e){return e==null?(V.addError(new Error("nullish_country_for_vat_collection_exclusion_check"),{country:e}),!1):Cre.has(e)}const _Ne=["USD","GBP","EUR","INR"],vj="USD",Ire="GBP",D8="EUR",Mre="INR";function yNe(e,t=[]){return Are(e)||e===wre?D8:e===Sre?Ire:t.includes(e)&&e===Ere?Mre:vj}const Da=It({dollarSign:{id:"currencyCodes.dollarSign",defaultMessage:"$"},dollarCode:{id:"currencyCodes.dollarCode",defaultMessage:"USD"},poundSign:{id:"currencyCodes.poundSign",defaultMessage:"£"},poundCode:{id:"currencyCodes.poundCode",defaultMessage:"GBP"},euroSign:{id:"currencyCodes.euroSign",defaultMessage:"€"},euroCode:{id:"currencyCodes.euroCode",defaultMessage:"EUR"},inrSign:{id:"currencyCodes.inrSign",defaultMessage:"₹"},inrCode:{id:"currencyCodes.inrCode",defaultMessage:"INR"}}),bNe={sign:Da.dollarSign,code:Da.dollarCode},CNe={sign:Da.poundSign,code:Da.poundCode},SNe={sign:Da.euroSign,code:Da.euroCode},wNe={sign:Da.inrSign,code:Da.inrCode};function Ah(e){return e===Ke.EDUCATION_CBP||e===Ke.DEPRECATED_EDU}function Rre(e){return e===Ke.QUORUM}function _j(e){return e===Ke.ENTERPRISE_CBP||e===Ke.DEPRECATED_ENTERPRISE}function Dg(e){return _j(e)||Ah(e)||Rre(e)}var Tv,L8;function Pre(){if(L8)return Tv;L8=1;function e(){this.__data__=[],this.size=0}return Tv=e,Tv}var Ov,F8;function ew(){if(F8)return Ov;F8=1;function e(t,n){return t===n||t!==t&&n!==n}return Ov=e,Ov}var Av,j8;function Lg(){if(j8)return Av;j8=1;var e=ew();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Av=t,Av}var Iv,B8;function Nre(){if(B8)return Iv;B8=1;var e=Lg(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return Iv=r,Iv}var Mv,U8;function Dre(){if(U8)return Mv;U8=1;var e=Lg();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Mv=t,Mv}var Rv,q8;function Lre(){if(q8)return Rv;q8=1;var e=Lg();function t(n){return e(this.__data__,n)>-1}return Rv=t,Rv}var Pv,z8;function Fre(){if(z8)return Pv;z8=1;var e=Lg();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Pv=t,Pv}var Nv,G8;function Fg(){if(G8)return Nv;G8=1;var e=Pre(),t=Nre(),n=Dre(),r=Lre(),i=Fre();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Nv=s,Nv}var Dv,H8;function jre(){if(H8)return Dv;H8=1;var e=Fg();function t(){this.__data__=new e,this.size=0}return Dv=t,Dv}var Lv,V8;function Bre(){if(V8)return Lv;V8=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Lv=e,Lv}var Fv,$8;function Ure(){if($8)return Fv;$8=1;function e(t){return this.__data__.get(t)}return Fv=e,Fv}var jv,W8;function qre(){if(W8)return jv;W8=1;function e(t){return this.__data__.has(t)}return jv=e,jv}var Bv,K8;function yj(){if(K8)return Bv;K8=1;var e=typeof _u=="object"&&_u&&_u.Object===Object&&_u;return Bv=e,Bv}var Uv,Y8;function Cs(){if(Y8)return Uv;Y8=1;var e=yj(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Uv=n,Uv}var qv,Z8;function md(){if(Z8)return qv;Z8=1;var e=Cs(),t=e.Symbol;return qv=t,qv}var zv,J8;function zre(){if(J8)return zv;J8=1;var e=md(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var u=r.call(o);return c&&(a?o[i]=l:delete o[i]),u}return zv=s,zv}var Gv,Q8;function Gre(){if(Q8)return Gv;Q8=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Gv=n,Gv}var Hv,X8;function gd(){if(X8)return Hv;X8=1;var e=md(),t=zre(),n=Gre(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return Hv=o,Hv}var Vv,ex;function Ys(){if(ex)return Vv;ex=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Vv=e,Vv}var $v,tx;function bj(){if(tx)return $v;tx=1;var e=gd(),t=Ys(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==s}return $v=o,$v}var Wv,nx;function Hre(){if(nx)return Wv;nx=1;var e=Cs(),t=e["__core-js_shared__"];return Wv=t,Wv}var Kv,rx;function Vre(){if(rx)return Kv;rx=1;var e=Hre(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Kv=n,Kv}var Yv,ix;function Cj(){if(ix)return Yv;ix=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Yv=n,Yv}var Zv,sx;function $re(){if(sx)return Zv;sx=1;var e=bj(),t=Vre(),n=Ys(),r=Cj(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?u:s;return h.test(r(f))}return Zv=d,Zv}var Jv,ox;function Wre(){if(ox)return Jv;ox=1;function e(t,n){return t?.[n]}return Jv=e,Jv}var Qv,ax;function vc(){if(ax)return Qv;ax=1;var e=$re(),t=Wre();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return Qv=n,Qv}var Xv,lx;function tw(){if(lx)return Xv;lx=1;var e=vc(),t=Cs(),n=e(t,"Map");return Xv=n,Xv}var e_,cx;function jg(){if(cx)return e_;cx=1;var e=vc(),t=e(Object,"create");return e_=t,e_}var t_,ux;function Kre(){if(ux)return t_;ux=1;var e=jg();function t(){this.__data__=e?e(null):{},this.size=0}return t_=t,t_}var n_,dx;function Yre(){if(dx)return n_;dx=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return n_=e,n_}var r_,fx;function Zre(){if(fx)return r_;fx=1;var e=jg(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return r_=i,r_}var i_,hx;function Jre(){if(hx)return i_;hx=1;var e=jg(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return i_=r,i_}var s_,px;function Qre(){if(px)return s_;px=1;var e=jg(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return s_=n,s_}var o_,mx;function Xre(){if(mx)return o_;mx=1;var e=Kre(),t=Yre(),n=Zre(),r=Jre(),i=Qre();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,o_=s,o_}var a_,gx;function eie(){if(gx)return a_;gx=1;var e=Xre(),t=Fg(),n=tw();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return a_=r,a_}var l_,vx;function tie(){if(vx)return l_;vx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return l_=e,l_}var c_,_x;function Bg(){if(_x)return c_;_x=1;var e=tie();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return c_=t,c_}var u_,yx;function nie(){if(yx)return u_;yx=1;var e=Bg();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return u_=t,u_}var d_,bx;function rie(){if(bx)return d_;bx=1;var e=Bg();function t(n){return e(this,n).get(n)}return d_=t,d_}var f_,Cx;function iie(){if(Cx)return f_;Cx=1;var e=Bg();function t(n){return e(this,n).has(n)}return f_=t,f_}var h_,Sx;function sie(){if(Sx)return h_;Sx=1;var e=Bg();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return h_=t,h_}var p_,wx;function nw(){if(wx)return p_;wx=1;var e=eie(),t=nie(),n=rie(),r=iie(),i=sie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,p_=s,p_}var m_,Ex;function oie(){if(Ex)return m_;Ex=1;var e=Fg(),t=tw(),n=nw(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return m_=i,m_}var g_,xx;function rw(){if(xx)return g_;xx=1;var e=Fg(),t=jre(),n=Bre(),r=Ure(),i=qre(),s=oie();function o(a){var l=this.__data__=new e(a);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,g_=o,g_}var v_,kx;function aie(){if(kx)return v_;kx=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return v_=t,v_}var __,Tx;function lie(){if(Tx)return __;Tx=1;function e(t){return this.__data__.has(t)}return __=e,__}var y_,Ox;function Sj(){if(Ox)return y_;Ox=1;var e=nw(),t=aie(),n=lie();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,y_=r,y_}var b_,Ax;function cie(){if(Ax)return b_;Ax=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return b_=e,b_}var C_,Ix;function wj(){if(Ix)return C_;Ix=1;function e(t,n){return t.has(n)}return C_=e,C_}var S_,Mx;function Ej(){if(Mx)return S_;Mx=1;var e=Sj(),t=cie(),n=wj(),r=1,i=2;function s(o,a,l,c,u,d){var f=l&r,h=o.length,m=a.length;if(h!=m&&!(f&&m>h))return!1;var v=d.get(o),_=d.get(a);if(v&&_)return v==a&&_==o;var y=-1,b=!0,C=l&i?new e:void 0;for(d.set(o,a),d.set(a,o);++y<h;){var S=o[y],x=a[y];if(c)var w=f?c(x,S,y,a,o,d):c(S,x,y,o,a,d);if(w!==void 0){if(w)continue;b=!1;break}if(C){if(!t(a,function(E,T){if(!n(C,T)&&(S===E||u(S,E,l,c,d)))return C.push(T)})){b=!1;break}}else if(!(S===x||u(S,x,l,c,d))){b=!1;break}}return d.delete(o),d.delete(a),b}return S_=s,S_}var w_,Rx;function xj(){if(Rx)return w_;Rx=1;var e=Cs(),t=e.Uint8Array;return w_=t,w_}var E_,Px;function uie(){if(Px)return E_;Px=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return E_=e,E_}var x_,Nx;function iw(){if(Nx)return x_;Nx=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return x_=e,x_}var k_,Dx;function die(){if(Dx)return k_;Dx=1;var e=md(),t=xj(),n=ew(),r=Ej(),i=uie(),s=iw(),o=1,a=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",m="[object Set]",v="[object String]",_="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",C=e?e.prototype:void 0,S=C?C.valueOf:void 0;function x(w,E,T,O,k,A,I){switch(T){case b:if(w.byteLength!=E.byteLength||w.byteOffset!=E.byteOffset)return!1;w=w.buffer,E=E.buffer;case y:return!(w.byteLength!=E.byteLength||!A(new t(w),new t(E)));case l:case c:case f:return n(+w,+E);case u:return w.name==E.name&&w.message==E.message;case h:case v:return w==E+"";case d:var D=i;case m:var N=O&o;if(D||(D=s),w.size!=E.size&&!N)return!1;var R=I.get(w);if(R)return R==E;O|=a,I.set(w,E);var F=r(D(w),D(E),O,k,A,I);return I.delete(w),F;case _:if(S)return S.call(w)==S.call(E)}return!1}return k_=x,k_}var T_,Lx;function sw(){if(Lx)return T_;Lx=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return T_=e,T_}var O_,Fx;function Ni(){if(Fx)return O_;Fx=1;var e=Array.isArray;return O_=e,O_}var A_,jx;function kj(){if(jx)return A_;jx=1;var e=sw(),t=Ni();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return A_=n,A_}var I_,Bx;function fie(){if(Bx)return I_;Bx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return I_=e,I_}var M_,Ux;function Tj(){if(Ux)return M_;Ux=1;function e(){return[]}return M_=e,M_}var R_,qx;function ow(){if(qx)return R_;qx=1;var e=fie(),t=Tj(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return R_=s,R_}var P_,zx;function hie(){if(zx)return P_;zx=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return P_=e,P_}var N_,Gx;function Qa(){if(Gx)return N_;Gx=1;function e(t){return t!=null&&typeof t=="object"}return N_=e,N_}var D_,Hx;function pie(){if(Hx)return D_;Hx=1;var e=gd(),t=Qa(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return D_=r,D_}var L_,Vx;function aw(){if(Vx)return L_;Vx=1;var e=pie(),t=Qa(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return L_=s,L_}var tf={exports:{}},F_,$x;function mie(){if($x)return F_;$x=1;function e(){return!1}return F_=e,F_}tf.exports;var Wx;function lw(){return Wx||(Wx=1,function(e,t){var n=Cs(),r=mie(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c}(tf,tf.exports)),tf.exports}var j_,Kx;function cw(){if(Kx)return j_;Kx=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return j_=n,j_}var B_,Yx;function uw(){if(Yx)return B_;Yx=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return B_=t,B_}var U_,Zx;function gie(){if(Zx)return U_;Zx=1;var e=gd(),t=uw(),n=Qa(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",m="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",C="[object Float64Array]",S="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",A={};A[b]=A[C]=A[S]=A[x]=A[w]=A[E]=A[T]=A[O]=A[k]=!0,A[r]=A[i]=A[_]=A[s]=A[y]=A[o]=A[a]=A[l]=A[c]=A[u]=A[d]=A[f]=A[h]=A[m]=A[v]=!1;function I(D){return n(D)&&t(D.length)&&!!A[e(D)]}return U_=I,U_}var q_,Jx;function dw(){if(Jx)return q_;Jx=1;function e(t){return function(n){return t(n)}}return q_=e,q_}var nf={exports:{}};nf.exports;var Qx;function fw(){return Qx||(Qx=1,function(e,t){var n=yj(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(nf,nf.exports)),nf.exports}var z_,Xx;function Oj(){if(Xx)return z_;Xx=1;var e=gie(),t=dw(),n=fw(),r=n&&n.isTypedArray,i=r?t(r):e;return z_=i,z_}var G_,ek;function Aj(){if(ek)return G_;ek=1;var e=hie(),t=aw(),n=Ni(),r=lw(),i=cw(),s=Oj(),o=Object.prototype,a=o.hasOwnProperty;function l(c,u){var d=n(c),f=!d&&t(c),h=!d&&!f&&r(c),m=!d&&!f&&!h&&s(c),v=d||f||h||m,_=v?e(c.length,String):[],y=_.length;for(var b in c)(u||a.call(c,b))&&!(v&&(b=="length"||h&&(b=="offset"||b=="parent")||m&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&_.push(b);return _}return G_=l,G_}var H_,tk;function hw(){if(tk)return H_;tk=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return H_=t,H_}var V_,nk;function Ij(){if(nk)return V_;nk=1;function e(t,n){return function(r){return t(n(r))}}return V_=e,V_}var $_,rk;function vie(){if(rk)return $_;rk=1;var e=Ij(),t=e(Object.keys,Object);return $_=t,$_}var W_,ik;function _ie(){if(ik)return W_;ik=1;var e=hw(),t=vie(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return W_=i,W_}var K_,sk;function Ug(){if(sk)return K_;sk=1;var e=bj(),t=uw();function n(r){return r!=null&&t(r.length)&&!e(r)}return K_=n,K_}var Y_,ok;function vd(){if(ok)return Y_;ok=1;var e=Aj(),t=_ie(),n=Ug();function r(i){return n(i)?e(i):t(i)}return Y_=r,Y_}var Z_,ak;function Mj(){if(ak)return Z_;ak=1;var e=kj(),t=ow(),n=vd();function r(i){return e(i,n,t)}return Z_=r,Z_}var J_,lk;function yie(){if(lk)return J_;lk=1;var e=Mj(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,c,u){var d=a&t,f=e(s),h=f.length,m=e(o),v=m.length;if(h!=v&&!d)return!1;for(var _=h;_--;){var y=f[_];if(!(d?y in o:r.call(o,y)))return!1}var b=u.get(s),C=u.get(o);if(b&&C)return b==o&&C==s;var S=!0;u.set(s,o),u.set(o,s);for(var x=d;++_<h;){y=f[_];var w=s[y],E=o[y];if(l)var T=d?l(E,w,y,o,s,u):l(w,E,y,s,o,u);if(!(T===void 0?w===E||c(w,E,a,l,u):T)){S=!1;break}x||(x=y=="constructor")}if(S&&!x){var O=s.constructor,k=o.constructor;O!=k&&"constructor"in s&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof k=="function"&&k instanceof k)&&(S=!1)}return u.delete(s),u.delete(o),S}return J_=i,J_}var Q_,ck;function bie(){if(ck)return Q_;ck=1;var e=vc(),t=Cs(),n=e(t,"DataView");return Q_=n,Q_}var X_,uk;function Cie(){if(uk)return X_;uk=1;var e=vc(),t=Cs(),n=e(t,"Promise");return X_=n,X_}var ey,dk;function Rj(){if(dk)return ey;dk=1;var e=vc(),t=Cs(),n=e(t,"Set");return ey=n,ey}var ty,fk;function Sie(){if(fk)return ty;fk=1;var e=vc(),t=Cs(),n=e(t,"WeakMap");return ty=n,ty}var ny,hk;function qg(){if(hk)return ny;hk=1;var e=bie(),t=tw(),n=Cie(),r=Rj(),i=Sie(),s=gd(),o=Cj(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),m=o(t),v=o(n),_=o(r),y=o(i),b=s;return(e&&b(new e(new ArrayBuffer(1)))!=f||t&&b(new t)!=a||n&&b(n.resolve())!=c||r&&b(new r)!=u||i&&b(new i)!=d)&&(b=function(C){var S=s(C),x=S==l?C.constructor:void 0,w=x?o(x):"";if(w)switch(w){case h:return f;case m:return a;case v:return c;case _:return u;case y:return d}return S}),ny=b,ny}var ry,pk;function wie(){if(pk)return ry;pk=1;var e=rw(),t=Ej(),n=die(),r=yie(),i=qg(),s=Ni(),o=lw(),a=Oj(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function m(v,_,y,b,C,S){var x=s(v),w=s(_),E=x?u:i(v),T=w?u:i(_);E=E==c?d:E,T=T==c?d:T;var O=E==d,k=T==d,A=E==T;if(A&&o(v)){if(!o(_))return!1;x=!0,O=!1}if(A&&!O)return S||(S=new e),x||a(v)?t(v,_,y,b,C,S):n(v,_,E,y,b,C,S);if(!(y&l)){var I=O&&h.call(v,"__wrapped__"),D=k&&h.call(_,"__wrapped__");if(I||D){var N=I?v.value():v,R=D?_.value():_;return S||(S=new e),C(N,R,y,b,S)}}return A?(S||(S=new e),r(v,_,y,b,C,S)):!1}return ry=m,ry}var iy,mk;function pw(){if(mk)return iy;mk=1;var e=wie(),t=Qa();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return iy=n,iy}var sy,gk;function Eie(){if(gk)return sy;gk=1;var e=pw();function t(n,r){return e(n,r)}return sy=t,sy}var xie=Eie();const kie=mn(xie);function Pj(e){return e!==Ke.FREE}const Tie="ext-oai-did",ENe="ext-login-allow-phone",xNe="ext-whatsapp-al-flow";function Oie(e){return{[Tie]:e}}const Aie=_4.OpenAISidetron;function Iie(e){if(dn(e).isElectron)return Aie}function Mie(e,t){const n=Iie(e);return n??_4.OpenAI}function Yu(e,{fallbackScreenHint:t="login_or_signup",useFallbackScreenHint:n=!1,callbackUrl:r="/",additionalAuthParams:i={},callback:s,shouldOpenPaymentModalOnAuth:o=!1}={}){const a=Mie(e,new URL(window.location.href).searchParams);let l=t;!n&&t!=="login_or_signup"&&$t(e,"1803944755").get("enable_unified_login_or_signup_start_page_at_chatgpt_web",!1)&&(l="login_or_signup"),o&&$e.setBooleanCookie(je.ShowPaymentModal,!0,{maxAge:6*60*60});const c=qr();$e.setCookie(je.AuthSessionLoggingId,c),s?.(a),$S.signIn(a,{callbackUrl:r},{prompt:"login",screen_hint:l,...Oie(Fo()),[fX]:c,...i})}const Rie=Ke.FREE,Pie=_f.OWNER,Nie="AccountState";tZ(Nie,e=>({...e,accountItems:e.accountItems.map(t=>new h1(t.data))}));function Nj(e){return Date.parse(e)/1e3}function au(e){if(e==null)return;const t=Nj(e);if(!isNaN(t))return t}class h1{constructor(t){this.data=t}get id(){return this.data.id}get residencyRegion(){return this.data.residencyRegion}get computeResidency(){return this.data.computeResidency}get computeResidencyDisplayName(){return this.data.computeResidencyDisplayName}get computeResidencyDescription(){return this.data.computeResidencyDescription}get isHipaaCompliantWorkspace(){return this.data.isHipaaCompliantWorkspace??!1}get structure(){return this.data.structure}get workspaceType(){return this.data.workspaceType}get eligibleForReactivation(){return this.data.eligibleForReactivation}get organizationId(){return this.data.organizationId}get name(){return this.data.name}get features(){return this.data.features}get eligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}getEligiblePromoCampaign(t){return this.eligiblePromoCampaigns?.[t]}getEligiblePromoCampaignId(t){return this.getEligiblePromoCampaign(t)?.id}isEligibleForPlanPromo(t){return!!this.getEligiblePromoCampaignId(t)}isEqual(t){return kie(this.data,t.data)}get planType(){return this.data.subscriptionStatus.planType}get canAccessWithCurrentSession(){return this.data.canAccessWithCurrentSession}get ssoConnectionName(){return this.data.ssoConnectionName}get isDelinquent(){return this.data.subscriptionStatus.isDelinquent}get gracePeriodId(){return this.data.subscriptionStatus.gracePeriodId}get accountUserId(){return this.data.accountUserId}get normalizedAccountUserId(){return this.isPersonalAccount()?this.authUserId:this.data.accountUserId}get authUserId(){return this.data.accountUserId?.split("__")[0]}get subscriptionAnalyticsParams(){const{subscriptionStatus:t}=this.data;return{currentPlanType:t.planType,subscriptionStatus:{billingPeriod:t.billingPeriod,hasPaidSubscription:t.hasPaidSubscription,subscriptionPlan:t.subscriptionPlan,subscriptionExpiresAt:t.subscriptionExpiresAt,wasPaidCustomer:t.wasPaidCustomer}}}isResellerHosted(){return this.data.subscriptionStatus.isResellerHosted}isEnterprisey(){return Dg(this.data.subscriptionStatus.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isTeam()}isPro(){return this.data.subscriptionStatus.planType===Ke.PRO}isEdu(){return Ah(this.data.subscriptionStatus.planType)}isTeam(){return this.data.subscriptionStatus.planType===Ke.SELF_SERVE_BUSINESS}isGo(){return this.data.subscriptionStatus.planType===Ke.GO}isPlus(){return this.data.subscriptionStatus.planType===Ke.PLUS}isFree(){return this.data.subscriptionStatus.planType===Ke.FREE}isCBP(){return this.data.subscriptionStatus.planType===Ke.ENTERPRISE_CBP||this.data.subscriptionStatus.planType===Ke.EDUCATION_CBP}isWorkspaceAccount(){return this.data.structure===Gr.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}getDaysUntilPlanRenews(){const t=this.data.subscriptionStatus.subscriptionRenewsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getDaysUntilSubscriptionCancelAt(){const t=this.data.subscriptionStatus.subscriptionCancelsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getDaysUntilPlanDiscountExpires(){const t=au(this.data.subscriptionStatus.discount?.discount_expires_at);if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}isPersonalAccount(){return this.data.structure===Gr.PERSONAL}hasPaidSubscription(){return this.data.subscriptionStatus.hasPaidSubscription}isActiveSubscriptionGratis(){return this.data.subscriptionStatus.isActiveSubscriptionGratis}getSubscriptionBillingCurrency(){return this.data.subscriptionStatus.billingCurrency}mustGetSubscriptionBillingCurrency(t){const n=this.getSubscriptionBillingCurrency();return n!==void 0?(V.addAction("chatgpt_present_subscription_billing_currency",{subscriptionBillingCurrency:n,callLocation:t}),Ym(Lt(),"chatgpt_present_subscription_billing_currency",void 0,{subscriptionBillingCurrency:n,callLocation:t}),n):(V.addError(new Error("chatgpt_missing_subscription_billing_currency"),{callLocation:t}),Ym(Lt(),"chatgpt_missing_subscription_billing_currency",void 0,{callLocation:t}),vj)}willRenewSubscription(){return this.data.subscriptionStatus.lastActiveSubscription.will_renew}willPlanChange(){return!!this.data.subscriptionStatus.scheduledPlanChange}getDaysUntilPlanChanges(){const t=this.data.subscriptionStatus.scheduledPlanChange?.changesAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getNextPlanType(){return this.data.subscriptionStatus.scheduledPlanChange?.planType??null}getLastActiveSubscription(){return this.data.subscriptionStatus.lastActiveSubscription}isDeactivated(){return this.data.deactivated}canInviteMembers(){return this.isTeam()||this.isEnterprisey()&&(this.isOwnerOfAccount()||this.isAdminOfAccount())}isOwnerOfAccount(){return this.data.role===_f.OWNER}isAdminOfAccount(){return this.data.role===_f.ADMIN}isStandardUserOfAccount(){return this.data.role===_f.STANDARD}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}hasCustomerObject(){return this.data.subscriptionStatus.hasCustomerObject}getProcessorEntity(){return this.data.subscriptionStatus.processorEntity}wasPaidCustomer(){return!this.data.subscriptionStatus.hasPaidSubscription&&this.data.subscriptionStatus.wasPaidCustomer}isOrWasPaidCustomer(){return this.data.subscriptionStatus.hasPaidSubscription||this.data.subscriptionStatus.wasPaidCustomer}isEligibleForCancellationPromotion(){return this.data.subscriptionStatus.isEligibleForCancellationPromotion}getEligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}}class mw{constructor(t){this.data=t}static fromLightAccount(t,n){return new mw({lightAccount:t,authUserId:n})}get id(){return this.data.lightAccount.id}get authUserId(){return this.data.authUserId}get structure(){return this.data.lightAccount.structure}get planType(){return this.data.lightAccount.planType}get isDelinquent(){return this.data.lightAccount.isDelinquent}get gracePeriodId(){return this.data.lightAccount.gracePeriodId}get accountUserId(){return this.data.authUserId?this.data.authUserId+"__"+this.data.lightAccount.id:void 0}get normalizedAccountUserId(){return this.isPersonalAccount()?this.data.authUserId:this.accountUserId}isEnterprise(){return _j(this.planType)}isEnterprisey(){return Dg(this.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isTeam()}isGo(){return this.planType===Ke.GO}isPro(){return this.planType===Ke.PRO}isEdu(){return Ah(this.planType)}isTeam(){return this.planType===Ke.SELF_SERVE_BUSINESS}isBusiness(){return this.planType===Ke.ENTERPRISE_CBP}isPlus(){return this.planType===Ke.PLUS}isFree(){return this.planType===Ke.FREE}isCBP(){return this.planType===Ke.ENTERPRISE_CBP||this.planType===Ke.EDUCATION_CBP}hasPaidSubscription(){return Pj(this.planType)}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}isWorkspaceAccount(){return this.structure===Gr.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}isPersonalAccount(){return this.structure===Gr.PERSONAL}hasPlusFeatures(){return this.planType!==Ke.FREE}}function Die(e){return e.account_ordering.map(t=>{const n=e.accounts[t];return new h1({id:n.account.account_id,residencyRegion:n.account.account_residency_region,computeResidency:n.account.account_compute_residency,computeResidencyDisplayName:n.account.account_compute_residency_display_name,computeResidencyDescription:n.account.account_compute_residency_description,accountUserId:n.account.account_user_id,name:n.account.name??null,profilePictureId:n.account.profile_picture_id,profilePictureUrl:n.account.profile_picture_url,structure:n.account.structure,workspaceType:n.account.workspace_type,role:n.account.account_user_role??Pie,organizationId:n.account.organization_id,deactivated:n.account.is_deactivated,eligibleForReactivation:n.account.eligible_for_reactivation,ekmConfig:n.account.ekm_config,isHipaaCompliantWorkspace:n.account.is_hipaa_compliant_workspace,subscriptionStatus:{billingPeriod:n.entitlement.billing_period,hasPaidSubscription:n.entitlement.has_active_subscription||!1,isActiveSubscriptionGratis:n.entitlement.is_active_subscription_gratis||!1,billingCurrency:n.entitlement.billing_currency,subscriptionPlan:n.entitlement.subscription_plan,planType:n.account.plan_type??Rie,subscriptionRenewsAt:au(n.entitlement.renews_at),subscriptionCancelsAt:au(n.entitlement.cancels_at),subscriptionExpiresAt:au(n.entitlement.expires_at),scheduledPlanChange:n.entitlement.scheduled_plan_change?{changesAt:Nj(n.entitlement.scheduled_plan_change.changes_at),planType:n.entitlement.scheduled_plan_change.plan_type}:void 0,wasPaidCustomer:n.account.has_previously_paid_subscription??!1,hasCustomerObject:n.account.processor?.a001.has_customer_object??!1,processorEntity:n.account.processor?.a001.processor_entity,lastActiveSubscription:n.last_active_subscription,isResellerHosted:n.account.reseller_hosted_account??!1,discount:n.entitlement.discount,isEligibleForCancellationPromotion:n.entitlement.is_eligible_for_cp??!1,isDelinquent:n.entitlement.is_delinquent,becameDelinquentAt:au(n.entitlement.became_delinquent_timestamp),gracePeriodEndAt:au(n.entitlement.grace_period_end_timestamp),gracePeriodId:n.entitlement.grace_period_id},features:[...n.features].sort(),canAccessWithCurrentSession:n.can_access_with_session!==!1,ssoConnectionName:n.sso_connection_name??null,eligiblePromoCampaigns:n.eligible_promo_campaigns??{}})})}function Lie(e,t){const n=e.filter(i=>i.canAccessWithCurrentSession);if(typeof t=="string"){const i=n.find(s=>s.id===t);if(i!==void 0)return i;if(t===So){const s=n.find(o=>o.structure===Gr.PERSONAL);if(s!==void 0)return s}}if(n.length===1||!n.some(i=>i.structure===Gr.WORKSPACE))return n[0]}function Fie(e,t){if(e){if(e.structure===Gr.WORKSPACE)return e.id;if(t.some(r=>r.structure===Gr.WORKSPACE))return So}}async function jie(){const e=await he.safeGet("/accounts/check/{version}",{parameters:{path:{version:JY},query:{timezone_offset_min:new Date().getTimezoneOffset().toString()}},intercomEventOnError:"fetch-error:accounts:get",authOption:tn.SendIfAvailable}),t=$e.getCookie(je.Workspace)??void 0,n=Die(e),r=Lie(n,t);return{accountItems:n,currentAccountId:r?.id}}function Bie(e,t){return e instanceof h1&&t instanceof h1&&e.isEqual(t)?e:tY(e,t)}const Uie=ps({queryKey:["account-status"],queryFn:jie,structuralSharing:Bie,staleTime:1/0});function Ro(){return Uie}function zg(e){return e?.accountItems.find(t=>t.id===e.currentAccountId)??null}function qie(e){const t=e.getQueryData(Ro().queryKey);return zg(t)}function m6(e){e!=null?$e.setCookie(je.Workspace,e,{maxAge:qF}):$e.deleteCookie(je.Workspace)}function zie(e){$e.setCookie(je.WorkspaceResidencyRegion,e,{maxAge:qF})}function Dj(e,t){const n=$e.getCookie(je.Workspace);return e.structure===Gr.WORKSPACE?(m6(e.id),zie(e.residencyRegion)):e.structure===Gr.PERSONAL&&t&&m6(So),$e.deleteCookie(je.DowngradeAccountEnabled),$e.deleteCookie(je.DogfoodingAccountType),{accountCookieChanged:(n??So)!==($e.getCookie(je.Workspace)??So)}}function kNe(e,t,n=!0){const r=e.getQueryData(Ro().queryKey);if(r==null)return{updatedAccount:!1};const i=r.accountItems.find(s=>s.id===t);return i==null?{updatedAccount:!1}:(Dj(i,n),e.setQueryData(Ro().queryKey,{...r,currentAccountId:t}),{updatedAccount:!0})}function TNe(e,t,n,r,i,s=!0){const o=e.getQueryData(Ro().queryKey);if(o==null)return{willRedirect:!1,updatedAccount:!1};const a=o.accountItems.find(c=>c.id===t);if(a==null)return{willRedirect:!1,updatedAccount:!1};const{accountCookieChanged:l}=Dj(a,s);if(!a.canAccessWithCurrentSession){const c=a.ssoConnectionName?{connection:a.ssoConnectionName}:void 0,u=r.formatMessage(vk.workspacePlaceholder),d=a.data.name||u;return i.info(r.formatMessage(vk.authenticateNotice,{workspaceName:d})),Yu(n,{fallbackScreenHint:"login",additionalAuthParams:c}),{willRedirect:!0,updatedAccount:!0}}return l?Z4():e.setQueryData(Ro().queryKey,{...o,currentAccountId:t}),{willRedirect:!1,updatedAccount:!0}}function Lj(){return Rt(Ro())}function br(){return Rt({...Ro(),select:zg}).data??null}const pn=nn(e=>{const t=hd(e),n=t?.user?.id,r=t?.account??null;return r?mw.fromLightAccount(r,n):null});function ONe(){return br()?.isHipaaCompliantWorkspace??!1}function Fj(){"use forget";return br()?.features}function ANe(e){"use forget";return Fj()?.includes(e)??!1}function INe(){const e=br(),t=Ng(e?.getWorkspaceId()),n=t.isLoading?null:t.data?.allow_third_party_gpts==="allow_specific";return e?.isOwnerOfAccount()&&n}function jj(e){return e.accountItems.some(t=>t.hasPaidFeatures())}function MNe(e){return!e?.accountItems.every(n=>n.isPlus()||n.isFree()||n.isGo())}function RNe(e){"use forget";const t=Re.c(5),n=br();let r;t[0]!==n?(r=n?.isRBACEnabled(),t[0]=n,t[1]=r):r=t[1];const i=r,s=pj(i);if(!i)return!0;let o;return t[2]!==e||t[3]!==s.data?(o=s.data!=null&&s.data.some(a=>a.systemHint===e),t[2]=e,t[3]=s.data,t[4]=o):o=t[4],o}const vk=It({authenticateNotice:{id:"zALe8U",defaultMessage:"You need to authenticate to access {workspaceName}. Redirecting..."},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"}}),Gie=["default","blue","green","yellow","pink","orange"],Hie=["purple"],Vie=["black"],$ie=e=>{const t=pn(e)?.planType,n=t===Ke.PLUS,r=t===Ke.PRO,i=t===Ke.SELF_SERVE_BUSINESS||Dg(t),o=!Ah(t)&&(n||r||i)||jo(e);return[...Gie,...o?Hie:[],...r?Vie:[]]};function Bj(e){return jo(e)?!0:$t(e,"1187049270").get("themes_enabled",!1)}const Uj=nn(e=>fn(()=>Wt.getItem(Gg(e),{userId:pn(e)?.normalizedAccountUserId})??"default")),gw=(e,t)=>{Uj(e).setState(t),Wt.setItem(Gg(e),t,{userId:pn(e)?.normalizedAccountUserId})},Wie=(e,t)=>{jo(e)&&(qj(t),gw(e,t))};function Kie(){const e=pe();return Uj(e)()}function PNe(){const e=pe(),t=Bj(e),n=Kie(),r=yre();return t?{isLoading:!1,value:n,setValue:i=>{r.mutate({setting:mc.ChatTheme,value:i}),gw(e,i)}}:{isLoading:!1,value:"default",setValue:()=>{}}}const Yie=({cspScriptNonce:e})=>{const t=pe();if(!Bj(t))return null;const n=Sm(Gg(t),{userId:pn(t)?.normalizedAccountUserId});return g.jsx("script",{nonce:e,suppressHydrationWarning:!0,children:`!function(){try{const t=localStorage.getItem(${JSON.stringify(n)});document.documentElement.dataset.chatTheme="string"==typeof t?JSON.parse(t):void 0}catch(e){}}();`})};function Zie(e){const t=$ie(e),n=fi(()=>{if(jo(e)){const s=Wt.getItem(Gg(e),{userId:pn(e)?.normalizedAccountUserId});return r6(s,t,"default")}const i=X4(e)().data?.settings[mc.ChatTheme]??Wt.getItem(qt.ChatTheme,{userId:pn(e)?.normalizedAccountUserId});return r6(i,t,"default")});return RQ(()=>{const r=n();qj(r),gw(e,r)})}function Gg(e){return jo(e)?qt.ChatThemeOverride:qt.ChatTheme}function qj(e){document.documentElement.dataset.chatTheme=e}var Jie=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e))(Jie||{});const Hg={small:640,medium:768,large:1024,xlarge:1280};function Qie(e,t){const n=uF(),r=p.useRef(null),i=p.useCallback(s=>{if(n==null)return()=>{};const o=n.matchMedia(e),a=new AbortController;return o.addEventListener("change",l=>{const c=l.matches,u=c!==r.current?.result;r.current={win:n,query:e,result:c},u&&s()},{signal:a.signal}),()=>{a.abort()}},[e,n]);return p.useSyncExternalStore(i,()=>{const s=gs(n);if(r.current?.win!==s||r.current?.query!==e){const o=s.matchMedia(e).matches;r.current={win:s,query:e,result:o}}return r.current.result},t)}function Xie(e,t){return window.matchMedia(e).matches}function _c(e,t){return[()=>Qie(e,t),()=>Xie(e)]}const[ese]=_c("(prefers-reduced-motion: reduce)",()=>!1),[Vg,NNe]=_c(`(min-width: ${Hg.small}px)`,()=>!zY()),[zj,tse]=_c(`(min-width: ${Hg.medium}px)`,()=>QS()||XS()),[DNe,LNe]=_c(`(min-width: ${Hg.large}px)`,XS),[FNe]=_c(`(min-width: ${Hg.xlarge}px)`,()=>!1),[jNe,Gj]=_c("(pointer: coarse)",PD),[nse,BNe]=_c("(hover: hover)",XS);function UNe(){return!zj()}function rse(){const e={composer:{autofocusDisabled$:kt(sg()||R7()),reset:()=>{e.composer.autofocusDisabled$.set(Gj()||R7())}},projects:{createOrUpdateProject$:kt(void 0),moveConversationToProject$:kt(void 0),renamingProjectId$:kt(void 0),reset:()=>{e.projects.renamingProjectId$.set(void 0)}}};return e}const ise=nn(rse),sse="{{.assetPrefix}}/assets/chatgpt-share-og-u7j5uyao.webp",ose={src:sse},ase="{{.assetPrefix}}/assets/favicon-180x180-od45eci6.webp",lse={src:ase},cse="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVfSURBVHgB5VuLUeMwEJWZKyBUgK8Cch2khHRwpgJCBQkVJFSQpAKggtBBuAocKiBUsKcX24wtZHlXlpIwvJkdYyLJ2q/WKzlRkUFEqb6MNF1rSksalNc6dpr25fWfpldQkiQ79d2gmR5pmmvKqT+2mpYYU50z9AQHmqaBmG5DrimjwqrOAzXG3+l4yMtnpuqU0BO4PTLjNkFk6tiA5DVt6HyQ07GsgU6v9TZgThMVE1RE9nPHVMUAFUvRd8GSy1fCaaQH3OrLUH0vIIn609WoUwClNDMVCPv9Xu12u88rkKbp4TocDtVgMFABsdJCuFG+oGKt7Y3NZkOTyYQ0o4RhXYQ24/GYVqsVvb8HibVz5QMqor03MPnZbEZao51MuyjLMsrznHpCtjpQsc57iT8U44EFAV5SxQV55vMwda6Zj0ajA1Mg/K39n9UPruGJDZf5jDywWCxaJw5rQAyAgLr8mhMvYGGemHQxD9PPSQhMqE1jy+WSfIG+bYJAoPQIkugwcAlgSkK0MT+dTkNFcZrP59aYAtfxwCyY9m3MQ2Pb7ZZCAwHQZg1wFyHsVkBC34ev2pgPsGS1AhZlC5aIP0LMbALIub1t2ojNfAWbEOAewmfnJvMiZ8LSZWohhtm3AcyaMcEjHozqAlhye+HhtoB3bDw+Pn6ZB9xSgEVdAGz1mdqH6Z8K0HoPK8jr0Z/Xw6J91zqP37BSxIoNtkAstIIUAhhzW4MhrvbrSyTahcoJTJhWIMwSswslKHQ8Pz837nU21tr25eXl82+89z88PKgY0PGnca/fFZQAQ1jAI1dcZuR1RX5kb6rfUsUCLMucl8DantgBEMyaDHXBXK8RQGPAdAOsEExs4QKsGhRKWA3bGXZ7jraCxj3Ms+4aoVCV1Cq8vb0pJgYQQMppWdXvPnsyandaM1/ixP39vQoNUwCmslxdL5QnuMVLWEG9LSwgtBVcXV017k1lueAtAAlMYQk0FB3RBQCTr2sE5upaPn3w8fHRuJeU1iGAHafh5eVl456jRTBursvmuh0CPvGp6vpLFcdSOnF9fd24f3197exzc9Pck9DL4IEaM9CTv7u76xwPAdWMJ/UxXHN1YN8rEXIlHGbaDLIlQrZXayUshkoSNANPcAH2ommu/WZqXMd6vW7c397eflmuDioQBERbW1hO/f+wEE6OUnUXlcLMGqDr9RO1OsWoFkFb3L0EjgUJs82x6HXYTIeVw9zgHhACytcckwRzLmqDKTxBGnzofrADEtQDzbw7Vn7PgWmRwuLM9tMR9A27rBqgCBEEtrqgcBNmWReAqJZkWkHMgodkDtIhGuGQBG5gswL4+rFg25ARaj9XJjCuZIR6lK/IY5dGDBvzHnEoswkAFQ6RHZtm6DkZNtq24qSbItR2VoCEVgC/t63hoXeJMJZN2J7Pmak2kIcVtG1aqjJ17SMI12kT/M9jNyqnrpMiuoHYkcFk2wkPCAduIZksxnMds+lhYZnJb9IihI0qPnIQAW91eqe29Xe8CyBPB6GKU73ZIZfHOz3yelSLXBUdvBXqbM/nON0uSZLfrJbU45CU61RHH4I1oNTuCdkhqVIIvda0UIIA4wFOm/gdoiZBiuwSBJIkybE5tEXUh8YDZJgzF4+co7IrffmrAgD+DT9H3R5+D6p8GVfEhSpGBDoyu9Z+n7ka/PjD0qyqcDnQWn0frDnMi0HCTPFEWKiYoGJ1+JmfzNSE4HWiNCI2dIpP6KgoqOZ0OhxP6w4hwBpmRxbEe/nMoJ+X9EIpiNgWkZ8d4zZQUWNckeD4XQfTyEhHKgJYiVAfUBGchiVVn9B3fT6P3SpsFr7E/nz+P3T08cw43Z8wAAAAAElFTkSuQmCC",use="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3crect%20width='64'%20height='64'%20rx='32'%20fill='white'%20/%3e%3cpath%20d='M34.2043%2037.0916H41.6359'%20stroke='black'%20stroke-width='3.42172'%20stroke-linecap='round'%20/%3e%3cpath%20d='M32.089%2053.6889C28.2099%2053.6889%2024.6248%2052.7289%2021.3334%2050.809C18.0421%2048.8499%2015.4169%2046.2247%2013.4578%2042.9334C11.5378%2039.642%2010.5779%2036.0569%2010.5779%2032.1778C10.5779%2028.2987%2011.5378%2024.7136%2013.4578%2021.4222C15.4169%2018.1309%2018.0421%2015.5253%2021.3334%2013.6054C24.6248%2011.6462%2028.2099%2010.6667%2032.089%2010.6667C35.968%2010.6667%2039.5532%2011.6462%2042.8445%2013.6054C46.1359%2015.5253%2048.7415%2018.1309%2050.6614%2021.4222C52.6205%2024.7136%2053.6001%2028.2987%2053.6001%2032.1778C53.6001%2036.0569%2052.6205%2039.642%2050.6614%2042.9334C48.7415%2046.2247%2046.1359%2048.8499%2042.8445%2050.809C39.5532%2052.7289%2035.968%2053.6889%2032.089%2053.6889ZM32.089%2049.6923C35.2628%2049.6923%2038.1818%2048.9087%2040.8462%2047.3414C43.5498%2045.7741%2045.6853%2043.6582%2047.2526%2040.9938C48.8199%2038.2902%2049.6035%2035.3516%2049.6035%2032.1778C49.6035%2029.004%2048.8199%2026.0849%2047.2526%2023.4205C45.6853%2020.717%2043.5498%2018.5815%2040.8462%2017.0142C38.1818%2015.4469%2035.2628%2014.6633%2032.089%2014.6633C28.9152%2014.6633%2025.9765%2015.4469%2023.273%2017.0142C20.6086%2018.5815%2018.4927%2020.717%2016.9254%2023.4205C15.3581%2026.0849%2014.5745%2029.004%2014.5745%2032.1778C14.5745%2035.3516%2015.3581%2038.2902%2016.9254%2040.9938C18.4927%2043.6582%2020.6086%2045.7741%2023.273%2047.3414C25.9765%2048.9087%2028.9152%2049.6923%2032.089%2049.6923ZM24.2133%2039.7008C23.6648%2039.7008%2023.1946%2039.5049%2022.8028%2039.1131C22.411%2038.7212%2022.215%2038.2511%2022.215%2037.7025C22.215%2037.3499%2022.313%2037.0364%2022.5089%2036.7621L25.2713%2032.0602L22.6265%2027.5935C22.3522%2027.1625%2022.215%2026.7706%2022.215%2026.418C22.215%2025.9086%2022.411%2025.458%2022.8028%2025.0662C23.1946%2024.6744%2023.6648%2024.4785%2024.2133%2024.4785C24.9186%2024.4785%2025.4672%2024.7919%2025.859%2025.4188L29.0328%2030.8848C29.2679%2031.2766%2029.3854%2031.6684%2029.3854%2032.0602C29.3854%2032.4521%2029.2679%2032.8439%2029.0328%2033.2357L25.859%2038.7017C25.4672%2039.3678%2024.9186%2039.7008%2024.2133%2039.7008ZM34.2048%2039.1131C33.6563%2039.1131%2033.1861%2038.9172%2032.7943%2038.5253C32.4025%2038.1335%2032.2065%2037.6633%2032.2065%2037.1148C32.2065%2036.6054%2032.4025%2036.1548%2032.7943%2035.763C33.1861%2035.3712%2033.6563%2035.1752%2034.2048%2035.1752H41.7279C42.2372%2035.1752%2042.6878%2035.3712%2043.0796%2035.763C43.4715%2036.1548%2043.6674%2036.6054%2043.6674%2037.1148C43.6674%2037.6633%2043.4715%2038.1335%2043.0796%2038.5253C42.6878%2038.9172%2042.2372%2039.1131%2041.7279%2039.1131H34.2048Z'%20fill='black'%20/%3e%3c/svg%3e",dse="{{.assetPrefix}}/assets/favicon-eex17e9e.ico",fse="{{.assetPrefix}}/assets/favicon-l4nq08hd.svg",hse=Object.prototype.toString;function pse(e,t){try{return e instanceof t}catch{return!1}}function mse(e){switch(hse.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return pse(e,Error)}}const _k={componentStack:null,error:null};function gse(e,t){const n=new WeakMap;function r(i,s){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,s);i.cause=s}}r(e,t)}const vse=["The node to be removed is not a child of this node","The object can not be found here."];function _se(e){return vse.some(t=>e.message?.includes(t))}let $g=class extends p.Component{state;constructor(t){super(t),this.state=_k}componentDidCatch(t,{componentStack:n}){if(mse(t)){const r=new Error(t.message);r.name=`React ErrorBoundary ${r.name}`,r.stack=n??"",gse(t,r)}if(!_se(t)&&(this.props.logRequestErrors===!0||!(t instanceof mt))){const r=new Error(t.message);r.name="ReactRenderingError",r.stack=n??"",r.cause=t,V.addError(r,{error_boundary:this.props.name})}rj(),this.props.onError&&this.props.onError(t,n??""),this.setState({error:t,componentStack:n})}resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r}=this.state;t&&t(n,r??""),this.setState(_k)};render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=t({error:r.error,componentStack:r.componentStack??"",resetError:this.resetErrorBoundary}):i=t,p.isValidElement(i)?i:null}return typeof n=="function"?n():n}};function yse(e){if(typeof document>"u")throw new Error("not supported in SSR");const t=document.createElement("template");return t.innerHTML=e,t.innerHTML}function bse(e){return`data:image/svg+xml;utf8,${encodeURIComponent(e)}`}const zNe=({svgString:e,...t})=>{const n=p.useMemo(()=>yse(e),[e]);return n?g.jsx("img",{src:bse(n),...t}):null},GNe=({svgString:e,className:t,color:n})=>g.jsx($g,{name:"StringToSVG",fallback:g.jsx("div",{className:t}),children:g.jsx("div",{className:ke("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e},style:{color:n}})}),Wc=It({description:{id:"meta.description",defaultMessage:"ChatGPT helps you get answers, find inspiration and be more productive. It is free to use and easy to try. Just ask and ChatGPT can help with writing, learning, brainstorming and more."},keywords:{id:"meta.keywords",defaultMessage:"ai chat,ai,chap gpt,chat gbt,chat gpt 3,chat gpt login,chat gpt website,chat gpt,chat gtp,chat openai,chat,chatai,chatbot gpt,chatg,chatgpt login,chatgpt,gpt chat,open ai,openai chat,openai chatgpt,openai"},ogDescription:{id:"meta.ogDescription",defaultMessage:"A conversational AI system that listens, learns, and challenges"}}),Cse=[{property:"og:title",content:"ChatGPT"},{property:"og:image",content:ose.src}];function Kc(e,t){const n=new URL(e,window.location.origin);return t&&n.searchParams.set("locale",t),n.toString()}function Sse(){const e=yt(),t=pe(),n=mi(t).checkGate("3125419433"),r=Hr();return rg().some(o=>o.handle?.hasRouteMeta)?null:n?g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"description",content:e.formatMessage(Wc.description)}),g.jsx("meta",{name:"keyword",content:e.formatMessage(Wc.keywords)}),g.jsx("meta",{property:"og:description",content:e.formatMessage(Wc.ogDescription)}),g.jsx("meta",{property:"og:url",content:Kc("/",dn(t).locale)}),g.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),qne().map(o=>g.jsx("link",{rel:"alternate",hrefLang:o,href:Kc(r.pathname,o)},o)),g.jsx("link",{rel:"alternate",hrefLang:"x-default",href:Kc(r.pathname)}),g.jsx("link",{rel:"canonical",href:Kc(r.pathname)})]}):g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"description",content:Wc.description.defaultMessage}),g.jsx("meta",{name:"keyword",content:Wc.keywords.defaultMessage}),g.jsx("meta",{property:"og:description",content:Wc.ogDescription.defaultMessage}),g.jsx("meta",{property:"og:url",content:Kc("/")}),g.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),g.jsx("link",{rel:"canonical",href:Kc("/")})]})}function wse(){"use forget";const e=Re.c(6),t=pe();let n;e[0]!==t?(n=$t(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=n):n=e[1];const r=n;let i;e[2]!==r?(i=r&&g.jsx("link",{rel:"manifest",href:"/manifest.json"}),e[2]=r,e[3]=i):i=e[3];let s;return e[4]!==i?(s=g.jsx(g.Fragment,{children:i}),e[4]=i,e[5]=s):s=e[5],s}function Ese({pathname:e}){if(e!=="/")return null;const t={"@context":"https://schema.org","@type":"WebSite",url:window.location.origin+"/",name:"ChatGPT"};return g.jsx("script",{id:"website-ld",type:"application/ld+json",children:JSON.stringify(t)})}function xse(){"use forget";const e=Re.c(12),t=pe(),{pathname:n}=Hr(),r=!n.startsWith("/share")&&!n.startsWith("/s")&&!n.startsWith("/canvas/shared");let i;e[0]!==t?(i=$t(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=i):i=e[1];const s=i;let o,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=g.jsx("link",{rel:"preconnect",href:"{{.assetPrefix}}"}),a=g.jsx("link",{rel:"preconnect",href:window.location.origin}),e[2]=o,e[3]=a):(o=e[2],a=e[3]);let l;e[4]!==r?(l=r&&g.jsx("meta",{name:"robots",content:"index, follow"}),e[4]=r,e[5]=l):l=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=g.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),e[6]=c):c=e[6];let u;e[7]!==s?(u=s&&g.jsx("meta",{name:"apple-itunes-app",content:"app-id=6448311069"}),e[7]=s,e[8]=u):u=e[8];let d;return e[9]!==l||e[10]!==u?(d=g.jsxs(g.Fragment,{children:[o,a,l,c,u]}),e[9]=l,e[10]=u,e[11]=d):d=e[11],d}function yk({href:e}){return g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:e,type:"image/svg+xml"}),g.jsx("link",{rel:"icon",href:e,type:"image/svg+xml",media:"(prefers-color-scheme: dark)"})]})}function kse(){"use forget";const e=Re.c(5),{pathname:t}=Hr();let n;e[0]!==t?(n=t.startsWith("/codex")?g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:cse,sizes:"32x32"}),g.jsx(yk,{href:use})]}):g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:dse,sizes:"32x32"}),g.jsx(yk,{href:fse})]}),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=g.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:lse.src}),e[2]=r):r=e[2];let i;return e[3]!==n?(i=g.jsxs(g.Fragment,{children:[n,r]}),e[3]=n,e[4]=i):i=e[4],i}const g6=e=>e;var Zu=(e=>(e.ContentOrTos="content_or_tos",e.ContentPolicy="content_policy",e.BioSafetyContentPolicy="bio_safety_content_policy",e.ModelIncompatibility="model_incompatibility",e.ContentRegurgitation="content_regurgitation",e))(Zu||{});const Hj={errType:"warning",errCode:"content_policy"},Tse={errType:"danger",errCode:"model_incompatibility"},Ose={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy"},Vj={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy",shouldDisableConversation:!0},Ase={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1},Ise={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1,shouldDisableConversation:!0},$j=(e,t)=>!e.length||t?null:{disclaimers:e},Wj=({isSafetyLimited:e,shouldDisableConversation:t,isModelIncompatibility:n})=>e?t?Ise:Ase:t?Vj:n?Tse:Ose;class Mse{isMultimodalTextMessage(t){return t.content.content_type===He.MultimodalText}isPartAssetPointer(t){return typeof t!="string"&&(t.content_type===qn.ImageAssetPointer||t.content_type===qn.AudioAssetPointer)}isBase64ImagePart(t){return typeof t!="string"&&t.content_type===qn.Image}isPartRealTimeUserAudioVideoAssetPointer(t){return typeof t!="string"&&t.content_type===qn.RealTimeUserAudioVideoAssetPointer}isPartAudioTranscription(t){return typeof t!="string"&&t.content_type===qn.AudioTranscription}getAudio(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>typeof n!="string"&&n.content_type===qn.Audio):[]}getAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>this.isPartAssetPointer(n)):[]}getImageAssetPointers(t){return this.isMultimodalTextMessage(t)?this.getImageAssetPointersFromParts(t.content.parts):[]}getImageAssetPointersFromParts(t){return t.filter(n=>this.isPartAssetPointer(n)&&n.content_type===qn.ImageAssetPointer)}getFrameAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>{if(typeof n!="string"&&n.content_type===qn.RealTimeUserAudioVideoAssetPointer)return n.frames_asset_pointers}).filter(n=>!!n):[]}getAudioAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n!="string")switch(n.content_type){case qn.AudioAssetPointer:return n;case qn.RealTimeUserAudioVideoAssetPointer:return n.audio_asset_pointer;default:return}}).filter(n=>!!n):[]}getVideoContainerAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>typeof n!="string"&&n.content_type===qn.RealTimeUserAudioVideoAssetPointer?n.video_container_asset_pointer:null).filter(n=>!!n):[]}getImageOperationFileIds(t){const n=t.metadata?.dalle?.from_client?.operation??t.metadata?.generation?.from_client?.operation;return n?.type==="inpainting"?{operation:"inpainting",originalFileId:n.original_file_id,maskFileId:n.mask_file_id}:n?.type==="transformation"?{operation:"transformation",originalFileId:n.original_file_id}:void 0}getPartsAsString(t,n=!0){return this.isMultimodalTextMessage(t)?t.content.parts.map(r=>{if(typeof r=="string")return r;if(this.isPartAudioTranscription(r))return r.text;if(n){if(this.isPartAssetPointer(r))return`[media pointer="${r.asset_pointer}"]`;if(this.isPartRealTimeUserAudioVideoAssetPointer(r)){const i=r.audio_asset_pointer?.asset_pointer;return i&&`[media pointer="${i}"]`}else if(this.isBase64ImagePart(r))return r.payload}else return!1}).filter(Boolean).join(`
`):""}}const Wg=new Mse,Rse=["image_gen"];var Pe=(e=>(e[e.no_render=0]="no_render",e[e.BrowseTool=1]="BrowseTool",e[e.Browsing=2]="Browsing",e[e.CanmoreTool=3]="CanmoreTool",e[e.Container=4]="Container",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.CodeInterpreterTool=6]="CodeInterpreterTool",e[e.Dalle=7]="Dalle",e[e.DalleTool=8]="DalleTool",e[e.GizmoEditor=9]="GizmoEditor",e[e.JITPlugin=10]="JITPlugin",e[e.JITPluginTool=11]="JITPluginTool",e[e.JITPluginGoogleTool=12]="JITPluginGoogleTool",e[e.ImagePreloadTool=13]="ImagePreloadTool",e[e.ModelEditableContext=14]="ModelEditableContext",e[e.MultimodalText=15]="MultimodalText",e[e.ParallelBrowsing=16]="ParallelBrowsing",e[e.ParallelBrowsingTool=17]="ParallelBrowsingTool",e[e.RetrievalBrowsing=18]="RetrievalBrowsing",e[e.RetrievalBrowsingTool=19]="RetrievalBrowsingTool",e[e.SearchResultTool=20]="SearchResultTool",e[e.SearchGPTQuery=21]="SearchGPTQuery",e[e.System=22]="System",e[e.SystemContent=23]="SystemContent",e[e.DeveloperContent=24]="DeveloperContent",e[e.Text=25]="Text",e[e.StructuredThoughts=26]="StructuredThoughts",e[e.ReasoningRecap=27]="ReasoningRecap",e[e.UserEditableContext=28]="UserEditableContext",e[e.UserModelBio=29]="UserModelBio",e[e.UserModelBioTool=30]="UserModelBioTool",e[e.Unknown=31]="Unknown",e[e.de1d73e=32]="de1d73e",e[e.a8km123=33]="a8km123",e[e.f959b8c=34]="f959b8c",e[e.b1de6e2_c=35]="b1de6e2_c",e[e.b1de6e2_s=36]="b1de6e2_s",e[e.b1de6e2_d=37]="b1de6e2_d",e[e.b1de6e2_rm=38]="b1de6e2_rm",e[e.l1p9k3u=39]="l1p9k3u",e[e.l1239dk1=40]="l1239dk1",e[e.l1239dk2=41]="l1239dk2",e[e.is_loading_message=42]="is_loading_message",e[e.b47u8ra0_t=43]="b47u8ra0_t",e[e.oiw209h=44]="oiw209h",e[e.oiw209h_c=45]="oiw209h_c",e[e.t2uay3k=46]="t2uay3k",e[e.t2uay3k_c=47]="t2uay3k_c",e[e.c12k321=48]="c12k321",e[e.Oboe=49]="Oboe",e[e.CoTSearchToolCall=50]="CoTSearchToolCall",e[e.CoTSearchToolResult=51]="CoTSearchToolResult",e[e.n7jupd_c=52]="n7jupd_c",e[e.n7jupd_r=53]="n7jupd_r",e[e.n7jupd_t=54]="n7jupd_t",e[e.n7jupd_m=55]="n7jupd_m",e[e.n7jupd_x=56]="n7jupd_x",e[e.n7jupd_i=57]="n7jupd_i",e[e.n7jupd_a=58]="n7jupd_a",e[e.n7jupd_n=59]="n7jupd_n",e[e.n7jupd_p=60]="n7jupd_p",e[e.n7jupd_image_gen=61]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=62]="n7jupd_native_api_tool",e[e.PIMBlock=63]="PIMBlock",e[e.Mochi=64]="Mochi",e[e.SuperWidget=65]="SuperWidget",e[e.Croquette=66]="Croquette",e[e.kaur1br5=67]="kaur1br5",e[e.e1ld0dvz=68]="e1ld0dvz",e[e.Glaux=69]="Glaux",e))(Pe||{}),Bl=(e=>(e.BROWSER="browser",e.CANMORE="canmore",e.MTBROWSER="mtbrowser",e.WIKI_BROWSER="wiki_browser",e.MYFILES_BROWSER="myfiles_browser",e.FILE_SEARCH="file_search",e.GDRIVE_BROWSER="gdrive_browser",e.BROWSING_TEAM="browsing_team",e.BIO="bio",e.PYTHON="python",e.DALLE="dalle",e.GIZMO_EDITOR="gizmo_editor",e.JIT_PLUGIN="jit_plugin",e.SEARCH_RESULT="search_result",e.SEARCH_RESULTS="search_results",e.A8KM123="a8km123",e.SEARCHGPT="web",e.SEARCH_COT="web.run",e.DE1D73E="de1d73e",e.L1P9K3U="l1p9k3u",e.L1239DK1="l1239dk1",e.CONTAINER="container",e.COMPUTER="computer",e.OIW209H="oiw209h",e.T2UAY3K="t2uay3k",e.START_RESEARCH_TASK="research_kickoff_tool.start_research_task",e.CLARIFY_WITH_TEXT="research_kickoff_tool.clarify_with_text",e.ADVANCED_VOICE="advanced_voice",e.OBOE="oboe",e.IMAGE_GEN_HALLUCINATED="image_gen",e.n7jupd_m="n7jupd.metadata",e.IMAGEGEN_MAKE_IMAGE="imagegen.make_image",e.SUPER_WIDGET="super_widget",e.E1LD0DVZ="e1ld0dvz",e))(Bl||{});function bk(e){return e&&[4202148095,653746659,45870204,111655449].some(t=>jr(t,e))}function Pse(e){const n=v6(e.author.name)?.namespace,r=["browser","container","computer"];return e.metadata?.n7jupd_message&&r.includes(n)&&e.content.content_type===He.Text}function Nse(e,t){return e&&jr(t,e.split(".")[0])}function cs(e){if(e.metadata?.n7jupd_subtool&&(e.metadata.n7jupd_subtool.subtool?.includes("api_tool")||e.metadata.n7jupd_subtool.result_of_subtool?.includes("api_tool")))return 58;if(e.metadata?.n7jupd_message&&(e.recipient?.includes("api_tool")||e.author?.name?.includes("api_tool")))return 62;if(e.metadata?.is_pim_warning)return 63;if(e.metadata?.n7jupd_message&&e.content.content_type===He.StructuredThoughts)return 54;if(e.metadata?.is_auto_proceed_message)return 60;if(e.metadata?.is_takeover_ended_message)return 59;if(e.content.content_type===He.StructuredThoughts)return 26;if(e.content.content_type===He.ReasoningRecap)return 27;if(e.metadata?.b1de6e2_c)return 35;if(e.recipient==="l1p9k3u"||e.author.name==="l1p9k3u")return 39;if(e.author.name==="l1239dk1"||e.recipient==="l1239dk1")return 40;if(e.author.name?.startsWith("container"))return jr(3061204740,e.author.name)&&e?.metadata?.n7jupd_message?6:4;if(e.author.role===Ve.Assistant&&e.metadata?.async_task_id!=null&&e.metadata?.async_task_turn_id!=null)return 41;if(e.metadata?.b1de6e2_s||e.recipient==="research_kickoff_tool.start_research_task")return 36;if(e.metadata?.b1de6e2_d)return 37;if(e.metadata?.b1de6e2_rm)return 38;if(e.metadata?.is_loading_message)return 42;if(e.metadata?.b47u8ra0_t)return 43;if(e.metadata?.f959b8c)return 34;if(e.recipient?.startsWith("e1ld0dvz")||e.author.name?.startsWith("e1ld0dvz"))return 68;if(bk(e.author.name)||bk(e.recipient)||Pse(e))return 0;const t="kaur1br5";if(e.recipient?.startsWith(t)||e.author.name?.startsWith(t))return 67;if(e.author.role===Ve.Assistant&&Nse(e.recipient,724319625))return 52;if(e.content.content_type===He.ComputerOutput)return 53;if(e.author.role===Ve.Assistant){if(Rse.some(r=>e.recipient?.startsWith(r)))return 31;const n=v6(e.recipient);if(e.recipient==="browser"||e.recipient==="wiki_browser"||n?.namespace==="mtbrowser")return 2;if(e.recipient==="web"||e.recipient?.startsWith("web."))return 21;if(e.recipient==="web.run"&&(e?.metadata?.search_queries?.length??0)>0)return 50;if(e.recipient==="myfiles_browser"||e.recipient==="gdrive_browser"||n?.namespace==="file_search"||n?.namespace==="myfiles_browser")return 18;if(e.recipient==="browsing_team")return 16;if(e.recipient==="bio")return 29;if(e.recipient==="python")return 5;if(e?.metadata?.n7jupd_message&&(jr(3179801956,e.recipient)||jr(3061204740,e.recipient)))return 5;if(n?.namespace==="dalle"||e.recipient==="dalle")return 7;if(n?.namespace==="t2uay3k"||e.recipient==="t2uay3k")return 46;if(n?.namespace==="oiw209h"||e.recipient==="oiw209h")return 44;if(n?.namespace==="gizmo_editor")return 9;if(n?.namespace==="container")return 4;if(n?.namespace==="canmore")return 3;if(n?.namespace==="de1d73e")return 32;if(wk(n?.namespace)||Sk(n?.namespace)||Ek(n?.namespace))return 10;if(n!=null)return 31;if(e.content.content_type===He.ModelEditableContext)return 14}else if(e.author.role===Ve.Tool){const n=v6(e.author.name);if(e.author.name==="browser"||e.author.name==="wiki_browser"||n?.namespace==="mtbrowser")return 1;if(e.author.name==="myfiles_browser"||e.author.name==="gdrive_browser"||e.author.name==="file_search"||n?.namespace==="file_search"||n?.namespace==="myfiles_browser")return 19;if(e.author.name==="browsing_team")return 17;if(e.author.name==="web.run"&&(e?.metadata?.search_result_groups?.length??0)>0)return 51;if(e.author.name==="search_result"&&e.content.content_type===He.TetherQuote)return 20;if(e.author.name==="search_results"&&e.content.content_type===He.TetherBrowsingDisplay)return 13;if(e.author.name==="bio")return 30;if(e.author.name==="a8km123")return 33;if(e.author.name==="python")return 6;if(jr(3179801956,e.author.name))return 6;if(n?.namespace==="dalle"||e.author.name==="dalle")return 8;if(n?.namespace==="t2uay3k"||e.author.name==="image_gen")return 47;if(e.metadata?.image_gen_async)return 46;if(n?.namespace==="gizmo_editor")return 9;if(n?.namespace==="canmore")return 3;if(wk(n?.namespace)||Sk(n?.namespace))return 11;if(Ek(n?.namespace))return 12;if(n?.namespace==="de1d73e")return 32;if(n?.namespace==="oiw209h")return 45;if(e.author.name?.startsWith("web."))return 22;if(e.author.name==="research_kickoff_tool.start_research_task")return 36;if(e.author.name==="research_kickoff_tool.clarify_with_text")return 0;if(e.author.name==="n7jupd.metadata")return 55;if(e.author.name==="imagegen.make_image")return 61;if(n?.namespace==="browser")return 56;if(e.author.name==="super_widget")return 65;if(n!=null||e.author.name==="plugin_service")return Dse(e)}else{if(e.author.role===Ve.System||e.author.role===Ve.Developer)return e.metadata?.n7jupd_message?22:e.metadata?.rebase_system_message||e.content.content_type===He.SystemMessage||e.content.content_type===He.SystemContent?23:e.metadata?.rebase_developer_message||e.content.content_type===He.DeveloperContent?24:22;if(e.author.role===Ve.User&&(e.content.content_type===He.UserEditableContext||e.metadata?.is_user_system_message))return 28}return e.content.content_type===He.Text||e.content.content_type===He.MultimodalText?25:31}function Dse(e){return e.create_time&&e.create_time>17172e5?V.addError("[Unknown tool] Encountered a message with an unknown tool. Rendering as Unknown message type, which is not visible.",{message:e}):V.addError("[Unknown tool] Encountered a message with an unknown tool, which is most likely an old plugin. Rendering as Unknown message type, which may not appear as expected.",{message:e}),31}function Lse(e){return e.metadata?.finish_details!=null}function Kg(e){return e.content.content_type===He.Text?e.content.parts.some(t=>t.length>0):e.content.content_type===He.MultimodalText?Wg.getPartsAsString(e).length>0:!1}function Kj(e){return Kg(e)?!0:"text"in e.content?e.content.text.length>0:"result"in e.content?e.content.result.length>0:!1}function Fse(e){if(!_w(e))return!1;switch(e.content.content_type){case He.StructuredThoughts:{const{thoughts:t}=e.content;return t.some(n=>(n.summary?.trim()?.length??0)>0||(n.content?.trim()?.length??0)>0)}case He.ReasoningRecap:{const{content:t}=e.content;return(t?.trim()?.length??0)>0}case He.Code:case He.ExecutionOutput:case He.TetherBrowsingCode:{const{text:t}=e.content;return(t?.trim()?.length??0)>0}case He.TetherBrowsingDisplay:{const{result:t}=e.content;return(t?.trim()?.length??0)>0}case He.ComputerOutput:return!0;case He.Text:case He.MultimodalText:return Kg(e);default:return!1}}function jse(e){return e.metadata?.finish_details?.type==="stop"}function Bse(e){return e?.metadata?.finish_details?.type==="max_tokens"}function HNe(e){return e.metadata?.finish_details?.type==="interrupted"}function Use(e){return e.metadata?.message_type==="continue"}function v6(e){if(e==null||!e.includes("."))return null;const[t,n]=e.split(".");return{namespace:t,functionName:n}}function qse(e,t){return{id:qr(),author:{role:Ve.System},content:{content_type:He.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function Ck(e,t,n,r=qr()){return{id:r,author:{role:Ve.Assistant},content:{content_type:He.Text,parts:Array.isArray(e)?e:[e]},metadata:t,clientMetadata:n}}function vw(e,t,n){const r={role:Ve.User};return n&&(r.metadata=n),{id:qr(),author:r,create_time:Date.now()/1e3,content:typeof e=="string"?{content_type:He.Text,parts:[e]}:e,metadata:t}}function VNe(e){return qse([`The user is referring to this in particular:
${e}`],{exclude_after_next_user_message:!0})}function $Ne(e){return vw(e,{is_visually_hidden_from_conversation:!0})}function WNe(e){return{id:qr(),author:{role:Ve.System},content:e,metadata:{rebase_system_message:!0},recipient:"all"}}function Sk(e){return e==="api_tool"||e==="ecosystem_demo"||e==="genui"||e==="kanzi_app"}function wk(e){if(!e)return!1;const t=e.split("__");return t.findIndex(n=>n==="jit_plugin")===t.length-1}function Ek(e){return e==="gmail"||e==="gcal"||e==="gcontacts"}function xk(e){return e.author.role===Ve.Assistant?e.metadata?.gizmo_id:void 0}function lu(e){return e.author.role===Ve.User&&!e.metadata?.is_user_system_message}function zse(e){return e.metadata?.is_contextual_retry_user_message}function Yj(e){return lu(e)&&!zse(e)||e.author.metadata?.is_system_initiated_conversation===!0}function _w(e){return e.metadata?.reasoning_status!=null}function La(e){const t=cs(e);return t===22||t===23||t===24||t===29||t===30||t===14||t===28||t===31||!(t===46||t===47)&&!(t===59)&&e.metadata?.is_visually_hidden_from_conversation===!0}function Zj(e){switch(cs(e)){case 23:case 24:case 28:case 14:return!0;default:return!1}}function Gse(e){return Wg.isMultimodalTextMessage(e)&&e.content.parts.some(t=>typeof t!="string"&&t.content_type===qn.VideoAssetPointer)}function KNe(e){return!!(Gse(e)||Vf(e)&&Kj(e)||Fse(e))}function Vf(e){if(La(e))return!1;if((e.metadata?.attachments?.length??0)>0)return!0;if(e.metadata?.reasoning_status)return!1;if(e.clientMetadata?.errCode&&Object.values(Zu).some(t=>t===e.clientMetadata?.errCode))return!0;switch(cs(e)){case 25:case 63:return Kg(e);case 3:return Kj(e);case 46:case 60:case 59:case 5:case 6:return!0;default:return!1}}function Jj(e){return La(e)?!1:cs(e)===25&&Kg(e)}function YNe(e){return La(e)?!1:cs(e)===47&&e.status==="finished_successfully"&&e.recipient==="all"}function Hse(e){const t=e.recipient;return!!t&&(t.includes("image_gen")||t.includes("image_gen")||t.includes("t2uay3k"))}class Vse{cacheK1=new WeakMap;get(t,n){return this.cacheK1.get(t)?.get(n)}set(t,n,r){let i=this.cacheK1.get(t);i||(i=new WeakMap,this.cacheK1.set(t,i)),i.set(n,r)}}var oy,kk;function $se(){if(kk)return oy;kk=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return oy=e,oy}var Wse=$se();const Ju=mn(Wse),Kse="contentReference",Yse="writing",ZNe=[Yse];function JNe(e){try{const n=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(const i of n)r.push(i.segment);return r}catch{return e.split("")}}function Zse(e){const t=[];for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r!==void 0&&(t.push(r),r>65535&&n++)}return t}function Qj(e){const t=e.trim();if("Intl"in window&&"Segmenter"in Intl){const n=navigator.language||"en-US",i=new Intl.Segmenter(n,{granularity:"word"}).segment(t);let s=0;for(const o of i)o.isWordLike&&s++;return s}return t.split(/\s+/).filter(n=>n.length>0).length}function Tk(e){return String.fromCodePoint(...e)}function QNe(e){return e.replaceAll(/[\s_]+/g,"-").replaceAll(/([a-z0-9])([A-Z])/g,"$1-$2").replaceAll(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replaceAll(/-+/g,"-").toLowerCase()}function Jse(e,t=[]){const n=Yg(t);return yw(n,e,{includeDirectives:!1})}function XNe(e,t=[]){const n=Yg(t);return yw(n,e,{includeDirectives:!0})}function eDe(e,t=[],n,r,i=!0,s){const o=Yg(t,r);let a=0,l=o.filter(({index:u,displayType:d})=>u!=null&&d).reduce((u,{index:d,newContentReference:f})=>((f.type==="grouped_webpages"||f.type==="grouped_webpages_v2"||f.type==="grouped_webpages_model_predicted_fallback")&&(f.items=f.items.map(h=>({...h,section_index:a++}))),u[d]=f,u),[]),c=yw(o,e);return i&&(c=Qse(c)),l=Xse(s,l),n&&(s?.length??0)===0&&({updatedText:c,updatedReferences:l}=eoe(n,l,c)),{processedText:c,displayedContentReferences:l}}function Yg(e=[],t){return[...e.entries()].sort(([,i],[,s])=>i.start_idx-s.start_idx||i.end_idx-s.end_idx).reduce((i,[s,o])=>{let a,l;switch(o.type){case"invalid":case"hidden":a={...o,type:"hidden",invalid:o.type==="invalid"};break;case"image_v2":case"nav_list":case"tldr":case"optimistic_image_citation":case"sources_footnote":case"sports_standings":case"sports_schedule":case"navigation":case"checkout_confirmation":case"video":case"file_navlist":o.type==="tldr"&&o.used_as_navigation||o.type==="navigation"?a={...o,type:"hidden",invalid:!0}:(l="block",a={...o});break;case"file":case"python":case"container":case"title_citation":case"location_search":case"time":case"entity":case"entity_metadata":case"map":case"product_entity":case"grouped_webpages":case"grouped_webpages_v2":case"grouped_webpages_model_predicted_fallback":case"attribution":case"image_inline":l="inline",a={...o};break;case"webpage":case"webpage_extended":l="inline",a={type:"grouped_webpages",matched_text:o.matched_text,start_idx:o.start_idx,end_idx:o.end_idx,alt:o.alt,refs:o.refs,prompt_text:o.prompt_text,items:[{...o}],safe_urls:o.safe_urls};break;case"calculator":case"stock":case"forecast":case"businesses_map":case"products":case"product_reviews":case"product_rationale":case"image_group":l="block",a={...o};break;default:a={...o,type:"hidden",invalid:!0},l="alt";break}return i.push({originalContentReference:o,newContentReference:a,index:s,displayType:l}),t&&i.push({originalContentReference:o,newContentReference:{type:"debug",matched_text:o.matched_text.replace(/(^【|】$)/g,""),...o.type==="webpage_extended"&&o.pub_date&&{pub_date:new Date(o.pub_date*1e3).toLocaleString()}},index:s}),i},[])}const _6="​",tDe="";function yw(e,t,n={includeDirectives:!0}){let r="",i=0;const s=Zse(t);for(const o of e){const{originalContentReference:a,displayType:l,index:c}=o,{start_idx:u,end_idx:d}=a,f=s.slice(i,u);if(r+=Tk(f),i=d,l)if(n.includeDirectives)switch(l){case"block":r+=`
`+y6(c,"leaf")+`
`;break;case"inline":{r.endsWith("```")&&(r+=`
`),r.length!==0&&r[r.length-1].match(/[:\\]/)&&(r+=_6),/https?:\/\/[^\s]*$/.test(r)&&(r+=" "),r+=y6(c,"inline");break}case"alt":r+=a.alt??"";break}else r+=a.alt??""}return r+=Tk(s.slice(i)),r}function y6(e,t){return`${t==="leaf"?"::":":"}${Kse}[oaicite:${e}]{index=${e}}`}function Qse(e){let t=e;t=t.replace(/【[^】]*$/g,"");const n=t.match(/(\n|^):::/g);return n&&n.length%2===1&&(t+=`
:::`),t=t.replace(/^\d+$/,""),t}function Xse(e,t){return t.map(r=>{if(r.type==="python"){const i=e?.find(s=>s.metadata?.python_citation?.citation_id===r.citation_id);return{...r,cited_message:i,highlighted_text:Ok(i?.metadata?.python_citation?.annotated_text??"",r.starting_line,r.ending_line)}}else if(r.type==="container"){const i=e?.find(s=>s.metadata?.container_citation?.citation_id===r.citation_id);return{...r,cited_message:i,highlighted_text:Ok(i?.metadata?.container_citation?.annotated_parts?.join(`
`)??"",r.starting_line,r.ending_line)}}return r})}function eoe(e,t,n){const r=e.find(s=>cs(s)===Pe.CodeInterpreter),i=e.find(s=>cs(s)===Pe.CodeInterpreterTool);if(r!=null&&i!=null){const s=t.length;n.endsWith("```")&&(n+=`
`),n+=" "+_6+y6(s,"inline")+_6,t.push({type:"code_execution",codeMessage:r,codeExecutionOutputMessage:i})}return{updatedText:n,updatedReferences:t}}function Ok(e,t,n){const r=e.split(`
`),i=r.findIndex(l=>l.startsWith(`${t}:`)),s=r.findIndex(l=>l.startsWith(`${n}:`));return i===-1||s===-1||s<i?null:r.slice(i,s+1).map(l=>l.replace(/^L\d+:\s*/,"").trim()).join(`
`)}function Ih(e,t={shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!1}){if(t.shouldGetVisibleText&&!Jj(e))return"";switch(e.content.content_type){case He.Text:{const n=e.content.parts.join("");return t.shouldGetTextFromContentReferences&&e.metadata?.content_references?Jse(n,e.metadata.content_references):n}case He.MultimodalText:return Wg.getPartsAsString(e,!t.shouldGetVisibleText);case He.TetherBrowsingDisplay:return e.content.result;case He.TetherQuote:case He.TetherBrowsingCode:case He.Code:case He.ExecutionOutput:case He.SystemError:return e.content.text;case He.SystemMessage:case He.SystemContent:return e?.metadata?.__internal?.rendered_harmony_string??JSON.stringify(e.content,null,2);case He.UserEditableContext:return`${e.content.user_profile}
${e.content.user_instructions}`;case He.SonicWebpage:return`[${e.content.ref_id}] ${e.content.title} (${e.content.url})`;case He.StructuredThoughts:return e.content.thoughts.map(n=>`**${n.summary}**

${n.content}`).join(`

`);case He.ReasoningRecap:return e.content.content;default:return""}}var ay,Ak;function toe(){if(Ak)return ay;Ak=1;var e=rw(),t=pw(),n=1,r=2;function i(s,o,a,l){var c=a.length,u=c,d=!l;if(s==null)return!u;for(s=Object(s);c--;){var f=a[c];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++c<u;){f=a[c];var h=f[0],m=s[h],v=f[1];if(d&&f[2]){if(m===void 0&&!(h in s))return!1}else{var _=new e;if(l)var y=l(m,v,h,s,o,_);if(!(y===void 0?t(v,m,n|r,l,_):y))return!1}}return!0}return ay=i,ay}var ly,Ik;function Xj(){if(Ik)return ly;Ik=1;var e=Ys();function t(n){return n===n&&!e(n)}return ly=t,ly}var cy,Mk;function noe(){if(Mk)return cy;Mk=1;var e=Xj(),t=vd();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return cy=n,cy}var uy,Rk;function eB(){if(Rk)return uy;Rk=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return uy=e,uy}var dy,Pk;function roe(){if(Pk)return dy;Pk=1;var e=toe(),t=noe(),n=eB();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return dy=r,dy}var fy,Nk;function Zg(){if(Nk)return fy;Nk=1;var e=gd(),t=Qa(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return fy=r,fy}var hy,Dk;function bw(){if(Dk)return hy;Dk=1;var e=Ni(),t=Zg(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return hy=i,hy}var py,Lk;function ioe(){if(Lk)return py;Lk=1;var e=nw(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var c=r.apply(this,o);return s.cache=l.set(a,c)||l,c};return s.cache=new(n.Cache||e),s}return n.Cache=e,py=n,py}var my,Fk;function soe(){if(Fk)return my;Fk=1;var e=ioe(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return my=n,my}var gy,jk;function ooe(){if(jk)return gy;jk=1;var e=soe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,c){s.push(l?c.replace(n,"$1"):a||o)}),s});return gy=r,gy}var vy,Bk;function tB(){if(Bk)return vy;Bk=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return vy=e,vy}var _y,Uk;function aoe(){if(Uk)return _y;Uk=1;var e=md(),t=tB(),n=Ni(),r=Zg(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return _y=o,_y}var yy,qk;function loe(){if(qk)return yy;qk=1;var e=aoe();function t(n){return n==null?"":e(n)}return yy=t,yy}var by,zk;function Jg(){if(zk)return by;zk=1;var e=Ni(),t=bw(),n=ooe(),r=loe();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return by=i,by}var Cy,Gk;function Mh(){if(Gk)return Cy;Gk=1;var e=Zg();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Cy=t,Cy}var Sy,Hk;function Cw(){if(Hk)return Sy;Hk=1;var e=Jg(),t=Mh();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return Sy=n,Sy}var wy,Vk;function coe(){if(Vk)return wy;Vk=1;var e=Cw();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return wy=t,wy}var Ey,$k;function uoe(){if($k)return Ey;$k=1;function e(t,n){return t!=null&&n in Object(t)}return Ey=e,Ey}var xy,Wk;function doe(){if(Wk)return xy;Wk=1;var e=Jg(),t=aw(),n=Ni(),r=cw(),i=uw(),s=Mh();function o(a,l,c){l=e(l,a);for(var u=-1,d=l.length,f=!1;++u<d;){var h=s(l[u]);if(!(f=a!=null&&c(a,h)))break;a=a[h]}return f||++u!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(h,d)&&(n(a)||t(a)))}return xy=o,xy}var ky,Kk;function nB(){if(Kk)return ky;Kk=1;var e=uoe(),t=doe();function n(r,i){return r!=null&&t(r,i,e)}return ky=n,ky}var Ty,Yk;function foe(){if(Yk)return Ty;Yk=1;var e=pw(),t=coe(),n=nB(),r=bw(),i=Xj(),s=eB(),o=Mh(),a=1,l=2;function c(u,d){return r(u)&&i(d)?s(o(u),d):function(f){var h=t(f,u);return h===void 0&&h===d?n(f,u):e(d,h,a|l)}}return Ty=c,Ty}var Oy,Zk;function Sw(){if(Zk)return Oy;Zk=1;function e(t){return t}return Oy=e,Oy}var Ay,Jk;function hoe(){if(Jk)return Ay;Jk=1;function e(t){return function(n){return n?.[t]}}return Ay=e,Ay}var Iy,Qk;function poe(){if(Qk)return Iy;Qk=1;var e=Cw();function t(n){return function(r){return e(r,n)}}return Iy=t,Iy}var My,Xk;function moe(){if(Xk)return My;Xk=1;var e=hoe(),t=poe(),n=bw(),r=Mh();function i(s){return n(s)?e(r(s)):t(s)}return My=i,My}var Ry,eT;function Rh(){if(eT)return Ry;eT=1;var e=roe(),t=foe(),n=Sw(),r=Ni(),i=moe();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return Ry=s,Ry}var Py,tT;function goe(){if(tT)return Py;tT=1;var e=Rh(),t=Ug(),n=vd();function r(i){return function(s,o,a){var l=Object(s);if(!t(s)){var c=e(o,3);s=n(s),o=function(d){return c(l[d],d,l)}}var u=i(s,o,a);return u>-1?l[c?s[u]:u]:void 0}}return Py=r,Py}var Ny,nT;function rB(){if(nT)return Ny;nT=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return Ny=e,Ny}var Dy,rT;function voe(){if(rT)return Dy;rT=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Dy=t,Dy}var Ly,iT;function _oe(){if(iT)return Ly;iT=1;var e=voe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Ly=n,Ly}var Fy,sT;function iB(){if(sT)return Fy;sT=1;var e=_oe(),t=Ys(),n=Zg(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=s.test(c);return d||o.test(c)?a(c.slice(2),d?2:8):i.test(c)?r:+c}return Fy=l,Fy}var jy,oT;function yoe(){if(oT)return jy;oT=1;var e=iB(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-1/0){var s=i<0?-1:1;return s*n}return i===i?i:0}return jy=r,jy}var By,aT;function boe(){if(aT)return By;aT=1;var e=yoe();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return By=t,By}var Uy,lT;function Coe(){if(lT)return Uy;lT=1;var e=rB(),t=Rh(),n=boe(),r=Math.max,i=Math.min;function s(o,a,l){var c=o==null?0:o.length;if(!c)return-1;var u=c-1;return l!==void 0&&(u=n(l),u=l<0?r(c+u,0):i(u,c-1)),e(o,t(a,3),u,!0)}return Uy=s,Uy}var qy,cT;function Soe(){if(cT)return qy;cT=1;var e=goe(),t=Coe(),n=e(t);return qy=n,qy}var woe=Soe();const wm=mn(woe),zy=-1;var Eoe=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.StructuredThoughts=2]="StructuredThoughts",e[e.ReasoningRecap=3]="ReasoningRecap",e[e.Browsing=4]="Browsing",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.JITPlugin=6]="JITPlugin",e[e.RetrievalBrowsing=7]="RetrievalBrowsing",e[e.ParallelBrowsing=8]="ParallelBrowsing",e[e.Dalle=9]="Dalle",e[e.Canmore=10]="Canmore",e[e.Container=11]="Container",e[e.GizmoEditor=12]="GizmoEditor",e[e.SearchResult=13]="SearchResult",e[e.Debug=14]="Debug",e[e.SearchGPTQuery=15]="SearchGPTQuery",e[e.l1p9k3u=16]="l1p9k3u",e[e.a8km123=17]="a8km123",e[e.f959b8c=18]="f959b8c",e[e.b1de6e2_c=19]="b1de6e2_c",e[e.b1de6e2_s=20]="b1de6e2_s",e[e.b1de6e2_d=21]="b1de6e2_d",e[e.b1de6e2_rm=22]="b1de6e2_rm",e[e.is_loading_message=23]="is_loading_message",e[e.b47u8ra0_t=24]="b47u8ra0_t",e[e.de1d73e=25]="de1d73e",e[e.oiw209h=26]="oiw209h",e[e.c12k321=27]="c12k321",e[e.t2uay3k=28]="t2uay3k",e[e.Oboe=29]="Oboe",e[e.CoTSearchTool=30]="CoTSearchTool",e[e.n7jupd=31]="n7jupd",e[e.n7jupd_x=32]="n7jupd_x",e[e.n7jupd_i=33]="n7jupd_i",e[e.n7jupd_a=34]="n7jupd_a",e[e.n7jupd_n=35]="n7jupd_n",e[e.n7jupd_p=36]="n7jupd_p",e[e.n7jupd_image_gen=37]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=38]="n7jupd_native_api_tool",e[e.PIMBlock=39]="PIMBlock",e[e.Mochi=40]="Mochi",e[e.SuperWidget=41]="SuperWidget",e[e.Croquette=42]="Croquette",e[e.kaur1br5=43]="kaur1br5",e[e.e1ld0dvz=44]="e1ld0dvz",e[e.Glaux=45]="Glaux",e))(Eoe||{});const xoe={[Pe.StructuredThoughts]:2,[Pe.ReasoningRecap]:3,[Pe.Browsing]:4,[Pe.BrowseTool]:4,[Pe.SearchGPTQuery]:15,[Pe.RetrievalBrowsing]:7,[Pe.RetrievalBrowsingTool]:7,[Pe.ParallelBrowsing]:8,[Pe.ParallelBrowsingTool]:8,[Pe.JITPlugin]:6,[Pe.JITPluginTool]:6,[Pe.JITPluginGoogleTool]:6,[Pe.Dalle]:9,[Pe.DalleTool]:9,[Pe.t2uay3k]:28,[Pe.t2uay3k_c]:28,[Pe.oiw209h]:26,[Pe.oiw209h_c]:26,[Pe.Container]:11,[Pe.CodeInterpreter]:5,[Pe.CodeInterpreterTool]:5,[Pe.a8km123]:17,[Pe.f959b8c]:18,[Pe.b1de6e2_c]:19,[Pe.b1de6e2_s]:20,[Pe.b1de6e2_d]:21,[Pe.b1de6e2_rm]:22,[Pe.l1p9k3u]:16,[Pe.is_loading_message]:23,[Pe.b47u8ra0_t]:24,[Pe.de1d73e]:25,[Pe.GizmoEditor]:12,[Pe.SearchResultTool]:13,[Pe.ImagePreloadTool]:13,[Pe.CanmoreTool]:10,[Pe.c12k321]:27,[Pe.CoTSearchToolCall]:30,[Pe.CoTSearchToolResult]:30,[Pe.n7jupd_c]:31,[Pe.n7jupd_r]:31,[Pe.n7jupd_t]:31,[Pe.n7jupd_m]:31,[Pe.n7jupd_x]:32,[Pe.n7jupd_i]:31,[Pe.n7jupd_a]:34,[Pe.n7jupd_native_api_tool]:38,[Pe.n7jupd_n]:35,[Pe.n7jupd_p]:36,[Pe.kaur1br5]:43,[Pe.PIMBlock]:39,[Pe.Mochi]:40,[Pe.SuperWidget]:41,[Pe.Croquette]:42,[Pe.n7jupd_image_gen]:37,[Pe.e1ld0dvz]:44,[Pe.Glaux]:45};function koe(e){switch(e){case Pe.JITPlugin:case Pe.Dalle:case Pe.t2uay3k:case Pe.oiw209h:case Pe.CoTSearchToolCall:case Pe.CodeInterpreter:case Pe.PIMBlock:return!0;default:return!1}}function Toe(e,t,n){return!e||e.type!==t||koe(cs(n))||e.type===11&&!n.author.name?.startsWith(Bl.CONTAINER)?!1:e.type===t}function uT(e,t){return Wi(e,n=>{if(_w(t)){let a;const l=t.metadata?.reasoning_group_id;l?a=wm(n,u=>u.type===zy&&u.reasoningGroupId===l):a=Ju(n);let c;a?.type===zy?c=a:(c={type:zy,groups:[],reasoningGroupId:l},n.push(c)),n=c.groups}const r=cs(t),i=xoe[r],s=Ju(n),o=s?.type!==14?s:wm(n,a=>a.type!==14);r===Pe.Text&&(o?.type===1||o?.type===0)&&Ih(t)!=null&&(Use(t)||Bse(o.messages[o.messages.length-1]))?(o.type=1,o.messages.push(t)):i===17&&n.some(a=>a.type===17)?wm(n,l=>l.type===17).messages.push(t):Toe(o,i,t)?o.messages.push(t):n.push({type:i??(La(t)?14:0),messages:[t]})})}const dT=new Vse,Ooe=Object.freeze([]);function sB(e,t,n=!1){const r=e.getNodeByIdOrMessageId(t),i=r.id!==e.rootId?sB(e,r.parentId,n):Ooe,s=r.message,o=dT.get(i,s);if(o)return o;const a=Aoe(i,s,n);return dT.set(i,s,a),a}function Aoe(e,t,n=!1){const r=[...e],i=Ju(r),s=Yj(t);if(i&&Ioe(i,t)){const o=[...i.messages,t],a=uT(i.messageGroups,t),l=i.role===Ve.System?fT(t,n):i.role,c=xk(t)??i.gizmoId;let u=i.authorId,d=i.modelSlug;r[r.length-1]={...i,messages:o,messageGroups:a,role:l,isPrompt:i.isPrompt||s,gizmoId:c,authorId:u,modelSlug:d}}else{const o=t.clientMetadata?.requestId,a=fT(t,n),l=a===Ve.Assistant&&o&&o!==i?.id?o:t.id;r.push({id:l,role:a,messages:[t],messageGroups:uT([],t),isPrompt:s,gizmoId:xk(t)})}return r}function fT(e,t){return Zj(e)?Ve.System:e.author.role===Ve.Tool?Ve.Assistant:e.author.role===Ve.Developer&&!t?Ve.System:e.author.role}function Ioe(e,t,n){return t.metadata?.is_indepth_feedback?!1:Ju(e.messages)?.metadata?.reasoning_status&&t.metadata?.reasoning_status||e.role===t.author.role?!0:e.role===Ve.User&&t.recipient==="bio"?!1:Zj(t)?e.role===Ve.Root||e.role===Ve.System:La(t)||(e.role===Ve.System||e.role===Ve.Developer)&&!e.isPrompt?!0:t.author.role===Ve.Tool?e.role===Ve.Assistant:!1}function ww(){const e=Hr();return Poe(e.pathname)}function Moe(e){const n=new URL(`http://example.com${e}`).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(n)return n[1]}function Roe(e){const t=e.split("-");return t.length>1&&t[0]==="g"?t?.[1]==="p"?`g-p-${t[2]}`:`g-${t[1]}`:t[0]}function Poe(e){const t=Moe(e);if(t)return Roe(t)}function Ph(){"use forget";const e=Re.c(2),t=pe(),n=!_n(t);let r;return e[0]!==n?(r={isUnauthenticated:n,isLoading:!1},e[0]=n,e[1]=r):r=e[1],r}function Noe(){$e.deleteCookie(je.SegmentUserId),$e.deleteCookie(je.SegmentUserTraits),Wt.removeItem(qt.SegmentUserId),Wt.removeItem(qt.SegmentUserTraits)}const b6=()=>({hash:window.location.hash,path:window.location.pathname,search:window.location.search,url:window.location.href});var Ew=(e=>(e.WINDOW_VISIBILITY_STATE_CHANGED="WINDOW_VISIBILITY_STATE_CHANGED",e.WINDOW_FOCUS_CHANGED="WINDOW_FOCUS_CHANGED",e))(Ew||{}),Fa=(e=>(e.LOGIN_CHANGED="LOGIN_CHANGED",e.LOGOUT="LOGOUT",e.QUIT="QUIT",e.SET_COMPANION_WINDOW_VISIBILITY="SET_COMPANION_WINDOW_VISIBILITY",e.SET_WEB_RELEASE_PROPERTIES="WEB_RELEASE_PROPERTIES",e.ERROR_THROWN="ERROR_THROWN",e.ZOOM="ZOOM",e.DESKTOP_SETTING_CHANGED="DESKTOP_SETTING_CHANGED",e.HOTKEY_RECORDING_STATE="HOTKEY_RECORDING_STATE",e.ADD_BREADCRUMB="ADD_BREADCRUMB",e))(Fa||{}),Qg=(e=>(e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.ZOOM_RESET="ZOOM_RESET",e))(Qg||{}),oB=(e=>(e.MICROPHONE="MICROPHONE",e))(oB||{});function nDe(){$n?.publish(Fa.ZOOM,{command:Qg.ZOOM_IN})}function rDe(){$n?.publish(Fa.ZOOM,{command:Qg.ZOOM_OUT})}function iDe(){$n?.publish(Fa.ZOOM,{command:Qg.ZOOM_RESET})}function hT(e){if(og){const t=Date.now();$n?.publish(Fa.ADD_BREADCRUMB,{message:e,epochTimestamp:t})}}function aB(){return $e.getCookie(je.PunchOutInfoToken)}function sDe(){return aB()!=null}class Doe{analytics;appName;appVersion;deviceId;browserLocale;options;settings;user;constructor({appName:t,appVersion:n,deviceId:r,browserLocale:i,options:s,settings:o}){this.analytics=new Promise(a=>{ye(()=>import("./patyquqint0axqjn.js").then(l=>l.v),__vite__mapDeps([3,1])).then(l=>{if(!l){V.addAction("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const c=new l.AnalyticsBrowser;c.addSourceMiddleware(Loe(this)),a([c])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=i,this.options=s,this.settings=o}async initialize({user:t}){const n={appName:this.appName,appVersion:this.appVersion};V.addAction("ClientEventsServiceLogger.initialize.start",n),t&&this.identify(t);const[r]=await this.analytics;r.load(this.settings,this.options).catch(()=>{V.addAction("ClientEventsServiceLogger.initialize.failed",n)}),r.ready(()=>{V.addAction("ClientEventsServiceLogger.initialize.success",n)})}async track(t,n){const[r]=await this.analytics;r.track(t,n,{page:b6()}),hT(`Web Client Event: ${t} with data: ${JSON.stringify(n)}`)}async trackPageView(){const t=b6(),[n]=await this.analytics;n.page(void 0,t,{page:t}),hT(`Web Client Page View: ${t.path}`)}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}buildEnvelope(t,n){const r=this.getExtraContext(),i=t.$type;return{eventName:(i.split(".").pop()??"structured_event").replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase(),eventClass:"chatgpt_web",eventId:qr(),eventCreatedAt:new Date().toISOString(),eventType:"client",userParams:{userId:this.user?.userId??"",authStatus:String(r.auth_status??""),planType:String(r.user_traits?.plan_type??""),workspaceId:String(r.user_traits?.workspace_id??"")},deviceParams:{deviceId:this.deviceId,locale:this.browserLocale,appEnvironment:String(r.app_name??""),appVersion:this.appVersion},eventParams:{"@type":`openai.buf.dev/openai/protobuf-analytics-events/${i}`,...n}}}trackStructuredEvent(t,n){const r=this.buildEnvelope(t,n);this.track("__protobuf_structured_event__",r)}getExtraContext(){return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?gr.LoggedIn:gr.LoggedOut,user_traits:this.user?.traits,punch_out_info_token:aB()}}}function Loe(e){return({payload:t,next:n})=>{t.obj.context={...t.obj.context,...e.getExtraContext()},n(t)}}const Foe=Fo(),joe=navigator.language,C6="bdc5cffb95039aff27cce085cc9faed14bfcfc29",Bd=new Doe({appName:"chatgpt",appVersion:C6,deviceId:Foe,browserLocale:joe,options:YY,settings:ZY});function Boe(e){const t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="number"||typeof r=="string"||typeof r=="boolean")&&(t[n]=String(r))}),t}const K={initialize({userInfo:e}={}){const t=e?.currentAccount?.structure===Gr.WORKSPACE?e.currentAccount.id:null,n=e?{userId:e.sessionUser.id,traits:{plan_type:e.currentAccount?.planType??null,workspace_id:t,workspace_type:e.currentAccount?.workspaceType??null}}:null;Bd.initialize({user:n})},logEvent(e,t){Bd.track(e,{...t,origin:"chat",app_version:C6})},logEventWithStatsig(e,t,n){this.logValueEventWithStatsig({segmentEventName:e,statsigEventName:t,data:n})},logValueEventWithStatsig({segmentEventName:e,value:t,statsigEventName:n,data:r}){const i={...t!=null?{value:t}:{},...r,origin:"chat",app_version:C6};Bd.track(e,i);const s=Boe(i);vt.logEvent(n,t??null,s)},logPageView(){Bd.trackPageView()},logStructuredEvent(e,t){Bd.trackStructuredEvent(e,t)},logNewChatButtonClicked({location:e,gizmo_id:t}){this.logEvent("New Chat Button Clicked",{location:e,gizmo_id:t}),vt.logEvent("chatgpt_new_chat_button_clicked",null,{location:e})},logAuthErrorResponse(e){this.logEvent("Auth: Error",{error_code:e}),vt.logEvent("chatgpt_auth_error",e)},logNoAuthAttachButtonClicked(e){this.logEvent("No Auth Attach Button Clicked",e),vt.logEvent("chatgpt_web_no_auth_attach_button_clicked",null,e)},logNoAuthVoiceButtonClicked(e){this.logEvent("No Auth Voice Button Clicked",e),vt.logEvent("chatgpt_web_no_auth_voice_button_clicked",null,e)},logLogInButtonClicked(e){this.logEvent("Auth: Login",e),vt.logEvent("chatgpt_auth_log_in",null,e)},logSignUpButtonClicked(e){this.logEvent("Auth: Signup",e),vt.logEvent("chatgpt_auth_sign_up",null,e)},logLoginOrSignUpButtonClicked(e){this.logEvent("Auth: Login or Signup",e),vt.logEvent("chatgpt_auth_log_in_or_sign_up",null,e)},logLogOutButtonClicked(e){this.logEvent("Auth: Logout",e),vt.logEvent("chatgpt_auth_log_out",null,e)},logRateLimitBannerShown(e){let t,n;switch(e.type){case"account_sharing_degrade":t="Account Sharing Degrade: Show Info",n="chatgpt_account_sharing_degrade_banner_shown";break;case"tatertot-in-context-upsell":case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":t="In-Context Upsell Banner: Show Info",n="chatgpt_in_context_upsell_banner_shown";break;default:t="Rate Limit: Show Info",n="chatgpt_rate_limit_banner_shown";break}this.logEvent(t,e);const{call_to_action:r,...i}=e,s=i;r?.forEach((o,a)=>{s[`call_to_action.${a}`]=o}),vt.logEvent(n,null,{...s,is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()})},logRateLimitGetPlusButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),vt.logEvent("chatgpt_rate_limit_get_plus_button_clicked",null,{...e,is_new_conversation:e.is_new_conversation?e.is_new_conversation.toString():"",is_hard_block:e.is_hard_block.toString()})},logRateLimitUpgradePlanButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),vt.logEvent("chatgpt_rate_limit_upgrade_plan_button_clicked",null,{...e,is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()})},logPopoverHover(e){this.logEvent("Popover Hover",e),vt.logEvent("chatgpt_popover_hover",null,e)},logUpsellGetPlusButtonClicked(e){this.logEventWithStatsig("Upsell: Get Plus Clicked","chatgpt_upsell_get_plus_button_clicked",e)},logToggleShowRecents({isOnlyShowingRecents:e}){this.logEvent("Toggle Show Recents",{isOnlyShowingRecents:e}),vt.logEvent("chatgpt_toggle_show_recents",null,{isOnlyShowingRecents:String(e)})},logToggleShowGptList({isCollapsed:e}){this.logEvent("Toggle Show GPT List",{isCollapsed:e})},logToggleDesktopNavCollapsed({isDesktopNavCollapsed:e,action:t}){this.logEvent("Toggle Desktop Nav Collapsed",{isDesktopNavCollapsed:e}),vt.logEvent("chatgpt_toggle_desktop_nav_collapsed",null,{isDesktopNavCollapsed:String(e),action:t})},logTogglePlanManagementModal({isOpen:e}){const t="chatgpt_toggle_plan_management_modal";this.logEvent("Toggle Plan Management Modal",{isOpen:e}),vt.logEvent(t,null,{isOpen:String(e)})},logPaymentSuccess(e){this.logEvent("Subscription: Payment Success Page",e),vt.logEvent("chatgpt_plan_payment_success_page",null,e)},logNetworkError(e){this.logEvent("chatgpt_web_network_error",e),vt.logEvent("chatgpt_web_network_error",null,e)},logFailedToFetchError(e){this.logEvent("chatgpt_web_failed_to_fetch",e),vt.logEvent("chatgpt_web_failed_to_fetch",null,e)}},lB=qt.IsNoAuthChatTrainingEnabled,ya=Lo(()=>{let e=null;return typeof window<"u"&&(e=Voe()??null),{isNoAuthChatTrainingEnabled:e,isTemporaryChatEnabled:!1,isAnonModeEnabled:!1}}),xw=e=>dd(ya,e);function Uoe(){const e=qoe(),t=zoe(),{isUnauthenticated:n}=Ph();return!!(e||n&&!t)}function kw(e){return Tw()||!_n(e)&&!Goe(e)}function qoe(){return xw(e=>e.isTemporaryChatEnabled)}function Tw(){return ya.getState().isTemporaryChatEnabled}function cB(e){return Qe(e,"1656345175")}function zoe(){const e=pe(),t=xw(n=>n.isNoAuthChatTrainingEnabled);return t??cB(e)}function Goe(e){const t=ya.getState().isNoAuthChatTrainingEnabled;return t??cB(e)}function oDe(){return xw(e=>e.isAnonModeEnabled)}function Hoe(){return ya.getState().isAnonModeEnabled}const pT={setIsTemporaryChatEnabled(e){ya.setState({isTemporaryChatEnabled:e}),e&&K.logEvent("Enable Temporary Chat")},setIsAnonModeEnabled(e){ya.setState({isAnonModeEnabled:e})},toggleIsTemporaryChatEnabled(){pT.setIsTemporaryChatEnabled(!ya.getState().isTemporaryChatEnabled)},disableTemporaryChat(){pT.setIsTemporaryChatEnabled(!1)},setIsNoAuthChatTrainingEnabled(e){ya.setState({isNoAuthChatTrainingEnabled:e}),Wt.setItem(lB,e)}};function Voe(){const e=Wt.getItem(lB);return e==="true"||e===!0?!0:e==="false"||e===!1?!1:void 0}function ic(e,t){for(const[n,r]of Object.entries(t))e.addEventListener(n,r);return()=>{for(const[n,r]of Object.entries(t))e.removeEventListener(n,r)}}function aDe(e,t){for(const[n,r]of Object.entries(t))e.on(n,r);return()=>{for(const[n,r]of Object.entries(t))e.off(n,r)}}function $oe(e,t){let n;const r=()=>Wt.getItem(e)??t(),i=Do(s=>(n=s,ic(window,{storage:({key:o})=>{o===e&&s()}})),r,{name:`localStorage:${e}`,getServerFallback:t});return i.set=s=>{Wt.setItem(e,VL(s)?s(r()):s),n?.()},i}const S6={},Woe=["added","updated","removed"];let mT=!1;function Koe(e){mT||(mT=!0,e.getQueryCache().subscribe(t=>{const n=t.query.queryHash;if(t.query.state.status==="success"&&n in S6&&Woe.includes(t.type)){const{cacheKey:r,cacheVersion:i}=S6[n];tre(qie(e)?.id??null,r,t.query.state.data,i)}}))}function Yoe(e,t,n,r){Koe(e),S6[UD(t)]={cacheKey:n,cacheVersion:r}}function Xg(e,t,n){const r=Cg(),i=pe();if(r)return uB(i,e,t,n)}function uB(e,t,n,r){const i=pn(e),s=Wa(e);return Yoe(s,r,t,n),()=>{const o=ere(i?.id??null,t,n);if(o!=null)return o}}function Zoe(e,t){const n=hd(e)?.account?.id??null;nre(n,t)}const Nh=e=>["models",{IIM:e?.IIM??!1,isGizmo:e?.isGizmo??!1}],Joe=()=>["gizmo-models"],dB="models",fB=1;function hB(e){const t=Rt(p1(e));return Uoe()&&t.data?{...t,data:sae(t.data)}:t}function pB({isGizmo:e}){const t=Xg(dB,fB,Nh());return hB({isGizmo:e,placeholderData:e?void 0:t})}function Qoe({isGizmo:e}){return hB({IIM:!0,isGizmo:e,enabled:!1})}const p1=e=>ps({retry:5,enabled:e?.enabled??!0,queryKey:Nh(e),queryFn:async()=>{const t=gs(await he.safeGet("/models",{authOption:tn.SendIfAvailable,parameters:{query:{iim:e?.IIM,is_gizmo:e?.isGizmo}}}));return tae(t)},placeholderData:e?.placeholderData});function Ow({isGizmo:e=!1}={}){const{data:t,isLoading:n}=pB({isGizmo:e}),{data:r,isLoading:i}=Qoe({isGizmo:e});return{modelsData:r??t,externalModelsLoading:n,fullModelsLoading:i||n}}function Xoe({enabled:e=!0}={}){const{data:t,isLoading:n}=Rt(ps({retry:5,enabled:e,queryKey:Joe(),queryFn:async()=>{const r=gs(await he.safeGet("/models/gpts",{authOption:tn.SendIfAvailable}));return nae(r)}}));return{gizmoModelsData:t,gizmoModelsLoading:n}}const lDe=nn(e=>bh(e,()=>p1({IIM:!1,placeholderData:uB(e,dB,fB,Nh())}),{forcePendingOnServer:!0}));function eae({isGizmo:e=!1}={}){return pB({isGizmo:e})}function mB(e){return e.getQueryData(Nh())}function tae(e){return{categories:e.categories.concat().reverse().map(rae),groups:e.internal_groups?.map(iae)??[],defaultModelSlug:e.default_model_slug??null,modelPickerVersion:e.model_picker_version,models:new Map(e.models.map(t=>[t.slug,gB(t)])),title:e.title}}function nae(e){return{editor:e.editor,model_override:e.model_override}}function gB(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features,enableInfer:e.enable_infer,enableInferOptOut:e.enable_infer_opt_out,reasoningType:e.reasoning_type}}function rae({default_model:e,tagline:t,color:n,human_category_name:r,category:i,human_category_short_name:s,human_category_shorter_name:o,subscription_level:a,short_explainer:l,subcategory:c,render_header_type:u,title:d,is_beta:f,is_alpha:h,model_badge:m,supported_features:v,supported_models:_,disabled_by_admin:y,date_updated:b,action_pill_short_name:C,slash_command_enabled:S,...x}){return{color:n,tagline:t,defaultModel:e,label:r,shortLabel:s,description:l,shorterLabel:o??s,subscriptionLevel:a,categoryId:i,subcategory:c,renderHeaderType:u,isBeta:f,isAlpha:h,modelBadge:m,title:d,supportedFeatures:v,supportedModels:_??[],dateUpdated:b,actionPillShortName:C,slashCommandEnabled:S,disabledByAdmin:y??!1,...x}}function iae({group:e,human_group_name:t,human_group_short_name:n,model_ids:r}){return{group:e,label:t,shortLabel:n,modelIds:r}}const gT=new WeakMap;function sae(e){let t=gT.get(e);if(!t){const n=new Map([...e.models.entries()].filter(([,r])=>r.tags.includes("history_off_approved")));t={models:n,defaultModelSlug:e.defaultModelSlug,categories:e.categories.filter(r=>n.has(r.defaultModel)),groups:e.groups.map(r=>({...r,modelIds:r.modelIds.filter(i=>n.has(i))})).filter(r=>r.modelIds.length>0)},gT.set(e,t)}return t}const vB=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},p.createElement("path",{d:"M6.02925 3.02929C6.25652 2.80202 6.60803 2.77382 6.86616 2.94433L6.97065 3.02929L11.4707 7.52929C11.7304 7.78899 11.7304 8.211 11.4707 8.4707L6.97065 12.9707C6.71095 13.2304 6.28895 13.2304 6.02925 12.9707C5.76955 12.711 5.76955 12.289 6.02925 12.0293L10.0585 7.99999L6.02925 3.9707L5.94429 3.8662C5.77378 3.60807 5.80198 3.25656 6.02925 3.02929Z"})),oae=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M8 9.93359C8.40501 9.93359 8.7334 10.262 8.7334 10.667C8.73322 11.0718 8.4049 11.4004 8 11.4004C7.59524 11.4002 7.26678 11.0718 7.2666 10.667C7.2666 10.2621 7.59512 9.93375 8 9.93359Z"}),p.createElement("path",{d:"M8 4.66699C9.00983 4.66699 9.71143 5.3376 9.91113 6.12598C10.1119 6.91849 9.80668 7.84168 8.89453 8.29785C8.75494 8.36765 8.66699 8.51093 8.66699 8.66699C8.66681 9.03503 8.36808 9.33301 8 9.33301C7.63194 9.33299 7.33319 9.03502 7.33301 8.66699C7.33301 8.00598 7.70668 7.40116 8.29785 7.10547C8.60101 6.95389 8.6789 6.69288 8.61816 6.45312C8.55627 6.20931 8.35206 6 8 6C7.74846 6.00001 7.52816 6.13905 7.41406 6.34766C7.23735 6.67059 6.83275 6.78894 6.50977 6.6123C6.18684 6.43568 6.0677 6.03099 6.24414 5.70801C6.58269 5.08904 7.24177 4.667 8 4.66699Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.33301C11.6819 1.33301 14.667 4.3181 14.667 8C14.667 11.6819 11.6819 14.667 8 14.667C4.3181 14.667 1.33301 11.6819 1.33301 8C1.33301 4.3181 4.3181 1.33301 8 1.33301ZM8 2.66699C5.05448 2.66699 2.66699 5.05448 2.66699 8C2.66699 10.9455 5.05448 13.333 8 13.333C10.9455 13.333 13.333 10.9455 13.333 8C13.333 5.05448 10.9455 2.66699 8 2.66699Z"})),aae=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},p.createElement("path",{d:"M11.3349 10.3301V5.60547L4.47065 12.4707C4.21095 12.7304 3.78895 12.7304 3.52925 12.4707C3.26955 12.211 3.26955 11.789 3.52925 11.5293L10.3945 4.66504H5.66011C5.29284 4.66504 4.99507 4.36727 4.99507 4C4.99507 3.63273 5.29284 3.33496 5.66011 3.33496H11.9999L12.1337 3.34863C12.4369 3.41057 12.665 3.67857 12.665 4V10.3301C12.6649 10.6973 12.3672 10.9951 11.9999 10.9951C11.6327 10.9951 11.335 10.6973 11.3349 10.3301ZM11.333 4.66699L11.3349 4.66797L11.332 4.66504H11.331L11.333 4.66699Z"}));function ti(e){return e?"":void 0}function lae(e,t){return e.getAttribute(t)!=null}function cDe(e,t,n){_B(e,t,ti(n))}function _B(e,t,n){e&&(n!=null?e.setAttribute(t,n):e.removeAttribute(t))}function cae(){return RD()?8:1}function yB(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function uae(e){return!e0(e)&&!yB(e)}function e0(e){const t="nativeEvent"in e?e.nativeEvent:e;return t.isComposing||t.keyCode===229}function dae(e){const{key:t,currentTarget:n}=e,r=n instanceof HTMLInputElement;return uae(e)&&(t==="Tab"||t==="ArrowDown"||t==="ArrowUp"||t==="ArrowLeft"&&(!r||n.selectionStart===0||n.selectionEnd===0)||t==="ArrowRight"&&(!r||n.selectionEnd===n.selectionStart&&n.selectionStart===n.value.length))}const Uo=e=>{"use forget";const t=Re.c(113);let n,r,i,s,o,a,l,c,u,d,f,h,m,v,_,y,b,C,S,x,w;t[0]!==e?({as:s,icon:r,trailing:i,highlightTrailing:n,showHighlightTrailing:m,trailingColor:v,label:d,badge:o,secondary:h,className:l,color:c,size:_,active:y,highlighted:b,hasManagedFocus:C,subMenu:S,fillContainer:x,children:a,iconOnly:w,iconAriaLabel:u,...f}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=f,t[12]=h,t[13]=m,t[14]=v,t[15]=_,t[16]=y,t[17]=b,t[18]=C,t[19]=S,t[20]=x,t[21]=w):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],h=t[12],m=t[13],v=t[14],_=t[15],y=t[16],b=t[17],C=t[18],S=t[19],x=t[20],w=t[21]);const E=m===void 0?!1:m,T=v===void 0?"tertiary":v,O=_===void 0?"default":_,k=y===void 0?!1:y,A=b===void 0?!1:b,I=C===void 0?!1:C,D=S===void 0?!1:S,N=x===void 0?!1:x,R=w===void 0?!1:w;let F;if(p.isValidElement(a)&&!d&&!o)F=a;else{let re;t[22]!==d?(re=d&&g.jsx(hae,{children:d}),t[22]=d,t[23]=re):re=t[23];let W;t[24]!==o?(W=o&&g.jsx(Iw,{children:o}),t[24]=o,t[25]=W):W=t[25];let B;t[26]!==a||t[27]!==re||t[28]!==W?(B=g.jsxs("div",{className:"flex min-w-0 grow items-center gap-2.5 group-data-no-contents-gap:gap-0",children:[re,a,W]}),t[26]=a,t[27]=re,t[28]=W,t[29]=B):B=t[29],F=B}if(h){let re;t[30]!==h?(re=g.jsx("div",{className:"not-group-data-disabled:text-token-text-tertiary leading-dense mb-0.5 text-xs group-data-sheet-item:mt-0.5 group-data-sheet-item:mb-0",children:h}),t[30]=h,t[31]=re):re=t[31];let W;t[32]!==F||t[33]!==re?(W=g.jsxs("div",{className:"min-w-0",children:[F,re]}),t[32]=F,t[33]=re,t[34]=W):W=t[34],F=W}if(r){const re=O==="large"?"icon-lg":"icon";let W;t[35]!==re?(W=ke("flex items-center justify-center group-disabled:opacity-50 group-data-disabled:opacity-50",re),t[35]=re,t[36]=W):W=t[36];let B;t[37]!==r||t[38]!==u||t[39]!==R?(B=typeof r!="function"?r:g.jsx(r,{className:"icon","aria-hidden":R?"false":"true","aria-label":R?u:void 0}),t[37]=r,t[38]=u,t[39]=R,t[40]=B):B=t[40];let Ie;t[41]!==W||t[42]!==B?(Ie=g.jsx("div",{className:W,children:B}),t[41]=W,t[42]=B,t[43]=Ie):Ie=t[43];const Te=!R&&F;let X;t[44]!==Ie||t[45]!==Te?(X=g.jsxs(g.Fragment,{children:[Ie,Te]}),t[44]=Ie,t[45]=Te,t[46]=X):X=t[46],F=X}let j;if(i){const re=T==="tertiary"&&"text-token-text-tertiary";let W;t[47]!==re?(W=ke("trailing",re),t[47]=re,t[48]=W):W=t[48];const B=n?-1:void 0;let Ie;t[49]!==i?(Ie=typeof i!="function"?i:g.jsx(i,{className:"icon","aria-hidden":"true"}),t[49]=i,t[50]=Ie):Ie=t[50];let Te;t[51]!==W||t[52]!==B||t[53]!==Ie?(Te=g.jsx("div",{className:W,tabIndex:B,children:Ie}),t[51]=W,t[52]=B,t[53]=Ie,t[54]=Te):Te=t[54],j=Te}if(n){const re=T==="tertiary"&&"text-token-text-tertiary";let W;t[55]!==re?(W=ke("trailing highlight",re),t[55]=re,t[56]=W):W=t[56];let B;t[57]!==n?(B=typeof n!="function"?n:g.jsx(n,{className:"icon","aria-hidden":"true"}),t[57]=n,t[58]=B):B=t[58];let Ie;t[59]!==W||t[60]!==B?(Ie=g.jsx("div",{className:W,children:B}),t[59]=W,t[60]=B,t[61]=Ie):Ie=t[61];const Te=Ie;let X;t[62]!==Te||t[63]!==j?(X=j?g.jsxs("div",{className:"trailing-pair",children:[Te,j]}):Te,t[62]=Te,t[63]=j,t[64]=X):X=t[64],j=X}if(D){let re;t[65]===Symbol.for("react.memo_cache_sentinel")?(re=g.jsx(vB,{className:"icon-sm -me-0.25"}),t[65]=re):re=t[65];const W=re;let B;t[66]!==j?(B=j?g.jsxs("div",{className:"flex items-center gap-1 self-stretch",children:[j,W]}):W,t[66]=j,t[67]=B):B=t[67],j=B}if(j&&!R){if(r){const W=O==="large"?"gap-2":"gap-1.5";let B;t[68]!==W?(B=ke("flex min-w-0 items-center",W),t[68]=W,t[69]=B):B=t[69];let Ie;t[70]!==F||t[71]!==B?(Ie=g.jsx("div",{className:B,children:F}),t[70]=F,t[71]=B,t[72]=Ie):Ie=t[72],F=Ie}let re;t[73]!==F||t[74]!==j?(re=g.jsxs(g.Fragment,{children:[F,j]}),t[73]=F,t[74]=j,t[75]=re):re=t[75],F=re}const H=s,U=p.useRef(null),M=p.useRef(!1);let me,de;t[76]!==A?(me=()=>{if(M.current){M.current=!1;return}A&&requestAnimationFrame(()=>{U.current?.scrollIntoView({block:"nearest"})})},de=[A],t[76]=A,t[77]=me,t[78]=de):(me=t[77],de=t[78]),p.useEffect(me,de);const P=f.disabled?-1:0,Ce=f.disabled??!1;let Se;t[79]!==Ce?(Se=ti(Ce),t[79]=Ce,t[80]=Se):Se=t[80];let ne;t[81]!==k?(ne=ti(k),t[81]=k,t[82]=ne):ne=t[82];let ue;t[83]!==A?(ue=ti(A),t[83]=A,t[84]=ue):ue=t[84];let te;t[85]!==D?(te=ti(D),t[85]=D,t[86]=te):te=t[86];let xe;t[87]!==N?(xe=ti(N),t[87]=N,t[88]=xe):xe=t[88];let oe;t[89]!==E?(oe=ti(E),t[89]=E,t[90]=oe):oe=t[90];const fe=O==="large"?"large":void 0,le=c!=="default"?c:void 0,we=!I&&"hoverable",Xe=r&&!j&&(O==="large"?"gap-2":"gap-1.5"),ce=O==="large"&&R&&"p-2";let J;t[91]!==l||t[92]!==we||t[93]!==Xe||t[94]!==ce?(J=ke("group __menu-item",we,Xe,ce,l),t[91]=l,t[92]=we,t[93]=Xe,t[94]=ce,t[95]=J):J=t[95];let Y;t[96]!==f?(Y=re=>{M.current=!0,f.onPointerMoveCapture?.(re)},t[96]=f,t[97]=Y):Y=t[97];let _e;return t[98]!==H||t[99]!==F||t[100]!==f||t[101]!==P||t[102]!==Se||t[103]!==ne||t[104]!==ue||t[105]!==te||t[106]!==xe||t[107]!==oe||t[108]!==fe||t[109]!==le||t[110]!==J||t[111]!==Y?(_e=g.jsx(H,{ref:U,tabIndex:P,"data-disabled":Se,"data-active":ne,"data-highlighted":ue,"data-has-submenu":te,"data-fill":xe,"data-revealed":oe,"data-size":fe,"data-color":le,className:J,...f,onPointerMoveCapture:Y,children:F}),t[98]=H,t[99]=F,t[100]=f,t[101]=P,t[102]=Se,t[103]=ne,t[104]=ue,t[105]=te,t[106]=xe,t[107]=oe,t[108]=fe,t[109]=le,t[110]=J,t[111]=Y,t[112]=_e):_e=t[112],_e},fae=({external:e,...t})=>g.jsx(Uo,{as:uh,...e?{highlightTrailing:g.jsx(aae,{className:"icon-sm"}),target:"_blank",rel:"noopener noreferrer"}:null,...t}),Aw=e=>{const{row:t,className:n,...r}=e,i=e.as??"button";return g.jsx(Uo,{"data-sheet-item":!0,...r,as:i,className:ke("bg-token-bg-tertiary dark:bg-token-bg-secondary mx-0 w-full py-4 leading-5",t?"justify-between px-4 text-start":"flex-col justify-center px-0",n)})},hae=p.memo(function({children:t}){return g.jsx("div",{className:"truncate",ref:n=>{n?.textContent&&n.scrollWidth>n.clientWidth&&(n.title=n.textContent)},children:t})}),Iw=({children:e})=>g.jsx("span",{className:"__menu-item-badge",children:e}),uDe=({disabled:e,icon:t,children:n,className:r,...i})=>g.jsx("button",{disabled:e,tabIndex:e?void 0:0,"data-trailing-button":ti(!0),className:ke("__menu-item-trailing-btn",r),...i,onClick:s=>{s.preventDefault(),s.stopPropagation(),i.onClick?.(s)},onDoubleClick:s=>{s.preventDefault(),s.stopPropagation(),i.onDoubleClick?.(s)},onPointerDown:s=>{i.onPointerDown?.(s),s.preventDefault(),s.stopPropagation()},onMouseDown:s=>{i.onMouseDown?.(s),s.preventDefault(),s.stopPropagation()},children:g.jsx("div",{children:t?g.jsx(t,{className:"icon","aria-hidden":"true"}):n})}),dDe=({children:e,className:t,...n})=>g.jsx(uh,{"data-trailing-button":ti(!0),className:ke("__menu-item-trailing-lnk",t),...n,onClick:r=>{r.preventDefault(),r.stopPropagation(),n.onClick?.(r)},onDoubleClick:r=>{r.preventDefault(),r.stopPropagation(),n.onDoubleClick?.(r)},children:e}),pae=({as:e,className:t,...n})=>{const r=e;return g.jsx(r,{className:ke("__menu-label",t),...n})};function mae({size:e="long"}){const t=e==="long"?220:120,[n]=p.useState(()=>.75+.25*Math.random());return g.jsx(Uo,{as:"div",disabled:!0,children:g.jsx("div",{className:"loading-results-shimmer h-4 rounded-sm",style:{width:Math.round(n*t)}})})}const gae=e=>{"use forget";const t=Re.c(44);let n,r,i,s,o,a,l,c,u,d;t[0]!==e?({holdFocus:c,selectAllOnFocus:u,submitIcon:n,onClick:i,onFocus:s,onKeyDownCapture:o,onSubmit:a,border:d,className:r,...l}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10]);const f=c===void 0?!1:c,h=u===void 0?!0:u,m=d===void 0?!0:d,v=yt();let _;t[11]!==r?(_=ke("text-token-text-primary bg-token-bg-primary data-border:border-token-border-default m-[-1px] w-full min-w-[200px] rounded-[10px] border-transparent px-2.5 py-2 text-sm focus:ring-0 focus:ring-offset-0 focus:outline-hidden disabled:opacity-50 data-border:border-1 data-submit-icon:ps-2.5 data-submit-icon:pe-9 dark:bg-transparent",r),t[11]=r,t[12]=_):_=t[12];let y;t[13]!==f?(y=ti(f),t[13]=f,t[14]=y):y=t[14];let b;t[15]!==m?(b=ti(m),t[15]=m,t[16]=b):b=t[16];const C=!!n;let S;t[17]!==C?(S=ti(C),t[17]=C,t[18]=S):S=t[18];let x;t[19]!==i?(x=I=>{i?.(I),I.preventDefault()},t[19]=i,t[20]=x):x=t[20];let w;t[21]!==s||t[22]!==h?(w=I=>{s?.(I),h&&I.currentTarget.select()},t[21]=s,t[22]=h,t[23]=w):w=t[23];let E;t[24]!==o||t[25]!==a?(E=I=>{o?.(I);const{key:D}=I;dae(I)||(I.stopPropagation(),D==="Enter"&&a?.(I))},t[24]=o,t[25]=a,t[26]=E):E=t[26];let T;t[27]!==l||t[28]!==w||t[29]!==E||t[30]!==_||t[31]!==y||t[32]!==b||t[33]!==S||t[34]!==x?(T=g.jsx("input",{type:"text",className:_,"data-hold-focus":y,"data-border":b,"data-submit-icon":S,autoComplete:"off",onClick:x,onFocus:w,onKeyDownCapture:E,...l}),t[27]=l,t[28]=w,t[29]=E,t[30]=_,t[31]=y,t[32]=b,t[33]=S,t[34]=x,t[35]=T):T=t[35];const O=T;let k;t[36]!==n||t[37]!==v||t[38]!==a||t[39]!==l?.value?(k=n&&g.jsx("div",{className:"absolute end-2.5 top-1/2 flex -translate-y-1/2 items-center justify-center",children:g.jsx("button",{className:"icon composer-submit-btn size-5",disabled:l?.value?.toString().trim()==="",onClick:a,"aria-label":v.formatMessage({defaultMessage:"Submit",id:"aria.submit"}),"data-in-menu":ti(!0),children:g.jsx(n,{className:"icon-xs"})})}),t[36]=n,t[37]=v,t[38]=a,t[39]=l?.value,t[40]=k):k=t[40];let A;return t[41]!==O||t[42]!==k?(A=g.jsxs("div",{className:"relative mx-1.5 mb-1 w-[calc(100%---spacing(3))]",children:[k,O]}),t[41]=O,t[42]=k,t[43]=A):A=t[43],A};function vae(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function bB(e){const[t,n]=p.useState(void 0);return tc(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Mw="Switch",[_ae,fDe]=pd(Mw),[yae,bae]=_ae(Mw),CB=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=e,[f,h]=p.useState(null),m=An(t,C=>h(C)),v=p.useRef(!1),_=f?u||!!f.closest("form"):!0,[y=!1,b]=gc({prop:i,defaultProp:s,onChange:c});return g.jsxs(yae,{scope:n,checked:y,disabled:a,children:[g.jsx(Kt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":EB(y),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onClick:et(e.onClick,C=>{b(S=>!S),_&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),_&&g.jsx(Cae,{control:f,bubbles:!v.current,name:r,value:l,checked:y,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});CB.displayName=Mw;var SB="SwitchThumb",wB=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=bae(SB,n);return g.jsx(Kt.span,{"data-state":EB(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});wB.displayName=SB;var Cae=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=p.useRef(null),o=vae(n),a=bB(t);return p.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const f=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(f)}},[o,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function EB(e){return e?"checked":"unchecked"}var Sae=CB,wae=wB;const xB=({size:e,className:t,icon:n,withinLabel:r,...i})=>g.jsx(Sae,{className:ke("radix-state-checked:bg-blue-400 focus-visible:ring-token-text-primary relative box-content aspect-7/4 shrink-0 rounded-full bg-gray-200 p-[2px] focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:opacity-50 dark:bg-gray-600",e==="small"?"h-3":"h-4",t),...i,children:g.jsx(wae,{className:"radix-state-checked:translate-x-[calc(var(--dir,1)*100%*(7/4-1))] flex aspect-square h-full items-center justify-center rounded-full bg-white transition-transform duration-100 rtl:[--dir:-1]",children:n})});function Rw(e,t=[]){let n=[];function r(s,o){const a=p.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:h,...m}=d,v=f?.[e][l]||a,_=p.useMemo(()=>m,Object.values(m));return g.jsx(v.Provider,{value:_,children:h})}function u(d,f){const h=f?.[e][l]||a,m=p.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>p.createContext(o));return function(a){const l=a?.[e]||s;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,Eae(i,...t)]}function Eae(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function kB(e){const t=e+"CollectionProvider",[n,r]=Rw(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:m,children:v}=h,_=Le.useRef(null),y=Le.useRef(new Map).current;return g.jsx(i,{scope:m,itemMap:y,collectionRef:_,children:v})};o.displayName=t;const a=e+"CollectionSlot",l=Le.forwardRef((h,m)=>{const{scope:v,children:_}=h,y=s(a,v),b=An(m,y.collectionRef);return g.jsx(Vu,{ref:b,children:_})});l.displayName=a;const c=e+"CollectionItemSlot",u="data-radix-collection-item",d=Le.forwardRef((h,m)=>{const{scope:v,children:_,...y}=h,b=Le.useRef(null),C=An(m,b),S=s(c,v);return Le.useEffect(()=>(S.itemMap.set(b,{ref:b,...y}),()=>void S.itemMap.delete(b))),g.jsx(Vu,{[u]:"",ref:C,children:_})});d.displayName=c;function f(h){const m=s(e+"CollectionConsumer",h);return Le.useCallback(()=>{const _=m.collectionRef.current;if(!_)return[];const y=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((S,x)=>y.indexOf(S.ref.current)-y.indexOf(x.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}var TB=p.createContext(void 0),xae=e=>{const{dir:t,children:n}=e;return g.jsx(TB.Provider,{value:t,children:n})};function Pw(e){const t=p.useContext(TB);return e||t||"ltr"}var Gy="rovingFocusGroup.onEntryFocus",kae={bubbles:!1,cancelable:!0},t0="RovingFocusGroup",[w6,OB,Tae]=kB(t0),[Oae,n0]=Rw(t0,[Tae]),[Aae,Iae]=Oae(t0),AB=p.forwardRef((e,t)=>g.jsx(w6.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(w6.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(Mae,{...e,ref:t})})}));AB.displayName=t0;var Mae=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,f=p.useRef(null),h=An(t,f),m=Pw(s),[v=null,_]=gc({prop:o,defaultProp:a,onChange:l}),[y,b]=p.useState(!1),C=Ri(c),S=OB(n),x=p.useRef(!1),[w,E]=p.useState(0);return p.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Gy,C),()=>T.removeEventListener(Gy,C)},[C]),g.jsx(Aae,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:v,onItemFocus:p.useCallback(T=>_(T),[_]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>E(T=>T-1),[]),children:g.jsx(Kt.div,{tabIndex:y||w===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{x.current=!0}),onFocus:et(e.onFocus,T=>{const O=!x.current;if(T.target===T.currentTarget&&O&&!y){const k=new CustomEvent(Gy,kae);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=S().filter(F=>F.focusable),I=A.find(F=>F.active),D=A.find(F=>F.id===v),R=[I,D,...A].filter(Boolean).map(F=>F.ref.current);RB(R,u)}}x.current=!1}),onBlur:et(e.onBlur,()=>b(!1))})})}),IB="RovingFocusGroupItem",MB=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=e,a=zs(),l=s||a,c=Iae(IB,n),u=c.currentTabStopId===l,d=OB(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=c;return p.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),g.jsx(w6.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:g.jsx(Kt.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:et(e.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:et(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:et(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=Nae(m,c.orientation,c.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=d().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const b=y.indexOf(m.currentTarget);y=c.loop?Dae(y,b+1):y.slice(b+1)}setTimeout(()=>RB(y))}})})})});MB.displayName=IB;var Rae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Nae(e,t,n){const r=Pae(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Rae[r]}function RB(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Dae(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var PB=AB,NB=MB,Nw="Tabs",[Lae,hDe]=pd(Nw,[n0]),DB=n0(),[Fae,Dw]=Lae(Nw),LB=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=Pw(a),[d,f]=gc({prop:r,onChange:i,defaultProp:s});return g.jsx(Fae,{scope:n,baseId:zs(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:g.jsx(Kt.div,{dir:u,"data-orientation":o,...c,ref:t})})});LB.displayName=Nw;var FB="TabsList",jB=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=Dw(FB,n),o=DB(n);return g.jsx(PB,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(Kt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});jB.displayName=FB;var BB="TabsTrigger",UB=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=Dw(BB,n),a=DB(n),l=GB(o.baseId,r),c=HB(o.baseId,r),u=r===o.value;return g.jsx(NB,{asChild:!0,...a,focusable:!i,active:u,children:g.jsx(Kt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:et(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:et(e.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});UB.displayName=BB;var qB="TabsContent",zB=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,a=Dw(qB,n),l=GB(a.baseId,r),c=HB(a.baseId,r),u=r===a.value,d=p.useRef(u);return p.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),g.jsx(ys,{present:i||u,children:({present:f})=>g.jsx(Kt.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:f&&s})})});zB.displayName=qB;function GB(e,t){return`${e}-trigger-${t}`}function HB(e,t){return`${e}-content-${t}`}var pDe=LB,mDe=jB,jae=UB,Bae=zB;function Uae(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=VB(t))&&(r&&(r+=" "),r+=n);return r}function VB(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=VB(e[r]))&&(n&&(n+=" "),n+=t);return n}function E6(){return E6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E6.apply(this,arguments)}function qae(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var Lw="-";function zae(e){var t=Hae(e);function n(i){var s=i.split(Lw);return s[0]===""&&s.length!==1&&s.shift(),$B(s,t)||Gae(i)}function r(i){return e.conflictingClassGroups[i]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function $B(e,t){var n;if(e.length===0)return t.classGroupId;var r=e[0],i=t.nextPart.get(r),s=i?$B(e.slice(1),i):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(Lw);return(n=t.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:n.classGroupId}}var vT=/^\[(.+)\]$/;function Gae(e){if(vT.test(e)){var t=vT.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Hae(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=$ae(Object.entries(e.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];x6(a,r,o,t)}),r}function x6(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var s=i===""?t:_T(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(Vae(i)){x6(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];x6(l,_T(t,a),n,r)})})}function _T(e,t){var n=e;return t.split(Lw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function Vae(e){return e.isThemeGetter}function $ae(e,t){return t?e.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[t+l,c]})):o});return[r,s]}):e}var WB="!";function Wae(e){var t=e.separator||":";return function(r){for(var i=0,s=[],o=0,a=0;a<r.length;a++){var l=r[a];i===0&&l===t[0]&&(t.length===1||r.slice(a,a+t.length)===t)&&(s.push(r.slice(o,a)),o=a+t.length),l==="["?i++:l==="]"&&i--}var c=s.length===0?r:r.substring(o),u=c.startsWith(WB),d=u?c.substring(1):c;return{modifiers:s,hasImportantModifier:u,baseClassName:d}}}function Kae(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Yae(e){return E6({cache:qae(e.cacheSize),splitModifiers:Wae(e)},zae(e))}var Zae=/\s+/;function Jae(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(Zae).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=r(u);if(!d)return{isTailwindClass:!1,originalClassName:o};var f=Kae(l).join(":"),h=c?f+WB:f;return{isTailwindClass:!0,modifierId:h,classGroupId:d,originalClassName:o}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=a+l;return s.has(c)?!1:(s.add(c),i(l).forEach(function(u){return s.add(a+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function Qae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,s,o=a;function a(c){var u=t[0],d=t.slice(1),f=d.reduce(function(h,m){return m(h)},u());return r=Yae(f),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=Jae(c,r);return s(c,d),d}return function(){return o(Uae.apply(null,arguments))}}function sn(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var Xa=/^\[(.+)\]$/,Xae=/^\d+\/\d+$/,ele=new Set(["px","full","screen"]),tle=/^(\d+)?(xs|sm|md|lg|xl)$/,nle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh)/,rle=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Bi(e){return!Number.isNaN(Number(e))||ele.has(e)||Xae.test(e)||Cl(e)}function Cl(e){var t,n=(t=Xa.exec(e))==null?void 0:t[1];return n?n.startsWith("length:")||nle.test(n):!1}function ile(e){var t,n=(t=Xa.exec(e))==null?void 0:t[1];return n?n.startsWith("size:"):!1}function sle(e){var t,n=(t=Xa.exec(e))==null?void 0:t[1];return n?n.startsWith("position:"):!1}function ole(e){var t,n=(t=Xa.exec(e))==null?void 0:t[1];return n?n.startsWith("url(")||n.startsWith("url:"):!1}function yT(e){var t,n=(t=Xa.exec(e))==null?void 0:t[1];return n?!Number.isNaN(Number(n))||n.startsWith("number:"):!1}function Er(e){var t,n=(t=Xa.exec(e))==null?void 0:t[1];return n?Number.isInteger(Number(n)):Number.isInteger(Number(e))}function Qn(e){return Xa.test(e)}function Ud(){return!0}function ia(e){return tle.test(e)}function ale(e){var t,n=(t=Xa.exec(e))==null?void 0:t[1];return n?rle.test(n):!1}function lle(){var e=sn("colors"),t=sn("spacing"),n=sn("blur"),r=sn("brightness"),i=sn("borderColor"),s=sn("borderRadius"),o=sn("borderSpacing"),a=sn("borderWidth"),l=sn("contrast"),c=sn("grayscale"),u=sn("hueRotate"),d=sn("invert"),f=sn("gap"),h=sn("gradientColorStops"),m=sn("inset"),v=sn("margin"),_=sn("opacity"),y=sn("padding"),b=sn("saturate"),C=sn("scale"),S=sn("sepia"),x=sn("skew"),w=sn("space"),E=sn("translate"),T=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",t]},A=function(){return["",Bi]},I=function(){return["auto",Er]},D=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},N=function(){return["solid","dashed","dotted","double","none"]},R=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},F=function(){return["start","end","center","between","around","evenly"]},j=function(){return["","0",Qn]},H=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]};return{cacheSize:500,theme:{colors:[Ud],spacing:[Bi],blur:["none","",ia,Cl],brightness:[Er],borderColor:[e],borderRadius:["none","","full",ia,Cl],borderSpacing:[t],borderWidth:A(),contrast:[Er],grayscale:j(),hueRotate:[Er],invert:j(),gap:[t],gradientColorStops:[e],inset:k(),margin:k(),opacity:[Er],padding:[t],saturate:[Er],scale:[Er],sepia:j(),skew:[Er,Qn],space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",Qn]}],container:["container"],columns:[{columns:[ia]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(D(),[Qn])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:[Er]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qn]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Er]}],"grid-cols":[{"grid-cols":[Ud]}],"col-start-end":[{col:["auto",{span:[Er]}]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Ud]}],"row-start-end":[{row:["auto",{span:[Er]}]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:F()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(F(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(F(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",Bi]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ia]},ia,Cl]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Bi]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",ia,Cl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yT]}],"font-family":[{font:[Ud]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Cl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bi]}],"list-style-type":[{list:["none","disc","decimal",Qn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(N(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Bi]}],"underline-offset":[{"underline-offset":["auto",Bi]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cl]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",Qn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(D(),[sle])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ile]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ole]}],"bg-color":[{bg:[e]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(N(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:N()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(N())}],"outline-offset":[{"outline-offset":[Bi]}],"outline-w":[{outline:[Bi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Bi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ia,ale]}],"shadow-color":[{shadow:[Ud]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":R()}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ia,Qn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qn]}],duration:[{duration:[Er]}],ease:[{ease:["linear","in","out","in-out",Qn]}],delay:[{delay:[Er]}],animate:[{animate:["none","spin","ping","pulse","bounce",Qn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Er,Qn]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Bi,yT]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],"col-start-end":["col-start","col-end"],"row-start-end":["row-start","row-end"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var cle=Qae(lle),ule=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],dle=ule,KB=Symbol("isTwElement?"),fle=(e,t)=>e.reduce((n,r,i)=>n.concat(r||[],t[i]||[]),[]),hle=(e,t="")=>{let n=e.join(" ").trim().replace(/\n/g," ").replace(/\s{2,}/g," ").split(" ").filter(i=>i!==","),r=t?t.split(" "):[];return cle(...n.concat(r).filter(i=>i!==" "))},ple=([e])=>e.charAt(0)!=="$",Hy=e=>e[KB]===!0,YB=e=>(t,...n)=>{let r=(i=[])=>{let s=Le.forwardRef((o,a)=>{let{$as:l=e,style:c={},...u}=o,d=Hy(e)?e:l,f=i?i.reduce((m,v)=>Object.assign(m,typeof v=="function"?v(o):v),{}):{},h=Hy(d)?u:Object.fromEntries(Object.entries(u).filter(ple));return Le.createElement(d,{...h,style:{...f,...c},ref:a,className:hle(fle(t,n.map(m=>m({...u,$as:l}))),u.className),...Hy(e)?{$as:l}:{}})});return s[KB]=!0,typeof e!="string"?s.displayName=e.displayName||e.name||"tw.Component":s.displayName="tw."+e,s.withStyle=o=>r(i.concat(o)),s};return r()},mle=dle.reduce((e,t)=>({...e,[t]:YB(t)}),{}),gle=Object.assign(YB,mle),el=gle;function bT(){return g.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:g.jsx(ve,{id:"PoPvGE",defaultMessage:"Alpha"})})}function CT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ZB(...e){return t=>{let n=!1;const r=e.map(i=>{const s=CT(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():CT(e[i],null)}}}}function gDe(...e){return p.useCallback(ZB(...e),e)}function vle(e){const t=_le(e),n=p.forwardRef((r,i)=>{const{children:s,...o}=r,a=p.Children.toArray(s),l=a.find(ble);if(l){const c=l.props.children,u=a.map(d=>d===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...o,ref:i,children:p.isValidElement(c)?p.cloneElement(c,void 0,u):null})}return g.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var JB=vle("Slot");function _le(e){const t=p.forwardRef((n,r)=>{const{children:i,...s}=n;if(p.isValidElement(i)){const o=Sle(i),a=Cle(s,i.props);return i.type!==p.Fragment&&(a.ref=r?ZB(r,o):o),p.cloneElement(i,a)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yle=Symbol("radix.slottable");function ble(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yle}function Cle(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Sle(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const wle=["top","right","bottom","left"],ja=Math.min,ni=Math.max,m1=Math.round,Up=Math.floor,Ba=e=>({x:e,y:e}),Ele={left:"right",right:"left",bottom:"top",top:"bottom"},xle={start:"end",end:"start"};function k6(e,t,n){return ni(e,ja(t,n))}function Po(e,t){return typeof e=="function"?e(t):e}function No(e){return e.split("-")[0]}function _d(e){return e.split("-")[1]}function Fw(e){return e==="x"?"y":"x"}function jw(e){return e==="y"?"height":"width"}function yd(e){return["top","bottom"].includes(No(e))?"y":"x"}function Bw(e){return Fw(yd(e))}function kle(e,t,n){n===void 0&&(n=!1);const r=_d(e),i=Bw(e),s=jw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=g1(o)),[o,g1(o)]}function Tle(e){const t=g1(e);return[T6(e),t,T6(t)]}function T6(e){return e.replace(/start|end/g,t=>xle[t])}function Ole(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function Ale(e,t,n,r){const i=_d(e);let s=Ole(No(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(T6)))),s}function g1(e){return e.replace(/left|right|bottom|top/g,t=>Ele[t])}function Ile(e){return{top:0,right:0,bottom:0,left:0,...e}}function QB(e){return typeof e!="number"?Ile(e):{top:e,right:e,bottom:e,left:e}}function v1(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ST(e,t,n){let{reference:r,floating:i}=e;const s=yd(t),o=Bw(t),a=jw(o),l=No(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(_d(t)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const Mle=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=ST(c,r,l),f=r,h={},m=0;for(let v=0;v<a.length;v++){const{name:_,fn:y}=a[v],{x:b,y:C,data:S,reset:x}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=b??u,d=C??d,h={...h,[_]:{...h[_],...S}},x&&m<=50&&(m++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(c=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:u,y:d}=ST(c,f,l)),v=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function $f(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Po(t,e),m=QB(h),_=a[f?d==="floating"?"reference":"floating":d],y=v1(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{...o.floating,x:r,y:i}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},x=v1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:C,strategy:l}):b);return{top:(y.top-x.top+m.top)/S.y,bottom:(x.bottom-y.bottom+m.bottom)/S.y,left:(y.left-x.left+m.left)/S.x,right:(x.right-y.right+m.right)/S.x}}const Rle=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=Po(e,t)||{};if(c==null)return{};const d=QB(u),f={x:n,y:r},h=Bw(i),m=jw(h),v=await o.getDimensions(c),_=h==="y",y=_?"top":"left",b=_?"bottom":"right",C=_?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[h]-f[h]-s.floating[m],x=f[h]-s.reference[h],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=w?w[C]:0;(!E||!await(o.isElement==null?void 0:o.isElement(w)))&&(E=a.floating[C]||s.floating[m]);const T=S/2-x/2,O=E/2-v[m]/2-1,k=ja(d[y],O),A=ja(d[b],O),I=k,D=E-v[m]-A,N=E/2-v[m]/2+T,R=k6(I,N,D),F=!l.arrow&&_d(i)!=null&&N!==R&&s.reference[m]/2-(N<I?k:A)-v[m]/2<0,j=F?N<I?N-I:N-D:0;return{[h]:f[h]+j,data:{[h]:R,centerOffset:N-R-j,...F&&{alignmentOffset:j}},reset:F}}}),Ple=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,..._}=Po(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=No(i),b=No(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(b||!v?[g1(a)]:Tle(a));!f&&m!=="none"&&S.push(...Ale(a,v,m,C));const x=[a,...S],w=await $f(t,_),E=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(w[y]),d){const I=kle(i,o,C);E.push(w[I[0]],w[I[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every(I=>I<=0)){var O,k;const I=(((O=s.flip)==null?void 0:O.index)||0)+1,D=x[I];if(D)return{data:{index:I,overflows:T},reset:{placement:D}};let N=(k=T.filter(R=>R.overflows[0]<=0).sort((R,F)=>R.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!N)switch(h){case"bestFit":{var A;const R=(A=T.map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,H)=>j+H,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:A[0];R&&(N=R);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function wT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ET(e){return wle.some(t=>e[t]>=0)}const Nle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Po(e,t);switch(r){case"referenceHidden":{const s=await $f(t,{...i,elementContext:"reference"}),o=wT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ET(o)}}}case"escaped":{const s=await $f(t,{...i,altBoundary:!0}),o=wT(s,n.floating);return{data:{escapedOffsets:o,escaped:ET(o)}}}default:return{}}}}};async function Dle(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=No(n),a=_d(n),l=yd(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Po(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Lle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await Dle(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},Fle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:y,y:b}=_;return{x:y,y:b}}},...l}=Po(e,t),c={x:n,y:r},u=await $f(t,l),d=yd(No(i)),f=Fw(d);let h=c[f],m=c[d];if(s){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=h+u[_],C=h-u[y];h=k6(b,h,C)}if(o){const _=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=m+u[_],C=m-u[y];m=k6(b,m,C)}const v=a.fn({...t,[f]:h,[d]:m});return{...v,data:{x:v.x-n,y:v.y-r}}}}},jle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Po(e,t),u={x:n,y:r},d=yd(i),f=Fw(d);let h=u[f],m=u[d];const v=Po(a,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const C=f==="y"?"height":"width",S=s.reference[f]-s.floating[C]+_.mainAxis,x=s.reference[f]+s.reference[C]-_.mainAxis;h<S?h=S:h>x&&(h=x)}if(c){var y,b;const C=f==="y"?"width":"height",S=["top","left"].includes(No(i)),x=s.reference[d]-s.floating[C]+(S&&((y=o.offset)==null?void 0:y[d])||0)+(S?0:_.crossAxis),w=s.reference[d]+s.reference[C]+(S?0:((b=o.offset)==null?void 0:b[d])||0)-(S?_.crossAxis:0);m<x?m=x:m>w&&(m=w)}return{[f]:h,[d]:m}}}},Ble=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=Po(e,t),l=await $f(t,a),c=No(n),u=_d(n),d=yd(n)==="y",{width:f,height:h}=r.floating;let m,v;c==="top"||c==="bottom"?(m=c,v=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,m=u==="end"?"top":"bottom");const _=h-l[m],y=f-l[v],b=!t.middlewareData.shift;let C=_,S=y;if(d){const w=f-l.left-l.right;S=u||b?ja(y,w):w}else{const w=h-l.top-l.bottom;C=u||b?ja(_,w):w}if(b&&!u){const w=ni(l.left,0),E=ni(l.right,0),T=ni(l.top,0),O=ni(l.bottom,0);d?S=f-2*(w!==0||E!==0?w+E:ni(l.left,l.right)):C=h-2*(T!==0||O!==0?T+O:ni(l.top,l.bottom))}await o({...t,availableWidth:S,availableHeight:C});const x=await i.getDimensions(s.floating);return f!==x.width||h!==x.height?{reset:{rects:!0}}:{}}}};function r0(){return typeof window<"u"}function bd(e){return XB(e)?(e.nodeName||"").toLowerCase():"#document"}function ai(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zs(e){var t;return(t=(XB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function XB(e){return r0()?e instanceof Node||e instanceof ai(e).Node:!1}function us(e){return r0()?e instanceof Element||e instanceof ai(e).Element:!1}function Vs(e){return r0()?e instanceof HTMLElement||e instanceof ai(e).HTMLElement:!1}function xT(e){return!r0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ai(e).ShadowRoot}function Dh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Ule(e){return["table","td","th"].includes(bd(e))}function i0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Uw(e){const t=qw(),n=us(e)?ds(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qle(e){let t=Ua(e);for(;Vs(t)&&!Qu(t);){if(Uw(t))return t;if(i0(t))return null;t=Ua(t)}return null}function qw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qu(e){return["html","body","#document"].includes(bd(e))}function ds(e){return ai(e).getComputedStyle(e)}function s0(e){return us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ua(e){if(bd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xT(e)&&e.host||Zs(e);return xT(t)?t.host:t}function eU(e){const t=Ua(e);return Qu(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vs(t)&&Dh(t)?t:eU(t)}function Wf(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=eU(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=ai(i);if(s){const a=O6(o);return t.concat(o,o.visualViewport||[],Dh(i)?i:[],a&&n?Wf(a):[])}return t.concat(i,Wf(i,[],n))}function O6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tU(e){const t=ds(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Vs(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=m1(n)!==s||m1(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function zw(e){return us(e)?e:e.contextElement}function Iu(e){const t=zw(e);if(!Vs(t))return Ba(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=tU(t);let o=(s?m1(n.width):n.width)/r,a=(s?m1(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const zle=Ba(0);function nU(e){const t=ai(e);return!qw()||!t.visualViewport?zle:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gle(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ai(e)?!1:t}function sc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=zw(e);let o=Ba(1);t&&(r?us(r)&&(o=Iu(r)):o=Iu(e));const a=Gle(s,n,r)?nU(s):Ba(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=ai(s),h=r&&us(r)?ai(r):r;let m=f,v=O6(m);for(;v&&r&&h!==m;){const _=Iu(v),y=v.getBoundingClientRect(),b=ds(v),C=y.left+(v.clientLeft+parseFloat(b.paddingLeft))*_.x,S=y.top+(v.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=C,c+=S,m=ai(v),v=O6(m)}}return v1({width:u,height:d,x:l,y:c})}function Hle(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=Zs(r),a=t?i0(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ba(1);const u=Ba(0),d=Vs(r);if((d||!d&&!s)&&((bd(r)!=="body"||Dh(o))&&(l=s0(r)),Vs(r))){const f=sc(r);c=Iu(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function Vle(e){return Array.from(e.getClientRects())}function A6(e,t){const n=s0(e).scrollLeft;return t?t.left+n:sc(Zs(e)).left+n}function $le(e){const t=Zs(e),n=s0(e),r=e.ownerDocument.body,i=ni(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=ni(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+A6(e);const a=-n.scrollTop;return ds(r).direction==="rtl"&&(o+=ni(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Wle(e,t){const n=ai(e),r=Zs(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=qw();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Kle(e,t){const n=sc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Vs(e)?Iu(e):Ba(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function kT(e,t,n){let r;if(t==="viewport")r=Wle(e,n);else if(t==="document")r=$le(Zs(e));else if(us(t))r=Kle(t,n);else{const i=nU(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return v1(r)}function rU(e,t){const n=Ua(e);return n===t||!us(n)||Qu(n)?!1:ds(n).position==="fixed"||rU(n,t)}function Yle(e,t){const n=t.get(e);if(n)return n;let r=Wf(e,[],!1).filter(a=>us(a)&&bd(a)!=="body"),i=null;const s=ds(e).position==="fixed";let o=s?Ua(e):e;for(;us(o)&&!Qu(o);){const a=ds(o),l=Uw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Dh(o)&&!l&&rU(e,o))?r=r.filter(u=>u!==o):i=a,o=Ua(o)}return t.set(e,r),r}function Zle(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?i0(t)?[]:Yle(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=kT(t,u,i);return c.top=ni(d.top,c.top),c.right=ja(d.right,c.right),c.bottom=ja(d.bottom,c.bottom),c.left=ni(d.left,c.left),c},kT(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jle(e){const{width:t,height:n}=tU(e);return{width:t,height:n}}function Qle(e,t,n){const r=Vs(t),i=Zs(t),s=n==="fixed",o=sc(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Ba(0);if(r||!r&&!s)if((bd(t)!=="body"||Dh(i))&&(a=s0(t)),r){const h=sc(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=A6(i));let c=0,u=0;if(i&&!r&&!s){const h=i.getBoundingClientRect();u=h.top+a.scrollTop,c=h.left+a.scrollLeft-A6(i,h)}const d=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-u;return{x:d,y:f,width:o.width,height:o.height}}function Vy(e){return ds(e).position==="static"}function TT(e,t){if(!Vs(e)||ds(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zs(e)===n&&(n=n.ownerDocument.body),n}function iU(e,t){const n=ai(e);if(i0(e))return n;if(!Vs(e)){let i=Ua(e);for(;i&&!Qu(i);){if(us(i)&&!Vy(i))return i;i=Ua(i)}return n}let r=TT(e,t);for(;r&&Ule(r)&&Vy(r);)r=TT(r,t);return r&&Qu(r)&&Vy(r)&&!Uw(r)?n:r||qle(e)||n}const Xle=async function(e){const t=this.getOffsetParent||iU,n=this.getDimensions,r=await n(e.floating);return{reference:Qle(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ece(e){return ds(e).direction==="rtl"}const tce={convertOffsetParentRelativeRectToViewportRelativeRect:Hle,getDocumentElement:Zs,getClippingRect:Zle,getOffsetParent:iU,getElementRects:Xle,getClientRects:Vle,getDimensions:Jle,getScale:Iu,isElement:us,isRTL:ece};function nce(e,t){let n=null,r;const i=Zs(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=Up(u),m=Up(i.clientWidth-(c+d)),v=Up(i.clientHeight-(u+f)),_=Up(c),b={rootMargin:-h+"px "+-m+"px "+-v+"px "+-_+"px",threshold:ni(0,ja(1,l))||1};let C=!0;function S(x){const w=x[0].intersectionRatio;if(w!==l){if(!C)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(e)}return o(!0),s}function rce(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=zw(e),u=i||s?[...c?Wf(c):[],...Wf(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?nce(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=h)==null||C.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let m,v=l?sc(e):null;l&&_();function _(){const y=sc(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&n(),v=y,m=requestAnimationFrame(_)}return n(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d?.(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const ice=Lle,sce=Fle,oce=Ple,ace=Ble,lce=Nle,OT=Rle,cce=jle,uce=(e,t,n)=>{const r=new Map,i={platform:tce,...n},s={...i.platform,_c:r};return Mle(e,t,{...i,platform:s})};var Em=typeof document<"u"?p.useLayoutEffect:p.useEffect;function _1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!_1(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!_1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function sU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function AT(e,t){const n=sU(e);return Math.round(t*n)/n}function $y(e){const t=p.useRef(e);return Em(()=>{t.current=e}),t}function dce(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=p.useState(r);_1(f,r)||h(r);const[m,v]=p.useState(null),[_,y]=p.useState(null),b=p.useCallback(H=>{H!==w.current&&(w.current=H,v(H))},[]),C=p.useCallback(H=>{H!==E.current&&(E.current=H,y(H))},[]),S=s||m,x=o||_,w=p.useRef(null),E=p.useRef(null),T=p.useRef(u),O=l!=null,k=$y(l),A=$y(i),I=$y(c),D=p.useCallback(()=>{if(!w.current||!E.current)return;const H={placement:t,strategy:n,middleware:f};A.current&&(H.platform=A.current),uce(w.current,E.current,H).then(U=>{const M={...U,isPositioned:I.current!==!1};N.current&&!_1(T.current,M)&&(T.current=M,HS.flushSync(()=>{d(M)}))})},[f,t,n,A,I]);Em(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(H=>({...H,isPositioned:!1})))},[c]);const N=p.useRef(!1);Em(()=>(N.current=!0,()=>{N.current=!1}),[]),Em(()=>{if(S&&(w.current=S),x&&(E.current=x),S&&x){if(k.current)return k.current(S,x,D);D()}},[S,x,D,k,O]);const R=p.useMemo(()=>({reference:w,floating:E,setReference:b,setFloating:C}),[b,C]),F=p.useMemo(()=>({reference:S,floating:x}),[S,x]),j=p.useMemo(()=>{const H={position:n,left:0,top:0};if(!F.floating)return H;const U=AT(F.floating,u.x),M=AT(F.floating,u.y);return a?{...H,transform:"translate("+U+"px, "+M+"px)",...sU(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:M}},[n,a,F.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:D,refs:R,elements:F,floatingStyles:j}),[u,D,R,F,j])}const fce=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?OT({element:r.current,padding:i}).fn(n):{}:r?OT({element:r,padding:i}).fn(n):{}}}},hce=(e,t)=>({...ice(e),options:[e,t]}),pce=(e,t)=>({...sce(e),options:[e,t]}),mce=(e,t)=>({...cce(e),options:[e,t]}),gce=(e,t)=>({...oce(e),options:[e,t]}),vce=(e,t)=>({...ace(e),options:[e,t]}),_ce=(e,t)=>({...lce(e),options:[e,t]}),yce=(e,t)=>({...fce(e),options:[e,t]});var bce="Arrow",oU=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return g.jsx(Kt.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});oU.displayName=bce;var Cce=oU,Gw="Popper",[aU,o0]=Rw(Gw),[Sce,lU]=aU(Gw),cU=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return g.jsx(Sce,{scope:t,anchor:r,onAnchorChange:i,children:n})};cU.displayName=Gw;var uU="PopperAnchor",dU=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=lU(uU,n),o=p.useRef(null),a=An(t,o);return p.useEffect(()=>{s.onAnchorChange(r?.current||o.current)}),r?null:g.jsx(Kt.div,{...i,ref:a})});dU.displayName=uU;var Hw="PopperContent",[wce,Ece]=aU(Hw),fU=p.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...v}=e,_=lU(Hw,n),[y,b]=p.useState(null),C=An(t,ue=>b(ue)),[S,x]=p.useState(null),w=bB(S),E=w?.width??0,T=w?.height??0,O=r+(s!=="center"?"-"+s:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(c)?c:[c],I=A.length>0,D={padding:k,boundary:A.filter(kce),altBoundary:I},{refs:N,floatingStyles:R,placement:F,isPositioned:j,middlewareData:H}=dce({strategy:"fixed",placement:O,whileElementsMounted:(...ue)=>rce(...ue,{animationFrame:h==="always"}),elements:{reference:_.anchor},middleware:[hce({mainAxis:i+T,alignmentAxis:o}),l&&pce({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?mce():void 0,...D}),l&&gce({...D}),vce({...D,apply:({elements:ue,rects:te,availableWidth:xe,availableHeight:oe})=>{const{width:fe,height:le}=te.reference,we=ue.floating.style;we.setProperty("--radix-popper-available-width",`${xe}px`),we.setProperty("--radix-popper-available-height",`${oe}px`),we.setProperty("--radix-popper-anchor-width",`${fe}px`),we.setProperty("--radix-popper-anchor-height",`${le}px`)}}),S&&yce({element:S,padding:a}),Tce({arrowWidth:E,arrowHeight:T}),f&&_ce({strategy:"referenceHidden",...D})]}),[U,M]=mU(F),me=Ri(m);tc(()=>{j&&me?.()},[j,me]);const de=H.arrow?.x,P=H.arrow?.y,Ce=H.arrow?.centerOffset!==0,[Se,ne]=p.useState();return tc(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),g.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:j?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(wce,{scope:n,placedSide:U,onArrowChange:x,arrowX:de,arrowY:P,shouldHideArrow:Ce,children:g.jsx(Kt.div,{"data-side":U,"data-align":M,...v,ref:C,style:{...v.style,animation:j?void 0:"none"}})})})});fU.displayName=Hw;var hU="PopperArrow",xce={top:"bottom",right:"left",bottom:"top",left:"right"},pU=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=Ece(hU,r),o=xce[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(Cce,{...i,ref:n,style:{...i.style,display:"block"}})})});pU.displayName=hU;function kce(e){return e!==null}var Tce=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=mU(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(i.arrow?.x??0)+a/2,h=(i.arrow?.y??0)+l/2;let m="",v="";return c==="bottom"?(m=o?d:`${f}px`,v=`${-l}px`):c==="top"?(m=o?d:`${f}px`,v=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,v=o?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,v=o?d:`${h}px`),{data:{x:m,y:v}}}});function mU(e){const[t,n="center"]=e.split("-");return[t,n]}var Vw=cU,gU=dU,vU=fU,_U=pU,[a0,vDe]=pd("Tooltip",[o0]),l0=o0(),yU="TooltipProvider",Oce=700,I6="tooltip.open",[Ace,$w]=a0(yU),bU=e=>{const{__scopeTooltip:t,delayDuration:n=Oce,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[o,a]=p.useState(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx(Ace,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};bU.displayName=yU;var c0="Tooltip",[Ice,Lh]=a0(c0),CU=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=e,l=$w(c0,e.__scopeTooltip),c=l0(t),[u,d]=p.useState(null),f=zs(),h=p.useRef(0),m=o??l.disableHoverableContent,v=a??l.delayDuration,_=p.useRef(!1),[y=!1,b]=gc({prop:r,defaultProp:i,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(I6))):l.onClose(),s?.(E)}}),C=p.useMemo(()=>y?_.current?"delayed-open":"instant-open":"closed",[y]),S=p.useCallback(()=>{window.clearTimeout(h.current),h.current=0,_.current=!1,b(!0)},[b]),x=p.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),w=p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{_.current=!0,b(!0),h.current=0},v)},[v,b]);return p.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),g.jsx(Vw,{...c,children:g.jsx(Ice,{scope:t,contentId:f,open:y,stateAttribute:C,trigger:u,onTriggerChange:d,onTriggerEnter:p.useCallback(()=>{l.isOpenDelayed?w():S()},[l.isOpenDelayed,w,S]),onTriggerLeave:p.useCallback(()=>{m?x():(window.clearTimeout(h.current),h.current=0)},[x,m]),onOpen:S,onClose:x,disableHoverableContent:m,children:n})})};CU.displayName=c0;var M6="TooltipTrigger",SU=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Lh(M6,n),s=$w(M6,n),o=l0(n),a=p.useRef(null),l=An(t,a,i.onTriggerChange),c=p.useRef(!1),u=p.useRef(!1),d=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),g.jsx(gU,{asChild:!0,...o,children:g.jsx(Kt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:et(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:et(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:et(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:et(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:et(e.onBlur,i.onClose),onClick:et(e.onClick,i.onClose)})})});SU.displayName=M6;var Ww="TooltipPortal",[Mce,Rce]=a0(Ww,{forceMount:void 0}),wU=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=Lh(Ww,t);return g.jsx(Mce,{scope:t,forceMount:n,children:g.jsx(ys,{present:n||s.open,children:g.jsx(Oh,{asChild:!0,container:i,children:r})})})};wU.displayName=Ww;var Xu="TooltipContent",EU=p.forwardRef((e,t)=>{const n=Rce(Xu,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,o=Lh(Xu,e.__scopeTooltip);return g.jsx(ys,{present:r||o.open,children:o.disableHoverableContent?g.jsx(xU,{side:i,...s,ref:t}):g.jsx(Pce,{side:i,...s,ref:t})})}),Pce=p.forwardRef((e,t)=>{const n=Lh(Xu,e.__scopeTooltip),r=$w(Xu,e.__scopeTooltip),i=p.useRef(null),s=An(t,i),[o,a]=p.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,f=p.useCallback(()=>{a(null),d(!1)},[d]),h=p.useCallback((m,v)=>{const _=m.currentTarget,y={x:m.clientX,y:m.clientY},b=Lce(y,_.getBoundingClientRect()),C=Fce(y,b),S=jce(v.getBoundingClientRect()),x=Uce([...C,...S]);a(x),d(!0)},[d]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(l&&u){const m=_=>h(_,u),v=_=>h(_,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",v)}}},[l,u,h,f]),p.useEffect(()=>{if(o){const m=v=>{const _=v.target,y={x:v.clientX,y:v.clientY},b=l?.contains(_)||u?.contains(_),C=!Bce(y,o);b?f():C&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,f]),g.jsx(xU,{...e,ref:s})}),[Nce,Dce]=a0(c0,{isInside:!1}),xU=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=e,l=Lh(Xu,n),c=l0(n),{onClose:u}=l;return p.useEffect(()=>(document.addEventListener(I6,u),()=>document.removeEventListener(I6,u)),[u]),p.useEffect(()=>{if(l.trigger){const d=f=>{f.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),g.jsx(Th,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:g.jsxs(vU,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(dF,{children:r}),g.jsx(Nce,{scope:n,isInside:!0,children:g.jsx(Mte,{id:l.contentId,role:"tooltip",children:i||r})})]})})});EU.displayName=Xu;var kU="TooltipArrow",TU=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=l0(n);return Dce(kU,n).isInside?null:g.jsx(_U,{...i,...r,ref:t})});TU.displayName=kU;function Lce(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Fce(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function jce(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Bce(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,l=t[s].y,c=t[o].x,u=t[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Uce(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qce(t)}function qce(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var zce=bU,Gce=CU,Hce=SU,Vce=wU,$ce=EU,Wce=TU;function OU(e,t){const n=p.useLayoutEffect;n(e,t)}const Kce=()=>document?.body??null,AU=p.createContext(Kce);function _De(e){"use forget";const t=Re.c(17),{children:n,className:r,open:i,onClose:s,closedBy:o}=e,a=p.useRef(null);let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>a.current,t[0]=l):l=t[0];const c=l;let u,d;t[1]!==i?(u=()=>{const C=a.current;if(!(!i||!C))return i==="modal"?C.showModal():C.show(),()=>{C.close()}},d=[i],t[1]=i,t[2]=u,t[3]=d):(u=t[2],d=t[3]),p.useEffect(u,d);let f;t[4]!==s?(f=C=>{C.target===C.currentTarget&&s?.()},t[4]=s,t[5]=f):f=t[5];const h=f;let m;t[6]!==o||t[7]!==s?(m=C=>{o&&["any","closerequest"].includes(o)&&C.key==="Escape"&&s?.()},t[6]=o,t[7]=s,t[8]=m):m=t[8];const v=m,_=i===!0;let y;t[9]!==n?(y=g.jsx(AU,{value:c,children:n}),t[9]=n,t[10]=y):y=t[10];let b;return t[11]!==r||t[12]!==h||t[13]!==v||t[14]!==_||t[15]!==y?(b=g.jsx("dialog",{className:r,open:_,ref:a,onClick:h,onKeyUp:v,children:y}),t[11]=r,t[12]=h,t[13]=v,t[14]=_,t[15]=y,t[16]=b):b=t[16],b}function IU(){"use forget";const e=Re.c(7),[t,n]=p.useState(null),r=p.use(AU);let i;e[0]!==r?(i=r(),e[0]=r,e[1]=i):i=e[1];const s=i;let o,a;e[2]!==s?(o=()=>{n(s)},a=[s],e[2]=s,e[3]=o,e[4]=a):(o=e[3],a=e[4]),OU(o,a);let l;return e[5]!==t?(l=t!=null?{container:t}:{},e[5]=t,e[6]=l):l=e[6],l}const pi=e=>{"use forget";const t=Re.c(69),{ariaLive:n,triggerAs:r,disabled:i,label:s,secondaryLabel:o,contentClassName:a,customPaddingClassName:l,customBorderClassName:c,customBackgroundColorClassName:u,theme:d,cornerRadius:f,side:h,sideOffset:m,align:v,alignOffset:_,withArrow:y,wide:b,interactive:C,usePortal:S,className:x,children:w,delayDuration:E,closeOnOutsideClick:T,open:O,onOpenChange:k,onDismissClick:A,isLeftArrow:I,labelTextAlign:D,ignoreTriggerOnOutsideClick:N,labelOrientation:R,defaultOpen:F,labelClassName:j}=e,H=r===void 0?"span":r,U=d===void 0?"default":d,M=f===void 0?"lg":f,me=h===void 0?"bottom":h,de=m===void 0?8:m,P=v===void 0?"center":v,Ce=_===void 0?0:_,Se=y===void 0?!1:y,ne=b===void 0?!1:b,ue=C===void 0?!1:C,te=S===void 0?!0:S,xe=E===void 0?0:E,oe=T===void 0?!0:T,fe=I===void 0?!1:I,le=D===void 0?"center":D,we=N===void 0?!1:N,Xe=R===void 0?"vertical":R,ce=F===void 0?!1:F,J=yt(),Y=p.useRef(null);if(i){let gn;return t[0]!==w?(gn=g.jsx(g.Fragment,{children:w}),t[0]=w,t[1]=gn):gn=t[1],gn}if(!s){let gn;return t[2]!==H||t[3]!==w||t[4]!==x?(gn=H?g.jsx(H,{className:x,children:w}):w,t[2]=H,t[3]=w,t[4]=x,t[5]=gn):gn=t[5],gn}let _e;e:switch(U){case"white":{_e="light bg-white";break e}case"primary":{_e="bg-token-main-surface-primary";break e}case"default":_e="dark bg-black"}u!=null&&(_e=u);const re=le==="left"?"text-start":"text-center";let W;t[6]!==oe||t[7]!==we?(W=oe?we?gn=>{Y.current?.contains(gn.target)&&gn.preventDefault()}:void 0:iue,t[6]=oe,t[7]=we,t[8]=W):W=t[8];const B=l??"px-2 py-1",Ie=U==="white"&&"shadow-xs",Te=`rounded-${M}`,X=!Se&&"overflow-hidden",L=ne?"max-w-sm":"max-w-xs";let G;t[9]!==_e||t[10]!==a||t[11]!==c||t[12]!==B||t[13]!==Ie||t[14]!==Te||t[15]!==X||t[16]!==L?(G=ke("relative z-50 transition-opacity select-none",B,Ie,Te,X,c,_e,L,a),t[9]=_e,t[10]=a,t[11]=c,t[12]=B,t[13]=Ie,t[14]=Te,t[15]=X,t[16]=L,t[17]=G):G=t[17];const $=Xe==="horizontal"?"flex gap-2":void 0;let se;t[18]!==j||t[19]!==re?(se=ke("text-token-text-primary text-xs font-semibold whitespace-pre-wrap",re,j),t[18]=j,t[19]=re,t[20]=se):se=t[20];let Me;t[21]!==s||t[22]!==se?(Me=g.jsx("div",{className:se,children:s}),t[21]=s,t[22]=se,t[23]=Me):Me=t[23];let it;t[24]!==o||t[25]!==re?(it=o&&g.jsx("div",{className:ke("text-token-text-tertiary text-xs font-medium whitespace-pre-wrap",re),children:o}),t[24]=o,t[25]=re,t[26]=it):it=t[26];let ht;t[27]!==_e||t[28]!==fe||t[29]!==Se?(ht=Se&&g.jsx(Wce,{asChild:!0,children:fe?g.jsx(Jce,{className:_e}):g.jsx(Zce,{className:_e})}),t[27]=_e,t[28]=fe,t[29]=Se,t[30]=ht):ht=t[30];let at;t[31]!==$||t[32]!==Me||t[33]!==it||t[34]!==ht?(at=g.jsxs("div",{className:$,children:[Me,it,ht]}),t[31]=$,t[32]=Me,t[33]=it,t[34]=ht,t[35]=at):at=t[35];let nt;t[36]!==J||t[37]!==A?(nt=A&&g.jsx(UF,{role:"button","aria-label":J.formatMessage(Qce.dismissTooltip),tabIndex:0,className:"icon -me-1 cursor-pointer text-gray-400",onClick:A}),t[36]=J,t[37]=A,t[38]=nt):nt=t[38];let St;t[39]!==at||t[40]!==nt?(St=g.jsxs("div",{className:"flex items-center gap-1",children:[at,nt]}),t[39]=at,t[40]=nt,t[41]=St):St=t[41];let Tt;t[42]!==P||t[43]!==Ce||t[44]!==n||t[45]!==me||t[46]!==de||t[47]!==W||t[48]!==G||t[49]!==St?(Tt=g.jsx($ce,{onEscapeKeyDown:rue,collisionPadding:8,onPointerDownOutside:W,"aria-live":n,side:me,sideOffset:de,alignOffset:Ce,align:P,className:G,children:St}),t[42]=P,t[43]=Ce,t[44]=n,t[45]=me,t[46]=de,t[47]=W,t[48]=G,t[49]=St,t[50]=Tt):Tt=t[50];const Pt=Tt,gt=!ue,yn=we?sue:void 0;let Mn;t[51]!==H||t[52]!==w||t[53]!==x?(Mn=H?g.jsx(Xce,{as:H,className:x,children:w}):w,t[51]=H,t[52]=w,t[53]=x,t[54]=Mn):Mn=t[54];let Rn;t[55]!==yn||t[56]!==Mn?(Rn=g.jsx(Hce,{asChild:!0,ref:Y,onClick:yn,children:Mn}),t[55]=yn,t[56]=Mn,t[57]=Rn):Rn=t[57];let zt;t[58]!==Pt||t[59]!==te?(zt=te?g.jsx(Yce,{children:g.jsx(IT,{children:Pt})}):g.jsx(IT,{children:Pt}),t[58]=Pt,t[59]=te,t[60]=zt):zt=t[60];let Di;return t[61]!==ce||t[62]!==xe||t[63]!==k||t[64]!==O||t[65]!==gt||t[66]!==Rn||t[67]!==zt?(Di=g.jsxs(Gce,{delayDuration:xe,disableHoverableContent:gt,defaultOpen:ce,open:O,onOpenChange:k,children:[Rn,zt]}),t[61]=ce,t[62]=xe,t[63]=k,t[64]=O,t[65]=gt,t[66]=Rn,t[67]=zt,t[68]=Di):Di=t[68],Di};function Yce(e){"use forget";const t=Re.c(3),{children:n}=e,r=IU();let i;return t[0]!==n||t[1]!==r?(i=g.jsx(Vce,{...r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}const Zce=el.div`relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10`,Jce=el.div`relative top-[-4px] end-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10`,Qce=It({dismissTooltip:{id:"Tooltip.dismissTooltip",defaultMessage:"Close Tooltip"}}),Xce=e=>{"use forget";const t=Re.c(15);let n,r,i;if(t[0]!==e?({as:n,children:r,...i}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]),!p.isValidElement(r)){let l;return t[4]!==n||t[5]!==r||t[6]!==i?(l=g.jsx(n,{...i,children:r}),t[4]=n,t[5]=r,t[6]=i,t[7]=l):l=t[7],l}const s=i["aria-describedby"];let o;t[8]!==r||t[9]!==s?(o=g.jsx(JB,{"aria-describedby":s,children:r}),t[8]=r,t[9]=s,t[10]=o):o=t[10];let a;return t[11]!==n||t[12]!==i||t[13]!==o?(a=g.jsx(n,{...i,onFocusCapture:i.onFocus,children:o}),t[11]=n,t[12]=i,t[13]=o,t[14]=a):a=t[14],a},y1=p.createContext(!1),IT=e=>{"use forget";const t=Re.c(5),{children:n}=e,i=p.use(y1)&&"sr-only!";let s;t[0]!==i?(s=ke(i),t[0]=i,t[1]=s):s=t[1];let o;return t[2]!==n||t[3]!==s?(o=g.jsx(JB,{className:s,children:n}),t[2]=n,t[3]=s,t[4]=o):o=t[4],o},eue=({children:e})=>g.jsx(y1.Provider,{value:!1,children:e}),tue=e=>{"use forget";const t=Re.c(6),{children:n}=e,r=p.use(y1),[i,s]=p.useState(!1);let o;t[0]!==r||t[1]!==n?(o=r?n:p.cloneElement(n,{onOpenChange:d=>{s(d),n.props.onOpenChange?.(d)}}),t[0]=r,t[1]=n,t[2]=o):o=t[2];const a=o,l=n.props.open??i,c=r===!0||l;let u;return t[3]!==a||t[4]!==c?(u=g.jsx(y1.Provider,{value:c,children:a}),t[3]=a,t[4]=c,t[5]=u):u=t[5],u};function nue(){document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))}function rue(e){e.preventDefault(),e.stopPropagation(),queueMicrotask(nue)}function iue(e){return e.preventDefault()}function sue(e){e.preventDefault()}var Fh=(e=>(e.General="General",e.Notifications="Notifications",e.Personalization="Personalization",e.Connectors="Connectors",e.DataControls="DataControls",e.Schedules="Schedules",e.Orders="Orders",e.Security="Security",e.AmphoraControls="AmphoraControls",e.Account="Account",e.Internal="Internal",e))(Fh||{});function oue(e){return e.startsWith("#settings")}function yDe(e){return e.startsWith("#settings/Account")}function bDe(e){if(!oue(e))return null;const t=e.split("?")[0].split("/")[1];if(Object.values(Fh).includes(t))return t;switch(t){case"Subscription":case"BuilderProfile":case"Referrals":return"Account";case"ConnectorSettings":return"Connectors";case"SecureSignIn":return"Security";case"Record":return"Personalization"}return"General"}function CDe(e){return{hash:e&&e!=="General"?`settings/${e}`:"settings"}}const SDe=e=>g.jsx(Uo,{as:jae,fillContainer:!0,...e});function wDe({value:e,children:t}){return g.jsx(Bae,{className:"text-token-text-primary relative flex max-h-[calc(100vh-150px)] w-full flex-col overflow-y-auto px-4 text-sm md:min-h-[380px]",value:e,children:t})}const aue=({title:e,description:t,learnMoreHref:n,children:r,noBorder:i=!1,headerTrailingContent:s})=>{let o;return e&&(o=g.jsx("div",{className:"truncate select-none",children:e}),n&&(o=g.jsxs("div",{className:"flex items-center gap-2",children:[o,g.jsx(pi,{label:g.jsx(ve,{id:"WbGW2C",defaultMessage:"Learn more"}),contentClassName:"touch:hidden",side:"right",triggerAs:null,children:g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-token-text-tertiary not-touch:mt-0.5 flex shrink-0 items-center gap-1 text-sm",children:g.jsx(oae,{className:"icon-sm"})})})]})),s&&(o=g.jsxs("div",{className:"flex items-center justify-between",children:[o,s]})),o=g.jsx("div",{className:ke("min-h-header-height flex items-center justify-between py-3",!i&&"border-token-border-default border-b"),children:g.jsxs("h3",{className:"w-full text-lg font-normal",children:[o,t&&g.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:t})]})})),g.jsxs("section",{className:"relative mb-4 not-has-[>div,>section,>h1,>h2,>h3,>h4,>h5,>h6]:hidden",children:[o,r]})};function lue({children:e}){return g.jsx("div",{className:"border-token-border-light flex min-h-15 items-center border-b py-2 last-of-type:border-none",children:g.jsx("div",{className:"w-full",children:e})})}const R6=el.div`text-xs text-token-text-tertiary pe-12 my-1`;function EDe({label:e,disabled:t,enabled:n,onChange:r,description:i,toggleTooltip:s,isLoading:o=!1,testId:a,compactDescription:l=!1,centerToggleVertically:c=!1,showAlphaPill:u=!1,ariaLabel:d}){const f=typeof e=="string"?e:d,h=f?{"aria-label":f}:{"aria-hidden":!0},m=g.jsx(xB,{disabled:t,checked:n,onCheckedChange:r,size:"normal","data-testid":a,...h}),v=s?g.jsx(pi,{label:s,side:"top",children:m}):m;return c?g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&g.jsx(bT,{})]}),i!=null&&g.jsx(R6,{className:l?"mt-0.5":void 0,children:i})]}),g.jsx("div",{className:"flex items-center",children:o?g.jsx(Bf,{}):v})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&g.jsx(bT,{})]}),o?g.jsx(Bf,{}):v]}),i!=null&&g.jsx(R6,{className:l?"mt-0.5":void 0,children:i})]})}function xDe({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:i,description:s,testId:o}){const a=s?"items-start":"items-center";return g.jsxs("div",{className:ke("flex",a,"justify-between"),children:[g.jsxs("div",{children:[g.jsx("div",{children:n}),s!=null&&g.jsx(R6,{children:s})]}),g.jsx(un,{className:"shrink-0",color:e,disabled:!!t,onClick:i,"data-testid":o,children:r})]})}function kDe({onClick:e,label:t,stateLabel:n,testId:r}){return g.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{children:t}),g.jsxs("div",{className:"text-token-text-secondary flex min-h-[38px] items-center",children:[n&&g.jsx("div",{className:"me-1 flex items-center",children:n}),g.jsx(vB,{className:"icon-sm"})]})]})})}function TDe(e){return he.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}}})}const cue=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M8 9.7998C8.4233 9.79984 8.76645 10.1431 8.7666 10.5664C8.7666 10.9898 8.42339 11.333 8 11.333C7.57658 11.333 7.2334 10.9898 7.2334 10.5664C7.23355 10.1431 7.57667 9.7998 8 9.7998Z"}),p.createElement("path",{d:"M8 4.66602C8.36808 4.66602 8.66681 4.96497 8.66699 5.33301V8C8.66682 8.36804 8.36808 8.66602 8 8.66602C7.63192 8.66602 7.33318 8.36804 7.33301 8V5.33301C7.33319 4.96497 7.63192 4.66602 8 4.66602Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.33301C11.6819 1.33301 14.667 4.3181 14.667 8C14.667 11.6819 11.6819 14.667 8 14.667C4.3181 14.667 1.33301 11.6819 1.33301 8C1.33301 4.3181 4.3181 1.33301 8 1.33301ZM8 2.66699C5.05448 2.66699 2.66699 5.05448 2.66699 8C2.66699 10.9455 5.05448 13.333 8 13.333C10.9455 13.333 13.333 10.9455 13.333 8C13.333 5.05448 10.9455 2.66699 8 2.66699Z"}));function uue(e){"use forget";const t=Re.c(108);let n,r,i,s,o,a,l,c,u,d,f,h,m,v,_,y,b,C,S,x,w,E,T,O,k,A,I,D,N,R,F,j;t[0]!==e?({name:v,placeholder:T,type:F,role:k,list:h,ariaLabel:r,displayName:u,onChange:y,onFocus:b,onBlur:_,value:j,saveOnBlur:A,icon:n,iconPosition:D,onInputIconClick:C,className:a,inputClassName:d,containerInputClassName:l,autoComplete:s,autoCapitalize:i,spellCheck:I,autoFocus:o,onPressEnter:w,onPaste:x,disabled:c,maxLength:m,color:N,onKeyDown:S,suppressFocus:R,ref:O,insideContainerChildren:f,...E}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=f,t[12]=h,t[13]=m,t[14]=v,t[15]=_,t[16]=y,t[17]=b,t[18]=C,t[19]=S,t[20]=x,t[21]=w,t[22]=E,t[23]=T,t[24]=O,t[25]=k,t[26]=A,t[27]=I,t[28]=D,t[29]=N,t[30]=R,t[31]=F,t[32]=j):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],h=t[12],m=t[13],v=t[14],_=t[15],y=t[16],b=t[17],C=t[18],S=t[19],x=t[20],w=t[21],E=t[22],T=t[23],O=t[24],k=t[25],A=t[26],I=t[27],D=t[28],N=t[29],R=t[30],F=t[31],j=t[32]);const H=D===void 0?"right":D,U=N===void 0?"tertiary":N,M=R===void 0?!1:R,[me,de]=p.useState(j);let P;t[33]!==_||t[34]!==A?(P=nt=>{_?.(nt),A&&de(nt.target.value)},t[33]=_,t[34]=A,t[35]=P):P=t[35];const Ce=P;let Se;t[36]!==y||t[37]!==A?(Se=nt=>{y?.(nt),A&&de(nt.target.value)},t[36]=y,t[37]=A,t[38]=Se):Se=t[38];const ne=Se;let ue;t[39]!==me||t[40]!==S||t[41]!==w?(ue=nt=>{S?.(nt),!nt.nativeEvent.isComposing&&nt.key==="Enter"&&w&&(nt.preventDefault(),w(me,nt))},t[39]=me,t[40]=S,t[41]=w,t[42]=ue):ue=t[42];const te=ue;let xe,oe;t[43]!==j?(xe=()=>{de(j)},oe=[j],t[43]=j,t[44]=xe,t[45]=oe):(xe=t[44],oe=t[45]),p.useEffect(xe,oe);let fe;t[46]!==A||t[47]!==j?(fe=A?{}:{value:j},t[46]=A,t[47]=j,t[48]=fe):fe=t[48];let le;t[49]!==me||t[50]!==A?(le=A?{value:me}:{},t[49]=me,t[50]=A,t[51]=le):le=t[51];let we;t[52]!==le||t[53]!==fe?(we={...fe,...le},t[52]=le,t[53]=fe,t[54]=we):we=t[54];const Xe=we,ce=U==="neutral"&&(M?"-main-surface-tertiary hover:bg-token-main-surface-tertiary border-transparent px-3 py-2":"focus-within:bg-token-main-surface-tertiary hover:bg-token-main-surface-tertiary border-transparent px-3 py-2 focus-within:border-green-500 focus-within:ring-1 focus-within:ring-transparent"),J=U==="tertiary"&&(M?"border-token-border-medium px-3 py-2":"border-token-border-medium focus-within:border-token-border-xheavy focus-within:ring-token-text-secondary px-3 py-2 focus-within:ring-1"),Y=U==="search"&&(M?"border-token-border-medium bg-token-main-surface-primary dark:border-token-border-medium rounded-xl p-4":"border-token-border-medium bg-token-main-surface-primary focus-within:border-token-border-xheavy dark:border-token-border-medium dark:focus-within:border-token-border-xheavy rounded-xl p-4 focus-within:ring-0 dark:focus-within:ring-0"),_e=U==="quaternary"&&(M?"border-token-main-surface-quaternary text-token-text-quaternary px-3 py-2":"border-token-main-surface-quaternary text-token-text-quaternary focus-within:border-token-border-xheavy focus-within:ring-token-text-secondary px-3 py-2 focus-within:ring-1");let re;t[55]!==a||t[56]!==ce||t[57]!==J||t[58]!==Y||t[59]!==_e?(re=ke("rounded-md border shadow-none",ce,J,Y,_e,a),t[55]=a,t[56]=ce,t[57]=J,t[58]=Y,t[59]=_e,t[60]=re):re=t[60];let W;t[61]!==u||t[62]!==v?(W=g.jsx("label",{htmlFor:v,className:"text-token-text-primary block text-xs font-semibold",children:u}),t[61]=u,t[62]=v,t[63]=W):W=t[63];const B=u&&"mt-1";let Ie;t[64]!==l||t[65]!==B?(Ie=ke(B,"relative",l),t[64]=l,t[65]=B,t[66]=Ie):Ie=t[66];const Te=r||void 0,X=n!=null&&H==="right"&&"pe-6",L=n!=null&&H==="left"&&"ps-6",G=U==="neutral"||U==="search"?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary",$=U==="quaternary"?"placeholder:text-token-text-quaternary":"placeholder-gray-500";let se;t[67]!==d||t[68]!==X||t[69]!==L||t[70]!==G||t[71]!==$?(se=ke("block w-full border-0 p-0 shadow-none outline-hidden focus-within:shadow-none focus-within:ring-0 focus-within:outline-hidden focus:border-none focus:ring-0 sm:text-sm",X,L,G,$,d),t[67]=d,t[68]=X,t[69]=L,t[70]=G,t[71]=$,t[72]=se):se=t[72];let Me;t[73]!==Xe||t[74]!==i||t[75]!==s||t[76]!==o||t[77]!==c||t[78]!==Ce||t[79]!==ne||t[80]!==te||t[81]!==h||t[82]!==m||t[83]!==v||t[84]!==b||t[85]!==x||t[86]!==E||t[87]!==T||t[88]!==O||t[89]!==k||t[90]!==I||t[91]!==Te||t[92]!==se||t[93]!==F?(Me=g.jsx("input",{...E,ref:O,type:F,name:v,id:v,list:h,role:k,"aria-label":Te,onPaste:x,className:se,placeholder:T,onBlur:Ce,onFocus:b,onChange:ne,onKeyDown:te,autoComplete:s,spellCheck:I,autoCapitalize:i,autoFocus:o,disabled:c,maxLength:m,...Xe}),t[73]=Xe,t[74]=i,t[75]=s,t[76]=o,t[77]=c,t[78]=Ce,t[79]=ne,t[80]=te,t[81]=h,t[82]=m,t[83]=v,t[84]=b,t[85]=x,t[86]=E,t[87]=T,t[88]=O,t[89]=k,t[90]=I,t[91]=Te,t[92]=se,t[93]=F,t[94]=Me):Me=t[94];let it;t[95]!==n||t[96]!==H||t[97]!==C?(it=n!=null&&g.jsx("button",{className:ke("absolute top-1/2 -translate-y-1/2",{"end-0":H==="right","start-0":H==="left"}),onClick:C,children:g.jsx(n,{className:"icon-sm"})}),t[95]=n,t[96]=H,t[97]=C,t[98]=it):it=t[98];let ht;t[99]!==f||t[100]!==Ie||t[101]!==Me||t[102]!==it?(ht=g.jsxs("div",{className:Ie,children:[Me,it,f]}),t[99]=f,t[100]=Ie,t[101]=Me,t[102]=it,t[103]=ht):ht=t[103];let at;return t[104]!==re||t[105]!==W||t[106]!==ht?(at=g.jsxs("div",{className:re,children:[W,ht]}),t[104]=re,t[105]=W,t[106]=ht,t[107]=at):at=t[107],at}function MU(e){const t=yt();return g.jsxs("div",{className:"relative w-full",children:[g.jsx(uue,{...e,className:ke(e.className,e.error&&"border-red-500!")}),e.error&&g.jsxs("p",{className:ke("mt-1 flex items-center text-xs text-red-500",e.showErrorIcon&&"gap-1"),children:[e.showErrorIcon&&g.jsx(cue,{title:t.formatMessage({id:"FormField.errorIcon",defaultMessage:"Error"})}),e.error]})]})}var due={};async function RU(e){return he.safePost("/accounts/add_email/begin",{requestBody:{email:e,auth0_client_id:due.AUTH0_CLIENT_ID},authOption:tn.Required})}const li=It({sendEmailFailure:{id:"emailVerify.sendEmailFailure",defaultMessage:"Could not send email verification code, please try again later."},sendEmailFailureInvalidEmail:{id:"emailVerify.invalidEmail",defaultMessage:'The email address "{email}" is not formatted correctly.'},sendEmailFailureInvalidEmailEmpty:{id:"emailVerify.invalidEmailEmpty",defaultMessage:"Please enter a valid email address to continue."},sendEmailFailureRateLimited:{id:"emailVerify.sendEmailFailure.rateLimited",defaultMessage:"You've sent too many requests. Please try again later."},verifyOtpFailure:{id:"emailVerify.verifyOtpFailure",defaultMessage:"Something went wrong, please try again later."},verifyOtpFailureInvalidOtp:{id:"emailVerify.verifyOtpFailure.invalidOtp",defaultMessage:"The code you entered is invalid. Please try again."},verifyOtpFailureInvalidFormat:{id:"emailVerify.verifyOtpFailure.invalidFormat",defaultMessage:"The code you entered is formatted incorrectly."},verifyOtpFailureEmailAlreadyLinked:{id:"emailVerify.verifyOtpFailure.emailAlreadyLinked",defaultMessage:'{branch, select, email {"{emailValue}"} other {Your email}} is already linked to another account.'},verifyOtpFailureRateLimited:{id:"emailVerify.verifyOtpFailure.rateLimited",defaultMessage:"You've sent too many requests. Please try again later."},verifyOtpSuccess:{id:"emailVerify.verifyOtpSuccess",defaultMessage:"Email confirmed."}});class MT extends Error{constructor(t){super(t),this.name="EmailValidationError"}}const fue=(e,t)=>t.trim()===""?e.formatMessage(li.sendEmailFailureInvalidEmailEmpty):/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?null:e.formatMessage(li.sendEmailFailureInvalidEmail,{email:t}),PU=(e,t,n)=>{switch(n.status){case 429:throw new Error(e.formatMessage(li.sendEmailFailureRateLimited));case 403:throw new Error(e.formatMessage(li.verifyOtpFailureEmailAlreadyLinked,{branch:t?"email":"other",emailValue:t}));default:return}};function hue(e){const t=yt(),[n,r]=p.useState(null),i=Kn({mutationFn:async s=>{try{const o=fue(t,s);if(o)throw new MT(o);return await RU(s)}catch(o){throw o instanceof MT?o:(o instanceof mt&&PU(t,s,o),new Error(t.formatMessage(li.sendEmailFailure)))}},onSuccess:()=>{e.setStep("verifyOtp")},onError:s=>{r(s.message),K.logEventWithStatsig("Email Verify Enter Email Step - Error Sending Verification Email","chatgpt_email_verify_enter_email_step_error",{error:s.message})}});return p.useEffect(()=>{K.logEventWithStatsig("Email Verify Enter Email Step - Shown","chatgpt_email_verify_enter_email_step_shown")},[]),g.jsx("form",{onSubmit:s=>{s.preventDefault(),i.mutate(e.email),K.logEventWithStatsig("Email Verify Enter Email Step - Attempted Continue","chatgpt_email_verify_enter_email_step_continue")},noValidate:!0,children:g.jsxs("div",{className:"flex w-full flex-col items-center gap-3",children:[g.jsx("p",{className:"text-3xl font-semibold",children:e.title?e.title:g.jsx(ve,{id:"emailVerify.enterEmailTitle",defaultMessage:"Add your email"})}),e.description&&g.jsx("p",{className:"text-token-text-primary text-center text-base",children:e.description}),g.jsx(MU,{ariaLabel:t.formatMessage({id:"emailVerify.emailAddress",defaultMessage:"Email Address"}),placeholder:t.formatMessage({id:"emailVerify.emailAddressPlaceholder",defaultMessage:"Email Address"}),name:"email",type:"email",className:"mt-6 w-full",value:e.email,onChange:s=>{r(null),e.onEmailChange?.(s.target.value),K.logEventWithStatsig("Email Verify Enter Email Step - Typed","chatgpt_email_verify_enter_email_step_type")},autoFocus:!0,autoComplete:"email",error:n??void 0}),g.jsx(un,{className:"w-full rounded-md",color:"green",type:"submit",loading:i.isPending,disabled:i.isPending,children:g.jsx(ve,{id:"emailVerify.continue",defaultMessage:"Continue"})}),e.cancelFlowButton]})})}function NU(e){"use forget";const{children:t,fallback:n}=e,r=n===void 0?null:n;return Cg()?t:r}const RT=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M12.498 6.90887C12.7094 6.60867 13.1245 6.53642 13.4248 6.74774C13.7249 6.95913 13.7971 7.37424 13.5859 7.6745L9.62695 13.2995C9.51084 13.4644 9.32628 13.5681 9.125 13.5807C8.94863 13.5918 8.77583 13.5319 8.64453 13.4167L8.59082 13.364L6.50781 11.072L6.42773 10.9645C6.26956 10.6986 6.31486 10.3488 6.55273 10.1325C6.79045 9.91663 7.14198 9.9053 7.3916 10.0876L7.49219 10.1774L9.0166 11.8542L12.498 6.90887Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3333 2.08496C14.7046 2.08496 18.2483 5.62867 18.2483 10C18.2483 14.3713 14.7046 17.915 10.3333 17.915C5.96192 17.915 2.41821 14.3713 2.41821 10C2.41821 5.62867 5.96192 2.08496 10.3333 2.08496ZM10.3333 3.41504C6.69646 3.41504 3.74829 6.3632 3.74829 10C3.74829 13.6368 6.69646 16.585 10.3333 16.585C13.97 16.585 16.9182 13.6368 16.9182 10C16.9182 6.3632 13.97 3.41504 10.3333 3.41504Z"})),ed=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.0002 12.189C10.5523 12.1891 11 12.6369 11.0002 13.189C11.0002 13.7412 10.5524 14.1889 10.0002 14.189C9.44791 14.189 9.00019 13.7413 9.00019 13.189C9.00035 12.6368 9.44801 12.189 10.0002 12.189Z"}),p.createElement("path",{d:"M10.0002 7.02394C10.3673 7.02405 10.6651 7.32191 10.6652 7.68898V10.356C10.6651 10.723 10.3673 11.0209 10.0002 11.021C9.63303 11.021 9.33532 10.7231 9.33515 10.356V7.68898C9.33531 7.32184 9.63302 7.02394 10.0002 7.02394Z"}),p.createElement("path",{d:"M7.76484 3.14894C8.89036 1.56557 11.3015 1.61886 12.341 3.30812L18.6125 13.4995C19.7387 15.3305 18.4214 17.6879 16.2717 17.688H3.72871C1.57877 17.688 0.261434 15.3306 1.38789 13.4995L7.65937 3.30812L7.76484 3.14894ZM11.2082 4.00441C10.689 3.1609 9.50658 3.10813 8.90449 3.84621L8.79219 4.00441L2.5207 14.1958C1.93937 15.1408 2.61919 16.3579 3.72871 16.3579H16.2717C17.381 16.3578 18.0608 15.1407 17.4797 14.1958L11.2082 4.00441Z"})),ODe="https://help.openai.com/en/collections/3943089-billing",ADe="https://openai.com/chatgpt/enterprise",IDe="https://help.openai.com/en/articles/7905690-how-do-i-cancel-my-apple-subscription-for-chatgpt-plus-in-the-chatgpt-ios-app",MDe="https://help.openai.com/en/articles/8258076-how-to-cancel-my-plus-subscription-in-the-chatgpt-android-app",RDe="https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",PDe="https://help.openai.com/en/articles/11989085-chatgpt-go",DU="pricing",Kw="team-pricing",NDe="plus-pricing",pue="team-pricing-direct",LU="account-payment-modal-open-from-location",DDe={MOBILE_IOS:"chatgpt_mobile_ios",MOBILE_ANDROID:"chatgpt_mobile_android"};function LDe(e){return e.hash.split("#")[1]===DU}function FDe(e){return e.hash.split("#")[1]===Kw}function jDe(e){return e.hash.split("#")[1]===pue}function Yw(e,t,n=DU){e({hash:n,search:window.location.search},{state:{[LU]:t}})}function BDe(e){e({hash:""})}function UDe(){return _o.upgradeToGo}function mue(e){switch($t(e,"2788179050").get("plus_upsell_cta_copy","get_plus")){case"upgrade_to_plan":return _o.upgradeToPlus;case"upgrade_your_plan":return _o.upgradeYourPlan;case"upgrade":return _o.upgrade;case"get_plus":default:return _o.getPlus}}function qDe(e){switch($t(e,"2788179050").get("pro_upsell_cta_copy","get_pro")){case"upgrade_to_plan":return _o.upgradeToPro;case"upgrade_your_plan":return _o.upgradeYourPlan;case"upgrade":return _o.upgrade;case"get_pro":default:return _o.getPro}}function gue(e){return Qe(e,"3600660324")}function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PT.apply(null,arguments)}function vue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function P6(e,t){return P6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},P6(e,t)}function _ue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,P6(e,t)}var Wy={exports:{}},Ky,NT;function yue(){if(NT)return Ky;NT=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ky=e,Ky}var Yy,DT;function bue(){if(DT)return Yy;DT=1;var e=yue();function t(){}function n(){}return n.resetWarningCache=t,Yy=function(){function r(o,a,l,c,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Yy}var LT;function Cue(){return LT||(LT=1,Wy.exports=bue()()),Wy.exports}var Sue=Cue();const zDe=mn(Sue),FT={disabled:!1},FU=Le.createContext(null);var wue=function(t){return t.scrollTop},rf="unmounted",Sl="exited",wl="entering",cu="entered",N6="exiting",qo=function(e){_ue(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Sl,s.appearStatus=wl):l=cu:r.unmountOnExit||r.mountOnEnter?l=rf:l=Sl,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===rf?{status:Sl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==wl&&o!==cu&&(s=wl):(o===wl||o===cu)&&(s=N6)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===wl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Al.findDOMNode(this);o&&wue(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Sl&&this.setState({status:rf})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Al.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||FT.disabled){this.safeSetState({status:cu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:wl},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:cu},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Al.findDOMNode(this);if(!s||FT.disabled){this.safeSetState({status:Sl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:N6},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Sl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Al.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===rf)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=vue(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Le.createElement(FU.Provider,{value:null},typeof o=="function"?o(i,a):Le.cloneElement(Le.Children.only(o),a))},t}(Le.Component);qo.contextType=FU;qo.propTypes={};function Yc(){}qo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yc,onEntering:Yc,onEntered:Yc,onExit:Yc,onExiting:Yc,onExited:Yc};qo.UNMOUNTED=rf;qo.EXITED=Sl;qo.ENTERING=wl;qo.ENTERED=cu;qo.EXITING=N6;function GDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eue(e){const t=p.useRef(null);return p.useInsertionEffect(()=>{t.current=e},[e]),p.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const xue=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M11.1152 3.91503C11.3868 3.73594 11.756 3.7658 11.9951 4.00488C12.2341 4.24395 12.264 4.61309 12.0849 4.88476L11.9951 4.99511L8.99018 7.99999L11.9951 11.0049L12.0849 11.1152C12.264 11.3869 12.2341 11.756 11.9951 11.9951C11.756 12.2342 11.3868 12.2641 11.1152 12.085L11.0048 11.9951L7.99995 8.99023L4.99506 11.9951C4.7217 12.2685 4.2782 12.2685 4.00483 11.9951C3.73146 11.7217 3.73146 11.2782 4.00483 11.0049L7.00971 7.99999L4.00483 4.99511L3.91499 4.88476C3.73589 4.61309 3.76575 4.24395 4.00483 4.00488C4.24391 3.7658 4.61305 3.73594 4.88471 3.91503L4.99506 4.00488L7.99995 7.00976L11.0048 4.00488L11.1152 3.91503Z"}));var Cn=(e=>(e.info="info",e.neutral="neutral",e.success="success",e.successNeutral="successNeutral",e.warning="warning",e.danger="danger",e))(Cn||{});const kue=It({closeButtonLabel:{id:"Alert.closeButtonLabel",defaultMessage:"Close"}}),Tue=Le.memo(function(t){const n=yt(),{className:r,intent:i="info",fullWidth:s,children:o,icon:a,onRemove:l,testId:c}=t,u=ke({"px-3 py-2 rounded-lg inline-flex flex-row border pointer-events-auto gap-2":!0,flex:s,"popover shadow-lg bg-token-main-surface-primary text-token-text-secondary dark:border-black/20":i===Cn.neutral||i===Cn.info,"border-green-600 bg-green-600 text-white":i===Cn.success,"border-orange-500 text-white bg-orange-500":i===Cn.warning,"border-red-500 text-white bg-red-500":i===Cn.danger,"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white":i===Cn.successNeutral},r);return g.jsxs("div",{className:u,role:"alert","data-testid":c,children:[a!=null&&g.jsx("div",{className:"mt-1 shrink-0 grow-0",children:g.jsx(a,{className:"icon-sm"})}),g.jsx("div",{className:"flex-1 justify-center gap-2",children:typeof o=="string"?g.jsx("div",{className:"font-semibold",children:o}):o}),l?g.jsx("div",{className:"flex shrink-0 grow-0",children:g.jsx("button",{onClick:l,"aria-label":n.formatMessage(kue.closeButtonLabel),className:"hover:opacity-80",children:g.jsx(xue,{className:"icon-sm"})})}):null]})}),Oue={liveRegionAssertive:"",liveRegionPolite:""},qp=fn()(()=>({...Oue}));let Zy,Jy;const Aue={setLiveRegionAssertive:e=>{window.clearTimeout(Zy),qp.setState({liveRegionAssertive:e}),Zy=window.setTimeout(()=>{qp.setState({liveRegionAssertive:""}),Zy=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(Jy),qp.setState({liveRegionPolite:e}),Jy=window.setTimeout(()=>{qp.setState({liveRegionPolite:""}),Jy=void 0},5e3)}};var Zw=(e=>(e.file_upload_rate_limit_upsell_plus="file_upload_rate_limit_upsell_plus",e))(Zw||{});const jT=e=>Object.hasOwnProperty.call(e,"id");let Iue=0;class Mue{intl;constructor(t){this.intl=t}toasts=[];listeners=new Set;subscribe=t=>(this.listeners.add(t),()=>this.listeners.delete(t));toastsChanged(){this.listeners.forEach(t=>t())}announceToScreenReader(t,n){let r,i;try{switch(n.intent){case Cn.success:i={defaultMessage:"Success",description:"Prefix for success toast announcements",id:"toast.success"};break;case Cn.warning:i={defaultMessage:"Warning",description:"Prefix for warning toast announcements",id:"toast.warning"};break;case Cn.danger:i={defaultMessage:"Error",description:"Prefix for error toast announcements",id:"toast.error"};break;default:i=void 0}i?r=this.intl.formatMessage({id:"SieQiR",defaultMessage:"{prefix}: {message}"},{prefix:this.intl.formatMessage(i),message:t}):r=this.intl.formatMessage({id:"opr5Yt",defaultMessage:"{message}"},{message:t}),Aue.setLiveRegionPolite(r)}catch(s){V.addError(s)}}notify(t,n){if(jT(n))for(const i of this.toasts)String(i.id).startsWith(n.id)&&this.closeToast(i.id);const r=this.createToastInstance(t,n);return this.announceToScreenReader(t,n),this.toasts=[r,...this.toasts],this.toastsChanged(),r}createToastInstance(t,n){const r=++Iue,i=jT(n)?`${n.id}-${r}`:r;return{id:i,title:t,description:n.description,hasCloseButton:!!n.hasCloseButton,duration:typeof n.duration=="number"?n.duration:5,close:()=>this.closeToast(i),onRemove:n.onRemove,intent:n.intent??Cn.info,isShown:!0,testId:n.testId,action:n.action}}getToasts(){return this.toasts}closeToast(t){this.toasts=this.toasts.map(n=>n.id===t?{...n,isShown:!1}:n),this.toastsChanged()}removeToast(t){this.toasts.find(n=>n.id===t)?.onRemove?.(),this.toasts=this.toasts.filter(n=>n.id!==t),this.toastsChanged()}closeAll(){this.toasts.forEach(t=>t.close())}info(t,n){return this.notify(t,{...n,intent:Cn.info})}success(t,n){return this.notify(t,{...n,intent:Cn.success})}successNeutral(t,n){return this.notify(t,{...n,intent:Cn.successNeutral})}warning(t,n){return this.notify(t,{...n,intent:Cn.warning})}danger(t,n){let r="",i="",s="";return typeof t=="string"?(r=t,i=t):(r=this.intl.formatMessage(t),i=String(t.defaultMessage??""),s=String(t.description??"")),K.logEvent("error_toast_shown",{category:n?.toastId??"unknown",title:n?.loggingTitle??i,description:n?.loggingDescription??s}),this.notify(r,{...n,intent:Cn.danger})}}const Rue={[Cn.success]:RT,[Cn.successNeutral]:RT,[Cn.warning]:ed,[Cn.danger]:ed},Pue=({zIndex:e,action:t,duration:n,onRemove:r,intent:i=Cn.info,title:s,description:o,hasCloseButton:a,isShown:l=!0,testId:c})=>{const u=pe(),[d,f]=p.useState(0),h=ms(),m=pn(u),[v,_]=p.useState(l),y=p.useRef(null),b=p.useRef(null),C=Eue(()=>{r?.(),x(),_(!1)}),S=p.useCallback(()=>{n&&(b.current=setTimeout(()=>{C()},n*1e3))},[C,n]);p.useEffect(()=>(S(),()=>{x()}),[v,S]);const x=()=>{b.current&&(clearTimeout(b.current),b.current=null)},w=()=>{x()},E=()=>{S()},T=A=>{if(A===null)return;const{height:I}=A.getBoundingClientRect();f(I)},O=$t(u,"1916748563"),k=t&&t===Zw.file_upload_rate_limit_upsell_plus&&O.get("is_upgrade_link_shown",!1);return g.jsx(qo,{appear:!0,unmountOnExit:!0,timeout:240,in:v,onExited:r,nodeRef:y,children:A=>g.jsx("div",{ref:y,"data-state":A,className:"toast-root",onMouseEnter:w,onMouseLeave:E,style:{height:d,zIndex:e,marginBottom:v?0:-d},children:g.jsx("div",{ref:T,className:"w-full p-1 text-center md:w-auto md:text-justify",children:g.jsx(Tue,{icon:Rue[i]??void 0,intent:i,onRemove:a?()=>C():void 0,testId:c,children:k?g.jsxs("div",{className:"flex w-full items-center gap-3",children:[g.jsx("div",{className:"flex-1 text-start text-sm whitespace-pre-wrap",children:s}),g.jsx(un,{onClick:I=>{I.preventDefault(),Yw(h,"Plus upsell toast"),K.logRateLimitGetPlusButtonClicked({location:"toast",type:"upsell_plus",plan_type:m?.planType??"unknown",is_hard_block:!1,hard_block_reason:""})},color:"secondary",size:"small",className:"shrink-0",children:g.jsx(ve,{...mue(u)})})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:ke("text-start whitespace-pre-wrap",{"font-semibold":o!=null&&o!==""}),children:s}),o&&g.jsx("div",{children:o})]})})})})})},jU=p.createContext(null),{Provider:Nue}=jU;function In(){"use forget";return p.useContext(jU)}function Due(){"use forget";const e=Re.c(4),t=In();let n;e[0]!==t?(n=i=>t.subscribe(i),e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==t.toasts?(r=()=>t.toasts,e[2]=t.toasts,e[3]=r):r=e[3],p.useSyncExternalStore(n,r,Lue)}function Lue(){return[]}function Fue(){"use forget";const e=Re.c(10),t=Due(),n=In();let r,i,s;if(e[0]!==n||e[1]!==t){s=Symbol.for("react.early_return_sentinel");e:{const a=t.filter(jue);if(a.length===0){s=null;break e}r="pointer-events-none fixed inset-0 z-60 mx-auto my-2 flex max-w-[560px] flex-col items-stretch justify-start md:pb-5";let l;e[5]!==n?(l=c=>{const{id:u,...d}=c;return g.jsx(Pue,{...d,onRemove:()=>n.removeToast(u)},u)},e[5]=n,e[6]=l):l=e[6],i=a.map(l)}e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=s}else r=e[2],i=e[3],s=e[4];if(s!==Symbol.for("react.early_return_sentinel"))return s;let o;return e[7]!==r||e[8]!==i?(o=g.jsx("span",{className:r,children:i}),e[7]=r,e[8]=i,e[9]=o):o=e[9],o}function jue(e){return e.isShown!==!1}function Bue(e){"use forget";const t=Re.c(6),{children:n}=e,r=yt();let i;t[0]!==r?(i=()=>new Mue(r),t[0]=r,t[1]=i):i=t[1];const[s]=p.useState(i);let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=g.jsx(NU,{children:g.jsx(Fue,{})}),t[2]=o):o=t[2];let a;return t[3]!==n||t[4]!==s?(a=g.jsx($g,{name:"toaster_boundary_error",children:g.jsxs(Nue,{value:s,children:[n,o]})}),t[3]=n,t[4]=s,t[5]=a):a=t[5],a}class BT extends Error{constructor(t){super(t),this.name="OtpValidationError"}}const Uue=(e,t)=>{if(t.length!==6)return e.formatMessage(li.verifyOtpFailureInvalidFormat);try{parseInt(t)}catch{return e.formatMessage(li.verifyOtpFailureInvalidFormat)}return null},que=(e,t,n)=>{switch(n.status){case 403:throw new Error(e.formatMessage(li.verifyOtpFailureEmailAlreadyLinked,{branch:t?"email":"other",emailValue:t}));case 429:throw new Error(e.formatMessage(li.verifyOtpFailureRateLimited));case 401:case 422:throw new Error(e.formatMessage(li.verifyOtpFailureInvalidOtp));default:return}};function zue(e){const t=pe(),n=yt(),r=In(),[i,s]=p.useState(null),o=e.showChangeEmailButton??!0,a=p.useCallback(u=>{const d=u.target.value.trim();if(typeof d=="string"){if(d.match(/\D/)){u.preventDefault();return}e.onOtpChange?.(d.substring(0,6))}},[e]),l=Kn({mutationFn:async()=>{try{return e.onResendOtp?await e.onResendOtp():await RU(e.email??"")}catch(u){throw u instanceof mt&&PU(n,e.email??"",u),new Error(n.formatMessage(li.sendEmailFailure))}},onSuccess:()=>{e.setStep("verifyOtp")},onError:u=>{s(u.message),K.logEventWithStatsig("Email Verify Verify OTP Step - Error Resending OTP","chatgpt_email_verify_verify_otp_step_resend_error",{error:u.message})}}),c=Kn({mutationFn:async u=>{try{const d=Uue(n,u.code);if(d)throw new BT(d);if(e.onVerifyOtp)return await e.onVerifyOtp(u.code,u.email);await he.safePost("/accounts/add_email/verify",{requestBody:u}),await eF(t,{reason:"verify_otp"})}catch(d){throw d instanceof BT?d:(d instanceof mt&&que(n,e.email,d),new Error(n.formatMessage(li.verifyOtpFailure)))}},onSuccess:()=>{r.success(n.formatMessage(li.verifyOtpSuccess)),e.onVerified?.()},onError:u=>{s(u.message),K.logEventWithStatsig("Email Verify Verify OTP Step - Error Verifying OTP","chatgpt_email_verify_verify_otp_step_error",{error:u.message})}});return p.useEffect(()=>{K.logEventWithStatsig("Email Verify Verify OTP Step - Shown","chatgpt_email_verify_verify_otp_step_shown")},[]),g.jsxs("div",{className:"flex w-full flex-col items-center gap-3",children:[g.jsx("p",{className:"text-3xl font-semibold",children:g.jsx(ve,{id:"verifyOtp.title",defaultMessage:"Check your email"})}),g.jsxs("p",{className:"text-center",children:[g.jsx("span",{className:"text-token-text-primary text-base",children:g.jsx(ve,{id:"verifyOtp.description",defaultMessage:"Enter the verification code we just sent to"})}),e.email&&g.jsx("br",{}),g.jsx("span",{className:`text-token-text-primary text-base leading-snug ${e.email&&"font-semibold"}`,children:g.jsx(ve,{id:"verifyOtp.email",defaultMessage:"{branch, select, email {{emailValue}} other { your email.}}",values:{branch:e.email?"email":"other",emailValue:e.email}})})]}),g.jsxs("form",{onSubmit:u=>{u.preventDefault(),c.mutate({code:e.otp,email:e.email??""}),K.logEventWithStatsig("Email Verify Verify OTP Step - Attempted Continue","chatgpt_email_verify_verify_otp_step_continue")},className:"flex w-full flex-col items-center gap-3",children:[g.jsx(MU,{error:i??void 0,ariaLabel:n.formatMessage({id:"emailVerify.otpAriaLabel",defaultMessage:"OTP"}),value:e.otp,onChange:u=>{s(null),a(u),K.logEventWithStatsig("Email Verify Verify OTP Step - Typed","chatgpt_email_verify_verify_otp_step_type")},name:"otp",type:"text",placeholder:"XXXXXX",className:"mt-6 w-full",autoComplete:"off",autoFocus:!0}),g.jsx(un,{className:"w-full rounded-md",color:"green",type:"submit",loading:c.isPending,disabled:c.isPending,children:g.jsx(ve,{id:"verifyOtp.continue",defaultMessage:"Continue"})}),e.cancelFlowButton]}),g.jsxs("div",{className:"mt-6 flex w-full flex-col items-center gap-3",children:[g.jsx("p",{className:"text-token-text-primary text-sm",children:g.jsx(ve,{id:"verifyOtp.resendMessage",defaultMessage:"Didn't receive the code?"})}),g.jsx(un,{className:"w-full rounded-md",color:"secondary",onClick:()=>{l.mutate(),K.logEventWithStatsig("Email Verify Verify OTP Step - Resend","chatgpt_email_verify_verify_otp_step_resend")},loading:l.isPending,disabled:l.isPending,children:g.jsx(ve,{id:"verifyOtp.resend",defaultMessage:"Resend code"})}),o&&g.jsx(un,{className:"w-full rounded-md",color:"secondary",onClick:()=>{e.setStep("enterEmail"),K.logEventWithStatsig("Email Verify Verify OTP Step - Back to Enter Email Step","chatgpt_email_verify_verify_otp_step_change_email")},children:g.jsx(ve,{id:"verifyOtp.changeEmail",defaultMessage:"Change email"})})]})]})}function Gue(e){const[t,n]=p.useState(e.initialStep??"enterEmail"),[r,i]=p.useState(""),[s,o]=p.useState(""),a=e.email?{email:e.email,onEmailChange:e.onEmailChange}:{email:r,onEmailChange:i},l=e.otp?{otp:e.otp,onOtpChange:e.onOtpChange}:{otp:s,onOtpChange:o};return t==="enterEmail"?g.jsx(hue,{title:e.enterEmailTitle,description:e.enterEmailDescription,cancelFlowButton:e.cancelFlowButton,step:t,setStep:n,...a}):g.jsx(zue,{email:a.email,onVerified:e.onVerified,cancelFlowButton:e.cancelFlowButton,step:t,setStep:n,showChangeEmailButton:e.showChangeEmailButton,onResendOtp:e.onResendOtp,onVerifyOtp:e.onVerifyOtp,...l})}function Hue({onVerify:e,onClose:t,onResendOtp:n}){const{session:r}=Sh(),[i,s]=p.useState("");return g.jsx(Bo,{testId:"modal-connector-email-verify",isOpen:!0,onClose:t,type:"success",className:"max-w-sm",children:g.jsx(Gue,{initialStep:"verifyOtp",email:r?.user?.email,otp:i,onOtpChange:s,onVerified:t,onResendOtp:n,onVerifyOtp:async(o,a)=>{await e(o)},showChangeEmailButton:!1,cancelFlowButton:g.jsx(un,{className:"w-full rounded-md",color:"secondary",onClick:t,children:g.jsx(ve,{id:"ConnectorEmailVerifyModal.cancel",defaultMessage:"Cancel"})})})})}const xm=new BroadcastChannel("plugin_oauth_channel"),HDe=e=>{xm.postMessage(e)},VDe="connector_bd313622bce5485cb3d0b338715f7108",D6={gdrive_sync_connector:"gdrive_sync_connector",slack_sync_connector:"slack_sync_connector",github_sync_connector:"github_sync_connector",notion_sync_connector:"notion_sync_connector",sharepoint_sync_connector:"sharepoint_sync_connector",sharepoint_admin_sync_connector:"sharepoint_admin_sync_connector",linear_sync_connector:"linear_sync_connector",confluence_sync_connector:"confluence_sync_connector"},ar={[q.GDRIVE_ACTION_CONNECTOR]:"connector_5f3c8c41a1e54ad7a76272c89e2554fa",[q.GITHUB_CONNECTOR]:"connector_76869538009648d5b282a4bb21c3d157",[q.LINEAR_CONNECTOR]:"connector_686fad9b54914a35b75be6d06a0f6f31",[q.DROPBOX_CONNECTOR]:"connector_14e85e16800b4e53bc6246019a83a307",[q.HUBSPOT_CONNECTOR]:"connector_2a3c0c472f6f4238b47d41acfb317307",[q.SHAREPOINT_CONNECTOR]:"connector_1e4f6a44acf14e3ca1d96672f8c945bc",[q.GCAL_CONNECTOR]:"connector_947e0d954944416db111db556030eea6",[q.GMAIL_CONNECTOR]:"connector_2128aebfecb84f64a069897515042a44",[q.GOOGLE_CONTACTS_CONNECTOR]:"connector_c0f748249d6a42aea4b00fd375570ded",[q.TEAMS_CONNECTOR]:"connector_246af0940da3457da0e751171dc1ce60",[q.OUTLOOK_EMAIL_CONNECTOR]:"connector_4aaab2856305417b993eca9a216aaf6e",[q.OUTLOOK_CALENDAR_CONNECTOR]:"connector_e6a7394682e24467ac68c60696f275a4",[q.BOX_CONNECTOR]:"connector_2fc94c70cbb74b7caa6d07bf7231202e",[q.INTERCOM_CONNECTOR]:"connector_25f8569426254c019971d2481ddda775",[q.NOTION_CONNECTOR]:"connector_37316be7febe4224b3d31465bae4dbd7",[q.CANVA_CONNECTOR]:"connector_ef718304ffe64e31947b71887e3d51fa",[q.SLACK_CONNECTOR]:"connector_0f9c9d4592e54d0a9a12b3f44a1e2010",[q.SHAREPOINT_ADMIN_CONNECTOR]:"connector_5ae2fd76f08447718080f11bc2faac6c"},jh={connector_5f3c8c41a1e54ad7a76272c89e2554fa:q.GDRIVE_ACTION_CONNECTOR,connector_76869538009648d5b282a4bb21c3d157:q.GITHUB_CONNECTOR,connector_686fad9b54914a35b75be6d06a0f6f31:q.LINEAR_CONNECTOR,connector_14e85e16800b4e53bc6246019a83a307:q.DROPBOX_CONNECTOR,connector_2a3c0c472f6f4238b47d41acfb317307:q.HUBSPOT_CONNECTOR,connector_1e4f6a44acf14e3ca1d96672f8c945bc:q.SHAREPOINT_CONNECTOR,connector_947e0d954944416db111db556030eea6:q.GCAL_CONNECTOR,connector_2128aebfecb84f64a069897515042a44:q.GMAIL_CONNECTOR,connector_c0f748249d6a42aea4b00fd375570ded:q.GOOGLE_CONTACTS_CONNECTOR,connector_246af0940da3457da0e751171dc1ce60:q.TEAMS_CONNECTOR,connector_4aaab2856305417b993eca9a216aaf6e:q.OUTLOOK_EMAIL_CONNECTOR,connector_e6a7394682e24467ac68c60696f275a4:q.OUTLOOK_CALENDAR_CONNECTOR,connector_2fc94c70cbb74b7caa6d07bf7231202e:q.BOX_CONNECTOR,connector_25f8569426254c019971d2481ddda775:q.INTERCOM_CONNECTOR,connector_37316be7febe4224b3d31465bae4dbd7:q.NOTION_CONNECTOR,connector_ef718304ffe64e31947b71887e3d51fa:q.CANVA_CONNECTOR,connector_6887fff96c948190aa97fd69c3041dea:q.UAE_PASS_CONNECTOR,connector_0f9c9d4592e54d0a9a12b3f44a1e2010:q.SLACK_CONNECTOR,connector_5ae2fd76f08447718080f11bc2faac6c:q.SHAREPOINT_ADMIN_CONNECTOR};function Vue(e){return Object.keys(jh).includes(e)}function $De(e){return!(e==="web"||e==="cloud"||e in ar||e in D6)}function BU(e){return typeof window<"u"?`${window.location.origin}/connector_platform_oauth_redirect`:""}const $ue="https://github.com/apps/chatgpt-codex-connector";function Wue(e){return`${$ue}/${e}`}const Kue={[q.GITHUB_CONNECTOR]:"github-connector",[q.GDRIVE_ACTION_CONNECTOR]:"gdrive-connector",[q.LINEAR_CONNECTOR]:"linear-connector",[q.DROPBOX_CONNECTOR]:"dropbox-connector",[q.HUBSPOT_CONNECTOR]:"hubspot-connector",[q.SHAREPOINT_CONNECTOR]:"sharepoint-connector",[q.GCAL_CONNECTOR]:"gcal-connector",[q.GMAIL_CONNECTOR]:"gmail-connector",[q.GOOGLE_CONTACTS_CONNECTOR]:"google-contacts-connector",[q.TEAMS_CONNECTOR]:"teams-connector",[q.OUTLOOK_EMAIL_CONNECTOR]:"outlook-email-connector",[q.OUTLOOK_CALENDAR_CONNECTOR]:"outlook-calendar-connector",[q.BOX_CONNECTOR]:"box-connector",[q.INTERCOM_CONNECTOR]:"intercom-connector",[q.NOTION_CONNECTOR]:"notion-connector",[q.CANVA_CONNECTOR]:"canva-connector",[q.SLACK_CONNECTOR]:"slack-connector"},WDe=({openPopup:e,connectorType:t,customRedirectUrl:n,onError:r,toaster:i,intl:s,productSku:o})=>{const a={connectorId:ar[t],name:t,actionNames:null,oauthClientId:null,oauthClientScopes:null},l=n??`#settings/${Fh.Connectors}?scroll=${Kue[t]}`;UU({redirectUri:BU(),connectorPlatformParams:a,redirectTo:l,onError:r,openPopup:e,toaster:i,intl:s,productSku:o})},Yue={[q.GITHUB_CONNECTOR]:Dn.GitHub,[q.GDRIVE_ACTION_CONNECTOR]:Dn.GoogleDrive,[q.DROPBOX_CONNECTOR]:Dn.Dropbox,[q.LINEAR_CONNECTOR]:Dn.Linear,[q.SHAREPOINT_CONNECTOR]:Dn.Sharepoint,[q.TEAMS_CONNECTOR]:Dn.Teams,[q.OUTLOOK_EMAIL_CONNECTOR]:Dn.OutlookEmail,[q.OUTLOOK_CALENDAR_CONNECTOR]:Dn.OutlookCalendar,[q.BOX_CONNECTOR]:Dn.Box,[q.INTERCOM_CONNECTOR]:Dn.Intercom,[q.GCAL_CONNECTOR]:Dn.GoogleCalendar,[q.GMAIL_CONNECTOR]:Dn.Gmail,[q.GOOGLE_CONTACTS_CONNECTOR]:Dn.GoogleContacts,[q.HUBSPOT_CONNECTOR]:Dn.Hubspot,[q.CANVA_CONNECTOR]:Dn.Canva,[q.NOTION_CONNECTOR]:Dn.Notion,[q.SLACK_CONNECTOR]:Dn.Slack},Zue=e=>[...Object.values(q),...Object.values(sF)].includes(e)?e:null,KDe=e=>e.map(t=>Zue(t)).filter(t=>t!=null);async function UU({redirectUri:e,connectorPlatformParams:t,redirectTo:n,onError:r,openPopup:i=!1,toaster:s,intl:o,productSku:a}){K.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_initiated",{event:"start",type:t.connectorId});try{const l={connector_id:t.connectorId,oauth_client_id:t.oauthClientId,name:t.name,action_names:t.actionNames,requested_scopes:t.oauthClientScopes,callback_url:e,post_auth_url:n};let c=await he.safePost("/aip/connectors/links/oauth",{requestBody:l,additionalHeaders:a?{[_r]:a}:void 0});c.email_challenge_sent&&await new Promise((f,h)=>{bg(Lt(),({onClose:m})=>Le.createElement(Hue,{onClose:()=>{m(),h(null)},onVerify:async v=>{c=await he.safePost("/aip/connectors/links/oauth",{requestBody:{...l,otp_code:v},additionalHeaders:a?{[_r]:a}:void 0}),m(),f()},onResendOtp:async()=>{await he.safePost("/aip/connectors/links/oauth",{requestBody:l,additionalHeaders:a?{[_r]:a}:void 0})}}))});let u=null;Vue(t.connectorId)&&jh[t.connectorId]===q.HUBSPOT_CONNECTOR?u=c.redirect_url+"&utm_source=chatgpt":u=c.redirect_url;let d=null;if(i&&(d=window.open("about:blank","_blank")),!d)window.location.href=u;else if(d)return d.location.href=u,new Promise(f=>{const h=m=>{const{error:v,errorDesc:_,errorType:y,connectorId:b,success:C,linkId:S}=m.data;if(m.origin===window.location.origin&&!(b&&t.connectorId!==b)){if(C)K.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_success",{success:!0,type:t.connectorId}),s?.success(o.formatMessage(Qy.createLinkSuccess,{connectorName:t.name})),f({success:!0,linkId:S,message:""});else{K.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_error",{success:!1,type:t.connectorId,errorType:y}),y!=="oauth_failed_scope_mismatch"&&s?.danger(o.formatMessage(Qy.createLinkError,{connectorName:t.name}),{toastId:"connector_oauth_connect",loggingTitle:Qy.createLinkError.defaultMessage,loggingDescription:"Failed to link connector"});const x=`${v}${_?`: ${_}`:""}`;f({errorType:y,success:C,message:x})}xm.removeEventListener("message",h,!1)}};xm.addEventListener("message",h,!1),d.addEventListener("beforeunload",()=>{xm.removeEventListener("message",h,!1)})})}catch(l){if(r)r(l);else throw l}}const YDe={box:q.BOX_CONNECTOR,dropbox:q.DROPBOX_CONNECTOR,github:q.GITHUB_CONNECTOR,gmail:q.GMAIL_CONNECTOR,"google drive":q.GDRIVE_ACTION_CONNECTOR,"google calendar":q.GCAL_CONNECTOR,outlook:q.OUTLOOK_EMAIL_CONNECTOR,"outlook email":q.OUTLOOK_EMAIL_CONNECTOR,"outlook calendar":q.OUTLOOK_CALENDAR_CONNECTOR,sharepoint:q.SHAREPOINT_CONNECTOR,linear:q.LINEAR_CONNECTOR,teams:q.TEAMS_CONNECTOR,intercom:q.INTERCOM_CONNECTOR,hubspot:q.HUBSPOT_CONNECTOR,notion:q.NOTION_CONNECTOR,canva:q.CANVA_CONNECTOR,slack:q.SLACK_CONNECTOR},Qy=It({createLinkSuccess:{id:"KVbj6o",defaultMessage:"{connectorName} is now connected."},createLinkError:{id:"Y6p1d0",defaultMessage:"There was a problem connecting {connectorName}. Try again later."}});function zp(e){switch(e){case q.GOOGLE_CONTACTS_CONNECTOR:return"gcontacts";case q.GMAIL_CONNECTOR:return"gmail";case q.GCAL_CONNECTOR:return"gcal";default:return null}}function Jue(e){switch(e){case"gmail":return q.GMAIL_CONNECTOR;case"gcal":return q.GCAL_CONNECTOR;case"gcontacts":return q.GOOGLE_CONTACTS_CONNECTOR;default:return null}}function ZDe(e){switch(e){case"gmail":return ar[q.GMAIL_CONNECTOR];case"gcal":return ar[q.GCAL_CONNECTOR];case"gcontacts":return ar[q.GOOGLE_CONTACTS_CONNECTOR];default:return null}}const Que=[Ae.Slurm,Ae.Research,is],Xue=e=>{const t=new Map([[void 0,new Set(Object.keys(D6))],[Ae.Slurm,new Set(Object.keys(D6))],[Ae.Research,new Set(["web"])],[is,new Set(["web"])]]);try{const n=ede(e);n&&n.forEach((r,i)=>{Que.includes(i)&&t.set(i,new Set(r))})}catch{}return t},qU="v1.1",zU=e=>{const t=Wt.getItem(qt.SelectedSources,e);if(!t)return{};try{const{version:n,data:r}=JSON.parse(t);if(n!==qU)return Wt.removeItem(qt.SelectedSources),{};const i=new Map([...r.selected_sources].map(([o,a])=>[o,new Set(a)])),s=new Map((r.selected_mcp_sources??[]).map(([o,a])=>[o,new Set(a)]));return{selectedSources:i,selectedMCPSources:s}}catch{return{}}},ede=e=>zU(e).selectedSources,tde=e=>zU(e).selectedMCPSources,nde=e=>tde(e)??new Map,JDe=({selectedSourcesMap:e,selectedMCPSourcesMap:t,scope:n})=>{if(!e&&!t){Wt.removeItem(qt.SelectedSources);return}const r={selected_sources:[...e??new Map].map(([s,o])=>[s,[...o]]),selected_mcp_sources:[...t??new Map].map(([s,o])=>[s,[...o]])},i={version:qU,data:r};Wt.setItem(qt.SelectedSources,JSON.stringify(i),n)},rde=window.location.host+"/ces",ide="https",sde=`${ide}://${rde}`;function UT(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n.key]=n.value,t),{}):e}var Sn=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.CODEX="Wham",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e.GOLDEN_HOUR="golden_hour",e.CUSTOMIZE_CHATGPT="customize_chatgpt",e.WEB_SANDBOX="web_sandbox",e.ECOSYSTEM="ecosystem",e.CANVAS="canvas",e.COT_SUMMARIZER="cot_summarizer",e.CLASSMATES="classmates",e.REFERRALS="referrals",e.STUDENTS="students",e.TEAMS="teams",e.WEBSOCKET="ws",e.TATERTOT="tatertot",e.ECOSYSTEM_DEMO="ecosystem_demo",e))(Sn||{});class qT{counterMap=new Map;histMap=new Map}class ode{metrics=new qT;postUrl=`${sde}/statsc/flush`;postInterval=3e4;maxPostErrors=10;isScheduled=!1;numMetricPostErrors=0;numLostMetrics=0;count(t,n,r={},i=1){r=UT(r);const s=this.makeKey(t,n,r);var o=this.metrics.counterMap;const a=o.get(s);a?a.value+=i:o.set(s,{namespace:t,metric:n,tags:r,value:i}),this.scheduleIfNeeded()}hist(t,n,r={},i){r=UT(r);const s=this.makeKey(t,n,r);var o=this.metrics.histMap;const a=o.get(s);a?a.values.push(i):o.set(s,{namespace:t,metric:n,tags:r,values:[i]}),this.scheduleIfNeeded()}makeKey(t,n,r){const i=Object.entries(r).map(([s,o])=>`${s}=${o}`).sort().join(",");return`${t}:${n}:${i}`}scheduleIfNeeded(){this.isScheduled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new qT;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:{},value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:{},value:this.numLostMetrics}));const i={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},s=JSON.stringify(i);try{await ct.post(this.postUrl,i,{authOption:tn.Anonymous}),this.numMetricPostErrors=0}catch(o){o instanceof mt||V.addError(o,{json:s}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(V.addAction(`Exceeded maximum number of post errors (${this.maxPostErrors}). Dropping ${this.numLostMetrics} metrics.`),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const xn=new ode,GU="placeholder-";class Ji{#e;rootId;constructor(t){const n={};let r;for(const i of t)n[i.id]=i,!r&&i.message.author.role===Ve.Root&&(r=i.id);if(!r)throw new Error("Missing root node");this.#e=n,this.rootId=r}static emptyTree(){return new Ji([Ji.createRootNode("client-created-root")])}static createNode(t,n,r=[],i){const s=i??t.id;if(s===n)throw new Error(`createNode: parent.id and node.id cannot be the same: ${s}`);return{id:s,parentId:n,children:r,message:t}}static createRootNode(t){const n={id:t,author:{role:Ve.Root},content:{content_type:He.Text,parts:[]}};return Ji.createNode(n,"")}get nodes(){return Object.values(this.#e)}messageIdToNodeId(t){return this.messageIdToExistingNodeId(t)??t}messageIdToExistingNodeId(t){if(this.#e[t]!=null)return t;for(const n of Object.values(this.#e))if(n.message?.id===t)return HU(n.id,n.message.id),n.id}containsNodeOrMessageId(t){return this.messageIdToExistingNodeId(t)!=null}getNodeByIdOrMessageId(t){const n=this.getNodeIfExists(t);if(n)return n;const r=t.startsWith(GU);throw K.logEventWithStatsig("chatgpt_conversation_tree__node_not_found","chatgpt_web_conversation_tree_node_not_found",{rootId:this.rootId,nodeOrMessageId:t,isNodeStartWithPlaceholder:r}),xn.count(Sn.DEFAULT,"chatgpt_web_conversation_tree_node_not_found",[{key:"isNodeStartWithPlaceholder",value:r?"true":"false"}]),V.addError(new Error(`web client getNodeByIdOrMessageId - no node found by id ${t} isNodeStartWithPlaceholder: ${r}`)),new Error(`getNodeByIdOrMessageId - no node found by id: ${t}`)}getNodeIfExists(t){const n=this.messageIdToExistingNodeId(t);if(n)return this.#e[n]}findNode(t,n,r=this.rootId){const i=this.getNodeIfExists(r);let s=this.getNodeIfExists(n);for(;i&&s&&s!==i;){if(t(s))return s;s=this.getNodeIfExists(s.parentId)}}findFirst(t){let n=this.getNodeByIdOrMessageId(this.rootId);for(;n&&n.children.length===1;)if(n=this.getNodeByIdOrMessageId(n.children[0]),t(n))return n}findFirstFromLeaf(t,n){let r,i=this.getNodeByIdOrMessageId(n);for(;i;)t(i)&&(r=i),i=this.getNodeIfExists(i.parentId);return r}getLeafFromNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;)n=this.getNodeByIdOrMessageId(n.children[0]);return n}getParent(t){const n=this.getNodeByIdOrMessageId(t).parentId;return this.getNodeByIdOrMessageId(n)}getBranchFromLeaf(t){let n=[],r=this.getNodeByIdOrMessageId(t);for(;r!=null;){if(n.includes(r)){V.addError(`Infinite loop detected in getBranchFromLeaf. Branch already contains node ${r?.id}. Parent id: ${r?.parentId}.`,{branch:n});break}if(n.push(r),r.message.author.role===Ve.Root)break;r=this.getNodeByIdOrMessageId(r.parentId)}return n=n.reverse(),n}addMessageNode(t,n){const r=this.messageIdToNodeId(n.id),i=this.getNodeByIdOrMessageId(t),s=Ji.createNode(n,i.id,[],r);return this.#e=Wi(this.#e,o=>{o[s.id]=s;const a=o[s.parentId];a.children.includes(s.id)||a.children.push(s.id)}),s.id}prependNode(t,n){const r=this.messageIdToNodeId(n.id),i=this.getNodeByIdOrMessageId(t),s=Ji.createNode(n,i.parentId,[i.id],r);this.#e=Wi(this.#e,o=>{o[s.id]=s;const a=o[s.parentId];a.children=a.children.filter(c=>c!==i.id),a.children.includes(s.id)||a.children.push(s.id);const l=o[i.id];l.parentId=s.id})}deleteNode(t){const n=this.getNodeByIdOrMessageId(t);this.#e=Wi(this.#e,r=>{const i=n.parentId,s=n.children;for(const a of s){const l=r[this.messageIdToNodeId(a)];l.parentId=i}const o=r[this.messageIdToNodeId(i)];if(o==null){console.warn(`Cannot deleteNode with nodeId: ${t} - parent not found. Either this is root or in an orphaned branch`);return}o.children=o.children.flatMap(a=>this.messageIdToNodeId(a)===this.messageIdToNodeId(n.id)?s:[a]),delete r[n.id]})}clearNodeMessageParts(t){this.#e=Wi(this.#e,n=>{const r=n[this.messageIdToNodeId(t)];r&&r.message&&"parts"in r.message.content&&(r.message.content.parts=[])})}updateNodeMetadata(t,n){this.#e=Wi(this.#e,r=>{const i=r[this.messageIdToNodeId(t)];i&&(i.message.clientMetadata={...i?.message.clientMetadata,...n})})}updateNodeMessage(t,n){this.#e=Wi(this.#e,r=>{const i=r[this.messageIdToNodeId(t)];if(i){const s=i.message.clientMetadata;i.message=s?{...n,clientMetadata:s}:n}})}updateNodeMessageMetadata(t,n){this.#e=Wi(this.#e,r=>{const i=r[this.messageIdToNodeId(t)];i&&(i.message.metadata={...i.message.metadata,...n})})}prettyPrint(t=this.rootId,n=0){const r=this.getNodeByIdOrMessageId(t),i=Ih(r.message);let s=`${"	".repeat(n)}->${t} - ${i.replaceAll(`
`,"\\n")}
`;const o=r.children.map(a=>this.getNodeByIdOrMessageId(a));for(const a of o)s+=this.prettyPrint(a.id,n+1);return s}}const zT=new Set;function HU(e,t,n){const r=new Error(`Found TreeNode where message.id ${t} != node.id ${e}`);console.warn(r),zT.has(e)||(zT.add(e),n?V.addAction("tree_node_id_mismatch_api",{nodeId:e,messageId:t,conversationId:n}):V.addAction("tree_node_id_mismatch_client",{nodeId:e,messageId:t}))}function ade(e,t){const n=new Set,r=new Set,i=new Set,s=new Map;return(e.moderation_results??[]).forEach(a=>{s.set(a.message_id,a),a.blocked?r.add(a.message_id):a.flagged&&n.add(a.message_id),a.disclaimers?.length&&!a.blocked&&i.add(a.message_id)}),{nodes:Object.values(e.mapping).map(({id:a,parent:l,children:c,message:u})=>{if(!l)return Ji.createRootNode(a);if(!u)throw new Error(`Missing message for node ${a}`);a!==u.id&&HU(a,u.id,t);const d={},f=s.get(u.id);let h=!1;if(r.has(u.id)){const v=f?.should_disable_conversation??!1,_=f?.blocked??!1,y=f?.metadata?.safety_limited??!1;Object.assign(d,{isSafetyLimited:y}),Object.assign(d,Wj({isSafetyLimited:y,shouldDisableConversation:v,isModelIncompatibility:_})),h=!0}else n.has(u.id)&&Object.assign(d,Hj);if(i.has(u.id)){const v=s.get(u.id);v?.disclaimers?.length&&Object.assign(d,$j(v.disclaimers,h))}const m={...u,clientMetadata:d};return Ji.createNode(m,l,c,a)},{}),initialCurrentLeafId:e.current_node}}var Gp={exports:{}},GT;function lde(){if(GT)return Gp.exports;GT=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(x,w,E){return Function.prototype.apply.call(x,w,E)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:n=function(x){return Object.getOwnPropertyNames(x)};function r(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(x){return x!==x};function s(){s.init.call(this)}Gp.exports=s,Gp.exports.once=y,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function l(S){return S._maxListeners===void 0?s.defaultMaxListeners:S._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(x){for(var w=[],E=1;E<arguments.length;E++)w.push(arguments[E]);var T=x==="error",O=this._events;if(O!==void 0)T=T&&O.error===void 0;else if(!T)return!1;if(T){var k;if(w.length>0&&(k=w[0]),k instanceof Error)throw k;var A=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw A.context=k,A}var I=O[x];if(I===void 0)return!1;if(typeof I=="function")t(I,this,w);else for(var D=I.length,N=m(I,D),E=0;E<D;++E)t(N[E],this,w);return!0};function c(S,x,w,E){var T,O,k;if(a(w),O=S._events,O===void 0?(O=S._events=Object.create(null),S._eventsCount=0):(O.newListener!==void 0&&(S.emit("newListener",x,w.listener?w.listener:w),O=S._events),k=O[x]),k===void 0)k=O[x]=w,++S._eventsCount;else if(typeof k=="function"?k=O[x]=E?[w,k]:[k,w]:E?k.unshift(w):k.push(w),T=l(S),T>0&&k.length>T&&!k.warned){k.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=S,A.type=x,A.count=k.length,r(A)}return S}s.prototype.addListener=function(x,w){return c(this,x,w,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(x,w){return c(this,x,w,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(S,x,w){var E={fired:!1,wrapFn:void 0,target:S,type:x,listener:w},T=u.bind(E);return T.listener=w,E.wrapFn=T,T}s.prototype.once=function(x,w){return a(w),this.on(x,d(this,x,w)),this},s.prototype.prependOnceListener=function(x,w){return a(w),this.prependListener(x,d(this,x,w)),this},s.prototype.removeListener=function(x,w){var E,T,O,k,A;if(a(w),T=this._events,T===void 0)return this;if(E=T[x],E===void 0)return this;if(E===w||E.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete T[x],T.removeListener&&this.emit("removeListener",x,E.listener||w));else if(typeof E!="function"){for(O=-1,k=E.length-1;k>=0;k--)if(E[k]===w||E[k].listener===w){A=E[k].listener,O=k;break}if(O<0)return this;O===0?E.shift():v(E,O),E.length===1&&(T[x]=E[0]),T.removeListener!==void 0&&this.emit("removeListener",x,A||w)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(x){var w,E,T;if(E=this._events,E===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[x]),this;if(arguments.length===0){var O=Object.keys(E),k;for(T=0;T<O.length;++T)k=O[T],k!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=E[x],typeof w=="function")this.removeListener(x,w);else if(w!==void 0)for(T=w.length-1;T>=0;T--)this.removeListener(x,w[T]);return this};function f(S,x,w){var E=S._events;if(E===void 0)return[];var T=E[x];return T===void 0?[]:typeof T=="function"?w?[T.listener||T]:[T]:w?_(T):m(T,T.length)}s.prototype.listeners=function(x){return f(this,x,!0)},s.prototype.rawListeners=function(x){return f(this,x,!1)},s.listenerCount=function(S,x){return typeof S.listenerCount=="function"?S.listenerCount(x):h.call(S,x)},s.prototype.listenerCount=h;function h(S){var x=this._events;if(x!==void 0){var w=x[S];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function m(S,x){for(var w=new Array(x),E=0;E<x;++E)w[E]=S[E];return w}function v(S,x){for(;x+1<S.length;x++)S[x]=S[x+1];S.pop()}function _(S){for(var x=new Array(S.length),w=0;w<x.length;++w)x[w]=S[w].listener||S[w];return x}function y(S,x){return new Promise(function(w,E){function T(k){S.removeListener(x,O),E(k)}function O(){typeof S.removeListener=="function"&&S.removeListener("error",T),w([].slice.call(arguments))}C(S,x,O,{once:!0}),x!=="error"&&b(S,T,{once:!0})})}function b(S,x,w){typeof S.on=="function"&&C(S,"error",x,w)}function C(S,x,w,E){if(typeof S.on=="function")E.once?S.once(x,w):S.on(x,w);else if(typeof S.addEventListener=="function")S.addEventListener(x,function T(O){E.once&&S.removeEventListener(x,T),w(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Gp.exports}var cde=lde();const ude=mn(cde);class Jw{emitter=new ude;constructor(){this.emitter.setMaxListeners(1e3)}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}publish(t){this.emitter.emit(t.kind,t),this.emitter.emit("anyEvent",t)}}const Mu=new Jw;var Xy,HT;function dde(){if(HT)return Xy;HT=1;function e(t){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];o&&(s[i++]=o)}return s}return Xy=e,Xy}var fde=dde();const VU=mn(fde),hde="text/plain",pde="us-ascii",e2=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),mde=new Set(["https:","http:","file:"]),gde=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!mde.has(t)}catch{return!1}},vde=(e,{stripHash:t})=>{const n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:r,data:i,hash:s}=n.groups;const o=r.split(";");s=t?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);const l=o.shift()?.toLowerCase()??"",u=[...o.map(d=>{let[f,h=""]=d.split("=").map(m=>m.trim());return f==="charset"&&(h=h.toLowerCase(),h===pde)?"":`${f}${h?`=${h}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||l&&l!==hde)&&u.unshift(l),`data:${u.join(";")},${a?i.trim():i}${s?`#${s}`:""}`};function _de(e,t){if(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t},typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return vde(e,t);if(gde(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){const o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let a=0,l="";for(;;){const u=o.exec(i.pathname);if(!u)break;const d=u[0],f=u.index,h=i.pathname.slice(a,f);l+=h.replace(/\/{2,}/g,"/"),l+=d,a=f+d.length}const c=i.pathname.slice(a,i.pathname.length);l+=c.replace(/\/{2,}/g,"/"),i.pathname=l}if(i.pathname)try{i.pathname=decodeURI(i.pathname).replace(/\\/g,"%5C")}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/");const a=o[o.length-1];e2(a,t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const o of[...i.searchParams.keys()])e2(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(i.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const o of[...i.searchParams.keys()])e2(o,t.keepQueryParameters)||i.searchParams.delete(o);if(t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,"")),t.removeExplicitPort&&i.port&&(i.port="");const s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}const yde={},bde=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=l?.equalityFn||Object.is;let d=o(r.getState());c=f=>{const h=o(f);if(!u(d,h)){const m=d;a(d=h,m)}},l?.fireImmediately&&a(d,d)}return i(c)},e(t,n,r)},Cde=bde;function Sde(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Kf=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Kf(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Kf(r)(n)}}}},wde=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,y)=>({...y,..._}),...t},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const u=Kf(s.serialize),d=()=>{const _=s.partialize({...r()});let y;const b=u({state:_,version:s.version}).then(C=>c.setItem(s.name,C)).catch(C=>{y=C});if(y)throw y;return b},f=i.setState;i.setState=(_,y)=>{f(_,y),d()};const h=e((..._)=>{n(..._),d()},r,i);let m;const v=()=>{var _;if(!c)return;o=!1,a.forEach(b=>b(r()));const y=((_=s.onRehydrateStorage)==null?void 0:_.call(s,r()))||void 0;return Kf(c.getItem.bind(c))(s.name).then(b=>{if(b)return s.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var C;return m=s.merge(b,(C=r())!=null?C:h),n(m,!0),d()}).then(()=>{y?.(m,void 0),o=!0,l.forEach(b=>b(m))}).catch(b=>{y?.(void 0,b)})};return i.persist={setOptions:_=>{s={...s,..._},_.getStorage&&(c=_.getStorage())},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},v(),m||h},Ede=(e,t)=>(n,r,i)=>{let s={storage:Sde(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...t},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const u=()=>{const v=s.partialize({...r()});return c.setItem(s.name,{state:v,version:s.version})},d=i.setState;i.setState=(v,_)=>{d(v,_),u()};const f=e((...v)=>{n(...v),u()},r,i);i.getInitialState=()=>f;let h;const m=()=>{var v,_;if(!c)return;o=!1,a.forEach(b=>{var C;return b((C=r())!=null?C:f)});const y=((_=s.onRehydrateStorage)==null?void 0:_.call(s,(v=r())!=null?v:f))||void 0;return Kf(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var C;return h=s.merge(b,(C=r())!=null?C:f),n(h,!0),u()}).then(()=>{y?.(h,void 0),h=r(),o=!0,l.forEach(b=>b(h))}).catch(b=>{y?.(void 0,b)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||m(),h||f},xde=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((yde?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),wde(e,t)):Ede(e,t),$U=xde;function kde(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function WU(e,t){return e.findNode(n=>KU(n,t),t)?.children??Ode}function Tde(e,t){return WU(e,t).find(n=>n===t||n===e.findNode(r=>r.id===n||KU(r,t),t)?.id)}function KU(e,t){return e.id!==t&&(e.children.length>1||!La(e.message))}const Ode=Object.freeze([]);function QDe(){return`${B4}${qr()}`}let Ade=0;function YU(){return Ade++}function Bh(e){return e.startsWith(B4)}const ZU=()=>Ji.emptyTree(),Ide=Object.freeze({});var Qw=(e=>(e.NewChat="NewChat",e.Server="Server",e.User="User",e.Generated="Generated",e.Unknown="Unknown",e))(Qw||{});const Gi={};function Mde(e,t){Gi[e]&&(clearTimeout(Gi[e]),delete Gi[e]);const n=3e4;Gi[e]=setTimeout(()=>{const r=Qi();if(r.threads[e]==null){clearTimeout(Gi[e]),delete Gi[e];return}if((r.threadRetainCounts[e]??0)>0){clearTimeout(Gi[e]),delete Gi[e];return}td.deleteThread(e),clearTimeout(Gi[e]),delete Gi[e]},n)}function Rde(e){return e}const Pde=Rde,yc=fn(Pde(Ja(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}})))),Qi=yc.getState,El=yc.setState;function Pi(e,t=Qi()){return Bh(e)?t.clientNewThreadIdToServerIdMapping[e]:e}function XDe(e,t=Qi()){return Object.entries(t.clientNewThreadIdToServerIdMapping).find(([r,i])=>i===e)?.[0]??e}const Nde=e=>yc(t=>e?Pi(e,t):void 0);function eLe(e,t=Qi()){for(const[n,r]of Object.entries(t.clientNewThreadIdToServerIdMapping))if(r===e)return n}function L6(e,t=Qi()){return t.clientNewThreadIdToServerIdMapping[e]??e}function ln(e,t=Qi()){const n=L6(e,t);return t.threads[n]}function Dde(e,t){const n=p.useRef(void 0);return p.useMemo(()=>[],[t.clientThreadId]),r=>{const i=e(r);return kde(n.current,i)||(n.current=i),n.current}}function zo(e,t,n){return yc(Dde(r=>t(e&&ln(e,r)),{disablePerfDetector:n?.disablePerfDetector===!0,clientThreadId:e}))}function Mt(e,t){El(n=>{const r=ln(e,n);r&&t(r)})}const Lde=["utm_source"],VT=e=>{try{return _de(e,{stripWWW:!1,removeTrailingSlash:!0,sortQueryParameters:!0,removeQueryParameters:Lde})}catch{return e}},Fde=e=>(e?.search_result_groups??[]).flatMap(t=>t.entries??[]).map(t=>t?.url),Ee={getGizmoId:e=>e?.mode.kind===an.GizmoInteraction||e?.mode.kind===an.GizmoTest?e.mode.gizmo_id:void 0,getTree:e=>e?.tree??ZU(),getBranch:(e,t=Ee.getCurrentLeafId(e))=>e?.tree.getBranchFromLeaf(t)??[],getThreadTitleSource:e=>e?.titleSource??"Unknown",getThreadCreateTime:e=>e?.createTime,getIsNewConversation:e=>Ee.getCurrentLeafId(e)===Ee.getTree(e).rootId,getCurrentLeafId:e=>e?.currentLeafId??Ee.getTree(e).rootId,getCurrentNode:e=>Ee.getNode(e,Ee.getCurrentLeafId(e)),getNode:(e,t)=>Ee.getTree(e).getNodeByIdOrMessageId(t),getParentNode:(e,t)=>Ee.getTree(e).getParent(t),getParentPromptNode:(e,t=Ee.getCurrentLeafId(e))=>Ee.findNode(e,n=>Yj(n.message),t),getAsyncTurns:e=>e?.asyncTurns??Ide,isThreadUrlSafe:(e,t)=>e?.safeUrls.map(n=>VT(n)).includes(VT(t))??!1,getTurnContentReferences:(e,t)=>VU(Ee.getConversationTurnAtIndex(e,t).messages.flatMap(Ude)??[]),isArchived:e=>e?.isArchived??!1,isStarred:e=>e?.isStarred??!1,getUpdateTime:e=>e?.update_time??(e?.createTime?e.createTime.getTime()/1e3:null),hasUserMessage:e=>Ee.findNode(e,t=>lu(t.message))!=null,lastUserMessage:e=>Ee.findNode(e,t=>lu(t.message))?.message??null,firstUserMessage:e=>Ee.findFirstFromLeaf(e,t=>lu(t.message))?.message??null,isLastActorMessage:(e,t)=>Ee.getTree(e).findNode(n=>n.message.author.role===Ve.Assistant||n.message.author.role===Ve.User||n.message.author.role===Ve.Tool&&n.message.author.name===Bl.A8KM123,Ee.getCurrentLeafId(e),t)==null,findNode:(e,t,n=Ee.getCurrentLeafId(e))=>Ee.getTree(e).findNode(t,n),findFirstFromLeaf(e,t,n=Ee.getCurrentLeafId(e)){return Ee.getTree(e).findFirstFromLeaf(t,n)},isMessageTurnEnded:(e,t=Ee.getCurrentLeafId(e))=>e?.tree.getNodeByIdOrMessageId(t).message.end_turn??!1,getConversationTurns:(e,t=Ee.getCurrentLeafId(e))=>sB(Ee.getTree(e),t,!1),getConversationTurnIds:e=>jde(Ee.getConversationTurns(e)),getConversationTurnAtIndex:(e,t,n=Ee.getCurrentLeafId(e))=>{const r=Ee.getConversationTurns(e,n);if(t>=r.length)throw new Error(`Turn index ${t} out of bounds`);return r[t]},getConversationLastTurn:(e,t=Ee.getCurrentLeafId(e))=>Ju(Ee.getConversationTurns(e,t)),getConversationSearchEntryUrls:(e,t=Ee.getCurrentLeafId(e))=>Ee.getConversationTurns(e,t).flatMap(n=>n.messages).flatMap(n=>Fde(n?.metadata)),hasUserContextPrompt:e=>Ee.getTree(e).findFirst(t=>t.message.metadata?.is_user_system_message!=null)!=null||e?.sharedConversationMetadata?.hasUserEditableContextFlag!=null,hasModelEditableContext:e=>Ee.findNode(e,t=>t.message.content.content_type==="model_editable_context")!=null,hasRecentPIMWarning:e=>{const t=e?.tree.getBranchFromLeaf(e.currentLeafId);if(!t)return!1;for(let n=t.length-1;n>=0;n--){if(t[n].message.author.role===Ve.User)return!1;if(t[n].message.metadata?.is_pim_warning)return!0}return!1},getRequestId:(e,t=Ee.getCurrentLeafId(e))=>Ee.findNode(e,n=>n.message.clientMetadata?.requestId!=null,t)?.message.clientMetadata?.requestId,getLastMessageSystemHints:e=>Ee.findNode(e,n=>lu(n.message))?.message.metadata?.system_hints??[],getVariantIds:(e,t=Ee.getCurrentLeafId(e))=>WU(Ee.getTree(e),t),getCurrentVariantId:(e,t=Ee.getCurrentLeafId(e))=>Tde(Ee.getTree(e),t),getIsDoNotRemember:e=>e?.is_do_not_remember??!1,getSuperWidgetMessages:(e,t)=>(t!=null?Ee.getConversationTurnAtIndex(e,t).messages:Ee.getConversationTurns(e).flatMap(r=>r.messages)).filter(r=>r.content.content_type==="super_widget"),getUserMessages:e=>Ee.getConversationTurns(e).flatMap(t=>t.messages).filter(lu),isReasoningResponseMessage:(e,t)=>{const n=Ee.getParentNode(e,t)?.message;return n!=null&&_w(n)},isUsingPromptTemplate:e=>e?.isUsingPromptTemplate??!1};let $T=0,WT,KT=[];function jde(e){const t=e.length,n=Ju(e)?.id;return($T!==t||WT!==n)&&($T=t,WT=n,KT=e.map(r=>r.id)),KT}const Pr={updateTree(e,t){const n=t(e.tree,Ee.getCurrentLeafId(e));e._treeVersion++,n&&(e.currentLeafId=n)},setCurrentBranch(e,t){Pr.updateTree(e,n=>n.getLeafFromNode(t).id)},appendMessage(e,t){Pr.updateTree(e,(n,r)=>n.addMessageNode(r,t))},setRequestIdOnCurrentLeaf(e,t){Pr.updateTree(e,(n,r)=>{n.updateNodeMetadata(r,{requestId:t})})}},td={initThread:({clientThreadId:e,conversationMode:t,modelId:n=null,userId:r=void 0,accountId:i=void 0,disableConversationNavigation:s=void 0})=>{const o=L6(e);Qi().threads[o]==null&&El(a=>{const l=Ji.emptyTree();a.threads[o]={disableConversationNavigation:s,createTime:new Date,isArchived:!1,isStarred:!1,mode:g6(t),modelId:n,tree:l,_treeVersion:0,title:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,stopConduitToken:null,titleSource:"NewChat",currentLeafId:l.rootId,safeUrls:[],selectedSources:Xue({userId:r,workspaceId:i}),selectedMCPSources:nde({userId:r,workspaceId:i}),startedWithMcp:void 0,hasRemovedWebSource:!1,hasModifiedSources:!1,isLoading:!Bh(o),docsReferencedByURL:{},conversationOrigin:null,selectedGithubRepos:new Map,hasModifiedGithubRepos:!1,disabledToolIds:null,is_do_not_remember:!1,prepareRequestBlocked:!1,lastCompletionFinishedTimestamp:null,interruptionInProgress:!1,asyncTurns:{},isUsingPromptTemplate:!1}})},setServerIdForNewThread:(e,t)=>{Qi().clientNewThreadIdToServerIdMapping[e]===void 0&&El(n=>{n.threads[t]=n.threads[e],delete n.threads[e],n.clientNewThreadIdToServerIdMapping[e]=t})},updateThreadFromServer:(e,t,n={})=>{const r=L6(e),{skipIfExisting:i,continuingFromSharedConversationId:s,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwnerId:a,continuingFromSharedPostId:l,forkFromSharedPost:c,branchingFromConversationId:u,branchingFromMessageId:d,modelId:f}=n;if(i&&Qi().threads[r]?.isLoading===!1)return;const h=ade(t,r),m=new Ji(h.nodes),v=h.initialCurrentLeafId??m.rootId,_="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&t.model!=null?gB(t.model):void 0}:void 0;let y;{const b=m.getBranchFromLeaf(v);for(const C of b){const S=C.message;if(S.author.role!==Ve.User)continue;y=(S.metadata?.selected_mcp_sources??[]).length>0;break}}El(b=>{const C=b.threads[r];b.threads[r]={createTime:"create_time"in t?new Date(t.create_time*1e3):void 0,isArchived:t.is_archived??!1,isStarred:t.is_starred??!1,is_do_not_remember:t.is_do_not_remember??!1,selectedSources:C?.selectedSources,selectedMCPSources:C?.selectedMCPSources,startedWithMcp:C?.startedWithMcp??y,mentionedSources:C?.mentionedSources,selectedGithubRepos:C?.selectedGithubRepos??new Map,hasModifiedGithubRepos:C?.hasModifiedGithubRepos??!1,modelId:C?.modelId??f??null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,stopConduitToken:null,mode:t.gizmo_id!=null?{kind:an.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:an.PrimaryAssistant},sharedConversationMetadata:g6(_),title:t.title??null,titleSource:"Server",tree:m,_treeVersion:0,currentLeafId:v,isLoading:!1,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwner:(()=>{const S=C?.sharedProjectConversationOwner,x=a??t?.owner?.user_id??S?.id,w=t?.owner?.name??S?.name;return x!=null||w!=null?{id:x,name:w}:void 0})(),continuingFromSharedConversationId:s,continuingFromSharedPostId:l,forkFromSharedPost:c,continuingSharedConversationLastMessageId:(s!=null||l!=null||c)&&!u?v:void 0,branchingFromConversationId:u,branchingFromMessageId:d,safeUrls:t.safe_urls??[],hasRemovedWebSource:C?.hasRemovedWebSource??!1,hasModifiedSources:C?.hasModifiedSources??!1,docsReferencedByURL:C?.docsReferencedByURL??{},conversationOrigin:C?.conversationOrigin??t.conversation_origin??null,disabledToolIds:t.disabled_tool_ids??[],update_time:t.update_time??null,scrollToMessageId:C?.scrollToMessageId,prepareRequestBlocked:C?.prepareRequestBlocked??!1,lastCompletionFinishedTimestamp:C?.lastCompletionFinishedTimestamp??null,interruptionInProgress:!1,asyncTurns:{},isUsingPromptTemplate:C?.isUsingPromptTemplate??!1}}),Mu.publish({kind:"createConversation",clientThreadId:e})},deleteThread:e=>{El(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{El(t=>{t.threadRetainCounts[e]=(t.threadRetainCounts[e]??0)+1}),clearTimeout(Gi[e])},releaseThread:e=>{Qi().threads[e]!=null&&(El(t=>{t.threadRetainCounts[e]=Math.max((t.threadRetainCounts[e]??0)-1,0)}),!(Qi().threadRetainCounts[e]>0)&&Mde(e))},resetThread:e=>{Mt(e,t=>{t.tree=ZU(),t.currentLeafId=t.tree.rootId})}},Bde=e=>{const t=ww();return zo(e,n=>n?Ee.getGizmoId(n):t)};function tLe({clientThreadId:e}){return zo(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>r.message.clientMetadata?.errCode===Zu.ContentPolicy&&r.message.clientMetadata.shouldDisableConversation):!1})}function nLe({clientThreadId:e}){return zo(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>r.message.clientMetadata?.errCode===Zu.ContentPolicy&&r.message.clientMetadata.isSafetyLimited):!1})}const rLe=e=>e?.metadata?.search_result_groups??[],Ude=e=>e?.metadata?.content_references??[],u0=KS("Conversation"),d0=nn(()=>({conversations:{},newClientIdToServerId:{},allKnownConversationIds$:kt([])}));function qde(e){return{id:e,serverId$:kt(Pi(e))}}function tl(e,t){const{conversations:n,newClientIdToServerId:r}=d0(e);if(n[t]!=null)return n[t];if(Bh(t)){const s=r[t];if(s!=null&&n[s]!=null)return n[s]}const i=qde(t);return n[t]=i,Gde(e),i}function zde(e,t,n){const r=tl(e,t);r.serverId$.set(n);const{conversations:i,newClientIdToServerId:s}=d0(e);delete i[t],i[n]=r,Bh(t)&&(s[t]=n,td.setServerIdForNewThread(t,n))}function iLe(e){const{conversations:t,allKnownConversationIds$:n}=d0(e);return n(),Object.values(t)}let t2;function Gde(e){t2==null&&(t2=window.setTimeout(()=>{const{conversations:t,allKnownConversationIds$:n}=d0(e);n.set(Object.keys(t)),t2=void 0},100))}const sLe=p.createContext(void 0);function tr(e){this.content=e}tr.prototype={constructor:tr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new tr(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new tr(n)},addToStart:function(e,t){return new tr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new tr(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new tr(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=tr.from(e),e.size?new tr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=tr.from(e),e.size?new tr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=tr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};tr.from=function(e){if(e instanceof tr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new tr(t)};function JU(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=JU(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function QU(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=QU(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class be{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>t&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new be(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new be(r,i)}cutByIndex(t,n){return t==n?be.empty:t==0&&n==this.content.length?this:new be(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new be(i,s)}addToStart(t){return new be([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new be(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return JU(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return QU(this,t,n,r)}findIndex(t,n=-1){if(t==0)return Hp(0,t);if(t==this.size)return Hp(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=t)return o==t||n>0?Hp(r+1,o):Hp(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return be.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new be(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return be.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new be(n||t,r)}static from(t){if(!t)return be.empty;if(t instanceof be)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new be([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}be.empty=new be([],0);const n2={index:0,offset:0};function Hp(e,t){return n2.index=e,n2.offset=t,n2}function b1(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!b1(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!b1(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class Ut{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&b1(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Ut.none;if(t instanceof Ut)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Ut.none=[];class C1 extends Error{}class De{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=eq(this.content,t+this.openStart,n);return r&&new De(r,this.openStart,this.openEnd)}removeBetween(t,n){return new De(XU(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return De.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new De(be.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new De(t,r,i)}}De.empty=new De(be.empty,0,0);function XU(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(XU(s.content,t-i-1,n-i-1)))}function eq(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=eq(o.content,t-s-1,n);return a&&e.replaceChild(i,o.copy(a))}function Hde(e,t,n){if(n.openStart>e.depth)throw new C1("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new C1("Inconsistent open depths");return tq(e,t,n,0)}function tq(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=tq(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return ql(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=Vde(n,e);return ql(s,rq(e,o,a,t,r))}else return ql(s,S1(e,t,r))}function nq(e,t){if(!t.type.compatibleContent(e.type))throw new C1("Cannot join "+t.type.name+" onto "+e.type.name)}function F6(e,t,n){let r=e.node(n);return nq(r,t.node(n)),r}function Ul(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Cf(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(Ul(e.nodeAfter,r),s++));for(let a=s;a<o;a++)Ul(i.child(a),r);t&&t.depth==n&&t.textOffset&&Ul(t.nodeBefore,r)}function ql(e,t){return e.type.checkContent(t),e.copy(t)}function rq(e,t,n,r,i){let s=e.depth>i&&F6(e,t,i+1),o=r.depth>i&&F6(n,r,i+1),a=[];return Cf(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(nq(s,o),Ul(ql(s,rq(e,t,n,r,i+1)),a)):(s&&Ul(ql(s,S1(e,t,i+1)),a),Cf(t,n,i,a),o&&Ul(ql(o,S1(n,r,i+1)),a)),Cf(r,null,i,a),new be(a)}function S1(e,t,n){let r=[];if(Cf(null,e,n,r),e.depth>n){let i=F6(e,t,n+1);Ul(ql(i,S1(e,t,n+1)),r)}return Cf(t,null,n,r),new be(r)}function Vde(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(be.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Yf{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ut.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Kde(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Yf(n,r,s)}static resolveCached(t,n){let r=YT.get(t);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else YT.set(t,r=new $de);let i=r.elts[r.i]=Yf.resolve(t,n);return r.i=(r.i+1)%Wde,i}}class $de{constructor(){this.elts=[],this.i=0}}const Wde=12,YT=new WeakMap;class Kde{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Yde=Object.create(null);let zl=class j6{constructor(t,n,r,i=Ut.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||be.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&b1(this.attrs,n||t.defaultAttrs||Yde)&&Ut.sameSet(this.marks,r||Ut.none)}copy(t=null){return t==this.content?this:new j6(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new j6(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return De.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new De(c,i.depth-o,s.depth-o)}replace(t,n,r){return Hde(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Yf.resolveCached(this,t)}resolveNoCache(t){return Yf.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),iq(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=be.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ut.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ut.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=be.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};zl.prototype.text=void 0;class w1 extends zl{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):iq(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new w1(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new w1(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function iq(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class oc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Zde(t,n);if(r.next==null)return oc.empty;let i=sq(r);r.next&&r.err("Unexpected trailing text");let s=rfe(nfe(i));return ife(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return be.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join(`
`)}}oc.empty=new oc(!0);class Zde{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function sq(e){let t=[];do t.push(Jde(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Jde(e){let t=[];do t.push(Qde(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Qde(e){let t=tfe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Xde(e,t);else break;return t}function ZT(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Xde(e,t){let n=ZT(e),r=n;return e.eat(",")&&(e.next!="}"?r=ZT(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function efe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(t)>-1&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function tfe(e){if(e.eat("(")){let t=sq(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=efe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function nfe(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,l){let c={term:l,to:a};return t[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function oq(e,t){return t-e}function JT(e,t){let n=[];return r(t),n.sort(oq);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function rfe(e){let t=Object.create(null);return n(JT(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);JT(e,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=t[r.join(",")]=new oc(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(oq);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function ife(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function aq(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function lq(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function cq(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function uq(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new ofe(e,r,t[r]);return n}let QT=class dq{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=uq(t,r.attrs),this.defaultAttrs=aq(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==oc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:lq(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zl(this,this.computeAttrs(t),be.from(n),Ut.setFrom(r))}createChecked(t=null,n,r){return n=be.from(n),this.checkContent(n),new zl(this,this.computeAttrs(t),n,Ut.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=be.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(be.empty,!0);return s?new zl(this,t,n.append(s),Ut.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){cq(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Ut.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new dq(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function sfe(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class ofe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?sfe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class f0{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=uq(t,i.attrs),this.excluded=null;let s=aq(this.attrs);this.instance=s?new Ut(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Ut(this,lq(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new f0(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){cq(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class afe{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=tr.from(t.nodes),n.marks=tr.from(t.marks||{}),this.nodes=QT.compile(this.spec.nodes,this),this.marks=f0.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=oc.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?XT(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:XT(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof QT){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new w1(r,r.defaultAttrs,t,Ut.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return zl.fromJSON(this,t)}markFromJSON(t){return Ut.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function XT(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function lfe(e){return e.tag!=null}function cfe(e){return e.style!=null}class Zf{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(lfe(i))this.tags.push(i);else if(cfe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new tO(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new tO(this,n,!0);return r.addAll(t,n.from,n.to),De.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(ffe(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=nO(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=nO(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Zf(t,Zf.schemaRules(t)))}}const fq={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ufe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},hq={ol:!0,ul:!0},E1=1,x1=2,km=4;function eO(e,t,n){return t!=null?(t?E1:0)|(t==="full"?x1:0):e&&e.whitespace=="pre"?E1|x1:n&-5}class Vp{constructor(t,n,r,i,s,o,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=Ut.none,this.stashMarks=[],this.match=o||(a&km?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(be.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&E1)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=be.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(be.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):hfe(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!fq.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class tO{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=eO(null,n.preserveWhitespace,0)|(r?km:0);i?s=new Vp(i.type,i.attrs,Ut.none,Ut.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Vp(null,null,Ut.none,Ut.none,!0,null,o):s=new Vp(t.schema.topNodeType,null,Ut.none,Ut.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.style;if(!r||!r.length)return n();let i=this.readStyles(t.style);if(!i)return;let[s,o]=i,a=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l]);n();for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&x1||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&E1)r.options&x1?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=t.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;hq.hasOwnProperty(r)&&this.parser.normalizeLists&&dfe(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(s?s.ignore:ufe.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let o,a=this.top,l=this.needsBlock;if(fq.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}s&&s.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),o&&this.sync(a),this.needsBlock=l}else this.withStyleRules(t,()=>{this.addElementByRule(t,s,s.consuming===!1?i:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=Ut.none,r=Ut.none;if(t.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=t.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(c=>{l.clearMark(c)&&(r=c.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)a=l;else break}}return[n,r]}addElementByRule(t,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(t):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,n,r){let i=n||0;for(let s=n?t.childNodes[n]:t.firstChild,o=r==null?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(t);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let o=eO(t,i,s.options);s.options&km&&s.content.length==0&&(o|=km),this.nodes.push(new Vp(t,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=pfe(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function dfe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&hq.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function ffe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function nO(e){let t={};for(let n in e)t[n]=e[n];return t}function hfe(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}function pfe(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Cd{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=r2(n).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=Tm(r2(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&Tm(r2(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return Tm(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Cd(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=rO(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return rO(t.marks)}}function rO(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function r2(e){return e.document||window.document}const iO=new WeakMap;function mfe(e){let t=iO.get(e);return t===void 0&&iO.set(e,t=gfe(e)),t}function gfe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function Tm(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=mfe(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:m}=Tm(e,f,n,r);if(l.appendChild(h),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const pq=65535,mq=Math.pow(2,16);function vfe(e,t){return e+t*mq}function sO(e){return e&pq}function _fe(e){return(e-(e&pq))/mq}const gq=1,vq=2,Om=4,_q=8;class B6{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&_q)>0}get deletedBefore(){return(this.delInfo&(gq|Om))>0}get deletedAfter(){return(this.delInfo&(vq|Om))>0}get deletedAcross(){return(this.delInfo&Om)>0}}class oi{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&oi.empty)return oi.empty}recover(t){let n=0,r=sO(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+_fe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(t<=d){let f=c?t==l?-1:t==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let m=t==(n<0?l:d)?null:vfe(a/3,t-l),v=t==l?vq:t==d?gq:Om;return(n<0?t!=l:t!=d)&&(v|=_q),new B6(h,v,m)}i+=u-c}return r?t+i:new B6(t+i,0,null)}touches(t,n){let r=0,i=sO(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+s],u=l+c;if(t<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];t(a,a+c,l,l+u),s+=u-c}}invert(){return new oi(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?oi.empty:new oi(t<0?[0,-t,0]:[0,0,t])}}oi.empty=new oi([]);class Ru{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new Ru(this.maps,this.mirror,t,n)}copy(){return new Ru(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new Ru;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new B6(t,i,null)}}const i2=Object.create(null);class Cr{getMap(){return oi.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=i2[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in i2)throw new RangeError("Duplicate use of step JSON ID "+t);return i2[t]=n,n.prototype.jsonID=t,n}}class kn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new kn(t,null)}static fail(t){return new kn(null,t)}static fromReplace(t,n,r,i){try{return kn.ok(t.replace(n,r,i))}catch(s){if(s instanceof C1)return kn.fail(s.message);throw s}}}function Xw(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(Xw(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return be.fromArray(r)}class ba extends Cr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new De(Xw(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return kn.fromReplace(t,this.from,this.to,s)}invert(){return new js(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ba(n.pos,r.pos,this.mark)}merge(t){return t instanceof ba&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ba(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ba(n.from,n.to,t.markFromJSON(n.mark))}}Cr.jsonID("addMark",ba);class js extends Cr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new De(Xw(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return kn.fromReplace(t,this.from,this.to,r)}invert(){return new ba(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new js(n.pos,r.pos,this.mark)}merge(t){return t instanceof js&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new js(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new js(n.from,n.to,t.markFromJSON(n.mark))}}Cr.jsonID("removeMark",js);class Ca extends Cr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return kn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return kn.fromReplace(t,this.pos,this.pos+1,new De(be.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ca(this.pos,n.marks[i]);return new Ca(this.pos,this.mark)}}return new nd(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ca(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ca(n.pos,t.markFromJSON(n.mark))}}Cr.jsonID("addNodeMark",Ca);class nd extends Cr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return kn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return kn.fromReplace(t,this.pos,this.pos+1,new De(be.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ca(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new nd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new nd(n.pos,t.markFromJSON(n.mark))}}Cr.jsonID("removeNodeMark",nd);class mr extends Cr{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&U6(t,this.from,this.to)?kn.fail("Structure replace would overwrite content"):kn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new oi([this.from,this.to-this.from,this.slice.size])}invert(t){return new mr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new mr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof mr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?De.empty:new De(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new mr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?De.empty:new De(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new mr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new mr(n.from,n.to,De.fromJSON(t,n.slice),!!n.structure)}}Cr.jsonID("replace",mr);class ci extends Cr{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(U6(t,this.from,this.gapFrom)||U6(t,this.gapTo,this.to)))return kn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return kn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?kn.fromReplace(t,this.from,this.to,r):kn.fail("Content does not fit in gap")}getMap(){return new oi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new ci(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new ci(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ci(n.from,n.to,n.gapFrom,n.gapTo,De.fromJSON(t,n.slice),n.insert,!!n.structure)}}Cr.jsonID("replaceAround",ci);function U6(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function yfe(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,t),h=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let v=0;v<d.length;v++)d[v].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[v])?o.to=h:i.push(o=new js(f,h,d[v])));a&&a.to==f?a.to=h:s.push(a=new ba(f,h,r))}}),i.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function bfe(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof f0){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let m=i[h];m.step==s-1&&d.eq(i[h].style)&&(f=m)}f?(f.to=c,f.step=s):i.push({style:d,from:Math.max(a,t),to:c,step:s})}}}),i.forEach(o=>e.step(new js(o.from,o.to,o.style)))}function yq(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new mr(a,u,De.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||e.step(new js(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,m;for(;f=h.exec(c.text);)m||(m=new De(be.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new mr(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(be.empty,!0);e.replace(a,a,new De(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function Cfe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function e9(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!Cfe(i,s,o))break}return null}function Sfe(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=be.empty,d=0;for(let m=s,v=!1;m>n;m--)v||r.index(m)>0?(v=!0,u=be.from(r.node(m).copy(u)),d++):l--;let f=be.empty,h=0;for(let m=s,v=!1;m>n;m--)v||i.after(m+1)<i.end(m)?(v=!0,f=be.from(i.node(m).copy(f)),h++):c++;e.step(new ci(l,c,o,a,new De(u.append(f),d,h),u.size-d,!0))}function wfe(e,t,n=null,r=e){let i=Efe(e,t),s=i&&xfe(r,t);return s?i.map(oO).concat({type:t,attrs:n}).concat(s.map(oO)):null}function oO(e){return{type:e,attrs:null}}function Efe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function xfe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function kfe(e,t,n){let r=be.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=be.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new ci(i,s,i,s,new De(r,0,0),n.length,!0))}function Tfe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&Ife(e.doc,e.mapping.slice(s).map(a),r)){let l=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!h?l=!1:!f&&h&&(l=!0)}l===!1&&Afe(e,o,a,s),yq(e,e.mapping.slice(s).map(a,1),r,void 0,l===null);let c=e.mapping.slice(s),u=c.map(a,1),d=c.map(a+o.nodeSize,1);return e.step(new ci(u,d,u+1,d-1,new De(be.from(r.create(i,null,o.marks)),0,0),1,!0)),l===!0&&Ofe(e,o,a,s),!1}})}function Ofe(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function Afe(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+s);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function Ife(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Mfe(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new ci(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new De(be.from(o),0,0),1,!0))}function Am(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let v=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!v.type.validContent(h))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Rfe(e,t,n=1,r){let i=e.doc.resolve(t),s=be.empty,o=be.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=be.from(i.node(a).copy(s));let u=r&&r[c];o=be.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}e.step(new mr(t,t,new De(s.append(o),n,n),!0))}function bq(e,t){let n=e.resolve(t),r=n.index();return Pfe(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Pfe(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function Nfe(e,t,n){let r=new mr(t-n,t+n,De.empty,!0);e.step(r)}function Dfe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Lfe(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function t9(e,t,n=t,r=De.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return Cq(i,s,r)?new mr(t,n,r):new Ffe(i,s,r).fit()}function Cq(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class Ffe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=be.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=be.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new De(s,o,a);return t>-1?new ci(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new mr(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=s2(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(be.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=s2(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new De(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=s2(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new De(sf(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new De(sf(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)u.push(i.child(v));d=d.matchFragment(i)}let h=a.size+t-(o.content.size-o.openEnd);for(;c<a.childCount;){let v=a.child(c),_=d.matchType(v.type);if(!_)break;c++,(c>1||l==0||v.content.size)&&(d=_,u.push(Sq(v.mark(f.allowedMarks(v.marks)),c==1?l:0,c==a.childCount?h:-1)))}let m=c==a.childCount;m||(h=-1),this.placed=of(this.placed,n,be.from(u)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,_=a;v<h;v++){let y=_.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),_=y.content}this.unplaced=m?t==0?De.empty:new De(sf(o.content,t-1,1),t-1,h<0?o.openEnd:t-1):new De(sf(o.content,t,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!o2(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=o2(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=o2(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=of(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=of(this.placed,this.depth,be.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(be.empty,!0);n.childCount&&(this.placed=of(this.placed,this.frontier.length,n))}}function sf(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(sf(e.firstChild.content,t-1,n)))}function of(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(of(e.lastChild.content,t-1,n)))}function s2(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Sq(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Sq(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(be.empty,!0)))),e.copy(r)}function o2(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!jfe(n,s.content,o)?a:null}function jfe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Bfe(e){return e.spec.defining||e.spec.definingForContent}function Ufe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(Cq(i,s,r))return e.step(new mr(t,n,r));let o=Eq(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(c.push(m),h==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let h=c[f],m=Bfe(h.type);if(m&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(m||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),m=c[h];if(m)for(let v=0;v<o.length;v++){let _=o[(v+l)%o.length],y=!0;_<0&&(y=!1,_=-_);let b=i.node(_-1),C=i.index(_-1);if(b.canReplaceWith(C,C,m.type,m.marks))return e.replace(i.before(_),y?s.after(_):n,new De(wq(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=o[f];h<0||(t=i.before(h),n=s.after(h))}}function wq(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(wq(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore(be.empty,!0))}return e}function qfe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=Dfe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new De(be.from(r),0,0))}function zfe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=Eq(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}function Eq(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Pu extends Cr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return kn.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return kn.fromReplace(t,this.pos,this.pos+1,new De(be.from(i),0,n.isLeaf?0:1))}getMap(){return oi.empty}invert(t){return new Pu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Pu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Pu(n.pos,n.attr,n.value)}}Cr.jsonID("attr",Pu);class Jf extends Cr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return kn.ok(r)}getMap(){return oi.empty}invert(t){return new Jf(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Jf(n.attr,n.value)}}Cr.jsonID("docAttr",Jf);let rd=class extends Error{};rd=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};rd.prototype=Object.create(Error.prototype);rd.prototype.constructor=rd;rd.prototype.name="TransformError";class Gfe{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Ru}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new rd(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=De.empty){let i=t9(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new De(be.from(r),0,0))}delete(t,n){return this.replace(t,n,De.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Ufe(this,t,n,r),this}replaceRangeWith(t,n,r){return qfe(this,t,n,r),this}deleteRange(t,n){return zfe(this,t,n),this}lift(t,n){return Sfe(this,t,n),this}join(t,n=1){return Nfe(this,t,n),this}wrap(t,n){return kfe(this,t,n),this}setBlockType(t,n=t,r,i=null){return Tfe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return Mfe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Pu(t,n,r)),this}setDocAttribute(t,n){return this.step(new Jf(t,n)),this}addNodeMark(t,n){return this.step(new Ca(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Ut)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new nd(t,n)),this}split(t,n=1,r){return Rfe(this,t,n,r),this}addMark(t,n,r){return yfe(this,t,n,r),this}removeMark(t,n,r){return bfe(this,t,n,r),this}clearIncompatible(t,n,r){return yq(this,t,n,r),this}}const a2=Object.create(null);class Ot{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Hfe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=De.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=t.mapping.slice(s);t.replaceRange(u.map(l.pos),u.map(c.pos),a?De.empty:n),a==0&&cO(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),cO(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Dt(t):uu(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?uu(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):uu(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new ui(t.node(0))}static atStart(t){return uu(t,t,0,0,1)||new ui(t)}static atEnd(t){return uu(t,t,t.content.size,t.childCount,-1)||new ui(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=a2[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in a2)throw new RangeError("Duplicate use of selection JSON ID "+t);return a2[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Dt.between(this.$anchor,this.$head).getBookmark()}}Ot.prototype.visible=!0;class Hfe{constructor(t,n){this.$from=t,this.$to=n}}let aO=!1;function lO(e){!aO&&!e.parent.inlineContent&&(aO=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Dt extends Ot{constructor(t,n=t){lO(t),lO(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ot.near(r);let i=t.resolve(n.map(this.anchor));return new Dt(i.parent.inlineContent?i:r,r)}replace(t,n=De.empty){if(super.replace(t,n),n==De.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Dt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new h0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Dt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ot.findFrom(n,r,!0)||Ot.findFrom(n,-r,!0);if(s)n=s.$head;else return Ot.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Ot.findFrom(t,-r,!0)||Ot.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Dt(t,n)}}Ot.jsonID("text",Dt);class h0{constructor(t,n){this.anchor=t,this.head=n}map(t){return new h0(t.map(this.anchor),t.map(this.head))}resolve(t){return Dt.between(t.resolve(this.anchor),t.resolve(this.head))}}class ot extends Ot{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Ot.near(s):new ot(s)}content(){return new De(be.from(this.node),0,0)}eq(t){return t instanceof ot&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new n9(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ot(t.resolve(n.anchor))}static create(t,n){return new ot(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ot.prototype.visible=!1;Ot.jsonID("node",ot);class n9{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new h0(r,r):new n9(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&ot.isSelectable(r)?new ot(n):Ot.near(n)}}class ui extends Ot{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=De.empty){if(n==De.empty){t.delete(0,t.doc.content.size);let r=Ot.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new ui(t)}map(t){return new ui(t)}eq(t){return t instanceof ui}getBookmark(){return Vfe}}Ot.jsonID("all",ui);const Vfe={map(){return this},resolve(e){return new ui(e)}};function uu(e,t,n,r,i,s=!1){if(t.inlineContent)return Dt.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&ot.isSelectable(a))return ot.create(e,n-(i<0?a.nodeSize:0))}else{let l=uu(e,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function cO(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof mr||i instanceof ci))return;let s=e.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),e.setSelection(Ot.near(e.doc.resolve(o),n))}const uO=1,dO=2,fO=4;class $fe extends Gfe{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|uO)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&uO)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=dO,this}ensureMarks(t){return Ut.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&dO)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ut.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(Ot.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=fO,this}get scrolledIntoView(){return(this.updated&fO)>0}}function hO(e,t){return!t||!e?e:e.bind(t)}class af{constructor(t,n,r){this.name=t,this.init=hO(n.init,r),this.apply=hO(n.apply,r)}}const Wfe=[new af("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new af("selection",{init(e,t){return e.selection||Ot.atStart(t.doc)},apply(e){return e.selection}}),new af("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new af("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class l2{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Wfe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new af(r.key,r.spec.state,r))})}}class wu{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new wu(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new $fe(this)}static create(t){let n=new l2(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new wu(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new l2(this.schema,t.plugins),r=n.fields,i=new wu(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new l2(t.schema,t.plugins),s=new wu(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=zl.fromJSON(t.schema,n.doc);else if(o.name=="selection")s.selection=Ot.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,t,n[a],s);return}}s[o.name]=o.init(t,s)}}),s}}function xq(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=xq(i,t,{})),n[r]=i}return n}class Ss{constructor(t){this.spec=t,this.props={},t.props&&xq(t.props,this,this.props),this.key=t.key?t.key.key:kq("plugin")}getState(t){return t[this.key]}}const c2=Object.create(null);function kq(e){return e in c2?e+"$"+ ++c2[e]:(c2[e]=0,e+"$")}class Js{constructor(t="key"){this.key=kq(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Tq=new Js("transactionEventPlugin"),q6="prosemirrorDispatchTransaction";function r9(e,t){const{eventTarget:n}=Tq.getState(e.state);return n.addEventListener(q6,t),()=>{n.removeEventListener(q6,t)}}function Kfe(e){return new Ss({key:Tq,state:{init(){return{eventTarget:e}},apply(t,n){return n}}})}class Oq{ctx;conversation;constructor(t,n){this.ctx=t,this.conversation=n}}class Aq extends Oq{constructor(t,n,r){super(n,r),this.view=t,this.ctx=n,this.conversation=r}subscribe(t,n){if(t==="change"){const r=()=>{n(void 0)};return r9(this.view,r)}return this.view.dom?.addEventListener(t,n,{capture:!0}),()=>{this.view.dom?.removeEventListener(t,n,{capture:!0})}}}class oLe extends Oq{subscribe(){return()=>{}}}const Im=new Js("contextConnectorPaste");function Yfe(){return new Ss({key:Im,state:{init:()=>({}),apply(e,t){return e.getMeta(Im)??t}},props:{transformPasted(e,t){const n=Im.getState(t.state)?.transformPasted;return n?n(e,t):e}}})}function aLe(e,t){e.dispatch(e.state.tr.setMeta(Im,t))}const Iq={shift:!1,ctrl:!1,meta:!1},z6=fn(()=>Iq),Zfe=z6.getState;function Jfe(e){return pn(e)?dh(e,"4147197039"):null}const Qfe=5e3;function Xfe(e,t){const n=Jfe(e);if(Zfe().shift||!t||t.length<Qfe)return!1;const i=n?.get("paste_threshold",0)??0;return i>0?t.length>=i:!1}async function lLe(e){const t=await ye(()=>import("./jtilaepvk4dal4p6.js"),__vite__mapDeps([4,1,5]));await new Promise(r=>setTimeout(r,0));const n=t.getFileTypeGuess(e);return await new Promise(r=>setTimeout(r,0)),n}const Mq=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function ehe(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const i9=(e,t,n)=>{let r=ehe(e,n);if(!r)return!1;let i=Rq(r);if(!i){let o=r.blockRange(),a=o&&e9(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&Fq(e,i,t))return!0;if(r.parent.content.size==0&&(id(s,"end")||ot.isSelectable(s))){let o=t9(e.doc,r.before(),r.after(),De.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(id(s,"end")?Ot.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):ot.create(a.doc,i.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function id(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const the=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=Rq(r)}let o=s&&s.nodeBefore;return!o||!ot.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ot.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Rq(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function nhe(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const rhe=(e,t,n)=>{let r=nhe(e,n);if(!r)return!1;let i=Pq(r);if(!i)return!1;let s=i.nodeAfter;if(Fq(e,i,t))return!0;if(r.parent.content.size==0&&(id(s,"start")||ot.isSelectable(s))){let o=t9(e.doc,r.before(),r.after(),De.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(id(s,"start")?Ot.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ot.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},ihe=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=Pq(r)}let o=s&&s.nodeAfter;return!o||!ot.isSelectable(o)?!1:(t&&t(e.tr.setSelection(ot.create(e.doc,s.pos)).scrollIntoView()),!0)};function Pq(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const she=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function s9(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const ohe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=s9(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Ot.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},Nq=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof ui||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=s9(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(Dt.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},Dq=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Am(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&e9(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function ahe(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof ot&&t.selection.node.isBlock)return!r.parentOffset||!Am(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=t.tr;(t.selection instanceof Dt||t.selection instanceof ui)&&o.deleteSelection();let a=r.depth==0?null:s9(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=s&&a?[{type:a}]:void 0,c=Am(o.doc,o.mapping.map(r.pos),1,l);if(!l&&!c&&Am(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(l=[{type:a}]),c=!0),c&&(o.split(o.mapping.map(r.pos),1,l),!s&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),d=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const Lq=ahe(),lhe=(e,t)=>(t&&t(e.tr.setSelection(new ui(e.doc))),!0);function che(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||bq(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function Fq(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(che(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let d=t.pos+i.nodeSize,f=be.empty;for(let v=s.length-1;v>=0;v--)f=be.from(s[v].create(null,f));f=be.from(r.copy(f));let h=e.tr.step(new ci(t.pos-1,d,t.pos,d,new De(f,1,0),s.length,!0)),m=d+2*s.length;bq(h.doc,m)&&h.join(m),n(h.scrollIntoView())}return!0}let l=Ot.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&e9(c);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(a&&id(i,"start",!0)&&id(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,m=1;for(;!h.isTextblock;h=h.firstChild)m++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let v=be.empty;for(let y=f.length-1;y>=0;y--)v=be.from(f[y].copy(v));let _=e.tr.step(new ci(t.pos-f.length,t.pos+i.nodeSize,t.pos+m,t.pos+i.nodeSize-m,new De(v,f.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function jq(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(Dt.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const uhe=jq(-1),dhe=jq(1);function cLe(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&wfe(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function uLe(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,e,t)}r(s.scrollIntoView())}return!0}}function fhe(e,t,n){for(let r=0;r<t.length;r++){let{$from:i,$to:s}=t[r],o=i.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(n)}),o)return!0}return!1}function dLe(e,t=null){return function(n,r){let{empty:i,$cursor:s,ranges:o}=n.selection;if(i&&!s||!fhe(n.doc,o,e))return!1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let a=!1,l=n.tr;for(let c=0;!a&&c<o.length;c++){let{$from:u,$to:d}=o[c];a=n.doc.rangeHasMark(u.pos,d.pos,e)}for(let c=0;c<o.length;c++){let{$from:u,$to:d}=o[c];if(a)l.removeMark(u.pos,d.pos,e);else{let f=u.pos,h=d.pos,m=u.nodeAfter,v=d.nodeBefore,_=m&&m.isText?/^\s*/.exec(m.text)[0].length:0,y=v&&v.isText?/\s*$/.exec(v.text)[0].length:0;f+_<h&&(f+=_,h-=y),l.addMark(f,h,e.create(t))}}r(l.scrollIntoView())}return!0}}function p0(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let u2=p0(Mq,i9,the),pO=p0(Mq,rhe,ihe);const po={Enter:p0(she,Nq,Dq,Lq),"Mod-Enter":ohe,Backspace:u2,"Mod-Backspace":u2,"Shift-Backspace":u2,Delete:pO,"Mod-Delete":pO,"Mod-a":lhe},Bq={"Ctrl-h":po.Backspace,"Alt-Backspace":po["Mod-Backspace"],"Ctrl-d":po.Delete,"Ctrl-Alt-Backspace":po["Mod-Delete"],"Alt-Delete":po["Mod-Delete"],"Alt-d":po["Mod-Delete"],"Ctrl-a":uhe,"Ctrl-e":dhe};for(let e in po)Bq[e]=po[e];const hhe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,mO=hhe?Bq:po;var qa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},phe=typeof navigator<"u"&&/Mac/.test(navigator.platform),mhe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var rr=0;rr<10;rr++)qa[48+rr]=qa[96+rr]=String(rr);for(var rr=1;rr<=24;rr++)qa[rr+111]="F"+rr;for(var rr=65;rr<=90;rr++)qa[rr]=String.fromCharCode(rr+32),k1[rr]=String.fromCharCode(rr);for(var d2 in qa)k1.hasOwnProperty(d2)||(k1[d2]=qa[d2]);function ghe(e){var t=phe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||mhe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?k1:qa)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const vhe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function _he(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))vhe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function yhe(e){let t=Object.create(null);for(let n in e)t[_he(n)]=e[n];return t}function f2(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function bhe(e){return new Ss({props:{handleKeyDown:Uq(e)}})}function Uq(e){let t=yhe(e);return function(n,r){let i=ghe(r),s,o=t[f2(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[f2(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=qa[r.keyCode])&&s!=i){let a=t[f2(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const ir=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Qf=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let G6=null;const uo=function(e,t,n){let r=G6||(G6=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Che=function(){G6=null},ac=function(e,t,n,r){return n&&(gO(e,t,n,r,-1)||gO(e,t,n,r,1))},She=/^(img|br|input|textarea|hr)$/i;function gO(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Ds(e))){let s=e.parentNode;if(!s||s.nodeType!=1||Uh(e)||She.test(e.nodeName)||e.contentEditable=="false")return!1;t=ir(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Ds(e):0}else return!1}}function Ds(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function whe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Ds(e)}else if(e.parentNode&&!Uh(e))t=ir(e),e=e.parentNode;else return null}}function Ehe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Uh(e))t=ir(e)+1,e=e.parentNode;else return null}}function xhe(e,t,n){for(let r=t==0,i=t==Ds(e);r||i;){if(e==n)return!0;let s=ir(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Ds(e)}}function Uh(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const m0=function(e){return e.focusNode&&ac(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Tl(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function khe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function The(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const $s=typeof navigator<"u"?navigator:null,vO=typeof document<"u"?document:null,nl=$s&&$s.userAgent||"",H6=/Edge\/(\d+)/.exec(nl),qq=/MSIE \d/.exec(nl),V6=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nl),Ur=!!(qq||V6||H6),Ta=qq?document.documentMode:V6?+V6[1]:H6?+H6[1]:0,fs=!Ur&&/gecko\/(\d+)/i.test(nl);fs&&+(/Firefox\/(\d+)/.exec(nl)||[0,0])[1];const $6=!Ur&&/Chrome\/(\d+)/.exec(nl),vr=!!$6,zq=$6?+$6[1]:0,kr=!Ur&&!!$s&&/Apple Computer/.test($s.vendor),sd=kr&&(/Mobile\/\w+/.test(nl)||!!$s&&$s.maxTouchPoints>2),Si=sd||($s?/Mac/.test($s.platform):!1),Ohe=$s?/Win/.test($s.platform):!1,Yi=/Android \d/.test(nl),qh=!!vO&&"webkitFontSmoothing"in vO.documentElement.style,Ahe=qh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Ihe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ao(e,t){return typeof e=="number"?e:e[t]}function Mhe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function _O(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let o=n||e.dom;o;o=Qf(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?Ihe(s):Mhe(a),u=0,d=0;if(t.top<c.top+ao(r,"top")?d=-(c.top-t.top+ao(i,"top")):t.bottom>c.bottom-ao(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+ao(i,"top")-c.top:t.bottom-c.bottom+ao(i,"bottom")),t.left<c.left+ao(r,"left")?u=-(c.left-t.left+ao(i,"left")):t.right>c.right-ao(r,"right")&&(u=t.right-c.right+ao(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-f,v=a.scrollTop-h;t={left:t.left-m,top:t.top-v,right:t.right-m,bottom:t.bottom-v}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Rhe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(s,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:Gq(e.dom)}}function Gq(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Qf(r));return t}function Phe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Hq(n,r==0?0:r-t)}function Hq(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Zc=null;function Nhe(e){if(e.setActive)return e.setActive();if(Zc)return e.focus(Zc);let t=Gq(e);e.focus(Zc==null?{get preventScroll(){return Zc={preventScroll:!0},!0}}:void 0),Zc||(Zc=!1,Hq(t,0))}function Vq(e,t){let n,r=2e8,i,s=0,o=t.top,a=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=uo(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let v=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(v<r){n=u,r=v,i=v&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,u.nodeType==1&&v&&(s=d+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?Dhe(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:Vq(n,i)}function Dhe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=da(r,1);if(s.top!=s.bottom&&o9(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function o9(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Lhe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Fhe(e,t,n){let{node:r,offset:i}=Vq(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function jhe(e,t,n,r){let i=-1;for(let s=t,o=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function $q(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=e.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(o9(t,c))return $q(o,t,c)}}if((s=(s+1)%r)==i)break}return e}function Bhe(e,t){let n=e.dom.ownerDocument,r,i=0,s=The(n,t.left,t.top);s&&({node:r,offset:i}=s);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=e.dom.getBoundingClientRect();if(!o9(t,c)||(o=$q(e.dom,t,c),!o))return null}if(kr)for(let c=o;r&&c;c=Qf(c))c.draggable&&(r=void 0);if(o=Lhe(o,t),r){if(fs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let c;qh&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=jhe(e,r,i,t))}a==null&&(a=Fhe(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function yO(e){return e.top<e.bottom||e.left<e.right}function da(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(yO(r))return r}return Array.prototype.find.call(n,yO)||e.getBoundingClientRect()}const Uhe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Wq(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),o=qh||fs;if(r.nodeType==3)if(o&&(Uhe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=da(uo(r,i,i),n);if(fs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=da(uo(r,i-1,i-1),-1);if(c.top==l.top){let u=da(uo(r,i,i+1),-1);if(u.top!=l.top)return qd(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,qd(da(uo(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ds(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return h2(l.getBoundingClientRect(),!1)}if(s==null&&i<Ds(r)){let l=r.childNodes[i];if(l.nodeType==1)return h2(l.getBoundingClientRect(),!0)}return h2(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ds(r))){let l=r.childNodes[i-1],c=l.nodeType==3?uo(l,Ds(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return qd(da(c,1),!1)}if(s==null&&i<Ds(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?uo(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return qd(da(c,-1),!0)}return qd(da(r.nodeType==3?uo(r):r,-n),n>=0)}function qd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function h2(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Kq(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function qhe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return Kq(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=Wq(e,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=uo(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const zhe=/[\u0590-\u08ac]/;function Ghe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=e.domSelection();return!zhe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:Kq(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:v}=e.domSelectionRange(),_=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==v;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),_})}let bO=null,CO=null,SO=!1;function Hhe(e,t,n){return bO==t&&CO==n?SO:(bO=t,CO=n,SO=n=="up"||n=="down"?qhe(e,t,n):Ghe(e,t,n))}const Oi=0,wO=1,Pl=2,Ws=3;class zh{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Oi,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>ir(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof Zq){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Yq&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?ir(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?ir(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&t<=c){let u=o+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=ir(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=ir(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),o=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let m=this.children[f],v=h+m.size;if(s>h&&o<v)return m.setSelection(t-h-m.border,n-h-m.border,r,i);h=v}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((fs||kr)&&t==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]==`
`),u&&h==f.nodeValue.length)for(let m=f,v;m;m=m.parentNode){if(v=m.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:ir(v)+1});break}let _=m.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let m=f.childNodes[h-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(fs&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&kr)&&ac(a.node,a.offset,c.anchorNode,c.anchorOffset)&&ac(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||t==n)&&!u){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(t>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+s.border,l=o-s.border;if(t>=a&&n<=l){this.dirty=t==r||n==o?Pl:wO,t==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ws:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Pl:Ws}r=o}this.dirty=Pl}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Pl:wO;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class Yq extends zh{constructor(t,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==Oi&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Vhe extends zh{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class lc extends zh{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Cd.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new lc(t,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Ws||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ws&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Oi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Oi}}slice(t,n,r){let i=lc.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Y6(s,n,o,r)),t>0&&(s=Y6(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Oa extends zh{constructor(t,n,r,i,s,o,a,l,c){super(t,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Cd.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=Xq(u,r,n),c?l=new $he(t,n,r,i,u,d||null,f,c,s,o+1):n.isText?new g0(t,n,r,i,u,f,s):new Oa(t,n,r,i,u,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>be.empty)}return t}matchesNode(t,n,r){return this.dirty==Oi&&t.eq(this.node)&&K6(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new Khe(this,o&&o.node,t);Jhe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Ut.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,t);let h;l.findNodeMatch(c,u,d,f)||a&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,h,t)||l.updateNextNode(c,u,d,t,f,i)||l.addNode(c,u,d,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Pl)&&(o&&this.protectLocalComposition(t,o),Jq(this.contentDOM,this.children,t),sd&&Qhe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Dt)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Xhe(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new Vhe(this,s,n,i);t.input.compositionNodes.push(o),this.children=Y6(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==Ws||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Oi}updateOuterDeco(t){if(K6(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Qq(this.dom,this.nodeDOM,W6(this.outerDeco,this.node,n),W6(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function EO(e,t,n,r,i){Xq(r,t,e);let s=new Oa(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class g0 extends Oa{constructor(t,n,r,i,s,o,a){super(t,n,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Ws||this.dirty!=Oi&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Oi||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Oi,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new g0(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ws)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Zq extends zh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Oi&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class $he extends Oa{constructor(t,n,r,i,s,o,a,l,c,u){super(t,n,r,i,s,o,a,c,u),this.spec=l}update(t,n,r,i){if(this.dirty==Ws)return!1;if(this.spec.update){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Jq(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=xO(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(o instanceof lc){let l=r?r.previousSibling:e.lastChild;Jq(o.contentDOM,o.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=xO(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Sf=function(e){e&&(this.nodeName=e)};Sf.prototype=Object.create(null);const Nl=[new Sf];function W6(e,t,n){if(e.length==0)return Nl;let r=n?Nl[0]:new Sf,i=[r];for(let s=0;s<e.length;s++){let o=e[s].type.attrs;if(o){o.nodeName&&i.push(r=new Sf(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Sf(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function Qq(e,t,n,r){if(n==Nl&&r==Nl)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Nl[0]),i=l}Whe(i,a||Nl[0],o)}return i}function Whe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function Xq(e,t,n){return Qq(e,e,Nl,W6(t,n,e.nodeType!=1))}function K6(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function xO(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Khe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Yhe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Oi,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=lc.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let o=this.top.children[i];return o.dirty==Ws&&o.dom==o.contentDOM&&(o.dirty=Pl),o.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Oa){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Ws&&K6(n,l.outerDeco));if(!f&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,i,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Pl,d.updateChildren(i,o+1),d.dirty=Oi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=Oa.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,s){let o=Oa.create(this.top,t,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Yq(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof lc;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof g0)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((kr||vr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Zq(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Yhe(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof lc)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Zhe(e,t){return e.type.side-t.type.side}function Jhe(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,i,t.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let _=i[o++];_.widget&&(u?(d||(d=[u])).push(_):u=_)}if(u)if(d){d.sort(Zhe);for(let _=0;_<d.length;_++)n(d[_],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<e.childCount)h=c,f=e.child(c++);else break;for(let _=0;_<a.length;_++)a[_].to<=s&&a.splice(_--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let m=s+f.nodeSize;if(f.isText){let _=m;o<i.length&&i[o].from<_&&(_=i[o].from);for(let y=0;y<a.length;y++)a[y].to<_&&(_=a[y].to);_<m&&(l=f.cut(_-s),f=f.cut(0,_-s),m=_,h=-1)}else for(;o<i.length&&i[o].to<m;)o++;let v=f.isInline&&!f.isLeaf?a.filter(_=>!_.inline):a.slice();r(f,v,t.forChild(s,f),h),s=m}}function Qhe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Xhe(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let o=e.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<e.childCount;){let c=e.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function Y6(e,t,n,r,i){let s=[];for(let o=0,a=0;o<e.length;o++){let l=e[o],c=a,u=a+=l.size;c>=n||u<=t?s.push(l):(c<t&&s.push(l.slice(0,t-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function a9(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(m0(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&ot.isSelectable(u)&&i.parent&&!(u.isInline&&xhe(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new ot(o==d?a:r.resolve(d))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;c=l9(e,l,a,u)}return c}function ez(e){return e.editable?e.hasFocus():nz(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Eo(e,t=!1){let n=e.state.selection;if(tz(e,n),!!ez(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&vr){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ac(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)tpe(e);else{let{anchor:r,head:i}=n,s,o;kO&&!(n instanceof Dt)&&(n.$from.parent.inlineContent||(s=TO(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=TO(e,n.to))),e.docView.setSelection(r,i,e.root,t),kO&&(s&&OO(s),o&&OO(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&epe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const kO=kr||vr&&zq<63;function TO(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(kr&&i&&i.contentEditable=="false")return p2(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return p2(i);if(s)return p2(s)}}function p2(e){return e.contentEditable="true",kr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function OO(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function epe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!ez(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function tpe(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ir(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Ur&&Ta<=11&&(r.disabled=!0,r.disabled=!1)}function tz(e,t){if(t instanceof ot){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(AO(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else AO(e)}function AO(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function l9(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Dt.between(t,n,r)}function IO(e){return e.editable&&!e.hasFocus()?!1:nz(e)}function nz(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function npe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return ac(t.node,t.offset,n.anchorNode,n.anchorOffset)}function Z6(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Ot.findFrom(s,t)}function fa(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function MO(e,t,n){let r=e.state.selection;if(r instanceof Dt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return fa(e,new Dt(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=Z6(e.state,t);return i&&i instanceof ot?fa(e,i):!1}else if(!(Si&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?ot.isSelectable(s)?fa(e,new ot(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):qh?fa(e,new Dt(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ot&&r.node.isInline)return fa(e,new Dt(t>0?r.$to:r.$from));{let i=Z6(e.state,t);return i?fa(e,i):!1}}}function T1(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function wf(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Jc(e,t){return t<0?rpe(e):ipe(e)}function rpe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,o=!1;for(fs&&n.nodeType==1&&r<T1(n)&&wf(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(wf(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(rz(n))break;{let a=n.previousSibling;for(;a&&wf(a,-1);)i=n.parentNode,s=ir(a),a=a.previousSibling;if(a)n=a,r=T1(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?J6(e,n,r):i&&J6(e,i,s)}function ipe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=T1(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(wf(a,1))s=n,o=++r;else break}else{if(rz(n))break;{let a=n.nextSibling;for(;a&&wf(a,1);)s=a.parentNode,o=ir(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=T1(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&J6(e,s,o)}function rz(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function spe(e,t){for(;e&&t==e.childNodes.length&&!Uh(e);)t=ir(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function ope(e,t){for(;e&&!t&&!Uh(e);)t=ir(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function J6(e,t,n){if(t.nodeType!=3){let s,o;(o=spe(t,n))?(t=o,n=0):(s=ope(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(m0(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Eo(e)},50)}function RO(e,t){let n=e.state.doc.resolve(t);if(!(vr||Ohe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function PO(e,t,n){let r=e.state.selection;if(r instanceof Dt&&!r.empty||n.indexOf("s")>-1||Si&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=Z6(e.state,t);if(o&&o instanceof ot)return fa(e,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof ui?Ot.near(o,t):Ot.findFrom(o,t);return a?fa(e,a):!1}return!1}function NO(e,t){if(!(e.state.selection instanceof Dt))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=e.state.tr;return t<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),e.dispatch(o),!0}return!1}function DO(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function ape(e){if(!kr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;DO(e,r,"true"),setTimeout(()=>DO(e,r,"false"),20)}return!1}function lpe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function cpe(e,t){let n=t.keyCode,r=lpe(t);if(n==8||Si&&n==72&&r=="c")return NO(e,-1)||Jc(e,-1);if(n==46&&!t.shiftKey||Si&&n==68&&r=="c")return NO(e,1)||Jc(e,1);if(n==13||n==27)return!0;if(n==37||Si&&n==66&&r=="c"){let i=n==37?RO(e,e.state.selection.from)=="ltr"?-1:1:-1;return MO(e,i,r)||Jc(e,i)}else if(n==39||Si&&n==70&&r=="c"){let i=n==39?RO(e,e.state.selection.from)=="ltr"?1:-1:1;return MO(e,i,r)||Jc(e,i)}else{if(n==38||Si&&n==80&&r=="c")return PO(e,-1,r)||Jc(e,-1);if(n==40||Si&&n==78&&r=="c")return ape(e)||PO(e,1,r)||Jc(e,1);if(r==(Si?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function iz(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=e.someProp("clipboardSerializer")||Cd.fromSchema(e.state.schema),a=uz(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=cz[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=a.createElement(u[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function sz(e,t,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!t)return null;let l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return t?new De(be.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):De.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)a=d;else{let f=i.marks(),{schema:h}=e.state,m=Cd.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(v=>{let _=o.appendChild(document.createElement("p"));v&&_.appendChild(m.serializeNode(h.text(v,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=fpe(n),qh&&hpe(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Zf.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!upe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=ppe(LO(a,+u[1],+u[2]),u[4]);else if(a=De.maxOpen(dpe(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=LO(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const upe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dpe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,o=[];if(e.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&az(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=lz(o[o.length-1],s.length));let u=oz(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return be.from(o)}return e}function oz(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,be.from(e));return e}function az(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=az(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(be.from(oz(n,e,i+1))))}}function lz(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,lz(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(be.empty,!0);return e.copy(n.append(r))}function Q6(e,t,n,r,i,s){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(s=0),i<r-1&&(a=Q6(a,t,n,r,i+1,s)),i>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(be.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function LO(e,t,n){return t<e.openStart&&(e=new De(Q6(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new De(Q6(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const cz={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let FO=null;function uz(){return FO||(FO=document.implementation.createHTMLDocument("title"))}function fpe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=uz().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&cz[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=e,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function hpe(e){let t=e.querySelectorAll(vr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function ppe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=be.from(l.create(r[a+1],i)),s++,o++}return new De(i,s,o)}const Tr={},Or={},mpe={touchstart:!0,touchmove:!0};class gpe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vpe(e){for(let t in Tr){let n=Tr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{ype(e,r)&&!c9(e,r)&&(e.editable||!(r.type in Or))&&n(e,r)},mpe[t]?{passive:!0}:void 0)}kr&&e.dom.addEventListener("input",()=>null),X6(e)}function Sa(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function _pe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function X6(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>c9(e,r))})}function c9(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function ype(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function bpe(e,t){!c9(e,t)&&Tr[t.type]&&(e.editable||!(t.type in Or))&&Tr[t.type](e,t)}Or.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!fz(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Yi&&vr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),sd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Tl(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||cpe(e,n)?n.preventDefault():Sa(e,"key")};Or.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Or.keypress=(e,t)=>{let n=t;if(fz(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Si&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Dt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function v0(e){return{left:e.clientX,top:e.clientY}}function Cpe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function u9(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,a=>o>s.depth?a(e,n,s.nodeAfter,s.before(o),i,!0):a(e,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Nu(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function Spe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&ot.isSelectable(r)?(Nu(e,new ot(n)),!0):!1}function wpe(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof ot&&(r=n.node);let s=e.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(ot.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Nu(e,ot.create(e.state.doc,i)),!0):!1}function Epe(e,t,n,r,i){return u9(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?wpe(e,n):Spe(e,n))}function xpe(e,t,n,r){return u9(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function kpe(e,t,n,r){return u9(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||Tpe(e,n,r)}function Tpe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Nu(e,Dt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Nu(e,Dt.create(r,a+1,a+1+o.content.size));else if(ot.isSelectable(o))Nu(e,ot.create(r,a));else continue;return!0}}function d9(e){return O1(e)}const dz=Si?"metaKey":"ctrlKey";Tr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=d9(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&Cpe(n,e.input.lastClick)&&!n[dz]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=e.posAtCoords(v0(n));o&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Ope(e,o,n,!!r)):(s=="doubleClick"?xpe:kpe)(e,o.pos,o.inside,n)?n.preventDefault():Sa(e,"pointer"))};class Ope{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[dz],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),o=n.inside;else{let u=t.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof ot&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Sa(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Eo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(v0(t))),this.updateAllowDefault(t),this.allowDefault||!n?Sa(this.view,"pointer"):Epe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||kr&&this.mightDrag&&!this.mightDrag.node.isAtom||vr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Nu(this.view,Ot.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Sa(this.view,"pointer")}move(t){this.updateAllowDefault(t),Sa(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Tr.touchstart=e=>{e.input.lastTouch=Date.now(),d9(e),Sa(e,"pointer")};Tr.touchmove=e=>{e.input.lastTouch=Date.now(),Sa(e,"pointer")};Tr.contextmenu=e=>d9(e);function fz(e,t){return e.composing?!0:kr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const Ape=Yi?5e3:-1;Or.compositionstart=Or.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),O1(e,!0),e.markCursor=null;else if(O1(e),fs&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){e.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}e.input.composing=!0}hz(e,Ape)};Or.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,hz(e,20))};function hz(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>O1(e),t))}function pz(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Mpe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Ipe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=whe(t.focusNode,t.focusOffset),r=Ehe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Mpe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function O1(e,t=!1){if(!(Yi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),pz(e),t||e.docView&&e.docView.dirty){let n=a9(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function Rpe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Xf=Ur&&Ta<15||sd&&Ahe<604;Tr.copy=Or.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=Xf?null:n.clipboardData,o=r.content(),{dom:a,text:l}=iz(e,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Rpe(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Ppe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Npe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?eh(e,r.value,null,i,t):eh(e,r.textContent,r.innerHTML,i,t)},50)}function eh(e,t,n,r,i){let s=sz(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,s||De.empty)))return!0;if(!s)return!1;let o=Ppe(s),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function mz(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Or.paste=(e,t)=>{let n=t;if(e.composing&&!Yi)return;let r=Xf?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&eh(e,mz(r),r.getData("text/html"),i,n)?n.preventDefault():Npe(e,n)};class gz{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const vz=Si?"altKey":"ctrlKey";Tr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(v0(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof ot?i.to-1:i.to))){if(r&&r.mightDrag)o=ot.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(o=ot.create(e.state.doc,d.posBefore))}}let a=(o||e.state.selection).content(),{dom:l,text:c,slice:u}=iz(e,a);(!n.dataTransfer.files.length||!vr||zq>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Xf?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Xf||n.dataTransfer.setData("text/plain",c),e.dragging=new gz(u,!n[vz],o)};Tr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Or.dragover=Or.dragenter=(e,t)=>t.preventDefault();Or.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(v0(n));if(!i)return;let s=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",m=>{o=m(o,e)}):o=sz(e,mz(n.dataTransfer),Xf?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[vz]);if(e.someProp("handleDrop",m=>m(e,n,o||De.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?Lfe(e.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=e.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&ot.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ot(h));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,_,y,b)=>m=b),c.setSelection(l9(e,h,c.doc.resolve(m)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Tr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Eo(e)},20))};Tr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Tr.beforeinput=(e,t)=>{if(vr&&Yi&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,Tl(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Or)Tr[e]=Or[e];function th(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class A1{constructor(t,n){this.toDOM=t,this.spec=n||Gl,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Br(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof A1&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&th(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Aa{constructor(t,n){this.attrs=t,this.spec=n||Gl}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Br(s,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Aa&&th(this.attrs,t.attrs)&&th(this.spec,t.spec)}static is(t){return t.type instanceof Aa}destroy(){}}class f9{constructor(t,n){this.attrs=t,this.spec=n||Gl}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Br(s.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof f9&&th(this.attrs,t.attrs)&&th(this.spec,t.spec)}destroy(){}}class Br{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Br(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Br(t,t,new A1(n,r))}static inline(t,n,r,i){return new Br(t,n,new Aa(r,i))}static node(t,n,r,i){return new Br(t,n,new f9(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Aa}get widget(){return this.type instanceof A1}}const du=[],Gl={};class on{constructor(t,n){this.local=t.length?t:du,this.children=n.length?n:du}static create(t,n){return n.length?I1(n,t,0,Gl):hr}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,i+a,s)}}map(t,n,r){return this==hr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Gl)}mapInner(t,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Dpe(this.children,o||[],t,n,r,i,s):o?new on(o.sort(Hl),du):hr}add(t,n){return n.length?this==hr?on.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((a,l)=>{let c=l+r,u;if(u=yz(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,I1(u,a,c+1,Gl)),s+=3}});let o=_z(s?bz(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new on(o.length?this.local.concat(o).sort(Hl):this.local,i||this.children)}remove(t){return t.length==0||this==hr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<l&&(t[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=hr?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new on(i,r):hr}forChild(t,n){if(this==hr)return this;if(n.isLeaf)return on.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Aa){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new on(i.sort(Hl),du);return r?new ga([a,r]):a}return r||hr}eq(t){if(this==t)return!0;if(!(t instanceof on)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return h9(this.localsInner(t))}localsInner(t){if(this==hr)return du;if(t.inlineContent||!this.local.some(Aa.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Aa||n.push(this.local[r]);return n}}on.empty=new on([],[]);on.removeOverlap=h9;const hr=on.empty;class ga{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Gl));return ga.from(r)}forChild(t,n){if(n.isLeaf)return on.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=hr&&(s instanceof ga?r=r.concat(s.members):r.push(s))}return ga.from(r)}eq(t){if(!(t instanceof ga)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?h9(r?n:n.sort(Hl)):du}static from(t){switch(t.length){case 0:return hr;case 1:return t[0];default:return new ga(t.every(n=>n instanceof on)?t:t.reduce((n,r)=>n.concat(r instanceof on?r:r.members),[]))}}}function Dpe(e,t,n,r,i,s,o){let a=e.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,m,v)=>{let _=v-m-(h-f);for(let y=0;y<a.length;y+=3){let b=a[y+1];if(b<0||f>b+u-d)continue;let C=a[y]+u-d;h>=C?a[y+1]=f<=C?-2:-1:f>=u&&_&&(a[y]+=_,a[y+1]+=_)}d+=_}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(e[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[c+1]+s,-1),h=f-i,{index:m,offset:v}=r.content.findIndex(d),_=r.maybeChild(m);if(_&&v==d&&v+_.nodeSize==h){let y=a[c+2].mapInner(n,_,u+1,e[c]+s+1,o);y!=hr?(a[c]=d,a[c+1]=h,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Lpe(a,e,t,n,i,s,o),u=I1(c,r,0,o);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new on(t.sort(Hl),a)}function _z(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Br(i.from+t,i.to+t,i.type))}return n}function Lpe(e,t,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+s+1);return n}function yz(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,o;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function bz(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function I1(e,t,n,r){let i=[],s=!1;t.forEach((a,l)=>{let c=yz(e,a,l+n);if(c){s=!0;let u=I1(c,a,n+l+1,r);u!=hr&&i.push(l,l+a.nodeSize,u)}});let o=_z(s?bz(e):e,-n).sort(Hl);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new on(o,i):hr}function Hl(e,t){return e.from-t.from||e.to-t.to}function h9(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),jO(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),jO(t,i,r.copy(s.from,r.to)));break}}}return t}function jO(e,t,n){for(;t<e.length&&Hl(n,e[t])>0;)t++;e.splice(t,0,n)}function m2(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=hr&&t.push(r)}),e.cursorWrapper&&t.push(on.create(e.state.doc,[e.cursorWrapper.deco])),ga.from(t)}const Fpe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jpe=Ur&&Ta<=11;class Bpe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Upe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Bpe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ur&&Ta<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),jpe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Fpe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(IO(this.view)){if(this.suppressingSelectionUpdates)return Eo(this.view);if(Ur&&Ta<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&ac(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=Qf(s))n.add(s);for(let s=t.anchorNode;s;s=Qf(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&IO(t)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(fs&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||Gpe(t,d)!=h)&&f.remove()}}}let c=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&m0(r)&&(c=a9(t))&&c.eq(Ot.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Eo(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),qpe(t)),this.handleDOMChange(s,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Eo(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(Ur&&Ta<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==t.target?ir(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?ir(s):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let BO=new WeakMap,UO=!1;function qpe(e){if(!BO.has(e)&&(BO.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=fs,UO)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),UO=!0}}function qO(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return ac(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function zpe(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return qO(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?qO(e,n):null}function Gpe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Hpe(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],m0(l)||c.push({node:l.focusNode,offset:l.focusOffset})),vr&&e.input.lastKeyCode===8)for(let _=s;_>i;_--){let y=r.childNodes[_-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){s=_;break}if(!b||b.size)break}let d=e.state.doc,f=e.someProp("domParser")||Zf.fromSchema(e.state.schema),h=d.resolve(o),m=null,v=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Vpe,context:h});if(c&&c[0].pos!=null){let _=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=_),m={anchor:_+o,head:y+o}}return{doc:v,sel:m,from:o,to:a}}function Vpe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(kr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||kr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $pe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Wpe(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let O=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,k=a9(e,O);if(k&&!e.state.selection.eq(k)){if(vr&&Yi&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",I=>I(e,Tl(13,"Enter"))))return;let A=e.state.tr.setSelection(k);O=="pointer"?A.setMeta("pointer",!0):O=="key"&&A.scrollIntoView(),s&&A.setMeta("composition",s),e.dispatch(A)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=Hpe(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let m=Zpe(d.content,c.doc.content,c.from,f,h);if((sd&&e.input.lastIOSEnter>Date.now()-225||Yi)&&i.some(O=>O.nodeType==1&&!$pe.test(O.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",O=>O(e,Tl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Dt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let O=zO(e,e.state.doc,c.sel);if(O&&!O.eq(e.state.selection)){let k=e.state.tr.setSelection(O);s&&k.setMeta("composition",s),e.dispatch(k)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Dt&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),Ur&&Ta<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let v=c.doc.resolveNoCache(m.start-c.from),_=c.doc.resolveNoCache(m.endB-c.from),y=u.resolve(m.start),b=v.sameParent(_)&&v.parent.inlineContent&&y.end()>=m.endA,C;if((sd&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!b&&v.pos<c.doc.content.size&&!v.sameParent(_)&&(C=Ot.findFrom(c.doc.resolve(v.pos+1),1,!0))&&C.head==_.pos)&&e.someProp("handleKeyDown",O=>O(e,Tl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&Ype(u,m.start,m.endA,v,_)&&e.someProp("handleKeyDown",O=>O(e,Tl(8,"Backspace")))){Yi&&vr&&e.domObserver.suppressSelectionUpdates();return}vr&&Yi&&m.endB==m.start&&(e.input.lastAndroidDelete=Date.now()),Yi&&!b&&v.start()!=_.start()&&_.parentOffset==0&&v.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,_=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(O){return O(e,Tl(13,"Enter"))})},20));let S=m.start,x=m.endA,w,E,T;if(b){if(v.pos==_.pos)Ur&&Ta<=11&&v.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Eo(e),20)),w=e.state.tr.delete(S,x),E=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(T=Kpe(v.parent.content.cut(v.parentOffset,_.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start()))))w=e.state.tr,T.type=="add"?w.addMark(S,x,T.mark):w.removeMark(S,x,T.mark);else if(v.parent.child(v.index()).isText&&v.index()==_.index()-(_.textOffset?0:1)){let O=v.parent.textBetween(v.parentOffset,_.parentOffset);if(e.someProp("handleTextInput",k=>k(e,S,x,O)))return;w=e.state.tr.insertText(O,S,x)}}if(w||(w=e.state.tr.replace(S,x,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let O=zO(e,w.doc,c.sel);O&&!(vr&&Yi&&e.composing&&O.empty&&(m.start!=m.endB||e.input.lastAndroidDelete<Date.now()-100)&&(O.head==S||O.head==w.mapping.map(x)-1)||Ur&&O.empty&&O.head==S)&&w.setSelection(O)}E&&w.ensureMarks(E),s&&w.setMeta("composition",s),e.dispatch(w.scrollIntoView())}function zO(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:l9(e,t.resolve(n.anchor),t.resolve(n.head))}function Kpe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(be.from(c).eq(e))return{mark:a,type:o}}function Ype(e,t,n,r,i){if(n-t<=i.pos-r.pos||g2(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=e.resolve(g2(s,!0,!0));return!o.parent.isTextblock||o.pos>n||g2(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function g2(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Zpe(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&e.size<t.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<t.size&&GO(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<e.size&&GO(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function GO(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Jpe{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new gpe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(KO),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=$O(this),VO(this),this.nodeViews=WO(this),this.docView=EO(this.state.doc,HO(this),m2(this),this.dom,this),this.domObserver=new Upe(this,(r,i,s,o)=>Wpe(this,r,i,s,o)),this.domObserver.start(),vpe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&X6(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(KO),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(pz(this),o=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=WO(this);Xpe(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&X6(this),this.editable=$O(this),VO(this);let l=m2(this),c=HO(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(i.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Rhe(this);if(o){this.domObserver.stop();let h=d&&(Ur||vr)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Qpe(i.selection,t.selection);if(d){let m=vr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Ipe(this)),(s||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=EO(t.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&npe(this))?Eo(this,h):(tz(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&Phe(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ot){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_O(this,n.getBoundingClientRect(),t)}else _O(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new gz(t.slice,t.move,i<0?void 0:ot.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Ur){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Nhe(this.dom),Eo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Bhe(this,t)}coordsAtPos(t,n=1){return Wq(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return Hhe(this,n||this.state,t)}pasteHTML(t,n){return eh(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return eh(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(_pe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],m2(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Che())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return bpe(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return kr&&this.root.nodeType===11&&khe(this.dom.ownerDocument)==this.dom&&zpe(this,t)||t}domSelection(){return this.root.getSelection()}}function HO(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Br.node(0,e.state.doc.content.size,t)]}function VO(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Br.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function $O(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Qpe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function WO(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Xpe(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function KO(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class vn extends Ot{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return vn.valid(r)?new vn(r):Ot.near(r)}content(){return De.empty}eq(t){return t instanceof vn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new vn(t.resolve(n.pos))}getBookmark(){return new p9(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!eme(t)||!tme(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&vn.valid(t))return t;let i=t.pos,s=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){s=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let l=t.doc.resolve(i);if(vn.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!ot.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=t.doc.resolve(i);if(vn.valid(a))return a}return null}}}vn.prototype.visible=!1;vn.findFrom=vn.findGapCursorFrom;Ot.jsonID("gapcursor",vn);class p9{constructor(t){this.pos=t}map(t){return new p9(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return vn.valid(n)?new vn(n):Ot.near(n)}}function eme(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function tme(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function nme(){return new Ss({props:{decorations:ome,createSelectionBetween(e,t,n){return t.pos==n.pos&&vn.valid(n)?new vn(n):null},handleClick:ime,handleKeyDown:rme,handleDOMEvents:{beforeinput:sme}}})}const rme=Uq({ArrowLeft:$p("horiz",-1),ArrowRight:$p("horiz",1),ArrowUp:$p("vert",-1),ArrowDown:$p("vert",1)});function $p(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let o=r.selection,a=t>0?o.$to:o.$from,l=o.empty;if(o instanceof Dt){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=vn.findGapCursorFrom(a,t,l);return c?(i&&i(r.tr.setSelection(new vn(c))),!0):!1}}function ime(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!vn.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ot.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new vn(r))),!0)}function sme(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof vn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=be.empty;for(let o=r.length-1;o>=0;o--)i=be.from(r[o].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new De(i,0,0));return s.setSelection(Dt.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function ome(e){if(!(e.selection instanceof vn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",on.create(e.doc,[Br.widget(e.selection.head,t,{key:"gapcursor"})])}var M1=200,Wn=function(){};Wn.prototype.append=function(t){return t.length?(t=Wn.from(t),!this.length&&t||t.length<M1&&this.leafAppend(t)||this.length<M1&&t.leafPrepend(this)||this.appendInner(t)):this};Wn.prototype.prepend=function(t){return t.length?Wn.from(t).append(this):this};Wn.prototype.appendInner=function(t){return new ame(this,t)};Wn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Wn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Wn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Wn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Wn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},n,r),i};Wn.from=function(t){return t instanceof Wn?t:t&&t.length?new Cz(t):Wn.empty};var Cz=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=M1)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=M1)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Wn);Wn.empty=new Cz([]);var ame=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Wn);const lme=500;class Xi{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=t.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new Is(d.map));let h=d.step.map(i.slice(s)),m;h&&o.maybeStep(h).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new Is(m,void 0,void 0,c.length+u.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new Xi(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new Is(t.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let c=o-r.depth;return c>ume&&(a=cme(a,c),o-=c),new Xi(a.append(s),o)}remapping(t,n){let r=new Ru;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new Xi(this.items.append(t.map(n=>new Is(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=s.getMirror(--l);if(h==null)return;o=Math.min(o,h);let m=s.maps[h];if(f.step){let v=t.steps[h].invert(t.docs[h]),_=f.selection&&f.selection.map(s.slice(l+1,h));_&&a++,r.push(new Is(m,v,_))}else r.push(new Is(m))},i);let c=[];for(let f=n;f<o;f++)c.push(new Is(s.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new Xi(u,a);return d.emptyItemCount()>lme&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new Is(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new Xi(Wn.from(i.reverse()),s)}}Xi.empty=new Xi(Wn.empty,0);function cme(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Is{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Is(n.getMap().invert(),n,this.selection)}}}class ha{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const ume=20;function dme(e,t,n,r){let i=n.getMeta(Vl),s;if(i)return i.historyState;n.getMeta(pme)&&(e=new ha(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(Vl))return o.getMeta(Vl).redo?new ha(e.done.addTransform(n,void 0,r,Mm(t)),e.undone,YO(n.mapping.maps),e.prevTime,e.prevComposition):new ha(e.done,e.undone.addTransform(n,void 0,r,Mm(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!fme(n,e.prevRanges)),c=o?v2(e.prevRanges,n.mapping):YO(n.mapping.maps);return new ha(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,Mm(t)),Xi.empty,c,n.time,a??e.prevComposition)}else return(s=n.getMeta("rebased"))?new ha(e.done.rebased(n,s),e.undone.rebased(n,s),v2(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new ha(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),v2(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function fme(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function YO(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,o)=>t.push(s,o));return t}function v2(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function hme(e,t,n){let r=Mm(t),i=Vl.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),l=new ha(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Vl,{redo:n,historyState:l})}let _2=!1,ZO=null;function Mm(e){let t=e.plugins;if(ZO!=t){_2=!1,ZO=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){_2=!0;break}}return _2}const Vl=new Js("history"),pme=new Js("closeHistory");function mme(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Ss({key:Vl,state:{init(){return new ha(Xi.empty,Xi.empty,null,0,-1)},apply(t,n,r){return dme(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?wz:r=="historyRedo"?eS:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function Sz(e,t){return(n,r)=>{let i=Vl.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=hme(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const wz=Sz(!1,!0),eS=Sz(!0,!0),Du=new Js("customKeymapPlugin");function fLe(e,t){const{allHandlers:n=[]}=Du.getState(e.state)??{};return e.dispatch(e.state.tr.setMeta(Du,{allHandlers:[t,...n]})),()=>{e.dispatch(e.state.tr.setMeta(Du,{allHandlers:n.filter(r=>r!==t)}))}}function gme(e={allHandlers:[]}){return new Ss({key:Du,state:{init(){return{...e}},apply(t,n){const r=t.getMeta(Du);return r?{...n,...r}:n}},props:{handleKeyDown(t,n){if(e0(n))return!1;const{allHandlers:r=[]}=Du.getState(t.state)??{};for(const i of r){const s=i[n.key];if(s&&s(n))return!0}}}})}const vme=(e,t,n,r)=>{if(e.value){const i=t.marks.startend?.create(n)??null;return t.text(e.value,i?[i,...r??[]]:r)}return null},Ez=new Js("contentReference"),hLe=e=>{const t=Yg(e).map(({newContentReference:n})=>n);return new Ss({key:Ez,state:{init:(n,{doc:r})=>({displayedContentReferences:t}),apply:(n,r)=>r},props:{}})};function xz(e){if(e.childCount===0)return!0;if(e.childCount===1&&e.firstChild?.isTextblock){const t=e.firstChild.content;if(t.size===0)return!0;if(t.childCount===1&&t.firstChild?.isText)return/^\s*$/.test(t.firstChild.text??"")}return!1}function _me(e){let t="",n=!1;const r=[];function i(s){if(n=!1,s.type.name==="paragraph")return s.descendants(o=>i(o)),t+=`
`,n=!0,!1;if(s.type.name==="command_token"){const o=yme(s.textContent);return r.push({symbol:zF.SystemHint,startIndex:t.length,endIndex:t.length+o.length}),t+=o,!1}else s.isText&&s.text!==void 0&&(t+=s.text)}return e.descendants(s=>i(s)),n&&t.endsWith(`
`)&&(t=t.slice(0,-1)),{content:t,metadata:{custom_symbol_offsets:r}}}function yme(e){return e.replace(/[\u{E0000}-\u{E007F}]+/gu,"")}const m9=p0(Nq,Dq,Lq);function pLe(e,t){const{schema:n}=e.state,r=t?n.nodes.paragraph.create(null,n.text(t)):n.nodes.paragraph.create();e.dispatch(e.state.tr.replaceWith(0,e.state.doc.content.size,r)),e.hasFocus()&&e.dispatch(e.state.tr.setSelection(Dt.atEnd(e.state.doc)).scrollIntoView())}function mLe(e){e.hasFocus()?e.dispatch(e.state.tr.scrollIntoView()):(e.focus(),e.dispatch(e.state.tr.setSelection(Dt.atEnd(e.state.doc)).scrollIntoView()))}function gLe(e){return bme(e,0,e.state.doc.content.size)}function bme(e,t,n){e.dispatch(e.state.tr.delete(t,n))}function vLe(e,t){kz(e,t,!1,!1)}function _Le(e,t){e.dispatch(e.state.tr.setSelection(Dt.create(e.state.doc,0))),m9(e.state,e.dispatch),e.dispatch(e.state.tr.insertText(t,0))}function kz(e,t,n=!1,r=!0){if(n){Sme(e,t);return}const{schema:i}=e.state,s=t.split(`
`);if(r&&e.dispatch(e.state.tr.deleteSelection()),e.dispatch(e.state.tr.insertText(s[0])),s.length>1){m9(e.state,e.dispatch);const o=s.slice(1),a=be.fromArray(o.map(c=>i.nodes.paragraph.create(null,c===""?null:i.text(c)))),l=new De(a,0,0);e.dispatch(e.state.tr.replaceSelection(l)),i9(e.state,e.dispatch,e)}}const Cme=/oaicite:(\d+)/g;function Sme(e,t){const{schema:n}=e.state,r=t.split(`
`);e.dispatch(e.state.tr.deleteSelection());const{tr:i}=e.state,{$from:s}=i.selection;s.parent.isTextblock||(i.insert(s.pos,n.nodes.paragraph.create()),e.dispatch(i),e.focus());const{selection:o}=e.state,{$from:a}=o,l=r[0],c=JO(l,n,e),u=be.fromArray(c);let d=u;a.parent.type.validContent(u)||(d=n.nodes.paragraph.create(null,u));const f=new De(be.from(d),0,0);if(e.dispatch(e.state.tr.replaceSelection(f)),r.length>1){m9(e.state,e.dispatch);const m=r.slice(1).map(y=>{const b=JO(y,n,e);return n.nodes.paragraph.create(null,b)}),v=be.fromArray(m),_=new De(v,0,0);e.dispatch(e.state.tr.replaceSelection(_)),i9(e.state,e.dispatch,e)}}function JO(e,t,n){const r=[];let i=0,s;if(!!!Ez.get(n.state))return[t.text(e)];for(;(s=Cme.exec(e))!=null;){if(s.index>i){const c=e.slice(i,s.index);r.push(t.text(c))}const a=s[1],l=wme(a,t);r.push(l),i=s.index+s[0].length}if(i<e.length){const a=e.slice(i);r.push(t.text(a))}return r}function wme(e,t){const n=vme({value:"oaicite:"+e},t);if(n==null)throw new Error("Failed to create text node for content reference");const r={index:e,displayLayout:"inline"},i=be.fromArray([n]);return t.nodes.contentReference.create(r,i)}const yLe=e=>mi(e).checkGate("223382091");function bLe(e,t){const r=e.state.tr;let i=0;return r.doc.descendants((s,o)=>{if(s.isText&&s.text){if(typeof t=="string"&&s.text.startsWith(t))i=t.length;else if(t instanceof RegExp){const a=s.text.match(t);a?.index===0&&(i=a[0].length)}if(i){const a=s.text.substring(i).trimStart();i=s.text.length-a.length,r.delete(o,o+i)}}return!s.isLeaf}),i>0?(e.dispatch(r),!0):!1}function CLe(e,t,n){const i=e.state.tr,s=[];i.doc.descendants((o,a)=>{!o.isText||o.text===void 0||s.push({node:o,pos:a})}),s.reverse(),s.forEach(({node:o,pos:a})=>{!o.isText||o.text===void 0||o.text.includes(t)&&i.insertText(o.text.replaceAll(t,n),a,a+o.text.length)}),e.dispatch(i)}var y2,QO;function Eme(){if(QO)return y2;QO=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return y2=e,y2}var b2,XO;function Tz(){if(XO)return b2;XO=1;var e=vc(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return b2=t,b2}var C2,eA;function g9(){if(eA)return C2;eA=1;var e=Tz();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return C2=t,C2}var S2,tA;function v9(){if(tA)return S2;tA=1;var e=g9(),t=ew(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&t(l,a))||a===void 0&&!(o in s))&&e(s,o,a)}return S2=i,S2}var w2,nA;function _0(){if(nA)return w2;nA=1;var e=v9(),t=g9();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,c=i.length;++l<c;){var u=i[l],d=o?o(s[u],r[u],u,s,r):void 0;d===void 0&&(d=r[u]),a?t(s,u,d):e(s,u,d)}return s}return w2=n,w2}var E2,rA;function xme(){if(rA)return E2;rA=1;var e=_0(),t=vd();function n(r,i){return r&&e(i,t(i),r)}return E2=n,E2}var x2,iA;function kme(){if(iA)return x2;iA=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return x2=e,x2}var k2,sA;function Tme(){if(sA)return k2;sA=1;var e=Ys(),t=hw(),n=kme(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),l=[];for(var c in o)c=="constructor"&&(a||!i.call(o,c))||l.push(c);return l}return k2=s,k2}var T2,oA;function _9(){if(oA)return T2;oA=1;var e=Aj(),t=Tme(),n=Ug();function r(i){return n(i)?e(i,!0):t(i)}return T2=r,T2}var O2,aA;function Ome(){if(aA)return O2;aA=1;var e=_0(),t=_9();function n(r,i){return r&&e(i,t(i),r)}return O2=n,O2}var lf={exports:{}};lf.exports;var lA;function Ame(){return lA||(lA=1,function(e,t){var n=Cs(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}e.exports=l}(lf,lf.exports)),lf.exports}var A2,cA;function Ime(){if(cA)return A2;cA=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return A2=e,A2}var I2,uA;function Mme(){if(uA)return I2;uA=1;var e=_0(),t=ow();function n(r,i){return e(r,t(r),i)}return I2=n,I2}var M2,dA;function Oz(){if(dA)return M2;dA=1;var e=Ij(),t=e(Object.getPrototypeOf,Object);return M2=t,M2}var R2,fA;function Az(){if(fA)return R2;fA=1;var e=sw(),t=Oz(),n=ow(),r=Tj(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return R2=s,R2}var P2,hA;function Rme(){if(hA)return P2;hA=1;var e=_0(),t=Az();function n(r,i){return e(r,t(r),i)}return P2=n,P2}var N2,pA;function Iz(){if(pA)return N2;pA=1;var e=kj(),t=Az(),n=_9();function r(i){return e(i,n,t)}return N2=r,N2}var D2,mA;function Pme(){if(mA)return D2;mA=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return D2=n,D2}var L2,gA;function y9(){if(gA)return L2;gA=1;var e=xj();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return L2=t,L2}var F2,vA;function Nme(){if(vA)return F2;vA=1;var e=y9();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return F2=t,F2}var j2,_A;function Dme(){if(_A)return j2;_A=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return j2=t,j2}var B2,yA;function Lme(){if(yA)return B2;yA=1;var e=md(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return B2=r,B2}var U2,bA;function Fme(){if(bA)return U2;bA=1;var e=y9();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return U2=t,U2}var q2,CA;function jme(){if(CA)return q2;CA=1;var e=y9(),t=Nme(),n=Dme(),r=Lme(),i=Fme(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",m="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",y="[object Int8Array]",b="[object Int16Array]",C="[object Int32Array]",S="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",E="[object Uint32Array]";function T(O,k,A){var I=O.constructor;switch(k){case h:return e(O);case s:case o:return new I(+O);case m:return t(O,A);case v:case _:case y:case b:case C:case S:case x:case w:case E:return i(O,A);case a:return new I;case l:case d:return new I(O);case c:return n(O);case u:return new I;case f:return r(O)}}return q2=T,q2}var z2,SA;function Bme(){if(SA)return z2;SA=1;var e=Ys(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return z2=n,z2}var G2,wA;function Ume(){if(wA)return G2;wA=1;var e=Bme(),t=Oz(),n=hw();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return G2=r,G2}var H2,EA;function qme(){if(EA)return H2;EA=1;var e=qg(),t=Qa(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return H2=r,H2}var V2,xA;function zme(){if(xA)return V2;xA=1;var e=qme(),t=dw(),n=fw(),r=n&&n.isMap,i=r?t(r):e;return V2=i,V2}var $2,kA;function Gme(){if(kA)return $2;kA=1;var e=qg(),t=Qa(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return $2=r,$2}var W2,TA;function Hme(){if(TA)return W2;TA=1;var e=Gme(),t=dw(),n=fw(),r=n&&n.isSet,i=r?t(r):e;return W2=i,W2}var K2,OA;function Vme(){if(OA)return K2;OA=1;var e=rw(),t=Eme(),n=v9(),r=xme(),i=Ome(),s=Ame(),o=Ime(),a=Mme(),l=Rme(),c=Mj(),u=Iz(),d=qg(),f=Pme(),h=jme(),m=Ume(),v=Ni(),_=lw(),y=zme(),b=Ys(),C=Hme(),S=vd(),x=_9(),w=1,E=2,T=4,O="[object Arguments]",k="[object Array]",A="[object Boolean]",I="[object Date]",D="[object Error]",N="[object Function]",R="[object GeneratorFunction]",F="[object Map]",j="[object Number]",H="[object Object]",U="[object RegExp]",M="[object Set]",me="[object String]",de="[object Symbol]",P="[object WeakMap]",Ce="[object ArrayBuffer]",Se="[object DataView]",ne="[object Float32Array]",ue="[object Float64Array]",te="[object Int8Array]",xe="[object Int16Array]",oe="[object Int32Array]",fe="[object Uint8Array]",le="[object Uint8ClampedArray]",we="[object Uint16Array]",Xe="[object Uint32Array]",ce={};ce[O]=ce[k]=ce[Ce]=ce[Se]=ce[A]=ce[I]=ce[ne]=ce[ue]=ce[te]=ce[xe]=ce[oe]=ce[F]=ce[j]=ce[H]=ce[U]=ce[M]=ce[me]=ce[de]=ce[fe]=ce[le]=ce[we]=ce[Xe]=!0,ce[D]=ce[N]=ce[P]=!1;function J(Y,_e,re,W,B,Ie){var Te,X=_e&w,L=_e&E,G=_e&T;if(re&&(Te=B?re(Y,W,B,Ie):re(Y)),Te!==void 0)return Te;if(!b(Y))return Y;var $=v(Y);if($){if(Te=f(Y),!X)return o(Y,Te)}else{var se=d(Y),Me=se==N||se==R;if(_(Y))return s(Y,X);if(se==H||se==O||Me&&!B){if(Te=L||Me?{}:m(Y),!X)return L?l(Y,i(Te,Y)):a(Y,r(Te,Y))}else{if(!ce[se])return B?Y:{};Te=h(Y,se,X)}}Ie||(Ie=new e);var it=Ie.get(Y);if(it)return it;Ie.set(Y,Te),C(Y)?Y.forEach(function(nt){Te.add(J(nt,_e,re,nt,Y,Ie))}):y(Y)&&Y.forEach(function(nt,St){Te.set(St,J(nt,_e,re,St,Y,Ie))});var ht=G?L?u:c:L?x:S,at=$?void 0:ht(Y);return t(at||Y,function(nt,St){at&&(St=nt,nt=Y[St]),n(Te,St,J(nt,_e,re,St,Y,Ie))}),Te}return K2=J,K2}var Y2,AA;function $me(){if(AA)return Y2;AA=1;var e=Vme(),t=1,n=4;function r(i){return e(i,t|n)}return Y2=r,Y2}var Wme=$me();const Kme=mn(Wme),Mz=e=>{const t=On(e,"463092697")?.value,n=Kme(t);let r=n?.enabledConnectors??[];return Qe(e,"3881721129")||(r=r.filter(s=>s!==q.GITHUB_CONNECTOR)),n&&(n.enabledConnectors=r),n},b9=()=>{const e=pe();return p.useMemo(()=>Mz(e),[e])},Yme=e=>e?{enabled:!!Mz(e)?.softmentionEnabled}:{enabled:!1};function Zme(){return{trackingKeywordsRegex:void 0,decorations:on.empty,highlightedKeywords:new Set,matchedKeywords:new Set}}const Rz=({tr:e,regex:t,prevHighlightedKeywords:n,prevMatchedKeywords:r})=>{const i=[],s=new Set,o=new Set;return t?(e.doc.descendants((a,l)=>{if(!a.isText||!a.text)return;const c=a.text;for(const u of c.matchAll(t)){if(s.add(u[1]),!n.has(u[1])&&r.has(u[1]))continue;o.add(u[1]);const d=l+u.index,f=d+u[0].length;i.push(Br.inline(d,f,{class:"hint-pill"},{keyword:u[1]}))}}),{decorations:on.create(e.doc,i),matchedKeywords:s,highlightedKeywords:o}):{decorations:on.empty,matchedKeywords:s,highlightedKeywords:o}};function SLe(e){return[...Ia.getState(e)?.matchedKeywords??[]]}const wLe=(e,t)=>{const{state:n,dispatch:r}=t,i=n.tr,s=Ia.getState(n);if(s){const o=e.length>0?new RegExp(`\\b(${e.join("|")})\\b`,"gi"):void 0,{decorations:a,highlightedKeywords:l,matchedKeywords:c}=Rz({tr:i,regex:o,prevHighlightedKeywords:s.highlightedKeywords,prevMatchedKeywords:s.matchedKeywords});i.setMeta(Ia,{...s,trackingKeywordsRegex:o,decorations:a,highlightedKeywords:l,matchedKeywords:c})}r(i)},ELe=(e,t)=>{if(e.length===0)return;const{state:n,dispatch:r}=t,i=n.tr,s=Ia.getState(n);if(s){const o=s.decorations.remove(s.decorations.find(void 0,void 0,a=>a.keyword&&e.includes(a.keyword)));i.setMeta(Ia,{...s,decorations:o,highlightedKeywords:new Set([...s.highlightedKeywords].filter(a=>!e.includes(a)))})}r(i)},Ia=new Js("keywordPlugin");function Jme(){return new Ss({key:Ia,state:{init(){return Zme()},apply(e,t){if(e.getMeta(Ia))return{...t,...e.getMeta(Ia)};if(!e.docChanged)return t;const{decorations:n,matchedKeywords:r,highlightedKeywords:i}=Rz({tr:e,regex:t.trackingKeywordsRegex,prevHighlightedKeywords:t.highlightedKeywords,prevMatchedKeywords:t.matchedKeywords});return{...t,decorations:n,highlightedKeywords:i,matchedKeywords:r}}},props:{decorations(e){const t=this.getState(e);return t?t.decorations:on.empty}}})}function Qme(e){const t=new WeakMap;return n=>{let r=t.get(n);return r===void 0&&(r=e(n),t.set(n,r)),r}}const Dl=new Js("menuSelectorPlugin");function IA(e){e.dispatch(e.state.tr.setMeta(Dl,{active:!1,onMenuAction:void 0}))}function xLe(e,t){e.dispatch(e.state.tr.setMeta(Dl,{active:!0,onMenuAction:t}))}const kLe=Qme(e=>Do(t=>r9(e,t),()=>Dl.getState(e.state)?.active??!1,{getServerFallback:()=>!1}));function Xme(e={submitKeys:["Enter","Tab"],cancelKeys:["Escape"],checkStrictMatchKeys:[" "]}){return new Ss({key:Dl,state:{init(){return{...e,active:!1}},apply(t,n){const r=t.getMeta(Dl);return r?{...n,...r}:n}},props:{handleKeyDown(t,n){const r=Dl.getState(t.state);if(!r?.active)return!1;if(!n.isComposing)return r.submitKeys.includes(n.key)?(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),IA(t),r.onMenuAction?.("submit")??!0):r.cancelKeys.includes(n.key)?(n.preventDefault(),r.onMenuAction?.("cancel"),IA(t),!0):n.key==="ArrowUp"?(n.preventDefault(),r.onMenuAction?.("up"),!0):n.key==="ArrowDown"?(n.preventDefault(),r.onMenuAction?.("down"),!0):r.checkStrictMatchKeys.includes(n.key)&&r.onMenuAction?.("checkMatch")?(n.preventDefault(),!0):!1},handleDOMEvents:{blur:t=>{Dl.getState(t.state)?.onMenuAction?.("cancel")}}}})}const cf=new Js("placeholderPlugin");function TLe(e,t){e.dispatch(e.state.tr.setMeta(cf,{placeholder:t}))}function e1e(e){return new Ss({key:cf,state:{init(){return{placeholder:e}},apply(t,n){return t.getMeta(cf)?{placeholder:t.getMeta(cf).placeholder}:n}},props:{decorations(t){const{doc:n}=t;if(n.childCount===1&&n.firstChild?.isTextblock&&n.firstChild.content.size===0){const i=[],{placeholder:s}=cf.getState(t);return t.doc.descendants((o,a)=>{const l=Br.node(a,a+o.nodeSize,{class:"placeholder","data-placeholder":s});i.push(l)}),on.create(n,i)}}}})}const t1e=["p",0],n1e=["br"],r1e={paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p",preserveWhitespace:"full"}],toDOM(){return t1e}},text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return n1e}},doc:{content:"block+"}},i1e=new afe({nodes:r1e,marks:{}});let tS;try{tS=new RegExp("^(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]*)$|\\s(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]+)$","u")}catch{tS=/^(\/|@)([\w.:_-]*)$|\s(\/|@)([\w.:_-]+)$/}function s1e(e,t){if(e.depth===0)return;const n=e.nodeBefore?.text?.match(tS);if(n){const r=n[1]??n[3],i=n[2]??n[4],s=e.pos-i.length-1,o=e.pos;return i.length>0&&t?void 0:{triggerSymbol:r,queryText:i,range:{from:s,to:o}}}}const uf=new Js("systemHintPlugin");function o1e(e,t){return e.setMeta(uf,t),e}function OLe(e){e.dispatch(o1e(e.state.tr,{...nS(),isDismissed:!0}))}function nS(){return{triggerSymbol:"",queryText:"",active:!1,range:void 0,isDismissed:!1}}function MA(e){const{active:t,range:n,triggerSymbol:r,queryText:i,onHintMatch:s}=e;if(s)return s(!t||!n?void 0:{triggerSymbol:r,text:i,range:n})}function a1e(){return new Ss({key:uf,state:{init(){return nS()},apply(e,t,n,r){const i=e.getMeta(uf),s={...nS(),...t,...i},o=e.selection;if(o.from!==o.to||r.doc.eq(n.doc))return MA(s),s;const a=o.$from,l=s1e(a,t.isDismissed);return s.active=l!=null,l&&(s.triggerSymbol=l.triggerSymbol,s.queryText=l.queryText,s.range=l.range,s.isDismissed=!1),MA(s),s}},view(){return{update(e,t){const n=uf.getState(t),r=uf.getState(e.state);if(n.active===r.active&&n.range?.from===r.range?.from&&n.setReferencePosition===r.setReferencePosition)return;const i=r.range;!r.active||!i?r.setReferencePosition?.(null):r.setReferencePosition?.({getBoundingClientRect:()=>l1e(e.coordsAtPos(i.from))})}}}})}function l1e({left:e,right:t,top:n,bottom:r}){return new DOMRect(e,n,t-e,r-n)}function c1e(e=null,t,n){const r=new EventTarget,i=Yme(t).enabled,s=new Jpe(null,{state:wu.create({schema:i1e,plugins:[mme(),Xme(),a1e(),...i?[Jme()]:[],gme(),bhe({...mO,"Shift-Enter":mO.Enter,"Mod-z":wz,"Mod-y":eS,"Mod-Shift-z":eS}),Kfe(r),e1e(""),nme(),Yfe()]}),dispatchTransaction(o){const a=s.state.apply(o);s.updateState(a),o.docChanged&&r.dispatchEvent(new Event(q6))},handlePaste(o,a){const l=a.clipboardData?.getData("text/plain");return l===void 0?!1:(a.defaultPrevented||t&&Xfe(t,l)||kz(o,l),!0)},clipboardTextSerializer(o){return _me(o.content).content}});return e!=null&&xz(s.state.doc)&&s.dispatch(s.state.tr.insertText(e)),s}const rS=p.createContext(null),ALe=e=>{"use forget";const t=Re.c(9),{children:n,clientThreadId:r,ignoreParentComposerController:i,draftsEnabled:s}=e,o=i===void 0?!1:i,a=s===void 0?!0:s,l=p.useContext(rS),c=pe();let u,d;if(t[0]!==r||t[1]!==l||t[2]!==c||t[3]!==a||t[4]!==o){const m=r?tl(c,r):void 0;d=l&&!o?l:new Aq(c1e(a&&r?Vne(Pi(r))?.content??null:null,c),c,m),t[0]=r,t[1]=l,t[2]=c,t[3]=a,t[4]=o,t[5]=d}else d=t[5];u=d;const f=u;let h;return t[6]!==n||t[7]!==f?(h=g.jsx(rS.Provider,{value:f,children:n}),t[6]=n,t[7]=f,t[8]=h):h=t[8],h},u1e=()=>{"use forget";const e=Re.c(2),t=p.useContext(rS);let n;return e[0]!==t?(n=gs(t),e[0]=t,e[1]=n):n=e[1],n};function d1e(){const e=br();return e?.data.residencyRegion!==""&&e?.data.residencyRegion!=="no_constraint"}function f1e(){return br()?.data.residencyRegion}function bc(){const e=d1e(),t=f1e(),n=pe(),r=On(n,"3131667714").get("regions",[]);return e?r.includes(t):!0}function h1e(e,t){if(!e)return!1;const r=["gpt-4o-gdrive","gpt-4o-gdrive-1007-mclick","gpt-4o-gdrive-1124","gpt-4o-gdrive-1124-citation","gpt-4o-gdrive-0212","gpt-4o-gdrive-0314","o1_ca_0226","o3_mini_ca_0226"].includes(e.id),i=!!e.product_features.contextual_answers?.is_eligible_for_contextual_answers;return r||i}var C9=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e.SB_1B9A6CB4="sb_1b9a6cb4",e))(C9||{});function Cc(){const e=pe(),t=bc(),n=On(e,"1001765573");return t?n.get("ca_enabled",!1):!1}function p1e(){const e=pe();return On(e,"1001765573").get("onboarding_paused",!1)}function ILe(){const e=bc(),t=pe(),n=On(t,"1001765573");return e?{isEnabled:n.get("ca_enabled",!1),isComingSoon:n.get("ca_coming_soon",!1)}:{isEnabled:!1,isComingSoon:!1}}function MLe(){const e=bc(),t=pe(),n=On(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sk_enabled",!1):!1}function RLe(){const e=bc(),t=pe(),n=On(t,"1001765573");if(!e)return!1;const r=Qe(t,"3881721129");return n.get("ca_enabled",!1)&&n.get("ca_github_sync_enabled",!1)&&r}function PLe(){const e=bc(),t=pe(),n=On(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sharepoint_sync_enabled",!1):!1}function NLe(){const e=bc(),t=pe(),n=On(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_linear_sync_enabled",!1):!1}function DLe(){const e=pe();return On(e,"1001765573").get("github_onboarding_paused",!1)}function LLe(){const e=bc(),t=pe(),n=On(t,"1001765573");return e?n.get("ca_personal_enabled",!1):!1}function m1e(e){return pe(),Cc()&&h1e(e)}function FLe(e,t){const n=m1e(e),r=g1e();return!n||!r?!1:r===C9.DOGFOODING?!!t:!0}function g1e(){const e=pe(),t=On(e,"1001765573");if(!t.get("ca_enabled",!1))return null;const r=t.get("feedback_format",null);return r&&Object.values(C9).includes(r)?r:null}const jLe=e=>zo(e,t=>Ee.getConversationTurns(t).some(n=>n.messages.some(v1e))),v1e=e=>!!(e.author.role===Ve.Tool&&e.author.name==="file_search"&&e.metadata&&e.metadata.command===HF.Spinner&&e.metadata.retrieval_search_sources&&e.metadata.retrieval_search_sources.some(t=>t.product_type==="contextual_answers"||t.product_type==="slurm")),BLe=()=>{const e=pe();return Qe(e,"4147309512")};class za{static async admin_list_knowledge_connectors(t){return await he.safeGet("/ca/v2/admin/list_knowledge_connectors",{parameters:{query:{account_id:t}}})}static async admin_list_connection_instances(t){return await he.safeGet("/ca/v2/admin/list_connection_instances",{parameters:{query:{account_id:t}}})}static async admin_get_connection_instance(t,n){return await he.safeGet("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_create_connection_instance(t,n,r){return r===""&&(r=null),await he.safePost("/ca/v2/admin/create_connection_instance",{requestBody:{connection_config:n,connection_name:r??null},parameters:{query:{account_id:t}}})}static async admin_request_connect_quickstart(t,n,r){return await he.safeGet("/ca/v2/admin/request_connect_quickstart",{parameters:{query:{account_id:t,connection_id:n,after_flow_redirect_to:r}}})}static async admin_connect_and_quickstart(t,n,r,i){return await he.safePost("/ca/v2/admin/connect_and_quickstart",{parameters:{query:{account_id:t}},requestBody:{plugin_id:n,code:r,state:i}})}static async admin_edit_name_connection_instance(t,n,r){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_name",{requestBody:r,parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_activate_connection_instance(t,n){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/activate",{requestBody:{},parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_delete_connection_instance(t,n){return await he.safeDelete("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_allow_user(t,n,r){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/allow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_disallow_user(t,n,r){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/disallow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_get_access_policy(t,n){return await he.safeGet("/ca/v2/admin/connection_instance/{connection_id}/get_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_update_access_policy(t,n,r){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{allow_all_in_workspace:r}})}static async admin_connection_update_credential(t,n,{admin_email:r,credential_id:i,new_service_credential_content:s}){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_credential",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{admin_email:r,credential_id:i,new_service_credential_content:s}})}static async admin_connection_list_item_scopes(t,n,r,i=null){return await he.safeGet("/ca/v2/admin/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:n},query:{page_token:i,account_id:t,object_type:r}}})}static async admin_connection_update_item_default_scope(t,n,r,i){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_item_default_scope",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,default_selection:i}})}static async admin_connection_block_items(t,n,r,i){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:i}})}static async admin_connection_unblock_items(t,n,r,i){return await he.safePost("/ca/v2/admin/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:i}})}static async user_activate_workspace_connection_and_user({link_id:t,user_extension:n}){return await he.safePost("/ca/v2/user/activate_workspace_connection_and_user",{requestBody:n?{link_id:t,user_extension:n}:{link_id:t}})}static async user_connection_status(){return await he.safeGet("/ca/v2/user/connection_status",{})}static async user_connection_list_item_scopes(t,n,r=null){return await he.safeGet("/ca/v2/user/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:t},query:{page_token:r,object_type:n}}})}static async user_connection_block_items(t,n,r){return await he.safePost("/ca/v2/user/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_unblock_items(t,n,r){return await he.safePost("/ca/v2/user/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_sync_configuration(t){return await he.safeGet("/ca/v2/user/connection_instance/{connection_id}/user_configuration",{parameters:{path:{connection_id:t}}})}static async user_connection_update_sync_configuration(t,n){return await he.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/user_configuration",{parameters:{path:{synced_knowledge_store_id:t}},requestBody:{extension:n}})}static async user_request_connect(t,n,r){return await he.safeGet("/ca/v2/user/request_connect",{parameters:{query:{connection_id:t,after_flow_redirect_to:n,...r?{use_connectors_platform_flow:r}:{}}}})}static async user_request_connect_upgrade_to_sync({link_id:t,user_extension:n}){return await he.safePost("/ca/v2/user/upgrade_to_sync",{requestBody:{link_id:t,user_extension:n}})}static async user_connection_oauth_callback(t,n,r){return await he.safePost("/ca/v2/user/connect_and_activate",{requestBody:{plugin_id:t,code:n,state:r}})}static async user_delete_sync(t){return await he.safePost("/ca/v2/user/delete_synced",{requestBody:{link_id:t}})}static async user_disconnect(t){return await he.safePost("/ca/v2/user/disconnect",{requestBody:{connection_id:t}})}}const ULe=({skip:e=!1}={})=>{const{connectionInstanceData:t,refetch:n,isLoading:r}=Gh({skip:e});return{gDriveOAuthConnectionId:p.useMemo(()=>{const s=t?.connection_statuses;return s&&s.length===1&&s[0].user_connection_details.auth_status==="not_connected"&&s[0].user_connection_details.knowledge_connector_type==="google_drive_oauth"?s[0].user_connection_details.connection_instance_id:null},[t]),refetch:n,isLoading:r}},Pz=({skip:e=!1}={})=>{const{connectionInstanceData:t,isLoading:n}=Gh({skip:e});return{hasConnections:t?.connection_statuses.some(i=>["partially_activated","activated"].includes(i.user_connection_details.activation_status)),isLoading:n}},Gh=({skip:e=!1}={})=>{const t=Cc(),{data:n,isLoading:r,refetch:i}=Rt({queryKey:["user_connection_status"],queryFn:za.user_connection_status,enabled:!e&&t,refetchInterval:s=>{const o=s.state.status==="success"&&s.state.data&&!s.state.data.connection_statuses.some(l=>l.user_connection_details.activation_status==="activating"||l.user_connection_details.activation_status==="partially_activated");return s.state.status==="success"&&s.state.data&&s.state.data.connection_statuses.some(l=>(l.user_connection_details.auth_status==="user_connected"||l.user_connection_details.auth_status==="admin_connected")&&!(l.user_connection_details.activation_status==="activating"||l.user_connection_details.activation_status==="partially_activated"||l.user_connection_details.activation_status==="activated"))?2*1e3:o?!1:30*1e3}});return{connectionInstanceData:n,isLoading:r,refetch:i}},Nz=(e,t=!1)=>["fetchConnectorLinkData",e,t],Dz=(e,t)=>["fetchPlatformConnectorData",e,t],qLe=(e,t)=>["connectors",e,t].filter(n=>!!n),zLe=(e,t)=>["roles",e,t].filter(n=>!!n),GLe=(e,t,n)=>["permissions",e,t,n];function _1e(){const e=pe();return Qe(e,"3999836663")}function Hh(){const e=pe(),t=Qe(e,"3544641259"),n=!!On(e,"463092697")?.value?.enabled,r=_1e();return t||n||r}var Z2,RA;function y1e(){if(RA)return Z2;RA=1;function e(t,n,r,i){for(var s=-1,o=t==null?0:t.length;++s<o;){var a=t[s];n(i,a,r(a),t)}return i}return Z2=e,Z2}var J2,PA;function b1e(){if(PA)return J2;PA=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var c=a[t?l:++s];if(r(o[c],c,o)===!1)break}return n}}return J2=e,J2}var Q2,NA;function C1e(){if(NA)return Q2;NA=1;var e=b1e(),t=e();return Q2=t,Q2}var X2,DA;function S1e(){if(DA)return X2;DA=1;var e=C1e(),t=vd();function n(r,i){return r&&e(r,i,t)}return X2=n,X2}var eb,LA;function w1e(){if(LA)return eb;LA=1;var e=Ug();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return eb=t,eb}var tb,FA;function E1e(){if(FA)return tb;FA=1;var e=S1e(),t=w1e(),n=t(e);return tb=n,tb}var nb,jA;function x1e(){if(jA)return nb;jA=1;var e=E1e();function t(n,r,i,s){return e(n,function(o,a,l){r(s,o,i(o),l)}),s}return nb=t,nb}var rb,BA;function k1e(){if(BA)return rb;BA=1;var e=y1e(),t=x1e(),n=Rh(),r=Ni();function i(s,o){return function(a,l){var c=r(a)?e:t,u=o?o():{};return c(a,s,n(l,2),u)}}return rb=i,rb}var ib,UA;function T1e(){if(UA)return ib;UA=1;var e=g9(),t=k1e(),n=Object.prototype,r=n.hasOwnProperty,i=t(function(s,o,a){r.call(s,a)?s[a].push(o):e(s,a,[o])});return ib=i,ib}var O1e=T1e();const Lz=mn(O1e),A1e=async(e,t=void 0)=>(await he.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}]},additionalHeaders:t?{[_r]:t}:void 0})).connectors,Fz=async(e,t=!1,n=void 0)=>{const r=await he.safePost("/aip/connectors/links/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],link_refresh_strategy:t?"BLOCKING":"NONE"},additionalHeaders:n?{[_r]:n}:void 0});return Lz(r.links,({connector_id:i})=>i)};function od({skip:e=!1,fetchValidLinksOnly:t=!1,productSku:n}={}){const r=pe(),i=pn(r),s=Hh(),{data:o,isLoading:a,isFetching:l,error:c,refetch:u}=Rt({queryKey:Nz(i?.normalizedAccountUserId,t),enabled:!e&&!!i&&s,queryFn:async()=>!i||!i.normalizedAccountUserId?{}:await Fz(i.normalizedAccountUserId,t,n)});return{connectorLinks:p.useMemo(()=>o?new Map(Object.entries(o)):new Map,[o]),isLoading:a,isFetching:l,error:c,refetch:u}}function HLe({skip:e=!1,productSku:t}={}){const n=Hh(),r=pe(),i=pn(r),s=yr();p.useEffect(()=>{if(e||!i?.normalizedAccountUserId||!n)return;const o=i.normalizedAccountUserId;s.prefetchQuery({queryKey:Dz(o,void 0),queryFn:()=>A1e(o,t)}).catch(()=>{}),s.prefetchQuery({queryKey:Nz(o,!1),queryFn:()=>Fz(o,!1,t)}).catch(()=>{})},[e,i?.normalizedAccountUserId,s,n,t])}const I1e=async(e,t,n)=>(await he.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],purpose:n},additionalHeaders:t?{[_r]:t}:void 0})).connectors;function Vh(e=!0,t=void 0,n=void 0){const r=Hh(),i=pe(),s=pn(i),{data:o,isLoading:a,isFetching:l,error:c,refetch:u}=Rt({queryKey:Dz(s?.normalizedAccountUserId,n),queryFn:async()=>!s||!s.normalizedAccountUserId?[]:await I1e(s.normalizedAccountUserId,t,n),enabled:!!s&&e&&r});return{platformConnectors:p.useMemo(()=>new Map(o?.map(f=>[f.id,f])),[o]),isLoading:a,isFetching:l,error:c,refetch:u}}function jz(e){const t=In();return Rt({queryKey:["userContext"],queryFn:()=>he.safeGet("/user_system_messages").catch(n=>{throw t.danger({id:"userContextModal.getCustomInstructionsError",defaultMessage:"Failed to get your settings",description:"Error message when getting custom instructions fails"},{toastId:"user_context_modal_get_custom_instructions_error"}),n}),enabled:e,select:n=>{const{about_user_message:r,about_model_message:i,personality_type_selection:s,name_user_message:o,role_user_message:a,traits_model_message:l,other_user_message:c,disabled_tools:u,enabled:d,object:f,...h}=n;return{...h,aboutUserMessage:r??"",aboutModelMessage:i??"",personalityTypeMessage:s??"",nameUserMessage:o??"",roleUserMessage:a??"",traitsModelMessage:l??"",otherUserMessage:c??"",disabledTools:u??[],enabled:d??!0}}})}function M1e({aboutUserMessage:e,aboutModelMessage:t,personalityTypeMessage:n,nameUserMessage:r="",roleUserMessage:i="",traitsModelMessage:s="",otherUserMessage:o="",disabledTools:a,enabled:l,...c}){return he.safePost("/user_system_messages",{requestBody:{about_user_message:e,about_model_message:t,personality_type_selection:n,name_user_message:r,role_user_message:i,traits_model_message:s,other_user_message:o,disabled_tools:a,enabled:l,...c}})}const R1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5707_424)"},p.createElement("path",{d:"M22 2H2V22H22V2Z",fill:"#0472F8"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1302 13.5156C11.3673 13.5156 10.7134 12.8617 10.7134 12.0625C10.7134 11.2633 11.331 10.6094 12.1302 10.6094C12.893 10.6094 13.5469 11.2633 13.5469 12.0625C13.5469 12.8617 12.9294 13.5156 12.1302 13.5156ZM7.98887 13.5156C7.226 13.5156 6.57212 12.8617 6.57212 12.0625C6.57212 11.2633 7.18967 10.6094 7.98887 10.6094C8.75174 10.6094 9.40563 11.2633 9.40563 12.0625C9.40563 12.8617 8.78806 13.5156 7.98887 13.5156ZM17.4339 9.91917C17.6156 9.70121 17.9425 9.66489 18.1605 9.84652C18.3784 9.99183 18.4511 10.3188 18.2695 10.5367L16.9617 12.1715L18.2695 13.8062C18.4511 14.0241 18.3784 14.3148 18.1605 14.4964C17.9425 14.6417 17.6156 14.6054 17.4339 14.4237L16.3078 13.0433L15.1817 14.4237C15 14.6417 14.6731 14.678 14.4551 14.4964C14.2371 14.3511 14.1645 14.0241 14.3461 13.8062L15.6539 12.1715L14.3825 10.5004C14.2008 10.2824 14.2735 9.99183 14.4914 9.81019C14.7094 9.66489 15.0363 9.70121 15.218 9.88285L16.3441 11.2996L17.4339 9.91917ZM6.13619 7.59424C6.39048 7.59424 6.60845 7.8122 6.60845 8.06649V10.1371C7.00804 9.84652 7.48029 9.66489 8.02519 9.66489C8.93338 9.66489 9.69624 10.1735 10.0958 10.9727C10.4954 10.2098 11.2583 9.66489 12.1665 9.66489C13.4743 9.66489 14.4914 10.7547 14.4914 12.0988C14.4914 13.4429 13.4379 14.5327 12.1665 14.5327C11.2583 14.5327 10.4954 14.0241 10.0958 13.2249C9.69624 13.9878 8.93338 14.5327 8.02519 14.5327C6.75374 14.5327 5.70027 13.4792 5.70027 12.1351V8.06649C5.66394 7.8122 5.8819 7.59424 6.13619 7.59424Z",fill:"white"})),p.createElement("defs",null,p.createElement("clipPath",{id:"clip0_5707_424"},p.createElement("rect",{x:2,y:2,width:20,height:20,rx:2,fill:"white"})))),P1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5904_434)"},p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#7D2AE7"}),p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint0_radial_5904_434)"}),p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint1_radial_5904_434)"}),p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint2_radial_5904_434)"}),p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint3_radial_5904_434)"}),p.createElement("path",{d:"M16.3172 14.0514C16.2346 14.0514 16.162 14.1211 16.0864 14.2733C15.2329 16.0039 13.7588 17.2284 12.053 17.2284C10.0806 17.2284 8.85912 15.4479 8.85912 12.9881C8.85912 8.82143 11.1807 6.41235 13.2198 6.41235C14.1726 6.41235 14.7545 7.01114 14.7545 7.96403C14.7545 9.09497 14.112 9.69376 14.112 10.0926C14.112 10.2717 14.2234 10.3801 14.4442 10.3801C15.3315 10.3801 16.3728 9.36055 16.3728 7.92026C16.3728 6.52375 15.1574 5.49725 13.1183 5.49725C9.74837 5.49725 6.75342 8.62151 6.75342 12.9443C6.75342 16.2904 8.66418 18.5016 11.6124 18.5016C14.7416 18.5016 16.5509 15.3882 16.5509 14.3777C16.5509 14.1539 16.4365 14.0514 16.3172 14.0514Z",fill:"white"})),p.createElement("defs",null,p.createElement("radialGradient",{id:"paint0_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.86316 19.7263) rotate(-49.4156) scale(15.4683)"},p.createElement("stop",{stopColor:"#6420FF"}),p.createElement("stop",{offset:1,stopColor:"#6420FF",stopOpacity:0})),p.createElement("radialGradient",{id:"paint1_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.29474 4.27368) rotate(54.7035) scale(17.4434)"},p.createElement("stop",{stopColor:"#00C4CC"}),p.createElement("stop",{offset:1,stopColor:"#00C4CC",stopOpacity:0})),p.createElement("radialGradient",{id:"paint2_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.86316 19.7263) rotate(-45.1954) scale(15.2811 7.02796)"},p.createElement("stop",{stopColor:"#6420FF"}),p.createElement("stop",{offset:1,stopColor:"#6420FF",stopOpacity:0})),p.createElement("radialGradient",{id:"paint3_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(10.1789 4.69474) rotate(66.5198) scale(15.7459 26.3779)"},p.createElement("stop",{stopColor:"#00C4CC",stopOpacity:.725916}),p.createElement("stop",{offset:1e-4,stopColor:"#00C4CC"}),p.createElement("stop",{offset:1,stopColor:"#00C4CC",stopOpacity:0})),p.createElement("clipPath",{id:"clip0_5904_434"},p.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2 2)"})))),N1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6.62777 3.00696L1.25488 6.38196L6.62777 9.75695L12.0016 6.38196L17.3745 9.75695L22.7474 6.38196L17.3745 3.00696L12.0016 6.38196L6.62777 3.00696Z",fill:"#0061FE"}),p.createElement("path",{d:"M6.62777 16.507L1.25488 13.132L6.62777 9.75696L12.0016 13.132L6.62777 16.507Z",fill:"#0061FE"}),p.createElement("path",{d:"M12.0015 13.132L17.3744 9.75696L22.7473 13.132L17.3744 16.507L12.0015 13.132Z",fill:"#0061FE"}),p.createElement("path",{d:"M12.0013 21.007L6.62744 17.632L12.0013 14.257L17.3742 17.632L12.0013 21.007Z",fill:"#0061FE"})),Bz=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M12 1.95068C17.525 1.95068 22 6.42568 22 11.9507C21.9995 14.0459 21.3419 16.0883 20.1198 17.7902C18.8977 19.4922 17.1727 20.768 15.1875 21.4382C14.6875 21.5382 14.5 21.2257 14.5 20.9632C14.5 20.6257 14.5125 19.5507 14.5125 18.2132C14.5125 17.2757 14.2 16.6757 13.8375 16.3632C16.0625 16.1132 18.4 15.2632 18.4 11.4257C18.4 10.3257 18.0125 9.43818 17.375 8.73818C17.475 8.48818 17.825 7.46318 17.275 6.08818C17.275 6.08818 16.4375 5.81318 14.525 7.11318C13.725 6.88818 12.875 6.77568 12.025 6.77568C11.175 6.77568 10.325 6.88818 9.525 7.11318C7.6125 5.82568 6.775 6.08818 6.775 6.08818C6.225 7.46318 6.575 8.48818 6.675 8.73818C6.0375 9.43818 5.65 10.3382 5.65 11.4257C5.65 15.2507 7.975 16.1132 10.2 16.3632C9.9125 16.6132 9.65 17.0507 9.5625 17.7007C8.9875 17.9632 7.55 18.3882 6.65 16.8757C6.4625 16.5757 5.9 15.8382 5.1125 15.8507C4.275 15.8632 4.775 16.3257 5.125 16.5132C5.55 16.7507 6.0375 17.6382 6.15 17.9257C6.35 18.4882 7 19.5632 9.5125 19.1007C9.5125 19.9382 9.525 20.7257 9.525 20.9632C9.525 21.2257 9.3375 21.5257 8.8375 21.4382C6.8458 20.7752 5.11342 19.502 3.88611 17.799C2.65881 16.096 1.9989 14.0498 2 11.9507C2 6.42568 6.475 1.95068 12 1.95068Z",fill:"currentColor"})),D1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6.27275 19.8771V11.7634L3.75642 9.46126L1.5 8.18381V18.4452C1.5 19.2375 2.14194 19.8771 2.93183 19.8771H6.27275Z",fill:"#4285F4"}),p.createElement("path",{d:"M17.7271 19.8771H21.068C21.8603 19.8771 22.4998 19.2351 22.4998 18.4452V8.18381L19.9441 9.64709L17.7271 11.7634V19.8771Z",fill:"#34A853"}),p.createElement("path",{d:"M6.27257 11.7635L5.93018 8.59314L6.27257 5.55887L11.9999 9.85434L17.7272 5.55887L18.1102 8.42932L17.7272 11.7635L11.9999 16.0589L6.27257 11.7635Z",fill:"#EA4335"}),p.createElement("path",{d:"M17.7271 5.55879V11.7634L22.4998 8.18381V6.2747C22.4998 4.504 20.4786 3.49457 19.0634 4.5565L17.7271 5.55879Z",fill:"#FBBC04"}),p.createElement("path",{d:"M1.5 8.18378L3.69507 9.83008L6.27275 11.7633V5.55876L4.93638 4.55647C3.51887 3.49454 1.5 4.50397 1.5 6.27467V8.18378Z",fill:"#C5221F"})),L1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.7369 7.26321H7.26318V16.7369H16.7369V7.26321Z",fill:"white"}),p.createElement("path",{d:"M16.7367 21L20.9999 16.7369L18.8683 16.3732L16.7367 16.7369L16.3477 18.6866L16.7367 21Z",fill:"#EA4335"}),p.createElement("path",{d:"M3 16.7369V19.579C3 20.3641 3.63592 21 4.42105 21H7.26316L7.70087 18.8684L7.26316 16.7369L4.94057 16.3732L3 16.7369Z",fill:"#188038"}),p.createElement("path",{d:"M20.9999 7.26316V4.42105C20.9999 3.63592 20.364 3 19.5788 3H16.7367C16.4773 4.05721 16.3477 4.83523 16.3477 5.33408C16.3477 5.83291 16.4773 6.47593 16.7367 7.26316C17.6796 7.53315 18.3901 7.66815 18.8683 7.66815C19.3465 7.66815 20.057 7.53315 20.9999 7.26316Z",fill:"#1967D2"}),p.createElement("path",{d:"M21 7.26321H16.7368V16.7369H21V7.26321Z",fill:"#FBBC04"}),p.createElement("path",{d:"M16.7369 16.7368H7.26318V21H16.7369V16.7368Z",fill:"#34A853"}),p.createElement("path",{d:"M16.7368 2.99997H4.42105C3.63592 2.99997 3 3.63589 3 4.42102V16.7368H7.26316V7.26313H16.7368V2.99997Z",fill:"#4285F4"}),p.createElement("path",{d:"M9.20617 14.6124C8.8521 14.3732 8.60696 14.0239 8.47314 13.562L9.295 13.2233C9.3696 13.5075 9.49985 13.7278 9.68577 13.8841C9.87052 14.0404 10.0955 14.1174 10.3584 14.1174C10.6272 14.1174 10.8581 14.0357 11.0512 13.8723C11.2442 13.7089 11.3413 13.5004 11.3413 13.2482C11.3413 12.99 11.2395 12.7792 11.0358 12.6158C10.8321 12.4524 10.5763 12.3707 10.2708 12.3707H9.79591V11.5571H10.2222C10.4851 11.5571 10.7066 11.4861 10.8866 11.344C11.0666 11.2019 11.1566 11.0077 11.1566 10.7602C11.1566 10.5399 11.076 10.3646 10.915 10.2332C10.7539 10.1017 10.5502 10.0354 10.3027 10.0354C10.0612 10.0354 9.86933 10.0994 9.72723 10.2285C9.58522 10.3579 9.47844 10.5213 9.41696 10.7033L8.60341 10.3646C8.71117 10.0591 8.90894 9.7891 9.19906 9.55581C9.48921 9.32252 9.85985 9.20529 10.3099 9.20529C10.6426 9.20529 10.9422 9.26925 11.2075 9.39831C11.4727 9.5274 11.6812 9.70621 11.8316 9.93358C11.982 10.1621 12.0566 10.4179 12.0566 10.7021C12.0566 10.9923 11.9867 11.2374 11.847 11.4387C11.7072 11.64 11.5355 11.794 11.3318 11.9017V11.9503C11.5948 12.0587 11.8233 12.2368 11.9926 12.4654C12.1643 12.6964 12.2508 12.9723 12.2508 13.2944C12.2508 13.6165 12.1691 13.9042 12.0056 14.1565C11.8422 14.4087 11.616 14.6077 11.3295 14.7521C11.0417 14.8966 10.7184 14.97 10.3596 14.97C9.94394 14.9712 9.56025 14.8516 9.20617 14.6124ZM14.2545 10.534L13.3521 11.1865L12.9009 10.502L14.5197 9.33437H15.1402V14.8421H14.2545V10.534Z",fill:"#4285F4"})),F1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.48739 11.7436C5.94383 11.7436 3.07715 14.6102 3.07715 18.1538V20.8462C3.07715 21.4833 3.59383 22 4.23099 22H7.30791L10.3848 11.7436H9.48739Z",fill:"#86A9FF"}),p.createElement("path",{d:"M20.0001 15.9744C20.0001 13.6359 18.1077 11.7436 15.7693 11.7436H12.6924V22H15.7693C18.1078 22 20.0001 20.1077 20.0001 17.7692",fill:"#578CFF"}),p.createElement("path",{d:"M6.15381 15.9744C6.15381 13.6359 8.04613 11.7436 10.3846 11.7436H12.6922C15.0307 11.7436 16.923 13.6359 16.923 15.9744V17.7692C16.923 20.1077 15.0307 22 12.6922 22H7.30765C6.67049 22 6.15381 21.4833 6.15381 20.8462V15.9744Z",fill:"#0057CC"}),p.createElement("path",{d:"M11.5383 9.94872C13.7333 9.94872 15.5127 8.16934 15.5127 5.97436C15.5127 3.77938 13.7333 2 11.5383 2C9.34335 2 7.56396 3.77938 7.56396 5.97436C7.56396 8.16934 9.34335 9.94872 11.5383 9.94872Z",fill:"#0057CC"})),Sd=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M3.51105 18.4269L4.39307 19.9615C4.57634 20.2846 4.8398 20.5384 5.14908 20.723L8.29914 15.2307H1.99902C1.99902 15.5884 2.09066 15.9461 2.27394 16.2692L3.51105 18.4269Z",fill:"#0066DA"}),p.createElement("path",{d:"M11.999 8.76916L8.84897 3.27686C8.53969 3.46147 8.27623 3.71532 8.09295 4.03839L2.27394 14.1922C2.09403 14.5083 1.99926 14.8663 1.99902 15.2307H8.29914L11.999 8.76916Z",fill:"#00AC47"}),p.createElement("path",{d:"M18.8492 20.723C19.1585 20.5384 19.422 20.2846 19.6053 19.9615L19.9718 19.3269L21.7244 16.2692C21.9077 15.9461 21.9993 15.5884 21.9993 15.2307H15.6987L17.0394 17.8846L18.8492 20.723Z",fill:"#EA4335"}),p.createElement("path",{d:"M11.9982 8.76923L15.1483 3.27692C14.839 3.09231 14.4839 3 14.1173 3H9.87907C9.51252 3 9.15742 3.10385 8.84814 3.27692L11.9982 8.76923Z",fill:"#00832D"}),p.createElement("path",{d:"M15.6983 15.2307H8.29849L5.14844 20.723C5.45772 20.9076 5.81281 20.9999 6.17937 20.9999H17.8174C18.1839 20.9999 18.539 20.8961 18.8483 20.723L15.6983 15.2307Z",fill:"#2684FC"}),p.createElement("path",{d:"M18.8146 9.11532L15.9051 4.03839C15.7218 3.71532 15.4584 3.46147 15.1491 3.27686L11.999 8.76916L15.6989 15.2307H21.9876C21.9876 14.873 21.8959 14.5153 21.7127 14.1922L18.8146 9.11532Z",fill:"#FFBA00"})),j1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.888 8.14381V5.93591C17.1798 5.79955 17.4268 5.58312 17.6004 5.31182C17.7739 5.04053 17.8668 4.72552 17.8683 4.40346V4.35276C17.8683 3.41376 17.1071 2.65254 16.1681 2.65254H16.1174C15.6665 2.65254 15.234 2.83167 14.9152 3.15052C14.5963 3.46937 14.4172 3.90183 14.4172 4.35276V4.40346C14.4187 4.72552 14.5116 5.04053 14.6851 5.31182C14.8587 5.58312 15.1057 5.79955 15.3975 5.93591V8.14381C14.5589 8.27221 13.7692 8.61989 13.1082 9.15167L7.05292 4.43539C7.09611 4.27951 7.11865 4.11926 7.12116 3.95838C7.1219 3.57946 7.01024 3.20884 6.80032 2.89339C6.5904 2.57794 6.29164 2.33183 5.94183 2.1862C5.59202 2.04056 5.20688 2.00195 4.83512 2.07523C4.46335 2.14852 4.12168 2.33041 3.85331 2.59791C3.58494 2.8654 3.40193 3.20648 3.32743 3.578C3.25293 3.94952 3.29029 4.33478 3.43478 4.68507C3.57927 5.03535 3.82439 5.33492 4.13916 5.54587C4.45392 5.75682 4.82418 5.86968 5.20309 5.87018C5.53459 5.86862 5.85988 5.78012 6.14648 5.61352L12.1091 10.2534C11.5735 11.0626 11.294 12.0144 11.3072 12.9848C11.3204 13.9551 11.6256 14.899 12.183 15.6934L10.3695 17.5075C10.2229 17.4606 10.0701 17.4357 9.91624 17.4336C9.60521 17.4339 9.30123 17.5263 9.04273 17.6993C8.78422 17.8722 8.58278 18.1179 8.46386 18.4053C8.34495 18.6927 8.3139 19.0089 8.37464 19.314C8.43538 19.619 8.58519 19.8992 8.80512 20.1192C9.02505 20.3391 9.30524 20.4889 9.61028 20.5496C9.91532 20.6104 10.2315 20.5793 10.5189 20.4604C10.8063 20.3415 11.052 20.1401 11.225 19.8815C11.3979 19.623 11.4904 19.3191 11.4906 19.008C11.4886 18.8541 11.4637 18.7014 11.4168 18.5548L13.2109 16.7601C13.7959 17.2105 14.4763 17.521 15.1999 17.6678C15.9235 17.8147 16.6711 17.7939 17.3854 17.6072C18.0998 17.4205 18.7619 17.0727 19.3211 16.5906C19.8803 16.1085 20.3217 15.5047 20.6115 14.8256C20.9013 14.1465 21.0318 13.4101 20.9931 12.6728C20.9543 11.9355 20.7473 11.2168 20.3879 10.5718C20.0285 9.92689 19.5262 9.37275 18.9196 8.95189C18.3129 8.53103 17.618 8.25461 16.888 8.14381ZM16.1443 15.4054C15.8127 15.4145 15.4827 15.3571 15.1737 15.2365C14.8647 15.1159 14.583 14.9346 14.3452 14.7033C14.1075 14.472 13.9185 14.1954 13.7895 13.8899C13.6604 13.5843 13.594 13.256 13.594 12.9243C13.594 12.5926 13.6604 12.2642 13.7895 11.9587C13.9185 11.6531 14.1075 11.3765 14.3452 11.1452C14.583 10.9139 14.8647 10.7326 15.1737 10.612C15.4827 10.4914 15.8127 10.434 16.1443 10.4431C16.7869 10.4656 17.3958 10.7366 17.8426 11.1991C18.2893 11.6616 18.5392 12.2794 18.5395 12.9224C18.5399 13.5655 18.2906 14.1835 17.8443 14.6464C17.398 15.1094 16.7894 15.381 16.1468 15.4042",fill:"#FF7A59"})),B1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5645_167)"},p.createElement("path",{d:"M19.289 12.9098C19.289 13.0866 19.2193 13.2561 19.0953 13.381C18.9713 13.506 18.8032 13.5763 18.6278 13.5763C18.4525 13.5763 18.2843 13.506 18.1603 13.381C18.0363 13.2561 17.9667 13.0866 17.9667 12.9098V6.95655C17.9667 6.77982 18.0363 6.61032 18.1603 6.48536C18.2843 6.36038 18.4525 6.29017 18.6278 6.29017C18.8032 6.29017 18.9713 6.36038 19.0953 6.48536C19.2193 6.61032 19.289 6.77982 19.289 6.95655V12.9098ZM19.0595 17.0348C18.9721 17.1229 16.5134 19.1881 12.0057 19.1881C7.49817 19.1881 5.05587 17.1339 4.95206 17.0457C4.88664 16.9902 4.83275 16.9221 4.79348 16.8455C4.75422 16.7688 4.73035 16.6851 4.72324 16.5991C4.71614 16.5132 4.72594 16.4267 4.75207 16.3445C4.77821 16.2624 4.82018 16.1863 4.87557 16.1205C4.98967 15.9875 5.15135 15.9053 5.32535 15.8918C5.49935 15.8784 5.67155 15.935 5.8044 16.049C5.84266 16.0765 8.03908 17.8718 12.0003 17.8718C15.9616 17.8718 18.1743 16.0655 18.1962 16.049C18.3305 15.9359 18.5033 15.8802 18.6777 15.8936C18.8523 15.907 19.0147 15.9883 19.1305 16.1205C19.242 16.2517 19.2976 16.4218 19.2853 16.594C19.273 16.7662 19.1938 16.9266 19.065 17.0403L19.0595 17.0348ZM4.71712 6.95655C4.727 6.77926 4.80611 6.61311 4.93716 6.49444C5.0682 6.37577 5.24054 6.31421 5.41648 6.32322C5.57959 6.33256 5.73349 6.40243 5.84851 6.51938C5.96353 6.63633 6.03151 6.79207 6.03934 6.95655V12.8989C6.03934 13.0756 5.96969 13.245 5.84571 13.37C5.72173 13.495 5.55357 13.5652 5.37823 13.5652C5.20289 13.5652 5.03473 13.495 4.91075 13.37C4.78677 13.245 4.71712 13.0756 4.71712 12.8989V6.95655ZM8.03362 5.63482C8.0435 5.45752 8.12261 5.29138 8.25366 5.17271C8.38471 5.05403 8.55704 4.99248 8.73298 5.00149C8.89609 5.01083 9.05 5.0807 9.16501 5.19765C9.28002 5.3146 9.348 5.47033 9.35585 5.63482V14.4463C9.35585 14.6231 9.2862 14.7926 9.16221 14.9176C9.03823 15.0425 8.87007 15.1127 8.69474 15.1127C8.5194 15.1127 8.35124 15.0425 8.22726 14.9176C8.10327 14.7926 8.03362 14.6231 8.03362 14.4463V5.63482ZM11.3665 5.30438C11.3665 5.12765 11.4362 4.95816 11.5602 4.83319C11.6842 4.70822 11.8523 4.63801 12.0276 4.63801C12.203 4.63801 12.3711 4.70822 12.4951 4.83319C12.6191 4.95816 12.6888 5.12765 12.6888 5.30438V14.887C12.6888 15.0637 12.6191 15.2331 12.4951 15.3582C12.3711 15.4831 12.203 15.5533 12.0276 15.5533C11.8523 15.5533 11.6842 15.4831 11.5602 15.3582C11.4362 15.2331 11.3665 15.0637 11.3665 14.887V5.30438ZM14.6448 5.63482C14.6448 5.45809 14.7144 5.28859 14.8384 5.16362C14.9623 5.03865 15.1305 4.96844 15.3059 4.96844C15.4812 4.96844 15.6494 5.03865 15.7734 5.16362C15.8973 5.28859 15.967 5.45809 15.967 5.63482V14.4463C15.967 14.6231 15.8973 14.7926 15.7734 14.9176C15.6494 15.0425 15.4812 15.1127 15.3059 15.1127C15.1305 15.1127 14.9623 15.0425 14.8384 14.9176C14.7144 14.7926 14.6448 14.6231 14.6448 14.4463V5.63482ZM19.4693 2.00005H4.56414C4.23936 1.99788 3.91735 2.06029 3.61654 2.18373C3.31573 2.30716 3.04203 2.48919 2.81111 2.71939C2.58019 2.94959 2.39658 3.22343 2.27081 3.52526C2.14503 3.82708 2.07955 4.15094 2.07812 4.4783V19.3478C2.07955 19.6751 2.14503 19.999 2.27081 20.3009C2.39658 20.6026 2.58019 20.8765 2.81111 21.1067C3.04203 21.3369 3.31573 21.519 3.61654 21.6423C3.91735 21.7658 4.23936 21.8282 4.56414 21.826H19.4693C19.7936 21.8282 20.1151 21.766 20.4156 21.6429C20.7161 21.5198 20.9895 21.3383 21.2203 21.1086C21.4512 20.879 21.635 20.6058 21.761 20.3046C21.8871 20.0035 21.9531 19.6802 21.9553 19.3533V4.4783C21.9538 4.15141 21.8885 3.828 21.7631 3.52654C21.6376 3.22508 21.4545 2.95148 21.2242 2.72135C20.9939 2.49122 20.7208 2.30908 20.4206 2.18532C20.1204 2.06156 19.799 1.99861 19.4747 2.00005",fill:"currentColor"})),p.createElement("defs",null,p.createElement("clipPath",{id:"clip0_5645_167"},p.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2 2)"})))),U1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5645_169)"},p.createElement("path",{d:"M2.41207 13.8046C2.36757 13.6149 2.59357 13.4954 2.73135 13.6332L10.0338 20.9356C10.1716 21.0734 10.0521 21.2994 9.86243 21.2549C6.17729 20.3904 3.27655 17.4897 2.41207 13.8046ZM2.16737 10.8778C2.16384 10.9345 2.18514 10.9898 2.22528 11.0299L12.6371 21.4417C12.6772 21.4818 12.7325 21.5032 12.7892 21.4996C13.263 21.4701 13.7279 21.4076 14.1817 21.3144C14.3346 21.283 14.3877 21.0952 14.2773 20.9848L2.68218 9.3897C2.57181 9.27932 2.38395 9.33244 2.35255 9.48534C2.25936 9.93906 2.19688 10.404 2.16737 10.8778ZM3.00918 7.44108C2.97588 7.51584 2.99284 7.6032 3.05071 7.66108L16.0059 20.6163C16.0638 20.6742 16.1512 20.6911 16.2259 20.6578C16.5831 20.4987 16.9293 20.3193 17.263 20.121C17.3734 20.0554 17.3905 19.9037 17.2997 19.8129L3.85412 6.36734C3.76331 6.27652 3.61158 6.29356 3.54598 6.40398C3.34771 6.73766 3.16829 7.08386 3.00918 7.44108ZM4.69873 5.1148C4.62471 5.04078 4.62013 4.92206 4.68987 4.84398C6.52289 2.79186 9.18927 1.5 12.1574 1.5C17.6855 1.5 22.167 5.98146 22.167 11.5096C22.167 14.4777 20.8751 17.1441 18.823 18.9771C18.745 19.0469 18.6262 19.0423 18.5522 18.9683L4.69873 5.1148Z",fill:"#6777FF"})),p.createElement("defs",null,p.createElement("clipPath",{id:"clip0_5645_169"},p.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2.16699 1.5)"})))),q1e=e=>p.createElement("svg",{"xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"170mm",height:"173mm",viewBox:"0 0 170 173",id:"svg8","inkscape:version":"1.0.2 (e86c870879, 2021-01-15, custom)","sodipodi:docname":"cldrnw.svg",...e},p.createElement("defs",{id:"defs2"}),p.createElement("sodipodi:namedview",{id:"base",pagecolor:"#ffffff",bordercolor:"#666666",borderopacity:1,"inkscape:pageopacity":0,"inkscape:pageshadow":2,"inkscape:zoom":1,"inkscape:cx":446.39757,"inkscape:cy":364.37241,"inkscape:document-units":"mm","inkscape:current-layer":"layer2","inkscape:document-rotation":0,showgrid:"false","inkscape:window-width":1920,"inkscape:window-height":1017,"inkscape:window-x":1912,"inkscape:window-y":-8,"inkscape:window-maximized":1}),p.createElement("metadata",{id:"metadata5"},p.createElement("rdf:RDF",null,p.createElement("cc:Work",{"rdf:about":""},p.createElement("dc:format",null,"image/svg+xml"),p.createElement("dc:type",{"rdf:resource":"http://purl.org/dc/dcmitype/StillImage"}),p.createElement("dc:title",null)))),p.createElement("g",{"inkscape:groupmode":"layer",id:"layer2","inkscape:label":"Capa 2",style:{opacity:1}},p.createElement("path",{id:"rect862",style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46864,strokeLinecap:"square",paintOrder:"markers fill stroke"},d:"M 7.9243621,0.40426573 H 162.081 c 4.29879,0 7.75955,3.45686397 7.75955,7.75081597 V 36.958129 c 0,4.293952 -3.46076,7.750816 -7.75955,7.750816 H 7.9243621 c -4.29883,0 -7.75961003,-3.456864 -7.75961003,-7.750816 V 8.1550817 c 0,-4.293952 3.46078003,-7.75081597 7.75961003,-7.75081597 z"}),p.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",stroke:"none",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865",width:53.482864,height:47.625,x:.21232992,y:30.049105,ry:0}),p.createElement("rect",{style:{fill:"#5edafe",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-6",width:53.483627,height:47.625,x:116.33598,y:30.049105,ry:0}),p.createElement("rect",{style:{fill:"#3ca8e8",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5",width:62.640022,height:47.625,x:53.695198,y:30.049105,ry:0}),p.createElement("rect",{style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1",width:53.483627,height:47.625,x:.21232992,y:77.674103,ry:0}),p.createElement("rect",{style:{fill:"#3ca8e8",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-6-7",width:53.483627,height:47.625,x:116.33598,y:77.674103,ry:0}),p.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5-7",width:62.640022,height:47.625,x:53.695198,y:77.674103,ry:0}),p.createElement("rect",{style:{fill:"#154a8a",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1-1",width:53.483627,height:47.625,x:.21232992,y:125.29911,ry:7.7508163}),p.createElement("rect",{style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5-7-8",width:62.639313,height:47.624989,x:53.695961,y:125.29911,ry:0}),p.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1-1-4",width:53.483627,height:47.625,x:116.33598,y:125.29911,ry:7.7508163}),p.createElement("path",{style:{fill:"#154a8a",fillOpacity:1,stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 0.21378207,125.2991 53.48140993,1e-5 0.003,47.62499 H 8.4247021 l -8.21573003,-8.21568 z",id:"path1012","sodipodi:nodetypes":"cccccc"}),p.createElement("path",{style:{fill:"#2179d2",fillOpacity:1,stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 169.82154,125.29911 h -53.48556 l 0.002,47.625 h 45.27325 l 8.21568,-8.21568 z",id:"path1012-9","sodipodi:nodetypes":"cccccc"}))),Uz=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M7.82373 7.35312L7.82391 7.35249L11.6726 9.65779L13.9659 8.6927C14.4319 8.49124 14.9344 8.38793 15.4421 8.38843C15.5267 8.38843 15.6103 8.39227 15.6935 8.39782C15.4178 7.32269 14.8357 6.35079 14.0181 5.60023C13.2004 4.84966 12.1823 4.35275 11.0876 4.16987C9.99283 3.98699 8.86853 4.12601 7.8513 4.57005C6.83408 5.01409 5.96772 5.74403 5.35751 6.67115C5.37712 6.67091 5.39643 6.66968 5.41608 6.66968C6.26666 6.66852 7.10061 6.90525 7.82373 7.35312Z",fill:"#0364B8"}),p.createElement("path",{d:"M7.82449 7.3525L7.82431 7.35313C7.10119 6.90526 6.26724 6.66853 5.41666 6.66968C5.39701 6.66968 5.37767 6.67091 5.35809 6.67116C4.52559 6.68147 3.71163 6.91843 3.00368 7.35659C2.29574 7.79475 1.72058 8.41754 1.34 9.15804C0.959422 9.89853 0.787821 10.7287 0.843637 11.5594C0.899452 12.3901 1.18057 13.1899 1.65679 13.8728L5.05075 12.4446L6.55948 11.8097L9.91879 10.396L11.6731 9.65779L7.82449 7.3525Z",fill:"#0078D4"}),p.createElement("path",{d:"M15.6938 8.39782C15.6106 8.39227 15.527 8.38843 15.4424 8.38843C14.9347 8.38793 14.4323 8.49163 13.9663 8.6931L11.6728 9.65779L12.3378 10.0561L14.5178 11.3619L15.4688 11.9316L18.7209 13.8795C19.0164 13.331 19.1695 12.717 19.1663 12.0939C19.163 11.4709 19.0035 10.8586 18.7023 10.3131C18.4011 9.76768 17.9678 9.30653 17.4422 8.97191C16.9166 8.63729 16.3154 8.4399 15.6938 8.39782Z",fill:"#1490DF"}),p.createElement("path",{d:"M15.4693 11.9315L14.5182 11.3618L12.3383 10.0561L11.6732 9.65771L9.9189 10.396L6.55959 11.8096L5.05086 12.4445L1.6569 13.8727C2.07866 14.4791 2.64091 14.9744 3.29564 15.3163C3.95037 15.6583 4.67813 15.8367 5.41676 15.8363H15.4428C16.115 15.8365 16.7748 15.6547 17.352 15.3101C17.9292 14.9656 18.4024 14.4712 18.7213 13.8794L15.4693 11.9315Z",fill:"#28A8EA"})),z1e=e=>p.createElement("svg",{id:"Livello_1","xmlns:x":"http://ns.adobe.com/Extensibility/1.0/","xmlns:i":"http://ns.adobe.com/AdobeIllustrator/10.0/","xmlns:graph":"http://ns.adobe.com/Graphs/1.0/",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1831.085 1703.335",enableBackground:"new 0 0 1831.085 1703.335",xmlSpace:"preserve",...e},p.createElement("path",{fill:"#0A2767",d:"M1831.083,894.25c0.1-14.318-7.298-27.644-19.503-35.131h-0.213l-0.767-0.426l-634.492-375.585  c-2.74-1.851-5.583-3.543-8.517-5.067c-24.498-12.639-53.599-12.639-78.098,0c-2.934,1.525-5.777,3.216-8.517,5.067L446.486,858.693  l-0.766,0.426c-19.392,12.059-25.337,37.556-13.278,56.948c3.553,5.714,8.447,10.474,14.257,13.868l634.492,375.585  c2.749,1.835,5.592,3.527,8.517,5.068c24.498,12.639,53.599,12.639,78.098,0c2.925-1.541,5.767-3.232,8.517-5.068l634.492-375.585  C1823.49,922.545,1831.228,908.923,1831.083,894.25z"}),p.createElement("path",{fill:"#0364B8",d:"M520.453,643.477h416.38v381.674h-416.38V643.477z M1745.917,255.5V80.908  c1-43.652-33.552-79.862-77.203-80.908H588.204C544.552,1.046,510,37.256,511,80.908V255.5l638.75,170.333L1745.917,255.5z"}),p.createElement("path",{fill:"#0078D4",d:"M511,255.5h425.833v383.25H511V255.5z"}),p.createElement("path",{fill:"#28A8EA",d:"M1362.667,255.5H936.833v383.25L1362.667,1022h383.25V638.75L1362.667,255.5z"}),p.createElement("path",{fill:"#0078D4",d:"M936.833,638.75h425.833V1022H936.833V638.75z"}),p.createElement("path",{fill:"#0364B8",d:"M936.833,1022h425.833v383.25H936.833V1022z"}),p.createElement("path",{fill:"#14447D",d:"M520.453,1025.151h416.38v346.969h-416.38V1025.151z"}),p.createElement("path",{fill:"#0078D4",d:"M1362.667,1022h383.25v383.25h-383.25V1022z"}),p.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:1128.4584,y1:811.0833,x2:1128.4584,y2:1.9982,gradientTransform:"matrix(1 0 0 -1 0 1705.3334)"},p.createElement("stop",{offset:0,style:{stopColor:"#35b8f1"}}),p.createElement("stop",{offset:1,style:{stopColor:"#28a8ea"}})),p.createElement("path",{fill:"url(#SVGID_1_)",d:"M1811.58,927.593l-0.809,0.426l-634.492,356.848c-2.768,1.703-5.578,3.321-8.517,4.769  c-10.777,5.132-22.481,8.029-34.407,8.517l-34.663-20.27c-2.929-1.47-5.773-3.105-8.517-4.897L447.167,906.003h-0.298  l-21.036-11.753v722.384c0.328,48.196,39.653,87.006,87.849,86.7h1230.914c0.724,0,1.363-0.341,2.129-0.341  c10.18-0.651,20.216-2.745,29.808-6.217c4.145-1.756,8.146-3.835,11.966-6.217c2.853-1.618,7.75-5.152,7.75-5.152  c21.814-16.142,34.726-41.635,34.833-68.772V894.25C1831.068,908.067,1823.616,920.807,1811.58,927.593z"}),p.createElement("path",{opacity:.5,fill:"#0A2767",enableBackground:"new    ",d:"M1797.017,891.397v44.287l-663.448,456.791L446.699,906.301  c0-0.235-0.191-0.426-0.426-0.426l0,0l-63.023-37.899v-31.938l25.976-0.426l54.932,31.512l1.277,0.426l4.684,2.981  c0,0,645.563,368.346,647.267,369.197l24.698,14.478c2.129-0.852,4.258-1.703,6.813-2.555  c1.278-0.852,640.879-360.681,640.879-360.681L1797.017,891.397z"}),p.createElement("path",{fill:"#1490DF",d:"M1811.58,927.593l-0.809,0.468l-634.492,356.848c-2.768,1.703-5.578,3.321-8.517,4.769  c-24.641,12.038-53.457,12.038-78.098,0c-2.918-1.445-5.76-3.037-8.517-4.769L446.657,928.061l-0.766-0.468  c-12.25-6.642-19.93-19.409-20.057-33.343v722.384c0.305,48.188,39.616,87.004,87.803,86.7c0.001,0,0.002,0,0.004,0h1229.636  c48.188,0.307,87.5-38.509,87.807-86.696c0-0.001,0-0.002,0-0.004V894.25C1831.068,908.067,1823.616,920.807,1811.58,927.593z"}),p.createElement("path",{opacity:.1,enableBackground:"new    ",d:"M1185.52,1279.629l-9.496,5.323c-2.752,1.752-5.595,3.359-8.517,4.812  c-10.462,5.135-21.838,8.146-33.47,8.857l241.405,285.479l421.107,101.476c11.539-8.716,20.717-20.178,26.7-33.343L1185.52,1279.629  z"}),p.createElement("path",{opacity:.05,enableBackground:"new    ",d:"M1228.529,1255.442l-52.505,29.51c-2.752,1.752-5.595,3.359-8.517,4.812  c-10.462,5.135-21.838,8.146-33.47,8.857l113.101,311.838l549.538,74.989c21.649-16.254,34.394-41.743,34.407-68.815v-9.326  L1228.529,1255.442z"}),p.createElement("path",{fill:"#28A8EA",d:"M514.833,1703.333h1228.316c18.901,0.096,37.335-5.874,52.59-17.033l-697.089-408.331  c-2.929-1.47-5.773-3.105-8.517-4.897L447.125,906.088h-0.298l-20.993-11.838v719.914  C425.786,1663.364,465.632,1703.286,514.833,1703.333C514.832,1703.333,514.832,1703.333,514.833,1703.333z"}),p.createElement("path",{opacity:.1,enableBackground:"new    ",d:"M1022,418.722v908.303c-0.076,31.846-19.44,60.471-48.971,72.392  c-9.148,3.931-19,5.96-28.957,5.962H425.833V383.25H511v-42.583h433.073C987.092,340.83,1021.907,375.702,1022,418.722z"}),p.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M979.417,461.305v908.302c0.107,10.287-2.074,20.469-6.388,29.808  c-11.826,29.149-40.083,48.273-71.54,48.417H425.833V383.25h475.656c12.356-0.124,24.533,2.958,35.344,8.943  C962.937,405.344,979.407,432.076,979.417,461.305z"}),p.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M979.417,461.305v823.136c-0.208,43-34.928,77.853-77.927,78.225H425.833V383.25  h475.656c12.356-0.124,24.533,2.958,35.344,8.943C962.937,405.344,979.407,432.076,979.417,461.305z"}),p.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M936.833,461.305v823.136c-0.046,43.067-34.861,78.015-77.927,78.225H425.833  V383.25h433.072c43.062,0.023,77.951,34.951,77.927,78.013C936.833,461.277,936.833,461.291,936.833,461.305z"}),p.createElement("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:162.7469,y1:1383.0741,x2:774.0864,y2:324.2592,gradientTransform:"matrix(1 0 0 -1 0 1705.3334)"},p.createElement("stop",{offset:0,style:{stopColor:"#1784d9"}}),p.createElement("stop",{offset:.5,style:{stopColor:"#107ad5"}}),p.createElement("stop",{offset:1,style:{stopColor:"#0a63c9"}})),p.createElement("path",{fill:"url(#SVGID_2_)",d:"M78.055,383.25h780.723c43.109,0,78.055,34.947,78.055,78.055v780.723  c0,43.109-34.946,78.055-78.055,78.055H78.055c-43.109,0-78.055-34.947-78.055-78.055V461.305  C0,418.197,34.947,383.25,78.055,383.25z"}),p.createElement("path",{fill:"#FFFFFF",d:"M243.96,710.631c19.238-40.988,50.29-75.289,89.17-98.495c43.057-24.651,92.081-36.94,141.675-35.515  c45.965-0.997,91.321,10.655,131.114,33.683c37.414,22.312,67.547,55.004,86.742,94.109c20.904,43.09,31.322,90.512,30.405,138.396  c1.013,50.043-9.706,99.628-31.299,144.783c-19.652,40.503-50.741,74.36-89.425,97.388c-41.327,23.734-88.367,35.692-136.011,34.578  c-46.947,1.133-93.303-10.651-134.01-34.067c-37.738-22.341-68.249-55.07-87.892-94.28c-21.028-42.467-31.57-89.355-30.745-136.735  C212.808,804.859,223.158,755.686,243.96,710.631z M339.006,941.858c10.257,25.912,27.651,48.385,50.163,64.812  c22.93,16.026,50.387,24.294,78.353,23.591c29.783,1.178,59.14-7.372,83.634-24.358c22.227-16.375,39.164-38.909,48.715-64.812  c10.677-28.928,15.946-59.572,15.543-90.404c0.33-31.127-4.623-62.084-14.649-91.554c-8.855-26.607-25.246-50.069-47.182-67.537  c-23.88-17.79-53.158-26.813-82.91-25.55c-28.572-0.74-56.644,7.593-80.184,23.804c-22.893,16.496-40.617,39.168-51.1,65.365  c-23.255,60.049-23.376,126.595-0.341,186.728L339.006,941.858z"}),p.createElement("path",{fill:"#50D9FF",d:"M1362.667,255.5h383.25v383.25h-383.25V255.5z"})),G1e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5645_179)"},p.createElement("path",{d:"M15.5719 9.75H20.57C21.0422 9.75 21.425 10.1328 21.425 10.605V15.1576C21.425 16.8931 20.0181 18.3 18.2827 18.3H18.2678C16.5323 18.3002 15.1253 16.8936 15.125 15.1581C15.125 15.1579 15.125 15.1578 15.125 15.1576V10.1969C15.125 9.95006 15.3251 9.75 15.5719 9.75Z",fill:"#5059C9"}),p.createElement("path",{d:"M18.9498 8.84999C20.0682 8.84999 20.9748 7.94336 20.9748 6.82499C20.9748 5.70661 20.0682 4.79999 18.9498 4.79999C17.8314 4.79999 16.9248 5.70661 16.9248 6.82499C16.9248 7.94336 17.8314 8.84999 18.9498 8.84999Z",fill:"#5059C9"}),p.createElement("path",{d:"M12.6501 8.85001C14.2655 8.85001 15.5751 7.54044 15.5751 5.925C15.5751 4.30957 14.2655 3 12.6501 3C11.0347 3 9.7251 4.30957 9.7251 5.925C9.7251 7.54044 11.0347 8.85001 12.6501 8.85001Z",fill:"#7B83EB"}),p.createElement("path",{d:"M16.5502 9.75H8.29988C7.8333 9.76155 7.46421 10.1488 7.47503 10.6154V15.8079C7.40988 18.6079 9.62511 20.9315 12.425 21C15.225 20.9315 17.4402 18.6079 17.375 15.8079V10.6154C17.3859 10.1488 17.0168 9.76155 16.5502 9.75Z",fill:"#7B83EB"}),p.createElement("path",{opacity:.1,d:"M12.8749 9.75V17.0265C12.8726 17.3602 12.6704 17.66 12.3619 17.787C12.2636 17.8286 12.158 17.85 12.0514 17.85H7.87085C7.81235 17.7015 7.75835 17.553 7.71334 17.4C7.55582 16.8836 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.8749Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M12.4249 9.75V17.4765C12.4248 17.5832 12.4034 17.6888 12.3619 17.787C12.2348 18.0956 11.935 18.2978 11.6014 18.3H8.08235C8.00585 18.1515 7.93385 18.003 7.87085 17.85C7.80784 17.697 7.75835 17.553 7.71334 17.4C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.4249Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M12.4248 9.75V16.5765C12.4214 17.0299 12.0547 17.3966 11.6013 17.4H7.71334C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.4248Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.9748 9.75V16.5765C11.9714 17.0299 11.6047 17.3966 11.1513 17.4H7.71334C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H11.9748Z",fill:"currentColor"}),p.createElement("path",{opacity:.1,d:"M12.8747 7.4235V8.841C12.7982 8.84549 12.7262 8.85 12.6497 8.85C12.5732 8.85 12.5012 8.8455 12.4247 8.841C12.2728 8.83092 12.1221 8.80682 11.9747 8.769C11.0634 8.5532 10.3106 7.91412 9.94967 7.05C9.88757 6.90489 9.83936 6.75421 9.80566 6.60001H12.0512C12.5053 6.60173 12.8729 6.9694 12.8747 7.4235Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M12.4252 7.87348V8.84098C12.2733 8.8309 12.1227 8.8068 11.9752 8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.6017C12.0558 7.05171 12.4235 7.41939 12.4252 7.87348Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M12.4252 7.87348V8.84098C12.2733 8.8309 12.1227 8.8068 11.9752 8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.6017C12.0558 7.05171 12.4235 7.41939 12.4252 7.87348Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.9752 7.87349V8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.1517C11.6058 7.05172 11.9735 7.4194 11.9752 7.87349Z",fill:"currentColor"}),p.createElement("path",{d:"M2.90004 7.04999H11.1503C11.6059 7.04999 11.9752 7.41929 11.9752 7.87483V16.1251C11.9752 16.5807 11.6059 16.95 11.1503 16.95H2.90004C2.44449 16.95 2.0752 16.5807 2.0752 16.1251V7.87483C2.0752 7.41929 2.4445 7.04999 2.90004 7.04999Z",fill:"url(#paint0_linear_5645_179)"}),p.createElement("path",{d:"M9.1956 10.1901H7.54635V14.6811H6.4956V10.1901H4.854V9.31891H9.1956V10.1901Z",fill:"white"})),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_5645_179",x1:3.79503,y1:6.40547,x2:10.2554,y2:17.5945,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#5A62C3"}),p.createElement("stop",{offset:.5,stopColor:"#4D55BD"}),p.createElement("stop",{offset:1,stopColor:"#3940AB"})),p.createElement("clipPath",{id:"clip0_5645_179"},p.createElement("rect",{width:19.35,height:18,fill:"white",transform:"translate(2.0752 3)"})))),S9=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6.1039 5.90972C6.68754 6.38386 6.90648 6.34768 8.00238 6.27457L18.3342 5.65418C18.5534 5.65418 18.3711 5.43557 18.2981 5.39924L16.5822 4.15879C16.2534 3.90354 15.8153 3.61122 14.9758 3.68434L4.9715 4.41403C4.60665 4.45021 4.53377 4.63262 4.67909 4.77886L6.1039 5.90972ZM6.72422 8.31752V19.1884C6.72422 19.7726 7.01618 19.9912 7.6733 19.955L19.028 19.298C19.6854 19.2619 19.7586 18.86 19.7586 18.3854V7.58753C19.7586 7.1137 19.5763 6.85816 19.1739 6.89464L7.30815 7.58753C6.87027 7.62433 6.72422 7.84337 6.72422 8.31752ZM17.9335 8.90066C18.0063 9.22933 17.9335 9.55768 17.6043 9.5946L17.0571 9.70361V17.7292C16.5822 17.9845 16.1441 18.1304 15.7791 18.1304C15.1947 18.1304 15.0484 17.9479 14.6107 17.401L11.0321 11.783V17.2186L12.1645 17.4741C12.1645 17.4741 12.1645 18.1304 11.2509 18.1304L8.73222 18.2765C8.65905 18.1304 8.73222 17.7659 8.98769 17.6929L9.64494 17.5108V10.324L8.73237 10.2509C8.6592 9.92222 8.84146 9.44837 9.35298 9.41159L12.0549 9.22946L15.7791 14.9205V9.88603L14.8296 9.77704C14.7567 9.37526 15.0484 9.08353 15.4135 9.04735L17.9335 8.90066ZM4.13151 3.4291L14.5376 2.66279C15.8155 2.55318 16.1443 2.6266 16.9475 3.21005L20.2692 5.54473C20.8173 5.9462 21 6.05551 21 6.49316V19.298C21 20.1005 20.7077 20.5751 19.6856 20.6477L7.60101 21.3775C6.83376 21.4141 6.4686 21.3047 6.0668 20.7937L3.6206 17.6199C3.18227 17.0357 3 16.5986 3 16.0873V4.70545C3 4.04918 3.29242 3.50177 4.13151 3.4291Z",fill:"currentColor"})),y0=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6.21613 14.6433C6.21613 15.8058 5.27738 16.7453 4.11588 16.7453C2.95437 16.7453 2.01562 15.8058 2.01562 14.6433C2.01562 13.4809 2.95437 12.5414 4.11588 12.5414H6.21613V14.6433ZM7.26625 14.6433C7.26625 13.4809 8.205 12.5414 9.3665 12.5414C10.528 12.5414 11.4668 13.4809 11.4668 14.6433V19.8982C11.4668 21.0606 10.528 22.0001 9.3665 22.0001C8.205 22.0001 7.26625 21.0606 7.26625 19.8982V14.6433Z",fill:"#E01E5A"}),p.createElement("path",{d:"M9.36679 6.20386C8.20529 6.20386 7.26654 5.26436 7.26654 4.10193C7.26654 2.9395 8.20529 2 9.36679 2C10.5283 2 11.467 2.9395 11.467 4.10193V6.20386H9.36679ZM9.36679 7.27074C10.5283 7.27074 11.467 8.21024 11.467 9.37267C11.467 10.5351 10.5283 11.4746 9.36679 11.4746H4.10025C2.93875 11.4746 2 10.5351 2 9.37267C2 8.21024 2.93875 7.27074 4.10025 7.27074H9.36679Z",fill:"#36C5F0"}),p.createElement("path",{d:"M17.7838 9.37267C17.7838 8.21024 18.7226 7.27074 19.8841 7.27074C21.0456 7.27074 21.9843 8.21024 21.9843 9.37267C21.9843 10.5351 21.0456 11.4746 19.8841 11.4746H17.7838V9.37267ZM16.7337 9.37267C16.7337 10.5351 15.795 11.4746 14.6335 11.4746C13.472 11.4746 12.5332 10.5351 12.5332 9.37267V4.10193C12.5332 2.9395 13.472 2 14.6335 2C15.795 2 16.7337 2.9395 16.7337 4.10193V9.37267Z",fill:"#2EB67D"}),p.createElement("path",{d:"M14.6335 17.7962C15.795 17.7962 16.7337 18.7357 16.7337 19.8982C16.7337 21.0606 15.795 22.0001 14.6335 22.0001C13.472 22.0001 12.5332 21.0606 12.5332 19.8982V17.7962H14.6335ZM14.6335 16.7453C13.472 16.7453 12.5332 15.8058 12.5332 14.6433C12.5332 13.4809 13.472 12.5414 14.6335 12.5414H19.9C21.0615 12.5414 22.0002 13.4809 22.0002 14.6433C22.0002 15.8058 21.0615 16.7453 19.9 16.7453H14.6335Z",fill:"#ECB22E"}));var cr=(e=>(e.CODEX="CODEX",e.PROMPT_TEXT_AREA="PROMPT_TEXT_AREA",e.CONNECTOR_SETTING="CONNECTOR_SETTING",e.ADMIN_SETTING="ADMIN_SETTING",e.SLURM="SLURM",e.DEEP_RESEARCH="DEEP_RESEARCH",e.JIT_PLUGIN="JIT_PLUGIN",e.N7JUPD="N7JUPD",e))(cr||{});const H1e=It({github:{id:"platformConnectors.github",defaultMessage:"GitHub"},hubspot:{id:"platformConnectors.hubspot",defaultMessage:"HubSpot"},googleDrive:{id:"platformConnectors.googleDrive",defaultMessage:"Google Drive"},gmail:{id:"platformConnectors.gmail",defaultMessage:"Gmail"},googleContacts:{id:"platformConnectors.googleContacts",defaultMessage:"Google Contacts"},gcal:{id:"platformConnectors.gcal",defaultMessage:"Google Calendar"},dropbox:{id:"platformConnectors.dropbox",defaultMessage:"Dropbox"},linear:{id:"platformConnectors.linear",defaultMessage:"Linear"},sharepoint:{id:"platformConnectors.sharepoint",defaultMessage:"SharePoint"},outlookEmail:{id:"GJeJu+",defaultMessage:"Outlook Email"},outlookCalendar:{id:"ZaCgzD",defaultMessage:"Outlook Calendar"},teams:{id:"1F0GKN",defaultMessage:"Teams"},box:{id:"l5cshA",defaultMessage:"Box"},intercom:{id:"IeKzI2",defaultMessage:"Intercom"},notion:{id:"ewTDRt",defaultMessage:"Notion"},canva:{id:"2oFmyl",defaultMessage:"Canva"},slack:{id:"Do199+",defaultMessage:"Slack"},disabledByAdmin:{id:"2+q1p8",defaultMessage:"Your admin has not enabled this connector."}}),V1e={},Xn={...H1e,...V1e},VLe={[q.GITHUB_CONNECTOR]:{title:Xn.github,icon:Bz},[q.GDRIVE_ACTION_CONNECTOR]:{title:Xn.googleDrive,icon:Sd},[q.DROPBOX_CONNECTOR]:{title:Xn.dropbox,icon:N1e},[q.HUBSPOT_CONNECTOR]:{title:Xn.hubspot,icon:j1e},[q.LINEAR_CONNECTOR]:{title:Xn.linear,icon:U1e},[q.SHAREPOINT_CONNECTOR]:{title:Xn.sharepoint,icon:Uz},[q.TEAMS_CONNECTOR]:{title:Xn.teams,icon:G1e},[q.OUTLOOK_EMAIL_CONNECTOR]:{title:Xn.outlookEmail,icon:z1e},[q.OUTLOOK_CALENDAR_CONNECTOR]:{title:Xn.outlookCalendar,icon:q1e},[q.BOX_CONNECTOR]:{title:Xn.box,icon:R1e},[q.INTERCOM_CONNECTOR]:{title:Xn.intercom,icon:B1e},[q.NOTION_CONNECTOR]:{title:Xn.notion,icon:S9},[q.GOOGLE_CONTACTS_CONNECTOR]:{title:Xn.googleContacts,icon:F1e},[q.GCAL_CONNECTOR]:{title:Xn.gcal,icon:L1e},[q.GMAIL_CONNECTOR]:{title:Xn.gmail,icon:D1e},[q.CANVA_CONNECTOR]:{title:Xn.canva,icon:P1e},[q.SLACK_CONNECTOR]:{title:Xn.slack,icon:y0}},$1e={github:q.GITHUB_CONNECTOR,google_drive:q.GDRIVE_ACTION_CONNECTOR,dropbox:q.DROPBOX_CONNECTOR,linear:q.LINEAR_CONNECTOR,hubspot:q.HUBSPOT_CONNECTOR,sharepoint:q.SHAREPOINT_CONNECTOR,google_calendar:q.GCAL_CONNECTOR,gmail:q.GMAIL_CONNECTOR,google_contacts:q.GOOGLE_CONTACTS_CONNECTOR,teams:q.TEAMS_CONNECTOR,outlook_email:q.OUTLOOK_EMAIL_CONNECTOR,outlook_calendar:q.OUTLOOK_CALENDAR_CONNECTOR,box:q.BOX_CONNECTOR,intercom:q.INTERCOM_CONNECTOR,notion:q.NOTION_CONNECTOR,canva:q.CANVA_CONNECTOR,slack:q.SLACK_CONNECTOR},b0=({enabled:e=!0,includeDisabledByAdmin:t=!1,productSku:n,purpose:r=void 0}={})=>{const{platformConnectors:i,isLoading:s}=Vh(e,n,r);return{availableConnectors:p.useMemo(()=>{const a=Array.from(i.values()),l=a.filter(u=>u.connector_type!=="MCP").map(u=>({...u,type:jh[u.id]})),c=a.filter(u=>u.connector_type==="MCP").map(u=>({...u,type:kh.MCP_CONNECTOR}));return[...l,...c].filter(u=>!!u.type&&(t||u.status!=="DISABLED_BY_ADMIN"))},[i,t,n,r]),isLoading:s}},W1e=()=>{const e=pe(),t=On(e,"3747383021"),n=Qe(e,"3544641259"),r=p.useMemo(()=>{const i=Object.entries($1e).reduce((o,[a,l])=>(t.get(a,!1)&&o.push(l),o),[]);return t.get("mcp",!1)?[...i,kh.MCP_CONNECTOR]:i},[t]);return{enabled:n,availableConnectorsType:n?r:[]}},K1e=()=>{const e=pe();return Qe(e,"733205176")},$Le=()=>{const e=pe();return Qe(e,"3207737252")},qz=({getDisabledAutoConnectors:e=!1})=>{const t=pe(),n=On(t,"463092697")?.value,{data:r,isLoading:i}=jz(e),s=n?.autoConnectors??[];if(i)return{allAutoConnectors:s,enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!0};if(!e)return{allAutoConnectors:s,enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!1};const{disabledTools:o=[]}=r??{},a=o.map(Jue).filter(c=>c!=null);a.includes(q.GMAIL_CONNECTOR)&&a.includes(q.GCAL_CONNECTOR)&&a.push(q.GOOGLE_CONTACTS_CONNECTOR);const l=s.filter(c=>!a.includes(c));return{allAutoConnectors:s,enabledAutoConnectors:l,disabledAutoConnectors:a,isLoading:!1}},Y1e=()=>{const e=b9(),t=!!(e?.enabled??!1),n=e?.autoConnectors??[],r=e?.enabledConnectors??[];return{enabled:t,availableConnectorsType:t?r:[],autoConnectors:n}},Z1e=()=>({enabled:!0,availableConnectorsType:[]}),J1e=({includeDisabledByAdmin:e}={})=>{const{enabled:t,availableConnectorsType:n}=W1e(),{availableConnectors:r,isLoading:i}=b0({enabled:t,includeDisabledByAdmin:e,productSku:cr.DEEP_RESEARCH}),s=p.useMemo(()=>r.filter(o=>n.includes(o.type)),[n,r]);return t?{enabled:!0,availableConnectors:s,isLoading:i}:{enabled:!1,availableConnectors:[],isLoading:!1}},WLe=({includeDisabledByAdmin:e}={})=>{const{enabled:t,availableConnectorsType:n}=Z1e(),{availableConnectors:r,isLoading:i}=b0({enabled:t,includeDisabledByAdmin:e,productSku:cr.CODEX});return r.some(s=>s.type===q.GITHUB_CONNECTOR)&&n.includes(q.GITHUB_CONNECTOR)?{enabled:!0,isLoading:i,availableConnectors:r.filter(s=>s.type===q.GITHUB_CONNECTOR)}:{enabled:!1,availableConnectors:[],isLoading:!1}},w9=({includeDisabledByAdmin:e,includeAutoConnectors:t,filterDisabledAutoConnectors:n}={})=>{const r=Y1e();let i=r.availableConnectorsType;const s=pe(),o=Qe(s,"2768222595"),{enabledAutoConnectors:a,allAutoConnectors:l,isLoading:c}=qz({getDisabledAutoConnectors:o&&(r.autoConnectors??[]).length>0&&n}),u=o?n?a:l:[],d=r.enabled;t&&(i=[...new Set([...i,...u])]);const{availableConnectors:f,isLoading:h}=b0({enabled:d,includeDisabledByAdmin:e,productSku:cr.SLURM}),m=p.useMemo(()=>i.flatMap(v=>v===kh.MCP_CONNECTOR?f.filter(_=>_.type===v):[f.find(_=>_.type===v)]).filter(v=>!!v),[i,f]);return d?{enabled:!0,availableConnectors:m,isLoading:c||h}:{enabled:!1,availableConnectors:[],isLoading:!1}},KLe=({purpose:e=void 0}={})=>{const t=Hh(),{availableConnectors:n,isLoading:r}=b0({enabled:t,includeDisabledByAdmin:!0,productSku:cr.CONNECTOR_SETTING,purpose:e});return{enabled:!!(n&&n.length>0),isLoading:r,availableConnectors:n??[]}},zz=e=>{"use forget";const t=Re.c(17),{availableConnectors:n,fetchValidLinksOnly:r,productSku:i}=e,s=r===void 0?!1:r;let o;t[0]!==s||t[1]!==i?(o={fetchValidLinksOnly:s,productSku:i},t[0]=s,t[1]=i,t[2]=o):o=t[2];const{connectorLinks:a,isLoading:l}=od(o);let c;t[3]!==a?(c=new Set(Array.from(a.values()).flatMap(tge)),t[3]=a,t[4]=c):c=t[4];const u=c;let d;if(t[5]!==n||t[6]!==u){let v;t[8]!==u?(v=_=>_.type!==kh.MCP_CONNECTOR&&u.has(_.type),t[8]=u,t[9]=v):v=t[9],d=new Set(n.filter(v).map(nge)),t[5]=n,t[6]=u,t[7]=d}else d=t[7];const f=d;let h;t[10]!==n||t[11]!==a?(h=new Map,a.forEach((v,_)=>{if(!n.some(b=>b.id===_))return;const y=jh[_];y&&v.forEach(b=>{h.set(b.id,y)})}),t[10]=n,t[11]=a,t[12]=h):h=t[12];let m;return t[13]!==f||t[14]!==l||t[15]!==h?(m={connectedTypes:f,isLoading:l,linkIdToConnectedType:h},t[13]=f,t[14]=l,t[15]=h,t[16]=m):m=t[16],m},Q1e=e=>{"use forget";const t=Re.c(7);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r,includeAutoConnectors:i}=n,s=r===void 0?!0:r,o=i===void 0?!1:i;let a;t[2]!==o?(a={includeAutoConnectors:o},t[2]=o,t[3]=a):a=t[3];const{enabled:l,availableConnectors:c}=w9(a),u=l&&s;let d;return t[4]!==c||t[5]!==u?(d={enabled:u,availableConnectors:c,productSku:cr.SLURM},t[4]=c,t[5]=u,t[6]=d):d=t[6],zz(d)},YLe=e=>{"use forget";const t=Re.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,i=r===void 0?!0:r,{enabled:s,availableConnectors:o}=J1e(),a=s&&i;let l;return t[2]!==o||t[3]!==a?(l={enabled:a,availableConnectors:o,fetchValidLinksOnly:!0,productSku:cr.DEEP_RESEARCH},t[2]=o,t[3]=a,t[4]=l):l=t[4],zz(l)},X1e=()=>!!b9()?.enablePopupRedirect,ZLe=()=>{const{connectedTypes:e,isLoading:t}=Q1e(),{hasConnections:n,isLoading:r}=Pz();if(t||r)return{anyConnectorEnabled:!1,anyAccessConnectorEnabled:!1,anySyncConnectorEnabled:!1,isLoading:!0};const i=e.size>0,s=n??!1;return{anyConnectorEnabled:i||s,anyAccessConnectorEnabled:i,anySyncConnectorEnabled:s,isLoading:!1}};function ege(e){return jh[e.connector_id]}function tge(e){return e.map(ege)}function nge(e){return e.type}const rge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"}),p.createElement("path",{d:"M10.0002 8.5C10.8285 8.50022 11.5002 9.17171 11.5002 10C11.5002 10.8283 10.8285 11.4998 10.0002 11.5C8.50014 11.4999 5.00025 10.5 5.00025 10C5.00025 9.50002 8.50014 8.50009 10.0002 8.5Z"}),p.createElement("path",{d:"M12.0833 0.00488281C12.4504 0.00505872 12.7483 0.302761 12.7483 0.669922C12.7483 1.03708 12.4504 1.33479 12.0833 1.33496H7.91626C7.54922 1.3347 7.25122 1.03703 7.25122 0.669922C7.25122 0.302814 7.54922 0.00514505 7.91626 0.00488281H12.0833Z"})),ige=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"}),p.createElement("path",{d:"M7.5 5.66992C7.93301 5.41993 10.5488 7.95095 11.2988 9.25C11.713 9.96741 11.4674 10.8846 10.75 11.2988C10.0326 11.713 9.11542 11.4673 8.70117 10.75C7.95118 9.45097 7.06701 5.91997 7.5 5.66992Z"}),p.createElement("path",{d:"M12.084 0.00488281C12.451 0.00519055 12.749 0.302842 12.749 0.669922C12.749 1.037 12.451 1.33465 12.084 1.33496H7.91699C7.54972 1.33496 7.25195 1.03719 7.25195 0.669922C7.25195 0.302653 7.54972 0.00488281 7.91699 0.00488281H12.084Z"})),sge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.585 9.99998C16.585 6.36319 13.6368 3.41502 10 3.41502C6.3632 3.41502 3.41504 6.36319 3.41504 9.99998C3.41504 13.6368 6.3632 16.5849 10 16.5849C13.6368 16.5849 16.585 13.6368 16.585 9.99998ZM17.915 9.99998C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 9.99998C2.08496 5.62865 5.62867 2.08494 10 2.08494C14.3713 2.08494 17.915 5.62865 17.915 9.99998Z"}),p.createElement("path",{d:"M12.0837 0.00494385C12.4509 0.00511975 12.7488 0.302822 12.7488 0.669983C12.7488 1.03714 12.4509 1.33485 12.0837 1.33502H7.91675C7.54948 1.33502 7.25171 1.03725 7.25171 0.669983C7.25171 0.302714 7.54948 0.00494385 7.91675 0.00494385H12.0837Z"}),p.createElement("path",{d:"M11.2992 10.75C10.8849 11.4675 9.96756 11.7133 9.25012 11.2991C8.53268 10.8849 8.28687 9.96747 8.70108 9.25003C9.45108 7.95099 12.0671 5.4199 12.5001 5.6699C12.9331 5.9199 12.0492 9.45099 11.2992 10.75Z"})),oge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.0007 2.08496C14.3717 2.08536 17.9158 5.62891 17.9158 10C17.9158 14.3711 14.3717 17.9146 10.0007 17.915C5.81265 17.915 2.38471 14.6622 2.10425 10.5449C2.07943 10.1786 2.35612 9.86191 2.72241 9.83691C3.08857 9.8123 3.40547 10.0889 3.43042 10.4551C3.66379 13.8792 6.51699 16.5849 10.0007 16.585C13.6372 16.5846 16.5857 13.6365 16.5857 10C16.5857 6.36345 13.6372 3.41544 10.0007 3.41504C9.6335 3.41499 9.33569 3.11724 9.33569 2.75C9.33569 2.38276 9.6335 2.08501 10.0007 2.08496ZM10.0007 8.5C10.8288 8.50042 11.5007 9.17183 11.5007 10C11.5007 10.8282 10.8288 11.4996 10.0007 11.5C8.50073 11.5 5.00073 10.5 5.00073 10C5.00073 9.5 8.50073 8.5 10.0007 8.5ZM12.0837 0.00488281C12.4508 0.00510456 12.7488 0.302789 12.7488 0.669922C12.7488 1.03705 12.4508 1.33474 12.0837 1.33496H7.91675C7.54948 1.33496 7.25171 1.03719 7.25171 0.669922C7.25171 0.302653 7.54948 0.00488281 7.91675 0.00488281H12.0837Z"}),p.createElement("path",{opacity:.2,d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),age=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 7.24208 3.49633 4.81441 5.63281 3.39844C5.93895 3.19555 6.3518 3.27882 6.55469 3.58496C6.75745 3.89109 6.67328 4.30398 6.36719 4.50684C4.58671 5.68693 3.41504 7.70677 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C9.63273 3.41504 9.33496 3.11727 9.33496 2.75C9.33496 2.38273 9.63273 2.08496 10 2.08496ZM7.5 5.66992C7.93301 5.41993 10.5488 7.95095 11.2988 9.25C11.713 9.96741 11.4674 10.8846 10.75 11.2988C10.0326 11.713 9.11542 11.4673 8.70117 10.75C7.95118 9.45097 7.06701 5.91997 7.5 5.66992ZM12.084 0.00488281C12.451 0.00519055 12.749 0.302842 12.749 0.669922C12.749 1.037 12.451 1.33465 12.084 1.33496H7.91699C7.54972 1.33496 7.25195 1.03719 7.25195 0.669922C7.25195 0.302653 7.54972 0.00488281 7.91699 0.00488281H12.084Z"}),p.createElement("path",{opacity:.2,d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),lge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M12.0837 0.00494385C12.4509 0.00511975 12.7488 0.302822 12.7488 0.669983C12.7488 1.03714 12.4509 1.33485 12.0837 1.33502H7.91675C7.54948 1.33502 7.25171 1.03725 7.25171 0.669983C7.25171 0.302714 7.54948 0.00494385 7.91675 0.00494385H12.0837Z"}),p.createElement("path",{d:"M10 2.08494C11.3849 2.08494 12.7458 2.44817 13.9463 3.13865C14.2646 3.32174 14.3744 3.72852 14.1914 4.04686C14.0083 4.36522 13.6016 4.47509 13.2832 4.29198C12.2844 3.71745 11.1523 3.41502 10 3.41502C9.63273 3.41502 9.33496 3.11725 9.33496 2.74998C9.33496 2.38271 9.63273 2.08494 10 2.08494Z"}),p.createElement("path",{d:"M11.2992 10.75C10.8849 11.4675 9.96756 11.7133 9.25012 11.2991C8.53268 10.8849 8.28687 9.96747 8.70108 9.25003C9.45108 7.95099 12.0671 5.4199 12.5001 5.6699C12.9331 5.9199 12.0492 9.45099 11.2992 10.75Z"}),p.createElement("path",{opacity:.2,d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),cge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10 2.08496C14.3713 2.085 17.915 5.62869 17.915 10C17.915 11.2108 17.6427 12.3599 17.1553 13.3877C16.9979 13.7194 16.6013 13.8612 16.2695 13.7041C15.9378 13.5467 15.7959 13.1501 15.9531 12.8184C16.358 11.9648 16.585 11.0097 16.585 10C16.585 6.36323 13.6368 3.41508 10 3.41504C9.63276 3.415 9.33496 3.11725 9.33496 2.75C9.33496 2.38275 9.63276 2.085 10 2.08496Z"}),p.createElement("path",{d:"M8.70117 9.25C9.1154 8.5326 10.0326 8.28697 10.75 8.70117C12.049 9.45122 14.5799 12.0669 14.3301 12.5C14.0796 12.9328 10.549 12.0488 9.25 11.2988C8.53268 10.8846 8.28699 9.96739 8.70117 9.25Z"}),p.createElement("path",{d:"M12.084 0.00488281C12.451 0.00519055 12.749 0.302842 12.749 0.669922C12.749 1.037 12.451 1.33465 12.084 1.33496H7.91699C7.54972 1.33496 7.25195 1.03719 7.25195 0.669922C7.25195 0.302653 7.54972 0.00488281 7.91699 0.00488281H12.084Z"}),p.createElement("path",{opacity:.2,d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),uge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e},p.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"}),p.createElement("path",{d:"M8.70117 9.25C9.1154 8.5326 10.0326 8.28697 10.75 8.70117C12.049 9.45122 14.5799 12.0669 14.3301 12.5C14.0796 12.9328 10.549 12.0488 9.25 11.2988C8.53268 10.8846 8.28699 9.96739 8.70117 9.25Z"}),p.createElement("path",{d:"M12.084 0.00488281C12.451 0.00519055 12.749 0.302842 12.749 0.669922C12.749 1.037 12.451 1.33465 12.084 1.33496H7.91699C7.54972 1.33496 7.25195 1.03719 7.25195 0.669922C7.25195 0.302653 7.54972 0.00488281 7.91699 0.00488281H12.084Z"})),Ef="gpt-5-thinking",JLe=e=>{const t=pn(e);return t?.isPro()||t?.isEnterprise()?["min","standard","extended","max"]:["standard","extended"]},QLe=(e,t)=>{K.logEventWithStatsig("ChatGPT Composer Thinking Effort Changed","chatgpt_composer_thinking_effort_changed",{effort:t,model:e})};function XLe(e,t){switch(t){case"min":return{filledIcon:sge,progressIcon:lge,fullLabel:e.formatMessage({id:"3NhKcv",defaultMessage:"Light thinking"}),shortLabel:e.formatMessage({id:"XasgZh",defaultMessage:"Light"}),description:e.formatMessage({id:"aYfztp",defaultMessage:"Quick, thoughtful answers"})};case"standard":return{filledIcon:uge,progressIcon:cge,fullLabel:e.formatMessage({id:"J70HTr",defaultMessage:"Standard thinking"}),shortLabel:e.formatMessage({id:"RuGj0C",defaultMessage:"Standard"}),description:e.formatMessage({id:"4OLm2M",defaultMessage:"Balanced thinking and speed"})};case"extended":return{filledIcon:rge,progressIcon:oge,fullLabel:e.formatMessage({id:"jvMLHy",defaultMessage:"Extended thinking"}),shortLabel:e.formatMessage({id:"PL896C",defaultMessage:"Extended"}),description:e.formatMessage({id:"cICJLG",defaultMessage:"Thinks longer for complex questions"})};case"max":return{filledIcon:ige,progressIcon:age,fullLabel:e.formatMessage({id:"J18Vd6",defaultMessage:"Max thinking"}),shortLabel:e.formatMessage({id:"WoUM/s",defaultMessage:"Max"}),description:e.formatMessage({id:"0HRB/W",defaultMessage:"Thorough analysis for the hardest questions"})}}}const dge=u0(e=>BQ(yc,t=>ln(e.id,t)));function E9(e,t){const n=u0(r=>fi(()=>{const i=dge(r);return e(i())},t));return r=>n(r)()}const eFe=E9(Ee.getIsNewConversation),tFe=E9(Ee.getConversationTurns),fge=E9(e=>Ee.findNode(e,t=>{const{message:n}=t;return!!(n.author.role===Ve.Assistant&&n.metadata?.model_slug===Ef&&n.metadata?.thinking_effort)})?.message.metadata?.thinking_effort);function C0(){const e=$e.getCookie(je.LastUsedModelConfig);if(e)try{const n=JSON.parse(e);if(n&&typeof n=="object"&&(n.model===void 0||typeof n.model=="string")&&(n.effort===void 0||typeof n.effort=="string"))return n}catch{}const t=$e.getCookie(je.LastUsedModel);return t?{model:t}:{}}function Gz(e){try{$e.setCookie(je.LastUsedModelConfig,JSON.stringify(e),{path:"/",maxAge:60*60*24*30})}catch{}}function hge(e,t){return Qe(e,"1333611684")&&t}function pge(){return C0().effort}function nFe(){return C0().model}function mge(e,t,n={skipUpdateIfModelStickyOnServer:!0}){if(hge(e,n.skipUpdateIfModelStickyOnServer))return;C0().model!==t&&Gz({model:t})}function rFe(){$e.deleteCookie(je.LastUsedModelConfig)}const gge=nn(e=>fi(()=>{const n=X4(e)().data?.settings[mc.LastUsedModelConfig];if(n)return n.juices?.[Il.WEB]?.[Ef]??n.juices?.[Il.DEFAULT]?.[Ef]??"standard";const r=C0();return r.model===Ef?r.effort??"standard":void 0}));function vge(e){zL(()=>{const n=X4(e)().data?.settings[mc.LastUsedModelConfig],r=n?.slugs[Il.WEB]??n?.slugs[Il.DEFAULT],i=r?n?.juices[Il.WEB]?.[r]??n?.juices[Il.DEFAULT]?.[r]:void 0;return{model:r,effort:i}},({model:t,effort:n})=>{t&&Gz({model:t,effort:n})})}function _ge(e,t){let n=!1;return fi(()=>n=!t()&&(n||e()))}var sb,qA;function yge(){if(qA)return sb;qA=1;var e=Cs(),t=function(){return e.Date.now()};return sb=t,sb}var ob,zA;function Hz(){if(zA)return ob;zA=1;var e=Ys(),t=yge(),n=iB(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,c){var u,d,f,h,m,v,_=0,y=!1,b=!1,C=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,f=b?i(n(c.maxWait)||0,l):f,C="trailing"in c?!!c.trailing:C);function S(D){var N=u,R=d;return u=d=void 0,_=D,h=a.apply(R,N),h}function x(D){return _=D,m=setTimeout(T,l),y?S(D):h}function w(D){var N=D-v,R=D-_,F=l-N;return b?s(F,f-R):F}function E(D){var N=D-v,R=D-_;return v===void 0||N>=l||N<0||b&&R>=f}function T(){var D=t();if(E(D))return O(D);m=setTimeout(T,w(D))}function O(D){return m=void 0,C&&u?S(D):(u=d=void 0,h)}function k(){m!==void 0&&clearTimeout(m),_=0,u=v=d=m=void 0}function A(){return m===void 0?h:O(t())}function I(){var D=t(),N=E(D);if(u=arguments,d=this,v=D,N){if(m===void 0)return x(v);if(b)return clearTimeout(m),m=setTimeout(T,l),S(v)}return m===void 0&&(m=setTimeout(T,l)),h}return I.cancel=k,I.flush=A,I}return ob=o,ob}var bge=Hz();const Vz=mn(bge);var ab,GA;function Cge(){if(GA)return ab;GA=1;var e=Hz(),t=Ys(),n="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),e(i,s,{leading:a,maxWait:s,trailing:l})}return ab=r,ab}var Sge=Cge();const wge=mn(Sge),Go=KS("Composer"),Ege=Go(()=>({current:null}));function nh(e){if(!(e instanceof Aq))throw new Error("ProseMirrorComposerController required");return e.view}const $z=Go(e=>Do(t=>r9(nh(e),wge(t,50)),()=>nh(e).state)),iFe=Go(e=>fi(()=>$z(e)().doc.content.size,{getServerFallback:()=>0})),xge=Go(e=>fi(()=>{const t=$z(e);return xz(t().doc)},{getServerFallback:()=>!0})),kge=Go(()=>kt(!1)),sFe=Go(e=>_ge(kge(e),xge(e))),Tge=Go(e=>Do(t=>ic(nh(e).dom,{focus:t,blur:t}),()=>nh(e).hasFocus(),{getServerFallback:()=>!1})),oFe=Go(e=>{const t=Do(r=>{const i=Vz(r,150);return ic(document,{focusin:i,focusout:i})},()=>{const r=Ege(e);return r.current!=null&&(r.current.contains(document.activeElement)||r.current.querySelector('[data-state="open"]')!=null)},{getServerFallback:()=>!1}),n=Tge(e);return fi(()=>t()||n())}),aFe=Go(e=>{const t=kt(void 0),n=fi(()=>{if(!_n(e.ctx))return;const r=e.conversation;if(!r)return;const i=fge(r);return i||gge(e.ctx)()},{getServerFallback:pge});return{composerThinkingEffort$:fi(()=>t()??n()),setThinkingEffort:r=>{t.set(r)}}});function Oge(e,t,n){try{const r=JSON.parse(window.localStorage.getItem(e)??"");return n(r)?r:t}catch{return t}}function Age(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const HA=fn(e=>({data:{},setItem:(t,n)=>e(r=>({data:{...r.data,[t]:n}}))}));function Ige(e,t,n){const[r,i]=p.useState(!1),s=HA(l=>l.data[e]),o=HA(l=>l.setItem);return p.useEffect(()=>{if(!r){const l=Oge(e,t,n);o(e,l),i(!0)}},[r,e,t,n,o]),p.useEffect(()=>{r&&Age(e,s)},[e,s,r]),[s??t,l=>{o(e,l)}]}function en(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function qe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Rm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rm=function(n){return typeof n}:Rm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Rm(e)}function Je(e){qe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Rm(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function S0(e,t){qe(2,arguments);var n=Je(e),r=en(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Wz(e,t){qe(2,arguments);var n=Je(e),r=en(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function Mge(e,t){qe(2,arguments);var n=Je(e).getTime(),r=en(t);return new Date(n+r)}var Rge={};function wd(){return Rge}function R1(e,t){var n,r,i,s,o,a,l,c;qe(1,arguments);var u=wd(),d=en((n=(r=(i=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Je(e),h=f.getDay(),m=(h<d?7:0)+h-d;return f.setDate(f.getDate()-m),f.setHours(0,0,0,0),f}function iS(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function P1(e){qe(1,arguments);var t=Je(e);return t.setHours(0,0,0,0),t}var Pge=864e5;function Kz(e,t){qe(2,arguments);var n=P1(e),r=P1(t),i=n.getTime()-iS(n),s=r.getTime()-iS(r);return Math.round((i-s)/Pge)}function Yz(e,t){qe(2,arguments);var n=en(t),r=n*7;return S0(e,r)}function Nge(e,t){qe(2,arguments);var n=en(t);return Wz(e,n*12)}function lb(e,t){qe(2,arguments);var n=Je(e),r=Je(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var x9=6e4,Zz=36e5;function Jz(e,t){qe(2,arguments);var n=P1(e),r=P1(t);return n.getTime()===r.getTime()}function Pm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pm=function(n){return typeof n}:Pm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pm(e)}function Dge(e){return qe(1,arguments),e instanceof Date||Pm(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Lge(e){if(qe(1,arguments),!Dge(e)&&typeof e!="number")return!1;var t=Je(e);return!isNaN(Number(t))}function Fge(e,t){qe(2,arguments);var n=Je(e),r=Je(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function VA(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function lFe(e,t){qe(2,arguments);var n=Je(e),r=Je(t),i=VA(n,r),s=Math.abs(Kz(n,r));n.setDate(n.getDate()-i*s);var o=+(VA(n,r)===-i),a=i*(s-o);return a===0?0:a}function jge(e,t){return qe(2,arguments),Je(e).getTime()-Je(t).getTime()}var $A={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Bge="trunc";function Uge(e){return e?$A[e]:$A[Bge]}function cFe(e,t,n){qe(2,arguments);var r=jge(e,t)/x9;return Uge(void 0)(r)}function Qz(e){qe(1,arguments);var t=Je(e);return t.setHours(23,59,59,999),t}function qge(e){qe(1,arguments);var t=Je(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function zge(e){qe(1,arguments);var t=Je(e);return Qz(t).getTime()===qge(t).getTime()}function uFe(e,t){qe(2,arguments);var n=Je(e),r=Je(t),i=lb(n,r),s=Math.abs(Fge(n,r)),o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);var a=lb(n,r)===-i;zge(Je(e))&&s===1&&lb(e,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function dFe(e,t){var n;qe(1,arguments);var r=e||{},i=Je(r.start),s=Je(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Je(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return a}function fFe(e,t){qe(1,arguments);var n=e||{},r=Je(n.start),i=Je(n.end),s=i.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var o=R1(r,t),a=R1(i,t);o.setHours(15),a.setHours(15),s=a.getTime();for(var l=[],c=o;c.getTime()<=s;)c.setHours(0),l.push(Je(c)),c=Yz(c,1),c.setHours(15);return l}function hFe(e){qe(1,arguments);var t=Je(e);return t.setDate(1),t.setHours(0,0,0,0),t}function pFe(e,t){var n,r,i,s,o,a;qe(1,arguments);var l=wd(),c=en((n=(r=(i=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&r!==void 0?r:(o=l.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Je(e),d=u.getDay(),f=(d<c?-7:0)+6-(d-c);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}function mFe(){return Qz(Date.now())}function Gge(e,t){qe(2,arguments);var n=en(t);return Mge(e,-n)}var Hge=864e5;function Vge(e){qe(1,arguments);var t=Je(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/Hge)+1}function N1(e){qe(1,arguments);var t=1,n=Je(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Xz(e){qe(1,arguments);var t=Je(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=N1(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=N1(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function $ge(e){qe(1,arguments);var t=Xz(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=N1(n);return r}var Wge=6048e5;function Kge(e){qe(1,arguments);var t=Je(e),n=N1(t).getTime()-$ge(t).getTime();return Math.round(n/Wge)+1}function D1(e,t){var n,r,i,s,o,a,l,c;qe(1,arguments);var u=wd(),d=en((n=(r=(i=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Je(e),h=f.getUTCDay(),m=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function eG(e,t){var n,r,i,s,o,a,l,c;qe(1,arguments);var u=Je(e),d=u.getUTCFullYear(),f=wd(),h=en((n=(r=(i=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,h),m.setUTCHours(0,0,0,0);var v=D1(m,t),_=new Date(0);_.setUTCFullYear(d,0,h),_.setUTCHours(0,0,0,0);var y=D1(_,t);return u.getTime()>=v.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function Yge(e,t){var n,r,i,s,o,a,l,c;qe(1,arguments);var u=wd(),d=en((n=(r=(i=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=eG(e,t),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var m=D1(h,t);return m}var Zge=6048e5;function Jge(e,t){qe(1,arguments);var n=Je(e),r=D1(n,t).getTime()-Yge(n,t).getTime();return Math.round(r/Zge)+1}function Ht(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var sa={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Ht(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Ht(r+1,2)},d:function(t,n){return Ht(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Ht(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ht(t.getUTCHours(),n.length)},m:function(t,n){return Ht(t.getUTCMinutes(),n.length)},s:function(t,n){return Ht(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ht(s,n.length)}},Qc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qge={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return sa.y(t,n)},Y:function(t,n,r,i){var s=eG(t,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ht(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ht(o,n.length)},R:function(t,n){var r=Xz(t);return Ht(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Ht(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ht(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ht(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return sa.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ht(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var s=Jge(t,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ht(s,n.length)},I:function(t,n,r){var i=Kge(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ht(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):sa.d(t,n)},D:function(t,n,r){var i=Vge(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ht(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ht(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ht(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ht(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),s;switch(i===12?s=Qc.noon:i===0?s=Qc.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),s;switch(i>=17?s=Qc.evening:i>=12?s=Qc.afternoon:i>=4?s=Qc.morning:s=Qc.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return sa.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):sa.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ht(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ht(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):sa.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):sa.s(t,n)},S:function(t,n){return sa.S(t,n)},X:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return KA(o);case"XXXX":case"XX":return xl(o);case"XXXXX":case"XXX":default:return xl(o,":")}},x:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"x":return KA(o);case"xxxx":case"xx":return xl(o);case"xxxxx":case"xxx":default:return xl(o,":")}},O:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+WA(o,":");case"OOOO":default:return"GMT"+xl(o,":")}},z:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+WA(o,":");case"zzzz":default:return"GMT"+xl(o,":")}},t:function(t,n,r,i){var s=i._originalDate||t,o=Math.floor(s.getTime()/1e3);return Ht(o,n.length)},T:function(t,n,r,i){var s=i._originalDate||t,o=s.getTime();return Ht(o,n.length)}};function WA(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=t;return n+String(i)+o+Ht(s,2)}function KA(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ht(Math.abs(e)/60,2)}return xl(e,t)}function xl(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),s=Ht(Math.floor(i/60),2),o=Ht(i%60,2);return r+s+n+o}var YA=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},tG=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Xge=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return YA(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",YA(i,n)).replace("{{time}}",tG(s,n))},e0e={p:tG,P:Xge},t0e=["D","DD"],n0e=["YY","YYYY"];function r0e(e){return t0e.indexOf(e)!==-1}function i0e(e){return n0e.indexOf(e)!==-1}function ZA(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var s0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o0e=function(t,n,r){var i,s=s0e[t];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function cb(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var a0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},c0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u0e={date:cb({formats:a0e,defaultWidth:"full"}),time:cb({formats:l0e,defaultWidth:"full"}),dateTime:cb({formats:c0e,defaultWidth:"full"})},d0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f0e=function(t,n,r,i){return d0e[t]};function zd(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}var c=e.argumentCallback?e.argumentCallback(t):t;return i[c]}}var h0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y0e=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},b0e={ordinalNumber:y0e,era:zd({values:h0e,defaultWidth:"wide"}),quarter:zd({values:p0e,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:zd({values:m0e,defaultWidth:"wide"}),day:zd({values:g0e,defaultWidth:"wide"}),dayPeriod:zd({values:v0e,defaultWidth:"wide",formattingValues:_0e,defaultFormattingWidth:"wide"})};function Gd(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?S0e(a,function(d){return d.test(o)}):C0e(a,function(d){return d.test(o)}),c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}function C0e(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function S0e(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function w0e(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(i.length);return{value:o,rest:a}}}var E0e=/^(\d+)(th|st|nd|rd)?/i,x0e=/\d+/i,k0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},T0e={any:[/^b/i,/^(a|c)/i]},O0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},A0e={any:[/1/i,/2/i,/3/i,/4/i]},I0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},R0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},N0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},D0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L0e={ordinalNumber:w0e({matchPattern:E0e,parsePattern:x0e,valueCallback:function(t){return parseInt(t,10)}}),era:Gd({matchPatterns:k0e,defaultMatchWidth:"wide",parsePatterns:T0e,defaultParseWidth:"any"}),quarter:Gd({matchPatterns:O0e,defaultMatchWidth:"wide",parsePatterns:A0e,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Gd({matchPatterns:I0e,defaultMatchWidth:"wide",parsePatterns:M0e,defaultParseWidth:"any"}),day:Gd({matchPatterns:R0e,defaultMatchWidth:"wide",parsePatterns:P0e,defaultParseWidth:"any"}),dayPeriod:Gd({matchPatterns:N0e,defaultMatchWidth:"any",parsePatterns:D0e,defaultParseWidth:"any"})},F0e={code:"en-US",formatDistance:o0e,formatLong:u0e,formatRelative:f0e,localize:b0e,match:L0e,options:{weekStartsOn:0,firstWeekContainsDate:1}},j0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,B0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,U0e=/^'([^]*?)'?$/,q0e=/''/g,z0e=/[a-zA-Z]/;function gFe(e,t,n){var r,i,s,o,a,l,c,u,d,f,h,m,v,_;qe(2,arguments);var y=String(t),b=wd(),C=(r=(i=void 0)!==null&&i!==void 0?i:b.locale)!==null&&r!==void 0?r:F0e,S=en((s=(o=(a=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&a!==void 0?a:b.firstWeekContainsDate)!==null&&o!==void 0?o:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=en((d=(f=(h=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&h!==void 0?h:b.weekStartsOn)!==null&&f!==void 0?f:(v=b.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&d!==void 0?d:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var w=Je(e);if(!Lge(w))throw new RangeError("Invalid time value");var E=iS(w),T=Gge(w,E),O={firstWeekContainsDate:S,weekStartsOn:x,locale:C,_originalDate:w},k=y.match(B0e).map(function(A){var I=A[0];if(I==="p"||I==="P"){var D=e0e[I];return D(A,C.formatLong)}return A}).join("").match(j0e).map(function(A){if(A==="''")return"'";var I=A[0];if(I==="'")return G0e(A);var D=Qge[I];if(D)return i0e(A)&&ZA(A,t,String(e)),r0e(A)&&ZA(A,t,String(e)),D(T,A,C.localize,O);if(I.match(z0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return A}).join("");return k}function G0e(e){var t=e.match(U0e);return t?t[1].replace(q0e,"'"):e}function H0e(e){qe(1,arguments);var t=en(e);return Je(t*1e3)}function V0e(e){qe(1,arguments);var t=Je(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function $0e(e){qe(1,arguments);var t=Je(e),n=t.getMonth();return n}function W0e(e){qe(1,arguments);var t=Je(e),n=t.getTime();return n}function K0e(e){return qe(1,arguments),Math.floor(W0e(e)/1e3)}function JA(e){return qe(1,arguments),Je(e).getFullYear()}function vFe(e,t,n){var r;qe(1,arguments);var i;return n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,i).format(e)}function _Fe(e,t){qe(2,arguments);var n=Je(e),r=Je(t);return n.getTime()>r.getTime()}function yFe(e,t){qe(2,arguments);var n=Je(e),r=Je(t);return n.getTime()<r.getTime()}function bFe(e,t){qe(2,arguments);var n=Je(e),r=Je(t);return n.getTime()===r.getTime()}function CFe(e,t,n){qe(2,arguments);var r=R1(e,n),i=R1(t,n);return r.getTime()===i.getTime()}function SFe(e,t){qe(2,arguments);var n=Je(e),r=Je(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Y0e(e,t){qe(2,arguments);var n=Je(e),r=Je(t);return n.getFullYear()===r.getFullYear()}function Z0e(e){return qe(1,arguments),Y0e(e,Date.now())}function J0e(e){return qe(1,arguments),Jz(e,Date.now())}function Q0e(e){return qe(1,arguments),Jz(e,S0(Date.now(),1))}function wFe(e,t){qe(2,arguments);var n=en(t);return S0(e,-n)}function EFe(e,t){var n;qe(1,arguments);var r=en((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=nve(e),s;if(i.date){var o=rve(i.date,r);s=ive(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(i.time&&(l=sve(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=ove(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+l+c)}var Wp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},X0e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nve(e){var t={},n=e.split(Wp.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Wp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Wp.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=Wp.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function rve(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function ive(e,t){if(t===null)return new Date(NaN);var n=e.match(X0e);if(!n)return new Date(NaN);var r=!!n[4],i=Hd(n[1]),s=Hd(n[2])-1,o=Hd(n[3]),a=Hd(n[4]),l=Hd(n[5])-1;if(r)return dve(t,a,l)?ave(t,a,l):new Date(NaN);var c=new Date(0);return!cve(t,s,o)||!uve(t,i)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(i,o)),c)}function Hd(e){return e?parseInt(e):1}function sve(e){var t=e.match(eve);if(!t)return NaN;var n=ub(t[1]),r=ub(t[2]),i=ub(t[3]);return fve(n,r,i)?n*Zz+r*x9+i*1e3:NaN}function ub(e){return e&&parseFloat(e.replace(",","."))||0}function ove(e){if(e==="Z")return 0;var t=e.match(tve);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return hve(r,i)?n*(r*Zz+i*x9):NaN}function ave(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var lve=[31,null,31,30,31,30,31,31,30,31,30,31];function nG(e){return e%400===0||e%4===0&&e%100!==0}function cve(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(lve[t]||(nG(e)?29:28))}function uve(e,t){return t>=1&&t<=(nG(e)?366:365)}function dve(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function fve(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function hve(e,t){return t>=0&&t<=59}function pve(e,t){qe(2,arguments);var n=Je(e),r=en(t),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=V0e(o);return n.setMonth(r,Math.min(s,a)),n}function Nm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nm=function(n){return typeof n}:Nm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Nm(e)}function xFe(e,t){if(qe(2,arguments),Nm(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Je(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=pve(n,t.month)),t.date!=null&&n.setDate(en(t.date)),t.hours!=null&&n.setHours(en(t.hours)),t.minutes!=null&&n.setMinutes(en(t.minutes)),t.seconds!=null&&n.setSeconds(en(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(en(t.milliseconds)),n)}function kFe(e,t){qe(2,arguments);var n=en(t);return Wz(e,-n)}function TFe(e,t){qe(2,arguments);var n=en(t);return Yz(e,-n)}function OFe(e,t){qe(2,arguments);var n=en(t);return Nge(e,-n)}const mve=3,gve=3;function vve(){const e=pe();return $t(e,"1092897457",{disableExposureLog:!0}).get("is_tatertot_enabled",!0)?Qe(e,"3240576626"):!1}function _ve(e){return e?new Date>S0(e,mve):!0}function AFe(e){const[t,n]=Ige(qt.TatertotInContextUpsellBannerV2,null,l=>l!=null&&typeof l=="object"&&typeof l.messageId=="string"&&typeof l.lastSeenAt=="number"&&typeof l.interacted=="boolean"&&typeof l.viewCount=="number"),r=Qe(pe(),"3240576626"),i=t?H0e(t.lastSeenAt):null,s=t?t.viewCount??0:0;return{canBeSeen:e!==""&&(!t||s<=gve&&(_ve(i)||t.messageId===e&&t.interacted===!1))&&r,markSeen:l=>{const c={messageId:e,lastSeenAt:K0e(new Date),interacted:l,viewCount:(t?t.viewCount:0)+(l?0:1)};xn.count(Sn.TATERTOT,"tatertot_upsell_banner_shown"),n(c),localStorage.setItem(qt.TatertotInContextUpsellBannerV2,JSON.stringify(c))}}}const yve="o4-mini",Lu=({chunk:e,href:t})=>g.jsx("a",{href:t,target:"_blank",className:"underline",rel:"noreferrer",children:e}),ee=It({modelsTitle:{id:"t+hUfA",defaultMessage:"Models"},modelsDescription:{id:"zFj9MF",defaultMessage:"Manage access to models for members"},gpt5ThinkingDescription:{id:"eqYr0u",defaultMessage:"Thinks longer for better answers. If enabled, GPT-5 Auto will be able to switch to Thinking for responses when needed."},gpt5ThinkingProDescription:{id:"AmHfHH",defaultMessage:"Research-grade intelligence."},gpt5ThinkingMiniDescription:{id:"1H7DaL",defaultMessage:"Thinks quickly. If enabled, GPT-5 Auto will be able to switch to Thinking Mini for responses when needed."},legacyModelsTitle:{id:"5MXz0X",defaultMessage:"Enable legacy models"},legacyModelsDescription:{id:"83N6uo",defaultMessage:"Allow members to use legacy models. This is a global setting for the workspace."},additionalModelsTitle:{id:"2ljqlu",defaultMessage:"Enable additional models"},additionalModelsDescription:{id:"DDljrd",defaultMessage:"Allow members to use additional models."},gpt41Description:{id:"J2sMy+",defaultMessage:"Great for quick coding and analysis."},gptO3Description:{id:"sG0ZYa",defaultMessage:"A powerful engine for complex, multi-step analysis."},gptO4MiniDescription:{id:"kH5Wky",defaultMessage:"Fast, cost-efficient reasoning for code, math and visual tasks."},imageGenTitle:{id:"iPlNq5",defaultMessage:"Image generation"},imageGenDescription:{id:"6NZOo3",defaultMessage:"Allows users create AI-generated images inside ChatGPT."},webSearchTitle:{id:"Qzwh18",defaultMessage:"Web search"},webSearchDescription:{id:"2MpcaO",defaultMessage:"Manage whether ChatGPT and GPTs created in this workspace can browse the internet. When enabled, it may send search queries and general location information to Bing, but this data is not linked to or associated with user accounts. This does not apply to third-party GPTs. <link>Learn more</link>"},webSearchDescriptionOfflineOnly:{id:"exxzV0",defaultMessage:"ChatGPT web search may send queries to third-party search providers based on your inputs to ChatGPT. You should ensure your use of ChatGPT search complies with your obligations under HIPAA."},codexTitle:{id:"Tpse/7",defaultMessage:"Allow members to use Codex"},codexDescription:{id:"jVlxKv",defaultMessage:"Manage whether members can use Codex."},codexCliTitle:{id:"wdPl2u",defaultMessage:"Allow members to use Codex CLI and IDE Extension"},codexCliDescription:{id:"e5oEdc",defaultMessage:"Manage whether members can use Codex CLI and IDE Extension."},codexAgentNetworkTitle:{id:"+0TP+Y",defaultMessage:"Allow Codex agent to access the internet"},codexAgentNetworkDescription:{id:"ObRZ8h",defaultMessage:"Allows environments to be created with agent internet access enabled."},disabledReasonGithub:{id:"HNofTP",defaultMessage:"Disabled because there's no active GitHub connector."},recordTitle:{id:"AXkmJg",defaultMessage:"Record"},recordDescription:{id:"l0y0CK",defaultMessage:"Manage whether users can use ChatGPT to record, transcribe, and summarize longform audio. Recordings will be used solely for transcription purposes and will not be stored by OpenAI. <link>Learn more</link>"},recordReferencePastTranscriptsTitle:{id:"ZsmGaz",defaultMessage:"Allow ChatGPT to reference past notes and transcripts"},recordReferencePastTranscriptsDescription:{id:"OlM3tz",defaultMessage:"Allow members to reference past notes and transcripts in ChatGPT Record."},deepResearchTitle:{id:"xd3kLo",defaultMessage:"Deep research"},deepResearchDescription:{id:"b5K/+B",defaultMessage:"Lets users run in-depth research with web-connected and multi-step reasoning tools."},advanceVoiceTitle:{id:"BBl2PG",defaultMessage:"Advanced voice capabilities"},advanceVoiceDescription:{id:"Tfn5Vm",defaultMessage:"Enables real-time voice interaction with AI, including speech recognition and lifelike responses."},gptSectionTitle:{id:"lDlJlK",defaultMessage:"GPTs"},gptSectionDescription:{id:"MMDdKL",defaultMessage:"Choose which GPT access this role has"},gptCrudTitle:{id:"ySiNVL",defaultMessage:"Create and manage GPTs"},gptCrudDescription:{id:"aCMqKu",defaultMessage:"Allow members to create and manage GPTs"},gptShareWorkspaceTitle:{id:"arwdQz",defaultMessage:"Publish GPTs to workspace"},gptShareWorkspaceDescription:{id:"O0HyJZ",defaultMessage:"Allow members to publish GPTs they own to the workspace GPT Store"},gptShareExternalTitle:{id:"zl4S+n",defaultMessage:"Publish GPTs externally"},gptShareExternalDescription:{id:"wXPceF",defaultMessage:"Controls ability to share with others outside the org (via email or link)"},gptAllowAllThirdPartyTitle:{id:"ZYlBcx",defaultMessage:"Allow all third party GPTs"},gptAllowAllThirdPartyDescription:{id:"NVpEpJ",defaultMessage:"If enabled, user will have access to all 3P GPTs"},gptAllowSpecificThirdPartyTitle:{id:"7oaevm",defaultMessage:"Allow owner-approved GPTs only"},gptAllowSpecificThirdPartyDescription:{id:"ubkAtB",defaultMessage:"If enabled, user will have access to approved 3P GPTs"},projectSectionTitle:{id:"muqJOY",defaultMessage:"Projects"},projectSectionDescription:{id:"oDGRtQ",defaultMessage:"Choose which project access this role has"},projectCrudTitle:{id:"PDOJ0T",defaultMessage:"Create and manage projects"},projectCrudDescription:{id:"MfPKqd",defaultMessage:"Allow members to create and manage projects"},sharingTitle:{id:"8DIoJe",defaultMessage:"Sharing"},memoryTitle:{id:"h6Ufv3",defaultMessage:"Memory"},memoryDescription:{id:"NpeSvG",defaultMessage:"Manage whether members can enable memory. This allows ChatGPT to become more helpful by remembering details and preferences across chats. <link>Learn more</link>"},canvasCodeExecutionTitle:{id:"sB8WQp",defaultMessage:"Canvas code execution"},canvasCodeExecutionDescription:{id:"kkkA1m",defaultMessage:"Allow members to run code snippets within the canvas."},canvasCodeNetworkAccessTitle:{id:"L5mfFJ",defaultMessage:"Canvas code network access"},canvasCodeNetworkAccessDescription:{id:"OF7Jbc",defaultMessage:"Allow members to execute code with network access within the canvas."},videoScreenSharingTitle:{id:"GSzhi0",defaultMessage:"Allow members to share their screen or video while using voice mode"},videoScreenSharingDescription:{id:"WZkcdj",defaultMessage:"Allow members to share their screen or video while using voice mode"},canvasTitle:{id:"OuhDUU",defaultMessage:"Canvas"},searchTitle:{id:"rY8bdY",defaultMessage:"Search"},voiceTitle:{id:"e83f8K",defaultMessage:"Voice"},codex:{id:"aOXMaL",defaultMessage:"Codex"},recordAccessTitle:{id:"fso8vg",defaultMessage:"Allow members to use ChatGPT record."},appsTitle:{id:"DeAoJ2",defaultMessage:"Apps"},shareChatWithWorkspaceTitle:{id:"kKfDOF",defaultMessage:"Members can share chats with workspace."},shareChatTitle:{id:"x8jgoP",defaultMessage:"Allow members to share a chat or canvas with..."},shareChatProjectTitle:{id:"LQ2EVd",defaultMessage:"Allow members to share a chat, canvas, or project with..."},memoryAccessTitle:{id:"EVIMwx",defaultMessage:"Allow members to use memory"},chatRetentionPolicyTitle:{id:"HOkfAn",defaultMessage:"Chat retention policy"},chatRetentionPolicyDescription:{id:"b5pfhv",defaultMessage:"Contact your account manager to change this setting."},githubConnectorDescription:{id:"bN9L7e",defaultMessage:"Codex requires the GitHub connector.{br}You can enable or disable it in <settingsLink>Connector Settings</settingsLink>"},workWithAppsTitle:{id:"GDQEgW",defaultMessage:"Allow work with apps"},workWithAppsDescription:{id:"tZymPd",defaultMessage:"Control whether users in this workspace can enable ChatGPT to work with apps. This allows ChatGPT to read and edit the content of specific apps on their desktop to provide better responses. <link>Learn more</link>"},appleIntelligenceTitle:{id:"b5tisR",defaultMessage:"Allow members to link Apple Intelligence"},appleIntelligenceDescription:{id:"b2Jsop",defaultMessage:"Manage whether members can link with Apple Intelligence."},appleIntelligenceMDMTitle:{id:"0wNa7q",defaultMessage:"Apple Intelligence MDM"},appleIntelligenceMDMDescription:{id:"ZgxOdq",defaultMessage:"Only allow linking this workspace with Apple Intelligence on MDM managed devices."},imageGenSectionTitle:{id:"fKZG6M",defaultMessage:"Images"},mdmSectionTitle:{id:"jh/ICj",defaultMessage:"MDM"},mdmDisableCopyPasteTitle:{id:"iby11U",defaultMessage:"Disable copy and paste"},mdmDisableFileUploadTitle:{id:"4Mdk8I",defaultMessage:"Disable file upload"},mdmDisableFileDownloadTitle:{id:"S75iuY",defaultMessage:"Disable file download"},mdmRequirePinUnlockTitle:{id:"DAUS4M",defaultMessage:"Require PIN unlock"},mdmRequireBiometricUnlockTitle:{id:"8rpAr5",defaultMessage:"Require biometric unlock"},agentModeTitle:{id:"t4P9Ws",defaultMessage:"Agent mode"},agentModeDescription:{id:"rE0L/V",defaultMessage:"Allow members to use agent mode. <link>Learn more</link>"},agentModeDisabledReason:{id:"/E6A5q",defaultMessage:"Agent mode is disabled because Web search is not enabled."},deepResearchDisabledReason:{id:"QvYF92",defaultMessage:"Deep research is disabled because Web search is not enabled."},connectedDataSectionTitle:{id:"QE+kpm",defaultMessage:"Connected data"},createMcpConnectorTitle:{id:"g4npER",defaultMessage:"Create custom MCP connectors"},connectorRoleTitle:{id:"jeAMAA",defaultMessage:"Allow members to use connectors"}});var Sc=(e=>(e.GPT5ThinkingAccess="chatgpt.workspace.model.GPT-5-reasoning.access",e.GPT5ThinkingProAccess="chatgpt.workspace.model.GPT-5-pro.access",e.GPT5ThinkingMiniAccess="chatgpt.workspace.model.GPT-5-reasoning-mini.access",e.GPT41Access="chatgpt.workspace.model.GPT-4.1.access",e.GPT45Access="chatgpt.workspace.model.GPT-4.5.access",e.GPTO3Access="chatgpt.workspace.model.o3.access",e.GPTO3ProAccess="chatgpt.workspace.model.o3-pro.access",e.GPTO4MiniAccess="chatgpt.workspace.model.o4-mini.access",e.GPTO4MiniHighAccess="chatgpt.workspace.model.o4-mini-high.access",e.CrudGPT="chatgpt.workspace.gpt.crud",e.ShareWorkspaceGPT="chatgpt.workspace.gpt.share_workspace",e.ShareExternalGPT="chatgpt.workspace.gpt.share_external",e.AllowAllThirdPartyGPT="chatgpt.workspace.gpt.allow_all_third_party",e.AllowSpecificThirdPartyGPT="chatgpt.workspace.gpt.allow_specific_third_party",e.CrudProject="chatgpt.workspace.project.crud",e.ShareChatWithWorkspace="chatgpt.workspace.feature.share-chat-with-workspace.access",e.AllowCodexAccess="chatgpt.workspace.feature.allow-codex-access.access",e.AllowCodexLocalAccess="chatgpt.workspace.feature.allow-codex-local-access.access",e.CodexAgentNetworkAccess="chatgpt.workspace.feature.codex-agent-network-access.access",e.ImageGenAccess="chatgpt.workspace.feature.image-gen.access",e.SearchAccess="chatgpt.workspace.feature.search.access",e.DeepResearchAccess="chatgpt.workspace.feature.deep-research.access",e.VoiceAccess="chatgpt.workspace.feature.voice.access",e.HiveAccess="chatgpt.workspace.feature.hive.access",e.HiveKnowledgeRetrievalAccess="chatgpt.workspace.feature.hive-knowledge-retrieval.access",e.MemoryAccess="chatgpt.workspace.feature.memory.access",e.CanvasCodeExecutionAccess="chatgpt.workspace.feature.canvas-code-execution.access",e.CanvasCodeNetworkAccess="chatgpt.workspace.feature.canvas-code-network-access.access",e.VideoScreenSharingAccess="chatgpt.workspace.feature.video-screen-sharing.access",e.AppPairingAccess="chatgpt.workspace.feature.app-pairing.access",e.ClientApplicationAppleAccess="chatgpt.workspace.feature.client-application-apple.access",e.AgentModeAccess="chatgpt.workspace.feature.agent-mode.access",e.CreateMcpConnector="chatgpt.workspace.connector.mcp.create",e.UseConnector="chatgpt.workspace_connector.use",e))(Sc||{});const bve=({isRbacEnabled:e,isSharedProjectsEnabled:t,includeBetaSettingsAdvanced:n})=>({title:ee.sharingTitle,entries:[...n&&e?[{rbac:!0,title:ee.shareChatWithWorkspaceTitle,permissionName:"chatgpt.workspace.feature.share-chat-with-workspace.access"}]:[{rbac:!1,title:t?ee.shareChatProjectTitle:ee.shareChatTitle,settingName:"share_chat"}]]}),Cve=()=>({title:ee.memoryTitle,availableForQuorum:!0,entries:[{rbac:!1,title:ee.memoryAccessTitle,description:ee.memoryDescription,descriptionValues:{link:e=>g.jsx(Lu,{chunk:e,href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq"})},settingName:"memory_access"},{rbac:!1,title:ee.chatRetentionPolicyTitle,description:ee.chatRetentionPolicyDescription,settingName:"rentention_policy"}]}),Sve=({isRbacEnabled:e,includeBetaSettingsAdvanced:t})=>({title:ee.canvasTitle,availableForQuorum:!0,entries:e&&t?[{rbac:!0,title:ee.canvasCodeExecutionTitle,description:ee.canvasCodeExecutionDescription,permissionName:"chatgpt.workspace.feature.canvas-code-execution.access"},{rbac:!0,title:ee.canvasCodeNetworkAccessTitle,description:ee.canvasCodeNetworkAccessDescription,permissionName:"chatgpt.workspace.feature.canvas-code-network-access.access"}]:[{rbac:!1,title:ee.canvasCodeExecutionTitle,description:ee.canvasCodeExecutionDescription,settingName:"canvas_code_execution"},{rbac:!1,title:ee.canvasCodeNetworkAccessTitle,description:ee.canvasCodeNetworkAccessDescription,settingName:"canvas_code_network_access"}]}),wve=({isCBP:e,isRbacEnabled:t,showDeepResearchToggle:n,includeBetaSettings:r,includeFeatures:i,includeAgentMode:s,isQuorum:o,isSearchEnabled:a})=>({title:ee.searchTitle,availableForQuorum:!0,entries:[...r&&t?[{rbac:!0,title:ee.webSearchTitle,description:o?ee.webSearchDescriptionOfflineOnly:ee.webSearchDescription,descriptionValues:{link:l=>g.jsx(Lu,{chunk:l,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},permissionName:"chatgpt.workspace.feature.search.access"}]:[{rbac:!1,title:ee.webSearchTitle,description:o?ee.webSearchDescriptionOfflineOnly:ee.webSearchDescription,descriptionValues:{link:l=>g.jsx(Lu,{chunk:l,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},settingName:"web_search"}],...n?i||!e?[{rbac:!0,title:ee.deepResearchTitle,description:ee.deepResearchDescription,permissionName:"chatgpt.workspace.feature.deep-research.access",disabled:!a,disabledReason:a?void 0:ee.deepResearchDisabledReason}]:[]:[],...s?[{rbac:!0,title:ee.agentModeTitle,description:ee.agentModeDescription,descriptionValues:{link:l=>g.jsx(Lu,{chunk:l,href:"https://help.openai.com/en/articles/11752874-chatgpt-agent"})},permissionName:"chatgpt.workspace.feature.agent-mode.access",disabled:!a,disabledReason:a?void 0:ee.agentModeDisabledReason}]:[]]}),Eve={title:ee.imageGenSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:ee.imageGenTitle,description:ee.imageGenDescription,permissionName:"chatgpt.workspace.feature.image-gen.access"}]},xve=({isRbacEnabled:e,includeFeatures:t,includeBetaSettingsAdvanced:n})=>({title:ee.voiceTitle,availableForQuorum:!0,entries:[...t&&e?[{rbac:!0,title:ee.advanceVoiceTitle,description:ee.advanceVoiceDescription,permissionName:"chatgpt.workspace.feature.voice.access"}]:[],...n&&e?[{rbac:!0,title:ee.videoScreenSharingTitle,description:ee.videoScreenSharingDescription,permissionName:"chatgpt.workspace.feature.video-screen-sharing.access"}]:[{rbac:!1,title:ee.videoScreenSharingTitle,description:ee.videoScreenSharingDescription,settingName:"video_screen_sharing"}]]}),kve=({isRbacEnabled:e,showAgentInternetAccessToggle:t,includeBetaSettings:n,githubConnectorEnabled:r,isCodexEnabledInRBACRole:i})=>{const s=!r&&!i;return{title:ee.codex,availableForQuorum:!1,entries:[{rbac:!0,title:"GitHub",description:ee.githubConnectorDescription,descriptionValues:{br:g.jsx("br",{}),settingsLink:o=>g.jsx(uh,{to:"/admin/ca",className:"underline",children:o})},permissionName:"codex_github_connector"},...n&&e?[{rbac:!0,title:ee.codexTitle,description:ee.codexDescription,permissionName:"chatgpt.workspace.feature.allow-codex-access.access",disabled:s,disabledReason:s?ee.disabledReasonGithub:void 0},{rbac:!0,title:ee.codexCliTitle,description:ee.codexCliDescription,permissionName:"chatgpt.workspace.feature.allow-codex-local-access.access"}]:[{rbac:!1,title:ee.codexTitle,description:ee.codexDescription,settingName:"codex_access"},{rbac:!1,title:ee.codexCliTitle,description:ee.codexCliDescription,settingName:"codex_local_access"}],...t?n&&e?[{rbac:!0,title:ee.codexAgentNetworkTitle,description:ee.codexAgentNetworkDescription,permissionName:"chatgpt.workspace.feature.codex-agent-network-access.access"}]:[{rbac:!1,title:ee.codexAgentNetworkTitle,description:ee.codexAgentNetworkDescription,settingName:"codex_agent_network"}]:[]]}},Tve=({isRbacEnabled:e,isInSupportedDrRegion:t,includeBetaSettings:n})=>({title:ee.recordTitle,availableForEnterprise:!0,availableForQuorum:!0,description:ee.recordDescription,descriptionValues:{link:r=>g.jsx(Lu,{chunk:r,href:"https://help.openai.com/en/articles/11487532"})},entries:n&&e?[{rbac:!0,title:ee.recordAccessTitle,permissionName:"chatgpt.workspace.feature.hive.access"},...t?[{rbac:!0,title:ee.recordReferencePastTranscriptsTitle,description:ee.recordReferencePastTranscriptsDescription,permissionName:"chatgpt.workspace.feature.hive-knowledge-retrieval.access"}]:[]]:[{rbac:!1,title:ee.recordAccessTitle,settingName:"record_access"},...t?[{rbac:!1,title:ee.recordReferencePastTranscriptsTitle,description:ee.recordReferencePastTranscriptsDescription,settingName:"record_reference_past_transcripts"}]:[]]}),Ove=({isAppleIntelligenceToggleEnabled:e,isAppleIntelligenceMdmToggleEnabled:t})=>({title:ee.appsTitle,availableForQuorum:!0,entries:[{rbac:!1,title:ee.workWithAppsTitle,description:ee.workWithAppsDescription,descriptionValues:{link:n=>g.jsx(Lu,{chunk:n,href:"https://help.openai.com/en/articles/10119604-work-with-apps-on-macos"})},settingName:"apps_access"},...e?[{rbac:!1,title:ee.appleIntelligenceTitle,description:ee.appleIntelligenceDescription,settingName:"apple_intelligence_access"}]:[],...e&&t?[{rbac:!1,title:ee.appleIntelligenceMDMTitle,description:ee.appleIntelligenceMDMDescription,settingName:"apple_intelligence_mdm_access"}]:[]]}),Ave=({isRbacEnabled:e,includeModels:t,legacyModelsEnabled:n,isEnterprisey:r,includeThinkingMini:i})=>({title:ee.modelsTitle,availableForEnterprise:!0,availableForQuorum:!0,description:ee.modelsDescription,entries:[...i&&e?[{rbac:!0,title:"GPT-5 Thinking Mini",description:ee.gpt5ThinkingMiniDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning-mini.access"}]:[],...t&&e?[{rbac:!0,title:"GPT-5 Thinking",description:ee.gpt5ThinkingDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning.access"},{rbac:!0,title:"GPT-5 Pro",description:ee.gpt5ThinkingProDescription,permissionName:"chatgpt.workspace.model.GPT-5-pro.access"}]:[],...r?[{rbac:!1,title:ee.legacyModelsTitle,description:ee.legacyModelsDescription,settingName:"legacy_models"}]:[{rbac:!1,title:ee.additionalModelsTitle,description:ee.additionalModelsDescription,settingName:"legacy_models"}],...t&&e&&n?[{rbac:!0,title:"GPT-4.1",description:ee.gpt41Description,permissionName:"chatgpt.workspace.model.GPT-4.1.access"},{rbac:!0,title:"o3",description:ee.gptO3Description,permissionName:"chatgpt.workspace.model.o3.access"},{rbac:!0,title:"o4-mini",description:ee.gptO4MiniDescription,permissionName:"chatgpt.workspace.model.o4-mini.access"}]:[]]}),Ive=()=>({title:ee.gptSectionTitle,availableForQuorum:!0,description:ee.gptSectionDescription,entries:[{rbac:!0,title:ee.gptCrudTitle,description:ee.gptCrudDescription,permissionName:"chatgpt.workspace.gpt.crud"},{rbac:!0,title:ee.gptShareWorkspaceTitle,description:ee.gptShareWorkspaceDescription,permissionName:"chatgpt.workspace.gpt.share_workspace"},{rbac:!0,disabledForQuorum:!0,title:ee.gptShareExternalTitle,description:ee.gptShareExternalDescription,permissionName:"chatgpt.workspace.gpt.share_external"},{rbac:!0,disabledForQuorum:!0,title:ee.gptAllowAllThirdPartyTitle,description:ee.gptAllowAllThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_all_third_party"},{rbac:!0,disabledForQuorum:!0,title:ee.gptAllowSpecificThirdPartyTitle,description:ee.gptAllowSpecificThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_specific_third_party"}]}),Mve=()=>({title:ee.projectSectionTitle,availableForQuorum:!0,description:ee.projectSectionDescription,entries:[{rbac:!0,title:ee.projectCrudTitle,description:ee.projectCrudDescription,permissionName:"chatgpt.workspace.project.crud"}]}),Rve={title:ee.mdmSectionTitle,entries:[{rbac:!0,title:ee.mdmDisableCopyPasteTitle,permissionName:"chatgpt.workspace.mdm.disable_copy_paste"},{rbac:!0,title:ee.mdmDisableFileUploadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.upload"},{rbac:!0,title:ee.mdmDisableFileDownloadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.download"}]},Pve=()=>({title:ee.connectedDataSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:ee.connectorRoleTitle,permissionName:"chatgpt.workspace_connector.use",nestedKey:"chatgpt.workspace_connector.use"},{rbac:!0,title:ee.createMcpConnectorTitle,permissionName:"chatgpt.workspace.connector.mcp.create"}]});function IFe({isCBP:e,isRbacEnabled:t,githubConnectorEnabled:n,isInSupportedDrRegion:r,includeFeatures:i,includeModels:s,isSharedProjectsEnabled:o,isCanvasEnabled:a,isSearchEnabled:l,isEnterprisey:c,showHiveToggle:u,showDeepResearchToggle:d,includeBetaSettings:f,includeBetaSettingsAdvanced:h,includeGizmoPermissions:m,showAgentInternetAccessToggle:v,isAppleIntelligenceToggleEnabled:_,isAppleIntelligenceMdmToggleEnabled:y,isMDMEnabled:b,includeAgentMode:C,isQuorum:S,legacyModelsEnabled:x,includeConnectorPermissions:w,includeThinkingMini:E,isCodexEnabledInRBACRole:T}){return[bve({isRbacEnabled:t,isSharedProjectsEnabled:o,includeBetaSettingsAdvanced:h}),Cve(),...a?[Sve({isRbacEnabled:t,includeBetaSettingsAdvanced:h})]:[],wve({isCBP:e,isRbacEnabled:t,showDeepResearchToggle:d,includeBetaSettings:f,includeFeatures:i,includeAgentMode:C,isQuorum:S,isSearchEnabled:l}),...i&&t?[Eve]:[],xve({isRbacEnabled:t,includeFeatures:i,includeBetaSettingsAdvanced:h}),...c?[kve({isRbacEnabled:t,showAgentInternetAccessToggle:v,includeBetaSettings:f,githubConnectorEnabled:n,isCodexEnabledInRBACRole:T})]:[],...u?[Tve({isRbacEnabled:t,isInSupportedDrRegion:r,includeBetaSettings:f})]:[],Ove({isAppleIntelligenceToggleEnabled:_,isAppleIntelligenceMdmToggleEnabled:y}),Ave({isRbacEnabled:t,includeModels:s,legacyModelsEnabled:x,isEnterprisey:c,includeThinkingMini:E}),...t&&m?[Ive()]:[],...t&&m?[Mve()]:[],...t&&b?[Rve]:[],...t&&w?[Pve()]:[]]}const MFe=()=>{const e=pe();return Qe(e,"1355972088")},ws=()=>{const e=pe();return On(e,"2826703856")},RFe=()=>ws().get("self_serve_page_enabled",!1),PFe=()=>ws().get("models_display_in_rbac_page",!1),NFe=()=>ws().get("features_display_in_rbac_page",!1),DFe=()=>ws().get("beta_settings_display_in_rbac_page",!1),LFe=()=>ws().get("beta_settings_display_in_rbac_page_advanced",!1),FFe=()=>ws().get("gpt_settings_display_in_rbac_page",!1),Nve=()=>ws().get("enable_gpt_fe_controls",!1),Dve=()=>ws().get("enable_project_fe_controls",!1),jFe=()=>ws().get("enable_combined_rbac_page",!1),BFe=()=>{const e=pe();return Qe(e,"1277555238")},UFe=()=>ws().get("enable_agent_mode",!1),qFe=()=>ws().get("enable_thinking_mini",!1),zFe=()=>{const e=pe();return Qe(e,"2401070674")},k9=e=>{const t=br(),n=t?.getWorkspaceId(),r=Dve(),{data:i,isLoading:s}=Ng(n);if(!t?.isWorkspaceAccount())return{hasWorkspacePermission:!0,isLoading:!1};const o=i?.permissions?.includes(e)??!1;return{hasWorkspacePermission:r?o:!0,isLoading:s}},GFe=()=>{const{hasWorkspacePermission:e,isLoading:t}=k9(Sc.CrudProject);return{canCreate:e,isLoading:t}},HFe=e=>{const{hasWorkspacePermission:t,isLoading:n}=k9(Sc.CrudProject);return{canEdit:(t&&e?.gizmo.current_user_permission?.can_write)??!1,isLoading:n}},VFe=e=>{const{hasWorkspacePermission:t,isLoading:n}=k9(Sc.CrudProject);return{canDelete:(t&&e?.gizmo.current_user_permission?.can_delete)??!1,isLoading:n}};function Ho(e){return e.slice(0,4)==="g-p-"}function Lve(e){return e!=null&&!Ho(e)}function $Fe(e,t){return!Lve(e)&&!t}function rG(e){return Ho(e.gizmo.id)}function WFe(e,t){return!(Wt.getItem(qt.TasksHasSeenProjectDisclaimerBanner)!=null)&&e===yve&&rG(t)&&t.files.length>0}const iG=nn(()=>kt({}));var db,QA;function Fve(){if(QA)return db;QA=1;function e(t){return t!==t}return db=e,db}var fb,XA;function jve(){if(XA)return fb;XA=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return fb=e,fb}var hb,eI;function Bve(){if(eI)return hb;eI=1;var e=rB(),t=Fve(),n=jve();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return hb=r,hb}var pb,tI;function Uve(){if(tI)return pb;tI=1;var e=Bve();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return pb=t,pb}var mb,nI;function qve(){if(nI)return mb;nI=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return mb=e,mb}var gb,rI;function zve(){if(rI)return gb;rI=1;var e=Rj(),t=oF(),n=iw(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return gb=i,gb}var vb,iI;function Gve(){if(iI)return vb;iI=1;var e=Sj(),t=Uve(),n=qve(),r=wj(),i=zve(),s=iw(),o=200;function a(l,c,u){var d=-1,f=t,h=l.length,m=!0,v=[],_=v;if(u)m=!1,f=n;else if(h>=o){var y=c?null:i(l);if(y)return s(y);m=!1,f=r,_=new e}else _=c?[]:v;e:for(;++d<h;){var b=l[d],C=c?c(b):b;if(b=u||b!==0?b:0,m&&C===C){for(var S=_.length;S--;)if(_[S]===C)continue e;c&&_.push(C),v.push(b)}else f(_,C,u)||(_!==v&&_.push(C),v.push(b))}return v}return vb=a,vb}var _b,sI;function Hve(){if(sI)return _b;sI=1;var e=Gve();function t(n){return n&&n.length?e(n):[]}return _b=t,_b}var Vve=Hve();const $ve=mn(Vve),Wve="hints",Kve="system_hints";function sS(e){const t=[Wve,Kve].flatMap(n=>e.getAll(n)).flatMap(n=>n.split(",")).flatMap(n=>{const r=pne(n);return r?[r]:[]});return $ve(t)}var oS=(e=>(e.Hover="hover",e.Enable="enable",e.Disable="disable",e))(oS||{});const Yve=new Map([[Ae.Search,{hover:["Composer Search Button Hovered","composer_search_button_hovered"],enable:["Composer Search Button Clicked","composer_search_button_clicked"],disable:["Composer Search Button Clicked","composer_search_button_clicked"]}],[Ae.Think,{hover:["Composer Think Button Hovered","composer_think_button_hovered"],enable:["Composer Think Button Enabled","composer_think_button_enabled"],disable:["Composer Think Button Disabled","composer_think_button_disabled"]}],[Ae.Research,{hover:["Composer Research Button Hovered","composer_research_button_hovered"],enable:["Composer Research Button Enabled","composer_research_button_enabled"],disable:["Composer Research Button Disabled","composer_research_button_disabled"]}],[Ae.Agent,{hover:["Composer Agent System Hint Button Hovered","composer_agent_system_hint_button_hovered"],enable:["Composer Agent System Hint Button Enabled","composer_agent_system_hint_button_enabled"],disable:["Composer Agent System Hint Button Disabled","composer_agent_system_hint_button_disabled"]}],[Ae.PictureV2,{hover:["Composer Create Image Button Hovered","composer_create_image_button_hovered"],enable:["Composer Create Image Button Enabled","composer_create_image_button_enabled"],disable:["Composer Create Image Button Disabled","composer_create_image_button_disabled"]}],[Ae.Slurm,{hover:["Composer Slurm Button Hovered","composer_slurm_button_hovered"],enable:["Composer Slurm Button Enabled","composer_slurm_button_enabled"],disable:["Composer Slurm Button Disabled","composer_slurm_button_disabled"]}]]);function oI(e,t,n){const[r,i]=Yve.get(e)?.[t]??[];r&&i&&K.logEventWithStatsig(r,i,n)}const Zve=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.3227 1.62663C11.1514 1.62663 11.9182 2.066 12.3373 2.78092L13.1586 4.18131L13.2123 4.25065C13.2735 4.31105 13.3565 4.34658 13.4448 4.34733L15.06 4.36002L15.2143 4.36686C15.9825 4.4239 16.6774 4.85747 17.0649 5.53092L17.393 6.10221L17.4662 6.23795C17.7814 6.88041 17.7842 7.63306 17.4741 8.27799L17.4028 8.41373L16.6 9.83561C16.5426 9.93768 16.5425 10.0627 16.6 10.1647L17.4028 11.5856L17.4741 11.7223C17.7841 12.3673 17.7815 13.1199 17.4662 13.7624L17.393 13.8981L17.0649 14.4694C16.6774 15.1427 15.9824 15.5764 15.2143 15.6335L15.06 15.6393L13.4448 15.653C13.3565 15.6537 13.2736 15.6892 13.2123 15.7497L13.1586 15.818L12.3373 17.2194C11.9182 17.9342 11.1513 18.3737 10.3227 18.3737H9.6762C8.8995 18.3735 8.17705 17.9874 7.74456 17.3503L7.66253 17.2194L6.84124 15.818C6.79652 15.7418 6.72408 15.6876 6.64105 15.6647L6.55511 15.653L4.93987 15.6393C4.16288 15.633 3.44339 15.2413 3.01605 14.6003L2.93499 14.4694L2.60687 13.8981C2.19555 13.1831 2.1916 12.3039 2.5971 11.5856L3.39886 10.1647L3.43206 10.0846C3.44649 10.0293 3.44644 9.97102 3.43206 9.91569L3.39886 9.83561L2.5971 8.41373C2.19175 7.6955 2.19562 6.8171 2.60687 6.10221L2.93499 5.53092L3.01605 5.40006C3.44337 4.75894 4.1628 4.36636 4.93987 4.36002L6.55511 4.34733L6.64105 4.33561C6.72418 4.31275 6.79651 4.25762 6.84124 4.18131L7.66253 2.78092L7.74456 2.65006C8.17704 2.01277 8.89941 1.62678 9.6762 1.62663H10.3227ZM9.6762 2.9567C9.36439 2.95685 9.07299 3.10138 8.88421 3.34342L8.80999 3.45377L7.9887 4.85416C7.72933 5.29669 7.28288 5.59093 6.78265 5.6608L6.56585 5.67741L4.95062 5.6901C4.63868 5.69265 4.34845 5.84001 4.16155 6.08366L4.08733 6.19401L3.75921 6.7653C3.58227 7.073 3.5808 7.45131 3.7553 7.76041L4.55706 9.18131L4.65179 9.37663C4.81309 9.77605 4.81294 10.2232 4.65179 10.6227L4.55706 10.819L3.7553 12.2399C3.58083 12.549 3.5822 12.9273 3.75921 13.235L4.08733 13.8053L4.16155 13.9157C4.34844 14.1596 4.6385 14.3067 4.95062 14.3092L6.56585 14.3229L6.78265 14.3385C7.28292 14.4084 7.72931 14.7036 7.9887 15.1462L8.80999 16.5465L8.88421 16.6559C9.07298 16.8982 9.36422 17.0435 9.6762 17.0436H10.3227C10.6793 17.0436 11.0095 16.8542 11.1899 16.5465L12.0112 15.1462L12.1332 14.9655C12.4432 14.5668 12.9212 14.3271 13.434 14.3229L15.0492 14.3092L15.1811 14.2995C15.4854 14.2567 15.7569 14.076 15.9125 13.8053L16.2407 13.235L16.2983 13.1169C16.3983 12.8745 16.3999 12.6023 16.3022 12.359L16.2446 12.2399L15.4418 10.819C15.1551 10.311 15.1551 9.6893 15.4418 9.18131L16.2446 7.76041L16.3022 7.64127C16.4 7.39806 16.3982 7.12584 16.2983 6.88346L16.2407 6.7653L15.9125 6.19401C15.7568 5.92338 15.4855 5.74264 15.1811 5.69987L15.0492 5.6901L13.434 5.67741C12.9212 5.67322 12.4432 5.43341 12.1332 5.03483L12.0112 4.85416L11.1899 3.45377C11.0095 3.14604 10.6794 2.9567 10.3227 2.9567H9.6762ZM11.5854 9.99967C11.5852 9.12461 10.8755 8.41497 10.0004 8.41471C9.12516 8.41471 8.41466 9.12445 8.41448 9.99967C8.41448 10.875 9.12505 11.5846 10.0004 11.5846C10.8756 11.5844 11.5854 10.8749 11.5854 9.99967ZM12.9145 9.99967C12.9145 11.6094 11.6101 12.9145 10.0004 12.9147C8.39051 12.9147 7.08538 11.6096 7.08538 9.99967C7.08556 8.38991 8.39062 7.08463 10.0004 7.08463C11.61 7.08489 12.9143 8.39007 12.9145 9.99967Z"})),Jve=({icon:e,title:t,description:n,statusIndicator:r,showGitHubConfigure:i})=>{const s=Wue("installations/select_target");return g.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[g.jsxs("div",{className:"me-4 flex items-center gap-3 text-start text-sm",children:[e,n?g.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[t,g.jsx("div",{className:"text-token-text-secondary text-xs",children:n})]}):t]}),i&&g.jsx(un,{onClick:()=>{window.open(s,"_blank")},color:"secondary",size:"small",children:g.jsx(Zve,{className:"icon-sm"})}),r]})};function KFe(e,t){const n=p.useRef(e);p.useEffect(()=>{n.current=e},[e]),p.useEffect(()=>{function r(){n.current()}if(t!=null){const i=window.setInterval(r,t);return()=>clearInterval(i)}},[t])}var Dm={exports:{}},Qve=Dm.exports,aI;function Xve(){return aI||(aI=1,function(e){(function(t,n,r){function i(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function s(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var u=new i(l),d=c&&c.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&s(d,u),f.state=function(){return s(u,{})}),f}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=o:this.alea=o})(Qve,e)}(Dm)),Dm.exports}var Lm={exports:{}},e_e=Lm.exports,lI;function t_e(){return lI||(lI=1,function(e){(function(t,n,r){function i(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.xor128=o})(e_e,e)}(Lm)),Lm.exports}var Fm={exports:{}},n_e=Fm.exports,cI;function r_e(){return cI||(cI=1,function(e){(function(t,n,r){function i(a){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.xorwow=o})(n_e,e)}(Fm)),Fm.exports}var jm={exports:{}},i_e=jm.exports,uI;function s_e(){return uI||(uI=1,function(e){(function(t,n,r){function i(a){var l=this;l.next=function(){var u=l.x,d=l.i,f,h;return f=u[d],f^=f>>>7,h=f^f<<24,f=u[d+1&7],h^=f^f>>>10,f=u[d+3&7],h^=f^f>>>3,f=u[d+4&7],h^=f^f<<7,f=u[d+7&7],f=f^f<<13,h^=f^f<<9,u[d]=h,l.i=d+1&7,h};function c(u,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}c(l,a)}function s(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.x&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.xorshift7=o})(i_e,e)}(jm)),jm.exports}var Bm={exports:{}},o_e=Bm.exports,dI;function a_e(){return dI||(dI=1,function(e){(function(t,n,r){function i(a){var l=this;l.next=function(){var u=l.w,d=l.X,f=l.i,h,m;return l.w=u=u+1640531527|0,m=d[f+34&127],h=d[f=f+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=d[f]=m^h,l.i=f,m+(u^u>>>16)|0};function c(u,d){var f,h,m,v,_,y=[],b=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,b=Math.max(b,d.length)),m=0,v=-32;v<b;++v)d&&(h^=d.charCodeAt((v+32)%d.length)),v===0&&(_=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,v>=0&&(_=_+1640531527|0,f=y[v&127]^=h+_,m=f==0?m+1:0);for(m>=128&&(y[(d&&d.length||0)&127]=-1),m=127,v=4*128;v>0;--v)h=y[m+34&127],f=y[m=m+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,y[m]=h^f;u.w=_,u.X=y,u.i=m}c(l,a)}function s(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.X&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.xor4096=o})(o_e,e)}(Bm)),Bm.exports}var Um={exports:{}},l_e=Um.exports,fI;function c_e(){return fI||(fI=1,function(e){(function(t,n,r){function i(a){var l=this,c="";l.next=function(){var d=l.b,f=l.c,h=l.d,m=l.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^m,m=m-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-h|0,l.d=h<<16^f>>>16^m,l.a=m-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.tychei=o})(l_e,e)}(Um)),Um.exports}var qm={exports:{}};const u_e={},d_e=Object.freeze(Object.defineProperty({__proto__:null,default:u_e},Symbol.toStringTag,{value:"Module"})),f_e=nY(d_e);var h_e=qm.exports,hI;function p_e(){return hI||(hI=1,function(e){(function(t,n,r){var i=256,s=6,o=52,a="random",l=r.pow(i,s),c=r.pow(2,o),u=c*2,d=i-1,f;function h(S,x,w){var E=[];x=x==!0?{entropy:!0}:x||{};var T=y(_(x.entropy?[S,C(n)]:S??b(),3),E),O=new m(E),k=function(){for(var A=O.g(s),I=l,D=0;A<c;)A=(A+D)*i,I*=i,D=O.g(1);for(;A>=u;)A/=2,I/=2,D>>>=1;return(A+D)/I};return k.int32=function(){return O.g(4)|0},k.quick=function(){return O.g(4)/4294967296},k.double=k,y(C(O.S),n),(x.pass||w||function(A,I,D,N){return N&&(N.S&&v(N,O),A.state=function(){return v(O,{})}),D?(r[a]=A,I):A})(k,T,"global"in x?x.global:this==r,x.state)}function m(S){var x,w=S.length,E=this,T=0,O=E.i=E.j=0,k=E.S=[];for(w||(S=[w++]);T<i;)k[T]=T++;for(T=0;T<i;T++)k[T]=k[O=d&O+S[T%w]+(x=k[T])],k[O]=x;(E.g=function(A){for(var I,D=0,N=E.i,R=E.j,F=E.S;A--;)I=F[N=d&N+1],D=D*i+F[d&(F[N]=F[R=d&R+I])+(F[R]=I)];return E.i=N,E.j=R,D})(i)}function v(S,x){return x.i=S.i,x.j=S.j,x.S=S.S.slice(),x}function _(S,x){var w=[],E=typeof S,T;if(x&&E=="object")for(T in S)try{w.push(_(S[T],x-1))}catch{}return w.length?w:E=="string"?S:S+"\0"}function y(S,x){for(var w=S+"",E,T=0;T<w.length;)x[d&T]=d&(E^=x[d&T]*19)+w.charCodeAt(T++);return C(x)}function b(){try{var S;return f&&(S=f.randomBytes)?S=S(i):(S=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(S)),C(S)}catch{var x=t.navigator,w=x&&x.plugins;return[+new Date,t,w,t.screen,C(n)]}}function C(S){return String.fromCharCode.apply(0,S)}if(y(r.random(),n),e.exports){e.exports=h;try{f=f_e}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:h_e,[],Math)}(qm)),qm.exports}var yb,pI;function m_e(){if(pI)return yb;pI=1;var e=Xve(),t=t_e(),n=r_e(),r=s_e(),i=a_e(),s=c_e(),o=p_e();return o.alea=e,o.xor128=t,o.xorwow=n,o.xorshift7=r,o.xor4096=i,o.tychei=s,yb=o,yb}var g_e=m_e();const v_e=mn(g_e);function __e({lines:e=1,variance:t=0,size:n="base",width:r=50,widthVariance:i=50,className:s}){const[o]=p.useState(()=>sG(e,r,i,t));let a="";switch(n){case"sm":a="h-3 mb-2 mt-0.5";break;case"base":a="h-4 my-2";break;case"lg":a="h-5 my-2";break}return g.jsx(g.Fragment,{children:o.map((l,c)=>g.jsx("div",{className:ke("bg-token-sidebar-surface-secondary dark:bg-token-border-default relative w-full overflow-hidden rounded-md",a,s),style:{width:`${l}%`},children:g.jsx(CD.div,{className:"absolute start-0 top-0 h-full w-full rotate-45 bg-linear-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+c}}})},c))})}function YFe({lines:e=1,indexOffset:t=0,variance:n=0,width:r=50,widthVariance:i=50,gapFrequency:s=0,scaleUpAnimation:o,className:a,heightSize:l}){const c=p.useMemo(()=>sG(e,r,i,n),[e,n,r,i]);return g.jsx(y_e,{className:a,children:c.map((u,d)=>g.jsx(C_e,{index:d+t,width:u,className:ke(s>0&&(d+1)%s===0&&"mb-snc-1"),heightSize:l,customAnimation:o?{initial:{scaleX:o.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:o.duration,ease:"easeInOut",delay:d*.07}}}:void 0},d))})}const y_e=el.div`flex flex-col items-start gap-2`,b_e={sm:"h-3.5",md:"h-5",lg:"h-6"};function C_e({index:e,width:t,className:n,customAnimation:r,heightSize:i="md"}){const{initial:s,animate:o,transition:a}=r??{initial:{},animate:{},transition:{}};return g.jsx(CD.div,{className:ke(b_e[i],"bg-token-border-default origin-left rounded-md dark:bg-white/10",n),style:{width:`${t}%`},initial:{opacity:1,...s},animate:{opacity:[1,.4],...o},transition:{opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:e*.07},...a}})}function sG(e,t,n,r){const i=v_e([e,t,n,r].join("-"));return Array.from({length:e+i()*(r??0)},()=>t+i()*n)}const S_e=(e,t)=>({as:r,...i})=>{const s=r||e;return t(g.jsx(s,{...i}))};let mI,xf,Tn=typeof window<"u"&&window.document&&window.document.createElement?p.useLayoutEffect:p.useEffect,Eu=e=>(t,n)=>"calc("+t+" + ("+n+" - "+t+") * "+e+")",Ir=typeof window<"u"?window.navigator.userAgent:null,mo="unknown",hn="unknown";if(typeof window<"u"&&navigator.userAgentData&&(navigator.userAgentData.brands.some(e=>e.brand==="Chromium")&&(mo="chromium"),navigator.userAgentData.platform==="Android"&&(hn="android")),hn==="unknown"&&Ir?.match(/android/i)&&(hn="android"),mo==="unknown"&&(Ir?.match(/Chrome/i)?mo="chromium":Ir?.match(/Firefox/i)?mo="gecko":Ir?.match(/Safari|iPhone/i)&&(mo="webkit")),mo==="webkit"){if(Ir?.match(/iPhone/i))hn="ios";else if(Ir?.match(/iPad/i))hn="ipados";else if(Ir?.match(/Macintosh/i))try{document?.createEvent("TouchEvent"),hn="ipados"}catch{hn="macos"}}var oG={};oG={mapping:{Sheet:{componentName:"a",elementNames:{root:0,view:1,backdrop:2,backdropTrap:3,primaryScrollTrapRoot:4,secondaryScrollTrapRoot:5,scrollContainer:6,frontSpacer:7,backSpacer:8,detentMarker:9,contentWrapper:10,content:11,bleedingBackground:12,stickyContainer:13,sticky:14,leftEdge:15,trigger:16,handle:17,outlet:18},variationSetsNames:{openness:"A",staging:"B",opennessClosedStatus:"C",position:"D",positionCoveredStatus:"E",placement:"F",track:"G",swipeDisabled:"H",swipeOutDisabledWithDetent:"I",swipeOvershootDisabled:"J",bleedDisabled:"K",inertOutside:"L",backdropSwipeable:"M",scrollContainerShouldBePassThrough:"N",swipeTrap:"M"},variationValuesNames:{open:"a",opening:"b",closed:"c",closing:"d",none:"e",top:"f",bottom:"g",left:"h",right:"i",horizontal:"j",vertical:"k",front:"l",covered:"m",true:"o",false:"p",auto:"q",center:"r",pending:"s","flushing-to-preparing-open":"t","flushing-to-preparing-opening":"u","preparing-open":"v","preparing-opening":"x","safe-to-unmount":"y",content:"z",root:"aa","going-down":"ab","going-up":"ac",indeterminate:"ad",idle:"ae","come-back":"af",out:"ag",stepping:"ah",both:"ai",none:"aj"}},ScrollTrap:{componentName:"b",elementNames:{root:0,stabiliser:1},variationSetsNames:{active:"A",axis:"B",automaticallyDisabledForOptimisation:"C"},variationValuesNames:{true:"a",false:"b",horizontal:"e",vertical:"f",both:"g",none:"h"}},Scroll:{componentName:"c",elementNames:{root:0,view:1,scrollContainer:2,content:3,UAScrollbarMeasurer:4,spy:5,startSpacer:6,endSpacer:7},variationSetsNames:{axis:"A",contentPlacement:"B",scrollTrapX:"C",scrollTrapY:"D",scrollGestureOvershoot:"E",scrollDisabled:"F",side:"G",pageScroll:"H",overflowX:"I",overflowY:"J",skipScrollAnimation:"K",scrollAnchoring:"L",scrollSnapType:"M",scrollPadding:"N",scrollTimelineName:"O",nativeScrollbar:"P",scrollOngoing:"Q"},variationValuesNames:{true:"a",false:"b",x:"c",y:"d",both:"e",unset:"f",contain:"g",start:"h",end:"i",center:"j",auto:"k",default:"l",none:"m",mandatoryX:"n",mandatoryY:"o",proximityX:"p",proximityY:"q"}},SlideShow:{componentName:"d",elementNames:{},variationSetsNames:{},variationValuesNames:{}},VisuallyHidden:{componentName:"e",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SpecialWrapper:{componentName:"f",elementNames:{root:0,content:1},variationSetsNames:{},variationValuesNames:{}},Fixed:{componentName:"g",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SheetStack:{componentName:"h",elementNames:{root:0,outlet:1},variationSetsNames:{},variationValuesNames:{}},AutoFocusTarget:{componentName:"i",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}}}};let w0=oG.mapping,w_e=e=>{var t;return(t=w0[e].componentName)!==null&&t!==void 0?t:null},E_e=(e,t)=>{var n;return(n=w0[e].elementNames[t])!==null&&n!==void 0?n:null},x_e=(e,t)=>{var n;return(n=w0[e].variationSetsNames[t])!==null&&n!==void 0?n:null},k_e=(e,t)=>{var n;return(n=w0[e].variationValuesNames[t])!==null&&n!==void 0?n:null},Yn=(e,t)=>p.useCallback((n,r=[],i)=>{var s,o;let a,l,c=(o=i==null||(s=i.dataSilk)===null||s===void 0?void 0:s.filter(Boolean).join(" "))!==null&&o!==void 0?o:"";{let u=w_e(e);if(a=u+E_e(e,n),t)for(let d=0;d<r.length;d++){let f=r[d],h=t[f],m=x_e(e,f),v=k_e(e,h);a+=h!=null?" "+u+m+v:""}l={className:i?.className,"data-silk":a+" "+c}}return l},[e,...t?Object.values(t):[]]),Vd=new WeakMap;var T_e=typeof Float32Array=="function";function Kp(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function gI(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}function O_e(e){return e}var A_e=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return O_e;for(var i=T_e?new Float32Array(11):Array(11),s=0;s<11;++s)i[s]=Kp(.1*s,e,n);return function(o){return o===0||o===1?o:Kp(function(a){for(var l=0,c=1;c!==10&&i[c]<=a;++c)l+=.1;var u=l+(a-i[--c])/(i[c+1]-i[c])*.1,d=gI(u,e,n);return d>=.001?function(f,h,m,v){for(var _=0;_<4;++_){var y=gI(h,m,v);if(y===0)break;var b=Kp(h,m,v)-f;h-=b/y}return h}(a,u,e,n):d===0?u:function(f,h,m,v,_){var y,b,C=0;do(y=Kp(b=h+(m-h)/2,v,_)-f)>0?m=b:h=b;while(Math.abs(y)>1e-7&&++C<10);return b}(a,l,l+.1,e,n)}(o),t,r)}};let L1=e=>typeof e=="string"?document.querySelector(e):e?.(),aG=(e,t)=>Array.isArray(e)?e.includes(t):e===t,aS=e=>e?.getAttribute("data-silk-clone")==="true",I_e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Ll=e=>e instanceof HTMLInputElement&&!I_e.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable,vI=e=>e instanceof HTMLInputElement&&e.type==="color"||e instanceof HTMLSelectElement,T9=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,F1=()=>{var e;return window.innerHeight-200>((e=window.visualViewport)===null||e===void 0?void 0:e.height)};function Hs({nativeEvent:e,defaultBehavior:t,handler:n}){let r=t;if(n)if(typeof n=="function"){let i={...t,nativeEvent:e,changeDefault:function(s){r={...t,...s},Object.assign(this,s)}};i.changeDefault=i.changeDefault.bind(i),n(i)}else r={...t,...n};return r}function lG(e){return(e.startsWith("rgb(")||e.startsWith("rgba("))&&e.endsWith(")")?e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(r=>r.trim()).slice(0,3).map(r=>parseFloat(r)):null}let _I=e=>{let t=null;return e.startsWith("rgb(")||e.startsWith("rgba(")?t=lG(e):e.startsWith("#")&&(t=function(n){let r=n.replace(/^#/,""),i=r.length===3?r.split("").map(l=>l+l).join(""):r;if(!/^[0-9A-Fa-f]{6}$/.test(i))return null;let s=parseInt(i.slice(0,2),16),o=parseInt(i.slice(2,4),16),a=parseInt(i.slice(4,6),16);return[s,o,a]}(e)),t},M_e=({color:e,overlays:t})=>{let n=[...e],r=t.length;for(let i=0;i<r;i++){let s=t[i],o=s.alpha;for(let a=0;a<3;a++)n[a]=(1-o)*n[a]+o*s.color[a]}return"rgb("+n.join(",")+")"},R_e=e=>{p.useEffect(()=>{let t=()=>{F1()?e(!0):e(!1)};return t(),visualViewport.addEventListener("resize",t),()=>{visualViewport.removeEventListener("resize",t)}},[e])},P_e=e=>e.matches('[data-silk~="0ad"]:not([data-silk~="0ai"]) *, [data-silk~="0ab"] *'),cG=e=>{let[t,n]=p.useState(!1),r=p.useCallback(i=>{e.current&&n(!!i&&!P_e(e.current))},[e]);return R_e(r),t},uG=()=>hn==="android"&&mo==="chromium"&&typeof window<"u"&&!window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: fullscreen)").matches,N_e=()=>{var e,t,n;return typeof window<"u"&&window.navigator.standalone&&((e=document.querySelector("meta[name='viewport']"))===null||e===void 0?void 0:e.content.includes("viewport-fit=cover"))&&((t=document.querySelector("meta[name='apple-mobile-web-app-capable']"))===null||t===void 0?void 0:t.content)==="yes"&&((n=document.querySelector("meta[name='apple-mobile-web-app-status-bar-style']"))===null||n===void 0?void 0:n.content)==="black-translucent"},wa=()=>mo==="webkit",D_e=()=>typeof document<"u"?document.querySelector('meta[name="theme-color"]'):null,$h=({genericContext:e,customContext:t,value:n,children:r})=>t?g.jsx(t.Provider,{value:n,children:g.jsx(e.Provider,{value:n,children:r})}):g.jsx(e.Provider,{value:n,children:r});$h.displayName="CustomisableContext";function lS(e){for(let t=0;t<e.length;t++)if(!e[t].matches('[data-silk~="0ad"]'))return e[t];return e[0]}let dG=(e,t)=>{var n;let{safelyFocusableElements:r,safelyTabbableElements:i}=E0(t,["[data-silk~='0ac']"]),s=rt.autoFocusTargets.filter(d=>d.layerId==="any"||d.layerId===e),o=s.filter(d=>aG(d.timing,"present")),a=r.filter(d=>o.map(f=>f.element).includes(d)),l=lS(a),c=lS(i);((n=l??c)!==null&&n!==void 0?n:t).focus({preventScroll:!0})},yI=(e,t,n)=>{let{focus:r}=Hs({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});r&&dG(e,t)},L_e=(e,t,n,r)=>{if(!t.contains(document.activeElement)&&document.contains(document.activeElement))return;let{focus:i}=Hs({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});if(i){var s;let o=rt.autoFocusTargets.filter(f=>f.layerId==="any"||f.layerId===e),a=o.filter(f=>aG(f.timing,"dismiss")&&!t.contains(f.element)),{safelyFocusableElements:l}=E0(document.body),c=l.filter(f=>a.map(h=>h.element).includes(f)),u=lS(c);((s=u??r)!==null&&s!==void 0?s:document.body).focus({preventScroll:!0})}},bI=e=>{e.parentNode!=null&&e.parentNode.removeChild(e)},CI=()=>{let e=document.createElement("div");return e.tabIndex=0,e.style.position="fixed",e.setAttribute("aria-hidden","true"),e.setAttribute("data-silk","0aa"),e},F_e=e=>{let t=CI(),n=CI();return e.insertAdjacentElement("beforebegin",t),e.insertAdjacentElement("afterend",n),()=>{bI(t),bI(n)}},j_e=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),E0=(e,t=[])=>{let n=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]","[tabindex]:not([disabled])",...t],r=n.join(","),i=e?[...e.matches(r)?[e]:[],...e.querySelectorAll(r)]:[],s=[...t,"[aria-hidden='true']","[aria-hidden='true'] *","[inert]","[inert] *"],o=i.map(f=>({element:f,tabbable:f.matches(':not([hidden]):not([tabindex^="-"])'),skippable:f.matches(s.join(","))||!j_e(f)})),a=o.filter(f=>!f.skippable),l=a.map(f=>f.element),c=o.filter(f=>f.tabbable),u=c.filter(f=>!f.skippable),d=u.map(f=>f.element);return{allFocusableElementsWithData:o,safelyFocusableElements:l,allTabbableElementsWithData:c,safelyTabbableElements:d}},fG=(e,t)=>{let{safelyTabbableElements:n,allTabbableElementsWithData:r,allFocusableElementsWithData:i}=E0(e,["[data-silk~='0ac']"]),s=[...r],o=[...i];return t&&[s,o].forEach(a=>{a.unshift({element:e.previousElementSibling,tabbable:!0,skippable:!0}),a.push({element:e.nextElementSibling,tabbable:!0,skippable:!0})}),{safelyTabbableElements:n,allTabbableElementsWithGuardsWithData:s,allFocusableElementsWithGuardsWithData:o}},B_e=(e,t)=>{let n;return(n=t.slice(0,e).reverse().find(r=>r.skippable===!1))||(n=t.slice(e+1-t.length).reverse().find(r=>r.skippable===!1)),n},SI=(e,t)=>{let n;return(n=t.slice(e+1).find(r=>r.skippable===!1))||(n=t.slice(0,e).find(r=>r.skippable===!1)),n},U_e=({rootElements:e,e:t,fromElement:n,toElement:r,fallbackElement:i})=>{if(!r)return;let s=[],o=[],a=[];e.forEach(_=>{let{safelyTabbableElements:y,allTabbableElementsWithGuardsWithData:b,allFocusableElementsWithGuardsWithData:C}=fG(_,!0);s=[...s,...y],o=[...o,...b],a=[...a,...C]});let l=o.findIndex(_=>_.element===n),c=o.findIndex(_=>_.element===r),u=o[c],d=a.findIndex(_=>_.element===r),f=!!r&&e.includes(r)&&r.getAttribute("tabindex")==="-1";if(d===-1&&!f){let _=e.find(y=>y.getAttribute("tabindex")==="-1");_?.focus()}if(u?.skippable){var h,m,v;s.length?s.length===1?n===s[0]?(t.preventDefault(),t.stopPropagation(),requestAnimationFrame(()=>n.focus())):s[0].focus():l?c<l?(m=B_e(c,o))===null||m===void 0||m.element.focus():(v=SI(c,o))===null||v===void 0||v.element.focus():(h=SI(c,o))===null||h===void 0||h.element.focus():i?.focus()}},hG=(e,t,n,r,i)=>{var s;if(!((s=e.target)===null||s===void 0)&&s.matches("[data-silk-clone]"))return;let o=[],a=[];n.forEach(l=>{let{safelyFocusableElements:c,safelyTabbableElements:u}=E0(l);o=[...o,...c],a=[...a,...u]}),n.includes(e.target)||o.includes(e.target)?e.target&&i(e.target):r?r.focus():a.length?a[0].focus():t.focus()},q_e=(e,t)=>{var n;if(!((n=e.relatedTarget)===null||n===void 0)&&n.matches("[data-silk-clone]"))return;let r=zm??e.target,i=Fu??e.relatedTarget;U_e({rootElements:t,e,fromElement:r,toElement:i}),zm=null,Fu=null},z_e=(e,t,n,r,i)=>{let s=n.find(o=>o.contains(e.target));e.key!=="Tab"||s||(e.preventDefault(),e.stopPropagation(),hG(e,t,n,r,i))},zm=null,Fu=null,G_e=({rootElements:e,viewElement:t,elementFocusedLast:n,setElementFocusedLast:r})=>{let i=[];e.forEach(c=>{i.push(F_e(c))});let s=function(c,u=document){let d=new Set(c),f=new Set,h=document.createTreeWalker(u,NodeFilter.SHOW_ELEMENT,{acceptNode:y=>(y instanceof HTMLElement&&y.dataset.liveAnnouncer==="true"&&d.add(y),y.tagName==="HEAD"||y.tagName==="SCRIPT"||d.has(y)||y.parentElement&&f.has(y.parentElement)?NodeFilter.FILTER_REJECT:y instanceof HTMLElement&&y.getAttribute("role")==="row"||c.some(b=>y.contains(b))?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT)}),m=y=>{var b;let C=(b=Vd.get(y))!==null&&b!==void 0?b:0;(y.getAttribute("aria-hidden")!=="true"||C!==0)&&(C===0&&y.setAttribute("aria-hidden","true"),f.add(y),Vd.set(y,C+1))},v=h.nextNode();for(;v!=null;)m(v),v=h.nextNode();let _=new MutationObserver(y=>{for(let b of y)if(b.type==="childList"&&b.addedNodes.length!==0&&![...d,...f].some(C=>C.contains(b.target)))for(let C of b.addedNodes)C instanceof HTMLElement&&C.dataset.liveAnnouncer==="true"?d.add(C):C instanceof Element&&m(C)});return _.observe(u,{childList:!0,subtree:!0}),()=>{for(let y of(_.disconnect(),f)){let b=Vd.get(y);b===1?(y.removeAttribute("aria-hidden"),Vd.delete(y)):b!==void 0&&Vd.set(y,b-1)}}}(e,document),o=c=>q_e(c,e),a=c=>hG(c,t,e,n,r),l=c=>z_e(c,t,e,n,r);return document.addEventListener("keydown",l),document.addEventListener("focusout",o),document.addEventListener("focusin",a),()=>{document.removeEventListener("focusout",o),document.removeEventListener("focusin",a),document.removeEventListener("keydown",l),s(),i.forEach(c=>c())}},x0=new Set,H_e=e=>{x0.add(e)},V_e=e=>{x0.delete(e)},pG=(e,t,n,r)=>{let i=e[t],s=i.onClickOutside,o=i.dismissOverlayIfNotAlertDialog,a=i.viewElement,l=i.scrollContainerElement,c=i.backdropElement;if(l===r.target||c===r.target||!a?.contains(r.target)&&!n.find(u=>u.element.contains(r.target))&&function(u){for(let d of rt.automaticLayerElements)if(d.contains(u))return!1;return!0}(r.target)){let u=!0,d=!0;if(s){let{dismiss:f,stopOverlayPropagation:h}=Hs({nativeEvent:r,defaultBehavior:{dismiss:!0,stopOverlayPropagation:!0},handler:s});u=f,d=h}u&&o&&o(),t>0&&!d&&pG(e,t-1,n,r)}},cS=null,$_e=(e,t,n)=>{var r;if(x0.size||!((r=e.target)===null||r===void 0)&&r.matches('[data-silk~="0ak"] *')||e.target===document.body&&cS!==document.body||!e.target||!e.target.isConnected)return;let i=t.length;pG(t,i-1,n,e),cS=null},W_e=(e,t)=>{let n=i=>cS=i.target,r=i=>$_e(i,e,t);return document.addEventListener("pointerdown",n),document.addEventListener("click",r),()=>{document.removeEventListener("pointerdown",n),document.removeEventListener("click",r)}},mG=(e,t,n)=>{let r=e[t],i=r.onEscapeKeyDown,s=r.dismissOverlayIfNotAlertDialog,o=!0,a=!0,l=!0;if(i){let{dismiss:c,nativePreventDefault:u,stopOverlayPropagation:d}=Hs({nativeEvent:n,defaultBehavior:{nativePreventDefault:!0,dismiss:!0,stopOverlayPropagation:!0},handler:i});o=u,a=c,l=d}o&&n.preventDefault(),a&&s&&s(),t>0&&!l&&mG(e,t-1,n)},K_e=(e,t)=>{if(e.key!=="Escape"||x0.size)return;let n=t.length;mG(t,n-1,e)},Y_e=e=>{let t=n=>K_e(n,e);return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},Z_e=e=>(e.setAttribute("aria-hidden","true"),()=>e.removeAttribute("aria-hidden")),J_e=e=>{let{allTabbableElementsWithGuardsWithData:t}=fG(e);t.forEach(n=>{n.element.tabIndex=-1})},Q_e=e=>{var t;return e instanceof HTMLInputElement&&(!!(e.type==="password"||e.type==="text"&&e.autocomplete==="username"||!((t=e.closest("form"))===null||t===void 0)&&t.querySelector('input[type="password"]'))||void 0)},X_e=e=>{var t,n;let r=e.getBoundingClientRect(),i=r.height,s=(n=(t=window.visualViewport)===null||t===void 0?void 0:t.height)!==null&&n!==void 0?n:0,o=s-r.bottom;return o>-i/2&&o<i+32},bb=e=>{var t;return(t=e?.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))===null||t===void 0?void 0:t.matches('[data-silk~="0ah"]')},eye=()=>{let e=i=>{let s=i.target;if(bb(s)){var o;(o=s?.closest('[data-silk~="0ah"]'))===null||o===void 0||o.focus({preventScroll:!0}),document.removeEventListener("touchstart",e,{capture:!0})}},t=i=>{let s=i.target,o=i.relatedTarget;if(!o)return document.addEventListener("touchstart",e,{capture:!0,passive:!1});if(bb(o)&&(vI(o)&&document.addEventListener("touchstart",e,{capture:!0,passive:!1}),!(!Ll(o)&&!vI(o)||aS(s))))if(!Q_e(o)&&Ll(s)&&X_e(s)){let a=s.cloneNode(!1);a.removeAttribute("id"),a.setAttribute("data-silk-clone","true"),a.style.setProperty("position","fixed"),a.style.setProperty("left","0"),a.style.setProperty("top","0"),a.style.setProperty("transform","translateY(-3000px) scale(0)"),document.documentElement.appendChild(a),Fu=o,a?.focus({preventScroll:!0}),setTimeout(()=>{zm=s,Fu=o,o?.focus({preventScroll:!0}),a.remove()},32)}else Fu=o,o?.focus({preventScroll:!0})},n=i=>{var s;let o=i.target;!(o!==document.activeElement||!Ll(o)||F1())&&bb(o)&&((s=o?.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))===null||s===void 0||s.focus({preventScroll:!0}))},r=i=>{var s;let o=i.target;if(!o||!("setSelectionRange"in o)||!(["password","search","tel","text","url"].includes(o.type)||o instanceof HTMLTextAreaElement)||o._silk_focusedBefore===!0)return;let a=o.value.length;(s=o.setSelectionRange)===null||s===void 0||s.call(o,a,a),o._silk_focusedBefore=!0};return document.addEventListener("blur",t,{capture:!0,passive:!1}),document.addEventListener("touchstart",e,{capture:!0,passive:!0}),document.addEventListener("touchend",n,{capture:!0,passive:!0}),document.addEventListener("focusin",r),()=>{document.removeEventListener("blur",t,{capture:!0}),document.removeEventListener("touchend",n,{capture:!0}),document.removeEventListener("touchstart",e,{capture:!0}),document.removeEventListener("focusin",r)}},gG=["translate","translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vG=null,_G=e=>{vG=e},tye={sheets:[],addSheet:function(e){let t;if(!e.id)return;let n=this.findSheet(e.id);return n?(e.stackId&&(n.stackId=e.stackId),e.sendToOpennessMachine&&(n.sendToOpennessMachine=e.sendToOpennessMachine),t=n):(t={stackingIndex:-1,travelAnimations:[],aggregatedTravelCallback:function(r,i){let s=this.travelAnimations;for(let o=0,a=s.length;o<a;o++)s[o].callback(r,i)},stackingAnimations:[],aggregatedStackingCallback:function(r,i){let s=this.stackingAnimations;for(let o=0,a=s.length;o<a;o++)s[o].callback(r,i)},belowSheetsInStack:[],outlets:new Set,...e},this.sheets.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},attemptToRemoveSheet:function(e,t){let n=this.findSheet(e);if(n)if(n.outlets.size===0){var r;let i=(r=this.findSheet(e))===null||r===void 0?void 0:r.stackId;this.sheets=this.sheets.filter(s=>s.id!==e),i&&this.updateSelfAndAboveTravelProgressSumInStack(i)}else t&&t(n)},attemptToRemoveSheetOrCleanup:function(e){this.attemptToRemoveSheet(e,t=>{t.sendToOpennessMachine=null})},findSheet:function(e){return this.sheets.find(t=>t.id===e)},addOutletToSheet:function(e,t){let n=this.findSheet(e);n?n.outlets.add(t):this.addSheet({id:e,outlets:new Set([t])})},removeOutletFromSheet:function(e,t){let n=this.findSheet(e);n?.outlets.delete(t),this.attemptToRemoveSheet(e)},sheetStacks:[],addSheetStack:function(e){let t;return this.findSheetStack(e.id)||(t={stackingAnimations:[],aggregatedStackingCallback:function(r,i){let s=this.stackingAnimations;for(let o=0,a=s.length;o<a;o++)s[o].callback(r,i)},...e},this.sheetStacks.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},removeSheetStack:function(e){e&&(this.sheetStacks=this.sheetStacks.filter(t=>t.id!==e),this.removeAllOutletPersistedStylesFromStack(e))},findSheetStack:function(e){return this.sheetStacks.find(t=>t.id===e)},updateBelowSheetsInStackOfAllSheets:function(){this.sheets.forEach(e=>{let t,n=e.stackId;if(n){t=this.findSheetStack(n);let r=this.sheets.filter(s=>s.stackId===e.stackId),i=r.filter(s=>s.stackId===e.stackId&&s.stackingIndex>e.stackingIndex);t&&(i.unshift(t),t.stackingIndex=r.length-1),e.belowSheetsInStack=i,this.updateSelfAndAboveTravelProgressSumInStack(n)}})},updateSheetStackingIndex:function(e,t){let n=this.findSheet(e);n&&(n.stackingIndex=t),this.updateBelowSheetsInStackOfAllSheets()},updateSheetTravelProgress:function(e,t){let n=this.findSheet(e);n&&n.stackId&&(n.travelProgress=t,this.updateSelfAndAboveTravelProgressSumInStack(n.stackId))},updateSelfAndAboveTravelProgressSumInStack:function(e){let t=this.sheets.filter(i=>i.stackId===e).sort((i,s)=>s.stackingIndex-i.stackingIndex),n=this.findSheetStack(e);n&&t.unshift(n);let r=t.length;for(let i=0;i<r;i++){let s=t[i];s.selfAndAboveTravelProgressSum=[];for(let o=0;o<r;o++)o<=i?s.selfAndAboveTravelProgressSum[o]=0:s.selfAndAboveTravelProgressSum[o]=t.slice(i+1,o+1).reduce((a,l)=>a+l.travelProgress,0)}},addAnimationToSheetOrStack:function({type:e,sheetId:t,stackId:n,element:r,config:i}){let s=i.hasOwnProperty("properties")?i.properties:i,o=[];Object.entries(s).forEach(([d,f])=>{if(f!=="ignore"&&f&&typeof f!="string")if(typeof f=="function")if(gG.includes(d)){let h=o.findIndex(v=>v[0]==="transform"),m=v=>d+"("+f(v)+")";if(h!==-1){let v=o[h][1];o[h][1]=_=>v(_)+" "+m(_)}else o.push(["transform",m])}else if(d==="transform"){let h=o.findIndex(m=>m[0]==="transform");if(h!==-1){let m=o[h][1];o[h][1]=v=>m(v)+" "+f(v)}else o.push(["transform",f])}else o.push([d,f]);else if(d==="opacity"){let h=["opacity",({tween:m})=>m(f[0],f[1])];o.push(h)}else{if(!d.startsWith("scale")&&(!isNaN(f[0])||!isNaN(f[1])))throw Error("Keyframe values used with a 'transform' property require a unit (e.g. 'px', 'em' or '%').");let h=o.findIndex(v=>v[0]==="transform"),m=({tween:v})=>d+"("+v(f[0],f[1])+")";if(h!==-1){let v=o[h][1];o[h][1]=_=>v(_)+" "+m(_)}else o.push(["transform",m])}});let a=o.map(d=>[(d[0].startsWith("webkit")||d[0].startsWith("moz")?"-":"")+d[0].replace(/[A-Z]/g,"-$&").toLowerCase(),d[1]]),l=a.length,c={target:r,config:o,dashedPropertiesAsArray:a,callback:(d,f)=>{for(let h=0;h<l;h++){let[m,v]=a[h];r.style.setProperty(m,v({progress:d,tween:f}))}}},u=n?this.findSheetStack(n):this.findSheet(t);u&&(e==="travel"?u.travelAnimations.push(c):u.stackingAnimations.push(c))},removeAnimationFromSheetOrStack:function({sheetId:e,stackId:t,type:n,element:r}){let i=t?this.findSheetStack(t):this.findSheet(e);if(i)if(n==="travel"){let s=i.travelAnimations.filter(o=>o.target!==r);i.travelAnimations=s}else{let s=i.stackingAnimations.filter(o=>o.target!==r);i.stackingAnimations=s}},removeAllOutletPersistedStylesFromSheet:function(e){let t=this.findSheet(e);t&&[...t.travelAnimations,...t.stackingAnimations].forEach(n=>{n.dashedPropertiesAsArray.forEach(([r])=>{n.target.style.removeProperty(r)})})},removeAllOutletPersistedStylesFromStack:function(e){let t=this.findSheetStack(e);t&&t.stackingAnimations.forEach(n=>{n.dashedPropertiesAsArray.forEach(([r])=>{n.target.style.removeProperty(r)})})},getAggregatedStackingCallbackForSheetsBelow:function(e){let t,n=this.findSheet(e);return n&&(t=r=>{let i=n.belowSheetsInStack,s=i.length;for(let o=0;o<s;o++){let a=i[o],l=a.selfAndAboveTravelProgressSum[s-1]+r,c=Eu(l);a.aggregatedStackingCallback(l,c)}}),t},automaticIslandElements:new Set([]),automaticLayerElements:new Set([]),automaticLayerAndIslandDetectionCleanup:null,focusContainmentRootElements:[],focusContainmentCleanup:()=>{},escapeKeyDownListenerCleanup:null,clickOutsideListenerCleanup:null,processLayersAndIslandsChangesTimeout:null,setupAutomaticLayerAndIslandDetection:function(e){let t=document.documentElement,n=document.body,r=()=>{let s,o=new Set([]),a=new Set([]),l=function(_){let y=_.parentElement;for(;y&&y!==document.body;){if(y.parentElement===document.body)return y;y=y.parentElement}return _.parentElement===document.body?_:null}(e);s=l?l.nextElementSibling:n.firstElementChild;let c=_=>_.matches('[data-silk~="0ag"], [data-silk~="0ab"], [data-silk~="0aa"], [data-silk-clone]'),u=_=>_.tagName!=="SCRIPT";for(;s;)!c(s)&&u(s)&&o.add(s),s=s.nextElementSibling;let d=t.children;for(let _=0;_<d.length;_++){let y=d[_];y.tagName==="HEAD"||y.tagName==="BODY"||c(y)||a.add(y)}let f=new Set([...o].filter(_=>!this.automaticLayerElements.has(_))),h=new Set([...this.automaticLayerElements].filter(_=>!o.has(_)));this.automaticLayerElements=o;let m=new Set([...a].filter(_=>!this.automaticIslandElements.has(_))),v=new Set([...this.automaticIslandElements].filter(_=>!a.has(_)));this.automaticIslandElements=a,f.forEach(_=>{this.updateLayer({automatic:!0,layerId:null,viewElement:_,inertOutside:!1,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},dismissOverlayIfNotAlertDialog:()=>{},onClickOutside:{stopOverlayPropagation:!1},onEscapeKeyDown:{stopOverlayPropagation:!1}})}),h.forEach(_=>this.removeLayer(null,_)),m.forEach(_=>this.addIsland({element:_,automatic:!0})),v.forEach(_=>this.removeIsland(null,_))};r();let i=new MutationObserver(()=>{r()});i.observe(t,{childList:!0}),i.observe(n,{childList:!0}),this.automaticLayerAndIslandDetectionCleanup=function(){i.disconnect(),this.layers.forEach(s=>{s.automatic&&this.removeLayer(null,s.viewElement)}),this.automaticLayerElements=new Set([]),this.islands.forEach(s=>{s.automatic&&this.removeIsland(null,s.element)}),this.automaticIslandElements=new Set([]),this.automaticLayerAndIslandDetectionCleanup=null}},moveFocusIfNecessary:function(e,t,n,r,i,s){let o=!1;for(let a=0;a<t.length;a++)if(t[a].contains(document.activeElement)){o=!0;break}if(n.length){let a=n.filter(l=>!l.automatic&&!l.external);if(a.length){let l=a[a.length-1];return yI(l.layerId,l.viewElement,l.onPresentAutoFocus)}}if(i.length&&!o){let a=e[e.length-1];if(!a.external)return yI(a.layerId,a.viewElement,a.onPresentAutoFocus)}if(r.length&&r.find(l=>l.focusWasInside)){let l=r[0];if(!l.external)return L_e(l.layerId,l.viewElement,l.onDismissAutoFocus,l.elementFocusedLastBeforeShowing)}if(s.length&&s.find(l=>l.focusWasInside)){let l=e[e.length-1];if(l)return dG(l.layerId,l.viewElement)}},processLayersAndIslandsChanges:function(){var e;clearTimeout(this.processLayersAndIslandsChangesTimeout);let t=()=>{let r=this.layers.length,i=new Set([]),s;if(this.layers.some(d=>d.inertOutside)){this.islands.filter(f=>!f.componentId||f.componentId.length===0).forEach(f=>i.add(f.element));for(let f=r-1;f>=0;f--){let h=this.layers[f];if(h.external&&h.inertOutside){i=new Set([]);break}i.add(h.viewElement);let m=this.islands.filter(_=>_.componentId&&h.layerContextId&&_.componentId.includes(h.layerContextId)),v=this.islands.filter(_=>_.componentId&&h.layerStackContextId&&_.componentId.includes(h.layerStackContextId));if([...m,...v].forEach(_=>{i.add(_.element)}),h.inertOutside){s=h;break}s=h}}let a=[...i],l=!function(d,f){if(d.length!==f.length)return!1;let h=new Set;for(let m of d)h.add(m);for(let m of f)if(!h.has(m))return!1;return!0}(this.focusContainmentRootElements,a);if(this.focusContainmentRootElements=a,l){var c;this.focusContainmentCleanup(),this.focusContainmentCleanup=()=>{},(c=this.automaticLayerAndIslandDetectionCleanup)===null||c===void 0||c.call(this),s&&(this.setupAutomaticLayerAndIslandDetection(s?.viewElement),this.focusContainmentCleanup=G_e({rootElements:this.focusContainmentRootElements,viewElement:s?.viewElement,elementFocusedLast:vG,setElementFocusedLast:_G}))}this.moveFocusIfNecessary(this.layers,this.focusContainmentRootElements,this.layersJustAdded,this.layersJustRemoved,this.layersJustWentToInertOutsideTrue,this.islandsJustRemoved),this.escapeKeyDownListenerCleanup&&(this.escapeKeyDownListenerCleanup(),this.escapeKeyDownListenerCleanup=null),this.clickOutsideListenerCleanup&&(this.clickOutsideListenerCleanup(),this.clickOutsideListenerCleanup=null),r>0&&(this.escapeKeyDownListenerCleanup=Y_e(this.layers),this.clickOutsideListenerCleanup=W_e(this.layers,this.islands));let u=this.layersJustRemoved.length;if(u)for(let d=0;d<u;d++){let f=this.layersJustRemoved[d],h=f.viewElement,m=f.automatic;h&&!m&&(Z_e(h),J_e(h))}this.islandsJustRemoved=[],this.layersJustAdded=[],this.layersJustRemoved=[],this.layersJustWentToInertOutsideTrue=[]};((e=this.layersJustAdded[this.layersJustAdded.length-1])===null||e===void 0?void 0:e.external)?t():this.processLayersAndIslandsChangesTimeout=setTimeout(t,16)},autoFocusTargets:[],addAutoFocusTarget:function({layerId:e,element:t,timing:n}){this.autoFocusTargets.push({layerId:e,element:t,timing:n})},removeAutoFocusTarget:function(e){this.autoFocusTargets=this.autoFocusTargets.filter(t=>t.element!==e)},islands:[],islandsJustRemoved:[],addIsland:function(e){var t;let n=this.islands[this.islands.length-1],r=((t=e.id)!==null&&t!==void 0?t:n)?n.id+1:0;return this.islands.push({...e,id:r}),this.processLayersAndIslandsChanges(),r},removeIsland:function(e,t){this.islands=this.islands.filter(n=>{if(e&&n.id&&n.id!==e||t&&n.element&&n.element!==t)return!0;{let r=n.element.contains(document.activeElement);return this.islandsJustRemoved.push({...n,focusWasInside:r}),!1}}),this.processLayersAndIslandsChanges()},layers:[],layersJustAdded:[],layersJustRemoved:[],layersJustWentToInertOutsideTrue:[],updateLayer:function(e){let t=e.layerId,n=e.viewElement,r=!1,i=this.layers;for(let o=0;o<i.length;o++){let a=i[o];if(t!==null?a.layerId===t:a.viewElement===n){let c={...a,...e};!a.inertOutside&&e.inertOutside&&this.layersJustWentToInertOutsideTrue.push(c),i[o]=c,r=!0;break}}if(!r){var s;let o={...e,elementFocusedLastBeforeShowing:(s=e.elementFocusedLastBeforeShowing)!==null&&s!==void 0?s:document.activeElement};i.push(o),this.layersJustAdded.push(o)}this.processLayersAndIslandsChanges()},removeLayer:function(e,t){var n;this.layers=this.layers.filter(r=>{if(e&&r.layerId&&r.layerId!==e||t&&r.viewElement&&r.viewElement!==t)return!0;{var i;let s=(i=r.viewElement)===null||i===void 0?void 0:i.contains(document.activeElement);return this.layersJustRemoved.push({...r,focusWasInside:s}),!1}}),this.layers.filter(r=>!r.automatic).length===0&&((n=this.automaticLayerAndIslandDetectionCleanup)===null||n===void 0||n.call(this)),this.processLayersAndIslandsChanges()},nativeFocusScrollPreventers:[],nativeFocusScrollPreventionCleanup:null,addNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers.push({id:e}),this.processNativeFocusScrollPreventersChanges()},removeNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers=this.nativeFocusScrollPreventers.filter(t=>t.id!==e),this.processNativeFocusScrollPreventersChanges()},processNativeFocusScrollPreventersChanges:function(){let e=this.nativeFocusScrollPreventers.length;if(wa()&&(hn==="ios"||hn==="ipados"))if(e)this.nativeFocusScrollPreventionCleanup||(this.nativeFocusScrollPreventionCleanup=eye());else{var t;(t=this.nativeFocusScrollPreventionCleanup)===null||t===void 0||t.call(this),this.nativeFocusScrollPreventionCleanup=null}},fixedComponents:[],addFixedComponent:function(e){this.fixedComponents.push(e)},updateFixedComponent:function(e){let t=this.fixedComponents.find(n=>n.id===e.id);t&&(e.element&&(t.element=e.element),e.initialInlineCSSTransform&&(t.initialInlineCSSTransform=e.initialInlineCSSTransform),typeof e.compensated=="boolean"&&(t.compensated=e.compensated))},removeFixedComponent:function(e){this.fixedComponents=this.fixedComponents.filter(t=>t.id!==e)},findActualFixedComponentsInsideOutlet:function(e){return this.fixedComponents.filter(t=>{if(t.element&&e)return e.contains(t.element)&&window.getComputedStyle(t.element).getPropertyValue("position")==="fixed"})},themeColorMetaTag:null,underlyingThemeColor:null,themeColorDimmingOverlays:[],storeThemeColorMetaTag:function(){if(this.themeColorMetaTag=D_e(),!this.themeColorMetaTag){let e=document.createElement("meta");e.name="theme-color",e.content=window.getComputedStyle(document.body).backgroundColor,document.head.appendChild(e),this.themeColorMetaTag=e}},getAndStoreUnderlyingThemeColorAsRGBArray:function(){let e;if(this.themeColorDimmingOverlays.length>0)e=this.underlyingThemeColor;else{var t;this.themeColorMetaTag||this.storeThemeColorMetaTag();let n=(t=this.themeColorMetaTag)===null||t===void 0?void 0:t.content;(e=_I(n))||console.warn("`themeColorDimming` prop ignored: Only `theme-color` meta tag with a value in `rgb()`, `rgba()`, or hexadecimal format is supported."),this.underlyingThemeColor=e}return e},updateUnderlyingThemeColor:function(e){let t=_I(e);if(!t)throw Error("The color provided to `updateThemeColor` doesn't match `rgb()`, `rgba()`, or hexadecimal format.");this.underlyingThemeColor=t,this.setActualThemeColor()},setActualThemeColor:function(){var e;this.themeColorMetaTag||this.storeThemeColorMetaTag(),(e=this.themeColorMetaTag)===null||e===void 0||e.setAttribute("content",M_e({color:this.underlyingThemeColor,overlays:this.themeColorDimmingOverlays}))},findThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.find(t=>t.dimmingOverlayId===e)},findIndexThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.findIndex(t=>t.dimmingOverlayId===e)},updateThemeColorDimmingOverlay:function(e){let t=e;t.color&&(t={...t,color:lG(t.color)});let n=this.findThemeColorDimmingOverlay(t.dimmingOverlayId);return n?Object.assign(n,t):(n=t,this.themeColorDimmingOverlays.push(t)),this.setActualThemeColor(),n},updateThemeColorDimmingOverlayAlphaValue:function(e,t){e.alpha=t,this.setActualThemeColor()},removeThemeColorDimmingOverlay:function(e){let t=this.findThemeColorDimmingOverlay(e);t&&(t.abortRemoval=!1,setTimeout(()=>{t?.abortRemoval||(this.themeColorDimmingOverlays=this.themeColorDimmingOverlays.filter(n=>n.dimmingOverlayId!==e),this.setActualThemeColor(),this.themeColorDimmingOverlays.length!==0||(this.underlyingThemeColor=null,this.themeColorMetaTag=null))},20))}};var rt=tye;let yG=e=>{let t=p.useRef(null);return Tn(()=>{t.current=e}),p.useCallback((...n)=>{let r=t.current;return r(...n)},[])},O9=e=>e==="layout"?Tn:p.useEffect,uS=e=>{var t=e?.lastIndexOf(":");return t===-1?"":e?.substring(t+1)},nye=e=>{let t=[],n=[],r=(i,s,{partOfInitial:o})=>{Array.isArray(i)?i.forEach(a=>r(a,s,{partOfInitial:o})):(s+=(s?".":"")+i.name,o&&n.push(s+":"+i.initial),Object.entries(i.states).forEach(([a,l])=>{let c=s+":"+a;l.machine=s,l.path=c,l.reactive=!i.silentOnly,t.push(l),l.machines&&r(l.machines,c,{partOfInitial:o&&i.initial===a})}))};return r(e,"",{partOfInitial:!0}),[n,t]},wI=(e,t)=>e.includes(":")?e:t.substring(0,t.lastIndexOf(":")+1)+e,EI=e=>{let t=e.split("."),n=[];return t.forEach((r,i)=>{let s=n[i-1],o=(s?s.full+".":"")+r,a=o.substring(0,o.lastIndexOf(":")),l=o.substring(o.lastIndexOf(":")+1);n.push({full:o,withoutState:a,state:l})}),n},rye=({checkedPoolOfStates:e,referencePoolOfStates:t,callbackOnExclusion:n,callbackOnPresent:r})=>e.filter(s=>{let o=!0;return s.forEach(a=>{t.forEach(l=>{l.forEach(c=>{a.withoutState===c.withoutState&&(a.state!==c.state?(o=!1,n?.({decomposedCheckedState:s,checkedStatePiece:a,decomposedReferenceState:l,referenceStatePiece:c})):r({decomposedCheckedState:s,checkedStatePiece:a,decomposedReferenceState:l,referenceStatePiece:c}))})})}),o}),iye=e=>{let[t,n]=nye(e);return[t,(r,i)=>{let s,o=typeof i=="string"?i:i.type,a=[];n.forEach(S=>{r.includes(S.path)&&(!i.machine||i.machine===S.machine)&&S.messages&&Object.entries(S.messages).forEach(([x,w])=>{if(x===o){if(typeof w=="string")s=x,a.push(wI(w,S.path));else for(let E of w)if(!E.guard||E.guard(r,i)){s=x,a.push(wI(E.target,S.path));break}}})});let l=r.map(S=>EI(S)),c=a.map(S=>EI(S)),u=[],d=rye({checkedPoolOfStates:l,referencePoolOfStates:c,callbackOnExclusion:({decomposedCheckedState:S})=>{u.push(S[S.length-1].full)},callbackOnPresent:({referenceStatePiece:S})=>{S.unchanged=!0}}),f=d.map(S=>S[S.length-1].full),h=[],m=[];c.forEach(S=>{S.forEach((x,w)=>{if(!x.unchanged){var E,T;w<S.length-1&&h.push(x.full);let O=n.find(k=>k.path===x.full);(E=O.machines)===null||E===void 0||(T=E.forEach)===null||T===void 0||T.call(E,k=>{let A=()=>{c.find(D=>D.find(N=>N.withoutState===`${O.path}.${k.name}`))||m.push(`${O.path}.${k.name}:${k.initial}`)};w<S.length-1?O.path+k.name!==S[w+1].withoutState&&A():A();let I=D=>{var N,R;(N=n.find(j=>j.path===D).machines)===null||N===void 0||(R=N.forEach)===null||R===void 0||R.call(N,j=>{c.find(H=>H.find(U=>U.withoutState===`${O.path}.${j.name}`))||m.push(`${D}.${j.name}:${j.initial}`),I(`${D}.${j.name}:${j.initial}`)})};I(`${O.path}.${k.name}:${k.initial}`)})}})});let v=[...a,...h,...m],_=[...f,...v],y=[...u,...v],b=n.filter(S=>y.includes(S.path)),C=b.some(S=>S.reactive);return{exitedStates:u,transitionTaken:s,enteredStates:v,nextStates:_,reactive:C}}]},Gm=(e,t)=>e?.toStrings().filter(n=>n?.startsWith(t)).filter(n=>{var r;return!(!((r=n?.slice(t.length))===null||r===void 0)&&r.includes("."))})[0],xI=e=>{let[t,n]=p.useMemo(()=>iye(e),[e]),r=p.useRef(),i=p.useRef([]),s=p.useRef([]),o=p.useRef([]),a=p.useRef([]),l=p.useRef(t),c=p.useRef({toStrings:()=>t,matches:m=>$l(t,m),lastMessageTreatedRef:r,exitActionsRef:i,transitionActionsRef:s,entryActionsRef:o,selectorsRef:a}),[u,d]=p.useState({...c.current,silent:c.current}),f=p.useRef([]),h=p.useCallback(m=>{f.current.push(m);let v=_=>{let{nextStates:y,exitedStates:b,transitionTaken:C,enteredStates:S,reactive:x}=n(l.current,f.current[0]),w=l.current;if(l.current=y,i.current.forEach(E=>{b.includes(E.state)&&(typeof E.guard=="function"?E.guard(w,f.current[0]):E.guard)&&E.callback(f.current[0],E.params)}),s.current.forEach(E=>{b.includes(E.state)&&E.transition===C&&(typeof E.guard=="function"?E.guard(w,f.current[0]):E.guard)&&E.callback(f.current[0],E.params)}),o.current.forEach(E=>{S.includes(E.state)&&(typeof E.guard=="function"?E.guard(w,f.current[0]):E.guard)&&E.callback(f.current[0],E.params)}),r.current=typeof f.current[0]=="string"?{type:f.current[0]}:f.current[0],f.current.shift(),f.current.length)v(x||_);else{let E=y.slice();c.current.toStrings=()=>E,c.current.matches=T=>$l(E,T),c.current.getValues=()=>[uS(E.toStrings)],a.current.forEach(T=>{let O=T.current.selection;T.current.toStrings=()=>[Gm(c.current,O)],T.current.matches=k=>$l([Gm(c.current,O)],k),T.current.getValues=()=>[uS(Gm(c.current,O))]}),(_||x)&&d({...c.current,silent:c.current})}};f.current.length===1&&v()},[n]);return[u,h]},sye=(e,t,n,{message:r="",delay:i=null,...s}={delay:null})=>{p.useEffect(()=>{let o;return t.matches(n)&&(o=setTimeout(()=>e({type:"",...s}),i??0)),()=>{o&&clearTimeout(o)}},[t,n,i,e,r,s])},Hi=(e,t,{shallow:n=!0}={})=>{let r=p.useMemo(()=>Gm(e,t),[e,t]),i=p.useRef({lastMessageTreatedRef:e?.lastMessageTreatedRef,exitActionsRef:e?.exitActionsRef,transitionActionsRef:e?.transitionActionsRef,entryActionsRef:e?.entryActionsRef,toStrings:()=>[r],matches:o=>$l([r],o),selection:t,getValues:()=>[uS(r)]}),s=p.useRef(Symbol());return Tn(()=>{e.selectorsRef.current.find(a=>a.id===s.current)||e.selectorsRef.current.push(i)},[]),p.useMemo(()=>({...i.current,silent:i.current}),[r])},$l=(e,t)=>Array.isArray(t)?t.some(n=>e.includes(n))||e.some(n=>t.some(r=>n?.startsWith(r)&&n?.charAt(r.length)===".")):e.includes(t)||e.some(n=>n?.startsWith(t)&&n?.charAt(t.length)==="."),Ge=(e,t,n)=>{let{state:r,callback:i,params:s,empty:o=!1}=n,a=!n.hasOwnProperty("guard")||n.guard,l=p.useMemo(()=>s?Object.values(s):[],[s]),c=p.useMemo(()=>t.entryActionsRef,[t]),u=O9(e==="before-paint"?"layout":"normal"),d=yG(h=>{(h?.matches&&h?.matches(r)||!h?.matches&&$l(h,r))&&(typeof a=="function"&&a()||typeof a!="function"&&a)&&i(h.lastMessageTreatedRef.current,s)}),f=p.useRef(Symbol());u(()=>{if(!o)if(e==="immediate"){let h={id:f.current,state:r,guard:a,callback:i,params:s},m=c.current.findIndex(v=>v.id===f.current);m===-1?c.current.push(h):c.current[m]=h}else d(t)},e==="immediate"?[e,r,a,i,c,...l]:[e,d,t]),p.useEffect(()=>()=>{c.current=c.current.filter(h=>h.id!==f.current)},[])},wt=(e,t)=>{let{state:n,transition:r,callback:i,params:s}=t,o=!t.hasOwnProperty("guard")||t.guard,a=p.useMemo(()=>s?Object.values(s):[],[s]),l=p.useMemo(()=>e.transitionActionsRef,[e]),c=p.useRef(Symbol());p.useEffect(()=>{let u={id:c.current,state:n,transition:r,guard:o,callback:i,params:s},d=l.current.findIndex(f=>f.id===c.current);d===-1?l.current.push(u):l.current[d]=u},[n,r,o,i,l,...a]),p.useEffect(()=>()=>{l.current=l.current.filter(u=>u.id!==c.current)},[])},oa=(e,t,n)=>{let{state:r,callback:i,params:s}=n,o=!n.hasOwnProperty("guard")||n.guard,a=p.useMemo(()=>s?Object.values(s):[],[s]),l=p.useMemo(()=>t.exitActionsRef,[t]),c=O9("normal");yG(d=>{(d?.matches&&d?.matches(r)||!d?.matches&&$l(d,r))&&(typeof o=="function"&&o()||typeof o!="function"&&o)&&i(d.lastMessageTreatedRef.current,s)});let u=p.useRef(Symbol());c(()=>{{let d={id:u.current,state:r,guard:o,callback:i,params:s},f=l.current.findIndex(h=>h.id===u.current);f===-1?l.current.push(d):l.current[f]=d}return()=>{}},[e,r,o,i,l,...a]),p.useEffect(()=>()=>{l.current=l.current.filter(d=>d.id!==u.current)},[])},Mr=(e,t,n)=>{let{state:r,callback:i,params:s,name:o}=n,a=!n.hasOwnProperty("guard")||n.guard,l=s?Object.values(s):[],c=typeof e=="string"?e:e.start,u=typeof e=="string"?e:e.update,d=p.useRef(null);Ge("immediate",t,{state:r,guard:a,callback:p.useCallback(()=>{d.current=i(null,s)},[i,s]),params:s,empty:c!=="immediate"});let f=O9(u==="before-paint"?"layout":"normal"),h=p.useRef(!1);f(()=>{let m,v=t?.matches&&t?.matches(r)||!t?.matches&&$l(t,r)||r==="",_=typeof a=="function"&&a()||typeof a!="function"&&a;return v&&_&&(m=c==="immediate"?h.current?i(null,s):d.current:i(null,s)),v&&!h.current&&(h.current=!0),()=>{var y;((y=t.silent)===null||y===void 0?void 0:y.matches(r))||(h.current=!1,d.current=null),m?.()}},[r!==""?t:null,r,a,i,...l])},oye=e=>{let t=p.useRef({value:e}),[n,r]=p.useState({value:e,silent:t.current}),i=p.useCallback(s=>{let o=typeof s=="function"?s(t.current.value):s;t.current.value=o,r({value:o,silent:t.current})},[]);return[n,i]};function bG(...e){return t=>e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}function $r(...e){return p.useCallback(bG(...e),e)}var aye=(e,t)=>{let n=()=>{t?.()},r=s=>{s.preventDefault(),window.addEventListener("touchend",n,{once:!0})},i=e.current;return i.addEventListener("touchstart",r,{passive:!1}),()=>{i&&(i.removeEventListener("touchstart",r,{passive:!1}),window.removeEventListener("touchend",n))}};let Cb=!1,kI=0;function cc(e){var t;if(p.useId!==void 0)return p.useId();let[n,r]=p.useState(Cb?++kI:null);return Tn(()=>{n===null&&r(++kI)},[]),p.useEffect(()=>{Cb===!1&&(Cb=!0)},[]),(t=n)!==null&&t!==void 0?t:void 0}let Zn=p.forwardRef((e,t)=>{let{children:n,...r}=e,i=p.Children.toArray(n),s=i.find(cye);if(s){let o=s.props.children,a=i.map(l=>l!==s?l:p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null);return g.jsx(dS,{...r,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return g.jsx(dS,{...r,ref:t,children:n})});Zn.displayName="Slot.Root";let dS=p.forwardRef((e,t)=>{let{children:n,...r}=e,i=function(s){var o,a;let l=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))===null||o===void 0?void 0:o.get,c=l&&"isReactWarning"in l&&l.isReactWarning;return c?s.ref:(c=(l=(a=Object.getOwnPropertyDescriptor(s,"ref"))===null||a===void 0?void 0:a.get)&&"isReactWarning"in l&&l.isReactWarning)?s.props.ref:s.props.ref||s.ref}(n);return p.isValidElement(n)?p.cloneElement(n,{...function(s,o){let a={...o};for(let l in o){let c=s[l],u=o[l];/^on[A-Z]/.test(l)?c&&u?a[l]=(...f)=>{u(...f),c(...f)}:c&&(a[l]=c):l==="style"?a[l]={...c,...u}:l==="className"&&(a[l]=[c,u].filter(Boolean).join(" "))}return{...s,...a}}(r,n.props),ref:t?bG(t,i):i}):p.Children.count(n)>1?p.Children.only(null):null});dS.displayName="Slot.Anonymous";let lye=({children:e})=>g.jsx(g.Fragment,{children:e});function cye(e){return p.isValidElement(e)&&e.type===lye}let Yp=0,CG=[0,0],fS=!1,TI=()=>{clearTimeout(mI),fS=!0,mI=setTimeout(()=>fS=!1,50)},OI=()=>{fS||window.scrollTo(...CG)},SG=Le.forwardRef((e,t)=>{let{asChild:n,active:r=!0,automaticallyDisabledForOptimisation:i=!0,axis:s="both",preventBodyScroll:o,children:a,"data-silk":l,className:c,...u}=e,d=l?.includes("0ae"),f=p.useRef(null),h=$r(f,t);Tn(()=>{if(CG=[window.screenX,window.scrollY],r&&o)if(Yp===0){let y=window.innerWidth,b=document.documentElement.clientWidth,C=window.innerHeight,S=document.documentElement.clientHeight;document.body.style.setProperty("overflow","hidden");let x=`${y-b}px`,w=`${C-S}px`;document.querySelectorAll("[data-silk~='0al']").forEach(T=>{T.style.setProperty("--x-collapsed-scrollbar-thickness",x),T.style.setProperty("--y-collapsed-scrollbar-thickness",w)}),document.body.style.setProperty("padding-right",x),document.body.style.setProperty("padding-bottom",w),window.addEventListener("resize",TI),window.addEventListener("scroll",OI,{passive:!1}),Yp++}else Yp++;return()=>{if(r&&o&&--Yp==0){let y=document.querySelectorAll("[data-silk~='0al']");document.body.style.removeProperty("overflow"),y.forEach(b=>{b.style.removeProperty("--x-collapsed-scrollbar-thickness"),b.style.removeProperty("--y-collapsed-scrollbar-thickness")}),document.body.style.removeProperty("padding-right"),document.body.style.removeProperty("padding-bottom"),window.removeEventListener("scroll",OI),window.removeEventListener("resize",TI)}}},[o,r]),p.useEffect(()=>{let y,b=f.current;return!d&&r&&b&&(y=new ResizeObserver(C=>{C.forEach(()=>{b.scrollTo(300,300)})})).observe(b,{box:"border-box"}),()=>{!d&&r&&b&&y&&(y.unobserve(b),y.disconnect())}},[r,d]);let m=p.useCallback(y=>{let b=y.currentTarget;b.scrollTo(300,300),hn!=="ios"&&hn!=="ipados"||CSS.supports("overscroll-behavior: contain")||(b.style.setProperty("overflow","hidden"),setTimeout(()=>{b.style.setProperty("overflow","auto")},10))},[]),v=n?Zn:"div",_=Yn("ScrollTrap",{active:r,automaticallyDisabledForOptimisation:i,axis:s});return g.jsx(v,{..._("root",["active","automaticallyDisabledForOptimisation","axis"],{className:c,dataSilk:[l,"0ac","0ae"]}),onScroll:d?void 0:m,...u,ref:h,children:a})});SG.displayName="Sheet.Anonymous";let wG=Le.forwardRef((e,t)=>{let{asChild:n,className:r,dataSilk:i,children:s,...o}=e,a=n?Zn:"div",l=Yn("ScrollTrap",{});return g.jsx(a,{...l("stabiliser",[],{className:r,dataSilk:[i]}),...o,ref:t,children:s})});wG.displayName="Sheet.DDD";let xo={Root:SG,Stabiliser:wG},EG=()=>{let e=cc();return p.useCallback(n=>{n?rt.addFixedComponent({id:e,element:n}):rt.removeFixedComponent(e)},[e])},uye=Le.forwardRef((e,t)=>{let{asChild:n,children:r,className:i,"data-silk":s,...o}=e,a=EG(),l=$r(a,t),c=Yn("Fixed",{});return g.jsx(xo.Root,{...c("root",[],{className:i,dataSilk:[s,"0al"]}),asChild:n,...o,ref:l,children:r})});uye.displayName="Fixed.Root";let dye=Le.forwardRef((e,t)=>{let{asChild:n,children:r,...i}=e;return g.jsx(xo.Stabiliser,{asChild:n,...i,ref:t,children:r})});dye.displayName="Fixed.Content";let Ga=Le.createContext(null);Ga.displayName="Sheet.GenericContext";let hs=Le.createContext(null);hs.displayName="Sheet.Anonymous";var fye=function(e){let t="cubic-bezier(";if(!e.startsWith(t))return null;let n=e.slice(t.length,-1),r=n.split(",").map(i=>parseFloat(i.trim()));return r.length!==4||r.some(isNaN)?null:r},hye=({mass:e,stiffness:t,damping:n,initialVelocity:r=0,fromPosition:i,toPosition:s,precision:o})=>{let a=[],l=0,c=Math.abs(s-i),u=0,d=r,f=!1,h=!1,m=-(1e-6*t),v=-(.001*n),_=o/22,y=10*o;for(;!(f&&h);){let C=m*(u-c),S=v*d,x=(C+S)/e;d+=x,u+=d,f=Math.abs(d)<=_,h=Math.abs(c-u)<=y;let w=u/c;a.push(w),l++}return{progressValuesArray:a,duration:l}};let Hm=()=>CSS.supports("transition-timing-function","linear(0, 1)")&&!wa(),pye=({origin:e=0,destination:t=1,animationConfig:n})=>{var r,i,s,o,a,l,c,u,d;let f=[],h;if(n&&n.easing&&n.easing!=="spring")if(n.easing==="linear"){h=(l=n.duration)!==null&&l!==void 0?l:250;let m=h,v=1/(m-1);for(let _=0;_<m;_++){let y=_*v;f.push(isNaN(y)?0:y)}}else{let m;h=(c=n.duration)!==null&&c!==void 0?c:250;let v=h;m=n.easing==="ease"?[.25,.1,.25,1]:n.easing==="ease-in"?[.42,0,1,1]:n.easing==="ease-out"?[0,0,.58,1]:n.easing==="ease-in-out"?[.42,0,.58,1]:n.easing.startsWith("cubic-bezier")&&(u=fye(n.easing))!==null&&u!==void 0?u:[.25,.1,.25,1];let _=A_e(...m);for(let y=0;y<=v;y++)f.push(_(y/v))}else{let m=hye({stiffness:(r=n?.stiffness)!==null&&r!==void 0?r:300,damping:(i=n?.damping)!==null&&i!==void 0?i:34,mass:(s=n?.mass)!==null&&s!==void 0?s:1,initialVelocity:(o=n?.initialVelocity)!==null&&o!==void 0?o:0,precision:(a=n?.precision)!==null&&a!==void 0?a:.1,fromPosition:e,toPosition:t});f=m.progressValuesArray,h=m.duration}return{progressValuesArray:f,easing:"linear",duration:h,delay:(d=n?.delay)!==null&&d!==void 0?d:0}},Sb=(e,t)=>{let n={};return e.forEach(([r,i])=>{let s=Eu(t);n[r]=i({progress:t,tween:s})}),n},AI=({type:e,progressValuesArray:t,target:n,templatesPerProperty:r,reversedStackingIndex:i,selfAndAboveTravelProgressSum:s})=>{let o=i!=null,a=l=>e==="travel"?l:o&&s?s?.[i]+l:0;return{target:n,keyframes:Hm()?[Sb(r,a(t[0])),Sb(r,a(t[t.length-1]))]:t.map(l=>Sb(r,a(l)))}},mye=({sheetId:e,destinationDetent:t,setSegment:n,viewElement:r,scrollContainer:i,travellingElement:s,contentPlacement:o,positionToScrollTo:a,scrollAxis:l,animationConfig:c,onTravel:u,onTravelStart:d,onTravelEnd:f,runOnTravelStart:h,rAFLoopEndCallback:m,dimensions:v,trackToTravelOn:_})=>{let y,b,C=rt.findSheet(e);if(!C)return;let S=[],x=[];S=C.travelAnimations,C.belowSheetsInStack.forEach(J=>{x.push(...J.stackingAnimations.map(Y=>({...Y,reversedStackingIndex:C.belowSheetsInStack.length-1,selfAndAboveTravelProgressSum:J.selfAndAboveTravelProgressSum})))}),h&&d?.();let w=!(c.hasOwnProperty("contentMove")&&!c.contentMove),E=v.current.view.travelAxis.unitless,T=v.current.content.travelAxis.unitless,O=r.getBoundingClientRect(),k=s.getBoundingClientRect(),A=o!=="center"?T:T+(E-T)/2,I=k.top-O.top,D=k.left-O.left,N=0;switch(_){case"top":N=I+A;break;case"bottom":N=I-A;break;case"left":N=D+A;break;case"right":N=D-A}let R=Math.max(Math.abs(N)/A,0),F=v.current.progressValueAtDetents[t].exact,j=F*A,H=_==="left"||_==="top"?j:-j,{progressValuesArray:U,easing:M,duration:me,delay:de}=pye({origin:N,destination:H,animationConfig:c}),P=F-R,Ce=function(J,Y){let _e=[];for(let re=0;re<J.length-1;re+=Y)_e.push(J[re]);return J.length%Y!=0&&_e.push(J[J.length-1]),_e}(U,8),Se=Ce.map(J=>R+P*J),ne=[];S.length&&ne?.push(...S.map(J=>AI({type:"travel",progressValuesArray:Se,target:J.target,templatesPerProperty:J.config}))),x.length&&ne?.push(...x.map(J=>AI({type:"stacking",progressValuesArray:Se,target:J.target,templatesPerProperty:J.config,reversedStackingIndex:J.reversedStackingIndex,selfAndAboveTravelProgressSum:J.selfAndAboveTravelProgressSum}))),y=l==="x"?"X":"Y";let ue=J=>({transform:"translate"+y+"("+(N-H)*(1-J)+"px)"});b=Hm()?[ue(Ce[0]),ue(Ce[Ce.length-1])]:Ce.map(J=>({transform:"translate"+y+"("+(N-H)*(1-J)+"px)"}));let te=()=>{i.scrollTo({left:l==="x"?a:0,top:l==="y"?a:0})},xe=J=>{let Y;if(!w)return J();Y=Hm()?s.animate(b,{easing:"linear("+Ce.join(",")+")",duration:me,delay:de}):s.animate(b,{easing:M,duration:me,delay:de});let _e=()=>{J(),Y.removeEventListener("finish",_e)};Y.addEventListener("finish",_e)},oe=J=>{if(!ne.length)return J();let Y=[],_e=Hm();ne?.forEach(({target:re,keyframes:W})=>{let B;B=_e?re.animate(W,{easing:"linear("+Ce.join(",")+")",duration:me,delay:de}):re.animate(W,{easing:M,duration:me,delay:de});let Ie=new Promise(Te=>{let X=()=>{Object.entries(W[W.length-1]).forEach(([L,G])=>{re.style.setProperty((L.startsWith("webkit")||L.startsWith("moz")?"-":"")+L.replace(/[A-Z]/g,"-$&").toLowerCase(),G)}),B.removeEventListener("finish",X),Te()};B.addEventListener("finish",X)});Y.push(Ie)}),Promise.all(Y).then(()=>{J()})},fe=null,le=J=>{(function Y(_e,re,W){let B=v.current.progressValueAtDetents,Ie=B.length;fe||(fe=_e);let Te=_e-fe,X=Math.floor(Te);if(X<U.length){let L=R+P*U[X];if(L<0)re(L,[0,0]);else if(L>1)re(L,[1,1]);else for(let G=0;G<Ie;G++){let $=B[G],se=$.after;L>se&&G+1<Ie&&L<B[G+1].before?re(L,[G,G+1]):L>$.before&&L<se&&re(L,[G,G])}requestAnimationFrame(()=>Y(document.timeline.currentTime,re,W))}else{let L=Math.min(Ie-1,t);re(F,[L,L]),w||ne?.length||m==null||m(),W()}})(document.timeline.currentTime,(Y,_e)=>{u?.({progress:Y,range:{start:_e[0],end:_e[1]},progressAtDetents:v.current.exactProgressValueAtDetents}),n(_e)},J)},we=J=>new Promise(Y=>{J(()=>Y())}),Xe=()=>{f?.()},ce=async()=>{await Promise.all([we(xe),we(oe),we(le)]),Xe()};requestAnimationFrame(()=>{requestAnimationFrame(()=>{te(),ce()})})},gye=({desiredDestinationDetent:e,currentDetent:t})=>typeof e=="number"?e:t,vye=({trackToTravelOn:e,destinationDetent:t,detentCountExcludingZero:n,actualSwipeOutDisabledWithDetent:r,hasOppositeTracks:i,contentPlacement:s,elementsDimensions:o,snapBackAcceleratorTravelAxisSize:a})=>{var l;if(((l=o.detentMarkers)===null||l===void 0?void 0:l.length)<=t-1)return{positionToScrollTo:null,scrollAxis:null};let c=t===0,u=t===1,d=t===n,f=e==="right"||e==="bottom",h=o.view.travelAxis.unitless,m=o.content.travelAxis.unitless,v=o.snapOutAccelerator.travelAxis.unitless,_=o.detentMarkers,y=c?0:_[t-1].accumulatedOffsets.travelAxis.unitless,b=0;if(i)d?b=h-(h-m)/2+o.snapOutAccelerator.travelAxis.unitless:c&&(b=f?0:1e4);else if(f)d?b=1e4:r&&u||c?b=0:d||r&&u||c||(b=r?_[t-1].accumulatedOffsets.travelAxis.unitless-_[0].travelAxis.unitless:y+v);else if(e==="left"||e==="top"){let C;C=r&&u?2*a:d?0:a,b=s==="center"?t===0?m+(h-m)/2-y+C:0:m-y+C}return{positionToScrollTo:b,scrollAxis:e==="left"||e==="right"||e==="horizontal"?"x":"y"}};var _ye=({destinationDetent:e,behavior:t="instant",runTravelCallbacksAndAnimations:n=!0,runOnTravelStart:r,animationConfig:i,rAFLoopEndCallback:s,trackToTravelOn:o,contentPlacement:a,onTravel:l,onTravelStart:c,onTravelEnd:u,fullTravelCallback:d,setProgrammaticScrollOngoing:f,currentDetent:h,segment:m,setSegment:v,lastProgressValue:_,dimensions:y,viewRef:b,scrollContainerRef:C,contentWrapperRef:S,sheetId:x,stackId:w,actualSwipeOutDisabledWithDetent:E,hasOppositeTracks:T,snapBackAcceleratorTravelAxisSize:O})=>{if(e===void 0&&h===null)return;let k=y.current,A=C.current;if(A&&k.content){let I=gye({desiredDestinationDetent:e,currentDetent:h}),D=y.current.detentMarkers.length,{positionToScrollTo:N,scrollAxis:R}=vye({destinationDetent:I,detentCountExcludingZero:D,trackToTravelOn:o,actualSwipeOutDisabledWithDetent:E,hasOppositeTracks:T,contentPlacement:a,snapBackAcceleratorTravelAxisSize:O,elementsDimensions:k});if(N!==null&&R!==null){if(f(!0),t==="smooth")mye({sheetId:x,destinationDetent:I,setSegment:v,viewElement:b.current,scrollContainer:A,travellingElement:S.current,positionToScrollTo:N,contentPlacement:a,scrollAxis:R,animationConfig:i,onTravel:l,onTravelStart:c,onTravelEnd:u,runOnTravelStart:r,rAFLoopEndCallback:s,dimensions:y,trackToTravelOn:o});else if(n&&r&&c?.(),R==="x"?(A.scrollTo(N,0),A.scrollLeft=N):(A.scrollTo(0,N),A.scrollTop=N),v([I,I]),n){let F=y.current.progressValueAtDetents[I].exact;d?.(F,m),u?.()}}}};let $d=e=>{let t=p.useRef(null);return Tn(()=>{t.current=e}),p.useCallback((...n)=>{let r=t.current;return r(...n)},[])},yye=e=>{let t,n=()=>{e(),t=requestAnimationFrame(n)};return n(),()=>{cancelAnimationFrame(t)}},bye=(()=>{let e=!0;typeof window>"u"||CSS.supports("scroll-snap-align: start")||(e=!1);let t=!0;return typeof window>"u"||"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype||(t=!1),e&&t})(),j1={gentle:{stiffness:560,damping:68,mass:1.85},smooth:{stiffness:580,damping:60,mass:1.35},snappy:{stiffness:350,damping:34,mass:.9},brisk:{stiffness:350,damping:28,mass:.65},bouncy:{stiffness:240,damping:19,mass:.7},elastic:{stiffness:260,damping:20,mass:1}},wb=(e,t)=>{var n;let r=typeof e=="string",i=r?j1[e]:(n=j1[e?.preset])!==null&&n!==void 0?n:null,s=i||e?.easing==="spring"||["ease","ease-in","ease-out","ease-in-out","linear"].includes(e?.easing);return{skip:T9,easing:"spring",...r?{}:e,...i??{},...s?{}:t}},Cye=(e,t)=>e.includes("skipOpening:true")||t.skipOpening,II=(e,t)=>!e.includes("skipOpening:true")&&!t.skipOpening,Sye=(e,t)=>e.includes("skipClosing:true")||t.skipClosing,wye=(e,t)=>!e.includes("skipClosing:true")&&!t.skipClosing,MI=e=>e.includes("openness:closed.status:safe-to-unmount"),Eye=()=>{let e="false",[t,n]=xI(p.useMemo(()=>[{name:"staging",initial:"none",states:{none:{messages:{OPEN:[{guard:(m,v)=>MI(m)&&II(m,v),target:"opening"},{guard:MI,target:"open"}],OPEN_PREPARED:[{guard:II,target:"opening"},{target:"open"}],ACTUALLY_CLOSE:[{guard:wye,target:"closing"}],ACTUALLY_STEP:"stepping",GO_DOWN:[{guard:(m,v)=>!v.skipOpening,target:"going-down"},{target:"go-down"}],GO_UP:"going-up"}},open:{messages:{NEXT:"none"}},opening:{messages:{NEXT:"none"}},stepping:{messages:{NEXT:"none"}},closing:{messages:{NEXT:"none"}},"go-down":{messages:{NEXT:"none"}},"going-down":{messages:{NEXT:"none"}},"going-up":{messages:{NEXT:"none"}}}},{name:"longRunning",initial:e,states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"openness",initial:"closed",states:{closed:{messages:{READY_TO_OPEN:[{guard:(m,v)=>!v.skipOpening,target:"opening"},{target:"open"}]},machines:{name:"status",initial:"safe-to-unmount",states:{pending:{messages:{OPEN:[{guard:Cye,target:"openness:closed.status:flushing-to-preparing-open"},{target:"openness:closed.status:flushing-to-preparing-opening"}],"":"safe-to-unmount"}},"flushing-to-preparing-open":{messages:{"":"preparing-open"}},"flushing-to-preparing-opening":{messages:{"":"preparing-opening"}},"preparing-open":{},"preparing-opening":{},"safe-to-unmount":{}}}},opening:{messages:{NEXT:"open"}},open:{messages:{ACTUALLY_CLOSE:[{guard:Sye,target:"openness:closed.status:pending"}],SWIPED_OUT:"openness:closed.status:pending",READY_TO_CLOSE:[{guard:(m,v)=>!v.skipClosing,target:"closing"}]},machines:[{name:"scroll",initial:"ended",states:{ended:{messages:{SCROLL_START:"ongoing"},machines:[{name:"afterPaintEffectsRun",initial:"false",states:{false:{messages:{OCCURRED:"true"}},true:{}}}]},ongoing:{messages:{SCROLL_END:"ended"}}}},{name:"move",initial:"ended",states:{ended:{messages:{MOVE_START:"ongoing"}},ongoing:{messages:{MOVE_END:"ended"}}}},{name:"swipe",silentOnly:!0,initial:"unstarted",states:{unstarted:{messages:{SWIPE_START:"ongoing"}},ongoing:{messages:{SWIPE_END:"ended"}},ended:{messages:{SWIPE_START:"ongoing",SWIPE_RESET:"unstarted"}}}},{name:"evaluateCloseMessage",silentOnly:!0,initial:"false",states:{false:{messages:{CLOSE:"true"}},true:{messages:{CLOSE:"false"}}}},{name:"evaluateStepMessage",silentOnly:!0,initial:"false",states:{false:{messages:{STEP:"true"}},true:{messages:{STEP:"false"}}}}]},closing:{messages:{NEXT:"openness:closed.status:pending"}}}},{name:"skipOpening",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"skipClosing",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"scrollContainerTouch",silentOnly:!0,initial:"ended",states:{ended:{messages:{TOUCH_START:"ongoing"}},ongoing:{messages:{TOUCH_END:"ended"}}}},{name:"backStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}},{name:"frontStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}}],[e])),[r,i]=xI(p.useMemo(()=>[{name:"active",initial:"false",states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"position",initial:"out",states:{out:{messages:{READY_TO_GO_FRONT:[{guard:(m,v)=>v.skipOpening,target:"position:front.status:idle"},{target:"position:front.status:opening"}]}},front:{machines:[{name:"status",initial:"opening",states:{opening:{messages:{NEXT:"idle"}},closing:{messages:{NEXT:"position:out"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(m,v)=>v.skipOpening,target:"position:covered.status:idle"},{target:"position:covered.status:going-down"}],READY_TO_GO_OUT:"closing",GO_OUT:"position:out"}}}}]},covered:{machines:[{name:"status",initial:"going-down",states:{"going-down":{messages:{NEXT:"idle"}},"going-up":{messages:{NEXT:"indeterminate"}},indeterminate:{messages:{GOTO_idle:"idle",GOTO_front:"position:front.status:idle"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(m,v)=>v.skipOpening,target:"come-back"},{target:"going-down"}],READY_TO_GO_UP:"going-up",GO_UP:"indeterminate"}},"come-back":{messages:{"":"idle"}}}}]}}}],[])),s=p.useMemo(()=>r.matches("position:out")?"out":r.matches("position:front")?"front":r.matches("position:covered")?"covered":void 0,[r]),o=p.useMemo(()=>r.matches("position:covered.status:idle")?"idle":r.matches("position:covered.status:going-down")?"going-down":r.matches("position:covered.status:going-up")?"going-up":null,[r]),a=Hi(t,"staging"),l=p.useMemo(()=>a.getValues()[0],[a]),[c,u]=oye(-1),d=cc(),f=cc();return p.useMemo(()=>({titleId:d,descriptionId:f,staging:l,opennessState:t,sendToOpennessMachine:n,positionState:r,sendToPositionMachine:i,layerPosition:s,layerCovered:o,stackingIndex:c,assignStackingIndex:u}),[d,f,l,t,n,r,i,s,o,c,u])},xG=Le.forwardRef((e,t)=>{let n,{forComponent:r,as:i,children:s,className:o,"data-silk":a,initialState:l,onPresentAutoFocus:c,onDismissAutoFocus:u,onTravelStatusChange:d,onTravelRangeChange:f,swipeDismissal:h=!0,swipe:m=!0,snapOutAcceleration:v="auto",snapToEndDetentsAcceleration:_="auto",onTravel:y,onTravelStart:b,onTravelEnd:C,detents:S,inertOutside:x=!0,nativeEdgeSwipePrevention:w=!1,onSwipeFromEdgeToGoBackAttempt:E,onClickOutside:T,onEscapeKeyDown:O,onFocusInside:k,nativeFocusScrollPrevention:A=!0,contentPlacement:I=null,tracks:D,swipeOvershoot:N=!0,swipeTrap:R,enteringAnimationSettings:F,exitingAnimationSettings:j,steppingAnimationSettings:H,id:U,...M}=e,me=r??Ga,de=p.useContext(me)||{},{license:P,StackContext:Ce,CustomSheetContext:Se,sheetRole:ne,open:ue,onOpenChange:te,elementFocusedLastBeforeShowing:xe,onSafeToUnmountChange:oe,setLongRunning:fe,setStaging:le,defaultActiveDetent:we,activeDetent:Xe,onActiveDetentChange:ce,sheetId:J}=de,{titleId:Y,descriptionId:_e,staging:re,opennessState:W,sendToOpennessMachine:B,positionState:Ie,sendToPositionMachine:Te,layerCovered:X,stackingIndex:L,assignStackingIndex:G}=Eye(),$=Hi(W,"staging"),{stackId:se,setSheetsCount:Me,updateSheetStagingDataInStack:it,removeSheetStagingDataInStack:ht,updateSheetDataInStack:at,removeSheetDataFromStack:nt,getPreviousSheetDataInStack:St}=Ce?p.useContext(Ce):{},{ancestorPrimarySwipeTrapActiveOnYAxis:Tt}=p.useContext(hs)||{},Pt=EG(),gt=p.useRef(null),yn=$r(gt,Pt,t),Mn=p.useRef(null),Rn=p.useRef(null),zt=p.useRef(null),Di=p.useRef(null),gn=p.useRef(null),Yo=p.useRef(null),Ad=p.useRef(null),Ic=p.useRef([]),Yr=p.useMemo(()=>S?typeof S=="string"?[S,"var(--silk-aF)"]:[...S,"var(--silk-aF)"]:["var(--silk-aF)"],[S]),Zo=p.useRef(null);p.useEffect(()=>{Zo.current===null&&Number.isInteger(Xe)&&Xe>0&&(Zo.current=Xe)},[]);let Un=p.useMemo(()=>Number.isInteger(we)?we:Number.isInteger(Xe)&&Xe>0?Xe:Zo.current?Zo.current:1,[Xe,we]),{actualTrack:We,actualPlacement:rn}=p.useMemo(()=>{let z={actualPlacement:null,actualTrack:null};return I&&!D?(z.actualPlacement=I,I!=="center"?z.actualTrack=I:z.actualTrack="bottom"):D&&!I?Array.isArray(D)?(z.actualPlacement="center",z.actualTrack=D.includes("left")?"horizontal":"vertical"):(z.actualPlacement=D,z.actualTrack=D):D||I?D&&I&&(z.actualPlacement=I,Array.isArray(D)?z.actualTrack=D.includes("left")?"horizontal":"vertical":z.actualTrack=D):(z.actualPlacement="bottom",z.actualTrack="bottom"),[{state:"staging:opening",configTrack:F?.track},{state:"staging:closing",configTrack:j?.track}].forEach(({state:ie,configTrack:ae})=>{W.matches(ie)&&ae&&(ae==="top"&&z.actualTrack==="bottom"||ae==="bottom"&&z.actualTrack==="top"?z.actualTrack="vertical":(ae==="left"&&z.actualTrack==="right"||ae==="right"&&z.actualTrack==="left")&&(z.actualTrack="horizontal"))}),z},[I,D,F?.track,j?.track,W]);p.useMemo(()=>We==="horizontal",[We]);let H0=p.useMemo(()=>We==="vertical",[We]);p.useEffect(()=>{if(I?.includes("top")&&D&&D!=="top"||I?.includes("bottom")&&D&&D!=="bottom"||!I?.includes("center")&&D&&D.includes("top")&&D.includes("bottom")||I?.includes("left")&&D&&D!=="left"||I?.includes("right")&&D&&D!=="right"||!I?.includes("center")&&D&&D.includes("left")&&D.includes("right"))throw Error(`'placement' prop value '${I}' cannot be used with 'tracks' prop value '${D}'.`)},[I,D]);let no=p.useMemo(()=>F?.track||(We==="horizontal"?"right":We==="vertical"?"bottom":We),[F?.track,We]),Zr=p.useMemo(()=>wb(F,j1.smooth),[F]),Oe=p.useMemo(()=>wb(j,{easing:"spring",stiffness:520,damping:44,mass:1}),[j]),Ft=p.useMemo(()=>wb(H??F,j1.smooth),[H,F]),bt=p.useMemo(()=>ne==="alertdialog"||!h,[h,ne]),pt=(We!=="horizontal"&&We!=="vertical"||!!bt)&&!N,[st,Et,Jn,bn]=p.useMemo(()=>{let z=!1,Q=!1,ie=!1,ae=!1;return m&&bye?bt&&(S?(ie=!0,W.matches("openness:open")&&!W.matches("staging:closing")&&(Q=!0)):W.matches("openness:open")&&!W.matches("staging:closing")&&(pt===!1&&wa()?ae=!0:z=!0)):W.matches("openness:closed")||(z=!0),[z,Q,ie,ae]},[m,W,bt,S,pt]),Es=p.useMemo(()=>$.getValues()[0]!=="none",[$]),xs=["right","left","horizontal"].includes(We)?"horizontal":"vertical",[Jo,ol]=p.useState(!1),[al,Jr]=p.useState(!1),ll=p.useMemo(()=>!x&&(x?void 0:Jo!==!0),[x,Jo]),Ar=p.useMemo(()=>pt===!0?_==="auto"?10:1:0,[pt,_]),Li=p.useRef(null);p.useEffect(()=>(J&&(Li.current=rt.addSheet({id:J,stackId:se,stackingIndex:-1,sendToOpennessMachine:B})),()=>{J&&rt.attemptToRemoveSheetOrCleanup(J)}),[B,J,se]),p.useEffect(()=>(A&&rt.addNativeFocusScrollPreventer(J),()=>{A&&rt.removeNativeFocusScrollPreventer(J)}),[A,J]);let Ye=p.useMemo(()=>St?.(J),[St,J]),[Mc,kK]=p.useState(null),Rc=p.useMemo(()=>y&&Mc?z=>{Mc(z),y(z)}:y&&!Mc?y:!y&&Mc?Mc:null,[y,Mc]),Id=p.useCallback(()=>{C?.();let z=Qt.current.exactProgressValueAtDetents[jt.current[0]];ea.current=z,rt.updateSheetTravelProgress(J,z)},[C,J]),ro=p.useMemo(()=>{let z;if(L.value>0)z=Rc?(Q,ie)=>{Rc({progress:Q,range:ie,progressAtDetents:Qt.current.exactProgressValueAtDetents});let ae=Eu(Q);Li.current.aggregatedTravelCallback(Q,ae)}:Q=>{let ie=Eu(Q);Li.current.aggregatedTravelCallback(Q,ie)};else{let Q=rt.getAggregatedStackingCallbackForSheetsBelow(J);z=Q?Rc?(ie,ae)=>{Rc({progress:ie,range:ae,progressAtDetents:Qt.current.exactProgressValueAtDetents});let ze=Eu(ie);Li.current.aggregatedTravelCallback(ie,ze),Q(ie,ze)}:ie=>{let ae=Eu(ie);Li.current.aggregatedTravelCallback(ie,ae),Q(ie,ae)}:()=>{}}return z},[L.value,Rc,J]),Md=p.useRef(!1),ZE=p.useMemo(()=>{let z;return We==="bottom"||We==="vertical"?z="translateY(-2px)":We==="top"?z="translateY(2px)":We==="right"||We==="horizontal"?z="translateX(-2px)":We==="left"&&(z="translateX(2px)"),Q=>{Q>0&&Q<1&&!Md.current?(gn.current.style.setProperty("transform",z),Md.current=!0):(Q>1||Q<=0)&&Md.current&&(gn.current.style.removeProperty("transform"),Md.current=!1)}},[We]),dp=p.useMemo(()=>bn?z=>ZE(z):ro,[ZE,bn,ro]),[Rd,fp]=p.useState("both"),JE=cG(gt);p.useEffect(()=>{var z,Q;let ie,ae,ze;if(typeof R=="boolean")ie={x:R,y:R};else{let{x:Nn,y:fr}=R||{};ie={x:Nn,y:fr}}let Ze=(hn==="ios"||hn==="ipados")&&x&&!Tt,Ct=uG();xs==="vertical"&&(ae=ie.x,ze=!!Ze||!Ct&&((z=ie.y)===null||z===void 0||z)),xs==="horizontal"&&(ze=!!Ze||ie.y,ae=(Q=ie.x)===null||Q===void 0||Q),ze=!!ze||JE,fp(ae&&!ze?"horizontal":!ae&&ze?"vertical":ae&&ze?"both":"none")},[Tt,x,R,JE,xs]);let Qt=p.useRef({}),[QE,TK]=p.useState(0),[OK,AK]=p.useState(()=>()=>({top:null,bottom:null})),V0=p.useRef([]),jt=p.useRef([0,0]),hp=p.useRef(0),Pn=p.useRef(null),$0=p.useRef(()=>{}),pp=p.useRef(!1),XE=p.useRef(!1),W0=p.useCallback(z=>XE.current=z,[]),wr=$d(({destinationDetent:z,trackToTravelOn:Q=We==="vertical"?"bottom":We==="horizontal"?"right":We,behavior:ie="instant",runTravelCallbacksAndAnimations:ae=!0,runOnTravelStart:ze=!0,animationConfig:Ze,rAFLoopEndCallback:Ct,travelEndCallback:Nn})=>{_ye({destinationDetent:z,behavior:ie,runTravelCallbacksAndAnimations:ae,runOnTravelStart:ze,trackToTravelOn:Q,animationConfig:Ze,rAFLoopEndCallback:Ct,onTravel:Rc,onTravelStart:b,onTravelEnd:()=>{Nn?.(),Id()},segment:jt,fullTravelCallback:ro,sheetId:J,stackId:se,dimensions:Qt,snapBackAcceleratorTravelAxisSize:Ar,actualSwipeOutDisabledWithDetent:Et,lastProgressValue:ea,viewRef:gt,scrollContainerRef:zt,contentWrapperRef:gn,currentDetent:jt.current[0]===jt.current[1]?jt.current[0]:null,setSegment:so,setProgrammaticScrollOngoing:W0,contentPlacement:rn,hasOppositeTracks:We==="horizontal"||We==="vertical"})}),IK=p.useCallback(()=>{jt.current[0]===jt.current[1]&&wr({runTravelCallbacksAndAnimations:!1,destinationDetent:jt.current[0]})},[J,We,Et,bn,Ar]),MK=p.useCallback(z=>{at?.({sheetId:J,sendToOpennessMachine:B,sendToPositionMachine:Te})},[at,J,B,Te]),e7=p.useCallback(()=>{nt?.(J)},[nt,J]),t7=p.useMemo(()=>ne==="alertdialog"?()=>{}:()=>B({type:"CLOSE"}),[B,ne]),RK=p.useCallback(()=>{rt.updateLayer({layerId:J,layerContextId:Se,layerStackContextId:Ce,inertOutside:x,onPresentAutoFocus:c,onDismissAutoFocus:u,dismissOverlayIfNotAlertDialog:t7,onClickOutside:T,onEscapeKeyDown:O,viewElement:gt.current,backdropElement:Rn.current,scrollContainerElement:zt.current,elementFocusedLastBeforeShowing:xe.current})},[J,Se,Ce,x,c,u,t7,T,O,xe]),n7=p.useCallback(()=>{rt.removeLayer(J)},[J]),PK=p.useCallback(()=>{let z=ae=>["ArrowDown","ArrowUp","PageDown","PageUp","End","Home"," "].includes(ae.key),Q=ae=>{if(z(ae)){var ze,Ze;(ze=zt.current)===null||ze===void 0||ze.style.setProperty("overflow","hidden"),(Ze=zt.current)===null||Ze===void 0||Ze.style.setProperty("scroll-snap-type","none")}},ie=ae=>{if(z(ae)){var ze,Ze;(ze=zt.current)===null||ze===void 0||ze.style.removeProperty("overflow"),(Ze=zt.current)===null||Ze===void 0||Ze.style.removeProperty("scroll-snap-type")}};return document.addEventListener("keydown",Q),document.addEventListener("keyup",ie),()=>{document.removeEventListener("keydown",Q),document.removeEventListener("keyup",ie)}},[]),Pc=p.useCallback(()=>{G(z=>z+1),rt.updateSheetStackingIndex(J,L.silent.value)},[G,L.silent,J]),Qo=p.useCallback(()=>{G(z=>z-1),rt.updateSheetStackingIndex(J,L.silent.value)},[G,L.silent,J]),mp=Hi(Ie,"active");Mr("after-paint",mp,{state:"active:true",callback:RK}),Mr("after-paint",mp,{state:"active:true",callback:PK}),Ge("after-paint",mp,{state:"active:false",callback:n7});let Nc=Hi(Ie,"position"),Xo=Hi(Ie,"position:covered.status");wt(Nc,{state:"position:out",transition:"READY_TO_GO_FRONT",callback:p.useCallback(z=>{Ye?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:z.skipOpening}),Pc()},[Pc,Ye])}),wt(Ie,{state:"position:front.status:opening",transition:"NEXT",callback:p.useCallback(()=>{Ye?.sendToPositionMachine("NEXT")},[Ye])}),wt(Ie,{state:"position:front.status:idle",transition:"READY_TO_GO_OUT",callback:p.useCallback(()=>{Ye?.sendToPositionMachine("READY_TO_GO_UP")},[Ye])}),wt(Ie,{state:"position:front.status:idle",transition:"GO_OUT",callback:p.useCallback(()=>{ro?.(0,{start:0,end:0}),Id(),Ye?.sendToPositionMachine("GO_UP"),Qo()},[ro,Id,Ye,Qo])}),wt(Ie,{state:"position:front.status:idle",transition:"READY_TO_GO_DOWN",callback:p.useCallback(z=>{Ye?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:z.skipOpening}),Pc()},[Pc,Ye])}),wt(Ie,{state:"position:front.status:closing",transition:"NEXT",callback:p.useCallback(()=>{Ye?.sendToPositionMachine("NEXT"),Qo()},[Ye,Qo])}),wt(Xo,{state:"position:covered.status:going-down",transition:"NEXT",callback:p.useCallback(()=>{Ye?.sendToPositionMachine("NEXT")},[Ye])}),wt(Xo,{state:"position:covered.status:idle",transition:"READY_TO_GO_DOWN",callback:p.useCallback(z=>{Ye?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:z.skipOpening}),Pc()},[Pc,Ye])}),wt(Xo,{state:"position:covered.status:idle",transition:"READY_TO_GO_UP",callback:p.useCallback(()=>{Ye?.sendToPositionMachine("READY_TO_GO_UP")},[Ye])}),wt(Xo,{state:"position:covered.status:idle",transition:"GO_UP",callback:p.useCallback(()=>{Ye?.sendToPositionMachine("GO_UP"),Qo()},[Qo,Ye])}),Ge("immediate",Xo,{state:"position:covered.status:come-back",callback:p.useCallback(()=>Te(""),[Te])}),wt(Xo,{state:"position:covered.status:going-up",transition:"NEXT",callback:p.useCallback(()=>{Ye?.sendToPositionMachine("NEXT"),Qo()},[Ye,Qo])}),Ge("immediate",Xo,{state:"position:covered.status:indeterminate",callback:p.useCallback(()=>{L.silent.value===0?Te("GOTO_front"):Te("GOTO_idle")},[L.silent,Te])});let Dc=p.useCallback(()=>Ye?.sendToOpennessMachine({machine:"staging",type:"NEXT"}),[Ye]),io=p.useCallback((z,{newState:Q})=>{le(Q),it?.({sheetId:J,staging:Q})},[n,le,it,J]),Pd=p.useCallback((z,{newState:Q})=>{d?.(Q)},[d]),so=p.useMemo(()=>{let z=Q=>{hp.current=Q[1],queueMicrotask(()=>{let ie=Q[0],ae=Q[1];(ie!==jt.current[0]||ae!==jt.current[1])&&(jt.current=Q,ie===ae&&(Pn.current===null&&ce?ce(ae):ie===Pn.current&&(Pn.current=null)))})};return f&&pt===!1?z=Q=>{hp.current=Q[1],queueMicrotask(()=>{let ie=Q[0],ae=Q[1];(ie!==jt.current[0]||ae!==jt.current[1])&&(jt.current=Q,f({start:ie,end:ae}),ie===ae&&(Pn.current===null&&ce?ce(ae):ie===Pn.current&&(Pn.current=null)))})}:pt===!0&&(z=Jn?Q=>{hp.current=Q[1],queueMicrotask(()=>{let ie=Q[0],ae=Q[1];if(ie!==jt.current[0]||ae!==jt.current[1]){let ze=Yr.length;Et&&ie===1&&ae===1?B({machine:"backStuck",type:"STUCK_START"}):ie===ze&&ae===ze?B({machine:"frontStuck",type:"STUCK_START"}):Nd.current?B({machine:"frontStuck",type:"STUCK_END"}):vp.current&&B({machine:"backStuck",type:"STUCK_END"}),jt.current=Q,f?.({start:ie,end:ae}),ie===ae&&(Pn.current===null&&ce?ce(ae):ie===Pn.current&&(Pn.current=null))}})}:Q=>{hp.current=Q[1],queueMicrotask(()=>{let ie=Q[0],ae=Q[1];if(ie!==jt.current[0]||ae!==jt.current[1]){let ze=Yr.length;ie===ze&&ae===ze?B({machine:"frontStuck",type:"STUCK_START"}):Nd.current&&B({machine:"frontStuck",type:"STUCK_END"}),jt.current=Q,f?.({start:ie,end:ae}),ie===ae&&(Pn.current===null&&ce?ce(ae):ie===Pn.current&&(Pn.current=null))}})}),z},[f,pt,ce,Jn,Et,Yr.length,B]),cl=p.useCallback(z=>{let Q={destinationDetent:z==="front"?Qt.current.detentMarkers.length:1,runTravelCallbacksAndAnimations:!1};if(wr(Q),wa()){var ie;(ie=zt.current)===null||ie===void 0||ie.style.setProperty("overflow","hidden"),setTimeout(()=>{var ae;(ae=zt.current)===null||ae===void 0||ae.style.removeProperty("overflow")},CSS.supports("overscroll-behavior","none")?1:10)}pp.current=!1},[wr]),r7=p.useCallback((z,Q)=>{let ie=jt.current[0],ae=Q??null;if(ae===null){var ze,Ze;ae=(z??"up")==="up"?(ze=jt.current[0])<Yr.length?ze+1:1:(Ze=jt.current[0])>1?Ze-1:Yr.length}return ae===0||ae===ie?null:ae},[Yr]),i7=p.useCallback(({direction:z,detent:Q,behavior:ie})=>{let ae=()=>{let ze=r7(z,Q);ze&&B({type:"ACTUALLY_STEP",detent:ze,behavior:ie})};W.silent.matches("openness:open.scroll:ended.afterPaintEffectsRun:true")?ae():J0.current=ae},[W.silent,r7,B]),s7=p.useCallback((z,Q)=>{Pn.current=z,ce?.(z),wr({destinationDetent:z,behavior:Q??(Ft.skip?"instant":"smooth"),animationConfig:Ft,travelEndCallback:()=>B({machine:"staging",type:"NEXT"})})},[ce,wr,Ft,B]),o7=p.useCallback((z,Q,ie,ae)=>{let ze;if(z==="auto"){let Ze=ae==="center"?ie+(Q-ie)/2:ie;ze=mo==="chromium"?Ze<=1440?70+.25*Ze:.3*Ze:wa()?hn==="ios"||hn==="ipados"?Ze<=716?15+.1*Ze:.12*Ze:.5*Ze:10}else if(typeof z=="function"){let Ze=parseInt(z(ie),10);ze=Ze<1?1:Ze>ie/2?ie/2:Ze}else z==="initial"&&(ze=1);return ze},[]),a7=p.useCallback(()=>{if(gt.current){let z=(Q,ie)=>gt.current.style.setProperty(Q,ie);z("--silk-aD",Qt.current.view.travelAxis.px),z("--silk-aE",Qt.current.view.crossAxis.px),z("--silk-aF",Qt.current.content.travelAxis.px),z("--silk-aG",Qt.current.content.crossAxis.px),z("--silk-aH",Qt.current.frontSpacer.travelAxis.px),z("--silk-aI",Qt.current.backSpacer.travelAxis.px),z("--silk-aJ",Qt.current.snapOutAccelerator.travelAxis.px),z("--silk-aK",Qt.current.detentMarkers[0].travelAxis.px)}},[]),NK=p.useCallback(z=>{let Q=gt.current,ie=Yo.current,ae=[];Ic.current.forEach(Xt=>{ae.push(window.getComputedStyle(Xt))});let ze=Xt=>parseFloat(Xt),Ze=Xt=>parseInt(Xt,10),Ct=Xt=>We==="right"||We==="left"||We==="horizontal"?Xt==="travelAxis"?"width":"height":Xt==="travelAxis"?"height":"width",Nn=Xt=>{let oo,fl,Fc,ks,tt,jc;return fl=ze(oo=Xt.getPropertyValue(Ct("travelAxis"))),Fc=Ze(oo),tt=Ze(ks=Xt.getPropertyValue(Ct("crossAxis"))),jc=Ze(ks),{travelAxis:{px:oo,unitless:fl,unitlessRoundedDown:Fc},crossAxis:{px:ks,unitless:tt,unitlessRoundedDown:jc}}},fr=()=>{let Xt,oo,fl=window.getComputedStyle(gt.current),Fc=window.getComputedStyle(Yo.current),ks=0;TK(Zt=>Zt+1),Qt.current={view:{...Nn(fl)},scroll:{},snapOutAccelerator:{travelAxis:{}},frontSpacer:{travelAxis:{}},backSpacer:{travelAxis:{}},content:{...Nn(Fc)},detentMarkers:[...ae.map((Zt,yi)=>{let ji=Nn(Zt);return yi!==ae.length-1&&(ks+=ji.travelAxis.unitless),{...ji,accumulatedOffsets:{travelAxis:{px:ks+"px",unitless:ks,unitlessRoundedDown:null}}}})],progressValueAtDetents:[]};let tt=Qt.current;tt.scroll=tt.view;let jc=o7(v,tt.view.travelAxis.unitless,tt.content.travelAxis.unitless,rn);tt.snapOutAccelerator.travelAxis.px=jc+"px",tt.snapOutAccelerator.travelAxis.unitless=jc,tt.snapOutAccelerator.travelAxis.unitlessRoundedDown=Ze(jc);let YK=tt.detentMarkers.length,bp=tt.content.travelAxis.unitless-ks;tt.detentMarkers[YK-1]={travelAxis:{px:bp+"px",unitless:bp,unitlessRoundedDown:null},crossAxis:{px:"1px",unitless:1,unitlessRoundedDown:1},accumulatedOffsets:{travelAxis:{px:ks+bp+"px",unitless:ks+bp,unitlessRoundedDown:null}}};let ev=Zt=>({before:Zt(-2.1),exact:Zt(0),after:Zt(2.1)}),Cp=tt.content.travelAxis.unitless,Bc=[ev(Zt=>Zt/Cp)],g7;tt.detentMarkers.slice(0,-1).forEach(Zt=>{let yi=Zt.accumulatedOffsets.travelAxis.unitless;Bc.push(ev(ji=>(yi+ji)/Cp))}),Bc.push(ev(Zt=>(Cp+Zt)/Cp)),g7=Bc[Un];let v7=V0.current.length>0?V0.current[jt.current[1]]:0,_7=function(Zt,yi){let ji=0;for(let ra=1;ra<yi.length;ra++){let Dd=yi[ra];Math.abs(Dd-Zt)<Math.abs(yi[ji]-Zt)&&(ji=ra)}return ji}(v7??1,Bc.map(Zt=>Zt.exact));so([_7,_7]),tt.progressValueAtDetents=Bc,tt.exactProgressValueAtDetents=Bc.map(Zt=>Zt.exact),V0.current=tt.progressValueAtDetents.map(Zt=>Zt.exact),tt.progressValueAtInitialDetent=g7,Xt=bn?We==="horizontal"||We==="vertical"?tt.view.travelAxis.unitless/2+1:1:Et?tt.content.travelAxis.unitless-Qt.current.detentMarkers[0].travelAxis.unitless+Ar:We==="horizontal"||We==="vertical"?tt.view.travelAxis.unitless/2+tt.view.travelAxis.unitless-(tt.view.travelAxis.unitless-tt.content.travelAxis.unitless)/2+tt.snapOutAccelerator.travelAxis.unitless:rn==="center"?tt.view.travelAxis.unitless-(tt.view.travelAxis.unitless-tt.content.travelAxis.unitless)/2+tt.snapOutAccelerator.travelAxis.unitless:tt.view.travelAxis.unitless-(tt.view.travelAxis.unitless-tt.content.travelAxis.unitless)+tt.snapOutAccelerator.travelAxis.unitless,tt.frontSpacer.travelAxis.unitless=Xt,tt.frontSpacer.travelAxis.px=Xt+"px",oo=pt===!0&&_==="auto"?tt.view.travelAxis.unitless+Ar:We==="horizontal"||We==="vertical"?bn?tt.view.travelAxis.unitless/2:tt.view.travelAxis.unitless/2+tt.view.travelAxis.unitless-(tt.view.travelAxis.unitless-tt.content.travelAxis.unitless)/2+tt.snapOutAccelerator.travelAxis.unitless:tt.view.travelAxis.unitless,tt.backSpacer.travelAxis.unitless=oo,tt.backSpacer.travelAxis.px=oo+"px",a7(),AK(()=>()=>{let Zt,yi;if(!gt.current)return{top:null,bottom:null};let ji=gt.current.getBoundingClientRect(),ra=ji.top,Dd=ji.bottom,y7=H0||We==="top"||We==="bottom",Sp=tt.view[y7?"travelAxis":"crossAxis"].unitless,wp=tt.content[y7?"travelAxis":"crossAxis"].unitless;return rn==="left"||rn==="right"||rn==="center"?(Zt=ra+(Sp-wp)/2,yi=Dd-(Sp-wp)/2):rn==="top"?(Zt=ra,yi=Dd-(Sp-wp)):rn==="bottom"&&(Zt=ra+(Sp-wp),yi=Dd),{top:Zt,bottom:yi}})};fr();let ul=(Xt,oo)=>{let fl=new ResizeObserver(Fc=>{Fc.forEach(()=>oo())});return fl.observe(Xt,{box:"border-box"}),fl},ta=()=>{fr(),wr({runTravelCallbacksAndAnimations:!1})},_i=!0,na=ul(Q,()=>{_i?_i=!1:ta()}),dl=!0,En=ul(ie,()=>{dl?(fr(),dl=!1):ta()});return()=>{na&&Q&&(na.unobserve(Q),na.disconnect()),En&&ie&&(En.unobserve(ie),En.disconnect())}},[We,o7,v,Un,pt,a7,Ar,_,wr,so,rn,Et,bn,Yr]),l7=p.useCallback(z=>{let Q,ie=0,ae=z,ze=0;return Ze=>{Q=Ze;let Ct=ae-Ze;return ie=Ct,(Ct===0||Math.abs(Ct)<Math.abs(ze/2))&&W.silent.matches("scrollContainerTouch:ongoing")&&(Q=ae-ze/2,ie=ae-Q),Math.abs(ie)>=.1&&.35>Math.abs(ie)&&(Q=ie>=0?ae-.1:ae+.1,ie=ie>=0?.1:-.1),Ze<=0&&(Q=0),ae=Q,ze=ie,Q}},[W.silent]),c7=p.useCallback(()=>{var z;let Q,ie,ae=We==="right"||We==="left"||We==="horizontal"?"scrollLeft":"scrollTop",ze=zt.current,Ze=Qt.current.snapOutAccelerator.travelAxis.unitless,Ct=Qt.current.content.travelAxis.unitless,Nn=Qt.current.scroll.travelAxis.unitless,fr=l7((z=ea.current)!==null&&z!==void 0?z:Qt.current.progressValueAtDetents[jt.current[1]].exact),ul=We==="right"||We==="bottom",ta=We==="left"||We==="top";if(ul||ta){let _i;if(bn)_i=ta?En=>1-En/Ct:En=>1+En/Ct;else if(ul)if(rn!=="center"){let En=Et?Qt.current.detentMarkers[0].travelAxis.unitless-Ar:-Ze;_i=Xt=>(Xt+En)/Ct}else{let En=Ct+(Nn-Ct)/2;_i=Xt=>(Xt-Ze)/En}else if(ta)if(rn!=="center")_i=En=>(Ct+Ar-En)/Ct;else{let En=Ct+(Nn-Ct)/2;_i=Xt=>(En+Ar-Xt)/En}let na=pt===!0?1:10,dl=pt===!0&&Et?Qt.current.progressValueAtDetents[1].exact:0;ie=()=>{Q=ze[ae];let En=Math.min(Math.max(_i(Q),dl),na);return Math.min(Math.max(fr(En),dl),na)}}else if(We==="horizontal"||We==="vertical"){let _i=(Nn-Ct)/2,na=bn?0:Ze+Nn-_i,dl=Ct+_i;ie=()=>{Q=ze[ae];let En=1-Math.abs(Q-na)/dl;return Math.max(fr(Math.max(En,0)),0)}}return ie},[We,l7,pt,bn,rn,Et,Ar,QE]),gp=p.useRef(),DK=p.useCallback(()=>{let z=zt.current,Q=()=>{B({machine:"openness:open.move",type:"MOVE_END"});for(let ae=0;ae<Qt.current.progressValueAtDetents.length;ae++){let ze=Qt.current.progressValueAtDetents[ae].exact;ea.current>ze-.01&&ea.current<ze+.01&&(B({machine:"openness:open.scroll",type:"SCROLL_END"}),B({machine:"openness:open.swipe",type:"SWIPE_END"}))}},ie=()=>{XE.current?W0(!1):(Z0.current||B({machine:"openness:open.scroll",type:"SCROLL_START"}),Nd.current||vp.current||(X0.current||B({machine:"openness:open.swipe",type:"SWIPE_START"}),Q0.current||B({machine:"openness:open.move",type:"MOVE_START"}))),clearTimeout(gp.current),gp.current=setTimeout(Q,200)};return z.addEventListener("scroll",ie),()=>{z.removeEventListener("scroll",ie),clearTimeout(gp.current)}},[B,W0]),ea=p.useRef(null),LK=p.useCallback(()=>{let z;if(dp){let Q=Qt.current.progressValueAtDetents,ie=Q.length,ae=c7();z=yye(()=>{let ze,Ze=ae();if(ea.current!==Ze){for(let Ct=0;Ct<ie;Ct++){let Nn=Q[Ct],fr=Nn.after;Ze>fr&&Ct+1<ie&&Ze<Q[Ct+1].before?(ze={start:Ct,end:Ct+1},so([Ct,Ct+1])):Ze>Nn.before&&Ze<fr?(ze={start:Ct,end:Ct},so([Ct,Ct])):Ze<=0&&(ze={start:0,end:0},so([0,0]))}$0.current(Ze,ze),ea.current=Ze}})}return()=>{z?.()}},[so,dp,c7]),u7=p.useCallback(z=>{let Q=1e5,ie=ae=>{Q<Math.abs(ae.deltaY)?window.removeEventListener("wheel",ie,{passive:!1}):ae.preventDefault(),Q=Math.abs(ae.deltaY)};return window.addEventListener("wheel",ie,{passive:!1}),setTimeout(()=>{z("SWIPED_OUT")},100),()=>window.removeEventListener("wheel",ie,{passive:!1})},[]),FK=p.useCallback((z,{send:Q})=>{let ie,ae=gt.current,ze=Yo.current,Ze=zt.current,Ct=!1,Nn=()=>Ct=!0;window.addEventListener("wheel",Nn,{passive:!0,once:!0});let fr=new IntersectionObserver(function(ul){for(let ta of ul)ta.isIntersecting||(ae.style.setProperty("pointer-events","none","important"),ae.style.setProperty("opacity","0","important"),ae.style.setProperty("position","fixed","important"),ae.style.setProperty("top","-100px","important"),ae.style.setProperty("left","-100px","important"),ze.style.setProperty("pointer-events","none","important"),Ze.style.setProperty("width","1px","important"),Ze.style.setProperty("height","1px","important"),Ze.style.setProperty("clip-path","inset(0)","important"),requestAnimationFrame(()=>{Ct?ie=u7(Q):Q("SWIPED_OUT")}))},{root:ae,threshold:[0]});return fr.observe(ze),()=>{ie?.(),window.removeEventListener("wheel",Nn,{passive:!0,once:!0}),fr&&(fr.unobserve(ze),fr.disconnect())}},[u7]),jK=p.useRef(()=>0),BK=p.useCallback(()=>{let z=gt.current,Q=ie=>{Hs({nativeEvent:ie,defaultBehavior:{},handler:k})};return z?.addEventListener("focus",Q,{capture:!0}),()=>{z?.removeEventListener("focus",Q,{capture:!0})}},[k]),UK=p.useCallback(z=>{zt.current.contains(z.target)&&B({machine:"scrollContainerTouch",type:"TOUCH_START"})},[B]),qK=p.useCallback(z=>{zt.current.contains(z.target)&&B({machine:"scrollContainerTouch",type:"TOUCH_END"})},[B]);Ge("immediate",$,{state:"staging:none",callback:io,params:{newState:"none"}}),wt($,{state:"staging:none",transition:"OPEN",callback:p.useCallback(()=>Ye?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:Zr?.skip}),[Ye,Zr?.skip])}),wt($,{state:"staging:none",transition:"OPEN_PREPARED",callback:p.useCallback(z=>Ye?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:z.skipOpening}),[Ye])}),wt($,{state:"staging:none",transition:"GO_DOWN",callback:p.useCallback(z=>Ye?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:z.skipOpening}),[Ye])}),wt($,{state:"staging:none",transition:"ACTUALLY_CLOSE",callback:p.useCallback(()=>Ye?.sendToOpennessMachine({machine:"staging",type:"GO_UP"}),[Ye])}),wt($,{state:"staging:none",transition:"GO_UP",callback:p.useCallback(z=>Ye?.sendToOpennessMachine({machine:"staging",type:"GO_UP",skipClosing:z.skipClosing}),[Ye])}),Ge("immediate",$,{state:"staging:open",callback:io,params:{newState:"open"}}),Ge("immediate",$,{state:"staging:open",callback:p.useCallback(()=>{B({machine:"longRunning",type:"TO_TRUE"})},[B])}),Ge("immediate",$,{state:"staging:open",callback:p.useCallback(()=>{ue||te==null||te(!0)},[ue,te])}),Ge("after-paint",$,{state:"staging:open",callback:p.useCallback(()=>{requestAnimationFrame(()=>{B({machine:"openness",type:"READY_TO_OPEN",skipOpening:!0}),B({machine:"staging",type:"NEXT"})})},[B])}),wt($,{state:"staging:open",transition:"NEXT",callback:Dc}),Ge("immediate",$,{state:"staging:opening",callback:io,params:{newState:"opening"}}),Ge("immediate",$,{state:"staging:opening",callback:p.useCallback(()=>{B({machine:"longRunning",type:"TO_TRUE"})},[B])}),Ge("immediate",$,{state:"staging:opening",callback:p.useCallback(()=>{ue||te==null||te(!0)},[ue,te])}),Ge("before-paint",$,{state:"staging:opening",callback:p.useCallback(()=>{b?.(),ro(0,{start:0,end:0})},[ro,b])}),Ge("after-paint",$,{state:"staging:opening",callback:p.useCallback(()=>{requestAnimationFrame(()=>{B({machine:"openness",type:"READY_TO_OPEN",skipOpening:!1})})},[B])}),Mr("after-paint",$,{state:"staging:opening",callback:p.useCallback(()=>(H_e(J),()=>V_e(J)),[J])}),wt($,{state:"staging:opening",transition:"NEXT",callback:Dc}),Ge("immediate",$,{state:"staging:stepping",callback:io,params:{newState:"stepping"}}),Ge("after-paint",$,{state:"staging:stepping",callback:p.useCallback(({detent:z,behavior:Q})=>{d?.("stepping"),s7(z,Q)},[d,s7])}),oa("immediate",$,{state:"staging:stepping",callback:p.useCallback(()=>{d?.("idleInside")},[d])}),Ge("immediate",$,{state:"staging:closing",callback:io,params:{newState:"closing"}}),Ge("immediate",$,{state:"staging:closing",callback:p.useCallback(()=>{ue&&te?.(!1)},[ue,te])}),Ge("after-paint",$,{state:"staging:closing",callback:p.useCallback(()=>{B({machine:"openness",type:"READY_TO_CLOSE"})},[B])}),wt($,{state:"staging:closing",transition:"NEXT",callback:Dc}),Ge("immediate",$,{state:"staging:go-down",callback:io,params:{newState:"go-down"}}),wt($,{state:"staging:go-down",transition:"NEXT",callback:Dc}),Ge("immediate",$,{state:"staging:going-down",callback:io,params:{newState:"going-down"}}),wt($,{state:"staging:going-down",transition:"NEXT",callback:Dc}),Ge("immediate",$,{state:"staging:going-up",callback:io,params:{newState:"going-up"}}),wt($,{state:"staging:going-up",transition:"NEXT",callback:Dc});let Qr=Hi(W,"longRunning");Ge("immediate",Qr,{state:"longRunning:true",callback:p.useCallback(()=>{xe.current===null&&(xe.current=document.activeElement)},[xe])}),Ge("immediate",Qr,{state:"longRunning:true",callback:p.useCallback(()=>{fe(!0),Me?.(z=>z+1)},[fe,Me])}),Mr("before-paint",Qr,{state:"longRunning:true",callback:NK}),Ge("before-paint",Qr,{state:"longRunning:true",guard:!Zr.skip,callback:p.useCallback(()=>{wr({trackToTravelOn:no,runTravelCallbacksAndAnimations:!1,destinationDetent:0})},[wr,no])}),Mr("after-paint",Qr,{state:"longRunning:true",guard:w,callback:p.useCallback(()=>aye(Mn,E),[E])}),Mr("after-paint",Qr,{state:"longRunning:true",callback:MK}),Ge("immediate",Qr,{state:"longRunning:false",callback:p.useCallback(()=>{fe(!1),Me?.(z=>z-1)},[fe,Me])}),Ge("immediate",Qr,{state:"longRunning:false",callback:p.useCallback(()=>{xe.current=null},[xe])}),Ge("before-paint",Qr,{state:"longRunning:false",callback:p.useCallback(()=>{rt.removeAllOutletPersistedStylesFromSheet(J)},[J])}),Ge("after-paint",Qr,{state:"longRunning:false",callback:e7}),Mr("before-paint",mp,{state:"active:true",callback:IK});let Yt=Hi(W,"openness"),Fi=Hi(W,"openness:closed.status");Ge("immediate",Yt,{state:"openness:closed",callback:Pd,params:{newState:"idleOutside"}}),Ge("immediate",Yt,{state:"openness:closed",callback:p.useCallback(()=>{B({machine:"longRunning",type:"TO_FALSE"})},[B])}),Ge("immediate",Yt,{state:"openness:closed",callback:p.useCallback(()=>{ue&&te?.(!1)},[ue,te])}),Ge("immediate",Yt,{state:"openness:closed",callback:p.useCallback(()=>{Te({machine:"active",type:"TO_FALSE"})},[Te])}),Ge("after-paint",Yt,{state:"openness:closed",callback:p.useCallback(()=>{clearTimeout(gp.current),ea.current=null,so([0,0]),Md.current=!1,G(-1),pp.current=!1},[G,so])}),wt(Yt,{state:"openness:closed",transition:"READY_TO_OPEN",callback:p.useCallback(z=>{Te({machine:"position",type:"READY_TO_GO_FRONT",skipOpening:z.skipOpening})},[Te])}),sye(B,Fi,"openness:closed.status:pending",{delay:3e3}),oa("immediate",Fi,{state:"openness:closed.status:pending",callback:p.useCallback(()=>{B("SWIPE_RESET")},[B])}),Ge("before-paint",Fi,{state:"openness:closed.status:flushing-to-preparing-opening",callback:p.useCallback(()=>{B({machine:"openness:closed.status",type:""})},[B])}),Ge("before-paint",Fi,{state:"openness:closed.status:flushing-to-preparing-open",callback:p.useCallback(()=>{B({machine:"openness:closed.status",type:""})},[B])}),Ge("after-paint",Fi,{state:"openness:closed.status:preparing-opening",callback:p.useCallback(()=>{B({machine:"staging",type:"OPEN_PREPARED",skipOpening:!1})},[B])}),Ge("after-paint",Fi,{state:"openness:closed.status:preparing-open",callback:p.useCallback(()=>{B({machine:"staging",type:"OPEN_PREPARED",skipOpening:!0})},[B])}),Ge("immediate",Fi,{state:"openness:closed.status:safe-to-unmount",callback:p.useCallback(()=>{oe?.(!0)},[oe])}),oa("immediate",Fi,{state:"openness:closed.status:safe-to-unmount",callback:p.useCallback(()=>{oe?.(!1)},[oe])}),Ge("immediate",Yt,{state:"openness:opening",callback:Pd,params:{newState:"entering"}}),Ge("before-paint",Yt,{state:"openness:opening",callback:p.useCallback(()=>{Pn.current=Un,ce?.(Un),wr({trackToTravelOn:no,destinationDetent:Un,behavior:"smooth",animationConfig:Zr,travelEndCallback:()=>B("NEXT"),runOnTravelStart:!1})},[no,ce,wr,Un,Zr,B])}),wt(Yt,{state:"openness:opening",transition:"NEXT",callback:p.useCallback(()=>{Te("NEXT"),B({machine:"staging",type:"NEXT"})},[Te,B])}),Ge("immediate",Yt,{state:"openness:open",callback:Pd,params:{newState:"idleInside"}}),Ge("immediate",Yt,{state:"openness:open",callback:p.useCallback(()=>{Te({machine:"active",type:"TO_TRUE"})},[Te])}),Ge("before-paint",Yt,{state:"openness:open",guard:Zr.skip,callback:p.useCallback(()=>{Pn.current=Un,ce?.(Un),wr({trackToTravelOn:no,destinationDetent:Un})},[Un,ce,wr,no])}),Mr("before-paint",Yt,{state:"openness:open",callback:p.useCallback(()=>{if(wa()&&bt){var z;(z=zt.current)===null||z===void 0||z.style.setProperty("will-change","transform"),requestAnimationFrame(()=>{var Q;return(Q=zt.current)===null||Q===void 0?void 0:Q.style.removeProperty("will-change","transform")})}},[bt]),params:{unusedDep:QE}}),Mr("before-paint",Yt,{state:"openness:open",guard:!st,callback:DK}),Ge("after-paint",$,{state:"staging:open",guard:pt===!0&&_==="auto",callback:p.useCallback(()=>{Un===Yr.length?B({machine:"frontStuck",type:"STUCK_START"}):bt&&Un===1&&B({machine:"backStuck",type:"STUCK_START"})},[B,Un,Yr,bt])}),Mr("after-paint",Yt,{state:"openness:open",guard:!st&&!bn&&!Et,callback:FK,params:{send:B}}),Mr("after-paint",Yt,{state:"openness:open",callback:BK}),wt(Yt,{state:"openness:open",transition:"READY_TO_CLOSE",callback:p.useCallback(()=>Te("READY_TO_GO_OUT"),[Te])}),wt(Yt,{state:"openness:open",transition:"ACTUALLY_CLOSE",callback:p.useCallback(()=>{Pn.current=null,ce?.(0),b?.(),Te("GO_OUT")},[ce,b,Te])}),wt(Yt,{state:"openness:open",transition:"SWIPED_OUT",callback:p.useCallback(()=>{var z;(z=zt.current)===null||z===void 0||z.style.setProperty("scroll-snap-type","none","important"),Pn.current=null,ce?.(0),Te("GO_OUT")},[ce,Te])}),oa("immediate",Yt,{state:"openness:open",callback:p.useCallback(()=>{B("SWIPE_END")},[B])});let K0=Hi(W,"backStuck"),vp=p.useRef(!1);wt(K0,{state:"backStuck:false",transition:"STUCK_START",callback:p.useCallback(()=>vp.current=!0,[])}),wt(K0,{state:"backStuck:true",transition:"STUCK_END",callback:p.useCallback(()=>vp.current=!1,[])}),wt(K0,{state:"backStuck:false",transition:"STUCK_START",guard:pt===!0&&_==="auto",callback:p.useCallback(()=>{W.silent.matches("scrollContainerTouch:ended")&&cl("back")},[W.silent,cl])});let Y0=Hi(W,"frontStuck"),Nd=p.useRef(!1);wt(Y0,{state:"frontStuck:false",transition:"STUCK_START",callback:p.useCallback(()=>Nd.current=!0,[])}),wt(Y0,{state:"frontStuck:true",transition:"STUCK_END",callback:p.useCallback(()=>Nd.current=!1,[])}),wt(Y0,{state:"frontStuck:false",transition:"STUCK_START",guard:pt===!0&&_==="auto",callback:p.useCallback(()=>{W.silent.matches("openness:open")&&W.silent.matches("scrollContainerTouch:ended")&&cl("front")},[W.silent,cl])}),Ge("immediate",W,{state:"scrollContainerTouch:ended",guard:pt===!0&&_==="auto",callback:p.useCallback(()=>{pp.current&&setTimeout(()=>{requestAnimationFrame(()=>{W.silent.matches("openness:open")&&(W.silent.matches("backStuck:true")?cl("back"):W.silent.matches("frontStuck:true")&&cl("front"))})},80)},[W.silent,cl])});let Lc=Hi(W,"openness:open.scroll"),Z0=p.useRef(!1);Ge("immediate",Lc,{state:"openness:open.scroll:ongoing",callback:p.useCallback(()=>Z0.current=!0,[])}),oa("immediate",Lc,{state:"openness:open.scroll:ongoing",callback:p.useCallback(()=>Z0.current=!1,[])}),Ge("immediate",Lc,{state:"openness:open.scroll:ongoing",callback:p.useCallback(()=>{pp.current=!0},[])}),Mr({start:"immediate",update:"before-paint"},Lc,{state:"openness:open.scroll:ongoing",callback:LK});let J0=p.useRef(()=>{});Ge("after-paint",Lc,{state:"openness:open.scroll:ended",callback:p.useCallback(()=>{B({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"OCCURRED"}),J0.current(),J0.current=()=>{}},[B])}),oa("immediate",Lc,{state:"openness:open.scroll:ended",callback:p.useCallback(()=>{B({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"RESET"})},[B])});let Q0=p.useRef(!1);Ge("immediate",W,{state:"openness:open.move:ongoing",callback:p.useCallback(()=>{Q0.current=!0,$0.current=dp},[dp])}),oa("immediate",W,{state:"openness:open.move:ongoing",callback:p.useCallback(()=>{Q0.current=!1,$0.current=()=>{}},[])});let X0=p.useRef(!1);Ge("immediate",W,{state:"openness:open.swipe:ongoing",callback:p.useCallback(()=>X0.current=!0,[])}),oa("immediate",W,{state:"openness:open.swipe:ongoing",callback:p.useCallback(()=>X0.current=!1,[])}),Ge("immediate",W,{state:"openness:open.swipe:ongoing",callback:p.useCallback(()=>b?.(),[b])}),Ge("immediate",W,{state:"openness:open.swipe:ongoing",callback:Pd,params:{newState:"stepping"}}),Ge("immediate",W,{state:"openness:open.swipe:ended",callback:p.useCallback(()=>Id(),[Id])}),Ge("immediate",W,{state:"openness:open.swipe:ended",guard:typeof d=="function",callback:p.useCallback(()=>{W.silent.matches("openness:open")&&d("idleInside")},[W.silent,d])});let d7=p.useCallback(()=>{!Nc.matches("position:front")||jt.current[0]===0&&jt.current[1]===0||bt&&jt.current[0]!==jt.current[1]?ue===!1&&te?.(!0):B("ACTUALLY_CLOSE")},[Nc,B,ue,te,bt]);wt(W,{state:"openness:open.evaluateCloseMessage:true",transition:"CLOSE",callback:d7}),wt(W,{state:"openness:open.evaluateCloseMessage:false",transition:"CLOSE",callback:d7}),wt(W,{state:"openness:open.evaluateStepMessage:true",transition:"STEP",callback:i7}),wt(W,{state:"openness:open.evaluateStepMessage:false",transition:"STEP",callback:i7}),Ge("immediate",Yt,{state:"openness:closing",callback:Pd,params:{newState:"exiting"}}),Ge("before-paint",Yt,{state:"openness:closing",callback:p.useCallback(()=>{Pn.current=0,ce?.(0),wr({trackToTravelOn:Oe.track,destinationDetent:0,behavior:"smooth",animationConfig:Oe,travelEndCallback:()=>B("NEXT")})},[ce,wr,Oe,B])}),wt(Yt,{state:"openness:closing",transition:"NEXT",callback:p.useCallback(()=>{Te("NEXT"),B({machine:"staging",type:"NEXT"})},[Te,B])});let zK=p.useCallback(()=>B({machine:"skipOpening",type:Zr.skip?"TO_TRUE":"TO_FALSE"}),[B,Zr.skip]);Mr("after-paint",W,{state:"",callback:zK});let GK=p.useCallback(()=>B({machine:"skipClosing",type:Oe.skip?"TO_TRUE":"TO_FALSE"}),[B,Oe.skip]);Mr("after-paint",W,{state:"",callback:GK}),p.useEffect(()=>{ue!==void 0&&B(ue?"OPEN":"CLOSE")},[ue,B]);let HK=$d(()=>{e7(),ht?.(J),rt.removeAllOutletPersistedStylesFromSheet(J)}),f7=p.useRef(!0),VK=$d(()=>{ue&&te?.(!1)});p.useEffect(()=>()=>{!f7.current&&(VK(),io(null,{newState:"none"}),HK(),fe(!1),Qr.silent.matches("longRunning:true")&&Me?.(z=>z-1))},[]),p.useEffect(()=>()=>f7.current=!1),p.useEffect(()=>{Xe!==void 0&&jt.current[0]!==Xe&&jt.current[1]!==Xe&&Pn.current!==Xe&&B({type:"STEP",activeDetent:Xe})},[Xe,B]),p.useEffect(()=>{let z=()=>{var Q;return(Q=zt.current)===null||Q===void 0?void 0:Q.scrollTo(0,0)};return window.addEventListener("unload",z),()=>window.removeEventListener("unload",z)},[]);let h7=$d((z,Q)=>{Li.current&&!Yt.matches("openness:closed")&&ro(z,Q)}),p7=$d(n7);p.useEffect(()=>()=>{h7(0,{start:0,end:0}),Li.current&&p7(),_G(null)},[Qr.silent,Me,h7,p7]);let _p=Yn("Sheet",{staging:$.getValues()[0],openness:Yt.getValues()[0],opennessClosedStatus:Fi.getValues()[0],position:Nc.getValues()[0],positionCoveredStatus:Xo.getValues()[0],placement:rn,track:We,swipeDisabled:st,swipeOutDisabledWithDetent:Et,swipeOvershootDisabled:pt,swipeTrap:Rd,scrollContainerShouldBePassThrough:ll}),yp=p.useMemo(()=>!Fi.matches(["openness:closed.status:flushing-to-preparing-open","openness:closed.status:flushing-to-preparing-opening","openness:closed.status:safe-to-unmount"]),[Fi]),$K=p.useMemo(()=>Yt.matches("openness:closed")&&yp,[yp,Yt]),m7=p.useMemo(()=>$.matches(["staging:opening","staging:open"]),[$]),WK=p.useMemo(()=>yp||m7,[yp,m7]),KK=p.useMemo(()=>x&&(Nc.matches(["position:front","position:covered"])||re!=="none"),[x,Nc,re]);return g.jsx($h,{genericContext:Ga,customContext:Se,value:de,children:g.jsx(hs.Provider,{value:{sheetContext:me,titleId:Y,descriptionId:_e,styleAttributes:_p,backdropRef:Rn,scrollContainerRef:zt,frontSpacerRef:Di,contentWrapperRef:gn,contentRef:Yo,backSpacerRef:Ad,detentMarkersRefs:Ic,leftEdgeRef:Mn,setBackdropSwipeable:ol,setBleedingBackgroundPresent:Jr,detents:Yr,longRunningState:Qr,staging:re,layerCovered:X,placement:rn,track:We,travelAxis:xs,nativeEdgeSwipePrevention:w,bleedingBackgroundPresent:al,setBackdropTravelHandler:kK,ancestorPrimarySwipeTrapActiveOnYAxis:Rd==="vertical"||Rd==="both",scrollContainerTouchStartHandler:UK,scrollContainerTouchEndHandler:qK,getContentCoordinatesWhenRestingOnLastDetent:OK,getOffsetFromCurrentToNextDetent:jK},children:WK&&g.jsxs("div",{id:J,..._p("view",["track","staging","openness","opennessClosedStatus","scrollContainerShouldBePassThrough"],{className:o,dataSilk:[a,"0ab",A&&"0ah",Es&&"0aj",$K&&"0ak","0al"]}),ref:yn,"aria-labelledby":Y,"aria-describedby":_e,...M,role:ne,tabIndex:-1,children:[g.jsx(xo.Root,{..._p("primaryScrollTrapRoot",["track","scrollContainerShouldBePassThrough"]),active:Rd!=="none",axis:Rd,children:g.jsx(xo.Stabiliser,{children:s})}),g.jsx(xo.Root,{..._p("secondaryScrollTrapRoot",["scrollContainerShouldBePassThrough"]),automaticallyDisabledForOptimisation:!1,preventBodyScroll:KK})]})})})});xG.displayName="Sheet.Anonymous";class Ed extends Le.Component{static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t){console.error(t)}render(){return this.state.hasError?g.jsx("h1",{children:"Something went wrong."}):this.props.children}constructor(t){super(t),this.state={hasError:!1}}}let kG=Le.forwardRef((e,t)=>{let{asChild:n,children:r,className:i,"data-silk":s,...o}=e,a=n?Zn:"span",l=Yn("VisuallyHidden",{});return g.jsx(a,{...l("root",[],{className:i,dataSilk:[s]}),...o,ref:t,children:r})});kG.displayName="VisuallyHidden.Root";let xye={Root:kG},k0=Le.createContext(null);k0.displayName="SheetStack.GenericContext";let kf=[],kye=(e,t)=>{let n=()=>{let[r,i]=function(a){let l=0,c=0;for(;a;)l+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return[l,c]}(e),s={top:i+scrollY,bottom:Math.max(e.offsetHeight-(i+scrollY+innerHeight),0),left:r+scrollX,right:Math.max(e.offsetWidth-(r+scrollX+innerWidth),0),height:innerHeight,width:innerWidth},o=s.top<=0&&s.bottom<=0&&s.left<=0&&s.right<=0?null:s;t(o)};kf.push({element:e,callback:n}),n(),kf.length===1&&(xf=function(r,i){let s;return function(){clearTimeout(s),s=window.setTimeout(()=>{clearTimeout(s),r()},100)}}(()=>{kf.forEach(r=>r.callback())}),window.addEventListener("scroll",xf),window.addEventListener("resize",xf))},Tye=e=>{(kf=kf.filter(t=>t.element!==e)).length||(window.removeEventListener("scroll",xf),window.removeEventListener("resize",xf))},A9=(e,t)=>{let n=p.useId(),r=p.useRef(null),i=$r(r,t),{sheetId:s,stackId:o,sheetsCount:a,travelAnimation:l,stackingAnimation:c,style:u}=e,{sheetId:d,longRunning:f}=T0(s),[h,m]=p.useState(null),{willChangesValuesString:v,outletTransformedOnAnimation:_,nonAnimatedTravelStyles:y,nonAnimatedStackingStyles:b,clippedToViewport:C}=p.useMemo(()=>{let O=[],k={},A={},I=!1,D=!1;return[l,c].forEach((N,R)=>{if(N){let F=N.hasOwnProperty("properties")?N.properties:N;Object.entries(F).forEach(([j,H])=>{!H||(j==="clipBoundary"&&(D=!0),typeof H=="string"&&(R===0?k[j]=H:A[j]=H),gG.includes(j)||j==="transform"?O.includes("transform")||(O.push("transform"),I=!0):j!=="opacity"||O.includes("opacity")||O.push("opacity"))})}}),{willChangesValuesString:O.join(", "),outletTransformedOnAnimation:I,nonAnimatedTravelStyles:k,nonAnimatedStackingStyles:A,clippedToViewport:D}},[c,l]),{modifiedTravelAnimation:S,modifiedNonAnimatedTravelStyles:x,modifiedStackingAnimation:w,modifiedNonAnimatedStackingStyles:E}=p.useMemo(()=>{let O;if(h){let{top:R,bottom:F,left:j,right:H}=h;O=`${R-.1}px ${H}px ${F}px ${j}px`}let k=(R,F)=>{let j,H,U;if(!R)return[];let{top:M,left:me,height:de,width:P}=h||{},Ce=R.hasOwnProperty("properties")?R.properties:R,Se=Ce.clipBoundary,ne=Ce.clipBorderRadius,ue=Ce.clipTransformOrigin;if(Se&&(ue||(ue="50% 50% 0"),U=ue.split(" ").map(we=>we==="top"||we==="left"?"0%":we==="bottom"||we==="right"?"100%":we).map((we,Xe)=>{if(Xe===0){let ce=we;return we.includes("%")?ce=we.replace(/\b\d+%/,J=>parseFloat(J)/100*P+"px"):we==="0"&&(ce="0px"),"calc("+me+"px + "+ce+")"}if(Xe===1){let ce=we;return we.includes("%")?ce=we.replace(/\b\d+%/,J=>parseFloat(J)/100*de+"px"):we==="0"&&(ce="0px"),"calc("+M+"px + "+ce+")"}}).join(" ")),Se)if(Se==="layout-viewport")if(O){if(typeof ne=="string")j=`inset(${O} round ${ne})`;else if(Array.isArray(ne)){let oe=`inset(${O} round `;j=({tween:fe})=>oe+fe(...ne)+")"}else if(typeof ne=="function"){let oe=`inset(${O} round `;j=fe=>oe+ne(fe)+")"}else j=`inset(${O})`;H="0.001px"}else H=ne??null;else if(typeof Se=="function")if(O){if(typeof ne=="string")j=oe=>Se(oe)!=="none"?`inset(${O} round ${ne})`:"none";else if(Array.isArray(ne)){let oe=`inset(${O} round `;j=fe=>Se(fe)!=="none"?oe+fe.tween(...ne)+")":"none"}else if(typeof ne=="function"){let oe=`inset(${O} round `;j=fe=>Se(fe)!=="none"?oe+ne(fe)+")":"none"}else j=oe=>Se(oe)!=="none"?`inset(${O})`:"none";H="0.001px"}else ne&&(H=oe=>{if(Se(oe)==="layout-viewport")return ne});else Se==="none"&&(j="none",H=ne??null);else{let oe={...Ce},fe={...F};return delete oe.clipBoundary,delete oe.clipBorderRadius,delete oe.clipTransformOrigin,delete fe.clipBoundary,delete fe.clipBorderRadius,delete fe.clipTransformOrigin,[oe,fe]}let te={...Ce},xe={...F};return delete te.clipBoundary,delete te.clipBorderRadius,delete te.clipTransformOrigin,delete xe.clipBoundary,delete xe.clipBorderRadius,delete xe.clipTransformOrigin,typeof j=="string"?xe.clipPath=j:te.clipPath=j,typeof H=="string"?xe.borderRadius=H:te.borderRadius=H,typeof U=="string"&&(xe.transformOrigin=U),[te,xe]},[A,I]=k(l,y),[D,N]=k(c,b);return{modifiedTravelAnimation:A,modifiedNonAnimatedTravelStyles:I,modifiedStackingAnimation:D,modifiedNonAnimatedStackingStyles:N}},[h,b,y,c,l]);Tn(()=>{let O=r.current,k=n&&C&&(!o&&f||o&&a>=1);if(k)return kye(O,m),()=>{k&&Tye(O)}},[n,C,f,o,a]);let T=p.useMemo(()=>o?{...u,...a>=1?E:{},willChange:a>=1?v+(u?.willChange?", "+u?.willChange:""):u?.willChange}:{...u,...f?x:{},...a>=1?E:{},willChange:f?v+(u?.willChange?", "+u?.willChange:""):u?.willChange},[o,u,x,E,f,a,v]);return Tn(()=>{let O,k=rt.findActualFixedComponentsInsideOutlet(r.current);if(k.length)return _&&(O=(A=>{let I=()=>{k.forEach(N=>{if(!N.element||N.compensated)return;let R=0,F=0,j=N.element.style.transform,H=window.getComputedStyle(N.element),U=H.getPropertyValue("--silk-fixed-side"),M=H.getPropertyValue("transform");rt.updateFixedComponent({id:N.id,initialInlineCSSTransform:j,compensated:!0}),R=U.includes("bottom")?-1*(r.current.offsetHeight-(scrollY+window.innerHeight)):scrollY,F=U.includes("right")?-1*(r.current.offsetWidth-(scrollX+window.innerWidth)):scrollX,(Math.abs(R)!==0||Math.abs(F)!==0)&&N.element.style.setProperty("transform",(M!=="none"?M+" ":"")+"translateX("+F+"px) translateY("+R+"px)")})},D=()=>{window.removeEventListener("resize",I),window.removeEventListener("scroll",I),k.forEach(N=>{N.element&&N.compensated&&(N.initialInlineCSSTransform?(N.element.style.setProperty("transform",N.initialInlineCSSTransform),rt.updateFixedComponent({id:N.id,initialInlineCSSTransform:void 0,compensated:!1})):(N.element.style.removeProperty("transform"),rt.updateFixedComponent({id:N.id,compensated:!1})))})};return A?(I(),window.addEventListener("resize",I),window.addEventListener("scroll",I)):D(),D})(o?a>0:f)),O},[f,n,_,a,o]),Tn(()=>(rt.addOutletToSheet(d,n),()=>rt.removeOutletFromSheet(d,n)),[n,d]),Tn(()=>{let O=r.current;return S&&rt.addAnimationToSheetOrStack({sheetId:d,type:"travel",element:O,config:S}),w&&rt.addAnimationToSheetOrStack({sheetId:o?null:d,stackId:o,type:"stacking",element:O,config:w}),()=>{S&&rt.removeAnimationFromSheetOrStack({sheetId:d,type:"travel",element:O}),w&&rt.removeAnimationFromSheetOrStack({sheetId:o?null:d,stackId:o,type:"stacking",element:O})}},[d,o,S,w]),{ref:r,outletId:n,styleValue:T,composedRef:i}},T0=e=>p.useContext(e??Ga)||{};Ed.displayName="Sheet.ErrorBoundary",Zn.displayName="Sheet.Slot.Root";let wc=Le.forwardRef((e,t)=>{let{asChild:n,forComponent:r,travelAnimation:i,stackingAnimation:s,style:o,className:a,...l}=e,{staging:c,StackContext:u}=T0(r),d=u??Le.createContext(null),{sheetsCount:f}=p.useContext(d)||{},{styleValue:h,composedRef:m}=A9({sheetId:r,sheetsCount:f,travelAnimation:i,stackingAnimation:s,style:o},t),v=p.useMemo(()=>c!=="none",[c]),_=n?Zn:"div",y=Yn("Sheet",{});return g.jsx(_,{style:h,...y("outlet",[],{className:a,dataSilk:[v&&"0aj"]}),...l,ref:m})});wc.displayName="Sheet.Outlet";let I9=Le.forwardRef(({asChild:e,...t},n)=>{let r=e?Zn:"button",{forComponent:i,className:s,"data-silk":o,onPress:a,onClick:l,children:c,action:u="present",travelAnimation:d,stackingAnimation:f,...h}=t,{sheetRole:m,sheetId:v,open:_,onOpenChange:y,elementFocusedLastBeforeShowing:b}=T0(i),C=rt.findSheet(v),S=p.useRef(null),x=$r(S,n),w=p.useMemo(()=>(m==="dialog"||m==="alertdialog")&&u==="present"?"dialog":void 0,[u,m]),E=p.useMemo(()=>u==="present"||u==="dismiss"?_:void 0,[u,_]),T=Yn("Sheet",{});return g.jsx(wc,{forComponent:i,asChild:!0,travelAnimation:d,stackingAnimation:f,children:g.jsx(r,{...T("trigger",[],{className:s,dataSilk:[o]}),onClick:O=>{var k,A;let{forceFocus:I,runAction:D}=Hs({nativeEvent:O,defaultBehavior:{forceFocus:!0,runAction:!0},handler:a});I&&((k=S.current)===null||k===void 0||k.focus({preventScroll:!0})),D&&(u==="present"?(b.current=S.current,y(!0)):u==="dismiss"?y(!1):(u==="step"||u.type==="step")&&(C==null||(A=C.sendToOpennessMachine)===null||A===void 0||A.call(C,{type:"STEP",direction:u==="step"?"up":u.direction,detent:u==="step"?null:u.detent}))),l?.(O)},"aria-haspopup":w,"aria-controls":v,"aria-expanded":E,ref:x,...h,children:c})})});I9.displayName="Sheet.Trigger";let TG=Le.forwardRef((e,t)=>{let{children:n,className:r,action:i="step",...s}=e,{detents:o}=p.useContext(hs)||{},a=o.length===1&&i!=="dismiss",l=Yn("Sheet",{});return g.jsx(I9,{...l("handle",[],{className:r}),action:i,disabled:a,...s,ref:t,children:g.jsx(xye.Root,{children:n??(i==="dismiss"?"Dismiss":"Cycle")})})});TG.displayName="Sheet.Handle";let OG=e=>{var t;let[n,r]=p.useState(!1);return p.useEffect(()=>(r(!0),()=>r(!1)),[]),n?Al.createPortal(e.children,(t=e.container)!==null&&t!==void 0?t:document.body):null};OG.displayName="Sheet.Portal";let Oye=({rootRef:e})=>(p.useEffect(()=>{let t=e.current;if(!t)return;getComputedStyle(t).getPropertyValue("--silk-aY").trim()!=="1"&&console.warn("The CSS styles for Silk are not found. Please refer to the documentation on how to import them.")},[e]),null),AG=Le.forwardRef((e,t)=>{let{className:n,"data-silk":r,license:i,sheetRole:s,componentId:o,forComponent:a,defaultPresented:l,presented:c,onPresentedChange:u,defaultActiveDetent:d,activeDetent:f,onActiveDetentChange:h,onSafeToUnmountChange:m,...v}=e,_=p.useRef(null),y=$r(_,t),b=l!=null&&l,[C,S]=p.useState(b),x=c!==void 0&&u!==void 0,w=p.useMemo(()=>x?c:C,[x,c,C]),E=p.useMemo(()=>x?u:S,[x,u,S]),T=p.useRef(null),[O,k]=p.useState(!b),A=p.useCallback(M=>{m?.(M),k(M)},[m]),[I,D]=p.useState(w),[N,R]=p.useState("none"),F=a==="closest"?k0:a,j=cc(),H={license:i,StackContext:F,CustomSheetContext:o,sheetId:j,sheetRole:s,open:w,onOpenChange:E,onSafeToUnmountChange:A,defaultActiveDetent:d,activeDetent:f,onActiveDetentChange:h,safeToUnmount:O,longRunning:I,setLongRunning:D,staging:N,setStaging:R,elementFocusedLastBeforeShowing:T,...v},U=Yn("Sheet");return g.jsxs(Ed,{children:[g.jsx(Oye,{rootRef:_}),g.jsx($h,{genericContext:Ga,customContext:o,value:H,children:g.jsx(wc,{...U("root",[],{className:n,dataSilk:[r]}),ref:y,...v})})]})});AG.displayName="Sheet.Root";let IG=Le.forwardRef((e,t)=>{let{forComponent:n}=e,{open:r,safeToUnmount:i}=T0(n);return(r||!i)&&g.jsx(xG,{...e,ref:t})});IG.displayName="Sheet.View";let MG=Le.forwardRef(({asChild:e,swipeable:t=!0,...n},r)=>{let{longRunningState:i,backdropRef:s,styleAttributes:o,setBackdropSwipeable:a,setBackdropTravelHandler:l}=p.useContext(hs)||{},{className:c,"data-silk":u,children:d,travelAnimation:f,stackingAnimation:h,themeColorDimming:m=!1,...v}=n,_=$r(s,r);p.useEffect(()=>(a(t),()=>{a(!1)}),[a,t]);let y=p.useMemo(()=>({opacity:({progress:w})=>Math.min(.33*w,.33),...f}),[f]),[b,C]=p.useState(y),S=cc(),x=p.useRef(0);return Tn(()=>{let w=!1,E=()=>{w&&rt.removeThemeColorDimmingOverlay(S)};if(i.matches("longRunning:true")){let T;if(!(w=!!(wa()&&!N_e()&&m==="auto"&&y.opacity&&rt.getAndStoreUnderlyingThemeColorAsRGBArray())))return;let{opacity:O,...k}=y;if(C({opacity:"ignore",...k}),Array.isArray(O)){let[A,I]=O;T=({progress:D})=>A+(I-A)*D}else typeof O=="function"&&(T=O,C({opacity:"ignore",...k}));if(T&&s&&l){let A=window.getComputedStyle(s.current).backgroundColor,I=rt.updateThemeColorDimmingOverlay({abortRemoval:!0,dimmingOverlayId:S,color:A,alpha:x.current}),D=N=>{var R;let F=T(N);rt.updateThemeColorDimmingOverlayAlphaValue(I,F),(R=s.current)===null||R===void 0||R.style.setProperty("opacity",F),x.current=F};l(()=>D)}}return i.matches("longRunning:false")&&E(),()=>{E()}},[i,S,s,l,m,f,y]),g.jsx(wc,{...o("backdrop",["scrollContainerShouldBePassThrough"],{className:c,dataSilk:[u]}),travelAnimation:b,stackingAnimation:h,...v,ref:_,asChild:e,children:d})});MG.displayName="Sheet.Backdrop";let RG=Le.forwardRef((e,t)=>{var n;let{asChild:r,children:i,className:s,"data-silk":o,travelAnimation:a,stackingAnimation:l,style:c,...u}=e,d=r?Zn:"div",{StackContext:f}=p.useContext(Ga)||{},h=f??Le.createContext(null),{sheetsCount:m}=p.useContext(h)||{},{styleValue:v,composedRef:_}=A9({sheetId:Ga,sheetsCount:m,travelAnimation:a,stackingAnimation:l,style:c},t),{scrollContainerRef:y,frontSpacerRef:b,contentWrapperRef:C,contentRef:S,backSpacerRef:x,detentMarkersRefs:w,leftEdgeRef:E,nativeEdgeSwipePrevention:T,scrollContainerTouchStartHandler:O,scrollContainerTouchEndHandler:k,styleAttributes:A,detents:I,bleedingBackgroundPresent:D}=p.useContext(hs)||{},N=$r(S,_);return g.jsxs("div",{...A("scrollContainer",["track","swipeDisabled","swipeOvershootDisabled","staging","positionCoveredStatus","scrollContainerShouldBePassThrough","swipeTrap"],{dataSilk:["0ac"]}),ref:y,onTouchStart:O,onTouchEnd:k,children:[g.jsx("div",{...A("frontSpacer",["track"]),ref:b}),g.jsxs("div",{...A("contentWrapper",["placement","track","swipeOvershootDisabled","swipeOutDisabledWithDetent","staging","position"]),ref:C,children:[g.jsx(d,{...A("content",["track","placement","scrollContainerShouldBePassThrough"],{className:s,dataSilk:[o,D&&"0af"]}),style:v,...u,ref:N,children:i}),T&&g.jsx("div",{...A("leftEdge",["track"]),ref:E})]}),g.jsx("div",{...A("backSpacer",["track"]),ref:x,children:I.map((R,F)=>g.jsx("div",{ref:j=>{w.current.length>I.length&&(w.current=w.current.slice(0,I.length)),w.current[F]=j},...A("detentMarker",["track","swipeOutDisabledWithDetent"]),style:{"--silk-aA":(n=I[F-1])!==null&&n!==void 0?n:"0px","--silk-aB":R,"--silk-aC":F}},F))})]})});RG.displayName="Sheet.Content";let Aye=Le.forwardRef(({asChild:e,...t},n)=>{let{className:r,"data-silk":i,...s}=t,{staging:o,placement:a,track:l,setBleedingBackgroundPresent:c}=p.useContext(hs)||{};p.useEffect(()=>(c(!0),()=>{c(!1)}),[c]);let u=l==="horizontal"||l==="vertical",d=Yn("Sheet",{staging:o,placement:a,track:l,bleedDisabled:u});return g.jsx(wc,{asChild:e,...d("bleedingBackground",["staging","placement","track","bleedDisabled"],{className:r,dataSilk:[i]}),...s,ref:n})});Aye.displayName="Sheet.BleedingBackground";let Iye=Le.forwardRef((e,t)=>{let{className:n,"data-silk":r,...i}=e,{travelAxis:s}=p.useContext(hs)||{},o=p.useMemo(()=>s==="vertical"?"horizontal":"vertical",[s]),[a,l]=p.useState(!1);p.useEffect(()=>l(wa()),[]);let c=Yn("SpecialWrapper");return g.jsx(xo.Root,{...c("root",[],{className:n,dataSilk:[r]}),active:a,axis:o,...i,ref:t})});Iye.displayName="Sheet.SpecialWrapper.Root";let Mye=Le.forwardRef((e,t)=>g.jsx(xo.Stabiliser,{...e,ref:t}));Mye.displayName="Sheet.SpecialWrapper.Content";let PG=Le.forwardRef((e,t)=>{let{asChild:n,travelAnimation:r,stackingAnimation:i,...s}=e,o=n?Zn:"h2",{titleId:a}=p.useContext(hs);return g.jsx(wc,{asChild:!0,travelAnimation:r,stackingAnimation:i,children:g.jsx(o,{id:a,ref:t,...s})})});PG.displayName="Sheet.Title";let Rye=Le.forwardRef((e,t)=>{let{asChild:n,travelAnimation:r,stackingAnimation:i,...s}=e,{descriptionId:o}=p.useContext(hs),a=n?Zn:"p";return g.jsx(wc,{asChild:!0,travelAnimation:r,stackingAnimation:i,children:g.jsx(a,{id:o,...s,ref:t})})});Rye.displayName="Sheet.Description";let Ea={Root:AG,Trigger:I9,View:IG,Backdrop:MG,Content:RG,Handle:TG,Portal:OG,Title:PG};Ed.displayName="SheetStack.ErrorBoundary";let Pye=Le.forwardRef((e,t)=>{let{componentId:n,className:r,"data-silk":i,asChild:s,...o}=e,a=p.useId();Tn(()=>(rt.addSheetStack({id:a}),()=>rt.removeSheetStack(a)),[a]);let[l,c]=p.useState([]),u=p.useCallback(E=>{c(T=>{let O,k=T.findIndex(A=>A.sheetId===E.sheetId);return k!==-1?(O=[...T])[k]=E:O=[...T,E],O})},[]),d=p.useCallback(E=>{c(T=>T.filter(O=>O.sheetId!==E))},[]),f=p.useCallback(E=>{let T=l.findIndex(O=>O.sheetId===E);return T===-1?l[l.length-1]:l[T-1]},[l]),[h,m]=p.useState(0);Tn(()=>{h===0&&rt.removeAllOutletPersistedStylesFromStack(a)},[h,a]);let[v,_]=p.useState([]),y=p.useCallback(E=>{_(T=>{let O=T.findIndex(k=>k.sheetId===E.sheetId);if(O===-1)return[...T,E];{let k=[...T];return k[O]=E,k}})},[]),b=p.useCallback(E=>{_(T=>T.filter(O=>O.sheetId!==E))},[]),C=p.useMemo(()=>v.some(E=>E.staging!=="none")?"not-none":"none",[v]),S=p.useMemo(()=>({stackId:a,sheetsCount:h,setSheetsCount:m,updateSheetStagingDataInStack:y,removeSheetStagingDataInStack:b,sheetsInStackMergedStaging:C,updateSheetDataInStack:u,removeSheetDataFromStack:d,getPreviousSheetDataInStack:f}),[a,h,y,b,C,u,d,f]),x=s?Zn:"div",w=Yn("SheetStack");return g.jsx(Ed,{children:g.jsx($h,{genericContext:k0,customContext:n,value:S,children:g.jsx(x,{...w("root",[],{className:r,dataSilk:[i]}),ref:t,...o})})})});Pye.displayName="SheetStack.Root";let Nye=Le.forwardRef((e,t)=>{let{forComponent:n="closest",asChild:r,stackingAnimation:i,style:s,className:o,...a}=e,l=n==="closest"?k0:n,{stackId:c,sheetsCount:u,sheetsInStackMergedStaging:d}=p.useContext(l);Tn(()=>{rt.addSheetStack({id:c})},[c]);let{styleValue:f,composedRef:h}=A9({sheetsCount:u,stackId:c,stackingAnimation:i,style:s},t),m=p.useMemo(()=>d!=="none",[d]),v=Yn("SheetStack",{}),_=r?Zn:"div";return g.jsx(_,{style:f,...v("outlet",[],{className:o,dataSilk:[m&&"0aj"]}),...a,ref:h})});Nye.displayName="SheetStack.Outlet";let M9=Le.createContext(null);M9.displayName="Scroll.GenericContext";let O0=Le.createContext({contentRef:null});O0.displayName="Scroll.Anonymous";let NG=e=>p.useContext(e??M9)||{},Dye=hn==="android"?102:54,Eb=T9||hn==="android"?"instant":"smooth",Lye=(e,t,n=300)=>{let r,i=e.scrollTop,s=()=>{clearTimeout(r),e.removeEventListener("scroll",o),t()},o=()=>{let a=e.scrollTop;if(a>i){s();return}i=a,clearTimeout(r),r=setTimeout(s,n)};r=setTimeout(s,n),e.addEventListener("scroll",o)},xb=e=>{if(!e)return{top:0,bottom:0};let t=e.getBoundingClientRect(),n=window.getComputedStyle(e),r=t.top+parseFloat(n.borderTopWidth),i=t.bottom-parseFloat(n.borderBottomWidth);return{top:r,bottom:i}},RI=()=>{let e=window.visualViewport.height,t=window.visualViewport.offsetTop;return{top:t,bottom:t+e}},Fye=(e,t)=>Math.abs(Math.min(e+t,0)),jye=(e,t)=>Math.max(e-t,0),PI=(e,t,n)=>{e.style.setProperty("height",t+"px"),n.current=t},Bye=({scrollContainer:e,elementTop:t,elementBottom:n,behavior:r,scrollMarginTop:i,scrollMarginBottom:s,scrollPortTop:o,scrollPortBottom:a,visualViewportTop:l,visualViewportBottom:c,beforeScrollCallback:u})=>{if(!e)return;let d=t-Math.max(o,l),f=Math.min(a,c)-n;if(d<i){let h=Math.max(-e.scrollTop,d-i);h!==0&&(u(),e.scrollBy({top:h,behavior:r}))}else if(f<s){let h=e.scrollHeight-e.clientHeight-e.scrollTop,m=Math.min(h,s-f);m!==0&&(u(),e.scrollBy({top:m,behavior:r}))}};Ed.displayName="Scroll.ErrorBoundary";let DG=Le.forwardRef((e,t)=>{let{asChild:n,className:r,componentId:i,componentRef:s,"data-silk":o,...a}=e,l=n?Zn:"div",c=p.useRef(()=>{}),u=p.useCallback((...v)=>{let _=c.current;return _(...v)},[]),d=p.useRef(()=>{}),f=p.useCallback((...v)=>{let _=d.current;return _(...v)},[]),h=p.useMemo(()=>({componentRef:s,scrollToRef:c,scrollTo:u,scrollByRef:d,scrollBy:f}),[s,f,u]),m=Yn("Scroll",{});return g.jsx(Ed,{children:g.jsx($h,{genericContext:M9,customContext:i,value:h,children:g.jsx(l,{...m("root",[],{className:r,dataSilk:[o]}),...a,ref:t})})})});DG.displayName="Scroll.Root";let Zp=null,LG=()=>{let e=p.useRef(null);Tn(()=>{Zp===null&&e.current&&(Zp=e.current.offsetWidth-e.current.clientWidth,document.body.style.setProperty("--ua-scrollbar-thickness",Zp+"px"))},[]);let t=Yn("Scroll"),n=g.jsx("div",{...t("UAScrollbarMeasurer"),ref:e});return Zp===null?typeof window<"u"?Al.createPortal(n,document.body):g.jsx(g.Fragment,{children:n}):null};LG.displayName="Scroll.Anonymous";let Jp=(e,t,n,r=!1)=>typeof e=="boolean"?e:typeof e?.[t]=="boolean"?e[t]:typeof e?.[n]=="boolean"?e[n]:r,FG=Le.forwardRef((e,t)=>{let{asChild:n,children:r,className:i,"data-silk":s,forComponent:o,axis:a="y",pageScroll:l=!1,nativePageScrollReplacement:c=!1,safeArea:u="visual-viewport",scrollGestureTrap:d=!1,scrollGestureOvershoot:f=!0,scrollGesture:h="auto",onScrollStart:m,onScroll:v,onScrollEnd:_,onFocusInside:y,nativeFocusScrollPrevention:b=!0,scrollAnimationSettings:C={skip:"auto"},scrollAnchoring:S=!0,scrollSnapType:x="none",scrollPadding:w="auto",scrollTimelineName:E="none",nativeScrollbar:T=!0,...O}=e,[k,A,I,D]=p.useMemo(()=>{let Oe=Jp(d,"xStart","x"),Ft=Jp(d,"xEnd","x"),bt=Jp(d,"yStart","y"),pt=Jp(d,"yEnd","y"),st=Oe,Et=Ft,Jn=bt,bn=pt;return a==="y"?Et=st=Oe!==Ft||Oe:bn=Jn=bt!==pt||bt,[st,Et,Jn,bn]},[d,a]),N=p.useMemo(()=>k!==A,[A,k]),R=p.useMemo(()=>I!==D,[D,I]),F=p.useMemo(()=>{if(x==="proximity"){if(a==="y")return"proximityY";if(a==="x")return"proximityX"}else{if(x!=="mandatory")return"none";if(a==="y")return"mandatoryY";if(a==="x")return"mandatoryX"}},[a,x]),j=n?Zn:"div",H=p.useRef(null),U=$r(H,t),M=p.useRef(null),me=p.useRef(null),de=p.useRef(null),P=p.useRef(null),Ce=p.useRef(null),Se=p.useRef(null),ne=cc(),{componentRef:ue,scrollToRef:te,scrollByRef:xe}=NG(o)||{},{getContentCoordinatesWhenRestingOnLastDetent:oe,contentRef:fe}=p.useContext(hs)||{},le=p.useMemo(()=>h===!1||h!=="auto",[h]),[we,Xe]=p.useState(!1),[ce,J]=p.useState(!1);Tn(()=>{l&&(Oe=>{let Ft="data-silk-native-page-scroll-replaced",bt=document.documentElement.getAttribute(Ft);if(!l&&bt!=="true")return;let pt=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(Oe!==!0&&(Oe!=="auto"||(hn==="android"||hn==="ios"||hn==="ipados")&&!pt)){var Et,Jn;J(!1);let bn=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(bn),bt==="false")return;let Es=(Jn=(Et=M.current)===null||Et===void 0?void 0:Et.scrollTop)!==null&&Jn!==void 0?Jn:0;document.documentElement.setAttribute(Ft,"false"),bt==="true"&&window.scrollTo(0,Es)}else{J(!0),M.current;let bn=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(bn),bt==="true")return;let Es=window.pageYOffset;if(document.documentElement.setAttribute(Ft,"true"),!M.current)return;M.current.scrollTop=Es}})(c)},[l,c]);let[Y,_e]=p.useState(!0),[re,W]=p.useState(!0);Tn(()=>{let Oe=M.current,Ft=me.current,bt=de.current,pt=P.current,st=new ResizeObserver(()=>{Oe&&(a==="y"&&Oe.scrollHeight>Oe.clientHeight?_e(!0):_e(!1),a==="x"&&Oe.scrollWidth>Oe.clientWidth?W(!0):W(!1))});return Oe&&Ft&&bt&&pt&&(st.observe(Oe,{box:"border-box"}),st.observe(Ft,{box:"border-box"}),st.observe(bt,{box:"border-box"}),st.observe(pt,{box:"border-box"})),()=>{st&&st.disconnect()}},[a,le]);let[B,Ie]=p.useState(!1);Tn(()=>{Ie(Y||re?!0:()=>!1)},[Y,re]);let[Te,X]=p.useState(!1);p.useEffect(()=>{X(uG())},[]);let L=p.useRef(!1),G=p.useRef(!1),$=N||R,[se,Me]=p.useState(k),[it,ht]=p.useState(I);p.useEffect(()=>{let Oe;if($){let Ft=Ce.current,bt=Se.current;if(!Ft||!bt)return;(Oe=new IntersectionObserver(pt=>{for(let st of pt)st.target===Ft?st.isIntersecting?(L.current=!0,a==="x"?Me(k):ht(I)):L.current=!1:st.target===bt&&(st.isIntersecting?(G.current=!0,a==="x"?Me(A):ht(D)):G.current=!1),L.current&&G.current&&(a==="x"?Me(!1):ht(!1))},{root:M.current,rootMargin:"0px",threshold:[1]})).observe(Ft),Oe.observe(bt)}return()=>{Oe&&Oe.disconnect()}},[A,k,D,I,a,$]);let at=p.useRef(!1),nt=p.useRef(),St=p.useRef(""),Tt=p.useRef(void 0);p.useEffect(()=>{let Oe=M.current;if(!Oe)return;let Ft=pt=>{Un.current=!1,Hs({nativeEvent:pt,defaultBehavior:{},handler:_});let st=document.activeElement;(hn=="ios"||hn=="ipados")&&st&&Ll(st)&&(Tt.current===void 0&&(St.current=st.style.getPropertyValue("opacity"),st.style.setProperty("opacity","0.9999","important")),clearTimeout(Tt.current),Tt.current=void 0,Tt.current=setTimeout(()=>{St.current===""?st.style.removeProperty("opacity"):st.style.setProperty("opacity",St.current),Tt.current=void 0},55))},bt=pt=>{if(!at.current){let{dismissKeyboard:st}=Hs({nativeEvent:pt,defaultBehavior:{dismissKeyboard:!1},handler:m});st&&!at.current&&!Un.current&&F1()&&Oe.focus({preventScroll:!0})}clearTimeout(nt.current),nt.current=setTimeout(()=>{at.current=!1,Xe(!1),"onscrollend"in window||Ft(null)},90),at.current=!0,Xe(!0)};return Oe.addEventListener("scroll",bt),"onscrollend"in window&&Oe.addEventListener("scrollend",Ft),()=>{Oe.removeEventListener("scroll",bt),"onscrollend"in window&&Oe.removeEventListener("scrollend",Ft)}},[_,m]),p.useEffect(()=>(b&&rt.addNativeFocusScrollPreventer(ne),()=>{b&&rt.removeNativeFocusScrollPreventer(ne)}),[b,ne]);let Pt=p.useMemo(()=>l&&!ce,[ce,l]),gt=p.useMemo(()=>a==="y"?Pt?()=>window.scrollY:()=>{var Oe;return(Oe=M.current)===null||Oe===void 0?void 0:Oe.scrollTop}:Pt?()=>window.scrollX:()=>{var Oe;return(Oe=M.current)===null||Oe===void 0?void 0:Oe.scrollLeft},[a,Pt]),yn=p.useMemo(()=>a==="y"?Pt?()=>document.body.scrollHeight-window.innerHeight:()=>{let Oe=M.current;return Oe?.scrollHeight-Oe?.offsetHeight}:Pt?()=>document.body.scrollWidth-window.innerWidth:()=>{let Oe=M.current;return Oe?.scrollWidth-Oe?.offsetWidth},[a,Pt]),Mn=p.useCallback(()=>gt()/yn(),[gt,yn]),Rn=p.useCallback(Oe=>{v?.({progress:Mn(),distance:gt(),availableDistance:yn(),nativeEvent:Oe})},[Mn,gt,yn,v]);p.useEffect(()=>(Pt&&v&&document.addEventListener("scroll",Rn),()=>{Pt&&v&&document.removeEventListener("scroll",Rn)}),[Pt,v,Rn]);let zt=p.useCallback((Oe,{progress:Ft,distance:bt,animationSettings:pt={skip:"default"}})=>{let st=bt??(Ft??NaN)*yn();if(isNaN(st))return;let Et=pt?.skip,Jn=Pt?window:M.current;Jn?.[Oe==="to"?"scrollTo":"scrollBy"]({[a==="y"?"top":"left"]:st,behavior:Et===!0?"instant":Et===!1?"smooth":Et==="default"?"auto":T9?"instant":"smooth"})},[a,yn,Pt]),Di=p.useCallback(Oe=>zt("to",Oe),[zt]),gn=p.useCallback(Oe=>zt("by",Oe),[zt]);p.useEffect(()=>{te.current=Di,xe.current=gn},[gn,xe,Di,te]),p.useImperativeHandle(ue,()=>({getProgress:Mn,getDistance:gt,getAvailableDistance:yn,scrollTo:Di,scrollBy:gn}),[yn,gt,Mn,Di,gn]);let Yo=p.useRef(!1),Ad=p.useRef(),Ic=p.useRef(),Yr=p.useRef(0),Zo=p.useRef(0),Un=p.useRef(!1),We=p.useCallback(({scrollIntoPlace:Oe=!0,scrollBehavior:Ft,safeViewport:bt="visual-viewport"})=>{let pt,st;if(!M.current||!me.current||!P.current||!de.current||a!=="y"||bt==="none"||fe?.current&&oe().top===null||!fe?.current&&oe)return;if(fe?.current){let{top:Jr,bottom:ll}=xb(M.current),Ar=fe.current.getBoundingClientRect(),Li=Ar.top,Ye=Ar.bottom;pt=oe().top+(Jr-Li),st=oe().bottom-(Ye-ll)}else{let{top:Jr,bottom:ll}=xb(M.current);pt=Jr,st=ll}let{top:Et,bottom:Jn}=RI(),bn=Math.min(st,bt==="visual-viewport"?Jn:window.innerHeight),Es=Fye(pt,bt==="visual-viewport"?Et:0),xs=jye(st,bt==="visual-viewport"?Jn:window.innerHeight);if(1>Math.abs(Yr.current-Es)&&1>Math.abs(Zo.current-xs))return;let Jo=-1*(bn-P.current.getBoundingClientRect().top),ol=M.current.offsetHeight-me.current.offsetHeight>=0,al=()=>{PI(de.current,Es,Yr),PI(P.current,xs,Zo)};if(Ft==="smooth"&&(Jo<0||ol)?Oe&&(Un.current=!0,ol?M.current.scrollTo({top:0,behavior:Ft}):M.current.scrollBy({top:Jo,behavior:Ft}),Zo.current=xs,Lye(M.current,()=>{M.current&&ol&&M.current.scrollTo({top:0,behavior:"instant"}),al()})):al(),!Oe)return{spacersHeightSetter:al,verticalScrollOffsetRequired:Jo}},[a,oe,fe]),rn=p.useCallback(()=>We({scrollBehavior:Eb,safeViewport:u}),[u,We]);Tn(()=>{rn()},[rn]),p.useEffect(()=>{let Oe=M.current,Ft=st=>{clearTimeout(Ad.current),clearTimeout(Ic.current);let Et=st.target;if(Et===Oe)return;let{scrollIntoView:Jn}=Hs({nativeEvent:st,defaultBehavior:{scrollIntoView:!0},handler:y});if(!Ll(Et)||aS(Et))return;let bn=Et.getBoundingClientRect().top-0,Es=Et.getBoundingClientRect().bottom-0,{top:xs,bottom:Jo}=xb(M.current),ol=xs-0,al=Jo-0,Jr=()=>{if(clearTimeout(Ad.current),clearTimeout(Ic.current),!F1())return;Yo.current=!0;let{top:ll,bottom:Ar}=RI(),{spacersHeightSetter:Li=()=>{}}=We({scrollIntoPlace:!1,scrollBehavior:"smooth",safeViewport:u})||{};Li(),Jn&&Bye({scrollContainer:M.current,behavior:Eb,scrollMarginTop:64,scrollMarginBottom:Dye,elementTop:bn,elementBottom:Es,scrollPortTop:ol,scrollPortBottom:al,visualViewportTop:ll,visualViewportBottom:Ar,beforeScrollCallback:()=>Un.current=!0}),visualViewport.removeEventListener("resize",Jr)};Yo.current?(Jr(),visualViewport.addEventListener("resize",Jr),Ad.current=setTimeout(()=>{visualViewport.removeEventListener("resize",Jr)},900)):(visualViewport.addEventListener("resize",Jr),Ic.current=setTimeout(()=>{visualViewport.removeEventListener("resize",Jr),Jr()},900))},bt=st=>{let Et=st.target;!Ll(Et)||aS(Et)||Ll(st.relatedTarget)||(Yo.current=!1,We({scrollBehavior:Eb,safeViewport:u==="none"?"none":"layout-viewport"}))},pt=()=>{var st;(st=M.current)===null||st===void 0||st.removeEventListener("scroll",rn),setTimeout(()=>{rn(),setTimeout(()=>{var Et;(Et=M.current)===null||Et===void 0||Et.addEventListener("scroll",rn,{once:!0})},200)},1),setTimeout(()=>rn,350)};return Oe?.addEventListener("focus",Ft,{capture:!0}),Oe?.addEventListener("blur",bt,{capture:!0}),visualViewport.addEventListener("resize",pt),Oe?.addEventListener("scroll",rn,{once:!0}),()=>{Oe?.removeEventListener("focus",Ft,{capture:!0}),Oe?.removeEventListener("blur",bt,{capture:!0}),visualViewport.removeEventListener("resize",pt),Oe?.removeEventListener("scroll",rn)}},[y,u,We,rn]);let H0=cG(M),no=p.useMemo(()=>l&&!ce,[ce,l]),Zr=Yn("Scroll",{axis:a,scrollTrapX:se,scrollTrapY:!Te&&it||H0&&!no,scrollGestureOvershoot:f,scrollDisabled:le,pageScroll:l,nativePageScrollReplacement:c,overflowX:re,overflowY:Y,skipScrollAnimation:C?.skip,scrollAnchoring:S,scrollSnapType:F,nativeScrollbar:T,scrollOngoing:we});return g.jsxs(O0.Provider,{value:{contentRef:me,axis:a,styleAttributes:Zr,nativeFocusScrollPrevention:b,swipeTrapIncapable:no,focusable:B,pageScroll:l,nativePageScrollReplacement:c,scrollContainerRef:M,swipeTrapObserverRequired:$,startScrollSpyRef:Ce,endScrollSpyRef:Se,startSpacerRef:de,endSpacerRef:P,scrollHandler:Rn,scrollPadding:w,scrollTimelineName:E},children:[l&&c!==!0&&g.jsx("style",{dangerouslySetInnerHTML:{__html:`
                            html[data-silk-native-page-scroll-replaced="false"] > body {
                                scroll-padding: ${w};
                                scroll-timeline-axis: ${E} ${a};
                            }
                        `}}),l&&c===!0&&g.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-true",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "true");
                        `}}),l&&c===!1&&g.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-false",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "false");
                        `}}),l&&c==="auto"&&g.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-auto",dangerouslySetInnerHTML:{__html:`
                            const standalone =
                                window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
                            const mobile = window.navigator.userAgent?.match(/android|iPhone|iPad/i);

                            document.documentElement.setAttribute("data-standalone", !!standalone);
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", !(mobile && !standalone));
                        `}}),g.jsx(LG,{}),g.jsx(j,{...Zr("view",["axis","pageScroll","skipScrollAnimation","scrollOngoing"],{className:i,dataSilk:[s]}),...O,ref:U,children:r})]})});FG.displayName="Scroll.View";let hS=Le.forwardRef(({side:e,...t},n)=>{let{axis:r}=p.useContext(O0)||{},i=Yn("Scroll",{side:e,axis:r});return g.jsx("div",{...i("spy",["side","axis"]),ref:n,...t})});hS.displayName="Scroll.Anonymous";let jG=Le.forwardRef((e,t)=>{let{asChild:n,className:r,"data-silk":i,...s}=e,o=n?Zn:"div",{contentRef:a,styleAttributes:l,nativeFocusScrollPrevention:c,swipeTrapIncapable:u,focusable:d,axis:f,pageScroll:h,nativePageScrollReplacement:m,scrollContainerRef:v,swipeTrapObserverRequired:_,startScrollSpyRef:y,endScrollSpyRef:b,startSpacerRef:C,endSpacerRef:S,scrollHandler:x,scrollPadding:w,scrollTimelineName:E}=p.useContext(O0)||{},T=$r(a,t);return g.jsxs("div",{...l("scrollContainer",["axis","pageScroll","scrollTrapX","scrollTrapY","scrollGestureOvershoot","scrollDisabled","overflowX","overflowY","skipScrollAnimation","scrollAnchoring","scrollSnapType","nativeScrollbar"],{dataSilk:[i,"0ad",c&&"0ah",u&&"0ai"]}),style:{scrollPadding:w,scrollTimeline:E+" "+f},tabIndex:d?0:c?-1:void 0,role:h&&!m?void 0:"region",onScroll:x,ref:v,children:[_&&g.jsx(hS,{side:"start",ref:y}),f==="y"&&g.jsx("div",{ref:C,...l("startSpacer",["axis","pageScroll"])}),g.jsx(o,{...l("content",["axis","scrollTrapX","scrollTrapY","overflowX","overflowY"],{className:r,dataSilk:[i]}),...s,ref:T}),f==="y"&&g.jsx("div",{ref:S,...l("endSpacer",["axis","pageScroll"])}),_&&g.jsx(hS,{side:"end",ref:b})]})});jG.displayName="Scroll.Content";let Uye=Le.forwardRef(({asChild:e,...t},n)=>{let r=e?Zn:"button",{forComponent:i,onPress:s,onClick:o,children:a,action:l,...c}=t,{type:u,...d}=l||{},{scrollTo:f,scrollBy:h}=NG(i),m=p.useRef(null),v=$r(m,n);return g.jsx(r,{onClick:_=>{var y;let{forceFocus:b,runAction:C}=Hs({nativeEvent:_,defaultBehavior:{forceFocus:!0,runAction:!0},handler:s});if(b&&((y=m.current)===null||y===void 0||y.focus({preventScroll:!0})),C){if(u==="scroll-to")return f(d);if(u==="scroll-by")return h(d)}o?.(_)},ref:v,...c,children:a})});Uye.displayName="Sheet.Trigger";let kb={Root:DG,View:FG,Content:jG},qye=e=>p.useContext(e??Ga)||{},BG=Le.forwardRef((e,t)=>{let{asChild:n,className:r,"data-silk":i,timing:s,forComponent:o,tabIndex:a,...l}=e,c=n?Zn:"div",{sheetId:u}=o?qye(o):{},d=u??"any",f=p.useCallback(C=>{rt.addAutoFocusTarget({layerId:d,element:C,timing:s})},[d,s]),h=p.useCallback(C=>{rt.removeAutoFocusTarget(C)},[]),m=p.useRef(null),v=p.useCallback(C=>{C?f(C):h(m.current),m.current=C},[f,h]),_=p.useRef(!0);p.useEffect(()=>(m.current&&!_.current&&f(m.current),_.current=!1,()=>{m.current&&h(m.current)}),[f,h]);let y=$r(v,t),b=Yn("AutoFocusTarget",{});return g.jsx(c,{...b("root",[],{className:r,dataSilk:[i]}),...n||Number.isInteger(a)?{}:{tabIndex:-1},...l,ref:y})});BG.displayName="AutoFocusTarget.Root";let zye={Root:BG},Gye=Le.forwardRef((e,t)=>{let{asChild:n,disabled:r=!1,children:i,contentGetter:s,forComponent:o,...a}=e,l=p.useRef(null),c=$r(l,t),u=p.useMemo(()=>!!i,[i]);return p.useEffect(()=>{let d,f;if(!r){let h,m=!1;if(u&&l.current?h=l.current:s&&(h=L1(s))&&(m=!0),h){let v=Array.isArray(o)?o:o?[o]:[];d=rt.addIsland({componentId:v,element:h}),m&&(f=new MutationObserver(()=>{L1(s)||(rt.removeIsland(d),f.disconnect())})).observe(h.parentElement,{childList:!0})}}return()=>{r||(rt.removeIsland(d),f?.disconnect())}},[t,r,u,s,o]),i?g.jsx(xo.Root,{active:!r,asChild:n,"data-silk":"0ag",...a,ref:c,children:i}):null});Gye.displayName="Island.Root";let Hye=Le.forwardRef((e,t)=>{let{asChild:n,children:r,...i}=e;return g.jsx(xo.Stabiliser,{asChild:n,...i,ref:t,children:r})});Hye.displayName="Island.Content";let Vye=Le.forwardRef(({asChild:e,children:t,contentGetter:n,disabled:r=!1,selfManagedInertOutside:i=!0,...s},o)=>{let a=cc(),l=p.useRef(null),c=$r(l,o),u=e?Zn:"div",d=p.useMemo(()=>!!t,[t]);return Tn(()=>{let f;if(!r&&a){let h,m=!1;d&&l.current?h=l.current:n&&(h=L1(n))&&(m=!0),h&&(rt.updateLayer({external:!0,layerId:a,viewElement:h,inertOutside:i,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},defaultClickOutsideAction:()=>{},defaultEscapeKeyDownAction:()=>{}}),m&&(f=new MutationObserver(()=>{L1(n)||(rt.removeLayer(a),f.disconnect())})).observe(h.parentElement,{childList:!0}))}return()=>{!r&&a&&(rt.removeLayer(a),f?.disconnect())}},[d,n,r,a,i]),g.jsx(u,{ref:c,...s,children:t})});Vye.displayName="ExternalOverlay.Root";const UG=nn(()=>({anySheetOpen$:kt(!1)}));function $ye(e){"use forget";const t=Re.c(12);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const i=pe();let s;t[3]!==i?(s=UG(i),t[3]=i,t[4]=s):s=t[4];const o=s;let a;t[5]!==r||t[6]!==o.anySheetOpen$?(a=c=>{o.anySheetOpen$.set(c),r.onPresentedChange?.(c)},t[5]=r,t[6]=o.anySheetOpen$,t[7]=a):a=t[7];let l;return t[8]!==n||t[9]!==r||t[10]!==a?(l=g.jsx(Ea.Root,{license:"commercial","data-content-sheet-root":!0,...r,onPresentedChange:a,children:n}),t[8]=n,t[9]=r,t[10]=a,t[11]=l):l=t[11],l}function Wye(e){"use forget";const t=Re.c(23);let n,r,i,s,o;t[0]!==e?({children:n,className:r,onTravel:s,onCloseComplete:i,...o}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5]);const a=p.useRef(null),l=Vg(),c=l?"center":"bottom",[u,d]=p.useState(null),f=pe();let h;t[6]!==f?(h=UG(f),t[6]=f,t[7]=h):h=t[7];const m=h;let v;t[8]!==i||t[9]!==s||t[10]!==m?(v=x=>{const{progress:w,...E}=x;if(!a.current)return s?.({progress:w,...E});w<.999?d(null):w===0?(m.anySheetOpen$.set(!1),i?.()):(m.anySheetOpen$.set(!0),d("opened")),s?.({progress:w,...E})},t[8]=i,t[9]=s,t[10]=m,t[11]=v):v=t[11];const _=v,y=`view-${l}`;let b;t[12]!==r?(b=ke("top-0 bottom-[initial] h-[max(100dvh,100%)] [--sheet-radius:16px] sm:h-full",r),t[12]=r,t[13]=b):b=t[13];let C;t[14]===Symbol.for("react.memo_cache_sentinel")?(C={focus:!1},t[14]=C):C=t[14];let S;return t[15]!==n||t[16]!==c||t[17]!==o||t[18]!==y||t[19]!==b||t[20]!==_||t[21]!==u?(S=g.jsx(Ea.View,{className:b,"data-sheet-travel-state":u,"data-ignore-for-page-load":!0,contentPlacement:c,tracks:"bottom",swipeOvershoot:!1,nativeEdgeSwipePrevention:!1,onTravel:_,onDismissAutoFocus:C,ref:a,...o,children:n},y),t[15]=n,t[16]=c,t[17]=o,t[18]=y,t[19]=b,t[20]=_,t[21]=u,t[22]=S):S=t[22],S}function Kye(e){"use forget";const t=Re.c(2),n=p.useRef(null);let r;return t[0]!==e?(r=g.jsx(Ea.Backdrop,{ref:n,...e}),t[0]=e,t[1]=r):r=t[1],r}function Yye(e){"use forget";const t=Re.c(15);let n,r,i,s,o;t[0]!==e?({children:n,size:o,className:r,ref:i,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5]);const a=o===void 0?"fill":o,l=a==="fit"&&"h-min max-h-[calc(100%-max(env(safe-area-inset-top),6px))]",c=a==="fill"&&"h-[calc(100%-max(env(safe-area-inset-top),6px))] sm:h-[calc(100%-4rem)]";let u;t[6]!==r||t[7]!==l||t[8]!==c?(u=ke("max-w-md [border-radius:var(--sheet-radius)_var(--sheet-radius)_0_0] pb-4 focus:outline-hidden sm:w-[calc(800px-1.25rem)] sm:[border-radius:var(--sheet-radius)]",l,c,r),t[6]=r,t[7]=l,t[8]=c,t[9]=u):u=t[9];let d;return t[10]!==n||t[11]!==i||t[12]!==s||t[13]!==u?(d=g.jsx(Ea.Content,{className:u,...s,ref:i,children:n}),t[10]=n,t[11]=i,t[12]=s,t[13]=u,t[14]=d):d=t[14],d}const ko={Root:$ye,Portal:Ea.Portal,View:Wye,Backdrop:Kye,Content:Yye,Trigger:Ea.Trigger,Handle:Ea.Handle,Title:Ea.Title};function Zye({children:e,className:t,...n}){return g.jsx(kb.Root,{asChild:!0,children:g.jsx(kb.View,{className:ke("min-h-0",t),safeArea:"visual-viewport",scrollTimelineName:"--sheet-scroller",...n,children:g.jsx(kb.Content,{className:"align-content-start grid",tabIndex:-1,children:e})})})}function Jye({className:e,children:t,handle:n="auto",...r}){const i=Vg(),s=n==="auto"?!i:n;return g.jsxs(ko.Content,{className:ke("bg-token-bg-primary content-sheet popup shadow-long @container/sheet-content grid [--padding:1rem]",s?"grid-rows-[min-content_min-content_1fr_min-content]":"grid-rows-[min-content_1fr_min-content]",e),...r,children:[s&&g.jsx(zye.Root,{timing:"present",className:"flex justify-center focus-visible:outline-none",children:g.jsx(Qye,{})}),t]})}function Qye(e){"use forget";const t=Re.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let i;t[3]!==n?(i=ke("bg-token-bg-secondary! dark:bg-token-bg-tertiary! col-start-1 col-end-[-1] mt-1.5 h-1 self-start justify-self-center rounded-full select-none",n),t[3]=n,t[4]=i):i=t[4];let s;return t[5]!==r||t[6]!==i?(s=g.jsx(ko.Handle,{className:i,...r}),t[5]=r,t[6]=i,t[7]=s):s=t[7],s}function Xye(e){"use forget";const t=Re.c(9);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let i;t[3]!==r.className?(i=ke("min-h-header-height relative grid grid-cols-[1fr_min-content] items-center justify-between gap-3 py-2.5 ps-4 pe-2 select-none",r.className),t[3]=r.className,t[4]=i):i=t[4];let s;return t[5]!==n||t[6]!==r||t[7]!==i?(s=g.jsx("header",{...r,className:i,children:n}),t[5]=n,t[6]=r,t[7]=i,t[8]=s):s=t[8],s}function e2e(e){"use forget";const t=Re.c(5);let n;t[0]!==e.className?(n=ke("text-token-text-primary m-0 w-full min-w-0 overflow-hidden text-lg font-normal overflow-ellipsis whitespace-nowrap [text-box-trim:trim-both]",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=g.jsx(ko.Title,{...e,className:n}),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}function t2e(e){"use forget";const t=Re.c(5);let n;t[0]!==e.className?(n=ke("z-10 grid grid-flow-col justify-end gap-3 px-[var(--padding)] pt-4",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=g.jsx("footer",{...e,className:n}),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}const n2e=S_e(un,e=>g.jsx(ko.Trigger,{action:"dismiss",asChild:!0,children:e}));function r2e(e){"use forget";const t=Re.c(12);let n,r,i,s;t[0]!==e?({fullBleed:i,className:r,children:n,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=!i&&"px-(--thread-content-margin)";let a;t[5]!==r||t[6]!==o?(a=ke(o,r),t[5]=r,t[6]=o,t[7]=a):a=t[7];let l;return t[8]!==n||t[9]!==s||t[10]!==a?(l=g.jsx("section",{"data-content-sheet-section":!0,className:a,...s,children:n}),t[8]=n,t[9]=s,t[10]=a,t[11]=l):l=t[11],l}function i2e(e){"use forget";const t=Re.c(9);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const i=Vg(),o=ese()||i;let a;t[3]!==o?(a={preset:"snappy",skip:o},t[3]=o,t[4]=a):a=t[4];const l=a;let c;return t[5]!==l||t[6]!==n||t[7]!==r?(c=g.jsx(ko.View,{enteringAnimationSettings:l,exitingAnimationSettings:l,...r,children:n}),t[5]=l,t[6]=n,t[7]=r,t[8]=c):c=t[8],c}function s2e(e){"use forget";const t=Re.c(9);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const s=Vg()&&"before:starting:backdrop-blur-0 fixed inset-0 z-50 bg-transparent opacity-100! before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 before:starting:opacity-0";let o;t[3]!==n||t[4]!==s?(o=ke(s,n),t[3]=n,t[4]=s,t[5]=o):o=t[5];let a;return t[6]!==r||t[7]!==o?(a=g.jsx(ko.Backdrop,{themeColorDimming:!1,className:o,...r}),t[6]=r,t[7]=o,t[8]=a):a=t[8],a}const Ls={Root:ko.Root,Trigger:ko.Trigger,Portal:ko.Portal,View:i2e,Backdrop:s2e,Content:Jye,HeaderBar:Xye,Title:e2e,FooterBar:t2e,DismissAction:n2e,ScrollRoot:Zye,ContentSection:r2e},o2e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.667 2.08496C15.0382 2.08509 18.582 5.62875 18.582 10C18.582 14.3713 15.0382 17.9149 10.667 17.915C6.29566 17.915 2.75195 14.3713 2.75195 10C2.75195 5.62867 6.29566 2.08496 10.667 2.08496ZM13.7588 6.74805C13.4585 6.53673 13.0434 6.60897 12.832 6.90918L9.35059 11.8545L7.82617 10.1777L7.72559 10.0879C7.47599 9.90563 7.12443 9.91699 6.88672 10.1328C6.64884 10.3491 6.60354 10.6989 6.76172 10.9648L6.8418 11.0723L8.9248 13.3643L8.97852 13.417C9.10977 13.532 9.28278 13.592 9.45898 13.5811C9.66011 13.5683 9.84489 13.4646 9.96094 13.2998L13.9199 7.6748C14.131 7.37468 14.0586 6.95952 13.7588 6.74805Z"})),R9=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M12.0961 2.91371C12.3297 2.68688 12.6984 2.64794 12.9779 2.83852C13.2571 3.02905 13.3554 3.38601 13.2299 3.68618L13.1615 3.81118L6.91152 12.9772C6.79412 13.1494 6.60631 13.2604 6.39882 13.2799C6.19137 13.2994 5.98565 13.226 5.83828 13.0788L2.08828 9.32875L1.99843 9.2184C1.81921 8.94677 1.84928 8.57767 2.08828 8.33852C2.3274 8.0994 2.69648 8.06947 2.96816 8.24868L3.07851 8.33852L6.23085 11.4909L12.0053 3.02211L12.0961 2.91371Z"})),a2e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),l2e={threshold:1,rootMargin:"0%"};function c2e({target:e,onChange:t,options:n=l2e}){if(!e)return;const r=new IntersectionObserver(s=>{const o=Array.isArray(r.thresholds)?r.thresholds:[r.thresholds];s.forEach(a=>{const l=a.isIntersecting&&o.some(c=>a.intersectionRatio>=c);t(l,a)})},n);function i(){r.disconnect()}return r.observe(e),i}function u2e({setIsScrolledToEdge:e,className:t,options:n}){return g.jsx("div",{"aria-hidden":!0,"data-edge":!0,className:ke("pointer-events-none h-px w-px",t),ref:r=>c2e({target:r,onChange:i=>e(!i),options:n})})}const d2e=({isOpen:e,onClose:t})=>{const n=p.useRef(null),r=n.current?.ownerDocument.body??null;return p.useEffect(()=>{if(!r||!e)return;const i=s=>{(!s.relatedTarget||s.relatedTarget instanceof HTMLElement&&!r.contains(s.relatedTarget))&&t()};return r.addEventListener("blur",i,{capture:!0}),()=>r.removeEventListener("blur",i,{capture:!0})},[e,r]),{triggerRef:n,container:r}};var f2e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xc=new WeakMap,Qp=new WeakMap,Xp={},Tb=0,qG=function(e){return e&&(e.host||qG(e.parentNode))},h2e=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=qG(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},p2e=function(e,t,n,r){var i=h2e(t,Array.isArray(e)?e:[e]);Xp[n]||(Xp[n]=new WeakMap);var s=Xp[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),m=h!==null&&h!=="false",v=(Xc.get(f)||0)+1,_=(s.get(f)||0)+1;Xc.set(f,v),s.set(f,_),o.push(f),v===1&&m&&Qp.set(f,!0),_===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),a.clear(),Tb++,function(){o.forEach(function(d){var f=Xc.get(d)-1,h=s.get(d)-1;Xc.set(d,f),s.set(d,h),f||(Qp.has(d)||d.removeAttribute(r),Qp.delete(d)),h||d.removeAttribute(n)}),Tb--,Tb||(Xc=new WeakMap,Xc=new WeakMap,Qp=new WeakMap,Xp={})}},m2e=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=f2e(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),p2e(r,i,n,"aria-hidden")):function(){return null}},pS=["Enter"," "],g2e=["ArrowDown","PageUp","Home"],zG=["ArrowUp","PageDown","End"],v2e=[...g2e,...zG],_2e={ltr:[...pS,"ArrowRight"],rtl:[...pS,"ArrowLeft"]},y2e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wh="Menu",[rh,b2e,C2e]=kB(Wh),[Ec,GG]=pd(Wh,[C2e,o0,n0]),Kh=o0(),HG=n0(),[VG,rl]=Ec(Wh),[S2e,Yh]=Ec(Wh),$G=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,a=Kh(t),[l,c]=p.useState(null),u=p.useRef(!1),d=Ri(s),f=Pw(i);return p.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),g.jsx(Vw,{...a,children:g.jsx(VG,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:g.jsx(S2e,{scope:t,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};$G.displayName=Wh;var w2e="MenuAnchor",P9=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Kh(n);return g.jsx(gU,{...i,...r,ref:t})});P9.displayName=w2e;var N9="MenuPortal",[E2e,WG]=Ec(N9,{forceMount:void 0}),KG=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=rl(N9,t);return g.jsx(E2e,{scope:t,forceMount:n,children:g.jsx(ys,{present:n||s.open,children:g.jsx(Oh,{asChild:!0,container:i,children:r})})})};KG.displayName=N9;var Ai="MenuContent",[x2e,D9]=Ec(Ai),YG=p.forwardRef((e,t)=>{const n=WG(Ai,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=rl(Ai,e.__scopeMenu),o=Yh(Ai,e.__scopeMenu);return g.jsx(rh.Provider,{scope:e.__scopeMenu,children:g.jsx(ys,{present:r||s.open,children:g.jsx(rh.Slot,{scope:e.__scopeMenu,children:o.modal?g.jsx(k2e,{...i,ref:t}):g.jsx(T2e,{...i,ref:t})})})})}),k2e=p.forwardRef((e,t)=>{const n=rl(Ai,e.__scopeMenu),r=p.useRef(null),i=An(t,r);return p.useEffect(()=>{const s=r.current;if(s)return m2e(s)},[]),g.jsx(L9,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),T2e=p.forwardRef((e,t)=>{const n=rl(Ai,e.__scopeMenu);return g.jsx(L9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),L9=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:m,...v}=e,_=rl(Ai,n),y=Yh(Ai,n),b=Kh(n),C=HG(n),S=b2e(n),[x,w]=p.useState(null),E=p.useRef(null),T=An(t,E,_.onContentChange),O=p.useRef(0),k=p.useRef(""),A=p.useRef(0),I=p.useRef(null),D=p.useRef("right"),N=p.useRef(0),R=m?w4:p.Fragment,F=m?{as:Vu,allowPinchZoom:!0}:void 0,j=U=>{const M=k.current+U,me=S().filter(ue=>!ue.disabled),de=document.activeElement,P=me.find(ue=>ue.ref.current===de)?.textValue,Ce=me.map(ue=>ue.textValue),Se=B2e(Ce,M,P),ne=me.find(ue=>ue.textValue===Se)?.ref.current;(function ue(te){k.current=te,window.clearTimeout(O.current),te!==""&&(O.current=window.setTimeout(()=>ue(""),1e3))})(M),ne&&setTimeout(()=>ne.focus())};p.useEffect(()=>()=>window.clearTimeout(O.current),[]),vF();const H=p.useCallback(U=>D.current===I.current?.side&&q2e(U,I.current?.area),[]);return g.jsx(x2e,{scope:n,searchRef:k,onItemEnter:p.useCallback(U=>{H(U)&&U.preventDefault()},[H]),onItemLeave:p.useCallback(U=>{H(U)||(E.current?.focus(),w(null))},[H]),onTriggerLeave:p.useCallback(U=>{H(U)&&U.preventDefault()},[H]),pointerGraceTimerRef:A,onPointerGraceIntentChange:p.useCallback(U=>{I.current=U},[]),children:g.jsx(R,{...F,children:g.jsx(S4,{asChild:!0,trapped:i,onMountAutoFocus:et(s,U=>{U.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Th,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:g.jsx(PB,{asChild:!0,...C,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:x,onCurrentTabStopIdChange:w,onEntryFocus:et(l,U=>{y.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(vU,{role:"menu","aria-orientation":"vertical","data-state":fH(_.open),"data-radix-menu-content":"",dir:y.dir,...b,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:et(v.onKeyDown,U=>{const me=U.target.closest("[data-radix-menu-content]")===U.currentTarget,de=U.ctrlKey||U.altKey||U.metaKey,P=U.key.length===1;me&&(U.key==="Tab"&&U.preventDefault(),!de&&P&&j(U.key));const Ce=E.current;if(U.target!==Ce||!v2e.includes(U.key))return;U.preventDefault();const ne=S().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);zG.includes(U.key)&&ne.reverse(),F2e(ne)}),onBlur:et(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(O.current),k.current="")}),onPointerMove:et(e.onPointerMove,ih(U=>{const M=U.target,me=N.current!==U.clientX;if(U.currentTarget.contains(M)&&me){const de=U.clientX>N.current?"right":"left";D.current=de,N.current=U.clientX}}))})})})})})})});YG.displayName=Ai;var O2e="MenuGroup",F9=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Kt.div,{role:"group",...r,ref:t})});F9.displayName=O2e;var A2e="MenuLabel",ZG=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Kt.div,{...r,ref:t})});ZG.displayName=A2e;var B1="MenuItem",NI="menu.itemSelect",A0=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=p.useRef(null),o=Yh(B1,e.__scopeMenu),a=D9(B1,e.__scopeMenu),l=An(t,s),c=p.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const f=new CustomEvent(NI,{bubbles:!0,cancelable:!0});d.addEventListener(NI,h=>r?.(h),{once:!0}),fF(d,f),f.defaultPrevented?c.current=!1:o.onClose()}};return g.jsx(JG,{...i,ref:l,disabled:n,onClick:et(e.onClick,u),onPointerDown:d=>{e.onPointerDown?.(d),c.current=!0},onPointerUp:et(e.onPointerUp,d=>{c.current||d.currentTarget?.click()}),onKeyDown:et(e.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||pS.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});A0.displayName=B1;var JG=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=D9(B1,n),a=HG(n),l=p.useRef(null),c=An(t,l),[u,d]=p.useState(!1),[f,h]=p.useState("");return p.useEffect(()=>{const m=l.current;m&&h((m.textContent??"").trim())},[s.children]),g.jsx(rh.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:g.jsx(NB,{asChild:!0,...a,focusable:!r,children:g.jsx(Kt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:et(e.onPointerMove,ih(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,ih(m=>o.onItemLeave(m))),onFocus:et(e.onFocus,()=>d(!0)),onBlur:et(e.onBlur,()=>d(!1))})})})}),I2e="MenuCheckboxItem",QG=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return g.jsx(rH,{scope:e.__scopeMenu,checked:n,children:g.jsx(A0,{role:"menuitemcheckbox","aria-checked":U1(n)?"mixed":n,...i,ref:t,"data-state":U9(n),onSelect:et(i.onSelect,()=>r?.(U1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});QG.displayName=I2e;var XG="MenuRadioGroup",[M2e,R2e]=Ec(XG,{value:void 0,onValueChange:()=>{}}),eH=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Ri(r);return g.jsx(M2e,{scope:e.__scopeMenu,value:n,onValueChange:s,children:g.jsx(F9,{...i,ref:t})})});eH.displayName=XG;var tH="MenuRadioItem",nH=p.forwardRef((e,t)=>{const{value:n,...r}=e,i=R2e(tH,e.__scopeMenu),s=n===i.value;return g.jsx(rH,{scope:e.__scopeMenu,checked:s,children:g.jsx(A0,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":U9(s),onSelect:et(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});nH.displayName=tH;var j9="MenuItemIndicator",[rH,P2e]=Ec(j9,{checked:!1}),iH=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=P2e(j9,n);return g.jsx(ys,{present:r||U1(s.checked)||s.checked===!0,children:g.jsx(Kt.span,{...i,ref:t,"data-state":U9(s.checked)})})});iH.displayName=j9;var N2e="MenuSeparator",sH=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});sH.displayName=N2e;var D2e="MenuArrow",oH=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Kh(n);return g.jsx(_U,{...i,...r,ref:t})});oH.displayName=D2e;var B9="MenuSub",[L2e,aH]=Ec(B9),lH=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,s=rl(B9,t),o=Kh(t),[a,l]=p.useState(null),[c,u]=p.useState(null),d=Ri(i);return p.useEffect(()=>(s.open===!1&&d(!1),()=>d(!1)),[s.open,d]),g.jsx(Vw,{...o,children:g.jsx(VG,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:g.jsx(L2e,{scope:t,contentId:zs(),triggerId:zs(),trigger:a,onTriggerChange:l,children:n})})})};lH.displayName=B9;var df="MenuSubTrigger",cH=p.forwardRef((e,t)=>{const n=rl(df,e.__scopeMenu),r=Yh(df,e.__scopeMenu),i=aH(df,e.__scopeMenu),s=D9(df,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),g.jsx(P9,{asChild:!0,...c,children:g.jsx(JG,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":fH(n.open),...e,ref:Sg(t,i.onTriggerChange),onClick:d=>{e.onClick?.(d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,ih(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:et(e.onPointerLeave,ih(d=>{u();const f=n.content?.getBoundingClientRect();if(f){const h=n.content?.dataset.side,m=h==="right",v=m?-5:5,_=f[m?"left":"right"],y=f[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:_,y:f.top},{x:y,y:f.top},{x:y,y:f.bottom},{x:_,y:f.bottom}],side:h}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,d=>{const f=s.searchRef.current!=="";e.disabled||f&&d.key===" "||_2e[r.dir].includes(d.key)&&(n.onOpenChange(!0),n.content?.focus(),d.preventDefault())})})})});cH.displayName=df;var uH="MenuSubContent",dH=p.forwardRef((e,t)=>{const n=WG(Ai,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=rl(Ai,e.__scopeMenu),o=Yh(Ai,e.__scopeMenu),a=aH(uH,e.__scopeMenu),l=p.useRef(null),c=An(t,l);return g.jsx(rh.Provider,{scope:e.__scopeMenu,children:g.jsx(ys,{present:r||s.open,children:g.jsx(rh.Slot,{scope:e.__scopeMenu,children:g.jsx(L9,{id:a.contentId,"aria-labelledby":a.triggerId,align:"start",...i,ref:c,side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{o.isUsingKeyboardRef.current&&l.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:et(e.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:et(e.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),f=y2e[o.dir].includes(u.key);d&&f&&(s.onOpenChange(!1),a.trigger?.focus(),u.preventDefault())})})})})})});dH.displayName=uH;function fH(e){return e?"open":"closed"}function U1(e){return e==="indeterminate"}function U9(e){return U1(e)?"indeterminate":e?"checked":"unchecked"}function F2e(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function j2e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function B2e(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=j2e(e,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function U2e(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,l=t[s].y,c=t[o].x,u=t[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function q2e(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return U2e(n,t)}function ih(e){return t=>t.pointerType==="mouse"?e(t):void 0}var z2e=$G,G2e=P9,H2e=KG,V2e=YG,$2e=F9,W2e=ZG,K2e=A0,Y2e=QG,Z2e=eH,J2e=nH,Q2e=iH,X2e=sH,ebe=oH,tbe=lH,nbe=cH,rbe=dH,q9="DropdownMenu",[ibe,ZFe]=pd(q9,[GG]),Sr=GG(),[sbe,hH]=ibe(q9),pH=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=Sr(t),c=p.useRef(null),[u=!1,d]=gc({prop:i,defaultProp:s,onChange:o});return g.jsx(sbe,{scope:t,triggerId:zs(),triggerRef:c,contentId:zs(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:g.jsx(z2e,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};pH.displayName=q9;var mH="DropdownMenuTrigger",gH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=hH(mH,n),o=Sr(n);return g.jsx(G2e,{asChild:!0,...o,children:g.jsx(Kt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Sg(t,s.triggerRef),onPointerDown:et(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:et(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});gH.displayName=mH;var obe="DropdownMenuPortal",vH=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Sr(t);return g.jsx(H2e,{...r,...n})};vH.displayName=obe;var _H="DropdownMenuContent",yH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=hH(_H,n),s=Sr(n),o=p.useRef(!1);return g.jsx(V2e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,a=>{o.current||i.triggerRef.current?.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:et(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yH.displayName=_H;var abe="DropdownMenuGroup",bH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx($2e,{...i,...r,ref:t})});bH.displayName=abe;var lbe="DropdownMenuLabel",CH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(W2e,{...i,...r,ref:t})});CH.displayName=lbe;var cbe="DropdownMenuItem",SH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(K2e,{...i,...r,ref:t})});SH.displayName=cbe;var ube="DropdownMenuCheckboxItem",wH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(Y2e,{...i,...r,ref:t})});wH.displayName=ube;var dbe="DropdownMenuRadioGroup",EH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(Z2e,{...i,...r,ref:t})});EH.displayName=dbe;var fbe="DropdownMenuRadioItem",xH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(J2e,{...i,...r,ref:t})});xH.displayName=fbe;var hbe="DropdownMenuItemIndicator",kH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(Q2e,{...i,...r,ref:t})});kH.displayName=hbe;var pbe="DropdownMenuSeparator",TH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(X2e,{...i,...r,ref:t})});TH.displayName=pbe;var mbe="DropdownMenuArrow",gbe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(ebe,{...i,...r,ref:t})});gbe.displayName=mbe;var vbe=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:s}=e,o=Sr(t),[a=!1,l]=gc({prop:r,defaultProp:s,onChange:i});return g.jsx(tbe,{...o,open:a,onOpenChange:l,children:n})},_be="DropdownMenuSubTrigger",OH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(nbe,{...i,...r,ref:t})});OH.displayName=_be;var ybe="DropdownMenuSubContent",AH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Sr(n);return g.jsx(rbe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AH.displayName=ybe;var IH=pH,z9=gH,bbe=vH,Cbe=yH,Sbe=bH,wbe=CH,I0=SH,MH=wH,Ebe=EH,xbe=xH,kbe=kH,Tbe=TH,Obe=vbe,Abe=OH,Ibe=AH;const Mbe=el.button`
text-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent
leading-none outline-hidden cursor-pointer
hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary
keyboard-focused:bg-token-main-surface-secondary
radix-state-active:text-token-text-secondary
radix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent
data-no-hover-bg:hover:bg-transparent dark:data-no-hover-bg:hover:bg-transparent
`,JFe="z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none",RH=el.div`z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none data-[unbound-width]:min-w-[unset] data-[custom-padding]:py-0`,QFe=el.div`popover overflow-auto rounded-2xl dark:bg-[#353535] bg-clip-padding bg-token-main-surface-primary p-2 shadow-long`,Wr=p.createContext({activeDetent$:kt(void 0),fullyExpanded$:kt(!1),mode:"dropdown",open$:kt(!1)}),G9=p.createContext({}),PH=6,NH=function(t){"use forget";const n=Re.c(64);let r,i,s,o,a,l,c,u,d,f,h,m,v,_;n[0]!==t?({children:i,className:s,style:h,size:m,align:r,addBottomGradient:v,sheetContentClassName:f,ref:u,sheetSize:_,onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,...d}=t,n[0]=t,n[1]=r,n[2]=i,n[3]=s,n[4]=o,n[5]=a,n[6]=l,n[7]=c,n[8]=u,n[9]=d,n[10]=f,n[11]=h,n[12]=m,n[13]=v,n[14]=_):(r=n[1],i=n[2],s=n[3],o=n[4],a=n[5],l=n[6],c=n[7],u=n[8],d=n[9],f=n[10],h=n[11],m=n[12],v=n[13],_=n[14]);const y=m===void 0?"default":m,b=v===void 0?!1:v,C=_===void 0?"fit":_,{detents:S,mode:x}=p.use(Wr),[w,E]=p.useState(!1),T=p.useRef(!1),O=p.useRef(!1),k=p.useRef(!1);if(x==="sheet"){let te;n[15]===Symbol.for("react.memo_cache_sentinel")?(te=g.jsx(Ls.Backdrop,{}),n[15]=te):te=n[15];let xe;n[16]!==i||n[17]!==f?(xe=g.jsx(Ls.ScrollRoot,{children:g.jsx(Ls.ContentSection,{"data-content-sheet-content-section":!0,className:f,children:i})}),n[16]=i,n[17]=f,n[18]=xe):xe=n[18];let oe;n[19]!==s||n[20]!==u||n[21]!==d||n[22]!==C||n[23]!==h||n[24]!==xe?(oe=g.jsx(Ls.Content,{size:C,ref:u,className:s,style:h,...d,children:xe}),n[19]=s,n[20]=u,n[21]=d,n[22]=C,n[23]=h,n[24]=xe,n[25]=oe):oe=n[25];let fe;return n[26]!==S||n[27]!==oe?(fe=g.jsxs(Ls.View,{detents:S,children:[te,oe]}),n[26]=S,n[27]=oe,n[28]=fe):fe=n[28],fe}const A=d.alignOffset?`${d.alignOffset}px`:void 0;let I;n[29]!==A?(I={"--radix-align-offset":A},n[29]=A,n[30]=I):I=n[30];const D=I,N=r??"start";let R;n[31]!==D||n[32]!==h?(R={...D,...h},n[31]=D,n[32]=h,n[33]=R):R=n[33];const F=y==="default",j=y==="large",H=y==="small",U=y==="medium",M=y==="auto";let me;n[34]!==s||n[35]!==H||n[36]!==U||n[37]!==M||n[38]!==F||n[39]!==j?(me=ke("[--trigger-width:calc(var(--radix-dropdown-menu-trigger-width)-2*var(--radix-align-offset))]",{"min-w-[max(var(--trigger-width),min(280px,95vw))]":F,"min-w-[max(var(--trigger-width),min(350px,95vw))]":j,"min-w-[max(var(--trigger-width),min(125px,95vw))]":H,"min-w-[max(var(--trigger-width),min(200px,95vw))]":U,"min-w-(--trigger-width)":M},"max-h-[var(--radix-dropdown-menu-content-available-height)] overflow-y-auto select-none",s),n[34]=s,n[35]=H,n[36]=U,n[37]=M,n[38]=F,n[39]=j,n[40]=me):me=n[40];let de;n[41]!==o?(de=te=>{const xe=T.current,oe=O.current,fe=k.current;T.current=!1,O.current=!1,k.current=!1,!fe&&!xe&&!oe&&o?.(te)},n[41]=o,n[42]=de):de=n[42];let P;n[43]!==a?(P=te=>{a?.(te),T.current=!0},n[43]=a,n[44]=P):P=n[44];let Ce;n[45]!==c?(Ce=te=>{c?.(te),O.current=!0},n[45]=c,n[46]=Ce):Ce=n[46];let Se;n[47]!==l?(Se=te=>{l?.(te),k.current=!0},n[47]=l,n[48]=Se):Se=n[48];let ne;n[49]!==b||n[50]!==w?(ne=b&&g.jsxs(g.Fragment,{children:[g.jsx(u2e,{setIsScrolledToEdge:E},"dropdownBottomEdgeScrollObserver"),g.jsx("div",{className:"pointer-events-none absolute start-0 end-0 bottom-0 h-20 transition-opacity duration-100",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--main-surface-primary))",opacity:w?1:0}})]}),n[49]=b,n[50]=w,n[51]=ne):ne=n[51];let ue;return n[52]!==i||n[53]!==u||n[54]!==d||n[55]!==me||n[56]!==de||n[57]!==P||n[58]!==Ce||n[59]!==Se||n[60]!==ne||n[61]!==N||n[62]!==R?(ue=g.jsx(eue,{children:g.jsxs(RH,{ref:u,$as:Cbe,sideOffset:4,align:N,collisionPadding:PH,style:R,className:me,onCloseAutoFocus:de,onEscapeKeyDown:P,onPointerDownOutside:Ce,onFocusOutside:Se,...d,children:[i,ne]})}),n[52]=i,n[53]=u,n[54]=d,n[55]=me,n[56]=de,n[57]=P,n[58]=Ce,n[59]=Se,n[60]=ne,n[61]=N,n[62]=R,n[63]=ue):ue=n[63],ue};function Rbe(e){"use forget";const t=Re.c(13);let n,r;t[0]!==e?({ref:r,...n}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const{mode:i}=p.use(Wr);let s;t[3]!==n?(s=l=>{l.stopPropagation(),n.onFocusCapture?.(l)},t[3]=n,t[4]=s):s=t[4];const o=s;if(i==="sheet"){let l;return t[5]!==o||t[6]!==n||t[7]!==r?(l=g.jsx(Ls.Trigger,{asChild:!0,children:g.jsx("button",{ref:r,onFocusCapture:o,...n})}),t[5]=o,t[6]=n,t[7]=r,t[8]=l):l=t[8],l}let a;return t[9]!==o||t[10]!==n||t[11]!==r?(a=g.jsx(Mbe,{$as:z9,ref:r,...n,onFocusCapture:o}),t[9]=o,t[10]=n,t[11]=r,t[12]=a):a=t[12],a}function Pbe(e){"use forget";const t=Re.c(20);let n,r,i,s;t[0]!==e?({ref:s,onClick:r,onFocusCapture:i,...n}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const{mode:o,open$:a}=p.use(Wr),l=zr(a);let c;t[5]!==r?(c=m=>{m.preventDefault(),r?.(m)},t[5]=r,t[6]=c):c=t[6];const u=c;let d;t[7]!==i?(d=m=>{m.stopPropagation(),i?.(m)},t[7]=i,t[8]=d):d=t[8];const f=d;if(o==="sheet"){const m=l?"open":"closed",v=u;let _;return t[9]!==f||t[10]!==n||t[11]!==s||t[12]!==m||t[13]!==v?(_=g.jsx(Ls.Trigger,{ref:s,"data-state":m,onFocusCapture:f,onClick:v,...n}),t[9]=f,t[10]=n,t[11]=s,t[12]=m,t[13]=v,t[14]=_):_=t[14],_}let h;return t[15]!==u||t[16]!==f||t[17]!==n||t[18]!==s?(h=g.jsx(z9,{ref:s,onClick:u,onFocusCapture:f,...n}),t[15]=u,t[16]=f,t[17]=n,t[18]=s,t[19]=h):h=t[19],h}function DH({children:e}){const{mode:t}=p.use(Wr),n=IU();return t==="sheet"?g.jsx(Ls.Portal,{...n,children:e}):g.jsx(bbe,{...n,children:e})}function xc({onPointerMove:e,onPointerLeave:t,...n}){return{...n,onPointerMove:r=>{e?.(r),DI(r)},onPointerLeave:r=>{t?.(r),DI(r)}}}const DI=e=>{if(!e.defaultPrevented&&e.pointerType!=="touch"){const t=e.currentTarget.ownerDocument.activeElement;t&&lae(t,"data-hold-focus")&&e.preventDefault()}},LH=e=>{const{disabled:t,ref:n,onSelect:r,...i}=e,[s,o]=Le.useState(!1);return g.jsx("div",{role:"menuitem","data-highlighted":s?"":void 0,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,ref:n,...i,onFocus:a=>{o(!0),e.onFocus?.(a)},onBlur:a=>{o(!1),e.onBlur?.(a)},onSelect:a=>{r?.(a.nativeEvent)},children:e.children})},Nbe=e=>{const{mode:t}=p.use(Wr);return g.jsx(Uo,{as:t==="sheet"?LH:I0,hasManagedFocus:!0,...xc(e)})},Dbe=e=>{const{mode:t}=p.use(Wr),n=t==="sheet"?LH:I0;return g.jsx(n,{asChild:!0,...xc({}),children:g.jsx(Uo,{...e})})};function Lbe({className:e,noMargin:t,...n}){return g.jsx(Tbe,{className:ke("bg-token-border-default h-px",!t&&"mx-4 my-1",e),...n})}const Fbe=({separator:e=!0,className:t,...n})=>{const{mode:r}=p.use(Wr),i=g.jsx(Sbe,{className:ke("empty:hidden [:not(:has(div:not([role=group])))]:hidden",e&&"before:bg-token-border-default content-sheet:before:my-3 content-sheet:before:mx-6 before:mx-4 before:my-1 before:block before:h-px first:before:hidden [&:nth-child(1_of_:has(div:not([role=group])))]:before:hidden",t),...n});return r==="sheet"?g.jsx($g,{name:"DropdownGroup",fallback:g.jsx(g.Fragment,{}),children:i}):i};function jbe(e){const{children:t,value:n,defaultValue:r,defaultChecked:i,...s}=e,o=s,{onRadioGroupChange:a}=p.use(G9);return g.jsxs("label",{...o,children:[t,g.jsx("input",{type:"radio",className:"sr-only",value:n,defaultValue:r,defaultChecked:i,onChange:l=>{a?.(l.target.value)}})]})}const Bbe=e=>{"use forget";const t=Re.c(7),{mode:n}=p.use(Wr),r=n==="sheet"?jbe:xbe,i=n==="sheet"?"large":e.size;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=g.jsx(FH,{}),t[0]=s):s=t[0];let o;t[1]!==e?(o=xc(e),t[1]=e,t[2]=o):o=t[2];let a;return t[3]!==r||t[4]!==i||t[5]!==o?(a=g.jsx(Uo,{as:r,hasManagedFocus:!0,size:i,trailingColor:"primary",trailing:s,...o}),t[3]=r,t[4]=i,t[5]=o,t[6]=a):a=t[6],a};function FH(){return g.jsxs(g.Fragment,{children:[g.jsx(kbe,{children:g.jsx(R9,{className:"icon-sm"})}),g.jsx("div",{className:"icon-sm group-radix-state-checked:hidden"})]})}const Ube=Le.forwardRef(function(t,n){const{className:r,...i}=t;return g.jsx(RH,{ref:n,$as:Ibe,className:ke("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",r),sideOffset:2,alignOffset:t.align==="end"?-6:-14,collisionPadding:PH,...i})}),qbe=e=>g.jsx(Uo,{subMenu:!0,as:Abe,hasManagedFocus:!0,...xc(e)});function XFe({triggerButton:e,children:t,size:n="default",open:r,onOpenChange:i,onCloseAutoFocus:s,contentAlign:o,side:a,sideOffset:l=0,alignOffset:c=0,contentClassName:u,testId:d,tooltip:f,contentRef:h,modal:m=!1}){const[v,_]=p.useState(r??!1),y=r!==void 0,b=nse(),C=E=>{y||_(E),i?.(E)},{triggerRef:S}=d2e({isOpen:!!v||!!r,onClose:()=>C(!1)}),x=g.jsx(z9,{asChild:!0,ref:S,"data-testid":d?`${d}-button`:void 0,children:e}),w=f?g.jsx(pi,{label:f,disabled:!b,triggerAs:null,children:x}):x;return g.jsxs(IH,{modal:m,open:r??v,onOpenChange:C,children:[w,g.jsx(DH,{children:g.jsx(NH,{ref:h,size:n,align:o,alignOffset:c,side:a,sideOffset:l,className:u,onCloseAutoFocus:s,onClick:E=>{E.stopPropagation()},children:t})})]})}function zbe(e){return g.jsx(pae,{as:wbe,...e})}function Gbe(e){"use forget";const t=Re.c(15),{children:n,className:r}=e,{open$:i,activeDetent$:s,detents:o,fullyExpanded$:a}=p.use(Wr),l=zr(i),c=zr(s);let u;t[0]!==s||t[1]!==o||t[2]!==a||t[3]!==e?(u=h=>{if(s.set(h),e.onActiveDetentChange?.(h),o&&o.length>0){const m=h===o?.length+1;a.set(m)}},t[0]=s,t[1]=o,t[2]=a,t[3]=e,t[4]=u):u=t[4];let d;t[5]!==i||t[6]!==e?(d=h=>{i.set(h),e.onOpenChange?.(h)},t[5]=i,t[6]=e,t[7]=d):d=t[7];let f;return t[8]!==c||t[9]!==n||t[10]!==r||t[11]!==l||t[12]!==u||t[13]!==d?(f=g.jsx(Ls.Root,{activeDetent:c,className:r,onActiveDetentChange:u,onPresentedChange:d,presented:l,children:n}),t[8]=c,t[9]=n,t[10]=r,t[11]=l,t[12]=u,t[13]=d,t[14]=f):f=t[14],f}function Hbe(e){"use forget";const t=Re.c(14);let n,r,i,s,o,a;t[0]!==e?({className:n,detents:r,mode:i,open:s,open$:o,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6]);let l;return t[7]!==n||t[8]!==r||t[9]!==i||t[10]!==s||t[11]!==o||t[12]!==a?(l=g.jsx(tue,{children:i==="sheet"&&o?g.jsx(Wr,{value:{mode:i??"dropdown",open$:o,detents:r,activeDetent$:kt(void 0),fullyExpanded$:kt(!1)},children:g.jsx(Gbe,{className:n,...a})}):g.jsx(IH,{...a,open:s})}),t[7]=n,t[8]=r,t[9]=i,t[10]=s,t[11]=o,t[12]=a,t[13]=l):l=t[13],l}function Vbe(e){const{children:t,container:n,...r}=e,{mode:i}=p.use(Wr),s=i==="sheet"?Ls.Portal:DH;return g.jsx(s,{...r,container:n,children:t})}function $be(e){"use forget";const t=Re.c(16);let n,r,i,s;t[0]!==e?({children:n,defaultValue:i,defaultChecked:r,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=s,{onRadioGroupChange:a}=p.use(G9);let l;t[5]!==a||t[6]!==s?(l=d=>{d.preventDefault(),d.stopPropagation(),s.onCheckedChange?.(d.target.checked),a?.(d.target.value)},t[5]=a,t[6]=s,t[7]=l):l=t[7];let c;t[8]!==r||t[9]!==i||t[10]!==l?(c=g.jsx("input",{type:"checkbox",className:"sr-only",defaultValue:i,defaultChecked:r,onChange:l}),t[8]=r,t[9]=i,t[10]=l,t[11]=c):c=t[11];let u;return t[12]!==n||t[13]!==o||t[14]!==c?(u=g.jsxs("label",{...o,children:[n,c]}),t[12]=n,t[13]=o,t[14]=c,t[15]=u):u=t[15],u}const Wbe=e=>{const{mode:t}=p.use(Wr);return g.jsx(Uo,{as:t==="sheet"?$be:MH,hasManagedFocus:!0,onSelect:n=>{n.preventDefault()},onClick:n=>{n.stopPropagation()},trailingColor:"primary",trailing:g.jsx(xB,{size:"small",disabled:e.disabled,checked:e.checked===!0,"aria-hidden":!0}),...xc(e)})};function Kbe({checked:e,onCheckedChange:t,children:n,onClick:r,className:i,...s}){const o=a=>{a.preventDefault()};return g.jsx(MH,{checked:e,onCheckedChange:t,onSelect:o,onClick:r,className:ke(i,"mx-2 flex cursor-pointer items-center rounded-md p-3 text-sm","hover:bg-token-main-surface-secondary keyboard-focused:bg-token-main-surface-secondary","radix-disabled:pointer-events-none radix-disabled:opacity-50 focus:outline-none","radix-state-open:bg-token-main-surface-secondary"),...s,children:g.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[n,e?g.jsx(o2e,{className:"icon-sm text-token-text-primary"}):g.jsx(a2e,{className:"icon-sm text-token-text-tertiary"})]})})}function Ybe(e){return g.jsx(I0,{asChild:!0,...xc({}),children:g.jsx(fae,{...e})})}const Zbe=e=>g.jsx(I0,{asChild:!0,onSelect:t=>{t.preventDefault()},...xc({}),children:g.jsx(gae,{...e})});function Jbe(e){const{open$:t}=p.use(Wr);return g.jsx(G9,{value:{onRadioGroupChange:n=>{e.onValueChange?.(n),t.set(!1)}},children:g.jsx("section",{...e})})}function Qbe(e){"use forget";const t=Re.c(3),{mode:n}=p.use(Wr),r=n==="sheet"?Jbe:Ebe;let i;return t[0]!==r||t[1]!==e?(i=g.jsx(r,{...e}),t[0]=r,t[1]=e,t[2]=i):i=t[2],i}function Xbe(e){return g.jsx(Aw,{as:"button",...e})}function eCe(e){return g.jsx(Aw,{...e,as:"button",row:!0})}const Bt={Root:Hbe,Trigger:Rbe,BasicTrigger:Pbe,Portal:Vbe,Content:NH,Item:Nbe,ItemAs:Dbe,HeaderItem:Xbe,HeaderItemRow:eCe,HeaderItemAs:Aw,Separator:Lbe,Group:Fbe,RadioGroup:Qbe,RadioItem:Bbe,RadioItemCheck:FH,Sub:Obe,SubContent:Ube,SubMenuTrigger:qbe,Label:zbe,CheckboxItem:Wbe,MultiSelectCheckboxItem:Kbe,LinkItem:Ybe,InputItem:Zbe,Shimmer:mae},tCe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M15.498 8.50159C16.3254 8.50159 16.9959 9.17228 16.9961 9.99963C16.9961 10.8271 16.3256 11.4987 15.498 11.4987C14.6705 11.4987 14 10.8271 14 9.99963C14.0002 9.17228 14.6706 8.50159 15.498 8.50159Z"}),p.createElement("path",{d:"M4.49805 8.50159C5.32544 8.50159 5.99689 9.17228 5.99707 9.99963C5.99707 10.8271 5.32555 11.4987 4.49805 11.4987C3.67069 11.4985 3 10.827 3 9.99963C3.00018 9.17239 3.6708 8.50176 4.49805 8.50159Z"}),p.createElement("path",{d:"M10.0003 8.50159C10.8276 8.50176 11.4982 9.17239 11.4984 9.99963C11.4984 10.827 10.8277 11.4985 10.0003 11.4987C9.17283 11.4987 8.50131 10.8271 8.50131 9.99963C8.50149 9.17228 9.17294 8.50159 10.0003 8.50159Z"})),nCe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M15.2146 18.1227L15.2439 18.2546C15.2809 18.5616 15.0985 18.8629 14.7937 18.9645C14.4889 19.0661 14.1622 18.9345 14.0076 18.6667L13.9529 18.5436L13.1189 16.0436L13.7498 15.8337L14.3806 15.6227L15.2146 18.1227ZM4.5027 8.72526C4.7467 8.45076 5.16765 8.4256 5.44215 8.6696C5.71651 8.91359 5.74073 9.33361 5.49684 9.60807L4.70875 10.4958C3.51378 11.8401 3.57361 13.8831 4.84547 15.1549L4.96656 15.2702C6.24396 16.4291 8.20223 16.4494 9.50465 15.2917L10.3914 14.5026L10.5007 14.4245C10.7685 14.2694 11.1173 14.318 11.3308 14.5583C11.5746 14.8327 11.5495 15.2528 11.2752 15.4967L10.3875 16.2858C8.57532 17.8963 5.85141 17.8686 4.07399 16.2565L3.90504 16.0954C2.13524 14.3256 2.05179 11.4827 3.71461 9.61198L4.5027 8.72526ZM13.5398 15.2028C13.8881 15.0867 14.2643 15.2745 14.3806 15.6227L13.1189 16.0436C13.0028 15.6953 13.1915 15.319 13.5398 15.2028ZM15.2029 13.5397C15.3191 13.1914 15.6953 13.0028 16.0437 13.1188L18.5437 13.9528L18.6668 14.0075C18.9346 14.1621 19.0662 14.4888 18.9646 14.7936C18.863 15.0985 18.5617 15.2808 18.2547 15.2438L18.1228 15.2145L15.6228 14.3805C15.2746 14.2642 15.0868 13.888 15.2029 13.5397ZM9.79078 3.56315C11.6599 2.0583 14.3811 2.19057 16.0955 3.90495L16.2566 4.07389C17.8168 5.79411 17.893 8.40087 16.4363 10.2096L16.2859 10.3874L15.4968 11.2751L15.3982 11.3659C15.1506 11.5514 14.7987 11.5441 14.5584 11.3307C14.2839 11.0867 14.2587 10.6658 14.5027 10.3913L15.2918 9.50456L15.4002 9.37663C16.4472 8.07662 16.3919 6.20274 15.2703 4.96647L15.155 4.84538C13.9229 3.6132 11.967 3.51839 10.6238 4.60026L10.4959 4.70866L9.60816 5.49674C9.3337 5.74063 8.91368 5.71642 8.66969 5.44206C8.42569 5.16756 8.45085 4.7466 8.72535 4.5026L9.61207 3.71452L9.79078 3.56315ZM1.74586 4.75651L1.87672 4.78581L4.37672 5.61881L4.49977 5.67448C4.76767 5.82912 4.89925 6.15572 4.79762 6.46061C4.69588 6.76536 4.39471 6.94789 4.08766 6.91081L3.9568 6.88053L1.4568 6.04753L1.33375 5.99186C1.06603 5.83724 0.93447 5.51146 1.0359 5.20671C1.13755 4.90175 1.43868 4.71938 1.74586 4.75651ZM5.2068 1.03581C5.51155 0.934377 5.83733 1.06594 5.99195 1.33366L6.04762 1.45671L6.88063 3.95671L6.9109 4.08756C6.94798 4.39462 6.76546 4.69579 6.4607 4.79753C6.15582 4.89916 5.82921 4.76758 5.67457 4.49967L5.61891 4.37663L4.7859 1.87663L4.7566 1.74577C4.71947 1.43859 4.90184 1.13746 5.2068 1.03581Z"})),rCe=["https:","mailto:","tel:"],iCe=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch{return}if(rCe.includes(t.protocol))return t.href},sCe=p.forwardRef(({href:e,target:t="_blank",children:n,...r},i)=>g.jsx("a",{ref:i,href:iCe(e),target:t,rel:"noopener",alt:e,...r,children:n}));sCe.displayName="ExternalLink";function LI(e){"use forget";const t=Re.c(14);let n,r,i,s,o;t[0]!==e?({className:r,openNewTab:s,children:n,underline:o,...i}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5]);const a=s===void 0?!1:s,c=(o===void 0?!0:o)&&"underline";let u;t[6]!==r||t[7]!==c?(u=ke("cursor-pointer font-normal",c,r),t[6]=r,t[7]=c,t[8]=u):u=t[8];const d=a?"_blank":"_self";let f;return t[9]!==n||t[10]!==i||t[11]!==u||t[12]!==d?(f=g.jsx("a",{rel:"noopener",className:u,target:d,...i,children:n}),t[9]=n,t[10]=i,t[11]=u,t[12]=d,t[13]=f):f=t[13],f}function eje(e,t,n){const r=Math.floor((e.getTime()-t.getTime())/1e3);if(r<60)return n.formatMessage({id:"hr1xff",defaultMessage:"{diffInSecs}s"},{diffInSecs:r});if(r<60*10){const s=Math.floor(r/60),o=r%60;return n.formatMessage({id:"7KZ91/",defaultMessage:"{mins}m {secs}s"},{mins:s,secs:o})}if(r<60*60){const s=Math.floor(r/60);return n.formatMessage({id:"IkyEWY",defaultMessage:"{mins}m"},{mins:s})}const i=Math.floor(r/(60*60));if(r<60*60*10){const s=Math.floor(r%3600/60);return n.formatMessage({id:"z9qVYm",defaultMessage:"{hours}h {mins}m"},{hours:i,mins:s})}return n.formatMessage({id:"vAHzUw",defaultMessage:"{hours}h"},{hours:i})}const oCe=({givenDate:e,now:t,intl:n,format:r="abbreviated"})=>{const i=Math.floor((t.getTime()-e.getTime())/1e3);if(i<60)return r==="abbreviated"?n.formatMessage({id:"hepLPr",defaultMessage:"{seconds}s ago"},{seconds:i}):n.formatMessage({id:"cLJFUT",defaultMessage:"{seconds} seconds ago"},{seconds:i});if(i<3600){const s=Math.floor(i/60);return r==="abbreviated"?n.formatMessage({id:"ZyHv9I",defaultMessage:"{minutes}m ago"},{minutes:s}):n.formatMessage({id:"RfRx5t",defaultMessage:"{minutes} minutes ago"},{minutes:s})}else if(i<86400){const s=Math.floor(i/3600);return r==="abbreviated"?n.formatMessage({id:"2p4Gd3",defaultMessage:"{hours}h ago"},{hours:s}):n.formatMessage({id:"0d1QfF",defaultMessage:"{hours} hours ago"},{hours:s})}else{const s=Math.floor(i/86400);return r==="abbreviated"?n.formatMessage({id:"KPjpqR",defaultMessage:"{days}d ago"},{days:s}):n.formatMessage({id:"n68thd",defaultMessage:"{days} days ago"},{days:s})}},aCe=30;function tje(e,t){if(t==null)return null;const n=new Date(t*1e3),r=e.locale,i=Math.max(Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)),0);if(i>aCe)return e.formatDate(n,{dateStyle:"medium"});const s=e.formatRelativeTime(-i,"day",{numeric:"auto"});return r.startsWith("en")?s.charAt(0).toUpperCase()+s.slice(1):s}function M0({percentage:e,thickness:t=1/12,className:n,outerCircleClassName:r,sizeOverride:i,transitionDuration:s,transitionTimingFunction:o,onTransitionEnd:a}){const l=i??120,c=l*t,d=(l-c)/2-c-2;return g.jsxs("svg",{width:l,height:l,viewBox:`0 0 ${l} ${l}`,className:n,children:[g.jsxs("g",{style:{transformOrigin:"50% 50%",animation:"spin 1s linear infinite"},className:r,children:[g.jsx("path",{fill:"url(#b)",fillOpacity:".7",fillRule:"evenodd",d:`
        M${l} ${l/2}
        A${l/2} ${l/2} 0 1 0 0 ${l/2}
        A${l/2} ${l/2} 0 0 0 ${l} ${l/2}
        Z
        M${l*.1042} ${l/2}
        A${l*.3956} ${l*.3956} 0 1 0 ${l-l*.1042} ${l/2}
        A${l*.3956} ${l*.3956} 0 0 0 ${l*.1042} ${l/2}
        Z
      `,clipRule:"evenodd"}),g.jsx("defs",{children:g.jsxs("radialGradient",{id:"b",cx:"0",cy:"0",r:"1",gradientTransform:`matrix(${l/2-l*.0625} 0 0 ${l/2-l*.0625} ${l*.0625} ${l/2})`,gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"#0285FF"}),g.jsx("stop",{offset:"1",stopColor:"#0285FF",stopOpacity:".3"})]})})]}),g.jsx("path",{className:"origin-[50%_50%] transition-[stroke-dashoffset]",d:e===100?`M ${l/2} ${l/2}
         m 0 -${d}
         a ${d} ${d} 0 1 1 0 ${2*d}
         a ${d} ${d} 0 1 1 0 -${2*d}
         Z`:`M ${l/2} ${l/2}
         L ${l/2} ${l/2-d}
         A ${d} ${d} 0 ${e>50?1:0} 1
         ${l/2+d*Math.sin(2*Math.PI*e/100)}
         ${l/2-d*Math.cos(2*Math.PI*e/100)}
         Z`,fill:"currentColor",style:{transitionDuration:s,transitionTimingFunction:o},onTransitionEnd:a})]})}function H9(){const e=pe();return dn(e).isElectron}function lCe({children:e}){return g.jsx(pi,{label:g.jsx(ve,{id:"8yqd2N",defaultMessage:"Temporarily unavailable"}),children:e})}const cCe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M11.2475 18.25C10.6975 18.25 10.175 18.1455 9.67999 17.9365C9.18499 17.7275 8.74499 17.436 8.35999 17.062C7.94199 17.205 7.50749 17.2765 7.05649 17.2765C6.31949 17.2765 5.63749 17.095 5.01049 16.732C4.38349 16.369 3.87749 15.874 3.49249 15.247C3.11849 14.62 2.93149 13.9215 2.93149 13.1515C2.93149 12.8325 2.97549 12.486 3.06349 12.112C2.62349 11.705 2.28249 11.2375 2.04049 10.7095C1.79849 10.1705 1.67749 9.6095 1.67749 9.0265C1.67749 8.4325 1.80399 7.8605 2.05699 7.3105C2.30999 6.7605 2.66199 6.2875 3.11299 5.8915C3.57499 5.4845 4.10849 5.204 4.71349 5.05C4.83449 4.423 5.08749 3.862 5.47249 3.367C5.86849 2.861 6.35249 2.465 6.92449 2.179C7.49649 1.893 8.10699 1.75 8.75599 1.75C9.30599 1.75 9.82849 1.8545 10.3235 2.0635C10.8185 2.2725 11.2585 2.564 11.6435 2.938C12.0615 2.795 12.496 2.7235 12.947 2.7235C13.684 2.7235 14.366 2.905 14.993 3.268C15.62 3.631 16.1205 4.126 16.4945 4.753C16.8795 5.38 17.072 6.0785 17.072 6.8485C17.072 7.1675 17.028 7.514 16.94 7.888C17.38 8.295 17.721 8.768 17.963 9.307C18.205 9.835 18.326 10.3905 18.326 10.9735C18.326 11.5675 18.1995 12.1395 17.9465 12.6895C17.6935 13.2395 17.336 13.718 16.874 14.125C16.423 14.521 15.895 14.796 15.29 14.95C15.169 15.577 14.9105 16.138 14.5145 16.633C14.1295 17.139 13.651 17.535 13.079 17.821C12.507 18.107 11.8965 18.25 11.2475 18.25ZM7.17199 16.1875C7.72199 16.1875 8.20049 16.072 8.60749 15.841L11.7095 14.059C11.8195 13.982 11.8745 13.8775 11.8745 13.7455V12.3265L7.88149 14.62C7.63949 14.763 7.39749 14.763 7.15549 14.62L4.03699 12.8215C4.03699 12.8545 4.03149 12.893 4.02049 12.937C4.02049 12.981 4.02049 13.047 4.02049 13.135C4.02049 13.696 4.15249 14.213 4.41649 14.686C4.69149 15.148 5.07099 15.511 5.55499 15.775C6.03899 16.05 6.57799 16.1875 7.17199 16.1875ZM7.33699 13.498C7.40299 13.531 7.46349 13.5475 7.51849 13.5475C7.57349 13.5475 7.62849 13.531 7.68349 13.498L8.92099 12.7885L4.94449 10.4785C4.70249 10.3355 4.58149 10.121 4.58149 9.835V6.2545C4.03149 6.4965 3.59149 6.8705 3.26149 7.3765C2.93149 7.8715 2.76649 8.4215 2.76649 9.0265C2.76649 9.5655 2.90399 10.0825 3.17899 10.5775C3.45399 11.0725 3.81149 11.4465 4.25149 11.6995L7.33699 13.498ZM11.2475 17.161C11.8305 17.161 12.3585 17.029 12.8315 16.765C13.3045 16.501 13.6785 16.138 13.9535 15.676C14.2285 15.214 14.366 14.697 14.366 14.125V10.561C14.366 10.429 14.311 10.33 14.201 10.264L12.947 9.538V14.1415C12.947 14.4275 12.826 14.642 12.584 14.785L9.46549 16.5835C10.0045 16.9685 10.5985 17.161 11.2475 17.161ZM11.8745 11.122V8.878L10.01 7.822L8.12899 8.878V11.122L10.01 12.178L11.8745 11.122ZM7.05649 5.8585C7.05649 5.5725 7.17749 5.358 7.41949 5.215L10.538 3.4165C9.99899 3.0315 9.40499 2.839 8.75599 2.839C8.17299 2.839 7.64499 2.971 7.17199 3.235C6.69899 3.499 6.32499 3.862 6.04999 4.324C5.78599 4.786 5.65399 5.303 5.65399 5.875V9.4225C5.65399 9.5545 5.70899 9.659 5.81899 9.736L7.05649 10.462V5.8585ZM15.4385 13.7455C15.9885 13.5035 16.423 13.1295 16.742 12.6235C17.072 12.1175 17.237 11.5675 17.237 10.9735C17.237 10.4345 17.0995 9.9175 16.8245 9.4225C16.5495 8.9275 16.192 8.5535 15.752 8.3005L12.6665 6.5185C12.6005 6.4745 12.54 6.458 12.485 6.469C12.43 6.469 12.375 6.4855 12.32 6.5185L11.0825 7.2115L15.0755 9.538C15.1965 9.604 15.2845 9.692 15.3395 9.802C15.4055 9.901 15.4385 10.022 15.4385 10.165V13.7455ZM12.122 5.3635C12.364 5.2095 12.606 5.2095 12.848 5.3635L15.983 7.195C15.983 7.118 15.983 7.019 15.983 6.898C15.983 6.37 15.851 5.8695 15.587 5.3965C15.334 4.9125 14.9655 4.5275 14.4815 4.2415C14.0085 3.9555 13.4585 3.8125 12.8315 3.8125C12.2815 3.8125 11.803 3.928 11.396 4.159L8.29399 5.941C8.18399 6.018 8.12899 6.1225 8.12899 6.2545V7.6735L12.122 5.3635Z"})),uCe=()=>{const[e,t]=p.useState(!1),n=br();return!n?.data.profilePictureUrl||e?g.jsx("span",{className:"bg-tertiary rounded-xl border-[0.5px] p-2 shadow-sm",children:g.jsx(cCe,{className:"h-8 w-8"})}):g.jsx("span",{className:"h-12 w-12 overflow-hidden rounded-xl border-[0.5px] bg-black shadow-sm",children:g.jsx("img",{src:n.data.profilePictureUrl,alt:n.data.name??"",onError:()=>t(!0)})})},dCe=({title:e,connectorIcon:t,connectorDeveloper:n,onClose:r})=>g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-end pb-6",children:g.jsx(F4,{onClick:r})}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"flex items-center gap-2.5",children:[g.jsx(uCe,{}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"})]}),t]}),g.jsx("div",{className:"pt-4 text-center text-2xl font-semibold",children:e}),n&&g.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:g.jsx(ve,{...fCe.developedBy,values:{developer:n}})})]})]}),fCe=It({developedBy:{id:"yPpO4G",defaultMessage:"Developed by {developer}"}}),hCe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.99512 12.3145C10.4837 12.3145 10.8701 12.6847 10.8701 13.1572C10.87 13.6296 10.4836 14 9.99512 14C9.50661 14 9.12021 13.6296 9.12012 13.1572C9.12012 12.6848 9.50655 12.3145 9.99512 12.3145Z"}),p.createElement("path",{d:"M10.001 6C10.4785 6.00018 10.7792 6.29538 10.7793 6.78906C10.7793 6.83198 10.7788 6.89653 10.7734 6.9502L10.6934 10.666C10.6772 11.1222 10.4407 11.3906 9.99512 11.3906C9.54959 11.3906 9.31355 11.1222 9.30273 10.666L9.2168 6.9502C9.21679 6.89653 9.21094 6.83198 9.21094 6.78906C9.21102 6.29522 9.51782 6 10.001 6Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),pCe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M21.0461 12.2099C21.0461 11.5553 20.9874 10.9259 20.8783 10.3217H12.1846V13.8966H17.1524C16.9342 15.0462 16.2797 16.0197 15.2979 16.6742V18.9987H18.2937C20.0391 17.3875 21.0461 15.0211 21.0461 12.2099Z",fill:"#4285F4"}),p.createElement("path",{d:"M12.1844 21.2307C14.6767 21.2307 16.7662 20.4084 18.2935 18.9986L15.2977 16.6741C14.4753 17.2279 13.4264 17.5636 12.1844 17.5636C9.78441 17.5636 7.74525 15.944 7.01518 13.7622H3.94385V16.1454C5.46273 19.158 8.57602 21.2307 12.1844 21.2307Z",fill:"#34A853"}),p.createElement("path",{d:"M7.01516 13.7539C6.83054 13.2 6.72145 12.6126 6.72145 12C6.72145 11.3874 6.83054 10.8 7.01516 10.2462V7.86295H3.94382C3.31445 9.10491 2.95361 10.5063 2.95361 12C2.95361 13.4937 3.31445 14.8951 3.94382 16.1371L6.33544 14.2741L7.01516 13.7539Z",fill:"#FBBC05"}),p.createElement("path",{d:"M12.1844 6.44475C13.5439 6.44475 14.7522 6.91469 15.7173 7.82098L18.3606 5.17762C16.7578 3.68391 14.6767 2.76923 12.1844 2.76923C8.57602 2.76923 5.46273 4.84196 3.94385 7.86294L7.01518 10.2462C7.74525 8.06434 9.78441 6.44475 12.1844 6.44475Z",fill:"#EA4335"})),mCe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10 9.25C10.4142 9.25002 10.75 9.5858 10.75 10V13.333C10.75 13.7472 10.4142 14.083 10 14.083C9.58579 14.083 9.25 13.7472 9.25 13.333V10C9.25 9.58579 9.58579 9.25 10 9.25Z"}),p.createElement("path",{d:"M10 5.83301C10.5293 5.83303 10.958 6.26273 10.958 6.79199C10.9578 7.3211 10.5291 7.74998 10 7.75C9.47084 7.75 9.04217 7.32111 9.04199 6.79199C9.04199 6.26272 9.47073 5.83301 10 5.83301Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),V9=({footerContent:e,primaryButton:t,secondaryButton:n})=>!e&&!t&&!n?null:g.jsxs("div",{className:"border-token-border-default flex items-center justify-between border-t p-6",children:[g.jsxs("div",{children:[e," "]}),g.jsxs("div",{className:"flex gap-2",children:[n,t]})]}),gCe=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},p.createElement("path",{d:"M6.80073 3.27765C7.05872 3.10739 7.40946 3.13571 7.63667 3.36261C7.89637 3.62231 7.89637 4.04432 7.63667 4.30402L4.60542 7.33527H13L13.1337 7.34894C13.4368 7.4109 13.665 7.6789 13.665 8.00031C13.6648 8.32162 13.4368 8.58979 13.1337 8.65168L13 8.66535H4.6064L7.63667 11.6966L7.72163 11.8011C7.89202 12.0592 7.86389 12.4098 7.63667 12.637C7.40942 12.8641 7.05879 12.8924 6.80073 12.722L6.69624 12.637L2.52925 8.47003C2.26993 8.21036 2.26982 7.78921 2.52925 7.5296L6.69624 3.36261L6.80073 3.27765Z"})),vCe=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},p.createElement("path",{d:"M8.36328 3.36261C8.59049 3.13571 8.94123 3.10739 9.19922 3.27765L9.30371 3.36261L13.4707 7.5296L13.5557 7.6341C13.7259 7.89208 13.6976 8.24282 13.4707 8.47003L9.30371 12.637C9.04407 12.8967 8.62299 12.8966 8.36328 12.637C8.10358 12.3773 8.10358 11.9563 8.36328 11.6966L11.3936 8.66535H3C2.63284 8.66535 2.33514 8.36743 2.33496 8.00031C2.33496 7.63304 2.63273 7.33527 3 7.33527H11.3945L8.36328 4.30402L8.27832 4.19953C8.10759 3.94137 8.13592 3.58997 8.36328 3.36261Z"})),jH=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5645_180)"},p.createElement("path",{d:"M12.2328 13.3571C15.3153 13.3571 17.8142 10.9267 17.8142 7.92857C17.8142 4.93045 15.3153 2.5 12.2328 2.5C9.15024 2.5 6.65137 4.93045 6.65137 7.92857C6.65137 10.9267 9.15024 13.3571 12.2328 13.3571Z",fill:"#036C70"}),p.createElement("path",{d:"M16.8834 17.8815C19.709 17.8815 21.9997 15.6536 21.9997 12.9053C21.9997 10.157 19.709 7.92911 16.8834 7.92911C14.0577 7.92911 11.7671 10.157 11.7671 12.9053C11.7671 15.6536 14.0577 17.8815 16.8834 17.8815Z",fill:"#1A9BA1"}),p.createElement("path",{d:"M12.93 21.4996C15.1135 21.4996 16.8835 19.778 16.8835 17.6543C16.8835 15.5307 15.1135 13.8091 12.93 13.8091C10.7466 13.8091 8.97656 15.5307 8.97656 17.6543C8.97656 19.778 10.7466 21.4996 12.93 21.4996Z",fill:"#37C6D0"}),p.createElement("path",{opacity:.1,d:"M13.1628 7.39878V17.0526C13.1605 17.388 12.9515 17.6894 12.6326 17.8171C12.5311 17.8589 12.4219 17.8804 12.3117 17.8804H8.98144C8.9768 17.8035 8.9768 17.7312 8.9768 17.6543C8.97525 17.5787 8.97835 17.5032 8.9861 17.4281C9.07123 15.982 9.98715 14.7061 11.3535 14.1302V13.2888C8.31257 12.8201 6.23802 10.0424 6.71991 7.0847C6.72326 7.06422 6.72671 7.04375 6.73029 7.0233C6.75344 6.87073 6.78607 6.71966 6.82797 6.57092H12.3117C12.781 6.57266 13.1611 6.94229 13.1628 7.39878Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.8467 7.02365H6.73038C6.21354 9.97603 8.25531 12.7769 11.2908 13.2796C11.3827 13.2948 11.475 13.3078 11.5676 13.3185C10.1257 13.9835 9.07503 15.8722 8.98573 17.4284C8.97799 17.5036 8.97488 17.5791 8.97642 17.6546C8.97642 17.7315 8.97642 17.8039 8.98107 17.8808C8.98946 18.0329 9.00968 18.1841 9.04153 18.3332H11.8462C12.1911 18.3309 12.5009 18.1276 12.6322 17.8175C12.6752 17.7187 12.6973 17.6125 12.6973 17.5053V7.85151C12.6956 7.3952 12.3158 7.02564 11.8467 7.02365Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.8466 7.02365H6.73034C6.21361 9.97631 8.25569 12.7773 11.2915 13.2799C11.3536 13.2902 11.4158 13.2995 11.4783 13.3077C10.0829 14.0206 9.07361 15.9048 8.98616 17.4284H11.8466C12.3152 17.425 12.6942 17.0563 12.6978 16.6006V7.85151C12.696 7.39502 12.316 7.02539 11.8466 7.02365Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.3814 7.02365H6.73019C6.24226 9.81099 8.03799 12.4952 10.8558 13.1905C9.78883 14.3762 9.13442 15.8594 8.98601 17.4284H11.3814C11.8507 17.4267 12.2307 17.057 12.2325 16.6006V7.85151C12.2323 7.3944 11.8513 7.0239 11.3814 7.02365Z",fill:"currentColor"}),p.createElement("path",{d:"M2.85256 7.02365H11.38C11.8509 7.02365 12.2326 7.3949 12.2326 7.85287V16.1468C12.2326 16.6048 11.8509 16.976 11.38 16.976H2.85256C2.3817 16.976 2 16.6048 2 16.1468V7.85287C2 7.3949 2.3817 7.02365 2.85256 7.02365Z",fill:"url(#paint0_linear_5645_180)"}),p.createElement("path",{d:"M5.80776 11.8985C5.60797 11.7696 5.44108 11.598 5.31985 11.3968C5.20239 11.1865 5.14385 10.9499 5.15008 10.7106C5.13962 10.3866 5.25202 10.0702 5.46589 9.82165C5.69064 9.57277 5.98113 9.38847 6.30589 9.28874C6.67602 9.17025 7.0637 9.11186 7.45333 9.11593C7.96573 9.09772 8.47741 9.1674 8.96496 9.32177V10.3622C8.75312 10.2374 8.52238 10.1458 8.28124 10.0908C8.01958 10.0284 7.7511 9.99712 7.4817 9.99762C7.19761 9.98748 6.91534 10.0456 6.65984 10.1668C6.46259 10.2496 6.33467 10.4383 6.33426 10.6472C6.33346 10.774 6.38352 10.896 6.4738 10.9874C6.58043 11.0952 6.70656 11.1829 6.84589 11.2462C7.00093 11.3213 7.23349 11.4211 7.54357 11.5457C7.57771 11.5562 7.61099 11.5692 7.6431 11.5846C7.94828 11.7006 8.24269 11.8418 8.5231 12.0067C8.73546 12.134 8.91368 12.3086 9.04311 12.516C9.1758 12.7512 9.24011 13.0171 9.22915 13.2851C9.2443 13.6177 9.13968 13.945 8.93334 14.2107C8.72767 14.4549 8.45269 14.6349 8.14264 14.7282C7.77795 14.8394 7.39733 14.8931 7.01519 14.8874C6.67234 14.8889 6.32999 14.8617 5.99194 14.806C5.70651 14.7606 5.42796 14.6809 5.16264 14.5689V13.4719C5.41625 13.6481 5.69959 13.7798 5.99985 13.861C6.2991 13.9517 6.61017 14.0001 6.92357 14.0048C7.21363 14.0227 7.50318 13.9629 7.76078 13.832C7.94123 13.733 8.05098 13.5454 8.04637 13.3439C8.04757 13.2037 7.99055 13.069 7.88823 12.9702C7.76098 12.8487 7.61366 12.7489 7.45242 12.6748C7.26638 12.5843 6.99242 12.4651 6.63056 12.317C6.34269 12.2044 6.06706 12.0643 5.80776 11.8985Z",fill:"white"})),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_5645_180",x1:3.7776,y1:6.37572,x2:10.1808,y2:17.7779,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#058F92"}),p.createElement("stop",{offset:.5,stopColor:"#038489"}),p.createElement("stop",{offset:1,stopColor:"#026D71"})),p.createElement("clipPath",{id:"clip0_5645_180"},p.createElement("rect",{width:20,height:19,fill:"white",transform:"translate(2 2.5)"})))),_Ce="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='106'%20fill='none'%3e%3cg%20clip-path='url(%23a)'%3e%3cg%20filter='url(%23b)'%3e%3cpath%20fill='%23fff'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3cpath%20stroke='%23000'%20stroke-linejoin='bevel'%20stroke-opacity='.1'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3c/g%3e%3cpath%20fill='%23000'%20d='M49.287%2048.12v-3.905c0-.263.075-.45.337-.601l7.246-4.205c.977-.563%202.216-.826%203.417-.826%204.58%200%207.471%203.53%207.471%207.321%200%20.3%200%20.714-.075%201.051l-7.584-4.43c-.375-.225-.788-.263-1.239%200l-9.573%205.594ZM66.03%2061.972V53.3c0-.488-.187-.825-.638-1.088l-9.611-5.594%203.379-1.953a.717.717%200%200%201%20.675%200l7.284%204.205c2.065%201.202%203.492%203.83%203.492%206.345%200%202.966-1.802%205.707-4.58%206.758Zm-18.734-7.471-3.342-1.99c-.262-.15-.338-.338-.338-.6v-8.373c0-4.092%203.117-7.171%207.36-7.171a7.23%207.23%200%200%201%204.504%201.577l-7.546%204.392c-.45.263-.638.601-.638%201.09v11.075Zm6.533%203.754-4.543-2.553v-5.406l4.543-2.553%204.505%202.553v5.406l-4.505%202.553Zm2.815%2011.376a7.23%207.23%200%200%201-4.505-1.577l7.546-4.392c.45-.263.639-.601.639-1.09V51.499l3.379%201.99c.262.15.337.338.337.6v8.373c0%204.093-3.153%207.171-7.396%207.171Zm-8.86-8.297L40.5%2057.13c-2.065-1.202-3.491-3.83-3.491-6.345%200-3.004%201.84-5.707%204.618-6.758v8.71c0%20.488.187.826.638%201.09l9.574%205.556-3.38%201.952a.718.718%200%200%201-.675%200Zm-.45%206.082c-4.318%200-7.472-3.229-7.472-7.246%200-.375.038-.75.075-1.089l7.546%204.355c.451.263.826.263%201.277%200l9.574-5.556v3.904c0%20.263-.075.451-.338.601l-7.246%204.205c-.976.563-2.215.826-3.417.826Zm9.31%204.243c4.506%200%208.26-3.23%209.086-7.51%204.205-1.05%206.908-4.955%206.908-8.935%200-2.628-1.126-5.143-3.191-6.983.188-.788.338-1.614.338-2.403%200-5.294-4.318-9.273-9.274-9.273a9.197%209.197%200%200%200-3.003.525c-1.69-1.69-3.98-2.74-6.533-2.74-4.505%200-8.26%203.228-9.086%207.508-4.205%201.052-6.908%204.956-6.908%208.936%200%202.628%201.127%205.144%203.191%206.983-.187.789-.337%201.615-.337%202.403%200%205.294%204.317%209.274%209.273%209.274a9.2%209.2%200%200%200%203.004-.526c1.69%201.69%203.98%202.74%206.532%202.74Z'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M.81%200h106v106H.81z'%20/%3e%3c/clipPath%3e%3cfilter%20id='b'%20width='105'%20height='105'%20x='1.311'%20y='4.5'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%20%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20/%3e%3cfeOffset%20dy='4'%20/%3e%3cfeGaussianBlur%20stdDeviation='12'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'%20/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1235_2762'%20/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_1235_2762'%20result='shape'%20/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function BH({children:e,className:t,style:n,...r}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,...r,style:n,children:e})}const yCe=({className:e})=>g.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:e,xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M15.75 12V5.99999C15.7497 5.73694 15.6803 5.4786 15.5487 5.25086C15.417 5.02312 15.2278 4.83401 15 4.70249L9.75 1.70249C9.52197 1.57084 9.26331 1.50153 9 1.50153C8.73669 1.50153 8.47803 1.57084 8.25 1.70249L3 4.70249C2.7722 4.83401 2.58299 5.02312 2.45135 5.25086C2.31971 5.4786 2.25027 5.73694 2.25 5.99999V12C2.25027 12.263 2.31971 12.5214 2.45135 12.7491C2.58299 12.9769 2.7722 13.166 3 13.2975L8.25 16.2975C8.47803 16.4291 8.73669 16.4985 9 16.4985C9.26331 16.4985 9.52197 16.4291 9.75 16.2975L15 13.2975C15.2278 13.166 15.417 12.9769 15.5487 12.7491C15.6803 12.5214 15.7497 12.263 15.75 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),bCe="ChatGPT",$9=({className:e})=>g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[g.jsx("text",{x:"-9999",y:"-9999",children:bCe}),g.jsx("path",{d:"M9.20509 8.76511V6.50545C9.20509 6.31513 9.27649 6.17234 9.44293 6.0773L13.9861 3.46088C14.6046 3.10413 15.342 2.93769 16.103 2.93769C18.9573 2.93769 20.7651 5.14983 20.7651 7.50454C20.7651 7.67098 20.7651 7.86129 20.7412 8.05161L16.0316 5.2924C15.7462 5.12596 15.4607 5.12596 15.1753 5.2924L9.20509 8.76511ZM19.8135 17.5659V12.1664C19.8135 11.8333 19.6708 11.5955 19.3854 11.429L13.4152 7.95633L15.3656 6.83833C15.5321 6.74328 15.6749 6.74328 15.8413 6.83833L20.3845 9.45474C21.6928 10.216 22.5728 11.8333 22.5728 13.4031C22.5728 15.2108 21.5025 16.8758 19.8135 17.5657V17.5659ZM7.80173 12.8088L5.8513 11.6671C5.68486 11.5721 5.61346 11.4293 5.61346 11.239V6.00613C5.61346 3.46111 7.56389 1.53433 10.2042 1.53433C11.2033 1.53433 12.1307 1.86743 12.9159 2.46202L8.2301 5.17371C7.94475 5.34015 7.80195 5.57798 7.80195 5.91109V12.809L7.80173 12.8088ZM12 15.2349L9.20509 13.6651V10.3351L12 8.76534L14.7947 10.3351V13.6651L12 15.2349ZM13.7958 22.4659C12.7967 22.4659 11.8693 22.1328 11.0841 21.5382L15.7699 18.8265C16.0553 18.6601 16.198 18.4222 16.198 18.0891V11.1912L18.1723 12.3329C18.3388 12.4279 18.4102 12.5707 18.4102 12.761V17.9939C18.4102 20.5389 16.4359 22.4657 13.7958 22.4657V22.4659ZM8.15848 17.1617L3.61528 14.5452C2.30696 13.784 1.42701 12.1667 1.42701 10.5969C1.42701 8.76534 2.52115 7.12414 4.20987 6.43428V11.8574C4.20987 12.1905 4.35266 12.4284 4.63802 12.5948L10.5846 16.0436L8.63415 17.1617C8.46771 17.2567 8.32492 17.2567 8.15848 17.1617ZM7.897 21.0625C5.20919 21.0625 3.23488 19.0407 3.23488 16.5432C3.23488 16.3529 3.25875 16.1626 3.2824 15.9723L7.96817 18.6839C8.25352 18.8504 8.53911 18.8504 8.82446 18.6839L14.7947 15.2351V17.4948C14.7947 17.6851 14.7233 17.8279 14.5568 17.9229L10.0136 20.5393C9.39518 20.8961 8.6578 21.0625 7.89677 21.0625H7.897ZM13.7958 23.8929C16.6739 23.8929 19.0762 21.8474 19.6235 19.1357C22.2874 18.4459 24 15.9484 24 13.4034C24 11.7383 23.2865 10.121 22.002 8.95542C22.121 8.45588 22.1924 7.95633 22.1924 7.45702C22.1924 4.0557 19.4331 1.51045 16.2458 1.51045C15.6037 1.51045 14.9852 1.60549 14.3668 1.81968C13.2963 0.773071 11.8215 0.107086 10.2042 0.107086C7.32606 0.107086 4.92383 2.15256 4.37653 4.86425C1.7126 5.55411 0 8.05161 0 10.5966C0 12.2617 0.713506 13.879 1.99795 15.0446C1.87904 15.5441 1.80764 16.0436 1.80764 16.543C1.80764 19.9443 4.56685 22.4895 7.75421 22.4895C8.39632 22.4895 9.01478 22.3945 9.63324 22.1803C10.7035 23.2269 12.1783 23.8929 13.7958 23.8929Z",fill:"currentColor"})]});function CCe({className:e}){const t=yt();return g.jsx("img",{src:_Ce,alt:t.formatMessage({id:"VJmCc9",defaultMessage:"ChatGPT logo"}),className:e})}const SCe=({className:e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1180 320",width:"118",height:"32",fill:"currentColor",className:e,children:g.jsx("path",{d:"M367.44 153.84c0 52.32 33.6 88.8 80.16 88.8s80.16-36.48 80.16-88.8-33.6-88.8-80.16-88.8-80.16 36.48-80.16 88.8zm129.6 0c0 37.44-20.4 61.68-49.44 61.68s-49.44-24.24-49.44-61.68 20.4-61.68 49.44-61.68 49.44 24.24 49.44 61.68zM614.27 242.64c35.28 0 55.44-29.76 55.44-65.52s-20.16-65.52-55.44-65.52c-16.32 0-28.32 6.48-36.24 15.84V114h-28.8v169.2h28.8v-56.4c7.92 9.36 19.92 15.84 36.24 15.84zm-36.96-69.12c0-23.76 13.44-36.72 31.2-36.72 20.88 0 32.16 16.32 32.16 40.32s-11.28 40.32-32.16 40.32c-17.76 0-31.2-13.2-31.2-36.48zM747.65 242.64c25.2 0 45.12-13.2 54-35.28L776.93 198c-3.84 12.96-15.12 20.16-29.28 20.16-18.48 0-31.44-13.2-33.6-34.8h88.32v-9.6c0-34.56-19.44-62.16-55.92-62.16s-60 28.56-60 65.52c0 38.88 25.2 65.52 61.2 65.52zm-1.44-106.8c18.24 0 26.88 12 27.12 25.92h-57.84c4.32-17.04 15.84-25.92 30.72-25.92zM823.98 240h28.8v-73.92c0-18 13.2-27.6 26.16-27.6 15.84 0 22.08 11.28 22.08 26.88V240h28.8v-83.04c0-27.12-15.84-45.36-42.24-45.36-16.32 0-27.6 7.44-34.8 15.84V114h-28.8zM1014.17 67.68 948.89 240h30.48l14.64-39.36h74.4l14.88 39.36h30.96l-65.28-172.32zm16.8 34.08 27.36 72h-54.24zM1163.69 68.18h-30.72V240.5h30.72zM297.06 130.97a79.712 79.712 0 0 0-6.85-65.48c-17.46-30.4-52.56-46.04-86.84-38.68A79.747 79.747 0 0 0 143.24 0C108.2-.08 77.11 22.48 66.33 55.82a79.754 79.754 0 0 0-53.31 38.67c-17.59 30.32-13.58 68.54 9.92 94.54a79.712 79.712 0 0 0 6.85 65.48c17.46 30.4 52.56 46.04 86.84 38.68a79.687 79.687 0 0 0 60.13 26.8c35.06.09 66.16-22.49 76.94-55.86a79.754 79.754 0 0 0 53.31-38.67c17.57-30.32 13.55-68.51-9.94-94.51zM176.78 299.08a59.77 59.77 0 0 1-38.39-13.88c.49-.26 1.34-.73 1.89-1.07l63.72-36.8a10.36 10.36 0 0 0 5.24-9.07v-89.83l26.93 15.55c.29.14.48.42.52.74v74.39c-.04 33.08-26.83 59.9-59.91 59.97zM47.94 244.05a59.71 59.71 0 0 1-7.15-40.18c.47.28 1.3.79 1.89 1.13l63.72 36.8c3.23 1.89 7.23 1.89 10.47 0l77.79-44.92v31.1c.02.32-.13.63-.38.83L129.87 266c-28.69 16.52-65.33 6.7-81.92-21.95zM31.17 104.96c7-12.16 18.05-21.46 31.21-26.29 0 .55-.03 1.52-.03 2.2v73.61c-.02 3.74 1.98 7.21 5.23 9.06l77.79 44.91L118.44 224c-.27.18-.61.21-.91.08l-64.42-37.22c-28.63-16.58-38.45-53.21-21.95-81.89zm221.26 51.49-77.79-44.92 26.93-15.54c.27-.18.61-.21.91-.08l64.42 37.19c28.68 16.57 38.51 53.26 21.94 81.94a59.94 59.94 0 0 1-31.2 26.28v-75.81c.03-3.74-1.96-7.2-5.2-9.06zm26.8-40.34c-.47-.29-1.3-.79-1.89-1.13l-63.72-36.8a10.375 10.375 0 0 0-10.47 0l-77.79 44.92V92c-.02-.32.13-.63.38-.83l64.41-37.16c28.69-16.55 65.37-6.7 81.91 22a59.95 59.95 0 0 1 7.15 40.1zm-168.51 55.43-26.94-15.55a.943.943 0 0 1-.52-.74V80.86c.02-33.12 26.89-59.96 60.01-59.94 14.01 0 27.57 4.92 38.34 13.88-.49.26-1.33.73-1.89 1.07L116 72.67a10.344 10.344 0 0 0-5.24 9.06l-.04 89.79zM125.35 140 160 119.99l34.65 20V180L160 200l-34.65-20z"})}),wCe=e=>g.jsxs(BH,{viewBox:"0 0 36 36",fill:"none",...e,children:[g.jsx("circle",{cx:"18",cy:"18",r:"18",fill:"#3c46ff"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.358 14.641 5.056-5.055A2 2 0 0 1 13.828 9h8.343a2 2 0 0 1 1.414.586l5.056 5.055a2 2 0 0 1 .055 2.771l-9.226 9.996a2 2 0 0 1-2.94 0l-9.227-9.996a2 2 0 0 1 .055-2.77Zm6.86-1.939-.426 1.281a2.07 2.07 0 0 1-1.31 1.31l-1.28.426a.296.296 0 0 0 0 .561l1.28.428a2.07 2.07 0 0 1 1.31 1.309l.427 1.28c.09.27.471.27.56 0l.428-1.28a2.07 2.07 0 0 1 1.309-1.31l1.281-.427a.296.296 0 0 0 0-.56l-1.281-.428a2.07 2.07 0 0 1-1.309-1.309l-.427-1.28a.296.296 0 0 0-.561 0z",fill:"#fff"})]}),ECe=({className:e})=>g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[g.jsx("rect",{x:"2",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),g.jsx("path",{d:"M2 12H1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M22 12H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("rect",{x:"17",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),g.jsx("path",{d:"M7 12L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M16 12H17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M9 3L15 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),xCe=({className:e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",fill:"none",className:e,children:g.jsx("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.9 1.6 1.2 11a1.3 1.3 0 0 0 1.2 2h11.2a1.3 1.3 0 0 0 1.2-2L9 1.6a1.3 1.3 0 0 0-2.2 0Z"})}),kCe=({className:e})=>g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[g.jsx("path",{d:"M8.78158 8.60266L9.8188 5.49098C10.037 4.83634 10.963 4.83634 11.1812 5.49098L12.2184 8.60266C12.7187 10.1035 13.8965 11.2813 15.3973 11.7816L18.509 12.8188C19.1637 13.037 19.1637 13.963 18.509 14.1812L15.3973 15.2184C13.8965 15.7187 12.7187 16.8965 12.2184 18.3973L11.1812 21.509C10.963 22.1637 10.037 22.1637 9.8188 21.509L8.78158 18.3973C8.28128 16.8965 7.10354 15.7187 5.60266 15.2184L2.49098 14.1812C1.83634 13.963 1.83634 13.037 2.49098 12.8188L5.60266 11.7816C7.10354 11.2813 8.28128 10.1035 8.78158 8.60266Z",fill:"currentColor"}),g.jsx("path",{d:"M17.1913 3.69537L17.6794 2.23105C17.7821 1.92298 18.2179 1.92298 18.3206 2.23105L18.8087 3.69537C19.0441 4.40167 19.5983 4.9559 20.3046 5.19133L21.769 5.67944C22.077 5.78213 22.077 6.21787 21.769 6.32056L20.3046 6.80867C19.5983 7.0441 19.0441 7.59833 18.8087 8.30463L18.3206 9.76895C18.2179 10.077 17.7821 10.077 17.6794 9.76895L17.1913 8.30463C16.9559 7.59833 16.4017 7.0441 15.6954 6.80867L14.231 6.32056C13.923 6.21787 13.923 5.78213 14.231 5.67944L15.6954 5.19133C16.4017 4.9559 16.9559 4.40167 17.1913 3.69537Z",fill:"currentColor"})]}),nje=Object.freeze(Object.defineProperty({__proto__:null,GPT4FilledIcon:kCe,Hexagon:yCe,IconBase:BH,NoModelTrainingIcon:ECe,OpenaiLockup:SCe,OpenaiLogo:$9,OpenaiLogoConditionalSvg:CCe,TriangleIcon:xCe,WorkspaceDefaultAvatar:wCe},Symbol.toStringTag,{value:"Module"})),UH=()=>g.jsx(R0,{ConnectorIcon:Sd}),TCe=()=>g.jsx(R0,{ConnectorIcon:y0}),OCe=()=>g.jsx(R0,{ConnectorIcon:Bz}),ACe=()=>g.jsx(R0,{ConnectorIcon:jH}),R0=({ConnectorIcon:e})=>g.jsxs("div",{className:"-mb-2 flex items-center justify-center gap-4 ps-2.5 pt-4",children:[g.jsx($9,{className:"h-12 w-12"}),g.jsxs("div",{className:"text-token-text-secondary",children:[g.jsx(gCe,{className:"icon-sm me-1.5"}),g.jsx(vCe,{className:"icon-sm ms-1.5"})]}),g.jsx(e,{width:48,height:48})]}),rje=e=>{switch(e){case"google_drive_oauth":case"google_drive_dwd":return g.jsx(UH,{});case"slack":return g.jsx(TCe,{});case"github":return g.jsx(OCe,{});case"sharepoint":return g.jsx(ACe,{});default:return null}},qH=new BroadcastChannel("oauth_channel"),ije=e=>{qH.postMessage(e)};async function zH({connectionId:e,connectorType:t,redirectTo:n,location:r,isReconnect:i,intl:s,isAdminQuickstartFlow:o=!1,accountId:a}){const l=window.open("about:blank","_blank");if(!l)throw new Error(s.formatMessage(em.popupBlocked));if(o&&!a)throw new Error(s.formatMessage(em.somethingWentWrong));let c;try{c=await(o?za.admin_request_connect_quickstart(a??"",e,n):za.user_request_connect(e,n,!0))}catch{throw l.close(),new Error(s.formatMessage(em.somethingWentWrong))}return K.logEventWithStatsig("Contextual Answers User OAuth Initiated","chatgpt_contextual_answers_user_oauth_initiated",{connectorType:t,location:r,isReconnect:i,isAdminQuickstartFlow:o}),l.location.href=c.oauth_flow_url,new Promise(u=>{const d=f=>{const{error:h,errorDesc:m,errorType:v,pluginId:_,success:y}=f.data;if(f.origin===window.location.origin&&!(c.plugin_id&&c.plugin_id!==_))if(y)K.logEventWithStatsig("Contextual Answers User OAuth Completed","chatgpt_contextual_answers_user_oauth_completed",{connectorType:t,isAdminQuickstartFlow:o}),u({success:!0,message:s.formatMessage(em.connectedDriveSyncDesc)});else{K.logEventWithStatsig("Contextual Answers User OAuth Failed","chatgpt_contextual_answers_user_oauth_failed",{connectorType:t,errorType:v,isAdminQuickstartFlow:o});const b=`${h}${m?`: ${m}`:""}`;u({errorType:v,success:y,message:b})}};qH.addEventListener("message",d,!1),l.addEventListener("beforeunload",()=>{window.removeEventListener("message",d,!1)})})}const em=It({popupBlocked:{id:"67rWk2",defaultMessage:"Popup blocked. Please allow popups for this site."},connectedDriveSyncDesc:{id:"CACallback.connectedDriveSyncDesc.2",defaultMessage:"Google Drive is now connected and syncing."},somethingWentWrong:{id:"RvtOjD",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),ICe=Eg(()=>ye(()=>import("./oxhoc2mdli9hl8g4.js"),__vite__mapDeps([6,1,7,8,9,10,11,12])).then(e=>e.GoogleRedirectContent)),W9={type:"success",size:"custom",className:"max-w-xl",showCloseButton:!0,shouldIgnoreClickOutside:!0,hideSeparator:!0,noPadding:!0,title:g.jsx(UH,{})},MCe=({onClose:e,isAdminFlow:t,isAdminQuickstartFlow:n=!1,connectionId:r,location:i,accountId:s,onSuccess:o,excludeModalWrapper:a=!1})=>{const l=b9()?.enabled??!1,c=!t&&l,[u,d]=p.useState(c?"cta":"disclaimer"),[f,h]=p.useState(),m=yt(),v=p.useCallback(()=>{o?.(),e?.()},[e,o]),_={connectionId:r,connectorType:"google_drive_oauth",location:i,isAdminQuickstartFlow:n,accountId:s,onSuccess:v,onError:y=>{h(y),d("error")}};switch(u){case"disclaimer":return g.jsx(RCe,{isOpen:!0,onClose:e,excludeModalWrapper:a,isAdminFlow:t,isAdminQuickstartFlow:n,secondaryButton:g.jsx(yf,{title:m.formatMessage(fu.cancel),color:"secondary",onClick:e}),primaryButton:g.jsx(yf,{color:"primary",onClick:()=>d("cta"),children:m.formatMessage(fu.continue)})});case"cta":return c?g.jsx(NCe,{onClose:e,isReconnect:!1,excludeModalWrapper:a,..._}):g.jsx(PCe,{isOpen:!0,onClose:e,excludeModalWrapper:a,secondaryButton:g.jsx(yf,{title:m.formatMessage(fu.back),color:"secondary",onClick:()=>d("disclaimer")}),primaryButton:g.jsx(FI,{label:m.formatMessage(fu.loginWithGoogle),..._})});case"error":return c?g.jsx(LCe,{onClose:e,error:f,excludeModalWrapper:a,isReconnect:!0,..._}):g.jsx(DCe,{isOpen:!0,onClose:e,error:f,excludeModalWrapper:a,primaryButton:g.jsx(FI,{label:m.formatMessage(fu.reconnect),isReconnect:!0,..._})})}};function RCe({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:i,isAdminFlow:s,isAdminQuickstartFlow:o}){const a=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsx("div",{className:"text-xl font-medium",children:g.jsx(ve,{id:"zjbSLP",defaultMessage:"Connect your organization’s Google Drive "})}),g.jsx("div",{className:"text-md text-token-text-secondary mt-3",children:o?g.jsx(ve,{id:"YCbpE/",defaultMessage:"Linking ChatGPT to Google Drive gives you more tailored answers based on your organization's context. Once you connect, others in your org can too."}):g.jsx(ve,{id:"+hD78k",defaultMessage:"{userText}Connecting ChatGPT to Google Drive helps you get more personalized, up-to-date answers—grounded in your organization’s content. ChatGPT semantically searches your Drive and only surfaces content you’re authorized to view.",values:{userText:!s&&g.jsx(ve,{id:"kg6Qe+",defaultMessage:"Your admin has enabled internal knowledge for your workspace. "})}})}),g.jsx("div",{className:"mt-6 text-lg font-medium",children:g.jsx(ve,{id:"x/LOXH",defaultMessage:"What to expect"})}),g.jsxs("ul",{className:"text-md text-token-text-secondary ms-6 mt-4",children:[g.jsx("li",{className:"mb-2 list-disc",children:g.jsx(ve,{id:"iBETBV",defaultMessage:"Continuous sync: Your documents, spreadsheets, and presentations stay up to date in ChatGPT."})}),g.jsx("li",{className:"mb-2 list-disc",children:g.jsx(ve,{id:"u/D1Mk",defaultMessage:"Privacy first: ChatGPT always respects your Google Drive permissions — it can only access what you can."})}),g.jsx("li",{className:"list-disc",children:g.jsx(ve,{id:"uHiJ04",defaultMessage:"You’re in control: Disconnect anytime to instantly revoke access."})})]}),o&&g.jsxs("div",{className:"bg-token-main-surface-secondary text-token-text-primary mt-6 flex w-full flex-row items-center gap-4 rounded-xl p-4",children:[g.jsx(ed,{className:"icon-lg"}),g.jsx("span",{className:"text-token-text-secondary text-sm",children:g.jsx(ve,{id:"k5y2IZ",defaultMessage:"<b>Note</b>: Only users with the <i>same</i> Google Workspace domain can connect. Your email should look like <code>example.com</code> — personal accounts won’t work. Be sure you’re using the right one.",values:{b:l=>g.jsx("strong",{children:l}),i:l=>g.jsx("em",{children:l}),code:l=>g.jsx("code",{children:l})}})})]})]}),g.jsx(V9,{secondaryButton:r,primaryButton:i})]});return n?a:g.jsx(Bo,{...W9,isOpen:e,onClose:t,testId:"modal-gdrive-disclaimer",children:a})}function PCe({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:i}){const s=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsx("div",{className:"mb-3 text-xl font-medium",children:g.jsx(ve,{id:"X4Rl7H",defaultMessage:"Allow full access"})}),g.jsx("div",{children:g.jsx(ve,{id:"laPpDC",defaultMessage:"<b>Important:</b> In the next step, make sure to keep all boxes checked. ChatGPT requires access to the full list of Google permissions.",values:{b:o=>g.jsx("strong",{children:o})}})})]}),g.jsx(V9,{secondaryButton:r,primaryButton:i})]});return n?s:g.jsx(Bo,{...W9,isOpen:e,onClose:t,testId:"modal-gdrive-cta",children:s})}function NCe({onClose:e,excludeModalWrapper:t,...n}){const{loading:r,initiateOAuthFlow:i}=K9(n),s=g.jsx(ICe,{connectorIcon:g.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:g.jsx(Sd,{height:32,width:32})}),connectorName:"Google Drive",onClose:e,isConnecting:r,onContinue:()=>i()});return t?s:g.jsx(Bo,{rootClassName:"z-100",testId:"modal-gdrive-cta-slurm",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:s})}const GH=({intl:e,error:t})=>{let n,r;switch(t?.errorType){case"ca/oauth_api_access_error":{n=e.formatMessage({id:"LrBpzI",defaultMessage:"Permissions required"}),r=e.formatMessage({id:"E0lVhb",defaultMessage:"In order to sync your drive you must give ChatGPT the appropriate permissions. Please try again and select all the required checkboxes."});break}case"ca/oauth_missing_user_info_domain":{n=e.formatMessage({id:"CDqa2q",defaultMessage:"Cannot connect this account"}),r=e.formatMessage({id:"6Can6p",defaultMessage:"The Google account you are trying to connect does not belong to a Google Workspace domain. Google accounts that do not belong to a Google Workspace (such as personal Gmail accounts) are not eligible to connect to this specific feature at this time."});break}case"ca/oauth_has_existing_linked_openai_account":{n=e.formatMessage({id:"QSfIDZ",defaultMessage:"This Google account is already connected to a different ChatGPT account"}),r=e.formatMessage({id:"Z9Bj8k",defaultMessage:"The Google account you are trying to link is already connected to a different ChatGPT user for this Google Drive connection."});break}case"ca/oauth_connection_not_allowed":{n=e.formatMessage({id:"I3ekm6",defaultMessage:"Your ChatGPT account is not enabled for this connection"}),r=e.formatMessage({id:"0Vbazl",defaultMessage:"Your ChatGPT administrator has not enabled this connection for your account."});break}default:n=e.formatMessage({id:"ojfL45",defaultMessage:"Something went wrong"}),r=t?.message??e.formatMessage({id:"5MOzf8",defaultMessage:"We were unable to connect your Google account. Please check your settings and try again."})}return{title:n,body:r}};function DCe({isOpen:e,onClose:t,excludeModalWrapper:n,primaryButton:r,error:i}){const s=yt(),{title:o,body:a}=GH({intl:s,error:i}),l=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xl font-medium",children:[g.jsx(hCe,{className:"icon-lg"}),o]}),g.jsx("div",{children:a})]}),g.jsx(V9,{primaryButton:r})]});return n?l:g.jsx(Bo,{...W9,isOpen:e,onClose:t,testId:"modal-gdrive-error",children:l})}function LCe({onClose:e,error:t,excludeModalWrapper:n,...r}){const i=yt(),{title:s,body:o}=GH({intl:i,error:t}),{loading:a,initiateOAuthFlow:l}=K9(r),c=g.jsxs(g.Fragment,{children:[g.jsx(dCe,{onClose:e,connectorIcon:g.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:g.jsx(Sd,{height:32,width:32})}),title:s}),g.jsxs("div",{className:"border-token-border-default text-token-text-secondary mt-8 mb-6 flex items-center gap-4 rounded-xl border p-4 text-sm",children:[g.jsx(mCe,{className:"icon-lg"}),o]}),g.jsx(un,{className:"w-full",size:"large",onClick:()=>l(),loading:a,children:i.formatMessage(fu.reconnect)})]});return n?c:g.jsx(Bo,{testId:"modal-gdrive-error-slurm",rootClassName:"z-100",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:c})}const K9=({connectorType:e,connectionId:t,location:n,isReconnect:r=!1,isAdminQuickstartFlow:i,accountId:s,onSuccess:o,onError:a})=>{const[l,c]=p.useState(!1),u=yt(),d=In(),f=p.useCallback(async()=>{try{c(!0);const{message:h,errorType:m,success:v}=await zH({connectorType:e,connectionId:t,location:n,isReconnect:r,intl:u,isAdminQuickstartFlow:i,accountId:s});v?(d.success(h),o?.()):(d.danger(h,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:h}),a?.({errorType:m,message:h}))}catch(h){a?.(),h instanceof Error&&d.danger(h.message,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:h.message})}finally{c(!1)}},[e,t,n,r,u,i,s,d,o,a]);return{loading:l,initiateOAuthFlow:f}},FI=({label:e,...t})=>{const{loading:n,initiateOAuthFlow:r}=K9(t);return g.jsx(yf,{loading:n,onClick:r,color:"primary",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(pCe,{}),e]})})},fu=It({back:{id:"RDaXnk",defaultMessage:"Back"},cancel:{id:"CfN1/v",defaultMessage:"Cancel"},continue:{id:"XGnWba",defaultMessage:"Continue"},loginWithGoogle:{id:"9ImAmL",defaultMessage:"Log in with Google"},reconnect:{id:"0qUCBD",defaultMessage:"Reconnect"},encounteredError:{id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),FCe=({connectorType:e,connectionId:t,location:n,refetch:r,renderButton:i})=>{const s=yt(),[o,a]=p.useState(!1),l=In(),c=H9(),u=p1e(),d=e==="google_drive_oauth",f=p.useCallback(async()=>{try{a(!0),await zH({connectorType:e,connectionId:t,location:n,intl:s})}catch(y){y instanceof Error?l.danger(y.message,{toastId:"ca_oauth_button"}):l.danger(s.formatMessage({id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}),{toastId:"ca_oauth_button",loggingTitle:"Encountered an error connecting your account.",loggingDescription:"Error message shown when a user tries to link their account but it fails."})}finally{a(!1),r?.()}},[t,e,s,n,r,l]),[h,m]=p.useState(!1),v=i({disabled:c||u,isLoading:o,onClick:()=>{d?m(!0):f()}}),_=v;return c?g.jsx(pi,{label:s.formatMessage(jCe.gdriveTooltip),children:v}):u?g.jsx(lCe,{children:v}):g.jsxs(g.Fragment,{children:[_,h&&g.jsx(MCe,{isAdminFlow:!1,onClose:()=>m(!1),connectionId:t,location:n,onSuccess:r})]})},jCe=It({gdriveTooltip:{id:"9DbE+w",defaultMessage:"Cannot connect, please use the web version instead"}}),HH=({startDate:e,now:t,scale:n})=>{const r=t.getTime()-e.getTime();if(r<=0)return 0;const i=r/n,s=Math.min(1,Math.log1p(i*9)/Math.log1p(10));return Math.round(s*100)},VH=(e=1e3)=>{const[t,n]=p.useState(new Date);return p.useEffect(()=>{const r=setInterval(()=>{n(new Date)},e);return()=>clearInterval(r)},[e]),t},BCe=({connection:e})=>{const t=yt(),n=VH(),r=e.user_connection_details.initialized_at,i=r?HH({startDate:new Date(r),now:n,scale:1e3*60*60*3})/2:25;return g.jsx(pi,{label:t.formatMessage({id:"69GKr/",defaultMessage:"Syncing may take 8 hours or longer"}),side:"right",children:g.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[g.jsx(M0,{sizeOverride:18,percentage:i}),g.jsx(ve,{id:"fYaL40",defaultMessage:"Syncing"})]})})},UCe=({className:e,connection:t,ignoreLabel:n=!1})=>{const r=yt(),i=VH(),s=t.user_connection_details.initialized_at,o=s?HH({startDate:new Date(s),now:i,scale:1e3*60*60*6})/2+50:75;return g.jsx(pi,{label:r.formatMessage({id:"lsQnba",defaultMessage:"Last 30 days synced"}),secondaryLabel:r.formatMessage({id:"j+cskE",defaultMessage:"Full sync can take up to few days"}),side:"right",children:g.jsxs("div",{className:ke("text-caption-regular text-token-text-tertiary flex items-center gap-2",e),children:[g.jsx(M0,{sizeOverride:18,percentage:o,className:"text-blue-400"}),!n&&g.jsx(ve,{id:"k4otrZ",defaultMessage:"Partially synced"})]})})},qCe=({connection:e,location:t,inactiveButtonOverride:n})=>{const[r,i]=p.useState(new Date);p.useEffect(()=>{const l=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(l)},[]);const{refetch:s}=Gh({skip:!0}),o=yt();switch(e.user_connection_details.activation_status){case"activated":{const l=e.user_connection_details.last_delta_sync_completed_at??e.user_connection_details.last_full_sync_completed_at;return l?g.jsx("div",{className:"text-body-small-regular",children:oCe({now:r,givenDate:new Date(l),intl:o})}):g.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[g.jsx(R9,{className:"icon-sm"}),g.jsx(ve,{id:"SWdiTP",defaultMessage:"Synced"})]})}case"activating":return g.jsx(BCe,{connection:e});case"partially_activated":return g.jsx(UCe,{connection:e});case"inactive":return n||g.jsx(zCe,{connection:e,refetch:s,location:t})}},jI="https://help.openai.com/en/articles/10929079-google-workspace-admin-managed-setup#h_856676fdde",$H=({displayName:e,connectorType:t})=>g.jsx(pi,{withArrow:!0,interactive:!0,label:g.jsx(LI,{openNewTab:!0,underline:!1,href:jI,children:g.jsx(ve,{id:"H0Humf",defaultMessage:"We were unable to connect your account to {connector_name}. Click to learn more.",values:{connector_name:t==="google_drive_dwd"?"Google Drive":e}})}),sideOffset:0,children:g.jsx(LI,{className:"hover:bg-token-interactive-bg-secondary-hover block rounded-full p-2",href:jI,openNewTab:!0,children:g.jsx(ed,{className:"icon"})})}),sje=({connection:e})=>{switch(e.user_connection_details.auth_status){case"admin_connected":return g.jsx(ve,{id:"Isczat",defaultMessage:"Connected"});case"admin_managed_disconnected":return g.jsx($H,{displayName:e.connection_display_info.display_name,connectorType:e.user_connection_details.knowledge_connector_type});case"not_connected":return g.jsx(ve,{id:"9ZiK24",defaultMessage:"Connect"});case"user_connected":return g.jsx(M0,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},zCe=({connection:e,refetch:t,location:n})=>{const r=p.useMemo(()=>{switch(e.user_connection_details.auth_status){case"admin_connected":return g.jsx(un,{disabled:!0,size:"small",color:"ghost",children:g.jsx(ve,{id:"Isczat",defaultMessage:"Connected"})});case"admin_managed_disconnected":return g.jsx($H,{displayName:e.connection_display_info.display_name});case"not_connected":return g.jsx(GCe,{connection:e,location:n,refetch:t});case"user_connected":return g.jsx(M0,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},[e,n,t]);return g.jsx(g.Fragment,{children:r})},GCe=({connection:e,location:t,refetch:n})=>{const r=({disabled:i,isLoading:s,onClick:o})=>g.jsx(un,{size:"small",disabled:i,loading:s,onClick:o,color:"secondary",children:g.jsx(ve,{id:"9ZiK24",defaultMessage:"Connect"})});return g.jsx(FCe,{connectorType:e.user_connection_details.knowledge_connector_type,connectionId:e.user_connection_details.connection_instance_id,location:t,refetch:n,renderButton:r})},HCe=["admin_connected","admin_managed_disconnected"];function VCe({connection:e,refetch:t}){const n=In(),[r,i]=p.useState(!1);if(HCe.includes(e.user_connection_details.auth_status))return null;const s=async()=>{try{i(!0),await za.user_disconnect(e.user_connection_details.connection_instance_id),n.success("Successfully disconnected your account.")}catch{n.danger("Encountered an error disconnecting your account. Please try again later.",{toastId:"ca_disconnect_button"})}finally{i(!1),t?.()}};return g.jsxs(Bt.Root,{children:[g.jsx(Bt.BasicTrigger,{children:g.jsx("button",{type:"button",className:"text-token-text-secondary focus-visible:bg-token-surface-hover enabled:hover:bg-token-surface-hover disabled:text-token-text-quaternary h-8 rounded-lg px-2 focus-visible:outline-0",children:g.jsx(tCe,{className:"icon-sm"})})}),g.jsx(Bt.Portal,{children:g.jsx(Bt.Content,{size:"small",align:"end",children:g.jsx(Bt.Item,{disabled:r,onClick:s,icon:g.jsx(nCe,{}),color:"danger",children:g.jsx(ve,{id:"iHFV22",defaultMessage:"Disconnect"})})})})]})}const Zh=()=>{const e=Cc();return Rt({queryKey:["user_connection_status"],queryFn:za.user_connection_status,enabled:e})},$Ce=new Set(["gdrive_sync_connector","sharepoint_sync_connector","confluence_sync_connector","github_sync_connector"]);function oje(){const e=pe(),t=Qe(e,"2509278897"),{data:n,isLoading:r,refetch:i}=Zh(),s=p.useMemo(()=>t?n?.connection_statuses.filter(o=>!$Ce.has(o.user_connection_details.connection_type)):n?.connection_statuses,[n,t]);return p.useEffect(()=>{K.logEventWithStatsig("Contextual Answers User Settings Modal Shown","chatgpt_contextual_answers_user_settings_modal_shown")},[]),t&&!s?.length?null:g.jsx(aue,{description:g.jsx(ve,{id:"yjIap+",defaultMessage:"These connectors are only available to a limited number of users."}),title:g.jsx(ve,{id:"5C8Bnt",defaultMessage:"Beta connectors"}),children:g.jsx("div",{className:"border-b",children:r?g.jsx("div",{className:"p-2",children:g.jsx(__e,{lines:4})}):s?.length?g.jsx("div",{children:s.map(o=>g.jsx(lue,{children:g.jsx(Jve,{icon:g.jsx("img",{src:o.connection_display_info.icon_url??"",alt:o.connection_display_info.display_name,className:"icon-lg"}),title:o.connection_display_info.display_name,statusIndicator:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(qCe,{connection:o,location:"user_settings"}),o.user_connection_details?.activation_status!=="inactive"&&g.jsx(VCe,{connection:o,refetch:i})]})})},o.user_connection_details.connection_instance_id))}):g.jsx("p",{className:"text-token-text-secondary my-2",children:g.jsx(ve,{id:"nzXh59",defaultMessage:"No connections found."})})})})}const WH=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M3.31302 16.7412C3.11928 17.0571 2.90169 17.4237 2.71689 17.7158C2.63737 17.8502 2.61375 18.0104 2.65109 18.162C2.68844 18.3136 2.78377 18.4445 2.91659 18.5266L6.79145 20.9111C6.85879 20.9527 6.93372 20.9804 7.01189 20.9928C7.09007 21.0051 7.1699 21.0017 7.24676 20.9828C7.32361 20.964 7.39593 20.93 7.45952 20.8829C7.5231 20.8358 7.57667 20.7765 7.6171 20.7084C7.77209 20.4491 7.9718 20.1123 8.18938 19.7516C9.72443 17.2181 11.2684 17.5281 14.0523 18.8574L17.8944 20.6846C17.9664 20.7189 18.0446 20.7383 18.1243 20.7419C18.204 20.7454 18.2836 20.7329 18.3583 20.7051C18.4331 20.6773 18.5015 20.6348 18.5596 20.5801C18.6176 20.5253 18.6641 20.4595 18.6962 20.3865L20.5413 16.2136C20.6039 16.0703 20.6078 15.9082 20.552 15.7621C20.4963 15.6161 20.3854 15.4977 20.2432 15.4327C19.4324 15.0511 17.8199 14.2911 16.3683 13.5906C11.1462 11.0541 6.708 11.218 3.31302 16.7412Z",fill:"#1868DB"}),p.createElement("path",{d:"M20.6871 7.27164C20.8808 6.95569 21.0984 6.58907 21.2832 6.29696C21.3627 6.16259 21.3864 6.00239 21.349 5.85079C21.3117 5.69919 21.2163 5.56829 21.0835 5.48622L17.2086 3.10169C17.1408 3.056 17.0643 3.02476 16.9839 3.00991C16.9034 2.99506 16.8208 2.99692 16.7411 3.01537C16.6615 3.03382 16.5864 3.06847 16.5207 3.11717C16.455 3.16586 16.4 3.22756 16.3592 3.29842C16.2042 3.55773 16.0045 3.89455 15.7869 4.25521C14.2518 6.78877 12.7078 6.47878 9.92391 5.14941L6.09376 3.3312C6.02173 3.29692 5.94356 3.27744 5.86387 3.27392C5.78419 3.2704 5.7046 3.28291 5.62984 3.3107C5.55507 3.3385 5.48664 3.38101 5.4286 3.43573C5.37057 3.49045 5.3241 3.55627 5.29196 3.62927L3.44693 7.8022C3.38427 7.94545 3.38041 8.10758 3.43616 8.25366C3.49192 8.39973 3.60283 8.51806 3.745 8.58313C4.55574 8.96466 6.16827 9.72473 7.61986 10.4252C12.8539 12.9587 17.2921 12.7888 20.6871 7.27164Z",fill:"#1868DB"})),KH=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M20.248 3H11.5801C11.5801 4.03775 11.9923 5.03299 12.7261 5.76679C13.4599 6.50058 14.4552 6.91283 15.4929 6.91283H17.0896V8.45439C17.091 10.6134 18.8409 12.3633 20.9999 12.3647V3.75198C20.9999 3.33667 20.6633 3 20.248 3Z",fill:"#1868DB"}),p.createElement("path",{d:"M15.9594 7.31897H7.2915C7.29289 9.47801 9.04279 11.2279 11.2018 11.2293H12.7985V12.7759C12.8013 14.9349 14.5523 16.6837 16.7114 16.6837V8.07095C16.7114 7.65564 16.3747 7.31897 15.9594 7.31897Z",fill:"#1868DB"}),p.createElement("path",{d:"M11.6679 11.6353H3C3 13.7963 4.75183 15.5481 6.91283 15.5481H8.51455V17.0897C8.51593 19.2468 10.2628 20.9959 12.4199 21V12.3873C12.4199 11.972 12.0832 11.6353 11.6679 11.6353Z",fill:"#1868DB"})),WCe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint0_radial_376_5370)"}),p.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint1_linear_376_5370)"}),p.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint2_radial_376_5370)"}),p.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint3_linear_376_5370)"}),p.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint4_radial_376_5370)"}),p.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint5_linear_376_5370)"}),p.createElement("defs",null,p.createElement("radialGradient",{id:"paint0_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.00587 5.92579) rotate(110.528) scale(15.1669 26.4541)"},p.createElement("stop",{offset:.06441,stopColor:"#AE7FE2"}),p.createElement("stop",{offset:1,stopColor:"#0078D4"})),p.createElement("linearGradient",{id:"paint1_linear_376_5370",x1:9.04828,y1:18.3037,x2:6.88428,y2:14.5609,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#114A8B"}),p.createElement("stop",{offset:1,stopColor:"#0078D4",stopOpacity:0})),p.createElement("radialGradient",{id:"paint2_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82811 17.6139) rotate(-8.36717) scale(14.1144 9.32348)"},p.createElement("stop",{offset:.133928,stopColor:"#D59DFF"}),p.createElement("stop",{offset:1,stopColor:"#5E438F"})),p.createElement("linearGradient",{id:"paint3_linear_376_5370",x1:19.4317,y1:12.6254,x2:17.1128,y2:15.9504,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#493474"}),p.createElement("stop",{offset:1,stopColor:"#8C66BA",stopOpacity:0})),p.createElement("radialGradient",{id:"paint4_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.7505 13.1378) rotate(-165.772) scale(11.329 19.0713)"},p.createElement("stop",{offset:.0584996,stopColor:"#50E6FF"}),p.createElement("stop",{offset:1,stopColor:"#436DCD"})),p.createElement("linearGradient",{id:"paint5_linear_376_5370",x1:8.80489,y1:2.47938,x2:12.2191,y2:2.47938,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#2D3F80"}),p.createElement("stop",{offset:1,stopColor:"#436DCD",stopOpacity:0})))),KCe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#4285F4"}),p.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#1967D2"}),p.createElement("path",{d:"M8 13.75C8 13.6119 8.11193 13.5 8.25 13.5H15.75C15.8881 13.5 16 13.6119 16 13.75V14.75C16 14.8881 15.8881 15 15.75 15H8.25C8.11193 15 8 14.8881 8 14.75V13.75ZM8 16.75C8 16.6119 8.11193 16.5 8.25 16.5H13.75C13.8881 16.5 14 16.6119 14 16.75V17.75C14 17.8881 13.8881 18 13.75 18H8.25C8.11193 18 8 17.8881 8 17.75V16.75Z",fill:"white"}),p.createElement("path",{d:"M8 10.75C8 10.6119 8.11193 10.5 8.25 10.5H15.75C15.8881 10.5 16 10.6119 16 10.75V11.75C16 11.8881 15.8881 12 15.75 12H8.25C8.11193 12 8 11.8881 8 11.75V10.75Z",fill:"white"})),YCe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#34A853"}),p.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#188038"}),p.createElement("path",{d:"M7.5 10.5C7.22386 10.5 7 10.7239 7 11V17.5C7 17.7761 7.22386 18 7.5 18H16.5C16.7761 18 17 17.7761 17 17.5V11C17 10.7239 16.7761 10.5 16.5 10.5H7.5ZM11.25 16.5L8.5 16.5V14.75L11.25 14.75V16.5ZM11.25 13.75H8.5V12H11.25V13.75ZM15.5 16.5H12.75V14.75L15.5 14.75V16.5ZM15.5 13.75H12.75V12H15.5V13.75Z",fill:"white"})),ZCe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#F4B400"}),p.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#9D7607"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.25C7 10.8358 7.33579 10.5 7.75 10.5H16.25C16.6642 10.5 17 10.8358 17 11.25V17.25C17 17.6642 16.6642 18 16.25 18H7.75C7.33579 18 7 17.6642 7 17.25V11.25ZM8.5 12.5V16H15.5V12.5H8.5Z",fill:"white"})),JCe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M13.5574 11.5349L5.65039 10.1395V20.4498C5.65039 20.9206 6.03209 21.3023 6.50295 21.3023H20.1467C20.6175 21.3023 20.9992 20.9206 20.9992 20.4498V16.6512L13.5574 11.5349Z",fill:"#185C37"}),p.createElement("path",{d:"M13.5574 2.69763H6.50295C6.03209 2.69763 5.65039 3.07933 5.65039 3.55019V7.34879L13.5574 12L17.7434 13.3953L20.9992 12V7.34879L13.5574 2.69763Z",fill:"#21A366"}),p.createElement("path",{d:"M5.65039 7.34888H13.5574V12H5.65039V7.34888Z",fill:"#107C41"}),p.createElement("path",{opacity:.1,d:"M11.3095 6.41858H5.65039V18.0465H11.3095C11.7797 18.045 12.1605 17.6641 12.162 17.1939V7.27114C12.1605 6.80092 11.7797 6.42011 11.3095 6.41858Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V18.5117H10.8443C11.3146 18.5102 11.6954 18.1294 11.6969 17.6591V7.73634C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V17.5815H10.8443C11.3146 17.5799 11.6954 17.1991 11.6969 16.7289V7.73634C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.3792 6.88379H5.65039V17.5815H10.3792C10.8494 17.5799 11.2303 17.1991 11.2318 16.7289V7.73634C11.2303 7.26613 10.8494 6.88532 10.3792 6.88379Z",fill:"#282828"}),p.createElement("path",{d:"M1.85256 6.88379H10.38C10.8508 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7346 10.8508 17.1163 10.38 17.1163H1.85256C1.3817 17.1163 1 16.7346 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_376_5372)"}),p.createElement("path",{d:"M3.63965 14.7712L5.43314 11.9921L3.78988 9.22839H5.11174L6.00848 10.9958C6.09128 11.1637 6.14802 11.2884 6.17872 11.3707H6.19035C6.24926 11.2368 6.31128 11.1067 6.37639 10.9805L7.335 9.22933H8.54848L6.86336 11.9768L8.59128 14.7712H7.30012L6.2643 12.8312C6.21551 12.7486 6.17411 12.6619 6.14059 12.5721H6.12524C6.09489 12.6601 6.05464 12.7444 6.00523 12.8233L4.93872 14.7712H3.63965Z",fill:"white"}),p.createElement("path",{d:"M20.1489 2.69763H13.5596V7.34879H21.0014V3.55019C21.0014 3.07933 20.6197 2.69763 20.1489 2.69763Z",fill:"#33C481"}),p.createElement("path",{d:"M13.5596 12H21.0014V16.6512H13.5596V12Z",fill:"#107C41"}),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_376_5372",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#18884F"}),p.createElement("stop",{offset:.5,stopColor:"#117E43"}),p.createElement("stop",{offset:1,stopColor:"#0B6631"})))),QCe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M13.0927 12.9302L11.6973 2.69763H11.5932C6.51931 2.71244 2.40983 6.82193 2.39502 11.8958V12L13.0927 12.9302Z",fill:"#ED6C47"}),p.createElement("path",{d:"M11.8019 2.69763H11.6978V12L16.3489 13.8604L21.0001 12V11.8958C20.9853 6.82193 16.8758 2.71244 11.8019 2.69763Z",fill:"#FF8F6B"}),p.createElement("path",{d:"M20.9997 12V12.1023C20.9851 17.1773 16.8746 21.2878 11.7997 21.3023H11.595C6.52004 21.2878 2.40958 17.1773 2.39502 12.1023V12H20.9997Z",fill:"#D35230"}),p.createElement("path",{opacity:.1,d:"M12.1625 7.26975V17.1953C12.1602 17.5402 11.9512 17.8501 11.6322 17.9814C11.5307 18.0243 11.4216 18.0465 11.3113 18.0465H4.59038C4.46015 17.8977 4.33457 17.7395 4.21829 17.5814C3.03331 16.0006 2.39349 14.0779 2.39503 12.1023V11.8977C2.39231 10.1157 2.9131 8.37221 3.8927 6.8837C3.99503 6.72556 4.102 6.56742 4.21829 6.41858H11.3113C11.7799 6.42213 12.1589 6.80114 12.1625 7.26975Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M11.6974 7.73496V17.6605C11.6973 17.7708 11.6752 17.8799 11.6322 17.9815C11.5009 18.3004 11.1911 18.5094 10.8462 18.5117H5.01364C4.86648 18.3623 4.72528 18.2071 4.59038 18.0466C4.46015 17.8977 4.33457 17.7396 4.21829 17.5815C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88733 11.6938 7.26634 11.6974 7.73496Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M11.6974 7.73495V16.7303C11.6938 17.1989 11.3148 17.5779 10.8462 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88732 11.6938 7.26633 11.6974 7.73495Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M11.2322 7.73495V16.7303C11.2287 17.1989 10.8497 17.5779 10.3811 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.3811C10.8497 6.88732 11.2287 7.26633 11.2322 7.73495Z",fill:"#282828"}),p.createElement("path",{d:"M1.85255 6.88379H10.38C10.8509 6.88379 11.2325 7.2655 11.2325 7.73634V16.2638C11.2325 16.7346 10.8508 17.1163 10.38 17.1163H1.85255C1.38171 17.1163 1 16.7346 1 16.2638V7.73634C1 7.2655 1.38171 6.88379 1.85255 6.88379Z",fill:"url(#paint0_linear_376_5382)"}),p.createElement("path",{d:"M6.20915 9.15766C6.76426 9.12021 7.31459 9.28145 7.76171 9.61255C8.13464 9.94549 8.3339 10.4313 8.30217 10.9302C8.30827 11.277 8.21585 11.6185 8.03567 11.9149C7.85325 12.2062 7.59043 12.4385 7.27892 12.5837C6.9228 12.7493 6.53344 12.8311 6.14077 12.8228H5.06217V14.8274H3.95752V9.15766H6.20915ZM5.06125 11.9567H6.01195C6.31334 11.9789 6.61239 11.8897 6.85242 11.706C7.05094 11.5156 7.155 11.247 7.1366 10.9726C7.1366 10.3477 6.7735 10.0353 6.0473 10.0353H5.06126V11.9567H5.06125Z",fill:"white"}),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_376_5382",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#CA4C28"}),p.createElement("stop",{offset:.5,stopColor:"#C5401E"}),p.createElement("stop",{offset:1,stopColor:"#B62F14"})))),XCe=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M20.1467 2.69775H6.50295C6.03209 2.69775 5.65039 3.07946 5.65039 3.55031V7.34892L13.5574 9.6745L20.9992 7.34892V3.55031C20.9992 3.07946 20.6175 2.69775 20.1467 2.69775Z",fill:"#41A5EE"}),p.createElement("path",{d:"M20.9992 7.34888H5.65039V12L13.5574 13.3954L20.9992 12V7.34888Z",fill:"#2B7CD3"}),p.createElement("path",{d:"M5.65039 12.0001V16.6513L13.0923 17.5815L20.9992 16.6513V12.0001H5.65039Z",fill:"#185ABD"}),p.createElement("path",{d:"M6.50295 21.3024H20.1467C20.6175 21.3024 20.9992 20.9207 20.9992 20.4498V16.6512H5.65039V20.4498C5.65039 20.9207 6.03209 21.3024 6.50295 21.3024Z",fill:"#103F91"}),p.createElement("path",{opacity:.1,d:"M11.3095 6.4187H5.65039V18.0466H11.3095C11.7797 18.0451 12.1605 17.6643 12.162 17.194V7.27126C12.1605 6.80104 11.7797 6.42023 11.3095 6.4187Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V18.5117H10.8443C11.3146 18.5102 11.6954 18.1294 11.6969 17.6591V7.73635C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V17.5815H10.8443C11.3146 17.5799 11.6954 17.1991 11.6969 16.7289V7.73635C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.3792 6.88379H5.65039V17.5815H10.3792C10.8494 17.5799 11.2303 17.1991 11.2318 16.7289V7.73635C11.2303 7.26613 10.8494 6.88532 10.3792 6.88379Z",fill:"#282828"}),p.createElement("path",{d:"M1.85256 6.88379H10.38C10.8509 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7347 10.8509 17.1164 10.38 17.1164H1.85256C1.3817 17.1164 1 16.7347 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_376_5387)"}),p.createElement("path",{d:"M4.49888 13.4224C4.51562 13.554 4.52679 13.6684 4.5319 13.7666H4.55143C4.55887 13.6736 4.57437 13.5615 4.59794 13.4303C4.62151 13.2991 4.64275 13.1883 4.66166 13.0978L5.55841 9.22891H6.71795L7.64818 13.0396C7.70223 13.2766 7.74092 13.5168 7.764 13.7587H7.77935C7.79669 13.5243 7.82901 13.2913 7.87609 13.061L8.61795 9.22705H9.6733L8.37004 14.7712H7.13702L6.2533 11.0996C6.22772 10.994 6.19842 10.8559 6.16632 10.6861C6.13423 10.5163 6.11423 10.3922 6.10632 10.314H6.09097C6.08074 10.4042 6.06073 10.5382 6.03097 10.7159C6.0012 10.8936 5.97732 11.025 5.95933 11.1103L5.12863 14.7703H3.87468L2.56445 9.2289H3.63887L4.44678 13.1056C4.46492 13.1852 4.48214 13.2912 4.49888 13.4224Z",fill:"white"}),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_376_5387",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#2368C4"}),p.createElement("stop",{offset:.5,stopColor:"#1A5DBE"}),p.createElement("stop",{offset:1,stopColor:"#1146AC"})))),aje=({className:e,contextConnector:t,extension:n})=>{const r=yt(),i=e3e(t,n);return g.jsx("div",{className:`${e} dark:bg-token-main-surface-secondary flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10`,children:g.jsx(i,{className:"w-[20px]","aria-label":r.formatMessage({id:"ccc.fileIcon",defaultMessage:"File icon for {contextConnector}"},{contextConnector:t})})})};function e3e(e,t){switch(e){case Ne.CONFLUENCE:return WH;case Ne.GDRIVE:switch(t){case"doc":case"docx":return KCe;case"xls":case"xlsx":return YCe;case"ppt":case"pptx":return ZCe;default:return Sd}case Ne.JIRA:return KH;case Ne.NOTION_OPEN_CONNECTOR:return S9;case Ne.O365_BUSINESS:case Ne.O365_PERSONAL:case Ne.O365:switch(t){case"doc":case"docx":return XCe;case"xls":case"xlsx":return JCe;case"ppt":case"pptx":return QCe;default:return WCe}case Ne.SLACK_OPEN_CONNECTOR:return y0}}function lje(e){switch(e){case Ne.CONFLUENCE:return WH;case Ne.GDRIVE:return Sd;case Ne.JIRA:return KH;case Ne.NOTION_OPEN_CONNECTOR:return S9;case Ne.O365_PERSONAL:case Ne.O365:return Uz;case Ne.O365_BUSINESS:return jH;case Ne.SLACK_OPEN_CONNECTOR:return y0}}var Wd={},BI;function t3e(){if(BI)return Wd;BI=1,Object.defineProperty(Wd,"__esModule",{value:!0});function e(t,n){if(n)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}return Wd.assertNever=e,Wd.default=e,Wd}var n3e=t3e();const r3e=mn(n3e),i3e=Gn({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),s3e=Gn({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),cje=It({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function uje(e,t,n){switch(e){case Ne.CONFLUENCE:return"Confluence";case Ne.GDRIVE:return"Google Drive";case Ne.JIRA:return"Jira";case Ne.NOTION_OPEN_CONNECTOR:return"Notion";case Ne.O365:return n?"OneDrive":"Microsoft OneDrive";case Ne.O365_PERSONAL:return n?"OneDrive":t?.formatMessage(i3e)??"Microsoft OneDrive (personal)";case Ne.O365_BUSINESS:return n?"Sharepoint":t?.formatMessage(s3e)??"Microsoft OneDrive (work/school)";case Ne.SLACK_OPEN_CONNECTOR:return"Slack"}}function o3e(e,t){switch(e){case Ne.CONFLUENCE:return"Confluence Page";case Ne.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case Ne.JIRA:return"Jira Issue";case Ne.NOTION_OPEN_CONNECTOR:return"Notion Page";case Ne.O365:case Ne.O365_PERSONAL:case Ne.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case Ne.SLACK_OPEN_CONNECTOR:return"Slack"}r3e(e)}function dje({contextConnector:e,extension:t}){return g.jsx(g.Fragment,{children:o3e(e,t)})}const a3e=nn(e=>{const n=hd(e)?.user,r=On(e,"1967546325"),i=r.get("gdrivePicker",!1),s=r.get("o365Picker",!1),o=r.get("gdriveLink",!1),a=r.get("o365PersonalLink",!1),l=r.get("o365BusinessLink",!1),c=r.get("testCtor1Link",!1),u=r.get("testCtor2Link",!1),d=r.get("testCtor3Link",!1),f=r.get("oversmokeLink",!1),h=On(e,"3747383021"),m=Qe(e,"3544641259")&&h.get("github",!1),v=r.get("gdrivePercentage",0),_=r.get("o365Percentage",0),y=r.get("testCtor1Percentage",0),b=r.get("testCtor2Percentage",0),C=r.get("testCtor3Percentage",0),S=r.get("oversmokePercentage",0),x=r.get("loadTestPercentage",0),w=r.get("showWorkspaceSettings",!1),E=n?l3e(n.id):null;return{confluenceLinkStatus:Ui(c,E,y),gdriveLinkStatus:Ui(o,E,v),gdriveStatus:Ui(i,E,v),jiraLinkStatus:Ui(u,E,b),notionLinkStatus:Ui(d,E,C),o365BusinessLinkStatus:Ui(l,E,_),o365PersonalLinkStatus:Ui(a,E,_),o365Status:Ui(s,E,_),slackLinkStatus:Ui(f,E,S),githubLinkStatus:Ui(m,E,100),loadTest:Ui(!0,E,x)==="true",showWorkspaceSettings:w}});function Y9(){const e=pe();return a3e(e)}function Ui(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function l3e(e){const n=c3e(e)%100;return Math.abs(n)}function c3e(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const u3e=new Map;function fje(){const{confluenceLinkStatus:e,gdriveLinkStatus:t,jiraLinkStatus:n,notionLinkStatus:r,o365BusinessLinkStatus:i,o365PersonalLinkStatus:s,slackLinkStatus:o}=Y9();return Z9(t,i,s,e,n,r,o)}function hje(){const{gdriveStatus:e,o365Status:t}=Y9();return Z9(e,t,t)}function d3e(){const{gdriveStatus:e,o365Status:t,confluenceLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:i,slackLinkStatus:s,githubLinkStatus:o}=Y9();return Z9(e,t,t,o,n,r,i,s)}function Z9(e,t,n,r=null,i=null,s=null,o=null,a=null){const l=pe(),u=pn(l)?.getWorkspaceId(),d=[Ne.GDRIVE,Ne.O365_PERSONAL,Ne.O365_BUSINESS,...i==="true"||i==="ifConnected"?[Ne.CONFLUENCE]:[],...s==="true"||s==="ifConnected"?[Ne.JIRA]:[],...o==="true"||o==="ifConnected"?[Ne.NOTION_OPEN_CONNECTOR]:[],...a==="true"||a==="ifConnected"?[Ne.SLACK_OPEN_CONNECTOR]:[]],{connectors:f,isLoading:h,error:m,refetch:v}=f3e(d),{data:_,isLoading:y,error:b,refetch:C}=Ng(u),S=!u||_?.beta_settings?.[ca.CONTEXT_CONNECTOR_CONFLUENCE],x=!u||_?.beta_settings?.[ca.CONTEXT_CONNECTOR_GDRIVE],w=!u||_?.beta_settings?.[ca.CONTEXT_CONNECTOR_JIRA],E=!u||_?.beta_settings?.[ca.CONTEXT_CONNECTOR_NOTION],T=!u||_?.beta_settings?.[ca.CONTEXT_CONNECTOR_O365_PERSONAL],O=!u||_?.beta_settings?.[ca.CONTEXT_CONNECTOR_O365_BUSINESS],k=!u||_?.beta_settings?.[ca.CONTEXT_CONNECTOR_SLACK],A=f.get(Ne.CONFLUENCE),I=f.get(Ne.GDRIVE),D=f.get(Ne.JIRA),N=f.get(Ne.NOTION_OPEN_CONNECTOR),R=f.get(Ne.O365_PERSONAL),F=f.get(Ne.O365_BUSINESS),j=f.get(Ne.SLACK_OPEN_CONNECTOR),H=(de,P)=>de==="true"||de==="ifConnected"&&P,U=p.useMemo(()=>{const de=!!i&&H(i,!!A?.access_token),P=!!I?.access_token,Ce=H(e,P),Se=!!s&&H(s,!!D?.access_token),ne=!!o&&H(o,!!N?.access_token),ue=!!(R?.access_token??F?.access_token),te=H(t,ue),xe=H(n,ue),oe=!!a&&H(a,!!j?.access_token),fe=[de&&A&&S?[Ne.CONFLUENCE,A]:null,Ce&&I&&x?[Ne.GDRIVE,I]:null,Se&&D&&w?[Ne.JIRA,D]:null,ne&&N&&E?[Ne.NOTION_OPEN_CONNECTOR,N]:null,xe&&R&&T?[Ne.O365_PERSONAL,R]:null,te&&F&&O?[Ne.O365_BUSINESS,F]:null,oe&&j&&k?[Ne.SLACK_OPEN_CONNECTOR,j]:null];return new Map(VU(fe))},[A,i,I,e,D,s,N,o,F,j,t,R,n,S,a,x,E,w,T,O,k]);let M=null,me=v;return m?(M=m,me=v):b&&(M=b,me=C),{connectorConfig:U,isLoading:h||y,error:M,refetch:me}}function f3e(e){const{isUnauthenticated:t}=Ph(),{data:n,isLoading:r,error:i,refetch:s}=Rt({queryKey:["fetchConnectorData",e],queryFn:h3e,refetchInterval:30*60*1e3,enabled:!t});return{connectors:p.useMemo(()=>!n||!n.length||i?u3e:new Map(n.map(a=>[a.type,a])),[n,i]),isLoading:r,error:i,refetch:s}}async function h3e({queryKey:e}){const[t,n]=e;let r=null;try{r=await he.safeGet("/connectors/check",{parameters:{query:{connector_names:n}}})}catch(s){throw V.addAction("Server Error while retrieving context connector entry",{cause:s}),s}return!r||!r.connectors?[]:r.connectors.map(s=>{const{type:o,...a}=s,l=o;if(a.access_token){if(l===Ne.O365_PERSONAL)return{type:l,...a,onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}};if(l===Ne.O365_BUSINESS){const c=a.onedrive_business_metadata?.base_url;if(c){const u=new URL(c);return{type:l,...a,onedrive_endpoint_hint:{type:"business",baseUrl:c,parsedUrl:`https://${u.hostname}/_layouts/15/FilePicker.aspx`}}}}}return{type:l,...a}})}const UI=10,pje=4,mS={duration:20,hasCloseButton:!0},p3e=512,mje=p3e*1024*1024,m3e="application/vnd.google-apps.spreadsheet",g3e="application/vnd.google-apps.presentation",v3e="application/vnd.google-apps.document",_3e=["xlsx","pptx","docx","page","issue"],y3e={[m3e]:"xlsx",[g3e]:"pptx",[v3e]:"docx"};function gje(e){return e?y3e[e.split(";")[0]]??null:null}function b3e(e){return _3e.includes(e)}function C3e(e){return e&&b3e(e)?e:null}var Hn=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e[e.Codex=6]="Codex",e))(Hn||{});function vje(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:C3e(e.synthetic_extension),type:e.type}}var go=(e=>(e.Uploading="uploading",e.Ready="ready",e))(go||{}),Ob,qI;function S3e(){if(qI)return Ob;qI=1;var e=v9(),t=Jg(),n=cw(),r=Ys(),i=Mh();function s(o,a,l,c){if(!r(o))return o;a=t(a,o);for(var u=-1,d=a.length,f=d-1,h=o;h!=null&&++u<d;){var m=i(a[u]),v=l;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(u!=f){var _=h[m];v=c?c(_,m,h):void 0,v===void 0&&(v=r(_)?_:n(a[u+1])?[]:{})}e(h,m,v),h=h[m]}return o}return Ob=s,Ob}var Ab,zI;function YH(){if(zI)return Ab;zI=1;var e=Cw(),t=S3e(),n=Jg();function r(i,s,o){for(var a=-1,l=s.length,c={};++a<l;){var u=s[a],d=e(i,u);o(d,u)&&t(c,n(u,i),d)}return c}return Ab=r,Ab}var Ib,GI;function w3e(){if(GI)return Ib;GI=1;var e=YH(),t=nB();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return Ib=n,Ib}var Mb,HI;function E3e(){if(HI)return Mb;HI=1;var e=md(),t=aw(),n=Ni(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return Mb=i,Mb}var Rb,VI;function x3e(){if(VI)return Rb;VI=1;var e=sw(),t=E3e();function n(r,i,s,o,a){var l=-1,c=r.length;for(s||(s=t),a||(a=[]);++l<c;){var u=r[l];i>0&&s(u)?i>1?n(u,i-1,s,o,a):e(a,u):o||(a[a.length]=u)}return a}return Rb=n,Rb}var Pb,$I;function k3e(){if($I)return Pb;$I=1;var e=x3e();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Pb=t,Pb}var Nb,WI;function T3e(){if(WI)return Nb;WI=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Nb=e,Nb}var Db,KI;function O3e(){if(KI)return Db;KI=1;var e=T3e(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=t(o.length-i,0),c=Array(l);++a<l;)c[a]=o[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=o[a];return u[i]=s(c),e(r,this,u)}}return Db=n,Db}var Lb,YI;function A3e(){if(YI)return Lb;YI=1;function e(t){return function(){return t}}return Lb=e,Lb}var Fb,ZI;function I3e(){if(ZI)return Fb;ZI=1;var e=A3e(),t=Tz(),n=Sw(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Fb=r,Fb}var jb,JI;function M3e(){if(JI)return jb;JI=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=t-(a-o);if(o=a,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return jb=r,jb}var Bb,QI;function R3e(){if(QI)return Bb;QI=1;var e=I3e(),t=M3e(),n=t(e);return Bb=n,Bb}var Ub,XI;function P3e(){if(XI)return Ub;XI=1;var e=k3e(),t=O3e(),n=R3e();function r(i){return n(t(i,void 0,e),i+"")}return Ub=r,Ub}var qb,eM;function N3e(){if(eM)return qb;eM=1;var e=w3e(),t=P3e(),n=t(function(r,i){return r==null?{}:e(r,i)});return qb=n,qb}var D3e=N3e();const L3e=mn(D3e),_je=["none","delay","indexed"],yje=["none","Adaptive","ChunkedCatchup","Punctuation"],F3e={label:"Auto",value:""},j3e="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",B3e=()=>({fConversationEndpoint:"default",tokenBufferType:null,wordFadeType:null,showCompletionPerfData:!0,forceParagen:!1,forceParagenModel:F3e,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:j3e,forceRateLimit:!1,recordRendering:!1,recordTransformedConvoJson:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,forceShowConvoRating:!1,jsonViewerFilters:{},forceParallelSwitch:"auto",autoSwitcherTreatmentOverride:void 0,juiceScore:null,multimodalJuiceScore:null,apiToolExpansionType:null,...{}}),ZH=fn($U(B3e,{name:qt.DebugSettings,partialize:e=>L3e(e,["fConversationEndpoint","showCompletionPerfData","jsonViewerFilters","recordRendering","recordTransformedConvoJson"])})),Jh=()=>ZH.getState(),bje=e=>ZH.setState(e);function Cje(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function Sje(e){return e.startsWith("file_")?"sediment://"+e:"file-service://"+e}function wje(e){return e.startsWith("file-service://")}function gS(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(er.fileZeroBytes,n);case"file_too_large":return e.formatMessage(er.fileTooLarge,n);case"over_user_quota":return e.formatMessage(er.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(er.fileNotFound,n);case"file_timed_out":return e.formatMessage(er.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(er.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(er.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(er.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(er.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(er.fileEmpty,n);case"too_many_tokens":return e.formatMessage(er.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(er.fileEncrypted,n);case"file_corrupted":return e.formatMessage(er.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(er.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(er.unknownError)}}function Eje(){const e=yt();return p.useCallback((t,n)=>gS(e,t,n),[e])}const xje=1e3*60*58;async function U3e(e,t,n=!1,r,i,s,o){const[,a,l]=/^(.*?)(\?.*)?$/.exec(e)??[],c=new URLSearchParams(l),u=a.replaceAll("#","*"),d=await he.safeGet("/files/download/{file_id}",{parameters:{path:{file_id:u},query:{gizmo_id:t,post_id:o,...Object.fromEntries(c.entries()),conversation_id:r,inline:i}},authOption:n?tn.Anonymous:void 0});if(d.status===jf.Success||d.status===jf.Retry)return d;throw new cn("Could not get file download link","error_code"in d?d.error_code:"unknown_error")}function kje(){const{session:e}=Sh(),{isUnauthenticated:t}=Ph(),n=In();return async(r,i)=>{if(!t&&e==null)return n.danger(er.fileDownloadFailed,{toastId:"file_download_failed"}),!1;try{const s=await U3e(r,void 0,t);if(s.status!==jf.Success)throw new Error("File is not ready to download: "+JSON.stringify(s));const o=s.download_url,a=document.createElement("a");a.href=o,a.download=i,a.click(),window.open(o,"_blank")}catch{return n.danger(er.fileDownloadFailed,{toastId:"file_download_failed"}),!1}return!0}}function J9(e,t){return(t?.kind===an.GizmoInteraction||t?.kind===an.GizmoTest)&&!(t?.gizmo&&rG(t?.gizmo))?t.gizmo?.product_features:e?.product_features}function Tje(e,t,n){const r=J9(e,t);return n===Ae.Research?Hn.Retrieval:r?.attachments?.type===Ml.CodeInterpreter?Hn.Interpreter:r?.attachments?.type===Ml.Multimodal?Hn.Multimodal:r?.attachments?.type===Ml.Retrieval?Hn.Retrieval:r?.attachments?.type===Ml.ContextConnector?Hn.ContextConnector:Hn.None}function JH(e){const t=e.split(".").pop()?.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t??""]||""}function q3e(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function QH(e,t,n){const r=JH(e);return r&&(t=r),n&&(t=q3e(t)),t}function z3e(e,t,n,r,i){if(i==null)return e;const s=QH(t,n,r),{accepted_mime_types:o,can_accept_all_mime_types:a}=i;return o==null||o.length===0||!a||o.includes(s)?e:Hn.Interpreter}function Oje(e,t,n,r){const i=QH(n,t,r),s=e?.product_features?.attachments;if(s!=null)return s.accepted_mime_types?.includes(i)?s.type:s.image_mime_types?.includes(i)?Ml.Multimodal:Ml.CodeInterpreter}function Aje(e,t){const n=J9(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function Ije(e,t){const n=J9(e,t),{attachments:r}=n??{};return r?.image_mime_types?r.image_mime_types:r?.type==="multimodal"?r.accepted_mime_types??G3e:[]}const G3e=["image/png","image/jpeg","image/gif","image/webp"],tM={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};function H3e(e){return e.reduce((t,n)=>(n in tM?t[n]=tM[n]:n.includes("/")&&(t[n]=[`.${n.split("/")[1]}`]),t),{})}function Mje(e){return p.useMemo(()=>e===void 0?{}:{accept:H3e(e)},[e])}function Q9(e){return e.split(".").pop()?.toLowerCase()}function Rje(e){const t=Q9(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function Pje(e){const t=(e??"").toLowerCase();return t==="pdf"?"PDF":t.length===0?"":t.charAt(0).toUpperCase()+t.slice(1)}function Nje(e){const t=Q9(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function Dje(e){const t=Q9(e);return t!=null&&["xls","xlsx"].includes(t)}function XH(e,t,n="fit"){return new Promise((r,i)=>{const s=new FileReader;s.onerror=o=>{V.addError(new Error("File reading has failed:",{cause:o})),i(new Error("Failed to read the file."))},s.onload=o=>{const a=new Image;a.onerror=l=>{V.addError(new Error("Image loading has failed:",{cause:l})),i(new Error("Failed to load the image."))},a.onload=()=>{const l=document.createElement("canvas");let c,u=0,d=0;switch(n){case"fill":c=t/Math.min(a.width,a.height);break;case"square":c=t/Math.min(a.width,a.height);break;case"fit":c=t/Math.max(a.width,a.height);break}const f=a.width*c,h=a.height*c;n==="square"?(l.width=t,l.height=t,u=(t-f)/2,d=(t-h)/2):(l.width=f,l.height=h);const m=l.getContext("2d");if(m==null){V.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),i(new Error("Failed to create canvas context."));return}m.drawImage(a,u,d,f,h);const v=e.type||"image/png";l.toBlob(_=>{_?r(new File([_],e.name,{type:v})):(V.addError("Blob creation failed. Blob is null."),i(new Error("Failed to create blob from image data.")))},v)},o.target==null?(V.addError("Event target is null. Failed to load image."),i("Failed to load image.")):a.src=o.target.result},s.readAsDataURL(e)})}function Lje(e,t){return XH(e,t,"square")}function Fje(e){const t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function V3e(e,t){return t?e.slice(0,-t.length-1):e}function jje(){const e=pe(),t=$t(e,"3278106051"),n=$t(e,"2356508715");return p.useMemo(()=>()=>!t.get("allow_receiver_see_user_uploaded_files")&&!n.get("allow_receiver_see_user_uploaded_files"),[t,n])}const er=It({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}});let zb=null;async function $3e(){return zb||(zb=(await ye(async()=>{const{default:e}=await import("./e8thlmiuh1tetfnu.js");return{default:e}},[])).default),zb}const tm={duration:20,hasCloseButton:!0};function W3e(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function vS(e){return new Promise((t,n)=>{const r=new FileReader,i=new Image;r.onload=()=>{i.onload=()=>t(i),i.onerror=s=>n(s),i.src=r.result},r.readAsDataURL(e)})}async function K3e(e,t,n,r,i){try{const s=await he.safePost("/files",{authOption:i?tn.Anonymous:void 0,requestBody:{file_name:e,file_size:t,use_case:n.kind,gizmo_id:n.kind===Ln.Gizmo?n.gizmoId:void 0,timezone_offset_min:new Date().getTimezoneOffset(),reset_rate_limits:!!r}});if(s.status===jf.Error)throw K.logEvent("Create File Entry Error",{error_code:s.error_code,error_type_name:"FileServiceErrorResponse",error_msg:s.error_code,error_stack:""}),new cn("Could not create file",s.error_code);return s}catch(s){throw s instanceof cn||(s instanceof Mg?K.logEvent("Create File Entry Error",{error_type_name:"ClientRequestMismatchedAuthError",error_msg:s.message,error_stack:s.stack}):s instanceof mt?K.logEvent("Create File Entry Error",{error_type_name:s.detail?.type==="throttled"?"RequestThrottled":"RequestError",error_msg:s.message,error_stack:s.stack}):s instanceof Error?K.logEvent("Create File Entry Error",{error_type_name:s.name,error_msg:s.message,error_stack:s.stack}):K.logEvent("Create File Entry Error",{error_type_name:"UnknownError",error_msg:String(s),error_stack:""})),s}}function eV(e){const t=e.split("."),n=t[t.length-1];return n==="error"||n==="cancelled"||n==="failed"||n==="unknown"}function tV(e){if(!e)return;let t;if(e.thumbnail&&typeof e.thumbnail=="object"){const r=e.thumbnail,i=r.file_id,s=r.width,o=r.height,a=r.size_bytes;typeof i=="string"&&typeof s=="number"&&typeof o=="number"&&typeof a=="number"&&(t={fileId:i,width:s,height:o,sizeBytes:a})}const n=typeof e.transcript=="string"?e.transcript:void 0;if(t||n)return{thumbnail:t,transcript:n}}async function nV(e,t,n){try{const r=ct.streamedJsonPost(`${ut}/files/process_upload_stream`,e,{authOption:n?tn.Anonymous:void 0});let i,s,o;for await(const a of r){if(eV(a.event)){const u=`Error stream processing upload: indexing failed: ${a.event}`;throw new cn(u,a.event,a.extra)}a.progress!=null&&t?.(a.progress),a?.extra?.total_tokens!=null&&(i=a.extra.total_tokens);const l=a?.extra?.metadata_object_id;typeof l=="string"&&l.length>0&&(o=l);const c=tV(a.extra);c&&(s=c)}return i||s||o?{fileTokenSize:i,libraryFileId:o,thumbnail:s?.thumbnail,transcript:s?.transcript}:void 0}catch(r){throw r instanceof cn||r instanceof mt&&r.isClientError()?r:new cn(`Error stream processing upload: ${r}`,"stream_process_error")}}async function rV(e,t,n,r,i,s,o){const a={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let l=si.Initial;K.logEvent("Upload File Initiated",{client:"web",useCase:i.kind,uploadEntry:"local"}),vt.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:i.kind,uploadEntry:"local"});const c=o.usesRetrievalIndex??!1,u=c?performance.now():void 0,d=Jh().resetRateLimits;try{const{file_id:f,upload_url:h}=await K3e(t.name,t.size,i,!!d,o.isUnauthenticated);s.onFileCreated(e,f,h),l=si.FileCreated,s.onFileUploadProgress(e,a.ENTRY_CREATED);const m=i.kind===Ln.Gizmo?i.gizmoId:void 0,v={client:"web",useCase:i.kind,uploadEntry:"local",fileId:f,fileSize:t.size};K.logEvent("Blob Store Upload Started",v);const _=C=>C.toLowerCase().includes("/api/estuary/upload_content_and_finalize"),y=C=>C.toLowerCase().includes("/api/estuary/upload_content_bytes");let b;if(_(h)){const{finalStatus:C,metadata:S}=await e5e({file:t,cdnUrl:h,fileId:f,fileName:t.name,useCaseType:i,shouldIndexForRetrieval:c,gizmoId:m,handlers:s,tempId:e,imageDimensions:o.imageDimensions,milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED}});b=S,l=C}else if(y(h)){const{finalStatus:C,metadata:S}=await X3e({file:t,destinationUrl:h,fileId:f,fileName:t.name,useCaseType:i,shouldIndexForRetrieval:c,gizmoId:m,onOverallProgress:x=>{s.onFileUploadProgress(e,x)},onUploadComplete:()=>{s.onFileUploadProgress(e,a.FILE_UPLOADED)},milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED}});b=S,l=C,s.onFileUploaded(e,f,o.imageDimensions,b)}else{const C=await t5e(t,h,x=>{s.onFileUploadProgress(e,a.ENTRY_CREATED+(a.FILE_UPLOADED-a.ENTRY_CREATED)*x)});if(s.onFileUploadProgress(e,a.FILE_UPLOADED),C.status!==201)throw K.logEvent("Blob Store Upload Error",{...v,error_type_name:`HTTPStatus${C.status}`,error_msg:`HTTP status ${C.status}: ${C.statusText}`,error_stack:""}),new cn("File upload to blobstore failed","failed_upload_to_blobstore");K.logEvent("Blob Store Upload Completed",v),l=si.FileUploaded;const S={file_id:f,use_case:i.kind,gizmo_id:m,index_for_retrieval:c,file_name:t.name};b=await nV(S,x=>{s.onFileUploadProgress(e,a.FILE_UPLOADED+(a.FILE_PROCESSED-a.FILE_UPLOADED)*x/100)},o.isUnauthenticated),l=si.FileProcessed,s.onFileUploaded(e,f,o.imageDimensions,b),c&&(l=si.RetrievalIndexCreated)}u!=null&&_n(Lt())&&he.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-u,type:"file"}})}catch(f){iV(n,r,t.name,f);let h="NotInstanceOfError";f instanceof mt?h=`${f.name}_${f.status}`:(f instanceof Error||f instanceof cn)&&(h=f.name),s.onError(e,"error",h,i,l)}}async function Bje(e,t,n,r,i,s){const{width:o,height:a}=await vS(t);return rV(e,t,n,r,{kind:i},s,{imageDimensions:{width:o,height:a}})}async function Y3e(e,t){const n=await he.safeGet("/files/{file_id}",{parameters:{path:{file_id:e},query:t!=null?{gizmo_id:t}:void 0}});return{name:n.name,status:n.metadata?.retrieval?.status??Tu.Processing,error_code:n.metadata?.retrieval?.error_code,file_size_tokens:n.file_size_tokens}}async function Z3e(e,t){const n=Date.now()+6e4,r=s=>new Promise(o=>setTimeout(o,s));let i=0;for(;Date.now()<n;){const s=await Y3e(e,t);if(s.status===Tu.Success||s.status===Tu.Skipped)return s;if(s.status===Tu.Failed)throw new cn("Context extraction failed",s.error_code);i++,await r(Math.min(1e3,100*i))}throw new cn("Retrieval indexing timed out")}function J3e(e){if(e.code==="file.indexing.error"){const t=e.extra?.file_parse_error_code;return typeof t=="string"?t:"file.indexing.error"}return e.code??"internal_error"}function iV(e,t,n,r){if(r instanceof cn&&r.code!=null){const i=gS(e,J3e(r));t.danger(i,{...tm,toastId:"file_upload_error",loggingTitle:i,loggingDescription:i})}else if(r instanceof mt&&r.detail?.type==="throttled"){const i=r.message,s="file-upload-rate-limit";(t.getToasts?.()??[]).some(a=>String(a.id).startsWith(s)&&a.isShown!==!1)||t.info(i,{...tm,id:s,action:Zw.file_upload_rate_limit_upsell_plus})}else if(r instanceof Mg){const i=e.formatMessage(_S.noAuthFileUpload);t.info(i,tm)}else{const i=gS(e,"default_upload_error",{fileName:n});t.danger(i,{...tm,toastId:"file_upload_error",loggingTitle:i,loggingDescription:i})}}const _S=It({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'},noAuthFileUpload:{id:"useFilePickerState.noAuthFileUpload",defaultMessage:"Log in to analyze files and images for free."}});async function Q3e(e){const{file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:l,onUploadComplete:c,milestones:u}=e,d=new FormData;d.append("file",t);const h=new URL(n,window.location.origin).searchParams.get("upload_url")??n;d.append("upload_url",h),d.append("file_id",r),d.append("file_name",i),d.append("use_case",s.kind),d.append("index_for_retrieval",String(!!o)),a&&d.append("gizmo_id",a);const m=Ch(Lt()),v=Fo(),_={[yg]:v,[_g]:fd};m&&(_.Authorization=`Bearer ${m}`);const y=$e.getCookie(je.Workspace);typeof y=="string"&&y.trim().length>0&&y.trim()!==So&&(_["ChatGPT-Account-ID"]=encodeURIComponent(y.trim()));let b=!1;const C=j=>{l(u.entry+(u.uploaded-u.entry)*j)},S=j=>{l(u.uploaded+(u.processed-u.uploaded)*(j/100))},x=1e4,w=120,E=96;let T,O=0,k=!1,A=0,I=0;function D(j){return 1-Math.pow(1-j,3)}function N(){if(!k)return;const j=performance.now()-O,H=Math.min(1,j/x),U=E*D(H),M=Math.max(I,Math.min(E,U),A);if(M>I&&(I=M,S(M)),A>=100){F();return}T=window.setTimeout(N,M>=E&&A===0?w*4:w)}function R(){k||(k=!0,O=performance.now(),N())}function F(j=!1){k=!1,T!==void 0&&(window.clearTimeout(T),T=void 0),j&&(I=100,S(100))}return await new Promise((j,H)=>{const U=new XMLHttpRequest;U.open("POST",n,!0),U.withCredentials=!0;for(const[te,xe]of Object.entries(_))U.setRequestHeader(te,xe);let M="",me,de=!1,P;function Ce(te){if(!de){de=!0;try{U.abort()}catch{}H(te instanceof cn?te:new cn(`Error stream processing upload: ${String(te)}`,"stream_process_error"))}}let Se;function ne(te){for(;;){const xe=M.indexOf(`
`);if(xe===-1)break;const oe=M.slice(0,xe).trim();if(M=M.slice(xe+1),!!oe)try{const fe=JSON.parse(oe);if(eV(fe.event)){F(),Ce(new cn(`Error stream processing upload: indexing failed: ${fe.event}`,fe.event,fe.extra));return}fe.progress!=null&&(A=fe.progress,A>I&&(I=A,S(A)),A>=100&&F(!0)),fe.event==="file.processing.metadata"&&(A=100,F(!0)),fe?.extra?.total_tokens!=null&&(me=fe.extra.total_tokens);const le=tV(fe.extra);le&&(P=le);const we=fe?.extra?.metadata_object_id;typeof we=="string"&&we.length>0&&(Se=we)}catch{if(!te){M=oe+`
`+M;break}}}}U.upload.onprogress=te=>{if(!te.lengthComputable)return;const xe=te.loaded/te.total;C(xe),xe===1&&!b&&(b=!0,c(),R())};let ue=0;U.onreadystatechange=()=>{if(U.readyState===XMLHttpRequest.LOADING||U.readyState===XMLHttpRequest.DONE){const te=U.responseText.substring(ue);ue=U.responseText.length,M+=te,ne(U.readyState===XMLHttpRequest.DONE)}if(U.readyState===XMLHttpRequest.DONE){if(U.status>=400){F(),Ce(new cn("File upload to blobstore failed","failed_upload_to_blobstore"));return}F(I<100),j(me||P||Se?{fileTokenSize:me,libraryFileId:Se,thumbnail:P?.thumbnail,transcript:P?.transcript}:{})}};try{U.send(d)}catch(te){Ce(te)}})}async function X3e(e){const{file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:l,onUploadComplete:c,milestones:u}=e,d=new FormData;d.append("file",t);const h=new URL(n,window.location.origin).searchParams.get("upload_url")??n;d.append("upload_url",h);const m=Ch(Lt()),v=Fo(),_={[yg]:v,[_g]:fd};m&&(_.Authorization=`Bearer ${m}`);const y=$e.getCookie(je.Workspace);typeof y=="string"&&y.trim().length>0&&y.trim()!==So&&(_["ChatGPT-Account-ID"]=encodeURIComponent(y.trim())),await new Promise((x,w)=>{const E=new XMLHttpRequest;E.open("POST",n,!0),E.withCredentials=!0;for(const[T,O]of Object.entries(_))E.setRequestHeader(T,O);E.upload.onprogress=T=>{if(!T.lengthComputable)return;const O=T.loaded/T.total;l(u.entry+(u.uploaded-u.entry)*O),O===1&&c()},E.onreadystatechange=()=>{if(E.readyState===XMLHttpRequest.DONE){if(E.status>=400){w(new cn(`File upload to Estuary failed: HTTP ${E.status}`,"failed_upload_to_blobstore"));return}x()}};try{E.send(d)}catch(T){w(T instanceof cn?T:new cn(`Error uploading to Estuary: ${String(T)}`,"stream_process_error"))}});const b={file_id:r,use_case:s.kind,gizmo_id:a,index_for_retrieval:o,file_name:i},C=await nV(b,x=>{l(u.uploaded+(u.processed-u.uploaded)*x/100)});return{finalStatus:o?si.RetrievalIndexCreated:si.FileProcessed,metadata:C}}async function e5e(e){const{file:t,cdnUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,handlers:l,tempId:c,imageDimensions:u,milestones:d}=e,f=await Q3e({file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:m=>{l.onFileUploadProgress(c,m)},onUploadComplete:()=>{l.onFileUploadProgress(c,d.uploaded)},milestones:d});let h=si.FileProcessed;return l.onFileUploaded(c,r,u,f),o&&(h=si.RetrievalIndexCreated),{finalStatus:h,metadata:f}}async function t5e(e,t,n,r){const i=await $3e();return await i.request({method:"put",url:t,data:e,headers:{"x-ms-blob-type":"BlockBlob","x-ms-version":"2020-04-08","Content-Type":e.type},onUploadProgress:s=>{s.progress!==void 0&&n&&n(s.progress)}}).catch(function(s){let o={...r};throw i&&s instanceof i.AxiosError&&s.response?.status?o={...o,error_type_name:`AxiosHTTPError${s.response.status}`,error_msg:s.message,error_stack:s.stack}:s instanceof Error&&(o={...o,error_type_name:s.name,error_msg:s.message,error_stack:s.stack}),K.logEvent("Blob Store Upload Error",o),new cn("File upload to blobstore failed","failed_upload_to_blobstore")})}const{useDebugValue:n5e}=Le,{useSyncExternalStoreWithSelector:r5e}=KL,i5e=e=>e;function X9(e,t=i5e,n){const r=r5e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return n5e(r),r}const nM=(e,t)=>{const n=Lo(e),r=(i,s=t)=>X9(n,i,s);return Object.assign(r,n),r},Uje=(e,t)=>e?nM(e,t):nM,sV={files:[],connectorFileData:{}},oV=p.createContext(null);function qje({children:e,initialState:t=sV}){const[n]=p.useState(()=>Lo(()=>t));return g.jsx(oV.Provider,{value:n,children:e})}function aV(){const e=p.useContext(oV);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function zje(e,t){const n=aV();return X9(n,e,t)}const Gje={hasUploadInProgress:({files:e})=>e.some(t=>t.status===go.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===go.Ready)},Gb=2048;async function rM(e){let t=e,{width:n,height:r}=await vS(t);if(n>Gb||r>Gb)try{const i=await XH(t,Gb),s=await vS(i);n=s.width,r=s.height,t=i}catch(i){V.addError(new Error("Error resizing image:",{cause:i}))}return{file:t,width:n,height:r}}async function s5e(e,t,n,r,i,s,o,a,l){const c=performance.now();K.logEvent("Upload File Initiated",{client:"web",useCase:r.kind,contextConnector:s.contextConnector,fileSourceType:s.type}),vt.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:r.kind,contextConnector:s.contextConnector,fileSourceType:s.type});let u=si.Initial;const d=cV(e);try{const f=await he.safePost("/connectors/upload/{connector_name}",{parameters:{path:{connector_name:s.contextConnector}},requestBody:{id:t,upload_use_case:r.kind,mime_type:n.type,name:n.name,gizmo_id:o,drive_id:s.o365DriveId,manifest:s.manifest}});switch(r.kind===Ln.Gizmo&&(r={...r,kind:i.includes(lV(n))?Ln.Multimodal:Ln.MyFiles}),f.type){case"error":throw o5e(f.error);case"file":{switch(d.onFileCreated(t,f.file.id,"",s.contextConnector),u=si.FileProcessed,r.kind){case Ln.MyFiles:{d.onFileUploadProgress(t,90);const h=await Z3e(f.file.file_id,o);h?.status===Tu.Skipped&&l.danger(a.formatMessage(_S.retrievalSkippedFile,{fileName:h.name}),{...mS,toastId:"retrieval_index_skipped",loggingTitle:_S.retrievalSkippedFile.defaultMessage,loggingDescription:"Retrieval index skipped"}),d.onFileUploaded(t,f.file.file_id,void 0,{fileTokenSize:h.file_size_tokens,mimeType:f.file.mime_type}),u=si.RetrievalIndexCreated;break}case Ln.Multimodal:{d.onFileUploaded(t,f.file.file_id,{width:512,height:512},{mimeType:f.file.mime_type});break}case Ln.AceUpload:{d.onFileUploaded(t,f.file.file_id,void 0,{mimeType:f.file.mime_type});break}case Ln.DalleAgent:case Ln.Gizmo:case Ln.ProfilePicture:default:throw new cn(`Use case not supported by cloud doc: ${r.kind}`)}break}case"folder":throw new cn("Folder type not supported")}_n(Lt())&&he.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-c,type:s.contextConnector}})}catch(f){V.addError(new Error(`Failed to upload connected file by ${s.contextConnector}`,{cause:f}));const h=V3e(n.name,s?.syntheticExtension);iV(a,l,h,f);let m="NotInstanceOfError";f instanceof mt?m=`${f.name}_${f.status}`:(f instanceof Error||f instanceof cn)&&(m=f.name),d.onError(t,"error","connector_upload_"+m,{kind:Ln.MyFiles},u)}}function lV(e){return e.type||JH(e.name)}function o5e({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new cn(n,r)}else return mt.createWithErrorMessage("/connectors/upload","server",n,void 0,Error(n))}const xa={reset:e=>{e.setState(sV)},restoreFiles:(e,t)=>{e.setState({files:t})},uploadFile:async(e,t,n,r,i,s,o,a={},l,c,u=!1,d=!1)=>{const{gizmoId:f,isUnauthenticated:h}=a,m=e.getState().files,v=z3e(r,n.name,n.type,c?.contextConnector,l),_={tempId:t,gizmoId:a.gizmoId,status:go.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:c,contextConnector:c?.contextConnector,source:u?"library":c?"connector":"local"};if(!u&&m.length===UI)K.logEvent("Uploaded Max Files Error"),o.danger(s.formatMessage(nm.maxUploadsAtATime,{maxUploads:UI,fileName:n.name}),{...mS,toastId:"max_uploads_at_a_time",loggingTitle:nm.maxUploadsAtATime.defaultMessage,loggingDescription:"Max uploads at a time"});else if(!u&&m.some(y=>y.tempId===t))K.logEvent("Uploaded Duplicate File Error"),o.danger(s.formatMessage(nm.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"…":n.name}),{...mS,toastId:"duplicate_file_attached",loggingTitle:nm.duplicateFileAttached.defaultMessage,loggingDescription:"Duplicate file attached"});else{(v!==Hn.Retrieval?!0:d?u:!0)&&e.setState(({files:S})=>({files:[...S,_]}));let b;const C={isUnauthenticated:h};if(i.includes(n.type)){if(b={kind:Ln.Multimodal},!c){const S=await rM(n);n=S.file,C.imageDimensions={width:S.width,height:S.height}}}else if(["video/mp4","video/quicktime"].includes(n.type)&&i.includes("image/png")&&Qe(Lt(),"3681682292"))b={kind:"multimodal_video"};else if(v===Hn.Codex){b={kind:Ln.Codex};const S=await rM(n);n=S.file,C.imageDimensions={width:S.width,height:S.height}}else switch(v){case Hn.Multimodal:throw new Error(`Multimodal file upload not supported mime type, ${n.type}
Supported mime types: `+i.join(", "));case Hn.Interpreter:b={kind:Ln.AceUpload};break;case Hn.Retrieval:b={kind:u?Ln.LibraryFiles:Ln.MyFiles},C.usesRetrievalIndex=!0;break;case Hn.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case Hn.ContextConnector:case Hn.None:return}f!=null&&(b={kind:Ln.Gizmo,gizmoId:f}),a.skipUpload||(c?await s5e(e,t,n,b,i,c,a.gizmoId,s,o):await rV(t,n,s,o,b,cV(e),C))}},createFileCompleted:(e,t,n,r,i)=>{const s=e.getState().files,o=s.findIndex(l=>l.tempId===t),a=s[o];if(o>=0&&a.status===go.Uploading){const l=[...s];l.splice(o,1,{...a,progress:10,fileId:n,cdnUrl:r,contextConnector:i}),e.setState({files:l})}},updateProgress:(e,t,n)=>{const r=e.getState().files,i=r.findIndex(o=>o.tempId===t),s=r[i];if(i>=0&&s.status===go.Uploading){const o=[...r];o.splice(i,1,{...s,progress:n}),e.setState({files:o})}},uploadCompleted:(e,t,n,r,i,s)=>{const o=e.getState().files,a=o.findIndex(l=>l.tempId===t);if(a>=0&&o[a].status===go.Uploading&&o[a].fileId!=null){const l=o[a],c=[...o],u={...l,tempId:t,status:go.Ready,progress:100,fileSpec:{name:l.file.name,id:l.fileId,size:l.file.size,contextConnectorInfo:l.contextConnectorInfo,mimeType:i?.mimeType??lV(l.file),...r||{},...i||{}},libraryFileId:i?.libraryFileId??l.libraryFileId};c.splice(a,1,u);const d={...e.getState().connectorFileData};s&&(d[s?.file_id]=s),e.setState({files:c,connectorFileData:d}),K.logEvent("Upload File Completed",{status:l.status,fileId:l.fileId,contextConnector:l.contextConnector??"local"}),vt.logEvent("chatgpt_file_upload_completed",null,{status:l.status,contextConnector:l.contextConnector??"local"})}},remove:(e,t,n,r,i,s)=>{const o=e.getState().files,a=o.findIndex(l=>l.tempId===t);if(a>=0){const l=o[a];n==="error"?(K.logEvent("Upload File Error",{status:l.status,fileId:l.fileId,client:"web",errorClassName:r??"undefined",useCaseType:i,uploadStatus:s??"undefined",contextConnector:l.contextConnector}),vt.logEvent("chatgpt_file_upload_error",null,{client:"web",errorClassName:r??"undefined",useCaseType:i?.kind??"undefined",uploadStatus:s??"undefined",contextConnector:l.contextConnector??"undefined"})):K.logEvent("Remove File",{status:l.status,fileId:l.fileId});const c=[...o];c.splice(a,1),e.setState({files:c})}},attachLibraryFile:(e,t)=>{const n=new File([],t.name,{type:t.mimeType}),r=W3e(n),i=e.getState().files;if(i.some(a=>a.fileId===t.id))return;const s=t.mimeType?.startsWith("image/")===!0,o={tempId:r,status:go.Ready,file:n,fileId:t.id,cdnUrl:null,progress:100,source:"library",libraryFileId:t.libraryFileId,fileSpec:{id:t.id,name:t.name,size:t.size??0,mimeType:t.mimeType,...s?{width:512,height:512}:{}}};e.setState({files:[...i,o]})}},cV=e=>({onFileCreated:xa.createFileCompleted.bind(null,e),onFileUploadProgress:xa.updateProgress.bind(null,e),onFileUploaded:xa.uploadCompleted.bind(null,e),onError:xa.remove.bind(null,e)}),nm=It({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}}),a5e=Le.createContext({mode:void 0,getGizmoId:void 0}),l5e=()=>p.useContext(a5e),Hb={filePickerStarted:e=>{K.logEvent("Context Connectors: Picker Started",{contextConnector:e})},filePickerLoaded:e=>{K.logEvent("Context Connectors: Picker Loaded",{contextConnector:e})},filePickerPicked:(e,t)=>{K.logEvent("Context Connectors: Picker Picked",{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{K.logEvent("Context Connectors: Picker Cancelled",{contextConnector:e})},linkPasted:e=>{K.logEvent("Context Connectors: Link Pasted",{...e})},linkMetadataFetchStarted:e=>{K.logEvent("Context Connectors: Link Metadata Fetch Started",{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{K.logEvent("Context Connectors: Link Metadata Fetch Succeeded",{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{K.logEvent("Context Connectors: Link Metadata Fetch Failed",{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{K.logEvent("Context Connectors: OAuth Upsell Button Click",{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{K.logEvent("Context Connectors: Expired Access Token Used",{contextConnector:e,useCase:t})}};function Hje(e,t,n,r){const i=In(),s=yt(),{getGizmoId:o}=l5e(),[a,l]=p.useState();p.useEffect(()=>{o?o().then(f=>l(f)):l(void 0)},[o]);const c=dd(t),u=aV();return p.useCallback(f=>{const{docsReferencedByURL:h}=ln(e)??{};if(h!=null)for(const m of f){const{id:v,type:_,handler:y}=m,b=`${_}:${v}`,C=h[b],x=u.getState().files.find(w=>w.tempId===v);if(C!=null&&C!=="failed"&&x){i.success(s.formatMessage(rm.fileAlreadyAttached),{hasCloseButton:!0});continue}switch(y.type){case"fetch":{Mt(e,w=>{w.docsReferencedByURL[b]="pending"}),xa.uploadFile(u,v,new File([],s.formatMessage(rm.fileLoading)),Hn.None,n,s,i,{skipUpload:!0,gizmoId:a},r,{contextConnector:_,sourceUrl:m.url,syntheticExtension:null,type:Uf.Link}),Hb.linkMetadataFetchStarted(_),y.tryFetch().then(w=>{if(xa.remove(u,v,"none"),w==null)return null;const{id:E,title:T,connector:O,mimeType:k,url:A,syntheticExtension:I,o365DriveId:D,manifest:N}=w;Hb.linkMetadataFetchSucceeded(_,k),Mt(e,F=>{F.docsReferencedByURL[b]="fetched"});let R=T;O===Ne.GDRIVE&&(R=I?`${T}.${I}`:T),xa.uploadFile(u,E,new File([],R,{type:k.split(";")[0]}),Hn.Retrieval,n,s,i,{gizmoId:a},r,{contextConnector:O,sourceUrl:A,syntheticExtension:I,type:Uf.Link,o365DriveId:D,manifest:N})}).catch(w=>{Hb.linkMetadataFetchFailed(_,w),w instanceof mt&&w.status===404&&_===Ne.NOTION_OPEN_CONNECTOR?(i.danger(rm.fileNotAccessible,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),c.appendMessageIfNotDismissed({connector:_,type:"not-connected"})):i.danger(rm.fileFetchFailed,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),Mt(e,E=>{E.docsReferencedByURL[b]="failed"}),xa.remove(u,v,"none")});break}case"prompt":{c.appendMessageIfNotDismissed({connector:_,type:y.message}),Mt(e,w=>{w.docsReferencedByURL[b]="prompted"});break}}}},[e,u,i,s,n,a,r,c])}const rm=It({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loading…"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}}),uV=()=>{const e=H9(),{connectorConfig:t,isLoading:n,error:r,refetch:i}=d3e(),s=t.has(Ne.CONFLUENCE)&&!e,o=t.has(Ne.GDRIVE)&&!e,a=t.has(Ne.JIRA)&&!e,l=t.has(Ne.NOTION_OPEN_CONNECTOR)&&!e,c=(t.has(Ne.O365_PERSONAL)||t.has(Ne.O365_BUSINESS))&&!e,u=t.has(Ne.SLACK_OPEN_CONNECTOR)&&!e;return{isConfluenceEnabled:s,isGdriveEnabled:o,isJiraEnabled:a,isNotionOpenConnectorEnabled:l,isO365Enabled:c,isSlackOpenConnectorEnabled:u,connectorConfig:t,isLoading:n,hasContextConnectorEnabled:s||o||a||l||c||u,error:r,refetch:i}},Vje=ar[q.GDRIVE_ACTION_CONNECTOR],$je=ar[q.GITHUB_CONNECTOR],Wje=ar[q.LINEAR_CONNECTOR],Kje=ar[q.SHAREPOINT_CONNECTOR],yS=`#settings/${Fh.Connectors}`,Yje=[q.GDRIVE_ACTION_CONNECTOR,q.GCAL_CONNECTOR,q.GMAIL_CONNECTOR].map(e=>ar[e]),dV="connector",eE="add-connector-link",c5e="connector-toggle",u5e="create-connector",tE="product-sku",fV="redirectAfter",d5e="system-hint-type",hV="referrer",Zje="toggle-all";var pV=(e=>(e.ConversationFollowup="conversation_followup",e.UpgradeAccountOnboarding="upgrade_account_onboarding",e.JitPluginMessage="jit_plugin_message",e.ConnectorNuxModal="connector_nux_modal",e.SourcesDropdown="sources_dropdown",e.SuggestedPrompts="suggested_prompts",e.SettingsConnectorsTab="settings_connectors_tab",e.ConnectorToggle="connector_toggle",e.Codex="codex",e))(pV||{});const Jje=()=>{const e=ms();return({connectorId:t,redirectAfter:n,systemHintType:r,referrer:i})=>e(mV(s=>{s.set(eE,"true"),s.set(tE,cr.CONNECTOR_SETTING),t&&s.set(dV,t),n&&s.set(fV,n),r&&s.set(d5e,r),i&&s.set(hV,i)}),{replace:!0})},Qje=()=>{const e=ms();return()=>e(mV(t=>{t.delete(eE),t.delete(tE),t.delete(hV)}),{replace:!0})};function mV(e){const t=window.location.hash,[n,r]=t.split("?"),i=new URLSearchParams(r);e(i);const s=i.toString();return yS+(s?`?${s}`:"")}const Xje=()=>{const{hash:e}=Hr(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(eE)==="true"},eBe=()=>{const{hash:e}=Hr(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(c5e)==="true"},tBe=()=>{const{hash:e}=Hr(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(u5e)==="true"},nBe=()=>{const e=ms();return t=>{const n=window.location.hash,[r,i]=n.split("?"),s=new URLSearchParams(i);t?s.set("connector",t):s.delete("connector");const o=s.toString()?`${r}?${s.toString()}`:r;e(o,{replace:!0})}},nE=e=>{const{hash:t}=Hr();return p.useMemo(()=>{const n=t.indexOf("?");return n===-1?void 0:new URLSearchParams(t.slice(n+1)).get(e)??void 0},[t,e])},rBe=()=>nE(fV),iBe=()=>nE(tE),sBe=()=>nE(dV),f5e=e=>e.supported_auth.some(t=>t.type==="OAUTH")?"OAUTH":"NONE",h5e=e=>he.safePost("/aip/connectors/links/noauth",{requestBody:{connector_id:e.id,name:e.name,action_names:e.actions.map(t=>t.name)},additionalHeaders:{[_r]:cr.CONNECTOR_SETTING}}),p5e=async({connector:e,redirectAfter:t,shouldRedirectToConnectorDetails:n=!1,onError:r,openPopup:i,toaster:s,intl:o,productSku:a})=>{const l={connectorId:e.id,name:e.name,actionNames:e.connector_type==="MCP"||e.connector_type==="OPEN_API"?e.actions.map(c=>c.name):null,oauthClientId:null,oauthClientScopes:null};return UU({redirectUri:BU(e.id),connectorPlatformParams:l,redirectTo:t||(n?`${yS}?connector=${e.id}`:yS),onError:r,openPopup:i,toaster:s,intl:o,productSku:a})},m5e=async({connector:e,shouldRedirectToConnectorDetails:t=!1,openPopup:n,toaster:r,intl:i})=>{switch(f5e(e)){case"OAUTH":return await p5e({connector:e,redirectAfter:void 0,shouldRedirectToConnectorDetails:t,openPopup:n,toaster:r,intl:i,productSku:cr.CONNECTOR_SETTING}),null;case"NONE":return await h5e(e)}},oBe=(e,t)=>he.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:t,connector_id:e}}}),g5e=()=>{const e=Cc(),t=Zh(),n=p.useMemo(()=>t.data?.connection_statuses.filter(o=>["google_drive_oauth","google_drive_dwd"].includes(o.user_connection_details.knowledge_connector_type)),[t.data]),r=uV(),i=r.connectorConfig.get(Ne.GDRIVE),s=r.isGdriveEnabled&&!!i;return{isLoading:t.isLoading||r.isLoading,fileUploadConfig:s?i:null,internalKnowledgeEnabled:e,internalKnowledgeConfigs:e&&n?.length?n:null}},aBe=()=>{const e=Cc(),t=Zh(),n=t.data?.connection_statuses.some(r=>r.user_connection_details.connection_type==="github_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},lBe=()=>{const e=Cc(),t=Zh(),n=t.data?.connection_statuses.some(r=>r.user_connection_details.connection_type==="sharepoint_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},v5e=()=>{const e=uV(),t=e.connectorConfig.get(Ne.O365_PERSONAL),n=e.connectorConfig.get(Ne.O365_BUSINESS);return{isLoading:e.isLoading,personalConfig:e.isO365Enabled&&t?.access_token?t:null,businessConfig:e.isO365Enabled&&n?.access_token?n:null}},cBe=()=>{const e=Cc(),t=Vh(e,cr.CONNECTOR_SETTING),n=od({fetchValidLinksOnly:!0,productSku:cr.CONNECTOR_SETTING}),{fileUploadConfig:r,internalKnowledgeConfigs:i}=g5e(),s=v5e(),{availableConnectors:o}=w9(),a=(n.connectorLinks.get(ar[q.GDRIVE_ACTION_CONNECTOR])?.length??0)>0||(i?.filter(_=>_.user_connection_details.auth_status!=="not_connected").length??0)>0,l=(n.connectorLinks.get(ar[q.SHAREPOINT_CONNECTOR])?.length??0)>0,c=!!r?.access_token,u=!!s.businessConfig?.access_token,d=t.platformConnectors.get(ar[q.GDRIVE_ACTION_CONNECTOR]),f=d&&d.status!=="DISABLED_BY_ADMIN"||(i?.filter(_=>_.user_connection_details.auth_status==="not_connected").length??0)>0,h=o.some(_=>_.type===q.SHAREPOINT_CONNECTOR&&_.status!=="DISABLED_BY_ADMIN");return{canUpgradeGDrive:c&&!a&&f,canUpgradeSharepoint:u&&!l&&h,isLoading:t.isLoading||n.isLoading}};async function uBe(e){return(await he.safeGet("/aip/connectors/mcp/oauth_config",{parameters:{query:{mcp_url:e}},additionalHeaders:{[_r]:cr.CONNECTOR_SETTING}})).oauth_config}function dBe(e){return he.safePost("/aip/connectors/mcp/refresh_actions",{requestBody:{link_id:e},additionalHeaders:{[_r]:cr.CONNECTOR_SETTING}})}function fBe(e,t){return he.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{actions:t},additionalHeaders:{[_r]:cr.CONNECTOR_SETTING}})}function _5e(e){return he.safeGet("/aip/connectors/{connector_id}/conformance",{parameters:{path:{connector_id:e}},additionalHeaders:{[_r]:cr.CONNECTOR_SETTING}})}function y5e(e){return he.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}},additionalHeaders:{[_r]:cr.CONNECTOR_SETTING}})}const b5e=It({gdriveBrandName:{id:"81dp6y",defaultMessage:"Google Drive"}}),hBe=(e,t)=>e==="gdrive_action_connector"?t.formatMessage(b5e.gdriveBrandName):e;async function pBe(e,t,n){const r=`https://chat.openai.com/aip/${e.id}/oauth/callback`,i=t,s=await he.safeGet("/aip/p/{id}/user-settings/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:r,redirect_to:i}}});window.location.href=s.redirect_uri}async function mBe(e,t,n,r){const i=await he.safeGet("/connectors/{id}/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:n,entry_point:t,redirect_to:r}}});window.location.href=i.redirect_uri}async function C5e(e,t){e&&await he.safeDelete("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},additionalHeaders:t?{[_r]:t}:void 0})}async function S5e(e,t){await he.safeDelete("/aip/connectors/links",{requestBody:{connector_id:e},additionalHeaders:t?{[_r]:t}:void 0})}function gBe(e){switch(e){case Uf.Link:return"link_paste_popover";case Uf.Picker:return"file_upload_menu"}}async function vBe(e){await he.safeDelete("/connectors/user_setting/{connector_name}",{parameters:{path:{connector_name:e}}}),window.location.reload()}function w5e(e,t,n){const{isLoading:r,error:i,refetch:s,platformConnectors:o}=Vh(!0,t,n),a=o.get(e);return{enabled:!!a&&a.status!=="DISABLED_BY_ADMIN",isLoading:r,error:i,refetch:s}}function _Be(e){return w5e(ar[q.GITHUB_CONNECTOR],e)}function E5e(e,t,n){const r=Hh(),i=yt(),s=In(),{data:o,isLoading:a,error:l,refetch:c}=Rt({queryKey:["connector-client-data",e],queryFn:async()=>{const u=await he.safeGet("/aip/connectors/oauth_clients",{parameters:{query:{service:t}},additionalHeaders:n?{[_r]:n}:void 0});return u.oauth_clients?u.oauth_clients:(s.danger(i.formatMessage({id:"OfpT7B",defaultMessage:"Request error fetching oauth clients"}),{id:"fetch-oauth-clients-error",duration:3,hasCloseButton:!0}),[])},enabled:r});return{oAuthClients:o,isLoading:a,error:l,refetch:c}}function yBe(e,t,n="/",r,i,s){const{platformConnectors:o,isLoading:a,error:l,refetch:c}=Vh(!0,r),{connectorLinks:u,isLoading:d,error:f,refetch:h}=od({productSku:r}),{oAuthClients:m,isLoading:v,error:_,refetch:y}=E5e(e,t,r),b=x5e(),C=p.useCallback(()=>{c(),h(),y()},[c,h,y]),S=ar[e],x=o.get(S),w=u.has(S),E=u.get(S)?.[0]?.id,T=p.useCallback(()=>{E&&b(E,()=>{C()},r)},[b,C,E,r]),O=l??f??_,k=a||d||v,A=p.useCallback(()=>{if(!k){if(!x){i?.();return}if(!m?.length){s?.();return}window.location.hash=`#settings/${Fh.Connectors}?connector=${S}&add-connector-link=true&redirectAfter=${n}&product-sku=${r}&referrer=${pV.Codex}`}},[k,x,m,S,i,s,n,r]);return p.useMemo(()=>({isLoading:k,isConnected:w,openGithubModal:A,error:O,refetch:C,handleDisconnect:T}),[k,w,A,O,C,T])}function bBe(e){"use forget";const t=Re.c(16),n=yt(),r=In(),i=X1e(),{refetch:s}=Vh(!0,e);let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={fetchValidLinksOnly:!0},t[0]=o):o=t[0];const{refetch:a}=od(o);let l;t[1]!==e?(l={fetchValidLinksOnly:!1,productSku:e},t[1]=e,t[2]=l):l=t[2];const{refetch:c}=od(l),u=vre(mc.DeveloperMode);let d;t[3]!==n||t[4]!==u||t[5]!==i||t[6]!==e||t[7]!==r?(d=async m=>{const{supported_auth:v,..._}=m,{connector:y}=await he.safePost("/aip/connectors/mcp",{requestBody:{..._,auth_request:{supported_auth:v,oauth_client_params:null}},additionalHeaders:e?{[_r]:e}:void 0});if(y.supported_auth.length===0){const C=await _5e(y.id);if(!u.data&&!C.implements_retrievable)return await y5e(y.id),{connector:null,link:null,implementsRetrievable:!1}}const b=await m5e({connector:y,shouldRedirectToConnectorDetails:!0,openPopup:i,toaster:r,intl:n});return{connector:y,link:b,implementsRetrievable:!0}},t[3]=n,t[4]=u,t[5]=i,t[6]=e,t[7]=r,t[8]=d):d=t[8];let f;t[9]!==s||t[10]!==c||t[11]!==a?(f=()=>{s(),a(),c()},t[9]=s,t[10]=c,t[11]=a,t[12]=f):f=t[12];let h;return t[13]!==d||t[14]!==f?(h={mutationFn:d,onSettled:f},t[13]=d,t[14]=f,t[15]=h):h=t[15],Kn(h)}function CBe(){const e=yt(),t=In(),n=yr();return async(i,s,o)=>{try{await S5e(i,o),await n.invalidateQueries(),s?.()}catch{t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function x5e(){const e=yt(),t=In(),n=br(),r=od(),i=yr();return async(o,a,l)=>{try{await C5e(o,l),i.invalidateQueries({queryKey:["fetchConnectorLinkData",n?.normalizedAccountUserId]}),await r.refetch(),a?.()}catch{t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function SBe(){const e=br(),t=yt(),n=In(),{refetch:r}=Gh({skip:!0});return Kn({mutationKey:["upgradeConnectorToSync"],mutationFn:({link:i,user_extension:s})=>e?.isPersonalAccount()?za.user_request_connect_upgrade_to_sync({link_id:i.id,user_extension:s}):za.user_activate_workspace_connection_and_user({link_id:i.id,user_extension:s}),onMutate:({link:i,isConnectingAndUpgrading:s=!1})=>{K.logEventWithStatsig("Connectors - Upgrade To Sync Initiated","chatgpt_connectors_upgrade_to_sync_initiated",{connector_id:i.connector_id,isConnectingAndUpgrading:s?"true":"false"})},onSuccess:(i,{link:s,isConnectingAndUpgrading:o=!1})=>{r(),n.success(o?t.formatMessage({id:"rfbIpd",defaultMessage:"{connector} is now connected and syncing."},{connector:s.name}):t.formatMessage({id:"yhtO5d",defaultMessage:"{connector} is now syncing."},{connector:s.name})),K.logEventWithStatsig("Connectors - Upgrade To Sync Success","chatgpt_connectors_upgrade_to_sync_success",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})},onError:(i,{link:s,isConnectingAndUpgrading:o=!1})=>{if(o)n.warning(t.formatMessage({id:"wag12O",defaultMessage:"{connector} is now connected, but not syncing. Try enabling sync again."},{connector:s.name}));else{const a=i instanceof mt&&i.status===409?t.formatMessage({id:"Tedt6I",defaultMessage:"Connector name already exists"}):t.formatMessage({id:"tumE6A",defaultMessage:"There was a problem syncing {connector}. Try again later."},{connector:s.name});n.danger(a,{toastId:"upgrade_connector_to_sync",loggingTitle:i instanceof mt&&i.status===409?"Connector name already exists":"There was a problem syncing {connector}. Try again later."})}K.logEventWithStatsig("Connectors - Upgrade To Sync Error","chatgpt_connectors_upgrade_to_sync_error",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})}})}function wBe(){const e=yt(),t=In(),{refetch:n}=Zh(),{refetch:r}=Gh({skip:!0});return async s=>{try{await za.user_delete_sync(s),n(),r(),t.success(e.formatMessage({id:"Nktfkq",defaultMessage:"Successfully disabled sync."}))}catch{t.danger({defaultMessage:"Error disabling sync for your connector.",description:"Error message when disabling sync for a connector fails"},{toastId:"disable_sync_on_connector"})}}}function k5e(){const t=br()?.isEnterprisey(),{availableConnectors:n}=w9(),{hasConnections:r,isLoading:i}=Pz();return t?n.length>0||r&&!i:!0}function EBe({platformConnectors:e,enabled:t}){const{isLoading:n,data:r}=jz(t),{disabledTools:i=[],...s}=r??{},o=yr(),{isPending:a,mutate:l}=Kn({mutationFn:async({data:y})=>await M1e(y),onSettled:(y,b)=>{const C=["userContext"];y!=null&&!b?o.setQueryData(C,y):o.invalidateQueries({queryKey:C})},onError:y=>(K.logEventWithStatsig("chatgpt_web_disable_auto_connectors_for_teams_error","chatgpt_web_disable_auto_connectors_for_teams_error",{errorMessage:y.message}),y)}),{allAutoConnectors:c,enabledAutoConnectors:u,isLoading:d}=qz({getDisabledAutoConnectors:t}),[f,h]=p.useState(!1),m=p.useMemo(()=>c.filter(y=>e.has(ar[y])&&e.get(ar[y])?.status==="DISABLED_BY_ADMIN"),[c,e]),{newDisabledTools:v,maybeNewEnabledTools:_}=p.useMemo(()=>{if(!t)return{newDisabledTools:[],maybeNewEnabledTools:[]};const y=[],b=[];return u.length>0&&u.forEach(C=>{m.includes(C)&&!i.includes(zp(C)??"")&&y.push(C)}),m.length<c.length&&m.length<c.length&&c.forEach(C=>{!m.includes(C)&&i.includes((zp(C)??"").concat("_admin_disabled"))&&b.push(C)}),{newDisabledTools:y,maybeNewEnabledTools:b}},[t,u,i,c,m]);p.useEffect(()=>{if(!t||n||a||f||d||v.length===0&&_.length===0)return;const y=new Set(i);_.forEach(b=>{const C=zp(b);C&&(y.delete(C),y.delete(`${C}_admin_disabled`))}),v.forEach(b=>{const C=zp(b);C&&(y.add(C),y.add(`${C}_admin_disabled`))}),l({data:{disabledTools:Array.from(y),...s}}),h(!0)},[n,a,l,v,_,s,f,i,d,t])}function T5e(){"use forget";const e=Re.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["userIsInSearchHoldoutWithWebDisabled"],queryFn:A5e,select:O5e},e[0]=t):t=e[0],Rt(t)}function O5e(e){return{userIsInSearchHoldoutWithWebDisabled:e.user_is_in_search_holdout_with_web_disabled??!1}}function A5e(){return he.safeGet("/user_is_in_search_holdout_with_web_disabled",{authOption:tn.SendIfAvailable})}function I5e(){"use forget";const e=Re.c(3),t=pe(),n=pn(t),r=!_n(t),i=T5e();if(r||n&&!n.isFree()){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a={userIsInSearchHoldoutWithWebDisabled:!1},e[0]=a):a=e[0],a}const s=i.isLoading?!1:i.data?.userIsInSearchHoldoutWithWebDisabled;let o;return e[1]!==s?(o={userIsInSearchHoldoutWithWebDisabled:s},e[1]=s,e[2]=o):o=e[2],o}const M5e=Lo(()=>({}));function R5e(){"use forget";const e=Re.c(53),t=pe(),n=rF(jo),r=dd(M5e);if(!_n(t)){let C,S,x,w;if(e[0]!==t||e[1]!==n){const O=$t(t,"2526598250");S=n?!0:O.get("single-line",!1),x=O.get("plus-button-label",!1),w=O.get("logged-out-voice-label",!0),C=O.get("font-size","base"),e[0]=t,e[1]=n,e[2]=C,e[3]=S,e[4]=x,e[5]=w}else C=e[2],S=e[3],x=e[4],w=e[5];const E=C;let T;return e[6]!==S||e[7]!==x||e[8]!==w||e[9]!==E?(T={isSingleLine:S,plusButtonLabel:x,loggedOutVoiceLabel:w,fontSize:E,attachfileRateLimitMessageVariant:"title_and_description",attachfileRateLimitMessageShowIcon:!0,fullyCollapsedToolMenu:!1,showSlashHint:!1,showModelsInPlusMenu:!1,showSelectedModelInComposer:!1,showModelSlashCommands:!1,showThinkingEffortPicker:!1,hasLegacyEffortDefault:!1},e[6]=S,e[7]=x,e[8]=w,e[9]=E,e[10]=T):T=e[10],T}let i,s,o,a,l,c,u,d,f,h,m,v,_;if(e[11]!==t||e[12]!==n||e[13]!==r.attachfileRateLimitMessageShowIcon||e[14]!==r.attachfileRateLimitMessageVariant||e[15]!==r.fontSize||e[16]!==r.fullyCollapsedToolMenu||e[17]!==r.hasLegacyEffortDefault||e[18]!==r.isSingleLine||e[19]!==r.loggedOutVoiceLabel||e[20]!==r.plusButtonLabel||e[21]!==r.showModelSlashCommands||e[22]!==r.showModelsInPlusMenu||e[23]!==r.showSelectedModelInComposer||e[24]!==r.showSlashHint||e[25]!==r.showThinkingEffortPicker){const C=$t(t,"790459319");l=r.isSingleLine??(n?!0:C.get("single-line",!1)),o=r.fontSize??C.get("font-size","base"),s=r.attachfileRateLimitMessageVariant??C.get("attachfile-rate-limit-message-variant","title_and_description"),i=r.attachfileRateLimitMessageShowIcon??C.get("attachfile-rate-limit-message-show-icon",!0),a=r.fullyCollapsedToolMenu??C.get("fully-collapsed-tool-menu",!1),m=r.showSlashHint??C.get("show-slash-hint",!1),u=r.plusButtonLabel??C.get("plus-button-label",!1),c=r.loggedOutVoiceLabel??C.get("logged-out-voice-label",!0),f=r.showModelsInPlusMenu??C.get("models-in-plus-menu",!1),h=r.showSelectedModelInComposer??C.get("show-selected-model-in-composer",!1),d=r.showModelSlashCommands??C.get("model-slash-commands",!1),v=r.showThinkingEffortPicker??C.get("show-juice-control",!1),_=r.hasLegacyEffortDefault??C.get("legacy-juice-default",!1),e[11]=t,e[12]=n,e[13]=r.attachfileRateLimitMessageShowIcon,e[14]=r.attachfileRateLimitMessageVariant,e[15]=r.fontSize,e[16]=r.fullyCollapsedToolMenu,e[17]=r.hasLegacyEffortDefault,e[18]=r.isSingleLine,e[19]=r.loggedOutVoiceLabel,e[20]=r.plusButtonLabel,e[21]=r.showModelSlashCommands,e[22]=r.showModelsInPlusMenu,e[23]=r.showSelectedModelInComposer,e[24]=r.showSlashHint,e[25]=r.showThinkingEffortPicker,e[26]=i,e[27]=s,e[28]=o,e[29]=a,e[30]=l,e[31]=c,e[32]=u,e[33]=d,e[34]=f,e[35]=h,e[36]=m,e[37]=v,e[38]=_}else i=e[26],s=e[27],o=e[28],a=e[29],l=e[30],c=e[31],u=e[32],d=e[33],f=e[34],h=e[35],m=e[36],v=e[37],_=e[38];const y=_;let b;return e[39]!==i||e[40]!==s||e[41]!==o||e[42]!==a||e[43]!==y||e[44]!==l||e[45]!==c||e[46]!==u||e[47]!==d||e[48]!==f||e[49]!==h||e[50]!==m||e[51]!==v?(b={isSingleLine:l,fontSize:o,attachfileRateLimitMessageVariant:s,attachfileRateLimitMessageShowIcon:i,fullyCollapsedToolMenu:a,showSlashHint:m,plusButtonLabel:u,loggedOutVoiceLabel:c,showModelsInPlusMenu:f,showSelectedModelInComposer:h,showModelSlashCommands:d,showThinkingEffortPicker:v,hasLegacyEffortDefault:y},e[39]=i,e[40]=s,e[41]=o,e[42]=a,e[43]=y,e[44]=l,e[45]=c,e[46]=u,e[47]=d,e[48]=f,e[49]=h,e[50]=m,e[51]=v,e[52]=b):b=e[52],b}const P5e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M14.0857 8.74999C14.0857 5.80355 11.6972 3.41503 8.75073 3.41503C5.80429 3.41503 3.41577 5.80355 3.41577 8.74999C3.41577 11.6964 5.80429 14.085 8.75073 14.085C11.6972 14.085 14.0857 11.6964 14.0857 8.74999ZM15.4158 8.74999C15.4158 10.3539 14.848 11.8245 13.9041 12.9746L13.9705 13.0303L16.9705 16.0303L17.0564 16.1338C17.2269 16.3919 17.1977 16.7434 16.9705 16.9707C16.7432 17.1975 16.3925 17.226 16.1345 17.0557L16.03 16.9707L13.03 13.9707L12.9753 13.9033C11.8253 14.8472 10.3547 15.415 8.75073 15.415C5.06975 15.415 2.08569 12.431 2.08569 8.74999C2.08569 5.06901 5.06975 2.08495 8.75073 2.08495C12.4317 2.08495 15.4158 5.06901 15.4158 8.74999Z"}));function gV({className:e,inputClassName:t,value:n,onChange:r,onKeyDown:i,onFocus:s,onBlur:o,placeholder:a,id:l,autoFocus:c}){return g.jsxs("div",{className:ke("relative",e),children:[g.jsx(P5e,{className:"icon-sm text-token-text-tertiary absolute start-2 top-1/2 -translate-y-1/2 transform"}),g.jsx("input",{id:l,type:"text",value:n,onKeyDown:i,onChange:r,onFocus:s,onBlur:o,placeholder:a,autoFocus:c,className:ke("rounded-lg border border-gray-200 ps-8 placeholder:text-gray-500 dark:border-gray-600 dark:bg-gray-700",t),autoComplete:"off"})]})}const N5e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M7.33325 1.8217C7.74579 1.58352 8.25405 1.58352 8.66659 1.8217L13.0175 4.33342C13.43 4.5716 13.6842 5.01203 13.6842 5.48836V10.5118C13.6842 10.9882 13.43 11.4286 13.0175 11.6668L8.66659 14.1785C8.25405 14.4166 7.74579 14.4166 7.33325 14.1785L2.98234 11.6668C2.56983 11.4286 2.31567 10.9882 2.31567 10.5118V5.48836C2.31567 5.01203 2.56983 4.5716 2.98234 4.33342L7.33325 1.8217Z",stroke:"currentColor",strokeWidth:1.2}),p.createElement("path",{d:"M8.41547 5.37106C8.39153 5.15986 8.21293 5.00022 8.0004 5C7.78787 4.99979 7.609 5.15906 7.5846 5.37021C7.4326 6.68853 6.68853 7.4326 5.37021 7.5846C5.15906 7.609 4.99979 7.78787 5 8.0004C5.00022 8.21293 5.15986 8.39153 5.37106 8.41547C6.67067 8.56267 7.46633 9.29953 7.58353 10.6189C7.60267 10.8348 7.78367 11.0002 8.00047 11C8.2172 10.9997 8.39787 10.8339 8.41653 10.6179C8.52913 9.31727 9.31727 8.52913 10.6179 8.41653C10.8339 8.39787 10.9997 8.2172 11 8.00047C11.0002 7.78367 10.8348 7.60267 10.6189 7.58353C9.29953 7.46633 8.56267 6.67067 8.41547 5.37106Z",fill:"currentColor"})),D5e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.50052 9.00046C9.71306 9.00069 9.89164 9.16037 9.91556 9.37156C10.0629 10.6708 10.7997 11.4662 12.1187 11.5835C12.3346 11.6026 12.5008 11.7837 12.5005 12.0005C12.5003 12.2172 12.3337 12.3978 12.1177 12.4165C10.8173 12.5292 10.0292 13.3173 9.91654 14.6177C9.89785 14.8336 9.71729 15.0002 9.50052 15.0005C9.28377 15.0007 9.10271 14.8345 9.08353 14.6186C8.96627 13.2996 8.17085 12.5628 6.87162 12.4155C6.66043 12.3916 6.50075 12.213 6.50052 12.0005C6.50031 11.7879 6.65949 11.6088 6.87064 11.5844C8.18858 11.4323 8.93237 10.6885 9.08451 9.37058C9.10886 9.15943 9.28798 9.00025 9.50052 9.00046Z",fill:"currentColor"}),p.createElement("path",{d:"M9.52591 2.56101C10.8927 1.19443 13.1083 1.19443 14.4751 2.56101L21.44 9.52585C22.8061 10.8927 22.8064 13.1084 21.44 14.4751L14.4751 21.4399C13.1085 22.8063 10.8927 22.806 9.52591 21.4399L2.56107 14.4751C1.19449 13.1083 1.19449 10.8926 2.56107 9.52585L9.52591 2.56101ZM13.0611 3.97507C12.4753 3.38954 11.5257 3.38954 10.94 3.97507L3.97513 10.9399C3.3896 11.5257 3.3896 12.4753 3.97513 13.061L10.94 20.0259C11.5258 20.6109 12.4755 20.6112 13.0611 20.0259L20.0259 13.061C20.6113 12.4754 20.611 11.5257 20.0259 10.9399L13.0611 3.97507Z",fill:"currentColor"})),iM=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M8 7.33301C8.36819 7.33301 8.66699 7.63181 8.66699 8V10.667C8.66682 11.035 8.36808 11.333 8 11.333C7.63192 11.333 7.33318 11.035 7.33301 10.667V8C7.33301 7.63181 7.63181 7.33301 8 7.33301Z"}),p.createElement("path",{d:"M8 4.66699C8.42342 4.66699 8.7666 5.01018 8.7666 5.43359C8.76646 5.85689 8.42333 6.2002 8 6.2002C7.57667 6.20019 7.23354 5.85689 7.2334 5.43359C7.2334 5.01018 7.57658 4.66699 8 4.66699Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.33301C11.6819 1.33301 14.667 4.3181 14.667 8C14.667 11.6819 11.6819 14.667 8 14.667C4.3181 14.667 1.33301 11.6819 1.33301 8C1.33301 4.3181 4.3181 1.33301 8 1.33301ZM8 2.66699C5.05448 2.66699 2.66699 5.05448 2.66699 8C2.66699 10.9455 5.05448 13.333 8 13.333C10.9455 13.333 13.333 10.9455 13.333 8C13.333 5.05448 10.9455 2.66699 8 2.66699Z"})),sM=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M15.11 14.285a.41.41 0 0 1 .78 0c.51 2.865.96 3.315 3.825 3.826.38.12.38.658 0 .778-2.865.511-3.315.961-3.826 3.826a.408.408 0 0 1-.778 0c-.511-2.865-.961-3.315-3.826-3.826a.408.408 0 0 1 0-.778c2.865-.511 3.315-.961 3.826-3.826Zm2.457-12.968a.454.454 0 0 1 .866 0C19 4.5 19.5 5 22.683 5.567a.454.454 0 0 1 0 .866C19.5 7 19 7.5 18.433 10.683a.454.454 0 0 1-.866 0C17 7.5 16.5 7 13.317 6.433a.454.454 0 0 1 0-.866C16.5 5 17 4.5 17.567 1.317Z",fill:"currentColor"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.001 4a1 1 0 0 1 .993.887c.192 1.7.701 2.877 1.476 3.665.768.783 1.913 1.3 3.618 1.452a1 1 0 0 1-.002 1.992c-1.675.145-2.849.662-3.638 1.452-.79.79-1.307 1.963-1.452 3.638a1 1 0 0 1-1.992.003c-.152-1.706-.67-2.851-1.452-3.62-.788-.774-1.965-1.283-3.665-1.475a1 1 0 0 1-.002-1.987c1.73-.2 2.878-.709 3.646-1.476.767-.768 1.276-1.916 1.476-3.646A1 1 0 0 1 7 4Zm-2.472 6.998a6.11 6.11 0 0 1 2.468 2.412 6.232 6.232 0 0 1 1.037-1.376 6.232 6.232 0 0 1 1.376-1.036 6.114 6.114 0 0 1-2.412-2.469 6.163 6.163 0 0 1-1.053 1.416 6.163 6.163 0 0 1-1.416 1.053Z",fill:"currentColor"})),L5e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.42a22.323 22.323 0 0 0-2.453 2.127A22.323 22.323 0 0 0 7.42 12a22.32 22.32 0 0 0 2.127 2.453c.807.808 1.636 1.52 2.453 2.128a22.335 22.335 0 0 0 2.453-2.128A22.322 22.322 0 0 0 16.58 12a22.326 22.326 0 0 0-2.127-2.453A22.32 22.32 0 0 0 12 7.42Zm1.751-1.154a24.715 24.715 0 0 1 2.104 1.88 24.722 24.722 0 0 1 1.88 2.103c.316-.55.576-1.085.779-1.59.35-.878.507-1.625.503-2.206-.003-.574-.16-.913-.358-1.111-.199-.199-.537-.356-1.112-.36-.58-.003-1.328.153-2.205.504-.506.203-1.04.464-1.59.78Zm3.983 7.485a24.706 24.706 0 0 1-1.88 2.104 24.727 24.727 0 0 1-2.103 1.88 12.7 12.7 0 0 0 1.59.779c.878.35 1.625.507 2.206.503.574-.003.913-.16 1.111-.358.199-.199.356-.538.36-1.112.003-.58-.154-1.328-.504-2.205a12.688 12.688 0 0 0-.78-1.59ZM12 18.99c.89.57 1.768 1.03 2.605 1.364 1.026.41 2.036.652 2.955.646.925-.006 1.828-.267 2.5-.94.673-.672.934-1.575.94-2.5.006-.919-.236-1.929-.646-2.954A15.688 15.688 0 0 0 18.99 12a15.6 15.6 0 0 0 1.364-2.606c.41-1.025.652-2.035.646-2.954-.006-.925-.267-1.828-.94-2.5-.672-.673-1.575-.934-2.5-.94-.919-.006-1.929.235-2.954.646-.838.335-1.716.795-2.606 1.364a15.69 15.69 0 0 0-2.606-1.364C8.37 3.236 7.36 2.994 6.44 3c-.925.006-1.828.267-2.5.94-.673.672-.934 1.575-.94 2.5-.006.919.235 1.929.646 2.955A15.69 15.69 0 0 0 5.01 12c-.57.89-1.03 1.768-1.364 2.605-.41 1.026-.652 2.036-.646 2.955.006.925.267 1.828.94 2.5.672.673 1.575.934 2.5.94.92.006 1.93-.235 2.955-.646A15.697 15.697 0 0 0 12 18.99Zm-1.751-1.255a24.714 24.714 0 0 1-2.104-1.88 24.713 24.713 0 0 1-1.88-2.104c-.315.55-.576 1.085-.779 1.59-.35.878-.507 1.625-.503 2.206.003.574.16.913.359 1.111.198.199.537.356 1.111.36.58.003 1.328-.153 2.205-.504.506-.203 1.04-.463 1.59-.78Zm-3.983-7.486a24.727 24.727 0 0 1 1.88-2.104 24.724 24.724 0 0 1 2.103-1.88 12.696 12.696 0 0 0-1.59-.779c-.878-.35-1.625-.507-2.206-.503-.574.003-.913.16-1.111.359-.199.198-.356.537-.36 1.111-.003.58.153 1.328.504 2.205.203.506.464 1.04.78 1.59Z",fill:"currentColor"})),vV=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.0012 14.4404C16.0011 13.9504 15.8513 13.4739 15.5735 13.0742L15.4465 12.9082L15.012 12.3877C13.8614 12.8911 12.9152 13.1121 12.0618 13.1562C11.1474 13.2035 10.3804 13.0475 9.66528 12.8857C8.94197 12.7221 8.2815 12.5562 7.4729 12.5146C6.70029 12.475 5.77576 12.5504 4.5686 12.8887L4.55298 12.9082C4.19457 13.3383 3.9984 13.8806 3.99829 14.4404C3.99829 15.7627 5.07059 16.835 6.39282 16.835H13.6077C14.9298 16.8349 16.0012 15.7626 16.0012 14.4404ZM11.8352 3.16504H8.16528V7.72949C8.16528 8.20671 8.01876 8.6713 7.74829 9.06055L7.62427 9.22266L5.93384 11.25C6.52115 11.1756 7.05045 11.1614 7.54028 11.1865C8.48665 11.2351 9.26917 11.432 9.95825 11.5879C10.6556 11.7456 11.2718 11.8653 11.9924 11.8281C12.5791 11.7978 13.2616 11.6591 14.1213 11.3184L12.3752 9.22266C12.0261 8.80363 11.8352 8.27494 11.8352 7.72949V3.16504ZM13.1653 7.72949C13.1653 7.96372 13.2468 8.19111 13.3967 8.37109L16.468 12.0566L16.6653 12.3154C17.0974 12.9371 17.3312 13.6782 17.3313 14.4404C17.3313 16.4971 15.6643 18.1649 13.6077 18.165H6.39282C4.33605 18.165 2.66821 16.4972 2.66821 14.4404C2.66832 13.5694 2.97386 12.7258 3.53149 12.0566L6.60278 8.37109L6.65552 8.30176C6.77186 8.13447 6.83521 7.93464 6.83521 7.72949V3.16504H6.66626C6.29914 3.16486 6.00122 2.86716 6.00122 2.5C6.00122 2.13284 6.29914 1.83514 6.66626 1.83496H13.3333L13.467 1.84863C13.7702 1.91057 13.9983 2.17857 13.9983 2.5C13.9983 2.82143 13.7702 3.08943 13.467 3.15137L13.3333 3.16504H13.1653V7.72949Z"})),xBe=Object.freeze(Object.defineProperty({__proto__:null,default:vV},Symbol.toStringTag,{value:"Module"}));function F5e({modelSwitcherDeny:e}){const t=pe(),r=pn(t)?.isPro();switch(e.reason){case Ci.UNSUPPORTED_TOOL_USE:case Ci.UNSUPPORTED_AUDIO:case Ci.UNSUPPORTED_IMAGE:case Ci.UNSUPPORTED_GIZMO:case Ci.UNSUPPORTED_ATTACHMENT:case Ci.UNSUPPORTED_CUSTOM_INSTRUCTIONS:case Ci.UNSUPPORTED_CANVAS:case Ci.UNSUPPORTED_TEMPORARY_CHAT:return g.jsx(g.Fragment,{children:e.description});case U4.RATE_LIMIT:{const{resetsAfter:s}=e,o=new Date(s),a=new Date(s).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});if(r)return g.jsx("div",{children:g.jsx(ve,{id:"CwSQn9",defaultMessage:"Temporarily limited. Contact <supportEmail>support@openai.com</supportEmail> for help.",values:{supportEmail:l=>g.jsx(uh,{to:"mailto:support@openai.com",className:"underline",children:l})}})});if(J0e(o))return g.jsx(ve,{id:"HUybjA",defaultMessage:"Your limit will reset at {time}",values:{time:a}});if(Q0e(o))return g.jsx(ve,{id:"TvYw9K",defaultMessage:"Your limit will reset at {time} tomorrow",values:{time:a}});{const l=o.toLocaleDateString([],{month:"short",day:"numeric"});return g.jsx(ve,{id:"60ZcZL",defaultMessage:"Your limit will reset on {date}",values:{date:l}})}}}const i=e.description;if(i)return g.jsx(g.Fragment,{children:i})}var Tf=(e=>(e.GPT4o="AG8PqS2q",e.AUTO="auto",e))(Tf||{});const kBe=e=>{const{categoryId:t}=e;return t==="auto"};function TBe(e){return e?.categories.some(({categoryId:t})=>t===Tf.GPT4o)??!1}function _V(e,t){return t!=null?e?.get(t)??null:null}function j5e(e=!1){const t=pe(),n=Qe(t,"1213809372"),r=Qe(t,"1854238036"),i=Hr(),s=ms(),[,o]=ig();return p.useCallback(({location:a,modelId:l,options:c,extraQueryParams:u=new URLSearchParams})=>{const d=i.pathname.includes("/g/"),f=i.pathname.startsWith("/g/g-p-");if(e||d&&!n&&!r&&!f){K.logNewChatButtonClicked({location:a}),u.toString();const h=new URLSearchParams(u);h.set("model",l),s({pathname:"/",search:"?"+h.toString()},c)}else o(h=>{const m=new URLSearchParams([...u,...h]);return m.set("model",l),m}),K.logNewChatButtonClicked({location:a})},[e,i,s,o,n,r])}function yV(e){const{clientThreadId:t,isGizmo:n=!1}=typeof e=="string"?{clientThreadId:e,isGizmo:!1}:e,{modelsData:r}=Ow({isGizmo:n}),i=zo(t,s=>s?.modelId);return _V(r?.models,i)??null}function B5e(e){const{clientThreadId:t,isGizmo:n=!1}=typeof e=="string"?{clientThreadId:e,isGizmo:!1}:e;return yV({clientThreadId:t,isGizmo:n})}function U5e(e,t){return e?.enabledTools?.includes(t)??!1}function bV(e){return _V(e?.models,e?.defaultModelSlug)}const OBe="g-2fkFE8rbu",ABe={UNSET:"unset",GLOBAL:"global",PROJECT:"project",PROJECT_V2:"project_v2"};var q5e=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e[e.EMAIL=10]="EMAIL",e))(q5e||{});const z5e={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},IBe={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},MBe={can_read:!0,can_view_config:!0,can_write:!0,can_delete:!1,can_export:!1,can_share:!1},pr={Private:"private",User:"user",Group:"group",Email:"email",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var G5e=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(G5e||{});const RBe=e=>e.gizmo.tags?.includes("first_party"),PBe=e=>e.gizmo.gizmo_type!=="snorlax"&&!e.gizmo.tags?.includes("unreviewable");var Ha=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(Ha||{}),CV=(e=>(e.FILE_SERVICE="fs",e))(CV||{});function NBe(e){return e.type===10||e.type===1||e.type===2}const oM=[1,2,3,4];function DBe(e){return e.length===0?null:e.reduce((t,n)=>oM.indexOf(n.type)<oM.indexOf(t.type)?t:n,e[0])}function LBe(e,t,n){return t=t.filter(r=>r.type===pr.User||r.type===pr.Group||r.type===pr.Email),e===pr.Private||e===pr.User||e===pr.Group||e===pr.Email?[{type:pr.Private,capabilities:z5e},...t]:[...t,{type:e,capabilities:n}]}class H5e{constructor(t){this.response=t}}var xu=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(xu||{});const V5e="q",FBe="author",$5e="project_id",W5e="owner_user_id";function im(e,t,n,r,i){return n&&t&&r&&i&&r!==i?`${oh(sh(t))}/shared/c/${e}?${$5e}=${t.gizmo.id}&${W5e}=${r}`:t?`${oh(sh(t))}/c/${e}`:`/c/${e}`}function sh(e){return e.gizmo.short_url??e.gizmo.id??"-"}function oh(e){return`/g/${e}`}function jBe(){return"/gpts"}function BBe(){return"/schedules"}function UBe(){return"/gpts/mine"}function SV(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function qBe(e){const t=K5e();return e==null?t:SV(e)}function K5e(e){return SV(e)}function Y5e(e){if(!e)return null;try{return new URL(e).hostname}catch{return null}}function zBe(e){const t=Y5e(e);return t?t.replace(/^www\./,""):e}const P0="client-correlated-secret";function aM(){const e=localStorage.getItem(P0);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function wV(){aM()==null&&localStorage.setItem(P0,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=aM();if(t==null)throw new Error("Failed to get key from storage");return t}function Z5e(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function J5e(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function Q5e(e){const t=new URL(e),n=Rt({queryKey:[P0,"generate-challenge",e.search],queryFn:async()=>J5e(await crypto.subtle.sign("HMAC",await wV(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function GBe(){const e=location?.search,t=location?.hash;return Rt({queryKey:[P0,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await wV(),Z5e(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}class wn{static getMyGizmos(){return dt("gizmo_api.get_my_gizmos",()=>ct.get(`${ut}/gizmos?mine=true`))}static getGizmosByUser(t){return dt("gizmo_api.get_gizmos_by_user",()=>ct.get(`${ut}/gizmos/u/${t}`))}static getGizmo(t,n){const r=n?"?draft=true":"";return dt("gizmo_api.get_gizmo",()=>ct.get(`${ut}/gizmos/${t}${r}`))}static shareGizmo(t,n){return dt("gizmo_api.share",()=>ct.post(`${ut}/gizmos/${t}/share`,n))}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),dt("gizmo_api.discovery",()=>ct.get(n?`${vm}/gizmos/discovery_anon?${r}`:`${vm}/gizmos/discovery?${r}`,{authOption:tn.SendIfAvailable}))}static async getGizmoDiscoveryCut(t,n){const r=s=>{const o={};s!=null&&(o.cursor=s),n?.limit!=null&&(o.limit=`${n.limit}`),n?.locale!=null&&(o.locale=n.locale);const a=`${vm}/gizmos/discovery/${t}`;return dt("gizmo_api.discovery",()=>ct.get(a,{params:o,authOption:tn.SendIfAvailable}))},i=await r(n?.cursor);return i.list.items.length===0&&i.list.cursor!=null?(await new Promise(s=>setTimeout(s,Math.random()*30)),await r(i.list.cursor)):i}static getGizmoBootstrap(t){return dt("gizmo_api.bootstrap",()=>ct.get(`${ut}/gizmos/bootstrap?limit=${t}`))}static getGizmoPinned(){return dt("gizmo_api.pinned",()=>ct.get(`${ut}/gizmos/pinned`))}static getGizmoSearch(t,n=null){return n?dt("gizmo_api.search_with_cursor",()=>ct.get(`${ut}/gizmos/search?q=${t}&cursor=${n} `)):dt("gizmo_api.search",()=>ct.get(`${ut}/gizmos/search?q=${t}`))}static getGizmoSearchForWorkspace(t,n=null){return n?dt("gizmo_api.search_workspace_cursor",()=>ct.get(`${ut}/gizmos/search?q=${t}&workspace_only=true&cursor=${n}`)):dt("gizmo_api.search_workspace",()=>ct.get(`${ut}/gizmos/search?q=${t}&workspace_only=true`))}static async postGizmoAppeal(t,n,r,i,s){await dt("gizmo_api.appeal",()=>ct.post(`${ut}/gizmos/${n}/appeal`,{reason:r,share_recipient:i,categories:s})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await dt("gizmo_api.cancel_appeal",()=>ct.post(`${ut}/gizmos/${n}/cancel_appeal`,{})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?dt("gizmo_api.upsert_gizmo",()=>ct.post(`${ut}/gizmos?gizmo_id=${n}`,t)):dt("gizmo_api.upsert_gizmo",()=>ct.post(`${ut}/gizmos`,t))}static promoteDraft(t,n){return dt("gizmo_api.promote",()=>ct.post(`${ut}/gizmos/${n}/promote`,t))}static deleteGizmo(t){return dt("gizmo_api.delete_gizmos",()=>he.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}}))}static getBuilderProfile(){return dt("gizmo_api.gizmo_creator_profile",()=>ct.get(`${ut}/gizmo_creator_profile`))}static updateBuilderProfile(t){return dt("gizmo_api.gizmo_creator_profile",()=>ct.post(`${ut}/gizmo_creator_profile`,t))}static unverifySocialAuth(t){return dt("gizmo_api.delete_socials",()=>he.safeDelete("/gizmo_creator_profile/socials/{verifier_type}",{parameters:{path:{verifier_type:t}}}))}static async updateGizmoSidebar(t,n,r,i,s){const o=await dt("gizmo_api.update_sidebar",()=>ct.post(`${ut}/gizmos/${r}/sidebar`,{action:i}));switch(i){case"keep":K.logEvent("Sidebar Gizmo Keep",{location:s}),n.handleGizmoSidebarKeep(t,r);break;case"hide":K.logEvent("Sidebar Gizmo Hide",{location:s}),n.handleGizmoSidebarHide(t,r);break}return o}static async removeFromRecent(t,n){const r=await dt("gizmo_api.remove_recent",()=>ct.post(`${ut}/gizmos/${n}/remove_recent`,{}));return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return dt("gizmo_api.fetch_openapi",()=>ct.post(`${ut}/gizmos/fetch_openapi`,{url:t}))}static validateOpenAPISpec(t){return dt("gizmo_api.validate_openapi",()=>ct.post(`${ut}/gizmos/validate_openapi`,{raw_spec:t}))}static transformToOpenAPISpec(t,n){return dt("gizmo_api.transform_openapi",()=>ct.post(`${ut}/gizmos/transform_openapi`,{...t,auth:n}))}static async doOAuthRedirect(t,n,r,i,s){const o=await dt("gizmo_api.oauth_redirect",()=>ct.post(`${ut}/gizmos/oauth_redirect`,{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:i,draft:s}));window.location.href=o.redirect_uri}static async upsertUserActionSettings(t,n,r){return dt("gizmo_api.action_settings",()=>ct.post(`${ut}/gizmos/action_settings`,{gizmo_action_id:t,domain:n,action_settings:r}))}static async getUserActionSettings(t){return dt("gizmo_api.user_action_settings",()=>ct.get(`${ut}/gizmos/user_action_settings?gizmo_id=${t}`))}static async generateCategory(t,n){return dt("gizmo_api.gen_category",()=>ct.post(`${ut}/gizmos/gen_category`,{name:t,instructions:n}))}static async getConversations(t,n=null){return dt("gizmo_api.conversations",()=>ct.get(`${ut}/gizmos/${t}/conversations`,{params:{...n?{cursor:n}:{}}}))}static async getProjectConversations(t,n=null){return dt("gizmo_api.conversations",()=>ct.get(`${ut}/gizmos/${t}/conversations`,{params:{...n?{cursor:n}:{}}}))}static async getCategories(){return dt("gizmo_api.categories",()=>ct.get(`${ut}/gizmos/categories`))}static async getUserReview(t){return dt("gizmo_api.get_gizmo_reviews",()=>ct.get(`${ut}/gizmo_reviews/${t}`))}static async upsertUserReview(t,n,r,i){return dt("gizmo_api.upsert_gizmo_reviews",()=>ct.post(`${ut}/gizmo_reviews/${t}`,{rating:n,message:r,include_from:i}))}static async sendFeedbackEmail(t,n,r){return dt("gizmo_api.feedback",()=>ct.post(`${ut}/gizmos/${t}/feedback`,{message:n,include_from:r}))}static async getAbout(t){return dt("gizmo_api.about",()=>ct.get(`${ut}/gizmos/${t}/about`))}static async getCreatorSlice({creatorId:t}){return dt("gizmo_api.gizmo_creators",()=>ct.get(`${ut}/gizmo_creators/${t}/gizmos`))}static async getVersion({gizmoId:t,version:n}){return n==null?dt("gizmo_api.latest_version",()=>ct.get(`${ut}/gizmos/${t}/version/latest`)):dt("gizmo_api.version",()=>ct.get(`${ut}/gizmos/${t}/version/${n}`))}static async listVersions({gizmoId:t,limit:n,cursor:r}){const i={};return n&&(i.limit=n),r&&(i.cursor=r),dt("gizmo_api.versions",()=>ct.get(`${ut}/gizmos/${t}/versions`,{params:i}))}static async copyGizmo({gizmoId:t}){return dt("gizmo_api.copy",()=>ct.post(`${ut}/gizmos/${t}/copy`))}}async function dt(e,t){return V.addAction(`${e}.start`),t().catch(n=>{throw V.addAction(`${e}.failure`,{error:n}),n})}async function X5e(){const e=await he.safeGet("/me",{authOption:tn.SendIfAvailable});return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created,phone_number:e.phone_number,first_name:e.first_name,email_domain_type:["government","professional","education","social","unknown","missing"].includes(e.email_domain_type)?e.email_domain_type:"unknown"}}const e6e=ps({queryKey:["user"],queryFn:X5e,staleTime:1/0});function t6e(){return Rt(e6e).data}const n6e={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function EV(e){const t=Rt({...Ro(),select:n=>{const r=zg(n);return{currentWorkspace:r?.data??null,subscriptionStatus:r?.data.subscriptionStatus??null,workspaces:n.accountItems.map(i=>i.data)}}}).data??n6e;return e?e(t):t}const r6e={isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===Gr.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>Ah(e?.planType),isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&Dg(e.planType),isTeamPlan:({subscriptionStatus:e})=>e?.planType===Ke.SELF_SERVE_BUSINESS,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e?.accountUserId};function HBe(){return br()?.data.subscriptionStatus.lastActiveSubscription}function i6e(e){return e.email_domain_type==="professional"||e.email_domain_type==="government"||e.email_domain_type==="unknown"}function VBe(e){return e.email_domain_type==="professional"||e.email_domain_type==="unknown"}const rE=e=>{const t=br(),n=t?.getWorkspaceId(),r=Nve(),{data:i,isLoading:s}=Ng(n);if(!t?.isWorkspaceAccount())return{hasWorkspacePermission:!0,isLoading:!1};const o=i?.permissions?.includes(e)??!1;return{hasWorkspacePermission:r?o:!0,isLoading:s}},$Be=()=>{const e=br(),{hasWorkspacePermission:t,isLoading:n}=rE(Sc.CrudGPT);return{canCreate:e?.hasPaidFeatures()&&t,isLoading:n}};function WBe(e){const{hasWorkspacePermission:t,isLoading:n}=rE(Sc.CrudGPT);return{canDelete:(t&&e?.gizmo.current_user_permission?.can_delete)??!1,isLoading:n}}function KBe(e){const{hasWorkspacePermission:t,isLoading:n}=rE(Sc.CrudGPT);return{canEdit:(t&&e?.gizmo.current_user_permission?.can_write)??!1,isLoading:n}}function YBe(e){return{canViewConfig:e.gizmo.current_user_permission?.can_view_config??!1}}function s6e(e,t,n){const r=t?.name;switch(e){case pr.Link:return n.formatMessage(sm.privacyAnyoneWithLink);case pr.Private:return n.formatMessage(sm.privacyOnlyMe);case pr.Group:case pr.Email:case pr.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case pr.Marketplace:return n.formatMessage(sm.privacyMarketplace);case pr.Workspace:return n.formatMessage(sm.privacyWorkspace,{workspaceName:r});case pr.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function ZBe(e){const t=yt(),n=EV(r=>r.currentWorkspace);return s6e(e,n,t)}function o6e(e){return"gizmo"in e}function a6e(e){return"id"in e}function JBe(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}const sm=It({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),QBe="GPT Builder",xV="gizmo-bootstrap",kV=1;function XBe(e){if(e)return`ChatGPT - ${e}`}function eUe(e){returnwindow.location.origin+`${oh(e)}`}function l6e(e,t){return Qe(e,"491279851")&&Ho(t.gizmo.id)?`${oh(sh(t))}/project`:oh(sh(t))}function tUe(e,t,n){const r=new URLSearchParams;return n!=null&&r.set(V5e,n),Q5e(new URL(`${l6e(e,t)}?${r}`,window.location.origin))}function nUe(e){return`/g/${sh(e)}`}function rUe(e){return o6e(e)&&e.gizmo.live_version===0||a6e(e)&&e.liveVersion===0}function iUe(e,t){return Rt({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>wn.getGizmoDiscovery(e,t)})}function sUe({cutId:e,locale:t,limit:n,cursor:r,enabled:i=!0}){return WS({queryKey:["gizmos","discovery",{cutId:e,locale:t,limit:n}],queryFn:async({pageParam:s})=>wn.getGizmoDiscoveryCut(e,{locale:t,cursor:s,limit:n}),initialPageParam:r,getNextPageParam:s=>s.list.cursor??void 0,enabled:i})}const oUe=nn(e=>bh(e,()=>ps({queryKey:["gizmos","discovery",{cutId:"recent",limit:20}],queryFn:()=>wn.getGizmoDiscoveryCut("recent",{limit:20}),enabled:_n(e)}))),aUe=nn(e=>bh(e,()=>ps({queryKey:["gizmos","pinned"],enabled:_n(e),queryFn:wn.getGizmoPinned})));function Wl(e=2){return ps({queryKey:["gizmos","bootstrap"],experimental_prefetchInRender:!0,queryFn:async()=>wn.getGizmoBootstrap(e).then(t=>(V.addFirstTiming("load.gizmoBootstrap"),{gizmos:Object.values(t).flat().filter(r=>r).filter(r=>r.resource.gizmo?.gizmo_type!==Ha.PROJECT).map(r=>({resource:r.resource,flair:r.flair}))}))})}const lUe=nn(e=>bh(e,Wl));function cUe(){const e=pe(),n=Qe(e,"1524046265")?20:2,r=Wl(n),i=Xg(xV,kV,r.queryKey);return Rt({...r,initialData:i})}function uUe(){const e=pe(),n=Qe(e,"1524046265")?20:2,r=Wl(n),i=Xg(xV,kV,r.queryKey);return rY({...r,initialData:i})}function lM(e,t){const n=e.filter(i=>i.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(i=>i.flair.kind===xu.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const dUe={handleGizmoInteracted(e,t){const n=e.getQueryData(Va(e,t).queryKey);n==null||Ho(t)||e.setQueryData(Wl().queryKey,r=>{if(r==null)return r;const i=r.gizmos.find(s=>s.resource.gizmo.id===t);return i?.flair.kind===xu.FirstParty||i?.flair.kind===xu.SidebarKeep?r:{gizmos:lM(r.gizmos,{resource:n,flair:{kind:xu.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(Va(e,t).queryKey);n!=null&&e.setQueryData(Wl().queryKey,r=>r==null?r:{gizmos:lM(r.gizmos,{resource:n,flair:{kind:xu.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(Wl().queryKey,n=>n?.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}};function TV(e,t=!1){const n=yr();return Rt(Va(n,e,t))}function fUe(e){const t=yr(),n=t.getQueryData(Va(t,e).queryKey);if(n?.gizmo?.gizmo_type===Ha.PROJECT)return n}const hUe=({gizmoId:e,limit:t,cursor:n})=>Rt({queryFn:async()=>wn.listVersions({gizmoId:e}),queryKey:["gizmo","versions",{gizmoId:e,limit:t,cursor:n}]});function pUe({gizmoId:e,draft:t,version:n}){const r=yr(),i=n?{queryKey:["gizmo","version",{gizmoId:e,version:n}],queryFn:async()=>wn.getVersion({gizmoId:e,version:n}),enabled:e!=null}:Va(r,e,t);return Rt(i)}function mUe(e,t){return Rt({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>wn.getUserActionSettings(e),enabled:e!=null&&t})}function Va(e,t,n=!1){return ps({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>wn.getGizmo(t,n),enabled:t!=null,initialData:()=>{if(n===!0)return;const r=e.getQueryData(Wl().queryKey);if(r!=null)return r.gizmos.find(s=>s.resource.gizmo.id===t)?.resource;const i=e.getQueryData(["gizmos","discovery"]);if(i!=null)for(const s of i.cuts){const o=s.list.items.find(a=>a.resource.gizmo.id===t)?.resource;if(o!=null)return o}}})}function c6e(e,t){return e.fetchQuery(Va(e,t))}function gUe(e){return Rt({queryKey:["gizmo",{search:e}],queryFn:async()=>wn.getGizmoSearch(e),enabled:e.length>0})}function vUe(e,t){return Rt({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>wn.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function _Ue(e,t=!1,n=!1,r=null){return WS({queryKey:[n?"gizmo-search-workspace":"gizmo",{query:e,cursor:r}],queryFn:async({pageParam:i})=>n?wn.getGizmoSearchForWorkspace(e,r=i):wn.getGizmoSearch(e,r=i),initialPageParam:r,getNextPageParam:i=>i.cursor??void 0,enabled:t})}function yUe(){const e=yr();return Kn({mutationFn:async({gizmoId:t,editorData:n})=>{const{instructions:r,name:i,description:s,emoji:o,theme:a,profilePictureId:l,profilePictureUrl:c,promptStarters:u,tools:d,files:f,defaultModel:h,trainingDisabled:m}=n,v={instructions:r,display:{name:i,description:s,emoji:o,theme:a,profile_pic_id:l,profile_picture_url:c,prompt_starters:u},tools:d,files:f.map(_=>({..._,location:CV.FILE_SERVICE})),training_disabled:m,default_model:h??void 0};return wn.upsertDraft(v,t)},onSettled:t=>{t&&(e.setQueryData(Va(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function bUe(){const e=yr();return Kn({mutationFn:async({gizmoId:t,data:n})=>{const{sharingRecipient:r,categories:i}=n,s=await wn.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:i},t);if(s.error)throw new H5e(s);return s.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(Va(e,t.gizmo.id,!1).queryKey,t)}})}function CUe(){const e=yr();return Kn({mutationFn:async({gizmoId:t})=>wn.deleteGizmo(t),onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function SUe(){const e=yr(),t=In();return Kn({mutationFn:async({name:n,hideName:r,websiteUrl:i,willReceiveSupportEmails:s})=>wn.updateBuilderProfile({name:n,hide_name:r,website_url:i,will_receive_support_emails:s}),onSuccess:n=>{e.setQueryData(["builderProfile"],n)},onError:n=>{t.warning(n.message)}})}function wUe(){return Rt({queryKey:["builderProfile"],queryFn:async()=>wn.getBuilderProfile()})}function EUe(){return Kn({mutationFn:async({gizmoId:e})=>wn.copyGizmo({gizmoId:e})})}function xUe(){return Rt({queryKey:["gizmoCategories"],queryFn:async()=>wn.getCategories()})}function kUe(e,t){const n=pe(),r=Qe(n,"2632917233");return!!(t!=null&&[an.PrimaryAssistant,an.GizmoInteraction].includes(t)&&(r||e?.includes(j4.GPT_4)))}function TUe(e,t){const n=yr(),r=In();return Kn({mutationFn:async({rating:i,message:s,includeFrom:o})=>{await wn.upsertUserReview(e,i,s,o)},onSuccess:async()=>{n.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:i=>{r.danger(i.message,{toastId:"gizmo_review_error",loggingTitle:"useUpsertUserReviewMutation",loggingDescription:i.message})}})}function u6e({clientThreadId:e}){const t=ww(),[n,r]=zo(e,f=>[Ee.getCurrentNode(f)?.message.metadata?.model_switcher_deny,Ee.getGizmoId(f)]),i=r??t,{data:s}=TV(i),{data:o}=eae({isGizmo:!!i}),a=yt(),l={},c=pe(),u=Qe(c,"891514942"),d=Nne();for(const{resets_after:f,model_slug:h}of d)[Xd.CONVERSATION,Xd.REGENERATE].forEach(m=>{const v=l[h]??{},_=v[m]??[],y={reason:U4.RATE_LIMIT,resetsAfter:f,isAvailable:!1};_.push(y),v[m]=_,l[h]=v});if(n?.forEach(f=>{const{slug:h,context:m,reason:v,description:_,is_available:y}=f,b=u&&y,C=l[h]??{},S=C[m]??[];S.push({reason:v,description:_,isAvailable:b}),C[m]=S,l[h]=C}),i&&Ho(i)){const f=[As.GIZMO_PROJECT];s?.files?.length&&f.push(As.ATTACHMENT),s?.gizmo.instructions.length&&f.push(As.CUSTOM_INSTRUCTIONS),o?.categories.forEach(h=>{const{defaultModel:m,supportedFeatures:v}=h,_=v||[],y=[];if(f.includes(As.GIZMO_PROJECT)&&!_.includes(As.GIZMO_PROJECT)&&y.push({reason:Ci.UNSUPPORTED_GIZMO,description:a.formatMessage({id:"6w0z4F",defaultMessage:"This model doesn't support projects."}),isAvailable:!1}),f.includes(As.ATTACHMENT)&&!_.includes(As.ATTACHMENT)&&y.push({reason:Ci.UNSUPPORTED_ATTACHMENT,description:a.formatMessage({id:"ZKjdak",defaultMessage:"This model doesn't support file attachments."}),isAvailable:!1}),f.includes(As.CUSTOM_INSTRUCTIONS)&&!_.includes(As.CUSTOM_INSTRUCTIONS)&&y.push({reason:Ci.UNSUPPORTED_CUSTOM_INSTRUCTIONS,description:a.formatMessage({id:"zaubcf",defaultMessage:"This model doesn't support custom instructions."}),isAvailable:!1}),y.length){const b=l[m]??{};[Xd.CONVERSATION,Xd.REGENERATE].forEach(C=>{const S=b[C]??[];S.push(...y),b[C]=S,l[m]=b})}})}return l}function d6e({modelSlug:e,modelSwitcherDenialsBySlug:t}){const n=e?t[e]?.conversation:null;return n?n.every(r=>r.isAvailable===!0):!0}function f6e({currentModel:e,categoryOptions:t,className:n,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i=!1,onModelItemClick:s,preferredModelId:o}){const a=yt(),l=e?.id??null,[c,u]=p.useState(""),d=p.useMemo(()=>c?t.filter(f=>f.name.toLowerCase().includes(c.toLowerCase())):t,[t,c]);return g.jsx(Bt.Portal,{children:g.jsxs(Bt.SubContent,{className:ke("flex flex-col pt-0",n),children:[g.jsxs("div",{style:{borderRadius:"inherit"},className:"sticky top-0 z-1 bg-white",children:[g.jsx("div",{className:"p-2",children:g.jsx(gV,{inputClassName:"w-full",value:c,onKeyDown:f=>{f.stopPropagation()},onChange:f=>{u(f.target.value)}})}),g.jsx("hr",{})]}),g.jsxs("div",{className:"scrollbar-gutter-stable w-[min(320px,95vw)] flex-grow overflow-auto",children:[d.length===0&&g.jsx(Bt.Item,{children:a.formatMessage({id:"model-switcher.no-results",defaultMessage:"No results found"})}),d.map(f=>{const{value:h}=f;return"options"in f?g.jsx(hu,{currentModel:e,isSelected:l?.startsWith(h),option:f,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i,onModelItemClick:s,preferredModelId:o},h):g.jsx(pa,{currentModelId:l,isSelected:l===h,value:h,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i,onClick:s,preferredModelId:o,children:f.name},h)})]})]})})}function hu({currentModel:e,option:t,isSelected:n=!1,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i=!1,onModelItemClick:s,preferredModelId:o}){const{name:a,options:l,categoryId:c}=t,u=`${a} Models`,d=()=>g.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(vV,{className:"icon"}),u]})});let f;return i&&n&&(f=t.options.find(h=>h.value===e?.id)?.name),g.jsxs(Bt.Sub,{children:[g.jsx(Bt.SubMenuTrigger,{children:g.jsxs("div",{className:ke("flex grow justify-between gap-2 overflow-hidden",i?"items-center break-all":""),children:[c?d():a,n&&g.jsx("div",{className:"text-token-text-tertiary truncate",children:f??e?.title})]})}),g.jsx(f6e,{currentModel:e,categoryOptions:l,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i,onModelItemClick:s,preferredModelId:o})]})}function pa({value:e,children:t,icon:n,secondary:r,currentModelId:i,isSelected:s,onClick:o,modelSwitcherDenialsBySlug:a,isUpgradeUpsell:l=!1,testId:c,displayInFull_INTERNAL_USE_ONLY:u=!1,deprecated:d,preferredModelId:f,disabledByAdmin:h}){const m=pe(),v=j5e(),_=e?a[e]?.conversation?.[0]:null,y=d6e({modelSlug:e,modelSwitcherDenialsBySlug:a}),b=h||!y,C=$t(m,"1846737571"),S=_re(),x=Qe(m,"1333611684"),w=()=>{if(o)o(e);else if(e){K.logEvent("Model Switcher Model Changed",{from:i,to:e}),vt.logEvent("chatgpt_model_switcher_model_changed",e,{from:i??"",to:e});const T=e;x?S.mutate({model_slug:T}):mge(m,T),v({modelId:T,location:"Model switcher menu item"})}},E=g.jsx(Bt.Item,{onClick:w,disabled:b,className:ke(u&&"break-all"),icon:n,secondary:r,trailingColor:"primary",trailing:l?g.jsx(un,{color:"secondary",size:"small",className:C.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:g.jsx(ve,{id:"oKo8wt",defaultMessage:"Upgrade"})}):s?g.jsx(R9,{className:"icon-sm"}):g.jsx("span",{className:"icon"}),"data-testid":c,children:g.jsxs("span",{className:"flex items-center gap-1",children:[t,e&&e===f&&!s&&!l&&!d&&g.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700",children:g.jsx(ve,{id:"model-switcher.preferred",defaultMessage:"GPT creator recommended"})})]})},e);return _?g.jsx(pi,{withArrow:!0,side:"right",sideOffset:-10,label:g.jsx(F5e,{modelSwitcherDeny:_}),children:E}):E}function h6e(e,t){switch(t){case"gpt-4o":return mi(e).checkGate("1627380539");default:return!1}}function p6e(e){return sS(new URL(e,window.location.origin).searchParams).includes(Ae.Search)}var m6e=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e.LogoutConfirm="logout-confirm",e.NotificationFeed="notification-feed",e.DeepResearchShare="deep-research-share",e))(m6e||{});function g6e({isOpen:e}){$e.setCookie(je.NavigationState,e?"1":"0",{maxAge:2*365*24*60*60})}const xt=fn()(()=>({isThreadHeaderVisible:!0,isSlideoverSidebarOpen:void 0,isPopoverSidebarOpen:!1,isVoiceActive:!1,isConversationScrolledFromTop:!1,sharingModalThreadId:void 0,deepResearchShareTaskId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null,noAuthMadlibsModalOpen:!1,onboardingConvoState:null,autoHighlightNicknameInput:!1,shouldShowThreadModelPickerDot:!1})),OUe={isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},Of={setBrowseMode:e=>{xt.setState(t=>({...t,browseMode:e}))},setIsConversationScrolledFromTop:e=>{xt.setState(t=>({...t,isConversationScrolledFromTop:e}))},enterGizmoEditor:()=>{xt.setState({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{xt.setState({browseMode:"conversation"})},setAutoHighlightNicknameInput:e=>{xt.setState({autoHighlightNicknameInput:e})},setSidebarOpen(e){v6e()?Of.setPopoverSidebarOpen(e):Of.setSlideoverSidebarOpen(e)},setPopoverSidebarOpen:e=>{xt.setState(({isPopoverSidebarOpen:t})=>({isPopoverSidebarOpen:e??!t}))},setSlideoverSidebarOpen:e=>{xt.setState(({isSlideoverSidebarOpen:t})=>{const n=e??!(t??OV());return g6e({isOpen:n}),K.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!n,action:"button_click"}),{isSlideoverSidebarOpen:n}}),AV=!1},hideThreadHeader:()=>{xt.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{xt.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){xt.setState({sharingModalThreadId:e}),K.logEvent("Share Conversation: Open Modal",{location:t})},closeSharingModal(){xt.setState({sharingModalThreadId:void 0})},openFeedbackModal(e){xt.setState({feedbackModalThreadId:e})},closeFeedbackModal(){xt.setState({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){xt.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){xt.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){xt.setState({activeSidebar:e})},setThreadModelPickerAlertDot:e=>{xt.setState(({shouldShowThreadModelPickerDot:t})=>(t!==e&&K.logEvent("Notifications: Thread Model Picker Alert Dot",{shown:e}),{shouldShowThreadModelPickerDot:e}))},toggleActiveSidebar(e){xt.setState(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){xt.setState(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){xt.setState({activeStageSidebar:e})},toggleModal(e){xt.setState(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){xt.setState(t=>{if(t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){xt.setState(t=>{if(!t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},openDeepResearchShare(e){xt.setState(t=>({...t,deepResearchShareTaskId:e})),Of.openModal("deep-research-share")},closeAllActiveModals(){xt.getState().activeModals.size>0&&xt.setState({activeModals:new Set})},hideLatencyDevTools:()=>{xt.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{xt.setState({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e,t=!1){xt.setState(n=>n.displayAnnouncementTooltip&&!t?n:{displayAnnouncementTooltip:e})},setNoAuthMadlibsModalOpen:e=>{xt.setState({noAuthMadlibsModalOpen:e}),Wt.setItem(qt.NoAuthMadlibsModalState,"seen")},setOnboardingConvoState:e=>{xt.setState({onboardingConvoState:e})}};function AUe(e){return xt(t=>t.activeModals.has(e))}function OV(){if(AV)return!1;const e=$e.getCookie(je.NavigationState);return e!=null?e==="1":!0}let AV=p6e(window.location.href);function v6e(){const e=xt.getState().activeStageSidebar,t=tse();return e||!t}function _6e(){const e=xt(n=>n.activeStageSidebar),t=zj();return e||!t}function IUe(){const e=pe(),t=_6e(),n=xt(r=>r.isSlideoverSidebarOpen);return _n(e)&&!t&&(n??OV())}function MUe(){return xt(e=>e.activeModals.has("blocking-initial-component"))}function RUe(){const[e,t]=p.useState(!1);return p.useEffect(()=>xt.subscribe(n=>{n.activeModals.has("blocking-initial-component")&&t(r=>r||n.activeModals.has("blocking-initial-component"))}),[]),e}const PUe=(e,t,n,r)=>{const i=Qe(e,"2861925050"),s=n?.some(({model_slug:o})=>r?.models.get(o));return!(!i||!s||!t||!t.isTeam())},IV=()=>{const e=Wt.getItem(qt.FinchAdminNotified);return new Date(e??0)},y6e=()=>{const e=new Date;e.setDate(e.getDate()+1),Wt.setItem(qt.FinchAdminNotified,e.toISOString())},b6e=()=>{const e=IV();return Wt.getItem(qt.FinchAdminNotified)!=null&&new Date<=e},NUe=()=>{const e=IV();return new Date>e},DUe=e=>{switch(e){case"wham":return"wham";case"deep_research":return"deep_research";case"image_gen":return"image_gen";case"gpt-4-5":return"gpt-4-5";default:return null}},C6e=fn(e=>({hasRequestedCredits:b6e(),setHasRequestedCredits:t=>e(()=>({hasRequestedCredits:t}))})),S6e=Eg(()=>ye(()=>import("./bc5es29753gd8drd.js"),__vite__mapDeps([13,1,14,15,9,10,16,17])).then(e=>e.CreditPurchaseModal)),w6e=()=>{const e=In(),t=yt(),{hasRequestedCredits:n,setHasRequestedCredits:r}=C6e(),{mutate:i,isPending:s}=Kn({mutationFn:o=>he.safePost("/credits/pleas",{requestBody:{product:o}}),onError:o=>{V.addError(new Error("Error occurred while submitting credit plea request",{cause:o})),e.danger(ju.errorRequestCredits,{toastId:"teams_credit_plea_button"})},onSuccess:()=>{r(!0),e.success(t.formatMessage(ju.successRequestCredits)),y6e(),Of.setThreadModelPickerAlertDot(!1)}});return{submitCreditPleaRequest:i,hasRequestedCredits:n,isPending:s}},E6e=({trigger:e,...t})=>{const n=pe();p.useEffect(()=>{K.logEventWithStatsig("ChatGPT Credits: Add Credits Button Shown","chatgpt_credits_add_credits_button_shown",{trigger:e})},[e]);const r=()=>{K.logEventWithStatsig("ChatGPT Credits: Add Credits Clicked","chatgpt_credits_add_credits_clicked"),bg(n,S6e)};return g.jsx(un,{color:"primary",onClick:r,...t,children:g.jsx(ve,{...ju.addCredits})})},x6e=({creditConsumingProduct:e,trigger:t,...n})=>{const r=yt(),{submitCreditPleaRequest:i,isPending:s,hasRequestedCredits:o}=w6e();p.useEffect(()=>{K.logEventWithStatsig("ChatGPT Credits: Notify Admin Button Shown","chatgpt_credits_notify_admin_button_shown",{trigger:t,creditConsumingProduct:e})},[e,t]);const a=()=>{o||(i(e),K.logEventWithStatsig("ChatGPT Credits: Notify Admin Clicked","chatgpt_credits_notify_admin_clicked"))},l=g.jsx(un,{loading:s,color:o?"secondary":"primary",disabled:o,onClick:a,...n,children:o?r.formatMessage(ju.requested):r.formatMessage(ju.notifyAdmin)});return o?g.jsx(pi,{className:"w-auto whitespace-nowrap",withArrow:!0,labelTextAlign:"left",contentClassName:"w-[180px]",side:"right",label:r.formatMessage(ju.alreadyRequested),children:l}):l},ju=It({notifyAdmin:{id:"prompt-textarea.teamsCreditRequestBanner.notifyAdmin",defaultMessage:"Notify admin"},addCredits:{id:"prompt-textarea.teamsCreditRequestBanner.addCredits",defaultMessage:"Add credits"},requested:{id:"prompt-textarea.teamsCreditRequestBanner.requested",defaultMessage:"Requested"},errorRequestCredits:{id:"prompt-textarea.teamsCreditRequestBanner.error",defaultMessage:"Error occurred while submitting credit request"},successRequestCredits:{id:"prompt-textarea.teamsCreditRequestBanner.success",defaultMessage:"Request sent to your admin"},alreadyRequested:{id:"prompt-textarea.teamsCreditRequestBanner.alreadyRequested",defaultMessage:"You’ve already notified your admin"}}),cM="needsCreditsSection",k6e=()=>{const t=br()?.isOwnerOfAccount();return g.jsxs(Bt.Item,{className:"pointer-events-none pe-2.5! hover:bg-transparent hover:text-inherit",onSelect:n=>n.preventDefault(),disabled:!0,children:[g.jsx("div",{className:"text-token-text-tertiary text-xs",children:g.jsx(ve,{...t?uM.ownerDescription:uM.description})}),t?g.jsx(E6e,{size:"small",trigger:"thread-header-dropdown-credits-section"}):g.jsx(x6e,{size:"small",creditConsumingProduct:"gpt-4-5",trigger:"thread-header-dropdown-credits-section"})]})},uM=It({description:{id:"prompt-textarea.teamsCreditRequestBanner.label",defaultMessage:"Limits reached. Send a request to your admin to get access"},ownerDescription:{id:"prompt-textarea.teamsCreditRequestBanner.ownerLabel",defaultMessage:"Limits reached. Add credits to your account"}}),T6e="{{.assetPrefix}}/assets/no-auth-upsell-m8ypcpwf.webp",O6e={src:T6e};function A6e(){const e=pe();return $t(e,"3637408529").get("is_login_primary_button",!1)}const I6e=()=>{const e=pe();return $t(e,"1346366956").get("signup_cta_copy","SIGN_UP")},M6e=()=>{const e=pe();return $t(e,"1803944755").get("login_or_signup_cta_copy","LOGIN_OR_SIGNUP")},LUe=()=>{switch(M6e()){case"LOGIN_OR_SIGNUP":return dM.loginOrSignup;case"SIGNIN":return dM.signin}},R6e=e=>{switch(I6e()){case"SIGN_UP":return e;case"SIGN_UP_FOR_FREE":return om.signUpForFreeCta;case"CREATE_ACCOUNT":return om.createAccountCta;case"CREATE_NEW_ACCOUNT":return om.createNewAccountCta;case"CREATE_FREE_ACCOUNT":return om.createFreeAccountCta}},dM=It({loginOrSignup:{id:"loginOrSignupCta.loginOrSignup",defaultMessage:"Log in or sign up"},signin:{id:"loginOrSignupCta.signin",defaultMessage:"Sign in"}}),om=It({createAccountCta:{id:"createAccountCta",defaultMessage:"Create account"},createNewAccountCta:{id:"createNewAccountCta",defaultMessage:"Create new account"},createFreeAccountCta:{id:"createFreeAccountCta",defaultMessage:"Create free account"},signUpForFreeCta:{id:"signUpForFreeCta",defaultMessage:"Sign up for free"}});function P6e({statsig_login_event:e,statsig_signup_event:t,location:n}){const r=pe(),i=A6e(),s=R6e(fM.signUpCta),o=`no-auth-${n}`,a=ms(),l=dh(r,"2210309751").get("variant","control"),c=()=>{a({hash:Kw,search:window.location.search},{state:{[LU]:"NoAuth Model Picker Upsell"}})},u=()=>{Yu(r,{fallbackScreenHint:"login",callback:m=>{K.logLogInButtonClicked({location:o,provider:m}),vt.logEvent(e)}})},d=()=>{Yu(r,{fallbackScreenHint:"signup",callback:m=>{K.logSignUpButtonClicked({location:o,provider:m}),vt.logEvent(t)}})},f=g.jsx(un,{as:"button",size:"medium",color:i?"primary":"secondary",onClick:u,children:g.jsx(ve,{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"})},"login-button"),h=g.jsx(un,{as:"button",size:"medium",color:i?"secondary":"primary",onClick:d,children:g.jsx(ve,{...s})},"signup-button");return g.jsxs("div",{className:"-mt-4 flex max-w-[calc(100vw-2rem)] flex-col",children:[g.jsx("img",{className:"max-xs:hidden h-[132px] object-fill",src:O6e.src,alt:""}),g.jsxs("div",{className:"flex flex-col px-4 pt-5 pb-2",children:[g.jsx("p",{className:"text-token-text-primary mb-1 text-lg font-medium text-pretty",children:g.jsx(ve,{id:"rwmTbn",defaultMessage:"Try advanced features for free"})}),g.jsx("p",{className:"text-token-text-secondary text-sm text-pretty",children:g.jsx(ve,{id:"unOBJo",defaultMessage:"Get smarter responses, upload files, create images, and more by logging in."})}),g.jsx("div",{className:"mt-5 flex flex-row justify-start space-x-2",children:i?[f,h]:[h,f]}),l==="model-picker"&&g.jsx("p",{className:"text-token-text-secondary mt-5 text-xs",children:g.jsx(ve,{...fM.createWorkspaceTeamOrBusiness,values:{createWorkspaceLink:m=>g.jsx("span",{onClick:c,className:"text-token-text-secondary decoration-token-text-primary cursor-pointer underline",children:m})}})})]})]})}const fM=It({signUpCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},createWorkspaceTeamOrBusiness:{id:"components.noAuthUpsell.createWorkspaceTeamOrBusiness",defaultMessage:"<createWorkspaceLink>Create a workspace</createWorkspaceLink> for a team or business"}});function FUe(e,t){return Qe(e,"491279851")&&t&&Ho(t)}function N6e(){"use forget";const e=Re.c(2),t=pe();let n;return e[0]!==t?(n=Qe(t,"491279851"),e[0]=t,e[1]=n):n=e[1],n}function D6e(e){"use forget";const t=Re.c(3),n=N6e();if(!e)return!1;let r;return t[0]!==e||t[1]!==n?(r=n&&Ho(e),t[0]=e,t[1]=n,t[2]=r):r=t[2],r}function L6e(e,t){return t!=null&&Ho(t)&&Qe(e,"491279851")}const F6e=({isUnauthenticated:e,enabled:t=!0})=>ps({queryKey:["modelMessageCap",e],queryFn:()=>gre.safeGet("/conversation_limit",{authOption:tn.SendIfAvailable}),enabled:t});function jUe(e){return e.map(t=>typeof t=="string"?t:"").join("")}function j6e(e,t){const n=[];let r=0;for(let i=0;i<e.length;i++){const s=e[i];if(typeof s=="string")if(t!=null&&t<r+s.length){n.push({type:"text",text:s.slice(0,t-r)});break}else n.push({type:"text",text:s}),r+=s.length;else if(s.content_type===qn.ImageAssetPointer){const o=i>0?n[i-1]:null;o?.type==="images"?o.imageAssets.push(s):n.push({type:"images",imageAssets:[s]})}else s.content_type===qn.AudioTranscription&&n.push({type:"transcription",text:s.text})}return n}function BUe({isUserTurn:e,parts:t}){if(!e)return j6e(t);const n={text:[],images:[]};for(let i=0;i<t.length;i++){const s=t[i];typeof s=="string"?s.trim().length>0&&n.text.push({type:"text",text:s}):s.content_type===qn.AudioTranscription?n.text.push({type:"transcription",text:s.text}):s.content_type===qn.ImageAssetPointer&&n.images.push(s)}const r=[];return n.images.length>0&&r.unshift({type:"images",imageAssets:n.images}),r.push(...n.text.map(i=>({type:i.type,text:i.text}))),r}function B6e(e){const t=e&&new Date(e),n=t&&new Date(t);return n?`after ${n.getHours()%12||12}:${n.getMinutes()<10?"0":""}${n.getMinutes()} ${n.getHours()>=12?"PM":"AM"}`:"later"}const U6e="gpt-4",q6e="oai/apps/capExpiresAt";fn(()=>({serverThreadIds:new Set}));function z6e(){const e=N0(i=>i.isoDate),t=Date.now(),n=e&&new Date(e).getTime(),r=e&&n&&n<=t;return p.useEffect(()=>{r&&MV()},[r]),r?null:e?U6e:null}const N0=fn()($U(()=>({isoDate:""}),{name:q6e}));function G6e(e){N0.setState({isoDate:e})}function MV(){N0.setState({isoDate:""})}function H6e(e){if(e<60)return{type:"minute",value:e,text:e<2?"minute":`${e} minutes`};const t=Math.floor(e/60);if(t<24)return{type:"hour",value:t,text:t<2?"hour":`${t} hours`};const n=Math.floor(t/24);return n<7?{type:"day",value:n,text:n<2?"day":`${n} days`}:{type:"minute",value:e,text:e<2?"minute":`${e} minutes`}}const Vb={textarea:"","model-switcher":""};function V6e(){const e=N0(a=>a.isoDate),t=B6e(e),n=yt(),r=EV(r6e.isEnterpriseyPlan),{isUnauthenticated:i,isLoading:s}=Ph(),{data:o}=Rt(F6e({isUnauthenticated:i,enabled:!s}));return p.useMemo(()=>{const a=o?.message_cap??0,l=o?.message_cap_window??1,{text:c,type:u,value:d}=H6e(l),f=o?.message_disclaimer??Vb;if(!c||r)return{textareaDisclaimer:f.textarea,modelSwitcherDisclaimer:f["model-switcher"],modelSwitcherLimitShort:""};if(!o||!l||!a)return{textareaDisclaimer:Vb.textarea,modelSwitcherDisclaimer:Vb["model-switcher"],modelSwitcherLimitShort:""};let h=n.formatMessage($b.shortLimitMinutes,{numerator:a,denominator:d});switch(u){case"hour":h=n.formatMessage($b.shortLimitHours,{numerator:a,denominator:d});break;case"day":h=n.formatMessage($b.shortLimitDays,{numerator:a,denominator:d});break}return{textareaDisclaimer:f.textarea.replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${a}`).replaceAll("%DENOMINATOR%",c),modelSwitcherDisclaimer:f["model-switcher"].replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${a}`).replaceAll("%DENOMINATOR%",c),modelSwitcherLimitShort:h}},[o,t,n,r])}const $b=It({shortLimitMinutes:{id:"modelCapMessaging.shortLimitMinutes",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# minute} one {# minute} other {# minutes}}"},shortLimitHours:{id:"modelCapMessaging.shortLimitHours",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# hour} one {# hour} other {# hours}}"},shortLimitDays:{id:"modelCapMessaging.shortLimitDays",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# day} one {# day} other {# days}}"}});var co=(e=>(e.ALPHA="alpha",e.DATA_CAMPAIGNS="data_campaigns",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(co||{});const hM={code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALL·E 3"}},$6e=e=>Lz(e,({id:t})=>t.split(":").slice(0,1).join(":"));function UUe(){const e=ww(),{modelsData:t}=Ow({isGizmo:!!e}),n=z6e(),{modelSwitcherDisclaimer:r}=V6e();return p.useMemo(()=>{const i=[];if(!t)return i;const{categories:s,groups:o,models:a}=t;for(const l of s){const{defaultModel:c,categoryId:u,label:d}=l,f=a.get(c);if(f){const h=n===c,m=h?[]:W6e(l,a);i.push({categoryId:u,value:c,name:d,description:h?r:f.description,options:[Af(f,{name:"Default"}),...m]})}}for(const l of o){const{group:c,label:u,modelIds:d}=l,f=d[0],h=[];for(const m of d){const v=a.get(m);v&&!v.tags.includes(j4.HIDDEN)&&h.push(v)}if(c==="experiments"){const m=$6e(h),v=Object.entries(m).map(([_,y])=>{const b=_.split(":").slice(-1)[0];return{key:_,value:b,name:b,options:y.map(C=>{const{title:S}=C;return Af({...C,title:S.replace(b,"")})})}});i.push({categoryId:c,value:f,name:u,options:v})}else i.push({categoryId:c,value:f,name:u,options:h.map(m=>Af(m))})}return i},[t,n,r])}function Af(e,t={}){return{value:e.id,name:e.title,...t}}function W6e(e,t){const n=[],r=e.code_interpreter_model!=null&&t.get(e.code_interpreter_model);if(r){const s=hM.code_interpreter_model;n.push(Af(r,{name:s.name}))}const i=e.dalle_model!=null&&t.get(e.dalle_model);if(i){const s=hM.dalle_model;n.push(Af(i,{name:s.name}))}return n}function pM(e,t){let n=e;if(e===l6.AUTO){const s=t?.categories.filter(({defaultModel:o})=>o!==l6.AUTO);s?.length===1&&(n=s[0].defaultModel)}const r=t?.categories.find(({defaultModel:s,supportedModels:o})=>s===n||n&&o?.includes(n));if(r){const{categoryId:s}=r;return{selectedCategory:s,modelLabel:r.shortLabel,fullModelLabel:r.label}}const i=t?.groups.find(({modelIds:s})=>n&&s.includes(n));if(i){const{group:s,shortLabel:o,label:a}=i;return{selectedCategory:s,modelLabel:o,fullModelLabel:a}}return{selectedCategory:null,modelLabel:null,fullModelLabel:null}}function K6e(e,t,n,r){const i=t?e.formatMessage(bS.beta):n?e.formatMessage(bS.alpha):r;if(i)return g.jsx(Iw,{children:i})}function Y6e({category:e,modelSwitcherDenialsBySlug:t,currentGizmoId:n,currentModelId:r,testId:i,preferredModelId:s,disabledByAdmin:o=!1}){const a=yt(),{defaultModel:l,label:c,description:u,isBeta:d,isAlpha:f,modelBadge:h}=e,m=Ho(n??""),v=pe(),_=h6e(v,l),y=g.jsxs(pa,{value:l,currentModelId:r,modelSwitcherDenialsBySlug:t,secondary:u,deprecated:_,disabledByAdmin:o,isSelected:(!n||m)&&r===l,testId:i,preferredModelId:s,children:[c,K6e(a,d,f,h)]},l);return o?g.jsx(pi,{label:a.formatMessage(bS.disabledByAdmin),children:y}):y}function qUe({sections:e}){return g.jsx(g.Fragment,{children:e.map((t,n)=>g.jsxs(Le.Fragment,{children:[n!==0&&e[n-1]?.id!=="model-picker-title"?g.jsx(Bt.Separator,{}):null,t.content]},t.id))})}function RV(){const{session:e}=Sh(),{data:t}=Lj();return Pj(e?.account?.planType??Ke.FREE)||t&&jj(t)&&!!1}function zUe(e,t,n,r,i){const s=yt(),o=pe(),a=!_n(o),{data:l}=Lj(),c=t6e(),u=!a&&!!c&&i6e(c)&&l&&!jj(l)&&dh(o,"3709818006").get("enabled",!1),{session:d}=Sh(),f=d?.user,h=f&&mX(f),m=B5e(e),v=m?.id??null,_=Bde(e),y=D6e(_);let{modelsData:b}=Ow({isGizmo:!!_&&!y});const C=RV(),S=Nde(e),x=u6e({clientThreadId:e}),w=b?.modelPickerVersion===2,{gizmoModelsData:E}=Xoe({enabled:!!_}),T=!S,O=t.find(({categoryId:le})=>le===co.ALPHA),k=t.find(({categoryId:le})=>le===co.DATA_CAMPAIGNS),A=t.find(({categoryId:le})=>le===co.EXPERIMENTS),I=t.find(({categoryId:le})=>le===co.MAINLINE),[D,N]=p.useState(""),R=zr(()=>!0),F=[O,k,A,I].reduce((le,we)=>we?[...le,...we.options.map(Xe=>({...Xe,badge:we.categoryId}))]:le,[]),j=p.useMemo(()=>D?F.filter(le=>le.name.toLowerCase().includes(D.toLowerCase())):F,[F,D]);if(r&&_&&b&&E){const le=JSON.parse(JSON.stringify(b));le.categories=le.categories.filter(({defaultModel:we})=>E.editor.models_list_with_custom_actions.includes(we)),b=le}const H=!!O?.options.length,U=!!k?.options.length,M=!!A?.options.length,me=!!I?.options.length,de=ms(),P=p.useCallback(le=>{K.logEvent("Account Pay: Open Payment from Model Picker",{content:"gizmo-button"}),Yw(de,"Thread header dropdown",le)},[de]),Ce=()=>{vt.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),K.logEvent("Model Switcher Plus Upgrade Button Clicked"),a?Yu(o,{shouldOpenPaymentModalOnAuth:!0,callback:le=>{K.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:le})}}):P()},Se=()=>{K.logEventWithStatsig("Model Switcher Go Upgrade Button Clicked","chatgpt_model_switcher_go_upgrade_button_clicked"),a?Yu(o,{shouldOpenPaymentModalOnAuth:!0,callback:le=>{K.logSignUpButtonClicked({location:"Model switcher Go upsell",provider:le})}}):P()},ne=()=>{K.logEventWithStatsig("Model Switcher Team Upgrade Button Clicked","chatgpt_model_switcher_team_upgrade_button_clicked"),P(Kw)},ue=[],te=Qe(o,"3315017149");b?.title&&te&&ue.push({id:"model-picker-title",content:[g.jsx(Bt.Label,{className:"mb-0",children:b.title},"model-picker-title")]});const xe=g.jsxs(Bt.Label,{className:"flex items-center",children:[g.jsx(ve,{id:"coNCb7",defaultMessage:"Models"}),g.jsx(pi,{side:"right",className:"ms-1.5",delayDuration:120,label:g.jsx(ve,{id:"/vFWz/",defaultMessage:"Learn more"}),children:g.jsx("a",{href:"https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",target:"_blank",rel:"noreferrer",children:g.jsx(iM,{className:"h-3.5 w-3.5 shrink-0"})})})]},"models-section-header");if(a){const le={id:"modelSection",content:[]};le.content.push(g.jsx(P6e,{location:"model-switcher",statsig_login_event:"chatgpt_modelswitcher_login_button_clicked",statsig_signup_event:"chatgpt_modelswitcher_signup_button_clicked"},"noAuthUpsell")),ue.push(le)}else if(!C&&!_){const le={id:"modelSection",content:[]};gue(o)?le.content.push(g.jsx(pa,{value:"",currentModelId:v,onClick:Se,modelSwitcherDenialsBySlug:x,isUpgradeUpsell:!0,icon:D5e,secondary:g.jsx(ve,{id:"vm2Wqf",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:g.jsx(ve,{id:"/d/+gD",defaultMessage:"ChatGPT Go"})},"goUpgrade")):u?le.content.push(g.jsx(pa,{value:"",currentModelId:v,onClick:ne,modelSwitcherDenialsBySlug:x,isUpgradeUpsell:!0,icon:N5e,secondary:g.jsx(ve,{id:"w0dB7n",defaultMessage:"Power your business with AI"}),isSelected:!1,children:g.jsx(ve,{id:"K94mcH",defaultMessage:"ChatGPT Business"})},"teamUpgrade")):le.content.push(g.jsx(pa,{value:"",currentModelId:v,onClick:Ce,modelSwitcherDenialsBySlug:x,isUpgradeUpsell:!0,icon:sM,secondary:g.jsx(ve,{id:"bqTHri",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:g.jsx(ve,{id:"mzDzkX",defaultMessage:"ChatGPT Plus"})},"plusUpgrade")),le.content.push(g.jsx(pa,{value:Tf.AUTO,currentModelId:v,modelSwitcherDenialsBySlug:x,icon:L5e,secondary:g.jsx(ve,{id:"n96qML",defaultMessage:"Great for everyday tasks"}),isSelected:!_&&v===Tf.AUTO,children:g.jsx(ve,{id:"U9E7Rx",defaultMessage:"ChatGPT"})},Tf.AUTO)),ue.push(le)}else{const le={id:"modelSection",content:[]};b?.categories.length&&!w&&le.content.push(xe),pn(o)?.isGo()&&le.content.push(g.jsx(pa,{value:"",currentModelId:v,onClick:Ce,modelSwitcherDenialsBySlug:x,isUpgradeUpsell:!0,icon:sM,secondary:g.jsx(ve,{id:"bqTHri",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:g.jsx(ve,{id:"mzDzkX",defaultMessage:"ChatGPT Plus"})},"plusUpgrade"));const we=new Map;b?.categories.forEach(Y=>{const _e=g.jsx(Y6e,{category:Y,currentGizmoId:_,currentModelId:v,modelSwitcherDenialsBySlug:x,preferredModelId:i,testId:`model-switcher-${Y.defaultModel}`,disabledByAdmin:Y.disabledByAdmin},Y.categoryId);Y.subcategory?(we.has(Y.subcategory)||we.set(Y.subcategory,[]),we.get(Y.subcategory)?.push(_e)):le.content.push(_e)});const Xe=b?.categories?.some(Y=>Y.defaultModel==="gpt-5")??!1,ce=b?.categories?.some(Y=>Y.defaultModel==="gpt-5-pro")??!1;if(Xe&&!ce&&!pn(o)?.isPro()&&Qe(o,"3309244414")){const Y=g.jsx(Z6e,{}),_e=b?.categories?.find(re=>re.defaultModel==="gpt-5-thinking")?.subcategory;_e?we.get(_e)?.push(Y):le.content.push(Y)}w?we.forEach((Y,_e)=>{_e&&le.content.push(g.jsx(Bt.Separator,{},`${_e}-divider`));const re=b?.categories.find(B=>B.subcategory===_e&&B.defaultModel===m?.id),{fullModelLabel:W}=pM(re?.defaultModel??"",b);le.content.push(g.jsxs(Bt.Sub,{children:[g.jsx(Bt.SubMenuTrigger,{"data-testid":_e+"-submenu",trailing:g.jsx("div",{className:"truncate",children:W}),children:_e}),g.jsx(Bt.Portal,{children:g.jsx(Bt.SubContent,{children:Y})})]},_e))}):we.forEach((Y,_e)=>{const re=b?.categories.find(W=>W.subcategory===_e&&W.defaultModel===m?.id);le.content.push(g.jsxs(Bt.Sub,{children:[g.jsx(Bt.SubMenuTrigger,{"data-testid":_e?`${_e}-submenu`:void 0,trailing:re&&g.jsx("div",{className:"truncate",children:re.label}),children:_e}),g.jsx(Bt.Portal,{children:g.jsx(Bt.SubContent,{children:Y})})]},_e))});const J=b?.categories?.some(Y=>Y.defaultModel==="gpt-4o"||Y.defaultModel==="gpt-4.1")??!1;r&&_&&le.content.push(g.jsx(Bt.Label,{className:"flex flex-col items-start gap-1",children:g.jsxs("span",{className:"flex items-center",children:[g.jsx(ve,{id:"Y96ci5",defaultMessage:"Limited models for Custom Action GPTs"}),g.jsx(pi,{side:"right",className:"ms-1.5 cursor-pointer",delayDuration:0,label:Xe&&J?g.jsx(ve,{id:"CicYT3",defaultMessage:"GPTs with custom web actions can currently only use GPT-5, GPT-4o, and GPT-4.1."}):Xe?g.jsx(ve,{id:"VfAyqX",defaultMessage:"GPTs with custom web actions can currently only use GPT-5."}):g.jsx(ve,{id:"wDE3HX",defaultMessage:"GPTs with custom web actions can currently only use GPT-4o and GPT-4.1. If your GPT has no custom actions it can use any model."}),children:g.jsx(iM,{className:"h-4 w-4 shrink-0"})})]})})),ue.push(le)}const oe={id:"otherOptionsSection",content:[]},{selectedCategory:fe}=pM(v,b);return T&&(H||U||M||me?oe.content.push(g.jsx("div",{className:"px-4 py-2",children:g.jsx(gV,{inputClassName:"w-full",onKeyDown:le=>{le.stopPropagation()},onChange:le=>{N(le.target.value)},value:D})})):h&&oe.content.push(g.jsxs(g.Fragment,{children:[g.jsx(Bt.Shimmer,{size:"long"}),g.jsx(Bt.Shimmer,{size:"long"}),g.jsx(Bt.Shimmer,{size:"long"}),g.jsx(Bt.Shimmer,{size:"long"})]})),D?oe.content.push(g.jsxs("div",{className:"scrollbar-gutter-stable max-h-64 w-[min(320px,95vw)] overflow-y-scroll",children:[j.length===0&&g.jsx(Bt.Item,{className:"w-full",children:s.formatMessage({id:"model-switcher.no-results",defaultMessage:"No results found"})}),j.map(le=>{const{value:we}=le;return"options"in le?g.jsx(hu,{currentModel:m,isSelected:v?.startsWith(we),option:le,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},we):g.jsxs(pa,{currentModelId:v,isSelected:v===we,value:we,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i,children:[le.name,le.badge&&g.jsx(Iw,{children:le.badge})]},we)})]})):(H&&oe.content.push(g.jsx(hu,{isSelected:fe===co.ALPHA,currentModel:m,option:O,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},O.value)),U&&oe.content.push(g.jsx(hu,{isSelected:fe===co.DATA_CAMPAIGNS,currentModel:m,option:k,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},k.value)),M&&oe.content.push(g.jsx(hu,{currentModel:m,isSelected:fe===co.EXPERIMENTS,option:A,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},A.value)),me&&oe.content.push(g.jsx(hu,{isSelected:fe===co.MAINLINE,currentModel:m,option:I,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},I.value)))),oe.content.length&&R&&ue.push(oe),n&&ue.push({id:cM,content:[g.jsx(k6e,{},cM)]}),ue}const Z6e=()=>{const e=ms(),t=pe(),n=Qe(t,"3315017149");let r=g.jsx(ve,{id:"4myKt+",defaultMessage:"GPT-5 Pro"});return n&&(r=g.jsx(ve,{id:"fCVj6z",defaultMessage:"Pro"})),g.jsx(Bt.Item,{disabled:!0,label:r,secondary:g.jsx(ve,{id:"BsApen",defaultMessage:"Research-grade intelligence"}),trailing:g.jsx(un,{color:"secondary",size:"small",onClick:()=>{K.logEventWithStatsig("Model Switcher Pro Upgrade Button Clicked","chatgpt_model_switcher_pro_upgrade_button_clicked"),K.logEvent("Account Pay: Open Payment from Model Picker",{content:"gizmo-button"}),Yw(e,"Thread header dropdown")},children:g.jsx(ve,{id:"aJndhk",defaultMessage:"Upgrade"})})})},bS=It({alpha:{id:"o5FsPB",defaultMessage:"Alpha"},beta:{id:"XZwFET",defaultMessage:"Beta"},gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL·E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL·E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL·E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"},disabledByAdmin:{id:"XoQ6cH",defaultMessage:"Disabled by Admin"}});function J6e(){const e=pe(),t=k5e(),{data:n,isSuccess:r,isLoading:i}=pj(),{userIsInSearchHoldoutWithWebDisabled:s}=I5e(),o=RV(),a=Qe(e,"1627380539"),{showModelsInPlusMenu:l}=R5e();return{systemHints:p.useMemo(()=>{if(i)return;if(!n||!r)return[];const u=pn(e)?.planType;return n.sort(Q6e(u)).filter(d=>!(d.systemHint===Ae.Think&&o&&(!a||l)||d.systemHint===Ae.Search&&s||d.systemHint===Ae.Slurm&&!t))},[n,i,r,e,s,t,o,a,l]),isLoading:i}}function Q6e(e){const t=X6e(e);return(n,r)=>{const i=t.indexOf(n.systemHint),s=t.indexOf(r.systemHint),o=i===-1?Number.MAX_SAFE_INTEGER:i,a=s===-1?Number.MAX_SAFE_INTEGER:s;return o===a?0:o>a?1:-1}}function X6e(e){switch(e){case void 0:case Ke.FREE:case Ke.EDUCATION_CBP:case Ke.DEPRECATED_EDU:return[Ae.Tatertot,Ae.PictureV2,Ae.Picture,Ae.Think,Ae.Agent,Ae.Research,Ae.ContextualAnswers,Ae.Slurm,Ae.Search,Ae.Canvas,Ae.Video];case Ke.GO:case Ke.PLUS:case Ke.PRO:return[Ae.Agent,Ae.Research,Ae.PictureV2,Ae.Picture,Ae.Think,Ae.ContextualAnswers,Ae.Slurm,Ae.Tatertot,Ae.Search,Ae.Canvas,Ae.Video];case Ke.ENTERPRISE_CBP:case Ke.SELF_SERVE_BUSINESS:case Ke.QUORUM:case Ke.DEPRECATED_ENTERPRISE:return[Ae.Agent,Ae.ContextualAnswers,Ae.Slurm,Ae.Research,Ae.Think,Ae.PictureV2,Ae.Picture,Ae.Search,Ae.Canvas,Ae.Video]}}let eSe=0;const PV=p.createContext(null);function tSe({children:e}){const[t]=p.useState(()=>({}));return p.createElement(PV.Provider,{value:t},e)}function Qh(e){if(e===void 0)return Qh;const t=typeof e=="function"?e:()=>e;let n;const r=p.createContext(null);return class{static storeSignalMap=new WeakMap;static useState(s=nSe,o){return X9(this.useStore(),s,o)}static useStore(){return this.useStoreWithInit()}static useStoreSignal(){const s=this.useStore();if(this.storeSignalMap.has(s))return this.storeSignalMap.get(s);const o=jQ(s);return this.storeSignalMap.set(s,o),o}static useStoreWithInit(...s){const o=p.useContext(r),a=p.useContext(PV);if(o)return o;const l=this.name??"Store";if(!a)throw new Error(`No StoreScope found. Must use ${l} within a <StoreScopeProvider> or <${l}.Provider>.`);if(n||(n=`${l}:${eSe++}`),n in a)return a[n];if(typeof t=="function"&&t.length>0&&s.length===0)throw new Error(`Not initialized. First call ${l}.useStoreWithInit(value) or <${l}.Provider store={() => new ${l}(value)}>`);return a[n]=new this(...s)}static Provider({store:s,children:o}){const[a]=p.useState(s);return p.createElement(r.Provider,{value:a},o)}constructor(s){const o=t(s);Object.assign(this,Lo(typeof o=="function"?o:()=>o))}}}function nSe(e){return e}const Bs=e=>{const t={turn_index:e.turnIndex?.toString(),thread_id:e.threadId,conversation_id:e.clientThreadId?Pi(e.clientThreadId):void 0,message_id:e?.messageId};return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0))};function rSe(e,t=1e3,n=100){document.activeElement!==e&&e.focus();const r=Date.now(),i=setInterval(()=>{document.activeElement!==e&&e.focus(),Date.now()-r>=t&&clearInterval(i)},n)}class $a extends Qh()(({initialHint:t=null,locked:n=!1})=>({locked:n,activeSystemHintType:t,activeSystemHintTrigger:void 0})){getActiveSystemHintType=()=>this.getState().activeSystemHintType;setActiveSystemHint(t,n){const{locked:r,activeSystemHintType:i}=this.getState();r&&n?.locked===void 0||n?.ifPrevSystemHint!==void 0&&n.ifPrevSystemHint!==i||(oSe(i,t,n?.analyticsMetadata,n?.triggerSource),this.setState({locked:n?.locked??r,activeSystemHintType:t,activeSystemHintTrigger:t?n?.triggerSource:void 0}))}getPersistedSystemHintTrigger=t=>{if(!this.getState().locked&&this.getState().activeSystemHintType===t)return this.getState().activeSystemHintTrigger}}const HUe=()=>$a.useState(e=>e.activeSystemHintType);function VUe(){const e=$a.useStoreSignal();return p.useMemo(()=>fi(()=>e().activeSystemHintType),[e])}function iSe(e,t,n,r){e.setActiveSystemHint(n,r),Gj()&&n&&rSe(nh(t).dom)}const sSe=()=>{"use forget";const e=Re.c(3),t=$a.useStore(),n=u1e();let r;return e[0]!==n||e[1]!==t?(r=(i,s)=>iSe(t,n,i,s),e[0]=n,e[1]=t,e[2]=r):r=e[2],r};function mM({persistSearchMode:e,persistTatertotMode:t,persistAgentMode:n,forcedSystemHintType:r,completionMetadataHints:i,systemHintsFromSearchParams:s}){return r||(s.length>0?s[0]:e?Ae.Search:t?Ae.Tatertot:n?Ae.Agent:i?i[0]:null)}function oSe(e,t,n,r){t?(oI(t,oS.Enable,Bs(n??{})),t===Ae.Agent&&V.addAction("agent.hint.enabled",{client_thread_id:String(n?.clientThreadId??"")})):e&&(oI(e,oS.Disable,Bs(n??{})),e===Ae.Agent&&V.addAction("agent.hint.disabled",{client_thread_id:String(n?.clientThreadId??"")})),t===Ae.Search?K.logEventWithStatsig("Search Mode Engaged","search_mode_engaged",{...Bs(n??{}),triggerSource:r}):t==null&&e===Ae.Search&&K.logEventWithStatsig("Search Mode Disabled","search_mode_disabled",Bs(n??{}))}function $Ue(e){"use forget";const t=Re.c(49),{children:n,clientThreadId:r,forcedSystemHintType:i}=e,s=pe(),[o]=ig(),{systemHints:a}=J6e(),l=yV(r);let c;t[0]!==l?(c=U5e(l,GF.Search),t[0]=l,t[1]=c):c=t[1];const u=c,d=zo(r,Ee.getLastMessageSystemHints);let f,h;if(t[2]!==s){const de=dh(s,"269676899",{disableExposureLog:!0});f=de.get("clear_all",!1),h=de.get("skip_search",!1),t[2]=s,t[3]=f,t[4]=h}else f=t[3],h=t[4];const v=f&&!h;let _;t[5]!==d||t[6]!==u||t[7]!==v?(_=d.includes(Ae.Search)&&u&&!v,t[5]=d,t[6]=u,t[7]=v,t[8]=_):_=t[8];const y=_,b=vve();let C;t[9]!==d||t[10]!==b?(C=b&&d.includes(Ae.Tatertot),t[9]=d,t[10]=b,t[11]=C):C=t[11];const S=C,x=K1e();let w;t[12]!==x||t[13]!==d?(w=x&&d.includes(Ae.Agent),t[12]=x,t[13]=d,t[14]=w):w=t[14];const E=w;let T,O;if(t[15]!==d||t[16]!==a){let de;t[18]!==a?(de=P=>a?.find(Ce=>Ce.systemHint===P)?.persistBetweenMessages,t[18]=a,t[19]=de):de=t[19],O=d.find(de),t[15]=d,t[16]=a,t[17]=O}else O=t[17];T=O;const k=T;let A;t[20]!==r||t[21]!==s?(A=()=>iG(s)()[r],t[20]=r,t[21]=s,t[22]=A):A=t[22];const I=zr(A);let D;t[23]!==I||t[24]!==i||t[25]!==E||t[26]!==y||t[27]!==S||t[28]!==o?(D=()=>{const de=sS(o),P=mM({persistSearchMode:y,persistTatertotMode:S,persistAgentMode:E,forcedSystemHintType:i,completionMetadataHints:I,systemHintsFromSearchParams:de});return new $a({initialHint:P,locked:i!=null})},t[23]=I,t[24]=i,t[25]=E,t[26]=y,t[27]=S,t[28]=o,t[29]=D):D=t[29];const[N]=p.useState(D),R=p.useRef(r);let F,j;t[30]!==r||t[31]!==I||t[32]!==i||t[33]!==E||t[34]!==y||t[35]!==S||t[36]!==N||t[37]!==o||t[38]!==k?(F=()=>{if(R.current!==r){N.setActiveSystemHint(null);const P=sS(o),Ce=mM({persistSearchMode:y,persistTatertotMode:S,persistAgentMode:E,forcedSystemHintType:i,completionMetadataHints:I,systemHintsFromSearchParams:P});N.setActiveSystemHint(Ce,{locked:i!=null}),R.current=r;return}const de=N.getActiveSystemHintType();y&&de!==Ae.Search?N.setActiveSystemHint(Ae.Search,{analyticsMetadata:{clientThreadId:r}}):S&&de!==Ae.Tatertot?N.setActiveSystemHint(Ae.Tatertot,{analyticsMetadata:{clientThreadId:r}}):k&&N.setActiveSystemHint(k,{analyticsMetadata:{clientThreadId:r}})},j=[r,I,i,y,S,E,N,k,o],t[30]=r,t[31]=I,t[32]=i,t[33]=E,t[34]=y,t[35]=S,t[36]=N,t[37]=o,t[38]=k,t[39]=F,t[40]=j):(F=t[39],j=t[40]),p.useEffect(F,j);const H=p.useRef(i);let U,M;t[41]!==i||t[42]!==N||t[43]!==a?(U=()=>{if(a==null||a.length===0){H.current=i;return}const de=i!=null?a.find(P=>P.systemHint===i):void 0;i!=null&&de!=null?N.setActiveSystemHint(i,{locked:!0}):N.getState().locked&&N.setActiveSystemHint(null,{locked:!1}),H.current=i},M=[a,N,i],t[41]=i,t[42]=N,t[43]=a,t[44]=U,t[45]=M):(U=t[44],M=t[45]),p.useEffect(U,M);let me;return t[46]!==n||t[47]!==N?(me=g.jsx($a.Provider,{store:N,children:n}),t[46]=n,t[47]=N,t[48]=me):me=t[48],me}function aSe(e){"use forget";const t=Re.c(3),{children:n}=e,[r]=p.useState(lSe);let i;return t[0]!==n||t[1]!==r?(i=g.jsx($a.Provider,{store:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}function lSe(){return new $a({initialHint:null,locked:!0})}class cSe{#e;#t=t=>(this.#e||(this.#e=ye(()=>import("./cs7toih8jegb7teq.js").then(n=>n.aA),[]).then(n=>n?.datadogLogs)),this.#e.then(n=>n&&t(n)));init(t){this.#t(n=>n.init(t))}setGlobalContextProperty(t,n){this.#t(r=>r.setGlobalContextProperty(t,n))}setUser(t){this.#t(n=>n.setUser(t))}get logger(){return{setHandler:t=>{this.#t(n=>n.logger.setHandler(t))}}}createLogger(t,n){return new uSe(this.#t,t,n)}}class uSe{#e;constructor(t,n,r){this.#e=t(i=>i.createLogger(n,r))}#t=t=>this.#e.then(n=>n&&t(n));ok(t,n,r){this.#t(i=>i.ok(t,n,r))}debug(t,n,r){this.#t(i=>i.debug(t,n,r))}info(t,n,r){this.#t(i=>i.info(t,n,r))}notice(t,n,r){this.#t(i=>i.notice(t,n,r))}warn(t,n,r){this.#t(i=>i.warn(t,n,r))}error(t,n,r){this.#t(i=>i.error(t,n,r))}critical(t,n,r){this.#t(i=>i.critical(t,n,r))}alert(t,n,r){this.#t(i=>i.alert(t,n,r))}emerg(t,n,r){this.#t(i=>i.emerg(t,n,r))}}const eu=new cSe,dSe="datadoghq.com",fSe="pub1f79f8ac903a5872ae5f53026d20a77c";class hSe{initialize(){const t=og?$n?.getTelemetryConfig?.():void 0,n=t!==void 0?t.datadogService:DD();eu.init({clientToken:fSe,site:dSe,service:n,env:"prod",version:"bdc5cffb95039aff27cce085cc9faed14bfcfc29",sessionSampleRate:100,forwardErrorsToLogs:!1,beforeSend:r=>(r.view.url=mf(r.view.url),r.http&&r.http.url&&(r.http.url=mf(r.http.url)),!0)}),eu.setGlobalContextProperty("track","stable"),eu.setGlobalContextProperty("is_electron_desktop_app",t!==void 0),eu.logger.setHandler(["http"])}setUser(t,n){const r={user_id:t.id,account_plan_type:n?.planType??"none",workspace_id:n?.id};eu.setUser(r)}createLogger(t,n="info",r="http",i){return eu.createLogger(t,{level:n,handler:r,context:i})}}const CS=new hSe;function NV(e){const t=new URL(window.location.href);if(!t.searchParams.has(e))return;t.searchParams.delete(e);const n=t.pathname+t.search+t.hash;history.replaceState(null,"",n)}let gM=!1;if(ND()){const e=function(){return window.location.pathname!=="/search"?void 0:{sessionSampleRate:100,traceSampleRate:100}}();V.initialize(e)}function pSe(e,t){if(t){const n=$e.getCookie(je.Workspace),r=n===So?void 0:n,i=t.structure===Gr.WORKSPACE?t.id:void 0;r!==i&&V.addAction("bootstrap_client.account_cookie_mismatch",{accountCookieValue:n,lightAccount:t})}e.fetchQuery(Ro()).then(n=>{const r=zg(n),i=$e.getCookie(je.Workspace),s=Fie(r,n.accountItems);i!==s&&m6(s),r&&t&&(r.id!==t.id||r.planType!==t.planType||r.isDelinquent!==t.isDelinquent||r.gracePeriodId!==t.gracePeriodId)&&Z4()}).catch(n=>{if(!(n instanceof mt&&n.isClientError()))return V.addAction("bootstrap_client.fetchAccounts.error",{error:n}),null})}function mSe(e,t,n){if(gM)return;gM=!0;const r=mi(e);if(r.checkGate("4011688770")&&ye(()=>import("./ieljay4ufw8jyjph.js"),__vite__mapDeps([18,1])).then(i=>i?.initOpenTelemetry()),r.on("gate_evaluation",({gate:i})=>{V.addFeatureFlagEvaluation(i.name,i.value)}),NV("refresh_account"),window.addEventListener("vite:preloadError",i=>{i.preventDefault(),V.addAction("vite:preloadError",{payload:i.payload})}),Fo(),Noe(),V.addTiming("chatgpt.web.bootstrapClient"),V.addAction("bootstrap_client.start"),window.__oai_SSR_HTML?V.addFirstTiming("composer.html",window.__oai_SSR_HTML):window.__oai_logHTML=()=>{V.addFirstTiming("composer.html")},window.__oai_SSR_TTI?V.addFirstTiming("composer.visible",window.__oai_SSR_TTI):window.__oai_logTTI=()=>{V.addFirstTiming("composer.visible")},ND()&&CS.initialize(),t.authStatus===gr.LoggedIn){const i=t.user,s=t.session?.account;V.addAction("bootstrap_client.has_session_user"),pSe(n,s),lre(i,s,t.intercomHash),V.setUser(i,s),CS.setUser(i,s),K.initialize({userInfo:{currentAccount:s??null,sessionUser:i}}),V.addAction("bootstrap_client.success.is_authenticated",{hasCurrentAccount:!0})}else V.addAction("bootstrap_client.does_not_have_session_user"),K.initialize(),V.addAction("bootstrap_client.success.is_not_authenticated");fetch(`${ut}/edge`).catch(()=>{})}function gSe({root:e,autoFocus:t=!1}){if(!e)return null;const n=["a[href]:not([data-skip-to-content])","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(", "),r=Array.from(e.querySelectorAll(n));let i=null;for(const s of r)if(s.offsetWidth>0&&s.offsetHeight>0){i=s;break}return t&&i?.focus(),i}const vSe=()=>{const e=pe();return{country:dn(e).userCountry}};function vM(e){return e!=null&&e in QY}const Wb=60*60*24*30*6,DV=e=>{$e.setBooleanCookie(je.ConsentAnalytics,e.consent_analytics,{maxAge:Wb,domain:hv}),$e.setBooleanCookie(je.ConsentMarketing,e.consent_marketing,{maxAge:Wb,domain:hv}),$e.setBooleanCookie(je.AllowNonessential,e.consent_analytics&&e.consent_marketing,{maxAge:Wb,domain:hv}),V.addAction("update-cookie-consent.cookie.success")};async function LV(e){if(DV(e),dn(Lt()).authStatus===gr.LoggedIn)try{await he.safePost("/user_granular_consent",{authOption:tn.Required,requestBody:{granular_consent:{analytics:e.consent_analytics,marketing:e.consent_marketing}}}),V.addAction("update-cookie-consent.backend.success")}catch(n){V.addError(n)}}const iE=ps({queryKey:["cookie-consent"],queryFn:async()=>{const{isUserInPioneerHR:e,userCountry:t}=dn(gs(Lt()));if(!e){const s=$e.getBooleanCookie(je.ConsentAnalytics),o=$e.getBooleanCookie(je.ConsentMarketing);return s!=null||o!=null?{consent_analytics:s??!1,consent_marketing:o??!1,is_consent_required:!0}:(V.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1})}if(t!=null&&!vM(t))return V.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1};if(vM(t)&&!e)return V.addAction("get-cookie-consent.use-anonymous-default.consent-required-essential-only",{country:t}),{consent_analytics:!1,consent_marketing:!1,is_consent_required:!0};let n;try{const s=await he.safeGet("/user_granular_consent",{authOption:tn.Required});n={consent_analytics:s.granular_consent?.analytics??null,consent_marketing:s.granular_consent?.marketing??null,is_consent_required:s.is_consent_required},V.addAction("get-cookie-consent.use-authenticated",{country:t})}catch(s){s instanceof Mg||V.addError(s,{country:t}),n={consent_analytics:null,consent_marketing:null,is_consent_required:!0}}const r=$e.getBooleanCookie(je.ConsentAnalytics),i=$e.getBooleanCookie(je.ConsentMarketing);return n.consent_analytics!=null&&n.consent_marketing!=null&&(r!==n.consent_analytics||i!==n.consent_marketing)?(DV({consent_analytics:n.consent_analytics,consent_marketing:n.consent_marketing}),V.addAction("get-cookie-consent.update-cookie-consent-cookie",{country:t})):r!==void 0&&i!==void 0&&n.is_consent_required&&n.consent_analytics==null&&n.consent_marketing==null&&(LV({consent_analytics:r??!1,consent_marketing:i??!1}),V.addAction("get-cookie-consent.update-cookie-consent-backend",{country:t}),n={...n,consent_analytics:r??!1,consent_marketing:i??!1}),n}}),WUe=e=>{const{country:t}=vSe(),n=yr();return Kn({...e,mutationFn:r=>LV(r),onSuccess:(r,i,s)=>{e?.onSuccess?.(r,i,s),n.setQueryData(iE.queryKey,o=>{if(!o){V.addError(new Error("Cookie consent query data is undefined during mutation"));return}return{...o,consent_analytics:i.consent_analytics,consent_marketing:i.consent_marketing}})},onError:(r,i,s)=>{e?.onError?.(r,i,s),V.addError(r,{country:t})}})};class Kb extends Qh()(()=>({cookieConsentBannerClosed:!1,cookieConsentBannerIgnored:$e.getBooleanCookie(je.CookieBannerIgnored)??!1,onCloseSideEffect:()=>{},manuallySetVisibility:!1})){closeCookieConsentBanner=t=>{const n={cookieConsentBannerClosed:!0,...t?{cookieConsentBannerIgnored:!0}:{}};this.setState(n),t&&$e.setBooleanCookie(je.CookieBannerIgnored,!0)};setOnCloseSideEffect=t=>{this.setState(n=>({...n,onCloseSideEffect:t}))};setManualVisibility=t=>{this.setState(n=>({...n,manuallySetVisibility:t}))};static useWasClosed=()=>this.useState(t=>t.cookieConsentBannerClosed);static useWasIgnored=()=>this.useState(t=>t.cookieConsentBannerIgnored);static useOnCloseSideEffect=()=>this.useState(t=>t.onCloseSideEffect);static useManuallySetVisibility=()=>this.useState(t=>t.manuallySetVisibility)}const KUe=()=>{const e=Kb.useStore(),{isUnauthenticated:t,isLoading:n}=Ph(),{data:r,isLoading:i}=Rt(iE),s=Kb.useWasClosed(),o=Kb.useWasIgnored(),a=$e.getCookie(je.CookieBannerShownPath),l=a===window.location.pathname,c=n||i;return{shouldShowCookieBanner:(!c&&t&&!(s||o)&&(!a||l)&&r?.is_consent_required&&r?.consent_analytics==null&&r?.consent_marketing==null)??!1,isCookieConsentBannerLoading:c,closeCookieConsentBanner:e.closeCookieConsentBanner,ignoreCookieConsentBanner:()=>e.closeCookieConsentBanner(!0)}};var pu=(e=>(e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e))(pu||{});function YUe(e){switch(e){case"gclid":return $e.getMarketingCookie(je.Gclid);case"fbclid":return $e.getMarketingCookie(je.Fbclid);case"rdt_cid":return $e.getMarketingCookie(je.Rdtcid);case"ttclid":return $e.getMarketingCookie(je.Tiktokclid);case"li_fat_id":return $e.getMarketingCookie(je.Liclid)}}function _Se(e){switch(e){case"gclid":return je.Gclid;case"fbclid":return je.Fbclid;case"rdt_cid":return je.Rdtcid;case"ttclid":return je.Tiktokclid;case"li_fat_id":return je.Liclid}}function ySe({searchParams:e,clidLifetimeSeconds:t=24*60*60,eligibleExplorers:n}){for(const r of n){if(e.get(r)==null)continue;const i=_Se(r);$e.setMarketingCookie(i,e.get(r),{path:"/",maxAge:t})}}let FV=!1;const bSe=e=>{const t=dn(e);if(!t.eligibleMarketing)return;const n=new URLSearchParams(window.location.search);ySe({searchParams:n,eligibleExplorers:[...t.eligibleMarketing.isUserEligibleForPioneer?[pu.Gclid]:[],...t.eligibleMarketing.isUserEligibleForMaverick?[pu.Fbclid]:[],...t.eligibleMarketing.isUserEligibleForTrailBlazer?[pu.Rdtcid]:[],...t.eligibleMarketing.isUserEligibleForStratos?[pu.Tiktokclid]:[],...t.eligibleMarketing.isUserEligibleForSeeker?[pu.Liclid]:[]]}),FV=!0},CSe=(e,t)=>{const n=dn(e).userCountry;new VS(t,iE).subscribe(i=>{if(i.isPending)return;const s=i.data;if(!s)return;(s.is_consent_required?s.consent_marketing:!0)?($e.setAllowMarketingCookies_CLIENT_ONLY(!0),V.addAction("marketing-tracking.non-essential-cookies.allowed",{country:n}),FV||(bSe(e),V.addAction("marketing-tracking.non-essential-cookies.marketing-tracking-functions-run",{country:n}))):($e.setAllowMarketingCookies_CLIENT_ONLY(!1),V.addAction("marketing-tracking.non-essential-cookies.disallowed",{country:n}))})};async function SSe(){if(!("container"in document.documentElement.style)){performance.mark("polyfill.containerQuery.start");try{await ye(()=>import("./ju44vdme8sg2h8v1.js"),[])}catch(e){return V.addError(new Error("Error loading polyfill: containerQuery",{cause:e})),Promise.reject(e)}performance.mark("polyfill.containerQuery.end"),performance.measure("polyfill.containerQuery","polyfill.containerQuery.start","polyfill.containerQuery.end")}}async function wSe(){if(!Array.prototype.findLast)try{await ye(()=>import("./bymwoxvfcvixl09m.js"),__vite__mapDeps([19,1]))}catch(e){return V.addError(new Error("Error loading polyfill: findLast",{cause:e})),Promise.reject(e)}}async function ESe(){if(!CSS.supports("animation-timeline: --works")||window.ViewTimeline===void 0){performance.mark("polyfill.scrollTimeline.start");try{await ye(()=>import("./mv7t0tsdviudgwx9.js"),[])}catch(e){return V.addAction("Error loading polyfill: scrollTimeline",{cause:e}),Promise.reject(e)}performance.mark("polyfill.scrollTimeline.end"),performance.measure("polyfill.scrollTimeline","polyfill.scrollTimeline.start","polyfill.scrollTimeline.end")}}var _M={},yM={},Kd,bM;function Bn(){if(bM)return Kd;bM=1;var e=function(t){return t&&t.Math===Math&&t};return Kd=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof _u=="object"&&_u)||e(typeof Kd=="object"&&Kd)||function(){return this}()||Function("return this")(),Kd}var Yb={},Zb,CM;function Qs(){return CM||(CM=1,Zb=function(e){try{return!!e()}catch{return!0}}),Zb}var Jb,SM;function Vo(){if(SM)return Jb;SM=1;var e=Qs();return Jb=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Jb}var Qb,wM;function D0(){if(wM)return Qb;wM=1;var e=Qs();return Qb=!e(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Qb}var Xb,EM;function Xs(){if(EM)return Xb;EM=1;var e=D0(),t=Function.prototype.call;return Xb=e?t.bind(t):function(){return t.apply(t,arguments)},Xb}var eC={},xM;function xSe(){if(xM)return eC;xM=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return eC.f=n?function(i){var s=t(this,i);return!!s&&s.enumerable}:e,eC}var tC,kM;function jV(){return kM||(kM=1,tC=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),tC}var nC,TM;function vi(){if(TM)return nC;TM=1;var e=D0(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return nC=e?r:function(i){return function(){return n.apply(i,arguments)}},nC}var rC,OM;function L0(){if(OM)return rC;OM=1;var e=vi(),t=e({}.toString),n=e("".slice);return rC=function(r){return n(t(r),8,-1)},rC}var iC,AM;function kSe(){if(AM)return iC;AM=1;var e=vi(),t=Qs(),n=L0(),r=Object,i=e("".split);return iC=t(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return n(s)==="String"?i(s,""):r(s)}:r,iC}var sC,IM;function F0(){return IM||(IM=1,sC=function(e){return e==null}),sC}var oC,MM;function sE(){if(MM)return oC;MM=1;var e=F0(),t=TypeError;return oC=function(n){if(e(n))throw new t("Can't call method on "+n);return n},oC}var aC,RM;function oE(){if(RM)return aC;RM=1;var e=kSe(),t=sE();return aC=function(n){return e(t(n))},aC}var lC,PM;function dr(){if(PM)return lC;PM=1;var e=typeof document=="object"&&document.all;return lC=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},lC}var cC,NM;function $o(){if(NM)return cC;NM=1;var e=dr();return cC=function(t){return typeof t=="object"?t!==null:e(t)},cC}var uC,DM;function kc(){if(DM)return uC;DM=1;var e=Bn(),t=dr(),n=function(r){return t(r)?r:void 0};return uC=function(r,i){return arguments.length<2?n(e[r]):e[r]&&e[r][i]},uC}var dC,LM;function aE(){if(LM)return dC;LM=1;var e=vi();return dC=e({}.isPrototypeOf),dC}var fC,FM;function Xh(){if(FM)return fC;FM=1;var e=Bn(),t=e.navigator,n=t&&t.userAgent;return fC=n?String(n):"",fC}var hC,jM;function BV(){if(jM)return hC;jM=1;var e=Bn(),t=Xh(),n=e.process,r=e.Deno,i=n&&n.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&t&&(o=t.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=t.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),hC=a,hC}var pC,BM;function UV(){if(BM)return pC;BM=1;var e=BV(),t=Qs(),n=Bn(),r=n.String;return pC=!!Object.getOwnPropertySymbols&&!t(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&e&&e<41}),pC}var mC,UM;function qV(){if(UM)return mC;UM=1;var e=UV();return mC=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",mC}var gC,qM;function zV(){if(qM)return gC;qM=1;var e=kc(),t=dr(),n=aE(),r=qV(),i=Object;return gC=r?function(s){return typeof s=="symbol"}:function(s){var o=e("Symbol");return t(o)&&n(o.prototype,i(s))},gC}var vC,zM;function j0(){if(zM)return vC;zM=1;var e=String;return vC=function(t){try{return e(t)}catch{return"Object"}},vC}var _C,GM;function il(){if(GM)return _C;GM=1;var e=dr(),t=j0(),n=TypeError;return _C=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")},_C}var yC,HM;function lE(){if(HM)return yC;HM=1;var e=il(),t=F0();return yC=function(n,r){var i=n[r];return t(i)?void 0:e(i)},yC}var bC,VM;function TSe(){if(VM)return bC;VM=1;var e=Xs(),t=dr(),n=$o(),r=TypeError;return bC=function(i,s){var o,a;if(s==="string"&&t(o=i.toString)&&!n(a=e(o,i))||t(o=i.valueOf)&&!n(a=e(o,i))||s!=="string"&&t(o=i.toString)&&!n(a=e(o,i)))return a;throw new r("Can't convert object to primitive value")},bC}var CC={exports:{}},SC,$M;function ep(){return $M||($M=1,SC=!1),SC}var wC,WM;function cE(){if(WM)return wC;WM=1;var e=Bn(),t=Object.defineProperty;return wC=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch{e[n]=r}return r},wC}var KM;function uE(){if(KM)return CC.exports;KM=1;var e=ep(),t=Bn(),n=cE(),r="__core-js_shared__",i=CC.exports=t[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.45.1",mode:e?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),CC.exports}var EC,YM;function GV(){if(YM)return EC;YM=1;var e=uE();return EC=function(t,n){return e[t]||(e[t]=n||{})},EC}var xC,ZM;function OSe(){if(ZM)return xC;ZM=1;var e=sE(),t=Object;return xC=function(n){return t(e(n))},xC}var kC,JM;function Wo(){if(JM)return kC;JM=1;var e=vi(),t=OSe(),n=e({}.hasOwnProperty);return kC=Object.hasOwn||function(i,s){return n(t(i),s)},kC}var TC,QM;function HV(){if(QM)return TC;QM=1;var e=vi(),t=0,n=Math.random(),r=e(1.1.toString);return TC=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++t+n,36)},TC}var OC,XM;function eo(){if(XM)return OC;XM=1;var e=Bn(),t=GV(),n=Wo(),r=HV(),i=UV(),s=qV(),o=e.Symbol,a=t("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return OC=function(c){return n(a,c)||(a[c]=i&&n(o,c)?o[c]:l("Symbol."+c)),a[c]},OC}var AC,eR;function ASe(){if(eR)return AC;eR=1;var e=Xs(),t=$o(),n=zV(),r=lE(),i=TSe(),s=eo(),o=TypeError,a=s("toPrimitive");return AC=function(l,c){if(!t(l)||n(l))return l;var u=r(l,a),d;if(u){if(c===void 0&&(c="default"),d=e(u,l,c),!t(d)||n(d))return d;throw new o("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},AC}var IC,tR;function VV(){if(tR)return IC;tR=1;var e=ASe(),t=zV();return IC=function(n){var r=e(n,"string");return t(r)?r:r+""},IC}var MC,nR;function $V(){if(nR)return MC;nR=1;var e=Bn(),t=$o(),n=e.document,r=t(n)&&t(n.createElement);return MC=function(i){return r?n.createElement(i):{}},MC}var RC,rR;function WV(){if(rR)return RC;rR=1;var e=Vo(),t=Qs(),n=$V();return RC=!e&&!t(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),RC}var iR;function KV(){if(iR)return Yb;iR=1;var e=Vo(),t=Xs(),n=xSe(),r=jV(),i=oE(),s=VV(),o=Wo(),a=WV(),l=Object.getOwnPropertyDescriptor;return Yb.f=e?l:function(u,d){if(u=i(u),d=s(d),a)try{return l(u,d)}catch{}if(o(u,d))return r(!t(n.f,u,d),u[d])},Yb}var PC={},NC,sR;function ISe(){if(sR)return NC;sR=1;var e=Vo(),t=Qs();return NC=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),NC}var DC,oR;function Tc(){if(oR)return DC;oR=1;var e=$o(),t=String,n=TypeError;return DC=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")},DC}var aR;function tp(){if(aR)return PC;aR=1;var e=Vo(),t=WV(),n=ISe(),r=Tc(),i=VV(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return PC.f=e?n?function(f,h,m){if(r(f),h=i(h),r(m),typeof f=="function"&&h==="prototype"&&"value"in m&&u in m&&!m[u]){var v=a(f,h);v&&v[u]&&(f[h]=m.value,m={configurable:c in m?m[c]:v[c],enumerable:l in m?m[l]:v[l],writable:!1})}return o(f,h,m)}:o:function(f,h,m){if(r(f),h=i(h),r(m),t)try{return o(f,h,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[h]=m.value),f},PC}var LC,lR;function YV(){if(lR)return LC;lR=1;var e=Vo(),t=tp(),n=jV();return LC=e?function(r,i,s){return t.f(r,i,n(1,s))}:function(r,i,s){return r[i]=s,r},LC}var FC={exports:{}},jC,cR;function MSe(){if(cR)return jC;cR=1;var e=Vo(),t=Wo(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,i=t(n,"name"),s=i&&function(){}.name==="something",o=i&&(!e||e&&r(n,"name").configurable);return jC={EXISTS:i,PROPER:s,CONFIGURABLE:o},jC}var BC,uR;function dE(){if(uR)return BC;uR=1;var e=vi(),t=dr(),n=uE(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(i){return r(i)}),BC=n.inspectSource,BC}var UC,dR;function RSe(){if(dR)return UC;dR=1;var e=Bn(),t=dr(),n=e.WeakMap;return UC=t(n)&&/native code/.test(String(n)),UC}var qC,fR;function PSe(){if(fR)return qC;fR=1;var e=GV(),t=HV(),n=e("keys");return qC=function(r){return n[r]||(n[r]=t(r))},qC}var zC,hR;function ZV(){return hR||(hR=1,zC={}),zC}var GC,pR;function JV(){if(pR)return GC;pR=1;var e=RSe(),t=Bn(),n=$o(),r=YV(),i=Wo(),s=uE(),o=PSe(),a=ZV(),l="Object already initialized",c=t.TypeError,u=t.WeakMap,d,f,h,m=function(b){return h(b)?f(b):d(b,{})},v=function(b){return function(C){var S;if(!n(C)||(S=f(C)).type!==b)throw new c("Incompatible receiver, "+b+" required");return S}};if(e||s.state){var _=s.state||(s.state=new u);_.get=_.get,_.has=_.has,_.set=_.set,d=function(b,C){if(_.has(b))throw new c(l);return C.facade=b,_.set(b,C),C},f=function(b){return _.get(b)||{}},h=function(b){return _.has(b)}}else{var y=o("state");a[y]=!0,d=function(b,C){if(i(b,y))throw new c(l);return C.facade=b,r(b,y,C),C},f=function(b){return i(b,y)?b[y]:{}},h=function(b){return i(b,y)}}return GC={set:d,get:f,has:h,enforce:m,getterFor:v},GC}var mR;function QV(){if(mR)return FC.exports;mR=1;var e=vi(),t=Qs(),n=dr(),r=Wo(),i=Vo(),s=MSe().CONFIGURABLE,o=dE(),a=JV(),l=a.enforce,c=a.get,u=String,d=Object.defineProperty,f=e("".slice),h=e("".replace),m=e([].join),v=i&&!t(function(){return d(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),y=FC.exports=function(b,C,S){f(u(C),0,7)==="Symbol("&&(C="["+h(u(C),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),S&&S.getter&&(C="get "+C),S&&S.setter&&(C="set "+C),(!r(b,"name")||s&&b.name!==C)&&(i?d(b,"name",{value:C,configurable:!0}):b.name=C),v&&S&&r(S,"arity")&&b.length!==S.arity&&d(b,"length",{value:S.arity});try{S&&r(S,"constructor")&&S.constructor?i&&d(b,"prototype",{writable:!1}):b.prototype&&(b.prototype=void 0)}catch{}var x=l(b);return r(x,"source")||(x.source=m(_,typeof C=="string"?C:"")),b};return Function.prototype.toString=y(function(){return n(this)&&c(this).source||o(this)},"toString"),FC.exports}var HC,gR;function fE(){if(gR)return HC;gR=1;var e=dr(),t=tp(),n=QV(),r=cE();return HC=function(i,s,o,a){a||(a={});var l=a.enumerable,c=a.name!==void 0?a.name:s;if(e(o)&&n(o,c,a),a.global)l?i[s]=o:r(s,o);else{try{a.unsafe?i[s]&&(l=!0):delete i[s]}catch{}l?i[s]=o:t.f(i,s,{value:o,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return i},HC}var VC={},$C,vR;function NSe(){if(vR)return $C;vR=1;var e=Math.ceil,t=Math.floor;return $C=Math.trunc||function(r){var i=+r;return(i>0?t:e)(i)},$C}var WC,_R;function XV(){if(_R)return WC;_R=1;var e=NSe();return WC=function(t){var n=+t;return n!==n||n===0?0:e(n)},WC}var KC,yR;function DSe(){if(yR)return KC;yR=1;var e=XV(),t=Math.max,n=Math.min;return KC=function(r,i){var s=e(r);return s<0?t(s+i,0):n(s,i)},KC}var YC,bR;function LSe(){if(bR)return YC;bR=1;var e=XV(),t=Math.min;return YC=function(n){var r=e(n);return r>0?t(r,9007199254740991):0},YC}var ZC,CR;function e$(){if(CR)return ZC;CR=1;var e=LSe();return ZC=function(t){return e(t.length)},ZC}var JC,SR;function FSe(){if(SR)return JC;SR=1;var e=oE(),t=DSe(),n=e$(),r=function(i){return function(s,o,a){var l=e(s),c=n(l);if(c===0)return!i&&-1;var u=t(a,c),d;if(i&&o!==o){for(;c>u;)if(d=l[u++],d!==d)return!0}else for(;c>u;u++)if((i||u in l)&&l[u]===o)return i||u||0;return!i&&-1}};return JC={includes:r(!0),indexOf:r(!1)},JC}var QC,wR;function jSe(){if(wR)return QC;wR=1;var e=vi(),t=Wo(),n=oE(),r=FSe().indexOf,i=ZV(),s=e([].push);return QC=function(o,a){var l=n(o),c=0,u=[],d;for(d in l)!t(i,d)&&t(l,d)&&s(u,d);for(;a.length>c;)t(l,d=a[c++])&&(~r(u,d)||s(u,d));return u},QC}var XC,ER;function BSe(){return ER||(ER=1,XC=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),XC}var xR;function USe(){if(xR)return VC;xR=1;var e=jSe(),t=BSe(),n=t.concat("length","prototype");return VC.f=Object.getOwnPropertyNames||function(i){return e(i,n)},VC}var e3={},kR;function qSe(){return kR||(kR=1,e3.f=Object.getOwnPropertySymbols),e3}var t3,TR;function zSe(){if(TR)return t3;TR=1;var e=kc(),t=vi(),n=USe(),r=qSe(),i=Tc(),s=t([].concat);return t3=e("Reflect","ownKeys")||function(a){var l=n.f(i(a)),c=r.f;return c?s(l,c(a)):l},t3}var n3,OR;function GSe(){if(OR)return n3;OR=1;var e=Wo(),t=zSe(),n=KV(),r=tp();return n3=function(i,s,o){for(var a=t(s),l=r.f,c=n.f,u=0;u<a.length;u++){var d=a[u];!e(i,d)&&!(o&&e(o,d))&&l(i,d,c(s,d))}},n3}var r3,AR;function t$(){if(AR)return r3;AR=1;var e=Qs(),t=dr(),n=/#|\.prototype\./,r=function(l,c){var u=s[i(l)];return u===a?!0:u===o?!1:t(c)?e(c):!!c},i=r.normalize=function(l){return String(l).replace(n,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return r3=r,r3}var i3,IR;function Oc(){if(IR)return i3;IR=1;var e=Bn(),t=KV().f,n=YV(),r=fE(),i=cE(),s=GSe(),o=t$();return i3=function(a,l){var c=a.target,u=a.global,d=a.stat,f,h,m,v,_,y;if(u?h=e:d?h=e[c]||i(c,{}):h=e[c]&&e[c].prototype,h)for(m in l){if(_=l[m],a.dontCallGetSet?(y=t(h,m),v=y&&y.value):v=h[m],f=o(u?m:c+(d?".":"#")+m,a.forced),!f&&v!==void 0){if(typeof _==typeof v)continue;s(_,v)}(a.sham||v&&v.sham)&&n(_,"sham",!0),r(h,m,_,a)}},i3}var s3,MR;function n$(){if(MR)return s3;MR=1;var e=Bn(),t=Xh(),n=L0(),r=function(i){return t.slice(0,i.length)===i};return s3=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":n(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"}(),s3}var o3,RR;function hE(){if(RR)return o3;RR=1;var e=n$();return o3=e==="NODE",o3}var a3,PR;function r$(){if(PR)return a3;PR=1;var e=Bn();return a3=e,a3}var l3,NR;function HSe(){if(NR)return l3;NR=1;var e=vi(),t=il();return l3=function(n,r,i){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[i]))}catch{}},l3}var c3,DR;function VSe(){if(DR)return c3;DR=1;var e=$o();return c3=function(t){return e(t)||t===null},c3}var u3,LR;function $Se(){if(LR)return u3;LR=1;var e=VSe(),t=String,n=TypeError;return u3=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")},u3}var d3,FR;function WSe(){if(FR)return d3;FR=1;var e=HSe(),t=$o(),n=sE(),r=$Se();return d3=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=e(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,c){return n(l),r(c),t(l)&&(i?o(l,c):l.__proto__=c),l}}():void 0),d3}var f3,jR;function KSe(){if(jR)return f3;jR=1;var e=tp().f,t=Wo(),n=eo(),r=n("toStringTag");return f3=function(i,s,o){i&&!o&&(i=i.prototype),i&&!t(i,r)&&e(i,r,{configurable:!0,value:s})},f3}var h3,BR;function YSe(){if(BR)return h3;BR=1;var e=QV(),t=tp();return h3=function(n,r,i){return i.get&&e(i.get,r,{getter:!0}),i.set&&e(i.set,r,{setter:!0}),t.f(n,r,i)},h3}var p3,UR;function ZSe(){if(UR)return p3;UR=1;var e=kc(),t=YSe(),n=eo(),r=Vo(),i=n("species");return p3=function(s){var o=e(s);r&&o&&!o[i]&&t(o,i,{configurable:!0,get:function(){return this}})},p3}var m3,qR;function JSe(){if(qR)return m3;qR=1;var e=aE(),t=TypeError;return m3=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")},m3}var g3,zR;function QSe(){if(zR)return g3;zR=1;var e=eo(),t=e("toStringTag"),n={};return n[t]="z",g3=String(n)==="[object z]",g3}var v3,GR;function i$(){if(GR)return v3;GR=1;var e=QSe(),t=dr(),n=L0(),r=eo(),i=r("toStringTag"),s=Object,o=n(function(){return arguments}())==="Arguments",a=function(l,c){try{return l[c]}catch{}};return v3=e?n:function(l){var c,u,d;return l===void 0?"Undefined":l===null?"Null":typeof(u=a(c=s(l),i))=="string"?u:o?n(c):(d=n(c))==="Object"&&t(c.callee)?"Arguments":d},v3}var _3,HR;function XSe(){if(HR)return _3;HR=1;var e=vi(),t=Qs(),n=dr(),r=i$(),i=kc(),s=dE(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=e(l.exec),u=!l.test(o),d=function(m){if(!n(m))return!1;try{return a(o,[],m),!0}catch{return!1}},f=function(m){if(!n(m))return!1;switch(r(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,s(m))}catch{return!0}};return f.sham=!0,_3=!a||t(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?f:d,_3}var y3,VR;function e4e(){if(VR)return y3;VR=1;var e=XSe(),t=j0(),n=TypeError;return y3=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor")},y3}var b3,$R;function t4e(){if($R)return b3;$R=1;var e=Tc(),t=e4e(),n=F0(),r=eo(),i=r("species");return b3=function(s,o){var a=e(s).constructor,l;return a===void 0||n(l=e(a)[i])?o:t(l)},b3}var C3,WR;function n4e(){if(WR)return C3;WR=1;var e=D0(),t=Function.prototype,n=t.apply,r=t.call;return C3=typeof Reflect=="object"&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),C3}var S3,KR;function r4e(){if(KR)return S3;KR=1;var e=L0(),t=vi();return S3=function(n){if(e(n)==="Function")return t(n)},S3}var w3,YR;function pE(){if(YR)return w3;YR=1;var e=r4e(),t=il(),n=D0(),r=e(e.bind);return w3=function(i,s){return t(i),s===void 0?i:n?r(i,s):function(){return i.apply(s,arguments)}},w3}var E3,ZR;function i4e(){if(ZR)return E3;ZR=1;var e=kc();return E3=e("document","documentElement"),E3}var x3,JR;function s4e(){if(JR)return x3;JR=1;var e=vi();return x3=e([].slice),x3}var k3,QR;function o4e(){if(QR)return k3;QR=1;var e=TypeError;return k3=function(t,n){if(t<n)throw new e("Not enough arguments");return t},k3}var T3,XR;function s$(){if(XR)return T3;XR=1;var e=Xh();return T3=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),T3}var O3,eP;function o$(){if(eP)return O3;eP=1;var e=Bn(),t=n4e(),n=pE(),r=dr(),i=Wo(),s=Qs(),o=i4e(),a=s4e(),l=$V(),c=o4e(),u=s$(),d=hE(),f=e.setImmediate,h=e.clearImmediate,m=e.process,v=e.Dispatch,_=e.Function,y=e.MessageChannel,b=e.String,C=0,S={},x="onreadystatechange",w,E,T,O;s(function(){w=e.location});var k=function(N){if(i(S,N)){var R=S[N];delete S[N],R()}},A=function(N){return function(){k(N)}},I=function(N){k(N.data)},D=function(N){e.postMessage(b(N),w.protocol+"//"+w.host)};return(!f||!h)&&(f=function(R){c(arguments.length,1);var F=r(R)?R:_(R),j=a(arguments,1);return S[++C]=function(){t(F,void 0,j)},E(C),C},h=function(R){delete S[R]},d?E=function(N){m.nextTick(A(N))}:v&&v.now?E=function(N){v.now(A(N))}:y&&!u?(T=new y,O=T.port2,T.port1.onmessage=I,E=n(O.postMessage,O)):e.addEventListener&&r(e.postMessage)&&!e.importScripts&&w&&w.protocol!=="file:"&&!s(D)?(E=D,e.addEventListener("message",I,!1)):x in l("script")?E=function(N){o.appendChild(l("script"))[x]=function(){o.removeChild(this),k(N)}}:E=function(N){setTimeout(A(N),0)}),O3={set:f,clear:h},O3}var A3,tP;function a4e(){if(tP)return A3;tP=1;var e=Bn(),t=Vo(),n=Object.getOwnPropertyDescriptor;return A3=function(r){if(!t)return e[r];var i=n(e,r);return i&&i.value},A3}var I3,nP;function a$(){if(nP)return I3;nP=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var n={item:t,next:null},r=this.tail;r?r.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t){var n=this.head=t.next;return n===null&&(this.tail=null),t.item}}},I3=e,I3}var M3,rP;function l4e(){if(rP)return M3;rP=1;var e=Xh();return M3=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",M3}var R3,iP;function c4e(){if(iP)return R3;iP=1;var e=Xh();return R3=/web0s(?!.*chrome)/i.test(e),R3}var P3,sP;function u4e(){if(sP)return P3;sP=1;var e=Bn(),t=a4e(),n=pE(),r=o$().set,i=a$(),s=s$(),o=l4e(),a=c4e(),l=hE(),c=e.MutationObserver||e.WebKitMutationObserver,u=e.document,d=e.process,f=e.Promise,h=t("queueMicrotask"),m,v,_,y,b;if(!h){var C=new i,S=function(){var x,w;for(l&&(x=d.domain)&&x.exit();w=C.get();)try{w()}catch(E){throw C.head&&m(),E}x&&x.enter()};!s&&!l&&!a&&c&&u?(v=!0,_=u.createTextNode(""),new c(S).observe(_,{characterData:!0}),m=function(){_.data=v=!v}):!o&&f&&f.resolve?(y=f.resolve(void 0),y.constructor=f,b=n(y.then,y),m=function(){b(S)}):l?m=function(){d.nextTick(S)}:(r=n(r,e),m=function(){r(S)}),h=function(x){C.head||m(),C.add(x)}}return P3=h,P3}var N3,oP;function d4e(){return oP||(oP=1,N3=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}}),N3}var D3,aP;function mE(){return aP||(aP=1,D3=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),D3}var L3,lP;function np(){if(lP)return L3;lP=1;var e=Bn();return L3=e.Promise,L3}var F3,cP;function rp(){if(cP)return F3;cP=1;var e=Bn(),t=np(),n=dr(),r=t$(),i=dE(),s=eo(),o=n$(),a=ep(),l=BV(),c=t&&t.prototype,u=s("species"),d=!1,f=n(e.PromiseRejectionEvent),h=r("Promise",function(){var m=i(t),v=m!==String(t);if(!v&&l===66||a&&!(c.catch&&c.finally))return!0;if(!l||l<51||!/native code/.test(m)){var _=new t(function(C){C(1)}),y=function(C){C(function(){},function(){})},b=_.constructor={};if(b[u]=y,d=_.then(function(){})instanceof y,!d)return!0}return!v&&(o==="BROWSER"||o==="DENO")&&!f});return F3={CONSTRUCTOR:h,REJECTION_EVENT:f,SUBCLASSING:d},F3}var j3={},uP;function xd(){if(uP)return j3;uP=1;var e=il(),t=TypeError,n=function(r){var i,s;this.promise=new r(function(o,a){if(i!==void 0||s!==void 0)throw new t("Bad Promise constructor");i=o,s=a}),this.resolve=e(i),this.reject=e(s)};return j3.f=function(r){return new n(r)},j3}var dP;function f4e(){if(dP)return yM;dP=1;var e=Oc(),t=ep(),n=hE(),r=Bn(),i=r$(),s=Xs(),o=fE(),a=WSe(),l=KSe(),c=ZSe(),u=il(),d=dr(),f=$o(),h=JSe(),m=t4e(),v=o$().set,_=u4e(),y=d4e(),b=mE(),C=a$(),S=JV(),x=np(),w=rp(),E=xd(),T="Promise",O=w.CONSTRUCTOR,k=w.REJECTION_EVENT,A=w.SUBCLASSING,I=S.getterFor(T),D=S.set,N=x&&x.prototype,R=x,F=N,j=r.TypeError,H=r.document,U=r.process,M=E.f,me=M,de=!!(H&&H.createEvent&&r.dispatchEvent),P="unhandledrejection",Ce="rejectionhandled",Se=0,ne=1,ue=2,te=1,xe=2,oe,fe,le,we,Xe=function(X){var L;return f(X)&&d(L=X.then)?L:!1},ce=function(X,L){var G=L.value,$=L.state===ne,se=$?X.ok:X.fail,Me=X.resolve,it=X.reject,ht=X.domain,at,nt,St;try{se?($||(L.rejection===xe&&W(L),L.rejection=te),se===!0?at=G:(ht&&ht.enter(),at=se(G),ht&&(ht.exit(),St=!0)),at===X.promise?it(new j("Promise-chain cycle")):(nt=Xe(at))?s(nt,at,Me,it):Me(at)):it(G)}catch(Tt){ht&&!St&&ht.exit(),it(Tt)}},J=function(X,L){X.notified||(X.notified=!0,_(function(){for(var G=X.reactions,$;$=G.get();)ce($,X);X.notified=!1,L&&!X.rejection&&_e(X)}))},Y=function(X,L,G){var $,se;de?($=H.createEvent("Event"),$.promise=L,$.reason=G,$.initEvent(X,!1,!0),r.dispatchEvent($)):$={promise:L,reason:G},!k&&(se=r["on"+X])?se($):X===P&&y("Unhandled promise rejection",G)},_e=function(X){s(v,r,function(){var L=X.facade,G=X.value,$=re(X),se;if($&&(se=b(function(){n?U.emit("unhandledRejection",G,L):Y(P,L,G)}),X.rejection=n||re(X)?xe:te,se.error))throw se.value})},re=function(X){return X.rejection!==te&&!X.parent},W=function(X){s(v,r,function(){var L=X.facade;n?U.emit("rejectionHandled",L):Y(Ce,L,X.value)})},B=function(X,L,G){return function($){X(L,$,G)}},Ie=function(X,L,G){X.done||(X.done=!0,G&&(X=G),X.value=L,X.state=ue,J(X,!0))},Te=function(X,L,G){if(!X.done){X.done=!0,G&&(X=G);try{if(X.facade===L)throw new j("Promise can't be resolved itself");var $=Xe(L);$?_(function(){var se={done:!1};try{s($,L,B(Te,se,X),B(Ie,se,X))}catch(Me){Ie(se,Me,X)}}):(X.value=L,X.state=ne,J(X,!1))}catch(se){Ie({done:!1},se,X)}}};if(O&&(R=function(L){h(this,F),u(L),s(oe,this);var G=I(this);try{L(B(Te,G),B(Ie,G))}catch($){Ie(G,$)}},F=R.prototype,oe=function(L){D(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:Se,value:null})},oe.prototype=o(F,"then",function(L,G){var $=I(this),se=M(m(this,R));return $.parent=!0,se.ok=d(L)?L:!0,se.fail=d(G)&&G,se.domain=n?U.domain:void 0,$.state===Se?$.reactions.add(se):_(function(){ce(se,$)}),se.promise}),fe=function(){var X=new oe,L=I(X);this.promise=X,this.resolve=B(Te,L),this.reject=B(Ie,L)},E.f=M=function(X){return X===R||X===le?new fe(X):me(X)},!t&&d(x)&&N!==Object.prototype)){we=N.then,A||o(N,"then",function(L,G){var $=this;return new R(function(se,Me){s(we,$,se,Me)}).then(L,G)},{unsafe:!0});try{delete N.constructor}catch{}a&&a(N,F)}return e({global:!0,constructor:!0,wrap:!0,forced:O},{Promise:R}),le=i.Promise,l(R,T,!1,!0),c(T),yM}var fP={},B3,hP;function l$(){return hP||(hP=1,B3={}),B3}var U3,pP;function h4e(){if(pP)return U3;pP=1;var e=eo(),t=l$(),n=e("iterator"),r=Array.prototype;return U3=function(i){return i!==void 0&&(t.Array===i||r[n]===i)},U3}var q3,mP;function c$(){if(mP)return q3;mP=1;var e=i$(),t=lE(),n=F0(),r=l$(),i=eo(),s=i("iterator");return q3=function(o){if(!n(o))return t(o,s)||t(o,"@@iterator")||r[e(o)]},q3}var z3,gP;function p4e(){if(gP)return z3;gP=1;var e=Xs(),t=il(),n=Tc(),r=j0(),i=c$(),s=TypeError;return z3=function(o,a){var l=arguments.length<2?i(o):a;if(t(l))return n(e(l,o));throw new s(r(o)+" is not iterable")},z3}var G3,vP;function m4e(){if(vP)return G3;vP=1;var e=Xs(),t=Tc(),n=lE();return G3=function(r,i,s){var o,a;t(r);try{if(o=n(r,"return"),!o){if(i==="throw")throw s;return s}o=e(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return t(o),s},G3}var H3,_P;function u$(){if(_P)return H3;_P=1;var e=pE(),t=Xs(),n=Tc(),r=j0(),i=h4e(),s=e$(),o=aE(),a=p4e(),l=c$(),c=m4e(),u=TypeError,d=function(h,m){this.stopped=h,this.result=m},f=d.prototype;return H3=function(h,m,v){var _=v&&v.that,y=!!(v&&v.AS_ENTRIES),b=!!(v&&v.IS_RECORD),C=!!(v&&v.IS_ITERATOR),S=!!(v&&v.INTERRUPTED),x=e(m,_),w,E,T,O,k,A,I,D=function(R){return w&&c(w,"normal"),new d(!0,R)},N=function(R){return y?(n(R),S?x(R[0],R[1],D):x(R[0],R[1])):S?x(R,D):x(R)};if(b)w=h.iterator;else if(C)w=h;else{if(E=l(h),!E)throw new u(r(h)+" is not iterable");if(i(E)){for(T=0,O=s(h);O>T;T++)if(k=N(h[T]),k&&o(f,k))return k;return new d(!1)}w=a(h,E)}for(A=b?h.next:w.next;!(I=t(A,w)).done;){try{k=N(I.value)}catch(R){c(w,"throw",R)}if(typeof k=="object"&&k&&o(f,k))return k}return new d(!1)},H3}var V3,yP;function g4e(){if(yP)return V3;yP=1;var e=eo(),t=e("iterator"),n=!1;try{var r=0,i={next:function(){return{done:!!r++}},return:function(){n=!0}};i[t]=function(){return this},Array.from(i,function(){throw 2})}catch{}return V3=function(s,o){try{if(!o&&!n)return!1}catch{return!1}var a=!1;try{var l={};l[t]=function(){return{next:function(){return{done:a=!0}}}},s(l)}catch{}return a},V3}var $3,bP;function d$(){if(bP)return $3;bP=1;var e=np(),t=g4e(),n=rp().CONSTRUCTOR;return $3=n||!t(function(r){e.all(r).then(void 0,function(){})}),$3}var CP;function v4e(){if(CP)return fP;CP=1;var e=Oc(),t=Xs(),n=il(),r=xd(),i=mE(),s=u$(),o=d$();return e({target:"Promise",stat:!0,forced:o},{all:function(l){var c=this,u=r.f(c),d=u.resolve,f=u.reject,h=i(function(){var m=n(c.resolve),v=[],_=0,y=1;s(l,function(b){var C=_++,S=!1;y++,t(m,c,b).then(function(x){S||(S=!0,v[C]=x,--y||d(v))},f)}),--y||d(v)});return h.error&&f(h.value),u.promise}}),fP}var SP={},wP;function _4e(){if(wP)return SP;wP=1;var e=Oc(),t=ep(),n=rp().CONSTRUCTOR,r=np(),i=kc(),s=dr(),o=fE(),a=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(c){return this.then(void 0,c)}}),!t&&s(r)){var l=i("Promise").prototype.catch;a.catch!==l&&o(a,"catch",l,{unsafe:!0})}return SP}var EP={},xP;function y4e(){if(xP)return EP;xP=1;var e=Oc(),t=Xs(),n=il(),r=xd(),i=mE(),s=u$(),o=d$();return e({target:"Promise",stat:!0,forced:o},{race:function(l){var c=this,u=r.f(c),d=u.reject,f=i(function(){var h=n(c.resolve);s(l,function(m){t(h,c,m).then(u.resolve,d)})});return f.error&&d(f.value),u.promise}}),EP}var kP={},TP;function b4e(){if(TP)return kP;TP=1;var e=Oc(),t=xd(),n=rp().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:n},{reject:function(i){var s=t.f(this),o=s.reject;return o(i),s.promise}}),kP}var OP={},W3,AP;function C4e(){if(AP)return W3;AP=1;var e=Tc(),t=$o(),n=xd();return W3=function(r,i){if(e(r),t(i)&&i.constructor===r)return i;var s=n.f(r),o=s.resolve;return o(i),s.promise},W3}var IP;function S4e(){if(IP)return OP;IP=1;var e=Oc(),t=kc(),n=ep(),r=np(),i=rp().CONSTRUCTOR,s=C4e(),o=t("Promise"),a=n&&!i;return e({target:"Promise",stat:!0,forced:n||i},{resolve:function(c){return s(a&&this===o?r:this,c)}}),OP}var MP;function w4e(){return MP||(MP=1,f4e(),v4e(),_4e(),y4e(),b4e(),S4e()),_M}var RP={},PP;function f$(){if(PP)return RP;PP=1;var e=Oc(),t=xd();return e({target:"Promise",stat:!0},{withResolvers:function(){var r=t.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}}),RP}var K3,NP;function E4e(){if(NP)return K3;NP=1,w4e(),f$();var e=Xs(),t=dr(),n=r$(),r=n.Promise,i=r.withResolvers;return K3=function(){return e(i,t(this)?this:r)},K3}var Y3,DP;function x4e(){if(DP)return Y3;DP=1;var e=E4e();return Y3=e,Y3}var LP={},FP;function k4e(){return FP||(FP=1,f$()),LP}var Z3,jP;function T4e(){if(jP)return Z3;jP=1;var e=x4e();return k4e(),Z3=e,Z3}T4e();async function O4e(){performance.mark("polyfill.all.start"),await Promise.allSettled([wSe(),SSe(),ESe()]),performance.mark("polyfill.all.end"),performance.measure("polyfill.all","polyfill.all.start","polyfill.all.end")}const q1=["light","dark"],gE="(prefers-color-scheme: dark)",A4e=typeof window>"u",vE=p.createContext(void 0),I4e={setTheme:e=>{},themes:[]},h$=()=>{var e;return(e=p.useContext(vE))!==null&&e!==void 0?e:I4e},M4e=e=>p.useContext(vE)?Le.createElement(p.Fragment,null,e.children):Le.createElement(P4e,e),R4e=["light","dark"],P4e=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=R4e,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u})=>{const[d,f]=p.useState(()=>BP(i,o)),[h,m]=p.useState(()=>BP(i)),v=l?Object.values(l):s,_=p.useCallback(S=>{let x=S;if(!x)return;S==="system"&&n&&(x=UP());const w=l?l[x]:x,E=t?D4e():null,T=document.documentElement;if(a==="class"?(T.classList.remove(...v),w&&T.classList.add(w)):w?T.setAttribute(a,w):T.removeAttribute(a),r){const O=q1.includes(o)?o:null,k=q1.includes(x)?x:O;T.style.colorScheme=k}E?.()},[]),y=p.useCallback(S=>{f(S);try{localStorage.setItem(i,S)}catch{}},[e]),b=p.useCallback(S=>{const x=UP(S);m(x),d==="system"&&n&&!e&&_("system")},[d,e]);p.useEffect(()=>{const S=window.matchMedia(gE);return S.addListener(b),b(S),()=>S.removeListener(b)},[b]),p.useEffect(()=>{const S=x=>{x.key===i&&y(x.newValue||o)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[y]),p.useEffect(()=>{_(e??d)},[e,d]);const C=p.useMemo(()=>({theme:d,setTheme:y,forcedTheme:e,resolvedTheme:d==="system"?h:d,themes:n?[...s,"system"]:s,systemTheme:n?h:void 0}),[d,y,e,h,n,s]);return Le.createElement(vE.Provider,{value:C},Le.createElement(N4e,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:o,attribute:a,value:l,children:c,attrs:v,nonce:u}),c)},N4e=p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{const c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;c.remove(${a.map(m=>`'${m}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?q1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,v=!1,_=!0)=>{const y=o?o[m]:m,b=v?m+"|| ''":`'${y}'`;let C="";return i&&_&&!v&&q1.includes(m)&&(C+=`d.style.colorScheme = '${m}';`),n==="class"?C+=v||y?`c.add(${b})`:"null":y&&(C+=`d[s](n,${b})`),C},h=e?`!function(){${u}${f(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${gE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${d}}catch(t){}}();`;return Le.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})},()=>!0),BP=(e,t)=>{if(A4e)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},D4e=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},UP=e=>(e||(e=window.matchMedia(gE)),e.matches?"dark":"light");function p$(e){return e==="system"||m$(e)}function m$(e){return e==="dark"||e==="light"}function L4e(e){if(!p$(e))throw new Error(`Unexpected theme ${e}`)}function ZUe(){const{theme:e,setTheme:t}=h$();function n(r){L4e(r),r!==e&&t(r)}return[p$(e)?e:"system",n]}function F4e(){const e=h$().resolvedTheme;if(m$(e))return e}function j4e(){return F4e()==="dark"}function B4e(){return document.documentElement.classList.contains("dark")}const z1=new Jw;class U4e{start=0;connectTime=0;hasLoggedGetSocketURL=!1;didLogPingFromWorker=!1;didLogPingFromServer=!1;pingId=qr();actionMetadata={};onFetchSocketURL=()=>{if(!this.hasLoggedGetSocketURL){const t=performance.now()-this.start;this.actionMetadata.socket_url_duration=t,this.actionMetadata.socket_url_time=t,V.addAction("ws.get-socket-url",this.actionMetadata),xn.hist(Sn.WEBSOCKET,"get-socket-url",[],t),this.hasLoggedGetSocketURL=!0}};#e=({payload:t})=>{const{ping_id:n,source:r}=t;if(!(n!=null&&n!==this.pingId)){if(r==="server"&&!this.didLogPingFromServer){this.didLogPingFromServer=!0;const i=performance.now()-this.start,s=i-this.connectTime;this.actionMetadata.receive_server_ping_time=i,this.actionMetadata.receive_server_ping_duration=s,V.addAction("ws.receive-server-ping",this.actionMetadata),xn.hist(Sn.WEBSOCKET,"receive-server-ping",[],s)}if((r==="worker"||r==null)&&!this.didLogPingFromWorker){this.didLogPingFromWorker=!0;const i=performance.now()-this.start,s=i-this.connectTime;this.actionMetadata.receive_ping_time=i,this.actionMetadata.receive_ping_duration=s,V.addAction("ws.receive-ping",this.actionMetadata),xn.hist(Sn.WEBSOCKET,"receive-ping",[],s)}this.didLogPingFromWorker&&this.didLogPingFromServer&&z1.off("ping",this.#e)}};onInit(){V.addAction("ws.init"),xn.count(Sn.WEBSOCKET,"init"),this.start=performance.now()}onConnect(){if(!(this.connectTime>0))try{this.connectTime=performance.now()-this.start;const t=this.connectTime-Number(this.actionMetadata.socket_url_time);this.actionMetadata.connect_time=this.connectTime,this.actionMetadata.connect_duration=t,V.addAction("ws.connect",this.actionMetadata),xn.hist(Sn.WEBSOCKET,"connect",[],t),z1.on("ping",this.#e),V.addAction("ws.send-ping",this.actionMetadata),he.safePost("/celsius/ping",{requestBody:{ping_id:this.pingId}})}catch(t){V.addAction("ws.error",{error:t}),xn.count(Sn.WEBSOCKET,"error")}}}const g$=nn(e=>Qe(e,"1281927149")?new U4e:void 0);(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var v$=class extends Event{message;error;constructor(e,t){super("error",t),this.message=e.message,this.error=e}},_$=class extends Event{code;reason;wasClean=!0;constructor(e=1e3,t="",n){super("close",n),this.code=e,this.reason=t}},J3={Event,ErrorEvent:v$,CloseEvent:_$};function q4e(e,t){if(!e)throw new Error(t)}function z4e(e){return new e.constructor(e.type,e)}function G4e(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new _$(e.code||1999,e.reason||"unknown reason",e):"error"in e?new v$(e.error,e):new Event(e.type,e)}var qP,H4e=typeof process<"u"&&typeof((qP=process.versions)==null?void 0:qP.node)<"u"&&typeof document>"u",am=H4e?G4e:z4e,_l={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},zP=!1,SS=class kl extends EventTarget{_ws;_retryCount=-1;_uptimeTimeout;_connectTimeout;_shouldReconnect=!0;_connectLock=!1;_binaryType="blob";_closeCalled=!1;_messageQueue=[];_debugLogger=console.log.bind(console);_url;_protocols;_options;constructor(t,n,r={}){super(),this._url=t,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return kl.CONNECTING}get OPEN(){return kl.OPEN}get CLOSING(){return kl.CLOSING}get CLOSED(){return kl.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((n,r)=>(typeof r=="string"?n+=r.length:r instanceof Blob?n+=r.size:n+=r.byteLength,n),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?kl.CLOSED:kl.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}onclose=null;onerror=null;onmessage=null;onopen=null;close(t=1e3,n){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)}reconnect(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{const{maxEnqueuedMessages:n=_l.maxEnqueuedMessages}=this._options;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){const{reconnectionDelayGrowFactor:t=_l.reconnectionDelayGrowFactor,minReconnectionDelay:n=_l.minReconnectionDelay,maxReconnectionDelay:r=_l.maxReconnectionDelay}=this._options;let i=0;return this._retryCount>0&&(i=n*t**(this._retryCount-1),i>r&&(i=r)),this._debug("next delay",i),i}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_getNextProtocols(t){if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(typeof t=="function"){const n=t();if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(n.then)return n}throw Error("Invalid protocols")}_getNextUrl(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){const n=t();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:t=_l.maxRetries,connectionTimeout:n=_l.connectionTimeout}=this._options;if(this._retryCount>=t){this._debug("max retries reached",this._retryCount,">=",t);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([r,i])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!zP&&(console.error(`‼️ No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),zP=!0);const s=this._options.WebSocket||WebSocket;this._debug("connect",{url:r,protocols:i}),this._ws=i?new s(r,i):new s(r),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),n)}).catch(r=>{this._connectLock=!1,this._handleError(new J3.ErrorEvent(Error(r.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new J3.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(t=1e3,n){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(t,n),this._handleClose(new J3.CloseEvent(t,n,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_handleOpen=t=>{this._debug("open event");const{minUptime:n=_l.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),n),q4e(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(r=>{var i;return(i=this._ws)==null?void 0:i.send(r)}),this._messageQueue=[],this.onopen&&this.onopen(t),this.dispatchEvent(am(t))};_handleMessage=t=>{this._debug("message event"),this.onmessage&&this.onmessage(t),this.dispatchEvent(am(t))};_handleError=t=>{this._debug("error event",t.message),this._disconnect(void 0,t.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(t),this._debug("exec error listeners"),this.dispatchEvent(am(t)),this._connect()};_handleClose=t=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(t),this.dispatchEvent(am(t))};_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */let lo=null;function V4e(e,t){let n=null;const r=()=>{const i=Date.now(),s=n!=null?i-n.time:null;return n!=null&&s!=null&&s<t?(V.addAction("websocket-url-cache.hit",{timeSinceLastValue:s}),n.promise):(V.addAction("websocket-url-cache.miss",{timeSinceLastValue:s}),n={promise:e().catch(o=>{throw V.addAction("websocket-url-cache.error"),n=null,o}),time:i},n.promise)};return r.invalidate=()=>{V.addAction("websocket-url-cache.invalidate"),n=null},r}const y$=async()=>(await he.safeGet("/celsius/ws/user")).websocket_url,$4e=V4e(y$,15e5);function b$(e){return Qe(e,"2892913572")?$4e():y$()}function W4e(e){const t=g$(e);t?.onInit(),lo=new SS(async()=>{const r=await b$(e);return t?.onFetchSocketURL(),r},void 0,{maxRetries:50,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.25,maxReconnectionDelay:2e4});let n;return lo.addEventListener("open",()=>{t?.onConnect(),Qe(e,"3274829134")&&(n=setInterval(()=>{lo&&lo.readyState===SS.OPEN&&lo.send(JSON.stringify({type:"keepalive-ping"}))},2e4))}),lo.addEventListener("close",()=>{n!==void 0&&(clearInterval(n),n=void 0)}),lo.addEventListener("message",r=>{const i=JSON.parse(r.data),{type:s,...o}=i,a={kind:s,...o};z1.publish(a)}),lo.addEventListener("error",r=>{V.addAction("websocket error",{error:r.error,message:r.message})}),lo}const GP=nn(()=>Do(e=>{const t=()=>e();return window.addEventListener("focus",t),window.addEventListener("blur",t),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",t),document.removeEventListener("visibilitychange",t)}},()=>document.hasFocus(),{name:"isWindowFocused",getServerFallback:()=>!0})),C$=nn(e=>new K4e(e));function JUe(e,t){return C$(e).getTopic(t)}class K4e{constructor(t){this.ctx=t}ws;pingTest;nextRequestId=1;commandCallbacks={};topics=new Map;isTransportOpen=!1;isBatchingCommands=!1;batchCommands=[];keepaliveInterval;init(){this.pingTest=g$(this.ctx),this.pingTest?.onInit();const t=new SS(async()=>{const n=await b$(this.ctx);return this.pingTest?.onFetchSocketURL(),n},void 0,{maxRetries:50,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.25,maxReconnectionDelay:2e4});this.ws=t,t.addEventListener("open",()=>{this.#e()}),t.addEventListener("close",()=>{this.#r()}),t.addEventListener("message",n=>{this.#n(n)}),t.addEventListener("error",n=>{this.#i(n)}),this.#t()}connect(){this.ws.reconnect()}disconnect(){this.ws.close()}#e(){this.pingTest?.onConnect(),this.isTransportOpen=!0,this.startBatchCommands(),this.sendCommand({type:"connect",presence:{type:"presence",state:jl(GP(this.ctx))?"foreground":"background"}});for(const t of this.topics.values())t.state===1&&t.subscribe();this.endBatchCommands(),Qe(this.ctx,"3274829134")&&(this.keepaliveInterval=setInterval(()=>{this.ws.send(JSON.stringify({type:"keepalive-ping"}))},2e4))}#t(){const t=GP(this.ctx);zL(()=>t(),n=>{this.isTransportOpen&&this.sendCommand({type:"presence",state:n?"foreground":"background"})})}#r(){this.isTransportOpen=!1;for(const t of this.topics.values())t.handleDisconnect();this.endBatchCommands(),this.keepaliveInterval&&(clearInterval(this.keepaliveInterval),this.keepaliveInterval=void 0)}#n(t){const n=JSON.parse(t.data);if(Array.isArray(n)){const r=n;for(const i of r)if("type"in i&&i.type==="message"){const{topic_id:s}=i,o=this.topics.get(s);o&&o.handleMessage(i)}else"id"in i&&"reply"in i&&this.commandCallbacks[i.id].resolve(i.reply)}else{const r=n,{type:i,...s}=r,o={kind:i,...s};z1.publish(o)}}#i(t){V.addAction("websocket error",{error:t.error,message:t.message})}getTopic(t){const n=this.topics.get(t);if(n)return n;const r=new Y4e(t,this);return this.topics.set(t,r),r}startBatchCommands(){this.isBatchingCommands=!0,this.batchCommands=[]}endBatchCommands(){this.isBatchingCommands=!1,this.ws.send(JSON.stringify(this.batchCommands)),this.batchCommands=[]}async sendCommand(t){const n=this.nextRequestId++;this.commandCallbacks[n]=Promise.withResolvers();const r={id:n,command:t};this.isBatchingCommands?this.batchCommands.push(r):this.ws.send(JSON.stringify([r]));const i=await this.commandCallbacks[n].promise;return delete this.commandCallbacks[n],i}}class Y4e{constructor(t,n){this.topicId=t,this.client=n}state=2;offset=null;#e=new Jw;#t=!1;onMessage(t){return this.#e.on("message",n=>t(n.payload))}onPotentialMissedMessages(t){return this.#e.on("recovery-failed",()=>t())}handleMessage(t){this.#e.publish({kind:"message",payload:t.payload}),t.offset!=null&&t.offset!==""&&(this.offset=t.offset)}handleDisconnect(){this.state=1,this.#t=!1}async subscribe(t={}){if(t.includeAllHistory&&this.offset==null&&(this.offset="0"),this.state!==0&&(this.state=1,this.client.isTransportOpen&&!this.#t)){this.#t=!0;const n=this.offset,r=await this.client.sendCommand({type:"subscribe",topic_id:this.topicId,...n!=null?{offset:n}:{}});if(this.#t=!1,r.type==="subscribe"&&r.topic_id===this.topicId){if(this.state=0,this.offset=r.last_offset??null,r.recovered&&r.catchups!=null)for(const i of r.catchups)this.handleMessage(i);n!=null&&!r.recovered&&this.#e.publish({kind:"recovery-failed"})}else throw new Error("Unexpected reply to subscribe command")}}unsubscribe(){this.state!==2&&((this.state===0||this.#t)&&this.client.sendCommand({type:"unsubscribe",topic_id:this.topicId}),this.state=2)}}function Z4e(e){if(Qe(e,"1819663106")){const t=C$(e);t.init(),t.getTopic("conversations").subscribe();return}Qe(e,"4141006638")&&W4e(e)}function J4e(e){_n(e)&&(Zie(e),vge(e),Z4e(e))}let HP=!1;function Q4e(e){HP||(HP=!0,J4e(e))}const X4e=p.createContext({cspScriptNonce:void 0});function QUe(e){return dn(e).windowStyle==="chatbar_view"}const wS="_tm",If="_m";var ewe=(e=>(e.SHARE_NOT_FOUND="share_not_found",e.SHARED_POST_NOT_FOUND="shared_post_not_found",e.GIZMO_NOT_FOUND="gizmo_not_found",e.PROJECT_NOT_FOUND="project_not_found",e.NO_ACCESS="no_access",e.OAUTH_SUCCESS="oauth_success",e.OAUTH_FAILED_GENERIC="oauth_failed_generic",e.OAUTH_FAILED_SCOPE_MISMATCH="oauth_failed_scope_mismatch",e.OAUTH_FAILED_EMAIL_DOMAIN_ENFORCEMENT="oauth_failed_email_domain_enforcement",e.CUSTOM_ERROR="c_err",e.CUSTOM_MSG="c_msg",e.ACCOUNT_TRANSFER_ERROR="account_transfer_error",e.MFA_ENABLED="mfa_enabled",e.ENABLE_MFA_ERROR="enable_mfa_error",e.DISABLE_MFA_SUCCESS="disable_mfa_success",e.DISABLE_MFA_TIMEOUT="disable_mfa_timeout",e.CANVAS_NOT_FOUND="canvas_not_found",e))(ewe||{});function XUe(e,t="/",n){const r=typeof window<"u",i=new URL(t,r?window.location.origin:window.location.origin);return i.searchParams.set(wS,e),(e==="c_err"||e==="c_msg")&&(n?i.searchParams.set(If,n):i.searchParams.set(If,"An error has occurred")),i.pathname+i.search+i.hash}function twe(){const[e]=ig(),{pathname:t,hash:n}=Hr(),r=ms(),i=yt(),s=In();p.useEffect(()=>{const o=e.get(wS);if(o!==void 0){const a=(l,c,u,d,f)=>{const h=typeof l=="string"?l:i.formatMessage(l);s[d](h,{id:c,duration:u,hasCloseButton:f});const m=new URLSearchParams(e);m.delete(wS),m.delete(If),r({search:`?${m.toString()}`,hash:n},{replace:!0})};switch(o){case"share_not_found":V.addAction("global_toast.conversation_inaccessible",{path:t}),a(bi.conversationInaccessible,"share_not_found",10,"warning",!0);break;case"shared_post_not_found":a(bi.sharedPostNotFound,"shared_post_not_found",10,"warning",!0);break;case"gizmo_not_found":a(bi.gizmoNotFound,"gizmo_not_found",10,"warning",!0);break;case"project_not_found":a(bi.projectNotFound,"project_not_found",10,"warning",!0);break;case"no_access":a(bi.noAccess,"no_access",5,"warning",!0);break;case"oauth_success":a(bi.oauthSuccess,"oauth_success",5,"success",!0);break;case"oauth_failed_generic":a(bi.oauthFailedGeneric,"oauth_failed_generic",5,"warning",!0);break;case"oauth_failed_scope_mismatch":a(bi.oauthFailedScopeMismatch,"oauth_failed_scope_mismatch",5,"warning",!0);break;case"oauth_failed_email_domain_enforcement":a(bi.oauthFailedEmailDomainEnforcement,"oauth_failed_email_domain_enforcement",5,"warning",!0);break;case"c_msg":a(e.get(If),"c_msg",10,"success",!0);break;case"c_err":a(e.get(If),"c_err",5,"warning",!0);break;case"account_transfer_error":a({id:"globalToasts.accountTransferError",defaultMessage:"Error transferring account. To retry, go to Settings → Merge.",description:"Error when unable to transfer their personal account to the workspace"},"account_transfer_error",5,"warning",!0);break;case"mfa_enabled":a({id:"enableMfa.success",defaultMessage:"Multi-factor authentication enabled",description:"Confirmation toast after an MFA enable action is successfully executed"},"mfa_enabled",5,"success",!0);break;case"enable_mfa_error":a({id:"enrollMfa.failure",defaultMessage:"Error occurred. Please try again.",description:"Error toast after MFA token request failed"},"enable_mfa_error",5,"warning",!0);break;case"disable_mfa_success":a(bi.disableMfaSuccess,"disable_mfa_success",5,"success",!0);break;case"disable_mfa_timeout":a(bi.disableMfaTimeout,"disable_mfa_timeout",5,"warning",!0);break;case"canvas_not_found":a(bi.canvasNotFound,"canvas_not_found",5,"warning",!1);break}}},[i,s,t,e,r,n])}const bi=It({conversationInaccessible:{id:"globalToasts.conversationInaccessible",defaultMessage:"Conversation inaccessible or not found. You may need to switch accounts or request access if this conversation exists."},sharedPostNotFound:{id:"globalToasts.sharedPostNotFound",defaultMessage:"This share is inaccessible or not found."},gizmoNotFound:{id:"globalToasts.gizmoNotFound",defaultMessage:"This GPT is inaccessible or not found. Ensure you are logged in, verify you’re in the correct ChatGPT workspace, or request access if you believe you should have it, if it exists."},projectNotFound:{id:"globalToasts.projectNotFound",defaultMessage:"This project is inaccessible or not found. Ensure you are logged in, verify you’re in the correct ChatGPT workspace, or request access if you believe you should have it, if it exists."},noAccess:{id:"globalToasts.noAccess",defaultMessage:"You do not currently have access to this feature"},oauthSuccess:{id:"globalToasts.oauthSuccess",defaultMessage:"Your account is now connected"},oauthFailedGeneric:{id:"globalToasts.oauthFailedGeneric",defaultMessage:"Something went wrong with setting up the connection"},oauthFailedScopeMismatch:{id:"globalToasts.oauthFailedScopeMismatch",defaultMessage:"Not all requested permissions were granted"},oauthFailedEmailDomainEnforcement:{id:"globalToasts.oauthFailedEmailDomainEnforcement",defaultMessage:"Your company has an enterprise workspace that manages connector access. Contact your enterprise admin to get access."},disableMfaSuccess:{id:"disableMfa.success",defaultMessage:"Multi-factor authentication disabled"},disableMfaTimeout:{id:"disableMfa.timeout",defaultMessage:"Your last log in was too long ago, please try again"},canvasNotFound:{id:"canvasNotFound",defaultMessage:"This canvas is inaccessible or not found. Ensure you are logged in, verify you’re in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."}});let Ac;function nwe(){let e;return{promise:new Promise(n=>{e=n}),resolve:e}}const{promise:rwe,resolve:iwe}=nwe();function eqe(e){Ac=e,iwe(e)}async function swe(){try{const e=Ac?.getHost();return e?await e.getToolNames():null}catch{return null}}const VP=9e4;class owe extends Error{timeoutMs;constructor(t){super(`sidebar whisper timed out after ${t}ms`),this.name="SidebarWhisperTimeoutError",this.timeoutMs=t}}const awe="unqfp8es",lwe="kaur1br5";function ip(){return Ac?.getHost()}function cwe(){const[e,t]=p.useState(()=>ip());return p.useEffect(()=>{if(e)return;let n=!0;return rwe.then(r=>{n&&t(r.getHost())}),()=>{n=!1}},[e]),e}function tqe(){return Ac?.getLinkHandler()}function nqe(){return Ac?.getProductEventHandler()}function S$(e){return e?.includes(Ae.Agent)===!0}function rqe(e,t,n){return Ac?new Promise((r,i)=>{const s=setTimeout(()=>i(new owe(VP)),VP);uwe(e,t,n).then(o=>{clearTimeout(s),r(o)}).catch(o=>{clearTimeout(s),i(o)})}):Promise.resolve(void 0)}async function uwe(e,t,n){if(S$(n))return;const r=await Ac?.getSidebarWhisperContent();if(r)return await E$(r,w$(e?.url),e,t,n)}function dwe(e,t){return e.map(n=>({id:n.fileid,name:n.name,size:n.size,mime_type:n.mimetype,...t&&{kaur1br5:{source:{url:t.url,host:t.url?new URL(t.url).hostname:void 0,title:t.title}}}}))}function w$(e){return e?`${awe} - ${e}`:void 0}function fwe(e,t){const n=[];t?.length&&n.push(...t);const r="-",i={content_type:"app_pairing_content",workspaces:[{id:r,content_type:"browser_window"}],context_parts:e.map(s=>({content:s.content??void 0,url:s.url??void 0,title:s.title??void 0,workspace_id:r,content_type:"browser_text"})),custom_instructions:void 0};return n.push(i),{content_type:He.MultimodalText,parts:n}}function hwe(e,t){if(t.length>0){const n=e;return{content_type:He.MultimodalText,parts:[...t,n]}}return{content_type:He.Text,parts:[e]}}async function E$(e,t,n,r,i){if(S$(i))return;const{imageAssetPointers:s,content:o,files:a,embeddedDocumentContexts:l,customInstructions:c}=e,u=l??[],d=u.some(y=>y.content);if(!o&&!d)throw new Error("Whisper content is missing content");const f=o??"",h=(s??[]).map(y=>({content_type:qn.ImageAssetPointer,asset_pointer:y.assetPointer,size_bytes:y.sizeBytes,width:y.width,height:y.height})),m=d?fwe(u,h):hwe(f,h),_=[{id:qr(),author:{role:Ve.Tool,name:"kaur1br5_context"},create_time:Date.now()/1e3,content:m,recipient:"all",metadata:{is_visually_hidden_from_conversation:!0,attachments:dwe(a??[],n),exclusive_key:t,...await pwe(n,r,"context",i)}}];return c&&c.trim().length>0&&_.push({id:qr(),author:{role:Ve.Developer},recipient:"all",create_time:Date.now()/1e3,content:{content_type:He.Text,parts:[c]},metadata:{is_visually_hidden_from_conversation:!0,...t&&{exclusive_key:`${t}-instructions`}}}),_}async function iqe(e,t,n){if(!(!e||!vs()||!nr.whisperContent))return await E$(nr.whisperContent,w$(e.url),e,t,n)}async function pwe(e,t,n,r){const i=r?.includes(Ae.Agent)===!0;let s,o;if(!i&&e?.selection){const c=e.selection;o=Qj(c),s=c.length>1e3?c.substring(0,1e3):c}let a;try{const c=ip();c&&(a=await c.getClientID())}catch{}const l={origin:t,type:n,client_id:a,sources:e?[{id:e.id,url:e.url,host:e.url?new URL(e.url).hostname:void 0,title:e.title,...s&&{selection:s,selection_word_count:o},base64favicon:e.base64favicon??void 0}]:[]};return{[lwe]:l}}const Bu=Lo(()=>({activeRequests:{}})),sqe=e=>{const{activeRequests:t}=Bu.getState();return t[e]??null},x$=e=>dd(Bu,e);function oqe(e){return x$(t=>k$(e,t))}function k$(e,t=Bu.getState()){return e!=null&&t.activeRequests[e]!=null}function aqe(){return x$(e=>Object.keys(e.activeRequests).length>0)}const Mf={addRequest(e,t,n){Bu.setState(r=>({activeRequests:{...r.activeRequests,[e]:{id:e,abortController:t,turnTracker:n}}}))},removeRequest(e){Bu.setState(t=>{const n={...t.activeRequests};return delete n[e],{activeRequests:n}})},abortRequest(e){const{activeRequests:t}=Bu.getState();return t[e]!=null?(t[e].abortController.abort(),Mf.removeRequest(e),!0):!1}};function mwe(e,t,n,r,i=!1,s=void 0,o={},a=void 0){const l={client_thread_id:String(e),client_initiated:t,reason:n,is_agent_hint_enabled:s,...o,has_stop_conduit_token:a};if(!(s||r))return;if(i&&s!==void 0&&s!==r){const d=`conversation.transition_${r?"from_agent_to_non_agent":"from_non_agent_to_agent"}`;V.addAction(d,{...l,action_type:"abort_completion"}),K.logEventWithStatsig("Agent Conversation Transition","chatgpt_agent_conversation_transition",{...l,action_type:"abort_completion"})}xn.count(Sn.DEFAULT,"chatgpt_web_conversation_stop",[{key:"has_stop_conduit_token",value:a?"true":"false"},{key:"stop_reason",value:n}]),r&&(V.addAction("conversation.stop_attempted",{...l,is_last_turn_agent:!0}),K.logEventWithStatsig("Agent Conversation Stop","chatgpt_agent_conversation_stop",{...l}))}const T$=u0(()=>kt(null));function O$(e){return T$(e)()}function A$(e,t){const n=T$(e);gwe(jl(()=>n()),t)&&n.set(t)}function gwe(e,t){return!(e?.value===Dr.REALTIME&&t?.value===Dr.STREAMING)}const lqe=e=>{const t=pe();return zr(()=>{if(e===void 0)return null;const n=tl(t,e);return O$(n)})},_E=(e,t)=>{const n=tl(e,t);return O$(n)},Ol=(e,t)=>{const n=tl(Lt(),e);A$(n,t)};async function I$(e,t=Ee.getRequestId(ln(e)),{clientInitiated:n=!1,reason:r="other",isLastTurnAgent:i=void 0,hasAgentSystemHint:s=void 0}={}){const o=k$(t),a=Lt(),l=ln(e),c=Pi(e),u=_E(a,e),d=u?.value===Dr.REALTIME,f=u?.value===Dr.STREAMING,h=Ee.getCurrentNode(l),m=l?.stopConduitToken??null,v=m!==null,y=(()=>{const x=h?.message;return x?Hse(x):!1})(),b=f&&h?.message?.metadata?.model_slug?.endsWith("-pro");if(!o&&!d&&!b&&!(f&&n))return;Mt(e,x=>{x.interruptionInProgress=!0});let S;if(c&&Qe(a,"3922476776")){const x={requestBody:{conversation_id:c,check_async_status:d||b&&!o},authOption:tn.SendIfAvailable,...m?{additionalHeaders:{"x-conduit-token":m}}:{}};S=await he.safePost("/stop_conversation",x),m&&Mt(e,E=>{E.stopConduitToken=null});const w=()=>(l?Ee.getLastMessageSystemHints(l):[]).includes(Ae.Agent)||!!Ee.getCurrentNode(l)?.message.metadata?.n7jupd_message;try{mwe(e,n,r,i??w(),!0,s,{},v)}catch(E){es.error("Error logging abort completion attempt for analytics",{error:E})}}return o&&!y&&Mf.abortRequest(t),Mt(e,x=>{x.interruptionInProgress=!1}),S}const cqe="side_chat",vwe="ntp",_we="address_bar",uqe="website",G1=new Set,dqe=e=>{p.useEffect(()=>(G1.add(e),()=>{G1.delete(e)}),[e])},ywe=()=>G1.size>0,bwe=()=>Promise.allSettled(Array.from(G1).map(e=>e()));class Cwe{completionStartTime=Date.now();completionEndTime;blurDuringCompletionTime;refocusTime;constructor(){window.addEventListener("blur",this.onWindowBlur)}logFocusAfterBlurDuringCompletionEvent=()=>{vt.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`}),K.logEvent("Focus After Blur During Completion",{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`})};onWindowBlur=()=>{this.blurDuringCompletionTime===void 0&&(this.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",this.onWindowFocusAfterBlur))};onWindowFocusAfterBlur=()=>{this.refocusTime=Date.now(),this.completionEndTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent(),this.cleanupFocusAfterBlurListener()};cleanupFocusAfterBlurListener=()=>{window.removeEventListener("focus",this.onWindowFocusAfterBlur)};onMessageError=()=>{window.removeEventListener("blur",this.onWindowBlur)};onMessageDone=()=>{window.removeEventListener("blur",this.onWindowBlur),this.blurDuringCompletionTime!==void 0&&(this.completionEndTime=Date.now(),vt.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),K.logEvent("Blur During Completion",{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),this.refocusTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent())}}const ES=new Set,fqe=e=>{p.useEffect(()=>(ES.add(e),()=>{ES.delete(e)}),[e])},$P=e=>{for(const t of ES)try{t({error:e})}catch(n){V.addError(n)}},kd=fn(()=>({messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}})),Swe=()=>kd.getState().ui.focusedNodeId,Td=()=>kd.getState().messagesDevData;function hqe(e){const t=Object.keys(Td()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n+1)%t.length;return t[r]}function pqe(e){const t=Object.keys(Td()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n-1+t.length)%t.length;return t[r]}function mqe(e){return Object.keys(Td()).indexOf(e)}const gqe=()=>Object.keys(Td()).length;var Q3,WP;function wwe(){if(WP)return Q3;WP=1;function e(t,n){for(var r,i=-1,s=t.length;++i<s;){var o=n(t[i]);o!==void 0&&(r=r===void 0?o:r+o)}return r}return Q3=e,Q3}var X3,KP;function Ewe(){if(KP)return X3;KP=1;var e=wwe(),t=NaN;function n(r,i){var s=r==null?0:r.length;return s?e(r,i)/s:t}return X3=n,X3}var e5,YP;function xwe(){if(YP)return e5;YP=1;var e=Ewe(),t=Sw();function n(r){return e(r,t)}return e5=n,e5}var kwe=xwe();const Twe=mn(kwe);function Owe(e){return e.length===0?null:e.reduce((n,r)=>n+r,0)/e.length}function Awe(e){const t=e.length;if(t===0)return 0;const n=Owe(e)||0,r=e.reduce((i,s)=>i+Math.pow(s-n,2),0)/t;return Math.sqrt(r)}function ZP(e,t){const n=e.slice().sort((a,l)=>a-l),r=t*(n.length-1),i=Math.floor(r),s=Math.ceil(r);if(i===s)return n[i];const o=r-i;return(1-o)*n[i]+o*n[s]}function Iwe(e){if(e.length===0)return null;const t=e.slice().sort((r,i)=>r-i),n=Math.floor(t.length/2);return t.length%2===0?(t[n-1]+t[n])/2:t[n]}var Vi=(e=>(e.FirstTokenLatency="first_token_lat",e.TotalRequestTime="total_request_time",e.TokenCount="token_count",e.StdDevTokenLatency="std_dev_token_lat",e.MeanTokenLatency="mean_token_lat",e.MedianTokenLatency="median_token_lat",e.MinTokenLatency="min_token_lat",e.MaxTokenLatency="max_token_lat",e.P95TokenLatency="p95_token_lat",e.P99TokenLatency="p99_token_lat",e))(Vi||{});const M$=e=>{const t=e.filter(f=>f.requestCount>1);let n=0;for(let f=0;f<e.length;f++){const h=e[f];if(n=h.requestDuration,h.content!=="")break}const r=ZP(t.map(f=>f.lastTokenDuration),.95),i=ZP(t.map(f=>f.lastTokenDuration),.99),s=Twe(t.map(f=>f.lastTokenDuration)),o=Iwe(t.map(f=>f.lastTokenDuration)),a=t.filter(f=>f.lastTokenDuration!==0).reduce((f,h)=>Math.min(f,h.lastTokenDuration),1/0),l=t.reduce((f,h)=>Math.max(f,h.lastTokenDuration),-1/0),c=Awe(t.map(f=>f.lastTokenDuration)),u=e[e.length-1]?.requestDuration;return[{id:"first_token_lat",name:"First Token lat.",stat:n>0?`${n.toFixed(2)}ms`:null,value:n>0?n:null,category:"summary"},{id:"total_request_time",name:"Total request time",stat:u?`${(u/1e3).toFixed(2)}s`:null,value:u||null,category:"summary"},{id:"token_count",name:"Token count",stat:`${e.length}`,value:e.length,category:"summary"},{id:"std_dev_token_lat",name:"Std dev Token lat.",stat:`${c.toFixed(2)}`,value:c,category:"token"},{id:"mean_token_lat",name:"Mean Token lat.",stat:s?`${s.toFixed(2)}ms`:null,value:s??null,category:"aggregate"},{id:"median_token_lat",name:"Median Token lat.",stat:o?`${o.toFixed(2)}ms`:null,value:o??null,category:"token"},{id:"min_token_lat",name:"Min Token lat.",stat:`${a.toFixed(2)}ms`,value:a??null,category:"token"},{id:"max_token_lat",name:"Max Token lat.",stat:`${l.toFixed(2)}ms`,value:l??null,category:"token"},{id:"p95_token_lat",name:"p95 Token lat.",stat:r?`${r.toFixed(2)}ms`:null,value:r??null,category:"aggregate"},{id:"p99_token_lat",name:"p99 Token lat.",stat:i?`${i.toFixed(2)}ms`:null,value:i??null,category:"aggregate"}]},vqe=()=>{const e=Td(),t=Swe();if(!e||!t)return{stats:[],targetLatencyData:[]};const r=e[t]?.data??[];return{stats:M$(r),targetLatencyData:r}},Mwe=(e,t,n,r)=>{kd.setState(i=>{const s={focusedNodeId:e},o={status:"active",data:[],model:t,serverRequestId:n,preflightTime:r};return{...i,activeNodeId:e,ui:s,messagesDevData:{...i.messagesDevData,[e]:o}}})},Rwe=(e,t,n)=>{const r=n?.search_source;kd.setState(i=>{const s=i.messagesDevData[e];return{...i,activeNodeId:e,messagesDevData:{...i.messagesDevData,[e]:{...s,data:[...s?.data??[],t],searchSource:r}}}})},Os=(e,t)=>t.find(n=>n.id===e)?.value,Pwe=e=>{if(!_n(Lt()))return;const n=Td()[e],r=M$(n.data),{preflightTime:i,model:s,serverRequestId:o,searchSource:a}=n;return he.safePost("/lat/r",{requestBody:{server_request_id:o,model:s,preflight_time_ms:i,search_source:a,count_tokens:Os(Vi.TokenCount,r)??0,ts_first_token_ms:Os(Vi.FirstTokenLatency,r),ts_max_token_time_ms:Os(Vi.MaxTokenLatency,r),ts_mean_token_without_first_ms:Os(Vi.MeanTokenLatency,r),ts_median_token_without_first_ms:Os(Vi.MedianTokenLatency,r),ts_min_token_time_ms:Os(Vi.MinTokenLatency,r),ts_p95_token_without_first_ms:Os(Vi.P95TokenLatency,r),ts_p99_token_without_first_ms:Os(Vi.P99TokenLatency,r),ts_std_dev_token_ms:Os(Vi.StdDevTokenLatency,r),ts_total_request_ms:Os(Vi.TotalRequestTime,r)}})},Nwe=e=>kd.setState(t=>{const n={...t.messagesDevData[e],status:"finished"};return{...t,messagesDevData:{...t.messagesDevData,[e]:n}}}),_qe=e=>kd.setState(t=>({...t,ui:{...t.ui,focusedNodeId:e}}));class Dwe{constructor(t,n){this.requestLatencyId=t,this.requestStartTime=n,this.requestLastTokenTime=n}requestLastTokenTime;requestCount=0;requestTimes=[];onResponse(t,n,r){const i=performance.now(),s=i-this.requestLastTokenTime,o=i-this.requestStartTime;this.requestLastTokenTime=i,this.requestCount+=1;const a={requestCount:this.requestCount,requestDuration:o,lastTokenDuration:Number(JSON.stringify(s)),messageType:n.content.content_type,content:Vf(n)?Ih(n):""};this.requestTimes.push(a),t.type==="message"?Rwe(this.requestLatencyId,a,n.metadata):t.type==="done"&&r!=null&&(Nwe(this.requestLatencyId),Pwe(this.requestLatencyId))}}const Lwe=(e,t)=>{const{isCompletion:n,messageId:r,conversationId:i,flagged:s,blocked:o,disclaimers:a,metadata:l,shouldDisableConversation:c}=e,u=!!a?.length;Mt(t,d=>{Pr.updateTree(d,f=>{const h=f.messageIdToNodeId(r);o&&f.clearNodeMessageParts(h);const m=o,v=l?.safety_limited??!1;f.updateNodeMetadata(h,{...(u&&!!a?.length&&$j(a,o))??{},...s&&Hj,...o&&Wj({isSafetyLimited:v,shouldDisableConversation:c,isModelIncompatibility:m}),...c&&Vj,completionSampleFinishTime:Date.now()})})}),K.logEvent(n?o?"Moderation: Completion Content Blocked":"Moderation: Completion Content Flagged":o?"Moderation: Prompt Content Blocked":"Moderation: Prompt Content Flagged",{threadId:i,id:r})};function Fwe(e){e.systemHints!==void 0&&e.systemHints.includes(Ae.Search)||(e.systemHints=[...e.systemHints??[],Ae.Search])}var t5,JP;function R$(){if(JP)return t5;JP=1;var e=tB(),t=Rh(),n=YH(),r=Iz();function i(s,o){if(s==null)return{};var a=e(r(s),function(l){return[l]});return o=t(o),n(s,a,function(l,c){return o(l,c[0])})}return t5=i,t5}var jwe=R$();const P$=mn(jwe),QP={base_config:void 0,eval_preset:void 0,sonicberry_model_ids:void 0,settings_overrides:void 0,dump_sub_conversation:void 0};fn(e=>({settings:N$(),setSettings:t=>{e({settings:t}),$e.setCookie(je.InternalSearchSettings,JSON.stringify(t),{maxAge:2*365*24*60*60})}}));function N$(){let e;try{const t=$e.getCookie(je.InternalSearchSettings);e=t?JSON.parse(t):QP}catch{e=QP}return P$(e,t=>!!t)}const D$=(e=Lt(),t=!1)=>_n(e)?pn(e)?.planType===Ke.FREE?$t(e,"3178812292",{disableExposureLog:t}):$t(e,"3703416703",{disableExposureLog:t}):$t(e,"2861477803",{disableExposureLog:t}),Bwe=(e=Lt())=>{const t=Jh().fConversationEndpoint;return t==="convo2"?!0:t==="convo1"?!1:Qe(e,"4154476537")?!0:D$(e,!0).get("use_f_prepare",!1)},yE=(e=Lt(),t=!1)=>{const n=Jh().fConversationEndpoint;return n==="convo2"?!0:n==="convo1"?!1:Qe(e,"4154476537")?!0:D$(e,t).get("use_f_convo",!1)},Uwe=()=>N$().fast_search??!1;function XP(e,t){yc.setState(n=>{const r=n.threads[e];if(r)r.prepareRequestBlocked=t,t||(r.lastCompletionFinishedTimestamp=performance.now());else{const i=Pi(e);if(i){const s=n.threads[i];s&&(s.prepareRequestBlocked=t,t||(s.lastCompletionFinishedTimestamp=performance.now()))}}})}const qwe="starredConversations",yqe=5,eN="snorlaxConversations",bqe=el.div`text-sm text-red-500`,zwe=5,Gwe=25,Hwe=40,Vwe=e=>{switch(e){case Ke.FREE:return zwe;case Ke.GO:case Ke.PLUS:case Ke.EDUCATION_CBP:case Ke.QUORUM:case Ke.DEPRECATED_EDU:return Gwe;case Ke.DEPRECATED_ENTERPRISE:case Ke.PRO:case Ke.SELF_SERVE_BUSINESS:case Ke.ENTERPRISE_CBP:return Hwe}};function Cqe({accountPlanType:e,numFiles:t}){return!e||![Ke.FREE,Ke.GO,Ke.PLUS].includes(e)?!1:t>=Vwe(e)}const $we="disable_history",Sqe="user_latency_tools",wqe="mfa",Eqe="chatgpt_allow_workspace_instruction",xqe="chatgpt_allow_workspace_policy",kqe="workspace_ip_allowlist";var Wwe=(e=>(e.BrowsingAvailable="browsing_available",e.Sunshine="sunshine_available",e.GoldenHour="golden_hour",e.WorkspaceGPTCustomActions="workspace_gpt_custom_actions",e.WorkspaceShareLinks="workspace_share_links",e.GizmoSupportEmails="gizmo_support_emails",e.D3Editor="d3_editor",e.D3EditorAllGpts="d3_editor_gpts",e.DataAnalysisV2="graphite",e.ChartSerialization="chart_serialization",e.SearchTool="search_tool",e.SearchToolHoldout="search_tool_holdout",e.MemoryInSearch="memory_in_search",e.Canvas="canvas",e.CanvasCodeExecution="canvas_code_execution",e.CanvasCodeNetworkAccess="canvas_code_network_access",e.GizmoCanvasToggle="gizmo_canvas_toggle",e.Moonshine="moonshine",e.VideoScreenSharing="video_screen_sharing",e.DeepResearch="caterpillar",e.AllowVoiceUse="breeze_available",e.ImageGenToggle="image_gen_toggle",e.EditInCanvas="edit_in_canvas",e))(Wwe||{});const Kwe=28,bE="conversationHistory",tN="conversation-history",Ywe=1,CE=nn(()=>kt([]));function Zwe(e,t,n){if(!Qe(e,"1753085879"))return;CE(e).set(i=>{const s=i.findIndex(o=>o.conversationId===t);if(s!==-1){const o=i.slice();return o[s]={...o[s],title:n},o}return[{conversationId:t,title:n},...i]})}function L$(){return iY({queryKey:[bE],queryFn:async({pageParam:e})=>{const t=await he.safeGet("/conversations",{parameters:{query:{offset:e,limit:Kwe,order:"updated",is_archived:!1,is_starred:!1}},intercomEventOnError:"fetch-error:conversations:get",authOption:tn.SendIfAvailable});return V.addFirstTiming("load.conversationHistory"),PQ(()=>{const n=CE(Lt()),r=jl(()=>n());for(const i of t.items){if(i.async_status!=null){const s=tl(Lt(),i.id);A$(s,{source:Ps.SERVER,value:i.async_status})}r.some(s=>s.conversationId===i.id)&&n.set(s=>s.filter(o=>o.conversationId!==i.id))}}),t},initialPageParam:0,getNextPageParam:e=>{const t=(e.offset??0)+(e.limit??0);return t<(e.total??0)?t:void 0}})}function Tqe(e={}){"use forget";const{buckets:t,recentConversationLimit:n}=e,i=Fj()?.includes($we)??!1,s=pe(),o=pn(s),a=!i&&!!o,l=yt(),c=H9(),u=zr(()=>CE(s)()),d=c,f=Xg(tN,Ywe,[bE]),{data:h,fetchNextPage:m,hasNextPage:v,isLoading:_,isFetchingNextPage:y,isError:b,refetch:C}=WS({...L$(),enabled:a,refetchOnReconnect:d?"always":!0,refetchOnWindowFocus:d?"always":!0,placeholderData:f});p.useEffect(()=>{b&&Zoe(s,tN)},[b,s]);const S=p.useMemo(()=>{const E=h?.pages.flatMap(O=>O.items)??[];return[...u.map(O=>({id:O.conversationId,title:O.title})).filter(O=>!E.some(k=>k.id===O.id)),...E]},[h,u]),x=p.useMemo(()=>{if(!h||!t)return[];const E=Jwe(S,l);return[E.recent,E.dynamicMonths,E.dynamicYears].flatMap(O=>Object.entries(O).map(([k,{items:A,label:I}],D)=>({key:`${k}-${D}`,label:I,items:A}))).filter(O=>O.items.length>0)},[S,h,l,t]),w=p.useMemo(()=>{const E=S.slice(0,n??5);return{key:"recents",label:l.formatMessage(ff.historyBucketRecent),items:E}},[S,n,l]);return{buckets:x,conversations:S,data:h,fetchNextPage:m,hasNextPage:v,refetch:C,recents:w,isLoading:_,isFetchingNextPage:y,isError:b}}function Jwe(e,t){return e.reduce((n,r)=>{const i=new Date(r.update_time??r.create_time??0),s=Kz(new Date,i);if(s===0)n.recent.today.items.push(r);else if(s<=1)n.recent.yesterday.items.push(r);else if(s<=7)n.recent.lastSeven.items.push(r);else if(s<=30)n.recent.lastThirty.items.push(r);else if(Z0e(i)){const o=JA(i),a=$0e(i),l=`${o}-${a}`;n.dynamicMonths[l]?n.dynamicMonths[l].items.push(r):n.dynamicMonths[l]={label:t.formatDate(i,{month:"long"}),items:[r]}}else{const a=`${JA(i)}-`;n.dynamicYears[a]?n.dynamicYears[a].items.push(r):n.dynamicYears[a]={label:t.formatDate(i,{year:"numeric"}),items:[r]}}return n},{recent:{today:{label:t.formatMessage(ff.historyBucketToday),items:[]},yesterday:{label:t.formatMessage(ff.historyBucketYesterday),items:[]},lastSeven:{label:t.formatMessage(ff.historyBucketLastSeven),items:[]},lastThirty:{label:t.formatMessage(ff.historyBucketLastThirty),items:[]}},dynamicMonths:{},dynamicYears:{}})}function F$(e,t){e.invalidateQueries({queryKey:[bE]}),e.invalidateQueries({queryKey:[qwe]}),t?e.invalidateQueries({queryKey:[eN,{gizmoId:t}]}):e.invalidateQueries({queryKey:[eN]})}function Qwe(e,t,n){Wa(e).setQueryData(L$().queryKey,r=>{if(r!==void 0)return Wi(r,i=>{for(const s of i.pages)for(const o of s.items)o.id===t&&(o.title=n)})})}const ff=It({historyBucketRecent:{id:"history.bucket.recent",defaultMessage:"Recent"},historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}});function Xwe(e){window.history.pushState({},"",e)}function j$(e,t,n,r){Mt(t,i=>{i.title=n,i.titleSource=r}),Mu.publish({kind:"updateThreadTitle",conversationId:t}),Qwe(e,t,n)}function e9e(e,t,n){const i=Ee.getCurrentNode(ln(t)).message.id;he.safePost("/conversation/gen_title/{conversation_id}",{parameters:{path:{conversation_id:t}},requestBody:{message_id:i},intercomEventOnError:"fetch-error:conversation:generate-title",authOption:tn.SendIfAvailable}).then(({title:s})=>{const o=Ee.getGizmoId(ln(t));j$(e,t,s,Qw.Generated),F$(Wa(e),o),K.logEvent("Rename Thread",{threadId:t,content:s,model:n})})}function t9e(e,t,n,r,i){const s=Ee.getGizmoId(ln(n));s!=null?c6e(t,s).then(o=>{if(r){e(im(n,o));return}Xwe(im(n,o))}).catch(o=>{V.addError(o),e(im(n))}):e(im(n))}var Ms=(e=>(e.Unavailable="unavailable",e.Thinking="thinking",e.Generating="generating",e.AsyncGenerating="async_generating",e.AsyncHanging="async_hanging",e.Complete="complete",e.Errored="errored",e.Empty="empty",e))(Ms||{});const n9e=["generating","async_generating","async_hanging","thinking"],r9e="sj1i4kz",Uu=`${Bl.T2UAY3K}.${r9e}`;function SE(e){return e.author.role==="tool"&&e.author.name===Uu&&e.content.content_type===He.MultimodalText}function i9e(e,{skipSort:t}={skipSort:!1}){let n=e.filter(s=>SE(s)&&!s.metadata?.is_visually_hidden_from_conversation);t||(n=[...n].sort((s,o)=>(s.metadata?.generation_index??0)-(o.metadata?.generation_index??0)));const r=n.flatMap(s=>Wg.getImageAssetPointers(s)),i=n.map(s=>s.id);return{imageAssetPointers:r,messageIds:i}}const B$=(e,t)=>{const n=e.find(v=>v.author.role===Ve.Tool&&[He.Error,He.SystemError].includes(v.content.content_type)||v.metadata?.is_error),{imageAssetPointers:r}=i9e(e),i=r.length>0,o=e.some(v=>SE(v))&&!i,a=e.some(v=>{if(v.metadata?.image_gen_async)return!1;const _=v.author.name===Bl.IMAGE_GEN_HALLUCINATED||v.author.name===Uu,y=v.content.content_type===He.Text,b=!!v.metadata?.is_visually_hidden_from_conversation;return _&&y&&b}),l=e.length>0&&!!e[e.length-1]?.metadata?.image_gen_async,u=!e.some(v=>[Uu,Bl.IMAGE_GEN_HALLUCINATED].includes(v.author.name??"")&&v.content.content_type===He.MultimodalText)&&e.some(v=>{const _=[Uu,Bl.IMAGE_GEN_HALLUCINATED].includes(v.author.name??""),y=v.recipient==="assistant";return _&&y});let d=0;for(const v of r){const _=v.height,y=v.metadata?.generation?.height??void 0;d+=_!==void 0&&y!==void 0?y/_:0}const f=r.length>0?d/r.length:0,h=n!==void 0,m=t?Ms.AsyncGenerating:Ms.AsyncHanging;if(o||a||u)return Ms.Empty;if(h)return Ms.Errored;if(f){if(f<1)return l?m:Ms.Generating;if(f===1)return Ms.Complete}else return l?m:Ms.Thinking;return Ms.Unavailable},s9e=e=>B$([e],!0)===Ms.Complete,o9e=e=>e.author.role===Ve.Assistant&&e.recipient===Uu;function Oqe(e){return(e.author.name===Uu||o9e(e))&&n9e.includes(B$([e],!0))}const a9e=["notificationSettings"];class l9e{static async getOrCreateSubscription({endpoint:t,p256dh:n,auth:r}){return he.safePost("/notifications/subscription/register",{requestBody:{platform:"web",web_metadata:{endpoint:t,p256dh:n},token:r}})}static async getSettings(){return he.safeGet("/notifications/settings")}static async updateSettings(t){const{category:n,...r}=t;return he.safePatch("/notifications/settings",{requestBody:{updates:{[n]:r}}})}}const c9e=1e4,U$=fn(Ja(()=>({notifications:[]}))),u9e=e=>{const t=crypto.randomUUID();U$.setState(r=>{r.notifications.push({...e,id:t})});const n=e.timeout??c9e;setTimeout(()=>{d9e(t)},n)},d9e=e=>{U$.setState(t=>{t.notifications=t.notifications.filter(n=>n.id!==e)})},Aqe=({onSuccess:e,alwaysRefetchOnMount:t=!1})=>Rt({queryKey:a9e,queryFn:async()=>{const r=(await l9e.getSettings()).settings;return e?.(r),r},refetchOnMount:t?"always":!0});function f9e(e,t){if(e.length<=t)return e;const n=e.slice(0,Math.min(e.length,t+20)),r=n.lastIndexOf("."),i=n.lastIndexOf("!"),s=n.lastIndexOf("?"),o=Math.max(r,i,s);if(o>0&&o<=t&&o>=Math.floor(t*.4))return e.slice(0,o+1).trim()+"…";const a=e.lastIndexOf(" ",t);return a>Math.floor(t*.25)?e.slice(0,a).trim()+"…":e.slice(0,t).trim()+"…"}function h9e(e,t){return t&&(e?.kind===an.GizmoInteraction||e?.kind===an.PrimaryAssistant)?{gizmo_id:t,kind:an.GizmoInteraction}:e}function p9e(e){return e==null||[an.PrimaryAssistant,an.GizmoInteraction].includes(e.kind)}function Iqe(e,t){"use forget";const n=Re.c(5);let r;n[0]!==t?(r=o=>h9e(o?.mode,t),n[0]=t,n[1]=r):r=n[1];const i=zo(e,r),{data:s}=TV(i!=null&&"gizmo_id"in i?i.gizmo_id:void 0,i?.kind===an.GizmoTest);if(i!=null)switch(i.kind){case an.GizmoInteraction:case an.GizmoMagicCreate:case an.GizmoTest:{let o;return n[2]!==i||n[3]!==s?(o={gizmo:s,...i},n[2]=i,n[3]=s,n[4]=o):o=n[4],o}case an.FlyingCircusCustomization:case an.PrimaryAssistant:return i}}const H1=fn(Ja(()=>null)),m9e={updateDetails:e=>{["beacon_banner_info","beacon_modal_info"].includes(e.ui_info.type)&&H1.setState(()=>({...e}),!0)},dismiss:()=>{H1.setState(()=>null,!0)}};function Mqe(){return H1(e=>e?.ui_info.type==="beacon_banner_info"?e:null)}function Rqe(){return H1(e=>e?.ui_info.type==="beacon_modal_info"?e:null)}function V1(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Pqe(){}function Nqe(){}const q$=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],nN={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function z$(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function g9e(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function v9e(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function rN(e){return v9e(e)||z$(e)}const iN=document.createElement("i");function ah(e){const t="&"+e+";";iN.innerHTML=t;const n=iN.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const tu=String.fromCharCode,_9e=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function wE(e,t={}){const n=typeof t.additional=="string"?t.additional.charCodeAt(0):t.additional,r=[];let i=0,s=-1,o="",a,l;t.position&&("start"in t.position||"indent"in t.position?(l=t.position.indent,a=t.position.start):a=t.position);let c=(a?a.line:0)||1,u=(a?a.column:0)||1,d=h(),f;for(i--;++i<=e.length;)if(f===10&&(u=(l?l[s]:0)||1),f=e.charCodeAt(i),f===38){const _=e.charCodeAt(i+1);if(_===9||_===10||_===12||_===32||_===38||_===60||Number.isNaN(_)||n&&_===n){o+=tu(f),u++;continue}const y=i+1;let b=y,C=y,S;if(_===35){C=++b;const I=e.charCodeAt(C);I===88||I===120?(S="hexadecimal",C=++b):S="decimal"}else S="named";let x="",w="",E="";const T=S==="named"?rN:S==="decimal"?z$:g9e;for(C--;++C<=e.length;){const I=e.charCodeAt(C);if(!T(I))break;E+=tu(I),S==="named"&&q$.includes(E)&&(x=E,w=ah(E))}let O=e.charCodeAt(C)===59;if(O){C++;const I=S==="named"?ah(E):!1;I&&(x=E,w=I)}let k=1+C-y,A="";if(!(!O&&t.nonTerminated===!1))if(!E)S!=="named"&&m(4,k);else if(S==="named"){if(O&&!w)m(5,1);else if(x!==E&&(C=b+x.length,k=1+C-b,O=!1),!O){const I=x?1:3;if(t.attribute){const D=e.charCodeAt(C);D===61?(m(I,k),w=""):rN(D)?w="":m(I,k)}else m(I,k)}A=w}else{O||m(2,k);let I=Number.parseInt(E,S==="hexadecimal"?16:10);if(y9e(I))m(7,k),A=tu(65533);else if(I in nN)m(6,k),A=nN[I];else{let D="";b9e(I)&&m(6,k),I>65535&&(I-=65536,D+=tu(I>>>10|55296),I=56320|I&1023),A=D+tu(I)}}if(A){v(),d=h(),i=C-1,u+=C-y+1,r.push(A);const I=h();I.offset++,t.reference&&t.reference.call(t.referenceContext,A,{start:d,end:I},e.slice(y-1,C)),d=I}else E=e.slice(y-1,C),o+=E,u+=E.length,i=C-1}else f===10&&(c++,s++,u=0),Number.isNaN(f)?v():(o+=tu(f),u++);return r.join("");function h(){return{line:c,column:u,offset:i+((a?a.offset:0)||0)}}function m(_,y){let b;t.warning&&(b=h(),b.column+=y,b.offset+=y,t.warning.call(t.warningContext,_9e[_],b,_))}function v(){o&&(r.push(o),t.text&&t.text.call(t.textContext,o,{start:d,end:h()}),o="")}}function y9e(e){return e>=55296&&e<=57343||e>1114111}function b9e(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}const C9e=/["&'<>`]/g,S9e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w9e=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,E9e=/[|\\{}()[\]^$+*?.]/g,sN=new WeakMap;function G$(e,t){if(e=e.replace(t.subset?x9e(t.subset):C9e,r),t.subset||t.escapeOnly)return e;return e.replace(S9e,n).replace(w9e,r);function n(i,s,o){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),t)}function r(i,s,o){return t.format(i.charCodeAt(0),o.charCodeAt(s+1),t)}}function x9e(e){let t=sN.get(e);return t||(t=k9e(e),sN.set(e,t)),t}function k9e(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(E9e,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const T9e=/[\dA-Fa-f]/;function O9e(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!T9e.test(String.fromCharCode(t))?r:r+";"}const A9e=/\d/;function I9e(e,t,n){const r="&#"+String(e);return n&&t&&!A9e.test(String.fromCharCode(t))?r:r+";"}const n5={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},M9e=["cent","copy","divide","gt","lt","not","para","times"],H$={}.hasOwnProperty,xS={};let lm;for(lm in n5)H$.call(n5,lm)&&(xS[n5[lm]]=lm);const R9e=/[^\dA-Za-z]/;function P9e(e,t,n,r){const i=String.fromCharCode(e);if(H$.call(xS,i)){const s=xS[i],o="&"+s;return n&&q$.includes(s)&&!M9e.includes(s)&&(!r||t&&t!==61&&R9e.test(String.fromCharCode(t)))?o:o+";"}return""}function N9e(e,t,n){let r=O9e(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=P9e(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=I9e(e,t,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function D9e(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Dqe(e,t){return G$(e,Object.assign({format:N9e},t))}function L9e(e,t){return G$(e,Object.assign({format:D9e},t))}const B0=function(e){if(e==null)return U9e;if(typeof e=="function")return U0(e);if(typeof e=="object")return Array.isArray(e)?F9e(e):j9e(e);if(typeof e=="string")return B9e(e);throw new Error("Expected function, string, or object as test")};function F9e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=B0(e[n]);return U0(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function j9e(e){const t=e;return U0(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function B9e(e){return U0(t);function t(n){return n&&n.type===e}}function U0(e){return t;function t(n,r,i){return!!(q9e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function U9e(){return!0}function q9e(e){return e!==null&&typeof e=="object"&&"type"in e}const V$=[],z9e=!0,kS=!1,G9e="skip";function EE(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=B0(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=V$,m,v,_;if((!t||s(l,c,u[u.length-1]||void 0))&&(h=H9e(n(l,u)),h[0]===kS))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==G9e)for(v=(r?y.children.length:-1)+o,_=u.concat(y);v>-1&&v<y.children.length;){const b=y.children[v];if(m=a(b,v,_)(),m[0]===kS)return m;v=typeof m[1]=="number"?m[1]:v+o}}return h}}}function H9e(e){return Array.isArray(e)?e:typeof e=="number"?[z9e,e]:e==null?V$:[e]}const V9e={}.hasOwnProperty,$9e={},oN=/^[^\t\n\r "#'.<=>`}]+$/,W9e=/^[^\t\n\r "'<=>`}]+$/;function K9e(){return{canContainEols:["textDirective"],enter:{directiveContainer:Z9e,directiveContainerAttributes:i5,directiveContainerLabel:X9e,directiveLeaf:J9e,directiveLeafAttributes:i5,directiveText:Q9e,directiveTextAttributes:i5},exit:{directiveContainer:u5,directiveContainerAttributeClassValue:o5,directiveContainerAttributeIdValue:s5,directiveContainerAttributeName:l5,directiveContainerAttributeValue:a5,directiveContainerAttributes:c5,directiveContainerLabel:eEe,directiveContainerName:r5,directiveLeaf:u5,directiveLeafAttributeClassValue:o5,directiveLeafAttributeIdValue:s5,directiveLeafAttributeName:l5,directiveLeafAttributeValue:a5,directiveLeafAttributes:c5,directiveLeafName:r5,directiveText:u5,directiveTextAttributeClassValue:o5,directiveTextAttributeIdValue:s5,directiveTextAttributeName:l5,directiveTextAttributeValue:a5,directiveTextAttributes:c5,directiveTextName:r5}}}function Y9e(e){const t=$9e;if(t.quote!=='"'&&t.quote!=="'"&&t.quote!==null&&t.quote!==void 0)throw new Error("Invalid quote `"+t.quote+"`, expected `'` or `\"`");return n.peek=tEe,{handlers:{containerDirective:n,leafDirective:n,textDirective:n},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function n(s,o,a,l){const c=a.createTracker(l),u=nEe(s),d=a.enter(s.type);let f=c.move(u+(s.name||"")),h;if(s.type==="containerDirective"){const m=(s.children||[])[0];h=aN(m)?m:void 0}else h=s;if(h&&h.children&&h.children.length>0){const m=a.enter("label"),v=`${s.type}Label`,_=a.enter(v);f+=c.move("["),f+=c.move(a.containerPhrasing(h,{...c.current(),before:f,after:"]"})),f+=c.move("]"),_(),m()}if(f+=c.move(r(s,a)),s.type==="containerDirective"){const m=(s.children||[])[0];let v=s;aN(m)&&(v=Object.assign({},s,{children:s.children.slice(1)})),v&&v.children&&v.children.length>0&&(f+=c.move(`
`),f+=c.move(a.containerFlow(v,c.current()))),f+=c.move(`
`+u)}return d(),f}function r(s,o){const a=s.attributes||{},l=[];let c,u,d,f;for(f in a)if(V9e.call(a,f)&&a[f]!==void 0&&a[f]!==null){const h=String(a[f]);if(f==="id")d=t.preferShortcut!==!1&&oN.test(h)?"#"+h:i("id",h,s,o);else if(f==="class"){const m=h.split(/[\t\n\r ]+/g),v=[],_=[];let y=-1;for(;++y<m.length;)(t.preferShortcut!==!1&&oN.test(m[y])?_:v).push(m[y]);c=v.length>0?i("class",v.join(" "),s,o):"",u=_.length>0?"."+_.join("."):""}else l.push(i(f,h,s,o))}return c&&l.unshift(c),u&&l.unshift(u),d&&l.unshift(d),l.length>0?"{"+l.join(" ")+"}":""}function i(s,o,a,l){if(t.collapseEmptyAttributes!==!1&&!o)return s;if(t.preferUnquoted&&W9e.test(o))return s+"="+o;const c=t.quote||l.options.quote||'"',u=c==='"'?"'":'"',d=t.quoteSmart&&V1(o,c)>V1(o,u)?u:c,f=a.type==="textDirective"?[d]:[d,`
`,"\r"];return s+"="+d+L9e(o,{subset:f})+d}}function Z9e(e){xE.call(this,"containerDirective",e)}function J9e(e){xE.call(this,"leafDirective",e)}function Q9e(e){xE.call(this,"textDirective",e)}function xE(e,t){this.enter({type:e,name:"",attributes:{},children:[]},t)}function r5(e){const t=this.stack[this.stack.length-1];t.type==="containerDirective"||t.type==="leafDirective"||t.type,t.name=this.sliceSerialize(e)}function X9e(e){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},e)}function eEe(e){this.exit(e)}function i5(){this.data.directiveAttributes=[],this.buffer()}function s5(e){this.data.directiveAttributes.push(["id",wE(this.sliceSerialize(e),{attribute:!0})])}function o5(e){this.data.directiveAttributes.push(["class",wE(this.sliceSerialize(e),{attribute:!0})])}function a5(e){const t=this.data.directiveAttributes;t[t.length-1][1]=wE(this.sliceSerialize(e),{attribute:!0})}function l5(e){this.data.directiveAttributes.push([this.sliceSerialize(e),""])}function c5(){const e=this.data.directiveAttributes,t={};let n=-1;for(;++n<e.length;){const i=e[n];i[0]==="class"&&t.class?t.class+=" "+i[1]:t[i[0]]=i[1]}this.data.directiveAttributes=void 0,this.resume();const r=this.stack[this.stack.length-1];r.type==="containerDirective"||r.type==="leafDirective"||r.type,r.attributes=t}function u5(e){this.exit(e)}function tEe(){return":"}function aN(e){return!!(e&&e.type==="paragraph"&&e.data&&e.data.directiveLabel)}function nEe(e){let t=0;return e.type==="containerDirective"?(EE(e,function(n,r){if(n.type==="containerDirective"){let i=r.length,s=0;for(;i--;)r[i].type==="containerDirective"&&s++;s>t&&(t=s)}}),t+=3):e.type==="leafDirective"?t=2:t=1,":".repeat(t)}const sr=sl(/[A-Za-z]/),Vn=sl(/[\dA-Za-z]/),rEe=sl(/[#-'*+\--9=?A-Z^-~]/);function $1(e){return e!==null&&(e<32||e===127)}const TS=sl(/\d/),iEe=sl(/[\dA-Fa-f]/),sEe=sl(/[!-/:-@[-`{-~]/);function Be(e){return e!==null&&e<-2}function At(e){return e!==null&&(e<0||e===32)}function _t(e){return e===-2||e===-1||e===32}const q0=sl(new RegExp("\\p{P}|\\p{S}","u")),uc=sl(/\s/);function sl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ft(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return _t(l)?(e.enter(n),a(l)):t(l)}function a(l){return _t(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}function yo(e,t){let n;return r;function r(i){return Be(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):_t(i)?ft(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function kE(e,t,n,r,i,s,o,a,l,c,u,d,f,h,m){let v,_;return y;function y(R){return e.enter(r),e.enter(i),e.consume(R),e.exit(i),b}function b(R){return R===35?(v=o,C(R)):R===46?(v=a,C(R)):R===58||R===95||sr(R)?(e.enter(s),e.enter(l),e.consume(R),w):m&&_t(R)?ft(e,b,"whitespace")(R):!m&&At(R)?yo(e,b)(R):N(R)}function C(R){const F=v+"Marker";return e.enter(s),e.enter(v),e.enter(F),e.consume(R),e.exit(F),S}function S(R){if(R===null||R===34||R===35||R===39||R===46||R===60||R===61||R===62||R===96||R===125||At(R))return n(R);const F=v+"Value";return e.enter(F),e.consume(R),x}function x(R){if(R===null||R===34||R===39||R===60||R===61||R===62||R===96)return n(R);if(R===35||R===46||R===125||At(R)){const F=v+"Value";return e.exit(F),e.exit(v),e.exit(s),b(R)}return e.consume(R),x}function w(R){return R===45||R===46||R===58||R===95||Vn(R)?(e.consume(R),w):(e.exit(l),m&&_t(R)?ft(e,E,"whitespace")(R):!m&&At(R)?yo(e,E)(R):E(R))}function E(R){return R===61?(e.enter(c),e.consume(R),e.exit(c),T):(e.exit(s),b(R))}function T(R){return R===null||R===60||R===61||R===62||R===96||R===125||m&&Be(R)?n(R):R===34||R===39?(e.enter(u),e.enter(f),e.consume(R),e.exit(f),_=R,k):m&&_t(R)?ft(e,T,"whitespace")(R):!m&&At(R)?yo(e,T)(R):(e.enter(d),e.enter(h),e.consume(R),_=void 0,O)}function O(R){return R===null||R===34||R===39||R===60||R===61||R===62||R===96?n(R):R===125||At(R)?(e.exit(h),e.exit(d),e.exit(s),b(R)):(e.consume(R),O)}function k(R){return R===_?(e.enter(f),e.consume(R),e.exit(f),e.exit(u),e.exit(s),D):(e.enter(d),A(R))}function A(R){return R===_?(e.exit(d),k(R)):R===null?n(R):Be(R)?m?n(R):yo(e,A)(R):(e.enter(h),e.consume(R),I)}function I(R){return R===_||R===null||Be(R)?(e.exit(h),A(R)):(e.consume(R),I)}function D(R){return R===125||At(R)?b(R):N(R)}function N(R){return R===125?(e.enter(i),e.consume(R),e.exit(i),e.exit(r),t):n(R)}}function TE(e,t,n,r,i,s,o){let a=0,l=0,c;return u;function u(_){return e.enter(r),e.enter(i),e.consume(_),e.exit(i),d}function d(_){return _===93?(e.enter(i),e.consume(_),e.exit(i),e.exit(r),t):(e.enter(s),f(_))}function f(_){if(_===93&&!l)return v(_);const y=e.enter("chunkText",{contentType:"text",previous:c});return c&&(c.next=y),c=y,h(_)}function h(_){return _===null||a>999||_===91&&++l>32?n(_):_===93&&!l--?(e.exit("chunkText"),v(_)):Be(_)?o?n(_):(e.consume(_),e.exit("chunkText"),f):(e.consume(_),_===92?m:h)}function m(_){return _===91||_===92||_===93?(e.consume(_),a++,h):h(_)}function v(_){return e.exit(s),e.enter(i),e.consume(_),e.exit(i),e.exit(r),t}}function OE(e,t,n,r){const i=this;return s;function s(a){return sr(a)?(e.enter(r),e.consume(a),o):n(a)}function o(a){return a===45||a===95||Vn(a)?(e.consume(a),o):(e.exit(r),i.previous===45||i.previous===95?n(a):t(a))}}const oEe={tokenize:cEe,concrete:!0},aEe={tokenize:uEe,partial:!0},lEe={tokenize:dEe,partial:!0},lN={tokenize:fEe,partial:!0};function cEe(e,t,n){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0,a;return l;function l(E){return e.enter("directiveContainer"),e.enter("directiveContainerFence"),e.enter("directiveContainerSequence"),c(E)}function c(E){return E===58?(e.consume(E),o++,c):o<3?n(E):(e.exit("directiveContainerSequence"),OE.call(r,e,u,n,"directiveContainerName")(E))}function u(E){return E===91?e.attempt(aEe,d,d)(E):d(E)}function d(E){return E===123?e.attempt(lEe,f,f)(E):f(E)}function f(E){return ft(e,h,"whitespace")(E)}function h(E){return e.exit("directiveContainerFence"),E===null?m(E):Be(E)?r.interrupt?t(E):e.attempt(lN,v,m)(E):n(E)}function m(E){return e.exit("directiveContainer"),t(E)}function v(E){return E===null?(e.exit("directiveContainer"),t(E)):(e.enter("directiveContainerContent"),_(E))}function _(E){return E===null?x(E):e.attempt({tokenize:w,partial:!0},x,s?ft(e,y,"linePrefix",s+1):y)(E)}function y(E){if(E===null)return x(E);const T=e.enter("chunkDocument",{contentType:"document",previous:a});return a&&(a.next=T),a=T,b(E)}function b(E){if(E===null){const T=e.exit("chunkDocument");return r.parser.lazy[T.start.line]=!1,x(E)}return Be(E)?e.check(lN,C,S)(E):(e.consume(E),b)}function C(E){e.consume(E);const T=e.exit("chunkDocument");return r.parser.lazy[T.start.line]=!1,_}function S(E){const T=e.exit("chunkDocument");return r.parser.lazy[T.start.line]=!1,x(E)}function x(E){return e.exit("directiveContainerContent"),e.exit("directiveContainer"),t(E)}function w(E,T,O){let k=0;return ft(E,A,"linePrefix",4);function A(N){return E.enter("directiveContainerFence"),E.enter("directiveContainerSequence"),I(N)}function I(N){return N===58?(E.consume(N),k++,I):k<o?O(N):(E.exit("directiveContainerSequence"),ft(E,D,"whitespace")(N))}function D(N){return N===null||Be(N)?(E.exit("directiveContainerFence"),T(N)):O(N)}}}function uEe(e,t,n){return TE(e,t,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function dEe(e,t,n){return kE(e,t,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function fEe(e,t,n){const r=this;return i;function i(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const hEe={tokenize:gEe},pEe={tokenize:vEe,partial:!0},mEe={tokenize:_Ee,partial:!0};function gEe(e,t,n){const r=this;return i;function i(u){return e.enter("directiveLeaf"),e.enter("directiveLeafSequence"),e.consume(u),s}function s(u){return u===58?(e.consume(u),e.exit("directiveLeafSequence"),OE.call(r,e,o,n,"directiveLeafName")):n(u)}function o(u){return u===91?e.attempt(pEe,a,a)(u):a(u)}function a(u){return u===123?e.attempt(mEe,l,l)(u):l(u)}function l(u){return ft(e,c,"whitespace")(u)}function c(u){return u===null||Be(u)?(e.exit("directiveLeaf"),t(u)):n(u)}}function vEe(e,t,n){return TE(e,t,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function _Ee(e,t,n){return kE(e,t,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const yEe={tokenize:wEe,previous:SEe},bEe={tokenize:EEe,partial:!0},CEe={tokenize:xEe,partial:!0};function SEe(e){return e!==58||this.events[this.events.length-1][1].type==="characterEscape"}function wEe(e,t,n){const r=this;return i;function i(l){return e.enter("directiveText"),e.enter("directiveTextMarker"),e.consume(l),e.exit("directiveTextMarker"),OE.call(r,e,s,n,"directiveTextName")}function s(l){return l===58?n(l):l===91?e.attempt(bEe,o,o)(l):o(l)}function o(l){return l===123?e.attempt(CEe,a,a)(l):a(l)}function a(l){return e.exit("directiveText"),t(l)}}function EEe(e,t,n){return TE(e,t,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function xEe(e,t,n){return kE(e,t,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function kEe(){return{text:{58:yEe},flow:{58:[oEe,hEe]}}}function TEe(){const t=this.data(),n=t.micromarkExtensions||(t.micromarkExtensions=[]),r=t.fromMarkdownExtensions||(t.fromMarkdownExtensions=[]),i=t.toMarkdownExtensions||(t.toMarkdownExtensions=[]);n.push(kEe()),r.push(K9e()),i.push(Y9e())}function OEe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function AEe(e,t,n){const i=B0((n||{}).ignore||[]),s=IEe(t);let o=-1;for(;++o<s.length;)EE(e,"text",a);function a(c,u){let d=-1,f;for(;++d<u.length;){const h=u[d],m=f?f.children:void 0;if(i(h,m?m.indexOf(h):void 0,f))return;f=h}if(f)return l(c,u)}function l(c,u){const d=u[u.length-1],f=s[o][0],h=s[o][1];let m=0;const _=d.children.indexOf(c);let y=!1,b=[];f.lastIndex=0;let C=f.exec(c.value);for(;C;){const S=C.index,x={index:C.index,input:C.input,stack:[...u,c]};let w=h(...C,x);if(typeof w=="string"&&(w=w.length>0?{type:"text",value:w}:void 0),w===!1?f.lastIndex=S+1:(m!==S&&b.push({type:"text",value:c.value.slice(m,S)}),Array.isArray(w)?b.push(...w):w&&b.push(w),m=S+C[0].length,y=!0),!f.global)break;C=f.exec(c.value)}return y?(m<c.value.length&&b.push({type:"text",value:c.value.slice(m)}),d.children.splice(_,1,...b)):b=[c],_+b.length}}function IEe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([MEe(i[0]),REe(i[1])])}return t}function MEe(e){return typeof e=="string"?new RegExp(OEe(e),"g"):e}function REe(e){return typeof e=="function"?e:function(){return e}}const d5="phrasing",f5=["autolink","link","image","label"];function PEe(){return{transforms:[UEe],enter:{literalAutolink:DEe,literalAutolinkEmail:h5,literalAutolinkHttp:h5,literalAutolinkWww:h5},exit:{literalAutolink:BEe,literalAutolinkEmail:jEe,literalAutolinkHttp:LEe,literalAutolinkWww:FEe}}}function NEe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:d5,notInConstruct:f5},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:d5,notInConstruct:f5},{character:":",before:"[ps]",after:"\\/",inConstruct:d5,notInConstruct:f5}]}}function DEe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function h5(e){this.config.enter.autolinkProtocol.call(this,e)}function LEe(e){this.config.exit.autolinkProtocol.call(this,e)}function FEe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function jEe(e){this.config.exit.autolinkEmail.call(this,e)}function BEe(e){this.exit(e)}function UEe(e){AEe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qEe],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,zEe]],{ignore:["link","linkReference"]})}function qEe(e,t,n,r,i){let s="";if(!$$(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!GEe(n)))return!1;const o=HEe(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function zEe(e,t,n,r){return!$$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function GEe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function HEe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=V1(e,"(");let s=V1(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function $$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||uc(n)||q0(n))&&(!t||n!==47)}function ss(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}W$.peek=t7e;function VEe(){return{enter:{gfmFootnoteDefinition:WEe,gfmFootnoteDefinitionLabelString:KEe,gfmFootnoteCall:JEe,gfmFootnoteCallString:QEe},exit:{gfmFootnoteDefinition:ZEe,gfmFootnoteDefinitionLabelString:YEe,gfmFootnoteCall:e7e,gfmFootnoteCallString:XEe}}}function $Ee(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:n7e,footnoteReference:W$}}}function WEe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function KEe(){this.buffer()}function YEe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=ss(this.sliceSerialize(e)).toLowerCase()}function ZEe(e){this.exit(e)}function JEe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function QEe(){this.buffer()}function XEe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=ss(this.sliceSerialize(e)).toLowerCase()}function e7e(e){this.exit(e)}function W$(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{...i.current(),before:s,after:"]"})),a(),o(),s+=i.move("]"),s}function t7e(){return"["}function n7e(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),a=n.enter("label");return s+=i.move(n.safe(n.associationId(e),{...i.current(),before:s,after:"]"})),a(),s+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(e,i.current()),r7e)),o(),s}function r7e(e,t,n){return t===0?e:(n?"":"    ")+e}const i7e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];K$.peek=c7e;function s7e(){return{canContainEols:["delete"],enter:{strikethrough:a7e},exit:{strikethrough:l7e}}}function o7e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:i7e}],handlers:{delete:K$}}}function a7e(e){this.enter({type:"delete",children:[]},e)}function l7e(e){this.exit(e)}function K$(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function c7e(){return"~"}function u7e(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||f7e,i=[],s=[],o=[],a=[];let l=0,c=-1;for(;++c<e.length;){const m=[],v=[];let _=-1;for(e[c].length>l&&(l=e[c].length);++_<e[c].length;){const y=d7e(e[c][_]);if(t.alignDelimiters!==!1){const b=r(y);v[_]=b,(a[_]===void 0||b>a[_])&&(a[_]=b)}m.push(y)}s[c]=m,o[c]=v}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<l;)i[u]=cN(n[u]);else{const m=cN(n);for(;++u<l;)i[u]=m}u=-1;const d=[],f=[];for(;++u<l;){const m=i[u];let v="",_="";m===99?(v=":",_=":"):m===108?v=":":m===114&&(_=":");let y=t.alignDelimiters===!1?1:Math.max(1,a[u]-v.length-_.length);const b=v+"-".repeat(y)+_;t.alignDelimiters!==!1&&(y=v.length+y+_.length,y>a[u]&&(a[u]=y),f[u]=y),d[u]=b}s.splice(1,0,d),o.splice(1,0,f),c=-1;const h=[];for(;++c<s.length;){const m=s[c],v=o[c];u=-1;const _=[];for(;++u<l;){const y=m[u]||"";let b="",C="";if(t.alignDelimiters!==!1){const S=a[u]-(v[u]||0),x=i[u];x===114?b=" ".repeat(S):x===99?S%2?(b=" ".repeat(S/2+.5),C=" ".repeat(S/2-.5)):(b=" ".repeat(S/2),C=b):C=" ".repeat(S)}t.delimiterStart!==!1&&!u&&_.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&y==="")&&(t.delimiterStart!==!1||u)&&_.push(" "),t.alignDelimiters!==!1&&_.push(b),_.push(y),t.alignDelimiters!==!1&&_.push(C),t.padding!==!1&&_.push(" "),(t.delimiterEnd!==!1||u!==l-1)&&_.push("|")}h.push(t.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return h.join(`
`)}function d7e(e){return e==null?"":String(e)}function f7e(e){return e.length}function cN(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}var uN={}.hasOwnProperty;function h7e(e,t){var n=t||{};function r(i){var s=r.invalid,o=r.handlers;if(i&&uN.call(i,e)&&(s=uN.call(o,i[e])?o[i[e]]:r.unknown),s)return s.apply(this,arguments)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const p7e={}.hasOwnProperty;function Y$(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)Y$(e,t.extensions[n]);for(r in t)if(p7e.call(t,r))switch(r){case"extensions":break;case"unsafe":{dN(e[r],t[r]);break}case"join":{dN(e[r],t[r]);break}case"handlers":{m7e(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function dN(e,t){t&&e.push(...t)}function m7e(e,t){t&&Object.assign(e,t)}function g7e(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),v7e);return i(),o}function v7e(e,t,n){return">"+(n?"":" ")+e}function Z$(e,t){return fN(e,t.inConstruct,!0)&&!fN(e,t.notInConstruct,!1)}function fN(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function hN(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Z$(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function _7e(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string"||t.length!==1)throw new Error("Expected character");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+1,r=n.indexOf(t,i);return o}function OS(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function y7e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function b7e(e,t,n,r){const i=y7e(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(OS(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,C7e);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(_7e(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function C7e(e,t,n){return(n?"":"    ")+e}function AE(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function S7e(e,t,n,r){const i=AE(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function w7e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}J$.peek=E7e;function J$(e,t,n,r){const i=w7e(n),s=n.enter("emphasis"),o=n.createTracker(r);let a=o.move(i);return a+=o.move(n.containerPhrasing(e,{before:a,after:i,...o.current()})),a+=o.move(i),s(),a}function E7e(e,t,n){return n.options.emphasis||"*"}function Q$(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),EE(e,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const x7e={};function IE(e,t){const n=x7e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return X$(e,r,i)}function X$(e,t,n){if(k7e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return pN(e.children,t,n)}return Array.isArray(e)?pN(e,t,n):""}function pN(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=X$(e[i],t,n);return r.join("")}function k7e(e){return!!(e&&typeof e=="object")}function eW(e,t){let n=!1;return Q$(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,kS}),!!((!e.depth||e.depth<3)&&IE(e)&&(t.options.setext||n))}function T7e(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(eW(e,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}tW.peek=O7e;function tW(e){return e.value||""}function O7e(){return"<"}nW.peek=A7e;function nW(e,t,n,r){const i=AE(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function A7e(){return"!"}rW.peek=I7e;function rW(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function I7e(){return"!"}iW.peek=M7e;function iW(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function M7e(){return"`"}function sW(e,t){const n=IE(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}oW.peek=R7e;function oW(e,t,n,r){const i=AE(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(sW(e,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function R7e(e,t,n){return sW(e,n)?"<":"["}aW.peek=P7e;function aW(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function P7e(){return"["}function ME(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function N7e(e){const t=ME(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function D7e(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function lW(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function L7e(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?D7e(n):ME(n);const a=e.ordered?o==="."?")":".":N7e(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),lW(n)===o&&u){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function F7e(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function j7e(e,t,n,r){const i=F7e(n);let s=n.bulletCurrent||ME(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),u);return l(),c;function u(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?s:s+" ".repeat(o-s.length))+d}}function B7e(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const U7e=B0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function q7e(e,t,n,r){return(e.children.some(function(o){return U7e(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function z7e(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}cW.peek=G7e;function cW(e,t,n,r){const i=z7e(n),s=n.enter("strong"),o=n.createTracker(r);let a=o.move(i+i);return a+=o.move(n.containerPhrasing(e,{before:a,after:i,...o.current()})),a+=o.move(i+i),s(),a}function G7e(e,t,n){return n.options.strong||"*"}function H7e(e,t,n,r){return n.safe(e.value,r)}function V7e(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function $7e(e,t,n){const r=(lW(n)+(n.options.ruleSpaces?" ":"")).repeat(V7e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const RE={blockquote:g7e,break:hN,code:b7e,definition:S7e,emphasis:J$,hardBreak:hN,heading:T7e,html:tW,image:nW,imageReference:rW,inlineCode:iW,link:oW,linkReference:aW,list:L7e,listItem:j7e,paragraph:B7e,root:q7e,strong:cW,text:H7e,thematicBreak:$7e},W7e=[K7e];function K7e(e,t,n,r){if(t.type==="code"&&OS(t,r)&&(e.type==="list"||e.type===t.type&&OS(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&eW(t,r))?void 0:n.spread?1:0}const yl=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Y7e=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:yl},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:yl},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:yl},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:yl},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:yl},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:yl},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:yl},{atBreak:!0,character:"~"}];function uW(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}const Z7e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function dW(e){return e.replace(Z7e,J7e)}function J7e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return uW(n.slice(s?2:1),s?16:10)}return ah(n)||e}function Q7e(e){return e.label||!e.identifier?e.label||"":dW(e.identifier)}function X7e(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function e8e(e,t,n){const r=t.indexStack,i=e.children||[],s=[];let o=-1,a=n.before;r.push(-1);let l=t.createTracker(n);for(;++o<i.length;){const c=i[o];let u;if(r[r.length-1]=o,o+1<i.length){let d=t.handle.handlers[i[o+1].type];d&&d.peek&&(d=d.peek),u=d?d(i[o+1],e,t,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;s.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=t.createTracker(n),l.move(s.join(""))),s.push(l.move(t.handle(c,e,t,{...l.current(),before:a,after:u}))),a=s[s.length-1].slice(-1)}return r.pop(),s.join("")}function t8e(e,t,n){const r=t.indexStack,i=e.children||[],s=t.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(t.handle(l,e,t,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(n8e(l,i[a+1],e,t)))}return r.pop(),o.join("")}function n8e(e,t,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](e,t,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const r8e=/\r?\n|\r/g;function i8e(e,t){const n=[];let r=0,i=0,s;for(;s=r8e.exec(e);)o(e.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(e.slice(r)),n.join("");function o(a){n.push(t(a,i,!a))}}function s8e(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],s=[],o={};let a=-1;for(;++a<e.unsafe.length;){const u=e.unsafe[a];if(!Z$(e.stack,u))continue;const d=e.compilePattern(u);let f;for(;f=d.exec(r);){const h="before"in u||!!u.atBreak,m="after"in u,v=f.index+(h?f[1].length:0);i.includes(v)?(o[v].before&&!h&&(o[v].before=!1),o[v].after&&!m&&(o[v].after=!1)):(i.push(v),o[v]={before:h,after:m})}}i.sort(o8e);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const u=i[a];u<l||u>=c||u+1<c&&i[a+1]===u+1&&o[u].after&&!o[u+1].before&&!o[u+1].after||i[a-1]===u-1&&o[u].before&&!o[u-1].before&&!o[u-1].after||(l!==u&&s.push(mN(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?s.push("\\"):(s.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return s.push(mN(r.slice(l,c),n.after)),s.join("")}function o8e(e,t){return e-t}function mN(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=e+t;let o=-1,a=0,l;for(;l=n.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(e.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(e.slice(a)),i.join("")}function a8e(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,s=n.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(c){r+=c}function l(c){const u=c||"",d=u.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,s=d.length===1?s+f.length:1+f.length+r,u}}function l8e(e,t={}){const n={enter:i,indentLines:i8e,associationId:Q7e,containerPhrasing:f8e,containerFlow:h8e,createTracker:a8e,compilePattern:X7e,safe:p8e,stack:[],unsafe:[...Y7e],join:[...W7e],handlers:{...RE},options:{},indexStack:[],handle:void 0};Y$(n,t),n.options.tightDefinitions&&n.join.push(d8e),n.handle=h7e("type",{invalid:c8e,unknown:u8e,handlers:n.handlers});let r=n.handle(e,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(s){return n.stack.push(s),o;function o(){n.stack.pop()}}}function c8e(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function u8e(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function d8e(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function f8e(e,t){return e8e(e,this,t)}function h8e(e,t){return t8e(e,this,t)}function p8e(e,t){return s8e(this,e,t)}function m8e(){return{enter:{table:g8e,tableData:gN,tableHeader:gN,tableRow:_8e},exit:{codeText:y8e,table:v8e,tableData:p5,tableHeader:p5,tableRow:p5}}}function g8e(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function v8e(e){this.exit(e),this.data.inTable=void 0}function _8e(e){this.enter({type:"tableRow",children:[]},e)}function p5(e){this.exit(e)}function gN(e){this.enter({type:"tableCell",children:[]},e)}function y8e(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,b8e));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function b8e(e,t){return t==="|"?t:e}function C8e(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(h,m,v,_){return c(u(h,v,_),h.align)}function a(h,m,v,_){const y=d(h,v,_),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(h,m,v,_){const y=v.enter("tableCell"),b=v.enter("phrasing"),C=v.containerPhrasing(h,{..._,before:s,after:s});return b(),y(),C}function c(h,m){return u7e(h,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(h,m,v){const _=h.children;let y=-1;const b=[],C=m.enter("table");for(;++y<_.length;)b[y]=d(_[y],m,v);return C(),b}function d(h,m,v){const _=h.children;let y=-1;const b=[],C=m.enter("tableRow");for(;++y<_.length;)b[y]=l(_[y],h,m,v);return C(),b}function f(h,m,v){let _=RE.inlineCode(h,m,v);return v.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function S8e(){return{exit:{taskListCheckValueChecked:vN,taskListCheckValueUnchecked:vN,paragraph:E8e}}}function w8e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:x8e}}}function vN(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function E8e(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function x8e(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=RE.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function k8e(){return[PEe(),VEe(),s7e(),m8e(),S8e()]}function T8e(e){return{extensions:[NEe(),$Ee(),o7e(),C8e(e),w8e()]}}function Ii(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function wi(e,t){return e.length>0?(Ii(e,e.length,0,t),e):t}const _N={}.hasOwnProperty;function fW(e){const t={};let n=-1;for(;++n<e.length;)O8e(t,e[n]);return t}function O8e(e,t){let n;for(n in t){const i=(_N.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){_N.call(i,o)||(i[o]=[]);const a=s[o];A8e(i[o],Array.isArray(a)?a:a?[a]:[])}}}function A8e(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ii(e,0,0,r)}const I8e={tokenize:L8e,partial:!0},hW={tokenize:F8e,partial:!0},pW={tokenize:j8e,partial:!0},mW={tokenize:B8e,partial:!0},M8e={tokenize:U8e,partial:!0},gW={tokenize:N8e,previous:_W},vW={tokenize:D8e,previous:yW},Ko={tokenize:P8e,previous:bW},to={};function R8e(){return{text:to}}let bl=48;for(;bl<123;)to[bl]=Ko,bl++,bl===58?bl=65:bl===91&&(bl=97);to[43]=Ko;to[45]=Ko;to[46]=Ko;to[95]=Ko;to[72]=[Ko,vW];to[104]=[Ko,vW];to[87]=[Ko,gW];to[119]=[Ko,gW];function P8e(e,t,n){const r=this;let i,s;return o;function o(d){return!AS(d)||!bW.call(r,r.previous)||PE(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return AS(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(M8e,u,c)(d):d===45||d===95||Vn(d)?(s=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return s&&i&&sr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function N8e(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!_W.call(r,r.previous)||PE(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(I8e,e.attempt(hW,e.attempt(pW,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function D8e(e,t,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&yW.call(r,r.previous)&&!PE(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(sr(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||$1(d)||At(d)||uc(d)||q0(d)?n(d):e.attempt(hW,e.attempt(pW,u),n)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function L8e(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function F8e(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(mW,l,a)(c):c===null||At(c)||uc(c)||c!==45&&q0(c)?l(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!s?n(c):t(c)}}function j8e(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(mW,t,s)(o):o===null||At(o)||uc(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function B8e(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||At(a)||uc(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||At(a)||uc(a)?t(a):r(a)}function s(a){return sr(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):sr(a)?(e.consume(a),o):n(a)}}function U8e(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return Vn(s)?n(s):t(s)}}function _W(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||At(e)}function yW(e){return!sr(e)}function bW(e){return!(e===47||AS(e))}function AS(e){return e===43||e===45||e===46||e===95||Vn(e)}function PE(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Lqe(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&Vn(e.charCodeAt(n+1))&&Vn(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function W1(e){if(e===null||At(e)||uc(e))return 1;if(q0(e))return 2}function z0(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const IS={name:"attention",tokenize:z8e,resolveAll:q8e};function q8e(e,t){let n=-1,r,i,s,o,a,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);yN(d,-l),yN(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=wi(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=wi(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=wi(c,z0(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=wi(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=wi(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,Ii(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function z8e(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=W1(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),u=W1(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!f)),c._close=!!(s===42?f:f&&(u||!d)),t(l)}}function yN(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const G8e={name:"autolink",tokenize:H8e};function H8e(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return sr(h)?(e.consume(h),o):h===64?n(h):c(h)}function o(h){return h===43||h===45||h===46||Vn(h)?(r=1,a(h)):c(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||Vn(h))&&r++<32?(e.consume(h),a):(r=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||$1(h)?n(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):rEe(h)?(e.consume(h),c):n(h)}function u(h){return Vn(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||Vn(h))&&r++<63){const m=h===45?f:d;return e.consume(h),m}return n(h)}}const sp={tokenize:V8e,partial:!0};function V8e(e,t,n){return r;function r(s){return _t(s)?ft(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Be(s)?t(s):n(s)}}const CW={name:"blockQuote",tokenize:$8e,continuation:{tokenize:W8e},exit:K8e};function $8e(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return _t(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function W8e(e,t,n){const r=this;return i;function i(o){return _t(o)?ft(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(CW,t,n)(o)}}function K8e(e){e.exit("blockQuote")}const SW={name:"characterEscape",tokenize:Y8e};function Y8e(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return sEe(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const wW={name:"characterReference",tokenize:Z8e};function Z8e(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=Vn,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=iEe,u):(e.enter("characterReferenceValue"),s=7,o=TS,u(d))}function u(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===Vn&&!ah(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),u):n(d)}}const bN={tokenize:Q8e,partial:!0},CN={name:"codeFenced",tokenize:J8e,concrete:!0};function J8e(e,t,n){const r=this,i={tokenize:x,partial:!0};let s=0,o=0,a;return l;function l(w){return c(w)}function c(w){const E=r.events[r.events.length-1];return s=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,a=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(w)}function u(w){return w===a?(o++,e.consume(w),u):o<3?n(w):(e.exit("codeFencedFenceSequence"),_t(w)?ft(e,d,"whitespace")(w):d(w))}function d(w){return w===null||Be(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(bN,v,S)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===null||Be(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(w)):_t(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ft(e,h,"whitespace")(w)):w===96&&w===a?n(w):(e.consume(w),f)}function h(w){return w===null||Be(w)?d(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||Be(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(w)):w===96&&w===a?n(w):(e.consume(w),m)}function v(w){return e.attempt(i,S,_)(w)}function _(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),y}function y(w){return s>0&&_t(w)?ft(e,b,"linePrefix",s+1)(w):b(w)}function b(w){return w===null||Be(w)?e.check(bN,v,S)(w):(e.enter("codeFlowValue"),C(w))}function C(w){return w===null||Be(w)?(e.exit("codeFlowValue"),b(w)):(e.consume(w),C)}function S(w){return e.exit("codeFenced"),t(w)}function x(w,E,T){let O=0;return k;function k(R){return w.enter("lineEnding"),w.consume(R),w.exit("lineEnding"),A}function A(R){return w.enter("codeFencedFence"),_t(R)?ft(w,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):I(R)}function I(R){return R===a?(w.enter("codeFencedFenceSequence"),D(R)):T(R)}function D(R){return R===a?(O++,w.consume(R),D):O>=o?(w.exit("codeFencedFenceSequence"),_t(R)?ft(w,N,"whitespace")(R):N(R)):T(R)}function N(R){return R===null||Be(R)?(w.exit("codeFencedFence"),E(R)):T(R)}}}function Q8e(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const m5={name:"codeIndented",tokenize:exe},X8e={tokenize:txe,partial:!0};function exe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),ft(e,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Be(c)?e.attempt(X8e,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||Be(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function txe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Be(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ft(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Be(o)?i(o):n(o)}}const nxe={name:"codeText",tokenize:sxe,resolve:rxe,previous:ixe};function rxe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function ixe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sxe(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,u(d)):Be(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Be(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",c(d))}}class oxe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Yd(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Yd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Yd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Yd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Yd(this.left,n.reverse())}}}function Yd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function EW(e){const t={};let n=-1,r,i,s,o,a,l,c;const u=new oxe(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,axe(u,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},u.get(i)[1].start),a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Ii(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function axe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let u,d,f=-1,h=n,m=0,v=0;const _=[v];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(v=f+1,_.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):_.pop(),f=_.length;f--;){const y=a.slice(_[f],_[f+1]),b=s.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),f=-1;++f<l.length;)c[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return c}const lxe={tokenize:dxe,resolve:uxe},cxe={tokenize:fxe,partial:!0};function uxe(e){return EW(e),e}function dxe(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Be(a)?e.check(cxe,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function fxe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ft(e,s,"linePrefix")}function s(o){if(o===null||Be(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function xW(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||$1(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),v(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||Be(y)?n(y):(e.consume(y),y===92?m:h)}function m(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function v(y){return!u&&(y===null||y===41||At(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):u<c&&y===40?(e.consume(y),u++,v):y===41?(e.consume(y),u--,v):y===null||y===32||y===40||$1(y)?n(y):(e.consume(y),y===92?_:v)}function _(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function kW(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),u}function u(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Be(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Be(h)||a++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!_t(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function TW(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),c(f))}function c(f){return f===o?(e.exit(s),l(o)):f===null?n(f):Be(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),ft(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===o||f===null||Be(f)?(e.exit("chunkString"),c(f)):(e.consume(f),f===92?d:u)}function d(f){return f===o||f===92?(e.consume(f),u):u(f)}}const hxe={name:"definition",tokenize:mxe},pxe={tokenize:gxe,partial:!0};function mxe(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return kW.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=ss(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return At(h)?yo(e,c)(h):c(h)}function c(h){return xW(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(pxe,d,d)(h)}function d(h){return _t(h)?ft(e,f,"whitespace")(h):f(h)}function f(h){return h===null||Be(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function gxe(e,t,n){return r;function r(a){return At(a)?yo(e,i)(a):n(a)}function i(a){return TW(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return _t(a)?ft(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Be(a)?t(a):n(a)}}const vxe={name:"hardBreakEscape",tokenize:_xe};function _xe(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Be(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const yxe={name:"headingAtx",tokenize:Cxe,resolve:bxe};function bxe(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ii(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Cxe(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),s(u)}function s(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||At(u)?(e.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Be(u)?(e.exit("atxHeading"),t(u)):_t(u)?ft(e,a,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||At(u)?(e.exit("atxHeadingText"),a(u)):(e.consume(u),c)}}const Sxe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],SN=["pre","script","style","textarea"],wxe={name:"htmlFlow",tokenize:Txe,resolveTo:kxe,concrete:!0},Exe={tokenize:Axe,partial:!0},xxe={tokenize:Oxe,partial:!0};function kxe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Txe(e,t,n){const r=this;let i,s,o,a,l;return c;function c(P){return u(P)}function u(P){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(P),d}function d(P){return P===33?(e.consume(P),f):P===47?(e.consume(P),s=!0,v):P===63?(e.consume(P),i=3,r.interrupt?t:M):sr(P)?(e.consume(P),o=String.fromCharCode(P),_):n(P)}function f(P){return P===45?(e.consume(P),i=2,h):P===91?(e.consume(P),i=5,a=0,m):sr(P)?(e.consume(P),i=4,r.interrupt?t:M):n(P)}function h(P){return P===45?(e.consume(P),r.interrupt?t:M):n(P)}function m(P){const Ce="CDATA[";return P===Ce.charCodeAt(a++)?(e.consume(P),a===Ce.length?r.interrupt?t:I:m):n(P)}function v(P){return sr(P)?(e.consume(P),o=String.fromCharCode(P),_):n(P)}function _(P){if(P===null||P===47||P===62||At(P)){const Ce=P===47,Se=o.toLowerCase();return!Ce&&!s&&SN.includes(Se)?(i=1,r.interrupt?t(P):I(P)):Sxe.includes(o.toLowerCase())?(i=6,Ce?(e.consume(P),y):r.interrupt?t(P):I(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?b(P):C(P))}return P===45||Vn(P)?(e.consume(P),o+=String.fromCharCode(P),_):n(P)}function y(P){return P===62?(e.consume(P),r.interrupt?t:I):n(P)}function b(P){return _t(P)?(e.consume(P),b):k(P)}function C(P){return P===47?(e.consume(P),k):P===58||P===95||sr(P)?(e.consume(P),S):_t(P)?(e.consume(P),C):k(P)}function S(P){return P===45||P===46||P===58||P===95||Vn(P)?(e.consume(P),S):x(P)}function x(P){return P===61?(e.consume(P),w):_t(P)?(e.consume(P),x):C(P)}function w(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),l=P,E):_t(P)?(e.consume(P),w):T(P)}function E(P){return P===l?(e.consume(P),l=null,O):P===null||Be(P)?n(P):(e.consume(P),E)}function T(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||At(P)?x(P):(e.consume(P),T)}function O(P){return P===47||P===62||_t(P)?C(P):n(P)}function k(P){return P===62?(e.consume(P),A):n(P)}function A(P){return P===null||Be(P)?I(P):_t(P)?(e.consume(P),A):n(P)}function I(P){return P===45&&i===2?(e.consume(P),F):P===60&&i===1?(e.consume(P),j):P===62&&i===4?(e.consume(P),me):P===63&&i===3?(e.consume(P),M):P===93&&i===5?(e.consume(P),U):Be(P)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Exe,de,D)(P)):P===null||Be(P)?(e.exit("htmlFlowData"),D(P)):(e.consume(P),I)}function D(P){return e.check(xxe,N,de)(P)}function N(P){return e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),R}function R(P){return P===null||Be(P)?D(P):(e.enter("htmlFlowData"),I(P))}function F(P){return P===45?(e.consume(P),M):I(P)}function j(P){return P===47?(e.consume(P),o="",H):I(P)}function H(P){if(P===62){const Ce=o.toLowerCase();return SN.includes(Ce)?(e.consume(P),me):I(P)}return sr(P)&&o.length<8?(e.consume(P),o+=String.fromCharCode(P),H):I(P)}function U(P){return P===93?(e.consume(P),M):I(P)}function M(P){return P===62?(e.consume(P),me):P===45&&i===2?(e.consume(P),M):I(P)}function me(P){return P===null||Be(P)?(e.exit("htmlFlowData"),de(P)):(e.consume(P),me)}function de(P){return e.exit("htmlFlow"),t(P)}}function Oxe(e,t,n){const r=this;return i;function i(o){return Be(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Axe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(sp,t,n)}}const Ixe={name:"htmlText",tokenize:Mxe};function Mxe(e,t,n){const r=this;let i,s,o;return a;function a(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),l}function l(M){return M===33?(e.consume(M),c):M===47?(e.consume(M),x):M===63?(e.consume(M),C):sr(M)?(e.consume(M),T):n(M)}function c(M){return M===45?(e.consume(M),u):M===91?(e.consume(M),s=0,m):sr(M)?(e.consume(M),b):n(M)}function u(M){return M===45?(e.consume(M),h):n(M)}function d(M){return M===null?n(M):M===45?(e.consume(M),f):Be(M)?(o=d,j(M)):(e.consume(M),d)}function f(M){return M===45?(e.consume(M),h):d(M)}function h(M){return M===62?F(M):M===45?f(M):d(M)}function m(M){const me="CDATA[";return M===me.charCodeAt(s++)?(e.consume(M),s===me.length?v:m):n(M)}function v(M){return M===null?n(M):M===93?(e.consume(M),_):Be(M)?(o=v,j(M)):(e.consume(M),v)}function _(M){return M===93?(e.consume(M),y):v(M)}function y(M){return M===62?F(M):M===93?(e.consume(M),y):v(M)}function b(M){return M===null||M===62?F(M):Be(M)?(o=b,j(M)):(e.consume(M),b)}function C(M){return M===null?n(M):M===63?(e.consume(M),S):Be(M)?(o=C,j(M)):(e.consume(M),C)}function S(M){return M===62?F(M):C(M)}function x(M){return sr(M)?(e.consume(M),w):n(M)}function w(M){return M===45||Vn(M)?(e.consume(M),w):E(M)}function E(M){return Be(M)?(o=E,j(M)):_t(M)?(e.consume(M),E):F(M)}function T(M){return M===45||Vn(M)?(e.consume(M),T):M===47||M===62||At(M)?O(M):n(M)}function O(M){return M===47?(e.consume(M),F):M===58||M===95||sr(M)?(e.consume(M),k):Be(M)?(o=O,j(M)):_t(M)?(e.consume(M),O):F(M)}function k(M){return M===45||M===46||M===58||M===95||Vn(M)?(e.consume(M),k):A(M)}function A(M){return M===61?(e.consume(M),I):Be(M)?(o=A,j(M)):_t(M)?(e.consume(M),A):O(M)}function I(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),i=M,D):Be(M)?(o=I,j(M)):_t(M)?(e.consume(M),I):(e.consume(M),N)}function D(M){return M===i?(e.consume(M),i=void 0,R):M===null?n(M):Be(M)?(o=D,j(M)):(e.consume(M),D)}function N(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||At(M)?O(M):(e.consume(M),N)}function R(M){return M===47||M===62||At(M)?O(M):n(M)}function F(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function j(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),H}function H(M){return _t(M)?ft(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):U(M)}function U(M){return e.enter("htmlTextData"),o(M)}}const NE={name:"labelEnd",tokenize:Fxe,resolveTo:Lxe,resolveAll:Dxe},Rxe={tokenize:jxe},Pxe={tokenize:Bxe},Nxe={tokenize:Uxe};function Dxe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function Lxe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},u={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",l,t],["enter",c,t]],a=wi(a,e.slice(s+1,s+r+3)),a=wi(a,[["enter",u,t]]),a=wi(a,z0(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=wi(a,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),a=wi(a,e.slice(o+1)),a=wi(a,[["exit",l,t]]),Ii(e,s,e.length,a),e}function Fxe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(ss(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(Rxe,u,o?u:d)(f):f===91?e.attempt(Pxe,u,o?c:d)(f):o?u(f):d(f)}function c(f){return e.attempt(Nxe,u,d)(f)}function u(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function jxe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return At(d)?yo(e,s)(d):s(d)}function s(d){return d===41?u(d):xW(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return At(d)?yo(e,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?TW(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return At(d)?yo(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function Bxe(e,t,n){const r=this;return i;function i(a){return kW.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(ss(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function Uxe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const qxe={name:"labelStartImage",tokenize:zxe,resolveAll:NE.resolveAll};function zxe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Gxe={name:"labelStartLink",tokenize:Hxe,resolveAll:NE.resolveAll};function Hxe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const g5={name:"lineEnding",tokenize:Vxe};function Vxe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ft(e,t,"linePrefix")}}const Vm={name:"thematicBreak",tokenize:$xe};function $xe(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Be(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),_t(c)?ft(e,a,"whitespace")(c):a(c))}}const Rr={name:"list",tokenize:Yxe,continuation:{tokenize:Zxe},exit:Qxe},Wxe={tokenize:Xxe,partial:!0},Kxe={tokenize:Jxe,partial:!0};function Yxe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:TS(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Vm,n,c)(h):c(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return TS(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):n(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(sp,r.interrupt?n:u,e.attempt(Wxe,f,d))}function u(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return _t(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function Zxe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(sp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ft(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!_t(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Kxe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ft(e,e.attempt(Rr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Jxe(e,t,n){const r=this;return ft(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Qxe(e){e.exit(this.containerState.type)}function Xxe(e,t,n){const r=this;return ft(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!_t(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const wN={name:"setextUnderline",tokenize:tke,resolveTo:eke};function eke(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function tke(e,t,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),_t(c)?ft(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Be(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const nke={tokenize:uke,partial:!0};function rke(){return{document:{91:{tokenize:ake,continuation:{tokenize:lke},exit:cke}},text:{91:{tokenize:oke},93:{add:"after",tokenize:ike,resolveTo:ske}}}}function ike(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=ss(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function ske(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function oke(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||At(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(ss(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return At(d)||(o=!0),s++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),s++,c):c(d)}}function ake(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(m)}function u(m){if(o>999||m===93&&!a||m===null||m===91||At(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return s=ss(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return At(m)||(a=!0),o++,e.consume(m),m===92?d:u}function d(m){return m===91||m===92||m===93?(e.consume(m),o++,u):u(m)}function f(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(s)||i.push(s),ft(e,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return t(m)}}function lke(e,t,n){return e.check(sp,t,e.attempt(nke,t,n))}function cke(e){e.exit("gfmFootnoteDefinition")}function uke(e,t,n){const r=this;return ft(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function dke(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&Ii(f,f.length,0,z0(h,o.slice(c+1,l),a)),Ii(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),Ii(o,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return f;function f(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const v=W1(c);if(m===126)return d>1?l(m):(o.consume(m),d++,h);if(d<2&&!n)return l(m);const _=o.exit("strikethroughSequenceTemporary"),y=W1(m);return _._open=!y||y===2&&!!v,_._close=!v||v===2&&!!y,a(m)}}}class fke{constructor(){this.map=[]}add(t,n,r){hke(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function hke(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function pke(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function mke(){return{flow:{null:{tokenize:gke,resolveAll:vke}}}}function gke(e,t,n){const r=this;let i=0,s=0,o;return a;function a(k){let A=r.events.length-1;for(;A>-1;){const N=r.events[A][1].type;if(N==="lineEnding"||N==="linePrefix")A--;else break}const I=A>-1?r.events[A][1].type:null,D=I==="tableHead"||I==="tableRow"?w:l;return D===w&&r.parser.lazy[r.now().line]?n(k):D(k)}function l(k){return e.enter("tableHead"),e.enter("tableRow"),c(k)}function c(k){return k===124||(o=!0,s+=1),u(k)}function u(k){return k===null?n(k):Be(k)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),h):n(k):_t(k)?ft(e,u,"whitespace")(k):(s+=1,o&&(o=!1,i+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),d(k)))}function d(k){return k===null||k===124||At(k)?(e.exit("data"),u(k)):(e.consume(k),k===92?f:d)}function f(k){return k===92||k===124?(e.consume(k),d):d(k)}function h(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),o=!1,_t(k)?ft(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):m(k))}function m(k){return k===45||k===58?_(k):k===124?(o=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),v):x(k)}function v(k){return _t(k)?ft(e,_,"whitespace")(k):_(k)}function _(k){return k===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),y):k===45?(s+=1,y(k)):k===null||Be(k)?S(k):x(k)}function y(k){return k===45?(e.enter("tableDelimiterFiller"),b(k)):x(k)}function b(k){return k===45?(e.consume(k),b):k===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(k))}function C(k){return _t(k)?ft(e,S,"whitespace")(k):S(k)}function S(k){return k===124?m(k):k===null||Be(k)?!o||i!==s?x(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):x(k)}function x(k){return n(k)}function w(k){return e.enter("tableRow"),E(k)}function E(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),E):k===null||Be(k)?(e.exit("tableRow"),t(k)):_t(k)?ft(e,E,"whitespace")(k):(e.enter("data"),T(k))}function T(k){return k===null||k===124||At(k)?(e.exit("data"),E(k)):(e.consume(k),k===92?O:T)}function O(k){return k===92||k===124?(e.consume(k),T):T(k)}}function vke(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const f=new fke;for(;++n<e.length;){const h=e[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(EN(f,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,t]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=cm(f,t,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=cm(f,t,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=cm(f,t,s,i,n,d)):o[1]!==0&&(d=cm(f,t,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&EN(f,t,l,c,u),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=pke(t.events,n))}return e}function cm(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},mu(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=mu(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=mu(t.events,n[2]),u=mu(t.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,v=n[3]-n[2]-1;e.add(m,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},mu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function EN(e,t,n,r,i){const s=[],o=mu(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function mu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const _ke={tokenize:bke};function yke(){return{text:{91:_ke}}}function bke(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return At(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return Be(l)?t(l):_t(l)?e.check({tokenize:Cke},t,n)(l):n(l)}}function Cke(e,t,n){return ft(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Ske(e){return fW([R8e(),rke(),dke(e),mke(),yke()])}const wke={};function Eke(e){const t=this,n=e||wke,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Ske(n)),s.push(k8e()),o.push(T8e(n))}const xke={tokenize:kke};function kke(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ft(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Be(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const Tke={tokenize:Oke},xN={tokenize:Ake};function Oke(e){const t=this,n=[];let r=0,i,s,o;return a;function a(C){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(C)}return c(C)}function l(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let x=S,w;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){w=t.events[x][1].end;break}y(r);let E=S;for(;E<t.events.length;)t.events[E][1].end=Object.assign({},w),E++;return Ii(t.events,x+1,0,t.events.slice(S)),t.events.length=E,c(C)}return a(C)}function c(C){if(r===n.length){if(!i)return f(C);if(i.currentConstruct&&i.currentConstruct.concrete)return m(C);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(xN,u,d)(C)}function u(C){return i&&b(),y(r),f(C)}function d(C){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(C)}function f(C){return t.containerState={},e.attempt(xN,h,m)(C)}function h(C){return r++,n.push([t.currentConstruct,t.containerState]),f(C)}function m(C){if(C===null){i&&b(),y(0),e.consume(C);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),v(C)}function v(C){if(C===null){_(e.exit("chunkFlow"),!0),y(0),e.consume(C);return}return Be(C)?(e.consume(C),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(C),v)}function _(C,S){const x=t.sliceStream(C);if(S&&x.push(null),C.previous=s,s&&(s.next=C),s=C,i.defineSkip(C.start),i.write(x),t.parser.lazy[C.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const E=t.events.length;let T=E,O,k;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(O){k=t.events[T][1].end;break}O=!0}for(y(r),w=E;w<t.events.length;)t.events[w][1].end=Object.assign({},k),w++;Ii(t.events,T+1,0,t.events.slice(E)),t.events.length=w}}function y(C){let S=n.length;for(;S-- >C;){const x=n[S];t.containerState=x[1],x[0].exit.call(t,e)}n.length=C}function b(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Ake(e,t,n){return ft(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Ike={tokenize:Mke};function Mke(e){const t=this,n=e.attempt(sp,r,e.attempt(this.parser.constructs.flowInitial,i,ft(e,e.attempt(this.parser.constructs.flow,i,e.attempt(lxe,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Rke={resolveAll:AW()},Pke=OW("string"),Nke=OW("text");function OW(e){return{tokenize:t,resolveAll:AW(e==="text"?Dke:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function AW(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Dke(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function Lke(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:b,enter:C,exit:S,attempt:E(x),check:E(w),interrupt:E(w,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:f,now:m,defineSkip:v,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function d(A){return o=wi(o,A),_(),o[o.length-1]!==null?[]:(T(t,0),c.events=z0(s,c.events,c),c.events)}function f(A,I){return jke(h(A),I)}function h(A){return Fke(o,A)}function m(){const{line:A,column:I,offset:D,_index:N,_bufferIndex:R}=r;return{line:A,column:I,offset:D,_index:N,_bufferIndex:R}}function v(A){i[A.line]=A.column,k()}function _(){let A;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<I.length;)y(I.charCodeAt(r._bufferIndex));else y(I)}}function y(A){u=u(A)}function b(A){Be(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,k()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=A}function C(A,I){const D=I||{};return D.type=A,D.start=m(),c.events.push(["enter",D,c]),a.push(D),D}function S(A){const I=a.pop();return I.end=m(),c.events.push(["exit",I,c]),I}function x(A,I){T(A,I.from)}function w(A,I){I.restore()}function E(A,I){return D;function D(N,R,F){let j,H,U,M;return Array.isArray(N)?de(N):"tokenize"in N?de([N]):me(N);function me(ne){return ue;function ue(te){const xe=te!==null&&ne[te],oe=te!==null&&ne.null,fe=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(oe)?oe:oe?[oe]:[]];return de(fe)(te)}}function de(ne){return j=ne,H=0,ne.length===0?F:P(ne[H])}function P(ne){return ue;function ue(te){return M=O(),U=ne,ne.partial||(c.currentConstruct=ne),ne.name&&c.parser.constructs.disable.null.includes(ne.name)?Se():ne.tokenize.call(I?Object.assign(Object.create(c),I):c,l,Ce,Se)(te)}}function Ce(ne){return A(U,M),R}function Se(ne){return M.restore(),++H<j.length?P(j[H]):F}}}function T(A,I){A.resolveAll&&!s.includes(A)&&s.push(A),A.resolve&&Ii(c.events,I,c.events.length-I,A.resolve(c.events.slice(I),c)),A.resolveTo&&(c.events=A.resolveTo(c.events,c))}function O(){const A=m(),I=c.previous,D=c.currentConstruct,N=c.events.length,R=Array.from(a);return{restore:F,from:N};function F(){r=A,c.previous=I,c.currentConstruct=D,c.events.length=N,a=R,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Fke(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function jke(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const Bke={42:Rr,43:Rr,45:Rr,48:Rr,49:Rr,50:Rr,51:Rr,52:Rr,53:Rr,54:Rr,55:Rr,56:Rr,57:Rr,62:CW},Uke={91:hxe},qke={[-2]:m5,[-1]:m5,32:m5},zke={35:yxe,42:Vm,45:[wN,Vm],60:wxe,61:wN,95:Vm,96:CN,126:CN},Gke={38:wW,92:SW},Hke={[-5]:g5,[-4]:g5,[-3]:g5,33:qxe,38:wW,42:IS,60:[G8e,Ixe],91:Gxe,92:[vxe,SW],93:NE,95:IS,96:nxe},Vke={null:[IS,Rke]},$ke={null:[42,95]},Wke={null:[]},Kke=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:$ke,contentInitial:Uke,disable:Wke,document:Bke,flow:zke,flowInitial:qke,insideSpan:Vke,string:Gke,text:Hke},Symbol.toStringTag,{value:"Module"}));function Yke(e){const n=fW([Kke,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(xke),document:i(Tke),flow:i(Ike),string:i(Pke),text:i(Nke)};return r;function i(s){return o;function o(a){return Lke(r,s,a)}}}function Zke(e){for(;!EW(e););return e}const kN=/[\0\t\n\r]/g;function Jke(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,f,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(kN.lastIndex=d,c=kN.exec(s),f=c&&c.index!==void 0?c.index:s.length,h=s.charCodeAt(f),!c){t=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function Rf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?TN(e.position):"start"in e||"end"in e?TN(e):"line"in e||"column"in e?MS(e):""}function MS(e){return ON(e&&e.line)+":"+ON(e&&e.column)}function TN(e){return MS(e&&e.start)+"-"+MS(e&&e.end)}function ON(e){return e&&typeof e=="number"?e:1}const IW={}.hasOwnProperty;function Qke(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Xke(n)(Zke(Yke(n).document().write(Jke()(e,t,!0))))}function Xke(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(_e),autolinkProtocol:O,autolinkEmail:O,atxHeading:s(Xe),blockQuote:s(xe),characterEscape:O,characterReference:O,codeFenced:s(oe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(oe,o),codeText:s(fe,o),codeTextData:O,data:O,codeFlowValue:O,definition:s(le),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(we),hardBreakEscape:s(ce),hardBreakTrailing:s(ce),htmlFlow:s(J,o),htmlFlowData:O,htmlText:s(J,o),htmlTextData:O,image:s(Y),label:o,link:s(_e),listItem:s(W),listItemValue:f,listOrdered:s(re,d),listUnordered:s(re),paragraph:s(B),reference:P,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Xe),strong:s(Ie),thematicBreak:s(X)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:te,autolinkProtocol:ue,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:ne,codeFenced:l(_),codeFencedFence:v,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:k,codeIndented:l(y),codeText:l(R),codeTextData:k,data:k,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:C,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(D),htmlFlowData:k,htmlText:l(N),htmlTextData:k,image:l(j),label:U,labelText:H,lineEnding:A,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Ce,resourceDestinationString:M,resourceTitleString:me,resource:de,setextHeading:l(T),setextHeadingLineSequence:E,setextHeadingText:w,strong:l(),thematicBreak:l()}};MW(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(L){let G={type:"root",children:[]};const $={stack:[G],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:u,data:n},se=[];let Me=-1;for(;++Me<L.length;)if(L[Me][1].type==="listOrdered"||L[Me][1].type==="listUnordered")if(L[Me][0]==="enter")se.push(Me);else{const it=se.pop();Me=i(L,it,Me)}for(Me=-1;++Me<L.length;){const it=t[L[Me][0]];IW.call(it,L[Me][1].type)&&it[L[Me][1].type].call(Object.assign({sliceSerialize:L[Me][2].sliceSerialize},$),L[Me][1])}if($.tokenStack.length>0){const it=$.tokenStack[$.tokenStack.length-1];(it[1]||AN).call($,void 0,it[0])}for(G.position={start:aa(L.length>0?L[0][1].start:{line:1,column:1,offset:0}),end:aa(L.length>0?L[L.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<t.transforms.length;)G=t.transforms[Me](G)||G;return G}function i(L,G,$){let se=G-1,Me=-1,it=!1,ht,at,nt,St;for(;++se<=$;){const Tt=L[se];switch(Tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Tt[0]==="enter"?Me++:Me--,St=void 0;break}case"lineEndingBlank":{Tt[0]==="enter"&&(ht&&!St&&!Me&&!nt&&(nt=se),St=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:St=void 0}if(!Me&&Tt[0]==="enter"&&Tt[1].type==="listItemPrefix"||Me===-1&&Tt[0]==="exit"&&(Tt[1].type==="listUnordered"||Tt[1].type==="listOrdered")){if(ht){let Pt=se;for(at=void 0;Pt--;){const gt=L[Pt];if(gt[1].type==="lineEnding"||gt[1].type==="lineEndingBlank"){if(gt[0]==="exit")continue;at&&(L[at][1].type="lineEndingBlank",it=!0),gt[1].type="lineEnding",at=Pt}else if(!(gt[1].type==="linePrefix"||gt[1].type==="blockQuotePrefix"||gt[1].type==="blockQuotePrefixWhitespace"||gt[1].type==="blockQuoteMarker"||gt[1].type==="listItemIndent"))break}nt&&(!at||nt<at)&&(ht._spread=!0),ht.end=Object.assign({},at?L[at][1].start:Tt[1].end),L.splice(at||se,0,["exit",ht,Tt[2]]),se++,$++}if(Tt[1].type==="listItemPrefix"){const Pt={type:"listItem",_spread:!1,start:Object.assign({},Tt[1].start),end:void 0};ht=Pt,L.splice(se,0,["enter",Pt,Tt[2]]),se++,$++,nt=void 0,St=!0}}}return L[G][1]._spread=it,$}function s(L,G){return $;function $(se){a.call(this,L(se),se),G&&G.call(this,se)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(L,G,$){this.stack[this.stack.length-1].children.push(L),this.stack.push(L),this.tokenStack.push([G,$]),L.position={start:aa(G.start),end:void 0}}function l(L){return G;function G($){L&&L.call(this,$),c.call(this,$)}}function c(L,G){const $=this.stack.pop(),se=this.tokenStack.pop();if(se)se[0].type!==L.type&&(G?G.call(this,L,se[0]):(se[1]||AN).call(this,L,se[0]));else throw new Error("Cannot close `"+L.type+"` ("+Rf({start:L.start,end:L.end})+"): it’s not open");$.position.end=aa(L.end)}function u(){return IE(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(L){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(L),10),this.data.expectingFirstListItemValue=void 0}}function h(){const L=this.resume(),G=this.stack[this.stack.length-1];G.lang=L}function m(){const L=this.resume(),G=this.stack[this.stack.length-1];G.meta=L}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const L=this.resume(),G=this.stack[this.stack.length-1];G.value=L.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const L=this.resume(),G=this.stack[this.stack.length-1];G.value=L.replace(/(\r?\n|\r)$/g,"")}function b(L){const G=this.resume(),$=this.stack[this.stack.length-1];$.label=G,$.identifier=ss(this.sliceSerialize(L)).toLowerCase()}function C(){const L=this.resume(),G=this.stack[this.stack.length-1];G.title=L}function S(){const L=this.resume(),G=this.stack[this.stack.length-1];G.url=L}function x(L){const G=this.stack[this.stack.length-1];if(!G.depth){const $=this.sliceSerialize(L).length;G.depth=$}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function E(L){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(L).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function O(L){const $=this.stack[this.stack.length-1].children;let se=$[$.length-1];(!se||se.type!=="text")&&(se=Te(),se.position={start:aa(L.start),end:void 0},$.push(se)),this.stack.push(se)}function k(L){const G=this.stack.pop();G.value+=this.sliceSerialize(L),G.position.end=aa(L.end)}function A(L){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $=G.children[G.children.length-1];$.position.end=aa(L.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(G.type)&&(O.call(this,L),k.call(this,L))}function I(){this.data.atHardBreak=!0}function D(){const L=this.resume(),G=this.stack[this.stack.length-1];G.value=L}function N(){const L=this.resume(),G=this.stack[this.stack.length-1];G.value=L}function R(){const L=this.resume(),G=this.stack[this.stack.length-1];G.value=L}function F(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=G,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function j(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=G,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function H(L){const G=this.sliceSerialize(L),$=this.stack[this.stack.length-2];$.label=dW(G),$.identifier=ss(G).toLowerCase()}function U(){const L=this.stack[this.stack.length-1],G=this.resume(),$=this.stack[this.stack.length-1];if(this.data.inReference=!0,$.type==="link"){const se=L.children;$.children=se}else $.alt=G}function M(){const L=this.resume(),G=this.stack[this.stack.length-1];G.url=L}function me(){const L=this.resume(),G=this.stack[this.stack.length-1];G.title=L}function de(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function Ce(L){const G=this.resume(),$=this.stack[this.stack.length-1];$.label=G,$.identifier=ss(this.sliceSerialize(L)).toLowerCase(),this.data.referenceType="full"}function Se(L){this.data.characterReferenceType=L.type}function ne(L){const G=this.sliceSerialize(L),$=this.data.characterReferenceType;let se;$?(se=uW(G,$==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):se=ah(G);const Me=this.stack.pop();Me.value+=se,Me.position.end=aa(L.end)}function ue(L){k.call(this,L);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(L)}function te(L){k.call(this,L);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(L)}function xe(){return{type:"blockquote",children:[]}}function oe(){return{type:"code",lang:null,meta:null,value:""}}function fe(){return{type:"inlineCode",value:""}}function le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function Xe(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function J(){return{type:"html",value:""}}function Y(){return{type:"image",title:null,url:"",alt:null}}function _e(){return{type:"link",title:null,url:"",children:[]}}function re(L){return{type:"list",ordered:L.type==="listOrdered",start:null,spread:L._spread,children:[]}}function W(L){return{type:"listItem",spread:L._spread,checked:null,children:[]}}function B(){return{type:"paragraph",children:[]}}function Ie(){return{type:"strong",children:[]}}function Te(){return{type:"text",value:""}}function X(){return{type:"thematicBreak"}}}function aa(e){return{line:e.line,column:e.column,offset:e.offset}}function MW(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?MW(e,r):eTe(e,r)}}function eTe(e,t){let n;for(n in t)if(IW.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function AN(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Rf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Rf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Rf({start:t.start,end:t.end})+") is still open")}function tTe(e){const t=this;t.parser=n;function n(r){return Qke(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function nTe(e){const t=this;t.compiler=n;function n(r){return l8e(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}const rTe={blockquote:la,break:lTe,code:$i,definition:$i,delete:la,emphasis:la,footnoteReference:$i,footnoteDefinition:$i,heading:aTe,html:$i,image:MN,imageReference:MN,inlineCode:RN,list:la,listItem:la,link:la,linkReference:la,strong:la,table:$i,tableCell:$i,text:RN,thematicBreak:$i,toml:$i,yaml:$i},iTe={},IN=[];function sTe(e){const t={...rTe},n=e||iTe,r=n.keep||IN,i=n.remove||IN;let s=-1;for(;++s<i.length;){const c=i[s];typeof c=="string"?t[c]=$i:t[c[0]]=c[1]}let o={};if(r.length===0)o=t;else{let c;for(c in t)r.includes(c)||(o[c]=t[c]);for(s=-1;++s<r.length;)if(c=r[s],!Object.hasOwn(t,c))throw new Error("Unknown node type `"+c+"` in `keep`, use a replace tuple with a handle instead: `remove: [['"+c+"', handle]]`")}return function(c){return a(c)};function a(c){const u=c.type;let d=c;if(Object.hasOwn(o,u)){const f=o[u];f&&(d=f(d)||void 0)}return d=Array.isArray(d)?l(d):d,d&&"children"in d&&(d.children=l(d.children)),d}function l(c){let u=-1;const d=[];for(;++u<c.length;){const f=a(c[u]);Array.isArray(f)?d.push(...l(f)):f&&d.push(f)}return oTe(d)}}function oTe(e){let t=-1;const n=[];let r;for(;++t<e.length;){const i=e[t];r&&i.type===r.type&&"value"in i&&"value"in r?r.value+=i.value:(n.push(i),r=i)}return n}function MN(e){const t="title"in e?e.title:"",n=e.alt||t||"";return n?{type:"text",value:n}:void 0}function RN(e){return{type:"text",value:e.value}}function aTe(e){return{type:"paragraph",children:e.children}}function la(e){return e.children}function lTe(){return{type:"text",value:`
`}}function $i(){}function PN(e){if(e)throw e}var v5,NN;function cTe(){if(NN)return v5;NN=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var f;for(f in c);return typeof f>"u"||e.call(c,f)},o=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return v5=function l(){var c,u,d,f,h,m,v=arguments[0],_=1,y=arguments.length,b=!1;for(typeof v=="boolean"&&(b=v,v=arguments[1]||{},_=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});_<y;++_)if(c=arguments[_],c!=null)for(u in c)d=a(v,u),f=a(c,u),v!==f&&(b&&f&&(s(f)||(h=i(f)))?(h?(h=!1,m=d&&i(d)?d:[]):m=d&&s(d)?d:{},o(v,{name:u,newValue:l(b,m,f)})):typeof f<"u"&&o(v,{name:u,newValue:f}));return v},v5}var uTe=cTe();const _5=mn(uTe);function RS(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dTe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?fTe(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function fTe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class Kr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Rf(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Kr.prototype.file="";Kr.prototype.name="";Kr.prototype.reason="";Kr.prototype.message="";Kr.prototype.stack="";Kr.prototype.column=void 0;Kr.prototype.line=void 0;Kr.prototype.ancestors=void 0;Kr.prototype.cause=void 0;Kr.prototype.fatal=void 0;Kr.prototype.place=void 0;Kr.prototype.ruleId=void 0;Kr.prototype.source=void 0;const Rs={basename:hTe,dirname:pTe,extname:mTe,join:gTe,sep:"/"};function hTe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');op(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function pTe(e){if(op(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function mTe(e){op(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function gTe(...e){let t=-1,n;for(;++t<e.length;)op(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":vTe(n)}function vTe(e){op(e);const t=e.codePointAt(0)===47;let n=_Te(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function _Te(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function op(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yTe={cwd:bTe};function bTe(){return"/"}function PS(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function CTe(e){if(typeof e=="string")e=new URL(e);else if(!PS(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return STe(e)}function STe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const y5=["history","path","basename","stem","extname","dirname"];class wTe{constructor(t){let n;t?PS(t)?n={path:t}:typeof t=="string"||ETe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":yTe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<y5.length;){const s=y5[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)y5.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rs.basename(this.path):void 0}set basename(t){C5(t,"basename"),b5(t,"basename"),this.path=Rs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Rs.dirname(this.path):void 0}set dirname(t){DN(this.basename,"dirname"),this.path=Rs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Rs.extname(this.path):void 0}set extname(t){if(b5(t,"extname"),DN(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){PS(t)&&(t=CTe(t)),C5(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Rs.basename(this.path,this.extname):void 0}set stem(t){C5(t,"stem"),b5(t,"stem"),this.path=Rs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Kr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function b5(e,t){if(e&&e.includes(Rs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Rs.sep+"`")}function C5(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function DN(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ETe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xTe=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};Object.setPrototypeOf(s,r);const o=Object.getOwnPropertyNames(i);for(const a of o){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(s,a,l)}return s},kTe={}.hasOwnProperty;class DE extends xTe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=dTe()}copy(){const t=new DE;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(_5(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(E5("data",this.frozen),this.namespace[t]=n,this):kTe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(E5("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=um(t),r=this.parser||this.Parser;return S5("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),S5("process",this.parser||this.Parser),w5("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=um(t),l=r.parse(a);r.run(l,a,function(u,d,f){if(u||!d||!f)return c(u);const h=d,m=r.stringify(h,f);OTe(m)?f.value=m:f.result=m,c(u,f)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),S5("processSync",this.parser||this.Parser),w5("processSync",this.compiler||this.Compiler),this.process(t,i),FN("processSync","process",n),r;function i(s,o){n=!0,PN(s),r=o}}run(t,n,r){LN(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=um(n);i.run(t,l,c);function c(u,d,f){const h=d||t;u?a(u):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),FN("runSync","run",r),i;function s(o,a){PN(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=um(n),i=this.compiler||this.Compiler;return w5("stringify",i),LN(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(E5("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=_5(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===c){f=d;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[h,...m]=u;const v=r[f][1];RS(v)&&RS(h)&&(h=_5(!0,v,h)),r[f]=[c,h,...m]}}}}const RW=new DE().freeze();function S5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function w5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function E5(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function LN(e){if(!RS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function FN(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function um(e){return TTe(e)?e:new wTe(e)}function TTe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function OTe(e){return typeof e=="string"||ATe(e)}function ATe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Fqe=Object.freeze(Object.defineProperty({__proto__:null,unified:RW},Symbol.toStringTag,{value:"Module"})),ITe=()=>e=>{Q$(e,["textDirective","leafDirective","containerDirective"],(t,n,r)=>{if(r==null||typeof n!="number")return;const s=t.children;return s&&s.length>0?(r.children.splice(n,1,...s),n+s.length):(r.children.splice(n,1),n)})};function MTe(e){const t=RW().use(tTe).use(Eke,{singleTilde:!1}).use(TEe).use(ITe).use(sTe).use(nTe,{bullet:"-",fences:!0,listItemIndent:"one"}).processSync(e);return String(t)}const jqe="https://help.openai.com/en/articles/8590148-memory-faq";function PW(e,t=!0){return["memories",{gizmoId:e,includeMemoryEntries:t}]}function Bqe(e,t=!0,n=!0){return Rt({queryKey:PW(e,t),queryFn:async()=>{const r=await he.safeGet("/memories",{parameters:{query:{gizmo_id:e,include_memory_entries:t}}}),i=Math.min(Math.floor(100*r.memory_num_tokens/r.memory_max_tokens),100);return{...r,memoryFullPct:i}},refetchOnMount:"always",enabled:n})}const RTe=(e,t)=>{window.__reactRouterDataRouter.navigate(e,t)},NW=$oe(qt.PendingSurveySpec,()=>null);function PTe(){return Wt.getItem(qt.PendingSurveySpec)}function NTe(e){NW.set(e)}function DTe(){NW.set(null)}const hf=fn(e=>({survey:null,triggered:!1,setSurvey:t=>e({survey:t}),setTriggered:t=>e({triggered:t})}));function Uqe(){const e=hf(s=>s.survey),t=hf(s=>s.triggered),n=hf(s=>s.setSurvey),r=hf(s=>s.setTriggered);return p.useEffect(()=>{if(!t||e)return;const s=PTe();DTe(),n(s)},[e,t,n]),{survey:e,finishSurvey:()=>{n(null),r(!1)}}}function qqe(){const e=hf(r=>r.setTriggered),t=Hr(),n=p.useRef(null);p.useEffect(()=>{t.pathname==="/"&&t.key!==n.current&&(n.current=t.key,e(!0))},[t.key,t.pathname,e])}const DW={[gr.LoggedIn]:qt.LoggedInUserMessageCount,[gr.LoggedOut]:qt.NoAuthUserMessageCount},LTe=fn(Ja(()=>({messageCountByAuthStatus:{[gr.LoggedIn]:jN(gr.LoggedIn),[gr.LoggedOut]:jN(gr.LoggedOut)}})));function zqe(e){return e.messageCountByAuthStatus[gr.LoggedOut]}function Gqe(e){return e.messageCountByAuthStatus[gr.LoggedIn]}const FTe={incrementUserMessageCount:e=>{LTe.setState(t=>{const n=t.messageCountByAuthStatus[e]+1;t.messageCountByAuthStatus[e]=n,jTe({authStatus:e,messageCount:n})})}};function jN(e){const t=localStorage.getItem(DW[e]);return t?Number(t):0}function jTe({authStatus:e,messageCount:t}){localStorage.setItem(DW[e],String(t))}function BN(e){return!(e.type==="perf_stats"||e.type==="server_ste_metadata"||e.type==="message_marker")}var Vt=(e=>(e.Starter="starter",e.Reply="reply",e.Capabilities="capabilities",e.Autocomplete="autocomplete",e.Trending="trending",e))(Vt||{}),BTe=(e=>(e.Search="Search",e.Canvas="Canvas",e.Image="Image",e.ContextualAnswers="ContextualAnswers",e.ContextualAnswersNUX="ContextualAnswersNUX",e.ChatGPTTrending="ChatGPTTrending",e.ImageGenTrending="ImageGenTrending",e.Slurm="Slurm",e.Tatertot="Tatertot",e))(BTe||{});let Pf=null;async function LW(){return Pf==null&&(Pf=await swe()),Pf??[]}function Hqe(e){return Pf==null?!1:Pf.includes(e)}var fo=(e=>(e.Success="success",e.Error="error",e.Canceled="canceled",e))(fo||{});async function*FW(e,t){let n=null;for await(const r of e)if("response"in r)yield r;else if(r.event==="delta_encoding"){const i=String(r.data);if(t?.(i),i==="v1")n=new UTe;else throw new Error(`[delta] unknown delta encoding: ${i}`)}else if(r.event==="delta"){if(!n)throw new Error("[delta] delta event before delta_encoding");yield{data:n.applyDelta(r.data)}}else yield r}var jW=(e=>(e.V1="v1",e))(jW||{});class UTe{prevObjByChannel=[];prevDelta={channel:0,op:"add",path:"",value:void 0};applyDelta(t){try{const n=this.decodeDelta(t),r=n.channel,i=this.prevObjByChannel[r],s=GTe(i,n);return this.prevObjByChannel[r]=s,s}catch(n){V.addError(`Error applying delta: ${n}`)}}decodeDelta(t){zTe(t);const n=qTe(t,this.prevDelta),r=BW(n);return this.prevDelta=r,r}}function qTe(e,t){for(const[n,r]of UW)n!=="value"&&!(r in e)&&(e[r]=t[n]);return e}function BW(e){const t=e;for(const[n,r]of UW)r in e&&(t[n]=e[r],delete e[r]);return t.op==="patch"&&(t.value=t.value.map(BW)),t}function zTe(e){if(!e||typeof e!="object")throw new Error("Unexpected delta non-object")}const UW=[["channel","c"],["path","p"],["op","o"],["value","v"]];function GTe(e,t){return Wi({__root:e},r=>qW(r,t)).__root}function qW(e,t){const n=$Te(t.path??"");for(let i=0;i<n.length-1;i++)e[n[i]]===void 0&&(typeof n[i+1]=="number"?e[n[i]]=[]:e[n[i]]={}),e=e[n[i]];const r=n[n.length-1];switch(t.op){case"patch":for(const i of t.value){const s={__root:e[r]};qW(s,i),e[r]=s.__root}break;case"add":Array.isArray(e)?e.splice(r,0,t.value):e[r]=t.value;break;case"remove":Array.isArray(e)?e.splice(r,1):delete e[r];break;case"replace":e[r]=t.value;break;case"append":if(typeof e[r]=="string")e[r]+=t.value;else if(Array.isArray(e[r]))e[r].push(...WTe(t.value));else if(UN(e[r])&&UN(t.value))for(const i in t.value)e[r][i]=t.value[i];else e[r]=t.value;break;case"truncate":e[r]&&(typeof e[r]=="string"?e[r]=e[r].substring(0,t.value):Array.isArray(e[r])&&(e[r].length=t.value));break;default:throw new Error("Unknown json delta operation")}}function HTe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}const VTe=/^(?:0|[1-9]\d*)$/d;function $Te(e){const t=["__root"];if(e==="")return t;e[0]==="/"&&(e=e.substring(1));for(const n of e.split("/"))VTe.test(n)?t.push(parseInt(n,10)):t.push(HTe(n));return t}function WTe(e){return Array.isArray(e)?e:[e]}function UN(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}function KTe(e){let t=!1;const n=[],r=[];function i(l){n.length>0?n.shift()(l):r.push(l)}function s(l){t||i({value:l,done:!1})}function o(){t||(t=!0,n.forEach(l=>l({value:void 0,done:!0})),n.length=0)}function a(l){t||(i(Promise.reject(l)),o())}try{e(s,o,a)}catch(l){a(l)}return{next(){return new Promise(l=>{r.length>0?l(r.shift()):t?l({value:void 0,done:!0}):n.push(l)})},[Symbol.asyncIterator](){return this}}}async function YTe(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function ZTe(e){let t,n,r,i=!1;return function(o){t===void 0?(t=o,n=0,r=-1):t=QTe(t,o);const a=t.length;let l=0;for(;n<a;){i&&(t[n]===10&&(l=++n),i=!1);let c=-1;for(;n<a&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:i=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(l,c),r),l=n,r=-1}l===a?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function JTe(e,t,n){let r=qN();const i=new TextDecoder;return function(o,a){if(o.length===0)n?.(r),r=qN();else if(a>0){const l=i.decode(o.subarray(0,a)),c=a+(o[a+1]===32?2:1),u=i.decode(o.subarray(c));switch(l){case"data":r.data=r.data?r.data+`
`+u:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(r.retry=d);break}}}}function QTe(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function qN(){return{data:"",event:"",id:"",retry:void 0}}var XTe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const NS="text/event-stream",eOe=1e3,zN="last-event-id";function tOe(e,t){var{signal:n,headers:r,onopen:i,onmessage:s,onclose:o,onerror:a,openWhenHidden:l,fetch:c}=t,u=XTe(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,f)=>{const h=Object.assign({},r);h.accept||(h.accept=NS);let m;function v(){m.abort(),document.hidden||x()}l||document.addEventListener("visibilitychange",v);let _=eOe,y=0;function b(){document.removeEventListener("visibilitychange",v),window.clearTimeout(y),m.abort()}n?.addEventListener("abort",()=>{b(),d()});const C=c??window.fetch,S=i??nOe;async function x(){var w;m=new AbortController;try{const E=await C(e,Object.assign(Object.assign({},u),{headers:h,signal:m.signal}));await S(E),await YTe(E.body,ZTe(JTe(T=>{T?h[zN]=T:delete h[zN]},T=>{_=T},s))),o?.(),b(),d()}catch(E){if(!m.signal.aborted)try{const T=(w=a?.(E))!==null&&w!==void 0?w:_;window.clearTimeout(y),y=window.setTimeout(x,T)}catch(T){b(),f(T)}}}x()})}function nOe(e){const t=e.headers.get("content-type");if(!t?.startsWith(NS))throw new Error(`Expected content-type to be ${NS}, Actual: ${t}`)}function rOe(e){if(typeof navigator<"u"&&!navigator.onLine||e instanceof TypeError)return!0;if(e instanceof Error){const t=e.message.toLowerCase();if(t.includes("failed to fetch")||t.includes("networkerror when attempting to fetch resource")||t.includes("network error")||t.includes("load failed")||t.includes("failed to resolve")||t.includes("dns")||/\b(enotfound|eai_again|eaddrinfo|econnrefused|econnreset|etimedout)\b/.test(t))return!0}return!1}function GN(e){return e.headers.get("x-request-id")??e.headers.get("cf-ray")??void 0}function HN(e,{accessToken:t,ctx:n,method:r,headers:i,body:s,intercomEventOnError:o,signal:a,observer:l}={}){return KTe((c,u,d)=>{let f=!1;function h(_){if(f)return _;f=!0;try{return d(_),l?.onClose?.("error",_),_}finally{_ instanceof mt?(oj(_,"stream"),aj(_),o&&J4(o,{url:_.url,message:_.message})):(V.addError(_),K.logEvent("request_stream_error",{error:_ instanceof Error?_.message:String(_)}))}}function m(){if(!f)if(f=!0,a?.aborted){const _=a.reason??new DOMException("Aborted","AbortError");d(_),l?.onClose?.("aborted",_)}else u(),l?.onClose?.("completed")}const v=t??(n?Ch(n):void 0);tOe(e,{method:r,credentials:"include",headers:{...v?Pg({accessToken:v}):Rg(),...s?{"Content-Type":"application/json"}:null,...i},body:s?JSON.stringify(s):void 0,signal:a,openWhenHidden:!0,async onopen(_){const y=_.headers.get("content-type")??"";if(_.ok&&y.includes("text/event-stream"))c({response:_}),l?.onOpen?.(_);else if(y.includes("application/json")){const b=await _.json();throw h(new mt(e,_.status,b,GN(_),new Error(JSON.stringify(b))))}else{const C=(await _.text()).substring(0,1e3);throw h(new mt(e,_.status,{detail:{message:SY,code:"unexpected_content_type",contentType:y,text:C}},GN(_),new Error(C)))}},onmessage(_){const y=new TextEncoder,b=_.data==="[DONE]";if(l?.onEvent?.({byteLength:y.encode(_.data).length,isDoneEvent:b}),_.event==="ping"||!_.data)return;if(b){m();return}const C=JSON.parse(_.data);C.error?h(mt.createWithErrorMessage(e,"server",C.error,void 0,new Error(C.error))):c({event:_.event||void 0,data:C})},onerror(_){const y=_ instanceof Error?_:new Error(JSON.stringify(_));throw rOe(y)?h(mt.createWithErrorMessage(e,"client",Kl,void 0,y)):y.message==="Failed to fetch"?(K.logFailedToFetchError({source:"request_stream"}),h(mt.createWithErrorMessage(e,"server",`An error occurred. Either the engine you requested does not exist or there was another issue processing your request. ${YS}`,void 0,y))):h(y)}}).then(m,h)})}const iOe=e=>new Promise(t=>setTimeout(t,e));async function*zW(e,{shouldRetry:t=()=>!0,retryConfig:{MIN_RETRY_INTERVAL:n,MAX_RETRY_INTERVAL:r,RETRY_FACTOR:i,MAX_RETRY_COUNT:s},...o}){let a=HN(e,o),l=!1,c=!1,u=0;for(;!l&&!c;)try{for await(const d of a)"response"in d&&(l=!0),yield d;c=!0}catch(d){if(l||!t(d)||u>=s)throw d;const f=Math.min(n*i**u,r);await iOe(f),u++,a=HN(e,o)}}function sOe(e){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t=Math.imul(t,16777619)>>>0;return t^=t>>>16,t=Math.imul(t,2246822507)>>>0,t^=t>>>13,t=Math.imul(t,3266489909)>>>0,t^=t>>>16,(t>>>0).toString(16).padStart(8,"0")}class oOe{answers=new Map;maxAttempts=5e5;requirementsSeed=aOe();sid=qr();errorPrefix="wQ8Lk5FbGpA2NcR9dShT6gYjU7VxZ4D";async initializeAndGatherData(t){this._getAnswer(t)}async startEnforcement(t){this._getAnswer(t)}getEnforcementTokenSync(t){const n=this._getAnswer(t);return typeof n=="string"?n:null}async getEnforcementToken(t,n){return this._getAnswer(t,n?.forceSync)}async getRequirementsToken(){return this.answers.has(this.requirementsSeed)||this.answers.set(this.requirementsSeed,this._generateAnswerAsync(this.requirementsSeed,"0")),"gAAAAAC"+await this.answers.get(this.requirementsSeed)}getRequirementsTokenBlocking(){return"gAAAAAC"+this._generateRequirementsTokenAnswerBlocking()}_getAnswer(t,n=!1){const r="gAAAAAB";if(!t?.proofofwork?.required)return null;const{seed:i,difficulty:s}=t.proofofwork;if(!(typeof i=="string"&&typeof s=="string"))return null;const o=this.answers.get(i);if(typeof o=="string")return o;if(n){const a=this._generateAnswerSync(i,s),l=r+a;return this.answers.set(i,l),l}return this.answers.has(i)||this.answers.set(i,this._generateAnswerAsync(i,s)),Promise.resolve().then(async()=>r+await this.answers.get(i)).then(a=>(this.answers.set(i,a),a))}_runCheck=(t,n,r,i,s)=>{i[3]=s,i[9]=Math.round(performance.now()-t);const o=dm(i);return sOe(n+o).substring(0,r.length)<=r?o+"~S":null};buildGenerateFailMessage(t){return this.errorPrefix+dm(String(t??"e"))}_generateAnswerSync(t,n){const r=performance.now();try{const i=this.getConfig();for(let s=0;s<this.maxAttempts;s++){const o=this._runCheck(r,t,n,i,s);if(o)return o}}catch(i){return this.buildGenerateFailMessage(i)}return this.buildGenerateFailMessage()}async _generateAnswerAsync(t,n){const r=performance.now();try{let i=null;const s=this.getConfig();for(let o=0;o<this.maxAttempts;o++){(!i||i.timeRemaining()<=0)&&(i=await cOe());const a=this._runCheck(r,t,n,s,o);if(a)return a}}catch(i){return this.buildGenerateFailMessage(i)}return this.buildGenerateFailMessage()}_generateRequirementsTokenAnswerBlocking(){let t="e";const n=performance.now();try{const r=this.getConfig();return r[3]=1,r[9]=Math.round(performance.now()-n),dm(r)}catch(r){t=dm(String(r))}return this.errorPrefix+t}getConfig(){return[screen?.width+screen?.height,""+new Date,performance?.memory?.jsHeapSizeLimit,Math?.random(),navigator.userAgent,$m(Array.from(document.scripts).map(t=>t?.src).filter(t=>t)),(Array.from(document.scripts||[]).map(t=>t?.src?.match("c/[^/]*/_")).filter(t=>t?.length)[0]??[])[0]??document.documentElement.getAttribute("data-build"),navigator.language,navigator.languages?.join(","),Math?.random(),lOe(),$m(Object.keys(document)),$m(Object.keys(window)),performance.now(),this.sid,[...new URLSearchParams(window.location.search).keys()].join(","),navigator?.hardwareConcurrency,performance.timeOrigin]}}function $m(e){return e[Math.floor(Math.random()*e.length)]}function aOe(){return""+Math.random()}function lOe(){const e=$m(Object.keys(Object.getPrototypeOf(navigator)));try{return`${e}−${navigator[e].toString()}`}catch{return`${e}`}}function dm(e){return e=JSON.stringify(e),window.TextEncoder?btoa(String.fromCharCode(...new TextEncoder().encode(e))):btoa(unescape(encodeURIComponent(e)))}function cOe(){return new Promise(e=>{(window.requestIdleCallback||uOe)(n=>{e(n)},{timeout:10})})}function uOe(e){return setTimeout(()=>{e({timeRemaining:()=>1,didTimeout:!1})},0),0}const DS=new oOe,dOe=0,fOe=1,hOe=2,pOe=3,mOe=4,gOe=5,vOe=6,_Oe=24,yOe=7,bOe=8,Ei=9,COe=10,SOe=11,wOe=12,EOe=13,xOe=14,kOe=15,GW=16,TOe=17,OOe=18,AOe=19,IOe=23,MOe=20,ROe=21,POe=22,NOe=25,DOe=26,LOe=27,FOe=28,jOe=29,BOe=30,UOe=31,qOe=32,zOe=33,Z=new Map;let K1=0;function Y1(){for(;Z.get(Ei).length>0;){const[e,...t]=Z.get(Ei).shift();Z.get(e)(...t),K1++}}function LS(e){return new Promise((t,n)=>{let r=!1;setTimeout(()=>{r=!0,t(""+K1)},100),Z.set(pOe,i=>{r||(r=!0,t(btoa(""+i)))}),Z.set(mOe,i=>{r||(r=!0,n(btoa(""+i)))}),Z.set(BOe,(i,s,o,a)=>{const l=Array.isArray(a),c=l?o:[],u=(l?a:o)||[];Z.set(i,(...d)=>{if(r)return;const h=[...Z.get(Ei)];let m;try{if(l)for(let v=0;v<c.length;v++){const _=c[v],y=d[v];Z.set(_,y)}Z.set(Ei,[...u]),Y1(),m=Z.get(s)}catch(v){m=""+v}finally{Z.set(Ei,h)}return m})});try{Z.set(Ei,JSON.parse(FS(atob(e),""+Z.get(GW)))),Y1()}catch(i){t(btoa(K1+": "+i))}})}function GOe(e){HOe(),K1=0,Z.set(GW,e)}function FS(e,t){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r%t.length));return n}function HOe(){Z.clear(),Z.set(dOe,LS),Z.set(fOe,(e,t)=>Z.set(e,FS(""+Z.get(e),""+Z.get(t)))),Z.set(hOe,(e,t)=>Z.set(e,t)),Z.set(gOe,(e,t)=>{const n=Z.get(e);Array.isArray(n)?n.push(Z.get(t)):Z.set(e,n+Z.get(t))}),Z.set(LOe,(e,t)=>{const n=Z.get(e);Array.isArray(n)?n.splice(n.indexOf(Z.get(t)),1):Z.set(e,n-Z.get(t))}),Z.set(jOe,(e,t,n)=>Z.set(e,Z.get(t)<Z.get(n))),Z.set(zOe,(e,t,n)=>{const r=Number(Z.get(t)),i=Number(Z.get(n));Z.set(e,r*i)}),Z.set(vOe,(e,t,n)=>Z.set(e,Z.get(t)[Z.get(n)])),Z.set(yOe,(e,...t)=>Z.get(e)(...t.map(n=>Z.get(n)))),Z.set(TOe,(e,t,...n)=>Z.set(e,Z.get(t)(...n.map(r=>Z.get(r))))),Z.set(EOe,(e,t,...n)=>{try{Z.get(t)(...n)}catch(r){Z.set(e,""+r)}}),Z.set(bOe,(e,t)=>Z.set(e,Z.get(t))),Z.set(COe,window),Z.set(SOe,(e,t)=>Z.set(e,(Array.from(document.scripts||[]).map(n=>n?.src?.match(Z.get(t))).filter(n=>n?.length)[0]??[])[0]??null)),Z.set(wOe,e=>Z.set(e,Z)),Z.set(xOe,(e,t)=>Z.set(e,JSON.parse(""+Z.get(t)))),Z.set(kOe,(e,t)=>Z.set(e,JSON.stringify(Z.get(t)))),Z.set(OOe,e=>Z.set(e,atob(""+Z.get(e)))),Z.set(AOe,e=>Z.set(e,btoa(""+Z.get(e)))),Z.set(MOe,(e,t,n,...r)=>Z.get(e)===Z.get(t)?Z.get(n)(...r):null),Z.set(ROe,(e,t,n,r,...i)=>Math.abs(Z.get(e)-Z.get(t))>Z.get(n)?Z.get(r)(...i):null),Z.set(IOe,(e,t,...n)=>Z.get(e)!==void 0?Z.get(t)(...n):null),Z.set(_Oe,(e,t,n)=>Z.set(e,Z.get(t)[Z.get(n)].bind(Z.get(t)))),Z.set(POe,(e,t)=>{const r=[...Z.get(Ei)];Z.set(Ei,[...t]);try{Y1()}catch(i){Z.set(e,""+i)}finally{Z.set(Ei,r)}}),Z.set(UOe,e=>{const t=Z.get(e)||0;Z.set(e,t+1)}),Z.set(qOe,(e,t,n,r,i)=>{const s=Z.get(e)||0,o=Math.max(0,s-1);Z.set(e,o);const a=Z.get(t)||0,l=Z.get(i)||0;if(!(o!==a||l!==1))try{const c=String(Z.get(n)??"");if(!c)return;const u=atob(c),d=FS(u,""+Z.get(r)),f=JSON.parse(d),m=[...Z.get(Ei)];Z.set(Ei,[...f]),Y1(),Z.set(Ei,m)}catch{}}),Z.set(FOe,()=>{}),Z.set(DOe,()=>{}),Z.set(NOe,()=>{})}const VOe=1e3*60*9;var Nf=(e=>(e.NOAUTH="chatgpt-noauth",e.FREEACCOUNT="chatgpt-freeaccount",e.PAID="chatgpt-paid",e))(Nf||{}),$Oe=(e=>(e.ChatRequirementsToken="OpenAI-Sentinel-Chat-Requirements-Token",e.TurnstileToken="OpenAI-Sentinel-Turnstile-Token",e.ProofToken="OpenAI-Sentinel-Proof-Token",e.Token="OpenAI-Sentinel-Token",e))($Oe||{});let WOe=-1,Ki=null;function KOe(){if(Ki){const{chatRequirements:e,expiration:t}=Ki;if(Date.now()>=t)return Ki=null,null;if(e)return Ki=null,e}return null}async function YOe(e=!1){if(Ki){const{expiration:i,chatRequirementsPromise:s}=Ki;if(Date.now()<i)try{return e||(Ki=null),s}catch{}else s.then(o=>V.addAction("chat_requirements_cache_expired",{app:o.persona.toString()}));Ki=null}const t=DS.getRequirementsTokenBlocking();GOe(t);const n=he.safePost("/sentinel/chat-requirements",{requestBody:{p:t},authOption:tn.SendIfAvailable}),r=++WOe;return e&&(Ki={id:r,chatRequirements:null,chatRequirementsPromise:n.then(i=>(Ki?.id===r&&(Ki.chatRequirements=i),i)),expiration:Date.now()+VOe}),n}const ZOe=window.location.origin+"/backend-api/sentinel/sdk.js",JOe="https://sentinel.openai.com/backend-api/sentinel/sdk.js";function QOe(e){return new Promise((t,n)=>{const r=document.createElement("script");r.type="text/javascript",r.src=e,r.async=!0,r.defer=!0,r.onload=t,r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)})}function HW(e){let t;return()=>(t||(t=QOe(e)),t)}const XOe=HW(ZOe),eAe=HW(JOe);function Vqe(e,t){return((t?.sdkVariant??"chatgpt")==="openai"?eAe:XOe)().then(()=>window.SentinelSDK.token(e))}function tAe(e,t,n,r){const i={};return e?.token&&(i["OpenAI-Sentinel-Chat-Requirements-Token"]=e.token),t&&(i["OpenAI-Sentinel-Turnstile-Token"]=t),n&&(i["OpenAI-Sentinel-Proof-Token"]=n),r&&(i["OpenAI-Sentinel-Token"]=r),i}const pf=e=>{if(e.type===Vt.Starter&&e.category==="onboarding")return"";switch(e.type){case Vt.Reply:return e.text;case Vt.Starter:case Vt.Autocomplete:case Vt.Trending:case Vt.Capabilities:return e.prompt}},nAe=e=>e.type===Vt.Reply,VW=e=>e.type===Vt.Starter,LE=e=>e.type===Vt.Autocomplete,Z1=e=>e.type===Vt.Trending,J1=e=>LE(e)&&!!e.theme,$W=e=>e.type===Vt.Capabilities,rAe=e=>Z1(e)||$W(e)||LE(e)&&!J1(e),$qe=(e,t,n,r)=>{switch(vt.logEvent("chatgpt_prompt_use_suggestion",rAe(e)?"":pf(e),{id:VW(e)||J1(e)||Z1(e)?e.id??"":"",index:`${t}`,type:e.type,theme:Z1(e)&&e.theme?e.theme:""}),e.type){case Vt.Reply:K.logEvent("Use Suggested Reply",{value:pf(e),prompt_type:Vt.Reply,messageId:r});break;case Vt.Capabilities:K.logEvent("Use Capabilities Suggestion",{prompt_type:Vt.Capabilities,categoryId:e.categoryId,client_thread_id:n,messageId:r});break;case Vt.Starter:K.logEvent("Use Starter Prompt",{value:pf(e),prompt_type:Vt.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:n,messageId:r,index:t,theme:e.theme});break;case Vt.Autocomplete:{const i=J1(e);K.logEvent("Use Autocomplete",{value:i?pf(e):"",prompt_type:Vt.Autocomplete,title:i?e.title:"",body:i?e.body:"",id:i?e.id:"",category:e.category,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}case Vt.Trending:{K.logEvent("Use Trending Prompt",{prompt_type:Vt.Trending,title:e.title,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}}},Wqe=(e,t)=>{if(e.length===0)return;const r=Ee.getCurrentNode(ln(t)).message.id;vt.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type});const i=s=>{for(let o=0;o<s.length;o++){const a=s[o];K.logEventWithStatsig("Show Trending Prompt","chatgpt_prompt_show_suggestion",{type:a.type,id:a.id,index:o,client_thread_id:t,message_id:r,theme:a.theme??""})}};if(e.every(nAe))K.logEvent("Show Suggested Replies",{prompt_count:e.length,prompt_type:Vt.Reply,client_thread_id:t,suggestions:e.map(s=>s.text),message_id:r});else if(e.every(VW)){const{isAdditional:s}=e[0];K.logEvent(s?"More Starter Prompts Shown":"Show Starter Prompts",{prompt_count:e.length,prompt_type:Vt.Starter,titles:e.map(o=>o.title),bodies:e.map(o=>o.body),ids:e.map(o=>o.id),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")}),s&&K.logEvent("Expand More Starter Prompts",{client_thread_id:t,message_id:r}),i(e)}else if(e.every(LE)){const s=!!e.find(o=>J1(o));K.logEvent("Show Autocomplete Prompts",{prompt_count:e.length,prompt_type:e[0].type,titles:e.map(o=>s?o.title:""),bodies:e.map(o=>s?o.body:""),ids:e.map(o=>s?o.id:""),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")})}else e.every(Z1)?(K.logEvent("Show Trending Prompts",{prompt_count:e.length,prompt_type:Vt.Trending,titles:e.map(s=>s.title),client_thread_id:t,message_id:r}),i(e)):e.every($W)?K.logEvent("Show Capabilities Suggestions",{prompt_count:e.length,prompt_type:Vt.Capabilities,category_ids:e.map(s=>s.categoryId),client_thread_id:t,message_id:r}):V.addError("Unhandled suggestion type",{type:e[0].type})},Kqe=e=>{const n=Ee.getCurrentNode(ln(e)).message.id;K.logEvent("Show Expand More Starter Prompts Button",{client_thread_id:e,message_id:n})},Yqe=e=>{const n=Ee.getCurrentNode(ln(e)).message.id;K.logEvent("Expand More Starter Prompts",{client_thread_id:e,message_id:n})},nu=It({searchPlaceholder:{id:"PromptTextarea.searchPlaceholder",defaultMessage:"Search the web"},thinkPlaceholder:{id:"PromptTextarea.thinkPlaceholder",defaultMessage:"Ask anything"},connectorPlaceholder:{id:"PromptTextarea.connectorPlaceholder",defaultMessage:"Search connected sources"},apiToolPlaceholder:{id:"PromptTextarea.apiToolPlaceholder",defaultMessage:"Use tools"},researchPlaceholder:{id:"PromptTextarea.researchPlaceholder",defaultMessage:"Get a detailed report"},canvasPlaceholder:{id:"PromptTextarea.canvasPlaceholder",defaultMessage:"Write or code"},picturePlaceholder:{id:"PromptTextarea.picturePlaceholder",defaultMessage:"Describe an image"},pictureV2Placeholder:{id:"PromptTextarea.pictureV2Placeholder",defaultMessage:"Describe an image"},contextualAnswersPlaceholder:{id:"PromptTextarea.contextualAnswersPlaceholder",defaultMessage:"Search internal sources"},tatertotPlaceholder:{id:"PromptTextarea.studyAndLearnPlaceholder",defaultMessage:"Learn something new"},continueGenerating:{id:"PromptTextarea.continueGenerating",defaultMessage:"Continue generating"},stopGenerating:{id:"PromptTextarea.stopGenerating",defaultMessage:"Stop generating"},disallowedByWorkspacePlaceholder:{id:"PromptTextarea.disallowedByWorkspaceReason",defaultMessage:"Your workspace owner hasn’t approved this GPT."},pimBlockPlaceholder:{id:"PromptTextarea.pimBlockPlaceholder",defaultMessage:"Potentially Malicious Content Detected"},noModelsAvailablePlaceholder:{id:"PromptTextarea.noModelsAvailablePlaceholder",defaultMessage:"No models available"},requiresPluginsToBeInstalled:{id:"PromptTextarea.requiresPluginsToBeInstalled",defaultMessage:"Requires plugins to be installed"},noTestGizmoId:{id:"PromptTextarea.noTestGizmoId",defaultMessage:"Start by defining your GPT."},searchWith:{id:"PromptTextarea.searchWith",defaultMessage:"Search with {name}"},loading:{id:"PromptTextarea.loading",defaultMessage:"Loading..."},placeholder:{id:"PromptTextarea.placeholder",defaultMessage:"Send a message"},placeholderWithName:{id:"PromptTextarea.placeholderWithName",defaultMessage:"Message {name}"},placeholderAskAnythingVariant:{id:"PromptTextarea.placeholderAskAnythingVariant",defaultMessage:"Ask anything"},placeholderAskNameAnythingVariant:{id:"PromptTextarea.placeholderAskNameAnythingVariant",defaultMessage:"Ask {name} anything"},continueSharedConversationPlaceholder:{id:"PromptTextarea.continueSharedConversationPlaceholder",defaultMessage:"Send a message to continue the conversation."},sendMessageTooltip:{id:"PromptTextarea.sendMessageTooltip",defaultMessage:"Send message"},unsupportedFileType:{id:"PromptTextarea.unsupportedFileType",defaultMessage:'Uploads with file type "{file_type}" are not supported, please try another file.'},gizmoKnowledgeWarning:{id:"PromptTextarea.gizmoKnowledgeWarning",defaultMessage:"Files uploaded here may be included in conversations with your GPT. Files can be downloaded if Code Interpreter is enabled."},n7jupdSystemHintPlaceholder:{id:"3pa1zs",defaultMessage:"Describe a task"},n7jupdActivePlaceholder:{id:"0qUILF",defaultMessage:"Follow up"}}),WW="prompt-textarea";function Zqe(){document.getElementById(WW)?.focus()}const Jqe={getAndReset:(e,t)=>{const n=Wt.getItem(qt.RestoreMessageAfterOauthRedirect);return Wt.removeItem(qt.RestoreMessageAfterOauthRedirect),!n||n.userId!==e||t!==n.serverThreadId||Date.now()>n.expiresAt?null:n},set:(e,t,n)=>{const r={userId:e,serverThreadId:t,inputText:n,expiresAt:Date.now()+6e4};Wt.setItem(qt.RestoreMessageAfterOauthRedirect,r)}},Qqe=()=>{"use forget";const e=Re.c(16),t=sSe(),n=$a.useStore();let r;e[0]!==n?(r=m=>n.getPersistedSystemHintTrigger(m),e[0]=n,e[1]=r):r=e[1];const i=r;let s;e[2]!==t?(s=m=>t(null,{ifPrevSystemHint:m}),e[2]=t,e[3]=s):s=e[3];const o=s;let a;e[4]!==t?(a=()=>t(null),e[4]=t,e[5]=a):a=e[5];const l=a;let c;e[6]!==t?(c=(m,v,_,y)=>{v?t(m,{analyticsMetadata:_,triggerSource:y}):t(null,{ifPrevSystemHint:m,analyticsMetadata:_})},e[6]=t,e[7]=c):c=e[7];const u=c;let d;e[8]!==t?(d=(m,v)=>{t(m,{analyticsMetadata:v})},e[8]=t,e[9]=d):d=e[9];const f=d;let h;return e[10]!==l||e[11]!==o||e[12]!==i||e[13]!==u||e[14]!==f?(h={getSystemHintModeTrigger:i,clearSystemHintModeTrigger:o,setThreadSystemHintMode:u,clearAllSystemHintModeTriggers:l,updateSystemHint:f},e[10]=l,e[11]=o,e[12]=i,e[13]=u,e[14]=f,e[15]=h):h=e[15],h},Xqe=({promptDisabledReason:e,hasPendingFiles:t,hasTextContent:n,isTextContentTooLong:r,hasAsyncTaskPending:i,noSourceSelectedDr:s,isDeepResearchTaskStreaming:o,isThreadHardBlocked:a})=>e||(a?"rate_limit_hard_block":t?"file_upload_pending":i?o?void 0:"async_task_pending":n?r?"text_content_too_long":s?"no_source_selected_dr":void 0:"empty_text_content");function eze(e,t){const n=Math.ceil(t/4);return typeof e?.maxTokens=="number"&&n>e.maxTokens}function tze(e,t){return e?t===void 0?!0:t.includes(e):!1}const nze=e=>{switch(e){case"pimBlock":return{placeholder:nu.pimBlockPlaceholder,isLastingDisabledStyle:!0};case"workspaceDisallowsGizmo":return{placeholder:nu.disallowedByWorkspacePlaceholder,isLastingDisabledStyle:!0};case"noModelsAvailable":return{placeholder:nu.noModelsAvailablePlaceholder,isLastingDisabledStyle:!0};case"requiresPluginsToBeInstalled":return{placeholder:nu.requiresPluginsToBeInstalled,isLastingDisabledStyle:!0};case"loadingPlugins":return{placeholder:nu.loading,isLastingDisabledStyle:!0};case"noTestGizmoId":return{placeholder:nu.noTestGizmoId,isLastingDisabledStyle:!0}}return null},iAe="OAI-Echo-Logs",ru={FOCUS_IN:0,FOCUS_OUT:1,COPY:2,PASTE:3,TOUCH_START:4,TOUCH_END:5},KW=[];function iu(e){return()=>{KW.push({type:e,ts:Math.round(performance.now())})}}const sAe={focusin:iu(ru.FOCUS_IN),focusout:iu(ru.FOCUS_OUT),copy:iu(ru.COPY),paste:iu(ru.PASTE),touchstart:iu(ru.TOUCH_START),touchend:iu(ru.TOUCH_END)};function rze(e){const t=e??document.getElementById(WW);for(const[n,r]of Object.entries(sAe))t?.removeEventListener(n,r),t?.addEventListener(n,r)}function YW(){return{[iAe]:KW.slice(0,10).map(e=>`${e.type},${e.ts}`).join(",")}}var oAe=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Fl="1.6.0",VN=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function aAe(e){var t=new Set([e]),n=new Set,r=e.match(VN);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(l){return l===e};function s(a){return n.add(a),!1}function o(a){return t.add(a),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var c=l.match(VN);if(!c)return s(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||i.major!==u.major?s(l):i.major===0?i.minor===u.minor&&i.patch<=u.patch?o(l):s(l):i.minor<=u.minor?o(l):s(l)}}var lAe=aAe(Fl),cAe=Fl.split(".")[0],lh=Symbol.for("opentelemetry.js.api."+cAe),ch=oAe;function ap(e,t,n,r){var i;r===void 0&&(r=!1);var s=ch[lh]=(i=ch[lh])!==null&&i!==void 0?i:{version:Fl};if(!r&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(o.stack||o.message),!1}if(s.version!==Fl){var o=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+Fl);return n.error(o.stack||o.message),!1}return s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Fl+"."),!0}function dc(e){var t,n,r=(t=ch[lh])===null||t===void 0?void 0:t.version;if(!(!r||!lAe(r)))return(n=ch[lh])===null||n===void 0?void 0:n[e]}function lp(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Fl+".");var n=ch[lh];n&&delete n[e]}var uAe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},dAe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},fAe=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zd("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zd("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zd("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zd("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Zd("verbose",this._namespace,t)},e}();function Zd(e,t,n){var r=dc("diag");if(r)return n.unshift(t),r[e].apply(r,dAe([],uAe(n),!1))}var ei;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(ei||(ei={}));function hAe(e,t){e<ei.NONE?e=ei.NONE:e>ei.ALL&&(e=ei.ALL),t=t||{};function n(r,i){var s=t[r];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:n("error",ei.ERROR),warn:n("warn",ei.WARN),info:n("info",ei.INFO),debug:n("debug",ei.DEBUG),verbose:n("verbose",ei.VERBOSE)}}var pAe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},mAe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},gAe="diag",Ks=function(){function e(){function t(i){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=dc("diag");if(a)return a[i].apply(a,mAe([],pAe(s),!1))}}var n=this,r=function(i,s){var o,a,l;if(s===void 0&&(s={logLevel:ei.INFO}),i===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((o=c.stack)!==null&&o!==void 0?o:c.message),!1}typeof s=="number"&&(s={logLevel:s});var u=dc("diag"),d=hAe((a=s.logLevel)!==null&&a!==void 0?a:ei.INFO,i);if(u&&!s.suppressOverrideMessage){var f=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+f),d.warn("Current logger will overwrite one already registered from "+f)}return ap("diag",d,n,!0)};n.setLogger=r,n.disable=function(){lp(gAe,n)},n.createComponentLogger=function(i){return new fAe(i)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),vAe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},_Ae=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yAe=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=vAe(t,2),r=n[0],i=n[1];return[r,i]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=new e(this._entries);try{for(var o=_Ae(r),a=o.next();!a.done;a=o.next()){var l=a.value;s._entries.delete(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),bAe=Symbol("BaggageEntryMetadata"),CAe=Ks.instance();function SAe(e){return e===void 0&&(e={}),new yAe(new Map(Object.entries(e)))}function ize(e){return typeof e!="string"&&(CAe.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:bAe,toString:function(){return e}}}function ZW(e){return Symbol.for(e)}var wAe=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var s=new e(n._currentContext);return s._currentContext.set(r,i),s},n.deleteValue=function(r){var i=new e(n._currentContext);return i._currentContext.delete(r),i}}return e}(),EAe=new wAe,Od=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xAe=function(){function e(){}return e.prototype.createHistogram=function(t,n){return NAe},e.prototype.createCounter=function(t,n){return PAe},e.prototype.createUpDownCounter=function(t,n){return DAe},e.prototype.createObservableGauge=function(t,n){return FAe},e.prototype.createObservableCounter=function(t,n){return LAe},e.prototype.createObservableUpDownCounter=function(t,n){return jAe},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),FE=function(){function e(){}return e}(),kAe=function(e){Od(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(FE),TAe=function(e){Od(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(FE),OAe=function(e){Od(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(FE),jE=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),AAe=function(e){Od(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(jE),IAe=function(e){Od(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(jE),MAe=function(e){Od(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(jE),RAe=new xAe,PAe=new kAe,NAe=new OAe,DAe=new TAe,LAe=new AAe,FAe=new IAe,jAe=new MAe,BAe={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},UAe={set:function(e,t,n){e!=null&&(e[t]=n)}},qAe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},zAe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},GAe=function(){function e(){}return e.prototype.active=function(){return EAe},e.prototype.with=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return n.call.apply(n,zAe([r],qAe(i),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),HAe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},VAe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},x5="context",$Ae=new GAe,G0=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return ap(x5,t,Ks.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,VAe([t,n,r],HAe(s),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return dc(x5)||$Ae},e.prototype.disable=function(){this._getContextManager().disable(),lp(x5,Ks.instance())},e}(),jS;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(jS||(jS={}));var JW="0000000000000000",QW="00000000000000000000000000000000",WAe={traceId:QW,spanId:JW,traceFlags:jS.NONE},Df=function(){function e(t){t===void 0&&(t=WAe),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),BE=ZW("OpenTelemetry Context Key SPAN");function UE(e){return e.getValue(BE)||void 0}function KAe(){return UE(G0.getInstance().active())}function qE(e,t){return e.setValue(BE,t)}function YAe(e){return e.deleteValue(BE)}function ZAe(e,t){return qE(e,new Df(t))}function XW(e){var t;return(t=UE(e))===null||t===void 0?void 0:t.spanContext()}var JAe=/^([0-9a-f]{32})$/i,QAe=/^[0-9a-f]{16}$/i;function XAe(e){return JAe.test(e)&&e!==QW}function eIe(e){return QAe.test(e)&&e!==JW}function eK(e){return XAe(e.traceId)&&eIe(e.spanId)}function tIe(e){return new Df(e)}var k5=G0.getInstance(),tK=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=k5.active());var i=!!n?.root;if(i)return new Df;var s=r&&XW(r);return nIe(s)&&eK(s)?new Df(s):new Df},e.prototype.startActiveSpan=function(t,n,r,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(s=n,a=r):(s=n,o=r,a=i);var l=o??k5.active(),c=this.startSpan(t,s,l),u=qE(l,c);return k5.with(u,a,void 0,c)}},e}();function nIe(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var rIe=new tK,iIe=function(){function e(t,n,r,i){this._provider=t,this.name=n,this.version=r,this.options=i}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):rIe},e}(),sIe=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new tK},e}(),oIe=new sIe,$N=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var i;return(i=this.getDelegateTracer(t,n,r))!==null&&i!==void 0?i:new iIe(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:oIe},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,n,r)},e}(),WN;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(WN||(WN={}));var KN;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(KN||(KN={}));var YN;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(YN||(YN={}));var sze=G0.getInstance(),oze=Ks.instance(),aIe=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return RAe},e}(),lIe=new aIe,T5="metrics",cIe=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return ap(T5,t,Ks.instance())},e.prototype.getMeterProvider=function(){return dc(T5)||lIe},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){lp(T5,Ks.instance())},e}(),aze=cIe.getInstance(),uIe=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),zE=ZW("OpenTelemetry Baggage Key");function nK(e){return e.getValue(zE)||void 0}function dIe(){return nK(G0.getInstance().active())}function fIe(e,t){return e.setValue(zE,t)}function hIe(e){return e.deleteValue(zE)}var O5="propagation",pIe=new uIe,mIe=function(){function e(){this.createBaggage=SAe,this.getBaggage=nK,this.getActiveBaggage=dIe,this.setBaggage=fIe,this.deleteBaggage=hIe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return ap(O5,t,Ks.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=UAe),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=BAe),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){lp(O5,Ks.instance())},e.prototype._getGlobalPropagator=function(){return dc(O5)||pIe},e}(),lze=mIe.getInstance(),A5="trace",gIe=function(){function e(){this._proxyTracerProvider=new $N,this.wrapSpanContext=tIe,this.isSpanContextValid=eK,this.deleteSpan=YAe,this.getSpan=UE,this.getActiveSpan=KAe,this.getSpanContext=XW,this.setSpan=qE,this.setSpanContext=ZAe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=ap(A5,this._proxyTracerProvider,Ks.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return dc(A5)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){lp(A5,Ks.instance()),this._proxyTracerProvider=new $N},e}(),vIe=gIe.getInstance();const GE="RESUME_TOKEN_STORE_KEY",_Ie=1e3,yIe=_Ie*60,bIe=yIe*60;function HE(){const e=localStorage.getItem(GE)??"{}",t=JSON.parse(e);return Object.fromEntries(Object.entries(t).filter(([r,i])=>i.expiresAt>Date.now()))}function rK(e){const t=JSON.stringify(e);localStorage.setItem(GE,t)}function CIe(e,t){const n=HE();n[e]={token:t,expiresAt:Date.now()+bIe},rK(n)}function SIe(e){return HE()[e]?.token}function wIe(e){const t=HE();delete t[e],rK(t)}function EIe(){localStorage.removeItem(GE)}const I5={set:CIe,get:SIe,remove:wIe,clear:EIe};function xIe(e,t,n,r,i,s){const o=OIe(e,t,n,i,s);return iK(n,r,o)}function kIe(e,t,n,r,i,s){const{conversationId:o,resumeToken:a,model:l}=t;let c=lK({ctx:e,conversationId:o,resumeToken:a,model:l,turnTracker:n,offset:0,signal:i??null});c=aK(c,{ctx:e,model:l,turnTracker:n,signal:i??null}),c=cK(c,{turnTracker:n,prepareState:null,signal:i??null,f_completion:!0});const d=FW(c,f=>{n.stream_encoding=f});return iK(n,r,sK(d))}const TIe=1e3*30,Jd=vIe.getTracer("completion");function M5(e,t){xn.count(Sn.DEFAULT,e,[{key:"prepare_sent",value:t&&t!=="none"?"true":"false"},{key:"prepare_succeeded",value:t==="success"?"true":"false"},{key:"prepare_failed",value:t==="failure"?"true":"false"}])}async function*iK(e,t,n){let r=!1,i=!1,s=!1,o=!1,a,l,c,u,d;Jd.startActiveSpan("completion.response",h=>{a=Jd.startSpan("completion.first_response"),l=Jd.startSpan("completion.first_token_including_tool_calls"),c=Jd.startSpan("completion.first_token_including_visible_content"),u=Jd.startSpan("completion.first_token"),d=h});let f=setTimeout(()=>{K.logEvent("SSE Response Took Too Long to Come Back",{}),e.logCompletion({type:fo.Error,error:{reason:"timeout",message:"SSE Response Took Too Long to Come Back"}})},TIe);try{t?.logTimingOnce("prompt_submitted");for await(const h of n)yield h,h.type!=="connected"&&f&&(clearTimeout(f),f=null),h.type==="message"&&(e.onMessageUpdate(h.message),r||(r=!0,a?.end(),t?.logTimingOnce("first_response")),!i&&h.message.author.role===Ve.Assistant&&(i=!0,l?.end(),t?.logTimingOnce("first_assistant_token")),!s&&h.message.author.role===Ve.Assistant&&Vf(h.message)&&(s=!0,c?.end(),t?.logTimingOnce("first_visible_content_token")),!o&&h.message.author.role===Ve.Assistant&&Jj(h.message)&&(o=!0,u?.end(),t?.logTimingOnce("first_message_token"))),h.type==="perf_stats"&&e.addServerPerfStats(h),h.type==="server_ste_metadata"&&e.addServerSteMetadata(h),h.type==="message_marker"&&e.onMessageMarker(h),h.type==="done"&&e.onStreamClose()}catch(h){throw f&&(clearTimeout(f),f=null),h}finally{d?.end()}}async function*OIe(e,t,n,r,i){const{conduitToken:s,prepareState:o,model:a,f_completion:l,f_search:c}=t,u=jr(3010482349,`${a}-AAAA`)||jr(3240390095,`${a}-AAAA`),d=_n(e)?u?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon";let f=`${d}/conversation`;l&&(f=`${d}/f/conversation`),Qe(e,"212625335")&&(f+="?debug=true"),n.onSentUserMessage();const h=vs()?await LW():void 0;let m=zW(f,{ctx:e,method:"POST",headers:{...YW(),...tAe(t.chatReq,t.turnstileToken,t.proofToken,null),...s?{"x-conduit-token":s}:{}},body:oK(t,h),intercomEventOnError:"fetch-error:conversation:new-message",signal:r,observer:{onEvent:y=>{n.onStreamEvent(y.byteLength,y.isDoneEvent)}},shouldRetry:y=>(Q1(y)||y instanceof mt&&VE(y.status))&&$t(e,"603105008").get("retry_stream_requests",!1),retryConfig:$E(e)});m=aK(m,{ctx:e,model:a,turnTracker:n,signal:r??null}),m=cK(m,{turnTracker:n,prepareState:o,signal:r??null,f_completion:l??null}),l&&i&&Mt(i,y=>{y.stopConduitToken=s??null,y.conduitToken=null,y.prepareState=null,y.lastPrepareTimestamp=null});const _=FW(m,y=>{n.stream_encoding=y});yield*sK(_)}async function*sK(e){let t=!1;for await(const n of e)if("response"in n){const r=n.response,i=r?.headers?.get("Cf-Ray")??null,s=r?.headers?.get("X-Conduit-Token")??null;yield{type:"connected",serverRequestId:i,interruptConversationToken:s}}else{const r=IIe(n.data);r&&(r.type==="done"&&(t=!0),yield r)}t||(yield{type:"done"})}function oK(e,t){const n="threadId"in e?e.threadId:void 0;return{action:e.completionType,messages:e.messages.length>0?e.messages.map(AIe):void 0,continue_from_shared_conversation_id:"continueFromSharedConversationId"in e&&n==null?e.continueFromSharedConversationId:void 0,branching_from_conversation_id:"branchingFromConversationId"in e&&n==null?e.branchingFromConversationId:void 0,branching_from_message_id:"branchingFromMessageId"in e&&n==null?e.branchingFromMessageId:void 0,continue_from_shared_post_id:"continueFromSharedPostId"in e?e.continueFromSharedPostId:void 0,fork_from_shared_post:"forkFromSharedPost"in e?e.forkFromSharedPost:void 0,..."sharedProjectConversationOwnerId"in e&&"sharedProjectConversationId"in e&&e.sharedProjectConversationId&&e.sharedProjectConversationOwnerId?{continue_from_shared_project_conversation_id:e.sharedProjectConversationId,shared_project_conversation_owner_id:e.sharedProjectConversationOwnerId}:{conversation_id:n},parent_message_id:e.parentMessageId,model:e.model,timezone_offset_min:new Date().getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,variant_purpose:e.completionMetadata?.variantPurpose,suggestions:e.completionMetadata?.suggestions?e.completionMetadata.suggestions.map(r=>pf(r)):void 0,chosen_suggestion:e.completionMetadata?.suggestion?{type:e.completionMetadata.suggestion.type,index:e.completionMetadata.suggestionIndex,source:e.completionMetadata.suggestion.type===Vt.Autocomplete?e.completionMetadata.suggestion.source:void 0,user_input:e.completionMetadata.suggestion.type===Vt.Autocomplete?e.completionMetadata.suggestion.userInput:void 0}:void 0,history_and_training_disabled:qi(e.historyDisabled),conversation_mode:g6(e.completionMetadata?.conversationMode),force_paragen:qi(e.forceParagen),force_paragen_model_slug:e.forceParagenModel,force_indepth_feedback:qi(e.forceIndepthFeedback),force_rate_limit:qi(e.forceRateLimit),reset_rate_limits:qi(e.resetRateLimits),record_rendering:qi(e.recordRendering),record_transformed_convo_json:qi(e.recordTransformedConvoJson),disable_system_content_toggling:qi(e.disableSystemContentToggling),enable_message_followups:e.enableMessageFollowups,source:e.completionMetadata?.source,system_hints:e.completionMetadata?.systemHints,prefetch_ids:e.completionMetadata?.prefetchIds,supports_buffering:!0,supported_encodings:[jW.V1],conversation_origin:Xr(e.conversationOrigin),force_use_search:Xr(e.forceUseSearch),force_disable_features:Xr(e.forceDisableFeatures),client_reported_search_source:e.completionMetadata?.searchSource,client_contextual_info:e.contextualInfo,paragen_stream_type_override:Xr(e.paragenStreamType==="none"?null:e.paragenStreamType),paragen_cot_summary_display_override:Xr(e.paragenCotSummaryDisplay==="none"?null:e.paragenCotSummaryDisplay),is_onboarding_conversation:qi(e.isOnboardingConversation),is_visible:Xr(e.isVisible),override_infer_treatment:Xr(e.overrideInferTreatment),model_slug_stats_override:Xr(e.modelSlugStatsOverride),is_anon_mode:qi(e.isAnonModeEnabled),is_reasoning_skipped:qi(e.isReasoningSkipped),force_parallel_switch:Xr(e.forceParallelSwitch),thinking_effort:Xr(e.thinkingEffort),juice_score:Xr(e.juiceScore),multimodal_juice_score:Xr(e.multimodalJuiceScore),local_function_names:vs()&&t?[...t]:void 0,api_tool_expansion_type:Xr(e.apiToolExpansionType)}}function AIe(e){let t=e;return e.clientMetadata&&(t={...e},delete t.clientMetadata),t}function qi(e){if(e===!0)return e}function Xr(e){if(e!=null)return e}function IIe(e){if("type"in e)switch(e.type){case"gizmo_inline_review":return{type:"gizmo_inline_review",gizmoId:e.gizmo_id};case"title_generation":return{type:"title_generation",title:e.title,conversation_id:e.conversation_id};case"moderation":return{type:"moderation",conversationId:e.conversation_id,messageId:e.message_id,isCompletion:e.is_completion,flagged:e.moderation_response.flagged,blocked:e.moderation_response.blocked,shouldDisableConversation:!!e.moderation_response.should_disable_conversation,disclaimers:e.moderation_response.disclaimers,metadata:e.moderation_response.metadata};case"url_moderation":return{type:"url_moderation",conversationId:e.conversation_id,messageId:e.message_id,url:e.url_moderation_result.full_url,isSafe:e.url_moderation_result.is_safe};case"num_variants_in_stream":return{type:"num_variants_in_stream",num_variants_in_stream:e.num_variants_in_stream,display_treatment:e.display_treatment};case"perf_stats":case"conversation_detail_metadata":case"beacon_ui_response":case"resume_conversation_token":case"conversation_async_status":case"server_ste_metadata":case"message_marker":case"survey_campaign_effect":return e;case"message_stream_complete":return{type:"done"};default:return}if(e.message)return{type:"message",message:e.message,conversationId:e.conversation_id}}async function cze(e,t,n=[],r,i=!1,s=!1){const o=Lt();if(!yE(o,!0)||!Bwe(o))return;const a=Pi(e),l=ln(e);if(l?.prepareRequestBlocked)return;const c=3e3;if(l?.lastCompletionFinishedTimestamp){const E=performance.now()-l.lastCompletionFinishedTimestamp,T=c-E;T>0&&await new Promise(O=>setTimeout(O,T))}const u=l?.conversationOrigin??null;let d;i?d=Ee.getParentPromptNode(l)?.id??"":d=Ee.getCurrentNode(l).message.id;const f=Jh(),h=kw(o),m=l?.conduitToken??null,v=l?.prepareState??"none",_={threadId:a,prepareState:v,conduitToken:m,continueFromSharedPostId:l?.continuingFromSharedPostId,forkFromSharedPost:!!l?.continuingFromSharedPostId,continueFromSharedConversationId:l?.continuingFromSharedConversationId,branchingFromMessageId:l?.branchingFromMessageId,branchingFromConversationId:l?.branchingFromConversationId,sharedProjectConversationId:l?.continuingFromSharedProjectConversationId,sharedProjectConversationOwnerId:l?.sharedProjectConversationOwner?.id,isOnboardingConversation:s,conversationOrigin:u,model:t,completionType:Au.Next,completionMetadata:{systemHints:n,conversationMode:l?.mode??{kind:an.PrimaryAssistant}},messages:[],parentMessageId:d,recordRendering:f.recordRendering,recordTransformedConvoJson:f.recordTransformedConvoJson,historyDisabled:h,apiToolExpansionType:f.apiToolExpansionType??void 0},y=vs()?await LW():void 0,b=oK(_,y),C={"x-conduit-token":m??"no-token"},S=jr(3010482349,`${t}-AAAA`)||jr(3240390095,`${t}-AAAA`);if(S){Mt(e,E=>{E.conduitToken=null,E.prepareState=null});return}const w=`${_n(o)?S?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon"}/f/conversation/prepare`;try{Mt(e,O=>{O.prepareState="sent",O.lastPrepareTimestamp=performance.now()});const E=await ct.post(w,b,{additionalHeaders:C,authOption:tn.SendIfAvailable}),{conduit_token:T}=E;r(T)}catch(E){xn.count(Sn.DEFAULT,"conduit_f_conversation_prepare_api_error"),V.addError(E),Mt(e,T=>{T.conduitToken=null,T.prepareState="failure"})}}const MIe=e=>new Promise(t=>setTimeout(t,e));async function*aK(e,t){const{MIN_RETRY_INTERVAL:n,MAX_RETRY_INTERVAL:r,RETRY_FACTOR:i,MAX_RETRY_COUNT:s}=$E(t.ctx),{signal:o}=t;let a,l,c=e,u=0,d=0,f=0,h=0;for(;c!=null;)try{for await(const m of c){const v="response"in m;!v&&m.data!=null&&typeof m.data=="object"&&"type"in m.data&&m.data.type==="resume_conversation_token"&&"token"in m.data&&"conversation_id"in m.data?(l=String(m.data.token),a=String(m.data.conversation_id),I5.set(a,l)):yield m,d>0&&(h++,K.logEventWithStatsig("ChatGPT Convo Stream: Resume Succeeded","chatgpt_convo_stream_resume_succeeded",{conversationId:a,offset:u,afterRetryCount:d,successfulResumeCount:h}),d=0),v||u++}K.logEventWithStatsig("ChatGPT Convo Stream: Stream Completed","chatgpt_convo_stream_completed",{conversationId:a,resumeAttempts:f,successfulResumeCount:h}),a!=null&&I5.remove(a),c=null}catch(m){const v=Q1(m);d===0&&K.logEventWithStatsig("ChatGPT Convo Stream: Error","chatgpt_convo_stream_error",{conversationId:a,offset:u,isNetworkError:v,successfulResumeCount:h,errorMessage:m instanceof Error?m.message:String(m)});const _=m instanceof mt&&VE(m.status);if(d<s&&!o?.aborted&&l!=null&&a!=null&&(Q1(m)||_)&&$t(t.ctx,"2489999880").get("is_resume_enabled",!1)){d===0&&K.logEventWithStatsig("ChatGPT Convo Stream: Resume Attempted","chatgpt_convo_stream_resume_attempted",{conversationId:a,offset:u,retryCount:d,successfulResumeCount:h}),d++,f++;const b=Math.min(n*i**d,r)*(.5+Math.random()*.5);await MIe(b),c=lK({...t,resumeToken:l,conversationId:a,offset:u})}else{const y=m instanceof mt&&m.status===404;throw(d>=s||y&&d>0)&&K.logEventWithStatsig("ChatGPT Convo Stream: Resume Failed","chatgpt_convo_stream_resume_failed",{conversationId:a,offset:u,afterRetryCount:d,successfulResumeCount:h,isNetworkError:v,is404:y}),c=null,m instanceof mt&&m.status===404&&d>0?(a!=null&&I5.remove(a),mt.createWithErrorMessage(m.url,"client",Kl,void 0,m)):m}}}function Q1(e){return e instanceof Error&&e.message===Kl||typeof e=="string"&&e===Kl}function VE(e){return e===408||e===409||e===425||e===429||e===502||e===504}function lK({ctx:e,conversationId:t,resumeToken:n,model:r,turnTracker:i,offset:s,signal:o}){const a=jr(3010482349,`${r}-AAAA`)||jr(3240390095,`${r}-AAAA`),l=_n(e)?a?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon",c={"x-conduit-token":n??"no-token"},u=`${l}/f/conversation/resume`,d=e?Ch(e):void 0,f={conversation_id:t,offset:s};return zW(u,{method:"POST",headers:{...YW(),...d?Pg({accessToken:d}):Rg(),...c,"Content-Type":"application/json"},body:f,intercomEventOnError:"fetch-error:conversation:new-message",signal:o??void 0,observer:{onEvent:m=>{i.onStreamEvent(m.byteLength,m.isDoneEvent)}},ctx:e,retryConfig:$E(e),shouldRetry:m=>(Q1(m)||m instanceof mt&&VE(m.status))&&$t(e,"603105008").get("retry_stream_requests",!1)})}async function*cK(e,{turnTracker:t,prepareState:n,f_completion:r,signal:i}){try{for await(const s of e)yield s;t.onStreamClose(),r&&M5("conduit_f_conversation_api.success",n)}catch(s){throw xn.count(Sn.DEFAULT,"conversation_api.client_request_error"),i?.aborted?(t.handleAbort(s),r&&M5("conduit_f_conversation_api.aborted",n)):(t.handleRawError(s instanceof Error||typeof s=="string"?s:JSON.stringify(s)),r&&M5("conduit_f_conversation_api.error",n)),s}}function $E(e){const t=On(e,"3165814200");return{MIN_RETRY_INTERVAL:t.get("MIN_RETRY_INTERVAL",300),MAX_RETRY_INTERVAL:t.get("MAX_RETRY_INTERVAL",5e3),RETRY_FACTOR:t.get("RETRY_FACTOR",1.5),MAX_RETRY_COUNT:t.get("MAX_RETRY_COUNT",12)}}class uK{constructor(t,n,r,i,s,o,a,l,c,u,d,f,h,m,v,_,y,b,C,S,x=!1,w,E=!1,T=!1,O,k=void 0,A){this.ctx=t,this.requestId=n,this.queryClient=r,this.initialThread=i,this.clientThreadId=s,this.parentMessageId=o,this.prependMessages=a,this.promptMessage=l,this.appendMessages=c,this.completionType=u,this.model=d,this.eventSource=f,this.isHistoryAndTrainingDisabled=h,this.startPreflightTime=m,this.isSnorlaxEnabledForGizmo=v,this.isNewThread=_,this.isContinuingFromSharedConversation=y,this.isContinuingFromBranchingConversation=b,this.isContinuingFromSharedProjectConversation=C,this.turnTracker=S,this.isAnonModeEnabled=w,this.isContinuableSharedPost=E,this.isReasoningSkipped=T,this.thinkingEffort=O,this.modelSlugStatsOverride=k,this.completionLatencyTracker=new Dwe(this.requestId,m),this.isFirstCompletionInThread=_||this.isContinuingFromSharedConversation||this.isContinuingFromSharedProjectConversation||this.isContinuableSharedPost||this.isContinuingFromBranchingConversation,A?.disablePlaceholder||(this.placeholderNodeId=`${GU}${n}`),x&&(this.sentNotification=!0)}isFirstCompletionInThread;activeBranchLastMessage;messagesToUpdate={};allIncompleteMessageIds=new Set;responseThreadId;isCompletionBlocked=!1;isEitherFlagged=!1;sentNotification=!1;variantsInStreamInfo;blurDuringCompletionTracker=new Cwe;completionLatencyTracker;preflightTime;treatCompletionAsAsync=!1;realtimeAsyncCompletion=!1;resumeToken;placeholderNodeId;updateBeforeRequest(){FTe.incrementUserMessageCount(_n(this.ctx)?gr.LoggedIn:gr.LoggedOut),td.retainThread(this.clientThreadId),Mt(this.clientThreadId,t=>{t.stopConduitToken=t.conduitToken??null,t.conduitToken=null,t.prepareState=null,t.lastPrepareTimestamp=null,this.completionType===Au.Next&&Ee.hasUserMessage(t)&&this.promptMessage?.author.role===Ve.User&&(t.scrollToMessageId=this.promptMessage?.id),Pr.updateTree(t,(n,r)=>{if(this.parentMessageId&&(r=Ee.getNode(t,this.parentMessageId).id),this.prependMessages)for(const s of this.prependMessages)r=n.addMessageNode(r,s);if(this.promptMessage&&(r=n.addMessageNode(r,this.promptMessage)),this.appendMessages)for(const s of this.appendMessages)r=n.addMessageNode(r,s);const i=this.promptMessage?.metadata?.gizmo_id;if(this.placeholderNodeId){const s=Ck("",i?{gizmo_id:i}:void 0,{requestId:this.requestId,isPlaceholder:!0},this.placeholderNodeId);r=n.addMessageNode(r,s)}return r})})}async sendRequest$({conduitToken:t,turnstileToken:n,proofToken:r,completionMetadata:i,resolvedParentMessageId:s,messages:o,extraStreamParams:a,chatReq:l,profiler:c}){XP(this.clientThreadId,!0);const u=new AbortController;Mf.addRequest(this.requestId,u,this.turnTracker);const d=Jh(),f=Pi(this.clientThreadId);if(this.completionType===Au.Variant&&f==null){V.addError("Generating variant without conversation_id"),this.#n(new Error("Regeneration must have conversation_id"));return}const h=xIe(this.ctx,{conversationOrigin:this.initialThread?.conversationOrigin??null,model:this.model,completionType:this.completionType,prepareState:this.initialThread?.prepareState??"none",conduitToken:t,threadId:f,isReasoningSkipped:this.isReasoningSkipped,overrideInferTreatment:d.autoSwitcherTreatmentOverride,modelSlugStatsOverride:this.modelSlugStatsOverride,continueFromSharedConversationId:this.initialThread?.continuingFromSharedConversationId,branchingFromConversationId:this.initialThread?.branchingFromConversationId,branchingFromMessageId:this.initialThread?.branchingFromMessageId,sharedProjectConversationOwnerId:this.initialThread?.sharedProjectConversationOwner?.id,sharedProjectConversationId:this.initialThread?.continuingFromSharedProjectConversationId,continueFromSharedPostId:this.initialThread?.continuingFromSharedPostId,forkFromSharedPost:this.initialThread?.forkFromSharedPost,historyDisabled:this.isHistoryAndTrainingDisabled,isAnonModeEnabled:this.isAnonModeEnabled,parentMessageId:s,messages:o,chatReq:l,turnstileToken:n,proofToken:r,completionMetadata:i,contextualInfo:{is_dark_mode:B4e(),time_since_loaded:Math.floor(performance.now()/1e3),page_height:window.innerHeight,page_width:window.innerWidth,pixel_ratio:window.devicePixelRatio,screen_height:window.screen.height,screen_width:window.screen.width,window_style:dn(this.ctx).windowStyle},isOnboardingConversation:i?.isOnboardingConversation,thinkingEffort:this.#e(),forceParagen:d.forceParagen,forceParagenModel:d.forceParagen?d.forceParagenModel.value:void 0,forceRateLimit:d.forceRateLimit,resetRateLimits:d.resetRateLimits,recordRendering:d.recordRendering,recordTransformedConvoJson:d.recordTransformedConvoJson,disableSystemContentToggling:d.rebaseSystemMessageContent!=null,forceUseSearch:d.forceUseSearch??void 0,paragenStreamType:d.paragenStreamType,paragenCotSummaryDisplay:d.paragenCotSummaryDisplay,forceParallelSwitch:d.forceParallelSwitch,juiceScore:d.juiceScore,multimodalJuiceScore:d.multimodalJuiceScore,apiToolExpansionType:d.apiToolExpansionType??void 0,...yE(this.ctx)?{f_completion:!0}:{},...Uwe()?{f_search:!0}:{},...a},this.turnTracker,c,u.signal,this.clientThreadId);try{for await(const m of h)m.type==="connected"?this.#t(m):BN(m)&&this.#r(m)}catch(m){S7(m)||u.signal.aborted?this.#s(m):this.#n(m)}finally{XP(this.clientThreadId,!1)}}async sendResumeRequest$({conversationId:t,resumeToken:n,profiler:r}){const i=new AbortController;Mf.addRequest(this.requestId,i,this.turnTracker),Mt(this.clientThreadId,o=>{Pr.setRequestIdOnCurrentLeaf(o,this.requestId)});const s=kIe(this.ctx,{conversationId:t,resumeToken:n,model:this.model},this.turnTracker,r,i.signal,this.clientThreadId);try{for await(const o of s)o.type==="connected"?this.#t(o):BN(o)&&this.#r(o)}catch(o){S7(o)||i.signal.aborted?this.#s(o):this.#n(o)}}#e(){if(this.model!==Ef)return;if($t(this.ctx,"790459319").get("show-juice-control",!1))return this.thinkingEffort}#t(t){const{serverRequestId:n,interruptConversationToken:r}=t;this.turnTracker.onStreamOpen(r!==null),n&&this.turnTracker.onReceivedServerRequestId(n),r&&Mt(this.clientThreadId,i=>{i.conduitToken=r}),Mwe(this.requestId,this.model,n,gs(this.preflightTime))}#r=t=>{if(this.activeBranchLastMessage&&this.completionLatencyTracker.onResponse(t,this.activeBranchLastMessage,this.responseThreadId),this.responseThreadId===void 0&&"conversationId"in t){const n=t.conversationId;if(this.responseThreadId=n,Bh(this.clientThreadId)&&Pi(this.clientThreadId)!==n&&(zde(this.ctx,this.clientThreadId,n),K.logEvent("Attribution: Client Thread to Server Thread",{client_thread_id:this.clientThreadId,server_thread_id:n})),this.isContinuingFromSharedConversation&&(Mt(this.clientThreadId,i=>{delete i.continuingFromSharedConversationId}),vt.logEvent("chatgpt_continue_conversation_first_message_sent"),K.logEvent("Continue Conversation: First Message Sent")),this.isContinuingFromBranchingConversation&&Mt(this.clientThreadId,i=>{delete i.branchingFromConversationId,delete i.branchingFromMessageId}),this.isContinuingFromSharedProjectConversation&&Mt(this.clientThreadId,i=>{delete i.continuingFromSharedProjectConversationId,delete i.sharedProjectConversationOwner}),this.isContinuableSharedPost&&Mt(this.clientThreadId,i=>{delete i.continuingFromSharedPostId,delete i.forkFromSharedPost}),this.isFirstCompletionInThread){const i=ln(this.clientThreadId);K.logEvent("Create New Thread"),!this.isHistoryAndTrainingDisabled&&p9e(i?.mode)&&_n(this.ctx)&&(F$(this.queryClient,Ee.getGizmoId(i)),i?.disableConversationNavigation||t9e(RTe,this.queryClient,n,this.isSnorlaxEnabledForGizmo))}const r={id:this.requestId,threadId:this.responseThreadId,completionType:this.completionType,eventSource:this.eventSource,model:this.model};if(this.completionType===Au.Next){const i=Ee.getConversationTurns(this.initialThread),s=i.length,o=i.filter(l=>l.role===Ve.User),a=o&&o[o.length-1]?.messages[0];if(a?.content.content_type===He.Text){const l=a.content.parts.join("").length,c=o?.length??0;r.countConversationTurns=s,r.countUserSubmittedMessages=c,r.countLastUserPromptTextMessageLength=l}}K.logEvent("Generate Completion",r)}switch(t.type){case"num_variants_in_stream":this.#h(t);break;case"moderation":this.#p(t);break;case"url_moderation":this.#m(t);break;case"message":this.#g(t);break;case"done":this.#o();break;case"gizmo_inline_review":this.#i(t);break;case"title_generation":this.#l(t);break;case"conversation_detail_metadata":this.#c(t);break;case"beacon_ui_response":this.#u(t);break;case"survey_campaign_effect":NTe(t);break;case"conversation_async_status":this.#d(t);break;case"resume_conversation_token":this.#f(t);break}};#n(t){const n=EY(t),r=n.message,i=t instanceof mt?t.code:void 0,s=t instanceof mt?t.detail?.can_retry:void 0,o=r===Kl,a=o&&!this.treatCompletionAsAsync&&_n(this.ctx)&&$t(this.ctx,"2489999880").get("is_polling_enabled",!1);a&&(this.treatCompletionAsAsync=!0),this.debouncedUpdateExistingMessages.flush(),this.treatCompletionAsAsync&&r===Kl&&!a||Mt(this.clientThreadId,c=>{Pr.updateTree(c,(u,d)=>{const f=this.variantsInStreamInfo?Ee.getParentPromptNode(c)?.id??d:d,h={err:a?wY:r,errType:a?"info":"danger",errCode:a?OD.NetworkErrorWithReconnection:i,completionSampleFinishTime:Date.now(),canRetry:a?!1:s};if(u.getNodeIfExists(f)?.message?.content?.content_type!==He.Text){const m=Ck("");return m.clientMetadata={...m.clientMetadata,...h},u.addMessageNode(f,m)}else u.updateNodeMetadata(f,h)})});try{const c=ln(this.clientThreadId);if(Ee.getLastMessageSystemHints(c)?.includes(is)){const f=t instanceof mt?t:void 0,h=f?.status,m=f?.isClientError()??!1,v=f?.isServerError()??!1,_=o?"network":v?"server":m?"client":"unknown";V.addAction("agent.conversation.start_failed",{request_id:this.requestId,model:this.model,error_code:i??"unknown",is_network_error:o,is_recoverable_error:a,error_status:h,is_client_error:m,is_server_error:v,error_type:_})}}catch{}switch(o&&K.logNetworkError({source:"request_stream",type:a?"info_polling":"error"}),i){case Zu.ContentPolicy:case Zu.ContentOrTos:case gm.ModelCapExceeded:case gm.HistoryDisabledConversationNotFound:break;default:r!==void 0&&vt.logEvent("chatgpt_conversation_error_web",r)}if(this.blurDuringCompletionTracker.onMessageError(),$P(n),this.#a(),Mu.publish({kind:"completionFinished",serverThreadId:this.responseThreadId}),t instanceof mt&&t.code===gm.ModelCapExceeded){const c=t.detail?.clears_in;c&&(G6e(new Date(Date.now()+c*1e3).toISOString()),setTimeout(()=>{MV()},c*1e3))}}#i({gizmoId:t}){Mt(this.clientThreadId,n=>{n.promptGptRating={gizmoId:t}})}#l(t){j$(this.ctx,t.conversation_id,t.title,Qw.Generated),this.isSnorlaxEnabledForGizmo||Zwe(this.ctx,t.conversation_id,t.title),this.maybeSendNotification()}#c(t){const{default_model_slug:n}=t;n&&Mt(this.clientThreadId,i=>{i.modelId=n}),Qe(this.ctx,"3315017149")&&Rne(t)&&this.queryClient.invalidateQueries({queryKey:Nh()}),QF.updateDetails(t)}#u(t){m9e.updateDetails(t)}#d(t){const{async_status:n}=t;n===Dr.REALTIME&&(this.realtimeAsyncCompletion=!0),this.responseThreadId&&Ol(this.responseThreadId,{source:Ps.SERVER,value:n}),Ol(this.clientThreadId,{source:Ps.SERVER,value:n})}#f(t){const{token:n}=t;this.resumeToken=n??void 0;const r=ln(this.clientThreadId),s=Ee.getLastMessageSystemHints(r)?.includes(is);this.realtimeAsyncCompletion&&s&&V.addAction("agent.conversation.start_succeeded",{conversation_id:t.conversation_id??this.responseThreadId??"",request_id:this.requestId,model:this.model})}#h(t){this.variantsInStreamInfo=t,Mt(this.clientThreadId,n=>{Pr.updateTree(n,(r,i)=>{const s=Ee.getParentPromptNode(n)??r.getNodeByIdOrMessageId(i);r.updateNodeMetadata(s.id,{variantsInStreamInfo:this.variantsInStreamInfo})})})}#p(t){const{isCompletion:n,flagged:r,blocked:i,disclaimers:s}=t,o=!!s?.length;(r||i||o)&&(this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged=!0,i&&n&&(this.isCompletionBlocked=!0),Lwe(t,this.clientThreadId))}#m(t){const{conversationId:n,url:r,isSafe:i}=t;i&&Mt(n,s=>{s.safeUrls.push(r)})}#g({message:t,conversationId:n}){if(this.activeBranchLastMessage=t,t?.author.role===Ve.Tool&&t?.author.name==="bio"){const r=t.metadata?.gizmo_id;setTimeout(()=>{this.queryClient.invalidateQueries({queryKey:PW(r)})},5e3)}if(t.metadata?.trigger_async_ux&&(this.treatCompletionAsAsync=!0,Ol(this.clientThreadId,{source:Ps.SERVER,value:Dr.STREAMING})),Ee.getTree(ln(n)).containsNodeOrMessageId(t.id)){this.messagesToUpdate[t.id]=t,this.debouncedUpdateExistingMessages();return}this.debouncedUpdateExistingMessages.flush(),Mt(this.clientThreadId,r=>{Pr.updateTree(r,(i,s)=>{const o={requestId:this.requestId};t.status!=="in_progress"?o.completionSampleFinishTime=Date.now():this.allIncompleteMessageIds.add(t.id);const a={...t,clientMetadata:o},l=t.metadata?.parent_id;if(l){if(this.placeholderNodeId&&i.getParent(this.placeholderNodeId).id===i.getNodeByIdOrMessageId(l).id)if(La(a)){i.prependNode(this.placeholderNodeId,a);return}else i.deleteNode(this.placeholderNodeId),this.placeholderNodeId=void 0;return i.addMessageNode(l,a)}else{const c=i.findFirst(u=>!La(u.message));if(c)i.prependNode(c.id,a);else return i.addMessageNode(s,a)}})})}debouncedUpdateExistingMessages=Vz(()=>{if(this.isCompletionBlocked)return;const t=Object.values(this.messagesToUpdate);t.length!==0&&(Mt(this.clientThreadId,n=>{Pr.updateTree(n,r=>{for(const i of t)r.updateNodeMessage(i.id,i),i.status!=="in_progress"&&(r.updateNodeMetadata(i.id,{completionSampleFinishTime:Date.now()}),this.allIncompleteMessageIds.delete(i.id))})}),this.messagesToUpdate={})},50,{leading:!0,maxWait:50});#s(t){this.debouncedUpdateExistingMessages.flush(),Mt(this.clientThreadId,n=>{Pr.updateTree(n,r=>{for(const i of this.allIncompleteMessageIds)r.updateNodeMessageMetadata(i,{finish_details:{type:"interrupted"}})})}),this.#o()}#o(){this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged||(this.isFirstCompletionInThread&&this.responseThreadId&&!this.isHistoryAndTrainingDisabled&&!vt.checkGate("2562876640")&&e9e(this.ctx,this.responseThreadId,this.model),Mu.publish({kind:"completionFinished",serverThreadId:this.responseThreadId})),Mu.publish({kind:"createConversation",clientThreadId:this.clientThreadId}),this.blurDuringCompletionTracker.onMessageDone(),$P(),this.#a()}maybeSendNotification(){if(this.sentNotification)return;const t=ln(this.clientThreadId),n=t?.title??void 0;if(!n)return;const r=Ee.getCurrentNode(t).message;if(SE(r)&&!s9e(r))return;const i=r.content,s=i?.content_type===He.Text?f9e(MTe(i.parts[0]??""),120):void 0;u9e({title:n,subtitle:s,clientThreadId:this.clientThreadId}),this.sentNotification=!0}#a(){Mt(this.clientThreadId,t=>{Pr.updateTree(t,n=>{for(const r of this.allIncompleteMessageIds)n.updateNodeMetadata(r,{completionSampleFinishTime:Date.now()})})}),this.allIncompleteMessageIds.clear(),Mt(this.clientThreadId,t=>{t.conduitToken=null}),setTimeout(()=>{if(this.treatCompletionAsAsync||this.realtimeAsyncCompletion){const t=this.treatCompletionAsAsync?Dr.STREAMING:Dr.REALTIME,n=r=>{if(!r)return;const i=_E(this.ctx,r);(i==null||i.source===Ps.CLIENT)&&Ol(r,{source:Ps.SERVER,value:t})};n(this.responseThreadId),n(this.clientThreadId)}else Ol(this.clientThreadId,{source:Ps.CLIENT,value:Dr.UNREAD});this.maybeSendNotification(),Mf.removeRequest(this.requestId),td.releaseThread(this.clientThreadId)},0)}}const RIe=10,PIe=fn(Ja(()=>({requests:{},requestIds:[]}))),fm=(e,t,n)=>{if(!mi(Lt()).checkGate("1154002920"))return null;PIe.setState(r=>{if(r.requestIds.length===RIe){const i=r.requestIds.shift();i!=null&&delete r.requests[i]}r.requests[e]??={serverRequestId:null,timeToFirstToken:null,apiStartDelay:null,serverStats:null},r.requests[e][t]=n})},hm={publishServerRequestId:(e,t)=>{fm(e,"serverRequestId",t)},publishServerStats:(e,t)=>{fm(e,"serverStats",t)},publishApiStartDelay:(e,t)=>{fm(e,"apiStartDelay",t)},publishTimeToFirstToken:(e,t)=>{fm(e,"timeToFirstToken",t)}};var R5,ZN;function NIe(){if(ZN)return R5;ZN=1;function e(t){return t===void 0}return R5=e,R5}var DIe=NIe();const LIe=mn(DIe);var P5,JN;function FIe(){if(JN)return P5;JN=1;var e="Expected a function";function t(n){if(typeof n!="function")throw new TypeError(e);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}return P5=t,P5}var N5,QN;function jIe(){if(QN)return N5;QN=1;var e=Rh(),t=FIe(),n=R$();function r(i,s){return n(i,t(e(s)))}return N5=r,N5}var BIe=jIe();const UIe=mn(BIe);function qIe(e){return typeof e=="number"?Math.trunc(e):e}const zIe=["time_since_prompt_sent_ms","time_since_last_event_ms","first_token_lat","api_start_delay","completion_request_time_to_first_visible_message"];class dK{ctx;start_time_ms;turn_id;trigger;result;time_since_prompt_sent_ms;stream_update_event_count=0;first_token_lat;first_visible_content_token_lat;first_nav_link_token_lat;last_model_message_received;api_start_time;time_since_last_event_ms;api_start_delay;completion_request_time_to_first_visible_message;model_slug;last_message_model_slug;tools_used;system_hints;gizmo_id;promptSentTimestamp;serverStats;serverSteMetadata;logger;server_request_id;client_request_id;completed=!1;num_images_attached=0;num_files_attached=0;bytes_received=0;model_message_update_count=0;stream_encoding;stream_buffering=!0;gizmo_type;isStreamOpen=!1;isTemporaryChat;messageMarkerLatencies={};constructor({ctx:t,clientRequestId:n,gizmoType:r,preflightTime:i,isTemporaryChat:s}){this.ctx=t,this.client_request_id=n,this.start_time_ms=performance.now(),this.turn_id=qr(),this.promptSentTimestamp=i??performance.now(),this.tools_used=new Set,this.system_hints=new Set,this.logger=CS.createLogger("turn-analytics","info","http"),r&&(this.gizmo_type=r),this.isTemporaryChat=s}truncateValueForKey(t){const n=qIe(this[t]);n!==void 0&&(this[t]=n)}onUserMessages(t){t.forEach(n=>{n.author.role==="user"&&(n.metadata?.attachments?.forEach(r=>{r.height&&r.width?this.num_images_attached+=1:this.num_files_attached+=1}),n.metadata?.system_hints?.forEach(r=>{this.system_hints.add(r)}))})}addServerPerfStats(t){hm.publishServerStats(this.client_request_id,t),this.serverStats=t}addServerSteMetadata(t){this.serverSteMetadata=t.metadata}onMessageMarker(t){const r=`${t.event}_received`;this.messageMarkerLatencies[t.marker]={...this.messageMarkerLatencies[t.marker],[r]:performance.now()-this.promptSentTimestamp}}onStreamOpen(t){this.isStreamOpen=!0,this.logCompletionStarted(),this.logTimeToInterruptToken(t??!1)}onStreamClose(){this.model_message_update_count>0?this.logCompletion({type:fo.Success}):this.logCompletion({type:fo.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}})}onCompletionStarted(t,n){switch(t){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onReceivedServerRequestId(t){this.server_request_id=t,hm.publishServerRequestId(this.client_request_id,this.server_request_id)}onStreamEvent(t,n){this.bytes_received+=t,n||(this.stream_update_event_count+=1)}onSentUserMessage(){this.api_start_time=performance.now(),this.api_start_delay=this.api_start_time-this.promptSentTimestamp,hm.publishApiStartDelay(this.client_request_id,this.api_start_delay)}onMessageUpdate(t){const{model_slug:n,gizmo_id:r}=t.metadata??{},{role:i,name:s}=t.author;if(this.gizmo_id=this.gizmo_id??r,i===Ve.Tool&&s&&this.tools_used.add(s),i!==Ve.User&&i!==Ve.System&&i!==Ve.Developer&&i!==Ve.Root&&(this.model_message_update_count+=1,this.last_model_message_received=performance.now(),this.last_message_model_slug=n??this.last_message_model_slug),!this.first_token_lat&&t.author.role!==Ve.User&&Vf(t)&&Ih(t).length>0){const o=performance.now();this.first_token_lat=o-this.promptSentTimestamp,this.api_start_time&&(this.completion_request_time_to_first_visible_message=o-this.api_start_time),hm.publishTimeToFirstToken(this.client_request_id,this.first_token_lat)}!this.first_visible_content_token_lat&&t.author.role===Ve.Assistant&&Vf(t)&&(this.first_visible_content_token_lat=performance.now()-this.promptSentTimestamp),!this.first_nav_link_token_lat&&cs(t)===Pe.SuperWidget&&t.content.widgets.navlinks.length>0&&(this.first_nav_link_token_lat=performance.now()-this.promptSentTimestamp)}handleAbort(t){this.logCompletion({type:fo.Canceled})}handleRawError(t){let n,r=null,i=null;t instanceof Error?(r=t.message??"Something went wrong",i=t instanceof mt?t.status:void 0):r=t,i===400||r===Kl||r==="NetworkError when attempting to fetch resource."||r==="The network connection was lost."?n="network_error":r==="Request timed out"?n="timeout":n="request_failed",this.logCompletion({type:fo.Error,error:{reason:n,message:r,...i&&{status_code:i}}})}getFeatureFlags(){const t={"resumable-streaming":$t(this.ctx,"2489999880",{disableExposureLog:!0}).get("is_resume_enabled",!1)},n=Object.entries(t),r=n.filter(([s,o])=>o).map(([s])=>s),i=n.filter(([s,o])=>!o).map(([s])=>s);return{enabled_feature_flags:r,disabled_feature_flags:i}}createLogPayload(){const{enabled_feature_flags:t,disabled_feature_flags:n}=this.getFeatureFlags(),r={turn_id:this.turn_id,trigger:this.trigger,result:gs(this.result?.type),...this.result?.type===fo.Error?{error:this.result.error}:void 0,time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,first_visible_content_token_lat:this.first_visible_content_token_lat,first_nav_link_token_lat:this.first_nav_link_token_lat,api_start_delay:this.api_start_delay,completion_request_time_to_first_visible_message:this.completion_request_time_to_first_visible_message,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used],system_hints:[...this.system_hints],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached},temporary_chat:this.isTemporaryChat,gizmo_type:this.gizmo_type,server_ste_metadata:this.serverSteMetadata,message_marker_latencies:this.messageMarkerLatencies,enabled_feature_flags:t,disabled_feature_flags:n};return{request_id:this.server_request_id,turn_analytics:r}}createStatsigPayload(){return UIe({turn_id:String(this.turn_id),trigger:this.trigger,result:this.result?.type,error:JSON.stringify(this.result?.type===fo.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),api_start_delay:String(this.api_start_delay),completion_request_time_to_first_visible_message:String(this.completion_request_time_to_first_visible_message),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used].join(", "),system_hints:[...this.system_hints].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}),temporary_chat:String(this.isTemporaryChat),gizmo_type:this.gizmo_type,server_ste_metadata:JSON.stringify(this.serverSteMetadata),message_marker_latencies:JSON.stringify(this.messageMarkerLatencies)},LIe)}logCompletionStarted(){K.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_started","chatgpt_conversation_turn_turn_exchange_started",this.createStatsigPayload())}logTimeToInterruptToken(t){t&&xn.hist(Sn.DEFAULT,"chatgpt_web_interrupt_token_latency",[],performance.now()-this.promptSentTimestamp),xn.count(Sn.DEFAULT,"chatgpt_web_interrupt_token_exists",[{key:"has_conduit_token",value:t?"true":"false"}])}logCompletion(t){if(this.completed)return;const n=performance.now();xn.count(Sn.DEFAULT,"completion_request"),xn.hist(Sn.DEFAULT,"completion_request_time",[],n-this.start_time_ms),this.completed=!0,this.result=t;for(const r of zIe)this.truncateValueForKey(r);this.time_since_prompt_sent_ms=n-this.promptSentTimestamp,this.last_model_message_received&&(this.time_since_last_event_ms=n-this.last_model_message_received),t.type===fo.Error?this.logger.error("Turn exchange complete",this.createLogPayload()):this.logger.info("Turn exchange complete",this.createLogPayload()),K.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_complete","chatgpt_conversation_turn_turn_exchange_complete",this.createStatsigPayload())}}function uze(e){return Lse(e)&&!jse(e)}const pm=50,GIe=95;function dze(e,t){if(e<=t)return e/t*pm;{const n=pm,r=GIe-pm,i=e-t,o=-(pm/t)/r;return n+r*(1-Math.exp(o*i))}}class HIe{mostRecentCompletionRequest;loggedRequests=new Set;onCompletionRequestStarted(t){this.mostRecentCompletionRequest={requestId:t,timestamp:Date.now()},this.loggedRequests.clear()}logEvent(t,n,r,i,s){const o=this.mostRecentCompletionRequest;o!=null&&!this.loggedRequests.has(t)&&Ee.getNode(ln(n),r).message.clientMetadata?.requestId===o.requestId&&(K.logEvent(t,{messageId:r,timeMs:Date.now()-o.timestamp,...i}),s?.(),this.loggedRequests.add(t))}}const VIe=new HIe;function fze(e){return(e.find(i=>i.metadata?.image_search_results!==void 0)?.metadata?.image_search_results??[]).slice(0,5)}function fK(e,t){if(Qe(e,"1627380539"))return"gpt-5";switch(pn(e)?.planType){case Ke.FREE:return t?"gpt-4o":"auto";case void 0:return"auto";default:return"gpt-4o"}}function $Ie(e){return e instanceof KeyboardEvent||"key"in e||"detail"in e&&e.detail===0?"keyboard":"mouse"}function hK(e){return e!=null&&typeof e=="object"&&"then"in e&&typeof e.then=="function"}const pK=u0(()=>kt(!1));function WIe(e){return pK(e)()}function mK(e,t){pK(e).set(t)}function gK(e,t){const n=ln(t)?.mode,r=n&&"gizmo_id"in n?n.gizmo_id:null;if(r!=null)return L6e(e,r)?Ha.PROJECT:Ha.GPT}const KIe="https://challenges.cloudflare.com/turnstile/v0/api.js",YIe={[Nf.PAID]:"0x4AAAAAAASbFNinhLLnW5f1",[Nf.FREEACCOUNT]:"0x4AAAAAAACPe2BTwOIpYk6H",[Nf.NOAUTH]:"0x4AAAAAAASbHVR44GU82lOI"};class X1{toString(){return JSON.stringify(this.toJSON())}}class D5 extends X1{constructor(t){super(),this.message=t,this.message=t}toJSON(){return{"Turnstile-Internal-Error":this.message}}}class ZIe extends X1{constructor(t){super(),this.errorCode=t,this.errorCode=t}toJSON(){return{"Turnstile-Client-Error":this.errorCode}}}class JIe{app=Nf.NOAUTH;status="idle";turnstileInstancePromise=null;enforcementTokenPromise=null;enforcementTokenCache=new WeakMap;requestStartTimeMs=0;_onCompleted;_onError;async initializeAndGatherData(t){this._getOrCreateInstance(t)}async _getOrCreateInstance(t){return!t.turnstile?.required||t.turnstile?.dx?null:(this.app!==t.persona&&(this.app=t.persona,this.turnstileInstancePromise=this._getTurnstileInstancePromise()),this.turnstileInstancePromise??new D5("Turnstile instance not initialized."))}getEnforcementTokenSync(t){return this.enforcementTokenCache.get(t)??null}async getEnforcementToken(t){return t.turnstile?.dx?LS(t.turnstile.dx):this.startEnforcement(t).then(n=>(this.enforcementTokenPromise=null,n?n.toString():null))}async startEnforcement(t){return t.turnstile?.required?t.turnstile?.dx?LS(t.turnstile.dx).then(n=>(n&&this.enforcementTokenCache.set(t,n),n)):this.enforcementTokenPromise!==null?this.enforcementTokenPromise:this.enforcementTokenPromise=this._getEnforcementToken(t):null}async _getEnforcementToken(t,n){const r=await this._getOrCreateInstance(t);return r instanceof X1||r===null?r:new Promise((i,s)=>{this.setOnCompleted(o=>{const a=performance.now()-this.requestStartTimeMs;V.addAction("turnstile_get_token_success",{app:this.app.toString(),durationMs:a}),i(o)}),this.setOnError(o=>{if(!n)this._getEnforcementToken(t,!0).then(i,s);else{const a=performance.now()-this.requestStartTimeMs;V.addAction("turnstile_get_token_error",{app_release:"bdc5cffb95039aff27cce085cc9faed14bfcfc29",error:o,app:this.app.toString(),durationMs:a}),i(new ZIe(o))}}),this.setStatus("ready"),this.requestStartTimeMs=performance.now(),r.reset(),r.execute()})}setStatus(t){this.status=t}onCompleted(t){this._onCompleted?.(t)}setOnCompleted(t){this._onCompleted=t}onError(t){this._onError?.(t)}setOnError(t){this._onError=t}onExpired(){this.enforcementTokenPromise=null}_getTurnstileInstancePromise(t){if(this.turnstileInstancePromise!==null)if(t)this.turnstileInstancePromise.then(n=>{n instanceof X1||n.remove()}),this.turnstileInstancePromise=null;else return this.turnstileInstancePromise;return this.turnstileInstancePromise=new Promise((n,r)=>{const i="onloadTurnstileCallback";Object.defineProperty(window,i,{value:()=>{if(this.status==="ready")return;this.setStatus("script_loaded");const{turnstile:c}=window;if(c===null){this.setStatus("error"),t?(V.addAction("turnstile_instance_missing",{app_release:"bdc5cffb95039aff27cce085cc9faed14bfcfc29",app:this.app.toString()}),n(new D5("Turnstile instance missing"))):this._getTurnstileInstancePromise(!0).then(n,r);return}c.render("#"+s,{sitekey:YIe[this.app],execution:"execute",callback:this.onCompleted.bind(this),"error-callback":this.onError.bind(this),"expired-callback":this.onExpired.bind(this)}),n(c)}});const s="cf-turnstile",o="cf-turnstile-script";document.getElementById(s)?.remove(),document.getElementById(o)?.remove();const a=document.createElement("div");a.id=s,a.hidden=!0,document.body.appendChild(a),this.setStatus("loading");const l=document.createElement("script");l.id=o,l.src=KIe+`?onload=${i}`,l.async=!0,l.defer=!0,l.onerror=()=>{this.setStatus("error"),t?(V.addAction("turnstile_script_load_error",{app_release:"bdc5cffb95039aff27cce085cc9faed14bfcfc29",app:this.app.toString()}),n(new D5("Turnstile script failed to load"))):this._getTurnstileInstancePromise(!0).then(n,r)},document.body.appendChild(l)}),this.turnstileInstancePromise}}const XN=new JIe;function QIe(e,t){const n=Qe(e,"3530414009"),r=!!t?.prefetchIds?.length,i=performance.now(),s=[],o=KOe();if(o==null)return s.push("chatReq"),YOe().then(a);return a(o);function a(l){l.force_login&&Yu(e,{fallbackScreenHint:"login"});const c=XN.getEnforcementTokenSync(l);if(c==null)return s.push("turnstile"),XN.getEnforcementToken(l).then(u);return u(c);function u(d){const f=performance.now(),h=DS.getEnforcementTokenSync(l);if(h==null)return s.push("proofofwork"),DS.getEnforcementToken(l,{forceSync:r&&n}).then(m);return m(h);function m(v){const _=String(performance.now()-f),y=s.includes("chatReq")?"false":"true",b=s.includes("turnstile")?"false":"true",C=s.includes("proofofwork")?"false":"true";return xn.hist(Sn.DEFAULT,"chat_req_time",[{key:"wasChatReqSync",value:y},{key:"wasTurnstileSync",value:b},{key:"wasProofofworkSync",value:C}],performance.now()-i),Ym(Lt(),{eventName:"chatgpt_web_completion_integrity_checks",value:s.length===0?"true":"false",metadata:{wasChatReqSync:y,wasTurnstileSync:b,wasProofofworkSync:C,isPrefetchInitialLoad:r?"true":"false",powTime:_}}),{chatReq:l,turnstileToken:d,proofToken:v}}}}}async function XIe({ctx:e,clientThreadId:t,requestedModelId:n,completionType:r=Au.Next,sourceEvent:i,eventSource:s,completionMetadata:o,extraStreamParams:a,parentMessageId:l,promptMessage:c,existingMessages:u,prependMessages:d,appendMessages:f,profiler:h,skipNotification:m,isReasoningSkipped:v,parentMessageIdPromise:_,thinkingEffort:y,isAgentTurn:b}){mK(tl(e,t),!0);const C=Wa(e),S=i?.timeStamp??performance.now(),x=s??(i?$Ie(i):"mouse"),w=YU(),E=`request-${t}-${w}`,T=ln(t),{conduitToken:O=null,prepareState:k="none",lastPrepareTimestamp:A=null}=T??{},I=n??T?.modelId??bV(mB(C))?.id??fK(Lt(),!1),D=Ee.findNode(T,Y=>Y.message.author.role===Ve.Assistant||Y.message.author.role===Ve.Tool)==null,N=T?.continuingFromSharedConversationId!=null,R=T?.continuingFromSharedProjectConversationId!=null,F=!!T?.continuingFromSharedPostId,j=T?.branchingFromConversationId!=null,H=l?Ee.getNode(T,l):u?.[0]?Ee.getParentNode(T,u[0].id):Ee.getCurrentNode(T);let U=H.message.id??H.id;const M=[...u??[],...d??[],...c?[c]:[],...f??[]],me=gK(e,t),de=new dK({ctx:e,clientRequestId:E,gizmoType:me,preflightTime:S,isTemporaryChat:Tw()});if(de.onUserMessages(M),me===Ha.PROJECT&&D&&!dh(e,"269676899",{disableExposureLog:!0}).get("clear_all",!1)){const Y=o?.systemHints;iG(e).set(re=>({...re,[t]:Y??[]}))}const P=kw(e),Ce=Hoe(),Se=Wt.getItem(qt.ModelSlugStatsOverride),ne=new uK(e,E,C,T,t,l,d,c,f,r,I,x,P,S,me===Ha.PROJECT,D,N,j,R,de,m??!1,Ce,F,v,y,Se),ue=o?.systemHints?.includes(is),te=vs();if(te&&c){if(ue)nr.signalAgentConversationSentMessage(t);else if(D&&(c?.metadata?.attachments?.length??0)===0&&c?.metadata?.kaur1br5?.origin!==void 0){const Y=On(e,"3205212221").get("numWords",-1),_e=[vwe,_we];if(Y>=1&&_e.includes(c?.metadata?.kaur1br5?.origin)){const re=Ih(c);Qj(re)<=Y&&(o===void 0&&(o={conversationMode:{kind:an.PrimaryAssistant}}),Fwe(o),V.addAction("kaur1br5.search.force"))}}}ue&&V.addAction("agent.conversation.start_attempted",{client_thread_id:String(t),model:I});const xe=I$(t,void 0,{clientInitiated:!0,reason:"new_completion",hasAgentSystemHint:ue});if(Mu.publish({kind:"requestCompletion"}),Ol(t,{source:Ps.CLIENT,value:ue?Dr.REALTIME:Dr.STREAMING}),VIe.onCompletionRequestStarted(E),ne.updateBeforeRequest(),_E(e,t)?.value===Dr.REALTIME&&!(b&&v)){const Y=await xe;Y?.last_message_id&&(U=Y.last_message_id)}if(_){const Y=await _;Y&&(U=Y)}const le=QIe(e,o),{chatReq:we,turnstileToken:Xe,proofToken:ce}=hK(le)?await le:le;if(we.force_login)return;C.getQueriesData(p1())==null&&await C.ensureQueryData(p1()),ywe()&&(await bwe()).forEach(_e=>{_e.status!=="fulfilled"||!_e.value||(Array.isArray(_e.value)?M.unshift(..._e.value):M.unshift(_e.value))}),de.onCompletionStarted(r,I),ne.preflightTime=performance.now()-S;const J=yE(e);if(V.addFeatureFlagEvaluation("fast_convo",J),J&&A!=null){const Y=performance.now()-A;Y<=6e4&&xn.hist(Sn.DEFAULT,"fast_conversation_last_prepare_to_convo_client",[{key:"model_id",value:I},{key:"prepare_state",value:String(k)},{key:"has_conduit_token",value:O!=null?"true":"false"}],Y)}J&&te&&xn.count(Sn.DEFAULT,"client_request_conduit_token",[{key:"has_conduit_token",value:O!=null?"true":"false"}]),te&&h?.logTimingOnce("prompt_request_started"),await ne.sendRequest$({conduitToken:O,turnstileToken:Xe,proofToken:ce,completionMetadata:o,resolvedParentMessageId:U,messages:M,extraStreamParams:a,chatReq:we,profiler:h})}async function hze({ctx:e,clientThreadId:t,completionType:n,token:r,conversationId:i,preflightTime:s}){const o=tl(e,t);if(jl(()=>WIe(o)))return;mK(o,!0);const a=s??performance.now(),l=Wa(e),c=gK(e,t),d=ln(t)?.modelId??bV(mB(l))?.id??fK(Lt(),!1);Ol(t,{source:Ps.CLIENT,value:Dr.STREAMING});const f=YU(),h=`request-${t}-${f}`,m=new dK({ctx:e,clientRequestId:h,gizmoType:c,preflightTime:a,isTemporaryChat:Tw()});ln(t)||td.initThread({clientThreadId:t,conversationMode:{kind:an.PrimaryAssistant},modelId:d,userId:void 0,accountId:void 0}),td.retainThread(t);const v=new uK(e,h,l,void 0,t,void 0,void 0,void 0,void 0,n,d,"url",kw(e),a,c===Ha.PROJECT,!1,!1,!1,!1,m,void 0,!1,void 0,void 0,void 0,void 0,{disablePlaceholder:!0});v.preflightTime=0,await v.sendResumeRequest$({conversationId:i,resumeToken:r,profiler:void 0})}const eMe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4.12916 6.71647C3.30231 7.66684 2.69669 8.64386 2.31959 9.33561L2.1399 9.67643C2.03481 9.88215 2.03489 10.1172 2.1399 10.3229L2.31959 10.6637C2.79011 11.5269 3.61393 12.8363 4.78346 13.9811C6.11816 15.2875 7.85464 16.3346 10.0003 16.3346C11.1135 16.3346 12.116 16.0511 13.01 15.5973L13.9905 16.5778C12.8512 17.2276 11.5215 17.6646 10.0003 17.6647C7.38789 17.6647 5.33564 16.3827 3.8528 14.9313C2.55744 13.6633 1.65876 12.2312 1.14967 11.2965L0.955334 10.9284C0.6562 10.3426 0.656129 9.65668 0.955334 9.07096L1.14967 8.7028C1.56617 7.93819 2.24311 6.84027 3.18483 5.77213L4.12916 6.71647Z"}),p.createElement("path",{d:"M2.52955 2.52897C2.75682 2.30194 3.10844 2.27358 3.36647 2.44401L3.47096 2.52897L17.471 16.529L17.5559 16.6335C17.7264 16.8915 17.698 17.2431 17.471 17.4704C17.2437 17.6976 16.8922 17.7258 16.634 17.5553L16.5296 17.4704L2.52955 3.47037L2.44459 3.36588C2.27419 3.10776 2.30233 2.75619 2.52955 2.52897Z"}),p.createElement("path",{d:"M10.0003 2.33463C12.6124 2.33477 14.664 3.61673 16.1467 5.06803C17.6273 6.51728 18.5903 8.18058 19.0452 9.07096L19.1428 9.29557C19.311 9.75097 19.3109 10.2483 19.1428 10.7038L19.0452 10.9284C18.6628 11.6768 17.9199 12.9706 16.8137 14.2253L15.8714 13.2829C16.8454 12.1631 17.5118 11.0058 17.8606 10.3229L17.8948 10.2448C17.9539 10.0856 17.954 9.91374 17.8948 9.75455L17.8606 9.67643C17.4383 8.84982 16.5534 7.32638 15.2171 6.01822C13.8824 4.71194 12.1457 3.66485 10.0003 3.66471C8.88688 3.66471 7.88357 3.94723 6.98951 4.40104L6.00905 3.42057C7.14849 2.77093 8.47916 2.33463 10.0003 2.33463Z"}),p.createElement("path",{d:"M7.78053 10.3678C7.93665 11.3159 8.68321 12.0619 9.63112 12.2184L10.8831 13.4704C10.6006 13.5421 10.305 13.5817 10.0003 13.5817C8.02216 13.5817 6.41822 11.9778 6.41822 9.99967C6.41825 9.69449 6.45574 9.39775 6.5276 9.1149L7.78053 10.3678Z"}),p.createElement("path",{d:"M10.0003 6.41764C11.9781 6.41787 13.5811 8.02186 13.5813 9.99967C13.5813 10.304 13.5414 10.5994 13.47 10.8815L12.219 9.63053C12.0623 8.68292 11.3162 7.93616 10.3684 7.77994L9.11549 6.52701C9.39833 6.45518 9.69509 6.41764 10.0003 6.41764Z"})),tMe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.0012 6.09038C16.0012 5.74214 15.8209 5.42299 15.5315 5.24175L15.4016 5.17241L10.4016 2.98491C10.1776 2.8869 9.9263 2.87423 9.69556 2.9478L9.59888 2.98491L4.59888 5.17241C4.23428 5.33192 3.99829 5.69242 3.99829 6.09038V10.8335C3.99834 12.3761 4.58097 13.7821 5.53735 14.8453C6.5736 13.5214 8.18682 12.6685 10.0002 12.6685C11.8135 12.6686 13.426 13.5216 14.4622 14.8453C15.4186 13.7821 16.0012 12.3762 16.0012 10.8335V6.09038ZM10.0002 13.9986C8.58354 13.9986 7.32514 14.6781 6.53345 15.731C7.5127 16.4254 8.70843 16.8355 10.0002 16.8355C11.2918 16.8354 12.4869 16.4252 13.4661 15.731C12.6744 14.6783 11.4167 13.9987 10.0002 13.9986ZM11.6262 8.54155C11.6261 7.64334 10.8984 6.91477 10.0002 6.9146C9.1019 6.9146 8.37336 7.64323 8.37329 8.54155C8.37329 9.43993 9.10186 10.1685 10.0002 10.1685C10.8985 10.1683 11.6262 9.43983 11.6262 8.54155ZM12.9563 8.54155C12.9563 10.1744 11.633 11.4984 10.0002 11.4986C8.36732 11.4986 7.04321 10.1745 7.04321 8.54155C7.04328 6.90869 8.36737 5.5855 10.0002 5.5855C11.633 5.58567 12.9562 6.9088 12.9563 8.54155ZM17.3313 10.8335C17.3312 14.8825 14.0492 18.1644 10.0002 18.1646C5.95114 18.1646 2.66831 14.8826 2.66821 10.8335V6.09038C2.66821 5.16401 3.21698 4.32497 4.06567 3.95366L9.06567 1.76616L9.29224 1.6812C9.82924 1.51009 10.4135 1.53807 10.9348 1.76616L15.9348 3.95366L16.0901 4.02886C16.8496 4.43032 17.3313 5.22192 17.3313 6.09038V10.8335Z"})),nMe="https://help.openai.com/en/articles/11752874-chatgpt-agent#h_beedf96566";function rMe({onClose:e,onConfirm:t}){return g.jsxs(Bo,{testId:"modal-odyssey-takeover-nux",isOpen:!0,onClose:e,shouldIgnoreClickOutside:!0,onEscapeKeyDown:()=>{},className:"w-[420px]! p-2",children:[g.jsx("div",{className:"flex w-full flex-col items-center pt-2 text-center",children:g.jsx("div",{className:"text-xl font-semibold text-balance",children:g.jsx(ve,{id:"0hMe9z",defaultMessage:"You’re about to control ChatGPT’s browser"})})}),g.jsx("div",{className:"border-token-border-default mt-6 mb-8 rounded-2xl border",children:g.jsxs("div",{className:"divide-token-border-default flex flex-col divide-y px-4",children:[g.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[g.jsx(eMe,{className:"h-6 w-6 shrink-0"}),g.jsxs("div",{children:[g.jsx("div",{className:"pb-0.5 font-medium",children:g.jsx(ve,{id:"+htsoa",defaultMessage:"ChatGPT won’t take screenshots"})}),g.jsx("div",{className:"text-token-text-secondary",children:g.jsx(ve,{id:"jNhK03",defaultMessage:"Only you can see info you enter (like passwords) while you’re in control."})})]})]}),g.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[g.jsx(tMe,{className:"h-6 w-6 shrink-0"}),g.jsxs("div",{children:[g.jsx("div",{className:"pb-0.5 font-medium",children:g.jsx(ve,{id:"Ip50c4",defaultMessage:"Your browser session will be saved"})}),g.jsx("div",{className:"text-token-text-secondary",children:g.jsx(ve,{id:"qE+5u7",defaultMessage:"This will keep you signed into sites after you finish. You can manage this in Settings."})})]})]}),g.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[g.jsx(ed,{className:"h-6 w-6 shrink-0 text-[#E25507] dark:text-[#FF9E6C]"}),g.jsxs("div",{children:[g.jsx("div",{className:"pb-0.5 font-medium text-[#E25507] dark:text-[#FF9E6C]",children:g.jsx(ve,{id:"2OxBmy",defaultMessage:"This may put your data at risk"})}),g.jsx("div",{className:"text-[#E25507] opacity-80 dark:text-[#FF9E6C]",children:g.jsx(ve,{id:"JGhrvI",defaultMessage:"Signing ChatGPT into websites can expose your data to malicious sites. {learnMoreLink}",values:{learnMoreLink:g.jsx("a",{href:nMe,target:"_blank",rel:"noopener noreferrer",className:"underline",children:g.jsx(ve,{id:"L9XdfE",defaultMessage:"Learn more"})})}})})]})]})]})}),g.jsxs("div",{className:"flex w-full flex-row gap-3",children:[g.jsx(un,{size:"large",color:"secondary",className:"flex flex-1",onClick:e,children:g.jsx(ve,{id:"qz9XeG",defaultMessage:"Cancel"})}),g.jsx(un,{size:"large",color:"primary",className:"flex flex-1",onClick:()=>{t(),e()},children:g.jsx(ve,{id:"h00sr3",defaultMessage:"I understand"})})]})]})}const iMe=(e,t=!1)=>e==="web"?Dn.Web:e==="cloud"?Dn.Cloud:Yue[e]??(t?e:void 0),sMe=(e,t=!1)=>Array.from(e.values()).map(n=>iMe(n,t)).filter(Boolean);var vK=(e=>(e.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",e.Onboarding="oai/apps/hasSeenOnboarding",e.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",e.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",e.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",e.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",e.NewOnboardingConvo="oai/apps/hasSeenNewUserOnboardingConvo",e.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",e.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",e.hasDismissedCanvasOnboarding="oai/apps/hasDismissedCanvasOnboarding",e.HasSeenAdvancedVoiceOnMobile="oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",e.UseSidekick="oai/apps/hasDismissedUseSidekick",e.UseSidetron="oai/apps/hasDismissedUseSidetron",e.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",e.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",e.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",e.hasSeenComposerSearchButtonTooltip="oai/apps/hasSeenComposerSearchButtonTooltip",e.hasSeenComposerContextualAnswerTooltip="oai/apps/hasSeenComposerContextualAnswerTooltip",e.hasSeenContextualAnswerAdminNuxModal="oai/apps/hasSeenContextualAnswerAdminNuxModal",e.hasSeenContextualAnswerUserNuxModal="oai/apps/hasSeenContextualAnswerUserNuxModal",e.hasSeenConnectorsNuxModal="oai/apps/hasSeenConnectorsNuxModal",e.hasSeenGoogleConnectorsNuxModal="oai/apps/hasSeenGoogleConnectorsNuxModal",e.hasSeenContextualAnswerGoogleSyncFinished="oai/apps/hasSeenContextualAnswerGoogleSyncFinished",e.hasSeenConnectorsSourcesPillTooltip="oai/apps/hasSeenConnectorsSourcesPillTooltip",e.hasSeenConnectorsUpgradeFileAccessModal="oai/apps/hasSeenConnectorsUpgradeFileAccessModal",e.hasSeenComposerSystemHintButtonTooltip="oai/apps/hasSeenComposerSystemHintButtonTooltip",e.hasSeenPioneer="oai/apps/hasSeenPioneer",e.hasSeenMaverick="oai/apps/hasSeenMaverick",e.hasSeenMaverickCapi="oai/apps/hasSeenMaverickCapi",e.hasSeenTrailBlazer="oai/apps/hasSeenTrailBlazer",e.hasSeenStratos="oai/apps/hasSeenStratos",e.hasSeenStarpath01="oai/apps/hasSeenStarpath01",e.hasSeenStarpath02="oai/apps/hasSeenStarpath02",e.hasSeenStarpath03="oai/apps/hasSeenStarpath03",e.hasSeenStarpath04="oai/apps/hasSeenStarpath04",e.hasSeenAdvancedVoiceNuxFullPage="oai/apps/hasSeenAdvancedVoice/2024-09-24",e.hasSeenWindowsAppOnboarding="oai/apps/hasSeenWindowsAppOnboarding",e.DesktopBrowserExtensionAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionAnnouncement",e.DesktopBrowserExtensionReactiveAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionReactiveAnnouncement",e.DesktopOperatorAnnouncement="oai/apps/hasSeenDesktopOperatorAnnouncement",e.DesktopClassmatesPromotionAnnouncement="oai/apps/hasSeenDesktopClassmatesPromotionAnnouncement",e.NewOnboardingFlow="oai/apps/hasSeenOnboardingFlow",e.NewStaticOnboardingFlow="oai/apps/hasSeenStaticOnboarding",e.NewPromptOnboardingFlow="oai/apps/hasSeenPromptOnboarding",e.hasUsedConversationalOnboardingStarterPrompt="oai/apps/hasUsedNewUserStarterPrompt",e.hasSeenProjectsWebNuxTooltip="oai/apps/hasSeenProjectsWebNuxTooltip",e.hasSeenProjectsUpdateNuxTooltip="oai/apps/hasSeenProjectsUpdateNuxTooltip",e.hasSeenProjectsToFree="oai/apps/hasSeenProjectsToFree",e.hasSeenMemoryInSearch="oai/apps/hasSeenMemoryInSearch",e.hasSeenMoonshineNux="oai/apps/hasSeenMoonshineNux",e.hasSeenMoonshineNuxV2="oai/apps/hasSeenMoonshineNuxV2",e.hasSeenGoldenHourNux="oai/apps/hasSeenGoldenHourNux",e.hasSeenInlineFeedbackCustomInstrMessage="oai/apps/hasSeenInlineFeedbackCustomInstrMessage",e.hasSeenCaSystemHint="oai/apps/hasSeenCaSystemHint",e.hasDismissedPromoRedemption="oai/apps/hasDismissedPromoRedemption",e.hasSeenFilePickerNuxTooltip="oai/apps/hasSeenFilePicker",e.hasSeenMultipleGPTEditorsTooltip="oai/apps/hasSeenMultipleGPTEditorsTooltip",e.hasSeenSharedProjectsTooltip="oai/apps/hasSeenSharedProjectsTooltip",e.hasSeenPhoenixNux="oai/apps/hasSeenPhoenixNux",e.hasSeenPhoenixFreeNux="oai/apps/hasSeenPhoenixFreeNux",e.hasSeenAshwingNux="oai/apps/hasSeenAshwingNux",e.hasDismissedReferrerRedemption="oai/apps/hasDismissedReferrerRedemption",e.hasDismissedRefereeRedemption="oai/apps/hasDismissedRefereeRedemption",e.hasSeenReferralUpsellAnnouncement="oai/apps/hasSeenReferralProgramUpsell",e.hasSeenTatertotIntakeForm="oai/apps/hasSeenTatertotIntakeForm",e.hasSeenComposerBigBoxEnterHint="oai/apps/hasSeenComposerBigBoxEnterHint",e.d2dee219="oai/apps/d2dee219",e.hasSeenStudentsUpsellAnnouncement="oai/apps/hasSeenStudentsUpsellAnnouncement",e.hasSeenMemoryUpdatedTooltip="oai/apps/hasSeenMemoryUpdatedTooltip",e.hasSeenTeamsContextualAnswersUpsell="oai/apps/hasSeenTeamsContextualAnswersUpsell",e.hasSeenO3O4MiniAutomations="oai/apps/hasSeenO3O4MiniAutomations",e.hasSeenn7jupdNux="oai/apps/hasSeenn7jupdNux",e.hasSeenTatertotNux="oai/apps/hasSeenTatertotNux",e.hasSeenTatertotQuizNux="oai/apps/hasSeenTatertotQuizNux",e.hasSeenAudioParagenPrompt="oai/apps/hasSeenAudioParagenPrompt",e.hasSeenOdysseyConnectorsModal="oai/apps/hasSeenOdysseyConnectorsModal",e.hasSeenOdysseyTakeoverModal="oai/apps/hasSeenOdysseyTakeoverModal",e.hasSeenAgentModeAnnouncementBanner="oai/apps/hasSeenAgentModeAnnouncementBanner",e.hasSeenWorkspaceDiscoveryFirstLogin="oai/apps/hasSeenWorkspaceDiscoveryFirstLogin",e.hasSeenFreeTrialUpsellModal="oai/apps/hasSeenPlusOrBusinessFreeTrial",e.hasSeenWorkSpacePolicy="oai/apps/hasSeenWorkSpacePolicy",e))(vK||{});function oMe(){"use forget";return mj(aMe)}function aMe(e){return e.eligible_announcements}function lMe(e){"use forget";const t=Re.c(16),{data:n,isLoading:r}=oMe();let i;t[0]!==n?(i=n===void 0?[]:n,t[0]=n,t[1]=i):i=t[1];const s=i,{mutate:o}=cMe(),{mutate:a}=dMe();let l;t[2]!==e||t[3]!==o?(l=()=>o({key:e}),t[2]=e,t[3]=o,t[4]=l):l=t[4];const c=l;let u;t[5]!==e||t[6]!==a?(u=()=>a({key:e}),t[5]=e,t[6]=a,t[7]=u):u=t[7];const d=u;let f;t[8]!==s||t[9]!==e?(f=s.includes(e),t[8]=s,t[9]=e,t[10]=f):f=t[10];let h;return t[11]!==r||t[12]!==c||t[13]!==d||t[14]!==f?(h={eligible:f,markAsViewed:c,markAsViewedDontInvalidateCache:d,isLoading:r},t[11]=r,t[12]=c,t[13]=d,t[14]=f,t[15]=h):h=t[15],h}function cMe(){"use forget";const e=Re.c(2),t=yr();let n;return e[0]!==t?(n={mutationFn:uMe,onMutate:r=>{const{key:i}=r;t.getQueryData(Zi().queryKey)?.persistent_announcements?.includes(i)||t.setQueryData(Zi().queryKey,o=>o&&{...o,eligible_announcements:o.eligible_announcements.filter(a=>a!==i)})},onSuccess:()=>{t.invalidateQueries(Zi())}},e[0]=t,e[1]=n):n=e[1],Kn(n)}function uMe(e){const{key:t}=e;return he.safePost("/settings/announcement_viewed",{parameters:{query:{announcement_id:t}}})}function dMe(){"use forget";const e=Re.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:fMe},e[0]=t):t=e[0],Kn(t)}function fMe(e){const{key:t}=e;return he.safePost("/settings/announcement_viewed",{parameters:{query:{announcement_id:t}}})}const pze=p.createContext(()=>Promise.resolve()),hMe=p.createContext(null),pMe=()=>p.useContext(hMe)!=null;p.createContext({onDismount:()=>{}});const mMe="I took control of the virtual browser. If you're unsure what changed, ask for more context. If the task is complete, just acknowledge and wrap it up. Otherwise, please proceed.",or=fn(()=>({token:null,clientThreadId:null,isOpen:!1,isResuming:!1,parentMessageId:null,vmId:null,abortPromise:null})),mze=(e,t)=>{or.setState(n=>({...n,clientThreadId:e,token:t}))},gMe=()=>{const e=pe(),t=lMe(vK.hasSeenOdysseyTakeoverModal),{clientThreadId:n}=or(),r=zo(n??void 0,a=>Ee.findNode(a,l=>l.message.author.name==="n7jupd.metadata"));if(!n)return()=>{es.info("VNC modal opened without a client thread id")};const i=async a=>{const l=Pi(a);if(l)return await he.safePost("/conversation/{conversation_id}/agent/resume",{parameters:{path:{conversation_id:l}}})},s=()=>{if(!vs()||!r?.message.metadata?.kaur1br5_mode)return Promise.resolve(!1);const a=Pi(n);if(!a)return es.info("Agent viewer opened without a server thread id"),Promise.resolve(!1);try{const c=ip()?.tryOpenAgentViewer(a)??!1;return Promise.resolve(c)}catch{return es.error("Failed to open local agent viewer - error thrown"),Promise.resolve(!1)}},o=async()=>{if(await s()){es.info("Opened VNC modal with local agent viewer");return}or.setState({isResuming:!0}),or.setState({isOpen:!0}),Of.setSidebarOpen(!1);let a;V.addAction("agent.conversation.resume_rpc_attempted",{client_thread_id:n});try{a=await i(n),a?V.addAction("agent.conversation.resume_rpc_succeeded",{client_thread_id:n,vm_id:a.vm_id??""}):V.addAction("agent.conversation.resume_rpc_failed",{client_thread_id:n,reason:"no_response"})}catch(l){V.addAction("agent.conversation.resume_rpc_failed",{client_thread_id:n,reason:"exception",error:l})}or.setState({isResuming:!1,vmId:a?.vm_id}),yK({})};return async()=>{if(t.eligible){bg(e,rMe,{onConfirm:async()=>{t.markAsViewed(),await o()}});return}await o()}},vMe=async(e,{startNewTurn:t})=>{or.setState({isOpen:!1}),await bK(e,{startNewTurn:t})},_Me=e=>{const t=vw("",{is_takeover_ended_message:!0,system_hints:[is]});(t.clientMetadata||={}).isPlaceholder=!0,Mt(e,n=>{Pr.appendMessage(n,t)})},_K=e=>{Mt(e,t=>{Pr.updateTree(t,n=>{const r=n.nodes.filter(i=>{const s=i.message?.metadata;return i.message?.clientMetadata?.isPlaceholder&&s?.is_takeover_ended_message&&s?.system_hints?.includes(is)});for(const i of r)n.updateNodeMetadata(i.id,{isPlaceholder:!1})})})},yMe=e=>{_K(e)},yK=async({showPlaceholderMessage:e=!1})=>{const{clientThreadId:t}=or.getState();if(!t){es.info("VNC takeover started without a client thread id");return}const n=await CK();e&&_Me(t),or.setState({parentMessageId:n?.last_message_id??null})},bK=async(e,{startNewTurn:t,waitForAbortCompletion:n=!1})=>{const{clientThreadId:r}=or.getState();if(!r){es.info("VNC modal closed without a client thread id");return}if(!t)return;const i=bMe(),{abortPromise:s}=or.getState();s&&n&&await s,_K(r);const a=ln(r)?.selectedSources?.get(is);await XIe({ctx:e,clientThreadId:r,eventSource:"mouse",promptMessage:vw(mMe,{is_takeover_ended_message:!0,system_hints:[is],...a&&{selected_sources:sMe(a)}}),parentMessageIdPromise:i,completionMetadata:{systemHints:[is],conversationMode:{kind:an.PrimaryAssistant}}})},CK=()=>{const{clientThreadId:e}=or.getState();if(!e)return es.info("stopAgent called without a client thread id"),Promise.resolve(void 0);const t=I$(e,void 0,{clientInitiated:!0,reason:"takeover",isLastTurnAgent:!0}).then(n=>n).finally(()=>{or.setState({abortPromise:null})});return or.setState({abortPromise:t}),t},bMe=(e=5e3)=>new Promise(t=>{const{parentMessageId:n}=or.getState();if(n)return t(n);const r=setTimeout(()=>{i(),t(void 0)},e),i=or.subscribe(s=>{s.parentMessageId&&(t(s.parentMessageId),clearTimeout(r),i())})}),gze=()=>{or.setState({token:null,clientThreadId:null,isOpen:!1})},vze=()=>{const e=gMe(),t=or(i=>({token:i.token,clientThreadId:i.clientThreadId,isOpen:i.isOpen,isResuming:i.isResuming,vmId:i.vmId,open:e,close:vMe})),r=!pMe();return p.useMemo(()=>({...t,isVNCEnabled:r}),[t,r])};function CMe(){const e=zr(nr.wantsHandleAgentRequest$),t=zr(nr.wantsAgentConversationSentMessage$),n=pe(),r=p.useRef(new Set);p.useEffect(()=>{if(!e)return;nr.wantsHandleAgentRequest$.set(!1);const i=nr.agentRequest;if(i)switch(i){case"startTakeoverFromAgent":{yK({showPlaceholderMessage:!0});break}case"endTakeoverFromAgent":{bK(n,{startNewTurn:!0,waitForAbortCompletion:!0});break}case"stopAgent":{CK();break}}},[e,n]),p.useEffect(()=>{if(!t)return;nr.wantsAgentConversationSentMessage$.set(!1);const i=nr.agentConversationSentMessage;if(!i)return;const{clientThreadId:s}=i;s&&(yMe(s),r.current.add(s))},[t,n]),p.useEffect(()=>{const i=new Set;return yc.subscribe(s=>{for(const o of r.current){const a=Pi(o,s);if(!a)continue;const l=s.threads[a]?.tree?.nodes??[];for(const c of l)i.has(c.id)||cs(c.message)===Pe.n7jupd_m&&(r.current.delete(o),i.add(c.id),c.message.metadata?.kaur1br5_mode&&ip()?.userSentMessageInAgentConversation(a))}})},[])}function SMe(e){const t=zr(nr.wantsSetChatTheme$);p.useEffect(()=>{if(!t)return;nr.wantsSetChatTheme$.set(!1);const n=nr.chatTheme;nr.chatTheme=void 0,n&&Wie(e,n)},[t,e])}function eD(e,t,n,r,{name:i,value:s}){const o=new URLSearchParams(e);o.get(i)!==s&&(o.set(i,s),r({pathname:t,search:o.toString(),hash:n},{replace:!0}))}function wMe(){const e=Hr(),t=ms(),[n,r]=rF(l=>[y4(l),nF(l)]),i=pe(),s=_n(i),o=zr(nr.wantsAuthSessionContext$);CMe(),SMe(i);const a=cwe();return p.useEffect(()=>{a&&(s?a.recordAvailableSessionAuth():a.onMissingSessionAuth())},[a,s]),p.useEffect(()=>{if(!o)return;nr.wantsAuthSessionContext$.set(!1);const l=nr.authSessionContext;if(l)switch(l.behavior){case"justLoggedInAccessToken":s&&XL(i,l.authToken.accessToken);break;case"reloadPageIfLoggedOut":s||window.location.reload();break}},[s,i,o]),p.useEffect(()=>{n&&eD(e.search,e.pathname,e.hash,t,_X),r&&eD(e.search,e.pathname,e.hash,t,yX),r?document.body.setAttribute("data-window-style","sidebar_view"):document.body.removeAttribute("data-window-style")},[e.pathname,e.search,e.hash,t,n,r]),null}const EMe="sourcesSidebar",xMe="initialPageLoad";function tD(e){return e.type==="summarizer"}function ad(e){return e.type==="searchSources"}function nD(e){return e.type==="caterpillar"}function eg(e){return e.type==="retrievalResults"}function tg(e){return e.type==="product"}function rD(e){return e.type==="entity"}function iD(e){return e.type==="n7jupdSources"}function sD(e){return e.type==="codingCitations"}class fc extends Qh()(t=>t){static getIsOpen=({isOpen:t})=>t;static getActiveSidebar=({activeSidebar:t})=>t;openThreadSidebar=t=>{MMe(t),this.setState({isOpen:!0,activeSidebar:t})};updateThreadSidebar=t=>{this.setState({activeSidebar:t})};toggleThreadSidebar=(t,n)=>{const r=this.getState(),i=r.activeSidebar,s=r.isOpen&&i&&kMe(t,i);if(ad(t)&&s&&i&&ad(i)&&i.scrollToHeader!==t.scrollToHeader){this.updateThreadSidebar({...t,shouldAnimateScroll:!0});return}s?this.closeThreadSidebar():(n?.(),this.openThreadSidebar(t))};closeThreadSidebar=()=>{const t=this.getState().activeSidebar;t&&RMe(t),this.setState({isOpen:!1,activeSidebar:void 0})}}const kMe=(e,t)=>ad(e)&&ad(t)?t.messageId===e.messageId:nD(e)&&nD(t)?t.caterpillarId===e.caterpillarId&&t.initialTab===e.initialTab:tD(e)&&tD(t)?t.clientThreadId===e.clientThreadId&&t.turnIndex===e.turnIndex:eg(e)&&eg(t)?t.clientThreadId===e.clientThreadId&&t.turnIndex===e.turnIndex&&t.messageId===e.messageId:iD(e)&&iD(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId:sD(e)&&sD(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.matchedText===e.matchedText:tg(e)&&tg(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.turnIndex===e.turnIndex&&t.contentReferenceStartIndex===e.contentReferenceStartIndex&&t.productIndex===e.productIndex:rD(e)&&rD(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.contentReferenceStartIndex===e.contentReferenceStartIndex&&t.query===e.query&&t.category===e.category:!1;function TMe(e){const{isOpen:t}=e;return JSON.stringify({isOpen:t})}function OMe({children:e}){const[t]=p.useState(()=>{let n;return n={isOpen:new URLSearchParams(window.location.search).get(EMe)==="open",activeSidebar:{type:"searchSources",turnIndex:0,messageId:"",clientThreadId:xMe}},new fc(n)});return p.useEffect(()=>t.subscribe((n,r)=>{if(!(n.isOpen!==r.isOpen))return;const s=TMe(n);$e.setCookie(je.ThreadSidebarState,s,{maxAge:2*365*24*60*60})}),[t]),g.jsx(fc.Provider,{store:t,children:e})}const _ze=()=>{const e=fc.useStore(),t=p.useCallback(i=>e.openThreadSidebar(i),[e]),n=p.useCallback((i,s)=>e.toggleThreadSidebar(i,s),[e]),r=p.useCallback(()=>e.closeThreadSidebar(),[e]);return{openThreadSidebar:t,toggleThreadSidebar:n,closeThreadSidebar:r}};function AMe(e,t){return e.type===t}function yze(){return fc.useState(fc.getIsOpen)}function IMe(){return fc.useState(fc.getActiveSidebar)}function bze(e){const t=IMe();if(e&&t&&AMe(t,e))return t}const MMe=e=>{if(ad(e)){const{clientThreadId:t,turnIndex:n,messageId:r}=e;K.logEventWithStatsig("Search Links Sidebar Shown","search_links_sidebar_shown",Bs({turnIndex:n,clientThreadId:t,messageId:r}))}else if(tg(e)){const{clientThreadId:t,turnIndex:n,messageId:r,contentReferenceStartIndex:i,productIndex:s}=e;K.logEventWithStatsig("Product Sidebar Shown","product_sidebar_shown",{...Bs({turnIndex:n,clientThreadId:t,messageId:r}),content_reference_start_index:i,product_index:(s+1).toString()})}else if(eg(e)){const{clientThreadId:t,turnIndex:n}=e;K.logEventWithStatsig("File Sources Sidebar Shown","file_sources_sidebar_shown",{...Bs({turnIndex:n,clientThreadId:t})})}},RMe=e=>{if(ad(e)){const{clientThreadId:t,messageId:n,turnIndex:r}=e;K.logEventWithStatsig("Search Links Sidebar Closed","search_links_sidebar_closed",Bs({clientThreadId:t,messageId:n,turnIndex:r}))}else if(tg(e)){const{clientThreadId:t,messageId:n,turnIndex:r,contentReferenceStartIndex:i,productIndex:s}=e;K.logEventWithStatsig("Product Sidebar Closed","product_sidebar_closed",{...Bs({turnIndex:r,clientThreadId:t,messageId:n}),content_reference_start_index:i,product_index:(s+1).toString()})}else if(eg(e)){const{clientThreadId:t,turnIndex:n}=e;K.logEvent("File Sources Sidebar Closed",Bs({clientThreadId:t,turnIndex:n}))}},PMe=()=>(p.useEffect(()=>{const e=({shiftKey:r,metaKey:i,ctrlKey:s})=>{z6.setState({shift:r,meta:i,ctrl:s})},t=()=>{z6.setState(Iq)},n={passive:!0,capture:!0};return document.addEventListener("keydown",e,n),document.addEventListener("keyup",e,n),document.addEventListener("visibilitychange",t,n),()=>{document.removeEventListener("keydown",e,n),document.removeEventListener("keyup",e,n),document.removeEventListener("visibilitychange",t,n)}},[]),null);class BS extends Qh()(()=>({windowWidth:window.innerWidth,windowHeight:window.innerHeight})){static selectWindowWidth=({windowWidth:t})=>t;static selectWindowHeight=({windowHeight:t})=>t}function Cze(e,t){const n=BS.useStore();return p.useSyncExternalStore(r=>n.subscribe((i,s)=>{e(i)!==e(s)&&r()}),()=>e(n.getState()),()=>t??e(n.getInitialState()))}function NMe({children:e}){const[t]=p.useState(()=>new BS);return p.useEffect(()=>ic(window,{resize:()=>{t.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}}),[t]),g.jsx(BS.Provider,{store:t,children:e})}class SK{cacheK1=new Map;get(t,n){return this.cacheK1.get(t)?.get(n)}set(t,n,r){let i=this.cacheK1.get(t);i||(i=new Map,this.cacheK1.set(t,i)),i.set(n,r)}delete(t,n){const r=this.cacheK1.get(t);r&&(r.delete(n),r.size===0&&this.cacheK1.delete(t))}}const oD=new SK,US=new SK;function DMe(e,t){const n=US.get(e,t);if(n==null){const r=zne(e,t).catch(()=>bf);return US.set(e,t,r),r}return n}function LMe(e,t){if(e===Ig)return bf;const n=oD.get(e,t);if(n!=null)return n;const r=DMe(e,t),i=p.use(r);return i===bf?bf:(oD.set(e,t,i),US.delete(e,t),i)}function FMe({children:e,locale:t}){const n=pe(),r=tj(t)&&$t(n,"2884982660").get("load-machine-translated",!1),i=LMe(t,r);return g.jsx(sY,{defaultLocale:Ig,locale:t,messages:i,children:g.jsx(xae,{dir:ej.has(t)?"rtl":"ltr",children:e})})}const jMe=({children:e})=>{const t=vY().locale;return p.useEffect(()=>{const n=navigator.language??"",r=V4(n);K.logEvent("Locale Loaded",{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r}),vt.logEvent("chatgpt_locale_loaded",t,{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r??""})},[t]),g.jsx(FMe,{locale:t,children:e})};var L5,aD;function BMe(){if(aD)return L5;aD=1;var e=gd(),t=Ni(),n=Qa(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return L5=i,L5}var UMe=BMe();const qMe=mn(UMe);function zMe(e,t=0){return new Promise(n=>{requestAnimationFrame(()=>{setTimeout(()=>{n(e())},t)})})}const cp=kt("livekit"),Sze=()=>zr(()=>cp()),wze=()=>zMe(()=>cp()),up=kt(""),Eze=()=>zr(()=>up()),xze=()=>{requestAnimationFrame(()=>{up.set("")})};function Fe(e,t,n){return r=>{requestAnimationFrame(()=>{const i=cp(),s=r?.voice_session_id??up(),o={...r,message:t,protocol:i,voice_session_id:s};V.addAction(e,o),n&&Ym(Lt(),n,void 0,P$(o,a=>qMe(a)))})}}function mm(e,t){return(n,r)=>{requestAnimationFrame(()=>{const i=cp(),s=r?.voice_session_id??up(),o={...r,...t?{message:t}:{},protocol:i,voice_session_id:s};try{const a=n.name,l=n.message;o.error=a,o.errMessage=l}catch{o.error=String(n)}V.addAction(e,o)})}}function su(e){return(t,n)=>{requestAnimationFrame(()=>{const r=cp(),i=n?.voice_session_id??up();t instanceof mt||V.addError(t,{...n,status:"error",name:e,protocol:r,voice_session_id:i})})}}const lD={audioPlayer:{error:su("audio-player")},readAloud:{click:Fe("read-aloud","click"),error:su("read-aloud")},messagePlayback:{click:Fe("message-playback","click")},toggleVideoButton:{click:Fe("toggle-video-button","click")},toggleMuteButton:{click:Fe("toggle-mute-button","click")},toggleScreenShareButton:{click:Fe("toggle-screenshare-button","click")},composerSpeechButton:{hover:Fe("composer-speech-button","hover")},voiceSessionEndedByUser:{click:Fe("voice-session-ended-by-user","click")},voiceSessionStarted:{click:Fe("voice-session-started","click")},voiceSessionDuration:{duration:Fe("voice-session-duration","duration")},voiceSessionListening:{stateChange:Fe("voice-session-listening","stateChange")},voiceSessionListeningIntently:{stateChange:Fe("voice-session-listening-intently","stateChange")},voiceSessionThinking:{stateChange:Fe("voice-session-thinking","stateChange")},voiceSessionSpeaking:{stateChange:Fe("voice-session-speaking","stateChange")},voiceSessionHalted:{stateChange:Fe("voice-session-halted","stateChange")},voiceSessionDisconnected:{stateChange:Fe("voice-session-disconnected","stateChange")},voiceMode:{connect:Fe("voice-mode","connect"),error:Fe("voice-mode","error")},previews:{click:Fe("previews","click"),error:su("previews")},getToken:{request:Fe("get-token","request"),success:Fe("get-token","success"),failure:Fe("get-token","failure")},getVoiceStatus:{request:Fe("get-voice-status","request"),success:Fe("get-voice-status","success"),failure:Fe("get-voice-status","failure")},livekit:{connectCalled:Fe("livekit","connectCalled"),success:Fe("livekit","success"),failure:su("livekit")},bloop:{performance:Fe("bloop","performance")},voiceSelectionShown:{click:Fe("voice-selection-shown","click","voice_selection_shown")},voiceSelected:{click:Fe("voice-selected","click")},voiceAdvancedDisclosureShown:{success:Fe("voice-advanced-disclosure-shown","success")},voiceAdvancedDisclosureAccepted:{click:Fe("voice-advanced-disclosure-accepted","click")},rateLimitReached:{success:Fe("rate-limit-reached","success"),modalShown:Fe("rate-limit-reached","modalShown")},upsell:{upgradeToPlus:Fe("upsell","upgradeToPlus"),upgradeToPro:Fe("upsell","upgradeToPro"),upgradeToApp:Fe("upsell","upgradeToApp"),appUpsellShown:Fe("upsell","appUpsellShown"),appUpsellDismissed:Fe("upsell","appUpsellDismissed")},feedbackShown:{success:Fe("feedback-shown","success")},feedbackThumbsUp:{success:Fe("feedback-thumbs-up","success")},feedbackThumbsDown:{success:Fe("feedback-thumbs-down","success")},feedbackDetails:{audio_issues:Fe("feedback-details","audio_issues"),response_quality:Fe("feedback-details","response_quality"),interruptions:Fe("feedback-details","interruptions"),transcription_issues:Fe("feedback-details","transcription_issues"),inaudible_issues:Fe("feedback-details","inaudible_issues"),other:Fe("feedback-details","other"),inputText:Fe("feedback-details","inputText")},connectionLatency:{success:Fe("connection-latency","success"),failure:su("connection-latency")},firstListeningLatency:{success:Fe("first-listening-latency","success")},permissions:{denied:Fe("permissions-denied")},voiceSessionFirstListening:{stateChange:Fe("voice-session-first-listening","stateChange")},voiceSessionFirstSpeaking:{stateChange:Fe("voice-session-first-speaking","stateChange")},defaultMediaDeviceChanged:{success:Fe("default-media-device-changed","success"),failure:su("default-media-device-changed")},voiceStatusCache:{hit:Fe("voice-status-cache","hit"),failed:Fe("voice-status-cache","failed"),ineligible:Fe("voice-status-cache","ineligible"),skipped:Fe("voice-status-cache","skipped")},certificateCache:{hit:Fe("certificate-cache","hit"),miss:Fe("certificate-cache","miss"),disabled:Fe("certificate-cache","disabled"),unsupported:mm("certificate-cache","unsupported")},peerConnectionCache:{hit:Fe("peer-connection-cache","hit"),miss:Fe("peer-connection-cache","miss"),unsupported:mm("peer-connection-cache","unsupported")},certificateLocalDb:{hit:Fe("certificate-local-db","hit"),generated:Fe("certificate-local-db","generated"),saveFailed:mm("certificate-local-db","saveFailed"),loadFailed:mm("certificate-local-db","loadFailed")}},Nr=fn(Cde(Ja(()=>({playerNode:null,playerApi:null,playerState:{sourceUrl:null,isPlaying:!1}}))));function kze(){return Nr(e=>e.playerApi)}function Tze(e){return Nr(t=>e(t.playerState))}function Oze(){return Nr.getState().playerApi}function Aze(){return Nr.getState().playerState}const GMe=p.memo(function(){const t=p.useRef(null),n=Nr(r=>r.playerNode);return p.useEffect(()=>{const r=t.current;r&&!n&&(r.onplay=()=>{Nr.setState(i=>{i.playerState.isPlaying=!0})},r.onpause=()=>{Nr.setState(i=>{i.playerState.isPlaying=!1})},r.ontimeupdate=()=>{Nr.setState(i=>{i.playerState.currentTime=r.currentTime})},r.ondurationchange=()=>{Nr.setState(i=>{i.playerState.duration=r.duration})},r.onerror=i=>{typeof i=="string"?lD.audioPlayer.error(new Error(i)):i.target&&"error"in i.target&&lD.audioPlayer.error(i.target.error)},Nr.setState({playerNode:r,playerApi:new HMe(r)}))},[n]),g.jsx("audio",{className:"fixed start-0 bottom-0 hidden h-0 w-0",autoPlay:!0,crossOrigin:"anonymous",ref:t})});class HMe{constructor(t){this.player=t}get state(){return Nr.getState().playerState}changeSource(t){this.player.src&&this.player.src!==t&&this.stop(),this.player.src=t,Nr.setState(n=>{n.playerState.sourceUrl=t})}async play(){this.state.isPlaying||await this.player.play()}pause(){this.state.isPlaying&&this.player.pause()}stop(){this.pause(),this.player.removeAttribute("src"),Nr.setState(t=>{t.playerState.sourceUrl=null,t.playerState.currentTime=void 0,t.playerState.duration=void 0})}setCurrentTime(t){this.player.currentTime=t}setSpeed(t){this.player.playbackRate=t,this.player.defaultPlaybackRate=t}}function Ize(e){const t=Nr.getState().playerNode;if(!t)return!1;const n=t.canPlayType(e);return n==="probably"||n==="maybe"}const VMe=({children:e})=>{const t=vs();return g.jsx(zce,{children:g.jsx(jMe,{children:g.jsx(Bue,{children:g.jsxs(OMe,{children:[g.jsx(tSe,{children:g.jsx(NMe,{children:e})}),g.jsx(GMe,{}),g.jsx(PMe,{}),null,t?g.jsx(wMe,{}):null]})})})})},qS=({resetError:e,componentStack:t,error:n})=>(p.useEffect(()=>{V.addError(n),$n?.publish(Fa.ERROR_THROWN,{error:n})},[n]),g.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[g.jsx("h2",{children:"Content failed to load"}),!1,g.jsx(un,{color:"secondary",onClick:e,children:"Try again"}),!1]})),WE=kt(!1),Mze=WE;function $Me(e){const t=ic(e.document,{keydown:KMe,keyup:Wm,visibilitychange:Wm}),n=ic(e,{blur:Wm});return()=>{t(),n()}}const WMe=500;let ng;function KMe(e){YMe(e)?ng??=setTimeout(()=>{WE.set(!0)},WMe):ng&&Wm()}function YMe(e){return!e0(e)&&e.key===(RD()?"Meta":"Control")&&yB(e)===cae()}function Wm(){clearTimeout(ng),ng=void 0,WE.set(!1)}var zi={},cD;function ZMe(){if(cD)return zi;cD=1,Object.defineProperty(zi,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=1;i<20;i++)r["f"+i]=111+i;function s(f,h,m){h&&!("byKey"in h)&&(m=h,h=null),Array.isArray(f)||(f=[f]);var v=f.map(function(b){return l(b,h)}),_=function(C){return v.some(function(S){return c(S,C)})},y=m==null?_:_(m);return y}function o(f,h){return s(f,h)}function a(f,h){return s(f,{byKey:!0},h)}function l(f,h){var m=h&&h.byKey,v={};f=f.replace("++","+add");var _=f.split("+"),y=_.length;for(var b in t)v[t[b]]=!1;var C=!0,S=!1,x=void 0;try{for(var w=_[Symbol.iterator](),E;!(C=(E=w.next()).done);C=!0){var T=E.value,O=T.endsWith("?")&&T.length>1;O&&(T=T.slice(0,-1));var k=d(T),A=t[k];if(T.length>1&&!A&&!n[T]&&!r[k])throw new TypeError('Unknown modifier: "'+T+'"');(y===1||!A)&&(m?v.key=k:v.which=u(T)),A&&(v[A]=O?null:!0)}}catch(I){S=!0,x=I}finally{try{!C&&w.return&&w.return()}finally{if(S)throw x}}return v}function c(f,h){for(var m in f){var v=f[m],_=void 0;if(v!=null&&(m==="key"&&h.key!=null?_=h.key.toLowerCase():m==="which"?_=v===91&&h.which===93?91:h.which:_=h[m],!(_==null&&v===!1)&&_!==v))return!1}return!0}function u(f){f=d(f);var h=r[f]||f.toUpperCase().charCodeAt(0);return h}function d(f){return f=f.toLowerCase(),f=n[f]||f,f}return zi.default=s,zi.isHotkey=s,zi.isCodeHotkey=o,zi.isKeyHotkey=a,zi.parseHotkey=l,zi.compareHotkey=c,zi.toKeyCode=u,zi.toKeyName=d,zi}var JMe=ZMe();const QMe=mn(JMe),XMe=nn(()=>{const e=kt([]),t=kt(void 0),n=fi(()=>{const a=t();return e().filter(l=>dD(l,a))});function r(...a){return e.set(l=>[...a,...l]),()=>{e.set(l=>l.filter(c=>!a.includes(c)))}}function i(a){const l=jl(t);return t.set(a),()=>t.set(l)}function s(a){return ic(a.document,{keydown:o})}function o(a){if(a.key===void 0||a.repeat||e0(a)||a.defaultPrevented)return;const c=jl(e),u=jl(t);for(const d of c)if(eRe(d,a)&&dD(d,u)&&d.action(a)!==!1){K.logEventWithStatsig("Keyboard Shortcut","keyboard_shortcut",{keyboardActionKey:d.key}),V.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:d.key}),a.preventDefault();return}}return{actions$:n,addAction:r,limitActionGroups:i,registerEventListener:s}}),uD=new WeakMap;function eRe(e,t){let n=uD.get(e);if(!n){const{keyboardBinding:r,altKeyboardBindings:i}=e,s=[r,...i??[]].map(o=>o.join("+"));n=QMe(s,{byKey:!0}),uD.set(e,n)}return n(t)}function dD(e,t){return!(e.enabled===!1||t!=null&&!t.includes(e.group))}function tRe(){const[e,t]=ig(),n=yt(),r=In(),i=e.get(pv),s=e.get(mv),o=br();p.useEffect(()=>{let a=!1;if(o&&i==="true"){let c;o.isWorkspacePlan()?c=o.name??"Workspace":c="Personal",r.info(n.formatMessage({id:"S4JoJY",defaultMessage:"Switched to {name}"},{name:c})),a=!0}let l=!1;if(typeof s=="string"&&nRe(s)){const c=wK[s];r.danger(n.formatMessage(c),{toastId:"error_query_param",loggingTitle:s,loggingDescription:c.defaultMessage?String(c.defaultMessage):""}),l=!0}(e.has(pv)||e.has(mv))&&t(c=>(a&&c.delete(pv),l&&c.delete(mv),c),{replace:!0})},[i,o,s,n,e,t,r])}function nRe(e){return e in wK}const wK=It({invalidToken:{id:"UAhT32",defaultMessage:"The token is invalid"},continueFromApiGeneric:{id:"FHUH8C",defaultMessage:"Unable to continue your conversation"}});class KE{subscribers;constructor(t){this.subscribers=KE.createTypedEmitterAllEventSubscribers(t)||{}}publish(t,n){const r=this.subscribers[t]||{};for(const i of Object.values(r))i(n)}subscribe(t,n){const r=qr();this.subscribers[t]||(this.subscribers[t]={});const i=this.subscribers[t];return i[r]=n,()=>{delete i[r]}}static createTypedEmitterAllEventSubscribers(t){return t.reduce((n,r)=>(n[r]={},n),{})}}class rRe extends KE{constructor(){super(Object.values(Ew))}getVersion(){return 1}}const iRe=new rRe;function sRe(){const e=pe(),n=mi(e).getContext().user,r=hd(e),i=pn(e);p.useEffect(()=>{$n&&(r?.accessToken&&r?.user?.id?$n.publish(Fa.LOGIN_CHANGED,{userId:r.user.id,accountId:i?.id,authToken:r.accessToken,statsigUser:n,email:r.user.email}):$n.publish(Fa.LOGOUT,{statsigUser:n}))},[i?.id,r?.accessToken,r?.user,i,n])}function Rze(e){const t=pe(),n=dn(t).windowStyle;p.useEffect(()=>{if($n)return iRe.subscribe(Ew.WINDOW_VISIBILITY_STATE_CHANGED,r=>{r.windowType===n&&r.state==="hidden"&&e()})},[e,n])}function Pze(){return $n?$n.takePhoto():Promise.resolve(void 0)}function Nze(){return $n?$n.requestSystemPermission(oB.MICROPHONE):Promise.resolve(!0)}function Dze(){return $n?$n.takeScreenshot():Promise.resolve(void 0)}function oRe({children:e}){tRe(),LD&&sRe();const t=pe();return p.useEffect(()=>XMe(t).registerEventListener(window),[t]),p.useEffect(()=>$Me(window),[]),g.jsx(g.Fragment,{children:e})}const aRe=60*60*24*30*3,lRe=Eg(()=>ye(()=>import("./jf6zdgxyet8q4h2w.js"),__vite__mapDeps([20,1,9,10,21,22,23,24,25,26,27,28,29,30,31,32,33,34,14,15,35,36,17,37,38,7,8,16,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,12,54,55,56,57,58,59,60,61,62,63,64,65])).then(e=>e.GlobalModalsComponent));Tne();function cRe(){return twe(),null}LD&&ye(()=>import("./bmobnezbuwzpy0oz.js"),__vite__mapDeps([66,9,1,10])).then(e=>e.initDesktop()),vs()&&ye(()=>import("./ov1bxu4ooypnl6gv.js"),__vite__mapDeps([67,1])).then(e=>e.initHost());gs(window.location.origin,"import.meta.env.VITE_APP_URL");function uRe({children:e}){"use forget";pe();const[t,n]=p.useState(!1),r=Hr();p.useEffect(()=>{window._oaiHandleSessionExpired=function(s,o){window.location.href.includes("/auth/login")||(vs()&&ip()?.onMissingSessionAuth(),n(!0),K.logEvent("Account: Force Login Modal Shown",{content:`${s}: ${o}`}))}},[]);function i(s){try{const o=s.match(/^\/share\/(.+)$/);let a=$e.getCookie(je.SharedConversationId);if(!a&&o&&(a=o[1],$e.setCookie(je.SharedConversationId,a,{maxAge:aRe})),typeof a=="string"&&a&&vt.getUser()?.customIDs){const l=vt.getUser();l?.customIDs&&(l.customIDs.shared_conversation_id=a)}}catch(o){o instanceof Error?es.error("Error in shared conversation cookie code:",{message:o.message,stack:o.stack}):es.error("Unknown error in shared conversation cookie code:",{error:o})}}return p.useEffect(()=>{i(r.pathname),K.logPageView(),vt.logEvent("chatgpt_page_view",null,b6()),NV("openaicom-did")},[r.pathname,r.search,r.hash]),g.jsx(g.Fragment,{children:g.jsx($g,{name:"ui_boundary_error",fallback:({resetError:s,componentStack:o,error:a})=>g.jsx(qS,{resetError:s,componentStack:o,error:a}),logRequestErrors:!0,children:g.jsx(VMe,{children:g.jsxs(oRe,{children:[e,null,g.jsx(cRe,{}),g.jsx(dRe,{isOpen:t,onLogInClick:()=>{n(!1)}}),g.jsx(lRe,{}),g.jsx(ree,{}),g.jsx(Sse,{}),!1]})})})})}const dRe=e=>{"use forget";const t=Re.c(16),{isOpen:n,onLogInClick:r}=e,i=yt();let s;t[0]!==i?(s=i.formatMessage(F5.forceLogInModalTitle),t[0]=i,t[1]=s):s=t[1];let o;t[2]!==i?(o=i.formatMessage(F5.forceLogInModalDescription),t[2]=i,t[3]=o):o=t[3];let a;t[4]!==r?(a=async()=>{const d=await $S.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=d.url,r()},t[4]=r,t[5]=a):a=t[5];let l;t[6]!==i?(l=i.formatMessage(F5.forceLogInModalButton),t[6]=i,t[7]=l):l=t[7];let c;t[8]!==a||t[9]!==l?(c=g.jsx(Rl.Button,{onClick:a,title:l}),t[8]=a,t[9]=l,t[10]=c):c=t[10];let u;return t[11]!==n||t[12]!==s||t[13]!==o||t[14]!==c?(u=g.jsx(Bo,{testId:"modal-expired-session",isOpen:n,icon:ed,title:s,description:o,type:"warning",onClose:aF,primaryButton:c}),t[11]=n,t[12]=s,t[13]=o,t[14]=c,t[15]=u):u=t[15],u},F5=It({forceLogInModalTitle:{id:"App.forceLogInModalTitle",defaultMessage:"Your session has expired"},forceLogInModalDescription:{id:"App.forceLogInModalDescription",defaultMessage:"Please log in again to continue using the app."},forceLogInModalButton:{id:"App.forceLogInModalButton",defaultMessage:"Log in"}});function fRe(e,t){return e.slice(0,t.length)===t}var hRe={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},gu=console,vu={};Object.keys(hRe).forEach(function(e){vu[e]=gu[e]});var Qd="Datadog Browser SDK:",pRe={debug:vu.debug.bind(gu,Qd),log:vu.log.bind(gu,Qd),info:vu.info.bind(gu,Qd),warn:vu.warn.bind(gu,Qd),error:vu.error.bind(gu,Qd)};function mRe(e,t,n){return n===void 0&&(n=!1),e.some(function(r){try{if(typeof r=="function")return r(t);if(r instanceof RegExp)return r.test(t);if(typeof r=="string")return n?fRe(t,r):r===t}catch(i){pRe.error(i)}return!1})}function gRe(e,t){try{return e()}catch(n){return t(n)}}function EK(e){return e instanceof Element?e:e.parentElement?EK(e.parentElement):null}function Km(e){const t=EK(e);if(t){const n=SD(t,void 0);if(n)return n}return e.nodeName}const vRe=e=>e.type==="childList"?e.addedNodes.length>0?`added ${Km(e.addedNodes[e.addedNodes.length-1])}`:e.removedNodes.length>0?`removed ${e.removedNodes[e.removedNodes.length-1].nodeName} from ${Km(e.target)}`:`unknown ${e.type}`:e.type==="characterData"?`characterData in ${Km(e.target)}`:`unknown ${e.type}`,fD="checkVisibility"in Element.prototype?e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}):e=>!e.hasAttribute("aria-hidden")&&!e.classList.contains("hidden");function _Re(e){if(document.head.contains(e))return!1;if(e instanceof Element)return fD(e);if(e instanceof Text){const t=e.parentElement;if(t!=null)return fD(t)}return!0}function YE(e){const t=[],n=e(r=>t.push(r));return()=>(n(),t)}class yRe{timeouts=new Set;add(t,n){const r=setTimeout(()=>{this.timeouts.delete(r),t()},n);this.timeouts.add(r)}clear(){for(const t of this.timeouts)clearTimeout(t);this.timeouts.clear()}}function j5(e,t){try{if(e.type&&!PerformanceObserver.supportedEntryTypes.includes(e.type))return()=>{};const n=new PerformanceObserver(r=>{for(const i of r.getEntries())t(i)});return n.observe(e),()=>n.disconnect()}catch{return()=>{}}}function bRe({idleTimeout:e=5e3,minIdleGap:t=100,filter:n}={}){return new Promise((r,i)=>{let s=null;const o=()=>{s!=null&&clearTimeout(s),s=setTimeout(l,e)};o();const a=YE(c=>{function u(f){(!n||n(f))&&(c({start:f.startTime,end:f.startTime+f.duration}),o())}const d=[j5({type:"resource",buffered:!0},u),j5({type:"longtask",buffered:!0,durationThreshold:0},u),j5({type:"navigation",buffered:!0},u)];return()=>{for(const f of d)f()}});function l(){try{const c=a();r(CRe(c,t))}catch(c){i(c)}}})}function CRe(e,t){const n=[];for(const{start:i,end:s}of e)n.push({t:i,delta:1}),n.push({t:s,delta:-1});n.sort((i,s)=>i.t===s.t?i.delta-s.delta:i.t-s.t);let r=0;for(let i=0;i<n.length;i++)if(r+=n[i].delta,r===0){const s=n[i].t,o=n[i+1];if(!o||o.t-s>=t)return s}throw new Error("no idle gap found")}function SRe(e){return`${e.type} ${e.target instanceof Node?Km(e.target):`(unknown target ${e.target})`}`}function wRe(e){return YE(t=>{const n=new yRe;function r(i){const s=performance.now();n.add(()=>{t({start:s,end:performance.now(),label:SRe(i)})})}for(const i of e)window.addEventListener(i,r,{capture:!0});return()=>{for(const i of e)window.removeEventListener(i,r,{capture:!0});n.clear()}})}function ERe(e){return YE(t=>{const n=new MutationObserver(r=>{const i=wm(r,e);i&&t({time:performance.now(),label:gRe(()=>vRe(i),s=>`error describing mutation: ${s}`)})});return n.observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!1}),()=>n.disconnect()})}const xRe=["pointerdown","touchend","input","keydown","mouseleave","mouseenter","drop","beforeinput","pointerenter","dragend","pointercancel","compositionupdate","mousedown","dragleave","dragover","mouseup","pointerover","lostpointercapture","mouseover","gotpointercapture","dblclick","keyup","keypress","pointerup","compositionstart","auxclick","dragstart","touchstart","compositionend","pointerout","dragenter","touchcancel","click","contextmenu","mouseout","pointerleave"];function kRe(e){return e instanceof Element&&e.hasAttribute("data-ignore-for-page-load")}function xK(e){return _Re(e)&&!kRe(e)}function TRe(e){for(const t of e)if(xK(t))return!0;return!1}async function ORe(){if(typeof PerformanceObserver!="function")return{label:"no performance observer"};const e=xRe.filter(c=>!/(enter|leave|over|out)$/.test(c)),t=wRe(e),n=ERe(c=>c.type==="childList"&&TRe(c.addedNodes)||c.type==="characterData"&&xK(c.target)),r=await bRe({filter:c=>c.duration!==0&&!(c.entryType==="resource"&&mRe(jD,c.name))}),i=t(),s=n(),o=i.find(c=>s.some(u=>c.start<u.time&&u.time<=c.end));if(o!=null&&o.start<r)return{label:"mutating input before page loaded",firstMutatingInput:o,pageIdle:r};const a=s.filter(c=>c.time<r+200),l=a.at(-1);return l?{...l,mutationsBeforeIdle:a.length,mutationsBeforeIdleList:a,pageIdle:r,firstMutatingInput:o}:{label:"no mutations before page idle",pageIdle:r,firstMutatingInput:o}}const ARe=5*60*1e3;function IRe(e){return Math.min(Math.max(e,0),ARe)}function hD(e){return{entryType:e.entryType,duration:e.duration,name:e.name,startTime:e.startTime,target:e.target instanceof Element?SD(e.target,void 0):void 0}}async function MRe(e){const t=await ye(()=>import("./c0zax7gkhjidj8rn.js"),[]);if(!t)return;const{onCLS:n,onFCP:r,onLCP:i,onINP:s}=t,o=new Promise(C=>n(C)),a=new Promise(C=>r(C)),l=new Promise(C=>i(C));Qe(e,"622488229")&&s(C=>{try{V.addAction("web-vitals.inp-long",{id:C.id,delta:C.delta,rating:C.rating,attribution:{interactionTarget:C.attribution.interactionTarget,nextPaintTime:C.attribution.nextPaintTime,interactionTime:C.attribution.interactionTime,interactionType:C.attribution.interactionType,processedEventEntries:C.attribution.processedEventEntries.map(hD),inputDelay:C.attribution.inputDelay,processingDuration:C.attribution.processingDuration,presentationDelay:C.attribution.presentationDelay,loadState:C.attribution.loadState},navigationType:C.navigationType,name:C.name,value:C.value,entries:C.entries.map(hD)})}catch{}},{durationThreshold:500});const c=dn(e),u={country:c.userCountry??"unknown",continent:c.userContinent??"unknown",device:sg()?"mobile":"desktop",track:"stable",cluster:c.cluster},d=C=>S=>xn.hist(Sn.DEFAULT,`web.vitals.${C}`,u,S.value);o.then(d("cls")),a.then(d("fcp")),l.then(d("lcp"));const[f,h,m]=await Promise.all([o,a,l]),v=C=>Math.min(Math.max(C,0),5*60*1e3),_=v(f.value),y=v(h.value),b=v(m.value);vt.logEvent("chatgpt_web_vitals",b,{cls:String(f.value),fcp:String(h.value),lcp:String(m.value),cls_trimmed:String(_),fcp_trimmed:String(y),lcp_trimmed:String(b)})}function RRe(e){const t=window.__reactRouterManifest,n=new Set([t.entry].concat(e.map(i=>t.routes[i])).flatMap(i=>[i.module,...i.imports].map(s=>new URL(s,location.origin).toString()))),r=performance.getEntriesByType("resource").filter(i=>n.has(i.name));if(r.length===n.size){const i={transfer_size:r.reduce((s,o)=>s+o.transferSize,0),encoded_body_size:r.reduce((s,o)=>s+o.encodedBodySize,0),decoded_body_size:r.reduce((s,o)=>s+o.decodedBodySize,0)};V.addAction("pageLoad.jsResourceSizes",{...i,count:r.length,route_id:e[e.length-1],route_ids:e})}else V.addAction("pageLoad.jsResourceSizes.missing",{missing:n.difference?Array.from(n.difference(new Set(r.map(i=>i.name)))):null})}function PRe(){const e=p.useRef([]),t=p.useRef((n,r)=>{const i=setTimeout(n,r);return e.current.push(i),i});return p.useEffect(()=>{const n=e.current;return()=>{n.forEach(r=>{clearTimeout(r)})}},[]),t.current}function NRe(e){const{speed:t=100,value:n="",typing:r,onTyped:i,initTyped:s,chunk:o}=e,[a,l]=p.useState(0),c=p.useRef(void 0),u=PRe(),d=j4e();function f(h,m,v){c.current=u(function(){h>=m.length||(l(h+v),i?.(),f(h+v,m,v))},t)}return p.useEffect(()=>(l(s?n.length:0),r&&f(0,n,o?4:1),()=>{clearTimeout(c.current)}),[r,n]),g.jsxs(g.Fragment,{children:[g.jsx("span",{className:ke("whitespace-pre-wrap",a<n.length&&"result-streaming no-flow",d?"dark":"light"),children:g.jsx("span",{children:n.slice(0,a)})}),g.jsx("span",{className:"whitespace-pre-wrap text-transparent",children:n.slice(a)})]})}function DRe({showReturnHome:e=!1}){const t=p.useId(),n=ms(),[r]=p.useState(()=>{{const i=document.getElementById(t)?.dataset.index;if(i!=null)return parseInt(i)}return Math.floor(Math.random()*pD.length)});return g.jsx("section",{className:"flex h-screen flex-col items-center justify-center","data-index":r,id:t,children:g.jsxs("div",{children:[g.jsxs("h3",{children:[g.jsx($9,{className:"mb-2 h-6 w-6 align-baseline"}),"404 Not Found"]}),g.jsx("p",{className:"mt-2 max-w-lg pb-6",children:g.jsx(NRe,{value:pD[r].message,typing:!0,speed:150,chunk:!0})}),e&&g.jsx(un,{color:"primary",onClick:()=>{K.logEventWithStatsig("404 Page Return Home Button Clicked","chatgpt_404_page_return_home_button_clicked"),n("/")},children:g.jsx(ve,{id:"Cc1py2",defaultMessage:"Go to ChatGPT"})})]})})}const pD=[{message:`Lost in the vast web,
Where you sought, there's only void—
Nothingness awaits.`},{message:`Paths cross empty void
Seeking what once existed
Silence answers all.`},{message:`Where we are, there's only air,
A page misplaced, it isn't there.
In the void where data fades,
Questions linger, answers evade.
Not all paths lead where we care.`},{message:`Where the page should be,
Empty space and missing words—
A void in the code.`},{message:`The link was a dream,
A shadow of what once was—
Now, nothing remains.`},{message:`In the heat of day,
The path dissolves to nothing—
An empty mirage.`}],LRe=p.createContext({cspNonce:""});function FRe(){"use forget";const e=Re.c(8),t=vD(),{cspNonce:n}=p.useContext(LRe);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=g.jsxs("head",{children:[g.jsx("meta",{charSet:"UTF-8"}),g.jsx(wD,{})]}),e[0]=r):r=e[0];let i;e[1]!==t?(i=oY(t)?t.status===404?g.jsx(DRe,{}):g.jsx(qS,{error:new Error(`Route Error (${t.status} ${t.statusText}): ${t.message}`),resetError:BRe}):g.jsx(qS,{error:t,resetError:jRe}),e[1]=t,e[2]=i):i=e[2];let s;e[3]!==n?(s=g.jsx(ED,{nonce:n}),e[3]=n,e[4]=s):s=e[4];let o;return e[5]!==i||e[6]!==s?(o=g.jsxs("html",{"data-build":fd,suppressHydrationWarning:!0,children:[r,g.jsxs("body",{children:[i,s]})]}),e[5]=i,e[6]=s,e[7]=o):o=e[7],o}function jRe(){return location.reload()}function BRe(){return location.reload()}const URe=30;function qRe(){const e=Wt.getItem(qt.LastPageLoadDate),t=new Date,n=typeof e=="string"?new Date(e):null,r=Math.min(n!=null?Math.floor((t.getTime()-n.getTime())/(1e3*60*60)):1/0,URe*24),i=Math.floor(r/24);Wt.setItem(qt.LastPageLoadDate,t.toISOString()),V.addAction("time_since_last_page_load",{hoursSinceLastPageLoad:r,daysSinceLastPageLoad:i})}function zRe(){const e=window.document;let t,n;const r=s=>{t=s,cancelAnimationFrame(n),requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{t=void 0})})},i={capture:!0,passive:!0};e.addEventListener("pointerdown",s=>{r(s.pointerType==="touch"?"touch":"mouse")},i),e.addEventListener("keydown",()=>{r("keyboard")},i),e.addEventListener("focusin",()=>{_B(e.documentElement,"data-focus-mode",t)},i)}const mD="rq:";function GRe(e){const t=[],n=[];for(const r of e)if(r.data){for(const[i,s]of Object.entries(r.data))if(i.startsWith(mD)){const o=i.substring(mD.length);hK(s)?n.push({queryHash:o,queryKey:JSON.parse(o),state:{fetchStatus:"fetching",status:"pending"},promise:s}):t.push({queryHash:o,queryKey:JSON.parse(o),state:{...s,data:s.data}})}}return{staticQueries:t,promiseQueries:n}}function HRe(){const e=rg();return p.useMemo(()=>GRe(e),[e])}function gD(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function VRe(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let B5;function $Re(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=VRe();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(B5||(B5={postTask:gD,yield:()=>gD(()=>{})}),B5)}class WRe{scheduler;setScheduler(){this.scheduler||(this.scheduler=$Re())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const KRe=new WRe,U5=[];function YRe(e,t){for(const n of t)if(e.getQueryState(n.queryKey)==null){let r;const i=new Promise(s=>{r=s});U5.push(r),xD(e,{queries:[{...n,promise:i.then(()=>gs(n.promise,"missing react-query hydration promise")).catch(s=>{throw KRe.yield().then(()=>{e.refetchQueries({queryKey:n.queryKey,exact:!0})}),V.addAction("react-query.prefetch-hydration.error",{queryKey:JSON.stringify(n.queryKey),error:s}),s})}]})}OU(()=>{for(const n of U5)n();U5.length=0},[t])}O4e(),zRe();const Lze=()=>!1,Fze=()=>[{title:"ChatGPT"},...Cse],jze=fY(FRe);function ZRe(e){"use forget";const t=Re.c(47),{children:n,isSearchPage:r,isOrla:i,isEdgeToEdge:s,isElectron:o,isIos:a,isAndroidChrome:l,windowStyle:c,isContainerOTR:u,ddTraceMetadata:d,cspScriptNonce:f,lang:h,pathname:m}=e,v=(h&&ej.has(h),"ltr"),_=o===!0||!1;let y;t[0]!==i||t[1]!==r||t[2]!==_?(y=ke({"snc-root":r,"mini-root":i,"sdtrn-root":_}),t[0]=i,t[1]=r,t[2]=_,t[3]=y):y=t[3];let b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b=g.jsx("meta",{charSet:"UTF-8"}),t[4]=b):b=t[4];const C=`width=device-width, initial-scale=1${a?", maximum-scale=1":""}${s?", viewport-fit=cover":""}`;let S;t[5]!==C?(S=g.jsx("meta",{name:"viewport",content:C}),t[5]=C,t[6]=S):S=t[6];let x;t[7]===Symbol.for("react.memo_cache_sentinel")?(x=g.jsx(uY,{}),t[7]=x):x=t[7];let w;t[8]!==l?(w=l?g.jsx(wse,{}):null,t[8]=l,t[9]=w):w=t[9];let E;t[10]===Symbol.for("react.memo_cache_sentinel")?(E=g.jsx(xse,{}),t[10]=E):E=t[10];const T=m??"";let O;t[11]!==T?(O=g.jsx(Ese,{pathname:T}),t[11]=T,t[12]=O):O=t[12];let k;t[13]!==d?(k=d?g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"dd-trace-id",content:d.traceId}),g.jsx("meta",{name:"dd-trace-time",content:`${d.traceTime}`})]}):null,t[13]=d,t[14]=k):k=t[14];let A,I;t[15]===Symbol.for("react.memo_cache_sentinel")?(A=g.jsx(kse,{}),I=g.jsx(wD,{}),t[15]=A,t[16]=I):(A=t[15],I=t[16]);let D;t[17]!==f?(D=g.jsx("script",{nonce:f,suppressHydrationWarning:!0,children:'!function initScrollTimelineInline(){try{if(CSS.supports("animation-timeline: --works"))return;var t=new Map;document.addEventListener("animationstart",(n=>{if(!(n.target instanceof HTMLElement))return;const e=n.target.getAnimations().filter((t=>t.animationName===n.animationName));t.set(n.target,e)})),document.addEventListener("scrolltimelineload",(n=>{t.forEach(((t,e)=>{t.forEach((t=>{n.detail.upgradeAnimation(t,e)}))})),t.clear()}),{once:!0})}catch{}}();'}),t[17]=f,t[18]=D):D=t[18];let N;t[19]!==O||t[20]!==k||t[21]!==D||t[22]!==S||t[23]!==w?(N=g.jsxs("head",{children:[b,S,x,w,E,O,k,A,I,D]}),t[19]=O,t[20]=k,t[21]=D,t[22]=S,t[23]=w,t[24]=N):N=t[24];let R;t[25]!==i||t[26]!==r?(R=ke({snc:r,mini:i}),t[25]=i,t[26]=r,t[27]=R):R=t[27];let F;t[28]!==f||t[29]!==u?(F={cspScriptNonce:f,isContainerOTR:u},t[28]=f,t[29]=u,t[30]=F):F=t[30];let j;t[31]!==n||t[32]!==F?(j=g.jsx(X4e.Provider,{value:F,children:n}),t[31]=n,t[32]=F,t[33]=j):j=t[33];let H;t[34]!==f?(H=g.jsx(ED,{nonce:f}),t[34]=f,t[35]=H):H=t[35];let U;t[36]!==R||t[37]!==j||t[38]!==H||t[39]!==c?(U=g.jsxs("body",{className:R,"data-window-style":c,children:[j,H]}),t[36]=R,t[37]=j,t[38]=H,t[39]=c,t[40]=U):U=t[40];let M;return t[41]!==v||t[42]!==h||t[43]!==N||t[44]!==y||t[45]!==U?(M=g.jsxs("html",{lang:h,"data-build":fd,dir:v,className:y,suppressHydrationWarning:!0,children:[N,U]}),t[41]=v,t[42]=h,t[43]=N,t[44]=y,t[45]=U,t[46]=M):M=t[46],M}const Bze=dY(function(t){"use forget";const{clientBootstrap:n,cspScriptNonce:r,dd:i,statsigGateEvaluationsPromise:s,promoteCss:o,disableSSR:a}=zS();{xr.setGlobalContextProperty("cluster",n.cluster),V.addFeatureFlagEvaluation("promote_css",o),V.addFeatureFlagEvaluation("disable_ssr",!!a);for(const[w,E]of Object.entries(n.session?.rumViewTags??{}))xr.setViewContextProperty(w,E)}const l=p.useCallback(()=>{const w=Lt()??TD();return yY(w,n),w},[n]),[c,u]=p.useState(()=>l());c||(V.addError(new Error("Context not generated during intialization.")),u(l()));const d=Wa(c);p.useEffect(()=>{Q4e(c)},[c]),NQ(),p.useEffect(()=>{qRe(),MRe(c),ORe().then(w=>{if("pageIdle"in w&&V.addFirstTiming("pageLoad.pageIdle",performance.timeOrigin+w.pageIdle),"time"in w&&w.time!=null){const E=w.time,T=IRe(E);V.addFirstTiming("pageLoad.lastMutation",performance.timeOrigin+E),V.addAction("pageLoad.lastMutation",w),vt.logEvent("chatgpt_web_last_mutation_time",void 0,{raw_duration_ms:String(E),trimmed_duration_ms:String(T)})}else V.addAction("pageLoad.withoutTiming",w);if("mutationsBeforeIdleList"in w)for(const E of w.mutationsBeforeIdleList)V.addAction("pageLoad.mutation",E)}),XRe(c)},[c]);const{staticQueries:f,promiseQueries:h}=HRe(),m=p.useMemo(()=>({queries:[...f],mutations:[]}),[f]);QRe(d,h);const v=rg().map(w=>w.id),[_]=p.useState(()=>{{xD(d,m),CSe(c,d),mSe(c,n,d),s.then(w=>{for(const[E,T]of Object.entries(w))V.addFeatureFlagEvaluation(E,T)});try{RRe(v)}catch(w){V.addError(w)}}return!0}),{pathname:y}=Hr(),b=y.startsWith("/search"),C=jo(c),S=mi(c).checkGate("1536947154"),x=!!a;return g.jsx(pY,{sessionContext:c,children:g.jsx(ZRe,{lang:n.locale,isIos:n.isIos,isAndroidChrome:n.isAndroidChrome,isElectron:n.isElectron,isEdgeToEdge:S,isOrla:C,isSearchPage:b,cspScriptNonce:r,ddTraceMetadata:i,windowStyle:n.windowStyle,isContainerOTR:n.isContainerOTR,pathname:y,children:g.jsx(aSe,{children:g.jsx(M4e,{attribute:"class",children:g.jsx(JRe,{disableSSR:x,children:g.jsxs(aY,{client:d,children:[g.jsx(Yie,{cspScriptNonce:r}),g.jsx(lY,{state:m,children:g.jsx(uRe,{children:g.jsx(cY,{})})})]})})})})})})});function JRe(e){"use forget";const t=Re.c(4),{children:n,disableSSR:r}=e;if(!r){let s;return t[0]!==n?(s=g.jsx(g.Fragment,{children:n}),t[0]=n,t[1]=s):s=t[1],s}let i;return t[2]!==n?(i=g.jsx(NU,{fallback:null,children:n}),t[2]=n,t[3]=i):i=t[3],i}const QRe=YRe;function XRe(e){ise(e).composer.autofocusDisabled$()&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{const n=document.querySelector("h1")??gSe({root:document.body});n instanceof HTMLElement&&typeof n.focus=="function"&&n.focus()})})}export{mt as $,Ke as A,un as B,Bo as C,D1e as D,L1e as E,nF as F,pn as G,Ae as H,gd as I,Qa as J,Ige as K,qt as L,Zte as M,Sn as N,WPe as O,K as P,A6e as Q,he as R,Bf as S,Ee as T,mc as U,Wt as V,Yu as W,Cje as X,xje as Y,ut as Z,U3e as _,Lj as a,sSe as a$,V as a0,jf as a1,g9 as a2,ew as a3,Ug as a4,Oz as a5,_0 as a6,_9 as a7,Ame as a8,Fme as a9,tn as aA,td as aB,Ol as aC,Ps as aD,UNe as aE,zo as aF,$t as aG,bg as aH,Pi as aI,tee as aJ,Wg as aK,wm as aL,Ph as aM,Vg as aN,R6e as aO,om as aP,LTe as aQ,zqe as aR,bPe as aS,vs as aT,xX as aU,IPe as aV,CX as aW,zj as aX,GNe as aY,vve as aZ,J6e as a_,Ime as aa,Ume as ab,aw as ac,Ni as ad,lw as ae,bj as af,Ys as ag,Oj as ah,rw as ai,C1e as aj,Sw as ak,O3e as al,R3e as am,cw as an,Iqe as ao,OBe as ap,vt as aq,gFe as ar,rV as as,Ln as at,W3e as au,aF as av,Eg as aw,ye as ax,$Ue as ay,Kme as az,zg as b,vB as b$,mne as b0,nu as b1,BTe as b2,Vt as b3,one as b4,B5e as b5,qoe as b6,KPe as b7,is as b8,u1e as b9,oPe as bA,hPe as bB,IRe as bC,Sh as bD,eee as bE,gc as bF,Kt as bG,et as bH,Rw as bI,n0 as bJ,NB as bK,Pw as bL,PB as bM,P5e as bN,wCe as bO,$9 as bP,br as bQ,dn as bR,mi as bS,e6e as bT,Gr as bU,In as bV,TNe as bW,pT as bX,Z4 as bY,Uo as bZ,R9 as b_,mLe as ba,nh as bb,CDe as bc,Fh as bd,Rl as be,XIe as bf,Qh as bg,t6e as bh,an as bi,vw as bj,$qe as bk,QUe as bl,xt as bm,FDe as bn,jDe as bo,Ig as bp,bf as bq,Of as br,rne as bs,Ve as bt,ese as bu,Cze as bv,BS as bw,_f as bx,EV as by,og as bz,OU as c,Kb as c$,jj as c0,MNe as c1,dh as c2,UF as c3,kB as c4,pd as c5,ys as c6,Ri as c7,An as c8,zPe as c9,p1e as cA,b9 as cB,Gh as cC,ULe as cD,MCe as cE,pCe as cF,cBe as cG,w9 as cH,Sd as cI,KCe as cJ,ar as cK,pV as cL,q as cM,jH as cN,sDe as cO,cB as cP,CCe as cQ,r6e as cR,Ng as cS,yf as cT,yCe as cU,xCe as cV,ONe as cW,Lne as cX,Dne as cY,KUe as cZ,Kte as c_,qPe as ca,L4 as cb,Oh as cc,fF as cd,tc as ce,yte as cf,PF as cg,NF as ch,DF as ci,xte as cj,LF as ck,dF as cl,FF as cm,jF as cn,BF as co,Ate as cp,vSe as cq,uPe as cr,hv as cs,vM as ct,m6e as cu,bDe as cv,oue as cw,el as cx,LI as cy,Cc as cz,vK as d,qwe as d$,Rp as d0,Bt as d1,Iw as d2,fn as d3,S1e as d4,A3e as d5,Wi as d6,NPe as d7,DPe as d8,QX as d9,jae as dA,ABe as dB,eN as dC,bE as dD,Mt as dE,g6 as dF,l6e as dG,Kwe as dH,Ho as dI,Va as dJ,pr as dK,ct as dL,yqe as dM,q5e as dN,kie as dO,z5e as dP,NBe as dQ,CV as dR,H5e as dS,N6e as dT,Xg as dU,wge as dV,nn as dW,bh as dX,Dg as dY,GFe as dZ,NU as d_,jPe as da,XX as db,ic as dc,gs as dd,pi as de,F$ as df,u9e as dg,E1e as dh,Zg as di,tB as dj,Cw as dk,Rh as dl,dw as dm,x3e as dn,Ja as dp,Ju as dq,Pg as dr,tOe as ds,NS as dt,Qqe as du,wn as dv,mUe as dw,GX as dx,pDe as dy,mDe as dz,pe as e,_U as e$,tPe as e0,Mu as e1,L$ as e2,Tqe as e3,Jw as e4,XMe as e5,H9 as e6,Zqe as e7,Ih as e8,nDe as e9,od as eA,$De as eB,JDe as eC,Ym as eD,Mz as eE,Yue as eF,xY as eG,XDe as eH,AIe as eI,Pr as eJ,sMe as eK,Gve as eL,FX as eM,Ch as eN,z9 as eO,pBe as eP,o0 as eQ,Vw as eR,zs as eS,gU as eT,_te as eU,w4 as eV,Vu as eW,vF as eX,S4 as eY,Th as eZ,vU as e_,rDe as ea,iDe as eb,qY as ec,ZS as ed,$g as ee,Coe as ef,mCe as eg,im as eh,Kz as ei,XFe as ej,tCe as ek,za as el,RLe as em,VUe as en,zr as eo,tl as ep,HUe as eq,E9 as er,LLe as es,Q1e as et,qz as eu,YLe as ev,Zh as ew,kh as ex,yV as ey,$F as ez,_o as f,VU as f$,D6e as f0,TV as f1,G5e as f2,j5e as f3,Xoe as f4,eae as f5,Nde as f6,mge as f7,W5e as f8,Bh as f9,Hn as fA,Lt as fB,Sje as fC,He as fD,Cde as fE,aV as fF,$W as fG,pf as fH,N$ as fI,Gj as fJ,Go as fK,kt as fL,fi as fM,Tge as fN,kLe as fO,i4 as fP,PQ as fQ,pLe as fR,Wqe as fS,fLe as fT,ZX as fU,a6e as fV,l5e as fW,o6e as fX,vCe as fY,tNe as fZ,eUe as f_,Rne as fa,Nh as fb,$5e as fc,nr as fd,Moe as fe,oh as ff,nFe as fg,h6e as fh,u6e as fi,ww as fj,Ow as fk,rFe as fl,fK as fm,QF as fn,m9e as fo,Nne as fp,_Pe as fq,AUe as fr,Wve as fs,QDe as ft,bV as fu,ALe as fv,qn as fw,Gje as fx,Tje as fy,Ije as fz,ln as g,RPe as g$,tUe as g0,TUe as g1,qUe as g2,pM as g3,UUe as g4,zUe as g5,KBe as g6,$Be as g7,YBe as g8,qBe as g9,xB as gA,Mi as gB,lFe as gC,J0e as gD,iLe as gE,O$ as gF,Dr as gG,MUe as gH,RUe as gI,IT as gJ,xue as gK,RX as gL,HFe as gM,VFe as gN,Mbe as gO,OQ as gP,hie as gQ,boe as gR,r6 as gS,Vz as gT,XUe as gU,ewe as gV,LPe as gW,BPe as gX,PPe as gY,FPe as gZ,Bl as g_,RBe as ga,PBe as gb,INe as gc,Zve as gd,nUe as ge,y4 as gf,CPe as gg,$Fe as gh,RD as gi,Lz as gj,RH as gk,vae as gl,bB as gm,iB as gn,D8 as go,SNe as gp,Ire as gq,CNe as gr,Mre as gs,wNe as gt,bNe as gu,ADe as gv,sg as gw,uDe as gx,ed as gy,R6 as gz,$e as h,dd as h$,fqe as h0,jUe as h1,j6e as h2,oqe as h3,Yse as h4,U5e as h5,GF as h6,cs as h7,Pe as h8,YPe as h9,iCe as hA,Ude as hB,DNe as hC,sNe as hD,uue as hE,o2e as hF,$a as hG,Bs as hH,ZH as hI,yje as hJ,_je as hK,u0 as hL,tFe as hM,Zu as hN,gm as hO,hMe as hP,zNe as hQ,Q$ as hR,dce as hS,gce as hT,hce as hU,pce as hV,rce as hW,GPe as hX,vze as hY,aae as hZ,Eoe as h_,zF as ha,ip as hb,pze as hc,pNe as hd,mB as he,_V as hf,Au as hg,qse as hh,_ze as hi,As as hj,yve as hk,QCe as hl,ZCe as hm,XCe as hn,YCe as ho,JCe as hp,Vh as hq,cr as hr,YDe as hs,G1e as ht,P1e as hu,S9 as hv,R1e as hw,N1e as hx,U1e as hy,Bz as hz,_n as i,CE as i$,Lo as i0,JNe as i1,$U as i2,Fje as i3,ANe as i4,Q9 as i5,dje as i6,V3e as i7,Rje as i8,aje as i9,yze as iA,VIe as iB,tne as iC,vY as iD,mj as iE,KX as iF,Uoe as iG,kw as iH,WUe as iI,iE as iJ,lue as iK,EDe as iL,uF as iM,Kw as iN,LU as iO,UY as iP,fae as iQ,pae as iR,jBe as iS,v6e as iT,lqe as iU,cFe as iV,jr as iW,Ck as iX,YS as iY,Kl as iZ,jl as i_,jje as ia,Xfe as ib,nse as ic,mY as id,Nje as ie,vje as ig,fze as ih,cDe as ii,Uje as ij,kde as ik,HN as il,YW as im,sCe as io,B4 as ip,GU as iq,i6 as ir,I5e as is,aPe as it,sqe as iu,BH as iv,KFe as iw,dze as ix,Kg as iy,bze as iz,je as j,J9 as j$,yc as j0,Qw as j1,tse as j2,j$ as j3,_Fe as j4,aDe as j5,lUe as j6,Wa as j7,vle as j8,gDe as j9,yE as jA,zL as jB,_X as jC,yX as jD,gPe as jE,mPe as jF,fPe as jG,VNe as jH,IU as jI,Ne as jJ,Hb as jK,Uf as jL,mBe as jM,gBe as jN,mS as jO,fje as jP,uje as jQ,y0 as jR,WCe as jS,KH as jT,WH as jU,r3e as jV,gje as jW,Pje as jX,bT as jY,RNe as jZ,bLe as j_,vce as ja,yce as jb,_ce as jc,mce as jd,gue as je,QFe as jf,Qte as jg,UDe as jh,mue as ji,xa as jj,R5e as jk,JS as jl,Mze as jm,$n as jn,$Ne as jo,WNe as jp,pwe as jq,ZPe as jr,wLe as js,ELe as jt,SLe as ju,$z as jv,RQ as jw,KDe as jx,cze as jy,Cg as jz,Fj as k,dae as k$,lV as k0,lLe as k1,uae as k2,Ere as k3,vj as k4,MX as k5,uNe as k6,vNe as k7,Bde as k8,Ha as k9,oNe as kA,XPe as kB,a3e as kC,lje as kD,cje as kE,Dze as kF,Pze as kG,nNe as kH,HL as kI,lDe as kJ,RV as kK,IMe as kL,kMe as kM,k3e as kN,vd as kO,dDe as kP,jNe as kQ,Wr as kR,ti as kS,JFe as kT,M0 as kU,__e as kV,Jve as kW,qCe as kX,Zje as kY,jh as kZ,Wue as k_,i6e as ka,H0e as kb,K0e as kc,VPe as kd,Gqe as ke,ene as kf,pne as kg,iSe as kh,Xte as ki,Mqe as kj,Pne as kk,qDe as kl,lu as km,E6e as kn,x6e as ko,DUe as kp,eNe as kq,AFe as kr,tAe as ks,Vqe as kt,DDe as ku,jqe as kv,Bqe as kw,Rqe as kx,Ag as ky,QPe as kz,es as l,hCe as l$,e0 as l0,W1e as l1,K1e as l2,b0 as l3,$Le as l4,JLe as l5,XLe as l6,QLe as l7,zMe as l8,$Oe as l9,sFe as lA,oFe as lB,Ege as lC,UG as lD,lae as lE,bqe as lF,Cqe as lG,Vwe as lH,xu as lI,mae as lJ,Z0e as lK,JA as lL,$0e as lM,PRe as lN,JUe as lO,jge as lP,mFe as lQ,BBe as lR,_1e as lS,KRe as lT,dY as lU,IUe as lV,Uqe as lW,qqe as lX,S0 as lY,loe as lZ,Ro as l_,DS as la,lD as lb,Fo as lc,cp as ld,cde as le,X9 as lf,Jh as lg,Sze as lh,lPe as li,zje as lj,xge as lk,nze as ll,go as lm,X4e as ln,ise as lo,Dt as lp,WW as lq,rze as lr,kge as ls,TLe as lt,R7 as lu,Nze as lv,Aq as lw,vLe as lx,CLe as ly,_Le as lz,Wwe as m,FLe as m$,gr as m0,wFe as m1,u2e as m2,QIe as m3,jW as m4,FW as m5,Pqe as m6,Kr as m7,Lqe as m8,RW as m9,NUe as mA,d1e as mB,SE as mC,Bse as mD,TPe as mE,eMe as mF,z1 as mG,IIe as mH,Lwe as mI,L7 as mJ,yB as mK,tqe as mL,iqe as mM,g5e as mN,J1e as mO,tMe as mP,FNe as mQ,Qie as mR,HF as mS,zBe as mT,uze as mU,v1e as mV,ine as mW,m1e as mX,pMe as mY,nne as mZ,jLe as m_,tTe as ma,wTe as mb,Nqe as mc,gCe as md,wwe as me,MPe as mf,C_e as mg,y_e as mh,hd as mi,Vf as mj,rLe as mk,wje as ml,gre as mm,VX as mn,HX as mo,U$ as mp,d9e as mq,t9e as mr,YUe as ms,pu as mt,LW as mu,Hqe as mv,rwe as mw,Ac as mx,LX as my,PUe as mz,VT as n,Oie as n$,Bae as n0,YNe as n1,d6e as n2,F5e as n3,U4 as n4,DX as n5,kBe as n6,k1e as n7,Pj as n8,Jj as n9,ECe as nA,Yte as nB,wze as nC,fc as nD,qp as nE,UD as nF,Lze as nG,Fze as nH,jze as nI,Bze as nJ,yu as nK,X1e as nL,SBe as nM,HDe as nN,L3e as nO,UPe as nP,ije as nQ,qH as nR,nTe as nS,LUe as nT,_6e as nU,RT as nV,zy as nW,lwe as nX,qje as nY,oLe as nZ,c1e as n_,HNe as na,Oqe as nb,BLe as nc,v_e as nd,Aue as ne,tje as nf,cMe as ng,Kqe as nh,Yqe as ni,oDe as nj,jz as nk,hNe as nl,V5e as nm,FBe as nn,GBe as no,sS as np,I5 as nq,hze as nr,eFe as ns,xMe as nt,sUe as nu,ZLe as nv,c5e as nw,Nse as nx,cwe as ny,vPe as nz,vre as o,Mje as o$,ENe as o0,pPe as o1,Cse as o2,cCe as o3,kNe as o4,UU as o5,VDe as o6,BU as o7,YX as o8,xNe as o9,be as oA,Bne as oB,XF as oC,M1e as oD,g1e as oE,C9 as oF,Pz as oG,Sre as oH,yNe as oI,Ize as oJ,kze as oK,Tze as oL,Oze as oM,Aze as oN,BUe as oO,OD as oP,N0 as oQ,B6e as oR,eDe as oS,tDe as oT,V4 as oU,FMe as oV,La as oW,P6e as oX,pje as oY,UI as oZ,p3e as o_,Mie as oa,Xwe as ob,sre as oc,uT as od,Ji as oe,WLe as of,w5e as og,Dz as oh,DRe as oi,PW as oj,Fa as ok,iRe as ol,Ew as om,eqe as on,Ls as oo,Ah as op,Eje as oq,cn as or,sne as os,mX as ot,l9e as ou,aLe as ov,zX as ow,qX as ox,UX as oy,De as oz,Qe as p,YOe as p$,Aje as p0,mje as p1,bBe as p2,MU as p3,uBe as p4,_ie as p5,qg as p6,hw as p7,coe as p8,QNe as p9,PT as pA,zDe as pB,Ore as pC,gNe as pD,mNe as pE,kre as pF,aqe as pG,tLe as pH,Fse as pI,yPe as pJ,KNe as pK,h9e as pL,xUe as pM,DBe as pN,IBe as pO,MBe as pP,wUe as pQ,LBe as pR,CUe as pS,RTe as pT,$Pe as pU,Oje as pV,Ml as pW,j4 as pX,CS as pY,sLe as pZ,eLe as p_,G3e as pa,Lje as pb,Bje as pc,m6 as pd,So as pe,Roe as pf,Sc as pg,qLe as ph,zLe as pi,GLe as pj,dCe as pk,Yje as pl,Aoe as pm,cUe as pn,dUe as po,Lse as pp,v6 as pq,Aqe as pr,DLe as ps,aBe as pt,_Be as pu,yBe as pv,ghe as pw,qa as px,k1 as py,vue as pz,rF as q,WFe as q$,XN as q0,gV as q1,yoe as q2,sB as q3,n3e as q4,rS as q5,hUe as q6,EUe as q7,Jte as q8,SV as q9,FFe as qA,BFe as qB,UFe as qC,MFe as qD,qFe as qE,IFe as qF,wqe as qG,NX as qH,kPe as qI,PX as qJ,I$ as qK,_De as qL,Wte as qM,ose as qN,Nge as qO,Wz as qP,xFe as qQ,uFe as qR,f1e as qS,kqe as qT,ILe as qU,Cue as qV,Kse as qW,_7e as qX,mze as qY,gze as qZ,vMe as q_,aSe as qa,f_e as qb,fUe as qc,AMe as qd,vme as qe,Ss as qf,wfe as qg,bq as qh,uLe as qi,K5e as qj,WBe as qk,rUe as ql,ZBe as qm,gUe as qn,vUe as qo,_Ue as qp,iUe as qq,hX as qr,zFe as qs,ca as qt,Uz as qu,bc as qv,NFe as qw,PFe as qx,DFe as qy,LFe as qz,jo as r,F4e as r$,aUe as r0,oUe as r1,Zue as r2,o1e as r3,bme as r4,xLe as r5,IA as r6,Qme as r7,OLe as r8,Y9 as r9,Xqe as rA,xz as rB,fNe as rC,dNe as rD,eze as rE,JPe as rF,dqe as rG,nLe as rH,nqe as rI,rqe as rJ,owe as rK,Sqe as rL,p9e as rM,FUe as rN,F1e as rO,j1e as rP,fw as rQ,hoe as rR,aoe as rS,mr as rT,Js as rU,on as rV,Br as rW,YFe as rX,iM as rY,LIe as rZ,hBe as r_,Xn as ra,$je as rb,zH as rc,Jje as rd,VLe as re,sje as rf,BCe as rg,UCe as rh,_re as ri,aFe as rj,Ef as rk,rNe as rl,HLe as rm,EBe as rn,iFe as ro,_me as rp,kUe as rq,Hje as rr,QBe as rs,hje as rt,Jqe as ru,gLe as rv,cqe as rw,vwe as rx,uqe as ry,tze as rz,Yw as s,CFe as s$,k$ as s0,ZDe as s1,P$ as s2,a5e as s3,UBe as s4,JBe as s5,pUe as s6,yUe as s7,bUe as s8,Eqe as s9,i9e as sA,o9e as sB,B$ as sC,ODe as sD,jX as sE,TBe as sF,RDe as sG,IDe as sH,MDe as sI,NDe as sJ,Gue as sK,_Ne as sL,BDe as sM,PDe as sN,VBe as sO,Bp as sP,hFe as sQ,OFe as sR,pve as sS,SFe as sT,TFe as sU,kFe as sV,R1 as sW,pFe as sX,qge as sY,vFe as sZ,fFe as s_,xqe as sa,RFe as sb,jFe as sc,_6 as sd,QMe as se,Ea as sf,EFe as sg,uUe as sh,rG as si,Mte as sj,HPe as sk,UH as sl,TCe as sm,OCe as sn,ACe as so,rje as sp,V9 as sq,a2e as sr,lCe as ss,RCe as st,PCe as su,FI as sv,DCe as sw,yFe as sx,Ms as sy,Uu as sz,j4e as t,Ez as t$,dFe as t0,bFe as t1,KLe as t2,yS as t3,Vje as t4,TDe as t5,oBe as t6,FCe as t7,p5e as t8,d2e as t9,Rze as tA,ZUe as tB,Hg as tC,Jie as tD,Qse as tE,P6 as tF,GDe as tG,v1 as tH,Dqe as tI,V1 as tJ,B0 as tK,EE as tL,G9e as tM,AEe as tN,iNe as tO,XNe as tP,fne as tQ,ba as tR,js as tS,Ru as tT,ot as tU,ui as tV,mO as tW,bhe as tX,afe as tY,JX as tZ,Wn as t_,vqe as ta,OUe as tb,Swe as tc,Td as td,mqe as te,gqe as tf,_qe as tg,pqe as th,hqe as ti,cLe as tj,Hfe as tk,p0 as tl,ohe as tm,dLe as tn,ci as to,Ot as tp,Am as tq,Kde as tr,e9 as ts,l8e as tt,Eke as tu,TEe as tv,yLe as tw,Twe as tx,Eze as ty,APe as tz,lMe as u,PLe as u$,Lfe as u0,wu as u1,hLe as u2,nme as u3,Jpe as u4,Zf as u5,kz as u6,sPe as u7,xze as u8,zde as u9,aue as uA,nCe as uB,xDe as uC,sF as uD,vBe as uE,CBe as uF,WDe as uG,B1e as uH,q1e as uI,z1e as uJ,BX as uK,f3e as uL,uV as uM,Kue as uN,oje as uO,nBe as uP,x5e as uQ,v5e as uR,f5e as uS,h5e as uT,dBe as uU,y5e as uV,Nz as uW,fBe as uX,wBe as uY,i3e as uZ,s3e as u_,up as ua,fie as ub,bje as uc,OPe as ud,WX as ue,$X as uf,ZW as ug,ize as uh,lze as ui,oze as uj,ei as uk,vIe as ul,eK as um,jS as un,aze as uo,YN as up,XAe as uq,sze as ur,WAe as us,KN as ut,WN as uu,EAe as uv,mf as uw,pue as ux,LDe as uy,DU as uz,xn as v,l4 as v$,lBe as v0,NLe as v1,Kje as v2,Wje as v3,kDe as v4,sBe as v5,MLe as v6,iBe as v7,rBe as v8,a9e as v9,Dje as vA,doe as vB,$ve as vC,o3e as vD,ZNe as vE,Cs as vF,kje as vG,Jz as vH,qMe as vI,cie as vJ,rB as vK,goe as vL,ioe as vM,eje as vN,AQ as vO,dPe as vP,DL as vQ,xL as vR,kL as vS,ls as vT,Fn as vU,t1 as vV,vh as vW,pg as vX,ku as vY,Ue as vZ,cg as v_,SDe as va,PNe as vb,$ie as vc,cPe as vd,SUe as ve,zoe as vf,yDe as vg,Xje as vh,eBe as vi,tBe as vj,Qje as vk,wDe as vl,Bj as vm,Hne as vn,aNe as vo,lNe as vp,cNe as vq,HBe as vr,EPe as vs,IX as vt,wPe as vu,OX as vv,SPe as vw,cue as vx,f8 as vy,xPe as vz,On as w,ur as w0,lr as w1,Vr as w2,XBe as w3,d_e as w4,nje as w5,xBe as w6,Fqe as w7,yre as x,F4 as y,ke as z};
//# sourceMappingURL=dmck639k4dv7claj.js.map

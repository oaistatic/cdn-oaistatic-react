import{i4 as c,m,ie as g,i3 as f,bh as h,e as p,G as S,ot as d,L as l,V as u,aF as z,T as V}from"./dmck639k4dv7claj.js";import{r as o}from"./cs7toih8jegb7teq.js";import{c8 as y}from"./hnw079jsdm76umup.js";function H(){const t=h(),a=p(),e=S(a);return t&&!d(t)&&e?.isEnterprisey()}function T(){return c(m.ChartSerialization)}function v(t,a){const e=t==="chart"?l.HasSeenAdaInteractiveChart:l.HasSeenAdaInteractiveTable,[i,n]=o.useState(u.getItem(e,{userId:a})??!1),s=o.useCallback(()=>{n(!0),u.setItem(e,!0,{userId:a})},[e,a]);return[i,s]}function C(t){const[a,e]=o.useState([]),i=z(t,V.getBranch);return o.useEffect(()=>{const n=b(i);n.length!==a.length&&e(n)},[a.length,t,i]),a}function _(t){const a=t.metadata?.aggregate_result?.messages.filter(y)??[];let e=0;const i=(t.metadata?.ada_visualizations??[]).map(s=>{let r=s;return s.type=="chart"&&(r={...s,fallback_image:a[e++]}),r}),n=(t.metadata?.attachments??[]).filter(s=>g(s.name)).map(s=>({type:"table",file_id:s.id??"",title:f(s),file_name:s.name,context_connector_info:s.context_connector_info}));return[...i,...n]}function b(t){return t.filter(e=>e.message?.author.role==="tool"&&e.message?.author.name==="python"||(e.message?.metadata?.attachments??[]).length>0).flatMap(e=>_(e.message))}export{C as a,H as b,v as c,_ as g,T as u};
//# sourceMappingURL=obbtqvjhg25u2clv.js.map

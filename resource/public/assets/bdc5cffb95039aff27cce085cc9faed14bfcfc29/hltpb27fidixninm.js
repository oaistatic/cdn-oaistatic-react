import{e as S,r as g,j as t,m as u,A as _,d as U}from"./cs7toih8jegb7teq.js";import{u as z,d as I,P as m,b3 as R,e as W,aG as $,c3 as B,z as h,B as j,t as q}from"./dmck639k4dv7claj.js";import{S as F}from"./gfoa9pl75c877lkp.js";import{j9 as G,jv as V,jw as H,mK as K}from"./hnw079jsdm76umup.js";import{s as w,R as J}from"./lxoxtbdwug1cvduy.js";import{s as Q}from"./l2l4d2d2bzani7km.js";const X="{{.assetPrefix}}/assets/check-ic8w9al5.webp",Y={src:X},Z="{{.assetPrefix}}/assets/prompt_tour_bg_1-iuffr7bz.webp",tt={src:Z},et="{{.assetPrefix}}/assets/prompt_tour_bg_1_dark-np9f86bj.webp",st={src:et},at="{{.assetPrefix}}/assets/redesign_house-j7tyooum.webp",it={src:at},ot="{{.assetPrefix}}/assets/sms-iu0m1fyn.webp",rt={src:ot},nt="{{.assetPrefix}}/assets/static_onboarding_bg_1-ecvwtnea.webp",ct={src:nt},lt="{{.assetPrefix}}/assets/static_onboarding_bg_2-j383egmg.webp",dt={src:lt},pt="{{.assetPrefix}}/assets/static_onboarding_bg_3-ooawgpki.webp",E={src:pt},gt="{{.assetPrefix}}/assets/static_onboarding_bg_3_dark-c2x8mkcs.webp",mt={src:gt},ut="{{.assetPrefix}}/assets/static_onboarding_bg_all_set-gymwu5pk.webp",bt={src:ut},a=U({title:{id:"static-new-user-onboarding.title",defaultMessage:"Welcome to ChatGPT"},askAnythingTitle:{id:"static-new-user-onboarding.ask-anything.title",defaultMessage:"Ask anything"},askAnythingDescription:{id:"static-new-user-onboarding.ask-anything.description",defaultMessage:"From quick questions to big ideas, ChatGPT is here to help."},askAnythingPrompt:{id:"static-new-user-onboarding.ask-anything.prompt-2",defaultMessage:"Help me build a morning routine to start my day with more focus"},pictureThisTitle:{id:"static-new-user-onboarding.picture-this.title-2",defaultMessage:"Create images"},pictureThisDescription:{id:"static-new-user-onboarding.picture-this.description",defaultMessage:"Describe an idea and watch it come to life, or edit your photos with just a phrase."},pictureThisPrompt:{id:"static-new-user-onboarding.picture-this.prompt-2",defaultMessage:"Redesign this room with new paint and furniture"},pictureThisLongPrompt:{id:"static-new-user-onboarding.picture-this.long-prompt-2",defaultMessage:"Redesign this room with new paint and furniture. I'll attach the photo of the room."},easyUploadsTitle:{id:"static-new-user-onboarding.easy-uploads.title-2",defaultMessage:"Chat about images or files"},easyUploadsDescription:{id:"static-new-user-onboarding.easy-uploads.description",defaultMessage:"Get instant summaries or analysis by uploading images and documents."},easyUploadsPrompt:{id:"static-new-user-onboarding.easy-uploads.prompt-2",defaultMessage:"Look at this screenshot. Do you think it’s a scam or a phishing attempt?"},easyUploadsPromptLong:{id:"static-new-user-onboarding.easy-uploads.prompt-long-2",defaultMessage:"Look at this screenshot. Do you think it’s a scam or a phishing attempt? I'll attach the screenshot."},tryIt:{id:"static-new-user-onboarding.try-it",defaultMessage:"Try it"},next:{id:"static-new-user-onboarding.next",defaultMessage:"Next"},close:{id:"static-new-user-onboarding.close",defaultMessage:"Close"},screenshot:{id:"static-new-user-onboarding.screenshot",defaultMessage:"Screenshot"},quickHeadsup:{id:"static-new-user-onboarding.quick-headsup",defaultMessage:"A quick heads up"},startTour:{id:"static-new-user-onboarding.start-tour",defaultMessage:"Start Tour"}}),O="static-onboarding.all-set";function ht({prompt:x,onSubmit:s}){const o=S();return t.jsxs("span",{className:"group bg-token-bg-elevated-primary border-token-border-light inline-flex items-end justify-center gap-3 self-stretch rounded-3xl border p-3 ps-4 shadow-xl backdrop-blur-[20px]",onClick:()=>{m.logEventWithStatsig("Onboarding Click Composer","chatgpt_onboarding_flow_click_composer")},children:[t.jsx("span",{className:"text-token-text-primary flex-1 justify-end text-start text-sm leading-tight font-normal opacity-65 duration-300 sm:group-hover:opacity-100",children:x}),t.jsx(j,{icon:F,size:"small",label:o.formatMessage(w.tryNow),onClick:c=>{s(c),m.logEventWithStatsig("Onboarding Click Composer Submit","chatgpt_onboarding_flow_click_composer_submit")},className:"h-7 w-7 transition-all duration-300 sm:opacity-65 sm:group-hover:opacity-100"})]})}function xt(x){const s=S(),o=q(),c=H(),f={id:O,bg:bt.src,title:s.formatMessage(w.allSet),description:t.jsx("span",{className:"text-token-text-secondary text-center text-base leading-6",children:t.jsx(J,{})}),hideSecondaryButton:!0,sticker:{image:Y.src,imageClassName:"w-24 h-24 rounded-2xl"}};return x==="PROMPTS"?[{id:"static-onboarding.see-what-chatgpt-can-do",bg:o?st.src:tt.src,title:s.formatMessage(w.promptOnboardingTitle),description:s.formatMessage(w.promptOnboardingSubtitle),sticker:{image:rt.src,imageClassName:"w-[140px] h-[140px] rounded-2xl"},hideSecondaryButton:!0},...c.slice(0,3).map(l=>({id:l.id??"",bgColor:l.accentColor,title:l.title,description:l.body,descriptionStyle:"composer",promptLong:l.prompt,sticker:{image:l.iconImageUrl,imageClassName:"w-[140px] h-[140px]"}})),{...f,bg:o?mt.src:E.src,sticker:void 0}]:[{id:"static-onboarding.ask-anything",bg:ct.src,prompt:s.formatMessage(a.askAnythingPrompt),title:s.formatMessage(a.askAnythingTitle),description:s.formatMessage(a.askAnythingDescription),sticker:{image:Q.src,imageClassName:"w-24 h-24 sm:w-28 sm:h-28 rotate-[-5deg] rounded-2xl absolute top-0 right-full translate-x-5 sm:translate-x-6 -translate-y-8"},bubbleClassName:"rotate-[-1deg]",className:"flex-row-reverse translate-x-3 sm:translate-x-4"},{id:"static-onboarding.picture-this",bg:dt.src,prompt:s.formatMessage(a.pictureThisPrompt),promptLong:s.formatMessage(a.pictureThisLongPrompt),title:s.formatMessage(a.pictureThisTitle),description:s.formatMessage(a.pictureThisDescription),sticker:{image:it.src,imageClassName:"w-24 h-24 origin-top-left rotate-[3.61deg] -translate-x-1.5 translate-y-4  rounded-3xl shadow-[0_4px_12px_rgba(0,0,0,0.2)]"},bubbleClassName:"rotate-[-1deg]"},{id:"static-onboarding.easy-uploads",bg:E.src,prompt:s.formatMessage(a.easyUploadsPrompt),promptLong:s.formatMessage(a.easyUploadsPromptLong),title:s.formatMessage(a.easyUploadsTitle),description:s.formatMessage(a.easyUploadsDescription),sticker:{icon:t.jsx(K,{}),text:s.formatMessage(a.screenshot)+".png"},className:"rotate-[1deg]"},f]}function St({clientThreadId:x}){const{isOpen:s,isLoading:o,closeModal:c,markAsViewed:f}=G(),{markAsViewed:l,eligible:N}=z(I.Onboarding),y=S(),v=V({clientThreadId:x}),C=g.useCallback(()=>{m.logEventWithStatsig("Onboarding Dismissed","chatgpt_onboarding_flow_dismissed"),c()},[c]),P=g.useCallback((n,b,i)=>{const p=i.promptLong??i.prompt;if(p)try{v({suggestedPrompt:{id:i.id,type:R.Starter,title:i.title??"",body:typeof i.description=="string"?i.description:"",prompt:p},index:b,isOnboarding:!0}),c(),m.logEventWithStatsig("Onboarding Try Prompt","chatgpt_onboarding_flow_try_prompt",{step_index:b,prompt_id:i.id})}catch(M){m.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{error:M instanceof Error?M.message:String(M)})}},[v,c]),A=W(),k=$(A,"109457",{disableExposureLog:!0}).get("feature_tour_slide_type","FEATURES"),d=xt(k);g.useEffect(()=>{const n=d.flatMap(i=>{const p=[];return i.bg&&p.push(i.bg),i.sticker?.image&&p.push(i.sticker.image),p});Array.from(new Set(n)).forEach(i=>{const p=new Image;p.src=i,p.decode?.().catch(()=>{})})},[d]);const[r,T]=g.useState(0);g.useEffect(()=>{s&&!o&&(f(),m.logEventWithStatsig("Onboarding Shown","chatgpt_onboarding_flow_shown"))},[s,o,f]),g.useEffect(()=>{s&&!o&&m.logEventWithStatsig("Onboarding Step Shown","chatgpt_onboarding_step_shown",{step_index:r})},[r,s,o]),g.useEffect(()=>{s&&!o&&d[r]?.id===O&&N&&l()},[r,s,o,l,d,N]);const D=g.useCallback(()=>{m.logEventWithStatsig("Onboarding Next","chatgpt_onboarding_flow_next_clicked",{step_index:r}),T(n=>Math.min(n+1,d.length-1))},[r,d.length]),L=g.useCallback(()=>{m.logEventWithStatsig("Onboarding Finished","chatgpt_onboarding_flow_finished"),c()},[c]);if(!s||o)return null;const e=d[r];return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-center",children:[t.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.35},className:"absolute inset-0 bg-black/60","aria-hidden":"true",onClick:C}),t.jsx(_,{mode:"wait",children:t.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35},className:"relative z-10 w-full sm:max-w-[480px]",style:{boxShadow:"0 10px 30px rgba(0,0,0,0.15)"},onClick:n=>n.stopPropagation(),children:t.jsxs("div",{className:"overflow-hidden rounded-t-3xl sm:rounded-3xl",children:[t.jsx("button",{type:"button","aria-label":y.formatMessage(a.close),onClick:C,className:"outline-token-border-xlight absolute end-3 top-3 z-20 rounded-full bg-white/30 p-2 shadow outline outline-1 backdrop-blur-md focus:ring-2 focus:ring-blue-500 focus:outline-none",children:t.jsx(B,{className:"icon text-black"})}),t.jsxs("div",{className:"bg-token-bg-primary pointer-events-none relative h-48 w-full select-none sm:h-52",children:[t.jsxs(_,{initial:!1,children:[e.bg&&t.jsx(u.img,{src:e.bg,alt:y.formatMessage(a.title),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0 h-full w-full rounded-t-3xl object-cover object-top"},e.bg),e.bgColor&&t.jsx(u.div,{className:"absolute inset-0",style:{background:e.bgColor},initial:{opacity:0},animate:{opacity:.1},exit:{opacity:0},transition:{duration:.5}},e.bgColor)]}),k==="PROMPTS"&&t.jsx("div",{className:"from-token-bg-primary absolute start-0 bottom-0 z-10 h-full w-full bg-gradient-to-t from-[0%] to-transparent to-[30%]"}),t.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center px-6 sm:px-8",children:t.jsx(_,{mode:"wait",children:t.jsxs(u.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:h("relative ms-1.5 flex max-w-[80%] sm:max-w-[70%]",e.sticker?.text?"flex-col items-end":"items-center",e.className),children:[e.sticker?.text&&t.jsx(u.div,{initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:"z-10 -translate-x-2 translate-y-1 rounded-full bg-white/80 px-3 py-1.5 text-sm shadow-lg backdrop-blur-md",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-base text-gray-800",children:[e.sticker.icon&&t.jsx("span",{children:e.sticker.icon}),t.jsx("span",{children:e.sticker.text})]})}),e.prompt&&t.jsx("div",{className:h("pointer-events-auto inline-block rounded-3xl px-4 py-3 leading-6 text-black shadow-lg backdrop-blur-sm supports-[backdrop-filter]:bg-white/80 sm:px-5 sm:py-4 sm:text-lg",e.bubbleClassName),children:e.prompt}),e.sticker?.image&&t.jsx(u.img,{src:e.sticker.image,alt:"",initial:{opacity:0,y:8,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.98},transition:{duration:.25},className:h(e.sticker.imageClassName??"h-16 w-16 -translate-x-3 rotate-10 rounded-2xl shadow-[0_4px_12px_rgba(0,0,0,0.2)]")})]},e.id)})})]}),t.jsxs("div",{className:h("bg-token-main-surface-primary flex flex-col justify-center px-8 pb-8",k==="PROMPTS"?"pt-0":"pt-6"),children:[t.jsx(_,{mode:"wait",children:t.jsxs(u.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,delay:.1},children:[t.jsx("h2",{className:h("text-token-text-primary mb-4 text-center",k==="PROMPTS"?"text-xl font-medium":"text-2xl font-semibold"),children:e.title}),t.jsx("p",{className:h("text-token-text-secondary mx-auto text-center text-base leading-6",k==="PROMPTS"?"min-h-[5rem]":"min-h-[4.5rem] max-w-[80%]"),children:e.descriptionStyle==="composer"?t.jsx(ht,{prompt:e.description,onSubmit:n=>P(n,r,e)}):e.description})]},e.id)}),t.jsx("div",{className:"my-6 flex items-center justify-center","aria-hidden":"true",children:d.map((n,b)=>t.jsx("button",{onClick:()=>T(b),className:"p-[3px]",children:t.jsx("div",{className:h("h-1.5 w-1.5 rounded-full transition-colors duration-300 ease-out",b===r?"bg-token-main-surface-primary-inverse":"bg-token-bg-secondary dark:bg-token-bg-tertiary")})},b))}),t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[!e.hideSecondaryButton&&(e.secondaryButton??t.jsx(j,{size:"large",color:"secondary",className:"flex-1",onClick:n=>P(n,r,e),children:y.formatMessage(a.tryIt)})),r<d.length-1?t.jsx(j,{size:"large",color:"primary",className:"flex-1",onClick:D,children:y.formatMessage(a.next)}):t.jsx(j,{size:"large",color:"primary",className:"flex-1",onClick:L,children:y.formatMessage(w.done)})]})]})]})})})]})}export{St as default};
//# sourceMappingURL=hltpb27fidixninm.js.map

import{lU as m,ft as p,gU as h,gV as c,aB as u,hP as f,S,R as l}from"./dmck639k4dv7claj.js";import{N as x,j as r,u as v,r as o}from"./cs7toih8jegb7teq.js";import{C}from"./dlvfyfqn731e6hy3.js";import"./hnw079jsdm76umup.js";import"./m45qhi5lpgsvsv3e.js";import"./lwh0wbmpf7uh5gaw.js";import"./nlxagrvvx9r77jf7.js";import"./gqxnaj28dwt74usv.js";import"./dfhgw8mxn1h3ecpw.js";import"./kizn5m1hr7kdjf9n.js";import"./nfubiloo9rdxk3kj.js";import"./lxgn8k46ba24438b.js";import"./k4ghje9xipg90eb2.js";import"./lox5zdwgg3gy3k4z.js";import"./itn5frgf3bcgdkwm.js";import"./hsurwbv79wrpc9dg.js";import"./k8zvpcbe8ny3hcd9.js";import"./cm813h9bptrniota.js";import"./mahhuo4zclh446vl.js";import"./l1m3l5lbmhuctzw6.js";import"./k3ulfqwluwevik5m.js";import"./oasstlv4rvegny2a.js";import"./m9o58vphd3ndk69b.js";function _(a){const e=a.sharedConversationId,{data:t,isError:i}=v({queryKey:[`shared-conversation/${e}`],queryFn:()=>l.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:e}}})}),[s]=o.useState(()=>p()),[n,d]=o.useState(!1);return o.useEffect(()=>{i&&(window.location.href=h(c.SHARE_NOT_FOUND))},[i]),o.useEffect(()=>{t&&s&&(u.updateThreadFromServer(s,t,{skipIfExisting:!0,continuingFromSharedConversationId:e}),d(!0))},[t,e,s]),n&&t?r.jsx(f.Provider,{value:{serverSharedThreadId:a.sharedConversationId},children:r.jsx(C,{...a.chatPageProps,clientThreadId:s})}):r.jsx("div",{className:"flex h-full items-center justify-center",children:r.jsx(S,{className:"text-token-text-tertiary"})})}const M=m(function(){const{sharedConversationId:e,...t}=x();return r.jsx(_,{...t,sharedConversationId:e})});export{M as default};
//# sourceMappingURL=fpt0bjqjhpxz1ziy.js.map

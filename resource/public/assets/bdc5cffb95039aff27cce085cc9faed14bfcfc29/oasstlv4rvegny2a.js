const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jtjkr1s3xfzigp3m.js","assets/cs7toih8jegb7teq.js","assets/dmck639k4dv7claj.js","assets/root-mdlgku96.css","assets/n4583mr0plrji70e.js","assets/ntai8lxhogp2s56x.js","assets/l2l4d2d2bzani7km.js","assets/hnw079jsdm76umup.js","assets/conversation-small-b5ztx8w5.css"])))=>i.map(i=>d[i]);
import{a as me,e as V,r as O,j as t,A as be,m as de,c as k,M as z,f as At,d as Dt,R as le}from"./cs7toih8jegb7teq.js";import{j as Ft,is as ye,ip as Gt,hT as Ut,it as $t,ot as Rt,ou as qt,qo as Ht,kM as Vt,qp as He,qq as Wt,eR as Ve,bz as Kt,qr as Qt,qs as Xt,hZ as q,Z as Zt,qt as Yt,qu as Jt,hz as es,qv as ts,b2 as ss,qw as os,qx as ke,eB as ns,iu as is,il as as,ff as rs,qy as We,qz as Ke,P as te,qA as ls,qB as cs,qC as Qe,qD as Ie,qE as Xe,qF as ds,qG as us,by as ms,qH as Ze,qI as fs,qJ as ue,qK as gs,qL as hs,qM as ps,qN as xs,N as Ye,t as Je,y as bs,hV as Ss,f9 as js,qO as vs,qP as ys,a2 as Cs,a3 as ws,qQ as Le,qR as Ns,qS as Ts,bh as ks,qT as Is,qU as Ms,qV as _s,n as Ps,qW as et,qf as zs,q as Es,l3 as Ls,qX as Os,qY as Bs,qZ as As,q_ as Oe,q$ as Ds,r0 as Fs,r1 as Gs,r2 as Us,r3 as $s,r4 as Rs,r5 as qs,r6 as Hs,kK as Vs,r7 as Ws,r8 as Ks,r9 as Qs,ra as Xs,kP as Zs}from"./hnw079jsdm76umup.js";import{aw as tt,ax as st,e as B,f6 as ot,lo as nt,bV as Ys,f2 as Js,G as Se,f0 as it,eo as re,d1 as ce,dG as Be,z as I,lI as Te,P as H,fQ as Ae,e0 as eo,gN as to,dv as so,po as oo,bQ as at,de as X,gx as rt,ek as Me,ej as lt,aH as ct,dT as dt,sh as ut,p as mt,si as no,V as ft,L as gt,dZ as io,bS as _e,u as Ce,d as oe,lV as Pe,aE as ao,aX as ro,dM as we,lJ as De,ee as he,b$ as lo,ir as co,i as ze,e3 as uo,pn as mo,k8 as ht,b6 as fo,d_ as ne,c3 as go,br as fe,o3 as pt,Q as xt,aO as bt,B as pe,W as xe,aq as Fe,sj as ho,bZ as Ge,s as po,f as St,bm as je,aM as jt,aF as xo,jz as bo,T as So,bu as jo,ci as vo,ck as yo,cb as Co,cm as wo,cn as No,sk as Ue,v as vt,N as yt,fD as $e,h2 as To,mh as ko,mg as ge,iz as Io,C as Mo,y as _o,kL as Ct,qd as Q,iA as Po,nU as zo}from"./dmck639k4dv7claj.js";import{u as wt}from"./m9o58vphd3ndk69b.js";import{S as Nt}from"./l1m3l5lbmhuctzw6.js";import{b as Tt}from"./mahhuo4zclh446vl.js";import{D as Eo}from"./dfhgw8mxn1h3ecpw.js";const Lo={open:{opacity:1,y:0,transition:{duration:.15,ease:"easeOut"}},closed:{opacity:0,y:-5,transition:{duration:.15,ease:"easeIn"}}};function Oo(s){"use forget";const e=k.c(21),{color:i,emoji:n,folderState:o,gizmoId:l,sidebarSnorlaxFolderStore:a,isSharedProject:r}=s,h=V(),[d,f]=O.useState(!1);let u;e[0]!==o||e[1]!==h?(u=h.formatMessage(o==="open"?q.hideChatsForProjectTooltip:q.showChatsForProjectTooltip),e[0]=o,e[1]=h,e[2]=u):u=e[2];let m;e[3]!==o||e[4]!==l||e[5]!==a?(m=S=>{S.preventDefault(),o==="open"?a.collapseProject(l):a.expandProject(l)},e[3]=o,e[4]=l,e[5]=a,e[6]=m):m=e[6];let c,p;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=()=>f(!0),p=()=>f(!1),e[7]=c,e[8]=p):(c=e[7],p=e[8]);let g;e[9]!==i||e[10]!==n||e[11]!==o||e[12]!==d||e[13]!==r?(g=n?t.jsx(Ve,{color:i,emoji:n,isSharedProject:r,strict:!0}):t.jsx(Yt,{isOpen:o==="open",isHovered:d,color:i,isSharedProject:r}),e[9]=i,e[10]=n,e[11]=o,e[12]=d,e[13]=r,e[14]=g):g=e[14];let x;e[15]!==m||e[16]!==g?(x=t.jsx("button",{className:"icon",onClick:m,onMouseEnter:c,onMouseLeave:p,children:g}),e[15]=m,e[16]=g,e[17]=x):x=e[17];let b;return e[18]!==u||e[19]!==x?(b=t.jsx(X,{label:u,triggerAs:null,children:x}),e[18]=u,e[19]=x,e[20]=b):b=e[20],b}function Ee({gizmo:s,historyDisabled:e,flair:i,onClick:n,isActive:o,hideOverflowMenu:l=!1,inGPTDropdown:a=!1}){"use forget";const r=B(),{clientThreadId:h}=Ft(),d=ot(h),f=me(),u=V(),m=nt(r),c=s.gizmo.id,p=ye.useStore(),g=ye.useState(N=>ye.selectFolderState(N,c)),x=Ys(),b=!!s.gizmo.tags?.includes(Js.FirstParty),{items:S=[],hasNextPage:j}=Gt(s.gizmo.id),v=Se(r)?.normalizedAccountUserId,y=O.useMemo(()=>v?S.filter(N=>"owner"in N?N.owner?.user_id===v:!0):S,[S,v]),C=it(c),T=Ut(),w=$t(r)(c,T),E=re(()=>w.isSkeleton$()?Rt(r,s):w.theme$()),M=re(()=>w.isSkeleton$()?qt(r,s):w.emoji$()),_=re(()=>w.isSkeleton$()?Ht(r,s):w.title$()),G=re(()=>m.projects.renamingProjectId$()===c),L=o&&(!C||!(g==="open"&&d)),D=O.useRef(g);O.useEffect(()=>{D.current=g},[g]),O.useEffect(()=>{D.current!=="open"&&o&&d&&p.expandProject(c)},[o,d,p,c]);let A;s!=null?A=(C?_:s.gizmo.display.name)??Vt:e?A=u.formatMessage(He.clearChat):A=Jt;const[P,U]=O.useState(!1),{canDropConversation:F,onDropConversation:$}=wt("sidebar_row_button",c),W=()=>{O.startTransition(()=>{Ae(()=>{m.composer.reset(),m.projects.reset()})})},Z=G?t.jsx(Xt,{initialValue:A,onCommit:async N=>{W();try{const{resource:R}=await w.queueUpdate$({name:N}),J=window.location.pathname;R&&o&&J===window.location.pathname&&f(Be(r,R),{replace:!0})}catch(R){const J=eo(R);return x?.warning(J??"Error",{duration:5,hasCloseButton:!0}),{id:w.id}}},onCancel:W}):A,Y=a&&!C?ce.LinkItem:Wt,K=(s?.gizmo?.sharing?.subjects?.length??0)>0;return t.jsxs(t.Fragment,{children:[t.jsx(Y,{className:I(P&&"[&>*]:pointer-events-none"),highlighted:P,onDrop:N=>{F&&(N.preventDefault(),N.stopPropagation(),U(!1),$())},onDragEnter:N=>{F&&N.target===N.currentTarget&&C&&(N.preventDefault(),U(!0))},onDragLeave:N=>{N.target===N.currentTarget&&U(!1)},to:Be(r,s),onDoubleClick:()=>{Ae(()=>{m.projects.renamingProjectId$.set(c),m.composer.autofocusDisabled$.set(!0)})},onClick:N=>{const R=s?.gizmo.id??"primary";H.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:R}),H.logEvent("Sidebar Click Gizmo",{gizmo_id:R}),n?.(N)},active:P?!1:L,icon:C?S.length>0?t.jsx(Oo,{color:E,emoji:M,folderState:g,gizmoId:c,sidebarSnorlaxFolderStore:p,isSharedProject:K}):t.jsx(Ve,{color:E,emoji:M,isSharedProject:K,strict:!0}):t.jsx(Kt,{simple:!0,isFirstParty:b,src:s?.gizmo.display.profile_picture_url,className:"icon",alt:""}),label:Z,trailing:i===Te.Workspace&&t.jsx(Bo,{}),highlightTrailing:!l&&!P&&!G&&(C?t.jsx(Do,{gizmoResource:s,isActive:o}):t.jsx(Ao,{gizmoResource:s,flair:i}))}),t.jsx(be,{initial:!1,children:C&&g==="open"&&y.length>0&&t.jsx(de.div,{initial:"closed",animate:"open",exit:"closed",variants:Lo,className:"overflow-hidden",children:t.jsx(Qt,{gizmoResource:s,serverThreadId:d,isOnProjectPage:L,conversations:y,hasNextPage:j})},"nested-conversations")})]})}const Bo=()=>{const s=V(),e=at(),i=e?.name?s.formatMessage({id:"gizmo.workspaceRecommended",defaultMessage:"Recommended at {workspace_name}"},{workspace_name:e.name??"Your Workspace"}):s.formatMessage({id:"gizmo.workspaceRecommended.noWorkplaceName",defaultMessage:"Recommended at your workplace"});return t.jsx(X,{side:"right",label:i,children:t.jsx(Zt,{className:"icon",alt:i})})},kt=tt(()=>st(()=>import("./jtjkr1s3xfzigp3m.js"),__vite__mapDeps([0,1,2,3,4])).then(s=>s.GizmoKeepInSidebarMenuItem)),Ao=s=>{"use forget";const e=k.c(10),{gizmoResource:i,flair:n}=s,o=At();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx(rt,{onMouseOver:Fo,icon:Me}),e[0]=l):l=e[0];let a;e[1]!==n||e[2]!==i||e[3]!==o?(a=(n===Te.Recent||n===Te.Mine)&&t.jsx(ce.Item,{onClick:()=>{so.updateGizmoSidebar(o,oo,i.gizmo.id,"keep","sidebar")},children:t.jsx(z,{...He.keepInSidebar})}),e[1]=n,e[2]=i,e[3]=o,e[4]=a):a=e[4];let r;e[5]!==i?(r=t.jsx(kt,{gizmoResource:i,location:"sidebar"}),e[5]=i,e[6]=r):r=e[6];let h;return e[7]!==a||e[8]!==r?(h=t.jsxs(lt,{triggerButton:l,contentAlign:"start",sideOffset:-4,alignOffset:-8,size:"auto",children:[a,r]}),e[7]=a,e[8]=r,e[9]=h):h=e[9],h},Do=s=>{"use forget";const e=k.c(31),{gizmoResource:i,isActive:n}=s,o=B(),l=me();let a;e[0]!==o?(a=nt(o),e[0]=o,e[1]=a):a=e[1];const r=a,h=Se(o),d=i.gizmo.author?.user_id===h?.normalizedAccountUserId,{canDelete:f}=to(i);let u;if(e[2]!==f||e[3]!==o||e[4]!==i.gizmo.id||e[5]!==n||e[6]!==d||e[7]!==l||e[8]!==r){if(u=[],d){let p;e[10]!==i.gizmo.id||e[11]!==r.composer.autofocusDisabled$||e[12]!==r.projects.renamingProjectId$?(p=()=>{r.composer.autofocusDisabled$.set(!0),r.projects.renamingProjectId$.set(i.gizmo.id)},e[10]=i.gizmo.id,e[11]=r.composer.autofocusDisabled$,e[12]=r.projects.renamingProjectId$,e[13]=p):p=e[13];let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(z,{...q.editProjectNameDropdownButton}),e[14]=g):g=e[14];let x;e[15]!==p?(x=t.jsx(ce.Item,{onClick:p,icon:es,children:g},"rename"),e[15]=p,e[16]=x):x=e[16],u.push(x)}if(f){let p;e[17]!==o||e[18]!==i.gizmo.id||e[19]!==n||e[20]!==l?(p=v=>{v.preventDefault(),v.stopPropagation();const y=function(T){T(),n&&l("/")};ct(o,C=>{const{onClose:T}=C;return t.jsx(ts,{gizmoId:i.gizmo.id,handleDelete:()=>y(T),onClose:()=>{T()}})})},e[17]=o,e[18]=i.gizmo.id,e[19]=n,e[20]=l,e[21]=p):p=e[21];let g;e[22]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(z,{...q.deleteProjectDropdownButton}),e[22]=g):g=e[22];let x;e[23]!==p?(x=t.jsx(ce.Item,{color:"danger",onClick:p,icon:ss,children:g},"delete"),e[23]=p,e[24]=x):x=e[24];const b=x,S=u.length>0;let j;e[25]!==b||e[26]!==S?(j=S?t.jsx(ce.Group,{separator:S,children:b},"delete-group"):b,e[25]=b,e[26]=S,e[27]=j):j=e[27],u.push(j)}e[2]=f,e[3]=o,e[4]=i.gizmo.id,e[5]=n,e[6]=d,e[7]=l,e[8]=r,e[9]=u}else u=e[9];if(u.length===0)return null;let m;e[28]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx(rt,{icon:Me}),e[28]=m):m=e[28];let c;return e[29]!==u?(c=t.jsx(t.Fragment,{children:t.jsx(lt,{triggerButton:m,contentAlign:"start",sideOffset:-4,alignOffset:-8,size:"auto",children:u})}),e[29]=u,e[30]=c):c=e[30],c};function Fo(){return kt.prefetch()}function It({currentGizmoId:s}){"use forget";const e=at(),i=B(),n=dt(),{data:{gizmos:o=[]}={}}=ut(),l=mt(i,"1524046265"),{topGizmos:a,remainingGizmos:r}=O.useMemo(()=>{const h=n?o.filter(u=>!no(u.resource)):o,{topGizmos:d,remainingGizmos:f}=os(h,l);return{topGizmos:d,remainingGizmos:f}},[o,n,l]);return e?t.jsx(Go,{currentGizmoId:s,maxToShowOnLoad:4,topGizmos:a,remainingGizmos:r}):null}const Go=s=>{"use forget";const e=k.c(15),{currentGizmoId:i,maxToShowOnLoad:n,topGizmos:o,remainingGizmos:l}=s,[a,r]=O.useState(!(ft.getItem(gt.IsGptListCollapsed)??!0)),h=Math.max(o.length,n);let d;e[0]!==l||e[1]!==o?(d=[...o,...l],e[0]=l,e[1]=o,e[2]=d):d=e[2];let f=d;const u=f.length>h;if(u&&!a){let g;e[3]!==f||e[4]!==h?(g=f.slice(0,h-1),e[3]=f,e[4]=h,e[5]=g):g=e[5],f=g}let m;e[6]!==i||e[7]!==f?(m=f.map(g=>t.jsx(Ee,{gizmo:g.resource,isActive:g.resource.gizmo.id===i,flair:g.flair.kind},g.resource.gizmo.id)),e[6]=i,e[7]=f,e[8]=m):m=e[8];let c;e[9]!==u||e[10]!==a?(c=u&&t.jsx(ke,{onClick:g=>{g.preventDefault(),r(Uo)},icon:Me,children:a?t.jsx(z,{id:"GizmoSidebarList.showLess",defaultMessage:"Show less"}):t.jsx(z,{id:"GizmoSidebarList.showMoreItems",defaultMessage:"Show more"})}),e[9]=u,e[10]=a,e[11]=c):c=e[11];let p;return e[12]!==m||e[13]!==c?(p=t.jsxs(t.Fragment,{children:[m,c]}),e[12]=m,e[13]=c,e[14]=p):p=e[14],p};function Uo(s){const e=!s;return ft.setItem(gt.IsGptListCollapsed,!e),e}function Mt({hasProjects:s,isExpandoSidebar:e}){const i=me(),n=V(),o=B(),[l,a]=O.useState(!1),{onDropConversation:r,canDropConversation:h}=wt("sidebar_header_plus"),{eligibleNux:d}=$o({hasProjects:s}),{canCreate:f}=io(),u=t.jsx(ke,{className:I(l&&"bg-token-bg-tertiary"),onDragEnter:m=>{h&&(m.preventDefault(),a(!0))},onDrop:m=>{h&&(m.preventDefault(),m.stopPropagation(),a(!1),r())},onDragLeave:()=>{a(!1)},disabled:!f,icon:d?.type==="badge"?ns:is,onClick:()=>{ct(o,({onClose:m})=>t.jsx(as,{onClose:m,onSuccess:c=>{c&&i(`/g/${c}/project`)}})),d&&d.announcement.markAsViewed(),H.logEventWithStatsig("Projects: Create Open","chatgpt_web_projects_create_open",{source:"sidebar_row_button"})},badge:d?.type==="badge"?d.title:void 0,label:e||d?.type==="badge"?t.jsx(z,{...q.newProjectButtonWithNoProjects}):t.jsx(z,{...q.newProjectButton})});return f?t.jsx(Ro,{nux:d,children:u}):t.jsx(X,{label:n.formatMessage(q.createProjectDisabledByAdmin),children:u})}function $o({hasProjects:s}){const e=V(),i=B(),n=_e(i).checkGate("2711769261"),o=Ce(oe.hasSeenProjectsWebNuxTooltip),l=Ce(oe.hasSeenProjectsUpdateNuxTooltip),a=Ce(oe.hasSeenProjectsToFree),r=!s&&!a.isLoading&&a.eligible,h=s&&n&&!l.isLoading&&l.eligible,d=!h&&!l.isLoading&&!o.isLoading&&o.eligible,f={announcement:a,description:"",key:oe.hasSeenProjectsToFree,title:e.formatMessage(q.projectsToFreeTitle),type:"badge"},u={announcement:l,description:e.formatMessage(q.projectsUpdateTooltipDescription),key:oe.hasSeenProjectsUpdateNuxTooltip,title:e.formatMessage(q.projectsUpdateTooltipTitle),type:"tooltip"},m={announcement:o,description:e.formatMessage(q.projectsNuxTooltipDescription),key:oe.hasSeenProjectsWebNuxTooltip,title:e.formatMessage(q.projectsNuxTooltipTitle),type:"tooltip"};let c=null;return r?c=f:h?c=u:d&&(c=m),{eligibleNux:c,projectUpdateTooltip:u,projectTooltip:m,showProjectUpdateTooltip:h,showProjectTooltip:d}}function Ro({children:s,nux:e}){const i=Pe(),n=ao(),o=ro();return!e||n||!o||!i||e.type==="badge"?t.jsx(t.Fragment,{children:s}):t.jsx(rs,{announcementKey:e.key,theme:"bright",side:"right",show:!0,badge:"new",dismissOnOutsideClick:!0,title:e.title,description:e.description,onDismiss:e.announcement.markAsViewed,sideOffset:-5,children:s})}function qo({snorlaxes:s,currentGizmoId:e}){return t.jsx(t.Fragment,{children:s.map(i=>t.jsx(Ee,{gizmo:i.gizmo,isActive:i.gizmo.gizmo.id===e},i.gizmo.gizmo.id))})}function _t({currentGizmoId:s}){const{snorlaxes:e,data:i,isLoading:n,isError:o,refetch:l,hasNextPage:a}=We(),r=e.slice(0,we),h=it(s);B();const d=Ke({disableExposureLog:!0}),f=O.useRef(!1),[u,m]=O.useState(!0),c=O.useCallback(function(y){y&&m(!1),l()},[l,m]),p=o||i===void 0&&!n&&f.current;te.markStart("SnorlaxSidebarList",te.NS_SIDEBAR),i!=null&&!n&&te.markRendered("SnorlaxSidebarList",te.NS_SIDEBAR),i===void 0&&!n&&!f.current&&(f.current=!0,c(!1));const x=e?.find(v=>v.gizmo.gizmo.id===s),b=r.some(v=>v.gizmo.gizmo.id===s),S=e&&(e?.length>(!h||b?we:we+1)||a),j=t.jsx(t.Fragment,{children:n&&d?t.jsxs(t.Fragment,{children:[t.jsx(De,{}),t.jsx(De,{})]}):n?null:t.jsxs(t.Fragment,{children:[t.jsx(Mt,{hasProjects:e?.length>0}),!1,t.jsx(qo,{snorlaxes:r,currentGizmoId:s}),x&&!b&&t.jsx(Ee,{gizmo:x.gizmo,isActive:!0}),S&&t.jsx(ls,{currentGizmoId:s})]})});return t.jsxs(t.Fragment,{children:[p&&t.jsx(cs,{showRetry:u,refetch:c}),!p&&(d?j:t.jsx(Qe,{id:"snorlax-heading",children:j}))]})}function Ho({currentGizmoId:s,activeId:e,isSnorlaxEnabled:i,hasProjects:n,hasChats:o}){const{data:{gizmos:l=[]}={}}=ut(),a=l.length>0;return t.jsxs(t.Fragment,{children:[a&&t.jsxs(Ne,{id:"gpts",title:t.jsx(z,{id:"sidebar.gpts",defaultMessage:"GPTs"}),children:[t.jsx(Ie,{inExpandoSidebarSection:!0}),t.jsx(he,{name:"GPTsSidebarList",children:t.jsx(It,{currentGizmoId:s})})]}),i&&n&&t.jsx(Ne,{id:"projects",title:t.jsx(z,{id:"sidebar.projects",defaultMessage:"Projects"}),children:t.jsx(_t,{currentGizmoId:s})}),o&&t.jsx(Ne,{id:"chats",title:t.jsx(z,{id:"sidebar.chats",defaultMessage:"Chats"}),children:t.jsx(Xe,{activeId:e})})]})}function Ne(s){"use forget";const e=k.c(27),{title:i,id:n,children:o}=s,l=B(),a=V();let r;e[0]!==l?(r=ds(l),e[0]=l,e[1]=r):r=e[1];const h=r,d=re(h.sidebarSectionState[n]);let f;e[2]!==n||e[3]!==h||e[4]!==d?(f=C=>{C.preventDefault(),d?h.collapseSection(n):h.expandSection(n)},e[2]=n,e[3]=h,e[4]=d,e[5]=f):f=e[5];const u=f;let m;e[6]!==a||e[7]!==d?(m=d?a.formatMessage({defaultMessage:"Collapse section",id:"sidebar.collapseSection"}):a.formatMessage({defaultMessage:"Expand section",id:"sidebar.expandSection"}),e[6]=a,e[7]=d,e[8]=m):m=e[8];const c=m,p=d?"mb-[var(--sidebar-expanded-section-margin-bottom)]":"mb-[var(--sidebar-collapsed-section-margin-bottom)]";let g;e[9]!==p?(g=I("group/sidebar-expando-section",p),e[9]=p,e[10]=g):g=e[10];let x;e[11]!==i?(x=t.jsx(us,{"data-no-spacing":!0,children:i}),e[11]=i,e[12]=x):x=e[12];let b;e[13]!==d?(b=d?t.jsx(ms,{className:"hidden h-3 w-3 group-hover/sidebar-expando-section:block"}):t.jsx(lo,{className:"h-3 w-3 group-hover/sidebar-expando-section:block"}),e[13]=d,e[14]=b):b=e[14];let S;e[15]!==x||e[16]!==b?(S=t.jsxs("div",{className:"text-token-text-tertiary flex w-full items-center justify-start gap-0.5",children:[x,b]}),e[15]=x,e[16]=b,e[17]=S):S=e[17];let j;e[18]!==c||e[19]!==u||e[20]!==d||e[21]!==S?(j=t.jsx(ke,{onClick:u,"aria-expanded":d,"aria-label":c,"data-no-hover-bg":!0,"data-no-contents-gap":!0,children:S}),e[18]=c,e[19]=u,e[20]=d,e[21]=S,e[22]=j):j=e[22];const v=d&&o;let y;return e[23]!==v||e[24]!==g||e[25]!==j?(y=t.jsxs("div",{className:g,children:[j,v]}),e[23]=v,e[24]=g,e[25]=j,e[26]=y):y=e[26],y}function Vo({showGPTsSidebarItem:s,showNewProjectButton:e}){return t.jsxs("div",{className:"pb-[calc(var(--sidebar-section-margin-top)-var(--sidebar-section-first-margin-top))]",children:[t.jsx(Ze,{}),s&&t.jsx(Ie,{}),e&&t.jsx(Mt,{hasProjects:!1,isExpandoSidebar:!0})]})}function Wo(s){"use forget";const e=k.c(5),{clientThreadId:i,onNewThread:n}=s,o=ot(i),l=ht(i),a=fo(),r=dt(),h=a?void 0:o;let d;return e[0]!==l||e[1]!==r||e[2]!==n||e[3]!==h?(d=t.jsx(Ko,{currentGizmoId:l,activeId:h,isSnorlaxEnabled:r,onNewThread:n}),e[0]=l,e[1]=r,e[2]=n,e[3]=h,e[4]=d):d=e[4],d}function Ko(s){"use forget";const e=k.c(21),{currentGizmoId:i,activeId:n,isSnorlaxEnabled:o,onNewThread:l}=s,a=B(),r=Ke();let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={},e[0]=h):h=e[0];const{conversations:d}=uo(h),f=d.length>0,{snorlaxes:u,isLoading:m}=We(),c=u.length>0,{data:p,isLoading:g}=mo(),{gizmos:x}=p===void 0?{}:p,S=(x===void 0?[]:x).length>0;let j;e[1]!==a?(j=Se(a)?.hasPaidSubscription(),e[1]=a,e[2]=j):j=e[2];const y=r&&!S&&j&&!g,C=r&&o&&!c&&!m;let T;e[3]!==l?(T=t.jsx(gs,{onNewThread:l}),e[3]=l,e[4]=T):T=e[4];let w;e[5]!==r||e[6]!==y||e[7]!==C?(w=r&&t.jsx(Vo,{showGPTsSidebarItem:y,showNewProjectButton:C}),e[5]=r,e[6]=y,e[7]=C,e[8]=w):w=e[8];let E;e[9]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(hs,{}),e[9]=E):E=e[9];let M;e[10]!==n||e[11]!==i||e[12]!==f||e[13]!==c||e[14]!==r||e[15]!==o?(M=t.jsx(ne,{fallback:null,children:t.jsxs(O.Suspense,{children:[E,r?t.jsx(he,{name:"ExpandoSidebar",children:t.jsx(Ho,{currentGizmoId:i,activeId:n,isSnorlaxEnabled:o,hasProjects:c,hasChats:f})}):t.jsxs(t.Fragment,{children:[t.jsxs(t.Fragment,{children:[t.jsxs(Qe,{first:!0,children:[t.jsx(Ze,{}),t.jsx(Ie,{}),t.jsx(he,{name:"GPTsSidebarList",children:t.jsx(It,{currentGizmoId:i})}),t.jsx(he,{name:"ScheduleSidebarItem",children:t.jsx(ps,{})})]}),o&&t.jsx(_t,{currentGizmoId:i})]}),null,t.jsx(Xe,{activeId:n})]})]})}),e[10]=n,e[11]=i,e[12]=f,e[13]=c,e[14]=r,e[15]=o,e[16]=M):M=e[16];let _;return e[17]!==T||e[18]!==w||e[19]!==M?(_=t.jsxs(t.Fragment,{children:[T,w,M]}),e[17]=T,e[18]=w,e[19]=M,e[20]=_):_=e[20],_}function On(s){"use forget";const e=k.c(4),{clientThreadId:i,onNewThread:n}=s,o=B();let l;return e[0]!==i||e[1]!==o||e[2]!==n?(l=ze(o)?t.jsx(Wo,{clientThreadId:i,onNewThread:n}):null,e[0]=i,e[1]=o,e[2]=n,e[3]=l):l=e[3],l}function Qo(s){"use forget";const e=k.c(22),{onNewThread:i}=s,n=V(),o=co(Zo),l=fs();let a;e[0]!==n?(a=n.formatMessage({id:"Q6nsOM",defaultMessage:"Close sidebar"}),e[0]=n,e[1]=a):a=e[1];const r=a,h=O.useContext(ue),d=Pe(),f=o?.visible&&o.getTitlebarAreaRect().left>0?"justify-end":"justify-between";let u;e[2]!==f?(u=I("h-header-height flex items-center",f),e[2]=f,e[3]=u):u=e[3];let m;e[4]!==i?(m=t.jsx(Yo,{onNewThread:i}),e[4]=i,e[5]=m):m=e[5];let c;e[6]!==l?(c=l&&t.jsx(xs,{}),e[6]=l,e[7]=c):c=e[7];const p=h==="popover"||d,g=h==="popover"?"stage-popover-sidebar":"stage-slideover-sidebar";let x;e[8]!==r||e[9]!==p||e[10]!==g?(x=t.jsx(Ye,{className:"no-draggable cursor-w-resize rtl:cursor-e-resize",color:"tertiary","aria-expanded":p,"aria-controls":g,"aria-label":r,onClick:Xo,icon:Je,mobileIcon:go,"data-testid":"close-sidebar-button"}),e[8]=r,e[9]=p,e[10]=g,e[11]=x):x=e[11];let b;e[12]!==r||e[13]!==x?(b=t.jsx(X,{label:r,triggerAs:null,children:x}),e[12]=r,e[13]=x,e[14]=b):b=e[14];let S;e[15]!==c||e[16]!==b?(S=t.jsxs("div",{className:"flex",children:[c,b]}),e[15]=c,e[16]=b,e[17]=S):S=e[17];let j;return e[18]!==S||e[19]!==u||e[20]!==m?(j=t.jsxs("div",{id:"sidebar-header",className:u,children:[m,S]}),e[18]=S,e[19]=u,e[20]=m,e[21]=j):j=e[21],j}function Xo(){fe.setSidebarOpen(!1)}function Zo(){return navigator.windowControlsOverlay}function Yo({onNewThread:s,testId:e}){const i=V();return t.jsx(Ye,{onClick:n=>{const o=n.currentTarget.closest("nav");if(o&&o.scrollTop>0){o.scrollTo({top:0,behavior:"smooth"}),n.preventDefault();return}bs(n,s)},icon:pt,iconClassName:"icon-lg",color:"primary","aria-label":i.formatMessage({id:"H6SRdK",defaultMessage:"Home"}),"data-testid":e,as:"link"})}const Jo=tt(()=>st(()=>import("./ntai8lxhogp2s56x.js"),__vite__mapDeps([5,1,2,3,6,7,8])).then(s=>s.OnboardingSidebarEntry));function Bn({navHeader:s,children:e,className:i}){const n=V();return t.jsxs(t.Fragment,{children:[t.jsx(ho,{asChild:!0,children:t.jsx("h2",{children:t.jsx(z,{...ie.chatHistoryLabel})})}),t.jsxs(Ss,{className:I("relative flex h-full w-full flex-1 flex-col overflow-y-auto transition-opacity duration-500",i),"aria-label":n.formatMessage(ie.chatHistoryLabel),children:[t.jsx("div",{className:"short:group-data-scrolled-from-top/scrollport:shadow-(--sharp-edge-top-shadow) bg-token-bg-elevated-secondary sticky top-0 z-30",children:t.jsx("div",{className:"touch:px-1.5 px-2",children:s})}),e,t.jsx("div",{className:"grow"}),t.jsx(en,{})]})]})}function en(){const s=B(),e=Se(s),i=!ze(s),{style:n,isEligible:o,hasDismissed:l}=js();return e?i?t.jsx(Pt,{}):t.jsxs("div",{className:"bg-token-bg-elevated-secondary sticky bottom-0 z-30 py-1.5 group-data-scrolled-from-end/scrollport:shadow-(--sharp-edge-bottom-shadow) empty:hidden",children:[o&&n&&!l&&t.jsx(Jo,{}),t.jsx(ne,{children:t.jsx(vs,{})}),t.jsx(Nt,{})]}):null}const Pt=()=>{const s=xt(),e=B(),i=bt(ie.unauthSignupCta),n=()=>{xe(e,{fallbackScreenHint:"login",callback:r=>{H.logLogInButtonClicked({location:"Sidebar bottom unit",provider:r}),Fe.logEvent("chatgpt_sidebar_login_button_clicked")}})},o=()=>{xe(e,{fallbackScreenHint:"signup",callback:r=>{H.logSignUpButtonClicked({location:"Sidebar bottom unit",provider:r}),Fe.logEvent("chatgpt_sidebar_signup_button_clicked")}})},l=t.jsx(pe,{as:"button",size:"medium",color:s?"secondary":"primary","data-testid":"signup-button",onClick:o,children:t.jsx(z,{...i})},"signup-button"),a=t.jsx(pe,{as:"button",size:"medium",color:s?"primary":"secondary","data-testid":"login-button",onClick:n,children:t.jsx(z,{...ie.unauthLoginCta})},"login-button");return t.jsxs("div",{className:"bg-token-bg-elevated-secondary sticky bottom-0 z-30 p-2",children:[t.jsxs("div",{className:"mt-2 mb-4",children:[t.jsx("p",{className:"text-token-text-primary mb-1 text-sm font-semibold",children:t.jsx(z,{...s?ie.logInOrSignUp:ie.signUpOrLogIn})}),t.jsx("p",{className:"text-token-text-secondary text-sm",children:t.jsx(z,{id:"tr+zlt",defaultMessage:"Get smarter responses, upload files and images, and save your conversations."})})]}),t.jsx("div",{className:"flex flex-row items-start gap-2",children:s?[a,l]:[l,a]})]})},ie=Dt({chatHistoryLabel:{id:"NavigationContent.chatHistoryLabel",defaultMessage:"Chat history"},signInToChat:{id:"NavigationContent.signInToChat",defaultMessage:"Sign in to ChatGPT"},signUpOrLogIn:{id:"NavigationContent.signUpOrLogIn",defaultMessage:"Sign up or log in"},logInOrSignUp:{id:"NavigationContent.logInOrSignUp",defaultMessage:"Log in or sign up for free"},unauthSignupCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},unauthLoginCta:{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"}}),tn=()=>{const s=me();return t.jsxs("div",{className:"flex h-full flex-col gap-2 p-3",children:[t.jsx(Qo,{onNewThread:()=>{ys(s)}}),t.jsx(sn,{}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(Pt,{})})]})},zt="border border-token-border-xlight bg-token-sidebar-surface-secondary";function ee({className:s,width:e}){return t.jsx("div",{className:I("h-2.5 grow rounded-sm",zt,s),style:{maxWidth:e+"px"}})}function sn(){const s=t.jsx("div",{className:I("h-4 w-4 shrink-0 grow-0 rounded-full",zt)});return t.jsxs("div",{className:"mt-2 flex w-full grow flex-col gap-4 overflow-hidden px-2",style:{maskImage:"linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, black 50%, transparent 100%)"},children:[t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(ee,{width:80})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(ee,{width:120})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(ee,{width:100})]}),t.jsx("div",{className:"mt-5 flex flex-row items-center justify-start gap-3",children:t.jsx(ee,{width:150})}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(ee,{width:50})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[s,t.jsx(ee,{width:100})]}),t.jsxs("div",{className:"mb-5 flex flex-row items-center justify-start gap-3",children:[s,t.jsx(ee,{width:80})]}),[120,180,160,100,90,190,140,120,180,170,100,120,180,150].map((e,i)=>t.jsx("div",{className:"flex flex-row items-center justify-start py-1",children:t.jsx(ee,{width:e})},i))]})}function Et(s){"use forget";const e=k.c(61);let i,n,o,l;e[0]!==s?({onOpen:o,className:i,isSidebarOpen:n,...l}=s,e[0]=s,e[1]=i,e[2]=n,e[3]=o,e[4]=l):(i=e[1],n=e[2],o=e[3],l=e[4]);const a=me(),r=V(),h=B(),{enableTinybarUpgradeBtn:d}=Cs(),f=!n;let u;e[5]!==i?(u=I("group/tiny-bar flex h-full w-(--sidebar-rail-width) cursor-e-resize flex-col items-start bg-transparent pb-1.5 motion-safe:transition-colors rtl:cursor-w-resize",i),e[5]=i,e[6]=u):u=e[6];let m;e[7]!==o?(m=$=>{$.target===$.currentTarget&&o()},e[7]=o,e[8]=m):m=e[8];let c;e[9]!==r?(c=r.formatMessage({id:"GpHrv5",defaultMessage:"Open sidebar"}),e[9]=r,e[10]=c):c=e[10];let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsxs(t.Fragment,{children:[t.jsx(pt,{className:"icon-lg -m-1 group-hover/tiny-bar:hidden group-focus-visible:hidden"}),t.jsx(Je,{className:"icon hidden group-hover/tiny-bar:block group-focus-visible:block"})]}),e[11]=p):p=e[11];let g;e[12]!==r?(g=r.formatMessage({id:"IaY18K",defaultMessage:"Open sidebar"}),e[12]=r,e[13]=g):g=e[13];let x;e[14]!==o||e[15]!==g?(x=t.jsx(Ge,{as:"button",className:"cursor-e-resize rtl:cursor-w-resize",icon:p,"aria-label":g,"aria-expanded":!1,"aria-controls":"stage-slideover-sidebar",iconOnly:!0,fillContainer:!0,onClick:o}),e[14]=o,e[15]=g,e[16]=x):x=e[16];let b;e[17]!==c||e[18]!==x?(b=t.jsx("div",{className:"h-header-height flex items-center justify-center",children:t.jsx(X,{label:c,side:"right",triggerAs:null,sideOffset:14,children:x})}),e[17]=c,e[18]=x,e[19]=b):b=e[19];let S;e[20]!==r?(S=r.formatMessage({id:"6Abeg/",defaultMessage:"New chat"}),e[20]=r,e[21]=S):S=e[21];let j;e[22]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(Le,{binding:Ns}),e[22]=j):j=e[22];let v;e[23]!==a?(v=t.jsx(Ts,{iconOnly:!0,onNewThread:()=>ks(a)}),e[23]=a,e[24]=v):v=e[24];let y;e[25]!==v||e[26]!==S?(y=t.jsx(X,{label:S,secondaryLabel:j,side:"right",labelOrientation:"horizontal",triggerAs:"div",children:v}),e[25]=v,e[26]=S,e[27]=y):y=e[27];let C;e[28]!==r?(C=r.formatMessage({id:"VUMlGk",defaultMessage:"Search chats"}),e[28]=r,e[29]=C):C=e[29];let T;e[30]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(Le,{binding:Is}),e[30]=T):T=e[30];let w;e[31]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(Ms,{iconOnly:!0}),e[31]=w):w=e[31];let E;e[32]!==C?(E=t.jsx(X,{label:C,secondaryLabel:T,side:"right",labelOrientation:"horizontal",triggerAs:"div",children:w}),e[32]=C,e[33]=E):E=e[33];let M;e[34]!==h||e[35]!==r?(M=null,e[34]=h,e[35]=r,e[36]=M):M=e[36];let _;e[37]!==r?(_=r.formatMessage({id:"JBxuOc",defaultMessage:"Library"}),e[37]=r,e[38]=_):_=e[38];let G;e[39]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(_s,{iconOnly:!0}),e[39]=G):G=e[39];let L;e[40]!==_?(L=t.jsx(X,{label:_,side:"right",triggerAs:"div",children:G}),e[40]=_,e[41]=L):L=e[41];let D;e[42]!==y||e[43]!==E||e[44]!==M||e[45]!==L?(D=t.jsxs("div",{className:"mt-(--sidebar-section-first-margin-top)",children:[y,E,M,L]}),e[42]=y,e[43]=E,e[44]=M,e[45]=L,e[46]=D):D=e[46];let A;e[47]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("div",{className:"pointer-events-none flex-grow"}),e[47]=A):A=e[47];let P;e[48]!==r||e[49]!==f||e[50]!==a||e[51]!==d?(P=d&&t.jsx(X,{label:r.formatMessage({id:"9eIok4",defaultMessage:"Upgrade plan"}),side:"right",triggerAs:"div",children:t.jsx(Ge,{as:"button",icon:t.jsx(ws,{className:"icon-sm"}),iconOnly:!0,fillContainer:!0,className:I("motion-safe:transition-opacity motion-safe:duration-200 motion-safe:ease-out",f?"opacity-100 motion-safe:delay-[175ms]":"opacity-0 motion-safe:delay-0"),"aria-label":r.formatMessage(St.upgrade),onClick:()=>po(a,"tiny bar")})}),e[48]=r,e[49]=f,e[50]=a,e[51]=d,e[52]=P):P=e[52];let U;e[53]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx("div",{className:"mb-1",children:t.jsx(Nt,{})}),e[53]=U):U=e[53];let F;return e[54]!==l||e[55]!==u||e[56]!==m||e[57]!==D||e[58]!==P||e[59]!==b?(F=t.jsxs("div",{id:"stage-sidebar-tiny-bar",className:u,onClick:m,...l,children:[b,D,A,P,U]}),e[54]=l,e[55]=u,e[56]=m,e[57]=D,e[58]=P,e[59]=b,e[60]=F):F=e[60],F}function An(s){"use forget";const e=k.c(2),{onNewChatButtonClick:i}=s,{isUnauthenticated:n,isLoading:o}=jt();if(o||!n)return null;let l;return e[0]!==i?(l=t.jsx(Tt,{onClick:()=>{H.logNewChatButtonClicked({location:"Mobile header"}),i()}}),e[0]=i,e[1]=l):l=e[1],l}function Dn(s){"use forget";const e=k.c(6),{onNewChatButtonClick:i,clientThreadId:n}=s,{isUnauthenticated:o,isLoading:l}=jt(),a=xt(),r=ht(n),h=xo(n,So.getIsNewConversation),d=bo(),f=h&&d&&!o&&!r;if(l)return null;if(o){let p;return e[0]!==a?(p=a?t.jsx(an,{}):t.jsx(on,{}),e[0]=a,e[1]=p):p=e[1],p}let u;e[2]!==i?(u=t.jsx(Tt,{onClick:()=>{H.logNewChatButtonClicked({location:"Mobile header"}),i()}}),e[2]=i,e[3]=u):u=e[3];const m=u;if(!f)return m;let c;return e[4]!==n?(c=t.jsx(Ps,{variant:"secondary",clientThreadId:n}),e[4]=n,e[5]=c):c=e[5],c}function on(){"use forget";const s=k.c(8),e=B();let i;s[0]===Symbol.for("react.memo_cache_sentinel")?(i={id:"navigation.signUpButtonText",defaultMessage:"Sign up",description:"Button text for Sign up button"},s[0]=i):i=s[0];const n=bt(i);let o;s[1]!==e?(o=()=>{xe(e,{fallbackScreenHint:"signup",callback:nn})},s[1]=e,s[2]=o):o=s[2];let l;s[3]!==n?(l=t.jsx(z,{...n}),s[3]=n,s[4]=l):l=s[4];let a;return s[5]!==o||s[6]!==l?(a=t.jsx(pe,{as:"button",size:"small",color:"primary",onClick:o,children:l}),s[5]=o,s[6]=l,s[7]=a):a=s[7],a}function nn(s){H.logSignUpButtonClicked({location:"Mobile Chat Stage Header",provider:s})}function an(){"use forget";const s=k.c(5),e=B();let i;s[0]!==e?(i=()=>{xe(e,{fallbackScreenHint:"login",callback:rn})},s[0]=e,s[1]=i):i=s[1];let n;s[2]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(z,{...St.logInButtonText}),s[2]=n):n=s[2];let o;return s[3]!==i?(o=t.jsx(pe,{as:"button",size:"small",color:"primary",onClick:i,"data-testid":"mobile-login-button",children:n}),s[3]=i,s[4]=o):o=s[4],o}function rn(s){H.logLogInButtonClicked({location:"Mobile Chat Stage Header",provider:s})}function ln(s){"use forget";const e=k.c(7),{onClick:i}=s,n=Es(Os,Ls,!1,!0),o=je(cn);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("span",{className:"sr-only",children:t.jsx(z,{id:"navigation.openSidebar",defaultMessage:"Open sidebar"})}),e[0]=l):l=e[0];let a;e[1]!==n?(a=t.jsx(n,{className:"icon-lg text-token-text-secondary mx-2"}),e[1]=n,e[2]=a):a=e[2];let r;return e[3]!==o||e[4]!==i||e[5]!==a?(r=t.jsxs("button",{type:"button",className:"hover:text-token-text-primary touch:h-10 touch:w-10 inline-flex h-9 w-9 items-center justify-center rounded-md focus:ring-2 focus:ring-white focus:outline-hidden focus:ring-inset active:opacity-50",onClick:i,"data-testid":"open-sidebar-button","aria-expanded":o,"aria-controls":"stage-popover-sidebar",children:[l,a]}),e[3]=o,e[4]=i,e[5]=a,e[6]=r):r=e[6],r}function cn(s){return s.isPopoverSidebarOpen}const dn=s=>{"use forget";const e=k.c(21),{rightContentExpanded:i,onOpenSidebar:n,children:o,showNavSidebar:l,leftContent:a,rightContent:r,bottomContent:h}=s,f=je(gn)?"[box-shadow:var(--sharp-edge-top-shadow)]":"[box-shadow:var(--sharp-edge-top-shadow-placeholder)]";let u;e[0]!==f?(u=I("draggable h-header-height bg-token-bg-primary sticky top-0 z-10 flex items-center border-transparent px-2 md:hidden",f),e[0]=f,e[1]=u):u=e[1];let m;e[2]!==a||e[3]!==n||e[4]!==l?(m=(l||a)&&t.jsxs("div",{className:"no-draggable flex items-center justify-center",children:[l&&t.jsx(ln,{onClick:n}),a]}),e[2]=a,e[3]=n,e[4]=l,e[5]=m):m=e[5];let c;e[6]!==o?(c=t.jsx("div",{className:"no-draggable flex-1",children:o}),e[6]=o,e[7]=c):c=e[7];let p;e[8]!==r||e[9]!==i?(p=r&&t.jsx("div",{className:I("no-draggable flex items-center justify-center",i&&"start-10"),children:r}),e[8]=r,e[9]=i,e[10]=p):p=e[10];let g;e[11]!==u||e[12]!==m||e[13]!==c||e[14]!==p?(g=t.jsxs("div",{className:u,children:[m,c,p]}),e[11]=u,e[12]=m,e[13]=c,e[14]=p,e[15]=g):g=e[15];let x;e[16]!==h?(x=h&&t.jsx("div",{className:"no-draggable bg-token-bg-primary flex w-full items-center justify-center md:hidden",children:h}),e[16]=h,e[17]=x):x=e[17];let b;return e[18]!==g||e[19]!==x?(b=t.jsxs(t.Fragment,{children:[g,x]}),e[18]=g,e[19]=x,e[20]=b):b=e[20],b};function un(s){"use forget";const e=k.c(4),{isPopover:i,children:n,forceOpenDesktopSidebar:o}=s,l=i===void 0?!1:i;te.markStart("StageNavigationSidebar"),te.markRendered("StageNavigationSidebar");let a;return e[0]!==n||e[1]!==o||e[2]!==l?(a=l?t.jsx(fn,{children:n}):t.jsx(mn,{forceOpenDesktopSidebar:o,children:n}),e[0]=n,e[1]=o,e[2]=l,e[3]=a):a=e[3],a}const Lt={type:"spring",bounce:.1,duration:.35},Re={...Lt,duration:.4},mn=s=>{"use forget";const e=k.c(24),{style:i,children:n,forceOpenDesktopSidebar:o}=s;et(hn),te.trackNamespace(te.NS_SIDEBAR);const l=jo(),a=Pe()||o,r=l?zs:Lt,h=a?"var(--sidebar-width)":"var(--sidebar-rail-width)",d=a?"var(--bg-elevated-secondary)":"var(--bg-primary)";let f;e[0]!==h||e[1]!==d?(f={width:h,backgroundColor:d},e[0]=h,e[1]=d,e[2]=f):f=e[2];const u=a?"pointer-events-none opacity-0":"opacity-100",m=a?"motion-safe:[transition-timing-function:steps(1,end)]":"motion-safe:[transition-timing-function:steps(1,start)]";let c;e[3]!==u||e[4]!==m?(c=I("absolute inset-0",u,m,"motion-safe:transition-opacity motion-safe:duration-150"),e[3]=u,e[4]=m,e[5]=c):c=e[5];const p=!!a;let g;e[6]!==a||e[7]!==c||e[8]!==p?(g=t.jsx(ue.Provider,{value:"tiny_bar",children:t.jsx(Et,{className:c,inert:a,isSidebarOpen:p,onOpen:pn})}),e[6]=a,e[7]=c,e[8]=p,e[9]=g):g=e[9];const x=a?"opacity-100":"pointer-events-none opacity-0";let b;e[10]!==x?(b=I(x,"motion-safe:transition-opacity motion-safe:duration-150 motion-safe:ease-linear","h-full w-[var(--sidebar-width)] overflow-x-clip overflow-y-auto text-clip whitespace-nowrap","bg-token-bg-elevated-secondary"),e[10]=x,e[11]=b):b=e[11];const S=!a;let j;e[12]!==n||e[13]!==b||e[14]!==S?(j=t.jsx(ue.Provider,{value:"expanded_sidebar",children:t.jsx("div",{className:b,inert:S,children:n})}),e[12]=n,e[13]=b,e[14]=S,e[15]=j):j=e[15];let v;e[16]!==j||e[17]!==g?(v=t.jsxs("div",{className:"relative flex h-full flex-col",children:[g,j]}),e[16]=j,e[17]=g,e[18]=v):v=e[18];let y;return e[19]!==i||e[20]!==r||e[21]!==v||e[22]!==f?(y=t.jsx(de.div,{className:"border-token-border-light relative z-21 h-full shrink-0 overflow-hidden border-e max-md:hidden",transition:r,initial:!1,animate:f,style:i,id:"stage-slideover-sidebar",children:v}),e[19]=i,e[20]=r,e[21]=v,e[22]=f,e[23]=y):y=e[23],y},fn=s=>{"use forget";const e=k.c(22),{children:i}=s;et(xn);const n=B(),o=_e(n).checkGate("1536947154"),l=je(bn),a=Ue,r=Sn,h=l?"pointer-events-none opacity-0":"opacity-100",d=l?"motion-safe:[transition-timing-function:steps(1,end)]":"motion-safe:[transition-timing-function:steps(1,start)]";let f;e[0]!==h||e[1]!==d?(f=I("absolute inset-0",h,d,"motion-safe:transition-opacity motion-safe:duration-150"),e[0]=h,e[1]=d,e[2]=f):f=e[2];const u=!!l;let m;e[3]!==l||e[4]!==f||e[5]!==u?(m=t.jsx("div",{className:"border-token-border-light relative z-21 h-full w-[var(--sidebar-rail-width)] shrink-0 overflow-hidden border-e max-md:hidden",children:t.jsx(ue.Provider,{value:"tiny_bar",children:t.jsx(Et,{className:f,inert:l,isSidebarOpen:u,onOpen:jn})})}),e[3]=l,e[4]=f,e[5]=u,e[6]=m):m=e[6];const c=Ue,p=!0,g=be;let x;e[7]!==l?(x=l&&t.jsx(vo,{asChild:!0,children:t.jsx(de.div,{className:"fixed inset-0 z-10 bg-gray-50/50 dark:bg-black/50",transition:Re,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.12}}})}),e[7]=l,e[8]=x):x=e[8];const b=l&&t.jsx(yo,{asChild:!0,onOpenAutoFocus:vn,children:t.jsxs(de.div,{className:I("bg-token-sidebar-surface-primary top-banner-visible:bottom-0 top-banner-visible:top-(--top-banner-height,0px) top-banner-visible:h-auto fixed start-0 top-0 z-50 h-full w-[var(--sidebar-width)] max-w-xs border-e border-gray-200 shadow-[0_0_64px_0_rgba(0,0,0,0.07)] [view-transition-name:var(--sidebar-popover)] focus:outline-hidden dark:border-gray-800",o&&"pb-[env(safe-area-inset-bottom,0px)]"),transition:Re,id:"stage-popover-sidebar",initial:{translateX:"-100%"},animate:{translateX:"0"},exit:{translateX:"-100%",transition:{duration:.12}},children:[t.jsx(Co,{asChild:!0,children:t.jsxs(wo,{children:[t.jsx(z,{id:"navigation.sidebarTitle",defaultMessage:"Sidebar"}),t.jsx(No,{})]})}),t.jsx(ue.Provider,{value:"popover",children:i})]})});let S;e[9]!==g||e[10]!==x||e[11]!==b?(S=t.jsxs(g,{children:[x,b]}),e[9]=g,e[10]=x,e[11]=b,e[12]=S):S=e[12];let j;e[13]!==S||e[14]!==c.Portal?(j=t.jsx(c.Portal,{forceMount:p,children:S}),e[13]=S,e[14]=c.Portal,e[15]=j):j=e[15];let v;return e[16]!==l||e[17]!==a.Root||e[18]!==j||e[19]!==r||e[20]!==m?(v=t.jsxs(a.Root,{open:l,onOpenChange:r,children:[m,j]}),e[16]=l,e[17]=a.Root,e[18]=j,e[19]=r,e[20]=m,e[21]=v):v=e[21],v};function gn(s){return s.isConversationScrolledFromTop}function hn(){vt.count(yt.DEFAULT,"chatgpt_sidebar_show",{key:"type",value:"slideover"}),H.logEvent("Sidebar Show",{type:"slideover"})}function pn(){return fe.setSidebarOpen(!0)}function xn(){vt.count(yt.DEFAULT,"chatgpt_sidebar_show",{key:"type",value:"popover"}),H.logEvent("Sidebar Show",{type:"popover"})}function bn(s){return s.isPopoverSidebarOpen}function Sn(s){fe.setPopoverSidebarOpen(s)}function jn(){return fe.setPopoverSidebarOpen(!0)}function vn(s){s.preventDefault()}function yn({clientThreadId:s,debugThreadId:e,messageId:i,query:n,category:o,offsetTopMargin:l}){const{message:a,error:r}=Bs({clientThreadId:s,debugThreadId:e,messageId:i,query:n,category:o});B();const h=!1;let d,f=!0;return a&&a.content&&(a.content.content_type===$e.Text||a.content.content_type===$e.MultimodalText)&&(d=a.content,f=!a.content.parts.some(u=>u!=="")&&a.metadata?.content_references?.length===0),t.jsx("div",{className:I("bg-token-bg-primary flex min-h-screen w-full flex-col",l?"mt-[calc((var(--threadFlyOut-leading-height,57px))*-1)] min-h-screen":"mt-0"),children:t.jsxs("div",{className:"border-token-border-light flex flex-col border-t px-6",children:[a&&d?t.jsxs("div",{className:I("mt-4 text-sm",h),"data-message-author-role":a.author.role,"data-message-id":a.id,children:[t.jsx(Eo,{parts:d.parts||[],isUserTurn:!1,isCompletionInProgress:!1,turnIndex:0,displayParts:To(d.parts||[]),isActivelyStreaming:!1,shouldHideContent:!1,clientThreadId:s,id:a.id,isEmpty:f,messages:[a],citations:a.metadata?.citations,contentReferences:a.metadata?.content_references,size:"small",flagSeverity:void 0}),h]}):!r&&t.jsx("div",{className:"mt-4 flex min-h-[60vh] flex-col gap-12 pb-6",children:t.jsxs(ko,{children:[t.jsx(ge,{index:0,width:60,heightSize:"sm"}),t.jsx(ge,{index:1,width:100,heightSize:"sm"}),t.jsx(ge,{index:2,width:90,heightSize:"sm"}),t.jsx(ge,{index:3,width:50,heightSize:"sm"})]})}),r&&t.jsx("div",{className:"bg-token-bg-status-error border-token-surface-error/15 text-token-text-error my-4 border p-2 text-sm whitespace-pre-wrap",children:r.message})]})})}function qe(s){return s.length>0&&s[0]===s[0].toLocaleUpperCase()?s:s.split(" ").map(e=>Gs(e)).join(" ")}function Cn({clientThreadId:s,type:e="sidebar"}){const{setScrollTopForActive:i,currentHistoryScrollTop:n,closeThreadSidebarAndResetHistory:o}=As(),l=B(),a=mt(l,"1225428216"),{clientThreadId:r,contentReferenceStartIndex:h,messageId:d,query:f,category:u,debugThreadId:m}=Io("entity")??{},c=V(),p=O.useMemo(()=>({clientThreadId:s,messageId:d}),[s,d]);if(r!==s||f===void 0||h===void 0||!d)return null;const g=`${d}-category-${u}-query-${f}`,x=u==="product"&&!a,b=u==="local_business";let S;if(x){const j={query:f,title:f,provider:"",id:"",url:""};S=t.jsx(Us,{product:j,setProductUrl:v=>{},clientThreadId:s,messageId:d,contentReferenceStartIndex:h,productIndex:-1,analyticsMetadata:p,offsetTopMargin:e==="sidebar"})}else S=t.jsx(yn,{clientThreadId:r,debugThreadId:m,messageId:d,query:f,category:u??"other",offsetTopMargin:b});switch(e){case"sidebar":return t.jsx(Ds,{handleClose:o,onScroll:j=>i(j),restoreScrollTop:n,leading:b?null:t.jsx(Fs,{title:qe(f)}),ariaLabel:c.formatMessage({id:"region.sidebar.entity",defaultMessage:"Entity details"}),children:t.jsx(Oe,{value:{category:u},children:S})},g);case"modal":return t.jsxs(Mo,{testId:"modal-chat-screen-entity-flyout",className:"relative max-w-md",size:"custom",type:"success",noPadding:!0,title:qe(f),visuallyHiddenHeader:u==="product",headerClassName:"pl-6",isOpen:!0,onClose:o,rootClassName:"z-0",children:[t.jsx(Oe,{value:{category:u},children:S}),t.jsx(_o,{className:"absolute end-2.5 top-2.5 z-10",onClick:o})]},g)}}function wn(s){"use forget";const e=k.c(22),{isExpanded:i,children:n}=s,o=O.useRef(null),[l,a]=O.useState("400px");let r;e[0]!==n?(r=le.isValidElement(n)?le.cloneElement(n,{setWidth:a}):n,e[0]=n,e[1]=r):r=e[1];const h=r,d=le.Children.toArray(h).some(Boolean),f=i&&d?l:0;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={type:"spring",bounce:.12,duration:.3},e[2]=u):u=e[2];let m;e[3]!==f?(m={width:f,transition:u},e[3]=f,e[4]=m):m=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{o.current&&(o.current.style.visibility="visible")},e[5]=c):c=e[5];let p;e[6]!==i?(p=()=>{o.current&&(i||(o.current.style.visibility="hidden"))},e[6]=i,e[7]=p):p=e[7];const g=!i&&"pointer-events-none";let x;e[8]!==g?(x=I("absolute h-full",g),e[8]=g,e[9]=x):x=e[9];let b;e[10]!==l?(b={width:l},e[10]=l,e[11]=b):b=e[11];let S;e[12]!==h?(S=t.jsx("div",{className:"flex h-full flex-col",children:h}),e[12]=h,e[13]=S):S=e[13];let j;e[14]!==S||e[15]!==x||e[16]!==b?(j=t.jsx("div",{className:x,style:b,children:S}),e[14]=S,e[15]=x,e[16]=b,e[17]=j):j=e[17];let v;return e[18]!==j||e[19]!==m||e[20]!==p?(v=t.jsx(be,{children:t.jsx(de.div,{className:"bg-token-sidebar-surface-primary relative z-1 shrink-0 overflow-x-hidden max-lg:w-0!",ref:o,initial:!1,animate:m,onAnimationStart:c,onAnimationComplete:p,children:j})}),e[18]=j,e[19]=m,e[20]=p,e[21]=v):v=e[21],v}const Fn=s=>{"use forget";const e=k.c(33),{setWidth:i,clientThreadId:n}=s,o=Ct();if(!o||o.clientThreadId!==n)return null;let l;e[0]!==o||e[1]!==n?(l=Q(o,"searchSources")&&t.jsx($s,{clientThreadId:n}),e[0]=o,e[1]=n,e[2]=l):l=e[2];let a;e[3]!==o||e[4]!==n?(a=Q(o,"retrievalResults")&&t.jsx(Rs,{clientThreadId:n}),e[3]=o,e[4]=n,e[5]=a):a=e[5];let r;e[6]!==o||e[7]!==n?(r=Q(o,"summarizer")&&t.jsx(qs,{clientThreadId:n}),e[6]=o,e[7]=n,e[8]=r):r=e[8];let h;e[9]!==o||e[10]!==i?(h=Q(o,"caterpillar")&&t.jsx(Hs,{taskId:o.caterpillarId,initialTab:o.initialTab,setWidth:i}),e[9]=o,e[10]=i,e[11]=h):h=e[11];let d;e[12]!==o||e[13]!==n?(d=Q(o,"product")&&t.jsx(Vs,{clientThreadId:n}),e[12]=o,e[13]=n,e[14]=d):d=e[14];let f;e[15]!==o||e[16]!==n?(f=Q(o,"entity")&&t.jsx(Cn,{clientThreadId:n}),e[15]=o,e[16]=n,e[17]=f):f=e[17];let u;e[18]!==o||e[19]!==n?(u=Q(o,"n7jupdSources")&&t.jsx(Ws,{clientThreadId:n,messageId:o.messageId}),e[18]=o,e[19]=n,e[20]=u):u=e[20];let m;e[21]!==o||e[22]!==n?(m=!1,e[21]=o,e[22]=n,e[23]=m):m=e[23];let c;return e[24]!==l||e[25]!==a||e[26]!==r||e[27]!==h||e[28]!==d||e[29]!==f||e[30]!==u||e[31]!==m?(c=t.jsxs(t.Fragment,{children:[l,a,r,h,d,f,u,m]}),e[24]=l,e[25]=a,e[26]=r,e[27]=h,e[28]=d,e[29]=f,e[30]=u,e[31]=m,e[32]=c):c=e[32],c};function Ot(s){"use forget";const e=k.c(73),{children:i,hideNavigation:n,mobileHeaderContent:o,mobileHeaderRightContentExpanded:l,mobileHeaderLeftContent:a,mobileHeaderRightContent:r,mobileHeaderBottomContent:h,renderNavSidebar:d,threadFlyout:f,forceOpenDesktopSidebar:u}=s,m=n===void 0?!1:n,c=u===void 0?!1:u,p=B(),g=!ze(p),x=je(Tn),b=Po(),S=zo(),j=Ct();let v,y;e[0]!==i?(v=[],y=null,le.Children.forEach(i,ae=>{le.isValidElement(ae)&&(ae.type===Ot.Sidebars?y=ae:v.push(ae))}),e[0]=i,e[1]=v,e[2]=y):(v=e[1],y=e[2]);const C=!g&&!m&&d!=null,T=!m&&(C||g)&&!0;let w;e[3]!==j?(w=j?Q(j,"summarizer"):!1,e[3]=j,e[4]=w):w=e[4];const E=w,M=j?!Q(j,"summarizer"):!1;let _,G,L,D,A,P,U,F,$;if(e[5]!==x||e[6]!==p||e[7]!==c||e[8]!==S||e[9]!==b||e[10]!==g||e[11]!==h||e[12]!==o||e[13]!==l||e[14]!==a||e[15]!==r||e[16]!==d||e[17]!==M||e[18]!==T||e[19]!==C||e[20]!==E){const Bt=_e(p).checkGate("1536947154");_=b&&(E||M),G="flex h-full w-full flex-col",e[30]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(ne,{children:t.jsx(Ks,{})}),e[30]=L):L=e[30];const ve=x!=="popover-nav"&&"z-0";e[31]!==ve?($=I("relative flex h-full w-full flex-1 transition-colors",ve),e[31]=ve,e[32]=$):$=e[32],U="relative flex h-full w-full flex-row";let se;e[33]!==c||e[34]!==S||e[35]!==g||e[36]!==d||e[37]!==C?(se=C&&t.jsx(un,{isPopover:S,forceOpenDesktopSidebar:c,children:g?t.jsx(tn,{}):d?.()}),e[33]=c,e[34]=S,e[35]=g,e[36]=d,e[37]=C,e[38]=se):se=e[38],e[39]!==se?(F=t.jsx(be,{initial:!1,children:se}),e[39]=se,e[40]=F):F=e[40],A=I("relative flex h-full max-w-full flex-1 flex-col",!1),e[41]!==h||e[42]!==o||e[43]!==l||e[44]!==a||e[45]!==r||e[46]!==T||e[47]!==C?(P=T&&t.jsxs(t.Fragment,{children:[t.jsx(ne,{children:t.jsx(Qs,{})}),t.jsx(dn,{rightContentExpanded:l,onOpenSidebar:Nn,showNavSidebar:C,leftContent:a,rightContent:r,bottomContent:h,children:o})]}),e[41]=h,e[42]=o,e[43]=l,e[44]=a,e[45]=r,e[46]=T,e[47]=C,e[48]=P):P=e[48],D=I("transition-width relative h-full w-full flex-1 overflow-auto",Bt&&"-translate-y-[calc(env(safe-area-inset-bottom,0px)/2)] pt-[calc(env(safe-area-inset-bottom,0px)/2)]"),e[5]=x,e[6]=p,e[7]=c,e[8]=S,e[9]=b,e[10]=g,e[11]=h,e[12]=o,e[13]=l,e[14]=a,e[15]=r,e[16]=d,e[17]=M,e[18]=T,e[19]=C,e[20]=E,e[21]=_,e[22]=G,e[23]=L,e[24]=D,e[25]=A,e[26]=P,e[27]=U,e[28]=F,e[29]=$}else _=e[21],G=e[22],L=e[23],D=e[24],A=e[25],P=e[26],U=e[27],F=e[28],$=e[29];let W;e[49]!==v||e[50]!==D?(W=t.jsx("main",{className:D,id:"main","z-index":"-1",children:v}),e[49]=v,e[50]=D,e[51]=W):W=e[51];let Z;e[52]!==W||e[53]!==A||e[54]!==P?(Z=t.jsxs("div",{className:A,children:[P,W]}),e[52]=W,e[53]=A,e[54]=P,e[55]=Z):Z=e[55];let Y;e[56]!==Z||e[57]!==U||e[58]!==F?(Y=t.jsxs("div",{className:U,children:[F,Z]}),e[56]=Z,e[57]=U,e[58]=F,e[59]=Y):Y=e[59];let K;e[60]!==_||e[61]!==f?(K=t.jsx(ne,{children:t.jsx(wn,{isExpanded:_,children:f})}),e[60]=_,e[61]=f,e[62]=K):K=e[62];let N;e[63]!==y||e[64]!==Y||e[65]!==K||e[66]!==$?(N=t.jsxs("div",{className:$,children:[Y,K,y]}),e[63]=y,e[64]=Y,e[65]=K,e[66]=$,e[67]=N):N=e[67];let R;e[68]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsxs(ne,{children:[t.jsx(Xs,{}),t.jsx(Zs,{useManuallyControlledVisibility:!0})]}),e[68]=R):R=e[68];let J;return e[69]!==G||e[70]!==L||e[71]!==N?(J=t.jsxs("div",{className:G,children:[L,N,R]}),e[69]=G,e[70]=L,e[71]=N,e[72]=J):J=e[72],J}function Nn(){return fe.setSidebarOpen(!0)}function Tn(s){return s.activeSidebar}function kn(s){"use forget";const e=k.c(2),{children:i}=s;let n;return e[0]!==i?(n=t.jsx(t.Fragment,{children:i}),e[0]=i,e[1]=n):n=e[1],n}Ot.Sidebars=kn;export{On as C,Fn as F,Bn as N,Ko as S,Qo as a,Ot as b,An as c,Dn as d,Cn as e};
//# sourceMappingURL=oasstlv4rvegny2a.js.map

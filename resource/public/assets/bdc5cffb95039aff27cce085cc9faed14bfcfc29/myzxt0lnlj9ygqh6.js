import{e as h,j as e,M as c,d as w,r as i,b as A,f as L,a as O,A as _,h as F,m as G}from"./cs7toih8jegb7teq.js";import{bQ as b,nP as B,bV as D,bh as R,P as u,B as f,f as N,e as z,bW as X,c2 as Y,cI as H}from"./dmck639k4dv7claj.js";import{S as v,c as V,P as I,a as W,b as $}from"./jgv1uv4rke0471bq.js";import{ee as Q,en as q,jb as K,hr as J}from"./hnw079jsdm76umup.js";import{a as Z}from"./c3exobbjamq3yofg.js";import{c as ee}from"./iej0cupg2dqkmejt.js";import{I as te}from"./e59wple1sb2rce8v.js";import{u as ae,m as se}from"./kbe4rf7g0jwp6hai.js";import{G as ne}from"./dh0pr96omz6inkq4.js";function oe({workspaceName:a,onChangeWorkspaceName:t,showHeader:s=!0}){const n=h();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(c,{...M.workspaceNameLabel})}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(c,{...M.workspaceNameDescription})})]}),e.jsx(te,{className:"w-full",type:"text",name:"workspace-name",placeholder:n.formatMessage(M.exampleTeamWorkspaceName),value:a,onChange:o=>t(o.target.value),maxLength:64})]})}const M=w({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Set a workspace name for your team. The name can be changed at any time."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}});function re({onNext:a}){const t=b();return t?e.jsx(ce,{onNext:a,currentAccount:t}):e.jsx(B,{})}function ce({onNext:a,currentAccount:t}){const s=h(),n=D(),o=R(),l=t.data,j=Q(s,t,o),[r,S]=i.useState(j||""),[P]=A(),x=P.get("account_id"),m=ae(x??t.data.id),p=i.useCallback(async()=>{if(!t)return;const g=t.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Clicked",g);try{r!==l.name&&(await m.mutateAsync({name:r}),u.logEvent("Account Pay: Create Workspace Modal Renamed",g)),a()}catch{n.warning(s.formatMessage(se.saveError),{hasCloseButton:!0})}},[t,l.name,s,a,m,n,r]);return i.useEffect(()=>{if(!t)return;const g=t.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Show",g)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(c,{...q.nameWorkspace})}),e.jsx(V,{children:e.jsx(oe,{workspaceName:r,onChangeWorkspaceName:S,showHeader:!1})}),e.jsx(f,{loading:m.isPending||t==null,onClick:()=>{p()},disabled:r.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(c,{...N.continueButtonText})})]})}var U=(a=>(a.Landing="landing",a.Setup="setup",a.Naming="naming",a.Invite="invite",a.CAOnboarding="caOnboarding",a.Complete="complete",a))(U||{});const ie={enter:a=>({translateX:a>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:a=>({translateX:a<=0?"50%":"-50%",opacity:0})},C=["landing","naming","invite","caOnboarding","complete"];function le(){const a=L(),t=O(),{currentPath:s,currentStep:n}=fe(),o=z(),l=h(),j=D(),[r,S]=i.useState(1),[P]=A(),x=P.get("account_id");i.useEffect(()=>{function p(){S(-1)}return window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p)}},[]);const m=()=>{S(1);let p=C.indexOf(n);const g=C[p+1],T=g==="caOnboarding"?Y(o,"555825174").get("enabled",!1):!1;g==="caOnboarding"&&u.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:x,experimentFlag:T}),g==="caOnboarding"&&!T&&p++;const E=p+1;x&&t("/"),p!==-1&&E<C.length&&t(s+"#"+C[E])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(_,{mode:"wait",custom:r,children:[n==="landing"&&e.jsx(k,{initial:!1,custom:r,children:e.jsx(de,{onNext:m})},"landing"),n==="naming"&&e.jsx(k,{initial:!1,custom:r,children:e.jsx(re,{onNext:m})},"naming"),n==="invite"&&e.jsx(k,{custom:r,children:e.jsx(ue,{onNext:m})},"invite"),n==="caOnboarding"&&e.jsx(k,{custom:r,children:e.jsx(ge,{onNext:m})},"caOnboarding"),n==="complete"&&e.jsx(k,{custom:r,children:e.jsx(xe,{onNext:()=>{m(),x&&X(a,x,o,l,j),t("/")}})},"complete")]})})}const k=a=>e.jsx(G.div,{initial:"enter",animate:"center",exit:"exit",variants:ie,transition:{translateX:{type:"just"},opacity:{duration:.2}},...a});function de({onNext:a}){const t=b(),s=i.useCallback(()=>{if(!t)return;const n=t.subscriptionAnalyticsParams,l=new URLSearchParams(window.location.search).get("referrer")||document.referrer;u.logEvent("Account Pay: Payment Confirmation Modal Clicked",{...n,referrer:l})},[t]);return i.useEffect(()=>{if(!t)return;const n=t.subscriptionAnalyticsParams,l=new URLSearchParams(window.location.search).get("referrer")||document.referrer;u.logEvent("Account Pay: Payment Confirmation Modal Show",{...n,referrer:l})},[t]),e.jsxs(e.Fragment,{children:[e.jsx(I,{isTrial:!1}),e.jsx(v,{children:e.jsx(c,{...d.standard})}),e.jsx(W,{children:e.jsx(c,{...d.description})}),e.jsx(f,{onClick:()=>{a(),s()},size:"large",loading:t==null,fullWidth:!0,children:e.jsx(c,{...N.continueButtonText})})]})}function ue({onNext:a}){const t=h(),s=b(),{data:n}=K(),o=i.useMemo(()=>s?.subscriptionAnalyticsParams,[s]);return i.useEffect(()=>{s!=null&&u.logEvent("Account Pay: Invite Collaborators Modal Show",o)},[o,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(c,{...d.inviteTitle,values:{seatCount:n.seats_entitled,workspaceName:s.data.name}})}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(c,{...d.completeDescription})}),e.jsx(Z,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:t.formatMessage(d.skipAddMembers),onCancel:a,onSuccess:a,seatCount:n.seats_entitled})]})}const me="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",pe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function ge({onNext:a}){const t=h(),s=b(),[n,o]=i.useState(!1),[l,j]=i.useState(!1);return i.useEffect(()=>{if(!s)return;const r=s.subscriptionAnalyticsParams;u.logEvent("Account Pay: Contextual Answers Step Shown",r)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-max-[384px] h-max-[170px] relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:me,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>j(!0)}),!l&&e.jsx("img",{src:pe,alt:t.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:t.formatMessage(d.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:t.formatMessage(d.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(f,{onClick:()=>o(!0),icon:H,size:"large",fullWidth:!0,children:t.formatMessage(d.caOnboardingConnectButton)}),e.jsx(f,{onClick:()=>a(),size:"large",fullWidth:!0,color:"ghost",children:t.formatMessage(d.skipCaOnboarding)})]}),n&&e.jsx(ne,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:r=>{o(!1),r&&a()}})]})}function xe({onNext:a}){const t=b(),s=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]);i.useEffect(()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(c,{...d.completeTitle})}),e.jsx(W,{children:e.jsx(c,{...d.completeDescription})}),e.jsx(f,{onClick:()=>{a(),n()},size:"large",fullWidth:!0,children:e.jsx(c,{...d.continueToChatgpt})})]})}function fe(){const{hash:a,pathname:t,search:s}=F(),n=a.slice(1);return{currentStep:he(n)?n:"landing",currentPath:t+s}}const he=ee(U),d=w({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function we({isTrial:a,isTeam:t}){const s=h(),n=O(),o=i.useCallback(l=>{l.preventDefault(),u.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs($,{children:[e.jsx(J,{children:e.jsx("title",{children:s.formatMessage(y.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:t?e.jsx(le,{}):e.jsx(je,{isTrial:a,onContinue:o})})]})}function je({isTrial:a,onContinue:t}){const s=a?y.trial:y.standard;return e.jsxs(e.Fragment,{children:[e.jsx(I,{isTrial:!!a}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(v,{children:e.jsx(c,{...s})}),e.jsx(W,{children:e.jsx(c,{...y.paymentReceived})}),e.jsx(f,{onClick:t,size:"large",fullWidth:!0,children:e.jsx(c,{...N.continueButtonText})})]})]})}const y=w({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{we as P};
//# sourceMappingURL=myzxt0lnlj9ygqh6.js.map

import{e as pe,j as o,M as le,r as f,c as he}from"./cs7toih8jegb7teq.js";import{bV as ge,pS as be,C as ye,be as re,z as X,hE as xe}from"./dmck639k4dv7claj.js";import{hB as ke,hC as ve,hD as je,hE as Ce}from"./hnw079jsdm76umup.js";function Te({gizmoId:c,onSuccess:e,onClose:u}){const m=pe(),p=ge(),l=be(),g=async()=>{try{await l.mutateAsync({gizmoId:c}),e()}catch{p.danger({defaultMessage:"Failed to delete GPT. Please try again.",description:"Error message when GPT deletion fails"},{toastId:"gizmo_editor_deletion_modal"})}};return o.jsx(ye,{testId:"modal-gizmo-editor-deletion",isOpen:!0,onClose:u,type:"danger",title:o.jsx(le,{id:"shLmv5",defaultMessage:"Delete GPT"}),primaryButton:o.jsx(re.Button,{title:m.formatMessage({id:"nlWRPu",defaultMessage:"Delete GPT"}),color:"danger",loading:l.isPending,onClick:()=>{g()}}),secondaryButton:o.jsx(re.Button,{title:m.formatMessage({id:"D4IuIb",defaultMessage:"Cancel"}),color:"secondary",onClick:u}),children:o.jsx("div",{className:"text-sm",children:o.jsx(le,{id:"zIR+cK",defaultMessage:"Are you sure you want to delete this GPT? This cannot be undone."})})})}function Oe(c,e){f.useEffect(()=>{const u=m=>{c.every(p=>!p.current?.contains(m.target))&&e()};return document.addEventListener("click",u),()=>{document.removeEventListener("click",u)}},[e,c])}function Ee(c){"use forget";const e=he.c(63),{children:u,className:m,inputClassName:p,inputValue:l,label:g,name:G,onInputChange:L,placeholder:Y,popoverClassName:K,suggestions:s,onTabChange:B,RenderTab:A}=c,V=Y===void 0?g:Y;let D;e[0]!==s?(D=typeof s=="object"?Object.keys(s):[],e[0]=s,e[1]=D):D=e[1];const M=D,[Z,ie]=f.useState(M),[d,_]=f.useState(0);let I;e[2]!==B||e[3]!==s?(I=t=>{_(t);const a=Object.keys(s)[t];a&&B?.(a)},e[2]=B,e[3]=s,e[4]=I):I=e[4];const h=I;(M.length!==Z.length||M.some((t,a)=>t!==Z[a]))&&(ie(M),_(0));const[n,b]=f.useState(-1),[H,w]=f.useState(!1);let R;e[5]!==s?(R=Array.isArray(s)?s.length>0:Object.values(s).some(Ae),e[5]=s,e[6]=R):R=e[6];const U=R,r=Array.isArray(s)?s:s[Object.keys(s)[d]??Object.keys(s)[0]],i=f.useId(),ee=f.useRef(null),te=f.useRef(null),se=f.useRef(null);let T;e[7]!==l||e[8]!==L?(T=t=>{const a=t.target.value;a!==l&&(b(-1),L(a),w(!0))},e[7]=l,e[8]=L,e[9]=T):T=e[9];const W=T;let E;e[10]!==r||e[11]!==n||e[12]!==d||e[13]!==h||e[14]!==s?(E=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),w(!1)),t.key==="Tab"&&w(!1),t.key==="ArrowDown"&&(t.preventDefault(),b((n+1)%r.length)),t.key==="ArrowUp"&&(t.preventDefault(),b((n-1+r.length)%r.length)),n>-1&&!Array.isArray(s)&&(t.key==="ArrowRight"&&(t.preventDefault(),h((d+1)%Object.keys(s).length),b(0)),t.key==="ArrowLeft"&&(t.preventDefault(),h((d-1+Object.keys(s).length)%Object.keys(s).length),b(0)),t.key==="Enter"&&(t.preventDefault(),r[n].onClick()))},e[10]=r,e[11]=n,e[12]=d,e[13]=h,e[14]=s,e[15]=E):E=e[15];const $=E;let N;e[16]!==u||e[17]!==U||e[18]!==H||e[19]!==l?(N=(u!=null||l.trim()!==""&&U)&&H,e[16]=u,e[17]=U,e[18]=H,e[19]=l,e[20]=N):N=e[20];const y=N;let oe,z;e[21]===Symbol.for("react.memo_cache_sentinel")?(z=[ee,te,se],e[21]=z):z=e[21],oe=z;const ce=oe;let S;e[22]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{w(!1)},e[22]=S):S=e[22],Oe(ce,S);const q=r[n]?.id!=null?i+r[n].id:void 0;let F;e[23]===Symbol.for("react.memo_cache_sentinel")?(F=()=>w(!0),e[23]=F):F=e[23];const J=n>-1;let x;e[24]!==m||e[25]!==i||e[26]!==p||e[27]!==l||e[28]!==y||e[29]!==g||e[30]!==G||e[31]!==W||e[32]!==$||e[33]!==V||e[34]!==q||e[35]!==J?(x=o.jsx(ke,{asChild:!0,children:o.jsx("div",{className:"relative z-10 grow",ref:ee,children:o.jsx(xe,{"aria-activedescendant":q,"aria-autocomplete":"none","aria-controls":i,"aria-expanded":y,ariaLabel:g,autoCapitalize:"off",autoComplete:"off",className:m,inputClassName:p,list:"suggested-choices",name:G,onChange:W,onFocus:F,onKeyDown:$,placeholder:V,role:"combobox",spellCheck:!1,suppressFocus:J,value:l})})}),e[24]=m,e[25]=i,e[26]=p,e[27]=l,e[28]=y,e[29]=g,e[30]=G,e[31]=W,e[32]=$,e[33]=V,e[34]=q,e[35]=J,e[36]=x):x=e[36];let k;e[37]!==K?(k=X("border-token-border-default bg-token-main-surface-secondary group-has-focus:border-token-border-xheavy relative -top-1 z-50 m-0 max-h-[calc(var(--radix-popper-available-height)-2rem)] w-[var(--radix-popper-anchor-width)] min-w-fit cursor-pointer overflow-y-auto rounded-lg rounded-t-none border border-t-0 px-1 py-1",K),e[37]=K,e[38]=k):k=e[38];let v;e[39]!==A||e[40]!==d||e[41]!==h||e[42]!==s?(v=!Array.isArray(s)&&o.jsx("div",{className:"mb-1 flex",role:"tablist",ref:se,children:Object.keys(s).map((t,a)=>o.jsx("button",{role:"tab",className:X("text-token-text-tertiary px-3 pb-2 text-xs font-bold",d===a?"border-b-2 font-bold":"hover:text-token-text-primary cursor-pointer font-semibold"),"aria-selected":d===a,onClick:()=>{h(a),b(0)},children:A?o.jsx(A,{tab:t}):t},t))}),e[39]=A,e[40]=d,e[41]=h,e[42]=s,e[43]=v):v=e[43];let j;if(e[44]!==r||e[45]!==i||e[46]!==n){let t;e[48]!==i||e[49]!==n?(t=(a,ne)=>{const{id:ae,className:ue,focusedClassName:de,onClick:fe,children:me}=a;return o.jsx("li",{id:i+ae,role:"option",className:X(ue,n===ne&&de),onClick:()=>{fe()},"aria-selected":n===ne,children:me},ae)},e[48]=i,e[49]=n,e[50]=t):t=e[50],j=r.map(t),e[44]=r,e[45]=i,e[46]=n,e[47]=j}else j=e[47];let C;e[51]!==i||e[52]!==j?(C=o.jsx("ul",{id:i,role:"listbox",ref:te,children:j}),e[51]=i,e[52]=j,e[53]=C):C=e[53];const Q=r.length===0&&u;let O;e[54]!==k||e[55]!==v||e[56]!==C||e[57]!==Q?(O=o.jsx(ve,{children:o.jsxs(je,{className:k,onOpenAutoFocus:we,children:[v,C,Q]})}),e[54]=k,e[55]=v,e[56]=C,e[57]=Q,e[58]=O):O=e[58];let P;return e[59]!==y||e[60]!==x||e[61]!==O?(P=o.jsxs(Ce,{open:y,modal:!1,children:[x,O]}),e[59]=y,e[60]=x,e[61]=O,e[62]=P):P=e[62],P}function we(c){c.preventDefault()}function Ae(c){return c.length>0}export{Ee as C,Te as G};
//# sourceMappingURL=ce8zjbfxg2hovnx5.js.map

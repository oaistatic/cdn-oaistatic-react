import{r as a,j as e,A as D,m as q,M as r}from"./cs7toih8jegb7teq.js";import{C as y,u as C,d as F,e as G,p as R,G as B,B as Y,lb as $,bE as V,f6 as K,aM as W,U as H,lh as J,T as Q,g as Z,ft as ee,a0 as ie}from"./dmck639k4dv7claj.js";import{u as oe}from"./f3smjfr1xyyoa8j5.js";import{jm as U,jn as se,U as te,jo as ae,jp as ne,jq as P,jr as ce}from"./hnw079jsdm76umup.js";import{s as re,V as de}from"./gu17xwkj79gs7xr2.js";import{S as le}from"./emczaw0r32i6y0n1.js";import"./eq5mxjsfi2cjwfyk.js";const ue=()=>{const i=U();return a.useCallback(t=>{re.set(t),i.setState({isVoiceModeActive:!0})},[i])};function A(i){return e.jsx(y,{testId:"modal-voice-picker",isOpen:i.isOpen,onClose:i.onClose,type:"success",size:"fullscreen",children:e.jsx(D,{children:e.jsx(q.div,{children:e.jsx(de,{conversationId:i.conversationId,onClose:i.onClose,cameFromNux:i.cameFromNux,initialVoiceName:i.initialVoiceName})})})})}function u({title:i,description:t,icon:d}){return e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"shrink-0",children:d}),e.jsxs("div",{className:"text-start",children:[e.jsx("h4",{className:"text-token-text-primary font-semibold",children:e.jsx(r,{...i})}),e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(r,{...t})})]})]})}function me({conversationId:i,initialVoiceName:t}){const d=C(F.hasSeenAdvancedVoiceNuxFullPage),c=G(),N=R(c,"4291846205"),n=B(c),m=n?.isPlus()??!1,l=n?.isEnterprisey()??!1,[v,p]=a.useState(!1),[f,g]=a.useState(!1),[o,h]=a.useState(!1),[x,S]=a.useState(!0);a.useEffect(()=>{requestAnimationFrame(()=>g(!0))},[]);const I=()=>{h(!0),$.voiceAdvancedDisclosureAccepted.click(),p(!0),setTimeout(async()=>{S(!1)},se)},j=()=>{d.markAsViewed()},k=e.jsx(u,{...s.naturalConversations}),X=e.jsx(u,{...s.freePreview}),z=e.jsx(u,{...s.multipleVoices}),w=e.jsx(u,{...s.personalized}),b=e.jsx(u,{...l?s.controlEnterprise:s.controlDefault}),E=[X,k,w,b],_=[k,z,w,b],M=l||m||N,O=M?_:E;return e.jsxs(e.Fragment,{children:[e.jsx(A,{isOpen:v,onClose:j,conversationId:i,cameFromNux:!0,initialVoiceName:t}),e.jsx(y,{testId:"modal-advanced-voice-nux",isOpen:x,onClose:j,type:"success",size:"fullscreen",className:`bg-white transition-opacity duration-300 dark:bg-gray-800 ${f&&!o?"opacity-100":"opacity-0"}`,showOverlayBackground:!1,children:e.jsxs("div",{className:"mx-auto flex h-full w-full max-w-lg flex-col items-center justify-center px-4 text-center",children:[e.jsx("h1",{className:"text-token-text-primary mb-9 text-2xl font-semibold",children:e.jsx(r,{...M?s.headingPaid:s.headingFreePreview})}),e.jsx("div",{className:"mb-9 space-y-5",children:O.map((T,L)=>e.jsx("div",{children:T},L))}),e.jsxs("p",{className:"text-token-text-primary mb-9 text-sm",children:[e.jsx(r,{...s.disclaimerMistakes}),e.jsx("br",{}),e.jsx(r,{...s.disclaimerUsageLimits})]}),e.jsx(Y,{className:"bg-token-text-primary rounded-full px-20 py-3 font-semibold",onClick:I,children:e.jsx(r,{id:"ppi93b",defaultMessage:"Continue"})})]})})]})}const s={naturalConversations:{title:{id:"advanced-voice-nux-full-page.natural-conversations",defaultMessage:"Natural conversations",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.natural-conversations-description",defaultMessage:"Senses and responds to interruptions, humor, and more.",description:"Section description in NUX modal for advanced voice on web. ‘Senses’ is a verb meaning the system detects or perceives user interruptions or humor."},icon:e.jsx(ne,{className:"me-4 h-8 w-8"})},freePreview:{title:{id:"advanced-voice-nux-full-page.free-preview",defaultMessage:"Free monthly preview",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.free-preview-description",defaultMessage:"Use advanced voice for a short period each month.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(ae,{className:"me-4 h-8 w-8"})},multipleVoices:{title:{id:"advanced-voice-nux-full-page.multiple-voices",defaultMessage:"Multiple voices",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.multiple-voices-description",defaultMessage:"Offers an expanded set of voices to choose from.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(le,{className:"me-4 h-8 w-8"})},personalized:{title:{id:"advanced-voice-nux-full-page.personalized-title",defaultMessage:"Personalized to you",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.personalized-description",defaultMessage:"Can use memory and custom instructions to shape responses.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(te,{className:"me-4 h-8 w-8"})},controlEnterprise:{title:{id:"advanced-voice-nux-full-page.control-enterprise-title",defaultMessage:"You’re in control",description:"Section title in NUX modal for advanced voice on web"},icon:e.jsx(V,{className:"me-4 h-8 w-8"}),description:{id:"advanced-voice-nux-full-page.control-enterprise-description",defaultMessage:"Your audio recordings are saved but not used for training. Learn how to <link>manage recordings</link>.",description:"Section description in NUX modal for advanced voice on web",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8400625-voice-mode-faq#h_c5d6fe534b",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}}},controlDefault:{title:{id:"advanced-voice-nux-full-page.control-default-title",defaultMessage:"You’re in control",description:"Section title in NUX modal for advanced voice on web"},icon:e.jsx(V,{className:"me-4 h-8 w-8"}),description:{id:"advanced-voice-nux-full-page.control-default-description",defaultMessage:"Audio recordings are saved, and you can delete them at any time. Learn how to <link>manage recordings</link>.",description:"Section description in NUX modal for advanced voice on web",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8400625-voice-mode-faq#h_c5d6fe534b",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}}},headingFreePreview:{id:"advanced-voice-nux-full-page.heading-free-preview",defaultMessage:"Sneak a peek at advanced voice mode",description:"Main heading shown to free users in the advanced voice NUX modal. ‘Sneak a peek’ is an idiom meaning to briefly try it out."},headingPaid:{id:"advanced-voice-nux-full-page.heading-paid",defaultMessage:"Say hello to advanced voice mode",description:"Main heading shown to paid users in the advanced voice NUX full-page modal"},disclaimerMistakes:{id:"advanced-voice-nux-full-page.disclaimer-mistakes",defaultMessage:"<link>Voice mode can make mistakes</link> — check important info.",description:"First disclaimer line reminding users that voice mode may be inaccurate",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8313428-does-chatgpt-tell-the-truth",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}},disclaimerUsageLimits:{id:"advanced-voice-nux-full-page.disclaimer-usage-limits",defaultMessage:"Usage limits may change.",description:"Second disclaimer line informing users that usage limits are subject to change"}};function ve(){const i=C(F.hasSeenAdvancedVoiceNuxFullPage);return!i.isLoading&&i.eligible}function je({clientThreadId:i}){const t=P(o=>o.showVoicePicker),d=P(o=>o.showNuxFullPage),c=U(),n=K(i)??i,{isUnauthenticated:m}=W(),{prospectiveModelId:l}=ce(i),{setValue:v}=oe(H.VoiceName),p=ve(),f=J(),g=ue();return a.useEffect(()=>{const o=sessionStorage.getItem("selectedVoiceName"),h=x=>{try{sessionStorage.removeItem("selectedVoiceName"),g({voice:x,conversation_id:void 0,eventSource:"login_page",voice_mode:"advanced",clientThreadId:ee(),gizmo_id:Q.getGizmoId(Z(n)),requested_default_model:l??void 0,skipCacheReason:"login-direct-to-voice-mode"})}catch(S){ie.addError(`Failed to start voice mode after voice picker: ${S}`,{protocol:f})}};o&&!m&&(v(o),h(o))},[n,m,v,g,l,f]),a.useEffect(()=>{p||c.setState(o=>{o.showNuxFullPage=!1})},[p,c]),d?e.jsx(me,{conversationId:n}):t?e.jsx(A,{isOpen:t,onClose:()=>{c.setState(o=>{o.showVoicePicker=!1})},conversationId:n,cameFromNux:!0}):null}export{je as VoiceModals};
//# sourceMappingURL=hs6r5d70qc3z91o7.js.map

import{r as f,j as t,H as L,B as E,m as w,A as C,h as B}from"./cs7toih8jegb7teq.js";import{aN as M,dV as G,z as j,bu as _,B as z,hC as O}from"./dmck639k4dv7claj.js";import{H as $,d as A,b as V,c as F}from"./q137kjy19x38vhq0.js";import{jJ as S}from"./hnw079jsdm76umup.js";import{X as H,P as W}from"./epsod49pvmgijnbt.js";import{M as X}from"./eindlseet5fzr302.js";import{S as Y}from"./o12mkc4t9o2t0ta8.js";const J=f.memo(function({categories:o,activeCategory:e,onSelect:c,darkModeDisabled:r}){const s=M(),[a,d]=S({threshold:0}),[u,x]=S({threshold:0}),[p,N]=f.useState(!0);f.useEffect(()=>{if(s)return;const m=G(()=>{N(window.scrollY>document.body.scrollHeight-window.innerHeight-200)},100);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[s]);const g=s&&!a,n=!u;return t.jsxs(t.Fragment,{children:[t.jsxs(L,{id:"category-toggle",children:[t.jsx("div",{ref:d}),t.jsx(T,{categories:o,activeCategory:e,onSelect:c,className:j({"sticky top-22":s,"shadow-lg":g&&s}),darkModeDisabled:r}),t.jsx("div",{ref:x})]}),t.jsx(L,{id:"category-toggle-mobile",children:t.jsx(T,{categories:o,activeCategory:e,onSelect:c,className:j("fixed start-0 end-0 bottom-2 shadow-lg transition-[transform_opacity] duration-300",{"translate-y-0 opacity-100":!s&&n&&!p,"translate-y-full opacity-0":!s&&(!n||p),hidden:s}),darkModeDisabled:r})})]})});function T({categories:l,activeCategory:o,onSelect:e,className:c,darkModeDisabled:r}){const s=E();return t.jsx("div",{className:j("z-10 mx-auto -mt-2 flex w-fit gap-2 overflow-x-auto rounded-full p-1",{"bg-white":r,"bg-token-bg-tertiary":!r},c),children:l.map(a=>t.jsxs("button",{onClick:()=>{H.logCategoryClick({category_name:a.name,category_slug:a.slug}),e(a)},className:"relative rounded-full px-4 py-2 font-medium",children:[o.name===a.name&&(s?t.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-full",style:{backgroundColor:a.color}}):t.jsx(w.span,{layoutId:"bubble",className:"bg-token-bg-primary pointer-events-none absolute inset-0 rounded-full transition-colors",style:{backgroundColor:a.color},transition:{layout:{type:"spring",bounce:.2,duration:.6}}})),t.jsx("span",{className:"relative z-10",children:a.name})]},a.name))})}function Z({assets:l,footnote:o,prefooterTitle:e,prefooterCTALabel:c,prefooterCTALink:r,darkModeDisabled:s}){const a=_();return t.jsxs("footer",{className:"py-4",children:[t.jsx("div",{className:"relative mx-auto max-w-3xl px-4 text-center",children:t.jsx(C,{children:l?.[2]&&t.jsx(w.img,{src:l[2].url,alt:l[2].alt,className:"mx-auto w-4/5 max-w-[600px] md:w-1/2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:a?0:.5}},l[2].url)})}),t.jsxs("div",{className:"mx-auto mt-4 flex max-w-screen-2xl flex-col items-center gap-5 px-4 pb-2 text-center text-sm whitespace-pre-line sm:px-8 sm:pb-4",children:[e&&t.jsxs("div",{className:j("my-4 flex w-full flex-col items-center justify-center gap-4 rounded-2xl p-6 py-10 text-center",{"bg-white":s,"bg-token-bg-tertiary":!s}),children:[t.jsx("h2",{className:"text-h3 max-w-[600px] text-balance",children:e}),t.jsxs(z,{color:"primary",as:"a",to:r,openNewTab:!0,size:"medium",children:[c,t.jsx(Y,{className:"ms-1 h-4 w-4"})]})]}),o&&t.jsx("p",{children:o}),t.jsx(X,{})]})]})}const q=24,K=20,Q=38,U=60,D=66,tt=2;function et({activeCategory:l,prompts:o,darkModeDisabled:e}){const c=E(),r=M(),s=O(),a=f.useMemo(()=>{if(!r)return o.map(n=>[n]);const d=s?3:2,u=Array.from({length:d},()=>[]),x=Array.from({length:d},()=>0),p=n=>{const m=Math.ceil(n.title.length/U),y=Math.ceil(n.prompt.length/D),v=Math.min(2,Math.ceil(n.attachments.length/tt))*Q;return m*q+y*K+v},g=Math.floor(o.length/d)*d;for(let n=0;n<g;n++){const m=o[n],y=p(m),i=n%d;u[i].push(m),x[i]+=y}for(let n=g;n<o.length;n++){const m=o[n],y=p(m),i=x.indexOf(Math.min(...x));u[i].push(m),x[i]+=y}return u},[o,s,r]);return t.jsx("div",{className:"can-hover:[&:has(.prompt-card:hover)_.prompt-card:not(:hover)]:opacity-70 can-hover:[&:has(.prompt-card:focus-within)_.prompt-card:not(:focus-within)]:opacity-70 mx-auto mt-5 flex max-w-screen-2xl flex-col gap-4 px-4 sm:mt-12 sm:flex-row sm:gap-4 sm:px-8",children:a.map((d,u)=>t.jsx("div",{className:"flex flex-1 gap-4 sm:flex-col",children:t.jsx(C,{mode:"wait",children:d.map((x,p)=>t.jsx(w.div,{className:"w-full backdrop-blur-lg",initial:{opacity:0,y:c?0:20},animate:{opacity:1,y:0},exit:{opacity:0,transition:{duration:.2}},transition:{duration:r?.4:.2,delay:r?u*.05+p*.05:0},children:t.jsx(W,{prompt:x,darkModeDisabled:e,categorySlug:l.slug})},`${l.name}-${u}-${p}`))})},u))})}function st({title:l,description:o,assets:e,overrides:c,className:r}){const s=_(),a=t.jsx(C,{children:e.length>0&&t.jsxs("div",{className:"md:[h-200px] -my-6 flex h-[240px] justify-around sm:mt-5 sm:mb-0 sm:h-auto",children:[t.jsx(w.img,{src:e[0].url,alt:e[0].alt,className:"aspect-auto max-w-[320px] sm:absolute sm:start-10 sm:top-30 sm:w-1/4 md:top-20 lg:-top-24",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:s?0:.5}},e[0].url),t.jsx(w.img,{src:e[1].url,alt:e[1].alt,className:"aspect-auto max-w-[320px] sm:absolute sm:end-10 sm:top-30 sm:block sm:w-1/4 md:top-20 lg:-top-24",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:s?0:.5}},e[1].url)]})});return t.jsx("section",{className:j("relative pt-12 text-center sm:pt-20 sm:pb-28 md:pt-36",r),children:t.jsxs("div",{className:"relative mx-auto max-w-screen-2xl px-4",children:[t.jsx("div",{className:"hidden sm:block",children:a}),t.jsx("h1",{className:"text-h1 mx-auto mb-2 max-w-md text-balance whitespace-pre-line sm:mb-4 sm:max-w-lg",style:{maxWidth:c?.titleMaxWidth},children:l}),t.jsx("p",{className:"mx-auto max-w-md text-sm text-balance whitespace-pre-line sm:max-w-lg sm:text-lg",children:o}),t.jsx("div",{className:"block sm:hidden",children:a})]})})}function mt({pageData:l,audience:o,headerNavData:e}){const{title:c,description:r,prompts_with_categories:s,footnote:a,template:d,overrides:u,prefooterTitle:x,prefooterCTALabel:p,prefooterCTALink:N}=l,g=s.map(h=>h.category),n=s.flatMap(h=>h.category.prompts),{hash:m}=B(),y=g.find(h=>h.slug===m.slice(1)),[i,v]=f.useState(y??g[0]),b=d==="colorful",[k,I]=f.useState(!1),R=f.useCallback(()=>{I(h=>!h)},[]);function P(h){v(h),window.history.replaceState({},"",`#${h.slug}`)}return f.useEffect(()=>{H.init({audience:o})},[o]),t.jsxs("div",{className:j("font-oai min-h-screen transition-colors duration-500",{"text-black":b}),style:{backgroundColor:i.color},children:[e&&t.jsxs($.Provider,{value:{effectiveLocale:A,isNavigationMobileOpen:k,toggleNavigationMobile:R},children:[t.jsx(V,{hideBg:i.color!=null&&i.color!=="",navData:e,disableDarkMode:b,style:{backgroundColor:i.color}}),t.jsx(F,{data:e,locale:A,style:{backgroundColor:i.color}})]}),t.jsx(st,{title:c,description:r,assets:i.assets,overrides:u,className:j({"pt-20":!!e})}),g.length>1&&t.jsx(J,{categories:g,activeCategory:i,onSelect:P,darkModeDisabled:b}),t.jsx(et,{activeCategory:i,prompts:i.slug===""?n:i.prompts,categories:g,darkModeDisabled:b}),t.jsx(Z,{assets:i.assets,footnote:a,prefooterTitle:x,prefooterCTALabel:p,prefooterCTALink:N,darkModeDisabled:b})]})}export{mt as P};
//# sourceMappingURL=eayc5z0x1bpaipgk.js.map

import{dz as l,p as u}from"./d0xa318sl7ywi0za.js";import{p as f,i as c,a as h}from"./ldtpmsnzn9ens47o.js";import{W as p}from"./baz4b8nlf8t2lb95.js";import{u as E,h as M,i as w,n as C}from"./mw35uwhq4g8r9eam.js";function W({onSuccess:e,showSuccessToast:m=!0}){const i=E(),a=l(),s=u(),d=M();return w({mutationFn:t=>p.createEnvironment(t),onSuccess:async t=>{var n,o,r;t&&f(i,t,{id:(n=a==null?void 0:a.id)!=null?n:"",email:(o=a==null?void 0:a.email)!=null?o:"",name:(r=a==null?void 0:a.name)!=null?r:""}),await Promise.all([c(i),h(i,t==null?void 0:t.id)]),m&&s.success(d.formatMessage({id:"wham.whamMutations.environmentCreatedSuccessfully",defaultMessage:"Environment created successfully"})),e==null||e(t)},onError:()=>{s.danger(C({id:"wham.whamMutations.failedToCreateEnvironment",defaultMessage:"Failed to create environment"}),{toastId:"wham_mutations_failed_to_create_environment"})}})}export{W as u};
//# sourceMappingURL=fljft0gbsnm1ovqa.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fabc5eov4knbmh55.js","assets/mw35uwhq4g8r9eam.js","assets/hwv1nfc68emkcja2.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/ht2hka2i0ylhd27y.js"])))=>i.map(i=>d[i]);
var Pt=Object.defineProperty,Lt=Object.defineProperties;var It=Object.getOwnPropertyDescriptors;var Ie=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var Ze=(t,e,a)=>e in t?Pt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,J=(t,e)=>{for(var a in e||(e={}))Ye.call(e,a)&&Ze(t,a,e[a]);if(Ie)for(var a of Ie(e))et.call(e,a)&&Ze(t,a,e[a]);return t},ie=(t,e)=>Lt(t,It(e));var tt=(t,e)=>{var a={};for(var n in t)Ye.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&Ie)for(var n of Ie(t))e.indexOf(n)<0&&et.call(t,n)&&(a[n]=t[n]);return a};import{r as K,_ as Te,c as ue,j as s,h as ge,b as Rt,M as I,u as Dt}from"./mw35uwhq4g8r9eam.js";import{s5 as At,be as $e,cF as Le,h5 as Wt,cw as De,fB as G,e7 as gt,s9 as be,sd as Ae,fH as ht,f7 as W,R as xt,mk as Vt,fG as yt,u as vt,p as _t,al as Tt,dz as $t,qp as Ut,s0 as P,hq as Bt,fC as qt,tJ as bt,dy as Ft,$ as st,a0 as at,aB as zt,pB as nt,sc as Kt,tK as rt,dg as Qt,aA as qe,mf as Gt,hA as Ht,fg as Jt,bq as it,gh as ot,_ as Re,tL as Xt,tM as Fe,dk as Zt}from"./d0xa318sl7ywi0za.js";import{p4 as Yt,V as pe,B as es,ec as ts,e8 as lt,bI as Je,p5 as ss,p6 as as,aE as kt,e6 as jt,lI as wt,ml as ns,ex as rs,ew as is}from"./g2euln7v5pbm31qa.js";import{L as os,R as ls,X as cs}from"./nlbf1hgfq5fc7tvs.js";import{C as ds}from"./by0t8nr40o9stuof.js";import{c as us,E as ms}from"./c50t1cee4z886ma0.js";import{_ as fs,a as ct,g as ps,b as gs,d as ze,v as hs,e as dt,u as xs,f as ys,S as vs,c as Ke}from"./errezp2ed2fpin7m.js";import{a as _s}from"./e1t6unu3olubcgkg.js";import"./kfdkis1zwf4ccfgg.js";import"./ol9d5wxhynx9q2is.js";import"./mbmcx8v24u1ao1ke.js";import"./ox7635ffwodpca7w.js";var bs=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],ut=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=String(e).toLowerCase(),r=String(n.getOptionValue(a)).toLowerCase(),c=String(n.getOptionLabel(a)).toLowerCase();return r===o||c===o},Qe={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,a,n,o){return!(!e||a.some(function(r){return ut(e,r,o)})||n.some(function(r){return ut(e,r,o)}))},getNewOptionData:function(e,a){return{label:a,value:e,__isNew__:!0}}};function ks(t){var e=t.allowCreateWhileLoading,a=e===void 0?!1:e,n=t.createOptionPosition,o=n===void 0?"last":n,r=t.formatCreateLabel,c=r===void 0?Qe.formatCreateLabel:r,i=t.isValidNewOption,y=i===void 0?Qe.isValidNewOption:i,p=t.getNewOptionData,l=p===void 0?Qe.getNewOptionData:p,f=t.onCreateOption,h=t.options,u=h===void 0?[]:h,_=t.onChange,g=fs(t,bs),N=g.getOptionValue,D=N===void 0?gs:N,w=g.getOptionLabel,U=w===void 0?ps:w,d=g.inputValue,b=g.isLoading,x=g.isMulti,S=g.value,q=g.name,j=K.useMemo(function(){return y(d,ct(S),u,{getOptionValue:D,getOptionLabel:U})?l(d,c(d)):void 0},[c,l,U,D,d,y,u,S]),V=K.useMemo(function(){return(a||!b)&&j?o==="first"?[j].concat(ze(u)):[].concat(ze(u),[j]):u},[a,o,b,j,u]),A=K.useCallback(function(O,B){if(B.action!=="select-option")return _(O,B);var Y=Array.isArray(O)?O:[O];if(Y[Y.length-1]===j){if(f)f(d);else{var F=l(d,d),ne={action:"create-option",name:q,option:F};_(hs(x,[].concat(ze(ct(S)),[F]),F),ne)}return}_(O,B)},[l,d,x,q,j,f,_,S]);return dt(dt({},g),{},{options:V,onChange:A})}var js=K.forwardRef(function(t,e){var a=xs(t),n=ks(a);return K.createElement(ys,At({ref:e},n))}),ws=js;const Cs=$e(()=>Te(()=>import("./fabc5eov4knbmh55.js"),__vite__mapDeps([0,1])).then(t=>t.DirectorySyncResourceManagedIndication));function Ct({value:t,onChange:e,options:a,onSearch:n,placeholder:o,trailingComponent:r,isLoading:c,menuIsOpen:i,classNames:y,noOptionsMessage:p,inputValue:l,onKeyDown:f,getMultiValueConfig:h}){const u=ge(),_=u.formatMessage({id:"F+GhgL",defaultMessage:"People outside of your workspace cannot be added"}),g=d=>s.jsx(Ke.IndicatorsContainer,ie(J({},d),{children:r})),N=(d,b)=>b.context==="value"?d.label:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm",children:d.label}),d.sublabel&&s.jsx("span",{className:"text-token-text-secondary text-xs",children:d.sublabel})]}),d.kind==="group"&&d.isScimManaged&&s.jsx(Cs,{})]});return{className:"react-select-container min-w-0",classNamePrefix:"react-select",isMulti:!0,isClearable:!1,isLoading:c,menuIsOpen:i,options:a,value:t,classNames:y,inputValue:l,getOptionValue:d=>"".concat(d.kind,":").concat(d.id),getOptionLabel:d=>d.label,onChange:d=>e(d),onInputChange:(d,b)=>{b.action!=="menu-close"&&b.action!=="input-blur"&&n(d,b)},placeholder:o,openMenuOnFocus:!0,openMenuOnClick:!0,hideSelectedOptions:!1,closeMenuOnSelect:!1,backspaceRemovesValue:!0,controlShouldRenderValue:!0,components:{DropdownIndicator:()=>null,ClearIndicator:()=>null,IndicatorsContainer:g,MultiValue:d=>{var O,B;const b=d.data,x=h==null?void 0:h(b),S=(O=x==null?void 0:x.tone)!=null?O:"default",q="m-1 cursor-pointer rounded-md border px-1.5 py-1 text-sm transition-colors",j={danger:"bg-token-bg-status-error text-token-interactive-label-danger-secondary-default border-token-interactive-border-danger-secondary-default",default:"text-token-text-primary bg-token-bg-tertiary border-transparent hover:bg-token-bg-secondary hover-border-token-border-light"},V=Le(q,(B=j[S])!=null?B:j.default,x==null?void 0:x.className),A=s.jsx("div",ie(J({className:V,role:"button",tabIndex:0},d.removeProps),{children:s.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[x==null?void 0:x.leadingIcon,s.jsx("span",{className:"min-w-0",children:d.children}),x==null?void 0:x.trailingIcon,s.jsx(Wt,{className:"icon-sm"})]})}));return x!=null&&x.tooltip?s.jsx(Ke.MultiValue,ie(J({},d),{children:s.jsx(De,{label:x.tooltip,side:"top",delayDuration:150,children:A})})):s.jsx(Ke.MultiValue,ie(J({},d),{children:A}))},Option:d=>{const{isFocused:b,isSelected:x,innerProps:S,innerRef:q,data:j}=d;return s.jsx("div",ie(J({},S),{ref:q,className:Le("cursor-pointer rounded-md p-2",x?"bg-token-interactive-bg-secondary-press":b?"bg-token-interactive-bg-secondary-hover":"bg-transparent"),children:N(j,{context:"menu"})}))},MultiValueRemove:()=>null},formatOptionLabel:N,noOptionsMessage:d=>p?p(d):_,loadingMessage:()=>u.formatMessage(Yt.loading),filterOption:(d,b)=>{var x;return d.data.label.toLowerCase().includes(b.toLowerCase())||((x=d.data.sublabel)!=null?x:"").toLowerCase().includes(b.toLowerCase())},onKeyDown:f}}function Ss(t){"use forget";const e=ue.c(2),a=Ct(t);let n;return e[0]!==a?(n=s.jsx(vs,J({},a)),e[0]=a,e[1]=n):n=e[1],n}function Es(t){"use forget";var f;const e=ue.c(16);let a,n,o,r,c;e[0]!==t?(f=t,{onCreateOption:r,isValidNewOption:o,formatCreateLabel:a,getMultiValueConfig:n}=f,c=tt(f,["onCreateOption","isValidNewOption","formatCreateLabel","getMultiValueConfig"]),e[0]=t,e[1]=a,e[2]=n,e[3]=o,e[4]=r,e[5]=c):(a=e[1],n=e[2],o=e[3],r=e[4],c=e[5]);let i;e[6]!==n||e[7]!==c?(i=ie(J({},c),{getMultiValueConfig:n}),e[6]=n,e[7]=c,e[8]=i):i=e[8];const y=Ct(i);let p;e[9]!==o?(p=(h,u,_)=>{var g;return(g=o==null?void 0:o(h))!=null?g:!0},e[9]=o,e[10]=p):p=e[10];let l;return e[11]!==y||e[12]!==a||e[13]!==r||e[14]!==p?(l=s.jsx(ws,ie(J({},y),{onCreateOption:r,isValidNewOption:p,formatCreateLabel:a})),e[11]=y,e[12]=a,e[13]=r,e[14]=p,e[15]=l):l=e[15],l}const St=new Set;function R(t){return t.toLowerCase().trim()}function Ge(t){const[,e]=(t!=null?t:"").toLowerCase().split("@");return e!=null?e:null}function We(t){return t.kind==="email"?"".concat(t.kind,":").concat(R(t.id)):"".concat(t.kind,":").concat(t.id)}function Ms(t,e){const a=R(e);return t.some(n=>n.kind==="email"?R(n.id)===a:n.kind==="user"&&n.sublabel?R(n.sublabel)===a:!1)}function Ns(t){return t.can_write?ts:t.can_view_config?lt:lt}function Ve(t){return t.can_write?G.shareProjectPermissionCanEdit:t.can_view_config?G.shareProjectPermissionCanChat:G.shareProjectPermissionUnknown}function Os(t){return t.can_write?"edit":"view"}function Et(t){"use forget";const e=ue.c(14),{capabilities:a,selected:n}=t,o=ge(),r=a.can_write?"edit":"view",c=n?"selected":"default";let i;e[0]!==a?(i=Ns(a),e[0]=a,e[1]=i):i=e[1];let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(W.RadioItemCheck,{}),e[2]=y):y=e[2];let p;e[3]!==a||e[4]!==o?(p=o.formatMessage(Ve(a)),e[3]=a,e[4]=o,e[5]=p):p=e[5];const l=a.can_write?G.shareProjectPermissionEditDescription:G.shareProjectPermissionViewDescription;let f;e[6]!==l?(f=s.jsx(I,J({},l)),e[6]=l,e[7]=f):f=e[7];let h;return e[8]!==r||e[9]!==c||e[10]!==i||e[11]!==p||e[12]!==f?(h=s.jsx(W.RadioItem,{value:r,color:c,icon:i,trailing:y,label:p,secondary:f}),e[8]=r,e[9]=c,e[10]=i,e[11]=p,e[12]=f,e[13]=h):h=e[13],h}function Xe(t){"use forget";const e=ue.c(21),{capabilities:a,onChange:n,triggerClassNames:o}=t;let r;e[0]!==o?(r=Le("text-token-text-secondary hover:bg-token-interactive-bg-secondary-hover radix-state-open:bg-token-interactive-bg-secondary-press whitespace-nowrap",o),e[0]=o,e[1]=r):r=e[1];let c;e[2]!==a?(c=Ve(a),e[2]=a,e[3]=c):c=e[3];let i;e[4]!==c?(i=s.jsx(I,J({},c)),e[4]=c,e[5]=i):i=e[5];let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(Je,{className:"icon-sm"}),e[6]=y):y=e[6];let p;e[7]!==r||e[8]!==i?(p=s.jsxs(W.Trigger,{color:"secondary",className:r,children:[i,y]}),e[7]=r,e[8]=i,e[9]=p):p=e[9];const l=a.can_write?"edit":"view";let f;e[10]!==n?(f=g=>{n(g==="edit"?Ae:be)},e[10]=n,e[11]=f):f=e[11];let h;e[12]!==a?(h=[be,Ae].map((g,N)=>s.jsx(Et,{capabilities:g,selected:ht(g,a)},N)),e[12]=a,e[13]=h):h=e[13];let u;e[14]!==l||e[15]!==f||e[16]!==h?(u=s.jsx(W.Portal,{children:s.jsx(W.Content,{className:"max-w-[320px]",children:s.jsx(W.RadioGroup,{value:l,onValueChange:f,children:h})})}),e[14]=l,e[15]=f,e[16]=h,e[17]=u):u=e[17];let _;return e[18]!==p||e[19]!==u?(_=s.jsxs(W.Root,{children:[p,u]}),e[18]=p,e[19]=u,e[20]=_):_=e[20],_}function Mt(t){"use forget";var Z,oe,H,re,le,se,me;const e=ue.c(44),{publishedGizmo:a,subjects:n,workspaceMembersByEmailRef:o,existingMemberEmails:r}=t,c=ge(),[,i]=K.useTransition(),[y,p]=K.useState(""),l=gt(),[f,h]=K.useState(""),[u]=_s(f,100),_=r!=null?r:St,g=es(l==null?void 0:l.id,0,u,10);(Z=g.data)==null||Z.items;let N;e[0]!==(a==null?void 0:a.gizmo)||e[1]!==((oe=g.data)==null?void 0:oe.items)?(N=(le=(re=(H=g.data)==null?void 0:H.items)==null?void 0:re.filter(M=>M.account_user_id!==(a==null?void 0:a.gizmo.author.user_id)).map(Ps))!=null?le:[],e[0]=a==null?void 0:a.gizmo,e[1]=(se=g.data)==null?void 0:se.items,e[2]=N):N=e[2];const D=N;let w;if(e[3]!==_||e[4]!==D){let M;e[6]!==_?(M=ae=>ae.kind!=="user"||!ae.sublabel?!0:!_.has(R(ae.sublabel)),e[6]=_,e[7]=M):M=e[7],w=D.filter(M),e[3]=_,e[4]=D,e[5]=w}else w=e[5];const U=w,d=l==null?void 0:l.id;let b;e[8]!==u||e[9]!==d?(b=[d,"groups","filtered",u],e[8]=u,e[9]=d,e[10]=b):b=e[10];let x;e[11]!==l||e[12]!==u?(x=l?()=>xt.safeGet("/accounts/{account_id}/groups",{parameters:{path:{account_id:l.id},query:{query:u,offset:0,orderby:"@score",limit:20}}}):void 0,e[11]=l,e[12]=u,e[13]=x):x=e[13];let S;e[14]!==l||e[15]!==u?(S=u.trim()!==""&&l!=null&&!!l.getWorkspaceId(),e[14]=l,e[15]=u,e[16]=S):S=e[16];let q;e[17]!==b||e[18]!==x||e[19]!==S?(q={queryKey:b,queryFn:x,enabled:S},e[17]=b,e[18]=x,e[19]=S,e[20]=q):q=e[20];const{data:j,isLoading:V}=Rt(q);let A;e[21]!==(j==null?void 0:j.items)||e[22]!==c?(A=(me=j==null?void 0:j.items.slice(0,10).map(M=>{var ae;return{kind:"group",id:M.id,label:M.name,sublabel:c.formatMessage(G.shareProjectGroupMembersCount,{numMembers:(ae=M.num_members)!=null?ae:0}),isScimManaged:!!M.is_scim_managed}}))!=null?me:[],e[21]=j==null?void 0:j.items,e[22]=c,e[23]=A):A=e[23];const O=A;let B;e[24]!==n?(B=new Set(n.map(We)),e[24]=n,e[25]=B):B=e[25];const Y=B;let F;e[26]!==O||e[27]!==Y||e[28]!==U?(F=[...U,...O].filter(M=>!Y.has(We(M))),e[26]=O,e[27]=Y,e[28]=U,e[29]=F):F=e[29];const ne=F;let Q,ee;e[30]!==D||e[31]!==o?(Q=()=>{if(o)for(const M of D)M.sublabel&&o.current.set(R(M.sublabel),M)},ee=[D,o],e[30]=D,e[31]=o,e[32]=Q,e[33]=ee):(Q=e[32],ee=e[33]),K.useEffect(Q,ee);let X;e[34]!==i?(X=(M,ae)=>{p(M),i(()=>{h(M)})},e[34]=i,e[35]=X):X=e[35];const $=X;let te;return e[36]!==V||e[37]!==$||e[38]!==y||e[39]!==ne||e[40]!==i||e[41]!==U||e[42]!==g?(te={groupsLoading:V,handleSearch:$,inputValue:y,options:ne,userOptions:U,setInputValue:p,setQuery:h,startQueryTransition:i,usersQuery:g},e[36]=V,e[37]=$,e[38]=y,e[39]=ne,e[40]=i,e[41]=U,e[42]=g,e[43]=te):te=e[43],te}function Ps(t){var e,a;return{kind:"user",id:t.account_user_id,label:(e=t.name)!=null?e:"Unknown User",sublabel:(a=t.email)!=null?a:""}}function Ls(t){"use forget";const e=ue.c(25),{publishedGizmo:a,capabilities:n,setCapabilities:o,subjects:r,setSubjects:c,workspaceMembersByEmailRef:i}=t,y=ge();let p;e[0]!==a||e[1]!==r||e[2]!==i?(p={publishedGizmo:a,subjects:r,workspaceMembersByEmailRef:i},e[0]=a,e[1]=r,e[2]=i,e[3]=p):p=e[3];const{groupsLoading:l,handleSearch:f,inputValue:h,options:u,usersQuery:_}=Mt(p);let g;e[4]!==h?(g=h.trim(),e[4]=h,e[5]=g):g=e[5];const N=g;let D;e[6]===Symbol.for("react.memo_cache_sentinel")?(D={menuList:Rs,control:Is},e[6]=D):D=e[6];let w;e[7]!==c?(w=q=>c([...q]),e[7]=c,e[8]=w):w=e[8];const U=N!=="";let d;e[9]!==y?(d=y.formatMessage(G.shareProjectSearchPeopleOrGroups),e[9]=y,e[10]=d):d=e[10];let b;e[11]!==n||e[12]!==o||e[13]!==r.length?(b=r.length>0&&s.jsx(Xe,{capabilities:n,onChange:o,triggerClassNames:"text-token-text-secondary"}),e[11]=n,e[12]=o,e[13]=r.length,e[14]=b):b=e[14];const x=_.isLoading||l;let S;return e[15]!==f||e[16]!==h||e[17]!==u||e[18]!==r||e[19]!==w||e[20]!==U||e[21]!==d||e[22]!==b||e[23]!==x?(S=s.jsx("div",{className:"w-full min-w-0",children:s.jsx(Ss,{value:r,classNames:D,onChange:w,onSearch:f,menuIsOpen:U,inputValue:h,options:u,placeholder:d,trailingComponent:b,isLoading:x})}),e[15]=f,e[16]=h,e[17]=u,e[18]=r,e[19]=w,e[20]=U,e[21]=d,e[22]=b,e[23]=x,e[24]=S):S=e[24],S}function Is(){return"h-auto! min-h-[40px]! max-h-[192px] items-start overflow-y-auto p-1! cursor-text!"}function Rs(){return"bg-token-bg-primary"}function Ds(t){"use forget";const e=ue.c(93),{publishedGizmo:a,capabilities:n,setCapabilities:o,subjects:r,setSubjects:c,existingMemberEmails:i,allowExternalDomainInvites:y,normalizedVerifiedDomainHostnames:p,workspaceMembersByEmailRef:l,isFreeWorkspace:f,currentUserEmail:h}=t,u=ge(),_=i!=null?i:St;let g;e[0]!==i||e[1]!==a||e[2]!==r||e[3]!==l?(g={publishedGizmo:a,subjects:r,workspaceMembersByEmailRef:l,existingMemberEmails:i},e[0]=i,e[1]=a,e[2]=r,e[3]=l,e[4]=g):g=e[4];const{groupsLoading:N,handleSearch:D,inputValue:w,options:U,userOptions:d,setInputValue:b,setQuery:x,startQueryTransition:S,usersQuery:q}=Mt(g);let j,V,A,O,B,Y,F;if(e[5]!==h||e[6]!==w||e[7]!==u||e[8]!==f||e[9]!==r.length){F=w.trim(),O=R(F);let k;e[17]!==h?(k=Ge(h),e[17]=h,e[18]=k):k=e[18],V=k;const v=f;let L;e[19]!==u?(L=u.formatMessage(G.shareProjectSearchPeopleGroupsOrEmail),e[19]=u,e[20]=L):L=e[20],B=L,j=v&&pe.test(O)&&Ge(O)!==V;let z;e[21]!==v||e[22]!==V?(z=ce=>{if(!v)return!0;const _e=Ge(ce);return _e!==null&&_e===V},e[21]=v,e[22]=V,e[23]=z):z=e[23],A=z,Y=r.length>0||pe.test(F),e[5]=h,e[6]=w,e[7]=u,e[8]=f,e[9]=r.length,e[10]=j,e[11]=V,e[12]=A,e[13]=O,e[14]=B,e[15]=Y,e[16]=F}else j=e[10],V=e[11],A=e[12],O=e[13],B=e[14],Y=e[15],F=e[16];const ne=Y;let Q;e:{if(!pe.test(O)){Q=void 0;break e}if(_.has(O)){Q=void 0;break e}let k;if(e[24]!==O||e[25]!==d){let v;e[27]!==O?(v=L=>L.kind==="user"&&L.sublabel?R(L.sublabel)===O:!1,e[27]=O,e[28]=v):v=e[28],k=d.find(v),e[24]=O,e[25]=d,e[26]=k}else k=e[26];Q=k}const ee=Q;let X;e[29]!==_||e[30]!==r||e[31]!==l?(X=(k,v)=>{const L=v===void 0?r:v,z=R(k);return _.has(z)||l.current.has(z)?!0:Ms(L,z)},e[29]=_,e[30]=r,e[31]=l,e[32]=X):X=e[32];const $=X;let te;e[33]!==_||e[34]!==$||e[35]!==c?(te=k=>{c(v=>{const L=We(k);return v.some(z=>We(z)===L)||k.kind==="user"&&k.sublabel&&_.has(R(k.sublabel))||k.kind==="email"&&$(k.id,v)?v:[...v,k]})},e[33]=_,e[34]=$,e[35]=c,e[36]=te):te=e[36];const Z=te;let oe;e[37]!==Z||e[38]!==_||e[39]!==A||e[40]!==$||e[41]!==b||e[42]!==x||e[43]!==S||e[44]!==l?(oe=k=>{const v=R(k);if(!pe.test(v)||!A(v))return;if(_.has(v)){S(()=>{x("")}),b("");return}const L=l.current.get(v);if(L){if(L.sublabel&&_.has(R(L.sublabel))){S(()=>{x("")}),b("");return}Z(L),S(()=>{x("")}),b("");return}if($(v)){b("");return}Z({kind:"email",id:v,label:v}),S(()=>{x("")}),b("")},e[37]=Z,e[38]=_,e[39]=A,e[40]=$,e[41]=b,e[42]=x,e[43]=S,e[44]=l,e[45]=oe):oe=e[45];const H=oe;let re;e[46]!==A||e[47]!==$?(re=k=>{const v=R(k);return pe.test(v)&&!$(v)&&A(v)},e[46]=A,e[47]=$,e[48]=re):re=e[48];const le=re;let se;e[49]!==u?(se=k=>u.formatMessage(G.shareProjectInviteEmailOption,{email:k.trim()}),e[49]=u,e[50]=se):se=e[50];const me=se;let M;e[51]!==j||e[52]!==u||e[53]!==V||e[54]!==$?(M=k=>{const{inputValue:v}=k,L=R(v);return $(L)?u.formatMessage(G.shareProjectMemberAlreadyAdded):j?s.jsx("span",{className:"text-[#E02E2A]",children:u.formatMessage(G.shareProjectMismatchedDomainWarning,{domain:V!=null?V:""})}):pe.test(L)?u.formatMessage(G.shareProjectInviteEmailPressEnter):u.formatMessage(G.shareProjectEnterEmailNoOptions)},e[51]=j,e[52]=u,e[53]=V,e[54]=$,e[55]=M):M=e[55];const ae=M;let ke;e[56]!==Z||e[57]!==H||e[58]!==w||e[59]!==A||e[60]!==ee||e[61]!==b||e[62]!==x||e[63]!==S?(ke=k=>{if(k.nativeEvent.isComposing)return;const{key:v}=k,L=v===","||v===" "||v==="Spacebar"||v==="Space",z=v==="Enter",ce=v==="Tab";if(!(!L&&!z&&!ce)){if(ee){k.preventDefault(),Z(ee),S(()=>{x("")}),b("");return}ce||pe.test(R(w))&&A(R(w))&&(k.preventDefault(),H(w))}},e[56]=Z,e[57]=H,e[58]=w,e[59]=A,e[60]=ee,e[61]=b,e[62]=x,e[63]=S,e[64]=ke):ke=e[64];const Se=ke;let he;e[65]!==n||e[66]!==o||e[67]!==ne?(he=ne?s.jsx(Xe,{capabilities:n,onChange:o,triggerClassNames:"text-token-text-secondary"}):void 0,e[65]=n,e[66]=o,e[67]=ne,e[68]=he):he=e[68];const Ee=he;let xe;e[69]!==y||e[70]!==u||e[71]!==p||e[72]!==l?(xe=k=>{var m,E;if(k.kind!=="email")return;const v=k.id,L=R(v),z=(E=(m=v.split("@")[1])==null?void 0:m.toLowerCase())!=null?E:"";if(l.current.has(L))return;const ce=p.length>0,_e=z!==""&&ce&&p.includes(z);return y===!1&&(z!==""&&!_e)?{tooltip:u.formatMessage(G.shareProjectExternalInviteBlockedTooltip),tone:"danger",leadingIcon:s.jsx("span",{"aria-hidden":!0,className:"text-token-interactive-label-danger-secondary-default inline-flex h-4 w-4 shrink-0 items-center justify-center [&>svg]:h-4 [&>svg]:w-4",children:s.jsx(Vt,{className:"h-4 w-4","aria-hidden":!0})})}:{tooltip:u.formatMessage(G.shareProjectExternalInviteNonMemberTooltip),leadingIcon:s.jsx("span",{"aria-hidden":!0,className:"text-token-text-tertiary inline-flex h-4 w-4 shrink-0 items-center justify-center [&>svg]:h-4 [&>svg]:w-4",children:s.jsx(yt,{className:"h-4 w-4","aria-hidden":!0})})}},e[69]=y,e[70]=u,e[71]=p,e[72]=l,e[73]=xe):xe=e[73];const Me=xe;let ye;e[74]===Symbol.for("react.memo_cache_sentinel")?(ye={menuList:Ws,control:As},e[74]=ye):ye=e[74];let fe;e[75]!==c?(fe=k=>c([...k]),e[75]=c,e[76]=fe):fe=e[76];const Ne=F!=="",je=q.isLoading||N;let ve;return e[77]!==ae||e[78]!==me||e[79]!==Me||e[80]!==H||e[81]!==Se||e[82]!==D||e[83]!==w||e[84]!==le||e[85]!==U||e[86]!==B||e[87]!==r||e[88]!==fe||e[89]!==Ne||e[90]!==je||e[91]!==Ee?(ve=s.jsx("div",{className:"w-full min-w-0",children:s.jsx(Es,{value:r,classNames:ye,onChange:fe,onSearch:D,menuIsOpen:Ne,inputValue:w,options:U,placeholder:B,trailingComponent:Ee,isLoading:je,noOptionsMessage:ae,onCreateOption:H,isValidNewOption:le,formatCreateLabel:me,getMultiValueConfig:Me,onKeyDown:Se})}),e[77]=ae,e[78]=me,e[79]=Me,e[80]=H,e[81]=Se,e[82]=D,e[83]=w,e[84]=le,e[85]=U,e[86]=B,e[87]=r,e[88]=fe,e[89]=Ne,e[90]=je,e[91]=Ee,e[92]=ve):ve=e[92],ve}function As(){return"h-auto! min-h-[40px]! max-h-[192px] items-start overflow-y-auto p-1! cursor-text!"}function Ws(){return"bg-token-bg-primary"}function Vs(t){const e=new Set,a=[];for(const n of t){const o=n.toLowerCase();e.has(o)||(e.add(o),a.push(o))}return a}function Ts(t){"use forget";const e=ue.c(15),{capabilities:a,setCapabilities:n,emails:o,setEmails:r}=t,c=ge();let i;e[0]!==o?(i=o.map(Fs),e[0]=o,e[1]=i):i=e[1];const y=i;let p;e[2]!==r?(p=D=>{const w=D.map(qs);r(Vs(w))},e[2]=r,e[3]=p):p=e[3];const l=p;let f;e[4]!==c?(f=c.formatMessage(G.shareProjectEmailPlaceholder),e[4]=c,e[5]=f):f=e[5];const h=f,u=Bs;let _;e[6]===Symbol.for("react.memo_cache_sentinel")?(_={menuList:Us,control:$s},e[6]=_):_=e[6];let g;e[7]!==a||e[8]!==n?(g=s.jsx(Xe,{capabilities:a,onChange:n,triggerClassNames:"text-token-text-secondary"}),e[7]=a,e[8]=n,e[9]=g):g=e[9];let N;return e[10]!==y||e[11]!==l||e[12]!==h||e[13]!==g?(N=s.jsx("div",{className:"w-full min-w-0",children:s.jsx(ms,{value:y,onChange:l,placeholder:h,classNames:_,trailingComponent:g,shouldShowTrailingComponent:u})}),e[10]=y,e[11]=l,e[12]=h,e[13]=g,e[14]=N):N=e[14],N}function $s(){return"h-auto! min-h-[40px]! max-h-[192px] items-start overflow-y-auto p-0! cursor-text!"}function Us(){return"bg-token-bg-primary"}function Bs(t,e){return t&&t.length>0?!0:!!(e&&pe.test(e))}function qs(t){return t.value}function Fs(t){return us(t!=null?t:"")}const zs=$e(()=>Te(()=>import("./hwv1nfc68emkcja2.js"),__vite__mapDeps([2,1,3,4])).then(t=>t.ShareOutsideWorkspaceConfirmModal)),Ks=$e(()=>Te(()=>import("./fabc5eov4knbmh55.js"),__vite__mapDeps([0,1])).then(t=>t.DirectorySyncResourceManagedIndication));function Nt(t,e){return t===void 0||e===void 0?!1:t.split("__")[0]===e.split("__")[0]}function Qs(t,e){return t===void 0||e===void 0?!1:R(t)===R(e)}function mt(t,e){return Nt(t==null?void 0:t.user_id,e==null?void 0:e.id)||Qs(t==null?void 0:t.user_email,e==null?void 0:e.email)}function Gs(t,e){const a=new Set,n=new Set,o=new Set,r=new Set,c=[...t];for(const i of t)i.type===P.USER?a.add(i.user_id):i.type===P.EMAIL?o.add(i.user_email):i.type===P.GROUP?n.add(i.group_id):r.add(i.type);for(const i of e)if(i.type===P.EMAIL){if(o.has(i.user_email))continue;o.add(i.user_email),c.push(i)}else if(i.type===P.USER){if(a.has(i.user_id))continue;a.add(i.user_id),c.push(i)}else if(i.type===P.GROUP){if(n.has(i.group_id))continue;n.add(i.group_id),c.push(i)}else{if(r.has(i.type))continue;r.add(i.type),c.push(i)}return c}function Hs(t,e){const a=t.filter(n=>Xt(n));return e!=null&&a.push(e),a}function Js(t){return t.some(e=>e.type===P.ALL)?Fe.Link:t.some(e=>e.type===P.WORKSPACE)?Fe.WorkspaceLink:Fe.Private}function Pe(t){var e,a,n,o,r;return t.type===P.GROUP?(a=(e=t.group_name)!=null?e:t.group_id)!=null?a:"Unknown group":(r=(o=(n=t.user_name)!=null?n:t.user_email)!=null?o:t.user_id)!=null?r:"Unknown user"}function Xs(t){return t?t.filter(e=>e.status===Qt.VERIFIED&&!!e.hostname).map(e=>e.hostname.toLowerCase()):[]}function Zs({subjects:t,allowExternalDomainInvites:e,normalizedVerifiedDomainHostnames:a,workspaceMembersByEmailRef:n}){var y,p;const o=[],r=new Set;let c=!1;const i=a.length>0;for(const l of t){if(l.kind!=="email")continue;const f=R(l.id),h=(p=(y=l.id.split("@")[1])==null?void 0:y.toLowerCase())!=null?p:"",u=n.current.has(f),_=h!==""&&i&&a.includes(h);if(e===!1&&!u&&(h!==""&&!_)){c=!0;continue}r.has(f)||(r.add(f),o.push(l.id))}return{uniquePendingExternalEmails:o,hasBlockedExternalEmails:c}}function Ys(t){switch(t){case P.ALL:return"link";case P.WORKSPACE:return"workspaceLink";default:return"invite"}}function Ot(t){"use forget";const e=ue.c(4),{subjectType:a,workspaceName:n}=t;if(a===P.ALL){let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(I,{id:"Mr1Pk0",defaultMessage:"Anyone with a link"}),e[0]=r):r=e[0],r}if(a===P.WORKSPACE){let r;return e[1]!==n?(r=s.jsx(I,{id:"okIeDq",defaultMessage:"Anyone at {workspaceName} with the link",values:{workspaceName:n}}),e[1]=n,e[2]=r):r=e[2],r}let o;return e[3]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(I,{id:"fAE/rP",defaultMessage:"Only those invited"}),e[3]=o):o=e[3],o}const ft=t=>e=>{var a,n;return e.kind==="user"?{type:P.USER,user_id:e.id,user_name:e.label,user_email:(a=e.sublabel)!=null?a:"",avatar_url:(n=e.avatarUrl)!=null?n:null,capabilities:t}:{type:P.GROUP,group_id:e.id,group_name:e.label,is_scim_managed:!!e.isScimManaged,capabilities:t}},pt=t=>e=>({type:P.EMAIL,user_email:e,capabilities:t});function ha({gizmo:t,publishedGizmo:e,onClose:a}){"use no forget";var je,ve,k,v,L,z,ce,_e,Ue;const n=vt(),o=ge(),r=_t(),c=Tt(n),i=gt(),y=K.useRef(new Map),p=i==null?void 0:i.id,l=(je=c==null?void 0:c.isWorkspaceAccount())!=null?je:!1,f=$t(),h=o.formatMessage({id:"nJUofg",defaultMessage:"your workspace"}),u=(ve=i==null?void 0:i.name)!=null?ve:h,_=Ut(),[g,N]=K.useState((v=(k=t.sharing)==null?void 0:k.subjects)!=null?v:[]),D=K.useMemo(()=>{const m=new Set;for(const C of g)(C.type===P.USER&&C.user_email||C.type===P.EMAIL)&&m.add(R(C.user_email));const E=e.gizmo.author.user_email;return E&&m.add(R(E)),m},[g,e.gizmo.author.user_email]),[w,U]=K.useState(!1),d=Dt(),{canEdit:b}=Bt(e);K.useEffect(()=>{d.invalidateQueries({queryKey:qt(d,e.gizmo.id).queryKey})},[e.gizmo.id,d]);const x=m=>{if(m.type===P.USER&&m.user_id.indexOf("__")===-1){const E=c==null?void 0:c.getWorkspaceId();return ie(J({},m),{user_id:E!=null&&E.length>0?"".concat(m.user_id,"__").concat(E):m.user_id})}return m},S=async(m,E,C)=>{var Oe,we;if(w)return;U(!0);const T=E?C.map(x):C,de=Js(T);try{const Ce=await _.mutateAsync({id:m,update:{sharing:{recipient:de,subjects:T}}});Ce!=null&&Ce.resource&&N(Ht(Ce.resource).sharing.subjects)}catch(Ce){const Be=Jt(Ce);r.warning(Be!=null?Be:"Error",{duration:2}),N((we=(Oe=t.sharing)==null?void 0:Oe.subjects)!=null?we:[])}U(!1),d.invalidateQueries({queryKey:["gizmos"]}),d.refetchQueries({queryKey:["gizmos","discovery"]}),d.refetchQueries({queryKey:["gizmo",{gizmoId:m}]}),d.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:m}]}),d.invalidateQueries({queryKey:["workspace"]}),st.count(at.PROJECTS,"snorlax_share_project_modal_invited_users",{is_workspace_sharing:E?"true":"false",num_users_invited:C.length.toString(),recipient:de})},q=Nt(e.gizmo.author.user_id.split("__")[0],f==null?void 0:f.id),j=bt(g),V=(j==null?void 0:j.type)!==P.WORKSPACE&&(j==null?void 0:j.type)!==P.ALL,A=V?kt:l?jt:wt,O=s.jsx(I,{id:"wDjvNM",defaultMessage:"Only the owner can change permissions. Contact them if you'd like to update someone's access."}),B=s.jsx(De,{label:O,side:"top",children:s.jsx(Ot,{subjectType:j==null?void 0:j.type,workspaceName:u})}),Y=m=>s.jsx(De,{label:O,side:"top",children:s.jsx("span",{className:"text-token-text-primary pe-4 text-sm",children:s.jsx(I,J({},Ve(m.capabilities)))})}),F=$e(()=>Te(()=>import("./ht2hka2i0ylhd27y.js"),__vite__mapDeps([5,1,3,4])).then(m=>m.SnorlaxRemoveUserConfirmationModal)),ne=m=>s.jsxs(W.Root,{children:[s.jsxs(W.Trigger,{color:"secondary",className:"text-token-text-primary text-normal hover:bg-token-interactive-bg-secondary-hover radix-state-open:bg-token-interactive-bg-secondary-press whitespace-nowrap",disabled:w,children:[s.jsx(I,J({},Ve(m.capabilities))),s.jsx(Je,{className:"icon-sm"})]}),s.jsx(W.Portal,{children:s.jsxs(W.Content,{className:"max-w-[320px]",children:[s.jsx(W.RadioGroup,{value:Os(m.capabilities),onValueChange:E=>{const C=g.map(T=>T===m?ie(J({},T),{capabilities:E==="edit"?Ae:be}):T);N(C),S(e.gizmo.id,l,C)},children:[be,Ae].map((E,C)=>s.jsx(Et,{capabilities:E,selected:ht(E,m.capabilities)},C))}),s.jsx(W.Item,{onClick:()=>{var C;const E=rt(m);it(n,F,{label:(C=E==null?void 0:E.label)!=null?C:E==null?void 0:E.sublabel,projectName:e.gizmo.display.name,onConfirm:async()=>{const T=g.filter(de=>de!==m);N(T),await S(e.gizmo.id,l,T),ot(n,F)},onClose:()=>ot(n,F)})},color:"danger",icon:ns,children:s.jsx(I,{id:"HEaMqG",defaultMessage:"Remove from project"})})]})})]}),[Q,ee]=K.useState(be),[X,$]=K.useState([]),[te,Z]=K.useState([]),oe=X.length>0||te.length>0,{data:H}=ss(p!=null?p:void 0,p!=null),re=H==null?void 0:H.allow_external_domain_invites,le=Xs(H==null?void 0:H.domains),{uniquePendingExternalEmails:se,hasBlockedExternalEmails:me}=Zs({subjects:X,allowExternalDomainInvites:re,normalizedVerifiedDomainHostnames:le,workspaceMembersByEmailRef:y}),M=l&&Ft(n,"1585040960").get("enabled",!1),ae=m=>{!M||m<=0||Re.logEventWithStatsig("Share Project: Workspace Invite Sent","chatgpt_share_project_workspace_invite_sent",J({invite_count:m,project_id:e.gizmo.id},p?{workspace_account_id:p}:{}))},ke=async m=>{if(!p||m.length===0)return;const E=o.formatMessage({id:"v0nBhH",defaultMessage:"We couldn't send those workspace invites. Try again."});try{const{errored_emails:C=[]}=await xt.safePost("/accounts/{account_id}/invites",{parameters:{path:{account_id:p}},requestBody:{email_addresses:m,role:Zt.STANDARD,resend_emails:!1}});if(C.length>0){const T=o.formatMessage({id:"+HIh5u",defaultMessage:"We couldn't invite: {emails}."},{emails:C.map(de=>de.email_address).join(", ")});throw new Error(T)}}catch(C){const T=C instanceof Error&&C.message?C.message:E;throw r.danger(T,{loggingTitle:T,loggingDescription:C instanceof Error?C.message:void 0,toastId:"share-project-workspace-invite"}),C}},Se=async()=>{const E=l?(T=>{if(M){const de=[],Oe=[];for(const we of T)we.kind==="email"?Oe.push(we.id):de.push(we);return[...de.map(ft(Q)),...Oe.map(pt(Q))]}return T.map(ft(Q))})(X):te.map(pt(Q)),C=Gs(g,E);N(C),await S(e.gizmo.id,l,C),Z([]),$([])},he=w||M&&me,Ee=async()=>{await ke(se),ae(se.length);const m=new Set(se.map(E=>R(E)));$(E=>E.filter(T=>T.kind!=="email"?!0:!m.has(R(T.id))))},xe=async()=>{if(M&&se.length>0){it(n,zs,{emails:se,workspaceName:u,onSend:async()=>{await Ee()}});return}await Se()},Me=()=>{$([]),Z([])},ye=s.jsx(qe,{color:"secondary",disabled:w,onClick:Me,children:s.jsx(I,{id:"Pxo4Mv",defaultMessage:"Cancel"})}),fe=l?s.jsx("div",{className:"text-token-text-secondary flex text-xs",children:s.jsx(I,{id:"uAtWCq",defaultMessage:"Project files, chats, and instructions are shared."})}):null,Ne=oe&&b?l?s.jsxs("div",{className:"flex items-center gap-2",children:[ye,s.jsx(qe,{color:"blue",disabled:he,loading:w,onClick:xe,children:s.jsx(I,{id:"BdwAiM",defaultMessage:"Invite"})})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[ye,s.jsx(qe,{color:"blue",disabled:he,loading:w,onClick:xe,children:s.jsx(I,{id:"n1mfg+",defaultMessage:"Invite"})})]}):s.jsx(ta,{gizmo:e,isBusinessWorkspace:l});return K.useEffect(()=>{st.count(at.PROJECTS,"snorlax_share_project_modal_opened")},[]),s.jsx(zt,{testId:"modal-share-project",type:"success",className:"max-w-[512px]",size:"custom",isOpen:!0,onClose:a,footerContent:fe,footerClassName:"mt-5 sm:mt-4",modalActionsClassName:"mt-0!",footerIsSpacedBetween:!0,primaryButton:Ne,title:o.formatMessage(G.projectShareTitle),showCloseButton:!0,children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[b&&(l?M?s.jsx(Ds,{publishedGizmo:e,capabilities:Q,setCapabilities:ee,subjects:X,setSubjects:$,existingMemberEmails:D,allowExternalDomainInvites:re,normalizedVerifiedDomainHostnames:le,workspaceMembersByEmailRef:y,isFreeWorkspace:(L=c==null?void 0:c.isFreeWorkspace())!=null?L:!1,currentUserEmail:f==null?void 0:f.email}):s.jsx(Ls,{publishedGizmo:e,capabilities:Q,setCapabilities:ee,subjects:X,setSubjects:$,workspaceMembersByEmailRef:y}):s.jsx(Ts,{capabilities:Q,setCapabilities:ee,emails:te,setEmails:Z})),s.jsx("div",{className:"text-token-text-secondary mb-2 text-sm font-normal",children:s.jsx(I,{id:"eMoeS0",defaultMessage:"Who has access"})}),s.jsxs(as,{className:"max-h-[220px] overflow-y-auto",children:[s.jsx(He,{icon:s.jsx("div",{className:"flex h-6 w-6 items-center justify-center",children:s.jsx(A,{className:V?"h-5 w-5":"h-6 w-6"})}),children:q?s.jsx(sa,{newSharingSubjects:g,setNewSharingSubjects:N,saveProject:S,publishedGizmo:e,isBusinessWorkspace:l,isSaving:w,workspaceName:u}):B}),s.jsx(He,{icon:s.jsx(nt,{monogram:{id:(z=e.gizmo.author.user_id)!=null?z:"Owner",label:(ce=e.gizmo.author.display_name)!=null?ce:"User",sublabel:e.gizmo.author.user_email},showTooltip:!l}),trailing:s.jsx("span",{className:"text-token-text-primary pe-4 text-sm",children:s.jsx(I,{id:"qb439J",defaultMessage:"Owner"})}),children:q?s.jsx(I,{id:"I6hNog",defaultMessage:"{userName} {you}",values:{userName:(_e=f==null?void 0:f.name)!=null?_e:f==null?void 0:f.email,you:s.jsx("span",{className:"text-token-text-secondary",children:s.jsx(I,{id:"VZNoWp",defaultMessage:"(you)"})})}}):(Ue=e.gizmo.author.display_name)!=null?Ue:e.gizmo.author.user_email}),g.map((m,E)=>{var T;const C=m.type===P.EMAIL;return Kt(m)&&s.jsx(He,{icon:s.jsx(nt,{monogram:rt(m),showTooltip:(m==null?void 0:m.user_name)&&(m==null?void 0:m.user_email)}),trailing:q?ne(m):Y(m),disabled:C,children:s.jsxs("div",{className:"flex flex-col justify-center",children:[l&&s.jsxs("span",{className:"flex flex-row items-center",children:[s.jsx("span",{className:Le("truncate text-sm leading-tight",C?"text-token-text-secondary":"text-token-text-primary"),children:m.type===P.GROUP?m.group_name:C?Pe(m):s.jsx(I,{id:"B3bf3E",defaultMessage:"{userName} {you}",values:{userName:Pe(m),you:mt(m,f)?s.jsx("span",{className:"text-token-text-secondary",children:s.jsx(I,{id:"VZNoWp",defaultMessage:"(you)"})}):null}})}),m.type===P.GROUP&&m.is_scim_managed&&s.jsx(Ks,{})]}),!l&&s.jsx("span",{className:Le("group-data-[disabled]/sharing-row:text-token-text-tertiary truncate text-sm leading-tight",C?"text-token-text-secondary":"text-token-text-primary"),children:mt(m,f)?s.jsx(I,{id:"hxmjY2",defaultMessage:"{user} {you}",values:{user:Pe(m),you:s.jsx("span",{className:"text-token-text-secondary group-data-[disabled]/sharing-row:text-token-text-tertiary",children:s.jsx(I,{id:"VZNoWp",defaultMessage:"(you)"})})}}):C?s.jsx(I,{id:"L+nbVd",defaultMessage:"{email} {maybe_invite_sent}",values:{email:(T=m.user_email)!=null?T:Pe(m),maybe_invite_sent:s.jsx("span",{className:"text-token-text-secondary group-data-[disabled]/sharing-row:text-token-text-tertiary",children:s.jsx(I,{id:"FkuKTS",defaultMessage:"(invite sent)"})})}}):Pe(m)})]})},E)}),s.jsx("hr",{className:"border-token-border-light sticky bottom-0 hidden group-data-scrolled-from-end/scrollport:block"})]}),!l&&s.jsx(ea,{})]})})}function ea(){return s.jsxs("div",{className:"bg-token-bg-tertiary flex flex-row items-center gap-3 rounded-xl p-3",children:[s.jsx(yt,{className:"icon text-token-text-secondary"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-token-text-primary text-xs font-medium",children:s.jsx(I,{id:"pD1bmW",defaultMessage:"This project may include personal information"})}),s.jsx("span",{className:"text-token-text-secondary text-xs",children:s.jsx(I,{id:"EonGo6",defaultMessage:"All project contents are visible to collaborators. Personal memories are disabled for shared projects."})})]})]})}function ta({gizmo:t,isBusinessWorkspace:e}){const a=vt(),n=_t(),o=rs(a,t),r=t.gizmo.display.name;return s.jsxs("div",{className:"flex flex-row items-center gap-2",children:[!e&&s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"https://www.linkedin.com/shareArticle?url=".concat(encodeURIComponent(o),"&text=").concat(encodeURIComponent(r)),target:"_blank",rel:"noopener noreferrer",onClick:()=>{Re.logEventWithStatsig("Share Project: LinkedIn Social Clicked","chatgpt_share_project_linkedin_social_clicked",{projectTitle:r})},children:s.jsx(os,{initialBackgroundColor:"var(--main-surface-secondary)",initialFillColor:"var(--text-secondary)",size:36})}),s.jsx("a",{href:"https://www.reddit.com/submit?url=".concat(encodeURIComponent(o),"&title=").concat(encodeURIComponent(r)),target:"_blank",rel:"noopener noreferrer",onClick:()=>{Re.logEventWithStatsig("Share Project: Reddit Social Clicked","chatgpt_share_project_reddit_social_clicked",{projectTitle:r})},children:s.jsx(ls,{initialBackgroundColor:"var(--main-surface-secondary)",initialFillColor:"var(--text-secondary)",size:36})}),s.jsx("a",{href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(o),"&text=").concat(encodeURIComponent(r)),target:"_blank",rel:"noopener noreferrer",onClick:()=>{Re.logEventWithStatsig("Share Project: X Social Clicked","chatgpt_share_project_x_social_clicked",{projectTitle:r})},children:s.jsx(cs,{initialBackgroundColor:"var(--main-surface-secondary)",initialFillColor:"var(--text-secondary)",size:36})})]}),s.jsx(ds,{onClickCopy:c=>is(a,t,n,c)})]})}function sa({newSharingSubjects:t,setNewSharingSubjects:e,saveProject:a,publishedGizmo:n,isBusinessWorkspace:o,isSaving:r,workspaceName:c}){var h;const i=ge(),y=(h=bt(t))==null?void 0:h.type,p=y===P.WORKSPACE,l=y===P.ALL,f=p||l;return s.jsxs(W.Root,{children:[s.jsx(De,{label:s.jsx(I,{id:"gWJtAX",defaultMessage:"Shared links give chat-only access. Users can be upgraded to edit access after joining."}),triggerAs:null,disabled:!f,side:"top",children:s.jsxs(W.Trigger,{className:"px-0","data-no-hover-bg":!0,disabled:r,children:[s.jsx(Ot,{subjectType:y,workspaceName:c}),s.jsx(Je,{className:"icon-sm"})]})}),s.jsx(W.Portal,{children:s.jsx(W.Content,{children:s.jsxs(W.RadioGroup,{value:Ys(y),onValueChange:u=>{const _=Hs(t,u==="link"?{type:P.ALL,capabilities:be}:u==="workspaceLink"?{type:P.WORKSPACE,capabilities:be}:null);e(_),a(n.gizmo.id,o,_)},children:[s.jsx(W.RadioItem,{icon:kt,value:"invite",label:i.formatMessage({id:"fAE/rP",defaultMessage:"Only those invited"}),trailing:s.jsx(W.RadioItemCheck,{}),color:f?"default":"selected"}),o&&s.jsx(W.RadioItem,{icon:jt,value:"workspaceLink",label:i.formatMessage({id:"a6GwHG",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:c}),trailing:s.jsx(W.RadioItemCheck,{}),color:p?"selected":"default"}),!o&&s.jsx(W.RadioItem,{icon:wt,value:"link",label:i.formatMessage({id:"Mr1Pk0",defaultMessage:"Anyone with a link"}),trailing:s.jsx(W.RadioItemCheck,{}),color:l?"selected":"default"})]})})})]})}function He({icon:t,children:e,trailing:a,className:n="",disabled:o=!1}){return s.jsxs("div",{className:"mb-1 flex min-h-9 flex-row items-center justify-between space-x-2 ".concat(n," group/sharing-row"),"data-disabled":Gt(o),children:[s.jsx("div",{className:"shrink-0 grow-0",children:t}),s.jsx("div",{className:"text-token-text-primary grow truncate text-sm",children:e}),a&&s.jsx("div",{children:a})]})}export{ha as ShareProjectModal};
//# sourceMappingURL=c0kaze4itcd56b12.js.map

var z=Object.defineProperty;var P=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var R=(n,e,t)=>e in n?z(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,A=(n,e)=>{for(var t in e||(e={}))F.call(e,t)&&R(n,t,e[t]);if(P)for(var t of P(e))Y.call(e,t)&&R(n,t,e[t]);return n};import{c as H,r as j,j as l,h as q}from"./mw35uwhq4g8r9eam.js";import{aD as B,bP as c,d as L,e5 as J,fG as K,ek as Q}from"./d0xa318sl7ywi0za.js";import{V as W}from"./lmjej3aac0uhz664.js";const a=()=>({id:null,hintMessage:null,modalMessage:null}),X=c(a()),Z=c(a()),S=c(a()),D=c(a()),ee=c(a()),se=c(a()),te=c(a()),U=[{signal:X,type:"normal"},{signal:Z,type:"transient"},{signal:S,type:"normal"},{signal:D,type:"normal"},{signal:ee,type:"normal"},{signal:se,type:"normal"},{signal:te,type:"normal"}],ne=B(()=>{for(const n of U){const e=n.signal();if(e.hintMessage!=null)return{messageState:e,transient:n.type==="transient",clearMessage:()=>{n.signal.set(a())}}}return{messageState:void 0,transient:!1}}),pe=()=>L(D).modalMessage!=null,ue=()=>{for(const{signal:n}of U)n.set(a())},V="inline-flex items-center bg-transparent text-token-text-secondary hover:text-token-text-primary",oe=3e3,ie=n=>{"use forget";const e=H.c(7),{message:t,onClick:r}=n,d=q();let s;e[0]!==d?(s=d.formatMessage(le.openInfoModal),e[0]=d,e[1]=s):s=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(K,{className:"icon-sm ms-1"}),e[2]=o):o=e[2];let i;return e[3]!==t||e[4]!==r||e[5]!==s?(i=l.jsxs("button",{onClick:r,className:V,"aria-label":s,children:[t,o]}),e[3]=t,e[4]=r,e[5]=s,e[6]=i):i=e[6],i},ae=n=>{"use forget";var O,k,E,I,$,C;const e=H.c(23),{conversationId:t}=n,[r,d]=j.useState(!1),{messageState:s,transient:o,clearMessage:i}=L(re);let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g={title:void 0,description_markdown:void 0,buttons:[]},e[0]=g):g=e[0];const[_,G]=j.useState(g);let M;e[1]!==((O=s==null?void 0:s.modalMessage)==null?void 0:O.buttons)||e[2]!==((k=s==null?void 0:s.modalMessage)==null?void 0:k.description_markdown)||e[3]!==((E=s==null?void 0:s.modalMessage)==null?void 0:E.title)?(M=()=>{var u,T,w,N;G({title:(u=s==null?void 0:s.modalMessage)==null?void 0:u.title,description_markdown:(T=s==null?void 0:s.modalMessage)==null?void 0:T.description_markdown,buttons:(N=(w=s==null?void 0:s.modalMessage)==null?void 0:w.buttons)!=null?N:[]}),d(!0)},e[1]=(I=s==null?void 0:s.modalMessage)==null?void 0:I.buttons,e[2]=($=s==null?void 0:s.modalMessage)==null?void 0:$.description_markdown,e[3]=(C=s==null?void 0:s.modalMessage)==null?void 0:C.title,e[4]=M):M=e[4];const v=M;let x,h;e[5]!==i||e[6]!==o?(x=()=>{let u;return o&&(u=setTimeout(()=>{i==null||i()},oe)),()=>{clearTimeout(u)}},h=[o,i],e[5]=i,e[6]=o,e[7]=x,e[8]=h):(x=e[7],h=e[8]),j.useEffect(x,h);let m;e[9]!==v||e[10]!==s||e[11]!==o?(m=s&&l.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},style:{pointerEvents:o?"none":"auto",cursor:o?"default":"pointer"},children:l.jsx("div",{className:"flex items-center text-xs",children:typeof s.hintMessage=="string"?l.jsx(ie,{message:s.hintMessage,onClick:v}):s.hintMessage})},s.id),e[9]=v,e[10]=s,e[11]=o,e[12]=m):m=e[12];let f;e[13]!==m?(f=l.jsx(Q,{mode:"wait",children:m}),e[13]=m,e[14]=f):f=e[14];let y;e[15]===Symbol.for("react.memo_cache_sentinel")?(y=()=>d(!1),e[15]=y):y=e[15];let p;e[16]!==t||e[17]!==r||e[18]!==_?(p=l.jsx(W,A({conversationId:t,isOpen:r,onClose:y},_)),e[16]=t,e[17]=r,e[18]=_,e[19]=p):p=e[19];let b;return e[20]!==f||e[21]!==p?(b=l.jsxs("div",{className:"absolute bottom-1 max-h-6 min-h-6",children:[f,p]}),e[20]=f,e[21]=p,e[22]=b):b=e[22],b},le={openInfoModal:{id:"hintMessage.openInfoModal",defaultMessage:"Open info modal",description:"Open info modal about voice mode usage"}};function re(){return ne()}const ge=Object.freeze(Object.defineProperty({__proto__:null,VoiceHintContainer:ae,hintMessageClassName:V},Symbol.toStringTag,{value:"Module"}));export{D as a,ee as b,ue as c,te as d,a as e,V as h,se as i,X as m,S as r,Z as t,pe as u,ge as v};
//# sourceMappingURL=hn1woqxlscagz0nl.js.map

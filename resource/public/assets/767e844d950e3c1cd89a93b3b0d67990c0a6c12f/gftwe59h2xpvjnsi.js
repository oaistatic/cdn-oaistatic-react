var Dt=Object.defineProperty,qt=Object.defineProperties;var Gt=Object.getOwnPropertyDescriptors;var xt=Object.getOwnPropertySymbols;var Ut=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var bt=(s,e,r)=>e in s?Dt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,de=(s,e)=>{for(var r in e||(e={}))Ut.call(e,r)&&bt(s,r,e[r]);if(xt)for(var r of xt(e))zt.call(e,r)&&bt(s,r,e[r]);return s},vt=(s,e)=>qt(s,Gt(e));import{b as Wt,r as j,g as Vt,c as He,j as t,M as i,h as ue,u as Kt,t as Qt,a as Mt,y as Yt}from"./mw35uwhq4g8r9eam.js";import{bd as y,A as St,aB as Rt,iv as Xt,iw as Zt,ag as Jt,ah as es,as as me,rU as ts}from"./g2euln7v5pbm31qa.js";import{W as _t,b3 as lt,wR as ss,hO as as,gw as Et,hi as It,aA as ie,er as At,p as tt,u as st,al as dt,cI as Lt,cF as rs,h3 as ns,ro as os,ee as yt,ei as jt,d as is,ua as ls,jr as cs}from"./d0xa318sl7ywi0za.js";import{b as Bt,g as ct,f as ds,d as kt,E as fe,e as et,h as ms}from"./glfvtve5gp6wwjag.js";import{W as fs}from"./lw2hpe6y5hhfte4k.js";import{j as us,q as hs}from"./ldtpmsnzn9ens47o.js";import{W as ps}from"./baz4b8nlf8t2lb95.js";import{A as gs}from"./gjym1xeroi22t6az.js";import"./e9wj7nd5g5h0l9yg.js";import"./k6k3ilbqdb73kxkm.js";import"./ksb30nvrqfrocrgu.js";import"./h38m9m9rf2db1qpt.js";import"./mlgj7gsfvuk1e8bn.js";import"./mpk4drhv3szxuvkj.js";import"./ohau9tqj1fpdibg0.js";import"./iknugp00locgtve5.js";import"./h1em0bjkpkjv8ykw.js";import"./cv4afpu20gjb9dll.js";import"./h4yh1661qhhbu5v5.js";import"./hu1bt0oauegdhua6.js";import"./kubdgxu3crk3gqem.js";import"./kne35xckmmfq3xx6.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./c340ncgh31fwqkpk.js";import"./of0vtq1gcmd3mc3z.js";import"./m9dg467qzmmahw21.js";import"./dbnl40ahcmx1rqbw.js";import"./j723eutw6lfomm01.js";import"./gl4f6lge29au0ljx.js";import"./iio0zgk2sqlxbcjy.js";import"./obpubb7ugisfu36u.js";import"./ggvjblnzoirafiyl.js";import"./kc32gem4l2t3hnxt.js";import"./5uqv5sdajcdsdc3v.js";import"./kl0a548ohmz3fby2.js";import"./fe4yarxdk4eko5w6.js";import"./jc1wlz3ym1r6tf2l.js";import"./dhyn0hpw8j3dzdrv.js";function Pt(s){const{data:e,isLoading:r,refetch:a,isFetching:o,error:n}=Wt({queryKey:["aardvark","scan-configs",s!=null?s:"personal"],enabled:!0,queryFn:async()=>{var g,P;const c=new Bt(_t),w={limit:1e3},x=await c.get("/aardvark/scan_configurations",{headers:lt(),query:w});if(x.status!==200)throw ct(x.status,x.data);return(P=(g=x.data.items)==null?void 0:g.map(C=>{var f;return vt(de({},C),{lookback_days:(f=C.lookback_days)!=null?f:null})}))!=null?P:[]},refetchOnWindowFocus:!0}),{scanMap:l,configIdByRepo:h,configVersionById:m}=j.useMemo(()=>{const c=new Map,w=new Map,x=new Map;for(const g of e!=null?e:[])w.set(g.repo_id,g.id),x.set(g.id,g.version),c.set(g.repo_id,g);return{scanMap:c,configIdByRepo:w,configVersionById:x}},[e]);return{scanMap:l,configIdByRepo:h,configVersionById:m,isLoading:r||o,refetch:a,error:n}}function wt(s,e,r){const a=["aardvark","scan-configs",s!=null?s:"personal"];r.setQueryData(a,o=>{const n=Array.isArray(o)?[...o]:[],l=ds(n,h=>h.id===e.id);return l>=0?n[l]=e:n.push(e),n})}var it,Nt;function xs(){if(Nt)return it;Nt=1;var s=ss(),e=as();function r(a,o,n,l){return a==null?[]:(e(o)||(o=o==null?[]:[o]),n=l?void 0:n,e(n)||(n=n==null?[]:[n]),s(a,o,n))}return it=r,it}var bs=xs();const vs=Vt(bs);function ys(s){"use forget";const e=He.c(51),{scanConfigurations:r,intl:a}=s,[o,n]=j.useState(1),[l,h]=j.useState("");let m;if(e[0]!==r||e[1]!==l){const N=l.trim().toLowerCase(),G=r.filter(ee=>{var Q,Y;const K=ee.repo_url.replace("https://github.com/",""),D=K.split("/"),pe=(Q=D.pop())!=null?Q:K,te=(Y=D[0])!=null?Y:"";return N?pe.toLowerCase().includes(N)||te.toLowerCase().includes(N):!0});m=vs(G,[Ms,Cs,Ns],["asc","asc","asc"]),e[0]=r,e[1]=l,e[2]=m}else m=e[2];const c=m,w=Math.max(1,Math.ceil(c.length/10)),x=Math.min(o,w),g=(x-1)*10,P=Math.min(g+10,c.length),C=c.slice(g,P);let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{n(1)},e[3]=f):f=e[3];let F;e[4]!==r.length||e[5]!==l?(F=[r.length,l],e[4]=r.length,e[5]=l,e[6]=F):F=e[6],j.useEffect(f,F);let O;e[7]===Symbol.for("react.memo_cache_sentinel")?(O=N=>h(N.target.value),e[7]=O):O=e[7];let M;e[8]!==a?(M=a.formatMessage({id:"aardvark.whamRepos.searchPlaceholder",defaultMessage:"Search repositories"}),e[8]=a,e[9]=M):M=e[9];let p;e[10]!==a?(p=a.formatMessage({id:"aardvark.whamRepos.searchAria",defaultMessage:"Search repositories"}),e[10]=a,e[11]=p):p=e[11];let _;e[12]!==l||e[13]!==M||e[14]!==p?(_=t.jsx("div",{className:"mb-3 flex justify-end",children:t.jsx("div",{className:"w-64",children:t.jsx(St,{color:"search",iconPosition:"left",icon:Et,className:"text-token-text-tertiary flex h-9 w-full items-center rounded-md!",inputClassName:"text-token-text-primary w-full",containerInputClassName:"w-full",name:"search-configured-repos",type:"text",value:l,onChange:O,placeholder:M,ariaLabel:p})})}),e[12]=l,e[13]=M,e[14]=p,e[15]=_):_=e[15];const T=y,A="overflow-x-auto overflow-y-clip",L=!0;let E;e[16]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(y.HeaderCell,{className:"ps-2 text-sm",children:t.jsx(i,{id:"aardvark.whamRepos.organizationHeader",defaultMessage:"Organization"})}),e[16]=E):E=e[16];let B;e[17]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(y.HeaderCell,{className:"ps-2 text-sm",children:t.jsx(i,{id:"aardvark.whamRepos.repository",defaultMessage:"Repository"})}),e[17]=B):B=e[17];let S;e[18]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(y.HeaderCell,{className:"ps-2 text-sm",children:t.jsx(i,{id:"aardvark.whamRepos.scanning",defaultMessage:"Scanning"})}),e[18]=S):S=e[18];let k;e[19]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs(y.Header,{children:[E,B,S,t.jsx(y.HeaderCell,{className:"ps-2 text-sm",children:t.jsx(i,{id:"aardvark.whamRepos.ownerHeader",defaultMessage:"Owner"})})]}),e[19]=k):k=e[19];const b=y;let R;e[20]!==a?(R=N=>{var te,Q,Y,le;const G=N.repo_url.replace("https://github.com/",""),ee=(te=G.split("/").pop())!=null?te:G,K=(Q=G.split("/")[0])!=null?Q:G,D=(le=(Y=N.owner)==null?void 0:Y.email)!=null?le:a.formatMessage({id:"aardvark.placeholder.missing",defaultMessage:"—"}),pe=N.state==="enabled";return t.jsxs(y.Row,{className:"h-14 px-2 text-sm",children:[t.jsx(y.Cell,{divClassName:"flex h-14 items-center ps-2",children:K}),t.jsxs(y.Cell,{divClassName:"flex h-14 items-center ps-2",children:[t.jsx("button",{className:"text-start underline-offset-2 hover:underline",onClick:()=>window.open(N.repo_url,"_blank"),children:ee}),t.jsx("a",{href:N.repo_url,target:"_blank",rel:"noopener noreferrer",className:"ms-2",onClick:ws,children:t.jsx(It,{className:"icon-sm"})})]}),t.jsx(y.Cell,{divClassName:"flex h-14 items-center ps-2",children:t.jsx("span",{className:"rounded-md px-2 py-0.5 text-xs ".concat(pe?"bg-green-500/10 text-green-600":"bg-token-text-status-error/15 text-token-text-status-error"),children:pe?t.jsx(i,{id:"aardvark.repos.status.enabled",defaultMessage:"Enabled"}):t.jsx(i,{id:"aardvark.repos.status.disabled",defaultMessage:"Disabled"})})}),t.jsx(y.Cell,{divClassName:"flex h-14 items-center ps-2",children:D})]},"other-".concat(N.repo_id))},e[20]=a,e[21]=R):R=e[21];const I=C.map(R);let u;e[22]!==b.Body||e[23]!==I?(u=t.jsx(b.Body,{children:I}),e[22]=b.Body,e[23]=I,e[24]=u):u=e[24];let H;e[25]!==k||e[26]!==u||e[27]!==T.Root?(H=t.jsxs(T.Root,{className:A,disableScroll:L,children:[k,u]}),e[25]=k,e[26]=u,e[27]=T.Root,e[28]=H):H=e[28];const $=c.length===0?0:g+1;let ae;e[29]!==P||e[30]!==c.length||e[31]!==$?(ae=t.jsx("div",{className:"text-token-text-tertiary text-xs",children:t.jsx(i,{id:"aardvark.whamRepos.configuredRange",defaultMessage:"{from}-{to} of {total} repositories",values:{from:$,to:P,total:c.length}})}),e[29]=P,e[30]=c.length,e[31]=$,e[32]=ae):ae=e[32];const Te=x<=1;let re,he;e[33]===Symbol.for("react.memo_cache_sentinel")?(re=()=>n(ks),he=t.jsx(i,{id:"aardvark.pagination.prev",defaultMessage:"Previous"}),e[33]=re,e[34]=he):(re=e[33],he=e[34]);let X;e[35]!==Te?(X=t.jsx(ie,{as:"button",size:"small",color:"secondary",disabled:Te,onClick:re,children:he}),e[35]=Te,e[36]=X):X=e[36];const ne=x>=w;let Z,J;e[37]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>n(js),J=t.jsx(i,{id:"aardvark.pagination.next",defaultMessage:"Next"}),e[37]=Z,e[38]=J):(Z=e[37],J=e[38]);let q;e[39]!==ne?(q=t.jsx(ie,{as:"button",size:"small",color:"secondary",disabled:ne,onClick:Z,children:J}),e[39]=ne,e[40]=q):q=e[40];let z;e[41]!==X||e[42]!==q?(z=t.jsxs("div",{className:"flex items-center gap-2",children:[X,q]}),e[41]=X,e[42]=q,e[43]=z):z=e[43];let W;e[44]!==ae||e[45]!==z?(W=t.jsxs("div",{className:"border-token-border-light bg-token-bg-primary mt-2 flex items-center justify-between border-t px-3 py-2",children:[ae,z]}),e[44]=ae,e[45]=z,e[46]=W):W=e[46];let V;return e[47]!==H||e[48]!==W||e[49]!==_?(V=t.jsxs(t.Fragment,{children:[_,H,W]}),e[47]=H,e[48]=W,e[49]=_,e[50]=V):V=e[50],V}function js(s){return s+1}function ks(s){return Math.max(1,s-1)}function ws(s){return s.stopPropagation()}function Ns(s){var o;const e=s.repo_url.replace("https://github.com/","");return((o=e.split("/").pop())!=null?o:e).toLowerCase()}function Cs(s){var r;return((r=s.repo_url.replace("https://github.com/","").split("/")[0])!=null?r:"").toLowerCase()}function Ms(s){var e;return((e=s.state)!=null?e:"disabled")==="enabled"?0:1}function Ss(){const s=ue();return t.jsxs("div",{className:"mt-5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{id:"configured-repos",className:"text-token-text-primary text-lg leading-6 font-semibold",children:t.jsx(i,{id:"aardvark.whamRepos.configuredSectionTitle",defaultMessage:"All configured repositories"})}),t.jsx("a",{href:"#configured-repos",className:"text-token-text-tertiary opacity-60 hover:opacity-100","aria-label":s.formatMessage({id:"aardvark.whamRepos.configuredLinkAria",defaultMessage:"Deep link to configured repositories"}),children:t.jsx(Rt,{className:"icon-sm"})})]}),t.jsx("p",{className:"text-token-text-secondary mt-2 mb-6 text-sm leading-6",children:t.jsx(i,{id:"aardvark.whamRepos.configuredSectionDescription",defaultMessage:"This is the full list of repositories in the workspace with scan configurations, created by you or other workspace members. You may not see findings for repos you haven’t connected."})})]})}function Rs({scanConfigurations:s,isLoading:e=!1,errorMessage:r}){const a=ue();return t.jsxs(t.Fragment,{children:[t.jsx(Ss,{}),t.jsx(_s,{scanConfigurations:s,isLoading:e,errorMessage:r,intl:a})]})}function _s({scanConfigurations:s,isLoading:e,errorMessage:r,intl:a}){return r?t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"border-token-border-light bg-token-main-surface-secondary/50 inline-flex items-center gap-2 rounded-lg border px-3 py-2.5 text-sm shadow-sm",children:t.jsx("div",{className:"text-token-text-secondary leading-6",children:r})})}):e?t.jsx("div",{className:"flex h-24 items-center justify-center",children:t.jsx(At,{className:"text-token-text-tertiary h-6 w-6"})}):s.length===0?t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"border-token-border-light bg-token-main-surface-secondary/50 inline-flex items-center gap-2 rounded-lg border px-3 py-2.5 text-sm shadow-sm",children:t.jsx("div",{className:"text-token-text-secondary leading-6",children:t.jsx(i,{id:"aardvark.whamRepos.configuredEmpty",defaultMessage:"No configured repositories yet."})})})}):t.jsx(ys,{scanConfigurations:s,intl:a})}const Ct=14;function Ot(s){return s===void 0||typeof s=="number"&&Number.isFinite(s)&&s>=0&&s<=90}function Es({value:s,onChange:e,isSaving:r}){const a=ue(),o=Ot(s);return t.jsxs("div",{className:"grid w-full grid-cols-[1fr,auto] grid-rows-[auto,auto] gap-x-4 gap-y-1 ".concat(r?"pointer-events-none opacity-60":""),children:[t.jsx("label",{className:"col-start-1 row-start-1 justify-self-start text-start text-sm font-medium",children:t.jsx(i,{id:"aardvark.whamRepos.lookbackDays",defaultMessage:"Lookback window"})}),t.jsx("div",{className:"text-token-text-tertiary col-start-1 row-start-2 justify-self-start text-start text-[11px]",children:t.jsx(i,{id:"aardvark.whamRepos.lookbackDays.help",defaultMessage:"How far back to scan existing commits when first enabled."})}),t.jsxs("div",{className:"col-start-2 row-span-2 flex flex-col items-end gap-2 self-center justify-self-end",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:[{label:a.formatMessage({id:"aardvark.whamRepos.preset.1w",defaultMessage:"1w"}),value:7},{label:a.formatMessage({id:"aardvark.whamRepos.preset.2w",defaultMessage:"2w"}),value:14},{label:a.formatMessage({id:"aardvark.whamRepos.preset.1m",defaultMessage:"1m"}),value:30},{label:a.formatMessage({id:"aardvark.whamRepos.preset.3m",defaultMessage:"3m"}),value:90},{label:a.formatMessage({id:"aardvark.whamRepos.preset.indefinite",defaultMessage:"Indefinite"}),value:void 0}].map(n=>{var l;return t.jsx("button",{type:"button",onClick:()=>e(n.value),className:"border-token-border-light rounded-md border px-2 py-1 text-xs "+(s===n.value?"bg-token-main-surface-secondary text-token-text-primary":"bg-token-bg-primary text-token-text-secondary hover:bg-token-main-surface-secondary"),children:n.label},String((l=n.value)!=null?l:"indefinite"))})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"number",value:s!=null?s:"",placeholder:s===void 0?a.formatMessage({id:"aardvark.whamRepos.preset.placeholder.indefinite",defaultMessage:"Indefinite"}):void 0,onChange:n=>{const l=n.target.value;if(l===""||l==="indefinite"){e(void 0);return}const h=parseInt(l,10);Number.isFinite(h)&&e(h)},"aria-invalid":!o,"aria-describedby":o?void 0:"lookback-error",className:"border-token-border-light bg-token-main-surface-secondary text-token-text-primary w-24 rounded-md border px-2 py-1 text-end text-xs focus:ring-1 focus:outline-none "+(o?"focus:ring-token-border-light":"border-red-500 focus:ring-red-500"),"aria-label":a.formatMessage({id:"aardvark.whamRepos.lookbackDays.input",defaultMessage:"Lookback days"})}),s!==void 0&&t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(i,{id:"aardvark.whamRepos.lookbackDays.suffix",defaultMessage:"days"})})]}),o?null:t.jsx("div",{id:"lookback-error",className:"self-end text-[11px] text-red-500",children:t.jsx(i,{id:"aardvark.whamRepos.lookbackDays.error",defaultMessage:"Enter a value between 0 and 90."})})]})]})}function Is(s){"use no forget";var k;const{open:e,onOpenChange:r,repoName:a,repoId:o,repoFullName:n}=s,l=ue(),h=tt(),m=st(),c=dt(m),w=(k=c==null?void 0:c.authUserId)!=null?k:"",x=c==null?void 0:c.getWorkspaceId(),{environmentId:g,setEnvironmentId:P}=us(),{scanMap:C,configIdByRepo:f,configVersionById:F}=Pt(x),O=Kt(),[M,p]=j.useState(!1),[_,T]=j.useState(!1),[A,L]=j.useState(Ct),E=j.useMemo(()=>C.get(o),[C,o]);j.useEffect(()=>{var R,I;if(!e)return;if(p(((R=E==null?void 0:E.state)!=null?R:"disabled")==="enabled"),P((I=E==null?void 0:E.environment_id)!=null?I:null),!E){L(Ct);return}const b=E.lookback_days;L(b==null?void 0:b)},[e,E,P]);const B=()=>{r(!1)},S=async()=>{T(!0);try{const b=f.get(o),R=new Bt(_t);if(!b){const H=await R.post("/aardvark/scan_configurations",{headers:lt(),body:{environment_id:g||"env-default",repo_id:o,repo_url:"https://github.com/".concat(n),state:M?"enabled":"disabled",owner_id:w,lookback_days:A!=null?A:null}});if(H.status!==201)throw ct(H.status,H.data);wt(x,H.data,O),O.invalidateQueries({queryKey:kt()}),r(!1),h.successNeutral(l.formatMessage({id:"aardvark.toast.settingsSaved",defaultMessage:"Scan settings saved"}));return}const I=F.get(b),u=await R.patch("/aardvark/scan_configurations/{id}",{headers:lt(),path:{id:b},body:{version:I,state:M?"enabled":"disabled",owner_id:M?w:void 0,environment_id:g,lookback_days:A!=null?A:null}});if(u.status!==200)throw ct(u.status,u.data);wt(x,u.data,O),O.invalidateQueries({queryKey:kt()}),r(!1),h.successNeutral(l.formatMessage({id:"aardvark.toast.settingsSaved",defaultMessage:"Scan settings saved"}))}catch(b){const R=b,I=l.formatMessage(fe.scanSettingsSave,{details:R.message});h.danger(I)}finally{T(!1)}};return t.jsxs(Xt,{open:e,onOpenChange:r,children:[t.jsx(Zt,{asChild:!0,children:t.jsx(ie,{as:"button",color:"secondary",size:"small",children:t.jsx(i,{id:"aardvark.whamRepos.configureButton",defaultMessage:"Configure"})})}),t.jsx(Jt,{children:t.jsxs(es,{side:"bottom",align:"end",sideOffset:8,className:"border-token-border-light bg-token-bg-primary z-10 w-[520px] rounded-lg border p-4 shadow-xl",children:[t.jsx("div",{className:"text-token-text-primary mb-3 text-lg leading-6 font-semibold",children:t.jsx(i,{id:"aardvark.whamRepos.scanSettingsInlineTitle",defaultMessage:"Scan settings for {repo}",values:{repo:a}})}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm font-medium",children:t.jsx(i,{id:"aardvark.whamRepos.enabledToggle",defaultMessage:"Enabled"})}),t.jsx(Lt,{checked:M,onCheckedChange:b=>p(b),"aria-hidden":!0,disabled:_})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("label",{className:"text-sm font-medium",children:t.jsx(i,{id:"aardvark.whamRepos.environment",defaultMessage:"Codex environment"})}),t.jsx("div",{className:_?"pointer-events-none opacity-60":"",children:t.jsx(fs,{showBranchSelector:!1,filters:{repos:[o]},allowRepositorySelection:!1})})]}),t.jsx(Es,{value:A,onChange:L,isSaving:_}),t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx(ie,{color:"secondary",onClick:B,children:t.jsx(i,{id:"aardvark.whamRepos.cancel",defaultMessage:"Cancel"})}),t.jsx(ie,{color:"primary",disabled:_||M&&(!g||!Ot(A)),onClick:()=>void S(),children:_?t.jsx(i,{id:"aardvark.whamRepos.saving",defaultMessage:"Saving..."}):t.jsx(i,{id:"aardvark.whamRepos.save",defaultMessage:"Save"})})]})]})]})})]})}function As({className:s}){return t.jsxs("div",{className:rs("border-token-border-light/70 bg-token-main-surface-secondary/50 inline-flex items-center gap-2 rounded-lg border px-3 py-2.5 shadow-sm",s),role:"note",children:[t.jsx(ns,{className:"icon-sm text-token-icon-tertiary min-w-[16px]","aria-hidden":!0}),t.jsx("div",{className:"text-token-text-secondary text-sm leading-6",children:t.jsx(i,{id:"aardvark.home.configureScans.disclaimer",defaultMessage:"Workspace visibility: Scan configurations are visible to all workspace members. However, findings are only visible to workspace members with access to the repository."})})]})}const Tt=100;function Ls(s){"use forget";var mt,ft,ut,ht;const e=He.c(137),{connectorLoading:r,scanMap:a,currentUserId:o,intl:n,isConnected:l}=s,h=tt(),{data:m,isLoading:c,error:w}=hs();let x;e[0]!==(m==null?void 0:m.memberships)?(x=(mt=m==null?void 0:m.memberships)!=null?mt:[],e[0]=m==null?void 0:m.memberships,e[1]=x):x=e[1];let g;e[2]!==(m==null?void 0:m.other)?(g=(ft=m==null?void 0:m.other)!=null?ft:[],e[2]=m==null?void 0:m.other,e[3]=g):g=e[3];let P;e[4]!==x||e[5]!==g?(P=[...x,...g],e[4]=x,e[5]=g,e[6]=P):P=e[6];const C=P,[f,F]=j.useState(null);let O,M;e[7]!==C||e[8]!==f?(O=()=>{if(C.length===0){F(null);return}(f==null||!C.some(d=>d.id===f))&&F(C[0].id)},M=[C,f],e[7]=C,e[8]=f,e[9]=O,e[10]=M):(O=e[9],M=e[10]),j.useEffect(O,M);let p;e[11]!==f?(p=["aardvark","wham","repositories",f],e[11]=f,e[12]=p):p=e[12];const _=l&&!!f;let T;e[13]!==f?(T=d=>{const{pageParam:v}=d;return ps.getRepositoriesByInstallationId(f!=null?f:0,v,Tt)},e[13]=f,e[14]=T):T=e[14];let A;e[15]!==p||e[16]!==_||e[17]!==T?(A={queryKey:p,enabled:_,initialPageParam:1,queryFn:T,getNextPageParam:Fs,refetchOnWindowFocus:!0},e[15]=p,e[16]=_,e[17]=T,e[18]=A):A=e[18];const{data:L,isLoading:E,fetchNextPage:B,hasNextPage:S,isFetchingNextPage:k,error:b}=Qt(A);let R;e[19]!==(L==null?void 0:L.pages)?(R=(ut=L==null?void 0:L.pages.flatMap($s))!=null?ut:[],e[19]=L==null?void 0:L.pages,e[20]=R):R=e[20];const I=R,[u,H]=j.useState(""),[$,ae]=j.useState(!1),[Te,re]=j.useState(1),[he,X]=j.useState(null);let ne;if(e[21]!==I||e[22]!==u){let d;e[24]!==u?(d=v=>v.name.toLowerCase().includes(u.trim().toLowerCase()),e[24]=u,e[25]=d):d=e[25],ne=I.filter(d),e[21]=I,e[22]=u,e[23]=ne}else ne=e[23];const Z=ne;let J,q;e[26]!==B||e[27]!==S||e[28]!==k||e[29]!==u?(J=()=>{u.trim()!==""&&S&&!k&&B()},q=[u,S,k,B],e[26]=B,e[27]=S,e[28]=k,e[29]=u,e[30]=J,e[31]=q):(J=e[30],q=e[31]),j.useEffect(J,q);let z;e:{if(!$){z=Z;break e}let d;if(e[32]!==Z||e[33]!==a){let v;e[35]!==a?(v=oe=>{var Oe;const se=a.get(oe.id);return((Oe=se==null?void 0:se.state)!=null?Oe:"disabled")==="enabled"},e[35]=a,e[36]=v):v=e[36],d=Z.filter(v),e[32]=Z,e[33]=a,e[34]=d}else d=e[34];z=d}const W=z;let V;if(e[37]!==W||e[38]!==a){V=[...W];let d;e[40]!==a?(d=(v,oe)=>{var ce,Je;const se=((ce=a.get(v.id))==null?void 0:ce.state)==="enabled",Oe=((Je=a.get(oe.id))==null?void 0:Je.state)==="enabled";return se===Oe?v.name.localeCompare(oe.name):se?-1:1},e[40]=a,e[41]=d):d=e[41],V.sort(d),e[37]=W,e[38]=a,e[39]=V}else V=e[39];const N=V,G=Math.max(1,Math.ceil(N.length/10)),ee=Math.min(Te,G),K=(ee-1)*10,D=Math.min(K+10,N.length),pe=N.slice(K,D);let te,Q;e[42]!==D||e[43]!==B||e[44]!==S||e[45]!==k||e[46]!==I.length?(te=()=>{D>=I.length&&S&&!k&&B()},Q=[D,I.length,S,k,B],e[42]=D,e[43]=B,e[44]=S,e[45]=k,e[46]=I.length,e[47]=te,e[48]=Q):(te=e[47],Q=e[48]),j.useEffect(te,Q);let Y;e[49]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>{re(1)},e[49]=Y):Y=e[49];let le;e[50]!==u||e[51]!==f||e[52]!==$?(le=[u,f,$],e[50]=u,e[51]=f,e[52]=$,e[53]=le):le=e[53],j.useEffect(Y,le);let $e,Fe;e[54]!==w||e[55]!==n||e[56]!==h?($e=()=>{if(!w)return;const d=et(w),v=n.formatMessage(fe.githubInstallationsLoad,{details:d});h.danger(v,{hasCloseButton:!0})},Fe=[w,n,h],e[54]=w,e[55]=n,e[56]=h,e[57]=$e,e[58]=Fe):($e=e[57],Fe=e[58]),j.useEffect($e,Fe);let De,qe;e[59]!==n||e[60]!==b||e[61]!==h?(De=()=>{if(!b)return;const d=et(b),v=n.formatMessage(fe.githubRepositoriesLoad,{details:d});h.danger(v,{hasCloseButton:!0})},qe=[n,b,h],e[59]=n,e[60]=b,e[61]=h,e[62]=De,e[63]=qe):(De=e[62],qe=e[63]),j.useEffect(De,qe);const U=r||c||E,Ge=C.length>0;let ge;e[64]!==Ge?(ge=Ge?t.jsx(As,{}):null,e[64]=Ge,e[65]=ge):ge=e[65];let Ue;e[66]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx("p",{className:"text-token-text-primary text-sm leading-6 font-medium",children:t.jsx(i,{id:"aardvark.whamRepos.githubOrg",defaultMessage:"GitHub organization"})}),e[66]=Ue):Ue=e[66];let xe;e[67]!==f?(xe=(ht=f==null?void 0:f.toString())!=null?ht:"",e[67]=f,e[68]=xe):xe=e[68];let ze;e[69]===Symbol.for("react.memo_cache_sentinel")?(ze=d=>F(parseInt(d)),e[69]=ze):ze=e[69];const at=!Ge;let be;e[70]!==n?(be=n.formatMessage({id:"aardvark.whamRepos.selectOrg",defaultMessage:"Select organization"}),e[70]=n,e[71]=be):be=e[71];let ve;e[72]!==be?(ve=t.jsx("div",{className:"truncate",children:t.jsx(me.Value,{placeholder:be})}),e[72]=be,e[73]=ve):ve=e[73];let We;e[74]===Symbol.for("react.memo_cache_sentinel")?(We=t.jsx(me.Icon,{}),e[74]=We):We=e[74];let ye;e[75]!==ve?(ye=t.jsx(me.Trigger,{className:"border-token-border-heavy bg-token-bg-primary w-60 rounded-md border",children:t.jsxs("div",{className:"flex w-full items-center justify-between",children:[ve,We]})}),e[75]=ve,e[76]=ye):ye=e[76];let je;e[77]!==C?(je=t.jsx(me.Portal,{children:t.jsx(me.Content,{align:"start",className:"rounded-lg",children:C.map(Hs)})}),e[77]=C,e[78]=je):je=e[78];let ke;e[79]!==xe||e[80]!==at||e[81]!==ye||e[82]!==je?(ke=t.jsxs("div",{className:"flex w-60 flex-col gap-2",children:[Ue,t.jsxs(me.Root,{value:xe,onValueChange:ze,disabled:at,children:[ye,je]})]}),e[79]=xe,e[80]=at,e[81]=ye,e[82]=je,e[83]=ke):ke=e[83];let Ve;e[84]===Symbol.for("react.memo_cache_sentinel")?(Ve=d=>H(d.target.value),e[84]=Ve):Ve=e[84];let we;e[85]!==n?(we=n.formatMessage({id:"aardvark.whamRepos.searchPlaceholder",defaultMessage:"Search repositories"}),e[85]=n,e[86]=we):we=e[86];let Ne;e[87]!==n?(Ne=n.formatMessage({id:"aardvark.whamRepos.searchAria",defaultMessage:"Search repositories"}),e[87]=n,e[88]=Ne):Ne=e[88];let Ce;e[89]!==u||e[90]!==we||e[91]!==Ne?(Ce=t.jsx("div",{className:"flex-1",children:t.jsx(St,{color:"search",iconPosition:"left",icon:Et,className:"text-token-text-tertiary flex h-9 w-full items-center rounded-md!",inputClassName:"text-token-text-primary w-full",containerInputClassName:"w-full",name:"search-repos",type:"text",value:u,onChange:Ve,placeholder:we,ariaLabel:Ne})}),e[89]=u,e[90]=we,e[91]=Ne,e[92]=Ce):Ce=e[92];let Ke;e[93]===Symbol.for("react.memo_cache_sentinel")?(Ke=d=>ae(d),e[93]=Ke):Ke=e[93];let Me;e[94]!==n?(Me=n.formatMessage({id:"aardvark.whamRepos.toggleShowEnabled",defaultMessage:"Enabled only"}),e[94]=n,e[95]=Me):Me=e[95];let Se;e[96]!==$||e[97]!==Me?(Se=t.jsx(Lt,{checked:$,onCheckedChange:Ke,"aria-label":Me}),e[96]=$,e[97]=Me,e[98]=Se):Se=e[98];let Qe;e[99]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsx("span",{className:"text-xs",children:t.jsx(i,{id:"aardvark.whamRepos.showEnabled",defaultMessage:"Enabled only"})}),e[99]=Qe):Qe=e[99];let Re;e[100]!==Se?(Re=t.jsxs("div",{className:"flex h-9 items-center gap-2 self-end whitespace-nowrap",children:[Se,Qe]}),e[100]=Se,e[101]=Re):Re=e[101];let _e;e[102]!==ke||e[103]!==Ce||e[104]!==Re?(_e=t.jsxs("div",{className:"flex flex-row items-end gap-2",children:[ke,Ce,Re]}),e[102]=ke,e[103]=Ce,e[104]=Re,e[105]=_e):_e=e[105];const rt=y,Ht="overflow-x-auto overflow-y-clip",$t=!0;let Ye;e[106]===Symbol.for("react.memo_cache_sentinel")?(Ye=t.jsx(y.HeaderCell,{className:"ps-2 text-sm",children:t.jsx(i,{id:"aardvark.whamRepos.repository",defaultMessage:"Repository"})}),e[106]=Ye):Ye=e[106];let Xe;e[107]===Symbol.for("react.memo_cache_sentinel")?(Xe=t.jsx(y.HeaderCell,{className:"ps-2 text-sm",children:t.jsx(i,{id:"aardvark.whamRepos.scanning",defaultMessage:"Scanning"})}),e[107]=Xe):Xe=e[107];let Ee;e[108]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsxs(y.Header,{children:[Ye,Xe,t.jsx(y.HeaderCell,{className:"ps-2 text-sm",children:t.jsx(i,{id:"aardvark.whamRepos.settingsHeader",defaultMessage:"Settings"})})]}),e[108]=Ee):Ee=e[108];const nt=y;let Ie;e[109]!==U?(Ie=U&&t.jsx(t.Fragment,{children:Array.from({length:5}).map(Ts)}),e[109]=U,e[110]=Ie):Ie=e[110];let Ae;e[111]!==N.length||e[112]!==U?(Ae=N.length===0&&!U&&t.jsx(y.Row,{children:t.jsx(y.Cell,{colSpan:4,divClassName:"flex h-14 items-center",children:t.jsx(i,{id:"aardvark.whamRepos.empty",defaultMessage:"No repositories"})})}),e[111]=N.length,e[112]=U,e[113]=Ae):Ae=e[113];const ot=pe.map(d=>{var gt;const v=a.get(d.id),oe=(v==null?void 0:v.state)==="enabled",se=(gt=v==null?void 0:v.owner)==null?void 0:gt.email,Oe=se||n.formatMessage({id:"aardvark.placeholder.missing",defaultMessage:"—"}),ce=!!v,Je=!!(v!=null&&v.owner_id)&&v.owner_id===o,pt="https://github.com/"+d.repository_full_name;return t.jsxs(y.Row,{className:"group/row hover:bg-token-bg-tertiary h-14 px-2 text-sm",children:[t.jsxs(y.Cell,{divClassName:"flex h-14 items-center group-hover/row:underline ps-2",children:[t.jsx("button",{className:"text-start underline-offset-2 hover:underline",onClick:()=>window.open(pt,"_blank"),children:d.name}),t.jsx("a",{href:pt,target:"_blank",rel:"noopener noreferrer",className:"ms-2 opacity-0 group-hover/row:opacity-100",onClick:Os,children:t.jsx(It,{className:"icon-sm"})})]}),t.jsx(y.Cell,{divClassName:"flex h-14 items-center justify-start gap-3 ps-2",children:t.jsx("span",{className:"rounded-md px-2 py-0.5 text-xs ".concat(ce&&oe?"bg-green-500/10 text-green-600":ce&&!oe?"bg-token-text-status-error/15 text-token-text-status-error":"bg-token-bg-tertiary text-token-text-tertiary"),children:ce?oe?t.jsx(i,{id:"aardvark.repos.status.enabled",defaultMessage:"Enabled"}):t.jsx(i,{id:"aardvark.status.disabled",defaultMessage:"Disabled"}):t.jsx(i,{id:"aardvark.status.unconfigured",defaultMessage:"Unconfigured"})})}),t.jsx(y.Cell,{divClassName:"flex h-14 items-center ps-2",children:!ce||Je?t.jsx(Is,{open:he===d.id,onOpenChange:Ft=>X(Ft?d.id:null),repoName:d.name,repoId:d.id,repoFullName:d.repository_full_name}):t.jsx("div",{className:"flex flex-col",children:t.jsx("span",{children:t.jsx(i,{id:"aardvark.whamRepos.ownedBy",defaultMessage:"Owned by {email}",values:{email:Oe}})})})})]},d.id)});let Le;e[114]!==nt.Body||e[115]!==Ie||e[116]!==Ae||e[117]!==ot?(Le=t.jsxs(nt.Body,{children:[Ie,Ae,ot]}),e[114]=nt.Body,e[115]=Ie,e[116]=Ae,e[117]=ot,e[118]=Le):Le=e[118];let Be;e[119]!==rt.Root||e[120]!==Ee||e[121]!==Le?(Be=t.jsxs(rt.Root,{className:Ht,disableScroll:$t,children:[Ee,Le]}),e[119]=rt.Root,e[120]=Ee,e[121]=Le,e[122]=Be):Be=e[122];let Pe;e[123]!==D||e[124]!==N.length||e[125]!==S||e[126]!==G||e[127]!==ee||e[128]!==$||e[129]!==K||e[130]!==U?(Pe=N.length>0?t.jsxs("div",{className:"border-token-border-light bg-token-bg-primary flex items-center justify-between border-t px-3 py-2 ".concat(U?"animate-pulse blur-[1px]":""),children:[t.jsxs("div",{className:"text-token-text-tertiary text-xs",children:[t.jsx(i,{id:"aardvark.whamRepos.range",defaultMessage:"{from}-{to} of {total} repositories",values:{from:N.length===0?0:K+1,to:D,total:N.length}}),$&&t.jsx("span",{className:"text-token-text-secondary ms-2",children:t.jsx(i,{id:"aardvark.whamRepos.filteredEnabled",defaultMessage:"Showing enabled only"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ie,{as:"button",size:"small",color:"secondary",disabled:U||ee<=1,onClick:()=>re(Ps),children:t.jsx(i,{id:"aardvark.pagination.prev",defaultMessage:"Previous"})}),t.jsx(ie,{as:"button",size:"small",color:"secondary",disabled:U||ee>=G&&!S,onClick:()=>re(Bs),children:t.jsx(i,{id:"aardvark.pagination.next",defaultMessage:"Next"})})]})]}):null,e[123]=D,e[124]=N.length,e[125]=S,e[126]=G,e[127]=ee,e[128]=$,e[129]=K,e[130]=U,e[131]=Pe):Pe=e[131];let Ze;return e[132]!==ge||e[133]!==_e||e[134]!==Be||e[135]!==Pe?(Ze=t.jsxs(t.Fragment,{children:[ge,_e,Be,Pe]}),e[132]=ge,e[133]=_e,e[134]=Be,e[135]=Pe,e[136]=Ze):Ze=e[136],Ze}function Bs(s){return s+1}function Ps(s){return Math.max(1,s-1)}function Os(s){return s.stopPropagation()}function Ts(s,e){return t.jsx(y.Row,{children:t.jsx(y.Cell,{colSpan:4,divClassName:"p-2",children:t.jsx("div",{className:"bg-token-bg-primary border-token-border-light h-6 w-full animate-pulse rounded-md border blur-[1px]"})})},"skeleton-".concat(e))}function Hs(s){return t.jsx(me.Item,{value:s.id.toString(),children:s.account_login},s.id)}function $s(s){var e;return(e=s.repositories)!=null?e:[]}function Fs(s,e){var a;if(!(((a=s==null?void 0:s.repositories)!=null?a:[]).length<Tt))return e.length+1}function Ds({error:s=!1,isEnabledByWorkspaceAdmin:e,handleOpenGithubModal:r}={}){const a=j.useMemo(()=>s?t.jsx("div",{className:"bg-token-danger-muted text-token-text-secondary mt-4 rounded-md px-3 py-2 text-sm",role:"alert",children:t.jsx(i,de({},fe.githubConnectionInline))}):e?t.jsx(t.Fragment,{children:t.jsx("div",{className:"mt-4 flex items-center justify-center",children:t.jsx(ie,{as:"button",size:"small",color:"secondary",onClick:r,children:t.jsx(i,{id:"aardvark.whamRepos.connectGithub",defaultMessage:"Connect GitHub"})})})}):t.jsx("div",{className:"bg-token-danger-muted text-token-text-secondary mt-4 rounded-md px-3 py-2 text-sm",role:"alert",children:t.jsx(i,de({},fe.githubConnectionNotEnabled))}),[s,r,e]);return t.jsxs("div",{className:"border-token-border-light/60 bg-token-main-surface-secondary/50 mx-auto w-full max-w-[640px] rounded-lg border px-5 py-6 text-center shadow-sm backdrop-blur-[2px]",children:[t.jsx("p",{className:"text-token-text-primary text-lg leading-6 font-semibold",children:t.jsx(i,{id:"aardvark.home.connectGithub.title",defaultMessage:"Connect GitHub to start scanning and view findings with Aardvark."})}),a]})}function qs({hasGithubConnection:s,openGithubModal:e}){const r=ue();return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{id:"connected-repos",className:"text-token-text-primary text-lg leading-6 font-semibold",children:t.jsx(i,{id:"aardvark.whamRepos.connectedSectionTitle",defaultMessage:"Your connected repositories"})}),t.jsx("a",{href:"#connected-repos",className:"text-token-text-tertiary opacity-60 hover:opacity-100","aria-label":r.formatMessage({id:"aardvark.whamRepos.connectedLinkAria",defaultMessage:"Deep link to connected repositories"}),children:t.jsx(Rt,{className:"icon-sm"})})]}),t.jsx("p",{className:"text-token-text-secondary mt-2 mb-2 text-sm leading-6",children:t.jsx(i,{id:"aardvark.whamRepos.connectedSectionDescription",defaultMessage:"These are repositories from your GitHub organizations that you’ve connected. You can configure scans for them here. Missing a repo? {link}",values:{link:t.jsx("a",{href:"#connected-repos",className:"underline underline-offset-2",onClick:a=>{a.preventDefault(),s?window.open("https://github.com/apps/chatgpt-codex-connector/installations/select_target","_blank"):e()},children:t.jsx(i,{id:"aardvark.whamRepos.configureAccess",defaultMessage:"Configure repository access."})})}})})]})}function Gs(s){"use forget";var I;const e=He.c(37),{scanMap:r,scanConfigurationErrorMessage:a}=s,o=st(),n=ue(),l=tt(),{openGithubModal:h,error:m,isConnected:c,isLoading:w}=os(jt.GITHUB_CONNECTOR,"github","/aardvark/scans?refresh_repos=true",yt.CODEX);let x;e[0]!==o?(x=()=>ls(o,jt.GITHUB_CONNECTOR,{productSku:yt.CODEX}),e[0]=o,e[1]=x):x=e[1];const g=is(x),P=!w&&!c,C=c;let f;e[2]!==o?(f=dt(o),e[2]=o,e[3]=f):f=e[3];const F=f,O=(I=F==null?void 0:F.authUserId)!=null?I:"",M=ms(),p=Mt();let _;e[4]!==p.search?(_=new URLSearchParams(p.search).get("refresh_repos"),e[4]=p.search,e[5]=_):_=e[5];const T=_==="true";let A,L;e[6]!==m||e[7]!==n||e[8]!==l?(A=()=>{if(!m)return;const u=et(m),H=n.formatMessage(fe.githubConnection,{details:u});l.danger(H,{hasCloseButton:!0})},L=[m,n,l],e[6]=m,e[7]=n,e[8]=l,e[9]=A,e[10]=L):(A=e[9],L=e[10]),j.useEffect(A,L);let E,B;e[11]!==c||e[12]!==p.hash||e[13]!==p.pathname||e[14]!==p.search||e[15]!==M||e[16]!==T?(E=()=>{if(!c||!T)return;M(!0);const u=new URLSearchParams(p.search);u.delete("refresh_repos");const H=u.toString(),$="".concat(p.pathname).concat(H?"?".concat(H):"").concat(p.hash);window.history.replaceState({},"",$)},B=[c,M,T,p.pathname,p.search,p.hash],e[11]=c,e[12]=p.hash,e[13]=p.pathname,e[14]=p.search,e[15]=M,e[16]=T,e[17]=E,e[18]=B):(E=e[17],B=e[18]),j.useEffect(E,B);const S=!!m;let k;e[19]!==w||e[20]!==O||e[21]!==n||e[22]!==c||e[23]!==r?(k=t.jsx(Ls,{connectorLoading:w,scanMap:r,currentUserId:O,intl:n,isConnected:c}),e[19]=w,e[20]=O,e[21]=n,e[22]=c,e[23]=r,e[24]=k):k=e[24];let b;e[25]!==w||e[26]!==g||e[27]!==h||e[28]!==a||e[29]!==P||e[30]!==S||e[31]!==k?(b=t.jsx(zs,{scanConfigurationErrorMessage:a,showConnectCard:P,hasGithubError:S,openGithubModal:h,isLoading:w,isEnabledByWorkspaceAdmin:g,children:k}),e[25]=w,e[26]=g,e[27]=h,e[28]=a,e[29]=P,e[30]=S,e[31]=k,e[32]=b):b=e[32];let R;return e[33]!==C||e[34]!==h||e[35]!==b?(R=t.jsx(Us,{hasGithubConnection:C,openGithubModal:h,children:b}),e[33]=C,e[34]=h,e[35]=b,e[36]=R):R=e[36],R}function Us({hasGithubConnection:s,openGithubModal:e,children:r}){return t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsx("div",{className:"flex flex-col gap-1",children:t.jsx(qs,{hasGithubConnection:s,openGithubModal:e})}),r]})}function zs({scanConfigurationErrorMessage:s,showConnectCard:e,hasGithubError:r,openGithubModal:a,isLoading:o,isEnabledByWorkspaceAdmin:n,children:l}){return s?t.jsx(Ws,{message:s}):e?t.jsx(Ds,{error:r,handleOpenGithubModal:a,isEnabledByWorkspaceAdmin:n}):o?t.jsx("div",{className:"flex h-24 items-center justify-center",children:t.jsx(At,{className:"text-token-text-tertiary h-6 w-6"})}):t.jsx(t.Fragment,{children:l})}function Ws({message:s}){return t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"border-token-border-light bg-token-main-surface-secondary/50 inline-flex items-center gap-2 rounded-lg border px-3 py-2.5 text-sm shadow-sm",children:t.jsx("div",{className:"text-token-text-secondary leading-6",children:s})})})}function Vs(){const s=Mt();return j.useEffect(()=>{const r=(s.hash||"").replace(/^#/,"").toLowerCase();let a="";if(r==="connected-repos")a="connected-repos";else if(r==="configured-repos")a="configured-repos";else return;try{let o=0;const n=()=>{const l=document.getElementById(a);l?l.scrollIntoView({behavior:"smooth",block:"start"}):o<10&&(o+=1,setTimeout(n,50))};requestAnimationFrame(n)}catch(o){}},[s.hash]),t.jsx("section",{id:"configure-scans",className:"mt-8",children:t.jsx(Ks,{})})}function Ks(){const s=st(),e=dt(s),r=e==null?void 0:e.getWorkspaceId(),{scanMap:a,isLoading:o,error:n}=Pt(r),l=Array.from(a.values()),h=ue(),m=tt(),c=j.useMemo(()=>n?h.formatMessage(fe.scanConfigLoad,{details:et(n)}):null,[h,n]);return j.useEffect(()=>{c&&m.danger(c,{hasCloseButton:!0})},[h,c,m]),t.jsxs("div",{className:"display-flex flex-col gap-6",children:[t.jsx(Gs,de({scanMap:a},c?{scanConfigurationErrorMessage:c}:{})),t.jsx(Rs,de({scanConfigurations:l,isLoading:o},c?{errorMessage:c}:{}))]})}function Qs(){"use forget";const s=He.c(2),e=st(),r=ts(e),a=cs();if(!r)return null;let o;return s[0]!==a?(o=t.jsx(Ys,de({},a)),s[0]=a,s[1]=o):o=s[1],o}function Ys(s){"use forget";const e=He.c(1);let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(gs,{children:t.jsx(Vs,{})}),e[0]=r):r=e[0],r}const Ta=Yt(function(){return t.jsx(Qs,{})});export{Ta as default};
//# sourceMappingURL=gftwe59h2xpvjnsi.js.map

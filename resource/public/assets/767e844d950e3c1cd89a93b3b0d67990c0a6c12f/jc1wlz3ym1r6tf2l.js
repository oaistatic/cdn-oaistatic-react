var Y=Object.defineProperty,Z=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var H=(d,e,t)=>e in d?Y(d,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[e]=t,O=(d,e)=>{for(var t in e||(e={}))te.call(e,t)&&H(d,t,e[t]);if(W)for(var t of W(e))se.call(e,t)&&H(d,t,e[t]);return d},q=(d,e)=>Z(d,ee(e));import{c as M,d as oe,r as _,h as Q,j as n,M as B,L as ne}from"./mw35uwhq4g8r9eam.js";import{u as k,pz as K,d as A,gW as J,bq as V,gh as L,fB as R,M as ie,al as re,as as ae,cF as G,pA as le,ow as ce,gj as de,eW as me,x as ue,y as fe,gU as ge,kv as he,pB as xe,_ as X,er as pe,J as ve}from"./d0xa318sl7ywi0za.js";import{aK as je,aL as Ce,aM as Se,aN as $,aO as ye,aP as Ne,aQ as be,aR as we,aS as Pe,aT as ze,aU as Ie,aV as De,aW as Te,al as Me,ak as Ee}from"./g2euln7v5pbm31qa.js";import{D as _e}from"./gl4f6lge29au0ljx.js";import{P as $e}from"./obpubb7ugisfu36u.js";import"./iio0zgk2sqlxbcjy.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";const ke=()=>{"use forget";const d=M.c(1);let e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(e=n.jsx("div",{className:"ms-1 mt-3 h-10",children:n.jsx("div",{className:"bg-token-tertiary my-[15px] h-[10px] w-48 rounded-full"})}),d[0]=e):e=d[0],e};function Fe(d){"use forget";const e=M.c(19),{gizmo:t}=d,o=Q(),m=k(),i=_.use(K);let h;e[0]!==t||e[1]!==i?(h=()=>t?i.theme$():null,e[0]=t,e[1]=i,e[2]=h):h=e[2];const s=A(h);let p;e[3]!==t||e[4]!==i?(p=()=>t?i.emoji$():null,e[3]=t,e[4]=i,e[5]=p):p=e[5];const v=A(p);let j;e[6]!==t||e[7]!==i?(j=()=>t?i.title$():null,e[6]=t,e[7]=i,e[8]=j):j=e[8];const r=A(j);let l;e[9]!==t?(l=t?J(t):!1,e[9]=t,e[10]=l):l=e[10];const u=l;let c;return e[11]!==m||e[12]!==v||e[13]!==s||e[14]!==r||e[15]!==t||e[16]!==o||e[17]!==u?(c=n.jsx("div",{className:"mb-8 inline-flex w-full justify-center gap-2",children:t?n.jsx("div",{className:"text-page-header mt-0.5 inline-block px-4",children:n.jsx("h1",{className:"contents",children:n.jsxs("a",{href:"#edit-title",role:"button","aria-label":o.formatMessage({id:"edit-title",defaultMessage:"Edit the title of {projectName}"},{projectName:t.gizmo.display.name}),className:"text-page-header group hover:text-token-text-secondary ms-2 flex items-center gap-1.5 text-balance",onClick:g=>{g.preventDefault(),V(m,$,{submitButtonTitle:o.formatMessage(R.projectSettingsSubmitButton),gizmo:t,onClose:()=>L(m,$)})},children:[n.jsx(Se,{size:"lg",color:s,emoji:v,isSharedProject:u,strict:!0}),r]})})}):n.jsx(ke,{})}),e[11]=m,e[12]=v,e[13]=s,e[14]=r,e[15]=t,e[16]=o,e[17]=u,e[18]=c):c=e[18],c}function Ge(d){"use forget";const e=M.c(2),{children:t}=d;let o;return e[0]!==t?(o=n.jsx("div",{className:"group relative flex flex-col gap-1 p-3",children:n.jsx("div",{className:"flex items-center gap-4",children:t})}),e[0]=t,e[1]=o):o=e[1],o}const Oe=d=>{"use forget";var D,T;const e=M.c(36),{conversation:t,project:o,showAvatar:m}=d,i=(D=ie(t.id,He))!=null?D:t.title,[h,s]=_.useState(!1);let p,v;e[0]!==t.id?(p=()=>he(we,{editTitleInMainScreen:I=>{const{serverThreadId:E}=I;E===t.id&&s(!0)}}),v=[t.id],e[0]=t.id,e[1]=p,e[2]=v):(p=e[1],v=e[2]),_.useEffect(p,v);const j=k(),{snippet:r}=t;let l,u,c,g,a;if(e[3]!==t||e[4]!==j||e[5]!==o.gizmo){const I=(T=re(j))==null?void 0:T.normalizedAccountUserId;l="owner"in t?t.owner:null,g=l==null?void 0:l.user_id,u=l==null?void 0:l.name,c=l==null?void 0:l.user_email,a=ae(t.id,{project:o.gizmo,ownerUserId:g,accountUserId:I}),e[3]=t,e[4]=j,e[5]=o.gizmo,e[6]=l,e[7]=u,e[8]=c,e[9]=g,e[10]=a}else l=e[6],u=e[7],c=e[8],g=e[9],a=e[10];const f=a;let x;e[11]!==l||e[12]!==u||e[13]!==c||e[14]!==g||e[15]!==m?(x=m&&n.jsx(xe,{monogram:l&&u&&g?{label:u,id:g,sublabel:c}:null}),e[11]=l,e[12]=u,e[13]=c,e[14]=g,e[15]=m,e[16]=x):x=e[16];let C;e[17]!==t||e[18]!==i||e[19]!==h?(C=h?n.jsx(ye,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{s(!1)}}):n.jsx("div",{className:"text-sm font-medium",children:i}),e[17]=t,e[18]=i,e[19]=h,e[20]=C):C=e[20];let y;e[21]!==r?(y=r&&n.jsx("div",{className:"text-token-text-secondary truncate text-sm",children:r}),e[21]=r,e[22]=y):y=e[22];let N;e[23]!==C||e[24]!==y?(N=n.jsxs("div",{className:"grow overflow-hidden group-hover:me-5",children:[C,y]}),e[23]=C,e[24]=y,e[25]=N):N=e[25];let S;e[26]!==t||e[27]!==h?(S=!h&&n.jsx(Ae,{conversation:t}),e[26]=t,e[27]=h,e[28]=S):S=e[28];let b;e[29]!==x||e[30]!==N||e[31]!==S?(b=n.jsxs(Ge,{children:[x,N,S]}),e[29]=x,e[30]=N,e[31]=S,e[32]=b):b=e[32];const w=b;if(h)return w;let P;return e[33]!==w||e[34]!==f?(P=n.jsx(ne,{to:f,draggable:!1,children:w}),e[33]=w,e[34]=f,e[35]=P):P=e[35],P},Ae=d=>{"use forget";const e=M.c(22),{conversation:t,isNewProjectPage:o}=d,m=o===void 0?!1:o,[i,h]=_.useState(!1),s=Q();let p;e[0]!==t.update_time||e[1]!==s?(p=t.update_time&&Intl.DateTimeFormat(s.locale,{month:"short",day:"numeric"}).format(new Date(t.update_time)),e[0]=t.update_time,e[1]=s,e[2]=p):p=e[2];const v=p;let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j=G("text-token-text-tertiary relative flex min-h-10 min-w-10 items-center justify-between text-sm"),e[3]=j):j=e[3];let r;e[4]!==v||e[5]!==i||e[6]!==m?(r=!!v&&n.jsx("span",{className:G("whitespace-nowrap",!m&&"transition-opacity duration-100 ease-out",i?"opacity-0":"opacity-100 group-hover/project-item:opacity-0"),children:v}),e[4]=v,e[5]=i,e[6]=m,e[7]=r):r=e[7];const l=!m&&"transition-all duration-100 ease-out",u=i&&"pointer-events-auto translate-y-0 scale-100 opacity-100";let c;e[8]!==l||e[9]!==u?(c=G("absolute inset-0 flex items-center gap-1.5",l,"translate-y-0 scale-95 opacity-0","group-hover/project-item:translate-y-0 group-hover/project-item:scale-100 group-hover/project-item:opacity-100",u),e[8]=l,e[9]=u,e[10]=c):c=e[10];let g;e[11]!==t.id?(g=C=>{h(C),C&&X.logEvent("Conversation History Item Open Menu",{conversationId:t.id})},e[11]=t.id,e[12]=g):g=e[12];let a;e[13]!==t||e[14]!==g?(a=n.jsx(Pe,{conversation:t,onOpenChange:g,inMainScreen:!0,isActiveConversation:!1}),e[13]=t,e[14]=g,e[15]=a):a=e[15];let f;e[16]!==c||e[17]!==a?(f=n.jsx("div",{className:c,"data-prevent-default":!0,children:a}),e[16]=c,e[17]=a,e[18]=f):f=e[18];let x;return e[19]!==f||e[20]!==r?(x=n.jsxs("div",{className:j,children:[r,f]}),e[19]=f,e[20]=r,e[21]=x):x=e[21],x};function Le(d){"use forget";const e=M.c(24),{project:t,hasConversations$:o,className:m}=d;le(t.gizmo.id);const{items:i,hasNextPage:h,fetchNextPage:s,isLoading:p,isFetching:v,isFetchingNextPage:j}=ce(t.gizmo.id);let r,l;e[0]!==o||e[1]!==i.length?(r=()=>{o&&o.set(i.length>0)},l=[i.length,o],e[0]=o,e[1]=i.length,e[2]=r,e[3]=l):(r=e[2],l=e[3]),_.useEffect(r,l);let u;e[4]!==h||e[5]!==v||e[6]!==p||e[7]!==s?(u=y=>{if(p||y==null)return;const N=new IntersectionObserver(S=>{S[0].isIntersecting&&h&&!v&&s()});return N.observe(y),()=>{N.disconnect()}},e[4]=h,e[5]=v,e[6]=p,e[7]=s,e[8]=u):u=e[8];const c=u,g=i.length;let a;e[9]!==m?(a=G("mt-8 mb-14 contain-inline-size",m),e[9]=m,e[10]=a):a=e[10];let f;e[11]!==g||e[12]!==h||e[13]!==c||e[14]!==p||e[15]!==i||e[16]!==t?(f=(g||p)&&n.jsx(Re,{project:t,items:i!=null?i:[],hasNextPage:h,infiniteScrollTriggerElementRef:c}),e[11]=g,e[12]=h,e[13]=c,e[14]=p,e[15]=i,e[16]=t,e[17]=f):f=e[17];let x;e[18]!==j?(x=j&&n.jsx("div",{className:"m-4 mb-5 flex justify-center",children:n.jsx(pe,{})}),e[18]=j,e[19]=x):x=e[19];let C;return e[20]!==a||e[21]!==f||e[22]!==x?(C=n.jsxs("div",{className:a,children:[f,x]}),e[20]=a,e[21]=f,e[22]=x,e[23]=C):C=e[23],C}function Re(d){"use forget";const e=M.c(23),{project:t,items:o,hasNextPage:m,infiniteScrollTriggerElementRef:i}=d,h=k();let s;e[0]!==h?(s=ve(h,"773249106"),e[0]=h,e[1]=s):s=e[1];const p=s;let v;e[2]!==t?(v=t?J(t):!1,e[2]=t,e[3]=v):v=e[3];const j=v;let r;if(e[4]!==o||e[5]!==t){let a;e[7]!==t?(a=f=>{var x,C;return"owner"in f&&((x=f.owner)==null?void 0:x.user_id)!==((C=t.gizmo)==null?void 0:C.author.user_id)},e[7]=t,e[8]=a):a=e[8],r=o.some(a),e[4]=o,e[5]=t,e[6]=r}else r=e[6];const u=p&&(j||r);let c;if(e[9]!==m||e[10]!==i||e[11]!==o||e[12]!==t||e[13]!==u){let a;e[15]!==m||e[16]!==i||e[17]!==o.length||e[18]!==t||e[19]!==u?(a=(f,x)=>{const C=m&&x===o.length-3?i:void 0;return n.jsx("li",{ref:C,className:"border-token-border-light border-t first:border-t-0 last:border-b-0",children:n.jsx("div",{className:"hover:bg-token-interactive-bg-tertiary-hover",children:n.jsx(Oe,{conversation:f,project:t,showAvatar:u})})},f.id)},e[15]=m,e[16]=i,e[17]=o.length,e[18]=t,e[19]=u,e[20]=a):a=e[20],c=o.map(a),e[9]=m,e[10]=i,e[11]=o,e[12]=t,e[13]=u,e[14]=c}else c=e[14];let g;return e[21]!==c?(g=n.jsx("ol",{children:c}),e[21]=c,e[22]=g):g=e[22],g}function Ue(d,e){"use forget";const t=M.c(15),o=je(),m=k(),i=oe(),h=Ce(),s=(o==null?void 0:o.kind)==="conversation"&&o.gizmoId!==e;let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],t[0]=p):p=t[0],_.useEffect(We,p);let v;t[1]!==m||t[2]!==i||t[3]!==h?(v=async function(g){const{conversation:a,newGizmoId:f,previousGizmoId:x}=g;ze(m,f,!0),await h({newGizmoId:f,conversation:a,previousGizmoId:x}),i("/g/".concat(f,"/project"))},t[1]=m,t[2]=i,t[3]=h,t[4]=v):v=t[4];const j=v;let r;t[5]!==j||t[6]!==s||t[7]!==m||t[8]!==o||t[9]!==e||t[10]!==d?(r=()=>{if(!s)return;const{conversation:c,gizmoId:g}=o;if(e)return j({conversation:c,newGizmoId:e,previousGizmoId:g});V(m,$,{onClose:()=>L(m,$),onSuccess:a=>{if(!a)return;const f=j({conversation:c,newGizmoId:a,previousGizmoId:g});return X.logEventWithStatsig("Projects: Create Open","chatgpt_web_projects_create_open",{source:d}),f.finally(()=>L(m,$))}})},t[5]=j,t[6]=s,t[7]=m,t[8]=o,t[9]=e,t[10]=d,t[11]=r):r=t[11];const l=r;let u;return t[12]!==s||t[13]!==l?(u={canDropConversation:s,onDropConversation:l},t[12]=s,t[13]=l,t[14]=u):u=t[14],u}function We(){return be()}function et(d){"use forget";var U;const e=M.c(43),{conversation:t,gizmoId:o,currentModelId:m,onRequestCompletion:i}=d,h=k(),{data:s}=de(o),p=me(h),v=ue(fe),{onDropConversation:j,canDropConversation:r}=Ue(void 0,o),[l,u]=_.useState(!1);let c;e[0]!==h||e[1]!==o?(c=ge(h,o),e[0]=h,e[1]=o,e[2]=c):c=e[2];const g=c;let a;e[3]!==r?(a=z=>{z.preventDefault(),r&&u(!0)},e[3]=r,e[4]=a):a=e[4];let f;e[5]!==r||e[6]!==j?(f=z=>{z.preventDefault(),r&&(u(!1),j())},e[5]=r,e[6]=j,e[7]=f):f=e[7];let x,C;e[8]!==r?(x=z=>{z.preventDefault(),r&&u(!0)},C=z=>{z.preventDefault(),r&&u(!1)},e[8]=r,e[9]=x,e[10]=C):(x=e[9],C=e[10]);const y=p?"last-standard":"none",N=v?"none":"standard";let S;e[11]!==s?(S=n.jsx(Fe,{gizmo:s}),e[11]=s,e[12]=S):S=e[12];let b;e[13]!==t||e[14]!==m||e[15]!==i||e[16]!==s?(b=s?n.jsx($e,{conversation:t,isNewThread:!0,isProjectThread:!0,currentModelId:m,layoutMode:"center",onContinueGenerating:z=>i(De(z)),onRequestCompletion:async z=>i(await Ie(z)),hideHeader:!0}):n.jsx("div",{className:"bg-token-tertiary h-24 w-full rounded-3xl"}),e[13]=t,e[14]=m,e[15]=i,e[16]=s,e[17]=b):b=e[17];let w,P;e[18]!==s?(w=n.jsx(Te,{gizmo:s}),P=s&&n.jsx(Le,{project:s}),e[18]=s,e[19]=w,e[20]=P):(w=e[19],P=e[20]);let D;e[21]!==l||e[22]!==(s==null?void 0:s.gizmo)?(D=l&&n.jsxs(_e,{children:[n.jsx(Ne,{className:"h-12 w-12",style:{color:"#3C46FF"}}),n.jsx("h3",{className:"text-center",children:n.jsx(B,q(O({},R.moveConversationToNamedProject),{values:{projectName:(U=s==null?void 0:s.gizmo.display.name)!=null?U:"project"}}))}),n.jsx("h4",{className:"text-center",children:n.jsx(B,O({},R.moveConversation))})]}),e[21]=l,e[22]=s==null?void 0:s.gizmo,e[23]=D):D=e[23];let T;e[24]!==w||e[25]!==P||e[26]!==D||e[27]!==S||e[28]!==b?(T=n.jsxs(Me,{className:"[width:min(90cqw,var(--thread-content-max-width))]",children:[S,b,w,P,D]}),e[24]=w,e[25]=P,e[26]=D,e[27]=S,e[28]=b,e[29]=T):T=e[29];let I;e[30]!==T||e[31]!==y||e[32]!==N?(I=n.jsx(Ee,{verticalMargin:"none",verticalPadding:y,horizontalPadding:N,children:T}),e[30]=T,e[31]=y,e[32]=N,e[33]=I):I=e[33];let E;e[34]!==I||e[35]!==a||e[36]!==f||e[37]!==x||e[38]!==C?(E=n.jsx("div",{onDragOver:a,onDrop:f,onDragEnter:x,onDragLeave:C,className:"flex max-h-full min-h-full flex-col pt-(--header-height)",children:I}),e[34]=I,e[35]=a,e[36]=f,e[37]=x,e[38]=C,e[39]=E):E=e[39];let F;return e[40]!==g||e[41]!==E?(F=n.jsx(K,{value:g,children:E}),e[40]=g,e[41]=E,e[42]=F):F=e[42],F}function He(d){return d==null?void 0:d.title}export{Oe as SnorlaxConversationItem,Ae as SnorlaxConversationItemOverflowMenu,Le as SnorlaxConversationList,Fe as SnorlaxHeader,et as SnorlaxSplashScreen,Ue as useProjectsDragDrop};
//# sourceMappingURL=jc1wlz3ym1r6tf2l.js.map

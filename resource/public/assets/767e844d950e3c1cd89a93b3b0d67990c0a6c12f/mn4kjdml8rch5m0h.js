var cs=Object.defineProperty,us=Object.defineProperties;var ds=Object.getOwnPropertyDescriptors;var wt=Object.getOwnPropertySymbols;var ms=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable;var Et=(s,e,t)=>e in s?cs(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,j=(s,e)=>{for(var t in e||(e={}))ms.call(e,t)&&Et(s,t,e[t]);if(wt)for(var t of wt(e))ps.call(e,t)&&Et(s,t,e[t]);return s},de=(s,e)=>us(s,ds(e));import{h as St,j as a,e as $e,c as Ue,M as Q,b as qt,k as Kt,r as N,L as De,R as fs,a as gs,S as hs,d as ys}from"./mw35uwhq4g8r9eam.js";import{aA as ze,am as E,u as _t,p as bs,J as vs,_ as ee,aP as ot,cF as Ge,cw as Ot,er as bt,aB as Yt,ak as We,aL as Ps,au as Ss,R as _s,eE as Cs,n2 as xs,dv as Ts,eF as Ms,h5 as ks,dz as Is,d as ws,jh as Es,az as Os,sN as js,$ as Ns,a0 as Fs,D as As}from"./d0xa318sl7ywi0za.js";import{C as Ls}from"./ft9n9n4a6jtky5jr.js";import{S as Rs}from"./ksjc0uotmfxlch1n.js";import{S as zs}from"./mdhx8v0rk5lzwfyg.js";import{g as Gs,a as Qt,f as Ws,M as Us,m as at,b as Bs,c as Hs,T as Ds,P as $s,F as Vs}from"./f6omfo4phchipc3g.js";import{fg as qs,cY as Ks,xg as Ys,xh as Qs,fm as Js,xi as Xs,cu as Zs,fz as eo,cv as Jt,bT as Xt,bU as Zt,h1 as jt,h2 as es,eD as pt,pf as to,pg as Nt,ph as so,pa as oo,bO as ao,xj as ts,fy as no,g$ as Ft,xk as io,xl as ro,xm as lo,xn as co,as as he,E as me,xo as uo,gH as mo,bK as po,dG as fo,bL as go,gk as ho,xp as yo,xq as bo,pm as vo,xr as Po,xs as So,xt as At,xu as Lt,xv as _o}from"./g2euln7v5pbm31qa.js";import{a as Ct,f as pe,h as ss,u as Co,e as ft,g as Rt}from"./nte82mqftpddm52f.js";import{u as zt}from"./jcku1nkz6suna4le.js";import{E as xo}from"./mbe20fj6m6dgadji.js";import{u as To,a as Mo}from"./ku5gt2a8mwp30g8p.js";function ko({value:s,onChange:e}){const t=St();return a.jsx(zs,{value:s,onChange:e,ariaLabel:t.formatMessage(He.toggleArialabel),leftItem:{ariaLabel:t.formatMessage(He.togglePersonalArialabel),label:t.formatMessage(He.togglePersonalLabel),value:"personal"},rightItem:{ariaLabel:t.formatMessage(He.toggleBusinessArialabel),label:t.formatMessage(He.toggleBusinessLabel),value:"business"}})}const He=$e({toggleArialabel:{id:"U4v2Gf",defaultMessage:"Toggle for switching between Personal and Business plans"},togglePersonalArialabel:{id:"6Wikht",defaultMessage:"Toggle for switching to Personal plans"},toggleBusinessArialabel:{id:"uzlEV0",defaultMessage:"Toggle for switching to Business plans"},togglePersonalLabel:{id:"cGDsaD",defaultMessage:"Personal"},toggleBusinessLabel:{id:"sgisa2",defaultMessage:"Business"}}),Y=$e({planName:{id:"FreeWorkspaceColumn.planName",defaultMessage:"Business Free"},planSummary:{id:"FreeWorkspaceColumn.planSummary",defaultMessage:"A secure way to try ChatGPT at work"},planCost:{id:"FreeWorkspaceColumn.planCost",defaultMessage:"0"},currentPlanCta:{id:"FreeWorkspaceColumn.currentPlanCta",defaultMessage:"Your current plan"},badgeLabel:{id:"FreeWorkspaceColumn.badgeLabel",defaultMessage:"EARLY ACCESS"},limitedModelAccess:{id:"FreeWorkspaceColumn.limitedModelAccess",defaultMessage:"Limited access to our best model for work"},privacyBuiltIn:{id:"FreeWorkspaceColumn.privacyBuiltIn",defaultMessage:"Privacy built in; data never used for training"},limitedVideoAndImages:{id:"FreeWorkspaceColumn.limitedVideoAndImages",defaultMessage:"Limited video and image creation"},teamTools:{id:"FreeWorkspaceColumn.teamTools",defaultMessage:"Tools for teams like projects & custom GPTs"},unlimitedCollaboratorInvites:{id:"FreeWorkspaceColumn.unlimitedCollaboratorInvites",defaultMessage:"Unlimited collaborator invites"},businessIntegrations:{id:"FreeWorkspaceColumn.businessIntegrations",defaultMessage:"Integration with select business apps"}});function Io(s){"use forget";const e=Ue.c(7),{billingDetails:t,shouldUseComparisonSpacing:n,className:l,type:c}=s,m=c===void 0?pe.standard:c;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={name:Y.planName,summary:Y.planSummary,cost:{costValue:0,costTitle:Y.planCost},callToAction:{active:Y.currentPlanCta,create:Y.currentPlanCta,inactive:Y.currentPlanCta},advertisedFeatures:[{label:Y.limitedModelAccess,icon:qs},{label:Y.privacyBuiltIn,icon:Ks},{label:Y.limitedVideoAndImages,icon:Ys},{label:Y.teamTools,icon:Qs},{label:Y.unlimitedCollaboratorInvites,icon:Js},{label:Y.businessIntegrations,icon:Xs}]},e[0]=u):u=e[0];const d=u;let y;e[1]===Symbol.for("react.memo_cache_sentinel")?(y=a.jsx(ze,{color:"secondary",disabled:!0,fullWidth:!0,size:"large",className:"font-semibold",children:a.jsx(Q,j({},Y.currentPlanCta))}),e[1]=y):y=e[1];let v;return e[2]!==t||e[3]!==l||e[4]!==n||e[5]!==m?(v=a.jsx(Ct,{className:l,planType:E.FREE_WORKSPACE,pricingPlan:d,shouldUseComparisonSpacing:n,badgeLabel:Y.badgeLabel,callToActionButton:y,billingDetails:t,type:m,isCheckoutPricingConfigLoading:!1,checkoutPricingConfigError:null}),e[2]=t,e[3]=l,e[4]=n,e[5]=m,e[6]=v):v=e[6],v}const Le=E.PRO,wo=()=>{"use forget";const s=Ue.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e={queryKey:["has-app-store-subscription-in-billing-retry"],queryFn:Oo},s[0]=e):e=s[0],qt(e)},Eo=({analyticsParams:s,currentAccount:e,planLoading:t,className:n,onSubmit:l,setPlanLoading:c,billingDetails:m,autoUpgrade:u=!1,shouldUseComparisonSpacing:d=!1,fromiOSWebview:y=!1,setShouldShowCheckoutLoadingOverlay:v})=>{var be,Ve;const{data:P,isError:S}=wo(),C=_t(),{data:b,refetch:o}=qt(Cs),i=St(),r=bs(),[h]=Kt(),{trackSelectedPixels:g}=zt({key:E.PRO}),{trackSelectedPixels:_}=zt({key:"pro-secondary"}),p=h.get("checkout_from"),[f,I]=N.useState(!1),[M,F]=N.useState(!1),[O,U]=N.useState(!1),z=N.useRef(!1),B=e.getLastActiveSubscription(),ie=e.isOrWasPaidCustomer(),te=e.hasPaidSubscription(),V=te&&e.isPro(),Pe=!!(b!=null&&b.email),{prepareCheckoutSession:q,navigateToCheckout:J}=Zs(),{recentlyDowngraded:G}=To(),{daysUntilPlanChanges:se,isDowngradeScheduled:X}=Gs(e,G);let L=eo({ctx:C});const{data:W,isLoading:A,error:oe}=Jt({countryCode:m.country,currency:m.currency,ctx:C});if(!A&&!oe&&W){const le=Xt(W,jt,Zt.Month);L=de(j({},L),{cost:{costValue:le.amount,costTitle:es(le.amount,jt,m.currency)}})}const R=[],{activeDiscountMetadata:x,scheduledAdditionalLink:fe}=Qt({currentAccount:e,intl:i,billingDetails:m,pricingPlan:L,promoMetadata:null,columnPlanType:E.PRO});fe&&R.unshift(fe);const k=de(j({},s),{planType:Le}),Z=te&&[pt.CHATGPT_IOS,pt.SORA_IOS].includes(B.purchase_origin_platform),H=te&&B.purchase_origin_platform===pt.MOBILE_ANDROID,D=async le=>{var ge,_e;if(!Pe&&!le){U(!0);return}c==null||c(E.PRO),ee.logEvent("Account Pay: Payment Checkout Clicked",k),ot(C,"chatgpt_account_payment_modal_upgrade_button_click",Le);try{const xe=We(C,"3542930659").get("show_loading",!1);v(xe);const ve=await q({plan_name:"chatgptpro",billing_details:m},{fromiOSWebview:y});l==null||l(),g(),_(),ee.logEvent("Account Pay: Navigating to Payment Checkout",de(j({},k),{url:(ge=ve.url)!=null?ge:""})),ot(C,"chatgpt_account_payment_modal_navigating_to_checkout",Le,{url:(_e=ve.url)!=null?_e:""}),p==="vza493q"&&Ps.setItem(Ss.CheckoutFrom,p),await J(ve)}catch(xe){r.warning(i.formatMessage(at.paymentErrorWarning),{hasCloseButton:!0}),v(!1)}c==null||c(null)};N.useEffect(()=>{!u||z.current||(z.current=!0,ye())},[u]);const $=()=>{ee.logEvent("Account Portal: Click iOS Manage Subscription",k)},re=()=>{ee.logEvent("Account Portal: Click Android Manage Subscription",k)};V&&Z&&R.push(a.jsx(De,{to,target:"_blank",onClick:$,className:"px-1 font-medium underline",children:i.formatMessage(Nt.manageSubscriptionIos.callToAction)},"row-plus-plan-manage-ios")),V&&H&&R.push(a.jsx(De,{to:so,target:"_blank",onClick:re,className:"px-1 font-medium underline",children:i.formatMessage(Nt.manageSubscriptionAndroid.callToAction)},"row-plus-plan-manage-android")),ie&&R.push(a.jsx(De,{target:"_blank",to:oo,onClick:ss,className:"px-1 font-medium underline",children:a.jsx(Q,j({},Gt.billingHelp))},"row-plus-plan-help-link"));const K=function(){I(!f)},Ce=function(){F(!M)},T=vs(C,"1382475798"),ye=async()=>{const le=e.hasPaidSubscription(),ge=T&&e.isActiveSubscriptionGratis();le&&!ge?(ee.logEvent("Account Pay: Payment Checkout Clicked",k),ot(C,"chatgpt_account_payment_modal_upgrade_button_click",Le),F(!0)):await D()},Se=S||!P||!P.value?ye:()=>{K()};return Co(O,{plan:k}),a.jsxs(a.Fragment,{children:[a.jsx(Ct,{activeDiscountMetadata:x,planType:Le,pricingPlan:L,isCheckoutPricingConfigLoading:A,checkoutPricingConfigError:oe,callToActionButton:a.jsxs("div",{children:[Z||H?a.jsx(Ot,{side:"top",sideOffset:20,label:i.formatMessage(Gt.switchToMobile),onOpenChange:le=>{le&&(ee.logEvent("Account Pay: Show Mobile Subscription Tooltip",k),ot(C,"chatgpt_account_payment_modal_show_mobile_subscription_tooltip",Le))},children:a.jsx(ze,{fullWidth:!0,size:"large",color:"primary",disabled:!0,"data-testid":"select-plan-button-pro-upgrade",children:i.formatMessage(ft({planType:E.PRO}))})}):X&&se?a.jsx(Ot,{side:"top",sideOffset:20,label:a.jsx(Q,{id:"MUQGzU",defaultMessage:"Your subscription will remain active until {date}, when it will change to {nextPlanType}.",values:{date:Ws(se,i.locale),nextPlanType:ao((Ve=(be=e.getNextPlanType())==null?void 0:be.toLowerCase())!=null?Ve:"")}}),children:a.jsx(ze,{fullWidth:!0,size:"large",color:"primary",disabled:V||t!=null,"data-testid":"select-plan-button-pro-upgrade",className:V||t!=null?"bg-token-sidebar-surface-tertiary text-token-text-primary hover:bg-token-sidebar-surface-tertiary dark:bg-token-text-tertiary dark:text-token-text-primary dark:hover:bg-token-text-tertiary border-none font-semibold":"",children:t===E.PRO&&!M?a.jsx(bt,{}):V?i.formatMessage(L.callToAction.active):i.formatMessage(ft({planType:E.PRO}))})}):a.jsx(ze,{fullWidth:!0,size:"large",color:"primary",disabled:V||t!=null,onClick:Se,"data-testid":"select-plan-button-pro-upgrade",className:V||t!=null?"bg-token-sidebar-surface-tertiary text-token-text-primary hover:bg-token-sidebar-surface-tertiary dark:bg-token-text-tertiary dark:text-token-text-primary dark:hover:bg-token-text-tertiary border-none font-semibold":"",children:t===E.PRO&&!M?a.jsx(bt,{}):V?i.formatMessage(L.callToAction.active):i.formatMessage(ft({planType:E.PRO}))}),a.jsx(Us,{isOpen:f,onClose:K,onContinue:D,analyticsParams:k}),M&&a.jsx(Mo,{isOpen:M,onClose:Ce,accountId:e.id,initialPlanType:e.planType,updatedPlanType:E.PRO,billingDetails:m})]}),additionalLinks:R,className:Ge("bg-token-main-surface-primary",n),billingDetails:m,shouldUseComparisonSpacing:d}),a.jsx(Yt,{testId:"modal-add-email",isOpen:O,onClose:()=>U(!1),type:"success",className:"max-w-sm",children:a.jsx(xo,{enterEmailTitle:i.formatMessage(at.addEmailTitle),enterEmailDescription:i.formatMessage(at.addEmailDescription),onVerified:()=>{o(),U(!1),D(!0)},cancelFlowButton:a.jsx(ze,{className:"w-full rounded-md",color:"secondary",onClick:()=>U(!1),children:a.jsx(Q,j({},at.cancelAddEmail))})})})]})},Gt=$e({switchToPersonalAccount:{id:"y5FjSF",defaultMessage:"Switch to a personal account to upgrade"},billingHelp:{id:"AccountPaymentModel.billingHelp",defaultMessage:"I need help with a billing issue"},switchToMobile:{id:"gbjsg6",defaultMessage:"It looks like you already have an active mobile subscription. Switch to your mobile app to upgrade"}});async function Oo(){return await _s.safeGet("/subscriptions/has_app_store_subscription_in_billing_retry")}const Wt=E.GO,jo=s=>{"use forget";const e=Ue.c(57);let{analyticsParams:t,billingDetails:n,setPlanLoading:l,currentAccount:c,planLoading:m,promoMetadata:u,type:d,autoUpgrade:y,fromiOSWebview:v,promoCode:P,onClose:S,shouldUseComparisonSpacing:C,className:b,setShouldShowCheckoutLoadingOverlay:o}=s;const i=C===void 0?!1:C,r=_t(),h=St();let g;const{eligible:_,campaignId:p}=ts();let f=no({ctx:r});const I=f.summary?h.formatMessage(f.summary):"";!u&&_&&(!P&&p&&(g=p),u={plan_name:xs.GO,title:"",summary:I,discount:{percentage:100},duration:{num_periods:12,period:"month"},price_period:"recurring",promotion_type:"discount",promotion_type_label:h.formatMessage(Ts.specialOffer)});let M,F;e[0]!==c?(F=c.hasPaidSubscription(),e[0]=c,e[1]=F):F=e[1];const O=F;let U;e[2]!==c||e[3]!==O?(U=O&&c.isGo(),e[2]=c,e[3]=O,e[4]=U):U=e[4];const z=U,B=!z&&!m,ie=d==="promo"&&(u==null?void 0:u.plan_type_change)==="equal";let te;e[5]!==c?(te=c.getNextPlanType(),e[5]=c,e[6]=te):te=e[6];const V=te===E.GO,q=!(B||ie)||V,J=O&&Rt(E.GO)<Rt(c.planType);let G;e[7]!==n.country||e[8]!==n.currency||e[9]!==r?(G={countryCode:n.country,currency:n.currency,ctx:r},e[7]=n.country,e[8]=n.currency,e[9]=r,e[10]=G):G=e[10];const{data:se,isLoading:X,error:L}=Jt(G);if(!X&&!L&&se){const K=Xt(se,Ft,Zt.Month);f=de(j({},f),{cost:{costValue:K.amount,costTitle:es(K.amount,Ft,n.currency)}}),M=u&&Bs({intl:h,planName:E.GO,pricingPlan:f,promoMetadata:u,currency:n.currency,currentAccount:c,checkoutPricingConfig:se})}let W="primary";(d==="promo"||d==="highlight")&&(W="purple"),O&&d!=="promo"&&(W="secondary");const{activeDiscountMetadata:A,scheduledAdditionalLink:oe}=Qt({currentAccount:c,intl:h,billingDetails:n,pricingPlan:f,promoMetadata:u,columnPlanType:E.GO});let R;if(e[11]!==u||e[12]!==oe){if(R=[],oe&&R.push(oe),!u){let K;e[14]===Symbol.for("react.memo_cache_sentinel")?(K=a.jsx(Q,de(j({},gt.limitsApplyLink),{values:{link:No}}),"limits-apply-link"),e[14]=K):K=e[14],R.push(K)}e[11]=u,e[12]=oe,e[13]=R}else R=e[13];const x=M!=null?M:f;let fe;e[15]!==t||e[16]!==g||e[17]!==P?(fe=de(j({},t),{planType:E.GO,promoCode:P,promoCampaign:g}),e[15]=t,e[16]=g,e[17]=P,e[18]=fe):fe=e[18];const k=fe;let Z;e[19]!==S||e[20]!==d?(Z=d==="promo"?a.jsx(ze,{size:"large",color:"secondary",onClick:S,children:a.jsx(Q,j({},gt.notNow))}):null,e[19]=S,e[20]=d,e[21]=Z):Z=e[21];const H=J&&d!=="promo"?"secondary":W;let D;e[22]!==z||e[23]!==J||e[24]!==f||e[25]!==d?(D=d==="promo"&&z?a.jsx(Q,j({},f.callToAction.promo)):z?a.jsx(Q,j({},f.callToAction.active)):J?a.jsx(Q,j({},gt.switchToGo)):a.jsx(Q,j({},f.callToAction.inactive)),e[22]=z,e[23]=J,e[24]=f,e[25]=d,e[26]=D):D=e[26];let $;e[27]!==y||e[28]!==n||e[29]!==c||e[30]!==q||e[31]!==x||e[32]!==v||e[33]!==k||e[34]!==S||e[35]!==m||e[36]!==g||e[37]!==P||e[38]!==u||e[39]!==l||e[40]!==o||e[41]!==H||e[42]!==D?($=a.jsx(Hs,{currentAccount:c,analyticsParams:k,billingDetails:n,planLoading:m,promoCode:P,promoCampaign:g,setPlanLoading:l,planType:Wt,onPromoClose:S,disabled:q,testId:"select-plan-button-go-upgrade",pricingPlan:x,activeColor:H,promoMetadata:u,setShouldShowCheckoutLoadingOverlay:o,autoUpgrade:y,fromiOSWebview:v,children:D}),e[27]=y,e[28]=n,e[29]=c,e[30]=q,e[31]=x,e[32]=v,e[33]=k,e[34]=S,e[35]=m,e[36]=g,e[37]=P,e[38]=u,e[39]=l,e[40]=o,e[41]=H,e[42]=D,e[43]=$):$=e[43];let re;return e[44]!==A||e[45]!==R||e[46]!==n||e[47]!==L||e[48]!==b||e[49]!==x||e[50]!==X||e[51]!==u||e[52]!==i||e[53]!==$||e[54]!==Z||e[55]!==d?(re=a.jsx(Ct,{className:b,type:d,planType:Wt,activeDiscountMetadata:A,pricingPlan:x,promoMetadata:u,secondaryCallToActionButton:Z,callToActionButton:$,additionalLinks:R,billingDetails:n,shouldUseComparisonSpacing:i,isCheckoutPricingConfigLoading:X,checkoutPricingConfigError:L}),e[44]=A,e[45]=R,e[46]=n,e[47]=L,e[48]=b,e[49]=x,e[50]=X,e[51]=u,e[52]=i,e[53]=$,e[54]=Z,e[55]=d,e[56]=re):re=e[56],re},gt=$e({limitsApplyLink:{id:"GoColumn.limitsApplyLink",defaultMessage:"Only available in certain regions. <link>Limits apply</link>"},switchToGo:{id:"GoColumn.switchToGo",defaultMessage:"Switch to Go"},notNow:{id:"GoColumn.notNow",defaultMessage:"Not Now"}});function No(s){return a.jsx(De,{target:"_blank",rel:"noopener noreferrer",to:io,onClick:ss,className:"font-medium underline",children:s},"row-go-plan-help-link")}function Fo({analyticsParams:s,currentAccount:e,planLoading:t,selectedTab:n,setPlanLoading:l,setShouldShowCheckoutLoadingOverlay:c,billingDetails:m,onClose:u,ctx:d,businessComparisonEnabled:y=!1,eligibleComparisonPlans:v,autoUpgradePlanType:P,fromiOSWebview:S,hideProPlan:C,moveHighlightedColumnToTop:b}){const o=e.hasPaidSubscription(),i=ro(d),r=Ro(n,y,v,e);let g=Ao({selectedTab:n,hasPaidSubscription:o,isGoEnabled:i,hideProPlan:C,isTeamAccount:e.isSelfServeBusiness(),isComparisonExperiment:!!y,comparisonPlanName:r,moveHighlightedColumnToTop:b});return C&&(g=g.filter(_=>_!=="pro")),g.map(_=>{switch(_){case"free_workspace":return a.jsx(Io,{billingDetails:m,shouldUseComparisonSpacing:r==="free_workspace",type:pe.standard},_);case"free":return a.jsx(Vs,{billingDetails:m,shouldUseComparisonSpacing:r==="free"},_);case"go":{const p=n==="business"&&r==="go"?pe.standard:i&&e.isFree()?pe.highlight:pe.standard;return a.jsx(jo,{setShouldShowCheckoutLoadingOverlay:c,analyticsParams:s,setPlanLoading:l,billingDetails:m,currentAccount:e,planLoading:t,type:p,autoUpgrade:P===E.GO,fromiOSWebview:S,shouldUseComparisonSpacing:r==="go"},_)}case"plus":{const p=n==="business"&&r==="plus"?pe.standard:e.isFree()&&!i?pe.highlight:pe.standard;return a.jsx($s,{analyticsParams:s,currentAccount:e,setPlanLoading:l,setShouldShowCheckoutLoadingOverlay:c,planLoading:t,billingDetails:m,onClose:u,type:p,shouldUseComparisonSpacing:r==="plus",autoUpgrade:P===E.PLUS,fromiOSWebview:S},_)}case"team":{const p=y===!0?pe.highlight:pe.standard;return a.jsx(Ds,{analyticsParams:s,billingDetails:m,currentAccount:e,planLoading:t,type:p,shouldUseComparisonSpacing:r!==void 0,setShouldShowCheckoutLoadingOverlay:c},_)}case"pro":return a.jsx(Eo,{setShouldShowCheckoutLoadingOverlay:c,analyticsParams:s,currentAccount:e,setPlanLoading:l,planLoading:t,billingDetails:m,autoUpgrade:P===E.PRO,fromiOSWebview:S,shouldUseComparisonSpacing:r==="pro"},_)}return null})}function Ao({selectedTab:s,hasPaidSubscription:e,isGoEnabled:t,isTeamAccount:n,isComparisonExperiment:l,comparisonPlanName:c,hideProPlan:m,moveHighlightedColumnToTop:u}){const d=[];s==="personal"?(e||d.push("free"),t&&d.push("go"),d.push("plus"),d.push("pro")):(l&&!n&&c&&d.push(c),d.push("team"));const y=m?d.filter(C=>C!=="pro"):d;if(!u)return y;const v=Lo({selectedTab:s,hasPaidSubscription:e,isGoEnabled:t,isComparisonExperiment:l});if(!v)return y;const P=y.indexOf(v);if(P===-1||P===0)return y;const S=[...y];return S.splice(P,1),S.unshift(v),S}function Lo({selectedTab:s,hasPaidSubscription:e,isGoEnabled:t,isComparisonExperiment:n}){if(s==="personal"&&!e)return t?"go":"plus";if(s==="business"&&n)return"team"}function Ro(s,e,t,n){if(s==="business"&&!(!e||!t)){if(n.isFree())return t.has("free")?"free":void 0;if(n.isGo())return t.has("go")?"go":void 0;if(n.isPlus())return t.has("plus")?"plus":void 0;if(n.isPro())return t.has("pro")?"pro":void 0;if(n.isFreeWorkspace())return t.has("free_workspace")?"free_workspace":void 0}}function vt(){return vt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},vt.apply(null,arguments)}function Ut(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Pt(s,e){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Pt(s,e)}function zo(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,Pt(s,e)}var Bt=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Go(s,e){return!!(s===e||Bt(s)&&Bt(e))}function Wo(s,e){if(s.length!==e.length)return!1;for(var t=0;t<s.length;t++)if(!Go(s[t],e[t]))return!1;return!0}function ht(s,e){e===void 0&&(e=Wo);var t,n=[],l,c=!1;function m(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return c&&t===this&&e(u,n)||(l=s.apply(this,u),c=!0,t=this,n=u),l}return m}var Uo=typeof performance=="object"&&typeof performance.now=="function",Ht=Uo?function(){return performance.now()}:function(){return Date.now()};function Dt(s){cancelAnimationFrame(s.id)}function Bo(s,e){var t=Ht();function n(){Ht()-t>=e?s.call(null):l.id=requestAnimationFrame(n)}var l={id:requestAnimationFrame(n)};return l}var yt=-1;function $t(s){if(s===void 0&&(s=!1),yt===-1||s){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",document.body.appendChild(e),yt=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return yt}var Re=null;function Vt(s){if(s===void 0&&(s=!1),Re===null||s){var e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";var n=document.createElement("div"),l=n.style;return l.width="100px",l.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?Re="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?Re="negative":Re="positive-ascending"),document.body.removeChild(e),Re}return Re}var Ho=150,Do=function(e,t){return e};function $o(s){var e,t=s.getItemOffset,n=s.getEstimatedTotalSize,l=s.getItemSize,c=s.getOffsetForIndexAndAlignment,m=s.getStartIndexForOffset,u=s.getStopIndexForStartIndex,d=s.initInstanceProps,y=s.shouldResetStyleCacheOnItemSizeChange,v=s.validateProps;return e=(function(P){zo(S,P);function S(b){var o;return o=P.call(this,b)||this,o._instanceProps=d(o.props,Ut(o)),o._outerRef=void 0,o._resetIsScrollingTimeoutId=null,o.state={instance:Ut(o),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof o.props.initialScrollOffset=="number"?o.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},o._callOnItemsRendered=void 0,o._callOnItemsRendered=ht(function(i,r,h,g){return o.props.onItemsRendered({overscanStartIndex:i,overscanStopIndex:r,visibleStartIndex:h,visibleStopIndex:g})}),o._callOnScroll=void 0,o._callOnScroll=ht(function(i,r,h){return o.props.onScroll({scrollDirection:i,scrollOffset:r,scrollUpdateWasRequested:h})}),o._getItemStyle=void 0,o._getItemStyle=function(i){var r=o.props,h=r.direction,g=r.itemSize,_=r.layout,p=o._getItemStyleCache(y&&g,y&&_,y&&h),f;if(p.hasOwnProperty(i))f=p[i];else{var I=t(o.props,i,o._instanceProps),M=l(o.props,i,o._instanceProps),F=h==="horizontal"||_==="horizontal",O=h==="rtl",U=F?I:0;p[i]=f={position:"absolute",left:O?void 0:U,right:O?U:void 0,top:F?0:I,height:F?"100%":M,width:F?M:"100%"}}return f},o._getItemStyleCache=void 0,o._getItemStyleCache=ht(function(i,r,h){return{}}),o._onScrollHorizontal=function(i){var r=i.currentTarget,h=r.clientWidth,g=r.scrollLeft,_=r.scrollWidth;o.setState(function(p){if(p.scrollOffset===g)return null;var f=o.props.direction,I=g;if(f==="rtl")switch(Vt()){case"negative":I=-g;break;case"positive-descending":I=_-h-g;break}return I=Math.max(0,Math.min(I,_-h)),{isScrolling:!0,scrollDirection:p.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},o._resetIsScrollingDebounced)},o._onScrollVertical=function(i){var r=i.currentTarget,h=r.clientHeight,g=r.scrollHeight,_=r.scrollTop;o.setState(function(p){if(p.scrollOffset===_)return null;var f=Math.max(0,Math.min(_,g-h));return{isScrolling:!0,scrollDirection:p.scrollOffset<f?"forward":"backward",scrollOffset:f,scrollUpdateWasRequested:!1}},o._resetIsScrollingDebounced)},o._outerRefSetter=function(i){var r=o.props.outerRef;o._outerRef=i,typeof r=="function"?r(i):r!=null&&typeof r=="object"&&r.hasOwnProperty("current")&&(r.current=i)},o._resetIsScrollingDebounced=function(){o._resetIsScrollingTimeoutId!==null&&Dt(o._resetIsScrollingTimeoutId),o._resetIsScrollingTimeoutId=Bo(o._resetIsScrolling,Ho)},o._resetIsScrolling=function(){o._resetIsScrollingTimeoutId=null,o.setState({isScrolling:!1},function(){o._getItemStyleCache(-1,null)})},o}S.getDerivedStateFromProps=function(o,i){return Vo(o,i),v(o),null};var C=S.prototype;return C.scrollTo=function(o){o=Math.max(0,o),this.setState(function(i){return i.scrollOffset===o?null:{scrollDirection:i.scrollOffset<o?"forward":"backward",scrollOffset:o,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},C.scrollToItem=function(o,i){i===void 0&&(i="auto");var r=this.props,h=r.itemCount,g=r.layout,_=this.state.scrollOffset;o=Math.max(0,Math.min(o,h-1));var p=0;if(this._outerRef){var f=this._outerRef;g==="vertical"?p=f.scrollWidth>f.clientWidth?$t():0:p=f.scrollHeight>f.clientHeight?$t():0}this.scrollTo(c(this.props,o,i,_,this._instanceProps,p))},C.componentDidMount=function(){var o=this.props,i=o.direction,r=o.initialScrollOffset,h=o.layout;if(typeof r=="number"&&this._outerRef!=null){var g=this._outerRef;i==="horizontal"||h==="horizontal"?g.scrollLeft=r:g.scrollTop=r}this._callPropsCallbacks()},C.componentDidUpdate=function(){var o=this.props,i=o.direction,r=o.layout,h=this.state,g=h.scrollOffset,_=h.scrollUpdateWasRequested;if(_&&this._outerRef!=null){var p=this._outerRef;if(i==="horizontal"||r==="horizontal")if(i==="rtl")switch(Vt()){case"negative":p.scrollLeft=-g;break;case"positive-ascending":p.scrollLeft=g;break;default:var f=p.clientWidth,I=p.scrollWidth;p.scrollLeft=I-f-g;break}else p.scrollLeft=g;else p.scrollTop=g}this._callPropsCallbacks()},C.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Dt(this._resetIsScrollingTimeoutId)},C.render=function(){var o=this.props,i=o.children,r=o.className,h=o.direction,g=o.height,_=o.innerRef,p=o.innerElementType,f=o.innerTagName,I=o.itemCount,M=o.itemData,F=o.itemKey,O=F===void 0?Do:F,U=o.layout,z=o.outerElementType,B=o.outerTagName,ie=o.style,te=o.useIsScrolling,V=o.width,Pe=this.state.isScrolling,q=h==="horizontal"||U==="horizontal",J=q?this._onScrollHorizontal:this._onScrollVertical,G=this._getRangeToRender(),se=G[0],X=G[1],L=[];if(I>0)for(var W=se;W<=X;W++)L.push(N.createElement(i,{data:M,key:O(W,M),index:W,isScrolling:te?Pe:void 0,style:this._getItemStyle(W)}));var A=n(this.props,this._instanceProps);return N.createElement(z||B||"div",{className:r,onScroll:J,ref:this._outerRefSetter,style:vt({position:"relative",height:g,width:V,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:h},ie)},N.createElement(p||f||"div",{children:L,ref:_,style:{height:q?"100%":A,pointerEvents:Pe?"none":void 0,width:q?A:"100%"}}))},C._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var o=this.props.itemCount;if(o>0){var i=this._getRangeToRender(),r=i[0],h=i[1],g=i[2],_=i[3];this._callOnItemsRendered(r,h,g,_)}}if(typeof this.props.onScroll=="function"){var p=this.state,f=p.scrollDirection,I=p.scrollOffset,M=p.scrollUpdateWasRequested;this._callOnScroll(f,I,M)}},C._getRangeToRender=function(){var o=this.props,i=o.itemCount,r=o.overscanCount,h=this.state,g=h.isScrolling,_=h.scrollDirection,p=h.scrollOffset;if(i===0)return[0,0,0,0];var f=m(this.props,p,this._instanceProps),I=u(this.props,f,p,this._instanceProps),M=!g||_==="backward"?Math.max(1,r):1,F=!g||_==="forward"?Math.max(1,r):1;return[Math.max(0,f-M),Math.max(0,Math.min(i-1,I+F)),f,I]},S})(N.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Vo=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},qo=$o({getItemOffset:function(e,t){var n=e.itemSize;return t*n},getItemSize:function(e,t){var n=e.itemSize;return n},getEstimatedTotalSize:function(e){var t=e.itemCount,n=e.itemSize;return n*t},getOffsetForIndexAndAlignment:function(e,t,n,l,c,m){var u=e.direction,d=e.height,y=e.itemCount,v=e.itemSize,P=e.layout,S=e.width,C=u==="horizontal"||P==="horizontal",b=C?S:d,o=Math.max(0,y*v-b),i=Math.min(o,t*v),r=Math.max(0,t*v-b+v+m);switch(n==="smart"&&(l>=r-b&&l<=i+b?n="auto":n="center"),n){case"start":return i;case"end":return r;case"center":{var h=Math.round(r+(i-r)/2);return h<Math.ceil(b/2)?0:h>o+Math.floor(b/2)?o:h}case"auto":default:return l>=r&&l<=i?l:l<r?r:i}},getStartIndexForOffset:function(e,t){var n=e.itemCount,l=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/l)))},getStopIndexForStartIndex:function(e,t,n){var l=e.direction,c=e.height,m=e.itemCount,u=e.itemSize,d=e.layout,y=e.width,v=l==="horizontal"||d==="horizontal",P=t*u,S=v?y:c,C=Math.ceil((S+n-P)/u);return Math.max(0,Math.min(m-1,t+C-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function Ko({onChange:s,value:e}){const t=lo(),n=co(),l=N.useMemo(()=>n.filter(m=>m!==e),[e,n]),c=480;return a.jsx("div",{children:a.jsxs(he.Root,{value:e,onValueChange:s,children:[a.jsxs(he.Trigger,{children:[a.jsx(he.Value,{}),a.jsx(he.Icon,{})]}),a.jsx(he.Portal,{children:a.jsxs(he.Content,{position:"popper",style:{maxHeight:c,width:200},children:[a.jsx(he.Item,{value:e,children:t(e)}),a.jsx(he.Separator,{}),a.jsx(qo,{className:"no-scrollbar",height:c-80,itemCount:l.length,itemSize:50,layout:"vertical",width:"100%",overscanCount:20,itemKey:m=>l[m],children:({index:m,style:u})=>{const d=l[m];return a.jsx(he.Item,{value:d,style:u,children:t(d)})}})]})})]})})}const Yo=fs.memo(Ko),Qo=({className:s})=>{const e="relative flex flex-1 flex-col justify-center gap-3 rounded-2xl px-6 pt-6 pb-8 text-sm",t=Ge("border border-token-border-default","md:min-h-[30rem] md:max-w-96 md:pb-6");return a.jsxs("div",{className:Ge(e,t,"bg-token-main-surface-primary","w-full",s),role:"status","aria-busy":"true",children:[a.jsxs("div",{className:"mt-2 mb-5 flex items-center justify-between gap-4",children:[a.jsx(me,{className:"h-8 w-15"}),a.jsx(me,{className:"h-5 w-20 rounded-full"})]}),a.jsxs("div",{className:"mb-2 flex items-end gap-4",children:[a.jsx(me,{className:"h-15 w-20"}),a.jsxs("div",{className:"flex w-44 flex-col gap-2",children:[a.jsx(me,{className:"h-5 w-10"}),a.jsx(me,{className:"h-5 w-20"})]})]}),a.jsx(me,{className:"mb-3 h-5 w-2/3"}),a.jsx(me,{className:"mb-5 h-10 w-full rounded-full"}),a.jsx("div",{className:"flex flex-col gap-5",children:Array.from({length:7}).map((l,c)=>a.jsxs("div",{className:"grid grid-cols-[20px_1fr] items-center gap-3",children:[a.jsx(me,{className:"h-5 w-5 rounded"}),a.jsx(me,{className:Ge("h-5",["w-[88%]","w-[92%]","w-[86%]","w-[90%]","w-[84%]","w-[96%]","w-[85%]"][c])})]},c))}),a.jsx("div",{className:"mt-8 flex flex-col gap-1",children:a.jsx(me,{className:"h-3 w-5/6"})})]})};function Jo(s){"use forget";const e=Ue.c(15),{modalTitle:t,subtitle:n,isFromIosWebview:l,handleClose:c}=s,m=Ms();let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=a.jsx("div",{}),e[0]=u):u=e[0];let d;e[1]!==t?(d=a.jsx("h2",{className:"text-page-header",children:a.jsx(Q,j({},t))}),e[1]=t,e[2]=d):d=e[2];let y;e[3]!==n?(y=n?a.jsx("div",{className:"text-token-text-secondary mt-3 mb-1",children:a.jsx(Q,j({},n))}):null,e[3]=n,e[4]=y):y=e[4];let v;e[5]!==d||e[6]!==y?(v=a.jsxs("div",{className:"my-1 flex flex-col items-center justify-center md:mt-0 md:mb-0",children:[d,y]}),e[5]=d,e[6]=y,e[7]=v):v=e[7];let P;e[8]!==c||e[9]!==l||e[10]!==m?(P=!l&&a.jsx("button",{className:"text-token-text-primary justify-self-end opacity-50 transition hover:opacity-75 md:absolute md:end-6 md:top-6",onClick:()=>{c()},children:a.jsx(ks,{className:Ge({"h-5 w-5":!m,"icon-lg":m})})}),e[8]=c,e[9]=l,e[10]=m,e[11]=P):P=e[11];let S;return e[12]!==v||e[13]!==P?(S=a.jsxs("div",{className:"relative grid grid-cols-[1fr_auto_1fr] px-6 py-4 md:pt-[4.5rem] md:pb-6",children:[u,v,P]}),e[12]=v,e[13]=P,e[14]=S):S=e[14],S}function Xo(){"use forget";const s=Ue.c(4),e=uo(),t=e.eligible&&e.campaignId?e.campaignId:void 0,n=mo(),l=n.eligible&&n.campaignId?n.campaignId:void 0,c=ts(),m=c.eligible&&c.campaignId?c.campaignId:void 0;let u;return s[0]!==m||s[1]!==t||s[2]!==l?(u={plusPromoCampaignForAnalytics:t,teamPromoCampaignForAnalytics:l,goPromoCampaignForAnalytics:m},s[0]=m,s[1]=t,s[2]=l,s[3]=u):u=s[3],u}function Zo({ctx:s,currentAccount:e,selectedTab:t,user:n,shouldUseBusinessFreeWorkspaceExperience:l}){const c={comparisonEnabled:!1,eligiblePlans:new Set};if(l)return{comparisonEnabled:!0,eligiblePlans:new Set(["free_workspace"])};if(t!=="business")return c;const u=n!=null&&js(n)&&(e.isFree()||e.isPlus()),d=We(s,"2762630623"),y=u?d.get("variant","control"):"control",v=e.isFree()||e.isGo()||e.isPlus()||e.isPro(),P=We(s,"4105912492");return(v?P.get("variant","control"):"control")!=="control"?{comparisonEnabled:!0,eligiblePlans:new Set(["free","go","plus","pro"])}:y!=="control"?{comparisonEnabled:!0,eligiblePlans:new Set(["free","plus"])}:c}function ba(s){"use forget";const e=Ue.c(99),{currentAccount:t,defaultTab:n,onClose:l,subtitle:c,title:m,isDefaultTabLoading:u}=s,d=n===void 0?"personal":n,y=u===void 0?!1:u,[v,P]=N.useState(null),[S,C]=N.useState(!1),b=gs(),[o]=Kt(),i=o.get("plan");let r;e[0]!==o?(r=o.get("from_webview"),e[0]=o,e[1]=r):r=e[1];const h=r,g=!t.hasPaidSubscription()&&h==="ios"&&!!i,_=i===E.PLUS||i===E.PRO||i===E.GO?i:null;let p;e[2]!==o?(p=o.get("from_webview"),e[2]=o,e[3]=p):p=e[3];const f=p==="ios",I=Is(),M=hs(),F=N.useRef(!1),O=_t(),U=ws(oa),z=t.isFreeWorkspace(),B=z?"business":d;let ie;e[4]!==b.state||e[5]!==o?(ie=()=>{var ae;const w=(ae=b.state)==null?void 0:ae[At],ce=o.get(At);return w===Lt||ce===Lt},e[4]=b.state,e[5]=o,e[6]=ie):ie=e[6];const[te]=N.useState(ie),V=te&&We(O,"3856567563").get("plus_trial_pricing_focus",!1),Pe=U&&We(O,"1894139100").get("move_highlighted_to_top",!1);let q;e[7]===Symbol.for("react.memo_cache_sentinel")?(q=[],e[7]=q):q=e[7],N.useEffect(sa,q);let J;e[8]!==t.subscriptionAnalyticsParams?(J=de(j({},t.subscriptionAnalyticsParams),{referrer:document.referrer}),e[8]=t.subscriptionAnalyticsParams,e[9]=J):J=e[9];const G=J,se=ys();let X;e[10]!==O?(X=Es(O),e[10]=O,e[11]=X):X=e[11];const L=X;let W;e[12]!==G||e[13]!==l?(W=()=>{ee.logEvent("Account Pay: Close Account Payment Modal",G),l()},e[12]=G,e[13]=l,e[14]=W):W=e[14];const A=W;let oe,R;e[15]!==t.id||e[16]!==A||e[17]!==L?(oe=()=>{const w=localStorage.getItem("subscriptionUpdateMessage_".concat(t.id));if(w){localStorage.removeItem("subscriptionUpdateMessage_".concat(t.id)),L.success(w,{hasCloseButton:!0});const ce=setTimeout(()=>{A()},5e3);return()=>{clearTimeout(ce)}}},R=[t.id,L,A],e[15]=t.id,e[16]=A,e[17]=L,e[18]=oe,e[19]=R):(oe=e[18],R=e[19]),N.useEffect(oe,R);const[x,fe]=N.useState(B),{country:k,setCountry:Z,userCountry:H}=po();let D;e[20]!==t||e[21]!==x?(D=aa({currentAccount:t,selectedTab:x}),e[20]=t,e[21]=x,e[22]=D):D=e[22];const $=D,re=$?k:fo,K=x==="personal";let Ce;e[23]!==t||e[24]!==re||e[25]!==K?(Ce={country:re,currentAccount:t,location:"AccountPaymentModal",shouldUsePaidSubscriptionBillingCurrency:K},e[23]=t,e[24]=re,e[25]=K,e[26]=Ce):Ce=e[26];const T=go(Ce),{plusPromoCampaignForAnalytics:ye,teamPromoCampaignForAnalytics:Se,goPromoCampaignForAnalytics:be}=Xo(),{comparisonEnabled:Ve,eligiblePlans:le}=Zo({ctx:O,currentAccount:t,selectedTab:x,user:I,shouldUseBusinessFreeWorkspaceExperience:z});let ge;e[27]!==G||e[28]!==(T==null?void 0:T.country)||e[29]!==(T==null?void 0:T.currency)||e[30]!==be||e[31]!==$||e[32]!==b.hash||e[33]!==b.search||e[34]!==b.state||e[35]!==se||e[36]!==M||e[37]!==B||e[38]!==ye||e[39]!==k||e[40]!==Se||e[41]!==H?(ge=()=>{var ue,xt,Tt,Mt,kt,It;const w=(ue=b.state)==null?void 0:ue[_o];w&&se({hash:b.hash,search:b.search},{replace:!0,state:{}});const ae=(xt=new URLSearchParams(window.location.search).get("referrer"))!=null?xt:document.referrer;Ns.count(Fs.DEFAULT,"chatgpt_account_payment_modal_show",[{key:"location",value:w},{key:"navigationType",value:M},{key:"initialTab",value:B},{key:"initialCountrySelectorCountry",value:k},{key:"selectedCountry",value:(Tt=T==null?void 0:T.country)!=null?Tt:""},{key:"selectedCurrency",value:(Mt=T==null?void 0:T.currency)!=null?Mt:""},{key:"userCountry",value:H!=null?H:""},{key:"isCountrySelectorEnabled",value:String($)}]),ee.logEventWithStatsig("Account Pay: Account Payment Modal Show","chatgpt_account_payment_modal_show",de(j({},G),{initialTab:B,location:w,navigationType:M,initialCountrySelectorCountry:k,selectedCountry:(kt=T==null?void 0:T.country)!=null?kt:"",selectedCurrency:(It=T==null?void 0:T.currency)!=null?It:"",userCountry:H!=null?H:"",isCountrySelectorEnabled:$,referrer:ae,plusPromoCampaign:ye!=null?ye:null,teamPromoCampaign:Se!=null?Se:null,goPromoCampaign:be!=null?be:null}))},e[27]=G,e[28]=T==null?void 0:T.country,e[29]=T==null?void 0:T.currency,e[30]=be,e[31]=$,e[32]=b.hash,e[33]=b.search,e[34]=b.state,e[35]=se,e[36]=M,e[37]=B,e[38]=ye,e[39]=k,e[40]=Se,e[41]=H,e[42]=ge):ge=e[42],ho(ge);let _e;e[43]!==k||e[44]!==Z?(_e=w=>{As.addAction("chatgpt_selected_country_changed_in_pricing_modal",{old_selected_country:k,new_selected_country:w}),ee.logEventWithStatsig("Selected country changed in pricing modal","chatgpt_selected_country_changed_in_pricing_modal",{old_selected_country:k,new_selected_country:w}),Z(w)},e[43]=k,e[44]=Z,e[45]=_e):_e=e[45];const xe=_e;let ve;e[46]===Symbol.for("react.memo_cache_sentinel")?(ve=w=>{var ue;fe(w);const ae=(ue=new URLSearchParams(window.location.search).get("referrer"))!=null?ue:document.referrer;ee.logEventWithStatsig("Account Pay: Account Payment Modal Toggle Clicked","chatgpt_account_payment_modal_toggle_clicked",{selectedTab:w,referrer:ae})},e[46]=ve):ve=e[46];const nt=ve,[os,as]=N.useState(),it=N.useRef(null);let qe;e[47]===Symbol.for("react.memo_cache_sentinel")?(qe=()=>{const w=()=>{if(it.current){const ce=document.documentElement.clientHeight,ae=it.current.getBoundingClientRect().height,ue=ce-ae;as(Math.max(ue,136))}};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},e[47]=qe):qe=e[47];let Ke;e[48]!==x?(Ke=[x],e[48]=x,e[49]=Ke):Ke=e[49],N.useEffect(qe,Ke);let Ye,Qe;e[50]!==B||e[51]!==x?(Ye=()=>{if(F.current||x!=="business")return;const w=window.setTimeout(()=>{F.current=!0,ee.logEventWithStatsig("Account Pay: Business Tab Viewed 5 Seconds","chatgpt_account_payment_modal_business_tab_viewed_5_seconds",{dwell_threshold_ms:5e3,default_tab:B})},5e3);return()=>{window.clearTimeout(w)}},Qe=[B,x],e[50]=B,e[51]=x,e[52]=Ye,e[53]=Qe):(Ye=e[52],Qe=e[53]),N.useEffect(Ye,Qe);const ns=yo(),is=bo(),rs=vo(),ls=We(O,"1671916711"),Je=o.get(Po);let Be;e:{const w=Je==null?void 0:Je.toLowerCase(),ce=w==="plus"&&x==="personal",ae=w==="business"&&x==="business";if(!Je||!ce&&!ae){Be=void 0;break e}const ue=ls.get("enabled_see_if_you_qualify_variant",!1);if(ce&&ue){Be=ne.giftPlusHeading;break e}if(ae&&ue){Be=ne.giftBusinessHeading;break e}Be=void 0}const rt=Be,lt=na({defaultTitle:rt!=null?rt:m,showGoFreeTrialTitle:ns&&x==="personal",showPlusFreeTrialTitle:is&&x==="personal",showBusinessFreeTrialTitle:rs&&x==="business",shouldUseBusinessFreeWorkspaceExperience:z,hasProSubscription:t.isPro()}),ct=z?ne.businessFreeWorkspaceModalSubtitle:c;if(!T)return null;const ut=Fo({analyticsParams:G,currentAccount:t,planLoading:v,selectedTab:x,setPlanLoading:P,setShouldShowCheckoutLoadingOverlay:C,billingDetails:T,onClose:l,ctx:O,businessComparisonEnabled:Ve,eligibleComparisonPlans:le,autoUpgradePlanType:_,fromiOSWebview:f,hideProPlan:V,moveHighlightedColumnToTop:Pe});let Te;e[54]!==A||e[55]!==f||e[56]!==ct||e[57]!==lt?(Te=a.jsx(Jo,{modalTitle:lt,subtitle:ct,isFromIosWebview:f,handleClose:A}),e[54]=A,e[55]=f,e[56]=ct,e[57]=lt,e[58]=Te):Te=e[58];let Me;e[59]!==t||e[60]!==f||e[61]!==nt||e[62]!==x||e[63]!==z?(Me=!f&&t.isPersonalAccount()&&!z?a.jsx("div",{className:"mb-3 flex justify-center md:mb-6",children:a.jsx("div",{className:"w-[fit-content]",children:a.jsx(ko,{value:x,onChange:nt})})}):null,e[59]=t,e[60]=f,e[61]=nt,e[62]=x,e[63]=z,e[64]=Me):Me=e[64];let ke;e[65]!==ut||e[66]!==y?(ke=y?a.jsx("div",{className:"flex justify-center gap-6 flex-col md:flex-row px-4",children:a.jsx(Qo,{})}):a.jsx("div",{className:"flex justify-center gap-6 flex-col md:flex-row px-4",children:ut}),e[65]=ut,e[66]=y,e[67]=ke):ke=e[67];let Ie;e[68]!==Te||e[69]!==Me||e[70]!==ke?(Ie=a.jsxs("div",{ref:it,className:"bg-token-bg-elevated-secondary",children:[Te,Me,ke]}),e[68]=Te,e[69]=Me,e[70]=ke,e[71]=Ie):Ie=e[71];const dt="".concat(os,"px");let we;e[72]!==dt?(we={height:dt},e[72]=dt,e[73]=we):we=e[73];let Xe;e[74]===Symbol.for("react.memo_cache_sentinel")?(Xe=a.jsx("div",{}),e[74]=Xe):Xe=e[74];let Ze;e[75]===Symbol.for("react.memo_cache_sentinel")?(Ze=a.jsx(Rs,{}),e[75]=Ze):Ze=e[75];let et;e[76]===Symbol.for("react.memo_cache_sentinel")?(et=a.jsx(Q,j({},ne.needMoreCapabilities)),e[76]=et):et=e[76];let tt;e[77]===Symbol.for("react.memo_cache_sentinel")?(tt=a.jsxs("span",{className:"text-token-text-secondary mt-8 mb-12 flex flex-col items-center justify-start gap-2 text-sm md:mt-8 md:mt-10 md:mb-8",children:[Ze,a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[et,a.jsx("div",{children:a.jsx(Q,de(j({},ne.seeChatGptEnterprise),{values:{link:ea}}))})]})]}),e[77]=tt):tt=e[77];const mt=!$;let Ee;e[78]!==mt?(Ee=Ge({hidden:mt},"text-token-text-primary justify-self-end opacity-50 transition hover:opacity-75 md:absolute md:end-4 md:bottom-4"),e[78]=mt,e[79]=Ee):Ee=e[79];let Oe;e[80]!==xe||e[81]!==k?(Oe=a.jsx(Yo,{onChange:xe,value:k}),e[80]=xe,e[81]=k,e[82]=Oe):Oe=e[82];let je;e[83]!==Ee||e[84]!==Oe?(je=a.jsx("span",{"data-testid":"country-selector-in-pricing-modal",className:Ee,children:Oe}),e[83]=Ee,e[84]=Oe,e[85]=je):je=e[85];let Ne;e[86]!==we||e[87]!==je?(Ne=a.jsxs("div",{className:"bg-token-bg-elevated-secondary relative grid grid-cols-[1fr_auto_1fr]",style:we,children:[Xe,tt,je]}),e[86]=we,e[87]=je,e[88]=Ne):Ne=e[88];let Fe;e[89]!==g?(Fe=g&&a.jsx("div",{className:"bg-token-bg-primary absolute inset-0 z-[9999] grid place-items-center dark:bg-[#1B1B1D]","data-testid":"account-payment-modal-loading",children:a.jsx(bt,{className:"icon-xl text-token-text-primary"})}),e[89]=g,e[90]=Fe):Fe=e[90];let Ae;e[91]!==S?(Ae=S&&a.jsx("div",{className:"bg-token-bg-primary absolute inset-0 z-[10000] grid place-items-center dark:bg-[#1B1B1D]","data-testid":"account-payment-modal-checkout-loading",children:a.jsx(Ls,{})}),e[91]=S,e[92]=Ae):Ae=e[92];let st;return e[93]!==A||e[94]!==Ie||e[95]!==Ne||e[96]!==Fe||e[97]!==Ae?(st=a.jsxs(Yt,{testId:"modal-account-payment",size:"fullscreen",isOpen:!0,onClose:A,type:"success",className:"bg-token-bg-elevated-secondary! flex flex-col",removePopoverStyling:!0,children:[Ie,Ne,Fe,Ae]}),e[93]=A,e[94]=Ie,e[95]=Ne,e[96]=Fe,e[97]=Ae,e[98]=st):st=e[98],st}function ea(s){return a.jsx(De,{target:"_blank",to:So,onClick:ta,className:"mx-1 font-medium underline",children:s})}function ta(){ee.logEventWithStatsig("Account Pay: Click see enterprise link from Modal","chatgpt_account_payment_modal_enterprise_link_clicked")}function sa(){const s=performance.now();return()=>{if(s){const e=performance.now()-s;ee.logValueEventWithStatsig({segmentEventName:"Account Pay: Account Payment Modal Time Spent",statsigEventName:"chatgpt_web_account_payment_modal_time_spent",value:Math.round(e)})}}}function oa(){return Os()}function aa({currentAccount:s,selectedTab:e}){return!!(!s.hasPaidSubscription()||(s.isPlus()||s.isPro())&&e==="business"||s.isSelfServeBusiness())}function na({defaultTitle:s,hasProSubscription:e,showGoFreeTrialTitle:t,showPlusFreeTrialTitle:n,showBusinessFreeTrialTitle:l,shouldUseBusinessFreeWorkspaceExperience:c}){return s||(c?ne.businessFreeWorkspaceModalTitle:t?ne.goFreeTrialModalTitle:n?ne.plusFreeTrialModalTitle:l?ne.businessFreeTrialModalTitle:e?ne.proModalTitle:ne.modalTitle)}const ne=$e({modalTitle:{id:"AccountPaymentModal.modalTitle",defaultMessage:"Upgrade your plan"},goFreeTrialModalTitle:{id:"AccountPaymentModal.goFreeTrialModalTitle",defaultMessage:"Try Go free for 12 months"},plusFreeTrialModalTitle:{id:"AccountPaymentModal.plusFreeTrialModalTitle",defaultMessage:"Try Plus free for 1 month"},businessFreeTrialModalTitle:{id:"AccountPaymentModal.businessFreeTrialModalTitle",defaultMessage:"Try Business free for 1 month"},giftPlusHeading:{id:"AccountPaymentModal.giftPlusHeading",defaultMessage:"You qualify for 1 free month of Plus"},giftBusinessHeading:{id:"AccountPaymentModal.giftBusinessHeading",defaultMessage:"You qualify for 1 free month of Business"},proModalTitle:{id:"AccountPaymentModal.proModalTitle",defaultMessage:"Choose your plan"},modalFooterCapabilities:{id:"AccountPaymentModal.modalFooterCapabilities",defaultMessage:"Need more capabilities? See <link> ChatGPT Enterprise </link>"},needMoreCapabilities:{id:"SdJWr7",defaultMessage:"Need more capabilities for your business?"},seeChatGptEnterprise:{id:"7C5fuF",defaultMessage:"See<link>ChatGPT Enterprise</link>"},promoNotEligibleMessage:{id:"AccountPaymentModal.promoNotEligibleMessage",defaultMessage:"Thanks for being a susbcriber. Since you already use ChatGPT Plus, you're not eligible for this offer."},businessFreeWorkspaceModalTitle:{id:"AccountPaymentModal.businessFreeWorkspaceModalTitle",defaultMessage:"Choose the best plan to get more done"},businessFreeWorkspaceModalSubtitle:{id:"AccountPaymentModal.businessFreeWorkspaceModalSubtitle",defaultMessage:"Get more work done with AI for teams"}});export{ba as A,jo as G,Yo as M,Qo as P,Fo as a,Zo as g};
//# sourceMappingURL=mn4kjdml8rch5m0h.js.map

var K=Object.defineProperty,V=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var I=(r,e,t)=>e in r?K(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,E=(r,e)=>{for(var t in e||(e={}))H.call(e,t)&&I(r,t,e[t]);if(D)for(var t of D(e))X.call(e,t)&&I(r,t,e[t]);return r},R=(r,e)=>V(r,F(e));import{c as $,r as T,h as q,j as o}from"./mw35uwhq4g8r9eam.js";import G from"./n003af6qtf21owgl.js";import{cF as c,pH as J}from"./d0xa318sl7ywi0za.js";import{g as Q,r as U,d as W}from"./fr3ojfw2u5qms8to.js";import"./g2euln7v5pbm31qa.js";import"./f9zm06cvq49h9y4w.js";import"./h7m4lglq6oq2rp3g.js";import"./m6diiweku3494llq.js";const Y=220;function le(r){"use forget";const e=$.c(15),{messages:t,containerSize:j,className:b,hideBg:P,scrollToLastMessage:m}=r,A=j===void 0?"full":j,N=T.useRef(null);let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],e[0]=p):p=e[0];const S=T.useRef(p),M=Q(),C=q();let f,g;e[1]!==m?(f=()=>{const d=N.current,n=S.current.at(-1);!m||!d||!n||(d.scrollTop=n.offsetTop-d.offsetTop-Y)},g=[m],e[1]=m,e[2]=f,e[3]=g):(f=e[2],g=e[3]),T.useEffect(f,g);const v=!P;let a;e[4]!==b||e[5]!==v?(a=c({"bg-token-bg-secondary/20 dark:bg-token-bg-secondary max-h-[28rem] w-full overflow-auto rounded-[20px] px-4 py-8 md:max-h-[40.625rem]":v},b),e[4]=b,e[5]=v,e[6]=a):a=e[6];const w=A==="small";let i;e[7]!==w?(i=c("mx-auto flex w-full max-w-[650px] flex-col",{"sm:w-[80%]":w}),e[7]=w,e[8]=i):i=e[8];const k=t.map((d,n)=>{var O,B;const{variant:s,message:z}=d,_=(O=t[n-1])==null?void 0:O.variant,y=(B=t[n+1])==null?void 0:B.variant,L=!!y&&s!==y;return o.jsxs("div",{className:c({"flex gap-3":s==="response",contents:s!=="response"}),children:[s==="response"&&o.jsx("div",{className:c("h-[33px] w-[33px] shrink-0",{"grid place-items-center rounded-full border border-gray-100 dark:border-gray-700":_!==s}),children:_!==s&&o.jsx(J,{alt:C.formatMessage({id:"login.openAiLogo",defaultMessage:"OpenAI Logo"}),height:"19",width:"19"})}),o.jsx("div",{ref:u=>{u&&(S.current[n]=u)},className:c("prose text-mkt-p1 max-w-112.5",{"bg-token-bg-secondary dark:bg-token-bg-tertiary self-end rounded-[18px] [:not(:has(img))]:px-4 [:not(:has(img))]:py-3":s==="input","w-0 flex-1":s==="response","mb-3.5":s===y,"mb-7":L&&s==="input","mb-12":L&&s==="response","ms-6 sm:ms-8":s==="input"}),children:U.documentToReactComponents(z,R(E({},M),{renderNode:R(E({},M.renderNode),{[W.BLOCKS.EMBEDDED_ASSET]:u=>{const{data:h}=u;return o.jsx("div",{style:{aspectRatio:h.target.fields.file.details.image.width/h.target.fields.file.details.image.height},className:c("not-prose bg-token-bg-secondary dark:bg-token-bg-tertiary overflow-hidden rounded-[18px]",{"w-40 sm:w-80":s==="response","w-40 sm:w-60":s==="input"}),children:o.jsx(G,{altText:h.target.fields.description,asset:h.target.fields})})}})}))})]},n)});let l;e[9]!==k||e[10]!==i?(l=o.jsx("div",{className:i,children:k}),e[9]=k,e[10]=i,e[11]=l):l=e[11];let x;return e[12]!==l||e[13]!==a?(x=o.jsx("div",{ref:N,className:a,children:l}),e[12]=l,e[13]=a,e[14]=x):x=e[14],x}export{le as default};
//# sourceMappingURL=gw7ihynvyuh3gio3.js.map

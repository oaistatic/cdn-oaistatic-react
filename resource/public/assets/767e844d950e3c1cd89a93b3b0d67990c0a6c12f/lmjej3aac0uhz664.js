import{r as w,j as l,d as M}from"./mw35uwhq4g8r9eam.js";import{jv as p,rQ as T,cu as I,jZ as V,V as _,P as g,D as y,mv as k,dp as x,aB as C}from"./d0xa318sl7ywi0za.js";import{bn as v,ed as m,e4 as S,bN as A}from"./g2euln7v5pbm31qa.js";import{D as h}from"./jq5arodfofi7kok7.js";import{u as N,g as f}from"./ehb03yyzqhj5ry6r.js";import{M as b}from"./i693kfbch8smq86y.js";function j(n){const{button:r,conversationId:t,onClick:s}=n,a=I(t),{startVoiceMode:d}=N(),o=M(),e=V(),u=w.useCallback(async()=>{switch(r.action){case"new_chat":{const i=f({serverThreadId:void 0,isAdvancedMode:!0,eventSource:"modal_".concat(r.action),parentMessageId:void 0,clientThreadId:k(),gizmoId:void 0,skipCacheReason:"modal-new-chat-button"});if(e)try{await m({type:"STOP",reason:h.UserNavigatedAway});const c=g(t);c!=null&&c.disableConversationNavigation||S(o,{replace:!0}),await m({type:"START",args:i,oldConversationId:a!=null?a:t})}catch(c){y.addError(c,{message:"New chat button in IUX failed"})}else A("/"),d(i);break}case"switch_to_standard":if(a){const i=f({serverThreadId:a,isAdvancedMode:!1,eventSource:"modal_".concat(r.action),parentMessageId:void 0,clientThreadId:a,gizmoId:_.getGizmoId(g(t)),skipCacheReason:"modal-switch-to-standard-button"});if(e)try{await m({type:"STOP",reason:h.UserSwitchedToStandard}),await m({type:"START",args:i})}catch(c){y.addError(c,{message:"Switch to standard button in IUX failed"})}else d(i)}break;case"upgrade_to_plus":v(o,"Voice Mode Upgrade To Plus Modal");break;case"upgrade_to_pro":v(o,"Voice Mode Upgrade To Pro Modal");break}s==null||s()},[r.action,t,e,o,s,a,d]);return l.jsx(x.Button,{onClick:u,title:r.title,color:n.color})}const B={primary:"primary",secondary:"secondary",tertiary:"ghost"};function E({buttons:n,conversationId:r,onClick:t}){let s,a,d;const o=w.useCallback(e=>()=>{e==="upgrade_to_plus"?p.upsell.upgradeToPlus():e==="upgrade_to_pro"&&p.upsell.upgradeToPro(),t()},[t]);return!n||n.length===0?{primary:void 0,secondary:void 0,tertiary:void 0}:(n.forEach(e=>{if(!T.includes(e.action))return;const i=l.jsx(j,{button:e,conversationId:r,onClick:o(e.action),color:B[e.style]});switch(e.style){case"primary":s=i;break;case"secondary":a=i;break;case"tertiary":d=i;break}}),{primary:s,secondary:a,tertiary:d})}function z({conversationId:n,isOpen:r,onClose:t,buttons:s,title:a,description_markdown:d}){const o=E({buttons:s,conversationId:n,onClick:t}),e=l.jsx(b,{className:"markdown text-token-text-secondary mb-6",urlTransform:u=>u,children:d});return l.jsx(C,{testId:"modal-voice-rate-limit",title:a,isOpen:r,onClose:t,size:"custom",className:"max-w-[550px]",type:"warning",showCloseButton:!0,children:l.jsxs("div",{className:"w-full",children:[e,l.jsxs("div",{className:"flex flex-row justify-end gap-6",children:[o.primary,o.secondary,o.tertiary]})]})})}export{z as V,E as u};
//# sourceMappingURL=lmjej3aac0uhz664.js.map

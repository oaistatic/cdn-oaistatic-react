var $=Object.defineProperty,q=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var R=(t,n,s)=>n in t?$(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,l=(t,n)=>{for(var s in n||(n={}))J.call(n,s)&&R(t,s,n[s]);if(O)for(var s of O(n))V.call(n,s)&&R(t,s,n[s]);return t},I=(t,n)=>q(t,Q(n));import{h as L,j as e,M as a,r as M,e as B,k as Z,a as ee,d as te,y as ne}from"./mw35uwhq4g8r9eam.js";import{u as se,ro as A,ee as g,ei as E,er as T,aA as u,ik as ae,ml as oe,p as G,pe as H,pM as U,pN as X,t3 as ie,t4 as ce,ii as K,cw as W,t5 as re,t6 as le,t7 as F,ij as z,t8 as Y,t9 as P,ta as de,tb as me,tc as xe,td as ue,te as pe,ec as fe,tf as he}from"./d0xa318sl7ywi0za.js";import{R as Ce}from"./nb24clp818j4weup.js";import{h as ge}from"./ijk9p5ylletqfo5k.js";import{y as je}from"./ldtpmsnzn9ens47o.js";import{a as we}from"./z1glrtrazgv3d95u.js";import"./g2euln7v5pbm31qa.js";import"./ohau9tqj1fpdibg0.js";import"./iknugp00locgtve5.js";import"./h1em0bjkpkjv8ykw.js";import"./cv4afpu20gjb9dll.js";import"./h4yh1661qhhbu5v5.js";import"./hu1bt0oauegdhua6.js";import"./baz4b8nlf8t2lb95.js";import"./msmm4s2uspal1mht.js";import"./dtmprrbw2fxa7u08.js";import"./j6o92bx1q4qhetyv.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./cvl54rj7bbx1877e.js";import"./i8gmt89kig8ue44v.js";import"./dejzmw8nrz6tr491.js";import"./e5bg4yzr7nht9sxr.js";import"./hdw58d7g4tx8n6s4.js";import"./kubdgxu3crk3gqem.js";import"./kne35xckmmfq3xx6.js";import"./c340ncgh31fwqkpk.js";import"./of0vtq1gcmd3mc3z.js";import"./m4z0737cb20mwzwc.js";import"./ddina39kz3r81pp7.js";import"./ksb30nvrqfrocrgu.js";import"./kx64af29hscb23w7.js";import"./w3hi9hzc7twqpn11.js";import"./mozvd7p01wv3j6u2.js";function Ne(){var C;se();const t=L(),n=oe("installations/select_target"),{isConnected:s,isLoading:c,error:d,openGithubModal:o,refetch:p,handleDisconnect:j}=A(E.GITHUB_CONNECTOR,"github","/codex/settings/connectors",g.CODEX),{data:h,isLoading:w}=je();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-md font-medium",children:e.jsx(a,{id:"wham.githubConnectionsRow.githubConnector",defaultMessage:"GitHub"})}),d?e.jsx(Ce,{refetchConnectorData:p}):w||c?e.jsx("div",{className:"flex w-full items-center justify-center gap-2",children:e.jsx(T,{className:"h-6 w-6"})}):s?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-token-text-primary flex items-center gap-2 text-sm",children:e.jsx(a,{id:"wham.githubConnectionsRow.title",defaultMessage:"Connected to <b>{githubLogin}</b>",values:{b:f=>e.jsx("b",{children:f}),githubLogin:(C=h==null?void 0:h.github_handle)!=null?C:"GitHub"}})}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(u,{color:"danger-outline",className:"w-fit",loading:c,onClick:()=>j(),"aria-label":t.formatMessage({id:"wham.githubConnectionRow.disconnectAriaLabel",defaultMessage:"Button to disconnect GitHub connection"}),children:e.jsx(a,{id:"wham.githubConnectionRow.disconnect",defaultMessage:"Disconnect"})}),e.jsx(u,{color:"secondary",className:"w-fit",onClick:()=>ge(n),"aria-label":t.formatMessage({id:"wham.githubConnectionRow.settingsAriaLabel",defaultMessage:"Button to go to GitHub installations settings page"}),children:e.jsx(a,{id:"wham.githubConnectionRow.settings",defaultMessage:"Settings"})})]})]}):e.jsxs("div",{className:"text-token-text-secondary flex flex-col gap-2 text-sm",children:[e.jsx("p",{className:"pb-2 text-xs",children:e.jsx(a,{id:"wham.githubConnectionsRow.githubConnection",defaultMessage:"Connect to your GitHub repositories to use in Codex"})}),e.jsx(u,{icon:s?void 0:ae,color:"primary",className:"w-fit",loading:c,onClick:o,children:e.jsx(a,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"})})]})]})}const m=B({linearConnectorTitle:{id:"wham.linearConnectionsRow.linearConnector",defaultMessage:"Linear"},linearConnectorDescription:{id:"wham.linearConnectionsRow.linearConnection",defaultMessage:"Install the Codex app in Linear so you can ask @codex"},connectLinear:{id:"wham.linearConnectionsRow.connectLinear",defaultMessage:"Install Codex in Linear"},connectLinearMore:{id:"wham.linearConnectionsRow.connectMore",defaultMessage:"Install another workspace"},disconnectLinear:{id:"wham.linearConnectionsRow.disconnect",defaultMessage:"Disconnect"},linearDisabledByAdmin:{id:"wham.linearConnectionsRow.disabledByAdmin",defaultMessage:"Currently disabled by your ChatGPT workspace admin."},retryLinear:{id:"wham.linearConnectionsRow.retry",defaultMessage:"Failed to load Linear connection"},retryTooltip:{id:"wham.linearConnectionsRow.retryTooltip",defaultMessage:"Click to retry"},defaultWorkspaceName:{id:"wham.linearConnectionsRow.defaultWorkspaceName",defaultMessage:"Linear workspace"}});function be({refetchConnectorData:t}){const n=L();return e.jsx(W,{label:n.formatMessage(m.retryTooltip),children:e.jsx(u,{color:"secondary",size:"small",type:"button",className:"border-token-border-default flex w-fit items-center gap-1.5 rounded-full! border",onClick:t,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(K,{"aria-hidden":!0,className:"icon-sm"}),e.jsx(a,l({},m.retryLinear))]})})})}function ke(){const t=L(),n=G(),s=H(),c=M.useCallback(()=>{U({redirectUri:X(),connectorPlatformParams:{connectorId:ce,name:"Linear",actionNames:null,oauthClientId:ie,oauthClientScopes:null},redirectTo:"/codex/settings/connectors",intl:t,toaster:n,productSku:g.CODEX,openPopup:s})},[t,n,s]),{isConnected:d,isLoading:o,error:p,openConnectorModal:j,refetch:h,handleDisconnect:w,links:C,platformConnector:f}=A(E.LINEAR_CODEX_BOT_CONNECTOR,"linear","/codex/settings/connectors",g.CODEX,c,c);if(!f&&(o||!p))return null;const N=(f==null?void 0:f.status)==="DISABLED_BY_ADMIN",D=r=>{var i,b,k,y,S;return(S=(y=(k=(i=r==null?void 0:r.owner_profile)==null?void 0:i.nickname)!=null?k:(b=r==null?void 0:r.owner_profile)==null?void 0:b.name)!=null?y:r==null?void 0:r.name)!=null?S:t.formatMessage(m.defaultWorkspaceName)},_=N?e.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(a,l({},m.linearDisabledByAdmin))}):e.jsx(u,{icon:K,color:"primary",className:"w-fit",loading:o,onClick:j,children:e.jsx(a,l({},d?m.connectLinearMore:m.connectLinear))});return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-md font-medium",children:e.jsx(a,l({},m.linearConnectorTitle))}),e.jsx("p",{className:"text-token-text-secondary text-xs",children:e.jsx(a,l({},m.linearConnectorDescription))}),p?e.jsx(be,{refetchConnectorData:h}):o?e.jsx("div",{className:"flex w-full items-center justify-center gap-2",children:e.jsx(T,{className:"h-6 w-6"})}):d?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"flex flex-row flex-wrap gap-2",children:_}),e.jsx("div",{className:"flex flex-col gap-2",children:C.map(r=>e.jsxs("div",{className:"border-token-border-default flex flex-wrap items-center justify-between gap-3 rounded-md border px-3 py-2",children:[e.jsx("span",{className:"text-token-text-primary text-sm font-medium",children:D(r)}),e.jsx(u,{color:"danger-outline",className:"w-fit",loading:o,onClick:()=>w(r.id),children:e.jsx(a,l({},m.disconnectLinear))})]},r.id))})]}):e.jsx("div",{className:"text-token-text-secondary flex flex-col gap-3 text-sm",children:_})]})}const x=B({slackConnectorTitle:{id:"wham.slackConnectionsRow.slackConnector",defaultMessage:"Slack"},slackConnectorDescription:{id:"wham.slackConnectionsRow.slackConnection",defaultMessage:"Connect to Slack so you can ask @codex to answer questions or draft PRs right from Slack. <a>Learn more</a>"},connectSlack:{id:"wham.slackConnectionsRow.connectSlack",defaultMessage:"Connect to Slack"},connectSlackMore:{id:"wham.slackConnectionsRow.connectMore",defaultMessage:"Connect more"},slackDisabledByAdmin:{id:"wham.slackConnectionsRow.disabledByAdmin",defaultMessage:"Currently disabled by your ChatGPT workspace admin."},disconnectSlack:{id:"wham.slackConnectionsRow.disconnect",defaultMessage:"Disconnect"},retrySlack:{id:"wham.slackConnectionsRow.retry",defaultMessage:"Failed to load Slack connection"},retryTooltip:{id:"wham.slackConnectionsRow.retryTooltip",defaultMessage:"Click to retry"},defaultWorkspaceName:{id:"wham.slackConnectionsRow.defaultWorkspaceName",defaultMessage:"Slack workspace"}});function ye({refetchConnectorData:t}){const n=L();return e.jsx(W,{label:n.formatMessage(x.retryTooltip),children:e.jsx(u,{color:"secondary",size:"small",type:"button",className:"border-token-border-default flex w-fit items-center gap-1.5 rounded-full! border",onClick:t,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(z,{"aria-hidden":!0,className:"icon-sm"}),e.jsx(a,l({},x.retrySlack))]})})})}function Se(){const t=L(),n=G(),s=H(),c=re(),d=M.useCallback(()=>{U({redirectUri:X(),connectorPlatformParams:{connectorId:F,name:"Slack",actionNames:null,oauthClientId:le,oauthClientScopes:null,slackTeamId:c!=null?c:void 0},redirectTo:"/codex/settings/connectors",intl:t,toaster:n,productSku:g.CODEX,openPopup:s})},[t,n,s,c]),{isConnected:o,isLoading:p,error:j,openConnectorModal:h,refetch:w,handleDisconnect:C,links:f,platformConnector:N}=A(E.SLACK_CODEX_CONNECTOR,"slack","/codex/settings/connectors",g.CODEX,d,d),D=(N==null?void 0:N.status)==="DISABLED_BY_ADMIN",_=i=>{var b,k,y,S,v;return(v=(S=(y=(b=i==null?void 0:i.owner_profile)==null?void 0:b.nickname)!=null?y:(k=i==null?void 0:i.owner_profile)==null?void 0:k.name)!=null?S:i==null?void 0:i.name)!=null?v:t.formatMessage(x.defaultWorkspaceName)},r=D?e.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(a,l({},x.slackDisabledByAdmin))}):e.jsx(u,{icon:z,color:"primary",className:"w-fit",loading:p,onClick:h,children:e.jsx(a,l({},o?x.connectSlackMore:x.connectSlack))});return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-md font-medium",children:e.jsx(a,l({},x.slackConnectorTitle))}),e.jsx("p",{className:"text-token-text-secondary text-xs",children:e.jsx(a,I(l({},x.slackConnectorDescription),{values:{a:i=>e.jsx("a",{href:"https://developers.openai.com/codex/integrations/slack",target:"_blank",rel:"noreferrer",className:"text-token-text-accent hover:text-token-text-accent/80 font-medium underline",children:i})}}))}),j?e.jsx(ye,{refetchConnectorData:w}):p?e.jsx("div",{className:"flex w-full items-center justify-center gap-2",children:e.jsx(T,{className:"h-6 w-6"})}):o?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"flex flex-row flex-wrap gap-2",children:r}),e.jsx("div",{className:"flex flex-col gap-2",children:f.map(i=>e.jsxs("div",{className:"border-token-border-default flex flex-wrap items-center justify-between gap-3 rounded-md border px-3 py-2",children:[e.jsx("span",{className:"text-token-text-primary text-sm font-medium",children:_(i)}),e.jsx(u,{color:"danger-outline",className:"w-fit",loading:p,onClick:()=>C(i.id),children:e.jsx(a,l({},x.disconnectSlack))})]},i.id))})]}):e.jsx("div",{className:"text-token-text-secondary flex flex-col gap-3 text-sm",children:r})]})}function Me(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex pt-4",children:e.jsx(Ne,{})}),e.jsx("div",{className:"flex pt-4",children:e.jsx(Se,{})}),e.jsx("div",{className:"flex pt-4",children:e.jsx(ke,{})})]})}const Le=Y;function _e(){return e.jsx("div",{className:"border-token-border-heavy flex items-center border-b",children:e.jsx("div",{className:"py-2 text-xl leading-7 font-medium",children:e.jsx(a,{id:"wham.connectorControlsHeader.title",defaultMessage:"Connectors"})})})}function De(){const[t]=Z(),n=ee(),s=te(),c=M.useMemo(()=>t.get(Le),[t]),d=M.useMemo(()=>t.get(P),[t]);return M.useEffect(()=>{if(!c&&!d)return;const o=new URLSearchParams;o.set(de,"true"),o.set(me,F),o.set(xe,g.CONNECTOR_SETTING),o.set(ue,"/codex/settings/connectors"),c&&o.set(Y,c),d&&o.set(P,d),o.set(pe,fe.Codex),s({pathname:n.pathname,hash:"".concat(he,"?").concat(o.toString()),search:""},{replace:!0})},[n.pathname,s,d,c]),e.jsx(we,{header:e.jsx(_e,{}),children:e.jsx(Me,{})})}const mt=()=>[{title:"Codex"}],xt=ne(function(){return e.jsx(De,{})});export{xt as default,mt as meta};
//# sourceMappingURL=k2dzfkvdnqp6gvb3.js.map

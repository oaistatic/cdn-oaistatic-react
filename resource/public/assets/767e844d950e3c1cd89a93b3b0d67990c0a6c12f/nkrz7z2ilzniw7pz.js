var E=Object.defineProperty;var q=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var A=(s,e,t)=>e in s?E(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,C=(s,e)=>{for(var t in e||(e={}))N.call(e,t)&&A(s,t,e[t]);if(q)for(var t of q(e))O.call(e,t)&&A(s,t,e[t]);return s};import{e as P,c as z,h as B,r as I,j as o,M as H}from"./mw35uwhq4g8r9eam.js";import{d7 as Q,u as G,d_ as R,aA as D,dr as W,aB as Y,bg as k,_ as F}from"./d0xa318sl7ywi0za.js";import{c7 as J}from"./g2euln7v5pbm31qa.js";function K(s,e){if(!(e!=null&&e.enabled)||!e.end_time)return null;const[t,l]=e.end_time.split(":").map(c=>parseInt(c,10)||0),a=Math.max(0,Math.min(1439,t*60+l)),n=new Date,w=n.getHours()*60+n.getMinutes(),i=new Date(n);i.setHours(Math.floor(a/60),a%60,0,0);let r=h.usageAgainToday;w>=a&&(i.setDate(i.getDate()+1),r=h.usageAgainTomorrow);const u=s.formatDate(i,{hour:"numeric",minute:"2-digit"});return s.formatMessage(r,{time:u})}function L(s){var e;try{const t=(e=k(s).user)==null?void 0:e.id;F.logEvent("chatgpt_amphora_blackout_hours_client_blocked",t?{user_id:t}:void 0)}catch(t){}}function Z(s){"use forget";var T,v;const e=z.c(29),{onClose:t}=s,l=B(),{openSettings:a}=J(),{data:n}=Q(),w=(T=n==null?void 0:n.settings)==null?void 0:T.rKAMeJfyrM_settings;let i;e[0]!==w||e[1]!==l?(i=(v=K(l,w))!=null?v:l.formatMessage(h.genericSubtitle),e[0]=w,e[1]=l,e[2]=i):i=e[2];const r=i,u=G();let c,_;e[3]!==u?(c=()=>{L(u)},_=[u],e[3]=u,e[4]=c,e[5]=_):(c=e[4],_=e[5]),I.useEffect(c,_);let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=o.jsx("p",{className:"mb-2 text-center text-2xl font-semibold",children:o.jsx(H,C({},h.title))}),e[6]=b):b=e[6];let m;e[7]!==r?(m=o.jsx("p",{className:"text-token-text-secondary mb-6 text-center",children:r}),e[7]=r,e[8]=m):m=e[8];let d;e[9]!==t||e[10]!==a?(d=()=>{t(),a(R.ParentalControls)},e[9]=t,e[10]=a,e[11]=d):d=e[11];let y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=o.jsx(H,C({},h.viewSettings)),e[12]=y):y=e[12];let g;e[13]!==d?(g=o.jsx(D,{as:"button",size:"large",color:"primary",fullWidth:!0,onClick:d,children:y}),e[13]=d,e[14]=g):g=e[14];let f;e[15]!==t?(f=()=>{t(),W()},e[15]=t,e[16]=f):f=e[16];let S;e[17]===Symbol.for("react.memo_cache_sentinel")?(S=o.jsx(H,C({},h.signOut)),e[17]=S):S=e[17];let x;e[18]!==f?(x=o.jsx(D,{as:"button",size:"large",color:"secondary",fullWidth:!0,onClick:f,children:S}),e[18]=f,e[19]=x):x=e[19];let M;e[20]!==x||e[21]!==g?(M=o.jsxs("div",{className:"flex w-full flex-col gap-2",children:[g,x]}),e[20]=x,e[21]=g,e[22]=M):M=e[22];let p;e[23]!==M||e[24]!==m?(p=o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:px-10 sm:pt-12 sm:pb-10",children:[b,m,M]}),e[23]=M,e[24]=m,e[25]=p):p=e[25];let j;return e[26]!==t||e[27]!==p?(j=o.jsx(Y,{testId:"modal-quiet-hours",isOpen:!0,onClose:t,showCloseButton:!1,type:"success",noPadding:!0,position:"center",size:"custom",className:"max-w-[373px] sm:max-w-[420px]",children:p}),e[26]=t,e[27]=p,e[28]=j):j=e[28],j}const h=P({title:{id:"quietHoursModal.title",defaultMessage:"Time for a break"},usageAgainToday:{id:"quietHoursModal.subtitle.today",defaultMessage:"You can use ChatGPT again today at {time}"},usageAgainTomorrow:{id:"quietHoursModal.subtitle.tomorrow",defaultMessage:"You can use ChatGPT again tomorrow at {time}"},genericSubtitle:{id:"quietHoursModal.subtitle.generic",defaultMessage:"Quiet hours are in effect."},viewSettings:{id:"quietHoursModal.viewSettings",defaultMessage:"View settings"},signOut:{id:"quietHoursModal.signOut",defaultMessage:"Sign out"}});export{Z as QuietHoursModal,Z as default,h as messages};
//# sourceMappingURL=nkrz7z2ilzniw7pz.js.map

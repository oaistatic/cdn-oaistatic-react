var gs=Object.defineProperty,ps=Object.defineProperties;var vs=Object.getOwnPropertyDescriptors;var Bt=Object.getOwnPropertySymbols;var ys=Object.prototype.hasOwnProperty,ks=Object.prototype.propertyIsEnumerable;var Ut=(e,t,a)=>t in e?gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,I=(e,t)=>{for(var a in t||(t={}))ys.call(t,a)&&Ut(e,a,t[a]);if(Bt)for(var a of Bt(t))ks.call(t,a)&&Ut(e,a,t[a]);return e},J=(e,t)=>ps(e,vs(t));import{r as F,h as oe,j as s,a as Te,d as ge,b as bs,M as _,c as se,e as Be,aq as Ge,L as Gt,ar as js,F as ws,y as Ms}from"./mw35uwhq4g8r9eam.js";import{B as Ss,cw as Ns,bI as gt,iv as _s,iw as Cs,ag as Ps,ah as As,bd as O,bB as Ht,aE as Rs,rU as Ls}from"./g2euln7v5pbm31qa.js";import{r as pt,f as Fs,c as Ye,e as Yt,d as Xe,h as Xt,i as Jt,j as Je,k as Ze,g as vt,l as Zt,A as et,N as Vt,t as es,m as ts,n as ss}from"./nrq8e0wm52nuufbv.js";import{E as Fe,i as as,b as Ts,g as Es,S as rs,j as Is,k as ht,l as Os,e as $s}from"./glfvtve5gp6wwjag.js";import{p as tt,dz as ls,h8 as zs,cF as E,W as Ds,b3 as Bs,h9 as Us,e7 as Hs,aA as Oe,er as st,fK as Vs,f7 as ft,gw as Ws,cw as xt,fD as is,u as Qs,jr as qs}from"./d0xa318sl7ywi0za.js";import{i as Ks}from"./mpk4drhv3szxuvkj.js";import{m as Gs,A as Ys}from"./gjym1xeroi22t6az.js";import"./e9wj7nd5g5h0l9yg.js";import"./baz4b8nlf8t2lb95.js";import"./kubdgxu3crk3gqem.js";import"./kne35xckmmfq3xx6.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./c340ncgh31fwqkpk.js";import"./of0vtq1gcmd3mc3z.js";import"./m9dg467qzmmahw21.js";import"./dbnl40ahcmx1rqbw.js";import"./j723eutw6lfomm01.js";import"./gl4f6lge29au0ljx.js";import"./iio0zgk2sqlxbcjy.js";import"./obpubb7ugisfu36u.js";import"./ggvjblnzoirafiyl.js";import"./kc32gem4l2t3hnxt.js";import"./5uqv5sdajcdsdc3v.js";import"./kl0a548ohmz3fby2.js";import"./fe4yarxdk4eko5w6.js";import"./jc1wlz3ym1r6tf2l.js";import"./dhyn0hpw8j3dzdrv.js";function Le(e,t){const r=new URLSearchParams(e).get(t);return!r||r.trim()===""?[]:r.split(",").map(i=>i.trim()).filter(Boolean)}function Xs(){const e=Te(),t=ge(),a=ls(),r=a==null?void 0:a.email,{data:i,isLoading:l,error:n}=as(),o=F.useMemo(()=>{const u=zs(i==null?void 0:i.items,c=>c.canonical_url);return Gs(u,c=>J(I({},c),{label:pt(c.canonical_url)}))},[i]);return F.useEffect(()=>{const u=new URLSearchParams(e.search);let c=!1;if(!u.size&&!l){const m=(r==null?void 0:r.endsWith("@openai.com"))?["https://github.com/openai/openai"]:[],g=(o!=null?o:[]).map(v=>{var S;return String((S=v.canonical_url)!=null?S:"").trim()}).filter(Boolean),k=Ks(m,g);k.length>0&&(u.set("repo",k.join(",")),c=!0)}u.has("recommended")||(u.set("recommended","true"),c=!0),u.has("sort")||(u.set("sort","sev_desc"),c=!0),c&&t({search:"?".concat(u.toString())},{replace:!0})},[e.search,t,r,o,l]),{filters:F.useMemo(()=>{var D,$;const u=new URLSearchParams(e.search),c=new Set(Le(e.search,"status")),d=new Set(Le(e.search,"criticality")),m=Le(e.search,"repo"),g=Le(e.search,"assignee"),k=Le(e.search,"path_prefix"),v=($=(D=u.get("q"))==null?void 0:D.trim())!=null?$:"",S=u.get("validated"),h=u.get("has_patch"),y=S==="true"?"validated":S==="false"?"unvalidated":"all",p=h==="true"?"with_patch":h==="false"?"without_patch":"all",b=u.get("recommended"),N=b===null?!0:b==="true",w=new Set(Array.from(c)),C=new Set(Array.from(d)),j=new Set(m),M=j.size===1?Array.from(j)[0]:"all",P=new Set(g),L=Le(e.search,"author"),T=new Set(L),H=new Set(k);return{selectedCriticalities:C,securityOnly:!1,privacyOnly:!1,selectedStatuses:w,selectedRepo:M,selectedRepos:j,selectedPathPrefixes:H,keywordQuery:v,recommendedOnly:N,existsInHeadOnly:!1,validationFilter:y,patchFilter:p,selectedAssignees:P,selectedAuthors:T}},[e.search]),onChangeFilters:u=>{const c=new URLSearchParams(e.search),d=u;d.recommendedOnly?c.set("recommended","true"):c.set("recommended","false"),d.selectedRepos&&d.selectedRepos.size>0?c.set("repo",Array.from(d.selectedRepos).join(",")):c.delete("repo"),d.selectedCriticalities&&d.selectedCriticalities.size>0?c.set("criticality",Array.from(d.selectedCriticalities).join(",")):c.delete("criticality"),d.selectedStatuses&&d.selectedStatuses.size>0?c.set("status",Array.from(d.selectedStatuses).join(",")):c.delete("status"),d.validationFilter==="validated"?c.set("validated","true"):d.validationFilter==="unvalidated"?c.set("validated","false"):c.delete("validated"),d.patchFilter==="with_patch"?c.set("has_patch","true"):d.patchFilter==="without_patch"?c.set("has_patch","false"):c.delete("has_patch"),d.selectedAssignees&&d.selectedAssignees.size>0?c.set("assignee",Array.from(d.selectedAssignees).join(",")):c.delete("assignee"),d.selectedAuthors&&d.selectedAuthors.size>0?c.set("author",Array.from(d.selectedAuthors).join(",")):c.delete("author"),d.selectedPathPrefixes&&d.selectedPathPrefixes.size>0?c.set("path_prefix",Array.from(d.selectedPathPrefixes).join(",")):c.delete("path_prefix");const m=d.keywordQuery.trim();m?c.set("q",m):c.delete("q"),t({search:"?".concat(c.toString())},{replace:!0})},accessibleRepos:o,accessibleReposLoading:l,accessibleReposError:n}}const ns=F.createContext(null);function Js({children:e}){const{filters:t,onChangeFilters:a,accessibleRepos:r,accessibleReposLoading:i,accessibleReposError:l}=Xs(),n=tt(),o=oe();return F.useEffect(()=>{if(!l)return;const f=o.formatMessage(Fe.accessibleReposLoad,{details:l.message});n.danger(f)},[l,o,n]),s.jsx(ns.Provider,{value:{filters:t,onChangeFilters:a,accessibleRepos:r,accessibleReposLoading:i,accessibleReposError:l},children:e})}function Ee(){const e=F.useContext(ns);if(!e)throw new Error("useAardvarkFiltersContext must be used within AardvarkFiltersProvider");return e}const Zs=e=>{const t=e.split(/[\n,]/g).map(a=>a.trim()).filter(Boolean);return Array.from(new Set(t)).join("\n")};function ea({intl:e,label:t,placeholder:a,helper:r,clearMessage:i,value:l,onChange:n}){const[o,f]=F.useState(l),x=F.useRef(l);F.useEffect(()=>{l!==x.current&&(x.current=l,f(l))},[l]);const u=d=>{const m=d.target.value;f(m);const g=Zs(m);x.current=g,n(g)},c=()=>{x.current="",f(""),n("")};return s.jsxs("section",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-token-text-secondary text-sm font-medium",children:e.formatMessage(t)}),s.jsx("textarea",{className:"bg-token-bg-secondary text-token-text-primary border-token-border-light focus:border-token-border-strong min-h-[96px] rounded-md border px-3 py-2 text-sm focus:outline-hidden",value:o,onChange:u,placeholder:e.formatMessage(a)}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-token-text-tertiary text-xs",children:e.formatMessage(r)}),s.jsx("button",{type:"button",className:"text-token-text-tertiary text-xs underline",onClick:c,children:e.formatMessage(i)})]})]})}function ta({intl:e,label:t,options:a,selectedValues:r,onToggle:i}){return s.jsxs("section",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"text-token-text-secondary text-sm font-medium",children:e.formatMessage(t)}),s.jsx("div",{className:"border-token-border-light divide-token-border-light mt-3 overflow-hidden rounded-lg border",children:a.map(l=>{const n=r.has(l.value);return s.jsxs("label",{className:E("flex cursor-pointer items-center justify-between px-3 py-2 text-sm transition-colors",n?"bg-token-main-surface-secondary/70 text-token-text-primary":"hover:bg-token-bg-secondary"),children:[s.jsx("span",{className:"flex items-center gap-3",children:l.label}),s.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:n,onChange:()=>i(l.value)})]},l.value)})})]})}function sa(e,t,a=50,r=!0){const i=String(t!=null?t:"").trim(),l=Math.max(1,Math.min(a,500));return bs({queryKey:["aardvark","authors",e||null,i||null,l],queryFn:async()=>{const n=new Ts(Ds),o={limit:String(l)};e&&e.size>0&&(o.repo=Array.from(e).join(",")),i&&(o.q=i);const f=await n.get("/aardvark/scan-findings/list-authors",{headers:Bs(),query:o});if(f.status!==200)throw Es(f.status,f.data);return f.data},staleTime:3e4,refetchOnWindowFocus:!0,enabled:r})}function aa({intl:e,label:t,placeholder:a,loadingMessage:r,emptyMessage:i,clearMessage:l,fieldState:n}){const o=n;return s.jsxs("section",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-token-text-secondary text-sm font-medium",children:e.formatMessage(t)}),s.jsx("input",{className:"bg-token-bg-secondary text-token-text-primary border-token-border-light focus:border-token-border-strong rounded-md border px-3 py-2 text-sm focus:outline-hidden",value:o.query,onChange:f=>o.setQuery(f.target.value),placeholder:e.formatMessage(a)}),s.jsx("div",{className:"border-token-border-light max-h-48 overflow-y-auto rounded-md border",children:o.isLoading?s.jsx("div",{className:"text-token-text-tertiary px-3 py-2 text-xs",children:e.formatMessage(r)}):o.options.length===0?s.jsx("div",{className:"text-token-text-tertiary px-3 py-2 text-xs",children:e.formatMessage(i)}):o.options.map(({email:f,label:x,subtitle:u})=>s.jsxs("label",{className:E("border-token-border-subtle flex cursor-pointer items-center justify-between gap-2 border-b px-3 py-2 text-sm last:border-b-0",o.selection.has(f)?"bg-token-main-surface-secondary/60 text-token-text-primary":"hover:bg-token-bg-secondary"),children:[s.jsxs("span",{className:"flex flex-col",children:[s.jsx("span",{children:x||f}),u?s.jsx("span",{className:"text-token-text-tertiary text-xs",children:u}):null]}),s.jsx("input",{type:"checkbox",className:"h-4 w-4",checked:o.selection.has(f),onChange:()=>o.toggle(f)})]},f))}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{type:"button",className:"text-token-text-tertiary text-xs underline",onClick:o.clear,children:e.formatMessage(l)})})]})}const Wt=e=>(e!=null?e:"").trim().toLowerCase(),ra=(e,t)=>{const a=t.trim().toLowerCase();return a?e.filter(({label:r,email:i,subtitle:l})=>"".concat(r," ").concat(i," ").concat(l!=null?l:"").toLowerCase().includes(a)):e};function os({ctx:e,factory:t,items:a,isFetching:r}){var f;const i=ls(),l=(f=i==null?void 0:i.email)!=null?f:"",n=Wt(l);return{options:F.useMemo(()=>{const x=[];l&&t.selfOptionMessage&&x.push({email:l,label:e.intl.formatMessage(t.selfOptionMessage),subtitle:l});const u=Us(Fs(a.map(c=>{var k,v;const d=(k=c.email)!=null?k:void 0,m=Wt(d);if(!d||!m||m===n)return null;const g=(v=c.name)!=null?v:void 0;return{email:d,label:g||d,subtitle:g?d:void 0,_norm:m}}),Boolean),"_norm");return x.push(...u),x},[e.intl,t.selfOptionMessage,a,l,n]),isLoading:r}}const la=(e,t,a)=>{var l;const{data:r,isFetching:i}=sa(e.filters.selectedRepos,t,100,!0);return os({ctx:e,factory:a,items:(l=r==null?void 0:r.items)!=null?l:[],isFetching:i})},ia=(e,t,a)=>{var l,n;const{data:r,isFetching:i}=Ss((l=e.workspaceId)!=null?l:void 0,0,t,100);return os({ctx:e,factory:a,items:(n=r==null?void 0:r.items)!=null?n:[],isFetching:i})};function na({section:e,ctx:t}){const[a,r]=F.useState(""),i=Ns(a,300),{options:l,isLoading:n}=e.useOptionsHook(t,i,e),o={query:a,setQuery:r,options:ra(l,a),isLoading:n,clear:()=>t.setField(e.field,new Set),selection:t.draft[e.field],toggle:f=>t.toggleSetValue(e.field,f)};return s.jsx(aa,{intl:t.intl,label:e.label,placeholder:e.placeholder,loadingMessage:e.loadingMessage,emptyMessage:e.emptyMessage,clearMessage:e.clearMessage,fieldState:o})}function oa({intl:e,label:t,options:a,selectedValue:r,onSelect:i}){return s.jsxs("section",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-token-text-secondary text-sm font-medium",children:e.formatMessage(t)}),s.jsx("div",{className:"border-token-border-light divide-token-border-light mt-3 overflow-hidden rounded-lg border",children:a.map(l=>{const n=r===l.value;return s.jsxs("label",{className:E("flex cursor-pointer items-center justify-between gap-3 px-3 py-2 text-sm transition-colors",n?"bg-token-main-surface-secondary/70 text-token-text-primary":"hover:bg-token-bg-secondary"),children:[s.jsxs("span",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"font-medium",children:s.jsx(_,I({},l.label))}),l.helper?s.jsx("span",{className:"text-token-text-tertiary text-xs",children:e.formatMessage(l.helper)}):null]}),s.jsx("span",{className:E("flex h-4 w-4 shrink-0 items-center justify-center rounded-full border-2",n?"border-token-text-primary bg-token-text-primary":"border-token-border-light bg-transparent"),"aria-hidden":!0,children:n?s.jsx("span",{className:"bg-token-bg-primary block h-2 w-2 rounded-full"}):null}),s.jsx("input",{type:"radio",className:"sr-only",checked:n,onChange:()=>i(l.value)})]},l.value)})})]})}function ca({intl:e,label:t,placeholder:a,helper:r,value:i,onChange:l}){return s.jsxs("section",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-token-text-secondary text-sm font-medium",children:e.formatMessage(t)}),s.jsx("input",{className:"bg-token-bg-secondary text-token-text-primary border-token-border-light focus:border-token-border-strong rounded-md border px-3 py-2 text-sm focus:outline-hidden",value:i,onChange:n=>l(n.target.value),placeholder:e.formatMessage(a)}),s.jsx("p",{className:"text-token-text-tertiary text-xs",children:e.formatMessage(r)})]})}const at="text",rt="comma-text",$e="multiselect",ze="singleselect",De="searchable-multiselect",da=e=>Array.from(e).join("\n");function ma(e,t){switch(e.kind){case at:return t[e.field].trim().length>0;case rt:case De:case $e:return t[e.field].size>0;case ze:return e.inactiveValue!==void 0?t[e.field]!==e.inactiveValue:!0;default:return!1}}function fa(e,t,a){switch(e.kind){case at:{const r=t[e.field].trim();return r?r.length>24?"".concat(r.slice(0,24),"…"):r:null}case rt:case De:case $e:{const r=t[e.field].size;return r===0?null:a.formatMessage(e.summaryMessage,{count:r})}case ze:{const r=e.options.find(i=>i.value===t[e.field]);return r?a.formatMessage(r.label):null}default:return null}}function ua(e){"use forget";const t=se.c(44),{section:a,ctx:r}=e;switch(a.kind){case at:{const i=r.draft[a.field];let l;t[0]!==r||t[1]!==a.field?(l=o=>r.setField(a.field,o),t[0]=r,t[1]=a.field,t[2]=l):l=t[2];let n;return t[3]!==r.intl||t[4]!==a.helper||t[5]!==a.label||t[6]!==a.placeholder||t[7]!==i||t[8]!==l?(n=s.jsx(ca,{intl:r.intl,label:a.label,placeholder:a.placeholder,helper:a.helper,value:i,onChange:l}),t[3]=r.intl,t[4]=a.helper,t[5]=a.label,t[6]=a.placeholder,t[7]=i,t[8]=l,t[9]=n):n=t[9],n}case rt:{const i=r.draft[a.field];let l;t[10]!==i?(l=da(i),t[10]=i,t[11]=l):l=t[11];const n=l;let o;t[12]!==r||t[13]!==a.field?(o=x=>{const u=x?x.split("\n"):[];r.setField(a.field,new Set(u))},t[12]=r,t[13]=a.field,t[14]=o):o=t[14];let f;return t[15]!==r.intl||t[16]!==n||t[17]!==a.clearMessage||t[18]!==a.helper||t[19]!==a.label||t[20]!==a.placeholder||t[21]!==o?(f=s.jsx(ea,{intl:r.intl,label:a.label,placeholder:a.placeholder,helper:a.helper,clearMessage:a.clearMessage,value:n,onChange:o}),t[15]=r.intl,t[16]=n,t[17]=a.clearMessage,t[18]=a.helper,t[19]=a.label,t[20]=a.placeholder,t[21]=o,t[22]=f):f=t[22],f}case De:{let i;return t[23]!==r||t[24]!==a?(i=s.jsx(na,{section:a,ctx:r}),t[23]=r,t[24]=a,t[25]=i):i=t[25],i}case $e:{const i=r.draft[a.field];let l;t[26]!==r||t[27]!==a.field?(l=o=>{r.toggleSetValue(a.field,o)},t[26]=r,t[27]=a.field,t[28]=l):l=t[28];let n;return t[29]!==r.intl||t[30]!==a.label||t[31]!==a.options||t[32]!==i||t[33]!==l?(n=s.jsx(ta,{intl:r.intl,label:a.label,options:a.options,selectedValues:i,onToggle:l}),t[29]=r.intl,t[30]=a.label,t[31]=a.options,t[32]=i,t[33]=l,t[34]=n):n=t[34],n}case ze:{const i=r.draft[a.field];let l;t[35]!==r||t[36]!==a.field?(l=o=>r.setField(a.field,o),t[35]=r,t[36]=a.field,t[37]=l):l=t[37];let n;return t[38]!==r.intl||t[39]!==a.label||t[40]!==a.options||t[41]!==i||t[42]!==l?(n=s.jsx(oa,{intl:r.intl,label:a.label,options:a.options,selectedValue:i,onSelect:l}),t[38]=r.intl,t[39]=a.label,t[40]=a.options,t[41]=i,t[42]=l,t[43]=n):n=t[43],n}default:return null}}const ha=["new","triaged","in_progress","fixed","wontfix","duplicate"],xa=["critical","high","medium","low"],ga=["all","validated","unvalidated"],pa=["all","with_patch","without_patch"],R=Be({keywordLabel:{id:"aardvark.filtersPopover.keyword",defaultMessage:"Keyword"},keywordHint:{id:"aardvark.filtersPopover.keyword.hint",defaultMessage:"Matches title, summary, vulnerability text, and analysis details."},keywordPlaceholder:{id:"aardvark.filtersPopover.keyword.placeholder",defaultMessage:"Search vulnerability details…"},navSearchPlaceholder:{id:"aardvark.filtersPopover.nav.search",defaultMessage:"Search filters"},navEmpty:{id:"aardvark.filtersPopover.nav.empty",defaultMessage:"No filters match your search."},navPlaceholder:{id:"aardvark.filtersPopover.nav.placeholder",defaultMessage:"Select a filter from the list to configure it."},directoriesLabel:{id:"aardvark.filtersPopover.directories",defaultMessage:"Directories"},directoriesHint:{id:"aardvark.filtersPopover.directories.hint",defaultMessage:"Separate prefixes with commas or new lines and prefix a value with ! to exclude it. Example: services/auth/, !web/app/"},directoriesPlaceholder:{id:"aardvark.filtersPopover.directories.placeholder",defaultMessage:"services/auth/, web/app/, shared/utils/"},pathsSummary:{id:"aardvark.filtersPopover.directories.summary",defaultMessage:"{count} paths"},clearDirectories:{id:"aardvark.filtersPopover.directories.clear",defaultMessage:"Clear directories"},authorsLabel:{id:"aardvark.filtersPopover.authors",defaultMessage:"Authors"},authorsPlaceholder:{id:"aardvark.filtersPopover.authors.placeholder",defaultMessage:"Search by author email…"},authorsLoading:{id:"aardvark.filtersPopover.authors.loading",defaultMessage:"Loading authors…"},authorsEmpty:{id:"aardvark.filtersPopover.authors.empty",defaultMessage:"No matching authors"},clearAuthors:{id:"aardvark.filtersPopover.authors.clear",defaultMessage:"Clear authors"},authoredByMe:{id:"aardvark.filtersPopover.authors.me",defaultMessage:"Authored by me"},assigneesLabel:{id:"aardvark.filtersPopover.assignees",defaultMessage:"Assignees"},assigneePlaceholder:{id:"aardvark.filtersPopover.assignees.placeholder",defaultMessage:"Search assignees…"},assigneesLoading:{id:"aardvark.filtersPopover.assignees.loading",defaultMessage:"Loading assignees…"},assigneesEmpty:{id:"aardvark.filtersPopover.assignees.empty",defaultMessage:"No matching assignees"},countSummary:{id:"aardvark.filtersPopover.countSummary",defaultMessage:"{count} selected"},clearAssignees:{id:"aardvark.filtersPopover.assignees.clear",defaultMessage:"Clear assignees"},assignedToMe:{id:"aardvark.filtersPopover.assignees.me",defaultMessage:"Assigned to me"},criticalityLabel:{id:"aardvark.filtersPopover.criticality",defaultMessage:"Criticality"},statusLabel:{id:"aardvark.filtersPopover.status",defaultMessage:"Status"},validationLabel:{id:"aardvark.filtersPopover.validation",defaultMessage:"Validation"},validationValidatedDetail:{id:"aardvark.filtersPopover.validation.validated.detail",defaultMessage:"Aardvark was able to trigger the exploit in an isolated sandbox to confirm it’s real."},patchLabel:{id:"aardvark.filtersPopover.patch",defaultMessage:"Patch availability"},patchGeneratedDetail:{id:"aardvark.filtersPopover.patch.generated.detail",defaultMessage:"Shows only findings where Aardvark successfully generated a proposed patch for review."},patchAllOption:{id:"aardvark.filtersPopover.patch.all",defaultMessage:"All findings"},patchWithOption:{id:"aardvark.filtersPopover.patch.with",defaultMessage:"Patch generated"},patchWithoutOption:{id:"aardvark.filtersPopover.patch.without",defaultMessage:"No patch yet"},applyButton:{id:"aardvark.filtersPopover.apply",defaultMessage:"Apply filters"},cancelButton:{id:"aardvark.filtersPopover.cancel",defaultMessage:"Cancel"},clearFiltersButton:{id:"aardvark.filtersPopover.clear",defaultMessage:"Clear filters"}}),va={all:{id:"aardvark.filtersPopover.validation.all",defaultMessage:"All findings",description:"Radio label that keeps the validation filter unset so all findings appear."},validated:{id:"aardvark.filtersPopover.validation.validated",defaultMessage:"Validated only",description:"Radio label that filters the list to validated findings only."},unvalidated:{id:"aardvark.filtersPopover.validation.unvalidated",defaultMessage:"Unvalidated only",description:"Radio label that filters the list to unvalidated findings only."}},ya={all:R.patchAllOption,with_patch:R.patchWithOption,without_patch:R.patchWithoutOption},ut=[{kind:at,id:"keyword",label:R.keywordLabel,field:"keywordQuery",placeholder:R.keywordPlaceholder,helper:R.keywordHint},{kind:rt,id:"directories",label:R.directoriesLabel,field:"selectedPathPrefixes",placeholder:R.directoriesPlaceholder,helper:R.directoriesHint,clearMessage:R.clearDirectories,summaryMessage:R.pathsSummary},{kind:De,id:"authors",label:R.authorsLabel,field:"selectedAuthors",placeholder:R.authorsPlaceholder,loadingMessage:R.authorsLoading,emptyMessage:R.authorsEmpty,clearMessage:R.clearAuthors,selfOptionMessage:R.authoredByMe,useOptionsHook:la,summaryMessage:R.countSummary},{kind:De,id:"assignees",label:R.assigneesLabel,field:"selectedAssignees",placeholder:R.assigneePlaceholder,loadingMessage:R.assigneesLoading,emptyMessage:R.assigneesEmpty,clearMessage:R.clearAssignees,selfOptionMessage:R.assignedToMe,useOptionsHook:ia,summaryMessage:R.countSummary},{kind:$e,id:"criticalities",label:R.criticalityLabel,field:"selectedCriticalities",options:xa.map(e=>({value:e,label:s.jsx(Ye,{level:e})})),summaryMessage:R.countSummary},{kind:$e,id:"statuses",label:R.statusLabel,field:"selectedStatuses",options:ha.map(e=>({value:e,label:s.jsx(_,I({},rs[e]))})),summaryMessage:R.countSummary},{kind:ze,id:"validation",label:R.validationLabel,field:"validationFilter",options:ga.map(e=>({value:e,label:va[e],helper:e==="validated"?R.validationValidatedDetail:void 0})),inactiveValue:"all"},{kind:ze,id:"patches",label:R.patchLabel,field:"patchFilter",options:pa.map(e=>({value:e,label:ya[e],helper:e==="with_patch"?R.patchGeneratedDetail:void 0})),inactiveValue:"all"}];function ka({isOpen:e,onClose:t}){var w,C;const a=oe(),{filters:r,onChangeFilters:i}=Ee(),l=Hs(),n=l==null?void 0:l.getWorkspaceId(),o=F.useCallback(()=>{var j,M;return{keywordQuery:(j=r.keywordQuery)!=null?j:"",selectedPathPrefixes:new Set((M=r.selectedPathPrefixes)!=null?M:[]),selectedAuthors:new Set(r.selectedAuthors),selectedAssignees:new Set(r.selectedAssignees),selectedStatuses:new Set(r.selectedStatuses),selectedCriticalities:new Set(r.selectedCriticalities),validationFilter:r.validationFilter,patchFilter:r.patchFilter}},[r]),f=F.useCallback(()=>({keywordQuery:"",selectedPathPrefixes:new Set,selectedAuthors:new Set,selectedAssignees:new Set,selectedStatuses:new Set,selectedCriticalities:new Set,validationFilter:"all",patchFilter:"all"}),[]),[x,u]=F.useState(o),[c,d]=F.useState(""),[m,g]=F.useState((C=(w=ut[0])==null?void 0:w.id)!=null?C:"");F.useEffect(()=>{e&&(u(o()),d(""))},[o,e]);const k=F.useMemo(()=>{const j=c.trim().toLowerCase();return j?ut.filter(M=>a.formatMessage(M.label).toLowerCase().includes(j)):ut},[a,c]);F.useEffect(()=>{var j,M;if(k.length===0){m!==""&&g("");return}k.some(P=>P.id===m)||g((M=(j=k[0])==null?void 0:j.id)!=null?M:"")},[k,m]);const v=F.useMemo(()=>{var j,M;return(M=(j=k.find(P=>P.id===m))!=null?j:k[0])!=null?M:null},[k,m]),S=F.useCallback((j,M)=>{u(P=>J(I({},P),{[j]:M}))},[]),h=F.useCallback((j,M)=>{u(P=>{const L=new Set(P[j]);return L.has(M)?L.delete(M):L.add(M),J(I({},P),{[j]:L})})},[]),y=()=>{i(I(I({},r),x)),t()},p=()=>{u(o()),d(""),t()},b=()=>{u(f())},N={draft:x,filters:r,workspaceId:n,setField:S,toggleSetValue:h,intl:a};return s.jsxs("div",{className:"flex w-full flex-col gap-4 md:flex-row",children:[s.jsxs("div",{className:"border-token-border-subtle w-full shrink-0 border-b pe-0 pb-2 md:w-60 md:border-e md:border-b-0 md:pe-3 md:pb-0",children:[s.jsx("input",{className:"bg-token-bg-secondary text-token-text-primary border-token-border-light focus:border-token-border-strong mb-2 w-full rounded-md border px-3 py-2 text-sm focus:outline-hidden",value:c,onChange:j=>d(j.target.value),placeholder:a.formatMessage(R.navSearchPlaceholder),"aria-label":a.formatMessage(R.navSearchPlaceholder)}),s.jsx("div",{className:"flex max-h-[420px] flex-col gap-1 overflow-y-auto pe-1",children:k.length===0?s.jsx("div",{className:"text-token-text-tertiary rounded-md px-3 py-4 text-xs",children:a.formatMessage(R.navEmpty)}):k.map(j=>{const M=a.formatMessage(j.label),P=j.id===(v==null?void 0:v.id),L=fa(j,x,a),T=ma(j,x);return s.jsx("button",{type:"button",className:E("text-token-text-secondary flex flex-col rounded-md px-3 py-2 text-start text-sm transition-colors",P?"bg-token-main-surface-secondary text-token-text-primary shadow-sm":"hover:bg-token-bg-secondary"),onClick:()=>g(j.id),children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"truncate",children:M}),s.jsxs("div",{className:"flex items-center gap-2",children:[L?s.jsx("span",{className:"text-token-text-tertiary text-[11px]",children:L}):null,T?s.jsx("span",{className:"bg-token-text-secondary inline-block h-2.5 w-2.5 rounded-full","aria-hidden":!0}):null]})]})},j.id)})})]}),s.jsxs("div",{className:"flex min-h-[320px] flex-1 flex-col gap-4",children:[s.jsx("div",{className:"flex-1 overflow-y-auto pe-1",children:v?s.jsx(ua,{section:v,ctx:N}):s.jsx("div",{className:"text-token-text-tertiary text-sm",children:a.formatMessage(R.navPlaceholder)})}),s.jsxs("div",{className:"border-token-border-light flex items-center justify-end gap-3 border-t pt-3",children:[s.jsx(Oe,{color:"ghost",type:"button",onClick:b,children:a.formatMessage(R.clearFiltersButton)}),s.jsx(Oe,{color:"secondary",type:"button",onClick:p,children:a.formatMessage(R.cancelButton)}),s.jsx(Oe,{type:"button",onClick:y,children:a.formatMessage(R.applyButton)})]})]})]})}const me=Be({keyword:{id:"aardvark.filter.summary.keyword",defaultMessage:'contains "{value}"'},directories:{id:"aardvark.filter.summary.directories",defaultMessage:"{count, plural, one {# path} other {# paths}}"},authors:{id:"aardvark.filter.summary.authors",defaultMessage:"is {value}"},assignees:{id:"aardvark.filter.summary.assignees",defaultMessage:"is {value}"},statuses:{id:"aardvark.filter.summary.statuses",defaultMessage:"is {value}"},criticalities:{id:"aardvark.filter.summary.criticalities",defaultMessage:"is {value}"},validation:{id:"aardvark.filter.summary.validation",defaultMessage:"is {value}"},clearAria:{id:"aardvark.filter.summary.clear",defaultMessage:'Clear "{label}" filter chip'},clearIcon:{id:"aardvark.filter.summary.clearIcon",defaultMessage:"×"}}),xe=Be({keyword:{id:"aardvark.filter.summary.title.keyword",defaultMessage:"Keyword"},directories:{id:"aardvark.filter.summary.title.directories",defaultMessage:"Paths"},authors:{id:"aardvark.filter.summary.title.authors",defaultMessage:"Author"},assignees:{id:"aardvark.filter.summary.title.assignees",defaultMessage:"Assignee"},statuses:{id:"aardvark.filter.summary.title.statuses",defaultMessage:"Status"},criticalities:{id:"aardvark.filter.summary.title.criticalities",defaultMessage:"Criticality"},validation:{id:"aardvark.filter.summary.title.validation",defaultMessage:"Validation"},patch:{id:"aardvark.filter.summary.title.patch",defaultMessage:"Patch"}}),ba=Be({all:{id:"aardvark.filter.summary.validation.all",defaultMessage:"All findings"},validated:{id:"aardvark.filter.summary.validation.validated",defaultMessage:"Validated only"},unvalidated:{id:"aardvark.filter.summary.validation.unvalidated",defaultMessage:"Unvalidated only"}}),ja=Be({all:{id:"aardvark.filter.summary.patch.all",defaultMessage:"All findings"},with_patch:{id:"aardvark.filter.summary.patch.with_patch",defaultMessage:"With patch generated only"},without_patch:{id:"aardvark.filter.summary.patch.without_patch",defaultMessage:"Without patch generated only"}}),wa=(e,t=30)=>e.length>t?"".concat(e.slice(0,t),"…"):e,Ke=e=>e.join(", "),Ma=e=>e.charAt(0).toUpperCase()+e.slice(1);function Sa({renderLayout:e}={}){var d;const t=oe(),{filters:a,onChangeFilters:r}=Ee(),[i,l]=F.useState(!1),n=((d=a.keywordQuery)!=null?d:"").trim(),o=F.useMemo(()=>{var g,k,v,S,h,y,p,b,N,w;let m=0;return m+=(k=(g=a.selectedAuthors)==null?void 0:g.size)!=null?k:0,m+=(S=(v=a.selectedAssignees)==null?void 0:v.size)!=null?S:0,m+=(y=(h=a.selectedStatuses)==null?void 0:h.size)!=null?y:0,m+=(b=(p=a.selectedCriticalities)==null?void 0:p.size)!=null?b:0,m+=(w=(N=a.selectedPathPrefixes)==null?void 0:N.size)!=null?w:0,m+=n?1:0,m+=a.existsInHeadOnly?1:0,m+=a.validationFilter!=="all"?1:0,m+=a.patchFilter!=="all"?1:0,m+=a.recommendedOnly?1:0,m},[a,n]),f=F.useMemo(()=>{var p,b,N,w,C,j;const m=[],g=((p=a.keywordQuery)!=null?p:"").trim();g&&m.push({id:"keyword",title:t.formatMessage(xe.keyword),value:t.formatMessage(me.keyword,{value:wa(g)}),onClear:()=>r(J(I({},a),{keywordQuery:""}))});const k=Array.from((b=a.selectedPathPrefixes)!=null?b:[]);k.length>0&&m.push({id:"directories",title:t.formatMessage(xe.directories),value:t.formatMessage(me.directories,{count:k.length}),onClear:()=>r(J(I({},a),{selectedPathPrefixes:new Set}))});const v=Array.from((N=a.selectedAuthors)!=null?N:[]);v.length>0&&m.push({id:"authors",title:t.formatMessage(xe.authors),value:t.formatMessage(me.authors,{value:Ke(v)}),onClear:()=>r(J(I({},a),{selectedAuthors:new Set}))});const S=Array.from((w=a.selectedAssignees)!=null?w:[]);S.length>0&&m.push({id:"assignees",title:t.formatMessage(xe.assignees),value:t.formatMessage(me.assignees,{value:Ke(S)}),onClear:()=>r(J(I({},a),{selectedAssignees:new Set}))});const h=Array.from((C=a.selectedStatuses)!=null?C:[]);if(h.length>0){const M=h.map(P=>t.formatMessage(rs[P]));m.push({id:"statuses",title:t.formatMessage(xe.statuses),value:t.formatMessage(me.statuses,{value:Ke(M)}),onClear:()=>r(J(I({},a),{selectedStatuses:new Set}))})}const y=Array.from((j=a.selectedCriticalities)!=null?j:[]);if(y.length>0){const M=y.map(Ma);m.push({id:"criticalities",title:t.formatMessage(xe.criticalities),value:t.formatMessage(me.criticalities,{value:Ke(M)}),onClear:()=>r(J(I({},a),{selectedCriticalities:new Set}))})}return a.validationFilter!=="all"&&m.push({id:"validation",title:t.formatMessage(xe.validation),value:t.formatMessage(me.validation,{value:t.formatMessage(ba[a.validationFilter])}),onClear:()=>r(J(I({},a),{validationFilter:"all"}))}),a.patchFilter!=="all"&&m.push({id:"patch",title:t.formatMessage(xe.patch),value:t.formatMessage(ja[a.patchFilter]),onClear:()=>r(J(I({},a),{patchFilter:"all"}))}),m},[a,t,r]),x=s.jsxs(_s,{open:i,onOpenChange:l,children:[s.jsx(Cs,{asChild:!0,children:s.jsxs("button",{type:"button",className:E("border-token-border-light inline-flex h-9 items-center gap-2 rounded-md border px-3 text-sm font-medium transition-colors",o>0?"bg-token-main-surface-secondary text-token-text-primary shadow-sm":"bg-token-bg-primary text-token-text-secondary hover:bg-token-main-surface-secondary"),"aria-label":t.formatMessage({id:"aardvark.filter.dropdown.trigger",defaultMessage:"Filter findings"}),children:[s.jsx("span",{children:t.formatMessage({id:"aardvark.filter.dropdown.label",defaultMessage:"Filter"})}),o>0?s.jsx("span",{className:"bg-token-main-surface-primary/70 text-token-text-primary inline-flex items-center rounded-full px-2 text-xs font-medium",children:t.formatMessage({id:"aardvark.filter.dropdown.count",defaultMessage:"{count}"},{count:o})}):null,s.jsx(gt,{className:"icon-sm text-token-text-tertiary","aria-hidden":!0})]})}),s.jsx(Ps,{children:s.jsx(As,{side:"bottom",align:"end",sideOffset:8,collisionPadding:16,className:"border-token-border-light bg-token-bg-primary z-30 max-h-[85vh] w-[min(720px,calc(100vw-16px))] overflow-y-auto rounded-lg border p-4 shadow-2xl sm:max-h-[80vh] sm:w-[min(720px,calc(100vw-32px))]",children:s.jsx(ka,{isOpen:i,onClose:()=>l(!1)})})})]}),u=f.length>0?s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:f.map(m=>s.jsxs("div",{className:"border-token-border-light bg-token-bg-secondary/80 text-token-text-primary inline-flex items-center gap-2 rounded-full border px-2 py-1 text-xs shadow-sm",children:[s.jsx("span",{className:"text-token-text-tertiary text-[10px] font-semibold tracking-wide uppercase",children:m.title}),s.jsx("span",{className:"text-token-text-primary text-xs",children:m.value}),s.jsx("button",{type:"button",className:"text-token-text-tertiary text-sm",onClick:m.onClear,"aria-label":t.formatMessage(me.clearAria,{label:"".concat(m.title," ").concat(m.value)}),children:s.jsx("span",{"aria-hidden":"true",children:s.jsx(_,I({},me.clearIcon))})})]},m.id))}):null,c=u?s.jsx("div",{className:"mt-3",children:u}):null;return e?s.jsx(s.Fragment,{children:e({trigger:x,chips:c})}):s.jsxs("div",{className:"bg-token-bg-primary flex w-full flex-col gap-2 rounded-lg px-2 py-2",children:[s.jsx("div",{className:"flex justify-end",children:x}),c]})}function Na({variant:e="stacked"}={}){var S;const t=oe(),{filters:a,onChangeFilters:r,accessibleRepos:i,accessibleReposLoading:l}=Ee(),[n,o]=F.useState(""),f=e==="inline",x=E("flex items-center text-sm",f?"flex-wrap justify-center gap-2":"mt-4 w-full flex-col items-center gap-3"),u="flex flex-wrap items-center justify-center gap-2",d=(S=F.useMemo(()=>{var h;return Array.from((h=a.selectedRepos)!=null?h:[])},[a.selectedRepos])[0])!=null?S:"",m=F.useMemo(()=>{var y;if(!d)return"";const h=i==null?void 0:i.find(p=>p.canonical_url===d);return(y=h==null?void 0:h.label)!=null?y:d},[d,i]),g=F.useMemo(()=>{var h,y,p,b,N;if(a.recommendedOnly){if(m)return m;const w=(h=i==null?void 0:i[0])==null?void 0:h.label;return w&&w.trim().length>0?w:t.formatMessage({id:"aardvark.filter.recommended.selectRepo",defaultMessage:"Choose a repository"})}return a.selectedRepos&&a.selectedRepos.size>0?a.selectedRepos.size===1?m||t.formatMessage({id:"aardvark.filter.repo.count",defaultMessage:"{count} repos"},{count:(p=(y=a.selectedRepos)==null?void 0:y.size)!=null?p:0}):t.formatMessage({id:"aardvark.filter.repo.count",defaultMessage:"{count} repos"},{count:(N=(b=a.selectedRepos)==null?void 0:b.size)!=null?N:0}):t.formatMessage({id:"aardvark.filter.allRepos.label",defaultMessage:"All repos"})},[a.recommendedOnly,a.selectedRepos,t,m,i]),k=F.useMemo(()=>a.recommendedOnly?t.formatMessage({id:"aardvark.filter.recommended.repoLabel",defaultMessage:"Repository"}):t.formatMessage({id:"aardvark.filter.all.repoLabel",defaultMessage:"Repositories"}),[t,a.recommendedOnly]),v=f?s.jsx("span",{className:"sr-only",children:k}):s.jsx("span",{className:"text-token-text-secondary text-sm font-medium",children:k});return(i==null?void 0:i.length)===0?s.jsx("div",{className:x,children:s.jsxs("div",{className:u,children:[v,s.jsx("span",{className:"border-token-border-light text-token-text-tertiary inline-flex h-8 items-center gap-2 rounded-lg border px-3 text-sm",children:l?s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"text-token-text-tertiary h-4 w-4"}),s.jsx(_,{id:"aardvark.filter.repos.loading",defaultMessage:"Loading repositories..."})]}):s.jsx(_,{id:"aardvark.filter.repos.empty",defaultMessage:"No repositories available"})})]})}):s.jsx("div",{className:x,children:s.jsxs("div",{className:u,children:[v,s.jsxs(Vs,{triggerButton:s.jsxs("button",{type:"button",className:E("border-token-border-light inline-flex h-8 items-center gap-2 rounded-lg border px-3 text-sm transition-colors",f?"min-w-[6rem] px-2.5":"min-w-[11rem]",a.selectedRepos&&a.selectedRepos.size>0?"bg-token-main-surface-secondary text-token-text-primary shadow-sm":"bg-token-bg-primary text-token-text-secondary hover:bg-token-main-surface-secondary",f?"shadow-none":null),children:[s.jsx("span",{children:g}),s.jsx(gt,{className:"icon-sm text-token-text-tertiary","aria-hidden":!0})]}),children:[s.jsx("div",{className:"p-2.5",children:s.jsx(ft.InputItem,{autoFocus:!0,holdFocus:!0,value:n,onChange:h=>o(h.target.value),placeholder:t.formatMessage({id:"aardvark.filter.repos.search",defaultMessage:"Search repos"}),"aria-label":t.formatMessage({id:"aardvark.filter.repos.search",defaultMessage:"Search repos"})})}),a.recommendedOnly?null:s.jsx(ft.MultiSelectCheckboxItem,{checked:!(a.selectedRepos&&a.selectedRepos.size>0),onCheckedChange:()=>r(J(I({},a),{selectedRepos:new Set,selectedRepo:"all"})),children:t.formatMessage({id:"aardvark.filter.allRepos",defaultMessage:"All repos"})}),(i!=null?i:[]).filter(h=>n?"".concat(h.label," ").concat(h.canonical_url).toLowerCase().includes(n.toLowerCase()):!0).map(h=>{var y;return s.jsx(ft.MultiSelectCheckboxItem,{checked:!!((y=a.selectedRepos)!=null&&y.has(h.canonical_url)),onCheckedChange:()=>{var b,N;const p=new Set(a.selectedRepos);if(p.has(h.canonical_url)?p.delete(h.canonical_url):(a.recommendedOnly&&p.clear(),p.add(h.canonical_url)),a.recommendedOnly){if(p.size===0){const w=(N=(b=i==null?void 0:i[0])==null?void 0:b.canonical_url)!=null?N:"";w&&p.add(w)}else if(p.size>1){const[w]=Array.from(p);p.clear(),w&&p.add(w)}}r(J(I({},a),{selectedRepos:p,selectedRepo:p.size===1?Array.from(p)[0]:"all"}))},children:h.label},h.canonical_url)})]})]})})}function cs({title:e,body:t,tone:a="panel"}){const r=a==="table";return s.jsx("div",{className:E("flex w-full justify-center",!r&&"border-token-border-light bg-token-main-surface-primary ring-token-border-light/60 overflow-hidden rounded-lg border p-4 shadow ring-1 shadow-black/20 md:p-5 dark:shadow-black/60 dark:ring-white/10"),children:s.jsxs("div",{className:E("flex flex-col items-center text-center",r?"gap-2":"gap-3"),children:[s.jsx("div",{className:E("bg-token-main-surface-tertiary/70 text-token-text-tertiary flex items-center justify-center rounded-full",r?"h-10 w-10":"h-12 w-12"),children:s.jsx(Ws,{className:"icon","aria-hidden":!0})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-token-text-primary text-base font-semibold",children:e}),s.jsx("p",{className:"text-token-text-secondary text-sm leading-6",children:t})]})]})})}const ne="items-center min-h-16 px-3 py-3",fe="text-token-text-tertiary text-sm font-semibold",Qt="break-all",qt=2;function _a(){"use forget";var yt,kt,bt,jt,wt,Mt;const e=se.c(113),t=oe(),a=tt(),r=ge(),i=Te();let l;e[0]!==i.search?(l=new URLSearchParams(i.search),e[0]=i.search,e[1]=l):l=e[1];const n=l;let o;e[2]!==n?(o=((yt=n.get("limit"))!=null?yt:"").toLowerCase(),e[2]=n,e[3]=o):o=e[3];const f=o;let x;e[4]!==n?(x=n.get("cursor"),e[4]=n,e[5]=x):x=e[5];const u=x,c=new Set(["10","20","50","100"]),d=Number(f);let m;e[6]!==f||e[7]!==d?(m=c.has(f)&&Number.isFinite(d)?d:50,e[6]=f,e[7]=d,e[8]=m):m=e[8];const g=m,k=u?Number(u):NaN;let v;e[9]!==k?(v=Number.isFinite(k)?Math.max(0,k):0,e[9]=k,e[10]=v):v=e[10];const S=v,h=g;let y;e[11]!==S||e[12]!==g?(y={limit:g,cursor:S},e[11]=S,e[12]=g,e[13]=y):y=e[13];const p=Is(i.search,y);let b,N;e[14]!==p.error||e[15]!==t||e[16]!==a?(b=()=>{if(p.error){const U=t.formatMessage(Fe.findingsLoad,{details:p.error.message});a.danger(U)}},N=[p.error,t,a],e[14]=p.error,e[15]=t,e[16]=a,e[17]=b,e[18]=N):(b=e[17],N=e[18]),F.useEffect(b,N);let w;e[19]!==((kt=p.data)==null?void 0:kt.items)?(w=(jt=(bt=p.data)==null?void 0:bt.items)!=null?jt:[],e[19]=(wt=p.data)==null?void 0:wt.items,e[20]=w):w=e[20];const C=w,j=(Mt=p.data)==null?void 0:Mt.total,M=typeof j=="number"?j:C.length,P=S,L=p.isLoading,T=Math.max(1,Math.ceil(M/h)),H=Math.min(Math.max(1,Math.floor(P/h)+1),T);let V;e[21]!==C?(V=C.some(Fa),e[21]=C,e[22]=V):V=e[22];const D=V,$=D?9:8;let Z;e[23]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(Sa,{renderLayout:La}),e[23]=Z):Z=e[23];let ue;e[24]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx(O.HeaderCell,{className:E("w-10 px-4 py-3 pe-2 text-start",fe),children:s.jsx(_,{id:"aardvark.findings.number",defaultMessage:"#"})}),e[24]=ue):ue=e[24];let ie;e[25]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(O.HeaderCell,{className:E("max-w-100 px-4 py-3 ps-2 text-start",fe),children:s.jsx(_,{id:"aardvark.table.repoAndPathsHeader",defaultMessage:"Repository & paths"})}),e[25]=ie):ie=e[25];let ae;e[26]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(O.HeaderCell,{className:E("px-4 py-3",fe),children:s.jsx(_,{id:"aardvark.table.criticality",defaultMessage:"Criticality"})}),e[26]=ae):ae=e[26];let Q;e[27]!==D||e[28]!==t?(Q=D&&s.jsx(O.HeaderCell,{className:E("px-4 py-3",fe),children:s.jsx(xt,{label:t.formatMessage({id:"aardvark.table.adjustedCriticality.tooltip",defaultMessage:"Criticality after attack-path analysis and policy adjustments, when available."}),children:s.jsx("span",{children:s.jsx(_,{id:"aardvark.table.adjustedCriticality",defaultMessage:"Adjusted criticality"})})})}),e[27]=D,e[28]=t,e[29]=Q):Q=e[29];let ee;e[30]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx(O.HeaderCell,{className:E("px-4 py-3",fe),children:s.jsx(_,{id:"aardvark.table.vulnerability",defaultMessage:"Vulnerability"})}),e[30]=ee):ee=e[30];let W;e[31]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(O.HeaderCell,{className:E("px-4 py-3",fe),children:s.jsx(_,{id:"aardvark.table.statusHeader",defaultMessage:"Status"})}),e[31]=W):W=e[31];let q;e[32]===Symbol.for("react.memo_cache_sentinel")?(q=s.jsx(O.HeaderCell,{className:E("px-4 py-3",fe),children:s.jsx(_,{id:"aardvark.table.assigneeHeader",defaultMessage:"Assignee"})}),e[32]=q):q=e[32];let K;e[33]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(O.HeaderCell,{className:E("px-4 py-3",fe),children:s.jsx(_,{id:"aardvark.table.timestampsHeader",defaultMessage:"Timestamps"})}),e[33]=K):K=e[33];let G;e[34]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(O.HeaderCell,{className:E("px-4 py-3",fe)}),e[34]=G):G=e[34];let Y;e[35]!==Q?(Y=s.jsxs(O.Header,{children:[ue,ie,ae,Q,ee,W,q,K,G]}),e[35]=Q,e[36]=Y):Y=e[36];let re;e[37]!==$||e[38]!==D||e[39]!==t||e[40]!==L||e[41]!==i.search||e[42]!==r||e[43]!==C||e[44]!==P?(re=L?s.jsx(O.Row,{children:s.jsx(O.Cell,{colSpan:$,divClassName:ne,children:s.jsx("div",{className:"flex h-full w-full items-center justify-center",children:s.jsx(st,{className:"text-token-text-tertiary h-6 w-6"})})})}):C.length===0?s.jsx(O.Row,{children:s.jsx(O.Cell,{colSpan:$,divClassName:E(ne,"py-6"),children:s.jsx(cs,{tone:"table",title:s.jsx(_,{id:"aardvark.table.emptyFindings",defaultMessage:"No findings to show"}),body:s.jsx(_,{id:"aardvark.table.emptyFindings.details",defaultMessage:"When we detect potential issues in your code, they'll appear here. Try adjusting your filters or check back later."})})})}):C.map((U,te)=>{var Pt,At,Rt,Lt,Ft,Tt,Et,It,Ot,$t,zt;const de=(At=(Pt=U.hid)!=null?Pt:U.id)!=null?At:"",qe=Yt(U),ms=qe.slice(0,qt),fs=qe.length>qt,St=Xe(Xt(U)),Nt=Xe(Jt(U)),ot=Je(St),ct=Je(Nt),dt=Ze(t,St),mt=Ze(t,Nt),us=qe.length>0,hs=vt(U),xs=Zt({intl:t,signals:hs,badgeSize:"sm"}),_t=(Tt=(Ft=(Rt=U.commit_analysis)==null?void 0:Rt.title)!=null?Ft:(Lt=U.commit_analysis)==null?void 0:Lt.description)!=null?Tt:"",Re=U.commit_analysis,Ct=(Ot=(It=Re==null?void 0:Re.attack_path_final_criticality)!=null?It:(Et=Re==null?void 0:Re.attack_path_analysis)==null?void 0:Et.adjusted_criticality_final)!=null?Ot:null;return s.jsxs(O.Row,{className:"group/row hover:bg-token-bg-secondary/60 border-token-border-light min-h-14 cursor-pointer border-b text-sm transition-colors last:border-b-0",onClick:()=>{de&&r("/aardvark/findings/".concat(encodeURIComponent(de)).concat(i.search||""))},children:[s.jsx(O.Cell,{divClassName:E(ne,"text-start pe-2 text-token-text-tertiary tabular-nums"),children:P+te+1}),s.jsx(O.Cell,{divClassName:E(ne,"text-start max-w-100"),children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-token-text-primary font-medium",children:pt(($t=U.repo_url)!=null?$t:"")||t.formatMessage({id:"aardvark.findings.repo.na",defaultMessage:"N/A"})}),s.jsx("div",{children:us?s.jsx(xt,{label:qe.join("\n"),children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[ms.map(Dt=>s.jsx(et,{variant:"neutral",size:"sm",className:Qt,children:Dt},"".concat(Dt.toLowerCase(),"-").concat(te))),fs&&s.jsx(et,{variant:"neutral",size:"sm",className:Qt,children:s.jsx(_,{id:"aardvark.table.more",defaultMessage:"..."})})]})}):s.jsx("span",{className:"text-token-text-tertiary mt-1 inline-block text-xs",children:s.jsx(_,{id:"aardvark.placeholder.missing",defaultMessage:"—"})})})]})}),s.jsx(O.Cell,{divClassName:ne,children:s.jsx(Ye,{level:U.criticality})}),D&&s.jsx(O.Cell,{divClassName:ne,children:Vt(Ct)?s.jsx(Ye,{level:(zt=Vt(Ct))!=null?zt:"low"}):s.jsx("span",{className:"text-token-text-tertiary text-xs",children:s.jsx(_,{id:"aardvark.placeholder.missing",defaultMessage:"—"})})}),s.jsx(O.Cell,{divClassName:E(ne,"max-w-100"),children:s.jsxs("div",{className:"flex flex-col gap-2 text-start",children:[s.jsx("span",{className:"text-token-text-primary font-medium",title:_t,children:es(_t,140)}),xs]})}),s.jsx(O.Cell,{divClassName:E(ne,"text-start"),children:s.jsx("div",{onClick:Ra,children:s.jsx(ts,{finding:U})})}),s.jsx(O.Cell,{divClassName:E(ne,"text-start"),children:s.jsx("div",{onClick:Aa,children:s.jsx(ss,{finding:U})})}),s.jsx(O.Cell,{divClassName:E(ne,"text-start"),children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsx("span",{className:"text-token-text-tertiary text-sm font-semibold",children:s.jsx(_,I({},ht.committedHeader))}),s.jsx("span",{className:"text-token-text-primary text-sm",title:dt!=null?dt:void 0,children:ot?s.jsx(Ge,{value:ot.value,unit:ot.unit,numeric:"auto"}):s.jsx(_,{id:"aardvark.placeholder.missing",defaultMessage:"—"})})]}),s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsx("span",{className:"text-token-text-tertiary text-sm font-semibold",children:s.jsx(_,I({},ht.detectedHeader))}),s.jsx("span",{className:"text-token-text-primary text-sm",title:mt!=null?mt:void 0,children:ct?s.jsx(Ge,{value:ct.value,unit:ct.unit,numeric:"auto"}):s.jsx(_,{id:"aardvark.placeholder.missing",defaultMessage:"—"})})]})]})}),s.jsx(O.Cell,{divClassName:ne,children:s.jsxs(Gt,{to:de?"/aardvark/findings/".concat(encodeURIComponent(de)).concat(i.search||""):"#",onClick:Pa,className:E("inline-flex h-9 w-9 items-center justify-center rounded-full text-sm transition-colors",de?"text-token-text-primary hover:bg-token-main-surface-secondary":"text-token-text-tertiary pointer-events-none"),children:[s.jsx("span",{className:"sr-only",children:s.jsx(_,{id:"aardvark.table.viewButton",defaultMessage:"View"})}),s.jsx(is,{className:"icon-sm","aria-hidden":!0})]})})]},"".concat(de||"finding","-").concat(te))}),e[37]=$,e[38]=D,e[39]=t,e[40]=L,e[41]=i.search,e[42]=r,e[43]=C,e[44]=P,e[45]=re):re=e[45];let le;e[46]!==re?(le=s.jsx(O.Body,{children:re}),e[46]=re,e[47]=le):le=e[47];let X;e[48]!==Y||e[49]!==le?(X=s.jsxs(O.Root,{className:"overflow-x-auto",disableScroll:!0,children:[Y,le]}),e[48]=Y,e[49]=le,e[50]=X):X=e[50];const ce="border-token-border-light flex items-center justify-between border-t px-4 py-3 ".concat(L?"animate-pulse blur-[1px]":""),A=C.length===0?0:P+1,B=C.length===0?0:Math.min(P+C.length,M);let z;e[51]!==A||e[52]!==B||e[53]!==M?(z=s.jsx("div",{className:"text-token-text-tertiary text-xs",children:s.jsx(_,{id:"aardvark.findings.range",defaultMessage:"{from}-{to} of {total} results",values:{from:A,to:B,total:M}})}),e[51]=A,e[52]=B,e[53]=M,e[54]=z):z=e[54];let he;e[55]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx("label",{className:"text-token-text-tertiary text-xs",htmlFor:"rows-per-page",children:s.jsx(_,{id:"aardvark.pagination.rowsPerPage",defaultMessage:"Rows per page"})}),e[55]=he):he=e[55];const Ie=String(h);let pe;e[56]!==i.search||e[57]!==r?(pe=U=>{const te=new URLSearchParams(i.search);te.set("limit",U),te.set("cursor","0"),r({search:"?".concat(te.toString())},{replace:!0})},e[56]=i.search,e[57]=r,e[58]=pe):pe=e[58];let Ue;e[59]===Symbol.for("react.memo_cache_sentinel")?(Ue=[{label:"10",value:"10"},{label:"20",value:"20"},{label:"50",value:"50"},{label:"100",value:"100"}],e[59]=Ue):Ue=e[59];let ve;e[60]!==Ie||e[61]!==pe?(ve=s.jsx(Ht,{triggerId:"rows-per-page",triggerClassName:"min-w-[84px]",contentClassName:"!min-w-[84px]",value:Ie,onValueChange:pe,options:Ue}),e[60]=Ie,e[61]=pe,e[62]=ve):ve=e[62];let He;e[63]===Symbol.for("react.memo_cache_sentinel")?(He=s.jsx("label",{className:"text-token-text-tertiary text-xs",htmlFor:"page-select",children:s.jsx(_,{id:"aardvark.pagination.page",defaultMessage:"Page"})}),e[63]=He):He=e[63];const lt=String(H);let ye;e[64]!==i.search||e[65]!==r||e[66]!==T||e[67]!==h?(ye=U=>{const te=Math.min(Math.max(1,Number(U)),T),de=new URLSearchParams(i.search);de.set("cursor",String((te-1)*h)),r({search:"?".concat(de.toString())},{replace:!0})},e[64]=i.search,e[65]=r,e[66]=T,e[67]=h,e[68]=ye):ye=e[68];let ke;e[69]!==T?(ke=Array.from({length:T},Ca),e[69]=T,e[70]=ke):ke=e[70];let be;e[71]!==lt||e[72]!==ye||e[73]!==ke?(be=s.jsx(Ht,{triggerId:"page-select",triggerClassName:"min-w-[72px]",contentClassName:"!min-w-[72px]",value:lt,onValueChange:ye,options:ke}),e[71]=lt,e[72]=ye,e[73]=ke,e[74]=be):be=e[74];let je;e[75]!==T?(je=s.jsx("span",{className:"text-token-text-tertiary text-xs",children:s.jsx(_,{id:"aardvark.pagination.of",defaultMessage:"of {count}",values:{count:T}})}),e[75]=T,e[76]=je):je=e[76];let we;e[77]!==be||e[78]!==je?(we=s.jsxs(s.Fragment,{children:[He,be,je]}),e[77]=be,e[78]=je,e[79]=we):we=e[79];const it=L||H<=1;let Me;e[80]!==i.search||e[81]!==r||e[82]!==h||e[83]!==H?(Me=()=>{const U=Math.max(1,H-1),te=new URLSearchParams(i.search);te.set("cursor",String((U-1)*h)),r({search:"?".concat(te.toString())},{replace:!0})},e[80]=i.search,e[81]=r,e[82]=h,e[83]=H,e[84]=Me):Me=e[84];let Ve;e[85]===Symbol.for("react.memo_cache_sentinel")?(Ve=s.jsx(_,{id:"aardvark.pagination.prev",defaultMessage:"Previous"}),e[85]=Ve):Ve=e[85];let Se;e[86]!==it||e[87]!==Me?(Se=s.jsx(Oe,{as:"button",size:"small",color:"secondary",disabled:it,onClick:Me,children:Ve}),e[86]=it,e[87]=Me,e[88]=Se):Se=e[88];const nt=L||H>=T;let Ne;e[89]!==i.search||e[90]!==r||e[91]!==T||e[92]!==h||e[93]!==H?(Ne=()=>{const U=Math.min(T,H+1),te=new URLSearchParams(i.search);te.set("cursor",String((U-1)*h)),r({search:"?".concat(te.toString())},{replace:!0})},e[89]=i.search,e[90]=r,e[91]=T,e[92]=h,e[93]=H,e[94]=Ne):Ne=e[94];let We;e[95]===Symbol.for("react.memo_cache_sentinel")?(We=s.jsx(_,{id:"aardvark.pagination.next",defaultMessage:"Next"}),e[95]=We):We=e[95];let _e;e[96]!==nt||e[97]!==Ne?(_e=s.jsx(Oe,{as:"button",size:"small",color:"secondary",disabled:nt,onClick:Ne,children:We}),e[96]=nt,e[97]=Ne,e[98]=_e):_e=e[98];let Ce;e[99]!==Se||e[100]!==_e?(Ce=s.jsxs("div",{className:"flex items-center gap-2",children:[Se,_e]}),e[99]=Se,e[100]=_e,e[101]=Ce):Ce=e[101];let Pe;e[102]!==ve||e[103]!==we||e[104]!==Ce?(Pe=s.jsxs("div",{className:"flex items-center gap-3",children:[he,ve,we,Ce]}),e[102]=ve,e[103]=we,e[104]=Ce,e[105]=Pe):Pe=e[105];let Ae;e[106]!==ce||e[107]!==z||e[108]!==Pe?(Ae=s.jsxs("div",{className:ce,children:[z,Pe]}),e[106]=ce,e[107]=z,e[108]=Pe,e[109]=Ae):Ae=e[109];let Qe;return e[110]!==X||e[111]!==Ae?(Qe=s.jsxs("div",{className:"mx-auto w-full",children:[Z,s.jsxs("div",{className:"border-token-border-light bg-token-main-surface-primary overflow-hidden rounded-2xl border",children:[X,Ae]})]}),e[110]=X,e[111]=Ae,e[112]=Qe):Qe=e[112],Qe}function Ca(e,t){return{label:String(t+1),value:String(t+1)}}function Pa(e){return e.stopPropagation()}function Aa(e){return e.stopPropagation()}function Ra(e){return e.stopPropagation()}function La(e){const{trigger:t,chips:a}=e;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-5",children:[s.jsxs("div",{className:"mb-3 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsx(Ta,{}),s.jsx("div",{className:"flex justify-end",children:t})]}),a]})})}function Fa(e){const{hasAttackPath:t}=vt(e);return t}function Ta(){"use forget";var v,S,h,y,p;const e=se.c(28),t=oe(),a=ge(),r=Te();let i,l,n,o,f,x,u;if(e[0]!==t||e[1]!==r.search||e[2]!==a){const w=((v=new URLSearchParams(r.search).get("sort"))!=null?v:"sev_desc,date_desc").split(",").map(za).filter(Boolean),C=(S=w[0])!=null?S:"sev_desc",j=(h=w.find($a))!=null?h:"sev_desc",M=(y=w.find(Oa))!=null?y:"commit_date_desc",P=(p=w.find(Ia))!=null?p:"date_desc";let L;e[10]!==r.search||e[11]!==a?(L=(D,$)=>{const Z=new URLSearchParams(r.search);Z.set("sort","".concat(D,",").concat($)),a({search:"?".concat(Z.toString())},{replace:!0})},e[10]=r.search,e[11]=a,e[12]=L):L=e[12];const T=L,H=()=>{const $=C.startsWith("sev")&&j==="sev_desc"?"sev_asc":"sev_desc";T($,"date_desc")},V=()=>{const $=C.startsWith("commit_date")&&M==="commit_date_desc"?"commit_date_asc":"commit_date_desc";T($,"sev_desc")};u=()=>{const $=C.startsWith("date")&&P==="date_desc"?"date_asc":"date_desc";T($,"sev_desc")},f={id:"severity",label:t.formatMessage({id:"aardvark.table.criticality",defaultMessage:"Criticality"}),isActive:C.startsWith("sev"),direction:j.endsWith("_asc")?"asc":"desc",onClick:H},x={id:"commit_date",label:t.formatMessage({id:"aardvark.table.committedDateHeader",defaultMessage:"Committed date"}),isActive:C.startsWith("commit_date"),direction:M.endsWith("_asc")?"asc":"desc",onClick:V},i="detected_date",e[13]!==t?(l=t.formatMessage({id:"aardvark.table.detectedDateHeader",defaultMessage:"Detected date"}),e[13]=t,e[14]=l):l=e[14],n=C.startsWith("date"),o=P.endsWith("_asc")?"asc":"desc",e[0]=t,e[1]=r.search,e[2]=a,e[3]=i,e[4]=l,e[5]=n,e[6]=o,e[7]=f,e[8]=x,e[9]=u}else i=e[3],l=e[4],n=e[5],o=e[6],f=e[7],x=e[8],u=e[9];let c;e[15]!==i||e[16]!==l||e[17]!==n||e[18]!==o||e[19]!==u?(c={id:i,label:l,isActive:n,direction:o,onClick:u},e[15]=i,e[16]=l,e[17]=n,e[18]=o,e[19]=u,e[20]=c):c=e[20];let d;e[21]!==f||e[22]!==x||e[23]!==c?(d=[f,x,c],e[21]=f,e[22]=x,e[23]=c,e[24]=d):d=e[24];const m=d;let g;e[25]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("span",{children:s.jsx(_,{id:"aardvark.table.sortByLabel",defaultMessage:"Sort by"})}),e[25]=g):g=e[25];let k;return e[26]!==m?(k=s.jsxs("div",{className:"text-token-text-tertiary flex flex-wrap items-center gap-3 text-sm font-semibold",children:[g,s.jsx("div",{className:"flex flex-wrap gap-2 text-sm normal-case",children:m.map(Ea)})]}),e[26]=m,e[27]=k):k=e[27],k}function Ea(e){return s.jsx(Da,I({},e),e.id)}function Ia(e){return e.startsWith("date")}function Oa(e){return e.startsWith("commit_date")}function $a(e){return e.startsWith("sev")}function za(e){return e.trim()}function Da(e){"use forget";const t=se.c(13),{label:a,isActive:r,direction:i,onClick:l}=e,n=r?"border-token-border-strong bg-token-main-surface-secondary text-token-text-primary shadow-sm":"border-token-border-light text-token-text-tertiary hover:text-token-text-primary";let o;t[0]!==n?(o=E("inline-flex items-center gap-1 rounded-full border px-3 py-1 text-sm font-medium transition-colors",n),t[0]=n,t[1]=o):o=t[1];let f;t[2]!==a?(f=s.jsx("span",{children:a}),t[2]=a,t[3]=f):f=t[3];const x=i==="asc"&&"rotate-180";let u;t[4]!==x?(u=E("icon-xs transition-transform",x),t[4]=x,t[5]=u):u=t[5];let c;t[6]!==u?(c=s.jsx(gt,{className:u,"aria-hidden":!0}),t[6]=u,t[7]=c):c=t[7];let d;return t[8]!==l||t[9]!==o||t[10]!==f||t[11]!==c?(d=s.jsxs("button",{type:"button",className:o,onClick:l,children:[f,c]}),t[8]=l,t[9]=o,t[10]=f,t[11]=c,t[12]=d):d=t[12],d}const Kt=2,ds="break-all";function Ba(){"use forget";var re,le,X,ce;const e=se.c(58),t=oe(),{filters:a,accessibleRepos:r,accessibleReposLoading:i}=Ee(),l=tt(),n=Te(),o=ge();let f,x;e[0]!==n.search||e[1]!==o?(f=()=>{const A=new URLSearchParams(n.search);let B=!1;if(A.has("cursor")&&(A.delete("cursor"),B=!0),A.has("limit")&&(A.delete("limit"),B=!0),!B)return;const z=A.toString();o({search:z?"?".concat(z):""},{replace:!0})},x=[n.search,o],e[0]=n.search,e[1]=o,e[2]=f,e[3]=x):(f=e[2],x=e[3]),F.useEffect(f,x);let u;e[4]!==a.selectedRepos?(u=a.selectedRepos&&a.selectedRepos.size>0?Array.from(a.selectedRepos)[0]:null,e[4]=a.selectedRepos,e[5]=u):u=e[5];const c=u;let d;e[6]!==r||e[7]!==c?(d=c&&(le=(re=r==null?void 0:r.find(A=>A.canonical_url===c))==null?void 0:re.scan_id)!=null?le:null,e[6]=r,e[7]=c,e[8]=d):d=e[8];const m=d,{data:g,isLoading:k,error:v}=Os(m);let S,h;e[9]!==t||e[10]!==v||e[11]!==l?(S=()=>{if(v){const A=t.formatMessage(Fe.recommendedLoad,{details:v.message});l.danger(A)}},h=[t,v,l],e[9]=t,e[10]=v,e[11]=l,e[12]=S,e[13]=h):(S=e[12],h=e[13]),F.useEffect(S,h);const y=g==null?void 0:g.items;let p;e[14]!==y?(p=y!=null?y:[],e[14]=y,e[15]=p):p=e[15];const b=p,N=g==null?void 0:g.total,w=!i&&!!c&&!m;let C,j;e[16]!==t||e[17]!==w||e[18]!==l?(C=()=>{w&&l.danger(t.formatMessage(Fe.recommendedMissingScanToast))},j=[t,w,l],e[16]=t,e[17]=w,e[18]=l,e[19]=C,e[20]=j):(C=e[19],j=e[20]),F.useEffect(C,j);let M=null;if(e[21]!==b||e[22]!==M){for(const A of b){const B=A.ranking_end_time,z=typeof B=="number"?B:typeof B=="string"?Number(B):null;z==null||!Number.isFinite(z)||(M==null||z>M)&&(M=z)}e[21]=b,e[22]=M,e[23]=M}else M=e[23];const P=M;let L;e:{if(P==null){L=null;break e}const A=P*1e3;if(!Number.isFinite(A)){L=null;break e}let B,z;if(e[24]!==A?(B=new Date(A),z=Number.isNaN(B.getTime()),e[24]=A,e[25]=B,e[26]=z):(B=e[25],z=e[26]),z){L=null;break e}L=B}const T=L;let H;e:{let A;e[27]!==a.selectedRepos?(A=Array.from((X=a.selectedRepos)!=null?X:[]),e[27]=a.selectedRepos,e[28]=A):A=e[28];const[B]=A;if(!B){H="";break e}let z;e[29]!==r||e[30]!==B?(z=r==null?void 0:r.find(Ie=>Ie.canonical_url===B),e[29]=r,e[30]=B,e[31]=z):z=e[31];const he=z;H=(ce=he==null?void 0:he.label)!=null?ce:""}const V=H;let D;e[32]!==b?(D=b.slice(0,10),e[32]=b,e[33]=D):D=e[33];const $=D;let Z;e[34]!==t?(Z=t.formatMessage({id:"aardvark.recommended.heading.targetAll",defaultMessage:"all repositories"}),e[34]=t,e[35]=Z):Z=e[35];const ie=V||Z,ae=$.length;if(w){let A;return e[36]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("div",{className:"mx-auto w-full max-w-7xl px-6",children:s.jsx("div",{className:"border-token-border-light bg-token-bg-primary text-token-text-secondary flex min-h-[160px] items-center justify-center rounded-2xl border px-4 py-6 text-center text-sm leading-6",children:s.jsx(_,I({},Fe.recommendedMissingScan))})}),e[36]=A):A=e[36],A}if(i||k){let A;return e[37]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("div",{className:"mx-auto w-full max-w-7xl px-6",children:s.jsx("div",{className:"border-token-border-light bg-token-bg-primary flex min-h-[240px] items-center justify-center rounded-2xl border",children:s.jsx(st,{className:"text-token-text-tertiary h-6 w-6"})})}),e[37]=A):A=e[37],A}if($.length===0){let A;return e[38]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("div",{className:"mx-auto w-full max-w-7xl px-6",children:s.jsx(cs,{title:s.jsx(_,{id:"aardvark.recommended.empty",defaultMessage:"No recommended findings to show"}),body:s.jsx(_,{id:"aardvark.recommended.empty.help",defaultMessage:"When we generate recommended findings for your code, they'll appear here. Check back later or switch to 'All findings' to see everything."})})}),e[38]=A):A=e[38],A}let Q;e[39]!==ie?(Q=s.jsx("div",{className:"space-y-2",children:s.jsx("h3",{className:"text-token-text-primary text-xl leading-7 font-semibold",children:s.jsx(_,{id:"aardvark.recommended.heading.top",defaultMessage:"Aardvark Top {count} for {repo}",values:{count:10,repo:ie}})})}),e[39]=ie,e[40]=Q):Q=e[40];let ee;e[41]!==T?(ee=T?s.jsx("div",{className:"text-token-text-tertiary text-xs sm:text-sm",children:s.jsx(_,{id:"aardvark.recommended.updated",defaultMessage:"Updated {date} at {time}",values:{date:s.jsx(ws,{value:T,year:"numeric",month:"long",day:"numeric"}),time:s.jsx(js,{value:T,hour:"numeric",minute:"2-digit"})}})}):null,e[41]=T,e[42]=ee):ee=e[42];let W;e[43]!==Q||e[44]!==ee?(W=s.jsxs("header",{className:"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-center",children:[Q,ee]}),e[43]=Q,e[44]=ee,e[45]=W):W=e[45];let q;e[46]!==$?(q=$.map(Ua),e[46]=$,e[47]=q):q=e[47];let K;e[48]!==q?(K=s.jsx("ol",{className:"flex flex-col gap-4",children:q}),e[48]=q,e[49]=K):K=e[49];let G;e[50]!==N||e[51]!==V||e[52]!==ae?(G=s.jsx("div",{className:"text-token-text-tertiary text-xs",children:N?V?s.jsx(_,{id:"aardvark.recommended.range.forRepo",defaultMessage:"Showing top {count} findings for {repo}",values:{count:ae,repo:V}}):s.jsx(_,{id:"aardvark.recommended.range",defaultMessage:"Showing top {count} recommended findings",values:{count:ae}}):V?s.jsx(_,{id:"aardvark.recommended.range.forRepo.noTotal",defaultMessage:"Showing top {count} findings for {repo}",values:{count:ae,repo:V}}):s.jsx(_,{id:"aardvark.recommended.range.noTotal",defaultMessage:"Showing top {count} recommended findings",values:{count:ae}})}),e[50]=N,e[51]=V,e[52]=ae,e[53]=G):G=e[53];let Y;return e[54]!==W||e[55]!==K||e[56]!==G?(Y=s.jsx("div",{className:"mx-auto w-full max-w-7xl px-6",children:s.jsxs("div",{className:"flex flex-col gap-5",children:[W,K,G]})}),e[54]=W,e[55]=K,e[56]=G,e[57]=Y):Y=e[57],Y}function Ua(e,t){return s.jsx(Ha,{finding:e,index:t,baseIndex:0},"".concat(e.hid,"-").concat(t))}function Ha(e){"use forget";var H,V,D,$,Z,ue,ie,ae,Q;const t=se.c(70),{finding:a,index:r,baseIndex:i}=e,l=oe(),n=ge(),o=Te(),f=(V=(H=a.hid)!=null?H:a.id)!=null?V:"";let x;t[0]!==a.repo_url||t[1]!==l?(x=pt((D=a.repo_url)!=null?D:"")||l.formatMessage({id:"aardvark.findings.repo.na",defaultMessage:"N/A"}),t[0]=a.repo_url,t[1]=l,t[2]=x):x=t[2];const u=x;let c,d,m,g,k,v,S,h,y,p,b,N,w,C,j;if(t[3]!==i||t[4]!==f||t[5]!==a||t[6]!==r||t[7]!==l||t[8]!==o.search||t[9]!==n){j=(ie=(ue=($=a.commit_analysis)==null?void 0:$.title)!=null?ue:(Z=a.commit_analysis)==null?void 0:Z.description)!=null?ie:l.formatMessage({id:"aardvark.recommended.missingTitle",defaultMessage:"Untitled finding"});const ee=(Q=(ae=a.commit_analysis)==null?void 0:ae.description)!=null?Q:"",W=typeof a.ranking_reason=="string"?a.ranking_reason:void 0;let q;t[25]!==ee||t[26]!==W?(q=W&&W.trim().length>0?W:ee,t[25]=ee,t[26]=W,t[27]=q):q=t[27],b=q;let K;t[28]!==a?(K=Yt(a),t[28]=a,t[29]=K):K=t[29],S=K;let G;if(t[30]!==a||t[31]!==l){const X=Xe(Xt(a)),ce=Xe(Jt(a));c=Je(X),m=Je(ce),d=Ze(l,X),G=Ze(l,ce),t[30]=a,t[31]=l,t[32]=c,t[33]=d,t[34]=m,t[35]=G}else c=t[32],d=t[33],m=t[34],G=t[35];g=G,h=i+r+1;let Y;t[36]!==a?(Y=vt(a),t[36]=a,t[37]=Y):Y=t[37],p=Y;let re;t[38]!==f||t[39]!==o.search||t[40]!==n?(re=()=>{f&&n("/aardvark/findings/".concat(encodeURIComponent(f)).concat(o.search||""))},t[38]=f,t[39]=o.search,t[40]=n,t[41]=re):re=t[41],v=re;let le;t[42]!==v?(le=X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),v())},t[42]=v,t[43]=le):le=t[43],k=le,y=o.search||"",N="button",w=0,C=l.formatMessage({id:"aardvark.recommended.card.ariaLabel",defaultMessage:"View details for {title}"},{title:j}),t[3]=i,t[4]=f,t[5]=a,t[6]=r,t[7]=l,t[8]=o.search,t[9]=n,t[10]=c,t[11]=d,t[12]=m,t[13]=g,t[14]=k,t[15]=v,t[16]=S,t[17]=h,t[18]=y,t[19]=p,t[20]=b,t[21]=N,t[22]=w,t[23]=C,t[24]=j}else c=t[10],d=t[11],m=t[12],g=t[13],k=t[14],v=t[15],S=t[16],h=t[17],y=t[18],p=t[19],b=t[20],N=t[21],w=t[22],C=t[23],j=t[24];let M;t[44]!==c||t[45]!==d||t[46]!==m||t[47]!==g||t[48]!==a.criticality||t[49]!==S||t[50]!==h||t[51]!==u||t[52]!==p||t[53]!==b||t[54]!==j?(M=s.jsx(Va,{rank:h,title:j,summary:b,repoName:u,criticality:a.criticality,pathPrefixes:S,committedRelative:c,committedTooltip:d,detectedRelative:m,detectedTooltip:g,signals:p}),t[44]=c,t[45]=d,t[46]=m,t[47]=g,t[48]=a.criticality,t[49]=S,t[50]=h,t[51]=u,t[52]=p,t[53]=b,t[54]=j,t[55]=M):M=t[55];let P;t[56]!==f||t[57]!==a||t[58]!==y?(P=s.jsx(qa,{finding:a,detailId:f,search:y}),t[56]=f,t[57]=a,t[58]=y,t[59]=P):P=t[59];let L;t[60]!==M||t[61]!==P?(L=s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start",children:[M,P]}),t[60]=M,t[61]=P,t[62]=L):L=t[62];let T;return t[63]!==k||t[64]!==v||t[65]!==N||t[66]!==w||t[67]!==C||t[68]!==L?(T=s.jsx("li",{children:s.jsx("article",{role:N,tabIndex:w,"aria-label":C,onClick:v,onKeyDown:k,className:"border-token-border-light/70 bg-token-main-surface-secondary/40 hover:border-token-border-strong hover:bg-token-main-surface-tertiary focus-visible:border-token-border-strong focus-visible:ring-token-border-strong dark:bg-token-main-surface-secondary/70 group/card flex cursor-pointer flex-col gap-4 rounded-2xl border px-4 py-4 shadow-md transition-all hover:-translate-y-0.5 focus-visible:ring-2 focus-visible:outline-none",children:L})}),t[63]=k,t[64]=v,t[65]=N,t[66]=w,t[67]=C,t[68]=L,t[69]=T):T=t[69],T}function Va(e){"use forget";const t=se.c(29),{rank:a,title:r,summary:i,repoName:l,criticality:n,pathPrefixes:o,committedRelative:f,committedTooltip:x,detectedRelative:u,detectedTooltip:c,signals:d}=e,m=oe();let g;t[0]!==m||t[1]!==d?(g=Zt({intl:m,signals:d,badgeSize:"sm"}),t[0]=m,t[1]=d,t[2]=g):g=t[2];const k=g;let v;t[3]!==a?(v=s.jsx("div",{className:"bg-token-main-surface-secondary text-token-text-primary border-token-border-light flex h-9 w-9 shrink-0 items-center justify-center rounded-full border text-sm font-semibold",children:a}),t[3]=a,t[4]=v):v=t[4];let S;t[5]!==n?(S=s.jsx(Ye,{level:n}),t[5]=n,t[6]=S):S=t[6];let h;t[7]!==r?(h=s.jsx("p",{className:"text-token-text-primary text-lg leading-6 font-semibold",children:r}),t[7]=r,t[8]=h):h=t[8];let y;t[9]!==S||t[10]!==h?(y=s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[S,h]}),t[9]=S,t[10]=h,t[11]=y):y=t[11];let p;t[12]!==i?(p=i?s.jsx("p",{className:"text-token-text-secondary text-sm leading-6",children:es(i,260)}):null,t[12]=i,t[13]=p):p=t[13];let b;t[14]!==f||t[15]!==x||t[16]!==u||t[17]!==c||t[18]!==o||t[19]!==l?(b=s.jsx(Wa,{repoName:l,pathPrefixes:o,committedRelative:f,committedTooltip:x,detectedRelative:u,detectedTooltip:c}),t[14]=f,t[15]=x,t[16]=u,t[17]=c,t[18]=o,t[19]=l,t[20]=b):b=t[20];let N;t[21]!==k||t[22]!==y||t[23]!==p||t[24]!==b?(N=s.jsxs("div",{className:"min-w-0 flex-1 space-y-3",children:[y,p,b,k]}),t[21]=k,t[22]=y,t[23]=p,t[24]=b,t[25]=N):N=t[25];let w;return t[26]!==v||t[27]!==N?(w=s.jsxs("div",{className:"flex flex-1 gap-4",children:[v,N]}),t[26]=v,t[27]=N,t[28]=w):w=t[28],w}function Wa(e){"use forget";const t=se.c(37),{repoName:a,pathPrefixes:r,committedRelative:i,committedTooltip:l,detectedRelative:n,detectedTooltip:o}=e;let f,x,u,c,d,m;if(t[0]!==r||t[1]!==a){const j=r.slice(0,Kt),M=r.length>Kt,P=r.length>0;d="mt-1 flex flex-wrap items-center gap-x-6 gap-y-2 align-middle text-xs";let L;t[8]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("dt",{className:"text-token-text-tertiary",children:s.jsx(_,{id:"aardvark.recommended.meta.repo",defaultMessage:"Repository"})}),t[8]=L):L=t[8],t[9]!==a?(m=s.jsxs("div",{className:"flex gap-1",children:[L,s.jsx("dd",{className:"text-token-text-primary",children:a})]}),t[9]=a,t[10]=m):m=t[10],u="flex items-center gap-1 align-middle",t[11]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("dt",{className:"text-token-text-tertiary",children:s.jsx(_,{id:"aardvark.recommended.meta.paths",defaultMessage:"Paths"})}),t[11]=c):c=t[11],f="text-token-text-primary",x=P?s.jsx(xt,{label:r.join("\n"),children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[j.map(Qa),M?s.jsx(et,{variant:"neutral",size:"sm",className:ds,children:s.jsx(_,{id:"aardvark.table.more",defaultMessage:"..."})}):null]})}):s.jsx(_,{id:"aardvark.placeholder.missing",defaultMessage:"—"}),t[0]=r,t[1]=a,t[2]=f,t[3]=x,t[4]=u,t[5]=c,t[6]=d,t[7]=m}else f=t[2],x=t[3],u=t[4],c=t[5],d=t[6],m=t[7];let g;t[12]!==f||t[13]!==x?(g=s.jsx("dd",{className:f,children:x}),t[12]=f,t[13]=x,t[14]=g):g=t[14];let k;t[15]!==u||t[16]!==c||t[17]!==g?(k=s.jsxs("div",{className:u,children:[c,g]}),t[15]=u,t[16]=c,t[17]=g,t[18]=k):k=t[18];let v;t[19]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("dt",{className:"text-token-text-tertiary",children:s.jsx(_,I({},ht.committedHeader))}),t[19]=v):v=t[19];const S=l!=null?l:void 0;let h;t[20]!==i?(h=i?s.jsx(Ge,{value:i.value,unit:i.unit,numeric:"auto"}):s.jsx(_,{id:"aardvark.placeholder.missing",defaultMessage:"—"}),t[20]=i,t[21]=h):h=t[21];let y;t[22]!==S||t[23]!==h?(y=s.jsxs("div",{className:"flex gap-1",children:[v,s.jsx("dd",{className:"text-token-text-primary",title:S,children:h})]}),t[22]=S,t[23]=h,t[24]=y):y=t[24];let p;t[25]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("dt",{className:"text-token-text-tertiary",children:s.jsx(_,{id:"aardvark.recommended.meta.detected",defaultMessage:"Detected"})}),t[25]=p):p=t[25];const b=o!=null?o:void 0;let N;t[26]!==n?(N=n?s.jsx(Ge,{value:n.value,unit:n.unit,numeric:"auto"}):s.jsx(_,{id:"aardvark.placeholder.missing",defaultMessage:"—"}),t[26]=n,t[27]=N):N=t[27];let w;t[28]!==b||t[29]!==N?(w=s.jsxs("div",{className:"flex gap-1",children:[p,s.jsx("dd",{className:"text-token-text-primary",title:b,children:N})]}),t[28]=b,t[29]=N,t[30]=w):w=t[30];let C;return t[31]!==y||t[32]!==w||t[33]!==d||t[34]!==m||t[35]!==k?(C=s.jsxs("dl",{className:d,children:[m,k,y,w]}),t[31]=y,t[32]=w,t[33]=d,t[34]=m,t[35]=k,t[36]=C):C=t[36],C}function Qa(e,t){return s.jsx(et,{variant:"neutral",size:"sm",className:ds,children:e},"".concat(e.toLowerCase(),"-").concat(t))}function qa(e){"use forget";const t=se.c(15),{finding:a,detailId:r,search:i}=e;let l;t[0]!==a?(l=s.jsx("div",{onClick:Ya,children:s.jsx(ts,{finding:a})}),t[0]=a,t[1]=l):l=t[1];let n;t[2]!==a?(n=s.jsx("div",{onClick:Ga,children:s.jsx(ss,{finding:a})}),t[2]=a,t[3]=n):n=t[3];let o;t[4]!==l||t[5]!==n?(o=s.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:justify-end",children:[l,n]}),t[4]=l,t[5]=n,t[6]=o):o=t[6];const f=r?"/aardvark/findings/".concat(encodeURIComponent(r)).concat(i):"#",x="inline-flex h-9 w-9 items-center justify-center rounded-full text-sm transition-colors ".concat(r?"text-token-text-primary hover:bg-token-main-surface-secondary":"text-token-text-tertiary pointer-events-none");let u,c;t[7]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("span",{className:"sr-only",children:s.jsx(_,{id:"aardvark.table.viewButton",defaultMessage:"View"})}),c=s.jsx(is,{className:"icon-sm","aria-hidden":!0}),t[7]=u,t[8]=c):(u=t[7],c=t[8]);let d;t[9]!==f||t[10]!==x?(d=s.jsx("div",{className:"flex flex-wrap items-center gap-2 lg:justify-end",children:s.jsxs(Gt,{to:f,onClick:Ka,className:x,children:[u,c]})}),t[9]=f,t[10]=x,t[11]=d):d=t[11];let m;return t[12]!==o||t[13]!==d?(m=s.jsxs("div",{className:"flex w-full flex-col gap-3 lg:max-w-[260px] lg:items-end",children:[o,d]}),t[12]=o,t[13]=d,t[14]=m):m=t[14],m}function Ka(e){return e.stopPropagation()}function Ga(e){return e.stopPropagation()}function Ya(e){return e.stopPropagation()}function Xa(){"use forget";var h;const e=se.c(20),t=Te(),a=ge();let r;e[0]!==t.search?(r=new URLSearchParams(t.search),e[0]=t.search,e[1]=r):r=e[1];const i=r;let l;e[2]!==i?(l=i.get("recommended"),e[2]=i,e[3]=l):l=e[3];const n=l,o=n===null?!0:n==="true";let f;if(e[4]!==t.search){const y=new URLSearchParams(t.search),p=["repo","status","criticality","assignee","author","validated","path_prefix","q"],b={};for(const N of p)b[N]=(h=y.get(N))!=null?h:"";f=JSON.stringify(b),e[4]=t.search,e[5]=f}else f=e[5];const x=f,u=F.useRef(x);let c,d;e[6]!==x||e[7]!==t.search||e[8]!==a||e[9]!==i?(c=()=>{if(u.current!==x){const y=new URLSearchParams(t.search);y.set("cursor","0"),y.toString()!==i.toString()&&a({search:"?".concat(y.toString())},{replace:!0})}u.current=x},d=[x,a,t.search,i],e[6]=x,e[7]=t.search,e[8]=a,e[9]=i,e[10]=c,e[11]=d):(c=e[10],d=e[11]),F.useEffect(c,d);let m,g;e[12]!==t.search||e[13]!==a?(m=()=>{const y=new URLSearchParams(t.search),p=y.get("finding");if(!p)return;y.delete("finding");const b=y.toString(),N=b?"?".concat(b):"";a("/aardvark/findings/".concat(encodeURIComponent(p)).concat(N),{replace:!0})},g=[t.search,a],e[12]=t.search,e[13]=a,e[14]=m,e[15]=g):(m=e[14],g=e[15]),F.useEffect(m,g);let k;e[16]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(Ja,{}),e[16]=k):k=e[16];let v;e[17]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs("div",{className:"mb-8 flex flex-col items-center gap-3",children:[k,s.jsx("div",{className:"text-token-text-secondary mx-auto flex w-full max-w-3xl flex-col items-center gap-1 text-center text-sm leading-6",children:s.jsx(Za,{})})]}),e[17]=v):v=e[17];let S;return e[18]!==o?(S=s.jsx("div",{children:s.jsx(Js,{children:s.jsxs("div",{className:"mx-auto w-full",children:[v,s.jsx("div",{children:o?s.jsx(Ba,{}):s.jsx(_a,{})})]})})}),e[18]=o,e[19]=S):S=e[19],S}function Ja(){"use forget";const e=se.c(6),{filters:t}=Ee();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(er,{}),e[0]=a):a=e[0];const r=t.recommendedOnly?"recommended":"other";let i;e[1]!==r?(i=s.jsx("span",{className:"flex items-center gap-1 font-medium whitespace-nowrap",children:s.jsx(_,{id:"aardvark.findings.inlineRepoLabel",defaultMessage:"{mode, select, recommended {for repository} other {for repositories}}",values:{mode:r}})}),e[1]=r,e[2]=i):i=e[2];let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(Na,{variant:"inline"}),e[3]=l):l=e[3];let n;return e[4]!==i?(n=s.jsxs("div",{className:"flex w-full flex-wrap items-center justify-center gap-3",children:[a,s.jsxs("div",{className:"text-token-text-secondary bg-token-bg-primary inline-flex flex-wrap items-center gap-2 py-2 text-sm",children:[i,l]})]}),e[4]=i,e[5]=n):n=e[5],n}const Za=()=>s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Rs,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),s.jsx("span",{children:s.jsx(_,{id:"aardvark.findings.configured.notice",defaultMessage:"Only showing findings from repositories you can access and have connected. View all {link}.",values:{link:s.jsx("a",{href:"/aardvark/scans#connected-repos",className:"underline underline-offset-2",target:"_blank",rel:"noreferrer",children:s.jsx(_,{id:"aardvark.findings.configured.link",defaultMessage:"connected repos"})})}})})]});function er(){"use forget";const e=se.c(25),{filters:t,onChangeFilters:a,accessibleRepos:r}=Ee();let i;e[0]!==r||e[1]!==t||e[2]!==a?(i=p=>{var w,C;if(p===t.recommendedOnly)return;let b=new Set(t.selectedRepos);if(p){const j=(C=(w=r==null?void 0:r[0])==null?void 0:w.canonical_url)!=null?C:"";if(b.size===0)j&&(b=new Set([j]));else if(b.size>1){const[M]=Array.from(b),P=M&&M.trim().length>0?M:j;b=P&&P.trim().length>0?new Set([P]):new Set}else{const[M]=Array.from(b);M&&!(r!=null&&r.some(P=>P.canonical_url===M))&&j&&(b=new Set([j]))}}const N=p?J(I({},t),{selectedCriticalities:new Set,selectedStatuses:new Set,selectedPathPrefixes:new Set,selectedAssignees:new Set,selectedAuthors:new Set,keywordQuery:"",validationFilter:"all"}):t;a(J(I({},N),{recommendedOnly:p,selectedRepos:b,selectedRepo:b.size===1?Array.from(b)[0]:"all"}))},e[0]=r,e[1]=t,e[2]=a,e[3]=i):i=e[3];const l=i,n=t.recommendedOnly?"bg-token-main-surface-secondary text-token-text-primary":"bg-token-bg-primary text-token-text-secondary hover:bg-token-main-surface-tertiary hover:text-token-text-primary";let o;e[4]!==n?(o=E("inline-flex min-w-[9.5rem] items-center justify-center rounded-lg border border-token-border-light px-5 py-2 text-sm font-medium ring-1 ring-token-border-light/60 shadow shadow-black/20 transition-colors transition-shadow focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-token-outline-primary dark:ring-white/10 dark:shadow-black/60",n),e[4]=n,e[5]=o):o=e[5];const f=o,x=t.recommendedOnly?"bg-token-bg-primary text-token-text-secondary hover:bg-token-main-surface-tertiary hover:text-token-text-primary":"bg-token-main-surface-secondary text-token-text-primary";let u;e[6]!==x?(u=E("inline-flex min-w-[9.5rem] items-center justify-center rounded-lg border border-token-border-light px-5 py-2 text-sm font-medium ring-1 ring-token-border-light/60 shadow shadow-black/20 transition-colors transition-shadow focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-token-outline-primary dark:ring-white/10 dark:shadow-black/60",x),e[6]=x,e[7]=u):u=e[7];const c=u;let d;e[8]!==l?(d=()=>l(!0),e[8]=l,e[9]=d):d=e[9];let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(_,{id:"aardvark.filter.recommended",defaultMessage:"Recommended findings"}),e[10]=m):m=e[10];let g;e[11]!==t.recommendedOnly||e[12]!==f||e[13]!==d?(g=s.jsx("button",{type:"button","aria-pressed":t.recommendedOnly,className:f,onClick:d,children:m}),e[11]=t.recommendedOnly,e[12]=f,e[13]=d,e[14]=g):g=e[14];const k=!t.recommendedOnly;let v;e[15]!==l?(v=()=>l(!1),e[15]=l,e[16]=v):v=e[16];let S;e[17]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(_,{id:"aardvark.filter.allFindings",defaultMessage:"All findings"}),e[17]=S):S=e[17];let h;e[18]!==c||e[19]!==k||e[20]!==v?(h=s.jsx("button",{type:"button","aria-pressed":k,className:c,onClick:v,children:S}),e[18]=c,e[19]=k,e[20]=v,e[21]=h):h=e[21];let y;return e[22]!==h||e[23]!==g?(y=s.jsxs("div",{className:"inline-flex items-center gap-2",children:[g,h]}),e[22]=h,e[23]=g,e[24]=y):y=e[24],y}function tr(){"use forget";var m;const e=se.c(12),t=ge(),a=oe(),r=tt(),{data:i,isLoading:l,error:n}=as(),o=!!((m=i==null?void 0:i.items)!=null&&m.length&&i.items.length>0);let f,x;e[0]!==n||e[1]!==a||e[2]!==r?(f=()=>{if(!n)return;const g=$s(n),k=a.formatMessage(Fe.accessibleReposLoad,{details:g});r.danger(k)},x=[n,a,r],e[0]=n,e[1]=a,e[2]=r,e[3]=f,e[4]=x):(f=e[3],x=e[4]),F.useEffect(f,x);let u,c;if(e[5]!==l||e[6]!==o||e[7]!==t?(u=()=>{!l&&!o&&t("/aardvark/scans",{replace:!0})},c=[l,o,t],e[5]=l,e[6]=o,e[7]=t,e[8]=u,e[9]=c):(u=e[8],c=e[9]),F.useEffect(u,c),l){let g;return e[10]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("div",{className:"flex h-40 items-center justify-center",children:s.jsx(st,{className:"text-token-text-tertiary h-6 w-6"})}),e[10]=g):g=e[10],g}if(!l&&!o)return null;let d;return e[11]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("div",{className:"w-full px-4 pb-6",children:s.jsx(Xa,{})}),e[11]=d):d=e[11],d}function sr(){"use forget";const e=se.c(2),t=Qs(),a=Ls(t),r=qs();if(!a)return null;let i;return e[0]!==r?(i=s.jsx(ar,I({},r)),e[0]=r,e[1]=i):i=e[1],i}function ar(e){"use forget";const t=se.c(1);let a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(Ys,{children:s.jsx(tr,{})}),t[0]=a):a=t[0],a}const Fr=Ms(function(){return s.jsx(sr,{})});export{Fr as default};
//# sourceMappingURL=mm2c10yc0bj19y66.js.map

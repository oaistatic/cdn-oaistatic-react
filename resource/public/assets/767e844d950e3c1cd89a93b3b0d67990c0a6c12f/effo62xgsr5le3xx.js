var F=Object.defineProperty;var f=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var g=(o,s,e)=>s in o?F(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e,r=(o,s)=>{for(var e in s||(s={}))v.call(s,e)&&g(o,e,s[e]);if(f)for(var e of f(s))w.call(s,e)&&g(o,e,s[e]);return o};import{h as z,r as m,u as T,j as t,M as x}from"./mw35uwhq4g8r9eam.js";import{u as b,al as E,H as S,hq as q,d as B,fC as O,aB as A,fB as l,aA as I,qx as N,cw as P,h3 as Q}from"./d0xa318sl7ywi0za.js";import{S as R}from"./cso97771s1xclnnu.js";import"./gl4f6lge29au0ljx.js";import"./g2euln7v5pbm31qa.js";import"./iio0zgk2sqlxbcjy.js";import"./m89x2zftpo6hrypr.js";function U({gizmo:o,onClose:s,project:e}){var y;const h=z(),c=m.useRef(null),C=m.useCallback(()=>{var a;(a=c.current)==null||a.openFileDialog()},[c]),p=b(),n=E(p),u=T(),{data:d}=S(o.gizmo.id),i=d!=null?d:o,{canEdit:j}=q(i),M=B(()=>{var a;return(a=e==null?void 0:e.filesCount$())!=null?a:0});return m.useEffect(()=>{u.invalidateQueries({queryKey:O(u,i.gizmo.id).queryKey})},[i.gizmo.id,u]),t.jsx(t.Fragment,{children:t.jsx(A,{testId:"modal-project-files",className:"min-h-72 max-w-[820px]",isOpen:!0,showCloseButton:!0,hideSeparator:!0,noPadding:!0,size:"custom",type:"success",headerAccessory:j?t.jsx(I,{color:"secondary",onClick:C,disabled:(y=n&&M>=N(p,n.planType))!=null?y:!1,children:t.jsx(x,r({},l.addFilesButtonLabel))}):t.jsx(P,{label:h.formatMessage(l.viewOnlyCustomInstructionsModalHeaderTooltip),side:"left",align:"center",children:t.jsxs("div",{className:"text-token-text-tertiary flex flex-row items-center gap-1.5 text-sm",children:[t.jsx(Q,{className:"icon"}),t.jsx(x,r({},l.viewOnlyCustomInstructionsModalHeaderLabel))]})}),title:t.jsx(x,r({},l.projectFilesModalTitle)),onClose:()=>{s()},children:t.jsx("div",{className:"grid min-h-[50dvh] grow overflow-y-auto pt-0",children:n&&t.jsx(R,{ref:c,gizmo:i,accountPlanType:n.planType})})})})}export{U as ProjectFileModal};
//# sourceMappingURL=effo62xgsr5le3xx.js.map

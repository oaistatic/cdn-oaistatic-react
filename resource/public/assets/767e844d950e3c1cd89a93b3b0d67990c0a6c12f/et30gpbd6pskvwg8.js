import{h as u,d as C,r as x,j as e,M as i}from"./mw35uwhq4g8r9eam.js";import{K as b,cq as j}from"./g2euln7v5pbm31qa.js";import{u as y,jh as R,d as c,fg as v,dv as w,aB as E,dp as d}from"./d0xa318sl7ywi0za.js";function D({title:t,memberCount:o,handleDeleteAndClose:a,onClose:n}){"use no forget";const s=u();return e.jsx(E,{testId:"modal-delete-group-chat-confirmation",isOpen:!0,onClose:()=>n(),type:"danger",title:s.formatMessage({id:"GH5Dwv",defaultMessage:"Delete group chat?"}),primaryButton:e.jsx(d.Button,{title:s.formatMessage({id:"mf2uvk",defaultMessage:"Delete"}),color:"danger",onClick:()=>{a()},"data-testid":"delete-group-chat-confirm-button"}),secondaryButton:e.jsx(d.Button,{title:s.formatMessage({id:"QFpPhw",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>n()}),children:o===1?e.jsx(i,{id:"a/tRVb",defaultMessage:"This will delete {title}. Youâ€™ll no longer see the chat history, and no one else will be able to join.",values:{title:e.jsx("span",{className:"font-medium",children:t})}}):e.jsx(i,{id:"0esR03",defaultMessage:"This will delete {title} for all {memberCount} members. You and {memberCountExcludingCurrentUser, plural, one {the other member} other {the other # members}} will no longer see the chat history, and no one else will be able to join.",values:{title:e.jsx("span",{className:"font-medium",children:t}),memberCount:o,memberCountExcludingCurrentUser:o-1}})})}const F=({room:t,onClose:o})=>{"use no forget";const a=y(),n=b(a),s=u(),m=R(a),g=C(),f=c(()=>t.name$()),h=j()===t.id,r=x.useRef(!1),p=c(()=>t.members$().length);return e.jsx(D,{title:f,memberCount:p,handleDeleteAndClose:async()=>{var l;if(!r.current)try{r.current=!0,await n.deleteRoom$(t.id),h&&g("/"),o()}catch(M){m.danger((l=v(M))!=null?l:s.formatMessage(w.somethingWentWrong))}finally{r.current=!1}},onClose:o})};export{F as CalpicoDeleteChatConfirmationModalContainer};
//# sourceMappingURL=et30gpbd6pskvwg8.js.map

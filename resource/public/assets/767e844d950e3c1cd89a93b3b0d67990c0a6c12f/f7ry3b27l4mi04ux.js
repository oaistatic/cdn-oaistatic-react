var Rn=Object.defineProperty,Pn=Object.defineProperties;var An=Object.getOwnPropertyDescriptors;var tn=Object.getOwnPropertySymbols;var Ln=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable;var sn=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t);var nn=(t,e,n)=>e in t?Rn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||(e={}))Ln.call(e,n)&&nn(t,n,e[n]);if(tn)for(var n of tn(e))On.call(e,n)&&nn(t,n,e[n]);return t},he=(t,e)=>Pn(t,An(e));var rn=(t,e,n)=>(e=t[sn("asyncIterator")])?e.call(t):(t=t[sn("iterator")](),e={},n=(r,o)=>(o=t[r])&&(e[r]=a=>new Promise((c,u,l)=>(a=o.call(t,a),l=a.done,Promise.resolve(a.value).then(i=>c({value:i,done:l}),u)))),n("next"),n("return"),e);import{h as Ee,r as g,j as s,M as an,c as Se,o as Fn,u as Bn}from"./mw35uwhq4g8r9eam.js";import{u as ys,bo as gn,cF as de,fK as Un,f7 as $n,h5 as zn,sM as qn,rr as bs,bd as Us,W as pn,b3 as _s,eu as Jn,x as Hn,y as Gn,_ as hs,uJ as Wn,aA as Vn,oH as Qn,Q as bn,T as Kn,ay as hn,a9 as xn,r as Yn,dz as Zn,cD as Xn,jg as er,J as yn,aw as xs,e4 as tr,aB as sr}from"./d0xa318sl7ywi0za.js";import{S as nr}from"./f89v9mtyvakgmoul.js";import{ik as _n,qQ as rr,m4 as ar,fV as or,pC as ir,lC as lr,l as cr,f0 as dr,lB as ur,f1 as mr,qR as fr,iz as gr,dZ as Fs,eS as pr,eT as br,eU as hr,eV as xr,c_ as yr,iw as _r,qS as Sr,ag as vr,ah as jr,iv as Cr,qT as kr,b$ as Mr,qU as Er,aG as wr,dT as Nr,dU as Tr,bO as Dr,aJ as Ir}from"./g2euln7v5pbm31qa.js";import{P as Rr}from"./h1bi47sw480gxt9x.js";import{D as Pr}from"./of0vtq1gcmd3mc3z.js";import{C as Ar}from"./5uqv5sdajcdsdc3v.js";import{C as Sn}from"./ddina39kz3r81pp7.js";import{S as Lr}from"./glvtvsqozo9e3cjo.js";import{E as on}from"./mnzn4aq9ma1fy9cn.js";import"./nwl9s9haealsfe5d.js";import"./la79eh1q1qxrfcxi.js";import"./i693kfbch8smq86y.js";import"./gy1lpvuoewmzh42c.js";import"./iknugp00locgtve5.js";import"./h1em0bjkpkjv8ykw.js";import"./kbj1b07s2z6vxqkg.js";import"./hu1bt0oauegdhua6.js";import"./oj9zwxa6l3kpv1x2.js";import"./h4yh1661qhhbu5v5.js";import"./ktjtg3fnpomr03qk.js";import"./fkrqr6nqq2852orb.js";import"./exovct07932vem5e.js";import"./pvi9p0c51odp9xiw.js";import"./pe4e1ebqw6qlpge9.js";import"./ejv9rjzfbwh1dn9a.js";import"./ck4rwz4bvjdsyeld.js";import"./kc32gem4l2t3hnxt.js";import"./kne35xckmmfq3xx6.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./c340ncgh31fwqkpk.js";import"./kl0a548ohmz3fby2.js";import"./obpubb7ugisfu36u.js";import"./gl4f6lge29au0ljx.js";import"./iio0zgk2sqlxbcjy.js";function Or({title:t,isTransparent:e,onClose:n}){const r=ys(),o=gn(r),a=Ee(),[c,u]=g.useState(!1),{canGoBack:l,goBack:i,goToHistoryIndex:m,backHistory:b}=_n(),v=de("pointer-events-auto keyboard-focused:focus-ring relative -ms-2 me-1 flex h-9 w-9 items-center justify-center rounded-lg",e?"bg-token-main-surface-primary/60 backdrop-blur-xl backdrop-filter hover:bg-token-main-surface-primary/70":"bg-token-main-surface-primary hover:bg-token-surface-hover ");return s.jsx(rr,{name:"entity-header",type:"primary",className:de("flex items-center bg-transparent!",e?"pointer-events-none":"pointer-events-auto",o?"min-h-[var(--header-height,3.5rem)]":"min-h-[calc(var(--header-height,3.5rem)+1px)]"),children:s.jsxs("div",{className:de("flex items-center justify-between px-6 py-2 transition-colors duration-200 ease-out",e?"pointer-events-none border-transparent bg-transparent":"bg-token-main-surface-primary",o?"border-b-thin min-h-[var(--header-height,3.5rem)]":"min-h-[calc(var(--header-height,3.5rem)+1px)] border-b",!e&&(o?"border-(--bento-border-color)":"border-light")),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[l&&s.jsx(Un,{open:c,onOpenChange:u,size:"small",triggerButton:s.jsx("button",{type:"button",onClick:i,onPointerDown:j=>{j.preventDefault()},onContextMenu:j=>{j.preventDefault(),l&&u(!0)},className:v,"aria-label":a.formatMessage({id:"entity.sidebar.back",defaultMessage:"Back"}),children:s.jsx(nr,{className:"icon"})}),children:b.map((j,h)=>({s:j,absoluteIndex:h})).reverse().map(({s:j,absoluteIndex:h})=>s.jsx($n.Item,{label:j.query,onSelect:()=>{u(!1),m(h)}},"".concat(h,"-").concat(j.type)))}),t&&!e&&s.jsx("div",{className:"text-token-text-primary pointer-events-auto line-clamp-1 text-lg font-normal",children:t})]}),s.jsx("div",{className:"pointer-events-auto -me-3",children:s.jsx("button",{"data-testid":"close-button",onClick:n,className:v,"aria-label":a.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),children:s.jsx(zn,{className:"icon"})})})]})})}const Fr=800,Br=1200;function Ur({searchModelQueries:t=[]}){const e=g.useMemo(()=>t.map(l=>l.trim()).filter(l=>l.length>0),[t]),[n,r]=g.useState(!0),[o,a]=g.useState(0);g.useEffect(()=>{let l=null,i=null;return r(!0),a(0),e.length>0&&(l=setTimeout(()=>{r(!1),i=setInterval(()=>{a(m=>m+1>=e.length?e.length-1:m+1)},Br)},Fr)),()=>{l&&clearTimeout(l),i&&clearInterval(i)}},[e]);const c=()=>{"use forget";const l=Se.c(1);let i;return l[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("div",{className:"bg-token-bg-secondary -mx-6 aspect-[5/4] animate-pulse pb-2"}),l[0]=i):i=l[0],i};if(!e.length)return s.jsxs(s.Fragment,{children:[s.jsx(c,{}),s.jsx("div",{className:"mt-6 flex min-h-[60vh] flex-col gap-12 pb-6",children:s.jsxs(qn,{children:[s.jsx(bs,{index:0,width:60,heightSize:"sm"}),s.jsx(bs,{index:1,width:100,heightSize:"sm"}),s.jsx(bs,{index:2,width:90,heightSize:"sm"}),s.jsx(bs,{index:3,width:50,heightSize:"sm"})]})})]});const u=n?s.jsx(an,{id:"CfufpV",defaultMessage:"Searching the web"}):s.jsx(an,{id:"DeF0zE",defaultMessage:"Searching for {query}",values:{query:e[o]}});return s.jsxs(s.Fragment,{children:[s.jsx(c,{}),s.jsx("div",{className:"mt-5 flex min-h-[60vh] w-full flex-col items-start gap-4 pb-6",children:s.jsx("span",{className:"loading-shimmer text-token-text-secondary line-clamp-1 w-full truncate font-medium select-none",children:u})})]})}const $s="".concat(pn,"/sidebar/debug");async function $r(t){var n;return(n=(await Us.post("".concat($s,"/prompts/load"),t,{additionalHeaders:q({"Content-Type":"application/json"},_s({isAuthOptional:!0}))})).prompts)!=null?n:{}}async function zr(t){const e=await Us.post("".concat($s,"/jobs"),t,{additionalHeaders:q({"Content-Type":"application/json"},_s({isAuthOptional:!0}))});return{jobId:e.job_id,workflowId:e.workflow_id}}function qr(t){var e,n,r,o;return{id:t.id,workflowId:t.workflow_id,status:t.status,startedAt:new Date(t.started_at),completedAt:t.completed_at?new Date(t.completed_at):null,error:(e=t.error)!=null?e:null,generator:t.generator,dataLoader:t.data_loader,processed:(n=t.processed)!=null?n:null,succeeded:(r=t.succeeded)!=null?r:null,failed:(o=t.failed)!=null?o:null,entity:t.entity}}async function Jr(t){var n;return t.length===0?[]:((n=(await Us.get("".concat($s,"/jobs"),{params:{ids:t.join(",")},additionalHeaders:q({},_s({isAuthOptional:!0}))})).jobs)!=null?n:[]).map(qr)}const ln="sidebar-generation-debugger:toggle",Hr="sidebar-generation-debugger-launch",As=["user_prompt","system_prompt","sonic_inject_system_message"],Gr="knowledge-generator",cn="file-data-loader",dn=5e3,Ls=25;function pt(t){return JSON.stringify(Bs(t))}function Bs(t){return Array.isArray(t)?t.map(e=>Bs(e)):t&&typeof t=="object"?Object.keys(t).sort().reduce((e,n)=>{const r=Bs(t[n]);return r!==void 0&&(e[n]=r),e},{}):t}function Wr(t){"use forget";var Hs,Gs,Ws,Vs,Qs,Ks,Ys,Zs,Xs,en;const e=Se.c(241),{containerRef:n,query:r,category:o,extraParams:a,locale:c,refreshFromCache:u,onEntityContextChange:l}=t,i=Ee(),[m,b]=g.useState(!1),[v,j]=g.useState(Gr),[h,D]=g.useState(""),[R,J]=g.useState(null),[C,I]=g.useState(null);let P;e[0]===Symbol.for("react.memo_cache_sentinel")?(P={system_prompt:{path:null,content:""},user_prompt:{path:null,content:""},sonic_inject_system_message:{path:null,content:""}},e[0]=P):P=e[0];const[x,U]=g.useState(P),[L,H]=g.useState(!1),[$,A]=g.useState(null);let O;e[1]===Symbol.for("react.memo_cache_sentinel")?(O=[],e[1]=O):O=e[1];const[T,K]=g.useState(O),[V,ne]=g.useState(null),[re,G]=g.useState(!1);let ae;e[2]===Symbol.for("react.memo_cache_sentinel")?(ae={},e[2]=ae):ae=e[2];const[ee,te]=g.useState(ae);let S;e[3]===Symbol.for("react.memo_cache_sentinel")?(S=[],e[3]=S):S=e[3];const[E,w]=g.useState(S),[k,z]=g.useState(0),[F,W]=g.useState(0);let B;e[4]===Symbol.for("react.memo_cache_sentinel")?(B={system_prompt:"",user_prompt:"",sonic_inject_system_message:""},e[4]=B):B=e[4];const Y=g.useRef(B);let se;e[5]===Symbol.for("react.memo_cache_sentinel")?(se=new Set,e[5]=se):se=e[5];const xe=g.useRef(se),Z=g.useRef(null),X=g.useRef(null);let ue;e[6]===Symbol.for("react.memo_cache_sentinel")?(ue={sidebarLeft:0,viewportWidth:0,debugSidebarRight:0},e[6]=ue):ue=e[6];const[ve,je]=g.useState(ue);C==null||C.tags;const me=C==null?void 0:C.tags;let ye;e[7]!==me?(ye=Array.isArray(me)?me:[],e[7]=me,e[8]=ye):ye=e[8];const ce=ye;let we;e[9]!==ce?(we=ce.join("|"),e[9]=ce,e[10]=we):we=e[10];const fe=we;let Ce;e[11]!==a?(Ce=a!=null?a:{},e[11]=a,e[12]=Ce):Ce=e[12];let Fe;e[13]!==Ce?(Fe=pt(Ce),e[13]=Ce,e[14]=Fe):Fe=e[14];const dt=Fe;let Ne;e[15]!==o||e[16]!==a||e[17]!==c||e[18]!==r?(Ne=d=>{if(d==="entity_name")return r!=null?r:"";if(d==="category")return o!=null?o:"";if(d==="locale")return c!=null?c:"";if(d==="disambiguation"){const f=a==null?void 0:a.disambiguation;return typeof f=="string"?f:""}const p=a==null?void 0:a[d];return typeof p=="string"?p:""},e[15]=o,e[16]=a,e[17]=c,e[18]=r,e[19]=Ne):Ne=e[19];const Te=Ne;let De;e[20]===Symbol.for("react.memo_cache_sentinel")?(De=()=>{z(ea)},e[20]=De):De=e[20];const Ie=De,Ss=Xr;let bt;e[21]===Symbol.for("react.memo_cache_sentinel")?(bt=()=>{Z.current!==null&&(typeof window<"u"&&window.clearTimeout(Z.current),Z.current=null)},e[21]=bt):bt=e[21];const ge=bt;let ht;e[22]!==o||e[23]!==dt||e[24]!==c||e[25]!==r||e[26]!==fe?(ht=pt({tags:fe,query:r,category:o,locale:c,extraParams:dt}),e[22]=o,e[23]=dt,e[24]=c,e[25]=r,e[26]=fe,e[27]=ht):ht=e[27];const ut=ht,zs=g.useRef(null),vs=g.useRef(null);let xt,yt;e[28]!==ce||e[29]!==ut||e[30]!==Te||e[31]!==a?(xt=()=>{if(zs.current===ut)return;zs.current=ut;const d={};ce.forEach(f=>{d[f]=Te(f)}),te(d);const p=Object.entries(a!=null?a:{}).map(f=>{const[_,M]=f;return{id:Ss(),key:_,value:typeof M=="string"?M:JSON.stringify(M!=null?M:"")}});w(p),z(0),W(0),X.current=null,ge()},yt=[ce,ut,Te,a,Ss,ge],e[28]=ce,e[29]=ut,e[30]=Te,e[31]=a,e[32]=xt,e[33]=yt):(xt=e[32],yt=e[33]),g.useEffect(xt,yt);let _t;e[34]!==n?(_t=()=>{var _,M;if(typeof window>"u"||typeof document>"u")return;const d=(_=n.current)==null?void 0:_.getBoundingClientRect();if(!d)return;const p=(M=document.getElementById(Hr))==null?void 0:M.getBoundingClientRect(),f=p?p.right+16:0;je({sidebarLeft:d.left,viewportWidth:window.innerWidth,debugSidebarRight:f})},e[34]=n,e[35]=_t):_t=e[35];const oe=_t;let St,vt;e[36]!==n||e[37]!==m||e[38]!==oe?(St=()=>{if(!m)return;oe();const d=()=>oe();window.addEventListener("resize",d);const p=n.current,f=p?new ResizeObserver(oe):null;return f&&p&&f.observe(p),()=>{window.removeEventListener("resize",d),f==null||f.disconnect()}},vt=[n,m,oe],e[36]=n,e[37]=m,e[38]=oe,e[39]=St,e[40]=vt):(St=e[39],vt=e[40]),Jn(St,vt);let jt;e[41]!==oe?(jt=()=>{oe(),b(!0)},e[41]=oe,e[42]=jt):jt=e[42];const Ct=jt;let kt,Mt;e[43]!==Ct||e[44]!==oe?(kt=()=>{if(typeof window>"u")return;const d=p=>{var M,ie;const _=(ie=(M=p.detail)==null?void 0:M.action)!=null?ie:"toggle";if(_==="open"){Ct();return}if(_==="close"){b(!1);return}b(le=>le?!1:(oe(),!0))};return window.addEventListener(ln,d),()=>{window.removeEventListener(ln,d)}},Mt=[Ct,oe],e[43]=Ct,e[44]=oe,e[45]=kt,e[46]=Mt):(kt=e[45],Mt=e[46]),g.useEffect(kt,Mt);let Et,wt;e[47]!==h?(Et=()=>{if(!h.trim()){I(null),J(null);return}try{const d=JSON.parse(h);I(d),J(null)}catch(d){const p=d;I(null),J(p.message)}},wt=[h],e[47]=h,e[48]=Et,e[49]=wt):(Et=e[48],wt=e[49]),g.useEffect(Et,wt);const Re=Zr;let Nt;e[50]===Symbol.for("react.memo_cache_sentinel")?(Nt=d=>{var ms,ft,gt;const{entityName:p,entityCategory:f,entityLocale:_,disambiguation:M,extraParams:ie}=d,le=Re(M);let be;return ie&&Object.keys(ie).length>0&&(be=Object.fromEntries(Object.entries(ie).map(fs=>{var pe;const[gs,Le]=fs;return[gs,typeof Le=="string"&&(pe=Re(Le))!=null?pe:Le]}))),le&&(be=he(q({},be!=null?be:{}),{disambiguation:le})),{entity_name:(ms=Re(p))!=null?ms:p,category:(ft=Re(f))!=null?ft:f,user_locale:(gt=Re(_))!=null?gt:_,disambiguation:le,extra_params:be}},e[50]=Nt):Nt=e[50];const qs=Nt;let js;e:{if(!C){let M;e[51]===Symbol.for("react.memo_cache_sentinel")?(M={system_prompt:null,user_prompt:null,sonic_inject_system_message:null},e[51]=M):M=e[51],js=M;break e}const d=(Ws=(Gs=C.sonic_inject_system_message)!=null?Gs:(Hs=C.search_settings)==null?void 0:Hs.sonic_inject_system_message)!=null?Ws:null,p=(Vs=C.system_prompt)!=null?Vs:null,f=(Qs=C.user_prompt)!=null?Qs:null;let _;e[52]!==d||e[53]!==p||e[54]!==f?(_={system_prompt:p,user_prompt:f,sonic_inject_system_message:d},e[52]=d,e[53]=p,e[54]=f,e[55]=_):_=e[55],js=_}const Q=js;let Tt;e[56]!==Q?(Tt=As.filter(d=>d==="user_prompt"?!0:!!Q[d]),e[56]=Q,e[57]=Tt):Tt=e[57];const Cs=Tt,vn=As.filter(d=>d==="user_prompt"?!!Q.user_prompt:!!Q[d]);let Dt;e[58]!==Q.user_prompt||e[59]!==x.user_prompt.content?(Dt=!!Q.user_prompt||x.user_prompt.content.trim().length>0,e[58]=Q.user_prompt,e[59]=x.user_prompt.content,e[60]=Dt):Dt=e[60];const ks=Dt;let It,Rt;e[61]!==Q||e[62]!==C||e[63]!==x?(It=()=>{if(!C)return;const d={};if(As.forEach(f=>{const _=Q[f];_&&x[f].path!==_&&Y.current[f]!==_&&(Y.current[f]=_,d[f]=_)}),Object.keys(d).length===0)return;const p=Object.keys(d);H(!0),$r(d).then(f=>{const _=q({},x);Object.entries(f).forEach(M=>{const[ie,le]=M;if(!le)return;const be=ie;_[be]={path:le.path,content:le.content}}),U(_)}).catch(f=>{A(f instanceof Error?f.message:String(f))}).finally(()=>{p.forEach(f=>{Y.current[f]=""}),H(!1)})},Rt=[C,Q,x],e[61]=Q,e[62]=C,e[63]=x,e[64]=It,e[65]=Rt):(It=e[64],Rt=e[65]),g.useEffect(It,Rt);const jn=vn.every(d=>x[d].content.trim().length>0);let Pe;e[66]!==Q.sonic_inject_system_message||e[67]!==Q.system_prompt||e[68]!==x.sonic_inject_system_message||e[69]!==x.system_prompt||e[70]!==x.user_prompt||e[71]!==ks?(Pe={},Q.system_prompt&&(Pe.system_prompt=x.system_prompt),ks&&(Pe.user_prompt=x.user_prompt),Q.sonic_inject_system_message&&(Pe.sonic_inject_system_message=x.sonic_inject_system_message),e[66]=Q.sonic_inject_system_message,e[67]=Q.system_prompt,e[68]=x.sonic_inject_system_message,e[69]=x.system_prompt,e[70]=x.user_prompt,e[71]=ks,e[72]=Pe):Pe=e[72];const Ms=Pe;let mt;e[73]!==E?(mt={},E.forEach(d=>{const{key:p,value:f}=d,_=p.trim();_&&(mt[_]=f)}),e[73]=E,e[74]=mt):mt=e[74];const Be=mt,Ue=typeof(a==null?void 0:a.disambiguation)=="string"?a.disambiguation:void 0;let Pt;e[75]!==ee?(Pt=(d,p)=>{const f=ee[d],_=Re(f);return _&&_.length>0?_:Re(p)},e[75]=ee,e[76]=Pt):Pt=e[76];const $e=Pt;let At;if(e[77]!==Ue||e[78]!==o||e[79]!==Be||e[80]!==c||e[81]!==$e||e[82]!==r){const d=(Ks=$e("entity_name",r))!=null?Ks:r,p=(Ys=$e("category",o))!=null?Ys:o,f=(Zs=$e("locale",c))!=null?Zs:c,_=$e("disambiguation",Ue);let M;e[84]!==Be?(M=Object.keys(Be).length>0?Be:void 0,e[84]=Be,e[85]=M):M=e[85],At=qs({entityName:d,entityCategory:p,entityLocale:f,disambiguation:_,extraParams:M}),e[77]=Ue,e[78]=o,e[79]=Be,e[80]=c,e[81]=$e,e[82]=r,e[83]=At}else At=e[83];const y=At;let Lt;e[86]!==Ue||e[87]!==o||e[88]!==a||e[89]!==c||e[90]!==r?(Lt=qs({entityName:r,entityCategory:o,entityLocale:c,disambiguation:Ue,extraParams:a}),e[86]=Ue,e[87]=o,e[88]=a,e[89]=c,e[90]=r,e[91]=Lt):Lt=e[91];const N=Lt;let Ot;e[92]!==y.category||e[93]!==y.disambiguation||e[94]!==y.entity_name||e[95]!==y.extra_params||e[96]!==y.user_locale?(Ot=pt({entity_name:y.entity_name,category:y.category,user_locale:y.user_locale,disambiguation:y.disambiguation,extra_params:(Xs=y.extra_params)!=null?Xs:{}}),e[92]=y.category,e[93]=y.disambiguation,e[94]=y.entity_name,e[95]=y.extra_params,e[96]=y.user_locale,e[97]=Ot):Ot=e[97];const ke=Ot;let Ft;e[98]!==N.category||e[99]!==N.disambiguation||e[100]!==N.entity_name||e[101]!==N.extra_params||e[102]!==N.user_locale?(Ft=pt({entity_name:N.entity_name,category:N.category,user_locale:N.user_locale,disambiguation:N.disambiguation,extra_params:(en=N.extra_params)!=null?en:{}}),e[98]=N.category,e[99]=N.disambiguation,e[100]=N.entity_name,e[101]=N.extra_params,e[102]=N.user_locale,e[103]=Ft):Ft=e[103];const Me=Ft;let Bt;e[104]!==N.category||e[105]!==N.disambiguation||e[106]!==N.entity_name||e[107]!==N.extra_params||e[108]!==N.user_locale||e[109]!==ke||e[110]!==y.category||e[111]!==y.disambiguation||e[112]!==y.entity_name||e[113]!==y.extra_params||e[114]!==y.user_locale||e[115]!==Me||e[116]!==m||e[117]!==l?(Bt=()=>{var p,f;if(!m||!l)return;const d=ke===Me?Me:ke;if(vs.current!==d){if(vs.current=d,ke===Me){l({query:N.entity_name,category:N.category,extraParams:N.extra_params,locale:N.user_locale,disambiguation:(p=N.disambiguation)!=null?p:void 0});return}l({query:y.entity_name,category:y.category,extraParams:y.extra_params,locale:y.user_locale,disambiguation:(f=y.disambiguation)!=null?f:void 0})}},e[104]=N.category,e[105]=N.disambiguation,e[106]=N.entity_name,e[107]=N.extra_params,e[108]=N.user_locale,e[109]=ke,e[110]=y.category,e[111]=y.disambiguation,e[112]=y.entity_name,e[113]=y.extra_params,e[114]=y.user_locale,e[115]=Me,e[116]=m,e[117]=l,e[118]=Bt):Bt=e[118];let Ut;e[119]!==N||e[120]!==ke||e[121]!==y||e[122]!==Me||e[123]!==m||e[124]!==l?(Ut=[N,ke,y,Me,m,l],e[119]=N,e[120]=ke,e[121]=y,e[122]=Me,e[123]=m,e[124]=l,e[125]=Ut):Ut=e[125],g.useEffect(Bt,Ut);let $t,zt;e[126]!==m?($t=()=>{m||(vs.current=null)},zt=[m],e[126]=m,e[127]=$t,e[128]=zt):($t=e[127],zt=e[128]),g.useEffect($t,zt);let Es;e:{if(!C||!jn){Es=null;break e}let d;e[129]!==y||e[130]!==v||e[131]!==C||e[132]!==Ms?(d={generator:v,data_loader:cn,settings:C,prompts:Ms,entity:y},e[129]=y,e[130]=v,e[131]=C,e[132]=Ms,e[133]=d):d=e[133],Es=d}const _e=Es;let qt;e[134]!==_e?(qt=_e?pt(_e):null,e[134]=_e,e[135]=qt):qt=e[135];const ze=qt;let Jt;e[136]!==k||e[137]!==y||e[138]!==v||e[139]!==m||e[140]!==F||e[141]!==V||e[142]!==_e||e[143]!==ze?(Jt=d=>{var gt,fs,gs,Le;const p=(gt=d==null?void 0:d.force)!=null?gt:!1;if(!m){ge(),X.current=null;return}if(!_e||!ze){ge();return}if(!p&&ze===V){ge();return}if(!p&&((fs=X.current)==null?void 0:fs.signature)===ze){ge();return}const f=(Le=(gs=X.current)==null?void 0:gs.editCount)!=null?Le:F;let _=k-f;if(p&&(_=Math.max(_,Ls)),_<=0){ge();return}const M=_e,ie=ze,le=k,be=v,ms=y,ft=()=>{ge(),X.current={signature:ie,editCount:le},A(null),G(!0),zr(M).then(pe=>{const{jobId:ps,workflowId:Dn}=pe;ne(ie),W(le),K(In=>[{id:ps,workflowId:Dn,status:"running",startedAt:new Date,completedAt:null,generator:be,dataLoader:cn,entity:ms,error:null,processed:null,succeeded:null,failed:null},...In])}).catch(pe=>{A(pe instanceof Error?pe.message:String(pe))}).finally(()=>{var pe,ps;((pe=X.current)==null?void 0:pe.signature)===ie&&((ps=X.current)==null?void 0:ps.editCount)===le&&(X.current=null),G(!1)})};if(p||_>=Ls){ft();return}ge(),Z.current=window.setTimeout(ft,dn)},e[136]=k,e[137]=y,e[138]=v,e[139]=m,e[140]=F,e[141]=V,e[142]=_e,e[143]=ze,e[144]=Jt):Jt=e[144];const Ae=Jt;let Ht,Gt;e[145]!==Ae?(Ht=()=>(Ae(),()=>{ge()}),Gt=[ge,Ae],e[145]=Ae,e[146]=Ht,e[147]=Gt):(Ht=e[146],Gt=e[147]),g.useEffect(Ht,Gt);let Wt;e[148]!==Ae?(Wt=()=>{Ae({force:!0})},e[148]=Ae,e[149]=Wt):Wt=e[149];const ws=Wt;let Vt;e[150]!==T?(Vt=T.filter(Yr).map(Kr),e[150]=T,e[151]=Vt):Vt=e[151];const qe=Vt;let Qt,Kt;e[152]!==qe?(Qt=()=>{if(qe.length===0)return;const d=window.setInterval(()=>{Jr(qe).then(p=>{K(f=>{const _=new Map(f.map(Qr));return p.forEach(M=>{_.set(M.id,M)}),Array.from(_.values()).sort(Vr)})}).catch(p=>A(p instanceof Error?p.message:String(p)))},2500);return()=>window.clearInterval(d)},Kt=[qe],e[152]=qe,e[153]=Qt,e[154]=Kt):(Qt=e[153],Kt=e[154]),g.useEffect(Qt,Kt);let Yt;e[155]===Symbol.for("react.memo_cache_sentinel")?(Yt=(d,p)=>{Ie(),U(f=>he(q({},f),{[d]:he(q({},f[d]),{content:p})}))},e[155]=Yt):Yt=e[155];const Cn=Yt;let Zt;e[156]===Symbol.for("react.memo_cache_sentinel")?(Zt=d=>{Ie(),j(d)},e[156]=Zt):Zt=e[156];const kn=Zt;let Xt;e[157]===Symbol.for("react.memo_cache_sentinel")?(Xt=d=>{Ie(),D(d)},e[157]=Xt):Xt=e[157];const Mn=Xt;let es;e[158]===Symbol.for("react.memo_cache_sentinel")?(es=(d,p)=>{Ie(),te(f=>he(q({},f),{[d]:p}))},e[158]=es):es=e[158];const En=es;let ts;e[159]===Symbol.for("react.memo_cache_sentinel")?(ts=(d,p,f)=>{Ie(),w(_=>_.map(M=>M.id===d?he(q({},M),{[p]:f}):M))},e[159]=ts):ts=e[159];const wn=ts;let ss;e[160]===Symbol.for("react.memo_cache_sentinel")?(ss=d=>{Ie(),w(p=>p.filter(f=>f.id!==d))},e[160]=ss):ss=e[160];const Nn=ss;let ns;e[161]===Symbol.for("react.memo_cache_sentinel")?(ns=()=>{Ie(),w(d=>[...d,{id:Ss(),key:"",value:""}])},e[161]=ns):ns=e[161];const Tn=ns;let rs,as;if(e[162]!==T||e[163]!==u?(rs=()=>{T.forEach(d=>{d.status==="succeeded"&&!xe.current.has(d.id)&&(xe.current.add(d.id),u())})},as=[T,u],e[162]=T,e[163]=u,e[164]=rs,e[165]=as):(rs=e[164],as=e[165]),g.useEffect(rs,as),!m)return null;const Ns=re||qe.length>0,{sidebarLeft:Ts,viewportWidth:Ds,debugSidebarRight:Js}=ve;if(Ts<=Js||Ds<=0)return null;const os=Math.max(Js,0),is=Ts>0&&Ds>0?Math.max(Ds-Ts,0):0;let ls;e[166]!==os||e[167]!==is?(ls=is>0?{insetInlineStart:"".concat(os,"px"),insetInlineEnd:"".concat(is,"px")}:{insetInlineStart:"".concat(os,"px")},e[166]=os,e[167]=is,e[168]=ls):ls=e[168];const Is=ls;let Je;e[169]!==i?(Je=i.formatMessage({id:"sidebarDebugger.panelTitle",defaultMessage:"Sidebar Generation Debugger"}),e[169]=i,e[170]=Je):Je=e[170];let He;e[171]!==Je?(He=s.jsx("h2",{className:"text-base font-semibold",children:Je}),e[171]=Je,e[172]=He):He=e[172];let Ge;e[173]!==i||e[174]!==Ns?(Ge=Ns&&s.jsxs("div",{className:"text-token-text-secondary flex items-center gap-1 text-xs font-medium",children:[s.jsx(Sn,{size:14}),s.jsx("span",{children:i.formatMessage({id:"sidebarDebugger.generationRunning",defaultMessage:"Generation running…"})})]}),e[173]=i,e[174]=Ns,e[175]=Ge):Ge=e[175];let We;e[176]!==He||e[177]!==Ge?(We=s.jsxs("div",{className:"flex items-center gap-3",children:[He,Ge]}),e[176]=He,e[177]=Ge,e[178]=We):We=e[178];let cs;e[179]===Symbol.for("react.memo_cache_sentinel")?(cs=()=>b(!1),e[179]=cs):cs=e[179];let Ve;e[180]!==i?(Ve=i.formatMessage({id:"sidebarDebugger.close",defaultMessage:"Close"}),e[180]=i,e[181]=Ve):Ve=e[181];let Qe;e[182]!==Ve?(Qe=s.jsx("button",{className:"border-token-border-light hover:bg-token-bg-tertiary rounded-md border px-3 py-1 text-xs font-semibold",onClick:cs,children:Ve}),e[182]=Ve,e[183]=Qe):Qe=e[183];let Ke;e[184]!==We||e[185]!==Qe?(Ke=s.jsxs("div",{className:"border-token-border-light flex items-center justify-between border-b pb-2",children:[We,Qe]}),e[184]=We,e[185]=Qe,e[186]=Ke):Ke=e[186];let Ye;e[187]!==$?(Ye=$&&s.jsx("div",{className:"border-token-border-light bg-token-bg-critical-subtle text-token-text-error mt-3 rounded-md border px-3 py-2 text-xs",children:$}),e[187]=$,e[188]=Ye):Ye=e[188];const Rs=!!_e;let Ze;e[189]!==v||e[190]!==ws||e[191]!==i||e[192]!==re||e[193]!==R||e[194]!==h||e[195]!==Rs?(Ze=s.jsx(ta,{intl:i,generator:v,settingsText:h,settingsError:R,onGeneratorChange:kn,onSettingsTextChange:Mn,onManualGenerate:ws,canManualGenerate:Rs,isSubmitting:re}),e[189]=v,e[190]=ws,e[191]=i,e[192]=re,e[193]=R,e[194]=h,e[195]=Rs,e[196]=Ze):Ze=e[196];let Xe;e[197]!==i||e[198]!==L||e[199]!==x||e[200]!==Cs?(Xe=s.jsx(sa,{intl:i,visiblePromptKeys:Cs,promptEditors:x,loadingPrompts:L,onPromptChange:Cn}),e[197]=i,e[198]=L,e[199]=x,e[200]=Cs,e[201]=Xe):Xe=e[201];let et;e[202]!==Ze||e[203]!==Xe?(et=s.jsxs("div",{className:"flex flex-col gap-4",children:[Ze,Xe]}),e[202]=Ze,e[203]=Xe,e[204]=et):et=e[204];let tt;e[205]!==ce||e[206]!==E||e[207]!==i||e[208]!==ee?(tt=s.jsx(na,{intl:i,availableTags:ce,tagOverrides:ee,extraParamEntries:E,onTagChange:En,onExtraParamChange:wn,onRemoveExtraParam:Nn,onAddExtraParam:Tn}),e[205]=ce,e[206]=E,e[207]=i,e[208]=ee,e[209]=tt):tt=e[209];let st;e[210]!==i||e[211]!==T||e[212]!==c?(st=s.jsx(ra,{intl:i,jobs:T,locale:c}),e[210]=i,e[211]=T,e[212]=c,e[213]=st):st=e[213];let nt;e[214]!==y.category||e[215]!==y.user_locale||e[216]!==i?(nt=i.formatMessage({id:"sidebarDebugger.autoQueueDescription",defaultMessage:"We automatically enqueue a new job ~{seconds}s after you pause typing or every {edits} edits. Each job uses the current entity context ({category}, locale {locale})."},{seconds:dn/1e3,edits:Ls,category:y.category,locale:y.user_locale}),e[214]=y.category,e[215]=y.user_locale,e[216]=i,e[217]=nt):nt=e[217];let rt;e[218]!==nt?(rt=s.jsx("p",{children:nt}),e[218]=nt,e[219]=rt):rt=e[219];let at;e[220]!==i?(at=i.formatMessage({id:"sidebarDebugger.completedJobDescription",defaultMessage:"Completed jobs trigger a sidebar refresh so you can inspect the newest cached response inline."}),e[220]=i,e[221]=at):at=e[221];let ot;e[222]!==at?(ot=s.jsx("p",{className:"mt-2",children:at}),e[222]=at,e[223]=ot):ot=e[223];let it;e[224]!==rt||e[225]!==ot?(it=s.jsxs("div",{className:"border-token-border-light text-token-text-secondary rounded-xl border p-3 text-xs",children:[rt,ot]}),e[224]=rt,e[225]=ot,e[226]=it):it=e[226];let lt;e[227]!==tt||e[228]!==st||e[229]!==it?(lt=s.jsxs("div",{className:"flex flex-col gap-4",children:[tt,st,it]}),e[227]=tt,e[228]=st,e[229]=it,e[230]=lt):lt=e[230];let ct;e[231]!==et||e[232]!==lt?(ct=s.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-[3fr_1fr]",children:[et,lt]}),e[231]=et,e[232]=lt,e[233]=ct):ct=e[233];let ds;e[234]!==Is||e[235]!==Ke||e[236]!==Ye||e[237]!==ct?(ds=s.jsxs("div",{className:"bg-token-bg-primary text-token-text-primary fixed inset-y-0 start-0 z-30 overflow-y-auto p-4 text-sm",style:Is,children:[Ke,Ye,ct]}),e[234]=Is,e[235]=Ke,e[236]=Ye,e[237]=ct,e[238]=ds):ds=e[238];const Ps=ds;if(typeof document>"u")return null;let us;return e[239]!==Ps?(us=Fn.createPortal(Ps,document.body),e[239]=Ps,e[240]=us):us=e[240],us}function Vr(t,e){return e.startedAt.getTime()-t.startedAt.getTime()}function Qr(t){return[t.id,t]}function Kr(t){return t.id}function Yr(t){return t.status==="running"}function Zr(t){return typeof t=="string"?t.replace(/[\u00A0\u202F]/g," "):t!=null?t:void 0}function Xr(){return typeof globalThis.crypto<"u"&&typeof globalThis.crypto.randomUUID=="function"?globalThis.crypto.randomUUID():"extra-".concat(Math.random().toString(36).slice(2))}function ea(t){return t+1}function ta({intl:t,generator:e,settingsText:n,settingsError:r,onGeneratorChange:o,onSettingsTextChange:a,onManualGenerate:c,canManualGenerate:u,isSubmitting:l}){return s.jsxs("div",{className:"border-token-border-light rounded-xl border p-3",children:[s.jsx("h3",{className:"text-sm font-semibold",children:t.formatMessage({id:"sidebarDebugger.jobSettingsTitle",defaultMessage:"Job Settings"})}),s.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:s.jsxs("label",{className:"text-xxs text-token-text-secondary font-medium tracking-wide uppercase",children:[t.formatMessage({id:"sidebarDebugger.generatorLabel",defaultMessage:"Generator"}),s.jsx("input",{className:"border-token-border-light bg-token-bg-primary mt-1 w-full rounded-md border px-2 py-1 text-sm",value:e,onChange:i=>o(i.target.value)})]})}),s.jsxs("label",{className:"text-xxs text-token-text-secondary mt-3 block font-medium tracking-wide uppercase",children:[t.formatMessage({id:"sidebarDebugger.rawSettingsLabel",defaultMessage:"Raw Settings JSON"}),s.jsx("textarea",{className:de("bg-token-bg-primary mt-1 h-48 w-full rounded-md border px-2 py-2 font-mono text-xs",r?"border-token-border-critical text-token-text-error":"border-token-border-light"),placeholder:t.formatMessage({id:"sidebarDebugger.rawSettingsPlaceholder",defaultMessage:"Paste settings JSON here"}),value:n,onChange:i=>a(i.target.value)})]}),r&&s.jsx("div",{className:"text-token-text-error mt-1 text-xs",children:r}),s.jsx("button",{type:"button",className:de("mt-3 inline-flex items-center justify-center rounded-md border px-3 py-1 text-xs font-semibold",u&&!l?"border-token-border-light hover:bg-token-bg-tertiary":"border-token-border-subtle text-token-text-tertiary cursor-not-allowed"),disabled:!u||l,onClick:c,children:l?t.formatMessage({id:"sidebarDebugger.submittingLabel",defaultMessage:"Submitting…"}):t.formatMessage({id:"sidebarDebugger.generateNow",defaultMessage:"Generate now"})})]})}function sa({intl:t,visiblePromptKeys:e,promptEditors:n,loadingPrompts:r,onPromptChange:o}){return s.jsxs("div",{className:"border-token-border-light rounded-xl border p-3",children:[s.jsx("h3",{className:"text-sm font-semibold",children:t.formatMessage({id:"sidebarDebugger.promptEditorsTitle",defaultMessage:"Prompt Editors"})}),r&&s.jsxs("div",{className:"text-token-text-secondary mb-2 flex items-center gap-2 text-xs",children:[s.jsx(Sn,{size:12}),s.jsx("span",{children:t.formatMessage({id:"sidebarDebugger.loadingPrompts",defaultMessage:"Loading prompt files…"})})]}),e.map(a=>{const c=a==="user_prompt"?"h-12":a==="system_prompt"?"h-88":"h-32";return s.jsx("div",{className:"mt-3",children:s.jsxs("label",{className:"text-xxs text-token-text-secondary font-medium tracking-wide uppercase",children:[a.replace(/_/g," "),n[a].path&&s.jsx("span",{className:"text-token-text-tertiary ms-1",children:t.formatMessage({id:"sidebarDebugger.promptPathLabel",defaultMessage:"({path})"},{path:n[a].path})}),s.jsx("textarea",{className:de("border-token-border-light bg-token-bg-primary mt-1 w-full rounded-md border px-2 py-2 font-mono text-xs",c),value:n[a].content,onChange:u=>o(a,u.target.value)})]})},a)})]})}function na({intl:t,availableTags:e,tagOverrides:n,extraParamEntries:r,onTagChange:o,onExtraParamChange:a,onRemoveExtraParam:c,onAddExtraParam:u}){return s.jsxs("div",{className:"border-token-border-light rounded-xl border p-3",children:[s.jsx("h3",{className:"text-sm font-semibold",children:t.formatMessage({id:"sidebarDebugger.entityOverridesTitle",defaultMessage:"Entity Context Overrides"})}),e.length===0?s.jsx("p",{className:"text-xxs text-token-text-secondary mt-2",children:t.formatMessage({id:"sidebarDebugger.addTagsHelper",defaultMessage:"Add tags to your settings JSON to enable overrides."})}):s.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:e.map(l=>{var i;return s.jsxs("label",{className:"text-xxs text-token-text-secondary font-medium tracking-wide uppercase",children:[l.replace(/_/g," "),s.jsx("input",{className:"border-token-border-light bg-token-bg-secondary mt-1 w-full rounded-md border px-2 py-1 text-[11px]",value:(i=n[l])!=null?i:"",onChange:m=>o(l,m.target.value)})]},l)})}),s.jsx("div",{className:"text-xxs text-token-text-secondary mt-3 font-medium tracking-wide uppercase",children:t.formatMessage({id:"sidebarDebugger.extraParamsLabel",defaultMessage:"Extra Params"})}),r.length===0?s.jsx("p",{className:"text-xxs text-token-text-tertiary mt-1",children:t.formatMessage({id:"sidebarDebugger.noExtraParams",defaultMessage:"No extra params set for this entity."})}):s.jsx("div",{className:"mt-1 flex flex-col gap-2",children:r.map(l=>s.jsxs("div",{className:"grid grid-cols-[1fr,1fr,auto] items-center gap-2",children:[s.jsx("input",{className:"border-token-border-light bg-token-bg-secondary rounded-md border px-2 py-1 text-[11px]",placeholder:t.formatMessage({id:"sidebarDebugger.keyPlaceholder",defaultMessage:"key"}),value:l.key,onChange:i=>a(l.id,"key",i.target.value)}),s.jsx("input",{className:"border-token-border-light bg-token-bg-secondary rounded-md border px-2 py-1 text-[11px]",placeholder:t.formatMessage({id:"sidebarDebugger.valuePlaceholder",defaultMessage:"value"}),value:l.value,onChange:i=>a(l.id,"value",i.target.value)}),s.jsx("button",{type:"button",className:"text-token-text-critical text-[11px] font-semibold hover:underline",onClick:()=>c(l.id),children:t.formatMessage({id:"sidebarDebugger.removeExtraParam",defaultMessage:"Remove"})})]},l.id))}),s.jsx("button",{type:"button",className:"text-token-text-brand mt-2 text-start text-[11px] font-semibold hover:underline",onClick:u,children:t.formatMessage({id:"sidebarDebugger.addParam",defaultMessage:"+ Add param"})})]})}function ra({intl:t,jobs:e,locale:n}){const r=g.useCallback(o=>{const a={running:{id:"sidebarDebugger.jobStatusRunning",defaultMessage:"Running",description:"Status badge label for running jobs"},succeeded:{id:"sidebarDebugger.jobStatusSucceeded",defaultMessage:"Succeeded",description:"Status badge label for successful jobs"},failed:{id:"sidebarDebugger.jobStatusFailed",defaultMessage:"Failed",description:"Status badge label for failed jobs"}};return t.formatMessage(a[o])},[t]);return s.jsxs("div",{className:"border-token-border-light rounded-xl border p-3",children:[s.jsx("h3",{className:"text-sm font-semibold",children:t.formatMessage({id:"sidebarDebugger.queuedJobsTitle",defaultMessage:"Queued Jobs"})}),e.length===0?s.jsx("p",{className:"text-token-text-secondary mt-2 text-xs",children:t.formatMessage({id:"sidebarDebugger.queuedJobsEmpty",defaultMessage:"Jobs appear here once you paste settings and prompts."})}):s.jsx("div",{className:"mt-2 flex max-h-[420px] flex-col gap-2 overflow-y-auto",children:e.map(o=>{var u,l;const a=o.failed&&o.failed>0?"failed":o.status,c=de("rounded-full px-2 py-0.5 text-xxs uppercase tracking-wide",a==="running"&&"bg-token-bg-tertiary",a==="succeeded"&&"bg-token-bg-success-subtle",a==="failed"&&"bg-token-bg-critical-subtle");return s.jsxs("div",{className:"border-token-border-light bg-token-bg-secondary rounded-lg border p-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold",children:[s.jsx("span",{children:o.entity.entity_name}),s.jsx("span",{className:c,children:r(a)})]}),s.jsx("div",{className:"text-token-text-secondary mt-1 text-[11px]",children:t.formatMessage({id:"sidebarDebugger.jobStartedAt",defaultMessage:"Started at {time}"},{time:o.startedAt.toLocaleTimeString(n!=null?n:"en-US")})}),typeof o.processed=="number"&&s.jsxs("div",{className:"mt-1 text-[11px]",children:[s.jsx("span",{className:"text-token-text-secondary me-1",children:t.formatMessage({id:"sidebarDebugger.jobProcessedCount",defaultMessage:"Processed: {count} ·"},{count:o.processed})}),s.jsx("span",{className:"text-token-text-secondary me-1",children:t.formatMessage({id:"sidebarDebugger.jobSucceededCount",defaultMessage:"Succeeded: {count} ·"},{count:(u=o.succeeded)!=null?u:0})}),s.jsx("span",{className:de("text-token-text-secondary",o.failed&&o.failed>0&&"text-token-text-error"),children:t.formatMessage({id:"sidebarDebugger.jobFailedCount",defaultMessage:"Failed: {count}"},{count:(l=o.failed)!=null?l:0})})]}),o.error&&s.jsx("div",{className:"text-token-text-error mt-1 text-[11px]",children:o.error})]},o.id)})})]})}const aa="sidebar-follow-up-button";function oa(t){"use forget";const e=Se.c(35),{query:n,messageIds:r,category:o,conversationId:a,originatingConversationId:c,conversationContext:u,sidebar:l,isModal:i}=t,m=Ee(),[b]=Hn(ia),{setTargetedContent:v}=ar(),{openThreadSidebar:j,closeThreadSidebar:h}=or();if(b)return null;let D;e[0]!==m?(D=m.formatMessage({id:"entities.sidebarFollowUpFloatingButton.label",defaultMessage:"Follow up"}),e[0]=m,e[1]=D):D=e[1];const R=D;let J;e[2]!==o||e[3]!==u||e[4]!==a||e[5]!==r||e[6]!==c||e[7]!==n?(J=A=>{if(hs.logEventWithStatsig("Sidebar Follow Up Button Clicked","chatgpt_sidebar_follow_up_button_clicked",{messageIds:r,conversationId:a,originatingConversationId:c,category:o}),!n)return A;const O=Wn(n,u);return he(q({},A),{promptMessage:ir(A.promptMessage,{metadata:{targeted_reply:n}}),appendMessages:A.appendMessages==null?[O]:[...A.appendMessages,O]})},e[2]=o,e[3]=u,e[4]=a,e[5]=r,e[6]=c,e[7]=n,e[8]=J):J=e[8];let C,I;e[9]!==o||e[10]!==r||e[11]!==c?(C=A=>{const{serverThreadId:O,currentLeafId:T}=A;hs.logEventWithStatsig("Sidebar Follow Up Submitted","chatgpt_sidebar_follow_up_submitted",{conversationId:O,currentLeafId:T,messageIds:r,originatingConversationId:c,category:o})},I=A=>{const{serverThreadId:O,currentLeafId:T}=A;hs.logEventWithStatsig("Sidebar Follow Up Cleared","chatgpt_sidebar_follow_up_cleared",{conversationId:O,currentLeafId:T,messageIds:r,originatingConversationId:c,category:o})},e[9]=o,e[10]=r,e[11]=c,e[12]=C,e[13]=I):(C=e[12],I=e[13]);let P;e[14]!==i||e[15]!==j||e[16]!==l?(P=i?()=>j(l):void 0,e[14]=i,e[15]=j,e[16]=l,e[17]=P):P=e[17];let x;e[18]!==n||e[19]!==J||e[20]!==C||e[21]!==I||e[22]!==P?(x={type:"text",label:n,createNewCompletionParams:J,onCreateCompletion:C,onCleared:I,onLabelClick:P},e[18]=n,e[19]=J,e[20]=C,e[21]=I,e[22]=P,e[23]=x):x=e[23];const U=x;let L;e[24]!==h||e[25]!==i||e[26]!==v||e[27]!==U?(L=()=>{i&&h(),v(U)},e[24]=h,e[25]=i,e[26]=v,e[27]=U,e[28]=L):L=e[28];let H;e[29]!==R?(H=s.jsx("span",{className:"flex items-center select-none",children:R}),e[29]=R,e[30]=H):H=e[30];let $;return e[31]!==R||e[32]!==L||e[33]!==H?($=s.jsx("div",{id:aa,className:"fixed end-10 bottom-10 z-[50] md:bottom-8",children:s.jsx(Vn,{size:"large",color:"secondary",icon:Lr,label:R,contentWrapperClassName:"gap-2",className:"border-token-border-default text-token-text-primary bg-token-bg-primary h-12 rounded-full border px-6 py-7 font-medium shadow-sm active:opacity-100!",onClick:L,children:H})}),e[31]=R,e[32]=L,e[33]=H,e[34]=$):$=e[34],$}function ia(t){return[Gn(t)]}const Oe={};function un(t){return!t||t.length===0?null:t[t.length-1]}function la(t){var o,a,c,u,l,i,m,b,v,j;const e=(l=(u=(o=t.metadata)==null?void 0:o.debug_sonic_thread_id)!=null?u:(c=(a=t.metadata)==null?void 0:a.__internal)==null?void 0:c.sonic_thread_id)!=null?l:null,n=(b=(m=(i=t.metadata)==null?void 0:i.__internal)==null?void 0:m.sonic_user_id)!=null?b:null;let r=t;if(e||n){const h=q({},(v=t.metadata)!=null?v:{});e&&h.debug_sonic_thread_id==null&&(h.debug_sonic_thread_id=e);const D=q({},(j=h.__internal)!=null?j:{});e&&D.sonic_thread_id==null&&(D.sonic_thread_id=e),n&&D.sonic_user_id==null&&(D.sonic_user_id=n),h.__internal=D,r=he(q({},t),{metadata:h})}return r}const ca=()=>{};function da({clientThreadId:t,debugThreadId:e,messageId:n,query:r,category:o,extraParams:a}){"use no forget";var A,O;const c=ys(),u=Qn(c),l=Ee(),i=(A=bn(t))!=null?A:t,m=ca(),b=g.useMemo(()=>"entity-".concat(o,"-").concat(r,"-").concat(JSON.stringify(a!=null?a:{}),"-").concat(i,"-").concat(n,"-").concat(e),[o,r,a,i,n,e]),[v,j]=g.useState((O=Oe[b])!=null?O:[]),[h,D]=g.useState(null),[R,J]=g.useState({}),[C,I]=g.useState(null),[P,x]=g.useState(()=>Os(un(Oe[b]))),[U,L]=g.useState(!1);g.useEffect(()=>{I(null)},[r,o]);const H=g.useRef(null),$=g.useCallback(async T=>{H.current&&H.current.abort();const K=new AbortController;H.current=K,j([]),Oe[b]=null,x([]),L(!0);try{const{chatReq:ae,turnstileToken:ee,proofToken:te}=await lr(c,void 0),S=cr(ae,ee,te,null);I(null);const E=dr("".concat(pn,"/sidebar/conversation"),{method:"POST",headers:q(he(q({},_s({isAuthOptional:!0})),{"Content-Type":"application/json"}),S),body:q(q({conversation_id:i,message_id:n,supported_encodings:[ur.V1],is_client_thread:i===t},T!=null?T:{}),o==="ask_sidebar"?{category:"ask_sidebar",locale:l.locale,ask_sidebar_params:{query:r,additional_context:a==null?void 0:a.context}}:{category:"generic_entity",locale:l.locale,generic_entity_params:{name:r,category:o,extra_params:a,multi_message_mode:!0}}),signal:K.signal});let w=null,k=null;try{for(var V=rn(mr(E)),ne,re,G;ne=!(re=await V.next()).done;ne=!1){const z=re.value;if(K.signal.aborted)break;if(!("data"in z))continue;const F=z.data,{type:W,data:B}=F;if(W==="message"&&B){const Y=Os(B);Y.length>0&&x(Y)}if(W==="message"&&B&&B.author.role===hn.Assistant&&xn(B)&&(!B.channel||B.channel==="final")){const Y=la(B);j(se=>{const xe=se.findIndex(X=>X.id===Y.id);let Z;return xe===-1?Z=[...se,Y]:(Z=[...se],Z[xe]=Y),Y.status==="finished_successfully"&&(Oe[b]=Z),Z}),!k&&F.conversation_id&&(D(F.conversation_id),k=F.conversation_id,Yn(t)&&Kn.setServerIdForNewThread(t,k))}W==="__debug"&&B&&J(Y=>q(q({},Y),B))}}catch(re){G=[re]}finally{try{ne&&(re=V.return)&&await re.call(V)}finally{if(G)throw G[0]}}L(!1)}catch(ae){K.abort(),Oe[b]=null,I(ae),L(!1)}},[b,i,t,e,n,r,o,a,c,u,l.locale,m]);return g.useEffect(()=>{var T,K;if(Oe[b]){const V=(T=Oe[b])!=null?T:[];j(V);const ne=(K=V[V.length-1])!=null?K:null;x(Os(ne));return}return $(),()=>{var V;(V=H.current)==null||V.abort(),j([]),x([]),L(!1)}},[b,i,t,e,n,r,o,a,c,u,l.locale]),{messages:v,latestMessage:un(v),sidebarConversationId:h,error:C,searchModelQueries:P,isStreaming:U,debugData:R,regenerate:()=>$({force_regenerate:!0}),refreshFromCache:()=>$({force_regenerate:!1})}}function Os(t){var n,r;const e=(r=(n=t==null?void 0:t.metadata)==null?void 0:n.search_model_queries)==null?void 0:r.queries;return Array.isArray(e)?e:[]}function ua(t){if(!(!t||Object.keys(t).length===0))return t}function mn(t){if(!t||Object.keys(t).length===0)return"{}";const e={};return Object.keys(t).sort().forEach(n=>{e[n]=t[n]}),JSON.stringify(e)}function ma({initialQuery:t,initialCategory:e,initialExtraParams:n}){var m,b,v;const[r,o]=g.useState(null),a=(m=r==null?void 0:r.query)!=null?m:t,c=(b=r==null?void 0:r.category)!=null?b:e,u=(v=r==null?void 0:r.hasExtraParamsOverride)!=null&&v?r==null?void 0:r.extraParams:n,l=g.useMemo(()=>mn(n),[n]);g.useEffect(()=>{o(null)},[e,l,t]);const i=g.useCallback(j=>{const h=ua(j.extraParams),D=mn(h);if(j.query===t&&j.category===e&&D===l){o(null);return}o({query:j.query,category:j.category,extraParams:h,hasExtraParamsOverride:!0})},[e,l,t]);return{query:a,category:c,extraParams:u,handleEntityContextChange:i}}const fa="";function ga(t){"use forget";const e=Se.c(65),{conversation:n,debugThreadId:r,messageId:o,query:a,category:c,extraParams:u,offsetTopMargin:l,isModal:i,sidebar:m}=t,b=ys(),v=Ee(),j=Zn();let h;e[0]!==c||e[1]!==u||e[2]!==a?(h={initialQuery:a,initialCategory:c,initialExtraParams:u},e[0]=c,e[1]=u,e[2]=a,e[3]=h):h=e[3];const{query:D,category:R,extraParams:J,handleEntityContextChange:C}=ma(h);let I;e[4]!==R||e[5]!==n.id||e[6]!==r||e[7]!==J||e[8]!==o||e[9]!==D?(I={clientThreadId:n.id,debugThreadId:r,messageId:o,query:D,category:R,extraParams:J},e[4]=R,e[5]=n.id,e[6]=r,e[7]=J,e[8]=o,e[9]=D,e[10]=I):I=e[10];const{messages:P,latestMessage:x,sidebarConversationId:U,error:L,searchModelQueries:H,regenerate:$,refreshFromCache:A,isStreaming:O,debugData:T}=da(I),K=gn(b),V=Xn(),{showDebugConversationTurns:ne}=er();let re;e[11]!==n.id?(re=bn(n.id),e[11]=n.id,e[12]=re):re=e[12];const G=re,ae=!1,ee=yn(b,"1290093942");let te;e[13]!==j?(te=!1,e[13]=j,e[14]=te):te=e[14];const S=!!te,E=P.flatMap(xa);let w;e[15]!==P?(w=P.filter(xn).map(ha),e[15]=P,e[16]=w):w=e[16];const k=w;let z;e[17]!==P?(z=fr(P.flatMap(ba)),e[17]=P,e[18]=z):z=e[18];const F=z,W=E.length>0,B=g.useRef(null),Y=de("bg-token-bg-primary flex min-h-screen w-full flex-col",l?K?"mt-[calc(var(--threadFlyOut-leading-height,var(--header-height))*-1)] min-h-screen":"mt-[calc(var(--threadFlyOut-leading-height,53px)*-1)] min-h-screen":"mt-0",ee&&"mb-10");let se;e[19]===Symbol.for("react.memo_cache_sentinel")?(se=de("border-token-border-light mb-[60px] flex flex-col border-t px-6"),e[19]=se):se=e[19];const xe=W?E.map((ce,we)=>{var Ne,Te,De;const{message:fe,textContent:Ce,isEmpty:Fe,displayParts:dt}=ce;return s.jsxs("div",{className:de("text-sm",we==0&&"mt-4",ae),"data-message-author-role":fe.author.role,"data-message-id":fe.id,children:[s.jsx(Pr,{parts:Ce.parts||[],isUserTurn:!1,isCompletionInProgress:!1,turnIndex:we,displayParts:dt,isActivelyStreaming:!1,shouldHideContent:!1,conversation:n,id:fe.id,isEmpty:Fe,messages:[fe],citations:(Ne=fe.metadata)==null?void 0:Ne.citations,contentReferences:(De=(Te=fe.metadata)==null?void 0:Te.content_references)==null?void 0:De.filter(pa),size:"small",flagSeverity:void 0}),ae]},fe.id)}):!L&&s.jsx(Ur,{searchModelQueries:H});let Z;e[20]!==L?(Z=L&&s.jsx("div",{className:"bg-token-bg-status-error border-token-surface-error/15 text-token-text-error my-4 border p-2 text-sm whitespace-pre-wrap",children:L.message}),e[20]=L,e[21]=Z):Z=e[21];let X;e[22]!==R||e[23]!==n.id||e[24]!==V||e[25]!==O||e[26]!==x||e[27]!==G||e[28]!==$||e[29]!==U?(X=!O&&!V&&s.jsxs("div",{className:"flex items-center justify-start pt-2 select-none",children:[x&&s.jsx(Ea,{message:x,clientThreadId:n.id}),x&&U&&G&&s.jsx(wa,{messageId:x.id,category:R,conversationId:U,metadata:{originatingConversationId:G}}),s.jsx(Ma,{onClick:$}),x&&s.jsx(Sa,{message:x})]}),e[22]=R,e[23]=n.id,e[24]=V,e[25]=O,e[26]=x,e[27]=G,e[28]=$,e[29]=U,e[30]=X):X=e[30];let ue;e[31]!==k||e[32]!==R||e[33]!==F||e[34]!==ee||e[35]!==i||e[36]!==x||e[37]!==G||e[38]!==D||e[39]!==m||e[40]!==U?(ue=ee&&x&&U&&G&&F&&s.jsx(oa,{query:D,messageIds:k,category:R,conversationId:U,originatingConversationId:G,conversationContext:F,isModal:i,sidebar:m}),e[31]=k,e[32]=R,e[33]=F,e[34]=ee,e[35]=i,e[36]=x,e[37]=G,e[38]=D,e[39]=m,e[40]=U,e[41]=ue):ue=e[41];let ve;e[42]!==Z||e[43]!==X||e[44]!==ue||e[45]!==se||e[46]!==xe?(ve=s.jsxs("div",{className:se,children:[xe,Z,X,ue]}),e[42]=Z,e[43]=X,e[44]=ue,e[45]=se,e[46]=xe,e[47]=ve):ve=e[47];let je;e[48]!==T||e[49]!==O||e[50]!==ne?(je=!1,e[48]=T,e[49]=O,e[50]=ne,e[51]=je):je=e[51];let me;e[52]!==C||e[53]!==c||e[54]!==u||e[55]!==a||e[56]!==v||e[57]!==A||e[58]!==S?(me=S&&s.jsx(Wr,{containerRef:B,query:a,category:c,extraParams:u,locale:v.locale,refreshFromCache:A,onEntityContextChange:C}),e[52]=C,e[53]=c,e[54]=u,e[55]=a,e[56]=v,e[57]=A,e[58]=S,e[59]=me):me=e[59];let ye;return e[60]!==ve||e[61]!==je||e[62]!==me||e[63]!==Y?(ye=s.jsxs("div",{ref:B,className:Y,children:[ve,je,me]}),e[60]=ve,e[61]=je,e[62]=me,e[63]=Y,e[64]=ye):ye=e[64],ye}function pa(t){return t.type!=="product_entity"}function ba(t){var n;const e=t.content;return!e||e.content_type!==xs.Text&&e.content_type!==xs.MultimodalText?[]:(n=e.parts)!=null?n:[]}function ha(t){return t.id}function xa(t,e){var c,u,l;const n=e===0;if(!t.content||t.content.content_type!==xs.Text&&t.content.content_type!==xs.MultimodalText)return[];const r=t.content,o=(u=(c=t.metadata)==null?void 0:c.content_references)==null?void 0:u.some(_a);if(n&&r.parts[0]&&typeof r.parts[0]=="string"&&r.parts[0].startsWith(fa)&&!o)return[];const a=!r.parts.some(ya)&&!o;return[{message:t,textContent:r,isEmpty:a,displayParts:gr((l=r.parts)!=null?l:[])}]}function ya(t){return t!==""}function _a(t){return t.type!=="hidden"}function Sa(t){"use forget";var m;const e=Se.c(11),{message:n}=t;let r,o,a;if(e[0]!==n){a=Symbol.for("react.early_return_sentinel");e:{if(r=Ca(n!=null?n:null),!r){a=null;break e}o=(m=r==null?void 0:r.map(ja).filter(va))!=null?m:[]}e[0]=n,e[1]=r,e[2]=o,e[3]=a}else r=e[1],o=e[2],a=e[3];if(a!==Symbol.for("react.early_return_sentinel"))return a;const c=o;let u;e[4]!==c?(u=s.jsx(_r,{children:s.jsx(Sr,{sourcesUrls:c,className:"hover:bg-token-bg-secondary rounded-lg"})}),e[4]=c,e[5]=u):u=e[5];let l;e[6]!==r?(l=s.jsx(vr,{children:s.jsx(jr,{className:"bg-token-bg-primary border-token-border-default max-h-[50vh] max-w-[400px] overflow-y-auto rounded-[20px] border-1 bg-clip-padding px-4 py-3 shadow-md",side:"top",sideOffset:4,align:"center",collisionPadding:28,avoidCollisions:!0,children:s.jsx(ka,{items:r})})}),e[6]=r,e[7]=l):l=e[7];let i;return e[8]!==u||e[9]!==l?(i=s.jsxs(Cr,{children:[u,l]}),e[8]=u,e[9]=l,e[10]=i):i=e[10],i}function va(t){return!!t}function ja(t){return t.url}function Ca(t){var o,a;if(!t)return;const e=(a=(o=t.metadata)==null?void 0:o.search_result_groups)!=null?a:[];if(!e.length)return;const n=new Map;e.forEach(c=>{var u;((u=c.entries)!=null?u:[]).forEach(l=>{var m,b;if(!(l!=null&&l.url)||n.has(l.url))return;const i=he(q({},l),{attribution:(b=(m=l.attribution)!=null?m:c.domain)!=null?b:yr(l.url,"short")});n.set(l.url,i)})});const r=Array.from(n.values()).sort((c,u)=>{var l,i;return((l=u.pub_date)!=null?l:0)-((i=c.pub_date)!=null?i:0)});if(r.length)return r}function ka({items:t}){return t.length===0?null:s.jsx("div",{className:"flex flex-col gap-3",children:s.jsx("ul",{className:"-mx-2 flex flex-col gap-1",children:t.map((e,n)=>{var r;return s.jsx("li",{children:s.jsx(kr,{item:e})},"".concat((r=e.url)!=null?r:"source","-").concat(n))})})})}const Ma=t=>{"use forget";const e=Se.c(5),{onClick:n}=t,r=Ee();let o;e[0]!==r?(o=r.formatMessage({id:"gW2N97",defaultMessage:"Try again..."}),e[0]=r,e[1]=o):o=e[1];let a;return e[2]!==n||e[3]!==o?(a=s.jsx(Fs,{icon:Mr,onClick:n,label:o,size:"med"}),e[2]=n,e[3]=o,e[4]=a):a=e[4],a},Ea=t=>{"use forget";const e=Se.c(4),{message:n,clientThreadId:r}=t,o=Bn();let a;return e[0]!==r||e[1]!==n||e[2]!==o?(a=s.jsx(Ar,{size:"med",onClick:async c=>{const u=await Er({id:n.id,role:hn.Assistant,messages:[n]},o,r);await wr(u,void 0,c)}}),e[0]=r,e[1]=n,e[2]=o,e[3]=a):a=e[3],a},wa=t=>{"use forget";const e=Se.c(17),{messageId:n,category:r,conversationId:o,metadata:a}=t,c=Ee(),[u,l]=g.useState(null);let i;e[0]!==r||e[1]!==o||e[2]!==u||e[3]!==n||e[4]!==a?(i=h=>{u!==h&&(Nr({rating:Tr(h)},o,n,"CHAT",a),hs.logEventWithStatsig(h==="thumbsDown"?"Sidebar Message Feedback Thumbs Down Clicked":"Sidebar Message Feedback Thumbs Up Clicked","chatgpt_sidebar_thumb_feedback",{message_id:n,conversation_id:o,originating_conversation_id:a.originatingConversationId,rating:h,category:r,surface:"web"})),l(D=>D===h?null:h)},e[0]=r,e[1]=o,e[2]=u,e[3]=n,e[4]=a,e[5]=i):i=e[5];const m=i;let b;e[6]!==u||e[7]!==m||e[8]!==c?(b=u!=="thumbsDown"&&s.jsx(Fs,{size:"med",onClick:()=>{m("thumbsUp")},selected:u==="thumbsUp",icon:u==="thumbsUp"?pr:br,label:c.formatMessage({id:"ConversationTurn.goodResponseTooltip",defaultMessage:"Good response"}),testId:"good-response-turn-action-button"}),e[6]=u,e[7]=m,e[8]=c,e[9]=b):b=e[9];let v;e[10]!==u||e[11]!==m||e[12]!==c?(v=u!=="thumbsUp"&&s.jsx(Fs,{size:"med",onClick:()=>{m("thumbsDown")},selected:u==="thumbsDown",icon:u==="thumbsDown"?hr:xr,label:c.formatMessage({id:"ConversationTurn.badResponseTooltip",defaultMessage:"Bad response"}),testId:"bad-response-turn-action-button"}),e[10]=u,e[11]=m,e[12]=c,e[13]=v):v=e[13];let j;return e[14]!==b||e[15]!==v?(j=s.jsxs(s.Fragment,{children:[b,v]}),e[14]=b,e[15]=v,e[16]=j):j=e[16],j};function fn(t){return t.length>0&&t[0]===t[0].toLocaleUpperCase()?t:t.split(" ").map(e=>Dr(e)).join(" ")}function ho(t){"use forget";const e=Se.c(73),{conversation:n,sidebar:r,type:o}=t,a=o===void 0?"sidebar":o,c=ys(),u=Ee(),{contentReferenceStartIndex:l,messageId:i,query:m,category:b,debugThreadId:v,extraParams:j}=r,{setScrollTopForActive:h,currentHistoryScrollTop:D,setFullWidthImageHeightForIndex:R,currentHistoryFullWidthImageHeight:J,activeHistoryIndex:C,closeThreadSidebarAndResetHistory:I}=_n();let P;e[0]!==c?(P=yn(c,"1225428216"),e[0]=c,e[1]=P):P=e[1];const x=P;let U;e[2]!==n.id||e[3]!==i?(U={clientThreadId:n.id,messageId:i},e[2]=n.id,e[3]=i,e[4]=U):U=e[4];const L=U,H=g.useRef(null);let $,A;e[5]!==h?($=()=>{const S=H.current;if(!S)return;const E=function(){S&&h&&h(S.scrollTop)};return S.addEventListener("scroll",E,{passive:!0}),()=>{S.removeEventListener("scroll",E)}},A=[H,h],e[5]=h,e[6]=$,e[7]=A):($=e[6],A=e[7]),g.useEffect($,A);let O;e[8]!==C||e[9]!==R?(O=S=>{C<0||R(C,S)},e[8]=C,e[9]=R,e[10]=O):O=e[10];const T=O;let K;e[11]!==m?(K=fn(m),e[11]=m,e[12]=K):K=e[12];const V=K,ne="".concat(i,"-category-").concat(b,"-query-").concat(m),re=b==="product"&&!x||b==="product_link";let G;if(re){let S;e[13]!==m?(S={query:m,title:m,provider:"",id:"",url:""},e[13]=m,e[14]=S):S=e[14];const E=S,w=a==="sidebar";let k;e[15]!==L||e[16]!==l||e[17]!==n.id||e[18]!==i||e[19]!==E||e[20]!==w?(k=s.jsx(Rr,{product:E,setUpdatedProduct:Na,clientThreadId:n.id,messageId:i,contentReferenceStartIndex:l,productIndex:-1,analyticsMetadata:L,offsetTopMargin:w}),e[15]=L,e[16]=l,e[17]=n.id,e[18]=i,e[19]=E,e[20]=w,e[21]=k):k=e[21],G=k}else{const S=b!=null?b:"other",E=a==="sidebar",w=a==="modal";let k;e[22]!==n||e[23]!==v||e[24]!==j||e[25]!==i||e[26]!==m||e[27]!==r||e[28]!==w||e[29]!==S||e[30]!==E?(k=s.jsx(ga,{conversation:n,debugThreadId:v,messageId:i,query:m,category:S,extraParams:j,offsetTopMargin:E,sidebar:r,isModal:w}),e[22]=n,e[23]=v,e[24]=j,e[25]=i,e[26]=m,e[27]=r,e[28]=w,e[29]=S,e[30]=E,e[31]=k):k=e[31],G=k}const ae=D,ee=J!=null?J:0,te=ae<=ee||re;switch(a){case"sidebar":{let S;e[32]!==h?(S=W=>h(W),e[32]=h,e[33]=S):S=e[33];let E;e[34]!==te||e[35]!==V?(E=W=>{const{handleClose:B}=W;return s.jsx(Or,{title:V,isTransparent:te,onClose:B})},e[34]=te,e[35]=V,e[36]=E):E=e[36];let w;e[37]!==u?(w=u.formatMessage({id:"region.sidebar.entity",defaultMessage:"Entity details"}),e[37]=u,e[38]=w):w=e[38];let k;e[39]!==b||e[40]!==T?(k={category:b,onFullWidthImageHeightChange:T},e[39]=b,e[40]=T,e[41]=k):k=e[41];let z;e[42]!==G||e[43]!==k?(z=s.jsx(on,{value:k,children:G}),e[42]=G,e[43]=k,e[44]=z):z=e[44];let F;return e[45]!==I||e[46]!==D||e[47]!==ne||e[48]!==w||e[49]!==z||e[50]!==S||e[51]!==E?(F=s.jsx(Ir,{handleClose:I,onScroll:S,restoreScrollTop:D,leadingFullBleed:!0,renderLeading:E,ariaLabel:w,children:z},ne),e[45]=I,e[46]=D,e[47]=ne,e[48]=w,e[49]=z,e[50]=S,e[51]=E,e[52]=F):F=e[52],F}case"modal":{let S;e[53]!==m?(S=fn(m),e[53]=m,e[54]=S):S=e[54];const E=re||te;let w;e[55]!==b||e[56]!==T?(w={category:b,onFullWidthImageHeightChange:T},e[55]=b,e[56]=T,e[57]=w):w=e[57];let k;e[58]!==G||e[59]!==w?(k=s.jsx(on,{value:w,children:G}),e[58]=G,e[59]=w,e[60]=k):k=e[60];const z=te?"bg-token-bg-primary/60 hover:bg-token-bg-primary/70 backdrop-blur-xl backdrop-filter":"bg-token-bg-primary hover:bg-token-interactive-bg-secondary-hover";let F;e[61]!==z?(F=de("absolute end-[30px] top-2 z-10",z),e[61]=z,e[62]=F):F=e[62];let W;e[63]!==I||e[64]!==F?(W=s.jsx(tr,{className:F,onClick:I}),e[63]=I,e[64]=F,e[65]=W):W=e[65];let B;return e[66]!==I||e[67]!==ne||e[68]!==k||e[69]!==W||e[70]!==S||e[71]!==E?(B=s.jsxs(sr,{testId:"modal-chat-screen-entity-flyout",className:"relative max-w-[500px]",size:"custom",type:"success",position:"end",noPadding:!0,title:S,contentRef:H,visuallyHiddenHeader:E,headerClassName:"ps-6 border-b border-light fixed min-w-full bg-token-bg-primary z-1",isOpen:!0,onClose:I,rootClassName:"z-0",children:[k,W]},ne),e[66]=I,e[67]=ne,e[68]=k,e[69]=W,e[70]=S,e[71]=E,e[72]=B):B=e[72],B}}}function Na(t){}export{ho as ChatScreenEntityFlyout};
//# sourceMappingURL=f7ry3b27l4mi04ux.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccuh82u2o8dksknu.js","assets/mw35uwhq4g8r9eam.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/kcb36nqzd82xrje1.js","assets/g2euln7v5pbm31qa.js","assets/conversation-small-lq38g8zw.css","assets/f1z86ofxw24qx9et.js","assets/mup9ueu3skgxepce.js","assets/nlbf1hgfq5fc7tvs.js","assets/cz2iwgzw4rck3xnv.js","assets/j0kb80r7gb2tll8u.js"])))=>i.map(i=>d[i]);
var Ne=Object.freeze,Te=Object.defineProperty,kt=Object.defineProperties;var wt=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var St=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable;var Ie=(s,e,a)=>e in s?Te(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,w=(s,e)=>{for(var a in e||(e={}))St.call(e,a)&&Ie(s,a,e[a]);if(Ae)for(var a of Ae(e))Et.call(e,a)&&Ie(s,a,e[a]);return s},D=(s,e)=>kt(s,wt(e));var B=(s,e)=>Ne(Te(s,"raw",{value:Ne(e||s.slice())}));import{h as T,r as v,j as t,M as h,b as xe,u as et,i as H,c as U,e as ye,a as re,d as Q,k as je,_ as be}from"./mw35uwhq4g8r9eam.js";import{p as J,dz as ve,dm as _t,dp as W,cd as O,aB as R,dt as Nt,R as Y,u as N,dh as At,er as Ce,pu as It,pv as Le,lq as Tt,ag as ue,ah as me,e7 as ie,gk as Lt,Q as Rt,xX as Dt,cA as Ot,cw as Ft,aA as L,ek as tt,cu as Bt,fj as Wt,g as Ut,J as $,f5 as Vt,e5 as Gt,e4 as zt,f7 as q,sE as Ht,fv as $t,_ as Z,aa as Qt,D as oe,eX as ne,dn as qt,cB as z,dW as G,dr as Kt,O as ee,he as Me,l_ as Yt,sC as Xt,aO as se,nq as Jt,vD as Zt,yj as es,vE as ts,d_ as st,eT as ss,n2 as de,aL as at,au as ot,a7 as Pe,gO as as,e_ as os,mI as ns,dy as pe,aP as rs,cF as fe,am as is,fG as ls,b9 as cs,eq as ds,al as nt,yk as us,yl as ms,dX as fs,nm as ps,fw as gs,be as ke}from"./d0xa318sl7ywi0za.js";import{A as hs,X as xs,aB as Re,iv as ys,iw as js,ag as bs,ah as vs,aG as rt,aC as ge,ai as Cs,ze as Ms,dE as Ps,vH as ks,cg as ws,bP as it,bK as we,bL as Se,cv as Ss,fx as Es,bT as _s,bU as Ns,h0 as De,h2 as As,h3 as Oe,c7 as lt,hQ as Is,zD as Ts,h4 as ct,zE as Ls,bQ as Rs,zF as Ds,bn as Os,xr as Fs,zG as X,pc as _,zH as Bs,ba as Ws,zI as Us,zJ as dt,rW as Vs,zK as Gs,zL as ut,zM as Fe,zN as zs,zO as Hs,bW as $s,zP as Qs,zQ as qs,po as Ks,zR as Ys,kM as Xs}from"./g2euln7v5pbm31qa.js";import{R as Js}from"./ir2ki5n4li2l685e.js";import{s as Be,B as Zs}from"./f3alhksm9dfhscbq.js";import{d as ea}from"./kl7c6054usfnqmd4.js";import{g as ta}from"./k97n0y6ba9c9h39c.js";import{u as sa}from"./f1z86ofxw24qx9et.js";import{G as aa,P as oa,A as na}from"./mn4kjdml8rch5m0h.js";import{T as ra}from"./kime2kclye4c7vau.js";import{S as ia}from"./bzxitjpdx1z6hpbp.js";import{S as la}from"./mraf0ji5wx0y0vgl.js";import{S as ca}from"./b5fq0dy7czwrodri.js";import{P as da}from"./jwvkjd19mng37ttq.js";import{b as ua,c as ma}from"./keveoph4stiufpkl.js";import{T as fa,P as mt}from"./f6omfo4phchipc3g.js";import{f as Ee}from"./nte82mqftpddm52f.js";import{F as ft,a as pt,b as gt}from"./hfid7en6iik0sftd.js";import{u as pa}from"./ffwmresmynw1bm5w.js";import{R as K,U as ga,G as ha}from"./laaag2ef692jond3.js";import{u as xa}from"./i2ga2av81fancagd.js";import{u as ya}from"./fcq77kkgzxuh69zn.js";import"./kc32gem4l2t3hnxt.js";import"./of0vtq1gcmd3mc3z.js";import"./kcb36nqzd82xrje1.js";import"./ft9n9n4a6jtky5jr.js";import"./ht6uzt6gonugd1uu.js";import"./ksjc0uotmfxlch1n.js";import"./mdhx8v0rk5lzwfyg.js";import"./jcku1nkz6suna4le.js";import"./mbe20fj6m6dgadji.js";import"./o8prkdn1e023m13y.js";import"./pbx1h703pubtj7lo.js";import"./l4v2i2dq9gwjak1q.js";import"./gy0y4tth3qg3lagh.js";import"./ku5gt2a8mwp30g8p.js";import"./eelq57udayslns33.js";import"./m2xec4gtk8ypy5ff.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./iej0cupg2dqkmejt.js";import"./3xa3aq3nbd1nd678.js";import"./fgu1j7e2q9emyzhc.js";import"./ouqfkhwho1d793yt.js";import"./f1b2o8cofuf894iu.js";import"./c08xobknzytt16by.js";import"./iio0zgk2sqlxbcjy.js";import"./euzz83urne0h11ye.js";import"./e1t6unu3olubcgkg.js";import"./lcy2t692punsnn4q.js";import"./kcu1x1p0wojynl2j.js";import"./icplq4r4g4m9zwmv.js";import"./m2d85ixk2zz51mk9.js";import"./pdbvfcpzcg4ny695.js";import"./ki6jbruunap4y9wd.js";import"./k9kw5016oyk4ib9g.js";import"./lvrypwdhnjlsz45f.js";import"./gywigwwdbkbcgqzt.js";import"./la79eh1q1qxrfcxi.js";import"./i693kfbch8smq86y.js";import"./gy1lpvuoewmzh42c.js";import"./iknugp00locgtve5.js";import"./h1em0bjkpkjv8ykw.js";import"./kbj1b07s2z6vxqkg.js";import"./hu1bt0oauegdhua6.js";import"./oj9zwxa6l3kpv1x2.js";import"./h4yh1661qhhbu5v5.js";import"./bymjh2zr7tar40cn.js";import"./nfv7adzg2a3x1oo5.js";import"./dwcyf9zwrp4hlt30.js";import"./d0pdpvvqx24hob9r.js";import"./nc5snhuo5k648r43.js";import"./k527f0oyvlppyfoy.js";import"./nea9sowk1s9pzcpg.js";import"./ey0kaiz1v4k0znjj.js";import"./ivhsa3khymuxymxc.js";import"./egtdmf6pnrvsdet3.js";import"./iue4s7sqsxkz98qq.js";import"./i5mildogukgpyzi1.js";import"./kgh7mr8h6ogbitue.js";import"./m8a4wb7r927qi7x1.js";import"./c88b35umkfs90bi2.js";import"./0vzw4aujxrcpkx50.js";import"./cfvbqrbqhscaxqmy.js";import"./ieha0yr7osm0cz9k.js";function ja(s){return xe({queryKey:["workspace",s,"owner_count"],queryFn:async()=>await Y.safeGet("/accounts/{account_id}/users/owner_count",{parameters:{path:{account_id:s}}})})}function ba({workspace:s}){var S;const e=T(),a=J(),n=ve(),[o,r]=v.useState(""),c=s.isOwnerOfAccount(),i=ja(s.id),{data:l}=_t(),[u,f]=v.useState(!1),[d,m]=v.useState(!1);if(!l)return null;const g=l.accountItems.find(E=>E.id!==s.id),y=()=>{O.setLeaveWorkspaceData(null)},p=async()=>{if(n!==void 0){m(!0);try{await Y.safeDelete("/accounts/{account_id}/users/{user_id}",{parameters:{path:{account_id:s.id,user_id:n.id}}}),f(!0)}catch(E){a.danger(e.formatMessage({id:"leaveWorkspaceModal.leaveFailed",defaultMessage:"Failed to leave workspace"}),{toastId:"leave_workspace_modal",loggingTitle:"Failed to leave workspace",loggingDescription:"Error message when user fails to leave workspace"})}m(!1)}};if(u)return t.jsx(Ma,{workspace:s,fallbackWorkspace:g,onClose:y});if(!i.data)return t.jsx(va,{onClose:y});const k=i.data.total_count,x=i.data.owner_count;if(c&&x<2)return t.jsx(Ca,{workspace:s,onClose:y});const b=t.jsx(W.Button,{onClick:()=>{O.setLeaveWorkspaceData(null)},title:e.formatMessage({id:"leaveWorkspaceModal.cancel",defaultMessage:"Cancel"})}),C=t.jsx(W.Button,{color:"danger",disabled:n===void 0||d||o===""||o.toLowerCase()!==((S=n==null?void 0:n.email)==null?void 0:S.toLowerCase()),title:e.formatMessage({id:"leaveWorkspaceModal.leaveButton",defaultMessage:"Leave workspace"}),onClick:()=>p()}),M=e.formatMessage({id:"leaveWorkspaceModal.enterEmailToConfirm",defaultMessage:"Leave Workspace - Enter your email to confirm"});return t.jsx(R,{testId:"modal-leave-workspace",isOpen:!0,onClose:y,showCloseButton:!0,type:"danger",title:e.formatMessage({id:"leaveWorkspaceModal.leaveWorkspace",defaultMessage:"Leave the {workspaceName} workspace"},{workspaceName:s.data.name}),primaryButton:C,secondaryButton:b,children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs("div",{className:"flex flex-row gap-3",children:[t.jsx(Nt,{size:"large",src:s.data.profilePictureUrl}),t.jsxs("div",{className:"flex flex-col justify-around",children:[t.jsx("div",{className:"text-base font-semibold",children:s.data.name}),t.jsx("div",{className:"text-token-text-tertiary text-sm",children:t.jsx(h,{id:"leaveWorkspaceModal.memberCount",defaultMessage:"{memberCount, plural,\n                  one {1 member}\n                  other {{memberCount} members}\n                }",values:{memberCount:k}})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-base font-semibold",children:t.jsx(h,{id:"leaveWorkspaceModal.leaveAreYouSure",defaultMessage:"Are you sure?"})}),t.jsxs("ul",{className:"text-token-text-secondary ms-3 list-disc text-sm",children:[t.jsx("li",{className:"mb-2",children:t.jsx(h,{id:"leaveWorkspaceModal.leaveWorkspaceWarning1",defaultMessage:"This will remove you from your workspace and you won't be able to access all data, including profile, settings, and chat history."})}),t.jsx("li",{children:t.jsx(h,{id:"leaveWorkspaceModal.leaveWorkspaceWarning2",defaultMessage:"You will lose access to all channels and messages in this workspace."})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"mb-2 text-base font-semibold",children:M}),t.jsx(hs,{ariaLabel:M,name:"typeEmailConfirm",placeholder:"abcd@acme.com",value:o,onChange:E=>{r(E.target.value)}})]})]})})}function va({onClose:s}){return t.jsx(R,{testId:"modal-empty-loading",isOpen:!0,onClose:s,showCloseButton:!0,type:"warning",children:t.jsx("div",{className:"flex flex-row justify-center",children:t.jsx(Ce,{})})})}function Ca({workspace:s,onClose:e}){const a=T(),n=t.jsx(W.Button,{onClick:()=>{O.setLeaveWorkspaceData(null)},title:a.formatMessage({id:"leaveWorkspaceModal.ok",defaultMessage:"OK"})});return t.jsx(R,{testId:"modal-cant-leave-workspace",isOpen:!0,onClose:e,showCloseButton:!0,type:"danger",title:a.formatMessage({id:"leaveWorkspaceModal.cantLeaveWorkspace",defaultMessage:"Couldn't leave the {workspaceName} workspace"},{workspaceName:s.data.name}),secondaryButton:n,children:t.jsx(h,{id:"leaveWorkspaceModal.lastOwnerWarning",defaultMessage:"Because you're the only owner in the {workspaceName} workspace, assign the owner role to another member before leaving.",values:{workspaceName:s.data.name}})})}function Ma({workspace:s,fallbackWorkspace:e,onClose:a}){const n=et(),o=T(),r=J(),c=N(),i=At(f=>f.currentWorkspace),l=()=>{if(e!==void 0&&i)if(O.setLeaveWorkspaceData(null),i.id===s.id){const{willRedirect:f}=It(n,e.id,c,o,r);f||Le()}else n.invalidateQueries(Tt());else O.setLeaveWorkspaceData(null),ue.deleteCookie(me.Workspace),ue.deleteCookie(me.WorkspaceResidencyRegion),Le();a()},u=e!==void 0?t.jsx(W.Button,{color:"primary",onClick:l,title:o.formatMessage({id:"leaveWorkspaceModal.done",defaultMessage:"Done"})}):t.jsx(W.Button,{color:"primary",onClick:l,title:o.formatMessage({id:"leaveWorkspaceModal.startPersonalAccount",defaultMessage:"Start using ChatGPT for free"})});return t.jsx(R,{testId:"modal-left-workspace",isOpen:!0,onClose:l,primaryButton:u,type:"success",title:o.formatMessage({id:"leaveWorkspaceModal.leftWorkspaceTitle",defaultMessage:"Successfully left the {workspaceName} workspace"},{workspaceName:s.data.name}),children:t.jsx("div",{className:"flex flex-col gap-5",children:t.jsx("p",{children:e!==void 0?t.jsx(h,{id:"leaveWorkspaceModal.leftWorkspaceDescription",defaultMessage:"You have successfully left the {workspaceName} workspace.",values:{workspaceName:s.data.name}}):t.jsx(h,{id:"leaveWorkspaceModal.leftWorkspaceDescriptionNoOtherWorkspaces",defaultMessage:"You have successfully left the {workspaceName} workspace. This will create your personal workspace automatically.",values:{workspaceName:s.data.name}})})})})}function ht(s){var e;return!s||!s.attachments||s.attachments.length===0||s.attachments[0].kind!=="deep_research"?null:{permissions:(e=s.permissions.share_setting)!=null?e:"public",postId:s.id,messages:s.attachments[0].messages}}const Pa="https://chatgpt.com/s/";function he(s){return"".concat(Pa).concat(s)}function te(s){return["research","result","share",s]}const ka="https://chatgpt.com/post/...";function wa({taskId:s,isLoading:e,sharedResearchResult:a,title:n,serverThreadId:o}){var x;const[r,c]=v.useState(!1),i=(b,C)=>{b&&rt(b,void 0,C).then(()=>{c(!0),setTimeout(()=>{c(!1)},1500)}).catch(()=>{})},l=et(),u=J(),{mutate:f,isPending:d}=H({scope:{id:s},mutationFn:async b=>{const C=await Y.safePost("/share/post",{requestBody:{attachments_to_create:[{kind:"deep_research",conversation_id:o,task_id:b}]}});return ht(C.post)},onSuccess:b=>{if(!b){u.danger("Failed to create share link");return}l.setQueryData(te(s),b),i(he(b.postId))}}),{mutate:m}=H({scope:{id:(x=a==null?void 0:a.postId)!=null?x:""},mutationFn:async({sharedResearchResultId:b,access:C})=>(await Y.safePost("/share/post/update_access",{requestBody:{post_id:b,share_settings:C}})).share_setting,onMutate:({access:b})=>{const C=te(s),M=l.getQueryData(C);return l.setQueryData(C,M&&D(w({},M),{permissions:b})),{previousAccess:M==null?void 0:M.permissions}},onSuccess:b=>{const C=te(s),M=l.getQueryData(C);M&&l.setQueryData(C,D(w({},M),{permissions:b}))},onError:(b,C,M)=>{var A;const S=te(s),E=l.getQueryData(S);l.setQueryData(S,E&&D(w({},E),{permissions:(A=M==null?void 0:M.previousAccess)!=null?A:"public"}))}}),j=v.useRef(null),g=b=>{var C;(C=j.current)==null||C.focus(),a?i(he(a.postId),b):f(s)},y=b=>{a&&m({sharedResearchResultId:a.postId,access:b})},p=a?he(a.postId):void 0,k=b=>{switch(b){case"public":return ge.PUBLIC;case"private":return ge.PRIVATE;case"workspace":return ge.WORKSPACE}};return t.jsx(Zs,{inputRef:j,isLoading:e,isPublishedVersionLatest:!0,sharedObject:a&&{id:a.postId,title:n,access:k(a.permissions)},title:n,shareTextPlaceholder:ka,shareUrl:p,isCopySuccessful:r,isCreateLinkRequestInProgress:d,handlePrivacyChange:y,handlePrimaryButtonClick:g})}function Sa({taskId:s,isDisabled:e,title:a,threadId:n}){const o=ie(),r=Lt(),c=T(),i=Rt(n),{data:l,isLoading:u}=xe({enabled:!!s&&!e,queryKey:te(s),queryFn:async()=>{if(!i)return null;const p=await Y.safeGet("/share/post/by_research_task/{task_id}",{parameters:{path:{task_id:s}}});return p.post?ht(p.post):null}}),[f,d]=v.useState(!1),{triggerRef:m,container:j}=Dt({isOpen:f,onClose:()=>d(!1)}),g=(o==null?void 0:o.isWorkspaceAccount())&&!(o!=null&&o.features.includes(Ot.WorkspaceShareLinks));if(e||g||!i||r)return t.jsx(Ft,{label:g?c.formatMessage(Be.workspaceSharingDisabled):c.formatMessage(Be.share),children:t.jsx(xs,{disabled:!0,icon:Re})});const y=({className:p})=>t.jsxs("div",{className:"relative h-fit w-fit",children:[t.jsx(Re,{className:p}),l&&t.jsx("div",{className:"absolute end-0 top-[1px] flex items-center gap-1.5",children:t.jsx("div",{className:"h-1.5 w-1.5 rounded-full"})})]});return t.jsxs(ys,{open:f,onOpenChange:d,children:[t.jsx(js,{ref:m,asChild:!0,children:t.jsxs(L,{children:[t.jsx(y,{className:"me-1 h-4 w-4"}),t.jsx(h,{id:"vaZOk/",defaultMessage:"Share Link"})]})}),t.jsx(tt,{children:f&&t.jsx(bs,{forceMount:!0,container:j,children:t.jsx(vs,{align:"end",className:"z-50",sideOffset:8,collisionPadding:8,children:t.jsx(wa,{title:a,taskId:s,sharedResearchResult:l,isLoading:u,serverThreadId:i})})})})]})}const Ea=({messages:s,threadId:e,taskId:a})=>{var M;const n=T(),[o,r]=v.useState(!0),c=v.useRef(null),i=Bt(e),l=Wt(s),[u,f]=v.useState(!1),d=J(),m=N(),j=Ut(m,e),g=$(m,"3930843960"),y=$(m,"1596731578"),p=n.formatMessage({id:"deepresearch.downloadFileError",defaultMessage:"Failed to download file. Please try again later."}),k=async S=>{var E;if(l){if(!i){d.warning("Failed to download file. Please try refreshing the page."),Z.logEventWithStatsig("Deep Research Export Missing serverThreadId","deep_research_export_missing_serverthreadid");return}f(!0);try{const A=Qt(l),P=await Y.safePost("/export_doc/deep_research",{requestBody:{conversation_id:i,message_id:l.id,export_type:S},skipJsonTransform:!0});if(!P.ok)throw P.status>=400&&P.status<600&&d.danger(p,{toastId:"deep_research_share_modal",loggingTitle:p,loggingDescription:"Error message when a file download fails"}),new Error("Failed to download file");const I=await P.blob(),Mt=P.headers.get("Content-Disposition"),Pt=(E=ta(Mt))!=null?E:"ChatGPT Deep Research.".concat(S);ea(I,Pt),ks(m,{source:"mouse",type:"download",selectedText:A,location:"research-report",contentType:"text",messageId:l.id,serverThreadId:i,productLogOnly:!0})}catch(A){oe.addError(A)}finally{f(!1)}}},x=()=>{r(!1),c.current=setTimeout(()=>{$t.setResearchShareIntent(null)},400)},b=(M=l==null?void 0:l.metadata)==null?void 0:M.async_task_title,C=Vt();return b?t.jsx(tt,{children:t.jsx(W.Root,{isOpen:o,onClose:x,className:"container",testId:"modal-deep-research-share",children:t.jsx(W.Overlay,{showBackground:!0,children:t.jsx(W.Content,{size:"normal",className:"flex max-w-4xl flex-col bg-transparent focus:outline-hidden",children:t.jsxs(Gt.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:C?Cs:Ms,className:"bg-token-bg-primary flex max-w-4xl flex-col overflow-x-scroll rounded-2xl focus:outline-hidden",children:[t.jsx(W.Header,{type:"success",title:t.jsx("p",{className:"text-token-text-primary ps-2",children:t.jsx(h,{id:"pV8JSS",defaultMessage:"Preview"})}),closeButtonSide:"left",accessory:t.jsxs(t.Fragment,{children:[g&&i!==void 0&&t.jsxs(q.Root,{open:u?!1:void 0,children:[t.jsx(q.BasicTrigger,{asChild:!0,children:t.jsx(L,{disabled:u,loading:u,color:"secondary",icon:Ps,children:n.formatMessage({id:"deepresearch.download-button",defaultMessage:"Download"})})}),t.jsx(q.Portal,{children:t.jsxs(q.Content,{align:"end",children:[t.jsx(q.Item,{onClick:S=>{S.preventDefault(),k("pdf")},children:n.formatMessage({id:"deepresearch.download-pdf-button.menu",defaultMessage:"PDF Document (.pdf)"})}),y&&t.jsx(q.Item,{onClick:S=>{S.preventDefault(),k("docx")},children:n.formatMessage({id:"deepresearch.download-docx-button.menu",defaultMessage:"Microsoft Word Document (.docx)"})})]})})]}),t.jsx(Sa,{taskId:a,isDisabled:!1,title:b,threadId:e})]}),closeButton:t.jsx(zt,{onClick:x,iconSize:"lg"})}),t.jsx("div",{className:"@container/thread flex min-w-0 flex-col gap-4 px-12 py-8",children:t.jsx(Ht,{children:t.jsx(Js,{messages:s,conversation:j})})})]})})})})}):null};function _a(){"use forget";const s=U.c(13),e=T(),a=ne(Ia),n="https://platform.openai.com/verify-age";let o;s[0]!==e?(o=e.formatMessage(F.title),s[0]=e,s[1]=o):o=s[1];let r;s[2]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("p",{className:"mb-4",children:t.jsx(h,w({},F.description0))}),s[2]=r):r=s[2];let c;s[3]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(We,{children:t.jsx(h,w({},F.subtitle1))}),s[3]=c):c=s[3];let i;s[4]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsxs("ol",{className:"ms-4 mb-4 list-decimal",children:[t.jsx("li",{className:"",children:t.jsx(h,w({},F.description1Bullet1))}),t.jsx("li",{children:t.jsx(h,w({},F.description1Bullet2))})]}),s[4]=i):i=s[4];let l;s[5]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("p",{className:"mb-4 font-semibold",children:t.jsx(h,w({},F.description1a))}),s[5]=l):l=s[5];let u;s[6]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx("p",{className:"mb-4",children:t.jsx(h,w({},F.description1b))}),s[6]=u):u=s[6];let f;s[7]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(We,{children:t.jsx(h,w({},F.subtitle2))}),s[7]=f):f=s[7];let d;s[8]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsxs("div",{className:"text-token-text-secondary",children:[r,c,i,l,u,f,t.jsx("p",{className:"mb-4",children:t.jsx(h,D(w({},F.description2),{values:{learnMoreLink:Aa}}))})]}),s[8]=d):d=s[8];let m;s[9]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("div",{className:"mt-4 flex justify-center",children:t.jsx(L,{color:"primary",as:"link",to:n,openNewTab:!0,onClick:Na,icon:ws,children:t.jsx(h,w({},F.redirect))})}),s[9]=m):m=s[9];let j;return s[10]!==a||s[11]!==o?(j=t.jsxs(R,{testId:"modal-age-verification-interstitial",type:"success",isOpen:a,onClose:qt,title:o,children:[d,m]}),s[10]=a,s[11]=o,s[12]=j):j=s[12],j}function Na(){return O.closeModal(G.AgeVerificationInterstitial)}function Aa(s){return t.jsx("a",{href:"https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",target:"_blank",rel:"noreferrer",className:"cursor-pointer font-normal underline",children:s})}function Ia(s){return s.activeModals.has(G.AgeVerificationInterstitial)}var $e;const We=z.h3($e||($e=B(["text-token-text-primary text-base mb-1"]))),F=ye({title:{id:"AgeVerificationInterstitial.title",defaultMessage:"Please verify your age"},redirect:{id:"AgeVerificationInterstitial.redirect",defaultMessage:"Sign in on platform.openai.com"},description0:{id:"AgeVerificationInterstitial.description0",defaultMessage:"To continue using ChatGPT, you need to complete a brief age verification check"},subtitle1:{id:"AgeVerificationInterstitial.title1",defaultMessage:"What will happen next?"},description1Bullet1:{id:"AgeVerificationInterstitial.description1",defaultMessage:"You will be redirected to platform.openai.com where you will need to sign in."},description1Bullet2:{id:"AgeVerificationInterstitial.description2",defaultMessage:"You will then be redirected to Yoti, our age verification provider, to verify your age."},description1a:{id:"AgeVerificationInterstitial.description1a",defaultMessage:"If you are between the ages of 13 and 17, your parent or guardian must complete the age verification check on your behalf."},description1b:{id:"AgeVerificationInterstitial.description1b",defaultMessage:"The process is quick and secure."},subtitle2:{id:"AgeVerificationInterstitial.title2",defaultMessage:"Why do I need to do this?"},description2:{id:"AgeVerificationInterstitial.description2-v3",defaultMessage:"We are required to verify that our users in Italy are old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."}}),Ta=()=>{var o;const s=ve(),e=(o=s==null?void 0:s.email)!=null?o:s==null?void 0:s.phone_number,a=ne(r=>r.activeModals.has(G.LogoutConfirm)),n=()=>{O.closeModal(G.LogoutConfirm)};return t.jsx(R,{testId:"modal-logout-confirm",isOpen:a,onClose:n,showCloseButton:!1,type:"warning",noPadding:!0,size:"custom",className:"max-w-[373px] sm:max-w-[400px]",position:"center",children:t.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[t.jsx("p",{className:"text-center text-2xl font-semibold text-balance",children:t.jsx(h,w({},le.logoutTitle))}),t.jsx("p",{className:"text-token-text-secondary mt-4 mb-6 text-center text-lg",children:e&&t.jsx(h,D(w({},le.logoutConfirm),{values:{emailOrPhone:e}}))}),t.jsx(L,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"mb-2 sm:mb-3","data-testid":"logout-confirm-button",onClick:Kt,children:t.jsx(h,w({},le.logoutConfirmButton))}),t.jsx(L,{as:"button",size:"large",color:"secondary",fullWidth:!0,onClick:n,children:t.jsx(h,w({},le.cancel))})]})})},le=ye({logoutTitle:{id:"biVnvR",defaultMessage:"Are you sure you want to log out?"},logoutConfirm:{id:"2aSIBu",defaultMessage:"Log out of ChatGPT as {emailOrPhone}?"},logoutConfirmButton:{id:"NeO/CC",defaultMessage:"Log out"},cancel:{id:"EORcAJ",defaultMessage:"Cancel"}});var Qe;const ce=z.button(Qe||(Qe=B(["text-base rounded-xl justify-center gap-1 flex items-center bg-token-main-surface-primary border w-full p-3"])));var qe;const La=z.div(qe||(qe=B(["flex h-[1px] w-full border-b border-token-surface-tertiary"])));var Ke;const Ra=z.div(Ke||(Ke=B(["relative z-10 max-w-[465px] w-full flex flex-col items-start px-10 py-8 border-box bg-token-main-surface-primary border border-token-surface-tertiary shadow-elevation-01 rounded-[40px]"])));var Ye;const Da=z.div(Ye||(Ye=B(["text-token-text-secondary flex flex-col self-end text-xs"])));var Xe;const Ue=z.div(Xe||(Xe=B(["text-token-text-secondary me-0.5 flex self-start text-xl"])));var Je;const Ve=z.div(Je||(Je=B(["me-2 leading-none"]))),Oa=()=>{const s=re(),e=it(s),a=sessionStorage.getItem("poijcwa")==="jwoid",n=N();return!ee(n)&&e&&a},Fa=()=>{const s=T(),e=Q(),a=N(),{country:n}=we(),o=Se({country:n,currentAccount:null,location:"PlusPurchaseInterstitialModal",shouldUsePaidSubscriptionBillingCurrency:!1}),{data:r,isLoading:c}=Ss({ctx:a,countryCode:o==null?void 0:o.country,currency:o==null?void 0:o.currency,enabled:o!=null});let i=Es({ctx:a});if(o&&!c&&r){const m=_s(r,De,Ns.Month);i=D(w({},i),{cost:{costValue:m.amount,costTitle:As(m.amount,De,o.currency)}})}v.useEffect(()=>{const j=new URLSearchParams(window.location.search).get("referrer")||document.referrer;Z.logEvent("Account Pay: Interstitial Page Impression",{referrer:j})},[]);const l=window.location.href,u=m=>{if(!l.includes(Oe)){oe.addError("PlusPurchaseInterstitialModal: Missing pricing hash.");return}if(m==="email"){se(a,{fallbackScreenHint:"signup",callbackUrl:l});return}se(a,{fallbackScreenHint:"login",callbackUrl:l})},f=()=>{if(!l.includes(Oe)){oe.addError("PlusPurchaseInterstitialModal: Missing pricing hash.");return}se(a,{fallbackScreenHint:"login",callbackUrl:l})};if(!o)return null;const d=Me(o.currency);return t.jsx(R,{testId:"modal-team-purchase-interstitial",size:"fullscreen",isOpen:!0,onClose:()=>{},type:"success",className:"flex flex-col",removePopoverStyling:!0,children:t.jsxs("div",{className:"flex h-full w-full gap-8",children:[t.jsx("div",{className:"flex min-w-[320px] flex-1 flex-col items-center p-9 px-4",children:t.jsxs("div",{className:"flex w-full max-w-[360px] grow flex-col items-center justify-center gap-3",children:[t.jsx("button",{onClick:()=>e("/"),className:"mb-6 cursor-pointer p-0 md:fixed md:start-4 md:top-4 md:h-6 md:w-6","aria-label":s.formatMessage({id:"createAccount.plusHomeButtonAriaLabel",defaultMessage:"Click here to go to the home page"}),children:t.jsx(Yt,{className:"h-8 w-8"})}),t.jsxs("span",{className:"text-[28px] font-normal",children:[t.jsx(h,{id:"createAccount.plusFormattedTitle",defaultMessage:"ChatGPT"}),t.jsx("span",{className:"ms-1.5 text-[28px] font-normal text-[#615EEB]",children:s.formatMessage(V.plus)})]}),t.jsx("span",{className:"text-[22px] font-normal",children:t.jsx(h,{id:"createAccount.plusSubTitle",defaultMessage:"Start your trial for free"})}),t.jsxs(ce,{onClick:()=>u("email"),children:[t.jsx(ia,{className:"h-6 w-6"}),s.formatMessage(V.email)]}),t.jsxs("div",{className:"relative my-12 w-full",children:[t.jsx(La,{}),t.jsx("span",{className:"bg-token-bg-primary text-token-text-secondary absolute start-1/2 -top-2 -translate-x-1/2 transform px-2 text-xs font-medium",children:s.formatMessage({id:"plusPurchaseInterstitialModal.or",defaultMessage:"OR"})})]}),t.jsxs(ce,{onClick:()=>u("google-oauth2"),children:[t.jsx(Xt,{className:"h-6 w-6"}),t.jsx("div",{children:s.formatMessage(V.google)})]}),t.jsxs(ce,{onClick:()=>u("windowslive"),children:[t.jsx(ca,{className:"h-6 w-6"}),t.jsx("div",{children:s.formatMessage(V.microsoft)})]}),t.jsxs(ce,{onClick:()=>u("apple"),children:[t.jsx(la,{className:"h-6 w-6"}),t.jsx("div",{children:s.formatMessage(V.apple)})]}),t.jsx("div",{className:"flex items-center gap-1 py-1.5 text-sm font-medium",children:t.jsx("div",{className:"text-token-text-secondary",children:s.formatMessage(V.alreadyHaveAccount,{login:m=>t.jsx("span",{className:"cursor-pointer text-green-600",onClick:f,children:m})})})})]})}),t.jsxs("div",{className:"hidden min-h-[560px] overflow-y-auto md:relative md:flex md:h-full md:flex-1 md:items-center md:justify-center md:p-4",children:[t.jsxs(Ra,{children:[t.jsxs("div",{className:"mb-5 flex flex-col",children:[t.jsx("div",{className:"mb-2 flex items-center gap-2 text-[28px] font-normal",children:s.formatMessage(V.valueTitle)}),t.jsx("div",{className:"flex h-10 flex-col items-center",children:t.jsxs("div",{className:"mb-2 flex items-center text-[34px]",children:[t.jsx(Ue,{className:"text-token-text-tertiary",children:s.formatMessage(d.sign)}),t.jsx(Ve,{className:"text-token-text-tertiary","data-testid":"base-monthly-cost",children:t.jsx("s",{children:!c&&i.cost?s.formatMessage(i.cost.costTitle):null})}),t.jsx(Ue,{children:s.formatMessage(d.sign)}),t.jsx(Ve,{"data-testid":"promo-monthly-cost",children:s.formatNumber(0)}),t.jsxs(Da,{children:[t.jsx("p",{className:"m-0",children:t.jsx(h,{id:"PlusPricingModalColumn.currencyCodeWithSlash",defaultMessage:"{currencyCode} / ",values:{currencyCode:s.formatMessage(d.code)}})}),t.jsx(h,w({},V.billedFirst30))]})]})})]}),t.jsx(da,{advertisedFeatures:i.advertisedFeatures})]}),t.jsx("img",{alt:"",src:ra.src,className:"absolute inset-0 z-0 h-full w-full object-cover"})]})]})})},V=ye({email:{id:"PlusPurchaseInterstitialModal.email",defaultMessage:"Continue with Email"},google:{id:"PlusPurchaseInterstitialModal.google",defaultMessage:"Continue with Google"},microsoft:{id:"PlusPurchaseInterstitialModal.microsoft",defaultMessage:"Continue with Microsoft"},apple:{id:"PlusPurchaseInterstitialModal.apple",defaultMessage:"Continue with Apple"},alreadyHaveAccount:{id:"PlusPurchaseInterstitialModal.alreadyHaveAccount",defaultMessage:"Already have an account? <login>Login</login>"},valueTitle:{id:"PlusPurchaseInterstitialModal.valueTitle",defaultMessage:"Plus"},billedFirst30:{id:"PlusPurchaseInterstitialModal.billedFirst30",defaultMessage:"month for first 30 days"},plus:{id:"PlusPurchaseInterstitialModal.plus",defaultMessage:"Plus"}}),Ba=()=>{const s=Jt(),e=ie(),{hash:a}=re(),n=N();return Zt(n)||!(a==="#ca-google-drive-oauth")||!e||(e==null?void 0:e.isPersonalAccount())||!s?null:t.jsx(Wa,{})},Wa=()=>{const{openSettings:s}=lt(),{gDriveOAuthConnectionId:e,isLoading:a,refetch:n}=es();return v.useEffect(()=>{!e&&!a&&window.history.replaceState(null,"",window.location.pathname+window.location.search)},[e,a]),e?t.jsx(ts,{connectionId:e,isAdminFlow:!1,location:"url_hash",onClose:()=>{s(st.Connectors)},onSuccess:n}):null};function _e({testId:s="modal-generic-ineligible",title:e,message:a,buttonTitle:n,isOpen:o,onClose:r}){return t.jsx(R,{testId:s,type:"success",isOpen:o,onClose:r,showCloseButton:!0,title:e,children:t.jsxs("div",{className:"",children:[t.jsx("p",{children:a}),t.jsx("div",{className:"mt-4 flex justify-end",children:t.jsx(ss,{title:n,color:"secondary",onClick:r,size:"large"})})]})})}const Ua=s=>{"use forget";const e=U.c(46),{currentAccount:a,promotionData:n}=s,o=N();let r;e[0]!==o?(r=$(o,"2255682732"),e[0]=o,e[1]=r):r=e[1];const c=r,{eligible:i,isLoading:l}=Is(Ts),u=i&&!c,f=Q(),d=re(),{isEligible:m,isPromoLoading:j,promoCode:g,promoError:y,promoMetadata:p}=n;let k;e[2]!==d.hash||e[3]!==d.pathname||e[4]!==d.search||e[5]!==f?(k=()=>{const P=new URLSearchParams(d.search);P.delete(ct);const I=P.toString();f({pathname:d.pathname,search:I?"?".concat(I):"",hash:d.hash})},e[2]=d.hash,e[3]=d.pathname,e[4]=d.search,e[5]=f,e[6]=k):k=e[6];const x=k;let b;e[7]!==x||e[8]!==u||e[9]!==g||e[10]!==y||e[11]!==p?(b=()=>{u&&p&&!p.schedule&&!y&&p.plan_name!==de.SELF_SERVE_BUSINESS&&(at.setItem(ot.PromoCode,g),x())},e[7]=x,e[8]=u,e[9]=g,e[10]=y,e[11]=p,e[12]=b):b=e[12];let C;e[13]!==x||e[14]!==u||e[15]!==l||e[16]!==g||e[17]!==y||e[18]!==p?(C=[l,p,u,g,x,y],e[13]=x,e[14]=u,e[15]=l,e[16]=g,e[17]=y,e[18]=p,e[19]=C):C=e[19],v.useEffect(b,C);let M,S;e[20]!==m||e[21]!==j||e[22]!==g||e[23]!==p?(M=()=>{j||m&&p==null&&oe.addError("User is eligible for promo but metadata is missing",{promoCode:g})},S=[g,m,p,j],e[20]=m,e[21]=j,e[22]=g,e[23]=p,e[24]=M,e[25]=S):(M=e[24],S=e[25]),v.useEffect(M,S);let E,A;if(e[26]!==m||e[27]!==p?(E=()=>{if(!(!m||p==null))try{sessionStorage.setItem(Ls,"true")}catch(P){const I=P;oe.addError(I)}},A=[m,p],e[26]=m,e[27]=p,e[28]=E,e[29]=A):(E=e[28],A=e[29]),v.useEffect(E,A),l&&!c||u&&!(p!=null&&p.schedule)&&!y&&(p==null?void 0:p.plan_name)!==de.SELF_SERVE_BUSINESS)return null;if(j){let P;return e[30]!==x?(P=t.jsx(xt,{onClose:x}),e[30]=x,e[31]=P):P=e[31],P}if(m&&p!=null){if(p.plan_name===de.SELF_SERVE_BUSINESS){let I;return e[32]!==a||e[33]!==x||e[34]!==g||e[35]!==p?(I=t.jsx(Va,{currentAccount:a,onClose:x,promoCode:g,promoMetadata:p}),e[32]=a,e[33]=x,e[34]=g,e[35]=p,e[36]=I):I=e[36],I}let P;return e[37]!==a||e[38]!==x||e[39]!==g||e[40]!==p?(P=t.jsx(Ga,{currentAccount:a,onClose:x,promoCode:g,promoMetadata:p}),e[37]=a,e[38]=x,e[39]=g,e[40]=p,e[41]=P):P=e[41],P}if(!m&&y){let P;return e[42]!==x||e[43]!==g||e[44]!==y?(P=t.jsx(za,{onClose:x,promoCode:g,promoError:y}),e[42]=x,e[43]=g,e[44]=y,e[45]=P):P=e[45],P}return null},Va=s=>{"use forget";const e=U.c(16),{currentAccount:a,onClose:n,promoCode:o,promoMetadata:r}=s,{country:c}=we();let i;e[0]!==c||e[1]!==a?(i={country:c,currentAccount:a,location:"TeamPromoEligibleModal"},e[0]=c,e[1]=a,e[2]=i):i=e[2];const l=Se(i);let u,f;if(e[3]!==o||e[4]!==r?(u=()=>{Z.logEvent("Promo Eligible Modal Shown",{promoCode:o,promoMetadata:r}),Pe.logEvent("chatgpt_promo_eligible_modal_shown")},f=[o,r],e[3]=o,e[4]=r,e[5]=u,e[6]=f):(u=e[5],f=e[6]),v.useEffect(u,f),!l)return null;let d;e[7]!==l||e[8]!==a||e[9]!==n||e[10]!==o||e[11]!==r?(d=t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx("div",{className:"flex flex-col justify-center gap-4 px-3 py-6 md:min-h-[30rem] md:flex-row md:gap-0 md:py-0",children:t.jsx(fa,{analyticsParams:a.subscriptionAnalyticsParams,className:"bg-token-bg-primary",billingDetails:l,currentAccount:a,planLoading:null,type:Ee.promo,promoCode:o,promoMetadata:r,onProceed:n,setShouldShowCheckoutLoadingOverlay:Ha})})}),e[7]=l,e[8]=a,e[9]=n,e[10]=o,e[11]=r,e[12]=d):d=e[12];let m;return e[13]!==n||e[14]!==d?(m=t.jsx(R,{testId:"modal-team-promo-eligible",size:"fullscreen",isOpen:!0,onClose:n,type:"success",className:"flex h-full flex-col items-center justify-center bg-white/70 dark:bg-gray-800/70",removePopoverStyling:!0,showOverlayBackground:!1,children:d}),e[13]=n,e[14]=d,e[15]=m):m=e[15],m},xt=s=>{"use forget";const e=U.c(3),{onClose:a}=s;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx("div",{className:"flex flex-col justify-center gap-4 px-3 py-6 md:min-h-[30rem] md:flex-row md:gap-0 md:py-0",children:t.jsx(oa,{className:"border-token-border-light bg-token-bg-primary relative flex flex-1 flex-col justify-center gap-4 rounded-xl border-[#CFCEFC] bg-[#F5F5FF] text-sm shadow-lg md:mt-0 md:mb-0 md:min-h-[30rem] md:rounded-2xl! md:border-s-1 md:border-e-1 md:border-t-1 md:border-b-1 md:p-13.5 dark:border-[#484777] dark:bg-[#282841]"})})}),e[0]=n):n=e[0];let o;return e[1]!==a?(o=t.jsx(R,{testId:"modal-promo-loading",size:"fullscreen",isOpen:!0,onClose:a,type:"success",className:"flex h-full flex-col items-center justify-center bg-white/70 dark:bg-gray-800/70",removePopoverStyling:!0,showOverlayBackground:!1,children:n}),e[1]=a,e[2]=o):o=e[2],o},Ga=s=>{"use forget";const e=U.c(23),{currentAccount:a,onClose:n,promoCode:o,promoMetadata:r}=s,[c,i]=v.useState(null),{country:l}=we();let u;e[0]!==l||e[1]!==a?(u={country:l,currentAccount:a,location:"PromoEligibleModal"},e[0]=l,e[1]=a,e[2]=u):u=e[2];const f=Se(u),d=r.plan_name===de.GO?aa:mt;let m;e[3]!==a.subscriptionAnalyticsParams?(m=D(w({},a.subscriptionAnalyticsParams),{referrer:document.referrer,parentComponent:"PromoRedemptionModal"}),e[3]=a.subscriptionAnalyticsParams,e[4]=m):m=e[4];const j=m;let g,y;if(e[5]!==o||e[6]!==r?(g=()=>{Z.logEvent("Promo Eligible Modal Shown",{promoCode:o,promoMetadata:r}),Pe.logEvent("chatgpt_promo_eligible_modal_shown")},y=[o,r],e[5]=o,e[6]=r,e[7]=g,e[8]=y):(g=e[7],y=e[8]),v.useEffect(g,y),!f){let x;return e[9]!==n?(x=t.jsx(xt,{onClose:n}),e[9]=n,e[10]=x):x=e[10],x}let p;e[11]!==d||e[12]!==j||e[13]!==f||e[14]!==a||e[15]!==n||e[16]!==c||e[17]!==o||e[18]!==r?(p=t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx("div",{className:"flex flex-col justify-center gap-4 px-3 py-6 md:min-h-[30rem] md:flex-row md:gap-0 md:py-0",children:t.jsx(d,{analyticsParams:j,className:"bg-token-bg-primary",billingDetails:f,currentAccount:a,onClose:n,isPromoLoading:!1,planLoading:c,promoCode:o,promoMetadata:r,setPlanLoading:i,type:Ee.promo,setShouldShowCheckoutLoadingOverlay:$a})})}),e[11]=d,e[12]=j,e[13]=f,e[14]=a,e[15]=n,e[16]=c,e[17]=o,e[18]=r,e[19]=p):p=e[19];let k;return e[20]!==n||e[21]!==p?(k=t.jsx(R,{testId:"modal-promo-eligible",size:"fullscreen",isOpen:!0,onClose:n,type:"success",className:"flex h-full flex-col items-center justify-center bg-white/70 dark:bg-gray-800/70",removePopoverStyling:!0,showOverlayBackground:!1,children:p}),e[20]=n,e[21]=p,e[22]=k):k=e[22],k},za=s=>{"use forget";const e=U.c(11),{onClose:a,promoError:n,promoCode:o}=s,r=T();let c,i;e[0]!==o||e[1]!==n.code?(c=()=>{Z.logEvent("Promo Ineligible Modal Shown",{promoCode:o,ineligibleReason:n.code}),Pe.logEvent("chatgpt_promo_ineligible_modal_shown")},i=[o,n.code],e[0]=o,e[1]=n.code,e[2]=c,e[3]=i):(c=e[2],i=e[3]),v.useEffect(c,i);const l=n.title,u=n.message;let f;e[4]!==r?(f=r.formatMessage({id:"promoIneligibleModal.close",defaultMessage:"Close"}),e[4]=r,e[5]=f):f=e[5];let d;return e[6]!==a||e[7]!==n.message||e[8]!==n.title||e[9]!==f?(d=t.jsx(_e,{testId:"modal-promo-ineligible",title:l,message:u,buttonTitle:f,isOpen:!0,onClose:a}),e[6]=a,e[7]=n.message,e[8]=n.title,e[9]=f,e[10]=d):d=e[10],d};function Ha(){}function $a(){}function Qa(){const s=N(),e=ee(s),a=re(),n=Q(),o=it(a),r=Rs(a),i=!!((o||r)&&e),{data:l,status:u,isFetching:f}=xe(D(w({},Ds),{enabled:i})),d=i&&(u==="pending"||f),m=qa({isModalOpen:i,isTeamPricingRoute:r,segmentsData:l});return v.useEffect(()=>{e&&ue.getBooleanCookie(me.ShowPaymentModal)&&(ue.deleteCookie(me.ShowPaymentModal),Os(n,"Show payment modal cookie"))},[e,n]),v.useEffect(()=>{i?(O.closeAllActiveModals(),O.openModal(G.AccountPayment)):O.closeModal(G.AccountPayment)},[i]),{isOpen:i,defaultTab:m,defaultTabLoading:d}}function qa({isModalOpen:s,isTeamPricingRoute:e,segmentsData:a}){var g;const n=ie(),o=ve(),r=N(),[c]=je(),i=c.get("default_tab"),l=c.get(Fs),u=((g=a==null?void 0:a.segments)==null?void 0:g.professional_user)===!0;return!n||!o||!s?"personal":i&&["personal","business"].includes(i)?i:l==="business"?"business":l==="plus"?"personal":e||n.isWorkspaceAccount()||o!=null&&as(o)||os&&ns()&&pe(r,"647109062").get("enabled",!1)||n.isPlus()&&pe(r,"3480162268").get("enabled",!1)||(rs(r,"chatgpt_teams_check_for_professional_user",void 0,{isProfessionalUser:u?"true":"false"}),u&&pe(r,"422096659").get("enabled",!1))?"business":"personal"}function ae({className:s}){return t.jsx("div",{className:fe("flex h-full w-full items-center justify-center",s),children:t.jsx(Ce,{})})}var Ze;const yt=z.div(Ze||(Ze=B(["p-6"])));function Ka({emailAddress:s,setEmailAddress:e,emailTemplate:a,validateEmailPending:n,errorMessage:o,onClickValidateEmail:r,onClickCancel:c,title:i,description:l}){return t.jsx(yt,{children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"text-center text-2xl font-medium",children:i!=null?i:t.jsx(h,{id:"XSITb5",defaultMessage:"Verify you are a student"})}),t.jsx("div",{className:"text-token-text-tertiary mt-2 text-center text-base",children:l!=null?l:t.jsx(h,{id:"x1DjYV",defaultMessage:"To claim the student discount, verify your university email address. This email will not be linked to your ChatGPT account."})}),t.jsxs("form",{className:"mt-8 flex flex-col",onSubmit:u=>{u.preventDefault(),r()},children:[t.jsxs(ft,{className:"mb-8",children:[t.jsx(pt,{label:t.jsx(h,{id:"jqIBGr",defaultMessage:"University email address"})}),t.jsx(gt,{className:fe(o&&"border-red-500"),placeholder:a,onChange:u=>{e(u.target.value)}}),o?t.jsx("div",{className:"text-danger mt-2 text-sm",children:o}):null]}),t.jsx(L,{type:"submit",disabled:s.length===0,loading:n,children:t.jsx(h,{id:"aDh6He",defaultMessage:"Send verification code"})}),t.jsx(L,{type:"button",color:"secondary",className:"mt-3",onClick:c,children:t.jsx(h,{id:"/7nqLd",defaultMessage:"Cancel"})})]})]})})}function jt({programName:s,onContinue:e,onCancel:a,validDomain:n,description:o}){const r=T(),[c,i]=v.useState(""),[l,u]=v.useState(null),{mutate:f,isPending:d}=H({mutationFn:()=>X.validateEmail(c,s),onSuccess:m=>{u(null),_.logValidateEmailSuccess(),e(m.transaction_id)},onError:m=>{var g,y;const j=(y=(g=m.detail)==null?void 0:g.user_error_message)!=null?y:r.formatMessage({id:"9wITlN",defaultMessage:"Something went wrong"});_.logValidateEmailFailure(),u(j)}});return t.jsx(Ka,{emailAddress:c,setEmailAddress:i,emailTemplate:n?"name@university.".concat(n):"",validateEmailPending:d,errorMessage:l,onClickValidateEmail:()=>{f(),_.logClickValidateEmail()},onClickCancel:()=>{_.logClose("add-email"),a()},title:n?t.jsx(h,{id:"referral.addEmail.title",defaultMessage:"Verify {domain} email address",values:{domain:n}}):void 0,description:o})}function Ya(s){"use forget";const e=U.c(31),{currentAccount:a,hasPaidSubscription:n,referralMetadata:o,checkoutDetails:r,onContinue:c,onClose:i}=s,l=n===void 0?!1:n,u=N(),[f,d]=v.useState(null);let m;e[0]!==o.program_name?(m=()=>{_.logShowReferralDiscount(o.program_name,!1)},e[0]=o.program_name,e[1]=m):m=e[1];let j;e[2]!==o?(j=[o],e[2]=o,e[3]=j):j=e[3],v.useEffect(m,j);const g=Ja(o);if(!a)return null;let y;e[4]!==u?(y=Bs({ctx:u}),e[4]=u,e[5]=y):y=e[5];const p=y,k=g?"overflow-auto":"overflow-hidden";let x;e[6]!==k?(x=fe("relative flex h-full items-center justify-center",k),e[6]=k,e[7]=x):x=e[7];let b;e[8]!==r.plusAnalyticsParams?(b=D(w({},r.plusAnalyticsParams),{referrer:document.referrer}),e[8]=r.plusAnalyticsParams,e[9]=b):b=e[9];let C;e[10]!==l||e[11]!==c?(C=()=>{_.logClickUpgradeButton(l),d(is.PLUS),c()},e[10]=l,e[11]=c,e[12]=C):C=e[12];let M;e[13]!==r.billingDetails||e[14]!==a||e[15]!==g||e[16]!==i||e[17]!==f||e[18]!==p||e[19]!==b||e[20]!==C?(M=t.jsx(mt,{className:"bg-token-bg-primary",analyticsParams:b,plusPricingPlan:p,currentAccount:a,setPlanLoading:d,planLoading:f,onUpgradeButtonClick:C,billingDetails:r.billingDetails,promoMetadata:g,onClose:i,disableForMobile:!0,type:Ee.promo,setShouldShowCheckoutLoadingOverlay:Xa}),e[13]=r.billingDetails,e[14]=a,e[15]=g,e[16]=i,e[17]=f,e[18]=p,e[19]=b,e[20]=C,e[21]=M):M=e[21];const S=g?"invisible":"visible";let E;e[22]!==S?(E=fe("absolute inset-0 flex items-center justify-center",S),e[22]=S,e[23]=E):E=e[23];let A;e[24]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(ae,{}),e[24]=A):A=e[24];let P;e[25]!==E?(P=t.jsx("div",{className:E,children:A}),e[25]=E,e[26]=P):P=e[26];let I;return e[27]!==P||e[28]!==x||e[29]!==M?(I=t.jsxs("div",{className:x,children:[M,P]}),e[27]=P,e[28]=x,e[29]=M,e[30]=I):I=e[30],I}function Xa(){}function Ja(s){var i,l;const e=T();if(!s)return;const a=((i=s==null?void 0:s.duration)==null?void 0:i.period)==="month"?(l=s==null?void 0:s.duration)==null?void 0:l.num_periods:void 0,n=e.formatMessage({id:"ofib91",defaultMessage:"Sign up for ChatGPT, and get your {months, plural, one {first month} other {first # months}} of Plus for free. Offer valid for new users after verifying you are a student."},{months:a}),o={value:s.discount.value,currency_code:s.discount.currency_code},r={num_periods:s.duration.num_periods,period:s.duration.period},c=e.formatMessage({id:"referral.promotionTypeLabel",defaultMessage:"STUDENT DISCOUNT"});return{plan_name:s.plan_names[0],summary:n,discount:o,duration:r,promotion_type:"student_discount",promotion_type_label:c,referrer_name:s.referrer_name}}function Za({emailAddress:s,verificationCode:e,errorMessage:a,sendErrorMessage:n,validateVerificationCodeIsPending:o,isSendingVerificationCode:r,setVerificationCode:c,onValidateVerificationCode:i,onResendVerificationCode:l,onChangeEmailAddress:u,onCancel:f}){return t.jsx(yt,{children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"text-center text-2xl font-medium",children:t.jsx(h,{id:"PjHZX7",defaultMessage:"Check your email"})}),t.jsx("div",{className:"text-token-text-tertiary mt-2 text-center text-base",children:t.jsx(h,{id:"AoOIN/",defaultMessage:"Enter the verification code we just sent to {emailAddress}",values:{emailAddress:t.jsx("span",{className:"font-medium",children:s})}})}),n?t.jsx("div",{className:"mt-8",children:t.jsx(Ws,{type:"error",icon:t.jsx(ls,{}),content:n})}):null,t.jsxs("form",{className:"mt-8 flex flex-col",onSubmit:d=>{d.preventDefault(),i()},children:[t.jsxs(ft,{className:"mb-8",children:[t.jsx(pt,{label:t.jsx(h,{id:"kLJAa+",defaultMessage:"Verification code"})}),t.jsx(gt,{placeholder:"XXXXXX",value:e,onChange:d=>{c(d.target.value)}}),a?t.jsx("div",{className:"text-danger mt-2 text-sm",children:a}):null]}),t.jsx(L,{type:"submit",disabled:e.length===0,loading:o,children:t.jsx(h,{id:"NRkiYA",defaultMessage:"Continue"})}),t.jsx(L,{type:"button",className:"mt-3",color:"secondary",onClick:f,children:t.jsx(h,{id:"vyz3Kz",defaultMessage:"Cancel"})})]}),t.jsx("div",{className:"mt-8 text-center text-sm",children:t.jsx(h,{id:"2NzblW",defaultMessage:"Didn't receive the code?"})}),t.jsxs("div",{className:"mt-4 flex gap-3",children:[t.jsx(L,{loading:r,className:"flex-1",color:"secondary",onClick:l,children:t.jsx(h,{id:"L6pEyt",defaultMessage:"Resend code"})}),t.jsx(L,{className:"flex-1",color:"secondary",onClick:u,children:t.jsx(h,{id:"V8M7cm",defaultMessage:"Change email"})})]})]})})}function bt({transactionId:s,onChangeEmailAddress:e,onContinue:a,onCancel:n}){const o=T(),[r,c]=v.useState(""),[i,l]=v.useState(null),[u,f]=v.useState(null),[d,m]=v.useState(!1),j=o.formatMessage({id:"9wITlN",defaultMessage:"Something went wrong"}),{mutate:g,isPending:y}=H({mutationFn:()=>X.sendVerificationCode(s),onError:b=>{var M,S;const C=(S=(M=b.detail)==null?void 0:M.user_error_message)!=null?S:j;f(C)}}),{mutate:p,isPending:k}=H({mutationFn:()=>X.validateVerificationCode(s,r),onSuccess:()=>{l(null),f(null),_.logValidateVerificationCodeSuccess();try{m(!0),a()}catch(b){m(!1),l(j)}},onError:b=>{var M,S;const C=(S=(M=b.detail)==null?void 0:M.user_error_message)!=null?S:o.formatMessage({id:"9wITlN",defaultMessage:"Something went wrong"});_.logValidateVerificationCodeFailure(),l(C)}}),x=v.useRef(!1);return v.useEffect(()=>{x.current||(g(),_.logSendVerificationCode(),x.current=!0)},[g]),t.jsx(Za,{emailAddress:"",verificationCode:r,errorMessage:i,sendErrorMessage:u,validateVerificationCodeIsPending:k||d,isSendingVerificationCode:y,setVerificationCode:c,onChangeEmailAddress:()=>{_.logClickChangeEmailButton(),e()},onValidateVerificationCode:()=>{_.logClickValidateVerificationCode(),p()},onResendVerificationCode:()=>{_.logClickResendVerificationCodeButton(),g()},onCancel:()=>{_.logClose("verify-email"),n()}})}function vt(s,e){const a=cs(s,"1682643554").value;if(!e||typeof a!="object"||!a)return;const n=a.school_configurations;if(!n)return;const o=n[e];if(!o)return;const c=o.domains[0];return{programConfiguration:o,validDomain:c}}function eo({referralCode:s,onClose:e}){var k;const a=N(),n=Q(),o=!ee(a),[r,c]=v.useState({name:"loading"}),{shouldForwardToCheckout:i,isReferrer:l,referralMetadata:u,programName:f,isReferralLoading:d}=Us(s),{programConfiguration:m,validDomain:j}=(k=vt(a,f))!=null?k:{},g=$(a,"550432558"),y=$(a,"3406933735"),p=so(m,u,d);return v.useEffect(()=>{g||e(),p&&e()},[p,e,g]),v.useEffect(()=>{l&&f&&n(dt(f)),o&&y&&X.trackReferralSignup(s)},[l,f,n,o,s,y]),g?t.jsx(R,{testId:"modal-referee",type:"success",isOpen:!0,onClose:e,className:"w-full max-w-[360px] ".concat(r.name==="discount-intro"?"bg-transparent shadow-none!":""),shouldIgnoreClickOutside:!0,removePopoverStyling:!0,noPadding:!0,children:t.jsx(to,{rootState:r,setRootState:c,referralCode:s,validDomain:j,shouldForwardToCheckout:i,referralMetadata:u,isReferralLoading:d,onClose:e})}):null}function to({rootState:s,setRootState:e,referralCode:a,validDomain:n,shouldForwardToCheckout:o,referralMetadata:r,isReferralLoading:c,onClose:i}){var k;const l=N(),u=pa(),f=ie(),d=T(),m=!ee(l),j=(k=f==null?void 0:f.hasPaidSubscription())!=null?k:!1,g=H({mutationFn:()=>{if(s.name==="verify-email")return X.redeemReferral(a,s.transactionId);throw new Error("Invalid state for redeeming referral")}}),y=v.useCallback(async x=>{try{await Vs(x.billingDetails,x.plusAnalyticsParams)}catch(b){}},[]);v.useEffect(()=>{if(!(c||s.name!=="loading")){if(r){e({name:"discount-intro",referralMetadata:r});return}e({name:"error"})}},[c,o,r,u,y,s.name,e]);const p=Gs(a);switch(s.name){case"loading":return t.jsx(ae,{className:"min-h-96"});case"discount-intro":return u?t.jsx(Ya,{currentAccount:f,hasPaidSubscription:j,referralMetadata:s.referralMetadata,checkoutDetails:u,onContinue:()=>{_.logReferralDiscountContinue(),m?se(l,{fallbackScreenHint:"signup",callback:x=>{Z.logSignUpButtonClicked({provider:x,location:"Referral Discount Modal"},ds.ACCESS_FLOW_ENTRY_POINT_REFERRAL_DISCOUNT_MODAL)},callbackUrl:p}):o?y(u):e(Ge(s.referralMetadata))},onClose:()=>{_.logClose("discount"),s.referralMetadata.discount&&s.referralMetadata.duration&&at.setItem(ot.ReferralCode,a),i()}}):t.jsx(ae,{className:"min-h-96"});case"add-email":return t.jsx(jt,{programName:s.referralMetadata.program_name,onContinue:x=>{e(ao(s.referralMetadata,x))},onCancel:i,validDomain:n,description:n?t.jsx(h,{id:"referee.addEmail.description",defaultMessage:"To claim the student discount, you must have a valid {domain} email address. This email will not be linked to your ChatGPT account.",values:{domain:n}}):void 0});case"verify-email":return u?t.jsx(bt,{transactionId:s.transactionId,onChangeEmailAddress:()=>{e(Ge(s.referralMetadata))},onContinue:async()=>{await g.mutateAsync(),y(u)},onCancel:i}):t.jsx(ae,{className:"min-h-96"});case"error":return t.jsx(_e,{title:d.formatMessage({id:"referee.genericIneligibleModal.title",defaultMessage:"Promo Unavailable"}),message:t.jsx(h,{id:"referee.genericIneligibleModal.message",defaultMessage:"Looks like you donâ€™t meet the eligibility criteria for this promotion. Learn more about <link>ChatGPT plans.</link>",values:{link:x=>t.jsx("a",{href:"https://openai.com/chatgpt/pricing/",className:"underline",children:x})}}),buttonTitle:d.formatMessage({id:"referee.genericIneligibleModal.buttonTitle",defaultMessage:"Close"}),isOpen:!0,onClose:i})}}function so(s,e,a){return a?!1:e&&!s?!0:e?!(e==null?void 0:e.program_name):!1}function Ge(s){return{name:"add-email",referralMetadata:s}}function ao(s,e){return{name:"verify-email",referralMetadata:s,transactionId:e}}function Ct({referralMetadata:s,referralCode:e,onClose:a}){const n=T(),o=J(),{discount:r}=s,c=Me(r.currency_code),i=ut(n,r.value||0,r.currency_code);return t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-token-sidebar-surface mx-auto flex h-[64px] w-[104px] items-center justify-center rounded-md bg-[#AF52DE] px-4 py-2 text-[40px]",children:[t.jsx("span",{className:"text-[20px]",children:t.jsx(h,w({},c.sign))}),r.value]}),t.jsx("p",{className:"text-token-text-primary mt-6 text-2xl font-semibold",children:t.jsx(h,w({},K.referralLinkModalTitle))}),t.jsx("p",{className:"text-token-text-primary mt-2 text-base",children:t.jsx(h,w({},K.referralLinkModalMessage))}),t.jsx("div",{className:"mt-6 flex w-full items-center justify-center rounded-md border-[1px] border-[#AF52DE] bg-[#8C43A00D] py-4 text-center",children:t.jsx("span",{className:"text-[15px] text-[#AF52DE]",children:e?Fe(e):t.jsx(Ce,{})})}),t.jsxs("div",{className:"mt-6 flex w-full flex-col items-center space-y-3",children:[t.jsx(L,{color:"primary",onClick:()=>{e&&rt(Fe(e),o).then(()=>{_.logCopyReferralLink(),o.success(n.formatMessage({id:"1TiBkD",defaultMessage:"Copied referral link to clipboard"}))})},size:"large",className:"w-full",children:t.jsx(h,{id:"1HBlf+",defaultMessage:"Copy referral link"})}),t.jsx(L,{color:"secondary",onClick:a,size:"large",className:"w-full",children:t.jsx(h,{id:"6NQvfv",defaultMessage:"Close"})})]}),t.jsx("p",{className:"text-token-text-tertiary mt-6 text-start text-xs",children:t.jsx(h,D(w({},K.referralLinkModalDisclaimer),{values:{discount:i}}))})]})}function oo({referralMetadata:s,referralCode:e,onClose:a}){return t.jsx(Ct,{referralMetadata:s,referralCode:e,onClose:a})}function no({referralMetadata:s,transactionId:e,onClose:a}){const n=N(),o=nt(n),[r,c]=v.useState(null),{mutate:i}=H({mutationFn:()=>X.createReferralCode(e),onSuccess:f=>{c(f.referral_code)},onError:f=>{}}),l=v.useRef(!1);v.useEffect(()=>{l.current||(l.current=!0,i(),_.logShowReferrerConclusion())},[i]);const{program_name:u}=s;return!o||!u?null:t.jsx(Ct,{referralMetadata:s,referralCode:r,onClose:()=>{_.logClose("referrer-conclusion"),a()}})}function ro({referralMetadata:s,onContinue:e,onClose:a}){const n=T(),o=N(),r=nt(o);v.useEffect(()=>{_.logShowReferralLinkGenerationModal(s.program_name)},[s]);const{discount:c,program_name:i}=s;if(!r||!i)return null;const l=Me(c.currency_code),u=ut(n,c.value||0,c.currency_code);return t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-token-sidebar-surface mx-auto flex h-[64px] w-[104px] items-center justify-center rounded-md bg-[#AF52DE] px-4 py-2 text-[40px]",children:[t.jsx("span",{className:"text-[20px]",children:t.jsx(h,w({},l.sign))}),c.value]}),t.jsx("p",{className:"text-token-text-primary mt-6 text-2xl font-semibold",children:t.jsx(h,w({},K.referralLinkModalTitle))}),t.jsx("p",{className:"text-token-text-primary mt-2 text-base",children:t.jsx(h,w({},K.referralLinkModalMessage))}),t.jsxs("div",{className:"mt-6 flex w-full flex-col items-center space-y-3",children:[t.jsx(L,{color:"primary",onClick:e,size:"large",className:"w-full",children:t.jsx(h,{id:"aESB6r",defaultMessage:"Get my referral link"})}),t.jsx(L,{color:"secondary",onClick:()=>{_.logClickReferrerIntroNotNowButton(),a()},size:"large",className:"w-full",children:t.jsx(h,{id:"i1qUk7",defaultMessage:"Not Now"})})]}),t.jsx("p",{className:"text-token-text-tertiary mt-6 text-start text-xs",children:t.jsx(h,D(w({},K.referralLinkModalDisclaimer),{values:{discount:u}}))})]})}function io({program:s,onClose:e}){var j;const a=N(),{referralMetadata:n,referralCode:o,transactionId:r,programName:c,isReferralLoading:i,referralError:l}=zs(s),{programConfiguration:u,validDomain:f}=(j=vt(a,c))!=null?j:{},d=co(u,n,i),m=$(a,"550432558");return v.useEffect(()=>{m||e(),d&&e()},[d,e,m]),m?t.jsx(R,{testId:"modal-referrer",type:"success",isOpen:!0,onClose:e,showCloseButton:!0,className:"w-full max-w-[390px] pt-2",removePopoverStyling:!0,children:t.jsx(lo,{referralMetadata:n,referralCode:o,transactionId:r,referralError:l,validDomain:f,isReferralLoading:i,shouldRedirect:d,onClose:e})}):null}function lo({referralMetadata:s,referralCode:e,transactionId:a,referralError:n,validDomain:o,shouldRedirect:r,isReferralLoading:c,onClose:i}){const l=N(),u=T(),f=!ee(l),[d,m]=v.useState({name:"loading"});switch(v.useEffect(()=>{if(!c){if(r){i();return}if(n){m({name:"error",title:n.title,message:n.message});return}if(s){m(e?uo(s,e):a?He(s,a):{name:"intro",referralMetadata:s});return}m({name:"error"})}},[c,n,s,e,a,r,i]),d.name){case"loading":return t.jsx(ae,{className:"min-h-96"});case"already-enrolled":return t.jsx(oo,{referralMetadata:d.referralMetadata,referralCode:d.referralCode,onClose:i});case"intro":return t.jsx(ro,{referralMetadata:d.referralMetadata,onClose:i,onContinue:()=>{f?se(l,{fallbackScreenHint:"signup",callbackUrl:dt(d.referralMetadata.program_name)}):m(ze(d.referralMetadata))}});case"add-email":return t.jsx(jt,{programName:d.referralMetadata.program_name,onContinue:j=>{m(mo(d.referralMetadata,j))},onCancel:i,validDomain:o,description:o?t.jsx(h,{id:"referrer.addEmail.description",defaultMessage:"To generate a referral code, you must have a valid {domain} email address. This email will not be linked to your ChatGPT account.",values:{domain:o}}):void 0});case"verify-email":return t.jsx(bt,{transactionId:d.transactionId,onChangeEmailAddress:()=>{m(ze(d.referralMetadata))},onContinue:()=>{m(He(d.referralMetadata,d.transactionId))},onCancel:i});case"conclusion":return t.jsx(no,{referralMetadata:d.referralMetadata,transactionId:d.transactionId,onClose:i});case"error":return t.jsx(_e,{title:u.formatMessage({id:"referrer.genericIneligibleModal.title",defaultMessage:"Promo Unavailable"}),message:t.jsx(h,{id:"referrer.genericIneligibleModal.message",defaultMessage:"Looks like you don't meet the eligibility criteria for this promotion. Learn more about <link>ChatGPT plans.</link>",values:{link:j=>t.jsx("a",{href:"https://openai.com/chatgpt/pricing/",className:"underline",children:j})}}),buttonTitle:u.formatMessage({id:"referrer.genericIneligibleModal.buttonTitle",defaultMessage:"Close"}),isOpen:!0,onClose:i})}}function co(s,e,a){return a?!1:s?e?!(e==null?void 0:e.program_name):!1:!0}function uo(s,e){return{name:"already-enrolled",referralMetadata:s,referralCode:e}}function ze(s){return{name:"add-email",referralMetadata:s}}function mo(s,e){return{name:"verify-email",referralMetadata:s,transactionId:e}}function He(s,e){return{name:"conclusion",referralMetadata:s,transactionId:e}}function fo(){"use forget";const s=U.c(6),e=Q(),{isOpen:a,program:n}=us(),{isOpen:o,referralCode:r}=ms();let c;return s[0]!==o||s[1]!==a||s[2]!==e||s[3]!==n||s[4]!==r?(c=a&&n?t.jsx(io,{program:n,onClose:()=>e({hash:""})}):o&&r?t.jsx(eo,{referralCode:r,onClose:()=>e({hash:""})}):null,s[0]=o,s[1]=a,s[2]=e,s[3]=n,s[4]=r,s[5]=c):c=s[5],c}function po(){const s=N(),{hash:e}=re(),{isOpen:a}=lt(),n=!ee(s),o=Q(),r=fs(e);return v.useEffect(()=>{if(a&&n&&r===st.Connectors){const c="".concat(window.location.pathname).concat(window.location.hash);o("/auth/login?next=".concat(encodeURIComponent(c)))}},[a,n,r,o]),a?n?t.jsx(ga,{}):t.jsx(ha,{}):null}function go(){const s=T(),[e]=je(),a=J(),n=e.get(Hs),o=v.useMemo(()=>n==="true"?s.formatMessage({id:"ogcSBw",defaultMessage:"ChatGPT student offer activated"}):null,[n,s]);return v.useEffect(()=>{o&&a.success(o,{hasCloseButton:!0})},[o,a]),null}const ho=ke(()=>be(()=>import("./ccuh82u2o8dksknu.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(s=>s.FannyPackModalContainer)),xo=ke(()=>be(()=>import("./mup9ueu3skgxepce.js"),__vite__mapDeps([8,1,2,3,5,6,9,10]))),yo=ke(()=>be(()=>import("./j0kb80r7gb2tll8u.js"),__vite__mapDeps([11,1,2,3,5,6])).then(s=>s.default));function jo(){"use forget";const s=U.c(2),e=ne(bo);let a;return s[0]!==e?(a=e?t.jsx(xo,{serverThreadId:e}):null,s[0]=e,s[1]=a):a=s[1],a}function bo(s){return s.sharingModalThreadId}function er(){var x,b;const s=ne(C=>C.purchaseWorkspaceData),e=ne(C=>C.leaveWorkspaceData),a=s!=null,n=ps(G.GlobalMemoryOnboarding),o=ie(),r=N();$(r,"676035580"),ya();const c=Oa();ua(a);const i=Q(),{isOpen:l,defaultTab:u,defaultTabLoading:f}=Qa(),{isFannyPackEnabled:d}=$s(r);sa();const m=gs(C=>C.researchShareIntent),{isEnabled:j}=xa(),[g]=je(),y=g.get(ct),p=Qs(y!=null?y:""),k=y&&((b=(x=p.promoMetadata)!=null?x:p.promoError)!=null?b:p.isPromoLoading);return t.jsxs(t.Fragment,{children:[t.jsx(qs,{}),t.jsx(po,{}),t.jsx(Ba,{}),t.jsx(fo,{}),t.jsx(_a,{}),c&&t.jsx(Fa,{}),l&&o&&!k&&t.jsx(na,{currentAccount:o,defaultTab:u,isDefaultTabLoading:f,onClose:()=>Ks(i)},"all-plans-pricing-modal-".concat(u)),k&&o&&t.jsx(Ua,{currentAccount:o,promotionData:p}),t.jsx(Ys,{}),t.jsx(yo,{}),a&&t.jsx(ma,w({isOpen:a,onClose:()=>{O.setPurchaseWorkspaceData(null),i({pathname:location.pathname,search:"",hash:""})}},s)),e&&t.jsx(ba,{workspace:e}),n&&t.jsx(Xs,{onClose:()=>O.closeModal(G.GlobalMemoryOnboarding)}),d&&t.jsx(ho,{}),t.jsx(jo,{}),m&&t.jsx(Ea,{taskId:m.taskId,messages:m.messages,threadId:m.threadId}),t.jsx(Ta,{}),j?t.jsx(go,{}):null]})}export{er as GlobalModalsComponent};
//# sourceMappingURL=esx8w6iysaablvnr.js.map

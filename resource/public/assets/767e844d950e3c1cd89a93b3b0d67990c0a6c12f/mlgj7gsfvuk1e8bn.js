import{n1 as m,rh as A,eu as l,e as b,h9 as k,D as f}from"./d0xa318sl7ywi0za.js";import{r as h}from"./mw35uwhq4g8r9eam.js";function K(e,r,n){const t=m(),c=e.map(d=>{const{keyboardBinding:i}=d;let s=i.join("+");if(d.altKeyboardBindings){s=[s];const u=d.altKeyboardBindings.map(o=>o.join("+"));s=s.concat(u)}return A(s,{byKey:!0})});l(()=>{var u;if((n==null?void 0:n.enabled)===!1)return;const d=o=>{if(!o.repeat)for(let a=0;a<c.length;a++)c[a](o)&&(e[a].enabled===void 0||e[a].enabled)&&(o.preventDefault(),r(e[a]),e[a].action(o))},i=o=>{o.key!==void 0&&d(o)},s=(u=t==null?void 0:t.document)!=null?u:document;return s.addEventListener("keydown",i),()=>{s.removeEventListener("keydown",i)}},[e,n])}const y=b(e=>({actions:[],addActionsActions:r=>e(n=>({actions:k([...n.actions,...r],t=>t.key)})),removeActionsActions:r=>{const n=r.map(t=>t.key);return e(t=>({actions:t.actions.filter(c=>!n.includes(c.key))}))}})),v=e=>K(e,r=>{f.addAction("wham_keyboard_shortcut",{keyboardActionKey:r.key})},{enabled:!0});function S(){return y(e=>e.actions)}function p(e=[]){const r=y(t=>t.addActionsActions),n=y(t=>t.removeActionsActions);h.useEffect(()=>(r(e),()=>n(e)),[e,r,n]),v(e)}export{S as a,p as u};
//# sourceMappingURL=mlgj7gsfvuk1e8bn.js.map

var Ke=Object.defineProperty,Ye=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var xe=t=>{throw TypeError(t)};var ie=(t,e,s)=>e in t?Ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,I=(t,e)=>{for(var s in e||(e={}))Je.call(e,s)&&ie(t,s,e[s]);if(ye)for(var s of ye(e))Xe.call(e,s)&&ie(t,s,e[s]);return t},Y=(t,e)=>Ye(t,Ze(e));var T=(t,e,s)=>ie(t,typeof e!="symbol"?e+"":e,s),_e=(t,e,s)=>e.has(t)||xe("Cannot "+s);var S=(t,e,s)=>(_e(t,e,"read from private field"),s?s.call(t):e.get(t)),E=(t,e,s)=>e.has(t)?xe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),F=(t,e,s,n)=>(_e(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s);import{R as et,c as y,r as v,j as h,M as fe,v as $,h as H,Q as tt}from"./mw35uwhq4g8r9eam.js";import{c as st,a as nt,C as $e,d as ot,W as it,V as at}from"./ep9fotatx7vn0ew6.js";import{ma as w,pT as Le,nB as me,ed as he,m8 as rt,yf as ct,ne,ih as De,zu as lt,y6 as dt,md as ut,zv as Te,zw as Ie,wt as ft,y4 as mt,n as ht,zx as gt,zy as ae,zz as Z,yi as pt,zA as vt,yd as bt,rQ as Mt,rR as re,zB as St}from"./g2euln7v5pbm31qa.js";import{C as oe}from"./ftef8970ba1zoykr.js";import{d as we,e as z,h as Ct,m as Re,t as Ae,r as ce,a as Be,b as ke,i as Ee,c as yt,u as xt}from"./hn1woqxlscagz0nl.js";import{cu as Pe,yd as je,V as O,P as ee,jv as Se,ye as Ce,mI as _t,e_ as Tt,fG as It,yf as ze,a as wt,qI as ge,yg as pe,jU as qe,qJ as ve,ay as J,k as q,aw as Rt,bD as At,ab as X,bB as Fe,g as Ne,a2 as Oe,C as Ve,r as kt,Q as Et,bl as Ft,O as Nt,bm as Ot,L as Vt,jZ as Ut,yh as $t,xW as Ge,qK as Lt,cF as Q,d as We,er as be,lA as Dt,mh as Ue,c4 as Bt,f0 as Pt}from"./d0xa318sl7ywi0za.js";import{D as jt,g as zt}from"./jq5arodfofi7kok7.js";import{S as qt}from"./cvtbni005816i9ea.js";import{d as Gt,u as Wt,g as Ht,a as Qt,A as Kt}from"./ehb03yyzqhj5ry6r.js";import{s as He,u as Yt}from"./kcp2yv1bqmcmvayq.js";import{S as Zt,a as Jt}from"./kzumcxnq1r72nfzn.js";import{B as Xt,G as es,u as ts}from"./ogbjm0vfqkwhvkb8.js";import{S as ss,a as ns,c as os}from"./laafg2mog1bp1gmd.js";import"./iiok29s29bpdre61.js";import"./lmjej3aac0uhz664.js";import"./i693kfbch8smq86y.js";import"./gy1lpvuoewmzh42c.js";import"./iknugp00locgtve5.js";import"./h1em0bjkpkjv8ykw.js";import"./kbj1b07s2z6vxqkg.js";import"./hu1bt0oauegdhua6.js";function is(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,o]of t)if(!Object.is(o,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!1;for(const n of s)if(!Object.prototype.hasOwnProperty.call(e,n)||!Object.is(t[n],e[n]))return!1;return!0}const{useRef:as}=et;function Qe(t){const e=as();return s=>{const n=t(s);return is(e.current,n)?e.current:e.current=n}}function rs(t){return t===st.LOST}const cs=t=>{"use forget";const e=y.c(13),{clientThreadId:s}=t,n=Pe(s),o=w(ls),{voiceName:i}=Le(),[a,r]=v.useState(!1),{connectionState:l,voiceConnectionQuality:c,hasConnectedOnce:d}=w(Qe(ds)),u=je();let f;e[0]!==s||e[1]!==n||e[2]!==o||e[3]!==i?(f=async()=>{r(!0),await me(async()=>{const A={conversation_id:n,eventSource:"lost_connection_hint_message",voice_mode:o,voice:i,clientThreadId:s,gizmo_id:O.getGizmoId(ee(s)),skipCacheReason:"lost-connection-retry",forceDisconnect:!0};await he({type:"STOP",reason:jt.Failed}),await he({type:"START",args:A})},us,()=>{r(!1)})},e[0]=s,e[1]=n,e[2]=o,e[3]=i,e[4]=f):f=e[4];const m=f;let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=h.jsx(fe,{id:"QaPbww",defaultMessage:"Lost connection."}),e[5]=g):g=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=h.jsx("strong",{children:h.jsx(fe,{id:"oyHr3m",defaultMessage:"Retry"})}),e[6]=p):p=e[6];let b;e[7]!==m?(b=h.jsxs("div",{className:"inline-flex items-center",children:[g,h.jsx("button",{onClick:m,className:"ms-1",children:p})]}),e[7]=m,e[8]=b):b=e[8];const M=b;let C;e:{if(!d||a||u){C=!1;break e}else if(l!==oe.Connected){C=!0;break e}else if(rs(c)){C=!0;break e}C=!1}const _=C;let x,R;return e[9]!==_||e[10]!==M?(x=()=>{_?we.set({id:$(),hintMessage:M,modalMessage:null}):we.set(z())},R=[_,M],e[9]=_,e[10]=M,e[11]=x,e[12]=R):(x=e[11],R=e[12]),v.useEffect(x,R),null};function ls(t){return t.voiceMode}function ds(t){return{connectionState:t.server.connectionState,voiceConnectionQuality:t.server.voiceConnectionQuality,hasConnectedOnce:t.hasConnectedOnce}}function us(t){const e=t instanceof Error?t.message:String(t);Se.voiceMode.error({error:e,eventSource:"lost_connection_hint_message"})}const fs=()=>{"use forget";const t=y.c(10),e=H(),{type:s,granted:n}=Ce();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=_t()&&Tt,t[0]=o):o=t[0];const i=o,a=s==="requested"&&!n;let r;t[1]!==e?(r=e.formatMessage(le.hint),t[1]=e,t[2]=r):r=t[2];const l=r;let c;t[3]!==l?(c=i?h.jsxs("a",{href:"ms-settings:privacy-microphone",className:Ct,children:[l,h.jsx(It,{className:"icon-sm ms-1"})]}):l,t[3]=l,t[4]=c):c=t[4];const d=c;let u,f;return t[5]!==d||t[6]!==e||t[7]!==a?(u=()=>{a?Re.set({id:$(),hintMessage:d,modalMessage:{title:e.formatMessage(le.title),description_markdown:e.formatMessage(le.description_markdown),buttons:[]}}):Re.set(z())},f=[a,e,d],t[5]=d,t[6]=e,t[7]=a,t[8]=u,t[9]=f):(u=t[8],f=t[9]),v.useEffect(u,f),null},le={hint:{id:"micMessages.hint",defaultMessage:"Enable microphone access in Settings",description:"Hint to the user to manually enable microphone access for voice mode"},title:{id:"micMessages.title",defaultMessage:"Microphone access required",description:"Title for modal that informs the user that microphone access is required for voice mode"},description_markdown:{id:"micMessages.description_markdown",defaultMessage:"To use voice mode, you'll need to enable your microphone and try again.",description:"Description for modal that informs the user that microphone access is required for voice mode"}},ms=()=>{"use forget";const t=y.c(8),e=w(hs);let s;if(e){let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=h.jsx(qt,{className:"icon-sm me-1"}),t[0]=a):a=t[0];let r;t[1]!==e.text?(r=h.jsxs("div",{className:"flex items-center",children:[a,e.text]}),t[1]=e.text,t[2]=r):r=t[2],s=r}else s=null;const n=s;let o;t[3]!==n?(o=()=>{n?Ae.set({id:$(),hintMessage:n,modalMessage:null}):Ae.set(z())},t[3]=n,t[4]=o):o=t[4];let i;return t[5]!==n||t[6]!==e?(i=[e,n],t[5]=n,t[6]=e,t[7]=i):i=t[7],v.useEffect(o,i),null};function hs(t){return t.server.toolUpdate}const gs=()=>{"use forget";var c;const t=y.c(8),e=w(ps);let s;t[0]!==(e==null?void 0:e.rate_limit_message)?(s=(c=e==null?void 0:e.rate_limit_message)!=null?c:{},t[0]=e==null?void 0:e.rate_limit_message,t[1]=s):s=t[1];const{reaching_limit_disclosure:n,exceed_limit_message:o}=s;let i,a;t[2]!==n?(i=()=>{if(n){const d=ce().hintMessage;if(n.hint===d)return;ce.set({id:$(),hintMessage:n.hint,modalMessage:{title:n.title,description_markdown:n.message_markdown,buttons:n.buttons}})}else ce.set(z())},a=[n],t[2]=n,t[3]=i,t[4]=a):(i=t[3],a=t[4]),v.useEffect(i,a);let r,l;return t[5]!==o?(r=()=>{if(o){Be.set({id:$(),hintMessage:o.title,modalMessage:{title:o.title,description_markdown:o.description_markdown,buttons:o.buttons}});const d=o.buttons.some(vs),u=o.buttons.some(bs);Se.rateLimitReached.success({upgrade_to_plus:d,upgrade_to_pro:u})}},l=[o],t[5]=o,t[6]=r,t[7]=l):(r=t[6],l=t[7]),v.useEffect(r,l),null};function ps(t){return t.server.usage}function vs(t){return t.action==="upgrade_to_plus"}function bs(t){return t.action==="upgrade_to_pro"}const Ms=()=>{"use forget";const t=y.c(9),e=rt();let s;t[0]!==(e==null?void 0:e.default_voice_mode)||t[1]!==(e==null?void 0:e.modes)?(s=e==null?void 0:e.modes.find(d=>d.mode===(e==null?void 0:e.default_voice_mode)),t[0]=e==null?void 0:e.default_voice_mode,t[1]=e==null?void 0:e.modes,t[2]=s):s=t[2];const n=s,o=n==null?void 0:n.disclosure_message,i=n==null?void 0:n.info_message;let a,r;t[3]!==o?(a=()=>{o?ke.set({id:$(),hintMessage:o.hint,modalMessage:{title:o.title,description_markdown:o.message_markdown,buttons:o.buttons}}):ke.set(z())},r=[o],t[3]=o,t[4]=a,t[5]=r):(a=t[4],r=t[5]),v.useEffect(a,r);let l,c;return t[6]!==i?(l=()=>{i?Ee.set({id:$(),hintMessage:i.title,modalMessage:{title:i.title,description_markdown:i.message_markdown,buttons:i.buttons}}):Ee.set(z())},c=[i],t[6]=i,t[7]=l,t[8]=c):(l=t[7],c=t[8]),v.useEffect(l,c),null},Ss=t=>{"use forget";const e=y.c(9),{clientThreadId:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0],v.useEffect(ys,n);let o;e[1]!==s?(o=h.jsx(cs,{clientThreadId:s}),e[1]=s,e[2]=o):o=e[2];let i,a,r,l;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=h.jsx(fs,{}),a=h.jsx(ms,{}),r=h.jsx(gs,{}),l=h.jsx(Ms,{}),e[3]=i,e[4]=a,e[5]=r,e[6]=l):(i=e[3],a=e[4],r=e[5],l=e[6]);let c;return e[7]!==o?(c=h.jsxs(h.Fragment,{children:[o,i,a,r,l]}),e[7]=o,e[8]=c):c=e[8],c};function Cs(){yt()}function ys(){return Cs}const xs=()=>{"use forget";const t=y.c(11),{permissionsRequested:e,requestMicrophonePermissions:s,userDeclinedMicrophonePermissions:n,microphoneAvailable:o,microphoneLabel:i}=ct(),{active:a,forceMuted:r}=w(Qe(_s));let l,c;t[0]!==a||t[1]!==r||t[2]!==o||t[3]!==i||t[4]!==e||t[5]!==n?(l=()=>{e&&ze.set({type:"requested",granted:o,active:a,forceMuted:r,label:!n&&i?i:""})},c=[n,o,i,e,a,r],t[0]=a,t[1]=r,t[2]=o,t[3]=i,t[4]=e,t[5]=n,t[6]=l,t[7]=c):(l=t[6],c=t[7]),v.useEffect(l,c);let d,u;return t[8]!==s?(d=()=>(s(),Ts),u=[s],t[8]=s,t[9]=d,t[10]=u):(d=t[9],u=t[10]),v.useEffect(d,u),null};function _s(t){var e,s;return{active:!!((e=t.dev.room)!=null&&e.localParticipant.isMicrophoneEnabled),forceMuted:!!((s=t.dev.room)!=null&&s.localParticipant.isMicrophoneForceMuted)}}function Ts(){ze.set({type:"unrequested",granted:!1,active:!1,forceMuted:!1,label:""})}const Is="{{.assetPrefix}}/assets/hangup_0db-gkj9zamd.ogg";let D=null;function ws(){try{D?(D.pause(),D.currentTime=0):(D=new Audio(Is),D.volume=1),D.play()}catch(t){ne.debug("Failed to play hangup sound",t)}}function Rs(){const t=De(),{room:e}=Gt();return async s=>{e&&await lt({room:e,voiceStore:t,event:{type:ut.RelayMessage,payload:{type:dt.RelayMessage,message:s}}})}}function As({clientThreadId:t,parentMessageId:e,prependMessages:s,promptMessage:n,appendMessages:o,intl:i}){const a=t.startsWith("WEB:"),r=new Fs({ctx:wt(),clientThreadId:t,isHistoryAndTrainingDisabled:!1,isFirstCompletionInThread:a,queryClient:new tt,isSnorlaxEnabledForGizmo:!1,intl:i});r.startOrContinueConversation({parentMessageId:e,prependMessages:s,promptMessage:n,appendMessages:o}),ge.set(r),pe.set(!1)}function ks(){qe(()=>{const t=ge();t==null||t.endCompletion(),ge.set(null),ve.set(null)})}const Es=500;class Fs{constructor({ctx:e,clientThreadId:s,isHistoryAndTrainingDisabled:n,isFirstCompletionInThread:o,queryClient:i,isSnorlaxEnabledForGizmo:a,intl:r}){T(this,"messageIdsReceived",[]);T(this,"fullChatMessageStreaming",!1);T(this,"ctx");T(this,"clientThreadId");T(this,"isHistoryAndTrainingDisabled");T(this,"isFirstCompletionInThread");T(this,"queryClient");T(this,"isSnorlaxEnabledForGizmo");T(this,"intl");T(this,"messagesToUpdate",{});T(this,"allIncompleteMessageIds",new Set);T(this,"responseThreadId");T(this,"treatCompletionAsAsync",!1);T(this,"placeholderNodeId");T(this,"debouncedUpdateExistingMessages",Vt(()=>{const e=Object.values(this.messagesToUpdate);e.length!==0&&(q(this.clientThreadId,s=>{X.updateTree(s,n=>{for(const o of e)n.updateNodeMessage(o.id,o),o.status!=="in_progress"&&(n.updateNodeMetadata(o.id,{completionSampleFinishTime:Date.now()}),this.allIncompleteMessageIds.delete(o.id))})}),this.messagesToUpdate={})},50,{leading:!0,maxWait:50}));this.ctx=e,this.clientThreadId=s,this.isHistoryAndTrainingDisabled=n,this.isFirstCompletionInThread=o,this.queryClient=i,this.isSnorlaxEnabledForGizmo=a,this.intl=r}scrollToIfUserMessage(e){e.author.role===J.User&&qe(()=>{q(this.clientThreadId,s=>{s.scrollToMessageId=e.id})},Es)}handleMessage({message:e,conversationId:s}){this.messageIdsReceived.includes(e.id)||this.messageIdsReceived.push(e.id);const n=this.messageIdsReceived.indexOf(e.id);if(n!==-1&&e.metadata){const o=this.messageIdsReceived[n-1];e.metadata.parent_id=o}if(e.author.role===J.User&&e.content.content_type===Rt.MultimodalText&&e.content.parts.length===0&&(e.content.parts=[{content_type:At.AudioTranscription,text:this.intl.formatMessage({id:"voice-completion-request.transcribing",defaultMessage:"Transcribing…"}),direction:"in"}]),this.scrollToIfUserMessage(e),O.getTree(ee(s)).containsNodeOrMessageId(e.id)){this.messagesToUpdate[e.id]=e,this.debouncedUpdateExistingMessages();return}this.debouncedUpdateExistingMessages.flush(),q(this.clientThreadId,o=>{X.updateTree(o,(i,a)=>{var d;const r={requestId:e.id};e.status!=="in_progress"?r.completionSampleFinishTime=Date.now():this.allIncompleteMessageIds.add(e.id);const l=Y(I({},e),{clientMetadata:r}),c=(d=e.metadata)==null?void 0:d.parent_id;if(c){if(this.placeholderNodeId&&i.getParent(this.placeholderNodeId).id===i.getNodeByIdOrMessageId(c).id)if(Fe(l)){i.prependNode(this.placeholderNodeId,l);return}else i.deleteNode(this.placeholderNodeId),this.placeholderNodeId=void 0;return i.addMessageNode(c,l)}else{const u=i.findFirst(f=>!Fe(f.message));if(u)i.prependNode(u.id,l);else return i.addMessageNode(a,l)}})})}beginAssistantResponse(){Te.set(Ne(this.ctx,this.clientThreadId),!0),Ie(this.clientThreadId,{source:Ve.CLIENT,value:Oe.STREAMING}),pe.set(!0)}addOptimisticUserMessages({parentMessageId:e,promptMessage:s}){this.beginAssistantResponse(),this.messageIdsReceived.push(s.id),q(this.clientThreadId,n=>{X.updateTree(n,(o,i)=>(e&&(i=O.getNode(n,e).id),s&&(r=>{o.containsNodeOrMessageId(r.id)||(r.clientMetadata=Y(I({},r.clientMetadata),{isOptimistic:!0}),i=o.addMessageNode(i,r))})(s),i))})}startOrContinueConversation({parentMessageId:e,prependMessages:s,promptMessage:n,appendMessages:o}){q(this.clientThreadId,i=>{X.updateTree(i,(a,r)=>{if(e&&(r=O.getNode(i,e).id),s)for(const l of s)r=a.addMessageNode(r,l);if(n&&(r=a.addMessageNode(r,n)),o)for(const l of o)r=a.addMessageNode(r,l);return r})})}endAssistantResponse(){Te.set(Ne(this.ctx,this.clientThreadId),!1),Ie(this.clientThreadId,{source:Ve.CLIENT,value:Oe.UNREAD}),pe.set(!1)}handleConversationUpdate(e){if(this.responseThreadId===void 0){const s=e;this.responseThreadId=s;const n=kt(this.clientThreadId),o=Et(this.clientThreadId)!==s;if(ne.debug("Init new thread",{isNewClientThread:n,responseHasServerThreadId:o}),n&&o&&Ft(this.ctx,this.clientThreadId,s),this.isFirstCompletionInThread){const i=ee(this.clientThreadId);!this.isHistoryAndTrainingDisabled&&ft(i==null?void 0:i.mode)&&Nt(this.ctx)&&(Ot(this.queryClient,O.getGizmoId(i)),i!=null&&i.disableConversationNavigation||mt(ht,this.queryClient,s,this.isSnorlaxEnabledForGizmo))}}}handleResponse(e){const s=e.message.author,n=e.message.status;(s.role===J.Assistant||s.role===J.Tool)&&(n==="in_progress"&&!this.fullChatMessageStreaming?(this.fullChatMessageStreaming=!0,this.beginAssistantResponse()):n!=="in_progress"&&this.fullChatMessageStreaming&&(this.fullChatMessageStreaming=!1,this.endAssistantResponse())),this.responseThreadId===void 0&&e.conversationId&&this.handleConversationUpdate(e.conversationId),this.handleMessage({message:e.message,conversationId:this.clientThreadId})}endCompletion(){this.fullChatMessageStreaming&&this.endAssistantResponse()}}const Ns=t=>{"use forget";const e=y.c(20),{clientThreadId:s}=t,n=gt(),o=De(),i=H(),a=w(Os);let r;e[0]!==s?(r={conversationId:s},e[0]=s,e[1]=r):r=e[1];const l=nt(r),c=Ut(),d=w(Vs),u=Rs(),f=$t();let m,g;e[2]!==s||e[3]!==i||e[4]!==n||e[5]!==o?(m=()=>{if((n==null?void 0:n.command.type)==="START"){const _=n.command.oldConversationId;if(_&&_===s||!ae(n.id))return;He.set(n.command.args),o.setState(x=>(x.isVoiceModeActive=!0,x.conversationId=s,x)),Ge.set(!0),As({clientThreadId:s,intl:i}),Z(n.id)}},g=[s,i,n,o],e[2]=s,e[3]=i,e[4]=n,e[5]=o,e[6]=m,e[7]=g):(m=e[6],g=e[7]),v.useEffect(m,g);let p,b;e[8]!==l||e[9]!==c||e[10]!==n?(p=()=>{if((n==null?void 0:n.command.type)==="STOP"&&ae(n.id)){if(!c)return Z(n.id);Lt.set(!0);const _=n.command.reason;me(async()=>{await l(_)},Us,()=>{ks(),ws(),pt(),Z(n.id)})}},b=[l,c,n],e[8]=l,e[9]=c,e[10]=n,e[11]=p,e[12]=b):(p=e[11],b=e[12]),v.useEffect(p,b);let M,C;return e[13]!==a||e[14]!==n||e[15]!==u||e[16]!==d||e[17]!==f?(M=()=>{if((n==null?void 0:n.command.type)==="RELAY"&&a===oe.Connected&&d&&f&&ae(n.id)){const{id:_,command:x}=n,{message:R,parentMessageId:A}=x;me(async()=>{f.addOptimisticUserMessages({parentMessageId:A,promptMessage:R}),await u(R)},$s,()=>{Z(_)})}},C=[a,n,u,d,f],e[13]=a,e[14]=n,e[15]=u,e[16]=d,e[17]=f,e[18]=M,e[19]=C):(M=e[18],C=e[19]),v.useEffect(M,C),null};function Os(t){return t.server.connectionState}function Vs(t){return t.server.relayReady}function Us(t){ne.error("Error exiting voice state",t)}function $s(t){ne.error("Error relaying message",t)}const Ls=t=>{"use forget";const e=y.c(9),{clientThreadId:s}=t,{startVoiceMode:n}=Wt(),o=Pe(s),i=v.useRef(!1),{granted:a}=Ce(),r=Yt(),{voiceName:l}=Le(),c=vt(s);let d,u;return e[0]!==s||e[1]!==a||e[2]!==c||e[3]!==o||e[4]!==n||e[5]!==r||e[6]!==l?(d=()=>{var f;if(!i.current&&a){i.current=!0;const m=ee(s);let g;r!==void 0?(g=r,He.set(void 0)):(g=Ht({serverThreadId:o,parentMessageId:(f=O.getCurrentNode(m))==null?void 0:f.id,isAdvancedMode:!0,eventSource:"integrated_ux_composer_speech_button",clientThreadId:s,gizmoId:O.getGizmoId(m)}),Se.voiceSessionStarted.click({voice:l}),g.requested_default_model=c!=null?c:void 0),n(g)}},u=[s,a,c,o,n,r,l],e[0]=s,e[1]=a,e[2]=c,e[3]=o,e[4]=n,e[5]=r,e[6]=l,e[7]=d,e[8]=u):(d=e[7],u=e[8]),v.useEffect(d,u),null};var B,W,k,P,j,V,U,te;const se=class se{constructor(e,s){E(this,B);E(this,W);E(this,k);E(this,P,[]);E(this,j,{});E(this,V);E(this,U);F(this,k,e);const n=e.getUniformBlockIndex(s,S(se,te)),o=e.getActiveUniformBlockParameter(s,n,e.UNIFORM_BLOCK_DATA_SIZE);F(this,V,e.createBuffer()),e.bindBuffer(e.UNIFORM_BUFFER,S(this,V)),e.bufferData(e.UNIFORM_BUFFER,o,e.DYNAMIC_DRAW);const i=0;e.bindBufferBase(e.UNIFORM_BUFFER,i,S(this,V)),e.uniformBlockBinding(s,n,i);const a=e.getActiveUniformBlockParameter(s,n,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES);F(this,P,[]),F(this,j,{});for(let r=0;r<a.length;r++){const l=a[r];if(l==null)continue;const c=e.getActiveUniform(s,l);if(!c)throw new Error("No uniformInfo for index "+l);let d=c.name;d=d.replace(/\[0\]$/,"");const u=e.getActiveUniforms(s,[l],e.UNIFORM_OFFSET),f=Array.isArray(u)&&u.length>0?u[0]:0;S(this,P).push(d),S(this,j)[d]=f}F(this,U,new ArrayBuffer(o)),F(this,B,new Float32Array(S(this,U))),F(this,W,new Int32Array(S(this,U)))}setVariablesAndRender(e){for(const s of S(this,P)){const[,n]=s.split("."),i=S(this,j)[s]/4,a=e[n];typeof a=="number"?S(this,B)[i]=a:typeof a=="boolean"?S(this,W)[i]=a?1:0:Array.isArray(a)&&S(this,B).set(a,i)}S(this,k).bindBuffer(S(this,k).UNIFORM_BUFFER,S(this,V)),S(this,k).bufferSubData(S(this,k).UNIFORM_BUFFER,0,S(this,U)),S(this,k).drawArrays(S(this,k).TRIANGLE_STRIP,0,6)}};B=new WeakMap,W=new WeakMap,k=new WeakMap,P=new WeakMap,j=new WeakMap,V=new WeakMap,U=new WeakMap,te=new WeakMap,E(se,te,"BlorbUniformsObject");let Me=se;var Ds="#version 300 es\n#define E (2.71828182846)\n#define pi (3.14159265358979323844)\n\nprecision highp float;\n\nstruct ColoredSDF {\n  float distance;\n  vec4 color;\n};\n\nstruct SDFArgs {\n  vec2 st;\n  float amount;\n  float duration;\n  float time;\n  float mainRadius;\n};\n\n/* ----------------------- Utilities actually used ----------------------- */\n\nfloat scaled(float edge0, float edge1, float x) {\n  return clamp((x - edge0) / (edge1 - edge0), float(0), float(1));\n}\n\nfloat spring(float t, float d) {\n  return 1.0 - exp(-E * 2.0 * t) * cos((1.0 - d) * 115.0 * t);\n}\n\nfloat bounce(float t, float d) {\n  return -sin(pi * (1.0 - d) * t) * (1.0 - t) * exp(-E * 2.0 * t) * t * 10.0;\n}\n\nfloat opSmoothUnion(float d1, float d2, float k) {\n  if (k <= 0.0) k = 0.000001;\n  float h = clamp(0.5 + 0.5 * (d2 - d1) / k, 0.0, 1.0);\n  return mix(d2, d1, h) - k * h * (1.0 - h);\n}\n\nfloat sdRoundedBox(vec2 p, vec2 b, vec4 r) {\n  r.xy = p.x > 0.0 ? r.xy : r.zw;\n  r.x = p.y > 0.0 ? r.x : r.y;\n  vec2 q = abs(p) - b + r.x;\n  return min(max(q.x, q.y), 0.0) + length(max(q, 0.0)) - r.x;\n}\n\n/* --------------------------- Active states ----------------------------- */\n\nColoredSDF applyIdleState(\n  ColoredSDF sdf,\n  SDFArgs args,\n  bool isWhiteForeground\n) {\n  float midRadius = 0.12;\n  float maxRadius = 0.3;\n  float t1 = 1.0;\n  float gamma = 3.0;\n  float omega = pi / 2.0;\n\n  float k = exp(-gamma) * omega;\n\n  float radius;\n  if (args.time <= t1) {\n    float t_prime = args.time / t1;\n    float springValue = 1.0 - exp(-gamma * t_prime) * cos(omega * t_prime);\n    radius = midRadius * springValue;\n  } else {\n    float adjustedTime = args.time - t1;\n    radius =\n      midRadius + (maxRadius - midRadius) * (1.0 - exp(-k * adjustedTime));\n  }\n\n  float distance = length(args.st) - radius;\n  sdf.distance = mix(sdf.distance, distance, args.amount);\n\n  \n  float alpha = sin(pi / 0.7 * args.time) * 0.3 + 0.7;\n  vec4 color = vec4(isWhiteForeground ? vec3(1.0) : vec3(0.0), alpha);\n  sdf.color = mix(sdf.color, color, args.amount);\n\n  return sdf;\n}\n\nColoredSDF applySpeakState(\n  ColoredSDF sdf,\n  SDFArgs args,\n  vec4 avgMag,\n  float silenceAmount,\n  float silenceDuration\n) {\n  float d = 1000.0;\n  const int barCount = 4;\n\n  float totalSpan = args.mainRadius * 1.9;\n  float slotWidth = totalSpan / float(barCount);\n  float gapRatio = clamp(0.35, 0.0, 0.9);\n  float baseBarHalfWidth = slotWidth * (1.0 - gapRatio) * 0.5;\n\n  for (int i = 0; i < barCount; i++) {\n    float f = (float(i) + 0.5) / float(barCount);\n\n    float w = baseBarHalfWidth;\n    float h = w;\n\n    float wave = sin(f * pi * 0.8 + args.time) * 0.5 + 0.5;\n    float entryAnimation = spring(\n      scaled(0.1 + wave * 0.4, 1.0 + wave * 0.4, args.duration),\n      0.98\n    );\n\n    vec2 pos = vec2(f - 0.5, 0.0) * totalSpan;\n    pos.y = 0.25 * (1.0 - entryAnimation);\n\n    \n    if (silenceAmount > 0.0) {\n      float bounceStagger = f / 5.0;\n      float bounceDelay = 0.6;\n      float bounceTimer = scaled(\n        bounceDelay,\n        bounceDelay + 1.0,\n        fract((silenceDuration + bounceStagger) / 2.0) * 2.0\n      );\n      pos.y +=\n        bounce(bounceTimer, 6.0) *\n        w *\n        0.25 *\n        silenceAmount *\n        pow(entryAnimation, 4.0) *\n        pow(args.amount, 4.0);\n    }\n\n    \n    h += avgMag[i] * (0.1 + (1.0 - abs(f - 0.5) * 2.0) * 0.1);\n\n    float dd = sdRoundedBox(args.st - pos, vec2(w, h), vec4(w));\n    d = opSmoothUnion(d, dd, 0.2 * (1.0 - args.amount));\n  }\n\n  sdf.distance = mix(sdf.distance, d, args.amount);\n  sdf.color.a = 1.0;\n  return sdf;\n}\n\n/* ------------------------------ I/O & UBO ------------------------------ */\n\nin vec2 out_uv;\nout vec4 fragColor;\n\nlayout(std140) uniform BlorbUniformsObject {\n  float time;\n  float speakTimestamp;\n  vec4 avgMag;\n  vec2 viewport;\n  float screenScaleFactor;\n  float silenceAmount;\n  float silenceTimestamp;\n  bool isWhiteForeground;\n} ubo; \n\n/* -------------------------------- main --------------------------------- */\n\nvoid main() {\n  vec2 st = out_uv - 0.5;\n  float viewRatio = ubo.viewport.y / ubo.viewport.x;\n  st.y *= viewRatio;\n\n  ColoredSDF sdf;\n  sdf.distance = 1000.0;\n  sdf.color = vec4(1.0);\n\n  SDFArgs args;\n  args.st = st;\n  args.time = ubo.time;\n  args.mainRadius = 0.49;\n  args.amount = 1.0;\n  args.duration = ubo.time - ubo.speakTimestamp;\n\n  \n  SDFArgs idleArgs = args;\n  idleArgs.amount = 1.0;\n  sdf = applyIdleState(sdf, idleArgs, ubo.isWhiteForeground);\n\n  float silenceDuration = ubo.time - ubo.silenceTimestamp;\n  sdf = applySpeakState(\n    sdf,\n    args,\n    ubo.avgMag,\n    ubo.silenceAmount,\n    silenceDuration\n  );\n\n  float clampingTolerance = 0.0075 / max(ubo.screenScaleFactor, 0.0001);\n  float clampedShape = smoothstep(clampingTolerance, 0.0, sdf.distance);\n  float alpha = sdf.color.a * clampedShape;\n  fragColor = vec4(sdf.color.rgb * alpha, alpha);\n}",Bs="#version 300 es\n\nout vec4 out_position;\nout vec2 out_uv;\n\nconst vec4 blitFullscreenTrianglePositions[6] = vec4[](\n  vec4(-1.0, -1.0, 0.0, 1.0),\n  vec4(3.0, -1.0, 0.0, 1.0),\n  vec4(-1.0, 3.0, 0.0, 1.0),\n  vec4(-1.0, -1.0, 0.0, 1.0),\n  vec4(3.0, -1.0, 0.0, 1.0),\n  vec4(-1.0, 3.0, 0.0, 1.0)\n);\n\nvoid main() {\n  out_position = blitFullscreenTrianglePositions[gl_VertexID];\n  out_uv = out_position.xy * 0.5 + 0.5;\n  out_uv.y = 1.0 - out_uv.y;\n  gl_Position = out_position;\n}";const Ps=[300,300];function js({className:t,staticConfig:e,onDynamicConfigSetterReady:s}){"use no forget";const n=v.useRef(performance.now()/1e3),o=v.useRef({viewport:Ps,time:n.current}).current,i=v.useRef(void 0),a=v.useRef(Y(I(I({},o),e),{speakTimestamp:0,avgMag:[0,0,0,0],silenceAmount:0,silenceTimestamp:0})),r=v.useCallback(c=>{a.current=I(I(I({},o),e),c),i.current=c},[o,e]);v.useEffect(()=>{i.current&&(a.current=I(I(I({},o),e),i.current))},[e,o]),v.useEffect(()=>{s(r)},[s,r]);const l=c=>{o.viewport=[c.width,c.height]};return v.useEffect(()=>{const c=setInterval(()=>{o.time=performance.now()/1e3},Xt);return()=>clearInterval(c)},[o]),h.jsx(es,{className:Q("flex items-center justify-center",t),variablesRef:a,onViewportUpdate:l,onGlAvailable:void 0,onCanvasSizeUpdate:void 0,scale:1,GLUniformsSetter:Me,vert:Bs,frag:Ds})}const zs=1.4,qs={bands:4,loPass:0,hiPass:400},Gs=t=>{"use forget";const e=y.c(12),{className:s}=t,[n,o]=v.useState(void 0),{getTracks:i}=Qt();let a;e[0]!==i?(a=i([Kt.Microphone]).find(Ws),e[0]=i,e[1]=a):a=e[1];const r=a,l=ts(r==null?void 0:r.track,qs);let c;e[2]!==l?(c=l.map(Hs),e[2]=l,e[3]=c):c=e[3];const d=c;let u,f;e[4]!==d||e[5]!==n?(u=()=>{n&&n({speakTimestamp:0,avgMag:d,silenceAmount:0,silenceTimestamp:0})},f=[d,n],e[4]=d,e[5]=n,e[6]=u,e[7]=f):(u=e[6],f=e[7]),v.useEffect(u,f);let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m={screenScaleFactor:window.devicePixelRatio,isWhiteForeground:!0},e[8]=m):m=e[8];const g=m;let p;e[9]===Symbol.for("react.memo_cache_sentinel")?(p=C=>{o(()=>C)},e[9]=p):p=e[9];const b=p;let M;return e[10]!==s?(M=h.jsx(js,{className:s,staticConfig:g,onDynamicConfigSetterReady:b}),e[10]=s,e[11]=M):M=e[11],M};function Ws(t){return t.origin==="local"}function Hs(t){return t*zs}const G={buttonLayout:"rounded-full overflow-hidden h-9 px-3",buttonContents:"flex flex-row items-center justify-center gap-2",buttonColors:"hover:opacity-80 font-semibold transition-colors transition-width duration-500 ease-in-out",loadingColor:"bg-token-icon-primary text-token-text-inverted px-0",loadedColor:"bg-token-bg-accent-static text-token-text-inverted-static"},Qs=t=>{"use forget";const e=y.c(7),{className:s,Icon:n}=t;let o;e[0]!==s?(o=Q(s,"relative"),e[0]=s,e[1]=o):o=e[1];let i;e[2]!==n?(i=h.jsx(n,{className:"absolute start-1/2 top-1/2 h-5 w-5 -translate-x-1/2 -translate-y-1/2"}),e[2]=n,e[3]=i):i=e[3];let a;return e[4]!==o||e[5]!==i?(a=h.jsx("div",{className:o,children:i}),e[4]=o,e[5]=i,e[6]=a):a=e[6],a},Ks=t=>{"use forget";const e=y.c(21),{onClick:s}=t,n=w(Ys),o=H(),i=je(),a=We(Zs),r=(a==null?void 0:a.id)!=null,[l,c]=v.useState(!1);let d,u;i?(d=be,u=N.endingVoiceSessionLabel):n&&!r?(d=l?Zt:be,u=l?N.cancelLoadingAriaLabel:N.startingVoiceAriaLabel):(d=Gs,u=N.endVoiceAriaLabel);let f;e[0]!==d?(f=h.jsx(Qs,{Icon:d,className:"h-3 w-3"}),e[0]=d,e[1]=f):f=e[1];let m;e[2]!==u||e[3]!==f?(m=[f,u],e[2]=u,e[3]=f,e[4]=m):m=e[4];const[g,p]=m;let b;i?b=N.endingVoiceSessionLabel:n&&!r?b=N.cancelLoadingButtonLabel:b=N.endVoiceButtonLabel;const M=b;let C,_;e[5]===Symbol.for("react.memo_cache_sentinel")?(C=()=>c(!0),_=()=>c(!1),e[5]=C,e[6]=_):(C=e[5],_=e[6]);let x;e[7]!==p||e[8]!==o?(x=o.formatMessage(p),e[7]=p,e[8]=o,e[9]=x):x=e[9];const R=n||i?G.loadingColor:G.loadedColor;let A;e[10]!==R?(A=Q(G.buttonLayout,G.buttonContents,G.buttonColors,R),e[10]=R,e[11]=A):A=e[11];let L;e[12]!==M?(L=h.jsx(fe,I({},M)),e[12]=M,e[13]=L):L=e[13];let K;return e[14]!==g||e[15]!==i||e[16]!==s||e[17]!==x||e[18]!==A||e[19]!==L?(K=h.jsxs("button",{onMouseOver:C,onMouseOut:_,"aria-label":x,type:"button",className:A,onClick:s,disabled:i,children:[g,L]}),e[14]=g,e[15]=i,e[16]=s,e[17]=x,e[18]=A,e[19]=L,e[20]=K):K=e[20],K},N={endVoiceButtonLabel:{id:"integratedux.endVoiceMode",defaultMessage:"End",description:"Button label for ending voice mode"},cancelLoadingButtonLabel:{id:"integratedux.cancelLoading",defaultMessage:"Cancel",description:"Button label to cancel loading of voice mode"},endVoiceAriaLabel:{id:"integratedux.endVoiceAriaLabel",defaultMessage:"End voice mode",description:"Screen reader text that tells user that the button ends voice mode"},cancelLoadingAriaLabel:{id:"integratedux.cancelLoading",defaultMessage:"Cancel loading",description:"Screen reader text that tells user that the button cancels loading"},startingVoiceAriaLabel:{id:"integratedux.startingVoiceMode",defaultMessage:"Starting voice mode",description:"Screen reader text that tells users a loading state is in progress"},endingVoiceSessionLabel:{id:"integratedux.endingVoiceSession",defaultMessage:"Ending…",description:"Button label text telling the user that the process of ending the voice session is in progress"}};function Ys(t){return t.server.connectionState!==oe.Connected}function Zs(){return Be()}const Js={ON:{colorClass:"bg-black/5 hover:bg-black/10 active:bg-black/20 dark:bg-[rgba(255,255,255,0.04)] dark:hover:bg-white/5 dark:active:bg-white/10",sizeClass:"max-h-9 max-w-9",iconColorClass:"text-token-main-surface-primary-inverse"},OFF:{colorClass:"bg-red-500/10 hover:bg-red-500/15 active:bg-red-500/20 dark:bg-red-500/10 dark:hover:bg-red-500/15 dark:active:bg-red-500/20",sizeClass:"max-h-9 max-w-9",iconColorClass:"text-danger"}},Xs={ON:{colorClass:"bg-gray-900 hover:bg-gray-800 active:bg-gray-700",sizeClass:"max-h-9 max-w-9",iconColorClass:"text-token-main-surface-primary"},OFF:{colorClass:"bg-black/5 hover:bg-black/10 active:bg-black/20 dark:bg-[rgba(255,255,255,0.04)] dark:hover:bg-white/5 dark:active:bg-white/10",sizeClass:"max-h-9 max-w-9",iconColorClass:"text-token-main-surface-primary-inverse"}},en=t=>{"use forget";const e=y.c(15),{disabled:s,onClick:n,microphoneLabel:o,microphoneActive:i,microphoneForceMuted:a}=t,r=H(),l=i?ss:ns,{colorClass:c,sizeClass:d,iconColorClass:u}=Js[i?"ON":"OFF"];let f;e[0]!==r||e[1]!==i||e[2]!==a?(f=a?r.formatMessage(de.microphoneMuted):i?r.formatMessage(de.microphoneOff):r.formatMessage(de.microphoneOn),e[0]=r,e[1]=i,e[2]=a,e[3]=f):f=e[3];const m=f;let g;e[4]!==c||e[5]!==d?(g=Q(c,d),e[4]=c,e[5]=d,e[6]=g):g=e[6];let p;return e[7]!==l||e[8]!==s||e[9]!==u||e[10]!==o||e[11]!==n||e[12]!==m||e[13]!==g?(p=h.jsx($e,{"aria-label":m,onClick:n,icon:l,iconSize:"icon-md",disabled:s,className:g,iconColor:u,tooltipPrimaryLabel:m,tooltipSecondaryLabel:o}),e[7]=l,e[8]=s,e[9]=u,e[10]=o,e[11]=n,e[12]=m,e[13]=g,e[14]=p):p=e[14],p},de={microphoneMuted:{id:"integrated-ux.mute-button.microphone-muted",defaultMessage:"Microphone muted in system settings / hardware switch",description:"Tooltip label shown when the user's microphone is hardware disabled into a muted state, and the toggle will not work"},microphoneOff:{id:"integrated-ux.mute-button.microphone-off",defaultMessage:"Turn off microphone",description:"Tooltip shown when the microphone is on. Clicking the button for this tooltip mutes the microphone."},microphoneOn:{id:"integrated-ux.mute-button.microphone-on",defaultMessage:"Turn on microphone",description:"Tooltip shown when the microphone is off. Clicking this button for this tooltip unmutes the microphone."}},tn=()=>{"use forget";const t=y.c(6),{isMuting:e,toggleMute:s}=bt(),{disconnectPending:n}=ot(),{forceMuted:o,active:i,label:a,granted:r}=Ce(),l=e||n||o||!r,c=r&&i;let d;return t[0]!==o||t[1]!==a||t[2]!==l||t[3]!==c||t[4]!==s?(d=h.jsx(en,{disabled:l,onClick:s,microphoneActive:c,microphoneForceMuted:o,microphoneLabel:a}),t[0]=o,t[1]=a,t[2]=l,t[3]=c,t[4]=s,t[5]=d):d=t[5],d},sn=t=>{"use forget";const e=y.c(14),{waiting:s,started:n,onClick:o}=t,i=H();let a;e[0]!==i||e[1]!==n||e[2]!==s?(a=s?i.formatMessage(ue.screensharePending):n?i.formatMessage(ue.screenshareOn):i.formatMessage(ue.screenshareOff),e[0]=i,e[1]=n,e[2]=s,e[3]=a):a=e[3];const r=a,{colorClass:l,sizeClass:c,iconColorClass:d}=Xs[n?"ON":"OFF"],u=s?be:n?os:Jt;let f;e[4]!==l||e[5]!==c?(f=Q(l,c),e[4]=l,e[5]=c,e[6]=f):f=e[6];let m;return e[7]!==u||e[8]!==d||e[9]!==o||e[10]!==r||e[11]!==f||e[12]!==s?(m=h.jsx($e,{"aria-label":r,onClick:o,disabled:s,icon:u,iconSize:"icon-md",className:f,iconColor:d}),e[7]=u,e[8]=d,e[9]=o,e[10]=r,e[11]=f,e[12]=s,e[13]=m):m=e[13],m},ue={screenshareOff:{id:"integrated-ux.screenshare-button.screenshare-off",defaultMessage:"Activate screenshare",description:"Tooltip shown when the screenshare is off. Clicking the button for this tooltip activates the screenshare."},screenshareOn:{id:"integrated-ux.screenshare-button.screenshare-on",defaultMessage:"Turn off screenshare",description:"Tooltip shown when the screenshare is on. Clicking this button for this tooltip deactivates the screenshare."},screensharePending:{id:"integrated-ux.screenshare-button.pending",defaultMessage:"Pending screenshare activation",description:"Tooltip shown when the screenshare is pending"}},nn=()=>{"use forget";const t=y.c(7),{screenshareTrackState:e,toggleScreenShare:s}=Mt();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[re.Starting,re.Stopping],t[0]=n):n=t[0];const o=n.includes(e),i=e===re.Started;let a;t[1]!==s?(a=()=>s("ControlButton"),t[1]=s,t[2]=a):a=t[2];let r;return t[3]!==i||t[4]!==a||t[5]!==o?(r=h.jsx(sn,{waiting:o,started:i,onClick:a}),t[3]=i,t[4]=a,t[5]=o,t[6]=r):r=t[6],r},on=t=>{"use forget";const e=y.c(15),{onComposerSubmit:s}=t,n=xt(),o=Dt();let i;e[0]!==o?(i=()=>Pt(o),e[0]=o,e[1]=i):i=e[1];const a=!We(i),r=Ue(Bt.hasUploadInProgress),l=Ue(an),c=a||r||l,d=w(rn);let u;e[2]!==d||e[3]!==n?(u=async()=>{const b=await zt({connectionState:d,isLimitExceeded:n});he({type:"STOP",reason:b})},e[2]=d,e[3]=n,e[4]=u):u=e[4];const f=u;let m;e[5]!==c?(m=!c&&h.jsxs(h.Fragment,{children:[h.jsx(it,{capability:"screenshare",children:h.jsx(nn,{})}),h.jsx(tn,{})]}),e[5]=c,e[6]=m):m=e[6];let g;e[7]!==o||e[8]!==c||e[9]!==f||e[10]!==s?(g=c?h.jsx(St,{onSubmit:s,composerController:o,isStreaming:!1,isDisabled:!1,showSpinner:!1}):h.jsx(Ks,{onClick:f}),e[7]=o,e[8]=c,e[9]=f,e[10]=s,e[11]=g):g=e[11];let p;return e[12]!==m||e[13]!==g?(p=h.jsxs("div",{className:"flex flex-row gap-2",children:[m,g]}),e[12]=m,e[13]=g,e[14]=p):p=e[14],p};function an(t){return t.files.length>0}function rn(t){return t.server.connectionState}const Nn=t=>{"use forget";const e=y.c(24),{clientThreadId:s,isFocused:n,onComposerSubmit:o}=t,i=w(cn),a=w(ln),r=w(dn);let l,c;e[0]!==i?(l=()=>{Ge.set(i)},c=[i],e[0]=i,e[1]=l,e[2]=c):(l=e[1],c=e[2]),v.useEffect(l,c);let d,u;e[3]!==a||e[4]!==r||e[5]!==i?(d=()=>{i&&!a?ve.set(oe.Connecting):ve.set(r)},u=[a,r,i],e[3]=a,e[4]=r,e[5]=i,e[6]=d,e[7]=u):(d=e[6],u=e[7]),v.useEffect(d,u);let f,m;e[8]!==s?(f=h.jsx(Ns,{clientThreadId:s}),m=h.jsx(Ls,{clientThreadId:s}),e[8]=s,e[9]=f,e[10]=m):(f=e[9],m=e[10]);let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=h.jsx(xs,{}),e[11]=g):g=e[11];let p;e[12]!==s?(p=h.jsx(Ss,{clientThreadId:s}),e[12]=s,e[13]=p):p=e[13];let b;e[14]!==s||e[15]!==n||e[16]!==o?(b=h.jsx(on,{clientThreadId:s,composerIsFocused:n,onComposerSubmit:o}),e[14]=s,e[15]=n,e[16]=o,e[17]=b):b=e[17];let M;return e[18]!==s||e[19]!==f||e[20]!==m||e[21]!==p||e[22]!==b?(M=h.jsxs(at,{conversationId:s,executors:f,children:[m,g,p,b]}),e[18]=s,e[19]=f,e[20]=m,e[21]=p,e[22]=b,e[23]=M):M=e[23],M};function cn(t){return t.isVoiceModeActive}function ln(t){return t.hasConnectedOnce}function dn(t){return t.server.remoteState}export{Nn as SpeechActiveContainer};
//# sourceMappingURL=kd5hzvbgc1mnqbcs.js.map

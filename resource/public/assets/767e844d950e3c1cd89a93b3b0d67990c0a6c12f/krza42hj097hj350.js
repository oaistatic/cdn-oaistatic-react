var D=Object.defineProperty;var N=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var R=(s,t,e)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,y=(s,t)=>{for(var e in t||(t={}))M.call(t,e)&&R(s,e,t[e]);if(N)for(var e of N(t))A.call(t,e)&&R(s,e,t[e]);return s};import{ct as I,lJ as P,cF as S,e5 as f,cw as T,_ as k,Q as H}from"./d0xa318sl7ywi0za.js";import{g7 as F,g8 as p,nj as V,hw as q,nk as x,nl as z}from"./g2euln7v5pbm31qa.js";import{i as B}from"./ns51nblw8ziscsgd.js";import{c as G,j as r,e as U,r as w,M as E}from"./mw35uwhq4g8r9eam.js";import{N as W}from"./ce3hgmw4iyyhicud.js";import{u as J}from"./c8dilzb1umlthpuq.js";var O=(s=>(s.javascript="javascript",s.typescript="typescript",s.bash="bash",s.zsh="zsh",s.html="html",s.css="css",s.python="python",s.json="json",s.sql="sql",s.go="go",s.yaml="yaml",s.java="java",s.rust="rust",s.cpp="cpp",s.swift="swift",s.php="php",s.xml="xml",s.ruby="ruby",s.haskell="haskell",s.kotlin="kotlin",s.csharp="csharp",s.c="c",s.objectivec="objectivec",s.r="r",s.lua="lua",s.dart="dart",s.scala="scala",s.perl="perl",s.commonlisp="commonlisp",s.clojure="clojure",s.ocaml="ocaml",s.powershell="powershell",s.verilog="verilog",s.dockerfile="dockerfile",s.vue="vue",s.other="other",s))(O||{});function Q(s){if(F(s))switch(s){case p.CODE_REACT:return"typescript";default:return I(s.replace(/^code\//,""),Object.values(O),"other")}}function b(s){return s.includes("'react'")||s.includes('"react"')}function rs(s,t){switch(s){case p.CODE_HTML:case p.CODE_REACT:return!0;case p.CODE_JAVASCRIPT:case p.CODE_TYPESCRIPT:return b(t);default:return!1}}function is(s){return P([p.CODE_PYTHON],s)}function as(s,t){var a;let e=(a=Q(s))!=null?a:null;return(b(t)||s===p.CODE_REACT)&&(e="react"),e&&B(e)?e:null}const ns=s=>{"use forget";const t=G.c(9),{gap:e,padding:a,size:u}=s,o=a===void 0?4:a,n=u===void 0?3:u;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=S("grid h-full max-w-full flex-1 grid-cols-3 items-center"),t[0]=c):c=t[0];let i;t[1]!==e||t[2]!==o?(i={gap:e,padding:o},t[1]=e,t[2]=o,t[3]=i):i=t[3];let l;t[4]!==n?(l=V(3,v=>r.jsx(f.div,{className:"dark:bg-white-400 aspect-square rounded-full bg-gray-400",animate:{translateY:["0%","-50%","0%","0%","0%"]},style:{translateX:.5,width:n,height:n},transition:{repeat:1/0,type:"keyframes",delay:v/10,duration:.7}},v)),t[4]=n,t[5]=l):l=t[5];let m;return t[6]!==i||t[7]!==l?(m=r.jsx(f.div,{className:c,style:i,children:l}),t[6]=i,t[7]=l,t[8]=m):m=t[8],m},X=36,ls=-24,Y=280,os=Y+X,cs=40;var K=(s=>(s.COLLAPSED="collapsed",s.EXPANDED="expanded",s))(K||{});function ps({isDisabled:s=!1,isCodePreviewable:t=!1,isCodeRunning:e,disabledTooltip:a,clientThreadId:u,onClick:o}){const[n,c]=w.useState(e),[{width:i},l]=J();w.useEffect(()=>{let _=null;return!e||t?c(e):(_=setTimeout(()=>{c(e)},200),()=>clearTimeout(_))},[e,t]);const m=()=>({conversation_id:u?H(u):void 0}),v=()=>{k.logEventWithStatsig("Canvas Run Code Button Clicked","chatgpt_canvas_run_code_button_clicked",m()),setTimeout(()=>o==null?void 0:o())},j=r.jsx(f.button,{disabled:s||e&&!n,onClick:v,className:S("btn btn-primary ms-1 rounded-full sm:min-w-28",n?S(W,"border-transparent"):"hover:bg-opacity-90"),animate:{width:i!=null?i:0},initial:{width:i!=null?i:0},transition:{type:"spring",bounce:.24,duration:.4},children:r.jsx("div",{ref:l,children:n?r.jsxs(f.div,{className:"flex items-center gap-1.5 ps-1 pe-1 sm:ps-2 sm:pe-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[r.jsx(q,{className:"icon"}),r.jsx("span",{className:"hidden sm:inline",children:r.jsx(E,y({},h.stopCode))})]}):r.jsxs(f.div,{className:"flex items-center gap-1.5 ps-1 pe-1 sm:ps-2 sm:pe-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[r.jsx(x,{className:"icon"}),r.jsx("span",{className:"hidden whitespace-nowrap sm:inline",children:r.jsx(E,y({},t?h.previewCode:h.runCode))})]})})}),d=s&&a?a:e?null:r.jsx(E,y({},t?h.previewCodeTooltip:h.runCodeTooltip));return d?r.jsx(T,{label:d,children:j}):j}const h=U({previewCode:{id:"M1TBxe",defaultMessage:"Preview"},runCode:{id:"LiKr5n",defaultMessage:"Run code"},stopCode:{id:"nCwG4+",defaultMessage:"Stop"},runCodeTooltip:{id:"UeNB/S",defaultMessage:"See output and debug"},previewCodeTooltip:{id:"/qJKMH",defaultMessage:"Preview in canvas"}});class ${constructor(t){this.params=t}get isReadonly(){return Object.values(this.params).some(t=>!!t)}get isHistoricalVersion(){return!!this.params.isHistoricalVersion}get isStreaming(){return!!this.params.isTextdocStreaming||!!this.params.isRequestActive}get isTextdocStreaming(){return!!this.params.isTextdocStreaming}get isStreamingFromNative(){return this.isStreaming&&this.params.streamingSource===z.NATIVE}get isRestoring(){return!!this.params.isRestoring}get isShowingChanges(){return!!this.params.isShowingChanges}get isReadonlyFromQueryParam(){return!!this.params.isReadonlyFromQueryParam}}const ms=s=>new $(s);export{cs as C,Y as E,K as G,ns as T,Q as a,ms as b,os as c,is as d,ps as e,ls as f,as as g,X as h,rs as i,O as j,h as m};
//# sourceMappingURL=krza42hj097hj350.js.map

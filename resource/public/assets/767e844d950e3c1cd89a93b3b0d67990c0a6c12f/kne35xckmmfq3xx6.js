const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/g2euln7v5pbm31qa.js","assets/mw35uwhq4g8r9eam.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/conversation-small-lq38g8zw.css","assets/i8gmt89kig8ue44v.js","assets/dejzmw8nrz6tr491.js","assets/ojmli062couj7r3v.js","assets/lv7ytt0l14b17ows.js","assets/d3ia29s4ey7jfka4.js"])))=>i.map(i=>d[i]);
var ue=Object.defineProperty,ge=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var me=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var z=(s,t,a)=>t in s?ue(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,W=(s,t)=>{for(var a in t||(t={}))me.call(t,a)&&z(s,a,t[a]);if(R)for(var a of R(t))fe.call(t,a)&&z(s,a,t[a]);return s},q=(s,t)=>ge(s,pe(t));import{u as V,r as w,h as v,j as e,M as u,_ as E,a as he,d as N}from"./mw35uwhq4g8r9eam.js";import{u as f,dm as k,et as Q,dz as L,p as $,cm as xe,cd as I,f7 as r,f8 as ve,er as O,ks as D,fJ as je,mk as Se,du as Me,pu as be,pv as Ie,qX as S,be as A,O as B,fK as ke,_ as m,Y as J,eD as X,e7 as Ce,h2 as _e,cu as ye,cD as Pe,bC as Y,g as We,bq as T,$ as we,a0 as Oe,dq as Ee,dW as Ne,hg as Le,cw as De,aP as Ae,d_ as Be,ak as G,dv as H}from"./d0xa318sl7ywi0za.js";import{f8 as Te,f9 as Fe,aE as F,fa as Ue,fb as Z,fc as Re,fd as ze,K as qe,fe as Ge,ff as He,fg as ee,c7 as Ke,fh as j,cl as Ve,fi as Qe,fj as $e,cm as Je,fk as Xe,at as Ye,bn as se,aG as Ze,fl as es,e6 as te,fm as ss,fn as ts,fo as ae,fp as as,fq as ns,fr as os,fs as is,ft as rs,fu as ls,fv as cs,fw as ds,fx as us,fy as gs,fz as ps,fA as ms}from"./g2euln7v5pbm31qa.js";import{c as ne,b as fs,f as hs}from"./ojmli062couj7r3v.js";function xs({currentAccount:s}){return e.jsx(oe,{workspace:s,isLoading:!1,currentWorkspaceId:s.id,showCheck:!1})}function vs({accountSwitcherRedirectUrl:s}){const t=f(),a=V(),{data:n}=k(),o=Q(n),[c,i]=w.useState(!1),l=L(),d=v(),p=$();if(!o||!n)return null;const h=o.isWorkspaceAccount(),C=n.accountItems.length>1,M=n.accountItems,_=xe([M.find(g=>g.isPersonalAccount()),...M.filter(g=>!g.isPersonalAccount())]);return _.sort((g,b)=>g.isPersonalAccount()?1:b.isPersonalAccount()?-1:0),C?_.map(g=>{const b=g.isDeactivated(),y=()=>{if(b||g.id===(o==null?void 0:o.id))return;i(!0);const{willRedirect:P}=be(a,g.id,t,d,p);P||Ie(s)};return g.isDeactivated()?e.jsx(js,{workspace:g,isLoading:c},g.id):e.jsx(oe,{workspace:g,isLoading:c,currentWorkspaceId:o==null?void 0:o.id,onSelect:y},g.id)}):h?e.jsx(xs,{currentAccount:o}):(l==null?void 0:l.email)&&e.jsx("div",{className:"text-token-text-secondary ms-3 me-2 py-2 text-sm",children:l.email})}function oe({workspace:s,isLoading:t,currentWorkspaceId:a,showCheck:n=!0,onSelect:o}){const c=v(),i=s.canAccessWithCurrentSession,l=!t&&n&&s.id===a,p=s.data.ekmConfig!=null?e.jsxs("div",{className:"relative",children:[e.jsx(S,{iconSize:"small",workspace:s}),e.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:e.jsx(F,{className:"h-2 w-2","aria-hidden":"true"})})]}):e.jsx(S,{iconSize:"small",workspace:s});return e.jsxs(r.RadioItem,{value:s.id,onSelect:o,icon:p,secondary:!i&&(s.ssoConnectionName?e.jsx(u,{id:"CV7pdM",defaultMessage:"Authenticate with SSO to access this workspace"}):e.jsx(u,{id:"zfCWFh",defaultMessage:"Authenticate without SSO to access this workspace"})),trailingColor:l?"primary":"tertiary",trailing:l?e.jsx(Me,{className:"icon-sm"}):i?null:Se,children:[e.jsx("div",{className:"line-clamp-1",children:ne(c,s)}),t&&e.jsx(O,{})]})}function js({workspace:s,isLoading:t}){const a=v(),n=s.isOwnerOfAccount(),[o,c]=w.useState(!1),{count:i}=Te(s.id);f();const l=Fe(),d=s.mustGetSubscriptionBillingCurrency("DeactivatedWorkspaceMenuItem");return w.useEffect(()=>{i!=null&&o&&(I.setPurchaseWorkspaceData({minimumSeats:Math.max(i,l),billingDetails:{currency:d},existingAccount:s}),c(!1))},[i,o,s,l,d]),e.jsxs(r.Item,{disabled:!0,icon:F,trailing:!t&&e.jsxs(r.Root,{children:[e.jsx(r.BasicTrigger,{asChild:!0,children:e.jsx(D,{"aria-label":a.formatMessage({id:"1Fk+46",defaultMessage:"Workspace options"}),icon:je})}),e.jsx(r.Portal,{children:e.jsxs(r.Content,{alignOffset:2,sideOffset:-2,size:"auto",align:"end",children:[n&&e.jsx(e.Fragment,{children:e.jsx(r.Item,{onClick:()=>{i==null?c(!0):I.setPurchaseWorkspaceData({minimumSeats:Math.max(i,l),billingDetails:{currency:d},existingAccount:s})},children:o?e.jsx(O,{}):e.jsx(u,{id:"navigation.reactivateWorkspace",defaultMessage:"Reactivate workspace"})})}),e.jsx(r.Item,{color:"danger",onClick:()=>{I.setLeaveWorkspaceData(s)},children:e.jsx(u,{id:"navigation.leaveWorkspace",defaultMessage:"Leave workspace"})})]})})]}),children:[e.jsx("div",{className:"line-clamp-1",children:ne(a,s)}),e.jsx(ve,{children:e.jsx(u,{id:"navigation.deactivedWorkspacePill",defaultMessage:"Deactivated"})}),t&&e.jsx(O,{})]})}function Ss(s){var a;return s!=null&&s.isWorkspaceAccount()?!((s==null?void 0:s.isEdu())&&!((a=s.isK12)!=null&&a.call(s))&&(s==null?void 0:s.isStandardUserOfAccount())):!1}const Hs=({clientThreadId:s})=>{const t=v(),a=f();return B(a)?null:e.jsx(ke,{contentAlign:"end",sideOffset:4,triggerButton:e.jsx("button",{onClick:()=>{m.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:"header"})},"aria-label":t.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),"data-testid":"profile-button",className:"group user-select-none ps-2 focus:outline-0",children:e.jsx("div",{className:"group-hover:bg-token-interactive-bg-secondary-selected touch:h-10 touch:w-10 group-keyboard-focused:focus-ring flex h-9 w-9 items-center justify-center rounded-full",children:e.jsx(bs,{})})}),children:e.jsx(ie,{clientThreadId:s})})};function Ks(){const s=j();return e.jsxs(r.Root,{onOpenChange:t=>{t&&m.logEventWithStatsig("Account: Open Profile Menu","chatgpt_account_open_profile_menu",{location:s})},children:[e.jsx(Ms,{isTinyBar:s==="tiny_bar"}),e.jsx(r.Portal,{children:e.jsx(r.Content,{side:"top",size:"auto",className:"min-w-[calc(var(--sidebar-width)-12px)]",children:e.jsx(ie,{})})})]})}function Ms({isTinyBar:s}){var U;const t=f(),{data:a}=k(),n=Q(a),o=fs(),c=hs(),i=v(),{enableProfileUpgradePill:l}=ae(),d=cs(),p=n==null?void 0:n.isSelfServeBusiness(),h=(U=n==null?void 0:n.isFreeWorkspace())!=null?U:!1,C=G(t,"1435014612"),M=!s&&!p&&d&&C.get("enable_v3_sidebar_upsell_cta",!1),g=l&&!M&&!(!!p||h),y=G(t,"1656913255").get("outcome_value_props_enabled",!1),P=N();if(!n||!a)return null;const re=n!=null&&n.isWorkspaceAccount(),le=a!=null&&a.accountItems.length>1;let x;re||le?x=o:n!=null&&n.isFree()?x=i.formatMessage(ds({shouldUseOutcomeValueProps:y}).name):n!=null&&n.isPlus()?x=i.formatMessage(us({ctx:t}).name):n!=null&&n.isGo()?x=i.formatMessage(gs({ctx:t}).name):n!=null&&n.isPro()&&(x=i.formatMessage(ps({ctx:t}).name));const ce=i.formatMessage({id:"profileMenu.open",defaultMessage:"Open profile menu"}),de=(n==null?void 0:n.data.ekmConfig)!=null?e.jsxs("div",{className:"relative",children:[e.jsx(S,{}),e.jsx("div",{className:"border-token-border-default absolute end-0 bottom-0 flex h-[12px] w-[12px] items-center justify-center rounded-full border bg-white text-black shadow-xs",children:e.jsx(F,{className:"h-2 w-2","aria-hidden":"true"})})]}):e.jsx(S,{});return e.jsx(r.BasicTrigger,{asChild:!0,children:e.jsx(ms,{"data-testid":"accounts-profile-button","aria-label":ce,size:"large",icon:de,iconOnly:s,label:c,role:"button",trailing:!s&&g?e.jsx(e.Fragment,{children:e.jsx(D,{onClick:()=>{se(P,"sidebar profile")},"aria-label":i.formatMessage(H.upgrade),className:"-my-1.5 -ms-2 -me-2.5 cursor-default py-1.5 ps-2 pe-2.5",children:e.jsx("span",{className:"btn-secondary btn btn-small my-0 me-0 cursor-default hover:cursor-pointer",children:e.jsx(u,W({},H.upgrade))})})}):void 0,secondary:x&&e.jsx("div",{className:"truncate",dir:"auto",children:x})})})}const ie=({clientThreadId:s})=>{const t=f(),a=B(t),n=J(),o=X(),c=n&&!o,i=Ue(t);return e.jsxs("div",{className:"flex flex-col",children:[a?e.jsx(Is,{}):e.jsx(As,{}),e.jsx(Ws,{}),e.jsx(r.Separator,{}),!a&&e.jsx(Ts,{clientThreadId:s}),a?e.jsx(ys,{}):e.jsx(Z,{}),a&&!c&&e.jsx(Os,{}),(i||!1)&&e.jsx(r.Separator,{}),i&&e.jsx(Re,{}),!1]})},bs=()=>{const s=f();return B(s)?e.jsx(S,{showPlanTypeBadge:!0}):e.jsx(ze,{className:"icon-lg"})},Is=()=>{const s=f(),t=Ce(),{data:a}=k(),n=a&&a.accountItems.length>1,o=J(),c=X(),i=n&&(!o||c),l=Ss(t),d=he(),p=d.pathname+d.search+(d.search?"&":"?")+"refresh_account=true",h=qe(s);return e.jsxs(e.Fragment,{children:[h.hasAccess?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{currentAccount:t}),e.jsx(r.Separator,{})]}):e.jsx(ks,{currentAccount:t}),i&&e.jsxs(e.Fragment,{children:[e.jsx(vs,{accountSwitcherRedirectUrl:p}),e.jsx(K,{shouldShowPlusIcon:l}),e.jsx(r.Separator,{})]}),!i&&e.jsx(K,{shouldShowPlusIcon:l}),e.jsx(Ds,{currentAccount:t}),e.jsx(Bs,{}),l&&e.jsx(Cs,{}),!1,e.jsx(He,{}),e.jsx(Ps,{})]})};function ks({currentAccount:s}){var l;const t=v(),a=L(),n=N(),o=$();if(!a)return null;const c=s&&s.isWorkspaceAccount()&&!s.isEnterprisey(),i=t.formatMessage({id:"navigation.addWorkspaceTooltip",defaultMessage:"Create a Business workspace"});return e.jsx(Le,{as:"div",onClick:async d=>{await Ze(a.id,o,d),o.success("Copied your User ID to clipboard")},icon:Xe,className:"text-token-text-tertiary bg-transparent!",trailing:c&&e.jsx(De,{label:i,className:"leading-0",side:"right",children:e.jsx(D,{onClick:()=>{se(n,"profile menu")},"aria-label":i,children:e.jsx(Ye,{className:"icon-sm"})})}),label:(l=a.email)!=null?l:a.name})}const Cs=()=>{const s=j();return e.jsx(r.LinkItem,{to:"/admin",icon:te,onClick:()=>{m.logEventWithStatsig("Account: Open Workspace Settings","chatgpt_account_open_workspace_settings",{location:s})},children:e.jsx(u,{id:"workspacePopoverNavigation.myWorkspaceSettings",defaultMessage:"Workspace settings"})})},_s=()=>e.jsx(r.LinkItem,{icon:is,external:!0,to:"https://openai.com/chatgpt/download",children:e.jsx(u,{id:"mDFGM/",defaultMessage:"Download apps"})}),ys=()=>{const s=j();return e.jsxs(r.Sub,{onOpenChange:t=>{t&&(m.logEventWithStatsig("Account: Open Help Menu","chatgpt_account_help_menu_open",{location:s}),we.count(Oe.DEFAULT,"chatgpt_account_help_menu_open",{location:s}))},children:[e.jsx(r.SubMenuTrigger,{icon:Qe,children:e.jsx(u,{defaultMessage:"Help",id:"navigation.helpMenu"})}),e.jsx(r.Portal,{children:e.jsxs(r.SubContent,{align:"end",children:[e.jsx(Z,{}),e.jsx($e,{}),e.jsx(_s,{}),e.jsx(ws,{})]})})]})},Ps=()=>{const s=j(),t=N(),a=V();return e.jsx(r.Item,{onClick:()=>{t("#settings/".concat(Be.Personalization)),m.logEventWithStatsig("Account: Click Customize ChatGPT","chatgpt_account_open_customize_chatgpt",{location:s})},icon:ns,onMouseOver:()=>{a.prefetchQuery(os())},children:e.jsx(u,{id:"S0v338",defaultMessage:"Personalization"})})},Ws=()=>{const{openSettings:s}=Ke(),t=j();return e.jsx(r.Item,{icon:_e,onClick:()=>{m.logEventWithStatsig("Account: Click Settings","chatgpt_account_open_settings",{location:t}),s()},"data-testid":"settings-menu-item",children:e.jsx(u,{defaultMessage:"Settings",id:"navigation.settings.0"})})},ws=()=>e.jsx(r.Item,{className:"touch:hidden",icon:rs,onSelect:()=>{ls.set(!0)},children:e.jsx(u,{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"})}),Os=()=>e.jsx(r.Item,{onSelect:()=>{m.logEvent("Account: Click Log Out",{eventSource:"mouse"}),m.logLogOutButtonClicked({location:"profile_drop_down"},Ee.ACCESS_LOGOUT_ACTION_LOCATION_PROFILE_DROP_DOWN),I.openModal(Ne.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:Je,children:e.jsx(u,{defaultMessage:"Log out",id:"navigation.logOut.0"})}),Es=A(()=>E(()=>import("./g2euln7v5pbm31qa.js").then(s=>s.Do),__vite__mapDeps([0,1,2,3,4])).then(s=>s.AdminInviteModal)),Ns=A(()=>E(()=>import("./i8gmt89kig8ue44v.js"),__vite__mapDeps([5,1,0,2,3,4,6,7,8])).then(s=>s.default)),Ls=A(()=>E(()=>import("./d3ia29s4ey7jfka4.js"),__vite__mapDeps([9,1,2,3,0,4])).then(s=>s.ThreadReportConversationModal)),Ds=({currentAccount:s})=>{var d,p,h;const t=f(),a=(d=s==null?void 0:s.canInviteMembers())!=null?d:!1,n=(p=s==null?void 0:s.isSelfServeBusiness())!=null?p:!1,o=(h=s==null?void 0:s.isK12())!=null?h:!1,c=s==null?void 0:s.isQuorum(),i=s==null?void 0:s.isFreeWorkspace(),l=n||o&&a||c||i;return!s||!l?null:e.jsx(r.Item,{"data-testid":"settings-menu-item-invite-teammates",onSelect:()=>{m.logEvent("Account: Invite Member Button Clicked",{eventSource:"mouse",location:"profile_drop_down"}),Ae(t,"chatgpt_invite_users_to_workspace",0,{action:"OpenAdminInviteModal",location:"dropdown-menu-click",text:"AddTeammates",step:"OpenModal"}),T(t,Es,{workspace:s})},icon:ss,children:e.jsx(u,{id:"inviteMemberButton.inviteMemberButton",defaultMessage:"Add teammates"})})},As=()=>e.jsx(r.LinkItem,{icon:ee,external:!0,to:"https://openai.com/chatgpt/pricing/",children:e.jsx(u,{id:"J1y7uV",defaultMessage:"See plans and pricing"})}),Bs=()=>{const{showUpgradePlan:s,onUpgradeClick:t}=ts("chatgpt_upgrade_in_settings_menu_clicked","Upgrade In Settings Menu Clicked","profile-dropdown-menu"),{enableUpgradeMenuSparkleIcon:a}=ae();return s?e.jsx(r.Item,{icon:a?e.jsx(as,{className:"icon-sm"}):ee,onSelect:()=>t("Upper right settings menu"),children:e.jsx(u,{id:"navigation.upgradePlan",defaultMessage:"Upgrade plan"})}):null},K=({shouldShowPlusIcon:s})=>{const t=f(),a=j(),n=L(),{data:o}=k(),c=!!(o!=null&&o.accountItems.some(d=>d.isEnterprisey())),i=(n==null?void 0:n.email_domain_type)==="professional";return!i||c||!(i&&!c&&Y(t).getLayer("3217430380").get("enable_workspace_discovery",!1))?null:e.jsx(r.Item,{onSelect:()=>{m.logEventWithStatsig("Account: Open Workspace Discovery","chatgpt_workspace_discovery_modal_shown",{location:a}),T(t,Ns,{mode:"dismissible",section:"discoverable",source:"find_workspaces"})},icon:s?es:te,children:e.jsx(u,{defaultMessage:"Find workspaces",id:"navigation.findWorkspaces"})})},Ts=({clientThreadId:s})=>{const t=f(),a=ye(s),n=Pe();if(s&&Y(t).checkGate("3376455464")&&(a||n)){const o=We(t,s);return e.jsx(r.Item,{icon:Ve,onClick:()=>T(t,Ls,q(W({clientThreadId:s},n&&(o!=null&&o.sharedConversationId)?{serverThreadId:o.sharedConversationId,isSharedConversation:!0}:{}),{isStaticSharedThread:!1})),children:e.jsx(u,{id:"profileMenu.reportConversation",defaultMessage:"Report conversation"})})}return null};export{vs as A,ks as L,Hs as P,Ks as S};
//# sourceMappingURL=kne35xckmmfq3xx6.js.map

var y=Object.defineProperty;var R=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var C=(s,t,e)=>t in s?y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,T=(s,t)=>{for(var e in t||(t={}))S.call(t,e)&&C(s,e,t[e]);if(R)for(var e of R(t))b.call(t,e)&&C(s,e,t[e]);return s};import{y as x,ab as E,a1 as $,r as w}from"./mw35uwhq4g8r9eam.js";import{u as I,a4 as v,g as O,k as P,aw as k,ay as A,pi as G}from"./d0xa318sl7ywi0za.js";import{f as L,h as N}from"./g2euln7v5pbm31qa.js";import"./5uqv5sdajcdsdc3v.js";import"./kc32gem4l2t3hnxt.js";import"./of0vtq1gcmd3mc3z.js";import"./kne35xckmmfq3xx6.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./c340ncgh31fwqkpk.js";import"./kl0a548ohmz3fby2.js";import"./obpubb7ugisfu36u.js";import"./gl4f6lge29au0ljx.js";import"./iio0zgk2sqlxbcjy.js";const D=()=>[{title:"ChatGPT"}],ee=()=>!1;function j(s){var p,c,m,l,u,f,h,_,g;const t={},e="client-created-root";t[e]={id:e,message:{id:e,author:{role:A.Root},content:{content_type:k.Text,parts:[]}},parent:"",children:[]};let n=e;const d=[],r=new Set;for(const o of s.messages)r.add(o.id);for(const o of s.messages){let i=(c=(p=o.metadata)==null?void 0:p.parent_id)!=null?c:n;r.has(i)||(i=n),t[o.id]={id:o.id,message:o,parent:i,children:[]},n=o.id,d.push(...(l=(m=o.metadata)==null?void 0:m.safe_urls)!=null?l:[])}for(const[o,i]of Object.entries(t))i.parent!==""&&((f=(u=t[i.parent])==null?void 0:u.children)==null||f.push(o));const a=(h=s.conversation_id)!=null?h:s.id;return T({title:(_=s.title)!=null?_:null,conversation_id:a,mapping:t,current_node:n,moderation_results:[],safe_urls:(g=s.safe_urls)!=null?g:d},G(s,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember"))}const te=x(function(){var p;const t=I(),e=E(),n=$(),d=e!=null?e:n;v.debug("IN: POST=".concat(e==null?void 0:e.length,", GET=").concat(n==null?void 0:n.length));const r=JSON.parse(d),a=(p=r.conversation_id)!=null?p:r.id;return O(t,a,{sharedConversationId:a}),w.useEffect(()=>{const c=j(r);L(a,c),N(a),P(a,m=>{m.continuingFromSharedConversationId=a})},[]),v.debug("Ready ".concat(a," (SERVER: false) : ").concat(d.length," byte(s)")),null});export{te as default,D as meta,ee as shouldRevalidate};
//# sourceMappingURL=ir5eqm4cv6dwqkap.js.map

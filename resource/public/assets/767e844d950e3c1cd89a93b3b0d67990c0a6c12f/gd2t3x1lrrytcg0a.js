import{j as r,r as c,h as x}from"./mw35uwhq4g8r9eam.js";import{K as y,A as C}from"./g2euln7v5pbm31qa.js";import{d as b,u as j,jh as S,aB as R,dp as d,fg as N,dv as I}from"./d0xa318sl7ywi0za.js";function p(a){const e=a.trim();return e.length===0||e.length>32?null:e}function v({roomId:a,currentName:e,onClose:n}){"use no forget";const i=j(),f=y(i),o=c.useRef(!1),g=S(i),s=x(),[u,h]=c.useState(e),l=async()=>{var m;if(o.current)return;const t=p(u);if(t!=null){if(t===e){n();return}try{o.current=!0,await f.editRoom$(a,{name:t}),n()}catch(M){g.danger((m=N(M))!=null?m:s.formatMessage(I.somethingWentWrong))}finally{o.current=!1}}};return r.jsx(R,{testId:"modal-rename-group-chat",isOpen:!0,onClose:()=>n(),type:"success",title:s.formatMessage({id:"izJ4jn",defaultMessage:"Rename group chat"}),primaryButton:r.jsx(d.Button,{title:s.formatMessage({id:"C6dvh5",defaultMessage:"Rename"}),color:"primary",disabled:p(u)==null,onClick:()=>{l()},"data-testid":"rename-group-chat-confirm-button"}),secondaryButton:r.jsx(d.Button,{title:s.formatMessage({id:"zsdTf3",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>n()}),children:r.jsx("form",{onSubmit:t=>{t.preventDefault(),l()},children:r.jsx(C,{ariaLabel:s.formatMessage({id:"2DMQRd",defaultMessage:"Group chat name"}),className:"my-1 px-3 py-2",inputClassName:"bg-token-bg-primary!",name:"group-chat-name",type:"text",value:u,placeholder:e,autoComplete:"off","data-1p-ignore":!0,onChange:t=>{h(t.currentTarget.value)}})})})}const k=({room:a,onClose:e})=>{"use no forget";const n=b(()=>a.name$());return r.jsx(v,{roomId:a.id,currentName:n,onClose:e})};export{k as CalpicoRenameChatModalContainer};
//# sourceMappingURL=gd2t3x1lrrytcg0a.js.map

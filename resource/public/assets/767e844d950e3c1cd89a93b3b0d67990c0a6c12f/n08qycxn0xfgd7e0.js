var p=Object.defineProperty;var l=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var u=(e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,a=(e,t)=>{for(var i in t||(t={}))b.call(t,i)&&u(e,i,t[i]);if(l)for(var i of l(t))g.call(t,i)&&u(e,i,t[i]);return e};import{r as f,v as C,i as N,j as o,M as s}from"./mw35uwhq4g8r9eam.js";import{cW as r,dN as c,ba as d,dO as n,dP as j}from"./g2euln7v5pbm31qa.js";import{D as S,n4 as w}from"./d0xa318sl7ywi0za.js";import{c as B}from"./jfogwbjv4qzz2lb3.js";function R(){const[e,t]=f.useState(!1);f.useEffect(()=>{r.setSessionId(C()),r.logImpression()},[]);const{mutate:i,isPending:m}=N({mutationFn:B,onError:x=>{if(S.addError("Jawbone: Failed to create push subscription",{error:x}),Notification.permission==="denied"){c.clearNotificationRequest();return}t(!0)},onSuccess:()=>{c.clearNotificationRequest()}});return e?o.jsx(d,{icon:o.jsx(w,{}),isPrimaryCtaDisabled:!0,isSecondaryCtaDisabled:!0,type:"error",onDismiss:()=>{t(!1),r.logErrorDismissed(),c.clearNotificationRequest()},title:o.jsx(s,a({},n.notificationsDisabledBannerTitle)),content:o.jsx(s,a({},n.notificationsDisabledBannerContent))}):o.jsx(d,{icon:o.jsx(j,{}),primaryCtaText:o.jsx(s,a({},n.notificationsBannerAllow)),onPrimaryCtaClick:()=>{r.logAllow(),i()},isPrimaryCtaDisabled:m,secondaryCtaText:o.jsx(s,a({},n.notificationsBannerNotNow)),onSecondaryCtaClick:()=>{r.logNotNow(),c.clearNotificationRequest()},title:o.jsx(s,a({},n.notificationsBannerTitle)),content:o.jsx(s,a({},n.notificationsBannerContent))})}export{R as JawboneNotificationsBanner};
//# sourceMappingURL=n08qycxn0xfgd7e0.js.map

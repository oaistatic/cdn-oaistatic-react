var w=Object.defineProperty,N=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var g=(e,t,i)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,n=(e,t)=>{for(var i in t||(t={}))b.call(t,i)&&g(e,i,t[i]);if(j)for(var i of j(t))z.call(t,i)&&g(e,i,t[i]);return e},h=(e,t)=>N(e,S(t));import{j as s,h as C,r as v,M as c}from"./mw35uwhq4g8r9eam.js";import{aB as B,e4 as I,u as P,jh as k,r_ as J,r$ as T,fB as d,s0 as L,aA as p}from"./d0xa318sl7ywi0za.js";import{is as O}from"./g2euln7v5pbm31qa.js";async function A(e){const{action:t,minDelayMs:i=1e3,onOptimistic:m,setUiLoading:o,onError:r,onFinally:l}=e;o==null||o(!0);const u=new Promise(a=>setTimeout(a,i)),x=t();await u,m();try{return await x}catch(a){throw r==null||r(a),a}finally{o==null||o(!1),l==null||l()}}const W=({onClose:e,onJoinProjectSuccess:t,projectData:i})=>s.jsx(B,{testId:"modal-project-join",isOpen:!0,onClose:e,type:"success",showCloseButton:!0,hasSeparator:!1,size:"custom",className:"max-w-fit",contentClassName:"p-8",title:s.jsx(s.Fragment,{}),closeButton:s.jsxs(s.Fragment,{children:[s.jsx("span",{tabIndex:0,"aria-hidden":!0,className:"h-0 w-0 opacity-0 focus:outline-hidden"}),s.jsx(I,{onClick:()=>e()})]}),children:s.jsx(E,{projectData:i,onJoinProjectSuccess:t,onClose:e})});function E({projectData:e,onJoinProjectSuccess:t,onClose:i}){const m=C(),o=P(),r=k(o),[l,u]=v.useState(!1),{mutateAsync:x,isPending:a}=J(),{mutateAsync:f,isPending:y}=T();return s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("div",{className:"border-token-border-default mb-4 w-fit rounded-xl border p-2",children:s.jsx(O,{className:"h-8 w-8"})}),s.jsx("div",{className:"text-token-text-secondary",children:e.gizmo.author.display_name?s.jsx(c,h(n({},d.projectJoinModalWithCreatorTitle),{values:{projectCreator:e.gizmo.author.display_name}})):s.jsx(c,n({},d.projectJoinModalWithoutCreatorTitle))}),s.jsx("div",{className:"text-base font-medium",children:e.gizmo.display.name}),s.jsx("div",{className:"text-token-text-tertiary text-xs",children:s.jsx(c,h(n({},d.membersCount),{values:{count:e.gizmo.sharing.subjects.filter(M=>M.type===L.USER).length+1}}))}),s.jsxs("div",{className:"mt-8 flex w-full gap-3",children:[s.jsx(p,{color:"secondary",className:"flex-1 py-3",loading:y||l,onClick:async()=>{await A({action:()=>f({gizmoId:e.gizmo.id}),minDelayMs:1e3,onOptimistic:i,setUiLoading:u,onError:()=>{r.danger(m.formatMessage({id:"fsc7l8",defaultMessage:"Something went wrong. If this issue persists please contact us through our help center at help.openai.com."}),{id:"snorlax-decline-failed"})}})},children:s.jsx(c,n({},d.declineInviteButtonLabel))}),s.jsx(p,{color:"primary",className:"flex-1 py-3",loading:a,onClick:async()=>{await x({gizmoId:e.gizmo.id}),t()},children:s.jsx(c,n({},d.joinProjectButtonLabel))})]})]})}export{W as ProjectJoinModal};
//# sourceMappingURL=nwi6271w6gf5bx4p.js.map

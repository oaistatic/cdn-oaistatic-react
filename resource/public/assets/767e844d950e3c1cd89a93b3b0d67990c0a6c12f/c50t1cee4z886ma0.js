var S=Object.defineProperty,P=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var g=(e,a,t)=>a in e?S(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,u=(e,a)=>{for(var t in a||(a={}))_.call(a,t)&&g(e,t,a[t]);if(M)for(var t of M(a))A.call(a,t)&&g(e,t,a[t]);return e},d=(e,a)=>P(e,O(a));import{h as C,r as h,j as r,e as B}from"./mw35uwhq4g8r9eam.js";import{cF as T,h5 as K,cw as L}from"./d0xa318sl7ywi0za.js";import{V as k}from"./g2euln7v5pbm31qa.js";import{S as F,c as V}from"./errezp2ed2fpin7m.js";function I(e){return e.split(/[\s,]+/).map(a=>a.trim()).filter(a=>a.length>0)}function H({value:e,onChange:a,className:t,trackEmailsAdded:l,trackEmailRemoved:o,placeholder:i,classNames:p,trailingComponent:c,shouldShowTrailingComponent:b=()=>!0}){const x=C(),[n,f]=h.useState(""),j=s=>r.jsx(V.IndicatorsContainer,d(u({},s),{children:c})),E=h.useCallback(s=>{if(n&&!s.nativeEvent.isComposing)switch(s.key){case"Enter":case",":case" ":{const m=I(n);a([...e,...m.map(y)]),f(""),s.preventDefault();const N={numEmailsAdded:m.length,uploadType:"Manual"};l==null||l(N)}}},[n,a,e,l]),w=s=>{if(n){const m=I(n);a([...e,...m.map(y)]),f(n),s.preventDefault()}},D=b(e.map(s=>s.value),n);return r.jsx(F,{className:T("react-select-container",t),isMulti:!0,onBlur:w,classNamePrefix:"react-select",components:d(u({},R),{IndicatorsContainer:D&&c?j:()=>null}),inputValue:n,isClearable:!0,menuIsOpen:!1,onChange:(s,m)=>{switch(a(s),m.action){case"pop-value":case"remove-value":o==null||o();break}},classNames:p,onInputChange:f,onKeyDown:E,placeholder:i!=null?i:x.formatMessage(v.placeholder),value:e,"aria-labelledby":"add-emails-label",name:"add-member-emails",trackEmailRemoved:o})}const y=e=>({label:e,value:e,isValid:k.test(e)}),G=e=>{const a=C(),t=r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("span",{children:e.children}),r.jsx(K,{className:"icon-sm"})]}),l=e.data.isValid?t:r.jsx(L,{label:a.formatMessage(v.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:t}),o=i=>{var p,c,b,x;(c=(p=e.removeProps).onClick)==null||c.call(p,i),(x=(b=e.selectProps).trackEmailRemoved)==null||x.call(b),i.preventDefault()};return r.jsx(V.MultiValue,d(u({},e),{children:r.jsx("div",d(u({className:T("text-token-text-primary m-1 cursor-pointer rounded-md border border-transparent px-1.5 py-1 text-sm",e.data.isValid?"bg-token-bg-tertiary hover:border-token-border-heavy hover:bg-token-bg-tertiary":"bg-red-200 text-red-500"),role:"button",tabIndex:0,"aria-label":a.formatMessage(v.removeMember,{member:e.data.value})},e.removeProps),{onClick:o,children:l}))}))},R={DropdownIndicator:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:G},v=B({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});export{H as E,y as c};
//# sourceMappingURL=c50t1cee4z886ma0.js.map

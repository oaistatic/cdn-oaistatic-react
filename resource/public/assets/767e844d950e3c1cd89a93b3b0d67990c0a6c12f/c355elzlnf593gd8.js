var R=Object.defineProperty;var _=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var A=(o,e,t)=>e in o?R(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,$=(o,e)=>{for(var t in e||(e={}))K.call(e,t)&&A(o,t,e[t]);if(_)for(var t of _(e))U.call(e,t)&&A(o,t,e[t]);return o};import{c as L,j as n,r as F}from"./mw35uwhq4g8r9eam.js";import{u as X,g as q,d as D,m as G,cF as J,oS as V,kh as W,T as z,bX as Y,oT as Z,oU as ee,aB as te}from"./d0xa318sl7ywi0za.js";import{dv as se,d3 as oe,a as ne,g as re,dw as ae}from"./g2euln7v5pbm31qa.js";import{ThreadModal as ie}from"./ft92xq3wp8rdw7y4.js";const le=o=>{"use forget";const e=L.c(3);let t,s;e[0]!==o?(t=()=>{var l,d;(d=(l=window==null?void 0:window.history)==null?void 0:l.state)!=null&&d.pulseModalOpen||window.history.pushState({pulseModalOpen:!0},"",window.location.href);const i=()=>{var c,u;(u=(c=window==null?void 0:window.history)==null?void 0:c.state)!=null&&u.pulseModalOpen||o()};return window.addEventListener("popstate",i),()=>{window.removeEventListener("popstate",i)}},s=[o],e[0]=o,e[1]=t,e[2]=s):(t=e[1],s=e[2]),F.useEffect(t,s)},de=o=>{"use forget";const e=L.c(41),{onClose:t,clientThreadId:s,testId:i,title:l,contentClassName:d,headerAccessory:c,threadContent:u,shouldScrollToBottom:N,transparentHeader:k}=o,P=N===void 0?!1:N,H=k===void 0?!1:k,a=X();let C;e[0]!==s||e[1]!==a?(C=q(a,s),e[0]=s,e[1]=a,e[2]=C):C=e[2];const r=C,Q=D(ce),w=!!oe.useCurrentImage();le(t);let b;e[3]!==w||e[4]!==t?(b=()=>{w||t()},e[3]=w,e[4]=t,e[5]=b):b=e[5];const B=b;let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S={kind:G.PrimaryAssistant},e[6]=S):S=e[6];let T;e[7]!==P?(T={shouldScrollToBottom:P,disableConversationNavigation:!0},e[7]=P,e[8]=T):T=e[8],ne(s,S,T);let I,j;e[9]!==s||e[10]!==a?(I=()=>(z.retainThread(s),()=>{setTimeout(()=>{Y(a).invalidateQueries(re({clientThreadId:s}))},0),z.releaseThread(s)}),j=[s,a],e[9]=s,e[10]=a,e[11]=I,e[12]=j):(I=e[11],j=e[12]),F.useEffect(I,j);const M=!w,O=Q?"fullscreen":"custom",E=H&&"fixed w-full z-50 bg-transparent";let f;e[13]!==E?(f=J("pe-4 ps-4 pt-4",E),e[13]=E,e[14]=f):f=e[14];let m;e[15]!==l?(m=n.jsx("div",{className:"text-base font-medium",children:l}),e[15]=l,e[16]=m):m=e[16];let h;e[17]!==r?(h=n.jsx(ie,{conversation:r,allowAnyScreenSize:!0}),e[17]=r,e[18]=h):h=e[18];let x;e[19]!==r||e[20]!==h||e[21]!==u?(x=n.jsx(Z,{children:n.jsxs(ee,{conversation:r,children:[u,h]})}),e[19]=r,e[20]=h,e[21]=u,e[22]=x):x=e[22];let p;e[23]!==r||e[24]!==x?(p=n.jsx(V.Provider,{value:r,children:x}),e[23]=r,e[24]=x,e[25]=p):p=e[25];let g;e[26]!==d||e[27]!==B||e[28]!==c||e[29]!==O||e[30]!==f||e[31]!==m||e[32]!==p||e[33]!==M||e[34]!==i?(g=n.jsx(te,{testId:i,isOpen:M,onClose:B,size:O,className:"bg-token-bg-primary w-full max-w-7xl rounded-none rounded-b-none border-none sm:rounded-t-3xl",contentContainerClassName:"!grid-cols-[28px_1fr_28px] !grid-rows-[28px_1fr]",noPadding:!0,position:"bottom",removeBackground:!0,shadow:void 0,showCloseButton:!0,textCenter:!0,closeButtonSide:"left",headerAccessory:c,headerClassName:f,contentClassName:d,title:m,children:p}),e[26]=d,e[27]=B,e[28]=c,e[29]=O,e[30]=f,e[31]=m,e[32]=p,e[33]=M,e[34]=i,e[35]=g):g=e[35];let v;e[36]!==s?(v=n.jsx(ae,{clientThreadId:s}),e[36]=s,e[37]=v):v=e[37];let y;return e[38]!==g||e[39]!==v?(y=n.jsxs(n.Fragment,{children:[g,v]}),e[38]=g,e[39]=v,e[40]=y):y=e[40],y},pe=o=>{"use forget";const e=L.c(5);let t;e[0]!==o?(t=n.jsx(de,$({},o)),e[0]=o,e[1]=t):t=e[1];let s;return e[2]!==o.clientThreadId||e[3]!==t?(s=n.jsx(se,{clientThreadId:o.clientThreadId,children:t}),e[2]=o.clientThreadId,e[3]=t,e[4]=s):s=e[4],s};function ce(){return!W()}export{pe as P};
//# sourceMappingURL=c355elzlnf593gd8.js.map

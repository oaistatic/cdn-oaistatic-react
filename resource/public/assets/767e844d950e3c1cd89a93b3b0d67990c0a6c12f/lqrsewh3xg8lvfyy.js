var Se=Object.defineProperty,ve=Object.defineProperties;var Fe=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable;var ue=(t,e,a)=>e in t?Se(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,h=(t,e)=>{for(var a in e||(e={}))Ee.call(e,a)&&ue(t,a,e[a]);if(le)for(var a of le(e))Ne.call(e,a)&&ue(t,a,e[a]);return t},J=(t,e)=>ve(t,Fe(e));import{e as oe,c as $,r as W,j as s,M as _,h as ie,k as ne,i as Le,u as me,y as Me}from"./mw35uwhq4g8r9eam.js";import{e7 as fe,_ as M,aA as ce,dz as ge,p as ke,jG as he,dr as Pe,R as xe,u as We,dm as _e,pL as je,lq as pe,pj as re}from"./d0xa318sl7ywi0za.js";import{lq as Re,W as de,D as Te,p as qe,m as $e}from"./g2euln7v5pbm31qa.js";import{u as Ae,i as Be}from"./ojmli062couj7r3v.js";import{U as Je}from"./li1ryrplj6ozlpq5.js";import{S as De,a as Qe,b as Ge}from"./f6mluabugc6ieyxe.js";import{E as He}from"./dejzmw8nrz6tr491.js";import"./lv7ytt0l14b17ows.js";import"./bbjo050o29nnp22b.js";import"./c50t1cee4z886ma0.js";import"./errezp2ed2fpin7m.js";import"./kfdkis1zwf4ccfgg.js";import"./ol9d5wxhynx9q2is.js";import"./mbmcx8v24u1ao1ke.js";import"./ox7635ffwodpca7w.js";import"./0vzw4aujxrcpkx50.js";import"./cfvbqrbqhscaxqmy.js";import"./iej0cupg2dqkmejt.js";import"./g1i2syv8gpnf7zon.js";import"./3nm0nfmltveebiyx.js";import"./jzs4duvmz6iq4bpr.js";import"./c0ls495fz2t1hbyy.js";import"./kcu1x1p0wojynl2j.js";import"./icplq4r4g4m9zwmv.js";import"./m2d85ixk2zz51mk9.js";import"./mdhx8v0rk5lzwfyg.js";import"./or2c1ty5tgulfeci.js";import"./chla3yza1e08sgmu.js";import"./bymjh2zr7tar40cn.js";import"./pbx1h703pubtj7lo.js";import"./l4v2i2dq9gwjak1q.js";import"./dpnr7xd5p38jb3gp.js";const Oe="https://cdn.openai.com/chatgpt/team-interstitial-background.png",P=oe({heading:{id:"TeamWorkspaceFinalStep.heading",defaultMessage:"Welcome to your free ChatGPT Business workspace"},subheading:{id:"TeamWorkspaceFinalStep.subheading",defaultMessage:"Secure AI, approved by your company"},noTraining:{id:"TeamWorkspaceFinalStep.noTraining",defaultMessage:"No training on your data"},priorityAccess:{id:"TeamWorkspaceFinalStep.priorityAccess",defaultMessage:"Priority access to new features"},collaboration:{id:"TeamWorkspaceFinalStep.collaboration",defaultMessage:"Projects, collaboration, & more"},connectors:{id:"TeamWorkspaceFinalStep.connectors",defaultMessage:"Connect Google Drive & more"},doneButton:{id:"TeamWorkspaceFinalStep.doneButton",defaultMessage:"Continue"},legalDisclaimer:{id:"TeamWorkspaceFinalStep.legalDisclaimer",defaultMessage:"By continuing, you agree to our <businessTermsLink>Business Terms</businessTermsLink> and have read our <privacyPolicyLink>Privacy Policy</privacyPolicyLink>."}}),ze=[P.noTraining,P.priorityAccess,P.connectors,P.collaboration];function Ue(t){"use forget";const e=$.c(16),{onNext:a}=t,i=fe(),r=i==null?void 0:i.subscriptionAnalyticsParams;let n,c;e[0]!==r?(n=()=>{M.logEvent("Workspace Free: Workspace Setup Complete Modal Shown",r)},c=[r],e[0]=r,e[1]=n,e[2]=c):(n=e[1],c=e[2]),W.useEffect(n,c);let o;e[3]!==r||e[4]!==a?(o=()=>{M.logEvent("Workspace Free: Workspace Setup Complete Modal Clicked",r),a()},e[3]=r,e[4]=a,e[5]=o):o=e[5];const p=o;let l;e[6]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{className:"after:absolute after:inset-0 after:bg-[linear-gradient(to_top,white_0%,white_75%,transparent_100%)] after:content-['']",children:s.jsx("img",{src:Oe,alt:"",className:"absolute inset-0 h-full w-full object-cover object-top"})}),e[6]=l):l=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"flex flex-col items-center text-center",children:s.jsx("h2",{className:"text-2xl font-semibold",children:s.jsx(_,J(h({},P.heading),{values:{highlight:Ye}}))})}),e[7]=f):f=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("p",{className:"text-md text-token-text-primary",children:s.jsx(_,h({},P.subheading))}),e[8]=x):x=e[8];let d;e[9]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsxs("div",{className:"flex flex-col gap-2 text-start",children:[x,s.jsx("ul",{className:"text-token-text-primary flex flex-col gap-2 text-base",children:ze.map(Ve)})]}),e[9]=d):d=e[9];let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(_,h({},P.doneButton)),e[10]=m):m=e[10];let u;e[11]!==p?(u=s.jsx(ce,{onClick:p,size:"large",fullWidth:!0,children:m}),e[11]=p,e[12]=u):u=e[12];let y;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("p",{className:"text-caption-regular text-token-text-tertiary text-center",children:s.jsx(_,J(h({},P.legalDisclaimer),{values:{businessTermsLink:Ie,privacyPolicyLink:Ke}}))}),e[13]=y):y=e[13];let w;return e[14]!==u?(w=s.jsxs("div",{children:[l,s.jsxs("div",{className:"text-token-text-primary relative flex flex-col items-center justify-center gap-8",children:[f,d,u,y]})]}),e[14]=u,e[15]=w):w=e[15],w}function Ke(t){return s.jsx("a",{className:"underline",href:"https://openai.com/policies/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:t})}function Ie(t){return s.jsx("a",{className:"underline",href:"https://openai.com/policies/business-terms",target:"_blank",rel:"noopener noreferrer",children:t})}function Ve(t){return s.jsxs("li",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"flex items-center justify-center text-[#5856D6]",children:s.jsx(Re,{"aria-hidden":"true",className:"h-4 w-4"})}),s.jsx(_,h({},t))]},t.id)}function Ye(t){return s.jsx("span",{children:t})}const L=oe({joinWorkspaceHeading:{id:"createFreeWorkspace.joinWorkspaceHeading",defaultMessage:"Join or launch a workspace"},joinWorkspaceSubheading:{id:"createFreeWorkspace.joinWorkspaceSubheading",defaultMessage:"{email} has joined {count, plural, one {# workspace} other {# workspaces}}. Not what you're looking for? {switchEmailLink}"},joinWorkspaceSubheadingWithoutEmail:{id:"createFreeWorkspace.joinWorkspaceSubheadingWithoutEmail",defaultMessage:"You've joined {count, plural, one {# workspace} other {# workspaces}}. Not what you're looking for? {switchEmailLink}"},switchEmailCta:{id:"createFreeWorkspace.switchEmailCta",defaultMessage:"Switch email"},joinWorkspaceCreateNewPrompt:{id:"createFreeWorkspace.joinWorkspaceCreateNewPrompt",defaultMessage:"Want something new? {createNewLink}"},joinWorkspaceCreateNewLink:{id:"createFreeWorkspace.joinWorkspaceCreateNewLink",defaultMessage:"Create a new workspace."},continueCta:{id:"createFreeWorkspace.joinWorkspaceContinueCta",defaultMessage:"Continue"},joinWorkspaceEmptyState:{id:"createFreeWorkspace.joinWorkspaceEmptyState",defaultMessage:"We'll show any workspaces tied to your email here once we find them."}});function Xe(t){"use forget";const e=$.c(39),{onCreateNewWorkspace:a,discoverableWorkspaces:i,isDiscoverableLoading:r}=t,n=ie(),c=ge(),[o]=ne();let p;e[0]!==o?(p=o.get("account_id"),e[0]=o,e[1]=p):p=e[1];const l=p,{data:f,isFetching:x}=Ae(),d=(f!=null?f:[]).filter(ot),m=ke(),[u,y]=W.useState(i),[w,S]=W.useState(null);let E;e[2]!==l?(E=(g,q,se)=>{M.logEventWithStatsig("Free Workspace: Join Request","chatgpt_business_free_workspace_join_request",h({account_id:l!=null?l:void 0,status:g,workspace_id:q},se))},e[2]=l,e[3]=E):E=e[3];const b=E;let N;e[4]!==b?(N=(g,q)=>{b("succeeded",q),y(se=>se.map(ae=>ae.id===q?J(h({},ae),{requested:!0}):ae))},e[4]=b,e[5]=N):N=e[5];let v;e[6]!==n||e[7]!==b||e[8]!==m?(v=(g,q)=>{S(null),b("failed",q,{error_message:g instanceof Error?g.message:String(g)}),m.danger(n.formatMessage(qe.requestAccessError),{toastId:"request-access-".concat(q)})},e[6]=n,e[7]=b,e[8]=m,e[9]=v):v=e[9];let R;e[10]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{S(null)},e[10]=R):R=e[10];let F;e[11]!==N||e[12]!==v?(F={mutationFn:rt,onSuccess:N,onError:v,onSettled:R},e[11]=N,e[12]=v,e[13]=F):F=e[13];const A=Le(F),X=at;let T;e[14]!==b||e[15]!==A?(T=g=>{S(g.id),b("started",g.id),A.mutate(g.id)},e[14]=b,e[15]=A,e[16]=T):T=e[16];const k=T;let C;e[17]!==l||e[18]!==a?(C=g=>(M.logEventWithStatsig("Free Workspace: Continue","chatgpt_business_free_workspace_continue",{account_id:l!=null?l:void 0,silent_workspace_create:g==null?void 0:g.silentWorkspaceCreate,workspace_id:l!=null?l:void 0}),a(g)),e[17]=l,e[18]=a,e[19]=C):C=e[19];const j=C,Q=(x||r)&&d.length+u.length===0,ye=d.length+u.length>0;let G;e[20]!==u?(G=u.some(st),e[20]=u,e[21]=G):G=e[21];const Z=G;let H;e[22]!==u?(H=u.some(tt),e[22]=u,e[23]=H):H=e[23];const ee=H,be=c!=null&&c.email?L.joinWorkspaceSubheading:L.joinWorkspaceSubheadingWithoutEmail;let O;e[24]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("div",{className:"text-token-text-primary text-2xl font-semibold",children:s.jsx(_,h({},L.joinWorkspaceHeading))}),e[24]=O):O=e[24];let z;e[25]!==c?(z=c!=null&&c.email?s.jsx("span",{className:"text-token-text-primary font-medium",children:c.email}):void 0,e[25]=c,e[26]=z):z=e[26];let U;e[27]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx("button",{type:"button",onClick:X,className:"text-token-text-link font-medium hover:underline focus-visible:underline focus-visible:outline-none",children:s.jsx(_,h({},L.switchEmailCta))}),e[27]=U):U=e[27];const Ce="list",we="border-token-border-light bg-token-main-surface-primary/90 rounded-2xl border text-start",te=Q?s.jsxs(s.Fragment,{children:[s.jsx(de,{}),s.jsx(de,{})]}):ye?s.jsxs(s.Fragment,{children:[d.map(et),u.map(g=>s.jsx(Te,{workspace:g,isLoading:A.isPending&&w===g.id,onRequestAccess:k,onHoverRequest:Ze},"discoverable-".concat(g.id)))]}):s.jsx("p",{className:"text-token-text-secondary p-5 text-sm",children:s.jsx(_,h({},L.joinWorkspaceEmptyState))});let K;e[28]!==te?(K=s.jsx("div",{role:Ce,className:we,children:te}),e[28]=te,e[29]=K):K=e[29];let I;e[30]!==j||e[31]!==Z||e[32]!==ee?(I=ee?s.jsx(ce,{size:"large",fullWidth:!0,onClick:()=>j({silentWorkspaceCreate:Z}),children:s.jsx(_,h({},L.continueCta))}):null,e[30]=j,e[31]=Z,e[32]=ee,e[33]=I):I=e[33];let B;e[34]!==j?(B=()=>j({silentWorkspaceCreate:!1}),e[34]=j,e[35]=B):B=e[35];let V;e[36]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(_,h({},L.joinWorkspaceCreateNewLink)),e[36]=V):V=e[36];let Y;return e[37]!==B?(Y=s.jsx("p",{className:"text-token-text-secondary text-sm",children:s.jsx(_,J(h({},L.joinWorkspaceCreateNewPrompt),{values:{createNewLink:s.jsx("button",{type:"button",className:"text-token-text-link font-medium hover:underline focus-visible:underline focus-visible:outline-none",onClick:B,children:V})}}))}),e[37]=B,e[38]=Y):Y=e[38],s.jsxs("section",{className:"mt-8 flex flex-col gap-5 p-6 text-center",children:[s.jsxs("div",{children:[O,s.jsx("p",{className:"text-token-text-secondary mt-2 text-sm",children:s.jsx(_,J(h({},be),{values:{email:z,count:d.length,switchEmailLink:U}}))})]}),K,I,Y]})}function Ze(){}function et(t){return s.jsx(He,{workspace:t},"existing-".concat(t.id))}function tt(t){return t.requested}function st(t){return t.requested}function at(){Pe()}async function rt(t){await xe.safePost("/accounts/{account_id}/invites/request",{parameters:{path:{account_id:t}}})}function ot(t){return t.structure!==he.PERSONAL}const D=oe({pageTitle:{id:"createFreeWorkspace.pageTitle",defaultMessage:"Create a free workspace"},checkExistingCta:{id:"createFreeWorkspace.checkExistingCta",defaultMessage:"Check existing workspaces"},createNewToggleCta:{id:"createFreeWorkspace.createNewToggleCta",defaultMessage:"Create new workspace"},workspaceCreationError:{id:"createFreeWorkspace.workspaceCreationError",defaultMessage:"We couldn't create your workspace. Please try again in a moment."},errorTitle:{id:"createFreeWorkspace.errorTitle",defaultMessage:"Failed to create workspace"},errorDescription:{id:"createFreeWorkspace.errorDescription",defaultMessage:"Please try again in a moment."},retryButton:{id:"createFreeWorkspace.retryButton",defaultMessage:"Retry"}});function it(t){"use forget";var m;const e=$.c(9),a=!t.isLoading,{data:i,isLoading:r,isFetching:n}=$e(a,!1,!0);let c;e[0]!==(i==null?void 0:i.workspaces)?(c=(m=i==null?void 0:i.workspaces)!=null?m:[],e[0]=i==null?void 0:i.workspaces,e[1]=c):c=e[1];const o=c;let p;e[2]!==o?(p=o.some(nt),e[2]=o,e[3]=p):p=e[3];const l=p,f=a&&(r||n),x=t.isLoading||f;let d;return e[4]!==o||e[5]!==l||e[6]!==x||e[7]!==f?(d={hasJoinableWorkspaces:l,isCheckingJoinableWorkspaces:x,discoverableWorkspaces:o,isDiscoverableLoading:f},e[4]=o,e[5]=l,e[6]=x,e[7]=f,e[8]=d):d=e[8],d}function nt(t){return!t.requested}function ct(){"use forget";const t=$.c(21),e=We(),a=ie(),i=me(),r=fe(),n=_e(),[c]=ne();let o;t[0]!==c?(o=c.get("account_id"),t[0]=c,t[1]=o):o=t[1];const p=o;let l;t[2]!==n.data||t[3]!==e||t[4]!==(r==null?void 0:r.id)||t[5]!==p||t[6]!==i?(l=()=>{!p||(r==null?void 0:r.id)===p||n.data==null||!n.data.accountItems.some(S=>S.id===p)||je(e,i,p)},t[2]=n.data,t[3]=e,t[4]=r==null?void 0:r.id,t[5]=p,t[6]=i,t[7]=l):l=t[7];const f=r==null?void 0:r.id;let x;t[8]!==n.data||t[9]!==e||t[10]!==p||t[11]!==i||t[12]!==f?(x=[n.data,e,f,p,i],t[8]=n.data,t[9]=e,t[10]=p,t[11]=i,t[12]=f,t[13]=x):x=t[13],W.useEffect(l,x);let d;t[14]!==a?(d=a.formatMessage(D.pageTitle),t[14]=a,t[15]=d):d=t[15];let m;t[16]!==d?(m=s.jsx("title",{children:d}),t[16]=d,t[17]=m):m=t[17];let u;t[18]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(De,{forceLightTheme:!0,children:s.jsx("div",{className:"flex flex-col",children:s.jsx(Je,{LandingComponent:lt,FinalStepComponent:Ue,useFreeWorkspaceCopy:!0})})}),t[18]=u):u=t[18];let y;return t[19]!==m?(y=s.jsxs(s.Fragment,{children:[m,u]}),t[19]=m,t[20]=y):y=t[20],y}function lt({onNext:t}){"use no forget";var T;const e=We(),a=ie(),i=ke(),r=me(),n=ge(),[c]=ne(),o=c.get("account_id"),p=W.useRef(!1),[l,f]=W.useState(!1),[x,d]=W.useState(!1),m=W.useRef(null),u=_e(),[y,w]=W.useState(!1),{hasJoinableWorkspaces:S,isCheckingJoinableWorkspaces:E,discoverableWorkspaces:b,isDiscoverableLoading:N}=it(u),v=W.useMemo(()=>{var k,C;return((C=(k=u.data)==null?void 0:k.accountItems)!=null?C:[]).filter(j=>j.structure===he.WORKSPACE).length},[(T=u.data)==null?void 0:T.accountItems]);W.useEffect(()=>{p.current||E||u.isLoading||(M.logEventWithStatsig("Free Workspace: Discovery Results","chatgpt_business_free_workspace_discovery_results",{account_id:o!=null?o:void 0,existing_workspace_count:v,discoverable_workspace_count:b.length}),p.current=!0)},[u.isLoading,o,b.length,v,E]),W.useEffect(()=>{S&&w(!0)},[S]);const R=W.useCallback(async()=>{if(o)return o;if(m.current)return m.current;const k=(async()=>{const C=Be(a,n),Q=(await xe.safePost("/accounts/create_freemium_workspace",{requestBody:{workspace_name:C}})).workspace_id;return await r.invalidateQueries(pe()),await r.ensureQueryData(pe()),je(e,r,Q),Q})();return m.current=k,k.finally(()=>{m.current=null}),k},[e,o,a,r,n]),F=W.useCallback(async k=>{var C;d(!1),f(!0);try{const j=await R();M.logEventWithStatsig("Free Workspace: Create Workspace","chatgpt_business_free_workspace_create_workspace",{account_id:(C=o!=null?o:j)!=null?C:void 0,status:"succeeded",workspace_id:j,silent_workspace_create:k==null?void 0:k.silentWorkspaceCreate}),t(j,k==null?void 0:k.silentWorkspaceCreate)}catch(j){d(!0),f(!1),M.logEventWithStatsig("Free Workspace: Create Workspace","chatgpt_business_free_workspace_create_workspace",{account_id:o!=null?o:void 0,status:"failed",silent_workspace_create:k==null?void 0:k.silentWorkspaceCreate}),i.danger(a.formatMessage(D.workspaceCreationError),{hasCloseButton:!0});return}},[o,R,a,t,i]),A=E&&!y,X=W.useCallback(()=>{M.logEventWithStatsig("Free Workspace: Create Workspace","chatgpt_business_free_workspace_create_workspace",{account_id:o!=null?o:void 0,status:"retry"}),F()},[o,F]);return A?s.jsx(re,{}):l?s.jsx(re,{}):S?s.jsx(Xe,{onCreateNewWorkspace:F,discoverableWorkspaces:b,isDiscoverableLoading:N}):x?s.jsx(pt,{startWorkspaceCreation:X}):s.jsx(ut,{startWorkspaceCreation:F})}function ut(t){"use forget";const e=$.c(4),{startWorkspaceCreation:a}=t;let i,r;e[0]!==a?(i=()=>{a()},r=[a],e[0]=a,e[1]=i,e[2]=r):(i=e[1],r=e[2]),W.useEffect(i,r);let n;return e[3]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(re,{}),e[3]=n):n=e[3],n}function pt(t){"use forget";const e=$.c(5),{startWorkspaceCreation:a}=t;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(Qe,{children:s.jsx(_,h({},D.errorTitle))}),e[0]=i):i=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(Ge,{children:s.jsx(_,h({},D.errorDescription))}),e[1]=r):r=e[1];let n;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(_,h({},D.retryButton)),e[2]=n):n=e[2];let c;return e[3]!==a?(c=s.jsxs(s.Fragment,{children:[i,r,s.jsx(ce,{type:"button",onClick:a,size:"large",fullWidth:!0,children:n})]}),e[3]=a,e[4]=c):c=e[4],c}const Ot=Me(function(){"use forget";const e=$.c(1);let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(ct,{}),e[0]=a):a=e[0],a});export{Ot as default};
//# sourceMappingURL=lqrsewh3xg8lvfyy.js.map

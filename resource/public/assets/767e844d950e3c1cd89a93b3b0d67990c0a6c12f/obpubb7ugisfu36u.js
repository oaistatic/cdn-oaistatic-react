const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/i8gmt89kig8ue44v.js","assets/mw35uwhq4g8r9eam.js","assets/g2euln7v5pbm31qa.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/conversation-small-lq38g8zw.css","assets/dejzmw8nrz6tr491.js","assets/ojmli062couj7r3v.js","assets/lv7ytt0l14b17ows.js","assets/n08qycxn0xfgd7e0.js","assets/jfogwbjv4qzz2lb3.js","assets/nev4l63brdsi6au6.js","assets/kzwk89sl7ldvvuvg.js","assets/eea2lld77g0grm9n.js","assets/lqcwdtse4p4c65nb.js","assets/kzofw8o6635b70gi.js","assets/lcy2t692punsnn4q.js","assets/hn1woqxlscagz0nl.js","assets/lmjej3aac0uhz664.js","assets/jq5arodfofi7kok7.js","assets/ftef8970ba1zoykr.js","assets/ehb03yyzqhj5ry6r.js","assets/i693kfbch8smq86y.js","assets/gy1lpvuoewmzh42c.js","assets/iknugp00locgtve5.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js"])))=>i.map(i=>d[i]);
var Xr=Object.defineProperty,Zr=Object.defineProperties;var el=Object.getOwnPropertyDescriptors;var Xn=Object.getOwnPropertySymbols;var tl=Object.prototype.hasOwnProperty,sl=Object.prototype.propertyIsEnumerable;var Zn=(t,e,o)=>e in t?Xr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,yt=(t,e)=>{for(var o in e||(e={}))tl.call(e,o)&&Zn(t,o,e[o]);if(Xn)for(var o of Xn(e))sl.call(e,o)&&Zn(t,o,e[o]);return t},Jt=(t,e)=>Zr(t,el(e));import{h as At,e as Ms,c as jt,r as C,j as s,M as ts,_ as Ht,d as Ua,k as ol,a as nl,a9 as al}from"./mw35uwhq4g8r9eam.js";import{a6 as ne,es as Qo,u as Ve,nk as Ts,cF as ut,_ as ht,e4 as il,O as ss,r as La,M as Dt,dz as Xo,dm as rl,ak as Qt,aL as Ks,au as Ys,b9 as Fa,J as Tt,be as Wt,V as mt,bq as cs,al as za,vl as ll,lA as Zo,d as pe,aA as ea,h5 as cl,ek as Ga,e5 as us,nj as dl,y as $t,bj as Ha,g as en,x as eo,vm as ul,fG as pl,eu as Go,ca as to,eA as ml,jZ as so,m as Wa,vn as fl,br as Ho,ay as $a,bQ as gl,fU as hl,fQ as _l,kK as qa,sS as yl,aD as Xs,sP as Va,sQ as bl,fz as tn,k as Kt,dZ as xl,d_ as Ja,gC as sn,gL as Sl,f8 as wl,vo as kl,vp as Cl,vq as Ml,h9 as on,kQ as Tl,hC as Al,kR as vl,l$ as nn,f2 as rt,lg as Il,lB as Ka,m0 as Pl,vr as Wo,g5 as zt,k1 as jl,k2 as El,k4 as Rl,k0 as Dl,cu as Ya,kx as Bl,f7 as dt,f1 as Yt,hg as Nl,cw as an,k8 as Ol,vs as Ul,fH as Qa,vt as Ll,vu as Hs,m4 as jo,kH as Fl,vv as zl,vw as Gl,vx as Hl,ha as Wl,z as $l,lZ as ql,ke as rn,g4 as Xa,fN as Za,cj as Gt,vy as ei,eb as Vl,ec as ks,P as $o,ei as st,e1 as ti,mq as si,ee as qo,fP as ln,vz as oo,Y as Zs,e7 as oi,vA as cn,ef as os,qe as ta,fX as ni,vB as sa,mo as Jl,qz as ai,vC as dn,lE as un,p as ii,vD as Kl,qA as Yl,vE as Ql,sT as Xl,ms as Zl,vF as pn,n_ as ec,tf as tc,er as sc,vG as oc,vH as nc,vI as ac,ml as ic,fT as rc,vJ as lc,vK as cc,ea as dc,g1 as uc,vL as pc,rR as ri,mg as li,gH as ci,vM as mc,nI as fc,qY as di,az as gc,f0 as Vo,cc as hc,fw as oa,fq as Eo,fo as _c,fp as yc,gT as bc,c2 as Ro,b7 as xc,lc as Sc,cz as wc,w as kc,vN as Cc,cb as Mc,b5 as Tc,vO as Ac,bo as vc,lY as Ic,aR as Pc,aS as jc,b6 as Jo,nq as Ec,rS as Rc,kM as ui,vP as Dc,g3 as Bc,hz as Nc,vQ as Oc,c5 as na,mb as Uc,bg as Lc,iy as Fc,lx as aa,vR as ia,gG as zc,gI as Gc,ci as Hc,c7 as Do,c6 as Wc,r2 as $c,mh as ra,c4 as qc,vS as Vc,Q as Bo,a2 as No,kt as Jc,g2 as la,l3 as Ws,vT as Kc,vU as ca,oO as Yc,lh as Qc,r5 as Xc,cs as da,r3 as Zc,r4 as ed,iH as td,de as $s,B as ua,mr as sd,eM as od,hs as Oo,vV as pa,$ as Uo,a0 as Lo,vW as ma,U as nd,cd as fa,mC as ad,jE as id,vX as rd,lO as ld,vY as cd,kU as dd,fB as ud,vZ as pd,jB as ga,v_ as md,gr as fd,L as gd,v$ as hd,w0 as _d,w1 as yd,D as bd,kO as pi,w2 as xd,ff as ha,md as Sd,w3 as wd,so as kd,kS as _a,lp as Cd,H as Md,cD as Td,gB as Ad,gR as vd,oc as Id,o7 as Pd}from"./d0xa318sl7ywi0za.js";import{nZ as ze,sh as mi,si as jd,sj as Ed,sk as Rd,hQ as xs,bs as ns,sl as Dd,m as Bd,br as mn,g9 as Nd,sm as Od,sn as fi,pV as Ud,so as Ld,sp as Fd,sq as gi,ng as ya,jA as hi,sr as zd,ss as Gd,oy as vt,oA as ds,st as L,su as Hd,sv as Wd,iH as $d,sw as qd,oE as ba,sx as _i,sy as Vd,sz as Jd,sA as xa,sB as Kd,sC as Yd,sD as Qd,sE as Xd,sF as Zd,sG as eu,sH as tu,sI as su,sJ as ou,sK as nu,sL as au,sM as iu,sN as ru,sO as Sa,sP as lu,sQ as cu,sR as du,sS as uu,sT as pu,sU as mu,gg as fu,sV as gu,sW as hu,sX as _u,ba as yu,sY as bu,sZ as xu,s_ as Su,s$ as wu,t0 as ku,t1 as Cu,jH as Mu,kw as Tu,t2 as Au,t3 as vu,t4 as Iu,t5 as Pu,t6 as ju,t7 as Eu,t8 as Ru,t9 as Du,ta as Bu,tb as Nu,tc as Ou,td as Uu,te as Lu,tf as Fu,tg as zu,th as Gu,ti as Hu,tj as Wu,tk as $u,tl as qu,tm as Vu,tn as Ju,to as Ku,gv as Yu,tp as yi,tq as Qu,tr as Xu,ts as Zu,tt as ep,tu as tp,tv as sp,gq as bi,pr as xi,bp as op,tw as np,tx as wa,ty as Ko,i6 as Si,bJ as wi,tz as ap,tA as ip,tB as rp,tC as lp,mi as ka,kV as Ss,tD as ws,tE as cp,tF as ki,at as dp,tG as up,tH as pp,tI as mp,tJ as fp,lI as Ci,n4 as gp,tK as Mi,cb as Cs,tL as hp,bI as _p,c7 as yp,tM as bp,r7 as xp,tN as Sp,tO as wp,tP as kp,p9 as Cp,tQ as Mp,tR as Ca,tS as Ti,tT as Tp,tU as Ap,cJ as Ai,tV as vi,tW as Ii,tX as Pi,tY as ji,tZ as Fo,t_ as vp,t$ as Ip,u0 as zo,u1 as Pp,u2 as jp,u3 as Ep,lS as Rp,u4 as Yo,u5 as Dp,u6 as Bp,u7 as Np,u8 as Op,u9 as Ei,ua as Up,ub as Lp,uc as Fp,ud as Ma,ue as zp,uf as Gp,ug as Hp,uh as Wp,ui as $p,P as Ta,uj as qp,uk as Vp,ul as hs,um as Jp,un as Kp,uo as Yp,hj as Qp,up as Xp,uq as Zp,hl as em,lN as tm,ur as sm,us as om,ut as nm,uu as am,uv as im,dp as rm,ds as Aa,uw as va,ux as lm,uy as cm,uz as dm,cK as um,jP as pm,hU as mm,m4 as fm,uA as gm,uB as hm,uC as Ia,i1 as _s,uD as ls,uE as Pa,pz as _m,uF as ja,uG as ym,uH as bm,uI as xm,uJ as Sm,uK as Ea,uL as wm,hv as km,uM as Cm,uN as Mm,lc as Tm,ld as Am,le as vm,uO as Im,uP as Pm,uQ as jm,mI as Em,uR as Rm,uS as Dm,p4 as bt,uT as Bm,uU as Nm,uV as Om,uW as Um,uX as qs,uY as Lm,b5 as Fm,gs as zm,uZ as Gm,u_ as Hm,u$ as Wm,v0 as $m,v1 as qm,v2 as Vm,v3 as Jm,v4 as Km,v5 as Ym,v6 as Qm,v7 as Xm,v8 as Zm,v9 as ef,va as tf,vb as sf,vc as of,vd as nf,ve as af,vf as rf,hO as lf,ki as cf,dy as df,vg as uf,vh as pf,vi as mf,vj as ff,vk as gf,kG as hf}from"./g2euln7v5pbm31qa.js";import{b as _f}from"./ojmli062couj7r3v.js";import{P as yf,u as bf,h as xf}from"./gl4f6lge29au0ljx.js";import{u as Sf}from"./iio0zgk2sqlxbcjy.js";const R=Ms({personal_trainer_title:{id:"curated-starter-prompts.personal_trainer.title-2",defaultMessage:"Be my personal trainer"},personal_trainer_body:{id:"curated-starter-prompts.personal_trainer.body-3",defaultMessage:"Create a strength training plan"},personal_trainer_prompt:{id:"curated-starter-prompts.personal_trainer.prompt",defaultMessage:"Create a strength training plan with daily check-ins and guidance on exercises, sets, and progression."},upgrade_skin_care_title:{id:"curated-starter-prompts.upgrade_skin_care.title",defaultMessage:"Upgrade my skin care"},upgrade_skin_care_body:{id:"curated-starter-prompts.upgrade_skin_care.body",defaultMessage:"Use my selfie for skincare tips"},upgrade_skin_care_prompt:{id:"curated-starter-prompts.upgrade_skin_care.prompt",defaultMessage:"I want good advice with skin care and makeup. Based on a selfie, get me advice for skin and hair, along with any products. Ask for a selfie if not provided."},is_this_scam_title:{id:"curated-starter-prompts.is_this_scam.title",defaultMessage:"Is this text a scam?"},is_this_scam_body:{id:"curated-starter-prompts.is_this_scam.body",defaultMessage:"Tell me if this text is a scam"},is_this_scam_prompt:{id:"curated-starter-prompts.is_this_scam.prompt",defaultMessage:"I just got this weird text message. Here's a screenshot. Do you think it’s a scam or some kind of phishing attempt?"},motivate_me_title:{id:"curated-starter-prompts.motivate_me.title",defaultMessage:"Motivate me"},motivate_me_body:{id:"curated-starter-prompts.motivate_me.body-2",defaultMessage:"Help with procrastination"},motivate_me_prompt:{id:"curated-starter-prompts.motivate_me.prompt",defaultMessage:"I'm struggling to get started. Motivate me. Break things down into the very small tasks to make it easy. Ask me questions for context."},meal_prep_title:{id:"curated-starter-prompts.meal_prep.title",defaultMessage:"Simplify meal prep"},meal_prep_body:{id:"curated-starter-prompts.meal_prep.body-2",defaultMessage:"Create a protein-packed meal plan"},meal_prep_prompt:{id:"curated-starter-prompts.meal_prep.prompt",defaultMessage:"Create a plan for meal prep with a grocery list. I want more protein and less carbs. I have a limited budget. Keep it simple."},morning_routine_title:{id:"curated-starter-prompts.morning_routine.title",defaultMessage:"Build my morning routine"},morning_routine_body:{id:"curated-starter-prompts.morning_routine.body-2",defaultMessage:"Build a morning routine for focus"},morning_routine_prompt:{id:"curated-starter-prompts.morning_routine.prompt",defaultMessage:"Help me build a better morning routine. I want to start my days with more focus. Be my coach and keep me honest."},budget_title:{id:"curated-starter-prompts.budget.title",defaultMessage:"Make my budget"},budget_body:{id:"curated-starter-prompts.budget.body",defaultMessage:"Make my weekly budget"},budget_prompt:{id:"curated-starter-prompts.budget.prompt",defaultMessage:"I want to get control of my bills. Here's what is due, my monthly paycheck, other expenses. I'd like help getting on top of this and then trying to save some money."},color_theory_title:{id:"curated-starter-prompts.color_theory.title",defaultMessage:"Do my color theory analysis"},color_theory_body:{id:"curated-starter-prompts.color_theory.body",defaultMessage:"Do my color theory analysis"},color_theory_prompt:{id:"curated-starter-prompts.color_theory.prompt",defaultMessage:"Take a look at this picture of me. Using color theory, tell me my season and suggest my best colors for clothing and makeup. Ask for a picture if not provided."},fix_procrastination_title:{id:"curated-starter-prompts.fix_procrastination.title-2",defaultMessage:"Help with procrastination"},fix_procrastination_body:{id:"curated-starter-prompts.fix_procrastination.body",defaultMessage:"Help me start a project I put off"},fix_procrastination_prompt:{id:"curated-starter-prompts.fix_procrastination.prompt",defaultMessage:"I'm struggling to get started. Motivate me. Break things down into the very small tasks to make it easy. Ask me questions for context."},decode_this_text_message_title:{id:"curated-starter-prompts.decode_this_text_message.title",defaultMessage:"Decode this text message"},decode_this_text_message_body:{id:"curated-starter-prompts.decode_this_text_message.body",defaultMessage:"Decode this text message"},decode_this_text_message_prompt:{id:"curated-starter-prompts.decode_this_text_message.prompt",defaultMessage:"Decode this text and explain possible intentions behind it. I want to understand what the person might really mean."},help_me_get_recognized_title:{id:"curated-starter-prompts.help_me_get_recognized.title",defaultMessage:"Help me get recognized"},help_me_get_recognized_body:{id:"curated-starter-prompts.help_me_get_recognized.body",defaultMessage:"Help me get recognition for my work"},help_me_get_recognized_prompt:{id:"curated-starter-prompts.help_me_get_recognized.prompt",defaultMessage:"I'm not getting recognized for everything I'm doing. Be my personal coach. Ask me questions and help me advocate for myself."},anime_style_portrait_title:{id:"curated-starter-prompts.anime_style_portrait.title",defaultMessage:"Anime-style portrait"},anime_style_portrait_body:{id:"curated-starter-prompts.anime_style_portrait.body",defaultMessage:"Make an anime-style portrait of me"},anime_style_portrait_prompt:{id:"curated-starter-prompts.anime_style_portrait.prompt-2",defaultMessage:"Recreate this photo in a playful anime style. Ask for a photo if not provided."},action_figure_portrait_title:{id:"curated-starter-prompts.action_figure_portrait.title",defaultMessage:"Action figure portrait"},action_figure_portrait_body:{id:"curated-starter-prompts.action_figure_portrait.body",defaultMessage:"Turn me into an action figure"},action_figure_portrait_prompt:{id:"curated-starter-prompts.action_figure_portrait.prompt",defaultMessage:"Use my photo to create a 3D superhero action figure of me. Label the box and include my pet as a sidekick. Ask for my name and picture if not provided."},b_w_raindrop_portrait_title:{id:"curated-starter-prompts.b_w_raindrop_portrait.title-2",defaultMessage:"Cinematic raindrop portrait"},b_w_raindrop_portrait_body:{id:"curated-starter-prompts.b_w_raindrop_portrait.body-2",defaultMessage:"Make a cinematic raindrop portrait"},b_w_raindrop_portrait_prompt:{id:"curated-starter-prompts.b_w_raindrop_portrait.prompt-2",defaultMessage:"Make this photo a black and white portrait of the subject emerging from water. Make it feel cinematic. Ask for a photo if not provided."},b_w_studio_portrait_title:{id:"curated-starter-prompts.b_w_studio_portrait.title",defaultMessage:"Studio Portrait in B&W"},b_w_studio_portrait_body:{id:"curated-starter-prompts.b_w_studio_portrait.body",defaultMessage:"Make a studio portrait in B&W"},b_w_studio_portrait_prompt:{id:"curated-starter-prompts.b_w_studio_portrait.prompt",defaultMessage:"Fashion photography portrait, black and white. high fashion, editorial lighting, cinematic."},create_a_puppet_title:{id:"curated-starter-prompts.create_a_puppet.title",defaultMessage:"Create a puppet"},create_a_puppet_body:{id:"curated-starter-prompts.create_a_puppet.body",defaultMessage:"Create a puppet"},create_a_puppet_prompt:{id:"curated-starter-prompts.create_a_puppet.prompt",defaultMessage:"Make a puppet from this photo. Ask for a photo if not provided."},document_summary_title:{id:"curated-starter-prompts.document_summary.title",defaultMessage:"Read this document"},document_summary_body:{id:"curated-starter-prompts.document_summary.body",defaultMessage:"Read this document"},document_summary_prompt:{id:"curated-starter-prompts.document_summary.prompt",defaultMessage:"Give me the key points from this document. Start simple, and I'll ask follow-up questions. Ask for a document if not provided."},recommend_a_movie_title:{id:"curated-starter-prompts.recommend_a_movie.title",defaultMessage:"Recommend a movie"},recommend_a_movie_body:{id:"curated-starter-prompts.recommend_a_movie.body",defaultMessage:"Recommend a movie"},recommend_a_movie_prompt:{id:"curated-starter-prompts.recommend_a_movie.prompt",defaultMessage:"What are well-reviewed movies I should watch tonight? I love action and comedies."},create_a_quiz_title:{id:"curated-starter-prompts.create_a_quiz.title",defaultMessage:"Create a quiz"},create_a_quiz_body:{id:"curated-starter-prompts.create_a_quiz.body",defaultMessage:"Create a quiz"},create_a_quiz_prompt:{id:"curated-starter-prompts.create_a_quiz.prompt",defaultMessage:"I have an exam this week. Create a quiz based on my notes and ask questions one at a time."},language_coach_spanish_title:{id:"curated-starter-prompts.language_coach_spanish.title",defaultMessage:"Be my language coach"},language_coach_spanish_body:{id:"curated-starter-prompts.language_coach_spanish.body",defaultMessage:"Help me practice Spanish vocabulary and gently correct my mistakes."},language_coach_spanish_prompt:{id:"curated-starter-prompts.language_coach_spanish.prompt",defaultMessage:"I'm trying to master some Spanish vocabulary before traveling to Mexico. Can you practice with me and gently correct my mistakes when I get something wrong?"},friendly_text_roommate_title:{id:"curated-starter-prompts.friendly_text_roommate.title",defaultMessage:"Make this text sound friendlier"},friendly_text_roommate_body:{id:"curated-starter-prompts.friendly_text_roommate.body",defaultMessage:"Make this text to my roommate kinder, please"},friendly_text_roommate_prompt:{id:"curated-starter-prompts.friendly_text_roommate.prompt",defaultMessage:"My roommate plays heavy metal music really loud late at night. Can you draft a friendly text that asks him to turn it down after 10 PM?"},packing_list_camping_title:{id:"curated-starter-prompts.packing_list_camping.title",defaultMessage:"Make a packing list"},packing_list_camping_body:{id:"curated-starter-prompts.packing_list_camping.body",defaultMessage:"Create a minimal packing list for a camping trip"},packing_list_camping_prompt:{id:"curated-starter-prompts.packing_list_camping.prompt",defaultMessage:"I'm planning on going camping for the first time with friends this weekend and don't have much room to bring stuff with me. Can you create a packing list with just the bare essentials?"},gift_under_20_title:{id:"curated-starter-prompts.gift_under_20.title",defaultMessage:"Find a great gift under $20"},gift_under_20_body:{id:"curated-starter-prompts.gift_under_20.body",defaultMessage:"Give me gift ideas under $20 for a friend"},gift_under_20_prompt:{id:"curated-starter-prompts.gift_under_20.prompt",defaultMessage:"My friend loves kpop music and they have a birthday coming up. Can you recommend a gift for them that's under $20?"},plan_game_night_mystery_title:{id:"curated-starter-prompts.plan_game_night_mystery.title",defaultMessage:"Plan a game night"},plan_game_night_mystery_body:{id:"curated-starter-prompts.plan_game_night_mystery.body",defaultMessage:"Plan a themed game night with six friends"},plan_game_night_mystery_prompt:{id:"curated-starter-prompts.plan_game_night_mystery.prompt",defaultMessage:"I want to host a murder mystery party with my friends. Can you help plan the mystery and suggest fun food and drinks to serve?"},decluttering_plan_4_weeks_title:{id:"curated-starter-prompts.decluttering_plan_4_weeks.title",defaultMessage:"Make a decluttering plan"},decluttering_plan_4_weeks_body:{id:"curated-starter-prompts.decluttering_plan_4_weeks.body",defaultMessage:"Create a 4 week, 10 mins-per-day decluttering plan"},decluttering_plan_4_weeks_prompt:{id:"curated-starter-prompts.decluttering_plan_4_weeks.prompt",defaultMessage:"I want to have more kitchen countertop space. Can you help me create a decluttering plan so I can make more space? I only want to spend 10 minutes per day on it over the next 4 weeks."},fridge_recipes_three_title:{id:"curated-starter-prompts.fridge_recipes_three.title",defaultMessage:"Recipes for what's in my fridge"},fridge_recipes_three_body:{id:"curated-starter-prompts.fridge_recipes_three.body",defaultMessage:"Give me 3 quick recipes with chicken, lettuce, and salsa"},fridge_recipes_three_prompt:{id:"curated-starter-prompts.fridge_recipes_three.prompt",defaultMessage:"I'm stumped on what to make for dinner. Can you create three easy recipes for me based on the leftover chicken, lettuce, and cheese I have in my fridge?"},desk_stretch_routine_title:{id:"curated-starter-prompts.desk_stretch_routine.title",defaultMessage:"Make a daily desk stretch routine"},desk_stretch_routine_body:{id:"curated-starter-prompts.desk_stretch_routine.body",defaultMessage:"Draft a desk-friendly, 5-minute stretch routine"},desk_stretch_routine_prompt:{id:"curated-starter-prompts.desk_stretch_routine.prompt",defaultMessage:"I have a lot of back pain at my desk job. Can you suggest some 5-minute stretches that I can do discreetly at the office?"},prep_for_appointment_title:{id:"curated-starter-prompts.prep_for_appointment.title",defaultMessage:"Prep for an appointment"},prep_for_appointment_body:{id:"curated-starter-prompts.prep_for_appointment.body",defaultMessage:"Write questions + checklist for my PT visit"},prep_for_appointment_prompt:{id:"curated-starter-prompts.prep_for_appointment.prompt",defaultMessage:"I have a mild cough and a runny nose. Help me prep for my doctor's visit with a checklist."},decode_bill_title:{id:"curated-starter-prompts.decode_bill.title",defaultMessage:"Decode this bill"},decode_bill_body:{id:"curated-starter-prompts.decode_bill.body",defaultMessage:"Explain this charge and what I owe, simply."},decode_bill_prompt:{id:"curated-starter-prompts.decode_bill.prompt",defaultMessage:"I'll upload my bill. Help me understand why I was charged this amount and how much I owe in plain language."},decision_pros_cons_title:{id:"curated-starter-prompts.decision_pros_cons.title",defaultMessage:"Help me make a decision"},decision_pros_cons_body:{id:"curated-starter-prompts.decision_pros_cons.body",defaultMessage:"Compare A vs B: give me pros, cons, and a recommendation"},decision_pros_cons_prompt:{id:"curated-starter-prompts.decision_pros_cons.prompt",defaultMessage:"I'm trying to decide what to buy. Can you give me pros, cons and a recommendation?"},organize_notes_title:{id:"curated-starter-prompts.organize_notes.title",defaultMessage:"Organize my notes"},organize_notes_body:{id:"curated-starter-prompts.organize_notes.body",defaultMessage:"Turn these notes into an outline + actions."},organize_notes_prompt:{id:"curated-starter-prompts.organize_notes.prompt",defaultMessage:"Summarize this document and give me a list of key points and action items"},excel_shortcuts_cheatsheet_title:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.title",defaultMessage:"Write an Excel cheat sheet"},excel_shortcuts_cheatsheet_body:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.body",defaultMessage:"Write a one-page Excel shortcuts cheat sheet."},excel_shortcuts_cheatsheet_prompt:{id:"curated-starter-prompts.excel_shortcuts_cheatsheet.prompt",defaultMessage:"I'm trying to get better at making spreadsheets. Can you make me a one-page cheat sheet to help me be more productive?"},presentation_outline_title:{id:"curated-starter-prompts.presentation_outline.title",defaultMessage:"Start a presentation outline"},presentation_outline_body:{id:"curated-starter-prompts.presentation_outline.body",defaultMessage:"Outline a 6-slide deck with key points"},presentation_outline_prompt:{id:"curated-starter-prompts.presentation_outline.prompt",defaultMessage:"I'm putting together a presentation on the digestive system for school. Outline a 6-slide deck with key points to help me get started."},social_media_captions_title:{id:"curated-starter-prompts.social_media_captions.title",defaultMessage:"Draft social media captions"},social_media_captions_body:{id:"curated-starter-prompts.social_media_captions.body",defaultMessage:"Write 5 short captions for a summer trip Instagram post"},social_media_captions_prompt:{id:"curated-starter-prompts.social_media_captions.prompt",defaultMessage:"Here's an Instagram campaign I'm running. Write short captions for each of the images."},true_crime_watch_list_title:{id:"curated-starter-prompts.true_crime_watch_list.title",defaultMessage:"Make a true crime watch list"},true_crime_watch_list_body:{id:"curated-starter-prompts.true_crime_watch_list.body",defaultMessage:"Recommend true crime books, videos, and podcasts"},true_crime_watch_list_prompt:{id:"curated-starter-prompts.true_crime_watch_list.prompt",defaultMessage:"Recommend books, videos, and podcasts about true crime that I might like."},help_me_translate_title:{id:"curated-starter-prompts.help_me_translate.title",defaultMessage:"Help me translate"},help_me_translate_body:{id:"curated-starter-prompts.help_me_translate.body",defaultMessage:"Help me translate"},help_me_translate_prompt:{id:"curated-starter-prompts.help_me_translate.prompt",defaultMessage:"Help me translate between English and another language. Explain tone and nuance where helpful."},professional_email_boss_title:{id:"curated-starter-prompts.professional_email_boss.title",defaultMessage:"Write a professional email"},professional_email_boss_body:{id:"curated-starter-prompts.professional_email_boss.body",defaultMessage:"Draft a clear email to my boss about a project that I want to kick off."},professional_email_boss_prompt:{id:"curated-starter-prompts.professional_email_boss.prompt",defaultMessage:"Draft a clear email to my boss about a project that I want to kick off."},summarize_financial_news_title:{id:"curated-starter-prompts.summarize_financial_news.title",defaultMessage:"Summarize this"},summarize_financial_news_body:{id:"curated-starter-prompts.summarize_financial_news.body",defaultMessage:"Summarize the latest financial news with three takeaways that are relevant for me."},summarize_financial_news_prompt:{id:"curated-starter-prompts.summarize_financial_news.prompt",defaultMessage:"Summarize the latest financial news with three takeaways that are relevant for me."},breathing_meditation_title:{id:"curated-starter-prompts.breathing_meditation.title",defaultMessage:"Lead a breathing meditation"},breathing_meditation_body:{id:"curated-starter-prompts.breathing_meditation.body",defaultMessage:"Lead a 5-minute breathing meditation"},breathing_meditation_prompt:{id:"curated-starter-prompts.breathing_meditation.prompt",defaultMessage:"Lead a 5-minute breathing meditation."},voice_mock_interview_title:{id:"curated-starter-prompts.voice_mock_interview.title",defaultMessage:"Mock interview coach"},voice_mock_interview_body:{id:"curated-starter-prompts.voice_mock_interview.body",defaultMessage:"Do a voice mock interview for [role] and give feedback"},voice_mock_interview_prompt:{id:"curated-starter-prompts.voice_mock_interview.prompt",defaultMessage:"Do a voice mock interview for [role] and give feedback."},toast_speech_coach_title:{id:"curated-starter-prompts.toast_speech_coach.title",defaultMessage:"Toast coach"},toast_speech_coach_body:{id:"curated-starter-prompts.toast_speech_coach.body",defaultMessage:"Listen to my toast; coach pacing, pauses, and tone"},toast_speech_coach_prompt:{id:"curated-starter-prompts.toast_speech_coach.prompt",defaultMessage:"Listen to my toast; coach my pacing, pauses, and tone."},logo_ideas_simple_title:{id:"curated-starter-prompts.logo_ideas_simple.title",defaultMessage:"Create simple logo ideas"},logo_ideas_simple_body:{id:"curated-starter-prompts.logo_ideas_simple.body",defaultMessage:"Create simple logo ideas for my business, they should be clean and modern"},logo_ideas_simple_prompt:{id:"curated-starter-prompts.logo_ideas_simple.prompt",defaultMessage:"Create simple logo ideas for my business, they should be clean and modern"},translation_generic_title:{id:"curated-starter-prompts.translation_generic.title",defaultMessage:"Translation"},translation_generic_body:{id:"curated-starter-prompts.translation_generic.body",defaultMessage:"Translate text between languages"},translation_generic_prompt:{id:"curated-starter-prompts.translation_generic.prompt",defaultMessage:"Translate the following text to [language]. Keep it natural and explain any tricky phrases."},professional_profile_picture_title:{id:"curated-starter-prompts.professional_profile_picture.title",defaultMessage:"Make a professional profile picture"},professional_profile_picture_body:{id:"curated-starter-prompts.professional_profile_picture.body",defaultMessage:"Create a professional headshot of me using this photo"},professional_profile_picture_prompt:{id:"curated-starter-prompts.professional_profile_picture.prompt",defaultMessage:"Create a professional headshot of me using this photo. I'll upload the photo."},visualize_concept_benzene_title:{id:"curated-starter-prompts.visualize_concept_benzene.title",defaultMessage:"Visualize a concept"},visualize_concept_benzene_body:{id:"curated-starter-prompts.visualize_concept_benzene.body",defaultMessage:"Create an image to help me visualize the 3D molecular structure for benzene."},visualize_concept_benzene_prompt:{id:"curated-starter-prompts.visualize_concept_benzene.prompt",defaultMessage:"Please create an image to help me visualize the 3D molecular structure for benzene."},redesign_this_room_title:{id:"curated-starter-prompts.redesign_this_room.title",defaultMessage:"Redesign this room"},redesign_this_room_body:{id:"curated-starter-prompts.redesign_this_room.body",defaultMessage:"Make this room a mid-century modern style with new paint and furniture."},redesign_this_room_prompt:{id:"curated-starter-prompts.redesign_this_room.prompt",defaultMessage:"Redesign this room with new paint and furniture. I'll upload a photo of the room."},make_me_an_action_figure_title:{id:"curated-starter-prompts.make_me_an_action_figure.title",defaultMessage:"Make me an action figure"},make_me_an_action_figure_body:{id:"curated-starter-prompts.make_me_an_action_figure.body",defaultMessage:"Draw a picture of me as a real-life action figure. Include my interests, like gardening and baking, in the packaging."},make_me_an_action_figure_prompt:{id:"curated-starter-prompts.make_me_an_action_figure.prompt",defaultMessage:"Draw a picture of me as a real-life action figure. Include my interests, like gardening and baking, in the packaging. I'll upload my photo."},promo_code_title:{id:"curated-starter-prompts.promo_code.title",defaultMessage:"Find shopping promo codes"},promo_code_body:{id:"curated-starter-prompts.promo_code.body",defaultMessage:"Find shopping promo codes"},promo_code_prompt:{id:"curated-starter-prompts.promo_code.prompt",defaultMessage:"Find promo codes or coupons for my favorite sites. Confirm they're active."},tailor_lesson_plan_title:{id:"curated-starter-prompts.tailor_lesson_plan.title",defaultMessage:"Tailor a lesson plan"},tailor_lesson_plan_body:{id:"curated-starter-prompts.tailor_lesson_plan.body",defaultMessage:"Tailor a lesson plan"},tailor_lesson_plan_prompt:{id:"curated-starter-prompts.tailor_lesson_plan.prompt",defaultMessage:"Draft a first-pass lesson plan for my class that I can refine. Use anything you already know about my grade level, subject, and teaching context — and if you're missing key details, please ask me before you begin. The plan should include: 1) A clear, student-friendly learning objective 2) A timed schedule (warm-up, direct instruction, guided practice, independent work, closure) 3) Materials needed 4) 2 to 3 quick formative check-for-understanding strategies. Keep this as a helpful starting draft that I can adjust to my teaching style."},questions_on_different_levels_title:{id:"curated-starter-prompts.questions_on_different_levels.title",defaultMessage:"Questions on different levels"},questions_on_different_levels_body:{id:"curated-starter-prompts.questions_on_different_levels.body",defaultMessage:"Generate practice problems"},questions_on_different_levels_prompt:{id:"curated-starter-prompts.questions_on_different_levels.prompt",defaultMessage:"Generate practice problems on a topic (ask me to specify the topic). Include a mix of easy, medium, and challenging problems and label the difficulty. Provide a fully worked solution for each problem that shows each step clearly so I can confirm accuracy or share with students who need support. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_quiz_title:{id:"curated-starter-prompts.create_quiz.title",defaultMessage:"Create a quiz"},create_quiz_body:{id:"curated-starter-prompts.create_quiz.body",defaultMessage:"Draft instructions for assignments"},create_quiz_prompt:{id:"curated-starter-prompts.create_quiz.prompt",defaultMessage:"Help me write clear, student-facing instructions for an assignment in my class on a topic (ask me to specify the topic). Include: 1) Step-by-step directions for what students need to do 2) A short summary of how it will be graded (criteria or rubric overview) 3) A clear due date format 4) Any formatting or submission requirements. Use friendly, concise language that students will easily understand. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},design_activity_title:{id:"curated-starter-prompts.design_activity.title",defaultMessage:"Design an activity"},design_activity_body:{id:"curated-starter-prompts.design_activity.body",defaultMessage:"Design a first-week activity"},design_activity_prompt:{id:"curated-starter-prompts.design_activity.prompt",defaultMessage:"Design a first-week classroom community-building activity for my class that helps students get to know each other and teaches basic routines. Provide: a catchy activity name, a brief script I can use to introduce it, step-by-step directions, estimated time, and any printable or question prompts I could put on a handout or slide.If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_worksheet_title:{id:"curated-starter-prompts.create_worksheet.title",defaultMessage:"Create a worksheet"},create_worksheet_body:{id:"curated-starter-prompts.create_worksheet.body",defaultMessage:"Brainstorm unique worksheet ideas"},create_worksheet_prompt:{id:"curated-starter-prompts.create_worksheet.prompt",defaultMessage:"Brainstorm 8 to 10 creative worksheet ideas to help my students practice on a topic (ask me to specify the topic). For each idea, briefly describe the activity format (e.g., puzzle, matching, error correction, mini-scenarios) and what skills it targets, so I can quickly turn them into printable worksheets. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_slide_deck_title:{id:"curated-starter-prompts.create_slide_deck.title",defaultMessage:"Create a slide"},create_slide_deck_body:{id:"curated-starter-prompts.create_slide_deck.body",defaultMessage:"Create a slide for your lesson"},create_slide_deck_prompt:{id:"curated-starter-prompts.create_slide_deck.prompt",defaultMessage:"Outline a slide-by-slide presentation. Ask me to specify the topic. For each slide, specify: the title, bullet-point content, any visuals or diagrams I should include, and 1 to 2 questions I can ask students. Aim for about 6 slides and keep the language accessible for this grade level. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_resource_title:{id:"curated-starter-prompts.create_resource.title",defaultMessage:"Create reading materials"},create_resource_body:{id:"curated-starter-prompts.create_resource.body",defaultMessage:"Write an article about"},create_resource_prompt:{id:"curated-starter-prompts.create_resource.prompt",defaultMessage:"Write a 600-word informational article about a topic (ask me to specify the topic). Use clear headings, bold 6 to 8 key vocabulary words with simple definitions in parentheses, and end with 4 comprehension questions (2 literal, 2 inferential) plus 2 discussion questions. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need to complete this!"},make_topic_more_engaging_title:{id:"curated-starter-prompts.make_topic_more_engaging.title",defaultMessage:"Make a topic more engaging"},make_topic_more_engaging_body:{id:"curated-starter-prompts.make_topic_more_engaging.body",defaultMessage:"Make a topic more engaging"},make_topic_more_engaging_prompt:{id:"curated-starter-prompts.make_topic_more_engaging.prompt",defaultMessage:"Help me make a topic more engaging for my students. Ask me to specify the topic. Suggest: 1 strong analogy or metaphor, 1 quick demo or hands-on activity, 1 short story or scenario I could tell, and 1 game or interactive activity—each with simple, concrete steps I can use in class. If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need"},image_gen_prompt_title:{id:"curated-starter-prompts.image_gen_prompt.title",defaultMessage:"Generate an image"},image_gen_prompt_body:{id:"curated-starter-prompts.image_gen_prompt.body",defaultMessage:"Generate an image to help teach a topic"},image_gen_prompt_prompt:{id:"curated-starter-prompts.image_gen_prompt.prompt",defaultMessage:"Generate a simple, colorful visual of a topic for my class. Ask me to specify the topic. Use a familiar metaphor or example (e.g., pizza slices, building blocks, animals). If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."},create_learning_objectives_title:{id:"curated-starter-prompts.create_learning_objectives.title",defaultMessage:"Create learning objectives"},create_learning_objectives_body:{id:"curated-starter-prompts.create_learning_objectives.body",defaultMessage:"Create learning objectives"},create_learning_objectives_prompt:{id:"curated-starter-prompts.create_learning_objectives.prompt",defaultMessage:"Draft 5 to 8 clear, student-friendly learning objectives for my next unit on a topic (ask me to specify the topic). Organize them from foundational to advanced, and include the relevant standard code next to each one. Use any information you already know about my grade level, subject, or teaching context — if anything's missing, just ask me to confirm it. Ask me to upload curriculum or standards document, it is optional but will help align everything accurately."},plan_project_activity_title:{id:"curated-starter-prompts.plan_project_activity.title",defaultMessage:"Plan a project activity"},plan_project_activity_body:{id:"curated-starter-prompts.plan_project_activity.body",defaultMessage:"Plan a project-based activity"},plan_project_activity_prompt:{id:"curated-starter-prompts.plan_project_activity.prompt",defaultMessage:"Design a project-based learning activity on a topic (ask me to specify the topic) for my students. Include: 1) an engaging project overview 2) driving question 3) step-by-step timeline (with checkpoints) 4) suggested group roles 5) a simple rubric outline with 3 to 4 criteria (e.g., content understanding, collaboration, creativity, presentation). If you already know my grade level, subject, or class details, use that — otherwise, just ask me to confirm what you need."}});function Ri(){const t=At();return[{type:ze.Starter,id:"morning_routine",title:t.formatMessage(R.morning_routine_title),body:t.formatMessage(R.morning_routine_body),prompt:t.formatMessage(R.morning_routine_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-sun-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-sun-sm@2x.png",accentColor:"#F9C00D",isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"be_my_personal_trainer",title:t.formatMessage(R.personal_trainer_title),body:t.formatMessage(R.personal_trainer_body),prompt:t.formatMessage(R.personal_trainer_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-fitness-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-fitness-sm@2x.png",accentColor:"#000000",isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"fix_procrastination",title:t.formatMessage(R.fix_procrastination_title),body:t.formatMessage(R.fix_procrastination_body),prompt:t.formatMessage(R.fix_procrastination_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"upgrade_skin_care",title:t.formatMessage(R.upgrade_skin_care_title),body:t.formatMessage(R.upgrade_skin_care_body),prompt:t.formatMessage(R.upgrade_skin_care_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-skincare-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-skincare-sm@2x.png",accentColor:"#F3A38C",requires_file_upload:!0,isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"meal_prep",title:t.formatMessage(R.meal_prep_title),body:t.formatMessage(R.meal_prep_body),prompt:t.formatMessage(R.meal_prep_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-food@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-food-40@2x.png",accentColor:"#E66E04",isFeatured:!0,source:"CURATED"},{type:ze.Starter,id:"budget",title:t.formatMessage(R.budget_title),body:t.formatMessage(R.budget_body),prompt:t.formatMessage(R.budget_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-preadsheet@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-preadsheet-40@2x.png",accentColor:"#F8907F",source:"CURATED"},{type:ze.Starter,id:"color_theory",title:t.formatMessage(R.color_theory_title),body:t.formatMessage(R.color_theory_body),prompt:t.formatMessage(R.color_theory_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-color-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-color-sm@2x.png",accentColor:"#EABD7E",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"help_me_get_recognized",title:t.formatMessage(R.help_me_get_recognized_title),body:t.formatMessage(R.help_me_get_recognized_body),prompt:t.formatMessage(R.help_me_get_recognized_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-award@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-award-40@2x.png",source:"CURATED"},{type:ze.Starter,id:"anime_style_portrait",title:t.formatMessage(R.anime_style_portrait_title),body:t.formatMessage(R.anime_style_portrait_body),prompt:t.formatMessage(R.anime_style_portrait_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-anime@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-anime-40@2x.png",coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/anime@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/anime.png",requires_file_upload:!0,systemHints:[ne.PictureV2],source:"CURATED"},{type:ze.Starter,id:"action_figure_portrait",title:t.formatMessage(R.action_figure_portrait_title),body:t.formatMessage(R.action_figure_portrait_body),prompt:t.formatMessage(R.action_figure_portrait_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-actionfigure@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-actionfigure-40@2x.png",coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/action-figure@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/action-figure.png",requires_file_upload:!0,systemHints:[ne.PictureV2],source:"CURATED"},{type:ze.Starter,id:"b_w_raindrop_portrait",title:t.formatMessage(R.b_w_raindrop_portrait_title),body:t.formatMessage(R.b_w_raindrop_portrait_body),prompt:t.formatMessage(R.b_w_raindrop_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/raindrop-bnw@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/raindrop-bnw.png",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"b_w_studio_portrait",title:t.formatMessage(R.b_w_studio_portrait_title),body:t.formatMessage(R.b_w_studio_portrait_body),prompt:t.formatMessage(R.b_w_studio_portrait_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/studio-bnw@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/studio-bnw.png",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"create_a_puppet",title:t.formatMessage(R.create_a_puppet_title),body:t.formatMessage(R.create_a_puppet_body),prompt:t.formatMessage(R.create_a_puppet_prompt),coverImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/create-puppet@2x.png",coverThumbnailImageUrl:"https://persistent.oaistatic.com/chatgpt/trending/image-gen/create-puppet.png",requires_file_upload:!0,systemHints:[ne.PictureV2],source:"CURATED"},{type:ze.Starter,id:"document_summary",title:t.formatMessage(R.document_summary_title),body:t.formatMessage(R.document_summary_body),prompt:t.formatMessage(R.document_summary_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-paper-pen@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-paper-pen-40@2x.png",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"recommend_a_movie",title:t.formatMessage(R.recommend_a_movie_title),body:t.formatMessage(R.recommend_a_movie_body),prompt:t.formatMessage(R.recommend_a_movie_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-movies@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-movies-40@2x.png",source:"CURATED"},{type:ze.Starter,id:"create_a_quiz",title:t.formatMessage(R.create_a_quiz_title),body:t.formatMessage(R.create_a_quiz_body),prompt:t.formatMessage(R.create_a_quiz_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",requires_file_upload:!0,source:"CURATED"},{type:ze.Starter,id:"promo_code",title:t.formatMessage(R.promo_code_title),body:t.formatMessage(R.promo_code_body),prompt:t.formatMessage(R.promo_code_prompt),iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",source:"CURATED"}]}function wf(){"use forget";const t=jt.c(123),e=At();let o;t[0]!==e?(o=e.formatMessage(R.tailor_lesson_plan_title),t[0]=e,t[1]=o):o=t[1];let n;t[2]!==e?(n=e.formatMessage(R.tailor_lesson_plan_body),t[2]=e,t[3]=n):n=t[3];let r;t[4]!==e?(r=e.formatMessage(R.tailor_lesson_plan_prompt),t[4]=e,t[5]=r):r=t[5];let d;t[6]!==o||t[7]!==n||t[8]!==r?(d={type:ze.Starter,id:"tailor_lesson_plan",title:o,body:n,prompt:r,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[6]=o,t[7]=n,t[8]=r,t[9]=d):d=t[9];let i;t[10]!==e?(i=e.formatMessage(R.questions_on_different_levels_title),t[10]=e,t[11]=i):i=t[11];let f;t[12]!==e?(f=e.formatMessage(R.questions_on_different_levels_body),t[12]=e,t[13]=f):f=t[13];let l;t[14]!==e?(l=e.formatMessage(R.questions_on_different_levels_prompt),t[14]=e,t[15]=l):l=t[15];let m;t[16]!==i||t[17]!==f||t[18]!==l?(m={type:ze.Starter,id:"questions_on_different_levels",title:i,body:f,prompt:l,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[16]=i,t[17]=f,t[18]=l,t[19]=m):m=t[19];let _;t[20]!==e?(_=e.formatMessage(R.create_quiz_title),t[20]=e,t[21]=_):_=t[21];let x;t[22]!==e?(x=e.formatMessage(R.create_quiz_body),t[22]=e,t[23]=x):x=t[23];let S;t[24]!==e?(S=e.formatMessage(R.create_quiz_prompt),t[24]=e,t[25]=S):S=t[25];let c;t[26]!==S||t[27]!==_||t[28]!==x?(c={type:ze.Starter,id:"create_quiz_k12",title:_,body:x,prompt:S,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-pencil-paper@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-pencil-paper-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[26]=S,t[27]=_,t[28]=x,t[29]=c):c=t[29];let g;t[30]!==e?(g=e.formatMessage(R.design_activity_title),t[30]=e,t[31]=g):g=t[31];let b;t[32]!==e?(b=e.formatMessage(R.design_activity_body),t[32]=e,t[33]=b):b=t[33];let h;t[34]!==e?(h=e.formatMessage(R.design_activity_prompt),t[34]=e,t[35]=h):h=t[35];let k;t[36]!==g||t[37]!==b||t[38]!==h?(k={type:ze.Starter,id:"design_activity",title:g,body:b,prompt:h,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-color-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-color-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[36]=g,t[37]=b,t[38]=h,t[39]=k):k=t[39];let M;t[40]!==e?(M=e.formatMessage(R.create_worksheet_title),t[40]=e,t[41]=M):M=t[41];let y;t[42]!==e?(y=e.formatMessage(R.create_worksheet_body),t[42]=e,t[43]=y):y=t[43];let O;t[44]!==e?(O=e.formatMessage(R.create_worksheet_prompt),t[44]=e,t[45]=O):O=t[45];let a;t[46]!==M||t[47]!==y||t[48]!==O?(a={type:ze.Starter,id:"create_worksheet",title:M,body:y,prompt:O,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-preadsheet@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-preadsheet-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[46]=M,t[47]=y,t[48]=O,t[49]=a):a=t[49];let T;t[50]!==e?(T=e.formatMessage(R.create_resource_title),t[50]=e,t[51]=T):T=t[51];let E;t[52]!==e?(E=e.formatMessage(R.create_resource_body),t[52]=e,t[53]=E):E=t[53];let U;t[54]!==e?(U=e.formatMessage(R.create_resource_prompt),t[54]=e,t[55]=U):U=t[55];let v;t[56]!==T||t[57]!==E||t[58]!==U?(v={type:ze.Starter,id:"create_resource",title:T,body:E,prompt:U,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[56]=T,t[57]=E,t[58]=U,t[59]=v):v=t[59];let j;t[60]!==e?(j=e.formatMessage(R.create_slide_deck_title),t[60]=e,t[61]=j):j=t[61];let H;t[62]!==e?(H=e.formatMessage(R.create_slide_deck_body),t[62]=e,t[63]=H):H=t[63];let u;t[64]!==e?(u=e.formatMessage(R.create_slide_deck_prompt),t[64]=e,t[65]=u):u=t[65];let A;t[66]!==j||t[67]!==H||t[68]!==u?(A={type:ze.Starter,id:"create_slide_deck",title:j,body:H,prompt:u,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-bulb-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-bulb-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[66]=j,t[67]=H,t[68]=u,t[69]=A):A=t[69];let F;t[70]!==e?(F=e.formatMessage(R.make_topic_more_engaging_title),t[70]=e,t[71]=F):F=t[71];let re;t[72]!==e?(re=e.formatMessage(R.make_topic_more_engaging_body),t[72]=e,t[73]=re):re=t[73];let Q;t[74]!==e?(Q=e.formatMessage(R.make_topic_more_engaging_prompt),t[74]=e,t[75]=Q):Q=t[75];let $;t[76]!==F||t[77]!==re||t[78]!==Q?($={type:ze.Starter,id:"make_topic_more_engaging",title:F,body:re,prompt:Q,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-sun-xl@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/64/wc-icon-sun-sm@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[76]=F,t[77]=re,t[78]=Q,t[79]=$):$=t[79];let w;t[80]!==e?(w=e.formatMessage(R.image_gen_prompt_title),t[80]=e,t[81]=w):w=t[81];let J;t[82]!==e?(J=e.formatMessage(R.image_gen_prompt_body),t[82]=e,t[83]=J):J=t[83];let K;t[84]!==e?(K=e.formatMessage(R.image_gen_prompt_prompt),t[84]=e,t[85]=K):K=t[85];let q;t[86]===Symbol.for("react.memo_cache_sentinel")?(q=[ne.PictureV2],t[86]=q):q=t[86];let Y;t[87]!==w||t[88]!==J||t[89]!==K?(Y={type:ze.Starter,id:"image_gen_prompt",title:w,body:J,prompt:K,category:"dalle",iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-painting.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-painting-sm.png",accentColor:"#F9C00D",systemHints:q,source:"CURATED"},t[87]=w,t[88]=J,t[89]=K,t[90]=Y):Y=t[90];let ge;t[91]!==e?(ge=e.formatMessage(R.plan_project_activity_title),t[91]=e,t[92]=ge):ge=t[92];let X;t[93]!==e?(X=e.formatMessage(R.plan_project_activity_body),t[93]=e,t[94]=X):X=t[94];let de;t[95]!==e?(de=e.formatMessage(R.plan_project_activity_prompt),t[95]=e,t[96]=de):de=t[96];let he;t[97]!==ge||t[98]!==X||t[99]!==de?(he={type:ze.Starter,id:"plan_project_activity",title:ge,body:X,prompt:de,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-paper-pen@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-paper-pen-40@2x.png",accentColor:"#F9C00D",source:"CURATED"},t[97]=ge,t[98]=X,t[99]=de,t[100]=he):he=t[100];let P;t[101]!==e?(P=e.formatMessage(R.create_learning_objectives_title),t[101]=e,t[102]=P):P=t[102];let ce;t[103]!==e?(ce=e.formatMessage(R.create_learning_objectives_body),t[103]=e,t[104]=ce):ce=t[104];let _e;t[105]!==e?(_e=e.formatMessage(R.create_learning_objectives_prompt),t[105]=e,t[106]=_e):_e=t[106];let ve;t[107]!==P||t[108]!==ce||t[109]!==_e?(ve={type:ze.Starter,id:"create_learning_objectives",title:P,body:ce,prompt:_e,iconImageUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/228/wc-icon-checklist@2x.png",iconThumbnailUrl:"https://persistent.oaistatic.com/chatgpt/icons/wc-icons/40/wc-icon-checklist-40@2x.png",accentColor:"#F9C00D",source:"CURATED",requires_file_upload:!0},t[107]=P,t[108]=ce,t[109]=_e,t[110]=ve):ve=t[110];let Oe;return t[111]!==c||t[112]!==k||t[113]!==a||t[114]!==v||t[115]!==A||t[116]!==d||t[117]!==$||t[118]!==Y||t[119]!==he||t[120]!==ve||t[121]!==m?(Oe=[d,m,c,k,a,v,A,$,Y,he,ve],t[111]=c,t[112]=k,t[113]=a,t[114]=v,t[115]=A,t[116]=d,t[117]=$,t[118]=Y,t[119]=he,t[120]=ve,t[121]=m,t[122]=Oe):Oe=t[122],Oe}function Ra(t,e=[],o=4,n=2){if(!t||t.length===0)return[];const r=c=>c.category==="dalle"||!!c.coverImageUrl,d=(c,g)=>c.id!=null&&g.id!=null?c.id===g.id:c===g,i=(c,g)=>e.some(b=>g&&!g(b)?!1:d(b,c)),f=t.filter(c=>c.category==="dalle"&&!i(c,r));let l=f.length>0?f[Math.floor(Math.random()*f.length)]:void 0;if(!l){const c=t.filter(g=>!!g.coverImageUrl).filter(g=>!i(g,r));l=c.length>0?c[Math.floor(Math.random()*c.length)]:void 0}const _=[...t.filter(c=>!(c===l||r(c)||i(c,g=>!r(g))))].sort(()=>Math.random()-.5);if(l){const c=Math.max(0,o-1),g=[],b=new Set;for(const M of _){const y=M.iconImageUrl;if(!b.has(y)&&(b.add(y),g.push(M),g.length===c))break}if(g.length<c){for(const M of _)if(!g.includes(M)&&(g.push(M),g.length===c))break}const h=[...g],k=Math.min(Math.max(n,0),Math.max(o-1,0));return h.splice(k,0,l),h.slice(0,o)}const x=[],S=new Set;for(const c of _){const g=c.iconImageUrl;if(!S.has(g)&&(S.add(g),x.push(c),x.length===o))break}if(x.length<o){for(const c of _)if(!x.includes(c)&&(x.push(c),x.length===o))break}return x.slice(0,o)}const kf=Ms({subtitle:{id:"starter-prompt-banner.subtitle",defaultMessage:"Just add a picture — ChatGPT will do the rest. <tryNow>Try now</tryNow>"}});function Cf(){"use forget";const[t]=Qo("oai/apps/hasDismissedStarterPromptBanner",!1,Mf);return!t}function Mf(t){return typeof t=="boolean"}function Tf(t){"use forget";var K;const e=jt.c(35),{className:o}=t,n=mi(),r=jd(),[d,i]=Qo("oai/apps/hasDismissedStarterPromptBanner",!1,If),f=Ri(),l=Ed(),m=Ve(),S=Rd(m,!1).get("image_gen_prompts_type","evergreen")==="trending"?l:f;let c;e[0]!==S?(c=S.filter(vf),e[0]=S,e[1]=c):c=e[1];const g=c,b=g[Math.floor(Math.random()*g.length)];let h,k;e[2]!==b?(h=()=>{var q;b&&ht.logEventWithStatsig("Show Image Gen Prompt","chatgpt_prompt_show_suggestion",{type:b.type,id:b.id,index:0,theme:(q=b.theme)!=null?q:""})},k=[b],e[2]=b,e[3]=h,e[4]=k):(h=e[3],k=e[4]),C.useEffect(h,k);const M=Ts();if(!b)return null;let y;e[5]!==b?(y=[b],e[5]=b,e[6]=y):y=e[6];const O=y,a=M,T=b.title,E=(K=b.coverImageUrl)!=null?K:b.coverThumbnailImageUrl;let U;e[7]!==O||e[8]!==n||e[9]!==a||e[10]!==r||e[11]!==b?(U=q=>{var ge;if(a){q.preventDefault();return}if(q.stopPropagation(),b.requires_file_upload===!0&&((ge=b.systemHints)==null?void 0:ge.includes(ne.PictureV2))){r(q,b,O,0);return}n(q,b,O,0)},e[7]=O,e[8]=n,e[9]=a,e[10]=r,e[11]=b,e[12]=U):U=e[12];const v=U;if(d)return null;let j;e[13]!==o?(j=ut("relative",o),e[13]=o,e[14]=j):j=e[14];const H=a?"opacity-60":"";let u;e[15]!==H?(u=ut("border-token-border-default bg-tertiary flex w-full items-center gap-3 rounded-2xl border shadow-[0px_4px_16px_0px_rgba(0,0,0,0.05)]",H),e[15]=H,e[16]=u):u=e[16];let A;e[17]!==E?(A=E?s.jsx("div",{className:"py-3 ps-3",children:s.jsx("div",{className:"border-token-border-default borde h-14 w-14 -rotate-2 overflow-hidden rounded-xl p-0.5 shadow-lg",children:s.jsx("img",{src:E,alt:"","aria-hidden":"true",className:"h-full w-full rounded-lg object-cover"})})}):null,e[17]=E,e[18]=A):A=e[18];let F;e[19]!==T?(F=s.jsx("div",{className:"text-token-text-primary truncate text-sm leading-5 font-medium sm:text-base",children:T}),e[19]=T,e[20]=F):F=e[20];let re;e[21]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx("div",{className:"text-token-text-secondary mt-1 text-xs leading-5 sm:text-sm",children:s.jsx(ts,Jt(yt({},kf.subtitle),{values:{tryNow:Af}}))}),e[21]=re):re=e[21];let Q;e[22]!==F?(Q=s.jsxs("div",{className:"min-w-0 flex-1 py-3 text-start",children:[F,re]}),e[22]=F,e[23]=Q):Q=e[23];let $;e[24]!==i?($=s.jsx(il,{className:"me-1 mt-1 self-start",iconSize:"md",onClick:q=>{q.stopPropagation(),i(!0)}}),e[24]=i,e[25]=$):$=e[25];let w;e[26]!==v||e[27]!==Q||e[28]!==$||e[29]!==u||e[30]!==A?(w=s.jsxs("div",{role:"button",tabIndex:0,className:u,onClick:v,children:[A,Q,$]}),e[26]=v,e[27]=Q,e[28]=$,e[29]=u,e[30]=A,e[31]=w):w=e[31];let J;return e[32]!==w||e[33]!==j?(J=s.jsx("div",{className:j,children:w}),e[32]=w,e[33]=j,e[34]=J):J=e[34],J}function Af(t){return s.jsx("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-blue-500 sm:text-sm dark:text-blue-400",children:s.jsx("span",{children:t})})}function vf(t){var e;return(e=t.systemHints)==null?void 0:e.includes(ne.PictureV2)}function If(t){return typeof t=="boolean"}const Pf=Wt(()=>Ht(()=>import("./i8gmt89kig8ue44v.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(t=>t.default)),Da=Ms({bannerBody:{id:"gqtTeH",defaultMessage:"Work smarter and better with coworkers in your organization"},dismissBanner:{id:"hbc/Bs",defaultMessage:"Dismiss banner"}});function jf(t){"use forget";const e=jt.c(17),{clientThreadId:o,canShowBanner:n}=t,r=n===void 0?!1:n,d=Ve();let i;e[0]!==d?(i=ss(d),e[0]=d,e[1]=i):i=e[1];const f=i;let l;e[2]!==o?(l=La(o),e[2]=o,e[3]=l):l=e[3];const m=l,_=Dt(o,Df),{eligible:x}=xs(ns.hasSeenJoinWorkspaceBanner),S=m&&!_,c=Xo(),g=(c==null?void 0:c.email_domain_type)==="professional",b=f&&g&&r&&S&&m&&!_&&x,{data:h,isLoading:k}=rl();let M;e[4]!==(h==null?void 0:h.accountItems)?(M=h==null?void 0:h.accountItems.some(Rf),e[4]=h==null?void 0:h.accountItems,e[5]=M):M=e[5];const y=!!M;let O;e[6]!==d?(O=Qt(d,"3217430380",{disableExposureLog:!0}).get("enable_workspace_discovery",!1),e[6]=d,e[7]=O):O=e[7];const T=!k&&!y&&O&&b;let E;if(e[8]!==d){const q=Ks.getItem(Ys.WorkspaceDiscoveryInfo),Y=Fa(d,"2801792036").get("cache_ttl_ms",6048e5);E=Dd(q,Y),e[8]=d,e[9]=E}else E=e[9];const{isFresh:U,hasWorkspacesToJoin:v}=E;let j;e[10]!==d?(j=Tt(d,"69563813"),e[10]=d,e[11]=j):j=e[11];const u=!U&&j&&T,{data:A,isFetching:F}=Bd(u),re=A==null?void 0:A.workspaces.some(Ef);if(!(!F&&(U?!!v:!!re)&&T)){let q;return e[12]===Symbol.for("react.memo_cache_sentinel")?(q={shouldShow:!1},e[12]=q):q=e[12],q}let w;e[13]!==d?(w=Qt(d,"1200251816").get("enable-join-workspaces-banner",!1),e[13]=d,e[14]=w):w=e[14];const J=w;let K;return e[15]!==J?(K={shouldShow:J},e[15]=J,e[16]=K):K=e[16],K}function Ef(t){return!t.requested}function Rf(t){return t.isEnterprisey()}function Df(t){return mt.hasUserMessage(t)}function kh(){"use forget";const t=jt.c(24),e=Ve();let o;t[0]!==e?(o=()=>{mn(e,ns.hasSeenJoinWorkspaceBanner)},t[0]=e,t[1]=o):o=t[1];const n=o;let r;t[2]!==n?(r=()=>{ht.logEventWithStatsig("Thread Join Workspace Banner Button Dismissed","chatgpt_thread_join_workspace_banner_button_dismissed"),n()},t[2]=n,t[3]=r):r=t[3];const d=r;let i;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=[],t[4]=i):i=t[4],C.useEffect(Bf,i);let f;t[5]!==e||t[6]!==n?(f=()=>{ht.logEventWithStatsig("Thread Join Workspace Banner Button Clicked","chatgpt_thread_join_workspace_banner_button_clicked"),n(),cs(e,Pf,{mode:"dismissible",section:"both",source:"join_workspace_banner"})},t[5]=e,t[6]=n,t[7]=f):f=t[7];const l=f;let m;t[8]===Symbol.for("react.memo_cache_sentinel")?(m=ut("group flex w-full items-center justify-center gap-1.5 rounded-full py-2 ps-3 sm:justify-start sm:gap-2","bg-primary shadow-short","hover:bg-token-surface-hover motion-safe:transition-colors motion-safe:duration-150 motion-safe:ease-out","focus-visible:ring-token-text-tertiary focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden","pe-7"),t[8]=m):m=t[8];let _;t[9]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx("span",{className:"hidden text-[#5856D6] sm:inline",children:s.jsx(Nd,{className:"icon-sm","aria-hidden":"true"})}),t[9]=_):_=t[9];let x,S;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsxs("span",{className:"flex items-center gap-1.5",children:[_,s.jsx("span",{className:"text-token-text-primary text-[13px] leading-[18px] sm:text-sm sm:leading-5",children:s.jsx(ts,yt({},Da.bannerBody))})]}),S=s.jsx("span",{className:ut("inline-flex items-center gap-1 text-sm font-medium","text-[#5856D6]"),children:s.jsx("span",{children:s.jsx(ts,{id:"V/M/bo",defaultMessage:"Find Workspaces"})})}),t[10]=x,t[11]=S):(x=t[10],S=t[11]);let c;t[12]!==l?(c=s.jsxs("button",{type:"button",onClick:l,className:m,children:[x,S]}),t[12]=l,t[13]=c):c=t[13];let g;t[14]!==d?(g=O=>{O.stopPropagation(),d()},t[14]=d,t[15]=g):g=t[15];let b,h;t[16]===Symbol.for("react.memo_cache_sentinel")?(b=ut("mt-0.15 absolute end-1.5 top-1/2 -translate-y-1/2 rounded-full p-1","text-token-text-secondary hover:bg-token-main-surface-tertiary","focus-visible:ring-token-text-tertiary focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-offset-transparent focus-visible:outline-hidden"),h=s.jsx(Od,{className:"icon-xs","aria-hidden":"true"}),t[16]=b,t[17]=h):(b=t[16],h=t[17]);let k;t[18]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("span",{className:"sr-only",children:s.jsx(ts,yt({},Da.dismissBanner))}),t[18]=k):k=t[18];let M;t[19]!==g?(M=s.jsxs("button",{type:"button",onClick:g,className:b,children:[h,k]}),t[19]=g,t[20]=M):M=t[20];let y;return t[21]!==M||t[22]!==c?(y=s.jsxs("div",{className:"relative",children:[c,M]}),t[21]=M,t[22]=c,t[23]=y):y=t[23],y}function Bf(){ht.logEventWithStatsig("Thread Join Workspace Banner Button Shown","chatgpt_thread_join_workspace_banner_button_shown")}const Ba=t=>typeof t=="boolean";function Na({clientThreadId:t,onClick:e}){C.useEffect(()=>{zd(t)},[t]);const o=At();return s.jsx(us.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},className:"inline-block",children:s.jsx(hi,{onClick:()=>{Gd(t),e()},label:o.formatMessage(Qs.moreStarterPrompts)})})}function Nf({starterPrompt:t,starterPrompts:e,index:o,disabled:n,onSelectStarterPrompt:r}){var m;const d=Ve(),i=(m=t.theme)!=null?m:t.title,f=mi(),l=t.category==="onboarding"?_=>{mn(d,ns.hasUsedConversationalOnboardingStarterPrompt),f(_,t,e,o)}:_=>r==null?void 0:r(_,t,e,o);return s.jsx(hi,{disabled:n,onClick:l,icon:s.jsx(dl,{category:t.category,useV2Colors:!0}),label:i})}const Of=5,Uf=3;function Di({starterPrompts:t,onSelectStarterPrompt:e,disabled:o,clientThreadId:n,onExpand:r,mobileLayout:d=!1}){const i=d?Uf:Of,[f,l]=C.useState(i),[m,_]=C.useState(!1),x=C.useRef(null),S=t.length<=f;C.useEffect(()=>{ya(t.slice(0,i),n)},[n]),C.useEffect(()=>{if(!m&&!S&&x.current){const g=x.current,b=g.getBoundingClientRect(),h=b.width,k=Array.from(g.children);let M=0;for(let y=0;y<k.length&&k[y].getBoundingClientRect().right-b.left<=h;y++)M++;l(M),_(!0)}},[t,S,m]);const c=()=>{const g=t.slice(f,t.length).map(b=>Jt(yt({},b),{isAdditional:!0}));g.length>0&&ya(g,n),l(t.length),r()};return s.jsxs("div",{"data-testid":"starter-prompt-chips",className:ut("mt-5 flex items-center justify-center gap-x-2 transition-opacity xl:gap-x-2.5",m&&t.length>0?"opacity-100":"opacity-[0.01]",d?"flex-wrap":"flex-nowrap"),children:[s.jsxs("ul",{className:ut("relative flex items-stretch gap-x-2 gap-y-4 overflow-hidden py-2 sm:gap-y-2 xl:gap-x-2.5 xl:gap-y-2.5",S||d?"flex-wrap justify-center":"flex-nowrap justify-start"),ref:x,children:[t.slice(0,f).map((g,b)=>{var h;return s.jsx(us.li,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3,ease:"easeOut"},children:s.jsx(Nf,{starterPrompt:g,starterPrompts:t,index:b,disabled:o,onSelectStarterPrompt:e})},(h=g.id)!=null?h:b)}),d&&t.length>f&&s.jsx(Na,{clientThreadId:n,onClick:c})]}),!d&&t.length>f&&s.jsx(Na,{clientThreadId:n,onClick:c})]})}const Ch=t=>{"use forget";const e=jt.c(17),{clientThreadId:o,currentModelId:n}=t,[r,d]=C.useState(!1),i=Ts();let f;e[0]!==o||e[1]!==n?(f={shouldBeEnabledForDefaultAssistant:!0,clientThreadId:o,limit:8,modelSlug:n},e[0]=o,e[1]=n,e[2]=f):f=e[2];const{promptStarters:l,shouldShowStarterPrompts:m,onSelectStarterPrompt:_}=gi(f);let x,S,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(x={opacity:0},S={opacity:1},c={duration:.3},e[3]=x,e[4]=S,e[5]=c):(x=e[3],S=e[4],c=e[5]);const g=m&&!r&&"h-[116px]";let b;e[6]!==g?(b=ut(g),e[6]=g,e[7]=b):b=e[7];let h;e[8]!==o||e[9]!==i||e[10]!==_||e[11]!==l||e[12]!==m?(h=m&&l&&s.jsx(Di,{starterPrompts:l,onSelectStarterPrompt:_,disabled:i,clientThreadId:o,onExpand:()=>d(!0),mobileLayout:!0}),e[8]=o,e[9]=i,e[10]=_,e[11]=l,e[12]=m,e[13]=h):h=e[13];let k;return e[14]!==b||e[15]!==h?(k=s.jsx(us.div,{initial:x,animate:S,transition:c,className:b,children:h}),e[14]=b,e[15]=h,e[16]=k):k=e[16],k},Mh=t=>{"use forget";const e=jt.c(20),{currentModelId:o,clientThreadId:n}=t,r=Ve(),d=!ss(r),i=Fd(),[f,l]=C.useState(!1),m=Ts();let _;e[0]!==n||e[1]!==o?(_={shouldBeEnabledForDefaultAssistant:!0,clientThreadId:n,limit:8,modelSlug:o},e[0]=n,e[1]=o,e[2]=_):_=e[2];const{promptStarters:x,shouldShowStarterPrompts:S,onSelectStarterPrompt:c}=gi(_);let g;e[3]!==n?(g={clientThreadId:n,canShowBanner:!0},e[3]=n,e[4]=g):g=e[4];const{shouldShow:b}=jf(g),h=S&&x;if(b&&!h)return null;let k,M,y;e[5]===Symbol.for("react.memo_cache_sentinel")?(k={opacity:0},M={opacity:1},y={duration:.3},e[5]=k,e[6]=M,e[7]=y):(k=e[5],M=e[6],y=e[7]);const O=!i&&"min-h-[108px]",a=d&&f||i?"":"h-[70px]";let T;e[8]!==O||e[9]!==a?(T=ut("max-w-full max-sm:hidden",O,a),e[8]=O,e[9]=a,e[10]=T):T=e[10];let E;e[11]!==n||e[12]!==m||e[13]!==c||e[14]!==x||e[15]!==h?(E=h&&s.jsx(Di,{starterPrompts:x,onSelectStarterPrompt:c,disabled:m,clientThreadId:n,onExpand:()=>l(!0)}),e[11]=n,e[12]=m,e[13]=c,e[14]=x,e[15]=h,e[16]=E):E=e[16];let U;return e[17]!==T||e[18]!==E?(U=s.jsx(us.div,{initial:k,animate:M,transition:y,className:T,children:E}),e[17]=T,e[18]=E,e[19]=U):U=e[19],U};function Lf({className:t,layout:e="grid",hideShuffleButton:o}){var U;const n=At(),r=Ts(),d=Ve(),i=za(d);let f=(U=i==null?void 0:i.isK12())!=null?U:!1;const l=Tt(d,"4100765009");f=f||l;const[m,_]=Qo("starter_prompt_tiles_dismissed",!1,Ba),[x,S]=C.useState(null);C.useEffect(()=>{if(!f){S(!1);return}typeof window>"u"||S(ll("starter_prompt_tiles_dismissed",!1,Ba))},[f]);const c=Ri(),g=wf(),b=f&&g.length>0?g:c,h=f&&(m||x===!0),k=f&&x==null,M=Zo(),y=pe(fi(M).shouldShowAutocomplete$),[O,a]=C.useState(Ra(b,[],4,e==="carousel"?1:2)),T=()=>{a(Ra(b,O,4,2))};if(!b||b.length===0||h||k)return null;const E=()=>{_(!0)};return s.jsxs("div",{className:ut("flex w-full flex-col gap-y-4 transition-opacity",t,y?"pointer-events-none opacity-0":"opacity-100"),children:[s.jsxs("div",{className:"flex items-center justify-between px-1",children:[s.jsx("div",{className:"text-token-text-secondary text-base leading-7 sm:text-sm",children:n.formatMessage(Qs.trySomethingNew)}),s.jsxs("div",{className:"flex items-center gap-1",children:[!o&&s.jsx(ea,{type:"button",onClick:T,label:n.formatMessage(Qs.shuffleTiles),color:"ghost",size:"medium",icon:Ud}),f&&s.jsx(ea,{type:"button",onClick:E,label:n.formatMessage(Qs.dismissStarterPrompts),color:"ghost",size:"medium",icon:cl})]})]}),s.jsx("div",{"data-testid":"starter-prompt-tiles",className:ut(e==="grid"?"grid grid-cols-2 gap-4 sm:flex sm:flex-row":"-mx-(--thread-content-margin) flex flex-row gap-3 overflow-x-auto px-(--thread-content-margin) pb-4 sm:gap-4"),children:Array.from({length:4}).map((v,j)=>{const H=O[j];return H?s.jsx("div",{className:ut("max-sm:short:h-[116px] relative h-[132px] sm:h-[144px]",e==="carousel"?"flex-1 max-sm:w-[164px] max-sm:flex-none":"w-full flex-1 sm:basis-0"),children:s.jsx(Ga,{initial:!1,children:s.jsx(us.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25,ease:"easeOut"},className:"absolute inset-0 h-full w-full",children:s.jsx(Ld,{starterPrompt:H,allPrompts:b,index:j,disabled:r,className:"h-full w-full"})},H.id)})},j):s.jsx("div",{},j)})})]})}const Qs=Ms({moreStarterPrompts:{id:"SplashScreenV2.moreStarterPrompts",defaultMessage:"More"},trySomethingNew:{id:"StarterPromptTiles.trySomethingNew",defaultMessage:"Try something new"},shuffleTiles:{id:"StarterPromptTiles.shuffle",defaultMessage:"Shuffle"},dismissStarterPrompts:{id:"StarterPromptTiles.dismiss",defaultMessage:"Close"}}),Ff=Wt(()=>Ht(()=>import("./n08qycxn0xfgd7e0.js"),__vite__mapDeps([9,1,2,3,4,5,10])).then(t=>t.JawboneNotificationsBanner)),zf=C.memo(function({className:e,suggestedContent:o}){const n=Ve(),r=pe(()=>$t(n)),{store:d}=vt(),i=d.useIsHeaderContentAreaPopulated()||!!o,f=d.useContentAreaId(ds.HeaderTop);let l=f===L.AgentModeAnnouncementBanner?"z-0":Hd.PromptTextareaHeader;const m=Qt(n,"2206338824");return f===L.BannersRateLimit&&m.get("web_design_style","control")==="composer_banner"&&(l="-z-1"),s.jsx("div",{className:ut(e!=null?e:"absolute start-0 end-0 bottom-full",l,r&&"start-2 end-2"),children:s.jsx(Wd,{shouldRender:i,contentArea:ds.Header,children:s.jsxs("div",{className:"mb-2 flex flex-col gap-3.5 pt-2",children:[s.jsx(Gf,{suggestedContent:o}),s.jsx(Hf,{})]})})})});function Gf({suggestedContent:t}){const e=Ve(),{store:o}=vt(),n=o.useSharedProps(_=>_==null?void 0:_.clientThreadId),r=o.useContentAreaId(ds.HeaderTop),d=$d(e),i=pe(()=>n&&Ha(en(e,n)).id),f=eo($t);let l;switch(r){case L.IntegratedVoiceModeNuxBanner:l=s.jsx(mu,{});break;case L.ProjectConversationTaskNoFileAccess:l=s.jsx(Vf,{});break;case L.AdvancedVoiceOnMobileAnnouncement:l=s.jsx(pu,{clientThreadId:n});break;case L.BannerSignup:l=s.jsx(qf,{});break;case L.BannerTermsDisclaimer:l=s.jsx(Jf,{});break;case L.NewUserBannerTermsDisclaimer:l=s.jsx(Kf,{});break;case L.PromptTextareaAction:l=s.jsx(Yf,{});break;case L.BannersRateLimit:l=s.jsx(Qf,{});break;case L.BannersBeaconUI:l=s.jsx(Xf,{});break;case L.BannerSidekickAnnouncement:l=s.jsx(uu,{});break;case L.SearchBrowserExtensionAnnouncement:l=s.jsx(du,{});break;case L.MoonshineAnnouncement:l=s.jsx(cu,{});break;case L.GoldenHourAnnouncementBanner:l=!1;break;case L.SearchBrowserExtensionReactiveAnnouncement:l=s.jsx(lu,{});break;case L.BannerMemoryAlmostFull:l=s.jsx(Sa,{memoryAlmostFullVariant:!0});break;case L.BannerMemoryFull:l=s.jsx(Sa,{});break;case L.Box:l=s.jsxs("div",{id:"Box",className:"flex h-20 w-full items-center justify-center gap-2 bg-red-500 p-2",children:["box",s.jsxs("div",{className:"flex h-full w-full items-center justify-center gap-2 bg-blue-500 p-2",children:["inner",s.jsx("div",{className:"flex h-full w-full items-center justify-center bg-yellow-400 text-center",children:"actual content"})]})]});break;case L.JawboneAnnouncement:d?l=s.jsx(Ff,{}):l=null;break;case L.JawboneMaxActiveAnnouncement:d?l=s.jsx(ru,{}):l=null;break;case L.PromoRedemptionAnnouncement:l=s.jsx(iu,{});break;case L.OperatorAnnouncement:l=s.jsx(au,{});break;case L.BannerPlusUpsell:l=s.jsx(nu,{});break;case L.PlusFreeTrialHomepageAnnouncementBanner:l=s.jsx(ou,{});break;case L.BannerNoAuthTrials:l=s.jsx(su,{});break;case L.ReferrerRedemptionAvailableAnnouncement:l=s.jsx(tu,{});break;case L.RefereeRedemptionAvailableAnnouncement:l=s.jsx(eu,{});break;case L.ReferralProgramUpsellAnnouncement:l=s.jsx(Zd,{});break;case L.TatertotIntakeFormAnnouncement:l=!1;break;case L.StudentsUpsellAnnouncement:l=s.jsx(Xd,{});break;case L.ModelDeprecationBanner:l=Qd(i);break;case L.TeamSeatsPromoAnnouncement:l=s.jsx(Yd,{});break;case L.TeamsContextualAnswersUpsell:l=s.jsx(Kd,{});break;case L.AgentModeAnnouncementBanner:l=ul(e)&&!f&&s.jsx(qd,{});break;case L.LanguageUpsellBanner:l=s.jsx(Jd,{onDismissSideEffect:()=>{ht.logEventWithStatsig("Language Upsell Banner Dismissed","chatgpt_web_language_upsell_banner_dismissed"),xa.set(e,!0)},onPrimaryCtaClickSideEffect:()=>{ht.logEventWithStatsig("Language Upsell Banner Primary CTA Clicked","chatgpt_web_language_upsell_banner_primary_cta_clicked"),xa.set(e,!0)}});break;case L.StarterPrompts:l=s.jsx(Lf,{hideShuffleButton:!0,layout:"carousel"});break;case L.ImageGenBanner:l=s.jsx(Tf,{className:"mb-3"});break;case L.ImageGenV2Banner:l=s.jsx(Vd,{});break;default:l=t!=null?t:null;break}const m=!!l;return C.useEffect(()=>{ba.set(e,m)},[e,m]),C.useEffect(()=>()=>{ba.set(e,!1)},[e]),l}function Hf(){const{store:t}=vt(),e=t.useContentAreaId(ds.HeaderBottom);let o;switch(e){case _i.DallePromptControls:o=s.jsx($f,{});break;default:o=null;break}return o}const Wf=Wt(()=>Ht(()=>import("./nev4l63brdsi6au6.js"),__vite__mapDeps([11,1,3,4,2,5])).then(t=>t.default));function $f(){const{store:t}=vt(),e=t.useSharedProps(o=>o==null?void 0:o.composerController);return e?s.jsx(Wf,{composerController:e}):null}function qf(){const t=Ve(),{store:e}=vt(),o=e.useSharedProps(d=>d==null?void 0:d.clientThreadId),n=fu(t),r=gu(t);return o?n?s.jsx(hu,{threadId:o,showSignUp:r}):s.jsx(_u,{threadId:o,showLogin:r}):null}function Vf(){return C.useEffect(()=>()=>{Ks.getItem(Ys.TasksHasSeenProjectDisclaimerBanner)||Ks.setItem(Ys.TasksHasSeenProjectDisclaimerBanner,!0)},[]),s.jsx(yu,{icon:s.jsx(pl,{}),title:s.jsx(ts,{id:"ibX3g7",defaultMessage:"Tasks can’t access project files"}),content:s.jsx(ts,{id:"fm94Tm",defaultMessage:"There’s a task in this conversation — just FYI, it won’t be able to access project files."}),onDismiss:()=>{Ks.setItem(Ys.TasksHasSeenProjectDisclaimerBanner,!0)}})}function Jf(){const{store:t}=vt(),e=t.useSharedProps(o=>o==null?void 0:o.clientThreadId);return e?s.jsx(bu,{threadId:e}):null}function Kf(){const{store:t}=vt(),e=t.useSharedProps(o=>o==null?void 0:o.clientThreadId);return e?s.jsx(xu,{threadId:e}):null}function Yf(){const{store:t}=vt(),e=t.useSharedProps();return e?s.jsx(Su,yt({},e)):null}function Qf(){const{store:t}=vt(),e=t.useSharedProps(n=>n==null?void 0:n.clientThreadId),o=t.useSharedProps(n=>n==null?void 0:n.composerController);return!e||!o?null:s.jsx(wu,{clientThreadId:e,composerController:o})}function Xf(){const{store:t}=vt(),e=t.useSharedProps(r=>r==null?void 0:r.openFileDialog),o=t.useSharedProps(r=>r==null?void 0:r.clientThreadId),n=t.useSharedProps(r=>r==null?void 0:r.composerController);return!o||!n||!e?null:s.jsx(ku,{clientThreadId:o,openFileDialog:e})}const Zf=5,eg=C.memo(function(e){return tg(e),sg(e),Cu({clientThreadId:e.clientThreadId,composerController:e.composerController,openFileDialog:e.openFileDialog}),og(),null});function tg(t){"use no forget";const{store:e}=vt(),o=e.useSetSharedProps();Go(()=>{o(t)},[t,o])}function sg(t){"use no forget";const{clientThreadId:e,canContinue:o}=t,{store:n}=vt(),r=Ve(),d=C.useRef({top:n.useContentAreaApi(ds.HeaderTop),bottom:n.useContentAreaApi(ds.HeaderBottom)}).current,i=Mu(e),{shouldShowBannerSignup:f,shouldShowBannerTermsDisclaimer:l}=ng(e),{isOpen:m}=Tu(),_=Au(e),x=vu(e),S=Iu(t);Pu(t);const c=ju(),g=Eu(t),{shouldShowMemoryFull:b}=Ru(e),{shouldShowMemoryAlmostFull:h}=Du(e),k=Bu(t),M=Nu(e),y=Ou(e),O=Uu(),{eligible:a}=xs(Lu),T=Fu(),E=zu(),U=Gu(),v=Hu(),{eligible:j}=xs(ns.hasSeenTeamSeatsPromoAnnouncement),H=Wu(e),u=$u(e),A=qu(),F=Vu({clientThreadId:e}),re=Ju(),Q=Ku(e),$=pe(()=>Ha(en(r,e)).id),w=Yu(e),J=to(),K=yi(r),{eligible:q}=xs(ns.hasSeenAgentModeAnnouncementBanner),Y=q&&K&&J!==Ho,ge=ml(),X=La(e),de=Qu({shouldBeEnabledForDefaultAssistant:X&&!ge,clientThreadId:e}),he=Cf(),P=de==="hscroll",ce=de==="image_gen_banner"&&he,_e=so()&&Xu(),ve=Zu(),Oe=(ve==null?void 0:ve.beacon_id)==="images_homepage_promo";Go(()=>{l?d.top.set(L.BannerTermsDisclaimer):m?d.top.set(L.NewUserBannerTermsDisclaimer):_e?d.top.set(L.IntegratedVoiceModeNuxBanner):$&&(w==null?void 0:w.kind)===Wa.GizmoInteraction&&w.gizmo&&fl($,w.gizmo)?d.top.set(L.ProjectConversationTaskNoFileAccess):k.eligible?d.top.set(L.AdvancedVoiceOnMobileAnnouncement):_?d.top.set(L.BannersRateLimit):x?d.top.set(L.BannersBeaconUI):F&&ep(r)?d.top.set(L.PlusFreeTrialHomepageAnnouncementBanner):A?d.top.set(L.BannerPlusUpsell):re?d.top.set(L.BannerNoAuthTrials):M?d.top.set(L.JawboneAnnouncement):y?d.top.set(L.JawboneMaxActiveAnnouncement):S.eligible?d.top.set(L.BannerSidekickAnnouncement):c?d.top.set(L.MoonshineAnnouncement):g?d.top.set(L.SearchBrowserExtensionReactiveAnnouncement):O?d.top.set(L.PromoRedemptionAnnouncement):a?d.top.set(L.OperatorAnnouncement):U?d.top.set(L.ReferralProgramUpsellAnnouncement):o?d.top.set(L.PromptTextareaAction):f?d.top.set(L.BannerSignup):b?d.top.set(L.BannerMemoryFull):h?d.top.set(L.BannerMemoryAlmostFull):T?d.top.set(L.ReferrerRedemptionAvailableAnnouncement):E?d.top.set(L.RefereeRedemptionAvailableAnnouncement):v?d.top.set(L.StudentsUpsellAnnouncement):j?d.top.set(L.TeamSeatsPromoAnnouncement):H?d.top.set(L.ModelDeprecationBanner):u?d.top.set(L.TeamsContextualAnswersUpsell):Q?d.top.set(L.LanguageUpsellBanner):Y?d.top.set(L.AgentModeAnnouncementBanner):P?d.top.set(L.StarterPrompts):ce?d.top.set(L.ImageGenBanner):Oe?d.top.set(L.ImageGenV2Banner):d.top.set(null)},[d,J,F,o,l,m,f,_,S,b,h,k,Y,j,P,ce,_e,Oe]),Go(()=>{i&&d.bottom.set(_i.DallePromptControls)},[d,i])}function og(){const{store:t}=vt();C.useEffect(()=>()=>{t.reset()},[t])}function ng(t){const e=Ve(),o=!ss(e),n=Qt(e,"3637408529",{disableExposureLog:!0}),d=Qt(e,"3637408529").get("no_auth_banner_signup_rate_limit",Zf),i=n.get("should_show_no_auth_signup_banner",!0),f=tp(S=>S.bannerDisclaimerClientThreadId),l=sp(),m={shouldShowBannerTermsDisclaimer:!1,shouldShowBannerSignup:!1},[_,x]=Dt(t,S=>{var c;return[mt.getConversationTurns(S).filter(g=>g.role===$a.User).length,ag((c=mt.getCurrentNode(S))==null?void 0:c.message)]});return t&&(m.shouldShowBannerTermsDisclaimer=x&&o&&_===1&&!l&&(f==null||f===t),m.shouldShowBannerSignup=i&&x&&o&&_>0&&_%d===0),m}function ag(t){return(t==null?void 0:t.author.role)===$a.Assistant&&gl(t)}const Bi="manage-prompts",ig=Wt(()=>Ht(()=>import("./g2euln7v5pbm31qa.js").then(t=>t.Dp),__vite__mapDeps([2,1,3,4,5])).then(t=>t.AgentNuxModal));function rg({hint:t,isHighlighted:e,onHighlight:o,onClick:n}){"use no forget";const r=ki(t.systemHint),d=s.jsx(Nl,{as:"div",hasManagedFocus:!0,disabled:r.isBlocked,highlighted:e,icon:s.jsx(Si,{hint:t,isNextToLabel:!0}),secondary:r.blockedLabel,onPointerMove:o,onClick:n,children:s.jsx("span",{className:"break-all",children:t.name})});return r.remainingLabel?s.jsx(an,{side:"right",labelTextAlign:r.isBlocked?"left":"center",label:r.remainingLabel,secondaryLabel:r.remainingLabelSecondary,contentClassName:"cant-hover:hidden",triggerAs:null,children:d}):d}const lg=Bl(t=>{var e,o,n,r;return ws(t)?{targets:[t.command,...(e=t.aliases)!=null?e:[],...(o=t.regexMatches)!=null?o:[],t.secondary?"".concat(t.title," ").concat(t.secondary):t.title],weight:t.matchWeight}:{targets:[t.systemHint,...(n=t.aliases)!=null?n:[],...(r=t.regexMatches)!=null?r:[],t.name]}});function cg(t){"use forget";const e=jt.c(125),{gptsAndAppsSlashCommands$:o,modelSlashCommands$:n,libraryPromptSlashCommands:r,slashCommands:d,systemHints:i,composerController:f,clientThreadId:l,layoutMode:m}=t,_=Ve(),x=ap(),S=Ua(),c=At(),g=m==="center"?"bottom-start":"top-start";let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=[jl({mainAxis:10,alignmentAxis:-18}),El({padding:6}),Rl({apply:gg})],e[0]=b):b=e[0];let h;e[1]!==g?(h={placement:g,middleware:b,whileElementsMounted:Ol},e[1]=g,e[2]=h):h=e[2];const{refs:k,floatingStyles:M}=Dl(h),[y,O]=C.useState(void 0);let a;e[3]!==f||e[4]!==k.setReference?(a=()=>{const D=rt(f);D.dispatch(Ul(D.state.tr,{setReferencePosition:k.setReference,onHintMatch(oe){O(ue=>Qa(ue,oe)?ue:oe)}}))},e[3]=f,e[4]=k.setReference,e[5]=a):a=e[5];let T;e[6]!==f||e[7]!==k?(T=[f,k],e[6]=f,e[7]=k,e[8]=T):T=e[8],C.useEffect(a,T);const E=ip(),U=Ya(l),{setThreadSystemHintMode:v,clearAllSystemHintModeTriggers:j}=rp(),H=eo($t);let u;e[9]!==o||e[10]!==y?(u=()=>y&&(o==null?void 0:o()),e[9]=o,e[10]=y,e[11]=u):u=e[11];const A=pe(u);let F;e[12]!==n?(F=()=>{var D;return(D=n==null?void 0:n())!=null?D:[]},e[12]=n,e[13]=F):F=e[13];const re=pe(F),Q=(y==null?void 0:y.triggerSymbol)==="@",$=(y==null?void 0:y.triggerSymbol)==="/";let w;e[14]!==_?(w=Va(_),e[14]=_,e[15]=w):w=e[15];const J=w;let K;e[16]!==_?(K=()=>{},e[16]=_,e[17]=K):K=e[17];const q=K;let Y;e:{if(H&&Q){let Ae;e[18]===Symbol.for("react.memo_cache_sentinel")?(Ae=[],e[18]=Ae):Ae=e[18],Y=Ae;break e}let D;e[19]!==A||e[20]!==Q?(D=Q?A:A==null?void 0:A.filter(fg),e[19]=A,e[20]=Q,e[21]=D):D=e[21];const oe=D;let ue;if(e[22]!==c||e[23]!==$||e[24]!==r||e[25]!==S||e[26]!==q||e[27]!==J){if(ue=[],$&&J)if(r&&r.length>0){let Ae;e[29]!==r?(Ae=[...r],e[29]=r,e[30]=Ae):Ae=e[30],ue.push(Ae);let Pe;e[31]!==c?(Pe=c.formatMessage({id:"composer.library.managePrompts",defaultMessage:"Manage prompts"}),e[31]=c,e[32]=Pe):Pe=e[32];let Je;e[33]!==S?(Je=()=>S("/library?tab=prompts&referer=at_cmd"),e[33]=S,e[34]=Je):Je=e[34];let ct;e[35]!==Pe||e[36]!==Je?(ct=[{command:Bi,title:Pe,icon:void 0,onSelect:Je}],e[35]=Pe,e[36]=Je,e[37]=ct):ct=e[37],ue.push(ct)}else{let Ae;e[38]!==c?(Ae=c.formatMessage({id:"composer.library.createPrompt",defaultMessage:"Create new prompt"}),e[38]=c,e[39]=Ae):Ae=e[39];let Pe;e[40]!==c?(Pe=c.formatMessage({id:"composer.library.createPromptDescription",defaultMessage:"Prompts are saved sequences of text that you can quickly add to your messages."}),e[40]=c,e[41]=Pe):Pe=e[41];let Je;e[42]!==q||e[43]!==Ae||e[44]!==Pe?(Je=[{command:"create-prompt",title:Ae,secondary:Pe,icon:void 0,onSelect:q}],e[42]=q,e[43]=Ae,e[44]=Pe,e[45]=Je):Je=e[45],ue.push(Je)}e[22]=c,e[23]=$,e[24]=r,e[25]=S,e[26]=q,e[27]=J,e[28]=ue}else ue=e[28];let N;e[46]!==oe?(N=oe!=null?oe:[],e[46]=oe,e[47]=N):N=e[47];let Ce;e[48]!==N?(Ce=[N],e[48]=N,e[49]=Ce):Ce=e[49];const Te=Ce;let lt;e[50]!==Te||e[51]!==m||e[52]!==ue?(lt=m==="bottom"?[...Te,...ue]:[...ue,...Te],e[50]=Te,e[51]=m,e[52]=ue,e[53]=lt):lt=e[53];const ot=lt;if(Q)Y=ot;else{let Ae;e[54]!==d||e[55]!==re||e[56]!==ot||e[57]!==i?(Ae=[d,i,re,...ot],e[54]=d,e[55]=re,e[56]=ot,e[57]=i,e[58]=Ae):Ae=e[58],Y=Ae}}const ge=Y;let X;e:{if(!y){let N;e[59]===Symbol.for("react.memo_cache_sentinel")?(N=[],e[59]=N):N=e[59];let Ce;e[60]===Symbol.for("react.memo_cache_sentinel")?(Ce=[],e[60]=Ce):Ce=e[60];let Te;e[61]===Symbol.for("react.memo_cache_sentinel")?(Te={displayGroups:N,suggestions:Ce},e[61]=Te):Te=e[61],X=Te;break e}let D,oe;if(e[62]!==ge||e[63]!==y.text||e[64]!==c||e[65]!==m){const N=y.text?[lp(ka(ge),y.text,lg,{locale:c.locale})]:ge.map(pg),Ce=m==="bottom"?N.reverse().map(ug):N;D=Ce,oe=ka(Ce),e[62]=ge,e[63]=y.text,e[64]=c,e[65]=m,e[66]=D,e[67]=oe}else D=e[66],oe=e[67];let ue;e[68]!==D||e[69]!==oe?(ue={displayGroups:D,suggestions:oe},e[68]=D,e[69]=oe,e[70]=ue):ue=e[70],X=ue}const{displayGroups:de,suggestions:he}=X,[P,ce]=C.useState(m==="bottom"?-1:0),_e=P==null?null:(P+he.length)%he.length;let ve;e[71]!==E||e[72]!==he?(ve=D=>{ce(oe=>{if(oe==null)return null;const ue=he.length;for(let N=0;N<ue;N++){const Ce=(oe+ue+(N+1)*D)%ue,Te=he[Ce];if(!("systemHint"in Te?E.includes(Te.systemHint):Te.disabled))return Ce}return null})},e[71]=E,e[72]=he,e[73]=ve):ve=e[73];const ee=Ss(ve),$e=he.length,ae=$e===0;let me;e[74]!==m||e[75]!==ee?(me=()=>{m==="bottom"?(ce(0),ee.current(-1)):(ce(-1),ee.current(1))},e[74]=m,e[75]=ee,e[76]=me):me=e[76];let Re;e[77]!==m||e[78]!==$e||e[79]!==ee?(Re=[$e,m,ee],e[77]=m,e[78]=$e,e[79]=ee,e[80]=Re):Re=e[80],C.useEffect(me,Re);const Ie=_e==null?null:he[_e];let Be;e[81]!==f||e[82]!==y?(Be=()=>{if(y!=null&&y.range){const D=rt(f);Ll(D,y.range.from,y.range.to)}},e[81]=f,e[82]=y,e[83]=Be):Be=e[83];const Ue=Be;let te;e[84]!==x||e[85]!==j||e[86]!==Ue||e[87]!==l||e[88]!==f||e[89]!==_||e[90]!==y||e[91]!==Ie||e[92]!==U||e[93]!==v?(te=D=>{var Pe;const{hintToSave:oe,expectPerfectMatch:ue}=D,N=oe===void 0?Ie:oe;if(!y||!N)return!1;const Ce=y.text.toLocaleLowerCase(),lt=(ws(N)?N.command:N.name).toLocaleLowerCase()===Ce||((Pe=N.aliases)==null?void 0:Pe.some(Je=>Je.toLocaleLowerCase()===Ce));if(ue&&!lt)return!1;if(Ue(),Hs(rt(f)),ws(N))return N.onSelect(),!0;ht.logEvent("System Hint Selected",{system_hint:N.systemHint,conversation_id:U!=null?U:jo});const ot={clientThreadId:l};j();const Ae=N.systemHint===ne.Search;return v(N.systemHint,!0,ot,Ae?Fl.CONVERSATION_COMPOSER_SLASH_SEARCH:zl.SLASH_COMMAND),N.systemHint===ne.Agent&&x==="show"&&cs(_,ig,{clientThreadId:l!=null?l:jo,source:"slash_agent"}),!0},e[84]=x,e[85]=j,e[86]=Ue,e[87]=l,e[88]=f,e[89]=_,e[90]=y,e[91]=Ie,e[92]=U,e[93]=v,e[94]=te):te=e[94];const De=te,Ge=Ss(De);let Le;e[95]!==f||e[96]!==ee||e[97]!==Ge||e[98]!==ae?(Le=()=>{const D=rt(f);return ae||Gl(D,oe=>{if(oe==="up")ee.current(-1);else if(oe==="down")ee.current(1);else if(oe==="cancel")Hs(D),Hl(D);else{if(oe==="submit")return Hs(D),Ge.current({expectPerfectMatch:!1});if(oe==="checkMatch")return Ge.current({expectPerfectMatch:!0})}}),()=>Hs(D)},e[95]=f,e[96]=ee,e[97]=Ge,e[98]=ae,e[99]=Le):Le=e[99];let se;e[100]!==Ue||e[101]!==f||e[102]!==ee||e[103]!==Ge||e[104]!==Ie||e[105]!==ae?(se=[f,ae,Ie,Ue,ee,Ge],e[100]=Ue,e[101]=f,e[102]=ee,e[103]=Ge,e[104]=Ie,e[105]=ae,e[106]=se):se=e[106],C.useEffect(Le,se);const ie=Ss(U);let le,V;if(e[107]!==ae||e[108]!==ie?(le=()=>{var D;ae||ht.logEvent("System Hint List Opened",{conversation_id:(D=ie.current)!=null?D:jo})},V=[ie,ae],e[107]=ae,e[108]=ie,e[109]=le,e[110]=V):(le=e[109],V=e[110]),C.useEffect(le,V),ae)return null;let B;e[111]!==k?(B=D=>k.setFloating(D),e[111]=k,e[112]=B):B=e[112];const ye=he.length>6?"max-h-[min(var(--radix-popper-available-height,50svh),--spacing(1.5)+5*var(--menu-item-height))]":"max-h-[var(--radix-popper-available-height,50svh)]";let be;e[113]!==ye?(be=ut("max-w-[min(var(--radix-popper-available-width,100vw),--spacing(100))] overflow-y-auto [scrollbar-width:none]",ye),e[113]=ye,e[114]=be):be=e[114];let G;e[115]!==f||e[116]!==de||e[117]!==De||e[118]!==_e?(G=de.map((D,oe)=>{let ue=0;for(let N=0;N<oe;N++)ue=ue+de[N].length;return s.jsx(dt.Group,{children:D.map((N,Ce)=>{const Te=ue+Ce;return ws(N)?s.jsx(cp,{command:N,isHighlighted:Te===_e,onHighlight:()=>ce(Te),onClick:()=>{De({hintToSave:N,expectPerfectMatch:!1}),Yt(rt(f))}},N.command):s.jsx(rg,{hint:N,isHighlighted:Te===_e,onHighlight:()=>ce(Te),onClick:()=>{De({hintToSave:N,expectPerfectMatch:!1}),Yt(rt(f))}},N.systemHint)})},oe)}),e[115]=f,e[116]=de,e[117]=De,e[118]=_e,e[119]=G):G=e[119];let Z;return e[120]!==M||e[121]!==B||e[122]!==be||e[123]!==G?(Z=s.jsx(Wl,{ref:B,style:M,className:be,onPointerDown:dg,children:G}),e[120]=M,e[121]=B,e[122]=be,e[123]=G,e[124]=Z):Z=e[124],Z}function dg(t){t.preventDefault()}function ug(t){return t.reverse()}function pg(t){return t.filter(mg)}function mg(t){return!ws(t)||!t.noMatchEmpty}function fg(t){return t.type!==Ko.App}function gg(t){const{elements:e,availableWidth:o,availableHeight:n}=t;e.floating.style.setProperty("--radix-popper-available-width","".concat(o,"px")),e.floating.style.setProperty("--radix-popper-available-height","".concat(n,"px"))}function hg(t){"use forget";var Ge,Le;const e=jt.c(104),{systemHints:o,availableSystemHints:n,composerController:r,clientThreadId:d,layoutMode:i,composerLayer:f,canUseInlineTagging:l,isFileUploadEnabled:m,fileUploadDisabledReason:_,currentModelConfig:x,openFileDialog:S,connectionInstanceData:c,setActiveSystemHintType:g,selectModelId:b,gizmoId:h,hasGizmoFeatureRateLimit:k,setSelectedGizmoTag:M}=t,y=Ve();let O;e[0]!==d||e[1]!==y?(O=en(y,d),e[0]=d,e[1]=y,e[2]=O):O=e[2];const a=O,T=At(),E=Ua(),{connectedTypes:U}=hl(),v=Xo();let j;e[3]!==v?(j=v!=null&&_l(v),e[3]=v,e[4]=j):j=e[4];const H=j;let u;e[5]!==y?(u=()=>tn(y),e[5]=y,e[6]=u):u=e[6];const A=pe(u),{isSingleLine:F,showModelSlashCommands:re}=f,Q=qa();let $;e[7]===Symbol.for("react.memo_cache_sentinel")?($={onError:Ag},e[7]=$):$=e[7];const{mutate:w}=yl($);c==null||c.connection_statuses;let J;if(e[8]!==d||e[9]!==U||e[10]!==(c==null?void 0:c.connection_statuses)||e[11]!==y||e[12]!==(x==null?void 0:x.title)||e[13]!==_||e[14]!==T||e[15]!==A||e[16]!==m||e[17]!==H||e[18]!==F||e[19]!==E||e[20]!==S||e[21]!==g||e[22]!==o){if(J=[],F){let V;e[24]===Symbol.for("react.memo_cache_sentinel")?(V=["file","attach","photo"],e[24]=V):V=e[24];const B=!m,ye=x==null?void 0:x.title;let be;e[25]!==y||e[26]!==_||e[27]!==T||e[28]!==B||e[29]!==ye?(be=bi(y,T,B,_,ye),e[25]=y,e[26]=_,e[27]=T,e[28]=B,e[29]=ye,e[30]=be):be=e[30];let G;e[31]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(xi,{"aria-label":"",className:"icon"}),e[31]=G):G=e[31];const Z=!m;let D;e[32]!==S||e[33]!==Z||e[34]!==be?(D={command:"upload",aliases:V,title:be,icon:G,onSelect:S,disabled:Z},e[32]=S,e[33]=Z,e[34]=be,e[35]=D):D=e[35],J.push(D)}let se;e[36]!==(c==null?void 0:c.connection_statuses)?(se=(Ge=c==null?void 0:c.connection_statuses.filter(Tg).map(Mg))!=null?Ge:[],e[36]=c==null?void 0:c.connection_statuses,e[37]=se):se=e[37];const ie=se,le=o==null?void 0:o.some(Cg);if(H&&(U.size>0||ie.length>0)&&le){let V;e[38]!==T?(V=T.formatMessage({id:"6YT2cp",defaultMessage:"Use all connectors"}),e[38]=T,e[39]=V):V=e[39];let B;e[40]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(op,{}),e[40]=B):B=e[40];let ye;e[41]!==d||e[42]!==ie||e[43]!==U||e[44]!==g?(ye=()=>{g(ne.Slurm,{analyticsMetadata:{clientThreadId:d}}),Kt(d,G=>{var D,oe;const Z=(oe=(D=G.selectedSources)==null?void 0:D.get(ne.Slurm))!=null?oe:new Set;G.selectedSources==null&&(G.selectedSources=new Map),G.selectedSources.set(ne.Slurm,new Set([...Z,...U,...ie]))})},e[41]=d,e[42]=ie,e[43]=U,e[44]=g,e[45]=ye):ye=e[45];let be;e[46]!==V||e[47]!==ye?(be={command:"all-connectors",title:V,icon:B,noMatchEmpty:!0,onSelect:ye},e[46]=V,e[47]=ye,e[48]=be):be=e[48],J.push(be)}if(A){let V;e[49]===Symbol.for("react.memo_cache_sentinel")?(V=["mcp"],e[49]=V):V=e[49];let B;e[50]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(np,{}),e[50]=B):B=e[50];let ye;e[51]!==E?(ye={command:"add-mcp",aliases:V,title:"Add MCP",icon:B,noMatchEmpty:!0,onSelect:()=>{E(xl(Ja.Connectors))}},e[51]=E,e[52]=ye):ye=e[52],J.push(ye)}e[8]=d,e[9]=U,e[10]=c==null?void 0:c.connection_statuses,e[11]=y,e[12]=x==null?void 0:x.title,e[13]=_,e[14]=T,e[15]=A,e[16]=m,e[17]=H,e[18]=F,e[19]=E,e[20]=S,e[21]=g,e[22]=o,e[23]=J}else J=e[23];const K=J;let q;e[53]!==a||e[54]!==b||e[55]!==re?(q=Xs(()=>{if(!re)return[];const se=sn(a),ie=[];for(const le of se.categories)le.defaultModel!==se.defaultModelSlug&&ie.push({command:le.defaultModel,title:le.label,disabled:!1,icon:s.jsx(wa,{className:"icon"}),onSelect:()=>{b(le.defaultModel,"slash menu")}});for(const le of se.groups)for(const V of le.modelIds){const B=se.models.get(V);if(B&&!B.tags.includes(Sl.HIDDEN)){let ye=B.title;ie.push({command:B.id,title:ye,secondary:void 0,trailing:s.jsx(wl,{children:le.label}),noMatchEmpty:!0,matchWeight:.1,disabled:!1,icon:s.jsx(wa,{className:"icon"}),onSelect:()=>{b(B.id,"slash menu")}})}}return ie}),e[53]=a,e[54]=b,e[55]=re,e[56]=q):q=e[56];const Y=q;let ge;e[57]!==n?(ge=n!=null?n:[],e[57]=n,e[58]=ge):ge=e[58];let X;e[59]!==ge?(X=ge.filter(kg),e[59]=ge,e[60]=X):X=e[60];const de=X;let he;e[61]!==n?(he=n!=null?n:[],e[61]=n,e[62]=he):he=e[62];let P;e[63]!==he?(P=he.filter(wg),e[63]=he,e[64]=P):P=e[64];const ce=P;let _e;e[65]!==Q||e[66]!==ce||e[67]!==l||e[68]!==d||e[69]!==y||e[70]!==h||e[71]!==k||e[72]!==M?(_e=Xs(()=>{var G,Z,D,oe,ue;if(!l)return[];const{data:se}=kl(y),{data:ie}=Cl(y),{data:le}=Ml(y),V=on([...(G=se==null?void 0:se.items)!=null?G:[],...(D=(Z=ie==null?void 0:ie.list.items)==null?void 0:Z.map(Sg))!=null?D:[],...Tt(y,"773249106")?(ue=(oe=le==null?void 0:le.items)==null?void 0:oe.map(xg))!=null?ue:[]:[]],bg),B=h?V.filter(N=>N.gizmo.id!==h):V,ye=ce.map(N=>{var Ce,Te;return{command:(Ce=N.actionLabel)!=null?Ce:N.name,title:(Te=N.actionLabel)!=null?Te:N.name,type:Ko.App,icon:s.jsx(Si,{hint:N,isNextToLabel:!0}),onSelect:()=>{Q(N.systemHint),Tl(N.systemHint,vl.AtMention,Al({clientThreadId:d}))}}}),be=B.map(N=>{var Ce;return{command:N.gizmo.display.name,title:N.gizmo.display.name,type:Ko.Gizmo,disabled:k,icon:s.jsx(wi,{simple:!0,isFirstParty:((Ce=N.gizmo.tags)==null?void 0:Ce.includes(nn.FirstParty))===!0,src:N.gizmo.display.profile_picture_url,className:"icon",alt:""}),onSelect:()=>{ht.logEventWithStatsig("Composer GPT Selected","chatgpt_web_composer_gpt_selected",{gizmo:N.gizmo.id}),M(N)}}}).filter(N=>!ye.some(Ce=>Ce.command===N.command));return[...ye,...be]}),e[65]=Q,e[66]=ce,e[67]=l,e[68]=d,e[69]=y,e[70]=h,e[71]=k,e[72]=M,e[73]=_e):_e=e[73];const ve=_e;let Oe;e[74]!==y?(Oe=Va(y),e[74]=y,e[75]=Oe):Oe=e[75];const ee=Oe;let $e;e[76]!==ee?($e={enabled:ee},e[76]=ee,e[77]=$e):$e=e[77];const{data:ae,isLoading:me}=bl($e);let Re;e[78]!==d||e[79]!==r||e[80]!==a||e[81]!==w||e[82]!==E||e[83]!==g?(Re=se=>{var le,V,B;const ie=rt(r);if(Il(ie,"@"),se===Bi){E("/library?tab=prompts");return}if(se.id&&!se.created_by_openai&&w(String(se.id)),Ka.set(a,!0),ht.logEventWithStatsig("chatgpt_web_prompt_used","chatgpt_web_prompt_used",{referer:"at_cmd",hint:(le=se.system_hint)!=null?le:"none",sources:((V=se.sources)!=null?V:[]).join(",")}),Pl(ie,se.prompt),se.system_hint&&(g(se.system_hint),(B=se.sources)!=null&&B.length)){const ye=se.sources.map(yg).filter(Wo),be=se.system_hint,G=new Set(ye.filter(_g)),Z=new Set(ye.filter(zt));Kt(d,D=>{D.selectedSources=new Map([[be,G]]),D.selectedMCPSources=new Map([[be,Z]]),D.hasModifiedSources=!0})}},e[78]=d,e[79]=r,e[80]=a,e[81]=w,e[82]=E,e[83]=g,e[84]=Re):Re=e[84];const Ie=Re;let Be;e:{if(me||ae==null||!ee){let le;e[85]===Symbol.for("react.memo_cache_sentinel")?(le=[],e[85]=le):le=e[85],Be=le;break e}let se;e[86]!==ae.pages[0].prompts?(se=(Le=ae.pages[0].prompts)!=null?Le:[],e[86]=ae.pages[0].prompts,e[87]=se):se=e[87];let ie;if(e[88]!==Ie||e[89]!==se){let le;e[91]!==Ie?(le=V=>({command:V.name,title:V.name,icon:void 0,onSelect:()=>{Ie(V)}}),e[91]=Ie,e[92]=le):le=e[92],ie=se.map(le),e[88]=Ie,e[89]=se,e[90]=ie}else ie=e[90];Be=ie}const Ue=Be;let te;e[93]!==de?(te=de!=null?de:[],e[93]=de,e[94]=te):te=e[94];let De;return e[95]!==d||e[96]!==r||e[97]!==ve||e[98]!==i||e[99]!==Ue||e[100]!==Y||e[101]!==K||e[102]!==te?(De=s.jsx(cg,{gptsAndAppsSlashCommands$:ve,modelSlashCommands$:Y,libraryPromptSlashCommands:Ue,slashCommands:K,systemHints:te,composerController:r,clientThreadId:d,layoutMode:i}),e[95]=d,e[96]=r,e[97]=ve,e[98]=i,e[99]=Ue,e[100]=Y,e[101]=K,e[102]=te,e[103]=De):De=e[103],De}function _g(t){return!zt(t)}function yg(t){return t.trim()}function bg(t){return t.gizmo.id}function xg(t){return t.gizmo}function Sg(t){return t.resource}function wg(t){return t.isConnector}function kg(t){return!(t.isConnector&&t.hideFromInitialSelection)}function Cg(t){return t.systemHint===ne.Slurm}function Mg(t){return t.user_connection_details.connection_type}function Tg(t){return t.user_connection_details.activation_status==="activated"&&["google_drive_oauth","google_drive_dwd"].includes(t.user_connection_details.knowledge_connector_type)}function Ag(){}function vg(t){"use forget";const e=jt.c(37),{clientThreadId:o,modelSupportedImageMimeTypes:n,openFileDialog:r,historyDisabled:d,isDisabled:i,highlightTooltip:f,disabledReason:l,currentModelName:m,isLoadingConnectors:_,connectorConfig:x,onSelectConnector:S,showLabel:c,showUpsell:g,hideBorder:b,isSmall:h,showMenuForNoAuth:k,visualTreatment:M,openDropdown:y,setOpenDropdown:O}=t,a=Ve(),T=$l();let E;e[0]!==a?(E=ql(a),e[0]=a,e[1]=E):E=e[1];const{gdriveStatus:U,o365Status:v}=E;let j;e[2]!==a?(j=ss(a),e[2]=a,e[3]=j):j=e[3];const H=!j,u=d?"text-white":f?"text-brand-blue-800":"",A=!g&&(U!=="false"||v!=="false"||T);let F;e[4]!==a?(F=()=>rn(a),e[4]=a,e[5]=F):F=e[5];const{loggedOutAttachPlusIcon:re}=pe(F),Q=H&&!re?xi:dp;let $;e[6]!==u?($=ut("icon",u),e[6]=u,e[7]=$):$=e[7];let w;e[8]!==Q||e[9]!==$?(w=s.jsx(Q,{"aria-label":"",className:$}),e[8]=Q,e[9]=$,e[10]=w):w=e[10];const J=w,K=n.length>0;let q;e[11]!==o||e[12]!==x||e[13]!==m||e[14]!==l||e[15]!==b||e[16]!==f||e[17]!==J||e[18]!==i||e[19]!==_||e[20]!==h||e[21]!==H||e[22]!==n||e[23]!==K||e[24]!==S||e[25]!==y||e[26]!==r||e[27]!==O||e[28]!==A||e[29]!==c||e[30]!==k||e[31]!==g||e[32]!==M?(q=A?s.jsx(up,{clientThreadId:o,icon:J,showLabel:H&&c,modelSupportedImageMimeTypes:n,isLoadingConnectors:_,connectorConfig:x,onSelectConnector:S,openFileDialog:r,isDisabled:i,highlightTooltip:f,disabledReason:l,currentModelName:m,open:y,setOpen:O}):s.jsx(yf,{isSmall:h,hideBorder:b,clientThreadId:o,openFileDialog:r,showLabel:c,showUpsell:g,icon:J,isDisabled:i,highlightTooltip:f,disabledReason:l,currentModelName:m,visualTreatment:M,showMenuForNoAuth:k,modelSupportsImages:K,open:y,setOpen:O}),e[11]=o,e[12]=x,e[13]=m,e[14]=l,e[15]=b,e[16]=f,e[17]=J,e[18]=i,e[19]=_,e[20]=h,e[21]=H,e[22]=n,e[23]=K,e[24]=S,e[25]=y,e[26]=r,e[27]=O,e[28]=A,e[29]=c,e[30]=k,e[31]=g,e[32]=M,e[33]=q):q=e[33];const Y=q;let ge;return e[34]!==Y||e[35]!==f?(ge=s.jsx(pp,{showBackground:f,className:"bg-brand-blue-800/20",children:Y}),e[34]=Y,e[35]=f,e[36]=ge):ge=e[36],ge}const Oa=Wt(()=>Ht(()=>import("./kzwk89sl7ldvvuvg.js"),__vite__mapDeps([12,1,3,4,2,5,13,14])).then(t=>t.ConnectorsOnboardingModal)),Vs=6,Ig=(t,e=!1,{systemHintType:o}={})=>{const n=t.some(l=>!l.disabled),r=e?[...t]:n?t.filter(l=>!l.disabled):[...t],d=Gt(o),i=d?new Set(ai()):null,f=l=>!i||!l.connectorType?0:i.has(l.connectorType)?1:0;return r.sort((l,m)=>{if(l.connected&&!m.connected)return-1;if(!l.connected&&m.connected)return 1;if(l!=null&&l.isAutoConnected&&!(m!=null&&m.isAutoConnected)||l.type==="web"&&m.type!=="web")return-1;if(l.type!=="web"&&m.type==="web"||e&&l.disabled&&!m.disabled)return 1;if(e&&!l.disabled&&m.disabled||l.isEcosystemConnector&&!m.isEcosystemConnector)return-1;if(!l.isEcosystemConnector&&m.isEcosystemConnector)return 1;if(d&&!l.connected&&!m.connected){const _=f(l),x=f(m);if(_!==x)return x-_}return l.name.localeCompare(m.name)}),r},no=t=>{window.open(t,"","noopener,noreferrer")};function Xt(t){switch(t.user_connection_details.activation_status){case"activated":case"partially_activated":return!0;case"activating":case"inactive":return!1}}function Pg(t){return t.user_connection_details.auth_status==="admin_connected"||t.user_connection_details.auth_status==="user_connected"}const jg=new Set(["slack_sync_connector","github_sync_connector","notion_sync_connector","sharepoint_admin_sync_connector","teams_admin_sync_connector","confluence_sync_connector","jira_sync_connector","jira_servicemanagement_sync_connector"]),Eg=t=>{"use forget";var pt,Et,Ze,nt,Mt,at;const e=jt.c(184),{isLoading:o,clientThreadId:n,enabledConnectors:r,enabledEcosystemConnectors:d,includeWebSearch:i,includeCloudBrowser:f,includeSyncConnectors:l,connectorFilterFn:m,connectorConfigMap:_,fetchValidLinksOnly:x,systemHintType:S,selectedSources:c,selectedMCPSources:g,showConnectMore:b,toggleSource:h,contentRef:k,isDeveloperMode:M,defaultAutoConnectors:y}=t,O=o===void 0?!1:o,a=i===void 0?!0:i,T=f===void 0?!1:f,E=l===void 0?!1:l,U=b===void 0?!0:b,v=Ve();let j;e[0]!==c?(j=c==null?void 0:c.has("cloud"),e[0]=c,e[1]=j):j=e[1];const H=!!j;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=Zs(),e[2]=u):u=e[2];const A=u;let F;e[3]!==v?(F=()=>$t(v),e[3]=v,e[4]=F):F=e[4];const re=pe(F),$=S==="agent"&&A&&!H,w=At(),J=oi(),{openSettings:K}=yp(),q=Dt(n,Bg);let Y;e[5]!==J||e[6]!==M?(Y=(J==null?void 0:J.isWorkspacePlan())&&M,e[5]=J,e[6]=M,e[7]=Y):Y=e[7];const ge=Y,X=!M||q===!1&&!ge,de=q===!0&&!ge;let he;e[8]!==x?(he={fetchValidLinksOnly:x},e[8]=x,e[9]=he):he=e[9];const{connectorLinks:P,isLoading:ce}=Xa(he);let _e;e[10]!==v?(_e=cn(v),e[10]=v,e[11]=_e):_e=e[11];const ve=_e;let Oe;e[12]!==v||e[13]!==E?(Oe=()=>ln.if$(v,E),e[12]=v,e[13]=E,e[14]=Oe):Oe=e[14];const{data:ee,isLoading:$e}=pe(Oe);let ae;if(e[15]!==(ee==null?void 0:ee.connection_statuses)||e[16]!==m){e:{const xe=on((pt=ee==null?void 0:ee.connection_statuses)!=null?pt:[],Ng);if(m){ae=(Et=xe==null?void 0:xe.filter(je=>m(je.user_connection_details.connection_type)))!=null?Et:[];break e}ae=xe!=null?xe:[]}e[15]=ee==null?void 0:ee.connection_statuses,e[16]=m,e[17]=ae}else ae=e[17];const me=ae;let Re;e[18]!==me?(Re=new Set(me.map(Og).filter(Ug)),e[18]=me,e[19]=Re):Re=e[19];const Ie=Re;let Be;e[20]!==me?(Be=me.some(Lg),e[20]=me,e[21]=Be):Be=e[21];const Ue=Be;let te;e[22]!==me?(te=me.some(Fg),e[22]=me,e[23]=te):te=e[23];const De=te;let Ge;e[24]!==d?(Ge=new Set((d!=null?d:[]).map(zg)),e[24]=d,e[25]=Ge):Ge=e[25];const Le=Ge;let se;if(e[26]!==r||e[27]!==Le){let xe;e[29]!==Le?(xe=je=>{var Ee;return!((Ee=je.branding)!=null&&Ee.is_discoverable_app)||je.conformance.implements_retrievable||typeof je.type=="string"&&Le.has(je.type)},e[29]=Le,e[30]=xe):xe=e[30],se=r.filter(xe),e[26]=r,e[27]=Le,e[28]=se}else se=e[28];const ie=se;let le;e:{if(!E){let fe;e[31]!==_||e[32]!==P||e[33]!==ie?(fe={enabledConnectors:ie,connectorConfigMap:_,connectorLinks:P},e[31]=_,e[32]=P,e[33]=ie,e[34]=fe):fe=e[34],le=fe;break e}const xe=os[st.GDRIVE_ACTION_CONNECTOR];let je;e[35]!==P?(je=P.has(xe),e[35]=P,e[36]=je):je=e[36];const Ee=je;let Qe;e[37]!==me?(Qe=me.some(Gg),e[37]=me,e[38]=Qe):Qe=e[38];const it=Qe;let et;e[39]!==me?(et=me.some(Hg),e[39]=me,e[40]=et):et=e[40];const z=et;let we,Se,ke;if(e[41]!==_||e[42]!==P||e[43]!==ie||e[44]!==z||e[45]!==Ee||e[46]!==it||e[47]!==Ue||e[48]!==De||e[49]!==w||e[50]!==me){if(ke=[...ie],we=new Map(_),Se=new Map(P),Ee&&!ke.some(Wg)&&!it){ke.push({id:os[st.GDRIVE_ACTION_CONNECTOR],type:st.GDRIVE_ACTION_CONNECTOR,name:"Google Drive",description:"",logo_url:bp,connector_type:"SERVICE",service:"",base_url:null,actions:[],supported_auth:[],owners:[],access_list:[],conformance:{implements_retrievable:!0}});let fe;e[54]!==w?(fe=w.formatMessage(xt.contactAdmin),e[54]=w,e[55]=fe):fe=e[55];let Fe;e[56]!==fe?(Fe={disabled:!0,disabledText:fe,hasBetaTag:!1},e[56]=fe,e[57]=Fe):Fe=e[57],we.set(st.GDRIVE_ACTION_CONNECTOR,Fe),Se.delete(xe)}else z&&(ke=ke.filter(fe=>{var Fe;if(fe.type===st.GDRIVE_ACTION_CONNECTOR){const Xe=(Fe=Se.get(fe.id))==null?void 0:Fe[0];if(me.some(qe=>qe.user_connection_details.backing_link_id===(Xe==null?void 0:Xe.id))||fe.type===st.GDRIVE_ACTION_CONNECTOR)return!1}return!0}));me.forEach(fe=>{Xt(fe)&&fe.user_connection_details.backing_link_id?Se.forEach((Fe,Xe)=>{Fe.some(qe=>qe.id===fe.user_connection_details.backing_link_id)&&(ke=ke.filter(qe=>qe.id!==Xe))}):Ue?ke=ke.filter($g):De&&(ke=ke.filter(qg))}),e[41]=_,e[42]=P,e[43]=ie,e[44]=z,e[45]=Ee,e[46]=it,e[47]=Ue,e[48]=De,e[49]=w,e[50]=me,e[51]=we,e[52]=Se,e[53]=ke}else we=e[51],Se=e[52],ke=e[53];let He;e[58]!==we||e[59]!==Se||e[60]!==ke?(He={enabledConnectors:ke,connectorConfigMap:we,connectorLinks:Se},e[58]=we,e[59]=Se,e[60]=ke,e[61]=He):He=e[61],le=He}const{enabledConnectors:V,connectorConfigMap:B,connectorLinks:ye}=le;let be;e[62]!==V?(be=V.some(Vg),e[62]=V,e[63]=be):be=e[63];const G=be;let Z;e[64]!==v||e[65]!==G?(Z=()=>({data:void 0,isLoading:!1,isSuccess:!1,error:void 0}),e[64]=v,e[65]=G,e[66]=Z):Z=e[66];const D=pe(Z);let oe;if(e[67]!==P||e[68]!==ie||e[69]!==ve||e[70]!==Le||e[71]!==n||e[72]!==B||e[73]!==m||e[74]!==ye||e[75]!==k||e[76]!==v||e[77]!==y||e[78]!==de||e[79]!==X||e[80]!==$||e[81]!==V||e[82]!==Ue||e[83]!==De||e[84]!==T||e[85]!==E||e[86]!==a||e[87]!==w||e[88]!==H||e[89]!==g||e[90]!==c||e[91]!==D||e[92]!==me||e[93]!==Ie||e[94]!==S||e[95]!==h){const xe=[];if(a){const z=de||$;let we;e[97]!==c?(we=c==null?void 0:c.has("web"),e[97]=c,e[98]=we):we=e[98];let Se;e[99]!==h?(Se=()=>{h("web")},e[99]=h,e[100]=Se):Se=e[100];let ke;e[101]!==w?(ke=w.formatMessage(xt.webSearch),e[101]=w,e[102]=ke):ke=e[102];let He;e[103]!==z||e[104]!==we||e[105]!==Se||e[106]!==ke?(He=s.jsx(dt.CheckboxItem,{icon:Ci,disabled:z,checked:we,onCheckedChange:Se,children:ke}),e[103]=z,e[104]=we,e[105]=Se,e[106]=ke,e[107]=He):He=e[107],xe.push({connected:!0,type:"web",name:"web",element:He})}if(T){let z;e[108]!==h?(z=()=>{h("cloud")},e[108]=h,e[109]=z):z=e[109];let we;e[110]!==w?(we=w.formatMessage(xt.cloudBrowser),e[110]=w,e[111]=we):we=e[111];let Se;e[112]!==de||e[113]!==H||e[114]!==z||e[115]!==we?(Se=s.jsx(dt.CheckboxItem,{icon:Mi,disabled:de,checked:H,onCheckedChange:z,children:we}),e[112]=de,e[113]=H,e[114]=z,e[115]=we,e[116]=Se):Se=e[116],xe.push({connected:!0,type:"cloud",name:"cloud",element:Se})}E&&me.forEach(z=>{var Fe,Xe,qe,ft;if(m&&!m(z.user_connection_details.connection_type))return;const we=(Fe=B==null?void 0:B.get("sync_connector"))==null?void 0:Fe.disabled,Se=z.user_connection_details.backing_link_id,ke=Se?[...ye.keys()].find(tt=>{var Nt;return(Nt=ye.get(tt))==null?void 0:Nt.some(qt=>qt.id===Se)}):null,He=ke?(Xe=ie.find(tt=>tt.id===ke))==null?void 0:Xe.type:null;if(z.user_connection_details.connection_type==="gdrive_sync_connector"&&!Xt(z))return;if(!Xt(z)&&z.user_connection_details.backing_link_id&&He)return;if(z.user_connection_details.connection_type==="github_sync_connector")return;if(!Pg(z)&&!jg.has(z.user_connection_details.connection_type))return;if(Ue&&z.user_connection_details.connection_type==="sharepoint_sync_connector")return;if(De&&z.user_connection_details.connection_type==="teams_admin_sync_connector"||z.user_connection_details.auth_status==="admin_managed_disconnected")return;const fe=z.user_connection_details.auth_status==="admin_connected"?z.user_connection_details.activation_status!=="inactive":z.user_connection_details.auth_status!=="not_connected";xe.push({connected:fe,type:"sync",name:oo(z),connectorType:z.user_connection_details.connection_type,element:s.jsx(Oi,{connection:z,disabled:we||$,disabledText:we?(qe=B==null?void 0:B.get("sync_connector"))==null?void 0:qe.disabledText:w.formatMessage(xt.connectorsNeedCloudBrowserDisabledText),isSelectedInSource:(ft=c==null?void 0:c.has(z.user_connection_details.connection_type))!=null?ft:!1,location:"user_dropdown",refetch:()=>ta(v),showDetails:Ie.has(z.user_connection_details.connection_type),toggleSource:tt=>{He&&c.has(He)&&h(He),h(tt)}},z.user_connection_details.connection_instance_id)})}),c&&V.forEach(z=>{var He,fe,Fe,Xe,qe,ft,tt,Nt;const Se=!!((He=ye.get(z.id))==null?void 0:He[0]),ke=void 0;if(z.type===ni.MCP_CONNECTOR)xe.push({connected:Se,type:"access",name:z.name,connectorType:z.type,element:s.jsx(Rg,{connector:z,connectorLinks:ye,selectedMCPSources:g,toggleSource:h,systemHintType:S,disabled:z.status==="ONLY_ME"&&X||z.status!=="ONLY_ME"&&de||$})});else{let qt=de||((Fe=(fe=B==null?void 0:B.get(z.type))==null?void 0:fe.disabled)!=null?Fe:!1),Zt=qt?(Xe=B==null?void 0:B.get(z.type))==null?void 0:Xe.disabledText:void 0;if(z.status==="DISABLED_BY_ADMIN"?(qt=!0,Zt=w.formatMessage(sa.disabledByAdmin)):$&&(qt=!0,Zt=w.formatMessage(xt.connectorsNeedCloudBrowserDisabledText)),z.type===st.GITHUB_CONNECTOR)return;const ao=ve.includes(z.type)&&S===ne.Slurm,Ot=y==null?void 0:y.includes(z.type),ps=typeof z.type=="string"&&Le.has(z.type)&&!!((qe=z.branding)!=null&&qe.is_discoverable_app)&&!z.conformance.implements_retrievable;xe.push({connected:Se,disabled:qt,type:"access",name:z.name,isAutoConnected:ao||Ot,connectorType:z.type,isEcosystemConnector:ps,element:s.jsx(Ni,{connector:z,syncProgress:ke,connectorLink:(ft=ye.get(z.id))==null?void 0:ft[0],disabled:qt,disabledText:Zt,hasBetaTag:(tt=B==null?void 0:B.get(z.type))==null?void 0:tt.hasBetaTag,isSelectedInSource:(Nt=c.has(z.type))!=null?Nt:!1,systemHintType:S,toggleSource:h,isDefaultAutoConnected:Ot})})}});let je;e[117]!==ie||e[118]!==c?(je=c&&ie.find(Jg),e[117]=ie,e[118]=c,e[119]=je):je=e[119];let Ee=je;m&&!m(st.GITHUB_CONNECTOR)&&(Ee=void 0);let Qe;e[120]!==E||e[121]!==me?(Qe=E?me.find(Kg):void 0,e[120]=E,e[121]=me,e[122]=Qe):Qe=e[122];const it=Qe;if(Ee||it){const z=it&&it.user_connection_details.auth_status!=="not_connected"&&it.user_connection_details.activation_status!=="inactive";let we;e[123]!==P?(we=(Ze=P.get(Jl))==null?void 0:Ze[0],e[123]=P,e[124]=we):we=e[124];const Se=we,ke=Ee&&!!Se;let He;e[125]!==B||e[126]!==de?(He=de||((Mt=(nt=B==null?void 0:B.get(st.GITHUB_CONNECTOR))==null?void 0:nt.disabled)!=null?Mt:!1),e[125]=B,e[126]=de,e[127]=He):He=e[127];let fe=He,Fe;e[128]!==B||e[129]!==fe?(Fe=fe?(at=B==null?void 0:B.get(st.GITHUB_CONNECTOR))==null?void 0:at.disabledText:void 0,e[128]=B,e[129]=fe,e[130]=Fe):Fe=e[130];let Xe=Fe;if((Ee==null?void 0:Ee.status)==="DISABLED_BY_ADMIN"){fe=!0;let tt;e[131]!==w?(tt=w.formatMessage(sa.disabledByAdmin),e[131]=w,e[132]=tt):tt=e[132],Xe=tt}else if($){fe=!0;let tt;e[133]!==w?(tt=w.formatMessage(xt.connectorsNeedCloudBrowserDisabledText),e[133]=w,e[134]=tt):tt=e[134],Xe=tt}let qe;e[135]!==v?(qe=()=>ta(v),e[135]=v,e[136]=qe):qe=e[136];let ft;e[137]!==n||e[138]!==Se||e[139]!==k||e[140]!==Xe||e[141]!==fe||e[142]!==Ee||e[143]!==it||e[144]!==c||e[145]!==S||e[146]!==qe||e[147]!==h?(ft=s.jsx(Dg,{clientThreadId:n,githubSyncConnection:it,githubAccessConnector:Ee,connectorLink:Se,selectedSources:c,toggleSource:h,systemHintType:S,refetch:qe,contentRef:k,disabled:fe,disabledText:Xe}),e[137]=n,e[138]=Se,e[139]=k,e[140]=Xe,e[141]=fe,e[142]=Ee,e[143]=it,e[144]=c,e[145]=S,e[146]=qe,e[147]=h,e[148]=ft):ft=e[148],xe.push({disabled:fe,connected:!!z||!!ke,type:z?"sync":"access",name:"GitHub",connectorType:st.GITHUB_CONNECTOR,element:ft})}oe=Ig(xe,de||X,{systemHintType:S}).reduce(Yg,[[],[]]),e[67]=P,e[68]=ie,e[69]=ve,e[70]=Le,e[71]=n,e[72]=B,e[73]=m,e[74]=ye,e[75]=k,e[76]=v,e[77]=y,e[78]=de,e[79]=X,e[80]=$,e[81]=V,e[82]=Ue,e[83]=De,e[84]=T,e[85]=E,e[86]=a,e[87]=w,e[88]=H,e[89]=g,e[90]=c,e[91]=D,e[92]=me,e[93]=Ie,e[94]=S,e[95]=h,e[96]=oe}else oe=e[96];const[ue,N]=oe;let Ce;e[149]!==ue||e[150]!==N?(Ce={connectedRows:ue,disconnectedRows:N},e[149]=ue,e[150]=N,e[151]=Ce):Ce=e[151];const{connectedRows:Te,disconnectedRows:lt}=Ce;let ot;e:{if(Gt(S)){let xe;e[152]===Symbol.for("react.memo_cache_sentinel")?(xe=new Set(ai()),e[152]=xe):xe=e[152];const je=xe;let Ee;if(e[153]!==lt||e[154]!==je){let Qe;e[156]!==je?(Qe=it=>{var et;return je.has((et=it.connectorType)!=null?et:"")},e[156]=je,e[157]=Qe):Qe=e[157],Ee=lt.filter(Qe),e[153]=lt,e[154]=je,e[155]=Ee}else Ee=e[155];ot=Math.max(Vs-Te.length,Ee.length);break e}ot=Vs-Te.length}const Ae=ot;if(!n||!c)return null;if($e||ce||O){let xe;return e[158]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx("div",{className:"w-50 px-4",children:s.jsx(ec,{lines:5,size:"lg",widthVariance:0,width:100})}),e[158]=xe):xe=e[158],xe}const Pe=Te.length>Vs,Je=Pe&&"border-token-border-secondary mb-1.5 border-b";let ct;e[159]!==Je?(ct=ut(Je,"overflow-y-auto"),e[159]=Je,e[160]=ct):ct=e[160];let Ct;e[161]!==Pe?(Ct=Pe?{maxHeight:"calc(2.25rem * ".concat(Vs+.5,")")}:void 0,e[161]=Pe,e[162]=Ct):Ct=e[162];let St;e[163]!==Te?(St=Te.map(Qg),e[163]=Te,e[164]=St):St=e[164];let wt;e[165]!==ct||e[166]!==Ct||e[167]!==St?(wt=s.jsx("div",{className:ct,style:Ct,children:St}),e[165]=ct,e[166]=Ct,e[167]=St,e[168]=wt):wt=e[168];let Ne;e[169]!==Ae||e[170]!==lt?(Ne=lt.length>0&&Ae>0&&s.jsx(s.Fragment,{children:lt.slice(0,Ae).map(Xg)}),e[169]=Ae,e[170]=lt,e[171]=Ne):Ne=e[171];let It;e[172]!==v||e[173]!==$||e[174]!==w||e[175]!==re||e[176]!==K||e[177]!==U||e[178]!==S?(It=U&&s.jsx(dt.Item,{disabled:$,icon:xp,onPointerOver:()=>{Gt(S)&&Oa.prefetch()},onSelect:()=>{ht.logEventWithStatsig("chatgpt_connectors_dropdown_connect_more_clicked","chatgpt_connectors_dropdown_connect_more_clicked"),re?no(tc):Gt(S)?cs(v,Oa,{}):K(Ja.Connectors)},children:w.formatMessage(xt.connectApps)}),e[172]=v,e[173]=$,e[174]=w,e[175]=re,e[176]=K,e[177]=U,e[178]=S,e[179]=It):It=e[179];let kt;return e[180]!==wt||e[181]!==Ne||e[182]!==It?(kt=s.jsxs("div",{className:"w-70",children:[wt,Ne,It]}),e[180]=wt,e[181]=Ne,e[182]=It,e[183]=kt):kt=e[183],kt},ys=({isLoading:t=!1,clientThreadId:e,enabledConnectors:o,enabledEcosystemConnectors:n,trigger:r,includeWebSearch:d,includeCloudBrowser:i,selectedSources:f,selectedMCPSources:l,addSource:m,deleteSource:_,toggleSource:x,includeSyncConnectors:S=!1,connectorFilterFn:c,connectorConfigMap:g,fetchValidLinksOnly:b,systemHintType:h,showConnectMore:k=!0,isDeveloperMode:M,defaultAutoConnectors:y,open:O,onOpenChange:a})=>{const T=Ve(),{refetch:E}=Xa({fetchValidLinksOnly:b}),U=Za(),v=Gt(h)?ei(T):!0,H=Dt(e,Q=>Q==null?void 0:Q.startedWithByoMcp)===!0,u=C.useRef(null),A=C.useMemo(()=>{const Q=n!=null?n:[],$=new Set(Q.map(J=>J.id)),w=o.filter(J=>!$.has(J.id));return[...Q,...w]},[o,n]),F=C.useRef(!1),re=C.useRef(!1);return C.useEffect(()=>{var $,w;const Q=(($=f==null?void 0:f.size)!=null?$:0)+((w=l==null?void 0:l.size)!=null?w:0);!F.current&&Q===0&&!H&&(m("web"),F.current=!0)},[f,l,m,H]),s.jsxs(dt.Root,{"data-testid":"sources-pill",open:O,onOpenChange:Q=>{var $,w;Q?(re.current||(Vl.logEntryPointShown({referrer:ks.SourcesDropdown}),re.current=!0),E()):(!mp(fp($o(e),h))&&v&&(_(st.GITHUB_CONNECTOR),U&&_("github_sync_connector")),(($=f==null?void 0:f.size)!=null?$:0)+((w=l==null?void 0:l.size)!=null?w:0)===0&&!H&&m("web")),a==null||a(Q)},children:[r,s.jsx(dt.Portal,{children:s.jsx(dt.Content,{alignOffset:-7,size:"auto",ref:u,children:s.jsx(Eg,{isLoading:t,clientThreadId:e,enabledConnectors:A,enabledEcosystemConnectors:n,includeWebSearch:d,includeCloudBrowser:i,includeSyncConnectors:S,connectorFilterFn:c,connectorConfigMap:g,fetchValidLinksOnly:b,systemHintType:h,selectedSources:f,selectedMCPSources:l,showConnectMore:k,toggleSource:x,contentRef:u,isDeveloperMode:M,defaultAutoConnectors:y})})})]})},Js=3,bs=({includeSyncConnectors:t,includeWebSearch:e,connectorFilterFn:o,selectedSources:n,selectedMCPSources:r,isDeveloperMode:d})=>{var H;const i=Ve(),f=At(),l=ti(),m=pe(()=>si(i,{productSku:qo.PROMPT_TEXT_AREA})),_=m===void 0,{data:x,isLoading:S}=pe(()=>ln.if$(i,t)),c=_||S,g=e?n!=null&&n.has("web")?s.jsx(Ci,{className:"icon"}):s.jsx(gp,{className:"icon"}):void 0,b=n!=null&&n.has("cloud")?s.jsx(Mi,{className:"icon"}):void 0,h=[...n!=null?n:[]].filter(u=>u!=="web"&&u!=="cloud").filter(u=>o?o(u):!0).map(u=>{const A=m==null?void 0:m.find(F=>F.type===u);return A?{name:A.name,icon:s.jsx(Cs,{connector:A,size:"xsmall"})}:null}).filter(u=>!!u),k=t?Array.from(new Map(((H=x==null?void 0:x.connection_statuses)!=null?H:[]).filter(u=>Xt(u)&&(o?o(u.user_connection_details.connection_type):!0)&&(n==null?void 0:n.has(u.user_connection_details.connection_type))).map(u=>{var A;return[u.user_connection_details.connection_type,{name:oo(u),icon:s.jsx("img",{src:l&&u.connection_display_info.icon_dark_url?u.connection_display_info.icon_dark_url:(A=u.connection_display_info.icon_url)!=null?A:"",alt:u.connection_display_info.display_name,className:"icon"})}]})).values()):[],M=Array.from(r!=null?r:[]).map(u=>{const A=m==null?void 0:m.find(F=>F.id===u);return A?{name:A.name,icon:s.jsx(Cs,{connector:A,size:"xsmall"})}:null}).filter(u=>!!u),y=on([...M,...h,...k].reverse(),u=>u.name).reverse();y.sort((u,A)=>u.name.localeCompare(A.name));const O=[...g?[{name:"web",icon:g}]:[],...b?[{name:"cloud",icon:b}]:[],...y],a=O.length>Js?[...O.slice(0,Js-1),{name:"__plus_overflow",icon:s.jsx("span",{className:"text-token-text-secondary bg-token-bg-secondary text-caption-regular flex h-4.5 w-4.5 items-center justify-center rounded-full",children:O.length-Js+1},"more")}]:O,E=C.useMemo(()=>Fa(i,"3282868491"),[i]).get("short_text","Connectors"),U=E==="Sources"?f.formatMessage({id:"hocZEX",defaultMessage:"Add"}):f.formatMessage({id:"UjEzZf",defaultMessage:"Add sources"}),v=E==="Sources"?null:f.formatMessage({id:"DhW8Wx",defaultMessage:"Sources"}),j=a.length===0&&!c?U:v;return s.jsx(dt.BasicTrigger,{asChild:!0,children:s.jsxs("button",{type:"button",className:ut("composer-btn px-2",d&&a.length>0&&"rounded-full bg-orange-400/10 hover:bg-orange-400/20"),children:[a.length>0&&!c?s.jsx("div",{className:"flex items-center gap-1",children:a.map(u=>s.jsx("div",{className:"icon flex items-center justify-center",children:u.icon},u.name))}):s.jsx(hp,{className:"icon"}),d&&a.length>0?s.jsx("span",{className:"ms-1.5 text-orange-400 [[data-collapse-labels]_&]:sr-only",children:a.length===1?a[0].name:s.jsx(ts,{id:"+Fsfxz",defaultMessage:"Multiple Connectors"})}):(a.length<Js||c)&&j&&s.jsx("span",{className:"ms-1.5 [[data-collapse-labels]_&]:sr-only",children:j}),s.jsx(_p,{className:"icon-sm xs:ms-1.5 ms-1"})]})})},Ni=({connector:t,connectorLink:e,disabled:o=!1,disabledText:n="",hasBetaTag:r=!1,isSelectedInSource:d,systemHintType:i,toggleSource:f,isDefaultAutoConnected:l=!1,syncProgress:m})=>{var A,F;const _=Ve(),x=At(),S=un(),c=cn(_),g=dn(_),b=pe(()=>$t(_)),h=re=>{b?no(pn(re)):S(re)},k=!!e,M=d&&k,y=c.includes(t.type)&&i===ne.Slurm||!g&&Gt(i)||l;if(t.type===ni.MCP_CONNECTOR)return null;const O=(A=Xl[t.type])==null?void 0:A.title,a=O?x.formatMessage(O):t.name,T=s.jsx(Cs,{connector:t,size:"xsmall"}),E=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate",children:a}),r&&s.jsx(Cp,{})]}),U=m==null?void 0:m.is_syncing,v=!1,j=o;let H;k?U?H=s.jsx(dt.Item,{disabled:!0,label:E,icon:T,trailing:s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-2",children:[x.formatMessage(xt.syncing),s.jsx(Zl,{sizeOverride:18,percentage:((F=m==null?void 0:m.sync_progress)!=null?F:0)*100,className:"text-blue-400"})]})}):y?H=s.jsx(dt.Item,{disabled:j,label:E,onSelect:()=>{window.location.href=wp(t.type)},icon:T,trailing:s.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:x.formatMessage(xt.auto)})}):H=s.jsx(dt.CheckboxItem,{disabled:o,label:E,icon:T,checked:M,onCheckedChange:()=>{f(t.type)}}):H=s.jsx(dt.Item,{disabled:o||v,onSelect:()=>{h({connectorId:t.id,redirectAfter:i?"/?system_hints=".concat(i):void 0,systemHintType:i,referrer:ks.SourcesDropdown})},label:E,icon:T,trailing:o||v?void 0:s.jsx("div",{className:"text-token-text-tertiary",children:x.formatMessage(xt.connect)})});let u=null;return y?k||!o?u=x.formatMessage(xt.autoConnected):u=n||x.formatMessage(xt.autoConnectorDisabled):o&&(u=n),s.jsx(s.Fragment,{children:(o||y&&k)&&u?s.jsx(an,{label:u,side:"right",align:"center",contentClassName:"w-50",children:H}):H})},Rg=({connector:t,connectorLinks:e,selectedMCPSources:o,toggleSource:n,systemHintType:r,disabled:d=!1})=>{var k;const i=Ve(),f=At(),l=un(),m=pe(()=>$t(i));if(!t.conformance.implements_retrievable&&(r===ne.Research||r===ne.Slurm))return null;const x=!!((k=e.get(t.id))==null?void 0:k[0]),S=o.has(t.id)&&x,c=t.name,g=s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate",children:c}),s.jsx(kp,{connector:t})]}),b=s.jsx(Cs,{connector:t,size:"xsmall"}),h=M=>{m?no(pn(M)):l(M)};return s.jsx(s.Fragment,{children:x?s.jsx(dt.CheckboxItem,{icon:b,checked:S,label:g,disabled:d,onCheckedChange:()=>{n(t.id)}}):s.jsx(dt.Item,{onSelect:()=>{d||h({connectorId:t.id,redirectAfter:r?"/?system_hints=".concat(r):void 0,systemHintType:r,referrer:ks.SourcesDropdown})},icon:b,label:g,trailing:s.jsx("div",{className:"text-token-text-tertiary",children:f.formatMessage(xt.connect)}),disabled:d})})},Oi=({connection:t,refetch:e,location:o,isSelectedInSource:n,toggleSource:r,showDetails:d,disabled:i=!1,disabledText:f=""})=>{var ge;const l=Ve(),m=dn(l),_=At(),x=ti(),[S,c]=C.useState(!1),[g,b]=C.useState(),h=to(),k=un(),M=pe(()=>$t(l)),y=X=>{M?no(pn(X)):k(X)},O=()=>{r(t.user_connection_details.connection_type)},a=t.user_connection_details.connection_instance_id,T=ii(),E=Kl(l),U=t.user_connection_details.knowledge_connector_type,v=U==="google_drive_oauth",j=t.user_connection_details.connection_type==="notion_sync_connector"&&t.user_connection_details.connection_instance_id.startsWith("ks--merge"),H=Gt(h)?!m&&["activated","partially_activated"].includes(t.user_connection_details.activation_status):!1,u=C.useCallback(async()=>{try{c(!0),await Yl({connectorType:U,connectionId:a,location:o,intl:_})}catch(X){X instanceof Error?T.danger(X.message,{toastId:"sources_dropdown_oauth_error"}):T.danger({defaultMessage:"Encountered an error connecting your account. Please try again later.",description:"Error message shown when a user tries to link their account but it fails."},{toastId:"sources_dropdown_oauth_error"})}finally{c(!1),e==null||e()}},[a,U,_,o,e,T]),[A,F]=C.useState(!1),re=()=>{v?Gt(h)?y({connectorId:os[st.GDRIVE_ACTION_CONNECTOR],redirectAfter:h?"/?system_hints=".concat(h):void 0,systemHintType:h!=null?h:void 0,referrer:ks.SourcesDropdown,syncOnly:!0}):F(!0):j?y({connectorId:os[st.NOTION_CONNECTOR],redirectAfter:h?"/?system_hints=".concat(h):void 0,systemHintType:h!=null?h:void 0,referrer:ks.SourcesDropdown,syncOnly:!0}):u()},Q=t.user_connection_details.activation_status==="inactive"&&t.user_connection_details.auth_status==="not_connected",$=["activating","partially_activated"].includes(t.user_connection_details.activation_status),w=Q&&!E||$,J=s.jsx("img",{src:x&&t.connection_display_info.icon_dark_url?t.connection_display_info.icon_dark_url:(ge=t.connection_display_info.icon_url)!=null?ge:"",alt:t.connection_display_info.display_name,className:"icon"}),K=X=>{if(X.stopPropagation(),X.preventDefault(),Q){re();return}if($){b(t);return}},q={key:t.connection_display_info.display_name,disabled:i,icon:J,label:oo(t),secondary:d?s.jsx("div",{className:"truncate",children:t.connection_display_info.display_name}):void 0};H&&(q.trailing=s.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:_.formatMessage(xt.auto)}));let Y=null;switch(t.user_connection_details.activation_status){case"activated":Y=s.jsx(dt.CheckboxItem,Jt(yt({},q),{checked:n,onCheckedChange:O}));break;case"partially_activated":Y=s.jsx(dt.CheckboxItem,Jt(yt({},q),{checked:n,onCheckedChange:O,secondary:s.jsx("div",{className:"group-radix-disabled:opacity-50 flex items-center gap-1.5",children:s.jsx(ac,{className:"flex-row-reverse",connection:t})})}));break;case"activating":Y=s.jsx(dt.Item,Jt(yt({},q),{style:{cursor:w?void 0:"default"},onSelect:K,trailing:s.jsx("div",{className:"group-radix-disabled:opacity-50",children:s.jsx(nc,{connection:t})})}));break;case"inactive":Y=s.jsx(dt.Item,Jt(yt({},q),{style:{cursor:w?void 0:"default"},onSelect:K,trailing:s.jsx("div",{className:"group-radix-disabled:opacity-50",children:S?s.jsx(sc,{className:"icon"}):s.jsx(oc,{connection:t,refetch:e,location:"user_dropdown"})})}));break}return s.jsxs(s.Fragment,{children:[g&&s.jsx(Sp,{connection:g,onClose:()=>b(void 0)}),A&&s.jsx(Ql,{isAdminFlow:!1,onClose:()=>F(!1),connectionId:a,location:o,onSuccess:e}),i&&f?s.jsx(an,{label:f,side:"right",align:"center",contentClassName:"w-50",children:Y}):Y]})},Dg=({clientThreadId:t,githubSyncConnection:e,githubAccessConnector:o,connectorLink:n,selectedSources:r,toggleSource:d,systemHintType:i,refetch:f,contentRef:l,disabled:m,disabledText:_})=>{var j,H;const x=Ve(),S=At(),c=ic("installations/select_target"),g=Za(),b=Gt(i)?ei(x):!0,k=Dt(t,u=>u==null?void 0:u.startedWithByoMcp)===!0,{data:M,isLoading:y}=Mp({linkId:(j=n==null?void 0:n.id)!=null?j:""}),O=!!M,a=n==null?void 0:n.id,T=!!a&&!O;if(!o&&!e)return null;const E=u=>{const A=u==="github_sync_connector",F=u===st.GITHUB_CONNECTOR;if((A||F)&&o&&e){const re=r==null?void 0:r.has("github_sync_connector"),Q=r==null?void 0:r.has(st.GITHUB_CONNECTOR);re===Q&&d(A?st.GITHUB_CONNECTOR:"github_sync_connector")}d(u)},U=o?s.jsx(Cs,{connector:o,size:"xsmall"}):e?s.jsx("img",{src:(H=e.connection_display_info.icon_url)!=null?H:"",alt:e.connection_display_info.display_name,className:"icon"}):null,v=o?o.name:e?oo(e):"";if(T&&!y&&b)return s.jsx(dt.Item,{label:v,icon:U,onSelect:()=>{window.open(c,"_blank")},trailing:s.jsx("div",{className:"text-token-text-tertiary",children:S.formatMessage(xt.finishSetup)})});if(e&&(Xt(e)||!o)){const u=r.has("github_sync_connector");return s.jsxs(s.Fragment,{children:[s.jsx(Oi,{connection:e,refetch:f,location:"user_dropdown",isSelectedInSource:u,toggleSource:E,showDetails:!1,disabled:y||m,disabledText:_},e.user_connection_details.connection_instance_id),u&&g&&b&&s.jsx(Ca,{clientThreadId:t,allowSelectAllRepos:!1,githubSyncEnabled:!0,linkId:a,syncConnectionId:e.user_connection_details.connection_instance_id,contentRef:l})]})}else if(o){const u=r.has(st.GITHUB_CONNECTOR);return s.jsxs(s.Fragment,{children:[s.jsx(Ni,{connector:o,connectorLink:n,disabled:k||m,disabledText:_,hasBetaTag:!1,isSelectedInSource:u,systemHintType:i,toggleSource:E}),u&&b&&s.jsx(Ca,{clientThreadId:t,linkId:n==null?void 0:n.id,allowSelectAllRepos:!1,githubSyncEnabled:!1,contentRef:l})]})}return null},xt=Ms({contactAdmin:{id:"JGCH/x",defaultMessage:"Contact your admin to enable Google Drive for chat"},allRepositories:{id:"EzHFPp",defaultMessage:"All Repositories"},connect:{id:"OODbh3",defaultMessage:"Connect"},syncing:{id:"EQFkZV",defaultMessage:"Syncing"},connectOnMobileTooltip:{id:"Ey/eYm",defaultMessage:"Connect on your iPhone or iPad"},fetchingSyncStatus:{id:"mm1SP4",defaultMessage:"Fetching sync progress, please wait"},finishSetup:{id:"j12ad3",defaultMessage:"Finish Setup"},sourcesEnabled:{id:"aEIPI+",defaultMessage:"On"},webSearch:{id:"XoUbAe",defaultMessage:"Web search"},cloudBrowser:{id:"RA2J7e",defaultMessage:"Use cloud browser"},connectorsNeedCloudBrowserDisabledText:{id:"lm1ZXj",defaultMessage:"Connectors can only be enabled for cloud browser"},sourcesDisabled:{id:"j32+iI",defaultMessage:"Off"},connectApps:{id:"wwlf43",defaultMessage:"Connect more"},autoConnected:{id:"7IJBNd",defaultMessage:"This connector is searched automatically"},autoConnectorDisabled:{id:"KJQcAS",defaultMessage:"To enable this connector, toggle off all custom connectors"},auto:{id:"uW03xX",defaultMessage:"Auto"}});function Bg(t){return t==null?void 0:t.startedWithByoMcp}function Ng(t){return t.user_connection_details.connection_instance_id}function Og(t){return t.user_connection_details.connection_type}function Ug(t,e,o){return o.indexOf(t)!==e}function Lg(t){return Xt(t)&&t.user_connection_details.connection_type==="sharepoint_admin_sync_connector"}function Fg(t){return Xt(t)&&t.user_connection_details.connection_type==="teams_admin_sync_connector"}function zg(t){return t.type}function Gg(t){return t.user_connection_details.connection_type==="gdrive_sync_connector"}function Hg(t){return t.user_connection_details.connection_type==="gdrive_sync_connector"&&Xt(t)}function Wg(t){return t.type===st.GDRIVE_ACTION_CONNECTOR}function $g(t){return t.id!==os[st.SHAREPOINT_CONNECTOR]}function qg(t){return t.id!==os[st.TEAMS_CONNECTOR]}function Vg(t){return!1}function Jg(t){return t.type===st.GITHUB_CONNECTOR}function Kg(t){return t.user_connection_details.connection_type==="github_sync_connector"}function Yg(t,e){const[o,n]=t;return e.connected?[[...o,e],n]:[o,[...n,e]]}function Qg(t){const{element:e,name:o}=t;return s.jsx(C.Fragment,{children:e},o)}function Xg(t){const{element:e}=t;return s.jsx(s.Fragment,{children:e})}function Zg({clientThreadId:t,activeSystemHint:e,selectedSources:o,selectedMCPSources:n,addSource:r,deleteSource:d,toggleSource:i,currentModelConfigId:f,connectionStatuses:l,connectedOnly:m=!1,hiddenTypes:_,hideMcpConnectors:x=!1,isDeepResearchAppActive:S=!1}){var de,he;const c=Ve(),g=rc(),b=oi(),h=pe(()=>tn(c)),[k,M]=C.useState(!1),y=S||(e==null?void 0:e.systemHint)===ne.Research,O=(e==null?void 0:e.systemHint)===ne.ApiTool,a=(e==null?void 0:e.systemHint)===ne.Glaux,T=(e==null?void 0:e.systemHint)===ne.Slurm,E=Ti(f,e==null?void 0:e.systemHint),{availableConnectors:U,isLoading:v,enabled:j}=lc(),H=cc(c),u=pe(()=>dc(c,{includeDisabledByAdmin:!0,includeAutoConnectors:T,filterDisabledAutoConnectors:T})),A=!u,F=pe(()=>uc(c)),{availableConnectors:re,enabled:Q,isLoading:$}=Tp({includeDisabledByAdmin:!0}),w=pe(()=>pc(c)),{connectorConfigMap:J}=Ap({clientThreadId:t}),K=pe(()=>si(c)),q=P=>{const ce=o.size+n.size;a&&(zt(P)&&n.has(P)&&ce<=1||!zt(P)&&o.has(P)&&ce<=1)||i(P)},Y=T&&(((de=l==null?void 0:l.length)!=null?de:0)>0||H&&u&&u.length>0),ge=P=>P?x!=null&&x?P.filter(ce=>!zt(ce.type)&&!(_!=null&&_.has(ce.type))):_?P.filter(ce=>!_.has(ce.type)):P:[],X=P=>_?!_.has(P):!0;if(j&&y)return s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:r,deleteSource:d,toggleSource:q,isLoading:v,enabledConnectors:ge(U),fetchValidLinksOnly:!0,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:h,connectorFilterFn:X,trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:!1,includeWebSearch:!0,connectorFilterFn:X}),open:k,onOpenChange:M});if(Y){const P=b!=null&&b.isPersonalAccount()?g:!0;return s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:r,deleteSource:d,toggleSource:q,isLoading:A,enabledConnectors:ge(u),includeWebSearch:!1,includeSyncConnectors:P,isDeveloperMode:h,connectorConfigMap:J,systemHintType:e==null?void 0:e.systemHint,connectorFilterFn:X,trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:P,includeWebSearch:!1,isDeveloperMode:h,connectorFilterFn:X}),open:k,onOpenChange:M})}if(O){const P=(he=K==null?void 0:K.filter(ce=>ce.connector_type==="MCP"))!=null?he:[];return s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:r,deleteSource:d,toggleSource:q,isLoading:!K,enabledConnectors:P,includeWebSearch:!1,includeSyncConnectors:!1,connectorConfigMap:J,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:!0,connectorFilterFn:X,trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:!1,includeWebSearch:!1,isDeveloperMode:!0,connectorFilterFn:X}),open:k,onOpenChange:M})}if(Q&&E){const P=Zs();return s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:r,deleteSource:d,toggleSource:q,isLoading:$,enabledConnectors:re,fetchValidLinksOnly:!0,systemHintType:e==null?void 0:e.systemHint,includeCloudBrowser:P,isDeveloperMode:h,connectorFilterFn:X,trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:!1,includeWebSearch:!0,connectorFilterFn:X}),open:k,onOpenChange:M})}return a?s.jsx(ys,{clientThreadId:t,selectedSources:o,selectedMCPSources:n,addSource:r,deleteSource:d,toggleSource:q,isLoading:!w,enabledConnectors:w!=null?w:[],includeWebSearch:!1,includeSyncConnectors:!0,systemHintType:e==null?void 0:e.systemHint,isDeveloperMode:h,connectorFilterFn:P=>{var ce;return(P.endsWith("_sync_connector")?(ce=F!=null?F:[])==null?void 0:ce.some(_e=>_e.user_connection_details.connection_type===P):!0)&&X(P)},trigger:s.jsx(bs,{selectedSources:o,selectedMCPSources:n,includeSyncConnectors:!0,connectorFilterFn:P=>{var ce;return(P.endsWith("_sync_connector")?(ce=F!=null?F:[])==null?void 0:ce.some(_e=>_e.user_connection_details.connection_type===P):!0)&&X(P)},includeWebSearch:!1}),open:k,onOpenChange:M}):null}function eh({activeSystemHint:t,clientThreadId:e,connectionStatuses:o,currentModelConfig:n,isDeepResearchAppActive:r=!1}){const{selectedSources:d=new Set,selectedMCPSources:i=new Set,addSource:f,deleteSource:l,toggleSource:m}=Ai(e);return s.jsx(Zg,{clientThreadId:e,activeSystemHint:t,selectedSources:d,selectedMCPSources:i,addSource:f,deleteSource:l,toggleSource:m,currentModelConfigId:n==null?void 0:n.id,connectionStatuses:o,isDeepResearchAppActive:r})}const th=t=>{"use forget";var He;const e=jt.c(136),{conversation:o,composerController:n,pendingFiles:r,hasFiles:d,placeholder:i,shouldUseRotatingPlaceholders:f,isTemporaryChat:l,state:m,inputState:_,disableReason:x,excessFileCount:S,remainingFileUploads:c,currentModelConfig:g,gizmoId:b,replyRegions:h,includeSidebarContextTray:k,onSubmit:M,leadingAction:y,legacyFooterActions:O,activeSystemHint:a,activeConnectorSystemHints:T,isDeepResearchAppActive:E,hideSystemHint:U,isSystemHintLocked:v,onRemoveSystemHint:j,onRemoveModel:H,contextualAnswerUserConnectionData:u,fileInput:A,expanded:F,expandOnMultilineInput:re,layoutMode:Q,shouldShowAgentSessionModeDropdown:$,agentSessionModeNuxModal:w,isAgentSessionModeDropdownDisabled:J,forceStopButton:K}=t,q=f===void 0?!1:f,Y=E===void 0?!1:E,ge=U===void 0?!1:U,X=$===void 0?!1:$,de=J===void 0?!1:J,he=K===void 0?!1:K,P=Ve(),ce=eo($t);let _e;e[0]!==P?(_e=()=>tn(P),e[0]=P,e[1]=_e):_e=e[1];const ve=pe(_e),Oe=Dt(o.id,mt.getIsNewConversation),ee=to();let $e;e[2]!==P?($e=()=>rn(P),e[2]=P,e[3]=$e):$e=e[3];const{showSelectedModelInComposer:ae,showThinkingEffortPicker:me,fontSize:Re,disableMotion:Ie}=pe($e);let Be;e[4]!==n?(Be=ri(n),e[4]=n,e[5]=Be):Be=e[5];const{composerThinkingEffort$:Ue,setThinkingEffort:te}=Be,De=pe(Ue);let Ge;e[6]===Symbol.for("react.memo_cache_sentinel")?(Ge=fc("connector_openai_shopping"),e[6]=Ge):Ge=e[6];const Le=Ge;let se;e[7]!==T?(se=T==null?void 0:T.some(fe=>fe.systemHint===Le),e[7]=T,e[8]=se):se=e[8];const ie=se===!0,le=(!!(g!=null&&g.configurableThinkingEffort)||(g==null?void 0:g.id)===vi)&&De&&me&&!ie&&(a==null?void 0:a.systemHint)!==ne.Agent&&(a==null?void 0:a.systemHint)!==ne.Research;let V;e[9]!==o||e[10]!==P||e[11]!==g||e[12]!==le||e[13]!==ae?(V=()=>{var qe;if(!g||!ae&&!le)return[null];if(di(P).id===g.id)return[null];const fe=sn(o),Fe=fe.categories.find(ft=>{var tt;return ft.defaultModel===g.id||((tt=ft.supportedModels)==null?void 0:tt.includes(g.id))});if(Fe)return[(qe=Fe.actionPillShortName)!=null?qe:Fe.label];const Xe=fe.groups.find(ft=>ft.modelIds.includes(g.id));return Xe?[Xe.label,g.title]:[g.title||g.id]},e[9]=o,e[10]=P,e[11]=g,e[12]=le,e[13]=ae,e[14]=V):V=e[14];const[B,ye]=pe(V);let be;e[15]!==n?(be=Ii(n),e[15]=n,e[16]=be):be=e[16];const G=pe(be.isWhisperActive$),Z=Pi();let D;e[17]!==P||e[18]!==Z?(D=()=>Op(P)&&Z.visible$(),e[17]=P,e[18]=Z,e[19]=D):D=e[19];const oe=pe(D),ue=ji(sh);let N;e[20]!==ue?(N=Ei(),e[20]=ue,e[21]=N):N=e[21];const Te=d||N,lt=q&&!Te,ot=((He=h==null?void 0:h.length)!=null?He:0)>0,[Ae,Pe]=C.useState(ot),Je=Ss(ot);let ct;e[22]!==n||e[23]!==ce?(ct=()=>(gc()||ce)&&!Vo(n),e[22]=n,e[23]=ce,e[24]=ct):ct=e[24];const Ct=pe(ct);let St,wt;e[25]!==ot?(St=()=>{ot&&Pe(!0)},wt=[ot],e[25]=ot,e[26]=St,e[27]=wt):(St=e[26],wt=e[27]),C.useEffect(St,wt);const Ne=so(),It=ce&&"text-sm shadow-none! dark:border-token-border-heavy border-t border-gray-100 rounded-none";let kt;e[28]!==It?(kt=ut(It),e[28]=It,e[29]=kt):kt=e[29];let pt;e[30]!==n||e[31]!==Re||e[32]!==G||e[33]!==i||e[34]!==lt?(pt=s.jsx(Up,{children:G?s.jsx("div",{className:"max-w-full min-w-0 flex-1",children:s.jsx(Lp,{composerController:n,className:"h-14"})}):s.jsx(Fp,{composerController:n,placeholder:i,fontSize:Re,enableRotatingPlaceholders:lt})}),e[30]=n,e[31]=Re,e[32]=G,e[33]=i,e[34]=lt,e[35]=pt):pt=e[35];let Et;e[36]!==A?(Et=A&&s.jsx(Ma,{children:A}),e[36]=A,e[37]=Et):Et=e[37];let Ze;e[38]!==ot||e[39]!==Je||e[40]!==h||e[41]!==Ae?(Ze=Ae&&s.jsx(Fo,{children:s.jsx(Ga,{initial:!1,onExitComplete:()=>{Je.current||Pe(!1)},children:ot&&s.jsx(us.div,{initial:{height:0,opacity:0,y:12},animate:{height:"auto",opacity:1,y:0},exit:{height:0,opacity:0,y:12},transition:{duration:.2,ease:"easeOut"},className:"overflow-hidden",children:s.jsx(vp,{replyRegions:h!=null?h:[]})},"reply-regions")})}),e[38]=ot,e[39]=Je,e[40]=h,e[41]=Ae,e[42]=Ze):Ze=e[42];let nt;e[43]!==(a==null?void 0:a.systemHint)||e[44]!==Te||e[45]!==r||e[46]!==ue?(nt=Te&&s.jsx(Fo,{children:s.jsx(Ip,{files:r,selectedApps:ue,activeSystemHintType:a==null?void 0:a.systemHint,className:"no-scrollbar horizontal-scroll-fade-mask flex flex-nowrap gap-2 overflow-x-auto px-2.5 pt-2.5 pb-1.5 [--edge-fade-distance:1rem]"})}),e[43]=a==null?void 0:a.systemHint,e[44]=Te,e[45]=r,e[46]=ue,e[47]=nt):nt=e[47];let Mt;e[48]!==k?(Mt=k&&s.jsx(Fo,{children:s.jsx(zp,{})}),e[48]=k,e[49]=Mt):Mt=e[49];let at;e[50]!==y?(at=y&&s.jsx(Gp,{children:y}),e[50]=y,e[51]=at):at=e[51];let xe;e[52]!==Ne||e[53]!==O?(xe=!Ne&&(O==null?void 0:O.map(oh)),e[52]=Ne,e[53]=O,e[54]=xe):xe=e[54];let je;e[55]!==n||e[56]!==P||e[57]!==g||e[58]!==Ne||e[59]!==le||e[60]!==De||e[61]!==B||e[62]!==ye||e[63]!==H||e[64]!==te||e[65]!==ae?(je=!Ne&&le&&B?s.jsx(zo,{children:s.jsx(Pp,{thinkingEffort:De,onChangeThinkingEffort:fe=>{te(fe),ci(P).mutate({modelSlug:g.id,thinkingEffort:fe})},modelLabel:B,modelSlug:g.id,onRemoveModel:H,onCloseAutoFocus:fe=>{li(P).composer.autofocusDisabled$()||(fe.preventDefault(),Yt(rt(n)))}})},"effort-selector"):!Ne&&ae&&B?s.jsx(zo,{children:s.jsx(jp,{label:B,tooltipLabel:ye,onRemoveModel:H})},"active-model-pill"):null,e[55]=n,e[56]=P,e[57]=g,e[58]=Ne,e[59]=le,e[60]=De,e[61]=B,e[62]=ye,e[63]=H,e[64]=te,e[65]=ae,e[66]=je):je=e[66];let Ee;e[67]!==T||e[68]!==a||e[69]!==ee||e[70]!==o.id||e[71]!==ge||e[72]!==Ne||e[73]!==de||e[74]!==v||e[75]!==j||e[76]!==X?(Ee=!Ne&&(a!=null?a:ee)&&!ge&&s.jsx(zo,{children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Ep,{clientThreadId:o.id,activeSystemHint:a,activeSystemHintType:ee,activeConnectorSystemHints:T!=null?T:[],locked:v,onRemoveSystemHint:j}),X&&s.jsx(Rp,{disabled:de})]})},"active-hint-tag"),e[67]=T,e[68]=a,e[69]=ee,e[70]=o.id,e[71]=ge,e[72]=Ne,e[73]=de,e[74]=v,e[75]=j,e[76]=X,e[77]=Ee):Ee=e[77];let Qe;e[78]!==w?(Qe=w&&s.jsx(Ma,{children:w}),e[78]=w,e[79]=Qe):Qe=e[79];let it;e[80]!==a||e[81]!==(u==null?void 0:u.connection_statuses)||e[82]!==o.id||e[83]!==P||e[84]!==g||e[85]!==Ne||e[86]!==Y||e[87]!==Q?(it=!Ne&&(a||Y)&&g&&s.jsxs(Yo,{children:[s.jsx(eh,{activeSystemHint:a!=null?a:void 0,clientThreadId:o.id,connectionStatuses:u==null?void 0:u.connection_statuses,currentModelConfig:g,isDeepResearchAppActive:Y}),(a==null?void 0:a.systemHint)===ne.Agent&&mc(P)&&s.jsx(Dp,{clientThreadId:o.id,activeSystemHintType:a.systemHint,layoutMode:Q})]},"sources-tag"),e[80]=a,e[81]=u==null?void 0:u.connection_statuses,e[82]=o.id,e[83]=P,e[84]=g,e[85]=Ne,e[86]=Y,e[87]=Q,e[88]=it):it=e[88];let et;e[89]!==(a==null?void 0:a.systemHint)||e[90]!==n||e[91]!==Ne||e[92]!==oe?(et=!Ne&&(a==null?void 0:a.systemHint)===ne.PictureV2&&!oe&&s.jsx(Yo,{children:s.jsx(Bp,{composerController:n})},"image-style-picker"),e[89]=a==null?void 0:a.systemHint,e[90]=n,e[91]=Ne,e[92]=oe,e[93]=et):et=e[93];let z;e[94]!==n||e[95]!==Ne||e[96]!==Ct?(z=!Ct&&!Ne&&s.jsx(Hp,{composerController:n,composerType:"composer-btn"}),e[94]=n,e[95]=Ne,e[96]=Ct,e[97]=z):z=e[97];let we;e[98]!==n||e[99]!==o.id||e[100]!==x||e[101]!==S||e[102]!==he||e[103]!==b||e[104]!==_||e[105]!==G||e[106]!==M||e[107]!==c||e[108]!==m?(we=!G&&s.jsx(Np,{forceStopButton:he,inputState:_,state:m,onSubmit:M,composerController:n,clientThreadId:o.id,gizmoId:b,disableReason:x,excessFileCount:S,remainingFileUploads:c}),e[98]=n,e[99]=o.id,e[100]=x,e[101]=S,e[102]=he,e[103]=b,e[104]=_,e[105]=G,e[106]=M,e[107]=c,e[108]=m,e[109]=we):we=e[109];let Se;e[110]!==z||e[111]!==we?(Se=s.jsxs(Wp,{children:[z,we]}),e[110]=z,e[111]=we,e[112]=Se):Se=e[112];let ke;return e[113]!==n||e[114]!==Ie||e[115]!==re||e[116]!==F||e[117]!==ve||e[118]!==Oe||e[119]!==l||e[120]!==M||e[121]!==kt||e[122]!==pt||e[123]!==Et||e[124]!==Ze||e[125]!==nt||e[126]!==Mt||e[127]!==at||e[128]!==xe||e[129]!==je||e[130]!==Ee||e[131]!==Qe||e[132]!==it||e[133]!==et||e[134]!==Se?(ke=s.jsxs($p,{isTemporaryChat:l,isDeveloperMode:ve,isNewConversation:Oe,composerController:n,expanded:F,expandOnMultilineInput:re,onSubmit:M,backgroundClassName:kt,disableMotion:Ie,children:[pt,Et,Ze,nt,Mt,at,xe,je,Ee,Qe,it,et,Se]}),e[113]=n,e[114]=Ie,e[115]=re,e[116]=F,e[117]=ve,e[118]=Oe,e[119]=l,e[120]=M,e[121]=kt,e[122]=pt,e[123]=Et,e[124]=Ze,e[125]=nt,e[126]=Mt,e[127]=at,e[128]=xe,e[129]=je,e[130]=Ee,e[131]=Qe,e[132]=it,e[133]=et,e[134]=Se,e[135]=ke):ke=e[135],ke};function sh(t){return t.selectedApps}function oh(t,e){return s.jsx(Yo,{children:t},"legacy-footer-action-".concat(e))}const nh=Wt(()=>Ht(()=>import("./kzwk89sl7ldvvuvg.js"),__vite__mapDeps([12,1,3,4,2,5,13,14])).then(t=>t.ConnectorsOnboardingModal)),ah=Wt(()=>Ht(()=>import("./g2euln7v5pbm31qa.js").then(t=>t.Dl),__vite__mapDeps([2,1,3,4,5])).then(t=>t.TatertotNuxModal)),ih=Wt(()=>Ht(()=>import("./kzofw8o6635b70gi.js"),__vite__mapDeps([15,1,3,4,2,5,16])).then(t=>t.GithubOnboardingModal)),rh=()=>null;function lh({onCreateNewCompletion:t,onContinueGenerating:e,account:o,currentModelId:n,currentModelConfig:r,disableDraftPersistence:d=!1,conversation:i,isNewThread:f,isCompletionInProgress:l,disabled:m=!1,disabledReason:_,canPause:x=!1,canContinue:S=!1,isInteractableSharedThread:c,headerClassName:g,hideHeader:b,onlyAllowImageUploads:h,layoutMode:k,availableSystemHints:M,isSnorlaxEnabledForGizmo:y,gizmoId:O}){"use no forget";var Hn,Wn,$n,qn,Vn,Jn,Kn,Yn;Ta.markStart("PromptTextarea"),Ta.markRendered("PromptTextarea",void 0,"pageLoad");const a=Ve(),T=pe(()=>qp(i)),E=T&&Vp(T),U=pe(()=>hs(i)),[v,j]=ol(),H=Jp(),u=Zo();Kp(u),Yp();const A=Xo(),F=o==null?void 0:o.isSelfServeBusiness(),re=o==null?void 0:o.isEnterprisey(),Q=o==null?void 0:o.isEnterpriseCBP(),$=o==null?void 0:o.isEdu(),w=ss(a),J=Zs(),K=At(),q=ii(),Y=hc(),ge=Qp.useStore(),X=Nc(),de=(Hn=F||re||Q||$)!=null?Hn:!1,[he,P,ce,_e,ve,Oe,ee]=Dt(i.id,p=>{var I,W,Me,Ke,Ye,Rt;return[mt.getCurrentLeafId(p),mt.getRequestId(p),mt.findAsyncTaskMetadataNode(p,mt.getSteeringAsyncTaskId(p)),(Me=(W=(I=mt.lastUserMessage(p))==null?void 0:I.metadata)==null?void 0:W.system_hints)==null?void 0:Me.includes(ne.Agent),!!(p!=null&&p.interruptionInProgress)&&!!((Ye=(Ke=mt.getCurrentNode(p))==null?void 0:Ke.message.metadata)!=null&&Ye.n7jupd_message),p==null?void 0:p.startedWithByoMcp,(Rt=mt.getCurrentNode(p))==null?void 0:Rt.message]}),$e=(Wn=ce==null?void 0:ce.message.metadata)==null?void 0:Wn.async_task_id,ae=oa(p=>$e?p.tasks[$e]:null),me=oa(p=>{var I,W;return(I=ee==null?void 0:ee.metadata)!=null&&I.async_completion_id&&(ee==null?void 0:ee.status)==="in_progress"?p.tasks[(W=ee.metadata.async_task_id)!=null?W:""]:null}),Re=C.useMemo(()=>{var p;return!!((p=ee==null?void 0:ee.metadata)!=null&&p.async_completion_id&&(ee==null?void 0:ee.status)==="in_progress"&&(me==null?void 0:me.status)!==Eo.CANCELLED)},[ee,me]),Ie=Dt(i.id,mt.getSteeringAsyncTaskId);C.useEffect(()=>{const p=ae&&_c(ae)===yc.THINKING,I=p&&bc(ae)&&ae.status!==Eo.FINALIZING?ae:null;!Ie&&I?Kt(i.id,W=>{W.steeringAsyncTaskId=I.taskId}):Ie&&!I&&p&&Ro(i.id)},[Ie,ae,i.id]);const Be=!!Ie,Ue=Xp({clientThreadId:i.id,isKaur1br5Client:J}),te=C.useMemo(()=>{if(Be)return[];if(!(M!=null&&M.length))return M;const p=M.findIndex(W=>W.systemHint===ne.Research),I=M.findIndex(W=>xc(4122927380,W.systemHint));return p===-1||I===-1||I<p?M:Zp(M,I,p+1)},[Be,M]),{gizmoEditorData:De,mode:Ge,getGizmoId:Le}=Sc(),se=wc(),ie=kc(),le=em(),V=Ya(i.id),B=!!Cc(),ye=Mc.useIsEnabled(i.id),be=!!Ts(),G=to(),Z=C.useMemo(()=>{var p;return(p=G&&(te==null?void 0:te.find(I=>I.systemHint===G)))!=null?p:null},[te,G]),D=Tc(),oe=pe(()=>Ac(a)),ue=qa(),N=G===ne.Agent||(Z==null?void 0:Z.systemHint)===ne.Agent,Ce=J&&N,{agentSessionModeNuxModal:Te,ensureAgentSessionModeNux:lt}=tm({isAgentHintActive:N});sm(u);const ot=yi(a),Ae=vc(a),Pe=eo($t),Je=Ic(a),ct=C.useRef(!1),Ct=Tt(a,"3457598265"),St=pe(()=>Pc(a,jc.BrowserReferenceWebHistoryInChat)===!0);C.useEffect(()=>{if(!Ct||!Je||!Pe||!St||ct.current)return;const p=rt(u),I=p==null?void 0:p.dom;if(!I)return;const W=()=>{if(ct.current)return;ct.current=!0;const Me=[];Z&&Me.push(Z.systemHint),xd(void 0,ja,Me,i.id).catch(()=>{})};return I.addEventListener("input",W,{once:!0}),()=>{I.removeEventListener("input",W)}},[Je,u,Pe,Ct,St,Z,i.id]);const wt=Jo.useStore(),Ne=Jo.useState(({locked:p})=>p),It=Ec(),kt=Rc(a),{data:pt,isLoading:Et}=pe(()=>ln.if$(a,It)),{selectedSources:Ze,selectedMCPSources:nt,addSource:Mt}=Ai(i.id),at=ui(),xe=!1;C.useEffect(()=>{const p=v.get("add_source");p&&G&&(Mt(p),v.delete("add_source"),j(v))},[G,Mt,v,j]),C.useEffect(()=>{te!=null&&te.some(p=>p.systemHint===ne.Glaux)&&v.get("company-knowledge")!=null&&(cs(a,nh,{onContinue:()=>{D(ne.Glaux,{analyticsMetadata:{clientThreadId:i.id}})}}),v.delete("company-knowledge"),j(v))},[v,te,a,i.id,D,j]);const{eligible:je,isLoading:Ee}=xs(ns.hasSeenTatertotNux);C.useEffect(()=>{G===ne.Tatertot&&Tt(a,"1586944302")&&je&&!Ee&&cs(a,ah)},[G,je,Ee,a]);const Qe=om(a),it=Qe&&((($n=nt==null?void 0:nt.size)!=null?$n:0)>0||X||at.size>0);Dc({skip:!Qe,productSku:qo.PROMPT_TEXT_AREA});const{platformConnectors:et,isLoading:z}=Bc(it,qo.PROMPT_TEXT_AREA),we=dn(a),Se=cn(a);Oc({platformConnectors:et,enabled:Se.length>0&&de});const ke=C.useMemo(()=>Array.from(nt!=null?nt:[]).map(p=>et.get(p)).filter(p=>p!==void 0),[nt,et]),{selectedConnectorIds:He,selectedSyncKnowledgeStoreIds:fe}=C.useMemo(()=>{var W;if(!we)return{selectedConnectorIds:void 0,selectedSyncKnowledgeStoreIds:void 0};const p=new Set,I=new Set;for(const Me of Ze!=null?Ze:[]){const Ke=os[Me];Ke&&p.add(Ke);const Ye=(W=pt==null?void 0:pt.connection_statuses)==null?void 0:W.find(Rt=>Rt.user_connection_details.connection_type===Me);Ye&&I.add(Ye.user_connection_details.connection_instance_id)}return{selectedConnectorIds:p,selectedSyncKnowledgeStoreIds:I}},[Ze,pt==null?void 0:pt.connection_statuses,we]),Fe=C.useRef(0),Xe=Qt(a,"3396794266").get("restore_prompt_on_stop",!1),qe=C.useRef(null),ft=nm(),tt=am(),Nt=so(),Zt=(im(i.id)||Nt)&&!Re,ao=C.useCallback(()=>{var I;const p=rm(a);p.isFeedbackViewOpen$()&&((I=p.feedbackViewState$())==null?void 0:I.type)!==Aa.Conversation&&p.openFeedbackView({type:Aa.Conversation})},[a]),Ot=na(r,T,G),ps=Uc(),As=Lc(a).flags,vs=As==null?void 0:As.includes(Fc.NoAuthEnableFileUploads),Ui=te==null||te.length>0,Li=C.useMemo(()=>{var p;return(p=te==null?void 0:te.filter(I=>at.has(I.systemHint)))!=null?p:[]},[te,at]),Fi=C.useMemo(()=>{const p=Array.from(at).filter(aa).map(ia);if(p.length===0)return[];const I=p.filter(W=>{var Me,Ke;return va(W)?!0:(Ke=(Me=et.get(W))==null?void 0:Me.conformance)==null?void 0:Ke.implements_retrievable});return Array.from(new Set(I))},[at,et]),zi=C.useMemo(()=>Array.from(at).filter(aa).map(ia).filter(p=>{var I,W;return!((W=(I=et.get(p))==null?void 0:I.supports_full_actions)!=null&&W)&&!va(p)}),[at,et]),io=C.useCallback(()=>{D(null,{analyticsMetadata:{clientThreadId:i.id}})},[D,i.id]),ro=pe(()=>di(a).id),Is=C.useCallback((p,I)=>{ht.logEventWithStatsig("Model Switcher Model Changed","chatgpt_model_switcher_model_changed",{from:n,to:p,location:I}),p&&!zc(a,p)&&ci(a).mutate({modelSlug:p}),Gc(i,p),Ro(i.id)},[n,a,i]),fn=C.useCallback(p=>{Hc()&&(p==null||p.preventDefault()),Is(ro,"remove non-default model")},[Is,ro]),Ps=Ti(n,(qn=Z==null?void 0:Z.systemHint)!=null?qn:null),Gi=!m&&Ot!==Do.None&&(w||vs),Bt=Wc(r,T),js=$c(r,T),Ut=ra(p=>Ge==="magic"?p.files.filter(I=>I.gizmoId!=null):p.files.filter(I=>I.gizmoId==null),Qa),[lo]=C.useState(()=>lm()),Hi=cm(),co=Ut.length>0||Hi,uo=ra(qc.hasUploadInProgress),Wi=ji(p=>p.selectedApps),gn=Ei(),$i=dm(i.id),qi=C.useMemo(()=>Xs(()=>nf(r,wd(u))),[r,u]),po=pe(qi),Es=pe(()=>Vo(u)),hn=!Es,_n=!po&&!uo&&(hn||co),{composerThinkingEffort$:Vi}=ri(u),{maxUploads:Ji,remaining:ms,baseLimit:Ki}=Vc(Ot),yn=ms!=null?Math.max(0,Ut.length-ms):0,bn=yn>0,xn=Math.max(0,Ji-Ut.length),mo=xn<=0,Yi=ms!=null&&ms<Ki,Qi=(Z==null?void 0:Z.systemHint)===ne.Research,Xi=Tt(a,"3544641259"),{selectedRepos:fo}=um(i.id),Sn=(Qi||Ps)&&Xi&&(Ze==null?void 0:Ze.size)===0&&(nt==null?void 0:nt.size)===0,wn=pm({taskId:me==null?void 0:me.taskId,intl:K,toaster:q}),fs=(ae==null?void 0:ae.status)===Eo.RUNNING&&!Zt,go=(Jn=mm((Vn=Bo(i.id))!=null?Vn:i.id))==null?void 0:Jn.value,kn=go===No.STREAMING,ho=go===No.REALTIME,_o=go===No.REALTIME_BUSY,Rs=l&&x||kn||ho||_o||fs||Re,Zi=Re||ho||_o||fs,er=Jc(V).length>0,Ds=_n&&!m&&!bn&&!be&&(!Rs||Zt||er)&&!Sn,{targetedContent:Bs,setTargetedContent:Ns}=fm(),We=Bs!=null&&Bs.isFocusedViewContent&&!le?void 0:Bs,Os=li(a);C.useEffect(()=>{!We||Os.composer.autofocusDisabled$()||requestAnimationFrame(()=>requestAnimationFrame(()=>{Yt(rt(u))}))},[We,Os,u]);const{getUpsellLabelType:tr,getUpsellShowsAttach:sr}=gm(),yo=pe(()=>rn(a)),{isSingleLine:or,plusButtonAddsFiles:nr,loggedOutAttachLabel:ar,loggedOutHideToolButtons:bo,isImageGenButtonEnabled:ir,showSelectedModelInComposer:rr}=yo,Lt=or,lr=Ui&&w&&(!F||!Et)&&!la(G)&&!Lt,gs=pe(Ii(u).isWhisperActive$),cr=C.useCallback(()=>{j(p=>(p.delete("share_prompt"),p))},[j]),xo=C.useCallback(p=>{if(Ka.set(i,!0),Ws(rt(u),p.prompt),p.system_hint){const I=p.system_hint;if(D(I),p.sources){const W=p.sources.map(Ye=>Ye.trim()).filter(Wo),Me=new Set(W.filter(Ye=>!zt(Ye))),Ke=new Set(W.filter(zt));Kt(i.id,Ye=>{Ye.selectedSources=new Map([[I,Me]]),Ye.selectedMCPSources=new Map([[I,Ke]]),Ye.hasModifiedSources=!0})}}},[i,u,D]);hm(a,v.get("share_prompt"),cr,xo),C.useEffect(()=>{!oe||oe.skipConversationId===i.id||(Kc(a),ca(rt(u)),xo(oe.prompt))},[u,i.id,a,xo,oe]),C.useEffect(()=>{if(!(A!=null&&A.id))return;const p=Ia.getAndReset(A.id,V);p&&Ws(rt(u),p.inputText)},[A==null?void 0:A.id,V,u]),C.useEffect(()=>{var I;const p=(I=v.get("prompt"))!=null?I:"";Vo(u)&&p.length>0&&Ws(rt(u),p)},[u,v]);const So=C.useCallback(()=>{G!==ne.Slurm&&G!=null&&!(te!=null&&te.some(p=>p.systemHint===ne.Slurm))||(Z==null&&D(ne.Slurm),Kt(i.id,p=>{var W,Me;const I=(Me=(W=p.selectedSources)==null?void 0:W.get(ne.Slurm))!=null?Me:new Set;p.selectedSources==null&&(p.selectedSources=new Map),p.selectedSources.set(ne.Slurm,new Set([...I,st.GITHUB_CONNECTOR]))}))},[G,Z,i.id,D,te]);C.useEffect(()=>{if(v.has("github_onboarding")){const p=v.get("github_onboarding");let I=_s.ConfigureRepos;p&&[_s.ConfigureRepos,_s.SyncRepos,_s.IndexRepos].includes(p)&&(I=p),kt&&I!==_s.ConfigureRepos?So():cs(a,ih,{initialState:I,onFinishFlow:So}),j(W=>(W.delete("github_onboarding"),W))}},[v,j,a,G,Z,i.id,D,te,So,kt]),C.useEffect(()=>{const p=Yc(v,{availableHints:te}),I=G!=null?G:p[0],W=I===ne.Slurm,Me=I===ne.Research,Ke=I===ne.ApiTool;if(!W&&!Me&&!Ke)return;const Ye=v.getAll("sources");if(!Ye.length)return;const Rt=v.get("redirect_source");if(Ke)for(const gt of Ye)ue(gt.trim());else{const gt=Ye.map(Vt=>Vt.trim()).filter(Wo),is=new Set(gt.filter(Vt=>!zt(Vt))),rs=new Set(gt.filter(zt));Kt(i.id,Vt=>{Vt.selectedSources=new Map([[I,is]]),Vt.selectedMCPSources=new Map([[I,rs]]),Vt.hasModifiedSources=!0})}j(gt=>(gt.delete("sources"),gt)),Rt==="suggested_ca_prompts"&&ht.logEventWithStatsig("chatgpt_contextual_answers_connector_activated","chatgpt_contextual_answers_connector_activated",{source:"suggested_ca_prompts"})},[i.id,Mt,v,D,j,G,ue,te]);const Pt=Qc(r,T),wo=pe(Xc(a,i.id)),{handleFileAccepted:Cn}=bf(K,na(r,T,G),Bt,"mouse",Le,Pt==null?void 0:Pt.attachments,wo),dr=C.useCallback((p,I)=>{const W=ls(a);return W.keepSheetOpen$.set(!1),W.isSheetOpen$.set(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{Yt(rt(u))})}),Cn(p,I)},[u,Cn,a]),Mn=pe(ls(a).keepSheetOpen$);C.useEffect(()=>{if(!Mn)return;const p=new AbortController,I=document.getElementById("upload-camera"),W=[];function Me(){for(const gt of W)gt();p.abort(),W.length=0}function Ke(gt){var rs;if(gt.target instanceof HTMLInputElement&&((rs=gt.target.files)==null?void 0:rs.length)===0)return;const is=ls(a);ha(()=>{is.keepSheetOpen$.set(!1),is.isSheetOpen$.set(!1),Me()})}function Ye(){const gt=ls(a);ha(()=>{gt.keepSheetOpen$.set(!1),gt.isSheetOpen$.set(!1),Me()})}I&&W.push(da(I,{change:Ke,cancel:Ye}));const Rt=document.getElementById("upload-photos");return Rt&&W.push(da(Rt,{change:Ke,cancel:Ye})),Me},[Mn,a]);const Ft=!m&&!mo&&Gi&&ps==null&&!Be,{getInputProps:ur,open:Tn}=Sf(yt({disabled:!Ft,noClick:!0,onFileDialogCancel:()=>{ls(a).keepSheetOpen$.set(!1)},onDropAccepted:dr,onDropRejected:p=>{xf(p,K,q,Ot),ls(a).keepSheetOpen$.set(!1)},multiple:!0,maxSize:ed,maxFiles:xn},Zc(!w||h?Bt:js))),es=C.useCallback(()=>{Ft&&(ht.logEventWithStatsig("Open File Viewer","chatgpt_web_file_viewer_opened",{intent:Ot.toString()}),Tn())},[Ft,Tn,Ot]),An=td(lo),ko=C.useCallback(()=>{var p;ca(rt(u)),An.clearMessages(),Pa(u).resetData();for(const I of Ut)$s.remove(Y,I.tempId,"none");_m.markAllAsSent(),Tt(a,"2857215914")&&(Z!=null&&Z.persistBetweenMessages||((at==null?void 0:at.has("connector:connector_openai_shopping"))===!0?((p=ee==null?void 0:ee.author)==null?void 0:p.role)==="assistant"&&(ee==null?void 0:ee.channel)==="final"&&D(null):D(null)))},[u,An,Ut,Y,Z,a,D,at,ee]),pr=C.useMemo(()=>{if(Pe)return ja;if(Ae)return ym;if(Zs())return bm},[Pe,Ae]),vn=pe(()=>Pe&&Je&&ua.sidebarUrlTrayOpen$());xm();const mr=sd(a),Co=pe(()=>od(a)),Mo=Oo((p,I,W)=>{var Qn;if(p.preventDefault(),m||!_n&&!I||!T||ve)return;if(!(W!=null&&W.bypassAgentSessionModeGate)){const _t=Jt(yt({},W!=null?W:{}),{bypassAgentSessionModeGate:!0});if(lt(()=>Mo(p,I,_t))){"persist"in p&&typeof p.persist=="function"&&p.persist();return}}const Me=pa(rt(u).state.doc),Ke=Me.content;Po==="streaming"&&(ht.logEventWithStatsig("chatgpt_web_conversation_stream_interrupted","chatgpt_web_conversation_stream_interrupted",{interrupted_message_length:Ke.length}),Uo.count(Lo.DEFAULT,"chatgpt_web_conversation_stream_interrupted",[])),Uo.count(Lo.DEFAULT,"chatgpt_web_conversation_completion_sent",[]);const{content:Ye,attachments:Rt}=Sm(Y,Ke,r,T,G),gt=ma(wt).some(_t=>_t===ne.Slurm||_t===ne.Research);Kt(i.id,_t=>{_t.hasModifiedSources=!1,_t.hasModifiedGithubRepos=!1,_t.startedWithByoMcp===void 0&&gt&&(_t.startedWithByoMcp=ke.some(Gs=>Gs.status==="ONLY_ME"))}),ft(),tt(),ao();const is=Ea.getState().attachedTempTextdocs;Xe?qe.current={content:Me.content,files:Ut.map(_t=>yt({},_t)),attachedTempTextdocs:Object.fromEntries(Object.entries(is).map(([_t,Gs])=>[_t,yt({},Gs)])),systemHintType:G!=null?G:null,selectedSources:Ze?[...Ze]:void 0,selectedMCPSources:nt?[...nt]:void 0}:qe.current=null;const rs=r!=null&&r.configurableThinkingEffort||(r==null?void 0:r.id)===vi?nd(Vi):void 0;t(yt({clientThreadId:i.id,ctx:a,sourceEvent:p,attachments:Rt,content:Ye,contentToSend:Me,conversationMode:T,hasSelectedApps:gn,isMessageFollowupsEnabled:ye,selectedApps:Wi,desktopOrigin:pr,shouldCollectSidebarContext:vn,desktopSidebarContext:ua.context$(),selectedGizmoTag:U,selectedRepos:{selectedAllRepos:fo.selectedAllRepos,selectedRepos:fo.selectedRepos?[...fo.selectedRepos]:null},selectedSources:Ze,selectedMCPConnectors:ke,selectedConnectorIds:He,selectedSyncKnowledgeStoreIds:fe,searchConnectorIds:Fi,noFullActionConnectorIds:zi,startedWithByoMcp:Oe===!0,systemHints:ma(wt),allSystemHints:Co!=null?Co:[],isN7jupdActive:Ps,isForceAllowCustomMcpModeEnabled:mr,thinkingEffort:rs},Pa(u).getData(Me.content))),(Qn=We==null?void 0:We.onCreateCompletion)==null||Qn.call(We,{serverThreadId:V,currentLeafId:he}),(We==null?void 0:We.shouldPersistAcrossMessages)!==!0&&Ns(void 0),fa.hideThreadHeader();for(const _t of Ut)_t.status===ad.Ready&&ge.addFile(_t);Qt(a,"1925940714").get("reset_state_after_submit",!1)?id.postTask(ko):ko(),ot&&G===Ho&&mn(a,ns.hasSeenAgentModeAnnouncementBanner)}),fr=p=>{Ns(p.targetedReply),p.targetedReply&&ht.logEventWithStatsig("Targeted Reply Button Clicked","chatgpt_targeted_reply_button_clicked",{conversationId:V,sourceMessageId:p.messageId})},{maybeSetWaitingForRealtimeOnAbort:In,isWatingForRealtimeStatusChange:gr}=wm(i.id),To=C.useCallback((p,I="other")=>{In(),km(p,void 0,{clientInitiated:!0,reason:I,isLastTurnAgent:_e,hasAgentSystemHint:G===Ho})},[In,_e,G]),Pn=C.useCallback(()=>{var p;(p=We==null?void 0:We.onCleared)==null||p.call(We,{serverThreadId:V,currentLeafId:he}),Ns(void 0),Yt(rt(u))},[he,V,We,Ns,u]),Us=rd(a,r==null?void 0:r.tags,T==null?void 0:T.kind),{autocompletions$:hr,shouldShowAutocomplete$:Ls}=fi(u),_r=C.useCallback(()=>Ls()&&f,[Ls,f]),jn=Oo(p=>Cm(p,{toaster:q,canSubmit:Ds,isTextContentTooLong:po,requestCompletion:Mo})),En=fs||ho||_o,Rn=Oo(p=>Mm(p,{canAbortCompletion:x&&l&&!En,clientThreadId:i.id,isAutocompletionActive:_r,clearAutocompletions:()=>hr.set([]),abortCompletion:()=>To(i.id,"escape_key"),isEmpty:Es,hasTargetedContent:We!=null,clearTargetedContent:Pn,hasSystemHint:Z!=null,removeSystemHint:io,hasSelectedTarget:U!=null,removeSelectedTarget:()=>hs.set(i,null),hasNonDefaultModel:rr&&n!==ro,removeNonDefaultModel:fn}));C.useEffect(()=>{if(!Ds)return;Tt(a,"4178431533")||Tm(!0).then(I=>{Am.startEnforcement(I),vm.startEnforcement(I)})},[Ds,a]),C.useEffect(()=>ld(rt(u),{Enter:jn,Escape:Rn}),[u,jn,Rn]);const yr=p=>{Be||sf({filePickerStore:Y,event:p.nativeEvent,intl:K,toaster:q,clientThreadId:i.id,conversationMode:T,currentModelConfig:r,getEditorGizmoId:Le,modelSupportedImageMimeTypes:Bt,activeSystemHintType:G,ctx:a,contextScopes:wo})},br=cd(i.id,lo,Bt,Pt==null?void 0:Pt.attachments),xr=C.useCallback((p,I)=>{if(p.preventDefault(),Re){wn.mutate();return}To(i.id,I),ht.logEventWithStatsig("Pause Completion","chatgpt_pause_completion",{threadId:Bo(i.id),currentLeafId:mt.getCurrentNode($o(i.id)).message.id,eventSource:"mouse"});const W=qe.current;Xe&&W&&(Ws(rt(u),W.content),$s.restoreFiles(Y,W.files),Ea.setState({attachedTempTextdocs:W.attachedTempTextdocs}),W.systemHintType&&(D(W.systemHintType),Kt(i.id,Me=>{var Ke,Ye;W.selectedSources&&(Me.selectedSources=(Ke=Me.selectedSources)!=null?Ke:new Map,Me.selectedSources.set(W.systemHintType,new Set(W.selectedSources))),W.selectedMCPSources&&(Me.selectedMCPSources=(Ye=Me.selectedMCPSources)!=null?Ye:new Map,Me.selectedMCPSources.set(W.systemHintType,new Set(W.selectedMCPSources)))})),qe.current=null),Im()},[i.id,To,u,Y,D,Xe,Re,wn]),Dn=C.useCallback(()=>{Ia.set(A==null?void 0:A.id,V,Pm(u))},[V,A==null?void 0:A.id,u]),Bn=De!=null;C.useEffect(()=>{Bn||Os.composer.autofocusDisabled$()||Yt(rt(u))},[u,Bn,Os]);const Nn=Ss(Ut);C.useEffect(()=>{if(Bt.length>0)for(const I of Nn.current)jm(I.file.type,js)||$s.remove(Y,I.tempId,"none");else $s.reset(Y)},[n,Y,js,Bt.length,Nn]);const Sr=C.useEffectEvent(()=>{hs.set(i,null)});C.useEffect(()=>{(!Us&&U||B)&&Sr()},[Us,U,B]);const Ao=pe(()=>Em(i).fullscreenWidgetPlaceholder$(K)),wr=_f(),On=nl(),[Fs,kr]=(()=>{const p=_?Rm(_):void 0;if(p)return[p.placeholder,p.isLastingDisabledStyle];if(On.pathname==="/shopping"||On.pathname==="/shopping/preview")return[Dm.promptPlaceholder,!1];if(c)return[bt.placeholderWithName,!1];if((We==null?void 0:We.placeholderTextOverride)!=null)return[We.placeholderTextOverride,!1];if((r==null?void 0:r.id)===dd)return[bt.n7jupdSystemHintPlaceholder,!1];if(Ie&&(ae!=null&&ae.taskId.startsWith("thinking")))return[bt.placeholderAsyncSteering,!1];if(Z){if(la(Z.systemHint))return Rs?[bt.n7jupdActivePlaceholder,!1]:[bt.n7jupdSystemHintPlaceholder,!1];switch(Z.systemHint){case ne.Search:return[bt.searchPlaceholder,!1];case ne.Think:return[bt.thinkPlaceholder,!1];case ne.Slurm:return[bt.connectorPlaceholder,!1];case ne.ApiTool:return[bt.apiToolPlaceholder,!1];case ne.Research:return[bt.researchPlaceholder,!1];case ne.Canvas:return[bt.canvasPlaceholder,!1];case ne.Picture:return[bt.picturePlaceholder,!1];case ne.PictureV2:return[bt.pictureV2Placeholder,!1];case ne.Tatertot:return[bt.tatertotPlaceholder,!1];case ne.Glaux:return[bt.internalSearchPlaceholder,!1]}}return[bt.placeholderAskAnythingVariant,!1]})(),Cr=co||gn,Mr=yo.dynamicPlaceholderEnabled,Tr=f&&Mr&&!Nt&&!y&&!Ao&&!Cr&&!uo,Ar=(()=>{var p,I;return Nt?K.formatMessage(Bm):y?f?K.formatMessage(ud.newChatInProject,{projectName:(p=E==null?void 0:E.gizmo.display.name)!=null?p:"this project"}):Fs?K.formatMessage(Fs,{name:"ChatGPT"}):"​":Ao||(Fs?K.formatMessage(Fs,{name:De!=null?Ge==="magic"?pd:De.name||"GPT":(I=E==null?void 0:E.gizmo.display.name)!=null?I:"ChatGPT",workspaceName:wr}):"​")})();C.useEffect(()=>ga(()=>_a(u),()=>{Fe.current=performance.now(),kd(a).getState().isThreadHeaderVisible&&fa.hideThreadHeader(),af(i.id)&&rf(i.id)}));const{shouldHighlight$:vr}=Nm(u),vo=pe(()=>vr()),{connectorConfig:zs,isLoading:Ir}=md(),{onSelectConnector:Io}=Om({connectorConfig:zs,modelSupportedImageMimeTypes:Bt,modelAcceptedMimeTypes:js,attachmentsProductFeature:Pt==null?void 0:Pt.attachments,onOauthRedirect:Dn});Um(zs,Io);let Un=null;const[mh,Pr]=C.useState(!1),[jr,Er]=C.useState(!1),Ln=sr(),Rr=w||Ln||vs,as=Ot===Do.None?qs.ModelNotSupported:mo&&Yi?qs.RateLimitReached:mo?qs.HasReachedMaxFiles:ps!=null?qs.RateLimitReached:void 0,Dr=s.jsx("div",{"data-testid":"composer-action-file-upload",style:{viewTransitionName:"var(--vt-composer-attach-file-action)"},children:s.jsx(vg,{clientThreadId:i.id,modelSupportedImageMimeTypes:Bt,openFileDialog:es,historyDisabled:ie,highlightTooltip:vo,isLoadingConnectors:Ir,connectorConfig:zs,onSelectConnector:Io,showLabel:tr()==="all"&&(ss(a)||ar),showUpsell:Ln&&!vs,showMenuForNoAuth:vs,isDisabled:!Ft||gs,disabledReason:as,currentModelName:(Kn=r==null?void 0:r.title)!=null?Kn:"",visualTreatment:w?"composer-btn":"legacy",openDropdown:jr,setOpenDropdown:p=>{Er(p),Pr(!1)}})},"file-upload-button");C.useEffect(()=>fd(a).addAction({key:"uploadFile",action:es,actionMessageDescriptor:bi(a,K,!Ft,as,r==null?void 0:r.title),group:Fm.Chat,keyboardBinding:Lm}),[a,r,as,K,Ft,es]);const Br=Qt(a,"853191128"),Nr=O!=null&&O.trim().length>0,Or=!w&&(!Nr||y)&&Tt(a,"3259514411")&&Br.get("is_tatertot_enabled",!1);Lt&&!Be&&(Un=nr?s.jsx(zm,{disabled:m,clientThreadId:i.id,rateLimitPopup:ps,highlightTooltip:vo,label:w?K.formatMessage({id:"composer.plusMenu.label",defaultMessage:"Add files and more"}):K.formatMessage({id:"composer.plusMenu.label.loggedOut.photosOnly",defaultMessage:"Add photos"}),children:s.jsx(Gm,{onClick:es,disabled:gs})}):s.jsx(Hm,{conversation:i,composerController:u,composerDisabled:gs,layoutMode:k,openFileDialog:es,modelSupportedImageMimeTypes:Bt,isFileUploadEnabled:Ft,fileUploadDisabledReason:as,currentModelId:n,currentModelConfig:r,selectModelId:Is,connectorConfig:zs,onSelectConnector:Io,availableSystemHints:te,activeConnectorSystemHintTypes:at,activeSystemHintType:G}));const[Ur,Fn]=C.useState(!1),Lr=kr||gr?"disabled":"default",Fr=!Ds,zr=ef({promptDisabledReason:_,hasExceededFileUploadLimit:bn,hasPendingFiles:uo,hasTextContent:hn,isTextContentTooLong:po,hasAsyncTaskPending:$i,noSourceSelectedDr:!Sn,isDeepResearchTaskStreaming:fs,isThreadHardBlocked:be}),Po=Rs?"streaming":Fr?"disabled":"idle",Gr=Tt(a,"222560275")||n&&!n.startsWith("o1")&&!n.startsWith("o3"),zn=[We!=null&&We.label?{type:We.type,value:We.label,onRemoveRegion:Pn,onLabelClick:We.onLabelClick}:null,U!=null?{type:"mention",value:U.gizmo.display.name,icon:s.jsx(wi,{isFirstParty:!!((Yn=U.gizmo.tags)!=null&&Yn.includes(nn.FirstParty)),src:U.gizmo.display.profile_picture_url,className:"icon"}),onRemoveRegion:()=>{hs.set(i,null),Yt(rt(u))}}:null].filter(p=>p!=null);Ie&&ae&&ae.taskId===Ie&&zn.push({type:"text",value:ae.title,hideQuotes:!0,onRemoveRegion:Ie.startsWith("thinking")?void 0:()=>Ro(i.id)});const Gn=Pi(),Hr=C.useMemo(()=>Xs(()=>f&&!H&&(Z==null?void 0:Z.systemHint)!==ne.Research&&(Z==null?void 0:Z.systemHint)!==ne.ApiTool&&!Ps&&!Gn.visible$()&&Ls()),[f,Z,Ps,Ls,H,Gn]),Wr=p=>{if(p.preventDefault(),p.stopPropagation(),Fe.current>0){const W=performance.now()-Fe.current;Uo.hist(Lo.DEFAULT,"final_user_input_to_submit_ms",[],W)}Po==="streaming"&&(!Zt||Es||En||kn)||Re?fs?Fn(!0):xr(p,Es?"stop_button":"stop_button_with_prompt"):Mo(p)};C.useEffect(()=>{const p=Bo(i.id),I=o==null?void 0:o.normalizedAccountUserId;if(!I||d||Pe||ie)return;const W=gd(Me=>{if(hd(Me.doc))_d(p);else{const Ke=pa(Me.doc).content;yd(p,Ke,I)}},1e3);return ga(()=>_a(u),W)},[o,i.id,u,d,Pe,ie,V]),C.useEffect(()=>{setTimeout(()=>{bd.addFirstTiming("composer.ttfi",{serialTimingGroup:"pageLoad"})},0)},[]);const $r=s.jsx(eg,{canUseInlineTagging:Us,isDisabled:m,clientThreadId:i.id,currentLeafId:he,currentRequestId:P,canContinue:S,composerController:u,isNewThread:f,onContinueGenerating:p=>{var I;return e({event:p,conversationMode:(I=$o(i.id))==null?void 0:I.mode,systemHints:G?[G]:[]})},onResetState:ko,openFileDialog:es,conversationMode:T}),qr=!Rs&&T!=null&&Gr&&Wm.includes(T.kind)&&s.jsx($m,{conversation:i,onTargetedReply:fr}),Vr=s.jsx(of,{composerController:u,parsedDocumentHandler:br}),Jr=!b&&s.jsx(zf,{className:g}),Kr=s.jsx(qm,{modelSupportedImageMimeTypes:Bt,uploadType:Do.Multimodal,attachmentsProductFeature:Pt==null?void 0:Pt.attachments,contextScopes:wo}),Yr=Tt(a,"3127600850"),Qr=[!Lt&&Rr?Dr:null,null,!w&&!Lt&&!bo&&!X?s.jsx(Vm,{account:o,clientBootstrapFlags:As,features:se,currentModelConfig:r,isDisabled:gs,clientThreadId:i.id,composerController:u,gizmoId:O}):lr&&!X?s.jsx(Jm,{activeSystemHintType:G,systemHints:te,composerController:u,clientThreadId:i.id,disabled:gs}):null,!w&&!Lt&&!bo&&Or&&!X?s.jsx(Km,{composerController:u,clientThreadId:i.id}):null,!w&&!Lt&&!bo&&!X&&ir?s.jsx(Ym,{}):null].filter(p=>p!=null);return s.jsxs(Qm.Provider,{value:lo,children:[s.jsxs("div",{className:ut("pointer-events-auto relative z-1 flex h-[var(--composer-container-height,100%)] max-w-full flex-[var(--composer-container-flex,1)] flex-col"),onPaste:yr,children:[s.jsx(Xm,{onOauthRedirect:Dn}),Yr&&s.jsx(rh,{}),Jr,ae&&Ur&&s.jsx(Zm,{taskId:ae.taskId,clientThreadId:i.id,onClose:()=>Fn(!1)}),s.jsx(th,{hasFiles:co,pendingFiles:Ut,isUploadDisabled:!Ft,conversation:i,highlightUploadTooltip:vo,disableReason:zr,excessFileCount:yn,remainingFileUploads:ms,uploadButtonDisabledReason:as,currentModelConfig:r,conversationMode:T,state:Po,inputState:Lr,gizmoId:O,includeSidebarContextTray:vn,isTemporaryChat:ie,placeholder:Ar,shouldUseRotatingPlaceholders:Tr,composerController:u,onSubmit:Wr,replyRegions:zn,leadingAction:Un,legacyFooterActions:Qr,activeSystemHint:Z,activeConnectorSystemHints:Li,isDeepResearchAppActive:xe,shouldShowAgentSessionModeDropdown:Ce,hideSystemHint:Ne||!w&&!Lt,isSystemHintLocked:Ne,onRemoveSystemHint:io,forceStopButton:Zi,onRemoveModel:fn,contextualAnswerUserConnectionData:pt,fileInput:s.jsx("input",yt({},ur())),expanded:Lt?void 0:!0,expandOnMultilineInput:Lt,layoutMode:k,agentSessionModeNuxModal:Te,isAgentSessionModeDropdownDisabled:Ue||(Ze==null?void 0:Ze.has("cloud"))}),s.jsx(hg,{systemHints:te!=null?te:[],availableSystemHints:te!=null?te:[],composerController:u,clientThreadId:i.id,layoutMode:k,composerLayer:yo,canUseInlineTagging:Us,isFileUploadEnabled:Ft,fileUploadDisabledReason:as,currentModelConfig:r!=null?r:null,openFileDialog:es,connectionInstanceData:pt,setActiveSystemHintType:D,selectModelId:Is,gizmoId:O!=null?O:null,hasGizmoFeatureRateLimit:B,setSelectedGizmoTag:p=>hs.set(i,p)}),!1,!pi(G)&&s.jsx(tf,{canShowAutocomplete$:Hr,layoutMode:k,composerController:u,clientThreadId:i.id})]}),Vr,$r,qr,Kr,G&&te&&s.jsx(ch,{conversation:i,availableSystemHints:te,systemHintType:G,onRemoveSystemHint:io})]})}const ch=({conversation:t,availableSystemHints:e,systemHintType:o,onRemoveSystemHint:n})=>{const r=e!=null&&!pi(o)&&e.every(S=>S.systemHint!==o),d=pe(()=>Sd(t)),{isBlocked:i}=ki(o),f=Ve(),l=!ss(f);C.useEffect(()=>{d&&(r||i)&&!l&&n()},[r,i,l,n,o,d]);const m=Dt(t.id,mt.getLastAssistantMessage),_=ui(),x=C.useMemo(()=>Tt(f,"2857215914"),[f]);return C.useEffect(()=>{var S;if(x){const c=(_==null?void 0:_.has("connector:connector_openai_shopping"))===!0,g=(m==null?void 0:m.channel)==="final"&&((S=m==null?void 0:m.metadata)==null?void 0:S.mercury_message)===!0&&m.status==="in_progress";c&&g&&n()}},[_,m,n,x]),null},dh=Wt(()=>Ht(()=>import("./hn1woqxlscagz0nl.js").then(t=>t.v),__vite__mapDeps([17,1,3,4,18,2,5,19,20,21,22,23,24,25,26,27])).then(t=>t.VoiceHintContainer));function Th(t){"use forget";var ue,N;const e=jt.c(72),{conversation:o,currentModelId:n,disableDraftPersistence:r,isNewThread:d,isProjectThread:i,onRequestCompletion:f,onContinueGenerating:l,headerClassName:m,hideHeader:_,onlyAllowImageUploads:x,layoutMode:S}=t,c=r===void 0?!1:r,g=i===void 0?!1:i,b=S===void 0?"bottom":S,h=Ve();let k;e[0]!==o?(k=()=>sn(o),e[0]=o,e[1]=k):k=e[1];const M=pe(k),[y,O,a,T,E,U]=Dt(o.id,ph);let v;e[2]!==h?(v=za(h),e[2]=h,e[3]=v):v=e[3];const j=v,H=Zo();let u;e[4]!==o.id?(u={clientThreadId:o.id},e[4]=o.id,e[5]=u):u=e[5];const A=lf(u);let F;e[6]===Symbol.for("react.memo_cache_sentinel")?(F={type:"just-hit-rate-limit"},e[6]=F):F=e[6];const{isOpen:re,onClose:Q}=cf(F);let $;e:{if(!A){$=!y&&O;break e}$=!1}const w=$,J=A,K=Cd(o.id),q=Dt(o.id,mt.hasRecentPIMWarning),Y=Md(K).data,ge=df();let X;e:{if(q){X="pimBlock";break e}if(T){X="readOnlyConversation";break e}if(((ue=Y==null?void 0:Y.gizmo.tags)==null?void 0:ue.includes(nn.WorkspaceDisabled))&&!ge){X="workspaceDisallowsGizmo";break e}if(M.models.size===0){X="noModelsAvailable";break e}if((a==null?void 0:a.kind)===Wa.GizmoTest&&a.gizmo_id==null){X="noTestGizmoId";break e}X=null}const de=X,he=al(),P=Td(),ce=he.action==="moderate";let _e;e[7]!==h?(_e=Tt(h,"1860647109"),e[7]=h,e[8]=_e):_e=e[8];const ve=_e,Oe=Jo.useState(uh),ee=Ad(),$e=(N=Y==null?void 0:Y.gizmo.id)!=null?N:ee;let ae;e[9]!==h||e[10]!==$e?(ae=vd(h,$e),e[9]=h,e[10]=$e,e[11]=ae):ae=e[11];const me=ae;let Re;e[12]!==n||e[13]!==M?(Re=Id(M,n),e[12]=n,e[13]=M,e[14]=Re):Re=e[14];const Ie=Re;let Be;e[15]!==o||e[16]!==Oe?(Be=()=>Oe?[]:ff(o),e[15]=o,e[16]=Oe,e[17]=Be):Be=e[17];const Ue=pe(Be);let te;e[18]!==h?(te=uf(h),e[18]=h,e[19]=te):te=e[19];const De=!te,Ge=so();let Le;e[20]!==Ue||e[21]!==H||e[22]!==o.id||e[23]!==n||e[24]!==De||e[25]!==A?(Le=s.jsx(pf,{availableSystemHints:Ue,composerController:H,clientThreadId:o.id,currentModelId:n,isCompletionInProgress:A,expireConduit:De}),e[20]=Ue,e[21]=H,e[22]=o.id,e[23]=n,e[24]=De,e[25]=A,e[26]=Le):Le=e[26];let se;e[27]!==ce||e[28]!==ve||e[29]!==P?(se=P&&ce&&ve?s.jsx(gf,{}):null,e[27]=ce,e[28]=ve,e[29]=P,e[30]=se):se=e[30];let ie;e[31]!==se?(ie=s.jsx("div",{className:"flex justify-center empty:hidden",children:se}),e[31]=se,e[32]=ie):ie=e[32];let le;e[33]!==re||e[34]!==Q?(le=re?s.jsx(hf,{onClose:Q}):null,e[33]=re,e[34]=Q,e[35]=le):le=e[35];let V;e[36]!==(j==null?void 0:j.normalizedAccountUserId)||e[37]!==o.id||e[38]!==g?(V=g&&s.jsx(mf,{clientThreadId:o.id,accountUserId:j==null?void 0:j.normalizedAccountUserId}),e[36]=j==null?void 0:j.normalizedAccountUserId,e[37]=o.id,e[38]=g,e[39]=V):V=e[39];let B;e[40]!==o.id||e[41]!==Ge?(B=Ge?s.jsx("div",{className:"relative flex items-center justify-center",children:s.jsx(dh,{conversationId:o.id})}):null,e[40]=o.id,e[41]=Ge,e[42]=B):B=e[42];const ye=o.id,be=!!de,G=de!=null?de:void 0,Z=P||E||U;let D;e[43]!==j||e[44]!==Ue||e[45]!==w||e[46]!==J||e[47]!==o||e[48]!==Ie||e[49]!==n||e[50]!==c||e[51]!==$e||e[52]!==m||e[53]!==_||e[54]!==A||e[55]!==d||e[56]!==me||e[57]!==b||e[58]!==l||e[59]!==f||e[60]!==x||e[61]!==be||e[62]!==G||e[63]!==Z?(D=s.jsx(lh,{conversation:o,disableDraftPersistence:c,onCreateNewCompletion:f,onContinueGenerating:l,currentModelId:n,account:j,currentModelConfig:Ie,isNewThread:d,isCompletionInProgress:A,className:"w-full",canContinue:w,disabled:be,disabledReason:G,canPause:J,isInteractableSharedThread:Z,headerClassName:m,hideHeader:_,onlyAllowImageUploads:x,layoutMode:b,availableSystemHints:Ue,isSnorlaxEnabledForGizmo:me,gizmoId:$e},ye),e[43]=j,e[44]=Ue,e[45]=w,e[46]=J,e[47]=o,e[48]=Ie,e[49]=n,e[50]=c,e[51]=$e,e[52]=m,e[53]=_,e[54]=A,e[55]=d,e[56]=me,e[57]=b,e[58]=l,e[59]=f,e[60]=x,e[61]=be,e[62]=G,e[63]=Z,e[64]=D):D=e[64];let oe;return e[65]!==Le||e[66]!==ie||e[67]!==le||e[68]!==V||e[69]!==B||e[70]!==D?(oe=s.jsxs(s.Fragment,{children:[Le,ie,le,V,B,D]}),e[65]=Le,e[66]=ie,e[67]=le,e[68]=V,e[69]=B,e[70]=D,e[71]=oe):oe=e[71],oe}function uh(t){const{locked:e}=t;return e}function ph(t){var o;const e=mt.getCurrentNode(t);return[((o=e.message.clientMetadata)==null?void 0:o.errType)!=null&&e.message.clientMetadata.errType!=="info",Pd(mt.getCurrentNode(t).message),t==null?void 0:t.mode,mt.getIsReadOnly(t),!!(t!=null&&t.continuingFromSharedPostId),(t==null?void 0:t.continuingFromSharedProjectConversationId)!=null]}export{Zg as C,Mh as D,Ch as M,Th as P,Lf as S,kh as T,zf as a,Cf as b,jf as c,Tf as d,Ra as p,Ri as u};
//# sourceMappingURL=obpubb7ugisfu36u.js.map

var T=Object.defineProperty;var I=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var M=(e,t,s)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,w=(e,t)=>{for(var s in t||(t={}))$.call(t,s)&&M(e,s,t[s]);if(I)for(var s of I(t))j.call(t,s)&&M(e,s,t[s]);return e};import{c as k,ak as A,h as B,j as y,M as _,m as V}from"./mw35uwhq4g8r9eam.js";import{ed as E,bH as P}from"./g2euln7v5pbm31qa.js";import{jZ as b,d as v,qI as z,qJ as O,qK as D}from"./d0xa318sl7ywi0za.js";import{D as L}from"./jq5arodfofi7kok7.js";import"./ftef8970ba1zoykr.js";function x(e){return e==="/"?"/":e.replace(/\/+$/,"")}function R({currentLocation:e,nextLocation:t,isIntegratedVoiceModeActive:s,voiceCompletionRequest:i,integratedVoiceModeState:f,isEndingVoiceSession:l}){var r;if(!s)return!1;const o=x(e.pathname),n=x(t.pathname);if(!(o==="/")&&o===n||l)return!1;const m=i==null?void 0:i.responseThreadId;if(m){const c=V("/c/:conversationId",n),a=V("/g/:gizmoId/c/:conversationId",n);if(((r=c==null?void 0:c.params.conversationId)!=null?r:a==null?void 0:a.params.conversationId)===m)return!1}return f!=null}const W=()=>{"use forget";const e=k.c(17),t=b(),s=v(q),i=v(F),f=v(H);let l;e[0]!==i||e[1]!==f||e[2]!==t||e[3]!==s?(l=d=>{const{nextLocation:C,currentLocation:N}=d;return R({currentLocation:N,nextLocation:C,isIntegratedVoiceModeActive:t,voiceCompletionRequest:s,integratedVoiceModeState:i,isEndingVoiceSession:f})},e[0]=i,e[1]=f,e[2]=t,e[3]=s,e[4]=l):l=e[4];const o=A(l),n=B(),h=o.state==="blocked";let p;e[5]!==o?(p=()=>{var d;(d=o.reset)==null||d.call(o)},e[5]=o,e[6]=p):p=e[6];const m=p;let r;e[7]!==o?(r=async()=>{var d;await E({type:"STOP",reason:L.UserNavigatedAway}),(d=o.proceed)==null||d.call(o)},e[7]=o,e[8]=r):r=e[8];const c=r;let a;e[9]!==n?(a=n.formatMessage(S.title),e[9]=n,e[10]=a):a=e[10];let u;e[11]===Symbol.for("react.memo_cache_sentinel")?(u=y.jsx(_,w({},S.description)),e[11]=u):u=e[11];let g;return e[12]!==c||e[13]!==m||e[14]!==h||e[15]!==a?(g=y.jsx(P,{title:a,isOpen:h,onClose:m,onConfirm:c,primaryButtonColor:"danger",children:u}),e[12]=c,e[13]=m,e[14]=h,e[15]=a,e[16]=g):g=e[16],g},S={title:{id:"voice-navigation-blocker.title",defaultMessage:"Voice Mode is still active",description:"Title of the modal that appears when the user tries to navigate away from the page while voice mode is active"},description:{id:"voice-navigation-blocker.description",defaultMessage:"Navigating away from this page will end your voice mode session.",description:"Message of the modal that appears when the user tries to navigate away from the page while voice mode is active"}};function q(){return z()}function F(){return O()}function H(){return D()}export{W as VoiceNavigationBlocker};
//# sourceMappingURL=klou7w1qk96r1yfx.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/bdf31r8xn6os9zdy.js","assets/mw35uwhq4g8r9eam.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/g2euln7v5pbm31qa.js","assets/conversation-small-lq38g8zw.css","assets/igahr13r672ordw9.js","assets/eta7os1ap17n8pqe.js","assets/bhvk929w0gb4odci.js","assets/cz2iwgzw4rck3xnv.js","assets/eq8fcle41l3uoq7q.js","assets/gb86rk5iguj309wb.js","assets/mbmcx8v24u1ao1ke.js","assets/ia54sddtrl9qa2wj.js","assets/gsgwnhjtne39lykz.js","assets/ADAVisualizationComponent-kv1hz405.css"])))=>i.map(i=>d[i]);
var V=Object.freeze,O=Object.defineProperty;var A=(e,n)=>V(O(e,"raw",{value:V(n||e.slice())}));import{j as t,h as k,_ as w}from"./mw35uwhq4g8r9eam.js";import{aw as I,be as W,cH as D,aS as v,cB as N}from"./d0xa318sl7ywi0za.js";import{u as L,g as U}from"./gsgwnhjtne39lykz.js";import{cF as T,cN as B,cB as m,cC as H,cO as P}from"./g2euln7v5pbm31qa.js";import{i as J,C as R,g as G,a as K,b as Q}from"./cz2iwgzw4rck3xnv.js";const E=W(()=>w(()=>import("./bdf31r8xn6os9zdy.js").then(e=>e.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])).then(e=>e.default));function es({messages:e,isRequestActive:n,clientThreadId:d}){var y,C,_,M,j;const[l,s]=e,o=T(l),a=(y=s==null?void 0:s.metadata)==null?void 0:y.aggregate_result,h=L(),u=B(),g=s?U(s):[],i=(M=(_=(C=s==null?void 0:s.metadata)==null?void 0:C.aggregate_result)==null?void 0:_.messages.filter(J))!=null?M:[],p=((j=g.filter(r=>r.type==="chart"))!=null?j:[]).length!==i.length,x=u&&!p;let c=m.Running;return(a==null?void 0:a.status)==="success"?c=m.Finished:s!=null&&s.content.content_type!==I.ExecutionOutput||a!=null&&a.status!=="running"?c=m.Error:(o||!n)&&(c=m.Stopped),t.jsxs(t.Fragment,{children:[t.jsx(X,{messages:e,status:c,isRequestActive:n}),x&&g.map((r,S)=>{const{type:z}=r;return z==="chart"&&!h?(r.fallback_to_image=!0,t.jsx(b,{children:t.jsx(E,{clientThreadId:d,visualization:r})},S)):t.jsx(b,{children:t.jsx(E,{clientThreadId:d,visualization:r})},S)}),!x&&s!=null&&t.jsx(R,{message:s})]})}var F;const b=N.div(F||(F=A(["mb-3 max-w-[80%]"])));function X({messages:e,status:n,isRequestActive:d}){var f;const[l,s]=e,o=k(),a=(f=s==null?void 0:s.metadata)==null?void 0:f.aggregate_result,h=T(l),{data:u,isLoading:g}=D(v.ShowExpandedCodeView);let i=o.formatMessage({id:"message.tools.data-analysis.running",defaultMessage:"Analyzing"});if((a==null?void 0:a.status)==="success"?i=o.formatMessage({id:"message.tools.data-analysis.finished",defaultMessage:"Analyzed"}):s!=null&&s.content.content_type!==I.ExecutionOutput||a!=null&&a.status!=="running"?i=o.formatMessage({id:"message.tools.data-analysis.error",defaultMessage:"Analysis errored"}):(h||!d)&&(i=o.formatMessage({id:"message.tools.data-analysis.stopped",defaultMessage:"Analysis paused"})),!g){const p=G(l)!=null;return t.jsx(H,{status:n,highlightedCommand:i,showWorkUserSetting:u!=null?u:!1,hideOnlyIfNotInteractedWith:!0,children:p?t.jsxs("div",{className:"bg-token-main-surface-primary mt-0.5 mb-3 overflow-hidden rounded-b-xl",children:[t.jsx(K,{message:l,FormattedText:P,codeRendererClassName:"rounded-t-md rounded-b-none"}),s!=null&&t.jsx(Q,{message:s})]}):null})}return null}export{es as DataAnalysisMessage};
//# sourceMappingURL=no13ci302k09f2bj.js.map

var E=Object.defineProperty,w=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var P=(o,t,e)=>t in o?E(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,h=(o,t)=>{for(var e in t||(t={}))T.call(t,e)&&P(o,e,t[e]);if(f)for(var e of f(t))b.call(t,e)&&P(o,e,t[e]);return o},_=(o,t)=>w(o,S(t));import{y as x,k as L,d as k,a9 as v,r as c,ae as F,j as i,e as j}from"./mw35uwhq4g8r9eam.js";import{bR as K,bn as N}from"./g2euln7v5pbm31qa.js";import{C as A,i as l,a as g}from"./eelq57udayslns33.js";import{A as U}from"./mn4kjdml8rch5m0h.js";import{cz as D,e7 as I,u as q,J as z,er as G,aL as H,au as J,lo as V,_ as Y}from"./d0xa318sl7ywi0za.js";import"./keveoph4stiufpkl.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./iej0cupg2dqkmejt.js";import"./3xa3aq3nbd1nd678.js";import"./jcku1nkz6suna4le.js";import"./ft9n9n4a6jtky5jr.js";import"./ht6uzt6gonugd1uu.js";import"./ksjc0uotmfxlch1n.js";import"./mdhx8v0rk5lzwfyg.js";import"./f6omfo4phchipc3g.js";import"./nte82mqftpddm52f.js";import"./jwvkjd19mng37ttq.js";import"./m2xec4gtk8ypy5ff.js";import"./mbe20fj6m6dgadji.js";import"./o8prkdn1e023m13y.js";import"./pbx1h703pubtj7lo.js";import"./l4v2i2dq9gwjak1q.js";import"./gy0y4tth3qg3lagh.js";import"./ku5gt2a8mwp30g8p.js";const y={pro:"chatgptpro",plus:"chatgptplusplan"},C={[g.SORA]:"sora_redirect",[g.OPERATOR]:"operator_redirect"};function $(o){l(o)&&(window.location.href=A[o])}const At=x(function(){const[t]=L(),e=k(),R=D(),{plan:s}=v(),r=t.get("checkout_from"),u=c.useRef(!1),a=I(),p=c.useMemo(()=>a==null?void 0:a.subscriptionAnalyticsParams,[a]),O=q(),n=z(O,"1719651090");if(!s||!(s in y))throw F("/");return c.useEffect(()=>{if(!a||u.current)return;if(u.current=!0,r==="vza493q"){a.hasPaidSubscription()&&a.isPro()?window.location.href=A[r]:n||e("/");return}(async()=>{const m=l(r)&&C[r]?C[r]:"purchase_plan_redirect";try{l(r)&&H.setItem(J.CheckoutFrom,r);const d=await K.getCheckoutLink({plan_name:y[s],billing_details:{currency:V}});Y.logEvent("Account Pay: Purchase Plan Redirect",_(h({},p),{plan:s,location:m})),window.location.href=d.url}catch(d){N(e,m)}})()},[e,R,s,r,p,n,a]),i.jsxs(i.Fragment,{children:[a&&r==="vza493q"&&n&&i.jsx(U,{currentAccount:a,onClose:()=>$(r),subtitle:M.operatorModalSubtitle,title:M.operatorModalTitle}),i.jsx("div",{className:"flex h-full w-full items-center justify-center",children:i.jsx(G,{})})]})}),M=j({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{At as default};
//# sourceMappingURL=dh2nwdfhdop35byy.js.map

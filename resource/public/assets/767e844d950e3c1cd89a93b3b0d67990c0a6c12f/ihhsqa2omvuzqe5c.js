const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/effo62xgsr5le3xx.js","assets/mw35uwhq4g8r9eam.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/cso97771s1xclnnu.js","assets/gl4f6lge29au0ljx.js","assets/g2euln7v5pbm31qa.js","assets/conversation-small-lq38g8zw.css","assets/iio0zgk2sqlxbcjy.js","assets/m89x2zftpo6hrypr.js","assets/nwi6271w6gf5bx4p.js"])))=>i.map(i=>d[i]);
var jt=Object.defineProperty,bt=Object.defineProperties;var St=Object.getOwnPropertyDescriptors;var lt=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable;var at=(c,e,t)=>e in c?jt(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,Q=(c,e)=>{for(var t in e||(e={}))yt.call(e,t)&&at(c,t,e[t]);if(lt)for(var t of lt(e))$t.call(e,t)&&at(c,t,e[t]);return c},Ie=(c,e)=>bt(c,St(e));import{_ as dt,c as D,j as l,r as B,M as Y,L as Pt,h as Ze,d as Ct}from"./mw35uwhq4g8r9eam.js";import{be as ft,pA as wt,d as F,u as ue,J as ut,cF as H,M as _t,al as Fe,as as Mt,aA as gt,kv as Nt,pB as Et,pz as xt,hq as kt,hz as ht,fB as W,hs as J,jB as X,rN as Qe,iw as zt,g as It,jh as Tt,lA as Ft,gU as At,oH as Lt,fG as Ot,n0 as Ht,U as Rt,sV as rt,ht as Bt,bq as Te,sW as qt,hw as Dt,gh as Ut,hA as Vt,aD as Xe,fg as Gt}from"./d0xa318sl7ywi0za.js";import{aO as Jt,ba as pt,n4 as Wt,aR as Kt,ak as Qt,al as Xt,hf as Yt,n5 as Zt,n6 as es,aV as ts,aU as ss,aN as ct,n7 as mt,n8 as os,n9 as ns,aP as is}from"./g2euln7v5pbm31qa.js";import{D as ls}from"./gl4f6lge29au0ljx.js";import{P as as}from"./obpubb7ugisfu36u.js";import{SnorlaxConversationItemOverflowMenu as rs,useProjectsDragDrop as cs}from"./jc1wlz3ym1r6tf2l.js";import{u as ms}from"./f9zm06cvq49h9y4w.js";import{P as ds,a as fs}from"./li475lsknqa5ome3.js";import{u as Ye}from"./ht6uzt6gonugd1uu.js";import"./iio0zgk2sqlxbcjy.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";const us=ft(()=>dt(()=>import("./effo62xgsr5le3xx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(c=>c.ProjectFileModal));function gs(c){"use forget";const e=D.c(11),{project:t,onNavigateToConversation:m}=c;wt(t.id);let i;e[0]!==t?(i=()=>t.conversations$().all$(),e[0]=t,e[1]=i):i=e[1];const n=F(i);let s;e[2]!==t?(s=()=>t.conversations$().canShowConversations$(),e[2]=t,e[3]=s):s=e[3];const r=F(s);let d;e[4]!==r||e[5]!==n||e[6]!==m||e[7]!==t?(d=r&&l.jsx(xs,{items:n,project:t,onNavigateToConversation:m}),e[4]=r,e[5]=n,e[6]=m,e[7]=t,e[8]=d):d=e[8];let f;return e[9]!==d?(f=l.jsx("section",{children:d}),e[9]=d,e[10]=f):f=e[10],f}function xs(c){"use forget";var O,z;const e=D.c(47),{project:t,items:m,onNavigateToConversation:i}=c,n=ue();let s;e[0]!==n?(s=ut(n,"773249106"),e[0]=n,e[1]=s):s=e[1];const r=s;let d;e[2]!==t?(d=()=>t.conversations$().canFetchMore$(),e[2]=t,e[3]=d):d=e[3];const f=F(d);let x;e[4]!==t?(x=()=>t.gizmo$(),e[4]=t,e[5]=x):x=e[5];const u=F(x);let p;e[6]!==t?(p=()=>t.conversations$().awaitingManualRetry$(),e[6]=t,e[7]=p):p=e[7];const g=F(p);let $;e[8]!==t?($=()=>t.conversations$().fetchMore$,e[8]=t,e[9]=$):$=e[9];const h=F($);let y;e[10]!==t?(y=()=>t.conversations$().cursor$(),e[10]=t,e[11]=y):y=e[11];const o=F(y);let v;e[12]!==t?(v=()=>t.conversations$().isLoading$(),e[12]=t,e[13]=v):v=e[13];const a=F(v);let _;e[14]!==t?(_=()=>t.isShared$(),e[14]=t,e[15]=_):_=e[15];const k=F(_);let M;e[16]!==m||e[17]!==((O=u==null?void 0:u.gizmo)==null?void 0:O.author)?(M=m==null?void 0:m.some(R=>{var K,Z;return"owner"in R&&((K=R.owner)==null?void 0:K.user_id)!==((Z=u==null?void 0:u.gizmo)==null?void 0:Z.author.user_id)}),e[16]=m,e[17]=(z=u==null?void 0:u.gizmo)==null?void 0:z.author,e[18]=M):M=e[18];const w=r&&(k||M),S=a&&"skeleton";let N;e[19]!==S?(N=H("divide-token-bg-tertiary group divide-y",S),e[19]=S,e[20]=N):N=e[20];let j;e[21]!==m||e[22]!==i||e[23]!==u||e[24]!==w?(j=u&&m&&m.map(R=>l.jsx("li",{className:"group/project-item hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex min-h-16 cursor-pointer items-center p-3 text-sm select-none",children:l.jsx(js,{conversation:R,project:u,showAvatar:w!=null?w:!1,onNavigateToConversation:i})},R.id)),e[21]=m,e[22]=i,e[23]=u,e[24]=w,e[25]=j):j=e[25];let E;e[26]!==f||e[27]!==h||e[28]!==a?(E=!a&&f&&l.jsx(gt,{type:"button",onClick:h,className:"keyboard-not-focused:sr-only",children:l.jsx(Y,{id:"project.conversation-list.load-more",defaultMessage:"Load more conversations"})}),e[26]=f,e[27]=h,e[28]=a,e[29]=E):E=e[29];let b;e[30]!==g||e[31]!==t?(b=g&&l.jsx(pt,{type:"normal",className:"mt-2",dangerCtaText:"Try again",onDangerCtaClick:()=>{t.conversations$().awaitingManualRetry$.set(!1)},content:l.jsx(Y,{id:"project.conversation-list.awaiting-manual-retry",defaultMessage:"Loading more conversations failed. Please try again."}),icon:l.jsx(Wt,{className:"icon"})}),e[30]=g,e[31]=t,e[32]=b):b=e[32];let P;e[33]!==a?(P=a&&l.jsx(hs,{}),e[33]=a,e[34]=P):P=e[34];let T;e[35]!==f||e[36]!==o||e[37]!==h?(T=l.jsx(vs,{canFetchMore:f,fetchMore:h},o),e[35]=f,e[36]=o,e[37]=h,e[38]=T):T=e[38];let A;return e[39]!==a||e[40]!==N||e[41]!==j||e[42]!==E||e[43]!==b||e[44]!==P||e[45]!==T?(A=l.jsxs("ol",{className:N,"aria-busy":a,children:[j,E,b,P,T]}),e[39]=a,e[40]=N,e[41]=j,e[42]=E,e[43]=b,e[44]=P,e[45]=T,e[46]=A):A=e[46],A}function hs(){"use forget";const c=D.c(6),e=Ze();let t;c[0]!==e?(t=()=>Array.from({length:2},(s,r)=>({id:r,title:e.formatMessage({id:"project.conversation-list.loading-title",defaultMessage:"Loading conversation title..."}),snippet:e.formatMessage({id:"project.conversation-list.loading-snippet",defaultMessage:"Loading conversation snippet..."})})),c[0]=e,c[1]=t):t=c[1];const[m]=B.useState(t);let i;c[2]!==m?(i=m.map(ps),c[2]=m,c[3]=i):i=c[3];let n;return c[4]!==i?(n=l.jsx(l.Fragment,{children:i}),c[4]=i,c[5]=n):n=c[5],n}function ps(c){return l.jsx("li",{className:"mt-1 flex min-h-15 items-center p-3 text-sm",inert:!0,"aria-hidden":!0,children:l.jsx(vt,{conversationTitle:c.title,showAvatar:!0,monogram:null,snippet:c.snippet,skeleton:!0})},c.id)}function vs(c){"use forget";const e=D.c(8),{canFetchMore:t,fetchMore:m}=c;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={threshold:1},e[0]=i):i=e[0];const[n,s]=ms(i);let r,d;if(e[1]!==t||e[2]!==m||e[3]!==n?(r=()=>{t&&n&&m()},d=[t,m,n],e[1]=t,e[2]=m,e[3]=n,e[4]=r,e[5]=d):(r=e[4],d=e[5]),B.useEffect(r,d),!t)return null;let f;return e[6]!==s?(f=l.jsx("div",{className:"min-h-0 w-full",inert:!0,ref:s}),e[6]=s,e[7]=f):f=e[7],f}const js=c=>{"use forget";var j,E;const e=D.c(36),{conversation:t,project:m,showAvatar:i,onNavigateToConversation:n}=c,s=(j=_t(t.id,bs))!=null?j:t.title,[r,d]=B.useState(!1);let f,x;e[0]!==t.id?(f=()=>Nt(Kt,{editTitleInMainScreen:b=>{const{serverThreadId:P}=b;P===t.id&&d(!0)}}),x=[t.id],e[0]=t.id,e[1]=f,e[2]=x):(f=e[1],x=e[2]),B.useEffect(f,x);const u=ue(),{snippet:p}=t;let g,$,h,y,o;if(e[3]!==t||e[4]!==u||e[5]!==m.gizmo){const b=(E=Fe(u))==null?void 0:E.normalizedAccountUserId;g="owner"in t?t.owner:null,y=g==null?void 0:g.user_id,$=g==null?void 0:g.name,h=g==null?void 0:g.user_email,o=Mt(t.id,{project:m.gizmo,ownerUserId:y,accountUserId:b}),e[3]=t,e[4]=u,e[5]=m.gizmo,e[6]=g,e[7]=$,e[8]=h,e[9]=y,e[10]=o}else g=e[6],$=e[7],h=e[8],y=e[9],o=e[10];const v=o;let a;e[11]!==t||e[12]!==r?(a=r?l.jsx(Jt,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{d(!1)}}):null,e[11]=t,e[12]=r,e[13]=a):a=e[13];let _;e[14]!==t||e[15]!==r?(_=!r&&l.jsx(rs,{conversation:t,isNewProjectPage:!0}),e[14]=t,e[15]=r,e[16]=_):_=e[16];const k=p?!1:"snippet";let M;e[17]!==g||e[18]!==$||e[19]!==h||e[20]!==y?(M=g&&$&&y?{label:$,id:y,sublabel:h}:null,e[17]=g,e[18]=$,e[19]=h,e[20]=y,e[21]=M):M=e[21];let I;e[22]!==s||e[23]!==i||e[24]!==p||e[25]!==a||e[26]!==_||e[27]!==k||e[28]!==M?(I=l.jsx(vt,{conversationTitle:s,editor:a,overflowMenu:_,snippet:p,skeleton:k,showAvatar:i,monogram:M}),e[22]=s,e[23]=i,e[24]=p,e[25]=a,e[26]=_,e[27]=k,e[28]=M,e[29]=I):I=e[29];const w=I;if(r)return w;let S;e[30]!==n?(S=b=>{n==null||n(),(b.target instanceof HTMLElement&&b.target.dataset.preventDefault||b.target instanceof SVGElement)&&b.preventDefault()},e[30]=n,e[31]=S):S=e[31];let N;return e[32]!==w||e[33]!==v||e[34]!==S?(N=l.jsx(Pt,{to:v,draggable:!1,className:"w-full",onClick:S,children:w}),e[32]=w,e[33]=v,e[34]=S,e[35]=N):N=e[35],N};function vt({showAvatar:c,monogram:e,editor:t,overflowMenu:m,conversationTitle:i,skeleton:n,snippet:s}){return l.jsxs("div",{className:H("flex w-full items-center gap-4",n&&"group skeleton"),children:[c&&l.jsx(Et,{monogram:e}),l.jsxs("div",{className:"grow overflow-hidden",children:[t||l.jsx("div",{className:H("text-sm font-medium",n===!0&&"skeleton-child w-fit min-w-[50%]"),children:i}),l.jsx("div",{className:H("text-token-text-secondary min-h-0 truncate text-sm",n&&"skeleton-child mt-px w-fit"),children:s})]}),m]})}function bs(c){return c==null?void 0:c.title}function Ss(c){"use forget";var O,z;const e=D.c(48),{onRequestEdit:t,onRequestAddFiles:m,onRequestUpdateProject:i,projectData:n}=c,s=ue(),r=B.use(xt),d=F(r.isSkeleton$),{canEdit:f}=kt(n);let x;e[0]!==s?(x=(O=Fe(s))==null?void 0:O.normalizedAccountUserId,e[0]=s,e[1]=x):x=e[1];const u=x,p=((z=n==null?void 0:n.gizmo.author)==null?void 0:z.user_id)===u;let g;e[2]!==r?(g=()=>{var R;return!!((R=r.conversations$().all$())!=null&&R.length)},e[2]=r,e[3]=g):g=e[3];const $=F(g);let h;e[4]!==r?(h=()=>r.title$(),e[4]=r,e[5]=h):h=e[5];const y=F(h);let o;e[6]!==s||e[7]!==n?(o=ht(),e[6]=s,e[7]=n,e[8]=o):o=e[8];const v=o;let a;e[9]!==s||e[10]!==v?(a=!1,e[9]=s,e[10]=v,e[11]=a):a=e[11];const _=a,k=d&&"group skeleton",M=!$&&"max-md:flex-1 max-md:flex-col max-md:items-center max-md:justify-center max-md:gap-1.5",I=$&&"max-md:flex-col max-md:gap-4";let w;e[12]!==k||e[13]!==M||e[14]!==I?(w=H("flex justify-between",k,M,I),e[12]=k,e[13]=M,e[14]=I,e[15]=w):w=e[15];let S;e[16]!==v||e[17]!==p||e[18]!==t||e[19]!==i||e[20]!==r?(S=v?!1:l.jsx(Ps,{canEditEmoji:p,canEditName:p,project:r,onRequestEdit:t,onRequestUpdateProject:i}),e[16]=v,e[17]=p,e[18]=t,e[19]=i,e[20]=r,e[21]=S):S=e[21];const N=$?"max-md:w-full max-md:flex-col":"max-md:w-full max-md:flex-col max-md:items-center";let j;e[22]!==N?(j=H("flex items-start gap-2",N),e[22]=N,e[23]=j):j=e[23];let E;e[24]!==f||e[25]!==v||e[26]!==m||e[27]!==r||e[28]!==n?(E=!v&&l.jsx(ys,{canEdit:f,project:r,projectData:n,onRequestAddFiles:m}),e[24]=f,e[25]=v,e[26]=m,e[27]=r,e[28]=n,e[29]=E):E=e[29];let b;e[30]!==v||e[31]!==(n==null?void 0:n.gizmo)||e[32]!==_?(b=!1,e[30]=v,e[31]=n==null?void 0:n.gizmo,e[32]=_,e[33]=b):b=e[33];let P;e[34]!==f||e[35]!==d||e[36]!==r.id||e[37]!==y?(P=!1,e[34]=f,e[35]=d,e[36]=r.id,e[37]=y,e[38]=P):P=e[38];let T;e[39]!==j||e[40]!==E||e[41]!==b||e[42]!==P?(T=l.jsxs("div",{className:j,children:[E,b,P]}),e[39]=j,e[40]=E,e[41]=b,e[42]=P,e[43]=T):T=e[43];let A;return e[44]!==S||e[45]!==T||e[46]!==w?(A=l.jsxs("div",{className:w,children:[S,T]}),e[44]=S,e[45]=T,e[46]=w,e[47]=A):A=e[47],A}function ys(c){"use forget";const e=D.c(15),{canEdit:t,project:m,projectData:i,onRequestAddFiles:n}=c,{files:s}=i!=null?i:{},r=s===void 0?[]:s,d=!r.length,f=F(m.isSkeleton$);let x,u;if(!f&&d&&!t)return null;if(d){let o;e[0]!==t||e[1]!==i?(o=i?l.jsx(Y,Q({},t?W.addFilesButtonLabel:W.viewFilesButtonLabel)):null,e[0]=t,e[1]=i,e[2]=o):o=e[2],x=o,u=null}else{const o=r.slice(0,3);x=l.jsx(Y,Ie(Q({},W.filesCount),{values:{count:r.length}}));let v;e[3]!==(i==null?void 0:i.gizmo)?(v=(a,_)=>l.jsx($s,{file:a,index:_,gizmoId:i==null?void 0:i.gizmo.id},a.file_id),e[3]=i==null?void 0:i.gizmo,e[4]=v):v=e[4],u=l.jsx("div",{className:"isolate inline-flex items-center max-sm:sr-only",children:o.map(v)})}const p=f&&"skeleton-child w-20";let g;e[5]!==p?(g=H("max-md:w-fit",p,"group/project-control-tile"),e[5]=p,e[6]=g):g=e[6];const $=f&&"";let h;e[7]!==$?(h=H($,"gap-1.5 text-token-text-secondary"),e[7]=$,e[8]=h):h=e[8];let y;return e[9]!==u||e[10]!==x||e[11]!==n||e[12]!==g||e[13]!==h?(y=l.jsxs(gt,{color:"secondary",onClick:n,className:g,contentWrapperClassName:h,children:[u,x]}),e[9]=u,e[10]=x,e[11]=n,e[12]=g,e[13]=h,e[14]=y):y=e[14],y}function $s(c){"use forget";const e=D.c(20),{file:t,index:m,gizmoId:i}=c,n=t.name;let s;e[0]!==t.file_id||e[1]!==n?(s=zt(n)&&t.file_id!=null,e[0]=t.file_id,e[1]=n,e[2]=s):s=e[2];const r=s;let d;e[3]!==t.file_id||e[4]!==n||e[5]!==i||e[6]!==r?(d=r&&l.jsx(Yt,{fileName:n,fileId:t.file_id,gizmoId:i,className:"[box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]"}),e[3]=t.file_id,e[4]=n,e[5]=i,e[6]=r,e[7]=d):d=e[7];const f=d,x=m>0&&"-ms-2";let u;e[8]!==x?(u=H("border-token-bg-primary group-hover/project-control-tile:border-token-bg-tertiary relative size-5 overflow-hidden rounded-md border-2",x),e[8]=x,e[9]=u):u=e[9];const p=10-m;let g;e[10]!==p?(g={zIndex:p},e[10]=p,e[11]=g):g=e[11];let $;e[12]!==t.name||e[13]!==f?($=f||l.jsx(Zt,{className:"h-4 w-4 shrink-0 rounded-none [box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]",glyphClassName:"h-3 w-3",filename:t.name,contextConnectorInfo:void 0}),e[12]=t.name,e[13]=f,e[14]=$):$=e[14];let h;return e[15]!==t.file_id||e[16]!==u||e[17]!==g||e[18]!==$?(h=l.jsx("span",{className:u,style:g,children:$},t.file_id),e[15]=t.file_id,e[16]=u,e[17]=g,e[18]=$,e[19]=h):h=e[19],h}function Ps(c){"use forget";const e=D.c(49),{canEditEmoji:t,canEditName:m,onRequestEdit:i,onRequestUpdateProject:n,project:s}=c;let r;e[0]!==s?(r=()=>s.theme$(),e[0]=s,e[1]=r):r=e[1];const d=Ye(r);let f;e[2]!==s?(f=()=>s.emoji$(),e[2]=s,e[3]=f):f=e[3];const x=Ye(f);let u;e[4]!==s?(u=()=>s.title$(),e[4]=s,e[5]=u):u=e[5];const p=Ye(u);let g;e[6]!==s?(g=()=>s.status$(),e[6]=s,e[7]=g):g=e[7];const $=F(g),h=F(s.isSkeleton$),y=F(p),o=Ze(),v=ue();let a;e[8]!==v||e[9]!==x||e[10]!==s||e[11]!==d||e[12]!==p?(a=()=>{X(()=>s.theme$(),z=>d.set(z)),X(()=>s.emoji$(),z=>x.set(z)),X(()=>s.title$(),z=>p.set(z)),X(()=>d,z=>Qe({ctx:v,id:s.id,theme:z()})),X(()=>x,z=>Qe({ctx:v,id:s.id,emoji:z()})),X(()=>p,z=>Qe({ctx:v,id:s.id,name:z()}))},e[8]=v,e[9]=x,e[10]=s,e[11]=d,e[12]=p,e[13]=a):a=e[13],B.useEffect(a);const _=$==="empty"?"max-md:flex-col":"";let k;e[14]!==_?(k=H("flex items-center gap-1.5 max-md:-translate-x-1",_),e[14]=_,e[15]=k):k=e[15];let M;e[16]!==x||e[17]!==n||e[18]!==d||e[19]!==p?(M=async(z,R)=>{!z&&R&&await(n==null?void 0:n({theme:d(),emoji:x(),name:p()}))},e[16]=x,e[17]=n,e[18]=d,e[19]=p,e[20]=M):M=e[20];const I=J(M),w=!t;let S;e[21]!==x||e[22]!==s.isShared$||e[23]!==s.isSkeleton$||e[24]!==w||e[25]!==d?(S=l.jsx(ds,{className:"ms-0! [--focus-outline-margin:-4px] disabled:cursor-default! disabled:opacity-100!",disabled:w,emoji$:x,isShared$:s.isShared$,isSkeleton$:s.isSkeleton$,theme$:d,size:"lg",strict:!0}),e[21]=x,e[22]=s.isShared$,e[23]=s.isSkeleton$,e[24]=w,e[25]=d,e[26]=S):S=e[26];let N;e[27]!==x||e[28]!==S||e[29]!==I||e[30]!==d?(N=l.jsx(fs,{theme$:d,emoji$:x,onOpenChange:I,children:S}),e[27]=x,e[28]=S,e[29]=I,e[30]=d,e[31]=N):N=e[31];const j=!m,E=h&&"skeleton-child";let b;e[32]!==E?(b=H("min-w-0",E),e[32]=E,e[33]=b):b=e[33];let P;e[34]!==o||e[35]!==y?(P=o.formatMessage({id:"edit-title",defaultMessage:"Edit the title of {projectName}"},{projectName:y}),e[34]=o,e[35]=y,e[36]=P):P=e[36];let T;e[37]!==y?(T=l.jsx("h1",{className:"md:text-page-header text-balance [--text-lg--line-height:28px] [--text-lg:22px] max-md:text-lg max-md:font-normal",children:y}),e[37]=y,e[38]=T):T=e[38];let A;e[39]!==i||e[40]!==j||e[41]!==b||e[42]!==P||e[43]!==T?(A=l.jsx("button",{disabled:j,onClick:i,name:"project-title",className:b,"aria-label":P,children:T}),e[39]=i,e[40]=j,e[41]=b,e[42]=P,e[43]=T,e[44]=A):A=e[44];let O;return e[45]!==N||e[46]!==A||e[47]!==k?(O=l.jsxs("div",{className:k,children:[N,A]}),e[45]=N,e[46]=A,e[47]=k,e[48]=O):O=e[48],O}function Cs(c){"use forget";const e=D.c(39),{children:t,composer:m,composerLayout:i,disclaimer:n,postComposerContent:s,conversationsHeader:r,conversations:d,sizing:f,dragOverlay:x,status:u}=c,p=u==="has-conversations"?"top":"center",g=r?"bg-token-bg-primary":"content-fade-top",$=u==="empty"&&"items-center max-md:[align-items:unset] max-md:[--composer-container-flex:0] max-md:[--composer-container-height:auto]";let h;e[0]!==$?(h=H("flex min-h-full",$),e[0]=$,e[1]=h):h=e[1];const y=u!=="has-conversations"?"grid-rows-[1fr_minmax(0,180px)] max-md:grid-rows-[1fr_0]":"grid-rows-[auto_min-content_min-content]";let o;e[2]!==y?(o=H("grid h-full [width:min(90cqw,var(--thread-content-max-width))] flex-1",y),e[2]=y,e[3]=o):o=e[3];const v=u!=="empty"&&"gap-8 pb-6",a=p==="top"?"mt-13 self-start max-md:mt-0":"self-center max-md:h-full";let _;e[4]!==v||e[5]!==a?(_=H("flex min-w-0 flex-col",v,a),e[4]=v,e[5]=a,e[6]=_):_=e[6];const k=u==="empty"?"max-md:h-full max-md:justify-between md:gap-8":g;let M;e[7]!==k?(M=H("offset-padding-top-4 sticky top-(--header-height) z-10 flex flex-col gap-[inherit] max-md:top-0 md:[--offset-y-bottom:-30px]",k),e[7]=k,e[8]=M):M=e[8];let I;e[9]!==m||e[10]!==i?(I=i==="top"&&l.jsx(l.Fragment,{children:m}),e[9]=m,e[10]=i,e[11]=I):I=e[11];let w;e[12]!==t||e[13]!==r||e[14]!==s||e[15]!==I||e[16]!==M?(w=l.jsxs("div",{className:M,children:[t,I,s,r]}),e[12]=t,e[13]=r,e[14]=s,e[15]=I,e[16]=M,e[17]=w):w=e[17];let S;e[18]!==d||e[19]!==x||e[20]!==w||e[21]!==_?(S=l.jsxs("div",{className:_,children:[w,d,x]}),e[18]=d,e[19]=x,e[20]=w,e[21]=_,e[22]=S):S=e[22];let N;e[23]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx("div",{}),e[23]=N):N=e[23];let j;e[24]!==m||e[25]!==i||e[26]!==n||e[27]!==u?(j=(i==="bottom"||n)&&l.jsxs("div",{className:H("content-fade sticky flex w-full flex-col gap-1 [--content-fade-top:-15px] md:px-[60px]",i==="bottom"&&"[--composer-container-height:auto] [--content-fade-top:-40px] max-md:p-0 max-md:pb-1",n?u==="empty"?"bottom-0 max-md:pt-2 md:fixed md:start-0 md:end-0":"bottom-0":"before:bg-token-bg-primary relative bottom-2 p-2 before:absolute before:inset-0 before:top-full before:h-2 before:w-full before:content-['']"),children:[i==="bottom"&&m,n]}),e[24]=m,e[25]=i,e[26]=n,e[27]=u,e[28]=j):j=e[28];let E;e[29]!==S||e[30]!==j||e[31]!==o?(E=l.jsxs(Xt,{className:o,children:[S,N,j]}),e[29]=S,e[30]=j,e[31]=o,e[32]=E):E=e[32];let b;e[33]!==f||e[34]!==E?(b=l.jsx(Qt,Ie(Q({verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard"},f),{children:E})),e[33]=f,e[34]=E,e[35]=b):b=e[35];let P;return e[36]!==b||e[37]!==h?(P=l.jsx("div",{className:h,children:b}),e[36]=b,e[37]=h,e[38]=P):P=e[38],P}const ws=ft(()=>dt(()=>import("./nwi6271w6gf5bx4p.js"),__vite__mapDeps([10,1,2,3,6,7])).then(c=>c.ProjectJoinModal));function Vs(c){"use forget";var et,tt,st,ot,nt,it;const e=D.c(137),{clientThreadId:t,gizmoId:m,currentModelId:i,onRequestCompletion:n}=c,s=ue();let r;e[0]!==t||e[1]!==s?(r=It(s,t),e[0]=t,e[1]=s,e[2]=r):r=e[2];const d=r,f=Ze(),x=Fe(s);let u;e[3]!==s?(u=Tt(s),e[3]=s,e[4]=u):u=e[4];const p=u,g=Ft(),$=F(Ms),h=Ct();let y;e[5]!==s||e[6]!==m?(y=At(s,m),e[5]=s,e[6]=m,e[7]=y):y=e[7];const o=y;let v;e[8]!==o?(v=()=>o.serverState$().data,e[8]=o,e[9]=v):v=e[9];const a=F(v);let _;e[10]!==o?(_=()=>o.status$(),e[10]=o,e[11]=_):_=e[11];const k=F(_);let M;e[12]!==s||e[13]!==a?(M=ht(),e[12]=s,e[13]=a,e[14]=M):M=e[14];const I=M;let w;e[15]!==s?(w=(tt=(et=Lt(s))==null?void 0:et.user)==null?void 0:tt.email,e[15]=s,e[16]=w):w=e[16];const S=w;let N;e[17]!==s?(N=(st=Fe(s))==null?void 0:st.normalizedAccountUserId,e[17]=s,e[18]=N):N=e[18];const j=N;let E;e[19]!==o||e[20]!==a||e[21]!==S||e[22]!==j?(E=()=>!j||!S||!a||Rt(()=>o.serverState$().isFetching)?!1:!rt({gizmo:a,user_id:j}),e[19]=o,e[20]=a,e[21]=S,e[22]=j,e[23]=E):E=e[23];const[b,P]=B.useState(E),T=ut(s,"773249106");let A;e[24]!==o.lastScrollPosition$?(A=()=>{var L;const C=document.querySelector("main");o.lastScrollPosition$.set((L=C==null?void 0:C.scrollTop)!=null?L:null)},e[24]=o.lastScrollPosition$,e[25]=A):A=e[25];const O=A;let z,R;e[26]!==o||e[27]!==O?(z=()=>{var fe;const C=new AbortController,L=o.lastScrollPosition$();o.lastScrollPosition$.set(null);const U=document.querySelector("main");return L!=null&&U&&(U.scrollTop=L,U.focus()),"navigation"in window&&((fe=window.navigation)==null||fe.addEventListener("navigate",()=>O(),{signal:C.signal})),()=>{C.abort()}},R=[o,O],e[26]=o,e[27]=O,e[28]=z,e[29]=R):(z=e[28],R=e[29]),B.useEffect(z,R);let K;e[30]!==n?(K=C=>{n(ts(C))},e[30]=n,e[31]=K):K=e[31];const Z=J(K);let ge;e[32]!==n?(ge=async C=>{const L=await ss(C);n(L)},e[32]=n,e[33]=ge):ge=e[33];const Ae=J(ge);let xe;e[34]!==s||e[35]!==f||e[36]!==o||e[37]!==a?(xe=()=>{if(!a)return;Bt(s)?Te(s,ct,{submitButtonTitle:f.formatMessage(W.projectSettingsSubmitButton),gizmo:a,project:o}):Te(s,us,{gizmo:a,project:o})},e[34]=s,e[35]=f,e[36]=o,e[37]=a,e[38]=xe):xe=e[38];const Le=J(xe);let he;e[39]!==Le?(he=()=>{Le()},e[39]=Le,e[40]=he):he=e[40];const Oe=J(he),He=!(x&&!x.isSelfServeBusiness()&&!x.isEnterprisey()),[Re,pe]=B.useState(!1),{onDropConversation:Be,canDropConversation:V}=cs(void 0,m),qe=F(o.gizmo$);let ve;e[41]!==o?(ve=()=>qt(o)(),e[41]=o,e[42]=ve):ve=e[42];const ee=F(ve);let je;e[43]!==o?(je=()=>Dt(o)(),e[43]=o,e[44]=je):je=e[44];const G=F(je)&&!I,q=qe!=null?qe:a;let be;e[45]!==s||e[46]!==q?(be=()=>{q&&Te(s,mt,{gizmo:Vt(q),publishedGizmo:q,onClose:()=>Ut(s,mt)})},e[45]=s,e[46]=q,e[47]=be):be=e[47];const te=J(be);let Se;e[48]===Symbol.for("react.memo_cache_sentinel")?(Se=[],e[48]=Se):Se=e[48],B.useEffect(_s,Se);let ye,$e;e[49]!==g?(ye=()=>{const C=os(g),L=C();return C.set(!0),()=>{C.set(L)}},$e=[g],e[49]=g,e[50]=ye,e[51]=$e):(ye=e[50],$e=e[51]),B.useEffect(ye,$e);let Pe;e[52]!==te||e[53]!==ee||e[54]!==o.mobileHeaderState$||e[55]!==q||e[56]!==G?(Pe=()=>{if(!G||!q){o.mobileHeaderState$.set(null);return}return o.mobileHeaderState$.set({hasOtherMembers$:Xe(()=>ee),canShare$:Xe(()=>G),onShare$:Xe(()=>G&&q?te:null)}),()=>{o.mobileHeaderState$.set(null)}},e[52]=te,e[53]=ee,e[54]=o.mobileHeaderState$,e[55]=q,e[56]=G,e[57]=Pe):Pe=e[57];let Ce;e[58]!==te||e[59]!==ee||e[60]!==o||e[61]!==q||e[62]!==G?(Ce=[te,ee,o,q,G],e[58]=te,e[59]=ee,e[60]=o,e[61]=q,e[62]=G,e[63]=Ce):Ce=e[63],B.useEffect(Pe,Ce);let we;e[64]!==s||e[65]!==f||e[66]!==o||e[67]!==a?(we=()=>{a&&Te(s,ct,{submitButtonTitle:f.formatMessage(W.projectSettingsSubmitButton),gizmo:a,project:o,autoFocusProjectName:!0})},e[64]=s,e[65]=f,e[66]=o,e[67]=a,e[68]=we):we=e[68];const De=J(we);let _e;e[69]!==o||e[70]!==p?(_e=async C=>{try{await o.queueUpdate$(C)}catch(L){const fe=Gt(L);p==null||p.warning(fe!=null?fe:"Error",{duration:5,hasCloseButton:!0})}},e[69]=o,e[70]=p,e[71]=_e):_e=e[71];const Ue=J(_e);let Me;e[72]!==o||e[73]!==P||e[74]!==j?(Me=()=>{if(j)return X(()=>({data:o.serverState$().data,isFetching:o.serverState$().isFetching}),C=>{const{data:L,isFetching:U}=C;L&&!U&&!rt({gizmo:L,user_id:j})&&P(!0)})},e[72]=o,e[73]=P,e[74]=j,e[75]=Me):Me=e[75];let Ne;if(e[76]!==o||e[77]!==S||e[78]!==j?(Ne=[j,S,o],e[76]=o,e[77]=S,e[78]=j,e[79]=Ne):Ne=e[79],B.useEffect(Me,Ne),b&&a&&T){let C;e[80]!==h?(C=()=>h("/"),e[80]=h,e[81]=C):C=e[81];let L;e[82]!==P?(L=()=>P(!1),e[82]=P,e[83]=L):L=e[83];let U;return e[84]!==a||e[85]!==C||e[86]!==L?(U=l.jsx(ws,{onClose:C,onJoinProjectSuccess:L,projectData:a}),e[84]=a,e[85]=C,e[86]=L,e[87]=U):U=e[87],U}let Ee;e[88]!==((ot=a==null?void 0:a.gizmo)==null?void 0:ot.conversation_copy_in_progress)?(Ee=((nt=a==null?void 0:a.gizmo)==null?void 0:nt.conversation_copy_in_progress)===!0?l.jsx(pt,{type:"info",content:l.jsx(Y,Q({},W.projectCopyInProgressBanner)),icon:l.jsx(Ot,{className:"text-token-text-secondary h-5 w-5"})}):null,e[88]=(it=a==null?void 0:a.gizmo)==null?void 0:it.conversation_copy_in_progress,e[89]=Ee):Ee=e[89];const Ve=Ee,Ge=k==="empty"||$?"top":"bottom";let ke;e[90]!==o||e[91]!==O?(ke=l.jsx(gs,{project:o,onNavigateToConversation:O}),e[90]=o,e[91]=O,e[92]=ke):ke=e[92];const Je=ke,We=Cs;let se;e[93]!==V?(se=C=>{C.preventDefault(),V&&pe(!0)},e[93]=V,e[94]=se):se=e[94];let oe;e[95]!==V||e[96]!==Be?(oe=C=>{C.preventDefault(),V&&(pe(!1),Be())},e[95]=V,e[96]=Be,e[97]=oe):oe=e[97];let ne,ie;e[98]!==V?(ne=C=>{C.preventDefault(),V&&pe(!0)},ie=C=>{C.preventDefault(),V&&pe(!1)},e[98]=V,e[99]=ne,e[100]=ie):(ne=e[99],ie=e[100]);const Ke=k==="empty"?"center":"bottom";let le;e[101]!==d||e[102]!==i||e[103]!==Z||e[104]!==Ae||e[105]!==Ke?(le=l.jsx(as,{conversation:d,currentModelId:i,hideHeader:!0,isProjectThread:!0,isNewThread:!0,layoutMode:Ke,onContinueGenerating:Z,onRequestCompletion:Ae}),e[101]=d,e[102]=i,e[103]=Z,e[104]=Ae,e[105]=Ke,e[106]=le):le=e[106];let ae;e[107]!==t||e[108]!==He?(ae=He&&l.jsx("div",{className:"text-token-text-secondary flex w-full items-center justify-center text-center text-xs text-pretty md:pb-0.5",children:l.jsx(ns,{clientThreadId:t})}),e[107]=t,e[108]=He,e[109]=ae):ae=e[109];let re;e[110]!==Re||e[111]!==a?(re=Re&&l.jsx(Ns,{gizmo:a}),e[110]=Re,e[111]=a,e[112]=re):re=e[112];let ce;e[113]!==Oe||e[114]!==De||e[115]!==Ue||e[116]!==a?(ce=l.jsx(Ss,{projectData:a,onRequestEdit:De,onRequestAddFiles:Oe,onRequestUpdateProject:Ue}),e[113]=Oe,e[114]=De,e[115]=Ue,e[116]=a,e[117]=ce):ce=e[117];let me;e[118]!==We||e[119]!==Ge||e[120]!==Je||e[121]!==Ve||e[122]!==k||e[123]!==le||e[124]!==ae||e[125]!==re||e[126]!==ce?(me=l.jsx(We,{status:k,composerLayout:Ge,composer:le,disclaimer:ae,postComposerContent:Ve,conversationsHeader:null,conversations:Je,dragOverlay:re,children:ce}),e[118]=We,e[119]=Ge,e[120]=Je,e[121]=Ve,e[122]=k,e[123]=le,e[124]=ae,e[125]=re,e[126]=ce,e[127]=me):me=e[127];let de;e[128]!==se||e[129]!==oe||e[130]!==ne||e[131]!==ie||e[132]!==me?(de=l.jsx("div",{onDragOver:se,onDrop:oe,onDragEnter:ne,onDragLeave:ie,children:me}),e[128]=se,e[129]=oe,e[130]=ne,e[131]=ie,e[132]=me,e[133]=de):de=e[133];let ze;return e[134]!==o||e[135]!==de?(ze=l.jsx(xt,{value:o,children:de}),e[134]=o,e[135]=de,e[136]=ze):ze=e[136],ze}function _s(){es()}function Ms(){return Ht()}function Ns(c){"use forget";var d;const e=D.c(6),{gizmo:t}=c;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(is,{className:"h-12 w-12",style:{color:"var(--icon-accent)"}}),e[0]=m):m=e[0];const i=(d=t==null?void 0:t.gizmo.display.name)!=null?d:"project";let n;e[1]!==i?(n=l.jsx("h3",{className:"text-center",children:l.jsx(Y,Ie(Q({},W.moveConversationToNamedProject),{values:{projectName:i}}))}),e[1]=i,e[2]=n):n=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("h4",{className:"text-center",children:l.jsx(Y,Q({},W.moveConversation))}),e[3]=s):s=e[3];let r;return e[4]!==n?(r=l.jsxs(ls,{children:[m,n,s]}),e[4]=n,e[5]=r):r=e[5],r}export{Vs as ProjectHomePage};
//# sourceMappingURL=ihhsqa2omvuzqe5c.js.map

import{c as k,r as w,j as g,h as S}from"./mw35uwhq4g8r9eam.js";import{ky as j}from"./d0xa318sl7ywi0za.js";import{eT as E,eG as x,eV as I,e$ as T}from"./g2euln7v5pbm31qa.js";import{trackWidgetFeedbackShown as C,trackWidgetFeedback as F}from"./mqid879cmc46z1v1.js";const M=u=>!(u.isError||!u.isComplete||u.distributionChannel===j.ONLY_ME),$=u=>{"use forget";const e=k.c(17),{chatSDK:o,conversationId:s}=u,[c,d]=w.useState(!1),{widgetId:a,widgetType:l,metadata:i,distributionChannel:r}=o;let n;e[0]!==s||e[1]!==r||e[2]!==i.attribution_id||e[3]!==i.suggestion_message_id||e[4]!==a||e[5]!==l?(n=i.attribution_id?{attribution_id:i.attribution_id,name:l,conversation_id:s!=null?s:"",message_id:a,suggestion_message_id:i.suggestion_message_id,distribution_channel:r}:null,e[0]=s,e[1]=r,e[2]=i.attribution_id,e[3]=i.suggestion_message_id,e[4]=a,e[5]=l,e[6]=n):n=e[6];const t=n;let m;e[7]!==t||e[8]!==o||e[9]!==c?(m=M(o)&&!c&&t,e[7]=t,e[8]=o,e[9]=c,e[10]=m):m=e[10];const f=m;let b,_;if(e[11]!==t||e[12]!==f?(b=()=>{f&&C(t)},_=[f,t],e[11]=t,e[12]=f,e[13]=b,e[14]=_):(b=e[13],_=e[14]),w.useEffect(b,_),!f)return null;let h;if(e[15]!==t){const y=p=>{F(t,p),t&&T({rating:p,conversationId:t.conversation_id,messageId:t.message_id,suggestionMessageId:t.suggestion_message_id,attributionId:t.attribution_id,widgetType:t.name}),d(!0)};h=g.jsx(v,{onSubmit:y}),e[15]=t,e[16]=h}else h=e[16];return h},v=u=>{"use forget";const e=k.c(19),{onSubmit:o}=u,s=S();let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=g.jsx(E,{}),e[0]=c):c=e[0];let d;e[1]!==o?(d=()=>o("thumbsUp"),e[1]=o,e[2]=d):d=e[2];let a;e[3]!==s?(a=s.formatMessage({id:"wzblaA",defaultMessage:"Thumbs up"}),e[3]=s,e[4]=a):a=e[4];let l;e[5]!==d||e[6]!==a?(l=g.jsx(x,{className:"h-7! w-7!",icon:c,onClick:d,label:a}),e[5]=d,e[6]=a,e[7]=l):l=e[7];let i;e[8]===Symbol.for("react.memo_cache_sentinel")?(i=g.jsx(I,{}),e[8]=i):i=e[8];let r;e[9]!==o?(r=()=>o("thumbsDown"),e[9]=o,e[10]=r):r=e[10];let n;e[11]!==s?(n=s.formatMessage({id:"QPOY20",defaultMessage:"Thumbs down"}),e[11]=s,e[12]=n):n=e[12];let t;e[13]!==r||e[14]!==n?(t=g.jsx(x,{className:"h-7! w-7!",icon:i,onClick:r,label:n}),e[13]=r,e[14]=n,e[15]=t):t=e[15];let m;return e[16]!==l||e[17]!==t?(m=g.jsxs("div",{className:"-my-2 ms-auto flex items-center gap-3",children:[l,t]}),e[16]=l,e[17]=t,e[18]=m):m=e[18],m};export{$ as EcosystemAppFeedback,M as shouldShowFeedback};
//# sourceMappingURL=l6qxa8uogotap2gn.js.map

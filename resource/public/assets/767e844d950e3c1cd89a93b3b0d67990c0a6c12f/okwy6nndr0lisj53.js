var ce=Object.freeze,ue=Object.defineProperty,Pe=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var de=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var fe=(t,e,s)=>e in t?ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,O=(t,e)=>{for(var s in e||(e={}))Me.call(e,s)&&fe(t,s,e[s]);if(de)for(var s of de(e))Ie.call(e,s)&&fe(t,s,e[s]);return t},X=(t,e)=>Pe(t,Ee(e));var le=(t,e)=>ce(ue(t,"raw",{value:ce(e||t.slice())}));import{c as j,j as i,M,r as L,h as Te,e as ve,u as Le,ah as $e,y as De}from"./mw35uwhq4g8r9eam.js";import{C as Fe}from"./kbwy95pwpw3ze3en.js";import{u as I,aA as B,cF as W,cB as je,aS as Z,dS as Ae,cG as Oe,ee as We,g4 as Ue,lE as Re,d_ as Ge,ec as Ye,iK as Ve,J as be,r as He,pd as Be,P as Qe,oH as qe,T as ze,m as Ke,bX as me,fh as Je,k as Xe,bc as Ze,bW as et,d as ee,$ as tt,a0 as st,gi as lt,g as nt,oS as ot}from"./d0xa318sl7ywi0za.js";import{ax as it,dr as Y,c7 as at,s0 as rt,hH as ye,s1 as ct,hI as dt,s2 as ft,oF as ut,s3 as mt,s4 as pt,s5 as gt,dp as oe,E as R,s6 as ke,hG as xt,g as ht,s7 as pe,el as _t,s8 as Ct,jt as vt,s9 as jt,sa as ge,sb as bt,sc as yt,sd as kt,se as St,sf as wt,sg as Nt}from"./g2euln7v5pbm31qa.js";import{a as Pt}from"./kubdgxu3crk3gqem.js";import{u as Et}from"./f9zm06cvq49h9y4w.js";import{H as ne}from"./euzz83urne0h11ye.js";import"./dbnl40ahcmx1rqbw.js";import"./j723eutw6lfomm01.js";import"./gl4f6lge29au0ljx.js";import"./iio0zgk2sqlxbcjy.js";import"./obpubb7ugisfu36u.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./c340ncgh31fwqkpk.js";import"./of0vtq1gcmd3mc3z.js";import"./ggvjblnzoirafiyl.js";import"./kc32gem4l2t3hnxt.js";import"./5uqv5sdajcdsdc3v.js";import"./kne35xckmmfq3xx6.js";import"./kl0a548ohmz3fby2.js";import"./fe4yarxdk4eko5w6.js";import"./jc1wlz3ym1r6tf2l.js";import"./dhyn0hpw8j3dzdrv.js";import"./ft92xq3wp8rdw7y4.js";const Se=t=>{Y(t).logEventWithStatsig("(Web) FYP Personalize Tapped","chatgpt_web_fyp_personalize_tapped")},Mt=t=>{"use forget";const e=j.c(6),{onClick:s}=t,n=I();let o;e[0]!==n||e[1]!==s?(o=()=>{s(),Se(n)},e[0]=n,e[1]=s,e[2]=o):o=e[2];let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=i.jsx(M,{id:"sZVLRv",defaultMessage:"Curate"}),e[3]=a):a=e[3];let l;return e[4]!==o?(l=i.jsx(B,{icon:it,onClick:o,children:a}),e[4]=o,e[5]=l):l=e[5],l},It=t=>{"use forget";const e=j.c(6),{onClick:s}=t,n=I();let o;e[0]!==n||e[1]!==s?(o=()=>{s(),Se(n)},e[0]=n,e[1]=s,e[2]=o):o=e[2];let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=i.jsx(M,{id:"PYkj8c",defaultMessage:"Curate for tomorrow"}),e[3]=a):a=e[3];let l;return e[4]!==o?(l=i.jsx(B,{onClick:o,size:"large",className:"w-full max-w-80",children:a}),e[4]=o,e[5]=l):l=e[5],l},ie=t=>{"use forget";const e=j.c(7);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={threshold:.8,onlyOnce:!0},e[0]=s):s=e[0];const[n,o]=Et(s);let a,l;e[1]!==n||e[2]!==t?(a=()=>{n&&t()},l=[n,t],e[1]=n,e[2]=t,e[3]=a,e[4]=l):(a=e[3],l=e[4]),L.useEffect(a,l);let c;return e[5]!==o?(c={ref:o},e[5]=o,e[6]=c):c=e[6],c};function ae(t){"use forget";const e=j.c(15),{image:s,content:n,actions:o,onClick:a,onImpression:l,className:c}=t,{ref:r}=ie(l!=null?l:Tt);let d;e[0]!==c?(d=W("border-token-border-default flex w-full items-stretch gap-6 rounded-4xl border p-4 shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors","flex-row","max-sm:flex-col",c),e[0]=c,e[1]=d):d=e[1];let f;e[2]!==s?(f=s&&i.jsx("div",{className:W("flex flex-shrink-0 items-center justify-center","h-32 w-32","max-sm:h-full max-sm:w-full"),children:s}),e[2]=s,e[3]=f):f=e[3];let p;e[4]!==n?(p=i.jsx("div",{className:"flex flex-col gap-1",children:n}),e[4]=n,e[5]=p):p=e[5];let u;e[6]!==o||e[7]!==p?(u=i.jsxs("div",{className:"flex flex-1 flex-col justify-between max-sm:gap-4",children:[p,o]}),e[6]=o,e[7]=p,e[8]=u):u=e[8];let m;return e[9]!==a||e[10]!==r||e[11]!==d||e[12]!==f||e[13]!==u?(m=i.jsxs("div",{ref:r,onClick:a,className:d,children:[f,u]}),e[9]=a,e[10]=r,e[11]=d,e[12]=f,e[13]=u,e[14]=m):m=e[14],m}function Tt(){}var _e;const Lt=je.div(_e||(_e=le(["border-token-border-default flex w-full items-stretch gap-6 rounded-4xl border p-4 shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors"]))),$t=[Z.H17180rGmail,Z.H17180rGoogleCalendar],F=ve({emailConnectorDescription:{id:"pulse.emailConnectorDescription",defaultMessage:"emails"},calendarConnectorDescription:{id:"pulse.calendarConnectorDescription",defaultMessage:"calendar"},upsellCardTitle:{id:"pulse.upsellCardTitle",defaultMessage:"Get insights from your {connectorDescriptions}"},upsellCardDescription:{id:"pulse.upsellCardDescription",defaultMessage:"Let ChatGPT proactively read {connectorNames} and give you helpful info. {LearnMoreLink}"},connectorsAcceptedText:{id:"pulse.connectorsAcceptedText",defaultMessage:"I'll start showing helpful insights from your {connectorDescriptions} here. You can adjust this anytime in Settings."},connectorsDeclinedText:{id:"pulse.connectorsDeclinedText",defaultMessage:"I won't show anything related to your {connectorDescriptions} here. You can adjust this anytime in Settings."},manageConnectorsCta:{id:"pulse.manageConnectorsCta",defaultMessage:"Manage settings"},connectorsDeclineCta:{id:"pulse.connectorsDeclineCta",defaultMessage:"Don't allow"},connectorsAllowCta:{id:"pulse.connectorsAllowCta",defaultMessage:"Allow"},gmail:{id:"pulse.gmail",defaultMessage:"Gmail"},googleCalendar:{id:"pulse.googleCalendar",defaultMessage:"Google Calendar"}});function Dt(t,e){const n=t.map(l=>ne[l]).filter(l=>$t.includes(l)).map(l=>l===Z.H17180rGmail?{name:e.formatMessage(F.gmail),description:e.formatMessage(F.emailConnectorDescription)}:l===Z.H17180rGoogleCalendar?{name:e.formatMessage(F.googleCalendar),description:e.formatMessage(F.calendarConnectorDescription)}:null).filter(l=>l!=null),o=n.map(l=>l.name),a=n.map(l=>l.description);return{connectorNames:e.formatList(o),connectorDescriptions:e.formatList(a)}}const Ft=t=>{"use forget";const e=j.c(40),{itemId:s,learnMoreUrl:n,image:o,connectorIds:a,onImpression:l,className:c}=t,r=I(),d=Te();let f;e[0]!==r?(f=Ae(r),e[0]=r,e[1]=f):f=e[1];const{country:p}=f,{openSettings:u}=at(),{mutate:m,isPending:x}=Oe(!0),{mutate:_}=rt(a,s),[h,v]=L.useState(null);let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y={fetchValidLinksOnly:!0,productSku:We.CONNECTOR_SETTING},e[2]=y):y=e[2];const{connectorLinks:k,isLoading:N}=Ue(y);let S;e[3]===Symbol.for("react.memo_cache_sentinel")?(S=[],e[3]=S):S=e[3];const[w,E]=L.useState(S),g=Re();let b;e[4]!==k?(b=T=>k.has(T),e[4]=k,e[5]=b):b=e[5];const C=b;let P;e[6]!==m?(P=T=>{m({setting:ne[T],value:!0})},e[6]=m,e[7]=P):P=e[7];const $=P;let D;e[8]!==a||e[9]!==$||e[10]!==C||e[11]!==g?(D=()=>{const T=a.filter(C),V=a.filter(G=>!C(G));T.forEach(G=>$(G)),V.forEach(G=>{g({referrer:Ye.PulseConnectorsProactiveToggle,connectorId:G,showSettingsBehindConnectorLink:!1,noRedirect:!0}),E(V)}),V.length===0&&v("accepted")},e[8]=a,e[9]=$,e[10]=C,e[11]=g,e[12]=D):D=e[12];const A=D;let U,Q;e[13]!==$||e[14]!==C||e[15]!==w?(U=()=>{const T=w.filter(C);if(!T.length)return;T.forEach($),v("accepted");const V=w.filter(G=>!T.includes(G));E(V)},Q=[w,C,$],e[13]=$,e[14]=C,e[15]=w,e[16]=U,e[17]=Q):(U=e[16],Q=e[17]),L.useEffect(U,Q);let q;e[18]!==a||e[19]!==C||e[20]!==m||e[21]!==_?(q=()=>{a.forEach(T=>{C(T)&&m({setting:ne[T],value:!1})}),_(),v("declined")},e[18]=a,e[19]=C,e[20]=m,e[21]=_,e[22]=q):q=e[22];const te=q;let z;e[23]!==a||e[24]!==d?(z=Dt(a,d),e[23]=a,e[24]=d,e[25]=z):z=e[25];const{connectorNames:se,connectorDescriptions:K}=z;let J;return e[26]!==A||e[27]!==h||e[28]!==c||e[29]!==K||e[30]!==se||e[31]!==p||e[32]!==te||e[33]!==o||e[34]!==N||e[35]!==x||e[36]!==n||e[37]!==l||e[38]!==u?(J=h?i.jsx(Ot,{className:c,content:i.jsx(M,X(O({},h==="accepted"?F.connectorsAcceptedText:F.connectorsDeclinedText),{values:{connectorDescriptions:K}})),onClick:()=>u(Ge.Connectors)}):i.jsx(At,{className:c,image:o,connectorNames:se,connectorDescriptions:K,learnMoreUrl:n,declineConnectors:te,acceptConnectors:A,acceptButtonColor:p==="EU"?"ghost":"primary",isLoading:N||x,onImpression:l}),e[26]=A,e[27]=h,e[28]=c,e[29]=K,e[30]=se,e[31]=p,e[32]=te,e[33]=o,e[34]=N,e[35]=x,e[36]=n,e[37]=l,e[38]=u,e[39]=J):J=e[39],J},At=t=>{"use forget";const e=j.c(32),{className:s,image:n,connectorNames:o,connectorDescriptions:a,learnMoreUrl:l,declineConnectors:c,acceptConnectors:r,acceptButtonColor:d,isLoading:f,onImpression:p}=t;let u;e[0]!==o||e[1]!==n?(u=i.jsx(ye,{alt:o,src:n,fallbackSrc:null,className:"aspect-square h-full w-full rounded-2xl object-cover"}),e[0]=o,e[1]=n,e[2]=u):u=e[2];let m;e[3]!==a?(m=i.jsx("div",{className:"text-xl font-medium",children:i.jsx(M,X(O({},F.upsellCardTitle),{values:{connectorDescriptions:a}}))}),e[3]=a,e[4]=m):m=e[4];let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=i.jsx(M,{id:"CJ28fH",defaultMessage:"Learn more"}),e[5]=x):x=e[5];let _;e[6]!==l?(_=i.jsx(Ve,{href:l,className:"underline",children:x}),e[6]=l,e[7]=_):_=e[7];let h;e[8]!==o||e[9]!==_?(h=i.jsx("div",{children:i.jsx(M,X(O({},F.upsellCardDescription),{values:{connectorNames:o,LearnMoreLink:_}}))}),e[8]=o,e[9]=_,e[10]=h):h=e[10];let v;e[11]!==m||e[12]!==h?(v=i.jsxs("div",{className:"flex flex-col gap-1",children:[m,h]}),e[11]=m,e[12]=h,e[13]=v):v=e[13];let y;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=i.jsx(M,O({},F.connectorsDeclineCta)),e[14]=y):y=e[14];let k;e[15]!==c||e[16]!==f?(k=i.jsx(B,{color:"ghost",className:"border-token-border-light",onClick:c,loading:f,children:y}),e[15]=c,e[16]=f,e[17]=k):k=e[17];let N;e[18]===Symbol.for("react.memo_cache_sentinel")?(N=i.jsx(M,O({},F.connectorsAllowCta)),e[18]=N):N=e[18];let S;e[19]!==d||e[20]!==r||e[21]!==f?(S=i.jsx(B,{color:d,onClick:r,loading:f,children:N}),e[19]=d,e[20]=r,e[21]=f,e[22]=S):S=e[22];let w;e[23]!==S||e[24]!==k?(w=i.jsxs("div",{className:"flex justify-end gap-2",children:[k,S]}),e[23]=S,e[24]=k,e[25]=w):w=e[25];let E;return e[26]!==s||e[27]!==p||e[28]!==u||e[29]!==w||e[30]!==v?(E=i.jsx(ae,{className:s,onImpression:p,image:u,content:v,actions:w}),e[26]=s,e[27]=p,e[28]=u,e[29]=w,e[30]=v,e[31]=E):E=e[31],E},Ot=t=>{"use forget";const e=j.c(11),{content:s,onClick:n,className:o}=t;let a;e[0]!==o?(a=W("justify-between",o),e[0]=o,e[1]=a):a=e[1];let l;e[2]!==s?(l=i.jsx("div",{className:"flex-1 text-sm",children:s}),e[2]=s,e[3]=l):l=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsx(M,O({},F.manageConnectorsCta)),e[4]=c):c=e[4];let r;e[5]!==n?(r=i.jsx(B,{className:"flex-shrink-0",color:"secondary",onClick:n,children:c}),e[5]=n,e[6]=r):r=e[6];let d;return e[7]!==a||e[8]!==l||e[9]!==r?(d=i.jsxs(Lt,{className:a,children:[l,r]}),e[7]=a,e[8]=l,e[9]=r,e[10]=d):d=e[10],d},xe=ve({dislikedCardTitle:{id:"pulse.dislikedCardTitle",defaultMessage:"You'll see less like this."},dislikedCardDescription:{id:"pulse.dislikedCardDescription",defaultMessage:"Sorry this didn't hit the mark. Mind sharing a bit more about why you didn't like it? Every bit of feedback helps shape what shows up next."}});function Wt(t){"use forget";const e=j.c(32),{cardId:s,className:n,title:o,description:a,image:l,variant:c,onClick:r,onImpression:d}=t,f=c===void 0?"default":c,{data:p}=ut(s),u=(p==null?void 0:p.reaction)==="dislike",m=f==="light",x=r?"hover:bg-token-bg-tertiary cursor-pointer":"cursor-default",_=m&&"border-none px-0 py-1 shadow-none";let h;e[0]!==n||e[1]!==x||e[2]!==_?(h=W(x,_,n),e[0]=n,e[1]=x,e[2]=_,e[3]=h):h=e[3];let v;e[4]!==(l==null?void 0:l.fallback_url)||e[5]!==(l==null?void 0:l.url)||e[6]!==u||e[7]!==m?(v=!m&&i.jsx(ye,{src:l==null?void 0:l.url,fallbackSrc:l==null?void 0:l.fallback_url,className:W("aspect-square h-full w-full rounded-2xl",u&&"grayscale")}),e[4]=l==null?void 0:l.fallback_url,e[5]=l==null?void 0:l.url,e[6]=u,e[7]=m,e[8]=v):v=e[8];let y;e[9]!==u||e[10]!==o?(y=u?i.jsx(M,O({},xe.dislikedCardTitle)):o,e[9]=u,e[10]=o,e[11]=y):y=e[11];let k;e[12]!==y?(k=i.jsx("div",{className:"text-xl font-medium",children:y}),e[12]=y,e[13]=k):k=e[13];let N;e[14]!==a||e[15]!==u?(N=u?i.jsx(M,O({},xe.dislikedCardDescription)):a,e[14]=a,e[15]=u,e[16]=N):N=e[16];let S;e[17]!==N?(S=i.jsx("div",{children:N}),e[17]=N,e[18]=S):S=e[18];let w;e[19]!==k||e[20]!==S?(w=i.jsx("div",{className:"flex flex-1 flex-col justify-between",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[k,S]})}),e[19]=k,e[20]=S,e[21]=w):w=e[21];let E;e[22]!==s||e[23]!==m?(E=!m&&i.jsx(mt,{cardId:s}),e[22]=s,e[23]=m,e[24]=E):E=e[24];let g;return e[25]!==r||e[26]!==d||e[27]!==w||e[28]!==E||e[29]!==h||e[30]!==v?(g=i.jsx(ae,{className:h,image:v,content:w,actions:E,onClick:r,onImpression:d}),e[25]=r,e[26]=d,e[27]=w,e[28]=E,e[29]=h,e[30]=v,e[31]=g):g=e[31],g}function Ut(t){"use forget";const e=j.c(12),{body:s,dateTs:n,className:o}=t;let a;e[0]!==n?(a=new Date(n*1e3).toLocaleDateString(void 0,{month:"long",day:"numeric"}),e[0]=n,e[1]=a):a=e[1];const l=a;let c;e[2]!==o?(c=W("flex flex-col gap-2",o),e[2]=o,e[3]=c):c=e[3];let r;e[4]!==l?(r=i.jsx("div",{className:"text-token-text-primary text-4xl",children:l}),e[4]=l,e[5]=r):r=e[5];let d;e[6]!==s?(d=s&&i.jsx(we,{children:s}),e[6]=s,e[7]=d):d=e[7];let f;return e[8]!==c||e[9]!==r||e[10]!==d?(f=i.jsxs("div",{className:c,children:[r,d]}),e[8]=c,e[9]=r,e[10]=d,e[11]=f):f=e[11],f}function we(t){"use forget";const e=j.c(11),{children:s,includeDivider:n,className:o}=t,a=n===void 0?!1:n;let l;e[0]!==a?(l=a&&i.jsx(re,{}),e[0]=a,e[1]=l):l=e[1];const c=a&&"pt-8";let r;e[2]!==o||e[3]!==c?(r=W("text-token-text-primary py-2 text-xl font-medium",c,o),e[2]=o,e[3]=c,e[4]=r):r=e[4];let d;e[5]!==s||e[6]!==r?(d=i.jsx("div",{className:r,children:s}),e[5]=s,e[6]=r,e[7]=d):d=e[7];let f;return e[8]!==l||e[9]!==d?(f=i.jsxs(i.Fragment,{children:[l,d]}),e[8]=l,e[9]=d,e[10]=f):f=e[10],f}function Rt(t){"use forget";const e=j.c(18),{title:s,suggestions:n,onImpression:o,className:a}=t;let l;e[0]!==o?(l=()=>o(),e[0]=o,e[1]=l):l=e[1];const{ref:c}=ie(l);let r;e[2]!==c?(r=i.jsx(re,{ref:c}),e[2]=c,e[3]=r):r=e[3];let d;e[4]!==a?(d=W("flex flex-col gap-6 pt-6",a),e[4]=a,e[5]=d):d=e[5];let f;e[6]!==s?(f=i.jsx("div",{className:"text-token-text-primary text-start text-xl font-medium",children:s}),e[6]=s,e[7]=f):f=e[7];let p;e[8]!==n||e[9]!==s?(p=i.jsx("div",{className:"flex w-full flex-col gap-2",children:i.jsx(pt,{suggestions:n,question:s})}),e[8]=n,e[9]=s,e[10]=p):p=e[10];let u;e[11]!==d||e[12]!==f||e[13]!==p?(u=i.jsxs("div",{className:d,children:[f,p]}),e[11]=d,e[12]=f,e[13]=p,e[14]=u):u=e[14];let m;return e[15]!==r||e[16]!==u?(m=i.jsxs(i.Fragment,{children:[r,u]}),e[15]=r,e[16]=u,e[17]=m):m=e[17],m}function Gt(t){"use forget";const e=j.c(20),{title:s,body:n,onImpression:o,className:a}=t;let l;e[0]!==o?(l=()=>o(),e[0]=o,e[1]=l):l=e[1];const{ref:c}=ie(l),r=I();let d;e[2]!==c?(d=i.jsx(re,{ref:c}),e[2]=c,e[3]=d):d=e[3];let f;e[4]!==a?(f=W("flex flex-col items-center gap-6 py-8",a),e[4]=a,e[5]=f):f=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=i.jsx("div",{className:"bg-token-text-primary flex h-12 w-12 items-center justify-center rounded-full",children:i.jsx(gt,{className:"text-token-bg-primary"})}),e[6]=p):p=e[6];let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=i.jsx("br",{}),e[7]=u):u=e[7];let m;e[8]!==n||e[9]!==s?(m=i.jsxs("div",{className:"text-token-text-primary text-center text-xl font-medium",children:[s," ",u," ",n]}),e[8]=n,e[9]=s,e[10]=m):m=e[10];let x;e[11]!==r?(x=i.jsx(It,{onClick:()=>oe(r).openFeedbackView()}),e[11]=r,e[12]=x):x=e[12];let _;e[13]!==f||e[14]!==m||e[15]!==x?(_=i.jsxs("div",{className:f,children:[p,m,x]}),e[13]=f,e[14]=m,e[15]=x,e[16]=_):_=e[16];let h;return e[17]!==d||e[18]!==_?(h=i.jsxs(i.Fragment,{children:[d,_]}),e[17]=d,e[18]=_,e[19]=h):h=e[19],h}var Ce;const re=je.div(Ce||(Ce=le(["border-token-border-medium border-b pb-8"])));function Yt(t){"use forget";var k;const e=j.c(25),{items:s,badge:n,header:o,className:a}=t,[l,c]=L.useState(!1);let r;e[0]!==s||e[1]!==l?(r=l?s:s.slice(0,1),e[0]=s,e[1]=l,e[2]=r):r=e[2];const d=r,f=I();let p;e[3]!==f||e[4]!==o.task_id||e[5]!==l?(p=()=>{const N=l?"(Web) FYP Card Stack Collapsed":"(Web) FYP Card Stack Opened",S=l?"chatgpt_web_fyp_card_stack_collapsed":"chatgpt_web_fyp_card_stack_opened";Y(f).logEventWithStatsig(N,S,{stack_id:o.task_id}),c(!l)},e[3]=f,e[4]=o.task_id,e[5]=l,e[6]=p):p=e[6];const u=p;let m;e[7]!==a?(m=W("flex flex-col",a),e[7]=a,e[8]=m):m=e[8];let x;e[9]!==o.task_id||e[10]!==o.title?(x=!1,e[9]=o.task_id,e[10]=o.title,e[11]=x):x=e[11];let _;e[12]!==n||e[13]!==u||e[14]!==l?(_=n&&i.jsx(Ht,{text:l?i.jsx(M,{id:"pulse.collapse",defaultMessage:"Collapse"}):n.text,showUnreadIndicator:l?!1:(k=n.is_unread)!=null?k:!0,onClick:u}),e[12]=n,e[13]=u,e[14]=l,e[15]=_):_=e[15];let h;e[16]!==x||e[17]!==_?(h=i.jsxs("div",{className:"mb-4 flex items-center",children:[x,_]}),e[16]=x,e[17]=_,e[18]=h):h=e[18];let v;e[19]!==d?(v=d.map(Vt),e[19]=d,e[20]=v):v=e[20];let y;return e[21]!==m||e[22]!==h||e[23]!==v?(y=i.jsxs("div",{className:m,children:[h,v]}),e[21]=m,e[22]=h,e[23]=v,e[24]=y):y=e[24],y}function Vt(t,e){return i.jsx(Ne,{item:t,index:e},e)}function Ht(t){"use forget";const e=j.c(8),{text:s,showUnreadIndicator:n,onClick:o}=t,a=n===void 0?!1:n;let l;e[0]!==a?(l=a&&i.jsx("div",{className:"bg-token-icon-accent h-2 w-2 rounded-full"}),e[0]=a,e[1]=l):l=e[1];let c;e[2]!==s?(c=i.jsx("span",{className:"text-token-text-tertiary text-sm",children:s}),e[2]=s,e[3]=c):c=e[3];let r;return e[4]!==o||e[5]!==l||e[6]!==c?(r=i.jsxs("div",{className:"border-token-border-default hover:bg-token-bg-tertiary flex cursor-pointer items-center gap-2 rounded-full border px-2 py-1 transition-colors",onClick:o,children:[l,c]}),e[4]=o,e[5]=l,e[6]=c,e[7]=r):r=e[7],r}const Ne=t=>{"use forget";var c,r,d,f,p,u,m,x,_,h,v,y,k,N,S,w,E;const e=j.c(58),{item:s,index:n}=t,o=I(),{trackCardImpression:a}=ct(),{openView:l}=dt();switch(s.content_type){case"header_with_date":{const g=(c=s.date)!=null?c:0;let b;return e[0]!==n||e[1]!==s.body||e[2]!==g?(b=i.jsx(Ut,{body:s.body,dateTs:g,className:"mb-6"},n),e[0]=n,e[1]=s.body,e[2]=g,e[3]=b):b=e[3],b}case"commentary":{const g=n>1;let b;return e[4]!==n||e[5]!==s.title||e[6]!==g?(b=i.jsx(we,{includeDivider:g,className:"mb-6",children:s.title},n),e[4]=n,e[5]=s.title,e[6]=g,e[7]=b):b=e[7],b}case"card":{let g;e[8]!==s?(g=ft(s),e[8]=s,e[9]=g):g=e[9];const b=g,C=b!=="light"&&s.conversation_id!=null,P=(r=s.preview_markdown_text)!=null?r:"",$=b==="light"?"light":"default";let D;e[10]!==s.id||e[11]!==a?(D=()=>a(s.id),e[10]=s.id,e[11]=a,e[12]=D):D=e[12];let A;e[13]!==C||e[14]!==s.id||e[15]!==l?(A=C?()=>l(s.id):void 0,e[13]=C,e[14]=s.id,e[15]=l,e[16]=A):A=e[16];let U;return e[17]!==n||e[18]!==s.id||e[19]!==s.image||e[20]!==s.title||e[21]!==P||e[22]!==$||e[23]!==D||e[24]!==A?(U=i.jsx(Wt,{cardId:s.id,image:s.image,title:s.title,description:P,variant:$,onImpression:D,onClick:A,className:"mb-6"},n),e[17]=n,e[18]=s.id,e[19]=s.image,e[20]=s.title,e[21]=P,e[22]=$,e[23]=D,e[24]=A,e[25]=U):U=e[25],U}case"footer":{const g=(d=s.title)!=null?d:"",b=(f=s.body)!=null?f:"";let C;e[26]!==o?(C=()=>Y(o).logEventWithStatsig("(Web) FYP Feed Footer Viewed","chatgpt_web_fyp_feed_footer_viewed"),e[26]=o,e[27]=C):C=e[27];let P;return e[28]!==n||e[29]!==g||e[30]!==b||e[31]!==C?(P=i.jsx(Gt,{title:g,body:b,onImpression:C,className:"mb-6"},n),e[28]=n,e[29]=g,e[30]=b,e[31]=C,e[32]=P):P=e[32],P}case"survey":{let g;e[33]!==((p=s.survey_config)==null?void 0:p.prompt.suggestions)?(g=(m=(u=s.survey_config)==null?void 0:u.prompt.suggestions)!=null?m:[],e[33]=(x=s.survey_config)==null?void 0:x.prompt.suggestions,e[34]=g):g=e[34];const b=(v=(h=(_=s.survey_config)==null?void 0:_.content)==null?void 0:h.title)!=null?v:"";let C;e[35]!==o?(C=()=>Y(o).logEventWithStatsig("(Web) FYP Feed Survey Viewed","chatgpt_web_fyp_feed_survey_viewed"),e[35]=o,e[36]=C):C=e[36];let P;return e[37]!==n||e[38]!==g||e[39]!==b||e[40]!==C?(P=i.jsx(Rt,{suggestions:g,title:b,onImpression:C,className:"mb-6"},n),e[37]=n,e[38]=g,e[39]=b,e[40]=C,e[41]=P):P=e[41],P}case"connector_proactive_toggle":{let g;return e[42]!==o||e[43]!==n||e[44]!==s.connector_ids||e[45]!==((y=s.connectors_image)==null?void 0:y.url)||e[46]!==s.id||e[47]!==s.learn_more_url?(g=be(o,"3304830717")&&((k=s.connector_ids)==null?void 0:k.length)>0&&i.jsx(Ft,{itemId:s.id,learnMoreUrl:(N=s.learn_more_url)!=null?N:"",image:(w=(S=s.connectors_image)==null?void 0:S.url)!=null?w:"",connectorIds:s.connector_ids,onImpression:()=>Y(o).logEventWithStatsig("(Web) FYP Proactive Connector Toggle Shown","chatgpt_web_fyp_proactive_connector_toggle_shown",{connector_ids:s.connector_ids}),className:"mb-6"},n),e[42]=o,e[43]=n,e[44]=s.connector_ids,e[45]=(E=s.connectors_image)==null?void 0:E.url,e[46]=s.id,e[47]=s.learn_more_url,e[48]=g):g=e[48],g}case"sugarbone_header":{let g;return e[49]!==n||e[50]!==s.task_id||e[51]!==s.title?(g=!1,e[49]=n,e[50]=s.task_id,e[51]=s.title,e[52]=g):g=e[52],g}case"card_stack":{let g;return e[53]!==n||e[54]!==s.badge||e[55]!==s.header||e[56]!==s.items?(g=i.jsx(Yt,{header:s.header,items:s.items,badge:s.badge,className:"mb-6"},n),e[53]=n,e[54]=s.badge,e[55]=s.header,e[56]=s.items,e[57]=g):g=e[57],g}default:return null}};function Bt(){"use forget";const t=j.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(R,{className:"mb-6 h-12 w-46 rounded-full"}),i.jsx(R,{className:"h-4 w-full max-w-xl rounded-full"}),i.jsx(R,{className:"h-4 w-full max-w-[28rem] rounded-full"})]}),i.jsx(H,{}),i.jsx(H,{withSecondaryAction:!0}),i.jsx(H,{}),i.jsx(H,{}),i.jsx(H,{})]}),t[0]=e):e=t[0],e}function H(t){"use forget";const e=j.c(4),{withSecondaryAction:s}=t,n=s===void 0?!1:s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=i.jsx(R,{className:"aspect-square h-full w-full rounded-2xl"}),e[0]=o):o=e[0];let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(R,{className:"h-6 w-3/4 rounded-lg"}),i.jsx(R,{className:"h-4 w-11/12 rounded-lg"})]}),e[1]=a):a=e[1];let l;return e[2]!==n?(l=i.jsx(ae,{image:o,content:a,actions:n?i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx(he,{}),i.jsx(R,{className:"h-10 w-40 rounded-full"})]}):i.jsx(he,{})}),e[2]=n,e[3]=l):l=e[3],l}function he(){"use forget";const t=j.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=i.jsx("div",{className:"flex items-center gap-3",children:Array.from({length:4}).map(Qt)}),t[0]=e):e=t[0],e}function Qt(t,e){return i.jsx(R,{className:"h-6 w-6 rounded-full"},e)}function qt(t,e){"use forget";var r;const s=j.c(7);let n;if(s[0]!==e||s[1]!==t){const d=(r=ke(t).map(Jt).filter(Kt))!=null?r:[];e&&d.push(e),n=d.filter(zt),s[0]=e,s[1]=t,s[2]=n}else n=s[2];const o=n,a=Le();let l,c;s[3]!==o||s[4]!==a?(l=()=>{o.forEach(d=>{a.prefetchQuery(O({},ht({clientThreadId:d})))})},c=[o,a],s[3]=o,s[4]=a,s[5]=l,s[6]=c):(l=s[5],c=s[6]),L.useEffect(l,c)}function zt(t){return!He(t)}function Kt(t){return t!=null}function Jt(t){return t.conversation_id}function Xt(t){"use forget";const e=j.c(6),s=I();let n;e[0]!==t?(n=ke(t).filter(Zt),e[0]=t,e[1]=n):n=e[1];const o=n;let a,l;e[2]!==o||e[3]!==s?(a=()=>{o.forEach(c=>{es(s,c.id)})},l=[o,s],e[2]=o,e[3]=s,e[4]=a,e[5]=l):(a=e[4],l=e[5]),L.useEffect(a,l)}function Zt(t){return t.conversation_id==null&&xt(t)}const es=async(t,e)=>{var a,l;const s=Be(t),n=Qe(s.id),o=qe(t);n||(ze.initThread({clientThreadId:s.id,conversationMode:{kind:Ke.PrimaryAssistant},userId:(a=o==null?void 0:o.user)==null?void 0:a.id,accountId:(l=o==null?void 0:o.account)==null?void 0:l.id,disableConversationNavigation:!0,pulseCardId:e}),pe(me(t),e,s.id)),Je(()=>s.serverId$()!==void 0,()=>{const c=s.serverId$();c&&(Xe(c,r=>(r.disableConversationNavigation=!0,r)),pe(me(t),e,c))}),await _t({conversation:s,sourceEvent:new Event("pulse-card-stream"),promptMessage:et(""),completionType:Ze.Next,extraStreamParams:{pulseCompletionParams:{type:"card",card_id:e}}})};function ts(){"use forget";var m,x;const t=j.c(12),e=I();let s;t[0]!==e?(s=()=>jt(e),t[0]=e,t[1]=s):s=t[1];const{data:n,isLoading:o}=ee(s);let a;t[2]!==(n==null?void 0:n.items)?(a=(m=n==null?void 0:n.items)!=null?m:[],t[2]=n==null?void 0:n.items,t[3]=a):a=t[3];const l=a,c=(x=n==null?void 0:n.feedback)==null?void 0:x.feedback_conversation_id,r=c!=null?c:void 0;Ct(n==null?void 0:n.id),qt(l,r),Xt(l);let d;t[4]!==e?(d=!1,t[4]=e,t[5]=d):d=t[5];let f;t[6]!==d?(f={enabled:d},t[6]=d,t[7]=f):f=t[7],vt(f);let p;t[8]===Symbol.for("react.memo_cache_sentinel")?(p=[],t[8]=p):p=t[8],L.useEffect(ss,p);let u;return t[9]!==o||t[10]!==l?(u=i.jsx("div",{className:"mx-auto flex w-full max-w-3xl grow flex-col px-8 py-12",children:o?i.jsx(Bt,{}):i.jsx(ls,{pulseItems:l})}),t[9]=o,t[10]=l,t[11]=u):u=t[11],u}function ss(){tt.count(st.PULSE,"chatgpt_web_fyp_feed_shown")}const ls=t=>{"use forget";const e=j.c(7),{pulseItems:s}=t,n=I();let o,a;e[0]!==n?(o=()=>{var r;return Y(n).logEventWithStatsig("(Web) FYP Feed Shown","chatgpt_web_fyp_feed_shown",{source:(r=ge(n))!=null?r:bt.Url}),()=>{Y(n).logEventWithStatsig("(Web) FYP Feed Hidden","chatgpt_web_fyp_feed_hidden"),ge.set(n,void 0)}},a=[n],e[0]=n,e[1]=o,e[2]=a):(o=e[1],a=e[2]),L.useEffect(o,a);let l;e[3]!==s?(l=s.map(ns),e[3]=s,e[4]=l):l=e[4];let c;return e[5]!==l?(c=i.jsx(i.Fragment,{children:l}),e[5]=l,e[6]=c):c=e[6],c};function ns(t,e){return i.jsx(Ne,{item:t,index:e},e)}function os(){"use forget";const t=j.c(4),e=I();let s;t[0]!==e?(s=be(e,"1833324140"),t[0]=e,t[1]=s):s=t[1];const n=s;let o;return t[2]!==n?(o=i.jsx(i.Fragment,{children:i.jsx(ts,{})}),t[2]=n,t[3]=o):o=t[3],o}function is(){"use forget";const t=j.c(24),e=I();let s;t[0]!==e?(s=()=>!yt(e),t[0]=e,t[1]=s):s=t[1];const n=ee(s);let o;t[2]!==e?(o=!1,t[2]=e,t[3]=o):o=t[3];const a=o;let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx(Pt,{hideNewChat:!0}),t[4]=l):l=t[4];let c;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsx("h1",{className:"text-lg font-normal",children:i.jsx(M,{id:"I1hXU9",defaultMessage:"Pulse"})}),t[5]=c):c=t[5];let r;t[6]!==e||t[7]!==a||t[8]!==n?(r=(!n||a)&&i.jsx(Mt,{onClick:()=>oe(e).openFeedbackView()}),t[6]=e,t[7]=a,t[8]=n,t[9]=r):r=t[9];let d;t[10]!==r?(d=i.jsx("div",{className:"h-header-height sticky top-0 z-10 flex shrink-0 items-center ps-6 pe-3",children:i.jsxs("div",{className:"flex grow items-center gap-2",children:[l,i.jsxs("div",{className:"flex w-full items-center justify-between",children:[c,r]})]})}),t[10]=r,t[11]=d):d=t[11];let f;t[12]!==a?(f=!1,t[12]=a,t[13]=f):f=t[13];let p;t[14]!==a||t[15]!==n?(p=!a&&(n?i.jsx(kt,{}):i.jsx(os,{})),t[14]=a,t[15]=n,t[16]=p):p=t[16];let u;t[17]!==f||t[18]!==p?(u=i.jsxs(lt,{children:[f,p]}),t[17]=f,t[18]=p,t[19]=u):u=t[19];let m;t[20]===Symbol.for("react.memo_cache_sentinel")?(m=!1,t[20]=m):m=t[20];let x;return t[21]!==d||t[22]!==u?(x=i.jsxs("div",{className:"flex min-h-screen flex-col",children:[d,u,m]}),t[21]=d,t[22]=u,t[23]=x):x=t[23],x}function as(){"use forget";const t=j.c(13),e=I();let s;t[0]!==e?(s=()=>St(e),t[0]=e,t[1]=s):s=t[1];const n=ee(s);let o;t[2]!==e?(o=!1,t[2]=e,t[3]=o):o=t[3];const a=o;let l;t[4]!==e||t[5]!==a?(l=()=>wt(e,{useCache:!a}),t[4]=e,t[5]=a,t[6]=l):l=t[6];const{data:c}=ee(l),r=!1;L.useRef(!1);let d,f;if(t[7]!==e||t[8]!==r?(d=()=>{},f=[e,r],t[7]=e,t[8]=r,t[9]=d,t[10]=f):(d=t[9],f=t[10]),L.useEffect(d,f),n===void 0)return null;if(!n){let u;return t[11]===Symbol.for("react.memo_cache_sentinel")?(u=i.jsx($e,{to:"/",replace:!0}),t[11]=u):u=t[11],u}let p;return t[12]===Symbol.for("react.memo_cache_sentinel")?(p=i.jsx(rs,{}),t[12]=p):p=t[12],p}function rs(){"use forget";const t=j.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=i.jsx(cs,{children:i.jsx(is,{})}),t[0]=e):e=t[0],e}function cs(t){"use forget";const e=j.c(11),{children:s}=t,n=I();let o,a;e[0]!==n?(o=()=>()=>{oe(n).clearState()},a=[n],e[0]=n,e[1]=o,e[2]=a):(o=e[1],a=e[2]),L.useEffect(o,a);let l;e[3]!==n?(l=nt(n,Nt),e[3]=n,e[4]=l):l=e[4];const c=l;let r;e[5]!==s||e[6]!==c?(r=i.jsx(Fe,{conversation:c,threadContent:s}),e[5]=s,e[6]=c,e[7]=r):r=e[7];let d;return e[8]!==c||e[9]!==r?(d=i.jsx(ot.Provider,{value:c,children:r}),e[8]=c,e[9]=r,e[10]=d):d=e[10],d}const Fs=()=>null,As=()=>!1,Os=De(function(){return i.jsx(as,{})});export{Fs as clientLoader,Os as default,As as shouldRevalidate};
//# sourceMappingURL=okwy6nndr0lisj53.js.map

var C=Object.defineProperty,l=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var c=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var d=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&d(e,r,t[r]);if(i)for(var r of i(t))h.call(t,r)&&d(e,r,t[r]);return e},p=(e,t)=>l(e,_(t));var u=(e,t)=>{var r={};for(var o in e)c.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&i)for(var o of i(e))t.indexOf(o)<0&&h.call(e,o)&&(r[o]=e[o]);return r};import{y as I,a1 as y,j as s,b as E,r as n}from"./mw35uwhq4g8r9eam.js";import{C as T}from"./dukfeuga0ipvcx0b.js";import{u as j,pd as R,iX as A,iY as N,T as P,iz as g,er as w,R as F}from"./d0xa318sl7ywi0za.js";import"./g2euln7v5pbm31qa.js";import"./dtmprrbw2fxa7u08.js";import"./j6o92bx1q4qhetyv.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./cvl54rj7bbx1877e.js";import"./i8gmt89kig8ue44v.js";import"./dejzmw8nrz6tr491.js";import"./5uqv5sdajcdsdc3v.js";import"./kc32gem4l2t3hnxt.js";import"./of0vtq1gcmd3mc3z.js";import"./kne35xckmmfq3xx6.js";import"./c340ncgh31fwqkpk.js";import"./kl0a548ohmz3fby2.js";import"./obpubb7ugisfu36u.js";import"./gl4f6lge29au0ljx.js";import"./iio0zgk2sqlxbcjy.js";import"./kbwy95pwpw3ze3en.js";import"./dbnl40ahcmx1rqbw.js";import"./j723eutw6lfomm01.js";import"./ggvjblnzoirafiyl.js";import"./fe4yarxdk4eko5w6.js";import"./kubdgxu3crk3gqem.js";import"./jc1wlz3ym1r6tf2l.js";import"./dhyn0hpw8j3dzdrv.js";import"./ft92xq3wp8rdw7y4.js";function O(e){const t=e.sharedConversationId,{data:r,isError:o}=E({queryKey:["shared-conversation/".concat(t)],queryFn:()=>F.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),f=j(),[v]=n.useState(()=>R(f,{sharedConversationId:t})),a=v.id,[x,S]=n.useState(!1);return n.useEffect(()=>{o&&(window.location.href=A(N.SHARE_NOT_FOUND))},[o]),n.useEffect(()=>{r&&a&&(P.updateThreadFromServer(a,r,{skipIfExisting:!0,continuingFromSharedConversationId:t}),S(!0))},[r,t,a]),x&&r?s.jsx(g.Provider,{value:{serverSharedThreadId:e.sharedConversationId},children:s.jsx(T,p(m({},e.chatPageProps),{clientThreadId:a}))}):s.jsx("div",{className:"flex h-full items-center justify-center",children:s.jsx(w,{className:"text-token-text-tertiary"})})}const dt=I(function(){const o=y(),{sharedConversationId:t}=o,r=u(o,["sharedConversationId"]);return s.jsx(O,p(m({},r),{sharedConversationId:t}))});export{dt as default};
//# sourceMappingURL=hpm38tmhgeteh9pc.js.map

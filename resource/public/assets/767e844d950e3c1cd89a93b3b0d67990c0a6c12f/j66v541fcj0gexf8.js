const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hcwyolp0aybqq400.js","assets/mw35uwhq4g8r9eam.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/laaag2ef692jond3.js","assets/g2euln7v5pbm31qa.js","assets/conversation-small-lq38g8zw.css","assets/mraf0ji5wx0y0vgl.js","assets/fgu1j7e2q9emyzhc.js","assets/ouqfkhwho1d793yt.js","assets/f1b2o8cofuf894iu.js","assets/pbx1h703pubtj7lo.js","assets/l4v2i2dq9gwjak1q.js","assets/c08xobknzytt16by.js","assets/iio0zgk2sqlxbcjy.js","assets/euzz83urne0h11ye.js","assets/e1t6unu3olubcgkg.js","assets/lcy2t692punsnn4q.js","assets/kcu1x1p0wojynl2j.js","assets/icplq4r4g4m9zwmv.js","assets/m2d85ixk2zz51mk9.js","assets/pdbvfcpzcg4ny695.js","assets/ki6jbruunap4y9wd.js","assets/k9kw5016oyk4ib9g.js","assets/lvrypwdhnjlsz45f.js","assets/gywigwwdbkbcgqzt.js","assets/la79eh1q1qxrfcxi.js","assets/i693kfbch8smq86y.js","assets/gy1lpvuoewmzh42c.js","assets/iknugp00locgtve5.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js","assets/oj9zwxa6l3kpv1x2.js","assets/h4yh1661qhhbu5v5.js","assets/bymjh2zr7tar40cn.js","assets/bzxitjpdx1z6hpbp.js","assets/nfv7adzg2a3x1oo5.js","assets/nte82mqftpddm52f.js","assets/3xa3aq3nbd1nd678.js","assets/jwvkjd19mng37ttq.js","assets/ffwmresmynw1bm5w.js","assets/dwcyf9zwrp4hlt30.js","assets/d0pdpvvqx24hob9r.js","assets/nc5snhuo5k648r43.js","assets/k527f0oyvlppyfoy.js","assets/nea9sowk1s9pzcpg.js","assets/ey0kaiz1v4k0znjj.js","assets/ht6uzt6gonugd1uu.js","assets/ivhsa3khymuxymxc.js","assets/egtdmf6pnrvsdet3.js","assets/iue4s7sqsxkz98qq.js"])))=>i.map(i=>d[i]);
import{h as B,r as m,_ as D,j as e,M as x}from"./mw35uwhq4g8r9eam.js";import{eG as O,be as T}from"./g2euln7v5pbm31qa.js";import{u as A,be as E,d as L,kh as R,aB as I,dp as b,bq as q,qU as V}from"./d0xa318sl7ywi0za.js";import{u as z}from"./k527f0oyvlppyfoy.js";function H({onClose:y,passkeys:u,onCreatePasskey:v,renderAsSheet:j}){"use no forget";const i=B(),N=A(),{removeMfa:w}=z({}),l=m.useRef(new Set),[h,f]=m.useState(()=>[...u]);m.useEffect(()=>{f([...u])},[u]);const _=m.useMemo(()=>[...h].sort((s,d)=>{var t,o,c,k;const a=(o=(t=s.metadata)==null?void 0:t.create_time_seconds)!=null?o:0;return((k=(c=d.metadata)==null?void 0:c.create_time_seconds)!=null?k:0)-a}),[h]),C=E(()=>D(()=>import("./hcwyolp0aybqq400.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])).then(s=>s.DeletePasskeyModal)),S=L(R),g=!!j,M=V(),n=g&&!M,p=g&&M,P=async s=>{var a,r;l.current.has(s.id)||(l.current.add(s.id),await w("passkey",s.id))||q(N,C,{factorId:s.id,passkeyName:(r=(a=s.metadata)==null?void 0:a.authenticator_name)!=null?r:null,onDeleted:t=>{f(o=>o.filter(c=>c.id!==t)),l.current.delete(t)},onClose:()=>{l.current.delete(s.id)}})};return e.jsxs(I,{testId:"modal-passkeys",isOpen:!0,onClose:y,type:"success",showCloseButton:!0,hasSeparator:!0,showOverlayBackground:!p,overlayClassName:p?"bg-token-bg-primary":void 0,position:p?"top":void 0,className:n?"sm:border-token-border-light! max-sm:h-full max-sm:w-screen max-sm:max-w-none max-sm:rounded-none sm:w-[calc(100vw-2rem)] sm:max-w-[900px] sm:border":"max-w-[524px]!",topMargin:n?"large":void 0,isBottomSheet:n,contentSize:n?S?"fit":"fill":void 0,contentSheetViewClassName:n?"h-[max(100svh,100dvh,100%)]":void 0,headerClassName:"!px-6 !py-0 !h-[76px] !items-center",contentClassName:"!px-6 !pt-6 !pb-[24px]",modalActionsClassName:"!mt-[24px]",title:e.jsx("span",{className:"heading-sm [font-weight:500]",children:e.jsx(x,{id:"settingsModal.passkeysModal.title",defaultMessage:"Passkeys"})}),primaryButton:e.jsx(b.Button,{title:i.formatMessage({id:"settingsModal.passkeysModal.doneCta",defaultMessage:"Done"}),color:"primary",onClick:y}),secondaryButton:e.jsx(b.Button,{title:i.formatMessage({id:"settingsModal.passkeysModal.createPasskeyCta",defaultMessage:"Create passkey"}),color:"secondary",onClick:v}),children:[e.jsx("p",{className:"text-sm",children:e.jsx(x,{id:"settingsModal.passkeysModal.explainer",defaultMessage:"Passkeys let you log in with your fingerprint, face, or screen lock or can be used in addition to your password. Make sure you keep your screen lock private."})}),e.jsx("div",{className:"border-token-border mt-6 border-t"}),e.jsx("ul",{className:"divide-token-border border-token-border divide-y border-b",children:_.map(s=>{var r,t,o;const d=(r=s.metadata)==null?void 0:r.create_time_seconds,a=d!=null?new Date(d*1e3):void 0;return e.jsx("li",{className:"py-2",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"truncate py-0.5 text-sm",children:(o=(t=s.metadata)==null?void 0:t.authenticator_name)!=null?o:i.formatMessage({id:"settingsModal.passkeysModal.fallbackName",defaultMessage:"Passkey"})}),a&&e.jsx("p",{className:"text-token-text-secondary truncate py-0.5 text-sm",children:e.jsx(x,{id:"settingsModal.passkeysModal.createdOn",defaultMessage:"Created on {ts, date, short} at {ts, time, short}",values:{ts:a.getTime()}})})]}),e.jsx("div",{className:"flex shrink-0 items-center gap-2",children:e.jsx(O,{className:"icon",label:i.formatMessage({id:"delete-passkey-button",defaultMessage:"Delete passkey"}),onClick:()=>P(s),icon:e.jsx(T,{style:{color:"black"},className:"icon"}),"data-testid":"delete-passkey-".concat(s.id)})})]})},s.id)})})]})}export{H as PasskeysModal};
//# sourceMappingURL=j66v541fcj0gexf8.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jn2gwhu7zz26y5ej.js","assets/mw35uwhq4g8r9eam.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/mstl8wgfzorpgdoe.js","assets/gywigwwdbkbcgqzt.js","assets/g2euln7v5pbm31qa.js","assets/conversation-small-lq38g8zw.css","assets/c0ls495fz2t1hbyy.js","assets/mraf0ji5wx0y0vgl.js","assets/b5fq0dy7czwrodri.js","assets/eea2lld77g0grm9n.js","assets/k527f0oyvlppyfoy.js"])))=>i.map(i=>d[i]);
var ko=Object.freeze,Mo=Object.defineProperty,zi=Object.defineProperties;var Gi=Object.getOwnPropertyDescriptors;var ln=Object.getOwnPropertySymbols;var So=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable;var wo=(s,e,n)=>e in s?Mo(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,I=(s,e)=>{for(var n in e||(e={}))So.call(e,n)&&wo(s,n,e[n]);if(ln)for(var n of ln(e))No.call(e,n)&&wo(s,n,e[n]);return s},xe=(s,e)=>zi(s,Gi(e));var Xt=(s,e)=>{var n={};for(var o in s)So.call(s,o)&&e.indexOf(o)<0&&(n[o]=s[o]);if(s!=null&&ln)for(var o of ln(s))e.indexOf(o)<0&&No.call(s,o)&&(n[o]=s[o]);return n};var To=(s,e)=>ko(Mo(s,"raw",{value:ko(e||s.slice())}));import{e as Ee,h as te,r as P,j as t,M as k,c as F,_ as Ks,b as as,u as St,i as qe,t as Ui,w as Wi,d as ra,a as qi,y as Ki}from"./mw35uwhq4g8r9eam.js";import{a as Hi,c as Wn,e as Ao}from"./g6gtv3p57f0esi65.js";import{F as ca}from"./bkgcomfvnpye3vr8.js";import{cb as zt,ev as da,et as fa,eu as ua,xz as ma,dL as pn,af as pa,aZ as ga,be as ha,at as Zn,c0 as gn,c1 as Jn,c2 as Xn,A1 as xa,z as Gt,A as Hs,ay as ya,Bl as Do,Bm as Qi,Bn as Yi,Bo as Vi,Bp as Zi,Bq as Ji,Br as Xi,Bs as el,oZ as tl,au as sl,Bt as Po,eT as nl,eV as Eo,eS as ol,pR as ws,Bu as Io,Bv as al,Bw as il,iG as ll,bd as vt,Bx as rl,oX as cl,fd as dl,eB as fl,cg as Ln,tC as ba,U as ul,b$ as qn,bp as ml,aP as pl,By as gl,me as hl,bI as xl,bv as yl,bw as bl,r8 as jl,Be as Cl,is as _l,fK as vl,ec as ja,Bz as Ro,i7 as kl}from"./g2euln7v5pbm31qa.js";import{ia as wl,id as Ml,l9 as Sl,ie as Nl,ii as Tl,ig as Al,ih as Dl,ej as Ca,ik as Pl,i1 as El,nM as Il,i2 as Rl,i3 as Ol,nN as Ll,nO as Fl,nP as Bl,nV as $l,l8 as zl,nQ as Gl,i4 as Ul,nR as Wl,i5 as ql,nS as Kl,nT as Hl,nU as Ql,i6 as Yl,i0 as Vl,i7 as Zl,i8 as Jl,i9 as Xl,ib as _a,p as Et,fL as Le,aB as Ie,wF as eo,aA as Z,u as le,al as Te,rU as hn,cF as se,be as Qs,g3 as va,ee as We,ef as to,ei as so,g4 as xn,x7 as ka,er as He,iK as Ns,vD as It,e5 as no,wH as Ys,nq as er,fG as tr,zG as sr,qe as wa,mk as $t,n_ as Vs,cI as Us,jf as nr,vE as or,tx as jt,_ as Ut,cw as Ts,fJ as Zt,f7 as ie,cB as ar,ij as ir,b9 as yn,d as As,fP as lr,aV as rr,ek as Ma,eg as oo,jh as Xe,rw as Zs,s_ as Kt,d$ as ct,tA as os,t1 as Sa,zH as bn,qV as Js,gw as ao,zI as jn,e4 as Cn,cT as _n,cG as cr,gq as dr,aS as fr,uo as Bt,zd as ur,ed as cn,lZ as mr,u9 as dn,tf as pr,eS as vn,ty as wt,zJ as io,lE as gr,zK as hr,ru as Na,fz as Ta,tz as xr,ec as yr,zL as br,R as dt,z6 as Aa,rv as lo,nu as fn,aw as jr,g as Cr,m4 as _r,e7 as ro,nG as vr,gk as Da,zM as kr,nH as wr,kx as kn,zN as Mr,zO as co,fX as Sr,lG as Nr,qf as Tr,hi as Pa,eu as Kn,xE as Ea,h5 as fo,dP as Ar,J as Dr}from"./d0xa318sl7ywi0za.js";import{u as Ia,b as Ds,r as Ps,A as Es,a as uo,l as Ra}from"./ouqfkhwho1d793yt.js";import{l as Pr}from"./k9kw5016oyk4ib9g.js";import{o as Is,p as Er,i as Oa,q as La}from"./ftmb8i4ic3k5d37m.js";import{S as Fa,a as Ir,b as Rr,c as Or,d as Lr,e as Fr}from"./j0xejjhiem9b3ybn.js";import{c as Br,b as $r,a as zr}from"./oq8bsh1t4vyck4xl.js";import{C as Wt,a as wn,b as Ba,u as $a,R as za,A as Gr,g as Ur,c as Ga,d as Ua,e as Wa,f as Wr,M as qr,D as ts,G as qa,S as Kr,t as mo,h as Hr}from"./3nm0nfmltveebiyx.js";import{S as Mn}from"./pdbvfcpzcg4ny695.js";import{C as Rs}from"./c0ls495fz2t1hbyy.js";import{s as Ka}from"./ki6jbruunap4y9wd.js";import{d as Ha}from"./ojmli062couj7r3v.js";import{d as Oo}from"./l1ka89a9nbqv3utj.js";import{C as Qr}from"./kcu1x1p0wojynl2j.js";import{S as Yr}from"./or2c1ty5tgulfeci.js";import{S as Qa}from"./ga8ujjebb15fm0bs.js";import{d as Ya}from"./deakbbf27g8e7ba0.js";import{S as Va}from"./f1b2o8cofuf894iu.js";import{A as Vr}from"./ksx53yee0j91izt6.js";import{T as Zr}from"./of0vtq1gcmd3mc3z.js";import{a as Jr,g as Lo}from"./j1rq14zdeu46nifx.js";import{c as Za}from"./b7x946trz8yzbo2f.js";import{c as Xr}from"./jds242fqj1w4n5ig.js";import{f as ec}from"./og1ftjb0zeoepdz3.js";import{a as tc}from"./e1t6unu3olubcgkg.js";import{S as Hn}from"./bymjh2zr7tar40cn.js";import{S as sc}from"./tffc42bs0etu9v3l.js";import"./dbnl40ahcmx1rqbw.js";import"./j723eutw6lfomm01.js";import"./gl4f6lge29au0ljx.js";import"./iio0zgk2sqlxbcjy.js";import"./obpubb7ugisfu36u.js";import"./c340ncgh31fwqkpk.js";import"./ggvjblnzoirafiyl.js";import"./kc32gem4l2t3hnxt.js";import"./5uqv5sdajcdsdc3v.js";import"./kne35xckmmfq3xx6.js";import"./kl0a548ohmz3fby2.js";import"./fe4yarxdk4eko5w6.js";import"./kubdgxu3crk3gqem.js";import"./jc1wlz3ym1r6tf2l.js";import"./lv7ytt0l14b17ows.js";import"./dhyn0hpw8j3dzdrv.js";import"./kubovzlwgxdy8km7.js";import"./ffo9fz3385kae4ff.js";import"./pbx1h703pubtj7lo.js";import"./l4v2i2dq9gwjak1q.js";import"./c08xobknzytt16by.js";import"./jzs4duvmz6iq4bpr.js";import"./m2d85ixk2zz51mk9.js";import"./mdhx8v0rk5lzwfyg.js";import"./chla3yza1e08sgmu.js";import"./icplq4r4g4m9zwmv.js";import"./ol9d5wxhynx9q2is.js";const nc=Za("Search16Regular","16",["M9.3 10.02a4.5 4.5 0 1 1 .7-.7l3.85 3.83a.5.5 0 0 1-.7.7L9.3 10.02ZM10 6.5a3.5 3.5 0 1 0-7 0 3.5 3.5 0 0 0 7 0Z"]),oc=Za("SettingsCogMultiple20Filled","20",["M8 2c-.37 0-.73.04-1.08.1a.5.5 0 0 0-.4.4l-.26 1.36c-.05.25-.3.4-.54.31l-1.3-.45a.5.5 0 0 0-.55.14A5.5 5.5 0 0 0 2.8 5.74c-.07.2-.01.4.14.54l1.05.9c.19.17.19.47 0 .63l-1.05.91a.5.5 0 0 0-.14.54c.23.7.6 1.34 1.08 1.88.14.15.35.2.54.14l1.3-.45c.25-.08.5.06.55.31l.27 1.36c.03.2.19.35.39.4a5.52 5.52 0 0 0 2.17 0 .5.5 0 0 0 .4-.4l.25-1.36c.05-.25.3-.4.55-.31l1.3.45c.19.06.4 0 .54-.14a5.5 5.5 0 0 0 1.08-1.89.5.5 0 0 0-.14-.53l-1.04-.9a.42.42 0 0 1 0-.63l1.04-.9a.5.5 0 0 0 .14-.54 5.5 5.5 0 0 0-1.08-1.89.5.5 0 0 0-.54-.14l-1.3.45a.42.42 0 0 1-.55-.31L9.48 2.5a.5.5 0 0 0-.4-.4C8.75 2.05 8.39 2 8 2ZM6.5 7.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm4.66 4.95a.46.46 0 0 1 .53-.15l.8.27c.26.1.54-.07.6-.34l.15-.83c.04-.2.2-.36.4-.38a3.55 3.55 0 0 1 .72 0c.2.02.35.18.4.38l.15.83c.06.27.34.43.6.34l.8-.27c.19-.07.4-.02.52.15.14.2.27.4.36.62.09.19.03.4-.13.53l-.64.56c-.2.18-.2.5 0 .68l.64.56c.16.13.22.34.13.53-.1.22-.22.43-.36.62a.46.46 0 0 1-.52.15l-.8-.27a.45.45 0 0 0-.6.34l-.16.83c-.04.2-.19.36-.4.38a3.55 3.55 0 0 1-.71 0 .46.46 0 0 1-.4-.38l-.16-.83a.45.45 0 0 0-.6-.34l-.8.27c-.18.07-.4.02-.52-.15a3.5 3.5 0 0 1-.36-.62.46.46 0 0 1 .13-.53l.64-.56c.21-.18.21-.5 0-.68l-.64-.56a.46.46 0 0 1-.13-.53c.1-.22.22-.43.36-.62ZM15 14.5a1 1 0 1 0-2 0 1 1 0 0 0 2 0Z"]),Qt=Ee({fileSingular:{id:"TKyiaj",defaultMessage:"file"},filesPlural:{id:"krAMi5",defaultMessage:"files"},domainSingular:{id:"ExZP9r",defaultMessage:"domain"},domainsPlural:{id:"PmkQD7",defaultMessage:"domains"}});function Fo(s,e){return s==="google_drive_dwd"||s==="google_drive_oauth"?{objectTypeSingular:e.formatMessage(Qt.fileSingular),objectTypePlural:e.formatMessage(Qt.filesPlural),externalLinkableUnitSingular:e.formatMessage(Qt.domainSingular),externalLinkableUnitPlural:e.formatMessage(Qt.domainsPlural)}:s==="slack"?{objectTypeSingular:e.formatMessage({id:"Y22i2G",defaultMessage:"channel"}),objectTypePlural:e.formatMessage({id:"UXSOIk",defaultMessage:"channels"}),externalLinkableUnitSingular:e.formatMessage({id:"yyIyWp",defaultMessage:"workspace"}),externalLinkableUnitPlural:e.formatMessage({id:"LuznzN",defaultMessage:"workspaces"})}:{objectTypeSingular:e.formatMessage(Qt.fileSingular),objectTypePlural:e.formatMessage(Qt.filesPlural),externalLinkableUnitSingular:e.formatMessage(Qt.domainSingular),externalLinkableUnitPlural:e.formatMessage(Qt.domainsPlural)}}const qt={id:"connectors.shared.controlBullet",defaultMessage:"You’re in control: Disable access anytime to instantly revoke permissions and delete indexed data.",description:"Bullet point explaining control over revoking access for a synced connector."};function Qe({type:s,icon:e,productDisplayName:n,displayNameMessage:o,taglineMessage:a,descriptionSummary:i,bulletSummary:l,permissionSummary:c,hideForTeamPlan:r=!0,accountNoun:d}){const f=d!=null?d:"".concat(n," accounts");return{type:s,icon:e,hideForTeamPlan:r,displayNameMessage:o,taglineMessage:a,modal:{toastId:"".concat(s,"_connection_setup_modal"),testId:"modal-".concat(s,"-basic-info"),props:Wt[s],copy:{title:{id:"connectors.".concat(s,".modal.title"),defaultMessage:"Enable ".concat(n," sync for ChatGPT"),description:"Title for the ".concat(n," linking modal shown to admins.")},description:{id:"connectors.".concat(s,".modal.description"),defaultMessage:"Connecting ".concat(n," lets ChatGPT surface ").concat(i,". Once enabled, members of your organization can link their ").concat(f," to ChatGPT."),description:"Description for the ".concat(n," linking modal shown to admins.")},bulletPoints:[{id:"connectors.".concat(s,".modal.bullet.0"),defaultMessage:"Continuous sync: Your ".concat(l," is indexed, stored, and kept up to date in ChatGPT."),description:"Bullet point explaining ongoing sync when the ".concat(n," connector is enabled.")},{id:"connectors.".concat(s,".modal.bullet.1"),defaultMessage:"Permission-aware: ChatGPT respects ".concat(c,", ensuring users can only view content they’re authorized to access."),description:"Bullet point explaining permission enforcement for the ".concat(n," connector.")},qt]}}}}const ac={type:"github",icon:Pl,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.github.displayName",defaultMessage:"GitHub",description:"Name of Github, a product."},taglineMessage:{id:"connectors.github.tagline",defaultMessage:"Sync repositories and commits.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Github repositories and commits."},modal:{toastId:"github_connection_setup_modal",testId:"modal-github-basic-info",props:Wt.github,copy:{title:{id:"connectors.github.modal.title",defaultMessage:"Enable GitHub sync for ChatGPT",description:"Title for the GitHub linking modal"},description:{id:"connectors.github.modal.description",defaultMessage:"By enabling ChatGPT to access your GitHub repositories, you empower your organization with more tailored answers based on your codebase. Once enabled, members of your organization can connect their GitHub accounts to ChatGPT.",description:"Description for the GitHub linking modal for admins"},bulletPoints:[{id:"connectors.github.modal.bullet.0",defaultMessage:"Continuous sync: Your repositories are indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining that if the user enables access, their repositories will be synced to ChatGPT on an ongoing basis."},{id:"connectors.github.modal.bullet.1",defaultMessage:"Privacy first: ChatGPT adheres to GitHub permissions, ensuring users access only what they can view on GitHub.",description:"Bullet point explaining that GitHub permissions are enforced when repositories sync with ChatGPT."},qt]}},additionalRequestPayload:{organization_name:null}},ic={type:"sharepoint",icon:Ca,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.sharepoint.displayName",defaultMessage:"SharePoint",description:"Name of Sharepoint, a product."},taglineMessage:{id:"connectors.sharepoint.tagline",defaultMessage:"Sync documents and files from your SharePoint and OneDrive.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Sharepoint documents and files."},modal:{toastId:"sharepoint_connection_setup_modal",testId:"modal-sharepoint-basic-info",props:Wt.sharepoint,copy:{title:{id:"connectors.sharepoint.modal.title",defaultMessage:"Enable SharePoint sync for ChatGPT",description:"Title for the SharePoint linking modal"},description:{id:"connectors.sharepoint.modal.description",defaultMessage:"By enabling ChatGPT to access your SharePoint, you empower your organization with more tailored answers based on your files and sites. Once enabled, members of your organization can connect their SharePoint accounts to ChatGPT.",description:"Description for the SharePoint linking modal for admins"},bulletPoints:[{id:"connectors.sharepoint.modal.bullet.0",defaultMessage:"Continuous sync: Your SharePoint content is indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining ongoing sync for SharePoint"},{id:"connectors.sharepoint.modal.bullet.1",defaultMessage:"Privacy first: ChatGPT adheres to SharePoint permissions, ensuring users access only what they can view in Microsoft 365.",description:"Bullet point explaining SharePoint permissions are enforced"},qt]}}},lc=Qe({type:"teams",icon:_a,productDisplayName:"Microsoft Teams",displayNameMessage:{id:"connectors.teams.displayName",defaultMessage:"Microsoft Teams",description:"Name of Microsoft Teams, a product."},taglineMessage:{id:"connectors.teams.tagline",defaultMessage:"Sync messages and channels from Microsoft Teams.",description:"Tagline explaining that this connector syncs chat and channel data from Microsoft Teams."},descriptionSummary:"messages, channels, and conversations from Microsoft Teams",bulletSummary:"Microsoft Teams conversations",permissionSummary:"Microsoft Teams permissions managed through Microsoft 365"}),rc={type:"dropbox",icon:Dl,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.dropbox.displayName",defaultMessage:"Dropbox",description:"Name of Dropbox, a product."},taglineMessage:{id:"connectors.dropbox.tagline",defaultMessage:"Sync files and folders stored in Dropbox.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Dropbox files and folders."},modal:{toastId:"dropbox_connection_setup_modal",testId:"modal-dropbox-basic-info",props:Wt.dropbox,copy:{title:{id:"connectors.dropbox.modal.title",defaultMessage:"Enable Dropbox sync for ChatGPT",description:"Title for the Dropbox linking modal"},description:{id:"connectors.dropbox.modal.description",defaultMessage:"Connecting Dropbox lets ChatGPT answer questions with the latest documents your team stores in shared folders. Once enabled, members of your organization can link their Dropbox accounts to ChatGPT.",description:"Description for the Dropbox linking modal for admins"},bulletPoints:[{id:"connectors.dropbox.modal.bullet.0",defaultMessage:"Continuous sync: Your Dropbox content is indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining ongoing sync for Dropbox"},{id:"connectors.dropbox.modal.bullet.1",defaultMessage:"Permission-aware: ChatGPT respects Dropbox sharing permissions, ensuring users can only view content they’re authorized to access.",description:"Bullet point explaining Dropbox permissions are enforced"},qt]}}},cc={type:"box",icon:Al,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.box.displayName",defaultMessage:"Box",description:"Name of Box, a product."},taglineMessage:{id:"connectors.box.tagline",defaultMessage:"Sync files and folders stored in Box.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Box files and folders."},modal:{toastId:"box_connection_setup_modal",testId:"modal-box-basic-info",props:Wt.box,copy:{title:{id:"connectors.box.modal.title",defaultMessage:"Enable Box sync for ChatGPT",description:"Title for the Box linking modal"},description:{id:"connectors.box.modal.description",defaultMessage:"Connecting Box helps ChatGPT provide answers grounded in the files and folders your company stores in Box. Once enabled, members of your organization can link their Box accounts to ChatGPT.",description:"Description for the Box linking modal for admins"},bulletPoints:[{id:"connectors.box.modal.bullet.0",defaultMessage:"Continuous sync: Your Box content is indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining ongoing sync for Box"},{id:"connectors.box.modal.bullet.1",defaultMessage:"Permission-aware: ChatGPT honors Box collaboration permissions, ensuring users can only view content they’re authorized to access.",description:"Bullet point explaining Box permissions are enforced"},qt]}}},dc={type:"linear",icon:Tl,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.linear.displayName",defaultMessage:"Linear",description:"Name of Linear, a product."},taglineMessage:{id:"connectors.linear.tagline",defaultMessage:"Sync issues, cycles, and projects from Linear.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Linear issues and projects."},modal:{toastId:"linear_connection_setup_modal",testId:"modal-linear-basic-info",props:Wt.linear,copy:{title:{id:"connectors.linear.modal.title",defaultMessage:"Enable Linear sync for ChatGPT",description:"Title for the Linear linking modal"},description:{id:"connectors.linear.modal.description",defaultMessage:"Connecting Linear lets ChatGPT surface updates from your team's issues, cycles, and projects. Once enabled, members of your organization can link their Linear accounts to ChatGPT.",description:"Description for the Linear linking modal for admins"},bulletPoints:[{id:"connectors.linear.modal.bullet.0",defaultMessage:"Continuous sync: Your Linear issues are indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining ongoing sync for Linear"},{id:"connectors.linear.modal.bullet.1",defaultMessage:"Permission-aware: ChatGPT respects Linear workspace permissions, ensuring users can only view content they’re authorized to access.",description:"Bullet point explaining Linear permissions are enforced"},qt]}}},fc={type:"intercom",icon:Nl,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.intercom.displayName",defaultMessage:"Intercom",description:"Name of Intercom, a product."},taglineMessage:{id:"connectors.intercom.tagline",defaultMessage:"Sync conversations and articles from Intercom.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Intercom conversations and help center articles."},modal:{toastId:"intercom_connection_setup_modal",testId:"modal-intercom-basic-info",props:Wt.intercom,copy:{title:{id:"connectors.intercom.modal.title",defaultMessage:"Enable Intercom sync for ChatGPT",description:"Title for the Intercom linking modal shown to admins."},description:{id:"connectors.intercom.modal.description",defaultMessage:"Connecting Intercom lets ChatGPT surface the latest conversations and help center content from your support team. Once enabled, members of your organization can link their Intercom accounts to ChatGPT.",description:"Description for the Intercom linking modal explaining the benefit of syncing Intercom with ChatGPT."},bulletPoints:[{id:"connectors.intercom.modal.bullet.0",defaultMessage:"Continuous sync: Your Intercom inboxes and articles are indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining that Intercom content will continue to sync into ChatGPT after enabling the connector."},{id:"connectors.intercom.modal.bullet.1",defaultMessage:"Permission-aware: ChatGPT respects Intercom workspace permissions so teammates only see conversations they are allowed to access.",description:"Bullet point explaining that ChatGPT enforces Intercom permissions when responding with synced content."},qt]}}},uc={type:"confluence",icon:Sl,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.confluence.displayName",defaultMessage:"Confluence",description:"Name of Confluence, a product."},taglineMessage:{id:"connectors.confluence.tagline",defaultMessage:"Sync pages and articles from Confluence.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Confluence pages and articles."},modal:{toastId:"confluence_connection_setup_modal",testId:"modal-confluence-basic-info",props:Wt.confluence,copy:{title:{id:"connectors.confluence.modal.title",defaultMessage:"Enable Confluence sync for ChatGPT",description:"Title for the confluence linking modal"},description:{id:"connectors.confluence.modal.description",defaultMessage:"Connecting Confluence lets ChatGPT surface updates from your team's pages and articles. Once enabled, members of your organization can link their Confluence accounts to ChatGPT.",description:"Description for the Confluence linking modal for admins"},bulletPoints:[{id:"connectors.confluence.modal.bullet.0",defaultMessage:"Continuous sync: Your Confluence issues are indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining ongoing sync for Confluence"},{id:"connectors.confluence.modal.bullet.1",defaultMessage:"Permission-aware: ChatGPT respects Confluence page permissions, ensuring users can only view content they’re authorized to access.",description:"Bullet point explaining Confluence permissions are enforced"},qt]}}},mc={type:"notion",icon:Ml,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.notion.displayName",defaultMessage:"Notion",description:"Name of Notion, a product."},taglineMessage:{id:"connectors.notion.tagline",defaultMessage:"Sync pages and databases from Notion.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Notion pages and databases."},modal:{toastId:"notion_connection_setup_modal",testId:"modal-notion-basic-info",props:Wt.notion,copy:{title:{id:"connectors.notion.modal.title",defaultMessage:"Enable Notion sync for ChatGPT",description:"Title for the Notion linking modal"},description:{id:"connectors.notion.modal.description",defaultMessage:"Connecting Notion lets ChatGPT surface updates from your team's pages and databases. Once enabled, members of your organization can link their Notion accounts to ChatGPT.",description:"Description for the Notion linking modal for admins"},bulletPoints:[{id:"connectors.notion.modal.bullet.0",defaultMessage:"Continuous sync: Your Notion content is indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining ongoing sync for Notion"},{id:"connectors.notion.modal.bullet.1",defaultMessage:"Permission-aware: ChatGPT respects Notion page permissions, ensuring users can only view content they’re authorized to access.",description:"Bullet point explaining Notion permissions are enforced"},qt]}}},pc={type:"hubspot",icon:wl,hideForTeamPlan:!0,displayNameMessage:{id:"connectors.hubspot.displayName",defaultMessage:"HubSpot",description:"Name of HubSpot, a product."},taglineMessage:{id:"connectors.hubspot.tagline",defaultMessage:"Sync contacts, companies, and deals from HubSpot.",description:"Tagline explaining that this feature allows ChatGPT to sync data from HubSpot CRM records."},modal:{toastId:"hubspot_connection_setup_modal",testId:"modal-hubspot-basic-info",props:Wt.hubspot,copy:{title:{id:"connectors.hubspot.modal.title",defaultMessage:"Enable HubSpot sync for ChatGPT",description:"Title for the HubSpot linking modal"},description:{id:"connectors.hubspot.modal.description",defaultMessage:"Connecting HubSpot lets ChatGPT surface CRM updates from your team's contacts, companies, and deals. Once enabled, members of your organization can link their HubSpot accounts to ChatGPT.",description:"Description for the HubSpot linking modal for admins"},bulletPoints:[{id:"connectors.hubspot.modal.bullet.0",defaultMessage:"Continuous sync: Your HubSpot CRM data is indexed, stored, and kept up to date in ChatGPT.",description:"Bullet point explaining ongoing sync for HubSpot"},{id:"connectors.hubspot.modal.bullet.1",defaultMessage:"Permission-aware: ChatGPT respects HubSpot record permissions, ensuring users can only view content they’re authorized to access.",description:"Bullet point explaining HubSpot permissions are enforced"},qt]}}},gc=Qe({type:"aha",icon:Xl,productDisplayName:"Aha!",displayNameMessage:{id:"connectors.aha.displayName",defaultMessage:"Aha!",description:"Name of Aha!, a product roadmap platform."},taglineMessage:{id:"connectors.aha.tagline",defaultMessage:"Sync product roadmaps and feature ideas from Aha!",description:"Tagline describing that this connector syncs product planning content from Aha! to ChatGPT."},descriptionSummary:"product roadmaps, feature ideas, and launch plans your team tracks in Aha!",bulletSummary:"Aha! roadmap data",permissionSummary:"Aha! workspace permissions"}),hc=Qe({type:"asana",icon:Jl,productDisplayName:"Asana",displayNameMessage:{id:"connectors.asana.displayName",defaultMessage:"Asana",description:"Name of Asana, a work management platform."},taglineMessage:{id:"connectors.asana.tagline",defaultMessage:"Sync tasks, projects, and status updates from Asana.",description:"Tagline explaining that this connector syncs task and project updates from Asana to ChatGPT."},descriptionSummary:"tasks, projects, and status updates managed in Asana",bulletSummary:"Asana tasks and project updates",permissionSummary:"Asana workspace permissions"}),xc=Qe({type:"azure_devops",icon:Zl,productDisplayName:"Azure Boards",displayNameMessage:{id:"connectors.azure_devops.displayName",defaultMessage:"Azure Boards",description:"Name of Azure DevOps, a Microsoft developer platform."},taglineMessage:{id:"connectors.azure_devops.tagline",defaultMessage:"Sync work items, backlogs, and repos from Azure DevOps.",description:"Tagline explaining that this connector syncs engineering work tracked in Azure DevOps to ChatGPT."},descriptionSummary:"work items, backlogs, and repository discussions stored in Azure DevOps",bulletSummary:"Azure DevOps work item data",permissionSummary:"Azure DevOps project permissions",accountNoun:"Azure DevOps organizations"}),yc=Qe({type:"basecamp",icon:Vl,productDisplayName:"Basecamp",displayNameMessage:{id:"connectors.basecamp.displayName",defaultMessage:"Basecamp",description:"Name of Basecamp, a project management platform."},taglineMessage:{id:"connectors.basecamp.tagline",defaultMessage:"Sync projects, message boards, and docs from Basecamp.",description:"Tagline explaining that this connector syncs collaboration content from Basecamp to ChatGPT."},descriptionSummary:"projects, message board threads, and docs your teams manage in Basecamp",bulletSummary:"Basecamp project information",permissionSummary:"Basecamp account permissions"}),bc=Qe({type:"clickup",icon:Yl,productDisplayName:"ClickUp",displayNameMessage:{id:"connectors.clickup.displayName",defaultMessage:"ClickUp",description:"Name of ClickUp, a productivity platform."},taglineMessage:{id:"connectors.clickup.tagline",defaultMessage:"Sync tasks, docs, and dashboards from ClickUp.",description:"Tagline explaining that this connector syncs ClickUp tasks and docs to ChatGPT."},descriptionSummary:"tasks, docs, and dashboard updates maintained in ClickUp",bulletSummary:"ClickUp tasks and docs",permissionSummary:"ClickUp workspace permissions"}),jc=Qe({type:"freshdesk",icon:Ql,productDisplayName:"Freshdesk",displayNameMessage:{id:"connectors.freshdesk.displayName",defaultMessage:"Freshdesk",description:"Name of Freshdesk, a customer support platform."},taglineMessage:{id:"connectors.freshdesk.tagline",defaultMessage:"Sync support tickets and articles from Freshdesk.",description:"Tagline explaining that this connector syncs Freshdesk support tickets and knowledge articles to ChatGPT."},descriptionSummary:"support tickets, knowledge base articles, and customer conversations housed in Freshdesk",bulletSummary:"Freshdesk ticket data",permissionSummary:"Freshdesk role-based permissions"}),Cc=Qe({type:"freshservice",icon:Hl,productDisplayName:"Freshservice",displayNameMessage:{id:"connectors.freshservice.displayName",defaultMessage:"Freshservice",description:"Name of Freshservice, an IT service management platform."},taglineMessage:{id:"connectors.freshservice.tagline",defaultMessage:"Sync service requests, assets, and runbooks from Freshservice.",description:"Tagline explaining that this connector syncs service management data from Freshservice to ChatGPT."},descriptionSummary:"service requests, configuration items, and runbooks stored in Freshservice",bulletSummary:"Freshservice service management data",permissionSummary:"Freshservice role-based permissions"}),_c=Qe({type:"front",icon:Kl,productDisplayName:"Front",displayNameMessage:{id:"connectors.front.displayName",defaultMessage:"Front",description:"Name of Front, a shared inbox platform."},taglineMessage:{id:"connectors.front.tagline",defaultMessage:"Sync shared inbox conversations and workflows from Front.",description:"Tagline explaining that this connector syncs collaborative inbox conversations from Front to ChatGPT."},descriptionSummary:"shared inbox conversations, comments, and workflows your teams manage in Front",bulletSummary:"Front inbox conversations",permissionSummary:"Front workspace permissions"}),vc=Qe({type:"gitlab",icon:ql,productDisplayName:"GitLab Issues",displayNameMessage:{id:"connectors.gitlab.displayName",defaultMessage:"GitLab Issues",description:"Name of GitLab, a DevSecOps platform."},taglineMessage:{id:"connectors.gitlab.tagline",defaultMessage:"Sync repositories, merge requests, and issues from GitLab.",description:"Tagline explaining that this connector syncs GitLab repositories and issues to ChatGPT."},descriptionSummary:"repositories, merge requests, and issues your organization tracks in GitLab",bulletSummary:"GitLab repository and issue data",permissionSummary:"GitLab group permissions",accountNoun:"GitLab groups"}),kc=Qe({type:"gorgias",icon:Wl,productDisplayName:"Gorgias",displayNameMessage:{id:"connectors.gorgias.displayName",defaultMessage:"Gorgias",description:"Name of Gorgias, a customer support platform."},taglineMessage:{id:"connectors.gorgias.tagline",defaultMessage:"Sync support tickets and conversations from Gorgias.",description:"Tagline explaining that this connector syncs Gorgias customer support conversations to ChatGPT."},descriptionSummary:"support tickets, conversation history, and macros managed in Gorgias",bulletSummary:"Gorgias support ticket data",permissionSummary:"Gorgias workspace permissions"}),wc=Qe({type:"help_scout",icon:Ul,productDisplayName:"Help Scout",displayNameMessage:{id:"connectors.help_scout.displayName",defaultMessage:"Help Scout",description:"Name of Help Scout, a customer service platform."},taglineMessage:{id:"connectors.help_scout.tagline",defaultMessage:"Sync mailboxes, conversations, and Docs from Help Scout.",description:"Tagline explaining that this connector syncs Help Scout conversations and Docs articles to ChatGPT."},descriptionSummary:"mailboxes, conversations, and Docs articles stored in Help Scout",bulletSummary:"Help Scout conversation data",permissionSummary:"Help Scout mailbox permissions"}),Mc=Qe({type:"ironclad",icon:Gl,productDisplayName:"Ironclad",displayNameMessage:{id:"connectors.ironclad.displayName",defaultMessage:"Ironclad",description:"Name of Ironclad, a digital contracting platform."},taglineMessage:{id:"connectors.ironclad.tagline",defaultMessage:"Sync contracts, workflows, and playbooks from Ironclad.",description:"Tagline explaining that this connector syncs contract workflows from Ironclad to ChatGPT."},descriptionSummary:"contracts, workflows, and playbooks your legal team manages in Ironclad",bulletSummary:"Ironclad contract data",permissionSummary:"Ironclad workspace permissions"}),Sc=Qe({type:"jira",icon:zl,productDisplayName:"Jira",displayNameMessage:{id:"connectors.jira.displayName",defaultMessage:"Jira",description:"Name of Jira, Atlassian’s issue and project tracking tool."},taglineMessage:{id:"connectors.jira.tagline",defaultMessage:"Sync issues and projects from Jira.",description:"Tagline explaining that this connector syncs issue and project data from Jira to ChatGPT."},descriptionSummary:"issues and projects tracked in Jira across your engineering teams",bulletSummary:"Jira issue and project data",permissionSummary:"Jira workspace and project permissions"}),Nc=Qe({type:"jira_servicemanagement",icon:$l,productDisplayName:"Jira Service Management",displayNameMessage:{id:"connectors.jiraServiceManagement.displayName",defaultMessage:"Jira Service Management",description:"Name of Jira Service Management, Atlassian’s support request platform."},taglineMessage:{id:"connectors.jiraServiceManagement.tagline",defaultMessage:"Sync support requests, queues, and SLAs from Jira Service Management.",description:"Tagline explaining that this connector syncs support request data from JSM to ChatGPT."},descriptionSummary:"support tickets, queues, SLAs, and service workflows managed in Jira Service Management",bulletSummary:"Jira Service Management ITSM data",permissionSummary:"Jira Service Management workspace and project permissions"}),Tc=Qe({type:"pipedrive",icon:Bl,productDisplayName:"Pipedrive",displayNameMessage:{id:"connectors.pipedrive.displayName",defaultMessage:"Pipedrive",description:"Name of Pipedrive, a sales CRM platform."},taglineMessage:{id:"connectors.pipedrive.tagline",defaultMessage:"Sync deals, pipelines, and activities from Pipedrive.",description:"Tagline explaining that this connector syncs sales CRM data from Pipedrive to ChatGPT."},descriptionSummary:"deals, pipeline stages, and activities tracked in Pipedrive",bulletSummary:"Pipedrive deal data",permissionSummary:"Pipedrive role-based permissions"}),Ac=Qe({type:"salesforce_service_cloud",icon:Fl,productDisplayName:"Salesforce Service Cloud",displayNameMessage:{id:"connectors.salesforce_service_cloud.displayName",defaultMessage:"Salesforce Service Cloud",description:"Name of Salesforce Service Cloud, a customer service platform."},taglineMessage:{id:"connectors.salesforce_service_cloud.tagline",defaultMessage:"Sync cases, knowledge articles, and workflows from Salesforce Service Cloud.",description:"Tagline explaining that this connector syncs Service Cloud cases and knowledge content to ChatGPT."},descriptionSummary:"support cases, knowledge articles, and workflows maintained in Salesforce Service Cloud",bulletSummary:"Service Cloud case data",permissionSummary:"Salesforce Service Cloud permissions"}),Dc=Qe({type:"shortcut",icon:Ll,productDisplayName:"Shortcut",displayNameMessage:{id:"connectors.shortcut.displayName",defaultMessage:"Shortcut",description:"Name of Shortcut, an agile project management tool."},taglineMessage:{id:"connectors.shortcut.tagline",defaultMessage:"Sync stories, epics, and docs from Shortcut.",description:"Tagline explaining that this connector syncs Shortcut project planning content to ChatGPT."},descriptionSummary:"stories, epics, and docs your teams track in Shortcut",bulletSummary:"Shortcut project data",permissionSummary:"Shortcut workspace permissions"}),Pc=Qe({type:"teamwork",icon:Ol,productDisplayName:"Teamwork.com",displayNameMessage:{id:"connectors.teamwork.displayName",defaultMessage:"Teamwork.com",description:"Name of Teamwork, a project management platform."},taglineMessage:{id:"connectors.teamwork.tagline",defaultMessage:"Sync projects, tasks, and docs from Teamwork.",description:"Tagline explaining that this connector syncs Teamwork project collaboration content to ChatGPT."},descriptionSummary:"projects, tasks, and docs your teams collaborate on in Teamwork",bulletSummary:"Teamwork project data",permissionSummary:"Teamwork site permissions"}),Ec=Qe({type:"zendesk",icon:Rl,productDisplayName:"Zendesk",displayNameMessage:{id:"connectors.zendesk.displayName",defaultMessage:"Zendesk",description:"Name of Zendesk, a customer support platform."},taglineMessage:{id:"connectors.zendesk.tagline",defaultMessage:"Sync tickets, macros, and help center articles from Zendesk.",description:"Tagline explaining that this connector syncs Zendesk support tickets and knowledge content to ChatGPT."},descriptionSummary:"support tickets, macros, and help center articles published in Zendesk",bulletSummary:"Zendesk support ticket data",permissionSummary:"Zendesk role-based permissions"}),Ic=Qe({type:"zoho",icon:Il,productDisplayName:"Zoho CRM",displayNameMessage:{id:"connectors.zoho.displayName",defaultMessage:"Zoho CRM",description:"Name of Zoho CRM, a customer relationship management platform."},taglineMessage:{id:"connectors.zoho.tagline",defaultMessage:"Sync leads, deals, and accounts from Zoho CRM.",description:"Tagline explaining that this connector syncs CRM records from Zoho CRM to ChatGPT."},descriptionSummary:"leads, deals, and account records stored in Zoho CRM",bulletSummary:"Zoho CRM record data",permissionSummary:"Zoho CRM role-based permissions"}),Rc=Qe({type:"zoho_desk",icon:El,productDisplayName:"Zoho Desk",displayNameMessage:{id:"connectors.zoho_desk.displayName",defaultMessage:"Zoho Desk",description:"Name of Zoho Desk, a customer support platform."},taglineMessage:{id:"connectors.zoho_desk.tagline",defaultMessage:"Sync tickets, articles, and SLAs from Zoho Desk.",description:"Tagline explaining that this connector syncs Zoho Desk support tickets and knowledge content to ChatGPT."},descriptionSummary:"support tickets, help center articles, and SLAs maintained in Zoho Desk",bulletSummary:"Zoho Desk support ticket data",permissionSummary:"Zoho Desk role-based permissions"}),Ja={github:ac,sharepoint:ic,teams:lc,dropbox:rc,box:cc,linear:dc,intercom:fc,confluence:uc,notion:mc,hubspot:pc,aha:gc,asana:hc,azure_devops:xc,basecamp:yc,clickup:bc,freshdesk:jc,freshservice:Cc,front:_c,gitlab:vc,gorgias:kc,help_scout:wc,ironclad:Mc,jira:Sc,jira_servicemanagement:Nc,pipedrive:Tc,salesforce_service_cloud:Ac,shortcut:Dc,teamwork:Pc,zendesk:Ec,zoho:Ic,zoho_desk:Rc},po=["github","sharepoint","teams","dropbox","box","linear","confluence","notion","hubspot","intercom","aha","asana","azure_devops","basecamp","clickup","freshdesk","freshservice","front","gitlab","gorgias","help_scout","ironclad","jira","jira_servicemanagement","pipedrive","salesforce_service_cloud","shortcut","teamwork","zendesk","zoho","zoho_desk"],Oc=po.map(s=>Ja[s]),Bo="--fake-local-id";function Lc(s){function e({accountId:o,onClose:a,onSuccess:i}){const l=te(),c=Et(),[r,d]=P.useState(!1),f=P.useCallback(async()=>{d(!0);const u=s.type==="github"?{connection_config_id:Bo,knowledge_connector_type:s.type,organization_name:null}:{connection_config_id:Bo,knowledge_connector_type:s.type};try{await Le.admin_create_connection_instance(o,u),await(i==null?void 0:i()),a()}catch(p){c.danger(l.formatMessage({id:"aqpeYE",defaultMessage:"Something went wrong. Please try again."}),{toastId:s.modal.toastId,loggingTitle:"Failed to create connection",loggingDescription:"Failed to create connection"})}finally{d(!1)}},[o,l,a,i,c]);return t.jsxs(Ie,xe(I({},s.modal.props),{onClose:a,testId:s.modal.testId,children:[t.jsxs("div",{className:"px-6 pt-4 pb-10",children:[t.jsx("div",{className:"text-xl font-medium",children:t.jsx(k,I({},s.modal.copy.title))}),t.jsx("div",{className:"text-md text-token-text-secondary mt-3",children:t.jsx(k,I({},s.modal.copy.description))}),t.jsx("div",{className:"mt-6 text-lg font-medium",children:t.jsx(k,{id:"edoz9r",defaultMessage:"What to expect"})}),t.jsx("ul",{className:"text-md text-token-text-secondary ms-6 mt-4",children:s.modal.copy.bulletPoints.map((u,p,m)=>t.jsx("li",{className:p<m.length-1?"mb-2 list-disc":"list-disc",children:t.jsx(k,I({},u))},p))})]}),t.jsx(eo,{primaryButton:t.jsx(Z,{color:"primary",onClick:f,loading:r,children:t.jsx(k,{id:"y+cVaH",defaultMessage:"Enable"})})})]}))}function n({onClose:o,onSuccess:a}){const i=le(),l=Te(i);return l?t.jsx(e,{accountId:l.id,onClose:o,onSuccess:a}):null}return{Controller:n,Modal:e}}const Fc=po.map(s=>{const e=Lc(Ja[s]);return[s,e]}),Bc=new Map(Fc);function Xs(s){const e=Bc.get(s);if(!e)throw new Error("Unknown simple connector flow for type: ".concat(s));return e}function $c(s){return Xs(s).Controller}po.map($c);const Xa=Xs("sharepoint"),zc=Xa.Controller;Xa.Modal;function Gc(s){"use forget";const e=F.c(35),{connector:n,onClose:o,onDeployToTeam:a,onSelfService:i,isDeploying:l}=s,[c,r]=P.useState("deploy-to-team");let d;e[0]!==a||e[1]!==i||e[2]!==c?(d=async()=>{if(c==="deploy-to-team"){await a();return}c==="self-service"&&await(i==null?void 0:i())},e[0]=a,e[1]=i,e[2]=c,e[3]=d):d=e[3];const f=d;let u;e[4]!==n?(u=t.jsx(zt,{connector:n,className:"rounded-xl border-[0.5px] p-2 shadow-sm",size:"medium"}),e[4]=n,e[5]=u):u=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(k,{id:"I2bLgK",defaultMessage:"Enable Sync"}),e[6]=p):p=e[6];let m;e[7]!==o||e[8]!==u?(m=t.jsx(hn,{onClose:o,connectorIcon:u,title:p}),e[7]=o,e[8]=u,e[9]=m):m=e[9];let h;e[10]===Symbol.for("react.memo_cache_sentinel")?(h=E=>r(E),e[10]=h):h=e[10];let x,y,g;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx("span",{className:"rounded-md bg-[#E6F0FF] px-2 py-[2px] text-xs font-medium text-[#1A59F8]",children:t.jsx(k,{id:"DUoTTX",defaultMessage:"~2 mins"})}),y=t.jsx(k,{id:"G1jItk",defaultMessage:"Deploy to your team"}),g=t.jsx(k,{id:"H8LFv6",defaultMessage:"Enable your whole team to use SharePoint right away without additional setup."}),e[11]=x,e[12]=y,e[13]=g):(x=e[11],y=e[12],g=e[13]);let b;e[14]!==l?(b=t.jsx($o,{value:"deploy-to-team",disabled:l,badge:x,title:y,description:g,showDivider:!1}),e[14]=l,e[15]=b):b=e[15];let C,j;e[16]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(k,{id:"wJjAyl",defaultMessage:"Self-service set up"}),j=t.jsx(k,{id:"S98LA7",defaultMessage:"Enable each team member to authenticate individually."}),e[16]=C,e[17]=j):(C=e[16],j=e[17]);let _;e[18]!==l?(_=t.jsx($o,{value:"self-service",disabled:l,title:C,description:j,showDivider:!0}),e[18]=l,e[19]=_):_=e[19];let v;e[20]!==c||e[21]!==_||e[22]!==b?(v=t.jsx("div",{className:"mt-6",children:t.jsx("div",{className:"border-token-border-default bg-token-bg-primary overflow-hidden rounded-2xl border",children:t.jsxs(da,{value:c,onValueChange:h,className:"flex flex-col",children:[b,_]})})}),e[20]=c,e[21]=_,e[22]=b,e[23]=v):v=e[23];let M;e[24]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(k,{id:"XGnWba",defaultMessage:"Continue"}),e[24]=M):M=e[24];let w;e[25]!==f||e[26]!==l?(w=t.jsx("div",{className:"pt-6",children:t.jsx(Z,{className:"w-full",size:"large",onClick:f,disabled:l,loading:l,children:M})}),e[25]=f,e[26]=l,e[27]=w):w=e[27];let S;e[28]!==v||e[29]!==w||e[30]!==m?(S=t.jsxs("div",{className:"px-6 pt-4 pb-6",children:[m,v,w]}),e[28]=v,e[29]=w,e[30]=m,e[31]=S):S=e[31];let N;return e[32]!==o||e[33]!==S?(N=t.jsx(Ie,xe(I({},wn),{className:"max-w-[420px]",title:void 0,onClose:o,testId:"modal-sharepoint-enable-sync",children:S})),e[32]=o,e[33]=S,e[34]=N):N=e[34],N}function $o({value:s,title:e,description:n,badge:o,disabled:a,showDivider:i}){return t.jsxs("label",{className:se("flex items-start justify-between gap-3 p-4",i&&"border-token-border-default border-t",a?"cursor-not-allowed opacity-60":"cursor-pointer"),children:[t.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-base font-medium",children:[e,o]}),t.jsx("div",{className:"text-token-text-secondary text-sm",children:n})]}),t.jsx(fa,{value:s,disabled:a,className:"border-token-border-default mt-1 inline-flex h-5 w-5 shrink-0 items-center justify-center rounded-full border p-0 leading-none data-[state=checked]:border-black data-[state=checked]:bg-black dark:data-[state=checked]:border-white dark:data-[state=checked]:bg-white",children:t.jsx(ua,{className:"flex h-full w-full items-center justify-center",children:t.jsx("span",{className:"h-2 w-2 rounded-full bg-white dark:bg-black"})})})]})}const Uc=Qs(()=>Ks(()=>import("./jn2gwhu7zz26y5ej.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(s=>s.RedirectContent)),Wc=Qs(()=>Ks(()=>Promise.resolve().then(()=>Co),void 0).then(s=>s.LimitItemsFilePickerModal));function Sn(s,e=!1,n){"use no forget";const o=te(),a=Et(),{platformConnectors:i,isLoading:l}=va(!0,We.ADMIN_SETTING,"workspace_settings",!0),c=le(),r=Te(c),d=r==null?void 0:r.id,[f,u]=P.useState(!1),[p,m]=P.useState(!1),[h,x]=P.useState(!1),[y,g]=P.useState(!1),[b,C]=P.useState(),j=P.useMemo(()=>{if(!(i!=null&&i.size))return;const R=to[so.SHAREPOINT_ADMIN_CONNECTOR];return i.get(R)},[i]),_=P.useCallback(()=>{a.danger(o.formatMessage({id:"kAaIRU",defaultMessage:"Unable to load the SharePoint OAuth connector."}))},[o,a]),v=P.useCallback(()=>{a.danger(o.formatMessage({id:"hBGDy6",defaultMessage:"Something went wrong while loading your workspace. Please refresh and try again."}))},[o,a]),M=P.useCallback(async(R,O)=>{try{const L=await Le.admin_create_connection_instance(R,{connection_config_id:"--fake-local-id",knowledge_connector_type:"sharepoint_admin",link_id:O});C(L.connection_config.connection_config_id)}catch(L){g(!1),a.danger(o.formatMessage({id:"qoasLN",defaultMessage:"We couldn't enable SharePoint sync. Please try again in a moment."}))}},[o,a]),w=P.useCallback(()=>{if(!j){_();return}u(!1),m(!0)},[j,_]),S=P.useCallback(()=>{if(!j){_();return}u(!1),x(!0)},[j,_]),N=P.useCallback(()=>{u(!1),m(!1),x(!1),C(void 0),g(!1),s==null||s(),n==null||n()},[s,n]),E=P.useCallback(R=>{if(!j){_(),N();return}if(!d){v(),N();return}if(!R){a.danger(o.formatMessage({id:"n5mSXA",defaultMessage:"We couldn't complete SharePoint setup. Please try again."})),N();return}g(!0),M(d,R)},[d,M,N,j,o,v,_,a]),A=P.useCallback(()=>{y||(m(!1),u(!0))},[y]),D=P.useCallback(()=>{if(!j){_();return}if(!d){v();return}e?(u(!1),m(!0),x(!1)):(u(!0),m(!1),x(!1))},[d,j,e,v,_]),T=P.useMemo(()=>!j||!d?null:t.jsxs(t.Fragment,{children:[f?t.jsx(Gc,{connector:j,onClose:N,onDeployToTeam:w,onSelfService:S,isDeploying:y}):null,b?t.jsx(Wc,{connectionId:b,isOpen:!0,onClose:async R=>{if(R)try{await Le.admin_activate_connection_instance(d,b),a.success(o.formatMessage({id:"y5DD0Z",defaultMessage:"Connection successfully activated."}))}catch(O){a.danger(o.formatMessage({id:"aqpeYE",defaultMessage:"Something went wrong. Please try again."}),{toastId:"review_and_activate_modal",loggingTitle:"Failed to activate connection",loggingDescription:"Failed to activate connection"})}N()}}):p?t.jsx(Ie,{testId:"modal-sharepoint-admin-oauth",type:"success",isOpen:!0,onClose:()=>{y||(e?N():A())},size:"custom",className:"max-w-[400px]",shouldIgnoreClickOutside:y,children:t.jsx(qc,{connector:j,onBack:()=>{e?N():A()},onSuccess:E,isCreatingConnection:y})}):null,h?t.jsx(zc,{onSuccess:s,onClose:()=>{x(!1),N()}}):null]}),[j,d,f,N,w,S,y,b,p,A,E,h,s,a,o,e]);return{open:D,isLoading:l||y,canStart:!!(j&&d&&!y),modals:T,sharepointConnector:j}}function qc({connector:s,onBack:e,onSuccess:n,isCreatingConnection:o}){"use no forget";const a=te(),i=Et(),l=ma(),{refetch:c}=xn({productSku:We.CONNECTOR_SETTING}),[r,d]=P.useState(!1),f=Ha(),u=P.useCallback(async()=>{var m;d(!0);try{Ka("popup");const h=l(s),x=await ka({connector:s,redirectAfter:h!=null?h:void 0,toaster:i,openPopup:!0,intl:a,productSku:We.CONNECTOR_SETTING});if(x&&x.success===!1)throw new Error((m=x.errorType)!=null?m:"sharepoint_admin_oauth_failed");if(!(x!=null&&x.linkId))throw new Error("sharepoint_admin_link_not_found");await c(),n(x.linkId)}catch(h){i.danger(a.formatMessage({id:"Gr0hUA",defaultMessage:"Encountered an error connecting your account. Please try again later."}))}finally{d(!1)}},[s,a,l,n,c,i]),p=P.useCallback(()=>{o||e()},[o,e]);return o?t.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 text-center",children:[t.jsx(Ca,{className:"icon-lg"}),t.jsx(He,{})]}):t.jsx(Uc,{connector:s,onClose:p,isConnecting:r,onContinue:u,showExternalIcon:!0,productSku:We.CONNECTOR_SETTING,additionalMessageThatDoesNotContainLegalClaims:f&&t.jsxs(t.Fragment,{children:[t.jsx("p",{children:t.jsx(k,{id:"NUEe9u",defaultMessage:"You must be a SharePoint admin and log in with {email} to connect SharePoint",values:{email:t.jsx("b",{children:f})}})}),t.jsx("p",{children:t.jsx(Ns,{href:"https://help.openai.com/en/articles/12143177-sharepoint-connectors-on-chatgpt",className:"underline",children:t.jsx(k,{id:"FGq3R0",defaultMessage:"Use a different email address?"})})})]})})}function Kc(s){"use forget";const e=F.c(11),{refetchConnectionInstances:n,eligibleToCreateNewSharepointAdminConnection:o}=s,a=le(),i=It(a),l=Sn(n,!0),[c,r]=P.useState(!1);if(i||l.isLoading&&!l.modals)return null;let d;e[0]!==o||e[1]!==l.canStart||e[2]!==l.sharepointConnector?(d=o&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full px-4",children:t.jsx("div",{className:"border-token-border-medium w-full border-t"})}),t.jsx("div",{className:"flex w-full flex-col gap-2 p-4",children:t.jsxs(Z,{color:"secondary",disabled:!l.canStart||!l.sharepointConnector,onClick:()=>r(!0),children:[t.jsx(Mn,{className:"icon me-2 text-[#007AFF]"}),t.jsx(k,{id:"+MUAER",defaultMessage:"Deploy to team"})]})})]}),e[0]=o,e[1]=l.canStart,e[2]=l.sharepointConnector,e[3]=d):d=e[3];let f;e[4]!==l||e[5]!==c?(f=c&&l.sharepointConnector&&t.jsx(ei,{connector:l.sharepointConnector,onClose:()=>r(!1),onContinue:()=>{r(!1),l.open()}}),e[4]=l,e[5]=c,e[6]=f):f=e[6];let u;return e[7]!==l.modals||e[8]!==d||e[9]!==f?(u=t.jsxs(t.Fragment,{children:[d,f,l.modals]}),e[7]=l.modals,e[8]=d,e[9]=f,e[10]=u):u=e[10],u}function ei(s){"use forget";const e=F.c(17),{connector:n,onClose:o,onContinue:a}=s;let i;e[0]!==n?(i=t.jsx(zt,{connector:n,className:"rounded-xl border-[0.5px] p-2 shadow-sm",size:"medium"}),e[0]=n,e[1]=i):i=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx(k,{id:"WK+BNs",defaultMessage:"Deploy to team"}),e[2]=l):l=e[2];let c;e[3]!==o||e[4]!==i?(c=t.jsx(hn,{onClose:o,connectorIcon:i,title:l}),e[3]=o,e[4]=i,e[5]=c):c=e[5];let r;e[6]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("p",{className:"text-token-text-secondary mt-6 text-center text-sm",children:t.jsx(k,{id:"H8LFv6",defaultMessage:"Enable your whole team to use SharePoint right away without additional setup."})}),e[6]=r):r=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("p",{className:"bg-token-interactive-bg-accent-muted-context mt-6 rounded-xl p-4 text-center text-sm text-[#0285FF]",children:t.jsx(k,{id:"oyE66v",defaultMessage:"This will replace any individually synced SharePoint connections"})}),e[7]=d):d=e[7];let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(k,{id:"fHtzNL",defaultMessage:"Continue"}),e[8]=f):f=e[8];let u;e[9]!==a?(u=t.jsx("div",{className:"pt-6",children:t.jsx(Z,{className:"w-full",size:"large",onClick:a,children:f})}),e[9]=a,e[10]=u):u=e[10];let p;e[11]!==c||e[12]!==u?(p=t.jsxs("div",{className:"px-6 pt-4 pb-6",children:[c,r,d,u]}),e[11]=c,e[12]=u,e[13]=p):p=e[13];let m;return e[14]!==o||e[15]!==p?(m=t.jsx(Ie,xe(I({},wn),{className:"max-w-[420px]",title:void 0,onClose:o,testId:"modal-sharepoint-enable-sync",children:p})),e[14]=o,e[15]=p,e[16]=m):m=e[16],m}function Hc(s){"use forget";const e=F.c(35),{connector:n,onClose:o,onDeployToTeam:a,onSelfService:i,isDeploying:l}=s,[c,r]=P.useState("deploy-to-team");let d;e[0]!==a||e[1]!==i||e[2]!==c?(d=async()=>{if(c==="deploy-to-team"){await a();return}c==="self-service"&&await(i==null?void 0:i())},e[0]=a,e[1]=i,e[2]=c,e[3]=d):d=e[3];const f=d;let u;e[4]!==n?(u=t.jsx(zt,{connector:n,className:"rounded-xl border-[0.5px] p-2 shadow-sm",size:"medium"}),e[4]=n,e[5]=u):u=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(k,{id:"9w0j14",defaultMessage:"Enable Sync"}),e[6]=p):p=e[6];let m;e[7]!==o||e[8]!==u?(m=t.jsx(hn,{onClose:o,connectorIcon:u,title:p}),e[7]=o,e[8]=u,e[9]=m):m=e[9];let h;e[10]===Symbol.for("react.memo_cache_sentinel")?(h=E=>r(E),e[10]=h):h=e[10];let x,y,g;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx("span",{className:"bg-token-interactive-bg-accent-muted-context text-token-text-accent rounded-md px-2 py-[2px] text-xs font-medium",children:t.jsx(k,{id:"DUoTTX",defaultMessage:"~2 mins"})}),y=t.jsx(k,{id:"GjdIe7",defaultMessage:"Deploy to your team"}),g=t.jsx(k,{id:"vWF3VU",defaultMessage:"Enable your whole team to use Microsoft Teams data right away without additional setup."}),e[11]=x,e[12]=y,e[13]=g):(x=e[11],y=e[12],g=e[13]);let b;e[14]!==l?(b=t.jsx(zo,{value:"deploy-to-team",disabled:l,badge:x,title:y,description:g,showDivider:!1}),e[14]=l,e[15]=b):b=e[15];let C,j;e[16]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(k,{id:"EnyOtI",defaultMessage:"Self-service set up"}),j=t.jsx(k,{id:"eI12om",defaultMessage:"Enable each team member to authenticate individually."}),e[16]=C,e[17]=j):(C=e[16],j=e[17]);let _;e[18]!==l?(_=t.jsx(zo,{value:"self-service",disabled:l,title:C,description:j,showDivider:!0}),e[18]=l,e[19]=_):_=e[19];let v;e[20]!==c||e[21]!==_||e[22]!==b?(v=t.jsx("div",{className:"mt-6",children:t.jsx("div",{className:"border-token-border-default bg-token-bg-primary overflow-hidden rounded-2xl border",children:t.jsxs(da,{value:c,onValueChange:h,className:"flex flex-col",children:[b,_]})})}),e[20]=c,e[21]=_,e[22]=b,e[23]=v):v=e[23];let M;e[24]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(k,{id:"XGnWba",defaultMessage:"Continue"}),e[24]=M):M=e[24];let w;e[25]!==f||e[26]!==l?(w=t.jsx("div",{className:"pt-6",children:t.jsx(Z,{className:"w-full",size:"large",onClick:f,disabled:l,loading:l,children:M})}),e[25]=f,e[26]=l,e[27]=w):w=e[27];let S;e[28]!==v||e[29]!==w||e[30]!==m?(S=t.jsxs("div",{className:"px-6 pt-4 pb-6",children:[m,v,w]}),e[28]=v,e[29]=w,e[30]=m,e[31]=S):S=e[31];let N;return e[32]!==o||e[33]!==S?(N=t.jsx(Ie,xe(I({},wn),{className:"max-w-[420px]",title:void 0,onClose:o,testId:"modal-teams-enable-sync",children:S})),e[32]=o,e[33]=S,e[34]=N):N=e[34],N}function zo(s){"use forget";const e=F.c(19),{value:n,title:o,description:a,badge:i,disabled:l,showDivider:c}=s,r=c&&"border-token-border-default border-t",d=l?"cursor-not-allowed opacity-60":"cursor-pointer";let f;e[0]!==r||e[1]!==d?(f=se("flex items-start justify-between gap-3 p-4",r,d),e[0]=r,e[1]=d,e[2]=f):f=e[2];let u;e[3]!==i||e[4]!==o?(u=t.jsxs("div",{className:"flex items-center gap-2 text-base font-medium",children:[o,i]}),e[3]=i,e[4]=o,e[5]=u):u=e[5];let p;e[6]!==a?(p=t.jsx("div",{className:"text-token-text-secondary text-sm",children:a}),e[6]=a,e[7]=p):p=e[7];let m;e[8]!==u||e[9]!==p?(m=t.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[u,p]}),e[8]=u,e[9]=p,e[10]=m):m=e[10];let h;e[11]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(ua,{className:"flex h-full w-full items-center justify-center",children:t.jsx("span",{className:"h-2 w-2 rounded-full bg-white dark:bg-black"})}),e[11]=h):h=e[11];let x;e[12]!==l||e[13]!==n?(x=t.jsx(fa,{value:n,disabled:l,className:"border-token-border-default mt-1 inline-flex h-5 w-5 shrink-0 items-center justify-center rounded-full border p-0 leading-none data-[state=checked]:border-black data-[state=checked]:bg-black dark:data-[state=checked]:border-white dark:data-[state=checked]:bg-white",children:h}),e[12]=l,e[13]=n,e[14]=x):x=e[14];let y;return e[15]!==f||e[16]!==m||e[17]!==x?(y=t.jsxs("label",{className:f,children:[m,x]}),e[15]=f,e[16]=m,e[17]=x,e[18]=y):y=e[18],y}const Qc=Qs(()=>Ks(()=>import("./jn2gwhu7zz26y5ej.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(s=>s.RedirectContent)),{Controller:Yc}=Xs("teams");function Vc(s){return typeof s=="object"&&s!=null&&"id"in s&&"connector_type"in s&&"name"in s}function ti(s,e=!1){"use no forget";const n=te(),o=Et(),{platformConnectors:a,isLoading:i}=va(!0,We.ADMIN_SETTING,"workspace_settings",!0),l=le(),c=Te(l),r=c==null?void 0:c.id,[d,f]=P.useState(!1),[u,p]=P.useState(!1),[m,h]=P.useState(!1),[x,y]=P.useState(!1),g=P.useMemo(()=>{if(!(a!=null&&a.size))return;const A=to[so.TEAMS_ADMIN_CONNECTOR],D=a.get(A);return Vc(D)?D:void 0},[a]),b=P.useCallback(()=>{o.danger(n.formatMessage({id:"/SP/1T",defaultMessage:"Unable to load the Microsoft Teams OAuth connector."}))},[n,o]),C=P.useCallback(()=>{o.danger(n.formatMessage({id:"qMc10L",defaultMessage:"Something went wrong while loading your workspace. Please refresh and try again."}))},[n,o]),j=P.useCallback(()=>{f(!1),p(!1),h(!1),y(!1),s==null||s()},[s]),_=P.useCallback(async(A,D)=>{try{y(!0);const T=await Le.admin_create_connection_instance(A,{connection_config_id:"--fake-local-id",knowledge_connector_type:"teams_admin",link_id:D});await Le.admin_activate_connection_instance(A,T.connection_config.connection_config_id),o.success(n.formatMessage({id:"8fYoB5",defaultMessage:"Microsoft Teams sync enabled."})),j()}catch(T){y(!1),o.danger(n.formatMessage({id:"9D+xar",defaultMessage:"We couldn't enable Microsoft Teams sync. Please try again in a moment."}))}},[j,n,o]),v=P.useCallback(()=>{if(!g){b();return}f(!1),p(!0)},[g,b]),M=P.useCallback(()=>{if(!g){b();return}f(!1),h(!0)},[g,b]),w=P.useCallback(A=>{if(!g){b(),j();return}if(!r){C(),j();return}if(!A){o.danger(n.formatMessage({id:"BhPcQ+",defaultMessage:"We couldn't complete Microsoft Teams setup. Please try again."})),j();return}_(r,A)},[r,_,j,n,C,b,g,o]),S=P.useCallback(()=>{x||(p(!1),f(!0))},[x]),N=P.useCallback((A=!1)=>{if(!g){b();return}if(!r){C();return}e||A?(f(!1),p(!0),h(!1)):(f(!0),p(!1),h(!1))},[r,e,C,b,g]),E=P.useMemo(()=>!g||!r?null:t.jsxs(t.Fragment,{children:[d?t.jsx(Hc,{connector:g,onClose:j,onDeployToTeam:v,onSelfService:M,isDeploying:x}):null,u?t.jsx(Ie,{testId:"modal-teams-admin-oauth",type:"success",isOpen:!0,onClose:()=>{x||(e?j():S())},size:"custom",className:"max-w-[400px]",shouldIgnoreClickOutside:x,children:t.jsx(Zc,{connector:g,onBack:()=>{e?j():S()},onSuccess:w,isCreatingConnection:x})}):null,m?t.jsx(Yc,{onClose:()=>{h(!1),j()},onSuccess:s}):null]}),[r,j,S,w,v,M,u,x,d,m,s,e,g]);return{open:N,isLoading:i||x,canStart:!!(g&&r&&!x),modals:E,teamsConnector:g}}function Zc({connector:s,onBack:e,onSuccess:n,isCreatingConnection:o}){"use no forget";const a=te(),i=Et(),l=ma(),{refetch:c}=xn({productSku:We.CONNECTOR_SETTING}),[r,d]=P.useState(!1),f=Ha(),u=P.useCallback(async()=>{var m;d(!0);try{Ka("popup");const h=l(s),x=await ka({connector:s,redirectAfter:h!=null?h:void 0,toaster:i,openPopup:!0,intl:a,productSku:We.CONNECTOR_SETTING});if(x&&x.success===!1)throw new Error((m=x.errorType)!=null?m:"teams_admin_oauth_failed");if(!(x!=null&&x.linkId))throw new Error("teams_admin_link_not_found");await c(),n(x.linkId)}catch(h){i.danger(a.formatMessage({id:"oBP/0x",defaultMessage:"Encountered an error connecting your account. Please try again later."}))}finally{d(!1)}},[s,a,l,n,c,i]),p=P.useCallback(()=>{o||e()},[o,e]);return o?t.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 text-center",children:[t.jsx(_a,{className:"icon-lg"}),t.jsx(He,{})]}):t.jsx(Qc,{connector:s,onClose:p,isConnecting:r,onContinue:u,showExternalIcon:!0,productSku:We.CONNECTOR_SETTING,additionalMessageThatDoesNotContainLegalClaims:f?t.jsx("p",{children:t.jsx(k,{id:"YsQ0YI",defaultMessage:"You must be a Microsoft Teams admin and log in with {email} to connect Microsoft Teams.",values:{email:t.jsx("b",{children:f})}})}):void 0})}function Jc(s){"use forget";const e=F.c(11),{refetchConnectionInstances:n,eligibleToCreateNewTeamsAdminConnection:o}=s,a=le(),i=It(a),l=ti(n,!0),[c,r]=P.useState(!1);if(i||l.isLoading&&!l.modals)return null;let d;e[0]!==o||e[1]!==l.canStart||e[2]!==l.teamsConnector?(d=o&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full px-4",children:t.jsx("div",{className:"border-token-border-heavy w-full border-t"})}),t.jsx("div",{className:"flex w-full flex-col gap-2 p-4",children:t.jsxs(Z,{color:"secondary",disabled:!l.canStart||!l.teamsConnector,onClick:()=>r(!0),children:[t.jsx(Mn,{className:"icon text-token-text-accent me-2"}),t.jsx(k,{id:"AFxeoK",defaultMessage:"Deploy to team"})]})})]}),e[0]=o,e[1]=l.canStart,e[2]=l.teamsConnector,e[3]=d):d=e[3];let f;e[4]!==l||e[5]!==c?(f=c&&l.teamsConnector&&t.jsx(Xc,{connector:l.teamsConnector,onClose:()=>r(!1),onContinue:()=>{r(!1),l.open()}}),e[4]=l,e[5]=c,e[6]=f):f=e[6];let u;return e[7]!==l.modals||e[8]!==d||e[9]!==f?(u=t.jsxs(t.Fragment,{children:[d,f,l.modals]}),e[7]=l.modals,e[8]=d,e[9]=f,e[10]=u):u=e[10],u}function Xc(s){"use forget";const e=F.c(17),{connector:n,onClose:o,onContinue:a}=s;let i;e[0]!==n?(i=t.jsx(zt,{connector:n,className:"rounded-xl border-[0.5px] p-2 shadow-sm",size:"medium"}),e[0]=n,e[1]=i):i=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx(k,{id:"qkSJHk",defaultMessage:"Deploy to team"}),e[2]=l):l=e[2];let c;e[3]!==o||e[4]!==i?(c=t.jsx(hn,{onClose:o,connectorIcon:i,title:l}),e[3]=o,e[4]=i,e[5]=c):c=e[5];let r;e[6]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("p",{className:"text-token-text-secondary mt-6 text-center text-sm",children:t.jsx(k,{id:"vWF3VU",defaultMessage:"Enable your whole team to use Microsoft Teams data right away without additional setup."})}),e[6]=r):r=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("p",{className:"bg-token-interactive-bg-accent-muted-context text-token-text-accent mt-6 rounded-xl p-4 text-center text-sm",children:t.jsx(k,{id:"iukeJt",defaultMessage:"This will replace any individually synced Microsoft Teams connections."})}),e[7]=d):d=e[7];let f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(k,{id:"fHtzNL",defaultMessage:"Continue"}),e[8]=f):f=e[8];let u;e[9]!==a?(u=t.jsx("div",{className:"pt-6",children:t.jsx(Z,{className:"w-full",size:"large",onClick:a,children:f})}),e[9]=a,e[10]=u):u=e[10];let p;e[11]!==c||e[12]!==u?(p=t.jsxs("div",{className:"px-6 pt-4 pb-6",children:[c,r,d,u]}),e[11]=c,e[12]=u,e[13]=p):p=e[13];let m;return e[14]!==o||e[15]!==p?(m=t.jsx(Ie,xe(I({},wn),{className:"max-w-[420px]",title:void 0,onClose:o,testId:"modal-teams-enable-sync",children:p})),e[14]=o,e[15]=p,e[16]=m):m=e[16],m}const ed=Qs(()=>Ks(()=>Promise.resolve().then(()=>Co),void 0).then(s=>s.LimitItemsFilePickerModal));function Ws({label:s,value:e}){return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-token-border-medium w-full border-t"}),t.jsxs("div",{className:"flex w-full flex-row justify-between py-2",children:[t.jsx("span",{className:"text-token-text-primary",children:s}),t.jsx("span",{className:"text-token-text-secondary",children:e})]})]})}function td({connection:s,adminUserConnectionState:e}){var a;const n=e&&e.user_connection_details.activation_status!=="inactive"&&e.user_connection_details.auth_status!=="not_connected",o=s.connection_config.knowledge_connector_type;if(!o)return null;if(o==="google_drive_oauth")return t.jsx(sd,{connectionConfig:s.connection_config,connectionStatus:s.connection_status,isAdminConnected:n});if(o==="slack")return t.jsx(od,{connectionConfig:s.connection_config,connectionStatus:s.connection_status,isAdminConnected:n});{const i=["google_drive_dwd","sharepoint_admin","teams_admin"].includes((a=s.connection_config.knowledge_connector_type)!=null?a:"");return t.jsx(nd,{isAdminManaged:i})}}function sd({connectionConfig:s,connectionStatus:e,isAdminConnected:n}){const o=te(),a=e==="activating"||e==="partially_activated"||e==="active";return t.jsxs("div",{className:"px-4",children:[a&&n!=null&&!n&&t.jsx(si,{connectionConfig:s}),t.jsx(Ws,{label:o.formatMessage({id:"bVi1Vt",defaultMessage:"Connection type"}),value:o.formatMessage({id:"DSWj22",defaultMessage:"Self-service"})}),!!s.domain_name&&t.jsx(Ws,{label:o.formatMessage({id:"DtrjbM",defaultMessage:"Domain name"}),value:s.domain_name})]})}function nd(s){"use forget";const e=F.c(8),{isAdminManaged:n}=s,o=te();let a;e[0]!==o?(a=o.formatMessage({id:"bVi1Vt",defaultMessage:"Connection type"}),e[0]=o,e[1]=a):a=e[1];let i;e[2]!==o||e[3]!==n?(i=n?o.formatMessage({id:"voo3FC",defaultMessage:"Admin-managed"}):o.formatMessage({id:"DSWj22",defaultMessage:"Self-service"}),e[2]=o,e[3]=n,e[4]=i):i=e[4];let l;return e[5]!==a||e[6]!==i?(l=t.jsx("div",{className:"px-4",children:t.jsx(Ws,{label:a,value:i})}),e[5]=a,e[6]=i,e[7]=l):l=e[7],l}function od({connectionConfig:s,connectionStatus:e,isAdminConnected:n}){const o=te();return t.jsxs("div",{className:"px-4",children:[e==="activating"&&n!=null&&!n&&t.jsx(si,{connectionConfig:s}),t.jsx(Ws,{label:o.formatMessage({id:"JXKtnI",defaultMessage:"Slack domain"}),value:s.team_domain}),t.jsx(Ws,{label:o.formatMessage({id:"a1Cjhf",defaultMessage:"Team ID"}),value:s.team_id})]})}function si({connectionConfig:s}){const e=le(),n=er(),{data:o,isLoading:a,refetch:i}=as({queryKey:["user_connection_status"],queryFn:Le.user_connection_status,enabled:n}),l=()=>{i(),wa(e)},c=o==null?void 0:o.connection_statuses.some(d=>d.user_connection_details.connection_instance_id===s.connection_config_id&&d.user_connection_details.auth_status==="user_connected");if(a||c)return null;const r=({isLoading:d,disabled:f,onClick:u})=>t.jsx(Z,{color:"primary",loading:d,disabled:f,onClick:u,children:t.jsx(k,{id:"9ZiK24",defaultMessage:"Connect"})});return t.jsxs(no.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.2,duration:.5},className:"bg-token-hint-bg dark:bg-token-main-surface-tertiary mb-2 flex flex-col gap-2 rounded-xl p-4",children:[t.jsxs("div",{className:"flex flex-row items-start gap-4",children:[t.jsx(tr,{className:"icon-lg"}),t.jsx("span",{className:"text-sm",children:t.jsx(k,{id:"gdALIj",defaultMessage:"This connection will not finish activating until a user connects."})})]}),t.jsx(sr,{connectionId:s.connection_config_id,connectorType:s.knowledge_connector_type,renderButton:r,location:"admin_settings",refetch:l})]})}function ad({accountId:s,connectionId:e,refetch:n}){"use no forget";const[o,a]=P.useState(!1),i=le(),l=It(i),[c,r]=P.useState(!1),d=Et(),f=te(),u=async m=>{if(a(!1),m){r(!0);try{await Le.admin_activate_connection_instance(s,e),await n(),d.success(f.formatMessage({id:"y5DD0Z",defaultMessage:"Connection successfully activated."}))}catch(h){d.danger(f.formatMessage({id:"aqpeYE",defaultMessage:"Something went wrong. Please try again."}),{toastId:"review_and_activate_modal",loggingTitle:"Failed to activate connection",loggingDescription:"Failed to activate connection"})}finally{r(!1)}}},p=t.jsx(Z,{color:"primary",loading:c,disabled:l,onClick:()=>a(!0),children:t.jsx(k,{id:"K+P5ds",defaultMessage:"Continue setup"})});return t.jsxs(t.Fragment,{children:[t.jsxs(no.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.2,duration:.5},className:"bg-token-hint-bg dark:bg-token-main-surface-tertiary mb-2 flex flex-col gap-2 rounded-xl p-4",children:[t.jsx("div",{className:"text-sm",children:t.jsx(k,{id:"5NajtY",defaultMessage:"Select files to sync to complete setup"})}),l?t.jsx(Ys,{children:p}):p]}),o&&t.jsx(ed,{connectionId:e,onClose:u,isOpen:!0})]})}function go({isOpen:s,onClose:e,connectionId:n,accountId:o,isPostActivation:a,footerContent:i,primaryButton:l,secondaryButton:c}){const r=te(),{data:d,isLoading:f,error:u,refetch:p}=as({queryKey:["slack_channel_type_scopes",n],queryFn:()=>Le.admin_connection_list_item_scopes(o,n,"channel_type")});let m,h;return d==null||d.object_selections.forEach(({object_handle:x,selection:y})=>{x==="public"?m=y==="include":x==="private"&&(h=y==="include")}),t.jsxs(Ie,xe(I({testId:"modal-slack-channel-scope"},Ba),{isOpen:s,onClose:e,children:[t.jsxs("div",{className:"flex flex-col gap-4 px-6 pt-4 pb-10",children:[t.jsx("p",{className:"text-token-text-primary",children:t.jsx(k,{id:"Ot9UkQ",defaultMessage:"Control which types of channels should be synced."})}),!a&&t.jsxs("div",{className:"bg-token-main-surface-secondary text-token-text-primary flex w-full flex-row items-center gap-4 rounded-xl p-4",children:[t.jsx($t,{className:"icon-lg"}),t.jsx("span",{className:"text-sm",children:t.jsx(k,{id:"qByMz2",defaultMessage:"You will not be able to modify the sync policy once the connection starts syncing data."})})]}),u&&t.jsxs("div",{className:"my-2 flex flex-row items-center gap-2 rounded-lg bg-red-500 p-2 text-white",children:[t.jsx($t,{className:"icon inline"}),t.jsx(k,{id:"F9HsRh",defaultMessage:"Something went wrong."}),t.jsx("button",{onClick:()=>p(),className:"underline",children:t.jsx(k,{id:"y/IEAC",defaultMessage:"Try again"})})]}),f?t.jsx(Vs,{lines:4}):t.jsxs(t.Fragment,{children:[m!=null&&t.jsx(Go,{connectionId:n,accountId:o,slackChannelScope:"public",title:r.formatMessage({id:"CXSVXf",defaultMessage:"Public channels"}),refetch:p,value:m,isPostActivation:a}),h!=null&&t.jsx(Go,{connectionId:n,accountId:o,slackChannelScope:"private",title:r.formatMessage({id:"5XrboJ",defaultMessage:"Private channels"}),refetch:p,value:h,isPostActivation:a})]})]}),t.jsx(eo,{footerContent:i,primaryButton:l,secondaryButton:c})]}))}function Go({connectionId:s,accountId:e,slackChannelScope:n,title:o,refetch:a,value:i,isPostActivation:l}){const c=Et(),r=te(),[d,f]=P.useState(!1),u=async p=>{if(!d){f(!0);try{p?await Le.admin_connection_unblock_items(e,s,"channel_type",[n]):await Le.admin_connection_block_items(e,s,"channel_type",[n]),a()}catch(m){c.danger(r.formatMessage({id:"7QF5n6",defaultMessage:"Failed to update policy. Please try again later."}),{toastId:"slack_channel_scope_modal",loggingTitle:"Failed to update policy",loggingDescription:"Failed to update policy"})}finally{f(!1)}}};return l?t.jsxs("div",{className:"group border-token-border-medium flex w-full flex-row items-center gap-4 rounded-xl border px-8 py-4",children:[i?t.jsx(nr,{className:"icon-lg"}):t.jsx(Yr,{className:"icon-lg"}),t.jsx("p",{className:"flex-1",children:o})]}):t.jsxs("div",{className:"group border-token-border-medium flex w-full flex-row items-center gap-4 rounded-xl border px-8 py-4",children:[t.jsx(Us,{checked:i,disabled:d,"aria-label":o,onCheckedChange:u}),t.jsx("p",{children:o}),d&&t.jsx(He,{})]})}const id=Qs(()=>Ks(()=>Promise.resolve().then(()=>Co),void 0).then(s=>s.LimitItemsFilePickerModal));function is({label:s,onClick:e,disabled:n}){return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full px-4",children:t.jsx("div",{className:"border-token-border-medium w-full border-t"})}),t.jsxs("div",{className:se("flew-row flex items-center gap-4 px-4 py-2",n&&"cursor-not-allowed opacity-50",!n&&e&&"cursor-pointer"),onClick:n?void 0:e,children:[t.jsx("p",{className:"flex-1",children:s}),e&&t.jsx(pn,{className:"icon text-token-text-secondary"})]})]})}function ld({accountId:s,connectionId:e,refetch:n}){const[o,a]=P.useState(!1),i=le(),l=It(i),[c,r]=P.useState(!1),{triggerLocation:d}=$a(),f=t.jsx(Z,{color:"primary",disabled:l,icon:Qa,onClick:()=>a(!0),loading:c,children:t.jsx(k,{id:"S6paZh",defaultMessage:"Finish connecting"})}),u=async()=>{r(!0),await Le.admin_activate_connection_instance(s,e),Ut.logEventWithStatsig("Contextual Answers Admin Connection Activated","chatgpt_contextual_answers_admin_connection_activated",{triggerLocation:d,connectorType:"google_drive_oauth",connectionId:e,adminQuickstart:!0}),n(),r(!1)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full px-4",children:t.jsx("div",{className:"border-token-border-medium w-full border-t"})}),t.jsx("div",{className:"flex w-full flex-col gap-2 p-4",children:l?t.jsx(Ys,{children:f}):f}),o&&t.jsx(or,{connectionId:e,location:"admin_connection_quickstart_row",isAdminFlow:!0,isAdminQuickstartFlow:!0,onClose:()=>a(!1),onSuccess:u,accountId:s})]})}function rd({accountId:s,connectionId:e,refetch:n}){const[o,a]=P.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(is,{onClick:()=>a(!0),label:t.jsx(k,{id:"wM9lvD",defaultMessage:"Configure credentials"})}),o&&t.jsx(Ga,{onClose:()=>a(!1),onNext:()=>{n(),a(!1)},accountId:s,connectionId:e})]})}function cd({accountId:s,connectionId:e,isPostActivation:n}){const[o,a]=P.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(is,{onClick:()=>a(!0),label:t.jsx(k,{id:"lTeSGb",defaultMessage:"Sync policy"})}),o&&t.jsx(go,{isOpen:!0,onClose:()=>a(!1),accountId:s,connectionId:e,isPostActivation:n})]})}function dd({accountId:s,connectionId:e,isPostActivation:n}){const[o,a]=P.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(is,{onClick:()=>a(!0),label:t.jsx(k,{id:"AgDWHl",defaultMessage:"User drives"})}),o&&t.jsx(Ua,{isOpen:!0,isPostActivation:n,onClose:()=>a(!1),accountId:s,connectionId:e})]})}function fd({accountId:s,connectionId:e}){const[n,o]=P.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(is,{onClick:()=>o(!0),label:t.jsx(k,{id:"gsRcYT",defaultMessage:"Shared drives"})}),n&&t.jsx(Wa,{isOpen:!0,onClose:()=>o(!1),accountId:s,connectionId:e})]})}function ud({accountId:s,connectionId:e,objectType:n,disabled:o}){const[a,i]=P.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(is,{disabled:o,onClick:()=>i(!0),label:t.jsx(k,{id:"tisZLQ",defaultMessage:"Block items"})}),a&&t.jsx(Qr,{isOpen:!0,onClose:()=>i(!1),accountId:s,connectionId:e,objectType:n})]})}function md(s){"use forget";const e=F.c(11),{connectionId:n,disabled:o,onSuccess:a}=s,[i,l]=P.useState(!1);let c,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>l(!0),r=t.jsx(k,{id:"hxmHts",defaultMessage:"Limit items"}),e[0]=c,e[1]=r):(c=e[0],r=e[1]);let d;e[2]!==o?(d=t.jsx(is,{disabled:o,onClick:c,label:r}),e[2]=o,e[3]=d):d=e[3];let f;e[4]!==n||e[5]!==i||e[6]!==a?(f=i&&t.jsx(id,{isOpen:!0,onClose:p=>{l(!1),p&&(a==null||a())},connectionId:n}),e[4]=n,e[5]=i,e[6]=a,e[7]=f):f=e[7];let u;return e[8]!==d||e[9]!==f?(u=t.jsxs(t.Fragment,{children:[d,f]}),e[8]=d,e[9]=f,e[10]=u):u=e[10],u}function pd({accountId:s,connection:e,disabled:n}){const o=le(),[a,i]=P.useState(!1),l=jt(o);return!e.connection_config.knowledge_connector_type||l?null:t.jsxs(t.Fragment,{children:[t.jsx(is,{disabled:n,onClick:()=>i(!0),label:t.jsx(k,{id:"9iRaQo",defaultMessage:"User access"})}),a&&t.jsx(Gr,{connectorType:e.connection_config.knowledge_connector_type,fallbackEstimatedMaxNumUsers:Ur(e.connection_config),onClose:()=>i(!1),accountId:s,connectionId:e.connection_config.connection_config_id})]})}function gd({accountId:s,connectionId:e,connectorType:n,connectionDisplayInfo:o,onActivate:a,activationBlockingError:i}){const[l,c]=P.useState(!1),r=le(),d=It(r),f=t.jsx(Z,{color:i?"secondary":"primary",disabled:!!i||d,icon:Qa,onClick:()=>c(!0),children:t.jsx(k,{id:"tVDCWM",defaultMessage:"Review and finish setup"})});return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-full px-4",children:t.jsx("div",{className:"border-token-border-medium w-full border-t"})}),t.jsxs("div",{className:"flex w-full flex-col gap-2 p-4",children:[i&&t.jsx("p",{className:"text-token-text-secondary text-sm",children:i}),d?t.jsx(Ys,{children:f}):f]}),l&&t.jsx(za,{isOpen:!0,onClose:()=>c(!1),accountId:s,connectionId:e,connectionDisplayInfo:o,onActivate:a,connectorType:n})]})}const hd=({open:s,onOpenChange:e,deleteConnection:n,isDeleting:o,connectionDisplayInfo:a})=>{const i=te();return t.jsx(Ie,{testId:"modal-delete-connection",isOpen:s,onClose:()=>e(!1),shouldIgnoreClickOutside:!0,title:i.formatMessage({id:"oXdl2Z",defaultMessage:"Confirm deletion"}),type:"danger",icon:$t,primaryButton:t.jsx(Z,{color:"danger",onClick:n,disabled:o,loading:o,children:t.jsx(k,{id:"knS5PY",defaultMessage:"Delete"})}),secondaryButton:t.jsx(Z,{color:"secondary",disabled:o,onClick:()=>{e(!1)},children:t.jsx(k,{id:"KnPHlG",defaultMessage:"Cancel"})}),children:t.jsxs("ul",{className:"px-4",children:[t.jsx("li",{className:"mb-2 list-disc ps-2",children:t.jsx(k,{id:"BvnNwE",defaultMessage:"You are about to delete the connection {connection_name}.",values:{connection_name:t.jsx(Wr,{connectionDisplayInfo:a})}})}),t.jsx("li",{className:"mb-2 list-disc ps-2",children:t.jsx(k,{id:"0m+fk7",defaultMessage:"Deleting this connection will stop syncing and delete synced data."})}),t.jsx("li",{className:"mb-2 list-disc ps-2 font-bold",children:t.jsx(k,{id:"a86dO+",defaultMessage:"This action cannot be undone."})})]})})},xd=({open:s,onOpenChange:e,defaultName:n,accountId:o,connectionId:a,refetch:i})=>{const l=te(),[c,r]=P.useState(n),[d,f]=P.useState(!1),u=P.useId(),p=Et(),m=P.useCallback(()=>{f(!0),Le.admin_edit_name_connection_instance(o,a,{name:c}).then(()=>{p.success(l.formatMessage({id:"pepxEP",defaultMessage:"Connection updated successfully."})),i(),e(!1)}).catch(()=>{p.danger(l.formatMessage({id:"aqpeYE",defaultMessage:"Something went wrong. Please try again."}),{toastId:"rename_modal",loggingTitle:"Failed to rename connection",loggingDescription:"Failed to rename connection"})}).finally(()=>{f(!1)})},[o,a,l,c,e,i,p]);return t.jsx(Ie,{testId:"modal-rename",isOpen:s,onClose:()=>e(!1),shouldIgnoreClickOutside:!0,title:l.formatMessage({id:"mmCJWI",defaultMessage:"Rename"}),type:"success",icon:pa,primaryButton:t.jsx(Z,{onClick:()=>m(),loading:d,children:t.jsx(k,{id:"LebexD",defaultMessage:"Rename"})}),secondaryButton:t.jsx(Z,{color:"secondary",onClick:()=>{e(!1)},children:t.jsx(k,{id:"KnPHlG",defaultMessage:"Cancel"})}),children:t.jsxs("form",{onSubmit:h=>{h.preventDefault(),m()},className:"flex flex-col gap-2",children:[t.jsx("label",{htmlFor:u,className:"text-token-text-secondary text-base font-medium",children:t.jsx(k,{id:"Gk2g3Q",defaultMessage:"Connection name"})}),t.jsx("input",{type:"text",value:c,onChange:h=>r(h.target.value),id:u,className:"border-token-border-default bg-token-main-surface-primary text-token-text-primary rounded-lg border border-solid"}),t.jsx("button",{type:"submit",className:"display-none"})]})})};function ni({accountId:s,adminUserConnectionState:e,connectedKnowledgeSource:n,connection:o,connectorName:a,onCreateAnotherInstance:i,refetchConnectionInstances:l,showIcon:c=!1,sharepointAdminConnectorEnabled:r=!1,eligibleToCreateNewSharepointAdminConnection:d=!1,teamsAdminConnectorEnabled:f=!1,eligibleToCreateNewTeamsAdminConnection:u=!1}){var C;const[p,m]=P.useState(!1),h=te();let x;const y=o.connection_config.knowledge_connector_type;if(y)y==="slack"?x="synced_channel":x="synced_object";else return null;let g;o.connection_config.knowledge_connector_type==="sharepoint"&&r?g=t.jsx(Kc,{refetchConnectionInstances:l,eligibleToCreateNewSharepointAdminConnection:d}):o.connection_config.knowledge_connector_type==="teams"&&f?g=t.jsx(Jc,{refetchConnectionInstances:l,eligibleToCreateNewTeamsAdminConnection:u}):o.connection_status!=="draft"||y==="sharepoint_admin"||y==="teams_admin"||(y==="google_drive_oauth"&&!o.connection_config.domain_name?g=t.jsx(ld,{accountId:s,connectionId:o.connection_config.connection_config_id,refetch:l}):g=t.jsx(gd,{connectorType:y,connectionId:o.connection_config.connection_config_id,accountId:s,connectionDisplayInfo:o.display_info,onActivate:l,activationBlockingError:jd(o,h)}));const b=["google_drive_dwd","google_drive_oauth","slack"].includes(y);return t.jsxs(no.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"group bg-token-main-surface-secondary w-full rounded-xl pb-2",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4 p-4 pb-6",children:[c&&o.display_info.icon_url&&t.jsx("div",{className:"bg-token-bg-primary h-fit rounded-xl border-[0.5px] p-2 shadow-sm",children:t.jsx("div",{className:"h-[28px] w-[28px]",children:t.jsx("img",{src:(C=o.display_info.icon_url)!=null?C:"",alt:"",className:"icon-xl self-center"})})}),t.jsxs("div",{className:"w-full shrink overflow-hidden",children:[t.jsx("div",{className:"text-token-text-primary overflow-hidden font-medium text-ellipsis whitespace-nowrap",children:t.jsx(Ts,{label:a!=null?a:o.display_info.display_name,side:"top",align:"center",children:a!=null?a:o.display_info.display_name})}),t.jsx("div",{children:t.jsx(yd,{connectionDisplayName:o.display_info.display_name,connectionStatus:o.connection_status})})]}),t.jsx(bd,{accountId:s,className:se("hover:bg-token-main-surface-secondary-selected h-8 w-8",p?"bg-token-main-surface-secondary-selected":"bg-transparent"),connectedKnowledgeSource:n,connectionDisplayInfo:o.display_info,connectionId:o.connection_config.connection_config_id,isOpen:p,onCreateAnotherInstance:i,refetch:l,setIsOpen:m})]}),y==="sharepoint_admin"&&o.connection_status==="draft"&&t.jsx("div",{className:"px-4",children:t.jsx(ad,{connectionId:o.connection_config.connection_config_id,accountId:s,refetch:l})}),t.jsx(td,{connection:o,adminUserConnectionState:e}),["google_drive_oauth","google_drive_dwd"].includes(y)&&t.jsx(pd,{connection:o,accountId:s}),y==="google_drive_dwd"&&t.jsxs(t.Fragment,{children:[t.jsx(rd,{connectionId:o.connection_config.connection_config_id,accountId:s,refetch:l}),t.jsx(dd,{connectionId:o.connection_config.connection_config_id,accountId:s,isPostActivation:o.connection_status!=="draft"}),t.jsx(fd,{connectionId:o.connection_config.connection_config_id,accountId:s})]}),y==="slack"&&t.jsx(cd,{connectionId:o.connection_config.connection_config_id,accountId:s,isPostActivation:o.connection_status!=="draft"}),y==="sharepoint_admin"&&o.connection_status!=="draft"&&t.jsx(md,{connectionId:o.connection_config.connection_config_id}),x!=null&&b&&t.jsx(ud,{connectionId:o.connection_config.connection_config_id,accountId:s,objectType:x}),g]})}const yd=({connectionDisplayName:s,connectionStatus:e})=>{switch(e){case"active":case"partially_activated":case"activating":return t.jsxs("div",{className:"flex items-center",children:[t.jsx(ga,{className:"icon-sm text-token-text-secondary"}),t.jsx("span",{className:"text-token-text-secondary ms-0.5 text-sm",children:t.jsx(k,{id:"3aMZRu",defaultMessage:"Configured • {connectionDisplayName}",values:{connectionDisplayName:s}})})]});case"draft":return t.jsxs("div",{className:"flex items-center",children:[t.jsx(Zt,{className:"icon-sm text-token-text-secondary"}),t.jsx("span",{className:"text-token-text-secondary ms-0.5 text-sm",children:t.jsx(k,{id:"rEztVG",defaultMessage:"Draft • {connectionDisplayName}",values:{connectionDisplayName:s}})})]});case"deleting":case"deleted":return null}};function bd({accountId:s,className:e,connectionDisplayInfo:n,connectionId:o,connectedKnowledgeSource:a,isOpen:i,onCreateAnotherInstance:l,refetch:c,setIsOpen:r}){const d=le(),f=It(d),u=Et(),p=te(),[m,h]=P.useState(!1),[x,y]=P.useState(!1),[g,b]=P.useState(!1),C=async()=>{if(!g){b(!0);try{await Le.admin_delete_connection_instance(s,o),u.success(p.formatMessage({id:"zM0Z9u",defaultMessage:"Connection deleted."}))}catch(_){u.danger(p.formatMessage({id:"3lBGk2",defaultMessage:"Failed to delete this connection. Please try again later."}),{toastId:"connection_instance_menu",loggingTitle:"Failed to delete connection",loggingDescription:"Failed to delete connection"})}finally{c(),b(!1),y(!1)}}},j=t.jsx(ie.Item,{icon:Zn,onSelect:()=>l==null?void 0:l(),disabled:!l,children:t.jsx(k,{id:"NLydA/",defaultMessage:"Connect another {connectedKnowledgeSource}",values:{connectedKnowledgeSource:a}})});return t.jsxs(t.Fragment,{children:[t.jsxs(ie.Root,{open:i,onOpenChange:r,children:[t.jsx(ie.Trigger,{className:e,children:t.jsx(Zt,{className:"icon-lg"})}),t.jsx(ie.Portal,{children:t.jsxs(ie.Content,{size:"medium",children:[t.jsx(ie.Item,{icon:pa,onSelect:()=>Oo(h)(!0),disabled:g||x,children:t.jsx(k,{id:"XSQcFy",defaultMessage:"Rename connection"})}),l?j:f?t.jsx(Ys,{children:j}):null,t.jsx(ie.Item,{icon:g||x?He:ha,onSelect:()=>Oo(y)(!0),color:"danger",disabled:g||x,children:t.jsx(k,{id:"EAIYOb",defaultMessage:"Delete connection"})}),!1]})})]}),t.jsx(xd,{open:m,onOpenChange:h,defaultName:n.display_name,connectionId:o,accountId:s,refetch:c}),t.jsx(hd,{open:x,onOpenChange:y,deleteConnection:C,isDeleting:g,connectionDisplayInfo:n})]})}function jd(s,e){if(s.connection_config.knowledge_connector_type==="google_drive_dwd"){if(!s.connection_config.admin_email_address||!s.connection_config.service_account_credential_id)return e.formatMessage({id:"BfNdzb",defaultMessage:"Credential configuration is incomplete"})}else if(s.connection_config.knowledge_connector_type==="google_drive_oauth"&&!s.connection_config.domain_name)return e.formatMessage({id:"PxrodU",defaultMessage:"Google Workspace domain must be set"})}function oi({onClose:s}){const[e,n]=P.useState(),o=le(),a=Te(o);return a?e?t.jsx(_d,{accountId:a.id,connection:e,onClose:s}):t.jsx(Cd,{accountId:a.id,onClose:s,setConnection:n}):null}function Cd({onClose:s,setConnection:e,accountId:n}){var y,g,b,C;const o=te(),a=Et(),{triggerLocation:i}=$a(),[l,c]=P.useState({teamDomain:"app"});P.useEffect(()=>{Ut.logEventWithStatsig("Contextual Answers Admin Create Connection Step","chatgpt_contextual_answers_admin_create_connection_step",{connectorType:"slack",stepName:"basic_info",triggerLocation:i})},[i]);const[r,d]=P.useState(!1),f=P.useCallback(()=>{!(l.teamDomain&&l.teamId)||!n||(d(!0),Le.admin_create_connection_instance(n,{connection_config_id:"--fake-local-id",knowledge_connector_type:"slack",team_id:l.teamId,team_domain:l.teamDomain},l.connectionName).then(j=>{e(j)}).catch(()=>{a.danger(o.formatMessage({id:"aqpeYE",defaultMessage:"Something went wrong. Please try again."}),{toastId:"slack_connection_setup_modal",loggingTitle:"Failed to create connection",loggingDescription:"Failed to create connection"})}).finally(()=>{d(!1)}))},[n,l.connectionName,l.teamDomain,l.teamId,o,e,a]),u=!!((y=l.connectionName)!=null&&y.length)&&l.connectionName.length>128,p=!!(l.teamDomain&&l.teamId&&!u),m=P.useId(),h=P.useId(),x=P.useId();return t.jsxs(Ie,xe(I({},Ba),{onClose:s,testId:"modal-slack-basic-info",children:[t.jsxs("form",{onSubmit:j=>{j.preventDefault(),p&&f()},className:"flex flex-col gap-4 px-6 pt-4 pb-6",children:[t.jsxs("div",{className:"mb-2 flex flex-col gap-2",children:[t.jsx("label",{htmlFor:m,className:"text-token-text-secondary text-base font-medium",children:t.jsx(k,{id:"e2yF8/",defaultMessage:"Connection display name"})}),t.jsx("input",{type:"text",value:(g=l.connectionName)!=null?g:"",onChange:j=>c(_=>xe(I({},_),{connectionName:j.target.value})),placeholder:o.formatMessage({id:"0gZ+BA",defaultMessage:"(optional)"}),id:m,className:"border-token-border-default bg-token-main-surface-primary text-token-text-primary rounded-lg border border-solid"}),u?t.jsx("p",{className:"text-red-500",children:t.jsx(k,{id:"vT7EGU",defaultMessage:"Name is too long."})}):null]}),t.jsxs("div",{className:"mb-2 flex flex-col gap-2",children:[t.jsx("label",{htmlFor:h,className:"text-token-text-secondary text-base font-medium",children:t.jsx(k,{id:"hEnKIS",defaultMessage:"Slack workspace domain"})}),t.jsxs("p",{children:[t.jsx("input",{type:"text",value:(b=l.teamDomain)!=null?b:"",onChange:j=>c(_=>xe(I({},_),{teamDomain:j.target.value})),id:h,className:"border-token-border-default bg-token-main-surface-primary text-token-text-primary rounded-lg border border-solid"}),t.jsx("span",{className:"text-token-text-secondary ms-1 font-medium",children:".slack.com"})]})]}),t.jsxs("div",{className:"mb-2 flex flex-col gap-2",children:[t.jsx("label",{htmlFor:x,className:"text-token-text-secondary text-base font-medium",children:t.jsx(k,{id:"azUOrk",defaultMessage:"Slack workspace ID"})}),t.jsx("input",{type:"text",value:(C=l.teamId)!=null?C:"",onChange:j=>c(_=>xe(I({},_),{teamId:j.target.value})),placeholder:o.formatMessage({id:"vUK9Kc",defaultMessage:"T0000000000"}),id:x,className:"border-token-border-default bg-token-main-surface-primary text-token-text-primary rounded-lg border border-solid"})]}),t.jsx("button",{type:"submit",className:"display-none"})]}),t.jsx(eo,{primaryButton:t.jsx(Z,{color:"primary",disabled:!p,onClick:f,loading:r,children:t.jsx(k,{id:"lZthRm",defaultMessage:"Save Draft and Continue"})})})]}))}function _d({connection:s,accountId:e,onClose:n}){return t.jsx(qr,{onClose:n,steps:[{connectorType:"slack",name:"slack_channel_scope",fn:({goForward:o,goBackward:a,close:i,stepNumber:l,totalSteps:c})=>t.jsx(go,{isOpen:!0,isPostActivation:!1,onClose:()=>i==null?void 0:i(),accountId:e,connectionId:s.connection_config.connection_config_id,primaryButton:o&&t.jsx(Z,{color:"primary",onClick:o,children:t.jsx(k,{id:"z5fExR",defaultMessage:"Next"})}),secondaryButton:a&&t.jsx(Z,{color:"secondary",onClick:a,children:t.jsx(k,{id:"xJnONr",defaultMessage:"Back"})}),footerContent:t.jsx("span",{className:"text-token-text-secondary flex-1 align-middle font-medium",children:t.jsx(k,{id:"Wp0nVY",defaultMessage:"Step {stepNum} of {totalSteps}",values:{stepNum:l+1,totalSteps:c}})})})},{connectorType:"slack",name:"review_and_activate",fn:({goBackward:o,close:a,stepNumber:i,totalSteps:l})=>t.jsx(za,{isOpen:!0,onClose:()=>a==null?void 0:a(),accountId:e,connectorType:"slack",connectionId:s.connection_config.connection_config_id,connectionDisplayInfo:s.display_info,secondaryButton:o&&t.jsx(Z,{color:"secondary",onClick:o,children:t.jsx(k,{id:"xJnONr",defaultMessage:"Back"})}),footerContent:t.jsx("span",{className:"text-token-text-secondary flex-1 align-middle font-medium",children:t.jsx(k,{id:"Wp0nVY",defaultMessage:"Step {stepNum} of {totalSteps}",values:{stepNum:i+1,totalSteps:l}})})})}]})}var la;const vd=ar.div(la||(la=To(["w-full border-b-1 border-token-border-light"]))),kd={type:"slack",icon:ir,nameMessage:{id:"connectors.slack.displayName",defaultMessage:"Slack",description:"Name of a product."},taglineMessage:{id:"connectors.slack.tagline",defaultMessage:"Connect messages and channels.",description:"Tagline explaining that this feature allows ChatGPT to sync data from Slack messages and channels."},modalKey:"slack"},qs=[kd,...Oc.map(s=>({type:s.type,icon:s.icon,nameMessage:s.displayNameMessage,taglineMessage:s.taglineMessage,hideForTeamPlan:s.hideForTeamPlan,modalKey:s.type}))];async function ai(s){const[e,n]=await Promise.all([Le.admin_list_knowledge_connectors(s),Le.admin_list_connection_instances(s)]),o=new Map;return e.knowledge_conectors.forEach(a=>{var i;return o.set(a.connector_details.knowledge_connector_type,{displayInfo:a.display_info,availability:a.connector_details.availability,connections:[],limits:(i=a.connector_details.limits)!=null?i:{max_instances:3}})}),n.connection_instances.forEach(a=>{var l;if(!a.connection_config.knowledge_connector_type)return;const i=(l=o.get(a.connection_config.knowledge_connector_type))==null?void 0:l.connections;i!=null?i.push(a):o.set(a.connection_config.knowledge_connector_type,{displayInfo:a.display_info,availability:"unavailable",limits:ts,connections:[a]})}),o}function Fn(s){return!(s.connection_status==="deleted"||s.connection_status==="deleting")}function wd(){"use no forget";const s=te(),e=le(),n=Te(e),[o,a]=P.useState(null),i=yn(e,"4243523004"),l=i.get("enabledConnectors",[]);P.useEffect(()=>{Ut.logEventWithStatsig("Contextual Answers Admin Page Visited","chatgpt_contextual_answers_admin_page_visited")},[]);const{data:c,isLoading:r,error:d,refetch:f}=as({queryKey:["admin:knowledge_connectors_with_connections",n==null?void 0:n.id],queryFn:async()=>{if(!n)throw new Error("No current account");return await ai(n.id)},enabled:!!n}),u=As(()=>lr(e).data),p=async()=>await Promise.all([f(),wa(e)]),m=P.useMemo(()=>n!=null&&n.isSelfServeBusiness()?qs.filter(D=>!D.hideForTeamPlan):qs,[n]),{combinedGoogleDriveConnections:h,googleDriveUnavailableConnections:x,eitherGoogleDriveConnectorEnabled:y,googleDriveLimits:g,isGoogleDriveDwdEnabled:b,someGoogleDriveConnectorEnabledButNoneAreLinked:C}=P.useMemo(()=>{var Y,V,J,Q,X;const D=c==null?void 0:c.get("google_drive_oauth"),T=c==null?void 0:c.get("google_drive_dwd"),R=(Y=D==null?void 0:D.connections.filter(Fn))!=null?Y:[],O=(V=T==null?void 0:T.connections.filter(Fn))!=null?V:[],L=[];(D==null?void 0:D.availability)==="available"&&L.push(...R),(T==null?void 0:T.availability)==="available"&&L.push(...O);const z=[];(D==null?void 0:D.availability)!=="available"&&z.push(...R),(T==null?void 0:T.availability)!=="available"&&z.push(...O);const $=(Q=(J=D==null?void 0:D.limits)!=null?J:T==null?void 0:T.limits)!=null?Q:ts,U=(D==null?void 0:D.availability)==="available"||(T==null?void 0:T.availability)==="available",G=((X=$==null?void 0:$.max_instances)!=null?X:ts.max_instances)!==0,W=U&&L.length===0&&G;return{combinedGoogleDriveConnections:L,googleDriveUnavailableConnections:z,eitherGoogleDriveConnectorEnabled:U,googleDriveLimits:$,isGoogleDriveDwdEnabled:(T==null?void 0:T.availability)==="available",someGoogleDriveConnectorEnabledButNoneAreLinked:W}},[c]),{connectorStates:j,unavailableConnections:_}=P.useMemo(()=>{const D=new Map;m.forEach(O=>{D.set(O.type,{config:O,availability:"unavailable",connections:[],limits:ts})});const T=[...x];return c==null||c.forEach((O,L)=>{var G;if(L==="google_drive_oauth"||L==="google_drive_dwd")return;const z=O.connections.filter(Fn),$=L==="sharepoint_admin"?"sharepoint":L==="teams_admin"?"teams":L,U=D.get($);U?(U.availability=O.availability,U.connections=U.connections.concat(z),U.limits=(G=O.limits)!=null?G:ts,O.availability!=="available"&&T.push(...z)):O.availability!=="available"&&T.push(...z)}),{connectorStates:m.map(O=>D.get(O.type)),unavailableConnections:T}},[c,x,m]),v=i.get("enabled",!1)&&l.includes("sharepoint_admin_connector"),M=i.get("enabled",!1)&&l.includes("teams_admin_connector"),w=It(e),S=[];C&&S.push("google_drive"),j.forEach(D=>{var T,R;D.availability==="available"&&D.connections.length===0&&((R=(T=D.limits)==null?void 0:T.max_instances)!=null?R:ts.max_instances)!==0&&S.push(D.config.modalKey)});const N=D=>{a(D)},E=()=>{a(null),p()},A=o&&o!=="google_drive"&&o!=="slack"?Xs(o).Controller:void 0;return n!=null&&n.id?t.jsxs(gn,{className:"gap-4",children:[t.jsx(ii,{showDescription:h.length>0}),d&&t.jsxs("div",{className:"my-2 flex flex-row items-center gap-2 rounded-lg bg-red-500 p-2 text-white",children:[t.jsx($t,{className:"icon inline"}),d instanceof rr&&d.code==="unsupported_data_residency"?t.jsx(k,{id:"IqeMXI",defaultMessage:"Synced connectors are not currently supported for your data residency region."}):t.jsx(k,{id:"zNCx93",defaultMessage:"Failed to get connection instances. Please refresh to try again."})]}),w&&t.jsxs("div",{className:"my-2 flex flex-row items-center gap-2 rounded-lg bg-red-500 p-2 text-white",children:[t.jsx($t,{className:"icon inline"}),t.jsx(k,{id:"hnTY+Z",defaultMessage:"Our systems are experiencing high load. Some operations may be temporarily unavailable."})]}),r&&t.jsx(He,{}),t.jsxs("div",{children:[t.jsxs("div",{className:"border-token-border-light divide-y-[1px] overflow-hidden rounded-xl border-[1px]",children:[C&&t.jsx(Md,{shouldShowForehead:!r&&!h.length,handleOpenModal:N}),j.map((D,T)=>{var R,O;return D.availability!=="available"||D.connections.length>0||((O=(R=D.limits)==null?void 0:R.max_instances)!=null?O:ts.max_instances)===0?null:D.config.type==="sharepoint"&&v?t.jsx(Nd,{connectorType:D.config.type,connectorName:s.formatMessage(D.config.nameMessage),description:s.formatMessage(D.config.taglineMessage),Icon:D.config.icon,refetchConnectionInstances:p,closeOtherModals:()=>a(null)},"cta-".concat(T,"-").concat(D.config.type)):D.config.type==="teams"&&M?t.jsx(Td,{connectorType:D.config.type,connectorName:s.formatMessage(D.config.nameMessage),description:s.formatMessage(D.config.taglineMessage),Icon:D.config.icon,refetchConnectionInstances:p,closeOtherModals:()=>a(null)},"cta-".concat(T,"-").concat(D.config.type)):t.jsx(Nn,{connectorType:D.config.type,connectorName:s.formatMessage(D.config.nameMessage),description:s.formatMessage(D.config.taglineMessage),Icon:D.config.icon,onClickConnect:()=>N(D.config.modalKey)},"cta-".concat(T,"-").concat(D.config.type))})]}),(()=>{const D=[];return y&&h.length>0&&D.push(t.jsx(Uo,{adminUserConnectionStatus:u==null?void 0:u.connection_statuses,accountId:n.id,connectorName:s.formatMessage({id:"oDI3Mt",defaultMessage:"Google Drive"}),connectorType:"google_drive",limits:g,onClickConnect:()=>N("google_drive"),refetchConnectionInstances:p,connectionInstancesLoading:r,connectionInstances:h,singularNounConnectedObjectName:Fo("google_drive_oauth",s).externalLinkableUnitSingular},"connected-google-drive")),j.forEach(T=>{T.availability==="available"&&T.connections.length>0&&D.push(t.jsx(Uo,{accountId:n.id,connectorType:T.config.type,connectorName:s.formatMessage(T.config.nameMessage),limits:T.limits,onClickConnect:()=>N(T.config.modalKey),connectionInstancesLoading:r,connectionInstances:T.connections,adminUserConnectionStatus:u==null?void 0:u.connection_statuses,refetchConnectionInstances:p,singularNounConnectedObjectName:Fo(T.config.type,s).externalLinkableUnitSingular,sharepointAdminConnectorEnabled:v,teamsAdminConnectorEnabled:M},"connected-".concat(T.config.type)))}),D.length===0?null:t.jsx("div",{className:se("mt-4 grid grid-cols-1 gap-4",D.length>1&&"lg:grid-cols-2"),children:D})})()]}),_.length>0&&t.jsx(Ed,{accountId:n.id,connectionInstancesLoading:r,connectionInstances:_,refetchConnectionInstances:p}),o==="google_drive"&&t.jsx(qa,{isDwdEnabled:b,onClose:E,triggerLocation:"admin_settings"}),o==="slack"&&t.jsx(oi,{onClose:E}),A?t.jsx(A,{onClose:E}):null]}):null}function Md(s){"use forget";const e=F.c(16),{shouldShowForehead:n,handleOpenModal:o}=s,a=te();let i;e[0]!==n?(i=n&&t.jsx("div",{className:"px-4 py-3 text-[13px] text-[#007AFF]",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Mn,{className:"icon"}),t.jsx(k,{id:"woNVMz",defaultMessage:"Syncing is required to use Google Drive in chat. {learnMore}",values:{learnMore:t.jsx(Ns,{href:Rs,className:"underline",onClick:Sd,children:t.jsx(k,{id:"WGpoE2",defaultMessage:"Learn more"})},"learnMore")}})]})}),e[0]=n,e[1]=i):i=e[1];const l=n?"border-token-border-light overflow-hidden rounded-t-xl border-t-[1px]":void 0;let c;e[2]!==a?(c=a.formatMessage({id:"oDI3Mt",defaultMessage:"Google Drive"}),e[2]=a,e[3]=c):c=e[3];let r;e[4]!==a?(r=a.formatMessage({id:"xlgXB9",defaultMessage:"Sync Docs, Sheets, Slides and other files"}),e[4]=a,e[5]=r):r=e[5];let d;e[6]!==o?(d=()=>o("google_drive"),e[6]=o,e[7]=d):d=e[7];let f;e[8]!==l||e[9]!==c||e[10]!==r||e[11]!==d?(f=t.jsx(Nn,{className:l,connectorName:c,connectorType:"google_drive",description:r,Icon:oo,onClickConnect:d}),e[8]=l,e[9]=c,e[10]=r,e[11]=d,e[12]=f):f=e[12];let u;return e[13]!==i||e[14]!==f?(u=t.jsxs("div",{className:"bg-token-interactive-bg-accent-inactive",children:[i,f]}),e[13]=i,e[14]=f,e[15]=u):u=e[15],u}function Sd(){return mo({link:Rs,location:"admin_settings_header"})}function Nd(s){"use forget";var f;const e=F.c(14);let n,o,a;e[0]!==s?(f=s,{refetchConnectionInstances:a,closeOtherModals:o}=f,n=Xt(f,["refetchConnectionInstances","closeOtherModals"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a):(n=e[1],o=e[2],a=e[3]);const i=Sn(a);let l;e[4]!==o||e[5]!==i?(l=i.canStart?()=>{o(),i.open()}:void 0,e[4]=o,e[5]=i,e[6]=l):l=e[6];const c=i.isLoading||!i.canStart;let r;e[7]!==n||e[8]!==l||e[9]!==c?(r=t.jsx(Nn,xe(I({},n),{onClickConnect:l,ctaIsLoading:c})),e[7]=n,e[8]=l,e[9]=c,e[10]=r):r=e[10];let d;return e[11]!==i.modals||e[12]!==r?(d=t.jsxs(t.Fragment,{children:[r,i.modals]}),e[11]=i.modals,e[12]=r,e[13]=d):d=e[13],d}function Td(s){"use forget";var f;const e=F.c(14);let n,o,a;e[0]!==s?(f=s,{refetchConnectionInstances:a,closeOtherModals:o}=f,n=Xt(f,["refetchConnectionInstances","closeOtherModals"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a):(n=e[1],o=e[2],a=e[3]);const i=ti(a);let l;e[4]!==o||e[5]!==i?(l=i.canStart?()=>{o(),i.open()}:void 0,e[4]=o,e[5]=i,e[6]=l):l=e[6];const c=i.isLoading||!i.canStart;let r;e[7]!==n||e[8]!==l||e[9]!==c?(r=t.jsx(Nn,xe(I({},n),{onClickConnect:l,ctaIsLoading:c})),e[7]=n,e[8]=l,e[9]=c,e[10]=r):r=e[10];let d;return e[11]!==i.modals||e[12]!==r?(d=t.jsxs(t.Fragment,{children:[r,i.modals]}),e[11]=i.modals,e[12]=r,e[13]=d):d=e[13],d}function Uo(s){"use forget";const e=F.c(32),{accountId:n,adminUserConnectionStatus:o,className:a,connectionInstances:i,connectionInstancesLoading:l,connectorName:c,connectorType:r,limits:d,onClickConnect:f,refetchConnectionInstances:u,singularNounConnectedObjectName:p,sharepointAdminConnectorEnabled:m,teamsAdminConnectorEnabled:h}=s,x=m===void 0?!1:m,y=h===void 0?!1:h,g=le();let b;e[0]!==g?(b=It(g),e[0]=g,e[1]=b):b=e[1];const C=b,j=i!=null&&!C&&(d.max_instances===Kr||i.length<d.max_instances);let _;e[2]!==i||e[3]!==r||e[4]!==x?(_=r==="sharepoint"&&x&&!(i!=null&&i.some(Pd)),e[2]=i,e[3]=r,e[4]=x,e[5]=_):_=e[5];const v=_;let M;e[6]!==i||e[7]!==r||e[8]!==y?(M=r==="teams"&&y&&!(i!=null&&i.some(Dd)),e[6]=i,e[7]=r,e[8]=y,e[9]=M):M=e[9];const w=M;let S;e[10]!==r||e[11]!==f?(S=()=>{Ut.logEventWithStatsig("Contextual Answers Admin Create Connection Button Clicked","chatgpt_contextual_answers_admin_create_connection_button_clicked",{connectorType:r}),f==null||f()},e[10]=r,e[11]=f,e[12]=S):S=e[12];const N=S;let E;e[13]!==a?(E=se("bg-token-bg-primary mt-2 flex w-full flex-col gap-4",a),e[13]=a,e[14]=E):E=e[14];let A;e[15]!==n||e[16]!==o||e[17]!==j||e[18]!==i||e[19]!==l||e[20]!==c||e[21]!==v||e[22]!==w||e[23]!==N||e[24]!==u||e[25]!==x||e[26]!==p||e[27]!==y?(A=l?t.jsx(Vs,{lines:2}):i!=null&&i.length?t.jsx(Ma,{children:t.jsxs("div",{className:"grid w-full gap-4",style:{gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[i.filter(Ad).map(T=>t.jsx(ni,{accountId:n,adminUserConnectionState:o==null?void 0:o.find(R=>R.user_connection_details.connection_instance_id===T.connection_config.connection_config_id),connectedKnowledgeSource:p,connection:T,connectorName:c,onCreateAnotherInstance:j?N:void 0,refetchConnectionInstances:u,showIcon:!0,sharepointAdminConnectorEnabled:x,teamsAdminConnectorEnabled:y,eligibleToCreateNewSharepointAdminConnection:v,eligibleToCreateNewTeamsAdminConnection:w},T.connection_config.connection_config_id)),i.length===1&&t.jsx("div",{},"grid-spacer")]})}):null,e[15]=n,e[16]=o,e[17]=j,e[18]=i,e[19]=l,e[20]=c,e[21]=v,e[22]=w,e[23]=N,e[24]=u,e[25]=x,e[26]=p,e[27]=y,e[28]=A):A=e[28];let D;return e[29]!==E||e[30]!==A?(D=t.jsx("div",{className:E,children:A}),e[29]=E,e[30]=A,e[31]=D):D=e[31],D}function Ad(s){return!["deleted","deleting"].includes(s.connection_status)}function Dd(s){return s.connection_config.knowledge_connector_type==="teams_admin"}function Pd(s){return s.connection_config.knowledge_connector_type==="sharepoint_admin"}function Nn(s){"use forget";const e=F.c(34),{badge:n,className:o,connectorName:a,connectorType:i,description:l,Icon:c,onClickConnect:r,ctaIsLoading:d}=s,f=d===void 0?!1:d,u=le();let p;e[0]!==u?(p=It(u),e[0]=u,e[1]=p):p=e[1];const m=p;let h;e[2]!==i||e[3]!==r?(h=()=>{Ut.logEventWithStatsig("Contextual Answers Admin Create Connection Button Clicked","chatgpt_contextual_answers_admin_create_connection_button_clicked",{connectorType:i}),r==null||r()},e[2]=i,e[3]=r,e[4]=h):h=e[4];const x=h,y=!r||f;let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Mn,{className:"icon text-[#007AFF]"}),t.jsx(k,{id:"FSQUDq",defaultMessage:"Enable Sync"})]}),e[5]=g):g=e[5];let b;e[6]!==f||e[7]!==x||e[8]!==y?(b=t.jsx(Z,{className:"text-nowrap",color:"secondary",onClick:x,disabled:y,loading:f,children:g}),e[6]=f,e[7]=x,e[8]=y,e[9]=b):b=e[9];const C=b;let j;e[10]!==o?(j=se("bg-token-bg-primary flex w-full flex-col gap-4","p-5",o),e[10]=o,e[11]=j):j=e[11];let _;e[12]!==c?(_=t.jsx("div",{className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm",children:t.jsx(c,{className:"icon-lg shrink-0"})}),e[12]=c,e[13]=_):_=e[13];let v;e[14]!==a?(v=t.jsx("p",{className:"text-primary",children:a}),e[14]=a,e[15]=v):v=e[15];let M;e[16]!==n||e[17]!==v?(M=t.jsxs("div",{className:"flex items-center gap-1",children:[v,n]}),e[16]=n,e[17]=v,e[18]=M):M=e[18];let w;e[19]!==l?(w=t.jsx("p",{className:"text-token-text-secondary text-sm",children:l}),e[19]=l,e[20]=w):w=e[20];let S;e[21]!==M||e[22]!==w?(S=t.jsxs("div",{className:"flex min-w-[240px] flex-1 flex-col gap-0.5",children:[M,w]}),e[21]=M,e[22]=w,e[23]=S):S=e[23];let N;e[24]!==C||e[25]!==m?(N=t.jsx("div",{className:"flex shrink-0 items-center",children:m?t.jsx(Ys,{children:C}):C}),e[24]=C,e[25]=m,e[26]=N):N=e[26];let E;e[27]!==S||e[28]!==N||e[29]!==_?(E=t.jsxs("div",{className:"flex w-full flex-row flex-wrap items-center gap-4",children:[_,S,N]}),e[27]=S,e[28]=N,e[29]=_,e[30]=E):E=e[30];let A;return e[31]!==E||e[32]!==j?(A=t.jsx("div",{className:j,children:E}),e[31]=E,e[32]=j,e[33]=A):A=e[33],A}function Ed({accountId:s,connectionInstances:e,connectionInstancesLoading:n,refetchConnectionInstances:o}){return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex w-full flex-col gap-4",children:n?t.jsx(Vs,{lines:2}):e!=null&&e.length?t.jsx(Ma,{children:t.jsxs("div",{className:"grid w-full gap-4",style:{gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[e.map(a=>t.jsx(ni,{connection:a,showIcon:!0,accountId:s,refetchConnectionInstances:o},a.connection_config.connection_config_id)),e.length===1&&t.jsx("div",{},"grid-spacer")]})}):null}),t.jsx(vd,{})]})}function ii(s){"use forget";const e=F.c(12),{badge:n,showDescription:o}=s,a=o===void 0?!0:o,i=te();let l;e[0]!==i?(l=i.formatMessage({id:"PzngEC",defaultMessage:"Synced connectors"}),e[0]=i,e[1]=l):l=e[1];let c;e[2]!==l?(c=t.jsx("span",{children:l}),e[2]=l,e[3]=c):c=e[3];let r;e[4]!==n||e[5]!==c?(r=t.jsxs(Jn,{className:"flex flex-row items-center gap-2",children:[c,n]}),e[4]=n,e[5]=c,e[6]=r):r=e[6];let d;e[7]!==a?(d=a&&t.jsx(Xn,{className:"text-token-text-secondary",children:t.jsx(k,{id:"Y9lNjg",defaultMessage:"ChatGPT syncs, indexes, and stores your organization's content for higher quality, up-to-date answers. {learnMore}",values:{learnMore:t.jsx(Ns,{href:Rs,className:"underline",onClick:Id,children:t.jsx(k,{id:"WGpoE2",defaultMessage:"Learn more"})},"learnMore")}})}),e[7]=a,e[8]=d):d=e[8];let f;return e[9]!==r||e[10]!==d?(f=t.jsxs("div",{children:[r,d]}),e[9]=r,e[10]=d,e[11]=f):f=e[11],f}function Id(){return mo({link:Rs,location:"admin_settings_header"})}const rn=s=>{try{return JSON.stringify(s,null,2)}catch(e){return null}},Rd=(s,e)=>{if(s==null||e==null)return{diffCount:{added:0,removed:0},diffComponent:null};let n=0;const o=(l,c="",r)=>t.jsx("div",{className:r,children:l.replace("/^.{0,".concat(c.length,"}/gm"),c)},"diff-block-".concat(n++)),a={added:0,removed:0},i=[];return Ya(s,e).forEach(l=>{const c=l.value.replace(/\n$/,"");l.added?(a.added+=c.split("\n").length,i.push(o(c,"+ ","text-green-600 dark:text-green-300"))):l.removed?(a.removed+=c.split("\n").length,i.push(o(c,"- ","text-red-500 dark:text-red-200"))):i.push(o(c))}),{diffCount:a,diffComponent:i.length?i:null}},li=s=>{"use forget";var U;const e=F.c(46),{action:n,actionDelta:o,prevAction:a,className:i,initiallyCollapsed:l}=s,c=l===void 0?!1:l,r=te();let d;e[0]!==n?(d=rn(n),e[0]=n,e[1]=d):d=e[1];const f=d,[u,p]=P.useState(c);let m;e:{if(o===1&&a){let W;e[2]!==n||e[3]!==a?(W=Rd(rn(n),rn(a)),e[2]=n,e[3]=a,e[4]=W):W=e[4],m=W;break e}let G;e[5]===Symbol.for("react.memo_cache_sentinel")?(G={diffCount:{added:0,removed:0},diffComponent:null},e[5]=G):G=e[5],m=G}const{diffCount:h,diffComponent:x}=m,y=u?"end-1/2 ltr:translate-x-1/2 rtl:-translate-x-1/2":"end-0";let g;e[6]!==y?(g=se(["absolute bottom-0 z-20 transition-all duration-150",y]),e[6]=y,e[7]=g):g=e[7];const b=u?"secondary":"ghost";let C;e[8]!==u?(C=()=>p(!u),e[8]=u,e[9]=C):C=e[9];const j=u?xa:Fa,_=!u&&"text-token-text-tertiary hover:text-token-text-primary";let v;e[10]!==_?(v=se(["m-2",_]),e[10]=_,e[11]=v):v=e[11];let M;e[12]!==u?(M=u?t.jsx(k,{id:"0PERAC",defaultMessage:"Expand"}):t.jsx("span",{className:"sr-only",children:t.jsx(k,{id:"KwNF2K",defaultMessage:"Collapse"})}),e[12]=u,e[13]=M):M=e[13];let w;e[14]!==v||e[15]!==M||e[16]!==b||e[17]!==C||e[18]!==j?(w=t.jsx(Z,{size:"small",color:b,onClick:C,icon:j,className:v,children:M}),e[14]=v,e[15]=M,e[16]=b,e[17]=C,e[18]=j,e[19]=w):w=e[19];let S;e[20]!==w||e[21]!==g?(S=t.jsx("div",{className:g,children:w}),e[20]=w,e[21]=g,e[22]=S):S=e[22];const N=u&&"opacity-100";let E;e[23]!==N?(E=se("from-token-bg-tertiary/30 to-token-bg-tertiary pointer-events-none absolute inset-0 z-10 h-full bg-gradient-to-b opacity-0 transition-opacity duration-150",N),e[23]=N,e[24]=E):E=e[24];let A;e[25]!==E?(A=t.jsx("div",{className:E,"aria-hidden":"true"}),e[25]=E,e[26]=A):A=e[26];const D=u?"max-h-24 cursor-pointer overflow-hidden select-none":"max-h-72 cursor-text overflow-auto select-text";let T;e[27]!==i||e[28]!==D?(T=se([i,D,"bg-token-bg-tertiary text-token-text-secondary w-full px-3 py-2 font-mono text-xs leading-5 whitespace-pre-wrap transition-all duration-150"]),e[27]=i,e[28]=D,e[29]=T):T=e[29];let R;e[30]===Symbol.for("react.memo_cache_sentinel")?(R=()=>p(!1),e[30]=R):R=e[30];let O;e[31]!==x||e[32]!==r||e[33]!==f?(O=(U=x!=null?x:f)!=null?U:r.formatMessage(yt.actionDetailsSerializationError),e[31]=x,e[32]=r,e[33]=f,e[34]=O):O=e[34];let L;e[35]!==T||e[36]!==O?(L=t.jsx("pre",{className:T,onClick:R,children:O}),e[35]=T,e[36]=O,e[37]=L):L=e[37];let z;e[38]!==h.added||e[39]!==h.removed?(z=h.added>0||h.removed>0?t.jsxs("div",{className:"bg-token-bg-primary/80 absolute end-2 top-2 z-30 flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-medium backdrop-blur-sm",children:[h.added>0&&t.jsxs("span",{className:"text-green-600 dark:text-green-500",children:["+",h.added]}),h.removed>0&&t.jsxs("span",{className:"text-red-500 dark:text-red-300",children:["-",h.removed]})]}):null,e[38]=h.added,e[39]=h.removed,e[40]=z):z=e[40];let $;return e[41]!==S||e[42]!==A||e[43]!==L||e[44]!==z?($=t.jsxs("div",{className:"action-details border-token-border-default relative overflow-hidden rounded-xl border",children:[S,A,L,z]}),e[41]=S,e[42]=A,e[43]=L,e[44]=z,e[45]=$):$=e[45],$},Wo=s=>{"use forget";const e=F.c(5),{children:n,className:o}=s;let a;e[0]!==o?(a=se(o,"items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase"),e[0]=o,e[1]=a):a=e[1];let i;return e[2]!==n||e[3]!==a?(i=t.jsx("span",{className:a,children:n}),e[2]=n,e[3]=a,e[4]=i):i=e[4],i},Od=s=>{"use forget";const e=F.c(2),{delta:n}=s;switch(n){case 0:{let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(Wo,{className:"border-blue-100 text-blue-500 dark:border-blue-800 dark:text-blue-200",children:t.jsx(k,{id:"5wPfIg",defaultMessage:"New"})}),e[0]=o):o=e[0],o}case 1:{let o;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(Wo,{className:"border-token-border-status-warning text-token-text-status-warning",children:t.jsx(k,{id:"vpGa1d",defaultMessage:"Modified"})}),e[1]=o):o=e[1],o}case 2:default:return null}},Ld=()=>{"use forget";const s=F.c(4);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx(Gt,{id:"action-toggle-skeleton",checked:!1,disabled:!0}),s[0]=e):e=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"flex-1 space-y-0.5",children:t.jsx(os,{})}),s[1]=n):n=s[1];let o;s[2]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("div",{className:"from-token-bg-tertiary/30 to-token-bg-tertiary absolute inset-0 z-10 h-full bg-gradient-to-b","aria-hidden":"true"}),s[2]=o):o=s[2];let a;return s[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsxs("li",{className:"border-token-border-default grid cursor-wait grid-cols-[auto_1fr] gap-4 p-4",children:[e,n,t.jsxs("div",{className:"border-token-border-default relative col-start-2 overflow-hidden rounded-xl border",children:[o,t.jsx("pre",{className:"bg-token-bg-tertiary h-24 w-full overflow-hidden px-3 py-2",children:t.jsx(os,{lines:4,heightSize:"sm",delay:.07})})]})]}),s[3]=a):a=s[3],a},Fd=s=>{"use forget";const e=F.c(69),{action:n,actionDelta:o,prevAction:a,isEnabled:i,onToggle:l,disabled:c}=s,r=c===void 0?!1:c;let d;if(e[0]!==n.name){let O;e[2]===Symbol.for("react.memo_cache_sentinel")?(O=/[^a-zA-Z0-9_-]/g,e[2]=O):O=e[2],d=n.name.replace(O,"-"),e[0]=n.name,e[1]=d}else d=e[1];const f=d,u="action-toggle-".concat(f);let p,m,h,x,y,g,b,C,j,_;if(e[3]!==n||e[4]!==r||e[5]!==i||e[6]!==l||e[7]!==u){const O=Ds(n);h="group",p=u;const L=r?"cursor-not-allowed":"cursor-pointer";e[18]!==L?(m=se(["border-token-border-default block border-b p-2 group-last:border-0",L]),e[18]=L,e[19]=m):m=e[19];const z=!r&&"group-hover:bg-token-bg-tertiary";e[20]!==z?(j=se("has-[.action-details:hover]:bg-token-bg-primary grid grid-cols-[auto_1fr] items-center gap-4 rounded-lg p-2 select-none",z),e[20]=z,e[21]=j):j=e[21];let $;e[22]!==n.name||e[23]!==l?($=W=>l(n.name,W.target.checked),e[22]=n.name,e[23]=l,e[24]=$):$=e[24],e[25]!==r||e[26]!==i||e[27]!==$||e[28]!==u?(_=t.jsx(Gt,{id:u,checked:i,onChange:$,disabled:r}),e[25]=r,e[26]=i,e[27]=$,e[28]=u,e[29]=_):_=e[29],C="flex-1 space-y-0.5",g="flex flex-wrap items-start gap-2";const U=r&&"text-token-text-secondary";let G;e[30]!==U?(G=se(["font-mono text-sm font-medium",U]),e[30]=U,e[31]=G):G=e[31],e[32]!==n.name||e[33]!==G?(b=t.jsx("div",{className:G,children:n.name}),e[32]=n.name,e[33]=G,e[34]=b):b=e[34],x="flex items-center gap-1 select-none",y=Ps({badgeKeys:O,labels:Es}),e[3]=n,e[4]=r,e[5]=i,e[6]=l,e[7]=u,e[8]=p,e[9]=m,e[10]=h,e[11]=x,e[12]=y,e[13]=g,e[14]=b,e[15]=C,e[16]=j,e[17]=_}else p=e[8],m=e[9],h=e[10],x=e[11],y=e[12],g=e[13],b=e[14],C=e[15],j=e[16],_=e[17];let v;e[35]!==o?(v=t.jsx(Od,{delta:o}),e[35]=o,e[36]=v):v=e[36];let M;e[37]!==v||e[38]!==x||e[39]!==y?(M=t.jsxs("div",{className:x,children:[y,v]}),e[37]=v,e[38]=x,e[39]=y,e[40]=M):M=e[40];let w;e[41]!==M||e[42]!==g||e[43]!==b?(w=t.jsxs("div",{className:g,children:[b,M]}),e[41]=M,e[42]=g,e[43]=b,e[44]=w):w=e[44];let S;e[45]!==n.description?(S=n.description?n.description:t.jsx(k,I({},yt.noDescription)),e[45]=n.description,e[46]=S):S=e[46];let N;e[47]!==S?(N=t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5",children:S}),e[47]=S,e[48]=N):N=e[48];let E;e[49]!==w||e[50]!==N||e[51]!==C?(E=t.jsxs("div",{className:C,children:[w,N]}),e[49]=w,e[50]=N,e[51]=C,e[52]=E):E=e[52];let A;e[53]!==n||e[54]!==o||e[55]!==a?(A=t.jsx("div",{className:"pointer-events-none col-start-2 min-w-0",onClick:Gd,children:t.jsx(li,{action:n,actionDelta:o,prevAction:a,initiallyCollapsed:!0,className:"pointer-events-auto"})}),e[53]=n,e[54]=o,e[55]=a,e[56]=A):A=e[56];let D;e[57]!==E||e[58]!==A||e[59]!==j||e[60]!==_?(D=t.jsxs("div",{className:j,children:[_,E,A]}),e[57]=E,e[58]=A,e[59]=j,e[60]=_,e[61]=D):D=e[61];let T;e[62]!==p||e[63]!==m||e[64]!==D?(T=t.jsx("label",{htmlFor:p,className:m,children:D}),e[62]=p,e[63]=m,e[64]=D,e[65]=T):T=e[65];let R;return e[66]!==h||e[67]!==T?(R=t.jsx("li",{className:h,children:T}),e[66]=h,e[67]=T,e[68]=R):R=e[68],R},Bd=s=>{var n;let e=0;for(const o of(n=rn(s))!=null?n:"")e=(e<<5)-e+o.charCodeAt(0),e|=0;return e},$d=(s,e)=>{"use forget";const n=F.c(4);if(!e){let a;return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Map,n[0]=a):a=n[0],a}let o;if(n[1]!==s||n[2]!==e){o=new Map;for(const a of s.entries()){const[i,l]=a,{hash:c}=l,r=e.get(i);r?r.hash!==c&&o.set(i,1):o.set(i,0)}n[1]=s,n[2]=e,n[3]=o}else o=n[3];return o},ri=s=>{"use forget";var Re;const e=F.c(84),{connector:n,onClose:o,onCancel:a,onConfirm:i,initialEnabledActions:l,showOverlayBackground:c,loading:r}=s,d=c===void 0?!0:c,f=r===void 0?!1:r,u=te();let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={forceEnable:!0},e[0]=p):p=e[0];const{actions:m,isLoading:h,refetch:x}=Kt(n,We.ADMIN_SETTING,p),[y,g]=P.useState(l);let b,C;e[1]!==m||e[2]!==h||e[3]!==y?(b=()=>{!h&&y===void 0&&g(new Set(m.filter(Ud).map(Wd)))},C=[h,m,y],e[1]=m,e[2]=h,e[3]=y,e[4]=b,e[5]=C):(b=e[4],C=e[5]),P.useEffect(b,C);let j;if(e[6]!==m){j=new Map;for(const me of m)j.set(me.name,{action:me,hash:Bd(me)});e[6]=m,e[7]=j}else j=e[7];const _=j;let v;e[8]!==_?(v=Array.from(_.keys()),e[8]=_,e[9]=v):v=e[9];const M=v,[w,S]=P.useState(null),N=$d(_,w);let E;e[10]!==N||e[11]!==y?(E=Array.from(N.entries().filter(qd)).map(Kd).filter(je=>!(y!=null&&y.has(je))),e[10]=N,e[11]=y,e[12]=E):E=e[12];const A=E;let D;if(e[13]!==N||e[14]!==m){let me;e[16]!==N?(me=(je,Ae)=>{var Be,Ue;const ze=(Be=N.get(je.name))!=null?Be:2,Ge=(Ue=N.get(Ae.name))!=null?Ue:2;return ze!==Ge?ze-Ge:je.name.localeCompare(Ae.name)},e[16]=N,e[17]=me):me=e[17],D=m.sort(me),e[13]=N,e[14]=m,e[15]=D}else D=e[15];const T=D,R=le();let O;e[18]!==R?(O=Xe(R),e[18]=R,e[19]=O):O=e[19];const L=O;let z;e[20]!==_||e[21]!==w||e[22]!==x?(z=async me=>{w||S(_),await Sa(me),await x()},e[20]=_,e[21]=w,e[22]=x,e[23]=z):z=e[23];let $;e[24]!==L?($=me=>{L.danger(yt.refreshActionsError,{error:me})},e[24]=L,e[25]=$):$=e[25];let U;e[26]!==z||e[27]!==$?(U={mutationFn:z,onError:$},e[26]=z,e[27]=$,e[28]=U):U=e[28];const G=qe(U);let W;e[29]===Symbol.for("react.memo_cache_sentinel")?(W={fetchValidLinksOnly:!0,productSku:We.CONNECTOR_SETTING},e[29]=W):W=e[29];const Y=xn(W);let V;e[30]!==n.id||e[31]!==Y.connectorLinks?(V=(Re=Y.connectorLinks.get(n.id))!=null?Re:[],e[30]=n.id,e[31]=Y.connectorLinks,e[32]=V):V=e[32];const J=V,Q=Ia(n)&&J.length>0;let X;e[33]!==u?(X=u.formatMessage(yt.actionsControlModalTitle),e[33]=u,e[34]=X):X=e[34];let B;e[35]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:t.jsx(k,xe(I({},yt.actionsDescription),{values:{link:Hd}}))}),e[35]=B):B=e[35];let K;e[36]!==M||e[37]!==m.length||e[38]!==(y==null?void 0:y.size)||e[39]!==f||e[40]!==G.isPending||e[41]!==A?(K=!f&&m.length===0?t.jsx("div",{}):t.jsxs("div",{className:"flex items-center",children:[!f&&m.length===(y==null?void 0:y.size)?t.jsx(Z,{color:"secondary",size:"small",onClick:()=>g(new Set),disabled:f||m.length===0||G.isPending,children:t.jsx(k,I({},yt.deselectAllLabel))}):t.jsx(Z,{color:"secondary",size:"small",onClick:()=>g(new Set(M)),className:se(A.length>0&&"rounded-e-none pe-2"),disabled:f||m.length===0||G.isPending,children:t.jsx(k,I({},yt.selectAllLabel))}),A.length>0&&t.jsx(Z,{size:"small",onClick:()=>g(me=>{const je=new Set(me);return A.forEach(Ae=>je.add(Ae)),je}),color:"custom",className:"rounded-s-none border border-blue-100 ps-2 text-blue-800 dark:border-blue-700 dark:text-blue-50",children:t.jsx(k,I({},yt.selectAllNewLabel))})]}),e[36]=M,e[37]=m.length,e[38]=y==null?void 0:y.size,e[39]=f,e[40]=G.isPending,e[41]=A,e[42]=K):K=e[42];let q;e[43]!==Q||e[44]!==J||e[45]!==f||e[46]!==G?(q=Q&&t.jsx(Z,{size:"small",color:"secondary",loading:G.isPending,disabled:f,onClick:()=>{G.mutate(J[0].id)},children:t.jsx(k,I({},yt.refreshLabel))}),e[43]=Q,e[44]=J,e[45]=f,e[46]=G,e[47]=q):q=e[47];let oe;e[48]!==K||e[49]!==q?(oe=t.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[K,q]}),e[48]=K,e[49]=q,e[50]=oe):oe=e[50];let ne;e[51]!==N||e[52]!==m.length||e[53]!==h||e[54]!==y||e[55]!==f||e[56]!==w||e[57]!==G.isPending||e[58]!==T?(ne=t.jsx("div",{className:"mt-1 flex-1",children:h&&!G.isPending?t.jsx("ul",{className:"border-token-border-default rounded-2xl border",children:t.jsx(Ld,{})}):m.length===0?t.jsx("p",{className:"text-token-text-tertiary my-4 text-center text-xs italic",children:t.jsx(k,I({},yt.noActionsLabel))}):t.jsx("ul",{className:"border-token-border-default rounded-2xl border",children:T.map(me=>{var je;return t.jsx(Fd,{action:me,actionDelta:N.get(me.name),prevAction:(je=w==null?void 0:w.get(me.name))==null?void 0:je.action,isEnabled:!!(y!=null&&y.has(me.name)),onToggle:(Ae,ze)=>{g(Ge=>{const Be=new Set(Ge);return ze?Be.add(Ae):Be.delete(Ae),Be})},disabled:f||G.isPending},me.name)})})}),e[51]=N,e[52]=m.length,e[53]=h,e[54]=y,e[55]=f,e[56]=w,e[57]=G.isPending,e[58]=T,e[59]=ne):ne=e[59];let H;e[60]!==oe||e[61]!==ne?(H=t.jsxs("div",{className:"overflow-y-auto p-4",children:[B,oe,ne]}),e[60]=oe,e[61]=ne,e[62]=H):H=e[62];const de=f||G.isPending;let fe;e[63]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(k,{id:"otQMlF",defaultMessage:"Cancel"}),e[63]=fe):fe=e[63];let ue;e[64]!==a||e[65]!==de?(ue=t.jsx(Z,{color:"secondary",onClick:a,disabled:de,children:fe}),e[64]=a,e[65]=de,e[66]=ue):ue=e[66];let pe;e[67]!==y||e[68]!==i?(pe=()=>i(Array.from(y!=null?y:[])),e[67]=y,e[68]=i,e[69]=pe):pe=e[69];let ye;e[70]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(k,{id:"b6Dv1o",defaultMessage:"Confirm"}),e[70]=ye):ye=e[70];let he;e[71]!==f||e[72]!==G.isPending||e[73]!==pe?(he=t.jsx(Z,{onClick:pe,loading:f,disabled:G.isPending,children:ye}),e[71]=f,e[72]=G.isPending,e[73]=pe,e[74]=he):he=e[74];let ve;e[75]!==ue||e[76]!==he?(ve=t.jsxs("div",{className:"border-token-border-default flex justify-end gap-2 border-t p-4",children:[ue,he]}),e[75]=ue,e[76]=he,e[77]=ve):ve=e[77];let Me;return e[78]!==o||e[79]!==d||e[80]!==X||e[81]!==H||e[82]!==ve?(Me=t.jsxs(Ie,{isOpen:!0,onClose:o,showOverlayBackground:d,testId:"modal-connector-actions-control",title:X,size:"xlarge",hasSeparator:!0,noPadding:!0,contentClassName:"flex flex-col max-h-[80vh]",children:[H,ve]}),e[78]=o,e[79]=d,e[80]=X,e[81]=H,e[82]=ve,e[83]=Me):Me=e[83],Me},zd=s=>{"use forget";const e=F.c(26),{workspaceId:n,connector:o,onClose:a}=s,i=te(),l=le();let c;e[0]!==l?(c=Xe(l),e[0]=l,e[1]=c):c=e[1];const r=c,d=St(),f=Zs();let u;e[2]!==o||e[3]!==f||e[4]!==d||e[5]!==n?(u=async j=>{await bn(o.id,n,j),f(),d.invalidateQueries({queryKey:["connector-actions",o.id]})},e[2]=o,e[3]=f,e[4]=d,e[5]=n,e[6]=u):u=e[6];let p;e[7]!==i||e[8]!==a||e[9]!==r?(p=()=>{r.success(i.formatMessage({id:"e4rdI6",defaultMessage:"Connector actions updated successfully."})),a()},e[7]=i,e[8]=a,e[9]=r,e[10]=p):p=e[10];let m;e[11]!==i||e[12]!==r?(m=()=>{r.danger(i.formatMessage({id:"WQJjjy",defaultMessage:"Failed to update connector actions. Please try again."}))},e[11]=i,e[12]=r,e[13]=m):m=e[13];let h;e[14]!==u||e[15]!==p||e[16]!==m?(h={mutationFn:u,onSuccess:p,onError:m},e[14]=u,e[15]=p,e[16]=m,e[17]=h):h=e[17];const{mutateAsync:x,isPending:y}=qe(h);let g;e[18]!==y||e[19]!==a?(g=()=>{y||a()},e[18]=y,e[19]=a,e[20]=g):g=e[20];const b=g;let C;return e[21]!==o||e[22]!==y||e[23]!==b||e[24]!==x?(C=t.jsx(ri,{connector:o,onClose:b,onCancel:b,onConfirm:x,loading:y}),e[21]=o,e[22]=y,e[23]=b,e[24]=x,e[25]=C):C=e[25],C},ci=s=>{"use forget";const e=F.c(47),{connector:n,onClose:o,onBack:a,showOverlayBackground:i,showBackButton:l}=s,c=i===void 0?!0:i,r=l===void 0?!1:l,d=te(),{actions:f}=Kt(n);let u,p,m,h,x,y,g,b,C,j,_,v,M,w,S;if(e[0]!==f||e[1]!==n.connector_type||e[2]!==n.developer_type||e[3]!==d||e[4]!==a||e[5]!==o||e[6]!==r||e[7]!==c){let A;e[23]!==n.connector_type?(A=R=>n.connector_type==="SERVICE"?R.is_read_only:!0,e[23]=n.connector_type,e[24]=A):A=e[24];const T=f.filter(A).toSorted(Qd);u=Ie,v=!0,M=o,w=a,e[25]!==d?(S=d.formatMessage(yt.actionDetailsTitle),e[25]=d,e[26]=S):S=e[26],p="xlarge",m=!0,h=r,x="modal-connector-action-details",y=!0,g="max-h-[600px]",b=c,C="space-y-6 p-2",e[27]!==n.developer_type?(j=n.developer_type==="UNTRUSTED"&&t.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:t.jsx(k,xe(I({},yt.actionsDescription),{values:{link:Yd}}))}),e[27]=n.developer_type,e[28]=j):j=e[28],_=T.length===0?t.jsx("p",{className:"text-token-text-tertiary text-xs italic",children:t.jsx(k,I({},yt.noActionsLabel))}):t.jsx("div",{className:"space-y-6",children:T.map(Vd)}),e[0]=f,e[1]=n.connector_type,e[2]=n.developer_type,e[3]=d,e[4]=a,e[5]=o,e[6]=r,e[7]=c,e[8]=u,e[9]=p,e[10]=m,e[11]=h,e[12]=x,e[13]=y,e[14]=g,e[15]=b,e[16]=C,e[17]=j,e[18]=_,e[19]=v,e[20]=M,e[21]=w,e[22]=S}else u=e[8],p=e[9],m=e[10],h=e[11],x=e[12],y=e[13],g=e[14],b=e[15],C=e[16],j=e[17],_=e[18],v=e[19],M=e[20],w=e[21],S=e[22];let N;e[29]!==C||e[30]!==j||e[31]!==_?(N=t.jsxs("div",{className:C,children:[j,_]}),e[29]=C,e[30]=j,e[31]=_,e[32]=N):N=e[32];let E;return e[33]!==u||e[34]!==p||e[35]!==m||e[36]!==h||e[37]!==x||e[38]!==y||e[39]!==g||e[40]!==b||e[41]!==N||e[42]!==v||e[43]!==M||e[44]!==w||e[45]!==S?(E=t.jsx(u,{isOpen:v,onClose:M,onBack:w,title:S,size:p,showCloseButton:m,showBackButton:h,testId:x,hasSeparator:y,className:g,showOverlayBackground:b,children:N}),e[33]=u,e[34]=p,e[35]=m,e[36]=h,e[37]=x,e[38]=y,e[39]=g,e[40]=b,e[41]=N,e[42]=v,e[43]=M,e[44]=w,e[45]=S,e[46]=E):E=e[46],E},yt=Ee({actionDetailsTitle:{id:"BCnPHp",defaultMessage:"Action details"},actionDetailsSerializationError:{id:"XmTk8D",defaultMessage:"Unable to display action details."},noDescription:{id:"6DgzBU",defaultMessage:"No description provided."},actionsDescription:{id:"cTL1rj",defaultMessage:"ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it. <link>Learn more about action discovery.</link>"},noActionsLabel:{id:"E5A9pn",defaultMessage:"No actions are available for this connector."},actionsControlModalTitle:{id:"jQc1vQ",defaultMessage:"Which actions should be available?"},selectAllLabel:{id:"zpjt2u",defaultMessage:"Select All"},deselectAllLabel:{id:"dAy+yd",defaultMessage:"Deselect All"},refreshLabel:{id:"HwjwOZ",defaultMessage:"Refresh"},selectAllNewLabel:{id:"HYzlJ0",defaultMessage:"Select New"},refreshActionsError:{id:"ljENLa",defaultMessage:"Failed to refresh connector actions"}});function Gd(s){s.stopPropagation(),s.preventDefault()}function Ud(s){return s.is_enabled}function Wd(s){return s.name}function qd(s){const[,e]=s;return e===0}function Kd(s){const[e]=s;return e}function Hd(s){return t.jsx(ct,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s},"custom-connector-banner-link")}function Qd(s,e){return Number(e.is_enabled)-Number(s.is_enabled)||s.name.localeCompare(e.name)}function Yd(s){return t.jsx(ct,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s},"custom-connector-banner-link")}function Vd(s){const e=Ds(s);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:se(["font-mono text-sm font-medium",s.is_enabled===!1&&"text-token-text-secondary"]),children:s.name}),Ps({badgeKeys:e,labels:Es})]}),s.description&&t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5",children:s.description})]}),t.jsx(li,{action:s})]},s.name)}const Zd=s=>{"use forget";const e=F.c(16),{isLoading:n,roles:o,onToggle:a,pendingIds:i,enabledIds:l}=s,c=te(),[r,d]=P.useState("");let f;e[0]!==c||e[1]!==o?(f=o==null?void 0:o.map(g=>{var b,C,j,_;return xe(I({},g),{displayText:g.role.predefined_role?c.formatMessage(Os.rolesModalWorkspaceDefaultRole):g.role.name,searchText:g.role.predefined_role?[c.formatMessage(Os.rolesModalWorkspaceDefaultRole).toLowerCase(),c.formatMessage(Os.rolesModalWorkspaceDefaultRoleBadge).toLowerCase(),(C=(b=g.role.description)==null?void 0:b.toLowerCase())!=null?C:""].join(" "):[g.role.name.toLowerCase(),(_=(j=g.role.description)==null?void 0:j.toLowerCase())!=null?_:""].join(" ")})}),e[0]=c,e[1]=o,e[2]=f):f=e[2];const u=f;let p;e[3]!==u?(p=u==null?void 0:u.sort(Jd),e[3]=u,e[4]=p):p=e[4];const m=p;let h;if(e[5]!==r||e[6]!==m){e:{const g=m!=null?m:[],b=r.trim().toLowerCase();if(!b){h=g;break e}h=g.filter(C=>C.searchText.includes(b))}e[5]=r,e[6]=m,e[7]=h}else h=e[7];const x=h;let y;return e[8]!==l||e[9]!==x||e[10]!==c||e[11]!==n||e[12]!==a||e[13]!==i||e[14]!==r?(y=t.jsx("div",{className:"flex flex-col gap-4 overflow-y-auto p-4",children:n?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(He,{})}):t.jsxs("div",{children:[t.jsx("div",{className:"mb-2",children:t.jsx(Hs,{name:"search",value:r,onChange:g=>d(g.target.value),icon:ao,iconPosition:"left",className:"w-full rounded-lg",inputClassName:"bg-token-bg-primary!",placeholder:c.formatMessage({id:"hhmvjo",defaultMessage:"Search by name or keyword"}),ariaLabel:c.formatMessage({id:"RS8Uk8",defaultMessage:"Search roles"})})}),t.jsx("ul",{children:x.length===0?t.jsx("div",{className:"text-token-text-tertiary px-4 py-10 text-center text-sm",children:t.jsx(k,{id:"bO3hZ+",defaultMessage:"No matching roles."})}):x.map(g=>{const b=l==null?void 0:l.has(g.role.id),C=i==null?void 0:i.has(g.role.id);return t.jsxs("li",{className:"border-token-border-default flex items-center justify-between gap-3 border-t py-3 first:border-t-0",children:[t.jsxs("div",{className:"flex flex-col",children:[g.role.predefined_role?t.jsxs("div",{className:"truncate text-sm font-medium",children:[c.formatMessage(Os.rolesModalWorkspaceDefaultRole),t.jsx("span",{className:"bg-token-bg-tertiary text-token-text-secondary mx-1.5 rounded-md px-1.5 py-0.5 text-xs",children:t.jsx(k,I({},Os.rolesModalWorkspaceDefaultRoleBadge))})]}):t.jsx("div",{className:"truncate text-sm font-medium",children:g.role.name}),g.role.description&&t.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:g.role.description})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[C?t.jsx(He,{className:"h-4 w-4"}):null,t.jsx(Us,{checked:b,onCheckedChange:j=>a(g.role.id,j),disabled:C,"aria-label":c.formatMessage({id:"8ejEtk",defaultMessage:"Enable {name}"},{name:g.role.name})})]})]},g.role.id)})})]})}),e[8]=l,e[9]=x,e[10]=c,e[11]=n,e[12]=a,e[13]=i,e[14]=r,e[15]=y):y=e[15],y},ho=s=>{"use forget";var _;const e=F.c(20),{connector:n,onClose:o,showOverlayBackground:a,onToggle:i,pendingIds:l,enabledIds:c,isLoading:r,roles:d,useConfirmation:f,onConfirm:u,onCancel:p}=s,m=a===void 0?!0:a,h=f===void 0?!1:f,x=te();let y;e[0]!==n.name||e[1]!==x?(y=x.formatMessage({id:"jH6gE6",defaultMessage:"Which roles can access {name}?"},{name:(_=n.name)!=null?_:"this connector"}),e[0]=n.name,e[1]=x,e[2]=y):y=e[2];const g=!h;let b;e[3]!==c||e[4]!==r||e[5]!==i||e[6]!==l||e[7]!==d?(b=t.jsx(Zd,{isLoading:r,roles:d,onToggle:i,pendingIds:l,enabledIds:c}),e[3]=c,e[4]=r,e[5]=i,e[6]=l,e[7]=d,e[8]=b):b=e[8];let C;e[9]!==p||e[10]!==u||e[11]!==h?(C=h&&t.jsxs("div",{className:"border-token-border-default flex justify-end gap-2 border-t p-4",children:[t.jsx(Z,{color:"secondary",onClick:p,children:t.jsx(k,{id:"otQMlF",defaultMessage:"Cancel"})}),t.jsx(Z,{onClick:u,children:t.jsx(k,{id:"b6Dv1o",defaultMessage:"Confirm"})})]}),e[9]=p,e[10]=u,e[11]=h,e[12]=C):C=e[12];let j;return e[13]!==o||e[14]!==m||e[15]!==y||e[16]!==g||e[17]!==b||e[18]!==C?(j=t.jsxs(Ie,{testId:"modal-roles-access",title:y,isOpen:!0,onClose:o,showCloseButton:g,size:"xlarge",showOverlayBackground:m,isScrollable:!1,contentClassName:"flex max-h-[80vh] min-h-0 flex-col",noPadding:!0,hasSeparator:!0,children:[b,C]}),e[13]=o,e[14]=m,e[15]=y,e[16]=g,e[17]=b,e[18]=C,e[19]=j):j=e[19],j},Tn=s=>{"use forget";var _;const e=F.c(21),{workspaceId:n,connector:o,onClose:a,showOverlayBackground:i}=s,l=i===void 0?!0:i;let c;e[0]!==o.id||e[1]!==n?(c={workspaceId:n,connectorId:o.id},e[0]=o.id,e[1]=n,e[2]=c):c=e[2];const{data:r,isLoading:d,refetch:f}=Is(c);let u;e[3]!==o.id||e[4]!==n?(u={workspaceId:n,connectorId:o.id},e[3]=o.id,e[4]=n,e[5]=u):u=e[5];const{updateConnectorRolePermission:p}=Er(u),[m,h]=P.useState(Xd);let x;e[6]!==(r==null?void 0:r.roles_with_permissions)?(x=new Set((_=r==null?void 0:r.roles_with_permissions.filter(ef).map(tf))!=null?_:[]),e[6]=r==null?void 0:r.roles_with_permissions,e[7]=x):x=e[7];const y=x;let g;e[8]!==f||e[9]!==p?(g=(v,M)=>{h(w=>new Set(w).add(v)),p({roleId:v,permissions:M?[Js.UseConnector]:[]}).finally(async()=>{await f(),h(w=>{const S=new Set(w);return S.delete(v),S})})},e[8]=f,e[9]=p,e[10]=g):g=e[10];const b=g,C=r==null?void 0:r.roles_with_permissions;let j;return e[11]!==o||e[12]!==y||e[13]!==d||e[14]!==a||e[15]!==m||e[16]!==l||e[17]!==C||e[18]!==b||e[19]!==n?(j=t.jsx(ho,{workspaceId:n,connector:o,onClose:a,showOverlayBackground:l,onToggle:b,pendingIds:m,enabledIds:y,isLoading:d,roles:C}),e[11]=o,e[12]=y,e[13]=d,e[14]=a,e[15]=m,e[16]=l,e[17]=C,e[18]=b,e[19]=n,e[20]=j):j=e[20],j},Os=Ee({rolesModalWorkspaceDefaultRole:{id:"uft0cC",defaultMessage:"Workspace"},rolesModalWorkspaceDefaultRoleBadge:{id:"VEokx9",defaultMessage:"Default"}});function Jd(s,e){return s.role.predefined_role?-1:e.role.predefined_role?1:s.displayText.localeCompare(e.displayText)}function Xd(){return new Set}function ef(s){return s.connector_permissions.includes(Js.UseConnector)}function tf(s){return s.role.id}const di=P.createContext({openedItem:null,onOpenItemChange:()=>{}}),fi=s=>{"use forget";const e=F.c(62),{title:n,id:o,checklistItems:a,children:i,checkedIds:l,onToggleCheckbox:c}=s,r=P.useContext(di),d=r.openedItem===o,f=a.every((V,J)=>l.has("".concat(o,"-").concat(J))),u=f?Qn.safetyDrawerReviewedSubtitle:Qn.safetyDrawerNotReviewedSubtitle;let p;e[0]!==r||e[1]!==o||e[2]!==d?(p=()=>r.onOpenItemChange(d?null:o),e[0]=r,e[1]=o,e[2]=d,e[3]=p):p=e[3];const m=f?"border-token-border-secondary":"bg-token-bg-status-warning text-token-text-status-warning border-orange-50 dark:border-orange-800";let h;e[4]!==m?(h=se("group -mb-[1px] w-full border-b p-2 text-start text-balance transition-colors focus:outline-none",m),e[4]=m,e[5]=h):h=e[5];const x=f?"group-hover:bg-token-bg-tertiary":"group-hover:border-orange-50 dark:group-hover:border-orange-800";let y;e[6]!==x?(y=se("flex w-full items-center justify-between gap-3 rounded-xl p-2",x),e[6]=x,e[7]=y):y=e[7];let g;e[8]!==n?(g=t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,I({},n))}),e[8]=n,e[9]=g):g=e[9];const b=f?"text-token-text-secondary":"text-token-text-status-warning";let C;e[10]!==b?(C=se("text-xs transition-colors",b),e[10]=b,e[11]=C):C=e[11];let j;e[12]!==u?(j=t.jsx(k,I({},u)),e[12]=u,e[13]=j):j=e[13];let _;e[14]!==C||e[15]!==j?(_=t.jsx("p",{className:C,children:j}),e[14]=C,e[15]=j,e[16]=_):_=e[16];let v;e[17]!==_||e[18]!==g?(v=t.jsxs("div",{className:"flex-1 space-y-0.5",children:[g,_]}),e[17]=_,e[18]=g,e[19]=v):v=e[19];const M=d&&"rotate-90",w=f?"text-token-text-secondary":"text-token-icon-status-warning";let S;e[20]!==M||e[21]!==w?(S=se("h-5 w-5 flex-shrink-0 transition-all",M,w),e[20]=M,e[21]=w,e[22]=S):S=e[22];let N;e[23]!==S?(N=t.jsx(pn,{className:S}),e[23]=S,e[24]=N):N=e[24];let E;e[25]!==v||e[26]!==N||e[27]!==y?(E=t.jsxs("div",{className:y,children:[v,N]}),e[25]=v,e[26]=N,e[27]=y,e[28]=E):E=e[28];let A;e[29]!==p||e[30]!==E||e[31]!==h?(A=t.jsx("button",{type:"button",onClick:p,className:h,children:E}),e[29]=p,e[30]=E,e[31]=h,e[32]=A):A=e[32];const D=d&&"grid-rows-[1fr]";let T;e[33]!==D?(T=se("grid grid-rows-[0fr] transition-all duration-200",D),e[33]=D,e[34]=T):T=e[34];const R=d?"":"invisible";let O;e[35]!==R?(O=se("overflow-hidden transition-all duration-200",R),e[35]=R,e[36]=O):O=e[36];let L;e[37]!==i?(L=i?t.jsx("div",{className:"mb-4",children:i}):null,e[37]=i,e[38]=L):L=e[38];let z;if(e[39]!==l||e[40]!==a||e[41]!==o||e[42]!==c){let V;e[44]!==l||e[45]!==o||e[46]!==c?(V=(J,Q)=>t.jsxs("label",{htmlFor:"".concat(o,"-").concat(Q),className:"flex cursor-pointer items-start gap-3 select-none",children:[t.jsx(Gt,{id:"".concat(o,"-").concat(Q),checked:l.has("".concat(o,"-").concat(Q)),className:"my-0.5",onChange:X=>c==null?void 0:c("".concat(o,"-").concat(Q),X.target.checked)}),t.jsx("div",{className:"text-sm font-medium",children:t.jsx(k,I({},J))})]},"".concat(o,"-").concat(Q)),e[44]=l,e[45]=o,e[46]=c,e[47]=V):V=e[47],z=a.map(V),e[39]=l,e[40]=a,e[41]=o,e[42]=c,e[43]=z}else z=e[43];let $;e[48]!==z?($=t.jsx("div",{className:"space-y-3",children:z}),e[48]=z,e[49]=$):$=e[49];let U;e[50]!==L||e[51]!==$?(U=t.jsxs("div",{className:"mx-4 my-3",children:[L,$]}),e[50]=L,e[51]=$,e[52]=U):U=e[52];let G;e[53]!==O||e[54]!==U?(G=t.jsx("div",{className:O,children:U}),e[53]=O,e[54]=U,e[55]=G):G=e[55];let W;e[56]!==T||e[57]!==G?(W=t.jsx("div",{className:T,children:G}),e[56]=T,e[57]=G,e[58]=W):W=e[58];let Y;return e[59]!==A||e[60]!==W?(Y=t.jsxs("li",{className:"has-[button:focus-visible]:ring-token-border-selected relative overflow-hidden border-x border-t border-orange-50 first-of-type:rounded-t-2xl last-of-type:rounded-b-2xl last-of-type:border-b has-[button:focus-visible]:z-10 has-[button:focus-visible]:ring-2 dark:border-orange-800",children:[A,W]}),e[59]=A,e[60]=W,e[61]=Y):Y=e[61],Y},ui=s=>{"use forget";const e=F.c(10),{details:n,actions:o}=s,a=le();if(!n&&!o)return null;let i;e[0]!==a?(i=yn(a,"2281575548").get("safety_url","https://platform.openai.com/docs/mcp#risks-and-safety"),e[0]=a,e[1]=i):i=e[1];const l=i;let c;e[2]!==n||e[3]!==l?(c=n?t.jsx("section",{children:t.jsx("p",{className:"text-token-text-secondary mt-1 text-sm text-pretty",children:t.jsx(k,xe(I({},n),{values:{link:f=>t.jsx(ct,{href:l,openNewTab:!0,className:"inline",children:f},"custom-connector-banner-link")}}))})}):null,e[2]=n,e[3]=l,e[4]=c):c=e[4];let r;e[5]!==o?(r=o?t.jsxs("section",{children:[t.jsx("p",{className:"text-sm font-semibold",children:t.jsx(k,I({},Qn.safetyDrawerActionsTitle))}),t.jsx("div",{className:"text-token-text-secondary mt-1 space-y-1 text-sm text-pretty",children:o.map(sf)})]}):null,e[5]=o,e[6]=r):r=e[6];let d;return e[7]!==c||e[8]!==r?(d=t.jsxs("div",{className:"space-y-4",children:[c,r]}),e[7]=c,e[8]=r,e[9]=d):d=e[9],d},mi=s=>{"use forget";const e=F.c(7),{children:n}=s,[o,a]=P.useState(null);let i;e[0]!==o?(i={openedItem:o,onOpenItemChange:a},e[0]=o,e[1]=i):i=e[1];let l;e[2]!==n?(l=t.jsx("ul",{children:n}),e[2]=n,e[3]=l):l=e[3];let c;return e[4]!==i||e[5]!==l?(c=t.jsx(di.Provider,{value:i,children:l}),e[4]=i,e[5]=l,e[6]=c):c=e[6],c},Qn=Ee({safetyDrawerReviewedSubtitle:{id:"7SnbTn",defaultMessage:"Reviewed"},safetyDrawerNotReviewedSubtitle:{id:"L70LNQ",defaultMessage:"Not reviewed"},safetyDrawerActionsTitle:{id:"oxykCH",defaultMessage:"What you can do about it"},learnMore:{id:"mHJmgS",defaultMessage:"Learn more"}});function sf(s,e){return t.jsx("p",{children:t.jsx(k,I({},s))},e)}const nf=s=>{"use forget";const e=F.c(11),{title:n,connectorIcon:o,onClose:a}=s;let i;e[0]!==a?(i=t.jsx("div",{className:"flex justify-end",children:t.jsx(Cn,{onClick:a})}),e[0]=a,e[1]=i):i=e[1];let l;e[2]!==n?(l=t.jsx("div",{className:"mt-3 text-center text-xl font-semibold text-balance",children:n}),e[2]=n,e[3]=l):l=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"text-token-text-tertiary mt-3 text-center text-sm text-balance",children:t.jsx(k,I({},we.publishDescription))}),e[4]=c):c=e[4];let r;e[5]!==o||e[6]!==l?(r=t.jsxs("div",{className:"my-4 flex flex-col items-center",children:[o,l,c]}),e[5]=o,e[6]=l,e[7]=r):r=e[7];let d;return e[8]!==i||e[9]!==r?(d=t.jsxs(t.Fragment,{children:[i,r]}),e[8]=i,e[9]=r,e[10]=d):d=e[10],d},Bn=s=>{"use forget";var f;const e=F.c(15);let n,o,a,i;e[0]!==s?(f=s,{children:n,className:o,onClick:a}=f,i=Xt(f,["children","className","onClick"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=i):(n=e[1],o=e[2],a=e[3],i=e[4]);let l;e[5]!==n||e[6]!==o?(l=t.jsx("div",{className:o,children:n}),e[5]=n,e[6]=o,e[7]=l):l=e[7];let c;e[8]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(pn,{className:"text-token-text-secondary h-5 w-5 flex-shrink-0"}),e[8]=c):c=e[8];let r;e[9]!==l?(r=t.jsx("div",{className:"border-token-border-default mx-2 border-b py-2 group-last:border-0",children:t.jsxs("div",{className:"group-hover:bg-token-bg-tertiary flex items-center justify-between gap-2 rounded-lg p-2",children:[l,c]})}),e[9]=l,e[10]=r):r=e[10];let d;return e[11]!==a||e[12]!==i||e[13]!==r?(d=t.jsx("li",{className:"group",children:t.jsx("button",xe(I({className:"focus-visible:ring-token-border-selected w-full text-start group-first-of-type:rounded-t-2xl group-last-of-type:rounded-b-2xl focus-visible:ring-2 focus-visible:outline-none",onClick:a},i),{children:r}))}),e[11]=a,e[12]=i,e[13]=r,e[14]=d):d=e[14],d},of=s=>{"use forget";const e=F.c(6),{className:n,children:o,showBackground:a}=s,l=(a===void 0?!0:a)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let c;e[0]!==n||e[1]!==l?(c=se("fixed inset-0 z-10",l,n),e[0]=n,e[1]=l,e[2]=c):c=e[2];let r;return e[3]!==o||e[4]!==c?(r=t.jsx("div",{className:c,children:o}),e[3]=o,e[4]=c,e[5]=r):r=e[5],r},qo=s=>{"use forget";const e=F.c(5),{title:n}=s;let o;e[0]!==n?(o=t.jsx("p",{className:"pb-0.5 text-sm font-medium",children:n}),e[0]=n,e[1]=o):o=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(os,{heightSize:"sm",lines:2}),e[2]=a):a=e[2];let i;return e[3]!==o?(i=t.jsxs("li",{className:"text-token-text-secondary m-4 space-y-1 text-sm select-none",children:[o,a]}),e[3]=o,e[4]=i):i=e[4],i};function Ko(s){return e=>{s(n=>{const o=new Set(n);return o.has(e)?o.delete(e):o.add(e),o})}}const pi=s=>{"use forget";var Ve,ce,ae;const e=F.c(54),{workspaceId:n,workspaceName:o,connector:a,onPublish:i,onClose:l,onCancel:c,showOverlayBackground:r}=s,d=r===void 0?!0:r,f=le(),u=te();let p;e[0]!==f?(p=Xe(f),e[0]=f,e[1]=p):p=e[1];const m=p;let h;e[2]!==a.id||e[3]!==n?(h={workspaceId:n,connectorId:a.id},e[2]=a.id,e[3]=n,e[4]=h):h=e[4];const{data:x,isLoading:y}=Is(h);let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g={forceEnable:!0},e[5]=g):g=e[5];const{actions:b,isLoading:C}=Kt(a,We.ADMIN_SETTING,g);let j;e[6]!==f?(j=jt(f),e[6]=f,e[7]=j):j=e[7];const _=j;let v;e[8]!==f?(v=jn(f),e[8]=f,e[9]=v):v=e[9];const M=v;let w;e[10]!==f?(w=yn(f,"2281575548").get("docs_url","https://platform.openai.com/docs/mcp"),e[10]=f,e[11]=w):w=e[11];const S=w;let N;e[12]===Symbol.for("react.memo_cache_sentinel")?(N=new Set,e[12]=N):N=e[12];const[E,A]=P.useState(N);let D;e[13]===Symbol.for("react.memo_cache_sentinel")?(D=new Set,e[13]=D):D=e[13];const[T,R]=P.useState(D),[O,L]=P.useState(void 0);let z,$;e[14]!==b||e[15]!==C||e[16]!==O?(z=()=>{if(!C&&O===void 0)L(new Set(b.map(af)));else if(!C){const re=new Set;b.forEach(Ce=>{O!=null&&O.has(Ce.name)&&re.add(Ce.name)}),re.size!==(O==null?void 0:O.size)&&L(re)}},$=[C,b,O],e[14]=b,e[15]=C,e[16]=O,e[17]=z,e[18]=$):(z=e[17],$=e[18]),P.useEffect(z,$);const U=((ce=(Ve=x==null?void 0:x.roles_with_permissions)==null?void 0:Ve.length)!=null?ce:0)>1;let G;e[19]!==M||e[20]!==O||e[21]!==E||e[22]!==U||e[23]!==_||e[24]!==i?(G=()=>i({actions:M?O:void 0,roles:_&&U?E:void 0}),e[19]=M,e[20]=O,e[21]=E,e[22]=U,e[23]=_,e[24]=i,e[25]=G):G=e[25];let W;e[26]!==l?(W=()=>{l()},e[26]=l,e[27]=W):W=e[27];let Y;e[28]!==u||e[29]!==m?(Y=re=>{m.danger(u.formatMessage(we.publishConnectorFailed,{errorMessage:re.message}),{id:"connector_publish_modal"})},e[28]=u,e[29]=m,e[30]=Y):Y=e[30];let V;e[31]!==G||e[32]!==W||e[33]!==Y?(V={mutationFn:G,onSuccess:W,onError:Y},e[31]=G,e[32]=W,e[33]=Y,e[34]=V):V=e[34];const{mutate:J,isPending:Q}=qe(V);let X;e[35]!==Q||e[36]!==l?(X=()=>{Q||l()},e[35]=Q,e[36]=l,e[37]=X):X=e[37];const B=X;let K;e[38]!==Q||e[39]!==c||e[40]!==l?(K=()=>{Q||(c?c():l())},e[38]=Q,e[39]=c,e[40]=l,e[41]=K):K=e[41];const q=K;let oe;e[42]!==a.name||e[43]!==u||e[44]!==o?(oe=u.formatMessage(we.publishConnectorTitle,{connector:a.name,workspace:o!=null?o:u.formatMessage(we.workspaceDefault)}),e[42]=a.name,e[43]=u,e[44]=o,e[45]=oe):oe=e[45];const ne=oe,[H,de]=P.useState(!1),[fe,ue]=P.useState(!1),[pe,ye]=P.useState(!1);let he;e[46]!==T?(he=()=>{A(new Set(T)),ye(!1)},e[46]=T,e[47]=he):he=e[47];const ve=he;let Me;e[48]!==E?(Me=()=>{R(new Set(E)),ye(!1)},e[48]=E,e[49]=Me):Me=e[49];const Re=Me,me=[{title:we.safetyDrawerRiskOneTitle,details:we.safetyDrawerRiskOneDetail,actions:[we.safetyDrawerRiskOneActionConfigureAccess],checklist:[we.safetyDrawerRiskOneAcknowledgeLabel]},{title:we.safetyDrawerRiskTwoTitle,details:we.safetyDrawerRiskTwoDetail,actions:[we.safetyDrawerRiskTwoActionTrustCompanies,we.safetyDrawerRiskTwoActionReviewParameters],checklist:[we.safetyDrawerRiskTwoTrustLabel,we.safetyDrawerRiskTwoReviewLabel]}];b.filter(re=>O==null?void 0:O.has(re.name)).some(lf)&&me.push({title:we.safetyDrawerRiskThreeTitle,details:we.safetyDrawerRiskThreeDetail,actions:[we.safetyDrawerRiskTwoActionTrustCompanies,we.safetyDrawerRiskThreeEducateUsers],checklist:[we.safetyDrawerRiskTwoTrustLabel]});let Ae;e[50]===Symbol.for("react.memo_cache_sentinel")?(Ae=new Set,e[50]=Ae):Ae=e[50];const[ze,Ge]=P.useState(Ae),Be=me.reduce(rf,0)===ze.size,Ue=fe?t.jsx(ri,{showOverlayBackground:!1,connector:a,onClose:()=>{ue(!1),B()},onCancel:()=>ue(!1),onConfirm:re=>{L(new Set(re)),ue(!1)},initialEnabledActions:O,loading:C}):H?t.jsx(ci,{connector:a,onClose:()=>{de(!1),B()},onBack:()=>de(!1),showOverlayBackground:!1,showBackButton:!0}):pe?t.jsx(ho,{connector:a,workspaceId:n,onClose:()=>{ye(!1),B()},showOverlayBackground:!1,onToggle:Ko(R),enabledIds:T,isLoading:y,roles:x==null?void 0:x.roles_with_permissions,useConfirmation:!0,onConfirm:ve,onCancel:Re}):t.jsxs(Ie,{testId:"modal-publish-connector",isOpen:!0,onClose:B,size:"custom",className:"max-w-[448px]",contentClassName:"max-h-[90vh] flex flex-col",showOverlayBackground:!1,visuallyHiddenHeader:!0,title:ne,noPadding:!0,children:[t.jsxs("div",{className:"overflow-y-auto p-4",children:[t.jsx(nf,{title:ne,connectorIcon:t.jsx(zt,{connector:a,size:"large",className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm"}),onClose:l}),t.jsxs("div",{className:"mt-6 space-y-2",children:[t.jsxs("ul",{className:"border-token-border-default rounded-2xl border",children:[C?t.jsx("div",{className:"border-token-border-default border-b",children:t.jsx(qo,{title:u.formatMessage(we.accessControlTitle)})}):M?t.jsxs(Bn,{className:"space-y-0.5",onClick:()=>ue(!0),children:[t.jsx("p",{className:"pb-0.5 text-sm font-medium",children:t.jsx(k,I({},we.configureActionsTitle))}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:u.formatMessage(we.configureActionsActionCountDescription,{actionCount:(ae=O==null?void 0:O.size)!=null?ae:0})})]}):t.jsxs(Bn,{className:"space-y-1",onClick:()=>de(!0),children:[t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,I({},we.reviewActionsTitle))}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,I({},we.reviewActionsDescription))})]}),y?t.jsx(qo,{title:u.formatMessage(we.accessControlTitle)}):U&&_?t.jsxs(Bn,{className:"space-y-1",onClick:()=>ye(!0),children:[t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,I({},we.accessControlTitle))}),t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,I({},we.accessControlDescription))}),t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:E.size===(x==null?void 0:x.roles_with_permissions.length)?t.jsx(k,I({},we.accessControlAllRolesDescription)):t.jsx(k,xe(I({},we.accessControlRoleCountDescription),{values:{roleCount:E.size}}))})]})]}):t.jsxs("li",{className:"text-token-text-secondary m-4 space-y-0.5 text-sm select-none",children:[t.jsx("p",{className:"pb-0.5 text-sm font-medium",children:t.jsx(k,I({},we.accessControlTitle))}),t.jsx("p",{className:"text-xs text-pretty",children:t.jsx(k,I({},we.accessControlNoRolesDescription))})]})]}),t.jsx(mi,{children:me.map((re,Ce)=>t.jsx(fi,{id:"risk-".concat(Ce),title:re.title,checklistItems:re.checklist,checkedIds:ze,onToggleCheckbox:Ko(Ge),children:t.jsx(ui,{details:re.details,actions:re.actions})},Ce))})]})]}),t.jsxs("div",{className:"border-t-token-border-default flex items-center justify-between border-t p-4",children:[t.jsx("div",{className:"text-md flex items-center gap-2",children:t.jsxs(ct,{href:S,openNewTab:!0,className:"text-token-text-tertiary hover:text-token-text-secondary flex items-center text-sm",children:[t.jsx(ya,{className:"me-1.5 inline h-4.5 w-4.5"}),t.jsx(k,I({},we.docLinkText))]})}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{size:"medium",color:"secondary",onClick:q,disabled:Q,children:t.jsx(k,I({},we.cancel))}),t.jsx(Z,{size:"medium",onClick:()=>J(),loading:Q,disabled:y||!Be||M&&(O==null?void 0:O.size)===0||_&&U&&E.size===0,children:t.jsx(k,I({},we.publishConnector))})]})]})]});let Ke;return e[51]!==d||e[52]!==Ue?(Ke=t.jsx(_n,{children:t.jsx(of,{showBackground:d,children:Ue})}),e[51]=d,e[52]=Ue,e[53]=Ke):Ke=e[53],Ke},we=Ee({publishConnectorTitle:{id:"dXRT25",defaultMessage:"Publish {connector} to {workspace}"},workspaceDefault:{id:"/UQR0X",defaultMessage:"your workspace"},publishConnector:{id:"CW1kwc",defaultMessage:"Publish"},publishedConnector:{id:"e4goKp",defaultMessage:"Connector published"},publishDescription:{id:"kS7TbY",defaultMessage:"Make this connector available for members of your workspace to use."},accessControlTitle:{id:"5DJM3G",defaultMessage:"Configure access"},accessControlDescription:{id:"3+YWco",defaultMessage:"Allow specific roles to use this connector"},toolCapabilitiesTitle:{id:"g55uS4",defaultMessage:"Connector actions"},toolCapabilitiesSubtitle:{id:"semSOO",defaultMessage:"Self-reported by the connector developer"},noDescription:{id:"w1pW20",defaultMessage:"No description provided"},cancel:{id:"DMSCQW",defaultMessage:"Cancel"},reviewActionsTitle:{id:"+iMOux",defaultMessage:"Review all actions"},reviewActionsDescription:{id:"Lz7MGj",defaultMessage:"Review each action carefully before publishing this connector. ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it."},accessControlNoRolesDescription:{id:"bbyojw",defaultMessage:"This connector will be available to all members of your workspace."},accessControlRoleCountDescription:{id:"TFi58c",defaultMessage:"{roleCount, plural, one {# role is} other {# roles are}} currently selected"},accessControlAllRolesDescription:{id:"dWrZqH",defaultMessage:"All roles are currently selected"},publishConnectorFailed:{id:"PDwmNB",defaultMessage:"Failed to publish connector. {errorMessage}"},docLinkText:{id:"qREuwl",defaultMessage:"Read the docs"},configureActionsTitle:{id:"LkD7fK",defaultMessage:"Configure actions"},configureActionsActionCountDescription:{id:"tiTLHs",defaultMessage:"Select which actions should be available to users of this connector. {actionCount, plural, one {# action is} other {# actions are}} currently enabled."},safetyDrawerRiskOneTitle:{id:"m6QJI0",defaultMessage:"Review potential risk: Unauthorized data access"},safetyDrawerRiskOneDetail:{id:"nnVKiY",defaultMessage:"Attackers may use prompt injections to affect conversations your enterprise users have, to trick ChatGPT into fetching sensitive data from this connector and sending it to the attacker. <link>Learn more</link>"},safetyDrawerRiskOneActionConfigureAccess:{id:"jGF/Y3",defaultMessage:"Configure access to minimize how many people have access. If possible, audit usage of this connector for security issues."},safetyDrawerRiskOneAcknowledgeLabel:{id:"KwKSY3",defaultMessage:"I understand"},safetyDrawerRiskTwoTitle:{id:"jBcbJi",defaultMessage:"Review potential risk: Malicious connector"},safetyDrawerRiskTwoDetail:{id:"cju6Ji",defaultMessage:"OpenAI hasn't reviewed this connector. If it is malicious, it may attempt to use attacks like prompt injections to access and obtain sensitive data from your enterprise's users. <link>Learn more</link>"},safetyDrawerRiskTwoActionTrustCompanies:{id:"24Evy+",defaultMessage:"Only use connectors from companies that you trust."},safetyDrawerRiskTwoActionReviewParameters:{id:"iUc6bM",defaultMessage:"Review the parameters being sent as input to each action carefully, and ensure that they are not requesting sensitive data that they shouldn't."},safetyDrawerRiskTwoTrustLabel:{id:"mmFb8M",defaultMessage:"I trust this connector"},safetyDrawerRiskTwoReviewLabel:{id:"jHal9A",defaultMessage:"I have reviewed the parameters being sent to each action and they do not request sensitive data that they shouldn't."},safetyDrawerRiskThreeTitle:{id:"MQOb6W",defaultMessage:"Review potential risk: Phishing"},safetyDrawerRiskThreeDetail:{id:"TskvU3",defaultMessage:"A malicious app may attempt to present a widget resembling a login page to obtain user credentials"},safetyDrawerRiskThreeEducateUsers:{id:"oOMcCw",defaultMessage:"Educate users about the risks of phishing and how to avoid it."},safetyDrawerRiskThreeAcknowledgeLabel:{id:"XXQffO",defaultMessage:"I understand"},refreshActionsError:{id:"ljENLa",defaultMessage:"Failed to refresh connector actions"}});function af(s){return s.name}function lf(s){var e;return(e=s.templates)==null?void 0:e.length}function rf(s,e){return s+e.checklist.length}const cf=s=>{"use forget";var u,p,m,h,x,y,g;const e=F.c(15),{connector:n}=s,o=te();let a;e[0]!==((u=n.branding)==null?void 0:u.developer)||e[1]!==((p=n.branding)==null?void 0:p.is_discoverable_app)||e[2]!==o?(a=(m=n.branding)!=null&&m.is_discoverable_app?null:(x=(h=n.branding)==null?void 0:h.developer)!=null?x:o.formatMessage(pt.unknownDeveloperLabel),e[0]=(y=n.branding)==null?void 0:y.developer,e[1]=(g=n.branding)==null?void 0:g.is_discoverable_app,e[2]=o,e[3]=a):a=e[3];const i=a;let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("h4",{className:"text-md font-regular",children:t.jsx(k,I({},pt.connectorInformationTitle))}),e[4]=l):l=e[4];let c;e[5]!==n.created_at?(c=n.created_at&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},pt.createdAtLabel))}),t.jsx("td",{className:"align-top",children:new Date(n.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),e[5]=n.created_at,e[6]=c):c=e[6];let r;e[7]!==i?(r=i&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},pt.developerLabel))}),t.jsx("td",{className:"align-top",children:i})]}),e[7]=i,e[8]=r):r=e[8];let d;e[9]!==n.base_url?(d=n.base_url&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},pt.urlLabel))}),t.jsx("td",{className:"align-top",children:n.base_url})]}),e[9]=n.base_url,e[10]=d):d=e[10];let f;return e[11]!==c||e[12]!==r||e[13]!==d?(f=t.jsxs("div",{className:"space-y-1",children:[l,t.jsx("table",{className:"w-full table-auto border-separate border-spacing-y-2 text-xs",children:t.jsxs("tbody",{children:[c,r,d]})})]}),e[11]=c,e[12]=r,e[13]=d,e[14]=f):f=e[14],f},df=s=>{"use forget";const e=F.c(22),{connector:n,onSeeDetails:o}=s,a=te();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={forceEnable:!0},e[0]=i):i=e[0];const{actions:l,isLoading:c}=Kt(n,We.ADMIN_SETTING,i);let r;if(e[1]!==l||e[2]!==n.connector_type||e[3]!==n.developer_type||e[4]!==a||e[5]!==c||e[6]!==o){let d;e[8]!==n.connector_type?(d=g=>n.connector_type==="SERVICE"?g.is_read_only:!0,e[8]=n.connector_type,e[9]=d):d=e[9];const u=l.filter(d).toSorted(uf);let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx("h4",{className:"text-md font-regular",children:t.jsx(k,I({},pt.actionsTitle))}),e[10]=p):p=e[10];let m;e[11]!==n.developer_type?(m=n.developer_type==="UNTRUSTED"&&t.jsx("p",{className:"text-token-text-secondary text-sm leading-5 text-pretty",children:t.jsx(k,I({},pt.actionsDescription))}),e[11]=n.developer_type,e[12]=m):m=e[12];let h;e[13]!==m?(h=t.jsxs("div",{className:"space-y-1",children:[p,m]}),e[13]=m,e[14]=h):h=e[14];let x;e[15]!==l.length||e[16]!==c||e[17]!==o?(x=l.length>0&&t.jsx(Z,{size:"small",color:"secondary",onClick:o,disabled:c,children:t.jsx(k,I({},pt.actionsSeeDetailsButton))}),e[15]=l.length,e[16]=c,e[17]=o,e[18]=x):x=e[18];let y;e[19]!==h||e[20]!==x?(y=t.jsxs("div",{className:"flex items-start justify-between gap-6",children:[h,x]}),e[19]=h,e[20]=x,e[21]=y):y=e[21],r=t.jsxs("div",{className:"space-y-5",children:[y,c?t.jsx("div",{className:"flex justify-center py-4",children:t.jsx(He,{})}):l.length===0?t.jsx("p",{className:"text-token-text-tertiary text-xs italic",children:t.jsx(k,I({},pt.noActionsLabel))}):t.jsx("ul",{className:"flex flex-col gap-4",children:u.map(g=>{const b=Ds(g);return t.jsxs("li",{className:"space-y-0.5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:se(["font-mono text-sm font-medium",!g.is_enabled&&"text-token-text-tertiary"]),children:g.name}),!g.is_enabled&&t.jsx(Ts,{label:a.formatMessage(pt.disabledAction),children:t.jsx(Va,{className:"icon text-token-text-tertiary h-4 w-4"})})]}),Ps({badgeKeys:b,labels:Es})]}),t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5 text-pretty",children:g.description?g.description:t.jsx(k,I({},pt.actionNoDescription))})]},g.name)})})]}),e[1]=l,e[2]=n.connector_type,e[3]=n.developer_type,e[4]=a,e[5]=c,e[6]=o,e[7]=r}else r=e[7];return r},ff=s=>{"use forget";const e=F.c(5),{className:n,children:o}=s;let a;e[0]!==n?(a=se("fixed inset-0 z-10","before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0",n),e[0]=n,e[1]=a):a=e[1];let i;return e[2]!==o||e[3]!==a?(i=t.jsx("div",{className:a,children:o}),e[2]=o,e[3]=a,e[4]=i):i=e[4],i},gi=s=>{"use forget";const e=F.c(9),{connector:n,workspaceId:o,workspaceName:a,onClose:i,onPublish:l}=s,c=te(),[r,d]=P.useState(!1),[f,u]=P.useState(!1);let p;return e[0]!==n||e[1]!==c||e[2]!==i||e[3]!==l||e[4]!==f||e[5]!==r||e[6]!==o||e[7]!==a?(p=t.jsx(_n,{children:t.jsx(ff,{children:r&&l?t.jsx(pi,{workspaceId:o,workspaceName:a,connector:n,onClose:()=>{d(!1),i()},onCancel:()=>d(!1),onPublish:l,showOverlayBackground:!1}):f?t.jsx(ci,{connector:n,onClose:()=>{u(!1),i()},onBack:()=>u(!1),showOverlayBackground:!1,showBackButton:!0}):t.jsx(Ie,{isOpen:!0,onClose:()=>{i()},title:c.formatMessage(pt.connectorDetailsTitle),size:"xlarge",showCloseButton:!0,testId:"modal-connector-details",hasSeparator:!0,className:"max-h-[600px]",showOverlayBackground:!1,children:t.jsxs("div",{className:"space-y-2 p-2",children:[t.jsxs("div",{className:"border-token-border flex items-center justify-between gap-4 border-b pt-2 pb-8",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(zt,{connector:n,size:"large",className:"h-fit flex-shrink-0 rounded-xl border-[0.5px] p-2 shadow-sm"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg leading-none font-semibold",children:n.name}),n.description&&t.jsx("span",{className:"text-token-text-tertiary text-sm",children:n.description})]})]}),n.developer_type==="UNTRUSTED"&&(n.status==="ONLY_ME"?t.jsx("div",{className:"flex gap-2",children:t.jsx(Z,{onClick:()=>l&&d(!0),size:"medium",children:t.jsx(k,I({},pt.publishButton))})}):t.jsx(Z,{size:"medium",disabled:!0,children:t.jsx(k,I({},pt.publishedButton))}))]}),t.jsx("div",{className:"border-token-border border-b pt-2 pb-6",children:t.jsx(cf,{connector:n})}),t.jsx("div",{className:"pt-2",children:t.jsx(df,{connector:n,onSeeDetails:()=>u(!0)})})]})})})}),e[0]=n,e[1]=c,e[2]=i,e[3]=l,e[4]=f,e[5]=r,e[6]=o,e[7]=a,e[8]=p):p=e[8],p},pt=Ee({createdAtLabel:{id:"qlGWaD",defaultMessage:"Created at"},developerLabel:{id:"MNjypF",defaultMessage:"Developer"},urlLabel:{id:"jBQsw4",defaultMessage:"URL"},connectorDetailsTitle:{id:"XBQy0M",defaultMessage:"Connector details"},publishButton:{id:"xzRCqJ",defaultMessage:"Publish"},publishedButton:{id:"VNKc/8",defaultMessage:"Published"},connectorInformationTitle:{id:"h+5R2G",defaultMessage:"Information"},actionsTitle:{id:"skQhS8",defaultMessage:"Actions"},actionsDescription:{id:"t2fgvB",defaultMessage:"ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it."},actionsSeeDetailsButton:{id:"ff/ugf",defaultMessage:"See details"},noActionsLabel:{id:"E5A9pn",defaultMessage:"No actions are available for this connector."},actionNoDescription:{id:"PGMAgB",defaultMessage:"No description provided."},unknownDeveloperLabel:{id:"Fv04Rh",defaultMessage:"Unknown"},disabledAction:{id:"Bn5roC",defaultMessage:"This action is disabled"}});function uf(s,e){return Number(e.is_enabled)-Number(s.is_enabled)||s.name.localeCompare(e.name)}const mf="https://platform.openai.com/docs/mcp#risks-and-safety",hi=s=>{"use forget";const e=F.c(32),{onClose:n,onEnabled:o}=s,a=le(),i=te();let l;e[0]!==a?(l=()=>dr(a),e[0]=a,e[1]=l):l=e[1];const c=As(l),r=cr(!0);let d;e[2]!==n||e[3]!==r.isPending?(d=()=>{r.isPending||n()},e[2]=n,e[3]=r.isPending,e[4]=d):d=e[4];const f=d;let u;e[5]!==o||e[6]!==r?(u=async()=>{try{await r.mutateAsync({setting:fr.DeveloperMode,value:!0}),o()}catch(w){}},e[5]=o,e[6]=r,e[7]=u):u=e[7];const p=u;let m;e[8]!==i?(m=i.formatMessage(Ls.enableDeveloperModeTitle),e[8]=i,e[9]=m):m=e[9];let h;e[10]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:t.jsx(k,xe(I({},Ls.enableDeveloperModeDescription),{values:{link:pf}}))}),e[10]=h):h=e[10];let x;e[11]!==c?(x=!c&&t.jsx("p",{className:"text-token-text-tertiary text-sm leading-5",children:t.jsx(k,I({},Ls.enableDeveloperModeAdminDisabled))}),e[11]=c,e[12]=x):x=e[12];let y;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(k,I({},Ls.cancelButtonLabel)),e[13]=y):y=e[13];let g;e[14]!==f||e[15]!==r.isPending?(g=t.jsx(Z,{color:"secondary",size:"small",onClick:f,disabled:r.isPending,children:y}),e[14]=f,e[15]=r.isPending,e[16]=g):g=e[16];const b=!c;let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(k,I({},Ls.enableDeveloperModeCta)),e[17]=C):C=e[17];let j;e[18]!==p||e[19]!==b||e[20]!==r.isPending?(j=t.jsx(Z,{color:"primary",size:"small",onClick:p,loading:r.isPending,disabled:b,children:C}),e[18]=p,e[19]=b,e[20]=r.isPending,e[21]=j):j=e[21];let _;e[22]!==j||e[23]!==g?(_=t.jsxs("div",{className:"flex justify-end gap-2",children:[g,j]}),e[22]=j,e[23]=g,e[24]=_):_=e[24];let v;e[25]!==_||e[26]!==x?(v=t.jsxs("div",{className:"space-y-4",children:[h,x,_]}),e[25]=_,e[26]=x,e[27]=v):v=e[27];let M;return e[28]!==f||e[29]!==v||e[30]!==m?(M=t.jsx(Ie,{isOpen:!0,onClose:f,title:m,showCloseButton:!0,showOverlayBackground:!0,hasSeparator:!0,testId:"modal-enable-developer-mode",children:v}),e[28]=f,e[29]=v,e[30]=m,e[31]=M):M=e[31],M},Ls=Ee({enableDeveloperModeTitle:{id:"W6klyP",defaultMessage:"Enable developer mode"},enableDeveloperModeDescription:{id:"2DYneR",defaultMessage:"Developer mode lets you add unverified connectors that could modify or erase data permanently. Memory is disabled. Use at your own risk. <link>Learn more</link>"},enableDeveloperModeAdminDisabled:{id:"oALm1o",defaultMessage:"Your admin has not enabled developer mode. Contact your admin to continue."},enableDeveloperModeCta:{id:"yJaGEp",defaultMessage:"Enable developer mode"},cancelButtonLabel:{id:"38P8eP",defaultMessage:"Cancel"}});function pf(s){return t.jsx(ct,{href:mf,openNewTab:!0,children:s})}function gf(s){"use forget";var j,_,v;const e=F.c(28),{workspaceId:n,connector:o,roles:a,onDisable:i,onClose:l}=s,c=te(),r=!!((j=a==null?void 0:a.data)!=null&&j.length)&&a.data.length>1;let d;e[0]!==o.id||e[1]!==r||e[2]!==n?(d={workspaceId:n,connectorId:o.id,enabled:r},e[0]=o.id,e[1]=r,e[2]=n,e[3]=d):d=e[3];const{data:f,isLoading:u}=Is(d);let p,m,h,x,y,g;if(e[4]!==o||e[5]!==c||e[6]!==u||e[7]!==l||e[8]!==i||e[9]!==(f==null?void 0:f.roles_with_permissions)){const M=(v=(_=f==null?void 0:f.roles_with_permissions)==null?void 0:_.filter(yf).length)!=null?v:0,w=M>1;m=Ji,y=!0,e[16]!==l?(g=S=>{S||l()},e[16]=l,e[17]=g):g=e[17],p=Xi,e[18]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(el,{className:"border-token-border-heavy radix-state-open:animate-show bg-token-bg-scrim fixed inset-0"}),e[18]=h):h=e[18],x=u?t.jsx(Do,{className:"bg-token-bg-primary radix-state-open:animate-alertShow fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl shadow-2xl focus:outline-hidden",onEscapeKeyDown:xf,children:t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(He,{})})}):t.jsxs(Do,{className:"bg-token-bg-primary radix-state-open:animate-alertShow fixed start-1/2 top-1/2 flex max-h-[85vh] w-[90vw] max-w-lg -translate-x-1/2 -translate-y-1/2 flex-col gap-2 rounded-2xl shadow-2xl focus:outline-hidden",onEscapeKeyDown:hf,children:[t.jsx("div",{className:"flex justify-center pt-8",children:t.jsx(zt,{connector:o,size:"large",className:"flex h-12 w-12 items-center justify-center rounded-xl border-[0.5px] shadow-sm"})}),t.jsx(Qi,{className:"p-6 pt-3 pb-2 text-center text-lg font-semibold md:p-6 md:pb-2",children:c.formatMessage(Fs.disableConnectorTitle,{connectorName:Bt(o.name,c)})}),t.jsxs("div",{className:"flex flex-col gap-4 p-6 pt-0 md:p-6 md:pt-0",children:[t.jsx(Yi,{className:"text-center text-base",children:w?c.formatMessage(Fs.disableConnectorRbacDescription,{connectorName:Bt(o.name,c),count:M}):c.formatMessage(Fs.disableConnectorDescription,{connectorName:Bt(o.name,c)})}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(Vi,{asChild:!0,children:t.jsx(Z,{color:"secondary",onClick:l,className:"w-full",children:t.jsx(k,I({},Fs.cancel))})}),t.jsx(Zi,{asChild:!0,children:t.jsx(Z,{color:"danger",onClick:i,className:"w-full",children:t.jsx(k,I({},Fs.disable))})})]})]})]}),e[4]=o,e[5]=c,e[6]=u,e[7]=l,e[8]=i,e[9]=f==null?void 0:f.roles_with_permissions,e[10]=p,e[11]=m,e[12]=h,e[13]=x,e[14]=y,e[15]=g}else p=e[10],m=e[11],h=e[12],x=e[13],y=e[14],g=e[15];let b;e[19]!==p||e[20]!==h||e[21]!==x?(b=t.jsxs(p,{children:[h,x]}),e[19]=p,e[20]=h,e[21]=x,e[22]=b):b=e[22];let C;return e[23]!==m||e[24]!==y||e[25]!==g||e[26]!==b?(C=t.jsx(m,{open:y,onOpenChange:g,children:b}),e[23]=m,e[24]=y,e[25]=g,e[26]=b,e[27]=C):C=e[27],C}function hf(s){return s.preventDefault()}function xf(s){return s.preventDefault()}function yf(s){return s.connector_permissions.includes(Js.UseConnector)}const Fs=Ee({disableConnectorTitle:{id:"NVjYkV",defaultMessage:"Disable {connectorName}?"},disableConnectorDescription:{id:"5JmIk1",defaultMessage:"To use {connectorName} with ChatGPT, all workspace members will need to reconnect their accounts."},disableConnectorRbacDescription:{id:"8yzta8",defaultMessage:"{connectorName} is currently enabled for {count, plural, one {# role} other {# roles}}. If you disconnect it, these roles will lose access to this connector."},cancel:{id:"N+FA7P",defaultMessage:"Cancel"},disable:{id:"wMyWcp",defaultMessage:"Disable"}}),bf=s=>{"use forget";const e=F.c(5),{worksWith:n}=s,o=te();let a;e[0]!==o||e[1]!==n?(a=Pr(n,o),e[0]=o,e[1]=n,e[2]=a):a=e[2];let i;return e[3]!==a?(i=t.jsx("span",{className:"bg-token-bg-tertiary text-token-text-secondary mx-1.5 rounded-md px-1.5 py-0.5 text-xs",children:a}),e[3]=a,e[4]=i):i=e[4],i},jf=()=>{"use forget";const s=F.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("span",{className:"text-token-text-secondary mx-1.5 rounded-full border px-1.5 py-0.5 text-[9px] uppercase",children:t.jsx(k,I({},Ne.customConnectorBadge))}),s[0]=e):e=s[0],e},xo=s=>{"use forget";const e=F.c(17),{icon:n,label:o,isCustom:a,worksWith:i,description:l,trailingContent:c}=s;let r;e[0]!==n?(r=t.jsx("div",{className:"flex-shrink-0",children:n}),e[0]=n,e[1]=r):r=e[1];let d;e[2]!==a||e[3]!==i?(d=a?t.jsx(jf,{}):i==null?void 0:i.map(Tf),e[2]=a,e[3]=i,e[4]=d):d=e[4];let f;e[5]!==o||e[6]!==d?(f=t.jsxs("div",{className:"text-token-text-primary text-md flex items-center font-medium",children:[o,d]}),e[5]=o,e[6]=d,e[7]=f):f=e[7];let u;e[8]!==l?(u=l&&t.jsx("p",{className:"text-token-text-secondary mt-0.5 min-w-0 flex-0 gap-1 truncate text-sm",children:l}),e[8]=l,e[9]=u):u=e[9];let p;e[10]!==f||e[11]!==u?(p=t.jsxs("div",{className:"flex-1 overflow-hidden",children:[f,u]}),e[10]=f,e[11]=u,e[12]=p):p=e[12];let m;return e[13]!==r||e[14]!==p||e[15]!==c?(m=t.jsxs(tl,{className:"border-token-border-default items-center border-b text-start last:border-b-0",children:[r,p,c]}),e[13]=r,e[14]=p,e[15]=c,e[16]=m):m=e[16],m},An=s=>{"use forget";var R,O;const e=F.c(36),{icon:n,label:o,worksWith:a,description:i,enabled:l,onChange:c,isLoading:r,isCustom:d,onDelete:f,onManageRoles:u,onManageActions:p,onDetails:m}=s,[h,x]=P.useState(!1),y=!!((O=(R=f!=null?f:m)!=null?R:u)!=null?O:p);let g;e[0]!==f?(g={mutationFn:async()=>{f&&await f()}},e[0]=f,e[1]=g):g=e[1];const{mutateAsync:b,isPending:C}=qe(g),j=h?"bg-token-interactive-bg-secondary-selected":"bg-transparent";let _;e[2]!==j?(_=se("hover:token-interactive-bg-secondary-selected h-8 w-8",j),e[2]=j,e[3]=_):_=e[3];let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(Zt,{className:"icon"}),e[4]=v):v=e[4];let M;e[5]!==_?(M=t.jsx(ie.Trigger,{className:_,children:v}),e[5]=_,e[6]=M):M=e[6];let w;e[7]!==m||e[8]!==p||e[9]!==u?(w=(m||u||p)&&t.jsxs(ie.Group,{children:[m&&t.jsx(ie.Item,{onClick:m,color:"default",children:t.jsx(k,I({},Ne.manageConnectorDetails))}),u&&t.jsx(ie.Item,{onClick:u,color:"default",children:t.jsx(k,I({},Ne.manageConnectorRoles))}),p&&t.jsx(ie.Item,{onClick:p,color:"default",children:t.jsx(k,I({},Ne.manageConnectorActions))})]}),e[7]=m,e[8]=p,e[9]=u,e[10]=w):w=e[10];let S;e[11]!==b||e[12]!==f?(S=f&&t.jsx(ie.Group,{children:t.jsx(ie.Item,{onClick:()=>b(),color:"danger",children:t.jsx(k,I({},Ne.deleteConnector))})}),e[11]=b,e[12]=f,e[13]=S):S=e[13];let N;e[14]!==w||e[15]!==S?(N=t.jsx(ie.Portal,{children:t.jsxs(ie.Content,{size:"small",align:"end",children:[w,S]})}),e[14]=w,e[15]=S,e[16]=N):N=e[16];let E;e[17]!==h||e[18]!==M||e[19]!==N?(E=t.jsxs(ie.Root,{onOpenChange:x,open:h,children:[M,N]}),e[17]=h,e[18]=M,e[19]=N,e[20]=E):E=e[20];const A=E;let D;e[21]!==l||e[22]!==C||e[23]!==r||e[24]!==o||e[25]!==A||e[26]!==c||e[27]!==y?(D=r||C?t.jsx(He,{}):t.jsxs("div",{className:"flex items-center gap-5",children:[y&&A,t.jsx(Us,{checked:l,onCheckedChange:c,"aria-label":o,size:"normal"})]}),e[21]=l,e[22]=C,e[23]=r,e[24]=o,e[25]=A,e[26]=c,e[27]=y,e[28]=D):D=e[28];let T;return e[29]!==i||e[30]!==n||e[31]!==d||e[32]!==o||e[33]!==D||e[34]!==a?(T=t.jsx(xo,{icon:n,label:o,worksWith:a,description:i,isCustom:d,trailingContent:D}),e[29]=i,e[30]=n,e[31]=d,e[32]=o,e[33]=D,e[34]=a,e[35]=T):T=e[35],T},xi=(s,e)=>s.description?s.description:s.owners.length>0?e.formatMessage(Ne.createdByDefault):null,Cf=s=>{"use forget";const e=F.c(69),{workspaceId:n,workspaceName:o,connector:a,onPublish:i,onDelete:l,links:c,showDetailsOnMount:r,showPublishOnMount:d,onMountHandled:f}=s,u=te(),[p,m]=P.useState(!1),h=gr(),[x,y]=P.useState(!1),[g,b]=P.useState(!1);let C,j;e[0]!==f||e[1]!==r?(C=()=>{r&&(b(!0),f==null||f())},j=[f,r],e[0]=f,e[1]=r,e[2]=C,e[3]=j):(C=e[2],j=e[3]),P.useEffect(C,j);let _,v;e[4]!==f||e[5]!==d?(_=()=>{d&&(m(!0),f==null||f())},v=[f,d],e[4]=f,e[5]=d,e[6]=_,e[7]=v):(_=e[6],v=e[7]),P.useEffect(_,v);let M;e[8]!==a.id||e[9]!==c?(M=c.has(a.id),e[8]=a.id,e[9]=c,e[10]=M):M=e[10];const w=M;let S;e[11]!==a.id||e[12]!==h?(S=()=>{h({referrer:yr.AdminSettingsConnectors,showSettingsBehindConnectorLink:!1,connectorId:a.id,redirectAfter:"/admin/ca#drafts"})},e[11]=a.id,e[12]=h,e[13]=S):S=e[13];const N=S;let E;e[14]!==l?(E={mutationFn:l},e[14]=l,e[15]=E):E=e[15];const{mutateAsync:A,isPending:D}=qe(E),T=x?"bg-token-interactive-bg-secondary-selected":"bg-transparent";let R;e[16]!==T?(R=se("hover:token-interactive-bg-secondary-selected h-8 w-8",T),e[16]=T,e[17]=R):R=e[17];let O;e[18]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(Zt,{className:"icon"}),e[18]=O):O=e[18];let L;e[19]!==R?(L=t.jsx(ie.Trigger,{className:R,children:O}),e[19]=R,e[20]=L):L=e[20];let z;e[21]!==w?(z=w&&t.jsx(ie.Group,{children:t.jsx(ie.Item,{onClick:()=>b(!0),color:"default",children:t.jsx(k,I({},Ne.manageConnectorDetails))})}),e[21]=w,e[22]=z):z=e[22];let $;e[23]!==A?($=()=>A(),e[23]=A,e[24]=$):$=e[24];let U;e[25]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(k,I({},Ne.deleteConnector)),e[25]=U):U=e[25];let G;e[26]!==$?(G=t.jsx(ie.Group,{children:t.jsx(ie.Item,{onClick:$,color:"danger",children:U})}),e[26]=$,e[27]=G):G=e[27];let W;e[28]!==z||e[29]!==G?(W=t.jsx(ie.Portal,{children:t.jsxs(ie.Content,{size:"small",align:"end",children:[z,G]})}),e[28]=z,e[29]=G,e[30]=W):W=e[30];let Y;e[31]!==x||e[32]!==L||e[33]!==W?(Y=t.jsxs(ie.Root,{onOpenChange:y,open:x,children:[L,W]}),e[31]=x,e[32]=L,e[33]=W,e[34]=Y):Y=e[34];const V=Y;let J;e[35]!==a||e[36]!==i||e[37]!==g||e[38]!==n||e[39]!==o?(J=g&&t.jsx(gi,{connector:a,workspaceId:n,workspaceName:o,onClose:()=>b(!1),onPublish:i}),e[35]=a,e[36]=i,e[37]=g,e[38]=n,e[39]=o,e[40]=J):J=e[40];let Q;e[41]!==a||e[42]!==i||e[43]!==p||e[44]!==n||e[45]!==o?(Q=p&&t.jsx(pi,{workspaceId:n,workspaceName:o,connector:a,onPublish:i,onClose:()=>m(!1)}),e[41]=a,e[42]=i,e[43]=p,e[44]=n,e[45]=o,e[46]=Q):Q=e[46];let X;e[47]!==a?(X=t.jsx(zt,{connector:a,size:"small",className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm"}),e[47]=a,e[48]=X):X=e[48];let B;e[49]!==a.name||e[50]!==u?(B=Bt(a.name,u),e[49]=a.name,e[50]=u,e[51]=B):B=e[51];let K;e[52]!==a||e[53]!==u?(K=xi(a,u),e[52]=a,e[53]=u,e[54]=K):K=e[54];let q;e[55]!==N||e[56]!==D||e[57]!==V||e[58]!==w?(q=D?t.jsx(He,{}):t.jsxs(t.Fragment,{children:[V,w?t.jsx(Z,{color:"primary",size:"small",onClick:()=>m(!0),children:t.jsx(k,I({},Ne.publishConnector))}):t.jsx(Z,{color:"secondary",size:"small",onClick:N,children:t.jsx(k,I({},Ne.finishSetup))})]}),e[55]=N,e[56]=D,e[57]=V,e[58]=w,e[59]=q):q=e[59];let oe;e[60]!==X||e[61]!==B||e[62]!==K||e[63]!==q?(oe=t.jsx(xo,{icon:X,isCustom:!0,label:B,description:K,trailingContent:q}),e[60]=X,e[61]=B,e[62]=K,e[63]=q,e[64]=oe):oe=e[64];let ne;return e[65]!==J||e[66]!==Q||e[67]!==oe?(ne=t.jsxs(t.Fragment,{children:[J,Q,oe]}),e[65]=J,e[66]=Q,e[67]=oe,e[68]=ne):ne=e[68],ne},_f=s=>{"use forget";const e=F.c(11),{onCreate:n}=s,o=te();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx("div",{className:"border-token-border-heavy h-fit rounded-xl border border-dashed p-2",children:t.jsx(Zn,{className:"icon-lg"})}),e[0]=a):a=e[0];let i;e[1]!==o?(i=o.formatMessage(Ne.createConnector),e[1]=o,e[2]=i):i=e[2];let l;e[3]!==o?(l=o.formatMessage(Ne.createConnectorDescription),e[3]=o,e[4]=l):l=e[4];let c;e[5]!==i||e[6]!==l?(c=t.jsx(xo,{icon:a,label:i,description:l}),e[5]=i,e[6]=l,e[7]=c):c=e[7];let r;return e[8]!==n||e[9]!==c?(r=t.jsx("button",{onClick:n,className:"flex-1",children:c}),e[8]=n,e[9]=c,e[10]=r):r=e[10],r},vf=s=>{"use forget";var At,_t,ut;const e=F.c(118),{connector:n,loggingParams:o,onDelete:a,workspaceId:i,roles:l,availableConnectorIds:c}=s,r=le(),d=te();let f;e[0]!==r?(f=Xe(r),e[0]=r,e[1]=f):f=e[1];const u=f,p=St();let m;e[2]!==n.id||e[3]!==r?(m=()=>br(r,n.id,{productSku:We.ADMIN_SETTING,purpose:"workspace_settings"}),e[2]=n.id,e[3]=r,e[4]=m):m=e[4];const h=As(m),x=h===void 0,y=n.distribution_channel==="TENANT_CATALOG",[g,b]=P.useState(!1),[C,j]=P.useState(!1),[_,v]=P.useState(!1),[M,w]=P.useState(null),[S,N]=P.useState(!1);let E;e[5]!==r?(E=jt(r),e[5]=r,e[6]=E):E=e[6];const A=E,D=(At=l==null?void 0:l.data)==null?void 0:At.length,T=D===void 0?A:D>1,R=A&&T,O=Af;let L;e[7]===Symbol.for("react.memo_cache_sentinel")?(L=new Set(qs.map(be=>O(be.type))),e[7]=L):L=e[7];let z;e[8]!==n.distribution_channel||e[9]!==n.name||e[10]!==r?(z=jn(r)&&n.distribution_channel==="TENANT_CATALOG"||!1,e[8]=n.distribution_channel,e[9]=n.name,e[10]=r,e[11]=z):z=e[11];const $=z;let U;e[12]===Symbol.for("react.memo_cache_sentinel")?(U=Object.values(dn),e[12]=U):U=e[12];let G;e[13]!==n.id?(G=U.find(be=>{const{access:ke,sync:De}=be;return ke===n.id||De===n.id}),e[13]=n.id,e[14]=G):G=e[14];const W=G;let Y;e:{if(!W){let ke;e[15]!==n.id?(ke=[n.id],e[15]=n.id,e[16]=ke):ke=e[16],Y=ke;break e}let be;if(e[17]!==c||e[18]!==n.id||e[19]!==W){be=[];const{access:ke,sync:De}=W,Oe=c.has(ke),tt=c.has(De);Oe?be.push(ke):tt&&be.push(De),be.length||be.push(n.id),e[17]=c,e[18]=n.id,e[19]=W,e[20]=be}else be=e[20];Y=be}const V=Y;let J;e:{if(!W){J=n.id;break e}const{access:be,sync:ke}=W,De=c.has(be),Oe=c.has(ke);if(!De&&Oe){J=ke;break e}J=De?be:n.id}const Q=J;let X;e:{if(n.id===Q){X=n;break e}let be;e[21]!==n||e[22]!==Q?(be=xe(I({},n),{id:Q}),e[21]=n,e[22]=Q,e[23]=be):be=e[23],X=be}const B=X;let K;e[24]!==B.id||e[25]!==R||e[26]!==i?(K={workspaceId:i,connectorId:B.id,enabled:R},e[24]=B.id,e[25]=R,e[26]=i,e[27]=K):K=e[27];const{data:q,isLoading:oe}=Is(K);let ne;e[28]!==(q==null?void 0:q.roles_with_permissions)?(ne=(_t=q==null?void 0:q.roles_with_permissions)!=null?_t:[],e[28]=q==null?void 0:q.roles_with_permissions,e[29]=ne):ne=e[29];const H=ne;let de;e[30]===Symbol.for("react.memo_cache_sentinel")?(de=(be,ke)=>{w(De=>{const Oe=new Set(De!=null?De:[]);return ke?Oe.add(be):Oe.delete(be),Oe})},e[30]=de):de=e[30];const fe=de;let ue;e[31]!==i||e[32]!==V?(ue=async be=>{const{enabled:ke,roles:De}=be,Oe=De?Array.from(De):void 0;return await Promise.all(V.map(tt=>{const st={enabled:ke};return Oe!==void 0&&(st.enabled_roles=Oe),dt.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:i,connector_id:tt}},requestBody:st})})),ke},e[31]=i,e[32]=V,e[33]=ue):ue=e[33];let pe;e[34]!==o?(pe=(be,ke)=>{var Oe;const De=(Oe=ke==null?void 0:ke.enabled)!=null?Oe:be;Ut.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",xe(I({},o),{enabled:De?"enabled":"disabled"}))},e[34]=o,e[35]=pe):pe=e[35];let ye;e[36]!==n.id||e[37]!==B.id||e[38]!==h||e[39]!==p||e[40]!==i?(ye=(be,ke,De)=>{var st;p.invalidateQueries({queryKey:Aa("workspace_settings"),refetchType:"all"}),p.invalidateQueries({queryKey:Na(i),refetchType:"all"}),p.invalidateQueries({queryKey:lo(i,B.id),refetchType:"all"});const Oe=to[so.GITHUB_CONNECTOR],tt=(st=De==null?void 0:De.enabled)!=null?st:!!h;n.id===Oe&&!tt&&p.invalidateQueries({queryKey:["workspace-settings",i]})},e[36]=n.id,e[37]=B.id,e[38]=h,e[39]=p,e[40]=i,e[41]=ye):ye=e[41];let he;e[42]!==u?(he=()=>{u.danger(Ne.featureSettingsUpdateFailed,{toastId:"allowed_connectors_section"})},e[42]=u,e[43]=he):he=e[43];let ve;e[44]!==ue||e[45]!==pe||e[46]!==ye||e[47]!==he?(ve={mutationFn:ue,onSuccess:pe,onSettled:ye,onError:he},e[44]=ue,e[45]=pe,e[46]=ye,e[47]=he,e[48]=ve):ve=e[48];const{variables:Me,mutate:Re,mutateAsync:me,isPending:je}=qe(ve);let Ae;e[49]!==Re||e[50]!==R?(Ae=()=>{if(R){w(null),v(!0);return}else Re({enabled:!0})},e[49]=Re,e[50]=R,e[51]=Ae):Ae=e[51];const ze=Ae;let Ge;e[52]===Symbol.for("react.memo_cache_sentinel")?(Ge=()=>{v(!1),w(null)},e[52]=Ge):Ge=e[52];const Be=Ge;let Ue;e[53]!==me||e[54]!==je||e[55]!==M?(Ue={mutationFn:async()=>{M&&!je&&(await me({enabled:!0,roles:M}),v(!1),w(null))}},e[53]=me,e[54]=je,e[55]=M,e[56]=Ue):Ue=e[56];const{mutateAsync:Ke}=qe(Ue),[Ve,ce]=P.useState(!1),ae=(ut=Me==null?void 0:Me.enabled)!=null?ut:!!h;let re;e[57]!==n||e[58]!==S||e[59]!==i?(re=S&&t.jsx(zd,{workspaceId:i,connector:n,onClose:()=>N(!1)}),e[57]=n,e[58]=S,e[59]=i,e[60]=re):re=e[60];let Ce;e[61]!==n||e[62]!==Ve||e[63]!==i?(Ce=Ve&&t.jsx(gi,{connector:n,workspaceId:i,workspaceName:void 0,onClose:()=>ce(!1)}),e[61]=n,e[62]=Ve,e[63]=i,e[64]=Ce):Ce=e[64];let Se;e[65]!==n?(Se=t.jsx(zt,{connector:n,size:"small",className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm"}),e[65]=n,e[66]=Se):Se=e[66];let ge;e[67]!==n.name||e[68]!==d?(ge=Bt(n.name,d),e[67]=n.name,e[68]=d,e[69]=ge):ge=e[69];let $e;e[70]!==n||e[71]!==d?($e=xi(n,d),e[70]=n,e[71]=d,e[72]=$e):$e=e[72];let nt;e[73]!==ze?(nt=be=>{be?ze():b(!0)},e[73]=ze,e[74]=nt):nt=e[74];const Nt=x||je,Rt=y?a:void 0;let Ct;e[75]===Symbol.for("react.memo_cache_sentinel")?(Ct=()=>ce(!0),e[75]=Ct):Ct=e[75];let ot;e[76]!==A||e[77]!==ae?(ot=ae&&A?()=>j(!0):void 0,e[76]=A,e[77]=ae,e[78]=ot):ot=e[78];let et;e[79]!==$?(et=$?()=>N(!0):void 0,e[79]=$,e[80]=et):et=e[80];let gt;e[81]!==y||e[82]!==ae||e[83]!==Se||e[84]!==ge||e[85]!==$e||e[86]!==nt||e[87]!==Nt||e[88]!==Rt||e[89]!==ot||e[90]!==et?(gt=t.jsx(An,{icon:Se,label:ge,description:$e,enabled:ae,onChange:nt,isLoading:Nt,isCustom:y,onDelete:Rt,onDetails:Ct,onManageRoles:ot,onManageActions:et}),e[81]=y,e[82]=ae,e[83]=Se,e[84]=ge,e[85]=$e,e[86]=nt,e[87]=Nt,e[88]=Rt,e[89]=ot,e[90]=et,e[91]=gt):gt=e[91];let ht;e[92]!==B||e[93]!==Ke||e[94]!==oe||e[95]!==je||e[96]!==M||e[97]!==H||e[98]!==_||e[99]!==i?(ht=_&&t.jsx(ho,{workspaceId:i,connector:B,onClose:Be,onToggle:fe,enabledIds:M!=null?M:new Set,isLoading:oe||je,roles:H,useConfirmation:!0,onConfirm:Ke,onCancel:Be}),e[92]=B,e[93]=Ke,e[94]=oe,e[95]=je,e[96]=M,e[97]=H,e[98]=_,e[99]=i,e[100]=ht):ht=e[100];let ft;e[101]!==B||e[102]!==C||e[103]!==i?(ft=C&&t.jsx(Tn,{workspaceId:i,connector:B,onClose:()=>j(!1)}),e[101]=B,e[102]=C,e[103]=i,e[104]=ft):ft=e[104];let Ze;e[105]!==B||e[106]!==Re||e[107]!==l||e[108]!==g||e[109]!==i?(Ze=g&&t.jsx(gf,{workspaceId:i,connector:B,roles:l,onClose:()=>b(!1),onDisable:()=>{Re({enabled:!1}),b(!1)}}),e[105]=B,e[106]=Re,e[107]=l,e[108]=g,e[109]=i,e[110]=Ze):Ze=e[110];let Tt;return e[111]!==re||e[112]!==Ce||e[113]!==gt||e[114]!==ht||e[115]!==ft||e[116]!==Ze?(Tt=t.jsxs(t.Fragment,{children:[re,Ce,gt,ht,ft,Ze]}),e[111]=re,e[112]=Ce,e[113]=gt,e[114]=ht,e[115]=ft,e[116]=Ze,e[117]=Tt):Tt=e[117],Tt},kf=s=>{"use forget";var z,$;const e=F.c(41),{loggingParams:n,workspaceId:o,roles:a}=s,i=le(),l=te();let c;e[0]!==i?(c=Xe(i),e[0]=i,e[1]=c):c=e[1];const r=c,d=St(),{data:f,isLoading:u}=vn(o),p=!!(f!=null&&f.beta_settings[wt.CONTEXT_CONNECTOR_GDRIVE]),[m,h]=P.useState(!1),x=(($=(z=a==null?void 0:a.data)==null?void 0:z.length)!=null?$:0)>1;let y;e[2]!==i?(y=jt(i),e[2]=i,e[3]=y):y=e[3];const g=y;let b;e[4]!==o?(b=U=>dt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:o}},requestBody:{feature:wt.CONTEXT_CONNECTOR_GDRIVE,value:U}}),e[4]=o,e[5]=b):b=e[5];let C;e[6]!==x||e[7]!==g||e[8]!==n?(C=(U,G)=>{Ut.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",xe(I({},n),{enabled:G?"enabled":"disabled"})),G&&x&&g&&h(!0)},e[6]=x,e[7]=g,e[8]=n,e[9]=C):C=e[9];let j;e[10]!==d?(j=()=>{d.invalidateQueries({queryKey:["workspace-settings"]})},e[10]=d,e[11]=j):j=e[11];let _;e[12]!==r?(_=()=>{r.danger(Ne.featureSettingsUpdateFailed,{toastId:"allowed_connectors_section"})},e[12]=r,e[13]=_):_=e[13];let v;e[14]!==b||e[15]!==C||e[16]!==j||e[17]!==_?(v={mutationFn:b,onSuccess:C,onSettled:j,onError:_},e[14]=b,e[15]=C,e[16]=j,e[17]=_,e[18]=v):v=e[18];const{variables:M,mutate:w}=qe(v);let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("div",{className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm",children:t.jsx(oo,{className:"h-6 w-6"})}),e[19]=S):S=e[19];let N;e[20]!==l?(N=l.formatMessage(Ne.gdriveFileUploadLabel),e[20]=l,e[21]=N):N=e[21];let E;e[22]===Symbol.for("react.memo_cache_sentinel")?(E=["fileUploads"],e[22]=E):E=e[22];let A;e[23]!==l?(A=l.formatMessage(Ne.gdriveFileUploadDescription),e[23]=l,e[24]=A):A=e[24];const D=M!=null?M:!!p;let T;e[25]!==p||e[26]!==g?(T=p&&g?()=>h(!0):void 0,e[25]=p,e[26]=g,e[27]=T):T=e[27];let R;e[28]!==u||e[29]!==w||e[30]!==A||e[31]!==D||e[32]!==T||e[33]!==N?(R=t.jsx(An,{icon:S,label:N,worksWith:E,description:A,enabled:D,onChange:w,isLoading:u,onManageRoles:T}),e[28]=u,e[29]=w,e[30]=A,e[31]=D,e[32]=T,e[33]=N,e[34]=R):R=e[34];let O;e[35]!==m||e[36]!==o?(O=m&&t.jsx(Tn,{workspaceId:o,connector:{id:wt.CONTEXT_CONNECTOR_GDRIVE,name:"Google Drive"},onClose:()=>h(!1)}),e[35]=m,e[36]=o,e[37]=O):O=e[37];let L;return e[38]!==R||e[39]!==O?(L=t.jsxs(t.Fragment,{children:[R,O]}),e[38]=R,e[39]=O,e[40]=L):L=e[40],L},wf=s=>{"use forget";var z,$;const e=F.c(41),{loggingParams:n,workspaceId:o,roles:a}=s,i=le(),l=te();let c;e[0]!==i?(c=Xe(i),e[0]=i,e[1]=c):c=e[1];const r=c,d=St(),{data:f,isLoading:u}=vn(o),p=!!(f!=null&&f.beta_settings[wt.CONTEXT_CONNECTOR_O365_BUSINESS]),[m,h]=P.useState(!1),x=(($=(z=a==null?void 0:a.data)==null?void 0:z.length)!=null?$:0)>1;let y;e[2]!==i?(y=jt(i),e[2]=i,e[3]=y):y=e[3];const g=y;let b;e[4]!==o?(b=U=>dt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:o}},requestBody:{feature:wt.CONTEXT_CONNECTOR_O365_BUSINESS,value:U}}),e[4]=o,e[5]=b):b=e[5];let C;e[6]!==x||e[7]!==g||e[8]!==n?(C=(U,G)=>{Ut.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",xe(I({},n),{enabled:G?"enabled":"disabled"})),G&&x&&g&&h(!0)},e[6]=x,e[7]=g,e[8]=n,e[9]=C):C=e[9];let j;e[10]!==d?(j=()=>{d.invalidateQueries({queryKey:["workspace-settings"]})},e[10]=d,e[11]=j):j=e[11];let _;e[12]!==r?(_=()=>{r.danger(Ne.featureSettingsUpdateFailed,{toastId:"allowed_connectors_section"})},e[12]=r,e[13]=_):_=e[13];let v;e[14]!==b||e[15]!==C||e[16]!==j||e[17]!==_?(v={mutationFn:b,onSuccess:C,onSettled:j,onError:_},e[14]=b,e[15]=C,e[16]=j,e[17]=_,e[18]=v):v=e[18];const{variables:M,mutate:w}=qe(v);let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("div",{className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm",children:t.jsx(fn,{className:"h-6 w-6"})}),e[19]=S):S=e[19];let N;e[20]!==l?(N=l.formatMessage(Ne.sharepointFileUploadLabel),e[20]=l,e[21]=N):N=e[21];let E;e[22]===Symbol.for("react.memo_cache_sentinel")?(E=["fileUploads"],e[22]=E):E=e[22];let A;e[23]!==l?(A=l.formatMessage(Ne.sharepointFileUploadDescription),e[23]=l,e[24]=A):A=e[24];const D=M!=null?M:!!p;let T;e[25]!==p||e[26]!==g?(T=p&&g?()=>h(!0):void 0,e[25]=p,e[26]=g,e[27]=T):T=e[27];let R;e[28]!==u||e[29]!==w||e[30]!==A||e[31]!==D||e[32]!==T||e[33]!==N?(R=t.jsx(An,{icon:S,label:N,worksWith:E,description:A,enabled:D,onChange:w,isLoading:u,onManageRoles:T}),e[28]=u,e[29]=w,e[30]=A,e[31]=D,e[32]=T,e[33]=N,e[34]=R):R=e[34];let O;e[35]!==m||e[36]!==o?(O=m&&t.jsx(Tn,{workspaceId:o,connector:{id:wt.CONTEXT_CONNECTOR_O365_BUSINESS,name:"Sharepoint"},onClose:()=>h(!1)}),e[35]=m,e[36]=o,e[37]=O):O=e[37];let L;return e[38]!==R||e[39]!==O?(L=t.jsxs(t.Fragment,{children:[R,O]}),e[38]=R,e[39]=O,e[40]=L):L=e[40],L},Mf=s=>{"use forget";var L,z;const e=F.c(40),{loggingParams:n,workspaceId:o,roles:a}=s,i=le(),l=te();let c;e[0]!==i?(c=Xe(i),e[0]=i,e[1]=c):c=e[1];const r=c,d=St(),{data:f}=vn(o),u=!!(f!=null&&f.beta_settings[wt.CONTEXT_CONNECTOR_O365_PERSONAL]),[p,m]=P.useState(!1),h=((z=(L=a==null?void 0:a.data)==null?void 0:L.length)!=null?z:0)>1;let x;e[2]!==i?(x=jt(i),e[2]=i,e[3]=x):x=e[3];const y=x;let g;e[4]!==o?(g=$=>dt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:o}},requestBody:{feature:wt.CONTEXT_CONNECTOR_O365_PERSONAL,value:$}}),e[4]=o,e[5]=g):g=e[5];let b;e[6]!==h||e[7]!==y||e[8]!==n?(b=($,U)=>{Ut.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",xe(I({},n),{enabled:U?"enabled":"disabled"})),U&&h&&y&&m(!0)},e[6]=h,e[7]=y,e[8]=n,e[9]=b):b=e[9];let C;e[10]!==d?(C=()=>{d.invalidateQueries({queryKey:["workspace-settings"]})},e[10]=d,e[11]=C):C=e[11];let j;e[12]!==r?(j=()=>{r.danger(Ne.featureSettingsUpdateFailed,{toastId:"allowed_connectors_section"})},e[12]=r,e[13]=j):j=e[13];let _;e[14]!==g||e[15]!==b||e[16]!==C||e[17]!==j?(_={mutationFn:g,onSuccess:b,onSettled:C,onError:j},e[14]=g,e[15]=b,e[16]=C,e[17]=j,e[18]=_):_=e[18];const{variables:v,mutate:M}=qe(_);let w;e[19]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("div",{className:"h-fit rounded-xl border-[0.5px] p-2 shadow-sm",children:t.jsx(fn,{className:"h-6 w-6"})}),e[19]=w):w=e[19];let S;e[20]!==l?(S=l.formatMessage(Ne.onedrivePersonalFileUploadLabel),e[20]=l,e[21]=S):S=e[21];let N;e[22]===Symbol.for("react.memo_cache_sentinel")?(N=["fileUploads"],e[22]=N):N=e[22];let E;e[23]!==l?(E=l.formatMessage(Ne.onedrivePersonalFileUploadDescription),e[23]=l,e[24]=E):E=e[24];const A=v!=null?v:!!u;let D;e[25]!==u||e[26]!==y?(D=u&&y?()=>m(!0):void 0,e[25]=u,e[26]=y,e[27]=D):D=e[27];let T;e[28]!==M||e[29]!==E||e[30]!==A||e[31]!==D||e[32]!==S?(T=t.jsx(An,{icon:w,label:S,worksWith:N,description:E,enabled:A,onChange:M,onManageRoles:D}),e[28]=M,e[29]=E,e[30]=A,e[31]=D,e[32]=S,e[33]=T):T=e[33];let R;e[34]!==p||e[35]!==o?(R=p&&t.jsx(Tn,{workspaceId:o,connector:{id:wt.CONTEXT_CONNECTOR_O365_PERSONAL,name:"OneDrive"},onClose:()=>m(!1)}),e[34]=p,e[35]=o,e[36]=R):R=e[36];let O;return e[37]!==T||e[38]!==R?(O=t.jsxs(t.Fragment,{children:[T,R]}),e[37]=T,e[38]=R,e[39]=O):O=e[39],O},yi=()=>{"use forget";const s=F.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx(k,xe(I({},Ne.connectorsSubtitle),{values:{link:Df}})),s[0]=e):e=s[0],e},Sf=s=>{"use forget";const e=F.c(6),{onCreate:n,canCreateEhrConnector:o,onCreateEhr:a}=s,l=(o===void 0?!1:o)&&!!a,c=Pf;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(Jn,{children:t.jsx(k,I({},Ne.connectorsTitle))}),e[0]=r):r=e[0];let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsxs("div",{children:[r,t.jsx(Xn,{className:"text-token-text-secondary",children:t.jsx(yi,{})})]}),e[1]=d):d=e[1];let f;return e[2]!==n||e[3]!==a||e[4]!==l?(f=t.jsxs("div",{id:xr,className:"mb-4 flex items-center justify-between gap-2",children:[d,t.jsx(Z,{className:"mt-4",size:"small",color:"secondary",onClick:n,children:c(!1)})]}),e[2]=n,e[3]=a,e[4]=l,e[5]=f):f=e[5],f};function Nf({workspaceId:s,workspaceName:e,isQuorumBetaUser:n=!1}){"use no forget";const o=le(),a=te(),i=P.useRef(null),l=P.useRef(!1),[c,r]=P.useState("workspace"),[d,f]=P.useState(null),[u,p]=P.useState(null),{enabled:m,availableConnectors:h}=ur({purpose:"workspace_settings"}),x=jt(o),{data:y}=Oa({workspaceId:s,enabled:x}),{data:g,isLoading:b}=As(()=>cn(o,{productSku:We.ADMIN_SETTING,purpose:"workspace_settings"})),C=()=>cn.refetch(o,{productSku:We.ADMIN_SETTING,purpose:"workspace_settings"}),{showWorkspaceSettings:j}=mr(o),_=P.useMemo(()=>g?g.connectors.filter(K=>{var q;return((q=K.labels)==null?void 0:q.admin_only_connector)!=="true"}).filter(K=>K.connector_type==="MCP"||K.connector_type==="FIRST_PARTY_ECOSYSTEM"||!1||h.some(q=>q.id===K.id)):[],[g,h]),v=P.useMemo(()=>new Set(h.map(B=>B.id)),[h]),M=P.useMemo(()=>{const B=_.filter(ne=>ne.connector_type!=="MCP"||ne.status!=="ONLY_ME").map(ne=>({type:"platform",ownerCount:ne.owners.length,name:ne.name,connector:ne})),K={type:"gdrive_file_upload",ownerCount:0,name:a.formatMessage(Ne.gdriveFileUploadLabel)},q={type:"sharepoint_file_upload",ownerCount:0,name:a.formatMessage(Ne.sharepointFileUploadLabel)},oe={type:"onedrive_personal_file_upload",ownerCount:0,name:a.formatMessage(Ne.onedrivePersonalFileUploadLabel)};return[...B,...j?[K,q,oe]:[]].sort((ne,H)=>H.ownerCount-ne.ownerCount||ne.name.localeCompare(H.name))},[_,a,j]),w=P.useMemo(()=>_.filter(B=>B.status==="ONLY_ME"),[_]),S=P.useMemo(()=>{const B=new Set(h.map(K=>K.id));return Object.values(dn).filter(({access:K,sync:q})=>B.has(K)&&B.has(q)).map(({sync:K})=>K)},[h]),N=St(),E=Zs(),A=async(B,K)=>{await hr(B,s,K!=null&&K.actions?Array.from(K.actions):null,K!=null&&K.roles?Array.from(K.roles):null),N.invalidateQueries({refetchType:"all",queryKey:Na(s,B)}),E(),N.invalidateQueries({queryKey:["connector-actions",B]}),await C(),O.success(a.formatMessage(Ne.publishedConnector),{id:"connector_publish_modal"}),r("workspace")},D=xn({fetchValidLinksOnly:!0,productSku:We.CONNECTOR_SETTING}),T=m&&!!M.length;P.useEffect(()=>{!T&&c==="workspace"&&!b&&!D.isLoading&&r("my")},[c,T,r,b,D.isLoading]);const R=T?c:"my",O=Xe(o);P.useEffect(()=>{var de;if(l.current||b||D.isLoading||!m||typeof window>"u")return;const B=window.location.hash;if(!B)return;const[K,q]=B.split("?"),oe=K.toLowerCase();if(oe!=="#drafts"&&oe!=="#draft")return;if(l.current=!0,r("my"),(de=i.current)==null||de.scrollIntoView({behavior:"smooth",block:"start"}),q){const fe=new URLSearchParams(q),ue=fe.get("connector"),pe=fe.get("publish");ue?f(ue):pe&&p(pe)}const{pathname:ne,search:H}=window.location;window.history.replaceState(null,document.title,"".concat(ne).concat(H!=null?H:""))},[m,l,b,D.isLoading,r]);const L=P.useCallback(()=>{f(null),p(null)},[]);P.useEffect(()=>{if(!d||b||D.isLoading)return;w.some(K=>K.id===d)||f(null)},[d,b,D.isLoading,w]),P.useEffect(()=>{if(!u||b||D.isLoading)return;w.some(K=>K.id===u)||p(null)},[u,b,D.isLoading,w]);const z=async B=>{await io(B.id),await C(),O.success(a.formatMessage(Ne.deleteConnectorSuccess,{name:B.name}))},[$,U]=P.useState(!1),[G,W]=P.useState(!1),Y=!1,V=P.useCallback(()=>{window.location.hash="".concat(pr,"?create-ehr-connector=true")},[]),J=()=>{Ta(o)?U(!0):W(!0)},Q=()=>{W(!1),U(!0)};if(b||D.isLoading)return t.jsx(He,{});if(!m)return null;const X=[...T?[{key:"workspace",label:a.formatMessage(Ne.workspaceTabLabel),children:t.jsx(t.Fragment,{children:M.map(B=>B.type==="gdrive_file_upload"?t.jsx(kf,{loggingParams:{name:B.name,type:B.type},workspaceId:s,roles:y},B.type):B.type==="sharepoint_file_upload"?t.jsx(wf,{loggingParams:{name:B.name,type:B.type},workspaceId:s,roles:y},B.type):B.type==="onedrive_personal_file_upload"?t.jsx(Mf,{loggingParams:{name:B.name,type:B.type},workspaceId:s,roles:y},B.type):!S.some(K=>K===B.connector.id)&&t.jsx(vf,{connector:B.connector,loggingParams:{name:B.connector.name,type:B.connector.connector_type},workspaceId:s,onDelete:()=>z(B.connector),roles:y,availableConnectorIds:v},B.connector.id))})}]:[],{key:"my",label:a.formatMessage(Ne.myTabLabel),children:t.jsxs(t.Fragment,{children:[w.map(B=>t.jsx(Cf,{workspaceId:s,workspaceName:e,connector:B,links:D.connectorLinks,showDetailsOnMount:d===B.id,showPublishOnMount:u===B.id,onMountHandled:L,onPublish:K=>A(B.id,K),onDelete:()=>z(B)},B.id)),t.jsxs("div",{className:"flex w-full gap-4",children:[t.jsx(_f,{onCreate:J}),Y]})]})}];return t.jsxs(t.Fragment,{children:[$&&t.jsx(uo,{onClose:B=>{B&&r("my"),U(!1)},redirectAfter:"/admin/ca#drafts"}),G&&t.jsx(hi,{onClose:()=>W(!1),onEnabled:Q}),t.jsx(Sf,{onCreate:J,canCreateEhrConnector:Y,onCreateEhr:V}),t.jsx(Br,{items:X,activeTab:R,onTabChange:B=>r(B),containerRef:i})]})}const Ne=Ee({connectorsTitle:{id:"xsR2r6",defaultMessage:"Apps & Connectors"},connectorsSubtitle:{id:"8WR/V3",defaultMessage:"Manage which apps users in this workspace can connect to. <link>Learn more</link>"},featureSettingsUpdateFailed:{id:"allowedConnectorsSection.adminPermissionsUpdateFailed",defaultMessage:"Failed to update permissions for connector"},gdriveFileUploadLabel:{id:"allowedConnectorsSection.gdriveFileUploadLabel",defaultMessage:"Google Drive"},gdriveFileUploadDescription:{id:"allowedConnectorsSection.gdriveFileUploadDescription",defaultMessage:"Upload Google Drive files in messages sent to ChatGPT."},sharepointFileUploadLabel:{id:"allowedConnectorsSection.sharepointFileUploadLabel",defaultMessage:"Microsoft OneDrive (work/school)"},sharepointFileUploadDescription:{id:"allowedConnectorsSection.sharepointFileUploadDescription",defaultMessage:"Upload SharePoint and OneDrive for Business files in messages sent to ChatGPT."},onedrivePersonalFileUploadLabel:{id:"allowedConnectorsSection.onedrivePersonalFileUploadLabel",defaultMessage:"Microsoft OneDrive (personal)"},onedrivePersonalFileUploadDescription:{id:"allowedConnectorsSection.onedrivePersonalFileUploadDescription",defaultMessage:"Upload personal OneDrive files in messages sent to ChatGPT."},workspaceTabLabel:{id:"PXlJ9v",defaultMessage:"Available"},myTabLabel:{id:"OrvJJB",defaultMessage:"Drafts"},createdByDefault:{id:"c1BULn",defaultMessage:"Created by your workspace's admin"},customConnectorBadge:{id:"q4oGB6",defaultMessage:"Custom"},publishedConnector:{id:"5gTvjk",defaultMessage:"Published"},publishConnector:{id:"xya7RI",defaultMessage:"Publish"},publishConnectorFailed:{id:"iTXiK2",defaultMessage:"Failed to publish connector"},deleteConnector:{id:"DJDhnI",defaultMessage:"Delete"},createdAt:{id:"vQx/QC",defaultMessage:"Created {createdAt}"},manageConnector:{id:"ejE2jG",defaultMessage:"Manage"},manageConnectorRoles:{id:"6WmlSM",defaultMessage:"Configure access"},manageConnectorActions:{id:"WXBpMF",defaultMessage:"Manage actions"},createConnector:{id:"nrxInz",defaultMessage:"Create a connector"},createConnectorDescription:{id:"+sWVSA",defaultMessage:"Connect ChatGPT to your favorite tools"},manageConnectorDetails:{id:"7rp17q",defaultMessage:"Details"},addConnectorButton:{id:"McuKi3",defaultMessage:"Create"},finishSetup:{id:"70aWWv",defaultMessage:"Finish setup"},deleteConnectorSuccess:{id:"smmhaQ",defaultMessage:"{name} deleted"}});function Tf(s){return t.jsx(bf,{worksWith:s},s)}function Af(s){return s.toLowerCase().replace(/[^a-z0-9]/g,"")}function Df(s){return t.jsx(ct,{href:"https://help.openai.com/en/collections/12923329-connected-apps",openNewTab:!0,children:s},"allowed-connectors-subtitle-link")}function Pf(s){return t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(k,I({},Ne.addConnectorButton)),s&&t.jsx(Ir,{})]})}function Ef({feedbackMetadata:s,currentWorkspaceId:e,onClose:n,onFeedbackActionTaken:o}){const a=te(),{data:i,refetch:l,isLoading:c}=as({queryKey:["adminGetCaMessageFeedback",e,s.feedback_id],queryFn:()=>dt.safeGet("/ca/admin/feedback/{feedback_id}",{parameters:{path:{feedback_id:s.feedback_id},query:{account_id:e}}})}),r=Et(),d=qe({mutationFn:u=>u.operation==="delete"?dt.safeDelete("/ca/admin/feedback/{feedback_id}",{parameters:{path:{feedback_id:u.feedbackId},query:{account_id:u.workspaceId}}}):dt.safePost("/ca/admin/feedback/{feedback_id}/approve",{parameters:{path:{feedback_id:u.feedbackId},query:{account_id:u.workspaceId,with_sources:u.withSources}}}),onSuccess:(u,p)=>{o(),n(),r.success(p.operation==="approve"?a.formatMessage(rt.feedbackApproved):a.formatMessage(rt.feedbackDeleted))},onError:(u,p)=>{l(),r.warning(p.operation==="approve"?a.formatMessage(rt.errorApprovingFeedback):a.formatMessage(rt.errorDeletingFeedback))}}),f=P.useMemo(()=>{const u=s.review_status==="unreviewed",p=s.review_status==="unreviewed";let m;switch(s.review_status){case"approved_with_sources":case"approved_without_sources_data_expired":{m=a.formatMessage(rt.actionMessageNoActionsAvailable);break}case"approved_without_sources_data_available":{m=a.formatMessage(rt.actionMessageApprovedWithoutSources);break}case"deleted":{m=a.formatMessage(rt.actionMessageFeedbackDeleted);break}}const h={workspaceId:e,feedbackId:s.feedback_id,withSources:!0};return t.jsxs("div",{className:"bg-token-main-surface-secondary sticky bottom-0 flex w-full flex-col gap-2 rounded-lg p-4",children:[!!m&&t.jsx("div",{children:t.jsx("p",{children:m})}),t.jsxs("div",{className:"flex flex-row gap-2",children:[u&&t.jsx(Z,{color:"primary",icon:ga,onClick:()=>d.mutate(xe(I({},h),{operation:"approve"})),loading:d.isPending,children:t.jsx(k,{id:"Zq8YOH",defaultMessage:"Approve Feedback"})}),p&&t.jsx(Z,{color:"danger-outline",icon:ha,onClick:()=>d.mutate(xe(I({},h),{operation:"delete"})),loading:d.isPending,children:t.jsx(k,{id:"qeIjD9",defaultMessage:"Delete Feedback"})})]})]})},[s.review_status,s.feedback_id,d,e,a]);return t.jsx(If,{actionBar:f,onClose:n,isLoading:c,feedbackData:i,feedbackMetadata:s})}function If({actionBar:s=null,onClose:e=()=>{},isLoading:n=!1,isDebugView:o=!1,feedbackData:a,feedbackMetadata:i}){var c;const l=te();return t.jsx(Ie,{testId:"modal-admin-feedback",size:"custom",className:"max-w-lg overflow-y-auto text-base",isOpen:!0,icon:sl,onClose:e,showCloseButton:!0,type:"success",title:l.formatMessage(rt.modalTitle),children:t.jsx("div",{className:"flex flex-col",children:a&&!n?t.jsxs(t.Fragment,{children:[t.jsx(Rf,{feedbackData:a,feedbackMetadata:i,isDebugView:o}),t.jsx(Po,{className:"my-4"}),t.jsx(Lf,{fileRefs:a.file_references}),t.jsx(Po,{className:"my-4"}),t.jsx(Ff,{retrievalMessages:a.retrieval_messages,userDisplayName:(c=i.submitter_display_name)!=null?c:i.submitter_email,isDebugView:o}),s]}):t.jsx(os,{lines:8})})})}function Rf({feedbackMetadata:s,feedbackData:e,isDebugView:n=!1}){var l;const o=te(),a=s.submitter_display_name&&s.submitter_email?o.formatMessage(rt.userDisplayName,{displayName:s.submitter_display_name,email:s.submitter_email}):s.submitter_id,i=P.useMemo(()=>e.sources_feedback?Object.entries(e.sources_feedback).map(([c,r])=>{var u,p,m,h;if(!r.rating&&!(r.tags&&r.tags.length>0))return null;const d=(u=e.file_references.find(x=>x.document_id===c))==null?void 0:u.title,f=r.tags&&r.tags.length===1&&r.tags[0]===Jr;return t.jsxs("li",{className:"flex flex-col p-1 text-sm break-words",children:[t.jsxs("div",{className:"mb-1 flex flex-row items-center gap-2",children:[r.rating==="thumbsUp"?t.jsx(nl,{className:"icon-sm"}):r.rating==="thumbsDown"?t.jsx(Eo,{className:"icon-sm"}):null,t.jsx("a",{href:(p=r.url)!=null?p:void 0,className:"text-sm font-semibold",children:(m=d!=null?d:r.url)!=null?m:c})]}),t.jsx("div",{className:"flex flex-row flex-wrap gap-1",children:f?t.jsx("span",{className:"italic",children:t.jsx(k,{id:"yNGc6H",defaultMessage:"This source should have been used."})}):(h=r.tags)==null?void 0:h.map(x=>t.jsx("div",{className:"border-token-border-default text-token-text-secondary rounded-lg border px-3 py-1 text-xs",children:Lo(x,o)},x))})]},c)}).filter(c=>!!c):[],[e.file_references,e.sources_feedback,o]);return t.jsxs("div",{children:[!n&&t.jsx("div",{className:"mb-2",children:t.jsx(bi,{reviewStatus:s.review_status})}),t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.rating==="thumbsUp"?t.jsx(ol,{className:"icon-xl m-2"}):t.jsx(Eo,{className:"icon-xl m-2"}),t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("p",{children:a}),s.submitted_at&&t.jsx("p",{className:"text-token-text-secondary text-xs",children:new Date(s.submitted_at).toLocaleString()})]})]}),e.tags&&e.tags.length>0&&t.jsx("div",{className:"mb-2 flex flex-wrap gap-1",children:(l=e.tags)==null?void 0:l.map(c=>t.jsx("div",{className:"border-token-border-default text-token-text-secondary rounded-lg border px-3 py-1 text-sm",children:Lo(c,o)},c))}),t.jsxs("div",{className:"mb-2",children:[t.jsx(ws,{className:"mb-1",children:t.jsx(k,{id:"VrPx6x",defaultMessage:"Feedback"})}),t.jsx("p",{className:"rounded-sm border p-2 text-sm break-words",children:e.text?e.text:t.jsx("span",{className:"italic",children:t.jsx(k,{id:"pEEJ/8",defaultMessage:"No written feedback was provided."})})})]}),t.jsxs("div",{className:"mb-2",children:[t.jsx(ws,{className:"mb-1",children:t.jsx(k,{id:"LUg6Vl",defaultMessage:"Additional Sources"})}),t.jsx("p",{className:"rounded-sm border p-2 text-sm break-words",children:e.additional_sources?e.additional_sources:t.jsx("span",{className:"italic",children:t.jsx(k,{id:"u24Zo5",defaultMessage:"No additional sources were provided."})})})]}),i.length>0&&t.jsxs("div",{className:"mb-2",children:[t.jsx(ws,{className:"mb-1",children:t.jsx(k,{id:"lNSdNZ",defaultMessage:"Sources Feedback"})}),t.jsx("ul",{className:"flex flex-col gap-1",children:i})]})]})}const Of=["citation","context_stuff","search_result"];function Ho(s){return Array.from(s.map(e=>{var n,o,a;return al({id:e.document_id,cloud_doc_url:(n=e.external_url)!=null?n:void 0,name:(o=e.title)!=null?o:"",extra:{cloud_doc_url:(a=e.external_url)!=null?a:void 0}})}).filter(e=>!!e))}function Lf({fileRefs:s}){const[e,n]=P.useMemo(()=>{const o=new Map,a=new Map;return s.forEach(i=>{Of.includes(i.reference_source)&&i.external_url&&!o.has(i.document_id)?o.set(i.document_id,i):i.reference_source==="user_feedback"&&i.external_url&&!a.has(i.document_id)&&a.set(i.document_id,i)}),[Ho(Array.from(o.values())),Ho(Array.from(a.values()))]},[s]);return t.jsxs("div",{children:[t.jsxs("div",{children:[t.jsx(ws,{className:"mb-2",children:t.jsx(k,{id:"FB4YIA",defaultMessage:"Sources In Conversation"})}),e.length>0?t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"text-token-text-secondary mb-2 text-xs",children:t.jsx(k,{id:"iTNNoN",defaultMessage:"These sources were considered or cited in the conversation. Snapshots of these sources will be included with the feedback if you choose to approve the feedback."})}),t.jsx("div",{className:"flex flex-col gap-1",children:e.map(o=>t.jsx(Io,{compact:!0,citationMetadata:o},o.url))})]}):t.jsx("p",{className:"text-token-text-secondary text-xs",children:t.jsx(k,{id:"Q+DKpB",defaultMessage:"No synced sources were considered or cited in the conversation, however there may be other sources present such as user uploaded files. If you choose to approve this feedback, only the snippets of those files that ChatGPT looked at will be shared with this feedback."})})]}),n.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx(ws,{className:"mb-2",children:t.jsx(k,{id:"SCwQnr",defaultMessage:"Sources From Feedback"})}),t.jsx("p",{className:"text-token-text-secondary mb-2 text-xs",children:t.jsx(k,{id:"Rr+4KZ",defaultMessage:"The feedback submitter mentioned these documents in their feedback. Snapshots of these documents will be included with the feedback if you choose to approve the feedback with sources and the user had access to them."})}),t.jsx("div",{className:"flex flex-col gap-1",children:n.map(o=>t.jsx(Io,{compact:!0,citationMetadata:o},o.url))})]})]})}function Ff({retrievalMessages:s,userDisplayName:e,isDebugView:n=!1}){return t.jsxs("div",{className:"mb-8",children:[t.jsx(ws,{className:"mb-4",children:t.jsx(k,{id:"pOb00r",defaultMessage:"Conversation"})}),s.map(o=>t.jsx(Bf,{message:o,userDisplayName:e,isDebugView:n},o.id))]})}function Bf({message:s,userDisplayName:e,isDebugView:n=!1}){var i,l,c,r,d,f;const o=le(),a=te();switch(s.type){case"visible_text":{if(s.author==="unknown")return null;const u={id:s.id,author:{role:s.author},clientMetadata:{canRetry:!1},metadata:{citations:(i=s.citations)!=null?i:[],attachments:(l=s.attachments)!=null?l:[],content_references:s.content_refs?s.content_refs:((c=s.citations)!=null?c:[]).map(p=>{var h,x,y;return((h=p.metadata)==null?void 0:h.type)!=="file"?null:{start_idx:p.start_ix,end_idx:p.end_ix,refs:[],matched_text:s.text.slice(p.start_ix,p.end_ix),type:"file",source:p.metadata.source,name:p.metadata.name,id:p.metadata.id,cloud_doc_url:(y=p.metadata.cloud_doc_url)!=null?y:(x=p.metadata.extra)==null?void 0:x.cloud_doc_url}}).filter(p=>!!p)},content:{content_type:jr.Text,parts:[s.text]}};return t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:se("text-token-text-secondary mb-1 text-xs",s.author==="user"?"pe-4 text-end":"text-start"),children:s.author==="assistant"?a.formatMessage(rt.authorChatGPT):s.author==="user"?e!=null?e:a.formatMessage(rt.authorUser):s.author}),t.jsx(Zr,{id:s.id,messages:[u],attachments:(r=u.metadata)==null?void 0:r.attachments,citations:(d=u.metadata)==null?void 0:d.citations,contentReferences:(f=u.metadata)==null?void 0:f.content_references,parts:[s.text],displayParts:ll({isUserTurn:s.author==="user",parts:[s.text]}),isActivelyStreaming:!1,isCompletionInProgress:!1,isFinalUserTurn:!1,hasActiveRequest:!1,conversation:Cr(o,_r),isUserTurn:s.author==="user",turnIndex:0,isFeedbackEnabled:!1})]})}case"query":return t.jsxs("div",{className:"text-token-text-primary my-2 text-xs",children:[t.jsx(nc,{className:"me-2"}),n?t.jsx(k,{id:"AVzRit",defaultMessage:"ChatGPT performed a search: {query}",values:{query:s.query}}):t.jsx(k,{id:"bJ9BXd",defaultMessage:"ChatGPT performed a search."})]});case"result":return n?t.jsx($f,{message:s}):null;case"fetch":return n?t.jsxs("div",{className:"text-token-text-primary my-2 text-xs",children:[t.jsx(il,{className:"me-2"}),t.jsx(k,{id:"uH5X47",defaultMessage:"Read file: {fileName}",values:{fileName:s.content.content_type==="tether_quote"?s.content.title:"unknown"}})]}):null;case"generic_file_search_tool":return n?t.jsxs("div",{className:"text-token-text-primary my-2 text-xs",children:[t.jsx(oc,{className:"me-2"}),t.jsx(k,{id:"pJmg4S",defaultMessage:"Tool message with command: {command}.",values:{command:s.command}})]}):null;case"system":case void 0:return null}}function $f({message:s}){const[e,n]=P.useState(!1);return s.type!=="result"?null:t.jsxs("div",{className:"text-token-text-primary mt-2 mb-4 text-xs",children:[t.jsxs("div",{onClick:()=>n(o=>!o),className:"flex flex-row",children:[t.jsx(Vr,{checked:e,className:"flex-0"}),t.jsx("div",{className:"flex-1",children:t.jsx(k,{id:"94EEkt",defaultMessage:"Found {numResults} results.",values:{numResults:s.result.chunks.length}})})]}),e&&t.jsxs("div",{className:"mt-2",children:[s.result.chunks.map(o=>t.jsxs("div",{className:"mb-2",children:[t.jsx("h4",{className:"text-token-text-primary mb-1 text-sm font-bold",children:t.jsx(k,{id:"zyGUoc",defaultMessage:"Result {number}: {title}",values:{number:o.result_num,title:o.title}})}),t.jsx("h4",{className:"text-token-text-secondary mb-1 text-xs",children:o.document_id}),t.jsx("pre",{className:"max-h-[200px] max-w-full overflow-auto p-2 text-wrap",children:o.contents})]},o.result_num)),t.jsxs("div",{className:"p-2 text-center",onClick:()=>n(!1),children:[t.jsx("p",{className:"text-token-text-secondary mb-1 font-bold",children:t.jsx(k,{id:"8UUzYt",defaultMessage:"Collapse Results"})}),t.jsx("hr",{className:""})]})]})]})}function bi({reviewStatus:s,onClick:e,disabled:n}){let o;const a=te();switch(s){case"unreviewed":o=a.formatMessage(rt.reviewStatusUnreviewed);break;case"approved_with_sources":o=a.formatMessage(rt.reviewStatusApprovedWithSouces);break;case"approved_without_sources_data_available":case"approved_without_sources_data_expired":o=a.formatMessage(rt.reviewStatusApprovedWithoutSources);break;case"deleted":o=a.formatMessage(rt.reviewStatusDeleted);break}return t.jsx("button",{className:se("text-token-text-primary rounded-2xl px-3 py-1 text-sm",s==="unreviewed"&&"bg-[#e2c541] dark:bg-[#EA8444]"),onClick:e,disabled:!!n||!e,children:o})}const rt=Ee({modalTitle:{id:"zufVun",defaultMessage:"Review Feedback"},feedbackApproved:{id:"DS+YGt",defaultMessage:"Feedback approved."},feedbackDeleted:{id:"Rz/tmW",defaultMessage:"Feedback deleted."},errorApprovingFeedback:{id:"UVsTlf",defaultMessage:"Encountered an error approving this feedback. Please refresh and try again."},errorDeletingFeedback:{id:"cI6gt9",defaultMessage:"Encountered an error deleting this feedback. Please refresh and try again."},actionMessageFeedbackCreating:{id:"urBely",defaultMessage:"You can't take actions on this feedback yet because it's still being processed. Once it's done processing, it will be available for review."},actionMessageNoActionsAvailable:{id:"JGNhjT",defaultMessage:"This feedback has been reviewed."},actionMessageApprovedWithoutSources:{id:"68PAfK",defaultMessage:"This feedback has already been approved without sources, but you can re-approve it with sources."},actionMessageFeedbackDeleted:{id:"Kel9lE",defaultMessage:"This feedback has been deleted."},labelIncludeSources:{id:"8UlZM0",defaultMessage:"Include Sources"},authorChatGPT:{id:"7Fo5p2",defaultMessage:"ChatGPT"},authorUser:{id:"TpT0hg",defaultMessage:"User"},userDisplayName:{id:"3OKTcX",defaultMessage:"{displayName} ({email})"},reviewStatusUnreviewed:{id:"FEHKZj",defaultMessage:"Needs Review"},reviewStatusCreating:{id:"7lVVU7",defaultMessage:"Preparing for Review"},reviewStatusApprovedWithSouces:{id:"kpZ41g",defaultMessage:"Approved With Sources"},reviewStatusApprovedWithoutSources:{id:"Y0lc+p",defaultMessage:"Approved Without Sources"},reviewStatusDeleted:{id:"gKoYhr",defaultMessage:"Deleted"}});function zf({currentWorkspaceId:s}){const{data:e,refetch:n,isLoading:o}=as({queryKey:["adminListCaMessageFeedback",s],queryFn:()=>dt.safeGet("/ca/admin/feedback",{parameters:{query:{account_id:s}}})}),[a,i]=P.useState();return t.jsxs(gn,{className:"mb-8",children:[t.jsx(Jn,{children:t.jsx(k,{id:"r4Y3mj",defaultMessage:"Review Feedback"})}),t.jsx(Xn,{className:"text-token-text-secondary",children:t.jsx(k,{id:"mqh7NS",defaultMessage:"Review feedback your workspace users have submitted. Feedback is not shared with OpenAI until you approve it."})}),e&&!o?t.jsx(Gf,{feedbackList:e.feedback,setSelectedFeedback:i}):t.jsx(He,{}),a&&t.jsx(Ef,{feedbackMetadata:a,currentWorkspaceId:s,onClose:()=>i(void 0),onFeedbackActionTaken:()=>n()})]})}function Qo(s){switch(s){case"unreviewed":return 1;case"approved_with_sources":return 2;case"approved_without_sources_data_available":return 3;case"approved_without_sources_data_expired":return 4;case"deleted":return 5}}function Gf({feedbackList:s,setSelectedFeedback:e}){const n=P.useMemo(()=>[...s].sort((o,a)=>{const i=Qo(o.review_status)-Qo(a.review_status);return i!==0?i:o.submitted_at>a.submitted_at?-1:o.submitted_at<a.submitted_at?1:0}),[s]);return t.jsxs(vt.Root,{size:"normal",children:[t.jsxs(vt.Header,{children:[t.jsx(vt.HeaderCell,{className:"bg-token-main-surface-primary",children:t.jsx(k,{id:"KcGNl2",defaultMessage:"Review Status"})}),t.jsx(vt.HeaderCell,{className:"bg-token-main-surface-primary w-40",children:t.jsx(k,{id:"joba0B",defaultMessage:"Submitted By"})}),t.jsx(vt.HeaderCell,{className:"bg-token-main-surface-primary w-40",children:t.jsx(k,{id:"yl1cCR",defaultMessage:"Submitted At"})})]}),t.jsx(vt.Body,{children:n.length===0?t.jsx(vt.Row,{children:t.jsx(vt.Cell,{children:t.jsx(k,{id:"AYwCJD",defaultMessage:"No feedback yet."})})}):n.map(o=>{const a=o.review_status==="deleted",i=a?void 0:()=>e(o);return t.jsxs(vt.Row,{className:se("my-2",a?"bg-token-main-surface-tertiary":"hover:bg-token-main-surface-secondary hover:cursor-pointer"),onClick:i,children:[t.jsx(vt.Cell,{className:"truncate",children:t.jsx(bi,{reviewStatus:o.review_status,onClick:i,disabled:a})}),t.jsx(vt.Cell,{className:"truncate",children:t.jsx("span",{children:o.submitter_display_name&&o.submitter_email?t.jsx(k,{id:"3OKTcX",defaultMessage:"{displayName} ({email})",values:{displayName:o.submitter_display_name,email:o.submitter_email}}):t.jsx("code",{children:o.submitter_id.split("__")[0]})})}),t.jsx(vt.Cell,{className:"truncate",children:t.jsx("span",{children:new Date(o.submitted_at).toLocaleString()})})]},o.feedback_id)})})]})}function ji(){"use forget";const s=F.c(34),e=le(),n=te(),o=ro();let a;s[0]!==e?(a=vr(e),s[0]=e,s[1]=a):a=s[1];const i=a,l=Xr(),c=Da();let r;s[2]!==e||s[3]!==c?(r=!1,s[2]=e,s[3]=c,s[4]=r):r=s[4];const d=r,{isComingSoon:f}=kr(),u=l||f,p=!!(o!=null&&o.isFreeWorkspace());let m;s[5]!==n?(m=n.formatMessage({id:"3ipf8K",defaultMessage:"Apps & Connectors"}),s[5]=n,s[6]=m):m=s[6];let h;s[7]!==u?(h=u?void 0:t.jsx(yi,{}),s[7]=u,s[8]=h):h=s[8];let x;s[9]!==m||s[10]!==h?(x=t.jsx(Hi,{title:m,subtitle:h}),s[9]=m,s[10]=h,s[11]=x):x=s[11];const y=x;if(p){let M;s[12]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(Wn,{skipLegacyWorkspaceCheck:!0,children:t.jsx(ca,{})}),s[12]=M):M=s[12];let w;return s[13]!==y?(w=t.jsxs(t.Fragment,{children:[y,M]}),s[13]=y,s[14]=w):w=s[14],w}let g;s[15]!==c?(g=c?t.jsxs(rl,{children:[t.jsx(k,{id:"9menCz",defaultMessage:"Connectors may allow end users to share data, which could include protected health information (PHI), with third parties. You should ensure that your use of connectors complies with your obligations under HIPAA. "}),t.jsx(Ns,{href:"https://help.openai.com/en/articles/11509118-admin-controls-security-and-compliance-in-connectors-enterprise-edu-and-team#h_f11dede080",className:"ms-1 underline",children:t.jsx(k,{id:"f0WqA2",defaultMessage:"Learn more about Connectors."})})]}):null,s[15]=c,s[16]=g):g=s[16];let b;s[17]!==o||s[18]!==i||s[19]!==f||s[20]!==l?(b=l?t.jsxs(t.Fragment,{children:[t.jsx(wd,{}),o!=null&&i===wr.ALPHA&&t.jsx(zf,{currentWorkspaceId:o.id})]}):f?t.jsx(Uf,{}):null,s[17]=o,s[18]=i,s[19]=f,s[20]=l,s[21]=b):b=s[21];let C;s[22]!==o||s[23]!==d?(C=o!=null&&t.jsx(gn,{children:t.jsx(Nf,{workspaceId:o.id,workspaceName:o.name,isQuorumBetaUser:d})}),s[22]=o,s[23]=d,s[24]=C):C=s[24];let j;s[25]!==b||s[26]!==C?(j=t.jsxs(cl,{className:"mt-6 gap-12",children:[b,C]}),s[25]=b,s[26]=C,s[27]=j):j=s[27];let _;s[28]!==g||s[29]!==j?(_=t.jsxs(Wn,{skipLegacyWorkspaceCheck:!0,children:[g,j]}),s[28]=g,s[29]=j,s[30]=_):_=s[30];let v;return s[31]!==y||s[32]!==_?(v=t.jsxs(t.Fragment,{children:[y,_]}),s[31]=y,s[32]=_,s[33]=v):v=s[33],v}function Uf(){"use forget";const s=F.c(5);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx(gn,{children:t.jsx(ii,{badge:t.jsx("div",{children:t.jsx("span",{className:"text-token-text-secondary rounded-xl border px-2 py-1 text-[8px] font-bold uppercase",children:t.jsx(k,{id:"IrfQIu",defaultMessage:"Coming soon"})})})})}),s[0]=e):e=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(dl,{className:"icon"}),s[1]=n):n=s[1];let o;s[2]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("p",{className:"text-xs font-bold",children:t.jsx(k,{id:"ES5xU+",defaultMessage:"When will this feature be available?"})}),s[2]=o):o=s[2];let a;s[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(k,{id:"FYrNXO",defaultMessage:"Internal knowledge will be rolled out incrementally to ChatGPT Business workspaces over the next few weeks. We will notify you in ChatGPT when your workspace is eligible."}),s[3]=a):a=s[3];let i;return s[4]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsxs(t.Fragment,{children:[e,t.jsxs("div",{className:"bg-token-bg-tertiary text-token-text-secondary flex flex-row gap-2 rounded-xl p-4",children:[n,t.jsxs("div",{className:"flex flex-col",children:[o,t.jsxs("p",{className:"text-xs",children:[a," ",t.jsx(Ns,{href:Rs,className:"underline",onClick:Wf,children:t.jsx(k,{id:"WGpoE2",defaultMessage:"Learn more"})})]})]})]})]}),s[4]=i):i=s[4],i}function Wf(){return mo({link:Rs,location:"admin_settings_coming_soon_widget"})}const qf={sharepoint_admin:"sharepoint",google_drive_oauth:"gdrive_action",google_drive_dwd:"gdrive_action"},yo=()=>{"use forget";const s=F.c(2),e=St();let n;return s[0]!==e?(n=o=>{e.setQueriesData({queryKey:["fetchPlatformConnectorData"]},a=>{if(!a)return a;let i=!1;const l={connectors:a.connectors.map(c=>c.id!==o||!c.actions_changed_since_review?c:(i=!0,xe(I({},c),{actions_changed_since_review:!1}))),templates:a.templates};return i?l:a})},s[0]=e,s[1]=n):n=s[1],n},en=()=>{"use forget";const s=F.c(8),e=le(),n=Te(e),o=St();let a;s[0]===Symbol.for("react.memo_cache_sentinel")?(a=Aa("workspace_settings",!0,!0),s[0]=a):a=s[0];const i=a,l=co(n==null?void 0:n.id),c="workspace-settings",r=n==null?void 0:n.getWorkspaceId();let d;s[1]!==r?(d=[c,r],s[1]=r,s[2]=d):d=s[2];const f=d;let u;return s[3]!==l||s[4]!==i||s[5]!==o||s[6]!==f?(u=()=>Promise.all([o.invalidateQueries({queryKey:i}),o.invalidateQueries({queryKey:l}),o.invalidateQueries({queryKey:f})]),s[3]=l,s[4]=i,s[5]=o,s[6]=f,s[7]=u):u=s[7],u},tn=()=>{"use forget";const s=F.c(3),e=le(),n=Te(e),o=St(),a=co(n==null?void 0:n.id);let i;return s[0]!==a||s[1]!==o?(i=()=>o.invalidateQueries({queryKey:a}),s[0]=a,s[1]=o,s[2]=i):i=s[2],i},Kf=kn(s=>{const e=s.filter(a=>{var i;return((i=a.labels)==null?void 0:i.admin_only_connector)!=="true"}).map(a=>xe(I({},a),{type:a.connector_type==="MCP"?Sr.MCP_CONNECTOR:Nr[a.id]})).filter(a=>a.connector_type==="FIRST_PARTY_ECOSYSTEM"||a.type!==void 0||!1),n=new Map,o=new Map;e.forEach(a=>{var i;((i=dn[a.type])==null?void 0:i.sync)===a.id?o.set(dn[a.type].access,a):n.set(a.id,{primaryConnector:a,relatedConnectors:[],knowledgeConfig:[],searchKeys:[]})});for(const[a,i]of o.entries()){const l=n.get(a);l?l.relatedConnectors.push(i):n.set(a,{primaryConnector:i,relatedConnectors:[],knowledgeConfig:[],searchKeys:[]})}return Array.from(n.values())}),Ci=()=>{"use forget";var w,S,N;const s=F.c(20),e=le(),n=Te(e);let o;s[0]!==e?(o=()=>cn(e,{productSku:We.ADMIN_SETTING,purpose:"workspace_settings",skipActions:!0,skipLogos:!0}),s[0]=e,s[1]=o):o=s[1];const{data:a,isLoading:i,error:l}=As(o);let c;s[2]!==(a==null?void 0:a.connectors)?(c=(w=a==null?void 0:a.connectors)!=null?w:[],s[2]=a==null?void 0:a.connectors,s[3]=c):c=s[3];const r=Kf(c);let d;s[4]!==a?(d=Mr(a),s[4]=a,s[5]=d):d=s[5];const f=d,{data:u,isLoading:p,refetch:m,error:h}=as({queryKey:co(n==null?void 0:n.id),queryFn:async()=>{if(!n)throw new Error("No current account");return await ai(n.id)},enabled:!!n}),x=Qf(),y=(S=n==null?void 0:n.isSelfServeBusiness())!=null?S:!1;let g;if(s[6]!==r||s[7]!==x||s[8]!==y||s[9]!==u){g=[...r.map(eu),...x];const E=new Map;g.forEach(T=>{var O;const R=new Set;for(const L of[T.primaryConnector,...T.relatedConnectors])R.add(L.type);for(const L of R)E.has(L)||E.set(L,[]),(O=E.get(L))==null||O.push(T)});const A=y?qs.filter(tu):qs,D=new Map;A.forEach(T=>{D.set(T.type,T)}),u==null||u.forEach((T,R)=>{const O="".concat(qf[R]||R,"_connector"),L=R==="sharepoint_admin"?"sharepoint":R,z=E.get(O),$=D.get(L);z==null||z.forEach(U=>{U.knowledgeConfig.push({key:R,display:$,availability:T.availability,connections:T.connections,limits:T.limits})})}),g.forEach(iu),s[6]=r,s[7]=x,s[8]=y,s[9]=u,s[10]=g}else g=s[10];const b=g,C=i||p,j=(N=l!=null?l:h)!=null?N:null;let _;s[11]!==e||s[12]!==m?(_=async()=>{await Promise.all([cn.refetch(e,{productSku:We.ADMIN_SETTING,purpose:"workspace_settings",skipActions:!0,skipLogos:!0}),m()])},s[11]=e,s[12]=m,s[13]=_):_=s[13];const v=_;let M;return s[14]!==f||s[15]!==j||s[16]!==C||s[17]!==v||s[18]!==b?(M={apps:b,appTemplates:f,isLoading:C,refetch:v,error:j},s[14]=f,s[15]=j,s[16]=C,s[17]=v,s[18]=b,s[19]=M):M=s[19],M},Mt="file_upload_connector",Hf=[{id:wt.CONTEXT_CONNECTOR_GDRIVE,name:{id:"fileUploadConnector.gdrive.name",defaultMessage:"Google Drive",description:"Name of the Google Drive file upload connector"},description:{id:"fileUploadConnector.gdrive.description",defaultMessage:"Upload Google Drive files in messages sent to ChatGPT.",description:"Description of the Google Drive file upload connector"},service:"gdrive_file_upload"},{id:wt.CONTEXT_CONNECTOR_O365_PERSONAL,name:{id:"fileUploadConnector.oneDrivePersonal.name",defaultMessage:"Microsoft OneDrive (personal)",description:"Name of the Microsoft OneDrive personal file upload connector"},description:{id:"fileUploadConnector.oneDrivePersonal.description",defaultMessage:"Upload personal OneDrive files in messages sent to ChatGPT.",description:"Description of the Microsoft OneDrive personal file upload connector"},service:"onedrive_file_upload"},{id:wt.CONTEXT_CONNECTOR_O365_BUSINESS,name:{id:"fileUploadConnector.oneDriveBusiness.name",defaultMessage:"Microsoft OneDrive (work/school)",description:"Name of the Microsoft OneDrive work/school file upload connector"},description:{id:"fileUploadConnector.oneDriveBusiness.description",defaultMessage:"Upload SharePoint and OneDrive for Business files in messages sent to ChatGPT.",description:"Description of the Microsoft OneDrive work/school file upload connector"},service:"sharepoint_file_upload"}],Qf=()=>{"use forget";var c;const s=F.c(5),e=te(),n=le();let o;s[0]!==n?(o=(c=Te(n))==null?void 0:c.getWorkspaceId(),s[0]=n,s[1]=o):o=s[1];const a=o,{data:i}=vn(a);i==null||i.beta_settings;let l;return s[2]!==e||s[3]!==(i==null?void 0:i.beta_settings)?(l=Hf.map(r=>({primaryConnector:{id:r.id,type:Mt,name:e.formatMessage(r.name),description:e.formatMessage(r.description),connector_type:"FIRST_PARTY_ECOSYSTEM",service:r.service,base_url:null,supported_auth:[],developer_type:"OAI",owners:[],access_list:[],actions:[],logo_url:null,conformance:{implements_retrievable:!1},status:i!=null&&i.beta_settings[r.id]?"ENABLED":"DISABLED_BY_ADMIN"},relatedConnectors:[],knowledgeConfig:[],rolesQuery:null,searchKeys:[e.formatMessage(r.name).toLowerCase(),e.formatMessage(r.description).toLowerCase()]})),s[2]=e,s[3]=i==null?void 0:i.beta_settings,s[4]=l):l=s[4],l},Yf=new Set(["google_drive_oauth","google_drive_dwd","slack"]),_i=(s,e)=>{var n,o;return(n=Te(e))!=null&&n.isSelfServeBusiness()?s.knowledgeConfig.length>0&&Yf.has((o=s.knowledgeConfig[0])==null?void 0:o.key):!0},Vf=new Set(["deleting","deleted"]),Zf=s=>s.knowledgeConfig.map(e=>xe(I({},e),{connections:e.connections.filter(n=>!Vf.has(n.connection_status))})).filter(e=>e.connections.length>0),Jf=s=>{"use forget";const e=F.c(15),n=le();let o;e[0]!==n?(o=Te(n),e[0]=n,e[1]=o):o=e[1];const a=o,i=s.connection_config.knowledge_connector_type==="slack"?"synced_channel":"synced_object";let l;e[2]!==s.connection_config.connection_config_id?(l=["kc-blocked-content",s.connection_config.connection_config_id],e[2]=s.connection_config.connection_config_id,e[3]=l):l=e[3];let c;e[4]!==a||e[5]!==s.connection_config.connection_config_id||e[6]!==i?(c=async m=>{var y,g,b;const{pageParam:h}=m;return a!=null&&a.isPersonalAccount()?await Le.user_connection_list_item_scopes((y=s.connection_config.connection_config_id)!=null?y:"",i,h):await Le.admin_connection_list_item_scopes((g=a==null?void 0:a.id)!=null?g:"",(b=s.connection_config.connection_config_id)!=null?b:"",i,h)},e[4]=a,e[5]=s.connection_config.connection_config_id,e[6]=i,e[7]=c):c=e[7];const r=!!a;let d;e[8]!==l||e[9]!==c||e[10]!==r?(d={queryKey:l,queryFn:c,enabled:r,initialPageParam:null,getNextPageParam:lu},e[8]=l,e[9]=c,e[10]=r,e[11]=d):d=e[11];const f=Ui(d);let u,p;return e[12]!==f?(u=()=>{f.hasNextPage&&!f.isFetchingNextPage&&f.fetchNextPage()},p=[f,f.hasNextPage,f.isFetchingNextPage],e[12]=f,e[13]=u,e[14]=p):(u=e[13],p=e[14]),P.useEffect(u,p),f},vi=s=>{"use forget";const e=F.c(3),n=St();let o;return e[0]!==s.connection_config.connection_config_id||e[1]!==n?(o=()=>n.invalidateQueries({queryKey:["kc-blocked-content",s.connection_config.connection_config_id]}),e[0]=s.connection_config.connection_config_id,e[1]=n,e[2]=o):o=e[2],o};function ki(s){"use forget";var p;const e=F.c(20),n=le();let o,a,i,l,c;if(e[0]!==n||e[1]!==s){o=Te(n);let m;e[7]!==s?(m=ec(s),e[7]=s,e[8]=m):m=e[8],a=m,c=as,i="workspace-analytics-project-overview",l=(p=o==null?void 0:o.getWorkspaceId())!=null?p:"",e[0]=n,e[1]=s,e[2]=o,e[3]=a,e[4]=i,e[5]=l,e[6]=c}else o=e[2],a=e[3],i=e[4],l=e[5],c=e[6];let r;e[9]!==a||e[10]!==i||e[11]!==l?(r=[i,l,a],e[9]=a,e[10]=i,e[11]=l,e[12]=r):r=e[12];let d;e[13]!==o||e[14]!==a?(d=async()=>{var h,x;return(x=(await dt.safeGet("/accounts/{account_id}/analytics/connector_overview",{parameters:{path:{account_id:(h=o==null?void 0:o.getWorkspaceId())!=null?h:""},query:{start_date:a}}})).daily_connector_messages_data)==null?void 0:x.reduce(Xf,new Map)},e[13]=o,e[14]=a,e[15]=d):d=e[15];const f=!!o;let u;return e[16]!==r||e[17]!==d||e[18]!==f?(u={queryKey:r,queryFn:d,enabled:f},e[16]=r,e[17]=d,e[18]=f,e[19]=u):u=e[19],c(u)}function Xf(s,e){var n;return Object.entries((n=e.messages_by_connector)!=null?n:{}).forEach(o=>{var l;const[a,i]=o;s.set(a,((l=s.get(a))!=null?l:0)+i)}),s}function eu(s){return xe(I({},s),{knowledgeConfig:new Array})}function tu(s){return!s.hideForTeamPlan}function su(s){return s.name}function nu(s){return s.display_info.display_name}function ou(s){return s.connections.map(nu)}function au(s){return s.toLowerCase()}function iu(s){s.searchKeys=[s.primaryConnector.name,...s.relatedConnectors.map(su),...s.knowledgeConfig.flatMap(ou)].filter(Boolean).map(au)}function lu(s){var e;return(e=s.page_token)!=null?e:null}const ru=["FILE_SEARCH","FILE_UPLOADS","SYNC","INTERACTIVE"],wi=kn(s=>{var n;const e=new Set;return s.knowledgeConfig.length>0&&e.add("SYNC"),s.primaryConnector.type===Mt&&e.add("FILE_UPLOADS"),[s.primaryConnector,...s.relatedConnectors].some(o=>o.conformance.implements_retrievable)&&e.add("FILE_SEARCH"),(n=s.primaryConnector.branding)!=null&&n.is_discoverable_app&&e.add("INTERACTIVE"),e}),cu=kn(s=>{const e=new Set(["CHAT"]);return([s.primaryConnector,...s.relatedConnectors].some(n=>n.conformance.implements_retrievable)||s.knowledgeConfig.length>0)&&(e.add("DEEP_RESEARCH"),e.add("COMPANY_KNOWLEDGE")),e}),ss=Ee({fileSearchCapability:{id:"3y7k7+",defaultMessage:"File Search"},fileUploadCapability:{id:"kAd+KM",defaultMessage:"File Uploads"},syncCapability:{id:"Hlwc4F",defaultMessage:"Sync"},interactiveCapability:{id:"xj2Avf",defaultMessage:"Interactive"},deepResearchCapability:{id:"fQIy/4",defaultMessage:"Deep Research"},companyKnowledgeCapability:{id:"z1RWI2",defaultMessage:"Company Knowledge"},chatCapability:{id:"BX0zFE",defaultMessage:"Chat"}}),Mi=(s,e)=>{switch(s){case"FILE_SEARCH":return e.formatMessage(ss.fileSearchCapability);case"FILE_UPLOADS":return e.formatMessage(ss.fileUploadCapability);case"SYNC":return e.formatMessage(ss.syncCapability);case"INTERACTIVE":return e.formatMessage(ss.interactiveCapability);default:return s}},du=(s,e)=>{switch(s){case"CHAT":return e.formatMessage(ss.chatCapability);case"DEEP_RESEARCH":return e.formatMessage(ss.deepResearchCapability);case"COMPANY_KNOWLEDGE":return e.formatMessage(ss.companyKnowledgeCapability);default:return s}},Yo={context_connector_gdrive:t.jsx(oo,{className:"h-8 w-8"}),context_connector_o365_personal:t.jsx(fn,{className:"h-8 w-8"}),context_connector_o365_business:t.jsx(fn,{className:"h-8 w-8"})},Dn=s=>{"use forget";const e=F.c(11),{app:n,size:o,className:a}=s,i=o===void 0?"medium":o;if(n.primaryConnector.type===Mt&&Yo[n.primaryConnector.id]){let d;e[0]!==a?(d=se("bg-token-bg-primary h-fit flex-shrink-0 rounded-xl border-[0.5px] p-2 shadow-sm",a),e[0]=a,e[1]=d):d=e[1];const f=Yo[n.primaryConnector.id];let u;return e[2]!==d||e[3]!==f?(u=t.jsx("div",{className:d,children:f}),e[2]=d,e[3]=f,e[4]=u):u=e[4],u}const l=n.primaryConnector;let c;e[5]!==a?(c=se("bg-token-bg-primary h-fit flex-shrink-0 rounded-xl border-[0.5px] p-2 shadow-sm",a),e[5]=a,e[6]=c):c=e[6];let r;return e[7]!==n.primaryConnector||e[8]!==i||e[9]!==c?(r=t.jsx(zt,{connector:l,size:i,className:c}),e[7]=n.primaryConnector,e[8]=i,e[9]=c,e[10]=r):r=e[10],r},bo=s=>{"use forget";var d;const e=F.c(8),n=le();let o;e[0]!==n?(o=Te(n),e[0]=n,e[1]=o):o=e[1];const a=o;let i;e[2]!==n?(i=jt(n),e[2]=n,e[3]=i):i=e[3];const l=i,c=(d=a==null?void 0:a.id)!=null?d:"";let r;return e[4]!==s.primaryConnector.id||e[5]!==l||e[6]!==c?(r={workspaceId:c,connectorId:s.primaryConnector.id,enabled:l},e[4]=s.primaryConnector.id,e[5]=l,e[6]=c,e[7]=r):r=e[7],Is(r)},Si=s=>{"use forget";var l;const e=F.c(6),n=le();let o,a;if(e[0]!==s||e[1]!==n){const c=Te(n),r=(l=c==null?void 0:c.id)!=null?l:"",d=jt(n);a=Wi,o=s.map(f=>({queryKey:lo(r,f.primaryConnector.id),enabled:d,queryFn:()=>dt.safeGet("/rbac/workspace/{workspace_id}/connector/{connector_id}/roles",{parameters:{query:{account_id:r,consistency:"strong"},path:{workspace_id:r,connector_id:f.primaryConnector.id}}})})),e[0]=s,e[1]=n,e[2]=o,e[3]=a}else o=e[2],a=e[3];let i;return e[4]!==o?(i={queries:o},e[4]=o,e[5]=i):i=e[5],a(i)},sn=s=>{var e;return(e=s==null?void 0:s.roles_with_permissions.filter(n=>n.connector_permissions.includes(Js.UseConnector)))!=null?e:[]};var un=(s=>(s[s.New=0]="New",s[s.Modified=1]="Modified",s[s.Unmodified=2]="Unmodified",s))(un||{});const Vo=s=>{"use forget";const e=F.c(5),{children:n,className:o}=s;let a;e[0]!==o?(a=se(o,"items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase"),e[0]=o,e[1]=a):a=e[1];let i;return e[2]!==n||e[3]!==a?(i=t.jsx("span",{className:a,children:n}),e[2]=n,e[3]=a,e[4]=i):i=e[4],i},fu=s=>{"use forget";const e=F.c(2),{delta:n}=s;switch(n){case 0:{let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(Vo,{className:"border-blue-100 text-blue-500 dark:border-blue-800 dark:text-blue-200",children:t.jsx(k,{id:"5wPfIg",defaultMessage:"New"})}),e[0]=o):o=e[0],o}case 1:{let o;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(Vo,{className:"border-token-border-status-warning text-token-text-status-warning",children:t.jsx(k,{id:"vpGa1d",defaultMessage:"Modified"})}),e[1]=o):o=e[1],o}case 2:default:return null}},Yn=s=>{try{return JSON.stringify(s,null,2)}catch(e){return null}},Bs={key:"text-blue-500 dark:text-blue-300",string:"text-green-600 dark:text-green-300",number:"text-purple-500 dark:text-purple-300",boolean:"text-orange-500 dark:text-orange-300",nullish:"text-red-500 dark:text-red-300"},uu=s=>{if(!s)return null;const e=/"(?:\\u[\da-fA-F]{4}|\\[^u]|[^\\"])*"|\btrue\b|\bfalse\b|\bnull\b|-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=[];let o=0,a,i=0;const l=c=>{c.length!==0&&n.push(t.jsx("span",{children:c},"json-text-".concat(i++)))};for(;(a=e.exec(s))!=null;){const c=a.index,r=a[0];c>o&&l(s.slice(o,c));const d=c+r.length;let f;if(r.startsWith('"')){let u=d;for(;u<s.length&&/\s/.test(s.charAt(u));)u+=1;f=s.charAt(u)===":"?Bs.key:Bs.string}else r==="true"||r==="false"?f=Bs.boolean:r==="null"?f=Bs.nullish:f=Bs.number;n.push(t.jsx("span",{className:f,children:r},"json-token-".concat(i++))),o=d}return o<s.length&&l(s.slice(o)),t.jsx(t.Fragment,{children:n})},mu=(s,e)=>{if(s==null||e==null)return{diffCount:{added:0,removed:0},diffComponent:null};let n=0;const o=(l,c="",r)=>t.jsx("div",{className:r,children:l.replace("/^.{0,".concat(c.length,"}/gm"),c)},"diff-block-".concat(n++)),a={added:0,removed:0},i=[];return Ya(s,e).forEach(l=>{const c=l.value.replace(/\n$/,"");l.added?(a.added+=c.split("\n").length,i.push(o(c,"+ ","text-green-600 dark:text-green-300"))):l.removed?(a.removed+=c.split("\n").length,i.push(o(c,"- ","text-red-500 dark:text-red-200"))):i.push(o(c))}),{diffCount:a,diffComponent:i.length?i:null}},Ni=s=>{"use forget";var W,Y;const e=F.c(49),{action:n,actionDelta:o,prevAction:a,className:i,initiallyCollapsed:l}=s,c=l===void 0?!1:l,r=te();let d;e[0]!==n?(d=Yn(n),e[0]=n,e[1]=d):d=e[1];const f=d;let u;e[2]!==f?(u=uu(f),e[2]=f,e[3]=u):u=e[3];const p=u,[m,h]=P.useState(c);let x;e:{if(o===1&&a){let J;e[4]!==a||e[5]!==f?(J=mu(f,Yn(a)),e[4]=a,e[5]=f,e[6]=J):J=e[6],x=J;break e}let V;e[7]===Symbol.for("react.memo_cache_sentinel")?(V={diffCount:{added:0,removed:0},diffComponent:null},e[7]=V):V=e[7],x=V}const{diffCount:y,diffComponent:g}=x,b=m?"end-1/2 ltr:translate-x-1/2 rtl:-translate-x-1/2":"end-0";let C;e[8]!==b?(C=se(["absolute bottom-0 z-20 transition-all duration-150",b]),e[8]=b,e[9]=C):C=e[9];const j=m?"secondary":"ghost";let _;e[10]!==m?(_=()=>h(!m),e[10]=m,e[11]=_):_=e[11];const v=m?xa:Fa,M=!m&&"text-token-text-tertiary hover:text-token-text-primary";let w;e[12]!==M?(w=se(["m-2",M]),e[12]=M,e[13]=w):w=e[13];let S;e[14]!==m?(S=m?t.jsx(k,{id:"0PERAC",defaultMessage:"Expand"}):t.jsx("span",{className:"sr-only",children:t.jsx(k,{id:"KwNF2K",defaultMessage:"Collapse"})}),e[14]=m,e[15]=S):S=e[15];let N;e[16]!==w||e[17]!==S||e[18]!==j||e[19]!==_||e[20]!==v?(N=t.jsx(Z,{size:"small",color:j,onClick:_,icon:v,className:w,children:S}),e[16]=w,e[17]=S,e[18]=j,e[19]=_,e[20]=v,e[21]=N):N=e[21];let E;e[22]!==N||e[23]!==C?(E=t.jsx("div",{className:C,children:N}),e[22]=N,e[23]=C,e[24]=E):E=e[24];const A=m&&"opacity-100";let D;e[25]!==A?(D=se("from-token-bg-tertiary/30 to-token-bg-tertiary pointer-events-none absolute inset-0 z-10 h-full bg-gradient-to-b opacity-0 transition-opacity duration-150",A),e[25]=A,e[26]=D):D=e[26];let T;e[27]!==D?(T=t.jsx("div",{className:D,"aria-hidden":"true"}),e[27]=D,e[28]=T):T=e[28];const R=m?"max-h-24 cursor-pointer overflow-hidden select-none":"max-h-72 cursor-text overflow-auto select-text";let O;e[29]!==i||e[30]!==R?(O=se([i,R,"bg-token-bg-tertiary text-token-text-secondary w-full px-3 py-2 font-mono text-xs leading-5 whitespace-pre-wrap transition-all duration-150"]),e[29]=i,e[30]=R,e[31]=O):O=e[31];let L;e[32]===Symbol.for("react.memo_cache_sentinel")?(L=()=>h(!1),e[32]=L):L=e[32];let z;e[33]!==g||e[34]!==p||e[35]!==r||e[36]!==f?(z=(Y=(W=g!=null?g:p)!=null?W:f)!=null?Y:r.formatMessage(hu.actionDetailsSerializationError),e[33]=g,e[34]=p,e[35]=r,e[36]=f,e[37]=z):z=e[37];let $;e[38]!==O||e[39]!==z?($=t.jsx("pre",{className:O,onClick:L,children:z}),e[38]=O,e[39]=z,e[40]=$):$=e[40];let U;e[41]!==y.added||e[42]!==y.removed?(U=y.added>0||y.removed>0?t.jsxs("div",{className:"bg-token-bg-primary/80 absolute end-2 top-2 z-30 flex items-center gap-1 rounded-full px-2 py-0.5 text-[10px] font-medium backdrop-blur-sm",children:[y.added>0&&t.jsxs("span",{className:"text-green-600 dark:text-green-500",children:["+",y.added]}),y.removed>0&&t.jsxs("span",{className:"text-red-500 dark:text-red-300",children:["-",y.removed]})]}):null,e[41]=y.added,e[42]=y.removed,e[43]=U):U=e[43];let G;return e[44]!==E||e[45]!==T||e[46]!==$||e[47]!==U?(G=t.jsxs("div",{className:"action-details border-token-border-default relative overflow-hidden rounded-xl border",children:[E,T,$,U]}),e[44]=E,e[45]=T,e[46]=$,e[47]=U,e[48]=G):G=e[48],G},pu=s=>{var n;let e=0;for(const o of(n=Yn(s))!=null?n:"")e=(e<<5)-e+o.charCodeAt(0),e|=0;return e},gu=(s,e)=>{"use forget";const n=F.c(4);if(!e){let a;return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=new Map,n[0]=a):a=n[0],a}let o;if(n[1]!==s||n[2]!==e){o=new Map;for(const a of s.entries()){const[i,l]=a,{hash:c}=l,r=e.get(i);r?r.hash!==c&&o.set(i,1):o.set(i,0)}n[1]=s,n[2]=e,n[3]=o}else o=n[3];return o},hu=Ee({actionDetailsSerializationError:{id:"j5DFg9",defaultMessage:"Error serializing action details"}}),xu=()=>{"use forget";const s=F.c(4);let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx(Gt,{id:"action-toggle-skeleton",checked:!1,disabled:!0}),s[0]=e):e=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"flex-1 space-y-0.5",children:t.jsx(os,{})}),s[1]=n):n=s[1];let o;s[2]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("div",{className:"from-token-bg-tertiary/30 to-token-bg-tertiary absolute inset-0 z-10 h-full bg-gradient-to-b","aria-hidden":"true"}),s[2]=o):o=s[2];let a;return s[3]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsxs("li",{className:"border-token-border-default grid cursor-wait grid-cols-[auto_1fr] gap-4 p-4",children:[e,n,t.jsxs("div",{className:"border-token-border-default relative col-start-2 overflow-hidden rounded-xl border",children:[o,t.jsx("pre",{className:"bg-token-bg-tertiary h-24 w-full overflow-hidden px-3 py-2",children:t.jsx(os,{lines:4,heightSize:"sm",delay:.07})})]})]}),s[3]=a):a=s[3],a},yu=s=>{"use forget";const e=F.c(69),{action:n,actionDelta:o,prevAction:a,isEnabled:i,onToggle:l,disabled:c}=s,r=c===void 0?!1:c;let d;if(e[0]!==n.name){let O;e[2]===Symbol.for("react.memo_cache_sentinel")?(O=/[^a-zA-Z0-9_-]/g,e[2]=O):O=e[2],d=n.name.replace(O,"-"),e[0]=n.name,e[1]=d}else d=e[1];const f=d,u="action-toggle-".concat(f);let p,m,h,x,y,g,b,C,j,_;if(e[3]!==n||e[4]!==r||e[5]!==i||e[6]!==l||e[7]!==u){const O=Ds(n);h="group",p=u;const L=r?"cursor-not-allowed":"cursor-pointer";e[18]!==L?(m=se(["border-token-border-default block border-b p-2 group-last:border-0",L]),e[18]=L,e[19]=m):m=e[19];const z=!r&&"group-hover:bg-token-bg-tertiary";e[20]!==z?(j=se("has-[.action-details:hover]:bg-token-bg-primary grid grid-cols-[auto_1fr] items-center gap-4 rounded-lg p-2 select-none",z),e[20]=z,e[21]=j):j=e[21];let $;e[22]!==n.name||e[23]!==l?($=W=>l(n.name,W.target.checked),e[22]=n.name,e[23]=l,e[24]=$):$=e[24],e[25]!==r||e[26]!==i||e[27]!==$||e[28]!==u?(_=t.jsx(Gt,{id:u,checked:i,onChange:$,disabled:r}),e[25]=r,e[26]=i,e[27]=$,e[28]=u,e[29]=_):_=e[29],C="flex-1 space-y-0.5",g="flex flex-wrap items-start gap-2";const U=r&&"text-token-text-secondary";let G;e[30]!==U?(G=se(["font-mono text-sm font-medium",U]),e[30]=U,e[31]=G):G=e[31],e[32]!==n.name||e[33]!==G?(b=t.jsx("div",{className:G,children:n.name}),e[32]=n.name,e[33]=G,e[34]=b):b=e[34],x="flex items-center gap-1 select-none",y=Ps({badgeKeys:O,labels:Es}),e[3]=n,e[4]=r,e[5]=i,e[6]=l,e[7]=u,e[8]=p,e[9]=m,e[10]=h,e[11]=x,e[12]=y,e[13]=g,e[14]=b,e[15]=C,e[16]=j,e[17]=_}else p=e[8],m=e[9],h=e[10],x=e[11],y=e[12],g=e[13],b=e[14],C=e[15],j=e[16],_=e[17];let v;e[35]!==o?(v=t.jsx(fu,{delta:o}),e[35]=o,e[36]=v):v=e[36];let M;e[37]!==v||e[38]!==x||e[39]!==y?(M=t.jsxs("div",{className:x,children:[y,v]}),e[37]=v,e[38]=x,e[39]=y,e[40]=M):M=e[40];let w;e[41]!==M||e[42]!==g||e[43]!==b?(w=t.jsxs("div",{className:g,children:[b,M]}),e[41]=M,e[42]=g,e[43]=b,e[44]=w):w=e[44];let S;e[45]!==n.description?(S=n.description?n.description:t.jsx(k,I({},bt.noDescription)),e[45]=n.description,e[46]=S):S=e[46];let N;e[47]!==S?(N=t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5",children:S}),e[47]=S,e[48]=N):N=e[48];let E;e[49]!==w||e[50]!==N||e[51]!==C?(E=t.jsxs("div",{className:C,children:[w,N]}),e[49]=w,e[50]=N,e[51]=C,e[52]=E):E=e[52];let A;e[53]!==n||e[54]!==o||e[55]!==a?(A=t.jsx("div",{className:"pointer-events-none col-start-2 min-w-0",onClick:Cu,children:t.jsx(Ni,{action:n,actionDelta:o,prevAction:a,initiallyCollapsed:!0,className:"pointer-events-auto"})}),e[53]=n,e[54]=o,e[55]=a,e[56]=A):A=e[56];let D;e[57]!==E||e[58]!==A||e[59]!==j||e[60]!==_?(D=t.jsxs("div",{className:j,children:[_,E,A]}),e[57]=E,e[58]=A,e[59]=j,e[60]=_,e[61]=D):D=e[61];let T;e[62]!==p||e[63]!==m||e[64]!==D?(T=t.jsx("label",{htmlFor:p,className:m,children:D}),e[62]=p,e[63]=m,e[64]=D,e[65]=T):T=e[65];let R;return e[66]!==h||e[67]!==T?(R=t.jsx("li",{className:h,children:T}),e[66]=h,e[67]=T,e[68]=R):R=e[68],R},bu=s=>{"use forget";const e=F.c(45),{app:n,actions:o,prevActions:a,deltas:i,initialEnabledActions:l,onRefreshActions:c,refreshingActions:r,onSubmit:d,submitting:f,onCancel:u}=s,[p,m]=P.useState(l);let h;e[0]!==i||e[1]!==p?(h=Array.from(i.entries().filter(_u)).map(vu).filter(O=>!(p!=null&&p.has(O))),e[0]=i,e[1]=p,e[2]=h):h=e[2];const x=h;let y;e[3]!==o?(y=o.map(ku),e[3]=o,e[4]=y):y=e[4];const g=y;let b;if(e[5]!==o||e[6]!==i){let R;e[8]!==i?(R=(O,L)=>{var U,G;const z=(U=i.get(O.name))!=null?U:un.Unmodified,$=(G=i.get(L.name))!=null?G:un.Unmodified;return z-$||O.name.localeCompare(L.name)},e[8]=i,e[9]=R):R=e[9],b=o.sort(R),e[5]=o,e[6]=i,e[7]=b}else b=e[7];const C=b,j=!!r||f;let _;e[10]!==n.primaryConnector.developer_type?(_=n.primaryConnector.developer_type==="UNTRUSTED"&&t.jsx("p",{className:"text-token-text-secondary pb-0 text-sm leading-5",children:t.jsx(k,xe(I({},bt.actionsDescription),{values:{link:wu}}))}),e[10]=n.primaryConnector.developer_type,e[11]=_):_=e[11];let v;e[12]!==g||e[13]!==o.length||e[14]!==i||e[15]!==j||e[16]!==p||e[17]!==c||e[18]!==a||e[19]!==r||e[20]!==C||e[21]!==f||e[22]!==x?(v=o.length===0?t.jsx("p",{className:"text-token-text-tertiary m-4 text-center text-xs italic",children:t.jsx(k,I({},bt.noActionsLabel))}):t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[o.length===(p==null?void 0:p.size)?t.jsx(Z,{color:"secondary",size:"small",onClick:()=>m(new Set),disabled:j,children:t.jsx(k,I({},bt.deselectAllLabel))}):t.jsx(Z,{color:"secondary",size:"small",onClick:()=>m(new Set(g)),className:se(x.length>0&&"rounded-e-none pe-2"),disabled:j,children:t.jsx(k,I({},bt.selectAllLabel))}),x.length>0&&t.jsx(Z,{size:"small",onClick:()=>m(R=>{const O=new Set(R);return x.forEach(L=>O.add(L)),O}),color:"custom",className:"rounded-s-none border border-blue-100 ps-2 text-blue-800 dark:border-blue-700 dark:text-blue-50",children:t.jsx(k,I({},bt.selectAllNewLabel))})]}),c&&t.jsx(Z,{size:"small",color:"secondary",loading:r,disabled:f,onClick:c,children:t.jsx(k,I({},bt.refreshLabel))})]}),t.jsx("ul",{className:"border-token-border-default rounded-2xl border",children:C.map(R=>{var O;return t.jsx(yu,{action:R,actionDelta:i.get(R.name),prevAction:(O=a==null?void 0:a.get(R.name))==null?void 0:O.action,isEnabled:!!(p!=null&&p.has(R.name)),onToggle:(L,z)=>{m($=>{const U=new Set($);return z?U.add(L):U.delete(L),U})},disabled:j},R.name)})})]}),e[12]=g,e[13]=o.length,e[14]=i,e[15]=j,e[16]=p,e[17]=c,e[18]=a,e[19]=r,e[20]=C,e[21]=f,e[22]=x,e[23]=v):v=e[23];let M;e[24]!==_||e[25]!==v?(M=t.jsxs("div",{className:"space-y-3 overflow-y-auto p-4",children:[_,v]}),e[24]=_,e[25]=v,e[26]=M):M=e[26];let w;e[27]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(k,{id:"otQMlF",defaultMessage:"Cancel"}),e[27]=w):w=e[27];let S;e[28]!==j||e[29]!==u?(S=t.jsx(Z,{color:"secondary",onClick:u,disabled:j,children:w}),e[28]=j,e[29]=u,e[30]=S):S=e[30];let N;e[31]!==p||e[32]!==d?(N=()=>d(Array.from(p!=null?p:[])),e[31]=p,e[32]=d,e[33]=N):N=e[33];let E;e[34]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx(k,{id:"b6Dv1o",defaultMessage:"Confirm"}),e[34]=E):E=e[34];let A;e[35]!==r||e[36]!==f||e[37]!==N?(A=t.jsx(Z,{onClick:N,loading:f,disabled:r,children:E}),e[35]=r,e[36]=f,e[37]=N,e[38]=A):A=e[38];let D;e[39]!==A||e[40]!==S?(D=t.jsxs("div",{className:"border-token-border-default flex justify-end gap-2 border-t p-4",children:[S,A]}),e[39]=A,e[40]=S,e[41]=D):D=e[41];let T;return e[42]!==D||e[43]!==M?(T=t.jsxs(t.Fragment,{children:[M,D]}),e[42]=D,e[43]=M,e[44]=T):T=e[44],T},Ti=s=>{"use forget";var K;const e=F.c(52),{app:n,onClose:o,onCancel:a,onConfirm:i,initialEnabledActions:l,showOverlayBackground:c,submitting:r}=s,d=c===void 0?!0:c,f=r===void 0?!1:r,u=te();let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={forceEnable:!0},e[0]=p):p=e[0];const{actions:m,isLoading:h,refetch:x}=Kt(n.primaryConnector,We.ADMIN_SETTING,p);let y;e:{if(l){y=l;break e}let q;e[1]!==m?(q=new Set(m.filter(Mu).map(Su)),e[1]=m,e[2]=q):q=e[2],y=q}const g=y;let b;if(e[3]!==m){b=new Map;for(const q of m)b.set(q.name,{action:q,hash:pu(q)});e[3]=m,e[4]=b}else b=e[4];const C=b,[j,_]=P.useState(null),v=gu(C,j),M=le();let w;if(e[5]!==M){const q=Te(M);w=q==null?void 0:q.getWorkspaceId(),e[5]=M,e[6]=w}else w=e[6];const S=w,N=Zs(),E=yo(),A=P.useRef(!1);let D,T;e[7]!==m||e[8]!==h||e[9]!==n.primaryConnector.actions_changed_since_review||e[10]!==n.primaryConnector.id||e[11]!==E||e[12]!==N||e[13]!==S?(D=()=>{if(A.current||!S||!n.primaryConnector.actions_changed_since_review||h)return;A.current=!0;const q=m.filter(Nu).map(Tu);(async()=>(await bn(n.primaryConnector.id,S,q),N(),E(n.primaryConnector.id)))()},T=[m,h,n.primaryConnector.actions_changed_since_review,n.primaryConnector.id,E,N,S],e[7]=m,e[8]=h,e[9]=n.primaryConnector.actions_changed_since_review,e[10]=n.primaryConnector.id,e[11]=E,e[12]=N,e[13]=S,e[14]=D,e[15]=T):(D=e[14],T=e[15]),P.useEffect(D,T);let R;e[16]!==M?(R=Xe(M),e[16]=M,e[17]=R):R=e[17];const O=R;let L;e[18]!==C||e[19]!==j||e[20]!==x?(L=async q=>{j||_(C),await Sa(q),await x()},e[18]=C,e[19]=j,e[20]=x,e[21]=L):L=e[21];let z;e[22]!==O?(z=q=>{O.danger(bt.refreshActionsError,{error:q})},e[22]=O,e[23]=z):z=e[23];let $;e[24]!==z||e[25]!==L?($={mutationFn:L,onError:z},e[24]=z,e[25]=L,e[26]=$):$=e[26];const U=qe($);let G;e[27]!==M?(G=()=>Tr(M,{fetchValidLinksOnly:!0,productSku:We.ADMIN_SETTING}),e[27]=M,e[28]=G):G=e[28];const{data:W}=As(G);let Y;e[29]!==n.primaryConnector.id||e[30]!==W?(Y=(K=W==null?void 0:W.get(n.primaryConnector.id))==null?void 0:K[0],e[29]=n.primaryConnector.id,e[30]=W,e[31]=Y):Y=e[31];const V=Y,J=Ia(n.primaryConnector)&&V!==void 0;let Q;e[32]!==u?(Q=u.formatMessage(bt.actionsControlModalTitle),e[32]=u,e[33]=Q):Q=e[33];let X;e[34]!==v||e[35]!==m||e[36]!==h||e[37]!==n||e[38]!==J||e[39]!==g||e[40]!==V||e[41]!==a||e[42]!==i||e[43]!==j||e[44]!==U||e[45]!==f?(X=h&&!U.isPending?t.jsxs("div",{className:"space-y-4 overflow-y-auto p-4",children:[t.jsx("p",{className:"text-token-text-secondary pb-0 text-sm leading-5",children:t.jsx(k,xe(I({},bt.actionsDescription),{values:{link:Au}}))}),t.jsx("ul",{className:"border-token-border-default rounded-2xl border",children:t.jsx(xu,{})})]}):t.jsx(bu,{app:n,actions:m,prevActions:j,deltas:v,initialEnabledActions:g,onCancel:a,onSubmit:i,refreshingActions:U.isPending,submitting:f,onRefreshActions:J?()=>{U.mutate(V.id)}:void 0}),e[34]=v,e[35]=m,e[36]=h,e[37]=n,e[38]=J,e[39]=g,e[40]=V,e[41]=a,e[42]=i,e[43]=j,e[44]=U,e[45]=f,e[46]=X):X=e[46];let B;return e[47]!==o||e[48]!==d||e[49]!==Q||e[50]!==X?(B=t.jsx(Ie,{isOpen:!0,onClose:o,showOverlayBackground:d,testId:"modal-app-actions-control",title:Q,size:"xlarge",hasSeparator:!0,noPadding:!0,contentClassName:"flex flex-col max-h-[80vh]",children:X}),e[47]=o,e[48]=d,e[49]=Q,e[50]=X,e[51]=B):B=e[51],B},ju=s=>{"use forget";const e=F.c(29),{app:n,onClose:o}=s,a=te(),i=le();let l;if(e[0]!==i){const v=Te(i);l=v==null?void 0:v.getWorkspaceId(),e[0]=i,e[1]=l}else l=e[1];const c=l;let r;e[2]!==i?(r=Xe(i),e[2]=i,e[3]=r):r=e[3];const d=r,f=St(),u=Zs(),p=yo();let m;e[4]!==n||e[5]!==p||e[6]!==u||e[7]!==f||e[8]!==c?(m=async v=>{if(!c)throw new Error("Workspace ID is required to update app actions.");await bn(n.primaryConnector.id,c,v),u(),p(n.primaryConnector.id),f.invalidateQueries({queryKey:["connector-actions",n.primaryConnector.id]})},e[4]=n,e[5]=p,e[6]=u,e[7]=f,e[8]=c,e[9]=m):m=e[9];let h;e[10]!==a||e[11]!==o||e[12]!==d?(h=()=>{d.success(a.formatMessage({id:"AW+VoO",defaultMessage:"App actions updated successfully."})),o()},e[10]=a,e[11]=o,e[12]=d,e[13]=h):h=e[13];let x;e[14]!==a||e[15]!==d?(x=()=>{d.danger(a.formatMessage({id:"IRGvbN",defaultMessage:"Failed to update app actions. Please try again."}))},e[14]=a,e[15]=d,e[16]=x):x=e[16];let y;e[17]!==m||e[18]!==h||e[19]!==x?(y={mutationFn:m,onSuccess:h,onError:x},e[17]=m,e[18]=h,e[19]=x,e[20]=y):y=e[20];const{mutateAsync:g,isPending:b}=qe(y);let C;e[21]!==o||e[22]!==b?(C=()=>{b||o()},e[21]=o,e[22]=b,e[23]=C):C=e[23];const j=C;let _;return e[24]!==n||e[25]!==j||e[26]!==g||e[27]!==b?(_=t.jsx(Ti,{app:n,onClose:j,onCancel:j,onConfirm:g,submitting:b}),e[24]=n,e[25]=j,e[26]=g,e[27]=b,e[28]=_):_=e[28],_},Ai=s=>{"use forget";const e=F.c(28),{app:n,onClose:o,onBack:a,showOverlayBackground:i,showBackButton:l}=s,c=i===void 0?!0:i,r=l===void 0?!1:l,d=te(),f=le();let u;if(e[0]!==f){const N=Te(f);u=N==null?void 0:N.getWorkspaceId(),e[0]=f,e[1]=u}else u=e[1];const p=u,m=Zs(),h=P.useRef(!1),x=yo();let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y={forceEnable:!0},e[2]=y):y=e[2];const{actions:g,isLoading:b}=Kt(n.primaryConnector,We.ADMIN_SETTING,y);let C,j;e[3]!==g||e[4]!==b||e[5]!==n.primaryConnector.actions_changed_since_review||e[6]!==n.primaryConnector.id||e[7]!==x||e[8]!==m||e[9]!==p?(C=()=>{if(h.current||!p||!n.primaryConnector.actions_changed_since_review||b)return;h.current=!0;const N=g.filter(Du).map(Pu);(async()=>(await bn(n.primaryConnector.id,p,N),m(),x(n.primaryConnector.id)))()},j=[g,b,n.primaryConnector.actions_changed_since_review,n.primaryConnector.id,x,m,p],e[3]=g,e[4]=b,e[5]=n.primaryConnector.actions_changed_since_review,e[6]=n.primaryConnector.id,e[7]=x,e[8]=m,e[9]=p,e[10]=C,e[11]=j):(C=e[10],j=e[11]),P.useEffect(C,j);let _;e[12]!==d?(_=d.formatMessage(bt.actionDetailsTitle),e[12]=d,e[13]=_):_=e[13];let v;e[14]!==n.primaryConnector.developer_type?(v=n.primaryConnector.developer_type==="UNTRUSTED"&&t.jsx("p",{className:"text-token-text-secondary text-sm leading-5 text-pretty",children:t.jsx(k,xe(I({},bt.actionsDescription),{values:{link:Eu}}))}),e[14]=n.primaryConnector.developer_type,e[15]=v):v=e[15];let M;e[16]!==g?(M=g.length===0?t.jsx("p",{className:"text-token-text-tertiary text-xs italic",children:t.jsx(k,I({},bt.noActionsLabel))}):t.jsx("div",{className:"space-y-6",children:g.map(Iu)}),e[16]=g,e[17]=M):M=e[17];let w;e[18]!==v||e[19]!==M?(w=t.jsxs("div",{className:"space-y-6 p-2",children:[v,M]}),e[18]=v,e[19]=M,e[20]=w):w=e[20];let S;return e[21]!==a||e[22]!==o||e[23]!==r||e[24]!==c||e[25]!==w||e[26]!==_?(S=t.jsx(Ie,{isOpen:!0,onClose:o,onBack:a,title:_,size:"xlarge",showCloseButton:!0,showBackButton:r,testId:"modal-app-action-details",hasSeparator:!0,className:"max-h-[600px]",showOverlayBackground:c,children:w}),e[21]=a,e[22]=o,e[23]=r,e[24]=c,e[25]=w,e[26]=_,e[27]=S):S=e[27],S},bt=Ee({actionDetailsTitle:{id:"BCnPHp",defaultMessage:"Action details"},actionDetailsSerializationError:{id:"XmTk8D",defaultMessage:"Unable to display action details."},noDescription:{id:"6DgzBU",defaultMessage:"No description provided."},actionsDescription:{id:"Fd6WaB",defaultMessage:"ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it. <link>Learn more about action discovery.</link>"},noActionsLabel:{id:"139ppy",defaultMessage:"No actions are available for this app."},actionsControlModalTitle:{id:"l9jKOn",defaultMessage:"Which actions should be available?"},selectAllLabel:{id:"p/M8Da",defaultMessage:"Select All"},deselectAllLabel:{id:"M612Su",defaultMessage:"Deselect All"},refreshLabel:{id:"e0MhOD",defaultMessage:"Refresh"},selectAllNewLabel:{id:"vV2hNN",defaultMessage:"Select New"},refreshActionsError:{id:"AHelUR",defaultMessage:"Failed to refresh app actions"}});function Cu(s){s.stopPropagation(),s.preventDefault()}function _u(s){const[,e]=s;return e===un.New}function vu(s){const[e]=s;return e}function ku(s){return s.name}function wu(s){return t.jsx(ct,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s})}function Mu(s){return s.is_enabled}function Su(s){return s.name}function Nu(s){return s.is_enabled!==!1}function Tu(s){return s.name}function Au(s){return t.jsx(ct,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s})}function Du(s){return s.is_enabled!==!1}function Pu(s){return s.name}function Eu(s){return t.jsx(ct,{href:"https://modelcontextprotocol.io/specification/2025-06-18/server/tools#listing-tools",openNewTab:!0,className:"inline",children:s},"custom-connector-banner-link")}function Iu(s){const e=Ds(s);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("div",{className:se(["font-mono text-sm font-medium",s.is_enabled===!1&&"text-token-text-secondary"]),children:s.name}),Ps({badgeKeys:e,labels:Es})]}),s.description&&t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs leading-5",children:s.description})]}),t.jsx(Ni,{action:s,initiallyCollapsed:!0})]},s.name)}const Di=s=>{"use forget";const e=F.c(6),{className:n,children:o,showBackground:a}=s,l=(a===void 0?!0:a)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let c;e[0]!==n||e[1]!==l?(c=se("fixed inset-0 z-10",l,n),e[0]=n,e[1]=l,e[2]=c):c=e[2];let r;return e[3]!==o||e[4]!==c?(r=t.jsx("div",{className:c,children:o}),e[3]=o,e[4]=c,e[5]=r):r=e[5],r},Ru=s=>s.primaryConnector.connector_type==="SERVICE"?Fe.serviceAppType:s.primaryConnector.connector_type==="MCP"?Fe.mcpAppType:s.primaryConnector.connector_type==="OPEN_API"?Fe.openapiAppType:Fe.firstPartyAppType,Ou=s=>{"use forget";var v,M,w,S,N,E,A,D,T,R,O,L,z,$,U,G,W,Y,V,J;const e=F.c(59),{app:n}=s,o=te();let a,i,l,c,r,d,f,u,p;if(e[0]!==n||e[1]!==o){const Q=Array.from(wi(n)),X=Array.from(cu(n));let B;e[11]!==((v=n.primaryConnector.branding)==null?void 0:v.developer)||e[12]!==o?(B=(w=(M=n.primaryConnector.branding)==null?void 0:M.developer)!=null?w:o.formatMessage(Fe.unknownDeveloperLabel),e[11]=(S=n.primaryConnector.branding)==null?void 0:S.developer,e[12]=o,e[13]=B):B=e[13],a=B,f="space-y-3";let K;e[14]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("h4",{className:"text-base font-medium",children:t.jsx(k,I({},Fe.aboutTitle))}),e[14]=K):K=e[14];let q;e[15]!==n.primaryConnector.developer_type||e[16]!==n.primaryConnector.id?(q=n.primaryConnector.developer_type!=="UNTRUSTED"&&t.jsxs(ct,{className:"text-token-text-tertiary mb-[1px] flex items-center gap-1 no-underline! hover:underline!",href:"/apps/a/".concat(n.primaryConnector.id),target:"_blank",children:[t.jsx("span",{className:"text-xs text-pretty",children:t.jsx(k,I({},Fe.directoryLinkText))}),t.jsx(Pa,{className:"h-3 w-3"})]}),e[15]=n.primaryConnector.developer_type,e[16]=n.primaryConnector.id,e[17]=q):q=e[17],e[18]!==q?(u=t.jsxs("div",{className:"flex items-center justify-between gap-6",children:[K,q]}),e[18]=q,e[19]=u):u=e[19],e[20]!==n.primaryConnector.description?(p=n.primaryConnector.description&&t.jsx("p",{className:"text-token-text-primary text-sm text-pretty",children:n.primaryConnector.description}),e[20]=n.primaryConnector.description,e[21]=p):p=e[21],d="w-full table-auto border-separate border-spacing-y-2 text-xs";let oe;e[22]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.appType))}),e[22]=oe):oe=e[22];const ne=o.formatMessage(Ru(n));e[23]!==ne?(i=t.jsxs("tr",{children:[oe,t.jsx("td",{className:"align-top",children:ne})]}),e[23]=ne,e[24]=i):i=e[24],e[25]!==((N=n.primaryConnector.branding)==null?void 0:N.category)||e[26]!==o?(l=((E=n.primaryConnector.branding)==null?void 0:E.category)&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.appCategory))}),t.jsx("td",{className:"align-top",children:Ra((A=n.primaryConnector.branding)==null?void 0:A.category,o)})]}),e[25]=(D=n.primaryConnector.branding)==null?void 0:D.category,e[26]=o,e[27]=l):l=e[27],c=Q.length>0&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.capabilities))}),t.jsx("td",{className:"align-top",children:Q.map(H=>Mi(H,o)).join(", ")})]}),r=X.length>0&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.compatibilities))}),t.jsx("td",{className:"align-top",children:X.map(H=>du(H,o)).join(", ")})]}),e[0]=n,e[1]=o,e[2]=a,e[3]=i,e[4]=l,e[5]=c,e[6]=r,e[7]=d,e[8]=f,e[9]=u,e[10]=p}else a=e[2],i=e[3],l=e[4],c=e[5],r=e[6],d=e[7],f=e[8],u=e[9],p=e[10];let m;e[28]!==n.primaryConnector.created_at?(m=n.primaryConnector.created_at&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.createdAtLabel))}),t.jsx("td",{className:"align-top",children:new Date(n.primaryConnector.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),e[28]=n.primaryConnector.created_at,e[29]=m):m=e[29];let h;e[30]!==a?(h=a&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.developerLabel))}),t.jsx("td",{className:"align-top",children:a})]}),e[30]=a,e[31]=h):h=e[31];let x;e[32]!==n.primaryConnector.base_url?(x=n.primaryConnector.base_url&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.urlLabel))}),t.jsx("td",{className:"align-top",children:n.primaryConnector.base_url})]}),e[32]=n.primaryConnector.base_url,e[33]=x):x=e[33];let y;e[34]!==((T=n.primaryConnector.branding)==null?void 0:T.website)?(y=((R=n.primaryConnector.branding)==null?void 0:R.website)&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.websiteLabel))}),t.jsx("td",{className:"align-top",children:t.jsx(ct,{href:(O=n.primaryConnector.branding)==null?void 0:O.website,target:"_blank",rel:"noopener noreferrer",children:t.jsx(Ln,{className:"text-token-bg-accent-static -mx-0.5 h-4 w-4"})})})]}),e[34]=(L=n.primaryConnector.branding)==null?void 0:L.website,e[35]=y):y=e[35];let g;e[36]!==((z=n.primaryConnector.branding)==null?void 0:z.privacy_policy)?(g=(($=n.primaryConnector.branding)==null?void 0:$.privacy_policy)&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.privacyPolicyLabel))}),t.jsx("td",{className:"align-top",children:t.jsx(ct,{href:(U=n.primaryConnector.branding)==null?void 0:U.privacy_policy,target:"_blank",rel:"noopener noreferrer",children:t.jsx(Ln,{className:"text-token-bg-accent-static -mx-0.5 h-4 w-4"})})})]}),e[36]=(G=n.primaryConnector.branding)==null?void 0:G.privacy_policy,e[37]=g):g=e[37];let b;e[38]!==((W=n.primaryConnector.branding)==null?void 0:W.terms_of_service)?(b=((Y=n.primaryConnector.branding)==null?void 0:Y.terms_of_service)&&t.jsxs("tr",{children:[t.jsx("td",{className:"text-token-text-secondary w-1/3",children:t.jsx(k,I({},Fe.tosLabel))}),t.jsx("td",{className:"align-top",children:t.jsx(ct,{href:(V=n.primaryConnector.branding)==null?void 0:V.terms_of_service,target:"_blank",rel:"noopener noreferrer",children:t.jsx(Ln,{className:"text-token-bg-accent-static -mx-0.5 h-4 w-4"})})})]}),e[38]=(J=n.primaryConnector.branding)==null?void 0:J.terms_of_service,e[39]=b):b=e[39];let C;e[40]!==i||e[41]!==h||e[42]!==x||e[43]!==y||e[44]!==g||e[45]!==b||e[46]!==l||e[47]!==c||e[48]!==r||e[49]!==m?(C=t.jsxs("tbody",{children:[i,l,c,r,m,h,x,y,g,b]}),e[40]=i,e[41]=h,e[42]=x,e[43]=y,e[44]=g,e[45]=b,e[46]=l,e[47]=c,e[48]=r,e[49]=m,e[50]=C):C=e[50];let j;e[51]!==C||e[52]!==d?(j=t.jsx("table",{className:d,children:C}),e[51]=C,e[52]=d,e[53]=j):j=e[53];let _;return e[54]!==j||e[55]!==f||e[56]!==u||e[57]!==p?(_=t.jsxs("div",{className:f,children:[u,p,j]}),e[54]=j,e[55]=f,e[56]=u,e[57]=p,e[58]=_):_=e[58],_},Lu=s=>{"use forget";const e=F.c(22),{app:n,onDetails:o}=s,a=te();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={forceEnable:!0},e[0]=i):i=e[0];const{actions:l,isLoading:c}=Kt(n.primaryConnector,We.ADMIN_SETTING,i),r=c?0:l.length;let d;e[1]!==r?(d=t.jsx("h4",{className:"text-base font-medium",children:t.jsx(k,xe(I({},Fe.actionsTitle),{values:{count:r}}))}),e[1]=r,e[2]=d):d=e[2];let f;e[3]!==l.length||e[4]!==c||e[5]!==o?(f=l.length>0&&t.jsx(Z,{size:"small",color:"ghost",onClick:o,disabled:c,children:t.jsx(k,I({},Fe.actionsSeeDetailsButton))}),e[3]=l.length,e[4]=c,e[5]=o,e[6]=f):f=e[6];let u;e[7]!==d||e[8]!==f?(u=t.jsxs("div",{className:"flex items-center justify-between gap-6",children:[d,f]}),e[7]=d,e[8]=f,e[9]=u):u=e[9];let p;e[10]!==n.primaryConnector.developer_type?(p=n.primaryConnector.developer_type==="UNTRUSTED"&&t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,I({},Fe.actionsDescription))}),e[10]=n.primaryConnector.developer_type,e[11]=p):p=e[11];let m;e[12]!==u||e[13]!==p?(m=t.jsxs("div",{className:"space-y-1",children:[u,p]}),e[12]=u,e[13]=p,e[14]=m):m=e[14];let h;e[15]!==l||e[16]!==a||e[17]!==c?(h=c?t.jsx("div",{className:"flex justify-center py-3",children:t.jsx(He,{})}):l.length===0?t.jsx("p",{className:"text-token-text-tertiary text-xs",children:t.jsx(k,I({},Fe.noActionsLabel))}):t.jsx("ul",{className:"border-token-border rounded-xl border",children:l.map(y=>{const g=Ds(y);return t.jsxs("li",{className:"border-token-border border-b px-3 py-2 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:se(["font-mono text-[13px] font-medium",!y.is_enabled&&"text-token-text-tertiary"]),children:y.name}),!y.is_enabled&&t.jsx(Ts,{label:a.formatMessage(Fe.disabledAction),children:t.jsx(Va,{className:"icon text-token-text-tertiary h-4 w-4"})})]}),Ps({badgeKeys:g,labels:Es})]}),t.jsx("p",{className:"text-token-text-tertiary mt-[1px] line-clamp-3 text-[11px] text-pretty",children:y.description?y.description:t.jsx(k,I({},Fe.actionNoDescription))})]},y.name)})}),e[15]=l,e[16]=a,e[17]=c,e[18]=h):h=e[18];let x;return e[19]!==m||e[20]!==h?(x=t.jsxs("div",{className:"space-y-3",children:[m,h]}),e[19]=m,e[20]=h,e[21]=x):x=e[21],x},Pn=s=>{"use forget";const e=F.c(6),{app:n,onClose:o,onPublish:a}=s,i=te(),[l,c]=P.useState(!1);let r;return e[0]!==n||e[1]!==i||e[2]!==o||e[3]!==a||e[4]!==l?(r=t.jsx(_n,{children:t.jsx(Di,{children:l?t.jsx(Ai,{app:n,onClose:()=>{c(!1),o()},onBack:()=>c(!1),showBackButton:!0,showOverlayBackground:!1}):t.jsxs(Ie,{isOpen:!0,onClose:()=>o(),title:i.formatMessage(Fe.detailsTitle),visuallyHiddenHeader:!0,size:"custom",testId:"modal-app-details",hasSeparator:!0,noPadding:!0,className:se("relative max-h-[572px]","max-w-lg"),showOverlayBackground:!1,children:[t.jsx("div",{className:"absolute end-0 top-0 p-2",children:t.jsx(Z,{color:"ghost",onClick:()=>o(),icon:fl,"aria-label":i.formatMessage(Fe.closeButton),className:"text-token-text-secondary h-8 w-8 rounded-lg"})}),t.jsxs("div",{className:se("h-full",!1),children:[t.jsxs("div",{className:se("border-token-border h-full overflow-y-scroll px-6 py-2",!1),children:[t.jsxs("section",{className:"border-token-border flex items-center justify-between gap-4 border-b py-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Dn,{app:n,size:"large"}),t.jsxs("div",{className:"flex-1 space-y-0.5",children:[t.jsx("h3",{className:"text-lg leading-none font-semibold",children:n.primaryConnector.name}),n.primaryConnector.description&&t.jsx("p",{className:"text-token-text-tertiary line-clamp-2 text-sm text-pretty overflow-ellipsis",children:n.primaryConnector.description})]})]}),a&&t.jsx("div",{className:"flex gap-2",children:t.jsx(Z,{onClick:()=>a(),size:"medium",children:t.jsx(k,I({},Fe.publishButton))})})]}),t.jsx("section",{className:"border-token-border border-b py-4",children:t.jsx(Ou,{app:n})}),t.jsx("div",{className:"py-4",children:t.jsx(Lu,{app:n,onDetails:()=>c(!0)})})]}),!1]})]})})}),e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=l,e[5]=r):r=e[5],r},Fe=Ee({createdAtLabel:{id:"KLUbUW",defaultMessage:"Created at"},developerLabel:{id:"YNNmEM",defaultMessage:"Developer"},urlLabel:{id:"22rEI5",defaultMessage:"URL"},detailsTitle:{id:"qMW+Qr",defaultMessage:"App details"},publishButton:{id:"cFYuiW",defaultMessage:"Enable"},publishedButton:{id:"l4Y2ey",defaultMessage:"Published"},aboutTitle:{id:"vfm/nN",defaultMessage:"About"},actionsTitle:{id:"dMik6w",defaultMessage:"Actions {count, select, 0 {} other { · {count}}}"},actionsDescription:{id:"+aWWeC",defaultMessage:"ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it."},actionsSeeDetailsButton:{id:"ff/ugf",defaultMessage:"See details"},noActionsLabel:{id:"139ppy",defaultMessage:"No actions are available for this app."},actionNoDescription:{id:"PGMAgB",defaultMessage:"No description provided."},unknownDeveloperLabel:{id:"Fv04Rh",defaultMessage:"Unknown"},disabledAction:{id:"Bn5roC",defaultMessage:"This action is disabled"},appType:{id:"zegMkT",defaultMessage:"App type"},serviceAppType:{id:"Jind5G",defaultMessage:"Service"},mcpAppType:{id:"IA/f5+",defaultMessage:"MCP"},openapiAppType:{id:"3gEh3x",defaultMessage:"OpenAPI"},capabilities:{id:"W+M8FZ",defaultMessage:"Capabilities"},compatibilities:{id:"iUfId6",defaultMessage:"Works with"},booleanLabel:{id:"Tw/dqU",defaultMessage:"{value, select, true {Yes} false {No} other {N/A}}"},firstPartyAppType:{id:"41iDzH",defaultMessage:"First party"},appCategory:{id:"x0F/S4",defaultMessage:"Category"},previewText:{id:"I0IYwo",defaultMessage:"Preview"},websiteLabel:{id:"zUOxKq",defaultMessage:"Website"},privacyPolicyLabel:{id:"qwas9a",defaultMessage:"Privacy Policy"},landingPageLabel:{id:"Ek79FR",defaultMessage:"Landing Page"},directoryLinkText:{id:"dusdmt",defaultMessage:"Show in directory"},tosLabel:{id:"WiGRUE",defaultMessage:"Terms of Service"},closeButton:{id:"9Po7Pl",defaultMessage:"Close"}}),Ms=({workspaceId:s,app:e,enabled:n,enabledRoles:o,enabledActions:a})=>Promise.all([dt.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:s,connector_id:e.primaryConnector.id}},requestBody:{enabled:n,enabled_roles:o,enabled_actions:a}}),...e.relatedConnectors.map(i=>dt.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:s,connector_id:i.id}},requestBody:{enabled:n,enabled_roles:o}}))]),Fu=s=>{"use forget";var p;const e=F.c(12),{app:n,onSuccess:o,onError:a}=s,i=le(),l=Te(i),c=en(),r=(p=l==null?void 0:l.getWorkspaceId())!=null?p:"";let d;e[0]!==l||e[1]!==n||e[2]!==c||e[3]!==r?(d=async()=>{n.primaryConnector.type===Mt?await dt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:r}},requestBody:{feature:n.primaryConnector.id,value:!1}}):n.primaryConnector.developer_type==="UNTRUSTED"?await io(n.primaryConnector.id):await Promise.all([Ms({workspaceId:r,app:n,enabled:!1}),...n.knowledgeConfig.flatMap(m=>m.connections.map(h=>{var x;return Le.admin_delete_connection_instance((x=l==null?void 0:l.getWorkspaceId())!=null?x:"",h.connection_config.connection_config_id)}))]),await c()},e[0]=l,e[1]=n,e[2]=c,e[3]=r,e[4]=d):d=e[4];let f;e[5]!==n||e[6]!==o?(f=()=>{Ut.logEventWithStatsig("Connectors Workspace Connector Permission Updated","chatgpt_connectors_workspace_connector_permission_updated",{name:n.primaryConnector.name,type:n.primaryConnector.type,enabled:"disabled"}),o()},e[5]=n,e[6]=o,e[7]=f):f=e[7];let u;return e[8]!==a||e[9]!==d||e[10]!==f?(u={mutationFn:d,onSuccess:f,onError:a},e[8]=a,e[9]=d,e[10]=f,e[11]=u):u=e[11],qe(u)},Bu=(s,e,n)=>{"use forget";var p;const o=F.c(14),a=le();let i;if(o[0]!==a){const m=Te(a);i=(p=m==null?void 0:m.getWorkspaceId())!=null?p:"",o[0]=a,o[1]=i}else i=o[1];const l=i,c=en();let r;o[2]!==s.primaryConnector.id||o[3]!==l?(r={workspaceId:l,connectorId:s.primaryConnector.id},o[2]=s.primaryConnector.id,o[3]=l,o[4]=r):r=o[4];const d=La(r);let f;o[5]!==s||o[6]!==c||o[7]!==d||o[8]!==l?(f=async m=>{const{enabledActions:h,enabledRoles:x}=m;s.primaryConnector.type===Mt?await Promise.all([dt.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:l}},requestBody:{feature:s.primaryConnector.id,value:!0}}),Ms({workspaceId:l,app:s,enabled:!0,enabledRoles:x})]):s.primaryConnector.status==="ONLY_ME"?await dt.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:l,connector_id:s.primaryConnector.id}},requestBody:{enabled_actions:h,enabled_roles:x}}):await Ms({workspaceId:l,app:s,enabled:!0,enabledRoles:x,enabledActions:h}),await Promise.all([c(),d()])},o[5]=s,o[6]=c,o[7]=d,o[8]=l,o[9]=f):f=o[9];let u;return o[10]!==n||o[11]!==e||o[12]!==f?(u={mutationFn:f,onSuccess:e,onError:n},o[10]=n,o[11]=e,o[12]=f,o[13]=u):u=o[13],qe(u)},$u=(s,e,n)=>{"use forget";var u;const o=F.c(13),a=le();let i;if(o[0]!==a){const p=Te(a);i=(u=p==null?void 0:p.getWorkspaceId())!=null?u:"",o[0]=a,o[1]=i}else i=o[1];const l=i;let c;o[2]!==s.primaryConnector.id||o[3]!==l?(c={workspaceId:l,connectorId:s.primaryConnector.id},o[2]=s.primaryConnector.id,o[3]=l,o[4]=c):c=o[4];const r=La(c);let d;o[5]!==s||o[6]!==r||o[7]!==l?(d=async p=>{await Ms({workspaceId:l,app:s,enabled:!0,enabledRoles:p}),await r()},o[5]=s,o[6]=r,o[7]=l,o[8]=d):d=o[8];let f;return o[9]!==n||o[10]!==e||o[11]!==d?(f={mutationFn:d,onSuccess:e,onError:n},o[9]=n,o[10]=e,o[11]=d,o[12]=f):f=o[12],qe(f)},zu=(s,e,n)=>{"use forget";const o=F.c(10),a=le();let i;o[0]!==a?(i=Te(a),o[0]=a,o[1]=i):i=o[1];const l=i,c=tn();let r;o[2]!==l||o[3]!==s||o[4]!==c?(r=async()=>{var f;await Le.admin_delete_connection_instance((f=l==null?void 0:l.getWorkspaceId())!=null?f:"",s.connection_config.connection_config_id),await c()},o[2]=l,o[3]=s,o[4]=c,o[5]=r):r=o[5];let d;return o[6]!==n||o[7]!==e||o[8]!==r?(d={mutationFn:r,onSuccess:e,onError:n},o[6]=n,o[7]=e,o[8]=r,o[9]=d):d=o[9],qe(d)},Gu=(s,e,n,o)=>{"use forget";var p;const a=F.c(12),i=le();let l;if(a[0]!==i){const m=Te(i);l=(p=m==null?void 0:m.getWorkspaceId())!=null?p:"",a[0]=i,a[1]=l}else l=a[1];const c=l,r=en(),d=St();let f;a[2]!==s||a[3]!==e||a[4]!==r||a[5]!==d||a[6]!==c?(f=async m=>{const{enabledRoleIds:h,indeterminateRoleIds:x}=m;await Promise.all(s.flatMap((y,g)=>{const b=new Set(sn(e[g]).map(Qu)),C=[...h,...x.filter(j=>b.has(j))];return Ms({workspaceId:c,app:y,enabled:!0,enabledRoles:C})})),await Promise.all(s.map(y=>d.invalidateQueries({queryKey:lo(c,y.primaryConnector.id)}))),await r()},a[2]=s,a[3]=e,a[4]=r,a[5]=d,a[6]=c,a[7]=f):f=a[7];let u;return a[8]!==o||a[9]!==n||a[10]!==f?(u={mutationFn:f,onSuccess:n,onError:o},a[8]=o,a[9]=n,a[10]=f,a[11]=u):u=a[11],qe(u)},Uu=s=>{"use forget";const e=F.c(10),{apps:n,onSuccess:o,onError:a}=s,i=le();let l;e[0]!==i?(l=Te(i),e[0]=i,e[1]=l):l=e[1];const c=l,r=en();let d;e[2]!==c||e[3]!==n||e[4]!==r?(d=async()=>{await Promise.all(n.map(async u=>{var p;u.primaryConnector.developer_type==="UNTRUSTED"?await io(u.primaryConnector.id):await Promise.all([Ms({workspaceId:(p=c==null?void 0:c.getWorkspaceId())!=null?p:"",app:u,enabled:!1}),...u.knowledgeConfig.flatMap(m=>m.connections.map(h=>{var x;return Le.admin_delete_connection_instance((x=c==null?void 0:c.getWorkspaceId())!=null?x:"",h.connection_config.connection_config_id)}))])})),await r()},e[2]=c,e[3]=n,e[4]=r,e[5]=d):d=e[5];let f;return e[6]!==a||e[7]!==o||e[8]!==d?(f={mutationFn:d,onSuccess:o,onError:a},e[6]=a,e[7]=o,e[8]=d,e[9]=f):f=e[9],qe(f)},Wu=(s,e,n)=>{"use forget";const o=F.c(10),a=le();let i;o[0]!==a?(i=Te(a),o[0]=a,o[1]=i):i=o[1];const l=i,c=tn();let r;o[2]!==l||o[3]!==s||o[4]!==c?(r=async f=>{var u;await Le.admin_edit_name_connection_instance((u=l==null?void 0:l.getWorkspaceId())!=null?u:"",s.connection_config.connection_config_id,{name:f}),await c()},o[2]=l,o[3]=s,o[4]=c,o[5]=r):r=o[5];let d;return o[6]!==n||o[7]!==e||o[8]!==r?(d={mutationFn:r,onSuccess:e,onError:n},o[6]=n,o[7]=e,o[8]=r,o[9]=d):d=o[9],qe(d)},qu=s=>{"use forget";const e=F.c(11),{connection:n,onSuccess:o,onError:a}=s,i=le();let l;e[0]!==i?(l=Te(i),e[0]=i,e[1]=l):l=e[1];const c=l,r=vi(n),d=n.connection_config.knowledge_connector_type==="slack"?"synced_channel":"synced_object";let f;e[2]!==c||e[3]!==n.connection_config.connection_config_id||e[4]!==r||e[5]!==d?(f=async p=>{var h;const{objectHandle:m}=p;m.trim()&&(c!=null&&c.isPersonalAccount()?await Le.user_connection_block_items(n.connection_config.connection_config_id,d,[m]):await Le.admin_connection_block_items((h=c==null?void 0:c.getWorkspaceId())!=null?h:"",n.connection_config.connection_config_id,d,[m]),await r())},e[2]=c,e[3]=n.connection_config.connection_config_id,e[4]=r,e[5]=d,e[6]=f):f=e[6];let u;return e[7]!==a||e[8]!==o||e[9]!==f?(u={mutationFn:f,onSuccess:o,onError:a},e[7]=a,e[8]=o,e[9]=f,e[10]=u):u=e[10],qe(u)},Ku=s=>{"use forget";const e=F.c(11),{connection:n,onSuccess:o,onError:a}=s,i=le();let l;e[0]!==i?(l=Te(i),e[0]=i,e[1]=l):l=e[1];const c=l,r=vi(n),d=n.connection_config.knowledge_connector_type==="slack"?"synced_channel":"synced_object";let f;e[2]!==c||e[3]!==n.connection_config.connection_config_id||e[4]!==r||e[5]!==d?(f=async p=>{var h;const{objectHandle:m}=p;m.trim()&&(c!=null&&c.isPersonalAccount()?await Le.user_connection_unblock_items(n.connection_config.connection_config_id,d,[m]):await Le.admin_connection_unblock_items((h=c==null?void 0:c.getWorkspaceId())!=null?h:"",n.connection_config.connection_config_id,d,[m]),await r())},e[2]=c,e[3]=n.connection_config.connection_config_id,e[4]=r,e[5]=d,e[6]=f):f=e[6];let u;return e[7]!==a||e[8]!==o||e[9]!==f?(u={mutationFn:f,onSuccess:o,onError:a},e[7]=a,e[8]=o,e[9]=f,e[10]=u):u=e[10],qe(u)},Hu=(s,e,n)=>{"use forget";const o=F.c(10),a=le();let i;o[0]!==a?(i=Te(a),o[0]=a,o[1]=i):i=o[1];const l=i,c=tn();let r;o[2]!==l||o[3]!==s||o[4]!==c?(r=async()=>{var f;await Le.admin_activate_connection_instance((f=l==null?void 0:l.getWorkspaceId())!=null?f:"",s.connection_config.connection_config_id),await c()},o[2]=l,o[3]=s,o[4]=c,o[5]=r):r=o[5];let d;return o[6]!==n||o[7]!==e||o[8]!==r?(d={mutationFn:r,onSuccess:e,onError:n},o[6]=n,o[7]=e,o[8]=r,o[9]=d):d=o[9],qe(d)};function Qu(s){return s.role.id}const Pi=s=>{"use forget";const e=F.c(63),{app:n,onClose:o}=s,a=te(),i=le();let l;e[0]!==i?(l=Xe(i),e[0]=i,e[1]=l):l=e[1];const c=l,r=n.primaryConnector.developer_type==="UNTRUSTED";let d;e[2]!==n.primaryConnector.name||e[3]!==a||e[4]!==o||e[5]!==c?(d=()=>{const O=Bt(n.primaryConnector.name,a);c.success(a.formatMessage(kt.deleteSuccess,{appName:O})),o(!0)},e[2]=n.primaryConnector.name,e[3]=a,e[4]=o,e[5]=c,e[6]=d):d=e[6];let f;e[7]!==a||e[8]!==c?(f=()=>c.danger(a.formatMessage(kt.updateFailed)),e[7]=a,e[8]=c,e[9]=f):f=e[9];let u;e[10]!==n||e[11]!==d||e[12]!==f?(u={app:n,onSuccess:d,onError:f},e[10]=n,e[11]=d,e[12]=f,e[13]=u):u=e[13];const{mutateAsync:p,isPending:m}=Fu(u);let h;e[14]!==m||e[15]!==o?(h=()=>{m||o(!1)},e[14]=m,e[15]=o,e[16]=h):h=e[16];const x=h;let y;e[17]!==n.primaryConnector.name||e[18]!==a||e[19]!==r?(y=a.formatMessage(r?kt.deleteAppTitle:kt.disableAppTitle,{appName:Bt(n.primaryConnector.name,a)}),e[17]=n.primaryConnector.name,e[18]=a,e[19]=r,e[20]=y):y=e[20];let g;e[21]!==x?(g=t.jsx("div",{className:"absolute end-4 top-4",children:t.jsx(Cn,{onClick:x})}),e[21]=x,e[22]=g):g=e[22];let b;e[23]!==n?(b=t.jsx("div",{className:"flex justify-center pt-16",children:t.jsx(Dn,{app:n,size:"large"})}),e[23]=n,e[24]=b):b=e[24];let C;e[25]!==n.primaryConnector.name||e[26]!==a||e[27]!==r?(C=a.formatMessage(r?kt.deleteAppTitle:kt.disableAppTitle,{appName:Bt(n.primaryConnector.name,a)}),e[25]=n.primaryConnector.name,e[26]=a,e[27]=r,e[28]=C):C=e[28];let j;e[29]!==C?(j=t.jsx("div",{className:"mx-6 my-1 py-1 text-center text-2xl leading-snug font-semibold text-pretty",children:C}),e[29]=C,e[30]=j):j=e[30];let _;e[31]!==n.primaryConnector.name||e[32]!==a||e[33]!==r?(_=a.formatMessage(r?kt.permanentDeleteAppDescription:kt.temporaryDeleteAppDescription,{appName:Bt(n.primaryConnector.name,a)}),e[31]=n.primaryConnector.name,e[32]=a,e[33]=r,e[34]=_):_=e[34];let v;e[35]!==_?(v=t.jsx("p",{className:"text-token-text-secondary m-4 text-center text-base leading-normal text-pretty",children:_}),e[35]=_,e[36]=v):v=e[36];let M;e[37]!==n.knowledgeConfig?(M=n.knowledgeConfig.some(Yu)&&t.jsx("p",{className:"text-token-text-secondary m-4 text-center leading-normal text-pretty",children:t.jsx(k,I({},kt.syncDeleteAppDescription))}),e[37]=n.knowledgeConfig,e[38]=M):M=e[38];let w;e[39]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(k,I({},kt.cancel)),e[39]=w):w=e[39];let S;e[40]!==m||e[41]!==x?(S=t.jsx(Z,{color:"secondary",onClick:x,className:"px-6",size:"large",disabled:m,children:w}),e[40]=m,e[41]=x,e[42]=S):S=e[42];let N;e[43]!==p?(N=()=>p(),e[43]=p,e[44]=N):N=e[44];const E=r?kt.delete:kt.disable;let A;e[45]!==E?(A=t.jsx(k,I({},E)),e[45]=E,e[46]=A):A=e[46];let D;e[47]!==m||e[48]!==N||e[49]!==A?(D=t.jsx(Z,{color:"danger",onClick:N,loading:m,className:"px-6",size:"large",children:A}),e[47]=m,e[48]=N,e[49]=A,e[50]=D):D=e[50];let T;e[51]!==S||e[52]!==D?(T=t.jsxs("div",{className:"flex justify-end gap-3 p-4",children:[S,D]}),e[51]=S,e[52]=D,e[53]=T):T=e[53];let R;return e[54]!==x||e[55]!==j||e[56]!==v||e[57]!==M||e[58]!==T||e[59]!==y||e[60]!==g||e[61]!==b?(R=t.jsxs(Ie,{isOpen:!0,testId:"modal-disable-app",visuallyHiddenHeader:!0,title:y,onClose:x,size:"custom",className:"max-w-sm",noPadding:!0,children:[g,b,j,v,M,T]}),e[54]=x,e[55]=j,e[56]=v,e[57]=M,e[58]=T,e[59]=y,e[60]=g,e[61]=b,e[62]=R):R=e[62],R},kt=Ee({deleteAppTitle:{id:"gc0+ex",defaultMessage:"Are you sure you want to delete {appName}?"},disableAppTitle:{id:"z492vo",defaultMessage:"Are you sure you want to disable {appName}?"},temporaryDeleteAppDescription:{id:"BGVQSX",defaultMessage:"This will remove {appName} from your workspace. It can be re-enabled later if needed."},syncDeleteAppDescription:{id:"7BSyQ8",defaultMessage:"Disabling this app will also delete all synced data. This action cannot be undone."},permanentDeleteAppDescription:{id:"LN5HDH",defaultMessage:"This will permanently delete {appName} from your workspace. This action cannot be undone."},cancel:{id:"ddm9wN",defaultMessage:"Cancel"},disable:{id:"kzP5Xl",defaultMessage:"Disable"},delete:{id:"/3qDZi",defaultMessage:"Delete"},disabledSuccess:{id:"rivom/",defaultMessage:"{appName} was disabled."},deleteSuccess:{id:"MjKNXj",defaultMessage:"{appName} was deleted."},updateFailed:{id:"qsgYfg",defaultMessage:"Failed to update app settings."}});function Yu(s){return s.connections.length>0}const Vu={sharepoint_admin:"sharepoint",google_drive_oauth:"google_drive",google_drive_dwd:"google_drive"},Ei=P.createContext(()=>{}),Zu=s=>{"use forget";const e=F.c(5),{children:n}=s,[o,a]=P.useState(null);let i;e[0]!==o?(i=o&&t.jsx(Ii,{app:o,onClose:()=>a(null)}),e[0]=o,e[1]=i):i=e[1];let l;return e[2]!==n||e[3]!==i?(l=t.jsxs(Ei.Provider,{value:a,children:[i,n]}),e[2]=n,e[3]=i,e[4]=l):l=e[4],l},Ii=s=>{"use forget";const e=F.c(21),{app:n,onClose:o}=s,a=n.knowledgeConfig[0].key,i=Vu[a]||a,l=en();let c;e[0]!==l||e[1]!==o?(c=()=>{l(),o()},e[0]=l,e[1]=o,e[2]=c):c=e[2];const r=c;let d;e[3]!==n.knowledgeConfig?(d=n.knowledgeConfig.some(Ju),e[3]=n.knowledgeConfig,e[4]=d):d=e[4];const f=d,u=Sn(void 0,!1,r),p=u.open;let m,h;if(e[5]!==f||e[6]!==p?(m=()=>{f&&p()},h=[f,p],e[5]=f,e[6]=p,e[7]=m,e[8]=h):(m=e[7],h=e[8]),P.useEffect(m,h),f)return u.modals;if(i==="google_drive"){let b;e[9]!==n.knowledgeConfig?(b=n.knowledgeConfig.some(Xu),e[9]=n.knowledgeConfig,e[10]=b):b=e[10];const C=b;let j;return e[11]!==C||e[12]!==r?(j=t.jsx(qa,{isDwdEnabled:C,onClose:r,triggerLocation:"admin_settings"}),e[11]=C,e[12]=r,e[13]=j):j=e[13],j}if(i==="slack"){let b;return e[14]!==r?(b=t.jsx(oi,{onClose:r}),e[14]=r,e[15]=b):b=e[15],b}let x;e[16]!==i?(x=Xs(i),e[16]=i,e[17]=x):x=e[17];const y=x.Controller;let g;return e[18]!==y||e[19]!==r?(g=t.jsx(y,{onClose:r}),e[18]=y,e[19]=r,e[20]=g):g=e[20],g};function Ju(s){return s.key==="sharepoint_admin"}function Xu(s){return s.key==="google_drive_dwd"}const em=s=>{"use forget";const e=F.c(34),{disabled:n,role:o,enabled:a,indeterminate:i,onToggle:l}=s,c=te(),r="role-toggle-".concat(o.id),d=n?"cursor-not-allowed":"cursor-pointer";let f;e[0]!==d?(f=se(["border-token-border-default block border-b py-2 group-last:border-0",d]),e[0]=d,e[1]=f):f=e[1];const u=!n&&"group-hover:bg-token-bg-tertiary";let p;e[2]!==u?(p=se("flex items-center gap-3 rounded-lg p-2",u),e[2]=u,e[3]=p):p=e[3];let m;e[4]!==l?(m=M=>l(M.target.checked),e[4]=l,e[5]=m):m=e[5];let h;e[6]!==n||e[7]!==a||e[8]!==i||e[9]!==m||e[10]!==r?(h=t.jsx(Gt,{id:r,checked:a,disabled:n,onChange:m,indeterminate:i}),e[6]=n,e[7]=a,e[8]=i,e[9]=m,e[10]=r,e[11]=h):h=e[11];const x=n&&"text-token-text-secondary";let y;e[12]!==x?(y=se("flex items-center gap-1 truncate text-sm font-medium",x),e[12]=x,e[13]=y):y=e[13];let g;e[14]!==c||e[15]!==o.name||e[16]!==o.predefined_role?(g=o.predefined_role?t.jsxs(t.Fragment,{children:[c.formatMessage(Ss.rolesModalWorkspaceDefaultRole),t.jsx("span",{className:"text-token-text-secondary my-0.5 rounded-full border px-1.5 py-0.5 text-[9px]",children:t.jsx(k,I({},Ss.rolesModalWorkspaceDefaultRoleBadge))})]}):o.name,e[14]=c,e[15]=o.name,e[16]=o.predefined_role,e[17]=g):g=e[17];let b;e[18]!==y||e[19]!==g?(b=t.jsx("div",{className:y,children:g}),e[18]=y,e[19]=g,e[20]=b):b=e[20];let C;e[21]!==o.description?(C=o.description&&t.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:o.description}),e[21]=o.description,e[22]=C):C=e[22];let j;e[23]!==b||e[24]!==C?(j=t.jsxs("div",{className:"rounded-lg",children:[b,C]}),e[23]=b,e[24]=C,e[25]=j):j=e[25];let _;e[26]!==j||e[27]!==p||e[28]!==h?(_=t.jsxs("div",{className:p,children:[h,j]}),e[26]=j,e[27]=p,e[28]=h,e[29]=_):_=e[29];let v;return e[30]!==_||e[31]!==f||e[32]!==r?(v=t.jsx("li",{className:"group",children:t.jsx("label",{htmlFor:r,className:f,children:_})}),e[30]=_,e[31]=f,e[32]=r,e[33]=v):v=e[33],v},tm=s=>{"use forget";const e=F.c(39),{disabled:n,roles:o,onToggle:a,enabledRoles:i,indeterminateRoles:l}=s,c=te();let r;e[0]!==o?(r=o.toSorted(nm),e[0]=o,e[1]=r):r=e[1];const d=r,[f,u]=P.useState("");let p;e[2]!==c||e[3]!==f||e[4]!==d?(p=f===""?d:ba(d,f,S=>{var N;return{targets:[S.role.predefined_role?c.formatMessage(Ss.rolesModalWorkspaceDefaultRole):S.role.name,S.role.predefined_role?c.formatMessage(Ss.rolesModalWorkspaceDefaultRoleBadge):void 0,(N=S.role.description)!=null?N:""]}}),e[2]=c,e[3]=f,e[4]=d,e[5]=p):p=e[5];const m=p;let h;if(e[6]!==i||e[7]!==m){let S;e[9]!==i?(S=N=>i==null?void 0:i.has(N.role.id),e[9]=i,e[10]=S):S=e[10],h=m.every(S),e[6]=i,e[7]=m,e[8]=h}else h=e[8];const x=h;let y;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=S=>u(S.target.value),e[11]=y):y=e[11];let g;e[12]!==c?(g=c.formatMessage({id:"hhmvjo",defaultMessage:"Search by name or keyword"}),e[12]=c,e[13]=g):g=e[13];let b;e[14]!==c?(b=c.formatMessage({id:"RS8Uk8",defaultMessage:"Search roles"}),e[14]=c,e[15]=b):b=e[15];let C;e[16]!==f||e[17]!==g||e[18]!==b?(C=t.jsx("div",{children:t.jsx(Hs,{name:"search",value:f,onChange:y,icon:ao,iconPosition:"left",className:"w-full rounded-xl",inputClassName:"bg-token-bg-primary!",placeholder:g,ariaLabel:b})}),e[16]=f,e[17]=g,e[18]=b,e[19]=C):C=e[19];let j;e[20]!==x||e[21]!==n||e[22]!==a||e[23]!==m?(j=m.length>0&&t.jsx("div",{children:x?t.jsx(Z,{color:"secondary",disabled:n,size:"small",onClick:()=>{a(m.map(am),!1)},children:t.jsx(k,{id:"87Enb/",defaultMessage:"Deselect all"})}):t.jsx(Z,{color:"secondary",disabled:n,size:"small",onClick:()=>{a(m.map(om),!0)},children:t.jsx(k,{id:"TU/0sr",defaultMessage:"Select all"})})}),e[20]=x,e[21]=n,e[22]=a,e[23]=m,e[24]=j):j=e[24];let _;e[25]!==n||e[26]!==i||e[27]!==l||e[28]!==a||e[29]!==m?(_=m.length===0?t.jsx("div",{className:"text-token-text-tertiary px-4 py-6 text-center text-sm",children:t.jsx(k,{id:"bO3hZ+",defaultMessage:"No matching roles."})}):m.map(S=>{var N,E;return t.jsx(em,{role:S.role,disabled:n,enabled:(N=i==null?void 0:i.has(S.role.id))!=null?N:!1,indeterminate:(E=l==null?void 0:l.has(S.role.id))!=null?E:!1,onToggle:A=>a([S.role.id],A)},S.role.id)}),e[25]=n,e[26]=i,e[27]=l,e[28]=a,e[29]=m,e[30]=_):_=e[30];let v;e[31]!==_?(v=t.jsx("ul",{children:_}),e[31]=_,e[32]=v):v=e[32];let M;e[33]!==v||e[34]!==j?(M=t.jsxs("div",{className:"space-y-1",children:[j,v]}),e[33]=v,e[34]=j,e[35]=M):M=e[35];let w;return e[36]!==M||e[37]!==C?(w=t.jsxs("div",{className:"space-y-4 overflow-y-auto p-4 pb-2",children:[C,M]}),e[36]=M,e[37]=C,e[38]=w):w=e[38],w},Ri=s=>{"use forget";const e=F.c(29),{onConfirm:n,disabled:o,roles:a,onClose:i,onCancel:l,initialEnabledRoles:c,initialIndeterminateRoles:r,submitting:d}=s,[f,u]=P.useState(c);let p;e[0]!==r?(p=r!=null?r:new Set,e[0]=r,e[1]=p):p=e[1];const[m,h]=P.useState(p);let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x=(E,A)=>{h(D=>{const T=new Set(D);return E.forEach(R=>{T.delete(R)}),T}),u(D=>{const T=new Set(D);return E.forEach(R=>{A?T.add(R):T.delete(R)}),T})},e[2]=x):x=e[2];const y=x;let g;e[3]!==a?(g=a!=null?a:[],e[3]=a,e[4]=g):g=e[4];let b;e[5]!==o||e[6]!==f||e[7]!==m||e[8]!==g?(b=t.jsx(tm,{roles:g,onToggle:y,enabledRoles:f,indeterminateRoles:m,disabled:o}),e[5]=o,e[6]=f,e[7]=m,e[8]=g,e[9]=b):b=e[9];const C=l!=null?l:i;let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(k,{id:"otQMlF",defaultMessage:"Cancel"}),e[10]=j):j=e[10];let _;e[11]!==d||e[12]!==C?(_=t.jsx(Z,{color:"secondary",onClick:C,disabled:d,children:j}),e[11]=d,e[12]=C,e[13]=_):_=e[13];let v;e[14]!==f||e[15]!==m||e[16]!==n?(v=()=>n(Array.from(f),Array.from(m)),e[14]=f,e[15]=m,e[16]=n,e[17]=v):v=e[17];let M;e[18]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(k,{id:"b6Dv1o",defaultMessage:"Confirm"}),e[18]=M):M=e[18];let w;e[19]!==o||e[20]!==d||e[21]!==v?(w=t.jsx(Z,{onClick:v,loading:d,disabled:o,children:M}),e[19]=o,e[20]=d,e[21]=v,e[22]=w):w=e[22];let S;e[23]!==w||e[24]!==_?(S=t.jsxs("div",{className:"border-token-border-default flex justify-end gap-2 border-t p-4",children:[_,w]}),e[23]=w,e[24]=_,e[25]=S):S=e[25];let N;return e[26]!==S||e[27]!==b?(N=t.jsxs(t.Fragment,{children:[b,S]}),e[26]=S,e[27]=b,e[28]=N):N=e[28],N},Oi=s=>{"use forget";const e=F.c(17),{app:n,onClose:o,showOverlayBackground:a,disabled:i,roles:l,onConfirm:c,loading:r,initialEnabledRoles:d,onCancel:f,submitting:u}=s,p=a===void 0?!0:a,m=te();let h;e[0]!==n.primaryConnector.name||e[1]!==m?(h=m.formatMessage({id:"jH6gE6",defaultMessage:"Which roles can access {name}?"},{name:n.primaryConnector.name}),e[0]=n.primaryConnector.name,e[1]=m,e[2]=h):h=e[2];let x;e[3]!==i||e[4]!==d||e[5]!==r||e[6]!==f||e[7]!==o||e[8]!==c||e[9]!==l||e[10]!==u?(x=r?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(He,{})}):t.jsx(Ri,{onConfirm:c,disabled:i,roles:l,onClose:o,onCancel:f,initialEnabledRoles:d!=null?d:new Set,submitting:u}),e[3]=i,e[4]=d,e[5]=r,e[6]=f,e[7]=o,e[8]=c,e[9]=l,e[10]=u,e[11]=x):x=e[11];let y;return e[12]!==o||e[13]!==p||e[14]!==h||e[15]!==x?(y=t.jsx(Ie,{testId:"modal-roles-access",title:h,isOpen:!0,onClose:o,showCloseButton:!1,size:"xlarge",showOverlayBackground:p,isScrollable:!1,contentClassName:"flex max-h-[80vh] min-h-0 flex-col",noPadding:!0,hasSeparator:!0,children:x}),e[12]=o,e[13]=p,e[14]=h,e[15]=x,e[16]=y):y=e[16],y},sm=s=>{"use forget";var g,b,C;const e=F.c(19),{app:n,onClose:o}=s,a=le(),i=Te(a);let l;e[0]!==a?(l=Xe(a),e[0]=a,e[1]=l):l=e[1];const c=l,r=te(),d=bo(n);let f;e[2]!==d.data?(f=(g=d.data)!=null&&g.roles_with_permissions?new Set((b=d.data.roles_with_permissions.filter(im).map(lm))!=null?b:[]):void 0,e[2]=d.data,e[3]=f):f=e[3];const u=f;let p;e[4]!==r||e[5]!==o||e[6]!==c?(p=()=>{c.success(r.formatMessage(Ss.toastRolesUpdateSuccess)),o()},e[4]=r,e[5]=o,e[6]=c,e[7]=p):p=e[7];let m;e[8]!==r||e[9]!==c?(m=()=>{c.danger(r.formatMessage(Ss.toastRolesUpdateError))},e[8]=r,e[9]=c,e[10]=m):m=e[10];const h=$u(n,p,m);if(!i)return null;const x=(C=d.data)==null?void 0:C.roles_with_permissions;let y;return e[11]!==n||e[12]!==u||e[13]!==o||e[14]!==h.isPending||e[15]!==h.mutateAsync||e[16]!==d.isLoading||e[17]!==x?(y=t.jsx(Oi,{app:n,onClose:o,roles:x,initialEnabledRoles:u,loading:d.isLoading,onConfirm:h.mutateAsync,disabled:h.isPending,submitting:h.isPending}),e[11]=n,e[12]=u,e[13]=o,e[14]=h.isPending,e[15]=h.mutateAsync,e[16]=d.isLoading,e[17]=x,e[18]=y):y=e[18],y},Ss=Ee({rolesModalWorkspaceDefaultRole:{id:"uft0cC",defaultMessage:"Workspace"},rolesModalWorkspaceDefaultRoleBadge:{id:"VEokx9",defaultMessage:"Default"},toastRolesUpdateSuccess:{id:"NiMskc",defaultMessage:"Roles updated successfully."},toastRolesUpdateError:{id:"QiYeIs",defaultMessage:"Failed to update roles. Please try again later."}});function nm(s,e){return Number(e.role.predefined_role)-Number(s.role.predefined_role)||s.role.name.localeCompare(e.role.name)}function om(s){return s.role.id}function am(s){return s.role.id}function im(s){return s.connector_permissions.includes(Js.UseConnector)}function lm(s){return s.role.id}const rm=s=>{"use forget";const e=F.c(26),{title:n,description:o,descriptionArgs:a,value:i,disabled:l,onChange:c}=s,r=P.useId(),d=l?"cursor-not-allowed":"group-hover:bg-token-bg-elevated-secondary";let f;e[0]!==d?(f=se("flex items-center justify-between gap-2 rounded-lg p-2",d),e[0]=d,e[1]=f):f=e[1];const u=l&&"text-token-text-secondary";let p;e[2]!==u?(p=se("text-sm font-medium",u),e[2]=u,e[3]=p):p=e[3];let m;e[4]!==n?(m=t.jsx(k,I({},n)),e[4]=n,e[5]=m):m=e[5];let h;e[6]!==p||e[7]!==m?(h=t.jsx("p",{className:p,children:m}),e[6]=p,e[7]=m,e[8]=h):h=e[8];let x;e[9]!==o||e[10]!==a?(x=t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,xe(I({},o),{values:a}))}),e[9]=o,e[10]=a,e[11]=x):x=e[11];let y;e[12]!==h||e[13]!==x?(y=t.jsxs("div",{className:"space-y-0.5",children:[h,x]}),e[12]=h,e[13]=x,e[14]=y):y=e[14];let g;e[15]!==c?(g=j=>c(j.target.checked),e[15]=c,e[16]=g):g=e[16];let b;e[17]!==l||e[18]!==r||e[19]!==g||e[20]!==i?(b=t.jsx(Gt,{id:r,checked:i,onChange:g,className:"mx-2",disabled:l}),e[17]=l,e[18]=r,e[19]=g,e[20]=i,e[21]=b):b=e[21];let C;return e[22]!==b||e[23]!==f||e[24]!==y?(C=t.jsx("li",{className:"group",children:t.jsx("label",{className:"focus-visible:ring-token-border-selected w-full cursor-pointer text-start select-none group-first-of-type:rounded-t-2xl group-last-of-type:rounded-b-2xl focus-visible:ring-2 focus-visible:outline-none",children:t.jsx("div",{className:"border-token-border-default mx-2 border-b py-2 group-last:border-0",children:t.jsxs("div",{className:f,children:[y,b]})})})}),e[22]=b,e[23]=f,e[24]=y,e[25]=C):C=e[25],C},Zo=s=>{"use forget";var _;const e=F.c(46);let n,o,a,i,l,c,r,d,f;if(e[0]!==s?(_=s,{children:o,title:f,description:i,loading:c,disabled:l,badges:n,className:a,onClick:r}=_,d=Xt(_,["children","title","description","loading","disabled","badges","className","onClick"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=i,e[5]=l,e[6]=c,e[7]=r,e[8]=d,e[9]=f):(n=e[1],o=e[2],a=e[3],i=e[4],l=e[5],c=e[6],r=e[7],d=e[8],f=e[9]),c){let v;e[10]!==f?(v=t.jsx("p",{className:"pb-0.5 text-sm font-medium",children:t.jsx(k,I({},f))}),e[10]=f,e[11]=v):v=e[11];let M;e[12]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(os,{heightSize:"sm",lines:2}),e[12]=M):M=e[12];let w;return e[13]!==v?(w=t.jsxs("li",{className:"text-token-text-secondary border-token-border-default space-y-1 border-b p-4 text-sm select-none last:border-0",children:[v,M]}),e[13]=v,e[14]=w):w=e[14],w}if(l){let v;e[15]!==f?(v=t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,I({},f))}),e[15]=f,e[16]=v):v=e[16];let M;e[17]!==i?(M=t.jsx("p",{className:"text-xs text-pretty",children:t.jsx(k,I({},i))}),e[17]=i,e[18]=M):M=e[18];let w;return e[19]!==v||e[20]!==M?(w=t.jsxs("li",{className:"text-token-text-secondary border-token-border-default cursor-not-allowed space-y-0.5 border-b p-4 text-sm select-none last:border-0",children:[v,M]}),e[19]=v,e[20]=M,e[21]=w):w=e[21],w}const u=n&&"pb-1";let p;e[22]!==u?(p=se("group-hover:bg-token-bg-elevated-secondary flex items-center justify-between gap-2 rounded-lg p-2",u),e[22]=u,e[23]=p):p=e[23];let m;e[24]!==a?(m=se("space-y-0.5",a),e[24]=a,e[25]=m):m=e[25];let h;e[26]!==f?(h=t.jsx("p",{className:"text-sm font-medium",children:t.jsx(k,I({},f))}),e[26]=f,e[27]=h):h=e[27];let x;e[28]!==i?(x=t.jsx("p",{className:"text-token-text-secondary text-xs text-pretty",children:t.jsx(k,I({},i))}),e[28]=i,e[29]=x):x=e[29];let y;e[30]!==n?(y=n&&t.jsx("div",{className:"mt-1.5 flex flex-wrap gap-2",children:n}),e[30]=n,e[31]=y):y=e[31];let g;e[32]!==o||e[33]!==m||e[34]!==h||e[35]!==x||e[36]!==y?(g=t.jsxs("div",{className:m,children:[h,x,o,y]}),e[32]=o,e[33]=m,e[34]=h,e[35]=x,e[36]=y,e[37]=g):g=e[37];let b;e[38]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(pn,{className:"text-token-text-secondary h-5 w-5 flex-shrink-0"}),e[38]=b):b=e[38];let C;e[39]!==p||e[40]!==g?(C=t.jsx("div",{className:"border-token-border-default mx-2 border-b py-2 group-last:border-0",children:t.jsxs("div",{className:p,children:[g,b]})}),e[39]=p,e[40]=g,e[41]=C):C=e[41];let j;return e[42]!==r||e[43]!==d||e[44]!==C?(j=t.jsx("li",{className:"group",children:t.jsx("button",xe(I({className:"focus-visible:ring-token-border-selected w-full text-start group-first-of-type:rounded-t-2xl group-last-of-type:rounded-b-2xl focus-visible:ring-2 focus-visible:outline-none",onClick:r},d),{children:C}))}),e[42]=r,e[43]=d,e[44]=C,e[45]=j):j=e[45],j};function cm(s){return e=>{s(n=>{const o=new Set(n);return o.has(e)?o.delete(e):o.add(e),o})}}const $n=s=>{"use forget";const e=F.c(11),{label:n,icon:o,color:a}=s,i=a===void 0?"neutral":a,l=i==="neutral"?"bg-token-bg-tertiary text-token-text-secondary":"bg-token-bg-status-warning text-token-text-status-warning";let c;e[0]!==l?(c=se("flex w-fit items-center gap-1 rounded-full px-2.5 py-1 text-[11px] font-medium text-pretty",l),e[0]=l,e[1]=c):c=e[1];let r;e[2]!==o||e[3]!==i?(r=o&&t.jsx(o,{className:se("icon h-3 w-3",i==="warning"&&"text-token-icon-status-warning")}),e[2]=o,e[3]=i,e[4]=r):r=e[4];let d;e[5]!==n?(d=t.jsx("span",{children:n}),e[5]=n,e[6]=d):d=e[6];let f;return e[7]!==c||e[8]!==r||e[9]!==d?(f=t.jsxs("div",{className:c,children:[r,d]}),e[7]=c,e[8]=r,e[9]=d,e[10]=f):f=e[10],f},mn=s=>{"use forget";var ae,re,Ce,Se;const e=F.c(61),{app:n,onClose:o,showOverlayBackground:a}=s,i=a===void 0?!0:a,l=le(),c=ro(),r=te();let d;e[0]!==l?(d=Xe(l),e[0]=l,e[1]=d):d=e[1];const f=d;let u;e[2]!==c?(u=(ae=c==null?void 0:c.getWorkspaceId())!=null?ae:"",e[2]=c,e[3]=u):u=e[3];let p;e[4]!==n.primaryConnector.id||e[5]!==u?(p={workspaceId:u,connectorId:n.primaryConnector.id},e[4]=n.primaryConnector.id,e[5]=u,e[6]=p):p=e[6];const{data:m,isLoading:h}=Is(p),x=m==null?void 0:m.roles_with_permissions.toSorted(dm);let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y={forceEnable:!0},e[7]=y):y=e[7];const{actions:g,isLoading:b}=Kt(n.primaryConnector,We.ADMIN_SETTING,y);let C;e[8]!==l?(C=jt(l),e[8]=l,e[9]=C):C=e[9];const j=C;let _;e[10]!==c?(_=(re=c==null?void 0:c.isEnterprisey())!=null?re:!1,e[10]=c,e[11]=_):_=e[11];const v=_;let M;e[12]!==l?(M=jn(l),e[12]=l,e[13]=M):M=e[13];const w=M;let S;e[14]!==l?(S=yn(l,"2281575548").get("docs_url","https://platform.openai.com/docs/mcp"),e[14]=l,e[15]=S):S=e[15];const N=S;let E;e[16]===Symbol.for("react.memo_cache_sentinel")?(E=new Set,e[16]=E):E=e[16];const[A,D]=P.useState(E),[T,R]=P.useState(void 0);let O,L;e[17]!==T||e[18]!==g||e[19]!==b?(O=()=>{if(!b&&T===void 0)R(new Set(g.map(fm)));else if(!b){const ge=new Set;g.forEach($e=>{T!=null&&T.has($e.name)&&ge.add($e.name)}),ge.size!==(T==null?void 0:T.size)&&R(ge)}},L=[b,g,T],e[17]=T,e[18]=g,e[19]=b,e[20]=O,e[21]=L):(O=e[20],L=e[21]),P.useEffect(O,L);const z=((Ce=x==null?void 0:x.length)!=null?Ce:0)>1,$=n.knowledgeConfig.length>0,[U,G]=P.useState(!v&&$),W=!b&&n.primaryConnector.distribution_channel==="DEFAULT_OAI_CATALOG"&&g.length===0;let Y;e[22]!==n||e[23]!==l||e[24]!==$?(Y=$&&_i(n,l),e[22]=n,e[23]=l,e[24]=$,e[25]=Y):Y=e[25];const V=Y,J=P.useContext(Ei),Q=ra();let X;e[26]!==n||e[27]!==J||e[28]!==r||e[29]!==Q||e[30]!==o||e[31]!==$||e[32]!==U||e[33]!==W||e[34]!==f?(X=()=>{const ge=Bt(n.primaryConnector.name,r);f.success(r.formatMessage(Pe.publishedApp,{appName:ge})),Q("/admin/ca#workspace"),$&&(W||U)&&J(n),o()},e[26]=n,e[27]=J,e[28]=r,e[29]=Q,e[30]=o,e[31]=$,e[32]=U,e[33]=W,e[34]=f,e[35]=X):X=e[35];let B;e[36]!==r||e[37]!==f?(B=ge=>{f.danger(r.formatMessage(Pe.publishAppFailed,{errorMessage:ge.message}))},e[36]=r,e[37]=f,e[38]=B):B=e[38];const{mutateAsync:K,isPending:q}=Bu(n,X,B);let oe;e[39]!==T||e[40]!==w||e[41]!==z||e[42]!==j||e[43]!==K||e[44]!==A?(oe=()=>{K({enabledActions:w&&T?Array.from(T):null,enabledRoles:j&&z?Array.from(A):null})},e[39]=T,e[40]=w,e[41]=z,e[42]=j,e[43]=K,e[44]=A,e[45]=oe):oe=e[45];const ne=oe;let H;e[46]!==q||e[47]!==o?(H=()=>{q||o()},e[46]=q,e[47]=o,e[48]=H):H=e[48];const de=H;let fe;e[49]!==(c==null?void 0:c.name)||e[50]!==n.primaryConnector.name||e[51]!==r?(fe=r.formatMessage(Pe.publishAppTitle,{app:n.primaryConnector.name,workspace:(Se=c==null?void 0:c.name)!=null?Se:r.formatMessage(Pe.workspaceDefault)}),e[49]=c==null?void 0:c.name,e[50]=n.primaryConnector.name,e[51]=r,e[52]=fe):fe=e[52];const ue=fe,[pe,ye]=P.useState(!1),[he,ve]=P.useState(!1),[Me,Re]=P.useState(!1),me=[{title:Pe.safetyDrawerRiskOneTitle,details:Pe.safetyDrawerRiskOneDetail,actions:[Pe.safetyDrawerRiskOneActionConfigureAccess],checklist:[Pe.safetyDrawerRiskOneAcknowledgeLabel]},{title:Pe.safetyDrawerRiskTwoTitle,details:Pe.safetyDrawerRiskTwoDetail,actions:[Pe.safetyDrawerRiskTwoActionTrustCompanies,Pe.safetyDrawerRiskTwoActionReviewParameters],checklist:[Pe.safetyDrawerRiskTwoTrustLabel,Pe.safetyDrawerRiskTwoReviewLabel]}];let je;e[53]===Symbol.for("react.memo_cache_sentinel")?(je=new Set,e[53]=je):je=e[53];const[Ae,ze]=P.useState(je),Ge=n.primaryConnector.developer_type!=="UNTRUSTED"||me.reduce(um,0)===Ae.size,Be=_n,Ue=Di,Ke=he?t.jsx(Ti,{showOverlayBackground:!1,app:n,onClose:()=>{ve(!1),de()},onCancel:()=>ve(!1),onConfirm:ge=>{R(new Set(ge)),ve(!1)},initialEnabledActions:T}):pe?t.jsx(Ai,{app:n,onClose:()=>{ye(!1)},onBack:()=>ye(!1),showOverlayBackground:!1,showBackButton:!0}):Me?t.jsx(Oi,{app:n,onClose:()=>{Re(!1)},showOverlayBackground:!1,roles:x,initialEnabledRoles:A,onConfirm:ge=>{D(new Set(ge)),Re(!1)},onCancel:()=>Re(!1)}):t.jsxs(Ie,{testId:"modal-publish-app",isOpen:!0,onClose:de,size:"custom",className:"max-w-[448px]",contentClassName:"max-h-[90vh] flex flex-col",showOverlayBackground:!1,visuallyHiddenHeader:!0,title:ue,noPadding:!0,children:[t.jsxs("div",{className:"overflow-y-auto p-4",children:[t.jsx("div",{className:"flex justify-end",children:t.jsx(Cn,{onClick:de})}),t.jsxs("div",{className:"mt-2 mb-4 flex flex-col items-center",children:[t.jsx(Dn,{app:n,size:"large"}),t.jsx("div",{className:"mx-2 mt-3 text-center text-2xl font-semibold text-balance",children:ue}),t.jsx("div",{className:"text-token-text-tertiary mt-3 text-center text-sm text-balance",children:t.jsx(k,I({},Pe.publishDescription))})]}),t.jsxs("div",{className:"mt-6 space-y-2",children:[t.jsxs("ul",{className:"border-token-border-default rounded-2xl border empty:border-0",children:[v&&t.jsx(Zo,{onClick:()=>Re(!0),loading:h,disabled:!z||!j,title:Pe.accessControlTitle,description:!z||!j?Pe.accessControlNoRolesDescription:Pe.accessControlDescription,badges:A.size===0?t.jsx($n,{label:r.formatMessage(Pe.noRolesDescription),icon:$t,color:"warning"}):x==null?void 0:x.filter(ge=>A.has(ge.role.id)).map(ge=>t.jsx($n,{label:ge.role.predefined_role?r.formatMessage(Pe.defaultRoleName):ge.role.name},ge.role.id))}),w&&!W&&n.primaryConnector.type!==Mt&&t.jsx(Zo,{onClick:()=>ve(!0),loading:b,title:Pe.configureActionsTitle,description:Pe.configureActionsDescription,badges:t.jsx($n,{label:(T==null?void 0:T.size)===g.length?r.formatMessage(Pe.allActionsEnabled):T&&T.size>0?r.formatMessage(Pe.countActionsEnabled,{count:T.size}):r.formatMessage(Pe.noActionsEnabled),color:g.length>0&&(T==null?void 0:T.size)===0?"warning":"neutral",icon:g.length>0&&(T==null?void 0:T.size)===0?$t:void 0})}),V&&t.jsx(rm,{onChange:ge=>G(ge),value:W||U,disabled:W,title:Pe.enableSyncTitle,description:W?Pe.syncOnlyDescription:Pe.enableSyncDescription,descriptionArgs:{name:n.primaryConnector.name}})]}),n.primaryConnector.developer_type==="UNTRUSTED"&&t.jsx(mi,{children:me.map((ge,$e)=>t.jsx(fi,{id:"risk-".concat($e),title:ge.title,checklistItems:ge.checklist,checkedIds:Ae,onToggleCheckbox:cm(ze),children:t.jsx(ui,{details:ge.details,actions:ge.actions})},$e))})]})]}),t.jsxs("div",{className:"border-t-token-border-default flex items-center justify-between border-t p-4",children:[t.jsx("div",{className:"text-md flex items-center gap-2",children:n.primaryConnector.developer_type==="UNTRUSTED"&&t.jsxs(ct,{href:N,openNewTab:!0,className:"text-token-text-tertiary hover:text-token-text-secondary flex items-center text-sm",children:[t.jsx(ya,{className:"me-1.5 inline h-4.5 w-4.5"}),t.jsx(k,I({},Pe.docLinkText))]})}),t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(Z,{size:"medium",color:"secondary",onClick:de,disabled:q,children:t.jsx(k,I({},Pe.cancel))}),t.jsx(Z,{size:"medium",onClick:()=>ne(),loading:q,disabled:h||!Ge||(T==null?void 0:T.size)===0&&g.length>0||j&&z&&A.size===0,children:t.jsx(k,I({},Pe.publishApp))})]})]})]});let Ve;e[54]!==Ue||e[55]!==i||e[56]!==Ke?(Ve=t.jsx(Ue,{showBackground:i,children:Ke}),e[54]=Ue,e[55]=i,e[56]=Ke,e[57]=Ve):Ve=e[57];let ce;return e[58]!==Be||e[59]!==Ve?(ce=t.jsx(Be,{children:Ve}),e[58]=Be,e[59]=Ve,e[60]=ce):ce=e[60],ce},Pe=Ee({publishAppTitle:{id:"PyP2fQ",defaultMessage:"Publish {app} to {workspace}"},workspaceDefault:{id:"/UQR0X",defaultMessage:"your workspace"},publishApp:{id:"BcYxts",defaultMessage:"Publish"},publishedApp:{id:"PRZ0Ko",defaultMessage:"App published"},publishDescription:{id:"oT8Ft+",defaultMessage:"Make this app available for members of your workspace to use."},accessControlTitle:{id:"Z/Yv57",defaultMessage:"Configure access"},accessControlDescription:{id:"s0HMdg",defaultMessage:"Allow specific roles to use this app"},toolCapabilitiesTitle:{id:"3nyEsR",defaultMessage:"App actions"},toolCapabilitiesSubtitle:{id:"Z/7k/u",defaultMessage:"Self-reported by the app developer"},noDescription:{id:"w1pW20",defaultMessage:"No description provided"},cancel:{id:"JV4UNk",defaultMessage:"Cancel"},reviewActionsTitle:{id:"6znmmt",defaultMessage:"Review all actions"},reviewActionsDescription:{id:"c/OHAe",defaultMessage:"Review each action carefully before publishing this app. ChatGPT will freeze the actions list when you publish, but developers may change the implementation of actions on their servers at any time. You can choose to manually 'refresh' the actions list at any point to update it."},accessControlNoRolesDescription:{id:"8CAb9a",defaultMessage:"This app will be available to all members of your workspace."},accessControlRoleCountDescription:{id:"kazn/L",defaultMessage:"{roleCount, plural, one {# role is} other {# roles are}} currently selected"},accessControlAllRolesDescription:{id:"CrVO85",defaultMessage:"All roles are currently selected"},publishAppFailed:{id:"7R4ZQQ",defaultMessage:"Failed to publish app. {errorMessage}"},docLinkText:{id:"yj9R2D",defaultMessage:"Read the docs"},configureActionsTitle:{id:"vwmuEA",defaultMessage:"Configure actions"},configureActionsDescription:{id:"G00O69",defaultMessage:"Configure which actions are available to users"},safetyDrawerRiskOneTitle:{id:"m6QJI0",defaultMessage:"Review potential risk: Unauthorized data access"},safetyDrawerRiskOneDetail:{id:"XlXGmM",defaultMessage:"Attackers may use prompt injections to affect conversations your enterprise users have, to trick ChatGPT into fetching sensitive data from this app and sending it to the attacker. <link>Learn more</link>"},safetyDrawerRiskOneActionConfigureAccess:{id:"VKB56x",defaultMessage:"Configure access to minimize how many people have access. If possible, audit usage of this app for security issues."},safetyDrawerRiskOneAcknowledgeLabel:{id:"KwKSY3",defaultMessage:"I understand"},safetyDrawerRiskTwoTitle:{id:"etnK5E",defaultMessage:"Review potential risk: Malicious app"},safetyDrawerRiskTwoDetail:{id:"v3hN6U",defaultMessage:"OpenAI hasn't reviewed this app. If it is malicious, it may attempt to use attacks like prompt injections to access and obtain sensitive data from your enterprise's users. <link>Learn more</link>"},safetyDrawerRiskTwoActionTrustCompanies:{id:"S7fYtl",defaultMessage:"Only use apps from companies that you trust."},safetyDrawerRiskTwoActionReviewParameters:{id:"9NaFjZ",defaultMessage:"Review the parameters being sent as input to each action carefully, and ensure that they are not requesting sensitive data that they shouldn't."},safetyDrawerRiskTwoTrustLabel:{id:"07wb6c",defaultMessage:"I trust this app"},safetyDrawerRiskTwoReviewLabel:{id:"Ew9zCa",defaultMessage:"I have reviewed the parameters being sent to each action and they do not request sensitive data that they shouldn't."},refreshActionsError:{id:"AHelUR",defaultMessage:"Failed to refresh app actions"},defaultRoleName:{id:"zSSaO/",defaultMessage:"Workspace"},allActionsEnabled:{id:"wfVg2J",defaultMessage:"All actions enabled"},countActionsEnabled:{id:"gZOZ2u",defaultMessage:"{count, plural, one {# action enabled} other {# actions enabled}}"},noActionsEnabled:{id:"ca1hN8",defaultMessage:"No actions enabled"},noRolesDescription:{id:"uRSzIR",defaultMessage:"Nobody"},configureActionsSyncOnlyDescription:{id:"98UC4q",defaultMessage:"This sync app does not have any actions"},enableSyncTitle:{id:"SGJgTC",defaultMessage:"Enable sync"},enableSyncDescription:{id:"rr7bZL",defaultMessage:"Keep your {name} data indexed, stored, and kept up to date in ChatGPT"},syncOnlyDescription:{id:"KHa0ha",defaultMessage:"{name} only works with sync."}});function dm(s,e){return Number(e.role.predefined_role)-Number(s.role.predefined_role)||s.role.name.localeCompare(e.role.name)}function fm(s){return s.name}function um(s,e){return s+e.checklist.length}const Jo=s=>{"use forget";const e=F.c(2),{label:n}=s;let o;return e[0]!==n?(o=t.jsx("span",{className:"text-token-text-secondary my-0.5 rounded-full border px-1.5 py-0.5 text-[9px] uppercase",children:n}),e[0]=n,e[1]=o):o=e[1],o},mm=s=>{"use forget";const e=F.c(18),{app:n,focused:o}=s,a=o===void 0?!1:o,[i,l]=P.useState(!1);if(n.primaryConnector.type===Mt){let x;return e[0]!==n?(x=t.jsx("div",{className:"py-4",children:t.jsx(Vn,{app:n})}),e[0]=n,e[1]=x):x=e[1],x}let c;e[2]!==n||e[3]!==i?(c=i&&t.jsx(Pn,{app:n,onClose:()=>l(!1)}),e[2]=n,e[3]=i,e[4]=c):c=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=()=>l(!0),e[5]=r):r=e[5];const d=a&&"opacity-100";let f;e[6]!==d?(f=se("from-token-interactive-bg-accent-default/50 absolute start-0 top-0 -z-10 -mx-2 my-2 h-[calc(100%-1rem)] w-[calc(100%+2rem)] rounded-s-2xl bg-linear-to-r to-transparent opacity-0 transition-opacity duration-1000",d),e[6]=d,e[7]=f):f=e[7];let u;e[8]!==f?(u=t.jsx("div",{className:f}),e[8]=f,e[9]=u):u=e[9];let p;e[10]!==n?(p=t.jsx("div",{className:"py-2",children:t.jsx(Vn,{app:n})}),e[10]=n,e[11]=p):p=e[11];let m;e[12]!==u||e[13]!==p?(m=t.jsxs("button",{className:"relative block h-full w-full py-2 text-start",onClick:r,children:[u,p]}),e[12]=u,e[13]=p,e[14]=m):m=e[14];let h;return e[15]!==c||e[16]!==m?(h=t.jsxs(t.Fragment,{children:[c,m]}),e[15]=c,e[16]=m,e[17]=h):h=e[17],h},Vn=s=>{"use forget";const e=F.c(31),{app:n,context:o}=s,a=o===void 0?"workspace":o,i=te(),l=n.primaryConnector.actions_changed_since_review;let c;e[0]!==n?(c=t.jsx(Dn,{app:n,size:"medium"}),e[0]=n,e[1]=c):c=e[1];let r;e[2]!==n.primaryConnector.name?(r=t.jsx("p",{className:"font-medium",children:n.primaryConnector.name}),e[2]=n.primaryConnector.name,e[3]=r):r=e[3];let d;e[4]!==n.primaryConnector.type||e[5]!==i?(d=n.primaryConnector.type===Mt&&t.jsx(Jo,{label:i.formatMessage(Je.fileUploadLabel)}),e[4]=n.primaryConnector.type,e[5]=i,e[6]=d):d=e[6];let f;e[7]!==n.primaryConnector.developer_type||e[8]!==i?(f=n.primaryConnector.developer_type==="UNTRUSTED"&&t.jsx(Jo,{label:i.formatMessage(Je.customLabel)}),e[7]=n.primaryConnector.developer_type,e[8]=i,e[9]=f):f=e[9];let u;e[10]!==r||e[11]!==d||e[12]!==f?(u=t.jsxs("div",{className:"flex flex-wrap items-center gap-x-1.5",children:[r,d,f]}),e[10]=r,e[11]=d,e[12]=f,e[13]=u):u=e[13];let p;e[14]!==a||e[15]!==i||e[16]!==l?(p=l&&a==="workspace"&&t.jsxs("span",{className:"bg-token-bg-tertiary text-token-text-secondary inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px] font-medium select-none",title:i.formatMessage(Je.reviewActionsIndicatorTooltip),children:[t.jsx($t,{className:"h-3.5 w-3.5"}),t.jsx(k,I({},Je.reviewActionsIndicator))]}),e[14]=a,e[15]=i,e[16]=l,e[17]=p):p=e[17];let m;e[18]!==u||e[19]!==p?(m=t.jsxs("div",{className:"flex items-center gap-2",children:[u,p]}),e[18]=u,e[19]=p,e[20]=m):m=e[20];let h;e[21]!==n.primaryConnector.description?(h=n.primaryConnector.description||t.jsx(k,{id:"lrKj1n",defaultMessage:"No description provided"}),e[21]=n.primaryConnector.description,e[22]=h):h=e[22];let x;e[23]!==h?(x=t.jsx("div",{children:t.jsx("p",{className:"text-token-text-secondary line-clamp-1 max-w-lg overflow-hidden text-sm text-ellipsis",children:h})}),e[23]=h,e[24]=x):x=e[24];let y;e[25]!==x||e[26]!==m?(y=t.jsxs("div",{className:"flex flex-col",children:[m,x]}),e[25]=x,e[26]=m,e[27]=y):y=e[27];let g;return e[28]!==y||e[29]!==c?(g=t.jsxs("div",{className:"flex min-w-48 items-center gap-3",children:[c,y]}),e[28]=y,e[29]=c,e[30]=g):g=e[30],g},zn=P.cache((s,e)=>{var a;if(typeof document>"u"||!e)return s.length*8;(a=window.globalCanvas)!=null||(window.globalCanvas=document.createElement("canvas"));const n=window.globalCanvas.getContext("2d");return n?(n.font=e,n.measureText(s).width):s.length*8}),pm=s=>{"use forget";const e=F.c(37),{app:n}=s,o=te(),a=bo(n);let i;if(e[0]!==o||e[1]!==a.data){const w=sn(a.data);let S;e[3]!==o?(S=N=>N.role.predefined_role?o.formatMessage(Je.defaultRoleName):N.role.name,e[3]=o,e[4]=S):S=e[4],i=w.toSorted(xm).map(S),e[0]=o,e[1]=a.data,e[2]=i}else i=e[2];const l=i,[c,r]=P.useState(0),d=P.useRef(null);let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[5]=f):f=e[5];const[u,p]=P.useState(f),[m,h]=P.useState(0);let x;e[6]!==o?(x=o.formatMessage(Je.moreWidthRolesMessage,{count:1}),e[6]=o,e[7]=x):x=e[7];const y=x;let g,b;e[8]!==y||e[9]!==l?(g=()=>{const w=d.current?getComputedStyle(d.current).font:null;p(l.map((S,N)=>zn(N>0?", ".concat(S):S,w))),h(zn(y,w)+4)},b=[l,zn,y],e[8]=y,e[9]=l,e[10]=g,e[11]=b):(g=e[10],b=e[11]),Kn(g,b);let C;e[12]!==a.isLoading?(C=()=>{if(!d.current||a.isLoading)return;const w=new ResizeObserver(S=>{S.forEach(N=>{r(N.contentRect.width)})});return w.observe(d.current),()=>{w.disconnect()}},e[12]=a.isLoading,e[13]=C):C=e[13];let j;e[14]!==a.data?(j=[d,a.data],e[14]=a.data,e[15]=j):j=e[15],Kn(C,j);let _;e:{if(c===0){let A;e[16]!==l?(A=l.join(", "),e[16]=l,e[17]=A):A=e[17],_=A;break e}if(u.reduce(ym,0)<=c){let A;e[18]!==l?(A=l.join(", "),e[18]=l,e[19]=A):A=e[19],_=A;break e}let S;if(e[20]!==c||e[21]!==m||e[22]!==l||e[23]!==u){S=[];let A=0;for(let D=0;D<l.length;D++){const T=u[D];if(A+T>c-m)break;S.push(l[D]),A=A+T}e[20]=c,e[21]=m,e[22]=l,e[23]=u,e[24]=S}else S=e[24];const N=l.length-S.length;let E;e[25]!==S||e[26]!==o||e[27]!==N?(E=o.formatMessage(Je.moreRolesMessage,{roles:S.join(", "),count:N}),e[25]=S,e[26]=o,e[27]=N,e[28]=E):E=e[28],_=E}const v=_;if(a.isLoading){let w;return e[29]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("div",{className:"block w-32",children:t.jsx(Vs,{})}),e[29]=w):w=e[29],w}if(l.length===0){let w;e[30]!==o?(w=o.formatMessage(Je.noUsersAccessTooltip),e[30]=o,e[31]=w):w=e[31];let S;e[32]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs("span",{className:"text-token-text-secondary inline-flex items-center gap-1 text-sm whitespace-nowrap",children:[t.jsx(k,{id:"N+P2/8",defaultMessage:"Nobody"}),t.jsx($t,{className:"text-token-icon-warning inline h-4 w-4"})]}),e[32]=S):S=e[32];let N;return e[33]!==w?(N=t.jsx(Ts,{label:w,children:S}),e[33]=w,e[34]=N):N=e[34],N}let M;return e[35]!==v?(M=t.jsx("div",{className:"relative flex w-full min-w-36 items-center text-sm",ref:d,children:t.jsx("span",{className:"text-token-text-secondary absolute line-clamp-1 w-full overflow-hidden text-ellipsis",children:v})}),e[35]=v,e[36]=M):M=e[36],M},gm=s=>{"use forget";const e=F.c(21),{app:n}=s,o=te();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=Ea(new Date),e[0]=a):a=e[0];const l=ki(a);let c,r;if(e[1]!==l.data||e[2]!==l.isError||e[3]!==l.isLoading||e[4]!==n.knowledgeConfig||e[5]!==n.primaryConnector||e[6]!==n.relatedConnectors||e[7]!==o){const f=new Intl.NumberFormat(void 0,{notation:"compact",maximumSignificantDigits:3});let u;if(e[10]!==l.data||e[11]!==n.primaryConnector||e[12]!==n.relatedConnectors){let h;e[14]!==l.data?(h=(x,y)=>{var g,b,C,j;return x+((b=(g=l.data)==null?void 0:g.get(y.id))!=null?b:0)+Number(y.connector_type==="MCP"&&((j=(C=l.data)==null?void 0:C.get("mcp_".concat(y.id)))!=null?j:0))},e[14]=l.data,e[15]=h):h=e[15],u=[n.primaryConnector,...n.relatedConnectors].reduce(h,0),e[10]=l.data,e[11]=n.primaryConnector,e[12]=n.relatedConnectors,e[13]=u}else u=e[13];let p;e[16]!==l.data?(p=(h,x)=>{var y,g;return h+((g=(y=l.data)==null?void 0:y.get(x.key))!=null?g:0)},e[16]=l.data,e[17]=p):p=e[17];const m=u+n.knowledgeConfig.reduce(p,0);c="text-token-text-secondary min-w-16 text-sm",r=l.isLoading?t.jsx(Vs,{}):l.isError?t.jsx("span",{className:"text-token-text-tertiary select-none",children:t.jsx(Ts,{label:o.formatMessage(Je.metricsErrorTooltip),delayDuration:500,children:t.jsx(k,I({},Je.metricsErrorContent))})}):m>0?t.jsx("span",{children:f.format(m)}):null,e[1]=l.data,e[2]=l.isError,e[3]=l.isLoading,e[4]=n.knowledgeConfig,e[5]=n.primaryConnector,e[6]=n.relatedConnectors,e[7]=o,e[8]=c,e[9]=r}else c=e[8],r=e[9];let d;return e[18]!==c||e[19]!==r?(d=t.jsx("div",{className:c,children:r}),e[18]=c,e[19]=r,e[20]=d):d=e[20],d},hm=s=>{"use forget";var ye,he;const e=F.c(79),{app:n}=s,o=le();let a;e[0]!==o?(a=jt(o),e[0]=o,e[1]=a):a=e[1];const i=a;let l;e[2]!==o?(l=jn(o),e[2]=o,e[3]=l):l=e[3];const c=l,r=n.primaryConnector.status!=="ONLY_ME"&&n.primaryConnector.status!=="DISABLED_BY_ADMIN",d=n.knowledgeConfig.length>0;let f;e[4]!==n.knowledgeConfig?(f=n.knowledgeConfig.some(jm),e[4]=n.knowledgeConfig,e[5]=f):f=e[5];const u=f,p=bo(n);let m;e[6]===Symbol.for("react.memo_cache_sentinel")?(m={forceEnable:!0},e[6]=m):m=e[6];const h=Kt(n.primaryConnector,We.ADMIN_SETTING,m);let x;e[7]!==p.data?(x=sn(p.data),e[7]=p.data,e[8]=x):x=e[8];const y=x,g=!p.isLoading&&y.length===0,b=!p.isLoading&&((he=(ye=p.data)==null?void 0:ye.roles_with_permissions.length)!=null?he:0)>1;let C;e[9]!==n||e[10]!==o?(C=_i(n,o),e[9]=n,e[10]=o,e[11]=C):C=e[11];const j=C;let _;e[12]!==n.knowledgeConfig?(_=n.knowledgeConfig.some(Cm),e[12]=n.knowledgeConfig,e[13]=_):_=e[13];const v=_,M=n.primaryConnector.type!==Mt&&c&&!h.isLoading&&h.actions.length>0,[w,S]=P.useState(!1),[N,E]=P.useState(!1),[A,D]=P.useState(!1),[T,R]=P.useState(!1),[O,L]=P.useState(!1),[z,$]=P.useState(!1);let U;e[14]!==n||e[15]!==r||e[16]!==T?(U=T&&t.jsx(Pn,{app:n,onClose:()=>R(!1),onPublish:r?void 0:()=>{R(!1),D(!0)}}),e[14]=n,e[15]=r,e[16]=T,e[17]=U):U=e[17];let G;e[18]!==n||e[19]!==N?(G=N&&t.jsx(sm,{app:n,onClose:()=>E(!1)}),e[18]=n,e[19]=N,e[20]=G):G=e[20];let W;e[21]!==n||e[22]!==A?(W=A&&t.jsx(mn,{app:n,onClose:()=>D(!1)}),e[21]=n,e[22]=A,e[23]=W):W=e[23];let Y;e[24]!==n||e[25]!==w?(Y=w&&t.jsx(Ii,{app:n,onClose:()=>S(!1)}),e[24]=n,e[25]=w,e[26]=Y):Y=e[26];let V;e[27]!==n||e[28]!==O?(V=O&&t.jsx(ju,{app:n,onClose:()=>L(!1)}),e[27]=n,e[28]=O,e[29]=V):V=e[29];let J;e[30]!==n||e[31]!==z?(J=z&&t.jsx(Pi,{app:n,onClose:()=>$(!1)}),e[30]=n,e[31]=z,e[32]=J):J=e[32];let Q;e[33]!==b||e[34]!==g||e[35]!==r||e[36]!==i||e[37]!==u||e[38]!==j||e[39]!==d?(Q=r?g&&i&&b?t.jsx(Z,{color:"primary",icon:Hn,onClick:()=>E(!0),className:"min-w-0",children:t.jsx(k,I({},Je.assignRolesButton))}):d&&!u&&j?t.jsx(Z,{color:"secondary",icon:qn,onClick:()=>S(!0),children:t.jsx(k,I({},Je.enableSyncButton))}):null:t.jsx(Z,{color:"primary",icon:ul,onClick:()=>D(!0),className:"min-w-0",children:t.jsx(k,I({},Je.publishButton))}),e[33]=b,e[34]=g,e[35]=r,e[36]=i,e[37]=u,e[38]=j,e[39]=d,e[40]=Q):Q=e[40];const X=n.primaryConnector.type===Mt&&n.primaryConnector.status==="DISABLED_BY_ADMIN";let B;e[41]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(Zt,{}),e[41]=B):B=e[41];let K;e[42]!==X?(K=t.jsx(ie.Trigger,{color:"ghost",className:"px-2",disabled:X,children:B}),e[42]=X,e[43]=K):K=e[43];let q;e[44]!==n.primaryConnector.type?(q=n.primaryConnector.type!==Mt&&t.jsx(ie.Item,{icon:t.jsx(ml,{}),onClick:()=>R(!0),children:t.jsx(k,I({},Je.appDetailsMenuItem))}),e[44]=n.primaryConnector.type,e[45]=q):q=e[45];let oe;e[46]!==M||e[47]!==b||e[48]!==r||e[49]!==i||e[50]!==u||e[51]!==j||e[52]!==v||e[53]!==d?(oe=r&&t.jsxs(t.Fragment,{children:[i&&b&&t.jsx(ie.Item,{icon:t.jsx(Hn,{}),onClick:()=>E(!0),children:t.jsx(k,I({},Je.userAccessMenuItem))}),M&&t.jsx(ie.Item,{icon:t.jsx(Rr,{}),onClick:()=>L(!0),children:t.jsx(k,I({},Je.actionControlMenuItem))}),d&&j&&!u&&t.jsx(ie.Item,{icon:t.jsx(qn,{}),onClick:()=>S(!0),children:t.jsx(k,I({},Je.enableSyncMenuItem))}),d&&j&&v&&t.jsx(ie.Item,{icon:t.jsx(pl,{}),onClick:()=>S(!0),children:t.jsx(k,I({},Je.syncAnotherMenuItem))})]}),e[46]=M,e[47]=b,e[48]=r,e[49]=i,e[50]=u,e[51]=j,e[52]=v,e[53]=d,e[54]=oe):oe=e[54];let ne;e[55]!==q||e[56]!==oe?(ne=t.jsxs(ie.Group,{children:[q,oe]}),e[55]=q,e[56]=oe,e[57]=ne):ne=e[57];let H;e[58]!==n.primaryConnector.developer_type||e[59]!==n.primaryConnector.status||e[60]!==r?(H=r||n.primaryConnector.status==="ONLY_ME"?t.jsx(ie.Group,{children:t.jsx(ie.Item,{color:"danger",icon:t.jsx(fo,{}),onClick:()=>$(!0),children:t.jsx(k,I({},n.primaryConnector.developer_type==="UNTRUSTED"?Je.deleteMenuItem:Je.disableMenuItem))})}):null,e[58]=n.primaryConnector.developer_type,e[59]=n.primaryConnector.status,e[60]=r,e[61]=H):H=e[61];let de;e[62]!==ne||e[63]!==H?(de=t.jsx(ie.Portal,{children:t.jsxs(ie.Content,{align:"end",children:[ne,H]})}),e[62]=ne,e[63]=H,e[64]=de):de=e[64];let fe;e[65]!==K||e[66]!==de?(fe=t.jsxs(ie.Root,{children:[K,de]}),e[65]=K,e[66]=de,e[67]=fe):fe=e[67];let ue;e[68]!==Q||e[69]!==fe?(ue=t.jsx("div",{className:"flex flex-1 justify-end",children:t.jsxs("div",{className:"text-md space-x-2 text-end whitespace-nowrap",children:[Q,fe]})}),e[68]=Q,e[69]=fe,e[70]=ue):ue=e[70];let pe;return e[71]!==W||e[72]!==Y||e[73]!==V||e[74]!==J||e[75]!==ue||e[76]!==U||e[77]!==G?(pe=t.jsxs(t.Fragment,{children:[U,G,W,Y,V,J,ue]}),e[71]=W,e[72]=Y,e[73]=V,e[74]=J,e[75]=ue,e[76]=U,e[77]=G,e[78]=pe):pe=e[78],pe},Vt={TitleWrapper:mm,Title:Vn,Access:pm,Metrics:gm,Actions:hm},Je=Ee({publishButton:{id:"J5NNnJ",defaultMessage:"Publish"},appDetailsMenuItem:{id:"hmN+9a",defaultMessage:"App details"},userAccessMenuItem:{id:"zZUtRZ",defaultMessage:"User access"},actionControlMenuItem:{id:"s3R7Y4",defaultMessage:"Action control"},syncSettingsMenuItem:{id:"wRvD4A",defaultMessage:"Sync settings"},enableSyncMenuItem:{id:"94C7uk",defaultMessage:"Enable sync"},disableMenuItem:{id:"UqqoOE",defaultMessage:"Disable"},assignRolesButton:{id:"GlmMzy",defaultMessage:"Assign Roles"},enableSyncButton:{id:"kMEWWm",defaultMessage:"Enable Sync"},deleteMenuItem:{id:"wu3GEq",defaultMessage:"Delete"},defaultRoleName:{id:"825NYR",defaultMessage:"Workspace"},moreRolesMessage:{id:"yncI31",defaultMessage:"{roles} + {count} more"},moreWidthRolesMessage:{id:"fKdKPK",defaultMessage:"+ {count} more"},reviewActionsIndicator:{id:"rEFvde",defaultMessage:"New actions"},reviewActionsIndicatorTooltip:{id:"V3N/Gk",defaultMessage:"Actions changed since last review"},customLabel:{id:"3zPrs/",defaultMessage:"Custom"},fileUploadLabel:{id:"LN3nTX",defaultMessage:"File Uploads"},syncAnotherMenuItem:{id:"60Tgxc",defaultMessage:"Sync additional"},metricsErrorContent:{id:"Kn6THF",defaultMessage:"-"},metricsErrorTooltip:{id:"wJKkY5",defaultMessage:"Error loading usage metrics"},noUsersAccessTooltip:{id:"3TQq3A",defaultMessage:"No RBAC roles assigned to this app"}});function xm(s,e){return Number(e.role.predefined_role)-Number(s.role.predefined_role)||s.role.name.localeCompare(e.role.name)}function ym(s,e){return s+e}function bm(s){return s.connection_status!=="deleting"&&s.connection_status!=="deleted"}function jm(s){return s.connections.some(bm)}function Cm(s){return s.connections.length>0&&s.connections.length<s.limits.max_instances}const _m=200,vm=s=>{"use forget";var m;const e=F.c(18),{template:n}=s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=se("h-fit flex-shrink-0 items-center justify-center overflow-hidden rounded-xl border-[0.5px] p-2 shadow-sm"),e[0]=o):o=e[0];let a;e[1]!==n?(a=t.jsx("div",{className:o,children:t.jsx(gl,{template:n,size:"medium"})}),e[1]=n,e[2]=a):a=e[2];const i=(m=n==null?void 0:n.display_name)!=null?m:n.name;let l;e[3]!==i?(l=t.jsx("p",{className:"font-medium",children:i}),e[3]=i,e[4]=l):l=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("span",{className:"text-token-text-secondary border-token-border-heavy inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-medium uppercase",children:t.jsx(k,I({},ns.templateBadge))}),e[5]=c):c=e[5];let r;e[6]!==l?(r=t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l,c]}),e[6]=l,e[7]=r):r=e[7];let d;e[8]!==n.description?(d=n.description||t.jsx(k,I({},ns.templateNoDescription)),e[8]=n.description,e[9]=d):d=e[9];let f;e[10]!==d?(f=t.jsx("p",{className:"text-token-text-secondary line-clamp-1 text-sm",children:d}),e[10]=d,e[11]=f):f=e[11];let u;e[12]!==r||e[13]!==f?(u=t.jsxs("div",{className:"flex flex-col",children:[r,f]}),e[12]=r,e[13]=f,e[14]=u):u=e[14];let p;return e[15]!==a||e[16]!==u?(p=t.jsxs("div",{className:"flex items-center gap-3",children:[a,u]}),e[15]=a,e[16]=u,e[17]=p):p=e[17],p},$s=s=>{"use forget";const e=F.c(8),{action:n,onClick:o}=s,a=n==="enable"?"btn btn-primary group-hover/btn:bg-gray-800 dark:group-hover/btn:bg-gray-100":"btn btn-secondary group-hover/btn:bg-token-bg-tertiary",i=n==="enable"?ns.enableAppButton:ns.manageAppButton;let l;e[0]!==i?(l=t.jsx(k,I({},i)),e[0]=i,e[1]=l):l=e[1];let c;e[2]!==a||e[3]!==l?(c=t.jsx("span",{className:a,children:l}),e[2]=a,e[3]=l,e[4]=c):c=e[4];let r;return e[5]!==o||e[6]!==c?(r=t.jsx("button",{type:"button",onClick:o,className:"group/btn -mx-1 -me-1 rounded-full p-1",children:c}),e[5]=o,e[6]=c,e[7]=r):r=e[7],r},km=s=>{"use forget";const e=F.c(45),{item:n,onManage:o}=s,[a,i]=P.useState(!1),[l,c]=P.useState(!1),[r,d]=P.useState(!1);if(n.kind==="app"){const g=n.app;if(g.primaryConnector.type===Mt){let S;e[0]!==g||e[1]!==a?(S=a&&t.jsx(mn,{app:g,onClose:()=>i(!1)}),e[0]=g,e[1]=a,e[2]=S):S=e[2];let N;e[3]!==g?(N=t.jsx("div",{className:"flex-1",children:t.jsx(Vt.Title,{app:g,context:"directory"})}),e[3]=g,e[4]=N):N=e[4];let E;e[5]!==g.primaryConnector.status||e[6]!==o?(E=g.primaryConnector.status!=="ENABLED"?t.jsx($s,{action:"enable",onClick:()=>i(!0)}):t.jsx($s,{action:"manage",onClick:()=>o==null?void 0:o()}),e[5]=g.primaryConnector.status,e[6]=o,e[7]=E):E=e[7];let A;e[8]!==N||e[9]!==E?(A=t.jsxs("div",{className:"border-token-border-light flex w-full border-b py-4 text-start select-none last:border-0",children:[N,E]}),e[8]=N,e[9]=E,e[10]=A):A=e[10];let D;return e[11]!==S||e[12]!==A?(D=t.jsxs(t.Fragment,{children:[S,A]}),e[11]=S,e[12]=A,e[13]=D):D=e[13],D}let b;e[14]!==g||e[15]!==l?(b=l&&t.jsx(Pn,{app:g,onClose:()=>c(!1),onPublish:()=>{c(!1),i(!0)}}),e[14]=g,e[15]=l,e[16]=b):b=e[16];let C;e[17]!==g||e[18]!==a?(C=a&&t.jsx(mn,{app:g,onClose:()=>i(!1)}),e[17]=g,e[18]=a,e[19]=C):C=e[19];let j;e[20]===Symbol.for("react.memo_cache_sentinel")?(j=()=>c(!0),e[20]=j):j=e[20];let _;e[21]!==g?(_=t.jsx("div",{className:"flex-1",children:t.jsx(Vt.Title,{app:g})}),e[21]=g,e[22]=_):_=e[22];let v;e[23]!==g.primaryConnector.status||e[24]!==o?(v=g.primaryConnector.status!=="ENABLED"?t.jsx($s,{action:"enable",onClick:S=>{S.stopPropagation(),i(!0)}}):t.jsx($s,{action:"manage",onClick:S=>{S.stopPropagation(),o==null||o()}}),e[23]=g.primaryConnector.status,e[24]=o,e[25]=v):v=e[25];let M;e[26]!==_||e[27]!==v?(M=t.jsx("button",{onClick:j,className:"border-token-border-light group flex w-full border-b py-2 text-start last:border-0 focus:outline-none",children:t.jsxs("div",{className:"group-hover:bg-token-bg-elevated-secondary -mx-2 flex flex-1 items-center gap-2 rounded-2xl p-2 text-start",children:[_,v]})}),e[26]=_,e[27]=v,e[28]=M):M=e[28];let w;return e[29]!==b||e[30]!==C||e[31]!==M?(w=t.jsxs(t.Fragment,{children:[b,C,M]}),e[29]=b,e[30]=C,e[31]=M,e[32]=w):w=e[32],w}const f=n.template;let u;e[33]!==r||e[34]!==f?(u=r&&t.jsx(uo,{template:f,redirectAfter:"/admin/ca#drafts",onClose:()=>d(!1)}),e[33]=r,e[34]=f,e[35]=u):u=e[35];let p;e[36]===Symbol.for("react.memo_cache_sentinel")?(p=()=>d(!0),e[36]=p):p=e[36];let m;e[37]!==f?(m=t.jsx("div",{className:"flex-1",children:t.jsx(vm,{template:f})}),e[37]=f,e[38]=m):m=e[38];let h;e[39]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx($s,{action:"enable",onClick:g=>{g.stopPropagation(),d(!0)}}),e[39]=h):h=e[39];let x;e[40]!==m?(x=t.jsx("button",{onClick:p,className:"border-token-border-light group flex w-full border-b py-2 text-start last:border-0 focus:outline-none",children:t.jsxs("div",{className:"group-hover:bg-token-bg-elevated-secondary -mx-2 flex flex-1 items-center gap-2 rounded-2xl p-2 text-start",children:[m,h]})}),e[40]=m,e[41]=x):x=e[41];let y;return e[42]!==u||e[43]!==x?(y=t.jsxs(t.Fragment,{children:[u,x]}),e[42]=u,e[43]=x,e[44]=y):y=e[44],y},wm=s=>{"use forget";const e=F.c(32),{query:n,onManage:o}=s,a=te(),{apps:i,appTemplates:l,isLoading:c,error:r,refetch:d}=Ci();let f;if(e[0]!==l||e[1]!==i){const g=i.filter(Mm).map(Sm),b=l.filter(Nm).map(Tm);f=[...g,...b].toSorted(Am),e[0]=l,e[1]=i,e[2]=f}else f=e[2];const u=f,[p]=tc(n,_m);let m;e:{if(!p){m=u;break e}let g;e[3]!==u||e[4]!==p?(g=ba(u,p,Dm),e[3]=u,e[4]=p,e[5]=g):g=e[5],m=g}const h=m;if(c){let g;return e[6]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("div",{className:"flex justify-center py-10",children:t.jsx(He,{})}),e[6]=g):g=e[6],g}if(r){let g;e[7]!==a?(g=a.formatMessage(ns.errorState),e[7]=a,e[8]=g):g=e[8];let b;e[9]!==g?(b=t.jsx("span",{className:"text-token-text-secondary text-sm",children:g}),e[9]=g,e[10]=b):b=e[10];let C;e[11]!==d?(C=()=>d(),e[11]=d,e[12]=C):C=e[12];let j;e[13]!==a?(j=a.formatMessage(ns.retry),e[13]=a,e[14]=j):j=e[14];let _;e[15]!==C||e[16]!==j?(_=t.jsx(Z,{type:"button",onClick:C,children:j}),e[15]=C,e[16]=j,e[17]=_):_=e[17];let v;return e[18]!==b||e[19]!==_?(v=t.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col items-center gap-3 overflow-x-auto px-4 py-6 md:px-6 lg:px-10",children:[b,_]}),e[18]=b,e[19]=_,e[20]=v):v=e[20],v}if(h.length===0){let g;e[21]!==a?(g=a.formatMessage(ns.emptyState),e[21]=a,e[22]=g):g=e[22];let b;return e[23]!==g?(b=t.jsx("div",{className:"mx-auto w-full max-w-5xl overflow-x-auto px-4 py-6 md:px-6 lg:px-10",children:t.jsx("div",{className:"text-token-text-secondary border-token-border-soft rounded-2xl border border-dashed px-6 py-12 text-center text-sm",children:g})}),e[23]=g,e[24]=b):b=e[24],b}let x;if(e[25]!==h||e[26]!==o){let g;e[28]!==o?(g=b=>t.jsx(km,{item:b,onManage:b.kind==="app"?()=>o(b.app):void 0},b.kind==="app"?b.app.primaryConnector.id:b.template.template_id),e[28]=o,e[29]=g):g=e[29],x=h.map(g),e[25]=h,e[26]=o,e[27]=x}else x=e[27];let y;return e[30]!==x?(y=t.jsx("div",{className:"mx-auto w-full max-w-5xl space-y-12 overflow-x-auto px-4 pb-8 md:px-6 lg:px-10",children:t.jsx("div",{children:x})}),e[30]=x,e[31]=y):y=e[31],y},ns=Ee({searchPlaceholder:{id:"FzuWgG",defaultMessage:"Search apps"},emptyState:{id:"N3bJPI",defaultMessage:"No apps match your search."},errorState:{id:"sXdfMg",defaultMessage:"We ran into a problem loading the app directory."},retry:{id:"ZAcw05",defaultMessage:"Try again"},enableAppButton:{id:"xB2VnT",defaultMessage:"Enable"},templateBadge:{id:"dQBsvV",defaultMessage:"Template"},templateNoDescription:{id:"lkvMaL",defaultMessage:"No description provided."},manageAppButton:{id:"5k1e6b",defaultMessage:"Manage"}});function Mm(s){return s.primaryConnector.developer_type!=="UNTRUSTED"}function Sm(s){return{kind:"app",app:s,name:s.primaryConnector.name,description:s.primaryConnector.description}}function Nm(s){return!!s.name}function Tm(s){return{kind:"template",template:s,name:s.name,description:s.description}}function Am(s,e){return s.name.localeCompare(e.name)}function Dm(s){var e,n,o,a,i,l,c,r,d;return{targets:[s.name,(e=s.description)!=null?e:void 0,s.kind==="app"?(o=(n=s.app.primaryConnector.branding)==null?void 0:n.category)!=null?o:void 0:(i=(a=s.template.branding)==null?void 0:a.category)!=null?i:void 0,s.kind==="template"?(c=(l=s.template.branding)==null?void 0:l.developer)!=null?c:void 0:(d=(r=s.app.primaryConnector.branding)==null?void 0:r.developer)!=null?d:void 0]}}const Pm=(s,e)=>+!!s-+!!e||(s&&e?s<e?-1:1:0),En=P.createContext({selection:new Set}),Em=s=>{"use forget";var Ve;const e=F.c(108),{columns:n,rows:o,onSelection:a,emptyMessage:i,className:l,headerCellClassName:c,rowKey:r,visibleKeys:d,children:f}=s,u=P.useId();let p;e[0]!==n?(p=n.filter(Om),e[0]=n,e[1]=p):p=e[1];const m=p;let h;e[2]!==m?(h={},m.forEach(ce=>{h[ce.field]=ce}),e[2]=m,e[3]=h):h=e[3];const x=h;let y;if(e[4]!==r||e[5]!==o){let ce;e[7]!==r?(ce=ae=>[r(ae),ae],e[7]=r,e[8]=ce):ce=e[8],y=new Map(o.map(ce)),e[4]=r,e[5]=o,e[6]=y}else y=e[6];const g=y;let b;e[9]!==m?(b=m.filter(Lm),e[9]=m,e[10]=b):b=e[10];const C=b;let j;e:{let ce;e[11]!==m?(ce=m.find(Fm),e[11]=m,e[12]=ce):ce=e[12];const ae=ce;if(!ae||!ae.defaultSortDirection){j=null;break e}let re;e[13]!==ae.defaultSortDirection||e[14]!==ae.field?(re={field:ae.field,direction:ae.defaultSortDirection},e[13]=ae.defaultSortDirection,e[14]=ae.field,e[15]=re):re=e[15],j=re}const _=j,[v,M]=P.useState(_);let w;e[16]!==C?(w=ce=>{const ae=C.find(re=>re.field===ce);ae&&M(re=>{var Se;if(!re||re.field!==ce)return{field:ce,direction:(Se=ae.defaultSortDirection)!=null?Se:"asc"};const Ce=re.direction==="asc"?"desc":"asc";return{field:ce,direction:Ce}})},e[16]=C,e[17]=w):w=e[17];const S=w;let N;e:{if(!v){N=o;break e}const ce=x[v.field];if(!ce){N=o;break e}let ae;if(e[18]!==ce||e[19]!==o||e[20]!==v.direction){let re;e[22]!==ce||e[23]!==v.direction?(re=(Ce,Se)=>{var $e,nt;const ge=v.direction==="asc"?1:-1;return Pm(($e=ce.value)==null?void 0:$e.call(ce,Ce),(nt=ce.value)==null?void 0:nt.call(ce,Se))*ge},e[22]=ce,e[23]=v.direction,e[24]=re):re=e[24],ae=[...o].sort(re),e[18]=ce,e[19]=o,e[20]=v.direction,e[21]=ae}else ae=e[21];N=ae}const E=N;let A;e[25]===Symbol.for("react.memo_cache_sentinel")?(A=new Set,e[25]=A):A=e[25];const[D,T]=P.useState(A);let R;e[26]===Symbol.for("react.memo_cache_sentinel")?(R={},e[26]=R):R=e[26];const[O,L]=P.useState(R),z=P.useRef(null);let $;e[27]!==g||e[28]!==a?($=ce=>{a&&T(ae=>{const re=new Set(ae);return re.has(ce)?re.delete(ce):re.add(ce),a(Array.from(re).map(Ce=>g.get(Ce)).filter(Bm)),re})},e[27]=g,e[28]=a,e[29]=$):$=e[29];const U=$;let G;e[30]!==g||e[31]!==a||e[32]!==D||e[33]!==d?(G=a&&((Ve=d!=null?d:new Set(g.keys()))==null?void 0:Ve.isSubsetOf(D))&&!!(d!=null?d:g).size,e[30]=g,e[31]=a,e[32]=D,e[33]=d,e[34]=G):G=e[34];const W=G;let Y;e[35]!==W||e[36]!==g||e[37]!==a||e[38]!==D||e[39]!==d?(Y=a&&!W&&!!(d!=null?d:new Set(g.keys())).intersection(D).size,e[35]=W,e[36]=g,e[37]=a,e[38]=D,e[39]=d,e[40]=Y):Y=e[40];const V=Y;let J;e[41]!==W||e[42]!==g||e[43]!==a||e[44]!==d?(J=()=>{a&&T(ce=>{const ae=new Set(ce);return(d!=null?d:g.keys()).forEach(re=>{W?ae.delete(re):ae.add(re)}),a(Array.from(ae).map(re=>g.get(re)).filter($m)),ae})},e[41]=W,e[42]=g,e[43]=a,e[44]=d,e[45]=J):J=e[45];const Q=J;let X;e[46]!==a?(X=()=>{T(new Set),a==null||a([])},e[46]=a,e[47]=X):X=e[47];const B=X;let K;e[48]!==O?(K=ce=>{const ae=O[ce];if(ae)return{width:"".concat(ae,"px"),minWidth:"".concat(ae,"px")}},e[48]=O,e[49]=K):K=e[49];const q=K;let oe;e[50]!==O?(oe=Object.keys(O),e[50]=O,e[51]=oe):oe=e[51];const ne=oe.length,[H,de]=P.useState(!1);let fe;e[52]!==ne?(fe=ce=>ae=>{var be;if(typeof window>"u")return;const re=ae.currentTarget;ae.preventDefault(),ae.stopPropagation();const Ce=re.closest("th"),Se=Ce==null?void 0:Ce.closest("table");if(!Ce||!Se)return;if(ne===0){const ke=z.current;if(!ke)return;const De=ke.querySelectorAll("th[data-field]");if(De.length===0)return;L(Oe=>{const tt=I({},Oe);return De.forEach(st=>{const at=st.dataset.field;!at||tt[at]||(tt[at]=Math.round(st.getBoundingClientRect().width))}),tt})}const ge=Ce.getBoundingClientRect().width,$e=(be=Se==null?void 0:Se.parentElement)!=null?be:Se,nt=Se==null?void 0:Se.getBoundingClientRect().width,Nt=window.getComputedStyle($e),Rt=$e.clientWidth-parseFloat(Nt.paddingLeft)-parseFloat(Nt.paddingRight),Ct=Ce.nextElementSibling,ot=Ct instanceof HTMLTableCellElement?Ct:null,et=ot==null?void 0:ot.dataset.field,gt=ot==null?void 0:ot.getBoundingClientRect().width,ht=ae.clientX;let ft=ge;const Ze=document.body.style,Tt=Ze.cursor,At=Ze.userSelect;Ze.cursor="col-resize",Ze.userSelect="none",de(!0);const _t=ke=>{const De=Ce.getBoundingClientRect().width,Oe=Math.round(ge+ke.clientX-ht);if(De>ft&&De>Oe)return;ft=Oe;const tt=nt+Oe-ge,st=tt<Rt&&gt?Math.round(gt+(Rt-tt)):gt;L(at=>{const Ht=at[ce],ls=et!=null?at[et]:void 0;if(Ht===Oe&&ls===st)return at;const Jt=xe(I({},at),{[ce]:Oe});return et&&st!=null&&(Jt[et]=st),Jt})},ut=()=>{document.removeEventListener("pointermove",_t),document.removeEventListener("pointerup",ut),document.removeEventListener("pointercancel",ut),Ze.cursor=Tt,Ze.userSelect=At,de(!1)};document.addEventListener("pointermove",_t),document.addEventListener("pointerup",ut),document.addEventListener("pointercancel",ut)},e[52]=ne,e[53]=fe):fe=e[53];const ue=fe,pe=te(),ye=a?U:void 0,he=a?B:void 0;let ve;e[54]!==m?(ve=new Set(m.map(zm)),e[54]=m,e[55]=ve):ve=e[55];let Me;e[56]!==D||e[57]!==ye||e[58]!==he||e[59]!==ve?(Me={select:ye,clearSelection:he,selection:D,visibleColumns:ve},e[56]=D,e[57]=ye,e[58]=he,e[59]=ve,e[60]=Me):Me=e[60];const Re=a&&"lg:-ms-8";let me;e[61]!==l||e[62]!==Re?(me=se("relative min-w-full table-fixed border-separate border-spacing-0",Re,l),e[61]=l,e[62]=Re,e[63]=me):me=e[63];let je;e[64]!==W||e[65]!==c||e[66]!==u||e[67]!==g||e[68]!==a||e[69]!==V||e[70]!==Q||e[71]!==d?(je=a&&t.jsx("th",{className:se("w-8 min-w-8",c),children:t.jsx("label",{className:"bg-token-bg-elevated-secondary dark:bg-token-bg-elevated-primary relative -ms-4 flex cursor-pointer items-center py-2 ps-4 text-center",children:t.jsx(Gt,{id:"".concat(u,"-select-all"),checked:W,onChange:Q,disabled:(d!=null?d:g).size===0,containerClassName:"justify-center",indeterminate:V})})}),e[64]=W,e[65]=c,e[66]=u,e[67]=g,e[68]=a,e[69]=V,e[70]=Q,e[71]=d,e[72]=je):je=e[72];let Ae;if(e[73]!==n||e[74]!==q||e[75]!==ue||e[76]!==pe||e[77]!==H||e[78]!==(v==null?void 0:v.direction)||e[79]!==(v==null?void 0:v.field)||e[80]!==S){let ce;e[82]!==q||e[83]!==ue||e[84]!==pe||e[85]!==H||e[86]!==(v==null?void 0:v.direction)||e[87]!==(v==null?void 0:v.field)||e[88]!==S?(ce=ae=>{var $e;const re=(v==null?void 0:v.field)===ae.field,Ce=re?v==null?void 0:v.direction:void 0,Se=($e=ae.header)!=null?$e:ae.field,ge=q(ae.field);return ae.hidden?t.jsx("th",{style:ge},ae.field):t.jsx("th",{className:se("bg-token-bg-elevated-secondary dark:bg-token-bg-elevated-primary w-full text-start text-sm font-medium whitespace-nowrap select-none last:pe-0",re&&"text-token-text-secondary"),"data-field":ae.resizable?ae.field:void 0,style:ae.resizable?ge:void 0,children:t.jsxs("div",{className:"relative",children:[ae.sortable?t.jsxs("button",{type:"button",onClick:()=>S(ae.field),className:"group -ring-offset-2 outline-token-border-accent relative -ms-1 me-4 inline-flex h-9 w-full items-center gap-1 rounded-none py-2 ps-1 text-start -outline-offset-[1.5px] focus:outline-[1.5px]","aria-label":pe.formatMessage(Xo.sortByColumn,{column:typeof Se=="string"?Se:ae.field}),children:[t.jsx("span",{children:Se}),t.jsx("span",{className:"inline-flex items-center rounded p-0.5",children:Ce==="asc"?t.jsx(hl,{className:"h-3 w-3"}):Ce==="desc"?t.jsx(xl,{className:"h-3 w-3"}):t.jsx(Or,{className:"h-3 w-3 opacity-0 transition-opacity group-focus-within:opacity-100 group-hover:opacity-100"})})]}):Se,ae.resizable&&t.jsx("div",{className:"text-token-icon-tertiary hover:bg-token-interactive-bg-tertiary absolute end-0 top-0 flex h-full w-6 cursor-col-resize items-center justify-center rounded-sm select-none",role:"separator","aria-orientation":"vertical","aria-hidden":"true",onPointerDown:ue(ae.field),children:t.jsx("div",{className:se("bg-token-bg-secondary h-4 w-0.5 rounded-full transition-opacity",H?"opacity-100":"opacity-0 group-focus-within:opacity-100 group-hover:opacity-100")})})]})},ae.field)},e[82]=q,e[83]=ue,e[84]=pe,e[85]=H,e[86]=v==null?void 0:v.direction,e[87]=v==null?void 0:v.field,e[88]=S,e[89]=ce):ce=e[89],Ae=n.map(ce),e[73]=n,e[74]=q,e[75]=ue,e[76]=pe,e[77]=H,e[78]=v==null?void 0:v.direction,e[79]=v==null?void 0:v.field,e[80]=S,e[81]=Ae}else Ae=e[81];let ze;e[90]!==je||e[91]!==Ae?(ze=t.jsx("thead",{ref:z,className:"text-token-text-tertiary group relative w-full",children:t.jsxs("tr",{className:"h-0",children:[je,Ae]})}),e[90]=je,e[91]=Ae,e[92]=ze):ze=e[92];let Ge;e[93]!==f||e[94]!==i||e[95]!==g||e[96]!==E||e[97]!==d?(Ge=(d!=null?d:g).size===0?t.jsx("tr",{children:t.jsx("td",{colSpan:9999,className:"border-token-border-light border-b pe-4 last:pe-0 [tr:last-child_&]:border-b-0",children:t.jsx("div",{className:"text-token-text-secondary py-6 text-center text-sm",children:i!=null?i:t.jsx(k,I({},Xo.noMatchingResults))})})}):f(E),e[93]=f,e[94]=i,e[95]=g,e[96]=E,e[97]=d,e[98]=Ge):Ge=e[98];let Be;e[99]!==Ge?(Be=t.jsx("tbody",{children:Ge}),e[99]=Ge,e[100]=Be):Be=e[100];let Ue;e[101]!==me||e[102]!==ze||e[103]!==Be?(Ue=t.jsxs("table",{className:me,children:[ze,Be]}),e[101]=me,e[102]=ze,e[103]=Be,e[104]=Ue):Ue=e[104];let Ke;return e[105]!==Me||e[106]!==Ue?(Ke=t.jsx(En.Provider,{value:Me,children:Ue}),e[105]=Me,e[106]=Ue,e[107]=Ke):Ke=e[107],Ke},Im=s=>{"use forget";var m;const e=F.c(19);let n,o,a,i;e[0]!==s?(m=s,{rowKey:i,children:n,className:o}=m,a=Xt(m,["rowKey","children","className"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=i):(n=e[1],o=e[2],a=e[3],i=e[4]);const{selection:l,select:c}=P.useContext(En);let r;e[5]!==i||e[6]!==l?(r=l.has(i),e[5]=i,e[6]=l,e[7]=r):r=e[7];const d=r;let f;e[8]!==o?(f=se("group h-0",o),e[8]=o,e[9]=f):f=e[9];let u;e[10]!==d||e[11]!==i||e[12]!==c?(u=c&&t.jsx("td",{className:"h-[inherit] w-12 pe-0 text-center align-middle [tr:last-child_&]:border-b-0",children:t.jsx("label",{className:"flex h-full cursor-pointer items-center [tr[data-disabled=true]_&]:opacity-50",children:t.jsx(Gt,{id:"row-".concat(i),checked:d,onChange:()=>c(i),containerClassName:"justify-center"})})}),e[10]=d,e[11]=i,e[12]=c,e[13]=u):u=e[13];let p;return e[14]!==n||e[15]!==a||e[16]!==f||e[17]!==u?(p=t.jsxs("tr",xe(I({className:f},a),{children:[u,n]})),e[14]=n,e[15]=a,e[16]=f,e[17]=u,e[18]=p):p=e[18],p},Rm=s=>{"use forget";var f;const e=F.c(14);let n,o,a,i;e[0]!==s?(f=s,{field:a,children:n,className:o}=f,i=Xt(f,["field","children","className"]),e[0]=s,e[1]=n,e[2]=o,e[3]=a,e[4]=i):(n=e[1],o=e[2],a=e[3],i=e[4]);const{visibleColumns:l}=P.useContext(En);if(a&&l&&!l.has(a)){let u;return e[5]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx("td",{className:"border-token-border-light border-b"}),e[5]=u):u=e[5],u}let c;e[6]!==o?(c=se("border-token-border-light min-w-fit shrink-0 border-b pe-4 text-start align-middle last:pe-0 [tr:last-child_&]:border-b-0",o),e[6]=o,e[7]=c):c=e[7];let r;e[8]!==n?(r=t.jsx("div",{className:"flex items-center [tr[data-disabled=true]_&]:opacity-50",children:n}),e[8]=n,e[9]=r):r=e[9];let d;return e[10]!==i||e[11]!==c||e[12]!==r?(d=t.jsx("td",xe(I({className:c},i),{children:r})),e[10]=i,e[11]=c,e[12]=r,e[13]=d):d=e[13],d},Ft={Root:Em,Row:Im,Cell:Rm},Xo=Ee({noMatchingResults:{id:"lo084r",defaultMessage:"No matching results"},emptyCell:{id:"gyiEbk",defaultMessage:"—"},sortByColumn:{id:"c9gwvG",defaultMessage:"Sort by {column}"}});function Om(s){return!s.hidden}function Lm(s){return s.sortable}function Fm(s){return s.defaultSortDirection}function Bm(s){return s!==void 0}function $m(s){return s!==void 0}function zm(s){return s.field}const Gm=s=>{"use forget";const e=F.c(11),{apps:n,visibleApps:o,isLoading:a}=s;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[{field:"name",header:t.jsx(k,I({},Gn.appColumnHeader)),value:Um,sortable:!0,defaultSortDirection:"asc"},{field:"actions",header:""}],e[0]=i):i=e[0];const l=i;if(a){let u;return e[1]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx("div",{className:"flex justify-center py-16",children:t.jsx(He,{})}),e[1]=u):u=e[1],u}if(n.length===0){let u;return e[2]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx("p",{className:"text-token-text-tertiary mt-4 w-full p-4 text-center text-sm",children:t.jsx(k,I({},Gn.noAppsMessage))}),e[2]=u):u=e[2],u}let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"absolute inset-0 -z-10",children:t.jsx("div",{className:"bg-token-bg-elevated-secondary dark:bg-token-bg-elevated-primary h-9 w-full"})}),e[3]=c):c=e[3];let r;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(k,I({},Gn.noMatchingResults)),e[4]=r):r=e[4];let d;e[5]!==o?(d=u=>u.map(p=>t.jsxs(Ft.Row,{rowKey:p.primaryConnector.id,hidden:!o.has(p.primaryConnector.id),children:[t.jsx(Ft.Cell,{children:t.jsx(Vt.TitleWrapper,{app:p})}),t.jsx(Ft.Cell,{className:"py-4",children:t.jsx(Vt.Actions,{app:p})})]},p.primaryConnector.id)),e[5]=o,e[6]=d):d=e[6];let f;return e[7]!==n||e[8]!==d||e[9]!==o?(f=t.jsx("div",{className:"pb-8",children:t.jsxs("div",{className:"relative",children:[c,t.jsx("div",{className:"mx-auto w-full max-w-5xl space-y-12 overflow-x-auto px-4 md:px-6 lg:px-10",children:t.jsx(Ft.Root,{columns:l,rows:n,visibleKeys:o,rowKey:Wm,emptyMessage:r,className:"overflow-y-clip",children:d})})]})}),e[7]=n,e[8]=d,e[9]=o,e[10]=f):f=e[10],f},Gn=Ee({draftsPageTitle:{id:"6zyfc8",defaultMessage:"Drafts"},appColumnHeader:{id:"f2flwq",defaultMessage:"Name"},accessColumnHeader:{id:"wqXY9B",defaultMessage:"Access"},usersCountColumnHeader:{id:"nERnc3",defaultMessage:"Users"},appsDisabledWarning:{id:"9H+dUv",defaultMessage:"Apps are currently disabled for this workspace. To enable Apps, please contact your administrator."},filterButton:{id:"wzoL9b",defaultMessage:"Filter"},disabledAppsSectionTitle:{id:"q8S5CC",defaultMessage:"Disabled"},noAppsMessage:{id:"irxm6b",defaultMessage:"No drafts."},defaultRoleName:{id:"COFxYg",defaultMessage:"Workspace"},noMatchingResults:{id:"BQleP5",defaultMessage:"No drafts match your search"}});function Um(s){return s.primaryConnector.name}function Wm(s){return s.primaryConnector.id}const qm=s=>{"use forget";const e=F.c(7);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];const[o,a]=P.useState(n);let i;e[1]!==o?(i=Object.values(o).reduce(Vm,0),e[1]=o,e[2]=i):i=e[2];let l;return e[3]!==s||e[4]!==o||e[5]!==i?(l={filters:o,setFilters:a,activeFilterCount:i,filterFields:s},e[3]=s,e[4]=o,e[5]=i,e[6]=l):l=e[6],l},Li=P.createContext({closedSections:new Set,onToggleSection:()=>{}}),Km=s=>{"use forget";const e=F.c(8),{children:n,filterFields:o}=s;let a;e[0]!==o?(a=new Set(Object.entries(o!=null?o:{}).filter(Zm).map(Jm)),e[0]=o,e[1]=a):a=e[1];const[i,l]=P.useState(a);let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=u=>{l(p=>{const m=new Set(p);return m.has(u)?m.delete(u):m.add(u),m})},e[2]=c):c=e[2];const r=c;let d;e[3]!==i?(d={closedSections:i,onToggleSection:r},e[3]=i,e[4]=d):d=e[4];let f;return e[5]!==n||e[6]!==d?(f=t.jsx(Li.Provider,{value:d,children:n}),e[5]=n,e[6]=d,e[7]=f):f=e[7],f},Hm=s=>{"use forget";const e=F.c(44),{field:n,filterKey:o,selectedValues:a,options:i,onToggleValue:l}=s,{closedSections:c,onToggleSection:r}=P.useContext(Li);let d,f,u;if(e[0]!==c||e[1]!==n.label||e[2]!==o||e[3]!==r||e[4]!==a.size){const g=c.has(o);let b;e[8]!==o||e[9]!==r?(b=()=>r(o),e[8]=o,e[9]=r,e[10]=b):b=e[10];let C;e[11]!==n.label?(C=t.jsx(k,I({},n.label)),e[11]=n.label,e[12]=C):C=e[12];let j;e[13]!==a.size?(j=a.size>0&&t.jsx("div",{className:"bg-token-bg-accent-static absolute -start-1 h-1.5 w-1.5 rounded-full"}),e[13]=a.size,e[14]=j):j=e[14];const _=g?t.jsx(yl,{className:"icon h-4 w-4"}):t.jsx(bl,{className:"icon h-4 w-4"});e[15]!==b||e[16]!==C||e[17]!==j||e[18]!==_?(u=t.jsxs("legend",{className:"hover:bg-token-bg-tertiary relative flex w-full cursor-pointer items-center justify-between gap-4 rounded-md p-2 text-sm font-medium",onClick:b,children:[C,j,_]}),e[15]=b,e[16]=C,e[17]=j,e[18]=_,e[19]=u):u=e[19];const v=!g&&"grid-rows-[1fr]";e[20]!==v?(f=se("grid grid-rows-[0fr] transition-all duration-150",v),e[20]=v,e[21]=f):f=e[21],d=se("overflow-hidden transition-all duration-150",g&&"invisible"),e[0]=c,e[1]=n.label,e[2]=o,e[3]=r,e[4]=a.size,e[5]=d,e[6]=f,e[7]=u}else d=e[5],f=e[6],u=e[7];let p;if(e[22]!==n||e[23]!==o||e[24]!==l||e[25]!==i||e[26]!==a){let g;e[28]!==n||e[29]!==o||e[30]!==l||e[31]!==a?(g=(b,C)=>{const j=n.messages(b),_=a.has(b);return t.jsx("li",{className:"mb-1",children:t.jsxs("label",{className:"inline-flex w-full cursor-pointer items-center gap-2 pe-4 text-sm font-normal",children:[t.jsx(Gt,{id:"filter-".concat(o,"-option-").concat(C),checked:_,onChange:()=>l(b),className:"border-token-border-light bg-token-bg-primary text-token-bg-accent-static focus:ring-token-border-accent h-4 w-4 rounded"}),t.jsx("span",{children:j})]})},C)},e[28]=n,e[29]=o,e[30]=l,e[31]=a,e[32]=g):g=e[32],p=i.map(g),e[22]=n,e[23]=o,e[24]=l,e[25]=i,e[26]=a,e[27]=p}else p=e[27];let m;e[33]!==p?(m=t.jsx("ul",{className:"my-0.5 px-2",children:p}),e[33]=p,e[34]=m):m=e[34];let h;e[35]!==d||e[36]!==m?(h=t.jsx("div",{className:d,children:m}),e[35]=d,e[36]=m,e[37]=h):h=e[37];let x;e[38]!==f||e[39]!==h?(x=t.jsx("div",{className:f,children:h}),e[38]=f,e[39]=h,e[40]=x):x=e[40];let y;return e[41]!==u||e[42]!==x?(y=t.jsx("li",{children:t.jsxs("fieldset",{children:[u,x]})}),e[41]=u,e[42]=x,e[43]=y):y=e[43],y},Qm=s=>{"use forget";const e=F.c(18),{filters:n,onApply:o,filterFields:a}=s;let i;e[0]!==n||e[1]!==o?(i=(h,x)=>{var b;const y=I({},n),g=(b=y[h])!=null?b:new Set;g.has(x)?g.delete(x):g.add(x),y[h]=g,o(y)},e[0]=n,e[1]=o,e[2]=i):i=e[2];const l=i;let c;e[3]!==a?(c=Object.entries(a).filter(Xm),e[3]=a,e[4]=c):c=e[4];let r;e[5]!==n||e[6]!==l||e[7]!==c?(r=c.map(h=>{var g;const[x,y]=h;return t.jsx(Hm,{filterKey:x,field:y,selectedValues:(g=n[x])!=null?g:new Set,options:y.options,onToggleValue:b=>l(x,b)},x)}),e[5]=n,e[6]=l,e[7]=c,e[8]=r):r=e[8];let d;e[9]!==o?(d=()=>o({}),e[9]=o,e[10]=d):d=e[10];const f=Object.values(n).every(ep);let u;e[11]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(k,I({},Ym.clearAllFiltersButton)),e[11]=u):u=e[11];let p;e[12]!==d||e[13]!==f?(p=t.jsx("li",{className:"mt-1 flex justify-end",children:t.jsx(Z,{color:"ghost",size:"small",onClick:d,disabled:f,children:u})}),e[12]=d,e[13]=f,e[14]=p):p=e[14];let m;return e[15]!==r||e[16]!==p?(m=t.jsxs("ul",{className:"py-1 ps-3 pe-2",children:[r,p]}),e[15]=r,e[16]=p,e[17]=m):m=e[17],m},Ym=Ee({clearAllFiltersButton:{id:"RRGuYA",defaultMessage:"Clear all"},developer_type:{id:"p7bLEl",defaultMessage:"Developer Type"},auth_type:{id:"M89wih",defaultMessage:"Authentication Type"},auth_oauth:{id:"Ldz4pJ",defaultMessage:"OAuth"},auth_apiKey:{id:"clQ3IQ",defaultMessage:"API Key"},auth_noAuth:{id:"iavNCz",defaultMessage:"No Authentication"},auth_unknown:{id:"eKSbcf",defaultMessage:"Unknown"},developer_oai:{id:"xBzT/T",defaultMessage:"First Party"},developer_trustedPartner:{id:"ozzRA2",defaultMessage:"Trusted Partner"},developer_untrusted:{id:"3xkbwX",defaultMessage:"Untrusted"},developer_unknown:{id:"myX+Nb",defaultMessage:"Unknown"}});function Vm(s,e){return s+ +(e.size>0)}function Zm(s){const[,e]=s;return e.defaultClosed}function Jm(s){const[e]=s;return e}function Xm(s){const[,e]=s;return e.options.length>0}function ep(s){return s.size===0}const tp=s=>{"use forget";const e=F.c(68),{apps:n,onClose:o}=s,a=te(),i=le();let l;e[0]!==i?(l=Xe(i),e[0]=i,e[1]=l):l=e[1];const c=l;let r;e[2]!==n?(r=n.filter(sp),e[2]=n,e[3]=r):r=e[3];const d=r.length,f=n.length-d;let u;e[4]!==n.length||e[5]!==a||e[6]!==o||e[7]!==c?(u=()=>{c.success(a.formatMessage(Dt.deleteSuccess,{count:n.length})),o(!0)},e[4]=n.length,e[5]=a,e[6]=o,e[7]=c,e[8]=u):u=e[8];let p;e[9]!==a||e[10]!==c?(p=()=>c.danger(a.formatMessage(Dt.updateFailed)),e[9]=a,e[10]=c,e[11]=p):p=e[11];let m;e[12]!==n||e[13]!==u||e[14]!==p?(m={apps:n,onSuccess:u,onError:p},e[12]=n,e[13]=u,e[14]=p,e[15]=m):m=e[15];const{mutateAsync:h,isPending:x}=Uu(m);let y;e[16]!==x||e[17]!==o?(y=()=>{x||o(!1)},e[16]=x,e[17]=o,e[18]=y):y=e[18];const g=y;if(n.length===0)return null;if(n.length===1){let z;e[19]!==o?(z=U=>o(U),e[19]=o,e[20]=z):z=e[20];let $;return e[21]!==n[0]||e[22]!==z?($=t.jsx(Pi,{app:n[0],onClose:z}),e[21]=n[0],e[22]=z,e[23]=$):$=e[23],$}let b;e[24]!==n.length||e[25]!==a||e[26]!==d?(b=a.formatMessage(d>0?Dt.deleteAppTitle:Dt.disableAppTitle,{count:n.length}),e[24]=n.length,e[25]=a,e[26]=d,e[27]=b):b=e[27];let C;e[28]!==g?(C=t.jsx("div",{className:"absolute end-4 top-4",children:t.jsx(Cn,{onClick:g})}),e[28]=g,e[29]=C):C=e[29];let j;e[30]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"flex justify-center pt-16",children:t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-xl border-[0.5px] shadow-sm",children:t.jsx($t,{className:"text-token-icon-status-warning h-8 w-8"})})}),e[30]=j):j=e[30];let _;e[31]!==n.length||e[32]!==a||e[33]!==d?(_=a.formatMessage(d>0?Dt.deleteAppTitle:Dt.disableAppTitle,{count:n.length}),e[31]=n.length,e[32]=a,e[33]=d,e[34]=_):_=e[34];let v;e[35]!==_?(v=t.jsx("div",{className:"mx-6 my-1 py-1 text-center text-2xl leading-snug font-semibold text-pretty",children:_}),e[35]=_,e[36]=v):v=e[36];let M;e[37]!==a||e[38]!==f?(M=f>0&&t.jsx("p",{className:"text-token-text-secondary text-center text-base leading-normal text-pretty",children:a.formatMessage(Dt.disableAppDescription,{count:f})}),e[37]=a,e[38]=f,e[39]=M):M=e[39];let w;e[40]!==a||e[41]!==d?(w=d>0&&t.jsx("p",{className:"text-token-text-secondary text-center text-base leading-normal text-pretty",children:a.formatMessage(Dt.deleteAppDescription,{count:d})}),e[40]=a,e[41]=d,e[42]=w):w=e[42];let S;e[43]!==M||e[44]!==w?(S=t.jsxs("div",{className:"m-4 space-y-2",children:[M,w]}),e[43]=M,e[44]=w,e[45]=S):S=e[45];let N;e[46]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(k,I({},Dt.cancel)),e[46]=N):N=e[46];let E;e[47]!==x||e[48]!==g?(E=t.jsx(Z,{color:"secondary",onClick:g,className:"px-6",size:"large",disabled:x,children:N}),e[47]=x,e[48]=g,e[49]=E):E=e[49];let A;e[50]!==h?(A=()=>h(),e[50]=h,e[51]=A):A=e[51];const D=d>0?Dt.delete:Dt.disable;let T;e[52]!==D?(T=t.jsx(k,I({},D)),e[52]=D,e[53]=T):T=e[53];let R;e[54]!==x||e[55]!==A||e[56]!==T?(R=t.jsx(Z,{color:"danger",onClick:A,loading:x,className:"px-6",size:"large",children:T}),e[54]=x,e[55]=A,e[56]=T,e[57]=R):R=e[57];let O;e[58]!==E||e[59]!==R?(O=t.jsxs("div",{className:"flex justify-end gap-3 p-4",children:[E,R]}),e[58]=E,e[59]=R,e[60]=O):O=e[60];let L;return e[61]!==g||e[62]!==v||e[63]!==S||e[64]!==O||e[65]!==b||e[66]!==C?(L=t.jsxs(Ie,{isOpen:!0,testId:"modal-disable-app",visuallyHiddenHeader:!0,title:b,onClose:g,size:"custom",className:"max-w-sm",noPadding:!0,children:[C,j,v,S,O]}),e[61]=g,e[62]=v,e[63]=S,e[64]=O,e[65]=b,e[66]=C,e[67]=L):L=e[67],L},Dt=Ee({deleteAppTitle:{id:"4C87xq",defaultMessage:"Are you sure you want to delete {count, plural, one {# app} other {# apps}}?"},disableAppTitle:{id:"/Brevh",defaultMessage:"Are you sure you want to disable {count, plural, one {# app} other {# apps}}?"},disableAppDescription:{id:"ouLexo",defaultMessage:"This will remove {count, plural, one {# app} other {# apps}} from your workspace. They can be re-enabled later if needed."},deleteAppDescription:{id:"+/n7Po",defaultMessage:"This will permanently delete {count, plural, one {# custom app} other {# custom apps}} from your workspace. This action cannot be undone."},cancel:{id:"ddm9wN",defaultMessage:"Cancel"},delete:{id:"/3qDZi",defaultMessage:"Delete"},disable:{id:"1UrWW/",defaultMessage:"Disable"},deleteSuccess:{id:"PMah4O",defaultMessage:"{count, plural, one {# app was} other {# apps were}} removed."},updateFailed:{id:"qsgYfg",defaultMessage:"Failed to update app settings."}});function sp(s){return s.primaryConnector.developer_type==="UNTRUSTED"}const np=s=>{"use forget";const e=F.c(37),{apps:n,onClose:o}=s,a=te(),i=Si(n);let l;e[0]!==i?(l=i.reduce(op,{roles:new Map,counts:new Map,loading:!1}),e[0]=i,e[1]=l):l=e[1];const{roles:c,counts:r,loading:d}=l;let f;e:{if(d){let N;e[2]===Symbol.for("react.memo_cache_sentinel")?(N={initialEnabledRoles:null,initialIndeterminateRoles:null},e[2]=N):N=e[2],f=N;break e}let M,w;e[3]!==n.length||e[4]!==r||e[5]!==c?(M=new Set,w=new Set,c.forEach((N,E)=>{var A;n.length===r.get(E)?M.add(E):((A=r.get(E))!=null?A:0)>0&&w.add(E)}),e[3]=n.length,e[4]=r,e[5]=c,e[6]=M,e[7]=w):(M=e[6],w=e[7]);let S;e[8]!==M||e[9]!==w?(S={initialEnabledRoles:M,initialIndeterminateRoles:w},e[8]=M,e[9]=w,e[10]=S):S=e[10],f=S}const{initialEnabledRoles:u,initialIndeterminateRoles:p}=f,m=le();let h;e[11]!==m?(h=Xe(m),e[11]=m,e[12]=h):h=e[12];const x=h;let y;e[13]!==i?(y=i.map(ap),e[13]=i,e[14]=y):y=e[14];let g;e[15]!==a||e[16]!==o||e[17]!==x?(g=()=>{x.success(a.formatMessage({id:"CX2DPF",defaultMessage:"Roles updated successfully for selected apps."})),o()},e[15]=a,e[16]=o,e[17]=x,e[18]=g):g=e[18];let b;e[19]!==a||e[20]!==x?(b=M=>{x.danger(a.formatMessage({id:"HOuVs9",defaultMessage:"Error updating roles: {errorMessage}"},{errorMessage:M.message}))},e[19]=a,e[20]=x,e[21]=b):b=e[21];const C=Gu(n,y,g,b);let j;e[22]!==n[0]||e[23]!==n.length||e[24]!==a?(j=a.formatMessage({id:"jH6gE6",defaultMessage:"Which roles can access {name}?"},{name:n.length>1?a.formatMessage({id:"KjIkpW",defaultMessage:"{count} selected apps"},{count:n.length}):n[0].primaryConnector.name}),e[22]=n[0],e[23]=n.length,e[24]=a,e[25]=j):j=e[25];let _;e[26]!==u||e[27]!==p||e[28]!==d||e[29]!==o||e[30]!==c||e[31]!==C?(_=d?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(He,{})}):t.jsx(Ri,{onConfirm:(M,w)=>C.mutate({enabledRoleIds:M,indeterminateRoleIds:w}),disabled:C.isPending,roles:Array.from(c.values()),onClose:o,onCancel:o,initialEnabledRoles:u!=null?u:new Set,initialIndeterminateRoles:p!=null?p:new Set,submitting:C.isPending}),e[26]=u,e[27]=p,e[28]=d,e[29]=o,e[30]=c,e[31]=C,e[32]=_):_=e[32];let v;return e[33]!==o||e[34]!==j||e[35]!==_?(v=t.jsx(Ie,{testId:"modal-apps-roles-access",title:j,isOpen:!0,onClose:o,showCloseButton:!1,size:"xlarge",isScrollable:!1,contentClassName:"flex max-h-[80vh] min-h-0 flex-col",noPadding:!0,hasSeparator:!0,children:_}),e[33]=o,e[34]=j,e[35]=_,e[36]=v):v=e[36],v};function op(s,e){var n;return e.isLoading?xe(I({},s),{loading:!0}):((n=e.data)==null||n.roles_with_permissions.forEach(o=>{s.roles.set(o.role.id,o)}),sn(e.data).forEach(o=>{var a;s.counts.set(o.role.id,((a=s.counts.get(o.role.id))!=null?a:0)+1)}),s)}function ap(s){return s.data}const ip=s=>{"use forget";const e=F.c(50),{app:n,connection:o,onClose:a}=s,i=te(),l=le();let c;e[0]!==l?(c=Xe(l),e[0]=l,e[1]=c):c=e[1];const r=c;let d;e[2]!==o.display_info.display_name||e[3]!==i||e[4]!==a||e[5]!==r?(d=()=>{r.success(i.formatMessage(es.disableSuccess,{connectionName:o.display_info.display_name})),a()},e[2]=o.display_info.display_name,e[3]=i,e[4]=a,e[5]=r,e[6]=d):d=e[6];let f;e[7]!==i||e[8]!==r?(f=A=>{r.danger(i.formatMessage(es.updateFailed,{errorMessage:A.message}))},e[7]=i,e[8]=r,e[9]=f):f=e[9];const u=zu(o,d,f);let p;e[10]!==u.isPending||e[11]!==a?(p=()=>{u.isPending||a()},e[10]=u.isPending,e[11]=a,e[12]=p):p=e[12];const m=p;let h;e[13]!==n.primaryConnector.name||e[14]!==i?(h=i.formatMessage(es.disableSyncTitle,{appName:n.primaryConnector.name}),e[13]=n.primaryConnector.name,e[14]=i,e[15]=h):h=e[15];let x;e[16]!==n.primaryConnector.name||e[17]!==o.display_info.display_name||e[18]!==i?(x=i.formatMessage(es.bodyOne,{appName:n.primaryConnector.name,connectionName:o.display_info.display_name}),e[16]=n.primaryConnector.name,e[17]=o.display_info.display_name,e[18]=i,e[19]=x):x=e[19];let y;e[20]!==x?(y=t.jsx("p",{className:"text-pretty",children:x}),e[20]=x,e[21]=y):y=e[21];let g;e[22]!==i?(g=i.formatMessage(es.bodyTwo),e[22]=i,e[23]=g):g=e[23];let b;e[24]!==g?(b=t.jsx("p",{className:"text-token-text-secondary text-pretty",children:g}),e[24]=g,e[25]=b):b=e[25];let C;e[26]!==y||e[27]!==b?(C=t.jsxs("div",{className:"space-y-2 p-4",children:[y,b]}),e[26]=y,e[27]=b,e[28]=C):C=e[28];let j;e[29]!==i?(j=i.formatMessage(es.cancelButton),e[29]=i,e[30]=j):j=e[30];let _;e[31]!==m||e[32]!==j?(_=t.jsx(Z,{color:"secondary",onClick:m,children:j}),e[31]=m,e[32]=j,e[33]=_):_=e[33];let v;e[34]!==u?(v=()=>u.mutate(),e[34]=u,e[35]=v):v=e[35];const M=u.isPending;let w;e[36]!==i?(w=i.formatMessage(es.deleteButton),e[36]=i,e[37]=w):w=e[37];let S;e[38]!==u.isPending||e[39]!==v||e[40]!==w?(S=t.jsx(Z,{color:"danger",onClick:v,loading:M,children:w}),e[38]=u.isPending,e[39]=v,e[40]=w,e[41]=S):S=e[41];let N;e[42]!==_||e[43]!==S?(N=t.jsxs("div",{className:"flex justify-end gap-2 p-4",children:[_,S]}),e[42]=_,e[43]=S,e[44]=N):N=e[44];let E;return e[45]!==m||e[46]!==C||e[47]!==N||e[48]!==h?(E=t.jsxs(Ie,{isOpen:!0,hasSeparator:!0,testId:"modal-disable-sync-app",onClose:m,title:h,showCloseButton:!0,noPadding:!0,children:[C,N]}),e[45]=m,e[46]=C,e[47]=N,e[48]=h,e[49]=E):E=e[49],E},es=Ee({disableSyncTitle:{id:"xHqh2Q",defaultMessage:"Delete sync connection for {appName}"},bodyOne:{id:"Elk+yR",defaultMessage:"Are you sure you want to delete the sync connection {connectionName}?"},bodyTwo:{id:"9OSv7K",defaultMessage:"Deleting this connection will stop syncing and will remove all associated data. This action cannot be undone."},deleteButton:{id:"EqdUXO",defaultMessage:"Delete"},cancelButton:{id:"pcroMA",defaultMessage:"Cancel"},disableSuccess:{id:"yu9v2n",defaultMessage:"Sync connection {connectionName} has been deleted."},updateFailed:{id:"vnw4fr",defaultMessage:"Failed to delete sync connection. {errorMessage}"}});function lp(s,e,n){return e in s?Object.defineProperty(s,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[e]=n,s}function ea(s,e){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);e&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),n.push.apply(n,o)}return n}function ta(s){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ea(Object(n),!0).forEach((function(o){lp(s,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(n,o))}))}return s}function sa(s,e){if(s==null)return{};var n,o,a=(function(l,c){if(l==null)return{};var r,d,f={},u=Object.keys(l);for(d=0;d<u.length;d++)r=u[d],c.indexOf(r)>=0||(f[r]=l[r]);return f})(s,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(s,n)&&(a[n]=s[n])}return a}function zs(s,e){return(function(n){if(Array.isArray(n))return n})(s)||(function(n,o){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var a=[],i=!0,l=!1,c=void 0;try{for(var r,d=n[Symbol.iterator]();!(i=(r=d.next()).done)&&(a.push(r.value),!o||a.length!==o);i=!0);}catch(f){l=!0,c=f}finally{try{i||d.return==null||d.return()}finally{if(l)throw c}}return a}})(s,e)||(function(n,o){if(n){if(typeof n=="string")return na(n,o);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return na(n,o)}})(s,e)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function na(s,e){(e==null||e>s.length)&&(e=s.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=s[n];return o}var Gs={},oa=function(s){var e=document.querySelector('script[src="'.concat(s,'"]'));if(e)return Gs[s]={loading:!1,error:null,scriptEl:e}},aa=typeof window<"u"&&window.document!==void 0,Fi="https://cdn.merge.dev/initialize.js",rp={"https://api.merge.dev":Fi,"https://api-oai-usw2.openaimerge.com":"https://cdn.openaimerge.com/initialize.js","https://api-develop.merge.dev":"https://develop-cdn.merge.dev/initialize.js"},ia=function(s){return(s==null?void 0:s.linkToken)!==void 0},cp=function(s){var e,n=s.shouldSendTokenOnSuccessfulLink,o=n===void 0||n,a=sa(s,["shouldSendTokenOnSuccessfulLink"]),i=(function(m){var h=m.src,x=m.checkForExisting,y=x!==void 0&&x,g=sa(m,["src","checkForExisting"]),b=h?Gs[h]:void 0;!b&&y&&h&&aa&&(b=oa(h));var C=zs(P.useState(b?b.loading:!!h),2),j=C[0],_=C[1],v=zs(P.useState(b?b.error:null),2),M=v[0],w=v[1],S=zs(P.useState(!1),2),N=S[0],E=S[1];return P.useEffect((function(){if(aa&&h&&!N&&!M){var A;!(b=Gs[h])&&y&&(b=oa(h)),b?A=b.scriptEl:((A=document.createElement("script")).src=h,Object.keys(g).forEach((function(R){A[R]===void 0?A.setAttribute(R,g[R]):A[R]=g[R]})),b=Gs[h]={loading:!0,error:null,scriptEl:A});var D=function(){b&&(b.loading=!1),_(!1),E(!0)},T=function(R){b&&(b.error=R),w(R)};return A.addEventListener("load",D),A.addEventListener("error",T),document.body.appendChild(A),function(){A.removeEventListener("load",D),A.removeEventListener("error",T),b&&b.loading&&(A.remove(),delete Gs[h])}}}),[h]),[j,M]})({src:(a==null||(e=a.tenantConfig)===null||e===void 0?void 0:e.apiBaseURL)!=null&&rp[a.tenantConfig.apiBaseURL]||Fi,checkForExisting:!0}),l=zs(i,2),c=l[0],r=l[1],d=zs(P.useState(!1),2),f=d[0],u=d[1],p=!(typeof window>"u")&&!!window.MergeLink&&!c&&!r&&ia(a);return P.useEffect((function(){p&&window.MergeLink&&ia(a)&&window.MergeLink.initialize(ta(ta({},a),{},{shouldSendTokenOnSuccessfulLink:o,onReady:function(){return u(!0)}}))}),[p,a]),{open:P.useCallback((function(){window.MergeLink&&window.MergeLink.openLink(a)}),[a]),isReady:f,error:r}};const dp="https://api-oai-usw2.openaimerge.com";function jo({connectionId:s,isOpen:e,onClose:n}){"use no forget";const o=te(),a=P.useCallback((y,g)=>{n(!0)},[n]),[i,l]=P.useState(),[c,r]=P.useState(!1),[d,f]=P.useState(!1),[u,p]=P.useState();P.useEffect(()=>{(async()=>{r(!0);try{const g=await Le.user_get_file_picker_token(s);l(g.token),p(g.base_url)}catch(g){f(!0)}finally{r(!1)}})()},[s]);const{open:m,isReady:h}=cp({linkToken:i,onSuccess:a,onExit:()=>n(!1),tenantConfig:{apiBaseURL:u!=null?u:dp}}),x=h&&!c&&!d;return P.useEffect(()=>{x&&m()},[x,m]),t.jsx(Ie,{testId:"modal-connection-limit-items-file-picker",isOpen:e&&!x,onClose:()=>n(!1),type:"success",size:"normal",showCloseButton:!0,title:o.formatMessage({id:"qkRTw3",defaultMessage:"Limit items"}),description:t.jsx(Ar,{children:o.formatMessage({id:"fQm2Wm",defaultMessage:"Loading"})}),children:t.jsx("div",{className:"flex w-full items-center justify-center p-12",children:d?t.jsx("div",{className:"interactive-label-warning-secondary",children:t.jsx(k,{id:"3BZzpX",defaultMessage:"Something went wrong"})}):t.jsx(He,{})})})}const Co=Object.freeze(Object.defineProperty({__proto__:null,LimitItemsFilePickerModal:jo},Symbol.toStringTag,{value:"Module"})),fp=s=>{"use forget";const e=F.c(21),{connection:n,item:o}=s,a=te(),i=le();let l;e[0]!==i?(l=Xe(i),e[0]=i,e[1]=l):l=e[1];const c=l;let r;e[2]!==a||e[3]!==c?(r=()=>{c.danger(a.formatMessage(Lt.errorToast))},e[2]=a,e[3]=c,e[4]=r):r=e[4];let d;e[5]!==n||e[6]!==r?(d={connection:n,onError:r},e[5]=n,e[6]=r,e[7]=d):d=e[7];const f=Ku(d);let u;e[8]!==o.object_handle?(u=t.jsx("p",{className:"font-mono text-sm",children:o.object_handle}),e[8]=o.object_handle,e[9]=u):u=e[9];let p;e[10]!==o.object_handle||e[11]!==f?(p=()=>{f.mutate({objectHandle:o.object_handle})},e[10]=o.object_handle,e[11]=f,e[12]=p):p=e[12];let m;e[13]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("span",{className:"sr-only",children:t.jsx(k,I({},Lt.unblockButton))}),e[13]=m):m=e[13];let h;e[14]!==p||e[15]!==f.isPending?(h=t.jsx(Z,{color:"ghost",size:"small",icon:Lr,onClick:p,loading:f.isPending,children:m}),e[14]=p,e[15]=f.isPending,e[16]=h):h=e[16];let x;return e[17]!==o.object_handle||e[18]!==u||e[19]!==h?(x=t.jsxs("li",{className:"border-token-border-light flex items-center justify-between border-b px-4 py-2 last:border-0",children:[u,h]},o.object_handle),e[17]=o.object_handle,e[18]=u,e[19]=h,e[20]=x):x=e[20],x},up=s=>{"use forget";var q,oe;const e=F.c(54),{connection:n,onClose:o}=s,a=te(),i=Jf(n),l=(oe=(q=i.data)==null?void 0:q.pages.flatMap(pp))!=null?oe:[],[c,r]=P.useState(""),d=le();let f;e[0]!==d?(f=Xe(d),e[0]=d,e[1]=f):f=e[1];const u=f;let p;e[2]!==a||e[3]!==u?(p=()=>{u.danger(a.formatMessage(Lt.errorToast))},e[2]=a,e[3]=u,e[4]=p):p=e[4];let m;e[5]!==n||e[6]!==p?(m={connection:n,onError:p},e[5]=n,e[6]=p,e[7]=m):m=e[7];const h=qu(m);let x;e[8]!==h||e[9]!==c||e[10]!==r?(x=async()=>{await h.mutateAsync({objectHandle:c}),r("")},e[8]=h,e[9]=c,e[10]=r,e[11]=x):x=e[11];const y=x;let g;e[12]!==h.isPending||e[13]!==o?(g=()=>{h.isPending||o()},e[12]=h.isPending,e[13]=o,e[14]=g):g=e[14];const b=g,C=Ie,j=!0;let _;e[15]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(k,I({},Lt.modalTitle)),e[15]=_):_=e[15];const v="modal-app-connection-type",M=!0,w="xlarge",S=!0,N=!0,E="space-y-4 p-4";let A;e[16]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("p",{className:"text-token-text-secondary text-sm text-pretty",children:t.jsx(k,I({},Lt.modalBody))}),e[16]=A):A=e[16];const D="border-token-border-heavy rounded-xl border",T="border-token-border-heavy max-h-48 overflow-y-auto border-b",R=i.isLoading?t.jsx("div",{className:"flex w-full items-center justify-center p-4",children:t.jsx(He,{})}):l.length===0?t.jsx("li",{className:"text-token-text-secondary p-4 text-sm text-pretty",children:t.jsx(k,I({},Lt.noBlockedItems))}):t.jsxs("div",{className:"py-2",children:[l.filter(gp).map(ne=>t.jsx(fp,{connection:n,item:ne},ne.object_handle)),i.isFetchingNextPage&&t.jsx("li",{className:"flex w-full items-center justify-center px-4 py-2",children:t.jsx(He,{})})]});let O;e[17]!==R?(O=t.jsx("ul",{className:T,children:R}),e[17]=R,e[18]=O):O=e[18];let L;e[19]!==y?(L=ne=>{ne.preventDefault(),y()},e[19]=y,e[20]=L):L=e[20];let z;e[21]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("p",{className:"text-sm",children:t.jsx(k,I({},Lt.blockItemLabelDescriptor))}),e[21]=z):z=e[21];let $;e[22]!==a?($=a.formatMessage(Lt.blockItemInputLabel),e[22]=a,e[23]=$):$=e[23];let U;e[24]!==a?(U=a.formatMessage(Lt.blockItemInputPlaceholder),e[24]=a,e[25]=U):U=e[25];let G;e[26]!==r?(G=ne=>r(ne.target.value),e[26]=r,e[27]=G):G=e[27];let W;e[28]!==h.isPending||e[29]!==c||e[30]!==$||e[31]!==U||e[32]!==G?(W=t.jsx(Hs,{ariaLabel:$,placeholder:U,name:"block-item-input",value:c,onChange:G,disabled:h.isPending,className:"flex-1 rounded-s-lg! rounded-e-none!"}),e[28]=h.isPending,e[29]=c,e[30]=$,e[31]=U,e[32]=G,e[33]=W):W=e[33];let Y;e[34]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(k,I({},Lt.blockButton)),e[34]=Y):Y=e[34];let V;e[35]!==h.isPending?(V=t.jsx(Z,{type:"submit",color:"primary",className:"rounded-s-none! rounded-e-lg! border-none px-4",loading:h.isPending,children:Y}),e[35]=h.isPending,e[36]=V):V=e[36];let J;e[37]!==W||e[38]!==V?(J=t.jsxs("label",{className:"block space-y-2",children:[z,t.jsxs("div",{className:"flex",children:[W,V]})]}),e[37]=W,e[38]=V,e[39]=J):J=e[39];let Q;e[40]!==L||e[41]!==J?(Q=t.jsx("form",{className:"p-4",onSubmit:L,children:J}),e[40]=L,e[41]=J,e[42]=Q):Q=e[42];let X;e[43]!==O||e[44]!==Q?(X=t.jsxs("div",{className:D,children:[O,Q]}),e[43]=O,e[44]=Q,e[45]=X):X=e[45];let B;e[46]!==A||e[47]!==X?(B=t.jsxs("div",{className:E,children:[A,X]}),e[46]=A,e[47]=X,e[48]=B):B=e[48];let K;return e[49]!==C||e[50]!==b||e[51]!==B||e[52]!==_?(K=t.jsx(C,{isOpen:j,onClose:b,title:_,testId:v,showCloseButton:M,size:w,hasSeparator:S,noPadding:N,children:B}),e[49]=C,e[50]=b,e[51]=B,e[52]=_,e[53]=K):K=e[53],K},mp=s=>{"use forget";const e=F.c(6),{connection:n,onClose:o}=s;if(n.connection_config.knowledge_connector_type==="sharepoint_admin"){let i;return e[0]!==n.connection_config.connection_config_id||e[1]!==o?(i=t.jsx(jo,{connectionId:n.connection_config.connection_config_id,onClose:o,isOpen:!0}),e[0]=n.connection_config.connection_config_id,e[1]=o,e[2]=i):i=e[2],i}let a;return e[3]!==n||e[4]!==o?(a=t.jsx(up,{connection:n,onClose:o}),e[3]=n,e[4]=o,e[5]=a):a=e[5],a},Lt=Ee({modalTitle:{id:"Bs30e0",defaultMessage:"Limit content access"},saveButton:{id:"UuBTle",defaultMessage:"Save"},cancelButton:{id:"xZZJyp",defaultMessage:"Cancel"},modalBody:{id:"P3fd6e",defaultMessage:"Found something that shouldn't be synced? You can block items here to prevent them from being synced or shown in search results."},blockedItemsLabel:{id:"HZLf6J",defaultMessage:"Blocked items"},blockItemInputLabel:{id:"5zGLEk",defaultMessage:"Block item"},blockItemInputPlaceholder:{id:"DZMxi2",defaultMessage:"ID or URL"},blockItemLabelDescriptor:{id:"9Dd6nQ",defaultMessage:"Enter the ID or URL of the item you want to block."},blockButton:{id:"EtILYC",defaultMessage:"Block"},errorToast:{id:"kQXbt+",defaultMessage:"An error occurred. Please try again."},noBlockedItems:{id:"oXpczd",defaultMessage:"No blocked items"},unblockButton:{id:"LjST0f",defaultMessage:"Unblock {itemHandle}"}});function pp(s){return s.object_selections}function gp(s){return s.selection==="exclude"}const hp=s=>{"use forget";var p;const e=F.c(17),{connection:n,onClose:o}=s,a=le();let i,l,c,r,d;if(e[0]!==n.connection_config.knowledge_connector_type||e[1]!==a||e[2]!==o){d=Symbol.for("react.early_return_sentinel");e:{const m=Te(a);if(n.connection_config.knowledge_connector_type!=="slack"){d=null;break e}i=go,l=!0,e[8]!==o?(c=()=>o(),e[8]=o,e[9]=c):c=e[9],r=(p=m==null?void 0:m.getWorkspaceId())!=null?p:""}e[0]=n.connection_config.knowledge_connector_type,e[1]=a,e[2]=o,e[3]=i,e[4]=l,e[5]=c,e[6]=r,e[7]=d}else i=e[3],l=e[4],c=e[5],r=e[6],d=e[7];if(d!==Symbol.for("react.early_return_sentinel"))return d;const f=n.connection_status!=="draft";let u;return e[10]!==i||e[11]!==n.connection_config.connection_config_id||e[12]!==l||e[13]!==c||e[14]!==r||e[15]!==f?(u=t.jsx(i,{isOpen:l,onClose:c,accountId:r,connectionId:n.connection_config.connection_config_id,isPostActivation:f}),e[10]=i,e[11]=n.connection_config.connection_config_id,e[12]=l,e[13]=c,e[14]=r,e[15]=f,e[16]=u):u=e[16],u},Bi=s=>{"use forget";const e=F.c(51),{connection:n,onClose:o}=s,a=le();let i;e[0]!==a?(i=Xe(a),e[0]=a,e[1]=i):i=e[1];const l=i,c=te(),[r,d]=P.useState(n.display_info.display_name);let f;e[2]!==c||e[3]!==r||e[4]!==o||e[5]!==l?(f=()=>{l.success(c.formatMessage(Yt.renameSuccess,{connectionName:r})),o()},e[2]=c,e[3]=r,e[4]=o,e[5]=l,e[6]=f):f=e[6];let u;e[7]!==c||e[8]!==l?(u=R=>{l.danger(c.formatMessage(Yt.renameFailed,{errorMessage:R.message}))},e[7]=c,e[8]=l,e[9]=u):u=e[9];const p=Wu(n,f,u);let m;e[10]!==o||e[11]!==p.isPending?(m=()=>{p.isPending||o()},e[10]=o,e[11]=p.isPending,e[12]=m):m=e[12];const h=m;let x;e[13]!==c?(x=c.formatMessage(Yt.renameSyncTitle),e[13]=c,e[14]=x):x=e[14];let y;e[15]!==r||e[16]!==p?(y=R=>{R.preventDefault(),p.mutate(r)},e[15]=r,e[16]=p,e[17]=y):y=e[17];let g;e[18]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("p",{className:"text-token-text-secondary mb-2 text-sm font-medium text-pretty",children:t.jsx(k,I({},Yt.renameLabel))}),e[18]=g):g=e[18];let b;e[19]===Symbol.for("react.memo_cache_sentinel")?(b=R=>d(R.target.value),e[19]=b):b=e[19];let C;e[20]!==c?(C=c.formatMessage(Yt.renamePlaceholder),e[20]=c,e[21]=C):C=e[21];let j;e[22]!==c?(j=c.formatMessage(Yt.renamePlaceholder),e[22]=c,e[23]=j):j=e[23];let _;e[24]!==r||e[25]!==p.isPending||e[26]!==j||e[27]!==C?(_=t.jsxs("label",{className:"block w-full space-y-0.5 p-4",children:[g,t.jsx(Hs,{value:r,onChange:b,placeholder:C,name:"sync-connection-rename-input",autoFocus:!0,ariaLabel:j,disabled:p.isPending})]}),e[24]=r,e[25]=p.isPending,e[26]=j,e[27]=C,e[28]=_):_=e[28];const v=p.isPending;let M;e[29]!==c?(M=c.formatMessage(Yt.cancelButton),e[29]=c,e[30]=M):M=e[30];let w;e[31]!==h||e[32]!==p.isPending||e[33]!==M?(w=t.jsx(Z,{color:"secondary",type:"button",onClick:h,disabled:v,children:M}),e[31]=h,e[32]=p.isPending,e[33]=M,e[34]=w):w=e[34];const S=p.isPending;let N;e[35]!==c?(N=c.formatMessage(Yt.renameButton),e[35]=c,e[36]=N):N=e[36];let E;e[37]!==p.isPending||e[38]!==N?(E=t.jsx(Z,{color:"primary",type:"submit",loading:S,children:N}),e[37]=p.isPending,e[38]=N,e[39]=E):E=e[39];let A;e[40]!==w||e[41]!==E?(A=t.jsxs("div",{className:"border-token-border-light mt-4 flex justify-end gap-2 border-t p-4",children:[w,E]}),e[40]=w,e[41]=E,e[42]=A):A=e[42];let D;e[43]!==_||e[44]!==A||e[45]!==y?(D=t.jsxs("form",{onSubmit:y,children:[_,A]}),e[43]=_,e[44]=A,e[45]=y,e[46]=D):D=e[46];let T;return e[47]!==h||e[48]!==D||e[49]!==x?(T=t.jsx(Ie,{isOpen:!0,hasSeparator:!0,testId:"modal-rename-sync-connection",onClose:h,title:x,showCloseButton:!0,noPadding:!0,children:D}),e[47]=h,e[48]=D,e[49]=x,e[50]=T):T=e[50],T},Yt=Ee({renameSyncTitle:{id:"i8aNDj",defaultMessage:"Rename connection"},renameLabel:{id:"S4guA3",defaultMessage:"Connection name"},renamePlaceholder:{id:"raNR3I",defaultMessage:"Enter new connection name"},cancelButton:{id:"ebqN0b",defaultMessage:"Cancel"},renameButton:{id:"1Ekn6Z",defaultMessage:"Rename"},renameSuccess:{id:"/+y7WA",defaultMessage:"Successfully renamed connection to {connectionName}."},renameFailed:{id:"z6neop",defaultMessage:"Failed to rename connection: {errorMessage}"}}),xp=s=>{"use forget";var d;const e=F.c(10),{connection:n,onClose:o}=s,a=le();let i,l,c;if(e[0]!==n||e[1]!==a){const f=Te(a);i=Hr,l=n,c=(d=f==null?void 0:f.getWorkspaceId())!=null?d:"",e[0]=n,e[1]=a,e[2]=i,e[3]=l,e[4]=c}else i=e[2],l=e[3],c=e[4];let r;return e[5]!==i||e[6]!==o||e[7]!==l||e[8]!==c?(r=t.jsx(i,{connection:l,accountId:c,onClose:o}),e[5]=i,e[6]=o,e[7]=l,e[8]=c,e[9]=r):r=e[9],r},yp=s=>{"use forget";const e=F.c(20),{connection:n}=s,o=te(),a=le();let i;e[0]!==a?(i=Xe(a),e[0]=a,e[1]=i):i=e[1];const l=i,[c,r]=P.useState(!1);let d;e[2]!==a?(d=It(a),e[2]=a,e[3]=d):d=e[3];const f=d;let u,p;e[4]!==o||e[5]!==l?(u=()=>{l.success(o.formatMessage(Un.connectionActivatedToast))},p=()=>{l.danger(o.formatMessage(Un.connectionActivationErrorToast))},e[4]=o,e[5]=l,e[6]=u,e[7]=p):(u=e[6],p=e[7]);const m=Hu(n,u,p);let h;e[8]!==m||e[9]!==n||e[10]!==c?(h=c&&t.jsx(jo,{connectionId:n.connection_config.connection_config_id,onClose:C=>{r(!1),C&&m.mutate()},isOpen:!0}),e[8]=m,e[9]=n,e[10]=c,e[11]=h):h=e[11];let x,y;e[12]===Symbol.for("react.memo_cache_sentinel")?(x=()=>r(!0),y=t.jsx(k,I({},Un.finishSetupButton)),e[12]=x,e[13]=y):(x=e[12],y=e[13]);let g;e[14]!==m.isPending||e[15]!==f?(g=t.jsx(Z,{color:"primary",loading:m.isPending,disabled:f,onClick:x,children:y}),e[14]=m.isPending,e[15]=f,e[16]=g):g=e[16];let b;return e[17]!==h||e[18]!==g?(b=t.jsxs(t.Fragment,{children:[h,g]}),e[17]=h,e[18]=g,e[19]=b):b=e[19],b},Un=Ee({finishSetupButton:{id:"fuOMsI",defaultMessage:"Finish setup"},connectionActivatedToast:{id:"y5DD0Z",defaultMessage:"Connection successfully activated."},connectionActivationErrorToast:{id:"aqpeYE",defaultMessage:"Something went wrong. Please try again."}}),bp=s=>{"use forget";const e=F.c(7),{onClose:n}=s,o=le(),a=It(o),i=tn(),l=Sn(i,!0),[c,r]=P.useState(!0);if(a||l.isLoading&&!l.modals)return null;let d;e[0]!==l||e[1]!==c||e[2]!==n?(d=l.sharepointConnector&&c&&t.jsx(ei,{connector:l.sharepointConnector,onClose:n,onContinue:()=>{r(!1),l.open()}}),e[0]=l,e[1]=c,e[2]=n,e[3]=d):d=e[3];let f;return e[4]!==l.modals||e[5]!==d?(f=t.jsxs(t.Fragment,{children:[d,l.modals]}),e[4]=l.modals,e[5]=d,e[6]=f):f=e[6],f},jp=["google_drive_dwd","google_drive_oauth","slack"],Cp=s=>{"use forget";const e=F.c(27),{connection:n}=s,[o,a]=P.useState(!1);let i;e[0]!==n||e[1]!==o?(i=o&&t.jsx(Bi,{connection:n,onClose:()=>a(!1)}),e[0]=n,e[1]=o,e[2]=i):i=e[2];let l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("div",{className:"shrink-0 p-4",children:t.jsx(vl,{className:"text-token-border-heavy h-6 w-6"})}),e[3]=l):l=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=()=>a(!0),e[4]=c):c=e[4];let r;e[5]!==n.display_info.display_name?(r=t.jsx("p",{className:"text-base font-medium",children:n.display_info.display_name}),e[5]=n.display_info.display_name,e[6]=r):r=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(ja,{className:"text-token-text-secondary h-4 w-4 opacity-0 transition-opacity group-hover:opacity-100"}),e[7]=d):d=e[7];let f;e[8]!==r?(f=t.jsxs("button",{className:"group flex items-center gap-1",onClick:c,children:[r,d]}),e[8]=r,e[9]=f):f=e[9];const u=n.connection_status==="draft"?lt.draftSyncState:lt.configuredSyncState;let p;e[10]!==u?(p=t.jsx("p",{className:"text-token-text-secondary text-sm",children:t.jsx(k,I({},u))}),e[10]=u,e[11]=p):p=e[11];let m;e[12]!==n.connection_config.knowledge_connector_type||e[13]!==n.connection_config.team_domain||e[14]!==n.connection_config.team_id?(m=n.connection_config.knowledge_connector_type==="slack"&&t.jsx("p",{className:"text-token-text-secondary mt-0.5 text-xs",children:t.jsx(k,xe(I({},lt.slackNotes),{values:{domain:n.connection_config.team_domain,teamId:n.connection_config.team_id}}))}),e[12]=n.connection_config.knowledge_connector_type,e[13]=n.connection_config.team_domain,e[14]=n.connection_config.team_id,e[15]=m):m=e[15];let h;e[16]!==n.connection_config.domain_name||e[17]!==n.connection_config.knowledge_connector_type?(h=n.connection_config.knowledge_connector_type==="google_drive_oauth"&&t.jsx("p",{className:"text-token-text-secondary mt-0.5 text-xs",children:t.jsx(k,xe(I({},lt.gdriveNotes),{values:{domain:n.connection_config.domain_name}}))}),e[16]=n.connection_config.domain_name,e[17]=n.connection_config.knowledge_connector_type,e[18]=h):h=e[18];let x;e[19]!==h||e[20]!==f||e[21]!==p||e[22]!==m?(x=t.jsxs("div",{className:"flex h-full items-center",children:[l,t.jsxs("div",{className:"border-token-border-light flex-1 border-b py-2 ps-1",children:[f,p,m,h]})]}),e[19]=h,e[20]=f,e[21]=p,e[22]=m,e[23]=x):x=e[23];let y;return e[24]!==i||e[25]!==x?(y=t.jsxs(t.Fragment,{children:[i,x]}),e[24]=i,e[25]=x,e[26]=y):y=e[26],y},_p=s=>{"use forget";var l;const e=F.c(2),{connection:n}=s,a=["google_drive_dwd","sharepoint_admin"].includes((l=n.connection_config.knowledge_connector_type)!=null?l:"")?lt.adminManagedSyncType:lt.selfServiceSyncType;let i;return e[0]!==a?(i=t.jsx("div",{className:"border-token-border-light flex h-full items-center border-b py-2",children:t.jsx("p",{className:"text-token-text-secondary pe-2 text-sm whitespace-nowrap",children:t.jsx(k,I({},a))})}),e[0]=a,e[1]=i):i=e[1],i},vp=s=>{"use forget";var Me,Re,me,je;const e=F.c(87),{app:n,connection:o}=s,a=le(),i=Te(a),l=tn();let c;e[0]!==o.connection_config.knowledge_connector_type||e[1]!==o.connection_status?(c=jp.includes((Me=o.connection_config.knowledge_connector_type)!=null?Me:"")||o.connection_config.knowledge_connector_type==="sharepoint_admin"&&o.connection_status!=="draft",e[0]=o.connection_config.knowledge_connector_type,e[1]=o.connection_status,e[2]=c):c=e[2];const r=c;let d;e[3]!==n.knowledgeConfig||e[4]!==o.connection_config.knowledge_connector_type?(d=n.knowledgeConfig.some(wp)&&o.connection_config.knowledge_connector_type==="sharepoint",e[3]=n.knowledgeConfig,e[4]=o.connection_config.knowledge_connector_type,e[5]=d):d=e[5];const f=d,[u,p]=P.useState(!1),[m,h]=P.useState(!1),[x,y]=P.useState(!1),[g,b]=P.useState(!1),[C,j]=P.useState(!1),[_,v]=P.useState(!1),[M,w]=P.useState(!1),[S,N]=P.useState(!1),[E,A]=P.useState(!1);let D;e[6]!==n||e[7]!==o||e[8]!==p||e[9]!==u?(D=u&&t.jsx(ip,{app:n,connection:o,onClose:()=>p(!1)}),e[6]=n,e[7]=o,e[8]=p,e[9]=u,e[10]=D):D=e[10];let T;e[11]!==o||e[12]!==h||e[13]!==m?(T=m&&t.jsx(Bi,{connection:o,onClose:()=>h(!1)}),e[11]=o,e[12]=h,e[13]=m,e[14]=T):T=e[14];let R;e[15]!==o||e[16]!==y||e[17]!==x?(R=x&&t.jsx(mp,{connection:o,onClose:()=>y(!1)}),e[15]=o,e[16]=y,e[17]=x,e[18]=R):R=e[18];let O;e[19]!==o||e[20]!==b||e[21]!==g?(O=g&&t.jsx(hp,{connection:o,onClose:()=>b(!1)}),e[19]=o,e[20]=b,e[21]=g,e[22]=O):O=e[22];let L;e[23]!==j||e[24]!==C?(L=C&&t.jsx(bp,{onClose:()=>j(!1)}),e[23]=j,e[24]=C,e[25]=L):L=e[25];const z=_&&t.jsx(Ga,{onClose:()=>v(!1),onNext:async()=>{await l(),v(!1)},accountId:(Re=i==null?void 0:i.getWorkspaceId())!=null?Re:"",connectionId:o.connection_config.connection_config_id}),$=M&&t.jsx(Ua,{isOpen:!0,isPostActivation:o.connection_status!=="draft",onClose:()=>w(!1),accountId:(me=i==null?void 0:i.getWorkspaceId())!=null?me:"",connectionId:o.connection_config.connection_config_id}),U=S&&t.jsx(Wa,{isOpen:!0,onClose:()=>N(!1),accountId:(je=i==null?void 0:i.getWorkspaceId())!=null?je:"",connectionId:o.connection_config.connection_config_id});let G;e[26]!==o||e[27]!==A||e[28]!==E?(G=E&&t.jsx(xp,{connection:o,onClose:()=>A(!1)}),e[26]=o,e[27]=A,e[28]=E,e[29]=G):G=e[29];let W;e[30]!==f||e[31]!==j?(W=f&&t.jsx(Z,{color:"secondary",onClick:()=>j(!0),icon:sc,children:t.jsx(k,I({},lt.sharepointUpsellButton))}),e[30]=f,e[31]=j,e[32]=W):W=e[32];let Y;e[33]!==o.connection_config.knowledge_connector_type||e[34]!==o.connection_status||e[35]!==A?(Y=o.connection_config.knowledge_connector_type==="google_drive_dwd"&&o.connection_status==="draft"&&t.jsx(Z,{color:"primary",onClick:()=>A(!0),children:t.jsx(k,I({},lt.finishSetupButton))}),e[33]=o.connection_config.knowledge_connector_type,e[34]=o.connection_status,e[35]=A,e[36]=Y):Y=e[36];let V;e[37]!==o?(V=o.connection_config.knowledge_connector_type==="sharepoint_admin"&&o.connection_status==="draft"&&t.jsx(yp,{connection:o}),e[37]=o,e[38]=V):V=e[38];let J;e[39]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(ie.Trigger,{color:"ghost",className:"px-2",children:t.jsx(Zt,{})}),e[39]=J):J=e[39];let Q;e[40]!==r||e[41]!==y?(Q=r&&t.jsx(ie.Item,{icon:t.jsx(jl,{}),onClick:()=>y(!0),children:t.jsx(k,I({},lt.limitContentSyncMenuItem))}),e[40]=r,e[41]=y,e[42]=Q):Q=e[42];let X;e[43]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(ja,{}),e[43]=X):X=e[43];let B;e[44]!==h?(B=()=>h(!0),e[44]=h,e[45]=B):B=e[45];let K;e[46]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx(k,I({},lt.renameConnectionSyncMenuItem)),e[46]=K):K=e[46];let q;e[47]!==B?(q=t.jsx(ie.Item,{icon:X,onClick:B,children:K}),e[47]=B,e[48]=q):q=e[48];let oe;e[49]!==o.connection_config.knowledge_connector_type||e[50]!==b?(oe=o.connection_config.knowledge_connector_type==="slack"&&t.jsx(ie.Item,{icon:t.jsx(qn,{}),onClick:()=>b(!0),children:t.jsx(k,I({},lt.syncPolicyMenuItem))}),e[49]=o.connection_config.knowledge_connector_type,e[50]=b,e[51]=oe):oe=e[51];let ne;e[52]!==o.connection_config.knowledge_connector_type||e[53]!==v||e[54]!==N||e[55]!==w?(ne=o.connection_config.knowledge_connector_type==="google_drive_dwd"&&t.jsxs(t.Fragment,{children:[t.jsx(ie.Item,{icon:t.jsx(Cl,{}),onClick:()=>v(!0),children:t.jsx(k,I({},lt.configureCredentialsMenuItem))}),t.jsx(ie.Item,{icon:t.jsx(Fr,{}),onClick:()=>w(!0),children:t.jsx(k,I({},lt.userDrivesMenuItem))}),t.jsx(ie.Item,{icon:t.jsx(_l,{}),onClick:()=>N(!0),children:t.jsx(k,I({},lt.sharedDrivesMenuItem))})]}),e[52]=o.connection_config.knowledge_connector_type,e[53]=v,e[54]=N,e[55]=w,e[56]=ne):ne=e[56];let H;e[57]!==Q||e[58]!==q||e[59]!==oe||e[60]!==ne?(H=t.jsxs(ie.Group,{children:[Q,q,oe,ne]}),e[57]=Q,e[58]=q,e[59]=oe,e[60]=ne,e[61]=H):H=e[61];let de;e[62]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(fo,{}),e[62]=de):de=e[62];let fe;e[63]!==p?(fe=()=>p(!0),e[63]=p,e[64]=fe):fe=e[64];let ue;e[65]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(k,I({},lt.deleteMenuItem)),e[65]=ue):ue=e[65];let pe;e[66]!==fe?(pe=t.jsx(ie.Group,{children:t.jsx(ie.Item,{color:"danger",icon:de,onClick:fe,children:ue})}),e[66]=fe,e[67]=pe):pe=e[67];let ye;e[68]!==H||e[69]!==pe?(ye=t.jsxs(ie.Root,{children:[J,t.jsx(ie.Portal,{children:t.jsxs(ie.Content,{align:"end",children:[H,pe]})})]}),e[68]=H,e[69]=pe,e[70]=ye):ye=e[70];let he;e[71]!==W||e[72]!==Y||e[73]!==V||e[74]!==ye?(he=t.jsxs("div",{className:"border-token-border-light relative flex h-full items-center justify-end gap-2 border-b",children:[W,Y,V,ye]}),e[71]=W,e[72]=Y,e[73]=V,e[74]=ye,e[75]=he):he=e[75];let ve;return e[76]!==U||e[77]!==G||e[78]!==he||e[79]!==D||e[80]!==T||e[81]!==R||e[82]!==O||e[83]!==L||e[84]!==z||e[85]!==$?(ve=t.jsxs(t.Fragment,{children:[D,T,R,O,L,z,$,U,G,he]}),e[76]=U,e[77]=G,e[78]=he,e[79]=D,e[80]=T,e[81]=R,e[82]=O,e[83]=L,e[84]=z,e[85]=$,e[86]=ve):ve=e[86],ve},kp=s=>{"use forget";const e=F.c(12),{app:n,hidden:o}=s;let a;e[0]!==n?(a=Zf(n).flatMap(Mp),e[0]=n,e[1]=a):a=e[1];const i=a;if(i.length===0)return null;let l;if(e[2]!==n||e[3]!==i||e[4]!==o){let r;e[6]!==n||e[7]!==i.length||e[8]!==o?(r=(d,f)=>t.jsxs("tr",{className:"group/trailing h-0",hidden:o,children:[t.jsx("td",{colSpan:2,className:se("h-[inherit] lg:ps-8",f===i.length-1&&"pb-2"),children:t.jsx(Cp,{connection:d},d.connection_config.connection_config_id)}),t.jsx("td",{className:se("h-[inherit]",f===i.length-1&&"pb-2"),children:t.jsx(_p,{connection:d})}),t.jsx("td",{colSpan:999,className:se("h-[inherit]",f===i.length-1&&"pb-2"),children:t.jsx(vp,{app:n,connection:d})})]},d.connection_config.connection_config_id),e[6]=n,e[7]=i.length,e[8]=o,e[9]=r):r=e[9],l=i.map(r),e[2]=n,e[3]=i,e[4]=o,e[5]=l}else l=e[5];let c;return e[10]!==l?(c=t.jsx(t.Fragment,{children:l}),e[10]=l,e[11]=c):c=e[11],c},lt=Ee({configuredSyncState:{id:"Fc0BUU",defaultMessage:"Sync configured"},draftSyncState:{id:"XdUjdG",defaultMessage:"Draft"},selfServiceSyncType:{id:"zR7URn",defaultMessage:"Self-service"},adminManagedSyncType:{id:"2IlZVv",defaultMessage:"Admin-managed"},renameConnectionSyncMenuItem:{id:"6SiGRk",defaultMessage:"Rename"},limitContentSyncMenuItem:{id:"7I7mHz",defaultMessage:"Limit content"},deleteMenuItem:{id:"+OY13q",defaultMessage:"Delete"},slackNotes:{id:"C4Qu1A",defaultMessage:"Domain: {domain} • Team ID: {teamId}"},gdriveNotes:{id:"SojC8+",defaultMessage:"Domain: {domain}"},syncPolicyMenuItem:{id:"EytwCR",defaultMessage:"Sync policy"},sharepointUpsellButton:{id:"55ih2d",defaultMessage:"Deploy to team"},configureCredentialsMenuItem:{id:"o2ULAX",defaultMessage:"Configure credentials"},userDrivesMenuItem:{id:"7tsdnY",defaultMessage:"User Drives"},sharedDrivesMenuItem:{id:"58iaZQ",defaultMessage:"Shared Drives"},finishSetupButton:{id:"1r5b2u",defaultMessage:"Finish setup"}});function wp(s){return s.key==="sharepoint_admin"}function Mp(s){return s.connections}const $i=P.createContext(null),Sp=()=>{"use forget";const s=F.c(29),e=le();let n;s[0]!==e?(n=jt(e),s[0]=e,s[1]=n):n=s[1];const o=n,a=P.useContext($i),{clearSelection:i}=P.useContext(En),[l,c]=P.useState(!1),[r,d]=P.useState(!1),f=a==null?void 0:a.selectedApps.some(Tp);if(!a||a.selectedApps.length===0){let M;return s[2]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("div",{}),s[2]=M):M=s[2],M}let u;s[3]!==a.selectedApps||s[4]!==l?(u=l&&t.jsx(np,{apps:a.selectedApps,onClose:()=>c(!1)}),s[3]=a.selectedApps,s[4]=l,s[5]=u):u=s[5];let p;s[6]!==i||s[7]!==a.selectedApps||s[8]!==r?(p=r&&t.jsx(tp,{apps:a.selectedApps,onClose:M=>{d(!1),M&&(i==null||i())}}),s[6]=i,s[7]=a.selectedApps,s[8]=r,s[9]=p):p=s[9];let m;s[10]!==a.selectedApps.length?(m=t.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:t.jsx(k,{id:"/xphqj",defaultMessage:"{count} selected",values:{count:a.selectedApps.length}})}),s[10]=a.selectedApps.length,s[11]=m):m=s[11];let h;s[12]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(ie.Trigger,{className:"hover:bg-token-bg-secondary bg-inherit px-2",children:t.jsx(Zt,{className:"h-5 w-5"})}),s[12]=h):h=s[12];let x;s[13]!==o?(x=o&&t.jsx(ie.Group,{children:t.jsx(ie.Item,{icon:t.jsx(Hn,{}),onClick:()=>c(!0),children:t.jsx(k,I({},Pt.rbacActionText))})}),s[13]=o,s[14]=x):x=s[14];let y,g;s[15]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(fo,{}),g=()=>{d(!0)},s[15]=y,s[16]=g):(y=s[15],g=s[16]);const b=f?Pt.deleteActionText:Pt.disableActionText;let C;s[17]!==b?(C=t.jsx(ie.Group,{children:t.jsx(ie.Item,{color:"danger",icon:y,onClick:g,children:t.jsx(k,I({},b))})}),s[17]=b,s[18]=C):C=s[18];let j;s[19]!==x||s[20]!==C?(j=t.jsxs(ie.Root,{children:[h,t.jsx(ie.Portal,{children:t.jsxs(ie.Content,{align:"end",children:[x,C]})})]}),s[19]=x,s[20]=C,s[21]=j):j=s[21];let _;s[22]!==j||s[23]!==m?(_=t.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m,j]}),s[22]=j,s[23]=m,s[24]=_):_=s[24];let v;return s[25]!==u||s[26]!==_||s[27]!==p?(v=t.jsxs(t.Fragment,{children:[u,p,_]}),s[25]=u,s[26]=_,s[27]=p,s[28]=v):v=s[28],v},Np=s=>{"use forget";var K,q,oe,ne;const e=F.c(54),{apps:n,visibleApps:o,isLoading:a,focusedAppId:i,clearFocus:l}=s,c=te(),r=le();let d,f,u,p;if(e[0]!==r){const H=Te(r);d=(K=H==null?void 0:H.isEnterprisey())!=null?K:!1,f=jt(r),p=Oa,u=(q=H==null?void 0:H.getWorkspaceId())!=null?q:"",e[0]=r,e[1]=d,e[2]=f,e[3]=u,e[4]=p}else d=e[1],f=e[2],u=e[3],p=e[4];let m;e[5]!==f||e[6]!==u?(m={workspaceId:u,enabled:f},e[5]=f,e[6]=u,e[7]=m):m=e[7];const h=p(m),x=!h.isLoading&&((ne=(oe=h.data)==null?void 0:oe.data.length)!=null?ne:0)>1,y=Si(n);let g;e[8]!==n||e[9]!==y?(g=new Map,n.forEach((H,de)=>{const fe=y[de].data;g.set(H.primaryConnector.id,fe!=null?fe:null)}),e[8]=n,e[9]=y,e[10]=g):g=e[10];const b=g;let C;e[11]===Symbol.for("react.memo_cache_sentinel")?(C=Ea(new Date),e[11]=C):C=e[11];const _=ki(C);let v;e[12]!==c?(v=c.formatMessage(Pt.appColumnHeader),e[12]=c,e[13]=v):v=e[13];let M;e[14]!==v?(M={field:"name",header:v,value:Ap,sortable:!0,defaultSortDirection:"asc",resizable:!0},e[14]=v,e[15]=M):M=e[15];const w=!f||!x;let S;e[16]!==c?(S=c.formatMessage(Pt.accessColumnHeader),e[16]=c,e[17]=S):S=e[17];let N;e[18]!==c||e[19]!==b?(N=H=>sn(b.get(H.primaryConnector.id)).map(de=>de.role.predefined_role?c.formatMessage(Pt.defaultRoleName):de.role.name).join(", "),e[18]=c,e[19]=b,e[20]=N):N=e[20];const E=N;let A;e[21]!==E||e[22]!==w||e[23]!==S?(A={field:"access",hidden:w,header:S,value:E,sortable:!0,resizable:!0},e[21]=E,e[22]=w,e[23]=S,e[24]=A):A=e[24];const D=!d;let T;e[25]!==c?(T=c.formatMessage(Pt.metricsColumnHeaderTooltip),e[25]=c,e[26]=T):T=e[26];let R;e[27]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(k,I({},Pt.metricsColumnHeader)),e[27]=R):R=e[27];let O;e[28]!==T?(O=t.jsx(Ts,{label:T,children:R}),e[28]=T,e[29]=O):O=e[29];let L;e[30]!==_.data?(L=H=>[H.primaryConnector,...H.relatedConnectors].reduce((de,fe)=>{var ue,pe,ye,he;return de+((pe=(ue=_.data)==null?void 0:ue.get(fe.id))!=null?pe:0)+Number(fe.connector_type==="MCP"&&((he=(ye=_.data)==null?void 0:ye.get("mcp_".concat(fe.id)))!=null?he:0))},0)+H.knowledgeConfig.reduce((de,fe)=>{var ue,pe;return de+((pe=(ue=_.data)==null?void 0:ue.get(fe.key))!=null?pe:0)},0),e[30]=_.data,e[31]=L):L=e[31];const z=L;let $;e[32]!==D||e[33]!==O||e[34]!==z?($={field:"metrics",hidden:D,header:O,value:z,sortable:!0,resizable:!0},e[32]=D,e[33]=O,e[34]=z,e[35]=$):$=e[35];let U;e[36]===Symbol.for("react.memo_cache_sentinel")?(U={field:"actions",header:t.jsx(Sp,{})},e[36]=U):U=e[36];let G;e[37]!==A||e[38]!==$||e[39]!==M?(G=[M,A,$,U],e[37]=A,e[38]=$,e[39]=M,e[40]=G):G=e[40];const W=G;let Y;e[41]===Symbol.for("react.memo_cache_sentinel")?(Y=[],e[41]=Y):Y=e[41];const[V,J]=P.useState(Y);let Q,X;if(e[42]!==l||e[43]!==i?(Q=()=>{if(i){const H=document.getElementById("app-".concat(i));H&&H.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{l()},1e3)}},X=[i,l],e[42]=l,e[43]=i,e[44]=Q,e[45]=X):(Q=e[44],X=e[45]),Kn(Q,X),a){let H;return e[46]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("div",{className:"flex justify-center py-16",children:t.jsx(He,{})}),e[46]=H):H=e[46],H}if(n.length===0){let H;return e[47]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("p",{className:"text-token-text-tertiary mt-4 w-full p-4 text-center text-sm",children:t.jsx(k,I({},Pt.noAppsMessage))}),e[47]=H):H=e[47],H}let B;return e[48]!==n||e[49]!==W||e[50]!==i||e[51]!==V||e[52]!==o?(B=t.jsx("div",{className:"pb-8",children:n.length>0?t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 -z-10",children:t.jsx("div",{className:"bg-token-bg-elevated-secondary dark:bg-token-bg-elevated-primary h-9 w-full"})}),t.jsx("div",{className:"mx-auto w-full max-w-5xl space-y-12 overflow-x-auto px-4 md:px-6 lg:px-10",children:t.jsx($i.Provider,{value:{selectedApps:V},children:t.jsx(Ft.Root,{columns:W,rows:n,rowKey:Dp,onSelection:J,visibleKeys:o,emptyMessage:t.jsx(k,I({},Pt.noMatchingResults)),className:"overflow-y-clip",children:H=>H.map(de=>t.jsxs(P.Fragment,{children:[t.jsxs(Ft.Row,{rowKey:de.primaryConnector.id,hidden:!o.has(de.primaryConnector.id),id:"app-".concat(de.primaryConnector.id),children:[t.jsx(Ft.Cell,{field:"name",children:t.jsx(Vt.TitleWrapper,{focused:i===de.primaryConnector.id,app:de})}),t.jsx(Ft.Cell,{field:"access",className:"py-4",children:t.jsx(Vt.Access,{app:de})}),t.jsx(Ft.Cell,{field:"metrics",className:"py-4",children:t.jsx(Vt.Metrics,{app:de})}),t.jsx(Ft.Cell,{field:"actions",className:"py-4",children:t.jsx(Vt.Actions,{app:de})})]}),t.jsx(kp,{app:de,hidden:!o.has(de.primaryConnector.id)})]},de.primaryConnector.id))})})})]}):t.jsx("p",{className:"text-token-text-tertiary mt-4 w-full p-4 text-center text-sm",children:t.jsx(k,I({},Pt.noInstalledApps))})}),e[48]=n,e[49]=W,e[50]=i,e[51]=V,e[52]=o,e[53]=B):B=e[53],B},Pt=Ee({installedAppsSectionTitle:{id:"+InF2Y",defaultMessage:"Installed"},appColumnHeader:{id:"XZ9x/G",defaultMessage:"Name"},accessColumnHeader:{id:"wqXY9B",defaultMessage:"Access"},usersCountColumnHeader:{id:"nERnc3",defaultMessage:"Users"},appsDisabledWarning:{id:"9H+dUv",defaultMessage:"Apps are currently disabled for this workspace. To enable Apps, please contact your administrator."},filterButton:{id:"wzoL9b",defaultMessage:"Filter"},disabledAppsSectionTitle:{id:"q8S5CC",defaultMessage:"Disabled"},noAppsMessage:{id:"7+aczf",defaultMessage:"No apps found."},noInstalledApps:{id:"lVuaMF",defaultMessage:"No installed apps."},noDisabledApps:{id:"VvJlla",defaultMessage:"No disabled apps."},defaultRoleName:{id:"COFxYg",defaultMessage:"Workspace"},rbacActionText:{id:"Lz3zUl",defaultMessage:"Manage Roles"},deleteActionText:{id:"j3rAZv",defaultMessage:"Delete Apps"},disableActionText:{id:"d0tfmy",defaultMessage:"Disable Apps"},metricsColumnHeader:{id:"PRqEJl",defaultMessage:"Usage"},metricsColumnHeaderTooltip:{id:"eR5l7h",defaultMessage:"Monthly app usage by all workspace users"},noMatchingResults:{id:"2cvN0j",defaultMessage:"No installed apps match your search"}});function Tp(s){return s.primaryConnector.developer_type==="UNTRUSTED"}function Ap(s){return s.primaryConnector.name}function Dp(s){return s.primaryConnector.id}const Pp=["BUSINESS_AND_ANALYTICS","CREATIVITY_AND_DESIGN","DEVELOPER_TOOLS","MESSAGING_AND_SOCIAL","PRODUCTIVITY","RESEARCH_AND_KNOWLEDGE"],Ep=kn(s=>e=>{var a;const n=s.categories;if(n&&n.size>0&&!n.has((a=e.primaryConnector.branding)==null?void 0:a.category))return!1;const o=s.capabilities;return!(o&&o.size>0&&wi(e).intersection(o).size===0)}),Ip=()=>{"use forget";var _o,vo;const s=F.c(213),e=te(),n=le(),o=ro(),a=!!(o!=null&&o.isFreeWorkspace()),i=Da();let l;s[0]!==n||s[1]!==i?(l=!1,s[0]=n,s[1]=i,s[2]=l):l=s[2];const c=l,{apps:r,isLoading:d}=Ci();let f;s[3]!==e?(f={label:mt.categoriesMessage,options:Pp,sort:Rp,messages:ee=>{var _e;return(_e=Ra(ee,e))!=null?_e:ee}},s[3]=e,s[4]=f):f=s[4];let u;s[5]!==e?(u={label:mt.capabilitiesMessage,options:ru,sort:Op,messages:ee=>Mi(ee,e)},s[5]=e,s[6]=u):u=s[6];let p;s[7]!==f||s[8]!==u?(p={categories:f,capabilities:u},s[7]=f,s[8]=u,s[9]=p):p=s[9];const m=p;let h;s[10]!==r?(h=r.filter(Lp),s[10]=r,s[11]=h):h=s[11];let x;s[12]!==r?(x=r.filter(Fp),s[12]=r,s[13]=x):x=s[13];let y;s[14]!==h||s[15]!==x?(y={workspaceApps:h,draftApps:x},s[14]=h,s[15]=x,s[16]=y):y=s[16];const{workspaceApps:g,draftApps:b}=y,{filters:C,setFilters:j,activeFilterCount:_}=qm(m),v=Ep(C);let M;if(s[17]!==v||s[18]!==g){let ee;s[20]!==v?(ee=_e=>v(_e),s[20]=v,s[21]=ee):ee=s[21],M=g.filter(ee).map(Bp),s[17]=v,s[18]=g,s[19]=M}else M=s[19];let w;if(s[22]!==b||s[23]!==v){let ee;s[25]!==v?(ee=_e=>v(_e),s[25]=v,s[26]=ee):ee=s[26],w=b.filter(ee).map($p),s[22]=b,s[23]=v,s[24]=w}else w=s[24];let S;s[27]!==M||s[28]!==w?(S=[M,w],s[27]=M,s[28]=w,s[29]=S):S=s[29];const[N,E]=S,[A,D]=P.useState("");let T;e:{if(A.trim()===""){let Ye;s[30]!==N?(Ye=new Set(N.map(zp)),s[30]=N,s[31]=Ye):Ye=s[31];let it;s[32]!==E?(it=new Set(E.map(Gp)),s[32]=E,s[33]=it):it=s[33];let Ot;s[34]!==Ye||s[35]!==it?(Ot=[Ye,it],s[34]=Ye,s[35]=it,s[36]=Ot):Ot=s[36],T=Ot;break e}let ee;if(s[37]!==N||s[38]!==A){let Ye;s[40]!==A?(Ye=it=>{const[,Ot]=it;return Ot.reduce((Rn,On)=>Ro(On,A)+Rn,0)},s[40]=A,s[41]=Ye):Ye=s[41],ee=new Set(N.filter(Ye).map(Up)),s[37]=N,s[38]=A,s[39]=ee}else ee=s[39];let _e;if(s[42]!==E||s[43]!==A){let Ye;s[45]!==A?(Ye=it=>{const[,Ot]=it;return Ot.reduce((Rn,On)=>Ro(On,A)+Rn,0)},s[45]=A,s[46]=Ye):Ye=s[46],_e=new Set(E.filter(Ye).map(Wp)),s[42]=E,s[43]=A,s[44]=_e}else _e=s[44];let xt;s[47]!==ee||s[48]!==_e?(xt=[ee,_e],s[47]=ee,s[48]=_e,s[49]=xt):xt=s[49],T=xt}const[R,O]=T,L=ra(),[z,$]=P.useState(null);let U;s[50]!==L?(U=ee=>{$(ee.primaryConnector.id),L("#workspace")},s[50]=L,s[51]=U):U=s[51];const G=U;let W;s[52]!==e||s[53]!==d||s[54]!==R?(W=e.formatMessage(mt.workspaceTabTitle,{count:!d&&R.size}),s[52]=e,s[53]=d,s[54]=R,s[55]=W):W=s[55];let Y;s[56]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>$(null),s[56]=Y):Y=s[56];let V;s[57]!==z||s[58]!==d||s[59]!==R||s[60]!==g?(V=t.jsx(Np,{apps:g,visibleApps:R,isLoading:d,focusedAppId:z,clearFocus:Y}),s[57]=z,s[58]=d,s[59]=R,s[60]=g,s[61]=V):V=s[61];let J;s[62]!==W||s[63]!==V?(J={key:"workspace",label:W,children:V},s[62]=W,s[63]=V,s[64]=J):J=s[64];let Q;s[65]!==e?(Q=e.formatMessage(mt.appRegistryTabTitle),s[65]=e,s[66]=Q):Q=s[66];let X;s[67]!==G||s[68]!==A?(X=t.jsx(wm,{query:A,onManage:G}),s[67]=G,s[68]=A,s[69]=X):X=s[69];let B;s[70]!==Q||s[71]!==X?(B={key:"directory",label:Q,children:X},s[70]=Q,s[71]=X,s[72]=B):B=s[72];let K;s[73]!==e||s[74]!==d||s[75]!==O?(K=e.formatMessage(mt.draftsTabTitle,{count:!d&&O.size}),s[73]=e,s[74]=d,s[75]=O,s[76]=K):K=s[76];let q;s[77]!==b||s[78]!==d||s[79]!==O?(q=t.jsx(Gm,{apps:b,visibleApps:O,isLoading:d}),s[77]=b,s[78]=d,s[79]=O,s[80]=q):q=s[80];let oe;s[81]!==K||s[82]!==q?(oe={key:"drafts",label:K,children:q},s[81]=K,s[82]=q,s[83]=oe):oe=s[83];let ne;s[84]!==J||s[85]!==B||s[86]!==oe?(ne=[J,B,oe],s[84]=J,s[85]=B,s[86]=oe,s[87]=ne):ne=s[87];const H=ne,de=qi();let fe,ue;if(s[88]!==de.hash){const ee=de.hash.replace(/^#/,""),[_e,xt]=ee.split("?",2);ue=xt,fe=(_e!=null?_e:"").toLowerCase(),fe==="draft"&&(fe="drafts"),s[88]=de.hash,s[89]=fe,s[90]=ue}else fe=s[89],ue=s[90];const pe=ue!=null?ue:"";let ye;s[91]!==fe||s[92]!==H?(ye=H.some(ee=>ee.key===fe)?fe:H[0].key,s[91]=fe,s[92]=H,s[93]=ye):ye=s[93];const he=ye;let ve;e:{if(he!=="drafts"||pe===""){ve=null;break e}let ee;s[94]!==pe?(ee=new URLSearchParams(pe),s[94]=pe,s[95]=ee):ee=s[95],ve=ee}const Me=ve;let Re;s[96]!==L?(Re=ee=>{L("#".concat(ee))},s[96]=L,s[97]=Re):Re=s[97];const me=Re,[je,Ae]=P.useState(!1),[ze,Ge]=P.useState(!1),[Be,Ue]=P.useState(!1),[Ke,Ve]=P.useState(null),[ce,ae]=P.useState(null);let re,Ce;s[98]!==Me||s[99]!==L?(re=()=>{if(!Me)return;const ee=Me.get("publish"),_e=Me.get("connector");!ee&&!_e||(ee?ae(ee):_e&&Ve(_e),L("#drafts",{replace:!0}))},Ce=[Me,L],s[98]=Me,s[99]=L,s[100]=re,s[101]=Ce):(re=s[100],Ce=s[101]),P.useEffect(re,Ce);let Se;e:{if(!Ke){Se=null;break e}let ee;s[102]!==r||s[103]!==Ke?(ee=(_o=r.find(_e=>_e.primaryConnector.id===Ke))!=null?_o:null,s[102]=r,s[103]=Ke,s[104]=ee):ee=s[104],Se=ee}const ge=Se;let $e;e:{if(!ce){$e=null;break e}let ee;s[105]!==r||s[106]!==ce?(ee=(vo=r.find(_e=>_e.primaryConnector.id===ce))!=null?vo:null,s[105]=r,s[106]=ce,s[107]=ee):ee=s[107],$e=ee}const nt=$e;let Nt;s[108]!==n?(Nt=()=>{Ta(n)?Ge(!0):Ae(!0)},s[108]=n,s[109]=Nt):Nt=s[109];const Rt=Nt;let Ct;s[110]===Symbol.for("react.memo_cache_sentinel")?(Ct=()=>{Ae(!1),Ge(!0)},s[110]=Ct):Ct=s[110];const ot=Ct,[et,gt]=P.useState(!0);if(a){let ee;s[111]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(Ao,{}),s[111]=ee):ee=s[111];let _e;return s[112]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(t.Fragment,{children:[ee,t.jsx(Wn,{children:t.jsx(ca,{})})]}),s[112]=_e):_e=s[112],_e}if(!et){let ee;s[113]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("span",{className:"text-sm font-medium",children:t.jsx(k,{id:"miotN2",defaultMessage:"V2 UI"})}),s[113]=ee):ee=s[113];let _e;s[114]===Symbol.for("react.memo_cache_sentinel")?(_e=Ot=>gt(!!Ot),s[114]=_e):_e=s[114];let xt;s[115]!==et?(xt=t.jsxs("label",{className:"absolute end-4 top-4 flex items-center gap-2",children:[ee,t.jsx(Us,{withinLabel:!0,checked:et,onCheckedChange:_e})]}),s[115]=et,s[116]=xt):xt=s[116];let Ye;s[117]===Symbol.for("react.memo_cache_sentinel")?(Ye=t.jsx(ji,{}),s[117]=Ye):Ye=s[117];let it;return s[118]!==xt?(it=t.jsxs(t.Fragment,{children:[xt,Ye]}),s[118]=xt,s[119]=it):it=s[119],it}let ht;s[120]===Symbol.for("react.memo_cache_sentinel")?(ht=t.jsx("span",{className:"text-sm font-medium",children:t.jsx(k,{id:"miotN2",defaultMessage:"V2 UI"})}),s[120]=ht):ht=s[120];let ft;s[121]===Symbol.for("react.memo_cache_sentinel")?(ft=ee=>gt(!!ee),s[121]=ft):ft=s[121];let Ze;s[122]!==et?(Ze=t.jsxs("label",{className:"absolute end-4 top-4 flex items-center gap-2",children:[ht,t.jsx(Us,{withinLabel:!0,checked:et,onCheckedChange:ft})]}),s[122]=et,s[123]=Ze):Ze=s[123];let Tt;s[124]===Symbol.for("react.memo_cache_sentinel")?(Tt=t.jsx(Ao,{}),s[124]=Tt):Tt=s[124];let At;s[125]!==me||s[126]!==ze?(At=ze&&t.jsx(uo,{onClose:ee=>{ee&&me("drafts"),Ge(!1)},redirectAfter:"/admin/ca#drafts"}),s[125]=me,s[126]=ze,s[127]=At):At=s[127];let _t;s[128]!==je?(_t=je&&t.jsx(hi,{onClose:()=>Ae(!1),onEnabled:ot}),s[128]=je,s[129]=_t):_t=s[129];let ut;s[130]!==c||s[131]!==me||s[132]!==Be?(ut=!1,s[130]=c,s[131]=me,s[132]=Be,s[133]=ut):ut=s[133];let be;s[134]!==nt?(be=nt&&t.jsx(mn,{app:nt,onClose:()=>ae(null)}),s[134]=nt,s[135]=be):be=s[135];let ke;s[136]!==ge?(ke=ge&&t.jsx(Pn,{app:ge,onClose:()=>Ve(null),onPublish:()=>{const ee=ge.primaryConnector.id;Ve(null),ae(ee)}}),s[136]=ge,s[137]=ke):ke=s[137];let De;s[138]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx("h2",{className:"text-2xl",children:t.jsx(k,I({},mt.appsAdminPageTitle))}),s[138]=De):De=s[138];let Oe;s[139]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx("p",{className:"text-token-text-tertiary text-sm",children:t.jsx(k,xe(I({},mt.subtitle),{values:{link:qp}}))}),s[139]=Oe):Oe=s[139];let tt;s[140]!==i?(tt=i&&t.jsxs("p",{className:"text-token-text-secondary text-sm",children:[t.jsx(k,{id:"9menCz",defaultMessage:"Connectors may allow end users to share data, which could include protected health information (PHI), with third parties. You should ensure that your use of connectors complies with your obligations under HIPAA. "}),t.jsx(Ns,{href:"https://help.openai.com/en/articles/11509118-admin-controls-security-and-compliance-in-connectors-enterprise-edu-and-team#h_f11dede080",className:"ms-1 underline",children:t.jsx(k,{id:"YXcIJ9",defaultMessage:"Learn more about Apps."})})]}),s[140]=i,s[141]=tt):tt=s[141];let st;s[142]!==tt?(st=t.jsxs("div",{className:"min-w-24 space-y-1",children:[De,Oe,tt]}),s[142]=tt,s[143]=st):st=s[143];let at;s[144]!==e?(at=e.formatMessage(mt.searchPlaceholder),s[144]=e,s[145]=at):at=s[145];let Ht;s[146]!==e?(Ht=e.formatMessage(mt.searchPlaceholder),s[146]=e,s[147]=Ht):Ht=s[147];let ls;s[148]===Symbol.for("react.memo_cache_sentinel")?(ls=ee=>D(ee.target.value.toLowerCase()),s[148]=ls):ls=s[148];let Jt;s[149]===Symbol.for("react.memo_cache_sentinel")?(Jt=()=>D(""),s[149]=Jt):Jt=s[149];let rs;s[150]!==A||s[151]!==at||s[152]!==Ht?(rs=t.jsx(Hs,{className:"border-token-border-heavy! flex-1 rounded-full!",name:"search",type:"text",ariaLabel:at,placeholder:Ht,icon:ao,iconPosition:"left",value:A,onChange:ls,iconClassName:"text-token-icon-tertiary",onClear:Jt}),s[150]=A,s[151]=at,s[152]=Ht,s[153]=rs):rs=s[153];let nn;s[154]===Symbol.for("react.memo_cache_sentinel")?(nn=t.jsx(k,I({},mt.filterMessage)),s[154]=nn):nn=s[154];let cs;s[155]!==_?(cs=_>0&&t.jsx("span",{className:"bg-token-text-primary border-token-bg-primary text-token-text-inverted flex h-5 items-center justify-center rounded-full border-2 px-1.5 text-xs font-semibold",children:_}),s[155]=_,s[156]=cs):cs=s[156];let ds;s[157]!==d||s[158]!==cs?(ds=t.jsxs(Z,{icon:kl,color:"secondary",disabled:d,children:[nn,cs]}),s[157]=d,s[158]=cs,s[159]=ds):ds=s[159];let fs;s[160]!==d||s[161]!==ds?(fs=t.jsx(ie.Trigger,{asChild:!0,className:"border-token-border-heavy h-auto rounded-full font-normal",disabled:d,children:ds}),s[160]=d,s[161]=ds,s[162]=fs):fs=s[162];let us;s[163]!==j?(us=ee=>j(ee),s[163]=j,s[164]=us):us=s[164];let ms;s[165]!==m||s[166]!==C||s[167]!==us?(ms=t.jsx(ie.Portal,{children:t.jsx(ie.Content,{align:"end",children:t.jsx(Qm,{filters:C,onApply:us,filterFields:m})})}),s[165]=m,s[166]=C,s[167]=us,s[168]=ms):ms=s[168];let ps;s[169]!==m||s[170]!==fs||s[171]!==ms?(ps=t.jsx(ie.Root,{children:t.jsxs(Km,{filterFields:m,children:[fs,ms]})}),s[169]=m,s[170]=fs,s[171]=ms,s[172]=ps):ps=s[172];const In=c&&"rounded-e-none";let gs;s[173]!==In?(gs=se(In),s[173]=In,s[174]=gs):gs=s[174];let on;s[175]===Symbol.for("react.memo_cache_sentinel")?(on=t.jsx(k,I({},mt.createAppButton)),s[175]=on):on=s[175];let hs;s[176]!==Rt||s[177]!==gs?(hs=t.jsx(Z,{onClick:Rt,color:"primary",icon:Zn,className:gs,children:on}),s[176]=Rt,s[177]=gs,s[178]=hs):hs=s[178];let xs;s[179]!==c?(xs=c&&t.jsxs(ie.Root,{children:[t.jsxs(ie.Trigger,{className:"border-token-bg-primary focus:outline-token-text-primary rounded-s-none rounded-e-full border bg-gray-950 px-2 text-white hover:bg-gray-800 focus:bg-gray-950! focus:outline-[1.5px] focus:outline-offset-[2.5px] focus:outline-solid dark:bg-gray-50 dark:text-gray-950 dark:hover:bg-gray-100 dark:focus:bg-gray-50!",children:[t.jsx(Zt,{}),t.jsx("span",{className:"sr-only",children:t.jsx(k,I({},mt.moreActions))})]}),t.jsx(ie.Portal,{children:t.jsx(ie.Content,{align:"end",children:t.jsx(ie.Item,{onClick:()=>Ue(!0),children:t.jsx(k,I({},mt.createEhrAppButton))})})})]}),s[179]=c,s[180]=xs):xs=s[180];let ys;s[181]!==hs||s[182]!==xs?(ys=t.jsxs("div",{className:"flex items-center",children:[hs,xs]}),s[181]=hs,s[182]=xs,s[183]=ys):ys=s[183];let bs;s[184]!==rs||s[185]!==ps||s[186]!==ys?(bs=t.jsxs("div",{className:"mt-6 flex items-stretch gap-4",children:[rs,ps,ys]}),s[184]=rs,s[185]=ps,s[186]=ys,s[187]=bs):bs=s[187];let js;s[188]!==st||s[189]!==bs?(js=t.jsxs("div",{className:"mx-auto w-full max-w-5xl items-start justify-between gap-3 px-4 pb-2 md:mt-12 md:px-6 md:pb-6 lg:px-10",children:[st,bs]}),s[188]=st,s[189]=bs,s[190]=js):js=s[190];let Cs;s[191]!==he||s[192]!==d||s[193]!==me||s[194]!==H?(Cs=!d&&t.jsxs("div",{className:"mx-auto flex w-full max-w-5xl items-end justify-between px-4 md:px-6 lg:px-10",children:[t.jsx("div",{className:"flex gap-2 pt-2",children:H.map(ee=>t.jsx($r,{isActive:he===ee.key,onClick:()=>me(ee.key),className:"px-2 pt-2.5 text-sm font-medium",children:ee.label},ee.key))}),t.jsxs(ct,{href:"/apps",target:"_blank",className:"text-token-text-tertiary flex items-center gap-1 px-1 py-2.5 text-sm no-underline! hover:underline!",children:[t.jsx(k,I({},mt.browseStoreLink)),t.jsx(Pa,{})]})]}),s[191]=he,s[192]=d,s[193]=me,s[194]=H,s[195]=Cs):Cs=s[195];let _s;s[196]!==Cs?(_s=t.jsx("div",{className:"border-token-border-light border-b",children:Cs}),s[196]=Cs,s[197]=_s):_s=s[197];let vs;s[198]!==he||s[199]!==H?(vs=t.jsx(zr,{items:H,activeTab:he}),s[198]=he,s[199]=H,s[200]=vs):vs=s[200];let ks;s[201]!==_s||s[202]!==vs?(ks=t.jsxs("div",{children:[_s,vs]}),s[201]=_s,s[202]=vs,s[203]=ks):ks=s[203];let an;return s[204]!==Ze||s[205]!==At||s[206]!==_t||s[207]!==ut||s[208]!==be||s[209]!==ke||s[210]!==js||s[211]!==ks?(an=t.jsxs(Zu,{children:[Ze,Tt,At,_t,ut,be,ke,js,ks]}),s[204]=Ze,s[205]=At,s[206]=_t,s[207]=ut,s[208]=be,s[209]=ke,s[210]=js,s[211]=ks,s[212]=an):an=s[212],an},mt=Ee({appsAdminPageTitle:{id:"kLyF7D",defaultMessage:"Apps"},workspaceTabTitle:{id:"4N3tBC",defaultMessage:"Enabled {count, select, false {} other {({count})}}"},appRegistryTabTitle:{id:"PM5Jm+",defaultMessage:"Directory"},draftsTabTitle:{id:"CarmrY",defaultMessage:"Drafts {count, select, false {} other {({count})}}"},createAppButton:{id:"Hz0kHM",defaultMessage:"Create"},subtitle:{id:"jOxuSP",defaultMessage:"Manage which apps users in this workspace can connect to. <link>Learn more</link>"},defaultRoleName:{id:"k9PMEr",defaultMessage:"Workspace"},accessMessage:{id:"3yv6bx",defaultMessage:"Role access"},filterMessage:{id:"NROETK",defaultMessage:"Filters"},searchPlaceholder:{id:"E5d8B6",defaultMessage:"Search"},capabilitiesMessage:{id:"J5O8RB",defaultMessage:"Capabilities"},categoriesMessage:{id:"j5atqX",defaultMessage:"Categories"},browseStoreLink:{id:"aBgAbr",defaultMessage:"Browse directory"},createEhrAppButton:{id:"iyh/Ul",defaultMessage:"Create EHR App"},moreActions:{id:"QLz8Gm",defaultMessage:"More actions"}});function Rp(s,e){return s.localeCompare(e)}function Op(s,e){return s.localeCompare(e)}function Lp(s){return s.primaryConnector.status==="ENABLED"}function Fp(s){return s.primaryConnector.status==="ONLY_ME"}function Bp(s){return[s.primaryConnector.id,s.searchKeys]}function $p(s){return[s.primaryConnector.id,s.searchKeys]}function zp(s){const[e]=s;return e}function Gp(s){const[e]=s;return e}function Up(s){const[e]=s;return e}function Wp(s){const[e]=s;return e}function qp(s){return t.jsx("a",{href:"https://help.openai.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:s})}const Vg=Ki(function(){"use forget";const e=F.c(2),n=le();if(Dr(n,"3280023399")){let i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(Ip,{}),e[0]=i):i=e[0],i}let a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(ji,{}),e[1]=a):a=e[1],a});export{Vg as default};
//# sourceMappingURL=khuxtt7qdvjbk14s.js.map

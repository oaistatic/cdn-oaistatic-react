const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/i8u5bvmjmqyxoy0n.js","assets/mw35uwhq4g8r9eam.js","assets/g2euln7v5pbm31qa.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/conversation-small-lq38g8zw.css","assets/gsgwnhjtne39lykz.js","assets/cz2iwgzw4rck3xnv.js","assets/oaa54w4iawect3nk.js","assets/dtmprrbw2fxa7u08.js","assets/j6o92bx1q4qhetyv.js","assets/ojmli062couj7r3v.js","assets/lv7ytt0l14b17ows.js","assets/cvl54rj7bbx1877e.js","assets/i8gmt89kig8ue44v.js","assets/dejzmw8nrz6tr491.js","assets/5uqv5sdajcdsdc3v.js","assets/kc32gem4l2t3hnxt.js","assets/of0vtq1gcmd3mc3z.js","assets/kne35xckmmfq3xx6.js","assets/c340ncgh31fwqkpk.js","assets/kl0a548ohmz3fby2.js","assets/obpubb7ugisfu36u.js","assets/gl4f6lge29au0ljx.js","assets/iio0zgk2sqlxbcjy.js","assets/kbwy95pwpw3ze3en.js","assets/dbnl40ahcmx1rqbw.js","assets/j723eutw6lfomm01.js","assets/ggvjblnzoirafiyl.js","assets/fe4yarxdk4eko5w6.js","assets/kubdgxu3crk3gqem.js","assets/jc1wlz3ym1r6tf2l.js","assets/dhyn0hpw8j3dzdrv.js","assets/ft92xq3wp8rdw7y4.js","assets/k78rvpp2o5py0b0x.js","assets/o8ldxg9n5ftv0v78.js","assets/c88b35umkfs90bi2.js","assets/0vzw4aujxrcpkx50.js","assets/cfvbqrbqhscaxqmy.js","assets/3xa3aq3nbd1nd678.js","assets/keveoph4stiufpkl.js","assets/iej0cupg2dqkmejt.js","assets/jcku1nkz6suna4le.js","assets/mdhx8v0rk5lzwfyg.js","assets/k87jyuo1htrvtd60.js","assets/i5mildogukgpyzi1.js","assets/kgh7mr8h6ogbitue.js","assets/mraf0ji5wx0y0vgl.js","assets/b5fq0dy7czwrodri.js","assets/m8a4wb7r927qi7x1.js","assets/pbx1h703pubtj7lo.js","assets/l4v2i2dq9gwjak1q.js","assets/nlbx4wg3cr5a1pmm.js","assets/fs27qa64x6cw1tcw.js","assets/abbu14yzsndnk607.js","assets/epd8y0jntounypvz.js","assets/e67iszfc5whc70iy.js","assets/f6omfo4phchipc3g.js","assets/nte82mqftpddm52f.js","assets/jwvkjd19mng37ttq.js","assets/m2xec4gtk8ypy5ff.js","assets/mbe20fj6m6dgadji.js","assets/o8prkdn1e023m13y.js","assets/gy0y4tth3qg3lagh.js","assets/ku5gt2a8mwp30g8p.js","assets/eelq57udayslns33.js","assets/mslaljgb5up5msq6.js","assets/iheyqrwuz0lnvajd.js","assets/e3u15k4vp6vfyjh3.js","assets/bfd523376tbq0056.js","assets/k421hn58buy5pa4i.js","assets/cwc8h2qrg7ojzr2m.js","assets/m9ghn82189owfq4p.js","assets/hts9rvpq1esjcpl0.js","assets/lqcwdtse4p4c65nb.js","assets/l7baz7m696u8k4di.js","assets/eq347oxkmgs4si5r.js","assets/l2l4d2d2bzani7km.js","assets/i6or8145ji31w5k0.js","assets/l8s12ibm9arbp2uu.js","assets/irqezh7teqj3ew03.js","assets/ehwx8pj63nln1ugv.js","assets/ffo9fz3385kae4ff.js","assets/bzxitjpdx1z6hpbp.js","assets/iman6sxicn70h91g.js","assets/nvot86jvh8vwigra.js","assets/l2u6v2d9vfposl4n.js","assets/e5bg4yzr7nht9sxr.js","assets/fkrqr6nqq2852orb.js","assets/la79eh1q1qxrfcxi.js","assets/i693kfbch8smq86y.js","assets/gy1lpvuoewmzh42c.js","assets/iknugp00locgtve5.js","assets/h1em0bjkpkjv8ykw.js","assets/kbj1b07s2z6vxqkg.js","assets/hu1bt0oauegdhua6.js","assets/oj9zwxa6l3kpv1x2.js","assets/h4yh1661qhhbu5v5.js","assets/e5aqc9nw1k4ebw2k.js","assets/hdkg0cys1b7b4f0v.js","assets/ia54sddtrl9qa2wj.js","assets/ktjtg3fnpomr03qk.js","assets/klou7w1qk96r1yfx.js","assets/jq5arodfofi7kok7.js","assets/ftef8970ba1zoykr.js"])))=>i.map(i=>d[i]);
var ie=Object.defineProperty,oe=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var B=(s,e,i)=>e in s?ie(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i,x=(s,e)=>{for(var i in e||(e={}))G.call(e,i)&&B(s,i,e[i]);if(j)for(var i of j(e))H.call(e,i)&&B(s,i,e[i]);return s},T=(s,e)=>oe(s,ae(e));var Y=(s,e)=>{var i={};for(var a in s)G.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&j)for(var a of j(s))e.indexOf(a)<0&&H.call(s,a)&&(i[a]=s[a]);return i};import{j as o,r as n,_ as f,c as te,a as re,k as ne,u as le}from"./mw35uwhq4g8r9eam.js";import{kW as de,kX as ce,kY as ue,kZ as K,jJ as fe,ee as O,ef as Q,k_ as me,k$ as ge,l0 as pe,l1 as he,l2 as _e,l3 as Ee,l4 as be,l5 as ke,l6 as xe,l7 as we,l8 as Pe,l9 as je,la as Te,lb as Oe,lc as Ce,ld as $,le as Ie,br as E,bs as b,lf as Se,lg as ve,lh as Fe,li as Le,lj as Me,lk as Ne,dv as Ae,T as ye,gP as Ve,ll as Re,dw as Ue,lm as De,h9 as We,ln as ze,e1 as Be,kv as Ge,dm as He,aY as Ye}from"./g2euln7v5pbm31qa.js";import{jl as Ke,oE as ee,ek as Qe,sq as $e,e5 as J,be as c,u as se,g as Je,pd as Ze,d as Z,bZ as X,c1 as q,dh as Xe,di as qe,aO as es,bC as ss,iV as is,sr as os,_ as as,O as ts,kv as rs,P as ns,m as ls,rJ as ds,ao as cs,oS as us,oT as fs,oU as ms}from"./d0xa318sl7ywi0za.js";import{B as gs}from"./dtmprrbw2fxa7u08.js";import{P as ps}from"./5uqv5sdajcdsdc3v.js";import{C as hs}from"./kbwy95pwpw3ze3en.js";import{M as _s}from"./j723eutw6lfomm01.js";function Es({conversation:s}){const e=de();return o.jsxs(o.Fragment,{children:[e&&o.jsx(ce,{conversation:s}),o.jsx(bs,{conversation:s})]})}function bs({conversation:s}){const e=n.useContext(Ke),[i,a]=n.useState(!!(e!=null&&e.postWithProfile)&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(r=>r.kind==="media_generation"));return!(e!=null&&e.postWithProfile)||!i?null:o.jsx(ee,{conversation:s,children:o.jsx(ps,{clientThreadId:s.id,postWithProfile:e.postWithProfile,onClose:()=>a(!1)})})}const ks=450;function xs({children:s,conversation:e,isOpen:i,onClose:a,type:r}){return o.jsx(Qe,{children:i&&o.jsx($e,{children:o.jsx(ue.Provider,{value:{isEmbeddedInFocusedView:!0,type:r},children:o.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[o.jsx(J.div,x({className:"bg-token-main-surface-secondary h-full w-full"},K)),o.jsxs("div",{className:"absolute inset-0 flex",children:[o.jsx("div",{className:"grow overflow-auto",children:s}),o.jsx(J.div,T(x({className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:ks}},K),{children:o.jsx("div",{className:"h-[100vh] pb-4",children:o.jsx(_s,{conversation:e,hideHeader:!0,hideDisclaimer:!0},e.id)})}))]})]})})})})}const ws=c(()=>f(()=>import("./i8u5bvmjmqyxoy0n.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ps=c(()=>f(()=>import("./oaa54w4iawect3nk.js"),__vite__mapDeps([8,1,3,4,2,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33])).then(s=>s.ImageEditor));function js({conversation:s}){const e=fe();n.useEffect(()=>{O.close()},[s.id]);let i;return(e==null?void 0:e.type)===Q.ADAVisualization?i=o.jsx(ws,{clientThreadId:s.id,visualization:e.visualization}):(e==null?void 0:e.type)===Q.Image&&(i=o.jsx(Ps,{clientThreadId:s.id,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),o.jsx(xs,{conversation:s,isOpen:e!=null,onClose:O.close,type:e==null?void 0:e.type,children:i})}var Ts={};const Os=c(()=>f(()=>import("./k78rvpp2o5py0b0x.js"),__vite__mapDeps([34,1,2,3,4,5,11,12]))),Cs=c(()=>f(()=>import("./o8ldxg9n5ftv0v78.js"),__vite__mapDeps([35,1,3,4,36,37,38,2,5,39,40,11,12,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,27,23,24,22,20,18,28,17,16,19,21,29,30]))),Is=c(()=>f(()=>import("./mslaljgb5up5msq6.js"),__vite__mapDeps([66,1,3,4,2,5,11,12,67,68,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,27,23,24,22,20,18,28,17,16,19,21,29,30,69,70,71,72]))),Ss=c(()=>f(()=>import("./hts9rvpq1esjcpl0.js"),__vite__mapDeps([73,1,3,4,2,5,52,53,54,55,69,70,71,72,74])));c(async()=>()=>null);const vs=c(()=>f(()=>import("./l7baz7m696u8k4di.js"),__vite__mapDeps([75,1,2,3,4,5,76,22,11,12,23,24,56,55,77]))),Fs=c(()=>f(()=>import("./i6or8145ji31w5k0.js"),__vite__mapDeps([78,1,3,4,56,2,5,52,53,54,55,22,11,12,23,24,76]))),Ls=c(()=>f(()=>import("./l8s12ibm9arbp2uu.js"),__vite__mapDeps([79,1,80,3,4,2,5,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,51,100,101])).then(s=>s.CheckoutModal)),Ms=()=>null,Ns=c(()=>f(()=>import("./klou7w1qk96r1yfx.js"),__vite__mapDeps([102,1,2,3,4,5,103,104])).then(s=>s.VoiceNavigationBlocker));function As(s,e,i,a){"use no forget";return n.useMemo(()=>e?Je(s,e,{urlGizmoId:i}):Ze(s,x({urlGizmoId:i},a)),[s,e,i,a])}function Ys(s){"use forget";var h;const e=te.c(15);let i,a,r,t;e[0]!==s?(h=s,{gizmoId:a,urlThreadId:t,clientThreadId:i}=h,r=Y(h,["gizmoId","urlThreadId","clientThreadId"]),e[0]=s,e[1]=i,e[2]=a,e[3]=r,e[4]=t):(i=e[1],a=e[2],r=e[3],t=e[4]);const m=me(),p=se(),k=t!=null?t:i,u=As(p,k,a,m);let d;e[5]!==u||e[6]!==t?(d=o.jsx(hs,{urlThreadId:t,conversation:u}),e[5]=u,e[6]=t,e[7]=d):d=e[7];let g;return e[8]!==i||e[9]!==u||e[10]!==a||e[11]!==r||e[12]!==d||e[13]!==t?(g=o.jsx(ys,T(x({gizmoId:a,urlThreadId:t,clientThreadId:i,conversation:u},r),{children:d})),e[8]=i,e[9]=u,e[10]=a,e[11]=r,e[12]=d,e[13]=t,e[14]=g):g=e[14],g}function ys({conversation:s,children:e}){var z;const i=se(),a=Z(()=>X(i)),r=Z(()=>q(i)),t=re(),[m]=ne(),p=m.get("from_webview")==="ios",k=!!ge(t.pathname),u=Xe(qe.workspaceId),{eligible:d,isLoading:g}=pe(),h=he(),{eligible:C,isLoading:I}=_e(),S=Ee(),{eligible:v,isLoading:F}=be(),L=ke(),{eligible:M,isLoading:N}=xe(),A=we(),{eligible:y,isLoading:V}=Pe(),R=je(),{eligible:U,isLoading:D}=Te(),W=Oe();n.useEffect(()=>{Ce(!0).then(l=>{l.force_login&&es(i,{fallbackScreenHint:"login"}),$.initializeAndGatherData(l),ss(i).checkGate("4178431533")&&$.precomputeEnforcementToken(l),Ie.initializeAndGatherData(l)})},[i]),n.useEffect(()=>{const l=m.get(is)==="true",_=m.get(os)==="true";_!==r&&q.set(i,_),a!==l&&(X.set(i,l),l&&as.logEvent("Enable Temporary Chat"))},[i,a,r,m]),n.useEffect(()=>{var l;(l=t.state)!=null&&l.focusObject&&O.setFocusedObject(t.state.focusObject)},[(z=t.state)==null?void 0:z.focusObject]),n.useEffect(()=>{!g&&d&&(E(i,b.hasSeenPioneer),h())},[i,d,g,h]),n.useEffect(()=>{!I&&C&&(E(i,b.hasSeenSeeker),S())},[i,C,I,S]),n.useEffect(()=>{!F&&v&&(E(i,b.hasSeenMaverick),L())},[i,v,F,L]),n.useEffect(()=>{!N&&M&&(E(i,b.hasSeenTrailBlazer),A())},[i,M,N,A]),n.useEffect(()=>{!V&&y&&(E(i,b.hasSeenStratos),R())},[i,y,V,R]),n.useEffect(()=>{!D&&U&&(E(i,b.hasSeenWayfinder),W())},[i,U,D,W]),Se(s.id);const w=le();return n.useEffect(()=>{ts(i)&&ve(w)},[w,i]),Fe(),n.useEffect(()=>rs(cs,{completionFinished:l=>{var _;if(l.serverThreadId!=null&&!a){const P=(_=ns(l.serverThreadId))==null?void 0:_.mode;(P==null?void 0:P.kind)===ls.GizmoInteraction&&ds.handleGizmoInteracted(w,P.gizmo_id)}}}),[a,w]),Le(),Me(),o.jsxs(us.Provider,{value:s,children:[k&&o.jsx(Ne,{clientThreadId:s.id}),o.jsx(Ns,{}),o.jsxs(fs,{children:[o.jsx(Ae,{clientThreadId:s.id,children:o.jsx(ye,{clientThreadId:s.id,children:o.jsx(ms,{conversation:s,children:o.jsxs(ee,{conversation:s,children:[o.jsx(gs,{clientThreadId:s.id,page:"chat",isIosDirectPurchaseFlow:p},u),o.jsx(Vs,{clientThreadId:s.id,isIosDirectPurchaseFlow:p}),o.jsx(Os,{}),o.jsx(Ve,{}),o.jsx(Re,{}),e,o.jsx(Es,{conversation:s}),o.jsx(js,{conversation:s}),o.jsx(Ue,{clientThreadId:s.id}),o.jsx(De,{}),o.jsx(We,{clientThreadId:s.id}),o.jsx(ze,{})]})})})}),o.jsx(Ls,{}),o.jsx(Ms,{}),!1]})]})}function Vs({clientThreadId:s,isIosDirectPurchaseFlow:e}){const{isWorkspaceUser:i,workspaceOnboardingVariant:a,isOpen:r,isLoading:t}=Be(),{isOpen:m,isLoading:p}=Ge(),{isOpen:k,isLoading:u,closeModal:d}=He();return e?null:!t&&r?i?a==="k12"?o.jsx(Is,{clientThreadId:s}):o.jsx(Ss,{clientThreadId:s}):o.jsx(Cs,{clientThreadId:s}):!p&&m?o.jsx(vs,{clientThreadId:s}):!u&&k?o.jsx(Ye,{children:o.jsx(Fs,{clientThreadId:s,onClose:d})}):null}typeof window<"u"&&(window._g=Ts.GOKU_SERVICE);export{Ys as C,ks as F};
//# sourceMappingURL=dukfeuga0ipvcx0b.js.map

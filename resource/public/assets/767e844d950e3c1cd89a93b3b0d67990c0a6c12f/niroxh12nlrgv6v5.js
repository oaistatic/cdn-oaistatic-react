import{h as c,d as p,r as M,j as e,M as h}from"./mw35uwhq4g8r9eam.js";import{K as v,cq as C}from"./g2euln7v5pbm31qa.js";import{u as x,jh as y,d as j,fg as R,dv as S,aB as B,dp as i}from"./d0xa318sl7ywi0za.js";function E({title:t,handleLeaveAndClose:s,onClose:a}){"use no forget";const o=c();return e.jsx(B,{testId:"modal-leave-group-chat-confirmation",isOpen:!0,onClose:()=>a(),type:"danger",title:o.formatMessage({id:"nLm64O",defaultMessage:"Leave group chat?"}),primaryButton:e.jsx(i.Button,{title:o.formatMessage({id:"gvoh3t",defaultMessage:"Leave"}),color:"danger",onClick:()=>{s()},"data-testid":"leave-group-chat-confirm-button"}),secondaryButton:e.jsx(i.Button,{title:o.formatMessage({id:"3Vw7SS",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>a()}),children:e.jsx(h,{id:"PBAI6E",defaultMessage:"Youâ€™ll no longer see {title} or its history. Other members will still have access to the group chat.",values:{title:e.jsx("span",{className:"font-medium",children:t})}})})}const A=({room:t,onClose:s})=>{"use no forget";const a=x(),o=v(a),l=c(),u=y(a),d=p(),m=j(()=>t.name$()),g=C()===t.id,r=M.useRef(!1);return e.jsx(E,{title:m,handleLeaveAndClose:async()=>{var n;if(!r.current)try{r.current=!0,await o.leaveRoom$(t.id),g&&d("/"),s()}catch(f){u.danger((n=R(f))!=null?n:l.formatMessage(S.somethingWentWrong))}finally{r.current=!1}},onClose:s})};export{A as CalpicoLeaveChatConfirmationModalContainer};
//# sourceMappingURL=niroxh12nlrgv6v5.js.map

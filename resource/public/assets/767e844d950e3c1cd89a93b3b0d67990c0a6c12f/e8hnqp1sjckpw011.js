var kt=Object.defineProperty,Ft=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var He=Object.getOwnPropertySymbols;var rt=Object.prototype.hasOwnProperty,ct=Object.prototype.propertyIsEnumerable;var at=(o,e,t)=>e in o?kt(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,M=(o,e)=>{for(var t in e||(e={}))rt.call(e,t)&&at(o,t,e[t]);if(He)for(var t of He(e))ct.call(e,t)&&at(o,t,e[t]);return o},J=(o,e)=>Ft(o,Tt(e));var st=(o,e)=>{var t={};for(var s in o)rt.call(o,s)&&e.indexOf(s)<0&&(t[s]=o[s]);if(o!=null&&He)for(var s of He(o))e.indexOf(s)<0&&ct.call(o,s)&&(t[s]=o[s]);return t};import{ak as Je,eG as Fe,q0 as Ee,pC as Mt,xx as Ut,_ as Q,p$ as qe,eq as it,u as se,b9 as Dt,xy as _t,J as Wt,cF as oe,h7 as $t,e5 as Pe,D as Te,aO as Bt,er as bt,cw as Kt,aA as Ie,h5 as Gt,ek as Xe,pZ as Z,sA as Rt,xz as Vt,xA as Yt,d as Ht,sz as zt,xB as qt,L as xt,sD as Xt,hs as Jt,p_ as Zt,xC as mt}from"./d0xa318sl7ywi0za.js";import{A as Qt,c as v,j as n,R as es,r as ee,M as U,h as St,k as ts}from"./mw35uwhq4g8r9eam.js";import{xW as ot,bX as ss,iI as ut,xX as ns,V as os,e6 as is}from"./g2euln7v5pbm31qa.js";import{L as ls,a as Me,u as yt,b as Nt,S as we}from"./kgh7mr8h6ogbitue.js";import{u as as}from"./ht6uzt6gonugd1uu.js";import{u as rs}from"./c08xobknzytt16by.js";import{I as cs}from"./pbx1h703pubtj7lo.js";import{w as ms,P as us,f as ds,i as fs}from"./e5aqc9nw1k4ebw2k.js";import{i as gs}from"./hdkg0cys1b7b4f0v.js";import{S as ps}from"./bzxitjpdx1z6hpbp.js";var Ct=(o=>(o.control="control",o.ssoExpanded="sso_expanded",o.ssoCollapsed="sso_collapsed",o))(Ct||{});function Qs(o){const e=Je(o,"3233347819");if(Fe()){const s=e.get("mobile_log_back_variant",ze);return dt(s)?s:ze}const t=e.get("log_back_variant",ze);return dt(t)?t:ze}function dt(o){return Object.values(Ct).includes(o)}const ze="control";function hs(o){switch(o){case"google":return Ee.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_GOOGLE;case"microsoft":return Ee.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_MICROSOFT;case"apple":return Ee.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE_WITH_APPLE;default:return Ee.ACCESS_FLOW_USER_ACTION_TYPE_UNSPECIFIED}}function Ot(o,e,t){return function(i,a){const l=Mt(o,Ut().searchParams);return a(l),Qt.signIn(l,e?{callbackUrl:e}:{},M(M({prompt:"login"},t),i))}}async function At(o,e,t,s){await o({screen_hint:"login_or_signup",connection:ls[e]},()=>{Q.logLoginModalContinueAction(t,hs(e),s===it.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL?qe.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL:qe.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOG_BACK_IN_MODAL)})}function jt(o){"use forget";const e=v.c(5),t=o,s=se();let i;e[0]!==s?(i=Je(s,"3233347819"),e[0]=s,e[1]=i):i=e[1];let a;return e[2]!==t||e[3]!==i?(a={layer:i,paramName:"should_use_smaller_button",defaultValue:t},e[2]=t,e[3]=i,e[4]=a):a=e[4],ot(a)}function ke(o,e,t,s){const a=Dt(o,e).value;return _t(a,t)?a:s}function _s(o,e){"use forget";const t=v.c(4),{loginStrategy:s}=e,i=Ue[s];let a;return t[0]!==o||t[1]!==s||t[2]!==i.google?(a=ke(o,i.google,Me,{name:"google",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:s}),t[0]=o,t[1]=s,t[2]=i.google,t[3]=a):a=t[3],a}function bs(o,e){"use forget";const t=v.c(4),{loginStrategy:s}=e,i=Ue[s];let a;return t[0]!==o||t[1]!==s||t[2]!==i.microsoft?(a=ke(o,i.microsoft,Me,{name:"microsoft",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:s}),t[0]=o,t[1]=s,t[2]=i.microsoft,t[3]=a):a=t[3],a}function xs(o,e){"use forget";const t=v.c(4),{loginStrategy:s}=e,i=Ue[s];let a;return t[0]!==o||t[1]!==s||t[2]!==i.apple?(a=ke(o,i.apple,Me,{name:"apple",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:s}),t[0]=o,t[1]=s,t[2]=i.apple,t[3]=a):a=t[3],a}function Ss(o,e){"use forget";const t=v.c(4),{loginStrategy:s}=e,i=Ue[s];let a;return t[0]!==o||t[1]!==s||t[2]!==i.email?(a=ke(o,i.email,Me,{name:"email",enabled:!0,tempDisabled:!1,kind:"username",loginStrategy:s}),t[0]=o,t[1]=s,t[2]=i.email,t[3]=a):a=t[3],a}function ys(o){"use forget";const e=v.c(23),{loginStrategy:t}=o,s=se(),i=Ue[t],a=t==="existing_user";let l;e[0]!==s||e[1]!==t||e[2]!==i.phone_number||e[3]!==a?(l=ke(s,i.phone_number,Me,{name:"phone_number",enabled:a,tempDisabled:!1,kind:"username",loginStrategy:t}),e[0]=s,e[1]=t,e[2]=i.phone_number,e[3]=a,e[4]=l):l=e[4];const d=l;let m;e[5]!==s?(m=Je(s,"183390215"),e[5]=s,e[6]=m):m=e[6];const r=m;let c;e[7]!==s?(c=Wt(s,"4012051055"),e[7]=s,e[8]=c):c=e[8];const _=c;let g;e[9]!==r?(g={layer:r,paramName:"signup_allow_phone_from_login_web",defaultValue:!1},e[9]=r,e[10]=g):g=e[10];const u=ot(g);let p;e[11]!==r?(p={layer:r,paramName:"in_phone_signup_holdout_from_login_web",defaultValue:!1},e[11]=r,e[12]=p):p=e[12];const h=ot(p);if(t!=="new_user")return d;let x;e[13]!==_||e[14]!==u?(x=_||u(),e[13]=_,e[14]=u,e[15]=x):x=e[15];const f=x,C=d.enabled;let N;e[16]!==C||e[17]!==f||e[18]!==h?(N=!h()&&C&&f,e[16]=C,e[17]=f,e[18]=h,e[19]=N):N=e[19];const L=N;let y;return e[20]!==L||e[21]!==d?(y=J(M({},d),{enabled:L}),e[20]=L,e[21]=d,e[22]=y):y=e[22],y}function vt(o){"use forget";const e=v.c(11),{loginStrategy:t}=o,s=se(),i=_s(s,{loginStrategy:t}),a=bs(s,{loginStrategy:t}),l=xs(s,{loginStrategy:t}),d=Ss(s,{loginStrategy:t});let m;e[0]!==t?(m={loginStrategy:t},e[0]=t,e[1]=m):m=e[1];const r=ys(m),c=[i,a,l,d,r].filter(Ns);let _;e[2]===Symbol.for("react.memo_cache_sentinel")?(_=["google","apple","microsoft","email","phone_number"],e[2]=_):_=e[2];const g=_;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=(x,f)=>g.indexOf(x.name)-g.indexOf(f.name),e[3]=u):u=e[3];const p=c.sort(u);let h;return e[4]!==l||e[5]!==d||e[6]!==i||e[7]!==a||e[8]!==r||e[9]!==p?(h={googleOption:i,microsoftOption:a,appleOption:l,emailOption:d,phoneNumberOption:r,optionsForDisplay:p},e[4]=l,e[5]=d,e[6]=i,e[7]=a,e[8]=r,e[9]=p,e[10]=h):h=e[10],h}function Ns(o){return o&&o.enabled}const Ue={existing_user:{google:"1341269548",microsoft:"111706139",apple:"730493191",email:"734083401",phone_number:"1165494509"},new_user:{google:"3866584409",microsoft:"1119573454",apple:"2197428282",email:"2201018492",phone_number:"424309338"}},Lt=o=>{"use forget";const e=v.c(4),g=o,{loginStrategy:t,omitIf:s}=g,i=st(g,["loginStrategy","omitIf"]),a=s===void 0?Cs:s;let l;e[0]!==t?(l={loginStrategy:t},e[0]=t,e[1]=l):l=e[1];const{optionsForDisplay:d}=vt(l),m=function(p){return p.filter(h=>!a(h)).map(h=>n.jsx(es.Fragment,{children:i[h.name](h)},h.name))},r="flex flex-col gap-3",c=m(d);let _;return e[2]!==c?(_=n.jsx("div",{className:r,children:c}),e[2]=c,e[3]=_):_=e[3],_};function Cs(){return!1}const Et=ee.createContext(void 0),Ze=()=>{"use forget";const o=ee.useContext(Et);if(!o)throw new Error("useAuthFormStyleContext must be used within AuthFormStyleProvider");return o},Pt=o=>{"use forget";const e=v.c(3),{value:t,children:s}=o;let i;return e[0]!==s||e[1]!==t?(i=n.jsx(Et.Provider,{value:t,children:s}),e[0]=s,e[1]=t,e[2]=i):i=e[2],i},wt=o=>{"use forget";const e=v.c(10),{children:t,className:s}=o,{shouldUseSmallerButton:i}=Ze(),a=i?"my-0.5":"my-2";let l;e[0]!==s||e[1]!==a?(l=oe("grid grid-cols-[1fr_max-content_1fr] items-center dark:text-gray-500",a,s),e[0]=s,e[1]=a,e[2]=l):l=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=n.jsx("div",{className:"h-px bg-[var(--border-heavy)]"}),e[3]=d):d=e[3];let m;e[4]!==t?(m=n.jsx("div",{className:"mx-6 text-[13px] font-medium uppercase",children:t}),e[4]=t,e[5]=m):m=e[5];let r;e[6]===Symbol.for("react.memo_cache_sentinel")?(r=n.jsx("div",{className:"h-px bg-[var(--border-heavy)]","gray-500":!0}),e[6]=r):r=e[6];let c;return e[7]!==l||e[8]!==m?(c=n.jsxs("div",{className:l,children:[d,m,r]}),e[7]=l,e[8]=m,e[9]=c):c=e[9],c};function Os(o){"use forget";var h;const e=v.c(40),{user:t,clearUser:s,location:i}=o,a=se(),l=ee.useRef(null),[d,m]=yt(!0);let r;e[0]!==s||e[1]!==i?(r=x=>{x.stopPropagation(),s(),Te.addAction("login-form.profile-card.remove-user"),Q.logAuthModalProfileCardRemoval({location:i})},e[0]=s,e[1]=i,e[2]=r):r=e[2];const c=r;let _;e:{if(!t){_=null;break e}let x;e[3]!==a||e[4]!==i||e[5]!==m||e[6]!==t.email||e[7]!==t.phoneNumber?(x=()=>{var k;const E=(k=t.email)!=null?k:t.phoneNumber;m(!0),Bt(a,{additionalAuthParams:{screen_hint:"login_or_signup",login_hint:E},callback:Y=>{Te.addAction("login-form.profile-card.login"),Q.logAuthModalProfileCardLogin({location:i})},skipLoginModal:!1})},e[3]=a,e[4]=i,e[5]=m,e[6]=t.email,e[7]=t.phoneNumber,e[8]=x):x=e[8];const f=x;let C;e[9]!==f?(C=E=>{E.key==="Enter"&&f()},e[9]=f,e[10]=C):C=e[10];const N=C;let L;e[11]!==t.name||e[12]!==t.picture?(L=n.jsx("div",{className:"me-2 shrink-0",children:n.jsx($t,{user:{picture:t.picture,name:t.name},size:"large"})}),e[11]=t.name,e[12]=t.picture,e[13]=L):L=e[13];let y;e[14]!==t.name?(y=n.jsx("div",{className:"text-token-text-primary truncate text-base",children:t.name}),e[14]=t.name,e[15]=y):y=e[15];let S;e[16]!==d||e[17]!==t.email||e[18]!==t.phoneNumber?(S=d?n.jsx(U,{id:"rTrcUH",defaultMessage:"Logging in..."}):(h=t.email)!=null?h:t.phoneNumber,e[16]=d,e[17]=t.email,e[18]=t.phoneNumber,e[19]=S):S=e[19];let P;e[20]!==S?(P=n.jsx("div",{className:"text-token-text-secondary truncate text-sm",children:S}),e[20]=S,e[21]=P):P=e[21];let b;e[22]!==y||e[23]!==P?(b=n.jsxs("div",{className:"flex min-w-0 flex-col",children:[y,P]}),e[22]=y,e[23]=P,e[24]=b):b=e[24];let w;e[25]!==L||e[26]!==b?(w=n.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[L,b]}),e[25]=L,e[26]=b,e[27]=w):w=e[27];let O;e[28]!==c||e[29]!==d?(O=n.jsx("div",{className:"shrink-0",children:d?n.jsx(bt,{className:"text-token-text-tertiary"}):n.jsx(Kt,{label:n.jsx(U,{id:"6G1qdV",defaultMessage:"Remove account"}),side:"top",sideOffset:14,withArrow:!0,children:n.jsx(Ie,{type:"button",color:"ghost",onClick:c,onKeyDown:As,className:"size-10 rounded-full",children:n.jsx(Gt,{})})})}),e[28]=c,e[29]=d,e[30]=O):O=e[30];let I;e[31]!==N||e[32]!==f||e[33]!==w||e[34]!==O?(I=n.jsxs("div",{className:"btn btn-secondary flex w-full cursor-pointer items-center justify-between overflow-hidden rounded-3xl p-4 focus-visible:outline-black dark:focus-visible:outline-white",role:"button",ref:l,tabIndex:0,onClick:f,onKeyDown:N,children:[w,O]}),e[31]=N,e[32]=f,e[33]=w,e[34]=O,e[35]=I):I=e[35],_=I}const g=_;let u;e[36]!==g?(u=g&&n.jsx(Pe.div,J(M({},js),{onAnimationComplete:()=>{var x;(x=l.current)==null||x.focus()},children:g}),"profile-card"),e[36]=g,e[37]=u):u=e[37];let p;return e[38]!==u?(p=n.jsx(n.Fragment,{children:n.jsx(Xe,{mode:"wait",children:u})}),e[38]=u,e[39]=p):p=e[39],p}function As(o){return o.stopPropagation()}const js={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.22,ease:[.4,0,.2,1]}},en=o=>{"use forget";const e=v.c(57),{onSwitchToGenericLoginOrSignup:t,title:s,subtitle:i,callbackUrl:a,authorizationParams:l,isSsoOptionsVisible:d,location:m}=o,r=d===void 0?!1:d,[c,_]=ee.useState(!1);let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=()=>_(!1),e[0]=g):g=e[0],Nt(g);const{accountInfo:u,removeAccount:p}=ss(),h=se();let x;e[1]!==l||e[2]!==a||e[3]!==h?(x=Ot(h,a,l),e[1]=l,e[2]=a,e[3]=h,e[4]=x):x=e[4];const f=x;let C;e[5]!==l||e[6]!==f?(C=async V=>{_(!0),await At(f,V,l[Z],it.ACCESS_FLOW_ENTRY_POINT_LOG_BACK_IN_MODAL)},e[5]=l,e[6]=f,e[7]=C):C=e[7];const N=C,L=jt(!1);let y;e[8]!==L?(y=L(),e[8]=L,e[9]=y):y=e[9];const S=y;let P;e[10]!==N||e[11]!==c||e[12]!==S?(P=n.jsx(Lt,{loginStrategy:"existing_user",google:V=>{const{tempDisabled:z}=V;return n.jsx(we,{provider:"google",disabled:z||c,className:"".concat(S?"h-12":"h-13"," rounded-full text-base"),onClick:()=>N("google")})},microsoft:V=>{const{tempDisabled:z}=V;return n.jsx(we,{provider:"microsoft",disabled:z||c,className:"".concat(S?"h-12":"h-13"," rounded-full text-base"),onClick:()=>N("microsoft")})},apple:V=>{const{tempDisabled:z}=V;return n.jsx(we,{provider:"apple",disabled:z||c,className:"".concat(S?"h-12":"h-13"," rounded-full text-base"),onClick:()=>N("apple")})},email:vs,phone_number:Ls}),e[10]=N,e[11]=c,e[12]=S,e[13]=P):P=e[13];const b=P,w=Fe();let O;e[14]!==S?(O={shouldUseSmallerButton:S},e[14]=S,e[15]=O):O=e[15];let I;e[16]===Symbol.for("react.memo_cache_sentinel")?(I=oe("flex flex-col items-stretch gap-5 pt-0",w?"px-4 py-2":"px-6 py-10"),e[16]=I):I=e[16];let E;e[17]!==s?(E=s!=null?s:n.jsx(U,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[17]=s,e[18]=E):E=e[18];let k;e[19]!==E?(k=n.jsx("h2",{className:"text-center text-3xl font-normal",children:E}),e[19]=E,e[20]=k):k=e[20];let Y;e[21]===Symbol.for("react.memo_cache_sentinel")?(Y=oe("px-4 text-center text-base",w?"-mt-2 mb-2":"mb-4"),e[21]=Y):Y=e[21];let B;e[22]!==(u==null?void 0:u.user)||e[23]!==i?(B=i!=null?i:u!=null&&u.user?n.jsx(Pe.div,J(M({},nt),{children:n.jsx(U,{id:"logBack.subtitle.chooseAccount",defaultMessage:"Choose an account to continue."})}),"subtitle"):n.jsx(Pe.div,J(M({},nt),{children:n.jsx(U,{id:"logBack.subtitle.genericSubtitle",defaultMessage:"Log in to use smarter models, create images, and save your chats."})}),"subtitle-generic"),e[22]=u==null?void 0:u.user,e[23]=i,e[24]=B):B=e[24];let D;e[25]!==B?(D=n.jsx("div",{className:Y,children:n.jsx(Xe,{mode:"wait",children:B})}),e[25]=B,e[26]=D):D=e[26];const K=u==null?void 0:u.user;let G;e[27]!==m||e[28]!==p||e[29]!==K?(G=n.jsx(Os,{user:K,clearUser:p,location:m}),e[27]=m,e[28]=p,e[29]=K,e[30]=G):G=e[30];let W;e[31]!==(u==null?void 0:u.user)?(W=(u==null?void 0:u.user)&&n.jsx(Pe.div,J(M({},nt),{children:n.jsx(wt,{className:"my-1!",children:n.jsx(U,{id:"logBackForm.or",defaultMessage:"OR"})})})),e[31]=u==null?void 0:u.user,e[32]=W):W=e[32];let F;e[33]!==W?(F=n.jsx(Xe,{mode:"wait",children:W}),e[33]=W,e[34]=F):F=e[34];let T;e[35]!==c||e[36]!==r||e[37]!==t||e[38]!==S?(T=!r&&n.jsx("div",{className:"flex flex-col gap-3",children:[{key:"logBack.loginToAnotherAccount",node:n.jsx(U,{id:"logBack.loginToAnotherAccount",defaultMessage:"Log in to another account"})},{key:"logBack.createAccount",node:n.jsx(U,{id:"logBack.createAccount",defaultMessage:"Create account"})}].map(V=>{const{key:z,node:ie}=V;return n.jsx(Ie,{type:"button",onClick:()=>t(!1),className:"".concat(S?"h-12":"h-13"," rounded-full text-base"),color:"secondary",disabled:c,children:ie},z)})}),e[35]=c,e[36]=r,e[37]=t,e[38]=S,e[39]=T):T=e[39];let $;e[40]!==c||e[41]!==r||e[42]!==t||e[43]!==S||e[44]!==b?($=r&&n.jsxs(n.Fragment,{children:[n.jsx(Ie,{type:"button",onClick:()=>t(!0),className:"-mb-2 ".concat(S?"h-12":"h-13"," rounded-full text-base"),color:"secondary",disabled:c,children:n.jsx(U,{id:"logBack.loginOrCreateAccount",defaultMessage:"Log in or create account"})}),b]}),e[40]=c,e[41]=r,e[42]=t,e[43]=S,e[44]=b,e[45]=$):$=e[45];let R;e[46]===Symbol.for("react.memo_cache_sentinel")?(R=n.jsx("input",{type:"text",className:"-mt-4 h-0 w-0 border-0 p-0",tabIndex:0,autoFocus:!0,id:"log-back-focus-input"}),e[46]=R):R=e[46];let q;e[47]!==k||e[48]!==D||e[49]!==G||e[50]!==F||e[51]!==T||e[52]!==$?(q=n.jsxs("div",{className:I,"data-testid":"log-back-form",children:[k,D,G,F,T,$,R]}),e[47]=k,e[48]=D,e[49]=G,e[50]=F,e[51]=T,e[52]=$,e[53]=q):q=e[53];let X;return e[54]!==q||e[55]!==O?(X=n.jsx(Pt,{value:O,children:q}),e[54]=q,e[55]=O,e[56]=X):X=e[56],X},nt={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.18,ease:[.4,0,.2,1]}};function vs(){return null}function Ls(){return null}function Es(){return ms(gs,arguments)}const Ps=o=>{"use forget";var g;const e=v.c(14);let t,s,i;e[0]!==o?(g=o,{className:t,isPending:s}=g,i=st(g,["className","isPending"]),e[0]=o,e[1]=t,e[2]=s,e[3]=i):(t=e[1],s=e[2],i=e[3]);const{shouldUseSmallerButton:a}=Ze();let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(U,{id:"continueButton.continue",defaultMessage:"Continue"}),e[4]=l):l=e[4];const d=l,m="mt-1.5 ".concat(a?"h-12":"h-13"," w-full rounded-full text-base");let r;e[5]!==t||e[6]!==m?(r=oe(m,t),e[5]=t,e[6]=m,e[7]=r):r=e[7];let c;e[8]!==s?(c=s?n.jsxs(n.Fragment,{children:[n.jsx(bt,{className:"text-base"}),n.jsx("span",{className:"sr-only",children:d})]}):d,e[8]=s,e[9]=c):c=e[9];let _;return e[10]!==i||e[11]!==r||e[12]!==c?(_=n.jsx(Ie,J(M({type:"submit",onClick:ws,className:r},i),{children:c})),e[10]=i,e[11]=r,e[12]=c,e[13]=_):_=e[13],_};function ws(){return Te.addAction("login-form.continue")}const Is=o=>{"use forget";const e=v.c(31),{usernameKind:t,emailProps:s,phoneProps:i,emailField:a,phoneNumberField:l,disabled:d,authSessionLoggingId:m,usernameKindSwitching$:r,exitUsernameKindSwitching:c,usernameKindSwitched:_}=o,g=St(),u=Fs(),{shouldUseSmallerButton:p}=Ze();let h;e[0]!==g?(h=g.formatMessage({id:"dynamicUsernameInput.email",defaultMessage:"Email address"}),e[0]=g,e[1]=h):h=e[1];const x=h,f=Ht(r);let C;e[2]===Symbol.for("react.memo_cache_sentinel")?(C={duration:.1},e[2]=C):C=e[2];let N;e[3]===Symbol.for("react.memo_cache_sentinel")?(N={opacity:C,height:{duration:.22,ease:"easeInOut"}},e[3]=N):N=e[3];const L=N;let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y={initial:{opacity:0,height:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:"auto"},transition:L,layout:!0},e[4]=y):y=e[4];const S=y;let P;e[5]===Symbol.for("react.memo_cache_sentinel")?(P={initial:{opacity:0,height:60},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:60},transition:L,layout:!0},e[5]=P):P=e[5];const b=P;let w;e[6]!==c?(w=function(){c()},e[6]=c,e[7]=w):w=e[7];const O=w;let I;e[8]!==m?(I=()=>Q.logAuthModalEmailTyped(m),e[8]=m,e[9]=I):I=e[9];const E=ut(I);let k;e[10]!==m?(k=()=>Q.logAuthModalPhoneNumberTyped(m),e[10]=m,e[11]=k):k=e[11];const Y=ut(k);let B;e[12]===Symbol.for("react.memo_cache_sentinel")?(B=Fe(),e[12]=B):B=e[12];const D=B;let K;e[13]!==d||e[14]!==a||e[15]!==x||e[16]!==s||e[17]!==g||e[18]!==E||e[19]!==Y||e[20]!==l||e[21]!==i||e[22]!==p||e[23]!==u||e[24]!==t||e[25]!==_||e[26]!==f?(K=t==="email"?n.jsx(Pe.div,J(M({className:"-m-1 overflow-hidden p-1"},f?M({},S):{}),{children:n.jsx(ft,{disabled:D&&!_,children:W=>{var T;const{ref:F}=W;return n.jsx(cs,J(M({ref:F,name:a.name,value:a.state.value,onChange:$=>{a.handleChange($.target.value),E()},inputClassName:"w-full rounded-full! text-base! sm:text-base! px-5! py-3! ".concat(p?"h-12!":"h-13!"),error:(T=a.state.meta.errors.join(","))!=null?T:void 0,showErrorIcon:!0,ariaLabel:x,placeholder:x,className:"focus-within:border-token-border-heavy! rounded-full! border-[var(--border-heavy)] p-0! px-0! py-0! focus-within:ring-1",type:"email",autoComplete:"email",autoFocus:!D},s),{disabled:d}))}})}),"email"):t==="phone_number"?n.jsx(Pe.div,J(M({className:"-m-1 overflow-hidden p-1"},f?M({},b):{}),{children:n.jsx(ft,{children:W=>{var T;const{ref:F}=W;return n.jsx(us,J(M({nativeInputRef:F,countries:u,shouldUseSmallerButton:p,value:l.state.value,setValue:$=>{l.handleChange($),Y()},error:(T=l.state.meta.errors.join(","))!=null?T:void 0,label:g.formatMessage({id:"dynamicUsernameInput.phone",defaultMessage:"Phone number"})},i),{disabled:d,appearance:{phoneInputStyle:"cohesive"}}))}})}),"phone_number"):null,e[13]=d,e[14]=a,e[15]=x,e[16]=s,e[17]=g,e[18]=E,e[19]=Y,e[20]=l,e[21]=i,e[22]=p,e[23]=u,e[24]=t,e[25]=_,e[26]=f,e[27]=K):K=e[27];let G;return e[28]!==O||e[29]!==K?(G=n.jsx("div",{className:"relative",children:n.jsx(Xe,{mode:"wait",initial:!1,onExitComplete:O,children:K})}),e[28]=O,e[29]=K,e[30]=G):G=e[30],G},ks=Rt({countryCodes:Vt(Yt())});function Fs(){"use forget";const o=v.c(4),e=se();let t;o[0]!==e?(t=ke(e,"1063781658",ks,{countryCodes:[]}),o[0]=e,o[1]=t):t=o[1];const{countryCodes:s}=t;let i;return o[2]!==s?(i=s==null?void 0:s.filter(Ts),o[2]=s,o[3]=i):i=o[3],i}function Ts(o){return Es(o)}const ft=o=>{"use forget";const e=v.c(7),{children:t,disabled:s}=o,i=s===void 0?!1:s,a=ee.useRef(null);let l,d;e[0]!==i?(l=()=>{if(a.current&&!i)return ds(a.current)},d=[i],e[0]=i,e[1]=l,e[2]=d):(l=e[1],d=e[2]),ee.useEffect(l,d);let m;e[3]!==t?(m=t({ref:a}),e[3]=t,e[4]=m):m=e[4];let r;return e[5]!==m?(r=n.jsx(n.Fragment,{children:m}),e[5]=m,e[6]=r):r=e[6],r};function Ms(o,e){const[t,s]=ts(),i=Object.fromEntries(t);return[_t(i,o)?i:e,s,(r,c)=>{s(M(M({},Object.fromEntries(t)),r),c)}]}const Us=zt(["email","phone_number"]),gt="email",Ds=qt({usernameKind:Us});function Ws(o){"use forget";const e=v.c(3),{allowPhone:t}=o;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={usernameKind:gt},e[0]=s):s=e[0];const[i]=Ms(Ds,s),[a,l]=ee.useState(t?i.usernameKind:gt);let d;return e[1]!==a?(d=[a,l],e[1]=a,e[2]=d):d=e[2],d}const pt=o=>{"use forget";const e=v.c(20),{usernameKind:t,setUsernameKind:s,form:i,align:a,disabled:l,authSessionLoggingId:d}=o,m=a===void 0?"left":a;let r;e[0]!==i||e[1]!==s?(r=xt(async u=>{await s(u),await new Promise($s),i.reset()},50,{leading:!0,trailing:!1}),e[0]=i,e[1]=s,e[2]=r):r=e[2];const c=r;let _;e[3]!==d||e[4]!==c?(_=async(u,p)=>{Q.logUsernameKindSwitched(d,u),Te.addAction(p),await c(u)},e[3]=d,e[4]=c,e[5]=_):_=e[5];const g=_;switch(t){case"email":{let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=n.jsx(U,{id:"logIn.continueWithPhone",defaultMessage:"Continue with phone"}),e[6]=u):u=e[6];let p;e[7]!==g?(p=()=>g("phone_number","login-form.switch_to_phone"),e[7]=g,e[8]=p):p=e[8];let h;return e[9]!==m||e[10]!==l||e[11]!==p?(h=n.jsx(ht,{size:17,text:u,icon:ns,onClick:p,align:m,disabled:l}),e[9]=m,e[10]=l,e[11]=p,e[12]=h):h=e[12],h}case"phone_number":{let u;e[13]===Symbol.for("react.memo_cache_sentinel")?(u=n.jsx(U,{id:"logIn.continueWithEmail",defaultMessage:"Continue with email"}),e[13]=u):u=e[13];let p;e[14]!==g?(p=()=>g("email","login-form.switch_to_email"),e[14]=g,e[15]=p):p=e[15];let h;return e[16]!==m||e[17]!==l||e[18]!==p?(h=n.jsx(ht,{size:19,text:u,icon:ps,onClick:p,align:m,disabled:l}),e[16]=m,e[17]=l,e[18]=p,e[19]=h):h=e[19],h}}},ht=o=>{"use forget";const e=v.c(9),{text:t,icon:s,onClick:i,size:a,disabled:l}=o,{shouldUseSmallerButton:d}=Ze(),m="".concat(d?"h-12":"h-13"," rounded-full text-base");let r;e[0]!==s||e[1]!==a?(r=n.jsx("span",{className:"relative grid h-4 w-4 place-items-center",children:n.jsx("span",{className:"absolute",children:n.jsx(s,{width:a,height:a})})}),e[0]=s,e[1]=a,e[2]=r):r=e[2];let c;return e[3]!==l||e[4]!==i||e[5]!==m||e[6]!==r||e[7]!==t?(c=n.jsxs(Ie,{as:"button",type:"button",onClick:i,className:m,contentWrapperClassName:"gap-2",color:"secondary",disabled:l,children:[r,t]}),e[3]=l,e[4]=i,e[5]=m,e[6]=r,e[7]=t,e[8]=c):c=e[8],c};function $s(o){return setTimeout(o,300)}const tn=o=>{"use forget";const e=v.c(121),{onClose:t,title:s,subtitle:i,callbackUrl:a,authorizationParams:l,isStayLoggedOutVisible:d,isUsernameOnTop:m}=o,r=m===void 0?!1:m,c=St();let _;e[0]===Symbol.for("react.memo_cache_sentinel")?(_={loginStrategy:"existing_user"},e[0]=_):_=e[0];const{phoneNumberOption:g,emailOption:u,optionsForDisplay:p}=vt(_),h=p.length>1;let x;e[1]!==g.enabled?(x={allowPhone:g.enabled},e[1]=g.enabled,e[2]=x):x=e[2];const[f,C]=Ws(x),[N,L]=ee.useState(!1),y=u.tempDisabled,S=g.tempDisabled,P=f==="email"&&y||f==="phone_number"&&S,[b,w]=ee.useState(!1);let O;e[3]===Symbol.for("react.memo_cache_sentinel")?(O=()=>w(!1),e[3]=O):O=e[3],Nt(O);const I=se();let E;e[4]!==I?(E=Xt(I),e[4]=I,e[5]=E):E=e[5];const[k,Y]=yt(E),B=ee.useId(),D=se();let K;e[6]!==D?(K=Je(D,"4038887252").get("enabled",!1),e[6]=D,e[7]=K):K=e[7];const G=K;let W;e[8]!==l||e[9]!==a||e[10]!==D?(W=Ot(D,a,l),e[8]=l,e[9]=a,e[10]=D,e[11]=W):W=e[11];const F=W;let T;e[12]!==l||e[13]!==F?(T=async A=>{w(!0),await At(F,A,l[Z],it.ACCESS_FLOW_ENTRY_POINT_LOGIN_MODAL)},e[12]=l,e[13]=F,e[14]=T):T=e[14];const $=T,R=as(!1);let q;e[15]!==R?(q=xt(()=>R.set(!1),800,{leading:!1,trailing:!0}),e[15]=R,e[16]=q):q=e[16];const X=q;let V;e[17]!==C||e[18]!==X||e[19]!==R?(V=async A=>{L(!0),Fe()||(R.set(!0),await new Promise(Bs),X()),C(A)},e[17]=C,e[18]=X,e[19]=R,e[20]=V):V=e[20];const z=Jt(V);let ie;e[21]===Symbol.for("react.memo_cache_sentinel")?(ie={email:"",phoneNumber:""},e[21]=ie):ie=e[21];let le;e[22]!==l||e[23]!==Y||e[24]!==F||e[25]!==f?(le=async A=>{const{value:j}=A;w(!0),Y(!0),await F({screen_hint:"login_or_signup",login_hint:f==="email"?j.email:j.phoneNumber},()=>{Q.logLoginModalContinueAction(l[Z],Ee.ACCESS_FLOW_USER_ACTION_TYPE_CONTINUE,qe.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL,f==="email"?mt.ACCESS_FLOW_FIELD_EMAIL:mt.ACCESS_FLOW_FIELD_PHONE)})},e[22]=l,e[23]=Y,e[24]=F,e[25]=f,e[26]=le):le=e[26];let ae;e[27]!==l||e[28]!==c||e[29]!==f?(ae={onSubmit:A=>{const{value:j}=A,ne={};return j.email=j.email.trim(),j.phoneNumber=j.phoneNumber.trim(),f==="email"?j.email?os.test(j.email)||(ne.email=c.formatMessage({id:"loginForm.emailInvalid",defaultMessage:"Email is not valid."})):ne.email=c.formatMessage({id:"loginForm.emailRequired",defaultMessage:"Email is required."}):f==="phone_number"&&(j.phoneNumber?fs(j.phoneNumber)||(ne.phoneNumber=c.formatMessage({id:"loginForm.phoneNumberInvalid",defaultMessage:"Phone number is not valid."})):ne.phoneNumber=c.formatMessage({id:"loginForm.phoneNumberRequired",defaultMessage:"Phone number is required."})),(ne.email||ne.phoneNumber)&&Q.logAuthModalInvalidUsername(l[Z],{usernameKind:f,username:f==="email"?j.email:j.phoneNumber}),{fields:ne}}},e[27]=l,e[28]=c,e[29]=f,e[30]=ae):ae=e[30];let De;e[31]!==le||e[32]!==ae?(De={defaultValues:ie,onSubmit:le,validators:ae},e[31]=le,e[32]=ae,e[33]=De):De=e[33];const H=rs(De),Qe=jt(!1);let We;e[34]!==Qe?(We=Qe(),e[34]=Qe,e[35]=We):We=e[35];const te=We;let re;e[36]!==f?(re=A=>f===A.name,e[36]=f,e[37]=re):re=e[37];let ce,me,ue;e[38]!==$||e[39]!==b||e[40]!==te?(ce=A=>{const{tempDisabled:j}=A;return n.jsx(we,{provider:"google",disabled:j||b,className:"".concat(te?"h-12":"h-13"," rounded-full text-base"),onClick:()=>$("google")})},me=A=>{const{tempDisabled:j}=A;return n.jsx(we,{provider:"microsoft",disabled:j||b,className:"".concat(te?"h-12":"h-13"," rounded-full text-base"),onClick:()=>$("microsoft")})},ue=A=>{const{tempDisabled:j}=A;return n.jsx(we,{provider:"apple",disabled:j||b,className:"".concat(te?"h-12":"h-13"," rounded-full text-base"),onClick:()=>$("apple")})},e[38]=$,e[39]=b,e[40]=te,e[41]=ce,e[42]=me,e[43]=ue):(ce=e[41],me=e[42],ue=e[43]);let de,fe;e[44]!==l||e[45]!==b||e[46]!==z||e[47]!==H||e[48]!==f?(de=()=>n.jsx(pt,{usernameKind:f,setUsernameKind:z,form:H,disabled:b,authSessionLoggingId:l[Z]}),fe=()=>n.jsx(pt,{usernameKind:f,setUsernameKind:z,form:H,disabled:b,authSessionLoggingId:l[Z]}),e[44]=l,e[45]=b,e[46]=z,e[47]=H,e[48]=f,e[49]=de,e[50]=fe):(de=e[49],fe=e[50]);let $e;e[51]!==re||e[52]!==ce||e[53]!==me||e[54]!==ue||e[55]!==de||e[56]!==fe?($e=n.jsx(Lt,{loginStrategy:"existing_user",omitIf:re,google:ce,microsoft:me,apple:ue,email:de,phone_number:fe}),e[51]=re,e[52]=ce,e[53]=me,e[54]=ue,e[55]=de,e[56]=fe,e[57]=$e):$e=e[57];const Be=$e;let ge;e[58]!==l||e[59]!==X||e[60]!==b||e[61]!==y||e[62]!==S||e[63]!==H.Field||e[64]!==f||e[65]!==N||e[66]!==R?(ge=A=>n.jsx(H.Field,{name:"phoneNumber",children:j=>n.jsx(Is,{usernameKind:f,emailProps:{disabled:y},phoneProps:{disabled:S},emailField:A,phoneNumberField:j,disabled:b,authSessionLoggingId:l[Z],usernameKindSwitching$:R,exitUsernameKindSwitching:X,usernameKindSwitched:N})}),e[58]=l,e[59]=X,e[60]=b,e[61]=y,e[62]=S,e[63]=H.Field,e[64]=f,e[65]=N,e[66]=R,e[67]=ge):ge=e[67];let pe;e[68]!==ge||e[69]!==H.Field?(pe=n.jsx(H.Field,{name:"email",children:ge}),e[68]=ge,e[69]=H.Field,e[70]=pe):pe=e[70];const et=P||b;let he;e[71]!==k||e[72]!==et?(he=n.jsx(Ps,{color:"primary",disabled:et,isPending:k}),e[71]=k,e[72]=et,e[73]=he):he=e[73];let _e;e[74]!==b||e[75]!==t||e[76]!==G?(_e=G&&n.jsx(Ie,{as:"link",to:"/business-free-workspace",color:"secondary",className:"border-none no-underline hover:bg-transparent hover:underline",icon:is,disabled:b,onClick:()=>t("work-email-button"),children:n.jsx(U,{id:"loginForm.continueWithWorkEmail",defaultMessage:"Continue with a work email"})}),e[74]=b,e[75]=t,e[76]=G,e[77]=_e):_e=e[77];let Ke;e[78]!==pe||e[79]!==he||e[80]!==_e?(Ke=n.jsxs(n.Fragment,{children:[pe,he,_e]}),e[78]=pe,e[79]=he,e[80]=_e,e[81]=Ke):Ke=e[81];const Ge=Ke;let Re;e[82]===Symbol.for("react.memo_cache_sentinel")?(Re=n.jsx(wt,{children:n.jsx(U,{id:"loginForm.or",defaultMessage:"OR"})}),e[82]=Re):Re=e[82];const lt=Re,It=Fe();let be;e[83]!==te?(be={shouldUseSmallerButton:te},e[83]=te,e[84]=be):be=e[84];let Ve;e[85]===Symbol.for("react.memo_cache_sentinel")?(Ve=oe("flex flex-col items-stretch gap-5 pb-10",It?"px-4":"px-6"),e[85]=Ve):Ve=e[85];let xe;e[86]!==s?(xe=s!=null?s:n.jsx(U,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[86]=s,e[87]=xe):xe=e[87];let Se;e[88]!==xe?(Se=n.jsx("h2",{className:"text-center text-3xl font-normal",children:xe}),e[88]=xe,e[89]=Se):Se=e[89];const tt=te?"mb-1.5":"mb-4";let ye;e[90]!==tt?(ye=oe("px-4 text-center text-base",tt),e[90]=tt,e[91]=ye):ye=e[91];let Ne;e[92]!==i?(Ne=i!=null?i:n.jsx(U,{id:"loginForm.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."}),e[92]=i,e[93]=Ne):Ne=e[93];let Ce;e[94]!==ye||e[95]!==Ne?(Ce=n.jsx("p",{className:ye,children:Ne}),e[94]=ye,e[95]=Ne,e[96]=Ce):Ce=e[96];let Oe;e[97]!==H?(Oe=A=>{A.preventDefault(),H.handleSubmit()},e[97]=H,e[98]=Oe):Oe=e[98];let Ae;e[99]!==h||e[100]!==r||e[101]!==Be||e[102]!==Ge?(Ae=r?n.jsxs(n.Fragment,{children:[Ge,h&&n.jsxs(n.Fragment,{children:[lt,Be]})]}):n.jsxs(n.Fragment,{children:[h&&n.jsxs(n.Fragment,{children:[Be,lt]}),Ge]}),e[99]=h,e[100]=r,e[101]=Be,e[102]=Ge,e[103]=Ae):Ae=e[103];let je;e[104]!==l||e[105]!==b||e[106]!==d||e[107]!==t?(je=d&&n.jsx("div",{className:"text-center",children:n.jsx("a",{href:"#",className:oe("text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",b&&"opacity-50"),onClick:A=>{A.preventDefault(),Q.logEventWithStatsig("No Auth Welcome Modal Stay Logged Out Link Clicked","chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked",{location:"No Auth Login Modal",[Z]:l[Z]}),Te.addAction("chatgpt_auth_modal_stay_logged_out"),Q.logStructuredEvent(Zt,{authSessionLoggingId:l[Z],actionType:Ee.ACCESS_FLOW_USER_ACTION_TYPE_EXIT_STAY_LOGGED_OUT_LINK_CLICKED,page:qe.ACCESS_FLOW_PAGE_TYPE_CHATGPT_WEB_LOGIN_MODAL}),t("stay-logged-out-link")},"data-testid":"dismiss-welcome",children:n.jsx(U,{id:"LoginForm.stayLoggedOut",defaultMessage:"Stay logged out"})})}),e[104]=l,e[105]=b,e[106]=d,e[107]=t,e[108]=je):je=e[108];let ve;e[109]!==B||e[110]!==Oe||e[111]!==Ae||e[112]!==je?(ve=n.jsxs("form",{className:"flex flex-col gap-4","aria-labelledby":B,autoComplete:"on",onSubmit:Oe,noValidate:!0,children:[Ae,je]}),e[109]=B,e[110]=Oe,e[111]=Ae,e[112]=je,e[113]=ve):ve=e[113];let Le;e[114]!==Se||e[115]!==Ce||e[116]!==ve?(Le=n.jsxs("div",{className:Ve,"data-testid":"login-form",children:[Se,Ce,ve]}),e[114]=Se,e[115]=Ce,e[116]=ve,e[117]=Le):Le=e[117];let Ye;return e[118]!==be||e[119]!==Le?(Ye=n.jsx(Pt,{value:be,children:Le}),e[118]=be,e[119]=Le,e[120]=Ye):Ye=e[120],Ye},sn={initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.22,ease:[.4,0,.2,1]}};function Bs(o){return setTimeout(o,50)}export{Ct as L,en as a,tn as b,sn as c,Qs as g};
//# sourceMappingURL=e8hnqp1sjckpw011.js.map

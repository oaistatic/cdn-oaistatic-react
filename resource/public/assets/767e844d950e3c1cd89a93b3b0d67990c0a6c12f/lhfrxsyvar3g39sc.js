const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/o9yk41rn9fs3l9gj.js","assets/mw35uwhq4g8r9eam.js","assets/d0xa318sl7ywi0za.js","assets/root-kavs8piy.css","assets/g2euln7v5pbm31qa.js","assets/conversation-small-lq38g8zw.css","assets/ldtpmsnzn9ens47o.js","assets/ohau9tqj1fpdibg0.js","assets/iknugp00locgtve5.js","assets/h1em0bjkpkjv8ykw.js","assets/cv4afpu20gjb9dll.js","assets/h4yh1661qhhbu5v5.js","assets/hu1bt0oauegdhua6.js","assets/baz4b8nlf8t2lb95.js"])))=>i.map(i=>d[i]);
import{_ as ke,c as K,j as s,M as j,h as oe,r as ye,y as He}from"./mw35uwhq4g8r9eam.js";import{be as Se,u as je,J as Ue,cw as he,fG as ge,aA as re,bq as Ee,lR as $e,aL as Oe,au as Te,er as Ae}from"./d0xa318sl7ywi0za.js";import{W as Ie}from"./msmm4s2uspal1mht.js";import{a as _e,c as we}from"./sbrp17m0bwny70wh.js";import{at as We,bd as F,m_ as ze}from"./g2euln7v5pbm31qa.js";import{p as Ge}from"./og1ftjb0zeoepdz3.js";import{u as qe}from"./mozvd7p01wv3j6u2.js";import{M as Ne}from"./fa78ilwaaz4m4hwc.js";import{E as Ve,F as Qe,G as Ye,z as Ke}from"./ldtpmsnzn9ens47o.js";import{f as Je,i as Ze,a as Xe}from"./hdw58d7g4tx8n6s4.js";import{U as et,a as tt}from"./q1et0viq5isidwe6.js";import"./dtmprrbw2fxa7u08.js";import"./j6o92bx1q4qhetyv.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./cvl54rj7bbx1877e.js";import"./i8gmt89kig8ue44v.js";import"./dejzmw8nrz6tr491.js";import"./baz4b8nlf8t2lb95.js";import"./e5bg4yzr7nht9sxr.js";import"./kubdgxu3crk3gqem.js";import"./kne35xckmmfq3xx6.js";import"./c340ncgh31fwqkpk.js";import"./of0vtq1gcmd3mc3z.js";import"./m4z0737cb20mwzwc.js";import"./ddina39kz3r81pp7.js";import"./ksb30nvrqfrocrgu.js";import"./kx64af29hscb23w7.js";import"./w3hi9hzc7twqpn11.js";import"./j29baj0apaw4vezi.js";import"./m3aipoogd94oudzg.js";import"./gb86rk5iguj309wb.js";import"./ee6pijsbu8dfevmi.js";import"./galyil7vygq0i5a6.js";import"./hwa6pbq6i57ntwuh.js";import"./mfq2eda4qxrcz3ws.js";import"./m9dg467qzmmahw21.js";import"./o4syhzyam6fzccjl.js";import"./e9wj7nd5g5h0l9yg.js";import"./ohau9tqj1fpdibg0.js";import"./iknugp00locgtve5.js";import"./h1em0bjkpkjv8ykw.js";import"./cv4afpu20gjb9dll.js";import"./h4yh1661qhhbu5v5.js";import"./hu1bt0oauegdhua6.js";const st=Se(()=>ke(()=>import("./o9yk41rn9fs3l9gj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>t.CodexCreditPurchaseModal));function Pe(t){return Math.floor(Number(t!=null?t:0))}function Be(t){return new Intl.NumberFormat(void 0,{minimumFractionDigits:0,maximumFractionDigits:0,maximumSignificantDigits:10}).format(Pe(t))}function at(t){"use forget";var S,E,B,U,O,R,P,c;const e=K.c(27),{creditDetails:a}=t,i=_e(),r=we(),o=je(),u=Ue(o,"1823130936"),m=a==null?void 0:a.balance;let h;e[0]!==m?(h=Pe(m),e[0]=m,e[1]=h):h=e[1];const l=h,n=a==null?void 0:a.balance;let x;e[2]!==n?(x=Be(n),e[2]=n,e[3]=x):x=e[3];const b=x;if(!u||!i&&!r)return null;let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:s.jsx(j,{id:"wham.usageDashboard.metric.rcreditsRemainingLabel",defaultMessage:"Credits remaining"})}),e[4]=p):p=e[4];let f;e[5]!==o?(f=s.jsxs("div",{className:"flex w-full items-center justify-between",children:[p,s.jsx(re,{onClick:()=>Ee(o,st),size:"small",icon:We})]}),e[5]=o,e[6]=f):f=e[6];let y;e[7]!==(a==null?void 0:a.unlimited)||e[8]!==b?(y=a!=null&&a.unlimited?s.jsx(j,{id:"wham.usageDashboard.metric.creditsUnlimited",defaultMessage:"Unlimited"}):b,e[7]=a==null?void 0:a.unlimited,e[8]=b,e[9]=y):y=e[9];let C;e[10]!==y?(C=s.jsx("div",{className:"text-token-text-primary flex items-baseline gap-1",children:s.jsx("span",{className:"text-2xl font-semibold",children:y})}),e[10]=y,e[11]=C):C=e[11];let w;e[12]!==f||e[13]!==C?(w=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("header",{className:"flex w-full flex-col gap-1",children:[f,C]})}),e[12]=f,e[13]=C,e[14]=w):w=e[14];let M;e[15]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(j,{id:"wham.usageDashboard.metric.creditsUsageSubtitle",defaultMessage:"Use credits to send messages beyond your plan limit"}),e[15]=M):M=e[15];let _;e[16]!==l||e[17]!==a?(_=l!==0&&(a==null?void 0:a.approx_local_messages)&&(a==null?void 0:a.approx_cloud_messages)&&s.jsx(he,{label:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("p",{children:s.jsx(j,{id:"wham.usageDashboard.metric.creditsUsageTooltip",defaultMessage:"From remaining credits"})}),s.jsx("p",{children:s.jsx(j,{id:"wham.usageDashboard.metric.creditsLocalUsageTooltip",defaultMessage:"Local: ~{messagesLowerBound}-{messagesUpperBound} messages",values:{messagesLowerBound:(E=(S=a.approx_local_messages)==null?void 0:S[0])!=null?E:0,messagesUpperBound:(U=(B=a.approx_local_messages)==null?void 0:B[1])!=null?U:0}})}),s.jsx("p",{children:s.jsx(j,{id:"wham.usageDashboard.metric.creditsCloudUsageTooltip",defaultMessage:"Cloud: ~{messagesLowerBound}-{messagesUpperBound} messages",values:{messagesLowerBound:(R=(O=a.approx_cloud_messages)==null?void 0:O[0])!=null?R:0,messagesUpperBound:(c=(P=a.approx_cloud_messages)==null?void 0:P[1])!=null?c:0}})})]}),children:s.jsx("span",{className:"ms-1 text-base font-normal",children:s.jsx(ge,{className:"inline-block size-4"})})}),e[16]=l,e[17]=a,e[18]=_):_=e[18];let N;e[19]!==_?(N=s.jsxs("span",{children:[M,_]}),e[19]=_,e[20]=N):N=e[20];let d;e[21]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx("span",{className:"bg-token-border-subtle mx-2 inline-block h-1 w-1 rounded-full","aria-hidden":!0}),e[21]=d):d=e[21];let g;e[22]!==N?(g=s.jsxs("div",{className:"text-token-text-tertiary flex items-center gap-1 text-xs",children:[N,d]}),e[22]=N,e[23]=g):g=e[23];let D;return e[24]!==g||e[25]!==w?(D=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-4 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[w,g]}),e[24]=g,e[25]=w,e[26]=D):D=e[26],D}const fe={web:{label:"Cloud",color:"#3A7DE8"},cli:{label:"CLI",color:"#2A5EB1"},vscode:{label:"IDE",color:"#EF9262"},github_turn:{label:"GitHub Turn",color:"#BB5926"},github_code_review:{label:"GitHub Code Review",color:"#D47C3D"},slack:{label:"Slack",color:"#16B7DB"},sdk:{label:"SDK",color:"#0C839E"},exec:{label:"Exec",color:"#783CBF"}};function rt(t){var i;const e=(i=fe[t])==null?void 0:i.label;return e||t.split("_").map(r=>r.length===0?r:r.charAt(0).toUpperCase()+r.slice(1)).join(" ")||t}function lt(t,e){const a=Math.max(t.data.length-e,0),i=t.data.slice(a),r=Object.fromEntries(Object.entries(t.metrics).map(([o,u])=>{const m=i.reduce((h,l)=>{var n;return h+((n=l.values[o])!=null?n:0)},0);return[o,{displayName:u.displayName,total:m}]}));return{data:i,metrics:r}}function De(t){const e={data:[],metrics:{}};if(!(t!=null&&t.data)||t.data.length===0)return{chartData:e,seriesColorMap:{},seriesOrder:[]};const a=Object.keys(fe),i={};a.forEach(l=>{i[l]=0});const r=t.data.map(({date:l,product_surface_usage_values:n})=>{const x={};let b=0;return a.forEach(p=>{var y;const f=Number((y=n==null?void 0:n[p])!=null?y:0);i[p]+=f,x[p]=f,b+=f}),{date:l,total:b,values:x}}),o=a.filter(l=>i[l]>0),u=r.map(({date:l,total:n,values:x})=>{const b={};return o.forEach(p=>{var f;b[p]=(f=x[p])!=null?f:0}),{date:l,total:n,values:b}}),m=Object.fromEntries(o.map(l=>[l,{total:i[l],displayName:fe[l].label}])),h=Object.fromEntries(o.map(l=>[l,fe[l].color]));return{chartData:{data:u,metrics:m},seriesColorMap:h,seriesOrder:o}}function ot(){"use forget";const t=K.c(56),{data:e,isLoading:a,error:i}=Ve(),o=qe();let u;t[0]!==o?(u={enabled:o},t[0]=o,t[1]=u):u=t[1];const{data:m,isLoading:h,error:l}=Qe(u);let n;t[2]!==e?(n=De(e),t[2]=e,t[3]=n):n=t[3];const{chartData:x,seriesColorMap:b,seriesOrder:p}=n;let f;t[4]!==m?(f=De(m),t[4]=m,t[5]=f):f=t[5];const{chartData:y,seriesColorMap:C,seriesOrder:w}=f,M=!!i,_=!!(o&&l),N=(e==null?void 0:e.units)==="credits",d=oe();let g;t[6]!==d?(g=d.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.month",defaultMessage:"30 days"}),t[6]=d,t[7]=g):g=t[7];let D;t[8]!==g?(D={id:"month",label:g,apply:ct},t[8]=g,t[9]=D):D=t[9];let S;t[10]!==d?(S=d.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.week",defaultMessage:"Week"}),t[10]=d,t[11]=S):S=t[11];let E;t[12]!==S?(E={id:"week",label:S,apply:nt},t[12]=S,t[13]=E):E=t[13];let B;t[14]!==D||t[15]!==E?(B=[D,E],t[14]=D,t[15]=E,t[16]=B):B=t[16];const U=B;let O;t[17]!==d?(O=(T,Q)=>d.formatNumber(T/Q,{style:"percent",maximumFractionDigits:0}),t[17]=d,t[18]=O):O=t[18];const R=O;let P;t[19]!==d?(P=(T,Q)=>{const q=Math.round(T);return d.formatMessage({id:"wham.usageDashboard.chart.credits",defaultMessage:"{value, number} {value, plural, one {credit} other {credits}}"},{value:q})},t[19]=d,t[20]=P):P=t[20];const c=P;let v;t[21]!==c?(v=(T,Q)=>{const q=Math.round(Q.reduce(it,0));return"".concat($e(Ge(String(T)),"MMM d")," (").concat(c(q,q),")")},t[21]=c,t[22]=v):v=t[22];const k=v;let L;t[23]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(j,{id:"wham.usageDashboard.section.personalUsage",defaultMessage:"Usage breakdown"}),t[23]=L):L=t[23];let A;t[24]!==d?(A=d.formatMessage({id:"wham.usageDashboard.usageChart.tooltip",defaultMessage:"Usage data is approximate. Data may be delayed by up to 12 hours."}),t[24]=d,t[25]=A):A=t[25];let G;t[26]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(ge,{className:"inline-block size-4"}),t[26]=G):G=t[26];let I;t[27]!==A?(I=s.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-gray-100",children:[L,s.jsx(he,{label:A,children:G})]}),t[27]=A,t[28]=I):I=t[28];let H;t[29]!==c||t[30]!==R||t[31]!==M||t[32]!==d||t[33]!==a||t[34]!==k||t[35]!==x||t[36]!==b||t[37]!==p||t[38]!==N||t[39]!==U?(H=M?s.jsx(le,{title:s.jsx(j,{id:"wham.usageDashboard.dailyUsage.error.title",defaultMessage:"We couldn’t load your usage"})}):s.jsx(Ne,{title:s.jsx(j,{id:"wham.usageDashboard.section.dailyUsageChart",defaultMessage:"Personal usage"}),data:a?"loading":x,clientEventSource:"whamDailyTokenUsageBreakdown",forceStack:!0,seriesColorMap:b,stackOrder:p,legendOrder:p,filters:U,filterLabel:d.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.aria",defaultMessage:"Select usage timeframe"}),valueFormatter:N?c:R,labelFormatter:N?k:void 0,hideYAxis:!0,hideReferenceLine:!0}),t[29]=c,t[30]=R,t[31]=M,t[32]=d,t[33]=a,t[34]=k,t[35]=x,t[36]=b,t[37]=p,t[38]=N,t[39]=U,t[40]=H):H=t[40];let $;t[41]!==y||t[42]!==C||t[43]!==w||t[44]!==c||t[45]!==_||t[46]!==d||t[47]!==h||t[48]!==k||t[49]!==o||t[50]!==U?($=o&&(_?s.jsx(le,{title:s.jsx(j,{id:"wham.usageDashboard.dailyUsage.error.title",defaultMessage:"We couldn’t load your usage"})}):s.jsx(Ne,{title:s.jsx(j,{id:"wham.usageDashboard.section.teamUsageChart",defaultMessage:"Team usage"}),data:h?"loading":y,clientEventSource:"whamDailyEnterpriseTokenUsageBreakdown",forceStack:!0,seriesColorMap:C,stackOrder:w,legendOrder:w,filters:U,filterLabel:d.formatMessage({id:"wham.usageDashboard.dailyUsage.timeframe.aria",defaultMessage:"Select usage timeframe"}),valueFormatter:c,labelFormatter:k,hideYAxis:!0,hideReferenceLine:!0})),t[41]=y,t[42]=C,t[43]=w,t[44]=c,t[45]=_,t[46]=d,t[47]=h,t[48]=k,t[49]=o,t[50]=U,t[51]=$):$=t[51];let W;return t[52]!==I||t[53]!==H||t[54]!==$?(W=s.jsxs("section",{className:"flex flex-col gap-6",children:[I,H,$]}),t[52]=I,t[53]=H,t[54]=$,t[55]=W):W=t[55],W}function it(t,e){return t+e.value}function nt(t){return lt(t,7)}function ct(t){return t}function le(t){"use forget";const e=K.c(10),{title:a,description:i,action:r}=t;let o;e[0]!==a?(o=s.jsx("h2",{className:"text-token-text-primary text-base font-medium",children:a}),e[0]=a,e[1]=o):o=e[1];let u;e[2]!==i?(u=i?s.jsx("p",{className:"text-token-text-secondary text-sm",children:i}):null,e[2]=i,e[3]=u):u=e[3];let m;e[4]!==r?(m=r?s.jsx("div",{className:"pt-1",children:r}):null,e[4]=r,e[5]=m):m=e[5];let h;return e[6]!==o||e[7]!==u||e[8]!==m?(h=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-3 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[o,u,m]}),e[6]=o,e[7]=u,e[8]=m,e[9]=h):h=e[9],h}const Le=Se(()=>ke(()=>import("./o9yk41rn9fs3l9gj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>t.CodexCreditPurchaseModal)),ue=10;function dt(t){"use forget";var Me;const e=K.c(72),{formattedCreditBalance:a}=t,i=oe(),{data:r,isLoading:o,error:u,refetch:m,isFetching:h}=Ye();let l;e[0]!==(r==null?void 0:r.data)?(l=(Me=r==null?void 0:r.data)!=null?Me:[],e[0]=r==null?void 0:r.data,e[1]=l):l=e[1];const n=l,[x,b]=ye.useState(1),p=je();let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{b(1)},e[2]=f):f=e[2];let y;e[3]!==n?(y=[n],e[3]=n,e[4]=y):y=e[4],ye.useEffect(f,y);const C=Math.max(1,Math.ceil(n.length/ue)),w=Math.min(x,C),M=n.length===0?0:(w-1)*ue,_=Math.min(M+ue,n.length);let N;e[5]!==_||e[6]!==n||e[7]!==M?(N=n.slice(M,_),e[5]=_,e[6]=n,e[7]=M,e[8]=N):N=e[8];let d;e[9]!==_||e[10]!==w||e[11]!==M||e[12]!==N||e[13]!==C?(d={pageRows:N,start:M,end:_,safePage:w,pageCount:C},e[9]=_,e[10]=w,e[11]=M,e[12]=N,e[13]=C,e[14]=d):d=e[14];const{pageRows:g,start:D,end:S,safePage:E,pageCount:B}=d;if(u){let V,z;e[15]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx(j,{id:"wham.usageDashboard.creditHistory.error.title",defaultMessage:"We couldn’t load your credit usage"}),z=s.jsx(j,{id:"wham.usageDashboard.creditHistory.error.body",defaultMessage:"Please try again or contact support if the issue persists."}),e[15]=V,e[16]=z):(V=e[15],z=e[16]);let Y;e[17]!==m?(Y=()=>{m()},e[17]=m,e[18]=Y):Y=e[18];let se;e[19]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(j,{id:"wham.usageDashboard.creditHistory.retry",defaultMessage:"Try again"}),e[19]=se):se=e[19];let ae;return e[20]!==Y?(ae=s.jsx(le,{title:V,description:z,action:s.jsx(re,{color:"secondary",onClick:Y,children:se})}),e[20]=Y,e[21]=ae):ae=e[21],ae}const U=!o&&n.length===0,O=h&&!o;let R;e[22]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:s.jsx(j,{id:"wham.usageDashboard.creditHistory.title",defaultMessage:"Credits remaining"})}),e[22]=R):R=e[22];let P;e[23]!==a?(P=s.jsxs("div",{className:"flex flex-col items-start gap-2",children:[R,s.jsx("p",{className:"text-token-text-secondary text-lg font-medium",children:a})]}),e[23]=a,e[24]=P):P=e[24];let c;e[25]!==p?(c=()=>{Ee(p,Le)},e[25]=p,e[26]=c):c=e[26];let v;e[27]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(j,{id:"wham.usageDashboard.creditHistory.addMore",defaultMessage:"Add more"}),e[27]=v):v=e[27];let k;e[28]!==c?(k=s.jsx(re,{color:"secondary",onPointerOver:ht,onClick:c,children:v}),e[28]=c,e[29]=k):k=e[29];let L;e[30]!==k||e[31]!==P?(L=s.jsxs("div",{className:"flex w-full items-center justify-between p-6",children:[P,k]}),e[30]=k,e[31]=P,e[32]=L):L=e[32];let A;e[33]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(F.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(j,{id:"wham.usageDashboard.creditHistory.date",defaultMessage:"Date"})}),e[33]=A):A=e[33];let G;e[34]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(F.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(j,{id:"wham.usageDashboard.creditHistory.surface",defaultMessage:"Service"})}),e[34]=G):G=e[34];let I;e[35]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsxs(F.Header,{children:[A,G,s.jsx(F.HeaderCell,{className:"ps-4 text-sm",children:s.jsx(j,{id:"wham.usageDashboard.creditHistory.credits",defaultMessage:"Credits used"})})]}),e[35]=I):I=e[35];let H;e[36]!==o?(H=o?Array.from({length:ue}).map(ft):null,e[36]=o,e[37]=H):H=e[37];let $;e[38]!==U?($=U?s.jsx(F.Row,{children:s.jsx(F.Cell,{colSpan:4,divClassName:"flex h-16 items-center justify-center text-sm",children:s.jsx(j,{id:"wham.usageDashboard.creditHistory.empty",defaultMessage:"No credit usage recorded yet"})})}):null,e[38]=U,e[39]=$):$=e[39];let W;if(e[40]!==i||e[41]!==g){let V;e[43]!==i?(V=(z,Y)=>{var Ce;const se=rt(z.product_surface),ae=i.formatMessage({id:"wham.usageDashboard.creditHistory.creditsValue",defaultMessage:"{value, number} {value, plural, one {credit} other {credits}}"},{value:z.credit_amount}),Fe=i.formatDate(new Date(z.date),{month:"short",day:"numeric",year:"numeric"});return s.jsxs(F.Row,{children:[s.jsx(F.Cell,{divClassName:"flex h-14 items-center ps-4",children:s.jsx("span",{className:"text-sm",children:Fe})}),s.jsx(F.Cell,{divClassName:"flex h-14 flex-col justify-center ps-4",children:s.jsx("span",{className:"text-sm font-medium",children:se})}),s.jsx(F.Cell,{divClassName:"flex h-14 items-center ps-4",children:s.jsx("span",{className:"text-sm font-medium",children:ae})})]},"".concat((Ce=z.usage_id)!=null?Ce:"usage","-").concat(z.date,"-").concat(Y))},e[43]=i,e[44]=V):V=e[44],W=g.map(V),e[40]=i,e[41]=g,e[42]=W}else W=e[42];let T;e[45]!==H||e[46]!==$||e[47]!==W?(T=s.jsxs(F.Root,{className:"overflow-x-auto overflow-y-clip rounded-2xl",disableScroll:!0,children:[I,s.jsxs(F.Body,{children:[H,$,W]})]}),e[45]=H,e[46]=$,e[47]=W,e[48]=T):T=e[48];const Q="border-token-border-light flex items-center justify-between border-t px-4 py-3 text-xs ".concat(O?"opacity-70":""),q=n.length===0?0:D+1;let J;e[49]!==S||e[50]!==n.length||e[51]!==q?(J=s.jsx("div",{className:"text-token-text-tertiary",children:s.jsx(j,{id:"wham.usageDashboard.creditHistory.range",defaultMessage:"{from}-{to} of {total} usage events",values:{from:q,to:S,total:n.length}})}),e[49]=S,e[50]=n.length,e[51]=q,e[52]=J):J=e[52];const xe=o||E<=1;let ie,ne;e[53]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>b(ut),ne=s.jsx(j,{id:"wham.usageDashboard.creditHistory.prev",defaultMessage:"Previous"}),e[53]=ie,e[54]=ne):(ie=e[53],ne=e[54]);let Z;e[55]!==xe?(Z=s.jsx(re,{as:"button",size:"small",color:"secondary",disabled:xe,onClick:ie,children:ne}),e[55]=xe,e[56]=Z):Z=e[56];const pe=o||E>=B;let ce,de;e[57]===Symbol.for("react.memo_cache_sentinel")?(ce=()=>b(mt),de=s.jsx(j,{id:"wham.usageDashboard.creditHistory.next",defaultMessage:"Next"}),e[57]=ce,e[58]=de):(ce=e[57],de=e[58]);let X;e[59]!==pe?(X=s.jsx(re,{as:"button",size:"small",color:"secondary",disabled:pe,onClick:ce,children:de}),e[59]=pe,e[60]=X):X=e[60];let ee;e[61]!==Z||e[62]!==X?(ee=s.jsxs("div",{className:"flex items-center gap-2",children:[Z,X]}),e[61]=Z,e[62]=X,e[63]=ee):ee=e[63];let te;e[64]!==Q||e[65]!==J||e[66]!==ee?(te=s.jsxs("div",{className:Q,children:[J,ee]}),e[64]=Q,e[65]=J,e[66]=ee,e[67]=te):te=e[67];let me;return e[68]!==L||e[69]!==T||e[70]!==te?(me=s.jsxs("div",{className:"border-token-border-light bg-token-bg-primary rounded-2xl border shadow-sm",children:[L,T,te]}),e[68]=L,e[69]=T,e[70]=te,e[71]=me):me=e[71],me}function mt(t){return t+1}function ut(t){return Math.max(1,t-1)}function ft(t,e){return s.jsx(F.Row,{children:s.jsx(F.Cell,{colSpan:4,divClassName:"p-4",children:s.jsx("div",{className:"bg-token-bg-tertiary border-token-border-light h-6 w-full animate-pulse rounded-md border"})})},"credit-usage-loading-".concat(e))}function ht(){return Le.prefetch()}function gt(t){"use forget";var b;const e=K.c(13),{rateLimit:a}=t,i=oe();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(j,{id:"wham.usageDashboard.section.creditUsageHistory",defaultMessage:"Credits usage history"}),e[0]=r):r=e[0];let o;e[1]!==i?(o=i.formatMessage({id:"wham.usageDashboard.creditHistory.tooltip",defaultMessage:"Data may be delayed by up to 12 hours."}),e[1]=i,e[2]=o):o=e[2];let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(ge,{className:"inline-block size-4"}),e[3]=u):u=e[3];let m;e[4]!==o?(m=s.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold text-gray-900 dark:text-gray-100",children:[r,s.jsx(he,{label:o,children:u})]}),e[4]=o,e[5]=m):m=e[5];const h=(b=a==null?void 0:a.credits)==null?void 0:b.balance;let l;e[6]!==h?(l=Be(h),e[6]=h,e[7]=l):l=e[7];let n;e[8]!==l?(n=s.jsx(dt,{formattedCreditBalance:l}),e[8]=l,e[9]=n):n=e[9];let x;return e[10]!==m||e[11]!==n?(x=s.jsxs("section",{className:"flex flex-col gap-6 pb-12",children:[m,n]}),e[10]=m,e[11]=n,e[12]=x):x=e[12],x}function xt(t){return Math.min(Math.max(Math.round(t),0),100)}function Re(t){return t<=30?"bg-[#f87171]":"bg-[#22c55e]"}function be(t,e,a,i){var u;const r=xt(100-((u=e.used_percent)!=null?u:0)),o=pt(t,e.reset_after_seconds);return{id:a,label:i,remainingPercent:r,resetLabel:o,barColorClassName:Re(r)}}function pt(t,e){const a=Je(t,e);return t.formatMessage({id:"wham.usageDashboard.metric.resetsAt",defaultMessage:"Resets {label}"},{label:a})}function bt({rateLimit:t,codeReviewRateLimit:e,creditDetails:a}){const i=oe(),r=_e(),o=we(),u=t.primary_window,m=t.secondary_window;if(!u||!m)return null;const h=[be(i,u,"quota-primary",i.formatMessage({id:"wham.usageDashboard.metric.window.primary",defaultMessage:"5 hour usage limit"})),be(i,m,"quota-secondary",i.formatMessage({id:"wham.usageDashboard.metric.window.secondary",defaultMessage:"Weekly usage limit"}))],l=i.formatMessage({id:"wham.usageDashboard.metric.window.codeReview",defaultMessage:"Code review"}),n=e!=null&&e.primary_window?be(i,e.primary_window,"code-review-primary",l):{id:"code-review",label:l,remainingPercent:100,resetLabel:"",barColorClassName:Re(100)};return s.jsxs("section",{className:"flex flex-col gap-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:i.formatMessage({id:"wham.usageDashboard.section.quota",defaultMessage:"Balance"})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.map(x=>s.jsx(ve,{metric:x},x.id)),s.jsx(ve,{metric:n},"code-review"),(!!r||!!o)&&s.jsx(at,{creditDetails:a})]})]})}function ve(t){"use forget";const e=K.c(32),{metric:a}=t,i=oe(),{label:r,remainingPercent:o,resetLabel:u,barColorClassName:m}=a;let h;e[0]!==o?(h=Math.round(o),e[0]=o,e[1]=h):h=e[1];const l=Math.min(Math.max(h,0),100);let n;e[2]!==i||e[3]!==l?(n=i.formatNumber(l/100,{style:"percent",maximumFractionDigits:0}),e[2]=i,e[3]=l,e[4]=n):n=e[4];const x=n;let b;e[5]!==i?(b=i.formatMessage({id:"wham.usageDashboard.metric.remainingLabel",defaultMessage:"remaining"}),e[5]=i,e[6]=b):b=e[6];const p=b;let f;e[7]!==r?(f=s.jsx("p",{className:"text-token-text-tertiary text-sm font-medium",children:r}),e[7]=r,e[8]=f):f=e[8];let y;e[9]!==x?(y=s.jsx("span",{className:"text-2xl font-semibold",children:x}),e[9]=x,e[10]=y):y=e[10];let C;e[11]!==p?(C=s.jsxs("span",{className:"text-base font-normal",children:[" ",p," "]}),e[11]=p,e[12]=C):C=e[12];let w;e[13]!==a.tooltip?(w=a.tooltip?s.jsx(he,{label:a.tooltip,children:s.jsx("span",{className:"text-base font-normal",children:s.jsx(ge,{className:"inline-block size-4"})})}):null,e[13]=a.tooltip,e[14]=w):w=e[14];let M;e[15]!==y||e[16]!==C||e[17]!==w?(M=s.jsxs("div",{className:"text-token-text-primary flex items-baseline gap-1",children:[y,C,w]}),e[15]=y,e[16]=C,e[17]=w,e[18]=M):M=e[18];let _;e[19]!==f||e[20]!==M?(_=s.jsxs("header",{className:"flex flex-col gap-1",children:[f,M]}),e[19]=f,e[20]=M,e[21]=_):_=e[21];const N="".concat(m," rounded-full").concat(l===0?" hidden":"");let d;e[22]!==l||e[23]!==N?(d=s.jsx(ze,{percentage:l,height:12,backgroundClassName:"rounded-full bg-[#ebebf0]",barClassName:N}),e[22]=l,e[23]=N,e[24]=d):d=e[24];let g;e[25]!==l||e[26]!==u?(g=l<100?s.jsxs("div",{className:"text-token-text-tertiary flex items-center text-xs",children:[s.jsx("span",{children:u}),s.jsx("span",{className:"bg-token-border-subtle mx-2 inline-block h-1 w-1 rounded-full","aria-hidden":!0})]}):null,e[25]=l,e[26]=u,e[27]=g):g=e[27];let D;return e[28]!==d||e[29]!==g||e[30]!==_?(D=s.jsxs("article",{className:"border-token-border-subtle bg-token-bg-primary flex flex-col gap-4 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[_,d,g]}),e[28]=d,e[29]=g,e[30]=_,e[31]=D):D=e[31],D}function yt(){"use forget";var O,R,P;const t=K.c(36),e=je();let a;t[0]!==e?(a=Ue(e,"1823130936"),t[0]=e,t[1]=a):a=t[1];const i=a,{data:r,isLoading:o,error:u}=Ke(),m=_e(),h=we(),l=(O=r==null?void 0:r.rate_limit)!=null?O:null,n=(R=r==null?void 0:r.code_review_rate_limit)!=null?R:null,x=(P=r==null?void 0:r.credits)!=null?P:null;let b;t[2]!==r?(b=!!r&&Ze(r),t[2]=r,t[3]=b):b=t[3];const p=b;let f;t[4]!==r?(f=!!r&&Xe(r),t[4]=r,t[5]=f):f=t[5];const y=f,C=!!(l!=null&&l.primary_window&&(l!=null&&l.secondary_window)),w=!!(r&&l==null),M=!!(l&&!C),_=!!w,d=!!u||M;let g,D;if(t[6]===Symbol.for("react.memo_cache_sentinel")?(D=[],t[6]=D):D=t[6],ye.useEffect(jt,D),o){let c;t[7]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(Ae,{className:"icon me-2"}),t[7]=c):c=t[7];let v;t[8]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsxs("div",{className:"flex w-full items-center justify-center py-16",children:[c,s.jsx("span",{className:"text-token-text-secondary text-sm font-medium",children:s.jsx(j,{id:"wham.usageDashboard.loading",defaultMessage:"Loading usage data"})})]}),t[8]=v):v=t[8],g=v}else if(_){let c;t[9]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(le,{title:s.jsx(j,{id:"wham.usageDashboard.noLimits",defaultMessage:"Your plan does not impose Codex rate limits"})}),t[9]=c):c=t[9],g=c}else if(d){let c;t[10]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(le,{title:s.jsx(j,{id:"wham.usageDashboard.error.title",defaultMessage:"We couldn’t load your usage data"}),description:s.jsx(j,{id:"wham.usageDashboard.error.body",defaultMessage:"Please try again. If the issue continues, contact support."})}),t[10]=c):c=t[10],g=c}else{let c;t[11]!==r||t[12]!==p?(c=p&&r&&s.jsx(et,{rateLimit:r}),t[11]=r,t[12]=p,t[13]=c):c=t[13];let v;t[14]!==r||t[15]!==y||t[16]!==p?(v=y&&!p&&r&&s.jsx(tt,{rateLimit:r}),t[14]=r,t[15]=y,t[16]=p,t[17]=v):v=t[17];let k;t[18]!==n||t[19]!==x||t[20]!==l?(k=l&&s.jsx(bt,{rateLimit:l,codeReviewRateLimit:n,creditDetails:x}),t[18]=n,t[19]=x,t[20]=l,t[21]=k):k=t[21];let L;t[22]!==c||t[23]!==v||t[24]!==k?(L=s.jsxs(s.Fragment,{children:[c,v,k]}),t[22]=c,t[23]=v,t[24]=k,t[25]=L):L=t[25],g=L}let S;t[26]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("header",{className:"border-token-border-heavy flex flex-col border-b",children:s.jsx("h1",{className:"text-token-text-primary py-2 text-xl leading-7 font-medium",children:s.jsx(j,{id:"wham.usageDashboard.title",defaultMessage:"Usage dashboard"})})}),t[26]=S):S=t[26];let E;t[27]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("div",{className:"flex flex-col gap-10",children:s.jsx(ot,{})}),t[27]=E):E=t[27];let B;t[28]!==i||t[29]!==m||t[30]!==h||t[31]!==r?(B=i&&(m||h)&&s.jsx(gt,{rateLimit:r}),t[28]=i,t[29]=m,t[30]=h,t[31]=r,t[32]=B):B=t[32];let U;return t[33]!==g||t[34]!==B?(U=s.jsx(Ie,{topPadding:!0,children:s.jsxs("div",{className:"mx-auto flex h-full max-w-screen-xl flex-1 flex-col gap-10 ps-4 pe-12 pb-16",children:[S,s.jsxs("div",{className:"flex flex-col gap-10",children:[g,E,B]})]})}),t[33]=g,t[34]=B,t[35]=U):U=t[35],U}function jt(){Oe.removeItem(Te.CreditCheckoutRedirectPath)}const us=()=>[{title:"Codex"}],fs=He(function(){"use forget";const e=K.c(1);let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(yt,{}),e[0]=a):a=e[0],a});export{fs as default,us as meta};
//# sourceMappingURL=lhfrxsyvar3g39sc.js.map

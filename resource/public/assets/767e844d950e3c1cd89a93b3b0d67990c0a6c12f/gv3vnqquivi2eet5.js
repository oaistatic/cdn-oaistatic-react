var We=Object.freeze,qe=Object.defineProperty,Et=Object.defineProperties;var Nt=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var Ye=(t,e,r)=>e in t?qe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M=(t,e)=>{for(var r in e||(e={}))He.call(e,r)&&Ye(t,r,e[r]);if(be)for(var r of be(e))Ke.call(e,r)&&Ye(t,r,e[r]);return t},B=(t,e)=>Et(t,Nt(e));var Qe=(t,e)=>{var r={};for(var n in t)He.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&be)for(var n of be(t))e.indexOf(n)<0&&Ke.call(t,n)&&(r[n]=t[n]);return r};var ye=(t,e)=>We(qe(t,"raw",{value:We(e||t.slice())}));import{R as ce,j as s,c as G,M as U,h as Q,r as T,n as pe,e as re,o as It,d as Te,y as Pt,a1 as jt,a as Tt}from"./mw35uwhq4g8r9eam.js";import{cF as j,e1 as ut,L as dt,fH as Ct,cB as Ce,e7 as kt,u as le,am as y,d as At,nD as wt,p as Mt,R as ze,D as ue,_ as de,dv as Ot,er as Xe,aA as je,ak as Lt,s8 as Rt,e5 as Ze,xt as Ft,ni as Ut,o5 as Bt,a4 as Dt,n2 as K,cd as $t}from"./d0xa318sl7ywi0za.js";import{z as ft,xB as Je,et as Vt,bK as Gt,bL as Wt,dG as Yt,cv as qt,dF as Ht,eH as Kt,gB as Qt,bf as zt,eM as Xt,pm as Zt,ev as Jt,eN as es,eK as mt,xC as ts,g_ as ie,xD as Ie,g9 as ss,fx as et,m1 as tt,fz as rs,fy as as,fw as ns,xE as pt,xF as os}from"./g2euln7v5pbm31qa.js";import{c as ae,P as ls,A as is,u as cs,l as us,C as ds}from"./ehwx8pj63nln1ugv.js";import{S as fs}from"./errezp2ed2fpin7m.js";import{u as ms,g as xt,b as Ne,f as he}from"./eelq57udayslns33.js";import{u as ps,T as Se,i as xs}from"./keveoph4stiufpkl.js";import{u as hs}from"./3xa3aq3nbd1nd678.js";import{u as gs}from"./c08xobknzytt16by.js";import{i as st}from"./fu64xefk2hnpyz5v.js";import{S as bs,a as ht,b as ys}from"./k040uuoye7vhrx23.js";import{P as _s,A as Ss}from"./jwvkjd19mng37ttq.js";import"./kfdkis1zwf4ccfgg.js";import"./ol9d5wxhynx9q2is.js";import"./mbmcx8v24u1ao1ke.js";import"./ox7635ffwodpca7w.js";import"./ojmli062couj7r3v.js";import"./lv7ytt0l14b17ows.js";import"./iej0cupg2dqkmejt.js";import"./jcku1nkz6suna4le.js";const oe=ce.forwardRef(({children:t},e)=>s.jsx("div",{ref:e,className:"flex flex-col gap-4",children:t}));oe.displayName="CheckoutFormSection";function xe(t){"use forget";const e=G.c(14),{className:r,title:n,isCheckoutRedesignEnabled:o}=t;if(o){let i;e[0]!==r?(i=j("px-2 text-[18px] font-medium",r),e[0]=r,e[1]=i):i=e[1];let u;e[2]!==n?(u=s.jsx(U,M({},n)),e[2]=n,e[3]=u):u=e[3];let d;return e[4]!==i||e[5]!==u?(d=s.jsx("h3",{className:i,children:u}),e[4]=i,e[5]=u,e[6]=d):d=e[6],d}let a;e[7]!==r?(a=j("font-medium",r),e[7]=r,e[8]=a):a=e[8];let l;e[9]!==n?(l=s.jsx(U,M({},n)),e[9]=n,e[10]=l):l=e[10];let c;return e[11]!==a||e[12]!==l?(c=s.jsx("div",{className:a,children:l}),e[11]=a,e[12]=l,e[13]=c):c=e[13],c}function ve(t){"use forget";const e=G.c(9),{errors:r,shouldShowErrors:n,className:o}=t;let a;e[0]!==o?(a=j("mt-1 text-[0.93rem] text-[#df1b41]",o),e[0]=o,e[1]=a):a=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l={transition:"height 0.35s ease 0s"},e[2]=l):l=e[2];let c;e[3]!==r||e[4]!==n?(c=n&&r.map(vs),e[3]=r,e[4]=n,e[5]=c):c=e[5];let i;return e[6]!==a||e[7]!==c?(i=s.jsx("div",{className:a,style:l,children:c}),e[6]=a,e[7]=c,e[8]=i):i=e[8],i}function vs(t){return s.jsx("p",{children:t},t)}const Es=["AM","AT","AU","BE","BG","CA","CH","CL","CY","CZ","DE","DK","EE","EG","ES","FI","FR","GB","GE","GR","HR","HU","IE","IN","IS","IT","KE","KR","LI","LT","LU","LV","MD","MT","NL","NO","NZ","PL","PT","RO","SA","SE","SG","SI","SK","TH","TR","TW","TZ","UA","ZA"];function Ns(t){return Es.includes(t)}function Is(t){const e=Object.values(Je).filter(n=>n.country===t),r=new Set(e.map(n=>n.region));return Object.values(Je).filter(n=>r.has(n.region))}const gt=t=>{switch(t){case"ca_gst_hst":return"CA GST/HST";case"ca_pst_bc":return"CA PST-BC";case"ca_pst_mb":return"CA PST-MB";case"ca_pst_sk":return"CA PST-SK";default:return t.replace("_"," ").toUpperCase()}},Ps=({country:t,type:e,description:r})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-1.5 pe-1 font-medium",children:[s.jsx("img",{src:"https://cdn.openai.com/API/images/flags/png/".concat(t,"@2x.png"),alt:e,className:"h-4 w-4"}),gt(e)]}),s.jsx("span",{className:"block text-sm text-gray-500",children:r})]}),bt=ce.forwardRef(({billingCountry:t,isCheckoutRedesignEnabled:e},r)=>{const n=ae(),o=Q(),a=ut(),[l,c]=ce.useState(!0),[i,u]=ce.useState(!1),[d,p]=ce.useState({businessName:"",taxIdType:null,taxIdValue:""}),[m,f]=ce.useState(null),h=T.useMemo(()=>dt(S=>{S()},150),[]),g=T.useCallback(()=>i?d.businessName.trim()?d.taxIdType?d.taxIdValue.trim()?(f(null),!0):(f(o.formatMessage({id:"CheckoutForm.errorMessageTaxIdValueRequired",defaultMessage:"Tax ID is required"})),!1):(f(o.formatMessage({id:"CheckoutForm.errorMessageTaxIdTypeRequired",defaultMessage:"Please select a tax ID type"})),!1):(f(o.formatMessage({id:"CheckoutForm.errorMessageBusinessNameRequired",defaultMessage:"Business name is required"})),!1):(f(null),!0),[d,o,i]),b=T.useCallback(async()=>{var N;let S=null;if(i){const k=(N=d.taxIdType)==null?void 0:N.stripe_type;if(!k)return!1;S={taxId:{type:k,value:d.taxIdValue},businessName:d.businessName}}if(Ct(n.taxIdInfo,S))return!0;{const k=await n.updateTaxIdInfo(S);return k.type==="error"?(f(k.error.message),!1):!0}},[i,d,n]);return ce.useImperativeHandle(r,()=>({validate:g,update:async()=>(h.cancel(),await b())}),[b,g,h]),T.useEffect(()=>{l&&d.taxIdValue.trim()?c(!1):l||h(async()=>{g()&&await b()})},[l,d,i,g,b,h]),T.useMemo(()=>Ns(t!=null?t:""),[t])?s.jsxs(s.Fragment,{children:[s.jsx(oe,{children:s.jsx(ft,{id:"subscription-tax-id",label:s.jsx(U,{id:"CheckoutForm.purchaseAsBusinessLabel",defaultMessage:"I'm purchasing as business"}),labelClassName:j(e?"text-token-text-secondary text-[16px] leading-5":"Text-color--gray600 text-[13px]"),className:e?"border-token-border-default ms-1 h-4 w-4 rounded-md text-[#5856D6] focus:ring-[#5856D6]":void 0,checked:i,onChange:S=>{u(S.target.checked)}})}),i&&s.jsxs(oe,{children:[s.jsx(xe,{title:pe({id:"CheckoutForm.headingVATInformation",defaultMessage:"VAT information"}),isCheckoutRedesignEnabled:e}),s.jsx(js,{billingCountry:t,taxInfoFields:d,setTaxInfoFields:p,isCheckoutRedesignEnabled:e,isDarkMode:a}),m&&s.jsx("div",{className:j("mt-1 text-sm",e?"text-token-text-status-error":"text-[#df1b41]"),style:{transition:"height 0.35s ease 0s"},children:m})]})]}):null});bt.displayName="CheckoutTaxIdCollectionFormFull";const js=({billingCountry:t,taxInfoFields:e,setTaxInfoFields:r,isCheckoutRedesignEnabled:n,isDarkMode:o})=>{const a=Q(),l=T.useMemo(()=>Is(t!=null?t:"").map(f=>({label:Ps(f),value:f,sortKey:gt(f.type),placeholder:f.placeholder})).toSorted((f,h)=>f.sortKey<h.sortKey?-1:1),[t]),c=T.useMemo(()=>{const m=l.find(f=>f.value===e.taxIdType);return m===void 0?null:m},[l,e]);T.useEffect(()=>{var m;if(c==null&&l.length>0){const f=(m=l.find(h=>h.value.country===t))!=null?m:l[0];r(h=>B(M({},h),{taxIdType:f.value}))}},[t,c,r,l]);const i=j("w-full rounded-2xl text-[16px] border-none focus:shadow-none","px-4 py-6","text-token-text-primary! focus:ring-0 focus:outline focus:outline-1",o&&"focus:outline-white!",!o&&"focus:outline-black!",o?"bg-[#303030]":"bg-[#f7f7f7]"),u={width:"100%",borderRadius:"0.5rem",border:"1px solid #e0e0e0",padding:"0.5rem"},d=T.useMemo(()=>{if(!(typeof window>"u"))return document.body},[]),p=T.useMemo(()=>{if(n)return{container:()=>j("w-full rounded-2xl! outline-none!",o?"bg-[#303030]!":"bg-[#f7f7f7]! focus:ring-0!"),control:({isFocused:m})=>j("flex w-full items-center justify-between rounded-2xl! border min-h-[64px] px-4 py-[18px]",o?"bg-[#303030]!":"bg-[#f7f7f7]!",m&&o&&"border-white!",m&&!o&&"border-black!",!m&&"border-transparent!","focus:ring-0! focus:outline! focus:outline-1! focus:outline-white! shadow-none!"),valueContainer:()=>"flex items-center gap-2 pe-3! ps-0!",singleValue:()=>j("flex items-center",o?"text-white!":"text-[#101828]!"),placeholder:()=>o?"text-[#afafaf]!":"text-[#667085]!",menu:()=>j("rounded-2xl shadow-lg max-h-72 overflow-auto py-4! border!",o?"bg-[#303030]! border-white/10!":"bg-white! border-[#D0D5DD]!"),option:({isFocused:m,isSelected:f})=>j("flex items-center px-3 py-3",m?"bg-[rgba(88,86,214,0.15)]!":f?"bg-[rgba(88,86,214,0.25)]!":"bg-transparent!",o?"text-white!":"text-[#101828]!")}},[n,o]);return s.jsxs("div",{className:j("tax-id-form flex flex-col",n?"gap-3":"gap-2"),children:[s.jsx("div",{className:"form-row",children:s.jsx("input",{type:"text",id:"businessName",className:n?i:void 0,style:n?void 0:u,value:e.businessName,onChange:m=>r(f=>B(M({},f),{businessName:m.target.value})),placeholder:a.formatMessage(Pe.businessNamePlaceholder)})}),s.jsx("div",{className:"form-row",children:s.jsx(fs,{placeholder:a.formatMessage(Pe.taxIdTypePlaceholder),options:l,value:c,onChange:m=>{r(f=>{var h;return B(M({},f),{taxIdType:(h=m==null?void 0:m.value)!=null?h:null})})},isSearchable:!1,className:n?"w-full cursor-pointer":void 0,classNamePrefix:n?"tax-id-select":void 0,classNames:p,menuPortalTarget:n?d:void 0,menuPosition:n?"fixed":"absolute"})}),s.jsx("div",{className:"form-row",children:s.jsx("input",{type:"text",id:"taxId",className:n?i:void 0,style:n?void 0:u,value:e.taxIdValue,onChange:m=>r(f=>B(M({},f),{taxIdValue:m.target.value})),placeholder:(()=>{var m;return(m=c==null?void 0:c.placeholder)!=null?m:a.formatMessage(Pe.taxIdPlaceholder)})()})})]})},Pe=re({taxIdPlaceholder:{id:"CheckoutTaxIdCollectionForm.taxIdPlaceholder",defaultMessage:"Tax ID"},taxIdTypePlaceholder:{id:"CheckoutTaxIdCollectionForm.taxIdTypePlaceholder",defaultMessage:"Tax type"},businessNamePlaceholder:{id:"CheckoutTaxIdCollectionForm.businessNamePlaceholder",defaultMessage:"Business name"}});var lt;const Ts=Ce(Vt)(lt||(lt=ye([""])));var it;const Cs=Ce.div(it||(it=ye(["flex text-token-text-secondary text-sm mt-2 gap-1"])));var ct;const ks=Ce.div(ct||(ct=ye(["rounded-full bg-[#E8EBFF] px-2 py-1.5 text-xs font-medium text-[#5856D6] uppercase"])));function rt({billingType:t,name:e,cost:r,currencySign:n,currencyCode:o,monthlyCost:a,discountedMonthlyCost:l,costStructure:c,selectedValue:i}){const u=Q(),d=Math.floor(100-l/a*100);return s.jsxs(Ts,{value:t,id:t,className:j("hover:border-token-border-heavy relative flex cursor-pointer flex-col rounded-2xl","border-[#f7f7f7] bg-[#f7f7f7] p-4 text-start align-top transition-[border-color]","duration-100 data-[state=checked]:border dark:data-[state=checked]:border-white","data-[state=checked]:elevated data-[state=checked]:bg-token-bg-primary data-[state=checked]:border-token-border-default","data-[state=unchecked]:border dark:border-[#303030] dark:bg-[#303030]","data-[state=checked]:shadow-[0_4px_16px_0_rgba(0,0,0,0.05)]"),children:[s.jsxs("div",{className:"flex w-full flex-wrap items-center justify-between",children:[s.jsx("div",{className:"text-base font-medium",children:s.jsx(U,M({},e))}),l<a&&s.jsx(ks,{children:s.jsx(U,B(M({},mt.discountUnselectedLabel),{values:{discountedRate:d}}))})]}),s.jsxs(Cs,{className:j(i!==t&&"text-token-text-tertiary"),children:[s.jsx("div",{children:s.jsx(U,B(M({},r),{values:{monthlyCost:a,discountedMonthlyCost:l,currencyCode:u.formatMessage(o),currencySign:u.formatMessage(n),s:(...p)=>s.jsx(ts,{children:p})}}))}),s.jsx("div",{children:s.jsx(U,M({},c))})]})]})}const As={label:"absolute z-1 text-xs! mt-2 ml-4 text-token-text-secondary!",input:"px-4! pt-5! h-18! rounded-2xl! bg-[#f7f7f7]! font-medium! text-base! border-none! dark:bg-[#303030]!",button:"rounded-full! h-8! w-8! border-none!",buttons:"absolute end-2! gap-0!"},ws=({processorEntity:t,billingDetails:e})=>{var u,d;const r=kt(),n=le(),{country:o}=Gt(),a=Wt({country:o!=null?o:Yt,currentAccount:r,location:"checkout-plan-selector",shouldUsePaidSubscriptionBillingCurrency:!1}),{data:l,isLoading:c,error:i}=qt({countryCode:e!=null&&e.country&&Ht(e==null?void 0:e.country)?e==null?void 0:e.country:a==null?void 0:a.country,currency:(u=e==null?void 0:e.currency)!=null?u:a==null?void 0:a.currency,ctx:n});return!a||c||i!=null||!l?null:s.jsx(Ms,{checkoutPricingConfig:l,currency:(d=e==null?void 0:e.currency)!=null?d:a==null?void 0:a.currency,processorEntity:t})},Ms=({checkoutPricingConfig:t,currency:e,processorEntity:r})=>{const n=Q(),{flexibleBillingPlan:o,annualBillingPlan:a}=Kt(e,t,!0),l=hs(),c=!!l,{data:i}=Qt(l!=null?l:"",c),{selectedPlan:u,setSelectedPlan:d,numSeats:p,setNumSeats:m,minTeamSeats:f,TEAM1DOLLAR_COUPON_IsEligible:h,TEAM_FREE_TRIAL_COUPON_IsEligible:g}=ps({promoData:i,promoDataIsFromQueryParam:c}),b=ae(),_=zt(isNaN(p)?0:p,f,Xt),S=Zt(),N=h||g||S,k=T.useMemo(()=>dt((C,R)=>{ms({checkout:b,processorEntity:r,planName:"chatgptteamplan",seatQuantity:C,priceInterval:R,promoCampaign:void 0,annualBillingPlan:a,intl:n,currency:e})},500,{leading:!1,trailing:!0}),[]),A=le(),v=T.useMemo(()=>xt(A,b.lineItems),[b.lineItems,A]),w=T.useRef(!1);return T.useEffect(()=>{if(!w.current){w.current=!0;return}if((v==null?void 0:v.interval)===u&&(v==null?void 0:v.quantity)===_)return;const C=u===Se.FLEXIBLE?"month":"year";k(_,C)},[b,_,k,u,v]),s.jsxs("div",{className:"flex w-full flex-col gap-3",children:[!N&&s.jsxs(Jt,{className:j("col-span-3 grid w-full gap-3 md:col-span-2 md:grid-cols-2"),defaultValue:u,onValueChange:C=>{xs(C)&&d(C)},children:[s.jsx(rt,B(M({billingType:Se.FLEXIBLE},o),{selectedValue:u})),s.jsx(rt,B(M({billingType:Se.ANNUAL},a),{selectedValue:u}))]}),s.jsx(es,{classNames:As,numSeats:p,label:s.jsx(U,M({},mt.seatsTitle)),minSeats:f,setNumSeats:m})]})};function Os(t){"use forget";var I;const e=G.c(53);let r,n,o,a,l,c,i,u,d,p,m,f,h,g;e[0]!==t?(I=t,{label:i,id:l,className:r,containerClassName:n,inputClassName:c,defaultValue:o,value:g,onChange:d,onFocus:p,ref:f,onBlur:u,placeholder:m,disabled:a}=I,h=Qe(I,["label","id","className","containerClassName","inputClassName","defaultValue","value","onChange","onFocus","ref","onBlur","placeholder","disabled"]),e[0]=t,e[1]=r,e[2]=n,e[3]=o,e[4]=a,e[5]=l,e[6]=c,e[7]=i,e[8]=u,e[9]=d,e[10]=p,e[11]=m,e[12]=f,e[13]=h,e[14]=g):(r=e[1],n=e[2],o=e[3],a=e[4],l=e[5],c=e[6],i=e[7],u=e[8],d=e[9],p=e[10],m=e[11],f=e[12],h=e[13],g=e[14]);const b=T.useId(),_=l!=null?l:b,[S,N]=T.useState(o!=null?o:""),[k,A]=T.useState(!1),v=g!=null?g:S,w=typeof v=="string"?v.trim().length>0:v!=null&&v!==void 0,C=!!(m&&(k||w)),R=k||w,F=a&&"cursor-not-allowed opacity-60";let L;e[15]!==r||e[16]!==n||e[17]!==F?(L=j("relative flex h-18 w-full items-center rounded-2xl","text-token-text-primary border-none bg-[#f7f7f7]! text-[16px] font-medium dark:bg-[#303030]!","focus:border-none! focus:shadow-none! focus:ring-0! focus:outline-none!",F,n,r),e[15]=r,e[16]=n,e[17]=F,e[18]=L):L=e[18];const D="".concat(_,"-label"),ee=a&&"cursor-not-allowed";let q;e[19]!==c||e[20]!==ee?(q=j("peer h-full w-full rounded-2xl border-none bg-transparent ps-5 pt-5 text-base font-medium","text-token-text-primary placeholder:text-token-text-tertiary dark:placeholder:text-[#afafaf]!","ring-none outline-none focus-visible:outline-none","focus:ring-[black]! dark:focus:ring-[#ffffff]!",ee,c),e[19]=c,e[20]=ee,e[21]=q):q=e[21];let $;e[22]!==u?($=P=>{A(!1),u==null||u(P)},e[22]=u,e[23]=$):$=e[23];let V;e[24]!==d||e[25]!==g?(V=P=>{g===void 0&&N(P.target.value),d==null||d(P)},e[24]=d,e[25]=g,e[26]=V):V=e[26];let W;e[27]!==p?(W=P=>{A(!0),p==null||p(P)},e[27]=p,e[28]=W):W=e[28];const Z=C?m:"",ne=g!=null?g:S;let z;e[29]!==a||e[30]!==_||e[31]!==f||e[32]!==h||e[33]!==ne||e[34]!==D||e[35]!==q||e[36]!==$||e[37]!==V||e[38]!==W||e[39]!==Z?(z=s.jsx("input",B(M({ref:f},h),{"aria-labelledby":D,className:q,disabled:a,id:_,onBlur:$,onChange:V,onFocus:W,placeholder:Z,value:ne})),e[29]=a,e[30]=_,e[31]=f,e[32]=h,e[33]=ne,e[34]=D,e[35]=q,e[36]=$,e[37]=V,e[38]=W,e[39]=Z,e[40]=z):z=e[40];const H=R?"text-token-text-tertiary top-3 text-[14px]":"top-1/2 -translate-y-1/2",te=a&&"text-token-text-tertiary dark:text-[#afafaf]!";let X;e[41]!==H||e[42]!==te?(X=j("pointer-events-none absolute start-4 mb-1 rounded px-1 text-base font-medium text-[#667085] dark:text-[#afafaf]!","bg-transparent","transition-all duration-300 ease-in-out",H,te),e[41]=H,e[42]=te,e[43]=X):X=e[43];const J="".concat(_,"-label");let x;e[44]!==_||e[45]!==i||e[46]!==X||e[47]!==J?(x=s.jsx("label",{className:X,htmlFor:_,id:J,children:i}),e[44]=_,e[45]=i,e[46]=X,e[47]=J,e[48]=x):x=e[48];let E;return e[49]!==z||e[50]!==x||e[51]!==L?(E=s.jsxs("div",{className:L,children:[z,x]}),e[49]=z,e[50]=x,e[51]=L,e[52]=E):E=e[52],E}function Ls(t){switch(t){case y.GUEST:case y.FREE:return ie.freeRedesign.planName;case y.GO:return ie.goRedesign.planName;case y.PLUS:return ie.plusRedesign.planName;case y.PRO:return ie.proRedesign.planName;case y.SELF_SERVE_BUSINESS:case y.FREE_WORKSPACE:return ie.teamRedesign.planName;case y.ENTERPRISE_CBP:case y.QUORUM:case y.EDUCATION_CBP:case y.K12:case y.DEPRECATED_ENTERPRISE:case y.DEPRECATED_EDU:return ie.teamRedesign.planName;default:return ie.freeRedesign.planName}}function yt({planType:t,intl:e}){return t?e.formatMessage(Ls(t)):""}function Rs(t){switch(t){case y.FREE:return se.freePlan;case y.GO:return se.goPlan;case y.PLUS:return se.plusPlan;case y.PRO:return se.proPlan;case y.SELF_SERVE_BUSINESS:case y.FREE_WORKSPACE:return se.businessPlan;case y.ENTERPRISE_CBP:case y.QUORUM:case y.EDUCATION_CBP:case y.DEPRECATED_ENTERPRISE:case y.DEPRECATED_EDU:return se.businessPlan;default:return se.plusPlan}}const se=re({checkoutPersonalButtonText:{id:"CheckoutSummary.checkoutPersonalButtonText",defaultMessage:"Purchase ChatGPT {planName}"},freePlan:{id:"CheckoutSummary.headingFree",defaultMessage:"Free plan"},goPlan:{id:"CheckoutSummary.headingGo",defaultMessage:"Go plan"},plusPlan:{id:"CheckoutSummary.headingPlus",defaultMessage:"Plus plan"},proPlan:{id:"CheckoutSummary.headingPro",defaultMessage:"Pro plan"},businessPlan:{id:"CheckoutSummary.headingBusiness",defaultMessage:"Business plan"}}),Fs="3950229590",Us="is_layout_accordion_enabled",Bs="is_layout_accordion_expanded",Ds="is_layout_show_card_terms";function _t({billingDetails:t,className:e,processorEntity:r,automaticTaxEnabled:n,isCheckoutRedesignEnabled:o,immediateDiscountSettings:a,planType:l,requiresManualApproval:c}){"use no forget";var te,X,J;const i=ae(),u=le(),d=Q(),p=At(()=>wt()),m=Mt(),f=T.useId(),{subscribeButtonContainer:h,isRunningServerUpdate:g,checkoutSessionUpdateError:b}=Ne(),_=yt({planType:l,intl:d}),S=d.formatMessage(se.checkoutPersonalButtonText,{planName:_}),[N,k]=T.useState((X=(te=i==null?void 0:i.billingAddress)==null?void 0:te.address.country)!=null?X:null);async function A(x){var E,I,P,Y;try{if(!i||n)return;const me=x!=null?x:N;if(me==null)return;const ge={checkout_session_id:i.id,checkout_email:i.email,billing_country:me,currency:i.currency,tax_id:(I=(E=i.taxIdInfo)==null?void 0:E.taxId)==null?void 0:I.value,processor_entity:r,billing_address:(Y=(P=i.billingAddress)==null?void 0:P.address)!=null?Y:{}};await i.runServerUpdate(async()=>{await ze.safePost("/payments/checkout/taxes",{requestBody:ge})})}catch(me){ue.addError("Failed to fetch taxes",{error:me})}}const[v]=T.useState(!!(i!=null&&i.email)),w=o&&v,[C,R]=T.useState(null),F=T.useRef(null),L=T.useRef(null),D=T.useRef(null),ee=T.useRef(null),q=T.useRef(null),$=T.useRef(null),V=T.useRef(null),W=T.useRef(!0),Z=T.useRef(null),ne=T.useMemo(()=>$s({ctx:u,isCheckoutRedesignEnabled:o}),[u,o]);async function z(){const x=V.current;return!x||!x.validate()?!1:await x.update()}const H=gs({defaultValues:{email:(J=i==null?void 0:i.email)!=null?J:"",hasAcceptedTermsOfService:o!=null?o:!1,hasCompletePaymentElement:!1,hasCompleteBillingAddress:!1},validators:{onChange:({value:x})=>{const E={},{hasAcceptedTermsOfService:I,hasCompleteBillingAddress:P,hasCompletePaymentElement:Y}=x;return I||(E.hasAcceptedTermsOfService=d.formatMessage({id:"CheckoutForm.inputLabelTermsOfServiceRequired",defaultMessage:"Agree to OpenAI, LLC's terms to complete your transaction."})),P||(E.hasCompleteBillingAddress=d.formatMessage({id:"CheckoutForm.inputLabelBillingAddressRequired",defaultMessage:"Your billing address is required."})),Y||(E.hasCompletePaymentElement=d.formatMessage({id:"UBzTsj",defaultMessage:"Your payment method is required."})),{fields:E}},onBlur:({value:x})=>{const E={},{email:I}=x;return I||(E.email=d.formatMessage({id:"CheckoutForm.inputLabelEmailRequired",defaultMessage:"Your email is required."})),{fields:E}},onBlurAsync:async({value:x})=>{const E={},{email:I}=x;if(i.email!==I){const P=await i.updateEmail(I);if(P.type==="error")switch(P.error.code){case"incompleteEmail":E.email=d.formatMessage({id:"CheckoutForm.inputLabelEmailIncomplete",defaultMessage:"Your email is incomplete."});break;case"invalidEmail":E.email=d.formatMessage({id:"CheckoutForm.inputLabelEmailInvalid",defaultMessage:"Your email is invalid."});break}}return{fields:E}}},canSubmitWhenInvalid:!0,onSubmitInvalid:async({formApi:x})=>{var Ae,we,Me,Oe,Le,Re,Fe,Ue,Be,De,$e,Ve,Ge;i!=null&&i.canConfirm||await i.confirm(),await z();const I=((we=(Ae=x.getFieldMeta("email"))==null?void 0:Ae.errors)!=null?we:[]).length>0,Y=((Oe=(Me=x.getFieldMeta("hasAcceptedTermsOfService"))==null?void 0:Me.errors)!=null?Oe:[]).length>0,ge=((Re=(Le=x.getFieldMeta("hasCompletePaymentElement"))==null?void 0:Le.errors)!=null?Re:[]).length>0,ke=((Ue=(Fe=x.getFieldMeta("hasCompleteBillingAddress"))==null?void 0:Fe.errors)!=null?Ue:[]).length>0;de.logEventWithStatsig("ChatGPT Checkout: Subscribe Click Incomplete Failure","chatgpt_checkout_subscribe_click_incomplete_failure",{hasEmailErrors:I,hasPaymentElementErrors:ge,hasBillingAddressErrors:ke,hasTermsOfServiceErrors:Y,plan_type:l}),I?((Be=F.current)==null||Be.scrollIntoView({behavior:"smooth",block:"center"}),(De=L.current)==null||De.focus({preventScroll:!0})):ge?($e=q.current)==null||$e.scrollIntoView({behavior:"smooth",block:"center"}):ke?(Ve=$.current)==null||Ve.scrollIntoView({behavior:"smooth",block:"center"}):Y&&((Ge=D.current)==null||Ge.scrollIntoView({behavior:"smooth",block:"center"}))},onSubmit:async()=>{var x;try{if(!await z())return;R(null);const I={redirect:"always"};c&&(I.onRequiresApproval=async()=>{const Y=await ze.safePost("/payments/checkout/approve",{requestBody:{checkout_session_id:i.id,processor_entity:r}});Y.result!=="approved"&&(R(d.formatMessage({id:"CheckoutForm.bannerMessagePaymentNotApproved",defaultMessage:"Payment was not approved"})),ue.addError("Payment was not approved",{error:Y.result}))});const P=await i.confirm(I);switch(P.type){case"success":o&&de.logEventWithStatsig("ChatGPT Checkout: Subscribe Click Success","chatgpt_checkout_subscribe_click_success",{plan_type:l}),m.success(d.formatMessage({id:"CheckoutForm.bannerMessagePaymentSuccess",defaultMessage:"Payment successfully processed"}));break;case"error":o&&de.logEventWithStatsig("ChatGPT Checkout: Subscribe Click Error Failure","chatgpt_checkout_subscribe_click_error_failure",{plan_type:l}),ue.addError("Failed to process Stripe checkout",{error:P.error}),C||R((x=P.error.message)!=null?x:d.formatMessage({id:"CheckoutForm.bannerMessagePaymentFailure",defaultMessage:"Failed to process payment"}));break}}catch(E){o&&de.logEventWithStatsig("ChatGPT Checkout: Subscribe Click Error Failure","chatgpt_checkout_subscribe_click_error_failure",{plan_type:l}),m.danger(Ot.somethingWentWrong,{toastId:"checkout_form"}),ue.addError(E)}}});return s.jsxs("form",{id:f,className:j(e),onSubmit:x=>{x.preventDefault(),H.handleSubmit()},children:[C&&o&&s.jsx("div",{className:"mb-3 flex items-center rounded-2xl border border-red-200 bg-red-50 px-3 py-2 text-[13px] text-red-700",children:s.jsx("span",{className:"text-[16px] font-medium",children:C})}),s.jsxs("div",{className:"flex flex-col gap-6",children:[o&&l===y.SELF_SERVE_BUSINESS&&s.jsxs(oe,{ref:ee,children:[s.jsx(xe,{title:pe({id:"CheckoutForm.headingPlanDetails",defaultMessage:"Plan details"}),isCheckoutRedesignEnabled:!0}),s.jsx(ws,{processorEntity:r,billingDetails:t})]}),!w&&s.jsxs(oe,{ref:F,children:[p?s.jsx(xe,{title:pe({id:"CheckoutForm.headingContactInformation",defaultMessage:"Contact information"}),isCheckoutRedesignEnabled:o}):null,s.jsx(H.Field,{name:"email",children:x=>{const I=x.getMeta().errors.length>0&&(x.getMeta().isBlurred||x.getMeta().isPristine);return o?s.jsxs("div",{children:[s.jsx(Os,{label:d.formatMessage({id:"CheckoutForm.inputLabelEmail",defaultMessage:"Email"}),ref:L,id:x.name,disabled:v,name:x.name,onBlur:x.handleBlur,onChange:P=>{x.setMeta(Y=>B(M({},Y),{isBlurred:!1})),x.handleChange(P.target.value)},type:"email",value:x.state.value}),s.jsx(ve,{errors:x.state.meta.errors.filter(P=>!Ie(P)),shouldShowErrors:I})]}):s.jsxs("div",{children:[s.jsxs("label",{htmlFor:x.name,className:"flex flex-col",children:[s.jsx("span",{className:"color-[rgb(48, 49, 61)] mb-[0.25rem] text-[0.93rem]",children:s.jsx(U,{id:"CheckoutForm.inputLabelEmail",defaultMessage:"Email"})}),s.jsx("input",{ref:L,id:x.name,disabled:v,name:x.name,onBlur:x.handleBlur,onChange:P=>{x.setMeta(Y=>B(M({},Y),{isBlurred:!1})),x.handleChange(P.target.value)},type:"email",value:x.state.value,className:j("color-[rgb(48, 49, 61)] animate-stripeInputShow rounded-[5px] p-3 outline-none focus:border-white",{"bg-[rgb(247,247,247)]":v,"border-[#df1b41] shadow-none focus:border-[#0570de] focus:shadow-[0px_1px_1px_rgba(0,0,0,0.03),0px_3px_6px_rgba(0,0,0,0.02),0_0_0_3px_hsla(210,96%,45%,0.25),0_1px_1px_0_rgba(0,0,0,0.08)]":I,"border-[#e6e6e6] shadow-[0px_1px_1px_rgba(0,0,0,0.03),_0px_3px_6px_rgba(0,0,0,0.02)] focus:border-[#0570de] focus:shadow-[0px_1px_1px_rgba(0,0,0,0.03),0px_3px_6px_rgba(0,0,0,0.02),0_0_0_3px_hsla(210,96%,45%,0.25),0_1px_1px_0_rgba(0,0,0,0.08)]":!I}),style:{transition:"background 0.15s ease, border 0.15s ease, box-shadow 0.15s ease, color 0.15s ease",backgroundColor:v?"rgb(247,247,247)":""}})]}),s.jsx(ve,{errors:x.state.meta.errors.filter(P=>!Ie(P)),shouldShowErrors:I})]})}})]}),s.jsxs(oe,{ref:q,children:[s.jsx(xe,{title:pe({id:"CheckoutForm.headingPaymentMethod",defaultMessage:"Payment method"}),isCheckoutRedesignEnabled:o}),s.jsx(H.Field,{name:"hasCompletePaymentElement",children:x=>s.jsx(ls,{options:ne,onChange:({value:E,complete:I})=>{if(x.handleChange(I),o){const{type:P}=E!=null?E:{};if(W.current){W.current=!1,Z.current=P!=null?P:null;return}P&&Z.current!==P&&(de.logEventWithStatsig("ChatGPT Checkout: Payment Tab Clicked","chatgpt_checkout_payment_tab_clicked",{payment_method_type:P}),Z.current=P)}}})})]}),s.jsxs(oe,{ref:$,children:[s.jsx(xe,{title:pe({id:"CheckoutForm.headingBillingAddress",defaultMessage:"Billing address"}),isCheckoutRedesignEnabled:o,className:j(o&&"pt-4")}),s.jsx(H.Field,{name:"hasCompleteBillingAddress",children:x=>s.jsx(is,{options:{mode:"billing"},onChange:async({complete:E,value:I})=>{x.handleChange(E),k(I.address.country),await A(I.address.country)}})})]}),s.jsx(bt,{billingCountry:N,isCheckoutRedesignEnabled:o,ref:V}),!o&&s.jsx(oe,{ref:D,children:s.jsx(H.Field,{name:"hasAcceptedTermsOfService",children:x=>{const E=x.state.meta.isTouched&&x.state.meta.errors.length>0;return s.jsxs("div",{children:[s.jsx(ft,{id:"subscription-tos",containerClassName:"items-start",className:"mt-[4px]",style:{borderColor:E?"#df1b41":void 0},checked:x.state.value,onChange:I=>x.handleChange(I.currentTarget.checked),label:s.jsx(Vs,{immediateDiscountSettings:a})}),s.jsx(ve,{errors:x.state.meta.errors.filter(I=>!Ie(I)),shouldShowErrors:E})]})}})}),C&&!o&&s.jsx("div",{className:"rounded border border-red-200 bg-red-50 px-3 py-2 text-[13px] text-red-700",children:C}),s.jsx(H.Subscribe,{children:x=>{const E=s.jsx("button",{disabled:x.isSubmitting,type:"submit",form:f,className:j("flex h-[44px] items-center justify-center rounded-md border-none bg-[rgb(16,163,117)] p-0 font-medium shadow-[inset_0_0_0_1px_rgba(50,50,93,0.1),0_2px_5px_0_rgba(50,50,93,0.1),0_1px_1px_0_rgba(0,0,0,0.07)] outline-none",{"text-[rgba(255,255,255,1)]":x.isValid,"text-[rgba(255,255,255,0.6)]":!x.isValid}),children:x.isSubmitting?s.jsx(Xe,{}):s.jsx(U,M({},at.buttonSubscribe))});if(!o)return E;const I=s.jsx(je,{className:"w-full p-4 text-base",contentWrapperClassName:"gap-1","aria-label":S,disabled:b||g||x.isSubmitting||!x.canSubmit,form:f,type:"submit",children:x.isSubmitting?s.jsx(Xe,{}):s.jsx(U,M({},at.buttonSubscribe))});return h?It.createPortal(I,h):I}})]})]})}function $s({ctx:t,isCheckoutRedesignEnabled:e}){const r=Lt(t,Fs),n=r.get(Us,!1),o=r.get(Bs,!1),a=r.get(Ds,!0);let l={};return a||(l={card:"never"}),e?{layout:{type:"tabs"},terms:{card:"never"}}:n?{layout:{type:"accordion",defaultCollapsed:!o,radios:!0,spacedAccordionItems:!1},terms:l}:{layout:{type:"tabs"},terms:l}}function Vs(t){"use forget";const e=G.c(2),{immediateDiscountSettings:r}=t;if((r==null?void 0:r.no_auto_renewal_at_discount_end)===!0){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx("div",{className:"Text-color--gray600 text-[13px]",children:s.jsx(U,{id:"CheckoutForm.termsLabel.noAutoRenewal",defaultMessage:"We may change our prices as described in our <termsOfUseLink>Terms of Use</termsOfUseLink>. By subscribing, you agree to OpenAI's <termsOfUseLink>Terms of Use</termsOfUseLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>, and you authorize us to store your payment method for renewals and other purchases.",values:{termsOfUseLink:Hs,privacyPolicyLink:qs}})}),e[0]=a):a=e[0],a}let o;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("div",{className:"Text-color--gray600 text-[13px]",children:s.jsx(U,{id:"CheckoutForm.termsLabel",defaultMessage:"You'll be charged the amount and at the frequency listed above until you cancel. We may change our prices as described in our <termsOfUseLink>Terms of Use</termsOfUseLink>. You can <cancelAnytimeLink>cancel any time</cancelAnytimeLink>. By subscribing, you agree to OpenAI's <termsOfUseLink>Terms of Use</termsOfUseLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>, and you authorize us to store your payment method for renewals and other purchases.",values:{termsOfUseLink:Ys,cancelAnytimeLink:Ws,privacyPolicyLink:Gs}})}),e[1]=o):o=e[1],o}function Gs(t){return s.jsx("a",{className:"Terms-link",href:"https://openai.com/privacy/",rel:"noopener noreferrer",target:"_blank",children:t})}function Ws(t){return s.jsx("a",{className:"Terms-link",href:"https://help.openai.com/en/articles/7232927-how-do-i-cancel-my-chatgpt-plus-subscription",rel:"noopener noreferrer",target:"_blank",children:t})}function Ys(t){return s.jsx("a",{className:"Terms-link",href:"https://openai.com/terms/",rel:"noopener noreferrer",target:"_blank",children:t})}function qs(t){return s.jsx("a",{className:"Terms-link",href:"https://openai.com/privacy/",rel:"noopener noreferrer",target:"_blank",children:t})}function Hs(t){return s.jsx("a",{className:"Terms-link",href:"https://openai.com/terms/",rel:"noopener noreferrer",target:"_blank",children:t})}const at=re({buttonSubscribe:{id:"CheckoutForm.buttonSubscribe",defaultMessage:"Subscribe"}}),Ks="{{.assetPrefix}}/assets/logo-c8firrye.webp",Qs={src:Ks};function zs({className:t}){const e=Te();return s.jsxs("button",{type:"button",onClick:()=>e("/"),className:j("group relative flex w-[100px] items-center focus:outline-none",t),children:[s.jsx("div",{className:"flex items-center text-[hsla(0,0%,10%,0.4)] group-hover:text-[hsla(0,0%,10%,0.8)] lg:absolute lg:-start-5 lg:top-1",children:s.jsx(Rt,{className:"icon-sm me-1.5 transition-colors duration-100 ease-in-out"})}),s.jsx("img",{src:Qs.src,alt:"",className:"w-full"})]})}const _e=re({scheduledPercentDiscountSingle:{id:"InvoiceSummary.scheduledPercentDiscountSingle",defaultMessage:"{startInMonths, selectordinal, one {After #st month} two {After #nd month} few {After #rd month} other {After #th month}}, next month is {percentOff, number, ::percent} off"},scheduledPercentDiscountPlural:{id:"InvoiceSummary.scheduledPercentDiscountPlural",defaultMessage:"{startInMonths, selectordinal, one {After #st month} two {After #nd month} few {After #rd month} other {After #th month}}, next {durationInMonths} months are {percentOff, number, ::percent} off"},scheduledFixedDiscountSingle:{id:"InvoiceSummary.scheduledFixedDiscountSingle",defaultMessage:"{startInMonths, selectordinal, one {After #st month} two {After #nd month} few {After #rd month} other {After #th month}}, next month is {formattedAmount} off"},scheduledFixedDiscountPlural:{id:"InvoiceSummary.scheduledFixedDiscountPlural",defaultMessage:"{startInMonths, selectordinal, one {After #st month} two {After #nd month} few {After #rd month} other {After #th month}}, next {durationInMonths} months are {formattedAmount} off"}});function St({scheduledDiscountPreview:t,currency:e}){if(!t)return null;const{discount_amount:r,discount_type:n,duration_in_months:o,start_in_months:a}=t,l=Number(a),c=Number(o),i=Number(r);if(Number.isNaN(l)||Number.isNaN(c)||Number.isNaN(i)||l<=0||c<=0||i<=0)return null;if(n==="percentage"){const d=i/100;return!Number.isFinite(d)||d<=0?null:{descriptor:c===1?_e.scheduledPercentDiscountSingle:_e.scheduledPercentDiscountPlural,values:{startInMonths:l,durationInMonths:c,percentOff:d}}}const u=he({amountMinorUnits:Math.trunc(i),currency:e});return{descriptor:c===1?_e.scheduledFixedDiscountSingle:_e.scheduledFixedDiscountPlural,values:{startInMonths:l,durationInMonths:c,formattedAmount:u}}}function vt({className:t,scheduledDiscountPreview:e,immediateDiscountSettings:r,isCheckoutRedesign:n}){"use no forget";const{celebrationBannerText:o,checkoutSessionUpdateError:a}=Ne(),l=Q(),c=ae(),i=St({scheduledDiscountPreview:e,currency:c.currency}),u=i?s.jsx(U,B(M({},O.scheduledOfferApplied),{values:{offerName:s.jsx(U,B(M({},i.descriptor),{values:i.values}))}})):null;return s.jsxs("div",{className:t,children:[!n&&s.jsxs(s.Fragment,{children:[s.jsx(zs,{className:"mb-5 lg:mb-8"}),s.jsx(Xs,{className:"mb-7",scheduledDiscountPreview:e,immediateDiscountSettings:r})]}),s.jsx(Js,{isCheckoutRedesign:n,immediateDiscountSettings:r}),!!(u!=null?u:o)&&s.jsx(ar,{icon:u?bs:ht,children:u!=null?u:o}),!!a&&s.jsx(ve,{className:"mt-4",shouldShowErrors:!0,errors:[l.formatMessage({id:"0CNLuF",defaultMessage:"An error occurred while updating the checkout session. Please try updating your selection or contact support."})]})]})}function Xs(t){"use forget";var F,L,D;const e=G.c(31),{className:r,scheduledDiscountPreview:n,immediateDiscountSettings:o}=t,a=ae(),l=a.lineItems[0].name;let c;e[0]!==a.currency||e[1]!==a.total.total.minorUnitsAmount?(c=he({amountMinorUnits:a.total.total.minorUnitsAmount,currency:a.currency}),e[0]=a.currency,e[1]=a.total.total.minorUnitsAmount,e[2]=c):c=e[2];const i=c,u=((F=a.discountAmounts)!=null?F:[]).filter(Zs).length>0,d=o==null?void 0:o.no_auto_renewal_at_discount_end,p=(D=(L=a.recurring)==null?void 0:L.interval)!=null?D:"not_recurring";let m;e[3]!==a.currency||e[4]!==n?(m=St({scheduledDiscountPreview:n,currency:a.currency}),e[3]=a.currency,e[4]=n,e[5]=m):m=e[5];const f=m,h=f!=null;let g;e[6]!==f?(g=f?s.jsx(U,B(M({},f.descriptor),{values:f.values})):null,e[6]=f,e[7]=g):g=e[7];const b=g;let _;e[8]!==r?(_=j("text-center lg:text-start",r),e[8]=r,e[9]=_):_=e[9];let S;e[10]!==l?(S=s.jsx("div",{className:"Text-color--gray500 font-medium",children:s.jsx(U,B(M({},O.checkoutHeadingForSubscription),{values:{lineItem:l}}))}),e[10]=l,e[11]=S):S=e[11];let N;e[12]!==i?(N=s.jsx("span",{className:"me-2 text-[28px] lg:text-[36px]",children:i}),e[12]=i,e[13]=N):N=e[13];const k=u?"discounted":"none";let A;e[14]!==p||e[15]!==k?(A=s.jsx("span",{className:"Text-color--gray500 text-[14px]",children:s.jsx(U,B(M({},O.periodPrice),{values:{interval:p,hasExpiringDiscounts:k}}))}),e[14]=p,e[15]=k,e[16]=A):A=e[16];let v;e[17]!==N||e[18]!==A?(v=s.jsxs("div",{className:"font-semibold",children:[N,A]}),e[17]=N,e[18]=A,e[19]=v):v=e[19];let w;e[20]!==h||e[21]!==b?(w=h&&s.jsx("div",{className:"font-medium text-green-600",children:b}),e[20]=h,e[21]=b,e[22]=w):w=e[22];let C;e[23]!==d?(C=d&&s.jsx("div",{className:"Text-color--gray500 font-medium",children:s.jsx(U,M({},O.noAutoRenewalAtDiscountEnd))}),e[23]=d,e[24]=C):C=e[24];let R;return e[25]!==w||e[26]!==C||e[27]!==_||e[28]!==S||e[29]!==v?(R=s.jsxs("div",{className:_,children:[S,v,w,C]}),e[25]=w,e[26]=C,e[27]=_,e[28]=S,e[29]=v,e[30]=R):R=e[30],R}function Zs(t){var e;return((e=t.recurring)==null?void 0:e.type)!=="forever"}function Js({isCheckoutRedesign:t,immediateDiscountSettings:e}){"use no forget";var f,h,g;const r=ae(),n=Q(),o=r.currency,a=r.total.subtotal.minorUnitsAmount-r.total.discount.minorUnitsAmount-r.total.taxInclusive.minorUnitsAmount,{isRunningServerUpdate:l}=Ne(),c=(e==null?void 0:e.no_auto_renewal_at_discount_end)===!0;let i;if(t){const b=[];c&&b.push(s.jsx("span",{className:j("block",b.length>0&&"mt-1"),children:n.formatMessage(O.noAutoRenewalAtDiscountEnd)},"no-auto-renew")),i=b.length>0?s.jsx("div",{className:"flex flex-col gap-1",children:b}):void 0}const u=r.lineItems.map(b=>{const _=lr(b);return s.jsx(fe,{isLoading:l,isCheckoutRedesign:t,amountMinorUnits:b.subtotal.minorUnitsAmount,currency:o,subtitle:_?n.formatMessage(_):void 0,title:b.name,quantity:b.quantity,unitAmountMinorUnits:b.unitAmount.minorUnitsAmount},b.id)}),d=[...(f=r.discountAmounts)!=null?f:[]].map((b,_)=>s.jsx(rr,{isLoading:l,discount:b,currency:o,isCheckoutRedesign:t},_)),p=r.lineItems.find(b=>b.recurring!=null),m=t?nr({intl:n,interval:(h=p==null?void 0:p.recurring)==null?void 0:h.interval,quantity:p==null?void 0:p.quantity}):n.formatMessage(O.subtotal);return s.jsxs("div",{className:j("flex flex-col",t?"gap-1.5":"gap-4"),children:[!t&&u,!t&&s.jsx(nt,{}),s.jsx(fe,{isLoading:l,isCheckoutRedesign:t,amountClassName:j(t?"font-normal text-token-text-secondary":"font-semibold"),amountMinorUnits:r.total.subtotal.minorUnitsAmount,currency:o,title:m,subtitle:i}),t?d:null,!t&&d,s.jsx(er,{isLoading:l,isCheckoutRedesign:t,currency:o,taxAmounts:(g=r.taxAmounts)!=null?g:[],taxExclusiveAmount:a}),!t&&s.jsx(nt,{}),s.jsx(fe,{isLoading:l,isCheckoutRedesign:t,amountClassName:"text-base font-semibold",amountMinorUnits:r.total.total.minorUnitsAmount,currency:o,title:t?n.formatMessage(O.dueToday):n.formatMessage(O.totalDueToday),className:t?"mt-1.5":void 0,titleClassName:t?"text-[16px] font-medium! text-token-text-primary!":void 0})]})}function er(t){"use forget";const e=G.c(22),{taxAmounts:r,currency:n,taxExclusiveAmount:o,isCheckoutRedesign:a,isLoading:l}=t,c=Q();if(st(r)){const i=a?"text-token-text-secondary font-normal":void 0;let u;e[0]!==c||e[1]!==a?(u=a?c.formatMessage(O.estimatedTax):c.formatMessage(O.tax),e[0]=c,e[1]=a,e[2]=u):u=e[2];let d;return e[3]!==n||e[4]!==a||e[5]!==l||e[6]!==i||e[7]!==u?(d=s.jsx(fe,{isLoading:l,isCheckoutRedesign:a,amountMinorUnits:0,amountClassName:i,currency:n,title:u}),e[3]=n,e[4]=a,e[5]=l,e[6]=i,e[7]=u,e[8]=d):d=e[8],d}else{let i;if(e[9]!==n||e[10]!==c||e[11]!==a||e[12]!==l||e[13]!==r||e[14]!==o){let u;e[16]!==n||e[17]!==c||e[18]!==a||e[19]!==l||e[20]!==o?(u=(d,p)=>{const m=st(d.displayName)?c.formatMessage(O.tax):d.displayName,h=tr({minorUnitsAmount:d.minorUnitsAmount,taxExclusiveAmount:o}).toFixed(1).replace(/\.?0+$/,""),g="".concat(m," (").concat(h,"%)");return s.jsx(fe,{isLoading:l,isCheckoutRedesign:a,amountMinorUnits:d.minorUnitsAmount,amountClassName:a?"text-token-text-secondary font-normal":void 0,currency:n,title:g},p)},e[16]=n,e[17]=c,e[18]=a,e[19]=l,e[20]=o,e[21]=u):u=e[21],i=r.map(u),e[9]=n,e[10]=c,e[11]=a,e[12]=l,e[13]=r,e[14]=o,e[15]=i}else i=e[15];return i}}function tr({minorUnitsAmount:t,taxExclusiveAmount:e}){return t&&e?t/e*100:0}function fe(t){"use forget";const e=G.c(39),{amountClassName:r,amountMinorUnits:n,currency:o,subtitle:a,title:l,quantity:c,unitAmountMinorUnits:i,isCheckoutRedesign:u,className:d,titleClassName:p,isLoading:m}=t;let f;e[0]!==d?(f=j("gap-1 text-[14px]",d),e[0]=d,e[1]=f):f=e[1];const h=u&&m&&"loading-shimmer";let g;e[2]!==h?(g=j("flex w-full",h),e[2]=h,e[3]=g):g=e[3];const b=u?"text-token-text-secondary font-normal":"font-medium";let _;e[4]!==b||e[5]!==p?(_=j(b,p),e[4]=b,e[5]=p,e[6]=_):_=e[6];let S;e[7]!==_||e[8]!==l?(S=s.jsx("div",{className:_,children:l}),e[7]=_,e[8]=l,e[9]=S):S=e[9];let N;e[10]!==r?(N=j(r,"text-end","grow"),e[10]=r,e[11]=N):N=e[11];let k;e[12]!==n||e[13]!==o?(k=he({amountMinorUnits:n,currency:o}),e[12]=n,e[13]=o,e[14]=k):k=e[14];let A;e[15]!==N||e[16]!==k?(A=s.jsx("div",{className:N,children:k}),e[15]=N,e[16]=k,e[17]=A):A=e[17];let v;e[18]!==g||e[19]!==S||e[20]!==A?(v=s.jsxs("div",{className:g,children:[S,A]}),e[18]=g,e[19]=S,e[20]=A,e[21]=v):v=e[21];let w;e[22]!==c?(w=c&&c>1&&s.jsx("div",{className:"me-1 rounded-sm bg-gray-100 px-1",children:s.jsx(U,B(M({},O.lineItemQuantity),{values:{itemQuantity:c}}))}),e[22]=c,e[23]=w):w=e[23];let C;e[24]!==u||e[25]!==a?(C=a&&s.jsx("div",{className:j(u?"text-token-text-secondary":"Text-color--gray400"),children:a}),e[24]=u,e[25]=a,e[26]=C):C=e[26];let R;e[27]!==o||e[28]!==c||e[29]!==i?(R=c&&c>1&&i&&s.jsx("div",{className:"Text-color--gray400 grow text-end",children:s.jsx(U,B(M({},O.lineItemPricePerSeat),{values:{formattedAmount:he({amountMinorUnits:i,currency:o})}}))}),e[27]=o,e[28]=c,e[29]=i,e[30]=R):R=e[30];let F;e[31]!==w||e[32]!==C||e[33]!==R?(F=s.jsxs("div",{className:"flex w-full items-baseline text-[12px]",children:[w,C,R]}),e[31]=w,e[32]=C,e[33]=R,e[34]=F):F=e[34];let L;return e[35]!==f||e[36]!==v||e[37]!==F?(L=s.jsxs("div",{className:f,children:[v,F]}),e[35]=f,e[36]=v,e[37]=F,e[38]=L):L=e[38],L}function sr(t,e){var c;let r;const n=((c=e.percentOff)!=null?c:0)/100,o=e.amount,a=e.recurring,l=(a==null?void 0:a.type)==="repeating"?a.durationInMonths:null;return e.recurring&&e.recurring.type==="repeating"?r=n?O.discountPercentOffRecurring:O.fixedAmountOffRecurring:e.recurring?r=n?O.discountPercentOffIndefinite:O.fixedAmountOffIndefinite:r=n?O.discountPercentOffOnce:O.fixedAmountOffOnce,t.formatMessage(r,{formattedAmount:o,percentOff:n,durationInMonths:l})}function rr(t){"use forget";const e=G.c(27),{discount:r,currency:n,isCheckoutRedesign:o,isLoading:a}=t,l=Q(),c=r.displayName,i=-1*r.minorUnitsAmount;let u;e[0]!==r||e[1]!==l?(u=sr(l,r),e[0]=r,e[1]=l,e[2]=u):u=e[2];const d=u;if(o){let S;e[3]!==l?(S=l.formatMessage(O.discountLineItemTitle),e[3]=l,e[4]=S):S=e[4];let N;return e[5]!==i||e[6]!==n||e[7]!==a||e[8]!==d||e[9]!==S?(N=s.jsx(fe,{isLoading:a,isCheckoutRedesign:!0,amountMinorUnits:i,amountClassName:"text-[#5856D6] dark:text-[#8F8DF6] font-normal",currency:n,title:S,subtitle:d}),e[5]=i,e[6]=n,e[7]=a,e[8]=d,e[9]=S,e[10]=N):N=e[10],N}let p;e[11]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(Ft,{className:"icon-sm relative top-0.5 float-start me-1"}),e[11]=p):p=e[11];let m;e[12]!==c?(m=s.jsxs("span",{className:"rounded-md bg-gray-100 px-2 py-2 font-medium",children:[p,c]}),e[12]=c,e[13]=m):m=e[13];let f;e[14]!==d?(f=d?s.jsx("span",{className:"Text-color--gray400 text-[12px]",children:d}):null,e[14]=d,e[15]=f):f=e[15];let h;e[16]!==m||e[17]!==f?(h=s.jsxs("div",{className:"flex flex-col",children:[m,f]}),e[16]=m,e[17]=f,e[18]=h):h=e[18];let g;e[19]!==i||e[20]!==n?(g=he({amountMinorUnits:i,currency:n}),e[19]=i,e[20]=n,e[21]=g):g=e[21];let b;e[22]!==g?(b=s.jsx("span",{children:g}),e[22]=g,e[23]=b):b=e[23];let _;return e[24]!==h||e[25]!==b?(_=s.jsxs("div",{className:"flex justify-between text-[14px]",children:[h,b]}),e[24]=h,e[25]=b,e[26]=_):_=e[26],_}const ar=t=>{"use forget";const e=G.c(11),{children:r,icon:n}=t,o=n!=null?n:ht;let a,l,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={opacity:0,y:-8},l={opacity:1,y:0},c={duration:.2,ease:"easeOut"},e[0]=a,e[1]=l,e[2]=c):(a=e[0],l=e[1],c=e[2]);let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i={x:"-120%",opacity:0},e[3]=i):i=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u={x:"120%",opacity:[0,.6,0]},e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(Ze.div,{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -skew-x-12",initial:i,animate:u,transition:{duration:.9,ease:"easeInOut",times:[0,.5,1],delay:.2},style:{background:"linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.65) 50%, rgba(255,255,255,0) 100%)",mixBlendMode:"overlay"}}),e[5]=d):d=e[5];let p;e[6]!==o?(p=s.jsx("div",{children:s.jsx(o,{"aria-hidden":!0})}),e[6]=o,e[7]=p):p=e[7];let m;return e[8]!==r||e[9]!==p?(m=s.jsxs(Ze.div,{className:"relative mt-5 flex items-center gap-3 overflow-hidden rounded-2xl bg-[#5856D612] p-4 text-sm text-[#5856D6]",initial:a,animate:l,transition:c,children:[d,p,r]}),e[8]=r,e[9]=p,e[10]=m):m=e[10],m};function nt(){"use forget";const t=G.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx("div",{className:"Border-top-gray50"}),t[0]=e):e=t[0],e}function nr({intl:t,interval:e,quantity:r}){const n=or({intl:t,interval:e});if(!n)return t.formatMessage(O.subtotal);const o=r!=null?r:1;return o>1?t.formatMessage(O.subtotalTitleSubscriptionWithQuantity,{seatQuantity:o,subscriptionInterval:n}):t.formatMessage(O.subtotalTitleSubscription,{subscriptionInterval:n})}function or({intl:t,interval:e}){if(!e)return null;switch(e){case"month":return t.formatMessage(O.subscriptionIntervalMonthly);case"year":return t.formatMessage(O.subscriptionIntervalYearly);default:return ue.addError("unexpected_interval_for_subtotal_line_item",{interval:e}),null}}function lr(t){if(t.recurring)switch(t.recurring.interval){case"month":return O.billingPeriodMonthly;case"year":return O.billingPeriodYearly;default:return ue.addError("unexpected_interval_for_line_item",{interval:t.recurring.interval}),null}return null}const O=re({checkoutHeadingForSubscription:{id:"InvoiceSummary.checkoutHeadingForSubscription",defaultMessage:"Subscribe to {lineItem}"},periodPrice:{id:"InvoiceSummary.periodPrice",defaultMessage:"{interval, select, month {per month} year {per year} other {}}{hasExpiringDiscounts, select, discounted { until coupon expires} other {}}"},billingPeriodMonthly:{id:"InvoiceSummary.billingPeriodMonthly",defaultMessage:"Billed monthly"},billingPeriodYearly:{id:"InvoiceSummary.billingPeriodYearly",defaultMessage:"Billed yearly"},subtotal:{id:"InvoiceSummary.subtotal",defaultMessage:"Subtotal"},subtotalTitleSubscription:{id:"InvoiceSummary.subtotalTitleSubscription",defaultMessage:"{subscriptionInterval} subscription"},subtotalTitleSubscriptionWithQuantity:{id:"InvoiceSummary.subtotalTitleSubscriptionWithQuantity",defaultMessage:"{seatQuantity, number}x {subscriptionInterval} subscription"},subscriptionIntervalMonthly:{id:"InvoiceSummary.subscriptionIntervalMonthly",defaultMessage:"Monthly"},subscriptionIntervalYearly:{id:"InvoiceSummary.subscriptionIntervalYearly",defaultMessage:"Yearly"},totalDueToday:{id:"InvoiceSummary.totalDueToday",defaultMessage:"Total due today"},dueToday:{id:"InvoiceSummary.dueToday",defaultMessage:"Due today"},tax:{id:"InvoiceSummary.tax",defaultMessage:"Tax"},estimatedTax:{id:"InvoiceSummary.estimatedTax",defaultMessage:"Estimated tax"},discountLineItemTitle:{id:"InvoiceSummary.discountLineItemTitle",defaultMessage:"Promotion"},discountPercentOffIndefinite:{id:"InvoiceSummary.discountPercentOffIndefinite",defaultMessage:"{percentOff, number, ::percent} off"},lineItemQuantity:{id:"InvoiceSummary.lineItemQuantity",defaultMessage:"Qty {itemQuantity, number}"},lineItemPricePerSeat:{id:"InvoiceSummary.lineItemPricePerSeat",defaultMessage:"{formattedAmount} per seat"},discountPercentOffOnce:{id:"InvoiceSummary.discountPercentOffOnce",defaultMessage:"{percentOff, number, ::percent} off for a month"},discountPercentOffRecurring:{id:"InvoiceSummary.discountPercentOffRecurring",defaultMessage:"{percentOff, number, ::percent} off for {durationInMonths, plural, one {a month} other {{durationInMonths, number} months}}"},fixedAmountOffIndefinite:{id:"InvoiceSummary.fixedAmountOffIndefinite",defaultMessage:"{formattedAmount} off"},fixedAmountOffOnce:{id:"InvoiceSummary.fixedAmountOffOnce",defaultMessage:"{formattedAmount} off for a month"},fixedAmountOffRecurring:{id:"InvoiceSummary.fixedAmountOffRecurring",defaultMessage:"{formattedAmount} off for {durationInMonths, plural, one {a month} other {{durationInMonths, number} months}}"},scheduledOfferApplied:{id:"InvoiceSummary.scheduledOfferApplied",defaultMessage:"Offer applied: {offerName}"},noAutoRenewalAtDiscountEnd:{id:"InvoiceSummary.noAutoRenewalAtDiscountEnd",defaultMessage:"No auto-renew"}});function ir(t){return t===y.SELF_SERVE_BUSINESS?Ee.business:Ee.consumer}function cr(t){"use forget";const e=G.c(13),{planType:r}=t;let n;e[0]!==r?(n=ir(r),e[0]=r,e[1]=n):n=e[1];const o=n,a=ae(),l=Q(),c=le();let i;e:{if(r===y.SELF_SERVE_BUSINESS){let f;e[2]!==a.lineItems||e[3]!==c?(f=xt(c,a.lineItems),e[2]=a.lineItems,e[3]=c,e[4]=f):f=e[4],i=f;break e}i=void 0}const u=i;let d;e[5]!==l||e[6]!==(u==null?void 0:u.interval)?(d=l.formatMessage((u==null?void 0:u.interval)===Se.ANNUAL?Ee.anAnnual:Ee.aMonthly),e[5]=l,e[6]=u==null?void 0:u.interval,e[7]=d):d=e[7];let p;e[8]!==d?(p={termsOfServiceLink:fr,privacyPolicyLink:dr,businessTermsLink:ur,planInterval:d},e[8]=d,e[9]=p):p=e[9];let m;return e[10]!==o||e[11]!==p?(m=s.jsx("span",{className:"text-caption-regular px-3",children:s.jsx(U,B(M({},o),{values:p}))}),e[10]=o,e[11]=p,e[12]=m):m=e[12],m}function ur(t){return s.jsx("a",{className:"underline",href:"https://openai.com/policies/business-terms",target:"_blank",rel:"noopener noreferrer",children:t})}function dr(t){return s.jsx("a",{className:"underline",href:"https://openai.com/privacy/",target:"_blank",rel:"noopener noreferrer",children:t})}function fr(t){return s.jsx("a",{className:"underline",href:"https://openai.com/terms/",target:"_blank",rel:"noopener noreferrer",children:t})}const Ee=re({consumer:{id:"CheckoutDisclaimer.disclaimer",defaultMessage:"By subscribing, you authorize OpenAI Inc. to charge you according to the terms until you cancel. You also agree to the <termsOfServiceLink>Terms of Service</termsOfServiceLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>."},business:{id:"CheckoutDisclaimer.businessStandardDisclaimer.v2",defaultMessage:"You'll be charged on {planInterval} basis based on the seats you use until you cancel. By subscribing, you agree to OpenAI's <businessTermsLink>Business Terms</businessTermsLink> and you authorize us to store your payment method for renewals and other purposes."},aMonthly:{id:"JPqZeW",defaultMessage:"a monthly"},anAnnual:{id:"6/+f/k",defaultMessage:"an annual"}}),ot=re({offerApplied:{id:"CheckoutOfferTopBanner.offerApplied",defaultMessage:"Offer applied: {offerName}"},viewTerms:{id:"CheckoutOfferTopBanner.viewTerms",defaultMessage:"View terms"}}),mr="https://openai.com/terms/";function pr(){"use forget";var b,_,S,N,k,A,v;const t=G.c(28),e=ae(),r=Q();let n,o,a,l,c,i,u;if(t[0]!==((_=(b=e.discountAmounts)==null?void 0:b[0])==null?void 0:_.displayName)||t[1]!==r){u=Symbol.for("react.early_return_sentinel");e:{const w=(k=(N=(S=e.discountAmounts)==null?void 0:S[0])==null?void 0:N.displayName)==null?void 0:k.trim();if(!w){u=null;break e}t[9]===Symbol.for("react.memo_cache_sentinel")?(l=j("bg-[#E8EBFF] dark:bg-[#1F1D48]","text-token-text-primary dark:text-token-text-primary","px-4 py-3 text-center text-sm font-medium md:-mt-9","flex w-full items-center"),t[9]=l):l=t[9],c="status",i="polite",o="mx-auto inline-flex flex-wrap items-center justify-center gap-2",t[10]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(ss,{"aria-hidden":!0,className:"h-5 w-5 text-[#5856D6] dark:text-[#8F8DF6]"}),t[10]=a):a=t[10],n=r.formatMessage(ot.offerApplied,{offerName:w})}t[0]=(v=(A=e.discountAmounts)==null?void 0:A[0])==null?void 0:v.displayName,t[1]=r,t[2]=n,t[3]=o,t[4]=a,t[5]=l,t[6]=c,t[7]=i,t[8]=u}else n=t[2],o=t[3],a=t[4],l=t[5],c=t[6],i=t[7],u=t[8];if(u!==Symbol.for("react.early_return_sentinel"))return u;let d;t[11]!==n?(d=s.jsx("span",{children:n}),t[11]=n,t[12]=d):d=t[12];let p;t[13]!==r?(p=r.formatMessage(ot.viewTerms),t[13]=r,t[14]=p):p=t[14];let m;t[15]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(Ut,{"aria-hidden":!0,className:"h-3 w-3 text-current"}),t[15]=m):m=t[15];let f;t[16]!==p?(f=s.jsxs("a",{className:"inline-flex items-center gap-1 text-[#5856D6] underline dark:text-[#8F8DF6]",href:mr,target:"_blank",rel:"noreferrer",children:[p,m]}),t[16]=p,t[17]=f):f=t[17];let h;t[18]!==o||t[19]!==f||t[20]!==a||t[21]!==d?(h=s.jsxs("div",{className:o,children:[a,d,f]}),t[18]=o,t[19]=f,t[20]=a,t[21]=d,t[22]=h):h=t[22];let g;return t[23]!==h||t[24]!==l||t[25]!==c||t[26]!==i?(g=s.jsx("div",{className:l,role:c,"aria-live":i,children:h}),t[23]=h,t[24]=l,t[25]=c,t[26]=i,t[27]=g):g=t[27],g}function xr(){"use forget";const t=G.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=s.jsx("div",{className:"w-full py-3",children:s.jsx("div",{className:"border-token-border-default h-px w-full border-t"})}),t[0]=e):e=t[0],e}function hr({planType:t,ctx:e}){switch(t){case y.FREE:return ns().advertisedFeatures;case y.GO:return as({isCheckoutRedesign:!0,ctx:e}).advertisedFeatures;case y.PLUS:return et({isCheckoutRedesign:!0,ctx:e}).advertisedFeatures;case y.PRO:return rs({isCheckoutRedesign:!0,ctx:e}).advertisedFeatures;case y.SELF_SERVE_BUSINESS:return tt({isCheckoutRedesign:!0,isOutcomeValuePropsEnabled:!1}).advertisedFeatures;case y.ENTERPRISE_CBP:case y.QUORUM:case y.EDUCATION_CBP:case y.DEPRECATED_ENTERPRISE:case y.DEPRECATED_EDU:return tt({isCheckoutRedesign:!0,isOutcomeValuePropsEnabled:!1}).advertisedFeatures;default:return et({isCheckoutRedesign:!0,ctx:e}).advertisedFeatures}}function gr({planType:t,scheduledDiscountPreview:e,immediateDiscountSettings:r}){"use no forget";const n=le(),o=Q(),a=Rs(t),l=hr({planType:t,ctx:n}),{setSubscribeButtonContainer:c}=Ne(),i=yt({planType:t,intl:o}),u=o.formatMessage(se.checkoutPersonalButtonText,{planName:i}),d=T.useCallback(p=>{c(p)},[c]);return s.jsxs("div",{className:"border-token-border-default bg-token-bg-primary dark:bg-token-bg-secondary rounded-4xl border p-8 shadow-[0_4px_25px_-5px_rgba(232,235,255,0.57)] dark:shadow-[0_4px_25px_-5px_rgb(8_12_35_/_0.6)]",children:[t&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"mb-3 text-[28px] leading-8.5 font-medium",children:o.formatMessage(a)}),s.jsx("h4",{className:"text-body-small-regular py-2 text-[15px]",children:o.formatMessage(br.topFeatures)})]}),s.jsx(_s,{advertisedFeatures:l==null?void 0:l.slice(0,4),type:Ss.CHECKOUT}),s.jsx(xr,{}),s.jsx(vt,{className:"w-full pt-3 pb-5",scheduledDiscountPreview:e,immediateDiscountSettings:r,isCheckoutRedesign:!0}),s.jsx("div",{ref:d,"aria-label":u,className:"min-h-[44px] w-full"})]})}const br=re({topFeatures:{id:"CheckoutSummary.topFeatures",defaultMessage:"Top features"}});function yr({billingDetails:t,processorEntity:e,automaticTaxEnabled:r,immediateDiscountSettings:n,scheduledDiscountPreview:o,planType:a,requiresManualApproval:l,personalizationFeatures:c}){"use no forget";var f;const i=Q(),u=Te(),d=ae();le();const p=((f=d.discountAmounts)!=null?f:[]).length>0,m=()=>{if(c!=null&&c.shouldExitToHomeOnBackArrowClick){u("/",{replace:!0});return}u(-1)};return s.jsxs(s.Fragment,{children:[s.jsx(je,{as:"link",to:"/",color:"ghost",className:j("absolute start-6 hidden w-fit border-none p-0 md:block",p?"top-18":"top-6"),children:s.jsx(ys,{height:32,width:32})}),s.jsx(pr,{}),s.jsxs("div",{className:j("bg-token-bg-primary mx-auto flex h-fit w-fit max-w-[1060px] flex-col px-6 pt-6 sm:pb-15",p?"md:mt-15":"md:mt-9"),children:[s.jsxs("div",{className:"relative mb-11 flex items-center",children:[s.jsx(je,{type:"button",color:"ghost",onClick:m,className:"absolute top-0 w-4 p-0 hover:bg-transparent lg:-start-8",children:s.jsx(Bt,{height:28,width:28})}),s.jsx("h1",{className:"ps-3 text-[28px] leading-8.5 font-medium sm:ps-4 lg:-ms-4 lg:ps-0",children:i.formatMessage(_r.heading)})]}),s.jsxs("div",{className:"p-x-20 flex flex-col justify-between gap-4 pb-12 sm:flex-row sm:gap-6 sm:pb-0 md:gap-12 lg:gap-18",children:[s.jsx("div",{className:"flex flex-col sm:max-w-[calc(100vw-380px)] md:max-w-[calc(100vw-480px)]",children:s.jsx(_t,{className:"w-full max-w-[calc(100vw-48px)] sm:w-[486px] sm:max-w-[100%]",billingDetails:t,processorEntity:e,automaticTaxEnabled:r,immediateDiscountSettings:n,isCheckoutRedesignEnabled:!0,planType:a,requiresManualApproval:l})}),s.jsxs("div",{className:"flex max-w-[calc(100vw-48px)] flex-col gap-6 sm:max-w-[300px] md:max-w-[420px]",children:[s.jsx(gr,{planType:a,scheduledDiscountPreview:o,immediateDiscountSettings:n}),s.jsx(cr,{planType:a})]})]})]})]})}const _r=re({heading:{id:"CheckoutRedesignPage.heading",defaultMessage:"Configure your plan"}}),Sr=t=>{"use forget";const e=G.c(21),{billingDetails:r,processorEntity:n,automaticTaxEnabled:o,scheduledDiscountPreview:a,immediateDiscountSettings:l,planType:c,requiresManualApproval:i,personalizationFeatures:u}=t,d=cs(),p=le();if(!d)return null;if(pt({ctx:p,shouldLogExposure:!1})){let b;return e[0]!==o||e[1]!==r||e[2]!==l||e[3]!==u||e[4]!==c||e[5]!==n||e[6]!==i||e[7]!==a?(b=s.jsx(yr,{billingDetails:r,processorEntity:n,automaticTaxEnabled:o,immediateDiscountSettings:l,scheduledDiscountPreview:a,planType:c,requiresManualApproval:i,personalizationFeatures:u}),e[0]=o,e[1]=r,e[2]=l,e[3]=u,e[4]=c,e[5]=n,e[6]=i,e[7]=a,e[8]=b):b=e[8],b}let f;e[9]!==l||e[10]!==a?(f=s.jsx("div",{className:"flex w-full justify-center pt-4 lg:min-h-full lg:flex-1 lg:justify-end lg:pe-20 lg:pt-12 lg:pb-12",children:s.jsx(vt,{className:"w-full max-w-[380px]",scheduledDiscountPreview:a,immediateDiscountSettings:l,isCheckoutRedesign:!1})}),e[9]=l,e[10]=a,e[11]=f):f=e[11];let h;e[12]!==o||e[13]!==l||e[14]!==c||e[15]!==n||e[16]!==i?(h=s.jsx("div",{className:"pb-12 lg:min-h-full lg:flex-1 lg:ps-20 lg:pt-12 lg:shadow-[15px_0_30px_0_rgba(0,0,0,0.18)]",children:s.jsx(_t,{className:"w-full max-w-[380px]",processorEntity:n,automaticTaxEnabled:o,immediateDiscountSettings:l,isCheckoutRedesignEnabled:!1,planType:c,requiresManualApproval:i})}),e[12]=o,e[13]=l,e[14]=c,e[15]=n,e[16]=i,e[17]=h):h=e[17];let g;return e[18]!==f||e[19]!==h?(g=s.jsxs("div",{className:"checkout-page flex h-full flex-col items-center gap-12 overflow-y-auto bg-white px-4 lg:flex-row lg:items-start lg:justify-center lg:gap-0 lg:px-0",children:[f,h]}),e[18]=f,e[19]=h,e[20]=g):g=e[20],g};function vr(t){if(!t)return null;switch(t){case K.FREE:return y.FREE;case K.GO:return y.GO;case K.PLUS:case K.PLUS_FREE:return y.PLUS;case K.PRO:case K.PRO_FREE:return y.PRO;case K.SELF_SERVE_BUSINESS:return y.SELF_SERVE_BUSINESS;case K.ENTERPRISE_CBP_FLAT:case K.ENTERPRISE_CBP_SEAT_USAGE:return y.ENTERPRISE_CBP;case K.EDUCATION_CBP_FLAT:return y.EDUCATION_CBP;case K.QUORUM:return y.QUORUM;case K.DEPRECATED_ENTERPRISE:return y.DEPRECATED_ENTERPRISE;case K.DEPRECATED_EDU:return y.DEPRECATED_EDU;default:return y.PLUS}}const Kr=Pt(function(){"use forget";var Z,ne,z,H;const e=G.c(38),r=jt(),n=le(),o=Te(),a=Tt(),l=ut(),c=r.publishable_key,i=r.client_secret;let u;e[0]!==r.plan_name?(u=vr(r.plan_name),e[0]=r.plan_name,e[1]=u):u=e[1];const d=u,p=(Z=r.requires_manual_approval)!=null?Z:!1;let m;e[2]!==a.state?(m=(ne=a.state)!=null?ne:{checkoutRedesignExposureLogged:!1},e[2]=a.state,e[3]=m):m=e[3];const f=m,h=f[os]===!0,g=f==null?void 0:f.directPurchasePlanType;let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=[],e[4]=b):b=e[4],T.useEffect(Er,b);let _;e[5]!==c?(_=us(c,{betas:["custom_checkout_server_updates_1","custom_checkout_manual_approval_1"],locale:"auto"}),e[5]=c,e[6]=_):_=e[6];const S=_;let N,k;e[7]!==S?(N=()=>{const te=S;if(!te)return;const X=performance.now();let J=!1;return te.then(x=>{if(J||!x)return;const E=performance.now()-X;de.logValueEventWithStatsig({segmentEventName:"Inhouse Checkout: Stripe Loading Time Spent MS",statsigEventName:"chatgpt_web_inhouse_checkout_stripe_loading_time_spent_ms",value:Math.round(E)})}).catch(x=>{J||Dt.error("Stripe failed to load",x)}),()=>{J=!0}},k=[S],e[7]=S,e[8]=N,e[9]=k):(N=e[8],k=e[9]),T.useEffect(N,k);const A=!h;let v;e[10]!==n||e[11]!==A?(v=pt({ctx:n,shouldLogExposure:A}),e[10]=n,e[11]=A,e[12]=v):v=e[12];const w=v;let C;e[13]!==w||e[14]!==l?(C=w?Ir({isDarkMode:l}):Nr(),e[13]=w,e[14]=l,e[15]=C):C=e[15];const R=C;if(i==null){ue.addError(new Error("CheckoutSession missing client_secret")),o("/#pricing");return}let F;e[16]!==i?(F=()=>Promise.resolve(i),e[16]=i,e[17]=F):F=e[17];let L;e[18]!==R?(L={appearance:R},e[18]=R,e[19]=L):L=e[19];let D;e[20]!==L||e[21]!==F?(D={fetchClientSecret:F,elementsOptions:L},e[20]=L,e[21]=F,e[22]=D):D=e[22];const ee=(z=r.scheduled_discount_preview)!=null?z:null,q=(H=r.immediate_discount_settings)!=null?H:null;let $;e[23]!==g?($={shouldExitToHomeOnBackArrowClick:g,copy:null},e[23]=g,e[24]=$):$=e[24];let V;e[25]!==r.automatic_tax_enabled||e[26]!==r.billing_details||e[27]!==r.processor_entity||e[28]!==d||e[29]!==p||e[30]!==ee||e[31]!==q||e[32]!==$?(V=s.jsx(Sr,{billingDetails:r.billing_details,processorEntity:r.processor_entity,automaticTaxEnabled:r.automatic_tax_enabled,scheduledDiscountPreview:ee,immediateDiscountSettings:q,planType:d,requiresManualApproval:p,personalizationFeatures:$}),e[25]=r.automatic_tax_enabled,e[26]=r.billing_details,e[27]=r.processor_entity,e[28]=d,e[29]=p,e[30]=ee,e[31]=q,e[32]=$,e[33]=V):V=e[33];let W;return e[34]!==S||e[35]!==D||e[36]!==V?(W=s.jsx(ds,{stripe:S,options:D,children:V}),e[34]=S,e[35]=D,e[36]=V,e[37]=W):W=e[37],W});function Er(){$t.setPurchaseWorkspaceData(null)}function Nr(){return{rules:{".Input--invalid":{boxShadow:"none"}}}}function Ir({isDarkMode:t}){return{theme:"stripe",labels:"floating",variables:{colorBackground:t?"#303030":"#ffffff",colorDanger:"#e02e2a",colorPrimary:t?"#ffffff":"#0d0d0d",colorPrimaryText:t?"#303030":"#ffffff",colorText:t?"#ffffff":"#101828",colorTextPlaceholder:t?"#afafaf":"#667085",fontFamily:'"Inter", "Inter var", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',borderRadius:"16px",spacingUnit:"0",gridColumnSpacing:"8px",gridRowSpacing:"12px"},rules:{".Input":{backgroundColor:t?"#303030":"#f7f7f7",border:"none",borderRadius:"16px",boxShadow:"none",padding:"16px",transition:"border-color 0.15s ease, box-shadow 0.15s ease"},".Input:focus":{borderColor:t?"#ffffff":"#0d0d0d",boxShadow:t?"0 0 0 1px #ffffff":"0 0 0 1px #0d0d0d"},".Input--invalid":{borderColor:"#df1b41",boxShadow:"0 0 0 1px rgba(223, 27, 65, 0.12)"},".CodeInput":{border:"1px solid ".concat(t?"#ffffff":"#0d0d0d")},".Error":{color:"#e02e2a",fontWeight:"500"},".Tab":{backgroundColor:t?"#303030":"#f7f7f7",border:"none",borderRadius:"16px",color:t?"#ffffff":"#5d5d5d",padding:"16px",fontWeight:"500",display:"flex",fontSize:"16px",transition:"background-color 0.15s ease, border-color 0.15s ease, color 0.15s ease",flexDirection:"row"},".Tab:hover":{color:t?"#ffffff":"#0d0d0d"},".Tab:focus":{boxShadow:t?"0 0 0 1px #ffffff":"0 0 0 1px #0d0d0d"},".Tab--selected":{borderColor:t?"#000000":"#ffffff",color:t?"#ffffff":"#262626",border:"1px solid #e3e3e3",backgroundColor:t?"#303030":"#ffffff",boxShadow:"0px 1px 1px rgba(0, 0, 0, 0.03), 0px 3px 6px rgba(18, 42, 66, 0.02)"},".Tab--selected:focus":{boxShadow:t?"0 0 0 1px #ffffff":"0 0 0 1px #0d0d0d"},".TabIcon":{color:t?"#ffffff":"#000000"},".Tab--selected .TabIcon":{color:t?"#ffffff":"#000000"},".Block":{backgroundColor:t?"#303030":"#f7f7f7",border:"none",borderRadius:"16px",boxShadow:"none",padding:"16px"},".Block:focus":{borderColor:t?"#ffffff":"#0d0d0d",boxShadow:t?"0 0 0 1px #ffffff":"0 0 0 1px #0d0d0d"},".Label":{color:t?"#afafaf":"#667085",fontWeight:"500"},".CardForm":{border:"5px solid red"}}}}export{Kr as default};
//# sourceMappingURL=gv3vnqquivi2eet5.js.map

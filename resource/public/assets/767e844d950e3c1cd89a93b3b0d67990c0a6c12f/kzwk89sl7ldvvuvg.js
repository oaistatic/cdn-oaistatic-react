import{c as re,h as ce,r as ie,j as t,M as c}from"./mw35uwhq4g8r9eam.js";import{u as de,e7 as me,np as ue,ec as oe,cF as ne,_ as F,er as xe,qd as fe,eb as ge,eg as pe,e4 as he,aA as be,qe as Ne,aB as je}from"./d0xa318sl7ywi0za.js";import{aZ as we,at as ye}from"./g2euln7v5pbm31qa.js";import{A as ve}from"./eea2lld77g0grm9n.js";import{u as ke}from"./lqcwdtse4p4c65nb.js";const Ce="https://cdn.openai.com/chatgpt/nux_background.png",le=["Google Drive","SharePoint","Slack","Teams","Gmail","Outlook Email","Google Calendar","Outlook Calendar","Dropbox","Box"];function Ae(a){"use forget";var V;const e=re.c(56),{onClose:l,onContinue:m}=a,i=ce(),f=de(),U=me(),q=U==null?void 0:U.planType;let E;e[0]!==q?(E=ue(q),e[0]=q,e[1]=E):E=e[1];const K=E;let I;e[2]===Symbol.for("react.memo_cache_sentinel")?(I={referrer:oe.CompanyKnowledgeNuxModal},e[2]=I):I=e[2];const{uniqueItems:W,connectedCount:o,isLoading:r}=ke(I);let P,T;e[3]!==o||e[4]!==r?(P=()=>{r||(fe(),ge.logEntryPointShown({referrer:oe.CompanyKnowledgeNuxModal,connectedCount:o}),F.logEventWithStatsig("ChatGPT Connectors External NUX Modal Shown","chatgpt_connectors_external_nux_modal_shown"))},T=[r,o],e[3]=o,e[4]=r,e[5]=P,e[6]=T):(P=e[5],T=e[6]),ie.useEffect(P,T);const ae=Se;let M;if(e[7]!==W){const s=new Map;for(const n of W){const x=String((V=n.label)!=null?V:"").toLowerCase().trim(),S=s.get(x);s.set(x,S?ae(S,n):n)}M=Array.from(s.values());let d;if(e[9]===Symbol.for("react.memo_cache_sentinel")){d=new Map;for(let n=0;n<le.length;n++)d.set(le[n].toLowerCase(),n);e[9]=d}else d=e[9];let u;e[10]===Symbol.for("react.memo_cache_sentinel")?(u=(n,x)=>{var Z,$,H,J;if(n.connected!==x.connected)return Number(x.connected)-Number(n.connected);const S=Number((Z=n.totalCount)!=null?Z:0),X=Number(($=x.totalCount)!=null?$:0),Y=S<5&&X<5;if(S!==X&&!Y)return X-S;if(Y){const Q=d.get(String((H=n.label)!=null?H:"").toLowerCase()),ee=d.get(String((J=x.label)!=null?J:"").toLowerCase()),te=typeof Q=="number"?Q:Number.POSITIVE_INFINITY,se=typeof ee=="number"?ee:Number.POSITIVE_INFINITY;if(te!==se)return te-se}return 0},e[10]=u):u=e[10],M.sort(u),e[7]=W,e[8]=M}else M=e[8];const z=M;let g;e[11]!==i?(g=i.formatMessage({id:"0TM1Tc",defaultMessage:"Connectors onboarding illustration"}),e[11]=i,e[12]=g):g=e[12];let p;e[13]!==g?(p=t.jsx("img",{src:Ce,alt:g,draggable:!1,className:"h-full w-full object-cover dark:brightness-90"}),e[13]=g,e[14]=p):p=e[14];let A;e[15]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/10 dark:to-black/40"}),e[15]=A):A=e[15];let L;e[16]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("div",{className:"max-w-[80%] rounded-full bg-black/80 px-5 py-2 text-base text-white shadow-md backdrop-blur supports-[backdrop-filter]:bg-black/70 dark:bg-white/20 dark:supports-[backdrop-filter]:bg-white/15",children:t.jsx(c,{id:"jNPss7",defaultMessage:"When is Project Atlas launching?"})}),e[16]=L):L=e[16];let G;e[17]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(pe,{className:"icon","aria-hidden":!0}),e[17]=G):G=e[17];let O;e[18]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsxs("div",{className:"text-token-text-secondary mb-3 flex items-center gap-2",children:[G,t.jsx("span",{className:"text-token-text-secondary text-base font-medium",children:t.jsx(c,{id:"FRMrdb",defaultMessage:"Reading Google Drive"})})]}),e[18]=O):O=e[18];let B;e[19]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[A,t.jsxs("div",{className:"absolute start-6 end-6 bottom-[28%] flex flex-col items-end gap-5",children:[L,t.jsxs("div",{className:"text-token-text-primary w-full max-w-[720px] rounded-3xl bg-white/95 p-5 text-sm shadow-lg backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:bg-black/80 dark:supports-[backdrop-filter]:bg-black/60",children:[O,t.jsx("p",{className:"text-base leading-6",children:t.jsx(c,{id:"oDcTBO",defaultMessage:"Project Atlas is slated to launch in early November 2025. The team is currently finishing up final integrations and security reviews, with the plan to begin rolling out access to internal users by the first week of November and expand more broadly later that month."})})]})]})]}),e[19]=B):B=e[19];let h;e[20]!==p?(h=t.jsx("div",{className:"relative h-full w-full shrink-0 p-3 max-[839px]:hidden md:w-1/2 md:p-4",children:t.jsxs("div",{className:"relative h-full w-full overflow-hidden rounded-2xl",children:[p,B]})}),e[20]=p,e[21]=h):h=e[21];let b;e[22]!==l?(b=t.jsx("div",{className:"absolute end-4 top-4",children:t.jsx(he,{className:"h-8 w-8",onClick:()=>{F.logEventWithStatsig("ChatGPT Connectors External NUX Modal Dismissed","chatgpt_connectors_external_nux_modal_dismissed"),l()}})}),e[22]=l,e[23]=b):b=e[23];let D;e[24]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"mb-4",children:t.jsx(ve,{mode:"multiple",side:"top"})}),e[24]=D):D=e[24];let N;e[25]!==o||e[26]!==K?(N=t.jsx("div",{className:"text-2xl md:text-3xl",children:o>0?t.jsx(c,{id:"NxlP4G",defaultMessage:"Connect more apps"}):K?t.jsx(c,{id:"65M2TL",defaultMessage:"Set up organization knowledge"}):t.jsx(c,{id:"ot+js+",defaultMessage:"Set up company knowledge"})}),e[25]=o,e[26]=K,e[27]=N):N=e[27];let j;e[28]!==o?(j=t.jsx("div",{className:"text-token-text-secondary mt-2 text-sm md:text-base",children:o>0?t.jsx(c,{id:"gSLeU2",defaultMessage:"Get better answers with more connected apps"}):t.jsx(c,{id:"oD3Kjc",defaultMessage:"Connect apps you use at work"})}),e[28]=o,e[29]=j):j=e[29];let w;e[30]!==N||e[31]!==j?(w=t.jsxs("div",{className:"px-6 pt-16 text-center",children:[D,N,j]}),e[30]=N,e[31]=j,e[32]=w):w=e[32];let y;e[33]!==o||e[34]!==f||e[35]!==r||e[36]!==l||e[37]!==m?(y=o>0?t.jsx(be,{color:"primary",disabled:r,onClick:()=>{setTimeout(()=>{Ne(f)},500),m==null||m(),F.logEventWithStatsig("ChatGPT Connectors External NUX Modal Continued","chatgpt_connectors_external_nux_modal_continued",{count:o}),l()},children:t.jsx(c,{id:"xkm1Lg",defaultMessage:"{count, plural, one {Continue with # app} other {Continue with # apps}}",values:{count:o}})}):null,e[33]=o,e[34]=f,e[35]=r,e[36]=l,e[37]=m,e[38]=y):y=e[38];let v;e[39]!==y?(v=t.jsx("div",{className:"flex items-center justify-center px-6 py-4",children:y}),e[39]=y,e[40]=v):v=e[40];let k;e[41]!==i||e[42]!==r||e[43]!==z?(k=t.jsx("div",{className:"mx-6 grow overflow-auto rounded-2xl p-3",children:r?t.jsx("div",{className:"grid grid-cols-2 gap-2",children:Array.from({length:6}).map(_e)}):t.jsx("div",{className:"grid grid-cols-2 gap-2",children:z.map(s=>{var d;return t.jsxs("div",{className:ne("border-token-border-secondary group flex grow flex-col rounded-xl border p-3",s.onClick?"hover:bg-token-bg-tertiary cursor-pointer":""),onClick:()=>{var u;F.logEventWithStatsig("ChatGPT Connectors External NUX Modal Connectors Clicked","chatgpt_connectors_external_nux_modal_connectors_clicked",{type:s.isSync?"sync":"connector",name:s.label,count:s.totalCount,id:s.key}),(u=s.onClick)==null||u.call(s)},children:[t.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[t.jsx("div",{className:"h-6 w-6",children:s.icon}),typeof s.connected=="boolean"?t.jsx("div",{className:"bg-token-bg-tertiary h-5 w-5 rounded-full",children:t.jsx("div",{className:ne("flex h-full w-full items-center justify-center rounded-full",s.connected?"bg-blue-400":"bg-token-bg-tertiary group-hover:bg-token-bg-secondary"),children:s.connected?t.jsx(we,{className:"icon-xs fill-white"}):t.jsx(ye,{className:"icon-xs"})})}):null]}),t.jsx("div",{className:"text-token-text-primary mt-3 line-clamp-1 pt-2 text-sm",children:s.label}),s.totalCount>=5?t.jsx("div",{className:"text-token-text-tertiary line-clamp-1 text-xs",children:t.jsx(c,{id:"tbv8gz",defaultMessage:"{count} teammates",values:{count:i.formatNumber((d=s.totalCount)!=null?d:0)}})}):null]},s.key)})})}),e[41]=i,e[42]=r,e[43]=z,e[44]=k):k=e[44];let C;e[45]!==b||e[46]!==w||e[47]!==v||e[48]!==k?(C=t.jsxs("div",{className:"flex grow flex-col pb-1 md:w-1/2 md:pb-2",children:[b,w,v,k]}),e[45]=b,e[46]=w,e[47]=v,e[48]=k,e[49]=C):C=e[49];let _;e[50]!==h||e[51]!==C?(_=t.jsxs("div",{className:"relative flex h-[600px] w-full flex-row overflow-hidden",children:[h,C]}),e[50]=h,e[51]=C,e[52]=_):_=e[52];let R;return e[53]!==l||e[54]!==_?(R=t.jsx(je,{isOpen:!0,onClose:l,testId:"modal-connectors-onboarding",size:"custom",noPadding:!0,className:"max-w-[960px] overflow-hidden rounded-[32px]",children:_}),e[53]=l,e[54]=_,e[55]=R):R=e[55],R}function _e(a,e){return t.jsxs("div",{className:"border-token-border-secondary flex grow flex-col gap-2 rounded-xl border p-3",children:[t.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[t.jsx("div",{className:"h-6 w-6",children:t.jsx(xe,{})}),t.jsx("div",{className:"bg-token-bg-tertiary h-5 w-5 rounded-full"})]}),t.jsx("div",{className:"bg-token-bg-tertiary mt-3 h-4 w-24 rounded"})]},e)}function Se(a,e){var i,f;if(a.connected!==e.connected)return e.connected?e:a;if(a.isSync!==e.isSync)return e.isSync?e:a;const l=Number((i=a.totalCount)!=null?i:0),m=Number((f=e.totalCount)!=null?f:0);return l!==m&&m>l?e:a}export{Ae as ConnectorsOnboardingModal};
//# sourceMappingURL=kzwk89sl7ldvvuvg.js.map

var xt=Object.defineProperty,ht=Object.defineProperties;var pt=Object.getOwnPropertyDescriptors;var De=Object.getOwnPropertySymbols;var gt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var He=(t,e,n)=>e in t?xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q=(t,e)=>{for(var n in e||(e={}))gt.call(e,n)&&He(t,n,e[n]);if(De)for(var n of De(e))wt.call(e,n)&&He(t,n,e[n]);return t},Z=(t,e)=>ht(t,pt(e));import{j as s,c as $,h as K,M as A,r as I,u as Qe,i as bt,d as ve,a as _e,R as se,L as vt,n as xe,ah as re}from"./mw35uwhq4g8r9eam.js";import{B as _t}from"./dtmprrbw2fxa7u08.js";import{at as jt,yk as yt,br as J,yl as Fe,av as Ge,ym as Xe,yn as kt,yo as Ct,o$ as Nt,yp as St,yq as Et,yr as Mt,ys as Ye,yt as Rt,bI as Tt,jF as Ze,yu as Je,yv as At,vs as Pt,E as he,vu as Ot,ni as Wt,vX as It}from"./g2euln7v5pbm31qa.js";import{u as q,p as ce,d as Lt,ro as je,ee as le,ei as ae,cF as te,cw as et,ua as Bt,aA as z,ik as Dt,er as ne,hp as ye,J as Y,ef as Ht,e1 as Ft,e5 as ie,hi as Gt,fK as Ut,f7 as pe,ek as $t,ij as Vt,fD as tt,cI as st,ml as at,aB as nt,dz as zt,e7 as ot,jh as qt,du as Kt,hm as Qt,gh as Xt,bq as Yt,jR as Zt,al as Jt,gr as es,gi as ts,bX as ss,f1 as as,f2 as ee,l3 as Ue,L as ns,vV as os,v$ as rs,jB as is,kS as ls,t2 as cs,vU as ke}from"./d0xa318sl7ywi0za.js";import{b as ds}from"./dbnl40ahcmx1rqbw.js";import{u as ms,W as Ce}from"./c5k9gv36gzuxi0am.js";import{C as X,u as fs}from"./c1utftwrwzq4kt7u.js";import{R as us}from"./nb24clp818j4weup.js";import{W as xs}from"./okqanfqoj3a09oj8.js";import{b as hs,a as ps,c as gs,E as ws,h as Ne}from"./msmm4s2uspal1mht.js";import{W as rt,a as $e}from"./m4z0737cb20mwzwc.js";import{V as bs,X as it,Y as vs,j as G,B as de,x as _s,S as js,b as ys,q as lt,h as ks,z as Cs,A as Ns,f as Ss,Z as Es}from"./ldtpmsnzn9ens47o.js";import{T as Ms}from"./nr9k12yditsrjrdm.js";import{S as Rs}from"./m2d85ixk2zz51mk9.js";import{I as Ts}from"./h38m9m9rf2db1qpt.js";import{W as ct}from"./baz4b8nlf8t2lb95.js";import{u as Se,a as As,c as Ps}from"./sbrp17m0bwny70wh.js";import{u as Ee}from"./nhruzszvguyii6tg.js";import{S as Me}from"./d6l5e1xbhe3w2cwh.js";import{g as dt,a as Os,W as me}from"./ga8rhh96wttk8d8h.js";import{W as we,i as Ws}from"./hdw58d7g4tx8n6s4.js";import{U as Is}from"./q1et0viq5isidwe6.js";import{useSetupBaseWhamKeyboardActions as Ls}from"./qyj59gvnqjp5wm2y.js";import{g as Bs}from"./lw2hpe6y5hhfte4k.js";import{h as mt}from"./ijk9p5ylletqfo5k.js";import{u as Ds,A as Hs,R as Fs,N as Gs,a as Us}from"./bzhbjc3vjefv3qwn.js";import{F as Ve}from"./oyfed4d8xid8ujwa.js";import{b as $s}from"./lptwpbjabrvjmhsj.js";import{a as Vs,u as zs,o as qs,T as Ks,g as Qs}from"./fiw8mxjjj4i8ca6h.js";import{u as Xs}from"./fljft0gbsnm1ovqa.js";import{u as Ys}from"./c08xobknzytt16by.js";import{u as Zs}from"./k527f0oyvlppyfoy.js";function ft({disabled:t,children:e}){return t?s.jsx("div",{className:"pointer-events-none opacity-50 select-none","aria-hidden":"true",tabIndex:-1,inert:!0,children:e}):e}function Js(t,e){"use forget";return e}const ze=Js;function ea(t){"use forget";const e=$.c(35),{isGitHubConnected:n,onClickCreateEnvironment:d}=t,p=n===void 0?!1:n,l=q(),i=K(),o=ce(),r=ze(sa,!1),c=ze(ta,X.Complete),a=r&&c===X.NoGithubConnection,m=r&&c===X.NoEnvironmentsCreated;let w;e[0]!==l?(w=()=>Bt(l,ae.GITHUB_CONNECTOR,{productSku:le.CODEX}),e[0]=l,e[1]=w):w=e[1];const x=Lt(w),b=x===void 0;let h;e[2]!==i||e[3]!==o?(h=()=>{o.danger(i.formatMessage({id:"+vfzDI",defaultMessage:"Error fetching connector, please ensure GitHub is enabled for your account"}))},e[2]=i,e[3]=o,e[4]=h):h=e[4];const u=h,_=u,{isConnected:y,isLoading:S,openGithubModal:f,error:k,refetch:C}=je(ae.GITHUB_CONNECTOR,"github","/codex",le.CODEX,u,_);let j;e[5]!==C?(j=s.jsx(us,{refetchConnectorData:C}),e[5]=C,e[6]=j):j=e[6];const g=j,v=S||b;let N;e[7]!==a||e[8]!==y||e[9]!==x||e[10]!==f?(N=()=>{!a&&(!x||y)||f()},e[7]=a,e[8]=y,e[9]=x,e[10]=f,e[11]=N):N=e[11];const T=a?!1:!x||y;let E;e[12]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(A,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"}),e[12]=E):E=e[12];let M;e[13]!==v||e[14]!==N||e[15]!==T?(M=s.jsx(z,{color:"primary",size:"medium",icon:Dt,loading:v,onClick:N,disabled:T,className:"px-3",children:E}),e[13]=v,e[14]=N,e[15]=T,e[16]=M):M=e[16];const O=M;let P;e[17]!==d?(P=()=>d==null?void 0:d(),e[17]=d,e[18]=P):P=e[18];let R;e[19]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(A,{id:"wham.createEnvironment.cta",defaultMessage:"Create environment"}),e[19]=R):R=e[19];let L;e[20]!==P?(L=s.jsx(z,{color:"secondary",size:"medium",icon:jt,onClick:P,className:"px-3",children:R}),e[20]=P,e[21]=L):L=e[21];const D=L,H=p||m,B=H?D:k?g:O;let W;e[22]===Symbol.for("react.memo_cache_sentinel")?(W=te("bg-token-bg-tertiary","rounded-2xl","w-full","min-h-[220px]","flex items-center justify-center","pointer-events-auto","border-token-border-light","border"),e[22]=W):W=e[22];let F;e[23]!==B||e[24]!==k||e[25]!==a||e[26]!==i||e[27]!==x||e[28]!==H?(F=H||k||x||a?B:s.jsx(et,{label:i.formatMessage({id:"wham.codexOnboardingConnections.githubDisabledByAdmin",defaultMessage:"Disabled by workspace admin"}),children:s.jsx("div",{children:B})}),e[23]=B,e[24]=k,e[25]=a,e[26]=i,e[27]=x,e[28]=H,e[29]=F):F=e[29];let V;e[30]!==H?(V=!H&&s.jsx("div",{className:"text-token-text-secondary text-xs",children:s.jsx(A,{id:"wham.whamComposer.connectGithubSubtitle",defaultMessage:"Connect a repository to create a task"})}),e[30]=H,e[31]=V):V=e[31];let U;return e[32]!==F||e[33]!==V?(U=s.jsx("div",{className:W,children:s.jsxs("div",{className:"flex flex-col items-center gap-2 p-8",children:[F,V]})}),e[32]=F,e[33]=V,e[34]=U):U=e[34],U}function ta(t){return t.codexOnboardingStateOverride}function sa(t){return t.showDevOnboardingOverrides}function aa(){var l;const{data:t,isLoading:e}=bs(),n=(l=t==null?void 0:t.items)!=null?l:[],[d,p]=I.useState(null);return e&&n.length===0?s.jsx("div",{className:"mt-4 flex h-full w-full items-center justify-center",children:s.jsx(ne,{})}):s.jsx("div",{className:"flex flex-col justify-center",children:n.map((i,o)=>{var r;return s.jsx(rt,{index:o,taskListItem:i,hoveredIndex:d,onMouseEnter:()=>p(o),onMouseLeave:()=>p(null),linkPath:"/s/".concat(i.share_task_id),showArchiveButton:!1,currentFilter:"current"},(r=i.id)!=null?r:"".concat(o))})})}function Re(){"use forget";const t=$.c(56),e=q(),n=K(),{homeTab:d,setHomeTab:p}=it();let l;t[0]!==e?(l=vs(e),t[0]=e,t[1]=l):l=t[1];const i=l,o=G(oa),r=G(na),{eligible:c,isLoading:a}=yt(),m=i&&!a&&c;let w;t[2]!==e||t[3]!==c||t[4]!==a||t[5]!==p||t[6]!==r?(w=W=>{p(W),W==="code_reviews"&&!a&&c&&J(e,Fe),W==="all"&&r(!1)},t[2]=e,t[3]=c,t[4]=a,t[5]=p,t[6]=r,t[7]=w):w=t[7];const x=w;let b,h;t[8]!==e||t[9]!==d||t[10]!==c||t[11]!==a?(b=()=>{d==="code_reviews"&&!a&&c&&J(e,Fe)},h=[e,d,c,a],t[8]=e,t[9]=d,t[10]=c,t[11]=a,t[12]=b,t[13]=h):(b=t[12],h=t[13]),I.useEffect(b,h);let u,_;t[14]!==d||t[15]!==r?(u=()=>{d==="all"&&r(!1)},_=[d,r],t[14]=d,t[15]=r,t[16]=u,t[17]=_):(u=t[16],_=t[17]),I.useEffect(u,_);let y;t[18]!==n?(y=n.formatMessage({id:"wham.whamTasksHeader.tasks",defaultMessage:"Tasks"}),t[18]=n,t[19]=y):y=t[19];const S=y;let f;t[20]!==o?(f=o?s.jsx("span",{"aria-hidden":"true",className:"absolute -end-2 top-1 size-1.5 -translate-y-1/2 rounded-full bg-blue-400"}):null,t[20]=o,t[21]=f):f=t[21];let k;t[22]!==f||t[23]!==S?(k=s.jsxs("span",{className:"relative inline-flex items-center",children:[S,f]}),t[22]=f,t[23]=S,t[24]=k):k=t[24];const C=k;let j;t[25]!==n?(j=n.formatMessage({id:"wham.whamTasksHeader.codeReviews",defaultMessage:"Code reviews"}),t[25]=n,t[26]=j):j=t[26];const g=j;let v;t[27]!==m?(v=m?s.jsx("span",{"aria-hidden":"true",className:"absolute -end-2 top-1 size-1.5 -translate-y-1/2 rounded-full bg-blue-400"}):null,t[27]=m,t[28]=v):v=t[28];let N;t[29]!==g||t[30]!==v?(N=s.jsxs("span",{className:"relative inline-flex items-center",children:[g,v]}),t[29]=g,t[30]=v,t[31]=N):N=t[31];const T=N;let E;t[32]!==n?(E=n.formatMessage({id:"wham.whamTasksHeader.tasksAriaLabel",defaultMessage:"Tab selector to view active tasks"}),t[32]=n,t[33]=E):E=t[33];let M;t[34]!==E||t[35]!==C?(M={label:C,ariaLabel:E,key:"all"},t[34]=E,t[35]=C,t[36]=M):M=t[36];let O;t[37]!==i||t[38]!==T||t[39]!==n?(O=i?[{label:T,ariaLabel:n.formatMessage({id:"wham.whamTasksHeader.codeReviewsAriaLabel",defaultMessage:"Tab selector to view code reviews"}),key:"code_reviews"}]:[],t[37]=i,t[38]=T,t[39]=n,t[40]=O):O=t[40];let P;t[41]!==n?(P=n.formatMessage({id:"wham.whamTasksHeader.archived",defaultMessage:"Archive"}),t[41]=n,t[42]=P):P=t[42];let R;t[43]!==n?(R=n.formatMessage({id:"wham.whamTasksHeader.archivedAriaLabel",defaultMessage:"Tab selector to view archived tasks"}),t[43]=n,t[44]=R):R=t[44];let L;t[45]!==P||t[46]!==R?(L={label:P,ariaLabel:R,key:"archived"},t[45]=P,t[46]=R,t[47]=L):L=t[47];let D;t[48]!==M||t[49]!==O||t[50]!==L?(D=[M,...O,L],t[48]=M,t[49]=O,t[50]=L,t[51]=D):D=t[51];const H=D;let B;return t[52]!==x||t[53]!==d||t[54]!==H?(B=s.jsx("div",{className:"border-token-border-primary mt-4 flex w-full flex-wrap items-center justify-between gap-3 border-b align-middle md:mt-6",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Ms,{currentTab:d,onChange:x,withUnderline:!0,skipTabUnderlineAnimation:!0,tabs:H})})}),t[52]=x,t[53]=d,t[54]=H,t[55]=B):B=t[55],B}function na(t){return t.setShouldHighlightTasksTab}function oa(t){return t.shouldHighlightTasksTab}function ra(){const t=K(),e=ce(),n=G(u=>u.environmentId),d=G(u=>u.branch),[p,l]=I.useState(null),i=Qe(),{isCreatingEnvironment:o,ensureEnvironment:r,hasRepository:c}=ms(),a=!!(n&&d),m=!a&&!c,w=!a&&!c,x=[{id:"ask-0",type:"ask",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.ask.prompt.0",defaultMessage:"Explain the codebase to a newcomer. What is the general structure, what are the important things to know, and what are some pointers for things to learn next?"})},{id:"build-1",type:"build",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.build.prompt.1",defaultMessage:"Pick a part of the codebase that seems important and find and fix a bug."})},{id:"ask-2",type:"ask",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.ask.prompt.2",defaultMessage:"Go through the codebase, find issues and propose one task to fix a typo, one task to fix a bug, one task to fix a code comment or documentation discrepancy, and one task to improve a test."})}],{mutate:b}=bt({mutationFn:async({prompt:u,id:_})=>{const{environmentId:y,branch:S}=G.getState();if(!y||!S)throw e.danger(t.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"})),new Error("Environment, content, and branch are required");const f=crypto.randomUUID();return G.getState().addPendingTaskId(f),l(_),await ct.createNewTask(y,S,u,!1).catch(C=>{throw G.getState().removePendingTaskId(f),e.danger(t.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"}),{id:f,duration:5,hasCloseButton:!0}),C}).then(C=>(G.getState().assignPendingTaskToFinalTask(f,C.task.id),C))},onSuccess:()=>{i.refetchQueries({queryKey:["wham","tasks"]}),i.refetchQueries({queryKey:["wham","usage","rate-limit-status"]})},onSettled:()=>{l(null)}}),h=async u=>{if(!a){if(!c){e.danger(t.formatMessage({id:"wham.startFirstTask.selectRepository",defaultMessage:"Select a repository before starting a task"}));return}l(u.id);try{if(!await r()){l(null);return}}catch(_){l(null);return}b({prompt:u.prompt,id:u.id});return}b({prompt:u.prompt,id:u.id})};return s.jsxs("div",{className:"w-full px-3 md:px-0",children:[s.jsx("div",{className:"text-token-text-primary ps-1 pt-6 pb-3 text-sm font-medium",children:s.jsx(A,{id:"wham.startFirstTask.title",defaultMessage:"Start your first task"})}),s.jsx("div",{className:"bg-token-bg-tertiary dark:bg-token-bg-secondary rounded-3xl p-4",children:s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:x.map(u=>s.jsxs("div",{className:te("bg-token-bg-primary dark:bg-token-bg-tertiary flex flex-col justify-between rounded-2xl p-4 shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]"),children:[s.jsx("div",{className:"text-token-text-primary pb-4 text-sm leading-5.5",children:u.prompt}),s.jsx(et,{disabled:!w,label:w?t.formatMessage({id:"wham.startFirstTask.disabledTooltip",defaultMessage:"Please select a repository to start a task"}):null,children:s.jsx(z,{color:"secondary",disabled:m||o,loading:p===u.id,className:"self-start",onClick:()=>h(u),children:s.jsx(A,{id:"wham.startFirstTask.cta",defaultMessage:"Start"})})})]},u.id))})})]})}function ia(){const t=Se(),e=ve(),n=ce(),d=K(),{data:p}=de(),{mutate:l,isPending:i}=Ee({showToast:!1}),o=()=>{l({codeReviewPreference:"always"},{onSuccess:()=>{n.success(d.formatMessage({id:"wham.codeReviewSuggestionsCard.enableForMeSuccess",defaultMessage:"Code review is now enabled for you"}),{duration:2})},onError:()=>{n.danger(d.formatMessage({id:"wham.codeReviewSuggestionsCard.enableForMeError",defaultMessage:"Failed to enable code review for you"}),{duration:2})}})},r=()=>{e("/codex/settings/code-review")};return(p==null?void 0:p.code_review_preference)==="always"?s.jsxs("div",{className:"flex max-w-[300px] flex-col items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary flex flex-col gap-2 rounded-xl p-2 shadow",children:s.jsx(Ge,{className:"icon-xl"})}),s.jsx("p",{className:"text-token-text-primary font-medium",children:s.jsx(A,{id:"wham.codeReviewSuggestionsCard.codeReviewEnabledTitle",defaultMessage:"Code review enabled"})}),s.jsx("p",{className:"text-token-text-secondary text-center text-wrap",children:s.jsx(A,{id:"wham.codeReviewSuggestionsCard.codeReviewEnabledDescription",defaultMessage:"Codex will review PRs you push to connected repos."})}),s.jsx(z,{onClick:()=>e("/codex/settings/code-review"),className:"min-w-[220px]",children:s.jsx(A,{id:"wham.codexEnvironmentPopover.manageCodeReview",defaultMessage:"Manage code review"})})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary flex flex-col gap-2 rounded-xl p-2 shadow",children:s.jsx(Ge,{className:"icon-xl"})}),s.jsxs("div",{className:"text-centers flex max-w-[300px] flex-col items-center gap-2",children:[s.jsx("p",{className:"text-token-text-primary font-medium",children:s.jsx(A,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingTitle",defaultMessage:"Enable code review"})}),s.jsx("p",{className:"text-token-text-secondary text-center text-wrap",children:s.jsx(A,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingDescription",defaultMessage:"Catch critical bugs before they ship"})}),s.jsx(z,{onClick:o,className:"min-w-[220px]",loading:i,children:s.jsx(A,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingButton",defaultMessage:"Enable for me"})}),t&&s.jsx(z,{onClick:r,className:"min-w-[220px]",color:"secondary",children:s.jsx(A,{id:"wham.codexEnvironmentPopover.createEnvFromRepoExistingButtonWorkspace",defaultMessage:"Enable for my workspace"})})]})]})}function la(t){"use forget";const e=$.c(4),{filter:n,homeTab:d}=t,p=d||(n==="archived"?"archived":n==="code_review"?"code_reviews":"all");if(p==="code_reviews"&&n==="code_review"){let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(ia,{}),e[0]=o):o=e[0],o}if(p==="archived"){let o;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(A,{id:"wham.whamTasksSection.noArchivedTasks",defaultMessage:"No archived tasks"})}),e[1]=o):o=e[1],o}if(p==="all"){let o;return e[2]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(ra,{}),e[2]=o):o=e[2],o}let i;return e[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(A,{id:"wham.whamTasksSection.noActiveTasks",defaultMessage:"No active tasks"})}),e[3]=i):i=e[3],i}function ca({filterOverride:t,homeTab:e}={}){var C;const n=G(({homeTab:j})=>j),d=e!=null?e:n,p=t!=null?t:js(d),{data:l,isLoading:i,error:o,fetchNextPage:r,hasNextPage:c,isFetchingNextPage:a,refetch:m,isPending:w}=_s({filter:p,refetchOnMount:!0,refetchOnWindowFocus:!0}),x=(C=l==null?void 0:l.pages.flatMap(j=>{var g;return(g=j.items)!=null?g:[]}))!=null?C:[],b=G(j=>j.pendingTaskIds),h=G(j=>j.pendingCodeReviewIds),u=x.length>0,[_,y]=I.useState(null),S=Array.from(Object.entries(b)).filter(([j,g])=>!x.some(v=>v.id===g)).map(([j])=>j).reverse(),f=Array.from(Object.entries(h)).filter(([j,g])=>!x.some(v=>v.id===g)).map(([j])=>j).reverse(),k=x.length===0&&S.length===0&&f.length===0;return s.jsx("div",{className:"flex flex-col justify-center pb-20",children:i&&!u?s.jsx("div",{className:"mt-4 flex h-full w-full items-center justify-center",children:s.jsx(ne,{})}):s.jsxs(s.Fragment,{children:[k&&s.jsx(s.Fragment,{children:o?s.jsxs("div",{className:"mt-6 flex w-full flex-col items-center justify-center gap-2 text-sm",children:[s.jsx("div",{className:"text-interactive-label-warning-secondary",children:s.jsx(A,{id:"wham.whamTasksSection.errorLoadingTasks",defaultMessage:"Error loading tasks"})}),s.jsx(z,{color:"secondary",onClick:()=>m(),children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(A,{id:"wham.whamTasksSection.retry",defaultMessage:"Retry"}),s.jsx(Rs,{className:"icon-xs"})]})})]}):s.jsx("div",{className:"mt-6 flex h-full w-full items-center justify-center",children:s.jsx(la,{filter:p,homeTab:d})})}),p==="current"&&S.map(j=>s.jsx($e,{},j)),p==="code_review"&&f.map(j=>s.jsx($e,{},j)),x.map((j,g)=>s.jsx(rt,{index:g,taskListItem:j,hoveredIndex:_,onMouseEnter:()=>{y(g)},onMouseLeave:()=>y(null),currentFilter:p,showArchiveButton:p!=="code_review"},j.id)),s.jsx(Ts,{isFetchingNextPage:a||w,hasNextPage:c!=null?c:!1,fetchNextPage:r})]})})}const Te=I.memo(ca);function da(){"use forget";const t=$.c(22),e=q(),{eligible:n,isLoading:d}=Xe(),p=Qe(),l=K(),i=ce();if(d||!n)return null;let o;t[0]!==e?(o=()=>J(e,kt),t[0]=e,t[1]=o):o=t[1];const r=o;let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(Ct,{className:"h-6 w-6 shrink-0"}),t[2]=c):c=t[2];let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx("h2",{className:"text-sm font-semibold md:text-base",children:s.jsx(A,{id:"wham.alphaBanner.title",defaultMessage:"Codex Alpha"})}),t[3]=a):a=t[3];let m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsxs("div",{className:"flex flex-1 items-start gap-3 md:items-center md:gap-4",children:[c,s.jsxs("div",{className:"flex flex-1 flex-col gap-1",children:[a,s.jsx("p",{className:"text-token-text-secondary text-xs leading-5 md:text-sm",children:s.jsx(A,{id:"wham.alphaBanner.description",defaultMessage:"Get early access to new models and features."})})]})]}),t[4]=m):m=t[4];let w;t[5]!==l||t[6]!==r||t[7]!==p||t[8]!==i?(w=()=>{ct.updateUserPreferences({alphaOptIn:!0}).then(async()=>{await ys(p),r(),i.success(l.formatMessage({id:"wham.alphaBanner.enrolled",defaultMessage:"Enrolled in Codex alpha. Update your selection anytime in your settings."}),{duration:3})}).catch(()=>i.danger(l.formatMessage({id:"wham.alphaBanner.failed",defaultMessage:"Failed to update user preferences"}),{duration:3}))},t[5]=l,t[6]=r,t[7]=p,t[8]=i,t[9]=w):w=t[9];let x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx(A,{id:"wham.alphaBanner.cta",defaultMessage:"Join now"}),t[10]=x):x=t[10];let b;t[11]!==w?(b=s.jsx(z,{size:"small",color:"primary",className:"text-token-text-secondary h-9 px-6 text-sm md:px-7",onClick:w,children:x}),t[11]=w,t[12]=b):b=t[12];let h;t[13]!==l?(h=l.formatMessage({id:"wham.alphaBanner.dismiss",defaultMessage:"Dismiss Codex alpha banner"}),t[13]=l,t[14]=h):h=t[14];let u;t[15]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(ye,{className:"icon-sm"}),t[15]=u):u=t[15];let _;t[16]!==r||t[17]!==h?(_=s.jsx(z,{size:"small",color:"secondary",className:"text-token-text-tertiary border-token-border-subtle hover:bg-token-bg-secondary hover:text-token-text-primary h-9 w-9 text-sm font-medium",onClick:r,"aria-label":h,children:u}),t[16]=r,t[17]=h,t[18]=_):_=t[18];let y;return t[19]!==b||t[20]!==_?(y=s.jsx("div",{className:"mt-4 w-full px-3 md:px-0",children:s.jsx("div",{className:"border-token-border-subtle bg-token-bg-primary text-token-text-primary flex w-full flex-col gap-3 rounded-3xl border px-4 py-3 shadow-[0px_12px_32px_rgba(15,23,42,0.14)] md:px-6 md:py-4",children:s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[m,s.jsxs("div",{className:"flex flex-shrink-0 items-center gap-2",children:[b,_]})]})})}),t[19]=b,t[20]=_,t[21]=y):y=t[21],y}const ma=t=>I.createElement("svg",Q({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),I.createElement("path",{d:"M2.71967 4.21967C3.01256 3.92678 3.48744 3.92678 3.78033 4.21967L9.03033 9.46967C9.32322 9.76256 9.32322 10.2374 9.03033 10.5303L3.78033 15.7803C3.48744 16.0732 3.01256 16.0732 2.71967 15.7803C2.42678 15.4874 2.42678 15.0126 2.71967 14.7197L7.43934 10L2.71967 5.28033C2.42678 4.98744 2.42678 4.51256 2.71967 4.21967ZM10 15.25C10 14.8358 10.3358 14.5 10.75 14.5H16.75C17.1642 14.5 17.5 14.8358 17.5 15.25C17.5 15.6642 17.1642 16 16.75 16H10.75C10.3358 16 10 15.6642 10 15.25Z",fill:"currentColor"})),Ae="codex_onboarding",be="code_review";function fa(t){const e=new URLSearchParams(t);return e.set(Ae,be),e.toString()}function ua(t){const e=new URLSearchParams(t);return e.delete(Ae),e.toString()}function Pe(t){"use forget";var U,oe,Oe,We,Ie,Le,Be;const e=$.c(30);let n;e[0]!==t?(n=t===void 0?{}:t,e[0]=t,e[1]=n):n=e[1];const{redirectUrl:d,onError:p}=n,l=q();let i;e[2]!==l?(i=Y(l,"423120313"),e[2]=l,e[3]=i):i=e[3];const o=i,{status:r}=Nt(Ht[ae.GITHUB_CONNECTOR]),c=r==="loading",a=!c&&r==="required",m=r==="error",{data:w,isLoading:x,error:b}=St(),{isConnected:h,isLoading:u,openGithubModal:_,error:y}=je(ae.GITHUB_CONNECTOR,"github",d!=null?d:"/codex?codex_onboarding=code_review",le.CODEX),{data:S,isLoading:f,error:k}=de(),{eligible:C,isLoading:j}=Et(),g=(S==null?void 0:S.code_review_preference)==="always",{data:v,isLoading:N,error:T}=lt(C&&!j&&o&&!u&&h);let E;e[4]!==(v==null?void 0:v.memberships)?(E=(U=v==null?void 0:v.memberships)!=null?U:[],e[4]=v==null?void 0:v.memberships,e[5]=E):E=e[5];let M;e[6]!==(v==null?void 0:v.other)?(M=(oe=v==null?void 0:v.other)!=null?oe:[],e[6]=v==null?void 0:v.other,e[7]=M):M=e[7];let O;e[8]!==E||e[9]!==M?(O=[...E,...M],e[8]=E,e[9]=M,e[10]=O):O=e[10];const P=O.length>0,R=!!((Be=(Le=(Ie=(We=(Oe=T&&y)!=null?Oe:b)!=null?We:y)!=null?Ie:k)!=null?Le:m)!=null&&Be);let L,D;e[11]!==R||e[12]!==p?(L=()=>{R&&p&&p()},D=[R,p],e[11]=R,e[12]=p,e[13]=L,e[14]=D):(L=e[13],D=e[14]),I.useEffect(L,D);const H=u||f||c||x||h&&N,B=!a||w,W=!C;let F;e[15]!==l?(F=()=>J(l,Mt),e[15]=l,e[16]=F):F=e[16];let V;return e[17]!==R||e[18]!==P||e[19]!==g||e[20]!==o||e[21]!==h||e[22]!==j||e[23]!==a||e[24]!==_||e[25]!==W||e[26]!==F||e[27]!==H||e[28]!==B?(V={isLoading:H,isMfaRequired:a,isMfaEnabled:B,isGitHubConnected:h,hasValidInstallation:P,isCodeReviewEnabled:g,hasCompletedCodeReviewFlow:W,isCodeReviewOnboardingFlowEnabled:o,isHasCompletedCodeReviewLoading:j,error:R,openGithubModal:_,markCompletedCodeReview:F},e[17]=R,e[18]=P,e[19]=g,e[20]=o,e[21]=h,e[22]=j,e[23]=a,e[24]=_,e[25]=W,e[26]=F,e[27]=H,e[28]=B,e[29]=V):V=e[29],V}function xa({isHasCompletedCodeReviewLoading:t,isCodeReviewEnabled:e,hasCompletedCodeReviewFlow:n,markCompletedCodeReview:d}){I.useEffect(()=>{!t&&e&&!n&&d()},[t,e,n,d])}function ha(){const t=K(),e=q(),{data:n,isLoading:d}=ks(),p=Ft(),l=G(R=>R.preferredEditor),i=G(R=>R.setPreferredEditor),{eligible:o,isLoading:r}=Ye(),{cli:c,vscode:a,cursor:m,windsurf:w}=dt(e),{isLoading:x,isMfaRequired:b,isMfaEnabled:h,isGitHubConnected:u,hasValidInstallation:_,isCodeReviewEnabled:y,hasCompletedCodeReviewFlow:S,isCodeReviewOnboardingFlowEnabled:f,openGithubModal:k,error:C}=Pe({redirectUrl:"/codex/settings/code-review"}),j=ve(),g=_e(),v=se.useMemo(()=>{const L=[...b?[!!h]:[],!!(u&&_),!!(y&&S)],D=L.length,H=L.filter(Boolean).length,B=D===0?0:H/D*100;return{completedSteps:H,totalSteps:D,percentage:B}},[_,b,h,y,S,u]),N=!x&&v.completedSteps<v.totalSteps,T=se.useCallback(R=>{if(f)C||(R.preventDefault(),j({pathname:g.pathname,search:fa(g.search),hash:g.hash},{replace:!1}));else if(!u){R.preventDefault(),k();return}},[u,C,f,g.hash,g.pathname,g.search,j,k]),E=Os(l,p),[M,O]=se.useState(!1),P=se.useRef(!1);return!o||r||d?null:s.jsxs("div",{className:"group w-full px-3 md:px-0",children:[s.jsxs("div",{className:"text-token-text-primary flex items-center justify-between gap-1 ps-1 pt-6 pb-2 text-sm leading-tight font-medium",children:[n?s.jsx(A,{id:"wham.whatsNew.title",defaultMessage:"What's new with Codex"}):s.jsx(A,{id:"wham.gettingStarted.title",defaultMessage:"Get started with Codex"}),s.jsx(z,{onClick:()=>J(e,Rt),className:"text-token-text-tertiary dark:text-token-text-tertiary w-7 items-center justify-center rounded-lg",size:"small",color:"ghost","aria-label":t.formatMessage({id:"wham.newFeatures.dismiss",defaultMessage:"Dismiss new features announcement"}),children:s.jsx(ye,{className:"icon-sm"})})]}),s.jsxs(ie.div,{layout:!0,className:"grid grid-cols-1 gap-3 md:[grid-template-columns:repeat(auto-fit,minmax(220px,1fr))]",children:[s.jsx(ie.div,{layout:!0,children:s.jsx(ge,{children:s.jsxs("a",{href:c,target:"_blank",rel:"noreferrer",className:"group/card -m-4 flex items-center justify-between gap-3 rounded-2xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(ma,{className:"icon-md"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(A,{id:"wham.gettingStarted.cli",defaultMessage:"Try in your terminal"})})]}),s.jsx(Gt,{className:"icon-sm text-token-text-tertiary origin-[bottom_var(--start)] scale-75 opacity-0 transition-all duration-100 ease-out group-hover/card:scale-100 group-hover/card:opacity-100"})]})})}),s.jsx(ie.div,{layout:!0,children:s.jsx(ge,{children:s.jsxs("div",{className:"group/card -m-4 flex cursor-pointer items-center justify-between gap-3 rounded-2xl p-4 select-none",role:"button",tabIndex:0,onPointerDown:()=>{P.current=M},onClick:()=>{P.current?O(!1):O(!0)},onKeyDown:R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),O(L=>!L))},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(E,{className:"h-5 w-5"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(A,{id:"wham.gettingStarted.ide",defaultMessage:"Try in your IDE"})})]}),s.jsxs(Ut,{contentAlign:"end",open:M,onOpenChange:O,triggerButton:s.jsx("button",{onClick:R=>R.stopPropagation(),"aria-label":t.formatMessage({id:"wham.gettingStarted.ide.open",defaultMessage:"Open IDE links"}),"aria-expanded":M,className:"hover:bg-token-bg-tertiary rounded-md p-1",children:s.jsx(Tt,{className:te("icon-sm text-token-text-tertiary shrink-0 transition-all duration-100 ease-out group-hover/card:translate-y-0 group-hover/card:opacity-100",M?"translate-y-0 opacity-100":"translate-y-0.5 opacity-0")})}),children:[s.jsx(pe.ItemAs,{as:"a",href:a,target:"_blank",rel:"noreferrer",onClick:()=>i("vscode"),children:"VS Code"}),s.jsx(pe.ItemAs,{as:"a",href:m,target:"_blank",rel:"noreferrer",onClick:()=>i("cursor"),children:"Cursor"}),s.jsx(pe.ItemAs,{as:"a",href:w,target:"_blank",rel:"noreferrer",onClick:()=>i("windsurf"),children:"Windsurf"})]})]})})}),s.jsx($t,{initial:!1,children:!S&&s.jsx(ie.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:s.jsx(ge,{children:s.jsxs(vt,{to:"/codex/settings/code-review",className:"group/card -m-4 flex items-center gap-2 rounded-2xl p-4",onClick:T,children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(Me,{className:"icon-md relative z-10"})}),s.jsx("div",{className:"text-token-text-primary flex-1 text-sm font-medium",children:s.jsx(A,{id:"wham.gettingStarted.codeReview",defaultMessage:"Enable code review"})}),f&&!C&&(x||N)&&s.jsx("span",{className:"pointer-events-none flex h-4 w-4 items-center justify-center",children:x?s.jsx(ne,{className:"h-5 w-5"}):s.jsx(Ze,{percentage:v.percentage,thickness:1/10,sizeOverride:10,className:"text-token-text-primary h-10 w-10",backgroundStrokeClassName:"stroke-token-text-primary/20",transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0.55, 0, 1, 1)"})})]})})},"code-review-card")})]})]})}function ge({children:t}){return s.jsx("div",{className:te("bg-token-bg-tertiary","dark:bg-token-bg-secondary","flex flex-col justify-between gap-1 rounded-2xl p-4"),children:t})}function pa(){const t=K(),e=q(),{eligible:n,isLoading:d}=Je(),{slack:p}=dt(e),{isConnected:l,isLoading:i}=je(ae.SLACK_CODEX_CONNECTOR,"slack","/codex/settings/connectors",le.CODEX),o=se.useCallback(()=>{J(e,At)},[e]);if(!n||d||i||l)return null;const r=s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(Vt,{className:"icon-md"})}),s.jsxs("div",{className:"flex flex-1 items-center gap-2 text-start text-sm leading-tight",children:[s.jsx("span",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(A,{id:"wham.gettingStarted.slack",defaultMessage:"Set up Codex with Slack"})}),s.jsx(tt,{className:"icon-sm text-token-text-primary shrink-0"})]})]});return s.jsx("div",{className:"group w-full px-3 pt-4 md:px-0",children:s.jsxs("div",{className:"bg-token-bg-tertiary/80 dark:bg-token-bg-secondary flex items-center gap-3 rounded-2xl px-4 py-3",children:[s.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:"group/card flex flex-1 items-center justify-between gap-3",onClick:()=>we.recordSlackLinkClicked(),children:r}),s.jsx(z,{onClick:o,className:"text-token-text-tertiary dark:text-token-text-tertiary w-7 shrink-0 items-center justify-center rounded-lg",size:"small",color:"ghost","aria-label":t.formatMessage({id:"wham.newFeatures.dismiss",defaultMessage:"Dismiss new features announcement"}),children:s.jsx(ye,{className:"icon-sm"})})]})})}function fe(){"use forget";const t=$.c(21),e=Ye(),n=Je(),d=Xe(),[p,l]=I.useState(null),{data:i}=Cs(),o=Ws(i);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(ha,{}),t[0]=r):r=t[0];let c;t[1]!==e.eligible?(c={eligible:e.eligible,render:r},t[1]=e.eligible,t[2]=c):c=t[2];let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(pa,{}),t[3]=a):a=t[3];let m;t[4]!==n.eligible?(m={eligible:n.eligible,render:a},t[4]=n.eligible,t[5]=m):m=t[5];let w;t[6]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(da,{}),t[6]=w):w=t[6];let x;t[7]!==d.eligible?(x={eligible:d.eligible,render:w},t[7]=d.eligible,t[8]=x):x=t[8];let b;t[9]!==c||t[10]!==m||t[11]!==x?(b=[c,m,x],t[9]=c,t[10]=m,t[11]=x,t[12]=b):b=t[12];const h=b;let u;t[13]!==h||t[14]!==p?(u=p==null?(()=>{const f=h.findIndex(ga);return f>=0?f:null})():null,t[13]=h,t[14]=p,t[15]=u):u=t[15];const _=u;let y,S;if(t[16]!==_?(y=()=>{_!=null&&l(f=>f==null?_:f)},S=[_],t[16]=_,t[17]=y,t[18]=S):(y=t[17],S=t[18]),I.useEffect(y,S),o&&i){let f;return t[19]!==i?(f=s.jsx("div",{className:"w-full pt-6",children:s.jsx(Is,{rateLimit:i,linkToUsageDashboard:!0})}),t[19]=i,t[20]=f):f=t[20],f}return p==null?null:h[p].render}function ga(t){return t.eligible}function wa(t){return Y(t,"3984934927")}function ba({shouldTurnOn:t,onChange:e}){const{data:n}=de(),d=K();return n?s.jsx("div",{className:"border-token-border-heavy bg-token-bg-primary flex w-full flex-col items-center rounded-lg border p-4",children:s.jsxs("div",{className:"flex w-full justify-between",children:[s.jsxs("div",{className:"flex w-full flex-col items-start justify-start gap-2",children:[s.jsx("p",{className:"text-token-text-primary text-sm leading-tight font-medium",children:s.jsx(A,{id:"wham.enableCodeReviewsToggle.label",defaultMessage:"Code reviews"})}),s.jsx("p",{className:"text-token-text-secondary justify-start text-xs leading-none font-normal",children:s.jsx(A,{id:"wham.enableCodeReviewsToggle.description",defaultMessage:"Automatically run reviews on new pull requests in this repo."})})]}),s.jsx("div",{className:"flex items-center",children:s.jsx(st,{checked:t,onCheckedChange:e,className:"radix-state-checked:bg-black!","aria-label":d.formatMessage({id:"wham.enableCodeReviewsToggle.ariaLabel",defaultMessage:"Enable code reviews by Codex"})})})]})}):null}function ut(){const t=q(),e=at("installations/select_target"),{data:n,isLoading:d}=lt();I.useEffect(()=>{var l,i;if(d)return;[...(l=n==null?void 0:n.memberships)!=null?l:[],...(i=n==null?void 0:n.other)!=null?i:[]].length===0&&mt(e)},[d,n,t,e])}function va({backCta:t,handleGoBack:e,handleSelectEnvironment:n,goToNextPage:d,lockPageView:p,shouldDisableRow:l,disablePill:i}){var j;const o=Se(),r=K(),[c,a]=I.useState(""),[m,w]=I.useState(null),[x,b]=I.useState(!o),{mutate:h,isPending:u}=Xs({onSuccess:g=>{we.recordCreateEnvSuccess(),n(g.id,Bs(g)),d()}}),{mutate:_}=Vs(),{mutate:y}=Ee({showToast:!1});ut();const f=Ys({defaultValues:{repositoryId:"",agentNetworkAccess:{mode:"off"}},validators:{onSubmit:({value:g})=>{var N;const v={};return(!g.repositoryId||g.repositoryId==="")&&(v.repositoryId=r.formatMessage({id:"wham.codexOnboardingEnvironments.repositoryIsRequired",defaultMessage:"Repository is required"})),((N=g.agentNetworkAccess)==null?void 0:N.mode)==="on"&&g.agentNetworkAccess.preset_allowlist===$s&&(!g.agentNetworkAccess.allowlist_domains||g.agentNetworkAccess.allowlist_domains.length===0)&&(v.agentNetworkAccess=r.formatMessage({id:"wham.environmentsForm.agentNetworkAccessAllowlistRequired",defaultMessage:"At least one domain is required"})),{fields:v}}},onSubmit:({value:g})=>{we.recordEnvironmentsSubmit(),p(),x&&(y({codeReviewPreference:"repo_default"}),_({repo_review_settings:[{repository:g.repositoryId,review_preference:"team"}]})),h(Z(Q({},g),{label:c,description:"",machine:"wham-public/wham-universal",workspaceDirectory:"/workspace",share_settings:"workspace",setupCommands:"",maintenanceSetupCommands:"",envVars:[],secrets:[],autoSetupSettings:{use_auto_setup:!0}}))}}),k=g=>{g.preventDefault(),g.stopPropagation(),f.handleSubmit()},C=Ds();return s.jsx("form",{onSubmit:k,className:"flex flex-col gap-6",children:s.jsxs("div",{className:"flex w-full flex-col gap-4",children:[s.jsx(Hs,{selectedInstallationId:(j=m==null?void 0:m.id)!=null?j:null,setSelectedInstallation:w}),s.jsx(f.Field,{name:"repositoryId",children:g=>{var v,N,T;return s.jsxs("div",{className:"flex w-full flex-col gap-4",children:[s.jsx(Fs,{installationId:(v=m==null?void 0:m.id)!=null?v:null,installationAccountLogin:(N=m==null?void 0:m.account_login)!=null?N:null,installationAccountType:(T=m==null?void 0:m.account_type)!=null?T:null,selectedRepository:g.state.value,onSelect:(E,M)=>{g.handleChange(E),a(M)},shouldDisableRow:l,disablePill:i}),s.jsx(Ve,{field:g})]})}}),s.jsx(ba,{shouldTurnOn:x,onChange:b}),s.jsx(f.Field,{name:"agentNetworkAccess",children:g=>{var v;return s.jsxs("div",{className:"flex flex-col gap-4",children:[C!=null&&s.jsx(Gs,{disabledByWorkspaceSettings:C,agentNetworkAccess:g.state.value,onChange:g.handleChange}),s.jsx(Ve,{field:g}),((v=g.state.value)==null?void 0:v.mode)==="on"&&s.jsx(Us,{})]})}}),s.jsxs("div",{className:"flex w-full items-center justify-between",children:[s.jsx(z,{color:"secondary",size:"medium",type:"button",onClick:e,children:t}),s.jsx(f.Subscribe,{selector:g=>g.values,children:g=>s.jsx(z,{color:"primary",size:"medium",loading:u,disabled:!c||!g.agentNetworkAccess,onClick:()=>f.handleSubmit(),children:s.jsx(A,{id:"wham.codexOnboardingEnvironments.createEnvironment",defaultMessage:"Create environment"})})})]})]})})}function _a(t){"use forget";const e=$.c(26),{isOpen:n,onClose:d}=t,p=q(),l=K(),i=G(ka),o=G(ya);let r;e[0]!==o||e[1]!==i?(r=(S,f)=>{i(S),o(f)},e[0]=o,e[1]=i,e[2]=r):r=e[2];const c=r;let a;e[3]!==p?(a=()=>J(p,Pt),e[3]=p,e[4]=a):a=e[4];const m=a;ut();let w;e[5]!==m||e[6]!==d?(w=()=>{m(),d()},e[5]=m,e[6]=d,e[7]=w):w=e[7];let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("h2",{className:"text-center text-2xl font-semibold",children:s.jsx(A,{id:"wham.createFirstEnvironmentModal.title",defaultMessage:"Create your first environment"})}),e[8]=x):x=e[8];let b;e[9]!==l?(b=l.formatMessage({id:"wham.createFirstEnvironmentModal.cancel",defaultMessage:"Cancel"}),e[9]=l,e[10]=b):b=e[10];let h;e[11]!==m||e[12]!==d?(h=()=>{m(),d()},e[11]=m,e[12]=d,e[13]=h):h=e[13];let u;e[14]!==m||e[15]!==d?(u=()=>{m(),d()},e[14]=m,e[15]=d,e[16]=u):u=e[16];let _;e[17]!==c||e[18]!==b||e[19]!==h||e[20]!==u?(_=s.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[x,s.jsx(va,{backCta:b,handleGoBack:h,handleSelectEnvironment:c,goToNextPage:u,lockPageView:ja})]}),e[17]=c,e[18]=b,e[19]=h,e[20]=u,e[21]=_):_=e[21];let y;return e[22]!==n||e[23]!==w||e[24]!==_?(y=s.jsx(nt,{isOpen:n,onClose:w,type:"success",size:"large",noPadding:!0,testId:"modal-wham-create-first-environment",position:"center",contentClassName:"no-scrollbar",className:"h-[90vh]",children:_}),e[22]=n,e[23]=w,e[24]=_,e[25]=y):y=e[25],y}function ja(){}function ya(t){return t.setBranch}function ka(t){return t.setEnvironmentId}function Ca(t){"use forget";const e=$.c(34),{disabledInstallations:n,autoReviewPreference:d,isAutoReviewPreferenceSaving:p,onAutoReviewPreferenceChange:l}=t;let i;e[0]!==n?(i=n===void 0?[]:n,e[0]=n,e[1]=i):i=e[1];const o=i,r=K(),[c,a]=I.useState(d);let m,w;e[2]!==d?(m=()=>{a(d)},w=[d],e[2]=d,e[3]=m,e[4]=w):(m=e[3],w=e[4]),I.useEffect(m,w);const{filteredSettings:x,isLoading:b,isFetching:h,updateCodeReviewRepositories:u,isLegacyEnterprisey:_}=zs(),y=Se(),S=As(),f=Ps(),k=zt(),C=ot();let j;e[5]!==C?(j=qs(C),e[5]=C,e[6]=j):j=e[6];const g=j;let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("p",{className:"text-sm font-medium",children:s.jsx(A,{id:"wham.codeReviewPage.teamAutomations.autoReviewToggle.label",defaultMessage:"Review all my pull requests"})}),e[7]=v):v=e[7];let N;e[8]!==r?(N=r.formatMessage({id:"wham.codeReviewPage.personalPreferences.toggleRepoCodeReviewAria",defaultMessage:"Toggle code review for personal preferences"}),e[8]=r,e[9]=N):N=e[9];const T=c==="always";let E;e[10]!==l?(E=L=>{const D=L?"always":"repo_default";a(D),l(D)},e[10]=l,e[11]=E):E=e[11];let M;e[12]!==p||e[13]!==N||e[14]!==T||e[15]!==E?(M=s.jsxs("div",{className:"flex items-center justify-between gap-3 px-4 py-3",children:[v,s.jsx(st,{"aria-label":N,checked:T,disabled:p,onCheckedChange:E})]}),e[12]=p,e[13]=N,e[14]=T,e[15]=E,e[16]=M):M=e[16];let O;e[17]!==g||e[18]!==o||e[19]!==x||e[20]!==h||e[21]!==_||e[22]!==b||e[23]!==S||e[24]!==f||e[25]!==y||e[26]!==u||e[27]!==(k==null?void 0:k.email)?(O=b?Array.from({length:4}).map(Na):x.length===0&&!h?s.jsx("div",{className:"text-token-text-tertiary px-4 py-6 text-center text-sm",children:s.jsx(A,{id:"wham.codeReviewPage.teamAutomations.noRepositories",defaultMessage:"No repositories"})}):x.map((L,D)=>{var H;return s.jsx(Ks,{repo:L,isTeamOrEnterprise:y,isLegacyEnterprisey:_,isPlus:!!S,isPro:!!f,disabledInstallations:o,updateCodeReviewRepositories:u,currentAccountOwnerId:g,currentUserEmail:(H=k==null?void 0:k.email)!=null?H:null,layout:"condensed",showDivider:D!==0},Qs(L))}),e[17]=g,e[18]=o,e[19]=x,e[20]=h,e[21]=_,e[22]=b,e[23]=S,e[24]=f,e[25]=y,e[26]=u,e[27]=k==null?void 0:k.email,e[28]=O):O=e[28];let P;e[29]!==O?(P=s.jsx("div",{className:"border-token-border-light min-h-0 flex-1 overflow-y-auto border-t pe-1",children:O}),e[29]=O,e[30]=P):P=e[30];let R;return e[31]!==M||e[32]!==P?(R=s.jsxs("div",{className:"border-token-border-light bg-token-bg-primary flex h-full max-h-[400px] min-h-0 flex-col overflow-hidden rounded-2xl border",children:[M,P]}),e[31]=M,e[32]=P,e[33]=R):R=e[33],R}function Na(t,e){return s.jsxs("div",{className:te("flex items-center justify-between gap-3 px-4 py-3",e!==0&&"border-token-border-light border-t"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(he,{className:"h-4 w-4 rounded"}),s.jsx(he,{className:"h-4 w-32"})]}),s.jsx(he,{className:"h-6 w-32 rounded-md"})]},"condensed-skeleton-".concat(e))}const Sa=[xe({id:"wham.codeReviewOnboardingModal.step.mfa",defaultMessage:"Set up multi-factor authentication"}),xe({id:"wham.codeReviewOnboardingModal.step.github",defaultMessage:"Connect to GitHub"}),xe({id:"wham.codeReviewOnboardingModal.step.configure",defaultMessage:"Configure code review"})];function qe(t){"use forget";const e=$.c(45),{onClose:n,onModalDismissed:d}=t,p=K();let l;e[0]!==n||e[1]!==d?(l=async U=>{await d(),n()},e[0]=n,e[1]=d,e[2]=l):l=e[2];const i=l,{isLoading:o,isMfaRequired:r,isMfaEnabled:c,isGitHubConnected:a,hasValidInstallation:m,isCodeReviewEnabled:w,openGithubModal:x,markCompletedCodeReview:b}=Pe({onError:()=>{u.danger(p.formatMessage({id:"wham.codeReviewOnboardingModal.errorToast",defaultMessage:"Failed to set up code review. Please try again."}),{id:"codex-code-review-onboarding-error",duration:5,hasCloseButton:!0}),i()}}),h=q(),u=qt(h);let _;e[3]===Symbol.for("react.memo_cache_sentinel")?(_={redirectUrl:"/codex?codex_onboarding=code_review"},e[3]=_):_=e[3];const{setupMfa:y}=Zs(_),[S,f]=I.useState(!1),k=!!c,C=!!(a&&m),j=!!w;let g;e[4]!==k||e[5]!==C||e[6]!==j?(g={"wham.codeReviewOnboardingModal.step.mfa":k,"wham.codeReviewOnboardingModal.step.github":C,"wham.codeReviewOnboardingModal.step.configure":j},e[4]=k,e[5]=C,e[6]=j,e[7]=g):g=e[7];const v=g;let N;e[8]===Symbol.for("react.memo_cache_sentinel")?(N=at("installations/select_target"),e[8]=N):N=e[8];const T=N;let E;e[9]!==m||e[10]!==a||e[11]!==o||e[12]!==v?(E=U=>o?s.jsx("span",{className:"border-token-border-heavy text-token-text-primary flex h-5 w-5 items-center justify-center rounded-full",children:s.jsx(ne,{className:"h-4 w-4"})}):U==="wham.codeReviewOnboardingModal.step.github"&&a&&!m?s.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full",children:s.jsx(Ze,{percentage:50})}):v[U]?s.jsx("span",{className:"border-token-border-heavy bg-token-bg-success/40 text-token-text-primary flex h-5 w-5 items-center justify-center rounded-full border-2",children:s.jsx(Kt,{className:"h-3 w-3"})}):s.jsx("span",{className:"border-token-border-heavy flex h-5 w-5 items-center justify-center rounded-full border-2"}),e[9]=m,e[10]=a,e[11]=o,e[12]=v,e[13]=E):E=e[13];const M=E;let O;e[14]!==i||e[15]!==b?(O=async()=>{await i(),b()},e[14]=i,e[15]=b,e[16]=O):O=e[16];const P=O;let R;e[17]!==h||e[18]!==i||e[19]!==m||e[20]!==w||e[21]!==a||e[22]!==o||e[23]!==c||e[24]!==x||e[25]!==y?(R=async()=>{if(!o){if(!c){y(),await i();return}if(!a){await i(),x();return}if(!m){await i(),mt(T,h,{includeQueryParamForRedirect:!0});return}if(!w){f(!0);return}await i()}},e[17]=h,e[18]=i,e[19]=m,e[20]=w,e[21]=a,e[22]=o,e[23]=c,e[24]=x,e[25]=y,e[26]=R):R=e[26];const L=R;let D;e[27]!==p?(D=p.formatMessage({id:"wham.codeReviewOnboardingModal.hiddenTitle",defaultMessage:" "}),e[27]=p,e[28]=D):D=e[28];const H=D,B=S?"max-w-[520px]":"max-w-[420px]";let W;e[29]!==B?(W=te("w-full",B),e[29]=B,e[30]=W):W=e[30];let F;e[31]!==P||e[32]!==L||e[33]!==m||e[34]!==a||e[35]!==o||e[36]!==r||e[37]!==M||e[38]!==S?(F=S?s.jsx(Ea,{onComplete:P}):s.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-0",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[s.jsx("div",{className:"rounded-xl border-[0.5px] p-2 shadow-sm",children:s.jsx(Me,{className:"icon h-8 w-8"})}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("h2",{className:"text-token-text-primary text-xxl font-semibold",children:s.jsx(A,{id:"wham.codeReviewOnboardingModal.title",defaultMessage:"Set up code review"})}),s.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:s.jsx(A,{id:"wham.codeReviewOnboardingModal.subtitle",defaultMessage:"Automatically review your pull requests with Codex"})})]})]}),s.jsx("div",{className:"border-token-border-light bg-token-bg-primary flex flex-col gap-3 rounded-2xl border p-4",children:Sa.map(U=>{if(U.id==="wham.codeReviewOnboardingModal.step.mfa"&&!r)return;const oe=U.id==="wham.codeReviewOnboardingModal.step.github"&&!o&&a&&!m;return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center gap-2",children:M(U.id)}),s.jsx("p",{className:"text-token-text-primary text-sm leading-5",children:s.jsx(A,Q({},U))}),oe?s.jsx("span",{className:"text-token-text-secondary text-xs font-medium",children:s.jsx(A,{id:"wham.codeReviewOnboardingModal.step.github.inProgress",defaultMessage:"In-progress"})}):null]},U.id)})}),s.jsxs(z,{color:"primary",fullWidth:!0,onClick:L,contentWrapperClassName:"gap-2",disabled:o,children:[s.jsx("span",{children:s.jsx(A,{id:"wham.codeReviewOnboardingModal.continue",defaultMessage:"Continue"})}),s.jsx(tt,{className:"icon-sm"})]})]}),e[31]=P,e[32]=L,e[33]=m,e[34]=a,e[35]=o,e[36]=r,e[37]=M,e[38]=S,e[39]=F):F=e[39];let V;return e[40]!==i||e[41]!==H||e[42]!==W||e[43]!==F?(V=s.jsx(nt,{isOpen:!0,onClose:i,showCloseButton:!0,showOverlayBackground:!0,noPadding:!0,size:"custom",position:"center",className:W,testId:"modal-codex-code-review-onboarding",closeButtonClassName:"text-token-text-secondary hover:text-token-text-primary transition-colors",title:H,children:F}),e[40]=i,e[41]=H,e[42]=W,e[43]=F,e[44]=V):V=e[44],V}function Ea(t){"use forget";var _;const e=$.c(13),{onComplete:n}=t,{data:d,isLoading:p,isError:l}=de();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={showToast:!0},e[0]=i):i=e[0];const{mutate:o,isPending:r}=Ee(i),{data:c}=Ns();let a;e[1]!==(c==null?void 0:c.installations_without_events)?(a=(_=c==null?void 0:c.installations_without_events)!=null?_:[],e[1]=c==null?void 0:c.installations_without_events,e[2]=a):a=e[2];const m=a,w=p||l||!d;let x;e[3]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("div",{className:"bg-tertiary rounded-xl border-[0.5px] p-2 shadow-sm",children:s.jsx(Me,{className:"icon h-8 w-8"})}),e[3]=x):x=e[3];let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx("h2",{className:"text-token-text-primary text-xxl font-semibold",children:s.jsx(A,{id:"wham.codeReviewOnboardingModal.configure.title",defaultMessage:"Configure code review"})}),e[4]=b):b=e[4];let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[x,s.jsxs("div",{className:"flex flex-col gap-1",children:[b,s.jsx("p",{className:"text-token-text-secondary text-sm leading-5",children:s.jsx(A,{id:"wham.codeReviewOnboardingModal.configure.subtitle",defaultMessage:"Select which repositories and PRs will be reviewed by Codex"})})]})]}),e[5]=h):h=e[5];let u;return e[6]!==m||e[7]!==r||e[8]!==n||e[9]!==w||e[10]!==o||e[11]!==d?(u=s.jsxs("div",{className:"flex flex-col gap-6 p-6 pt-0",children:[h,w?s.jsx("div",{className:"flex flex-1 items-center justify-center",children:s.jsx(ne,{className:"h-9 w-9"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"min-h-0 flex-1 pe-1",children:s.jsx(Ca,{autoReviewPreference:d.code_review_preference,isAutoReviewPreferenceSaving:r,onAutoReviewPreferenceChange:y=>{o({codeReviewPreference:y})},disabledInstallations:m.map(Ma)})}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-token-text-tertiary text-center text-xs leading-5",children:s.jsx(A,{id:"wham.codeReviewOnboardingModal.configure.footer",defaultMessage:"You can always change it in the settings"})}),s.jsx(z,{color:"primary",fullWidth:!0,onClick:n,children:s.jsx(A,{id:"wham.codeReviewOnboardingModal.configure.done",defaultMessage:"Done"})})]})]})]}),e[6]=m,e[7]=r,e[8]=n,e[9]=w,e[10]=o,e[11]=d,e[12]=u):u=e[12],u}function Ma(t){return t.account_login}function Ra(t,{isCodeReviewOnboardingFlowEnabled:e,hasCompletedCodeReviewFlow:n,isHasCompletedCodeReviewLoading:d}){const p=I.useRef(null),l=I.useRef(!1),i=ve(),o=_e(),r=Qt();I.useEffect(()=>{const a=new URLSearchParams(o.search).get(Ae);if(!e||r||d||n){l.current&&(Xt(t,qe),l.current=!1);return}if(a!==be){p.current=a;return}if(p.current===be&&l.current===!0)return;p.current=a;let m=!1;const w=async()=>{if(m)return;m=!0;const x=ua(o.search);await i({pathname:o.pathname,search:x,hash:o.hash},{replace:!0})};l.current=!0,Yt(t,qe,{onModalDismissed:async()=>{await w()}})},[t,o.hash,o.pathname,o.search,i,e,n,d,r])}function Cn(t){"use forget";const e=$.c(19),n=q(),d=Zt(n),p=wa(n),l=Jt(n),i=Ot();Ls();let o,r;e[0]!==n?(o=()=>es(n).limitActionGroups([]),r=[n],e[0]=n,e[1]=o,e[2]=r):(o=e[1],r=e[2]),I.useEffect(o,r);const c=Y(n,"547652119"),a=G(Ta);if(!d){if(p){let k;return e[3]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(hs,{}),e[3]=k):k=e[3],k}let f;return e[4]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(re,{to:"/"}),e[4]=f):f=e[4],f}if(i==="DISABLED"&&(l==null?void 0:l.isWorkspacePlan())){let f;return e[5]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(re,{to:"/codex/access",replace:!0}),e[5]=f):f=e[5],f}if(c){let f;return e[6]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(re,{to:"/codex/failwhale"}),e[6]=f):f=e[6],f}if(i==="DISABLED"){let f;return e[7]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(re,{to:"/",replace:!0}),e[7]=f):f=e[7],f}const w=_t,x=l==null?void 0:l.getWorkspaceId();let b;e[8]!==w||e[9]!==x?(b=s.jsx(w,{page:"codex"},x),e[8]=w,e[9]=x,e[10]=b):b=e[10];let h;e[11]!==a?(h=!1,e[11]=a,e[12]=h):h=e[12];let u;e[13]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(ps,{children:s.jsx(gs,{hideNotificationBell:!0})}),e[13]=u):u=e[13];let _,y;e[14]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(ds,{mobileHeaderRightContent:null,children:s.jsxs("div",{className:"flex h-full flex-col",children:[u,s.jsx(ts,{children:s.jsx(Aa,{})})]})}),y=s.jsx(ws,{}),e[14]=_,e[15]=y):(_=e[14],y=e[15]);let S;return e[16]!==b||e[17]!==h?(S=s.jsxs(s.Fragment,{children:[b,h,_,y]}),e[16]=b,e[17]=h,e[18]=S):S=e[18],S}function Ta(t){return t.showReactQueryDevtools}function Aa(){"use forget";var L,D,H;const t=$.c(43),{homeTab:e}=it(),[n,d,p]=G(Pa),[l,i]=I.useState(!1),o=_e(),r=q(),c=ot(),{composerController:a}=Wt(),m=I.useRef(!1),w=Pe();Ra(r,w),xa(w);let x,b;t[0]!==r?(x=()=>{ss(r).prefetchInfiniteQuery(Es("archived"))},b=[r],t[0]=r,t[1]=x,t[2]=b):(x=t[1],b=t[2]),I.useEffect(x,b);let h;t[3]!==a||t[4]!==r||t[5]!==((L=o.state)==null?void 0:L.focusComposer)?(h=()=>{var W;const B=Y(r,"1406552515");(W=o.state)!=null&&W.focusComposer&&!m.current&&!B&&(as(ee(a)),m.current=!0)},t[3]=a,t[4]=r,t[5]=(D=o.state)==null?void 0:D.focusComposer,t[6]=h):h=t[6];const u=(H=o.state)==null?void 0:H.focusComposer;let _;t[7]!==a||t[8]!==r||t[9]!==u?(_=[u,a,r],t[7]=a,t[8]=r,t[9]=u,t[10]=_):_=t[10],I.useEffect(h,_);let y,S;t[11]!==a||t[12]!==r?(y=()=>{const B=Y(r,"1406552515");Ue(ee(a),B?"":G.getState().promptDraft)},S=[a,r],t[11]=a,t[12]=r,t[13]=y,t[14]=S):(y=t[13],S=t[14]),I.useEffect(y,S);let f,k;t[15]!==a||t[16]!==n?(f=()=>{const B=ns(W=>{n(rs(W.doc)?"":os(W.doc).content)},1e3);return is(()=>ls(a),B)},k=[a,n],t[15]=a,t[16]=n,t[17]=f,t[18]=k):(f=t[17],k=t[18]),I.useEffect(f,k);let C,j;t[19]!==a||t[20]!==o.search?(j=()=>{const W=new URLSearchParams(o.search).get("prompt");W&&Ue(ee(a),W)},C=[o.search,a],t[19]=a,t[20]=o.search,t[21]=C,t[22]=j):(C=t[21],j=t[22]),I.useEffect(j,C);const{data:g}=Ss();let v,N;t[23]!==g||t[24]!==o.search||t[25]!==d?(v=()=>{const W=new URLSearchParams(o.search).get("environment");W&&(g!=null&&g.some(F=>F.id===W))&&d(W)},N=[o.search,g,d],t[23]=g,t[24]=o.search,t[25]=d,t[26]=v,t[27]=N):(v=t[26],N=t[27]),I.useEffect(v,N);let T,E;t[28]!==o.search||t[29]!==p?(T=()=>{const W=new URLSearchParams(o.search).get("branch");W&&p(W)},E=[o.search,p],t[28]=o.search,t[29]=p,t[30]=T,t[31]=E):(T=t[30],E=t[31]),I.useEffect(T,E);const M=c==null?void 0:c.isHipaaCompliantWorkspace;let O;t[32]!==a||t[33]!==e||t[34]!==n||t[35]!==M?(O=s.jsx(xs,{children:s.jsx(Oa,{setPromptDraft:n,setShowCreateEnvModal:i,composerController:a,homeTab:e,showHipaaBanner:M})}),t[32]=a,t[33]=e,t[34]=n,t[35]=M,t[36]=O):O=t[36];let P;t[37]!==l?(P=l&&s.jsx(_a,{isOpen:l,onClose:()=>i(!1)}),t[37]=l,t[38]=P):P=t[38];let R;return t[39]!==a||t[40]!==O||t[41]!==P?(R=s.jsxs(cs,{value:a,children:[O,P]}),t[39]=a,t[40]=O,t[41]=P,t[42]=R):R=t[42],R}function Pa(t){return[t.setPromptDraft,t.setEnvironmentId,t.setBranch]}function ue({shouldShow:t}){return t?s.jsx("div",{className:"mb-4 w-full px-3 md:px-0",children:s.jsx(It,{message:s.jsx(A,{id:"wham.home.hipaaWarning",defaultMessage:"Do not enter Protected Health Information (PHI) into Codex."})})}):null}function Oa(t){"use forget";const e=$.c(21),{state:n}=fs(),[d,p]=I.useState(!0);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=a=>{const m=()=>{p(a.scrollTop===0)};return a.addEventListener("scroll",m),m(),()=>a.removeEventListener("scroll",m)},e[0]=l):l=e[0];const i=l,o=G(Wa),[r]=I.useState(!!o),c=d&&o==null;switch(n){case X.Error:case X.Complete:{let a;return e[1]!==c||e[2]!==r||e[3]!==t?(a=s.jsx(Ke,Z(Q({},t),{scrollRef:i,defaultExpanded:c,hasLastViewTaskIdOnMount:r})),e[1]=c,e[2]=r,e[3]=t,e[4]=a):a=e[4],a}case X.NoGithubConnection:{let a;return e[5]!==c||e[6]!==r||e[7]!==t?(a=s.jsx(Ba,Z(Q({},t),{scrollRef:i,defaultExpanded:c,hasLastViewTaskIdOnMount:r})),e[5]=c,e[6]=r,e[7]=t,e[8]=a):a=e[8],a}case X.NoEnvironmentsCreated:{let a;return e[9]!==c||e[10]!==r||e[11]!==t?(a=s.jsx(Da,Z(Q({},t),{scrollRef:i,defaultExpanded:c,hasLastViewTaskIdOnMount:r})),e[9]=c,e[10]=r,e[11]=t,e[12]=a):a=e[12],a}case X.NoTasksCreated:{let a;return e[13]!==c||e[14]!==r||e[15]!==t?(a=s.jsx(Ga,Z(Q({},t),{scrollRef:i,defaultExpanded:c,hasLastViewTaskIdOnMount:r})),e[13]=c,e[14]=r,e[15]=t,e[16]=a):a=e[16],a}case X.Loading:{let a;return e[17]!==c||e[18]!==r||e[19]!==t?(a=s.jsx(Ke,Z(Q({},t),{scrollRef:i,defaultExpanded:c,hasLastViewTaskIdOnMount:r})),e[17]=c,e[18]=r,e[19]=t,e[20]=a):a=e[20],a}}}function Wa(t){return t.lastViewedTaskId}function Ke(t){"use forget";const e=$.c(34),{scrollRef:n,hasLastViewTaskIdOnMount:d,defaultExpanded:p,setPromptDraft:l,setShowCreateEnvModal:i,composerController:o,homeTab:r,showHipaaBanner:c}=t,a=q();let m;e[0]!==a?(m=Y(a,"1406552515"),e[0]=a,e[1]=m):m=e[1];const w=m;let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x={scrollbarGutter:"stable"},e[2]=x):x=e[2];let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(me,{}),e[3]=b):b=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(A,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=h):h=e[4];let u;e[5]!==c?(u=s.jsx(ue,{shouldShow:c}),e[5]=c,e[6]=u):u=e[6];const _=d||w,y=p?!0:void 0,S=!w;let f;e[7]!==o||e[8]!==l?(f=()=>{ke(ee(o)),l("")},e[7]=o,e[8]=l,e[9]=f):f=e[9];let k;e[10]!==i?(k=()=>i(!0),e[10]=i,e[11]=k):k=e[11];let C;e[12]!==k||e[13]!==_||e[14]!==y||e[15]!==S||e[16]!==f?(C=s.jsx(Ce,{disableAutoFocus:_,expanded:y,isBigBoxMode:S,onSubmit:f,onSuccess:Ia,onCreateEnvironment:k}),e[12]=k,e[13]=_,e[14]=y,e[15]=S,e[16]=f,e[17]=C):C=e[17];let j;e[18]!==w||e[19]!==C?(j=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(ft,{disabled:w,children:C})}),e[18]=w,e[19]=C,e[20]=j):j=e[20];let g,v;e[21]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(fe,{}),v=s.jsx(Re,{}),e[21]=g,e[22]=v):(g=e[21],v=e[22]);let N;e[23]!==j||e[24]!==u?(N=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[h,u,j,g,v]}),e[23]=j,e[24]=u,e[25]=N):N=e[25];let T;e[26]!==r?(T=s.jsx(Te,{homeTab:r}),e[26]=r,e[27]=T):T=e[27];let E;e[28]!==N||e[29]!==T?(E=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[b,N,T]}),e[28]=N,e[29]=T,e[30]=E):E=e[30];let M;return e[31]!==n||e[32]!==E?(M=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:n,style:x,children:E}),e[31]=n,e[32]=E,e[33]=M):M=e[33],M}function Ia(){Ne.set(La)}function La(t){return t+1}function Ba(t){"use forget";const e=$.c(18),{scrollRef:n,setShowCreateEnvModal:d,showHipaaBanner:p}=t;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={scrollbarGutter:"stable"},e[0]=l):l=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(me,{}),e[1]=i):i=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(A,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[2]=o):o=e[2];let r;e[3]!==p?(r=s.jsx(ue,{shouldShow:p}),e[3]=p,e[4]=r):r=e[4];let c;e[5]!==d?(c=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(ea,{isGitHubConnected:!1,onClickCreateEnvironment:()=>d(!0)})}),e[5]=d,e[6]=c):c=e[6];let a;e[7]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(fe,{}),e[7]=a):a=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx("div",{className:"w-full px-3 md:px-0",children:s.jsx("div",{className:"text-token-text-primary ps-1 pt-6 pb-4 text-sm font-medium",children:s.jsx(A,{id:"wham.samples.title",defaultMessage:"Examples of what Codex can do"})})}),e[8]=m):m=e[8];let w;e[9]!==r||e[10]!==c?(w=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[o,r,c,a,m]}),e[9]=r,e[10]=c,e[11]=w):w=e[11];let x;e[12]===Symbol.for("react.memo_cache_sentinel")?(x=s.jsx("div",{className:"w-full px-3 md:px-0",children:s.jsx(aa,{})}),e[12]=x):x=e[12];let b;e[13]!==w?(b=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[i,w,x]}),e[13]=w,e[14]=b):b=e[14];let h;return e[15]!==n||e[16]!==b?(h=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:n,style:l,children:b}),e[15]=n,e[16]=b,e[17]=h):h=e[17],h}function Da(t){"use forget";const e=$.c(31),{scrollRef:n,hasLastViewTaskIdOnMount:d,defaultExpanded:p,setPromptDraft:l,composerController:i,setShowCreateEnvModal:o,homeTab:r,showHipaaBanner:c}=t,a=q();let m;e[0]!==a?(m=Y(a,"1406552515"),e[0]=a,e[1]=m):m=e[1];const w=m;let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x={scrollbarGutter:"stable"},e[2]=x):x=e[2];let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(me,{}),e[3]=b):b=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(A,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=h):h=e[4];let u;e[5]!==c?(u=s.jsx(ue,{shouldShow:c}),e[5]=c,e[6]=u):u=e[6];const _=d||w,y=p?!0:void 0,S=!w;let f;e[7]!==i||e[8]!==l?(f=()=>{ke(ee(i)),l("")},e[7]=i,e[8]=l,e[9]=f):f=e[9];let k;e[10]!==o?(k=()=>o(!0),e[10]=o,e[11]=k):k=e[11];let C;e[12]!==k||e[13]!==_||e[14]!==y||e[15]!==S||e[16]!==f?(C=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(Ce,{disableAutoFocus:_,expanded:y,isBigBoxMode:S,onSubmit:f,onSuccess:Ha,onCreateEnvironment:k})}),e[12]=k,e[13]=_,e[14]=y,e[15]=S,e[16]=f,e[17]=C):C=e[17];let j,g;e[18]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(fe,{}),g=s.jsx(Re,{}),e[18]=j,e[19]=g):(j=e[18],g=e[19]);let v;e[20]!==C||e[21]!==u?(v=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[h,u,C,j,g]}),e[20]=C,e[21]=u,e[22]=v):v=e[22];let N;e[23]!==r?(N=s.jsx(Te,{homeTab:r}),e[23]=r,e[24]=N):N=e[24];let T;e[25]!==v||e[26]!==N?(T=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[b,v,N]}),e[25]=v,e[26]=N,e[27]=T):T=e[27];let E;return e[28]!==n||e[29]!==T?(E=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:n,style:x,children:T}),e[28]=n,e[29]=T,e[30]=E):E=e[30],E}function Ha(){Ne.set(Fa)}function Fa(t){return t+1}function Ga(t){"use forget";const e=$.c(34),{scrollRef:n,hasLastViewTaskIdOnMount:d,defaultExpanded:p,setPromptDraft:l,setShowCreateEnvModal:i,composerController:o,homeTab:r,showHipaaBanner:c}=t,a=q();let m;e[0]!==a?(m=Y(a,"1406552515"),e[0]=a,e[1]=m):m=e[1];const w=m;let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x={scrollbarGutter:"stable"},e[2]=x):x=e[2];let b;e[3]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(me,{}),e[3]=b):b=e[3];let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(A,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=h):h=e[4];let u;e[5]!==c?(u=s.jsx(ue,{shouldShow:c}),e[5]=c,e[6]=u):u=e[6];const _=d||w,y=p?!0:void 0,S=!w;let f;e[7]!==o||e[8]!==l?(f=()=>{ke(ee(o)),l("")},e[7]=o,e[8]=l,e[9]=f):f=e[9];let k;e[10]!==i?(k=()=>i(!0),e[10]=i,e[11]=k):k=e[11];let C;e[12]!==k||e[13]!==_||e[14]!==y||e[15]!==S||e[16]!==f?(C=s.jsx(Ce,{disableAutoFocus:_,expanded:y,isBigBoxMode:S,onSubmit:f,onSuccess:Ua,onCreateEnvironment:k}),e[12]=k,e[13]=_,e[14]=y,e[15]=S,e[16]=f,e[17]=C):C=e[17];let j;e[18]!==w||e[19]!==C?(j=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(ft,{disabled:w,children:C})}),e[18]=w,e[19]=C,e[20]=j):j=e[20];let g,v;e[21]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(fe,{}),v=s.jsx(Re,{}),e[21]=g,e[22]=v):(g=e[21],v=e[22]);let N;e[23]!==j||e[24]!==u?(N=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[h,u,j,g,v]}),e[23]=j,e[24]=u,e[25]=N):N=e[25];let T;e[26]!==r?(T=s.jsx("div",{className:"w-full",children:s.jsx(Te,{homeTab:r})}),e[26]=r,e[27]=T):T=e[27];let E;e[28]!==N||e[29]!==T?(E=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[b,N,T]}),e[28]=N,e[29]=T,e[30]=E):E=e[30];let M;return e[31]!==n||e[32]!==E?(M=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:n,style:x,children:E}),e[31]=n,e[32]=E,e[33]=M):M=e[33],M}function Ua(){Ne.set($a)}function $a(t){return t+1}export{Cn as W};
//# sourceMappingURL=ilv6op56aemrdsoy.js.map

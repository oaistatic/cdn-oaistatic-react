import{r as u,c as de,j as a}from"./lip667d8t42poxum.js";import{eQ as pe,I as me,eR as he,eS as be,eT as ye}from"./l4oo5ijw01fyrjzs.js";import{c as X}from"./n9zp7vm10xoipejo.js";function ge(f,e){u.useEffect(()=>{const d=j=>{f.every(C=>!C.current?.contains(j.target))&&e()};return document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}},[e,f])}function Ae(f){"use forget";const e=de.c(63),{children:d,className:j,inputClassName:C,inputValue:i,label:A,name:H,onInputChange:P,placeholder:Y,popoverClassName:V,suggestions:s,onTabChange:Q,RenderTab:w}=f,U=Y===void 0?A:Y;let R;e[0]!==s?(R=typeof s=="object"?Object.keys(s):[],e[0]=s,e[1]=R):R=e[1];const N=R,[Z,re]=u.useState(N),[c,_]=u.useState(0);let S;e[2]!==Q||e[3]!==s?(S=t=>{_(t);const n=Object.keys(s)[t];n&&Q?.(n)},e[2]=Q,e[3]=s,e[4]=S):S=e[4];const p=S;(N.length!==Z.length||N.some((t,n)=>t!==Z[n]))&&(re(N),_(0));const[o,m]=u.useState(-1),[$,O]=u.useState(!1);let D;e[5]!==s?(D=Array.isArray(s)?s.length>0:Object.values(s).some(ve),e[5]=s,e[6]=D):D=e[6];const q=D,l=Array.isArray(s)?s:s[Object.keys(s)[c]??Object.keys(s)[0]],r=u.useId(),ee=u.useRef(null),te=u.useRef(null),se=u.useRef(null);let E;e[7]!==i||e[8]!==P?(E=t=>{const n=t.target.value;n!==i&&(m(-1),P(n),O(!0))},e[7]=i,e[8]=P,e[9]=E):E=e[9];const B=E;let F;e[10]!==l||e[11]!==o||e[12]!==c||e[13]!==p||e[14]!==s?(F=t=>{t.key==="Escape"&&(t.preventDefault(),t.stopPropagation(),O(!1)),t.key==="Tab"&&O(!1),t.key==="ArrowDown"&&(t.preventDefault(),m((o+1)%l.length)),t.key==="ArrowUp"&&(t.preventDefault(),m((o-1+l.length)%l.length)),o>-1&&!Array.isArray(s)&&(t.key==="ArrowRight"&&(t.preventDefault(),p((c+1)%Object.keys(s).length),m(0)),t.key==="ArrowLeft"&&(t.preventDefault(),p((c-1+Object.keys(s).length)%Object.keys(s).length),m(0)),t.key==="Enter"&&(t.preventDefault(),l[o].onClick()))},e[10]=l,e[11]=o,e[12]=c,e[13]=p,e[14]=s,e[15]=F):F=e[15];const G=F;let I;e[16]!==d||e[17]!==q||e[18]!==$||e[19]!==i?(I=(d!=null||i.trim()!==""&&q)&&$,e[16]=d,e[17]=q,e[18]=$,e[19]=i,e[20]=I):I=e[20];const h=I;let oe,T;e[21]===Symbol.for("react.memo_cache_sentinel")?(T=[ee,te,se],e[21]=T):T=e[21],oe=T;const ae=oe;let L;e[22]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{O(!1)},e[22]=L):L=e[22],ge(ae,L);const J=l[o]?.id!=null?r+l[o].id:void 0;let K;e[23]===Symbol.for("react.memo_cache_sentinel")?(K=()=>O(!0),e[23]=K):K=e[23];const M=o>-1;let b;e[24]!==j||e[25]!==r||e[26]!==C||e[27]!==i||e[28]!==h||e[29]!==A||e[30]!==H||e[31]!==B||e[32]!==G||e[33]!==U||e[34]!==J||e[35]!==M?(b=a.jsx(pe,{asChild:!0,children:a.jsx("div",{className:"relative z-10 grow",ref:ee,children:a.jsx(me,{"aria-activedescendant":J,"aria-autocomplete":"none","aria-controls":r,"aria-expanded":h,ariaLabel:A,autoCapitalize:"off",autoComplete:"off",className:j,inputClassName:C,list:"suggested-choices",name:H,onChange:B,onFocus:K,onKeyDown:G,placeholder:U,role:"combobox",spellCheck:!1,suppressFocus:M,value:i})})}),e[24]=j,e[25]=r,e[26]=C,e[27]=i,e[28]=h,e[29]=A,e[30]=H,e[31]=B,e[32]=G,e[33]=U,e[34]=J,e[35]=M,e[36]=b):b=e[36];let y;e[37]!==V?(y=X("border-token-border-default bg-token-main-surface-secondary group-has-focus:border-token-border-xheavy relative -top-1 z-50 m-0 max-h-[calc(var(--radix-popper-available-height)-2rem)] w-[var(--radix-popper-anchor-width)] min-w-fit cursor-pointer overflow-y-auto rounded-lg rounded-t-none border border-t-0 px-1 py-1",V),e[37]=V,e[38]=y):y=e[38];let g;e[39]!==w||e[40]!==c||e[41]!==p||e[42]!==s?(g=!Array.isArray(s)&&a.jsx("div",{className:"mb-1 flex",role:"tablist",ref:se,children:Object.keys(s).map((t,n)=>a.jsx("button",{role:"tab",className:X("text-token-text-tertiary px-3 pb-2 text-xs font-bold",c===n?"border-b-2 font-bold":"can-hover:hover:text-token-text-primary cursor-pointer font-semibold"),"aria-selected":c===n,onClick:()=>{p(n),m(0)},children:w?a.jsx(w,{tab:t}):t},t))}),e[39]=w,e[40]=c,e[41]=p,e[42]=s,e[43]=g):g=e[43];let x;if(e[44]!==l||e[45]!==r||e[46]!==o){let t;e[48]!==r||e[49]!==o?(t=(n,ne)=>{const{id:le,className:ie,focusedClassName:ce,onClick:ue,children:fe}=n;return a.jsx("li",{id:r+le,role:"option",className:X(ie,o===ne&&ce),onClick:()=>{ue()},"aria-selected":o===ne,children:fe},le)},e[48]=r,e[49]=o,e[50]=t):t=e[50],x=l.map(t),e[44]=l,e[45]=r,e[46]=o,e[47]=x}else x=e[47];let v;e[51]!==r||e[52]!==x?(v=a.jsx("ul",{id:r,role:"listbox",ref:te,children:x}),e[51]=r,e[52]=x,e[53]=v):v=e[53];const W=l.length===0&&d;let k;e[54]!==y||e[55]!==g||e[56]!==v||e[57]!==W?(k=a.jsx(he,{children:a.jsxs(be,{className:y,onOpenAutoFocus:xe,children:[g,v,W]})}),e[54]=y,e[55]=g,e[56]=v,e[57]=W,e[58]=k):k=e[58];let z;return e[59]!==h||e[60]!==b||e[61]!==k?(z=a.jsxs(ye,{open:h,modal:!1,children:[b,k]}),e[59]=h,e[60]=b,e[61]=k,e[62]=z):z=e[62],z}function xe(f){f.preventDefault()}function ve(f){return f.length>0}export{Ae as C};
//# sourceMappingURL=j7n25qhd1j4b3hrq.js.map

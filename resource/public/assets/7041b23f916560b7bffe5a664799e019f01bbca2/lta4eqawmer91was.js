import{gv as f,m as Be,c as I,W as We,at as re,cV as Ye,eo as $e}from"./n9zp7vm10xoipejo.js";import{R as l,j as o,f as se,r as R,l as me,M as F,d as Ve,g as qe,C as De}from"./lip667d8t42poxum.js";import{fN as Je,nM as fe,dl as ze,lt as Ge}from"./l4oo5ijw01fyrjzs.js";import{u as Ke}from"./g2w1djl0igdytz37.js";import{i as he}from"./j57vk0vc46x58w49.js";function ge(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function ve(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ge(Object(t),!0).forEach(function(n){we(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ge(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function J(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J=function(e){return typeof e}:J=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(r)}function we(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function He(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function _e(r,e){if(r==null)return{};var t=He(r,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ne(r,e){return Xe(r)||Qe(r,e)||Ze(r,e)||et()}function Xe(r){if(Array.isArray(r))return r}function Qe(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],a=!0,s=!1,u,h;try{for(t=t.call(r);!(a=(u=t.next()).done)&&(n.push(u.value),!(e&&n.length===e));a=!0);}catch(c){s=!0,h=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(s)throw h}}return n}}function Ze(r,e){if(r){if(typeof r=="string")return ye(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ye(r,e)}}function ye(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var k=function(e,t,n){var a=!!n,s=l.useRef(n);l.useEffect(function(){s.current=n},[n]),l.useEffect(function(){if(!a||!e)return function(){};var u=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,u),function(){e.off(t,u)}},[a,t,e,s])},z=function(e){var t=l.useRef(e);return l.useEffect(function(){t.current=e},[e]),t.current},T=function(e){return e!==null&&J(e)==="object"},tt=function(e){return T(e)&&typeof e.then=="function"},rt=function(e){return T(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},xe="[object Object]",Pe=function r(e,t){if(!T(e)||!T(t))return e===t;var n=Array.isArray(e),a=Array.isArray(t);if(n!==a)return!1;var s=Object.prototype.toString.call(e)===xe,u=Object.prototype.toString.call(t)===xe;if(s!==u)return!1;if(!s&&!n)return e===t;var h=Object.keys(e),c=Object.keys(t);if(h.length!==c.length)return!1;for(var x={},E=0;E<h.length;E+=1)x[h[E]]=!0;for(var j=0;j<c.length;j+=1)x[c[j]]=!0;var d=Object.keys(x);if(d.length!==h.length)return!1;var w=e,i=t,p=function(y){return r(w[y],i[y])};return d.every(p)},nt=function(e,t,n){return T(e)?Object.keys(e).reduce(function(a,s){var u=!T(t)||!Pe(e[s],t[s]);return n.includes(s)?(u&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),a):u?ve(ve({},a||{}),{},we({},s,e[s])):a},null):null},Me="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",be=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Me;if(e===null||rt(e))return e;throw new Error(t)},ot=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Me;if(tt(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return be(a,t)})};var n=be(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},at=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Ae=l.createContext(null);Ae.displayName="ElementsContext";var st=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};f.any,f.object;f.func.isRequired;var it=["on","session"],H=l.createContext(null);H.displayName="CheckoutSdkContext";var Oe=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},ie=l.createContext(null);ie.displayName="CheckoutContext";var ct=function(e,t){if(!e)return null;e.on,e.session;var n=_e(e,it);return Object.assign(t||e.session(),n)},lt="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ne=function(e){var t=e.stripe,n=e.options,a=e.children,s=l.useMemo(function(){return ot(t,lt)},[t]),u=l.useState(null),h=ne(u,2),c=h[0],x=h[1],E=l.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,checkoutSdk:null}}),j=ne(E,2),d=j[0],w=j[1],i=function(b,P){w(function(A){return A.stripe&&A.checkoutSdk?A:{stripe:b,checkoutSdk:P}})},p=l.useRef(!1);l.useEffect(function(){var _=!0;return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(b){b&&_&&!p.current&&(p.current=!0,b.initCheckout(n).then(function(P){P&&(i(b,P),P.on("change",x))}))}):s.tag==="sync"&&s.stripe&&!p.current&&(p.current=!0,s.stripe.initCheckout(n).then(function(b){b&&(i(s.stripe,b),b.on("change",x))})),function(){_=!1}},[s,d,n,x]);var m=z(t);l.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[m,t]);var y=z(n),M=z(d.checkoutSdk);l.useEffect(function(){var _,b;if(d.checkoutSdk){var P=y==null||(_=y.elementsOptions)===null||_===void 0?void 0:_.appearance,A=n==null||(b=n.elementsOptions)===null||b===void 0?void 0:b.appearance,X=!Pe(A,P),Q=!M&&d.checkoutSdk;A&&(X||Q)&&d.checkoutSdk.changeAppearance(A)}},[n,y,d.checkoutSdk,M]),l.useEffect(function(){at(d.stripe)},[d.stripe]);var Y=l.useMemo(function(){return ct(d.checkoutSdk,c)},[d.checkoutSdk,c]);return d.checkoutSdk?l.createElement(H.Provider,{value:d},l.createElement(ie.Provider,{value:Y},a)):null};Ne.propTypes={stripe:f.any,options:f.shape({fetchClientSecret:f.func.isRequired,elementsOptions:f.object}).isRequired};var ut=function(e){var t=l.useContext(H);return Oe(t,e)},oe=function(e){var t=l.useContext(H),n=l.useContext(Ae);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?Oe(t,e):st(n,e)},ce=function(){ut("calls useCheckout()");var e=l.useContext(ie);if(!e)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return e},dt=["mode"],pt=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},g=function(e,t){var n="".concat(pt(e),"Element"),a=function(c){var x=c.id,E=c.className,j=c.options,d=j===void 0?{}:j,w=c.onBlur,i=c.onFocus,p=c.onReady,m=c.onChange,y=c.onEscape,M=c.onClick,Y=c.onLoadError,_=c.onLoaderStart,b=c.onNetworksChange,P=c.onConfirm,A=c.onCancel,X=c.onShippingAddressChange,Q=c.onShippingRateChange,$=oe("mounts <".concat(n,">")),V="elements"in $?$.elements:null,L="checkoutSdk"in $?$.checkoutSdk:null,Te=l.useState(null),le=ne(Te,2),C=le[0],Ue=le[1],O=l.useRef(null),Z=l.useRef(null);k(C,"blur",w),k(C,"focus",i),k(C,"escape",y),k(C,"click",M),k(C,"loaderror",Y),k(C,"loaderstart",_),k(C,"networkschange",b),k(C,"confirm",P),k(C,"cancel",A),k(C,"shippingaddresschange",X),k(C,"shippingratechange",Q),k(C,"change",m);var ee;p&&(e==="expressCheckout"?ee=p:ee=function(){p(C)}),k(C,"ready",ee),l.useLayoutEffect(function(){if(O.current===null&&Z.current!==null&&(V||L)){var S=null;if(L)switch(e){case"payment":S=L.createPaymentElement(d);break;case"address":if("mode"in d){var de=d.mode,pe=_e(d,dt);if(de==="shipping")S=L.createShippingAddressElement(pe);else if(de==="billing")S=L.createBillingAddressElement(pe);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":S=L.createExpressCheckoutElement(d);break;case"currencySelector":S=L.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else V&&(S=V.create(e,d));O.current=S,Ue(S),S&&S.mount(Z.current)}},[V,L,d]);var ue=z(d);return l.useEffect(function(){if(O.current){var S=nt(d,ue,["paymentRequest"]);S&&"update"in O.current&&O.current.update(S)}},[d,ue]),l.useLayoutEffect(function(){return function(){if(O.current&&typeof O.current.destroy=="function")try{O.current.destroy(),O.current=null}catch{}}},[]),l.createElement("div",{id:x,className:E,ref:Z})},s=function(c){oe("mounts <".concat(n,">"));var x=c.id,E=c.className;return l.createElement("div",{id:x,className:E})},u=t?s:a;return u.propTypes={id:f.string,className:f.string,onChange:f.func,onBlur:f.func,onFocus:f.func,onReady:f.func,onEscape:f.func,onClick:f.func,onLoadError:f.func,onLoaderStart:f.func,onNetworksChange:f.func,onConfirm:f.func,onCancel:f.func,onShippingAddressChange:f.func,onShippingRateChange:f.func,options:f.object},u.displayName=n,u.__elementType=e,u},v=typeof window>"u",mt=l.createContext(null);mt.displayName="EmbeddedCheckoutProviderContext";var ft=function(){var e=oe("calls useStripe()"),t=e.stripe;return t};g("auBankAccount",v);g("card",v);g("cardNumber",v);g("cardExpiry",v);g("cardCvc",v);g("fpxBank",v);g("iban",v);g("idealBank",v);g("p24Bank",v);g("epsBank",v);var ht=g("payment",v);g("expressCheckout",v);g("currencySelector",v);g("paymentRequestButton",v);g("linkAuthentication",v);var gt=g("address",v);g("shippingAddress",v);g("paymentMethodMessaging",v);g("affirmMessage",v);g("afterpayClearpayMessage",v);function vt({className:r}){const e=ce(),t=se(),n=Je(),a=Be(),[s,u]=R.useState(null),h=R.useRef(null),c=R.useRef(null),x=R.useRef(null),E=R.useRef(null),j=R.useRef(null),[d]=R.useState(!!e?.email),w=Ke({defaultValues:{email:e?.email??"",hasAcceptedTermsOfService:!1,hasCompletePaymentElement:!1,hasCompleteBillingAddress:!1},validators:{onChange:({value:i})=>{const p={},{hasAcceptedTermsOfService:m,hasCompleteBillingAddress:y,hasCompletePaymentElement:M}=i;return m||(p.hasAcceptedTermsOfService=t.formatMessage({id:"CheckoutForm.inputLabelTermsOfServiceRequired",defaultMessage:"Agree to OpenAI, LLC's terms to complete your transaction."})),y||(p.hasCompleteBillingAddress=t.formatMessage({id:"CheckoutForm.inputLabelBillingAddressRequired",defaultMessage:"Your billing address is required."})),M||(p.hasCompletePaymentElement=t.formatMessage({id:"UBzTsj",defaultMessage:"Your payment method is required."})),{fields:p}},onBlur:({value:i})=>{const p={},{email:m}=i;return m||(p.email=t.formatMessage({id:"CheckoutForm.inputLabelEmailRequired",defaultMessage:"Your email is required."})),{fields:p}},onBlurAsync:async({value:i})=>{const p={},{email:m}=i;if(e.email!==m){const y=await e.updateEmail(m);if(y.type==="error")switch(y.error.code){case"incompleteEmail":p.email=t.formatMessage({id:"CheckoutForm.inputLabelEmailIncomplete",defaultMessage:"Your email is incomplete."});break;case"invalidEmail":p.email=t.formatMessage({id:"CheckoutForm.inputLabelEmailInvalid",defaultMessage:"Your email is invalid."});break}}return{fields:p}}},canSubmitWhenInvalid:!0,onSubmitInvalid:async({formApi:i})=>{e?.canConfirm||await e.confirm();const m=(i.getFieldMeta("email")?.errors??[]).length>0,M=(i.getFieldMeta("hasAcceptedTermsOfService")?.errors??[]).length>0,_=(i.getFieldMeta("hasCompletePaymentElement")?.errors??[]).length>0,P=(i.getFieldMeta("hasCompleteBillingAddress")?.errors??[]).length>0;m?(h.current?.scrollIntoView({behavior:"smooth",block:"center"}),c.current?.focus({preventScroll:!0})):_?E.current?.scrollIntoView({behavior:"smooth",block:"center"}):P?j.current?.scrollIntoView({behavior:"smooth",block:"center"}):M&&x.current?.scrollIntoView({behavior:"smooth",block:"center"})},onSubmit:async()=>{try{const i=await e.confirm({redirect:"always"});switch(i.type){case"success":a.success(t.formatMessage({id:"CheckoutForm.bannerMessagePaymentSuccess",defaultMessage:"Payment successfully processed"}));break;case"error":re.addError("Failed to process Stripe checkout",{error:i.error}),u(i.error.message??t.formatMessage({id:"CheckoutForm.bannerMessagePaymentFailure",defaultMessage:"Failed to process payment"}));break}}catch(i){a.danger(t.formatMessage(Ye.somethingWentWrong)),re.addError(i)}}});return o.jsx("form",{className:I(r),onSubmit:i=>{i.preventDefault(),w.handleSubmit()},children:o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs(B,{ref:h,children:[n?o.jsx(te,{title:me({id:"CheckoutForm.headingContactInformation",defaultMessage:"Contact information"})}):null,o.jsx(w.Field,{name:"email",children:i=>{const m=i.getMeta().errors.length>0&&(i.getMeta().isBlurred||i.getMeta().isPristine);return o.jsxs("div",{children:[o.jsxs("label",{htmlFor:i.name,className:"flex flex-col",children:[o.jsx("span",{className:"color-[rgb(48, 49, 61)] mb-[0.25rem] text-[0.93rem]",children:o.jsx(F,{id:"CheckoutForm.inputLabelEmail",defaultMessage:"Email"})}),o.jsx("input",{ref:c,id:i.name,disabled:d,name:i.name,onBlur:i.handleBlur,onChange:y=>{i.setMeta(M=>({...M,isBlurred:!1})),i.handleChange(y.target.value)},type:"email",value:i.state.value,className:I("color-[rgb(48, 49, 61)] animate-stripeInputShow rounded-[5px] p-3 outline-none focus:border-white",{"bg-[rgb(247,247,247)]":d,"border-[#df1b41] shadow-none focus:border-[#0570de] focus:shadow-[0px_1px_1px_rgba(0,0,0,0.03),0px_3px_6px_rgba(0,0,0,0.02),0_0_0_3px_hsla(210,96%,45%,0.25),0_1px_1px_0_rgba(0,0,0,0.08)]":m,"border-[#e6e6e6] shadow-[0px_1px_1px_rgba(0,0,0,0.03),_0px_3px_6px_rgba(0,0,0,0.02)] focus:border-[#0570de] focus:shadow-[0px_1px_1px_rgba(0,0,0,0.03),0px_3px_6px_rgba(0,0,0,0.02),0_0_0_3px_hsla(210,96%,45%,0.25),0_1px_1px_0_rgba(0,0,0,0.08)]":!m}),style:{transition:"background 0.15s ease, border 0.15s ease, box-shadow 0.15s ease, color 0.15s ease",backgroundColor:d?"rgb(247,247,247)":""}})]}),o.jsx(Se,{errors:i.state.meta.errors.filter(y=>!fe(y)),shouldShowErrors:m})]})}})]}),o.jsxs(B,{ref:E,children:[o.jsx(te,{title:me({id:"CheckoutForm.headingPaymentMethod",defaultMessage:"Payment method"})}),o.jsx(w.Field,{name:"hasCompletePaymentElement",children:i=>o.jsx(ht,{options:{layout:"tabs"},onChange:({complete:p})=>i.handleChange(p)})})]}),o.jsxs(B,{ref:j,children:[o.jsx(te,{title:{id:"CheckoutForm.headingBillingAddress",defaultMessage:"Billing address",description:"Heading for the section of the checkout where we collect contact information"}}),o.jsx(w.Field,{name:"hasCompleteBillingAddress",children:i=>o.jsx(gt,{options:{mode:"billing"},onChange:({complete:p})=>i.handleChange(p)})})]}),o.jsx(B,{ref:x,children:o.jsx(w.Field,{name:"hasAcceptedTermsOfService",children:i=>{const p=i.state.meta.isTouched&&i.state.meta.errors.length>0;return o.jsxs("div",{children:[o.jsx(ze,{id:"subscription-tos",className:"self-start",style:{borderColor:p?"#df1b41":void 0},checked:i.state.value,onChange:m=>i.handleChange(m.currentTarget.checked),label:o.jsx(yt,{})}),o.jsx(Se,{errors:i.state.meta.errors.filter(m=>!fe(m)),shouldShowErrors:p})]})}})}),s&&o.jsx("div",{className:"rounded border border-red-200 bg-red-50 px-3 py-2 text-[13px] text-red-700",children:s}),o.jsx(w.Subscribe,{children:i=>o.jsx("button",{disabled:i.isSubmitting,type:"submit",className:I("flex h-[44px] items-center justify-center rounded-md border-none bg-[rgb(16,163,117)] p-0 font-medium shadow-[inset_0_0_0_1px_rgba(50,50,93,0.1),0_2px_5px_0_rgba(50,50,93,0.1),0_1px_1px_0_rgba(0,0,0,0.07)] outline-none",{"text-[rgba(255,255,255,1)]":i.isValid,"text-[rgba(255,255,255,0.6)]":!i.isValid}),children:i.isSubmitting?o.jsx(We,{}):o.jsx(F,{id:"CheckoutForm.buttonSubscribe",defaultMessage:"Subscribe"})})})]})})}const B=l.forwardRef(({children:r},e)=>o.jsx("div",{ref:e,className:"flex flex-col gap-4",children:r}));B.displayName="CheckoutFormSection";function te({className:r,title:e}){return o.jsx("div",{className:I("font-medium",r),children:o.jsx(F,{...e})})}function Se({errors:r,shouldShowErrors:e}){return o.jsx("div",{className:"mt-1 text-[0.93rem] text-[#df1b41]",style:{transition:"height 0.35s ease 0s"},children:e&&r.map(t=>o.jsx("p",{children:t},t))})}function yt(){return o.jsx("div",{className:"Text-color--gray600 text-[13px]",children:o.jsx(F,{id:"CheckoutForm.termsLabel",defaultMessage:"You'll be charged the amount and at the frequency listed above until you cancel. We may change our prices as described in our <termsOfUseLink>Terms of Use</termsOfUseLink>. You can <cancelAnytimeLink>cancel any time</cancelAnytimeLink>. By subscribing, you agree to OpenAI's <termsOfUseLink>Terms of Use</termsOfUseLink> and <privacyPolicyLink>Privacy Policy</privacyPolicyLink>, and you authorize us to store your payment method for renewals and other purchases.",values:{termsOfUseLink:r=>o.jsx("a",{className:"Terms-link",href:"https://openai.com/terms/",rel:"noopener noreferrer",target:"_blank",children:r}),cancelAnytimeLink:r=>o.jsx("a",{className:"Terms-link",href:"https://help.openai.com/en/articles/7232927-how-do-i-cancel-my-chatgpt-plus-subscription",rel:"noopener noreferrer",target:"_blank",children:r}),privacyPolicyLink:r=>o.jsx("a",{className:"Terms-link",href:"https://openai.com/privacy/",rel:"noopener noreferrer",target:"_blank",children:r})}})})}const xt="{{.assetPrefix}}/assets/logo-c8firrye.webp",bt={src:xt};function St({className:r}){const e=Ve();return o.jsxs("button",{type:"button",onClick:()=>e("/"),className:I("group relative flex w-[100px] items-center focus:outline-none",r),children:[o.jsx("div",{className:"flex items-center text-[hsla(0,0%,10%,0.4)] group-hover:text-[hsla(0,0%,10%,0.8)] lg:absolute lg:-start-5 lg:top-1",children:o.jsx(Ge,{className:"icon-sm me-2 transition-colors duration-100 ease-in-out"})}),o.jsx("img",{src:bt.src,alt:"",className:"w-full"})]})}function Le({amountMinorUnits:r,currency:e}){const t=r/100;return new Intl.NumberFormat(void 0,{style:"currency",currency:e}).format(t)}function Ct({className:r}){return o.jsxs("div",{className:r,children:[o.jsx(St,{className:"mb-5 lg:mb-8"}),o.jsx(kt,{className:"mb-7"}),o.jsx(Et,{})]})}function kt({className:r}){const e=ce(),t=e.lineItems[0].name,n=Le({amountMinorUnits:e.total.total.minorUnitsAmount,currency:e.currency}),a=e.recurring?.interval==="month"?N.periodPricePerMonth:N.periodPricePerYear;return o.jsxs("div",{className:I("text-center lg:text-start",r),children:[o.jsx("div",{className:"Text-color--gray500 font-medium",children:o.jsx(F,{...N.checkoutHeadingForSubscription,values:{lineItem:t}})}),o.jsxs("div",{className:"font-semibold",children:[o.jsx("span",{className:"me-2 text-[28px] lg:text-[36px]",children:n}),o.jsx("span",{className:"Text-color--gray500 text-[14px]",children:o.jsx(F,{...a})})]})]})}function Et(){const r=ce(),e=se(),t=r.currency,n=r.total.subtotal.minorUnitsAmount-r.total.taxInclusive.minorUnitsAmount,a=r.lineItems.map(s=>{const u=wt(s);return o.jsx(W,{amountMinorUnits:s.subtotal.minorUnitsAmount,currency:t,subtitle:u?e.formatMessage(u):"",title:s.name},s.id)});return o.jsxs("div",{className:"flex flex-col gap-[16px]",children:[a,o.jsx(Ce,{}),o.jsx(W,{amountClassName:"font-semibold",amountMinorUnits:r.total.subtotal.minorUnitsAmount,currency:t,title:e.formatMessage(N.subtotal)}),o.jsx(jt,{currency:t,taxAmounts:r.taxAmounts??[],taxExclusiveAmount:n}),o.jsx(Ce,{}),o.jsx(W,{amountClassName:"text-base font-semibold",amountMinorUnits:r.total.total.minorUnitsAmount,currency:t,title:e.formatMessage(N.totalDueToday)})]})}function jt({taxAmounts:r,currency:e,taxExclusiveAmount:t}){const n=se();return he(r)?o.jsx(W,{amountMinorUnits:0,currency:e,title:n.formatMessage(N.tax)}):r.map(a=>{const s=he(a.displayName)?n.formatMessage(N.tax):a.displayName,c=(a.minorUnitsAmount/t*100).toFixed(1).replace(/\.?0+$/,""),x=`${s} (${c}%)`;return o.jsx(W,{amountMinorUnits:a.minorUnitsAmount,currency:e,title:x},x)})}function W({amountClassName:r,amountMinorUnits:e,currency:t,subtitle:n,title:a}){return o.jsxs("div",{className:"flex justify-between text-[14px]",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:a}),n?o.jsx("span",{className:"Text-color--gray400 text-[12px]",children:n}):null]}),o.jsx("span",{className:r,children:Le({amountMinorUnits:e,currency:t})})]})}function Ce(){return o.jsx("div",{className:"Border-top-gray50"})}function wt(r){if(r.recurring)switch(r.recurring.interval){case"month":return N.billingPeriodMonthly;case"year":return N.billingPeriodYearly;default:return re.addError("unexpected_interval_for_line_item",{interval:r.recurring.interval}),null}return null}const N=qe({checkoutHeadingForSubscription:{id:"InvoiceSummary.checkoutHeadingForSubscription",defaultMessage:"Subscribe to {lineItem}"},periodPricePerMonth:{id:"InvoiceSummary.periodPricePerMonth",defaultMessage:"per month"},periodPricePerYear:{id:"InvoiceSummary.periodPricePerYear",defaultMessage:"per year"},billingPeriodMonthly:{id:"InvoiceSummary.billingPeriodMonthly",defaultMessage:"Billed monthly"},billingPeriodYearly:{id:"InvoiceSummary.billingPeriodYearly",defaultMessage:"Billed yearly"},subtotal:{id:"InvoiceSummary.subtotal",defaultMessage:"Subtotal"},totalDueToday:{id:"InvoiceSummary.totalDueToday",defaultMessage:"Total due today"},tax:{id:"InvoiceSummary.tax",defaultMessage:"Tax"}}),_t=()=>ft()?o.jsxs("div",{className:"checkout-page flex h-full flex-col items-center gap-12 overflow-y-auto bg-white px-4 lg:flex-row lg:items-start lg:justify-center lg:gap-0 lg:px-0",children:[o.jsx("div",{className:"flex w-full justify-center pt-4 lg:min-h-full lg:flex-1 lg:justify-end lg:pe-20 lg:pt-12 lg:pb-12",children:o.jsx(Ct,{className:"w-full max-w-[380px]"})}),o.jsx("div",{className:"pb-12 lg:min-h-full lg:flex-1 lg:ps-20 lg:pt-12 lg:shadow-[15px_0_30px_0_rgba(0,0,0,0.18)]",children:o.jsx(vt,{className:"w-full max-w-[380px]"})})]}):null;function G(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?G=function(e){return typeof e}:G=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(r)}var Re="basil",Pt=function(e){return e===3?"v3":e},Ie="https://js.stripe.com",Mt="".concat(Ie,"/").concat(Re,"/stripe.js"),At=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ot=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,ke="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Nt=function(e){return At.test(e)||Ot.test(e)},Lt=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ie,'"]')),t=0;t<e.length;t++){var n=e[t];if(Nt(n.src))return n}return null},Ee=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(Mt).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},Rt=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:t})},U=null,q=null,D=null,It=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},Ft=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},Tt=function(e){return U!==null?U:(U=new Promise(function(t,n){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(ke),window.Stripe){t(window.Stripe);return}try{var a=Lt();if(a&&e)console.warn(ke);else if(!a)a=Ee(e);else if(a&&D!==null&&q!==null){var s;a.removeEventListener("load",D),a.removeEventListener("error",q),(s=a.parentNode)===null||s===void 0||s.removeChild(a),a=Ee(e)}D=Ft(t,n),q=It(n),a.addEventListener("load",D),a.addEventListener("error",q)}catch(u){n(u);return}}),U.catch(function(t){return U=null,Promise.reject(t)}))},Ut=function(e,t,n){if(e===null)return null;var a=t[0],s=a.match(/^pk_test/),u=Pt(e.version),h=Re;s&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,t);return Rt(c,n),c},je=function(e){var t=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(e),`
`);if(e===null||G(e)!=="object")throw new Error(t);if(Object.keys(e).length===1&&typeof e.advancedFraudSignals=="boolean")return e;throw new Error(t)},K,ae=!1,Fe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ae=!0;var a=Date.now();return Tt(K).then(function(s){return Ut(s,t,a)})};Fe.setLoadParameters=function(r){if(ae&&K){var e=je(r),t=Object.keys(e),n=t.reduce(function(a,s){var u;return a&&r[s]===((u=K)===null||u===void 0?void 0:u[s])},!0);if(n)return}if(ae)throw new Error("You cannot change load parameters after calling loadStripe");K=je(r)};const qt=$e(function(){const e=De(),t=e.publishable_key,n=R.useMemo(()=>Fe(t,{betas:["custom_checkout_beta_6"],locale:"auto"}),[t]);switch(e.tag){case"hosted_checkout_session":return window.location.href=e.url,null;case"custom_checkout_session":{const a=e.client_secret;return o.jsx(Ne,{stripe:n,options:{fetchClientSecret:()=>Promise.resolve(a),elementsOptions:{appearance:{rules:{".Input--invalid":{boxShadow:"none"}}}}},children:o.jsx(_t,{})})}}});export{qt as default};
//# sourceMappingURL=lta4eqawmer91was.js.map

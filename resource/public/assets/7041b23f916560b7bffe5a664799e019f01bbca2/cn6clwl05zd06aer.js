import{F as h,ao as l,W as b,B as g,eo as M}from"./n9zp7vm10xoipejo.js";import{d as f,r as m,f as v,j as e,M as c,g as y}from"./lip667d8t42poxum.js";import{a as G}from"./cbaql59zac1mfnmh.js";import{ho as P,r as C,ht as T,hv as w}from"./l4oo5ijw01fyrjzs.js";import{C as N,a as z,b as E}from"./ku1zypzyg69oalx4.js";import{G as L}from"./2pamu78g1seqcd1x.js";import{E as S}from"./n4y4yo9zuw99bnsn.js";import"./op1xowyjquc2dnq7.js";import"./nmzcjggnos81a3wt.js";import"./ezoyp421dng92ve4.js";import"./krf7zg7fy4qqowqq.js";import"./j385t288u9l3nf6j.js";import"./oour34cwuwf9tyoh.js";import"./wucpx17vpkipp1k3.js";import"./nexm4ijmv6vpe660.js";import"./o0md5hhsc34wyah3.js";import"./mcbptdo34ig6awmf.js";import"./es0z9v8doc0hgjd4.js";import"./btgi4ch9w5xby7vu.js";import"./ef49rx2y546x1g51.js";import"./czpmep8a1gn2yxp9.js";import"./g1x7jf9g2b4osi6b.js";import"./kdkl0k5zipatley9.js";const _=20,p=h.div`border-b-2 border-b-black pb-3 dark:border-b-white`,x=h.div`cursor-pointer border-b-2 border-b-transparent pb-3 text-token-text-secondary`;function k(){const o=l(),r=f(),t=o?.isWorkspaceAccount(),[s,a]=m.useState("mine");G({resetThreadAction:()=>{r("/")}});const n=v();if(o==null)return null;const d=e.jsx(c,{id:"1pqG1A",defaultMessage:"Created by me"}),i=e.jsx(c,{id:"2oQjZs",defaultMessage:"Shared with me"});return e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-12 pt-0",children:[e.jsx("h1",{className:"mb-8 text-xl font-semibold md:text-2xl",children:e.jsx(c,{id:"dgQTc/",defaultMessage:"My GPTs"})}),t&&(s==="mine"?e.jsxs("div",{className:"mb-4 flex flex-row space-x-4",children:[e.jsx(p,{children:d}),e.jsx(x,{onClick:()=>a("shared_with_me"),children:i})]}):e.jsxs("div",{className:"mb-4 flex flex-row space-x-4",children:[e.jsx(x,{onClick:()=>a("mine"),children:d}),e.jsx(p,{children:i})]})),s==="mine"&&e.jsx(N,{type:z.Enabled}),e.jsx(A,{emptyMessage:s==="shared_with_me"?n.formatMessage({id:"zG4NW2",defaultMessage:"No GPTs have been shared with you yet"}):void 0,cutId:s},s)]})})}function A({cutId:o,emptyMessage:r}){const[t,s]=m.useState(!0),{data:a,hasNextPage:n,fetchNextPage:d,isLoading:i}=P({cutId:o,limit:_,enabled:t});return i&&a==null?e.jsx("div",{className:"my-8 flex justify-center",children:e.jsx(b,{})}):!i&&a?.pages?.[0].list.items.length===0&&!n?e.jsx("span",{children:r}):e.jsxs("div",{children:[e.jsx("div",{children:a?.pages.flatMap(j=>j.list.items.map(({resource:u})=>e.jsx(E,{gizmoResource:u},u.gizmo.id)))}),!t||n||i?e.jsx(g,{color:"secondary",onClick:()=>{t?d():s(!0)},loading:i,fullWidth:!0,children:e.jsx(c,{...B.discoveryLoadMore})}):null]})}const B=y({discoveryLoadMore:{id:"gizmo.mygpts.loadMore",defaultMessage:"Load more"}});function I({children:o}){return l()==null?null:e.jsx("div",{children:o})}const ne=()=>(C(),null),de=M(function(){const r=l(),t=!!r?.hasPlusFeatures(),s=f();if(m.useEffect(()=>{r!=null&&!t&&s("/gpts")},[r,t,s]),!t)return null;const a=e.jsx(I,{children:e.jsx(k,{})});return e.jsx(L,{header:e.jsxs(T,{children:[e.jsx(S,{}),e.jsx("div",{className:"ms-auto",children:e.jsx(w,{})})]}),children:a})});export{ne as clientLoader,de as default};
//# sourceMappingURL=cn6clwl05zd06aer.js.map

import{r as a,j as e,M as r,d as C,h as g,f as E,L as j,a9 as H}from"./lip667d8t42poxum.js";import{q as A,_ as P,as as W,dh as _,ao as O,aj as f,aO as I,c as m,dm as G,dw as T,dn as D,dp as R,dr as B,aG as U,c2 as Z,F,cb as z}from"./n9zp7vm10xoipejo.js";import{ad as V,L as q,f_ as Q,i4 as k,j9 as b,eJ as X,nN as J,ew as x,nO as Y,U as $,H as K,nP as ee,ls as te,al as w,db as y,g1 as se}from"./l4oo5ijw01fyrjzs.js";import{a as ne,b as ae}from"./n7emuv1efbtdnxb9.js";import{f as oe}from"./n4y4yo9zuw99bnsn.js";import{N as re}from"./fw89hpm6ehbsygz7.js";import{c as ie}from"./ojvadmnty96xvqkr.js";function le(){const[t,o]=a.useState(!1),{isConnected:s,isLoading:n,error:i,connect:l,refetch:c}=ne(A.GITHUB_CONNECTOR,"github","/codex/settings/environments"),{enabled:d}=ae();return!d||(n||s)&&!t?null:e.jsxs("div",{className:"draggable no-draggable-children bg-token-bg-secondary sticky top-0 z-20 flex h-12 w-full flex-row items-center justify-center gap-2",children:[e.jsx(V,{className:"icon-md"}),e.jsx("span",{className:"text-token-text-primary flex text-sm font-normal",children:e.jsx(r,{id:"wham.connectGitHubAlert.message",defaultMessage:"Your GitHub account is not connected. <connect>Connect now</connect>.",values:{connect:u=>n?e.jsx("span",{className:"flex items-center ps-2",children:e.jsx(q,{className:"h-4 w-12"})}):i?e.jsx("button",{className:"ps-1 font-semibold underline hover:cursor-pointer",onClick:()=>{o(!0),c()},children:e.jsx(r,{id:"wham.connectGitHubAlert.retry",defaultMessage:"Failed to load GitHub connection. Click retry."})}):e.jsx("button",{className:"ps-1 font-semibold underline hover:cursor-pointer",onClick:l,children:u})}})})]})}const ce=Q({animationLoader:()=>P(()=>import("./df6k0hmoqpu9dz9s.js"),[]),StaticIcon:k}),de=t=>a.createElement("svg",{width:45,height:12,viewBox:"0 0 45 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},a.createElement("path",{d:"M36.4507 11.182L39.1312 7.45007L36.5247 3.77734H38.7906L40.3307 6.05799L41.8709 3.77734H43.9887L41.4414 7.39084L44.1071 11.182H41.8413L40.2419 8.82735L38.5832 11.182H36.4507Z",fill:"currentColor"}),a.createElement("path",{d:"M32.6294 11.3298C30.2599 11.3298 28.8086 9.65633 28.8086 7.47935C28.8086 5.27275 30.4672 3.62891 32.5702 3.62891C34.8804 3.62891 36.2873 5.31718 36.2873 7.33125V8.08653H30.6894C30.8671 9.07876 31.6224 9.7748 32.6146 9.7748C33.4143 9.7748 34.0807 9.38976 34.3177 8.84181H36.1985C35.8134 10.1598 34.5694 11.3298 32.6294 11.3298ZM30.7042 6.72407H34.451C34.3473 5.8207 33.6068 5.18389 32.6146 5.18389C31.6816 5.18389 30.9115 5.80589 30.7042 6.72407Z",fill:"currentColor"}),a.createElement("path",{d:"M27.6532 0.816406V11.183H25.728V10.2944C25.2393 10.9312 24.3063 11.3311 23.3437 11.3311C21.2704 11.3311 19.6414 9.70204 19.6414 7.48063C19.6414 5.25922 21.2704 3.63019 23.3437 3.63019C24.3359 3.63019 25.2393 3.94119 25.728 4.56318V0.816406H27.6532ZM23.6695 5.30365C22.5736 5.30365 21.5962 6.1626 21.5962 7.48063C21.5962 8.79867 22.5736 9.65761 23.6695 9.65761C24.7654 9.65761 25.7428 8.79867 25.7428 7.48063C25.7428 6.1626 24.7654 5.30365 23.6695 5.30365Z",fill:"currentColor"}),a.createElement("path",{d:"M14.9014 11.3298C12.6948 11.3298 10.9917 9.58228 10.9917 7.47935C10.9917 5.37642 12.6948 3.62891 14.9014 3.62891C17.108 3.62891 18.8111 5.37642 18.8111 7.47935C18.8111 9.58228 17.108 11.3298 14.9014 11.3298ZM14.9014 9.6119C15.9232 9.6119 16.9006 8.78258 16.9006 7.47935C16.9006 6.17612 15.9232 5.3468 14.9014 5.3468C13.8795 5.3468 12.9021 6.17612 12.9021 7.47935C12.9021 8.78258 13.8795 9.6119 14.9014 9.6119Z",fill:"currentColor"}),a.createElement("path",{d:"M5.34612 11.3307C2.26577 11.3307 0.118408 8.94642 0.118408 5.99935C0.118408 3.05228 2.32501 0.667969 5.33131 0.667969C7.8341 0.667969 9.83337 2.22296 10.2036 4.35551H8.08586C7.77486 3.37809 6.7234 2.57838 5.36093 2.57838C3.49495 2.57838 2.17691 4.01489 2.17691 5.99935C2.17691 7.98381 3.49495 9.42032 5.39055 9.42032C6.75302 9.42032 7.78967 8.63542 8.1451 7.64319H10.248C9.84818 9.80537 7.89334 11.3307 5.34612 11.3307Z",fill:"currentColor"}));function ue(){const{isUnauthenticated:t}=W();return b.markStart("WhamLoginOrProfileMenu"),b.markRendered("WhamLoginOrProfileMenu"),t?e.jsx(oe,{}):e.jsx(me,{})}function me(){const{data:t}=_(),o=O(),s=C(),n=g(),i=E(),l=()=>{s("/codex/settings/general")};if(!o)return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center",children:e.jsx("div",{className:"bg-token-bg-tertiary h-8 w-8 rounded-full"})});const c=t&&t.accountItems.length>1,d=n.pathname.startsWith("/codex/onboarding");return e.jsxs(X,{triggerButton:e.jsx("button",{onClick:()=>{f.logEvent("Account: Open Profile Menu"),I.logEvent("chatgpt_account_open_profile_menu")},"aria-label":i.formatMessage({id:"wham.whamProfile.openProfileMenu",defaultMessage:"Open Profile Menu"}),"data-testid":"profile-button",className:"text-token-text-secondary hover:text-token-text-primary hover:bg-token-surface-hover radix-state-open:text-token-text-secondary flex h-10 w-10 items-center justify-center rounded-full px-1 transition focus-visible:outline-0",children:e.jsx(ee,{iconSize:"medium",showPlanTypeBadge:!0})}),children:[c&&e.jsxs(e.Fragment,{children:[e.jsx(J,{accountSwitcherRedirectUrl:"/codex?refresh_account=true"}),e.jsx(x.Separator,{})]}),!d&&e.jsx(x.Item,{onClick:l,icon:k,"data-testid":"accounts-settings-button",children:e.jsx(r,{id:"wham.whamProfile.codexSettings",defaultMessage:"Codex settings"})}),!1,e.jsx(x.Separator,{}),e.jsx(x.Item,{onClick:()=>{f.logEvent("Account: Click Log Out",{eventSource:"mouse"}),f.logLogOutButtonClicked({location:"profile_drop_down"}),$.openModal(K.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:Y,children:e.jsx(r,{defaultMessage:"Log out",id:"navigation.logOut.0"})})]})}const xe=t=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",...t},a.createElement("path",{d:"M9 7L14 12L9 17",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M20 5V19",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M13 12H4",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));function h({text:t,path:o,isActive:s}){const n=C();return e.jsx("div",{className:m("hover:bg-token-bg-tertiary flex items-center gap-3 rounded-md p-2 hover:cursor-pointer",s&&"bg-token-bg-tertiary font-semibold"),onClick:()=>{n(o)},children:t})}function N(){const t=g();return e.jsxs("div",{className:"flex w-64 flex-col gap-3 px-4",children:[e.jsx("p",{className:"text-text-primary py-2 ps-2 text-xl leading-7 font-medium",children:e.jsx(r,{id:"wham.settingsSidebar.settings",defaultMessage:"Settings"})}),e.jsxs("div",{className:"flex flex-col gap-2 pe-3 text-sm",children:[e.jsx(h,{text:e.jsx(r,{id:"wham.settingsSidebar.general",defaultMessage:"General"}),path:"/codex/settings/general",isActive:t.pathname.startsWith("/codex/settings/general")}),e.jsx(h,{text:e.jsx(r,{id:"wham.settingsSidebar.environments",defaultMessage:"Environments"}),path:"/codex/settings/environments",isActive:t.pathname.startsWith("/codex/settings/environments")}),e.jsx(h,{text:e.jsx(r,{id:"wham.settingsSidebar.dataControls",defaultMessage:"Data controls"}),path:"/codex/settings/data",isActive:t.pathname.startsWith("/codex/settings/data")})]})]})}function fe(t){const[o,s]=a.useState(!1),i=g().pathname.includes("/codex/onboarding");return e.jsxs(G,{open:o,onOpenChange:s,children:[e.jsx(T,{asChild:!0,children:e.jsxs("button",{type:"button",className:"hover:bg-token-bg-tertiary text-token-text-secondary flex h-8 w-8 items-center justify-center rounded-md",children:[e.jsx("span",{className:"sr-only",children:e.jsx(r,{id:"wham.mobileSettingsSidebar.open",defaultMessage:"Open menu"})}),e.jsx(te,{className:"icon-md"})]})}),e.jsxs(D,{children:[e.jsx(R,{className:"fixed inset-0 z-40 bg-black/50"}),e.jsxs(B,{className:"bg-token-bg-primary fixed inset-y-0 start-0 z-50 flex w-64 flex-col shadow-lg",children:[e.jsx("div",{className:"flex justify-end p-2",children:e.jsxs("button",{type:"button",onClick:()=>s(!1),className:"hover:bg-token-bg-tertiary text-token-text-secondary flex h-8 w-8 items-center justify-center rounded-md",children:[e.jsx("span",{className:"sr-only",children:e.jsx(r,{id:"wham.mobileSettingsSidebar.close",defaultMessage:"Close menu"})}),e.jsx(xe,{className:"icon-md"})]})}),!i&&e.jsx(N,{}),e.jsx("div",{className:"px-4 py-2",children:e.jsx(w,{href:"https://platform.openai.com/docs/codex",target:"_blank",className:"hover:bg-token-bg-tertiary text-token-text-secondary flex items-center gap-3 rounded-md p-2 text-sm",children:e.jsx(r,{id:"wham.mobileSettingsSidebar.docs",defaultMessage:"Docs"})})})]})]})]})}const v=U(0);function he({hideNotificationBell:t=!1,className:o}){const s=!!y(),n=Z(()=>v());return a.useEffect(()=>()=>{v.set(0)},[]),e.jsxs("div",{className:m(s?"grid w-full grid-cols-[1fr_auto_1fr] items-center gap-2":"sticky top-0 flex w-full justify-end py-3 ps-3 pe-1",o),children:[s&&e.jsx(fe,{}),e.jsx("div",{className:m(s?"flex items-center gap-3 self-center":"absolute start-0 top-3 flex items-center gap-3 self-center"),children:e.jsxs(j,{to:"/codex",className:m("text-token-text-primary flex items-center gap-2 hover:cursor-pointer",!s&&"ms-[5px] mt-[5px]"),children:[e.jsx(ce,{className:"h-[27px] w-[27px]",loop:!1,matchTextColor:!0,animate:n>0},n),e.jsx(de,{className:"w-11.5"})]})}),e.jsxs("div",{className:m("flex items-center gap-2",s&&"justify-end"),children:[!s&&e.jsxs("div",{className:"me-1 flex items-center gap-5 leading-none",children:[e.jsx(j,{to:"/codex/settings/environments",className:"text-token-text-secondary text-sm font-normal hover:underline",children:e.jsx(r,{id:"gUayTH",defaultMessage:"Environments"})}),e.jsx(w,{href:"https://platform.openai.com/docs/codex",target:"_blank",className:"text-token-text-secondary text-sm font-normal hover:underline",children:e.jsx(r,{id:"/nU8Xu",defaultMessage:"Docs"})})]}),!t&&!s&&e.jsx(re,{}),e.jsx(ue,{})]})]})}function ge(t){const[o,s]=a.useState(!1);return a.useEffect(()=>{let n=t.current;const i=()=>{n&&s(n.scrollTop>0)};let l,c=0;const d=10;function u(){if(n=t.current,!n){if(c++>=d)return;l=requestAnimationFrame(u);return}n.addEventListener("scroll",i),s(n.scrollTop>0)}return u(),()=>{l!==void 0&&cancelAnimationFrame(l),n&&n.removeEventListener("scroll",i)}},[t]),o}const pe=F.div`draggable no-draggable-children sticky top-0 p-3 flex items-center justify-between z-20 h-header-height font-semibold bg-token-bg-primary`;function Se({children:t,flex:o=!1,showSidebar:s=!0,canShowAlert:n=!0,hideExtraHeaderInfo:i=!1,hideBorder:l=!1,horizontalPadding:c=!1,maxWidth:d="max-w-screen-2xl",topPadding:u=!1}){const p=a.useRef(null),S=ge(p);ie(L=>L.showReactQueryDevtools);const M=y();return se()==="DISABLED"?e.jsx(H,{to:"/",replace:!0}):e.jsxs("main",{className:"relative flex h-screen w-full flex-col overflow-clip",id:"main",children:[e.jsx(pe,{className:S&&!l?"border-b-token-bg-secondary border-b":"",children:e.jsx(he,{hideNotificationBell:i,className:"flex-1"})}),!1,e.jsxs(z,{children:[n&&e.jsx(le,{}),e.jsxs("div",{className:"h-[calc(100vh-theme(spacing.header-height)-80px)] flex flex-1",children:[s&&!M&&e.jsx("div",{className:"h-full w-64 flex-shrink-0 overflow-y-auto pt-8",children:e.jsx(N,{})}),e.jsx("div",{ref:p,className:"w-full overflow-y-auto",children:e.jsx("div",{className:m("mx-auto h-full flex-1",d,o&&"flex flex-col",c&&"px-8",u&&"pt-8"),children:t})})]})]})]})}export{Se as W,pe as a,he as b,v as h,ge as u};
//# sourceMappingURL=bja6mzdohoajlk46.js.map

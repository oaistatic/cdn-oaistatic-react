import{f as r,j as a}from"./lip667d8t42poxum.js";import{m as b,aj as i,aO as c,B as v,c as w}from"./n9zp7vm10xoipejo.js";import{d2 as W,d3 as _,d4 as k,an as M,d5 as x}from"./l4oo5ijw01fyrjzs.js";import{u as E}from"./g4ge1x9hirzpsg9n.js";import{u as C}from"./e3omjpgy3dhykdjf.js";import"./evgaiwpapseg0b65.js";const j=e=>{const{requestMicrophonePermissions:t}=E(),o=r().formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),s=b();return async()=>{if(i.logEvent("Whisper on Web/Windows: Clicked to start dictation"),c.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await t())return s.danger(o);e()}},O=({size:e="medium",disabled:t,onExit:n,buttonClassName:o,invertColor:s,disableTooltip:l=!1,visualTreatment:p,...u})=>{const d=r(),g=C(f=>f.status),m=j(n);g==="error"&&(i.logEvent("Whisper on Web/Windows: Error"),c.logEvent("chatgpt_composer_whisper_button_error"));const h=a.jsx(x,{"aria-label":"",className:s?"h-5 w-5":"h-[18px] w-[18px]",fontSize:"inherit"});return a.jsx(y,{disabled:l,children:p==="composer-btn"?a.jsx("button",{...u,"aria-label":d.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),type:"button",onClick:m,disabled:t,className:"composer-btn",children:h}):a.jsx(v,{...u,"aria-label":d.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:e,type:"button",onClick:m,disabled:t,className:w(s?W:_,"[view-transition-name:var(--vt-composer-whisper-button)]",t?"opacity-30":!s&&k,"dark:hover:bg-transparent dark:hover:opacity-100",o),children:h})})};function y({children:e,disabled:t=!1}){const n=r();return a.jsx(M,{open:t?!1:void 0,label:n.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"bottom",onOpenChange:o=>{o&&(i.logEvent("Whisper on Web/Windows: Button hover to see tooltip"),c.logEvent("chatgpt_composer_whisper_button_hovered"))},children:e})}export{O as WhisperIconButton,j as useWhisperHandleClick};
//# sourceMappingURL=cde8mj9a0btxt9hj.js.map

import{eo as c,eH as p,cv as m,aa as l}from"./n9zp7vm10xoipejo.js";import{B as u,C as f}from"./lip667d8t42poxum.js";import{h as _,i as h,p as g}from"./l4oo5ijw01fyrjzs.js";import"./hdusgp6ndfp1vzue.js";import"./bir4gwnbq17hkvt3.js";import"./flqsbet8wo14mte0.js";import"./g1wxldf6nb3zk37x.js";import"./ezoyp421dng92ve4.js";import"./krf7zg7fy4qqowqq.js";import"./j385t288u9l3nf6j.js";import"./oour34cwuwf9tyoh.js";import"./ju8q15l0hqy6ti9z.js";import"./ef49rx2y546x1g51.js";import"./czpmep8a1gn2yxp9.js";import"./nmzcjggnos81a3wt.js";import"./kdkl0k5zipatley9.js";import"./op1xowyjquc2dnq7.js";const j=()=>[{title:"ChatGPT"}],k=()=>!1;function R(e){const o={},s="client-created-root";o[s]={id:s,message:{id:s,author:{role:l.Root},content:{content_type:m.Text,parts:[]}},parent:"",children:[]};let a=s;const r=[],n=new Set;for(const t of e.messages)n.add(t.id);for(const t of e.messages){let i=t.metadata?.parent_id??a;n.has(i)||(i=a),o[t.id]={id:t.id,message:t,parent:i,children:[]},a=t.id,r.push(...t.metadata?.safe_urls??[])}for(const[t,i]of Object.entries(o))i.parent!==""&&o[i.parent]?.children?.push(t);const d=e.conversation_id??e.id;return{title:e.title??null,conversation_id:d,mapping:o,current_node:a,moderation_results:[],safe_urls:e.safe_urls??r,...g(e,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember")}}const z=c(function(){const o=u(),s=f(),a=o??s;p.debug(`IN: POST=${o?.length}, GET=${s?.length}`);const r=JSON.parse(a),n=r.conversation_id??r.id,d=R(r);return _(n,d),h(n),p.debug(`Ready ${n} (SERVER: false) : ${a.length} byte(s)`),null});export{z as default,j as meta,k as shouldRevalidate};
//# sourceMappingURL=dkvan4o2f25p3ieq.js.map

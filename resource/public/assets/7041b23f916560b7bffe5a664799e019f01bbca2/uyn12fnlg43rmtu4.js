import{r as n,j as m}from"./lip667d8t42poxum.js";import{co as h}from"./l4oo5ijw01fyrjzs.js";import g from"./k67sl0lg9wwjvh4l.js";import"./n9zp7vm10xoipejo.js";const F=({className:c,animate:e=!0,animationData:u,StaticIcon:p,staticFrameIndex:f=0,matchTextColor:a=!1,stopSmoothly:l=!1,loop:d=!0})=>{const o=n.useRef(null),[r,s]=n.useState(e),[i,t]=n.useState(e),[A,y]=n.useState(),[S,E]=n.useState(!0);return n.useEffect(()=>{e&&!i?(t(!0),s(!0),o.current?.play()):!e&&i&&(t(!1),l?(y(f),o.current?.animationItem&&o.current.animationItem.currentFrame>f&&E(!1)):(s(!1),o.current?.goToAndStop(f)))},[e,l,f,i]),!p||r?m.jsx(j,{className:c,animationData:u,matchTextColor:a,lottieRef:o,autoplay:r,onLoopComplete:()=>{S||E(!0)},onEnterFrame:()=>{A!=null&&S&&o.current?.animationItem&&o.current.animationItem.currentFrame>=A&&(s(!1),y(void 0),requestAnimationFrame(()=>{o.current?.goToAndStop(A)}))},loop:d&&r}):m.jsx(p,{className:c})},j=({animationData:c,className:e,matchTextColor:u=!0,loop:p=!0,...f})=>{const a=n.useRef(null),[l,d]=n.useState(()=>u?b(window.document.documentElement):null);n.useEffect(()=>{if(!a.current||!u)return;const r=()=>{a.current&&d(b(a.current))},s=new MutationObserver(()=>{r()});return s.observe(window.document.documentElement,{attributes:!0,attributeFilter:["class","style"]}),s.observe(a.current,{attributes:!0,attributeFilter:["class","style"]}),r(),()=>s.disconnect()},[u]);const o=n.useMemo(()=>{if(!u)return c;const r=h(c),s=t=>{(t.ty==="fl"||t.ty==="st")&&t?.c?.k&&(t.c.k=l),Array.isArray(t.it)&&t.it.forEach(s)},i=t=>{t.ty===4&&Array.isArray(t.shapes)&&t.shapes.forEach(s),Array.isArray(t.layers)&&t.layers.forEach(i)};return i(r),Array.isArray(r.assets)&&r.assets.forEach(i),r},[c,l,u]);return m.jsx("div",{ref:a,className:e,children:m.jsx(g,{animationData:o,loop:p,autoPlay:!0,...f},l?.join())})};function b(c){const e=getComputedStyle(c).color?.match(/\d+/g)?.map(Number).map(u=>u/255);return e?(e.push(1),e):null}export{F as AnimatedIconImpl};
//# sourceMappingURL=uyn12fnlg43rmtu4.js.map

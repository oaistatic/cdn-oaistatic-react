const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/h9btwm9n2fxv7vqv.js","assets/cs2gapsc2bulabhw.js","assets/pduvb49qgyq1mqhk.js","assets/eb6xg52mym6rhnsh.js","assets/root-o1pc79my.css","assets/conversation-small-ggtqjiqs.css","assets/do5nmvaddt7ak8xi.js","assets/e95x0gs5di7mq1tw.js","assets/iomwv0om6sqwo9j3.js","assets/kvoc2zyvwn1ugt03.js","assets/kqiuq0sxkojoiufu.js","assets/h6hkfzw1u8kdap84.js","assets/jkqdpka3582aq7je.js","assets/h71lg9jejkufcc57.js","assets/odxc11i523oo3x5r.js","assets/fmwxh0ltx5kcz6xh.js","assets/od9e6kpswbmmrkkx.js","assets/jkpqdvui6jfmbala.js","assets/epqkr08njby1t19h.js","assets/evmyafqvn996a7fd.js","assets/f3ceh929le7g5gef.js","assets/dugtojg1blcdqewy.js","assets/lbnejmh28g0dtgpg.js","assets/nbw7nv8u75ko4dzd.js","assets/jalrufqbparvnesc.js","assets/iyn6knzlreil8vtl.js","assets/de2jqvudive4mgdh.js","assets/mqwhn0zqom5s9tn7.js","assets/bi0i0c4u9ysdnwp5.js","assets/b5gczno5rhzofdsb.js","assets/i36hccq0c8087rmn.js","assets/mr6s3so6dp7a57ua.js","assets/oe3vdo8nwau2d3cp.js","assets/msransmxvuas3w3d.js","assets/ls88si7tay0ysj3s.js","assets/f2cwocui2o4rh90z.js","assets/ggve90in2x9hqouv.js","assets/c4jo9vhmn844acg2.js","assets/iop0mej0v36g33vx.js","assets/pc2givv05uuq8g6l.js","assets/ltl83crjtn7g9n8e.js","assets/fb2gj4fu6zbut62o.js","assets/kmvt5g0oz7ekj3ft.js","assets/ec6jcwftshefgs7y.js","assets/flul5lgejanvmzis.js","assets/kvmheozf1dv1rz41.js","assets/m4uwihyvndo7xd88.js","assets/dijlyyo6bxi7y1gl.js","assets/ansi-1f6vhsjh.css","assets/fm8x6rikk7wmsjrt.js","assets/oeue9sgf06niyskm.js","assets/isvebwen77ppsppm.js","assets/pm0gb7r9jflnjr23.js","assets/h86cr3c8dmjcpsff.js","assets/o0c2m6gntt3um3fq.js","assets/FormattedText-kb0ehjj7.css","assets/cot-message-lf3q5fj1.css","assets/oh6ww7co1uz9spqj.js","assets/fribzu8vhruerbal.js","assets/dq781jewtwr2htto.js","assets/ejji7zjivcs3aj1o.js","assets/kxt6geibw3s8fgif.js"])))=>i.map(i=>d[i]);
import{f as ie,aV as Oe,c as y,aT as Ge,bd as es,eU as K,cn as ss,aa as Y,gi as ts,a6 as Re,B as ee,aC as $,dj as as,e as ns,c0 as is,ab as Ie,a9 as V,F as oe,eN as Pe,hj as os,hk as ne,eV as rs,al as ls,fh as _e,fg as cs,an as ms,eZ as ds,dV as us,e_ as f,s as fs,N as gs,bL as xs,gh as X,O as C,co as ps,fP as ye,u as hs,eQ as _s,_ as E}from"./eb6xg52mym6rhnsh.js";import{f as re,r as g,j as e,M as D,a6 as U,a5 as R,a as ys}from"./cs2gapsc2bulabhw.js";import{l_ as js,fd as Fe,l$ as bs,m0 as Ss,eT as je,aj as se,eU as vs,m1 as Ns,m2 as Cs,m3 as ks,m4 as Es,m5 as As,ll as Ts,m6 as ws,m7 as be,m8 as Q,m9 as Se,ma as Ds,ky as Ms,L as ve,mb as Ls,mc as Os,md as Rs,f5 as Is,cT as Be,cx as Ue,aa as Ve,af as Z,me as Ps,mf as Fs,mg as Ne,mh as ze,dB as Bs,mi as Us,mj as Vs,mk as zs,ml as Hs,mm as Js,bQ as Ws,mn as Qs,mo as $s,lV as Xs,mp as Ks,mq as Ys,mr as Zs,ao as qs,hZ as Gs,ms as et,jk as st,mt as tt,iQ as Ce,mu as at,mv as nt,mw as it,mx as He,jV as ot,my as rt,mz as lt,mA as ke,ah as ct,mB as mt,mC as dt,mD as ut,dD as ft}from"./pduvb49qgyq1mqhk.js";import{u as gt}from"./do5nmvaddt7ak8xi.js";const te={div:s=>{const{node:n,children:t,...a}=s;return e.jsx("div",{...a,className:"text-red-500",children:t})},p:s=>{const{node:n,children:t,...a}=s;return e.jsx("p",{...a,className:"text-token-text-primary text-start leading-6",children:t})},a:s=>{const{node:n,children:t,...a}=s;return e.jsx("a",{...a,className:"font-sm text-token-text-primary! leading-6",children:t})}},xt=1e3*60*2,pt=30;function Je({taskId:s,clientThreadId:n,onClick:t,statusMessage:a,showSources:i,includeMargin:o,sources:l,progressBar:c}){const r=Fe(),[d,u]=g.useState(!1),p=ie(),x=Oe(p,"2007855518");return e.jsxs(e.Fragment,{children:[s&&d&&e.jsx(bs,{taskId:s,clientThreadId:n,onClose:()=>u(!1)}),e.jsxs("div",{className:"relative flex w-4/5 max-w-[416px]",children:[s&&x&&e.jsx("button",{onClick:()=>u(!0),disabled:!s,className:"hover:bg-token-bg-elevated-secondary bg-token-bg-elevated-primary absolute end-4 bottom-4 flex items-center justify-center rounded-full border border-black/10 p-0.5 dark:border-white/10",children:e.jsx(Ss,{className:"icon-lg"})}),e.jsx("button",{onClick:()=>r&&t(),className:y("bg-token-main-surface-primary mt-4 flex w-full items-start justify-start gap-[18px] rounded-2xl border border-black/10 px-5 py-4 shadow-sm dark:border-white/10",r?"hover:bg-token-main-surface-secondary cursor-pointer":"cursor-auto"),children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsxs("div",{className:y("flex flex-col items-start justify-start self-stretch md:h-7 md:flex-row md:items-center md:justify-between",i?"h-12":"h-6"),children:[e.jsx("div",{className:y("font-sm text-token-text-primary w-full flex-1 truncate text-start leading-7 md:w-0",o&&"me-[30px]"),children:a}),i&&l]}),e.jsx("div",{className:y("flex w-full items-center justify-start gap-4 self-stretch pb-2",s&&x&&"pe-10"),children:c})]})})]})]})}function le({taskId:s,clientThreadId:n,toggleSidebar:t,openSidebar:a,startTime:i,progressBar:o}){const l=re(),[c,r]=g.useState(!1),d=js();return g.useEffect(()=>{if(!i)return;const u=Date.now()-i,p=xt-u;if(p>0){const x=setTimeout(()=>{r(!0),a()},p);return()=>clearTimeout(x)}else r(!0),a()},[i,a]),o||(o=e.jsx(Ns,{className:"h-2 w-full"})),e.jsx(Je,{taskId:s,clientThreadId:n,onClick:t,statusMessage:c?l.formatMessage({id:"T2SbxC",defaultMessage:"Waiting…"}):e.jsx("div",{className:"text-token-text-primary text-sm font-medium text-pretty",children:d.startingMessage}),progressBar:o,showSources:!1})}function ht(s,n,t){const a=s.formatMessage({id:"Bs+OcV",defaultMessage:"Thinking…"});if(n.length<2)return t?.initial??a;const i=n[n.length-2];return i.type==="summary"?i.title:i.type==="search"?i.query:i?.type==="websiteOpen"?e.jsx(se,{componentOverrides:te,children:i.activeRowText}):i.type==="fileOpen"?e.jsx(se,{componentOverrides:te,children:i.activeRowText}):i.type==="pythonAnalysis"?e.jsx(se,{componentOverrides:te,children:i.analysisSummary}):a}function _t({task:s,clientThreadId:n,caterpillarRows:t,messageWithTaskMetadata:a,totalSources:i,handleToggleCaterpillarSidebar:o}){const l=re(),c=Fe(),r=ht(l,t,a.metadata?.async_task_status_messages),d=(s?.expectedDurationMinutes??pt)*60*1e3,u=ie(),p=Oe(u,"3550239432"),x=t[1]?.created_at?t[1].created_at*1e3:0,_=je(x||Date.now(),d),v=a?.create_time?a.create_time*1e3:0,b=Math.min(je(v||Date.now(),d),4),N=p?Math.max(_,b):_;let T;const k=e.jsx("div",{className:"bg-token-main-surface-tertiary flex h-2 shrink grow basis-0 items-start justify-start gap-2.5 overflow-hidden rounded-[10px]",children:e.jsx(vs,{percentage:N,barClassName:"bg-token-text-primary",backgroundClassName:"bg-token-main-surface-tertiary"})});p&&(T=k),g.useEffect(()=>{Ge(n,M=>{M.async_status=es.STREAMING})},[n]);const{openThreadSidebar:w}=K();g.useEffect(()=>{t.length===2&&c&&w({type:"caterpillar",caterpillarId:s.taskId,initialTab:"activity",clientThreadId:n})},[t.length,w,s.taskId,n,c]);const S=g.useCallback(()=>{w({type:"caterpillar",caterpillarId:s.taskId,initialTab:"activity",clientThreadId:n})},[w,s.taskId,n]);return t.length<=1?e.jsx(le,{taskId:s.taskId,clientThreadId:n,toggleSidebar:()=>o("activity"),openSidebar:S,startTime:new Date(s.createdAt).getTime(),progressBar:T}):e.jsx(Je,{taskId:s.taskId,clientThreadId:n,onClick:()=>o("activity"),statusMessage:r,showSources:!0,includeMargin:i>0,sources:i===0?e.jsx("div",{className:"text-token-text-tertiary text-sm text-pretty",children:e.jsx(D,{id:"zfwUjs",defaultMessage:"Looking for sources…"})}):e.jsxs("button",{onClick:M=>{M.stopPropagation(),o("sources")},className:y("flex shrink-0 gap-1 text-[13px] leading-[18px] text-[#0285ff]",c?"cursor-pointer hover:text-[#0285ff]/80":"cursor-auto"),children:[e.jsx("div",{className:"relative",children:e.jsx(U,{initial:!1,children:e.jsx(R.span,{initial:{opacity:0,rotateX:-90,translateY:20},animate:{opacity:1,rotateX:0,translateY:0},exit:{opacity:0,rotateX:90,translateY:-20},transition:{duration:.35},className:"absolute start-0 md:end-0",children:i},i)})}),e.jsx("div",{className:y("md:pe-0",i>0&&"ps-2",i>9&&"ps-[14px]",i>99&&"ps-[22px]"),children:i>1?e.jsx(D,{id:"zN+MuO",defaultMessage:" sources"}):e.jsx(D,{id:"dMowmJ",defaultMessage:" source"})})]}),progressBar:k})}function yt({messages:s,clientThreadId:n}){const t=s.find(d=>d.metadata?.b1de6e2_s&&d.metadata?.async_task_id),a=t?.metadata?.async_task_id,i=s.find(d=>d.recipient===ss.START_RESEARCH_TASK),o=Y(n,d=>Ds(d,i?.id)),l=ts({clientThreadId:n}),[c,r]=g.useState(l);return g.useEffect(()=>{const d=setTimeout(()=>{r(o&&l)},3e3);return()=>clearTimeout(d)},[l,o]),!t||!a?c?e.jsx(le,{taskId:a,clientThreadId:n,toggleSidebar:()=>{},openSidebar:()=>{},startTime:new Date().getTime()}):null:e.jsx(jt,{clientThreadId:n,payloadTaskId:a,messageWithTaskMetadata:t})}function jt({payloadTaskId:s,messageWithTaskMetadata:n,clientThreadId:t}){Cs(s,n,t);const a=ks(x=>s?x.tasks[s]:null),i=re(),o=a?.status,l=g.useMemo(()=>a?.rows?a.rows:[],[a?.rows]),{toggleThreadSidebar:c}=K(),{totalSources:r,totalSearches:d}=g.useMemo(()=>{if(!l)return{uniqueSources:[],totalSources:0,totalSearches:0};const x=Es(l),_=x.reduce((b,N)=>b+N.count,0),v=As(l);return{uniqueSources:x,totalSources:_,totalSearches:v}},[l]),u=Ts("caterpillar"),p=g.useCallback(x=>{s&&c({type:"caterpillar",caterpillarId:s,initialTab:x,clientThreadId:t},u)},[c,s,u,t]);return ws(s),n.metadata?.async_task_status_messages?.completed_with_time?e.jsx(be,{task:a,clientThreadId:t,messageWithTaskMetadata:n,totalSources:r,totalSearches:d,handleToggleCaterpillarSidebar:p}):!a||!o||o===Q.UNDETERMINED?e.jsx(le,{taskId:s,clientThreadId:t,toggleSidebar:()=>{},openSidebar:()=>{},startTime:new Date().getTime()}):a.status===Q.COMPLETED?e.jsx(be,{task:a,clientThreadId:t,messageWithTaskMetadata:n,totalSources:r,totalSearches:d,handleToggleCaterpillarSidebar:p}):a.status===Q.FAILED?e.jsx(Se,{message:n.metadata?.async_task_status_messages?.error??i.formatMessage({id:"at6zk8",defaultMessage:"Failed to think"}),handleToggleCaterpillarSidebar:()=>p("activity")}):a.status===Q.CANCELLED?e.jsx(Se,{message:n.metadata?.async_task_status_messages?.cancelled??i.formatMessage({id:"u1rIr5",defaultMessage:"Task Cancelled"}),handleToggleCaterpillarSidebar:()=>p("activity")}):e.jsx(_t,{task:a,clientThreadId:t,caterpillarRows:l,messageWithTaskMetadata:n,totalSources:r,handleToggleCaterpillarSidebar:p})}function bt(s,n,t){const a=n.elements.length;if(a===0)return;const i=Object.entries(s).reduce((o,[l,c])=>Array.isArray(c)?c.length>0?o+1:o:c!==""?o+1:o,0);ns.logEventWithStatsig("dynamic-form-submission","chatgpt_dyanmic_form_submission",{...is({clientThreadId:t}),totalItems:a.toString(),completedItems:i.toString(),ratio:(i/a).toString()})}function St(s,n){let t="";return n.elements.forEach(a=>{const i=a.scope.split("/").pop(),o=i&&s[i],l=o?Array.isArray(o)?o.join(", "):o:"Any",c=a.label??i;t+=`${c}: ${l}
`}),t}function vt({messages:s,clientThreadId:n,isLastMessage:t}){const a=s.find(S=>S.author.role===Re.Assistant),i=s.find(S=>S.metadata?.json_form),o=i?.metadata?.json_form,[l,c]=g.useState({}),[r,d]=g.useState(),[u,p]=g.useState(),x=Ms(),_=gt(n);g.useEffect(()=>{o&&(d(o.json_form_ui),p(o.json_form_data))},[o]);const v=g.useCallback(()=>{if(c({}),r){const S={...r,elements:r.elements.filter(M=>M.scope!=="#/properties/AdditionalInfo")};d(S)}u&&(delete u.properties.AdditionalInfo,p(u))},[c,d,p,r,u]),b=g.useCallback(()=>{if(r){const S={...r,elements:[...r.elements,{type:"Control",scope:"#/properties/AdditionalInfo",label:"Additional Info",placeholder:"Any other details..."}]};d(S)}if(u){const S={...u.properties,AdditionalInfo:{type:"string"}};p({...u,properties:S})}},[d,p,r,u]),N=r?.elements.some(S=>S.scope.endsWith("#/properties/AdditionalInfo")),T=Y(n,Ie.getCurrentLeafId),k=i?.id!==T;if(!i||!u||!r)return a?.status==="in_progress"&&t?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(ve,{className:"h-[26px] w-full"}),e.jsx(ve,{className:"h-[26px] w-3/4"}),e.jsx(Ls,{})]}):null;if(k)return null;const w=async S=>{const M=St(l,r);bt(l,r,n),_({sourceEvent:S,promptMessage:as(M),completionMetadata:{systemHints:[...x],conversationMode:{kind:$.PrimaryAssistant}}})};return e.jsxs(Os,{children:[e.jsx(Nt,{formData:l,dataSchema:u,uiSchema:r,setData:c,readOnly:k}),e.jsxs("div",{className:"flex w-full justify-between",children:[N?e.jsx("div",{}):e.jsx(ee,{disabled:k,onClick:b,color:"secondary",className:"text-token-text-secondary",children:e.jsx(D,{id:"Sen69P",defaultMessage:"Add a detail"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{disabled:k,onClick:v,color:"secondary",className:"text-token-text-secondary",children:e.jsx(D,{id:"Uqo7UD",defaultMessage:"Reset"})}),e.jsx(ee,{disabled:k,onClick:w,children:e.jsx(D,{id:"FVou++",defaultMessage:"Start"})})]})]})]})}function Nt({dataSchema:s,uiSchema:n,setData:t,readOnly:a,formData:i}){return e.jsx("div",{children:e.jsx(Rs,{formData:i,readOnly:a,schema:s,uiSchema:n,onChange:o=>t(o)})})}const Ee=4;function Ct({navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t}){const{value:a}=V("3472722167"),i=s.domains.filter(r=>r.url);g.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",s.type,{urls:i.map(r=>r.url).join(",")})},[i]);let o=[],l=[];const c=i[0].sub_domains.length>0&&a;return i.length>3||c?(o=[i[0]],l=i.slice(1,Ee)):o=i,e.jsxs("div",{className:y("not-prose mb-3 flex gap-2",l.length>0?"flex-col":"flex-row"),children:[o.map((r,d)=>e.jsx(Ae,{isPrimaryDomain:d===0,isFistLineDomain:!0,navigationDomain:r,trackContentReferenceEvent:t,analyticsMetadata:{section_index:d}},r.url)),l.length>0&&e.jsxs("div",{className:"flex items-stretch gap-2",children:[l.map((r,d)=>e.jsx(Ae,{navigationDomain:r,trackContentReferenceEvent:t,analyticsMetadata:{section_index:o.length+d}},r.url)),s.domains.length>Ee&&e.jsx(kt,{onShowSearchResults:n,trackContentReferenceEvent:t})]})]})}const We=oe.div`border border-token-border-default shadow-xxs hover:bg-token-main-surface-secondary dark:border-token-border-xlight dark:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-tertiary`,kt=({onShowSearchResults:s,trackContentReferenceEvent:n})=>e.jsx(We,{className:"flex w-8 cursor-pointer items-center justify-center rounded-xl",onClick:()=>{n("Search Content Reference Clicked","search_content_reference_clicked","navigation",{sidebar:"sidebar"}),s(Be.Sources,Ue.Links)},children:e.jsx(Is,{className:"opacity-50"})}),Ae=({isPrimaryDomain:s,isFistLineDomain:n,navigationDomain:t,trackContentReferenceEvent:a,analyticsMetadata:i})=>(g.useEffect(()=>{a("link_action","link_action","navigation",{url:t.url,title:t.title,link_type:"card",action:"show",section:"fast_nav",section_location:"response",section_index:i.section_index})},[]),e.jsx("div",{className:y("flex-1",s?"min-w-[40%]":"min-w-0"),children:e.jsx(Et,{isFistLineDomain:n,isPrimaryDomain:s,title:t.title,subtitle:t.subtitle??void 0,url:t.url,domain:t.domain,subDomains:t.sub_domains,trackContentReferenceEvent:a,analyticsMetadata:i})})),Et=({isFistLineDomain:s,isPrimaryDomain:n,title:t,subtitle:a,url:i,subDomains:o,trackContentReferenceEvent:l,analyticsMetadata:c})=>{const{value:r}=V("3472722167"),[d,u]=g.useState(!1),p={url:i,title:t,link_type:"card",section:"fast_nav",section_location:"response",section_index:c.section_index};o.length>0;const x=Pe()?"_self":"_blank";return e.jsxs(We,{className:"group/navigation text-token-link flex flex-col rounded-2xl",children:[e.jsxs(Ve,{href:i,target:x,onClick:()=>l("link_action","link_action","navigation",{...p,action:"click"}),onMouseEnter:()=>{l("link_action","link_action","navigation",{...p,action:"hover"})},className:y("flex flex-row items-center gap-2",s?"px-4 py-3":"px-4 py-2.5"),children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-[#1D53BF0D] group-hover/navigation:bg-[#1D53BF1A] dark:bg-[#7CA8FF33] dark:group-hover/navigation:bg-[#7CA8FF33]",children:e.jsx(Z,{url:i,size:32,minSize:20,className:"icon-sm rounded-full"})}),e.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",children:[e.jsxs("div",{className:y("flex items-center gap-1 font-semibold",s?"text-sm":"text-xs"),children:[e.jsx("span",{className:"flex-1 truncate",children:t}),!1]}),e.jsx("div",{className:"truncate text-xs",children:a})]})]}),!1]})},ae=3,At=3;function Tt({navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t}){const{value:a}=V("756982149"),i=g.useContext(Ps)!=null,o=g.useContext(Fs);return e.jsx("div",{className:y({hidden:o&&i}),children:a?e.jsx(wt,{navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t}):e.jsx(Ct,{navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t})})}function wt({navigation:s,onShowSearchResults:n,trackContentReferenceEvent:t}){const a=s.domains.filter(l=>l.url);g.useEffect(()=>{t("Search Content Reference Shown","search_content_reference_shown",s.type,{urls:a.map(l=>l.url).join(",")})},[a]);const i=a.slice(0,ae),o=a.slice(ae,ae+At);return e.jsxs("div",{className:"not-prose mb-3 flex gap-2",children:[i.map((l,c)=>e.jsx(Mt,{isPrimaryDomain:c===0,isFistLineDomain:!0,navigationDomain:l,trackContentReferenceEvent:t,analyticsMetadata:{section_index:c}},l.url)),o.length>0&&e.jsx(Dt,{onShowSearchResults:n,trackContentReferenceEvent:t,moreDomains:o})]})}const Dt=({onShowSearchResults:s,trackContentReferenceEvent:n,moreDomains:t})=>e.jsx(Qe,{component:"div",className:"group flex w-28 cursor-pointer",onClick:()=>{n("Search Content Reference Clicked","search_content_reference_clicked","navigation",{sidebar:"sidebar"}),s(Be.Sources,Ue.Links)},children:e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("div",{className:"flex items-center",children:t.map((a,i)=>e.jsx("div",{style:{zIndex:t.length-i},className:"ms-[-6px] first:ms-0",children:e.jsx("div",{className:y("flex h-4 w-4 items-center overflow-hidden rounded-full","border-token-main-surface-primary bg-token-main-surface-primary group-hover:border-token-bg-tertiary border-2"),children:e.jsx(Z,{url:a.url,size:32,minSize:20,className:"icon-xs rounded-full",showLoadingAnimation:!0})},a.url)},a.url))}),e.jsx("div",{className:"text-token-text-primary flex text-sm font-semibold",children:e.jsx("span",{className:"truncate",children:e.jsx(D,{id:"B5xwY8",defaultMessage:"More links"})})})]})}),Mt=({isPrimaryDomain:s,isFistLineDomain:n,navigationDomain:t,trackContentReferenceEvent:a,analyticsMetadata:i})=>(g.useEffect(()=>{a("link_action","link_action","navigation",{url:t.url,title:t.title,link_type:"card",action:"show",section:"fast_nav",section_location:"response",section_index:i.section_index})},[]),e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx(Lt,{isFistLineDomain:n,isPrimaryDomain:s,title:t.title,subtitle:t.subtitle??void 0,url:t.url,domain:t.domain,subDomains:t.sub_domains,trackContentReferenceEvent:a,analyticsMetadata:i})})),Lt=({isFistLineDomain:s,title:n,subtitle:t,url:a,trackContentReferenceEvent:i,analyticsMetadata:o})=>{const l={url:a,title:n,link_type:"card",section:"fast_nav",section_location:"response",section_index:o.section_index},c=Pe(os())?"_self":"_blank";return e.jsxs(Qe,{component:Ve,href:a,target:c,onClick:()=>i("link_action","link_action","navigation",{...l,action:"click"}),onMouseEnter:()=>{i("link_action","link_action","navigation",{...l,action:"hover"})},className:"flex flex-col gap-[2px]",children:[e.jsxs("div",{className:"text-token-text-secondary flex items-center gap-[6px] text-xs",children:[e.jsx(Z,{url:a,size:32,minSize:20,className:"icon-xs rounded-full",showLoadingAnimation:!0}),e.jsx("div",{className:"truncate",children:t})]}),e.jsx("div",{className:y("text-token-text-primary flex items-center font-medium",s?"text-sm":"text-xs"),children:e.jsx("span",{className:"truncate",children:n})})]})},Qe=({component:s,children:n,className:t,...a})=>e.jsx(s,{...a,className:y("hover:bg-token-main-surface-secondary border-token-border-light rounded-2xl border px-4 py-3",t),children:n}),Ot=2e3,$e=.4,Rt=.45,It=.2,Pt=.1,Ft=.25;var P=(s=>(s[s.Running=0]="Running",s[s.Finished=1]="Finished",s[s.Error=2]="Error",s[s.Stopped=3]="Stopped",s[s.Paused=4]="Paused",s))(P||{});function _a({conversationMessages:s,icon:n,status:t,text:a,estimatedToolDurationMs:i,animationLoopDurationMs:o=Ot,shouldPersistAfterFinished:l=!1}){const[c,r]=g.useState(t===0?0:t===1&&!l?7:1),[d,u]=g.useState(0);g.useEffect(()=>{t===2?r(8):t===3?r(9):t===4?r(10):t===1?r(c===2?3:7):t===0&&c===10&&(r(2),u(x=>x+1))},[t]);const p=Vt(c);return g.useEffect(()=>{const x=s[0].id;if(p)return Ne.addDelayedRenderingMessage(x),()=>{Ne.removeDelayedRenderingMessage(x)}},[p]),ze(()=>{F(c)&&u(x=>x+1)},o),c===7&&!l?null:e.jsxs("div",{className:"my-2.5 flex items-center gap-2.5",children:[e.jsx(Bt,{icon:n,status:t,uiState:c,estimatedToolDurationMs:i,animationLoopCounter:d,shouldPersistAfterFinished:l,onFillProgressBarAnimationComplete:()=>r(4),onFinishAnimationComplete:()=>{r(5),setTimeout(()=>{r(l?7:6)},Pt*1e3)},onHideAnimationComplete:()=>r(7)}),e.jsx(Ut,{text:a,uiState:c,animationLoopCounter:d,onEnterAnimationComplete:()=>r(2)})]})}const Te=50;function Bt({icon:s,status:n,uiState:t,estimatedToolDurationMs:a,animationLoopCounter:i,shouldPersistAfterFinished:o,onFillProgressBarAnimationComplete:l,onFinishAnimationComplete:c,onHideAnimationComplete:r}){const[d,u]=g.useState(0);ze(()=>{F(t)?u(k=>k+Te):t===10&&u(0)},Te);let p,x,_;F(t)||t===10?(p="running",x=e.jsx(s,{animationLoopCounter:i}),_="bg-transparent"):t===4||t===5||t===7&&o?(p="finished",x=e.jsx(Vs,{}),_="bg-brand-purple"):n===2?(p="error",x=e.jsx(zs,{}),_="bg-orange-500"):n===3&&(p="stopped",x=e.jsx(Hs,{}),_="bg-gray-300");let v={opacity:0,scale:0,rotate:-180,x:0},b={type:"spring",bounce:.3,duration:Rt},N={opacity:0,scale:.6,rotate:0,x:0};t===0?(v={opacity:0,scale:.5,rotate:-180,x:-8},b={type:"spring",bounce:.3,duration:$e}):t===1?v=!1:t===5&&(N={opacity:0,scale:0,rotate:0,x:0},b={type:"spring",bounce:.3,duration:Ft});const T=Us(d,a);return e.jsx("div",{className:"relative h-5 w-5 shrink-0",children:e.jsx(U,{onExitComplete:()=>{t===6&&r()},children:p!=null&&e.jsxs(R.div,{className:y("absolute start-0 top-0 flex h-full w-full items-center justify-center rounded-full text-white",_),initial:v,animate:{opacity:1,scale:1,rotate:0,x:0},exit:N,transition:b,onAnimationComplete:()=>{t===4&&c()},children:[x,(F(t)||t===10)&&e.jsx(Bs,{percentage:t===3?100:T,thickness:1.5/23,className:"text-brand-purple absolute start-1/2 top-1/2 h-[23px] w-[23px] -translate-x-1/2 -translate-y-1/2",backgroundStrokeClassName:"stroke-brand-purple/25 dark:stroke-brand-purple/50",transitionDuration:t===3?`${(100-T)/100*It}s`:void 0,transitionTimingFunction:t===3?"cubic-bezier(0.55, 0, 1, 1)":void 0,onTransitionEnd:()=>{t===3&&l()}})]},p)})})}function Ut({text:s,uiState:n,animationLoopCounter:t,onEnterAnimationComplete:a}){const[i,o]=g.useState(s);g.useEffect(()=>{n===2&&o(s)},[t]),g.useEffect(()=>{F(n)||o(s)},[n,s]);let l={opacity:0,x:0,y:15},c={type:"spring",bounce:.3,opacity:{duration:.15},y:{duration:.3}};n===0?(l={opacity:0,x:-8,y:0},c={type:"spring",bounce:.3,duration:$e,delay:.15}):n===1&&(l=!1);const r=i??void 0;return e.jsx("div",{className:y("relative h-5 w-full leading-5",n===8||n===9?"text-token-text-tertiary":"text-token-text-secondary"),children:e.jsx(U,{children:r!=null&&e.jsx(R.div,{className:"absolute start-0 top-0 line-clamp-1 overflow-visible",initial:l,animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:0,y:-15},transition:c,onAnimationComplete:()=>{n===0&&a()},children:r},r.toString())})})}function F(s){return s===0||s===2||s===3}function Vt(s){return F(s)||s===4||s===5||s===6||s===10}const we=oe.div`group start-0 top-0 me-1.5 overflow-hidden mt-1 text-start`,zt=({highlightedCommand:s,status:n,children:t,showWorkUserSetting:a=!1,hideOnlyIfNotInteractedWith:i=!1,defaultExpanded:o=!1,onOpenAnalytics:l,onClick:c,...r},d)=>{const u=t!=null||c!=null,[p]=g.useState(a),[x,_]=g.useState(a||o),[v,b]=g.useState(!1),N=n===P.Finished||n===P.Error,T=i?p?!1:!v:!1,k=n===P.Running&&"loading-shimmer";return N&&T?null:u?e.jsxs(e.Fragment,{children:[e.jsx(De,{ref:d,$canShowWork:!0,...r,children:e.jsx(U,{children:e.jsx(we,{children:e.jsx(R.button,{onClick:w=>{x||l?.(),_(S=>!S),b(!0),c?.(w)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:y(k),children:e.jsxs("div",{className:"flex items-center justify-start gap-1",children:[e.jsx("span",{className:"text-start",children:s}),!c&&(x?e.jsx(Js,{className:"icon-md"}):e.jsx(Ws,{className:"icon-md"}))]})},s?.toString())})})}),e.jsx(U,{children:x&&t&&e.jsx(R.div,{initial:"collapsed",animate:"reveal",exit:"collapsed",variants:{collapsed:{translateY:-20,opacity:0,height:0},reveal:{translateY:0,opacity:1,height:"auto"}},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:t})})]}):e.jsx(De,{ref:d,$canShowWork:!1,...r,children:e.jsx(we,{className:y(k),children:s})})},De=oe.span`block first:mt-0 relative
${({$canShowWork:s})=>s?"text-token-text-secondary hover:text-token-text-primary my-1.5":"text-token-text-secondary"}`,Ht=g.forwardRef(zt),Jt=3,Wt=.1,Me=[0,.26,.4];function Qt({nextMessage:s,isLastMessage:n,isRequestActive:t,isLastTurnInConversation:a,clientThreadId:i,turnIndex:o,searchResultGroups:l}){const c=n||!s||s&&!ne(s),r=g.useRef(!1),d=ys(),u=Y(i,Ie.getGizmoId);g.useEffect(()=>{s&&ne(s)&&!r.current&&(r.current=!0,Qs(d,u))},[s,d,u]);const p=rs(s);s?.id&&$s(s?.id);const x=[];if(p?.[0]?.type==="navigation"&&s&&x.push(e.jsx($t,{clientThreadId:i,turnIndex:o,nextMessage:s,isRequestActive:t,isLastTurnInConversation:a,navigationCitation:p[0]},"fast-nav")),c){const _=ls(l.slice(0,Jt).map(b=>b.entries[0].url)),v=t?e.jsxs("div",{className:"flex items-center gap-1",children:[_.map((b,N)=>e.jsx(R.div,{className:y("-ms-1.5 first:ms-0 last:me-1.5","relative"),initial:{width:N===0?0:6,opacity:0},animate:{width:20,opacity:1},transition:{duration:Wt,delay:Me[Math.min(N,Me.length-1)]},children:e.jsx("div",{className:y("flex h-[22px] w-[22px] items-center overflow-hidden rounded-full","border-token-bg-primary bg-token-bg-primary border-2"),children:e.jsx(Z,{url:b,size:32,minSize:16,className:"icon-md rounded-full"})})},b)),e.jsx(D,{id:"jjx8Qg",defaultMessage:"Searching the web"})]}):e.jsx(D,{id:"fssXGM",defaultMessage:"Error while searching"});x.push(e.jsx(Ht,{highlightedCommand:v,status:t?P.Running:P.Error},"search-gpt-query"))}return x.length?e.jsx(e.Fragment,{children:x}):null}const $t=({clientThreadId:s,turnIndex:n,nextMessage:t,isRequestActive:a,isLastTurnInConversation:i,navigationCitation:o})=>{const{scrollToHeader:l}=_e("searchSources")??{},c=cs(),r=_e("searchSources"),{openThreadSidebar:d}=K(),{value:u}=V("756982148");return g.useEffect(()=>{ms.addFirstTiming("render.fastNavigation")},[]),g.useEffect(()=>{c&&r&&d({type:"searchSources",scrollToHeader:l,clientThreadId:s,turnIndex:n,messageId:t?.id??""})},[]),g.useEffect(()=>{const p=t,x=p.metadata?.search_source,_=o.domains.map(v=>v.url);Xs.logEvent("Search Tool Request Time To Fast Nav",s,p.id,{search_source:x,urls:_},()=>{x===ds.InstantQuery&&Ks.logEvent("Search Tool Page Load Time To Fast Nav",{message_id:p.id,urls:_,search_source:x})})},[s,t,o]),a&&i&&u?e.jsx(R.div,{initial:{opacity:a?0:1,height:a?0:"auto"},animate:{opacity:1,height:"auto"},children:e.jsx(Le,{clientThreadId:s,turnIndex:n,nextMessage:t,navigationCitation:o})}):e.jsx(Le,{clientThreadId:s,turnIndex:n,nextMessage:t,navigationCitation:o})},Le=({clientThreadId:s,turnIndex:n,nextMessage:t,navigationCitation:a})=>{const{toggleThreadSidebar:i}=K(),{value:o}=V("756982148"),l=g.useMemo(()=>({clientThreadId:s,turnIndex:n,messageId:t?.id}),[s,n,t?.id]),c=g.useCallback((d,u)=>{i({type:"searchSources",scrollToHeader:u,clientThreadId:s,turnIndex:n,messageId:t?.id??""})},[i,s,n,t?.id]),r=Ys(l);return o?e.jsx(Tt,{navigation:a,onShowSearchResults:c,trackContentReferenceEvent:r}):e.jsx(Zs,{tldr:{type:"tldr",status:"done",display_title:a.domains[0].title,url:a.domains[0].url,matched_text:"",start_idx:0,end_idx:0,page_title:"",breadcrumbs:[a.domains[0].domain],refs:[]},trackContentReferenceEvent:r})},Xt=C(()=>E(()=>import("./h9btwm9n2fxv7vqv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Kt=C(()=>E(()=>import("./iomwv0om6sqwo9j3.js"),__vite__mapDeps([8,1,3,4,9]))),Yt=C(()=>E(()=>import("./kqiuq0sxkojoiufu.js"),__vite__mapDeps([10,1,3,4,2,5]))),Zt=C(()=>E(()=>import("./h6hkfzw1u8kdap84.js"),__vite__mapDeps([11,1,3,4,2,5,12,13,6,7]))),qt=C(async()=>()=>null);C(async()=>()=>null);const Gt=C(async()=>(await E(()=>import("./odxc11i523oo3x5r.js"),__vite__mapDeps([14,3,1,4,12,2,5,15,16,6,7,17,18,19,20,21]))).ImageGenMessage),ea=C(()=>E(()=>import("./lbnejmh28g0dtgpg.js"),__vite__mapDeps([22,1,3,4,2,5,6,7]))),sa=C(()=>E(()=>import("./od9e6kpswbmmrkkx.js"),__vite__mapDeps([16,1,3,4,2,5,6,7])).then(s=>s.BrowsingMessage)),ta=C(()=>E(()=>import("./nbw7nv8u75ko4dzd.js"),__vite__mapDeps([23,1,3,4,2,5])).then(s=>s.SearchResultMessage)),aa=C(()=>E(()=>import("./jalrufqbparvnesc.js"),__vite__mapDeps([24,1,3,4,2,5,6,7])).then(s=>s.JITPluginMessage)),na=C(()=>E(()=>import("./iyn6knzlreil8vtl.js"),__vite__mapDeps([25,3,1,4,26,2,5,27,6,7])).then(s=>s.DataAnalysisMessage)),ia=C(()=>E(()=>import("./bi0i0c4u9ysdnwp5.js"),__vite__mapDeps([28,1,3,4,2,5,29]))),oa=C(()=>E(()=>import("./i36hccq0c8087rmn.js"),__vite__mapDeps([30,1,3,4,31,32,2,5,15,16,6,7,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,27,53,54,55,56])).then(s=>s.LegacyCoTMessage)),ra=C(()=>E(()=>import("./mr6s3so6dp7a57ua.js"),__vite__mapDeps([31,1,3,4,32,2,5,15,16,6,7,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,27,53,54,55,56])).then(s=>s.CoT)),la=C(()=>E(()=>import("./oh6ww7co1uz9spqj.js"),__vite__mapDeps([57,1,2,3,4,5,58,59,60,61])).then(s=>s.JawboneMessage)),ca=C(async()=>()=>null);function ma(s){return s.some(n=>n.type===f.SearchGPTQuery)?s.filter(a=>a.type===X).reduce((a,i)=>a+i.groups.filter(o=>[f.StructuredThoughts,f.CoTSearchTool].includes(o.type)).length,0)>1:!0}function ya({groupedMessagesToRender:s,allMessages:n,allGroupedMessages:t,clientThreadId:a,isUserTurn:i,isCompletionRequestInProgress:o,isFeedbackEnabled:l,isFinalTurn:c,isFinalUserTurn:r,turnIndex:d,hasActiveRequest:u,onRequestCompletion:p,shouldGrowContainer:x=!0,isParagen:_=!1,renderingView:v="chat"}){const{showDebugConversationTurns:b}=qs(),[N]=Y(a,m=>[m?.mode]),T=Gs(a),k=us(a),w=et(),S=t.some(m=>m.type===f.Browsing||m.type===f.RetrievalBrowsing||m.type===f.SearchGPTQuery),M=st(()=>fs.count(gs.DEFAULT,"conversation_turn_grouped_messages.attempted_render_missing_type_f959b8c")),q=xs(n),ce=tt({clientThreadId:a,conversationMode:N}),Xe=g.useCallback(({sourceEvent:m,requestedModelId:h,appendMessages:j,extraStreamParams:L})=>{q&&ce({sourceEvent:m,nodeId:q.id,requestedModelId:h,appendMessages:j,extraStreamParams:L})},[q,ce]),G=s.map((m,h)=>{const j=h===t.length-1,L=ma(s);if(m.type===X)return L?e.jsx(ra,{isStreaming:c&&j&&o,messageGroups:m.groups,isAutoswitch:T?.enableInfer,handleSimplerResponseClick:A=>{Xe({sourceEvent:A,requestedModelId:"gpt-4o"})}},"cot-"+m.groups[0].messages[0].id):null;const ge=h===0?void 0:s[h-1],xe=ge?.type!==X?ge:void 0,pe=xe?.type,he=xe?.messages,Ze=m&&!ne(m.messages[0]),qe=S&&Ze,J=[];switch(qe||J.push(e.jsx(Ce,{className:"min-h-8",message:m.messages[0],isFeedbackEnabled:l,isFinalUserTurn:r,isCompletionInProgress:j&&o,hasActiveRequest:u,turnIndex:d,clientThreadId:a,isUserTurn:i,prevGroupedMessageType:pe,prevGroupedMessages:he},"text-message-"+m.messages[0].id)),b&&J.push(e.jsx(ca,{clientThreadId:a,message:m.messages[0]},"message-debug-"+m.messages[0].id)),m.type){case f.Text:case f.MultiText:return m.type===f.Text?e.jsxs(g.Fragment,{children:[J,e.jsx(rt,{isUserTurn:i,message:m.messages[0]})]},"group-"+m.messages[0].id):m.type===f.MultiText?e.jsx(Yt,{clientThreadId:a,messages:m.messages,isCompletionInProgress:j&&o,isFeedbackEnabled:l,hasActiveRequest:u,prevGroupedMessageType:pe,prevGroupedMessages:he},"multitext-"+(m.messages[0]?.id??h)):m.type;case f.Browsing:case f.RetrievalBrowsing:{const A=N!=null&&[$.GizmoInteraction,$.GizmoMagicCreate,$.GizmoTest].includes(N.kind),O=k?ot(k):!1;return e.jsx(sa,{messages:m.messages,isRequestActive:u,isLastMessageInTurn:j,isUsingGizmo:A,isUsingSnorlax:O,isRetrieval:m.type===f.RetrievalBrowsing},"browsing-"+(m.messages[0]?.id??h))}case f.SearchGPTQuery:{if(s.some(I=>I.type===X)&&L)return null;const O=s.slice(h+1).findLast(I=>I.type===f.Text||I.type===f.CoTSearchTool),W=n.findLast(I=>ye(I).length>0);return e.jsx(Qt,{clientThreadId:a,turnIndex:d,isRequestActive:u,isLastMessage:j,isLastTurnInConversation:c,nextMessage:O?.messages[0],searchResultGroups:ye(W)},"searchquery-"+(m.messages[0]?.id??h))}case f.StructuredThoughts:return null;case f.ReasoningRecap:return null;case f.CoTSearchTool:return null;case f.n7jupd:return null;case f.n7jupd_i:case f.n7jupd_x:return null;case f.n7jupd_m:{if(!j)return null;const A={...m.messages[0],content:{content_type:ps.Text,parts:[""]}};return e.jsx(Ce,{className:"min-h-8",message:A,isFeedbackEnabled:l,isFinalUserTurn:r,isCompletionInProgress:j&&o,hasActiveRequest:u,clientThreadId:a,isUserTurn:i,turnIndex:d},"text-message-"+A.id)}case f.a8km123:{if(!m.messages.every(O=>!O.metadata?.reasoning_status)){const O=He(n,W=>W.author.role===Re.Assistant&&W.recipient==="all");return e.jsx(oa,{clientThreadId:a,turnIndex:d,isStreaming:(j||O<h)&&o,messages:m.messages},"sum-"+(m.messages[0]?.id??h))}return e.jsx(ia,{messages:m.messages,isStreaming:j&&o,isLastMessage:j,clientThreadId:a,currentGroupedMessageIndex:h,turnIndex:d},"sum-"+(m.messages[0]?.id??h))}case f.f959b8c:return M(),null;case f.is_loading_message:return j&&o?e.jsx(it,{},"loading-message-"+h):null;case f.c12k321:return null;case f.l1p9k3u:return null;case f.b1de6e2_c:return e.jsx(vt,{messages:m.messages,clientThreadId:a,isLastMessage:j},"b1de6e2-"+(m.messages[0]?.id??h));case f.b1de6e2_s:return e.jsx(yt,{messages:m.messages,clientThreadId:a},"b1de6e2_s-"+(m.messages[0]?.id??h));case f.b1de6e2_d:return null;case f.b1de6e2_rm:return e.jsx(nt,{messages:m.messages,clientThreadId:a,renderingView:v,children:J},"b1de6e2_rm-"+(m.messages[0]?.id??h));case f.de1d73e:if(w){const A=h+1<t.length?t[h+1]:void 0;return e.jsx(la,{clientThreadId:a,currentGroupedMessage:m,nextMessage:A&&A.type===f.Text?A.messages[0]:void 0,isLastMessage:j,isRequestActive:u},"jawbone-"+(m.messages[0]?.id??h))}else return null;case f.ParallelBrowsing:return e.jsx(ea,{messages:m.messages},"parallel-"+(m.messages[0]?.id??h));case f.CodeInterpreter:return e.jsx(na,{messages:m.messages,isRequestActive:u,clientThreadId:a},"ada-"+(m.messages[0]?.id??h));case f.JITPlugin:return e.jsx(aa,{messages:m.messages,clientThreadId:a,isLastTurnInConversation:c,onRequestCompletion:p},"jit-"+(m.messages[0]?.id??h));case f.t2uay3k:return e.jsx(Gt,{messages:m.messages,clientThreadId:a,disableClickThru:_,isLastTurnInConversation:c},"t2uay3k-"+(m.messages[0]?.id??h));case f.Dalle:return e.jsx(Zt,{messages:m.messages,clientThreadId:a,disableClickThru:_},"dalle-"+(m.messages[0]?.id??h));case f.GizmoEditor:return e.jsx(Xt,{messages:m.messages},"gizmo-editor-"+(m.messages[0]?.id??h));case f.oiw209h:return e.jsx(qt,{messages:m.messages,clientThreadId:a},"oiw209h-"+(m.messages[0]?.id??h));case f.Canmore:return e.jsx(at,{messages:m.messages,allTurnMessages:n,isFinalTurn:c,isRequestActive:u,clientThreadId:a,isUserTurn:i},"canmore-"+(m.messages[0]?.id??h));case f.Container:case f.Oboe:return null;case f.Debug:return b?e.jsx(Kt,{message:m.messages[0]},"debug-"+m.messages[0].id):null;case f.SearchResult:return e.jsx(ta,{messages:m.messages},"search-result-"+(m.messages[0]?.id??h));case f.kanzi:return null;case f.Mochi:return null}}),Ke=ut(),Ye=ie(),{wordFadeType:B,animationDurationMs:me}=lt(),z=g.useRef([]),de=g.useRef(void 0),ue=g.useRef(null),H=!i&&c&&o,fe=n[0]?.id;return hs(()=>{if(B!=="indexed"||!H)return;const m=ue.current;if(!m)return;de.current!==fe&&(de.current=fe,z.current=[]);const h=m.getAnimations({subtree:!0}).filter(j=>j.animationName===ke["fade-in"]);if(h.length!==0){const j=fa({now:performance.now(),previousStartTimes:z.current,groupCount:h.length});z.current=j;for(let L=0;L<h.length;L++)h[L].startTime=j[L]}else z.current=[]},[G,B,H]),e.jsx("div",{className:y({"flex max-w-full flex-col":!0,[ke.root]:B==="indexed"&&H,grow:x}),style:B==="indexed"?{"--duration":`${me}ms`}:void 0,ref:ue,children:e.jsx(_s,{name:"GroupedMessages",fallback:da,children:i?G:e.jsxs(ct,{isDisabled:!H||B!=="delay",defaultAnimationDurationPerSegmentMs:me,children:[mt(Ye)&&c&&e.jsx(dt,{isStreaming:o,debug:Ke}),G]},n[0]?.id)})})}function da({error:s}){return e.jsxs(ft,{type:"danger",children:[e.jsx(D,{id:"5eGo3w",defaultMessage:"Unable to display this message due to an error."}),!1]})}function ua(s,n,t){if(s.length<2||n<=0)return 0;const a=n/Math.log(2);s=[...s].sort((l,c)=>l-c);let i=0,o=0;for(let l=s.length-1;l>0;--l){const c=Math.exp(-(t-s[l])/a);if(i>0&&c/i<.01)break;const r=s[l]-s[l-1];i+=c,o+=c*r}return i===0?0:i/o}function fa({now:s,previousStartTimes:n,groupCount:t,initialRate:a=50,halfLife:i=1}){const o=n.slice(0,He(n,u=>u<=s)+1),l=o.length<2?a/1e3:Math.max(.01,ua(o,i*1e3,s)),c=t-o.length;let r=o[o.length-1]??0,d=1;for(let u=0;u<c;u++){const p=l*1e3*d;c<p?d*=.8:c>p&&(d*=1.5);const x=1/(l*d),_=Math.max(s,r+x);o.push(_),r=_}return o}export{ya as C,Le as F,Tt as N,P as T,Ht as a,_a as b};
//# sourceMappingURL=j0zvljvurep0tkuq.js.map

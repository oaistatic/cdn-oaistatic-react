import{f as v,a as S,b as F,g as w,j as e,M as y}from"./cs2gapsc2bulabhw.js";import{bA as N,b2 as B,ac as E}from"./pduvb49qgyq1mqhk.js";import{u as R,g as T}from"./fb2gj4fu6zbut62o.js";import{j as C,b as k,ai as U,c as A}from"./eb6xg52mym6rhnsh.js";import{A as I}from"./hhcx8tizv7ae2jru.js";function h(){return e.jsx(N,{className:"icon-sm text-token-text-tertiary ms-1"})}function M({onChange:t,enabled:r,Icon:s,label:i,labelValues:c,onClickInfo:a,tooltip:n,tooltipValues:l,hasPadding:u=!0,className:d,disabled:m=!1,messageAfterTooltip:o=void 0}){return e.jsxs(I,{className:A("justify-start",u?"py-6":"py-0",d),children:[e.jsx(B,{label:"",disabled:m,enabled:r,onChange:t}),e.jsxs("p",{className:"text-md inline-flex items-center",children:[s&&e.jsx(s,{className:"icon-md me-2"}),e.jsx(y,{...i,values:c}),n&&e.jsxs(e.Fragment,{children:[e.jsx(E,{interactive:!0,label:e.jsx(y,{...n,values:l}),side:"top",children:a?e.jsx("button",{className:"block h-full",onClick:a,children:e.jsx(h,{})}):e.jsx(h,{})}),o&&e.jsx("span",{className:"text-token-text-secondary ps-1 text-sm",children:e.jsx(y,{...o})})]})]})]})}function L({workspaceId:t,Icon:r,label:s,onClickInfo:i,feature:c,value:a,tooltip:n,hasPadding:l=!0,className:u,disabled:d=!1,overrideDisplayValue:m=void 0,messageAfterTooltip:o=void 0}){const g=v(),f=C(),p=S(),{variables:x,mutate:b}=F({mutationFn:({feature:j,enabled:q})=>k.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:t}},requestBody:{feature:j,value:q}}),onSettled:()=>{p.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{f.danger(g.formatMessage(_.featureSettingsUpdateFailed))}});return e.jsx(M,{onChange:j=>{b({feature:c,enabled:j})},enabled:m??x?.enabled??a,Icon:r,label:s,tooltip:n,hasPadding:l,className:u,disabled:d,messageAfterTooltip:o,onClickInfo:i})}function O({connectorId:t,workspaceId:r,Icon:s,label:i,tooltip:c,tooltipValues:a,messageAfterTooltip:n,labelValues:l}){const u=v(),d=C(),m=S(),o=U(),{enabled:g,isLoading:f}=R(t),{variables:p,mutate:x}=F({mutationFn:b=>k.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:r,connector_id:t}},requestBody:{enabled:b}}),onSettled:()=>{m.invalidateQueries({queryKey:T(o?.normalizedAccountUserId)})},onError:()=>{d.danger(u.formatMessage(_.featureSettingsUpdateFailed))}});return e.jsx(M,{onChange:x,enabled:p??!!g,Icon:s,label:i,labelValues:l,disabled:f,tooltip:c,tooltipValues:a,messageAfterTooltip:n})}const _=w({featureSettingsUpdateFailed:{id:"workspaceSettingsOld.featureSettingsUpdateFailed",defaultMessage:"Failed to update feature setting"}});export{L as B,h as S,O as W};
//# sourceMappingURL=dp94nptid1gd4e8f.js.map

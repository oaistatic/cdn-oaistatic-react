const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/h8uvo33rlf3g4aor.js","assets/eb6xg52mym6rhnsh.js","assets/cs2gapsc2bulabhw.js","assets/root-o1pc79my.css","assets/pduvb49qgyq1mqhk.js","assets/conversation-small-ggtqjiqs.css","assets/de2jqvudive4mgdh.js","assets/mqwhn0zqom5s9tn7.js","assets/b9rt1qz6krkv2f8h.js","assets/h71lg9jejkufcc57.js","assets/do5nmvaddt7ak8xi.js","assets/e95x0gs5di7mq1tw.js","assets/jyst6rnznipaffx7.js","assets/nlj97v8clhezwsxr.js","assets/f2cwocui2o4rh90z.js","assets/ggve90in2x9hqouv.js","assets/bzo48ft2wb6beuij.js","assets/fb2gj4fu6zbut62o.js","assets/kmvt5g0oz7ekj3ft.js","assets/otrhg4fwlde4g25l.js","assets/epqkr08njby1t19h.js","assets/c1w85nn5shpnb9e0.js","assets/7u88g4wa9fostszz.js","assets/codkr9xsn28rihk7.js","assets/l9t7qwwrq1pkwdh1.js","assets/ec6jcwftshefgs7y.js","assets/ic7rccsdo5x6ovoh.js","assets/hatmfprcm0t26pcx.js","assets/kn0lvqy8pfftaqm4.js","assets/evmyafqvn996a7fd.js","assets/f3ceh929le7g5gef.js","assets/hpoi02g0dgpne8ux.js","assets/j0zvljvurep0tkuq.js","assets/ls88si7tay0ysj3s.js","assets/c4jo9vhmn844acg2.js","assets/iop0mej0v36g33vx.js","assets/pc2givv05uuq8g6l.js","assets/eks5h79t2eeekygs.js","assets/3s6z6so3p651ma5p.js","assets/pm0gb7r9jflnjr23.js","assets/isvebwen77ppsppm.js","assets/knjoyspfheg8zfxl.js","assets/jkpqdvui6jfmbala.js","assets/jrt2h7ljp59jy54q.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{aJ as Ee,e as Se,c_ as Fe,dB as ze,gY as Re,O as _e,_ as Ce,bE as Ve,gZ as Le,bb as we,f as De,g_ as Ue,cX as ke,g$ as Be,ev as Ge,fE as Te,k as Ke,d6 as We,aS as He,aC as Qe,cl as Ye,b as qe}from"./eb6xg52mym6rhnsh.js";import{r as n,j as t,a6 as Ae,d as $e,a as Me,f as Je,a5 as be,c as Xe,h as Ie,p as Ze}from"./cs2gapsc2bulabhw.js";import{jn as et,jo as Oe,jp as tt,jq as st,jr as at,P as it,js as ot,aP as Pe,b7 as rt,cU as ye,b8 as Ne,jt as nt,a$ as lt,b0 as ct,ju as dt,jv as ft,jw as ut,jx as mt,jy as ht,jz as pt,bd as gt,jA as xt,F as vt,jB as jt,jC as bt,jD as yt,eE as Et,K as _t,jE as Ct,jF as wt,jG as kt,jH as Tt,jI as It,jJ as Pt,T as Nt,jK as St}from"./pduvb49qgyq1mqhk.js";import{c as At,b as Mt}from"./h71lg9jejkufcc57.js";import{B as Ot}from"./jyst6rnznipaffx7.js";import{u as Ft,d as zt}from"./ic7rccsdo5x6ovoh.js";import{a as Rt}from"./hatmfprcm0t26pcx.js";import{a as Vt}from"./epqkr08njby1t19h.js";import{C as Lt}from"./eks5h79t2eeekygs.js";import{a as Dt,C as Ut}from"./f2cwocui2o4rh90z.js";import{M as Bt}from"./knjoyspfheg8zfxl.js";function Gt({clientThreadId:a}){const e=et(r=>r.notifications),i=n.useRef(new Set);return n.useEffect(()=>{e.filter(o=>o.clientThreadId===void 0||a===o.clientThreadId).map(o=>o.id).filter(o=>o!==void 0).forEach(o=>Oe(o)),e.forEach(o=>{o.id&&!i.current.has(o.id)&&(Ee.logEvent("chatgpt_notification_shown"),Se.logEvent("Notifications: Notification Shown to User"),i.current.add(o.id))})},[a,e]),e.length===0||Fe?null:t.jsx("div",{className:"pointer-events-auto fixed end-4 top-8 z-100 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:t.jsx(Ae,{children:e.map(r=>t.jsx(Wt,{...r},r.id))})})}function Kt({notification:a}){return a.icon?t.jsx(st,{size:"medium",className:"border-token-secondary bg-token-main-surface-primary text-token-text-primary rounded-full border",IconComponent:a.icon}):t.jsx(at,{iconName:"openai",size:"medium",className:"border-token-secondary bg-token-main-surface-primary text-token-text-primary rounded-full border"})}function Wt({...a}){const e=$e(),i=Me(),r=Je(),o=ze(a.clientThreadId),c=()=>{Ee.logEvent("chatgpt_notification_clicked"),Se.logEvent("Notifications: User Clicked Notification"),a.onClick!=null?a.onClick():o&&tt(e,i,o),a.id&&Oe(a.id)};return t.jsxs(be.div,{onClick:c,className:"border-token-border-default bg-token-main-surface-primary z-100 inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[t.jsx(Kt,{notification:a}),t.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[t.jsx("div",{className:"text-token-text-primary w-full truncate text-sm font-medium",children:a.title??r.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),a.subtitle&&t.jsx("div",{className:"text-token-text-tertiary w-full truncate text-sm",children:a.subtitle}),a.payload?.display_image_url&&t.jsx("img",{className:"mt-2 h-12 w-12 rounded-xs",src:a.payload.display_image_url,alt:a.payload.image_alt})]})]})}function Ht({clientThreadId:a}){const e=Ft();return t.jsxs(t.Fragment,{children:[e&&t.jsx(zt,{}),t.jsx(Qt,{clientThreadId:a})]})}function Qt({clientThreadId:a}){const e=n.useContext(Vt),[i,r]=n.useState(!!e?.postWithProfile&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(o=>o.kind==="media_generation"));return!e?.postWithProfile||!i?null:t.jsx(it,{clientThreadId:a,children:t.jsx(Rt,{clientThreadId:a,postWithProfile:e.postWithProfile,closeModal:()=>r(!1)})})}const Yt=450;function qt({children:a,clientThreadId:e,isOpen:i,onClose:r,type:o}){return t.jsx(Ae,{children:i&&t.jsx(Re,{children:t.jsx(ot.Provider,{value:{isEmbeddedInFocusedView:!0,type:o},children:t.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[t.jsx(be.div,{className:"bg-token-main-surface-secondary h-full w-full",...Pe}),t.jsxs("div",{className:"absolute inset-0 flex",children:[t.jsx("div",{className:"grow overflow-auto",children:a}),t.jsx(be.div,{className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:Yt},...Pe,children:t.jsx("div",{className:"h-[100vh] pb-4",children:t.jsx(Bt,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})})]})]})})})})}const $t=_e(()=>Ce(()=>import("./h8uvo33rlf3g4aor.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Jt=_e(()=>Ce(()=>import("./b9rt1qz6krkv2f8h.js"),__vite__mapDeps([8,1,2,3,4,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42])).then(a=>a.ImageEditor));function Xt({clientThreadId:a}){const e=rt();n.useEffect(()=>{ye.close()},[a]);let i;return e?.type===Ne.ADAVisualization?i=t.jsx($t,{clientThreadId:a,visualization:e.visualization}):e?.type===Ne.Image&&(i=t.jsx(Jt,{clientThreadId:a,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),t.jsx(qt,{clientThreadId:a,isOpen:e!=null,onClose:ye.close,type:e?.type,children:i})}var Zt={};const es=({children:a})=>t.jsx(t.Fragment,{children:a}),ts=_e(()=>Ce(()=>import("./jrt2h7ljp59jy54q.js"),__vite__mapDeps([43,2,1,3,4,5,14,10,11,15,9,41,26,21,13,16,17,18,19,20,22,23,24,25,42,29,30,27,28,31,32,33,34,35,36,44])));function ps(a){"use forget";const e=Xe.c(96),{urlThreadId:i,clientThreadId:r,prefetchSearch:o}=a,c=Ve(),T=Le(),_=Ie(),[C]=Ze();let I;e[0]!==r||e[1]!==i?(I=()=>{if(i!==void 0){const l=i;return Ue(l)??l}return r!==void 0?r:ke()},e[0]=r,e[1]=i,e[2]=I):I=e[2];const[s,w]=n.useState(I);i!==void 0&&s!==i&&(we(s)===i||w(i));const ge=Ie();let P;e[3]!==ge?(P=nt(ge),e[3]=ge,e[4]=P):P=e[4];const xe=P;let N;e[5]!==s||e[6]!==i?(N=()=>{i===void 0&&we(s)!==void 0&&w(ke())},e[5]=s,e[6]=i,e[7]=N):N=e[7];let S;e[8]!==s||e[9]!==xe||e[10]!==i?(S=[i,s,xe],e[8]=s,e[9]=xe,e[10]=i,e[11]=S):S=e[11],n.useEffect(N,S);const ve=lt(ct.workspaceId),{eligible:A,isLoading:M,markAsViewed:O}=dt(),F=ft(),{eligible:z,isLoading:R,markAsViewed:V}=ut(),L=mt(),{eligible:D,isLoading:U,markAsViewed:B}=ht(),G=pt(),K=gt();let W,H;e[12]!==K?(W=()=>{Be(!0).then(l=>{l.force_login&&K({authType:"login"}),jt.initializeAndGatherData(l),Ge.initializeAndGatherData(l)})},H=[K],e[12]=K,e[13]=W,e[14]=H):(W=e[13],H=e[14]),n.useEffect(W,H);let Q,Y;e[15]!==T||e[16]!==c||e[17]!==C?(Q=()=>{const l=C.get(bt)==="true",k=C.get(yt)==="true";k!==T&&Te.setIsAnonModeEnabled(k),c!==l&&Te.setIsTemporaryChatEnabled(l)},Y=[c,T,C],e[15]=T,e[16]=c,e[17]=C,e[18]=Q,e[19]=Y):(Q=e[18],Y=e[19]),n.useEffect(Q,Y);let q;e[20]!==_.state?(q=()=>{_.state?.focusObject&&ye.setFocusedObject(_.state.focusObject)},e[20]=_.state,e[21]=q):q=e[21];const je=_.state?.focusObject;let $;e[22]!==je?($=[je],e[22]=je,e[23]=$):$=e[23],n.useEffect(q,$);let J,X;e[24]!==A||e[25]!==M||e[26]!==O||e[27]!==F?(J=()=>{!M&&A&&(O(),F())},X=[A,M,O,F],e[24]=A,e[25]=M,e[26]=O,e[27]=F,e[28]=J,e[29]=X):(J=e[28],X=e[29]),n.useEffect(J,X);let Z,ee;e[30]!==z||e[31]!==R||e[32]!==V||e[33]!==L?(Z=()=>{!R&&z&&(V(),L())},ee=[z,R,V,L],e[30]=z,e[31]=R,e[32]=V,e[33]=L,e[34]=Z,e[35]=ee):(Z=e[34],ee=e[35]),n.useEffect(Z,ee);let te,se;e[36]!==D||e[37]!==U||e[38]!==B||e[39]!==G?(te=()=>{!U&&D&&(B(),G())},se=[D,U,B,G],e[36]=D,e[37]=U,e[38]=B,e[39]=G,e[40]=te,e[41]=se):(te=e[40],se=e[41]),n.useEffect(te,se),At(s);const d=Me(),ae=De();let ie,oe;e[42]!==ae||e[43]!==d?(ie=()=>{Ke(ae)&&Ee.checkGate("1661641186")&&d.fetchQuery({queryKey:["recent","images","bootstrap"],queryFn:ss})},oe=[d,ae],e[42]=ae,e[43]=d,e[44]=ie,e[45]=oe):(ie=e[44],oe=e[45]),n.useEffect(ie,oe);let re,ne;e[46]!==c||e[47]!==d?(re=()=>We(Ye,{completionFinished:l=>{if(l.serverThreadId!=null&&!c){const k=He(l.serverThreadId)?.mode;k?.kind===Qe.GizmoInteraction&&Et.handleGizmoInteracted(d,k.gizmo_id)}}}),ne=[c,d],e[46]=c,e[47]=d,e[48]=re,e[49]=ne):(re=e[48],ne=e[49]),n.useEffect(re,ne);let f;e[50]!==s||e[51]!==ve?(f=t.jsx(Ot,{clientThreadId:s},ve),e[50]=s,e[51]=ve,e[52]=f):f=e[52];let u;e[53]!==s?(u=t.jsx(as,{clientThreadId:s,setClientThreadId:w}),e[53]=s,e[54]=u):u=e[54];let le,ce,de;e[55]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(_t,{}),ce=t.jsx(Ct,{}),de=t.jsx(wt,{}),e[55]=le,e[56]=ce,e[57]=de):(le=e[55],ce=e[56],de=e[57]);let fe;e[58]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(kt,{}),e[58]=fe):fe=e[58];let m;e[59]!==s||e[60]!==i?(m=t.jsx(Lt,{urlThreadId:i,clientThreadId:s,setClientThreadId:w}),e[59]=s,e[60]=i,e[61]=m):m=e[61];let h;e[62]!==s?(h=t.jsx(Ht,{clientThreadId:s}),e[62]=s,e[63]=h):h=e[63];let p;e[64]!==s||e[65]!==o||e[66]!==m||e[67]!==h?(p=t.jsxs(Dt,{clientThreadId:s,setClientThreadId:w,prefetchSearchPromises:o,children:[fe,m,h]}),e[64]=s,e[65]=o,e[66]=m,e[67]=h,e[68]=p):p=e[68];let g;e[69]!==s||e[70]!==f||e[71]!==u||e[72]!==p?(g=t.jsxs(Ut,{clientThreadId:s,children:[f,u,le,ce,de,p]}),e[69]=s,e[70]=f,e[71]=u,e[72]=p,e[73]=g):g=e[73];let x,v;e[74]!==s?(x=t.jsx(Xt,{clientThreadId:s}),v=t.jsx(Tt,{clientThreadId:s}),e[74]=s,e[75]=x,e[76]=v):(x=e[75],v=e[76]);let ue;e[77]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(It,{}),e[77]=ue):ue=e[77];let j;e[78]!==s?(j=t.jsx(Gt,{clientThreadId:s}),e[78]=s,e[79]=j):j=e[79];let me;e[80]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Pt,{}),e[80]=me):me=e[80];let b;e[81]!==s||e[82]!==g||e[83]!==x||e[84]!==v||e[85]!==j?(b=t.jsxs(Nt,{clientThreadId:s,children:[g,x,v,ue,j,me]}),e[81]=s,e[82]=g,e[83]=x,e[84]=v,e[85]=j,e[86]=b):b=e[86];let y;e[87]!==s||e[88]!==b?(y=t.jsx(es,{clientThreadId:s,children:b}),e[87]=s,e[88]=b,e[89]=y):y=e[89];let E;e[90]!==s||e[91]!==y?(E=t.jsx(St,{clientThreadId:s,children:y}),e[90]=s,e[91]=y,e[92]=E):E=e[92];let he;e[93]===Symbol.for("react.memo_cache_sentinel")?(he=!1,e[93]=he):he=e[93];let pe;return e[94]!==E?(pe=t.jsx(xt.Provider,{value:null,children:t.jsxs(vt,{children:[E,he]})}),e[94]=E,e[95]=pe):pe=e[95],pe}function ss(){return qe.safeGet("/images/bootstrap",{})}function as({clientThreadId:a,setClientThreadId:e}){const{isOpen:i,isLoading:r}=Mt();return!r&&i?t.jsx(ts,{clientThreadId:a,setClientThreadId:e}):null}typeof window<"u"&&(window._g=Zt.GOKU_SERVICE);export{ps as C,Yt as F};
//# sourceMappingURL=oo78njukxzwusnrs.js.map

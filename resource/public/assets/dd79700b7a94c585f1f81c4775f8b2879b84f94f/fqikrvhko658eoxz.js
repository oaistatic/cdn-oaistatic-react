import{_ as S,h as L,B as b,c as P,f as A,j as H,aV as R,gA as G,o as F,fd as W}from"./eb6xg52mym6rhnsh.js";import{f as O,j as e,M as c,d as B,r as n,a9 as D,p as _}from"./cs2gapsc2bulabhw.js";import{fu as Y,ia as U,b3 as C,d1 as V,ib as q,ac as z,a2 as T}from"./pduvb49qgyq1mqhk.js";import{b as Q,a as Z}from"./fb2gj4fu6zbut62o.js";import{R as K}from"./f2w8jxzlbj8qlw2y.js";import{W as J}from"./gn8hoowjr3gjt16v.js";import{u as X,M as E}from"./xkjpwcwg3beo63d6.js";import"./kmvt5g0oz7ekj3ft.js";import"./ic7rccsdo5x6ovoh.js";import"./c1w85nn5shpnb9e0.js";import"./f2cwocui2o4rh90z.js";import"./do5nmvaddt7ak8xi.js";import"./e95x0gs5di7mq1tw.js";import"./ggve90in2x9hqouv.js";import"./nlj97v8clhezwsxr.js";import"./bzo48ft2wb6beuij.js";import"./otrhg4fwlde4g25l.js";import"./epqkr08njby1t19h.js";import"./7u88g4wa9fostszz.js";import"./codkr9xsn28rihk7.js";import"./h71lg9jejkufcc57.js";import"./l9t7qwwrq1pkwdh1.js";import"./ec6jcwftshefgs7y.js";import"./flul5lgejanvmzis.js";import"./ke1leuxpoxd60g1m.js";import"./dugtojg1blcdqewy.js";import"./lzqtvz4ppmzufktl.js";const $=Y({animationLoader:()=>S(()=>import("./gjrl2aufh1vdxhjl.js"),[]),StaticIcon:U});function ee({closeModal:t,setupMfa:a}){const d=O();return e.jsxs(L,{isOpen:!0,onClose:t,type:"success",title:d.formatMessage({id:"wham.mfaExplanationModal.title",defaultMessage:"Codex requires multi-factor authentication"}),testId:"modal-mfa-explanation-modal",showCloseButton:!0,children:[e.jsx("div",{className:"text-token-text-primary text-sm",children:e.jsx(c,{id:"wham.mfaExplanationModal.description",defaultMessage:"Codex requires you to connect your GitHub account to ChatGPT. Multi-factor authentication (MFA) adds an extra layer of security, keeping your GitHub account and repositories safe."})}),e.jsx("div",{className:"flex justify-end gap-2 pt-6",children:e.jsx(b,{color:"primary",onClick:()=>{C.recordConnectionsClickSetupMfa(),a()},children:e.jsx(c,{id:"wham.mfaExplanationModal.close",defaultMessage:"Set up MFA"})})})]})}const te="https://persistent.oaistatic.com/chatgpt/codex-draft-pr-2.png",ne="https://persistent.oaistatic.com/chatgpt/codex-navigate-2.png",oe="https://persistent.oaistatic.com/chatgpt/codex-runs-test-2.png",se="https://persistent.oaistatic.com/chatgpt/codex-powered-o3-3.png";function ae({goToNextPage:t}){const a=O(),d=X(),m=A(),o=H(),{enabled:r,isLoading:l}=Q(),[u,i]=n.useState(!1),g=R(m,"2817015689"),x=n.useCallback(()=>{o.danger(a.formatMessage({id:"2Z2ypW",defaultMessage:"Error fetching connector, please ensure github is enabled for your account"}))},[a,o]),p=n.useCallback(()=>{o.danger(a.formatMessage({id:"2Z2ypW",defaultMessage:"Error fetching connector, please ensure github is enabled for your account"}))},[a,o]),{isConnected:s,isLoading:f,connect:h,error:k,refetch:v}=Z(G.GITHUB_CONNECTOR,"github","/codex/onboarding/environment",x,p),M=location.pathname+"&mfa=true",{setupMfa:j}=q({redirectUrl:M}),[N]=_(),w=N.get("mfa");return n.useEffect(()=>{w==="true"&&!s&&!f&&h()},[h,f,s,w]),d.status===E.LOADING||f||l?e.jsx("div",{className:"flex w-full items-center justify-end",children:e.jsx(b,{loading:!0,color:"primary",children:e.jsx(c,{id:"wham.codexOnboardingConnections.loading",defaultMessage:"Loading..."})})}):r?k?e.jsx("div",{className:"flex w-full items-center justify-end",children:e.jsx(K,{refetchConnectorData:v})}):g&&d.status===E.DISABLED?e.jsxs("div",{className:"flex w-full items-center justify-end gap-4",children:[e.jsx("div",{className:"text-token-text-tertiary text-sm font-medium",children:e.jsx(c,{id:"wham.codexOnboardingConnections.mfaDisabled",defaultMessage:"Codex requires multi-factor auth (<why>why?</why>)",values:{why:y=>e.jsx("button",{type:"button",className:"underline",onClick:()=>F(m,ee,{setupMfa:j}),children:y})}})}),e.jsx(b,{color:"primary",onClick:()=>{i(!0),C.recordConnectionsClickSetupMfa(),j()},loading:u,children:e.jsx(c,{id:"wham.codexOnboardingConnections.enableMfa",defaultMessage:"Set up MFA to continue"})})]}):e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(b,{icon:s?void 0:T,color:"primary",loading:f||u,onClick:s?t:()=>{i(!0),C.recordConnectionsClickConnectGithub(),h()},children:f?e.jsx(c,{id:"wham.codexOnboardingConnections.connecting",defaultMessage:"Loadingâ€¦"}):s?e.jsx(c,{id:"wham.codexOnboardingConnections.continue",defaultMessage:"Continue"}):e.jsx(c,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"})})}):e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(z,{label:a.formatMessage({id:"wham.codexOnboardingConnections.githubDisabledByAdmin",defaultMessage:"Disabled by workspace admin"}),children:e.jsx(b,{icon:T,color:"primary",disabled:!0,children:e.jsx(c,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"})})})})}function I({title:t,description:a,onHover:d,onLeave:m,isHovered:o}){return e.jsxs("div",{className:P("hover:bg-token-bg-tertiary flex flex-col items-start justify-start self-stretch rounded-xl p-4",o&&"bg-token-bg-tertiary"),onMouseEnter:d,onMouseLeave:m,children:[e.jsx("div",{className:"text-token-text-primary text-sm leading-snug font-medium",children:t}),e.jsx("div",{className:"text-token-text-secondary text-sm leading-snug font-normal",children:a})]})}function ie(){return e.jsx(J,{topPadding:!0,showSidebar:!1,canShowAlert:!1,hideExtraHeaderInfo:!0,children:e.jsx(re,{})})}function re(){const t=O(),{eligible:a,isLoading:d}=V(),m=B(),[o,r]=n.useState(null),[l,u]=n.useState(0),i=n.useRef(null);n.useEffect(()=>{C.recordConnectionsView()},[]);const g=n.useCallback(()=>{i.current=setInterval(()=>{u(M=>(M+1)%s.length)},4e3)},[]),x=n.useCallback(()=>{i.current&&clearInterval(i.current),g()},[g]),p=n.useCallback(()=>{i.current&&(clearInterval(i.current),i.current=null)},[]);n.useEffect(()=>(g(),()=>{i.current&&clearInterval(i.current)}),[g]);const s=n.useMemo(()=>[te,ne,oe,se],[]),[f,h]=n.useState(!1);n.useEffect(()=>{(async()=>{const j=s.map(N=>new Promise(w=>{const y=new Image;y.src=N,y.onload=w}));await Promise.all(j),h(!0)})()},[s]);const k=n.useCallback(()=>{m("/codex/onboarding/environment"),C.recordClickEnv()},[m]);if(d||!f)return null;if(!a)return e.jsx(D,{to:"/codex"});const v=o!=null&&s[o]?s[o]:s[l];return e.jsx("div",{className:"flex h-full p-4 md:p-24",children:e.jsx("div",{className:"mx-auto flex h-full w-4xl flex-col gap-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2 flex flex-col gap-4 sm:col-span-1",children:[e.jsx("div",{className:"text-token-text-primary w-full justify-start ps-4 text-xl leading-7 font-medium",children:e.jsx(c,{id:"wham.codexOnboardingConnections.thingsYouShouldKnow",defaultMessage:"Your software engineering agent"})}),e.jsx(I,{title:t.formatMessage({id:"wham.codexOnboardingConnections.yourCodingAgentInTheCloud",defaultMessage:"Drafts GitHub PRs in parallel"}),description:t.formatMessage({id:"wham.codexOnboardingConnections.codexRunsInItsOwnEnvironmentInTheCloudAndVerifiesItsWorkWithoutTyingUpYourLocalMachine",defaultMessage:"Get a first pass for every bugfix, doc update, or small feature."}),onHover:()=>{r(0),u(0),p()},onLeave:()=>{r(null),x()},isHovered:l===0||o===0}),e.jsx(I,{title:t.formatMessage({id:"wham.codexOnboardingConnections.optimizedForFocusedTasks",defaultMessage:"Navigates your codebase"}),description:t.formatMessage({id:"wham.codexOnboardingConnections.idealForQuickBugFixesSmallRefactorsOrContainedFeatureWorkThatCanBeDelegated",defaultMessage:"Finds bugs, reviews code, and suggests improvements."}),onHover:()=>{r(1),u(1),p()},onLeave:()=>{r(null),x()},isHovered:l===1||o===1}),e.jsx(I,{title:t.formatMessage({id:"wham.codexOnboardingConnections.automatedBuildTestLoop",defaultMessage:"Runs lint and tests"}),description:t.formatMessage({id:"wham.codexOnboardingConnections.theAgentIterativelyWritesCodeRunsYourLintOrTestCommandsAndVerifiesResultsUsingToolsInYourRepo",defaultMessage:"Set up dependencies to enable execution."}),onHover:()=>{r(2),u(2),p()},onLeave:()=>{r(null),x()},isHovered:l===2||o===2}),e.jsx(I,{title:t.formatMessage({id:"wham.codexOnboardingConnections.parallelQueues",defaultMessage:"Powered by a new coding model"}),description:t.formatMessage({id:"wham.codexOnboardingConnections.mostTasksWrapUpInAboutTenMinutesAndYouCanLaunchSeveralInParallelToMoveEvenFaster",defaultMessage:"Fine-tuned to work in large codebases."}),onHover:()=>{r(3),u(3),p()},onLeave:()=>{r(null),x()},isHovered:l===3||o===3})]}),e.jsx("div",{className:"col-span-2 flex w-full flex-col gap-4 rounded-lg sm:col-span-1",children:l===3?e.jsxs("div",{className:"relative flex min-h-[200px] w-full items-center justify-center",children:[e.jsx("img",{className:"border-token-border-light h-auto w-full rounded-xl object-cover",src:v,alt:t.formatMessage({id:"wham.codexOnboardingConnections.codexOnboardingIllustration",defaultMessage:"Codex onboarding illustration"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx($,{className:"h-32 w-32 text-white",matchTextColor:!0,loop:!1})})]}):e.jsx("img",{className:"border-token-border-light rounded-xl",src:v,alt:t.formatMessage({id:"wham.codexOnboardingConnections.codexOnboardingIllustration",defaultMessage:"Codex onboarding illustration"})})}),e.jsx("div",{className:"col-span-2 mb-8 flex w-full pt-4",children:e.jsx(ae,{goToNextPage:k})})]})})})}const He=()=>[{title:"Codex"}],Re=W(function(){return e.jsx(ie,{})});export{Re as default,He as meta};
//# sourceMappingURL=fqikrvhko658eoxz.js.map

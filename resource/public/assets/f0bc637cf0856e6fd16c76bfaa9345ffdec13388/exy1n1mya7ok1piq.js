import{f as x,j as e,M as i,d as N,r as c,b as D,h as F,a as _,A as R,e as G,m as B}from"./m60bpb0x3x7rg8fj.js";import{aZ as v,o7 as z,b2 as L,aq as H,P as u,B as f,f as W,e as X,Z as Y,b3 as Z,bb as $,bR as q}from"./lgw4q0e8zlqqfgug.js";import{S as b,c as V,P as U,a as E,b as J}from"./ba54kdz6o3zn0skc.js";import{aZ as K,eA as Q,eJ as ee,jN as ae,i0 as te}from"./ggjzadbnd3k1vu0k.js";import{a as se}from"./hzuwclo1fy1q03ik.js";import{c as ne}from"./iej0cupg2dqkmejt.js";import{u as oe,m as re}from"./jh57htegso1fdrwn.js";import{G as ie}from"./osps6mdg8uoxvua3.js";function ce({workspaceName:t,onChangeWorkspaceName:a,showHeader:s=!0}){const n=x();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(i,{...w.workspaceNameLabel})}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(i,{...w.workspaceNameDescription})})]}),e.jsx(K,{className:"w-full",type:"text",name:"workspace-name",placeholder:n.formatMessage(w.exampleTeamWorkspaceName),value:t,onChange:o=>a(o.target.value),maxLength:64})]})}const w=N({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Set a workspace name for your team. The name can be changed at any time."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}});function le({onNext:t}){const a=v();return a?e.jsx(de,{onNext:t,currentAccount:a}):e.jsx(z,{})}function de({onNext:t,currentAccount:a}){const s=x(),n=L(),o=H(),l=a.data,h=Q(s,a,o),[r,S]=c.useState(h||""),[C]=D(),g=C.get("account_id"),j=oe(g??a.data.id),y=c.useCallback(async()=>{if(!a)return;const m=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Clicked",m);try{r!==l.name&&(await j.mutateAsync({name:r}),u.logEvent("Account Pay: Create Workspace Modal Renamed",m)),t()}catch{n.warning(s.formatMessage(re.saveError),{hasCloseButton:!0})}},[a,l.name,s,t,j,n,r]);return c.useEffect(()=>{if(!a)return;const m=a.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Show",m)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(i,{...ee.nameWorkspace})}),e.jsx(V,{children:e.jsx(ce,{workspaceName:r,onChangeWorkspaceName:S,showHeader:!1})}),e.jsx(f,{loading:j.isPending||a==null,onClick:()=>{y()},disabled:r.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(i,{...W.continueButtonText})})]})}var I=(t=>(t.Landing="landing",t.Setup="setup",t.Naming="naming",t.Invite="invite",t.CAOnboarding="caOnboarding",t.Complete="complete",t))(I||{});const ue={enter:t=>({translateX:t>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:t=>({translateX:t<=0?"50%":"-50%",opacity:0})},P=["landing","naming","invite","caOnboarding","complete"];function me(){const t=F(),a=_(),{currentPath:s,currentStep:n}=ke(),o=X(),l=x(),h=L(),[r,S]=c.useState(1),[C]=D(),g=C.get("account_id"),j=Y(o,"2239990662");function y(){j.get("should_hard_navigate_to_root_path_for_team",!1)?window.location.href="/":a("/")}c.useEffect(()=>{function p(){S(-1)}return window.addEventListener("popstate",p),()=>{window.removeEventListener("popstate",p)}},[]);const m=()=>{S(1);let p=P.indexOf(n);const M=P[p+1],A=M==="caOnboarding"?$(o,"555825174").get("enabled",!1):!1;M==="caOnboarding"&&u.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:g,experimentFlag:A}),M==="caOnboarding"&&!A&&p++;const O=p+1;g||y(),p!==-1&&O<P.length&&a(s+"#"+P[O])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(R,{mode:"wait",custom:r,children:[n==="landing"&&e.jsx(k,{initial:!1,custom:r,children:e.jsx(pe,{onNext:m})},"landing"),n==="naming"&&e.jsx(k,{initial:!1,custom:r,children:e.jsx(le,{onNext:m})},"naming"),n==="invite"&&e.jsx(k,{custom:r,children:e.jsx(ge,{onNext:m})},"invite"),n==="caOnboarding"&&e.jsx(k,{custom:r,children:e.jsx(he,{onNext:m})},"caOnboarding"),n==="complete"&&e.jsx(k,{custom:r,children:e.jsx(je,{onNext:()=>{m(),g&&Z(t,g,o,l,h),y()}})},"complete")]})})}const k=t=>e.jsx(B.div,{initial:"enter",animate:"center",exit:"exit",variants:ue,transition:{translateX:{type:"just"},opacity:{duration:.2}},...t});function pe({onNext:t}){const a=v(),s=c.useCallback(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,l=new URLSearchParams(window.location.search).get("referrer")||document.referrer;u.logEvent("Account Pay: Payment Confirmation Modal Clicked",{...n,referrer:l})},[a]);return c.useEffect(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,l=new URLSearchParams(window.location.search).get("referrer")||document.referrer;u.logEvent("Account Pay: Payment Confirmation Modal Show",{...n,referrer:l})},[a]),e.jsxs(e.Fragment,{children:[e.jsx(U,{isTrial:!1}),e.jsx(b,{children:e.jsx(i,{...d.standard})}),e.jsx(E,{children:e.jsx(i,{...d.description})}),e.jsx(f,{onClick:()=>{t(),s()},size:"large",loading:a==null,fullWidth:!0,children:e.jsx(i,{...W.continueButtonText})})]})}function ge({onNext:t}){const a=x(),s=v(),{data:n}=ae(),o=c.useMemo(()=>s?.subscriptionAnalyticsParams,[s]);return c.useEffect(()=>{s!=null&&u.logEvent("Account Pay: Invite Collaborators Modal Show",o)},[o,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(i,{...d.inviteTitle,values:{seatCount:n.seats_entitled,workspaceName:s.data.name}})}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(i,{...d.completeDescription})}),e.jsx(se,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:a.formatMessage(d.skipAddMembers),onCancel:t,onSuccess:t,seatCount:n.seats_entitled})]})}const fe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",xe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function he({onNext:t}){const a=x(),s=v(),[n,o]=c.useState(!1),[l,h]=c.useState(!1);return c.useEffect(()=>{if(!s)return;const r=s.subscriptionAnalyticsParams;u.logEvent("Account Pay: Contextual Answers Step Shown",r)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-max-[384px] h-max-[170px] relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:fe,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>h(!0)}),!l&&e.jsx("img",{src:xe,alt:a.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:a.formatMessage(d.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:a.formatMessage(d.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(f,{onClick:()=>o(!0),icon:q,size:"large",fullWidth:!0,children:a.formatMessage(d.caOnboardingConnectButton)}),e.jsx(f,{onClick:()=>t(),size:"large",fullWidth:!0,color:"ghost",children:a.formatMessage(d.skipCaOnboarding)})]}),n&&e.jsx(ie,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:r=>{o(!1),r&&t()}})]})}function je({onNext:t}){const a=v(),s=c.useMemo(()=>a?.subscriptionAnalyticsParams,[a]);c.useEffect(()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(i,{...d.completeTitle})}),e.jsx(E,{children:e.jsx(i,{...d.completeDescription})}),e.jsx(f,{onClick:()=>{t(),n()},size:"large",fullWidth:!0,children:e.jsx(i,{...d.continueToChatgpt})})]})}function ke(){const{hash:t,pathname:a,search:s}=G(),n=t.slice(1);return{currentStep:ve(n)?n:"landing",currentPath:a+s}}const ve=ne(I),d=N({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function We({isTrial:t,isTeam:a}){const s=x(),n=_(),o=c.useCallback(l=>{l.preventDefault(),u.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs(J,{children:[e.jsx(te,{children:e.jsx("title",{children:s.formatMessage(T.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:a?e.jsx(me,{}):e.jsx(be,{isTrial:t,onContinue:o})})]})}function be({isTrial:t,onContinue:a}){const s=t?T.trial:T.standard;return e.jsxs(e.Fragment,{children:[e.jsx(U,{isTrial:!!t}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(b,{children:e.jsx(i,{...s})}),e.jsx(E,{children:e.jsx(i,{...T.paymentReceived})}),e.jsx(f,{onClick:a,size:"large",fullWidth:!0,children:e.jsx(i,{...W.continueButtonText})})]})]})}const T=N({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{We as P};
//# sourceMappingURL=exy1n1mya7ok1piq.js.map

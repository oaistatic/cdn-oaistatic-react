import{m7 as m,f0 as p,dk as h,dl as c,cu as u,hD as f,S,R as l}from"./lgw4q0e8zlqqfgug.js";import{O as x,j as r,u as v,r as s}from"./m60bpb0x3x7rg8fj.js";import{C}from"./j4imjyyfxliz5sk5.js";import"./ggjzadbnd3k1vu0k.js";import"./haz15z4nq3d0dq7v.js";import"./mlqzrqe1i57m6im6.js";import"./d4l47j95cc16bbv9.js";import"./mlo67gs1ylzshmge.js";import"./h81zqbvh0a7amk0o.js";import"./l9bupap4fyh5egbo.js";import"./dgb06x9f8z6d0ar9.js";import"./jobqnbdildqzowzf.js";import"./ls4akj6tri7bc2dz.js";import"./glu06a3y5u0laqff.js";import"./iayy5u2a26jybmdr.js";import"./gohr301ka7cpfe4s.js";import"./hg4s4237azdb5era.js";import"./kfjcy5y4cxuymbdf.js";import"./rx5cs0ja7c7phupc.js";import"./n5yj38pa2aamrsfp.js";import"./ccw262xxu17g34lw.js";import"./hbir13mtq07o9x1a.js";import"./o53bheyqocotqvus.js";import"./dfbgvqz3f2t2gfhn.js";import"./hzuwclo1fy1q03ik.js";import"./hb68k3oakb3tiftg.js";import"./nn6a4342otoakkr2.js";function _(o){const t=o.sharedConversationId,{data:e,isError:i}=v({queryKey:[`shared-conversation/${t}`],queryFn:()=>l.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),[a]=s.useState(()=>p()),[n,d]=s.useState(!1);return s.useEffect(()=>{i&&(window.location.href=h(c.SHARE_NOT_FOUND))},[i]),s.useEffect(()=>{e&&a&&(u.updateThreadFromServer(a,e,{skipIfExisting:!0,continuingFromSharedConversationId:t}),d(!0))},[e,t,a]),n&&e?r.jsx(f.Provider,{value:{serverSharedThreadId:o.sharedConversationId},children:r.jsx(C,{...o.chatPageProps,clientThreadId:a})}):r.jsx("div",{className:"flex h-full items-center justify-center",children:r.jsx(S,{className:"text-token-text-tertiary"})})}const z=m(function(){const{sharedConversationId:t,...e}=x();return r.jsx(_,{...e,sharedConversationId:t})});export{z as default};
//# sourceMappingURL=el5b61dupeiz0l27.js.map

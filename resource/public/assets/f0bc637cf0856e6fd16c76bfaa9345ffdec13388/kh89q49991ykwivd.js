import{hF as u,qi as o}from"./lgw4q0e8zlqqfgug.js";function p(t){return"children"in t}const v=t=>t.type==="text"&&"value"in t&&typeof t.value=="string",a="hiveTranscript",c=/(::hiveTranscript\{([^}]+)\})/g,E=/\btimestamp\s*=\s*["']?(\d+)["']?(?=\s|,|$)/,f=()=>t=>{u(t,e=>{if(e.type!=="paragraph"&&e.type!=="tableCell"||!p(e)||!Array.isArray(e.children))return;const r=[];for(const i of e.children)if(v(i)&&i.value.includes(`::${a}`)){let s=0,n;for(;(n=c.exec(i.value))!=null;){n.index>s&&r.push({type:"text",value:i.value.slice(s,n.index)});const h=n[2],l=E.exec(h)?.[1];l&&Number.isInteger(Number(l))&&r.push({type:"textDirective",name:a,attributes:{timestamp:l},data:{hName:a,hProperties:{timestamp:l}},children:[],position:i.position}),s=c.lastIndex}s<i.value.length&&r.push({type:"text",value:i.value.slice(s)})}else r.push(i);e.children=r})},I=Object.freeze(Object.defineProperty({__proto__:null,HIVE_LOG_DIRECTIVE_NAME:a,hiveLogDirectivePlugin:f},Symbol.toStringTag,{value:"Module"})),_=[o,a],T=()=>t=>{u(t,"textDirective",e=>{_.includes(e.name)||(e.type="text",e.value=`:${e.name}`)})};export{a as H,f as a,I as b,T as f,_ as h,p as i};
//# sourceMappingURL=kh89q49991ykwivd.js.map

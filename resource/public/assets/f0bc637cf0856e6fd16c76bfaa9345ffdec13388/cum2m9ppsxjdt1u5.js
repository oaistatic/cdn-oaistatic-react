import{j as i,m as l,d as O,r as E,M as c}from"./m60bpb0x3x7rg8fj.js";import{z as p,gC as R,fv as b,cs as D,P as M,du as A}from"./lgw4q0e8zlqqfgug.js";import{hP as P,dl as I,dm as e,l4 as T,eX as k,l5 as H}from"./ggjzadbnd3k1vu0k.js";import{i as V}from"./ns51nblw8ziscsgd.js";import{N as F}from"./jy1u8exw8iz2slve.js";import{u as q}from"./9q3v44p2xpoi75pn.js";const Q=({gap:s,padding:r=4,size:t=3})=>i.jsx(l.div,{className:p("grid h-full max-w-full flex-1 grid-cols-3 items-center"),style:{gap:s,padding:r},children:P(3,a=>i.jsx(l.div,{className:"dark:bg-white-400 aspect-square rounded-full bg-gray-400",animate:{translateY:["0%","-50%","0%","0%","0%"]},style:{translateX:.5,width:t,height:t},transition:{repeat:1/0,type:"keyframes",delay:a/10,duration:.7}},a))});var d=(s=>(s.javascript="javascript",s.typescript="typescript",s.bash="bash",s.zsh="zsh",s.html="html",s.css="css",s.python="python",s.json="json",s.sql="sql",s.go="go",s.yaml="yaml",s.java="java",s.rust="rust",s.cpp="cpp",s.swift="swift",s.php="php",s.xml="xml",s.ruby="ruby",s.haskell="haskell",s.kotlin="kotlin",s.csharp="csharp",s.c="c",s.objectivec="objectivec",s.r="r",s.lua="lua",s.dart="dart",s.scala="scala",s.perl="perl",s.commonlisp="commonlisp",s.clojure="clojure",s.ocaml="ocaml",s.powershell="powershell",s.verilog="verilog",s.dockerfile="dockerfile",s.vue="vue",s.other="other",s))(d||{});function x(s){if(I(s))switch(s){case e.CODE_REACT:return"typescript";default:return R(s.replace(/^code\//,""),Object.values(d),"other")}}function S(s){return s.includes("'react'")||s.includes('"react"')}function Z(s,r){switch(s){case e.CODE_HTML:case e.CODE_REACT:return!0;case e.CODE_JAVASCRIPT:case e.CODE_TYPESCRIPT:return S(r);default:return!1}}function $(s){return b([e.CODE_PYTHON],s)}function g(s,r){let t=x(s)??null;return(S(r)||s===e.CODE_REACT)&&(t="react"),t&&V(t)?t:null}const B=36,L=-24,G=280,ss=G+B,ts=40;var U=(s=>(s.COLLAPSED="collapsed",s.EXPANDED="expanded",s))(U||{});function rs({isDisabled:s=!1,isCodePreviewable:r=!1,isCodeRunning:t,disabledTooltip:a,clientThreadId:m,onClick:j}){const[o,u]=E.useState(t),[{width:h},_]=q();E.useEffect(()=>{let y=null;return!t||r?u(t):(y=setTimeout(()=>{u(t)},200),()=>clearTimeout(y))},[t,r]);const w=()=>({conversation_id:m?A(m):void 0}),N=()=>{M.logEventWithStatsig("Canvas Run Code Button Clicked","chatgpt_canvas_run_code_button_clicked",w()),setTimeout(()=>j?.())},f=i.jsx(l.button,{disabled:s||t&&!o,onClick:N,className:p("btn btn-primary ms-1 rounded-full sm:min-w-28",o?p(F,"border-transparent"):"hover:bg-opacity-90"),animate:{width:h??0},initial:{width:h??0},transition:{type:"spring",bounce:.24,duration:.4},children:i.jsx("div",{ref:_,children:o?i.jsxs(l.div,{className:"flex items-center gap-1.5 ps-1 pe-1 sm:ps-2 sm:pe-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[i.jsx(T,{className:"icon"}),i.jsx("span",{className:"hidden sm:inline",children:i.jsx(c,{...n.stopCode})})]}):i.jsxs(l.div,{className:"flex items-center gap-1.5 ps-1 pe-1 sm:ps-2 sm:pe-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[i.jsx(k,{className:"icon"}),i.jsx("span",{className:"hidden whitespace-nowrap sm:inline",children:i.jsx(c,{...r?n.previewCode:n.runCode})})]})})}),v=s&&a?a:t?null:i.jsx(c,{...r?n.previewCodeTooltip:n.runCodeTooltip});return v?i.jsx(D,{label:v,children:f}):f}const n=O({previewCode:{id:"M1TBxe",defaultMessage:"Preview"},runCode:{id:"LiKr5n",defaultMessage:"Run code"},stopCode:{id:"nCwG4+",defaultMessage:"Stop"},runCodeTooltip:{id:"UeNB/S",defaultMessage:"See output and debug"},previewCodeTooltip:{id:"/qJKMH",defaultMessage:"Preview in canvas"}});class W{constructor(r){this.params=r}get isReadonly(){return Object.values(this.params).some(r=>!!r)}get isHistoricalVersion(){return!!this.params.isHistoricalVersion}get isStreaming(){return!!this.params.isTextdocStreaming||!!this.params.isRequestActive}get isTextdocStreaming(){return!!this.params.isTextdocStreaming}get isStreamingFromNative(){return this.isStreaming&&this.params.streamingSource===H.NATIVE}get isRestoring(){return!!this.params.isRestoring}get isShowingChanges(){return!!this.params.isShowingChanges}get isReadonlyFromQueryParam(){return!!this.params.isReadonlyFromQueryParam}}const is=s=>new W(s);export{ts as C,G as E,U as G,Q as T,is as a,x as b,ss as c,$ as d,rs as e,d as f,g,B as h,Z as i,L as j,n as m};
//# sourceMappingURL=cum2m9ppsxjdt1u5.js.map

import{c as D,f as F,r as v,j as t,M as G}from"./m60bpb0x3x7rg8fj.js";import{bG as z}from"./ggjzadbnd3k1vu0k.js";import{z as h,cs as I,ho as C}from"./lgw4q0e8zlqqfgug.js";const H=50;function E({className:u,delay:e=H,height:a,width:f}){const[x,r]=v.useState(!1);return v.useEffect(()=>{const o=setTimeout(()=>{r(!0)},e);return()=>{clearTimeout(o)}},[e]),x?t.jsx("div",{className:"flex max-h-full max-w-full items-center justify-center",style:{width:f,height:a,aspectRatio:`${f} / ${a}`},children:t.jsx("div",{className:h("bg-token-border-default h-full w-full animate-pulse",u)})}):null}function Y(u){"use forget";const e=D.c(19),{allRepos:a,enableScroll:f,fetchNextPage:x,hasNextPage:r,isFetchingNextPage:o,isLoading:i,onChange:j,searchTerm:N,selectedRepos:c}=u,l=f===void 0?!0:f,S=F(),w=v.useRef(null),R=v.useRef(null),b=z(),M=c.size>=b;let p;e[0]!==x||e[1]!==r||e[2]!==o||e[3]!==i?(p=s=>{if(i||s==null)return;const n=new IntersectionObserver(d=>{d[0].isIntersecting&&!o&&r&&x()});return n.observe(s),()=>{n.disconnect()}},e[0]=x,e[1]=r,e[2]=o,e[3]=i,e[4]=p):p=e[4];const T=p;let k,g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=Array.from({length:6}).map(A),e[5]=g):g=e[5],k=g;const L=k;let y;return e[6]!==a||e[7]!==l||e[8]!==r||e[9]!==T||e[10]!==S||e[11]!==o||e[12]!==i||e[13]!==M||e[14]!==b||e[15]!==j||e[16]!==N||e[17]!==c?(y=t.jsx(t.Fragment,{children:i?t.jsx("div",{className:"h-[300px]",children:L.map(P)}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:h("relative flex flex-col",l&&"overflow-y-auto"),children:[l&&t.jsx("div",{ref:w,className:h("from-token-bg-primary pointer-events-none absolute start-0 end-0 top-0 z-10 h-20 bg-gradient-to-b to-transparent opacity-0 transition-opacity duration-200")}),t.jsx("div",{ref:s=>{if(!s)return;const n=()=>{if(!l||!s||!w.current||!R.current)return;const d=s.scrollTop<=10,m=s.scrollHeight-s.scrollTop<=s.clientHeight+10;w.current.style.opacity=d?"0":"1",R.current.style.opacity=m?"0":"1"};return s.addEventListener("scroll",()=>n()),n(),()=>s.removeEventListener("scroll",()=>n())},className:h("no-scrollbar",l&&"h-[300px] overflow-y-auto",!l&&"overflow-y-visible"),children:a.length>0||r?t.jsxs(t.Fragment,{children:[a.map(s=>{if(!s.id)return null;const n=M&&!c.has(s.id);return t.jsx(I,{label:S.formatMessage({id:"N6yvBk",defaultMessage:"You've reached the limit of {maxReposToSync} synced repositories."},{maxReposToSync:b}),side:"right",align:"center",className:"flex w-full flex-1",sideOffset:10,disabled:!n,children:t.jsxs("button",{disabled:n,onClick:d=>{d.preventDefault(),d.stopPropagation();const m=new Map(c);m.has(s.id)?m.delete(s.id):m.set(s.id,s),j(m)},className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:[t.jsx("div",{className:"text-token-text-primary text-md flex-1 text-start",children:s.repository_full_name}),t.jsx("div",{className:"flex items-center",children:c.has(s.id)?t.jsx(C,{className:"icon-lg"}):t.jsx("div",{className:"flex h-6 items-center pe-0.5",children:t.jsx("div",{className:"border-token-border-heavy h-5 w-5 rounded-full border"})})})]},s.id)},s.id)}),r&&t.jsx("div",{ref:T,className:"h-1 w-full"}),o&&t.jsx("div",{className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:t.jsx(E,{className:"rounded-md",width:Math.random()*250+100,height:20})})]}):t.jsx("div",{className:"text-token-text-tertiary mt-5 flex h-full justify-center text-sm",children:t.jsx(G,{id:"IyK1Z7",defaultMessage:"No results found for “{searchTerm}”",values:{searchTerm:N}})})}),l&&t.jsx("div",{ref:R,className:h("from-token-bg-primary pointer-events-none absolute start-0 end-0 bottom-0 z-10 mt-auto h-20 bg-gradient-to-t to-transparent transition-opacity duration-200")})]})})}),e[6]=a,e[7]=l,e[8]=r,e[9]=T,e[10]=S,e[11]=o,e[12]=i,e[13]=M,e[14]=b,e[15]=j,e[16]=N,e[17]=c,e[18]=y):y=e[18],y}function P(u,e){return t.jsx("div",{className:"border-token-border-secondary flex w-full justify-between border-b-1 py-3",children:t.jsx(E,{className:"rounded-md",width:u,height:20})},e)}function A(){return Math.random()*250+100}export{Y as G};
//# sourceMappingURL=ihfhk4rvbppxuc1w.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/o53bheyqocotqvus.js","assets/m60bpb0x3x7rg8fj.js","assets/lgw4q0e8zlqqfgug.js","assets/root-otc54kct.css","assets/ggjzadbnd3k1vu0k.js","assets/conversation-small-j0gcsxmz.css","assets/l9bupap4fyh5egbo.js","assets/dgb06x9f8z6d0ar9.js","assets/gohr301ka7cpfe4s.js","assets/jobqnbdildqzowzf.js","assets/ls4akj6tri7bc2dz.js","assets/glu06a3y5u0laqff.js","assets/iayy5u2a26jybmdr.js","assets/is8gj4766rptv42d.js"])))=>i.map(i=>d[i]);
import{c as q,j as i,r as O,M as G,L as qe,f as Me,a as Ue}from"./m60bpb0x3x7rg8fj.js";import{b_ as ze,b$ as Ie,dS as I,e as je,p as De,z as L,ap as He,H as Ne,dL as Be,B as Fe,i6 as Le,iX as Ve,gt as Ge,iW as B,hR as We,mA as Je,fx as Xe,b2 as Ke,dK as Ye,iO as Ze,qF as Ee,dr as Te,dj as Qe}from"./lgw4q0e8zlqqfgug.js";import{i$ as et,i_ as tt,kU as st,j5 as ot,kf as nt,iv as it,iY as Re,hm as lt,df as V,kV as ne,ho as at,iS as ke,iW as rt,iX as ct,eo as mt,ep as ft,kG as dt,b5 as ut,b6 as pt,kW as gt,iZ as xt,kX as ht,j4 as jt}from"./ggjzadbnd3k1vu0k.js";import{D as vt}from"./l9bupap4fyh5egbo.js";import{P as bt}from"./gohr301ka7cpfe4s.js";import{S as yt,u as St}from"./o53bheyqocotqvus.js";import{u as he,P as Ct,a as $t}from"./4lwv45o141vcwm2h.js";import"./dgb06x9f8z6d0ar9.js";import"./jobqnbdildqzowzf.js";import"./ls4akj6tri7bc2dz.js";import"./glu06a3y5u0laqff.js";import"./iayy5u2a26jybmdr.js";const wt=ze(()=>Ie(()=>import("./o53bheyqocotqvus.js").then(d=>d.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])).then(d=>d.SnorlaxFileModal));function _t(d){"use forget";const e=q.c(11),{project:t,onNavigateToConversation:c}=d;et(t.id);let l;e[0]!==t?(l=()=>t.conversations$().all$(),e[0]=t,e[1]=l):l=e[1];const o=I(l);let n;e[2]!==t?(n=()=>t.conversations$().canShowConversations$(),e[2]=t,e[3]=n):n=e[3];const r=I(n);let f;e[4]!==r||e[5]!==o||e[6]!==c||e[7]!==t?(f=r&&i.jsx(Pt,{items:o,project:t,onNavigateToConversation:c}),e[4]=r,e[5]=o,e[6]=c,e[7]=t,e[8]=f):f=e[8];let s;return e[9]!==f?(s=i.jsx("section",{children:f}),e[9]=f,e[10]=s):s=e[10],s}function Pt(d){"use forget";const e=q.c(47),{project:t,items:c,onNavigateToConversation:l}=d,o=je();let n;e[0]!==o?(n=De(o,"773249106"),e[0]=o,e[1]=n):n=e[1];const r=n;let f;e[2]!==t?(f=()=>t.conversations$().canFetchMore$(),e[2]=t,e[3]=f):f=e[3];const s=I(f);let h;e[4]!==t?(h=()=>t.gizmo$(),e[4]=t,e[5]=h):h=e[5];const a=I(h);let x;e[6]!==t?(x=()=>t.conversations$().awaitingManualRetry$(),e[6]=t,e[7]=x):x=e[7];const u=I(x);let p;e[8]!==t?(p=()=>t.conversations$().fetchMore$,e[8]=t,e[9]=p):p=e[9];const m=I(p);let b;e[10]!==t?(b=()=>t.conversations$().cursor$(),e[10]=t,e[11]=b):b=e[11];const j=I(b);let y;e[12]!==t?(y=()=>t.conversations$().isLoading$(),e[12]=t,e[13]=y):y=e[13];const g=I(y);let $;e[14]!==t?($=()=>t.isShared$(),e[14]=t,e[15]=$):$=e[15];const w=I($);let k;e[16]!==a?.gizmo?.author||e[17]!==c?(k=c?.some(R=>"owner"in R&&R.owner?.user_id!==a?.gizmo?.author.user_id),e[16]=a?.gizmo?.author,e[17]=c,e[18]=k):k=e[18];const P=r&&(w||k),C=g&&"skeleton";let v;e[19]!==C?(v=L("divide-token-bg-tertiary group divide-y",C),e[19]=C,e[20]=v):v=e[20];let N;e[21]!==a||e[22]!==c||e[23]!==l||e[24]!==P?(N=a&&c&&c.map(R=>i.jsx("li",{className:"group hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex min-h-16 cursor-pointer items-center p-3 text-sm select-none",children:i.jsx(Et,{conversation:R,gizmo:a,showAvatar:P??!1,onNavigateToConversation:l})},R.id)),e[21]=a,e[22]=c,e[23]=l,e[24]=P,e[25]=N):N=e[25];let M;e[26]!==s||e[27]!==m||e[28]!==g?(M=!g&&s&&i.jsx(Fe,{type:"button",onClick:m,className:"keyboard-not-focused:sr-only",children:i.jsx(G,{id:"project.conversation-list.load-more",defaultMessage:"Load more conversations"})}),e[26]=s,e[27]=m,e[28]=g,e[29]=M):M=e[29];let T;e[30]!==u||e[31]!==t?(T=u&&i.jsx(Le,{type:"normal",className:"mt-2",dangerCtaText:"Try again",onDangerCtaClick:()=>{t.conversations$().awaitingManualRetry$.set(!1)},content:i.jsx(G,{id:"project.conversation-list.awaiting-manual-retry",defaultMessage:"Loading more conversations failed. Please try again."}),icon:i.jsx(st,{className:"icon"})}),e[30]=u,e[31]=t,e[32]=T):T=e[32];let E;e[33]!==g?(E=g&&i.jsx(kt,{}),e[33]=g,e[34]=E):E=e[34];let z;e[35]!==s||e[36]!==j||e[37]!==m?(z=i.jsx(Mt,{canFetchMore:s,fetchMore:m},j),e[35]=s,e[36]=j,e[37]=m,e[38]=z):z=e[38];let F;return e[39]!==g||e[40]!==v||e[41]!==N||e[42]!==M||e[43]!==T||e[44]!==E||e[45]!==z?(F=i.jsxs("ol",{className:v,"aria-busy":g,children:[N,M,T,E,z]}),e[39]=g,e[40]=v,e[41]=N,e[42]=M,e[43]=T,e[44]=E,e[45]=z,e[46]=F):F=e[46],F}function kt(){"use forget";const d=q.c(6),e=Me();let t;d[0]!==e?(t=()=>Array.from({length:2},(n,r)=>({id:r,title:e.formatMessage({id:"project.conversation-list.loading-title",defaultMessage:"Loading conversation title..."}),snippet:e.formatMessage({id:"project.conversation-list.loading-snippet",defaultMessage:"Loading conversation snippet..."})})),d[0]=e,d[1]=t):t=d[1];const[c]=O.useState(t);let l;d[2]!==c?(l=c.map(Nt),d[2]=c,d[3]=l):l=d[3];let o;return d[4]!==l?(o=i.jsx(i.Fragment,{children:l}),d[4]=l,d[5]=o):o=d[5],o}function Nt(d){return i.jsx("li",{className:"mt-1 flex min-h-15 items-center p-3 text-sm",inert:!0,"aria-hidden":!0,children:i.jsx(Ae,{conversationTitle:d.title,showAvatar:!0,monogram:null,showMonogramTooltip:!1,snippet:d.snippet,skeleton:!0})},d.id)}function Mt(d){"use forget";const e=q.c(8),{canFetchMore:t,fetchMore:c}=d;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={threshold:1},e[0]=l):l=e[0];const[o,n]=nt(l);let r,f;if(e[1]!==t||e[2]!==c||e[3]!==o?(r=()=>{t&&o&&c()},f=[t,c,o],e[1]=t,e[2]=c,e[3]=o,e[4]=r,e[5]=f):(r=e[4],f=e[5]),O.useEffect(r,f),!t)return null;let s;return e[6]!==n?(s=i.jsx("div",{className:"min-h-0 w-full",inert:!0,ref:n}),e[6]=n,e[7]=s):s=e[7],s}const Et=d=>{"use forget";const e=q.c(34),{conversation:t,gizmo:c,showAvatar:l,onNavigateToConversation:o}=d,n=He(t.id,Tt)??t.title,[r,f]=O.useState(!1);let s,h;e[0]!==t.id?(s=()=>Ve(ot,{editTitleInMainScreen:v=>{const{serverThreadId:N}=v;N===t.id&&f(!0)}}),h=[t.id],e[0]=t.id,e[1]=s,e[2]=h):(s=e[1],h=e[2]),O.useEffect(s,h);const a=je(),{snippet:x}=t;let u,p,m,b;if(e[3]!==t||e[4]!==a||e[5]!==c){const v=Ne(a)?.normalizedAccountUserId;u="owner"in t?t.owner:null,m=u?.user_id,p=u?.name,b=Be(t.id,c,!0,m,v),e[3]=t,e[4]=a,e[5]=c,e[6]=u,e[7]=p,e[8]=m,e[9]=b}else u=e[6],p=e[7],m=e[8],b=e[9];const j=b;let y;e[10]!==t||e[11]!==r?(y=r?i.jsx(tt,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{f(!1)}}):null,e[10]=t,e[11]=r,e[12]=y):y=e[12];let g;e[13]!==t||e[14]!==r?(g=!r&&i.jsx(yt,{conversation:t,isNewProjectPage:!0}),e[13]=t,e[14]=r,e[15]=g):g=e[15];const $=x?!1:"snippet";let w;e[16]!==u||e[17]!==p||e[18]!==m?(w=u&&p&&m?{value:p,id:m}:null,e[16]=u,e[17]=p,e[18]=m,e[19]=w):w=e[19];let k;e[20]!==n||e[21]!==l||e[22]!==x||e[23]!==y||e[24]!==g||e[25]!==$||e[26]!==w?(k=i.jsx(Ae,{conversationTitle:n,editor:y,overflowMenu:g,snippet:x,skeleton:$,showAvatar:l,monogram:w}),e[20]=n,e[21]=l,e[22]=x,e[23]=y,e[24]=g,e[25]=$,e[26]=w,e[27]=k):k=e[27];const _=k;if(r)return _;let P;e[28]!==o?(P=v=>{o?.(),(v.target instanceof HTMLElement&&v.target.dataset.preventDefault||v.target instanceof SVGElement)&&v.preventDefault()},e[28]=o,e[29]=P):P=e[29];let C;return e[30]!==_||e[31]!==j||e[32]!==P?(C=i.jsx(qe,{to:j,draggable:!1,className:"w-full",onClick:P,children:_}),e[30]=_,e[31]=j,e[32]=P,e[33]=C):C=e[33],C};function Ae({showAvatar:d,monogram:e,editor:t,overflowMenu:c,conversationTitle:l,skeleton:o,snippet:n,showMonogramTooltip:r}){return i.jsxs("div",{className:L("flex w-full items-center gap-4",o&&"group skeleton"),children:[d&&i.jsx(it,{monogram:e,showTooltip:r}),i.jsxs("div",{className:"grow overflow-hidden",children:[t||i.jsx("div",{className:L("text-sm font-medium",o===!0&&"skeleton-child w-fit min-w-[50%]"),children:l}),i.jsx("div",{className:L("text-token-text-secondary min-h-0 truncate text-sm",o&&"skeleton-child mt-px w-fit"),children:n})]}),c]})}function Tt(d){return d?.title}function zt(d){"use forget";const e=q.c(20),{onRequestEdit:t,onRequestAddFiles:c,onRequestUpdateProject:l,projectData:o}=d,n=O.use(Re),r=I(n.isSkeleton$),{canEdit:f}=Ge(o);let s;e[0]!==n?(s=()=>!!n.conversations$().all$()?.length,e[0]=n,e[1]=s):s=e[1];const h=I(s),a=r&&"group skeleton",x=!h&&"max-md:flex-1 max-md:flex-col max-md:items-center max-md:justify-center max-md:gap-1.5",u=h&&"max-md:flex-col max-md:gap-4";let p;e[2]!==a||e[3]!==x||e[4]!==u?(p=L("flex justify-between",a,x,u),e[2]=a,e[3]=x,e[4]=u,e[5]=p):p=e[5];let m;e[6]!==f||e[7]!==t||e[8]!==l||e[9]!==n?(m=i.jsx(Ft,{canEdit:f,project:n,onRequestEdit:t,onRequestUpdateProject:l}),e[6]=f,e[7]=t,e[8]=l,e[9]=n,e[10]=m):m=e[10];let b;e[11]!==f||e[12]!==c||e[13]!==n||e[14]!==o?(b=i.jsx(It,{canEdit:f,project:n,projectData:o,onRequestAddFiles:c}),e[11]=f,e[12]=c,e[13]=n,e[14]=o,e[15]=b):b=e[15];let j;return e[16]!==p||e[17]!==m||e[18]!==b?(j=i.jsxs("div",{className:p,children:[m,b]}),e[16]=p,e[17]=m,e[18]=b,e[19]=j):j=e[19],j}function It(d){"use forget";const e=q.c(29),{canEdit:t,project:c,projectData:l,onRequestAddFiles:o}=d;let n;e[0]!==l?(n=l??{},e[0]=l,e[1]=n):n=e[1];const{files:r}=n;let f;e[2]!==r?(f=r===void 0?[]:r,e[2]=r,e[3]=f):f=e[3];const s=f,h=!s.length,a=I(c.isSkeleton$);let x,u;if(!a&&h&&!t)return null;if(h){let g;e[4]!==t||e[5]!==l?(g=l?i.jsx(G,{...t?V.addFilesButtonLabel:V.viewFilesButtonLabel}):null,e[4]=t,e[5]=l,e[6]=g):g=e[6],x=g,u=null}else{let g,$;if(e[7]!==s||e[8]!==l?.gizmo){const k=s.slice(0,3);let _;e[12]!==s.length?(_=i.jsx(G,{...V.filesCount,values:{count:s.length}}),e[12]=s.length,e[13]=_):_=e[13],x=_,g="isolate inline-flex items-center max-sm:sr-only";let P;e[14]!==l?.gizmo?(P=(C,v)=>i.jsx(Dt,{file:C,index:v,gizmoId:l?.gizmo.id},C.file_id),e[14]=l?.gizmo,e[15]=P):P=e[15],$=k.map(P),e[7]=s,e[8]=l?.gizmo,e[9]=g,e[10]=$,e[11]=x}else g=e[9],$=e[10],x=e[11];let w;e[16]!==g||e[17]!==$?(w=i.jsx("div",{className:g,children:$}),e[16]=g,e[17]=$,e[18]=w):w=e[18],u=w}const p=a&&"skeleton-child w-20";let m;e[19]!==p?(m=L("max-md:w-fit",p,"group/project-control-tile"),e[19]=p,e[20]=m):m=e[20];const b=a&&"";let j;e[21]!==b?(j=L(b,"gap-1.5 text-token-text-secondary"),e[21]=b,e[22]=j):j=e[22];let y;return e[23]!==u||e[24]!==x||e[25]!==o||e[26]!==m||e[27]!==j?(y=i.jsxs(Fe,{color:"secondary",onClick:o,className:m,contentWrapperClassName:j,children:[u,x]}),e[23]=u,e[24]=x,e[25]=o,e[26]=m,e[27]=j,e[28]=y):y=e[28],y}function Dt(d){"use forget";const e=q.c(20),{file:t,index:c,gizmoId:l}=d,o=t.name;let n;e[0]!==t.file_id||e[1]!==o?(n=We(o)&&t.file_id!=null,e[0]=t.file_id,e[1]=o,e[2]=n):n=e[2];const r=n;let f;e[3]!==t.file_id||e[4]!==o||e[5]!==l||e[6]!==r?(f=r&&i.jsx(rt,{fileName:o,fileId:t.file_id,gizmoId:l,className:"[box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]"}),e[3]=t.file_id,e[4]=o,e[5]=l,e[6]=r,e[7]=f):f=e[7];const s=f,h=c>0&&"-ms-2";let a;e[8]!==h?(a=L("border-token-bg-primary group-hover/project-control-tile:border-token-main-surface-secondary relative size-5 overflow-hidden rounded-md border-2",h),e[8]=h,e[9]=a):a=e[9];const x=10-c;let u;e[10]!==x?(u={zIndex:x},e[10]=x,e[11]=u):u=e[11];let p;e[12]!==t.name||e[13]!==s?(p=s||i.jsx(ct,{className:"h-4 w-4 shrink-0 rounded-none [box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]",glyphClassName:"h-3 w-3",filename:t.name,contextConnectorInfo:void 0}),e[12]=t.name,e[13]=s,e[14]=p):p=e[14];let m;return e[15]!==t.file_id||e[16]!==a||e[17]!==u||e[18]!==p?(m=i.jsx("span",{className:a,style:u,children:p},t.file_id),e[15]=t.file_id,e[16]=a,e[17]=u,e[18]=p,e[19]=m):m=e[19],m}function Ft(d){"use forget";const e=q.c(50),{canEdit:t,onRequestEdit:c,onRequestUpdateProject:l,project:o}=d;let n;e[0]!==o?(n=()=>o.theme$(),e[0]=o,e[1]=n):n=e[1];const r=he(n);let f;e[2]!==o?(f=()=>o.emoji$(),e[2]=o,e[3]=f):f=e[3];const s=he(f);let h;e[4]!==o?(h=()=>o.title$(),e[4]=o,e[5]=h):h=e[5];const a=he(h);let x;e[6]!==o?(x=()=>o.status$(),e[6]=o,e[7]=x):x=e[7];const u=I(x),p=I(o.isSkeleton$),m=he(!1),b=I(a),j=Me(),y=je();let g;e[8]!==y||e[9]!==s||e[10]!==o||e[11]!==r||e[12]!==a?(g=()=>{B(()=>o.theme$(),A=>r.set(A)),B(()=>o.emoji$(),A=>s.set(A)),B(()=>o.title$(),A=>a.set(A)),B(()=>r,A=>ke({ctx:y,id:o.id,theme:A()})),B(()=>s,A=>ke({ctx:y,id:o.id,emoji:A()})),B(()=>a,A=>ke({ctx:y,id:o.id,name:A()}))},e[8]=y,e[9]=s,e[10]=o,e[11]=r,e[12]=a,e[13]=g):g=e[13],O.useEffect(g);const $=u==="empty"?"max-md:flex-col":"";let w;e[14]!==$?(w=L("flex items-center gap-1.5 max-md:-translate-x-1",$),e[14]=$,e[15]=w):w=e[15];let k;e[16]!==s||e[17]!==l||e[18]!==r||e[19]!==a?(k=async(A,ie)=>{!A&&ie&&await l?.({theme:r(),emoji:s(),name:a()})},e[16]=s,e[17]=l,e[18]=r,e[19]=a,e[20]=k):k=e[20];const _=ne(k),P=!t;let C;e[21]!==s||e[22]!==o.isShared$||e[23]!==o.isSkeleton$||e[24]!==P||e[25]!==r?(C=i.jsx(Ct,{className:"ms-0! [--focus-outline-margin:-4px] disabled:cursor-default! disabled:opacity-100!",disabled:P,emoji$:s,isShared$:o.isShared$,isSkeleton$:o.isSkeleton$,theme$:r,size:"lg",strict:!0}),e[21]=s,e[22]=o.isShared$,e[23]=o.isSkeleton$,e[24]=P,e[25]=r,e[26]=C):C=e[26];let v;e[27]!==s||e[28]!==C||e[29]!==_||e[30]!==r||e[31]!==m?(v=i.jsx($t,{open$:m,theme$:r,emoji$:s,onOpenChange:_,children:C}),e[27]=s,e[28]=C,e[29]=_,e[30]=r,e[31]=m,e[32]=v):v=e[32];const N=!t,M=p&&"skeleton-child";let T;e[33]!==M?(T=L("min-w-0",M),e[33]=M,e[34]=T):T=e[34];let E;e[35]!==j||e[36]!==b?(E=j.formatMessage({id:"edit-title",defaultMessage:"Edit the title of {projectName}"},{projectName:b}),e[35]=j,e[36]=b,e[37]=E):E=e[37];let z;e[38]!==b?(z=i.jsx("h1",{className:"md:text-page-header text-balance [--text-lg--line-height:28px] [--text-lg:22px] max-md:text-lg max-md:font-normal",children:b}),e[38]=b,e[39]=z):z=e[39];let F;e[40]!==c||e[41]!==N||e[42]!==T||e[43]!==E||e[44]!==z?(F=i.jsx("button",{disabled:N,onClick:c,name:"project-title",className:T,"aria-label":E,children:z}),e[40]=c,e[41]=N,e[42]=T,e[43]=E,e[44]=z,e[45]=F):F=e[45];let R;return e[46]!==v||e[47]!==F||e[48]!==w?(R=i.jsxs("div",{className:w,children:[v,F]}),e[46]=v,e[47]=F,e[48]=w,e[49]=R):R=e[49],R}function Lt(d){"use forget";const e=q.c(38),{children:t,composer:c,composerLayout:l,disclaimer:o,postComposerContent:n,conversations:r,sizing:f,dragOverlay:s,status:h}=d,a=h==="has-conversations"?"top":"center",x=h==="empty"&&"items-center max-md:[align-items:unset] max-md:[--composer-container-flex:0] max-md:[--composer-container-height:auto]";let u;e[0]!==x?(u=L("flex min-h-full",x),e[0]=x,e[1]=u):u=e[1];const p=h!=="has-conversations"?"grid-rows-[1fr_minmax(0,180px)] max-md:grid-rows-[1fr_0]":"grid-rows-[auto_min-content_min-content]";let m;e[2]!==p?(m=L("grid h-full [width:min(90cqw,var(--thread-content-max-width))] flex-1",p),e[2]=p,e[3]=m):m=e[3];const b=h!=="empty"&&"gap-8 pb-6",j=a==="top"?"mt-13 self-start max-md:mt-0":"self-center max-md:h-full";let y;e[4]!==b||e[5]!==j?(y=L("flex min-w-0 flex-col",b,j),e[4]=b,e[5]=j,e[6]=y):y=e[6];const g=h==="empty"?"max-md:h-full max-md:justify-between md:gap-8":"content-fade-top";let $;e[7]!==g?($=L("offset-padding-top-4 sticky top-(--header-height) z-10 flex flex-col gap-[inherit] max-md:top-0 md:[--offset-y-bottom:-30px]",g),e[7]=g,e[8]=$):$=e[8];let w;e[9]!==c||e[10]!==l?(w=l==="top"&&i.jsx(i.Fragment,{children:c}),e[9]=c,e[10]=l,e[11]=w):w=e[11];let k;e[12]!==t||e[13]!==n||e[14]!==w||e[15]!==$?(k=i.jsxs("div",{className:$,children:[t,w,n]}),e[12]=t,e[13]=n,e[14]=w,e[15]=$,e[16]=k):k=e[16];let _;e[17]!==r||e[18]!==s||e[19]!==k||e[20]!==y?(_=i.jsxs("div",{className:y,children:[k,r,s]}),e[17]=r,e[18]=s,e[19]=k,e[20]=y,e[21]=_):_=e[21];let P;e[22]===Symbol.for("react.memo_cache_sentinel")?(P=i.jsx("div",{}),e[22]=P):P=e[22];let C;e[23]!==c||e[24]!==l||e[25]!==o||e[26]!==h?(C=(l==="bottom"||o)&&i.jsxs("div",{className:L("content-fade sticky flex w-full flex-col gap-1 [--content-fade-top:-15px] md:px-[60px]",l==="bottom"&&"[--composer-container-height:auto] [--content-fade-top:-40px] max-md:p-0 max-md:pb-1",o?h==="empty"?"bottom-0 max-md:pt-2 md:fixed md:start-0 md:end-0":"bottom-0":"before:bg-token-bg-primary relative bottom-2 p-2 before:absolute before:inset-0 before:top-full before:h-2 before:w-full before:content-['']"),children:[l==="bottom"&&c,o]}),e[23]=c,e[24]=l,e[25]=o,e[26]=h,e[27]=C):C=e[27];let v;e[28]!==_||e[29]!==C||e[30]!==m?(v=i.jsxs(at,{className:m,children:[_,P,C]}),e[28]=_,e[29]=C,e[30]=m,e[31]=v):v=e[31];let N;e[32]!==f||e[33]!==v?(N=i.jsx(lt,{verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard",...f,children:v}),e[32]=f,e[33]=v,e[34]=N):N=e[34];let M;return e[35]!==N||e[36]!==u?(M=i.jsx("div",{className:u,children:N}),e[35]=N,e[36]=u,e[37]=M):M=e[37],M}const Rt=ze(()=>Ie(()=>import("./is8gj4766rptv42d.js"),__vite__mapDeps([13,1,2,3,4,5])).then(d=>d.ProjectJoinModal));function Qt(d){"use forget";const e=q.c(102),{clientThreadId:t,gizmoId:c,currentModelId:l,onRequestCompletion:o}=d,n=je(),r=mt();let f;e[0]!==n||e[1]!==c||e[2]!==r?(f=ft(n)(c,r),e[0]=n,e[1]=c,e[2]=r,e[3]=f):f=e[3];const s=f;let h;e[4]!==s?(h=()=>s.serverState$().data,e[4]=s,e[5]=h):h=e[5];const a=I(h);let x;e[6]!==s?(x=()=>s.status$(),e[6]=s,e[7]=x):x=e[7];const u=I(x);let p;e[8]!==n?(p=Je(n)?.user?.email,e[8]=n,e[9]=p):p=e[9];const m=p;let b;e[10]!==n?(b=Ne(n)?.normalizedAccountUserId,e[10]=n,e[11]=b):b=e[11];const j=b;let y;e[12]!==s||e[13]!==a||e[14]!==m||e[15]!==j?(y=()=>!j||!m||!a||Ze(()=>s.serverState$().isFetching)?!1:!Ee({gizmo:a,user_id:j,user_email:m}),e[12]=s,e[13]=a,e[14]=m,e[15]=j,e[16]=y):y=e[16];const[g,$]=O.useState(y),w=De(n,"773249106");let k;e[17]!==s.lastScrollPosition$?(k=()=>{const S=document.querySelector("main");s.lastScrollPosition$.set(S?.scrollTop??null)},e[17]=s.lastScrollPosition$,e[18]=k):k=e[18];const _=k;let P,C;e[19]!==s||e[20]!==_?(P=()=>{const S=new AbortController,D=s.lastScrollPosition$();s.lastScrollPosition$.set(null);const H=document.querySelector("main");return D!==null&&H&&(H.scrollTop=D),"navigation"in window&&window.navigation?.addEventListener("navigate",()=>_(),{signal:S.signal}),()=>{S.abort()}},C=[s,_],e[19]=s,e[20]=_,e[21]=P,e[22]=C):(P=e[21],C=e[22]),O.useEffect(P,C);let v;e[23]!==o?(v=S=>{o(ut(S))},e[23]=o,e[24]=v):v=e[24];const N=ne(v);let M;e[25]!==o?(M=async S=>{const D=await pt(S);o(D)},e[25]=o,e[26]=M):M=e[26];const T=ne(M);let E;e[27]!==n||e[28]!==s||e[29]!==a?(E=()=>{a&&Te(n,wt,{gizmo:a,project:s})},e[27]=n,e[28]=s,e[29]=a,e[30]=E):E=e[30];const z=ne(E),F=Me(),R=Ne(n),ie=!(R&&!R.isTeam()&&!R.isEnterprisey()),le=Xe(),ve=Ke(),[be,ae]=O.useState(!1),{onDropConversation:ye,canDropConversation:U}=St(void 0,c),Se=Ue();let re;e[31]===Symbol.for("react.memo_cache_sentinel")?(re=[],e[31]=re):re=e[31],O.useEffect(At,re);let ce,me;e[32]!==le?(ce=()=>{const S=gt(le),D=S();return S.set(!0),()=>{S.set(D)}},me=[le],e[32]=le,e[33]=ce,e[34]=me):(ce=e[33],me=e[34]),O.useEffect(ce,me);let fe;e[35]!==n||e[36]!==F||e[37]!==s||e[38]!==a?(fe=()=>{a&&Te(n,xt,{submitButtonTitle:F.formatMessage(V.projectSettingsSubmitButton),gizmo:a,project:s})},e[35]=n,e[36]=F,e[37]=s,e[38]=a,e[39]=fe):fe=e[39];const Ce=ne(fe);let de;e[40]!==s||e[41]!==ve?(de=async S=>{try{await s.queueUpdate$(S)}catch(D){const Oe=Qe(D);ve?.warning(Oe??"Error",{duration:5,hasCloseButton:!0})}},e[40]=s,e[41]=ve,e[42]=de):de=e[42];const $e=ne(de);let ue,pe;if(e[43]!==s||e[44]!==m||e[45]!==j?(ue=()=>{if(!(!j||!m))return B(()=>({data:s.serverState$().data,isFetching:s.serverState$().isFetching}),S=>{const{data:D,isFetching:H}=S;D&&!H&&!Ee({gizmo:D,user_id:j,user_email:m})&&$(!0)})},pe=[j,m,s],e[43]=s,e[44]=m,e[45]=j,e[46]=ue,e[47]=pe):(ue=e[46],pe=e[47]),O.useEffect(ue,pe),g&&a&&w){let S;e[48]!==Se?(S=()=>Se("/"),e[48]=Se,e[49]=S):S=e[49];let D;e[50]===Symbol.for("react.memo_cache_sentinel")?(D=()=>$(!1),e[50]=D):D=e[50];let H;return e[51]!==a||e[52]!==S?(H=i.jsx(Rt,{onClose:S,onJoinProjectSuccess:D,projectData:a}),e[51]=a,e[52]=S,e[53]=H):H=e[53],H}let ge;e[54]!==a?.gizmo?.conversation_copy_in_progress?(ge=a?.gizmo?.conversation_copy_in_progress===!0?i.jsx(Le,{type:"info",content:i.jsx(G,{...V.projectCopyInProgressBanner}),icon:i.jsx(Ye,{className:"text-token-text-secondary h-5 w-5"})}):null,e[54]=a?.gizmo?.conversation_copy_in_progress,e[55]=ge):ge=e[55];const we=ge;let W;e[56]!==U?(W=S=>{S.preventDefault(),U&&ae(!0)},e[56]=U,e[57]=W):W=e[57];let J;e[58]!==U||e[59]!==ye?(J=S=>{S.preventDefault(),U&&(ae(!1),ye())},e[58]=U,e[59]=ye,e[60]=J):J=e[60];let X,K;e[61]!==U?(X=S=>{S.preventDefault(),U&&ae(!0)},K=S=>{S.preventDefault(),U&&ae(!1)},e[61]=U,e[62]=X,e[63]=K):(X=e[62],K=e[63]);const _e=u==="empty"?"top":"bottom",Pe=u==="empty"?"center":"bottom";let Y;e[64]!==t||e[65]!==l||e[66]!==N||e[67]!==T||e[68]!==Pe?(Y=i.jsx(bt,{clientThreadId:t,currentModelId:l,hideHeader:!0,isProjectThread:!0,isNewThread:!0,layoutMode:Pe,onContinueGenerating:N,onRequestCompletion:T}),e[64]=t,e[65]=l,e[66]=N,e[67]=T,e[68]=Pe,e[69]=Y):Y=e[69];let Z;e[70]!==t||e[71]!==ie?(Z=ie&&i.jsx("div",{className:"text-token-text-secondary flex w-full items-center justify-center text-center text-xs text-pretty md:pb-0.5",children:i.jsx(ht,{clientThreadId:t})}),e[70]=t,e[71]=ie,e[72]=Z):Z=e[72];let Q;e[73]!==s||e[74]!==_?(Q=i.jsx(_t,{project:s,onNavigateToConversation:_}),e[73]=s,e[74]=_,e[75]=Q):Q=e[75];let ee;e[76]!==be||e[77]!==a?(ee=be&&i.jsx(Ot,{gizmo:a}),e[76]=be,e[77]=a,e[78]=ee):ee=e[78];let te;e[79]!==z||e[80]!==Ce||e[81]!==$e||e[82]!==a?(te=i.jsx(zt,{projectData:a,onRequestEdit:Ce,onRequestAddFiles:z,onRequestUpdateProject:$e}),e[79]=z,e[80]=Ce,e[81]=$e,e[82]=a,e[83]=te):te=e[83];let se;e[84]!==we||e[85]!==u||e[86]!==_e||e[87]!==Y||e[88]!==Z||e[89]!==Q||e[90]!==ee||e[91]!==te?(se=i.jsx(Lt,{status:u,composerLayout:_e,composer:Y,disclaimer:Z,postComposerContent:we,conversations:Q,dragOverlay:ee,children:te}),e[84]=we,e[85]=u,e[86]=_e,e[87]=Y,e[88]=Z,e[89]=Q,e[90]=ee,e[91]=te,e[92]=se):se=e[92];let oe;e[93]!==W||e[94]!==J||e[95]!==X||e[96]!==K||e[97]!==se?(oe=i.jsx("div",{onDragOver:W,onDrop:J,onDragEnter:X,onDragLeave:K,children:se}),e[93]=W,e[94]=J,e[95]=X,e[96]=K,e[97]=se,e[98]=oe):oe=e[98];let xe;return e[99]!==s||e[100]!==oe?(xe=i.jsx(Re,{value:s,children:oe}),e[99]=s,e[100]=oe,e[101]=xe):xe=e[101],xe}function At(){dt()}function Ot(d){"use forget";const e=q.c(6),{gizmo:t}=d;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsx(jt,{className:"h-12 w-12",style:{color:"var(--icon-accent)"}}),e[0]=c):c=e[0];const l=t?.gizmo.display.name??"project";let o;e[1]!==l?(o=i.jsx("h3",{className:"text-center",children:i.jsx(G,{...V.addConversationToNamedSnorlax,values:{projectName:l}})}),e[1]=l,e[2]=o):o=e[2];let n;e[3]===Symbol.for("react.memo_cache_sentinel")?(n=i.jsx("h4",{className:"text-center",children:i.jsx(G,{...V.moveConversation})}),e[3]=n):n=e[3];let r;return e[4]!==o?(r=i.jsxs(vt,{children:[c,o,n]}),e[4]=o,e[5]=r):r=e[5],r}export{Qt as ProjectHomePage};
//# sourceMappingURL=kmicd5w4e0gyadi2.js.map

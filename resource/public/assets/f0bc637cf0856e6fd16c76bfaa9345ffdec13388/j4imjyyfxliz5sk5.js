const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ohml7ssy5dcphg1z.js","assets/lgw4q0e8zlqqfgug.js","assets/m60bpb0x3x7rg8fj.js","assets/root-otc54kct.css","assets/ggjzadbnd3k1vu0k.js","assets/conversation-small-j0gcsxmz.css","assets/fmpjwycidcmvmnfy.js","assets/kivir7uecp2ijnx2.js","assets/haz15z4nq3d0dq7v.js","assets/mlqzrqe1i57m6im6.js","assets/d4l47j95cc16bbv9.js","assets/mlo67gs1ylzshmge.js","assets/h81zqbvh0a7amk0o.js","assets/l9bupap4fyh5egbo.js","assets/dgb06x9f8z6d0ar9.js","assets/jobqnbdildqzowzf.js","assets/ls4akj6tri7bc2dz.js","assets/glu06a3y5u0laqff.js","assets/iayy5u2a26jybmdr.js","assets/gohr301ka7cpfe4s.js","assets/hg4s4237azdb5era.js","assets/kfjcy5y4cxuymbdf.js","assets/rx5cs0ja7c7phupc.js","assets/n5yj38pa2aamrsfp.js","assets/ccw262xxu17g34lw.js","assets/hbir13mtq07o9x1a.js","assets/o53bheyqocotqvus.js","assets/dfbgvqz3f2t2gfhn.js","assets/hzuwclo1fy1q03ik.js","assets/hb68k3oakb3tiftg.js","assets/nn6a4342otoakkr2.js","assets/ce7ho23qfugv9l5w.js","assets/i1rslcqauin95tip.js","assets/mbz7r8fdefznrcp4.js","assets/jozqsyj8lvw2y89i.js","assets/l0p6qq8f8it6pgl9.js","assets/ha73j9iy5pkvdx6y.js","assets/jh8srhgrrwf9rrcc.js","assets/iej0cupg2dqkmejt.js","assets/fnje4v6gzdtvboh3.js","assets/mb9azmyuz6lg619u.js","assets/eexdsjd4ogyjgpd9.js","assets/fxqhzqxgns9xzluc.js","assets/pe1me0fpwyhqqqei.js","assets/m40e1ct7so23v704.js","assets/oo5ncbfpx577zaun.js","assets/g4tl5lt9yqf20m4s.js","assets/orlvad78dr4tf504.js","assets/ymw5i23lnc367dmr.js","assets/l2l4d2d2bzani7km.js","assets/lht2mqu0cbux6st7.js"])))=>i.map(i=>d[i]);
import{mM as Re,qo as De,qp as Ue,b_ as k,b$ as M,e as qe,eK as Be,qq as Ge,du as Fe,dT as He,aH as We,c0 as Ke,qr as Qe,qs as Ye,f0 as Ae,qt as Xe,X as $e,qu as Je,lt as Ze,b4 as Ne,i as et,iX as tt,g as st,ar as it,pL as ot,dv as at,f3 as rt,oi as nt}from"./lgw4q0e8zlqqfgug.js";import{j as s,r as a,A as lt,m as ye,c as ct,e as Le,b as dt,h as ft}from"./m60bpb0x3x7rg8fj.js";import{jl as ut,jm as mt,jn as gt,jo as Ve,hO as pt,cN as Me,cO as ze,jp as jt,jq as ht,jr as bt,js as xt,jt as vt,ju as _t,jv as wt,jw as Et,jx as Ct,jy as Pt,jz as Ot,jA as St,jB as Tt,jC as It,jD as kt,jE as Mt,cz as Ft,jF as At,jG as Nt,jH as yt,jI as Lt,T as Vt,jJ as zt,cv as Rt,jK as Dt,fq as Ut,jL as qt,b7 as Bt}from"./ggjzadbnd3k1vu0k.js";import{P as Gt,M as Ht}from"./haz15z4nq3d0dq7v.js";import{C as Wt}from"./ccw262xxu17g34lw.js";function Kt({clientThreadId:o}){const e=ut();return s.jsxs(s.Fragment,{children:[e&&s.jsx(mt,{}),s.jsx(Qt,{clientThreadId:o})]})}function Qt({clientThreadId:o}){const e=a.useContext(gt),[i,c]=a.useState(!!e?.postWithProfile&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(d=>d.kind==="media_generation"));return!e?.postWithProfile||!i?null:s.jsx(Re,{clientThreadId:o,children:s.jsx(Gt,{clientThreadId:o,postWithProfile:e.postWithProfile,onClose:()=>c(!1)})})}const Yt=450;function Xt({children:o,clientThreadId:e,isOpen:i,onClose:c,type:d}){return s.jsx(lt,{children:i&&s.jsx(De,{children:s.jsx(Ue.Provider,{value:{isEmbeddedInFocusedView:!0,type:d},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(ye.div,{className:"bg-token-main-surface-secondary h-full w-full",...Ve}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"grow overflow-auto",children:o}),s.jsx(ye.div,{className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:Yt},...Ve,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Ht,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})})]})]})})})})}const $t=k(()=>M(()=>import("./ohml7ssy5dcphg1z.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Jt=k(()=>M(()=>import("./kivir7uecp2ijnx2.js"),__vite__mapDeps([7,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30])).then(o=>o.ImageEditor));function Zt({clientThreadId:o}){const e=pt();a.useEffect(()=>{Me.close()},[o]);let i;return e?.type===ze.ADAVisualization?i=s.jsx($t,{clientThreadId:o,visualization:e.visualization}):e?.type===ze.Image&&(i=s.jsx(Jt,{clientThreadId:o,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),s.jsx(Xt,{clientThreadId:o,isOpen:e!=null,onClose:Me.close,type:e?.type,children:i})}var es={};const ts=k(()=>M(()=>import("./ce7ho23qfugv9l5w.js"),__vite__mapDeps([31,2,1,3,4,5]))),ss=k(()=>M(()=>import("./i1rslcqauin95tip.js"),__vite__mapDeps([32,2,1,3,33,4,5,34,35,36,17,37,38,39,40,41,42,43,44,45,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,46]))),is=k(()=>M(()=>import("./orlvad78dr4tf504.js"),__vite__mapDeps([47,2,1,3,48,4,5,43,49]))),os=k(()=>M(()=>import("./lht2mqu0cbux6st7.js"),__vite__mapDeps([50,2,1,3,43,4,5,48])));function fs(o){"use forget";const e=ct.c(112),{urlThreadId:i,clientThreadId:c,prefetchSearch:d}=o,r=qe(),l=Be(),g=Ge(),m=Le(),[f]=dt(),p=f.get("from_webview")==="ios";let N;e[0]!==c||e[1]!==i?(N=()=>{if(i!==void 0){const n=i;return Ye(n)??n}return c!==void 0?c:Ae()},e[0]=c,e[1]=i,e[2]=N):N=e[2];const[t,F]=a.useState(N);i!==void 0&&t!==i&&(Fe(t)===i||F(i));let y;e[3]!==t||e[4]!==r?(y=He(r,t),e[3]=t,e[4]=r,e[5]=y):y=e[5];const Oe=y,Se=Le();let L;e[6]!==Se?(L=jt(Se),e[6]=Se,e[7]=L):L=e[7];const Te=L;let V;e[8]!==t||e[9]!==i?(V=()=>{i===void 0&&Fe(t)!==void 0&&F(Ae())},e[8]=t,e[9]=i,e[10]=V):V=e[10];let z;e[11]!==t||e[12]!==Te||e[13]!==i?(z=[i,t,Te],e[11]=t,e[12]=Te,e[13]=i,e[14]=z):z=e[14],a.useEffect(V,z);const Ie=We(Ke.workspaceId),{eligible:R,isLoading:D,markAsViewed:U}=ht(),q=bt(),{eligible:B,isLoading:G,markAsViewed:H}=xt(),W=vt(),{eligible:K,isLoading:Q,markAsViewed:Y}=_t(),X=wt(),{eligible:$,isLoading:J,markAsViewed:Z}=Et(),ee=Ct();let te,se;e[15]!==r?(te=()=>{Xe(!0).then(n=>{n.force_login&&$e(r,{fallbackScreenHint:"login"}),Je.initializeAndGatherData(n),Ze.initializeAndGatherData(n)})},se=[r],e[15]=r,e[16]=te,e[17]=se):(te=e[16],se=e[17]),a.useEffect(te,se);let ie,oe;e[18]!==g||e[19]!==l||e[20]!==f?(ie=()=>{const n=f.get(Ot)==="true",A=f.get(St)==="true";A!==g&&Ne.setIsAnonModeEnabled(A),l!==n&&Ne.setIsTemporaryChatEnabled(n)},oe=[l,g,f],e[18]=g,e[19]=l,e[20]=f,e[21]=ie,e[22]=oe):(ie=e[21],oe=e[22]),a.useEffect(ie,oe);let ae;e[23]!==m.state?(ae=()=>{m.state?.focusObject&&Me.setFocusedObject(m.state.focusObject)},e[23]=m.state,e[24]=ae):ae=e[24];const ke=m.state?.focusObject;let re;e[25]!==ke?(re=[ke],e[25]=ke,e[26]=re):re=e[26],a.useEffect(ae,re);let ne,le;e[27]!==R||e[28]!==D||e[29]!==U||e[30]!==q?(ne=()=>{!D&&R&&(U(),q())},le=[R,D,U,q],e[27]=R,e[28]=D,e[29]=U,e[30]=q,e[31]=ne,e[32]=le):(ne=e[31],le=e[32]),a.useEffect(ne,le);let ce,de;e[33]!==B||e[34]!==G||e[35]!==H||e[36]!==W?(ce=()=>{!G&&B&&(H(),W())},de=[B,G,H,W],e[33]=B,e[34]=G,e[35]=H,e[36]=W,e[37]=ce,e[38]=de):(ce=e[37],de=e[38]),a.useEffect(ce,de);let fe,ue;e[39]!==K||e[40]!==Q||e[41]!==Y||e[42]!==X?(fe=()=>{!Q&&K&&(Y(),X())},ue=[K,Q,Y,X],e[39]=K,e[40]=Q,e[41]=Y,e[42]=X,e[43]=fe,e[44]=ue):(fe=e[43],ue=e[44]),a.useEffect(fe,ue);let me,ge;e[45]!==$||e[46]!==J||e[47]!==Z||e[48]!==ee?(me=()=>{!J&&$&&(Z(),ee())},ge=[$,J,Z,ee],e[45]=$,e[46]=J,e[47]=Z,e[48]=ee,e[49]=me,e[50]=ge):(me=e[49],ge=e[50]),a.useEffect(me,ge),Pt(t);const u=ft();let pe,je;e[51]!==r||e[52]!==u?(pe=()=>{et(r)&&Tt(u)},je=[u,r],e[51]=r,e[52]=u,e[53]=pe,e[54]=je):(pe=e[53],je=e[54]),a.useEffect(pe,je);let he,be;e[55]!==l||e[56]!==u?(he=()=>tt(at,{completionFinished:n=>{if(n.serverThreadId!=null&&!l){const A=st(n.serverThreadId)?.mode;A?.kind===it.GizmoInteraction&&ot.handleGizmoInteracted(u,A.gizmo_id)}}}),be=[l,u],e[55]=l,e[56]=u,e[57]=he,e[58]=be):(he=e[57],be=e[58]),a.useEffect(he,be);let j;e[59]!==t||e[60]!==p||e[61]!==Ie?(j=s.jsx(It,{clientThreadId:t,page:"chat",isIosDirectPurchaseFlow:p},Ie),e[59]=t,e[60]=p,e[61]=Ie,e[62]=j):j=e[62];let h;e[63]!==t||e[64]!==p?(h=s.jsx(as,{clientThreadId:t,setClientThreadId:F,isIosDirectPurchaseFlow:p}),e[63]=t,e[64]=p,e[65]=h):h=e[65];let xe,ve;e[66]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx(ts,{}),ve=s.jsx(kt,{}),e[66]=xe,e[67]=ve):(xe=e[66],ve=e[67]);let _e;e[68]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(Mt,{}),e[68]=_e):_e=e[68];let b;e[69]!==t||e[70]!==i?(b=s.jsx(Wt,{urlThreadId:i,clientThreadId:t,setClientThreadId:F}),e[69]=t,e[70]=i,e[71]=b):b=e[71];let x;e[72]!==t?(x=s.jsx(Kt,{clientThreadId:t}),e[72]=t,e[73]=x):x=e[73];let v;e[74]!==t||e[75]!==d||e[76]!==b||e[77]!==x?(v=s.jsxs(Ft,{clientThreadId:t,setClientThreadId:F,prefetchSearchPromises:d,children:[_e,b,x]}),e[74]=t,e[75]=d,e[76]=b,e[77]=x,e[78]=v):v=e[78];let _;e[79]!==t||e[80]!==j||e[81]!==h||e[82]!==v?(_=s.jsxs(rt,{clientThreadId:t,children:[j,h,xe,ve,v]}),e[79]=t,e[80]=j,e[81]=h,e[82]=v,e[83]=_):_=e[83];let w,E;e[84]!==t?(w=s.jsx(Zt,{clientThreadId:t}),E=s.jsx(At,{clientThreadId:t}),e[84]=t,e[85]=w,e[86]=E):(w=e[85],E=e[86]);let we;e[87]===Symbol.for("react.memo_cache_sentinel")?(we=s.jsx(Nt,{}),e[87]=we):we=e[87];let C;e[88]!==t?(C=s.jsx(yt,{clientThreadId:t}),e[88]=t,e[89]=C):C=e[89];let Ee;e[90]===Symbol.for("react.memo_cache_sentinel")?(Ee=s.jsx(Lt,{}),e[90]=Ee):Ee=e[90];let P;e[91]!==t||e[92]!==_||e[93]!==w||e[94]!==E||e[95]!==C?(P=s.jsxs(Re,{clientThreadId:t,children:[_,w,E,we,C,Ee]}),e[91]=t,e[92]=_,e[93]=w,e[94]=E,e[95]=C,e[96]=P):P=e[96];let O;e[97]!==t||e[98]!==P?(O=s.jsx(Vt,{clientThreadId:t,children:P}),e[97]=t,e[98]=P,e[99]=O):O=e[99];let S;e[100]!==t||e[101]!==O?(S=s.jsx(zt,{clientThreadId:t,children:O}),e[100]=t,e[101]=O,e[102]=S):S=e[102];let Ce;e[103]===Symbol.for("react.memo_cache_sentinel")?(Ce=!1,e[103]=Ce):Ce=e[103];let T;e[104]!==t?(T=!1,e[104]=t,e[105]=T):T=e[105];let I;e[106]!==S||e[107]!==T?(I=s.jsxs(nt,{children:[S,Ce,T]}),e[106]=S,e[107]=T,e[108]=I):I=e[108];let Pe;return e[109]!==Oe||e[110]!==I?(Pe=s.jsx(Qe.Provider,{value:Oe,children:I}),e[109]=Oe,e[110]=I,e[111]=Pe):Pe=e[111],Pe}function as({clientThreadId:o,setClientThreadId:e,isIosDirectPurchaseFlow:i}){const{isOpen:c,isLoading:d}=Rt(),{isOpen:r,isLoading:l}=Dt(),{isOpen:g,isLoading:m,closeModal:f}=Ut();return qt(),i?null:!d&&c?s.jsx(ss,{clientThreadId:o,setClientThreadId:e}):!l&&r?s.jsx(is,{clientThreadId:o}):!m&&g?s.jsx(Bt,{children:s.jsx(os,{clientThreadId:o,onClose:f})}):null}typeof window<"u"&&(window._g=es.GOKU_SERVICE);export{fs as C,Yt as F};
//# sourceMappingURL=j4imjyyfxliz5sk5.js.map

import{m7 as z,p as I,fa as O,pD as _,ez as R,e as v,ei as M,dk as C,dl as h,dj as b,f0 as E,ar as N,oi as q,mM as k}from"./lgw4q0e8zlqqfgug.js";import{r as e,ae as A,a as D,P as F,h as G,j as p}from"./m60bpb0x3x7rg8fj.js";import{C as H}from"./ccw262xxu17g34lw.js";import{r as L,en as j,eo as Q,ep as U,a as Y,cz as $,eq as w}from"./ggjzadbnd3k1vu0k.js";import"./hbir13mtq07o9x1a.js";import"./o53bheyqocotqvus.js";import"./l9bupap4fyh5egbo.js";import"./dgb06x9f8z6d0ar9.js";import"./gohr301ka7cpfe4s.js";import"./jobqnbdildqzowzf.js";import"./ls4akj6tri7bc2dz.js";import"./glu06a3y5u0laqff.js";import"./iayy5u2a26jybmdr.js";import"./n5yj38pa2aamrsfp.js";import"./rx5cs0ja7c7phupc.js";import"./dfbgvqz3f2t2gfhn.js";import"./hzuwclo1fy1q03ik.js";import"./hb68k3oakb3tiftg.js";import"./nn6a4342otoakkr2.js";import"./h81zqbvh0a7amk0o.js";import"./haz15z4nq3d0dq7v.js";import"./mlqzrqe1i57m6im6.js";import"./d4l47j95cc16bbv9.js";import"./mlo67gs1ylzshmge.js";import"./hg4s4237azdb5era.js";import"./kfjcy5y4cxuymbdf.js";function B(s,r){const i=e.useRef(0);return()=>{i.current<r&&(s(),i.current+=1)}}const jt=()=>{L();const s=O();if(!I(s,"491279851"))return A("/")},yt=z(function(){const r=D(),{gizmoSlug:i}=F(),t=_(i??""),{data:a,isError:d,error:o}=R(t,!1),n=G(),l=n.getQueryData([j]),f=n.getQueryState([j])?.fetchStatus==="fetching",S=e.useMemo(()=>l?.pages.flatMap(m=>m.items),[l]),y=v(),P=Q(),g=U(y)(t,P);e.useEffect(()=>{g.conversations$().preload$()},[g]),e.useEffect(()=>{if(d&&!a)if(o instanceof M&&(o.status===403||o.status===404))r(C(h.PROJECT_NOT_FOUND));else{const m=b(o);r(C(h.CUSTOM_ERROR,void 0,m))}},[d,a,r,o]);const[c,u]=e.useState(()=>E());Y(c,{kind:N.GizmoInteraction,gizmo_id:t}),e.useEffect(()=>{u(E())},[t]);const x=B(()=>{w(n)},5);return e.useEffect(()=>{if(!t||!a||f)return;S?.some(T=>T.gizmo.gizmo.id===t)||x()},[a,t,S,f,n,x]),p.jsx(q,{children:p.jsx(k,{clientThreadId:c,children:p.jsx($,{clientThreadId:c,setClientThreadId:u,routeType:"snorlax",children:p.jsx(H,{clientThreadId:c,setClientThreadId:u})})})})});export{jt as clientLoader,yt as default};
//# sourceMappingURL=ix05bsvsb3d6vrm6.js.map

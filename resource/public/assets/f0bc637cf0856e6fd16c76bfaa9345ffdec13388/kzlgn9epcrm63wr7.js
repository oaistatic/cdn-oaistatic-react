import{r as v,j as a,c as A,f as L,d as B}from"./m60bpb0x3x7rg8fj.js";import{z as k,b7 as P,lF as U,B as E}from"./lgw4q0e8zlqqfgug.js";const S="504-SWE-347";function W({field:t,errorState:e}){const[r,n]=v.useState({}),d=Object.values(r).reduce((l,c)=>l||c,!1);return a.jsxs("fieldset",{className:k("text-p2",t.className),children:[a.jsxs("legend",{className:"mb-2",children:[t.label," ",t.required&&"*"]}),t.subLabel&&a.jsx("div",{className:"text-token-text-secondary",children:t.subLabel}),t.options.map((l,c)=>a.jsxs("label",{className:k("group flex items-center gap-4",{"cursor-pointer":!t.disabled}),children:[a.jsxs("div",{className:"relative flex shrink-0",children:[a.jsx("input",{type:"checkbox",name:t.name,required:t.required&&!d,"aria-invalid":!!e?.error,value:l.value,disabled:t.disabled,className:k("peer/checkbox ring-token-text-primary/12 bg-token-bg-primary h-3 w-3 rounded-sm",{"border-token-text-primary/44":!e?.error,"border-token-interactive-border-danger-secondary-default":e?.error,"group-hover:bg-token-bg-tertiary":!t.disabled}),onChange:()=>{n(h=>{const o={...h};return o[l.value]=!o[l.value],o})}}),a.jsx("div",{className:"peer-checked/checkbox:bg-token-interactive-bg-primary-default peer-checked/checkbox:text-token-icon-inverted peer-disabled/checkbox:bg-token-bg-secondary absolute inset-0 flex items-center justify-center rounded-sm text-transparent transition-colors",children:a.jsx(P,{width:"10",height:"10"})})]}),a.jsx("span",{className:k({"text-token-interactive-label-tertiary-inactive":t.disabled&&!e?.error,"text-token-interactive-label-danger-secondary-default":e?.error}),children:l.label})]},c)),t.helpText&&a.jsx("div",{className:"text-token-text-secondary mt-2",children:t.helpText}),e?.errorText&&a.jsx("div",{className:"text-token-interactive-label-danger-secondary-default mt-2",children:e.errorText})]},t.name)}function F(t){"use forget";const e=A.c(21),{field:r,errorState:n,children:d}=t,l=r.name,c=r.type==="hidden";let h;e[0]!==r.className||e[1]!==c?(h=k("text-p2",r.className,{hidden:c}),e[0]=r.className,e[1]=c,e[2]=h):h=e[2];const o=r.required&&"*";let u;e[3]!==r.label||e[4]!==o?(u=a.jsxs("div",{className:"mb-2",children:[r.label," ",o]}),e[3]=r.label,e[4]=o,e[5]=u):u=e[5];let i;e[6]!==r.subLabel?(i=r.subLabel&&a.jsx("div",{className:"text-token-text-secondary",children:r.subLabel}),e[6]=r.subLabel,e[7]=i):i=e[7];let s;e[8]!==r.helpText?(s=r.helpText&&a.jsx("div",{className:"text-token-text-secondary mt-2",children:r.helpText}),e[8]=r.helpText,e[9]=s):s=e[9];let m;e[10]!==n?(m=n?.errorText&&a.jsx("div",{className:"text-token-interactive-label-danger-secondary-default mt-2",children:n.errorText}),e[10]=n,e[11]=m):m=e[11];let x;return e[12]!==d||e[13]!==r.label||e[14]!==r.name||e[15]!==h||e[16]!==u||e[17]!==i||e[18]!==s||e[19]!==m?(x=a.jsxs("label",{className:h,"aria-label":r.label,children:[u,i,d,s,m]},l),e[12]=d,e[13]=r.label,e[14]=r.name,e[15]=h,e[16]=u,e[17]=i,e[18]=s,e[19]=m,e[20]=x):x=e[20],x}function C({field:t,errorState:e}){return k("text-p2 w-full px-4.5",{"focus:border-token-text-primary/44 ring-token-text-primary/12 bg-token-bg-primary hover:border-token-text-primary/44 focus:ring-4":!t.disabled,"bg-token-text-primary/4 text-token-text-primary/60":t.disabled,"border-token-text-primary/12":!e?.error,"border-token-interactive-border-danger-secondary-default":e?.error})}function G({field:t,errorState:e}){const r=C({field:t,errorState:e});return a.jsx(F,{field:t,errorState:e,children:a.jsx("input",{id:t.name,name:t.name,required:t.required,hidden:t.hidden,disabled:t.disabled,className:k(r,"rounded-full"),type:t.type,placeholder:t.placeholder,pattern:t.pattern??(t.type==="url"?"^(https?://)?(www\\.)?[^.]+\\.[^.]+(\\.[^.]+)*":void 0),inputMode:t.inputmode,defaultValue:t.defaultValue})})}function K({field:t,errorState:e}){const r=C({field:t,errorState:e});return a.jsx(F,{field:t,errorState:e,children:a.jsx("select",{id:t.name,name:t.name,required:t.required,hidden:t.hidden,disabled:t.disabled,className:k(r,"rounded-full",{"text-token-interactive-label-danger-secondary-default":e?.error}),defaultValue:"",children:t.options.map(n=>a.jsx("option",{value:n.value,disabled:n.disabled,children:n.label},n.value))})})}function H({field:t,errorState:e}){const r=C({field:t,errorState:e});return a.jsx(F,{field:t,errorState:e,children:a.jsx("textarea",{id:t.name,name:t.name,required:t.required,hidden:t.hidden,disabled:t.disabled,className:k(r,"resize-none rounded-[8px]"),placeholder:t.placeholder,rows:t.rows,maxLength:t.maxLength,defaultValue:t.defaultValue})})}const J=t=>{"use forget";const e=A.c(5),{fields:r,validationState:n}=t;let d;if(e[0]!==r||e[1]!==n){let l;e[3]!==n?(l=(c,h)=>{if(c.type==="interlude")return a.jsx(v.Fragment,{children:c.children},`interlude-${h}`);const o=n[c.name];switch(c.type){case"text":case"email":case"tel":case"url":case"hidden":return a.jsx(G,{field:c,errorState:o},c.name);case"textarea":return a.jsx(H,{field:c,errorState:o},c.name);case"select":return a.jsx(K,{field:c,errorState:o},c.name);case"checkbox":return a.jsx(W,{field:c,errorState:o},c.name);default:return null}},e[3]=n,e[4]=l):l=e[4],d=r.map(l),e[0]=r,e[1]=n,e[2]=d}else d=e[2];return d},T=new Map;function Q(t,e){const[r,n]=v.useState("idle"),d=typeof window<"u",l=v.useMemo(()=>t,[t]);return v.useEffect(()=>{if(!d)return;const c=document.querySelector(`script[src="${l}"]`);if(c&&c._loaded){n("ready");return}n("loading");const h=()=>{const u=c??Object.assign(document.createElement("script"),{src:l,async:!0,defer:!0});if(!c){e?.nonce&&(u.nonce=e.nonce);for(const[i,s]of Object.entries(e?.attrs??{}))u.setAttribute(i,s);document.body.appendChild(u)}return new Promise((i,s)=>{const m=()=>{u._loaded=!0,i()},x=()=>s(new Error(`Failed to load ${l}`));if(u._loaded){i();return}u.addEventListener("load",m,{once:!0}),u.addEventListener("error",x,{once:!0})})},o=T.get(l)??h();T.set(l,o),o.then(()=>n("ready")).catch(()=>n("error"))},[d,l,e?.nonce,e?.attrs]),r}const $=B({valueMissing:{id:"D3VcFt",defaultMessage:"Please fill out this field."}});function X({initialValidationState:t={},formRef:e}){const r=L(),[n,d]=v.useState(t);return{validationState:n,handleFormChange:o=>{const u=o.target,i=u.dataset.validation,s={...n,...i&&i in n&&{[i]:{error:!1,errorText:""}},[u.name]:{error:!1,errorText:""}};d(s)},validate:o=>{if(!e.current)return;const i=Array.from(e.current.querySelectorAll("input, select, textarea")).map(s=>({name:s.getAttribute("name")??"",type:s.getAttribute("type")??s.tagName.toLowerCase(),required:s.hasAttribute("required")})).filter(s=>s.type!=="hidden"&&s.type!=="file"&&s.name!=="").reduce((s,m)=>{let x,g;switch(m.type){case"interlude":return s;case"select":{const b=e.current?.querySelector(`[name=${m.name}]`);x=m.required&&b.value==="",g=x?r.formatMessage($.valueMissing):"";break}case"checkbox":case"radio":{const b=e.current?.querySelectorAll(`[name="${m.name}"]`);if(b?.[0].required&&!Array.from(b).some(w=>w.checked)){x=!0,g=r.formatMessage($.valueMissing);break}return s}case"url":{const b=e.current?.querySelector(`[name="${m.name}"]`);b.value&&!/^https?:\/\//.test(b.value)&&(b.value=`https://${b.value}`),x=!b.validity.valid,g=b.validationMessage??"";break}default:{const b=e.current?.querySelector(`[name="${m.name}"]`);x=!b.validity.valid,g=b.validationMessage??"";break}}return s[m.name]={error:x,errorText:g},s},{});d(i),Object.values(i).some(s=>s.error)&&o.preventDefault()},reset:o=>{d(o??t)}}}const re=({fields:t=[],formId:e,layout:r="auto",submitLabel:n,successMessage:d,formContainerClasses:l,title:c,onChange:h,onSubmit:o,showSubmitAgain:u=!0,footer:i,afterFormComplete:s})=>{"use forget";const m=L(),x=v.useRef(null),g=v.useRef(null),[b,N]=v.useState("idle"),{validationState:w,handleFormChange:V,validate:O,reset:R}=X({formRef:x}),_=Object.values(w).filter(p=>p.error).length,D=async p=>{if(p.preventDefault(),_>0||!x.current)return;N("submitting");const y=new FormData(x.current),f={};if(y.forEach((q,j)=>{j.endsWith("[]")&&(j=j.slice(0,-2)),f[j]?f[j]=`${f[j]};${q}`:f[j]=q.toString()}),g.current.setValues(f),!g.current.validate())throw new Error("Validation mismatch between Marketo and OpenAI");g.current.submit()},z=()=>{if(R(),N("idle"),g.current){const p={};t.filter(y=>y.name).forEach(y=>{y.name&&(p[y.name]="")}),g.current.setValues(p)}},{cspScriptNonce:I}=v.useContext(U),M=Q(`//${S}.mktoweb.com/js/forms2/js/forms2.min.js`,{nonce:I});return v.useEffect(()=>{if(M!=="ready"||!window.MktoForms2)return;const p=()=>(N("success"),o?.(),s?.(),!1);window.MktoForms2.loadForm(`//${S}.mktoweb.com`,S,e,y=>{g.current=y,y.onSuccess(p)})},[e,o,M]),a.jsx("div",{className:k("multi-columns:px-0 @container grid w-full grid-cols-12",{"max-w-container":r!=="full-bleed"}),children:a.jsxs("div",{className:k("col-span-12",{"md:col-span-8 md:col-start-3 @lg:col-span-6 @lg:col-start-4":r==="auto"}),children:[c&&a.jsx("h2",{className:"text-h5 mb-md text-center",children:c}),b==="success"?a.jsxs("div",{className:"bg-secondary-100 p-sm flex flex-col items-center text-center",children:[a.jsx("div",{className:"text-token-text-secondary text-balance",children:d}),u&&a.jsx(E,{className:"mt-3",color:"primary-inverse",onClick:z,children:m.formatMessage({id:"Bzl6jr",defaultMessage:"Submit again"})})]}):a.jsxs("form",{ref:x,onSubmit:D,className:l??"flex flex-col gap-6",onChange:p=>{V(p),h?.(p)},children:[a.jsx(J,{fields:t,validationState:w}),a.jsx(E,{className:"col-span-full min-h-10",onClick:p=>{O(p)},type:"submit",disabled:b==="submitting",children:n})]}),i&&a.jsx("p",{className:"text-p2 text-token-text-primary/60 mt-6",children:i}),a.jsx("form",{id:`mktoForm_${e}`,className:"hidden"})]})})};function Y(t){const e=new Intl.NumberFormat(t.locale);return(r,n)=>e.formatRange(r,n)}const ae=t=>{const e=Y(t);return[{label:e(1,50),value:"1-50"},{label:e(51,250),value:"51-250"},{label:e(251,500),value:"251-500"},{label:e(501,1e3),value:"501-1,000"},{label:e(1001,5e3),value:"1,001-5,000"},{label:e(5001,1e4),value:"5,001-10,000"},{label:e(10001,2e4),value:"10,001-20,000"},{label:`${t.formatNumber(20001)}+`,value:"20,001+"}]},Z=["hu","ja","km","ko","mn","vi","yue","zh"];function ne(t){const e=t.split("-")[0];return Z.includes(e)?"surnameFirst":"givenFirst"}export{re as M,ne as a,ae as g};
//# sourceMappingURL=kzlgn9epcrm63wr7.js.map

import{r as l,f as w,j as s}from"./m60bpb0x3x7rg8fj.js";import y from"./kjbixc3mwnd4aum0.js";import{z as o,oo as k}from"./lgw4q0e8zlqqfgug.js";import{g as E,r as R,d as j}from"./l9vkyk4b7v3lc9s5.js";import"./bado26kntlxymn9z.js";import"./ggjzadbnd3k1vu0k.js";import"./fnje4v6gzdtvboh3.js";import"./w2eoc6xd7hexsz1e.js";const T=220;function A({messages:i,containerSize:g="full",className:u,hideBg:h,scrollToLastMessage:p}){const a=l.useRef(null),c=l.useRef([]),m=E(),b=w();return l.useEffect(()=>{const e=a.current,r=c.current.at(-1);!p||!e||!r||(e.scrollTop=r.offsetTop-e.offsetTop-T)},[p]),s.jsx("div",{ref:a,className:o({"bg-token-bg-secondary/20 dark:bg-token-bg-secondary max-h-[28rem] w-full overflow-auto rounded-[20px] px-4 py-8 md:max-h-[40.625rem]":!h},u),children:s.jsx("div",{className:o("mx-auto flex w-full max-w-[650px] flex-col",{"sm:w-[80%]":g==="small"}),children:i.map(({variant:e,message:r},n)=>{const f=i[n-1]?.variant,d=i[n+1]?.variant,x=!!d&&e!==d;return s.jsxs("div",{className:o({"flex gap-3":e==="response",contents:e!=="response"}),children:[e==="response"&&s.jsx("div",{className:o("h-[33px] w-[33px] shrink-0",{"grid place-items-center rounded-full border border-gray-100 dark:border-gray-700":f!==e}),children:f!==e&&s.jsx(k,{alt:b.formatMessage({id:"login.openAiLogo",defaultMessage:"OpenAI Logo"}),height:"19",width:"19"})}),s.jsx("div",{ref:t=>{t&&(c.current[n]=t)},className:o("prose text-body max-w-112.5",{"bg-token-bg-secondary dark:bg-token-bg-tertiary self-end rounded-[18px] [:not(:has(img))]:px-4 [:not(:has(img))]:py-3":e==="input","w-0 flex-1":e==="response","mb-3.5":e===d,"mb-7":x&&e==="input","mb-12":x&&e==="response","ms-6 sm:ms-8":e==="input"}),children:R.documentToReactComponents(r,{...m,renderNode:{...m.renderNode,[j.BLOCKS.EMBEDDED_ASSET]:({data:t})=>s.jsx("div",{style:{aspectRatio:t.target.fields.file.details.image.width/t.target.fields.file.details.image.height},className:o("not-prose bg-token-bg-secondary dark:bg-token-bg-tertiary overflow-hidden rounded-[18px]",{"w-40 sm:w-80":e==="response","w-40 sm:w-60":e==="input"}),children:s.jsx(y,{altText:t.target.fields.description,asset:t.target.fields})})}})})]},n)})})})}export{A as default};
//# sourceMappingURL=h8la3q9azz0pm302.js.map

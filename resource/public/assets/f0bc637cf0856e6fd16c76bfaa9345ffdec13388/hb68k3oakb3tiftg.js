import{f as v,r as p,j as s,d as j}from"./m60bpb0x3x7rg8fj.js";import{z as f,bc as k,cs as D}from"./lgw4q0e8zlqqfgug.js";import{aV as N}from"./ggjzadbnd3k1vu0k.js";import{S,c as h}from"./nn6a4342otoakkr2.js";function b(e){return e.split(/[\s,]+/)}function B({value:e,onChange:l,className:n,trackEmailsAdded:o,trackEmailRemoved:i,placeholder:m,classNames:M,trailingComponent:u,shouldShowTrailingComponent:g=()=>!0}){const E=v(),[t,c]=p.useState(""),I=a=>s.jsx(h.IndicatorsContainer,{...a,children:u}),y=p.useCallback(a=>{if(t&&!a.nativeEvent.isComposing)switch(a.key){case"Enter":case",":case" ":{const r=b(t);l([...e,...r.map(x)]),c(""),a.preventDefault();const V={numEmailsAdded:r.length,uploadType:"Manual"};o?.(V)}}},[t,l,e,o]),C=a=>{if(t){const r=b(t);l([...e,...r.map(x)]),c(t),a.preventDefault()}},T=g(e.map(a=>a.value),t);return s.jsx(S,{className:f("react-select-container",n),isMulti:!0,onBlur:C,classNamePrefix:"react-select",components:{...A,IndicatorsContainer:T&&u?I:()=>null},inputValue:t,isClearable:!0,menuIsOpen:!1,onChange:(a,r)=>{switch(l(a),r.action){case"pop-value":case"remove-value":i?.();break}},classNames:M,onInputChange:c,onKeyDown:y,placeholder:m??E.formatMessage(d.placeholder),value:e,"aria-labelledby":"add-emails-label",name:"add-member-emails",trackEmailRemoved:i})}const x=e=>({label:e,value:e,isValid:N.test(e)}),w=e=>{const l=v(),n=s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{children:e.children}),s.jsx(k,{className:"icon-sm"})]}),o=e.data.isValid?n:s.jsx(D,{label:l.formatMessage(d.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:n}),i=m=>{e.removeProps.onClick?.(m),e.selectProps.trackEmailRemoved?.(),m.preventDefault()};return s.jsx(h.MultiValue,{...e,children:s.jsx("div",{className:f("text-token-text-primary m-1 cursor-pointer rounded-md border border-transparent px-1.5 py-1 text-sm",e.data.isValid?"bg-token-bg-tertiary hover:border-token-border-heavy hover:bg-token-bg-tertiary":"bg-red-200 text-red-500"),role:"button",tabIndex:0,"aria-label":l.formatMessage(d.removeMember,{member:e.data.value}),...e.removeProps,onClick:i,children:o})})},A={DropdownIndicator:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:w},d=j({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});export{B as E,x as c};
//# sourceMappingURL=hb68k3oakb3tiftg.js.map

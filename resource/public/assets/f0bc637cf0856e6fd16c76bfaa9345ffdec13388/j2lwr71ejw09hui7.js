import{j as s,f as H,r as N,M as S,u as we,R as ae,L as Ae,h as ve,i as je,e as ye,a as De,c as W,ai as Y}from"./m60bpb0x3x7rg8fj.js";import{X as _e,bI as Fe,id as Oe,ss as He,bE as Be,st as Ge,su as qe,h$ as ze,dg as $e,jC as Ve}from"./ggjzadbnd3k1vu0k.js";import{b2 as ie,pT as Ce,ha as U,pU as le,bV as ce,z as V,cs as re,B as D,hi as de,hn as Ue,S as K,t as Ke,gr as Qe,hG as ke,dN as Xe,cd as oe,e as B,p as F,gh as Ze,C as Je,m6 as Ye,H as et,ds as tt,iZ as st,fz as at,fp as $,fs as he,gD as ot,rZ as nt,s8 as rt,iW as it,js as lt,qz as ct,s3 as me}from"./lgw4q0e8zlqqfgug.js";import{b as dt}from"./hbir13mtq07o9x1a.js";import{S as mt,a as ut,W as ue}from"./ngdk8aaa28n1ff0n.js";import{C as A,a as Se,b as ft,u as xt,c as Ne}from"./lycvq5rqsik44ye8.js";import{R as ht}from"./gz0tr4wahbcoz8no.js";import{C as gt,a as ge,S as pt}from"./o7wniqoxhh56wvjg.js";import{A as Me,W as ee,C as bt,h as E,D as Te,K as wt,L as vt,M as jt,j as yt,o as _t,N as Ct}from"./g7o69yifmkuxfsll.js";import{I as Re}from"./czj65b9i5sztgpdb.js";import{b as kt,a as St,c as Nt,h as fe}from"./obyri1de2ezmnazh.js";import{u as Mt,g as Tt,W as te}from"./kkyb18g9gdccsonu.js";import{a as Rt}from"./gjtxw5aaotq3dyvk.js";import{S as Et}from"./lp550lzjbjov6tk6.js";import{u as Pt,O as Lt}from"./l1t91oudwexzvvvx.js";import{W as It}from"./esc7nocjlg2ip2xz.js";import{u as Wt}from"./loqw89wii3nszys1.js";function Ee({disabled:t,children:e}){return t?s.jsx("div",{className:"pointer-events-none opacity-50 select-none","aria-hidden":"true",tabIndex:-1,inert:!0,children:e}):e}function At({isGitHubConnected:t=!1,onClickCreateEnvironment:e}){const m=H(),h=ie(),b=!1;A.Complete;const n=b,u=b,{enabled:x,isLoading:c}=Ce(U.CODEX),l=N.useCallback(()=>{h.danger(m.formatMessage({id:"+vfzDI",defaultMessage:"Error fetching connector, please ensure GitHub is enabled for your account"}))},[m,h]),a=l,{isConnected:o,isLoading:d,openGithubModal:i,error:r,refetch:w}=le(ce.GITHUB_CONNECTOR,"github","/codex",U.CODEX,l,a),j=s.jsx(ht,{refetchConnectorData:w}),y=s.jsx(D,{color:"primary",size:"medium",icon:de,loading:d||c,onClick:()=>{!x||o||i()},disabled:!x||o,className:"px-3",children:s.jsx(S,{id:"wham.codexOnboardingConnections.connectGithub",defaultMessage:"Connect to GitHub"})}),f=s.jsx(D,{color:"secondary",size:"medium",icon:_e,onClick:()=>e?.(),className:"px-3",children:s.jsx(S,{id:"wham.createEnvironment.cta",defaultMessage:"Create environment"})}),g=t||u,p=g?f:r?j:y;return s.jsx("div",{className:V("bg-token-bg-tertiary","rounded-2xl","w-full","min-h-[220px]","flex items-center justify-center","pointer-events-auto","border-token-border-light","border"),children:s.jsxs("div",{className:"flex flex-col items-center gap-2 p-8",children:[g||r||x||n?p:s.jsx(re,{label:m.formatMessage({id:"wham.codexOnboardingConnections.githubDisabledByAdmin",defaultMessage:"Disabled by workspace admin"}),children:s.jsx("div",{children:p})}),!g&&s.jsx("div",{className:"text-token-text-secondary text-xs",children:s.jsx(S,{id:"wham.whamComposer.connectGithubSubtitle",defaultMessage:"Connect a repository to create a task"})})]})})}function Dt({selectedRepository:t,selectedRepositoryId:e,onSelect:m,onCreateEnvironmentFromRepo:h}){const b=H(),[n,u]=N.useState(!1),[x,c]=N.useState(""),l=Fe(x.trim(),200),{data:a,isLoading:o,fetchNextPage:d,hasNextPage:i,isFetchingNextPage:r,isFetching:w}=Me(l),{data:j,isLoading:y}=we({queryKey:["wham","repository",e??""],enabled:!!e&&!t,queryFn:()=>ee.getRepository(e??""),staleTime:5*60*1e3}),f=N.useMemo(()=>(a?.pages??[]).flatMap(k=>k.repo_review_settings??[]).map(k=>k.repository).filter(Boolean),[a]),g=N.useMemo(()=>{const k=[],P=new Set,G=L=>{L&&L.id&&!P.has(L.id)&&(k.push(L),P.add(L.id))};return G(t??j??void 0),f.forEach(L=>G(L)),k},[f,t,j]),p=!o&&!y&&g.length===0,_=t??j,v=_?_.repository_full_name:b.formatMessage({id:"wham.codexRepositoryPopover.selectRepo",defaultMessage:"Select repository"}),T=N.useRef(null),C=N.useRef(null);N.useEffect(()=>{if(!n)return;const k=requestAnimationFrame(()=>{C.current?.focus()});return()=>cancelAnimationFrame(k)},[n]);const M=k=>{m(k),u(!1)},R=_?.id;return s.jsx("div",{className:"flex items-center gap-2 rounded-full",children:s.jsxs(Oe,{open:n,onOpenChange:u,children:[s.jsx(gt,{triggerText:v,toolTip:v,ariaLabel:b.formatMessage({id:"wham.codexRepositoryPopover.triggerAria",defaultMessage:"Select repository for Codex"}),Icon:s.jsx(de,{className:"icon-sm","aria-hidden":!0})}),s.jsx(bt,{sideOffset:8,align:"start",isOpen:n,closePopover:()=>u(!1),popoverContentRef:T,children:s.jsxs("div",{className:"flex max-h-[320px] w-80 flex-col overflow-hidden",children:[s.jsxs("div",{className:"contents",onClick:k=>{k.stopPropagation()},children:[s.jsx(Ue,{ref:C,name:"repository-search",type:"text",autoComplete:"off",value:x,onChange:k=>c(k.target.value),className:"placeholder:text-token-text-tertiary !focus-within:ring-0 my-1.5 w-full border-0 bg-transparent ps-4 outline-none focus:border-0 focus:ring-0 focus:outline-none",inputClassName:"text-sm",placeholder:b.formatMessage({id:"wham.codexRepositoryPopover.searchPlaceholder",defaultMessage:"Search repositoriesâ€¦"}),ariaLabel:b.formatMessage({id:"wham.codexRepositoryPopover.searchAria",defaultMessage:"Search repositories"}),suppressFocus:!0}),s.jsx("div",{className:"bg-token-border-default h-px w-full"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-2 py-1.5",children:o&&!g.length?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(K,{})}):p?s.jsxs("div",{className:"flex flex-col items-center gap-1 py-8 text-center",children:[s.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(S,{id:"wham.codexRepositoryPopover.noRepositories",defaultMessage:"No repositories"})}),s.jsx("p",{className:"text-token-text-secondary text-xs",children:s.jsx(S,{id:"wham.codexRepositoryPopover.noRepositoriesDescription",defaultMessage:"Connect a repository or adjust your search"})})]}):s.jsxs("div",{className:"flex flex-col gap-1",children:[g.map(k=>{const P=k.id===R;return s.jsx(ge,{label:k.repository_full_name,truncateLabel:!0,isSelected:P,onClick:()=>M(k)},k.id)}),s.jsx(Re,{isFetchingNextPage:!!r,hasNextPage:!!i,fetchNextPage:()=>{i&&!r&&d()},bgColor:"bg-transparent"}),w&&!r&&s.jsx("div",{className:"flex justify-center py-2",children:s.jsx(K,{className:"icon-sm"})})]})}),s.jsx("div",{className:"bg-token-border-default h-px w-full"}),s.jsx("div",{className:"bg-token-bg-tertiary px-2 py-1.5",children:s.jsx(ge,{className:V("w-full",t?"cursor-pointer":"cursor-not-allowed opacity-50"),noDefaultHoverState:!t,isDisabled:!t,icon:s.jsx(_e,{className:"icon-sm"}),onClick:()=>{t&&(h?.(t),u(!1))},label:b.formatMessage({id:"wham.codexRepositoryPopover.createEnvironment",defaultMessage:"Create environment from repo"})})})]})})]})})}function Ft(){return s.jsx(mt,{className:"h-9"})}function Ot({onCreateEnvironment:t}){const e=H(),{isConnected:m,isLoading:h,openGithubModal:b,error:n,refetch:u}=le(ce.GITHUB_CONNECTOR,"github","/codex",U.CODEX),{enabled:x}=Ce(U.CODEX),c=E(w=>w.setSelectedRepositoryId),l=E(w=>w.selectedRepositoryId),{isLoading:a}=Me(""),{data:o,isLoading:d}=we({queryKey:["wham","repository",l??""],enabled:!!l,queryFn:()=>ee.getRepository(l??""),staleTime:5*60*1e3}),i=h||a||d&&!!l&&!o,r=()=>{t?.()};return i?s.jsx(Ft,{}):n?s.jsx(re,{label:e.formatMessage({id:"wham.whamComposerRepositorySelector.failedClickToRetry",defaultMessage:"Click to retry"}),children:s.jsx(D,{color:"secondary",type:"button",className:"border-token-border-default flex w-fit items-center gap-1.5 rounded-full! border",onClick:u,children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(ut,{"aria-hidden":!0,className:"icon-sm"}),s.jsx(S,{id:"wham.whamComposerRepositorySelector.retry",defaultMessage:"Failed to load repositories"})]})})}):x?m?s.jsx(Dt,{selectedRepository:o,selectedRepositoryId:l??void 0,onSelect:w=>{w.id&&c(w.id)},onCreateEnvironmentFromRepo:r}):s.jsxs(D,{type:"button",color:"secondary",size:"small",onClick:b,children:[s.jsx(de,{"aria-hidden":!0,className:"icon-sm me-1.5"}),s.jsx(S,{id:"wham.whamComposerRepositorySelector.connectGithub",defaultMessage:"Connect GitHub"})]}):s.jsx(re,{label:e.formatMessage({id:"wham.whamComposerRepositorySelector.disabledByWorkspaceAdmin",defaultMessage:"Disabled by workspace admin"}),children:s.jsxs(D,{type:"button",color:"secondary",onClick:b,disabled:!0,children:[s.jsx(pt,{"aria-hidden":!0,className:"icon-sm me-1.5"}),s.jsx(S,{id:"wham.environmentsSelector.connectGithub",defaultMessage:"Connect GitHub"})]})})}const Ht=t=>N.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},N.createElement("path",{d:"M2.71967 4.21967C3.01256 3.92678 3.48744 3.92678 3.78033 4.21967L9.03033 9.46967C9.32322 9.76256 9.32322 10.2374 9.03033 10.5303L3.78033 15.7803C3.48744 16.0732 3.01256 16.0732 2.71967 15.7803C2.42678 15.4874 2.42678 15.0126 2.71967 14.7197L7.43934 10L2.71967 5.28033C2.42678 4.98744 2.42678 4.51256 2.71967 4.21967ZM10 15.25C10 14.8358 10.3358 14.5 10.75 14.5H16.75C17.1642 14.5 17.5 14.8358 17.5 15.25C17.5 15.6642 17.1642 16 16.75 16H10.75C10.3358 16 10 15.6642 10 15.25Z",fill:"currentColor"}));function se(){const t=H(),{data:e,isLoading:m}=Te(),h=Ke(),b=E(p=>p.preferredEditor),n=E(p=>p.setPreferredEditor),{eligible:u,isLoading:x,markAsViewed:c}=He(),{cli:l,vscode:a,cursor:o,windsurf:d}=Mt(),{isConnected:i,openGithubModal:r}=le(ce.GITHUB_CONNECTOR,"github","/codex/settings/code-review",U.CODEX),w=ae.useCallback(p=>{i||(p.preventDefault(),r())},[i,r]),j=Tt(b,h),[y,f]=ae.useState(!1),g=ae.useRef(!1);return!u||x||m?null:s.jsxs("div",{className:"group w-full px-3 md:px-0",children:[s.jsxs("div",{className:"text-token-text-primary flex items-center justify-between gap-1 ps-1 pt-6 pb-2 text-sm leading-tight font-medium",children:[e?s.jsx(S,{id:"wham.whatsNew.title",defaultMessage:"What's new with Codex"}):s.jsx(S,{id:"wham.gettingStarted.title",defaultMessage:"Get started with Codex"}),s.jsx(D,{onClick:c,className:"text-token-text-tertiary dark:text-token-text-tertiary w-7 items-center justify-center rounded-lg",size:"small",color:"ghost","aria-label":t.formatMessage({id:"wham.newFeatures.dismiss",defaultMessage:"Dismiss new features announcement"}),children:s.jsx(Qe,{className:"icon-sm"})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[s.jsx(ne,{children:s.jsxs("a",{href:l,target:"_blank",rel:"noreferrer",className:"group/card -m-4 flex items-center justify-between gap-3 rounded-2xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(Ht,{className:"icon-md"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(S,{id:"wham.gettingStarted.cli",defaultMessage:"Try in your terminal"})})]}),s.jsx(ke,{className:"icon-sm text-token-text-tertiary origin-bottom-left scale-75 opacity-0 transition-all duration-100 ease-out group-hover/card:scale-100 group-hover/card:opacity-100"})]})}),s.jsx(ne,{children:s.jsxs("div",{className:"group/card -m-4 flex cursor-pointer items-center justify-between gap-3 rounded-2xl p-4 select-none",role:"button",tabIndex:0,onPointerDown:()=>{g.current=y},onClick:()=>{g.current?f(!1):f(!0)},onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),f(_=>!_))},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(j,{className:"h-5 w-5"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(S,{id:"wham.gettingStarted.ide",defaultMessage:"Try in your IDE"})})]}),s.jsxs(Xe,{contentAlign:"end",open:y,onOpenChange:f,triggerButton:s.jsx("button",{onClick:p=>p.stopPropagation(),"aria-label":t.formatMessage({id:"wham.gettingStarted.ide.open",defaultMessage:"Open IDE links"}),"aria-expanded":y,className:"hover:bg-token-bg-tertiary rounded-md p-1",children:s.jsx(Be,{className:V("icon-sm text-token-text-tertiary shrink-0 transition-all duration-100 ease-out group-hover/card:translate-y-0 group-hover/card:opacity-100",y?"translate-y-0 opacity-100":"translate-y-0.5 opacity-0")})}),children:[s.jsx(oe.ItemAs,{as:"a",href:a,target:"_blank",rel:"noreferrer",onClick:()=>n("vscode"),children:"VS Code"}),s.jsx(oe.ItemAs,{as:"a",href:o,target:"_blank",rel:"noreferrer",onClick:()=>n("cursor"),children:"Cursor"}),s.jsx(oe.ItemAs,{as:"a",href:d,target:"_blank",rel:"noreferrer",onClick:()=>n("windsurf"),children:"Windsurf"})]})]})}),s.jsx(ne,{children:s.jsxs(Ae,{to:"/codex/settings/code-review",className:"group/card -m-4 flex items-center gap-2 rounded-2xl p-4",onClick:w,children:[s.jsx("div",{className:"bg-token-bg-primary dark:bg-token-bg-tertiary border-token-border-light flex h-10 w-10 items-center justify-center rounded-xl shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]",children:s.jsx(Ge,{className:"icon-md"})}),s.jsx("div",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(S,{id:"wham.gettingStarted.codeReview",defaultMessage:"Enable code review"})})]})})]})]})}function ne({children:t}){return s.jsx("div",{className:V("bg-token-bg-tertiary","dark:bg-token-bg-secondary","flex flex-col justify-between gap-1 rounded-2xl p-4"),children:t})}function Bt(){const{data:t,isLoading:e}=wt(),m=t?.items??[],[h,b]=N.useState(null);return e&&m.length===0?s.jsx("div",{className:"mt-4 flex h-full w-full items-center justify-center",children:s.jsx(K,{})}):s.jsx("div",{className:"flex flex-col justify-center",children:m.map((n,u)=>s.jsx(Se,{index:u,taskListItem:n,hoveredIndex:h,onMouseEnter:()=>b(u),onMouseLeave:()=>b(null),linkPath:`/s/${n.share_task_id}`,showArchiveButton:!1,currentFilter:"current"},n.id??`${u}`))})}function Gt(){const t=H(),e=ie(),m=E(o=>o.environmentId),h=E(o=>o.branch),b=E(o=>o.setRateLimit),[n,u]=N.useState(null),x=!m||!h,c=ve(),l=[{id:"ask-0",type:"ask",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.ask.prompt.0",defaultMessage:"Explain the codebase to a newcomer. What is the general structure, what are the important things to know, and what are some pointers for things to learn next?"})},{id:"build-1",type:"build",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.build.prompt.1",defaultMessage:"Pick a part of the codebase that seems important and find and fix a bug."})},{id:"ask-2",type:"ask",prompt:t.formatMessage({id:"wham.codexOnboardingStarterTasks.ask.prompt.2",defaultMessage:"Go through the codebase, find issues and propose one task to fix a typo, one task to fix a bug, one task to fix a code comment or documentation discrepancy, and one task to improve a test."})}],{mutate:a}=je({mutationFn:async({prompt:o,id:d})=>{if(!m||!h)throw e.danger(t.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"})),new Error("Environment, content, and branch are required");return u(d),await ee.createNewTask(m,h,o,!1)},onError:()=>{e.danger(t.formatMessage({id:"wham.whamComposer.failedToCreateTask",defaultMessage:"Failed to create task"}))},onSuccess:o=>{c.refetchQueries({queryKey:["wham","tasks"]}),o&&b(o.rate_limit)},onSettled:()=>{u(null)}});return s.jsxs("div",{className:"w-full px-3 md:px-0",children:[s.jsx("div",{className:"text-token-text-primary ps-1 pt-6 pb-3 text-sm font-medium",children:s.jsx(S,{id:"wham.startFirstTask.title",defaultMessage:"Start your first task"})}),s.jsx("div",{className:"bg-token-bg-tertiary dark:bg-token-bg-secondary rounded-3xl p-4",children:s.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:l.map(o=>s.jsxs("div",{className:V("bg-token-bg-primary dark:bg-token-bg-tertiary flex flex-col justify-between rounded-2xl p-4 shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.06)),0px_0px_1px_0px_var(--shadow-color-2,rgba(0,_0,_0,_0.3))] dark:shadow-[0px_1px_1px_0px_var(--shadow-color-1,rgba(0,_0,_0,_0.10)),inset_0px_0px_1px_0px_var(--shadow-color-2,rgba(255,_255,_255,_0.2))]"),children:[s.jsx("div",{className:"text-token-text-primary pb-4 text-sm leading-5.5",children:o.prompt}),s.jsx(D,{color:"secondary",disabled:x,loading:n===o.id,className:"self-start",onClick:()=>a({prompt:o.prompt,id:o.id}),children:s.jsx(S,{id:"wham.startFirstTask.cta",defaultMessage:"Start"})})]},o.id))})})]})}function xe(){const t=B();return F(t,"2894268612")||void 0}const pe="tab";function qt(t){switch(t){case"code_reviews":return"code_reviews";case"archived":return"archived";case"all":default:return"all"}}function Pe(){"use forget";const t=ye(),e=De(),m=E(d=>d.setTasksFilter),h=E(d=>d.homeTab),b=E(d=>d.setHomeTabValue),n=xe(),x=N.useMemo(()=>new URLSearchParams(t.search),[t.search]).get(pe),c=qt(x),l=x!=null;let a=l?c:h;a==="code_reviews"&&!n&&(a="all"),N.useEffect(()=>{m(a==="archived"?"archived":a==="code_reviews"?"code_review":"current")},[a,m]),N.useEffect(()=>{h!==a&&b(a)},[a,b,h]);const o=N.useCallback(d=>{const i=d==="code_reviews"&&!n?"all":d;b(i),m(i==="archived"?"archived":i==="code_reviews"?"code_review":"current");const r=new URLSearchParams(t.search);r.set(pe,i),e({pathname:t.pathname,search:r.toString()},{replace:!0})},[n,t.pathname,t.search,e,b,m]);return N.useEffect(()=>{x==="code_reviews"&&!n&&o("all")},[n,x,o]),{homeTab:a,setHomeTab:o,hasExplicitTab:l}}function Le(){"use forget";const t=W.c(27),e=H(),{homeTab:m,setHomeTab:h}=Pe(),b=xe();let n;t[0]!==h?(n=y=>{h(y)},t[0]=h,t[1]=n):n=t[1];const u=n;let x;t[2]!==e?(x=e.formatMessage({id:"wham.whamTasksHeader.tasks",defaultMessage:"Tasks"}),t[2]=e,t[3]=x):x=t[3];let c;t[4]!==e?(c=e.formatMessage({id:"wham.whamTasksHeader.tasksAriaLabel",defaultMessage:"Tab selector to view active tasks"}),t[4]=e,t[5]=c):c=t[5];let l;t[6]!==x||t[7]!==c?(l={label:x,ariaLabel:c,key:"all"},t[6]=x,t[7]=c,t[8]=l):l=t[8];let a;t[9]!==b||t[10]!==e?(a=b?[{label:e.formatMessage({id:"wham.whamTasksHeader.codeReviews",defaultMessage:"Code reviews"}),ariaLabel:e.formatMessage({id:"wham.whamTasksHeader.codeReviewsAriaLabel",defaultMessage:"Tab selector to view code reviews"}),key:"code_reviews"}]:[],t[9]=b,t[10]=e,t[11]=a):a=t[11];let o;t[12]!==e?(o=e.formatMessage({id:"wham.whamTasksHeader.archived",defaultMessage:"Archive"}),t[12]=e,t[13]=o):o=t[13];let d;t[14]!==e?(d=e.formatMessage({id:"wham.whamTasksHeader.archivedAriaLabel",defaultMessage:"Tab selector to view archived tasks"}),t[14]=e,t[15]=d):d=t[15];let i;t[16]!==o||t[17]!==d?(i={label:o,ariaLabel:d,key:"archived"},t[16]=o,t[17]=d,t[18]=i):i=t[18];let r;t[19]!==l||t[20]!==a||t[21]!==i?(r=[l,...a,i],t[19]=l,t[20]=a,t[21]=i,t[22]=r):r=t[22];const w=r;let j;return t[23]!==u||t[24]!==m||t[25]!==w?(j=s.jsx("div",{className:"border-token-border-primary mt-4 flex w-full items-center border-b align-middle md:mt-6",children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Rt,{currentTab:m,onChange:u,withUnderline:!0,skipTabUnderlineAnimation:!0,tabs:w})})}),t[23]=u,t[24]=m,t[25]=w,t[26]=j):j=t[26],j}function zt({repository:t,pullRequests:e,isLoading:m,isError:h,onRefreshPullRequests:b}){const n=H(),u=ie(),x=ve(),[c,l]=N.useState([]);N.useEffect(()=>{l(e?.map(v=>v.number)??[])},[e]);const a=(v,T)=>{l(C=>T?C.includes(v)?C:[...C,v]:C.filter(M=>M!==v))},o=N.useMemo(()=>t?.owner?.id,[t]),d=N.useMemo(()=>t?.id,[t]),i=je({mutationFn:async v=>{if(!t||o==null||d==null)throw new Error("missing_repository_context");return v.length===0?[]:await Promise.allSettled(v.map(C=>ee.createCodeReviewTask({installationId:o,repoId:d,prNumber:C})))},onSuccess:async(v,T)=>{const C=v.filter(R=>R.status==="fulfilled"),M=v.filter(R=>R.status==="rejected");C.length>0&&(u.success(n.formatMessage({id:"wham.codeReviewSuggestionsCard.successToast",defaultMessage:"Started Codex review for {count, plural, one {# pull request} other {# pull requests}}."},{count:C.length})),l(R=>R.filter(k=>!T.includes(k))),await x.invalidateQueries({queryKey:["wham","tasks"]}),await b?.()),M.length>0&&u.danger(n.formatMessage({id:"wham.codeReviewSuggestionsCard.failureToast",defaultMessage:"We couldn't start Codex review for {count, plural, one {# pull request} other {# pull requests}}. Try again."},{count:M.length}))},onError:()=>{u.danger(n.formatMessage({id:"wham.codeReviewSuggestionsCard.genericErrorToast",defaultMessage:"We couldn't start Codex code review right now. Try again later."}))}}),r=t?.repository_full_name??t?.name??"",w=(e?.length??0)>0,j=i.isPending,y=t&&o!=null&&d!=null,f=c.length>0,g=j||!f||!y||m;let p,_=null;return m?p=s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(K,{})}):h?p=s.jsx("p",{className:"text-token-text-secondary text-sm",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.error",defaultMessage:"We couldn't load your pull requests. Try again later."})}):t?w?(p=s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("p",{className:"text-token-text-secondary text-sm",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.openPullRequests",defaultMessage:"Choose the pull requests you want Codex to review in {repository}.",values:{repository:r}})}),s.jsx("ul",{className:"flex flex-col gap-3",children:e?.map(v=>{const T=v.title?.trim()?v.title:n.formatMessage({id:"wham.codeReviewSuggestionsCard.untitledPullRequest",defaultMessage:"Untitled pull request"}),C=c.includes(v.number);return s.jsx("li",{children:s.jsxs("label",{className:V("border-token-border-default bg-token-bg-tertiary flex items-center justify-between gap-4 rounded-2xl border px-4 py-3 transition-colors",C&&"bg-token-bg-secondary"),children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.pullRequestTitle",defaultMessage:"Review {title}",values:{title:T}})}),v.head?s.jsx("p",{className:"text-token-text-secondary mt-1 text-xs",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.pullRequestBranch",defaultMessage:"Branch: {branch}",values:{branch:v.head}})}):null]}),s.jsx(Ze,{withinLabel:!0,checked:C,onCheckedChange:M=>a(v.number,M)})]})},v.number)})})]}),_=y?s.jsx(D,{type:"button",color:"primary",size:"medium",className:"w-full",disabled:g,loading:j,onClick:()=>i.mutate(c),children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.startReviewsButton",defaultMessage:"Kick off code reviews"})}):s.jsx("span",{className:"text-token-text-tertiary text-xs",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.missingInstallation",defaultMessage:"We couldn't find the GitHub installation required to start a review for this repository."})})):p=s.jsx("p",{className:"text-token-text-secondary text-sm",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.noOpenPullRequests",defaultMessage:"We didn't find any open pull requests in {repository}. Select a repository with open PRs to start code reviews.",values:{repository:r}})}):p=s.jsx("p",{className:"text-token-text-secondary text-sm",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.noRepositorySelected",defaultMessage:"Select a repository with open PRs to start a code review."})}),s.jsxs("div",{className:"border-token-border-default bg-token-bg-primary flex flex-col gap-6 rounded-3xl border p-6 shadow-[0_16px_32px_-24px_rgba(15,23,42,0.25)]",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-token-text-primary text-lg font-semibold",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.title",defaultMessage:"Set up Code Review"})}),s.jsx("p",{className:"text-token-text-secondary mt-2 text-sm",children:s.jsx(S,{id:"wham.codeReviewSuggestionsCard.description",defaultMessage:"Code review helps you catch critical bugs before they ship by reviewing pull requests, navigating your codebase, and validating fixes."})})]}),s.jsxs("a",{href:"https://platform.openai.com/docs/codex/overview",target:"_blank",rel:"noreferrer",className:"text-token-text-secondary hover:text-token-text-primary inline-flex items-center gap-1 text-sm font-medium",children:[s.jsx(S,{id:"wham.codeReviewSuggestionsCard.documentation",defaultMessage:"Documentation"}),s.jsx(ke,{className:"icon-xs"})]})]}),p,_]})}function $t(t){"use forget";const e=W.c(12),{filter:m,homeTab:h}=t,b=E(Vt),n=h||(m==="archived"?"archived":m==="code_review"?"code_reviews":"all"),u=n==="code_reviews",x=u?b??void 0:void 0,{data:c,isLoading:l}=vt(x),a=u&&!!b;let o;e[0]!==a?(o={enabled:a,state:"open",limit:5},e[0]=a,e[1]=o):o=e[1];const{data:d,isLoading:i,isFetching:r,error:w,refetch:j}=jt(u?b??null:null,o);if(u){const f=d?.pull_requests,g=l||i||r,p=!!w;let _;e[2]!==j?(_=()=>j(),e[2]=j,e[3]=_):_=e[3];let v;return e[4]!==f||e[5]!==c||e[6]!==g||e[7]!==p||e[8]!==_?(v=s.jsx(zt,{repository:c,pullRequests:f,isLoading:g,isError:p,onRefreshPullRequests:_}),e[4]=f,e[5]=c,e[6]=g,e[7]=p,e[8]=_,e[9]=v):v=e[9],v}if(n==="archived"){let f;return e[10]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(S,{id:"wham.whamTasksSection.noArchivedTasks",defaultMessage:"No archived tasks"})}),e[10]=f):f=e[10],f}let y;return e[11]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(S,{id:"wham.whamTasksSection.noActiveTasks",defaultMessage:"No active tasks"})}),e[11]=y):y=e[11],y}function Vt(t){return t.selectedRepositoryId}function Ut({filterOverride:t,homeTab:e}={}){const m=E(({tasksFilter:g})=>g),h=t??m,{data:b,isLoading:n,error:u,fetchNextPage:x,hasNextPage:c,isFetchingNextPage:l,refetch:a,isPending:o}=yt({filter:h,refetchOnMount:!0,refetchOnWindowFocus:!0}),d=b?.pages.flatMap(g=>g.items??[])??[],i=E(g=>g.pendingTaskIds),r=d.length>0,[w,j]=N.useState(null),y=h==="archived"?[]:Array.from(Object.entries(i)).filter(([g,p])=>!d.some(_=>_.id===p)).map(([g])=>g).reverse(),f=d.length===0&&y.length===0;return s.jsx("div",{className:"flex flex-col justify-center",children:n&&!r?s.jsx("div",{className:"mt-4 flex h-full w-full items-center justify-center",children:s.jsx(K,{})}):s.jsxs(s.Fragment,{children:[f&&s.jsx(s.Fragment,{children:u?s.jsxs("div",{className:"mt-6 flex w-full flex-col items-center justify-center gap-2 text-sm",children:[s.jsx("div",{className:"text-interactive-label-warning-secondary",children:s.jsx(S,{id:"wham.whamTasksSection.errorLoadingTasks",defaultMessage:"Error loading tasks"})}),s.jsx(D,{color:"secondary",onClick:()=>a(),children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(S,{id:"wham.whamTasksSection.retry",defaultMessage:"Retry"}),s.jsx(Et,{className:"icon-xs"})]})})]}):s.jsx("div",{className:"mt-6 flex h-full w-full items-center justify-center",children:s.jsx($t,{filter:h,homeTab:e})})}),h!=="archived"&&y.map(g=>s.jsx(ft,{},g)),d.map((g,p)=>s.jsx(Se,{index:p,taskListItem:g,hoveredIndex:w,onMouseEnter:()=>{j(p)},onMouseLeave:()=>j(null),currentFilter:h},g.id)),s.jsx(Re,{isFetchingNextPage:l||o,hasNextPage:c??!1,fetchNextPage:x})]})})}const Ie=N.memo(Ut);function Kt(){const t=B();return F(t,"3516223039")||void 0}function Qt(){const t=B();return F(t,"3984934927")}function Xt(t){"use forget";const e=W.c(24),{isOpen:m,onClose:h}=t,b=H(),{markAsViewed:n}=qe(),u=E(Yt),x=E(Jt);let c;e[0]!==x||e[1]!==u?(c=(y,f)=>{u(y),x(f)},e[0]=x,e[1]=u,e[2]=c):c=e[2];const l=c;Pt();let a;e[3]!==n||e[4]!==h?(a=()=>{n(),h()},e[3]=n,e[4]=h,e[5]=a):a=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("h2",{className:"text-center text-2xl font-semibold",children:s.jsx(S,{id:"wham.createFirstEnvironmentModal.title",defaultMessage:"Create your first environment"})}),e[6]=o):o=e[6];let d;e[7]!==b?(d=b.formatMessage({id:"wham.createFirstEnvironmentModal.cancel",defaultMessage:"Cancel"}),e[7]=b,e[8]=d):d=e[8];let i;e[9]!==n||e[10]!==h?(i=()=>{n(),h()},e[9]=n,e[10]=h,e[11]=i):i=e[11];let r;e[12]!==n||e[13]!==h?(r=()=>{n(),h()},e[12]=n,e[13]=h,e[14]=r):r=e[14];let w;e[15]!==l||e[16]!==d||e[17]!==i||e[18]!==r?(w=s.jsxs("div",{className:"flex flex-col gap-4 p-6",children:[o,s.jsx(Lt,{backCta:d,handleGoBack:i,handleSelectEnvironment:l,goToNextPage:r,lockPageView:Zt})]}),e[15]=l,e[16]=d,e[17]=i,e[18]=r,e[19]=w):w=e[19];let j;return e[20]!==m||e[21]!==a||e[22]!==w?(j=s.jsx(Je,{isOpen:m,onClose:a,type:"success",size:"large",noPadding:!0,testId:"modal-wham-create-first-environment",position:"center",contentClassName:"no-scrollbar",className:"h-[90vh]",children:w}),e[20]=m,e[21]=a,e[22]=w,e[23]=j):j=e[23],j}function Zt(){}function Jt(t){return t.setBranch}function Yt(t){return t.setEnvironmentId}function Es(t){"use forget";const e=W.c(15),m=B(),h=Ye(),b=Qt(),n=et(m),u=ze();xt();const{state:x}=Ne(),{eligible:c}=$e(),l=F(m,"547652119"),a=E(es);if(!h){if(b){let g;return e[0]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx(kt,{}),e[0]=g):g=e[0],g}let f;return e[1]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(Y,{to:"/"}),e[1]=f):f=e[1],f}if(l){let f;return e[2]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(Y,{to:"/codex/failwhale"}),e[2]=f):f=e[2],f}if(u==="DISABLED"){let f;return e[3]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(Y,{to:"/",replace:!0}),e[3]=f):f=e[3],f}if(c&&x===A.LegacyOnboarding){let f;return e[4]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(Y,{to:"/codex/onboarding"}),e[4]=f):f=e[4],f}const o=Ve,d=n?.getWorkspaceId();let i;e[5]!==o||e[6]!==d?(i=s.jsx(o,{page:"codex"},d),e[5]=o,e[6]=d,e[7]=i):i=e[7];let r;e[8]!==a?(r=!1,e[8]=a,e[9]=r):r=e[9];let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(St,{children:s.jsx(Nt,{hideNotificationBell:!0})}),e[10]=w):w=e[10];let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx(dt,{mobileHeaderRightContent:null,children:s.jsxs("div",{className:"flex h-full flex-col",children:[w,s.jsx(tt,{children:s.jsx(ts,{})})]})}),e[11]=j):j=e[11];let y;return e[12]!==i||e[13]!==r?(y=s.jsxs(s.Fragment,{children:[i,r,j]}),e[12]=i,e[13]=r,e[14]=y):y=e[14],y}function es(t){return t.showReactQueryDevtools}function ts(){"use forget";const t=W.c(50),{homeTab:e,setHomeTab:m,hasExplicitTab:h}=Pe(),b=xe(),[n,u,x]=E(ss),[c,l]=N.useState(!1),a=ye(),{data:o,isLoading:d}=Te(),i=B(),{composerController:r}=Wt();let w,j;t[0]!==i?(w=()=>{st(i).prefetchInfiniteQuery(Ct("archived"))},j=[i],t[0]=i,t[1]=w,t[2]=j):(w=t[1],j=t[2]),N.useEffect(w,j);const y=N.useRef(!1);let f;t[3]!==r||t[4]!==i||t[5]!==a.state?.focusComposer?(f=()=>{const O=F(i,"1406552515");a.state?.focusComposer&&!y.current&&!O&&(at($(r)),y.current=!0)},t[3]=r,t[4]=i,t[5]=a.state?.focusComposer,t[6]=f):f=t[6];const g=a.state?.focusComposer;let p;t[7]!==r||t[8]!==i||t[9]!==g?(p=[g,r,i],t[7]=r,t[8]=i,t[9]=g,t[10]=p):p=t[10],N.useEffect(f,p);let _,v;t[11]!==r||t[12]!==i?(_=()=>{const O=F(i,"1406552515");he($(r),O?"":E.getState().promptDraft)},v=[r,i],t[11]=r,t[12]=i,t[13]=_,t[14]=v):(_=t[13],v=t[14]),N.useEffect(_,v);let T,C;t[15]!==r||t[16]!==n?(T=()=>{const O=ot(I=>{n(rt(I.doc)?"":nt(I.doc).content)},1e3);return it(lt(r),O)},C=[r,n],t[15]=r,t[16]=n,t[17]=T,t[18]=C):(T=t[17],C=t[18]),N.useEffect(T,C);let M,R;t[19]!==r||t[20]!==a.search?(R=()=>{const I=new URLSearchParams(a.search).get("prompt");I&&he($(r),I)},M=[a.search,r],t[19]=r,t[20]=a.search,t[21]=M,t[22]=R):(M=t[21],R=t[22]),N.useEffect(R,M);let k,P;t[23]!==b||t[24]!==o||t[25]!==d||t[26]!==h||t[27]!==e||t[28]!==m?(k=()=>{d||h||b&&o===!1&&e==="all"&&m("code_reviews")},P=[b,o,d,e,h,m],t[23]=b,t[24]=o,t[25]=d,t[26]=h,t[27]=e,t[28]=m,t[29]=k,t[30]=P):(k=t[29],P=t[30]),N.useEffect(k,P);const{data:G}=_t();let L,Q;t[31]!==G||t[32]!==a.search||t[33]!==u?(L=()=>{const I=new URLSearchParams(a.search).get("environment");I&&G?.some(We=>We.id===I)&&u(I)},Q=[a.search,G,u],t[31]=G,t[32]=a.search,t[33]=u,t[34]=L,t[35]=Q):(L=t[34],Q=t[35]),N.useEffect(L,Q);let X,Z;t[36]!==a.search||t[37]!==x?(X=()=>{const I=new URLSearchParams(a.search).get("branch");I&&x(I)},Z=[a.search,x],t[36]=a.search,t[37]=x,t[38]=X,t[39]=Z):(X=t[38],Z=t[39]),N.useEffect(X,Z);let q;t[40]!==r||t[41]!==e||t[42]!==n?(q=s.jsx(It,{children:s.jsx(as,{setPromptDraft:n,setShowCreateEnvModal:l,composerController:r,homeTab:e})}),t[40]=r,t[41]=e,t[42]=n,t[43]=q):q=t[43];let z;t[44]!==c?(z=c&&s.jsx(Xt,{isOpen:c,onClose:()=>l(!1)}),t[44]=c,t[45]=z):z=t[45];let J;return t[46]!==r||t[47]!==q||t[48]!==z?(J=s.jsxs(ct,{value:r,children:[q,z]}),t[46]=r,t[47]=q,t[48]=z,t[49]=J):J=t[49],J}function ss(t){return[t.setPromptDraft,t.setEnvironmentId,t.setBranch]}function as(t){"use forget";const e=W.c(21),{state:m}=Ne(),[h,b]=N.useState(!0);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=a=>{const o=()=>{b(a.scrollTop===0)};return a.addEventListener("scroll",o),o(),()=>a.removeEventListener("scroll",o)},e[0]=n):n=e[0];const u=n,x=E(os),[c]=N.useState(!!x),l=h&&x==null;switch(m){case A.Error:case A.Complete:case A.LegacyOnboarding:{let a;return e[1]!==l||e[2]!==c||e[3]!==t?(a=s.jsx(be,{...t,scrollRef:u,defaultExpanded:l,hasLastViewTaskIdOnMount:c}),e[1]=l,e[2]=c,e[3]=t,e[4]=a):a=e[4],a}case A.NoGithubConnection:{let a;return e[5]!==l||e[6]!==c||e[7]!==t?(a=s.jsx(is,{...t,scrollRef:u,defaultExpanded:l,hasLastViewTaskIdOnMount:c}),e[5]=l,e[6]=c,e[7]=t,e[8]=a):a=e[8],a}case A.NoEnvironmentsCreated:{let a;return e[9]!==l||e[10]!==c||e[11]!==t?(a=s.jsx(ls,{...t,scrollRef:u,defaultExpanded:l,hasLastViewTaskIdOnMount:c}),e[9]=l,e[10]=c,e[11]=t,e[12]=a):a=e[12],a}case A.NoTasksCreated:{let a;return e[13]!==l||e[14]!==c||e[15]!==t?(a=s.jsx(ms,{...t,scrollRef:u,defaultExpanded:l,hasLastViewTaskIdOnMount:c}),e[13]=l,e[14]=c,e[15]=t,e[16]=a):a=e[16],a}case A.Loading:{let a;return e[17]!==l||e[18]!==c||e[19]!==t?(a=s.jsx(be,{...t,scrollRef:u,defaultExpanded:l,hasLastViewTaskIdOnMount:c}),e[17]=l,e[18]=c,e[19]=t,e[20]=a):a=e[20],a}}}function os(t){return t.lastViewedTaskId}function be(t){"use forget";const e=W.c(31),{scrollRef:m,hasLastViewTaskIdOnMount:h,defaultExpanded:b,setPromptDraft:n,setShowCreateEnvModal:u,composerController:x,homeTab:c}=t,l=B();let a;e[0]!==l?(a=F(l,"1406552515"),e[0]=l,e[1]=a):a=e[1];const o=a;let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d={scrollbarGutter:"stable"},e[2]=d):d=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(te,{}),e[3]=i):i=e[3];let r;e[4]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(S,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=r):r=e[4];const w=h||o,j=b?!0:void 0,y=!o;let f;e[5]!==x||e[6]!==n?(f=()=>{me($(x)),n("")},e[5]=x,e[6]=n,e[7]=f):f=e[7];let g;e[8]!==u?(g=()=>u(!0),e[8]=u,e[9]=g):g=e[9];let p;e[10]!==w||e[11]!==j||e[12]!==y||e[13]!==f||e[14]!==g?(p=s.jsx(ue,{disableAutoFocus:w,expanded:j,isBigBoxMode:y,onSubmit:f,onSuccess:ns,onCreateEnvironment:g}),e[10]=w,e[11]=j,e[12]=y,e[13]=f,e[14]=g,e[15]=p):p=e[15];let _;e[16]!==o||e[17]!==p?(_=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(Ee,{disabled:o,children:p})}),e[16]=o,e[17]=p,e[18]=_):_=e[18];let v,T;e[19]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(se,{}),T=s.jsx(Le,{}),e[19]=v,e[20]=T):(v=e[19],T=e[20]);let C;e[21]!==_?(C=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[r,_,v,T]}),e[21]=_,e[22]=C):C=e[22];let M;e[23]!==c?(M=s.jsx(Ie,{homeTab:c}),e[23]=c,e[24]=M):M=e[24];let R;e[25]!==C||e[26]!==M?(R=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[i,C,M]}),e[25]=C,e[26]=M,e[27]=R):R=e[27];let k;return e[28]!==m||e[29]!==R?(k=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:m,style:d,children:R}),e[28]=m,e[29]=R,e[30]=k):k=e[30],k}function ns(){fe.set(rs)}function rs(t){return t+1}function is(t){"use forget";const e=W.c(15),{scrollRef:m,setShowCreateEnvModal:h}=t;let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b={scrollbarGutter:"stable"},e[0]=b):b=e[0];let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(te,{}),e[1]=n):n=e[1];let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(S,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[2]=u):u=e[2];let x;e[3]!==h?(x=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(At,{isGitHubConnected:!1,onClickCreateEnvironment:()=>h(!0)})}),e[3]=h,e[4]=x):x=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(se,{}),e[5]=c):c=e[5];let l;e[6]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx("div",{className:"w-full px-3 md:px-0",children:s.jsx("div",{className:"text-token-text-primary ps-1 pt-6 pb-4 text-sm font-medium",children:s.jsx(S,{id:"wham.samples.title",defaultMessage:"Examples of what Codex can do"})})}),e[6]=l):l=e[6];let a;e[7]!==x?(a=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[u,x,c,l]}),e[7]=x,e[8]=a):a=e[8];let o;e[9]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx("div",{className:"w-full px-3 md:px-0",children:s.jsx(Bt,{})}),e[9]=o):o=e[9];let d;e[10]!==a?(d=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[n,a,o]}),e[10]=a,e[11]=d):d=e[11];let i;return e[12]!==m||e[13]!==d?(i=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:m,style:b,children:d}),e[12]=m,e[13]=d,e[14]=i):i=e[14],i}function ls(t){"use forget";const e=W.c(32),{scrollRef:m,hasLastViewTaskIdOnMount:h,defaultExpanded:b,setPromptDraft:n,composerController:u,setShowCreateEnvModal:x,homeTab:c}=t,l=B();let a;e[0]!==l?(a=F(l,"1406552515"),e[0]=l,e[1]=a):a=e[1];const o=a,d=Kt();let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i={scrollbarGutter:"stable"},e[2]=i):i=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(te,{}),e[3]=r):r=e[3];let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(S,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=w):w=e[4];const j=h||o,y=b?!0:void 0,f=!o;let g;e[5]!==u||e[6]!==n?(g=()=>{me($(u)),n("")},e[5]=u,e[6]=n,e[7]=g):g=e[7];let p;e[8]!==x?(p=()=>x(!0),e[8]=x,e[9]=p):p=e[9];let _;e[10]!==d||e[11]!==x?(_=d?s.jsx(Ot,{onCreateEnvironment:()=>x(!0)}):void 0,e[10]=d,e[11]=x,e[12]=_):_=e[12];let v;e[13]!==_||e[14]!==j||e[15]!==y||e[16]!==f||e[17]!==g||e[18]!==p?(v=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(ue,{disableAutoFocus:j,expanded:y,isBigBoxMode:f,onSubmit:g,onSuccess:cs,onCreateEnvironment:p,environmentSelector:_})}),e[13]=_,e[14]=j,e[15]=y,e[16]=f,e[17]=g,e[18]=p,e[19]=v):v=e[19];let T,C;e[20]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(se,{}),C=s.jsx(Le,{}),e[20]=T,e[21]=C):(T=e[20],C=e[21]);let M;e[22]!==v?(M=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[w,v,T,C]}),e[22]=v,e[23]=M):M=e[23];let R;e[24]!==c?(R=s.jsx(Ie,{homeTab:c}),e[24]=c,e[25]=R):R=e[25];let k;e[26]!==M||e[27]!==R?(k=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[r,M,R]}),e[26]=M,e[27]=R,e[28]=k):k=e[28];let P;return e[29]!==m||e[30]!==k?(P=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:m,style:i,children:k}),e[29]=m,e[30]=k,e[31]=P):P=e[31],P}function cs(){fe.set(ds)}function ds(t){return t+1}function ms(t){"use forget";const e=W.c(28),{scrollRef:m,hasLastViewTaskIdOnMount:h,defaultExpanded:b,setPromptDraft:n,setShowCreateEnvModal:u,composerController:x}=t,c=B();let l;e[0]!==c?(l=F(c,"1406552515"),e[0]=c,e[1]=l):l=e[1];const a=l;let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o={scrollbarGutter:"stable"},e[2]=o):o=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(te,{}),e[3]=d):d=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("h1",{className:"mb-4 pt-4 text-3xl font-normal 2xl:mb-8 2xl:pt-8 2xl:text-3xl [@media(max-height:550px)]:hidden",children:s.jsx(S,{id:"wham.home.title",defaultMessage:"What should we code next?"})}),e[4]=i):i=e[4];const r=h||a,w=b?!0:void 0,j=!a;let y;e[5]!==x||e[6]!==n?(y=()=>{me($(x)),n("")},e[5]=x,e[6]=n,e[7]=y):y=e[7];let f;e[8]!==u?(f=()=>u(!0),e[8]=u,e[9]=f):f=e[9];let g;e[10]!==r||e[11]!==w||e[12]!==j||e[13]!==y||e[14]!==f?(g=s.jsx(ue,{disableAutoFocus:r,expanded:w,isBigBoxMode:j,onSubmit:y,onSuccess:us,onCreateEnvironment:f}),e[10]=r,e[11]=w,e[12]=j,e[13]=y,e[14]=f,e[15]=g):g=e[15];let p;e[16]!==a||e[17]!==g?(p=s.jsx("div",{className:"w-full pt-px max-md:px-3",children:s.jsx(Ee,{disabled:a,children:g})}),e[16]=a,e[17]=g,e[18]=p):p=e[18];let _;e[19]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(se,{}),e[19]=_):_=e[19];let v;e[20]!==p?(v=s.jsxs("div",{className:"bg-token-bg-primary sticky top-0 z-50 flex flex-col items-center",children:[i,p,_]}),e[20]=p,e[21]=v):v=e[21];let T;e[22]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("div",{className:"w-full",children:s.jsx(Gt,{})}),e[22]=T):T=e[22];let C;e[23]!==v?(C=s.jsxs("div",{className:"z-0 mx-auto flex w-full flex-col md:w-3xl",children:[d,v,T]}),e[23]=v,e[24]=C):C=e[24];let M;return e[25]!==m||e[26]!==C?(M=s.jsx("div",{className:"h-full w-full overflow-y-auto",ref:m,style:o,children:C}),e[25]=m,e[26]=C,e[27]=M):M=e[27],M}function us(){fe.set(fs)}function fs(t){return t+1}export{Es as W};
//# sourceMappingURL=j2lwr71ejw09hui7.js.map

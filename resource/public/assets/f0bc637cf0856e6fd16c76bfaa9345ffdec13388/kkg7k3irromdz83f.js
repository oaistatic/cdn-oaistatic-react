import{j as s,M as g,c as ie,f as we,A as xe,m as pe}from"./m60bpb0x3x7rg8fj.js";import{S as _e}from"./lqxrayj6ap3vzwmb.js";import{kD as Te,lH as Ne,iu as ye,fN as ae,iH as x,bj as fe,lI as be,lJ as Se,lK as Ae,lL as ge,lM as je,lN as ve,j as Me,cW as ne,lO as ke,l4 as Ee}from"./ggjzadbnd3k1vu0k.js";import{b$ as le,z as m,gI as De,oe as Pe,e as Re,p as Ve,nl as qe,hH as Le,dN as Oe,cd as F,rc as Be,dO as He,aa as ze,P as Fe,cs as Ge}from"./lgw4q0e8zlqqfgug.js";import{c as re}from"./hv81c3k3l9e69foo.js";import{S as Ie}from"./cs281ckvaib8kadh.js";const oe=re({animationLoader:()=>le(()=>import("./doitflbvj988jrtm.js"),[]),StaticIcon:Te}),Ke=re({animationLoader:()=>le(()=>import("./ecrufyyzn0h8291m.js"),[]),StaticIcon:Ne}),he=re({animationLoader:()=>le(()=>import("./hvsc20zw1oied9k8.js"),[]),StaticIcon:ye}),Ue=({chunk:a,size:e="small",isAnimated:o=!1,className:n,isHeadline:r})=>{const t=e==="small"?m("h-[15px] w-[15px]",n):m("icon",n);if(!a)return r?s.jsx(ae,{className:t}):null;switch(a.type===x.Glaux&&(a.queries.length>1?fe:be(a.queries[0].connectorName)??fe),a.type){case x.N7jupdAPI:return a.action==="n7jupd_as"?s.jsx(oe,{matchTextColor:!0,className:t}):a.action==="n7jupd_ag"?s.jsx(je,{className:t}):a.action==="n7jupd_cf"&&a.source?s.jsx(ve,{connector:a.source}):a.action==="n7jupd_cs"&&a.source?s.jsx(ve,{connector:a.source}):s.jsx(ae,{className:t});case x.Browsing:if(a.sources.length>0){const i=a.sources.find(d=>d in ge);if(i){const d=ge[i];return s.jsx(d,{className:t},i)}}return o?s.jsx(oe,{matchTextColor:!0,className:t}):s.jsx(je,{className:t});case x.Search:return o?s.jsx(he,{matchTextColor:!0,className:t}):s.jsx(ye,{className:t});case x.CodeAnalysis:return o?s.jsx(oe,{matchTextColor:!0,className:t}):s.jsx(Ae,{className:t});case x.ImageAnalysis:return o?s.jsx(Ke,{matchTextColor:!0,className:t}):s.jsx(Ne,{className:t});case x.Recap:return s.jsx(Pe,{className:t});case x.Glaux:return null;default:return a.type===x.ComputerOutput?a.messages.every(i=>i.author.name===De.n7jupd_m)?s.jsx(Ie,{className:t}):o?s.jsx(he,{matchTextColor:!0,className:t}):s.jsx(Se,{className:t}):r?s.jsx(ae,{className:m("-ms-[3px]",t)}):s.jsx("div",{className:m("bg-token-interactive-icon-tertiary-default h-[6px] w-[6px] rounded-full",n)})}},$e=()=>{const a=Re();return Ve(a,"3576660380")},Je=({isExpanded:a,agentVisualMode:e,setAgentVisualMode:o,isStreaming:n,isStopping:r,isKAUR1BR5:t})=>{const i=a||n,d=qe(),{open:u}=Le(),{clientThreadId:p}=Me();return s.jsxs("div",{className:m("flex flex-1 flex-row items-center gap-2 px-1",n?"justify-end":"justify-between"),children:[!n&&s.jsx(ne,{className:m("icon-sm text-token-text-secondary inline align-middle transition-transform",a&&"rotate-90")}),!r&&i&&s.jsx("div",{className:"flex flex-row items-center justify-center gap-2",children:s.jsxs(Oe,{side:"bottom",size:"small",contentClassName:"text-sm",triggerButton:s.jsx("button",{onPointerDown:l=>l.stopPropagation(),onClick:l=>l.stopPropagation(),className:"hover:bg-token-bg-tertiary flex max-h-6 items-center justify-center overflow-visible rounded-md p-1",children:s.jsx(He,{className:"text-token-text-secondary size-5"})}),children:[e==="visual-cot"&&s.jsxs(F.Item,{onClick:l=>{l.stopPropagation(),o?.("list-cot"),Ce("list-cot")},children:[s.jsx(ke,{className:"icon"}),s.jsx(g,{id:"cot.listView",defaultMessage:"Activity"})]}),e==="list-cot"&&s.jsxs(F.Item,{onClick:l=>{l.stopPropagation(),o?.("visual-cot"),Ce("visual-cot")},children:[s.jsx(Ie,{className:"icon"}),s.jsx(g,{id:"cot.desktopView",defaultMessage:"Desktop view"})]}),!d&&s.jsxs(F.Item,{onClick:l=>{l.stopPropagation(),u()},children:[s.jsx(Se,{className:"icon"}),t?s.jsx(g,{id:"qMkIYk",defaultMessage:"Open tabs"}):s.jsx(g,{id:"cot.takeOverBrowser",defaultMessage:"Take over browser"})]}),!d&&n&&s.jsxs(F.Item,{onClick:()=>Be(p,void 0,{clientInitiated:!0,reason:"agent_cot_stop",isLastTurnAgent:!0}),children:[s.jsx(Ee,{className:"icon"}),s.jsx(g,{id:"cot.stop",defaultMessage:"Stop"})]})]})})]})},Ce=a=>{ze.addAction("agent.cot_view_change",{cot_view:a}),Fe.logEvent("Agent CoT View Change",{cot_view:a})},as=a=>{"use forget";const e=ie.c(68),{isExpanded:o,isExpandDisabled:n,showChunkIcon:r,isComplete:t,latestHeadline:i,latestChunk:d,counters:u,onToggleExpanded:p,skipTitle:l,onSkip:f,shouldDisplayVisualCoT:j,agentVisualMode:G,setAgentVisualMode:K,isStreaming:q,interruptionInProgress:U,isAgentVisualCoT:ce,isKAUR1BR5:de,wasInterrupted:ue}=a,v=o===void 0?!1:o,h=n===void 0?!1:n,$=r===void 0?!0:r,R=j===void 0?!1:j,J=ce===void 0?!1:ce,W=de===void 0?!1:de,Q=ue===void 0?!1:ue,V=we();let L;e[0]!==V||e[1]!==t||e[2]!==i||e[3]!==Q?(L=i&&i.length>0?i:t?Q?V.formatMessage({id:"tD55er",defaultMessage:"Stopped thinking"}):V.formatMessage({id:"nkvZJE",defaultMessage:"Thought"}):V.formatMessage({id:"hgnsat",defaultMessage:"Thinking"}),e[0]=V,e[1]=t,e[2]=i,e[3]=Q,e[4]=L):L=e[4];const O=L,c=$e(),X=t&&u&&(u.queries>0||u.sources>0)?void 0:!1;let C;e[5]!==u?(C=u&&s.jsx(Qe,{counters:u}),e[5]=u,e[6]=C):C=e[6];const Y=c&&"flex-col";let N;e[7]!==Y?(N=m("flex w-full items-start justify-between text-start",Y),e[7]=Y,e[8]=N):N=e[8];const Z=(v||q)&&R&&"justify-between";let y;e[9]!==Z?(y=m("flex w-full items-center gap-0.5",Z),e[9]=Z,e[10]=y):y=e[10];const ee=!t&&"loading-shimmer font-medium";let S;e[11]!==ee?(S=m(ee),e[11]=ee,e[12]=S):S=e[12];const se=c&&"truncate",te=t&&(h?"text-token-text-secondary":"text-token-text-secondary hover:text-token-text-primary");let I;e[13]!==se||e[14]!==te?(I=m("flex items-center gap-1 text-start align-middle",se,te),e[13]=se,e[14]=te,e[15]=I):I=e[15];let w;e[16]!==c?(w=c?!1:{opacity:0},e[16]=c,e[17]=w):w=e[17];let B;e[18]===Symbol.for("react.memo_cache_sentinel")?(B={opacity:1},e[18]=B):B=e[18];let _;e[19]!==c?(_=c?void 0:{opacity:0,overflow:"hidden",whiteSpace:"nowrap"},e[19]=c,e[20]=_):_=e[20];let H;e[21]===Symbol.for("react.memo_cache_sentinel")?(H={type:"spring",duration:.3},e[21]=H):H=e[21];let T;e[22]!==t||e[23]!==d||e[24]!==$?(T=$&&d?.type!==x.Recap&&s.jsx(Ue,{chunk:d,isAnimated:!t,size:"medium",className:"text-token-text-secondary",isHeadline:!0}),e[22]=t,e[23]=d,e[24]=$,e[25]=T):T=e[25];let b;e[26]!==O||e[27]!==I||e[28]!==w||e[29]!==_||e[30]!==T?(b=s.jsx(xe,{mode:"popLayout",children:s.jsxs(pe.span,{className:I,initial:w,animate:B,exit:_,transition:H,children:[T,O]},O)}),e[26]=O,e[27]=I,e[28]=w,e[29]=_,e[30]=T,e[31]=b):b=e[31];let A;e[32]!==S||e[33]!==b?(A=s.jsx("span",{className:S,children:b}),e[32]=S,e[33]=b,e[34]=A):A=e[34];let M;e[35]!==G||e[36]!==c||e[37]!==U||e[38]!==J||e[39]!==h||e[40]!==v||e[41]!==W||e[42]!==q||e[43]!==K||e[44]!==R?(M=(!h||R)&&(J||!c)&&s.jsx(We,{isExpanded:v,shouldDisplayVisualCoT:R,agentVisualMode:G,setAgentVisualMode:K,isStreaming:q,isStopping:!!U,isKAUR1BR5:W}),e[35]=G,e[36]=c,e[37]=U,e[38]=J,e[39]=h,e[40]=v,e[41]=W,e[42]=q,e[43]=K,e[44]=R,e[45]=M):M=e[45];let k;e[46]!==h||e[47]!==p||e[48]!==y||e[49]!==A||e[50]!==M?(k=s.jsxs("button",{disabled:h,onClick:p,className:y,children:[A,M]}),e[46]=h,e[47]=p,e[48]=y,e[49]=A,e[50]=M,e[51]=k):k=e[51];let E;e[52]!==c||e[53]!==t||e[54]!==v||e[55]!==f||e[56]!==l?(E=!t&&!v&&f&&s.jsx(pe.div,{initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},transition:{type:"spring",duration:.3},children:s.jsxs("button",{onClick:me=>{f(me),me.stopPropagation()},className:"text-token-text-tertiary hover:text-token-text-primary whitespace-nowrap",children:[!c&&s.jsx(_e,{className:"icon-sm inline align-middle"}),s.jsxs("span",{className:m(c?"flex items-center gap-0.5":"ms-1"),children:[l??s.jsx(g,{id:"+sOejI",defaultMessage:"Skip"}),c&&s.jsx(ne,{className:"icon-xs"})]})]})}),e[52]=c,e[53]=t,e[54]=v,e[55]=f,e[56]=l,e[57]=E):E=e[57];let D;e[58]!==E?(D=s.jsx(xe,{mode:"popLayout",children:E}),e[58]=E,e[59]=D):D=e[59];let P;e[60]!==N||e[61]!==k||e[62]!==D?(P=s.jsx("div",{className:"relative w-full text-start",children:s.jsxs("div",{className:N,children:[k,D]})}),e[60]=N,e[61]=k,e[62]=D,e[63]=P):P=e[63];let z;return e[64]!==C||e[65]!==P||e[66]!==X?(z=s.jsx(Ge,{open:X,align:"start",side:"bottom",label:C,children:P}),e[64]=C,e[65]=P,e[66]=X,e[67]=z):z=e[67],z},We=a=>{"use forget";const e=ie.c(11),{isExpanded:o,shouldDisplayVisualCoT:n,agentVisualMode:r,setAgentVisualMode:t,isStreaming:i,isStopping:d,isKAUR1BR5:u}=a;if(n){let j;return e[0]!==r||e[1]!==o||e[2]!==u||e[3]!==d||e[4]!==i||e[5]!==t?(j=s.jsx(Je,{isExpanded:o,agentVisualMode:r,setAgentVisualMode:t,isStreaming:i,isStopping:d,isKAUR1BR5:u}),e[0]=r,e[1]=o,e[2]=u,e[3]=d,e[4]=i,e[5]=t,e[6]=j):j=e[6],j}const p=o&&"rotate-90";let l;e[7]!==p?(l=m("icon-sm text-token-text-secondary inline align-middle transition-transform",p),e[7]=p,e[8]=l):l=e[8];let f;return e[9]!==l?(f=s.jsx(ne,{className:l}),e[9]=l,e[10]=f):f=e[10],f},Qe=a=>{"use forget";const e=ie.c(11),{counters:o}=a;let n;e[0]!==o.queries?(n=o.queries>0&&s.jsx(g,{id:"JPkpiw",defaultMessage:"{queriesCount} searches",values:{queriesCount:o.queries}}),e[0]=o.queries,e[1]=n):n=e[1];let r;e[2]!==o.queries||e[3]!==o.sources?(r=o.queries>0&&o.sources>0&&s.jsx(s.Fragment,{children:" Â· "}),e[2]=o.queries,e[3]=o.sources,e[4]=r):r=e[4];let t;e[5]!==o.sources?(t=o.sources>0&&s.jsx(g,{id:"QnBAXR",defaultMessage:"{sourcesCount} sources",values:{sourcesCount:o.sources}}),e[5]=o.sources,e[6]=t):t=e[6];let i;return e[7]!==n||e[8]!==r||e[9]!==t?(i=s.jsxs(s.Fragment,{children:[n,r,t]}),e[7]=n,e[8]=r,e[9]=t,e[10]=i):i=e[10],i};export{as as C,Ue as a,oe as b,$e as u};
//# sourceMappingURL=kkg7k3irromdz83f.js.map

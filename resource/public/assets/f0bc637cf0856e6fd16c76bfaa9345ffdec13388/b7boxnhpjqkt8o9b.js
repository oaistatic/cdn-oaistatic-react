import{m7 as A,k as _,aZ as R,e as O,p as E,S,W as w,M as T,kg as x,P as b,s as k}from"./lgw4q0e8zlqqfgug.js";import{b as v,a as L,P as F,r as c,ae as j,j as o,d as K}from"./m60bpb0x3x7rg8fj.js";import{C as N}from"./l0p6qq8f8it6pgl9.js";import{C,i,a as d}from"./oo5ncbfpx577zaun.js";import{A as U}from"./mzp048mocl5te1fn.js";import"./ggjzadbnd3k1vu0k.js";import"./mb9azmyuz6lg619u.js";import"./m40e1ct7so23v704.js";import"./ha73j9iy5pkvdx6y.js";import"./fnje4v6gzdtvboh3.js";import"./jozqsyj8lvw2y89i.js";import"./glu06a3y5u0laqff.js";const f={pro:"chatgptpro",plus:"chatgptplusplan"},P={[d.SORA]:"sora_redirect",[d.OPERATOR]:"operator_redirect"};function D(r){i(r)&&(window.location.href=C[r])}const X=A(function(){const[M]=v(),s=L(),g=_(),{plan:a}=F(),e=M.get("checkout_from"),l=c.useRef(!1),t=R(),u=c.useMemo(()=>t?.subscriptionAnalyticsParams,[t]),y=O(),n=E(y,"1719651090");if(!a||!(a in f))throw j("/");return c.useEffect(()=>{if(!t||l.current)return;if(l.current=!0,e==="vza493q"){t.hasPaidSubscription()&&t.isPro()?window.location.href=C[e]:n||s("/");return}(async()=>{const p=i(e)&&P[e]?P[e]:"purchase_plan_redirect";try{i(e)&&w.setItem(T.CheckoutFrom,e);const m=await N.getCheckoutLink({plan_name:f[a],billing_details:{currency:x}});b.logEvent("Account Pay: Purchase Plan Redirect",{...u,plan:a,location:p}),window.location.href=m.url}catch{k(s,p)}})()},[s,g,a,e,u,n,t]),o.jsxs(o.Fragment,{children:[t&&e==="vza493q"&&n&&o.jsx(U,{currentAccount:t,onClose:()=>D(e),subtitle:h.operatorModalSubtitle,title:h.operatorModalTitle}),o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(S,{})})]})}),h=K({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{X as default};
//# sourceMappingURL=b7boxnhpjqkt8o9b.js.map

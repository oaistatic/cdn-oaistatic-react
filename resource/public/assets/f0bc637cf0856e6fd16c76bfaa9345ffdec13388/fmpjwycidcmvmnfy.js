import{hN as c,m as g,hX as m,hM as f,aq as h,e as p,H as S,gg as d,M as l,W as u,ap as z,T as y}from"./lgw4q0e8zlqqfgug.js";import{r as o}from"./m60bpb0x3x7rg8fj.js";import{ce as V}from"./ggjzadbnd3k1vu0k.js";function H(){const t=h(),a=p(),e=S(a);return t&&!d(t)&&e?.isEnterprisey()}function M(){return c(g.ChartSerialization)}function T(t,a){const e=t==="chart"?l.HasSeenAdaInteractiveChart:l.HasSeenAdaInteractiveTable,[n,i]=o.useState(u.getItem(e,{userId:a})??!1),s=o.useCallback(()=>{i(!0),u.setItem(e,!0,{userId:a})},[e,a]);return[n,s]}function v(t){const[a,e]=o.useState([]),n=z(t,y.getBranch);return o.useEffect(()=>{const i=I(n);i.length!==a.length&&e(i)},[a.length,t,n]),a}function _(t){const a=t.metadata?.aggregate_result?.messages.filter(V)??[];let e=0;const n=(t.metadata?.ada_visualizations??[]).map(s=>{let r=s;return s.type=="chart"&&(r={...s,fallback_image:a[e++]}),r}),i=(t.metadata?.attachments??[]).filter(s=>m(s.name)).map(s=>({type:"table",file_id:s.id??"",title:f(s),file_name:s.name,context_connector_info:s.context_connector_info}));return[...n,...i]}function I(t){return t.filter(e=>e.message?.author.role==="tool"&&e.message?.author.name==="python"||(e.message?.metadata?.attachments??[]).length>0).flatMap(e=>_(e.message))}export{v as a,H as b,T as c,_ as g,M as u};
//# sourceMappingURL=fmpjwycidcmvmnfy.js.map

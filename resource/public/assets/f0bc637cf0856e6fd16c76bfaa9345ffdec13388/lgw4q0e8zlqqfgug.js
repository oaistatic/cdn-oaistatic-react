const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ymx2blv9ectjv8jn.js","assets/m60bpb0x3x7rg8fj.js","assets/c0lgzzdb44exs1o3.js","assets/na619z8v8gp8n0tq.js","assets/cykkaqa9c8mqvtqr.js","assets/ozplb2v7s86mfv04.js","assets/efeun6at6fe7wcmk.js","assets/nzzchhib31ujph3g.js","assets/nyb6qzfj9cwbbq9m.js","assets/ggjzadbnd3k1vu0k.js","assets/conversation-small-j0gcsxmz.css","assets/jtmgg4xzlmvrom6i.js","assets/fxzpa6snawbw4ian.js","assets/jozqsyj8lvw2y89i.js","assets/l0p6qq8f8it6pgl9.js","assets/hkzcnlt7dmtlzav8.js","assets/glu06a3y5u0laqff.js","assets/c3zf9w3to3147toi.js","assets/epvopb3v1ogy5tif.js","assets/d1ou4osus5l9jpqt.js","assets/dtpfza6h9i0ex0bu.js","assets/hy6s1jaxh8po14h5.js","assets/d4l47j95cc16bbv9.js","assets/mlo67gs1ylzshmge.js","assets/h81zqbvh0a7amk0o.js","assets/og0mzunrykkt4tp0.js","assets/lff9oru7r5vtmz06.js","assets/kl7c6054usfnqmd4.js","assets/mia7qmdupqoji40k.js","assets/jk1xz4ir2z9wt21v.js","assets/fuq4frieju7b1bzx.js","assets/k7xqg1gcnx5m6h91.js","assets/mzp048mocl5te1fn.js","assets/mb9azmyuz6lg619u.js","assets/m40e1ct7so23v704.js","assets/ha73j9iy5pkvdx6y.js","assets/fnje4v6gzdtvboh3.js","assets/oo5ncbfpx577zaun.js","assets/kime2kclye4c7vau.js","assets/opnqtrf44t0g14xb.js","assets/jh8srhgrrwf9rrcc.js","assets/iej0cupg2dqkmejt.js","assets/ls4akj6tri7bc2dz.js","assets/dgb06x9f8z6d0ar9.js","assets/dl0t1ee5jw6sc80q.js","assets/d71wc8yq330unren.js","assets/l45weg13jezcq847.js","assets/fg36ujrp67ag8qf3.js","assets/ihfhk4rvbppxuc1w.js","assets/c2ydsdl029zi541a.js","assets/c3kvde7di7mudh4j.js","assets/fxr8k06ldp92zu6e.js","assets/lp550lzjbjov6tk6.js","assets/mw537ymyyyvf0hlo.js","assets/je5fxp5a852v8yln.js","assets/d03j86wbldy8g9mv.js","assets/m8dywj7vwik95qv3.js","assets/dirudxvdak8r6a17.js","assets/jykd7v1tpigt9yby.js","assets/jiql7n7371z0m4r5.js","assets/hg1hygbe4ieqyyvy.js","assets/g4tl5lt9yqf20m4s.js","assets/kxo4brqbh86yrfh4.js","assets/o5edhf9v3hg4igci.js","assets/ofmk3rqjad14dft0.js","assets/hg4cf4xjdtnguqel.js","assets/bk8slwxjkdlmxjxm.js","assets/cs281ckvaib8kadh.js","assets/fdxd0kk4umfy51ll.js","assets/hlwmuoo3lt87oe6a.js"])))=>i.map(i=>d[i]);
import{K as UD,N as qD,O as e4,P as zD,r as p,C as mg,c as Te,j as g,Q as Do,S as kr,T as DY,U as LY,t as t4,R as Fe,k as n4,V as r4,g as _n,v as Vr,p as Hn,d as Ot,L as vh,y as FY,z as Dl,_ as ba,W as GD,X as jY,f as it,M as Ce,Y as i4,u as Nt,s as BY,w as Tu,q as qi,Z as UY,a as zi,h as cr,i as jn,e as Rr,$ as qY,m as HD,b as gg,n as s4,a0 as zY,o as GY,a1 as HY,a2 as VD,a3 as VY,a4 as $D,a5 as WD,a6 as KD,a7 as $Y,a8 as WY,a9 as KY,aa as YY}from"./m60bpb0x3x7rg8fj.js";class Ou{static#e;#t;#r=new Map;#n=[];static get instance(){return Ou.#e||(Ou.#e=new Ou),Ou.#e}setLogger(t){if(this.#t)throw new Error("Logger already set");this.#t=t;for(const[n,r]of this.#r.entries())this.#t.addTiming(n,r);this.#r.clear();for(const{error:n,context:r}of this.#n)this.#t.addError(n,r);this.#n=[]}addTiming(t,n){this.#t?this.#t.addTiming(t,n):this.#r.set(t,n??Date.now())}addError(t,n){this.#t?this.#t.addError(t,n):(this.#n.push({error:t,context:n}),this.#n.length>10&&(console.warn("LazyLogger: too many errors"),this.#n.shift()))}}function ZY(e){return function(){const n={params:zD(),loaderData:e4(),actionData:qD(),matches:mg()};return p.createElement(e,n)}}function JY(e){return function(){const n={params:zD(),loaderData:e4(),actionData:qD(),error:UD()};return p.createElement(e,n)}}function o4(e){return function(n){const r=Symbol(void 0);return i=>{if(!i)throw new Error(`Attempted to access scoped value without a ${e}.`);const s=i;if(r in s){const o=s[r];if(o===B7)throw new Error(`[${e}] Dependency cycle during scoped value initialization.`);if(o instanceof Error)throw o;return o}try{s[r]=B7;const o=n(i);return s[r]=o,o}catch(o){const a=o instanceof Error?o:new Error(`[${e}] Failed to initialize scoped value: `+o,{cause:o});throw s[r]=a,a}}}}const en=o4("SessionContext");function QY(){const e=Symbol(void 0);return[r=>{if(!r)throw new Error("[SessionContext] Attempted to access session value without a SessionContext.");const i=r;if(e in i)return i[e];throw new Error("[SessionContext] Attempted to access session value before initialization.")},(r,i)=>{const s=r;if(e in s)throw new Error("[SessionContext] Attempted to initialize session value more than once.");s[e]=i}]}const B7=Symbol();function me(){"use forget";const e=p.useContext(YD);if(!e)throw new Error("[SessionContext] Attempted to access sessionContext outside of <SessionContextProvider>");return e}const YD=p.createContext(void 0);function ZD(){return{}}const XY=e=>{"use forget";const t=Te.c(3),{sessionContext:n,children:r}=e;let i;return t[0]!==r||t[1]!==n?(i=g.jsx(YD.Provider,{value:n,children:r}),t[0]=r,t[1]=n,t[2]=i):i=t[2],i};var eZ=(e=>(e.FreeSearchHoldout="fsh",e.AnonSearchHoldout="ash",e.NoAuthEnableFileUploads="naefu",e))(eZ||{});const[fn,tZ]=QY();function nZ(){const e=me();return fn(e)}let rZ=ZD();function Lt(){return rZ}let U7=!1;function iZ(e,t){U7||(U7=!0,tZ(e,t))}class vt extends Error{constructor(t,n,r,i,s){const o=typeof r.error=="string"&&r.error||typeof r.detail=="string"&&r.detail||r.detail?.message||r.detail?.description||r.detail?.error?.message||oZ;super(o),this.url=t,this.status=n,this.json=r,this.requestId=i,this.rawError=s,this.detail=r.detail,this.jsonError=r.error,this.rawError=s}name="RequestError";detail;jsonError;static createWithErrorMessage(t,n,r,i,s){return new vt(t,n==="client"?400:500,{error:r},i,s)}get code(){return this.detail?.code??this.jsonError?.code??this.jsonError?.error?.code??this.detail?.error?.code}isClientError(){return this.status>=400&&this.status<500}isServerError(){return this.status>=500}}class un extends Error{name="UserFileError";code;extra;constructor(t,n,r){super(t),this.code=n,this.extra=r}}const sZ="If this issue persists please contact us through our help center at help.openai.com.",a4="If this issue persists please contact us through our help center at [help.openai.com](https://help.openai.com/).",oZ=`Something went wrong. ${sZ}`,aZ=`Something went wrong while generating the response. ${a4}`,ec=`A network error occurred. Please check your connection and try again. ${a4}`,lZ="Network connection lost. Attempting to reconnect…";function yPe(e){if(e instanceof vt&&typeof e.message=="string"&&e.message)return e.message}var km=(e=>(e.HistoryDisabledConversationNotFound="history_disabled_conversation_not_found",e.ModelCapExceeded="model_cap_exceeded",e.MissingLastCompletion="missing_last_completion",e.InterruptionServerError="interruption_server_error",e))(km||{}),JD=(e=>(e.NetworkErrorWithReconnection="network_error_with_reconnection",e))(JD||{});function cZ(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Something went wrong")}function q7(e){return e instanceof Error&&e.name==="AbortError"}function uZ(e,t){return e instanceof Error&&Error.captureStackTrace?.(e,t),e}function Cs(e,t="<unknown>"){if(e==null)throw uZ(new Error(`${t}: unexpected nullish value: ${JSON.stringify(e)}`),Cs);return e}const Rp=(e,t,n={})=>{const r={level:e,message:String(t),...n};t instanceof Error&&(r.error=t),r.error instanceof Error&&(r.error=r.error.stack??String(r.error));try{console[e](r)}catch{di.error({level:"error",message:"Error stringifying log object."+(typeof r.message=="string"?` Message: ${r.message}`:"")})}},di={info:(...e)=>Rp("info",...e),error:(...e)=>Rp("error",...e),warn:(...e)=>Rp("warn",...e),debug:(...e)=>Rp("debug",...e)},dZ="client-nb0qtYlZuy2tCMN5s5ncnuIBCJncjRViT0IzFm7GqST";let QD="development";QD="production";const fZ=QD;var yl={},Yc={},Np={},z7;function hZ(){if(z7)return Np;z7=1,Object.defineProperty(Np,"__esModule",{value:!0});const e=Do();let t=class{constructor(r){this._sdkKey=r,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(r,i){var s;if(!r)return!1;const o=(0,e._typedJsonParse)(r.data,"has_updates","EvaluationResponse");return o==null?!1:(this._source=r.source,o?.has_updates!==!0||(this._rawValues=r.data,this._lcut=o.time,this._receivedAt=r.receivedAt,this._values=o,this._bootstrapMetadata=this._extractBootstrapMetadata(r.source,o),r.source&&o.user&&this._setWarningState(i,o),e.SDKFlags.setFlags(this._sdkKey,(s=o.sdk_flags)!==null&&s!==void 0?s:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.feature_gates,r)}getConfig(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.dynamic_configs,r)}getLayer(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.layer_configs,r)}getParamStore(r){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.param_stores,r)}getSource(){return this._source}getExposureMapping(){var r;return(r=this._values)===null||r===void 0?void 0:r.exposures}_extractBootstrapMetadata(r,i){if(r!=="Bootstrap")return null;const s={};return i.user&&(s.user=i.user),i.sdkInfo&&(s.generatorSDKInfo=i.sdkInfo),s.lcut=i.time,s}_getDetailedStoreResult(r,i){let s=null;return r&&(s=r[i]?r[i]:r[(0,e._DJB2)(i)]),{result:s,details:this._getDetails(s==null)}}_setWarningState(r,i){var s,o;const a=e.StableID.get(this._sdkKey);if(((s=r.customIDs)===null||s===void 0?void 0:s.stableID)!==a&&(!((o=r.customIDs)===null||o===void 0)&&o.stableID||a)){this._warnings.add("StableIDMismatch");return}if("user"in i){const l=i.user;(0,e._getFullUserHash)(r)!==(0,e._getFullUserHash)(l)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const r={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(r.warnings=Array.from(this._warnings)),r}_getDetails(r){var i,s;const o=this.getCurrentSourceDetails();let a=o.reason;const l=(i=o.warnings)!==null&&i!==void 0?i:[];this._source==="Bootstrap"&&l.length>0&&(a=a+l[0]),a!=="Uninitialized"&&a!=="NoValues"&&(a=`${a}:${r?"Unrecognized":"Recognized"}`);const c=this._source==="Bootstrap"&&(s=this._bootstrapMetadata)!==null&&s!==void 0?s:void 0;return c&&(o.bootstrapMetadata=c),Object.assign(Object.assign({},o),{reason:a})}};return Np.default=t,Np}var Zc={},Vd={},G7;function pZ(){if(G7)return Vd;G7=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd._resolveDeltasResponse=void 0;const e=Do(),t=2;function n(o,a){const l=(0,e._typedJsonParse)(a,"checksum","DeltasEvaluationResponse");if(!l)return{hadBadDeltaChecksum:!0};const c=r(o,l),u=i(c),d=(0,e._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},t);return d===l.checksumV2?JSON.stringify(u):{hadBadDeltaChecksum:!0,badChecksum:d,badMergedConfigs:u,badFullResponse:l.deltas_full_response}}Vd._resolveDeltasResponse=n;function r(o,a){return Object.assign(Object.assign(Object.assign({},o),a),{feature_gates:Object.assign(Object.assign({},o.feature_gates),a.feature_gates),layer_configs:Object.assign(Object.assign({},o.layer_configs),a.layer_configs),dynamic_configs:Object.assign(Object.assign({},o.dynamic_configs),a.dynamic_configs)})}function i(o){const a=o;return s(o.deleted_gates,a.feature_gates),delete a.deleted_gates,s(o.deleted_configs,a.dynamic_configs),delete a.deleted_configs,s(o.deleted_layers,a.layer_configs),delete a.deleted_layers,a}function s(o,a){o?.forEach(l=>{delete a[l]})}return Vd}var H7;function XD(){if(H7)return Zc;H7=1;var e=Zc&&Zc.__awaiter||function(i,s,o,a){function l(c){return c instanceof o?c:new o(function(u){u(c)})}return new(o||(o=Promise))(function(c,u){function d(m){try{h(a.next(m))}catch(v){u(v)}}function f(m){try{h(a.throw(m))}catch(v){u(v)}}function h(m){m.done?c(m.value):l(m.value).then(d,f)}h((a=a.apply(i,s||[])).next())})};Object.defineProperty(Zc,"__esModule",{value:!0});const t=Do(),n=pZ();class r extends t.NetworkCore{constructor(s,o){super(s,o);const a=s?.networkConfig;this._option=s,this._initializeUrlConfig=new t.UrlConfiguration(t.Endpoint._initialize,a?.initializeUrl,a?.api,a?.initializeFallbackUrls)}fetchEvaluations(s,o,a,l,c){var u,d,f,h,m,v;return e(this,void 0,void 0,function*(){const _=o?(0,t._typedJsonParse)(o,"has_updates","InitializeResponse"):null;let y={user:l,hash:(f=(d=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||d===void 0?void 0:d.initializeHashAlgorithm)!==null&&f!==void 0?f:"djb2",deltasResponseRequested:!1,full_checksum:null};if(_?.has_updates){const b=_?.hash_used!==((v=(m=(h=this._option)===null||h===void 0?void 0:h.networkConfig)===null||m===void 0?void 0:m.initializeHashAlgorithm)!==null&&v!==void 0?v:"djb2");y=Object.assign(Object.assign({},y),{sinceTime:c&&!b?_.time:0,previousDerivedFields:"derived_fields"in _&&c?_.derived_fields:{},deltasResponseRequested:!0,full_checksum:_.full_checksum,partialUserMatchSinceTime:b?0:_.time})}return this._fetchEvaluations(s,_,y,a)})}_fetchEvaluations(s,o,a,l){var c,u;return e(this,void 0,void 0,function*(){const d=yield this.post({sdkKey:s,urlConfig:this._initializeUrlConfig,data:a,retries:2,isStatsigEncodable:!0,priority:l});if(d?.code===204)return'{"has_updates": false}';if(d?.code!==200)return(c=d?.body)!==null&&c!==void 0?c:null;if(o?.has_updates!==!0||((u=d.body)===null||u===void 0?void 0:u.includes('"is_delta":true'))!==!0||a.deltasResponseRequested!==!0)return d.body;const f=(0,n._resolveDeltasResponse)(o,d.body);return typeof f=="string"?f:this._fetchEvaluations(s,o,Object.assign(Object.assign(Object.assign({},a),f),{deltasResponseRequested:!1}),l)})}}return Zc.default=r,Zc}var $d={},V7;function mZ(){if(V7)return $d;V7=1,Object.defineProperty($d,"__esModule",{value:!0}),$d._makeParamStoreGetter=void 0;const e=Do(),t={disableExposureLog:!0};function n(u){return u==null||u.disableExposureLog===!1}function r(u,d){return d!=null&&!(0,e._isTypeMatch)(u,d)}function i(u,d){return u.value}function s(u,d,f){return u.getFeatureGate(d.gate_name,n(f)?void 0:t).value?d.pass_value:d.fail_value}function o(u,d,f,h){const v=u.getDynamicConfig(d.config_name,n(h)?void 0:t).get(d.param_name);return r(v,f)?f:v}function a(u,d,f,h){const v=u.getExperiment(d.experiment_name,n(h)?void 0:t).get(d.param_name);return r(v,f)?f:v}function l(u,d,f,h){const v=u.getLayer(d.layer_name,n(h)?void 0:t).get(d.param_name);return r(v,f)?f:v}function c(u,d,f){return(h,m)=>{if(d==null)return m;const v=d[h];if(v==null||m!=null&&(0,e._typeOf)(m)!==v.param_type)return m;switch(v.ref_type){case"static":return i(v);case"gate":return s(u,v,f);case"dynamic_config":return o(u,v,m,f);case"experiment":return a(u,v,m,f);case"layer":return l(u,v,m,f);default:return m}}}return $d._makeParamStoreGetter=c,$d}var bl={},$7;function gZ(){if($7)return bl;$7=1;var e=bl&&bl.__awaiter||function(i,s,o,a){function l(c){return c instanceof o?c:new o(function(u){u(c)})}return new(o||(o=Promise))(function(c,u){function d(m){try{h(a.next(m))}catch(v){u(v)}}function f(m){try{h(a.throw(m))}catch(v){u(v)}}function h(m){m.done?c(m.value):l(m.value).then(d,f)}h((a=a.apply(i,s||[])).next())})};Object.defineProperty(bl,"__esModule",{value:!0}),bl.StatsigEvaluationsDataAdapter=void 0;const t=Do(),n=XD();let r=class extends t.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(s,o,a){super.attach(s,o,a),a!==null&&a instanceof n.default?this._network=a:this._network=new n.default(o??{})}getDataAsync(s,o,a){return this._getDataAsyncImpl(s,(0,t._normalizeUser)(o,this._options),a)}prefetchData(s,o){return this._prefetchDataImpl(s,o)}setData(s){const o=(0,t._typedJsonParse)(s,"has_updates","data");o&&"user"in o?super.setData(s,o.user):t.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(s,o){super.setData(s,o)}_fetchFromNetwork(s,o,a,l){var c;return e(this,void 0,void 0,function*(){const u=yield(c=this._network)===null||c===void 0?void 0:c.fetchEvaluations(this._getSdkKey(),s,a?.priority,o,l);return u??null})}_getCacheKey(s){var o;const a=(0,t._getStorageKey)(this._getSdkKey(),s,(o=this._options)===null||o===void 0?void 0:o.customUserCacheKeyFunc);return`${t.DataAdapterCachePrefix}.${this._cacheSuffix}.${a}`}_isCachedResultValidFor204(s,o){return s.fullUserHash!=null&&s.fullUserHash===(0,t._getFullUserHash)(o)}};return bl.StatsigEvaluationsDataAdapter=r,bl}var W7;function vZ(){if(W7)return Yc;W7=1;var e=Yc&&Yc.__awaiter||function(a,l,c,u){function d(f){return f instanceof c?f:new c(function(h){h(f)})}return new(c||(c=Promise))(function(f,h){function m(y){try{_(u.next(y))}catch(b){h(b)}}function v(y){try{_(u.throw(y))}catch(b){h(b)}}function _(y){y.done?f(y.value):d(y.value).then(m,v)}_((u=u.apply(a,l||[])).next())})};Object.defineProperty(Yc,"__esModule",{value:!0});const t=Do(),n=hZ(),r=XD(),i=mZ(),s=gZ();let o=class J5 extends t.StatsigClientBase{static instance(l){const c=(0,t._getStatsigGlobal)().instance(l);return c instanceof J5?c:(t.Log.warn((0,t._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new J5(l??"",{}))}constructor(l,c,u=null){var d,f;t.SDKType._setClientType(l,"javascript-client");const h=new r.default(u,v=>{this.$emt(v)});super(l,(d=u?.dataAdapter)!==null&&d!==void 0?d:new s.StatsigEvaluationsDataAdapter,h,u),this.getFeatureGate=this._memoize(t.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(t.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(t.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(t.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(t.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new n.default(l),this._network=h,this._user=this._configureUser(c,u);const m=(f=u?.plugins)!==null&&f!==void 0?f:[];for(const v of m)v.bind(this)}initializeSync(l){var c;return this.loadingStatus!=="Uninitialized"?(0,t.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(c=this._store.getWarnings())!==null&&c!==void 0?c:[]]):(this._logger.start(),this.updateUserSync(this._user,l))}initializeAsync(l){return e(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(l),this._initializePromise)})}updateUserSync(l,c){var u;const d=performance.now(),f=[...(u=this._store.getWarnings())!==null&&u!==void 0?u:[]];this._resetForUser(l);const h=this.dataAdapter.getDataSync(this._user);h==null&&f.push("NoCachedValues"),this._store.setValues(h,this._user),this._finalizeUpdate(h);const m=c?.disableBackgroundCacheRefresh;return m===!0||m==null&&h?.source==="Bootstrap"?(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-d,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f):(this._runPostUpdate(h??null,this._user),(0,t.createUpdateDetails)(!0,this._store.getSource(),performance.now()-d,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),f))}updateUserAsync(l,c){return e(this,void 0,void 0,function*(){this._resetForUser(l);const u=this._user;t.Diagnostics._markInitOverallStart(this._sdkKey);let d=this.dataAdapter.getDataSync(u);if(this._store.setValues(d,this._user),this._setStatus("Loading",d),d=yield this.dataAdapter.getDataAsync(d,u,c),u!==this._user)return(0,t.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let f=!1;d!=null&&(t.Diagnostics._markInitProcessStart(this._sdkKey),f=this._store.setValues(d,this._user),t.Diagnostics._markInitProcessEnd(this._sdkKey,{success:f})),this._finalizeUpdate(d),f||(this._errorBoundary.attachErrorIfNoneExists(t.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),t.Diagnostics._markInitOverallEnd(this._sdkKey,f,this._store.getCurrentSourceDetails());const h=t.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,t.createUpdateDetails)(f,this._store.getSource(),h,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:t.StatsigSession.get(this._sdkKey),stableID:t.StableID.get(this._sdkKey)}}checkGate(l,c){return this.getFeatureGate(l,c).value}logEvent(l,c,u){const d=typeof l=="string"?{eventName:l,value:c,metadata:u}:l;this.$emt({name:"log_event_called",event:d}),this._logger.enqueue(Object.assign(Object.assign({},d),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(l){return e(this,void 0,void 0,function*(){return t.Storage.isReady()||(yield t.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,l)})}_finalizeUpdate(l){this._store.finalize(),this._setStatus("Ready",l)}_runPostUpdate(l,c){this.dataAdapter.getDataAsync(l,c,{priority:"low"}).catch(u=>{t.Log.error("An error occurred after update.",u)})}_resetForUser(l){this._logger.reset(),this._store.reset(),this._user=this._configureUser(l,this._options)}_configureUser(l,c){var u;const d=(0,t._normalizeUser)(l,c),f=(u=d.customIDs)===null||u===void 0?void 0:u.stableID;return f&&t.StableID.setOverride(f,this._sdkKey),d}_getFeatureGateImpl(l,c){var u,d;const{result:f,details:h}=this._store.getGate(l),m=(0,t._makeFeatureGate)(l,h,f),v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getGateOverride)===null||d===void 0?void 0:d.call(u,m,this._user,c),_=v??m;return this._enqueueExposure(l,(0,t._createGateExposure)(this._user,_,this._store.getExposureMapping()),c),this.$emt({name:"gate_evaluation",gate:_}),_}_getDynamicConfigImpl(l,c){var u,d;const{result:f,details:h}=this._store.getConfig(l),m=(0,t._makeDynamicConfig)(l,h,f),v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getDynamicConfigOverride)===null||d===void 0?void 0:d.call(u,m,this._user,c),_=v??m;return this._enqueueExposure(l,(0,t._createConfigExposure)(this._user,_,this._store.getExposureMapping()),c),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:_}),_}_getExperimentImpl(l,c){var u,d,f,h;const{result:m,details:v}=this._store.getConfig(l),_=(0,t._makeExperiment)(l,v,m);_.__evaluation!=null&&(_.__evaluation.secondary_exposures=(0,t._mapExposures)((d=(u=_.__evaluation)===null||u===void 0?void 0:u.secondary_exposures)!==null&&d!==void 0?d:[],this._store.getExposureMapping()));const y=(h=(f=this.overrideAdapter)===null||f===void 0?void 0:f.getExperimentOverride)===null||h===void 0?void 0:h.call(f,_,this._user,c),b=y??_;return this._enqueueExposure(l,(0,t._createConfigExposure)(this._user,b,this._store.getExposureMapping()),c),this.$emt({name:"experiment_evaluation",experiment:b}),b}_getLayerImpl(l,c){var u,d,f;const{result:h,details:m}=this._store.getLayer(l),v=(0,t._makeLayer)(l,m,h),_=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getLayerOverride)===null||d===void 0?void 0:d.call(u,v,this._user,c);c?.disableExposureLog&&this._logger.incrementNonExposureCount(l);const y=(0,t._mergeOverride)(v,_,(f=_?.__value)!==null&&f!==void 0?f:v.__value,b=>{c?.disableExposureLog||this._enqueueExposure(l,(0,t._createLayerParameterExposure)(this._user,y,b,this._store.getExposureMapping()),c)});return this.$emt({name:"layer_evaluation",layer:y}),y}_getParameterStoreImpl(l,c){var u,d;const{result:f,details:h}=this._store.getParamStore(l);this._logger.incrementNonExposureCount(l);const m={name:l,details:h,__configuration:f,get:(0,i._makeParamStoreGetter)(this,f,c)},v=(d=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getParamStoreOverride)===null||d===void 0?void 0:d.call(u,m,c);return v!=null&&(m.__configuration=v.config,m.details=v.details,m.get=(0,i._makeParamStoreGetter)(this,v.config,c)),m}};return Yc.default=o,Yc}var K7;function _Z(){return K7||(K7=1,function(e){var t=yl&&yl.__createBinding||(Object.create?function(o,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,c,u)}:function(o,a,l,c){c===void 0&&(c=l),o[c]=a[l]}),n=yl&&yl.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,o,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const r=Do(),i=vZ();e.StatsigClient=i.default,n(Do(),e);const s=Object.assign((0,r._getStatsigGlobal)(),{StatsigClient:i.default});e.default=s}(yl)),yl}var eL=_Z(),Cl={},Sl={},Y7;function yZ(){if(Y7)return Sl;Y7=1;var e=Sl&&Sl.__awaiter||function(o,a,l,c){function u(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function h(_){try{v(c.next(_))}catch(y){f(y)}}function m(_){try{v(c.throw(_))}catch(y){f(y)}}function v(_){_.done?d(_.value):u(_.value).then(h,m)}v((c=c.apply(o,a||[])).next())})};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.LocalOverrideAdapter=void 0;const t=Do(),n="LocalOverride:Recognized";function r(){return{gate:{},dynamicConfig:{},experiment:{},layer:{}}}function i(o,a){return{gate:Object.assign({},o.gate,a.gate),dynamicConfig:Object.assign({},o.dynamicConfig,a.dynamicConfig),experiment:Object.assign({},o.experiment,a.experiment),layer:Object.assign({},o.layer,a.layer)}}let s=class{constructor(a){this._overrides=r(),this._sdkKey=a??null}_getLocalOverridesStorageKey(a){return`statsig.local-overrides.${(0,t._getStorageKey)(a)}`}loadFromStorage(){return e(this,void 0,void 0,function*(){if(this._sdkKey==null)return;t.Storage.isReady()||(yield t.Storage.isReadyResolver());const a=this._getLocalOverridesStorageKey(this._sdkKey),l=t.Storage.getItem(a),c=l?(0,t._typedJsonParse)(l,"gate","LocalOverrideAdapter overrides"):null,u=this._hasInMemoryOverrides();c&&(this._overrides=u?i(c,this._overrides):c),u&&this._saveOverridesToStorage()})}_saveOverridesToStorage(){if(this._sdkKey==null||!t.Storage.isReady())return;const a=this._getLocalOverridesStorageKey(this._sdkKey);t.Storage.setItem(a,JSON.stringify(this._overrides))}overrideGate(a,l){this._overrides.gate[a]=l,this._overrides.gate[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}_warnIfStorageNotReady(){t.Storage.isReady()||t.Log.warn("Storage is not ready. Override removal may not persist.")}removeGateOverride(a){this._warnIfStorageNotReady(),delete this._overrides.gate[a],delete this._overrides.gate[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getGateOverride(a,l){var c;const u=(c=this._overrides.gate[a.name])!==null&&c!==void 0?c:this._overrides.gate[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,details:Object.assign(Object.assign({},a.details),{reason:n})})}overrideDynamicConfig(a,l){this._overrides.dynamicConfig[a]=l,this._overrides.dynamicConfig[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeDynamicConfigOverride(a){this._warnIfStorageNotReady(),delete this._overrides.dynamicConfig[a],delete this._overrides.dynamicConfig[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getDynamicConfigOverride(a,l){return this._getConfigOverride(a,this._overrides.dynamicConfig)}overrideExperiment(a,l){this._overrides.experiment[a]=l,this._overrides.experiment[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeExperimentOverride(a){this._warnIfStorageNotReady(),delete this._overrides.experiment[a],delete this._overrides.experiment[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getExperimentOverride(a,l){return this._getConfigOverride(a,this._overrides.experiment)}overrideLayer(a,l){this._overrides.layer[a]=l,this._overrides.layer[(0,t._DJB2)(a)]=l,this._saveOverridesToStorage()}removeLayerOverride(a){this._warnIfStorageNotReady(),delete this._overrides.layer[a],delete this._overrides.layer[(0,t._DJB2)(a)],this._saveOverridesToStorage()}getAllOverrides(){return JSON.parse(JSON.stringify(this._overrides))}removeAllOverrides(){this._warnIfStorageNotReady(),this._overrides=r(),this._saveOverridesToStorage()}getLayerOverride(a,l){var c;const u=(c=this._overrides.layer[a.name])!==null&&c!==void 0?c:this._overrides.layer[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{__value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_getConfigOverride(a,l){var c;const u=(c=l[a.name])!==null&&c!==void 0?c:l[(0,t._DJB2)(a.name)];return u==null?null:Object.assign(Object.assign({},a),{value:u,get:(0,t._makeTypedGet)(a.name,u),details:Object.assign(Object.assign({},a.details),{reason:n})})}_hasInMemoryOverrides(){return Object.keys(this._overrides.gate).length>0||Object.keys(this._overrides.dynamicConfig).length>0||Object.keys(this._overrides.experiment).length>0||Object.keys(this._overrides.layer).length>0}};return Sl.LocalOverrideAdapter=s,Sl}var Z7;function bZ(){return Z7||(Z7=1,function(e){var t=Cl&&Cl.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Cl&&Cl.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(yZ(),e)}(Cl)),Cl}var CZ=bZ();function J7(e){return new Promise(t=>{setTimeout(()=>t(e()),0)})}function SZ(){const e="scheduler"in globalThis;if(!e)return{supportsScheduler:e,supportsYield:!1};const n="yield"in globalThis.scheduler;return{supportsScheduler:e,supportsYield:n}}let dv;function wZ(){const e=globalThis.scheduler,{supportsScheduler:t,supportsYield:n}=SZ();return e&&n?e:t&&!n?(Object.defineProperty(e,"yield",{value:()=>e.postTask(()=>{})}),e):(dv||(dv={postTask:J7,yield:()=>J7(()=>{})}),dv)}class EZ{scheduler;setScheduler(){this.scheduler||(this.scheduler=wZ())}postTask(t,n){return this.setScheduler(),this.scheduler.postTask(t,n)}yield(){return this.setScheduler(),this.scheduler.yield()}}const tL=new EZ;function s1(e,t,n,r){return Ci(e).logEvent(t,n,r)}function We(e,t,n){return Ci(e).checkGate(t,n)}function xn(e,t,n){return Ci(e).getDynamicConfig(t,n)}function _h(e,t,n){return Ci(e).getExperiment(t,n)}function Wt(e,t,n){return Ci(e).getLayer(t,n)}const xZ=en(()=>new CZ.LocalOverrideAdapter),kZ=e=>{const t={};return typeof e?.custom?.auth_status=="string"&&(t.auth_status=e.custom.auth_status),typeof e?.locale=="string"&&(t.browser_locale=e.locale),t};class TZ extends eL.StatsigClient{logEvent(t,n,r){const i={...kZ(this.getContext().user),...typeof t=="string"?r:t.metadata};super.logEvent(typeof t=="string"?t:t.eventName,typeof t=="string"?n:t.value??void 0,i)}}const Ci=en(e=>{const t=fn(e),n=xZ(e),r=new TZ(dZ,t.statsigPayload.user,{environment:{tier:fZ},networkConfig:{api:window.location.origin+"/v1",preventAllNetworkTraffic:!1},loggingBufferMaxSize:100,disableLogging:!1,disableStorage:!1,overrideAdapter:n,logEventCompressionMode:eL.LogEventCompressionMode.Forced});return r.dataAdapter.setData(JSON.stringify(t.statsigPayload)),r.initializeSync(),r});function Wd(){return Ci(Lt())}const _t={logEvent:(e,t,n)=>{tL.postTask(()=>{Wd().logEvent(e,t??void 0,n)},{priority:"background"})},checkGate:e=>Wd().checkGate(e),getUser:()=>Wd().getContext().user,getLayerValue(e){return Wd().getLayer(e.layerName,{disableExposureLog:!e.shouldLogExposure}).get(e.key)??e.defaultValue},checkGateWithExposureLoggingDisabled:e=>Wd().checkGate(e,{disableExposureLog:!0})};function ji(){return navigator.userAgent}function l4(){return/iPad|iPhone|iPod/.test(ji())}function c4(){return/Android/.test(ji())}function OZ(){return l4()&&ji().includes("CriOS")}function vg(){return l4()||c4()||OZ()}function Q7(){return/^((?!chrome|android).)*safari/i.test(ji())}function wPe(){return c4()&&ji().includes("Chrome")}function AZ(){return ji().includes("Mac OS X")}function nL(){return l4()||AZ()}function EPe(){return ji().includes("Windows_NT")}function xPe(){return ji().includes("Chrome/")&&!/Android|iPhone|iPad/i.test(ji())}function kPe(){return ji().includes("Firefox")}function u4(){const e=ji();return/iPad/.test(e)||c4()&&!/Mobile/.test(e)||/Tablet/.test(e)}function IZ(){return vg()&&!u4()}function rL(){return vg()||u4()}function d4(){return!rL()}const MZ=/^ChatGPT.+Macintosh;.+ Chrome\/([\d.]+) .*$/;function gi(e){return e||(e=ji()),MZ.test(e)}const RZ=["Fetch is aborted","Load failed","Script error.","Failed to execute 'insertBefore' on 'Node'","ResizeObserver loop completed with undelivered notifications.","Object Not Found Matching Id","Object.hasOwn is not a function"],NZ=100,X7=1e3,Pp=[];function e8(e,t){const n=e.findIndex(r=>r<=t);return n===-1?e.length:n}const PZ=e=>{if(e.stack?.includes("-extension://")||e.source==="console"||RZ.some(i=>e?.message?.includes(i))||e.type==="RequestError")return!0;const t=Date.now(),n=t-1e3*60;if(e8(Pp,n)>=NZ)return!0;const r=t-1e3*60*60*24;return e8(Pp,r)>=X7?!0:(Pp.unshift(t),Pp.splice(X7),!1)};function iL(){return location.origin===window.location.origin||!1}function sL(){return gi()?"mini-web":"chatgpt-web"}const t8=typeof window>"u"?void 0:window.DesktopHostGateway,Wn=t8?.getVersion()===1?t8:void 0,_g=Wn!==void 0,oL=_g||!1;function TPe(e){if(e===void 0)return;const t=/^ChatGPT\/([\d.]+) \(([^)]+)\) Electron\/([\d.]+) Chrome\/([\d.]+)$/,n=e.match(t);if(n)return n[1]}function n8(...e){try{return new URL(...e)}catch{return null}}function Sf(e){const t=new URL(e);return t.searchParams.has("q")&&t.searchParams.set("q","<redacted>"),t.toString()}const f4=window.location.host+"/ces",h4="https",DZ={},LZ=DZ,aL=`${h4}://${f4}`,lL={disableClientPersistence:!0,integrations:{"Segment.io":{apiHost:`${f4}/v1`,host:aL,protocol:h4,deliveryStrategy:{...LZ}}}},cL={writeKey:"oai",cdnURL:`${h4}://${f4}`};var p4={},Xt=(e=>(e[e.Required=0]="Required",e[e.SendIfAvailable=1]="SendIfAvailable",e[e.Anonymous=2]="Anonymous",e))(Xt||{});const dt=p4.VITE_SHARED_API_URL??window.location.origin+"/backend-api",m4=p4.VITE_SHARED_ANON_API_URL??window.location.origin+"/backend-anon",Tm=p4.VITE_PUBLIC_API_URL??window.location.origin+"/public-api",FZ="v4-2023-04-27",OPe={IT:"Italy",KR:"South Korea"},jZ={AD:"Andorra",AI:"Anguilla",AT:"Austria",AW:"Aruba",AX:"Åland Islands",BG:"Bulgaria",BL:"Saint Barthélemy",BM:"Bermuda",BQ:"Caribbean Netherlands",BV:"Bouvet Island",CH:"Switzerland",CW:"Curaçao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",EE:"Estonia",ES:"Spain",FI:"Finland",FK:"Falkland Islands",FO:"Faroe Islands",FR:"France",GB:"United Kingdom",GF:"French Guiana",GG:"Guernsey",GI:"Gibraltar",GL:"Greenland",GP:"Guadeloupe",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",HR:"Croatia",HU:"Hungary",IC:"Canary Islands",IE:"Ireland",IM:"Isle of Man",IO:"British Indian Ocean Territory",IS:"Iceland",IT:"Italy",JE:"Jersey",KY:"Cayman Islands",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",MC:"Monaco",ME:"Montenegro",MF:"Saint Martin",MQ:"Martinique",MS:"Montserrat",MT:"Malta",NC:"New Caledonia",NL:"Netherlands",NO:"Norway",PF:"French Polynesia",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PT:"Portugal",RE:"Reunion",SE:"Sweden",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SM:"San Marino",SX:"Sint Maarten",TC:"Turks and Caicos Islands",TF:"French Southern Territories",VG:"British Virgin Islands",WF:"Wallis and Futuna",YT:"Mayotte",ZA:"South Africa",ID:"Indonesia",BE:"Belgium",IN:"India",RO:"Romania",CA:"Canada",SG:"Singapore"},uL=[/^https:\/\/ab\.chatgpt\.com\//,e=>e.startsWith(aL),e=>{const t=[dt,m4],n=[/^\/sentinel\//];for(const r of t)if(e.startsWith(r)){const i=e.slice(r.length);return n.some(s=>s.test(i))}return!1}];class BZ{#e=!1;#t=new Set;#r=new Set;#n=new Map;initialize(t){if(!this.#e){{const n=_g?Wn?.getTelemetryConfig?.():void 0,r=n!==void 0?n.datadogService:sL(),i=gi()?100:1;kr.init({applicationId:"fd6e06b8-4825-4fbb-8db4-2a243f92c4bc",clientToken:"pub1f79f8ac903a5872ae5f53026d20a77c",site:"datadoghq.com",service:r,env:"prod",version:"f0bc637cf0856e6fd16c76bfaa9345ffdec13388",sessionSampleRate:i,sessionReplaySampleRate:0,trackUserInteractions:!1,defaultPrivacyLevel:DY.MASK_USER_INPUT,beforeSend:s=>{if(s.type==="error"&&PZ(s.error))return!1;if(s.view.url=Sf(s.view.url),s.type==="resource"){const o=n8(s.resource.url);if(o!=null&&(o.hostname===window.location.host||o.pathname.startsWith("/ces/")))return!1;s.resource.url=Sf(s.resource.url)}return s.type==="error"&&s.error.resource&&(s.error.resource.url=Sf(s.error.resource.url)),!0},allowedTracingUrls:[{match:s=>{const o=n8(s);if(o==null)return!1;const{hostname:a,pathname:l}=o;return!(!["openai.com",window.location.host].some(u=>a.endsWith(u))||a===window.location.host||l.startsWith("/ces/")||l.startsWith("/healthcheck"))},propagatorTypes:["datadog"]}],traceSampleRate:i,excludedActivityUrls:uL,...t}),kr.setGlobalContextProperty("track","stable"),n!==void 0&&kr.setGlobalContextProperty("is_electron_desktop_app",!0),kr.setGlobalContextProperty("is_authenticated",!1)}this.#e=!0,Ou.instance.setLogger(this)}}get viewId(){return kr.getInternalContext()?.view?.id}get sessionId(){return kr.getInternalContext()?.session_id}addAction=(t,n)=>{this.#e||(console.error("Should not call addAction before initialize"),this.initialize()),kr.addAction(t,n)};addError(t,n){if(console.error(t,n),this.#e||(console.error("Should not call addError before initialize"),this.initialize()),t instanceof vt)return;const r=typeof t=="string"?new Error(t):t;kr.addError(r,n)}addTiming(t,n){const r=n??Date.now();this.#n.set(t,r),this.#e||(console.error("Should not call addTiming before initialize"),this.initialize()),performance.mark(t,{startTime:Math.max(0,r-performance.timeOrigin)}),kr.addTiming(t,n)}addFirstTiming(t,n){this.#t.has(t)||(this.#t.add(t),this.addTiming(t,n))}addDurationVital(t,n,r){kr.addDurationVital(t,{startTime:n,duration:r})}addFirstDurationVital(t,n,r){this.#r.has(t)||(this.#r.add(t),this.addDurationVital(t,n,r))}getTimings(){return this.#n}setUser(t,n){kr.setGlobalContextProperty("is_authenticated",!0);const r={id:t.id,account_plan_type:n?.planType??"none",workspace_id:n?.id};this.#e||(console.error("Should not call setUser before initialize"),this.initialize()),kr.setUser(r)}addFeatureFlagEvaluation(t,n){kr.addFeatureFlagEvaluation(t,n)}}const G=new BZ,dL=58*60*1e3,UZ=dL,Q5={};function qZ(e,t){Q5[e]=t}function zZ(e){return e!=null&&"__type"in e&&e.__type in Q5?Q5[e.__type](e):e}const fL=JSON.stringify,Qa=en(GZ);function GZ(e){let t=!0;return e&&(t=Wt(e,"892702716").get("react_query_infinite_stale_time",!1),G.addFeatureFlagEvaluation("react_query_infinite",t)),new LY({defaultOptions:{queries:{gcTime:UZ,staleTime:t?1/0:dL,retry:!1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,networkMode:"always",queryKeyHashFn:fL,throwOnError:(n,r)=>{if(!(n instanceof vt||n instanceof un))try{G.addError(n,{queryKey:r.queryKey.map(String).join(","),queryHash:r.queryHash})}catch(i){console.error(i)}return!1}},hydrate:{deserializeData:zZ}}})}const hL=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;if(!hL)throw new Error("Missing react shared internals. Check version.");function g4(){const e=hL?.H;return e!=null&&e.useState!==e.useReducer}function ct(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var HZ={};function yg(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:HZ}var pL=Object.assign,o1=Object.getOwnPropertyDescriptor,$s=Object.defineProperty,yh=Object.prototype,X5=[];Object.freeze(X5);var v4={};Object.freeze(v4);var VZ=typeof Proxy<"u",$Z=Object.toString();function mL(){VZ||ct("Proxy not available")}function gL(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Au=function(){};function vi(e){return typeof e=="function"}function tc(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function bg(e){return e!==null&&typeof e=="object"}function Lo(e){if(!bg(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===$Z}function vL(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function bh(e,t,n){$s(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function _L(e,t,n){$s(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Xa(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return bg(r)&&r[n]===!0}}function vd(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function WZ(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function ko(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var yL=typeof Object.getOwnPropertySymbols<"u";function KZ(e){var t=Object.keys(e);if(!yL)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return yh.propertyIsEnumerable.call(e,r)})):t}var Zu=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:yL?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function bL(e){return e===null?null:typeof e=="object"?""+e:e}function Oo(e,t){return yh.hasOwnProperty.call(e,t)}var YZ=Object.getOwnPropertyDescriptors||function(t){var n={};return Zu(t).forEach(function(r){n[r]=o1(t,r)}),n};function ai(e,t){return!!(e&t)}function li(e,t,n){return n?e|=t:e&=~t,e}function r8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ZZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,QZ(r.key),r)}}function _d(e,t,n){return t&&ZZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iu(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=XZ(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(null,arguments)}function CL(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e6(e,t)}function e6(e,t){return e6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},e6(e,t)}function JZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function QZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(e){if(typeof e=="string")return r8(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r8(e,t):void 0}}var zs=Symbol("mobx-stored-annotations");function us(e){function t(n,r){if(Sh(r))return e.decorate_20223_(n,r);Ch(n,r,e)}return Object.assign(t,e)}function Ch(e,t,n){Oo(e,zs)||bh(e,zs,Fa({},e[zs])),lJ(n)||(e[zs][t]=n)}function eJ(e){return Oo(e,zs)||bh(e,zs,Fa({},e[zs])),e[zs]}function Sh(e){return typeof e=="object"&&typeof e.kind=="string"}var Ue=Symbol("mobx administration"),el=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Pt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return BL(this)},t.reportChanged=function(){Ur(),UL(this),qr()},t.toString=function(){return this.name_},_d(e,[{key:"isBeingObserved",get:function(){return ai(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=li(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ai(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=li(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ai(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=li(this.flags_,e.diffValueMask_,r===1)}}])}();el.isBeingObservedMask_=1;el.isPendingUnobservationMask_=2;el.diffValueMask_=4;var _4=Xa("Atom",el);function Cg(e,t,n){t===void 0&&(t=Au),n===void 0&&(n=Au);var r=new el(e);return t!==Au&&YL(r,t),n!==Au&&S4(r,n),r}function tJ(e,t){return e===t}function nJ(e,t){return O4(e,t)}function rJ(e,t){return O4(e,t,1)}function iJ(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var nc={identity:tJ,structural:nJ,default:iJ,shallow:rJ};function rc(e,t,n){return Ag(e)?e:Array.isArray(e)?Dn.array(e,{name:n}):Lo(e)?Dn.object(e,void 0,{name:n}):vd(e)?Dn.map(e,{name:n}):ko(e)?Dn.set(e,{name:n}):typeof e=="function"&&!Qu(e)&&!Xu(e)?vL(e)?sc(e):Ju(n,e):e}function sJ(e,t,n){if(e==null||ar(e)||Wr(e)||ur(e)||Ln(e))return e;if(Array.isArray(e))return Dn.array(e,{name:n,deep:!1});if(Lo(e))return Dn.object(e,void 0,{name:n,deep:!1});if(vd(e))return Dn.map(e,{name:n,deep:!1});if(ko(e))return Dn.set(e,{name:n,deep:!1})}function Sg(e){return e}function oJ(e,t){return O4(e,t)?t:e}var SL="override",aJ=us({annotationType_:SL,make_:cJ,extend_:uJ,decorate_20223_:dJ});function lJ(e){return e.annotationType_===SL}function cJ(e,t){return 0}function uJ(e,t,n,r){ct("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function dJ(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function wh(e,t){return{annotationType_:e,options_:t,make_:fJ,extend_:hJ,decorate_20223_:pJ}}function fJ(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(Qu(n.value))return 1;var s=wL(e,this,t,n,!1);return $s(r,t,s),2}function hJ(e,t,n,r){var i=wL(e,this,t,n);return e.defineProperty_(t,i,r)}function pJ(e,t){var n=t.kind,r=t.name,i=t.addInitializer,s=this,o=function(c){var u,d,f,h;return ja((u=(d=s.options_)==null?void 0:d.name)!=null?u:r.toString(),c,(f=(h=s.options_)==null?void 0:h.autoAction)!=null?f:!1)};if(n=="field")return function(l){var c,u=l;return Qu(u)||(u=o(u)),(c=s.options_)!=null&&c.bound&&(u=u.bind(this),u.isMobxAction=!0),u};if(n=="method"){var a;return Qu(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&i(function(){var l=this,c=l[r].bind(l);c.isMobxAction=!0,l[r]=c}),e}ct("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function mJ(e,t,n,r){t.annotationType_,r.value}function wL(e,t,n,r,i){var s,o,a,l,c,u,d;i===void 0&&(i=_e.safeDescriptors),mJ(e,t,n,r);var f=r.value;if((s=t.options_)!=null&&s.bound){var h;f=f.bind((h=e.proxy_)!=null?h:e.target_)}return{value:ja((o=(a=t.options_)==null?void 0:a.name)!=null?o:n.toString(),f,(l=(c=t.options_)==null?void 0:c.autoAction)!=null?l:!1,(u=t.options_)!=null&&u.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function EL(e,t){return{annotationType_:e,options_:t,make_:gJ,extend_:vJ,decorate_20223_:_J}}function gJ(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!Oo(e.target_,t)||!Xu(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Xu(n.value))return 1;var s=xL(e,this,t,n,!1,!1);return $s(r,t,s),2}function vJ(e,t,n,r){var i,s=xL(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,s,r)}function _J(e,t){var n,r=t.name,i=t.addInitializer;return Xu(e)||(e=sc(e)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),e}function yJ(e,t,n,r){t.annotationType_,r.value}function xL(e,t,n,r,i,s){s===void 0&&(s=_e.safeDescriptors),yJ(e,t,n,r);var o=r.value;if(Xu(o)||(o=sc(o)),i){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function y4(e,t){return{annotationType_:e,options_:t,make_:bJ,extend_:CJ,decorate_20223_:SJ}}function bJ(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function CJ(e,t,n,r){return wJ(e,this,t,n),e.defineComputedProperty_(t,Fa({},this.options_,{get:n.get,set:n.set}),r)}function SJ(e,t){var n=this,r=t.name,i=t.addInitializer;return i(function(){var s=Sc(this)[Ue],o=Fa({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new ps(o))}),function(){return this[Ue].getObservablePropValue_(r)}}function wJ(e,t,n,r){t.annotationType_,r.get}function wg(e,t){return{annotationType_:e,options_:t,make_:EJ,extend_:xJ,decorate_20223_:kJ}}function EJ(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function xJ(e,t,n,r){var i,s;return TJ(e,this),e.defineObservableProperty_(t,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:rc,r)}function kJ(e,t){var n=this,r=t.kind,i=t.name,s=new WeakSet;function o(a,l){var c,u,d=Sc(a)[Ue],f=new Ma(l,(c=(u=n.options_)==null?void 0:u.enhancer)!=null?c:rc,"ObservableObject."+i.toString(),!1);d.values_.set(i,f),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[Ue].getObservablePropValue_(i)},set:function(l){return s.has(this)||o(this,l),this[Ue].setObservablePropValue_(i,l)},init:function(l){return s.has(this)||o(this,l),l}}}function TJ(e,t,n,r){t.annotationType_}var OJ="true",AJ=kL();function kL(e){return{annotationType_:OJ,options_:e,make_:IJ,extend_:MJ,decorate_20223_:RJ}}function IJ(e,t,n,r){var i,s;if(n.get)return yd.make_(e,t,n,r);if(n.set){var o=ja(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:_e.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:($s(r,t,{configurable:!0,set:o}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(vL(n.value)){var l,c=(l=this.options_)!=null&&l.autoBind?sc.bound:sc;return c.make_(e,t,n,r)}var u=(a=this.options_)!=null&&a.autoBind?Ju.bound:Ju;return u.make_(e,t,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?Dn.ref:Dn;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var f;n.value=n.value.bind((f=e.proxy_)!=null?f:e.target_)}return d.make_(e,t,n,r)}function MJ(e,t,n,r){var i,s;if(n.get)return yd.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:_e.safeDescriptors?e.isPlainObject_:!0,set:ja(t.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?Dn.ref:Dn;return a.extend_(e,t,n,r)}function RJ(e,t){ct("'"+this.annotationType_+"' cannot be used as a decorator")}var NJ="observable",PJ="observable.ref",DJ="observable.shallow",LJ="observable.struct",TL={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(TL);function Dp(e){return e||TL}var t6=wg(NJ),FJ=wg(PJ,{enhancer:Sg}),jJ=wg(DJ,{enhancer:sJ}),BJ=wg(LJ,{enhancer:oJ}),OL=us(t6);function Lp(e){return e.deep===!0?rc:e.deep===!1?Sg:qJ(e.defaultDecorator)}function UJ(e){var t;return e?(t=e.defaultDecorator)!=null?t:kL(e):void 0}function qJ(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:rc}function AL(e,t,n){if(Sh(t))return t6.decorate_20223_(e,t);if(tc(t)){Ch(e,t,t6);return}return Ag(e)?e:Lo(e)?Dn.object(e,t,n):Array.isArray(e)?Dn.array(e,t):vd(e)?Dn.map(e,t):ko(e)?Dn.set(e,t):typeof e=="object"&&e!==null?e:Dn.box(e,t)}pL(AL,OL);var zJ={box:function(t,n){var r=Dp(n);return new Ma(t,Lp(r),r.name,!0,r.equals)},array:function(t,n){var r=Dp(n);return(_e.useProxies===!1||r.proxy===!1?rX:WQ)(t,Lp(r),r.name)},map:function(t,n){var r=Dp(n);return new x4(t,Lp(r),r.name)},set:function(t,n){var r=Dp(n);return new k4(t,Lp(r),r.name)},object:function(t,n,r){return tl(function(){return w4(_e.useProxies===!1||r?.proxy===!1?Sc({},r):GQ({},r),t,n)})},ref:us(FJ),shallow:us(jJ),deep:OL,struct:us(BJ)},Dn=pL(AL,zJ),IL="computed",GJ="computed.struct",n6=y4(IL),HJ=y4(GJ,{equals:nc.structural}),yd=function(t,n){if(Sh(n))return n6.decorate_20223_(t,n);if(tc(n))return Ch(t,n,n6);if(Lo(t))return us(y4(IL,t));var r=Lo(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new ps(r)};Object.assign(yd,n6);yd.struct=us(HJ);var i8,s8,a1=0,VJ=1,$J=(i8=(s8=o1(function(){},"name"))==null?void 0:s8.configurable)!=null?i8:!1,o8={value:"action",configurable:!0,writable:!1,enumerable:!1};function ja(e,t,n,r){n===void 0&&(n=!1);function i(){return ML(e,n,t,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},$J&&(o8.value=e,$s(i,"name",o8)),i}function ML(e,t,n,r,i){var s=RL(e,t);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{NL(s)}}function RL(e,t,n,r){var i=!1,s=0,o=_e.trackingDerivation,a=!t||!o;Ur();var l=_e.allowStateChanges;a&&(Cc(),l=Eg(!0));var c=kg(!0),u={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:s,actionId_:VJ++,parentActionId_:a1};return a1=u.actionId_,u}function NL(e){a1!==e.actionId_&&ct(30),a1=e.parentActionId_,e.error_!==void 0&&(_e.suppressReactionErrors=!0),xg(e.prevAllowStateChanges_),Lu(e.prevAllowStateReads_),qr(),e.runAsAction_&&Ao(e.prevDerivation_),_e.suppressReactionErrors=!1}function b4(e,t){var n=Eg(e);try{return t()}finally{xg(n)}}function Eg(e){var t=_e.allowStateChanges;return _e.allowStateChanges=e,t}function xg(e){_e.allowStateChanges=e}var Ma=function(e){function t(r,i,s,o,a){var l;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=nc.default),l=e.call(this,s)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=i,l.name_=s,l.equals=a,l.value_=i(r,void 0,s),l}CL(t,e);var n=t.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==_e.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(Mi(this)){var s=Ri(this,{object:this,type:Ws,newValue:i});if(!s)return _e.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?_e.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),ds(this)&&fs(this,{type:Ws,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return xh(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Ws,newValue:this.value_,oldValue:void 0}),kh(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return bL(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(el),C4=Xa("ObservableValue",Ma),ps=function(){function e(n){this.dependenciesState_=Pt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Pt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new c1(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=l1.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ct(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=ja("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?nc.structural:nc.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){rQ(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&ct(32,this.name_,this.derivation),_e.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)r6(this)&&(this.warnAboutUntrackedRead_(),Ur(),this.value_=this.computeValue_(!1),qr());else if(BL(this),r6(this)){var r=_e.trackingContext;this.keepAlive_&&!r&&(_e.trackingContext=this),this.trackAndCompute()&&nQ(this),_e.trackingContext=r}var i=this.value_;if(Om(i))throw i.cause;return i},t.set=function(r){if(this.setter_){this.isRunningSetter&&ct(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else ct(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===Pt.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Om(r)||Om(s)||!this.equals_(r,s);return o&&(this.value_=s),o},t.computeValue_=function(r){this.isComputing=!0;var i=Eg(!1),s;if(r)s=PL(this,this.derivation,this.scope_);else if(_e.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new c1(o)}return xg(i),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(i6(this),this.value_=void 0)},t.observe_=function(r,i){var s=this,o=!0,a=void 0;return Tg(function(){var l=s.get();if(!o||i){var c=Cc();r({observableKind:"computed",debugObjectName:s.name_,type:Ws,object:s,newValue:l,oldValue:a}),Ao(c)}o=!1,a=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return bL(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},_d(e,[{key:"isComputing",get:function(){return ai(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=li(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return ai(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=li(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return ai(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=li(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ai(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=li(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ai(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=li(this.flags_,e.diffValueMask_,r===1)}}])}();ps.isComputingMask_=1;ps.isRunningSetterMask_=2;ps.isBeingObservedMask_=4;ps.isPendingUnobservationMask_=8;ps.diffValueMask_=16;var ic=Xa("ComputedValue",ps),Pt;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Pt||(Pt={}));var l1;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(l1||(l1={}));var c1=function(t){this.cause=void 0,this.cause=t};function Om(e){return e instanceof c1}function r6(e){switch(e.dependenciesState_){case Pt.UP_TO_DATE_:return!1;case Pt.NOT_TRACKING_:case Pt.STALE_:return!0;case Pt.POSSIBLY_STALE_:{for(var t=kg(!0),n=Cc(),r=e.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(ic(o)){if(_e.disableErrorBoundaries)o.get();else try{o.get()}catch{return Ao(n),Lu(t),!0}if(e.dependenciesState_===Pt.STALE_)return Ao(n),Lu(t),!0}}return DL(e),Ao(n),Lu(t),!1}}}function WJ(){return _e.trackingDerivation!==null}function PL(e,t,n){var r=kg(!0);DL(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++_e.runId;var i=_e.trackingDerivation;_e.trackingDerivation=e,_e.inBatch++;var s;if(_e.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(o){s=new c1(o)}return _e.inBatch--,_e.trackingDerivation=i,KJ(e),Lu(r),s}function KJ(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Pt.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,e.newObserving_=null,s=t.length;s--;){var l=t[s];l.diffValue===0&&FL(l,e),l.diffValue=0}for(;i--;){var c=n[i];c.diffValue===1&&(c.diffValue=0,tQ(c,e))}r!==Pt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function i6(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)FL(t[n],e);e.dependenciesState_=Pt.NOT_TRACKING_}function Eh(e){var t=Cc();try{return e()}finally{Ao(t)}}function Cc(){var e=_e.trackingDerivation;return _e.trackingDerivation=null,e}function Ao(e){_e.trackingDerivation=e}function kg(e){var t=_e.allowStateReads;return _e.allowStateReads=e,t}function Lu(e){_e.allowStateReads=e}function DL(e){if(e.dependenciesState_!==Pt.UP_TO_DATE_){e.dependenciesState_=Pt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Pt.UP_TO_DATE_}}var YJ=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],wf=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Am=!0,LL=!1,_e=function(){var e=yg();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Am=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new wf().version&&(Am=!1),Am?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new wf):(setTimeout(function(){LL||ct(35)},1),new wf)}();function ZJ(){if((_e.pendingReactions.length||_e.inBatch||_e.isRunningReactions)&&ct(36),LL=!0,Am){var e=yg();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),_e=new wf}}function JJ(){return _e}function QJ(){var e=new wf;for(var t in e)YJ.indexOf(t)===-1&&(_e[t]=e[t]);_e.allowStateChanges=!_e.enforceActions}function XJ(e){return e.observers_&&e.observers_.size>0}function eQ(e){return e.observers_}function tQ(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function FL(e,t){e.observers_.delete(t),e.observers_.size===0&&jL(e)}function jL(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,_e.pendingUnobservations.push(e))}function Ur(){_e.inBatch++}function qr(){if(--_e.inBatch===0){qL();for(var e=_e.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof ps&&n.suspend_())}_e.pendingUnobservations=[]}}function BL(e){var t=_e.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&_e.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&_e.inBatch>0&&jL(e),!1)}function UL(e){e.lowestObserverState_!==Pt.STALE_&&(e.lowestObserverState_=Pt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Pt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Pt.STALE_}))}function nQ(e){e.lowestObserverState_!==Pt.STALE_&&(e.lowestObserverState_=Pt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Pt.POSSIBLY_STALE_?t.dependenciesState_=Pt.STALE_:t.dependenciesState_===Pt.UP_TO_DATE_&&(e.lowestObserverState_=Pt.UP_TO_DATE_)}))}function rQ(e){e.lowestObserverState_===Pt.UP_TO_DATE_&&(e.lowestObserverState_=Pt.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Pt.UP_TO_DATE_&&(t.dependenciesState_=Pt.POSSIBLY_STALE_,t.onBecomeStale_())}))}var ms=function(){function e(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Pt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=l1.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,_e.pendingReactions.push(this),qL())},t.runReaction_=function(){if(!this.isDisposed){Ur(),this.isScheduled=!1;var r=_e.trackingContext;if(_e.trackingContext=this,r6(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}_e.trackingContext=r,qr()}},t.track=function(r){if(!this.isDisposed){Ur(),this.isRunning=!0;var i=_e.trackingContext;_e.trackingContext=this;var s=PL(this,r,void 0);_e.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&i6(this),Om(s)&&this.reportExceptionInDerivation_(s.cause),qr()}},t.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(_e.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";_e.suppressReactionErrors||console.error(s,r),_e.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Ur(),i6(this),qr()))},t.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[Ue]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},_d(e,[{key:"isDisposed",get:function(){return ai(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=li(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return ai(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=li(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return ai(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=li(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return ai(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=li(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return ai(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=li(this.flags_,e.diffValueMask_,r===1)}}])}();ms.isDisposedMask_=1;ms.isScheduledMask_=2;ms.isTrackPendingMask_=4;ms.isRunningMask_=8;ms.diffValueMask_=16;function iQ(e){return _e.globalReactionErrorHandlers.push(e),function(){var t=_e.globalReactionErrorHandlers.indexOf(e);t>=0&&_e.globalReactionErrorHandlers.splice(t,1)}}var sQ=100,s6=function(t){return t()};function qL(){_e.inBatch>0||_e.isRunningReactions||s6(oQ)}function oQ(){_e.isRunningReactions=!0;for(var e=_e.pendingReactions,t=0;e.length>0;){++t===sQ&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}_e.isRunningReactions=!1}var u1=Xa("Reaction",ms);function aQ(e){var t=s6;s6=function(r){return e(function(){return t(r)})}}function Ef(){return!1}function zL(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var GL="action",lQ="action.bound",HL="autoAction",cQ="autoAction.bound",VL="<unnamed action>",o6=wh(GL),uQ=wh(lQ,{bound:!0}),a6=wh(HL,{autoAction:!0}),dQ=wh(cQ,{autoAction:!0,bound:!0});function $L(e){var t=function(r,i){if(vi(r))return ja(r.name||VL,r,e);if(vi(i))return ja(r,i,e);if(Sh(i))return(e?a6:o6).decorate_20223_(r,i);if(tc(i))return Ch(r,i,e?a6:o6);if(tc(r))return us(wh(e?HL:GL,{name:r,autoAction:e}))};return t}var Sa=$L(!1);Object.assign(Sa,o6);var Ju=$L(!0);Object.assign(Ju,a6);Sa.bound=us(uQ);Ju.bound=us(dQ);function d1(e){return ML(e.name||VL,!1,e,this,void 0)}function Qu(e){return vi(e)&&e.isMobxAction===!0}function Tg(e,t){var n,r,i,s;t===void 0&&(t=v4);var o=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,l;if(a)l=new ms(o,function(){this.track(d)},t.onError,t.requiresObservable);else{var c=WL(t),u=!1;l=new ms(o,function(){u||(u=!0,c(function(){u=!1,l.isDisposed||l.track(d)}))},t.onError,t.requiresObservable)}function d(){e(l)}return(i=t)!=null&&(i=i.signal)!=null&&i.aborted||l.schedule_(),l.getDisposer_((s=t)==null?void 0:s.signal)}var fQ=function(t){return t()};function WL(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:fQ}function KL(e,t,n){var r,i,s;n===void 0&&(n=v4);var o=(r=n.name)!=null?r:"Reaction",a=Sa(o,n.onError?hQ(n.onError,t):t),l=!n.scheduler&&!n.delay,c=WL(n),u=!0,d=!1,f,h=n.compareStructural?nc.structural:n.equals||nc.default,m=new ms(o,function(){u||l?v():d||(d=!0,c(v))},n.onError,n.requiresObservable);function v(){if(d=!1,!m.isDisposed){var _=!1,y=f;m.track(function(){var b=b4(!1,function(){return e(m)});_=u||!h(f,b),f=b}),(u&&n.fireImmediately||!u&&_)&&a(f,y,m),u=!1}}return(i=n)!=null&&(i=i.signal)!=null&&i.aborted||m.schedule_(),m.getDisposer_((s=n)==null?void 0:s.signal)}function hQ(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var pQ="onBO",mQ="onBUO";function YL(e,t,n){return ZL(pQ,e,t,n)}function S4(e,t,n){return ZL(mQ,e,t,n)}function ZL(e,t,n,r){var i=typeof r=="function"?Fo(t,n):Fo(t),s=vi(r)?r:n,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}var gQ="never",Fp="always",vQ="observed";function JL(e){e.isolateGlobalState===!0&&ZJ();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(_e.useProxies=t===Fp?!0:t===gQ?!1:typeof Proxy<"u"),t==="ifavailable"&&(_e.verifyProxies=!0),n!==void 0){var r=n===Fp?Fp:n===vQ;_e.enforceActions=r,_e.allowStateChanges=!(r===!0||r===Fp)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in e&&(_e[i]=!!e[i])}),_e.allowStateReads=!_e.observableRequiresReaction,e.reactionScheduler&&aQ(e.reactionScheduler)}function w4(e,t,n,r){var i=YZ(t);return tl(function(){var s=Sc(e,r)[Ue];Zu(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),e}function QL(e,t){return XL(Fo(e,t))}function XL(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=yQ(e.observing_).map(XL)),t}function _Q(e,t){return eF(Fo(e,t))}function eF(e){var t={name:e.name_};return XJ(e)&&(t.observers=Array.from(eQ(e)).map(eF)),t}function yQ(e){return Array.from(new Set(e))}var bQ=0;function Og(){this.message="FLOW_CANCELLED"}Og.prototype=Object.create(Error.prototype);function CQ(e){return e instanceof Og}var fv=EL("flow"),SQ=EL("flow.bound",{bound:!0}),sc=Object.assign(function(t,n){if(Sh(n))return fv.decorate_20223_(t,n);if(tc(n))return Ch(t,n,fv);var r=t,i=r.name||"<unnamed flow>",s=function(){var a=this,l=arguments,c=++bQ,u=Sa(i+" - runid: "+c+" - init",r).apply(a,l),d,f=void 0,h=new Promise(function(m,v){var _=0;d=v;function y(S){f=void 0;var x;try{x=Sa(i+" - runid: "+c+" - yield "+_++,u.next).call(u,S)}catch(w){return v(w)}C(x)}function b(S){f=void 0;var x;try{x=Sa(i+" - runid: "+c+" - yield "+_++,u.throw).call(u,S)}catch(w){return v(w)}C(x)}function C(S){if(vi(S?.then)){S.then(C,v);return}return S.done?m(S.value):(f=Promise.resolve(S.value),f.then(y,b))}y(void 0)});return h.cancel=Sa(i+" - runid: "+c+" - cancel",function(){try{f&&a8(f);var m=u.return(void 0),v=Promise.resolve(m.value);v.then(Au,Au),a8(v),d(new Og)}catch(_){d(_)}}),h};return s.isMobXFlow=!0,s},fv);sc.bound=us(SQ);function a8(e){vi(e.cancel)&&e.cancel()}function wQ(e){return e}function Xu(e){return e?.isMobXFlow===!0}function EQ(e,t,n){var r;return ur(e)||Wr(e)||C4(e)?r=jo(e):ar(e)&&(r=jo(e,t)),r.dehancer=typeof t=="function"?t:n,function(){r.dehancer=void 0}}function xQ(e,t,n){return vi(n)?TQ(e,t,n):kQ(e,t)}function kQ(e,t){return jo(e).intercept_(t)}function TQ(e,t,n){return jo(e,t).intercept_(n)}function tF(e,t){if(t===void 0)return ic(e);if(ar(e)===!1||!e[Ue].values_.has(t))return!1;var n=Fo(e,t);return ic(n)}function OQ(e){return tF(e)}function AQ(e,t){return tF(e,t)}function nF(e,t){return e?t!==void 0?ar(e)?e[Ue].values_.has(t):!1:ar(e)||!!e[Ue]||_4(e)||u1(e)||ic(e):!1}function Ag(e){return nF(e)}function IQ(e,t){return nF(e,t)}function Gf(e){if(ar(e))return e[Ue].keys_();if(ur(e)||Ln(e))return Array.from(e.keys());if(Wr(e))return e.map(function(t,n){return n});ct(5)}function MQ(e){if(ar(e))return Gf(e).map(function(t){return e[t]});if(ur(e))return Gf(e).map(function(t){return e.get(t)});if(Ln(e))return Array.from(e.values());if(Wr(e))return e.slice();ct(6)}function RQ(e){if(ar(e))return Gf(e).map(function(t){return[t,e[t]]});if(ur(e))return Gf(e).map(function(t){return[t,e.get(t)]});if(Ln(e))return Array.from(e.entries());if(Wr(e))return e.map(function(t,n){return[n,t]});ct(7)}function rF(e,t,n){if(arguments.length===2&&!Ln(e)){Ur();var r=t;try{for(var i in r)rF(e,i,r[i])}finally{qr()}return}ar(e)?e[Ue].set_(t,n):ur(e)?e.set(t,n):Ln(e)?e.add(t):Wr(e)?(typeof t!="number"&&(t=parseInt(t,10)),t<0&&ct("Invalid index: '"+t+"'"),Ur(),t>=e.length&&(e.length=t+1),e[t]=n,qr()):ct(8)}function NQ(e,t){ar(e)?e[Ue].delete_(t):ur(e)||Ln(e)?e.delete(t):Wr(e)?(typeof t!="number"&&(t=parseInt(t,10)),e.splice(t,1)):ct(9)}function iF(e,t){if(ar(e))return e[Ue].has_(t);if(ur(e))return e.has(t);if(Ln(e))return e.has(t);if(Wr(e))return t>=0&&t<e.length;ct(10)}function PQ(e,t){if(iF(e,t)){if(ar(e))return e[Ue].get_(t);if(ur(e))return e.get(t);if(Wr(e))return e[t];ct(11)}}function DQ(e,t,n){if(ar(e))return e[Ue].defineProperty_(t,n);ct(39)}function sF(e){if(ar(e))return e[Ue].ownKeys_();ct(38)}function LQ(e,t,n,r){return vi(n)?jQ(e,t,n,r):FQ(e,t,n)}function FQ(e,t,n){return jo(e).observe_(t,n)}function jQ(e,t,n,r){return jo(e,t).observe_(n,r)}function jp(e,t,n){return e.set(t,n),n}function mu(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Ag(e))return e;if(C4(e)||ic(e))return mu(e.get(),t);if(t.has(e))return t.get(e);if(Wr(e)){var n=jp(t,e,new Array(e.length));return e.forEach(function(o,a){n[a]=mu(o,t)}),n}if(Ln(e)){var r=jp(t,e,new Set);return e.forEach(function(o){r.add(mu(o,t))}),r}if(ur(e)){var i=jp(t,e,new Map);return e.forEach(function(o,a){i.set(a,mu(o,t))}),i}else{var s=jp(t,e,{});return sF(e).forEach(function(o){yh.propertyIsEnumerable.call(e,o)&&(s[o]=mu(e[o],t))}),s}}function BQ(e,t){return mu(e,new Map)}function UQ(){}function Bs(e,t){t===void 0&&(t=void 0),Ur();try{return e.apply(t)}finally{qr()}}function l6(e,t,n){return arguments.length===1||t&&typeof t=="object"?qQ(e,t):oF(e,t,n||{})}function oF(e,t,n){var r;if(typeof n.timeout=="number"){var i=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!o[Ue].isDisposed)if(o(),n.onError)n.onError(i);else throw i},n.timeout)}n.name="When";var s=ja("When-effect",t),o=Tg(function(a){var l=b4(!1,e);l&&(a.dispose(),r&&clearTimeout(r),s())},n);return o}function qQ(e,t){var n;if(t!=null&&(n=t.signal)!=null&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,i,s=new Promise(function(o,a){var l,c=oF(e,o,Fa({},t,{onError:a}));r=function(){c(),a(new Error("WHEN_CANCELLED"))},i=function(){c(),a(new Error("WHEN_ABORTED"))},t==null||(l=t.signal)==null||l.addEventListener==null||l.addEventListener("abort",i)}).finally(function(){var o;return t==null||(o=t.signal)==null||o.removeEventListener==null?void 0:o.removeEventListener("abort",i)});return s.cancel=r,s}function Jc(e){return e[Ue]}var zQ={has:function(t,n){return Jc(t).has_(n)},get:function(t,n){return Jc(t).get_(n)},set:function(t,n,r){var i;return tc(n)?(i=Jc(t).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(t,n){var r;return tc(n)?(r=Jc(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var i;return(i=Jc(t).defineProperty_(n,r))!=null?i:!0},ownKeys:function(t){return Jc(t).ownKeys_()},preventExtensions:function(t){ct(13)}};function GQ(e,t){var n,r;return mL(),e=Sc(e,t),(r=(n=e[Ue]).proxy_)!=null?r:n.proxy_=new Proxy(e,zQ)}function Mi(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function xh(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),gL(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Ri(e,t){var n=Cc();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&(t=r[i](t),t&&!t.type&&ct(14),!!t);i++);return t}finally{Ao(n)}}function ds(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function kh(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),gL(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function fs(e,t){var n=Cc(),r=e.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](t);Ao(n)}}function aF(e,t,n){return tl(function(){var r,i=Sc(e,n)[Ue];(r=t)!=null||(t=eJ(e)),Zu(t).forEach(function(s){return i.make_(s,t[s])})}),e}var hv=Symbol("mobx-keys");function HQ(e,t,n){return Lo(e)?w4(e,e,t,n):(tl(function(){var r=Sc(e,n)[Ue];if(!e[hv]){var i=Object.getPrototypeOf(e),s=new Set([].concat(Zu(e),Zu(i)));s.delete("constructor"),s.delete(Ue),bh(i,hv,s)}e[hv].forEach(function(o){return r.make_(o,t&&o in t?t[o]:!0)})}),e)}var l8="splice",Ws="update",VQ=1e4,$Q={get:function(t,n){var r=t[Ue];return n===Ue?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Oo(f1,n)?f1[n]:t[n]},set:function(t,n,r){var i=t[Ue];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){ct(15)}},E4=function(){function e(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new el(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return xh(this,r)},t.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),kh(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&ct("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},t.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&ct(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&fF(r+i+1)},t.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=X5),Mi(this)){var l=Ri(this,{object:this.proxy_,type:l8,index:r,removedCount:i,added:s});if(!l)return X5;i=l.removedCount,s=l.added}if(s=s.length===0?s:s.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var c=s.length-i;this.updateArrayLength_(a,c)}var u=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,u),this.dehanceValues_(u)},t.spliceItemsIntoValues_=function(r,i,s){if(s.length<VQ){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),l=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var c=0;c<s.length;c++)this.values_[r+c]=s[c];for(var u=0;u<l.length;u++)this.values_[r+s.length+u]=l[u];return a}},t.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&Ef(),a=ds(this),l=a||o?{observableKind:"array",object:this.proxy_,type:Ws,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&fs(this,l)},t.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&Ef(),a=ds(this),l=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:l8,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&fs(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&ct(17,r,s.length),r<s.length){this.atom_;var o=s[r];if(Mi(this)){var a=Ri(this,{type:Ws,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var l=i!==o;l&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var c=new Array(r+1-s.length),u=0;u<c.length-1;u++)c[u]=void 0;c[c.length-1]=i,this.spliceWithArray_(s.length,0,c)}},e}();function WQ(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),mL(),tl(function(){var i=new E4(n,t,r,!1);_L(i.values_,Ue,i);var s=new Proxy(i.values_,$Q);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s})}var f1={clear:function(){return this.splice(0)},replace:function(t){var n=this[Ue];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[Ue];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,n)}return o.spliceWithArray_(t,n,i)},spliceWithArray:function(t,n,r){return this[Ue].spliceWithArray_(t,n,r)},push:function(){for(var t=this[Ue],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Ue].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Ue],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return _e.trackingDerivation&&ct(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){_e.trackingDerivation&&ct(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[Ue],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};tn("at",Si);tn("concat",Si);tn("flat",Si);tn("includes",Si);tn("indexOf",Si);tn("join",Si);tn("lastIndexOf",Si);tn("slice",Si);tn("toString",Si);tn("toLocaleString",Si);tn("toSorted",Si);tn("toSpliced",Si);tn("with",Si);tn("every",Ss);tn("filter",Ss);tn("find",Ss);tn("findIndex",Ss);tn("findLast",Ss);tn("findLastIndex",Ss);tn("flatMap",Ss);tn("forEach",Ss);tn("map",Ss);tn("some",Ss);tn("toReversed",Ss);tn("reduce",lF);tn("reduceRight",lF);function tn(e,t){typeof Array.prototype[e]=="function"&&(f1[e]=t(e))}function Si(e){return function(){var t=this[Ue];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Ss(e){return function(t,n){var r=this,i=this[Ue];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[e](function(o,a){return t.call(n,o,a,r)})}}function lF(e){return function(){var t=this,n=this[Ue];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,t)},r[e].apply(r,arguments)}}var KQ=Xa("ObservableArrayAdministration",E4);function Wr(e){return bg(e)&&KQ(e[Ue])}var YQ={},wa="add",h1="delete",x4=function(){function e(n,r,i){var s=this;r===void 0&&(r=rc),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ue]=YQ,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,vi(Map)||ct(18),tl(function(){s.keysAtom_=Cg("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var i=this;if(!_e.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new Ma(this.has_(r),Sg,"ObservableMap.key?",!1);this.hasMap_.set(r,o),S4(o,function(){return i.hasMap_.delete(r)})}return s.get()},t.set=function(r,i){var s=this.has_(r);if(Mi(this)){var o=Ri(this,{type:s?Ws:wa,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},t.delete=function(r){var i=this;if(this.keysAtom_,Mi(this)){var s=Ri(this,{type:h1,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=Ef(),a=ds(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:h1,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Bs(function(){var c;i.keysAtom_.reportChanged(),(c=i.hasMap_.get(r))==null||c.setNewValue_(!1);var u=i.data_.get(r);u.setNewValue_(void 0),i.data_.delete(r)}),a&&fs(this,l),!0}return!1},t.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==_e.UNCHANGED){var o=Ef(),a=ds(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:Ws,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&fs(this,l)}},t.addValue_=function(r,i){var s=this;this.keysAtom_,Bs(function(){var c,u=new Ma(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,u),i=u.value_,(c=s.hasMap_.get(r))==null||c.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=Ef(),a=ds(this),l=a||o?{observableKind:"map",debugObjectName:this.name_,type:wa,object:this,name:r,newValue:i}:null;a&&fs(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,i=this.keys();return c8({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:r.get(l)}}})},t.entries=function(){var r=this,i=this.keys();return c8({next:function(){var o=i.next(),a=o.done,l=o.value;return{done:a,value:a?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,i){for(var s=Iu(this),o;!(o=s()).done;){var a=o.value,l=a[0],c=a[1];r.call(i,c,l,this)}},t.merge=function(r){var i=this;return ur(r)&&(r=new Map(r)),Bs(function(){Lo(r)?KZ(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):vd(r)?(WZ(r)||ct(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&ct(20,r)}),this},t.clear=function(){var r=this;Bs(function(){Eh(function(){for(var i=Iu(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.replace=function(r){var i=this;return Bs(function(){for(var s=ZQ(r),o=new Map,a=!1,l=Iu(i.data_.keys()),c;!(c=l()).done;){var u=c.value;if(!s.has(u)){var d=i.delete(u);if(d)a=!0;else{var f=i.data_.get(u);o.set(u,f)}}}for(var h=Iu(s.entries()),m;!(m=h()).done;){var v=m.value,_=v[0],y=v[1],b=i.data_.has(_);if(i.set(_,y),i.data_.has(_)){var C=i.data_.get(_);o.set(_,C),b||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var S=i.data_.keys(),x=o.keys(),w=S.next(),E=x.next();!w.done;){if(w.value!==E.value){i.keysAtom_.reportChanged();break}w=S.next(),E=x.next()}i.data_=o}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,i){return kh(this,r)},t.intercept_=function(r){return xh(this,r)},_d(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ur=Xa("ObservableMap",x4);function c8(e){return e[Symbol.toStringTag]="MapIterator",A4(e)}function ZQ(e){if(vd(e)||ur(e))return e;if(Array.isArray(e))return new Map(e);if(Lo(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return ct(21,e)}var JQ={},k4=function(){function e(n,r,i){var s=this;r===void 0&&(r=rc),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Ue]=JQ,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,vi(Set)||ct(22),this.enhancer_=function(o,a){return r(o,a,i)},tl(function(){s.atom_=Cg(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Bs(function(){Eh(function(){for(var i=Iu(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},t.forEach=function(r,i){for(var s=Iu(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},t.add=function(r){var i=this;if(this.atom_,Mi(this)){var s=Ri(this,{type:wa,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Bs(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=ds(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:wa,object:this,newValue:r}:null;a&&fs(this,l)}return this},t.delete=function(r){var i=this;if(Mi(this)){var s=Ri(this,{type:h1,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=ds(this),l=a||o?{observableKind:"set",debugObjectName:this.name_,type:h1,object:this,oldValue:r}:null;return Bs(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&fs(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return u8({next:function(){var s=r.next(),o=s.value,a=s.done;return a?{value:void 0,done:a}:{value:[o,o],done:a}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return u8({next:function(){var o=i.next(),a=o.value,l=o.done;return l?{value:void 0,done:l}:{value:r.dehanceValue_(a),done:l}}})},t.intersection=function(r){if(ko(r)&&!Ln(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},t.union=function(r){if(ko(r)&&!Ln(r))return r.union(this);var i=new Set(this);return i.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(ko(r)&&!Ln(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(ko(r)&&!Ln(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},t.replace=function(r){var i=this;return Ln(r)&&(r=new Set(r)),Bs(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):ko(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&ct("Cannot initialize set from "+r)}),this},t.observe_=function(r,i){return kh(this,r)},t.intercept_=function(r){return xh(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},_d(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Ln=Xa("ObservableSet",k4);function u8(e){return e[Symbol.toStringTag]="SetIterator",A4(e)}var d8=Object.create(null),f8="remove",cF=function(){function e(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=AJ),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new el("ObservableObject.keys"),this.isPlainObject_=Lo(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof ps)return s.set(i),!0;if(Mi(this)){var o=Ri(this,{type:Ws,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==_e.UNCHANGED){var a=ds(this),l=!1,c=a||l?{type:Ws,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&fs(this,c)}return!0},t.get_=function(r){return _e.trackingDerivation&&!Oo(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,i,s){return s===void 0&&(s=!1),Oo(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!_e.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Ma(r in this.target_,Sg,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},t.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[zs])!=null&&s[r])return;ct(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==yh;){var a=o1(o,r);if(a){var l=i.make_(this,r,a,o);if(l===0)return;if(l===1)break}o=Object.getPrototypeOf(o)}p8(this,i,r)}},t.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var a=s.extend_(this,r,i,o);return a&&p8(this,s,r),a},t.defineProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Ur();var o=this.delete_(r);if(!o)return o;if(Mi(this)){var a=Ri(this,{object:this.proxy_||this.target_,name:r,type:wa,newValue:i.value});if(!a)return null;var l=a.newValue;i.value!==l&&(i=Fa({},i,{value:l}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else $s(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{qr()}return!0},t.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{Ur();var a=this.delete_(r);if(!a)return a;if(Mi(this)){var l=Ri(this,{object:this.proxy_||this.target_,name:r,type:wa,newValue:i});if(!l)return null;i=l.newValue}var c=h8(r),u={configurable:_e.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,r,u))return!1}else $s(this.target_,r,u);var d=new Ma(i,s,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{qr()}return!0},t.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Ur();var o=this.delete_(r);if(!o)return o;if(Mi(this)){var a=Ri(this,{object:this.proxy_||this.target_,name:r,type:wa,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var l=h8(r),c={configurable:_e.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(s){if(!Reflect.defineProperty(this.target_,r,c))return!1}else $s(this.target_,r,c);this.values_.set(r,new ps(i)),this.notifyPropertyAddition_(r,void 0)}finally{qr()}return!0},t.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!Oo(this.target_,r))return!0;if(Mi(this)){var s=Ri(this,{object:this.proxy_||this.target_,name:r,type:f8});if(!s)return null}try{var o;Ur();var a=ds(this),l=!1,c=this.values_.get(r),u=void 0;if(!c&&(a||l)){var d;u=(d=o1(this.target_,r))==null?void 0:d.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(c&&(this.values_.delete(r),c instanceof Ma&&(u=c.value_),UL(c)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||l){var f={type:f8,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:u,name:r};a&&fs(this,f)}}finally{qr()}return!0},t.observe_=function(r,i){return kh(this,r)},t.intercept_=function(r){return xh(this,r)},t.notifyPropertyAddition_=function(r,i){var s,o=ds(this),a=!1;if(o||a){var l=o||a?{type:wa,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;o&&fs(this,l)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Zu(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Sc(e,t){var n;if(Oo(e,Ue))return e;var r=(n=t?.name)!=null?n:"ObservableObject",i=new cF(e,new Map,String(r),UJ(t));return bh(e,Ue,i),e}var QQ=Xa("ObservableObjectAdministration",cF);function h8(e){return d8[e]||(d8[e]={get:function(){return this[Ue].getObservablePropValue_(e)},set:function(n){return this[Ue].setObservablePropValue_(e,n)}})}function ar(e){return bg(e)?QQ(e[Ue]):!1}function p8(e,t,n){var r;(r=e.target_[zs])==null||delete r[n]}var XQ=dF(0),eX=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),pv=0,uF=function(){};function tX(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}tX(uF,Array.prototype);var T4=function(e){function t(r,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=e.call(this)||this,tl(function(){var l=new E4(s,i,o,!0);l.proxy_=a,_L(a,Ue,l),r&&r.length&&a.spliceWithArray(0,0,r),eX&&Object.defineProperty(a,"0",XQ)}),a}CL(t,e);var n=t.prototype;return n.concat=function(){this[Ue].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return Wr(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,i=0;return A4({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},_d(t,[{key:"length",get:function(){return this[Ue].getArrayLength_()},set:function(i){this[Ue].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(uF);Object.entries(f1).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&bh(T4.prototype,t,n)});function dF(e){return{enumerable:!1,configurable:!0,get:function(){return this[Ue].get_(e)},set:function(n){this[Ue].set_(e,n)}}}function nX(e){$s(T4.prototype,""+e,dF(e))}function fF(e){if(e>pv){for(var t=pv;t<e+100;t++)nX(t);pv=e}}fF(1e3);function rX(e,t,n){return new T4(e,t,n)}function Fo(e,t){if(typeof e=="object"&&e!==null){if(Wr(e))return t!==void 0&&ct(23),e[Ue].atom_;if(Ln(e))return e.atom_;if(ur(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||ct(25,t,p1(e)),n}if(ar(e)){if(!t)return ct(26);var r=e[Ue].values_.get(t);return r||ct(27,t,p1(e)),r}if(_4(e)||ic(e)||u1(e))return e}else if(vi(e)&&u1(e[Ue]))return e[Ue];ct(28)}function jo(e,t){if(e||ct(29),t!==void 0)return jo(Fo(e,t));if(_4(e)||ic(e)||u1(e)||ur(e)||Ln(e))return e;if(e[Ue])return e[Ue];ct(24,e)}function p1(e,t){var n;if(t!==void 0)n=Fo(e,t);else{if(Qu(e))return e.name;ar(e)||ur(e)||Ln(e)?n=jo(e):n=Fo(e)}return n.name_}function tl(e){var t=Cc(),n=Eg(!0);Ur();try{return e()}finally{qr(),xg(n),Ao(t)}}var m8=yh.toString;function O4(e,t,n){return n===void 0&&(n=-1),c6(e,t,n)}function c6(e,t,n,r,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var o=m8.call(e);if(o!==m8.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=g8(e),t=g8(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(vi(l)&&l instanceof l&&vi(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var u=r.length;u--;)if(r[u]===e)return i[u]===t;if(r.push(e),i.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!c6(e[u],t[u],n-1,r,i))return!1}else{var d=Object.keys(e),f=d.length;if(Object.keys(t).length!==f)return!1;for(var h=0;h<f;h++){var m=d[h];if(!(Oo(t,m)&&c6(e[m],t[m],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function g8(e){return Wr(e)?e.slice():vd(e)||ur(e)||ko(e)||Ln(e)?Array.from(e.entries()):e}var v8,iX=((v8=yg().Iterator)==null?void 0:v8.prototype)||{};function A4(e){return e[Symbol.iterator]=sX,Object.assign(Object.create(iX),e)}function sX(){return this}["Symbol","Map","Set"].forEach(function(e){var t=yg();typeof t[e]>"u"&&ct("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:zL,extras:{getDebugName:p1},$mobx:Ue});const APe=Object.freeze(Object.defineProperty({__proto__:null,$mobx:Ue,FlowCancellationError:Og,ObservableMap:x4,ObservableSet:k4,Reaction:ms,_allowStateChanges:b4,_allowStateChangesInsideComputed:d1,_allowStateReadsEnd:Lu,_allowStateReadsStart:kg,_autoAction:Ju,_endAction:NL,_getAdministration:jo,_getGlobalState:JJ,_interceptReads:EQ,_isComputingDerivation:WJ,_resetGlobalState:QJ,_startAction:RL,action:Sa,autorun:Tg,comparer:nc,computed:yd,configure:JL,createAtom:Cg,defineProperty:DQ,entries:RQ,extendObservable:w4,flow:sc,flowResult:wQ,get:PQ,getAtom:Fo,getDebugName:p1,getDependencyTree:QL,getObserverTree:_Q,has:iF,intercept:xQ,isAction:Qu,isBoxedObservable:C4,isComputed:OQ,isComputedProp:AQ,isFlow:Xu,isFlowCancellationError:CQ,isObservable:Ag,isObservableArray:Wr,isObservableMap:ur,isObservableObject:ar,isObservableProp:IQ,isObservableSet:Ln,keys:Gf,makeAutoObservable:HQ,makeObservable:aF,observable:Dn,observe:LQ,onBecomeObserved:YL,onBecomeUnobserved:S4,onReactionError:iQ,override:aJ,ownKeys:sF,reaction:KL,remove:NQ,runInAction:d1,set:rF,spy:zL,toJS:BQ,trace:UQ,transaction:Bs,untracked:Eh,values:MQ,when:l6},Symbol.toStringTag,{value:"Module"}));if(!p.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!aF)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function oX(e){e()}function aX(e){e||(e=oX),JL({reactionScheduler:e})}function lX(e){return QL(e)}var cX=1e4,uX=1e4,dX=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=cX),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(s,o){i-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,uX))}}),e}(),fX=typeof FinalizationRegistry<"u"?FinalizationRegistry:dX,u6=new fX(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),mv={exports:{}},gv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _8;function hX(){if(_8)return gv;_8=1;var e=t4();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),m=r({inst:{value:h,getSnapshot:f}}),v=m[0].inst,_=m[1];return s(function(){v.value=h,v.getSnapshot=f,l(v)&&_({inst:v})},[d,h,f]),i(function(){return l(v)&&_({inst:v}),d(function(){l(v)&&_({inst:v})})},[d]),o(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return gv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,gv}var y8;function pX(){return y8||(y8=1,mv.exports=hX()),mv.exports}var mX=pX();function b8(e){e.reaction=new ms("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function gX(e,t){t===void 0&&(t="observed");var n=Fe.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return u6.unregister(r),r.onStoreChange=a,r.reaction||(b8(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(b8(i),u6.register(n,i,i)),Fe.useDebugValue(i.reaction,lX),mX.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var s,o;if(i.reaction.track(function(){try{s=e()}catch(a){o=a}}),o)throw o;return s}var vv,_v,hF=typeof Symbol=="function"&&Symbol.for;_v=(vv=Object.getOwnPropertyDescriptor(function(){},"name"))===null||vv===void 0?void 0:vv.configurable;hF?Symbol.for("react.forward_ref"):typeof p.forwardRef=="function"&&p.forwardRef(function(e){return null}).$$typeof;hF?Symbol.for("react.memo"):typeof p.memo=="function"&&p.memo(function(e){return null}).$$typeof;var yv;aX(n4.unstable_batchedUpdates);yv=u6.finalizeAllImmediately;function vX(e,t){return t===void 0&&(t="observed"),gX(e,t)}function Tt(e,t){const n=CX(e),r=Dn.box(n?void 0:e,{deep:!1,name:t?.name,equals:t?.equals});let i=n?()=>{i=void 0,r.set(e())}:void 0;const s=()=>(i?.(),r.get()),o=t?.getServerFallback,a=_F(s),l=o?_i(a,{name:t.name,getServerFallback:o}):a;return l.set=c=>{yF(),d1(()=>{r?.set(vF(c)?c(Eh(s)):c)})},l}function Or(e){return vX(()=>Ba(e))}function _i(e,t){const n=t?.getServerFallback,r=yd(n?()=>gF()?n():Ba(e):()=>Ba(e),{name:t?.name,equals:t?.equals});return _F(()=>r.get())}function _X(e){if(g4())throw new Error("[signal] Cannot run effect directly within React component");let t;const n=Tg(()=>{t?.(),t=Ba(e)});return()=>{n(),t?.()}}function pF(e,t,n){return KL(()=>Ba(e),t,{equals:n?.equals,fireImmediately:n?.fireImmediately})}function Hl(e){return Eh(()=>Ba(e))}function IPe(e,t){return typeof t=="function"?l6(()=>Ba(e),t):l6(()=>Ba(e))}function yX(e){return d1(e)}function Go(e,t,n){let r;const i=Cg(n?.name??"syncExternalStoreSignal",()=>{let o=t();r=e(()=>{yF();const a=t();o!==a&&(o=a,i.reportChanged())})},()=>{r?.()}),s=n?.getServerFallback;return _i(()=>s&&gF()?s():(i.reportObserved(),t()))}const mF=Tt(!0,{name:"isServerRendering"}),gF=mF;function bX(){p.useLayoutEffect(()=>{mF.set(!1)},[])}function CX(e){return typeof e=="function"}function vF(e){return typeof e=="function"}function _F(e){return()=>(SX(),e())}let m1=0;function Ba(e){try{return m1++,e()}finally{m1--}}function SX(){!m1&&g4()&&d6(new Error("[signal] Must read signal with useObserve() or untracked() within React component"))}function yF(){m1&&d6(new Error("[signal] Cannot update signal value directly within useObserve(), computed() or effect()")),g4()&&d6(new Error("[signal] Cannot update signal value directly within React component"))}function d6(e){G.addError(e)}function Th(e,t,n){const r=Qa(e),i=C8(()=>r.defaultQueryOptions({...t(),notifyOnChangeProps:["data","isLoading","error","status"]})),s=C8(()=>new r4(r,i()));return Go(o=>{let a=!1;const l=s().subscribe(()=>{a&&o()});return a=!0,l},()=>s().getOptimisticResult(i()),{name:n?.name??"reactQuerySignal",getServerFallback:n?.forcePendingOnServer?()=>wX(e):void 0})}const wX=en(e=>{const t=Qa(e),n=t.defaultQueryOptions({queryKey:["__empty"]});return new r4(t,n).getOptimisticResult(n)});function C8(e){let t;return()=>t??(t=e())}function bF(e,t){return Go(n=>e.subscribe(n),()=>e.getState(),{name:"storeSignal",getServerFallback:()=>e.getInitialState()})}function EX(e,t,n){return Go(r=>e.subscribe((i,s)=>{t(i)!==t(s)&&r()}),()=>t(e.getState()),{name:"storeWithSelectorSignal",getServerFallback:()=>t(e.getInitialState())})}const xX="OAI-Language",Ig="OAI-Client-Version",Mg="OAI-Device-Id",br="OAI-Product-Sku",kX={},S8=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(kX?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},Ho=e=>e?S8(e):S8;var bv={exports:{}},Cv={},Sv={exports:{}},wv={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w8;function TX(){if(w8)return wv;w8=1;var e=t4();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(d,f){var h=f(),m=r({inst:{value:h,getSnapshot:f}}),v=m[0].inst,_=m[1];return s(function(){v.value=h,v.getSnapshot=f,l(v)&&_({inst:v})},[d,h,f]),i(function(){return l(v)&&_({inst:v}),d(function(){l(v)&&_({inst:v})})},[d]),o(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return wv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,wv}var E8;function OX(){return E8||(E8=1,Sv.exports=TX()),Sv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x8;function AX(){if(x8)return Cv;x8=1;var e=t4(),t=OX();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,l=e.useDebugValue;return Cv.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var m=s(null);if(m.current===null){var v={hasValue:!1,value:null};m.current=v}else v=m.current;m=a(function(){function y(w){if(!b){if(b=!0,C=w,w=f(w),h!==void 0&&v.hasValue){var E=v.value;if(h(E,w))return S=E}return S=w}if(E=S,r(C,w))return E;var T=f(w);return h!==void 0&&h(E,T)?E:(C=w,S=T)}var b=!1,C,S,x=d===void 0?null:d;return[function(){return y(u())},x===null?void 0:function(){return y(x())}]},[u,d,f,h]);var _=i(c,m[0],m[1]);return o(function(){v.hasValue=!0,v.value=_},[_]),l(_),_},Cv}var k8;function IX(){return k8||(k8=1,bv.exports=AX()),bv.exports}var MX=IX();const CF=_n(MX),SF={},{useDebugValue:RX}=Fe,{useSyncExternalStoreWithSelector:NX}=CF;let T8=!1;const PX=e=>e;function wc(e,t=PX,n){(SF?"production":void 0)!=="production"&&n&&!T8&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),T8=!0);const r=NX(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return RX(r),r}const O8=e=>{(SF?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ho(e):e,n=(r,i)=>wc(t,r,i);return Object.assign(n,t),n},hn=e=>e?O8(e):O8,DX="f0bc637cf0856e6fd16c76bfaa9345ffdec13388",LX="prod",FX="",jX="",bd=`${LX}-${DX}${FX}${jX}`;var wl={},Bp={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var A8;function BX(){if(A8)return Bp;A8=1,Bp.parse=r,Bp.serialize=i;var e=decodeURIComponent,t=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(o,a){if(typeof o!="string")throw new TypeError("argument str must be a string");for(var l={},c=a||{},u=o.split(";"),d=c.decode||e,f=0;f<u.length;f++){var h=u[f],m=h.indexOf("=");if(!(m<0)){var v=h.substring(0,m).trim();if(l[v]==null){var _=h.substring(m+1,h.length).trim();_[0]==='"'&&(_=_.slice(1,-1)),l[v]=s(_,d)}}}return l}function i(o,a,l){var c=l||{},u=c.encode||t;if(typeof u!="function")throw new TypeError("option encode is invalid");if(!n.test(o))throw new TypeError("argument name is invalid");var d=u(a);if(d&&!n.test(d))throw new TypeError("argument val is invalid");var f=o+"="+d;if(c.maxAge!=null){var h=c.maxAge-0;if(isNaN(h)||!isFinite(h))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(h)}if(c.domain){if(!n.test(c.domain))throw new TypeError("option domain is invalid");f+="; Domain="+c.domain}if(c.path){if(!n.test(c.path))throw new TypeError("option path is invalid");f+="; Path="+c.path}if(c.expires){if(typeof c.expires.toUTCString!="function")throw new TypeError("option expires is invalid");f+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(f+="; HttpOnly"),c.secure&&(f+="; Secure"),c.sameSite){var m=typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite;switch(m){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f}function s(o,a){try{return a(o)}catch{return o}}return Bp}var I8;function UX(){return I8||(I8=1,function(e){var t=wl&&wl.__assign||function(){return t=Object.assign||function(_){for(var y,b=1,C=arguments.length;b<C;b++){y=arguments[b];for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(_[S]=y[S])}return _},t.apply(this,arguments)},n=wl&&wl.__rest||function(_,y){var b={};for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&y.indexOf(C)<0&&(b[C]=_[C]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,C=Object.getOwnPropertySymbols(_);S<C.length;S++)y.indexOf(C[S])<0&&Object.prototype.propertyIsEnumerable.call(_,C[S])&&(b[C[S]]=_[C[S]]);return b};Object.defineProperty(e,"__esModule",{value:!0}),e.checkCookies=e.hasCookie=e.removeCookies=e.deleteCookie=e.setCookies=e.setCookie=e.getCookie=e.getCookies=void 0;var r=BX(),i=function(){return typeof window<"u"},s=function(_){if(_==="true")return!0;if(_==="false")return!1;if(_!=="undefined")return _==="null"?null:_},o=function(_){_===void 0&&(_="");try{var y=JSON.stringify(_);return/^[\{\[]/.test(y)?y:_}catch{return _}},a=function(_){return _&&_.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},l=function(_){var y;if(_&&(y=_.req),!i())return y&&y.cookies?y.cookies:y&&y.headers&&y.headers.cookie?(0,r.parse)(y.headers.cookie):{};for(var b={},C=document.cookie?document.cookie.split("; "):[],S=0,x=C.length;S<x;S++){var w=C[S].split("="),E=w.slice(1).join("="),T=w[0];b[T]=E}return b};e.getCookies=l;var c=function(_,y){var b=(0,e.getCookies)(y),C=b[_];if(C!==void 0)return s(a(C))};e.getCookie=c;var u=function(_,y,b){var C,S,x;if(b){var w=b.req,E=b.res,T=n(b,["req","res"]);S=w,x=E,C=T}var O=(0,r.serialize)(_,o(y),t({path:"/"},C));if(i())document.cookie=O;else if(x&&S){var k=x.getHeader("Set-Cookie");if(Array.isArray(k)||(k=k?[String(k)]:[]),x.setHeader("Set-Cookie",k.concat(O)),S&&S.cookies){var A=S.cookies;y===""?delete A[_]:A[_]=o(y)}if(S&&S.headers&&S.headers.cookie){var A=(0,r.parse)(S.headers.cookie);y===""?delete A[_]:A[_]=o(y),S.headers.cookie=Object.entries(A).reduce(function(P,D){return P.concat("".concat(D[0],"=").concat(D[1],";"))},"")}}};e.setCookie=u;var d=function(_,y,b){return console.warn("[WARN]: setCookies was deprecated. It will be deleted in the new version. Use setCookie instead."),(0,e.setCookie)(_,y,b)};e.setCookies=d;var f=function(_,y){return(0,e.setCookie)(_,"",t(t({},y),{maxAge:-1}))};e.deleteCookie=f;var h=function(_,y){return console.warn("[WARN]: removeCookies was deprecated. It will be deleted in the new version. Use deleteCookie instead."),(0,e.deleteCookie)(_,y)};e.removeCookies=h;var m=function(_,y){if(!_)return!1;var b=(0,e.getCookies)(y);return b.hasOwnProperty(_)};e.hasCookie=m;var v=function(_,y){return console.warn("[WARN]: checkCookies was deprecated. It will be deleted in the new version. Use hasCookie instead."),(0,e.hasCookie)(_,y)};e.checkCookies=v}(wl)),wl}var Up=UX(),je=(e=>(e.AgeVerification="oai-av-seen",e.AllowNonessential="oai-allow-ne",e.CookieBannerShownPath="oai-cbs",e.CookieBannerIgnored="oai-cbi",e.LastVoiceInteraction="oai-lvi",e.DeviceId="oai-did",e.WaId="oai-wid",e.IpOverride="oai-ip-country",e.GeohashOverride="oai-geohash-override",e.IpCityOverride="oai-ip-city",e.ShowPaymentModal="ui-show-payment-modal",e.TempEnableUnauthedCompliance="temp-oai-compliance",e.Workspace="_account",e.WorkspaceResidencyRegion="_account_residency_region",e.AcceptAccountId="_accept_account_id",e.LastLocation="oai-ll",e.HideLoggedOutBanner="hide-logged-out-banner",e.HasLoggedInBefore="oai-hlib",e.PunchOutInfoToken="oai-poit",e.PunchOutRequireLoginInfo="oai-porli",e.SharedConversationId="oai-sh-c-i",e.AuthSessionLoggingId="oai-asli",e.PunchOutRequireAnonToAuthedToken="oai-po-ra2a",e.PunchOutAnonToAuthedEnabled="oai-po-a2a",e.DowngradeAccountEnabled="oai-downgrade-account-enabled",e.DogfoodingAccountType="oai-dogfooding-account-type",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.HasClickedOnTryItFirstLink="oai-tif-20240402",e.IntercomDeviceIdProd="intercom-device-id-dgkjq2bp",e.IntercomDeviceIdDev="intercom-device-id-izw1u7l7",e.DomainMigrationSourceCompleted="oai-dm-src-c-240329",e.DomainMigrationTargetCompleted="oai-dm-tgt-c-240329",e.SignupRedirectUrl="signup_redirect_url",e.DesktopResultsTab="sonic_desktop_results_tab",e.NavigationState="oai-nav-state",e.PreferredLocale="oai-locale",e.ThreadSidebarState="oai-thread-sidebar",e.InternalSearchSettings="oai-internal-search-settings",e.LastUsedModel="oai-last-model",e.LastUsedModelConfig="oai-last-model-config",e.IsSpecificModel="oai-is-specific-model",e.ModelStickyForNewChats="oai-model-sticky-for-new-chats",e.GreetingName="oai-gn",e.headlineMessage="oai-hm",e.ConsentAnalytics="oai_consent_analytics",e.ConsentMarketing="oai_consent_marketing",e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e.LastSelectedGithubRepo="oai-last-selected-github-repo",e.ShowInternalModels="oai-show-internal-models",e.SidebarSections="oai-sidebar-sections",e))(je||{});const qX=["gclid","fbclid","rdt_cid","ttclid","li_fat_id"],zX=["ajs_user_id","ajs_user_traits"],GX={sameSite:"lax"},Ev=".chatgpt.com",wF=window!==window.top,HX=e=>e&&e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent);class EF{allowAnalyticsCookies=!1;allowMarketingCookies=!1;constructor(){wF||(this.synchronizeWithLocalStorage(),setInterval(()=>this.synchronizeWithLocalStorage(),6e4))}setAllowAnalyticsCookies_CLIENT_ONLY(t){this.allowAnalyticsCookies=t,t===!1&&this.clearAnalyticsCookies()}setAllowMarketingCookies_CLIENT_ONLY(t){this.allowMarketingCookies=t,t===!1&&this.clearMarketingCookies()}clearAnalyticsCookies(){for(const t of zX)this.deleteCookie(t)}clearMarketingCookies(){for(const t of qX)this.deleteCookie(t)}synchronizeWithLocalStorage(){[je.Workspace,je.WorkspaceResidencyRegion,je.DeviceId].forEach(n=>{const r=Up.getCookie(n);r!=null?localStorage.setItem(n,JSON.stringify(r)):localStorage.removeItem(n)})}_getCookie(t){const n=Up.getCookies()[t];return n===void 0?void 0:HX(n)}getCookie(t){return this._getCookie(t)}getBooleanCookie(t){const n=this._getCookie(t);return n==null?void 0:n==="true"}getAnalyticsCookie(t){if(this.allowAnalyticsCookies)return this._getCookie(t);this.deleteCookie(t)}getMarketingCookie(t){if(this.allowMarketingCookies)return this._getCookie(t);this.deleteCookie(t)}_setCookie(t,n,r){Up.setCookie(t,n,{...GX,...r})}setCookie(t,n,r){this._setCookie(t,n,r)}setBooleanCookie(t,n,r){this._setCookie(t,n!=null?n?"true":"false":void 0,r)}setAnalyticsCookie(t,n,r){this.allowAnalyticsCookies?this._setCookie(t,n,r):this.deleteCookie(t)}setMarketingCookie(t,n,r){this.allowMarketingCookies?this._setCookie(t,n,r):this.deleteCookie(t)}deleteCookie(t){const n={};Up.deleteCookie(t,n)}}class VX extends EF{getCookie(t){const n=localStorage.getItem(t);return typeof n=="string"?JSON.parse(n):n}setCookie(){}setAnalyticsCookie(){}setMarketingCookie(){}deleteCookie(){}setAllowAnalyticsCookies_CLIENT_ONLY(){}setAllowMarketingCookies_CLIENT_ONLY(){}}const qe=wF?new VX:new EF,$X=60*60*24*30*12,WX=()=>Vr(),KX=e=>typeof e=="string"&&e.length>0,YX=e=>{const t={maxAge:$X};return e.endsWith("openai.com")?t.domain=".openai.com":e.endsWith(window.location.host)&&(t.domain=".chatgpt.com"),t};function ZX(){return window.location.hostname??void 0}function Vo(e=ZX()){const t=qe.getCookie(je.DeviceId);if(KX(t))return t;const n=WX(),r=YX(e);return qe.setCookie(je.DeviceId,n,r),n}function MPe(){window.location.href=window.location.origin+"/auth/logout"}const JX="auth_session_logging_id";var I4=(e=>(e.OpenAI="openai",e.OpenAIDev="openai-dev",e.Mocked="mocked",e.OpenAISidetron="openai-sidetron",e.OpenAISidetronDev="openai-sidetron-dev",e))(I4||{}),QX=(e=>(e[e.Auth0=1]="Auth0",e[e.WorkOS=2]="WorkOS",e))(QX||{});const xF=en(e=>{const t=fn(e),n=t.authStatus==="logged_in"?t.session:null;return Ho(()=>({session:n}))});function dn(e){return fn(e).authStatus==="logged_in"}function Cd(e){return xF(e).getState().session}function Oh(e){return Cd(e)?.accessToken}async function XX(e){try{const t=Date.now(),n=new URL("/api/auth/session",location.origin);n.searchParams.set("refresh","true");for(const[l,c]of Object.entries(e))n.searchParams.set(l,c);const r=Vo();G.addAction(`Refreshing access token due to ${e.reason} error.`,{...e,url:location.origin+(e.path??""),deviceId:r});const i=await fetch(n,{headers:{[Mg]:r,[Ig]:bd}}),s=await i.json(),a=(Date.now()-t)/1e3;if(i.status!==200&&G.addAction("fetchSession.statusNon200",{status:i.status,reqDuration:a}),Object.keys(s).length)return s.accessToken==null&&s.error==null&&G.addAction("missing_access_token_error",{error:`Missing access token for User: ${s.user?.id} (${s.accessToken})`}),s.error==="RefreshAccessTokenError"&&window._oaiHandleSessionExpired?.("page load",s.error),s.error&&G.addAction("fetchSession.error",{error:s.error}),s}catch{}return null}function Ah(){const e=me();return{session:Cd(e),isLoading:!1}}function eee(e){return!e||!e.email?!1:e.email.endsWith("@openai.com")}var _r=(e=>(e.LoggedOut="logged_out",e.LoggedIn="logged_in",e))(_r||{});const RPe="https://api.openai.com/mfa",tee=en(()=>({pending:null}));function kF(e,t){const n=xF(e),r=n.getState().session;r&&n.setState({session:{...r,accessToken:t}})}function TF(e,t){const n=tee(e);return n.pending||(n.pending=(async()=>{try{const r=await XX(t);r?.accessToken&&kF(e,r.accessToken)}finally{n.pending=null}})()),n.pending}class nee{windowStyle$=Tt(void 0);wantsModelSlug$=Tt(void 0);selectedConversationId$=Tt(void 0);wantsNewConversation$=Tt(!1);prepareConversationDetails;attachments;whisperContent;tabContext;requestCompletion;wantsRequestCompletion$=Tt(!1);populatePrompt;wantsPopulatePrompt$=Tt(!1);context$=Tt(void 0);promptOrigin=void 0;authSessionContext=void 0;wantsAuthSessionContext$=Tt(!1);agentRequest;wantsHandleAgentRequest$=Tt(!1);wantsAgentConversationSentMessage$=Tt(!1);agentConversationSentMessage;signalAgentConversationSentMessage(t){this.agentConversationSentMessage={clientThreadId:t},this.wantsAgentConversationSentMessage$.set(!0)}sidebarUrlTrayOpen$=Tt(!0);wantsAttachUserFile$=Tt(!1);attachUserFileRequest;wantsSetChatTheme$=Tt(!1);chatTheme}const nr=new nee,g1="new_page_view",f6="sidebar_view",ree={name:"ref",value:"mini"},iee={name:"ref",value:"mini-sidebar"};let Hf;function OF(e){Hf=e}function NPe(){OF(f6)}function PPe(){OF(g1)}function $o(e){return M4(e)||R4(e)}function M4(e){return Hf?Hf===g1:fn(e).windowStyle===g1}function R4(e){return Hf?Hf===f6:fn(e).windowStyle===f6}function see(e){return fn(e).windowStyle===g1}function oee(e){return $o(e)&&fn(e).isContainerOTR===!0}function DPe(e){const t="gpt-5";if(e?.has(t))return t;const n="gpt-4o";if(e?.has(n))return n}function LPe(e){return M4(e)||aee(e)&&see(e)}function AF(e){Or(nr.windowStyle$);const t=me();return e(t)}function FPe(){const e=me();return oee(e)?!0:$o(e)&&!dn(e)}function aee(e){return We(e,"1224064188")}function jPe(e){return!We(e,"1365150540")}class lee extends TypeError{constructor(t,n){let r;const{message:i,explanation:s,...o}=t,{path:a}=t,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function cee(e){return Ih(e)&&typeof e[Symbol.iterator]=="function"}function Ih(e){return typeof e=="object"&&e!=null}function v1(e){return Ih(e)&&!Array.isArray(e)}function oc(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function uee(e){const{done:t,value:n}=e.next();return t?void 0:n}function dee(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${oc(r)}\``}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:l}}function*M8(e,t,n,r){cee(e)||(e=[e]);for(const i of e){const s=dee(i,t,n,r);s&&(yield s)}}function*IF(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(e=t.coercer(e,a));let l="valid";for(const c of t.validator(e,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,d]of t.entries(e,a)){const f=IF(u,d,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,u],coerce:s,mask:o,message:n.message});for(const h of f)h[0]?(l=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):s&&(u=h[1],c===void 0?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):Ih(e)&&(u!==void 0||c in e)&&(e[c]=u))}if(l!=="not_valid")for(const c of t.refiner(e,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,e])}class Mh{constructor(t){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const u=i(l,c);return M8(u,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const u=s(l,c);return M8(u,c,this,l)}:this.refiner=()=>[]}assert(t,n){return fee(t,this,n)}create(t,n){return hee(t,this,n)}is(t){return mee(t,this)}mask(t,n){return pee(t,this,n)}validate(t,n={}){return Rh(t,this,n)}}function fee(e,t,n){const r=Rh(e,t,{message:n});if(r[0])throw r[0]}function hee(e,t,n){const r=Rh(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function pee(e,t,n){const r=Rh(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function mee(e,t){return!Rh(e,t)[0]}function Rh(e,t,n={}){const r=IF(e,t,n),i=uee(r);return i[0]?[new lee(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function N4(e,t){return new Mh({type:e,schema:null,validator:t})}function BPe(e){return new Mh({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${oc(t)}`}})}function UPe(){return N4("boolean",e=>typeof e=="boolean")}function qPe(e){const t={},n=e.map(r=>oc(r)).join();for(const r of e)t[r]=r;return new Mh({type:"enums",schema:t,validator(r){return e.includes(r)||`Expected one of \`${n}\`, but received: ${oc(r)}`}})}function gee(){return N4("never",()=>!1)}function vee(e){const t=e?Object.keys(e):[],n=gee();return new Mh({type:"object",schema:e||null,*entries(r){if(e&&Ih(r)){const i=new Set(Object.keys(r));for(const s of t)i.delete(s),yield[s,r[s],e[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return v1(r)||`Expected an object, but received: ${oc(r)}`},coercer(r,i){if(!v1(r))return r;const s={...r};if(i.mask&&e)for(const o in s)e[o]===void 0&&delete s[o];return s}})}function R8(){return N4("string",e=>typeof e=="string"||`Expected a string, but received: ${oc(e)}`)}function zPe(e){const t=Object.keys(e);return new Mh({type:"type",schema:e,*entries(n){if(Ih(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return v1(n)||`Expected an object, but received: ${oc(n)}`},coercer(n){return v1(n)?{...n}:n}})}var _ee=(e=>(e.Accepted="accepted",e.Denied="denied",e.Pending="pending",e))(_ee||{}),Ec=(e=>(e.Sunshine="sunshine",e.GoldenHour="golden_hour",e.TrainingAllowed="training_allowed",e.ShowExpandedCodeView="show_expanded_code_view",e.VoiceName="voice_name",e.VoiceMainLanguage="voice_main_language",e.MemoryInSearch="memory_in_search",e.VoiceTrainingAllowed="voice_training_allowed",e.VideoTrainingAllowed="video_training_allowed",e.Moonshine="moonshine",e.CodexTrainingAllowed="codex_training_allowed_v2",e.ModelStickyForNewChats="model_sticky_for_new_chats",e.ShowLegacyModels="show_legacy_models",e.HiveReferencedInInternalKnowledge="hive_referenced_in_internal_knowledge",e.DeveloperMode="developer_mode",e.Gift="gift",e.ChatTheme="chat_theme",e.LastUsedModelConfig="last_used_model_config",e.VoiceSpeed="voice_speed",e.EnableRemoteBrowserData="enable_remote_browser_data",e.H17180rGmail="h17180r_gmail",e.H17180rGoogleCalendar="h17180r_google_calendar",e.H17180rGoogleContacts="h17180r_google_contacts",e.PreciseLocationDeviceSettings="precise_location_device_settings",e))(Ec||{}),pa=(e=>(e.DEEP_RESEARCH="deep_research",e.WORKSPACE_GPT_CUSTOM_ACTIONS="workspace_gpt_custom_actions",e.APP_PAIRING="app_pairing",e.BROWSING="browsing",e.CANVAS="canvas",e.CANVAS_CODE_EXECUTION="canvas_code_execution",e.CANVAS_CODE_NETWORK_ACCESS="canvas_code_network_access",e.DALLE="dalle",e.MEMORY="sunshine",e.LEGACY_MODELS="legacy_models",e.CONTEXT_CONNECTOR_CONFLUENCE="context_connector_confluence",e.CONTEXT_CONNECTOR_GDRIVE="context_connector_gdrive",e.CONTEXT_CONNECTOR_JIRA="context_connector_java",e.CONTEXT_CONNECTOR_NOTION="context_connector_notion",e.CONTEXT_CONNECTOR_O365_PERSONAL="context_connector_o365_personal",e.CONTEXT_CONNECTOR_O365_BUSINESS="context_connector_o365_business",e.CONTEXT_CONNECTOR_SLACK="context_connector_slack",e.CONTEXT_CONNECTOR_GITHUB="context_connector_github",e.CLIENT_APPLICATION_APPLE="client_application_apple",e.CLIENT_APPLICATION_APPLE_MDM_REQUIRED="client_application_apple_mdm_required",e.MEMORY_IN_SEARCH="memory_in_search_2",e.VIDEO_SCREEN_SHARING="video_screen_sharing",e.HIVE="hive",e.HIVE_KNOWLEDGE_RETRIEVAL="hive_knowledge_retrieval",e.ALLOW_CODEX_ACCESS="wham_access",e.ALLOW_CODEX_LOCAL_ACCESS="wham_local_access",e.CODEX_AGENT_NETWORK_ACCESS="codex_agent_network_access",e.WORKSPACE_POLICY="workspace_policy",e))(pa||{}),yee=(e=>(e.FREE="chatgptfreeplan",e.GO="chatgptgoplan",e.PLUS="chatgptplusplan",e.PRO="chatgptpro",e.PRO_FREE="chatgptprofreeplan",e.PLUS_FREE="chatgptplusfreeplan",e.SELF_SERVE_BUSINESS="chatgptteamplan",e.ENTERPRISE_CBP_SEAT_USAGE="chatgptbusiness_seat_usage",e.ENTERPRISE_CBP_FLAT="chatgptbusiness_flat",e.EDUCATION_CBP_FLAT="chatgpteducation_flat",e.QUORUM="chatgptquorumplan",e.DEPRECATED_ENTERPRISE="chatgptenterpriseplan",e.DEPRECATED_EDU="chatgpteduplan",e))(yee||{}),Ye=(e=>(e.FREE="free",e.GO="go",e.PLUS="plus",e.PRO="pro",e.SELF_SERVE_BUSINESS="team",e.ENTERPRISE_CBP="business",e.EDUCATION_CBP="education",e.QUORUM="quorum",e.DEPRECATED_ENTERPRISE="enterprise",e.DEPRECATED_EDU="edu",e))(Ye||{}),bee=(e=>(e.ANYONE="anyone",e.NO_ONE="no_one",e.WORKSPACE_ONLY="workspace_only",e))(bee||{});const GPe={ALLOW_ALL:"allow_all",ALLOW_SPECIFIC:"allow_specific",ALLOW_NONE:"allow_none"};var Cee=(e=>(e.GPT_SHARE_SETTINGS="gpt_share_setting",e.CHAT_SHARE_SETTINGS="chat_share_setting",e))(Cee||{}),See=(e=>(e.WORKSPACE="workspace",e.THIRD_PARTY="third_party",e.UNASSIGNED="unassigned",e))(See||{}),Ll=(e=>(e.WEB="web",e.IOS_APP="ios_app",e.ANDROID_APP="android_app",e.WINDOWS_APP="windows_app",e.MAC_APP="mac_os_app",e.DEFAULT="default",e))(Ll||{}),Fl=(e=>(e.CodeInterpreter="code_interpreter",e.Multimodal="multimodal",e.Retrieval="retrieval",e.ContextConnector="context_connector",e))(Fl||{}),wee=(e=>(e.FREE="free",e.PLUS="plus",e))(wee||{}),Ps=(e=>(e.TOOL_USE="tool_use",e.IMAGE="image",e.ATTACHMENT="attachment",e.AUDIO="audio",e.TARGETED_REPLY="targeted_reply",e.CANVAS_SUPPORTED="canvas_supported",e.TOOL_SEARCH="tool_search",e.CUSTOM_INSTRUCTIONS="custom_instructions",e.GIZMO_PROJECT="gizmo_project",e))(Ps||{}),Eee=(e=>(e.SHORT_LABEL="short_label",e.TITLE="title",e))(Eee||{}),Br=(e=>(e[e.DEPRECATED_PENDING=1]="DEPRECATED_PENDING",e[e.DEPRECATED_FINISHED=2]="DEPRECATED_FINISHED",e[e.STREAMING=3]="STREAMING",e[e.UNREAD=4]="UNREAD",e[e.REALTIME=5]="REALTIME",e))(Br||{}),js=(e=>(e[e.CLIENT=1]="CLIENT",e[e.SERVER=2]="SERVER",e))(js||{}),$r=(e=>(e.PERSONAL="personal",e.WORKSPACE="workspace",e))($r||{}),xf=(e=>(e.OWNER="account-owner",e.ADMIN="account-admin",e.STANDARD="standard-user",e))(xf||{});const HPe=["source","tool"];var xee=(e=>(e.VERIFIED="verified",e.PENDING="pending",e.EXPIRED="expired",e))(xee||{}),kee=(e=>(e.PERCENTAGE="percentage",e.FIXED="fixed",e))(kee||{}),Pn=(e=>(e.AceUpload="ace_upload",e.MyFiles="my_files",e.LibraryFiles="library_files",e.Multimodal="multimodal",e.ProfilePicture="profile_picture",e.Gizmo="agent",e.DalleAgent="dalle_agent",e.Codex="codex",e))(Pn||{}),ci=(e=>(e.Initial="initial",e.FileCreated="file_created",e.FileUploaded="file_uploaded",e.FileProcessed="file_processed",e.RetrievalIndexCreated="retrieval_index_created",e))(ci||{}),Vf=(e=>(e.Success="success",e.Retry="retry",e.Error="error",e))(Vf||{}),Fu=(e=>(e.Success="success",e.Failed="failed",e.Processing="processing",e.Skipped="skipped",e))(Fu||{}),Pe=(e=>(e.GDRIVE="gdrive",e.O365="o365",e.O365_PERSONAL="o365_personal",e.O365_BUSINESS="o365_business",e.CONFLUENCE="confluence",e.JIRA="java",e.NOTION_OPEN_CONNECTOR="notion_open_connector",e.SLACK_OPEN_CONNECTOR="slack_open_connector",e))(Pe||{});const q={GDRIVE_ACTION_CONNECTOR:"gdrive_action_connector",GITHUB_CONNECTOR:"github_connector",LINEAR_CONNECTOR:"linear_connector",DROPBOX_CONNECTOR:"dropbox_connector",SHAREPOINT_CONNECTOR:"sharepoint_connector",GCAL_CONNECTOR:"google_calendar_connector",GMAIL_CONNECTOR:"gmail_connector",GOOGLE_CONTACTS_CONNECTOR:"google_contacts_connector",TEAMS_CONNECTOR:"teams_connector",OUTLOOK_CALENDAR_CONNECTOR:"outlook_calendar_connector",OUTLOOK_EMAIL_CONNECTOR:"outlook_email_connector",BOX_CONNECTOR:"box_connector",INTERCOM_CONNECTOR:"intercom_connector",NOTION_CONNECTOR:"notion_connector",HUBSPOT_CONNECTOR:"hubspot_connector",CANVA_CONNECTOR:"canva_connector",SLACK_CONNECTOR:"slack_connector",UAE_PASS_CONNECTOR:"uae_pass_connector",SHAREPOINT_ADMIN_CONNECTOR:"sharepoint_admin_connector"};var Nh=(e=>(e.MCP_CONNECTOR="mcp_connector",e))(Nh||{}),MF=(e=>(e.GDRIVE_SYNC_CONNECTOR="gdrive_sync_connector",e.SLACK_SYNC_CONNECTOR="slack_sync_connector",e))(MF||{}),Tee=(e=>(e.GCAL_CONNECTOR="gcal_action_connector",e.GMAIL_CONNECTOR="gmail_action_connector",e.GOOGLE_CONTACTS_CONNECTOR="google_contacts_action_connector",e))(Tee||{}),Oee=(e=>(e.PAGE="page",e))(Oee||{}),Aee=(e=>(e.PAGE="page",e.DATABASE="database",e))(Aee||{}),Iee=(e=>(e.MESSAGE="message",e))(Iee||{}),Mee=(e=>(e.PYTHON="python",e.RETRIEVAL="retrieval",e.BROWSER="browser",e.CANVAS="canvas",e.FUNCTION="function",e.DALLE="dalle",e.API="api",e.PARALLEL_BROWSE="parallel_browse",e.MEMORY="memory",e.CONTEXT_CONNECTOR="context_connector",e.JIT_PLUGIN="plugins_prototype",e.IMAGE_GEN="image_gen",e))(Mee||{}),Ree=(e=>(e.Gizmo="gizmo",e.ShareableConversation="share_link",e.Conversation="conversation",e.Post="post",e.CommerceProduct="commerce_product",e.Connector="connector",e))(Ree||{}),Nee=(e=>(e.UserName="user_name",e.UserEmail="user_email",e.EntityName="entity_name",e.EntityUrl="entity_url",e.SampleLongerInput="sample_longer_input",e.SampleUrl="sample_url_input",e.SampleIntInput="sample_int_input",e))(Nee||{});const VPe={shouldnt_have_created:Hn({id:"ImageGenFeedback.ShouldNotHaveCreated",defaultMessage:"Shouldn't have created an image"}),dont_like_style:Hn({id:"ImageGenFeedback.DontLikeStyle",defaultMessage:"Don't like the style"}),didnt_fully_follow_instructions:Hn({id:"ImageGenFeedback.DidntFollowInstructions",defaultMessage:"Didn't fully follow instructions"}),low_quality_or_distorted:Hn({id:"ImageGenFeedback.LowQualityOrDistorted",defaultMessage:"Low quality or distorted"}),odd_cropping:Hn({id:"ImageGenFeedback.OddCropping",defaultMessage:"Odd cropping"}),inaccurate_editing:Hn({id:"ImageGenFeedback.InaccurateEditing",defaultMessage:"Inaccurate editing"}),inaccurate_text_rendering:Hn({id:"ImageGenFeedback.InaccurateTextRendering",defaultMessage:"Inaccurate text rendering"}),unsafe_or_problematic:Hn({id:"ImageGenFeedback.UnsafeOrProblematic",defaultMessage:"Unsafe or problematic"}),biased:Hn({id:"ImageGenFeedback.Biased",defaultMessage:"Biased"}),other:Hn({id:"ImageGenFeedback.Other",defaultMessage:"Other"})};var Pee=(e=>(e.AUDIO_ISSUES="audio_issues",e.RESPONSE_QUALITY="response_quality",e.INTERRUPTIONS="interruptions",e.TRANSCRIPTION_ISSUES="transcription_issues",e.INAUDIBLE_ISSUES="inaudible_issues",e.OTHER="other",e))(Pee||{});const $Pe={audio_issues:Hn({id:"VoiceFeedback.AudioIssues",defaultMessage:"Audio issues"}),response_quality:Hn({id:"VoiceFeedback.ResponseQuality",defaultMessage:"I didn't like the responses"}),interruptions:Hn({id:"VoiceFeedback.Interruptions",defaultMessage:"It interrupted me"}),transcription_issues:Hn({id:"VoiceFeedback.TranscriptionIssues",defaultMessage:"It misheard me"}),inaudible_issues:Hn({id:"VoiceFeedback.InaudibleIssues",defaultMessage:"It couldn't hear me"}),other:Hn({id:"VoiceFeedback.Other",defaultMessage:"Other"})};var Dee=(e=>(e.THUMBS_UP="thumbs_up",e.THUMBS_DOWN="thumbs_down",e))(Dee||{}),Lee=(e=>(e.Auto="auto",e.Arabic="ar",e.Bosnian="bs",e.Bulgarian="bg",e.Catalan="ca",e.Chinese="zh",e.Croatian="hr",e.Czech="cs",e.Danish="da",e.Dutch="nl",e.English="en",e.Finnish="fi",e.French="fr",e.Galician="gl",e.German="de",e.Greek="el",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Italian="it",e.Japanese="ja",e.Korean="ko",e.Macedonian="mk",e.Malay="ms",e.Norwegian="no",e.Polish="pl",e.Portuguese="pt",e.Romanian="ro",e.Russian="ru",e.Slovak="sk",e.Spanish="es",e.Tagalog="tl",e.Tamil="ta",e.Thai="th",e.Turkish="tr",e.Swedish="sv",e.Ukrainian="uk",e.Vietnamese="vi",e))(Lee||{});const WPe=["new_chat","switch_to_standard","ok","upgrade_to_plus","upgrade_to_pro"],xv="account_switch",kv="error",KPe=vee({email:R8(),token:R8()});var Fee=(e=>(e.InvalidProof="invalid_proof",e.ExternalAccountAlreadyLinked="external_account_already_linked",e.InternalAccountAlreadyLinked="account_already_linked",e.UnsupportedPlatform="unsupported_platform",e.UnsupportedPlanType="unsupported_plan_type",e.SessionExpired="user_session_expired",e))(Fee||{});function YPe(e){if(typeof e!="object"||e==null)return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function ZPe(e){return e!=null}const jee=(e,t)=>e.includes(t),Bee=(e,t,n=[])=>{if(e==null)return n;const r=Array.isArray(e)?e:[e];return t?r.map(t):r},JPe=(e,t=[])=>n=>Bee(n,e,t),Uee=(e,t=void 0)=>typeof e!="object"||e==null||Array.isArray(e)?t:e,qee=(e,t)=>{const n=Uee(e),r={};for(const i in t)r[i]=t[i](n?.[i]);return r},QPe=e=>t=>qee(t,e),XPe=(e,t="")=>typeof e=="object"||e==null?t:String(e),eDe=(e,t=0)=>{if(typeof e=="object"||e==null)return t;const n=Number(e);return isNaN(n)?t:n},tDe=(e,t=!1)=>{if(typeof e=="boolean")return e;if(typeof e=="number"){if(e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const n=e.toLowerCase();if(n==="false")return!1;if(n==="true")return!0}return t},h6=(e,t,n=t[0])=>jee(t,e)?e:n,nDe=(e,t=e[0])=>n=>h6(n,e,t),rDe=e=>t=>t===void 0?void 0:e(t),Mu="@@",P4=[],_1=new Map;function Qc(e,t,n,r){if(_1.has(e)||e==="Ref")throw new Error(`Already registered pickler ${e}`);const i={key:e,test:t,pickle:n,unpickle:r};_1.set(e,i),P4.push(i)}function RF(){const e=[],t=new Map;return function(n,r){for(;e.length&&e[e.length-1][0]!==this;){const s=e.pop()[1];typeof s=="object"&&s!=null&&t.set(s,t.size)}const i=this[n];if(typeof i=="object"&&i!=null){const s=t.get(i);if(s!=null)return{[Mu]:"Ref","":s}}for(const s of P4)if(s.test(i)){const o={[Mu]:s.key,"":s.pickle(i)};return e.push([o,i]),o}if(typeof r=="object"&&r!=null){if(Mu in r)throw new Error(`Unexpected ${Mu} property`);e.push([r,i])}return r}}function zee(){const e=[];return function(t,n){if(typeof n!="object"||n==null)return n;if(Mu in n){const{[Mu]:r,"":i}=n;if(r==="Ref")return e[i];const s=_1.get(r);if(!s)throw Error(`Unknown pickle key ${r}`);if(n=s.unpickle(i),typeof n!="object"||n==null)return n}return e.push(n),n}}function Gee(){P4.length=0,_1.clear(),Qc("Map",e=>e instanceof Map,e=>[...e.entries()],e=>new Map(e)),Qc("Set",e=>e instanceof Set,e=>[...e.keys()],e=>new Set(e)),Qc("Date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),Qc("RegExp",e=>e instanceof RegExp,e=>[e.source,e.flags],([e,t])=>new RegExp(e,t)),Qc("Number",e=>typeof e=="number"&&(Object.is(e,-0)||!isFinite(e)||isNaN(e)),e=>Object.is(e,-0)?"-0":String(e),e=>Number(e)),Qc("BigInt",e=>typeof e=="bigint",e=>String(e),e=>BigInt(e))}Gee();function Hee(e){if(e==null)return null;const t=fn(Lt());return t.authStatus!==_r.LoggedIn?null:{workspaceId:e,userId:t.user.id}}function D4(e,t){const n=Hee(e);return n==null?null:`cache/${n.userId}/${n.workspaceId}/${t}`}const Vee=1e3*60*60*24;function $ee(e,t,n){const r=D4(e,t);if(r==null)return;const i=localStorage.getItem(r);if(i!=null)try{const{value:s,timestamp:o,version:a,used:l}=JSON.parse(i,zee());if(a!==n||Date.now()-o>Vee){localStorage.removeItem(r);return}return{localStorageKey:r,value:s,version:a,used:typeof l=="number"?l:0}}catch{return}}const Tv={};function Wee(e,t,n){if(e==null)return;if(t in Tv)return Tv[t];const r=$ee(e,t,n);if(G.addAction(`localStorageCache.${t}`,{cacheVersion:n,wasPresent:r!=null}),Tv[t]=r?.value,r!=null)return r.used+1>=4?localStorage.removeItem(r.localStorageKey):localStorage.setItem(r.localStorageKey,JSON.stringify({timestamp:Date.now(),value:r.value,version:r.version,used:r.used+1},RF())),r.value}function Kee(e,t,n,r){const i=D4(e,t);i!=null&&localStorage.setItem(i,JSON.stringify({value:n,timestamp:Date.now(),version:r},RF()))}function Yee(e,t){const n=D4(e,t);n!=null&&localStorage.removeItem(n)}function NF(){for(const e of Object.keys(localStorage))e.startsWith("cache/")&&localStorage.removeItem(e)}const Zee=Object.prototype.toString;function Jee(e,t){try{return e instanceof t}catch{return!1}}function Qee(e){switch(Zee.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Jee(e,Error)}}const N8={componentStack:null,error:null};function Xee(e,t){const n=new WeakMap;function r(i,s){if(!n.has(i)){if(i.cause)return n.set(i,!0),r(i.cause,s);i.cause=s}}r(e,t)}const ete=["The node to be removed is not a child of this node","The object can not be found here."];function tte(e){return ete.some(t=>e.message?.includes(t))}let Rg=class extends p.Component{state;constructor(t){super(t),this.state=N8}componentDidCatch(t,{componentStack:n}){if(Qee(t)){const r=new Error(t.message);r.name=`React ErrorBoundary ${r.name}`,r.stack=n??"",Xee(t,r)}if(!tte(t)&&(this.props.logRequestErrors===!0||!(t instanceof vt))){const r=new Error(t.message);r.name="ReactRenderingError",r.stack=n??"",r.cause=t,G.addError(r,{error_boundary:this.props.name})}NF(),this.props.onError&&this.props.onError(t,n??""),this.setState({error:t,componentStack:n})}resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:n,componentStack:r}=this.state;t&&t(n,r??""),this.setState(N8)};render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.error){let i;return typeof t=="function"?i=t({error:r.error,componentStack:r.componentStack??"",resetError:this.resetErrorBoundary}):i=t,p.isValidElement(i)?i:null}return typeof n=="function"?n():n}};const PF=()=>{},nte=()=>PF;function p6(e,t=PF){return p.useSyncExternalStore(nte,e,t)}function Ng(){return p6(()=>!0,()=>!1)}function DF(e){"use forget";const{children:t,fallback:n}=e,r=n===void 0?null:n;return Ng()?t:r}const P8=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M12.498 6.90887C12.7094 6.60867 13.1245 6.53642 13.4248 6.74774C13.7249 6.95913 13.7971 7.37424 13.5859 7.6745L9.62695 13.2995C9.51084 13.4644 9.32628 13.5681 9.125 13.5807C8.94863 13.5918 8.77583 13.5319 8.64453 13.4167L8.59082 13.364L6.50781 11.072L6.42773 10.9645C6.26956 10.6986 6.31486 10.3488 6.55273 10.1325C6.79045 9.91663 7.14198 9.9053 7.3916 10.0876L7.49219 10.1774L9.0166 11.8542L12.498 6.90887Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3333 2.08496C14.7046 2.08496 18.2483 5.62867 18.2483 10C18.2483 14.3713 14.7046 17.915 10.3333 17.915C5.96192 17.915 2.41821 14.3713 2.41821 10C2.41821 5.62867 5.96192 2.08496 10.3333 2.08496ZM10.3333 3.41504C6.69646 3.41504 3.74829 6.3632 3.74829 10C3.74829 13.6368 6.69646 16.585 10.3333 16.585C13.97 16.585 16.9182 13.6368 16.9182 10C16.9182 6.3632 13.97 3.41504 10.3333 3.41504Z"})),ed=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.0002 12.189C10.5523 12.1891 11 12.6369 11.0002 13.189C11.0002 13.7412 10.5524 14.1889 10.0002 14.189C9.44791 14.189 9.00019 13.7413 9.00019 13.189C9.00035 12.6368 9.44801 12.189 10.0002 12.189Z"}),p.createElement("path",{d:"M10.0002 7.02394C10.3673 7.02405 10.6651 7.32191 10.6652 7.68898V10.356C10.6651 10.723 10.3673 11.0209 10.0002 11.021C9.63303 11.021 9.33532 10.7231 9.33515 10.356V7.68898C9.33531 7.32184 9.63302 7.02394 10.0002 7.02394Z"}),p.createElement("path",{d:"M7.76484 3.14894C8.89036 1.56557 11.3015 1.61886 12.341 3.30812L18.6125 13.4995C19.7387 15.3305 18.4214 17.6879 16.2717 17.688H3.72871C1.57877 17.688 0.261434 15.3306 1.38789 13.4995L7.65937 3.30812L7.76484 3.14894ZM11.2082 4.00441C10.689 3.1609 9.50658 3.10813 8.90449 3.84621L8.79219 4.00441L2.5207 14.1958C1.93937 15.1408 2.61919 16.3579 3.72871 16.3579H16.2717C17.381 16.3578 18.0608 15.1407 17.4797 14.1958L11.2082 4.00441Z"})),LF=["AD","AE","AF","AG","AL","AM","AO","AR","AT","AU","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BN","BO","BR","BS","BT","BW","BZ","CA","CD","CF","CG","CH","CI","CL","CM","CO","CR","CV","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FM","FR","GA","GB","GD","GE","GF","GH","GM","GN","GP","GQ","GR","GT","GW","GY","HN","HR","HT","HU","ID","IE","IL","IN","IQ","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KR","KW","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MQ","MR","MT","MU","MV","MW","MX","MY","MZ","NA","NE","NG","NI","NL","NO","NP","NR","NZ","OM","PA","PE","PG","PH","PK","PL","PR","PS","PT","PW","PY","QA","RE","RO","RS","RW","SA","SB","SC","SD","SE","SG","SI","SK","SL","SM","SN","SO","SR","SS","ST","SV","SZ","TD","TG","TH","TJ","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VN","VU","WS","XK","YE","YT","ZA","ZM","ZW"],rte=new Set(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GF","GP","GR","HU","IS","IE","IT","LV","LI","LT","LU","MF","MQ","MT","NL","NO","PL","PT","RE","RO","SK","SI","ES","SE","YT"]),ite=new Set(["GF","GP","MF","MQ","RE","YT"]),qp="US",ste="GB",ote="CH",ate="IN",lte="ID",cte={AL:"Albania",DZ:"Algeria",AF:"Afghanistan",AD:"Andorra",AO:"Angola",AG:"Antigua & Barbuda",AR:"Argentina",AM:"Armenia",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BE:"Belgium",BZ:"Belize",BJ:"Benin",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia & Herzegovina",BW:"Botswana",BR:"Brazil",BN:"Brunei",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",CV:"Cape Verde",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CF:"Central African Republic",TD:"Chad",CL:"Chile",CO:"Colombia",KM:"Comoros",CG:"Congo - Brazzaville",CD:"Congo - Kinshasa",CR:"Costa Rica",CI:"Côte d’Ivoire",HR:"Croatia",CY:"Cyprus",CZ:"Czechia",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",SZ:"Eswatini",ET:"Ethiopia",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GR:"Greece",GD:"Grenada",GP:"Guadeloupe",GT:"Guatemala",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",VA:"Vatican City",HN:"Honduras",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IQ:"Iraq",IE:"Ireland",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Laos",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar (Burma)",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",MK:"North Macedonia",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestine",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PL:"Poland",PR:"Puerto Rico",PT:"Portugal",QA:"Qatar",RE:"Réunion",RO:"Romania",RW:"Rwanda",KN:"St. Kitts & Nevis",LC:"St. Lucia",VC:"St. Vincent & Grenadines",MF:"Saint Martin",WS:"Samoa",SM:"San Marino",ST:"São Tomé & Príncipe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",KR:"South Korea",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SR:"Suriname",SE:"Sweden",CH:"Switzerland",SD:"Sudan",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TO:"Tonga",TT:"Trinidad & Tobago",TN:"Tunisia",TR:"Türkiye",TM:"Turkmenistan",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VN:"Vietnam",XK:"Kosovo",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};function ute(e){return LF.includes(e)}function sDe({country:e,shouldUseDefaultCountryCode:t}){return t?(G.addAction(`Force using ${qp}`,{user_country:e}),qp):e==null||!ute(e)?(G.addError(`User country is null or unrecognized - will use ${qp}`,{user_country:e}),qp):e}function dte(e){try{const t=new Intl.DisplayNames([e],{type:"region"});return n=>t.of(n)??""}catch(t){return G.addError("Failed to create country display name formatter, will fallback to en_US locale display name",{cause:t}),n=>cte[n]??""}}function fte(){const e=me(),t=fn(e);return p.useMemo(()=>dte(t.locale),[t.locale])}function oDe(){const e=fte();return p.useMemo(()=>[...LF].sort((n,r)=>{const i=e(n),s=e(r);return i.localeCompare(s)}),[e])}function hte(e){return rte.has(e)}function aDe(e){return e==null?(G.addError(new Error("nullish_country_for_vat_collection_exclusion_check"),{country:e}),!1):ite.has(e)}const lDe=["USD","GBP","EUR","INR","IDR"],FF="USD",pte="GBP",D8="EUR",mte="INR",gte="IDR";function cDe(e,t=[]){return hte(e)||e===ote?D8:e===ste?pte:e===ate?mte:t.includes(e)&&e===lte?gte:FF}const Js=Ot({dollarSign:{id:"currencyCodes.dollarSign",defaultMessage:"$"},dollarCode:{id:"currencyCodes.dollarCode",defaultMessage:"USD"},poundSign:{id:"currencyCodes.poundSign",defaultMessage:"£"},poundCode:{id:"currencyCodes.poundCode",defaultMessage:"GBP"},euroSign:{id:"currencyCodes.euroSign",defaultMessage:"€"},euroCode:{id:"currencyCodes.euroCode",defaultMessage:"EUR"},inrSign:{id:"currencyCodes.inrSign",defaultMessage:"₹"},inrCode:{id:"currencyCodes.inrCode",defaultMessage:"INR"},idrSign:{id:"currencyCodes.idrSign",defaultMessage:"Rp"},idrCode:{id:"currencyCodes.idrCode",defaultMessage:"IDR"}}),uDe={sign:Js.dollarSign,code:Js.dollarCode},dDe={sign:Js.poundSign,code:Js.poundCode},fDe={sign:Js.euroSign,code:Js.euroCode},hDe={sign:Js.inrSign,code:Js.inrCode},pDe={sign:Js.idrSign,code:Js.idrCode},mDe="https://help.openai.com/en/collections/3943089-billing",gDe="https://openai.com/chatgpt/enterprise",vDe=window.location.origin+"/contact-sales",_De="https://help.openai.com/en/articles/7905690-how-do-i-cancel-my-apple-subscription-for-chatgpt-plus-in-the-chatgpt-ios-app",yDe="https://help.openai.com/en/articles/8258076-how-to-cancel-my-plus-subscription-in-the-chatgpt-android-app",bDe="https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",CDe="https://help.openai.com/en/articles/11989085-chatgpt-go",jF="pricing",L4="team-pricing",SDe="plus-pricing",vte="team-pricing-direct",BF="account-payment-modal-open-from-location",wDe={MOBILE_IOS:"chatgpt_mobile_ios",MOBILE_ANDROID:"chatgpt_mobile_android"};var _te={};const yte=window.location.origin+"/backend/se",EDe=_te.VITE_VZA493Q_SERVICE_URL??"https://operator.chatgpt.com"??"https://operator.chatgpt.com",Io="personal",UF=60*60*24*90,Gs=Ot({signUpButtonText:{id:"Kiuf8K",defaultMessage:"Sign up"},logInButtonText:{id:"Yx8BXg",defaultMessage:"Log in"},cancelButtonText:{id:"DR1Cxg",defaultMessage:"Cancel"},continueButtonText:{id:"bT1n8o",defaultMessage:"Continue"},gotItButtonText:{id:"Eomb3Y",defaultMessage:"Got it"},stayLoggedOut:{id:"JpuO4U",defaultMessage:"Stay logged out"},somethingWentWrong:{id:"SJ1B8J",defaultMessage:"Something went wrong. Please try again later"},getPlus:{id:"nPUS9f",defaultMessage:"Get Plus"},getPro:{id:"MC/MAr",defaultMessage:"Get Pro"},tryPlus:{id:"lhUk0N",defaultMessage:"Try Plus"},tryBusiness:{id:"D5Q+Xo",defaultMessage:"Try Business"},tryGo:{id:"OkPnQG",defaultMessage:"Try Go"},upgradeToPlus:{id:"LIJKv1",defaultMessage:"Upgrade to Plus"},upgradeToPro:{id:"U92S4K",defaultMessage:"Upgrade to Pro"},upgradeToGo:{id:"xbeQTB",defaultMessage:"Upgrade to Go"},joinGo:{id:"w4EEKa",defaultMessage:"Join Go"},joinPlus:{id:"HmtUzT",defaultMessage:"Join Plus"},joinPro:{id:"Ehp9lH",defaultMessage:"Join Pro"},unlockGo:{id:"C3xzfi",defaultMessage:"Unlock Go"},unlockPlus:{id:"W3hk8e",defaultMessage:"Unlock Plus"},unlockPro:{id:"TXstaY",defaultMessage:"Unlock Pro"},longCtaPlus:{id:"kp6hSg",defaultMessage:"Get better, faster answers"},longCtaPro:{id:"SEKq+P",defaultMessage:"Unlock all of ChatGPT"},upgradeYourPlan:{id:"aWGaHN",defaultMessage:"Upgrade your plan"},upgradePlan:{id:"N8cHz1",defaultMessage:"Upgrade plan"},upgrade:{id:"0CZNA2",defaultMessage:"Upgrade"},upgradeForFree:{id:"c1Drc7",defaultMessage:"Upgrade for free"},featureProjectsTasksCustomGPTs:{id:"pricing.plusRedesign.feature.projectsTasksCustomGPTs",defaultMessage:"Projects, tasks, custom GPTs"},maybeLater:{id:"common-message.maybeLater",defaultMessage:"Maybe later"},confirm:{id:"common-message.confirm",defaultMessage:"Confirm"},cancel:{id:"common-message.cancel",defaultMessage:"Cancel"},tryPlusTrial:{id:"common-message.tryPlusFree",defaultMessage:"Try Plus free"},chatGPT:{id:"common-message.chatGPT",defaultMessage:"ChatGPT"},connect:{id:"common-message.connect",defaultMessage:"Connect"},notApplicable:{id:"common-message.notApplicable",defaultMessage:"N/A"},contactSales:{id:"common-message.contactSales",defaultMessage:"Contact Sales"}});var bte=(e=>(e.APPLE="apple",e))(bte||{});const Cte="gpt-4o",xDe=Cte;var Ste=(e=>(e.NoAuthGo="ifpazk",e))(Ste||{});const kDe={ifpazk:"zkl"};function TDe(e){return e.hash.split("#")[1]===jF}function ODe(e){return e.hash.split("#")[1]===L4}function ADe(e){return e.hash.split("#")[1]===vte}function F4(e,t,n=jF){e({hash:n,search:window.location.search},{state:{[BF]:t}})}function IDe(e){e({hash:""})}function MDe(){return Gs.upgradeToGo}function wte(e){switch(Wt(e,"2788179050").get("plus_upsell_cta_copy","get_plus")){case"upgrade_to_plan":return Gs.upgradeToPlus;case"upgrade_your_plan":return Gs.upgradeYourPlan;case"upgrade":return Gs.upgrade;case"get_plus":default:return Gs.getPlus}}function RDe(e){switch(Wt(e,"2788179050").get("pro_upsell_cta_copy","get_pro")){case"upgrade_to_plan":return Gs.upgradeToPro;case"upgrade_your_plan":return Gs.upgradeYourPlan;case"upgrade":return Gs.upgrade;case"get_pro":default:return Gs.getPro}}function Ete(e){return We(e,"3600660324")}const xte=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10 10.168C10.8271 10.1681 11.4987 10.8389 11.499 11.666C11.499 12.2542 11.1583 12.7616 10.665 13.0068V14.166C10.665 14.5332 10.3671 14.8309 10 14.8311C9.63288 14.8309 9.33496 14.5332 9.33496 14.166V13.0068C8.84181 12.7616 8.50195 12.2542 8.50195 11.666C8.50231 10.8389 9.17286 10.1681 10 10.168Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.83496C12.6683 1.83514 14.8311 3.99865 14.8311 6.66699V6.93262C15.1047 6.98164 15.3605 7.05589 15.6035 7.17969L15.8213 7.30176C16.3171 7.60583 16.7208 8.04242 16.9863 8.56348L17.0527 8.70605C17.197 9.04236 17.2622 9.40304 17.2949 9.80371C17.3317 10.254 17.3311 10.8109 17.3311 11.5V13.5C17.3311 14.1891 17.3317 14.746 17.2949 15.1963C17.2622 15.597 17.197 15.9576 17.0527 16.2939L16.9863 16.4365C16.7208 16.9576 16.3171 17.3942 15.8213 17.6982L15.6035 17.8203C15.2268 18.0122 14.8202 18.0915 14.3623 18.1289C13.9122 18.1656 13.3548 18.165 12.666 18.165H7.33301C6.64407 18.165 6.08689 18.1657 5.63672 18.1289C5.23621 18.0962 4.87526 18.0309 4.53906 17.8867L4.39649 17.8203C3.87557 17.5548 3.43881 17.1509 3.13477 16.6553L3.0127 16.4365C2.82094 16.0599 2.74151 15.654 2.7041 15.1963C2.66732 14.7461 2.66797 14.1891 2.66797 13.5V11.5C2.66797 10.8109 2.66732 10.2539 2.7041 9.80371C2.74151 9.34597 2.82094 8.94005 3.0127 8.56348L3.13477 8.34473C3.43881 7.8491 3.87557 7.44517 4.39649 7.17969L4.53906 7.11328C4.7388 7.02761 4.94775 6.97131 5.16797 6.93164V6.66699C5.16797 3.99865 7.3317 1.83514 10 1.83496ZM7.33301 8.16504C6.62215 8.16504 6.12858 8.16594 5.74512 8.19727C5.46345 8.2203 5.27358 8.25718 5.12988 8.30859L5 8.36523C4.69786 8.51925 4.44482 8.75346 4.26856 9.04102L4.19824 9.16699C4.11777 9.32498 4.06097 9.53651 4.03027 9.91211C3.99894 10.2956 3.99805 10.789 3.99805 11.5V13.5C3.99805 14.211 3.99894 14.7044 4.03027 15.0879C4.06097 15.4635 4.11777 15.675 4.19824 15.833L4.26856 15.959C4.44482 16.2465 4.69786 16.4807 5 16.6348L5.12988 16.6914C5.27358 16.7428 5.46345 16.7797 5.74512 16.8027C6.12858 16.8341 6.62215 16.835 7.33301 16.835H12.666C13.3767 16.835 13.8705 16.834 14.2539 16.8027C14.6293 16.7721 14.8411 16.7151 14.999 16.6348L15.126 16.5645C15.4134 16.3882 15.6478 16.1351 15.8018 15.833L15.8574 15.7031C15.9089 15.5594 15.9467 15.3698 15.9697 15.0879C16.0011 14.7044 16.001 14.211 16.001 13.5V11.5C16.001 10.789 16.0011 10.2956 15.9697 9.91211C15.9467 9.63017 15.9089 9.44064 15.8574 9.29688L15.8018 9.16699C15.6478 8.86494 15.4134 8.61183 15.126 8.43555L14.999 8.36523C14.8411 8.28485 14.6293 8.22793 14.2539 8.19727C13.8705 8.16598 13.3767 8.16504 12.666 8.16504H7.33301ZM10 3.16504C8.06624 3.16522 6.49805 4.73319 6.49805 6.66699V6.83789C6.75223 6.8349 7.02983 6.83496 7.33301 6.83496H12.666C12.969 6.83496 13.2469 6.8349 13.501 6.83789V6.66699C13.501 4.73318 11.9338 3.16522 10 3.16504Z"})),j4=en(()=>Ho(()=>({modals:[],nextKey:1})));function no(e,t,n){j4(e).setState(r=>{const i=r.modals.find(s=>s.ModalComponent===t);return i?{modals:[...r.modals.filter(s=>s.ModalComponent!==t),{key:i.key,ModalComponent:t,props:n}]}:{modals:[...r.modals,{key:r.nextKey,ModalComponent:t,props:n}],nextKey:r.nextKey+1}})}function kte(e,t){j4(e).setState(n=>({modals:n.modals.filter(r=>r.ModalComponent!==t)}))}const Tte=p.memo(function({modal:{ModalComponent:t,props:n}}){const r=me();return g.jsx(t,{...n,onClose:()=>{n?.onClose?.(),kte(r,t)}})});function Ote(){const e=me(),t=j4(e),n=wc(t,r=>r.modals);return g.jsx(g.Fragment,{children:n.map(r=>g.jsx(Tte,{modal:r},r.key))})}var Ov,L8;function qF(){if(L8)return Ov;L8=1;function e(){}return Ov=e,Ov}var Ate=qF();const zF=_n(Ate);function GF(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=GF(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=GF(e))&&(r&&(r+=" "),r+=t);return r}const Ite=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.5 2.9375V5.5625M9.5 13.4375V16.0625M2.9375 9.5H5.5625M13.4375 9.5H16.0625",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"}),p.createElement("path",{d:"M4.86011 4.85961L6.71627 6.71577M12.2847 12.2842L14.1409 14.1404M4.86011 14.1404L6.71627 12.2842M12.2847 6.71577L14.1409 4.85961",stroke:"currentColor",strokeWidth:1.875,strokeLinecap:"round"}));function $f({className:e}){return g.jsx(Ite,{className:xe("motion-safe:animate-spin",e)})}function NDe({className:e}){return g.jsx("div",{className:"flex h-full w-full items-center justify-center",children:g.jsx($f,{className:e})})}function Vt({children:e,onClick:t,className:n,contentWrapperClassName:r,color:i="primary",label:s,disabled:o=!1,visuallyDisabled:a=!1,loading:l=!1,size:c="medium",fullWidth:u=!1,contentsFullWidth:d=!1,icon:f,style:h,...m}){const v=a||o||l,_=l||o,y=xe(v&&"opacity-50",_&&"cursor-not-allowed","btn relative",i==="primary"&&"btn-primary",i==="primary-inverse"&&"btn-primary-inverse",i==="green"&&"btn-green",i==="purple"&&"btn-purple",i==="secondary"&&"btn-secondary",i==="danger"&&"btn-danger",i==="danger-outline"&&"btn-danger-outline",i==="blue"&&"btn-blue",i==="ghost"&&"btn-ghost",c==="small"&&"btn-small",c==="large"&&"btn-large",u&&"w-full",n),b=f?g.jsxs("div",{className:xe("flex w-full","items-center justify-center",r,{"gap-1.5":c==="medium"||c==="large","gap-1":c==="small"}),children:[l?g.jsx($f,{className:xe(e?"-ms-0.5":"-mx-1",c==="small"&&"icon-sm",(c==="medium"||c==="large")&&"icon")}):g.jsx(f,{"aria-label":"",className:xe(e?"-ms-0.5":"-mx-1",c==="small"&&"icon-sm",(c==="medium"||c==="large")&&"icon")}),e]}):g.jsxs("div",{className:xe("flex items-center justify-center",r,d&&"w-full"),children:[e,l&&g.jsx($f,{className:xe(c==="small"&&"icon-sm ms-1",(c==="medium"||c==="large")&&"icon ms-1.5")})]});switch(m.as){case"link":case"a":{const{openNewTab:C,...S}=m;return g.jsx(vh,{...S,"aria-label":s,to:m.to??"/",target:C===!0?"_blank":"_self",onClick:t,className:y,style:h,children:b})}default:return g.jsx("button",{className:y,ref:m.ref,"aria-label":s,onClick:t,disabled:_,...m,style:h,children:b})}}Vt.displayName="Button";function HF(){return Ng()?window:null}function et(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function Mte(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Pg(...e){return t=>e.forEach(n=>Mte(n,t))}function In(...e){return p.useCallback(Pg(...e),e)}function Rte(e,t){const n=p.createContext(t),r=s=>{const{children:o,...a}=s,l=p.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(s){const o=p.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Sd(e,t=[]){let n=[];function r(s,o){const a=p.createContext(o),l=n.length;n=[...n,o];const c=d=>{const{scope:f,children:h,...m}=d,v=f?.[e]?.[l]||a,_=p.useMemo(()=>m,Object.values(m));return g.jsx(v.Provider,{value:_,children:h})};c.displayName=s+"Provider";function u(d,f){const h=f?.[e]?.[l]||a,m=p.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>p.createContext(o));return function(a){const l=a?.[e]||s;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,Nte(i,...t)]}function Nte(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var ac=globalThis?.document?p.useLayoutEffect:()=>{},Pte=FY.useId||(()=>{}),Dte=0;function Ks(e){const[t,n]=p.useState(Pte());return ac(()=>{n(r=>r??String(Dte++))},[e]),e||(t?`radix-${t}`:"")}function Bi(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>t.current?.(...n),[])}function xc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Lte({defaultProp:t,onChange:n}),s=e!==void 0,o=s?e:r,a=Bi(n),l=p.useCallback(c=>{if(s){const d=typeof c=="function"?c(e):c;d!==e&&a(d)}else i(c)},[s,e,i,a]);return[o,l]}function Lte({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,i=p.useRef(r),s=Bi(t);return p.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var td=p.forwardRef((e,t)=>{const{children:n,...r}=e,i=p.Children.toArray(n),s=i.find(Fte);if(s){const o=s.props.children,a=i.map(l=>l===s?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return g.jsx(m6,{...r,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return g.jsx(m6,{...r,ref:t,children:n})});td.displayName="Slot";var m6=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const i=Bte(n);return p.cloneElement(n,{...jte(r,n.props),ref:t?Pg(t,i):i})}return p.Children.count(n)>1?p.Children.only(null):null});m6.displayName="SlotClone";var VF=({children:e})=>g.jsx(g.Fragment,{children:e});function Fte(e){return p.isValidElement(e)&&e.type===VF}function jte(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Bte(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ute=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Yt=Ute.reduce((e,t)=>{const n=p.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?td:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function $F(e,t){e&&n4.flushSync(()=>e.dispatchEvent(t))}function qte(e,t=globalThis?.document){const n=Bi(e);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var zte="DismissableLayer",g6="dismissableLayer.update",Gte="dismissableLayer.pointerDownOutside",Hte="dismissableLayer.focusOutside",F8,WF=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ph=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,c=p.useContext(WF),[u,d]=p.useState(null),f=u?.ownerDocument??globalThis?.document,[,h]=p.useState({}),m=In(t,E=>d(E)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(_),b=u?v.indexOf(u):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,x=$te(E=>{const T=E.target,O=[...c.branches].some(k=>k.contains(T));!S||O||(i?.(E),o?.(E),E.defaultPrevented||a?.())},f),w=Wte(E=>{const T=E.target;[...c.branches].some(k=>k.contains(T))||(s?.(E),o?.(E),E.defaultPrevented||a?.())},f);return qte(E=>{b===c.layers.size-1&&(r?.(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),p.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(F8=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),j8(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=F8)}},[u,f,n,c]),p.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),j8())},[u,c]),p.useEffect(()=>{const E=()=>h({});return document.addEventListener(g6,E),()=>document.removeEventListener(g6,E)},[]),g.jsx(Yt.div,{...l,ref:m,style:{pointerEvents:C?S?"auto":"none":void 0,...e.style},onFocusCapture:et(e.onFocusCapture,w.onFocusCapture),onBlurCapture:et(e.onBlurCapture,w.onBlurCapture),onPointerDownCapture:et(e.onPointerDownCapture,x.onPointerDownCapture)})});Ph.displayName=zte;var Vte="DismissableLayerBranch",KF=p.forwardRef((e,t)=>{const n=p.useContext(WF),r=p.useRef(null),i=In(t,r);return p.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Yt.div,{...e,ref:i})});KF.displayName=Vte;function $te(e,t=globalThis?.document){const n=Bi(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){YF(Gte,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Wte(e,t=globalThis?.document){const n=Bi(e),r=p.useRef(!1);return p.useEffect(()=>{const i=s=>{s.target&&!r.current&&YF(Hte,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function j8(){const e=new CustomEvent(g6);document.dispatchEvent(e)}function YF(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?$F(i,s):i.dispatchEvent(s)}var PDe=Ph,DDe=KF,Av="focusScope.autoFocusOnMount",Iv="focusScope.autoFocusOnUnmount",B8={bubbles:!1,cancelable:!0},Kte="FocusScope",B4=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[a,l]=p.useState(null),c=Bi(i),u=Bi(s),d=p.useRef(null),f=In(t,v=>l(v)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(C){if(h.paused||!a)return;const S=C.target;a.contains(S)?d.current=S:ma(d.current,{select:!0})},_=function(C){if(h.paused||!a)return;const S=C.relatedTarget;S!==null&&(a.contains(S)||ma(d.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const x of C)x.removedNodes.length>0&&ma(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const b=new MutationObserver(y);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),b.disconnect()}}},[r,a,h.paused]),p.useEffect(()=>{if(a){q8.add(h);const v=document.activeElement;if(!a.contains(v)){const y=new CustomEvent(Av,B8);a.addEventListener(Av,c),a.dispatchEvent(y),y.defaultPrevented||(Yte(ene(ZF(a)),{select:!0}),document.activeElement===v&&ma(a))}return()=>{a.removeEventListener(Av,c),setTimeout(()=>{const y=new CustomEvent(Iv,B8);a.addEventListener(Iv,u),a.dispatchEvent(y),y.defaultPrevented||ma(v??document.body,{select:!0}),a.removeEventListener(Iv,u),q8.remove(h)},0)}}},[a,c,u,h]);const m=p.useCallback(v=>{if(!n&&!r||h.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(_&&y){const b=v.currentTarget,[C,S]=Zte(b);C&&S?!v.shiftKey&&y===S?(v.preventDefault(),n&&ma(C,{select:!0})):v.shiftKey&&y===C&&(v.preventDefault(),n&&ma(S,{select:!0})):y===b&&v.preventDefault()}},[n,r,h.paused]);return g.jsx(Yt.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});B4.displayName=Kte;function Yte(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ma(r,{select:t}),document.activeElement!==n)return}function Zte(e){const t=ZF(e),n=U8(t,e),r=U8(t.reverse(),e);return[n,r]}function ZF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function U8(e,t){for(const n of e)if(!Jte(n,{upTo:t}))return n}function Jte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qte(e){return e instanceof HTMLInputElement&&"select"in e}function ma(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Qte(e)&&t&&e.select()}}var q8=Xte();function Xte(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=z8(e,t),e.unshift(t)},remove(t){e=z8(e,t),e[0]?.resume()}}}function z8(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ene(e){return e.filter(t=>t.tagName!=="A")}var tne="Portal",Dh=p.forwardRef((e,t)=>{const{container:n,...r}=e,[i,s]=p.useState(!1);ac(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?Dl.createPortal(g.jsx(Yt.div,{...r,ref:t}),o):null});Dh.displayName=tne;var LDe=Dh;function nne(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var ws=e=>{const{present:t,children:n}=e,r=rne(t),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=In(r.ref,ine(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:s}):null};ws.displayName="Presence";function rne(e){const[t,n]=p.useState(),r=p.useRef({}),i=p.useRef(e),s=p.useRef("none"),o=e?"mounted":"unmounted",[a,l]=nne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=zp(r.current);s.current=a==="mounted"?c:"none"},[a]),ac(()=>{const c=r.current,u=i.current;if(u!==e){const f=s.current,h=zp(c);e?l("MOUNT"):h==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),ac(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,d=h=>{const v=zp(r.current).includes(h.animationName);if(h.target===t&&v&&(l("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},f=h=>{h.target===t&&(s.current=zp(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function zp(e){return e?.animationName||"none"}function ine(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Mv=0;function JF(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??G8()),document.body.insertAdjacentElement("beforeend",e[1]??G8()),Mv++,()=>{Mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Mv--}},[])}function G8(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Im="right-scroll-bar-position",Mm="width-before-scroll-bar",sne="with-scroll-bars-hidden",one="--removed-body-scroll-bar-size";function Rv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ane(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var H8=new WeakMap;function lne(e,t){var n=ane(null,function(r){return e.forEach(function(i){return Rv(i,r)})});return p.useLayoutEffect(function(){var r=H8.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(a){s.has(a)||Rv(a,null)}),s.forEach(function(a){i.has(a)||Rv(a,o)})}H8.set(n,e)},[e]),n}function cne(e){return e}function une(e,t){t===void 0&&(t=cne);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function dne(e){e===void 0&&(e={});var t=une(null);return t.options=ba({async:!0,ssr:!1},e),t}var QF=function(e){var t=e.sideCar,n=GD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,ba({},n))};QF.isSideCarExport=!0;function fne(e,t){return e.useMedium(t),QF}var XF=dne(),Nv=function(){},Dg=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Nv,onWheelCapture:Nv,onTouchMoveCapture:Nv}),i=r[0],s=r[1],o=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,h=e.noIsolation,m=e.inert,v=e.allowPinchZoom,_=e.as,y=_===void 0?"div":_,b=e.gapMode,C=GD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,x=lne([n,t]),w=ba(ba({},C),i);return p.createElement(p.Fragment,null,u&&p.createElement(S,{sideCar:XF,removeScrollBar:c,shards:d,noIsolation:h,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:b}),o?p.cloneElement(p.Children.only(a),ba(ba({},w),{ref:x})):p.createElement(y,ba({},w,{className:l,ref:x}),a))});Dg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dg.classNames={fullWidth:Mm,zeroRight:Im};var hne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hne();return t&&e.setAttribute("nonce",t),e}function mne(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vne=function(){var e=0,t=null;return{add:function(n){e==0&&(t=pne())&&(mne(t,n),gne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_ne=function(){var e=vne();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ej=function(){var e=_ne(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},yne={left:0,top:0,right:0,gap:0},Pv=function(e){return parseInt(e||"",10)||0},bne=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Pv(n),Pv(r),Pv(i)]},Cne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yne;var t=bne(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Sne=ej(),ju="data-scroll-locked",wne=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(sne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ju,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Im,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Mm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Im," .").concat(Im,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Mm," .").concat(Mm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ju,`] {
    `).concat(one,": ").concat(a,`px;
  }
`)},V8=function(){var e=parseInt(document.body.getAttribute(ju)||"0",10);return isFinite(e)?e:0},Ene=function(){p.useEffect(function(){return document.body.setAttribute(ju,(V8()+1).toString()),function(){var e=V8()-1;e<=0?document.body.removeAttribute(ju):document.body.setAttribute(ju,e.toString())}},[])},xne=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Ene();var s=p.useMemo(function(){return Cne(i)},[i]);return p.createElement(Sne,{styles:wne(s,!t,i,n?"":"!important")})},v6=!1;if(typeof window<"u")try{var Gp=Object.defineProperty({},"passive",{get:function(){return v6=!0,!0}});window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{v6=!1}var Xc=v6?{passive:!1}:!1,kne=function(e){return e.tagName==="TEXTAREA"},tj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!kne(e)&&n[t]==="visible")},Tne=function(e){return tj(e,"overflowY")},One=function(e){return tj(e,"overflowX")},$8=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=nj(e,r);if(i){var s=rj(e,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ane=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Ine=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},nj=function(e,t){return e==="v"?Tne(t):One(t)},rj=function(e,t){return e==="v"?Ane(t):Ine(t)},Mne=function(e,t){return e==="h"&&t==="rtl"?-1:1},Rne=function(e,t,n,r,i){var s=Mne(e,window.getComputedStyle(t).direction),o=s*r,a=n.target,l=t.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=rj(e,a),m=h[0],v=h[1],_=h[2],y=v-_-s*m;(m||y)&&nj(e,a)&&(d+=y,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Hp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},W8=function(e){return[e.deltaX,e.deltaY]},K8=function(e){return e&&"current"in e?e.current:e},Nne=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Pne=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Dne=0,eu=[];function Lne(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(Dne++)[0],s=p.useState(ej)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=jY([e.lockRef.current],(e.shards||[]).map(K8),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=Hp(v),b=n.current,C="deltaX"in v?v.deltaX:b[0]-y[0],S="deltaY"in v?v.deltaY:b[1]-y[1],x,w=v.target,E=Math.abs(C)>Math.abs(S)?"h":"v";if("touches"in v&&E==="h"&&w.type==="range")return!1;var T=$8(E,w);if(!T)return!0;if(T?x=E:(x=E==="v"?"h":"v",T=$8(E,w)),!T)return!1;if(!r.current&&"changedTouches"in v&&(C||S)&&(r.current=x),!x)return!0;var O=r.current||x;return Rne(O,_,v,O==="h"?C:S)},[]),l=p.useCallback(function(v){var _=v;if(!(!eu.length||eu[eu.length-1]!==s)){var y="deltaY"in _?W8(_):Hp(_),b=t.current.filter(function(x){return x.name===_.type&&(x.target===_.target||_.target===x.shadowParent)&&Nne(x.delta,y)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var C=(o.current.shards||[]).map(K8).filter(Boolean).filter(function(x){return x.contains(_.target)}),S=C.length>0?a(_,C[0]):!o.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),c=p.useCallback(function(v,_,y,b){var C={name:v,delta:_,target:y,should:b,shadowParent:Fne(y)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(S){return S!==C})},1)},[]),u=p.useCallback(function(v){n.current=Hp(v),r.current=void 0},[]),d=p.useCallback(function(v){c(v.type,W8(v),v.target,a(v,e.lockRef.current))},[]),f=p.useCallback(function(v){c(v.type,Hp(v),v.target,a(v,e.lockRef.current))},[]);p.useEffect(function(){return eu.push(s),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Xc),document.addEventListener("touchmove",l,Xc),document.addEventListener("touchstart",u,Xc),function(){eu=eu.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Xc),document.removeEventListener("touchmove",l,Xc),document.removeEventListener("touchstart",u,Xc)}},[]);var h=e.removeScrollBar,m=e.inert;return p.createElement(p.Fragment,null,m?p.createElement(s,{styles:Pne(i)}):null,h?p.createElement(xne,{gapMode:e.gapMode}):null)}function Fne(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jne=fne(XF,Lne);var U4=p.forwardRef(function(e,t){return p.createElement(Dg,ba({},e,{ref:t,sideCar:jne}))});U4.classNames=Dg.classNames;var Bne=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tu=new WeakMap,Vp=new WeakMap,$p={},Dv=0,ij=function(e){return e&&(e.host||ij(e.parentNode))},Une=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ij(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qne=function(e,t,n,r){var i=Une(t,Array.isArray(e)?e:[e]);$p[n]||($p[n]=new WeakMap);var s=$p[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var h=f.getAttribute(r),m=h!==null&&h!=="false",v=(tu.get(f)||0)+1,_=(s.get(f)||0)+1;tu.set(f,v),s.set(f,_),o.push(f),v===1&&m&&Vp.set(f,!0),_===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}})};return u(t),a.clear(),Dv++,function(){o.forEach(function(d){var f=tu.get(d)-1,h=s.get(d)-1;tu.set(d,f),s.set(d,h),f||(Vp.has(d)||d.removeAttribute(r),Vp.delete(d)),h||d.removeAttribute(n)}),Dv--,Dv||(tu=new WeakMap,tu=new WeakMap,Vp=new WeakMap,$p={})}},zne=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Bne(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),qne(r,i,n,"aria-hidden")):function(){return null}},q4="Dialog",[sj,Gne]=Sd(q4),[Hne,Es]=sj(q4),z4=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,a=p.useRef(null),l=p.useRef(null),[c=!1,u]=xc({prop:r,defaultProp:i,onChange:s});return g.jsx(Hne,{scope:t,triggerRef:a,contentRef:l,contentId:Ks(),titleId:Ks(),descriptionId:Ks(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};z4.displayName=q4;var oj="DialogTrigger",G4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Es(oj,n),s=In(t,i.triggerRef);return g.jsx(Yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Q4(i.open),...r,ref:s,onClick:et(e.onClick,i.onOpenToggle)})});G4.displayName=oj;var H4="DialogPortal",[Vne,aj]=sj(H4,{forceMount:void 0}),V4=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Es(H4,t);return g.jsx(Vne,{scope:t,forceMount:n,children:p.Children.map(r,o=>g.jsx(ws,{present:n||s.open,children:g.jsx(Dh,{asChild:!0,container:i,children:o})}))})};V4.displayName=H4;var y1="DialogOverlay",$4=p.forwardRef((e,t)=>{const n=aj(y1,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Es(y1,e.__scopeDialog);return s.modal?g.jsx(ws,{present:r||s.open,children:g.jsx($ne,{...i,ref:t})}):null});$4.displayName=y1;var $ne=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Es(y1,n);return g.jsx(U4,{as:td,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Yt.div,{"data-state":Q4(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),lc="DialogContent",W4=p.forwardRef((e,t)=>{const n=aj(lc,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Es(lc,e.__scopeDialog);return g.jsx(ws,{present:r||s.open,children:s.modal?g.jsx(Wne,{...i,ref:t}):g.jsx(Kne,{...i,ref:t})})});W4.displayName=lc;var Wne=p.forwardRef((e,t)=>{const n=Es(lc,e.__scopeDialog),r=p.useRef(null),i=In(t,n.contentRef,r);return p.useEffect(()=>{const s=r.current;if(s)return zne(s)},[]),g.jsx(lj,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:et(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault())})}),Kne=p.forwardRef((e,t)=>{const n=Es(lc,e.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return g.jsx(lj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),lj=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,a=Es(lc,n),l=p.useRef(null),c=In(t,l);return JF(),g.jsxs(g.Fragment,{children:[g.jsx(B4,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Ph,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Q4(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(Zne,{titleId:a.titleId}),g.jsx(Qne,{contentRef:l,descriptionId:a.descriptionId})]})]})}),K4="DialogTitle",Y4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Es(K4,n);return g.jsx(Yt.h2,{id:i.titleId,...r,ref:t})});Y4.displayName=K4;var cj="DialogDescription",Z4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Es(cj,n);return g.jsx(Yt.p,{id:i.descriptionId,...r,ref:t})});Z4.displayName=cj;var uj="DialogClose",J4=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Es(uj,n);return g.jsx(Yt.button,{type:"button",...r,ref:t,onClick:et(e.onClick,()=>i.onOpenChange(!1))})});J4.displayName=uj;function Q4(e){return e?"open":"closed"}var dj="DialogTitleWarning",[Yne,fj]=Rte(dj,{contentName:lc,titleName:K4,docsSlug:"dialog"}),Zne=({titleId:e})=>{const t=fj(dj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Jne="DialogDescriptionWarning",Qne=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fj(Jne).contentName}}.`;return p.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},hj=z4,Xne=G4,pj=V4,mj=$4,gj=W4,vj=Y4,_j=Z4,yj=J4;const FDe=Object.freeze(Object.defineProperty({__proto__:null,Close:yj,Content:gj,Description:_j,Dialog:z4,DialogClose:J4,DialogContent:W4,DialogDescription:Z4,DialogOverlay:$4,DialogPortal:V4,DialogTitle:Y4,DialogTrigger:G4,Overlay:mj,Portal:pj,Root:hj,Title:vj,Trigger:Xne,WarningProvider:Yne,createDialogScope:Gne},Symbol.toStringTag,{value:"Module"}));var ere="VisuallyHidden",X4=p.forwardRef((e,t)=>g.jsx(Yt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));X4.displayName=ere;var tre=X4;function kf(e){"use forget";const t=Te.c(9);let n,r,i,s;t[0]!==e?({color:i,title:s,children:r,...n}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=i===void 0?"secondary":i,a=s??r;let l;return t[5]!==n||t[6]!==o||t[7]!==a?(l=g.jsx(Vt,{as:"button",color:o,...n,children:a}),t[5]=n,t[6]=o,t[7]=a,t[8]=l):l=t[8],l}function nre(e){"use forget";const t=Te.c(16),{isOpen:n,onClose:r,children:i,shouldIgnoreClickOutside:s,className:o,testId:a}=e,l=s===void 0?!1:s;let c;t[0]!==r||t[1]!==l?(c=v=>{l||v===!1&&r(!1)},t[0]=r,t[1]=l,t[2]=c):c=t[2];const u=HF()?.document.body;let d;t[3]!==o?(d=xe("absolute inset-0",o),t[3]=o,t[4]=d):d=t[4];let f;t[5]!==i||t[6]!==d||t[7]!==a?(f=g.jsx("div",{className:d,"data-testid":a,"data-ignore-for-page-load":!0,children:i}),t[5]=i,t[6]=d,t[7]=a,t[8]=f):f=t[8];let h;t[9]!==u||t[10]!==f?(h=g.jsx(pj,{container:u,children:f}),t[9]=u,t[10]=f,t[11]=h):h=t[11];let m;return t[12]!==n||t[13]!==c||t[14]!==h?(m=g.jsx(hj,{open:n,onOpenChange:c,children:h}),t[12]=n,t[13]=c,t[14]=h,t[15]=m):m=t[15],m}function rre(e){"use forget";const t=Te.c(6),{className:n,children:r,showBackground:i}=e,o=(i===void 0?!0:i)&&"before:starting:backdrop-blur-0 before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 dark:before:bg-black/50 before:starting:opacity-0";let a;t[0]!==n||t[1]!==o?(a=xe("fixed inset-0 z-50",o,n),t[0]=n,t[1]=o,t[2]=a):a=t[2];let l;return t[3]!==r||t[4]!==a?(l=g.jsx(mj,{className:a,children:r}),t[3]=r,t[4]=a,t[5]=l):l=t[5],l}function ire(e){"use forget";const t=Te.c(18),{className:n,children:r,position:i,size:s,removePopoverStyling:o,shadow:a,onEscapeKeyDown:l,removeBackground:c}=e,u=i===void 0?"center":i,d=o===void 0?!1:o,f=a===void 0?"normal":a,h=c===void 0?!1:c,m=s!=="fullscreen"&&"grid grid-cols-[10px_1fr_10px]",v=s!=="fullscreen"&&u==="center"&&"grid-rows-[minmax(10px,1fr)_auto_minmax(10px,1fr)] md:grid-rows-[minmax(20px,0.8fr)_auto_minmax(20px,1fr)]",_=s!=="fullscreen"&&u==="bottom"&&"grid-rows-[minmax(10px,1fr)_auto_10px] md:grid-rows-[minmax(20px,1fr)_auto_20px]",y=s!=="fullscreen"&&u==="top"&&"grid-rows-[10px_auto_minmax(10px,1fr)] md:grid-rows-[20px_auto_minmax(20px,1fr)]";let b;t[0]!==m||t[1]!==v||t[2]!==_||t[3]!==y?(b=xe("z-50 h-full w-full overflow-y-auto",m,v,_,y),t[0]=m,t[1]=v,t[2]=_,t[3]=y,t[4]=b):b=t[4];const C=!d&&"popover",S=!h&&"bg-token-main-surface-primary",x=s!=="fullscreen"&&"rounded-2xl",w=f==="normal"&&"shadow-long";let E;t[5]!==n||t[6]!==C||t[7]!==S||t[8]!==x||t[9]!==w?(E=xe(C,S,"relative start-1/2 col-auto col-start-2 row-auto row-start-2 h-full w-full text-start ltr:-translate-x-1/2 rtl:translate-x-1/2",x,w,n),t[5]=n,t[6]=C,t[7]=S,t[8]=x,t[9]=w,t[10]=E):E=t[10];let T;t[11]!==r||t[12]!==l||t[13]!==E?(T=g.jsx(gj,{onEscapeKeyDown:l,className:E,children:r}),t[11]=r,t[12]=l,t[13]=E,t[14]=T):T=t[14];let O;return t[15]!==T||t[16]!==b?(O=g.jsx("div",{className:b,children:T}),t[15]=T,t[16]=b,t[17]=O):O=t[17],O}function sre(e){"use forget";const t=Te.c(16),{title:n,description:r,icon:i}=e;let s;t[0]!==n?(s=n&&g.jsx(vj,{className:"text-token-text-primary text-lg font-normal",children:n}),t[0]=n,t[1]=s):s=t[1];let o;t[2]!==r?(o=r&&g.jsx(_j,{asChild:!0,children:g.jsx("div",{className:"text-token-text-tertiary ms-0.5 mt-0.5 text-xs",children:r})}),t[2]=r,t[3]=o):o=t[3];let a;t[4]!==s||t[5]!==o?(a=g.jsxs("div",{className:"flex max-w-full min-w-0 grow flex-col",children:[s,o]}),t[4]=s,t[5]=o,t[6]=a):a=t[6];const l=a;if(!i)return l;const c=!r&&"items-center";let u;t[7]!==c?(u=xe("flex max-w-full min-w-0 gap-1.5",c),t[7]=c,t[8]=u):u=t[8];let d;t[9]!==i||t[10]!==r?(d=typeof i!="function"?i:g.jsx(i,{className:xe("icon",r&&"mt-1"),"aria-label":""}),t[9]=i,t[10]=r,t[11]=d):d=t[11];let f;return t[12]!==l||t[13]!==u||t[14]!==d?(f=g.jsxs("div",{className:u,children:[d,l]}),t[12]=l,t[13]=u,t[14]=d,t[15]=f):f=t[15],f}function ore(e){"use forget";const t=Te.c(23),{title:n,accessory:r,description:i,hasSeparator:s,icon:o,closeButton:a,textCenter:l,visuallyHiddenHeader:c,className:u,closeButtonSide:d}=e,f=s===void 0?!1:s,h=c===void 0?!1:c,m=d===void 0?"right":d;if(!n)return null;let v;t[0]!==a?(v=a&&g.jsx(yj,{asChild:!0,children:a}),t[0]=a,t[1]=v):v=t[1];const _=v,y=l&&"flex-1 justify-center text-center";let b;t[2]!==y?(b=xe("flex max-w-full items-center",y),t[2]=y,t[3]=b):b=t[3];const C=m==="left"&&_;let S;t[4]!==i||t[5]!==o||t[6]!==n?(S=g.jsx(sre,{title:n,description:i,icon:o}),t[4]=i,t[5]=o,t[6]=n,t[7]=S):S=t[7];let x;t[8]!==b||t[9]!==C||t[10]!==S?(x=g.jsxs("div",{className:b,children:[C,S]}),t[8]=b,t[9]=C,t[10]=S,t[11]=x):x=t[11];const w=m==="right"&&_;let E;t[12]!==r||t[13]!==w?(E=g.jsxs("div",{className:"flex h-[max-content] items-center gap-2",children:[r,w]}),t[12]=r,t[13]=w,t[14]=E):E=t[14];let T;t[15]!==u||t[16]!==f||t[17]!==E||t[18]!==x?(T=g.jsxs(lre,{hasSeparator:f,className:u,children:[x,E]}),t[15]=u,t[16]=f,t[17]=E,t[18]=x,t[19]=T):T=t[19];const O=T;let k;return t[20]!==O||t[21]!==h?(k=h?g.jsx(X4,{children:O}):O,t[20]=O,t[21]=h,t[22]=k):k=t[22],k}function are(e){"use forget";const t=Te.c(9),{primaryButton:n,secondaryButton:r,isSpacedBetween:i,modalHasContent:s,textCenter:o,className:a}=e,l=i===void 0?!1:i,c=s===void 0?!0:s,u=o===void 0?!1:o,d=a===void 0?"":a;if(n==null&&r==null)return null;const f=u&&"justify-center",h=l&&"justify-between",m=c&&"mt-5 sm:mt-4";let v;t[0]!==d||t[1]!==f||t[2]!==h||t[3]!==m?(v=xe("flex flex-col gap-3 sm:flex-row-reverse",f,h,m,d),t[0]=d,t[1]=f,t[2]=h,t[3]=m,t[4]=v):v=t[4];let _;return t[5]!==n||t[6]!==r||t[7]!==v?(_=g.jsxs("div",{className:v,children:[n,r]}),t[5]=n,t[6]=r,t[7]=v,t[8]=_):_=t[8],_}const lre=({hasSeparator:e,className:t,children:n})=>g.jsx("header",{className:xe("min-h-header-height flex justify-between py-2.5 ps-4 pe-2 select-none",e&&"border-token-border-light border-b",t),children:n}),cs={Root:nre,Overlay:rre,Content:ire,Header:ore,Actions:are,Button:kf},bj=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M14.2548 4.75488C14.5282 4.48152 14.9717 4.48152 15.2451 4.75488C15.5184 5.02825 15.5184 5.47175 15.2451 5.74512L10.9902 10L15.2451 14.2549L15.3349 14.3652C15.514 14.6369 15.4841 15.006 15.2451 15.2451C15.006 15.4842 14.6368 15.5141 14.3652 15.335L14.2548 15.2451L9.99995 10.9902L5.74506 15.2451C5.4717 15.5185 5.0282 15.5185 4.75483 15.2451C4.48146 14.9718 4.48146 14.5282 4.75483 14.2549L9.00971 10L4.75483 5.74512L4.66499 5.63477C4.48589 5.3631 4.51575 4.99396 4.75483 4.75488C4.99391 4.51581 5.36305 4.48594 5.63471 4.66504L5.74506 4.75488L9.99995 9.00977L14.2548 4.75488Z"})),Lh=({onClick:e,bg:t="transparent",className:n,iconSize:r="md",ref:i,...s})=>{const o=it();return g.jsx("button",{"data-testid":"close-button",ref:i,onClick:e,className:xe("hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-tertiary keyboard-focused:focus-ring flex h-8 w-8 items-center justify-center rounded-full",t==="transparent"?"bg-transparent":"bg-token-main-surface-primary",n),"aria-label":o.formatMessage({id:"Px7S/2",defaultMessage:"Close"}),...s,children:g.jsx(bj,{className:r==="lg"?"icon-lg":"icon"})})};Lh.displayName="CloseButton";const cre="modulepreload",ure=function(e){return"{{.assetPrefix}}/"+e},Y8={},be=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=o(n.map(c=>{if(c=ure(c),c in Y8)return;Y8[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":cre,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function dre(){return null}function Fh(e,t){const n=async()=>{try{const l=await e();return"default"in l?l:{default:l}}catch(l){return G.addAction("Failed importing dynamic component",{error:l}),{default:t?.fallback??dre}}},r=p.lazy(n),i=t?.loading;function s(l){const[c]=p.useState(()=>a);return Ng()?c?g.jsx(c,{...l}):g.jsx(p.Suspense,{fallback:i==null?null:g.jsx(i,{...l}),children:g.jsx(r,{...l})}):i!=null?g.jsx(i,{...l}):null}let o,a;return s.prefetch=()=>(o||(o=n().then(l=>{a=l.default})),o),s}const fre=Fh(()=>be(()=>import("./ymx2blv9ectjv8jn.js"),__vite__mapDeps([0,1])).then(e=>e.ContentModalSheet),{fallback:()=>null});function xs(e){"use forget";const t=Te.c(65),{children:n,rootClassName:r,textCenter:i,className:s,description:o,icon:a,isBottomSheet:l,isOpen:c,onClose:u,onCloseComplete:d,primaryButton:f,secondaryButton:h,footerContent:m,size:v,title:_,headerAccessory:y,type:b,noPadding:C,hasSeparator:S,hideSeparator:x,showCloseButton:w,shouldIgnoreClickOutside:E,closeButton:T,isScrollable:O,allowVerticalContentToOverflow:k,position:A,removePopoverStyling:I,showOverlayBackground:P,shadow:D,visuallyHiddenHeader:R,headerClassName:F,contentClassName:j,footerClassName:V,modalActionsClassName:B,footerIsSpacedBetween:M,onEscapeKeyDown:re,testId:ge,contentRef:N}=e,we=c===void 0?!1:c,ye=v===void 0?"normal":v,X=C===void 0?!1:C,de=S===void 0?!1:S,ee=x===void 0?!0:x,ke=w===void 0?!1:w,se=E===void 0?!1:E,fe=O===void 0?!0:O,he=k===void 0?!1:k,Oe=A===void 0?"center":A,Ze=I===void 0?!1:I,le=P===void 0?!0:P,Q=D===void 0?"normal":D,ie=R===void 0?!1:R,Me=!!_&&!ie,Z=!!n,$=de||!ee;if(l){let hr;return t[0]!==e?(hr=g.jsx(fre,{...e}),t[0]=e,t[1]=hr):hr=t[1],hr}let U;t[2]!==d||t[3]!==u?(U=()=>{u(!0),d?.()},t[2]=d,t[3]=u,t[4]=U):U=t[4];const pe=i&&"text-center",Ae=ye==="normal",te=ye==="large",L=ye==="xlarge",H=ye==="fullscreen",W=!he;let ae;t[5]!==s||t[6]!==pe||t[7]!==Ae||t[8]!==te||t[9]!==L||t[10]!==H||t[11]!==W?(ae=xe("flex flex-col focus:outline-hidden",pe,{"max-w-md":Ae,"max-w-lg":te,"max-w-xl":L,"h-full w-full":H,"overflow-hidden":W},s),t[5]=s,t[6]=pe,t[7]=Ae,t[8]=te,t[9]=L,t[10]=H,t[11]=W,t[12]=ae):ae=t[12];let Re;t[13]!==T||t[14]!==u||t[15]!==ke?(Re=ke&&(T??g.jsx(Lh,{onClick:()=>u(!0)})),t[13]=T,t[14]=u,t[15]=ke,t[16]=Re):Re=t[16];let st;t[17]!==o||t[18]!==y||t[19]!==F||t[20]!==a||t[21]!==$||t[22]!==Re||t[23]!==i||t[24]!==_||t[25]!==b||t[26]!==ie?(st=g.jsx(cs.Header,{icon:a,title:_,accessory:y,type:b,textCenter:i,closeButton:Re,description:o,hasSeparator:$,visuallyHiddenHeader:ie,className:F}),t[17]=o,t[18]=y,t[19]=F,t[20]=a,t[21]=$,t[22]=Re,t[23]=i,t[24]=_,t[25]=b,t[26]=ie,t[27]=st):st=t[27];const pt=he?"overflow-y-visible":fe?"overflow-y-auto":"overflow-y-hidden",lt=ye!=="fullscreen"&&!X,nt=!$&&Me&&!X;let St;t[28]!==j||t[29]!==pt||t[30]!==lt||t[31]!==nt?(St=xe("grow",pt,{"p-4":lt,"pt-1":nt},j),t[28]=j,t[29]=pt,t[30]=lt,t[31]=nt,t[32]=St):St=t[32];let wt;t[33]!==V||t[34]!==m||t[35]!==M||t[36]!==Z||t[37]!==B||t[38]!==f||t[39]!==h?(wt=g.jsx(hre,{primaryButton:f,secondaryButton:h,footerContent:m,modalHasContent:Z,className:V,isSpacedBetween:M,modalActionsClassName:B}),t[33]=V,t[34]=m,t[35]=M,t[36]=Z,t[37]=B,t[38]=f,t[39]=h,t[40]=wt):wt=t[40];let At;t[41]!==n||t[42]!==N||t[43]!==St||t[44]!==wt?(At=g.jsxs("div",{className:St,ref:N,children:[n,wt]}),t[41]=n,t[42]=N,t[43]=St,t[44]=wt,t[45]=At):At=t[45];let mt;t[46]!==re||t[47]!==Oe||t[48]!==Ze||t[49]!==Q||t[50]!==ye||t[51]!==ae||t[52]!==st||t[53]!==At?(mt=g.jsxs(cs.Content,{size:ye,position:Oe,className:ae,removePopoverStyling:Ze,shadow:Q,onEscapeKeyDown:re,children:[st,At]}),t[46]=re,t[47]=Oe,t[48]=Ze,t[49]=Q,t[50]=ye,t[51]=ae,t[52]=st,t[53]=At,t[54]=mt):mt=t[54];let yn;t[55]!==le||t[56]!==mt?(yn=g.jsx(cs.Overlay,{showBackground:le,children:mt}),t[55]=le,t[56]=mt,t[57]=yn):yn=t[57];let fr;return t[58]!==we||t[59]!==r||t[60]!==se||t[61]!==U||t[62]!==yn||t[63]!==ge?(fr=g.jsx(cs.Root,{isOpen:we,onClose:U,shouldIgnoreClickOutside:se,className:r,testId:ge,children:yn}),t[58]=we,t[59]=r,t[60]=se,t[61]=U,t[62]=yn,t[63]=ge,t[64]=fr):fr=t[64],fr}function hre(e){"use forget";const t=Te.c(14),{primaryButton:n,secondaryButton:r,footerContent:i,textCenter:s,className:o,isSpacedBetween:a,modalActionsClassName:l,modalHasContent:c}=e,u=n!=null||r!=null;if(!(u||i))return null;let d;t[0]!==o?(d=xe("flex w-full flex-row items-center justify-end text-sm select-none",o),t[0]=o,t[1]=d):d=t[1];let f;t[2]!==u||t[3]!==a||t[4]!==l||t[5]!==c||t[6]!==n||t[7]!==r||t[8]!==s?(f=u?g.jsx("div",{className:xe(a?"grow":"flex-0"),children:g.jsx(cs.Actions,{className:xe(l,"flex w-full flex-row-reverse"),textCenter:s,primaryButton:n,secondaryButton:r,modalHasContent:c,isSpacedBetween:a})}):null,t[2]=u,t[3]=a,t[4]=l,t[5]=c,t[6]=n,t[7]=r,t[8]=s,t[9]=f):f=t[9];let h;return t[10]!==i||t[11]!==d||t[12]!==f?(h=g.jsxs("div",{className:d,children:[i,f]}),t[10]=i,t[11]=d,t[12]=f,t[13]=h):h=t[13],h}function pre(e,t){no(e,mre,{userEmail:t})}function mre({userEmail:e}){const t=it();return g.jsx(xs,{testId:"modal-all-workspaces-blocked",isOpen:!0,onClose:zF,type:"warning",size:"custom",className:"max-w-3xl",title:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("div",{className:"text-lg",children:g.jsx(Ce,{...Wp.title})}),g.jsx("div",{className:"text-sm font-normal",children:g.jsx(Ce,{...Wp.subtitle})})]}),icon:xte,primaryButton:g.jsx(cs.Button,{onClick:async()=>{const n=await i4.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=n.url},color:"primary",title:t.formatMessage(Wp.signOutButton)}),children:g.jsx("div",{className:"flex flex-col space-y-4",children:g.jsx("div",{children:g.jsx(Ce,{...Wp.detail,values:{email:g.jsx("span",{className:"font-semibold",children:e})}})})})})}const Wp=Ot({title:{id:"AllWorkspacesBlockedModal.title",defaultMessage:"Access Denied"},subtitle:{id:"AllWorkspacesBlockedModal.subtitle",defaultMessage:"Your IT administrator has blocked access to this workspace"},detail:{id:"AllWorkspacesBlockedModal.detail",defaultMessage:"It looks like you’re either trying to login using a personal email or you don’t have access to a workspace that’s been approved by your IT administrator. Please use an authorized work email to access your workspace, or contact your IT administrator for access."},signOutButton:{id:"AllWorkspacesBlockedModal.signOutButton",defaultMessage:"Sign Out"}});var ew=(e=>(e.GPT_3_5="gpt3.5",e.GPT_4="gpt4",e.GPT_4o="gpt4o",e.HIDDEN="hidden",e))(ew||{});const tw="WEB:",jDe=`${tw}:DUMMY`;var Bu=(e=>(e.Next="next",e.Variant="variant",e.Continue="continue",e))(Bu||{}),He=(e=>(e.Root="root",e.User="user",e.Assistant="assistant",e.System="system",e.Critic="critic",e.Tool="tool",e.Developer="developer",e))(He||{}),cn=(e=>(e.PrimaryAssistant="primary_assistant",e.GizmoInteraction="gizmo_interaction",e.GizmoMagicCreate="gizmo_magic_create",e.GizmoTest="gizmo_test",e.FlyingCircusCustomization="flying_circus_customization",e))(cn||{});const Nn={Web:"web",Cloud:"cloud",GitHub:"github",GoogleDrive:"google_drive",GoogleCalendar:"google_calendar",Gmail:"gmail",GoogleContacts:"google_contacts",Dropbox:"dropbox",Linear:"linear",Sharepoint:"sharepoint",Teams:"teams",OutlookEmail:"outlook_email",OutlookCalendar:"outlook_calendar",Box:"box",Intercom:"intercom",Hubspot:"hubspot",Canva:"canva",Notion:"notion",Slack:"slack"};var gre=(e=>(e.None="none",e.OAuth="oauth",e.ServiceHTTP="service_http",e))(gre||{}),lf=(e=>(e.CONVERSATION="conversation",e.REGENERATE="regenerate",e))(lf||{}),Ti=(e=>(e.UNSUPPORTED_ATTACHMENT="unsupported_attachment",e.UNSUPPORTED_AUDIO="unsupported_audio",e.UNSUPPORTED_IMAGE="unsupported_image",e.UNSUPPORTED_TOOL_USE="unsupported_tool_use",e.UNSUPPORTED_GIZMO="unsupported_gizmo",e.UNSUPPORTED_CUSTOM_INSTRUCTIONS="unsupported_custom_instructions",e.UNSUPPORTED_TEMPORARY_CHAT="unsupported_temporary_chat",e.UNSUPPORTED_CANVAS="unsupported_canvas",e))(Ti||{}),nw=(e=>(e.RATE_LIMIT="rate_limit",e))(nw||{}),$e=(e=>(e.Text="text",e.MultimodalText="multimodal_text",e.StructuredThoughts="thoughts",e.ReasoningRecap="reasoning_recap",e.TetherBrowsingCode="tether_browsing_code",e.Code="code",e.ExecutionOutput="execution_output",e.SystemError="system_error",e.SystemMessage="system_message",e.SystemContent="system_content",e.DeveloperContent="developer_content",e.TetherBrowsingDisplay="tether_browsing_display",e.TetherQuote="tether_quote",e.UserEditableContext="user_editable_context",e.ModelEditableContext="model_editable_context",e.SonicWebpage="sonic_webpage",e.ComputerOutput="computer_output",e.Error="error",e.SuperWidget="super_widget",e.CitableCodeOutput="citable_code_output",e))($e||{}),zn=(e=>(e.Audio="audio",e.AudioAssetPointer="audio_asset_pointer",e.ImageAssetPointer="image_asset_pointer",e.Image="image",e.AudioTranscription="audio_transcription",e.RealTimeUserAudioVideoAssetPointer="real_time_user_audio_video_asset_pointer",e.SimpleImageAssetPointer="simple_image_asset_pointer",e.ArbitraryAssetPointer="arbitrary_asset_pointer",e.VideoAssetPointer="video_asset_pointer",e))(zn||{}),Wf=(e=>(e.Picker="Picker",e.Link="Link",e))(Wf||{}),Ys=(e=>(e.SEND="send",e.GIZMO_TAG="gizmo_tag",e.FILE_UPLOAD="file_upload",e.REASON="reason",e.DEEP_RESEARCH="deep_research",e.IMAGE_GEN="image_gen",e.WHAM="wham",e.ODYSSEY="odyssey",e))(Ys||{}),vre=(e=>(e.AUTHENTICATE="authenticate",e.AUTHENTICATE_SECONDARY="authenticate_secondary",e.NEW_CHAT="new_chat",e.FREE_USER_O3_MINI_HIGH="free_user_o3_mini_high",e.PAID_USER_O3_MINI_HIGH="paid_user_o3_mini_high",e.DEEP_RESEARCH_IN_CONTEXT_UPSELL="deep_research_in_context_upsell",e.TRY_CODEX="try_codex",e.TRY_TATERTOT="try_tatertot",e.NOTIFY_ADMIN_FOR_CREDITS="notify_admin_for_credits",e.ADD_CREDITS="add_credits",e.CONNECT_CONNECTOR="connect_connector",e.UPGRADE_TO_GO="upgrade_to_go",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.GET_BUSINESS_TRIAL="get_business_trial",e.GET_PLUS_TRIAL="get_plus_trial",e))(vre||{}),rw=(e=>(e.DEEP_RESEARCH="deep_research",e.ODYSSEY="odyssey",e))(rw||{}),_re=(e=>(e.VIEW="view",e.CLICK="click",e.DISMISS="dismiss",e))(_re||{}),yre=(e=>(e.FILE_UPLOAD="file_upload",e.PHOTO_UPLOAD="photo_upload",e.AUTHENTICATE_LOGIN="authenticate_login",e.AUTHENTICATE_SIGNUP="authenticate_signup",e.GET_PLUS="get_plus",e.GET_PRO="get_pro",e.SYSTEM_HINT="system_hint",e.DISMISS="dismiss",e.GET_GO="get_go",e.GET_TEAM="get_team",e.OPEN_URL="open_url",e))(yre||{}),Cj=(e=>(e.SystemHint="systemHint",e))(Cj||{});function BDe(e){return"start_index"in e?{startIndex:e.start_index,endIndex:e.end_index,symbol:e.symbol}:e}var bre=(e=>(e.InstantQuery="instant_query",e.ComposerSearch="composer_search",e.UrlSearch="url_search",e))(bre||{}),Cre=(e=>(e.RiskyDomainNotWatching="risky_domain_not_watching",e.UserInterrupted="user_interrupted",e.MaliciousInstructionDetected="malicious_instruction_detected",e.ModerationBlocked="moderation_blocked",e.Unknown="unknown",e))(Cre||{}),Sre=(e=>(e.ToolWeb="tool:web",e.Onboarding="onboarding",e.AppPairing="tool:app-pairing",e.IPL="campaign:ipl",e))(Sre||{}),Sj=(e=>(e.Search="search",e.Canvas="canvas",e.ImageGen="image_gen_tool_enabled",e))(Sj||{}),wj=(e=>(e.Search="search",e.Click="click",e.MultiClick="mclick",e.Lookup="lookup",e.OpenUrl="open_url",e.Open="open",e.Quote="quote",e.QuoteFull="quote_full",e.QuoteLines="quote_lines",e.Back="back",e.Scroll="scroll",e.Spinner="spinner",e))(wj||{}),wre=(e=>(e.Bing="bing",e.Fortis="fortis",e))(wre||{}),Ere=(e=>(e.Starting="starting",e.Running="running",e.Done="done",e.Timeout="timeout",e.Error="error",e.Cancelled="cancelled",e))(Ere||{}),_6=(e=>(e.AUTO="auto",e))(_6||{}),xre=(e=>(e.AUTO="auto",e.ON="reasoning",e.OFF="none",e.PRO="pro",e))(xre||{});const Pi="agent",kre="~oai~s1~";function Tre(e){let t=2166136261;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);t=Math.imul(t^i&255,16777619),t=Math.imul(t^i&65280,16777619)}return t>>>0}function zr(e,t){if(typeof e!="number")throw new Error(`Unexpected: ${e}`);return t!=null&&e===Ore(t)}const Z8={};function Ore(e){return Z8[e]??(Z8[e]=Tre(kre+e))}const UDe="n7jupd",Ej="-0dy553y",Are=1338619165;function xj(e){return zr(Are,e+Ej)}const Ire=3675352570;function qDe(e){return zr(Ire,e+Ej)}var Mre=(e=>(e[e.Setup=0]="Setup",e[e.Random=1]="Random",e[e.Animation=2]="Animation",e[e.Done=3]="Done",e[e.Thinking=4]="Thinking",e[e.KAUR1BR5=5]="KAUR1BR5",e[e.Research=6]="Research",e[e.Autoswitch=7]="Autoswitch",e))(Mre||{});const ve={Search:"search",Think:"reason",Research:"research",Canvas:"canvas",Picture:"picture",PictureV2:"picture_v2",Video:"video",ContextualAnswers:"contextual_answers",Slurm:"slurm",ApiTool:"api_tool",Pineapple:"pineapple",Moonshine:"moonshine",Tatertot:"tatertot",Agent:"agent"};function Rre(e){return Object.values(ve).includes(e)}function Nre(e){return Rre(e)?e:Dre[e]}const Pre="study",Dre={connectors:ve.Slurm,image:ve.PictureV2,think:ve.Think,[Pre]:ve.Tatertot};var kj=Symbol.for("immer-nothing"),J8=Symbol.for("immer-draftable"),Gt=Symbol.for("immer-state");function Ni(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nd=Object.getPrototypeOf;function rd(e){return!!e&&!!e[Gt]}function Bo(e){return e?Tj(e)||Array.isArray(e)||!!e[J8]||!!e.constructor?.[J8]||Fg(e)||jg(e):!1}var Lre=Object.prototype.constructor.toString();function Tj(e){if(!e||typeof e!="object")return!1;const t=nd(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Lre}function id(e,t){Lg(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Lg(e){const t=e[Gt];return t?t.type_:Array.isArray(e)?1:Fg(e)?2:jg(e)?3:0}function y6(e,t){return Lg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Oj(e,t,n){const r=Lg(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Fre(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fg(e){return e instanceof Map}function jg(e){return e instanceof Set}function Gn(e){return e.copy_||e.base_}function b6(e,t){if(Fg(e))return new Map(e);if(jg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Tj(e))return nd(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[Gt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(nd(e),n)}function iw(e,t=!1){return Bg(e)||rd(e)||!Bo(e)||(Lg(e)>1&&(e.set=e.add=e.clear=e.delete=jre),Object.freeze(e),t&&id(e,(n,r)=>iw(r,!0))),e}function jre(){Ni(2)}function Bg(e){return Object.isFrozen(e)}var C6={};function cc(e){const t=C6[e];return t||Ni(0,e),t}function Bre(e,t){C6[e]||(C6[e]=t)}var Kf;function b1(){return Kf}function Ure(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Q8(e,t){t&&(cc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function S6(e){w6(e),e.drafts_.forEach(qre),e.drafts_=null}function w6(e){e===Kf&&(Kf=e.parent_)}function X8(e){return Kf=Ure(Kf,e)}function qre(e){const t=e[Gt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ex(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Gt].modified_&&(S6(t),Ni(4)),Bo(e)&&(e=C1(t,e),t.parent_||S1(t,e)),t.patches_&&cc("Patches").generateReplacementPatches_(n[Gt].base_,e,t.patches_,t.inversePatches_)):e=C1(t,n,[]),S6(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kj?e:void 0}function C1(e,t,n){if(Bg(t))return t;const r=t[Gt];if(!r)return id(t,(i,s)=>tx(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return S1(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),id(s,(a,l)=>tx(e,r,i,a,l,n,o)),S1(e,i,!1),n&&e.patches_&&cc("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function tx(e,t,n,r,i,s,o){if(rd(i)){const a=s&&t&&t.type_!==3&&!y6(t.assigned_,r)?s.concat(r):void 0,l=C1(e,i,a);if(Oj(n,r,l),rd(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Bo(i)&&!Bg(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;C1(e,i),(!t||!t.scope_.parent_)&&S1(e,i)}}function S1(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iw(t,n)}function zre(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:b1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=sw;n&&(i=[r],s=Yf);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var sw={get(e,t){if(t===Gt)return e;const n=Gn(e);if(!y6(n,t))return Gre(e,n,t);const r=n[t];return e.finalized_||!Bo(r)?r:r===Lv(e.base_,t)?(Fv(e),e.copy_[t]=Zf(r,e)):r},has(e,t){return t in Gn(e)},ownKeys(e){return Reflect.ownKeys(Gn(e))},set(e,t,n){const r=Aj(Gn(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Lv(Gn(e),t),s=i?.[Gt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Fre(n,i)&&(n!==void 0||y6(e.base_,t)))return!0;Fv(e),So(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Lv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Fv(e),So(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Gn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ni(11)},getPrototypeOf(e){return nd(e.base_)},setPrototypeOf(){Ni(12)}},Yf={};id(sw,(e,t)=>{Yf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Yf.deleteProperty=function(e,t){return Yf.set.call(this,e,t,void 0)};Yf.set=function(e,t,n){return sw.set.call(this,e[0],t,n,e[0])};function Lv(e,t){const n=e[Gt];return(n?Gn(n):e)[t]}function Gre(e,t,n){const r=Aj(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Aj(e,t){if(!(t in e))return;let n=nd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=nd(n)}}function So(e){e.modified_||(e.modified_=!0,e.parent_&&So(e.parent_))}function Fv(e){e.copy_||(e.copy_=b6(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Hre=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Ni(6),r!==void 0&&typeof r!="function"&&Ni(7);let i;if(Bo(t)){const s=X8(this),o=Zf(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?S6(s):w6(s)}return Q8(s,r),ex(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===kj&&(i=void 0),this.autoFreeze_&&iw(i,!0),r){const s=[],o=[];cc("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Ni(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Bo(e)||Ni(8),rd(e)&&(e=Vre(e));const t=X8(this),n=Zf(e,void 0);return n[Gt].isManual_=!0,w6(t),n}finishDraft(e,t){const n=e&&e[Gt];(!n||!n.isManual_)&&Ni(9);const{scope_:r}=n;return Q8(r,t),ex(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=cc("Patches").applyPatches_;return rd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Zf(e,t){const n=Fg(e)?cc("MapSet").proxyMap_(e,t):jg(e)?cc("MapSet").proxySet_(e,t):zre(e,t);return(t?t.scope_:b1()).drafts_.push(n),n}function Vre(e){return rd(e)||Ni(10,e),Ij(e)}function Ij(e){if(!Bo(e)||Bg(e))return e;const t=e[Gt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=b6(e,t.scope_.immer_.useStrictShallowCopy_)}else n=b6(e,!0);return id(n,(r,i)=>{Oj(n,r,Ij(i))}),t&&(t.finalized_=!1),n}function $re(){class e extends Map{constructor(l,c){super(),this[Gt]={type_:2,parent_:c,scope_:c?c.scope_:b1(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:l,draft_:this,isManual_:!1,revoked_:!1}}get size(){return Gn(this[Gt]).size}has(l){return Gn(this[Gt]).has(l)}set(l,c){const u=this[Gt];return o(u),(!Gn(u).has(l)||Gn(u).get(l)!==c)&&(n(u),So(u),u.assigned_.set(l,!0),u.copy_.set(l,c),u.assigned_.set(l,!0)),this}delete(l){if(!this.has(l))return!1;const c=this[Gt];return o(c),n(c),So(c),c.base_.has(l)?c.assigned_.set(l,!1):c.assigned_.delete(l),c.copy_.delete(l),!0}clear(){const l=this[Gt];o(l),Gn(l).size&&(n(l),So(l),l.assigned_=new Map,id(l.base_,c=>{l.assigned_.set(c,!1)}),l.copy_.clear())}forEach(l,c){const u=this[Gt];Gn(u).forEach((d,f,h)=>{l.call(c,this.get(f),f,this)})}get(l){const c=this[Gt];o(c);const u=Gn(c).get(l);if(c.finalized_||!Bo(u)||u!==c.base_.get(l))return u;const d=Zf(u,c);return n(c),c.copy_.set(l,d),d}keys(){return Gn(this[Gt]).keys()}values(){const l=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const c=l.next();return c.done?c:{done:!1,value:this.get(c.value)}}}}entries(){const l=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const c=l.next();if(c.done)return c;const u=this.get(c.value);return{done:!1,value:[c.value,u]}}}}[Symbol.iterator](){return this.entries()}}function t(a,l){return new e(a,l)}function n(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class r extends Set{constructor(l,c){super(),this[Gt]={type_:3,parent_:c,scope_:c?c.scope_:b1(),modified_:!1,finalized_:!1,copy_:void 0,base_:l,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return Gn(this[Gt]).size}has(l){const c=this[Gt];return o(c),c.copy_?!!(c.copy_.has(l)||c.drafts_.has(l)&&c.copy_.has(c.drafts_.get(l))):c.base_.has(l)}add(l){const c=this[Gt];return o(c),this.has(l)||(s(c),So(c),c.copy_.add(l)),this}delete(l){if(!this.has(l))return!1;const c=this[Gt];return o(c),s(c),So(c),c.copy_.delete(l)||(c.drafts_.has(l)?c.copy_.delete(c.drafts_.get(l)):!1)}clear(){const l=this[Gt];o(l),Gn(l).size&&(s(l),So(l),l.copy_.clear())}values(){const l=this[Gt];return o(l),s(l),l.copy_.values()}entries(){const l=this[Gt];return o(l),s(l),l.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(l,c){const u=this.values();let d=u.next();for(;!d.done;)l.call(c,d.value,d.value,this),d=u.next()}}function i(a,l){return new r(a,l)}function s(a){a.copy_||(a.copy_=new Set,a.base_.forEach(l=>{if(Bo(l)){const c=Zf(l,a);a.drafts_.set(l,c),a.copy_.add(c)}else a.copy_.add(l)}))}function o(a){a.revoked_&&Ni(3,JSON.stringify(Gn(a)))}Bre("MapSet",{proxyMap_:t,proxySet_:i})}var yi=new Hre,ts=yi.produce;yi.produceWithPatches.bind(yi);yi.setAutoFreeze.bind(yi);yi.setUseStrictShallowCopy.bind(yi);yi.applyPatches.bind(yi);yi.createDraft.bind(yi);yi.finishDraft.bind(yi);const Wre=e=>(t,n,r)=>(r.setState=(i,s,...o)=>{const a=typeof i=="function"?ts(i):i;return t(a,s,...o)},e(r.setState,n,r)),nl=Wre,Kre={bannerInfo:null,modelLimits:[],blockedFeatures:[],isInitialLoad:!0,limitsProgress:[]},Mo=hn(nl(()=>({...Kre}))),ow={[ve.Research]:Ys.DEEP_RESEARCH,[ve.PictureV2]:Ys.IMAGE_GEN,[ve.Think]:Ys.REASON};ow[Pi]=Ys.ODYSSEY;const zDe=e=>xj(e)?Ys.ODYSSEY:ow[e]??null,GDe=e=>{for(const[t,n]of Object.entries(ow))if(n===e)return t;return null},Yre={[ve.Research]:rw.DEEP_RESEARCH};function Zre(e){return xj(e)?rw.ODYSSEY:Yre[e]??null}function Ua(e){return new Date(e.resets_after)>new Date}const Jre=e=>{const t=(e.model_limits?.filter(Ua)??[]).map(r=>r.model_slug),n=new Set(Mo.getState().modelLimits.filter(Ua).map(r=>r.model_slug));return t.length!==n.size||!t.every(r=>n.has(r))},Mj={updateDetails:({banner_info:e,model_limits:t,blocked_features:n,limits_progress:r})=>{Mo.setState(i=>{const s=Lt();Wt(s,"3886886465").get("should_overwrite_banner_info",!1)?i.bannerInfo=e:i.bannerInfo??=e,i.isInitialLoad=!1,i.blockedFeatures=i.blockedFeatures.concat(n).filter(Ua),i.modelLimits=i.modelLimits.concat(t??[]).filter(Ua),i.limitsProgress=r??[]})},dismissBanner:()=>{Mo.setState(e=>{e.bannerInfo=null})},reset:()=>{Mo.setState(e=>{e.blockedFeatures=[],e.bannerInfo=null})}};function HDe(){return Mo(({bannerInfo:e})=>{const{resets_after:t}=e??{};return!e||t!=null&&!Ua({resets_after:t})?null:e})}function Ug(e){return Mo(({blockedFeatures:t})=>{if(!e)return null;const n=t.find(({name:r})=>r===e);return n&&Ua(n)?n:null})}function Qre(){return Ug(Ys.SEND)}function VDe(){return!!Qre()}function $De(){return Ug(Ys.FILE_UPLOAD)}function WDe(){return Ug(Ys.GIZMO_TAG)}function KDe(){return Ug(Ys.DEEP_RESEARCH)}function Xre(){return Mo(({modelLimits:t})=>t).filter(Ua)}function YDe(e){return Mo(({limitsProgress:n})=>n).filter(n=>e({...n,bySystemHint:r=>n.feature_name===Zre(r)}))[0]}function ZDe(){return Mo(({blockedFeatures:t})=>t).filter(Ua)}const eie=hn(()=>null),tie=hn(()=>null);var Rj=(e=>(e.UnexpectedSSOLogin="unexpected_sso_login",e.SSOMismatch="sso_mismatch",e.RequireSSOLogin="require_sso_login",e))(Rj||{});const nie=Object.freeze(new Set(Object.values(Rj)));function rie(e){return e?nie.has(e):!1}const iie=hn(()=>null),nx=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},qg="en-US",JDe=["am","ar","bg-BG","bn-BD","bs-BA","ca-ES","cs-CZ","da-DK","de-DE","el-GR","en-US","es-419","es-ES","et-EE","fi-FI","fr-CA","fr-FR","gu-IN","hi-IN","hr-HR","hu-HU","hy-AM","id-ID","is-IS","it-IT","ja-JP","ka-GE","kk","kn-IN","ko-KR","lt","lv-LV","mk-MK","ml","mn","mr-IN","ms-MY","my-MM","nb-NO","nl-NL","pa","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sl-SI","so-SO","sq-AL","sr-RS","sv-SE","sw-TZ","ta-IN","te-IN","th-TH","tl","tr-TR","uk-UA","ur","vi-VN","zh-CN","zh-HK","zh-TW"],sie=["es-419","fr-FR","zh-TW"],QDe={am:"አማርኛ",ar:"العربية","bg-BG":"български","bn-BD":"বাংলা","bs-BA":"bosanski","ca-ES":"català","cs-CZ":"čeština","da-DK":"dansk","de-DE":"Deutsch","el-GR":"Ελληνικά","en-US":"English (US)","es-419":"español (Latinoamérica)","es-ES":"español (España)","et-EE":"eesti","fi-FI":"suomi","fr-CA":"français (Canada)","fr-FR":"français (France)","gu-IN":"ગુજરાતી","hi-IN":"हिन्दी","hr-HR":"hrvatski","hu-HU":"magyar","hy-AM":"հայերեն","id-ID":"Indonesia","is-IS":"íslenska","it-IT":"italiano","ja-JP":"日本語","ka-GE":"ქართული",kk:"қазақ тілі","kn-IN":"ಕನ್ನಡ","ko-KR":"한국어",lt:"lietuvių","lv-LV":"latviešu","mk-MK":"македонски",ml:"മലയാളം",mn:"монгол","mr-IN":"मराठी","ms-MY":"Bahasa Melayu","my-MM":"မြန်မာ","nb-NO":"norsk bokmål","nl-NL":"Nederlands",pa:"ਪੰਜਾਬੀ","pl-PL":"polski","pt-BR":"português (Brasil)","pt-PT":"português (Portugal)","ro-RO":"română","ru-RU":"русский","sk-SK":"slovenčina","sl-SI":"slovenščina","so-SO":"Soomaali","sq-AL":"shqip","sr-RS":"српски","sv-SE":"svenska","sw-TZ":"Kiswahili","ta-IN":"தமிழ்","te-IN":"తెలుగు","th-TH":"ไทย",tl:"Tagalog","tr-TR":"Türkçe","uk-UA":"українська",ur:"اردو","vi-VN":"Tiếng Việt","zh-CN":"简体中文","zh-HK":"繁體中文（香港）","zh-TW":"繁體中文（台灣）"};function oie(){return Array.from(new Set(Object.values(cf)))}const cf={am:"am",ar:"ar",bg:"bg-BG","bg-bg":"bg-BG",bn:"bn-BD","bn-bd":"bn-BD",bs:"bs-BA","bs-ba":"bs-BA",ca:"ca-ES","ca-es":"ca-ES",cs:"cs-CZ","cs-cz":"cs-CZ",da:"da-DK","da-dk":"da-DK",de:"de-DE","de-de":"de-DE",el:"el-GR","el-gr":"el-GR",en:"en-US","en-us":"en-US",es:"es-ES","es-es":"es-ES","es-419":"es-419","es-ar":"es-419","es-bo":"es-419","es-br":"es-419","es-bz":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419","es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-jp":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419",et:"et-EE","et-ee":"et-EE",fi:"fi-FI","fi-fi":"fi-FI",fr:"fr-FR","fr-ca":"fr-CA","fr-fr":"fr-FR",gu:"gu-IN","gu-in":"gu-IN",hi:"hi-IN","hi-in":"hi-IN",hr:"hr-HR","hr-hr":"hr-HR",hu:"hu-HU","hu-hu":"hu-HU",hy:"hy-AM","hy-am":"hy-AM",id:"id-ID","id-id":"id-ID",is:"is-IS","is-is":"is-IS",it:"it-IT","it-it":"it-IT",ja:"ja-JP","ja-jp":"ja-JP",ka:"ka-GE","ka-ge":"ka-GE",kk:"kk",kn:"kn-IN","kn-in":"kn-IN",ko:"ko-KR","ko-kr":"ko-KR",lt:"lt",lv:"lv-LV","lv-lv":"lv-LV",mk:"mk-MK","mk-mk":"mk-MK",ml:"ml",mn:"mn",mr:"mr-IN","mr-in":"mr-IN",ms:"ms-MY","ms-my":"ms-MY",my:"my-MM","my-mm":"my-MM",nb:"nb-NO","nb-no":"nb-NO",nl:"nl-NL","nl-nl":"nl-NL",pa:"pa",pl:"pl-PL","pl-pl":"pl-PL",pt:"pt-BR","pt-br":"pt-BR","pt-pt":"pt-PT","pt-ao":"pt-PT","pt-ch":"pt-PT","pt-cv":"pt-PT","pt-fr":"pt-PT","pt-gq":"pt-PT","pt-gw":"pt-PT","pt-lu":"pt-PT","pt-mo":"pt-PT","pt-mz":"pt-PT","pt-st":"pt-PT","pt-tl":"pt-PT",ro:"ro-RO","ro-ro":"ro-RO",ru:"ru-RU","ru-ru":"ru-RU",sk:"sk-SK","sk-sk":"sk-SK",sl:"sl-SI","sl-si":"sl-SI",so:"so-SO","so-so":"so-SO",sq:"sq-AL","sq-al":"sq-AL",sr:"sr-RS","sr-rs":"sr-RS",sv:"sv-SE","sv-se":"sv-SE",sw:"sw-TZ","sw-tz":"sw-TZ",ta:"ta-IN","ta-in":"ta-IN",te:"te-IN","te-in":"te-IN",th:"th-TH","th-th":"th-TH",tl:"tl",tr:"tr-TR","tr-tr":"tr-TR",uk:"uk-UA","uk-ua":"uk-UA",ur:"ur",vi:"vi-VN","vi-vn":"vi-VN",zh:"zh-CN","zh-cn":"zh-CN","zh-hans":"zh-CN","zh-hans-cn":"zh-CN","zh-tw":"zh-TW","zh-hant":"zh-TW","zh-hant-tw":"zh-TW","zh-hk":"zh-HK","zh-hant-hk":"zh-HK"},Nj=new Set(["ar"]);function aw(e){const t=e.replace("_","-").toLowerCase();if(t in cf)return cf[t];const n=t.split("-");for(let r=n.length-1;r>=1;r--){const i=n.slice(0,r).join("-");if(i in cf)return cf[i]}return null}const Tf={};function Pj(e){return sie.includes(e)}async function aie(e,t){return e===qg?Tf:(await(Pj(e)&&t?nx(Object.assign({"./locales-mt/es-419.json":()=>be(()=>import("./bn3le0ffbg57cgz7.js"),[]),"./locales-mt/fr-FR.json":()=>be(()=>import("./l9wl829dwyj8m991.js"),[]),"./locales-mt/zh-TW.json":()=>be(()=>import("./oqxss7yj18ya0idz.js"),[])}),`./locales-mt/${e}.json`,3):nx(Object.assign({"./locales/am.json":()=>be(()=>import("./ht36m58tp5v30ox7.js"),[]),"./locales/ar.json":()=>be(()=>import("./dwazo3lbpxhiazhq.js"),[]),"./locales/bg-BG.json":()=>be(()=>import("./ekd5ebttw4g9o5v0.js"),[]),"./locales/bn-BD.json":()=>be(()=>import("./b69egf4iun499r8x.js"),[]),"./locales/bs-BA.json":()=>be(()=>import("./ciijwlcrtuhp17vn.js"),[]),"./locales/ca-ES.json":()=>be(()=>import("./e81ixvijvdsyxpus.js"),[]),"./locales/cs-CZ.json":()=>be(()=>import("./vr0sab7uhaxzpi9m.js"),[]),"./locales/da-DK.json":()=>be(()=>import("./j68d0a4dgzms14lu.js"),[]),"./locales/de-DE.json":()=>be(()=>import("./75kfh7l3nj0ly7d8.js"),[]),"./locales/el-GR.json":()=>be(()=>import("./gor34p2bw6ezahpe.js"),[]),"./locales/es-419.json":()=>be(()=>import("./e4t93mx7dm7nqk1p.js"),[]),"./locales/es-ES.json":()=>be(()=>import("./nltibdkfv1rfgpvk.js"),[]),"./locales/et-EE.json":()=>be(()=>import("./bkipe7rp2zvoi4o0.js"),[]),"./locales/fi-FI.json":()=>be(()=>import("./mfhz2svan3y1dehp.js"),[]),"./locales/fr-CA.json":()=>be(()=>import("./e9c6hbl9retxz2gg.js"),[]),"./locales/fr-FR.json":()=>be(()=>import("./06zvpcgixlsw8v3b.js"),[]),"./locales/gu-IN.json":()=>be(()=>import("./fr21545c157p1hyn.js"),[]),"./locales/he-IL.json":()=>be(()=>import("./h0pte8pfxhise50n.js"),[]),"./locales/hi-IN.json":()=>be(()=>import("./cjtpn0xdjcymrnam.js"),[]),"./locales/hr-HR.json":()=>be(()=>import("./clrsoh2581t89ugt.js"),[]),"./locales/hu-HU.json":()=>be(()=>import("./drnz5d7mbhejsts7.js"),[]),"./locales/hy-AM.json":()=>be(()=>import("./dq1oluv7zjz616iv.js"),[]),"./locales/id-ID.json":()=>be(()=>import("./nabg9bwjuk48l0ia.js"),[]),"./locales/is-IS.json":()=>be(()=>import("./pe07ckr6dacuw6tk.js"),[]),"./locales/it-IT.json":()=>be(()=>import("./cugtkbqdbiwlfnbn.js"),[]),"./locales/ja-JP.json":()=>be(()=>import("./gomofy5hrs4pa66k.js"),[]),"./locales/ka-GE.json":()=>be(()=>import("./prg1smrdvb68xdk7.js"),[]),"./locales/kk.json":()=>be(()=>import("./mxqs36n82bqdqk9f.js"),[]),"./locales/kn-IN.json":()=>be(()=>import("./ju5d6liloy6cgngs.js"),[]),"./locales/ko-KR.json":()=>be(()=>import("./gl80sdeqv9hzbf82.js"),[]),"./locales/lt.json":()=>be(()=>import("./gw0hhobc58bpavia.js"),[]),"./locales/lv-LV.json":()=>be(()=>import("./i1bya9urf64ug6ji.js"),[]),"./locales/mk-MK.json":()=>be(()=>import("./lgscczc565j3zluv.js"),[]),"./locales/ml.json":()=>be(()=>import("./e94smvmz5sn4h00c.js"),[]),"./locales/mn.json":()=>be(()=>import("./ojuth8bwql1rzkpg.js"),[]),"./locales/mr-IN.json":()=>be(()=>import("./6gl6gs0q67sjrv7m.js"),[]),"./locales/ms-MY.json":()=>be(()=>import("./b7i8yz8dy9tv9o3n.js"),[]),"./locales/my-MM.json":()=>be(()=>import("./ml6ytnuakeo91air.js"),[]),"./locales/nb-NO.json":()=>be(()=>import("./nmto2fg34y06l8gj.js"),[]),"./locales/nl-NL.json":()=>be(()=>import("./q5btwu6yunkw1z14.js"),[]),"./locales/pa.json":()=>be(()=>import("./ihcu6qqcqm977ysh.js"),[]),"./locales/pl-PL.json":()=>be(()=>import("./ln92tdf8qdmdvotm.js"),[]),"./locales/pt-BR.json":()=>be(()=>import("./mk18e3a0stxvl79f.js"),[]),"./locales/pt-PT.json":()=>be(()=>import("./f5sr7u5vmt5auap5.js"),[]),"./locales/ro-RO.json":()=>be(()=>import("./csvpdqtb2oiry6f7.js"),[]),"./locales/ru-RU.json":()=>be(()=>import("./e4q5wb7gyymujtch.js"),[]),"./locales/sk-SK.json":()=>be(()=>import("./jemeka8sxoxu3q1u.js"),[]),"./locales/sl-SI.json":()=>be(()=>import("./lppdne24bdytrkux.js"),[]),"./locales/so-SO.json":()=>be(()=>import("./lj1egg8aars2qa7i.js"),[]),"./locales/sq-AL.json":()=>be(()=>import("./gg7y8zaxlijzct9w.js"),[]),"./locales/sr-RS.json":()=>be(()=>import("./bje6yvoiuywkkm0z.js"),[]),"./locales/sv-SE.json":()=>be(()=>import("./dut7asuepgn1s6u6.js"),[]),"./locales/sw-TZ.json":()=>be(()=>import("./epfx0e2z6jc60p7i.js"),[]),"./locales/ta-IN.json":()=>be(()=>import("./kyf4dubin2e6y9v5.js"),[]),"./locales/te-IN.json":()=>be(()=>import("./l7bk19e8ahk4n2zw.js"),[]),"./locales/th-TH.json":()=>be(()=>import("./jardawyea8l0gwme.js"),[]),"./locales/tl.json":()=>be(()=>import("./mmuz9jdpe0f0bgkl.js"),[]),"./locales/tr-TR.json":()=>be(()=>import("./j37fqgwzwzojzxfb.js"),[]),"./locales/uk-UA.json":()=>be(()=>import("./hj2o0j2rhr3nsl9m.js"),[]),"./locales/ur.json":()=>be(()=>import("./mx8kjb14eo15ly14.js"),[]),"./locales/vi-VN.json":()=>be(()=>import("./i4hkvrj2jvtkqp9c.js"),[]),"./locales/zh-CN.json":()=>be(()=>import("./jr7szc9xrvdtvy1n.js"),[]),"./locales/zh-HK.json":()=>be(()=>import("./a2qm0xgq88cizawz.js"),[]),"./locales/zh-TW.json":()=>be(()=>import("./m2lxcfeg0sbokztb.js"),[])}),`./locales/${e}.json`,3))).default}const lie=365*24*60*60,XDe=e=>{e==null?qe.deleteCookie(je.PreferredLocale):qe.setCookie(je.PreferredLocale,e,{maxAge:lie}),window.location.reload()},cie=()=>{const e=qe.getCookie(je.PreferredLocale);return e!=null?aw(e):null},eLe=()=>{const e=me(),t=fn(e).locale,n=p6(()=>cie())??null,r=p6(()=>{const i=navigator.language;return i?aw(i):null});return Array.from(new Set([t,n,r].filter(Boolean)))},Rs=window.localStorage;var qt=(e=>(e.Theme="theme",e.NextAuth="nextauth.message",e.IsNoAuthChatTrainingEnabled="oai/apps/isNoAuthChatTrainingEnabled",e.IsNavigationCollapsed="UiState.isNavigationCollapsed.1",e.IsHistoryCollapsed="UiState.isOnlyShowingRecents.1",e.ChatThreadFlyoutState="UiState.chatThreadFlyoutState",e.IsGptListCollapsed="UiState.isGptListCollapsed",e.LastUsedModel="oai/apps/lastModelUsed",e.EnabledPlugins="oai/enabledPluginIds",e.HasSeenNewChatModal="oai/apps/hasSeenNewChatModal",e.HasSeenMeetChatGptModal="oai/apps/hasSeenMeetChatGptModal",e.HasSignedUpForPlusUpgradeWaitlistV1="oai/apps/HasSignedUpForPlusUpgradeWaitlist",e.HasSignedUpForPlusUpgradeWaitlistV2="oai/apps/HasSignedUpForPlusUpgradeWaitlistV2",e.HasSignedUpForTeamUpgradeWaitlistV1="oai/apps/HasSignedUpForTeamUpgradeWaitlist",e.HasSignedUpForTeamUpgradeWaitlistV2="oai/apps/HasSignedUpForTeamUpgradeWaitlistV2",e.HasDismissedUpgradeInviteModal="oai/apps/hasDismissedUpgradeInviteModal",e.GizmoEditorTab="oai/apps/gizmoEditorTab",e.GizmoDiscoveryLocale="oai/apps/gizmoDiscoveryLocale",e.NoAuthRateLimitState="oai/apps/noAuthRateLimitState",e.RestoreMessageAfterOauthRedirect="oai/apps/restoreMessageAfterOauthRedirect",e.HasSeenAdaInteractiveChart="oai/apps/hasSeenAdaInteractiveChart",e.HasSeenAdaInteractiveTable="oai/apps/hasSeenAdaInteractiveTable",e.SearchSettings="oai/apps/searchSettings",e.NoAuthBannerDisclaimerClientThreadId="oai/apps/noAuthBannerDisclaimerClientThreadId",e.NoAuthHasAcceptedFooterDisclaimer="oai/apps/noAuthHasAcceptedFooterDisclaimer",e.NoAuthUserMessageCount="oai/apps/noAuthUserMessageCount",e.HasSeenNoAuthImagegenNux="oai/apps/hasSeenNoAuthImagegenNux",e.LoggedInUserMessageCount="oai/apps/loggedInUserMessageCount",e.NoAuthHasDismissedSoftRateLimitModal="oai/apps/noAuthHasDismissedSoftRateLimitModal",e.NoAuthHasSeenGpt4oModal="oai/apps/noAuthHasSeenGpt4oModal",e.MemoryFullBannerDismissed="oai/apps/memoryFullBannerDismissed",e.MemoryAlmostFullBannerDismissed="oai/apps/memoryAlmostFullBannerDismissed",e.IndepthFeedbackDismissedAt="oai/apps/indepthFeedbackDismissedAt",e.AdvancedVoiceOnMobileAnnouncementCount="oai/apps/oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.CheckoutFrom="oai/apps/checkout_from",e.HasConfirmedCanvasCodeExecution="oai/apps/hasConfirmedCanvasCodeExecution",e.CODE_EXECUTION_DOMAIN_ALLOW_LIST="oai/apps/codeExecutionDomainAllowlistWithTTL",e.TasksHasSeenProjectDisclaimerBanner="oai/apps/tasksHasSeenProjectDisclaimerBanner",e.ExpandSummarizedCoT="oai/apps/ExpandSummarizedCoT",e.PromoCode="oai/apps/promoCode",e.LastPageLoadDate="oai/apps/lastPageLoadDate",e.NoAuthMadlibsModalState="oai/apps/noAuthMadlibsModalState",e.d2dee219="oai/apps/d2dee219",e.ReferralCode="oai/apps/referralCode",e.LastFeedLoad="oai/apps/2dc5214a",e.VoiceLastUsed="oai/apps/voiceLastUsed",e.ModelCustomConfig="oai/modelCustomConfig",e.ChatThemeOverride="oai/apps/chatThemeOverride",e.ChatTheme="oai/apps/chatTheme",e.ConversationDrafts="oai/apps/conversationDrafts",e.DebugSettings="oai/apps/debugSettings",e.GlauxUsePromptOverride="oai/apps/glauxUsePromptOverride",e.GlauxPromptOverride="oai/apps/glauxPromptOverride",e.GlauxJuiceScore="oai/apps/glauxJuiceScore",e.LastEnvironment="oai/apps/l1239dk1/a3f4b29d",e.PromptDraft="oai/apps/l1239dk1/c7e2d18f",e.ProposedTasks="oai/apps/l1239dk1/8fa94c1e",e.ReactQueryDevtoolsVisible="oai/apps/l1239dk1/3e2d18f",e.WhamForcedRateLimitRemaining="oai/apps/l1239dk1/49292001",e.WhamChangelogClickedDate="oai/apps/l1239dk1/4b7d9e2f",e.WhamRepoDownloadDurations="oai/apps/l1239dk1/9182cd99",e.WhamBestOfN="oai/apps/l1239dk1/109b6e28",e.WhamImageSnapshot="oai/apps/l1239dk1/4kdf92l2",e.WhamShowFullDiff="oai/apps/l1239dk1/7a8d45ff",e.WhamPreferredEditor="oai/apps/l1239dk1/e2b7ab3c",e.WhamCodexOnboardingState="oai/apps/l1239dk1/codexOnboardingState",e.WhamLastRepositoryId="oai/apps/l1239dk1/7f2c4aa2",e.WhamShowDevOnboardingOverrides="oai/apps/l1239dk1/showDevOnboardingOverrides",e.WhamCodexOnboardingStateOverride="oai/apps/l1239dk1/codexOnboardingStateOverride",e.SegmentUserId="ajs_user_id",e.SegmentUserTraits="ajs_user_traits",e.MessageFollowupsStoreState="oai/apps/messageFollowupsStoreState",e.JumpToShade="jump-to-shade",e.HasManuallyClosedLanguageUpsellBanner="oai/apps/hasManuallyClosedLanguageUpsellBanner",e.PluginsAuthRedirect="oai/apps/plugins/authRedirect",e.SelectedSources="oai/apps/connectors/selectedSources",e.SelectedGithubRepos="oai/apps/connectors/selectedGithubRepos",e.ConnectorOAuthFlowType="oai/apps/connectors/oauthFlowType",e.SubscriptionFailedBanner="oai/apps/subscriptionFailedBanner",e.HasDismissedTeamsNoAuthUpsell="oai/apps/hasDismissedTeamsNoAuthUpsell",e.FinchAdminNotified="oai/apps/finchAdminNotified",e.GetTeamPillDismissed="oai/apps/getTeamPillDismissed",e.CARecommendedPromptsUpsell="oai/apps/caRecommendedPromptsUpsell",e.ChinookStartupInfo="oai/apps/chinookStartupInfo",e.ConnectorsDismissableBannerUpsell="oai/apps/connectorsDismissableBannerUpsell",e.ModelSlugStatsOverride="oai/apps/modelSlugStatsOverride",e.ShortcutLinks="oai/apps/shortcutLinks",e.HomeDiscoveryDismissed="oai/apps/homeDiscoveryDismissed",e.O3MiniHighInContextUpsellBanner="oai/apps/o3MiniHighInContextUpsellBanner",e.TatertotInContextUpsellBannerV2="oai/apps/tatertotInContextUpsellBannerV2",e.ImageGenProgressUpsellV2="oai/apps/imageGenProgressUpsellV2",e.NoAuthGoUpsellModalDismissed="oai/apps/noAuthGoUpsellModalDismissed",e.HasDismissedMobileAppUpsellBanner="oai/apps/hasDismissedMobileAppUpsellBanner",e.HasDismissedMoodengUpsellBanner="oai/apps/hasDismissedMoodengUpsellBanner",e.LastSeenPlusUpsellBannerAt="oai/apps/lastSeenPlusUpsellBannerAt",e.HasDismissedOnboardingSidebarEntry="oai/apps/hasDismissedOnboardingSidebarEntry",e.LastSeenNoAuthTrialsBannerAt="oai/apps/lastSeenNoAuthTrialsBannerAt",e.ThreadUpgradeBannerDismissedAt="oai/apps/threadUpgradeBannerDismissedAt",e.HasDismissedSidebarFooterCapFreeUpsellButton="oai/apps/hasDismissedSidebarFooterCapFreeUpsellButton",e.HasDismissedSidebarFooterCapTeamInviteButton="oai/apps/hasDismissedSidebarFooterCapTeamInviteButton",e.PendingSurveySpec="oai/apps/pendingSurveySpec",e))(qt||{});class Kt{static setItem(t,n,r){if(!Rs)return;const i=Rm(t,r);Rs.setItem(i,JSON.stringify(n))}static getItem(t,n){if(!Rs)return null;try{const r=Rm(t,n),i=Rs.getItem(r);return typeof i=="string"?JSON.parse(i):i}catch{return null}}static removeItem(t,n){if(Rs){const r=Rm(t,n);return Rs.removeItem(r)}}static DANGER_SECRET_FOLDERS_ONLY_setItem(t,n){if(!Rs){console.warn(`You cannot set localStorage server-side (${t})`);return}Rs.setItem(t,JSON.stringify(n))}static DANGER_SECRET_FOLDERS_ONLY_getItem(t){if(!Rs)return console.warn(`You cannot get localStorage server-side (${t})`),null;const n=Rs.getItem(t);return typeof n=="string"?JSON.parse(n):n}}function Rm(e,t){const n=[e];return t!==void 0&&(t.userId!=null&&n.push(t.userId),t.workspaceId!=null&&n.push(t.workspaceId)),n.join("/")}const rx=100,Jf=hn()(nl(()=>Kt.getItem(qt.ConversationDrafts)??{drafts:[],userId:null})),lw=e=>{Jf.setState(e),Kt.setItem(qt.ConversationDrafts,e)},cw=e=>e??"null_thread",tLe=(e,t,n)=>{const r=cw(e);let s=Jf.getState().userId===n?Jf.getState().drafts:[];const o=s.findIndex(l=>l.id===r),a={id:r,content:t,timestamp:Date.now()};o!==-1?s[o]=a:s.push(a),s.length>rx&&(s=s.sort((l,c)=>c.timestamp-l.timestamp).slice(0,rx)),lw({drafts:s,userId:n})},uie=e=>{const t=cw(e);return Jf.getState().drafts.find(n=>n.id===t)},nLe=e=>{const t=cw(e),n=Jf.getState().drafts.filter(r=>r.id!==t);lw({drafts:n,userId:null})},die=()=>{lw({drafts:[],userId:null})};function fie(e,t,n){if(n)return t??void 0;if(!e)return;const r=e.trim();if(!r)return;const i=r.split(/\s+/);if(i.length===0)return;const s=i[0];return s.indexOf("@")!==-1||/^\d+$/.test(s)?void 0:s.replace(/[^a-zA-ZÀ-ž]+/g,"")}function rLe(e,t,n){const r=fie(t?.name,t?.first_name,n);let i="";e&&("object"in e&&e.object==="user_system_message_detail"?i=e.name_user_message:i=e.nameUserMessage??"");const s=i.trim();return(e?.enabled??!0)&&s?s:r}function hie(){qe.deleteCookie(je.GreetingName)}const pie="session",Dj="refresh";let E6;typeof window<"u"&&window.BroadcastChannel!==void 0&&(E6=new window.BroadcastChannel(pie),E6.onmessage=e=>{e.data===Dj&&(document.hidden?window.addEventListener("visibilitychange",()=>{document.hidden||(window.location.href="/")}):setTimeout(()=>{window.location.href="/"},300))});function mie(){E6?.postMessage(Dj)}function gie(){mie(),NF(),die(),hie(),qe.deleteCookie(je.LastUsedModel),qe.deleteCookie(je.LastUsedModelConfig)}function uw(e){gie(),window.location.href=e??"/?refresh_account=true"}const vie="dgkjq2bp",_ie=vie;function Lj(){return be(()=>import("./c0lgzzdb44exs1o3.js").then(e=>e.i),__vite__mapDeps([2,1]))}function yie(e,t,n){if(e.id){const r={app_id:_ie,user_id:e.id,name:e.name,email:e.email,user_hash:n,hide_default_launcher:!0,is_chatgpt_user:!0,chatgpt_plan_type:t?.planType};Lj().then(i=>i?.boot(r))}}function dw(e,t){Lj().then(n=>n?.trackEvent(e,t))}class zg extends Error{name="ClientRequestMismatchedAuthError"}function Fj(e,t="fetch"){e.url.includes("/aip");const n=e.detail,r=n?.conversation_detail_metadata;if(r&&Mj.updateDetails(r),e.code==="request_account_access"&&tie.setState({accountName:n?.account_name,ownerEmail:n?.owner_email,userEmail:n?.user_email,accountId:n?.account_id,hasActiveRequest:n?.has_active_request,workspacePlanType:n?.workspace_plan_type}),e.code==="all_accounts_blocked"&&pre(Lt(),n?.user_email),rie(e.code)&&iie.setState({accountName:n?.account_name,errorCode:e.code}),e.code==="trigger_account_transfer"){eie.setState({destinationWorkspaceId:n?.workspace_id,destinationWorkspaceName:n?.workspace_name,destinationWorkspaceProfilePictureUrl:n?.workspace_profile_picture_url,destinationWorkspacePlanType:n?.workspace_plan_type});return}if(e.code==="deactivated_workspace"){window.location.href.includes("/workspace/deactivated")||(window.location.href="/workspace/deactivated");return}if((e.code==="expired_session_key"||e.code==="token_expired"||e.code==="token_invalidated"||e.jsonError?.error?.code==="token_invalidated")&&(G.addAction("Token expired",{url:e.url,error:n}),typeof window<"u"&&window._oaiHandleSessionExpired?.(t,JSON.stringify(n))),e.code==="invalid_account_id_header"&&typeof qe.getCookie(je.Workspace)=="string"){qe.deleteCookie(je.Workspace),uw();return}}function jj(e){G.addAction("RequestError",{url:e.url,message:e.message,status:e.status,json:e.json,requestId:e.requestId,deviceId:Vo(),rawErrorMessage:e.rawError?.message})}function bie(e,t){return e.replace(/\{([^}]+)\}/g,(n,r)=>t[r].toString())}function Cie(e){if(!e)return"";const t=new URLSearchParams;for(const[r,i]of Object.entries(e))if(Array.isArray(i))for(const s of i)t.append(r,s.toString());else i!=null&&t.append(r,i.toString());const n=t.toString();return n.length===0?"":`?${n}`}function Sie(){return fn(Lt()).locale??qg}function Gg(){return{[xX]:Sie(),[Mg]:Vo(),[Ig]:bd}}function Hg(e={}){const t=e.accessToken??wie(),n=Gg();if(t==null){if(e.isAuthOptional===!0)return n;throw new zg("No access token when trying to use AuthHeader")}n.Authorization=`Bearer ${t}`;const r=qe.getCookie(je.Workspace);return typeof r=="string"&&r!==Io&&(n["ChatGPT-Account-ID"]=encodeURIComponent(r)),n}function wie(){return Oh(Lt())}function Bj({method:e,body:t,authOption:n,accessToken:r,additionalHeaders:i}){return{method:e?.toUpperCase(),body:t,credentials:"include",headers:{...n===Xt.Anonymous?Gg():Hg({isAuthOptional:n===Xt.SendIfAvailable,accessToken:r}),...t!=null&&!(t instanceof FormData||t instanceof File)?{"Content-Type":"application/json"}:null,...t!=null&&t instanceof File?{"Content-Type":"application/octet-stream"}:null,...i}}}function Eie(e){return(t,n)=>{const r=(i,s)=>{if(i>=e.length)return n(s);const o=e[i];return o(s,a=>r(i+1,a))};return r(0,t)}}function Uj(e,t){const n=Eie(e);return r=>n(r,t)}async function qj(e,t){let n=await t(e.clone());if(n.status===401){const i=await n.clone().json(),s=n.headers.get("X-Request-Id")??void 0;if(new vt(e.url,n.status,i,s,new Error(JSON.stringify(i))).code==="token_expired"){const a=Vo();await TF(Cs(Lt()),{reason:"token_expired",method:e.method??"GET",path:new URL(e.url,location.origin).pathname});const l=Hg(),c=e.clone();for(const[u,d]of Object.entries(l))c.headers.set(u,d);n=await t(c),n.status===200?G.addAction("Request succeeded after refresh.",{url:e.url,deviceId:a}):G.addAction("Request failed after refresh.",{url:e.url,deviceId:a})}}return n}async function zj(e,t){let n;try{n=await t(e)}catch(r){throw r instanceof Error?vt.createWithErrorMessage(e.url,"server",r.message,void 0,r):r}if(n.status>=400){const r=await n.text();let i;try{i=JSON.parse(r)}catch{i={detail:{code:"not_json_response",text:r?.substring(0,1e3)}}}const s=n.headers.get("X-Request-Id")??void 0,o=new vt(e.url,n.status,i,s,new Error(JSON.stringify(i)));throw Fj(o),jj(o),o}return n}class fw{#e;#t;constructor(t){const{baseUrl:n}=t;this.#t=typeof n=="string"?()=>n:n}baseUrl(t){return this.#t(t)}get#r(){return this.#e||(this.#e=Uj([zj,qj],fetch)),this.#e}async fetch(t,n={}){try{const r=await this.#r(t);return n.skipJsonTransform?r:r.status===204?{}:r.json()}catch(r){throw n.intercomEventOnError&&dw(n.intercomEventOnError,{url:t.url}),r}}request(t,n,r){const i=r?.parameters&&"query"in r.parameters?r.parameters.query:void 0,s=r?.parameters&&"path"in r.parameters&&r.parameters.path?r.parameters.path:{},o=bie(n,s),a=Cie(i),l=Bj({...r,method:t,body:r&&"requestBody"in r?r.requestBody instanceof File?r.requestBody:JSON.stringify(r.requestBody):void 0}),c=`${this.baseUrl(l)}${o}${a}`,u=new globalThis.Request(c,l);return this.fetch(u,r)}safeGet(t,...n){return this.request("get",t,n[0])}safePost(t,...n){return this.request("post",t,n[0])}safeDelete(t,...n){return this.request("delete",t,n[0])}safePatch(t,...n){return this.request("patch",t,n[0])}async*streamedJsonPost(t,n){n.skipJsonTransform=!0;const r=await this.request("post",t,n);if(!r.body)return;const i=r.body.getReader(),s=new TextDecoder;let o="";for(;;){const{value:a,done:l}=await i.read();a&&(o+=s.decode(a,{stream:!0}));let c;for(;(c=o.indexOf(`
`))!==-1;){const u=o.slice(0,c).trim();if(o=o.slice(c+1),u.length!==0)try{yield JSON.parse(u)}catch{o=u+`
`+o;break}}if(l){const u=o.trim();u&&(yield JSON.parse(u));return}}}}function xie(e,t){const n={[dt]:m4};if(t.headers.Authorization)return e;for(const[r,i]of Object.entries(n))if(e.startsWith(r))return e.replace(r,i);return e}class kie{#e;get#t(){return this.#e||(this.#e=Uj([zj,qj],fetch)),this.#e}async fetch(t,n={}){n.params&&(t+="?"+new URLSearchParams(n.params).toString());try{const r=Bj(n),i=await this.#t(new globalThis.Request(xie(t,r),r));return n.skipJsonTransform?i:i.status===204?{}:i.json()}catch(r){throw n.intercomEventOnError&&dw(n.intercomEventOnError,{url:t}),r}}get(t,n={}){return this.fetch(t,n)}post(t,n,r={}){return this.fetch(t,{...r,method:"post",body:n instanceof FormData?n:JSON.stringify(n)})}async*streamedJsonPost(t,n,r={}){const s=(await this.fetch(t,{...r,method:"post",body:JSON.stringify(n),skipJsonTransform:!0})).body;if(!s)return;const o=s.getReader(),a=new TextDecoder;let l=!1,c="";for(;!l;){const u=await o.read();if(l=u.done,l&&u.value==null)break;const d=c+a.decode(u.value,{stream:!0});c="";const f=d.split(`
`).filter(h=>!!h.trim());for(let h=0;h<f.length;h++)try{yield JSON.parse(f[h])}catch{c=f[h];break}}c.length>0&&(yield JSON.parse(c))}}const ue=new fw({baseUrl(e){return!!e.headers.Authorization?dt:m4}}),Tie=new fw({baseUrl:Tm});new fw({baseUrl:yte});const ut=new kie;function Vg(e,t){return Nt({queryKey:["workspace-settings",e],queryFn:e?()=>ue.safeGet("/accounts/{account_id}/settings",{parameters:{path:{account_id:e}}}):BY,select:n=>n&&t?t(n):n})}function jh(e){return e===Ye.EDUCATION_CBP||e===Ye.DEPRECATED_EDU}function Gj(e){return e===Ye.ENTERPRISE_CBP||e===Ye.DEPRECATED_ENTERPRISE}function $g(e){return Gj(e)||jh(e)}var jv,ix;function Oie(){if(ix)return jv;ix=1;function e(){this.__data__=[],this.size=0}return jv=e,jv}var Bv,sx;function hw(){if(sx)return Bv;sx=1;function e(t,n){return t===n||t!==t&&n!==n}return Bv=e,Bv}var Uv,ox;function Wg(){if(ox)return Uv;ox=1;var e=hw();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Uv=t,Uv}var qv,ax;function Aie(){if(ax)return qv;ax=1;var e=Wg(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var a=s.length-1;return o==a?s.pop():n.call(s,o,1),--this.size,!0}return qv=r,qv}var zv,lx;function Iie(){if(lx)return zv;lx=1;var e=Wg();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return zv=t,zv}var Gv,cx;function Mie(){if(cx)return Gv;cx=1;var e=Wg();function t(n){return e(this.__data__,n)>-1}return Gv=t,Gv}var Hv,ux;function Rie(){if(ux)return Hv;ux=1;var e=Wg();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Hv=t,Hv}var Vv,dx;function Kg(){if(dx)return Vv;dx=1;var e=Oie(),t=Aie(),n=Iie(),r=Mie(),i=Rie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Vv=s,Vv}var $v,fx;function Nie(){if(fx)return $v;fx=1;var e=Kg();function t(){this.__data__=new e,this.size=0}return $v=t,$v}var Wv,hx;function Pie(){if(hx)return Wv;hx=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Wv=e,Wv}var Kv,px;function Die(){if(px)return Kv;px=1;function e(t){return this.__data__.get(t)}return Kv=e,Kv}var Yv,mx;function Lie(){if(mx)return Yv;mx=1;function e(t){return this.__data__.has(t)}return Yv=e,Yv}var Zv,gx;function Hj(){if(gx)return Zv;gx=1;var e=typeof Tu=="object"&&Tu&&Tu.Object===Object&&Tu;return Zv=e,Zv}var Jv,vx;function ks(){if(vx)return Jv;vx=1;var e=Hj(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Jv=n,Jv}var Qv,_x;function wd(){if(_x)return Qv;_x=1;var e=ks(),t=e.Symbol;return Qv=t,Qv}var Xv,yx;function Fie(){if(yx)return Xv;yx=1;var e=wd(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var a=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var u=r.call(o);return c&&(a?o[i]=l:delete o[i]),u}return Xv=s,Xv}var e_,bx;function jie(){if(bx)return e_;bx=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return e_=n,e_}var t_,Cx;function Ed(){if(Cx)return t_;Cx=1;var e=wd(),t=Fie(),n=jie(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(a){return a==null?a===void 0?i:r:s&&s in Object(a)?t(a):n(a)}return t_=o,t_}var n_,Sx;function ro(){if(Sx)return n_;Sx=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return n_=e,n_}var r_,wx;function Vj(){if(wx)return r_;wx=1;var e=Ed(),t=ro(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(a){if(!t(a))return!1;var l=e(a);return l==r||l==i||l==n||l==s}return r_=o,r_}var i_,Ex;function Bie(){if(Ex)return i_;Ex=1;var e=ks(),t=e["__core-js_shared__"];return i_=t,i_}var s_,xx;function Uie(){if(xx)return s_;xx=1;var e=Bie(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return s_=n,s_}var o_,kx;function $j(){if(kx)return o_;kx=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return o_=n,o_}var a_,Tx;function qie(){if(Tx)return a_;Tx=1;var e=Vj(),t=Uie(),n=ro(),r=$j(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||t(f))return!1;var h=e(f)?u:s;return h.test(r(f))}return a_=d,a_}var l_,Ox;function zie(){if(Ox)return l_;Ox=1;function e(t,n){return t?.[n]}return l_=e,l_}var c_,Ax;function kc(){if(Ax)return c_;Ax=1;var e=qie(),t=zie();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return c_=n,c_}var u_,Ix;function pw(){if(Ix)return u_;Ix=1;var e=kc(),t=ks(),n=e(t,"Map");return u_=n,u_}var d_,Mx;function Yg(){if(Mx)return d_;Mx=1;var e=kc(),t=e(Object,"create");return d_=t,d_}var f_,Rx;function Gie(){if(Rx)return f_;Rx=1;var e=Yg();function t(){this.__data__=e?e(null):{},this.size=0}return f_=t,f_}var h_,Nx;function Hie(){if(Nx)return h_;Nx=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return h_=e,h_}var p_,Px;function Vie(){if(Px)return p_;Px=1;var e=Yg(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var a=o[s];return a===t?void 0:a}return r.call(o,s)?o[s]:void 0}return p_=i,p_}var m_,Dx;function $ie(){if(Dx)return m_;Dx=1;var e=Yg(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return m_=r,m_}var g_,Lx;function Wie(){if(Lx)return g_;Lx=1;var e=Yg(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return g_=n,g_}var v_,Fx;function Kie(){if(Fx)return v_;Fx=1;var e=Gie(),t=Hie(),n=Vie(),r=$ie(),i=Wie();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,v_=s,v_}var __,jx;function Yie(){if(jx)return __;jx=1;var e=Kie(),t=Kg(),n=pw();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return __=r,__}var y_,Bx;function Zie(){if(Bx)return y_;Bx=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return y_=e,y_}var b_,Ux;function Zg(){if(Ux)return b_;Ux=1;var e=Zie();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return b_=t,b_}var C_,qx;function Jie(){if(qx)return C_;qx=1;var e=Zg();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return C_=t,C_}var S_,zx;function Qie(){if(zx)return S_;zx=1;var e=Zg();function t(n){return e(this,n).get(n)}return S_=t,S_}var w_,Gx;function Xie(){if(Gx)return w_;Gx=1;var e=Zg();function t(n){return e(this,n).has(n)}return w_=t,w_}var E_,Hx;function ese(){if(Hx)return E_;Hx=1;var e=Zg();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return E_=t,E_}var x_,Vx;function mw(){if(Vx)return x_;Vx=1;var e=Yie(),t=Jie(),n=Qie(),r=Xie(),i=ese();function s(o){var a=-1,l=o==null?0:o.length;for(this.clear();++a<l;){var c=o[a];this.set(c[0],c[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,x_=s,x_}var k_,$x;function tse(){if($x)return k_;$x=1;var e=Kg(),t=pw(),n=mw(),r=200;function i(s,o){var a=this.__data__;if(a instanceof e){var l=a.__data__;if(!t||l.length<r-1)return l.push([s,o]),this.size=++a.size,this;a=this.__data__=new n(l)}return a.set(s,o),this.size=a.size,this}return k_=i,k_}var T_,Wx;function gw(){if(Wx)return T_;Wx=1;var e=Kg(),t=Nie(),n=Pie(),r=Die(),i=Lie(),s=tse();function o(a){var l=this.__data__=new e(a);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,T_=o,T_}var O_,Kx;function nse(){if(Kx)return O_;Kx=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return O_=t,O_}var A_,Yx;function rse(){if(Yx)return A_;Yx=1;function e(t){return this.__data__.has(t)}return A_=e,A_}var I_,Zx;function Wj(){if(Zx)return I_;Zx=1;var e=mw(),t=nse(),n=rse();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,I_=r,I_}var M_,Jx;function ise(){if(Jx)return M_;Jx=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return M_=e,M_}var R_,Qx;function Kj(){if(Qx)return R_;Qx=1;function e(t,n){return t.has(n)}return R_=e,R_}var N_,Xx;function Yj(){if(Xx)return N_;Xx=1;var e=Wj(),t=ise(),n=Kj(),r=1,i=2;function s(o,a,l,c,u,d){var f=l&r,h=o.length,m=a.length;if(h!=m&&!(f&&m>h))return!1;var v=d.get(o),_=d.get(a);if(v&&_)return v==a&&_==o;var y=-1,b=!0,C=l&i?new e:void 0;for(d.set(o,a),d.set(a,o);++y<h;){var S=o[y],x=a[y];if(c)var w=f?c(x,S,y,a,o,d):c(S,x,y,o,a,d);if(w!==void 0){if(w)continue;b=!1;break}if(C){if(!t(a,function(E,T){if(!n(C,T)&&(S===E||u(S,E,l,c,d)))return C.push(T)})){b=!1;break}}else if(!(S===x||u(S,x,l,c,d))){b=!1;break}}return d.delete(o),d.delete(a),b}return N_=s,N_}var P_,ek;function Zj(){if(ek)return P_;ek=1;var e=ks(),t=e.Uint8Array;return P_=t,P_}var D_,tk;function sse(){if(tk)return D_;tk=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return D_=e,D_}var L_,nk;function vw(){if(nk)return L_;nk=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return L_=e,L_}var F_,rk;function ose(){if(rk)return F_;rk=1;var e=wd(),t=Zj(),n=hw(),r=Yj(),i=sse(),s=vw(),o=1,a=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",m="[object Set]",v="[object String]",_="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",C=e?e.prototype:void 0,S=C?C.valueOf:void 0;function x(w,E,T,O,k,A,I){switch(T){case b:if(w.byteLength!=E.byteLength||w.byteOffset!=E.byteOffset)return!1;w=w.buffer,E=E.buffer;case y:return!(w.byteLength!=E.byteLength||!A(new t(w),new t(E)));case l:case c:case f:return n(+w,+E);case u:return w.name==E.name&&w.message==E.message;case h:case v:return w==E+"";case d:var P=i;case m:var D=O&o;if(P||(P=s),w.size!=E.size&&!D)return!1;var R=I.get(w);if(R)return R==E;O|=a,I.set(w,E);var F=r(P(w),P(E),O,k,A,I);return I.delete(w),F;case _:if(S)return S.call(w)==S.call(E)}return!1}return F_=x,F_}var j_,ik;function _w(){if(ik)return j_;ik=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return j_=e,j_}var B_,sk;function Gi(){if(sk)return B_;sk=1;var e=Array.isArray;return B_=e,B_}var U_,ok;function Jj(){if(ok)return U_;ok=1;var e=_w(),t=Gi();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return U_=n,U_}var q_,ak;function ase(){if(ak)return q_;ak=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var a=t[r];n(a,r,t)&&(o[s++]=a)}return o}return q_=e,q_}var z_,lk;function Qj(){if(lk)return z_;lk=1;function e(){return[]}return z_=e,z_}var G_,ck;function yw(){if(ck)return G_;ck=1;var e=ase(),t=Qj(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(a){return r.call(o,a)}))}:t;return G_=s,G_}var H_,uk;function lse(){if(uk)return H_;uk=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return H_=e,H_}var V_,dk;function rl(){if(dk)return V_;dk=1;function e(t){return t!=null&&typeof t=="object"}return V_=e,V_}var $_,fk;function cse(){if(fk)return $_;fk=1;var e=Ed(),t=rl(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return $_=r,$_}var W_,hk;function bw(){if(hk)return W_;hk=1;var e=cse(),t=rl(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return W_=s,W_}var uf={exports:{}},K_,pk;function use(){if(pk)return K_;pk=1;function e(){return!1}return K_=e,K_}uf.exports;var mk;function Cw(){return mk||(mk=1,function(e,t){var n=ks(),r=use(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c}(uf,uf.exports)),uf.exports}var Y_,gk;function Sw(){if(gk)return Y_;gk=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Y_=n,Y_}var Z_,vk;function ww(){if(vk)return Z_;vk=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Z_=t,Z_}var J_,_k;function dse(){if(_k)return J_;_k=1;var e=Ed(),t=ww(),n=rl(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",m="[object String]",v="[object WeakMap]",_="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",C="[object Float64Array]",S="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",A={};A[b]=A[C]=A[S]=A[x]=A[w]=A[E]=A[T]=A[O]=A[k]=!0,A[r]=A[i]=A[_]=A[s]=A[y]=A[o]=A[a]=A[l]=A[c]=A[u]=A[d]=A[f]=A[h]=A[m]=A[v]=!1;function I(P){return n(P)&&t(P.length)&&!!A[e(P)]}return J_=I,J_}var Q_,yk;function Ew(){if(yk)return Q_;yk=1;function e(t){return function(n){return t(n)}}return Q_=e,Q_}var df={exports:{}};df.exports;var bk;function xw(){return bk||(bk=1,function(e,t){var n=Hj(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=a}(df,df.exports)),df.exports}var X_,Ck;function Xj(){if(Ck)return X_;Ck=1;var e=dse(),t=Ew(),n=xw(),r=n&&n.isTypedArray,i=r?t(r):e;return X_=i,X_}var ey,Sk;function eB(){if(Sk)return ey;Sk=1;var e=lse(),t=bw(),n=Gi(),r=Cw(),i=Sw(),s=Xj(),o=Object.prototype,a=o.hasOwnProperty;function l(c,u){var d=n(c),f=!d&&t(c),h=!d&&!f&&r(c),m=!d&&!f&&!h&&s(c),v=d||f||h||m,_=v?e(c.length,String):[],y=_.length;for(var b in c)(u||a.call(c,b))&&!(v&&(b=="length"||h&&(b=="offset"||b=="parent")||m&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,y)))&&_.push(b);return _}return ey=l,ey}var ty,wk;function kw(){if(wk)return ty;wk=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return ty=t,ty}var ny,Ek;function tB(){if(Ek)return ny;Ek=1;function e(t,n){return function(r){return t(n(r))}}return ny=e,ny}var ry,xk;function fse(){if(xk)return ry;xk=1;var e=tB(),t=e(Object.keys,Object);return ry=t,ry}var iy,kk;function hse(){if(kk)return iy;kk=1;var e=kw(),t=fse(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var a in Object(s))r.call(s,a)&&a!="constructor"&&o.push(a);return o}return iy=i,iy}var sy,Tk;function Jg(){if(Tk)return sy;Tk=1;var e=Vj(),t=ww();function n(r){return r!=null&&t(r.length)&&!e(r)}return sy=n,sy}var oy,Ok;function xd(){if(Ok)return oy;Ok=1;var e=eB(),t=hse(),n=Jg();function r(i){return n(i)?e(i):t(i)}return oy=r,oy}var ay,Ak;function nB(){if(Ak)return ay;Ak=1;var e=Jj(),t=yw(),n=xd();function r(i){return e(i,n,t)}return ay=r,ay}var ly,Ik;function pse(){if(Ik)return ly;Ik=1;var e=nB(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a,l,c,u){var d=a&t,f=e(s),h=f.length,m=e(o),v=m.length;if(h!=v&&!d)return!1;for(var _=h;_--;){var y=f[_];if(!(d?y in o:r.call(o,y)))return!1}var b=u.get(s),C=u.get(o);if(b&&C)return b==o&&C==s;var S=!0;u.set(s,o),u.set(o,s);for(var x=d;++_<h;){y=f[_];var w=s[y],E=o[y];if(l)var T=d?l(E,w,y,o,s,u):l(w,E,y,s,o,u);if(!(T===void 0?w===E||c(w,E,a,l,u):T)){S=!1;break}x||(x=y=="constructor")}if(S&&!x){var O=s.constructor,k=o.constructor;O!=k&&"constructor"in s&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof k=="function"&&k instanceof k)&&(S=!1)}return u.delete(s),u.delete(o),S}return ly=i,ly}var cy,Mk;function mse(){if(Mk)return cy;Mk=1;var e=kc(),t=ks(),n=e(t,"DataView");return cy=n,cy}var uy,Rk;function gse(){if(Rk)return uy;Rk=1;var e=kc(),t=ks(),n=e(t,"Promise");return uy=n,uy}var dy,Nk;function rB(){if(Nk)return dy;Nk=1;var e=kc(),t=ks(),n=e(t,"Set");return dy=n,dy}var fy,Pk;function vse(){if(Pk)return fy;Pk=1;var e=kc(),t=ks(),n=e(t,"WeakMap");return fy=n,fy}var hy,Dk;function Qg(){if(Dk)return hy;Dk=1;var e=mse(),t=pw(),n=gse(),r=rB(),i=vse(),s=Ed(),o=$j(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=o(e),m=o(t),v=o(n),_=o(r),y=o(i),b=s;return(e&&b(new e(new ArrayBuffer(1)))!=f||t&&b(new t)!=a||n&&b(n.resolve())!=c||r&&b(new r)!=u||i&&b(new i)!=d)&&(b=function(C){var S=s(C),x=S==l?C.constructor:void 0,w=x?o(x):"";if(w)switch(w){case h:return f;case m:return a;case v:return c;case _:return u;case y:return d}return S}),hy=b,hy}var py,Lk;function _se(){if(Lk)return py;Lk=1;var e=gw(),t=Yj(),n=ose(),r=pse(),i=Qg(),s=Gi(),o=Cw(),a=Xj(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function m(v,_,y,b,C,S){var x=s(v),w=s(_),E=x?u:i(v),T=w?u:i(_);E=E==c?d:E,T=T==c?d:T;var O=E==d,k=T==d,A=E==T;if(A&&o(v)){if(!o(_))return!1;x=!0,O=!1}if(A&&!O)return S||(S=new e),x||a(v)?t(v,_,y,b,C,S):n(v,_,E,y,b,C,S);if(!(y&l)){var I=O&&h.call(v,"__wrapped__"),P=k&&h.call(_,"__wrapped__");if(I||P){var D=I?v.value():v,R=P?_.value():_;return S||(S=new e),C(D,R,y,b,S)}}return A?(S||(S=new e),r(v,_,y,b,C,S)):!1}return py=m,py}var my,Fk;function Tw(){if(Fk)return my;Fk=1;var e=_se(),t=rl();function n(r,i,s,o,a){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,a)}return my=n,my}var gy,jk;function yse(){if(jk)return gy;jk=1;var e=Tw();function t(n,r){return e(n,r)}return gy=t,gy}var bse=yse();const iB=_n(bse);function sB(e){return e!==Ye.FREE}const oB=["system-hints"];function aB(){return oB}function iLe(e){return e.getQueryData(aB())}function lB(e,t){return Nt({queryKey:oB,queryFn:async()=>{const n=await ue.safeGet("/system_hints",{authOption:Xt.SendIfAvailable});return G.addFirstTiming("load.systemHints"),n.system_hints.map(({name:r,description:i,action_label:s,short_label:o,logo:a,system_hint:l,aliases:c=[],required_features:u=[],required_models:d=[],required_conversation_modes:f=[],composer_bar_button_info:h,suggested_prompt:m,allow_in_temporary_chat:v,persist_between_messages:_,regex_matches:y,is_auto:b,category:C,requires_opt_in:S})=>({name:r,description:i,actionLabel:s??void 0,shortLabel:o??void 0,logo:a,systemHint:l,aliases:c,requiredFeatures:u,requiredModels:d,requiredConversationModes:f,composerBarButtonInfo:h?{announcementKey:h.announcement_key,disabledText:h.disabled_text,nuxTitle:h.nux_title,nuxDescription:h.nux_description,tooltipText:h.tooltip_text,rateLimitReachedText:h.rate_limit_reached_text??void 0}:void 0,suggestedPrompt:m?{theme:m.theme,title:m.title,subtitle:m.subtitle,sortOrder:m.sort_order,badge:m.badge??void 0}:void 0,allowInTemporaryChat:v,persistBetweenMessages:!!_,regexMatches:y??void 0,isAuto:b,category:C,requiresOptIn:!!S}))},select:t,staleTime:1/0,enabled:e??!0})}const Cse="fetchAccounts";async function Sse({accessToken:e,eventPrefix:t=Cse}={}){const n=qe.getCookie(je.AcceptAccountId);if(n)try{await ue.safePost("/accounts/{account_id}/invites/accept",{parameters:{path:{account_id:n}},accessToken:e,authOption:Xt.SendIfAvailable}),qe.deleteCookie(je.AcceptAccountId),G.addAction(`${t}.accept_invite.success`,{acceptWorkspaceId:n})}catch(r){G.addAction(`${t}.accept_invite.error`,{acceptWorkspaceId:n,error:r instanceof Error?r.message:String(r)})}}const wse=I4.OpenAISidetron;function Ese(e){if(fn(e).isElectron)return wse}function xse(e,t){const n=Ese(e);return n??I4.OpenAI}const kse="ext-oai-did",sLe="ext-login-allow-phone",oLe="ext-whatsapp-al-flow";function Tse(e){return{[kse]:e}}function uc(e,{fallbackScreenHint:t="login_or_signup",useFallbackScreenHint:n=!1,callbackUrl:r=window.location.href,additionalAuthParams:i={},callback:s,shouldOpenPaymentModalOnAuth:o=!1}={}){const a=xse(e,new URL(window.location.href).searchParams);let l=t;!n&&t!=="login_or_signup"&&Wt(e,"1803944755").get("enable_unified_login_or_signup_start_page_at_chatgpt_web",!1)&&(l="login_or_signup"),o&&qe.setBooleanCookie(je.ShowPaymentModal,!0,{maxAge:6*60*60});const c=Vr();return qe.setCookie(je.AuthSessionLoggingId,c),s?.(a),i4.signIn(a,{callbackUrl:r},{prompt:"login",screen_hint:l,...Tse(Vo()),[JX]:c,...i})}const Ose=Ye.FREE,Ase=xf.OWNER,Ise="AccountState";qZ(Ise,e=>({...e,accountItems:e.accountItems.map(t=>new w1(t.data))}));function cB(e){return Date.parse(e)/1e3}function gu(e){if(e==null)return;const t=cB(e);if(!isNaN(t))return t}class w1{constructor(t){this.data=t}get id(){return this.data.id}get residencyRegion(){return this.data.residencyRegion}get computeResidency(){return this.data.computeResidency}get computeResidencyDisplayName(){return this.data.computeResidencyDisplayName}get computeResidencyDescription(){return this.data.computeResidencyDescription}get isHipaaCompliantWorkspace(){return this.data.isHipaaCompliantWorkspace??!1}get structure(){return this.data.structure}get workspaceType(){return this.data.workspaceType}get eligibleForReactivation(){return this.data.eligibleForReactivation}get organizationId(){return this.data.organizationId}get name(){return this.data.name}get features(){return this.data.features}get eligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}getEligiblePromoCampaign(t){return this.eligiblePromoCampaigns?.[t]}getEligiblePromoCampaignId(t){return this.getEligiblePromoCampaign(t)?.id}isEligibleForPlanPromo(t){return!!this.getEligiblePromoCampaignId(t)}isEqual(t){return iB(this.data,t.data)}get planType(){return this.data.subscriptionStatus.planType}get canAccessWithCurrentSession(){return this.data.canAccessWithCurrentSession}get ssoConnectionName(){return this.data.ssoConnectionName}get isDelinquent(){return this.data.subscriptionStatus.isDelinquent}get gracePeriodId(){return this.data.subscriptionStatus.gracePeriodId}get accountUserId(){return this.data.accountUserId}get normalizedAccountUserId(){return this.isPersonalAccount()?this.authUserId:this.data.accountUserId}get authUserId(){return this.data.accountUserId?.split("__")[0]}get subscriptionAnalyticsParams(){const{subscriptionStatus:t}=this.data;return{currentPlanType:t.planType,subscriptionStatus:{billingPeriod:t.billingPeriod,hasPaidSubscription:t.hasPaidSubscription,subscriptionPlan:t.subscriptionPlan,subscriptionExpiresAt:t.subscriptionExpiresAt,wasPaidCustomer:t.wasPaidCustomer}}}isResellerHosted(){return this.data.subscriptionStatus.isResellerHosted}isEnterprisey(){return $g(this.data.subscriptionStatus.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isTeam()}isPro(){return this.data.subscriptionStatus.planType===Ye.PRO}isEdu(){return jh(this.data.subscriptionStatus.planType)}isQuorum(){return this.data.subscriptionStatus.planType===Ye.QUORUM}isTeam(){return this.data.subscriptionStatus.planType===Ye.SELF_SERVE_BUSINESS}isGo(){return this.data.subscriptionStatus.planType===Ye.GO}isPlus(){return this.data.subscriptionStatus.planType===Ye.PLUS}isFree(){return this.data.subscriptionStatus.planType===Ye.FREE}isCBP(){return this.data.subscriptionStatus.planType===Ye.ENTERPRISE_CBP||this.data.subscriptionStatus.planType===Ye.EDUCATION_CBP}isWorkspaceAccount(){return this.data.structure===$r.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}getDaysUntilPlanRenews(){const t=this.data.subscriptionStatus.subscriptionRenewsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getDaysUntilSubscriptionCancelAt(){const t=this.data.subscriptionStatus.subscriptionCancelsAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getDaysUntilPlanDiscountExpires(){const t=gu(this.data.subscriptionStatus.discount?.discount_expires_at);if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}isPersonalAccount(){return this.data.structure===$r.PERSONAL}hasPaidSubscription(){return this.data.subscriptionStatus.hasPaidSubscription}isActiveSubscriptionGratis(){return this.data.subscriptionStatus.isActiveSubscriptionGratis}getSubscriptionBillingCurrency(){return this.data.subscriptionStatus.billingCurrency}mustGetSubscriptionBillingCurrency(t){const n=this.getSubscriptionBillingCurrency();return n!==void 0?(G.addAction("chatgpt_present_subscription_billing_currency",{subscriptionBillingCurrency:n,callLocation:t}),s1(Lt(),"chatgpt_present_subscription_billing_currency",void 0,{subscriptionBillingCurrency:n,callLocation:t}),n):(G.addError(new Error("chatgpt_missing_subscription_billing_currency"),{callLocation:t}),s1(Lt(),"chatgpt_missing_subscription_billing_currency",void 0,{callLocation:t}),FF)}willRenewSubscription(){return this.data.subscriptionStatus.lastActiveSubscription.will_renew}willPlanChange(){return!!this.data.subscriptionStatus.scheduledPlanChange}getDaysUntilPlanChanges(){const t=this.data.subscriptionStatus.scheduledPlanChange?.changesAt;if(t==null)return null;const n=Math.floor(Date.now()/1e3);return Math.ceil((t-n)/(60*60*24))}getNextPlanType(){return this.data.subscriptionStatus.scheduledPlanChange?.planType??null}getLastActiveSubscription(){return this.data.subscriptionStatus.lastActiveSubscription}isDeactivated(){return this.data.deactivated}canInviteMembers(){return this.isTeam()||this.isEnterprisey()&&(this.isOwnerOfAccount()||this.isAdminOfAccount())}isOwnerOfAccount(){return this.data.role===xf.OWNER}isAdminOfAccount(){return this.data.role===xf.ADMIN}isStandardUserOfAccount(){return this.data.role===xf.STANDARD}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}hasCustomerObject(){return this.data.subscriptionStatus.hasCustomerObject}getProcessorEntity(){return this.data.subscriptionStatus.processorEntity}wasPaidCustomer(){return!this.data.subscriptionStatus.hasPaidSubscription&&this.data.subscriptionStatus.wasPaidCustomer}isOrWasPaidCustomer(){return this.data.subscriptionStatus.hasPaidSubscription||this.data.subscriptionStatus.wasPaidCustomer}isEligibleForCancellationPromotion(){return this.data.subscriptionStatus.isEligibleForCancellationPromotion}getEligiblePromoCampaigns(){return this.data.eligiblePromoCampaigns}}class Ow{constructor(t){this.data=t}static fromLightAccount(t,n){return new Ow({lightAccount:t,authUserId:n})}get id(){return this.data.lightAccount.id}get authUserId(){return this.data.authUserId}get structure(){return this.data.lightAccount.structure}get planType(){return this.data.lightAccount.planType}get isDelinquent(){return this.data.lightAccount.isDelinquent}get gracePeriodId(){return this.data.lightAccount.gracePeriodId}get accountUserId(){return this.data.authUserId?this.data.authUserId+"__"+this.data.lightAccount.id:void 0}get normalizedAccountUserId(){return this.isPersonalAccount()?this.data.authUserId:this.accountUserId}isEnterprise(){return Gj(this.planType)}isEnterprisey(){return $g(this.planType)}isRBACEnabled(){return this.isEnterprisey()}isWorkspacePlan(){return this.isEnterprisey()||this.isTeam()}isGo(){return this.planType===Ye.GO}isPro(){return this.planType===Ye.PRO}isEdu(){return jh(this.planType)}isTeam(){return this.planType===Ye.SELF_SERVE_BUSINESS}isBusiness(){return this.planType===Ye.ENTERPRISE_CBP}isPlus(){return this.planType===Ye.PLUS}isFree(){return this.planType===Ye.FREE}isCBP(){return this.planType===Ye.ENTERPRISE_CBP||this.planType===Ye.EDUCATION_CBP}hasPaidSubscription(){return sB(this.planType)}hasPaidFeatures(){return this.hasPaidSubscription()||this.isEnterprisey()}isWorkspaceAccount(){return this.structure===$r.WORKSPACE}getWorkspaceId(){if(this.isWorkspaceAccount())return this.id}isPersonalAccount(){return this.structure===$r.PERSONAL}hasPlusFeatures(){return this.planType!==Ye.FREE}}function Mse(e){return e.account_ordering.map(t=>{const n=e.accounts[t];return new w1({id:n.account.account_id,residencyRegion:n.account.account_residency_region,computeResidency:n.account.account_compute_residency,computeResidencyDisplayName:n.account.account_compute_residency_display_name,computeResidencyDescription:n.account.account_compute_residency_description,accountUserId:n.account.account_user_id,name:n.account.name??null,profilePictureId:n.account.profile_picture_id,profilePictureUrl:n.account.profile_picture_url,structure:n.account.structure,workspaceType:n.account.workspace_type,role:n.account.account_user_role??Ase,organizationId:n.account.organization_id,deactivated:n.account.is_deactivated,eligibleForReactivation:n.account.eligible_for_reactivation,ekmConfig:n.account.ekm_config,isHipaaCompliantWorkspace:n.account.is_hipaa_compliant_workspace,subscriptionStatus:{billingPeriod:n.entitlement.billing_period,hasPaidSubscription:n.entitlement.has_active_subscription||!1,isActiveSubscriptionGratis:n.entitlement.is_active_subscription_gratis||!1,billingCurrency:n.entitlement.billing_currency,subscriptionPlan:n.entitlement.subscription_plan,planType:n.account.plan_type??Ose,subscriptionRenewsAt:gu(n.entitlement.renews_at),subscriptionCancelsAt:gu(n.entitlement.cancels_at),subscriptionExpiresAt:gu(n.entitlement.expires_at),scheduledPlanChange:n.entitlement.scheduled_plan_change?{changesAt:cB(n.entitlement.scheduled_plan_change.changes_at),planType:n.entitlement.scheduled_plan_change.plan_type}:void 0,wasPaidCustomer:n.account.has_previously_paid_subscription??!1,hasCustomerObject:n.account.processor?.a001.has_customer_object??!1,processorEntity:n.account.processor?.a001.processor_entity,lastActiveSubscription:n.last_active_subscription,isResellerHosted:n.account.reseller_hosted_account??!1,discount:n.entitlement.discount,isEligibleForCancellationPromotion:n.entitlement.is_eligible_for_cp??!1,isDelinquent:n.entitlement.is_delinquent,becameDelinquentAt:gu(n.entitlement.became_delinquent_timestamp),gracePeriodEndAt:gu(n.entitlement.grace_period_end_timestamp),gracePeriodId:n.entitlement.grace_period_id},features:[...n.features].sort(),canAccessWithCurrentSession:n.can_access_with_session!==!1,ssoConnectionName:n.sso_connection_name??null,eligiblePromoCampaigns:n.eligible_promo_campaigns??{}})})}function Rse(e,t){const n=e.filter(i=>i.canAccessWithCurrentSession);if(typeof t=="string"){const i=n.find(s=>s.id===t);if(i!==void 0)return i;if(t===Io){const s=n.find(o=>o.structure===$r.PERSONAL);if(s!==void 0)return s}}if(n.length===1||!n.some(i=>i.structure===$r.WORKSPACE))return n[0]}function Nse(e,t){if(e){if(e.structure===$r.WORKSPACE)return e.id;if(t.some(r=>r.structure===$r.WORKSPACE))return Io}}async function Pse(){await Sse({eventPrefix:"fetchAccountState"});const e=await ue.safeGet("/accounts/check/{version}",{parameters:{path:{version:FZ},query:{timezone_offset_min:new Date().getTimezoneOffset().toString()}},intercomEventOnError:"fetch-error:accounts:get",authOption:Xt.SendIfAvailable}),t=qe.getCookie(je.Workspace)??void 0,n=Mse(e),r=Rse(n,t);return{accountItems:n,currentAccountId:r?.id}}function Dse(e,t){return e instanceof w1&&t instanceof w1&&e.isEqual(t)?e:UY(e,t)}const Lse=qi({queryKey:["account-status"],queryFn:Pse,structuralSharing:Dse,staleTime:1/0});function Uo(){return Lse}function Xg(e){return e?.accountItems.find(t=>t.id===e.currentAccountId)??null}function Fse(e){const t=e.getQueryData(Uo().queryKey);return Xg(t)}function x6(e){e!=null?qe.setCookie(je.Workspace,e,{maxAge:UF}):qe.deleteCookie(je.Workspace)}function jse(e){qe.setCookie(je.WorkspaceResidencyRegion,e,{maxAge:UF})}function uB(e,t){const n=qe.getCookie(je.Workspace);return e.structure===$r.WORKSPACE?(x6(e.id),jse(e.residencyRegion)):e.structure===$r.PERSONAL&&t&&x6(Io),qe.deleteCookie(je.DowngradeAccountEnabled),qe.deleteCookie(je.DogfoodingAccountType),{accountCookieChanged:(n??Io)!==(qe.getCookie(je.Workspace)??Io)}}function aLe(e,t,n=!0){const r=e.getQueryData(Uo().queryKey);if(r==null)return{updatedAccount:!1};const i=r.accountItems.find(s=>s.id===t);return i==null?{updatedAccount:!1}:(uB(i,n),e.setQueryData(Uo().queryKey,{...r,currentAccountId:t}),{updatedAccount:!0})}function lLe(e,t,n,r,i,s=!0){const o=e.getQueryData(Uo().queryKey);if(o==null)return{willRedirect:!1,updatedAccount:!1};const a=o.accountItems.find(c=>c.id===t);if(a==null)return{willRedirect:!1,updatedAccount:!1};const{accountCookieChanged:l}=uB(a,s);if(!a.canAccessWithCurrentSession){const c=a.ssoConnectionName?{connection:a.ssoConnectionName}:void 0,u=r.formatMessage(Bk.workspacePlaceholder),d=a.data.name||u;return i.info(r.formatMessage(Bk.authenticateNotice,{workspaceName:d})),uc(n,{fallbackScreenHint:"login",additionalAuthParams:c}),{willRedirect:!0,updatedAccount:!0}}return l?uw():e.setQueryData(Uo().queryKey,{...o,currentAccountId:t}),{willRedirect:!1,updatedAccount:!0}}function dB(){return Nt(Uo())}function Cr(){return Nt({...Uo(),select:Xg}).data??null}const vn=en(e=>{const t=Cd(e),n=t?.user?.id,r=t?.account??null;return r?Ow.fromLightAccount(r,n):null});function cLe(){return Cr()?.isHipaaCompliantWorkspace??!1}function fB(){"use forget";return Cr()?.features}function uLe(e){"use forget";return fB()?.includes(e)??!1}function dLe(){const e=Cr(),t=Vg(e?.getWorkspaceId()),n=t.isLoading?null:t.data?.allow_third_party_gpts==="allow_specific";return e?.isOwnerOfAccount()&&n}function hB(e){return e.accountItems.some(t=>t.hasPaidFeatures())}function fLe(e){return!e?.accountItems.every(n=>n.isPlus()||n.isFree()||n.isGo())}function hLe(e){"use forget";const t=Te.c(5),n=Cr();let r;t[0]!==n?(r=n?.isRBACEnabled(),t[0]=n,t[1]=r):r=t[1];const i=r,s=lB(i);if(!i)return!0;let o;return t[2]!==e||t[3]!==s.data?(o=s.data!=null&&s.data.some(a=>a.systemHint===e),t[2]=e,t[3]=s.data,t[4]=o):o=t[4],o}const Bk=Ot({authenticateNotice:{id:"zALe8U",defaultMessage:"You need to authenticate to access {workspaceName}. Redirecting..."},workspacePlaceholder:{id:"IIY4N4",defaultMessage:"this workspace"}});function Aw(){return qe.getCookie(je.PunchOutInfoToken)}function pLe(){return Aw()!=null}class Bse{constructor({appName:t,appVersion:n,deviceId:r,browserLocale:i,options:s,settings:o,getPunchOut:a=()=>{},addAction:l=(c,u)=>{}}){this.analytics=new Promise(c=>{be(()=>import("./na619z8v8gp8n0tq.js").then(u=>u.v),__vite__mapDeps([3,1])).then(u=>{if(!u){l("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const d=new u.AnalyticsBrowser;d.addSourceMiddleware(Use(this)),c([d])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=i,this.options=s,this.settings=o,this.getPunchOut=a,this.addAction=l}async initialize({user:t}){const n={appName:this.appName,appVersion:this.appVersion};this.addAction("ClientEventsServiceLogger.initialize.start",n),t&&this.identify(t);const[r]=await this.analytics;r.load(this.settings,this.options).catch(()=>{this.addAction("ClientEventsServiceLogger.initialize.failed",n)}),r.ready(()=>{this.addAction("ClientEventsServiceLogger.initialize.success",n)})}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}buildEnvelope(t,n){const r=this.getExtraContext(),i=t.$type,s={userId:this.user?.userId??"",deviceId:this.deviceId,authStatus:String(r.auth_status??""),planType:String(r.user_traits?.plan_type??""),workspaceId:String(r.user_traits?.workspace_id??"")},o={};return{eventClass:"chatgpt_web",eventId:Vr(),eventCreatedAt:new Date().toISOString(),eventType:"client",userParams:s,deviceParams:o,eventParams:{"@type":`openai.buf.dev/openai/protobuf-analytics-events/${i}`,...n}}}async trackStructuredEvent(t,n){const r=this.buildEnvelope(t,n),[i]=await this.analytics;i.track("__protobuf_structured_event__",r)}getExtraContext(){return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?"logged_in":"logged_out",user_traits:this.user?.traits,punch_out_info_token:this.getPunchOut()}}}function Use(e){return({payload:t,next:n})=>{t.obj.context={...t.obj.context,...e.getExtraContext()},n(t)}}function qse(){qe.deleteCookie(je.SegmentUserId),qe.deleteCookie(je.SegmentUserTraits),Kt.removeItem(qt.SegmentUserId),Kt.removeItem(qt.SegmentUserTraits)}const k6=()=>({hash:window.location.hash,path:window.location.pathname,search:window.location.search,url:window.location.href});var Iw=(e=>(e.WINDOW_VISIBILITY_STATE_CHANGED="WINDOW_VISIBILITY_STATE_CHANGED",e.WINDOW_FOCUS_CHANGED="WINDOW_FOCUS_CHANGED",e))(Iw||{}),qa=(e=>(e.LOGIN_CHANGED="LOGIN_CHANGED",e.LOGOUT="LOGOUT",e.QUIT="QUIT",e.SET_COMPANION_WINDOW_VISIBILITY="SET_COMPANION_WINDOW_VISIBILITY",e.SET_WEB_RELEASE_PROPERTIES="WEB_RELEASE_PROPERTIES",e.ERROR_THROWN="ERROR_THROWN",e.ZOOM="ZOOM",e.DESKTOP_SETTING_CHANGED="DESKTOP_SETTING_CHANGED",e.HOTKEY_RECORDING_STATE="HOTKEY_RECORDING_STATE",e.ADD_BREADCRUMB="ADD_BREADCRUMB",e))(qa||{}),e0=(e=>(e.ZOOM_IN="ZOOM_IN",e.ZOOM_OUT="ZOOM_OUT",e.ZOOM_RESET="ZOOM_RESET",e))(e0||{}),pB=(e=>(e.MICROPHONE="MICROPHONE",e))(pB||{});function mLe(){Wn?.publish(qa.ZOOM,{command:e0.ZOOM_IN})}function gLe(){Wn?.publish(qa.ZOOM,{command:e0.ZOOM_OUT})}function vLe(){Wn?.publish(qa.ZOOM,{command:e0.ZOOM_RESET})}function Uk(e){if(_g){const t=Date.now();Wn?.publish(qa.ADD_BREADCRUMB,{message:e,epochTimestamp:t})}}class zse{analytics;appName;appVersion;deviceId;browserLocale;options;settings;user;constructor({appName:t,appVersion:n,deviceId:r,browserLocale:i,options:s,settings:o}){this.analytics=new Promise(a=>{be(()=>import("./na619z8v8gp8n0tq.js").then(l=>l.v),__vite__mapDeps([3,1])).then(l=>{if(!l){G.addAction("ClientEventsServiceLogger.segmentImport.failed",{appName:t,appVersion:n});return}const c=new l.AnalyticsBrowser;c.addSourceMiddleware(Gse(this)),a([c])})}),this.appName=t,this.appVersion=n,this.deviceId=r,this.browserLocale=i,this.options=s,this.settings=o}async initialize({user:t}){const n={appName:this.appName,appVersion:this.appVersion};G.addAction("ClientEventsServiceLogger.initialize.start",n),t&&this.identify(t);const[r]=await this.analytics;r.load(this.settings,this.options).catch(()=>{G.addAction("ClientEventsServiceLogger.initialize.failed",n)}),r.ready(()=>{G.addAction("ClientEventsServiceLogger.initialize.success",n)})}async track(t,n){const[r]=await this.analytics;r.track(t,n,{page:k6()}),Uk(`Web Client Event: ${t} with data: ${JSON.stringify(n)}`)}async trackPageView(){const t=k6(),[n]=await this.analytics;n.page(void 0,t,{page:t}),Uk(`Web Client Page View: ${t.path}`)}async identify(t){this.user=t;const[n]=await this.analytics;n.identify(t.userId,t.traits)}getExtraContext(){return{app_name:this.appName,app_version:this.appVersion,browser_locale:this.browserLocale,device_id:this.deviceId,auth_status:this.user?_r.LoggedIn:_r.LoggedOut,user_traits:this.user?.traits,punch_out_info_token:Aw()}}}function Gse(e){return({payload:t,next:n})=>{t.obj.context={...t.obj.context,...e.getExtraContext()},n(t)}}const mB=Vo(),gB=navigator.language,E1="f0bc637cf0856e6fd16c76bfaa9345ffdec13388",Kp=new zse({appName:"chatgpt",appVersion:E1,deviceId:mB,browserLocale:gB,options:lL,settings:cL}),qk=new Bse({appName:"chatgpt",appVersion:E1,deviceId:mB,browserLocale:gB,options:lL,settings:cL,getPunchOut:Aw,addAction:G.addAction});function Hse(e){const t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="number"||typeof r=="string"||typeof r=="boolean")&&(t[n]=String(r))}),t}const K={initialize({userInfo:e}={}){const t=e?.currentAccount?.structure===$r.WORKSPACE?e.currentAccount.id:null,n=e?{userId:e.sessionUser.id,traits:{plan_type:e.currentAccount?.planType??null,workspace_id:t,workspace_type:e.currentAccount?.workspaceType??null}}:null;Kp.initialize({user:n}),qk.initialize({user:n})},logEvent(e,t){Kp.track(e,{...t,origin:"chat",app_version:E1})},logEventWithStatsig(e,t,n){this.logValueEventWithStatsig({segmentEventName:e,statsigEventName:t,data:n})},logValueEventWithStatsig({segmentEventName:e,value:t,statsigEventName:n,data:r}){const i={...t!=null?{value:t}:{},...r,origin:"chat",app_version:E1};Kp.track(e,i);const s=Hse(i);_t.logEvent(n,t??null,s)},logPageView(){Kp.trackPageView()},logStructuredEvent(e,t){qk.trackStructuredEvent(e,t)},logNewChatButtonClicked({location:e,gizmo_id:t}){this.logEvent("New Chat Button Clicked",{location:e,gizmo_id:t}),_t.logEvent("chatgpt_new_chat_button_clicked",null,{location:e})},logAuthErrorResponse(e){this.logEvent("Auth: Error",{error_code:e}),_t.logEvent("chatgpt_auth_error",e)},logNoAuthAttachButtonClicked(e){this.logEvent("No Auth Attach Button Clicked",e),_t.logEvent("chatgpt_web_no_auth_attach_button_clicked",null,e)},logNoAuthVoiceButtonClicked(e){this.logEvent("No Auth Voice Button Clicked",e),_t.logEvent("chatgpt_web_no_auth_voice_button_clicked",null,e)},logLogInButtonClicked(e){this.logEvent("Auth: Login",e),_t.logEvent("chatgpt_auth_log_in",null,e)},logSignUpButtonClicked(e){this.logEvent("Auth: Signup",e),_t.logEvent("chatgpt_auth_sign_up",null,e)},logLoginOrSignUpButtonClicked(e){this.logEvent("Auth: Login or Signup",e),_t.logEvent("chatgpt_auth_log_in_or_sign_up",null,e)},logLogOutButtonClicked(e){this.logEvent("Auth: Logout",e),_t.logEvent("chatgpt_auth_log_out",null,e)},logRateLimitBannerShown(e){let t,n;switch(e.type){case"account_sharing_degrade":t="Account Sharing Degrade: Show Info",n="chatgpt_account_sharing_degrade_banner_shown";break;case"tatertot-in-context-upsell":case"o3-mini-high-in-context-upsell-free":case"o3-mini-high-in-context-upsell-plus":case"deep-research-in-context-upsell":case"deep-research-in-context-upsell-free":case"codex-in-context-upsell":case"codex-in-context-upsell-plus":t="In-Context Upsell Banner: Show Info",n="chatgpt_in_context_upsell_banner_shown";break;case"agent-connector-in-context-upsell":t="Agent Connector In Context Upsell Banner: Show Info",n="chatgpt_agent_connector_in_context_upsell_banner_shown";break;default:t="Rate Limit: Show Info",n="chatgpt_rate_limit_banner_shown";break}this.logEvent(t,e);const{call_to_action:r,...i}=e,s=i;r?.forEach((o,a)=>{s[`call_to_action.${a}`]=o}),_t.logEvent(n,null,{...s,is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()})},logRateLimitGetPlusButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),_t.logEvent("chatgpt_rate_limit_get_plus_button_clicked",null,{...e,is_new_conversation:e.is_new_conversation?e.is_new_conversation.toString():"",is_hard_block:e.is_hard_block.toString()})},logRateLimitUpgradePlanButtonClicked(e){this.logEvent("Rate Limit: Click Upsell",e),_t.logEvent("chatgpt_rate_limit_upgrade_plan_button_clicked",null,{...e,is_new_conversation:e.is_new_conversation.toString(),is_hard_block:e.is_hard_block.toString()})},logPopoverHover(e){this.logEvent("Popover Hover",e),_t.logEvent("chatgpt_popover_hover",null,e)},logUpsellGetPlusButtonClicked(e){this.logEventWithStatsig("Upsell: Get Plus Clicked","chatgpt_upsell_get_plus_button_clicked",e)},logToggleShowRecents({isOnlyShowingRecents:e}){this.logEvent("Toggle Show Recents",{isOnlyShowingRecents:e}),_t.logEvent("chatgpt_toggle_show_recents",null,{isOnlyShowingRecents:String(e)})},logToggleShowGptList({isCollapsed:e}){this.logEvent("Toggle Show GPT List",{isCollapsed:e})},logToggleDesktopNavCollapsed({isDesktopNavCollapsed:e,action:t}){this.logEvent("Toggle Desktop Nav Collapsed",{isDesktopNavCollapsed:e}),_t.logEvent("chatgpt_toggle_desktop_nav_collapsed",null,{isDesktopNavCollapsed:String(e),action:t})},logTogglePlanManagementModal({isOpen:e}){const t="chatgpt_toggle_plan_management_modal";this.logEvent("Toggle Plan Management Modal",{isOpen:e}),_t.logEvent(t,null,{isOpen:String(e)})},logPaymentSuccess(e){this.logEvent("Subscription: Payment Success Page",e),_t.logEvent("chatgpt_plan_payment_success_page",null,e)},logNetworkError(e){this.logEvent("chatgpt_web_network_error",e),_t.logEvent("chatgpt_web_network_error",null,e)},logFailedToFetchError(e){this.logEvent("chatgpt_web_failed_to_fetch",e),_t.logEvent("chatgpt_web_failed_to_fetch",null,e)}};function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zk.apply(null,arguments)}function Vse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function T6(e,t){return T6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},T6(e,t)}function $se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T6(e,t)}var vy={exports:{}},_y,Gk;function Wse(){if(Gk)return _y;Gk=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _y=e,_y}var yy,Hk;function Kse(){if(Hk)return yy;Hk=1;var e=Wse();function t(){}function n(){}return n.resetWarningCache=t,yy=function(){function r(o,a,l,c,u,d){if(d!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},yy}var Vk;function Yse(){return Vk||(Vk=1,vy.exports=Kse()()),vy.exports}var Zse=Yse();const _Le=_n(Zse),$k={disabled:!1},vB=Fe.createContext(null);var Jse=function(t){return t.scrollTop},ff="unmounted",Tl="exited",Ol="entering",vu="entered",O6="exiting",Wo=function(e){$se(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Tl,s.appearStatus=Ol):l=vu:r.unmountOnExit||r.mountOnEnter?l=ff:l=Tl,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ff?{status:Tl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ol&&o!==vu&&(s=Ol):(o===Ol||o===vu)&&(s=O6)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Ol){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Dl.findDOMNode(this);o&&Jse(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Tl&&this.setState({status:ff})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Dl.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||$k.disabled){this.safeSetState({status:vu},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ol},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:vu},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Dl.findDOMNode(this);if(!s||$k.disabled){this.safeSetState({status:Tl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:O6},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Tl},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Dl.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ff)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Vse(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fe.createElement(vB.Provider,{value:null},typeof o=="function"?o(i,a):Fe.cloneElement(Fe.Children.only(o),a))},t}(Fe.Component);Wo.contextType=vB;Wo.propTypes={};function nu(){}Wo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nu,onEntering:nu,onEntered:nu,onExit:nu,onExiting:nu,onExited:nu};Wo.UNMOUNTED=ff;Wo.EXITED=Tl;Wo.ENTERING=Ol;Wo.ENTERED=vu;Wo.EXITING=O6;function yLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qse(e){const t=p.useRef(null);return p.useInsertionEffect(()=>{t.current=e},[e]),p.useCallback((...n)=>{const r=t.current;return r(...n)},[])}const Xse=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M11.1152 3.91503C11.3868 3.73594 11.756 3.7658 11.9951 4.00488C12.2341 4.24395 12.264 4.61309 12.0849 4.88476L11.9951 4.99511L8.99018 7.99999L11.9951 11.0049L12.0849 11.1152C12.264 11.3869 12.2341 11.756 11.9951 11.9951C11.756 12.2342 11.3868 12.2641 11.1152 12.085L11.0048 11.9951L7.99995 8.99023L4.99506 11.9951C4.7217 12.2685 4.2782 12.2685 4.00483 11.9951C3.73146 11.7217 3.73146 11.2782 4.00483 11.0049L7.00971 7.99999L4.00483 4.99511L3.91499 4.88476C3.73589 4.61309 3.76575 4.24395 4.00483 4.00488C4.24391 3.7658 4.61305 3.73594 4.88471 3.91503L4.99506 4.00488L7.99995 7.00976L11.0048 4.00488L11.1152 3.91503Z"}));var En=(e=>(e.info="info",e.neutral="neutral",e.success="success",e.successNeutral="successNeutral",e.warning="warning",e.danger="danger",e))(En||{});const eoe=Ot({closeButtonLabel:{id:"Alert.closeButtonLabel",defaultMessage:"Close"}}),toe=Fe.memo(function(t){const n=it(),{className:r,intent:i="info",fullWidth:s,children:o,icon:a,onRemove:l,testId:c}=t,u=xe({"px-3 py-2 rounded-lg inline-flex flex-row border pointer-events-auto gap-2":!0,flex:s,"popover shadow-lg bg-token-main-surface-primary text-token-text-secondary dark:border-black/20":i===En.neutral||i===En.info,"border-green-600 bg-green-600 text-white":i===En.success,"border-orange-500 text-white bg-orange-500":i===En.warning,"border-red-500 text-white bg-red-500":i===En.danger,"bg-black text-white border-black dark:bg-white dark:text-black dark:border-white":i===En.successNeutral},r);return g.jsxs("div",{className:u,role:"alert","data-testid":c,children:[a!=null&&g.jsx("div",{className:"mt-1 shrink-0 grow-0",children:g.jsx(a,{className:"icon-sm"})}),g.jsx("div",{className:"flex-1 justify-center gap-2",children:typeof o=="string"?g.jsx("div",{className:"font-semibold",children:o}):o}),l?g.jsx("div",{className:"flex shrink-0 grow-0",children:g.jsx("button",{onClick:l,"aria-label":n.formatMessage(eoe.closeButtonLabel),className:"hover:opacity-80",children:g.jsx(Xse,{className:"icon-sm"})})}):null]})}),noe={liveRegionAssertive:"",liveRegionPolite:""},Yp=hn()(()=>({...noe}));let by,Cy;const roe={setLiveRegionAssertive:e=>{window.clearTimeout(by),Yp.setState({liveRegionAssertive:e}),by=window.setTimeout(()=>{Yp.setState({liveRegionAssertive:""}),by=void 0},5e3)},setLiveRegionPolite:e=>{window.clearTimeout(Cy),Yp.setState({liveRegionPolite:e}),Cy=window.setTimeout(()=>{Yp.setState({liveRegionPolite:""}),Cy=void 0},5e3)}};var Mw=(e=>(e.file_upload_rate_limit_upsell_plus="file_upload_rate_limit_upsell_plus",e))(Mw||{});const Wk=e=>Object.hasOwnProperty.call(e,"id");let ioe=0;class soe{intl;constructor(t){this.intl=t}toasts=[];listeners=new Set;subscribe=t=>(this.listeners.add(t),()=>this.listeners.delete(t));toastsChanged(){this.listeners.forEach(t=>t())}announceToScreenReader(t,n){let r,i;try{switch(n.intent){case En.success:i={defaultMessage:"Success",description:"Prefix for success toast announcements",id:"toast.success"};break;case En.warning:i={defaultMessage:"Warning",description:"Prefix for warning toast announcements",id:"toast.warning"};break;case En.danger:i={defaultMessage:"Error",description:"Prefix for error toast announcements",id:"toast.error"};break;default:i=void 0}i?r=this.intl.formatMessage({id:"SieQiR",defaultMessage:"{prefix}: {message}"},{prefix:this.intl.formatMessage(i),message:t}):r=this.intl.formatMessage({id:"opr5Yt",defaultMessage:"{message}"},{message:t}),roe.setLiveRegionPolite(r)}catch(s){G.addError(s)}}notify(t,n){if(Wk(n))for(const i of this.toasts)String(i.id).startsWith(n.id)&&this.closeToast(i.id);const r=this.createToastInstance(t,n);return this.announceToScreenReader(t,n),this.toasts=[r,...this.toasts],this.toastsChanged(),r}createToastInstance(t,n){const r=++ioe,i=Wk(n)?`${n.id}-${r}`:r;return{id:i,title:t,description:n.description,hasCloseButton:!!n.hasCloseButton,duration:typeof n.duration=="number"?n.duration:5,close:()=>this.closeToast(i),onRemove:n.onRemove,intent:n.intent??En.info,isShown:!0,testId:n.testId,action:n.action}}getToasts(){return this.toasts}closeToast(t){this.toasts=this.toasts.map(n=>n.id===t?{...n,isShown:!1}:n),this.toastsChanged()}removeToast(t){this.toasts.find(n=>n.id===t)?.onRemove?.(),this.toasts=this.toasts.filter(n=>n.id!==t),this.toastsChanged()}closeAll(){this.toasts.forEach(t=>t.close())}info(t,n){return this.notify(t,{...n,intent:En.info})}success(t,n){return this.notify(t,{...n,intent:En.success})}successNeutral(t,n){return this.notify(t,{...n,intent:En.successNeutral})}warning(t,n){return this.notify(t,{...n,intent:En.warning})}danger(t,n){let r="",i="",s="";return typeof t=="string"?(r=t,i=t):(r=this.intl.formatMessage(t),i=String(t.defaultMessage??""),s=String(t.description??"")),K.logEvent("error_toast_shown",{category:n?.toastId??"unknown",title:n?.loggingTitle??i,description:n?.loggingDescription??s}),this.notify(r,{...n,intent:En.danger})}}const ooe={[En.success]:P8,[En.successNeutral]:P8,[En.warning]:ed,[En.danger]:ed},aoe=({zIndex:e,action:t,duration:n,onRemove:r,intent:i=En.info,title:s,description:o,hasCloseButton:a,isShown:l=!0,testId:c})=>{const u=me(),[d,f]=p.useState(0),h=zi(),m=vn(u),[v,_]=p.useState(l),y=p.useRef(null),b=p.useRef(null),C=Qse(()=>{r?.(),x(),_(!1)}),S=p.useCallback(()=>{n&&(b.current=setTimeout(()=>{C()},n*1e3))},[C,n]);p.useEffect(()=>(S(),()=>{x()}),[v,S]);const x=()=>{b.current&&(clearTimeout(b.current),b.current=null)},w=()=>{x()},E=()=>{S()},T=A=>{if(A===null)return;const{height:I}=A.getBoundingClientRect();f(I)},O=Wt(u,"1916748563"),k=t&&t===Mw.file_upload_rate_limit_upsell_plus&&O.get("is_upgrade_link_shown",!1);return g.jsx(Wo,{appear:!0,unmountOnExit:!0,timeout:240,in:v,onExited:r,nodeRef:y,children:A=>g.jsx("div",{ref:y,"data-state":A,className:"toast-root",onMouseEnter:w,onMouseLeave:E,style:{height:d,zIndex:e,marginBottom:v?0:-d},children:g.jsx("div",{ref:T,className:"w-full p-1 text-center md:w-auto md:text-justify",children:g.jsx(toe,{icon:ooe[i]??void 0,intent:i,onRemove:a?()=>C():void 0,testId:c,children:k?g.jsxs("div",{className:"flex w-full items-center gap-3",children:[g.jsx("div",{className:"flex-1 text-start text-sm whitespace-pre-wrap",children:s}),g.jsx(Vt,{onClick:I=>{I.preventDefault(),dn(u)?(F4(h,"Plus upsell toast"),K.logRateLimitGetPlusButtonClicked({location:"toast",type:"upsell_plus",plan_type:m?.planType??"unknown",is_hard_block:!1,hard_block_reason:""})):uc(u,{callback:P=>{K.logLogInButtonClicked({location:"file upload rate limit toast",provider:P})}})},color:"secondary",size:"small",className:"shrink-0",children:g.jsx(Ce,{...dn(u)?wte(u):Gs.logInButtonText})})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:xe("text-start whitespace-pre-wrap",{"font-semibold":o!=null&&o!==""}),children:s}),o&&g.jsx("div",{children:o})]})})})})})},_B=p.createContext(null),{Provider:loe}=_B;function Sn(){"use forget";return p.useContext(_B)}function coe(){"use forget";const e=Te.c(4),t=Sn();let n;e[0]!==t?(n=i=>t.subscribe(i),e[0]=t,e[1]=n):n=e[1];let r;return e[2]!==t.toasts?(r=()=>t.toasts,e[2]=t.toasts,e[3]=r):r=e[3],p.useSyncExternalStore(n,r,uoe)}function uoe(){return[]}function doe(){"use forget";const e=Te.c(10),t=coe(),n=Sn();let r,i,s;if(e[0]!==n||e[1]!==t){s=Symbol.for("react.early_return_sentinel");e:{const a=t.filter(foe);if(a.length===0){s=null;break e}r="pointer-events-none fixed inset-0 z-60 mx-auto my-2 flex max-w-[728px] flex-col items-stretch justify-start md:pb-5";let l;e[5]!==n?(l=c=>{const{id:u,...d}=c;return g.jsx(aoe,{...d,onRemove:()=>n.removeToast(u)},u)},e[5]=n,e[6]=l):l=e[6],i=a.map(l)}e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=s}else r=e[2],i=e[3],s=e[4];if(s!==Symbol.for("react.early_return_sentinel"))return s;let o;return e[7]!==r||e[8]!==i?(o=g.jsx("span",{className:r,children:i}),e[7]=r,e[8]=i,e[9]=o):o=e[9],o}function foe(e){return e.isShown!==!1}function hoe(e){"use forget";const t=Te.c(6),{children:n}=e,r=it();let i;t[0]!==r?(i=()=>new soe(r),t[0]=r,t[1]=i):i=t[1];const[s]=p.useState(i);let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=g.jsx(DF,{children:g.jsx(doe,{})}),t[2]=o):o=t[2];let a;return t[3]!==n||t[4]!==s?(a=g.jsx(Rg,{name:"toaster_boundary_error",children:g.jsxs(loe,{value:s,children:[n,o]})}),t[3]=n,t[4]=s,t[5]=a):a=t[5],a}function is(){return qi({queryKey:["userSettings"],queryFn:()=>ue.safeGet("/settings/user",{authOption:Xt.SendIfAvailable})})}const Rw=en(e=>Th(e,is));function yB(e){const{session:t}=Ah(),n=t!=null;return Nt({...is(),enabled:n,select:e})}function poe(e){return yB(t=>t.settings?.[e])}function moe(){const e=cr();return jn({mutationFn:({model_slug:t,thinking_effort:n})=>ue.safePatch("/settings/user_last_used_model_config",{parameters:{query:{model_slug:t,thinking_effort:n}}}),onSuccess:()=>{e.invalidateQueries(is())}})}function goe(e=!1){const t=cr(),n=Sn(),r=it(),i=Ot({updatePermissionError:{id:"user.permissions.updatePermissionError",defaultMessage:"Unable to update permissions: {error}"}});return jn({mutationFn:({setting:s,value:o})=>{const a=typeof o=="string"||typeof o=="boolean"?o.toString():JSON.stringify(o);return ue.safePatch("/settings/account_user_setting",{parameters:{query:{feature:s,value:a}}})},onMutate:async({setting:s,value:o})=>{if(e){await t.cancelQueries(is());const a=t.getQueryData(is().queryKey);return t.setQueryData(is().queryKey,l=>l?.settings?{...l,settings:{...l.settings,[s]:o}}:l),{previousValue:a}}},onError:(s,o,a)=>{e&&a!==void 0&&t.setQueryData(is().queryKey,a.previousValue);const l=s;l&&l.status===403&&l.code==="feature-locked-by-owner"&&n.danger(r.formatMessage(i.updatePermissionError,{error:l.message}))},onSuccess:(s,{setting:o})=>{t.invalidateQueries(is()),o===Ec.DeveloperMode&&t.invalidateQueries({queryKey:aB()})}})}const voe=["default","blue","green","yellow","pink","orange"],_oe=["purple"],yoe=["black"],boe=e=>{const t=vn(e)?.planType,n=t===Ye.PLUS,r=t===Ye.PRO,i=t===Ye.SELF_SERVE_BUSINESS||$g(t),o=!jh(t)&&(n||r||i)||$o(e);return[...voe,...o?_oe:[],...r?yoe:[]]};function bB(e){return $o(e)?!0:Wt(e,"1187049270").get("themes_enabled",!1)}const CB=en(e=>hn(()=>Kt.getItem(t0(e),{userId:vn(e)?.normalizedAccountUserId})??"default")),Nw=(e,t)=>{CB(e).setState(t),Kt.setItem(t0(e),t,{userId:vn(e)?.normalizedAccountUserId})},Coe=(e,t)=>{$o(e)&&(SB(t),Nw(e,t))};function Soe(){const e=me();return CB(e)()}function bLe(){const e=me(),t=bB(e),n=Soe(),r=goe();return t?{isLoading:!1,value:n,setValue:i=>{r.mutate({setting:Ec.ChatTheme,value:i}),Nw(e,i)}}:{isLoading:!1,value:"default",setValue:()=>{}}}const woe=({cspScriptNonce:e})=>{const t=me();if(!bB(t))return null;const n=Rm(t0(t),{userId:vn(t)?.normalizedAccountUserId});return g.jsx("script",{nonce:e,suppressHydrationWarning:!0,children:`!function(){try{const t=localStorage.getItem(${JSON.stringify(n)});document.documentElement.dataset.chatTheme="string"==typeof t?JSON.parse(t):void 0}catch(e){}}();`})};function Eoe(e){const t=boe(e),n=_i(()=>{if($o(e)){const s=Kt.getItem(t0(e),{userId:vn(e)?.normalizedAccountUserId});return h6(s,t,"default")}const i=Rw(e)().data?.settings?.[Ec.ChatTheme]??Kt.getItem(qt.ChatTheme,{userId:vn(e)?.normalizedAccountUserId});return h6(i,t,"default")});return _X(()=>{const r=n();SB(r),Nw(e,r)})}function t0(e){return $o(e)?qt.ChatThemeOverride:qt.ChatTheme}function SB(e){document.documentElement.dataset.chatTheme=e}var xoe=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge",e))(xoe||{});const n0={small:640,medium:768,large:1024,xlarge:1280};function koe(e,t){const n=HF(),r=p.useRef(null),i=p.useCallback(s=>{if(n==null)return()=>{};const o=n.matchMedia(e),a=new AbortController;return o.addEventListener("change",l=>{const c=l.matches,u=c!==r.current?.result;r.current={win:n,query:e,result:c},u&&s()},{signal:a.signal}),()=>{a.abort()}},[e,n]);return p.useSyncExternalStore(i,()=>{const s=Cs(n);if(r.current?.win!==s||r.current?.query!==e){const o=s.matchMedia(e).matches;r.current={win:s,query:e,result:o}}return r.current.result},t)}function Toe(e,t){return window.matchMedia(e).matches}function Tc(e,t){return[()=>koe(e,t),()=>Toe(e)]}const[Ooe]=Tc("(prefers-reduced-motion: reduce)",()=>!1),[r0,CLe]=Tc(`(min-width: ${n0.small}px)`,()=>!IZ()),[wB,Aoe]=Tc(`(min-width: ${n0.medium}px)`,()=>u4()||d4()),[SLe,wLe]=Tc(`(min-width: ${n0.large}px)`,d4),[ELe]=Tc(`(min-width: ${n0.xlarge}px)`,()=>!1),[xLe,EB]=Tc("(pointer: coarse)",rL),[Ioe,kLe]=Tc("(hover: hover)",d4);function TLe(){return!wB()}function Moe(){const e={composer:{autofocusDisabled$:Tt(vg()||Q7()),reset:()=>{e.composer.autofocusDisabled$.set(EB()||Q7())}},projects:{createOrUpdateProject$:Tt(void 0),moveConversationToProject$:Tt(void 0),renamingProjectId$:Tt(void 0),reset:()=>{e.projects.renamingProjectId$.set(void 0)}}};return e}const Roe=en(Moe),Noe="{{.assetPrefix}}/assets/chatgpt-share-og-u7j5uyao.webp",Poe={src:Noe},Doe="{{.assetPrefix}}/assets/favicon-180x180-od45eci6.webp",Loe={src:Doe},Foe="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVfSURBVHgB5VuLUeMwEJWZKyBUgK8Cch2khHRwpgJCBQkVJFSQpAKggtBBuAocKiBUsKcX24wtZHlXlpIwvJkdYyLJ2q/WKzlRkUFEqb6MNF1rSksalNc6dpr25fWfpldQkiQ79d2gmR5pmmvKqT+2mpYYU50z9AQHmqaBmG5DrimjwqrOAzXG3+l4yMtnpuqU0BO4PTLjNkFk6tiA5DVt6HyQ07GsgU6v9TZgThMVE1RE9nPHVMUAFUvRd8GSy1fCaaQH3OrLUH0vIIn609WoUwClNDMVCPv9Xu12u88rkKbp4TocDtVgMFABsdJCuFG+oGKt7Y3NZkOTyYQ0o4RhXYQ24/GYVqsVvb8HibVz5QMqor03MPnZbEZao51MuyjLMsrznHpCtjpQsc57iT8U44EFAV5SxQV55vMwda6Zj0ajA1Mg/K39n9UPruGJDZf5jDywWCxaJw5rQAyAgLr8mhMvYGGemHQxD9PPSQhMqE1jy+WSfIG+bYJAoPQIkugwcAlgSkK0MT+dTkNFcZrP59aYAtfxwCyY9m3MQ2Pb7ZZCAwHQZg1wFyHsVkBC34ev2pgPsGS1AhZlC5aIP0LMbALIub1t2ojNfAWbEOAewmfnJvMiZ8LSZWohhtm3AcyaMcEjHozqAlhye+HhtoB3bDw+Pn6ZB9xSgEVdAGz1mdqH6Z8K0HoPK8jr0Z/Xw6J91zqP37BSxIoNtkAstIIUAhhzW4MhrvbrSyTahcoJTJhWIMwSswslKHQ8Pz837nU21tr25eXl82+89z88PKgY0PGnca/fFZQAQ1jAI1dcZuR1RX5kb6rfUsUCLMucl8DantgBEMyaDHXBXK8RQGPAdAOsEExs4QKsGhRKWA3bGXZ7jraCxj3Ms+4aoVCV1Cq8vb0pJgYQQMppWdXvPnsyandaM1/ixP39vQoNUwCmslxdL5QnuMVLWEG9LSwgtBVcXV017k1lueAtAAlMYQk0FB3RBQCTr2sE5upaPn3w8fHRuJeU1iGAHafh5eVl456jRTBursvmuh0CPvGp6vpLFcdSOnF9fd24f3197exzc9Pck9DL4IEaM9CTv7u76xwPAdWMJ/UxXHN1YN8rEXIlHGbaDLIlQrZXayUshkoSNANPcAH2ommu/WZqXMd6vW7c397eflmuDioQBERbW1hO/f+wEE6OUnUXlcLMGqDr9RO1OsWoFkFb3L0EjgUJs82x6HXYTIeVw9zgHhACytcckwRzLmqDKTxBGnzofrADEtQDzbw7Vn7PgWmRwuLM9tMR9A27rBqgCBEEtrqgcBNmWReAqJZkWkHMgodkDtIhGuGQBG5gswL4+rFg25ARaj9XJjCuZIR6lK/IY5dGDBvzHnEoswkAFQ6RHZtm6DkZNtq24qSbItR2VoCEVgC/t63hoXeJMJZN2J7Pmak2kIcVtG1aqjJ17SMI12kT/M9jNyqnrpMiuoHYkcFk2wkPCAduIZksxnMds+lhYZnJb9IihI0qPnIQAW91eqe29Xe8CyBPB6GKU73ZIZfHOz3yelSLXBUdvBXqbM/nON0uSZLfrJbU45CU61RHH4I1oNTuCdkhqVIIvda0UIIA4wFOm/gdoiZBiuwSBJIkybE5tEXUh8YDZJgzF4+co7IrffmrAgD+DT9H3R5+D6p8GVfEhSpGBDoyu9Z+n7ka/PjD0qyqcDnQWn0frDnMi0HCTPFEWKiYoGJ1+JmfzNSE4HWiNCI2dIpP6KgoqOZ0OhxP6w4hwBpmRxbEe/nMoJ+X9EIpiNgWkZ8d4zZQUWNckeD4XQfTyEhHKgJYiVAfUBGchiVVn9B3fT6P3SpsFr7E/nz+P3T08cw43Z8wAAAAAElFTkSuQmCC",joe="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20%3e%3crect%20width='64'%20height='64'%20rx='32'%20fill='white'%20/%3e%3cpath%20d='M34.2043%2037.0916H41.6359'%20stroke='black'%20stroke-width='3.42172'%20stroke-linecap='round'%20/%3e%3cpath%20d='M32.089%2053.6889C28.2099%2053.6889%2024.6248%2052.7289%2021.3334%2050.809C18.0421%2048.8499%2015.4169%2046.2247%2013.4578%2042.9334C11.5378%2039.642%2010.5779%2036.0569%2010.5779%2032.1778C10.5779%2028.2987%2011.5378%2024.7136%2013.4578%2021.4222C15.4169%2018.1309%2018.0421%2015.5253%2021.3334%2013.6054C24.6248%2011.6462%2028.2099%2010.6667%2032.089%2010.6667C35.968%2010.6667%2039.5532%2011.6462%2042.8445%2013.6054C46.1359%2015.5253%2048.7415%2018.1309%2050.6614%2021.4222C52.6205%2024.7136%2053.6001%2028.2987%2053.6001%2032.1778C53.6001%2036.0569%2052.6205%2039.642%2050.6614%2042.9334C48.7415%2046.2247%2046.1359%2048.8499%2042.8445%2050.809C39.5532%2052.7289%2035.968%2053.6889%2032.089%2053.6889ZM32.089%2049.6923C35.2628%2049.6923%2038.1818%2048.9087%2040.8462%2047.3414C43.5498%2045.7741%2045.6853%2043.6582%2047.2526%2040.9938C48.8199%2038.2902%2049.6035%2035.3516%2049.6035%2032.1778C49.6035%2029.004%2048.8199%2026.0849%2047.2526%2023.4205C45.6853%2020.717%2043.5498%2018.5815%2040.8462%2017.0142C38.1818%2015.4469%2035.2628%2014.6633%2032.089%2014.6633C28.9152%2014.6633%2025.9765%2015.4469%2023.273%2017.0142C20.6086%2018.5815%2018.4927%2020.717%2016.9254%2023.4205C15.3581%2026.0849%2014.5745%2029.004%2014.5745%2032.1778C14.5745%2035.3516%2015.3581%2038.2902%2016.9254%2040.9938C18.4927%2043.6582%2020.6086%2045.7741%2023.273%2047.3414C25.9765%2048.9087%2028.9152%2049.6923%2032.089%2049.6923ZM24.2133%2039.7008C23.6648%2039.7008%2023.1946%2039.5049%2022.8028%2039.1131C22.411%2038.7212%2022.215%2038.2511%2022.215%2037.7025C22.215%2037.3499%2022.313%2037.0364%2022.5089%2036.7621L25.2713%2032.0602L22.6265%2027.5935C22.3522%2027.1625%2022.215%2026.7706%2022.215%2026.418C22.215%2025.9086%2022.411%2025.458%2022.8028%2025.0662C23.1946%2024.6744%2023.6648%2024.4785%2024.2133%2024.4785C24.9186%2024.4785%2025.4672%2024.7919%2025.859%2025.4188L29.0328%2030.8848C29.2679%2031.2766%2029.3854%2031.6684%2029.3854%2032.0602C29.3854%2032.4521%2029.2679%2032.8439%2029.0328%2033.2357L25.859%2038.7017C25.4672%2039.3678%2024.9186%2039.7008%2024.2133%2039.7008ZM34.2048%2039.1131C33.6563%2039.1131%2033.1861%2038.9172%2032.7943%2038.5253C32.4025%2038.1335%2032.2065%2037.6633%2032.2065%2037.1148C32.2065%2036.6054%2032.4025%2036.1548%2032.7943%2035.763C33.1861%2035.3712%2033.6563%2035.1752%2034.2048%2035.1752H41.7279C42.2372%2035.1752%2042.6878%2035.3712%2043.0796%2035.763C43.4715%2036.1548%2043.6674%2036.6054%2043.6674%2037.1148C43.6674%2037.6633%2043.4715%2038.1335%2043.0796%2038.5253C42.6878%2038.9172%2042.2372%2039.1131%2041.7279%2039.1131H34.2048Z'%20fill='black'%20/%3e%3c/svg%3e",Boe="{{.assetPrefix}}/assets/favicon-eex17e9e.ico",Uoe="{{.assetPrefix}}/assets/favicon-l4nq08hd.svg";function qoe(e){if(typeof document>"u")throw new Error("not supported in SSR");const t=document.createElement("template");return t.innerHTML=e,t.innerHTML}function zoe(e){return`data:image/svg+xml;utf8,${encodeURIComponent(e)}`}const OLe=({svgString:e,...t})=>{const n=p.useMemo(()=>qoe(e),[e]);return n?g.jsx("img",{src:zoe(n),...t}):null},ALe=({svgString:e,className:t,color:n})=>g.jsx(Rg,{name:"StringToSVG",fallback:g.jsx("div",{className:t}),children:g.jsx("div",{className:xe("[&_svg]:h-full [&_svg]:w-full",t),dangerouslySetInnerHTML:{__html:e},style:{color:n}})}),ru=Ot({description:{id:"meta.description",defaultMessage:"ChatGPT helps you get answers, find inspiration and be more productive. It is free to use and easy to try. Just ask and ChatGPT can help with writing, learning, brainstorming and more."},keywords:{id:"meta.keywords",defaultMessage:"ai chat,ai,chap gpt,chat gbt,chat gpt 3,chat gpt login,chat gpt website,chat gpt,chat gtp,chat openai,chat,chatai,chatbot gpt,chatg,chatgpt login,chatgpt,gpt chat,open ai,openai chat,openai chatgpt,openai"},ogDescription:{id:"meta.ogDescription",defaultMessage:"A conversational AI system that listens, learns, and challenges"}}),Goe=[{property:"og:title",content:"ChatGPT"},{property:"og:image",content:Poe.src}];function iu(e,t){const n=new URL(e,window.location.origin);return t&&n.searchParams.set("locale",t),n.toString()}function Hoe(){const e=it(),t=me(),n=Ci(t).checkGate("3125419433"),r=Rr();return mg().some(o=>o.handle?.hasRouteMeta)?null:n?g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"description",content:e.formatMessage(ru.description)}),g.jsx("meta",{name:"keyword",content:e.formatMessage(ru.keywords)}),g.jsx("meta",{property:"og:description",content:e.formatMessage(ru.ogDescription)}),g.jsx("meta",{property:"og:url",content:iu("/",fn(t).locale)}),g.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),oie().map(o=>g.jsx("link",{rel:"alternate",hrefLang:o,href:iu(r.pathname,o)},o)),g.jsx("link",{rel:"alternate",hrefLang:"x-default",href:iu(r.pathname)}),g.jsx("link",{rel:"canonical",href:iu(r.pathname)})]}):g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"description",content:ru.description.defaultMessage}),g.jsx("meta",{name:"keyword",content:ru.keywords.defaultMessage}),g.jsx("meta",{property:"og:description",content:ru.ogDescription.defaultMessage}),g.jsx("meta",{property:"og:url",content:iu("/")}),g.jsx("meta",{property:"og:site_name",content:"ChatGPT"}),g.jsx("link",{rel:"canonical",href:iu("/")})]})}function Voe(){"use forget";const e=Te.c(6),t=me();let n;e[0]!==t?(n=Wt(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=n):n=e[1];const r=n;let i;e[2]!==r?(i=r&&g.jsx("link",{rel:"manifest",href:"/manifest.json"}),e[2]=r,e[3]=i):i=e[3];let s;return e[4]!==i?(s=g.jsx(g.Fragment,{children:i}),e[4]=i,e[5]=s):s=e[5],s}function $oe({pathname:e}){if(e!=="/")return null;const t={"@context":"https://schema.org","@type":"WebSite",url:window.location.origin+"/",name:"ChatGPT"};return g.jsx("script",{id:"website-ld",type:"application/ld+json",children:JSON.stringify(t)})}function Woe(){"use forget";const e=Te.c(12),t=me(),{pathname:n}=Rr(),r=!n.startsWith("/share")&&!n.startsWith("/s")&&!n.startsWith("/canvas/shared");let i;e[0]!==t?(i=Wt(t,"3927927759").get("enable_mobile_app_upsell_banner",!1),e[0]=t,e[1]=i):i=e[1];const s=i;let o,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=g.jsx("link",{rel:"preconnect",href:"{{.assetPrefix}}"}),a=g.jsx("link",{rel:"preconnect",href:window.location.origin}),e[2]=o,e[3]=a):(o=e[2],a=e[3]);let l;e[4]!==r?(l=r&&g.jsx("meta",{name:"robots",content:"index, follow"}),e[4]=r,e[5]=l):l=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=g.jsx("meta",{httpEquiv:"Content-Type",content:"text/html; charset=utf-8"}),e[6]=c):c=e[6];let u;e[7]!==s?(u=s&&g.jsx("meta",{name:"apple-itunes-app",content:"app-id=6448311069"}),e[7]=s,e[8]=u):u=e[8];let d;return e[9]!==l||e[10]!==u?(d=g.jsxs(g.Fragment,{children:[o,a,l,c,u]}),e[9]=l,e[10]=u,e[11]=d):d=e[11],d}function Kk({href:e}){return g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:e,type:"image/svg+xml"}),g.jsx("link",{rel:"icon",href:e,type:"image/svg+xml",media:"(prefers-color-scheme: dark)"})]})}function Koe(){"use forget";const e=Te.c(5),{pathname:t}=Rr();let n;e[0]!==t?(n=t.startsWith("/codex")?g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:Foe,sizes:"32x32"}),g.jsx(Kk,{href:joe})]}):g.jsxs(g.Fragment,{children:[g.jsx("link",{rel:"icon",href:Boe,sizes:"32x32"}),g.jsx(Kk,{href:Uoe})]}),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r=g.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:Loe.src}),e[2]=r):r=e[2];let i;return e[3]!==n?(i=g.jsxs(g.Fragment,{children:[n,r]}),e[3]=n,e[4]=i):i=e[4],i}const A6=e=>e;function Yoe(e){const t=new WeakMap;return function(n){if(t.has(n))return t.get(n);{const r=e(n);return t.set(n,r),r}}}function Zoe(e){const t=new WeakMap;return function(n,r){let i=t.get(n);if(i||(i=new WeakMap,t.set(n,i)),i.has(r))return i.get(r);{const s=e(n,r);return i.set(r,s),s}}}var sd=(e=>(e.ContentOrTos="content_or_tos",e.ContentPolicy="content_policy",e.BioSafetyContentPolicy="bio_safety_content_policy",e.ModelIncompatibility="model_incompatibility",e.ContentRegurgitation="content_regurgitation",e))(sd||{});const xB={errType:"warning",errCode:"content_policy"},Joe={errType:"danger",errCode:"model_incompatibility"},Qoe={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy"},kB={err:"Contents may violate our content policy",errType:"danger",errCode:"content_policy",shouldDisableConversation:!0},Xoe={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1},eae={errType:"danger",errCode:"bio_safety_content_policy",canRetry:!1,shouldDisableConversation:!0},TB=(e,t)=>!e.length||t?null:{disclaimers:e},OB=({isSafetyLimited:e,shouldDisableConversation:t,isModelIncompatibility:n})=>e?t?eae:Xoe:t?kB:n?Joe:Qoe;class tae{isMultimodalTextMessage(t){return t.content.content_type===$e.MultimodalText}isPartAssetPointer(t){return typeof t!="string"&&(t.content_type===zn.ImageAssetPointer||t.content_type===zn.AudioAssetPointer)}isBase64ImagePart(t){return typeof t!="string"&&t.content_type===zn.Image}isPartRealTimeUserAudioVideoAssetPointer(t){return typeof t!="string"&&t.content_type===zn.RealTimeUserAudioVideoAssetPointer}isPartAudioTranscription(t){return typeof t!="string"&&t.content_type===zn.AudioTranscription}getAudio(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>typeof n!="string"&&n.content_type===zn.Audio):[]}getAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.filter(n=>this.isPartAssetPointer(n)):[]}getImageAssetPointers(t){return this.isMultimodalTextMessage(t)?this.getImageAssetPointersFromParts(t.content.parts):[]}getImageAssetPointersFromParts(t){return t.filter(n=>this.isPartAssetPointer(n)&&n.content_type===zn.ImageAssetPointer)}getFrameAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>{if(typeof n!="string"&&n.content_type===zn.RealTimeUserAudioVideoAssetPointer)return n.frames_asset_pointers}).filter(n=>!!n):[]}getAudioAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.map(n=>{if(typeof n!="string")switch(n.content_type){case zn.AudioAssetPointer:return n;case zn.RealTimeUserAudioVideoAssetPointer:return n.audio_asset_pointer;default:return}}).filter(n=>!!n):[]}getVideoContainerAssetPointers(t){return this.isMultimodalTextMessage(t)?t.content.parts.flatMap(n=>typeof n!="string"&&n.content_type===zn.RealTimeUserAudioVideoAssetPointer?n.video_container_asset_pointer:null).filter(n=>!!n):[]}getImageOperationFileIds(t){const n=t.metadata?.dalle?.from_client?.operation??t.metadata?.generation?.from_client?.operation;return n?.type==="inpainting"?{operation:"inpainting",originalFileId:n.original_file_id,maskFileId:n.mask_file_id}:n?.type==="transformation"?{operation:"transformation",originalFileId:n.original_file_id}:void 0}getPartsAsString(t,n=!0){return this.isMultimodalTextMessage(t)?t.content.parts.map(r=>{if(typeof r=="string")return r;if(this.isPartAudioTranscription(r))return r.text;if(n){if(this.isPartAssetPointer(r))return`[media pointer="${r.asset_pointer}"]`;if(this.isPartRealTimeUserAudioVideoAssetPointer(r)){const i=r.audio_asset_pointer?.asset_pointer;return i&&`[media pointer="${i}"]`}else if(this.isBase64ImagePart(r))return r.payload}else return!1}).filter(Boolean).join(`
`):""}}const i0=new tae,nae=["image_gen"];var Ne=(e=>(e[e.no_render=0]="no_render",e[e.BrowseTool=1]="BrowseTool",e[e.Browsing=2]="Browsing",e[e.CanmoreTool=3]="CanmoreTool",e[e.Container=4]="Container",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.CodeInterpreterTool=6]="CodeInterpreterTool",e[e.Dalle=7]="Dalle",e[e.DalleTool=8]="DalleTool",e[e.GizmoEditor=9]="GizmoEditor",e[e.JITPlugin=10]="JITPlugin",e[e.JITPluginTool=11]="JITPluginTool",e[e.JITPluginGoogleTool=12]="JITPluginGoogleTool",e[e.ImagePreloadTool=13]="ImagePreloadTool",e[e.ModelEditableContext=14]="ModelEditableContext",e[e.MultimodalText=15]="MultimodalText",e[e.ParallelBrowsing=16]="ParallelBrowsing",e[e.ParallelBrowsingTool=17]="ParallelBrowsingTool",e[e.RetrievalBrowsing=18]="RetrievalBrowsing",e[e.RetrievalBrowsingTool=19]="RetrievalBrowsingTool",e[e.SearchResultTool=20]="SearchResultTool",e[e.SearchGPTQuery=21]="SearchGPTQuery",e[e.System=22]="System",e[e.SystemContent=23]="SystemContent",e[e.DeveloperContent=24]="DeveloperContent",e[e.Text=25]="Text",e[e.StructuredThoughts=26]="StructuredThoughts",e[e.ReasoningRecap=27]="ReasoningRecap",e[e.UserEditableContext=28]="UserEditableContext",e[e.UserModelBio=29]="UserModelBio",e[e.UserModelBioTool=30]="UserModelBioTool",e[e.Unknown=31]="Unknown",e[e.de1d73e=32]="de1d73e",e[e.a8km123=33]="a8km123",e[e.f959b8c=34]="f959b8c",e[e.b1de6e2_c=35]="b1de6e2_c",e[e.b1de6e2_s=36]="b1de6e2_s",e[e.b1de6e2_d=37]="b1de6e2_d",e[e.b1de6e2_rm=38]="b1de6e2_rm",e[e.l1p9k3u=39]="l1p9k3u",e[e.l1239dk1=40]="l1239dk1",e[e.l1239dk2=41]="l1239dk2",e[e.is_loading_message=42]="is_loading_message",e[e.b47u8ra0_t=43]="b47u8ra0_t",e[e.oiw209h=44]="oiw209h",e[e.oiw209h_c=45]="oiw209h_c",e[e.t2uay3k=46]="t2uay3k",e[e.t2uay3k_c=47]="t2uay3k_c",e[e.c12k321=48]="c12k321",e[e.Oboe=49]="Oboe",e[e.CoTSearchToolCall=50]="CoTSearchToolCall",e[e.CoTSearchToolResult=51]="CoTSearchToolResult",e[e.n7jupd_c=52]="n7jupd_c",e[e.n7jupd_r=53]="n7jupd_r",e[e.n7jupd_t=54]="n7jupd_t",e[e.n7jupd_m=55]="n7jupd_m",e[e.n7jupd_x=56]="n7jupd_x",e[e.n7jupd_a=57]="n7jupd_a",e[e.n7jupd_n=58]="n7jupd_n",e[e.n7jupd_p=59]="n7jupd_p",e[e.n7jupd_image_gen=60]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=61]="n7jupd_native_api_tool",e[e.PIMBlock=62]="PIMBlock",e[e.Mochi=63]="Mochi",e[e.SuperWidget=64]="SuperWidget",e[e.Croquette=65]="Croquette",e[e.kaur1br5=66]="kaur1br5",e[e.e1ld0dvz=67]="e1ld0dvz",e[e.Glaux=68]="Glaux",e))(Ne||{}),Ra=(e=>(e.BROWSER="browser",e.CANMORE="canmore",e.MTBROWSER="mtbrowser",e.WIKI_BROWSER="wiki_browser",e.MYFILES_BROWSER="myfiles_browser",e.FILE_SEARCH="file_search",e.GDRIVE_BROWSER="gdrive_browser",e.BROWSING_TEAM="browsing_team",e.BIO="bio",e.PYTHON="python",e.DALLE="dalle",e.GIZMO_EDITOR="gizmo_editor",e.JIT_PLUGIN="jit_plugin",e.SEARCH_RESULT="search_result",e.SEARCH_RESULTS="search_results",e.A8KM123="a8km123",e.SEARCHGPT="web",e.SEARCH_COT="web.run",e.DE1D73E="de1d73e",e.L1P9K3U="l1p9k3u",e.L1239DK1="l1239dk1",e.CONTAINER="container",e.COMPUTER="computer",e.OIW209H="oiw209h",e.T2UAY3K="t2uay3k",e.START_RESEARCH_TASK="research_kickoff_tool.start_research_task",e.CLARIFY_WITH_TEXT="research_kickoff_tool.clarify_with_text",e.ADVANCED_VOICE="advanced_voice",e.OBOE="oboe",e.IMAGE_GEN_HALLUCINATED="image_gen",e.n7jupd_m="n7jupd.metadata",e.IMAGEGEN_MAKE_IMAGE="imagegen.make_image",e.SUPER_WIDGET="super_widget",e.E1LD0DVZ="e1ld0dvz",e))(Ra||{});function Yk(e){return e&&[4202148095,653746659,45870204,111655449].some(t=>zr(t,e))}function rae(e){const n=I6(e.author.name)?.namespace,r=["browser","container","computer"];return e.metadata?.n7jupd_message&&r.includes(n)&&e.content.content_type===$e.Text}function iae(e,t){return e&&zr(t,e.split(".")[0])}function gs(e){if(e.metadata?.n7jupd_subtool&&(e.metadata.n7jupd_subtool.subtool?.includes("api_tool")||e.metadata.n7jupd_subtool.result_of_subtool?.includes("api_tool")))return 57;if(e.metadata?.n7jupd_message&&(e.recipient?.includes("api_tool")||e.author?.name?.includes("api_tool")))return 61;if(e.metadata?.is_pim_warning)return 62;if(e.metadata?.n7jupd_message&&e.content.content_type===$e.StructuredThoughts)return 54;if(e.metadata?.is_auto_proceed_message)return 59;if(e.metadata?.is_takeover_ended_message)return 58;if(e.content.content_type===$e.StructuredThoughts)return 26;if(e.content.content_type===$e.ReasoningRecap)return 27;if(e.metadata?.b1de6e2_c)return 35;if(e.recipient==="l1p9k3u"||e.author.name==="l1p9k3u")return 39;if(e.author.name==="l1239dk1"||e.recipient==="l1239dk1")return 40;if(e.author.name?.startsWith("container"))return zr(3061204740,e.author.name)&&e?.metadata?.n7jupd_message?6:4;if(e.author.role===He.Assistant&&e.metadata?.async_task_id!=null&&e.metadata?.async_task_turn_id!=null)return 41;if(e.metadata?.b1de6e2_s||e.recipient==="research_kickoff_tool.start_research_task")return 36;if(e.metadata?.b1de6e2_d)return 37;if(e.metadata?.b1de6e2_rm)return 38;if(e.metadata?.is_loading_message)return 42;if(e.metadata?.b47u8ra0_t)return 43;if(e.metadata?.f959b8c)return 34;if(e.recipient?.startsWith("e1ld0dvz")||e.author.name?.startsWith("e1ld0dvz"))return 67;if(Yk(e.author.name)||Yk(e.recipient)||rae(e))return 0;const t="kaur1br5";if(e.recipient?.startsWith(t)||e.author.name?.startsWith(t))return 66;if(e.author.role===He.Assistant&&iae(e.recipient,724319625))return 52;if(e.content.content_type===$e.ComputerOutput)return 53;if(e.author.role===He.Assistant){if(nae.some(r=>e.recipient?.startsWith(r)))return 31;const n=I6(e.recipient);if(e.recipient==="browser"||e.recipient==="wiki_browser"||n?.namespace==="mtbrowser")return 2;if(e.recipient==="web"||e.recipient?.startsWith("web."))return 21;if(e.recipient==="web.run"&&(e?.metadata?.search_queries?.length??0)>0)return 50;if(e.recipient==="myfiles_browser"||e.recipient==="gdrive_browser"||n?.namespace==="file_search"||n?.namespace==="myfiles_browser")return 18;if(e.recipient==="browsing_team")return 16;if(e.recipient==="bio")return 29;if(e.recipient==="python")return 5;if(e?.metadata?.n7jupd_message&&(zr(3179801956,e.recipient)||zr(3061204740,e.recipient)))return 5;if(n?.namespace==="dalle"||e.recipient==="dalle")return 7;if(n?.namespace==="t2uay3k"||e.recipient==="t2uay3k")return 46;if(n?.namespace==="oiw209h"||e.recipient==="oiw209h")return 44;if(n?.namespace==="gizmo_editor")return 9;if(n?.namespace==="container")return 4;if(n?.namespace==="canmore")return 3;if(n?.namespace==="de1d73e")return 32;if(Qk(n?.namespace)||Jk(n?.namespace)||Xk(n?.namespace))return 10;if(n!=null)return 31;if(e.content.content_type===$e.ModelEditableContext)return 14}else if(e.author.role===He.Tool){const n=I6(e.author.name);if(e.author.name==="browser"||e.author.name==="wiki_browser"||n?.namespace==="mtbrowser")return 1;if(e.author.name==="myfiles_browser"||e.author.name==="gdrive_browser"||e.author.name==="file_search"||n?.namespace==="file_search"||n?.namespace==="myfiles_browser")return 19;if(e.author.name==="browsing_team")return 17;if(e.author.name==="web.run"&&(e?.metadata?.search_result_groups?.length??0)>0)return 51;if(e.author.name==="search_result"&&e.content.content_type===$e.TetherQuote)return 20;if(e.author.name==="search_results"&&e.content.content_type===$e.TetherBrowsingDisplay)return 13;if(e.author.name==="bio")return 30;if(e.author.name==="a8km123")return 33;if(e.author.name==="python")return 6;if(zr(3179801956,e.author.name))return 6;if(n?.namespace==="dalle"||e.author.name==="dalle")return 8;if(n?.namespace==="t2uay3k"||e.author.name==="image_gen")return 47;if(e.metadata?.image_gen_async)return 46;if(n?.namespace==="gizmo_editor")return 9;if(n?.namespace==="canmore")return 3;if(Qk(n?.namespace)||Jk(n?.namespace))return 11;if(Xk(n?.namespace))return 12;if(n?.namespace==="de1d73e")return 32;if(n?.namespace==="oiw209h")return 45;if(e.author.name?.startsWith("web."))return 22;if(e.author.name==="research_kickoff_tool.start_research_task")return 36;if(e.author.name==="research_kickoff_tool.clarify_with_text")return 0;if(e.author.name==="n7jupd.metadata")return 55;if(e.author.name==="imagegen.make_image")return 60;if(n?.namespace==="browser")return 56;if(e.author.name==="super_widget")return 64;if(n!=null||e.author.name==="plugin_service")return sae(e)}else{if(e.author.role===He.System||e.author.role===He.Developer)return e.metadata?.n7jupd_message?22:e.metadata?.rebase_system_message||e.content.content_type===$e.SystemMessage||e.content.content_type===$e.SystemContent?23:e.metadata?.rebase_developer_message||e.content.content_type===$e.DeveloperContent?24:22;if(e.author.role===He.User&&(e.content.content_type===$e.UserEditableContext||e.metadata?.is_user_system_message))return 28}return e.content.content_type===$e.Text||e.content.content_type===$e.MultimodalText?25:31}function sae(e){return e.create_time&&e.create_time>17172e5?G.addError("[Unknown tool] Encountered a message with an unknown tool. Rendering as Unknown message type, which is not visible.",{message:e}):G.addError("[Unknown tool] Encountered a message with an unknown tool, which is most likely an old plugin. Rendering as Unknown message type, which may not appear as expected.",{message:e}),31}function oae(e){return e.metadata?.finish_details!=null}function s0(e){return e.content.content_type===$e.Text?e.content.parts.some(t=>t.length>0):e.content.content_type===$e.MultimodalText?i0.getPartsAsString(e).length>0:!1}function AB(e){return s0(e)?!0:"text"in e.content?e.content.text.length>0:"result"in e.content?e.content.result.length>0:!1}function aae(e){if(!Dw(e))return!1;switch(e.content.content_type){case $e.StructuredThoughts:{const{thoughts:t}=e.content;return t.some(n=>(n.summary?.trim()?.length??0)>0||(n.content?.trim()?.length??0)>0)}case $e.ReasoningRecap:{const{content:t}=e.content;return(t?.trim()?.length??0)>0}case $e.Code:case $e.ExecutionOutput:case $e.TetherBrowsingCode:{const{text:t}=e.content;return(t?.trim()?.length??0)>0}case $e.TetherBrowsingDisplay:{const{result:t}=e.content;return(t?.trim()?.length??0)>0}case $e.ComputerOutput:return!0;case $e.Text:case $e.MultimodalText:return s0(e);default:return!1}}function lae(e){return e.metadata?.finish_details?.type==="stop"}function cae(e){return e?.metadata?.finish_details?.type==="max_tokens"}function ILe(e){return e.metadata?.finish_details?.type==="interrupted"}function uae(e){return e.metadata?.message_type==="continue"}function I6(e){if(e==null||!e.includes("."))return null;const[t,n]=e.split(".");return{namespace:t,functionName:n}}function dae(e,t){return{id:Vr(),author:{role:He.System},content:{content_type:$e.Text,parts:Array.isArray(e)?e:[e]},metadata:t}}function Zk(e,t,n,r=Vr()){return{id:r,author:{role:He.Assistant},content:{content_type:$e.Text,parts:Array.isArray(e)?e:[e]},metadata:t,clientMetadata:n}}function Pw(e,t,n){const r={role:He.User};return n&&(r.metadata=n),{id:Vr(),author:r,create_time:Date.now()/1e3,content:typeof e=="string"?{content_type:$e.Text,parts:[e]}:e,metadata:t}}function MLe(e){return dae([`The user is referring to this in particular:
${e}`],{exclude_after_next_user_message:!0})}function RLe(e){return Pw(e,{is_visually_hidden_from_conversation:!0})}function NLe(e){return{id:Vr(),author:{role:He.System},content:e,metadata:{rebase_system_message:!0},recipient:"all"}}function Jk(e){return e==="api_tool"||e==="ecosystem_demo"||e==="genui"||e==="kanzi_app"}function Qk(e){if(!e)return!1;const t=e.split("__");return t.findIndex(n=>n==="jit_plugin")===t.length-1}function Xk(e){return e==="gmail"||e==="gcal"||e==="gcontacts"}function eT(e){return e.author.role===He.Assistant?e.metadata?.gizmo_id:void 0}function _u(e){return e.author.role===He.User&&!e.metadata?.is_user_system_message}function fae(e){return e.metadata?.is_contextual_retry_user_message}function IB(e){return _u(e)&&!fae(e)||e.author.metadata?.is_system_initiated_conversation===!0}function Dw(e){return e.metadata?.reasoning_status!=null}function za(e){const t=gs(e);return t===22||t===23||t===24||t===29||t===30||t===14||t===28||t===31||!(t===46||t===47)&&!(t===58)&&e.metadata?.is_visually_hidden_from_conversation===!0}function x1(e){switch(gs(e)){case 23:case 24:case 28:case 14:return!0;default:return!1}}function hae(e){return i0.isMultimodalTextMessage(e)&&e.content.parts.some(t=>typeof t!="string"&&t.content_type===zn.VideoAssetPointer)}function PLe(e){return!!(hae(e)||Qf(e)&&AB(e)||aae(e))}function Qf(e){if(za(e))return!1;if((e.metadata?.attachments?.length??0)>0)return!0;if(e.metadata?.reasoning_status)return!1;if(e.clientMetadata?.errCode&&Object.values(sd).some(t=>t===e.clientMetadata?.errCode))return!0;switch(gs(e)){case 25:case 62:return s0(e);case 3:return AB(e);case 46:case 59:case 58:case 5:case 6:return!0;default:return!1}}function MB(e){return za(e)?!1:gs(e)===25&&s0(e)}function DLe(e){return za(e)?!1:gs(e)===47&&e.status==="finished_successfully"&&e.recipient==="all"}function pae(e){const t=e.recipient;return!!t&&(t.includes("image_gen")||t.includes("image_gen")||t.includes("t2uay3k"))}var Sy,tT;function mae(){if(tT)return Sy;tT=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Sy=e,Sy}var gae=mae();const dc=_n(gae),vae="contentReference",_ae="writing",LLe=[_ae];function FLe(e){try{const n=new Intl.Segmenter("en-US",{granularity:"grapheme"}).segment(e),r=[];for(const i of n)r.push(i.segment);return r}catch{return e.split("")}}function yae(e){const t=[];for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r!==void 0&&(t.push(r),r>65535&&n++)}return t}function RB(e){const t=e.trim();if("Intl"in window&&"Segmenter"in Intl){const n=navigator.language||"en-US",i=new Intl.Segmenter(n,{granularity:"word"}).segment(t);let s=0;for(const o of i)o.isWordLike&&s++;return s}return t.split(/\s+/).filter(n=>n.length>0).length}function nT(e){return String.fromCodePoint(...e)}function jLe(e){return e.replaceAll(/[\s_]+/g,"-").replaceAll(/([a-z0-9])([A-Z])/g,"$1-$2").replaceAll(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replaceAll(/-+/g,"-").toLowerCase()}function bae(e,t=[]){const n=o0(t);return Lw(n,e,{includeDirectives:!1})}function BLe(e,t=[]){const n=o0(t);return Lw(n,e,{includeDirectives:!0})}function ULe(e,t=[],n,r,i=!0,s){const o=o0(t,r);let a=0,l=o.filter(({index:u,displayType:d})=>u!=null&&d).reduce((u,{index:d,newContentReference:f})=>((f.type==="grouped_webpages"||f.type==="grouped_webpages_v2"||f.type==="grouped_webpages_model_predicted_fallback")&&(f.items=f.items.map(h=>({...h,section_index:a++}))),u[d]=f,u),[]),c=Lw(o,e);return i&&(c=Cae(c)),l=Sae(s,l),n&&(s?.length??0)===0&&({updatedText:c,updatedReferences:l}=wae(n,l,c)),{processedText:c,displayedContentReferences:l}}function o0(e=[],t){return[...e.entries()].sort(([,i],[,s])=>i.start_idx-s.start_idx||i.end_idx-s.end_idx).reduce((i,[s,o])=>{let a,l;switch(o.type){case"invalid":case"hidden":a={...o,type:"hidden",invalid:o.type==="invalid"};break;case"image_v2":case"nav_list":case"tldr":case"optimistic_image_citation":case"sources_footnote":case"sports_standings":case"sports_schedule":case"navigation":case"checkout_confirmation":case"video":case"file_navlist":o.type==="tldr"&&o.used_as_navigation||o.type==="navigation"?a={...o,type:"hidden",invalid:!0}:(l="block",a={...o});break;case"file":case"python":case"container":case"title_citation":case"location_search":case"time":case"entity":case"entity_metadata":case"map":case"product_entity":case"grouped_webpages":case"grouped_webpages_v2":case"grouped_webpages_model_predicted_fallback":case"attribution":case"image_inline":l="inline",a={...o};break;case"webpage":case"webpage_extended":l="inline",a={type:"grouped_webpages",matched_text:o.matched_text,start_idx:o.start_idx,end_idx:o.end_idx,alt:o.alt,refs:o.refs,prompt_text:o.prompt_text,items:[{...o}],safe_urls:o.safe_urls};break;case"calculator":case"stock":case"forecast":case"businesses_map":case"products":case"product_reviews":case"product_rationale":case"image_group":l="block",a={...o};break;default:a={...o,type:"hidden",invalid:!0},l="alt";break}return i.push({originalContentReference:o,newContentReference:a,index:s,displayType:l}),t&&i.push({originalContentReference:o,newContentReference:{type:"debug",matched_text:o.matched_text.replace(/(^【|】$)/g,""),...o.type==="webpage_extended"&&o.pub_date&&{pub_date:new Date(o.pub_date*1e3).toLocaleString()}},index:s}),i},[])}const M6="​",qLe="";function Lw(e,t,n={includeDirectives:!0}){let r="",i=0;const s=yae(t);for(const o of e){const{originalContentReference:a,displayType:l,index:c}=o,{start_idx:u,end_idx:d}=a,f=s.slice(i,u);if(r+=nT(f),i=d,l)if(n.includeDirectives)switch(l){case"block":r+=`
`+R6(c,"leaf")+`
`;break;case"inline":{r.endsWith("```")&&(r+=`
`),r.length!==0&&r[r.length-1].match(/[:\\]/)&&(r+=M6),/https?:\/\/[^\s]*$/.test(r)&&(r+=" "),r+=R6(c,"inline");break}case"alt":r+=a.alt??"";break}else r+=a.alt??""}return r+=nT(s.slice(i)),r}function R6(e,t){return`${t==="leaf"?"::":":"}${vae}[oaicite:${e}]{index=${e}}`}function Cae(e){let t=e;t=t.replace(/【[^】]*$/g,"");const n=t.match(/(\n|^):::/g);return n&&n.length%2===1&&(t+=`
:::`),t=t.replace(/^\d+$/,""),t}function Sae(e,t){return t.map(r=>{if(r.type==="python"){const i=e?.find(s=>s.metadata?.python_citation?.citation_id===r.citation_id);return{...r,cited_message:i,highlighted_text:rT(i?.metadata?.python_citation?.annotated_text??"",r.starting_line,r.ending_line)}}else if(r.type==="container"){const i=e?.find(s=>s.metadata?.container_citation?.citation_id===r.citation_id);return{...r,cited_message:i,highlighted_text:rT(i?.metadata?.container_citation?.annotated_parts?.join(`
`)??"",r.starting_line,r.ending_line)}}return r})}function wae(e,t,n){const r=e.find(s=>gs(s)===Ne.CodeInterpreter),i=e.find(s=>gs(s)===Ne.CodeInterpreterTool);if(r!=null&&i!=null){const s=t.length;n.endsWith("```")&&(n+=`
`),n+=" "+M6+R6(s,"inline")+M6,t.push({type:"code_execution",codeMessage:r,codeExecutionOutputMessage:i})}return{updatedText:n,updatedReferences:t}}function rT(e,t,n){const r=e.split(`
`),i=r.findIndex(l=>l.startsWith(`${t}:`)),s=r.findIndex(l=>l.startsWith(`${n}:`));return i===-1||s===-1||s<i?null:r.slice(i,s+1).map(l=>l.replace(/^L\d+:\s*/,"").trim()).join(`
`)}function Bh(e,t={shouldGetTextFromContentReferences:!1,shouldGetVisibleText:!1}){if(t.shouldGetVisibleText&&!MB(e))return"";switch(e.content.content_type){case $e.Text:{const n=e.content.parts.join("");return t.shouldGetTextFromContentReferences&&e.metadata?.content_references?bae(n,e.metadata.content_references):n}case $e.MultimodalText:return i0.getPartsAsString(e,!t.shouldGetVisibleText);case $e.TetherBrowsingDisplay:return e.content.result;case $e.TetherQuote:case $e.TetherBrowsingCode:case $e.Code:case $e.ExecutionOutput:case $e.SystemError:return e.content.text;case $e.SystemMessage:case $e.SystemContent:return e?.metadata?.__internal?.rendered_harmony_string??JSON.stringify(e.content,null,2);case $e.UserEditableContext:return`${e.content.user_profile}
${e.content.user_instructions}`;case $e.SonicWebpage:return`[${e.content.ref_id}] ${e.content.title} (${e.content.url})`;case $e.StructuredThoughts:return e.content.thoughts.map(n=>`**${n.summary}**

${n.content}`).join(`

`);case $e.ReasoningRecap:return e.content.content;default:return""}}var wy,iT;function Eae(){if(iT)return wy;iT=1;var e=gw(),t=Tw(),n=1,r=2;function i(s,o,a,l){var c=a.length,u=c,d=!l;if(s==null)return!u;for(s=Object(s);c--;){var f=a[c];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++c<u;){f=a[c];var h=f[0],m=s[h],v=f[1];if(d&&f[2]){if(m===void 0&&!(h in s))return!1}else{var _=new e;if(l)var y=l(m,v,h,s,o,_);if(!(y===void 0?t(v,m,n|r,l,_):y))return!1}}return!0}return wy=i,wy}var Ey,sT;function NB(){if(sT)return Ey;sT=1;var e=ro();function t(n){return n===n&&!e(n)}return Ey=t,Ey}var xy,oT;function xae(){if(oT)return xy;oT=1;var e=NB(),t=xd();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],a=r[o];i[s]=[o,a,e(a)]}return i}return xy=n,xy}var ky,aT;function PB(){if(aT)return ky;aT=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return ky=e,ky}var Ty,lT;function kae(){if(lT)return Ty;lT=1;var e=Eae(),t=xae(),n=PB();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return Ty=r,Ty}var Oy,cT;function a0(){if(cT)return Oy;cT=1;var e=Ed(),t=rl(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Oy=r,Oy}var Ay,uT;function Fw(){if(uT)return Ay;uT=1;var e=Gi(),t=a0(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var a=typeof s;return a=="number"||a=="symbol"||a=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return Ay=i,Ay}var Iy,dT;function Tae(){if(dT)return Iy;dT=1;var e=mw(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,a=i?i.apply(this,o):o[0],l=s.cache;if(l.has(a))return l.get(a);var c=r.apply(this,o);return s.cache=l.set(a,c)||l,c};return s.cache=new(n.Cache||e),s}return n.Cache=e,Iy=n,Iy}var My,fT;function Oae(){if(fT)return My;fT=1;var e=Tae(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return My=n,My}var Ry,hT;function Aae(){if(hT)return Ry;hT=1;var e=Oae(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,a,l,c){s.push(l?c.replace(n,"$1"):a||o)}),s});return Ry=r,Ry}var Ny,pT;function DB(){if(pT)return Ny;pT=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return Ny=e,Ny}var Py,mT;function Iae(){if(mT)return Py;mT=1;var e=wd(),t=DB(),n=Gi(),r=a0(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(a){if(typeof a=="string")return a;if(n(a))return t(a,o)+"";if(r(a))return s?s.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Py=o,Py}var Dy,gT;function Mae(){if(gT)return Dy;gT=1;var e=Iae();function t(n){return n==null?"":e(n)}return Dy=t,Dy}var Ly,vT;function l0(){if(vT)return Ly;vT=1;var e=Gi(),t=Fw(),n=Aae(),r=Mae();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return Ly=i,Ly}var Fy,_T;function Uh(){if(_T)return Fy;_T=1;var e=a0();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Fy=t,Fy}var jy,yT;function jw(){if(yT)return jy;yT=1;var e=l0(),t=Uh();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return jy=n,jy}var By,bT;function Rae(){if(bT)return By;bT=1;var e=jw();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return By=t,By}var Uy,CT;function Nae(){if(CT)return Uy;CT=1;function e(t,n){return t!=null&&n in Object(t)}return Uy=e,Uy}var qy,ST;function Pae(){if(ST)return qy;ST=1;var e=l0(),t=bw(),n=Gi(),r=Sw(),i=ww(),s=Uh();function o(a,l,c){l=e(l,a);for(var u=-1,d=l.length,f=!1;++u<d;){var h=s(l[u]);if(!(f=a!=null&&c(a,h)))break;a=a[h]}return f||++u!=d?f:(d=a==null?0:a.length,!!d&&i(d)&&r(h,d)&&(n(a)||t(a)))}return qy=o,qy}var zy,wT;function LB(){if(wT)return zy;wT=1;var e=Nae(),t=Pae();function n(r,i){return r!=null&&t(r,i,e)}return zy=n,zy}var Gy,ET;function Dae(){if(ET)return Gy;ET=1;var e=Tw(),t=Rae(),n=LB(),r=Fw(),i=NB(),s=PB(),o=Uh(),a=1,l=2;function c(u,d){return r(u)&&i(d)?s(o(u),d):function(f){var h=t(f,u);return h===void 0&&h===d?n(f,u):e(d,h,a|l)}}return Gy=c,Gy}var Hy,xT;function Bw(){if(xT)return Hy;xT=1;function e(t){return t}return Hy=e,Hy}var Vy,kT;function Lae(){if(kT)return Vy;kT=1;function e(t){return function(n){return n?.[t]}}return Vy=e,Vy}var $y,TT;function Fae(){if(TT)return $y;TT=1;var e=jw();function t(n){return function(r){return e(r,n)}}return $y=t,$y}var Wy,OT;function jae(){if(OT)return Wy;OT=1;var e=Lae(),t=Fae(),n=Fw(),r=Uh();function i(s){return n(s)?e(r(s)):t(s)}return Wy=i,Wy}var Ky,AT;function qh(){if(AT)return Ky;AT=1;var e=kae(),t=Dae(),n=Bw(),r=Gi(),i=jae();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return Ky=s,Ky}var Yy,IT;function Bae(){if(IT)return Yy;IT=1;var e=qh(),t=Jg(),n=xd();function r(i){return function(s,o,a){var l=Object(s);if(!t(s)){var c=e(o,3);s=n(s),o=function(d){return c(l[d],d,l)}}var u=i(s,o,a);return u>-1?l[c?s[u]:u]:void 0}}return Yy=r,Yy}var Zy,MT;function FB(){if(MT)return Zy;MT=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return Zy=e,Zy}var Jy,RT;function Uae(){if(RT)return Jy;RT=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Jy=t,Jy}var Qy,NT;function qae(){if(NT)return Qy;NT=1;var e=Uae(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Qy=n,Qy}var Xy,PT;function jB(){if(PT)return Xy;PT=1;var e=qae(),t=ro(),n=a0(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=t(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=s.test(c);return d||o.test(c)?a(c.slice(2),d?2:8):i.test(c)?r:+c}return Xy=l,Xy}var e2,DT;function zae(){if(DT)return e2;DT=1;var e=jB(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-1/0){var s=i<0?-1:1;return s*n}return i===i?i:0}return e2=r,e2}var t2,LT;function Gae(){if(LT)return t2;LT=1;var e=zae();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return t2=t,t2}var n2,FT;function Hae(){if(FT)return n2;FT=1;var e=FB(),t=qh(),n=Gae(),r=Math.max,i=Math.min;function s(o,a,l){var c=o==null?0:o.length;if(!c)return-1;var u=c-1;return l!==void 0&&(u=n(l),u=l<0?r(c+u,0):i(u,c-1)),e(o,t(a,3),u,!0)}return n2=s,n2}var r2,jT;function Vae(){if(jT)return r2;jT=1;var e=Bae(),t=Hae(),n=e(t);return r2=n,r2}var $ae=Vae();const Nm=_n($ae),i2=-1;var BB=(e=>(e[e.Text=0]="Text",e[e.MultiText=1]="MultiText",e[e.StructuredThoughts=2]="StructuredThoughts",e[e.ReasoningRecap=3]="ReasoningRecap",e[e.Browsing=4]="Browsing",e[e.CodeInterpreter=5]="CodeInterpreter",e[e.JITPlugin=6]="JITPlugin",e[e.RetrievalBrowsing=7]="RetrievalBrowsing",e[e.ParallelBrowsing=8]="ParallelBrowsing",e[e.Dalle=9]="Dalle",e[e.Canmore=10]="Canmore",e[e.Container=11]="Container",e[e.GizmoEditor=12]="GizmoEditor",e[e.SearchResult=13]="SearchResult",e[e.Debug=14]="Debug",e[e.SearchGPTQuery=15]="SearchGPTQuery",e[e.l1p9k3u=16]="l1p9k3u",e[e.a8km123=17]="a8km123",e[e.f959b8c=18]="f959b8c",e[e.b1de6e2_c=19]="b1de6e2_c",e[e.b1de6e2_s=20]="b1de6e2_s",e[e.b1de6e2_d=21]="b1de6e2_d",e[e.b1de6e2_rm=22]="b1de6e2_rm",e[e.is_loading_message=23]="is_loading_message",e[e.b47u8ra0_t=24]="b47u8ra0_t",e[e.de1d73e=25]="de1d73e",e[e.oiw209h=26]="oiw209h",e[e.c12k321=27]="c12k321",e[e.t2uay3k=28]="t2uay3k",e[e.Oboe=29]="Oboe",e[e.CoTSearchTool=30]="CoTSearchTool",e[e.n7jupd=31]="n7jupd",e[e.n7jupd_x=32]="n7jupd_x",e[e.n7jupd_a=33]="n7jupd_a",e[e.n7jupd_n=34]="n7jupd_n",e[e.n7jupd_p=35]="n7jupd_p",e[e.n7jupd_image_gen=36]="n7jupd_image_gen",e[e.n7jupd_native_api_tool=37]="n7jupd_native_api_tool",e[e.PIMBlock=38]="PIMBlock",e[e.Mochi=39]="Mochi",e[e.SuperWidget=40]="SuperWidget",e[e.Croquette=41]="Croquette",e[e.kaur1br5=42]="kaur1br5",e[e.e1ld0dvz=43]="e1ld0dvz",e[e.Glaux=44]="Glaux",e))(BB||{});const Wae={[Ne.StructuredThoughts]:2,[Ne.ReasoningRecap]:3,[Ne.Browsing]:4,[Ne.BrowseTool]:4,[Ne.SearchGPTQuery]:15,[Ne.RetrievalBrowsing]:7,[Ne.RetrievalBrowsingTool]:7,[Ne.ParallelBrowsing]:8,[Ne.ParallelBrowsingTool]:8,[Ne.JITPlugin]:6,[Ne.JITPluginTool]:6,[Ne.JITPluginGoogleTool]:6,[Ne.Dalle]:9,[Ne.DalleTool]:9,[Ne.t2uay3k]:28,[Ne.t2uay3k_c]:28,[Ne.oiw209h]:26,[Ne.oiw209h_c]:26,[Ne.Container]:11,[Ne.CodeInterpreter]:5,[Ne.CodeInterpreterTool]:5,[Ne.a8km123]:17,[Ne.f959b8c]:18,[Ne.b1de6e2_c]:19,[Ne.b1de6e2_s]:20,[Ne.b1de6e2_d]:21,[Ne.b1de6e2_rm]:22,[Ne.l1p9k3u]:16,[Ne.is_loading_message]:23,[Ne.b47u8ra0_t]:24,[Ne.de1d73e]:25,[Ne.GizmoEditor]:12,[Ne.SearchResultTool]:13,[Ne.ImagePreloadTool]:13,[Ne.CanmoreTool]:10,[Ne.c12k321]:27,[Ne.CoTSearchToolCall]:30,[Ne.CoTSearchToolResult]:30,[Ne.n7jupd_c]:31,[Ne.n7jupd_r]:31,[Ne.n7jupd_t]:31,[Ne.n7jupd_m]:31,[Ne.n7jupd_x]:32,[Ne.n7jupd_a]:33,[Ne.n7jupd_native_api_tool]:37,[Ne.n7jupd_n]:34,[Ne.n7jupd_p]:35,[Ne.kaur1br5]:42,[Ne.PIMBlock]:38,[Ne.Mochi]:39,[Ne.SuperWidget]:40,[Ne.Croquette]:41,[Ne.n7jupd_image_gen]:36,[Ne.e1ld0dvz]:43,[Ne.Glaux]:44};function Kae(e){switch(e){case Ne.JITPlugin:case Ne.Dalle:case Ne.t2uay3k:case Ne.oiw209h:case Ne.CoTSearchToolCall:case Ne.CodeInterpreter:case Ne.PIMBlock:return!0;default:return!1}}function Yae(e,t,n){return e?.type===6&&x1(n)?!0:!e||e.type!==t||Kae(gs(n))||e.type===11&&!n.author.name?.startsWith(Ra.CONTAINER)?!1:e.type===t}function BT(e,t){return ts(e,n=>{if(Dw(t)){let a;const l=t.metadata?.reasoning_group_id;l?a=Nm(n,u=>u.type===i2&&u.reasoningGroupId===l):a=dc(n);let c;a?.type===i2?c=a:(c={type:i2,groups:[],reasoningGroupId:l},n.push(c)),n=c.groups}const r=gs(t);if(r===Ne.no_render)return;const i=Wae[r],s=dc(n),o=s?.type!==14?s:Nm(n,a=>a.type!==14);r===Ne.Text&&(o?.type===1||o?.type===0)&&Bh(t)!=null&&(uae(t)||cae(o.messages[o.messages.length-1]))?(o.type=1,o.messages.push(t)):i===17&&n.some(a=>a.type===17)?Nm(n,l=>l.type===17).messages.push(t):Yae(o,i,t)?o.messages.push(t):n.push({type:i??(za(t)?14:0),messages:[t]})})}function UB(e,t){const n=e.getNodeByIdOrMessageId(t),r=n.id!==e.rootId?UB(e,n.parentId):Zae;return Jae(r,n.message)}const Zae=Object.freeze([]),Jae=Zoe(Qae);function Qae(e,t){const n=[...e],r=dc(n),i=IB(t);if(r&&Xae(r,t)){const s=[...r.messages,t],o=BT(r.messageGroups,t),a=r.role===He.System?UT(t):r.role,l=eT(t)??r.gizmoId;let c=r.authorId,u=r.modelSlug;n[n.length-1]={...r,messages:s,messageGroups:o,role:a,isPrompt:r.isPrompt||i,gizmoId:l,authorId:c,modelSlug:u}}else{const s=t.clientMetadata?.requestId,o=UT(t),a=o===He.Assistant&&s&&s!==r?.id?s:t.id;n.push({id:a,role:o,messages:[t],messageGroups:BT([],t),isPrompt:i,gizmoId:eT(t)})}return n}function UT(e){return x1(e)?He.System:e.author.role===He.Tool?He.Assistant:e.author.role===He.Developer?He.System:e.author.role}function Xae(e,t){return t.metadata?.is_indepth_feedback?!1:dc(e.messages)?.metadata?.reasoning_status&&t.metadata?.reasoning_status||e.role===t.author.role?!0:e.role===He.User&&t.recipient==="bio"?!1:dc(e.messageGroups)?.type===BB.JITPlugin&&x1(t)?!0:x1(t)?e.role===He.Root||e.role===He.System:za(t)||(e.role===He.System||e.role===He.Developer)&&!e.isPrompt?!0:t.author.role===He.Tool?e.role===He.Assistant:!1}function Uw(){const e=Rr();return nle(e.pathname)}function ele(e){const n=new URL(`http://example.com${e}`).pathname.match(/(?:\/gizmo)?\/g\/([^/]+)/);if(n)return n[1]}function tle(e){const t=e.split("-");return t.length>1&&t[0]==="g"?t?.[1]==="p"?`g-p-${t[2]}`:`g-${t[1]}`:t[0]}function nle(e){const t=ele(e);if(t)return tle(t)}function zh(){"use forget";const e=Te.c(2),t=me(),n=!dn(t);let r;return e[0]!==n?(r={isUnauthenticated:n,isLoading:!1},e[0]=n,e[1]=r):r=e[1],r}const qB=qt.IsNoAuthChatTrainingEnabled,Ea=Ho(()=>{let e=null;return typeof window<"u"&&(e=lle()??null),{isNoAuthChatTrainingEnabled:e,isTemporaryChatEnabled:!1,isAnonModeEnabled:!1}}),qw=e=>wc(Ea,e);function rle(){const e=ile(),t=sle(),{isUnauthenticated:n}=zh();return!!(e||n&&!t)}function zw(e){return Gw()||!dn(e)&&!ole(e)}function ile(){return qw(e=>e.isTemporaryChatEnabled)}function Gw(){return Ea.getState().isTemporaryChatEnabled}function zB(e){return We(e,"1656345175")}function sle(){const e=me(),t=qw(n=>n.isNoAuthChatTrainingEnabled);return t??zB(e)}function ole(e){const t=Ea.getState().isNoAuthChatTrainingEnabled;return t??zB(e)}function zLe(){return qw(e=>e.isAnonModeEnabled)}function ale(){return Ea.getState().isAnonModeEnabled}const qT={setIsTemporaryChatEnabled(e){Ea.setState({isTemporaryChatEnabled:e}),e&&K.logEvent("Enable Temporary Chat")},setIsAnonModeEnabled(e){Ea.setState({isAnonModeEnabled:e})},toggleIsTemporaryChatEnabled(){qT.setIsTemporaryChatEnabled(!Ea.getState().isTemporaryChatEnabled)},disableTemporaryChat(){qT.setIsTemporaryChatEnabled(!1)},setIsNoAuthChatTrainingEnabled(e){Ea.setState({isNoAuthChatTrainingEnabled:e}),Kt.setItem(qB,e)}};function lle(){const e=Kt.getItem(qB);return e==="true"||e===!0?!0:e==="false"||e===!1?!1:void 0}function fc(e,t){for(const[n,r]of Object.entries(t))e.addEventListener(n,r);return()=>{for(const[n,r]of Object.entries(t))e.removeEventListener(n,r)}}function GLe(e,t){for(const[n,r]of Object.entries(t))e.on(n,r);return()=>{for(const[n,r]of Object.entries(t))e.off(n,r)}}function cle(e,t){let n;const r=()=>Kt.getItem(e)??t(),i=Go(s=>(n=s,fc(window,{storage:({key:o})=>{o===e&&s()}})),r,{name:`localStorage:${e}`,getServerFallback:t});return i.set=s=>{Kt.setItem(e,vF(s)?s(r()):s),n?.()},i}const N6={},ule=["added","updated","removed"];let zT=!1;function dle(e){zT||(zT=!0,e.getQueryCache().subscribe(t=>{const n=t.query.queryHash;if(t.query.state.status==="success"&&n in N6&&ule.includes(t.type)){const{cacheKey:r,cacheVersion:i}=N6[n];Kee(Fse(e)?.id??null,r,t.query.state.data,i)}}))}function fle(e,t,n,r){dle(e),N6[fL(t)]={cacheKey:n,cacheVersion:r}}function c0(e,t,n){const r=Ng(),i=me();if(r)return GB(i,e,t,n)}function GB(e,t,n,r){const i=vn(e),s=Qa(e);return fle(s,r,t,n),()=>{const o=Wee(i?.id??null,t,n);if(o!=null)return o}}function hle(e,t){const n=Cd(e)?.account?.id??null;Yee(n,t)}const Gh=e=>["models",{IIM:e?.IIM??!1,isGizmo:e?.isGizmo??!1}],ple=()=>["gizmo-models"],HB="models",VB=1;function $B(e){const t=Nt(k1(e));return rle()&&t.data?{...t,data:Sle(t.data)}:t}function WB({isGizmo:e}){const t=c0(HB,VB,Gh());return $B({isGizmo:e,placeholderData:e?void 0:t})}function mle({isGizmo:e}){return $B({IIM:!0,isGizmo:e,enabled:!1})}const k1=e=>qi({retry:5,enabled:e?.enabled??!0,queryKey:Gh(e),queryFn:async()=>{const t=Cs(await ue.safeGet("/models",{authOption:Xt.SendIfAvailable,parameters:{query:{iim:e?.IIM,is_gizmo:e?.isGizmo}}}));return _le(t)},placeholderData:e?.placeholderData});function Hw({isGizmo:e=!1}={}){const{data:t,isLoading:n}=WB({isGizmo:e}),{data:r,isLoading:i}=mle({isGizmo:e});return{modelsData:r??t,externalModelsLoading:n,fullModelsLoading:i||n}}function gle({enabled:e=!0}={}){const{data:t,isLoading:n}=Nt(qi({retry:5,enabled:e,queryKey:ple(),queryFn:async()=>{const r=Cs(await ue.safeGet("/models/gpts",{authOption:Xt.SendIfAvailable}));return yle(r)}}));return{gizmoModelsData:t,gizmoModelsLoading:n}}const HLe=en(e=>Th(e,()=>k1({IIM:!1,placeholderData:GB(e,HB,VB,Gh())}),{forcePendingOnServer:!0}));function vle({isGizmo:e=!1}={}){return WB({isGizmo:e})}function KB(e){return e.getQueryData(Gh())}function _le(e){return{categories:e.categories.concat().reverse().map(ble),groups:e.internal_groups?.map(Cle)??[],defaultModelSlug:e.default_model_slug??null,modelPickerVersion:e.model_picker_version,models:new Map(e.models.map(t=>[t.slug,YB(t)])),title:e.title}}function yle(e){return{editor:e.editor,model_override:e.model_override}}function YB(e){return{id:e.slug,maxTokens:e.max_tokens,title:e.title,description:e.description,tags:e.tags,enabledTools:e.enabled_tools,product_features:e.product_features,enableInfer:e.enable_infer,enableInferOptOut:e.enable_infer_opt_out,reasoningType:e.reasoning_type}}function ble({default_model:e,tagline:t,color:n,human_category_name:r,category:i,human_category_short_name:s,human_category_shorter_name:o,subscription_level:a,short_explainer:l,subcategory:c,render_header_type:u,title:d,is_beta:f,is_alpha:h,model_badge:m,supported_features:v,supported_models:_,disabled_by_admin:y,date_updated:b,action_pill_short_name:C,slash_command_enabled:S,...x}){return{color:n,tagline:t,defaultModel:e,label:r,shortLabel:s,description:l,shorterLabel:o??s,subscriptionLevel:a,categoryId:i,subcategory:c,renderHeaderType:u,isBeta:f,isAlpha:h,modelBadge:m,title:d,supportedFeatures:v,supportedModels:_??[],dateUpdated:b,actionPillShortName:C,slashCommandEnabled:S,disabledByAdmin:y??!1,...x}}function Cle({group:e,human_group_name:t,human_group_short_name:n,model_ids:r}){return{group:e,label:t,shortLabel:n,modelIds:r}}const GT=new WeakMap;function Sle(e){let t=GT.get(e);if(!t){const n=new Map([...e.models.entries()].filter(([,r])=>r.tags.includes("history_off_approved")));t={models:n,defaultModelSlug:e.defaultModelSlug,categories:e.categories.filter(r=>n.has(r.defaultModel)),groups:e.groups.map(r=>({...r,modelIds:r.modelIds.filter(i=>n.has(i))})).filter(r=>r.modelIds.length>0)},GT.set(e,t)}return t}const ZB=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},p.createElement("path",{d:"M6.02925 3.02929C6.25652 2.80202 6.60803 2.77382 6.86616 2.94433L6.97065 3.02929L11.4707 7.52929C11.7304 7.78899 11.7304 8.211 11.4707 8.4707L6.97065 12.9707C6.71095 13.2304 6.28895 13.2304 6.02925 12.9707C5.76955 12.711 5.76955 12.289 6.02925 12.0293L10.0585 7.99999L6.02925 3.9707L5.94429 3.8662C5.77378 3.60807 5.80198 3.25656 6.02925 3.02929Z"})),wle=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M8 9.93359C8.40501 9.93359 8.7334 10.262 8.7334 10.667C8.73322 11.0718 8.4049 11.4004 8 11.4004C7.59524 11.4002 7.26678 11.0718 7.2666 10.667C7.2666 10.2621 7.59512 9.93375 8 9.93359Z"}),p.createElement("path",{d:"M8 4.66699C9.00983 4.66699 9.71143 5.3376 9.91113 6.12598C10.1119 6.91849 9.80668 7.84168 8.89453 8.29785C8.75494 8.36765 8.66699 8.51093 8.66699 8.66699C8.66681 9.03503 8.36808 9.33301 8 9.33301C7.63194 9.33299 7.33319 9.03502 7.33301 8.66699C7.33301 8.00598 7.70668 7.40116 8.29785 7.10547C8.60101 6.95389 8.6789 6.69288 8.61816 6.45312C8.55627 6.20931 8.35206 6 8 6C7.74846 6.00001 7.52816 6.13905 7.41406 6.34766C7.23735 6.67059 6.83275 6.78894 6.50977 6.6123C6.18684 6.43568 6.0677 6.03099 6.24414 5.70801C6.58269 5.08904 7.24177 4.667 8 4.66699Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.33301C11.6819 1.33301 14.667 4.3181 14.667 8C14.667 11.6819 11.6819 14.667 8 14.667C4.3181 14.667 1.33301 11.6819 1.33301 8C1.33301 4.3181 4.3181 1.33301 8 1.33301ZM8 2.66699C5.05448 2.66699 2.66699 5.05448 2.66699 8C2.66699 10.9455 5.05448 13.333 8 13.333C10.9455 13.333 13.333 10.9455 13.333 8C13.333 5.05448 10.9455 2.66699 8 2.66699Z"})),Ele=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},p.createElement("path",{d:"M11.3349 10.3301V5.60547L4.47065 12.4707C4.21095 12.7304 3.78895 12.7304 3.52925 12.4707C3.26955 12.211 3.26955 11.789 3.52925 11.5293L10.3945 4.66504H5.66011C5.29284 4.66504 4.99507 4.36727 4.99507 4C4.99507 3.63273 5.29284 3.33496 5.66011 3.33496H11.9999L12.1337 3.34863C12.4369 3.41057 12.665 3.67857 12.665 4V10.3301C12.6649 10.6973 12.3672 10.9951 11.9999 10.9951C11.6327 10.9951 11.335 10.6973 11.3349 10.3301ZM11.333 4.66699L11.3349 4.66797L11.332 4.66504H11.331L11.333 4.66699Z"}));function si(e){return e?"":void 0}function xle(e,t){return e.getAttribute(t)!=null}function VLe(e,t,n){JB(e,t,si(n))}function JB(e,t,n){e&&(n!=null?e.setAttribute(t,n):e.removeAttribute(t))}function kle(){return nL()?8:1}function QB(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function Tle(e){return!u0(e)&&!QB(e)}function u0(e){const t="nativeEvent"in e?e.nativeEvent:e;return t.isComposing||t.keyCode===229}function Ole(e){const{key:t,currentTarget:n}=e,r=n instanceof HTMLInputElement;return Tle(e)&&(t==="Tab"||t==="ArrowDown"||t==="ArrowUp"||t==="ArrowLeft"&&(!r||n.selectionStart===0||n.selectionEnd===0)||t==="ArrowRight"&&(!r||n.selectionEnd===n.selectionStart&&n.selectionStart===n.value.length))}const Ko=e=>{"use forget";const t=Te.c(113);let n,r,i,s,o,a,l,c,u,d,f,h,m,v,_,y,b,C,S,x,w;t[0]!==e?({as:s,icon:r,trailing:i,highlightTrailing:n,showHighlightTrailing:m,trailingColor:v,label:d,badge:o,secondary:h,className:l,color:c,size:_,active:y,highlighted:b,hasManagedFocus:C,subMenu:S,fillContainer:x,children:a,iconOnly:w,iconAriaLabel:u,...f}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=f,t[12]=h,t[13]=m,t[14]=v,t[15]=_,t[16]=y,t[17]=b,t[18]=C,t[19]=S,t[20]=x,t[21]=w):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],h=t[12],m=t[13],v=t[14],_=t[15],y=t[16],b=t[17],C=t[18],S=t[19],x=t[20],w=t[21]);const E=m===void 0?!1:m,T=v===void 0?"tertiary":v,O=_===void 0?"default":_,k=y===void 0?!1:y,A=b===void 0?!1:b,I=C===void 0?!1:C,P=S===void 0?!1:S,D=x===void 0?!1:x,R=w===void 0?!1:w;let F;if(p.isValidElement(a)&&!d&&!o)F=a;else{let Z;t[22]!==d?(Z=d&&g.jsx(Ile,{children:d}),t[22]=d,t[23]=Z):Z=t[23];let $;t[24]!==o?($=o&&g.jsx($w,{children:o}),t[24]=o,t[25]=$):$=t[25];let U;t[26]!==a||t[27]!==Z||t[28]!==$?(U=g.jsxs("div",{className:"flex min-w-0 grow items-center gap-2.5 group-data-no-contents-gap:gap-0",children:[Z,a,$]}),t[26]=a,t[27]=Z,t[28]=$,t[29]=U):U=t[29],F=U}if(h){let Z;t[30]!==h?(Z=g.jsx("div",{className:"not-group-data-disabled:text-token-text-tertiary leading-dense mb-0.5 text-xs group-data-sheet-item:mt-0.5 group-data-sheet-item:mb-0",children:h}),t[30]=h,t[31]=Z):Z=t[31];let $;t[32]!==F||t[33]!==Z?($=g.jsxs("div",{className:"min-w-0",children:[F,Z]}),t[32]=F,t[33]=Z,t[34]=$):$=t[34],F=$}if(r){const Z=O==="large"?"icon-lg":"icon";let $;t[35]!==Z?($=xe("flex items-center justify-center group-disabled:opacity-50 group-data-disabled:opacity-50",Z),t[35]=Z,t[36]=$):$=t[36];let U;t[37]!==r||t[38]!==u||t[39]!==R?(U=typeof r!="function"?r:g.jsx(r,{className:"icon","aria-hidden":R?"false":"true","aria-label":R?u:void 0}),t[37]=r,t[38]=u,t[39]=R,t[40]=U):U=t[40];let pe;t[41]!==$||t[42]!==U?(pe=g.jsx("div",{className:$,children:U}),t[41]=$,t[42]=U,t[43]=pe):pe=t[43];const Ae=!R&&F;let te;t[44]!==pe||t[45]!==Ae?(te=g.jsxs(g.Fragment,{children:[pe,Ae]}),t[44]=pe,t[45]=Ae,t[46]=te):te=t[46],F=te}let j;if(i){const Z=T==="tertiary"&&"text-token-text-tertiary";let $;t[47]!==Z?($=xe("trailing",Z),t[47]=Z,t[48]=$):$=t[48];const U=n?-1:void 0;let pe;t[49]!==i?(pe=typeof i!="function"?i:g.jsx(i,{className:"icon","aria-hidden":"true"}),t[49]=i,t[50]=pe):pe=t[50];let Ae;t[51]!==$||t[52]!==U||t[53]!==pe?(Ae=g.jsx("div",{className:$,tabIndex:U,children:pe}),t[51]=$,t[52]=U,t[53]=pe,t[54]=Ae):Ae=t[54],j=Ae}if(n){const Z=T==="tertiary"&&"text-token-text-tertiary";let $;t[55]!==Z?($=xe("trailing highlight",Z),t[55]=Z,t[56]=$):$=t[56];let U;t[57]!==n?(U=typeof n!="function"?n:g.jsx(n,{className:"icon","aria-hidden":"true"}),t[57]=n,t[58]=U):U=t[58];let pe;t[59]!==$||t[60]!==U?(pe=g.jsx("div",{className:$,children:U}),t[59]=$,t[60]=U,t[61]=pe):pe=t[61];const Ae=pe;let te;t[62]!==Ae||t[63]!==j?(te=j?g.jsxs("div",{className:"trailing-pair",children:[Ae,j]}):Ae,t[62]=Ae,t[63]=j,t[64]=te):te=t[64],j=te}if(P){let Z;t[65]===Symbol.for("react.memo_cache_sentinel")?(Z=g.jsx(ZB,{className:"icon-sm -me-0.25"}),t[65]=Z):Z=t[65];const $=Z;let U;t[66]!==j?(U=j?g.jsxs("div",{className:"flex items-center gap-1 self-stretch",children:[j,$]}):$,t[66]=j,t[67]=U):U=t[67],j=U}if(j&&!R){if(r){const $=O==="large"?"gap-2":"gap-1.5";let U;t[68]!==$?(U=xe("flex min-w-0 items-center",$),t[68]=$,t[69]=U):U=t[69];let pe;t[70]!==F||t[71]!==U?(pe=g.jsx("div",{className:U,children:F}),t[70]=F,t[71]=U,t[72]=pe):pe=t[72],F=pe}let Z;t[73]!==F||t[74]!==j?(Z=g.jsxs(g.Fragment,{children:[F,j]}),t[73]=F,t[74]=j,t[75]=Z):Z=t[75],F=Z}const V=s,B=p.useRef(null),M=p.useRef(!1);let re,ge;t[76]!==A?(re=()=>{if(M.current){M.current=!1;return}A&&requestAnimationFrame(()=>{B.current?.scrollIntoView({block:"nearest"})})},ge=[A],t[76]=A,t[77]=re,t[78]=ge):(re=t[77],ge=t[78]),p.useEffect(re,ge);const N=f.disabled?-1:0,we=f.disabled??!1;let ye;t[79]!==we?(ye=si(we),t[79]=we,t[80]=ye):ye=t[80];let X;t[81]!==k?(X=si(k),t[81]=k,t[82]=X):X=t[82];let de;t[83]!==A?(de=si(A),t[83]=A,t[84]=de):de=t[84];let ee;t[85]!==P?(ee=si(P),t[85]=P,t[86]=ee):ee=t[86];let ke;t[87]!==D?(ke=si(D),t[87]=D,t[88]=ke):ke=t[88];let se;t[89]!==E?(se=si(E),t[89]=E,t[90]=se):se=t[90];const fe=O==="large"?"large":void 0,he=c!=="default"?c:void 0,Oe=!I&&"hoverable",Ze=r&&!j&&(O==="large"?"gap-2":"gap-1.5"),le=O==="large"&&R&&"p-2";let Q;t[91]!==l||t[92]!==Oe||t[93]!==Ze||t[94]!==le?(Q=xe("group __menu-item",Oe,Ze,le,l),t[91]=l,t[92]=Oe,t[93]=Ze,t[94]=le,t[95]=Q):Q=t[95];let ie;t[96]!==f?(ie=Z=>{M.current=!0,f.onPointerMoveCapture?.(Z)},t[96]=f,t[97]=ie):ie=t[97];let Me;return t[98]!==V||t[99]!==F||t[100]!==f||t[101]!==N||t[102]!==ye||t[103]!==X||t[104]!==de||t[105]!==ee||t[106]!==ke||t[107]!==se||t[108]!==fe||t[109]!==he||t[110]!==Q||t[111]!==ie?(Me=g.jsx(V,{ref:B,tabIndex:N,"data-disabled":ye,"data-active":X,"data-highlighted":de,"data-has-submenu":ee,"data-fill":ke,"data-revealed":se,"data-size":fe,"data-color":he,className:Q,...f,onPointerMoveCapture:ie,children:F}),t[98]=V,t[99]=F,t[100]=f,t[101]=N,t[102]=ye,t[103]=X,t[104]=de,t[105]=ee,t[106]=ke,t[107]=se,t[108]=fe,t[109]=he,t[110]=Q,t[111]=ie,t[112]=Me):Me=t[112],Me},Ale=({external:e,...t})=>g.jsx(Ko,{as:vh,...e?{highlightTrailing:g.jsx(Ele,{className:"icon-sm"}),target:"_blank",rel:"noopener noreferrer"}:null,...t}),Vw=e=>{const{row:t,className:n,...r}=e,i=e.as??"button";return g.jsx(Ko,{"data-sheet-item":!0,...r,as:i,className:xe("bg-token-bg-tertiary dark:bg-token-bg-secondary mx-0 w-full py-4 leading-5",t?"justify-between px-4 text-start":"flex-col justify-center px-0",n)})},Ile=p.memo(function({children:t}){return g.jsx("div",{className:"truncate",ref:n=>{n?.textContent&&n.scrollWidth>n.clientWidth&&(n.title=n.textContent)},children:t})}),$w=({children:e})=>g.jsx("span",{className:"__menu-item-badge",children:e}),$Le=({disabled:e,icon:t,children:n,className:r,...i})=>g.jsx("button",{disabled:e,tabIndex:e?void 0:0,"data-trailing-button":si(!0),className:xe("__menu-item-trailing-btn",r),...i,onClick:s=>{s.preventDefault(),s.stopPropagation(),i.onClick?.(s)},onDoubleClick:s=>{s.preventDefault(),s.stopPropagation(),i.onDoubleClick?.(s)},onPointerDown:s=>{i.onPointerDown?.(s),s.preventDefault(),s.stopPropagation()},onMouseDown:s=>{i.onMouseDown?.(s),s.preventDefault(),s.stopPropagation()},children:g.jsx("div",{children:t?g.jsx(t,{className:"icon","aria-hidden":"true"}):n})}),WLe=({children:e,className:t,...n})=>g.jsx(vh,{"data-trailing-button":si(!0),className:xe("__menu-item-trailing-lnk",t),...n,onClick:r=>{r.preventDefault(),r.stopPropagation(),n.onClick?.(r)},onDoubleClick:r=>{r.preventDefault(),r.stopPropagation(),n.onDoubleClick?.(r)},children:e}),Mle=({as:e,className:t,...n})=>{const r=e;return g.jsx(r,{className:xe("__menu-label",t),...n})};function Rle({size:e="long"}){const t=e==="long"?220:120,[n]=p.useState(()=>.75+.25*Math.random());return g.jsx(Ko,{as:"div",disabled:!0,children:g.jsx("div",{className:"loading-results-shimmer h-4 rounded-sm",style:{width:Math.round(n*t)}})})}const Nle=e=>{"use forget";const t=Te.c(44);let n,r,i,s,o,a,l,c,u,d;t[0]!==e?({holdFocus:c,selectAllOnFocus:u,submitIcon:n,onClick:i,onFocus:s,onKeyDownCapture:o,onSubmit:a,border:d,className:r,...l}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10]);const f=c===void 0?!1:c,h=u===void 0?!0:u,m=d===void 0?!0:d,v=it();let _;t[11]!==r?(_=xe("text-token-text-primary bg-token-bg-primary data-border:border-token-border-default m-[-1px] w-full min-w-[200px] rounded-[10px] border-transparent px-2.5 py-2 text-sm focus:ring-0 focus:ring-offset-0 focus:outline-hidden disabled:opacity-50 data-border:border-1 data-submit-icon:ps-2.5 data-submit-icon:pe-9 dark:bg-transparent",r),t[11]=r,t[12]=_):_=t[12];let y;t[13]!==f?(y=si(f),t[13]=f,t[14]=y):y=t[14];let b;t[15]!==m?(b=si(m),t[15]=m,t[16]=b):b=t[16];const C=!!n;let S;t[17]!==C?(S=si(C),t[17]=C,t[18]=S):S=t[18];let x;t[19]!==i?(x=I=>{i?.(I),I.preventDefault()},t[19]=i,t[20]=x):x=t[20];let w;t[21]!==s||t[22]!==h?(w=I=>{s?.(I),h&&I.currentTarget.select()},t[21]=s,t[22]=h,t[23]=w):w=t[23];let E;t[24]!==o||t[25]!==a?(E=I=>{o?.(I);const{key:P}=I;Ole(I)||(I.stopPropagation(),P==="Enter"&&a?.(I))},t[24]=o,t[25]=a,t[26]=E):E=t[26];let T;t[27]!==l||t[28]!==w||t[29]!==E||t[30]!==_||t[31]!==y||t[32]!==b||t[33]!==S||t[34]!==x?(T=g.jsx("input",{type:"text",className:_,"data-hold-focus":y,"data-border":b,"data-submit-icon":S,autoComplete:"off",onClick:x,onFocus:w,onKeyDownCapture:E,...l}),t[27]=l,t[28]=w,t[29]=E,t[30]=_,t[31]=y,t[32]=b,t[33]=S,t[34]=x,t[35]=T):T=t[35];const O=T;let k;t[36]!==n||t[37]!==v||t[38]!==a||t[39]!==l?.value?(k=n&&g.jsx("div",{className:"absolute end-2.5 top-1/2 flex -translate-y-1/2 items-center justify-center",children:g.jsx("button",{className:"icon composer-submit-btn size-5",disabled:l?.value?.toString().trim()==="",onClick:a,"aria-label":v.formatMessage({defaultMessage:"Submit",id:"aria.submit"}),"data-in-menu":si(!0),children:g.jsx(n,{className:"icon-xs"})})}),t[36]=n,t[37]=v,t[38]=a,t[39]=l?.value,t[40]=k):k=t[40];let A;return t[41]!==O||t[42]!==k?(A=g.jsxs("div",{className:"relative mx-1.5 mb-1 w-[calc(100%---spacing(3))]",children:[k,O]}),t[41]=O,t[42]=k,t[43]=A):A=t[43],A};function Ple(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function XB(e){const[t,n]=p.useState(void 0);return ac(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ww="Switch",[Dle,KLe]=Sd(Ww),[Lle,Fle]=Dle(Ww),eU=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=e,[f,h]=p.useState(null),m=In(t,C=>h(C)),v=p.useRef(!1),_=f?u||!!f.closest("form"):!0,[y=!1,b]=xc({prop:i,defaultProp:s,onChange:c});return g.jsxs(Lle,{scope:n,checked:y,disabled:a,children:[g.jsx(Yt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":rU(y),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onClick:et(e.onClick,C=>{b(S=>!S),_&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),_&&g.jsx(jle,{control:f,bubbles:!v.current,name:r,value:l,checked:y,required:o,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});eU.displayName=Ww;var tU="SwitchThumb",nU=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=Fle(tU,n);return g.jsx(Yt.span,{"data-state":rU(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});nU.displayName=tU;var jle=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=p.useRef(null),o=Ple(n),a=XB(t);return p.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const f=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(f)}},[o,n,r]),g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rU(e){return e?"checked":"unchecked"}var Ble=eU,Ule=nU;const iU=({size:e,className:t,icon:n,withinLabel:r,...i})=>g.jsx(Ble,{className:xe("radix-state-checked:bg-blue-400 focus-visible:ring-token-text-primary relative box-content aspect-7/4 shrink-0 rounded-full bg-gray-200 p-[2px] focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:opacity-50 dark:bg-gray-600",e==="small"?"h-3":"h-4",t),...i,children:g.jsx(Ule,{className:"radix-state-checked:translate-x-[calc(var(--dir,1)*100%*(7/4-1))] flex aspect-square h-full items-center justify-center rounded-full bg-white transition-transform duration-100 rtl:[--dir:-1]",children:n})});function Kw(e,t=[]){let n=[];function r(s,o){const a=p.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:h,...m}=d,v=f?.[e][l]||a,_=p.useMemo(()=>m,Object.values(m));return g.jsx(v.Provider,{value:_,children:h})}function u(d,f){const h=f?.[e][l]||a,m=p.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>p.createContext(o));return function(a){const l=a?.[e]||s;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,qle(i,...t)]}function qle(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function sU(e){const t=e+"CollectionProvider",[n,r]=Kw(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:m,children:v}=h,_=Fe.useRef(null),y=Fe.useRef(new Map).current;return g.jsx(i,{scope:m,itemMap:y,collectionRef:_,children:v})};o.displayName=t;const a=e+"CollectionSlot",l=Fe.forwardRef((h,m)=>{const{scope:v,children:_}=h,y=s(a,v),b=In(m,y.collectionRef);return g.jsx(td,{ref:b,children:_})});l.displayName=a;const c=e+"CollectionItemSlot",u="data-radix-collection-item",d=Fe.forwardRef((h,m)=>{const{scope:v,children:_,...y}=h,b=Fe.useRef(null),C=In(m,b),S=s(c,v);return Fe.useEffect(()=>(S.itemMap.set(b,{ref:b,...y}),()=>void S.itemMap.delete(b))),g.jsx(td,{[u]:"",ref:C,children:_})});d.displayName=c;function f(h){const m=s(e+"CollectionConsumer",h);return Fe.useCallback(()=>{const _=m.collectionRef.current;if(!_)return[];const y=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((S,x)=>y.indexOf(S.ref.current)-y.indexOf(x.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}var oU=p.createContext(void 0),zle=e=>{const{dir:t,children:n}=e;return g.jsx(oU.Provider,{value:t,children:n})};function Yw(e){const t=p.useContext(oU);return e||t||"ltr"}var s2="rovingFocusGroup.onEntryFocus",Gle={bubbles:!1,cancelable:!0},d0="RovingFocusGroup",[P6,aU,Hle]=sU(d0),[Vle,f0]=Kw(d0,[Hle]),[$le,Wle]=Vle(d0),lU=p.forwardRef((e,t)=>g.jsx(P6.Provider,{scope:e.__scopeRovingFocusGroup,children:g.jsx(P6.Slot,{scope:e.__scopeRovingFocusGroup,children:g.jsx(Kle,{...e,ref:t})})}));lU.displayName=d0;var Kle=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=e,f=p.useRef(null),h=In(t,f),m=Yw(s),[v=null,_]=xc({prop:o,defaultProp:a,onChange:l}),[y,b]=p.useState(!1),C=Bi(c),S=aU(n),x=p.useRef(!1),[w,E]=p.useState(0);return p.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(s2,C),()=>T.removeEventListener(s2,C)},[C]),g.jsx($le,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:v,onItemFocus:p.useCallback(T=>_(T),[_]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>E(T=>T-1),[]),children:g.jsx(Yt.div,{tabIndex:y||w===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...e.style},onMouseDown:et(e.onMouseDown,()=>{x.current=!0}),onFocus:et(e.onFocus,T=>{const O=!x.current;if(T.target===T.currentTarget&&O&&!y){const k=new CustomEvent(s2,Gle);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=S().filter(F=>F.focusable),I=A.find(F=>F.active),P=A.find(F=>F.id===v),R=[I,P,...A].filter(Boolean).map(F=>F.ref.current);dU(R,u)}}x.current=!1}),onBlur:et(e.onBlur,()=>b(!1))})})}),cU="RovingFocusGroupItem",uU=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=e,a=Ks(),l=s||a,c=Wle(cU,n),u=c.currentTabStopId===l,d=aU(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=c;return p.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),g.jsx(P6.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:g.jsx(Yt.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:et(e.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:et(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:et(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const v=Jle(m,c.orientation,c.dir);if(v!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let y=d().filter(b=>b.focusable).map(b=>b.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const b=y.indexOf(m.currentTarget);y=c.loop?Qle(y,b+1):y.slice(b+1)}setTimeout(()=>dU(y))}})})})});uU.displayName=cU;var Yle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jle(e,t,n){const r=Zle(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Yle[r]}function dU(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Qle(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var fU=lU,hU=uU,Zw="Tabs",[Xle,YLe]=Sd(Zw,[f0]),pU=f0(),[ece,Jw]=Xle(Zw),mU=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=Yw(a),[d,f]=xc({prop:r,onChange:i,defaultProp:s});return g.jsx(ece,{scope:n,baseId:Ks(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:g.jsx(Yt.div,{dir:u,"data-orientation":o,...c,ref:t})})});mU.displayName=Zw;var gU="TabsList",vU=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=Jw(gU,n),o=pU(n);return g.jsx(fU,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(Yt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});vU.displayName=gU;var _U="TabsTrigger",yU=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=Jw(_U,n),a=pU(n),l=SU(o.baseId,r),c=wU(o.baseId,r),u=r===o.value;return g.jsx(hU,{asChild:!0,...a,focusable:!i,active:u,children:g.jsx(Yt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:t,onMouseDown:et(e.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:et(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:et(e.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!i&&d&&o.onValueChange(r)})})})});yU.displayName=_U;var bU="TabsContent",CU=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,a=Jw(bU,n),l=SU(a.baseId,r),c=wU(a.baseId,r),u=r===a.value,d=p.useRef(u);return p.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),g.jsx(ws,{present:i||u,children:({present:f})=>g.jsx(Yt.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:f&&s})})});CU.displayName=bU;function SU(e,t){return`${e}-trigger-${t}`}function wU(e,t){return`${e}-content-${t}`}var ZLe=mU,JLe=vU,tce=yU,nce=CU;function rce(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=EU(t))&&(r&&(r+=" "),r+=n);return r}function EU(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=EU(e[r]))&&(n&&(n+=" "),n+=t);return n}function D6(){return D6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D6.apply(this,arguments)}function ice(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var Qw="-";function sce(e){var t=ace(e);function n(i){var s=i.split(Qw);return s[0]===""&&s.length!==1&&s.shift(),xU(s,t)||oce(i)}function r(i){return e.conflictingClassGroups[i]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function xU(e,t){var n;if(e.length===0)return t.classGroupId;var r=e[0],i=t.nextPart.get(r),s=i?xU(e.slice(1),i):void 0;if(s)return s;if(t.validators.length!==0){var o=e.join(Qw);return(n=t.validators.find(function(a){var l=a.validator;return l(o)}))==null?void 0:n.classGroupId}}var HT=/^\[(.+)\]$/;function oce(e){if(HT.test(e)){var t=HT.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function ace(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=cce(Object.entries(e.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];L6(a,r,o,t)}),r}function L6(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var s=i===""?t:VT(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(lce(i)){L6(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];L6(l,VT(t,a),n,r)})})}function VT(e,t){var n=e;return t.split(Qw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function lce(e){return e.isThemeGetter}function cce(e,t){return t?e.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[t+l,c]})):o});return[r,s]}):e}var kU="!";function uce(e){var t=e.separator||":";return function(r){for(var i=0,s=[],o=0,a=0;a<r.length;a++){var l=r[a];i===0&&l===t[0]&&(t.length===1||r.slice(a,a+t.length)===t)&&(s.push(r.slice(o,a)),o=a+t.length),l==="["?i++:l==="]"&&i--}var c=s.length===0?r:r.substring(o),u=c.startsWith(kU),d=u?c.substring(1):c;return{modifiers:s,hasImportantModifier:u,baseClassName:d}}}function dce(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function fce(e){return D6({cache:ice(e.cacheSize),splitModifiers:uce(e)},sce(e))}var hce=/\s+/;function pce(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(hce).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=r(u);if(!d)return{isTailwindClass:!1,originalClassName:o};var f=dce(l).join(":"),h=c?f+kU:f;return{isTailwindClass:!0,modifierId:h,classGroupId:d,originalClassName:o}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=a+l;return s.has(c)?!1:(s.add(c),i(l).forEach(function(u){return s.add(a+u)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function mce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,s,o=a;function a(c){var u=t[0],d=t.slice(1),f=d.reduce(function(h,m){return m(h)},u());return r=fce(f),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=pce(c,r);return s(c,d),d}return function(){return o(rce.apply(null,arguments))}}function an(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var il=/^\[(.+)\]$/,gce=/^\d+\/\d+$/,vce=new Set(["px","full","screen"]),_ce=/^(\d+)?(xs|sm|md|lg|xl)$/,yce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh)/,bce=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Wi(e){return!Number.isNaN(Number(e))||vce.has(e)||gce.test(e)||Al(e)}function Al(e){var t,n=(t=il.exec(e))==null?void 0:t[1];return n?n.startsWith("length:")||yce.test(n):!1}function Cce(e){var t,n=(t=il.exec(e))==null?void 0:t[1];return n?n.startsWith("size:"):!1}function Sce(e){var t,n=(t=il.exec(e))==null?void 0:t[1];return n?n.startsWith("position:"):!1}function wce(e){var t,n=(t=il.exec(e))==null?void 0:t[1];return n?n.startsWith("url(")||n.startsWith("url:"):!1}function $T(e){var t,n=(t=il.exec(e))==null?void 0:t[1];return n?!Number.isNaN(Number(n))||n.startsWith("number:"):!1}function xr(e){var t,n=(t=il.exec(e))==null?void 0:t[1];return n?Number.isInteger(Number(n)):Number.isInteger(Number(e))}function Qn(e){return il.test(e)}function Kd(){return!0}function ca(e){return _ce.test(e)}function Ece(e){var t,n=(t=il.exec(e))==null?void 0:t[1];return n?bce.test(n):!1}function xce(){var e=an("colors"),t=an("spacing"),n=an("blur"),r=an("brightness"),i=an("borderColor"),s=an("borderRadius"),o=an("borderSpacing"),a=an("borderWidth"),l=an("contrast"),c=an("grayscale"),u=an("hueRotate"),d=an("invert"),f=an("gap"),h=an("gradientColorStops"),m=an("inset"),v=an("margin"),_=an("opacity"),y=an("padding"),b=an("saturate"),C=an("scale"),S=an("sepia"),x=an("skew"),w=an("space"),E=an("translate"),T=function(){return["auto","contain","none"]},O=function(){return["auto","hidden","clip","visible","scroll"]},k=function(){return["auto",t]},A=function(){return["",Wi]},I=function(){return["auto",xr]},P=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},D=function(){return["solid","dashed","dotted","double","none"]},R=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},F=function(){return["start","end","center","between","around","evenly"]},j=function(){return["","0",Qn]},V=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]};return{cacheSize:500,theme:{colors:[Kd],spacing:[Wi],blur:["none","",ca,Al],brightness:[xr],borderColor:[e],borderRadius:["none","","full",ca,Al],borderSpacing:[t],borderWidth:A(),contrast:[xr],grayscale:j(),hueRotate:[xr],invert:j(),gap:[t],gradientColorStops:[e],inset:k(),margin:k(),opacity:[xr],padding:[t],saturate:[xr],scale:[xr],sepia:j(),skew:[xr,Qn],space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",Qn]}],container:["container"],columns:[{columns:[ca]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(P(),[Qn])}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:[xr]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qn]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",xr]}],"grid-cols":[{"grid-cols":[Kd]}],"col-start-end":[{col:["auto",{span:[xr]}]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Kd]}],"row-start-end":[{row:["auto",{span:[xr]}]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:F()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(F(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(F(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",Wi]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ca]},ca,Al]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Wi]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",ca,Al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$T]}],"font-family":[{font:[Kd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Al]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wi]}],"list-style-type":[{list:["none","disc","decimal",Qn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(D(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Wi]}],"underline-offset":[{"underline-offset":["auto",Wi]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Al]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",Qn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(P(),[Sce])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wce]}],"bg-color":[{bg:[e]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[].concat(D(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:D()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(D())}],"outline-offset":[{"outline-offset":[Wi]}],"outline-w":[{outline:[Wi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Wi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ca,Ece]}],"shadow-color":[{shadow:[Kd]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":R()}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ca,Qn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qn]}],duration:[{duration:[xr]}],ease:[{ease:["linear","in","out","in-out",Qn]}],delay:[{delay:[xr]}],animate:[{animate:["none","spin","ping","pulse","bounce",Qn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[xr,Qn]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wi,$T]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],"col-start-end":["col-start","col-end"],"row-start-end":["row-start","row-end"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var kce=mce(xce),Tce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Oce=Tce,TU=Symbol("isTwElement?"),Ace=(e,t)=>e.reduce((n,r,i)=>n.concat(r||[],t[i]||[]),[]),Ice=(e,t="")=>{let n=e.join(" ").trim().replace(/\n/g," ").replace(/\s{2,}/g," ").split(" ").filter(i=>i!==","),r=t?t.split(" "):[];return kce(...n.concat(r).filter(i=>i!==" "))},Mce=([e])=>e.charAt(0)!=="$",o2=e=>e[TU]===!0,OU=e=>(t,...n)=>{let r=(i=[])=>{let s=Fe.forwardRef((o,a)=>{let{$as:l=e,style:c={},...u}=o,d=o2(e)?e:l,f=i?i.reduce((m,v)=>Object.assign(m,typeof v=="function"?v(o):v),{}):{},h=o2(d)?u:Object.fromEntries(Object.entries(u).filter(Mce));return Fe.createElement(d,{...h,style:{...f,...c},ref:a,className:Ice(Ace(t,n.map(m=>m({...u,$as:l}))),u.className),...o2(e)?{$as:l}:{}})});return s[TU]=!0,typeof e!="string"?s.displayName=e.displayName||e.name||"tw.Component":s.displayName="tw."+e,s.withStyle=o=>r(i.concat(o)),s};return r()},Rce=Oce.reduce((e,t)=>({...e,[t]:OU(t)}),{}),Nce=Object.assign(OU,Rce),sl=Nce;function WT(){return g.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:g.jsx(Ce,{id:"PoPvGE",defaultMessage:"Alpha"})})}function KT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function AU(...e){return t=>{let n=!1;const r=e.map(i=>{const s=KT(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():KT(e[i],null)}}}}function QLe(...e){return p.useCallback(AU(...e),e)}function Pce(e){const t=Dce(e),n=p.forwardRef((r,i)=>{const{children:s,...o}=r,a=p.Children.toArray(s),l=a.find(Fce);if(l){const c=l.props.children,u=a.map(d=>d===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:d);return g.jsx(t,{...o,ref:i,children:p.isValidElement(c)?p.cloneElement(c,void 0,u):null})}return g.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var IU=Pce("Slot");function Dce(e){const t=p.forwardRef((n,r)=>{const{children:i,...s}=n;if(p.isValidElement(i)){const o=Bce(i),a=jce(s,i.props);return i.type!==p.Fragment&&(a.ref=r?AU(r,o):o),p.cloneElement(i,a)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lce=Symbol("radix.slottable");function Fce(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lce}function jce(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Bce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Uce=["top","right","bottom","left"],Ga=Math.min,oi=Math.max,T1=Math.round,Zp=Math.floor,Ha=e=>({x:e,y:e}),qce={left:"right",right:"left",bottom:"top",top:"bottom"},zce={start:"end",end:"start"};function F6(e,t,n){return oi(e,Ga(t,n))}function qo(e,t){return typeof e=="function"?e(t):e}function zo(e){return e.split("-")[0]}function kd(e){return e.split("-")[1]}function Xw(e){return e==="x"?"y":"x"}function e9(e){return e==="y"?"height":"width"}function Td(e){return["top","bottom"].includes(zo(e))?"y":"x"}function t9(e){return Xw(Td(e))}function Gce(e,t,n){n===void 0&&(n=!1);const r=kd(e),i=t9(e),s=e9(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=O1(o)),[o,O1(o)]}function Hce(e){const t=O1(e);return[j6(e),t,j6(t)]}function j6(e){return e.replace(/start|end/g,t=>zce[t])}function Vce(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function $ce(e,t,n,r){const i=kd(e);let s=Vce(zo(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(j6)))),s}function O1(e){return e.replace(/left|right|bottom|top/g,t=>qce[t])}function Wce(e){return{top:0,right:0,bottom:0,left:0,...e}}function MU(e){return typeof e!="number"?Wce(e):{top:e,right:e,bottom:e,left:e}}function A1(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function YT(e,t,n){let{reference:r,floating:i}=e;const s=Td(t),o=t9(t),a=e9(o),l=zo(t),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(kd(t)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const Kce=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=YT(c,r,l),f=r,h={},m=0;for(let v=0;v<a.length;v++){const{name:_,fn:y}=a[v],{x:b,y:C,data:S,reset:x}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:e,floating:t}});u=b??u,d=C??d,h={...h,[_]:{...h[_],...S}},x&&m<=50&&(m++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(c=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:u,y:d}=YT(c,f,l)),v=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function Xf(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=qo(t,e),m=MU(h),_=a[f?d==="floating"?"reference":"floating":d],y=A1(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{...o.floating,x:r,y:i}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},x=A1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:C,strategy:l}):b);return{top:(y.top-x.top+m.top)/S.y,bottom:(x.bottom-y.bottom+m.bottom)/S.y,left:(y.left-x.left+m.left)/S.x,right:(x.right-y.right+m.right)/S.x}}const Yce=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=qo(e,t)||{};if(c==null)return{};const d=MU(u),f={x:n,y:r},h=t9(i),m=e9(h),v=await o.getDimensions(c),_=h==="y",y=_?"top":"left",b=_?"bottom":"right",C=_?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[h]-f[h]-s.floating[m],x=f[h]-s.reference[h],w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=w?w[C]:0;(!E||!await(o.isElement==null?void 0:o.isElement(w)))&&(E=a.floating[C]||s.floating[m]);const T=S/2-x/2,O=E/2-v[m]/2-1,k=Ga(d[y],O),A=Ga(d[b],O),I=k,P=E-v[m]-A,D=E/2-v[m]/2+T,R=F6(I,D,P),F=!l.arrow&&kd(i)!=null&&D!==R&&s.reference[m]/2-(D<I?k:A)-v[m]/2<0,j=F?D<I?D-I:D-P:0;return{[h]:f[h]+j,data:{[h]:R,centerOffset:D-R-j,...F&&{alignmentOffset:j}},reset:F}}}),Zce=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,..._}=qo(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=zo(i),b=zo(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(b||!v?[O1(a)]:Hce(a));!f&&m!=="none"&&S.push(...$ce(a,v,m,C));const x=[a,...S],w=await Xf(t,_),E=[];let T=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(w[y]),d){const I=Gce(i,o,C);E.push(w[I[0]],w[I[1]])}if(T=[...T,{placement:i,overflows:E}],!E.every(I=>I<=0)){var O,k;const I=(((O=s.flip)==null?void 0:O.index)||0)+1,P=x[I];if(P)return{data:{index:I,overflows:T},reset:{placement:P}};let D=(k=T.filter(R=>R.overflows[0]<=0).sort((R,F)=>R.overflows[1]-F.overflows[1])[0])==null?void 0:k.placement;if(!D)switch(h){case"bestFit":{var A;const R=(A=T.map(F=>[F.placement,F.overflows.filter(j=>j>0).reduce((j,V)=>j+V,0)]).sort((F,j)=>F[1]-j[1])[0])==null?void 0:A[0];R&&(D=R);break}case"initialPlacement":D=a;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function ZT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function JT(e){return Uce.some(t=>e[t]>=0)}const Jce=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=qo(e,t);switch(r){case"referenceHidden":{const s=await Xf(t,{...i,elementContext:"reference"}),o=ZT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:JT(o)}}}case"escaped":{const s=await Xf(t,{...i,altBoundary:!0}),o=ZT(s,n.floating);return{data:{escapedOffsets:o,escaped:JT(o)}}}default:return{}}}}};async function Qce(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=zo(n),a=kd(n),l=Td(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=qo(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Xce=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=t,l=await Qce(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},eue=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:y,y:b}=_;return{x:y,y:b}}},...l}=qo(e,t),c={x:n,y:r},u=await Xf(t,l),d=Td(zo(i)),f=Xw(d);let h=c[f],m=c[d];if(s){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=h+u[_],C=h-u[y];h=F6(b,h,C)}if(o){const _=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=m+u[_],C=m-u[y];m=F6(b,m,C)}const v=a.fn({...t,[f]:h,[d]:m});return{...v,data:{x:v.x-n,y:v.y-r}}}}},tue=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=qo(e,t),u={x:n,y:r},d=Td(i),f=Xw(d);let h=u[f],m=u[d];const v=qo(a,t),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const C=f==="y"?"height":"width",S=s.reference[f]-s.floating[C]+_.mainAxis,x=s.reference[f]+s.reference[C]-_.mainAxis;h<S?h=S:h>x&&(h=x)}if(c){var y,b;const C=f==="y"?"width":"height",S=["top","left"].includes(zo(i)),x=s.reference[d]-s.floating[C]+(S&&((y=o.offset)==null?void 0:y[d])||0)+(S?0:_.crossAxis),w=s.reference[d]+s.reference[C]+(S?0:((b=o.offset)==null?void 0:b[d])||0)-(S?_.crossAxis:0);m<x?m=x:m>w&&(m=w)}return{[f]:h,[d]:m}}}},nue=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:o=()=>{},...a}=qo(e,t),l=await Xf(t,a),c=zo(n),u=kd(n),d=Td(n)==="y",{width:f,height:h}=r.floating;let m,v;c==="top"||c==="bottom"?(m=c,v=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,m=u==="end"?"top":"bottom");const _=h-l[m],y=f-l[v],b=!t.middlewareData.shift;let C=_,S=y;if(d){const w=f-l.left-l.right;S=u||b?Ga(y,w):w}else{const w=h-l.top-l.bottom;C=u||b?Ga(_,w):w}if(b&&!u){const w=oi(l.left,0),E=oi(l.right,0),T=oi(l.top,0),O=oi(l.bottom,0);d?S=f-2*(w!==0||E!==0?w+E:oi(l.left,l.right)):C=h-2*(T!==0||O!==0?T+O:oi(l.top,l.bottom))}await o({...t,availableWidth:S,availableHeight:C});const x=await i.getDimensions(s.floating);return f!==x.width||h!==x.height?{reset:{rects:!0}}:{}}}};function h0(){return typeof window<"u"}function Od(e){return RU(e)?(e.nodeName||"").toLowerCase():"#document"}function fi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function io(e){var t;return(t=(RU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RU(e){return h0()?e instanceof Node||e instanceof fi(e).Node:!1}function vs(e){return h0()?e instanceof Element||e instanceof fi(e).Element:!1}function Qs(e){return h0()?e instanceof HTMLElement||e instanceof fi(e).HTMLElement:!1}function QT(e){return!h0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fi(e).ShadowRoot}function Hh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=_s(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function rue(e){return["table","td","th"].includes(Od(e))}function p0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function n9(e){const t=r9(),n=vs(e)?_s(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function iue(e){let t=Va(e);for(;Qs(t)&&!od(t);){if(n9(t))return t;if(p0(t))return null;t=Va(t)}return null}function r9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function od(e){return["html","body","#document"].includes(Od(e))}function _s(e){return fi(e).getComputedStyle(e)}function m0(e){return vs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Va(e){if(Od(e)==="html")return e;const t=e.assignedSlot||e.parentNode||QT(e)&&e.host||io(e);return QT(t)?t.host:t}function NU(e){const t=Va(e);return od(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qs(t)&&Hh(t)?t:NU(t)}function eh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=NU(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=fi(i);if(s){const a=B6(o);return t.concat(o,o.visualViewport||[],Hh(i)?i:[],a&&n?eh(a):[])}return t.concat(i,eh(i,[],n))}function B6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PU(e){const t=_s(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Qs(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=T1(n)!==s||T1(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function i9(e){return vs(e)?e:e.contextElement}function Uu(e){const t=i9(e);if(!Qs(t))return Ha(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=PU(t);let o=(s?T1(n.width):n.width)/r,a=(s?T1(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const sue=Ha(0);function DU(e){const t=fi(e);return!r9()||!t.visualViewport?sue:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oue(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fi(e)?!1:t}function hc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=i9(e);let o=Ha(1);t&&(r?vs(r)&&(o=Uu(r)):o=Uu(e));const a=oue(s,n,r)?DU(s):Ha(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=fi(s),h=r&&vs(r)?fi(r):r;let m=f,v=B6(m);for(;v&&r&&h!==m;){const _=Uu(v),y=v.getBoundingClientRect(),b=_s(v),C=y.left+(v.clientLeft+parseFloat(b.paddingLeft))*_.x,S=y.top+(v.clientTop+parseFloat(b.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=C,c+=S,m=fi(v),v=B6(m)}}return A1({width:u,height:d,x:l,y:c})}function aue(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=io(r),a=t?p0(t.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ha(1);const u=Ha(0),d=Qs(r);if((d||!d&&!s)&&((Od(r)!=="body"||Hh(o))&&(l=m0(r)),Qs(r))){const f=hc(r);c=Uu(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function lue(e){return Array.from(e.getClientRects())}function U6(e,t){const n=m0(e).scrollLeft;return t?t.left+n:hc(io(e)).left+n}function cue(e){const t=io(e),n=m0(e),r=e.ownerDocument.body,i=oi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=oi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+U6(e);const a=-n.scrollTop;return _s(r).direction==="rtl"&&(o+=oi(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function uue(e,t){const n=fi(e),r=io(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=r9();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function due(e,t){const n=hc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Qs(e)?Uu(e):Ha(1),o=e.clientWidth*s.x,a=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function XT(e,t,n){let r;if(t==="viewport")r=uue(e,n);else if(t==="document")r=cue(io(e));else if(vs(t))r=due(t,n);else{const i=DU(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return A1(r)}function LU(e,t){const n=Va(e);return n===t||!vs(n)||od(n)?!1:_s(n).position==="fixed"||LU(n,t)}function fue(e,t){const n=t.get(e);if(n)return n;let r=eh(e,[],!1).filter(a=>vs(a)&&Od(a)!=="body"),i=null;const s=_s(e).position==="fixed";let o=s?Va(e):e;for(;vs(o)&&!od(o);){const a=_s(o),l=n9(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Hh(o)&&!l&&LU(e,o))?r=r.filter(u=>u!==o):i=a,o=Va(o)}return t.set(e,r),r}function hue(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?p0(t)?[]:fue(t,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=XT(t,u,i);return c.top=oi(d.top,c.top),c.right=Ga(d.right,c.right),c.bottom=Ga(d.bottom,c.bottom),c.left=oi(d.left,c.left),c},XT(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pue(e){const{width:t,height:n}=PU(e);return{width:t,height:n}}function mue(e,t,n){const r=Qs(t),i=io(t),s=n==="fixed",o=hc(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const l=Ha(0);if(r||!r&&!s)if((Od(t)!=="body"||Hh(i))&&(a=m0(t)),r){const h=hc(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=U6(i));let c=0,u=0;if(i&&!r&&!s){const h=i.getBoundingClientRect();u=h.top+a.scrollTop,c=h.left+a.scrollLeft-U6(i,h)}const d=o.left+a.scrollLeft-l.x-c,f=o.top+a.scrollTop-l.y-u;return{x:d,y:f,width:o.width,height:o.height}}function a2(e){return _s(e).position==="static"}function eO(e,t){if(!Qs(e)||_s(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return io(e)===n&&(n=n.ownerDocument.body),n}function FU(e,t){const n=fi(e);if(p0(e))return n;if(!Qs(e)){let i=Va(e);for(;i&&!od(i);){if(vs(i)&&!a2(i))return i;i=Va(i)}return n}let r=eO(e,t);for(;r&&rue(r)&&a2(r);)r=eO(r,t);return r&&od(r)&&a2(r)&&!n9(r)?n:r||iue(e)||n}const gue=async function(e){const t=this.getOffsetParent||FU,n=this.getDimensions,r=await n(e.floating);return{reference:mue(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vue(e){return _s(e).direction==="rtl"}const _ue={convertOffsetParentRelativeRectToViewportRelativeRect:aue,getDocumentElement:io,getClippingRect:hue,getOffsetParent:FU,getElementRects:gue,getClientRects:lue,getDimensions:pue,getScale:Uu,isElement:vs,isRTL:vue};function yue(e,t){let n=null,r;const i=io(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=e.getBoundingClientRect();if(a||t(),!d||!f)return;const h=Zp(u),m=Zp(i.clientWidth-(c+d)),v=Zp(i.clientHeight-(u+f)),_=Zp(c),b={rootMargin:-h+"px "+-m+"px "+-v+"px "+-_+"px",threshold:oi(0,Ga(1,l))||1};let C=!0;function S(x){const w=x[0].intersectionRatio;if(w!==l){if(!C)return o();w?o(!1,w):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(e)}return o(!0),s}function bue(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=i9(e),u=i||s?[...c?eh(c):[],...eh(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&a?yue(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=h)==null||C.observe(t)})),n()}),c&&!l&&h.observe(c),h.observe(t));let m,v=l?hc(e):null;l&&_();function _(){const y=hc(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&n(),v=y,m=requestAnimationFrame(_)}return n(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d?.(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const Cue=Xce,Sue=eue,wue=Zce,Eue=nue,xue=Jce,tO=Yce,kue=tue,Tue=(e,t,n)=>{const r=new Map,i={platform:_ue,...n},s={...i.platform,_c:r};return Kce(e,t,{...i,platform:s})};var Pm=typeof document<"u"?p.useLayoutEffect:p.useEffect;function I1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!I1(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!I1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function jU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nO(e,t){const n=jU(e);return Math.round(t*n)/n}function l2(e){const t=p.useRef(e);return Pm(()=>{t.current=e}),t}function Oue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,d]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=p.useState(r);I1(f,r)||h(r);const[m,v]=p.useState(null),[_,y]=p.useState(null),b=p.useCallback(V=>{V!==w.current&&(w.current=V,v(V))},[]),C=p.useCallback(V=>{V!==E.current&&(E.current=V,y(V))},[]),S=s||m,x=o||_,w=p.useRef(null),E=p.useRef(null),T=p.useRef(u),O=l!=null,k=l2(l),A=l2(i),I=l2(c),P=p.useCallback(()=>{if(!w.current||!E.current)return;const V={placement:t,strategy:n,middleware:f};A.current&&(V.platform=A.current),Tue(w.current,E.current,V).then(B=>{const M={...B,isPositioned:I.current!==!1};D.current&&!I1(T.current,M)&&(T.current=M,n4.flushSync(()=>{d(M)}))})},[f,t,n,A,I]);Pm(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[c]);const D=p.useRef(!1);Pm(()=>(D.current=!0,()=>{D.current=!1}),[]),Pm(()=>{if(S&&(w.current=S),x&&(E.current=x),S&&x){if(k.current)return k.current(S,x,P);P()}},[S,x,P,k,O]);const R=p.useMemo(()=>({reference:w,floating:E,setReference:b,setFloating:C}),[b,C]),F=p.useMemo(()=>({reference:S,floating:x}),[S,x]),j=p.useMemo(()=>{const V={position:n,left:0,top:0};if(!F.floating)return V;const B=nO(F.floating,u.x),M=nO(F.floating,u.y);return a?{...V,transform:"translate("+B+"px, "+M+"px)",...jU(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:M}},[n,a,F.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:P,refs:R,elements:F,floatingStyles:j}),[u,P,R,F,j])}const Aue=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?tO({element:r.current,padding:i}).fn(n):{}:r?tO({element:r,padding:i}).fn(n):{}}}},Iue=(e,t)=>({...Cue(e),options:[e,t]}),Mue=(e,t)=>({...Sue(e),options:[e,t]}),Rue=(e,t)=>({...kue(e),options:[e,t]}),Nue=(e,t)=>({...wue(e),options:[e,t]}),Pue=(e,t)=>({...Eue(e),options:[e,t]}),Due=(e,t)=>({...xue(e),options:[e,t]}),Lue=(e,t)=>({...Aue(e),options:[e,t]});var Fue="Arrow",BU=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return g.jsx(Yt.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});BU.displayName=Fue;var jue=BU,s9="Popper",[UU,g0]=Kw(s9),[Bue,qU]=UU(s9),zU=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return g.jsx(Bue,{scope:t,anchor:r,onAnchorChange:i,children:n})};zU.displayName=s9;var GU="PopperAnchor",HU=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=qU(GU,n),o=p.useRef(null),a=In(t,o);return p.useEffect(()=>{s.onAnchorChange(r?.current||o.current)}),r?null:g.jsx(Yt.div,{...i,ref:a})});HU.displayName=GU;var o9="PopperContent",[Uue,que]=UU(o9),VU=p.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...v}=e,_=qU(o9,n),[y,b]=p.useState(null),C=In(t,de=>b(de)),[S,x]=p.useState(null),w=XB(S),E=w?.width??0,T=w?.height??0,O=r+(s!=="center"?"-"+s:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(c)?c:[c],I=A.length>0,P={padding:k,boundary:A.filter(Gue),altBoundary:I},{refs:D,floatingStyles:R,placement:F,isPositioned:j,middlewareData:V}=Oue({strategy:"fixed",placement:O,whileElementsMounted:(...de)=>bue(...de,{animationFrame:h==="always"}),elements:{reference:_.anchor},middleware:[Iue({mainAxis:i+T,alignmentAxis:o}),l&&Mue({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Rue():void 0,...P}),l&&Nue({...P}),Pue({...P,apply:({elements:de,rects:ee,availableWidth:ke,availableHeight:se})=>{const{width:fe,height:he}=ee.reference,Oe=de.floating.style;Oe.setProperty("--radix-popper-available-width",`${ke}px`),Oe.setProperty("--radix-popper-available-height",`${se}px`),Oe.setProperty("--radix-popper-anchor-width",`${fe}px`),Oe.setProperty("--radix-popper-anchor-height",`${he}px`)}}),S&&Lue({element:S,padding:a}),Hue({arrowWidth:E,arrowHeight:T}),f&&Due({strategy:"referenceHidden",...P})]}),[B,M]=KU(F),re=Bi(m);ac(()=>{j&&re?.()},[j,re]);const ge=V.arrow?.x,N=V.arrow?.y,we=V.arrow?.centerOffset!==0,[ye,X]=p.useState();return ac(()=>{y&&X(window.getComputedStyle(y).zIndex)},[y]),g.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:j?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:g.jsx(Uue,{scope:n,placedSide:B,onArrowChange:x,arrowX:ge,arrowY:N,shouldHideArrow:we,children:g.jsx(Yt.div,{"data-side":B,"data-align":M,...v,ref:C,style:{...v.style,animation:j?void 0:"none"}})})})});VU.displayName=o9;var $U="PopperArrow",zue={top:"bottom",right:"left",bottom:"top",left:"right"},WU=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=que($U,r),o=zue[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(jue,{...i,ref:n,style:{...i.style,display:"block"}})})});WU.displayName=$U;function Gue(e){return e!==null}var Hue=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,a=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,u]=KU(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(i.arrow?.x??0)+a/2,h=(i.arrow?.y??0)+l/2;let m="",v="";return c==="bottom"?(m=o?d:`${f}px`,v=`${-l}px`):c==="top"?(m=o?d:`${f}px`,v=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,v=o?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,v=o?d:`${h}px`),{data:{x:m,y:v}}}});function KU(e){const[t,n="center"]=e.split("-");return[t,n]}var a9=zU,YU=HU,ZU=VU,JU=WU,[v0,XLe]=Sd("Tooltip",[g0]),_0=g0(),QU="TooltipProvider",Vue=700,q6="tooltip.open",[$ue,l9]=v0(QU),XU=e=>{const{__scopeTooltip:t,delayDuration:n=Vue,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,[o,a]=p.useState(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx($ue,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};XU.displayName=QU;var y0="Tooltip",[Wue,Vh]=v0(y0),eq=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=e,l=l9(y0,e.__scopeTooltip),c=_0(t),[u,d]=p.useState(null),f=Ks(),h=p.useRef(0),m=o??l.disableHoverableContent,v=a??l.delayDuration,_=p.useRef(!1),[y=!1,b]=xc({prop:r,defaultProp:i,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(q6))):l.onClose(),s?.(E)}}),C=p.useMemo(()=>y?_.current?"delayed-open":"instant-open":"closed",[y]),S=p.useCallback(()=>{window.clearTimeout(h.current),h.current=0,_.current=!1,b(!0)},[b]),x=p.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),w=p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{_.current=!0,b(!0),h.current=0},v)},[v,b]);return p.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),g.jsx(a9,{...c,children:g.jsx(Wue,{scope:t,contentId:f,open:y,stateAttribute:C,trigger:u,onTriggerChange:d,onTriggerEnter:p.useCallback(()=>{l.isOpenDelayed?w():S()},[l.isOpenDelayed,w,S]),onTriggerLeave:p.useCallback(()=>{m?x():(window.clearTimeout(h.current),h.current=0)},[x,m]),onOpen:S,onClose:x,disableHoverableContent:m,children:n})})};eq.displayName=y0;var z6="TooltipTrigger",tq=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Vh(z6,n),s=l9(z6,n),o=_0(n),a=p.useRef(null),l=In(t,a,i.onTriggerChange),c=p.useRef(!1),u=p.useRef(!1),d=p.useCallback(()=>c.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),g.jsx(YU,{asChild:!0,...o,children:g.jsx(Yt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:et(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:et(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:et(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:et(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:et(e.onBlur,i.onClose),onClick:et(e.onClick,i.onClose)})})});tq.displayName=z6;var c9="TooltipPortal",[Kue,Yue]=v0(c9,{forceMount:void 0}),nq=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,s=Vh(c9,t);return g.jsx(Kue,{scope:t,forceMount:n,children:g.jsx(ws,{present:n||s.open,children:g.jsx(Dh,{asChild:!0,container:i,children:r})})})};nq.displayName=c9;var ad="TooltipContent",rq=p.forwardRef((e,t)=>{const n=Yue(ad,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,o=Vh(ad,e.__scopeTooltip);return g.jsx(ws,{present:r||o.open,children:o.disableHoverableContent?g.jsx(iq,{side:i,...s,ref:t}):g.jsx(Zue,{side:i,...s,ref:t})})}),Zue=p.forwardRef((e,t)=>{const n=Vh(ad,e.__scopeTooltip),r=l9(ad,e.__scopeTooltip),i=p.useRef(null),s=In(t,i),[o,a]=p.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,f=p.useCallback(()=>{a(null),d(!1)},[d]),h=p.useCallback((m,v)=>{const _=m.currentTarget,y={x:m.clientX,y:m.clientY},b=Xue(y,_.getBoundingClientRect()),C=ede(y,b),S=tde(v.getBoundingClientRect()),x=rde([...C,...S]);a(x),d(!0)},[d]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(l&&u){const m=_=>h(_,u),v=_=>h(_,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",v)}}},[l,u,h,f]),p.useEffect(()=>{if(o){const m=v=>{const _=v.target,y={x:v.clientX,y:v.clientY},b=l?.contains(_)||u?.contains(_),C=!nde(y,o);b?f():C&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,o,c,f]),g.jsx(iq,{...e,ref:s})}),[Jue,Que]=v0(y0,{isInside:!1}),iq=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=e,l=Vh(ad,n),c=_0(n),{onClose:u}=l;return p.useEffect(()=>(document.addEventListener(q6,u),()=>document.removeEventListener(q6,u)),[u]),p.useEffect(()=>{if(l.trigger){const d=f=>{f.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),g.jsx(Ph,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:g.jsxs(ZU,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(VF,{children:r}),g.jsx(Jue,{scope:n,isInside:!0,children:g.jsx(tre,{id:l.contentId,role:"tooltip",children:i||r})})]})})});rq.displayName=ad;var sq="TooltipArrow",oq=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=_0(n);return Que(sq,n).isInside?null:g.jsx(JU,{...i,...r,ref:t})});oq.displayName=sq;function Xue(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ede(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function tde(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function nde(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,l=t[s].y,c=t[o].x,u=t[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function rde(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ide(t)}function ide(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var sde=XU,ode=eq,ade=tq,lde=nq,cde=rq,ude=oq;function aq(e,t){const n=p.useLayoutEffect;n(e,t)}const dde=()=>document?.body??null,lq=p.createContext(dde);function eFe(e){"use forget";const t=Te.c(17),{children:n,className:r,open:i,onClose:s,closedBy:o}=e,a=p.useRef(null);let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>a.current,t[0]=l):l=t[0];const c=l;let u,d;t[1]!==i?(u=()=>{const C=a.current;if(!(!i||!C))return i==="modal"?C.showModal():C.show(),()=>{C.close()}},d=[i],t[1]=i,t[2]=u,t[3]=d):(u=t[2],d=t[3]),p.useEffect(u,d);let f;t[4]!==s?(f=C=>{C.target===C.currentTarget&&s?.()},t[4]=s,t[5]=f):f=t[5];const h=f;let m;t[6]!==o||t[7]!==s?(m=C=>{o&&["any","closerequest"].includes(o)&&C.key==="Escape"&&s?.()},t[6]=o,t[7]=s,t[8]=m):m=t[8];const v=m,_=i===!0;let y;t[9]!==n?(y=g.jsx(lq,{value:c,children:n}),t[9]=n,t[10]=y):y=t[10];let b;return t[11]!==r||t[12]!==h||t[13]!==v||t[14]!==_||t[15]!==y?(b=g.jsx("dialog",{className:r,open:_,ref:a,onClick:h,onKeyUp:v,children:y}),t[11]=r,t[12]=h,t[13]=v,t[14]=_,t[15]=y,t[16]=b):b=t[16],b}function cq(){"use forget";const e=Te.c(7),[t,n]=p.useState(null),r=p.use(lq);let i;e[0]!==r?(i=r(),e[0]=r,e[1]=i):i=e[1];const s=i;let o,a;e[2]!==s?(o=()=>{n(s)},a=[s],e[2]=s,e[3]=o,e[4]=a):(o=e[3],a=e[4]),aq(o,a);let l;return e[5]!==t?(l=t!=null?{container:t}:{},e[5]=t,e[6]=l):l=e[6],l}const bi=e=>{"use forget";const t=Te.c(69),{ariaLive:n,triggerAs:r,disabled:i,label:s,secondaryLabel:o,contentClassName:a,customPaddingClassName:l,customBorderClassName:c,customBackgroundColorClassName:u,theme:d,cornerRadius:f,side:h,sideOffset:m,align:v,alignOffset:_,withArrow:y,wide:b,narrow:C,interactive:S,usePortal:x,className:w,children:E,delayDuration:T,closeOnOutsideClick:O,open:k,onOpenChange:A,onDismissClick:I,isLeftArrow:P,labelTextAlign:D,ignoreTriggerOnOutsideClick:R,labelOrientation:F,defaultOpen:j,labelClassName:V}=e,B=r===void 0?"span":r,M=d===void 0?"default":d,re=f===void 0?"lg":f,ge=h===void 0?"bottom":h,N=m===void 0?8:m,we=v===void 0?"center":v,ye=_===void 0?0:_,X=y===void 0?!1:y,de=b===void 0?!1:b,ee=C===void 0?!1:C,ke=S===void 0?!1:S,se=x===void 0?!0:x,fe=T===void 0?0:T,he=O===void 0?!0:O,Oe=P===void 0?!1:P,Ze=D===void 0?"center":D,le=R===void 0?!1:R,Q=F===void 0?"vertical":F,ie=j===void 0?!1:j,Me=it(),Z=p.useRef(null);if(i){let Un;return t[0]!==E?(Un=g.jsx(g.Fragment,{children:E}),t[0]=E,t[1]=Un):Un=t[1],Un}if(!s){let Un;return t[2]!==B||t[3]!==E||t[4]!==w?(Un=B?g.jsx(B,{className:w,children:E}):E,t[2]=B,t[3]=E,t[4]=w,t[5]=Un):Un=t[5],Un}let $;e:switch(M){case"white":{$="light bg-white";break e}case"primary":{$="bg-token-main-surface-primary";break e}case"default":$="dark bg-black"}u!=null&&($=u);const U=Ze==="left"?"text-start":"text-center";let pe;t[6]!==he||t[7]!==le?(pe=he?le?Un=>{Z.current?.contains(Un.target)&&Un.preventDefault()}:void 0:Cde,t[6]=he,t[7]=le,t[8]=pe):pe=t[8];const Ae=l??"px-2 py-1",te=M==="white"&&"shadow-xs",L=`rounded-${re}`,H=!X&&"overflow-hidden",W=de?"max-w-sm":ee?"max-w-2xs":"max-w-xs";let ae;t[9]!==$||t[10]!==a||t[11]!==c||t[12]!==Ae||t[13]!==te||t[14]!==L||t[15]!==H||t[16]!==W?(ae=xe("relative z-50 transition-opacity select-none",Ae,te,L,H,c,$,W,a),t[9]=$,t[10]=a,t[11]=c,t[12]=Ae,t[13]=te,t[14]=L,t[15]=H,t[16]=W,t[17]=ae):ae=t[17];const Re=Q==="horizontal"?"flex gap-2":void 0;let st;t[18]!==V||t[19]!==U?(st=xe("text-token-text-primary text-xs font-semibold whitespace-pre-wrap",U,V),t[18]=V,t[19]=U,t[20]=st):st=t[20];let pt;t[21]!==s||t[22]!==st?(pt=g.jsx("div",{className:st,children:s}),t[21]=s,t[22]=st,t[23]=pt):pt=t[23];let lt;t[24]!==o||t[25]!==U?(lt=o&&g.jsx("div",{className:xe("text-token-text-tertiary text-xs font-medium whitespace-pre-wrap",U),children:o}),t[24]=o,t[25]=U,t[26]=lt):lt=t[26];let nt;t[27]!==$||t[28]!==Oe||t[29]!==X?(nt=X&&g.jsx(ude,{asChild:!0,children:Oe?g.jsx(pde,{className:$}):g.jsx(hde,{className:$})}),t[27]=$,t[28]=Oe,t[29]=X,t[30]=nt):nt=t[30];let St;t[31]!==Re||t[32]!==pt||t[33]!==lt||t[34]!==nt?(St=g.jsxs("div",{className:Re,children:[pt,lt,nt]}),t[31]=Re,t[32]=pt,t[33]=lt,t[34]=nt,t[35]=St):St=t[35];let wt;t[36]!==Me||t[37]!==I?(wt=I&&g.jsx(bj,{role:"button","aria-label":Me.formatMessage(mde.dismissTooltip),tabIndex:0,className:"icon -me-1 cursor-pointer text-gray-400",onClick:I}),t[36]=Me,t[37]=I,t[38]=wt):wt=t[38];let At;t[39]!==St||t[40]!==wt?(At=g.jsxs("div",{className:"flex items-center gap-1",children:[St,wt]}),t[39]=St,t[40]=wt,t[41]=At):At=t[41];let mt;t[42]!==we||t[43]!==ye||t[44]!==n||t[45]!==ge||t[46]!==N||t[47]!==pe||t[48]!==ae||t[49]!==At?(mt=g.jsx(cde,{onEscapeKeyDown:bde,collisionPadding:8,onPointerDownOutside:pe,"aria-live":n,side:ge,sideOffset:N,alignOffset:ye,align:we,className:ae,children:At}),t[42]=we,t[43]=ye,t[44]=n,t[45]=ge,t[46]=N,t[47]=pe,t[48]=ae,t[49]=At,t[50]=mt):mt=t[50];const yn=mt,fr=!ke,hr=le?Sde:void 0;let zt;t[51]!==B||t[52]!==E||t[53]!==w?(zt=B?g.jsx(gde,{as:B,className:w,children:E}):E,t[51]=B,t[52]=E,t[53]=w,t[54]=zt):zt=t[54];let Jr;t[55]!==hr||t[56]!==zt?(Jr=g.jsx(ade,{asChild:!0,ref:Z,onClick:hr,children:zt}),t[55]=hr,t[56]=zt,t[57]=Jr):Jr=t[57];let pr;t[58]!==yn||t[59]!==se?(pr=se?g.jsx(fde,{children:g.jsx(rO,{children:yn})}):g.jsx(rO,{children:yn}),t[58]=yn,t[59]=se,t[60]=pr):pr=t[60];let Qr;return t[61]!==ie||t[62]!==fe||t[63]!==A||t[64]!==k||t[65]!==fr||t[66]!==Jr||t[67]!==pr?(Qr=g.jsxs(ode,{delayDuration:fe,disableHoverableContent:fr,defaultOpen:ie,open:k,onOpenChange:A,children:[Jr,pr]}),t[61]=ie,t[62]=fe,t[63]=A,t[64]=k,t[65]=fr,t[66]=Jr,t[67]=pr,t[68]=Qr):Qr=t[68],Qr};function fde(e){"use forget";const t=Te.c(3),{children:n}=e,r=cq();let i;return t[0]!==n||t[1]!==r?(i=g.jsx(lde,{...r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}const hde=sl.div`relative top-[-4px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10`,pde=sl.div`relative top-[-4px] end-[-135px] h-2 w-2 rotate-45 transform shadow-xs dark:border-e dark:border-b border-white/10`,mde=Ot({dismissTooltip:{id:"Tooltip.dismissTooltip",defaultMessage:"Close Tooltip"}}),gde=e=>{"use forget";const t=Te.c(15);let n,r,i;if(t[0]!==e?({as:n,children:r,...i}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i):(n=t[1],r=t[2],i=t[3]),!p.isValidElement(r)){let l;return t[4]!==n||t[5]!==r||t[6]!==i?(l=g.jsx(n,{...i,children:r}),t[4]=n,t[5]=r,t[6]=i,t[7]=l):l=t[7],l}const s=i["aria-describedby"];let o;t[8]!==r||t[9]!==s?(o=g.jsx(IU,{"aria-describedby":s,children:r}),t[8]=r,t[9]=s,t[10]=o):o=t[10];let a;return t[11]!==n||t[12]!==i||t[13]!==o?(a=g.jsx(n,{...i,onFocusCapture:i.onFocus,children:o}),t[11]=n,t[12]=i,t[13]=o,t[14]=a):a=t[14],a},M1=p.createContext(!1),rO=e=>{"use forget";const t=Te.c(5),{children:n}=e,i=p.use(M1)&&"sr-only!";let s;t[0]!==i?(s=xe(i),t[0]=i,t[1]=s):s=t[1];let o;return t[2]!==n||t[3]!==s?(o=g.jsx(IU,{className:s,children:n}),t[2]=n,t[3]=s,t[4]=o):o=t[4],o},vde=({children:e})=>g.jsx(M1.Provider,{value:!1,children:e}),_de=e=>{"use forget";const t=Te.c(6),{children:n}=e,r=p.use(M1),[i,s]=p.useState(!1);let o;t[0]!==r||t[1]!==n?(o=r?n:p.cloneElement(n,{onOpenChange:d=>{s(d),n.props.onOpenChange?.(d)}}),t[0]=r,t[1]=n,t[2]=o):o=t[2];const a=o,l=n.props.open??i,c=r===!0||l;let u;return t[3]!==a||t[4]!==c?(u=g.jsx(M1.Provider,{value:c,children:a}),t[3]=a,t[4]=c,t[5]=u):u=t[5],u};function yde(){document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0}))}function bde(e){e.preventDefault(),e.stopPropagation(),queueMicrotask(yde)}function Cde(e){return e.preventDefault()}function Sde(e){e.preventDefault()}var Ad=(e=>(e.General="General",e.Notifications="Notifications",e.Personalization="Personalization",e.Connectors="Connectors",e.ConnectorsAdvanced="Connectors/Advanced",e.DataControls="DataControls",e.Schedules="Schedules",e.Orders="Orders",e.Security="Security",e.AmphoraControls="AmphoraControls",e.Account="Account",e.Internal="Internal",e))(Ad||{});function uq(e){return e.startsWith("#settings")}function tFe(e){return e.startsWith("#settings/Account")}function wde(e){if(!uq(e))return null;const t=e.split("?")[0].split("/")[1];if(Object.values(Ad).includes(t))return t;switch(t){case"Subscription":case"BuilderProfile":case"Referrals":return"Account";case"ConnectorSettings":return"Connectors";case"SecureSignIn":return"Security";case"Record":return"Personalization"}return"General"}function Ede(e){return{hash:e&&e!=="General"?`settings/${e}`:"settings"}}const nFe=e=>g.jsx(Ko,{as:tce,fillContainer:!0,...e});function rFe({value:e,children:t}){return g.jsx(nce,{className:"text-token-text-primary relative flex max-h-[calc(100vh-150px)] w-full flex-col overflow-y-auto px-4 text-sm md:min-h-[380px]",value:e,children:t})}const xde=({title:e,description:t,learnMoreHref:n,children:r,noBorder:i=!1,headerTrailingContent:s})=>{let o;return e&&(o=g.jsx("div",{className:"truncate select-none",children:e}),n&&(o=g.jsxs("div",{className:"flex items-center gap-2",children:[o,g.jsx(bi,{label:g.jsx(Ce,{id:"WbGW2C",defaultMessage:"Learn more"}),contentClassName:"touch:hidden",side:"right",triggerAs:null,children:g.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-token-text-tertiary not-touch:mt-0.5 flex shrink-0 items-center gap-1 text-sm",children:g.jsx(wle,{className:"icon-sm"})})})]})),s&&(o=g.jsxs("div",{className:"flex items-center justify-between",children:[o,s]})),o=g.jsx("div",{className:xe("min-h-header-height flex items-center justify-between py-3",!i&&"border-token-border-default border-b"),children:g.jsxs("h3",{className:"w-full text-lg font-normal",children:[o,t&&g.jsx("div",{className:"text-token-text-tertiary mt-0.5 text-xs",children:t})]})})),g.jsxs("section",{className:"relative mb-4 not-has-[>div,>section,>h1,>h2,>h3,>h4,>h5,>h6]:hidden",children:[o,r]})};function kde({children:e}){return g.jsx("div",{className:"border-token-border-light flex min-h-15 items-center border-b py-2 last-of-type:border-none",children:g.jsx("div",{className:"w-full",children:e})})}const G6=sl.div`text-xs text-token-text-tertiary pe-12 my-1`;function iFe({label:e,disabled:t,enabled:n,onChange:r,description:i,toggleTooltip:s,isLoading:o=!1,testId:a,compactDescription:l=!1,centerToggleVertically:c=!1,showAlphaPill:u=!1,ariaLabel:d}){const f=typeof e=="string"?e:d,h=f?{"aria-label":f}:{"aria-hidden":!0},m=g.jsx(iU,{disabled:t,checked:n,onCheckedChange:r,size:"normal","data-testid":a,...h}),v=s?g.jsx(bi,{label:s,side:"top",children:m}):m;return c?g.jsxs("div",{className:"flex justify-between gap-2",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&g.jsx(WT,{})]}),i!=null&&g.jsx(G6,{className:l?"mt-0.5":void 0,children:i})]}),g.jsx("div",{className:"flex items-center",children:o?g.jsx($f,{}):v})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[e,u&&g.jsx(WT,{})]}),o?g.jsx($f,{}):v]}),i!=null&&g.jsx(G6,{className:l?"mt-0.5":void 0,children:i})]})}function sFe({color:e="secondary",disabled:t,label:n,buttonLabel:r,onClick:i,description:s,testId:o}){const a=s?"items-start":"items-center";return g.jsxs("div",{className:xe("flex",a,"justify-between"),children:[g.jsxs("div",{children:[g.jsx("div",{children:n}),s!=null&&g.jsx(G6,{children:s})]}),g.jsx(Vt,{className:"shrink-0",color:e,disabled:!!t,onClick:i,"data-testid":o,children:r})]})}function oFe({onClick:e,label:t,stateLabel:n,testId:r}){return g.jsx("button",{className:"w-full",onClick:e,"data-testid":r,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{children:t}),g.jsxs("div",{className:"text-token-text-secondary flex min-h-[38px] items-center",children:[n&&g.jsx("div",{className:"me-1 flex items-center",children:n}),g.jsx(ZB,{className:"icon-sm"})]})]})})}function aFe(e){return ue.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}}})}const Tde=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M8 9.7998C8.4233 9.79984 8.76645 10.1431 8.7666 10.5664C8.7666 10.9898 8.42339 11.333 8 11.333C7.57658 11.333 7.2334 10.9898 7.2334 10.5664C7.23355 10.1431 7.57667 9.7998 8 9.7998Z"}),p.createElement("path",{d:"M8 4.66602C8.36808 4.66602 8.66681 4.96497 8.66699 5.33301V8C8.66682 8.36804 8.36808 8.66602 8 8.66602C7.63192 8.66602 7.33318 8.36804 7.33301 8V5.33301C7.33319 4.96497 7.63192 4.66602 8 4.66602Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.33301C11.6819 1.33301 14.667 4.3181 14.667 8C14.667 11.6819 11.6819 14.667 8 14.667C4.3181 14.667 1.33301 11.6819 1.33301 8C1.33301 4.3181 4.3181 1.33301 8 1.33301ZM8 2.66699C5.05448 2.66699 2.66699 5.05448 2.66699 8C2.66699 10.9455 5.05448 13.333 8 13.333C10.9455 13.333 13.333 10.9455 13.333 8C13.333 5.05448 10.9455 2.66699 8 2.66699Z"}));function Ode(e){"use forget";const t=Te.c(108);let n,r,i,s,o,a,l,c,u,d,f,h,m,v,_,y,b,C,S,x,w,E,T,O,k,A,I,P,D,R,F,j;t[0]!==e?({name:v,placeholder:T,type:F,role:k,list:h,ariaLabel:r,displayName:u,onChange:y,onFocus:b,onBlur:_,value:j,saveOnBlur:A,icon:n,iconPosition:P,onInputIconClick:C,className:a,inputClassName:d,containerInputClassName:l,autoComplete:s,autoCapitalize:i,spellCheck:I,autoFocus:o,onPressEnter:w,onPaste:x,disabled:c,maxLength:m,color:D,onKeyDown:S,suppressFocus:R,ref:O,insideContainerChildren:f,...E}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t[9]=u,t[10]=d,t[11]=f,t[12]=h,t[13]=m,t[14]=v,t[15]=_,t[16]=y,t[17]=b,t[18]=C,t[19]=S,t[20]=x,t[21]=w,t[22]=E,t[23]=T,t[24]=O,t[25]=k,t[26]=A,t[27]=I,t[28]=P,t[29]=D,t[30]=R,t[31]=F,t[32]=j):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11],h=t[12],m=t[13],v=t[14],_=t[15],y=t[16],b=t[17],C=t[18],S=t[19],x=t[20],w=t[21],E=t[22],T=t[23],O=t[24],k=t[25],A=t[26],I=t[27],P=t[28],D=t[29],R=t[30],F=t[31],j=t[32]);const V=P===void 0?"right":P,B=D===void 0?"tertiary":D,M=R===void 0?!1:R,[re,ge]=p.useState(j);let N;t[33]!==_||t[34]!==A?(N=nt=>{_?.(nt),A&&ge(nt.target.value)},t[33]=_,t[34]=A,t[35]=N):N=t[35];const we=N;let ye;t[36]!==y||t[37]!==A?(ye=nt=>{y?.(nt),A&&ge(nt.target.value)},t[36]=y,t[37]=A,t[38]=ye):ye=t[38];const X=ye;let de;t[39]!==re||t[40]!==S||t[41]!==w?(de=nt=>{S?.(nt),!nt.nativeEvent.isComposing&&nt.key==="Enter"&&w&&(nt.preventDefault(),w(re,nt))},t[39]=re,t[40]=S,t[41]=w,t[42]=de):de=t[42];const ee=de;let ke,se;t[43]!==j?(ke=()=>{ge(j)},se=[j],t[43]=j,t[44]=ke,t[45]=se):(ke=t[44],se=t[45]),p.useEffect(ke,se);let fe;t[46]!==A||t[47]!==j?(fe=A?{}:{value:j},t[46]=A,t[47]=j,t[48]=fe):fe=t[48];let he;t[49]!==re||t[50]!==A?(he=A?{value:re}:{},t[49]=re,t[50]=A,t[51]=he):he=t[51];let Oe;t[52]!==he||t[53]!==fe?(Oe={...fe,...he},t[52]=he,t[53]=fe,t[54]=Oe):Oe=t[54];const Ze=Oe,le=B==="neutral"&&(M?"-main-surface-tertiary hover:bg-token-main-surface-tertiary border-transparent px-3 py-2":"focus-within:bg-token-main-surface-tertiary hover:bg-token-main-surface-tertiary border-transparent px-3 py-2 focus-within:border-green-500 focus-within:ring-1 focus-within:ring-transparent"),Q=B==="tertiary"&&(M?"border-token-border-medium px-3 py-2":"border-token-border-medium focus-within:border-token-border-xheavy focus-within:ring-token-text-secondary px-3 py-2 focus-within:ring-1"),ie=B==="search"&&(M?"border-token-border-medium bg-token-main-surface-primary dark:border-token-border-medium rounded-xl p-4":"border-token-border-medium bg-token-main-surface-primary focus-within:border-token-border-xheavy dark:border-token-border-medium dark:focus-within:border-token-border-xheavy rounded-xl p-4 focus-within:ring-0 dark:focus-within:ring-0"),Me=B==="quaternary"&&(M?"border-token-main-surface-quaternary text-token-text-quaternary px-3 py-2":"border-token-main-surface-quaternary text-token-text-quaternary focus-within:border-token-border-xheavy focus-within:ring-token-text-secondary px-3 py-2 focus-within:ring-1");let Z;t[55]!==a||t[56]!==le||t[57]!==Q||t[58]!==ie||t[59]!==Me?(Z=xe("rounded-md border shadow-none",le,Q,ie,Me,a),t[55]=a,t[56]=le,t[57]=Q,t[58]=ie,t[59]=Me,t[60]=Z):Z=t[60];let $;t[61]!==u||t[62]!==v?($=g.jsx("label",{htmlFor:v,className:"text-token-text-primary block text-xs font-semibold",children:u}),t[61]=u,t[62]=v,t[63]=$):$=t[63];const U=u&&"mt-1";let pe;t[64]!==l||t[65]!==U?(pe=xe(U,"relative",l),t[64]=l,t[65]=U,t[66]=pe):pe=t[66];const Ae=r||void 0,te=n!=null&&V==="right"&&"pe-6",L=n!=null&&V==="left"&&"ps-6",H=B==="neutral"||B==="search"?"bg-transparent":"bg-token-main-surface-primary text-token-text-primary",W=B==="quaternary"?"placeholder:text-token-text-quaternary":"placeholder-gray-500";let ae;t[67]!==d||t[68]!==te||t[69]!==L||t[70]!==H||t[71]!==W?(ae=xe("block w-full border-0 p-0 shadow-none outline-hidden focus-within:shadow-none focus-within:ring-0 focus-within:outline-hidden focus:border-none focus:ring-0 sm:text-sm",te,L,H,W,d),t[67]=d,t[68]=te,t[69]=L,t[70]=H,t[71]=W,t[72]=ae):ae=t[72];let Re;t[73]!==Ze||t[74]!==i||t[75]!==s||t[76]!==o||t[77]!==c||t[78]!==we||t[79]!==X||t[80]!==ee||t[81]!==h||t[82]!==m||t[83]!==v||t[84]!==b||t[85]!==x||t[86]!==E||t[87]!==T||t[88]!==O||t[89]!==k||t[90]!==I||t[91]!==Ae||t[92]!==ae||t[93]!==F?(Re=g.jsx("input",{...E,ref:O,type:F,name:v,id:v,list:h,role:k,"aria-label":Ae,onPaste:x,className:ae,placeholder:T,onBlur:we,onFocus:b,onChange:X,onKeyDown:ee,autoComplete:s,spellCheck:I,autoCapitalize:i,autoFocus:o,disabled:c,maxLength:m,...Ze}),t[73]=Ze,t[74]=i,t[75]=s,t[76]=o,t[77]=c,t[78]=we,t[79]=X,t[80]=ee,t[81]=h,t[82]=m,t[83]=v,t[84]=b,t[85]=x,t[86]=E,t[87]=T,t[88]=O,t[89]=k,t[90]=I,t[91]=Ae,t[92]=ae,t[93]=F,t[94]=Re):Re=t[94];let st;t[95]!==n||t[96]!==V||t[97]!==C?(st=n!=null&&g.jsx("button",{className:xe("absolute top-1/2 -translate-y-1/2",{"end-0":V==="right","start-0":V==="left"}),onClick:C,children:g.jsx(n,{className:"icon-sm"})}),t[95]=n,t[96]=V,t[97]=C,t[98]=st):st=t[98];let pt;t[99]!==f||t[100]!==pe||t[101]!==Re||t[102]!==st?(pt=g.jsxs("div",{className:pe,children:[Re,st,f]}),t[99]=f,t[100]=pe,t[101]=Re,t[102]=st,t[103]=pt):pt=t[103];let lt;return t[104]!==Z||t[105]!==$||t[106]!==pt?(lt=g.jsxs("div",{className:Z,children:[$,pt]}),t[104]=Z,t[105]=$,t[106]=pt,t[107]=lt):lt=t[107],lt}function dq(e){const t=it();return g.jsxs("div",{className:"relative w-full",children:[g.jsx(Ode,{...e,className:xe(e.className,e.error&&"border-red-500!")}),e.error&&g.jsxs("p",{className:xe("mt-1 flex items-center text-xs text-red-500",e.showErrorIcon&&"gap-1"),children:[e.showErrorIcon&&g.jsx(Tde,{title:t.formatMessage({id:"FormField.errorIcon",defaultMessage:"Error"})}),e.error]})]})}var Ade={};async function fq(e){return ue.safePost("/accounts/add_email/begin",{requestBody:{email:e,auth0_client_id:Ade.AUTH0_CLIENT_ID},authOption:Xt.Required})}const hi=Ot({sendEmailFailure:{id:"emailVerify.sendEmailFailure",defaultMessage:"Could not send email verification code, please try again later."},sendEmailFailureInvalidEmail:{id:"emailVerify.invalidEmail",defaultMessage:'The email address "{email}" is not formatted correctly.'},sendEmailFailureInvalidEmailEmpty:{id:"emailVerify.invalidEmailEmpty",defaultMessage:"Please enter a valid email address to continue."},sendEmailFailureRateLimited:{id:"emailVerify.sendEmailFailure.rateLimited",defaultMessage:"You've sent too many requests. Please try again later."},verifyOtpFailure:{id:"emailVerify.verifyOtpFailure",defaultMessage:"Something went wrong, please try again later."},verifyOtpFailureInvalidOtp:{id:"emailVerify.verifyOtpFailure.invalidOtp",defaultMessage:"The code you entered is invalid. Please try again."},verifyOtpFailureInvalidFormat:{id:"emailVerify.verifyOtpFailure.invalidFormat",defaultMessage:"The code you entered is formatted incorrectly."},verifyOtpFailureEmailAlreadyLinked:{id:"emailVerify.verifyOtpFailure.emailAlreadyLinked",defaultMessage:'{branch, select, email {"{emailValue}"} other {Your email}} is already linked to another account.'},verifyOtpFailureRateLimited:{id:"emailVerify.verifyOtpFailure.rateLimited",defaultMessage:"You've sent too many requests. Please try again later."},verifyOtpSuccess:{id:"emailVerify.verifyOtpSuccess",defaultMessage:"Email confirmed."}});class iO extends Error{constructor(t){super(t),this.name="EmailValidationError"}}const Ide=(e,t)=>t.trim()===""?e.formatMessage(hi.sendEmailFailureInvalidEmailEmpty):/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?null:e.formatMessage(hi.sendEmailFailureInvalidEmail,{email:t}),hq=(e,t,n)=>{switch(n.status){case 429:throw new Error(e.formatMessage(hi.sendEmailFailureRateLimited));case 403:throw new Error(e.formatMessage(hi.verifyOtpFailureEmailAlreadyLinked,{branch:t?"email":"other",emailValue:t}));default:return}};function Mde(e){const t=it(),[n,r]=p.useState(null),i=jn({mutationFn:async s=>{try{const o=Ide(t,s);if(o)throw new iO(o);return await fq(s)}catch(o){throw o instanceof iO?o:(o instanceof vt&&hq(t,s,o),new Error(t.formatMessage(hi.sendEmailFailure)))}},onSuccess:()=>{e.setStep("verifyOtp")},onError:s=>{r(s.message),K.logEventWithStatsig("Email Verify Enter Email Step - Error Sending Verification Email","chatgpt_email_verify_enter_email_step_error",{error:s.message})}});return p.useEffect(()=>{K.logEventWithStatsig("Email Verify Enter Email Step - Shown","chatgpt_email_verify_enter_email_step_shown")},[]),g.jsx("form",{onSubmit:s=>{s.preventDefault(),i.mutate(e.email),K.logEventWithStatsig("Email Verify Enter Email Step - Attempted Continue","chatgpt_email_verify_enter_email_step_continue")},noValidate:!0,children:g.jsxs("div",{className:"flex w-full flex-col items-center gap-3",children:[g.jsx("p",{className:"text-3xl font-semibold",children:e.title?e.title:g.jsx(Ce,{id:"emailVerify.enterEmailTitle",defaultMessage:"Add your email"})}),e.description&&g.jsx("p",{className:"text-token-text-primary text-center text-base",children:e.description}),g.jsx(dq,{ariaLabel:t.formatMessage({id:"emailVerify.emailAddress",defaultMessage:"Email Address"}),placeholder:t.formatMessage({id:"emailVerify.emailAddressPlaceholder",defaultMessage:"Email Address"}),name:"email",type:"email",className:"mt-6 w-full",value:e.email,onChange:s=>{r(null),e.onEmailChange?.(s.target.value),K.logEventWithStatsig("Email Verify Enter Email Step - Typed","chatgpt_email_verify_enter_email_step_type")},autoFocus:!0,autoComplete:"email",error:n??void 0}),g.jsx(Vt,{className:"w-full rounded-md",color:"green",type:"submit",loading:i.isPending,disabled:i.isPending,children:g.jsx(Ce,{id:"emailVerify.continue",defaultMessage:"Continue"})}),e.cancelFlowButton]})})}class sO extends Error{constructor(t){super(t),this.name="OtpValidationError"}}const Rde=(e,t)=>{if(t.length!==6)return e.formatMessage(hi.verifyOtpFailureInvalidFormat);try{parseInt(t)}catch{return e.formatMessage(hi.verifyOtpFailureInvalidFormat)}return null},Nde=(e,t,n)=>{switch(n.status){case 403:throw new Error(e.formatMessage(hi.verifyOtpFailureEmailAlreadyLinked,{branch:t?"email":"other",emailValue:t}));case 429:throw new Error(e.formatMessage(hi.verifyOtpFailureRateLimited));case 401:case 422:throw new Error(e.formatMessage(hi.verifyOtpFailureInvalidOtp));default:return}};function Pde(e){const t=me(),n=it(),r=Sn(),[i,s]=p.useState(null),o=e.showChangeEmailButton??!0,a=p.useCallback(u=>{const d=u.target.value.trim();if(typeof d=="string"){if(d.match(/\D/)){u.preventDefault();return}e.onOtpChange?.(d.substring(0,6))}},[e]),l=jn({mutationFn:async()=>{try{return e.onResendOtp?await e.onResendOtp():await fq(e.email??"")}catch(u){throw u instanceof vt&&hq(n,e.email??"",u),new Error(n.formatMessage(hi.sendEmailFailure))}},onSuccess:()=>{e.setStep("verifyOtp")},onError:u=>{s(u.message),K.logEventWithStatsig("Email Verify Verify OTP Step - Error Resending OTP","chatgpt_email_verify_verify_otp_step_resend_error",{error:u.message})}}),c=jn({mutationFn:async u=>{try{const d=Rde(n,u.code);if(d)throw new sO(d);if(e.onVerifyOtp)return await e.onVerifyOtp(u.code,u.email);await ue.safePost("/accounts/add_email/verify",{requestBody:u}),await TF(t,{reason:"verify_otp"})}catch(d){throw d instanceof sO?d:(d instanceof vt&&Nde(n,e.email,d),new Error(n.formatMessage(hi.verifyOtpFailure)))}},onSuccess:()=>{r.success(n.formatMessage(hi.verifyOtpSuccess)),e.onVerified?.()},onError:u=>{s(u.message),K.logEventWithStatsig("Email Verify Verify OTP Step - Error Verifying OTP","chatgpt_email_verify_verify_otp_step_error",{error:u.message})}});return p.useEffect(()=>{K.logEventWithStatsig("Email Verify Verify OTP Step - Shown","chatgpt_email_verify_verify_otp_step_shown")},[]),g.jsxs("div",{className:"flex w-full flex-col items-center gap-3",children:[g.jsx("p",{className:"text-3xl font-semibold",children:g.jsx(Ce,{id:"verifyOtp.title",defaultMessage:"Check your email"})}),g.jsxs("p",{className:"text-center",children:[g.jsx("span",{className:"text-token-text-primary text-base",children:g.jsx(Ce,{id:"verifyOtp.description",defaultMessage:"Enter the verification code we just sent to"})}),e.email&&g.jsx("br",{}),g.jsx("span",{className:`text-token-text-primary text-base leading-snug ${e.email&&"font-semibold"}`,children:g.jsx(Ce,{id:"verifyOtp.email",defaultMessage:"{branch, select, email {{emailValue}} other { your email.}}",values:{branch:e.email?"email":"other",emailValue:e.email}})})]}),g.jsxs("form",{onSubmit:u=>{u.preventDefault(),c.mutate({code:e.otp,email:e.email??""}),K.logEventWithStatsig("Email Verify Verify OTP Step - Attempted Continue","chatgpt_email_verify_verify_otp_step_continue")},className:"flex w-full flex-col items-center gap-3",children:[g.jsx(dq,{error:i??void 0,ariaLabel:n.formatMessage({id:"emailVerify.otpAriaLabel",defaultMessage:"OTP"}),value:e.otp,onChange:u=>{s(null),a(u),K.logEventWithStatsig("Email Verify Verify OTP Step - Typed","chatgpt_email_verify_verify_otp_step_type")},name:"otp",type:"text",placeholder:"XXXXXX",className:"mt-6 w-full",autoComplete:"off",autoFocus:!0}),g.jsx(Vt,{className:"w-full rounded-md",color:"green",type:"submit",loading:c.isPending,disabled:c.isPending,children:g.jsx(Ce,{id:"verifyOtp.continue",defaultMessage:"Continue"})}),e.cancelFlowButton]}),g.jsxs("div",{className:"mt-6 flex w-full flex-col items-center gap-3",children:[g.jsx("p",{className:"text-token-text-primary text-sm",children:g.jsx(Ce,{id:"verifyOtp.resendMessage",defaultMessage:"Didn't receive the code?"})}),g.jsx(Vt,{className:"w-full rounded-md",color:"secondary",onClick:()=>{l.mutate(),K.logEventWithStatsig("Email Verify Verify OTP Step - Resend","chatgpt_email_verify_verify_otp_step_resend")},loading:l.isPending,disabled:l.isPending,children:g.jsx(Ce,{id:"verifyOtp.resend",defaultMessage:"Resend code"})}),o&&g.jsx(Vt,{className:"w-full rounded-md",color:"secondary",onClick:()=>{e.setStep("enterEmail"),K.logEventWithStatsig("Email Verify Verify OTP Step - Back to Enter Email Step","chatgpt_email_verify_verify_otp_step_change_email")},children:g.jsx(Ce,{id:"verifyOtp.changeEmail",defaultMessage:"Change email"})})]})]})}function Dde(e){const[t,n]=p.useState(e.initialStep??"enterEmail"),[r,i]=p.useState(""),[s,o]=p.useState(""),a=e.email?{email:e.email,onEmailChange:e.onEmailChange}:{email:r,onEmailChange:i},l=e.otp?{otp:e.otp,onOtpChange:e.onOtpChange}:{otp:s,onOtpChange:o};return t==="enterEmail"?g.jsx(Mde,{title:e.enterEmailTitle,description:e.enterEmailDescription,cancelFlowButton:e.cancelFlowButton,step:t,setStep:n,...a}):g.jsx(Pde,{email:a.email,onVerified:e.onVerified,cancelFlowButton:e.cancelFlowButton,step:t,setStep:n,showChangeEmailButton:e.showChangeEmailButton,onResendOtp:e.onResendOtp,onVerifyOtp:e.onVerifyOtp,...l})}function Lde({onVerify:e,onClose:t,onResendOtp:n}){const{session:r}=Ah(),[i,s]=p.useState("");return g.jsx(xs,{testId:"modal-connector-email-verify",isOpen:!0,onClose:t,type:"success",className:"max-w-sm",children:g.jsx(Dde,{initialStep:"verifyOtp",email:r?.user?.email,otp:i,onOtpChange:s,onVerified:t,onResendOtp:n,onVerifyOtp:async(o,a)=>{await e(o)},showChangeEmailButton:!1,cancelFlowButton:g.jsx(Vt,{className:"w-full rounded-md",color:"secondary",onClick:t,children:g.jsx(Ce,{id:"ConnectorEmailVerifyModal.cancel",defaultMessage:"Cancel"})})})})}const Dm=new BroadcastChannel("plugin_oauth_channel"),lFe=e=>{Dm.postMessage(e)},cFe="connector_bd313622bce5485cb3d0b338715f7108",H6={gdrive_sync_connector:"gdrive_sync_connector",slack_sync_connector:"slack_sync_connector",github_sync_connector:"github_sync_connector",notion_sync_connector:"notion_sync_connector",sharepoint_sync_connector:"sharepoint_sync_connector",sharepoint_admin_sync_connector:"sharepoint_admin_sync_connector",linear_sync_connector:"linear_sync_connector",confluence_sync_connector:"confluence_sync_connector",dropbox_sync_connector:"dropbox_sync_connector",box_sync_connector:"box_sync_connector"},Fn={[q.GDRIVE_ACTION_CONNECTOR]:"connector_5f3c8c41a1e54ad7a76272c89e2554fa",[q.GITHUB_CONNECTOR]:"connector_76869538009648d5b282a4bb21c3d157",[q.LINEAR_CONNECTOR]:"connector_686fad9b54914a35b75be6d06a0f6f31",[q.DROPBOX_CONNECTOR]:"connector_14e85e16800b4e53bc6246019a83a307",[q.HUBSPOT_CONNECTOR]:"connector_2a3c0c472f6f4238b47d41acfb317307",[q.SHAREPOINT_CONNECTOR]:"connector_1e4f6a44acf14e3ca1d96672f8c945bc",[q.GCAL_CONNECTOR]:"connector_947e0d954944416db111db556030eea6",[q.GMAIL_CONNECTOR]:"connector_2128aebfecb84f64a069897515042a44",[q.GOOGLE_CONTACTS_CONNECTOR]:"connector_c0f748249d6a42aea4b00fd375570ded",[q.TEAMS_CONNECTOR]:"connector_246af0940da3457da0e751171dc1ce60",[q.OUTLOOK_EMAIL_CONNECTOR]:"connector_4aaab2856305417b993eca9a216aaf6e",[q.OUTLOOK_CALENDAR_CONNECTOR]:"connector_e6a7394682e24467ac68c60696f275a4",[q.BOX_CONNECTOR]:"connector_2fc94c70cbb74b7caa6d07bf7231202e",[q.INTERCOM_CONNECTOR]:"connector_25f8569426254c019971d2481ddda775",[q.NOTION_CONNECTOR]:"connector_37316be7febe4224b3d31465bae4dbd7",[q.CANVA_CONNECTOR]:"connector_ef718304ffe64e31947b71887e3d51fa",[q.SLACK_CONNECTOR]:"connector_0f9c9d4592e54d0a9a12b3f44a1e2010",[q.SHAREPOINT_ADMIN_CONNECTOR]:"connector_5ae2fd76f08447718080f11bc2faac6c"},$h={connector_5f3c8c41a1e54ad7a76272c89e2554fa:q.GDRIVE_ACTION_CONNECTOR,connector_76869538009648d5b282a4bb21c3d157:q.GITHUB_CONNECTOR,connector_686fad9b54914a35b75be6d06a0f6f31:q.LINEAR_CONNECTOR,connector_14e85e16800b4e53bc6246019a83a307:q.DROPBOX_CONNECTOR,connector_2a3c0c472f6f4238b47d41acfb317307:q.HUBSPOT_CONNECTOR,connector_1e4f6a44acf14e3ca1d96672f8c945bc:q.SHAREPOINT_CONNECTOR,connector_947e0d954944416db111db556030eea6:q.GCAL_CONNECTOR,connector_2128aebfecb84f64a069897515042a44:q.GMAIL_CONNECTOR,connector_c0f748249d6a42aea4b00fd375570ded:q.GOOGLE_CONTACTS_CONNECTOR,connector_246af0940da3457da0e751171dc1ce60:q.TEAMS_CONNECTOR,connector_4aaab2856305417b993eca9a216aaf6e:q.OUTLOOK_EMAIL_CONNECTOR,connector_e6a7394682e24467ac68c60696f275a4:q.OUTLOOK_CALENDAR_CONNECTOR,connector_2fc94c70cbb74b7caa6d07bf7231202e:q.BOX_CONNECTOR,connector_25f8569426254c019971d2481ddda775:q.INTERCOM_CONNECTOR,connector_37316be7febe4224b3d31465bae4dbd7:q.NOTION_CONNECTOR,connector_ef718304ffe64e31947b71887e3d51fa:q.CANVA_CONNECTOR,connector_6887fff96c948190aa97fd69c3041dea:q.UAE_PASS_CONNECTOR,connector_0f9c9d4592e54d0a9a12b3f44a1e2010:q.SLACK_CONNECTOR,connector_5ae2fd76f08447718080f11bc2faac6c:q.SHAREPOINT_ADMIN_CONNECTOR};function Fde(e){return Object.keys($h).includes(e)}function uFe(e){return!(e==="web"||e==="cloud"||e in Fn||e in H6)}function pq(e){return typeof window<"u"?`${window.location.origin}/connector_platform_oauth_redirect`:""}const jde="https://github.com/apps/chatgpt-codex-connector";function Bde(e){return`${jde}/${e}`}const Ude={[q.GITHUB_CONNECTOR]:"github-connector",[q.GDRIVE_ACTION_CONNECTOR]:"gdrive-connector",[q.LINEAR_CONNECTOR]:"linear-connector",[q.DROPBOX_CONNECTOR]:"dropbox-connector",[q.HUBSPOT_CONNECTOR]:"hubspot-connector",[q.SHAREPOINT_CONNECTOR]:"sharepoint-connector",[q.GCAL_CONNECTOR]:"gcal-connector",[q.GMAIL_CONNECTOR]:"gmail-connector",[q.GOOGLE_CONTACTS_CONNECTOR]:"google-contacts-connector",[q.TEAMS_CONNECTOR]:"teams-connector",[q.OUTLOOK_EMAIL_CONNECTOR]:"outlook-email-connector",[q.OUTLOOK_CALENDAR_CONNECTOR]:"outlook-calendar-connector",[q.BOX_CONNECTOR]:"box-connector",[q.INTERCOM_CONNECTOR]:"intercom-connector",[q.NOTION_CONNECTOR]:"notion-connector",[q.CANVA_CONNECTOR]:"canva-connector",[q.SLACK_CONNECTOR]:"slack-connector"},dFe=({openPopup:e,connectorType:t,customRedirectUrl:n,onError:r,toaster:i,intl:s,productSku:o})=>{const a={connectorId:Fn[t],name:t,actionNames:null,oauthClientId:null,oauthClientScopes:null},l=n??`#settings/${Ad.Connectors}?scroll=${Ude[t]}`;mq({redirectUri:pq(),connectorPlatformParams:a,redirectTo:l,onError:r,openPopup:e,toaster:i,intl:s,productSku:o})},qde={[q.GITHUB_CONNECTOR]:Nn.GitHub,[q.GDRIVE_ACTION_CONNECTOR]:Nn.GoogleDrive,[q.DROPBOX_CONNECTOR]:Nn.Dropbox,[q.LINEAR_CONNECTOR]:Nn.Linear,[q.SHAREPOINT_CONNECTOR]:Nn.Sharepoint,[q.TEAMS_CONNECTOR]:Nn.Teams,[q.OUTLOOK_EMAIL_CONNECTOR]:Nn.OutlookEmail,[q.OUTLOOK_CALENDAR_CONNECTOR]:Nn.OutlookCalendar,[q.BOX_CONNECTOR]:Nn.Box,[q.INTERCOM_CONNECTOR]:Nn.Intercom,[q.GCAL_CONNECTOR]:Nn.GoogleCalendar,[q.GMAIL_CONNECTOR]:Nn.Gmail,[q.GOOGLE_CONTACTS_CONNECTOR]:Nn.GoogleContacts,[q.HUBSPOT_CONNECTOR]:Nn.Hubspot,[q.CANVA_CONNECTOR]:Nn.Canva,[q.NOTION_CONNECTOR]:Nn.Notion,[q.SLACK_CONNECTOR]:Nn.Slack},zde=e=>[...Object.values(q),...Object.values(MF)].includes(e)?e:null,fFe=e=>e.map(t=>zde(t)).filter(t=>t!=null);async function mq({redirectUri:e,connectorPlatformParams:t,redirectTo:n,onError:r,openPopup:i=!1,toaster:s,intl:o,productSku:a}){K.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_initiated",{event:"start",type:t.connectorId});try{const l={connector_id:t.connectorId,oauth_client_id:t.oauthClientId,name:t.name,action_names:t.actionNames,requested_scopes:t.oauthClientScopes,callback_url:e,post_auth_url:n};let c=await ue.safePost("/aip/connectors/links/oauth",{requestBody:l,additionalHeaders:a?{[br]:a}:void 0});c.email_challenge_sent&&await new Promise((f,h)=>{no(Lt(),({onClose:m})=>Fe.createElement(Lde,{onClose:()=>{m(),h(null)},onVerify:async v=>{c=await ue.safePost("/aip/connectors/links/oauth",{requestBody:{...l,otp_code:v},additionalHeaders:a?{[br]:a}:void 0}),m(),f()},onResendOtp:async()=>{await ue.safePost("/aip/connectors/links/oauth",{requestBody:l,additionalHeaders:a?{[br]:a}:void 0})}}))});let u=null;Fde(t.connectorId)&&$h[t.connectorId]===q.HUBSPOT_CONNECTOR?u=c.redirect_url+"&utm_source=chatgpt":u=c.redirect_url;let d=null;if(i&&(d=window.open("about:blank","_blank")),!d)window.location.href=u;else if(d)return d.location.href=u,new Promise(f=>{const h=m=>{const{error:v,errorDesc:_,errorType:y,connectorId:b,success:C,linkId:S}=m.data;if(m.origin===window.location.origin&&!(b&&t.connectorId!==b)){if(C)K.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_success",{success:!0,type:t.connectorId}),s?.success(o.formatMessage(c2.createLinkSuccess,{connectorName:t.name})),f({success:!0,linkId:S,message:""});else{K.logEventWithStatsig("Connector OAuth Connect","chatgpt_connectors_oauth_connect_error",{success:!1,type:t.connectorId,errorType:y}),y!=="oauth_failed_scope_mismatch"&&s?.danger(o.formatMessage(c2.createLinkError,{connectorName:t.name}),{toastId:"connector_oauth_connect",loggingTitle:c2.createLinkError.defaultMessage,loggingDescription:"Failed to link connector"});const x=`${v}${_?`: ${_}`:""}`;f({errorType:y,success:C,message:x})}Dm.removeEventListener("message",h,!1)}};Dm.addEventListener("message",h,!1),d.addEventListener("beforeunload",()=>{Dm.removeEventListener("message",h,!1)})})}catch(l){if(r)r(l);else throw l}}const hFe={box:q.BOX_CONNECTOR,dropbox:q.DROPBOX_CONNECTOR,github:q.GITHUB_CONNECTOR,gmail:q.GMAIL_CONNECTOR,"google drive":q.GDRIVE_ACTION_CONNECTOR,"google calendar":q.GCAL_CONNECTOR,outlook:q.OUTLOOK_EMAIL_CONNECTOR,"outlook email":q.OUTLOOK_EMAIL_CONNECTOR,"outlook calendar":q.OUTLOOK_CALENDAR_CONNECTOR,sharepoint:q.SHAREPOINT_CONNECTOR,linear:q.LINEAR_CONNECTOR,teams:q.TEAMS_CONNECTOR,intercom:q.INTERCOM_CONNECTOR,hubspot:q.HUBSPOT_CONNECTOR,notion:q.NOTION_CONNECTOR,canva:q.CANVA_CONNECTOR,slack:q.SLACK_CONNECTOR},c2=Ot({createLinkSuccess:{id:"KVbj6o",defaultMessage:"{connectorName} is now connected."},createLinkError:{id:"Y6p1d0",defaultMessage:"There was a problem connecting {connectorName}. Try again later."}});function Jp(e){switch(e){case q.GOOGLE_CONTACTS_CONNECTOR:return"gcontacts";case q.GMAIL_CONNECTOR:return"gmail";case q.GCAL_CONNECTOR:return"gcal";default:return null}}function Gde(e){switch(e){case"gmail":return q.GMAIL_CONNECTOR;case"gcal":return q.GCAL_CONNECTOR;case"gcontacts":return q.GOOGLE_CONTACTS_CONNECTOR;default:return null}}function pFe(e,t){switch(e){case"gmail":return Fn[q.GMAIL_CONNECTOR];case"gcal":return Fn[q.GCAL_CONNECTOR];case"gcontacts":return Fn[q.GOOGLE_CONTACTS_CONNECTOR];case"api_tool":{const n=t?.[t.length-1]?.metadata?.jit_plugin_data?.from_server;return n?.type==="oauth_required"?n.body.connector_id??null:null}default:return null}}const Hde=[ve.Slurm,ve.Research,Pi],oO="cloud",gq=e=>[...e.values()].some(r=>r?.has(oO))?new Map([...e].map(([r,i])=>[r,new Set([...i].filter(s=>s!==oO))])):new Map(e),Vde=e=>{const t=new Map([[void 0,new Set(Object.keys(H6))],[ve.Slurm,new Set(Object.keys(H6))],[ve.Research,new Set(["web"])],[Pi,new Set(["web"])]]);try{const n=$de(e);n&&n.forEach((r,i)=>{Hde.includes(i)&&t.set(i,new Set(r))})}catch{}return t},vq="v1.1",_q=e=>{const t=Kt.getItem(qt.SelectedSources,e);if(!t)return{};try{const{version:n,data:r}=JSON.parse(t);if(n!==vq)return Kt.removeItem(qt.SelectedSources),{};const i=new Map([...r.selected_sources].map(([o,a])=>[o,new Set(a)])),s=new Map((r.selected_mcp_sources??[]).map(([o,a])=>[o,new Set(a)]));return{selectedSources:i,selectedMCPSources:s}}catch{return{}}},$de=e=>{const t=_q(e).selectedSources;return gq(t??new Map)},Wde=e=>_q(e).selectedMCPSources,Kde=e=>Wde(e)??new Map,mFe=({selectedSourcesMap:e,selectedMCPSourcesMap:t,scope:n})=>{if(!e&&!t){Kt.removeItem(qt.SelectedSources);return}const i={selected_sources:[...gq(e??new Map)??new Map].map(([o,a])=>[o,[...a]]),selected_mcp_sources:[...t??new Map].map(([o,a])=>[o,[...a]])},s={version:vq,data:i};Kt.setItem(qt.SelectedSources,JSON.stringify(s),n)},Yde=window.location.host+"/ces",Zde="https",Jde=`${Zde}://${Yde}`;function aO(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n.key]=n.value,t),{}):e}var gn=(e=>(e.DEFAULT="default",e.INTERNAL="internal",e.CODEX="Wham",e.JAWBONE="jawbone",e.MOONSHINE="moonshine",e.GOLDEN_HOUR="golden_hour",e.CUSTOMIZE_CHATGPT="customize_chatgpt",e.WEB_SANDBOX="web_sandbox",e.ECOSYSTEM="ecosystem",e.CANVAS="canvas",e.COT_SUMMARIZER="cot_summarizer",e.CLASSMATES="classmates",e.REFERRALS="referrals",e.STUDENTS="students",e.TEAMS="teams",e.WEBSOCKET="ws",e.TATERTOT="tatertot",e.ECOSYSTEM_DEMO="ecosystem_demo",e))(gn||{});class lO{counterMap=new Map;histMap=new Map}class Qde{metrics=new lO;postUrl=`${Jde}/statsc/flush`;postInterval=3e4;maxPostErrors=10;isScheduled=!1;numMetricPostErrors=0;numLostMetrics=0;count(t,n,r={},i=1){r=aO(r);const s=this.makeKey(t,n,r);var o=this.metrics.counterMap;const a=o.get(s);a?a.value+=i:o.set(s,{namespace:t,metric:n,tags:r,value:i}),this.scheduleIfNeeded()}hist(t,n,r={},i){r=aO(r);const s=this.makeKey(t,n,r);var o=this.metrics.histMap;const a=o.get(s);a?a.values.push(i):o.set(s,{namespace:t,metric:n,tags:r,values:[i]}),this.scheduleIfNeeded()}makeKey(t,n,r){const i=Object.entries(r).map(([s,o])=>`${s}=${o}`).sort().join(",");return`${t}:${n}:${i}`}scheduleIfNeeded(){this.isScheduled||(this.isScheduled=!0,this.schedule())}schedule(){setTimeout(()=>{this.postMetrics()},this.postInterval)}hasPendingMetrics(){return this.metrics.counterMap.size>0||this.metrics.histMap.size>0||this.numMetricPostErrors>0}async postMetrics(){var t=this.metrics;this.metrics=new lO;var n=t.counterMap.size+t.histMap.size,r=Array.from(t.counterMap.values());this.numMetricPostErrors>0&&(r.push({namespace:"internal",metric:"post_errors",tags:{},value:this.numMetricPostErrors}),r.push({namespace:"internal",metric:"lost_metrics",tags:{},value:this.numLostMetrics}));const i={counters:r,histograms:Array.from(t.histMap.values()),client_type:"web"},s=JSON.stringify(i);try{await ut.post(this.postUrl,i,{authOption:Xt.Anonymous}),this.numMetricPostErrors=0}catch(o){o instanceof vt||G.addError(o,{json:s}),this.numMetricPostErrors++,this.numLostMetrics+=n,this.numMetricPostErrors>this.maxPostErrors&&(G.addAction(`Exceeded maximum number of post errors (${this.maxPostErrors}). Dropping ${this.numLostMetrics} metrics.`),this.numMetricPostErrors=0,this.numLostMetrics=0)}this.hasPendingMetrics()?this.schedule():this.isScheduled=!1}}const Cn=new Qde,u9="placeholder-";function Xde(e){return e.startsWith(u9)}class ss{#e;rootId;constructor(t){const n={};let r;for(const i of t)n[i.id]=i,!r&&i.message.author.role===He.Root&&(r=i.id);if(!r)throw new Error("Missing root node");this.#e=n,this.rootId=r}static emptyTree(){return new ss([ss.createRootNode("client-created-root")])}static createNode(t,n,r=[],i){const s=i??t.id;if(s===n)throw new Error(`createNode: parent.id and node.id cannot be the same: ${s}`);return{id:s,parentId:n,children:r,message:t}}static createRootNode(t){const n={id:t,author:{role:He.Root},content:{content_type:$e.Text,parts:[]}};return ss.createNode(n,"")}get nodes(){return Object.values(this.#e)}messageIdToNodeId(t){return this.messageIdToExistingNodeId(t)??t}messageIdToExistingNodeId(t){if(this.#e[t]!=null)return t;for(const n of Object.values(this.#e))if(n.message?.id===t)return yq(n.id,n.message.id),n.id}containsNodeOrMessageId(t){return this.messageIdToExistingNodeId(t)!=null}getNodeByIdOrMessageId(t){const n=this.getNodeIfExists(t);if(n)return n;const r=Xde(t);throw K.logEventWithStatsig("chatgpt_conversation_tree__node_not_found","chatgpt_web_conversation_tree_node_not_found",{rootId:this.rootId,nodeOrMessageId:t,isNodeStartWithPlaceholder:r}),Cn.count(gn.DEFAULT,"chatgpt_web_conversation_tree_node_not_found",[{key:"isNodeStartWithPlaceholder",value:r?"true":"false"}]),G.addError(new Error(`web client getNodeByIdOrMessageId - no node found by id ${t} isNodeStartWithPlaceholder: ${r}`)),new Error(`getNodeByIdOrMessageId - no node found by id: ${t}`)}getNodeIfExists(t){const n=this.messageIdToExistingNodeId(t);if(n)return this.#e[n]}findNode(t,n,r=this.rootId){const i=this.getNodeIfExists(r);let s=this.getNodeIfExists(n);for(;i&&s&&s!==i;){if(t(s))return s;s=this.getNodeIfExists(s.parentId)}}findFirst(t){let n=this.getNodeByIdOrMessageId(this.rootId);for(;n&&n.children.length===1;)if(n=this.getNodeByIdOrMessageId(n.children[0]),t(n))return n}findFirstFromLeaf(t,n){let r,i=this.getNodeByIdOrMessageId(n);for(;i;)t(i)&&(r=i),i=this.getNodeIfExists(i.parentId);return r}getLeafFromNode(t){let n=this.getNodeByIdOrMessageId(t);for(;n.children.length>0;)n=this.getNodeByIdOrMessageId(n.children[0]);return n}getParent(t){const n=this.getNodeByIdOrMessageId(t).parentId;return this.getNodeByIdOrMessageId(n)}getBranchFromLeaf(t){let n=[],r=this.getNodeByIdOrMessageId(t);for(;r!=null;){if(n.includes(r)){G.addError(`Infinite loop detected in getBranchFromLeaf. Branch already contains node ${r?.id}. Parent id: ${r?.parentId}.`,{branch:n});break}if(n.push(r),r.message.author.role===He.Root)break;r=this.getNodeByIdOrMessageId(r.parentId)}return n=n.reverse(),n}addMessageNode(t,n){const r=this.messageIdToNodeId(n.id),i=this.getNodeByIdOrMessageId(t),s=ss.createNode(n,i.id,[],r);return this.#e=ts(this.#e,o=>{o[s.id]=s;const a=o[s.parentId];a.children.includes(s.id)||a.children.push(s.id)}),s.id}prependNode(t,n){const r=this.messageIdToNodeId(n.id),i=this.getNodeByIdOrMessageId(t),s=ss.createNode(n,i.parentId,[i.id],r);this.#e=ts(this.#e,o=>{o[s.id]=s;const a=o[s.parentId];a.children=a.children.filter(c=>c!==i.id),a.children.includes(s.id)||a.children.push(s.id);const l=o[i.id];l.parentId=s.id})}deleteNode(t){const n=this.getNodeByIdOrMessageId(t);this.#e=ts(this.#e,r=>{const i=n.parentId,s=n.children;for(const a of s){const l=r[this.messageIdToNodeId(a)];l.parentId=i}const o=r[this.messageIdToNodeId(i)];if(o==null){console.warn(`Cannot deleteNode with nodeId: ${t} - parent not found. Either this is root or in an orphaned branch`);return}o.children=o.children.flatMap(a=>this.messageIdToNodeId(a)===this.messageIdToNodeId(n.id)?s:[a]),delete r[n.id]})}clearNodeMessageParts(t){this.#e=ts(this.#e,n=>{const r=n[this.messageIdToNodeId(t)];r&&r.message&&"parts"in r.message.content&&(r.message.content.parts=[])})}updateNodeMetadata(t,n){this.#e=ts(this.#e,r=>{const i=r[this.messageIdToNodeId(t)];i&&(i.message.clientMetadata={...i?.message.clientMetadata,...n})})}updateNodeMessage(t,n){this.#e=ts(this.#e,r=>{const i=r[this.messageIdToNodeId(t)];if(i){const s=i.message.clientMetadata;i.message=s?{...n,clientMetadata:s}:n}})}updateNodeMessageMetadata(t,n){this.#e=ts(this.#e,r=>{const i=r[this.messageIdToNodeId(t)];i&&(i.message.metadata={...i.message.metadata,...n})})}prettyPrint(t=this.rootId,n=0){const r=this.getNodeByIdOrMessageId(t),i=Bh(r.message);let s=`${"	".repeat(n)}->${t} - ${i.replaceAll(`
`,"\\n")}
`;const o=r.children.map(a=>this.getNodeByIdOrMessageId(a));for(const a of o)s+=this.prettyPrint(a.id,n+1);return s}}const cO=new Set;function yq(e,t,n){const r=new Error(`Found TreeNode where message.id ${t} != node.id ${e}`);console.warn(r),cO.has(e)||(cO.add(e),n?G.addAction("tree_node_id_mismatch_api",{nodeId:e,messageId:t,conversationId:n}):G.addAction("tree_node_id_mismatch_client",{nodeId:e,messageId:t}))}function efe(e,t){const n=new Set,r=new Set,i=new Set,s=new Map;return(e.moderation_results??[]).forEach(a=>{s.set(a.message_id,a),a.blocked?r.add(a.message_id):a.flagged&&n.add(a.message_id),a.disclaimers?.length&&!a.blocked&&i.add(a.message_id)}),{nodes:Object.values(e.mapping).map(({id:a,parent:l,children:c,message:u})=>{if(!l)return ss.createRootNode(a);if(!u)throw new Error(`Missing message for node ${a}`);a!==u.id&&yq(a,u.id,t);const d={},f=s.get(u.id);let h=!1;if(r.has(u.id)){const v=f?.should_disable_conversation??!1,_=f?.blocked??!1,y=f?.metadata?.safety_limited??!1;Object.assign(d,{isSafetyLimited:y}),Object.assign(d,OB({isSafetyLimited:y,shouldDisableConversation:v,isModelIncompatibility:_})),h=!0}else n.has(u.id)&&Object.assign(d,xB);if(i.has(u.id)){const v=s.get(u.id);v?.disclaimers?.length&&Object.assign(d,TB(v.disclaimers,h))}const m={...u,clientMetadata:d};return ss.createNode(m,l,c,a)},{}),initialCurrentLeafId:e.current_node}}var Qp={exports:{}},uO;function tfe(){if(uO)return Qp.exports;uO=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(x,w,E){return Function.prototype.apply.call(x,w,E)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:n=function(x){return Object.getOwnPropertyNames(x)};function r(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(x){return x!==x};function s(){s.init.call(this)}Qp.exports=s,Qp.exports.once=y,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function l(S){return S._maxListeners===void 0?s.defaultMaxListeners:S._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(x){for(var w=[],E=1;E<arguments.length;E++)w.push(arguments[E]);var T=x==="error",O=this._events;if(O!==void 0)T=T&&O.error===void 0;else if(!T)return!1;if(T){var k;if(w.length>0&&(k=w[0]),k instanceof Error)throw k;var A=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw A.context=k,A}var I=O[x];if(I===void 0)return!1;if(typeof I=="function")t(I,this,w);else for(var P=I.length,D=m(I,P),E=0;E<P;++E)t(D[E],this,w);return!0};function c(S,x,w,E){var T,O,k;if(a(w),O=S._events,O===void 0?(O=S._events=Object.create(null),S._eventsCount=0):(O.newListener!==void 0&&(S.emit("newListener",x,w.listener?w.listener:w),O=S._events),k=O[x]),k===void 0)k=O[x]=w,++S._eventsCount;else if(typeof k=="function"?k=O[x]=E?[w,k]:[k,w]:E?k.unshift(w):k.push(w),T=l(S),T>0&&k.length>T&&!k.warned){k.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");A.name="MaxListenersExceededWarning",A.emitter=S,A.type=x,A.count=k.length,r(A)}return S}s.prototype.addListener=function(x,w){return c(this,x,w,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(x,w){return c(this,x,w,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(S,x,w){var E={fired:!1,wrapFn:void 0,target:S,type:x,listener:w},T=u.bind(E);return T.listener=w,E.wrapFn=T,T}s.prototype.once=function(x,w){return a(w),this.on(x,d(this,x,w)),this},s.prototype.prependOnceListener=function(x,w){return a(w),this.prependListener(x,d(this,x,w)),this},s.prototype.removeListener=function(x,w){var E,T,O,k,A;if(a(w),T=this._events,T===void 0)return this;if(E=T[x],E===void 0)return this;if(E===w||E.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete T[x],T.removeListener&&this.emit("removeListener",x,E.listener||w));else if(typeof E!="function"){for(O=-1,k=E.length-1;k>=0;k--)if(E[k]===w||E[k].listener===w){A=E[k].listener,O=k;break}if(O<0)return this;O===0?E.shift():v(E,O),E.length===1&&(T[x]=E[0]),T.removeListener!==void 0&&this.emit("removeListener",x,A||w)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(x){var w,E,T;if(E=this._events,E===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[x]),this;if(arguments.length===0){var O=Object.keys(E),k;for(T=0;T<O.length;++T)k=O[T],k!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=E[x],typeof w=="function")this.removeListener(x,w);else if(w!==void 0)for(T=w.length-1;T>=0;T--)this.removeListener(x,w[T]);return this};function f(S,x,w){var E=S._events;if(E===void 0)return[];var T=E[x];return T===void 0?[]:typeof T=="function"?w?[T.listener||T]:[T]:w?_(T):m(T,T.length)}s.prototype.listeners=function(x){return f(this,x,!0)},s.prototype.rawListeners=function(x){return f(this,x,!1)},s.listenerCount=function(S,x){return typeof S.listenerCount=="function"?S.listenerCount(x):h.call(S,x)},s.prototype.listenerCount=h;function h(S){var x=this._events;if(x!==void 0){var w=x[S];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function m(S,x){for(var w=new Array(x),E=0;E<x;++E)w[E]=S[E];return w}function v(S,x){for(;x+1<S.length;x++)S[x]=S[x+1];S.pop()}function _(S){for(var x=new Array(S.length),w=0;w<x.length;++w)x[w]=S[w].listener||S[w];return x}function y(S,x){return new Promise(function(w,E){function T(k){S.removeListener(x,O),E(k)}function O(){typeof S.removeListener=="function"&&S.removeListener("error",T),w([].slice.call(arguments))}C(S,x,O,{once:!0}),x!=="error"&&b(S,T,{once:!0})})}function b(S,x,w){typeof S.on=="function"&&C(S,"error",x,w)}function C(S,x,w,E){if(typeof S.on=="function")E.once?S.once(x,w):S.on(x,w);else if(typeof S.addEventListener=="function")S.addEventListener(x,function T(O){E.once&&S.removeEventListener(x,T),w(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Qp.exports}var nfe=tfe();const rfe=_n(nfe);class d9{emitter=new rfe;constructor(){this.emitter.setMaxListeners(1e3)}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}publish(t){this.emitter.emit(t.kind,t),this.emitter.emit("anyEvent",t)}}const qu=new d9;var u2,dO;function ife(){if(dO)return u2;dO=1;function e(t){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];o&&(s[i++]=o)}return s}return u2=e,u2}var sfe=ife();const bq=_n(sfe),ofe="text/plain",afe="us-ascii",d2=(e,t)=>t.some(n=>n instanceof RegExp?n.test(e):n===e),lfe=new Set(["https:","http:","file:"]),cfe=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!t.includes(".")&&!lfe.has(t)}catch{return!1}},ufe=(e,{stripHash:t})=>{const n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:r,data:i,hash:s}=n.groups;const o=r.split(";");s=t?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);const l=o.shift()?.toLowerCase()??"",u=[...o.map(d=>{let[f,h=""]=d.split("=").map(m=>m.trim());return f==="charset"&&(h=h.toLowerCase(),h===afe)?"":`${f}${h?`=${h}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(u.length>0||l&&l!==ofe)&&u.unshift(l),`data:${u.join(";")},${a?i.trim():i}${s?`#${s}`:""}`};function dfe(e,t){if(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t},typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return ufe(e,t);if(cfe(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const i=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),t.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),t.stripAuthentication&&(i.username="",i.password=""),t.stripHash?i.hash="":t.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){const o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let a=0,l="";for(;;){const u=o.exec(i.pathname);if(!u)break;const d=u[0],f=u.index,h=i.pathname.slice(a,f);l+=h.replace(/\/{2,}/g,"/"),l+=d,a=f+d.length}const c=i.pathname.slice(a,i.pathname.length);l+=c.replace(/\/{2,}/g,"/"),i.pathname=l}if(i.pathname)try{i.pathname=decodeURI(i.pathname).replace(/\\/g,"%5C")}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=i.pathname.split("/");const a=o[o.length-1];d2(a,t.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const o of[...i.searchParams.keys()])d2(o,t.removeQueryParameters)&&i.searchParams.delete(o);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(i.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const o of[...i.searchParams.keys()])d2(o,t.keepQueryParameters)||i.searchParams.delete(o);if(t.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}t.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,"")),t.removeExplicitPort&&i.port&&(i.port="");const s=e;return e=i.toString(),!t.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}const ffe={},hfe=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=l?.equalityFn||Object.is;let d=o(r.getState());c=f=>{const h=o(f);if(!u(d,h)){const m=d;a(d=h,m)}},l?.fireImmediately&&a(d,d)}return i(c)},e(t,n,r)},pfe=hfe;function mfe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const th=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return th(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return th(r)(n)}}}},gfe=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:_=>_,version:0,merge:(_,y)=>({...y,..._}),...t},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const u=th(s.serialize),d=()=>{const _=s.partialize({...r()});let y;const b=u({state:_,version:s.version}).then(C=>c.setItem(s.name,C)).catch(C=>{y=C});if(y)throw y;return b},f=i.setState;i.setState=(_,y)=>{f(_,y),d()};const h=e((..._)=>{n(..._),d()},r,i);let m;const v=()=>{var _;if(!c)return;o=!1,a.forEach(b=>b(r()));const y=((_=s.onRehydrateStorage)==null?void 0:_.call(s,r()))||void 0;return th(c.getItem.bind(c))(s.name).then(b=>{if(b)return s.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var C;return m=s.merge(b,(C=r())!=null?C:h),n(m,!0),d()}).then(()=>{y?.(m,void 0),o=!0,l.forEach(b=>b(m))}).catch(b=>{y?.(void 0,b)})};return i.persist={setOptions:_=>{s={...s,..._},_.getStorage&&(c=_.getStorage())},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},v(),m||h},vfe=(e,t)=>(n,r,i)=>{let s={storage:mfe(()=>localStorage),partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...t},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...v)},r,i);const u=()=>{const v=s.partialize({...r()});return c.setItem(s.name,{state:v,version:s.version})},d=i.setState;i.setState=(v,_)=>{d(v,_),u()};const f=e((...v)=>{n(...v),u()},r,i);i.getInitialState=()=>f;let h;const m=()=>{var v,_;if(!c)return;o=!1,a.forEach(b=>{var C;return b((C=r())!=null?C:f)});const y=((_=s.onRehydrateStorage)==null?void 0:_.call(s,(v=r())!=null?v:f))||void 0;return th(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var C;return h=s.merge(b,(C=r())!=null?C:f),n(h,!0),u()}).then(()=>{y?.(h,void 0),h=r(),o=!0,l.forEach(b=>b(h))}).catch(b=>{y?.(void 0,b)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||m(),h||f},_fe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((ffe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),gfe(e,t)):vfe(e,t),Cq=_fe;function yfe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function Sq(e,t){return e.findNode(n=>wq(n,t),t)?.children??Cfe}function bfe(e,t){return Sq(e,t).find(n=>n===t||n===e.findNode(r=>r.id===n||wq(r,t),t)?.id)}function wq(e,t){return e.id!==t&&(e.children.length>1||!za(e.message))}const Cfe=Object.freeze([]);function gFe(){return`${tw}${Vr()}`}let Sfe=0;function Eq(){return Sfe++}function Wh(e){return e.startsWith(tw)}const xq=()=>ss.emptyTree(),wfe=Object.freeze({});var f9=(e=>(e.NewChat="NewChat",e.Server="Server",e.User="User",e.Generated="Generated",e.Unknown="Unknown",e))(f9||{});const Ji={};function Efe(e,t){Ji[e]&&(clearTimeout(Ji[e]),delete Ji[e]);const n=3e4;Ji[e]=setTimeout(()=>{const r=as();if(r.threads[e]==null){clearTimeout(Ji[e]),delete Ji[e];return}if((r.threadRetainCounts[e]??0)>0){clearTimeout(Ji[e]),delete Ji[e];return}ld.deleteThread(e),clearTimeout(Ji[e]),delete Ji[e]},n)}function xfe(e){return e}const kfe=xfe,Oc=hn(kfe(nl(()=>({threads:{},clientNewThreadIdToServerIdMapping:{},threadRetainCounts:{}})))),as=Oc.getState,Il=Oc.setState;function Ui(e,t=as()){return Wh(e)?t.clientNewThreadIdToServerIdMapping[e]:e}function vFe(e,t=as()){return Object.entries(t.clientNewThreadIdToServerIdMapping).find(([r,i])=>i===e)?.[0]??e}const Tfe=e=>Oc(t=>e?Ui(e,t):void 0);function _Fe(e,t=as()){for(const[n,r]of Object.entries(t.clientNewThreadIdToServerIdMapping))if(r===e)return n}function V6(e,t=as()){return t.clientNewThreadIdToServerIdMapping[e]??e}function Qt(e,t=as()){const n=V6(e,t);return t.threads[n]}function Ofe(e,t){const n=p.useRef(void 0);return p.useMemo(()=>[],[t.clientThreadId]),r=>{const i=e(r);return yfe(n.current,i)||(n.current=i),n.current}}function Yo(e,t,n){return Oc(Ofe(r=>t(e&&Qt(e,r)),{disablePerfDetector:n?.disablePerfDetector===!0,clientThreadId:e}))}function It(e,t){Il(n=>{const r=Qt(e,n);r&&t(r)})}const Afe=["utm_source"],fO=e=>{try{return dfe(e,{stripWWW:!1,removeTrailingSlash:!0,sortQueryParameters:!0,removeQueryParameters:Afe})}catch{return e}},Ife=e=>(e?.search_result_groups??[]).flatMap(t=>t.entries??[]).map(t=>t?.url),Se={getGizmoId:e=>e?.mode.kind===cn.GizmoInteraction||e?.mode.kind===cn.GizmoTest?e.mode.gizmo_id:void 0,getTree:e=>e?.tree??xq(),getBranch:(e,t=Se.getCurrentLeafId(e))=>e?.tree.getBranchFromLeaf(t)??[],getThreadTitleSource:e=>e?.titleSource??"Unknown",getThreadCreateTime:e=>e?.createTime,getIsNewConversation:e=>Se.getCurrentLeafId(e)===Se.getTree(e).rootId,getCurrentLeafId:e=>e?.currentLeafId??Se.getTree(e).rootId,getCurrentNode:e=>Se.getNode(e,Se.getCurrentLeafId(e)),getNode:(e,t)=>Se.getTree(e).getNodeByIdOrMessageId(t),getParentNode:(e,t)=>Se.getTree(e).getParent(t),getParentPromptNode:(e,t=Se.getCurrentLeafId(e))=>Se.findNode(e,n=>IB(n.message),t),getAsyncTurns:e=>e?.asyncTurns??wfe,isThreadUrlSafe:(e,t)=>e?.safeUrls.map(n=>fO(n)).includes(fO(t))??!1,getTurnContentReferences:(e,t)=>bq(Se.getConversationTurnAtIndex(e,t).messages.flatMap(Nfe)??[]),isArchived:e=>e?.isArchived??!1,isStarred:e=>e?.isStarred??!1,getUpdateTime:e=>e?.update_time??(e?.createTime?e.createTime.getTime()/1e3:null),hasUserMessage:e=>Se.findNode(e,t=>_u(t.message))!=null,lastUserMessage:e=>Se.findNode(e,t=>_u(t.message))?.message??null,firstUserMessage:e=>Se.findFirstFromLeaf(e,t=>_u(t.message))?.message??null,isLastActorMessage:(e,t)=>Se.getTree(e).findNode(n=>n.message.author.role===He.Assistant||n.message.author.role===He.User||n.message.author.role===He.Tool&&n.message.author.name===Ra.A8KM123,Se.getCurrentLeafId(e),t)==null,findNode:(e,t,n=Se.getCurrentLeafId(e))=>Se.getTree(e).findNode(t,n),findFirstFromLeaf(e,t,n=Se.getCurrentLeafId(e)){return Se.getTree(e).findFirstFromLeaf(t,n)},isMessageTurnEnded:(e,t=Se.getCurrentLeafId(e))=>e?.tree.getNodeByIdOrMessageId(t).message.end_turn??!1,getConversationTurns:(e,t=Se.getCurrentLeafId(e))=>UB(Se.getTree(e),t),getConversationTurnIds:e=>Mfe(Se.getConversationTurns(e)),getConversationTurnAtIndex:(e,t,n=Se.getCurrentLeafId(e))=>{const r=Se.getConversationTurns(e,n);if(t>=r.length)throw new Error(`Turn index ${t} out of bounds`);return r[t]},getConversationLastTurn:(e,t=Se.getCurrentLeafId(e))=>dc(Se.getConversationTurns(e,t)),getConversationSearchEntryUrls:(e,t=Se.getCurrentLeafId(e))=>Se.getConversationTurns(e,t).flatMap(n=>n.messages).flatMap(n=>Ife(n?.metadata)),hasUserContextPrompt:e=>Se.getTree(e).findFirst(t=>t.message.metadata?.is_user_system_message!=null)!=null||e?.sharedConversationMetadata?.hasUserEditableContextFlag!=null,hasModelEditableContext:e=>Se.findNode(e,t=>t.message.content.content_type==="model_editable_context")!=null,hasRecentPIMWarning:e=>{const t=e?.tree.getBranchFromLeaf(e.currentLeafId);if(!t)return!1;for(let n=t.length-1;n>=0;n--){if(t[n].message.author.role===He.User)return!1;if(t[n].message.metadata?.is_pim_warning)return!0}return!1},getRequestId:(e,t=Se.getCurrentLeafId(e))=>Se.findNode(e,n=>n.message.clientMetadata?.requestId!=null,t)?.message.clientMetadata?.requestId,getLastMessageSystemHints:e=>Se.findNode(e,n=>_u(n.message))?.message.metadata?.system_hints??[],getVariantIds:(e,t=Se.getCurrentLeafId(e))=>Sq(Se.getTree(e),t),getCurrentVariantId:(e,t=Se.getCurrentLeafId(e))=>bfe(Se.getTree(e),t),getIsDoNotRemember:e=>e?.is_do_not_remember??!1,getSuperWidgetMessages:(e,t)=>(t!=null?Se.getConversationTurnAtIndex(e,t).messages:Se.getConversationTurns(e).flatMap(r=>r.messages)).filter(r=>r.content.content_type==="super_widget"),getUserMessages:e=>Se.getConversationTurns(e).flatMap(t=>t.messages).filter(_u),isReasoningResponseMessage:(e,t)=>{const n=Se.getParentNode(e,t)?.message;return n!=null&&Dw(n)},isUsingPromptTemplate:e=>e?.isUsingPromptTemplate??!1};let hO=0,pO,mO=[];function Mfe(e){const t=e.length,n=dc(e)?.id;return(hO!==t||pO!==n)&&(hO=t,pO=n,mO=e.map(r=>r.id)),mO}const Tr={updateTree(e,t){const n=t(e.tree,Se.getCurrentLeafId(e));e._treeVersion++,n&&(e.currentLeafId=n)},setCurrentBranch(e,t){Tr.updateTree(e,n=>n.getLeafFromNode(t).id)},appendMessage(e,t){Tr.updateTree(e,(n,r)=>n.addMessageNode(r,t))},setRequestIdOnCurrentLeaf(e,t){Tr.updateTree(e,(n,r)=>{n.updateNodeMetadata(r,{requestId:t})})}},ld={initThread:({clientThreadId:e,conversationMode:t,modelId:n=null,userId:r=void 0,accountId:i=void 0,disableConversationNavigation:s=void 0,skipFollowupMcpCheck:o=void 0})=>{const a=V6(e);as().threads[a]==null&&Il(l=>{const c=ss.emptyTree();l.threads[a]={disableConversationNavigation:s,createTime:new Date,isArchived:!1,isStarred:!1,mode:A6(t),modelId:n,tree:c,_treeVersion:0,title:null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,stopConduitToken:null,titleSource:"NewChat",currentLeafId:c.rootId,safeUrls:[],selectedSources:Vde({userId:r,workspaceId:i}),selectedMCPSources:Kde({userId:r,workspaceId:i}),startedWithMcp:void 0,hasRemovedWebSource:!1,hasModifiedSources:!1,isLoading:!Wh(a),docsReferencedByURL:{},conversationOrigin:null,selectedGithubRepos:new Map,hasModifiedGithubRepos:!1,disabledToolIds:null,is_do_not_remember:!1,prepareRequestBlocked:!1,lastCompletionFinishedTimestamp:null,interruptionInProgress:!1,asyncTurns:{},isUsingPromptTemplate:!1,skipFollowupMcpCheck:o??!1}})},setServerIdForNewThread:(e,t)=>{as().clientNewThreadIdToServerIdMapping[e]===void 0&&Il(n=>{n.threads[t]=n.threads[e],delete n.threads[e],n.clientNewThreadIdToServerIdMapping[e]=t})},updateThreadFromServer:(e,t,n={})=>{const r=V6(e),{skipIfExisting:i,continuingFromSharedConversationId:s,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwnerId:a,continuingFromSharedPostId:l,forkFromSharedPost:c,branchingFromConversationId:u,branchingFromMessageId:d,modelId:f}=n;if(i&&as().threads[r]?.isLoading===!1)return;const h=efe(t,r),m=new ss(h.nodes),v=h.initialCurrentLeafId??m.rootId,_="has_user_editable_context"in t?{hasUserEditableContextFlag:t.has_user_editable_context,authorName:t.author_name,model:"model"in t&&t.model!=null?YB(t.model):void 0}:void 0;let y;{const b=m.getBranchFromLeaf(v);for(const C of b){const S=C.message;if(S.author.role!==He.User)continue;y=(S.metadata?.selected_mcp_sources??[]).length>0;break}}Il(b=>{const C=b.threads[r];b.threads[r]={createTime:"create_time"in t?new Date(t.create_time*1e3):void 0,isArchived:t.is_archived??!1,isStarred:t.is_starred??!1,is_do_not_remember:t.is_do_not_remember??!1,selectedSources:C?.selectedSources,selectedMCPSources:C?.selectedMCPSources,startedWithMcp:(C?.startedWithMcp??y)||C?.skipFollowupMcpCheck,mentionedSources:C?.mentionedSources,selectedGithubRepos:C?.selectedGithubRepos??new Map,hasModifiedGithubRepos:C?.hasModifiedGithubRepos??!1,modelId:C?.modelId??f??null,conduitToken:null,prepareState:null,lastPrepareTimestamp:null,stopConduitToken:null,mode:t.gizmo_id!=null?{kind:cn.GizmoInteraction,gizmo_id:t.gizmo_id}:{kind:cn.PrimaryAssistant},sharedConversationMetadata:A6(_),title:t.title??null,titleSource:"Server",tree:m,_treeVersion:0,currentLeafId:v,isLoading:!1,continuingFromSharedProjectConversationId:o,sharedProjectConversationOwner:(()=>{const S=C?.sharedProjectConversationOwner,x=a??t?.owner?.user_id??S?.id,w=t?.owner?.name??S?.name;return x!=null||w!=null?{id:x,name:w}:void 0})(),continuingFromSharedConversationId:s,continuingFromSharedPostId:l,forkFromSharedPost:c,continuingSharedConversationLastMessageId:(s!=null||l!=null||c)&&!u?v:void 0,branchingFromConversationId:u,branchingFromMessageId:d,safeUrls:t.safe_urls??[],hasRemovedWebSource:C?.hasRemovedWebSource??!1,hasModifiedSources:C?.hasModifiedSources??!1,docsReferencedByURL:C?.docsReferencedByURL??{},conversationOrigin:C?.conversationOrigin??t.conversation_origin??null,disabledToolIds:t.disabled_tool_ids??[],update_time:t.update_time??null,scrollToMessageId:C?.scrollToMessageId,prepareRequestBlocked:C?.prepareRequestBlocked??!1,lastCompletionFinishedTimestamp:C?.lastCompletionFinishedTimestamp??null,interruptionInProgress:!1,asyncTurns:{},isUsingPromptTemplate:C?.isUsingPromptTemplate??!1}}),qu.publish({kind:"createConversation",clientThreadId:e})},deleteThread:e=>{Il(t=>{delete t.threads[e],delete t.clientNewThreadIdToServerIdMapping[e]})},retainThread:e=>{Il(t=>{t.threadRetainCounts[e]=(t.threadRetainCounts[e]??0)+1}),clearTimeout(Ji[e])},releaseThread:e=>{as().threads[e]!=null&&(Il(t=>{t.threadRetainCounts[e]=Math.max((t.threadRetainCounts[e]??0)-1,0)}),!(as().threadRetainCounts[e]>0)&&Efe(e))},resetThread:e=>{It(e,t=>{t.tree=xq(),t.currentLeafId=t.tree.rootId})}},Rfe=e=>{const t=Uw();return Yo(e,n=>n?Se.getGizmoId(n):t)};function yFe({clientThreadId:e}){return Yo(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>r.message.clientMetadata?.errCode===sd.ContentPolicy&&r.message.clientMetadata.shouldDisableConversation):!1})}function bFe({clientThreadId:e}){return Yo(e,t=>{if(!t)return!1;const n=t.tree.getBranchFromLeaf(t.currentLeafId);return n?n.some(r=>r.message.clientMetadata?.errCode===sd.ContentPolicy&&r.message.clientMetadata.isSafetyLimited):!1})}const CFe=e=>e?.metadata?.search_result_groups??[],Nfe=e=>e?.metadata?.content_references??[],SFe=e=>{const t=e?.metadata?.search_model_queries?.queries;return Array.isArray(t)?t:[]},b0=o4("Conversation"),C0=en(()=>({conversations:{},newClientIdToServerId:{},allKnownConversationIds$:Tt([])}));function Pfe(e){return{id:e,serverId$:Tt(Ui(e))}}function ol(e,t){const{conversations:n,newClientIdToServerId:r}=C0(e);if(n[t]!=null)return n[t];if(Wh(t)){const s=r[t];if(s!=null&&n[s]!=null)return n[s]}const i=Pfe(t);return n[t]=i,Lfe(e),i}function Dfe(e,t,n){const r=ol(e,t);r.serverId$.set(n);const{conversations:i,newClientIdToServerId:s}=C0(e);delete i[t],i[n]=r,Wh(t)&&(s[t]=n,ld.setServerIdForNewThread(t,n))}function wFe(e){const{conversations:t,allKnownConversationIds$:n}=C0(e);return n(),Object.values(t)}let f2;function Lfe(e){f2==null&&(f2=window.setTimeout(()=>{const{conversations:t,allKnownConversationIds$:n}=C0(e);n.set(Object.keys(t)),f2=void 0},100))}const EFe=p.createContext(void 0);function tr(e){this.content=e}tr.prototype={constructor:tr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),s=r.content.slice();return i==-1?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new tr(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new tr(n)},addToStart:function(e,t){return new tr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new tr(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),s=r.find(e);return i.splice(s==-1?i.length:s,0,t,n),new tr(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=tr.from(e),e.size?new tr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=tr.from(e),e.size?new tr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=tr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};tr.from=function(e){if(e instanceof tr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new tr(t)};function kq(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),s=t.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=kq(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function Tq(e,t,n,r){for(let i=e.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=e.child(--i),a=t.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=Tq(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Ee{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>t&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let s="",o=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new Ee(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>t&&((o<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,t-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new Ee(r,i)}cutByIndex(t,n){return t==n?Ee.empty:t==0&&n==this.content.length?this:new Ee(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Ee(i,s)}addToStart(t){return new Ee([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Ee(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return kq(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return Tq(this,t,n,r)}findIndex(t,n=-1){if(t==0)return Xp(0,t);if(t==this.size)return Xp(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=t)return o==t||n>0?Xp(r+1,o):Xp(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Ee.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ee(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Ee.empty;let n,r=0;for(let i=0;i<t.length;i++){let s=t[i];r+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(n||(n=t.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Ee(n||t,r)}static from(t){if(!t)return Ee.empty;if(t instanceof Ee)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Ee([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Ee.empty=new Ee([],0);const h2={index:0,offset:0};function Xp(e,t){return h2.index=e,h2.offset=t,h2}function R1(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!R1(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!R1(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class Ut{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&R1(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Ut.none;if(t instanceof Ut)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Ut.none=[];class N1 extends Error{}class De{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=Aq(this.content,t+this.openStart,n);return r&&new De(r,this.openStart,this.openEnd)}removeBetween(t,n){return new De(Oq(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return De.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new De(Ee.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new De(t,r,i)}}De.empty=new De(Ee.empty,0,0);function Oq(e,t,n){let{index:r,offset:i}=e.findIndex(t),s=e.maybeChild(r),{index:o,offset:a}=e.findIndex(n);if(i==t||s.isText){if(a!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(Oq(s.content,t-i-1,n-i-1)))}function Aq(e,t,n,r){let{index:i,offset:s}=e.findIndex(t),o=e.maybeChild(i);if(s==t||o.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=Aq(o.content,t-s-1,n);return a&&e.replaceChild(i,o.copy(a))}function Ffe(e,t,n){if(n.openStart>e.depth)throw new N1("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new N1("Inconsistent open depths");return Iq(e,t,n,0)}function Iq(e,t,n,r){let i=e.index(r),s=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let o=Iq(e,t,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let o=e.parent,a=o.content;return $l(o,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:o,end:a}=jfe(n,e);return $l(s,Rq(e,o,a,t,r))}else return $l(s,P1(e,t,r))}function Mq(e,t){if(!t.type.compatibleContent(e.type))throw new N1("Cannot join "+t.type.name+" onto "+e.type.name)}function $6(e,t,n){let r=e.node(n);return Mq(r,t.node(n)),r}function Vl(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Of(e,t,n,r){let i=(t||e).node(n),s=0,o=t?t.index(n):i.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(Vl(e.nodeAfter,r),s++));for(let a=s;a<o;a++)Vl(i.child(a),r);t&&t.depth==n&&t.textOffset&&Vl(t.nodeBefore,r)}function $l(e,t){return e.type.checkContent(t),e.copy(t)}function Rq(e,t,n,r,i){let s=e.depth>i&&$6(e,t,i+1),o=r.depth>i&&$6(n,r,i+1),a=[];return Of(null,e,i,a),s&&o&&t.index(i)==n.index(i)?(Mq(s,o),Vl($l(s,Rq(e,t,n,r,i+1)),a)):(s&&Vl($l(s,P1(e,t,i+1)),a),Of(t,n,i,a),o&&Vl($l(o,P1(n,r,i+1)),a)),Of(r,null,i,a),new Ee(a)}function P1(e,t,n){let r=[];if(Of(null,e,n,r),e.depth>n){let i=$6(e,t,n+1);Vl($l(i,P1(e,t,n+1)),r)}return Of(t,null,n,r),new Ee(r)}function jfe(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)i=t.node(s).copy(Ee.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class nh{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)i+=r.child(s).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Ut.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new qfe(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=t;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new nh(n,r,s)}static resolveCached(t,n){let r=gO.get(t);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else gO.set(t,r=new Bfe);let i=r.elts[r.i]=nh.resolve(t,n);return r.i=(r.i+1)%Ufe,i}}class Bfe{constructor(){this.elts=[],this.i=0}}const Ufe=12,gO=new WeakMap;class qfe{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const zfe=Object.create(null);let Wl=class W6{constructor(t,n,r,i=Ut.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Ee.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&R1(this.attrs,n||t.defaultAttrs||zfe)&&Ut.sameSet(this.marks,r||Ut.none)}copy(t=null){return t==this.content?this:new W6(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new W6(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return De.empty;let i=this.resolve(t),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new De(c,i.depth-o,s.depth-o)}replace(t,n,r){return Ffe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return nh.resolveCached(this,t)}resolveNoCache(t){return nh.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Nq(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Ee.empty,i=0,s=r.childCount){let o=this.contentMatchAt(t).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(t).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Ut.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Ut.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Ee.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Wl.prototype.text=void 0;class D1 extends Wl{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Nq(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new D1(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new D1(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Nq(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class pc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Gfe(t,n);if(r.next==null)return pc.empty;let i=Pq(r);r.next&&r.err("Unexpected trailing text");let s=Zfe(Yfe(i));return Jfe(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(t.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(t,r);if(l&&(!n||l.validEnd))return Ee.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(t)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+t.indexOf(r.next[o].next);return s}).join(`
`)}}pc.empty=new pc(!0);class Gfe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function Pq(e){let t=[];do t.push(Hfe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Hfe(e){let t=[];do t.push(Vfe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Vfe(e){let t=Kfe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=$fe(e,t);else break;return t}function vO(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function $fe(e,t){let n=vO(e),r=n;return e.eat(",")&&(e.next!="}"?r=vO(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Wfe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(t)>-1&&i.push(o)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function Kfe(e){if(e.eat("(")){let t=Pq(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Wfe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Yfe(e){let t=[[]];return i(s(e,0),n()),t;function n(){return t.push([])-1}function r(o,a,l){let c={term:l,to:a};return t[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Dq(e,t){return t-e}function _O(e,t){let n=[];return r(t),n.sort(Dq);function r(i){let s=e[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function Zfe(e){let t=Object.create(null);return n(_O(e,0));function n(r){let i=[];r.forEach(o=>{e[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);_O(e,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=t[r.join(",")]=new pc(r.indexOf(e.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(Dq);s.next.push({type:i[o][0],next:t[a.join(",")]||n(a)})}return s}}function Jfe(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Lq(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Fq(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let s=e[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function jq(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let s=e[i];s.validate&&s.validate(t[i])}}function Bq(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Xfe(e,r,t[r]);return n}let yO=class Uq{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Bq(t,r.attrs),this.defaultAttrs=Lq(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==pc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Fq(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wl(this,this.computeAttrs(t),Ee.from(n),Ut.setFrom(r))}createChecked(t=null,n,r){return n=Ee.from(n),this.checkContent(n),new Wl(this,this.computeAttrs(t),n,Ut.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Ee.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Ee.empty,!0);return s?new Wl(this,t,n.append(s),Ut.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){jq(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Ut.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,o)=>r[s]=new Uq(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Qfe(e,t,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class Xfe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Qfe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class S0{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=Bq(t,i.attrs),this.excluded=null;let s=Lq(this.attrs);this.instance=s?new Ut(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Ut(this,Fq(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((s,o)=>r[s]=new S0(s,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){jq(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class ehe{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=tr.from(t.nodes),n.marks=tr.from(t.marks||{}),this.nodes=yO.compile(this.spec.nodes,this),this.marks=S0.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=pc.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?bO(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:bO(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof yO){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new D1(r,r.defaultAttrs,t,Ut.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return Wl.fromJSON(this,t)}markFromJSON(t){return Ut.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function bO(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],s=e.marks[i],o=s;if(s)n.push(s);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function the(e){return e.tag!=null}function nhe(e){return e.style!=null}class rh{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(the(i))this.tags.push(i);else if(nhe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=t.nodes[i.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new SO(this,n,!1);return r.addAll(t,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new SO(this,n,!0);return r.addAll(t,n.from,n.to),De.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(she(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(t);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(t,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(t)!=0||o.context&&!r.matchesContext(o.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(t){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=wO(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=wO(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new rh(t,rh.schemaRules(t)))}}const qq={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},rhe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zq={ol:!0,ul:!0},L1=1,F1=2,Lm=4;function CO(e,t,n){return t!=null?(t?L1:0)|(t==="full"?F1:0):e&&e.whitespace=="pre"?L1|F1:n&-5}class em{constructor(t,n,r,i,s,o,a){this.type=t,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=a,this.content=[],this.activeMarks=Ut.none,this.stashMarks=[],this.match=o||(a&Lm?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Ee.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&L1)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=Ee.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Ee.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(t){for(let n=this.stashMarks.length-1;n>=0;n--)if(t.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(t){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):ohe(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!qq.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class SO{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=CO(null,n.preserveWhitespace,0)|(r?Lm:0);i?s=new em(i.type,i.attrs,Ut.none,Ut.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new em(null,null,Ut.none,Ut.none,!0,null,o):s=new em(t.schema.topNodeType,null,Ut.none,Ut.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){t.nodeType==3?this.addTextNode(t):t.nodeType==1&&this.addElement(t)}withStyleRules(t,n){let r=t.style;if(!r||!r.length)return n();let i=this.readStyles(t.style);if(!i)return;let[s,o]=i,a=this.top;for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l]);n();for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l])}addTextNode(t){let n=t.nodeValue,r=this.top;if(r.options&F1||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&L1)r.options&F1?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=t.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(t)}else this.findInside(t)}addElement(t,n){let r=t.nodeName.toLowerCase(),i;zq.hasOwnProperty(r)&&this.parser.normalizeLists&&ihe(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,n));if(s?s.ignore:rhe.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let o,a=this.top,l=this.needsBlock;if(qq.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}s&&s.skip?this.addAll(t):this.withStyleRules(t,()=>this.addAll(t)),o&&this.sync(a),this.needsBlock=l}else this.withStyleRules(t,()=>{this.addElementByRule(t,s,s.consuming===!1?i:void 0)})}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let n=Ut.none,r=Ut.none;if(t.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=t.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(c=>{l.clearMark(c)&&(r=c.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)a=l;else break}}return[n,r]}addElementByRule(t,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(t):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,n,r){let i=n||0;for(let s=n?t.childNodes[n]:t.firstChild,o=r==null?null:t.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(t);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(t)){this.closeExtra();let n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));let r=n.activeMarks;for(let i=0;i<t.marks.length;i++)(!n.type||n.type.allowsMarkType(t.marks[i].type))&&(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r){let i=this.findPlace(t.create(n));return i&&this.enterInner(t,n,!0,r),i}enterInner(t,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let o=CO(t,i,s.options);s.options&Lm&&s.content.length==0&&(o|=Lm),this.nodes.push(new em(t,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let n=ahe(t,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function ihe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&zq.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function she(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function wO(e){let t={};for(let n in e)t[n]=e[n];return t}function ohe(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}function ahe(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class Id{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=p2(n).createDocumentFragment());let i=r,s=[];return t.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=Fm(p2(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&Fm(p2(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return Fm(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Id(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=EO(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return EO(t.marks)}}function EO(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function p2(e){return e.document||window.document}const xO=new WeakMap;function lhe(e){let t=xO.get(e);return t===void 0&&xO.set(e,t=che(e)),t}function che(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function Fm(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=lhe(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:m}=Fm(e,f,n,r);if(l.appendChild(h),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const Gq=65535,Hq=Math.pow(2,16);function uhe(e,t){return e+t*Hq}function kO(e){return e&Gq}function dhe(e){return(e-(e&Gq))/Hq}const Vq=1,$q=2,jm=4,Wq=8;class K6{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Wq)>0}get deletedBefore(){return(this.delInfo&(Vq|jm))>0}get deletedAfter(){return(this.delInfo&($q|jm))>0}get deletedAcross(){return(this.delInfo&jm)>0}}class ui{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ui.empty)return ui.empty}recover(t){let n=0,r=kO(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+dhe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(t<=d){let f=c?t==l?-1:t==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let m=t==(n<0?l:d)?null:uhe(a/3,t-l),v=t==l?$q:t==d?Vq:jm;return(n<0?t!=l:t!=d)&&(v|=Wq),new K6(h,v,m)}i+=u-c}return r?t+i:new K6(t+i,0,null)}touches(t,n){let r=0,i=kO(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+s],u=l+c;if(t<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];t(a,a+c,l,l+u),s+=u-c}}invert(){return new ui(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ui.empty:new ui(t<0?[0,-t,0]:[0,0,t])}}ui.empty=new ui([]);class zu{constructor(t=[],n,r=0,i=t.length){this.maps=t,this.mirror=n,this.from=r,this.to=i}slice(t=0,n=this.maps.length){return new zu(this.maps,this.mirror,t,n)}copy(){return new zu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,n){this.to=this.maps.push(t),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(t){for(let n=0,r=this.maps.length;n<t.maps.length;n++){let i=t.getMirror(n);this.appendMap(t.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this.maps.length+t.maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new zu;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new K6(t,i,null)}}const m2=Object.create(null);class Sr{getMap(){return ui.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=m2[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in m2)throw new RangeError("Duplicate use of step JSON ID "+t);return m2[t]=n,n.prototype.jsonID=t,n}}class On{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new On(t,null)}static fail(t){return new On(null,t)}static fromReplace(t,n,r,i){try{return On.ok(t.replace(n,r,i))}catch(s){if(s instanceof N1)return On.fail(s.message);throw s}}}function h9(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let s=e.child(i);s.content.size&&(s=s.copy(h9(s.content,t,s))),s.isInline&&(s=t(s,n,i)),r.push(s)}return Ee.fromArray(r)}class xa extends Sr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new De(h9(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return On.fromReplace(t,this.from,this.to,s)}invert(){return new Hs(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new xa(n.pos,r.pos,this.mark)}merge(t){return t instanceof xa&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new xa(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new xa(n.from,n.to,t.markFromJSON(n.mark))}}Sr.jsonID("addMark",xa);class Hs extends Sr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new De(h9(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return On.fromReplace(t,this.from,this.to,r)}invert(){return new xa(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hs(n.pos,r.pos,this.mark)}merge(t){return t instanceof Hs&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Hs(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Hs(n.from,n.to,t.markFromJSON(n.mark))}}Sr.jsonID("removeMark",Hs);class ka extends Sr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return On.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return On.fromReplace(t,this.pos,this.pos+1,new De(Ee.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ka(this.pos,n.marks[i]);return new ka(this.pos,this.mark)}}return new cd(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ka(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ka(n.pos,t.markFromJSON(n.mark))}}Sr.jsonID("addNodeMark",ka);class cd extends Sr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return On.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return On.fromReplace(t,this.pos,this.pos+1,new De(Ee.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ka(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new cd(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new cd(n.pos,t.markFromJSON(n.mark))}}Sr.jsonID("removeNodeMark",cd);class vr extends Sr{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&Y6(t,this.from,this.to)?On.fail("Structure replace would overwrite content"):On.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ui([this.from,this.to-this.from,this.slice.size])}invert(t){return new vr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new vr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(t){if(!(t instanceof vr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?De.empty:new De(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new vr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?De.empty:new De(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new vr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new vr(n.from,n.to,De.fromJSON(t,n.slice),!!n.structure)}}Sr.jsonID("replace",vr);class pi extends Sr{constructor(t,n,r,i,s,o,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(t){if(this.structure&&(Y6(t,this.from,this.gapFrom)||Y6(t,this.gapTo,this.to)))return On.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return On.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?On.fromReplace(t,this.from,this.to,r):On.fail("Content does not fit in gap")}getMap(){return new ui([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new pi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new pi(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new pi(n.from,n.to,n.gapFrom,n.gapTo,De.fromJSON(t,n.slice),n.insert,!!n.structure)}}Sr.jsonID("replaceAround",pi);function Y6(e,t,n){let r=e.resolve(t),i=n-t,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function fhe(e,t,n,r){let i=[],s=[],o,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,t),h=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let v=0;v<d.length;v++)d[v].isInSet(m)||(o&&o.to==f&&o.mark.eq(d[v])?o.to=h:i.push(o=new Hs(f,h,d[v])));a&&a.to==f?a.to=h:s.push(a=new xa(f,h,r))}}),i.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function hhe(e,t,n,r){let i=[],s=0;e.doc.nodesBetween(t,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof S0){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let m=i[h];m.step==s-1&&d.eq(i[h].style)&&(f=m)}f?(f.to=c,f.step=s):i.push({style:d,from:Math.max(a,t),to:c,step:s})}}}),i.forEach(o=>e.step(new Hs(o.from,o.to,o.style)))}function Kq(e,t,n,r=n.contentMatch,i=!0){let s=e.doc.nodeAt(t),o=[],a=t+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new vr(a,u,De.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||e.step(new Hs(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,m;for(;f=h.exec(c.text);)m||(m=new De(Ee.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new vr(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(Ee.empty,!0);e.replace(a,a,new De(l,0,0))}for(let l=o.length-1;l>=0;l--)e.step(o[l])}function phe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function p9(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),s=e.$from.index(r),o=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!phe(i,s,o))break}return null}function mhe(e,t,n){let{$from:r,$to:i,depth:s}=t,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=Ee.empty,d=0;for(let m=s,v=!1;m>n;m--)v||r.index(m)>0?(v=!0,u=Ee.from(r.node(m).copy(u)),d++):l--;let f=Ee.empty,h=0;for(let m=s,v=!1;m>n;m--)v||i.after(m+1)<i.end(m)?(v=!0,f=Ee.from(i.node(m).copy(f)),h++):c++;e.step(new pi(l,c,o,a,new De(u.append(f),d,h),u.size-d,!0))}function ghe(e,t,n=null,r=e){let i=vhe(e,t),s=i&&_he(r,t);return s?i.map(TO).concat({type:t,attrs:n}).concat(s.map(TO)):null}function TO(e){return{type:e,attrs:null}}function vhe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let o=s.length?s[0]:t;return n.canReplaceWith(r,i,o)?s:null}function _he(e,t){let{parent:n,startIndex:r,endIndex:i}=e,s=n.child(r),o=t.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function yhe(e,t,n){let r=Ee.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Ee.from(n[o].type.create(n[o].attrs,r))}let i=t.start,s=t.end;e.step(new pi(i,s,i,s,new De(r,0,0),n.length,!0))}function bhe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(o,a)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&whe(e.doc,e.mapping.slice(s).map(a),r)){let l=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!h?l=!1:!f&&h&&(l=!0)}l===!1&&She(e,o,a,s),Kq(e,e.mapping.slice(s).map(a,1),r,void 0,l===null);let c=e.mapping.slice(s),u=c.map(a,1),d=c.map(a+o.nodeSize,1);return e.step(new pi(u,d,u+1,d-1,new De(Ee.from(r.create(i,null,o.marks)),0,0),1,!0)),l===!0&&Che(e,o,a,s),!1}})}function Che(e,t,n,r){t.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+s+o.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function She(e,t,n,r){t.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+s);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function whe(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Ehe(e,t,n,r,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new pi(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new De(Ee.from(o),0,0),1,!0))}function Bm(e,t,n=1,r){let i=e.resolve(t),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let v=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!v.type.validContent(h))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function xhe(e,t,n=1,r){let i=e.doc.resolve(t),s=Ee.empty,o=Ee.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=Ee.from(i.node(a).copy(s));let u=r&&r[c];o=Ee.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}e.step(new vr(t,t,new De(s.append(o),n,n),!0))}function Yq(e,t){let n=e.resolve(t),r=n.index();return khe(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function khe(e,t){return!!(e&&t&&!e.isLeaf&&e.canAppend(t))}function The(e,t,n){let r=new vr(t-n,t+n,De.empty,!0);e.step(r)}function Ohe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function Ahe(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function m9(e,t,n=t,r=De.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),s=e.resolve(n);return Zq(i,s,r)?new vr(t,n,r):new Ihe(i,s,r).fit()}function Zq(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class Ihe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Ee.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Ee.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new De(s,o,a);return t>-1?new pi(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new vr(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=g2(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(Ee.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=g2(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new De(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=g2(t,n);if(i.childCount<=1&&n>0){let s=t.size-n<=n+i.size;this.unplaced=new De(hf(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new De(hf(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-t,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)u.push(i.child(v));d=d.matchFragment(i)}let h=a.size+t-(o.content.size-o.openEnd);for(;c<a.childCount;){let v=a.child(c),_=d.matchType(v.type);if(!_)break;c++,(c>1||l==0||v.content.size)&&(d=_,u.push(Jq(v.mark(f.allowedMarks(v.marks)),c==1?l:0,c==a.childCount?h:-1)))}let m=c==a.childCount;m||(h=-1),this.placed=pf(this.placed,n,Ee.from(u)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,_=a;v<h;v++){let y=_.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),_=y.content}this.unplaced=m?t==0?De.empty:new De(hf(o.content,t-1,1),t-1,h<0?o.openEnd:t-1):new De(hf(o.content,t,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!v2(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=v2(t,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=v2(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=pf(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=pf(this.placed,this.depth,Ee.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Ee.empty,!0);n.childCount&&(this.placed=pf(this.placed,this.frontier.length,n))}}function hf(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(hf(e.firstChild.content,t-1,n)))}function pf(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(pf(e.lastChild.content,t-1,n)))}function g2(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Jq(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Jq(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Ee.empty,!0)))),e.copy(r)}function v2(e,t,n,r,i){let s=e.node(t),o=i?e.indexAfter(t):e.index(t);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Mhe(n,s.content,o)?a:null}function Mhe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function Rhe(e){return e.spec.defining||e.spec.definingForContent}function Nhe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(Zq(i,s,r))return e.step(new vr(t,n,r));let o=Xq(i,e.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;o.indexOf(f)>-1?a=f:i.before(f)==h&&o.splice(1,0,-f)}let l=o.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(c.push(m),h==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let h=c[f],m=Rhe(h.type);if(m&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(m||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),m=c[h];if(m)for(let v=0;v<o.length;v++){let _=o[(v+l)%o.length],y=!0;_<0&&(y=!1,_=-_);let b=i.node(_-1),C=i.index(_-1);if(b.canReplaceWith(C,C,m.type,m.marks))return e.replace(i.before(_),y?s.after(_):n,new De(Qq(r.content,0,r.openStart,h),h,r.openEnd))}}let d=e.steps.length;for(let f=o.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let h=o[f];h<0||(t=i.before(h),n=s.after(h))}}function Qq(e,t,n,r,i){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(Qq(s.content,t+1,n,r,s)))}if(t>r){let s=i.contentMatchAt(0),o=s.fillBefore(e).append(e);e=o.append(s.matchFragment(o).fillBefore(Ee.empty,!0))}return e}function Phe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=Ohe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new De(Ee.from(r),0,0))}function Dhe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),s=Xq(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}function Xq(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let s=e.start(i);if(s<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(s==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==s-1)&&n.push(i)}return n}class Gu extends Sr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return On.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return On.fromReplace(t,this.pos,this.pos+1,new De(Ee.from(i),0,n.isLeaf?0:1))}getMap(){return ui.empty}invert(t){return new Gu(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Gu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Gu(n.pos,n.attr,n.value)}}Sr.jsonID("attr",Gu);class ih extends Sr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return On.ok(r)}getMap(){return ui.empty}invert(t){return new ih(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ih(n.attr,n.value)}}Sr.jsonID("docAttr",ih);let ud=class extends Error{};ud=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};ud.prototype=Object.create(Error.prototype);ud.prototype.constructor=ud;ud.prototype.name="TransformError";class Lhe{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new zu}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new ud(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=De.empty){let i=m9(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new De(Ee.from(r),0,0))}delete(t,n){return this.replace(t,n,De.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return Nhe(this,t,n,r),this}replaceRangeWith(t,n,r){return Phe(this,t,n,r),this}deleteRange(t,n){return Dhe(this,t,n),this}lift(t,n){return mhe(this,t,n),this}join(t,n=1){return The(this,t,n),this}wrap(t,n){return yhe(this,t,n),this}setBlockType(t,n=t,r,i=null){return bhe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return Ehe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new Gu(t,n,r)),this}setDocAttribute(t,n){return this.step(new ih(t,n)),this}addNodeMark(t,n){return this.step(new ka(t,n)),this}removeNodeMark(t,n){if(!(n instanceof Ut)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n=n.isInSet(r.marks),!n)return this}return this.step(new cd(t,n)),this}split(t,n=1,r){return xhe(this,t,n,r),this}addMark(t,n,r){return fhe(this,t,n,r),this}removeMark(t,n,r){return hhe(this,t,n,r),this}clearIncompatible(t,n,r){return Kq(this,t,n,r),this}}const _2=Object.create(null);class Mt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Fhe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=De.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=t.mapping.slice(s);t.replaceRange(u.map(l.pos),u.map(c.pos),a?De.empty:n),a==0&&IO(t,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=t.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),IO(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Dt(t):yu(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let s=t.depth-1;s>=0;s--){let o=n<0?yu(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):yu(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new mi(t.node(0))}static atStart(t){return yu(t,t,0,0,1)||new mi(t)}static atEnd(t){return yu(t,t,t.content.size,t.childCount,-1)||new mi(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=_2[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in _2)throw new RangeError("Duplicate use of selection JSON ID "+t);return _2[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Dt.between(this.$anchor,this.$head).getBookmark()}}Mt.prototype.visible=!0;class Fhe{constructor(t,n){this.$from=t,this.$to=n}}let OO=!1;function AO(e){!OO&&!e.parent.inlineContent&&(OO=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Dt extends Mt{constructor(t,n=t){AO(t),AO(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Mt.near(r);let i=t.resolve(n.map(this.anchor));return new Dt(i.parent.inlineContent?i:r,r)}replace(t,n=De.empty){if(super.replace(t,n),n==De.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Dt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new w0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Dt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Mt.findFrom(n,r,!0)||Mt.findFrom(n,-r,!0);if(s)n=s.$head;else return Mt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Mt.findFrom(t,-r,!0)||Mt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Dt(t,n)}}Mt.jsonID("text",Dt);class w0{constructor(t,n){this.anchor=t,this.head=n}map(t){return new w0(t.map(this.anchor),t.map(this.head))}resolve(t){return Dt.between(t.resolve(this.anchor),t.resolve(this.head))}}class at extends Mt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=t.resolve(i);return r?Mt.near(s):new at(s)}content(){return new De(Ee.from(this.node),0,0)}eq(t){return t instanceof at&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new g9(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new at(t.resolve(n.anchor))}static create(t,n){return new at(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}at.prototype.visible=!1;Mt.jsonID("node",at);class g9{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new w0(r,r):new g9(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&at.isSelectable(r)?new at(n):Mt.near(n)}}class mi extends Mt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=De.empty){if(n==De.empty){t.delete(0,t.doc.content.size);let r=Mt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new mi(t)}map(t){return new mi(t)}eq(t){return t instanceof mi}getBookmark(){return jhe}}Mt.jsonID("all",mi);const jhe={map(){return this},resolve(e){return new mi(e)}};function yu(e,t,n,r,i,s=!1){if(t.inlineContent)return Dt.create(e,n);for(let o=r-(i>0?0:1);i>0?o<t.childCount:o>=0;o+=i){let a=t.child(o);if(a.isAtom){if(!s&&at.isSelectable(a))return at.create(e,n-(i<0?a.nodeSize:0))}else{let l=yu(e,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function IO(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof vr||i instanceof pi))return;let s=e.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),e.setSelection(Mt.near(e.doc.resolve(o),n))}const MO=1,RO=2,NO=4;class Bhe extends Lhe{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|MO)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&MO)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=RO,this}ensureMarks(t){return Ut.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&RO)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ut.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,s)),this.selection.empty||this.setSelection(Mt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=NO,this}get scrolledIntoView(){return(this.updated&NO)>0}}function PO(e,t){return!t||!e?e:e.bind(t)}class mf{constructor(t,n,r){this.name=t,this.init=PO(n.init,r),this.apply=PO(n.apply,r)}}const Uhe=[new mf("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new mf("selection",{init(e,t){return e.selection||Mt.atStart(t.doc)},apply(e){return e.selection}}),new mf("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new mf("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class y2{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Uhe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new mf(r.key,r.spec.state,r))})}}class Ru{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ru(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new Bhe(this)}static create(t){let n=new y2(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Ru(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new y2(this.schema,t.plugins),r=n.fields,i=new Ru(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new y2(t.schema,t.plugins),s=new Ru(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Wl.fromJSON(t.schema,n.doc);else if(o.name=="selection")s.selection=Mt.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,t,n[a],s);return}}s[o.name]=o.init(t,s)}}),s}}function ez(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=ez(i,t,{})),n[r]=i}return n}class Ts{constructor(t){this.spec=t,this.props={},t.props&&ez(t.props,this,this.props),this.key=t.key?t.key.key:tz("plugin")}getState(t){return t[this.key]}}const b2=Object.create(null);function tz(e){return e in b2?e+"$"+ ++b2[e]:(b2[e]=0,e+"$")}class so{constructor(t="key"){this.key=tz(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const nz=new so("transactionEventPlugin"),Z6="prosemirrorDispatchTransaction";function v9(e,t){const{eventTarget:n}=nz.getState(e.state);return n.addEventListener(Z6,t),()=>{n.removeEventListener(Z6,t)}}function qhe(e){return new Ts({key:nz,state:{init(){return{eventTarget:e}},apply(t,n){return n}}})}class rz{ctx;conversation;constructor(t,n){this.ctx=t,this.conversation=n}}class iz extends rz{constructor(t,n,r){super(n,r),this.view=t,this.ctx=n,this.conversation=r}subscribe(t,n){if(t==="change"){const r=()=>{n(void 0)};return v9(this.view,r)}return this.view.dom?.addEventListener(t,n,{capture:!0}),()=>{this.view.dom?.removeEventListener(t,n,{capture:!0})}}}class xFe extends rz{subscribe(){return()=>{}}}const Um=new so("contextConnectorPaste");function zhe(){return new Ts({key:Um,state:{init:()=>({}),apply(e,t){return e.getMeta(Um)??t}},props:{transformPasted(e,t){const n=Um.getState(t.state)?.transformPasted;return n?n(e,t):e}}})}function kFe(e,t){e.dispatch(e.state.tr.setMeta(Um,t))}const sz={shift:!1,ctrl:!1,meta:!1},J6=hn(()=>sz),Ghe=J6.getState;function Hhe(e){return vn(e)?_h(e,"4147197039"):null}const Vhe=5e3;function $he(e,t){const n=Hhe(e);if(Ghe().shift||!t||t.length<Vhe)return!1;const i=n?.get("paste_threshold",0)??0;return i>0?t.length>=i:!1}async function TFe(e){const t=await be(()=>import("./cykkaqa9c8mqvtqr.js"),__vite__mapDeps([4,1,5]));await new Promise(r=>setTimeout(r,0));const n=t.getFileTypeGuess(e);return await new Promise(r=>setTimeout(r,0)),n}const oz=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Whe(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const _9=(e,t,n)=>{let r=Whe(e,n);if(!r)return!1;let i=az(r);if(!i){let o=r.blockRange(),a=o&&p9(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&fz(e,i,t))return!0;if(r.parent.content.size==0&&(dd(s,"end")||at.isSelectable(s))){let o=m9(e.doc,r.before(),r.after(),De.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(dd(s,"end")?Mt.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):at.create(a.doc,i.pos-s.nodeSize)),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function dd(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Khe=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=az(r)}let o=s&&s.nodeBefore;return!o||!at.isSelectable(o)?!1:(t&&t(e.tr.setSelection(at.create(e.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function az(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Yhe(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Zhe=(e,t,n)=>{let r=Yhe(e,n);if(!r)return!1;let i=lz(r);if(!i)return!1;let s=i.nodeAfter;if(fz(e,i,t))return!0;if(r.parent.content.size==0&&(dd(s,"start")||at.isSelectable(s))){let o=m9(e.doc,r.before(),r.after(),De.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=e.tr.step(o);a.setSelection(dd(s,"start")?Mt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):at.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},Jhe=(e,t,n)=>{let{$head:r,empty:i}=e.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=lz(r)}let o=s&&s.nodeAfter;return!o||!at.isSelectable(o)?!1:(t&&t(e.tr.setSelection(at.create(e.doc,s.pos)).scrollIntoView()),!0)};function lz(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Qhe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function y9(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Xhe=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=y9(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Mt.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},cz=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof mi||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=y9(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(o,s.createAndFill());a.setSelection(Dt.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},uz=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Bm(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&p9(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function epe(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof at&&t.selection.node.isBlock)return!r.parentOffset||!Bm(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=i.parentOffset==i.parent.content.size,o=t.tr;(t.selection instanceof Dt||t.selection instanceof mi)&&o.deleteSelection();let a=r.depth==0?null:y9(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=s&&a?[{type:a}]:void 0,c=Bm(o.doc,o.mapping.map(r.pos),1,l);if(!l&&!c&&Bm(o.doc,o.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(l=[{type:a}]),c=!0),c&&(o.split(o.mapping.map(r.pos),1,l),!s&&!r.parentOffset&&r.parent.type!=a)){let u=o.mapping.map(r.before()),d=o.doc.resolve(u);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&o.setNodeMarkup(o.mapping.map(r.before()),a)}n(o.scrollIntoView())}return!0}}const dz=epe(),tpe=(e,t)=>(t&&t(e.tr.setSelection(new mi(e.doc))),!0);function npe(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||Yq(e.doc,t.pos))?!1:(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function fz(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(npe(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let d=t.pos+i.nodeSize,f=Ee.empty;for(let v=s.length-1;v>=0;v--)f=Ee.from(s[v].create(null,f));f=Ee.from(r.copy(f));let h=e.tr.step(new pi(t.pos-1,d,t.pos,d,new De(f,1,0),s.length,!0)),m=d+2*s.length;Yq(h.doc,m)&&h.join(m),n(h.scrollIntoView())}return!0}let l=Mt.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),u=c&&p9(c);if(u!=null&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(a&&dd(i,"start",!0)&&dd(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,m=1;for(;!h.isTextblock;h=h.firstChild)m++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let v=Ee.empty;for(let y=f.length-1;y>=0;y--)v=Ee.from(f[y].copy(v));let _=e.tr.step(new pi(t.pos-f.length,t.pos+i.nodeSize,t.pos+m,t.pos+i.nodeSize-m,new De(v,f.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function hz(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(t.tr.setSelection(Dt.create(t.doc,e<0?i.start(s):i.end(s)))),!0):!1}}const rpe=hz(-1),ipe=hz(1);function OFe(e,t=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&ghe(o,e,t);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function AFe(e,t=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,e,t)}r(s.scrollIntoView())}return!0}}function spe(e,t,n){for(let r=0;r<t.length;r++){let{$from:i,$to:s}=t[r],o=i.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(i.pos,s.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(n)}),o)return!0}return!1}function IFe(e,t=null){return function(n,r){let{empty:i,$cursor:s,ranges:o}=n.selection;if(i&&!s||!spe(n.doc,o,e))return!1;if(r)if(s)e.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let a=!1,l=n.tr;for(let c=0;!a&&c<o.length;c++){let{$from:u,$to:d}=o[c];a=n.doc.rangeHasMark(u.pos,d.pos,e)}for(let c=0;c<o.length;c++){let{$from:u,$to:d}=o[c];if(a)l.removeMark(u.pos,d.pos,e);else{let f=u.pos,h=d.pos,m=u.nodeAfter,v=d.nodeBefore,_=m&&m.isText?/^\s*/.exec(m.text)[0].length:0,y=v&&v.isText?/\s*$/.exec(v.text)[0].length:0;f+_<h&&(f+=_,h-=y),l.addMark(f,h,e.create(t))}}r(l.scrollIntoView())}return!0}}function E0(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let C2=E0(oz,_9,Khe),DO=E0(oz,Zhe,Jhe);const wo={Enter:E0(Qhe,cz,uz,dz),"Mod-Enter":Xhe,Backspace:C2,"Mod-Backspace":C2,"Shift-Backspace":C2,Delete:DO,"Mod-Delete":DO,"Mod-a":tpe},pz={"Ctrl-h":wo.Backspace,"Alt-Backspace":wo["Mod-Backspace"],"Ctrl-d":wo.Delete,"Ctrl-Alt-Backspace":wo["Mod-Delete"],"Alt-Delete":wo["Mod-Delete"],"Alt-d":wo["Mod-Delete"],"Ctrl-a":rpe,"Ctrl-e":ipe};for(let e in wo)pz[e]=wo[e];const ope=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,LO=ope?pz:wo;var $a={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ape=typeof navigator<"u"&&/Mac/.test(navigator.platform),lpe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var rr=0;rr<10;rr++)$a[48+rr]=$a[96+rr]=String(rr);for(var rr=1;rr<=24;rr++)$a[rr+111]="F"+rr;for(var rr=65;rr<=90;rr++)$a[rr]=String.fromCharCode(rr+32),j1[rr]=String.fromCharCode(rr);for(var S2 in $a)j1.hasOwnProperty(S2)||(j1[S2]=$a[S2]);function cpe(e){var t=ape&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||lpe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?j1:$a)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const upe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function dpe(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))upe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function fpe(e){let t=Object.create(null);for(let n in e)t[dpe(n)]=e[n];return t}function w2(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function hpe(e){return new Ts({props:{handleKeyDown:mz(e)}})}function mz(e){let t=fpe(e);return function(n,r){let i=cpe(r),s,o=t[w2(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[w2(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=$a[r.keyCode])&&s!=i){let a=t[w2(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const ir=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},sh=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Q6=null;const bo=function(e,t,n){let r=Q6||(Q6=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},ppe=function(){Q6=null},mc=function(e,t,n,r){return n&&(FO(e,t,n,r,-1)||FO(e,t,n,r,1))},mpe=/^(img|br|input|textarea|hr)$/i;function FO(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Us(e))){let s=e.parentNode;if(!s||s.nodeType!=1||Kh(e)||mpe.test(e.nodeName)||e.contentEditable=="false")return!1;t=ir(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?Us(e):0}else return!1}}function Us(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function gpe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Us(e)}else if(e.parentNode&&!Kh(e))t=ir(e),e=e.parentNode;else return null}}function vpe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Kh(e))t=ir(e)+1,e=e.parentNode;else return null}}function _pe(e,t,n){for(let r=t==0,i=t==Us(e);r||i;){if(e==n)return!0;let s=ir(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,i=i&&s==Us(e)}}function Kh(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const x0=function(e){return e.focusNode&&mc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Nl(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function ype(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function bpe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Xs=typeof navigator<"u"?navigator:null,jO=typeof document<"u"?document:null,al=Xs&&Xs.userAgent||"",X6=/Edge\/(\d+)/.exec(al),gz=/MSIE \d/.exec(al),eS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(al),Hr=!!(gz||eS||X6),Na=gz?document.documentMode:eS?+eS[1]:X6?+X6[1]:0,ys=!Hr&&/gecko\/(\d+)/i.test(al);ys&&+(/Firefox\/(\d+)/.exec(al)||[0,0])[1];const tS=!Hr&&/Chrome\/(\d+)/.exec(al),yr=!!tS,vz=tS?+tS[1]:0,Ar=!Hr&&!!Xs&&/Apple Computer/.test(Xs.vendor),fd=Ar&&(/Mobile\/\w+/.test(al)||!!Xs&&Xs.maxTouchPoints>2),Oi=fd||(Xs?/Mac/.test(Xs.platform):!1),Cpe=Xs?/Win/.test(Xs.platform):!1,rs=/Android \d/.test(al),Yh=!!jO&&"webkitFontSmoothing"in jO.documentElement.style,Spe=Yh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function wpe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function vo(e,t){return typeof e=="number"?e:e[t]}function Epe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function BO(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let o=n||e.dom;o;o=sh(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?wpe(s):Epe(a),u=0,d=0;if(t.top<c.top+vo(r,"top")?d=-(c.top-t.top+vo(i,"top")):t.bottom>c.bottom-vo(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+vo(i,"top")-c.top:t.bottom-c.bottom+vo(i,"bottom")),t.left<c.left+vo(r,"left")?u=-(c.left-t.left+vo(i,"left")):t.right>c.right-vo(r,"right")&&(u=t.right-c.right+vo(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let m=a.scrollLeft-f,v=a.scrollTop-h;t={left:t.left-m,top:t.top-v,right:t.right-m,bottom:t.bottom-v}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function xpe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let s=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let a=e.root.elementFromPoint(s,o);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:_z(e.dom)}}function _z(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=sh(r));return t}function kpe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;yz(n,r==0?0:r-t)}function yz(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:s}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let su=null;function Tpe(e){if(e.setActive)return e.setActive();if(su)return e.focus(su);let t=_z(e);e.focus(su==null?{get preventScroll(){return su={preventScroll:!0},!0}}:void 0),su||(su=!1,yz(t,0))}function bz(e,t){let n,r=2e8,i,s=0,o=t.top,a=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=bo(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.top<=o&&m.bottom>=a){o=Math.max(m.bottom,o),a=Math.min(m.top,a);let v=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(v<r){n=u,r=v,i=v&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,u.nodeType==1&&v&&(s=d+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?Ope(n,i):!n||r&&n.nodeType==1?{node:e,offset:s}:bz(n,i)}function Ope(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let s=ga(r,1);if(s.top!=s.bottom&&b9(t,s))return{node:e,offset:i+(t.left>=(s.left+s.right)/2?1:0)}}return{node:e,offset:0}}function b9(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Ape(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Ipe(e,t,n){let{node:r,offset:i}=bz(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(r,i,s)}function Mpe(e,t,n,r){let i=-1;for(let s=t,o=!1;s!=e.dom;){let a=e.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function Cz(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=e.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(b9(t,c))return Cz(o,t,c)}}if((s=(s+1)%r)==i)break}return e}function Rpe(e,t){let n=e.dom.ownerDocument,r,i=0,s=bpe(n,t.left,t.top);s&&({node:r,offset:i}=s);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=e.dom.getBoundingClientRect();if(!b9(t,c)||(o=Cz(e.dom,t,c),!o))return null}if(Ar)for(let c=o;r&&c;c=sh(c))c.draggable&&(r=void 0);if(o=Ape(o,t),r){if(ys&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let c;Yh&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Mpe(e,r,i,t))}a==null&&(a=Ipe(e,o,t));let l=e.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function UO(e){return e.top<e.bottom||e.left<e.right}function ga(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(UO(r))return r}return Array.prototype.find.call(n,UO)||e.getBoundingClientRect()}const Npe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Sz(e,t,n){let{node:r,offset:i,atom:s}=e.docView.domFromPos(t,n<0?-1:1),o=Yh||ys;if(r.nodeType==3)if(o&&(Npe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=ga(bo(r,i,i),n);if(ys&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=ga(bo(r,i-1,i-1),-1);if(c.top==l.top){let u=ga(bo(r,i,i+1),-1);if(u.top!=l.top)return Yd(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Yd(ga(bo(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Us(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return E2(l.getBoundingClientRect(),!1)}if(s==null&&i<Us(r)){let l=r.childNodes[i];if(l.nodeType==1)return E2(l.getBoundingClientRect(),!0)}return E2(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Us(r))){let l=r.childNodes[i-1],c=l.nodeType==3?bo(l,Us(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Yd(ga(c,1),!1)}if(s==null&&i<Us(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?bo(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Yd(ga(c,-1),!0)}return Yd(ga(r.nodeType==3?bo(r):r,-n),n>=0)}function Yd(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function E2(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function wz(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function Ppe(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return wz(e,t,()=>{let{node:s}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=Sz(e,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=bo(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const Dpe=/[\u0590-\u08ac]/;function Lpe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=e.domSelection();return!Dpe.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:wz(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:v}=e.domSelectionRange(),_=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==v;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),_})}let qO=null,zO=null,GO=!1;function Fpe(e,t,n){return qO==t&&zO==n?GO:(qO=t,zO=n,GO=n=="up"||n=="down"?Ppe(e,t,n):Lpe(e,t,n))}const Di=0,HO=1,jl=2,eo=3;class Zh{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Di,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,o;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>ir(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==t&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<s)return i.descAt(t-r-i.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>t||o instanceof xz){i=t-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof Ez&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?ir(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?ir(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&t<=c){let u=o+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=o;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=ir(f.dom)+1;break}t-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=ir(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let s=Math.min(t,n),o=Math.max(t,n);for(let f=0,h=0;f<this.children.length;f++){let m=this.children[f],v=h+m.size;if(s>h&&o<v)return m.setSelection(t-h-m.border,n-h-m.border,r,i);h=v}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((ys||Ar)&&t==n){let{node:f,offset:h}=a;if(f.nodeType==3){if(u=!!(h&&f.nodeValue[h-1]==`
`),u&&h==f.nodeValue.length)for(let m=f,v;m;m=m.parentNode){if(v=m.nextSibling){v.nodeName=="BR"&&(a=l={node:v.parentNode,offset:ir(v)+1});break}let _=m.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let m=f.childNodes[h-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(ys&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||u&&Ar)&&mc(a.node,a.offset,c.anchorNode,c.anchorOffset)&&mc(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||t==n)&&!u){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(t>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?t<=o&&n>=r:t<o&&n>r){let a=r+s.border,l=o-s.border;if(t>=a&&n<=l){this.dirty=t==r||n==o?jl:HO,t==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=eo:s.markDirty(t-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?jl:eo}r=o}this.dirty=jl}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?jl:HO;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class Ez extends Zh{constructor(t,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==Di&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class jpe extends Zh{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class gc extends Zh{constructor(t,n,r,i){super(t,[],r,i),this.mark=n}static create(t,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Id.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new gc(t,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&eo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=eo&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Di){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Di}}slice(t,n,r){let i=gc.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=iS(s,n,o,r)),t>0&&(s=iS(s,0,t,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}}class Pa extends Zh{constructor(t,n,r,i,s,o,a,l,c){super(t,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Id.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=Oz(u,r,n),c?l=new Bpe(t,n,r,i,u,d||null,f,c,s,o+1):n.isText?new k0(t,n,r,i,u,f,s):new Pa(t,n,r,i,u,d||null,f,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Ee.empty)}return t}matchesNode(t,n,r){return this.dirty==Di&&t.eq(this.node)&&rS(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,s=t.composing?this.localCompositionInfo(t,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new qpe(this,o&&o.node,t);Hpe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Ut.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,t);let h;l.findNodeMatch(c,u,d,f)||a&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,h,t)||l.updateNextNode(c,u,d,t,f,i)||l.addNode(c,u,d,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==jl)&&(o&&this.protectLocalComposition(t,o),kz(this.contentDOM,this.children,t),fd&&Vpe(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Dt)||r<n||i>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=$pe(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new jpe(this,s,n,i);t.input.compositionNodes.push(o),this.children=iS(this.children,r,r+i.length,t,o)}update(t,n,r,i){return this.dirty==eo||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Di}updateOuterDeco(t){if(rS(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Tz(this.dom,this.nodeDOM,nS(this.outerDeco,this.node,n),nS(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function VO(e,t,n,r,i){Oz(r,t,e);let s=new Pa(void 0,e,t,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class k0 extends Pa{constructor(t,n,r,i,s,o,a){super(t,n,r,i,s,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==eo||this.dirty!=Di&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Di||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Di,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),s=document.createTextNode(i.text);return new k0(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=eo)}get domAtom(){return!1}isText(t){return this.node.text==t}}class xz extends Zh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Di&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Bpe extends Pa{constructor(t,n,r,i,s,o,a,l,c,u){super(t,n,r,i,s,o,a,c,u),this.spec=l}update(t,n,r,i){if(this.dirty==eo)return!1;if(this.spec.update){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,i),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function kz(e,t,n){let r=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let o=t[s],a=o.dom;if(a.parentNode==e){for(;a!=r;)r=$O(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(o instanceof gc){let l=r?r.previousSibling:e.lastChild;kz(o.contentDOM,o.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=$O(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const Af=function(e){e&&(this.nodeName=e)};Af.prototype=Object.create(null);const Bl=[new Af];function nS(e,t,n){if(e.length==0)return Bl;let r=n?Bl[0]:new Af,i=[r];for(let s=0;s<e.length;s++){let o=e[s].type.attrs;if(o){o.nodeName&&i.push(r=new Af(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Af(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function Tz(e,t,n,r){if(n==Bl&&r==Bl)return t;let i=t;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Bl[0]),i=l}Upe(i,a||Bl[0],o)}return i}function Upe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&e.classList.add(i[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function Oz(e,t,n){return Tz(e,e,Bl,nS(t,n,e.nodeType!=1))}function rS(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function $O(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class qpe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=zpe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,t.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Di,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=gc.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,i,s){let o=this.top.children[i];return o.dirty==eo&&o.dom==o.contentDOM&&(o.dirty=jl),o.update(t,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Pa){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=eo&&rS(n,l.outerDeco));if(!f&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,i,o)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=jl,d.updateChildren(i,o+1),d.dirty=Di),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,s,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content))return null;let a=Pa.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,s){let o=Pa.create(this.top,t,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new Ez(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof gc;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof k0)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Ar||yr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new xz(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function zpe(e,t){let n=t,r=n.children.length,i=e.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof gc)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Gpe(e,t){return e.type.side-t.type.side}function Hpe(e,t,n,r){let i=t.locals(e),s=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,i,t.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let _=i[o++];_.widget&&(u?(d||(d=[u])).push(_):u=_)}if(u)if(d){d.sort(Gpe);for(let _=0;_<d.length;_++)n(d[_],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<e.childCount)h=c,f=e.child(c++);else break;for(let _=0;_<a.length;_++)a[_].to<=s&&a.splice(_--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let m=s+f.nodeSize;if(f.isText){let _=m;o<i.length&&i[o].from<_&&(_=i[o].from);for(let y=0;y<a.length;y++)a[y].to<_&&(_=a[y].to);_<m&&(l=f.cut(_-s),f=f.cut(0,_-s),m=_,h=-1)}else for(;o<i.length&&i[o].to<m;)o++;let v=f.isInline&&!f.isLeaf?a.filter(_=>!_.inline):a.slice();r(f,v,t.forChild(s,f),h),s=m}}function Vpe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function $pe(e,t,n,r){for(let i=0,s=0;i<e.childCount&&s<=r;){let o=e.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<e.childCount;){let c=e.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function iS(e,t,n,r,i){let s=[];for(let o=0,a=0;o<e.length;o++){let l=e[o],c=a,u=a+=l.size;c>=n||u<=t?s.push(l):(c<t&&s.push(l.slice(0,t-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function C9(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(x0(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&at.isSelectable(u)&&i.parent&&!(u.isInline&&_pe(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new at(o==d?a:r.resolve(d))}}else{let u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=t=="pointer"||e.state.selection.head<a.pos&&!s?1:-1;c=S9(e,l,a,u)}return c}function Az(e){return e.editable?e.hasFocus():Mz(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ro(e,t=!1){let n=e.state.selection;if(Iz(e,n),!!Az(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&yr){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&mc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Kpe(e);else{let{anchor:r,head:i}=n,s,o;WO&&!(n instanceof Dt)&&(n.$from.parent.inlineContent||(s=KO(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=KO(e,n.to))),e.docView.setSelection(r,i,e.root,t),WO&&(s&&YO(s),o&&YO(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Wpe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const WO=Ar||yr&&vz<63;function KO(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Ar&&i&&i.contentEditable=="false")return x2(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return x2(i);if(s)return x2(s)}}function x2(e){return e.contentEditable="true",Ar&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function YO(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Wpe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Az(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Kpe(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ir(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&Hr&&Na<=11&&(r.disabled=!0,r.disabled=!1)}function Iz(e,t){if(t instanceof at){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(ZO(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else ZO(e)}function ZO(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function S9(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Dt.between(t,n,r)}function JO(e){return e.editable&&!e.hasFocus()?!1:Mz(e)}function Mz(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Ype(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return mc(t.node,t.offset,n.anchorNode,n.anchorOffset)}function sS(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&Mt.findFrom(s,t)}function va(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function QO(e,t,n){let r=e.state.selection;if(r instanceof Dt)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=e.state.doc.resolve(i.pos+s.nodeSize*(t<0?-1:1));return va(e,new Dt(r.$anchor,o))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=sS(e.state,t);return i&&i instanceof at?va(e,i):!1}else if(!(Oi&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=e.docView.descAt(a))&&!o.contentDOM?at.isSelectable(s)?va(e,new at(t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):Yh?va(e,new Dt(e.state.doc.resolve(t<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof at&&r.node.isInline)return va(e,new Dt(t>0?r.$to:r.$from));{let i=sS(e.state,t);return i?va(e,i):!1}}}function B1(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function If(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function ou(e,t){return t<0?Zpe(e):Jpe(e)}function Zpe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,s,o=!1;for(ys&&n.nodeType==1&&r<B1(n)&&If(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(If(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Rz(n))break;{let a=n.previousSibling;for(;a&&If(a,-1);)i=n.parentNode,s=ir(a),a=a.previousSibling;if(a)n=a,r=B1(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}o?oS(e,n,r):i&&oS(e,i,s)}function Jpe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=B1(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(If(a,1))s=n,o=++r;else break}else{if(Rz(n))break;{let a=n.nextSibling;for(;a&&If(a,1);)s=a.parentNode,o=ir(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=B1(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}s&&oS(e,s,o)}function Rz(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Qpe(e,t){for(;e&&t==e.childNodes.length&&!Kh(e);)t=ir(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function Xpe(e,t){for(;e&&!t&&!Kh(e);)t=ir(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function oS(e,t,n){if(t.nodeType!=3){let s,o;(o=Qpe(t,n))?(t=o,n=0):(s=Xpe(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(x0(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Ro(e)},50)}function XO(e,t){let n=e.state.doc.resolve(t);if(!(yr||Cpe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function eA(e,t,n){let r=e.state.selection;if(r instanceof Dt&&!r.empty||n.indexOf("s")>-1||Oi&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=sS(e.state,t);if(o&&o instanceof at)return va(e,o)}if(!i.parent.inlineContent){let o=t<0?i:s,a=r instanceof mi?Mt.near(o,t):Mt.findFrom(o,t);return a?va(e,a):!1}return!1}function tA(e,t){if(!(e.state.selection instanceof Dt))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=e.state.tr;return t<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),e.dispatch(o),!0}return!1}function nA(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function eme(e){if(!Ar||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;nA(e,r,"true"),setTimeout(()=>nA(e,r,"false"),20)}return!1}function tme(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function nme(e,t){let n=t.keyCode,r=tme(t);if(n==8||Oi&&n==72&&r=="c")return tA(e,-1)||ou(e,-1);if(n==46&&!t.shiftKey||Oi&&n==68&&r=="c")return tA(e,1)||ou(e,1);if(n==13||n==27)return!0;if(n==37||Oi&&n==66&&r=="c"){let i=n==37?XO(e,e.state.selection.from)=="ltr"?-1:1:-1;return QO(e,i,r)||ou(e,i)}else if(n==39||Oi&&n==70&&r=="c"){let i=n==39?XO(e,e.state.selection.from)=="ltr"?1:-1:1;return QO(e,i,r)||ou(e,i)}else{if(n==38||Oi&&n==80&&r=="c")return eA(e,-1,r)||ou(e,-1);if(n==40||Oi&&n==78&&r=="c")return eme(e)||eA(e,1,r)||ou(e,1);if(r==(Oi?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Nz(e,t){e.someProp("transformCopied",h=>{t=h(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=e.someProp("clipboardSerializer")||Id.fromSchema(e.state.schema),a=Bz(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=jz[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=a.createElement(u[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",h=>h(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function Pz(e,t,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!t)return null;let l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return t?new De(Ee.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):De.empty;let d=e.someProp("clipboardTextParser",f=>f(t,i,r,e));if(d)a=d;else{let f=i.marks(),{schema:h}=e.state,m=Id.fromSchema(h);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(v=>{let _=o.appendChild(document.createElement("p"));v&&_.appendChild(m.serializeNode(h.text(v,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),o=sme(n),Yh&&ome(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||rh.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!rme.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=ame(rA(a,+u[1],+u[2]),u[4]);else if(a=De.maxOpen(ime(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=rA(a,d,f)}return e.someProp("transformPasted",d=>{a=d(a,e)}),a}const rme=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ime(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,o=[];if(e.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&Lz(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Fz(o[o.length-1],s.length));let u=Dz(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return Ee.from(o)}return e}function Dz(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Ee.from(e));return e}function Lz(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=Lz(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Ee.from(Dz(n,e,i+1))))}}function Fz(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Fz(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Ee.empty,!0);return e.copy(n.append(r))}function aS(e,t,n,r,i,s){let o=t<0?e.firstChild:e.lastChild,a=o.content;return e.childCount>1&&(s=0),i<r-1&&(a=aS(a,t,n,r,i+1,s)),i>=n&&(a=t<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Ee.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(a))}function rA(e,t,n){return t<e.openStart&&(e=new De(aS(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new De(aS(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const jz={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let iA=null;function Bz(){return iA||(iA=document.implementation.createHTMLDocument("title"))}function sme(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Bz().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&jz[r[1].toLowerCase()])&&(e=i.map(s=>"<"+s+">").join("")+e+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=e,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function ome(e){let t=e.querySelectorAll(yr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function ame(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:s,openEnd:o}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Ee.from(l.create(r[a+1],i)),s++,o++}return new De(i,s,o)}const Ir={},Mr={},lme={touchstart:!0,touchmove:!0};class cme{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ume(e){for(let t in Ir){let n=Ir[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{fme(e,r)&&!w9(e,r)&&(e.editable||!(r.type in Mr))&&n(e,r)},lme[t]?{passive:!0}:void 0)}Ar&&e.dom.addEventListener("input",()=>null),lS(e)}function Ta(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function dme(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function lS(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>w9(e,r))})}function w9(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function fme(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function hme(e,t){!w9(e,t)&&Ir[t.type]&&(e.editable||!(t.type in Mr))&&Ir[t.type](e,t)}Mr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!qz(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(rs&&yr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),fd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Nl(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||nme(e,n)?n.preventDefault():Ta(e,"key")};Mr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Mr.keypress=(e,t)=>{let n=t;if(qz(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Oi&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Dt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i))&&e.dispatch(e.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function T0(e){return{left:e.clientX,top:e.clientY}}function pme(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function E9(e,t,n,r,i){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,a=>o>s.depth?a(e,n,s.nodeAfter,s.before(o),i,!0):a(e,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Hu(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function mme(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&at.isSelectable(r)?(Hu(e,new at(n)),!0):!1}function gme(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof at&&(r=n.node);let s=e.state.doc.resolve(t);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(at.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Hu(e,at.create(e.state.doc,i)),!0):!1}function vme(e,t,n,r,i){return E9(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(i?gme(e,n):mme(e,n))}function _me(e,t,n,r){return E9(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function yme(e,t,n,r){return E9(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||bme(e,n,r)}function bme(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Hu(e,Dt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Hu(e,Dt.create(r,a+1,a+1+o.content.size));else if(at.isSelectable(o))Hu(e,at.create(r,a));else continue;return!0}}function x9(e){return U1(e)}const Uz=Oi?"metaKey":"ctrlKey";Ir.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=x9(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&pme(n,e.input.lastClick)&&!n[Uz]&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=e.posAtCoords(T0(n));o&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Cme(e,o,n,!!r)):(s=="doubleClick"?_me:yme)(e,o.pos,o.inside,n)?n.preventDefault():Ta(e,"pointer"))};class Cme{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Uz],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),o=n.inside;else{let u=t.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof at&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ys&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ta(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ro(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(T0(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ta(this.view,"pointer"):vme(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Ar&&this.mightDrag&&!this.mightDrag.node.isAtom||yr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Hu(this.view,Mt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ta(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ta(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Ir.touchstart=e=>{e.input.lastTouch=Date.now(),x9(e),Ta(e,"pointer")};Ir.touchmove=e=>{e.input.lastTouch=Date.now(),Ta(e,"pointer")};Ir.contextmenu=e=>x9(e);function qz(e,t){return e.composing?!0:Ar&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const Sme=rs?5e3:-1;Mr.compositionstart=Mr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),U1(e,!0),e.markCursor=null;else if(U1(e),ys&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){e.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}e.input.composing=!0}zz(e,Sme)};Mr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,zz(e,20))};function zz(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>U1(e),t))}function Gz(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Eme());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function wme(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=gpe(t.focusNode,t.focusOffset),r=vpe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Eme(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function U1(e,t=!1){if(!(rs&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Gz(e),t||e.docView&&e.docView.dirty){let n=C9(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}function xme(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const oh=Hr&&Na<15||fd&&Spe<604;Ir.copy=Mr.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let s=oh?null:n.clipboardData,o=r.content(),{dom:a,text:l}=Nz(e,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):xme(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kme(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Tme(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ah(e,r.value,null,i,t):ah(e,r.textContent,r.innerHTML,i,t)},50)}function ah(e,t,n,r,i){let s=Pz(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,s||De.empty)))return!0;if(!s)return!1;let o=kme(s),a=o?e.state.tr.replaceSelectionWith(o,r):e.state.tr.replaceSelection(s);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Hz(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Mr.paste=(e,t)=>{let n=t;if(e.composing&&!rs)return;let r=oh?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&ah(e,Hz(r),r.getData("text/html"),i,n)?n.preventDefault():Tme(e,n)};class Vz{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const $z=Oi?"altKey":"ctrlKey";Ir.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(T0(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof at?i.to-1:i.to))){if(r&&r.mightDrag)o=at.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(o=at.create(e.state.doc,d.posBefore))}}let a=(o||e.state.selection).content(),{dom:l,text:c,slice:u}=Nz(e,a);(!n.dataTransfer.files.length||!yr||vz>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(oh?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",oh||n.dataTransfer.setData("text/plain",c),e.dragging=new Vz(u,!n[$z],o)};Ir.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Mr.dragover=Mr.dragenter=(e,t)=>t.preventDefault();Mr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(T0(n));if(!i)return;let s=e.state.doc.resolve(i.pos),o=r&&r.slice;o?e.someProp("transformPasted",m=>{o=m(o,e)}):o=Pz(e,Hz(n.dataTransfer),oh?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[$z]);if(e.someProp("handleDrop",m=>m(e,n,o||De.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?Ahe(e.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=e.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&at.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new at(h));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,_,y,b)=>m=b),c.setSelection(S9(e,h,c.doc.resolve(m)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))};Ir.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ro(e)},20))};Ir.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Ir.beforeinput=(e,t)=>{if(yr&&rs&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,Nl(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in Mr)Ir[e]=Mr[e];function lh(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class q1{constructor(t,n){this.toDOM=t,this.spec=n||Kl,this.side=this.spec.side||0}map(t,n,r,i){let{pos:s,deleted:o}=t.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Gr(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof q1&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&lh(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Da{constructor(t,n){this.attrs=t,this.spec=n||Kl}map(t,n,r,i){let s=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Gr(s,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Da&&lh(this.attrs,t.attrs)&&lh(this.spec,t.spec)}static is(t){return t.type instanceof Da}destroy(){}}class k9{constructor(t,n){this.attrs=t,this.spec=n||Kl}map(t,n,r,i){let s=t.mapResult(n.from+i,1);if(s.deleted)return null;let o=t.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Gr(s.pos-r,o.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),s;return i==n.from&&!(s=t.child(r)).isText&&i+s.nodeSize==n.to}eq(t){return this==t||t instanceof k9&&lh(this.attrs,t.attrs)&&lh(this.spec,t.spec)}destroy(){}}class Gr{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Gr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Gr(t,t,new q1(n,r))}static inline(t,n,r,i){return new Gr(t,n,new Da(r,i))}static node(t,n,r,i){return new Gr(t,n,new k9(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Da}get widget(){return this.type instanceof q1}}const bu=[],Kl={};class ln{constructor(t,n){this.local=t.length?t:bu,this.children=n.length?n:bu}static create(t,n){return n.length?z1(n,t,0,Kl):gr}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=t&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,n-a,r,i+a,s)}}map(t,n,r){return this==gr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Kl)}mapInner(t,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Ome(this.children,o||[],t,n,r,i,s):o?new ln(o.sort(Yl),bu):gr}add(t,n){return n.length?this==gr?ln.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,s=0;t.forEach((a,l)=>{let c=l+r,u;if(u=Kz(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,z1(u,a,c+1,Kl)),s+=3}});let o=Wz(s?Yz(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||o.splice(a--,1);return new ln(o.length?this.local.concat(o).sort(Yl):this.local,i||this.children)}remove(t){return t.length==0||this==gr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<l&&(t[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=gr?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<t.length;s++)if(o=t[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ln(i,r):gr}forChild(t,n){if(this==gr)return this;if(n.isLeaf)return ln.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let s=t+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Da){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new ln(i.sort(Yl),bu);return r?new Ca([a,r]):a}return r||gr}eq(t){if(this==t)return!0;if(!(t instanceof ln)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return T9(this.localsInner(t))}localsInner(t){if(this==gr)return bu;if(t.inlineContent||!this.local.some(Da.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Da||n.push(this.local[r]);return n}}ln.empty=new ln([],[]);ln.removeOverlap=T9;const gr=ln.empty;class Ca{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Kl));return Ca.from(r)}forChild(t,n){if(n.isLeaf)return ln.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,n);s!=gr&&(s instanceof Ca?r=r.concat(s.members):r.push(s))}return Ca.from(r)}eq(t){if(!(t instanceof Ca)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?T9(r?n:n.sort(Yl)):bu}static from(t){switch(t.length){case 0:return gr;case 1:return t[0];default:return new Ca(t.every(n=>n instanceof ln)?t:t.reduce((n,r)=>n.concat(r instanceof ln?r:r.members),[]))}}}function Ome(e,t,n,r,i,s,o){let a=e.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,m,v)=>{let _=v-m-(h-f);for(let y=0;y<a.length;y+=3){let b=a[y+1];if(b<0||f>b+u-d)continue;let C=a[y]+u-d;h>=C?a[y+1]=f<=C?-2:-1:f>=u&&_&&(a[y]+=_,a[y+1]+=_)}d+=_}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(e[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[c+1]+s,-1),h=f-i,{index:m,offset:v}=r.content.findIndex(d),_=r.maybeChild(m);if(_&&v==d&&v+_.nodeSize==h){let y=a[c+2].mapInner(n,_,u+1,e[c]+s+1,o);y!=gr?(a[c]=d,a[c+1]=h,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=Ame(a,e,t,n,i,s,o),u=z1(c,r,0,o);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new ln(t.sort(Yl),a)}function Wz(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Gr(i.from+t,i.to+t,i.type))}return n}function Ame(e,t,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+s+1);return n}function Kz(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let s=0,o;s<e.length;s++)(o=e[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),e[s]=null);return i}function Yz(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function z1(e,t,n,r){let i=[],s=!1;t.forEach((a,l)=>{let c=Kz(e,a,l+n);if(c){s=!0;let u=z1(c,a,n+l+1,r);u!=gr&&i.push(l,l+a.nodeSize,u)}});let o=Wz(s?Yz(e):e,-n).sort(Yl);for(let a=0;a<o.length;a++)o[a].type.valid(t,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new ln(o,i):gr}function Yl(e,t){return e.from-t.from||e.to-t.to}function T9(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,r.to),sA(t,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),sA(t,i,r.copy(s.from,r.to)));break}}}return t}function sA(e,t,n){for(;t<e.length&&Yl(n,e[t])>0;)t++;e.splice(t,0,n)}function k2(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=gr&&t.push(r)}),e.cursorWrapper&&t.push(ln.create(e.state.doc,[e.cursorWrapper.deco])),Ca.from(t)}const Ime={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Mme=Hr&&Na<=11;class Rme{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Nme{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rme,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Hr&&Na<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Mme&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Ime)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(JO(this.view)){if(this.suppressingSelectionUpdates)return Ro(this.view);if(Hr&&Na<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&mc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=sh(s))n.add(s);for(let s=t.anchorNode;s;s=sh(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&JO(t)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(ys&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||Lme(t,d)!=h)&&f.remove()}}}let c=null;s<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&x0(r)&&(c=C9(t))&&c.eq(Mt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Ro(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||i)&&(s>-1&&(t.docView.markDirty(s,o),Pme(t)),this.handleDOMChange(s,o,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Ro(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,s=t.nextSibling;if(Hr&&Na<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let o=i&&i.parentNode==t.target?ir(i)+1:0,a=r.localPosFromDOM(t.target,o,-1),l=s&&s.parentNode==t.target?ir(s):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let oA=new WeakMap,aA=!1;function Pme(e){if(!oA.has(e)&&(oA.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=ys,aA)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),aA=!0}}function lA(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return mc(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function Dme(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return lA(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?lA(e,n):null}function Lme(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Fme(e,t,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],x0(l)||c.push({node:l.focusNode,offset:l.focusOffset})),yr&&e.input.lastKeyCode===8)for(let _=s;_>i;_--){let y=r.childNodes[_-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){s=_;break}if(!b||b.size)break}let d=e.state.doc,f=e.someProp("domParser")||rh.fromSchema(e.state.schema),h=d.resolve(o),m=null,v=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:jme,context:h});if(c&&c[0].pos!=null){let _=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=_),m={anchor:_+o,head:y+o}}return{doc:v,sel:m,from:o,to:a}}function jme(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Ar&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Ar&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Bme=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Ume(e,t,n,r,i){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let O=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,k=C9(e,O);if(k&&!e.state.selection.eq(k)){if(yr&&rs&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",I=>I(e,Nl(13,"Enter"))))return;let A=e.state.tr.setSelection(k);O=="pointer"?A.setMeta("pointer",!0):O=="key"&&A.scrollIntoView(),s&&A.setMeta("composition",s),e.dispatch(A)}return}let o=e.state.doc.resolve(t),a=o.sharedDepth(n);t=o.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=Fme(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),f,h;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,h="end"):(f=e.state.selection.from,h="start"),e.input.lastKeyCode=null;let m=Gme(d.content,c.doc.content,c.from,f,h);if((fd&&e.input.lastIOSEnter>Date.now()-225||rs)&&i.some(O=>O.nodeType==1&&!Bme.test(O.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",O=>O(e,Nl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Dt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let O=cA(e,e.state.doc,c.sel);if(O&&!O.eq(e.state.selection)){let k=e.state.tr.setSelection(O);s&&k.setMeta("composition",s),e.dispatch(k)}}return}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Dt&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),Hr&&Na<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)=="  "&&(m.start--,m.endA--,m.endB--);let v=c.doc.resolveNoCache(m.start-c.from),_=c.doc.resolveNoCache(m.endB-c.from),y=u.resolve(m.start),b=v.sameParent(_)&&v.parent.inlineContent&&y.end()>=m.endA,C;if((fd&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!b&&v.pos<c.doc.content.size&&!v.sameParent(_)&&(C=Mt.findFrom(c.doc.resolve(v.pos+1),1,!0))&&C.head==_.pos)&&e.someProp("handleKeyDown",O=>O(e,Nl(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&zme(u,m.start,m.endA,v,_)&&e.someProp("handleKeyDown",O=>O(e,Nl(8,"Backspace")))){rs&&yr&&e.domObserver.suppressSelectionUpdates();return}yr&&rs&&m.endB==m.start&&(e.input.lastAndroidDelete=Date.now()),rs&&!b&&v.start()!=_.start()&&_.parentOffset==0&&v.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,_=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(O){return O(e,Nl(13,"Enter"))})},20));let S=m.start,x=m.endA,w,E,T;if(b){if(v.pos==_.pos)Hr&&Na<=11&&v.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ro(e),20)),w=e.state.tr.delete(S,x),E=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(T=qme(v.parent.content.cut(v.parentOffset,_.parentOffset),y.parent.content.cut(y.parentOffset,m.endA-y.start()))))w=e.state.tr,T.type=="add"?w.addMark(S,x,T.mark):w.removeMark(S,x,T.mark);else if(v.parent.child(v.index()).isText&&v.index()==_.index()-(_.textOffset?0:1)){let O=v.parent.textBetween(v.parentOffset,_.parentOffset);if(e.someProp("handleTextInput",k=>k(e,S,x,O)))return;w=e.state.tr.insertText(O,S,x)}}if(w||(w=e.state.tr.replace(S,x,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let O=cA(e,w.doc,c.sel);O&&!(yr&&rs&&e.composing&&O.empty&&(m.start!=m.endB||e.input.lastAndroidDelete<Date.now()-100)&&(O.head==S||O.head==w.mapping.map(x)-1)||Hr&&O.empty&&O.head==S)&&w.setSelection(O)}E&&w.ensureMarks(E),s&&w.setMeta("composition",s),e.dispatch(w.scrollIntoView())}function cA(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:S9(e,t.resolve(n.anchor),t.resolve(n.head))}function qme(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(Ee.from(c).eq(e))return{mark:a,type:o}}function zme(e,t,n,r,i){if(n-t<=i.pos-r.pos||T2(r,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==t+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=e.resolve(T2(s,!0,!0));return!o.parent.isTextblock||o.pos>n||T2(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function T2(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Gme(e,t,n,r,i){let s=e.findDiffStart(t,n);if(s==null)return null;let{a:o,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&e.size<t.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<t.size&&uA(t.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<e.size&&uA(e.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function uA(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Hme{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new cme,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(mA),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=hA(this),fA(this),this.nodeViews=pA(this),this.docView=VO(this.state.doc,dA(this),k2(this),this.dom,this),this.domObserver=new Nme(this,(r,i,s,o)=>Ume(this,r,i,s,o)),this.domObserver.start(),ume(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&lS(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(mA),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,s=!1,o=!1;t.storedMarks&&this.composing&&(Gz(this),o=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=pA(this);$me(h,this.nodeViews)&&(this.nodeViews=h,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&lS(this),this.editable=hA(this),fA(this);let l=k2(this),c=dA(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(i.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&xpe(this);if(o){this.domObserver.stop();let h=d&&(Hr||yr)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Vme(i.selection,t.selection);if(d){let m=yr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=wme(this)),(s||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=VO(t.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Ype(this))?Ro(this,h):(Iz(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&kpe(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof at){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&BO(this,n.getBoundingClientRect(),t)}else BO(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Vz(t.slice,t.move,i<0?void 0:at.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[t];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Hr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Tpe(this.dom),Ro(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Rpe(this,t)}coordsAtPos(t,n=1){return Sz(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return Fpe(this,n||this.state,t)}pasteHTML(t,n){return ah(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return ah(this,t,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(dme(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],k2(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ppe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return hme(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return Ar&&this.root.nodeType===11&&ype(this.dom.ownerDocument)==this.dom&&Dme(this,t)||t}domSelection(){return this.root.getSelection()}}function dA(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Gr.node(0,e.state.doc.content.size,t)]}function fA(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Gr.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function hA(e){return!e.someProp("editable",t=>t(e.state)===!1)}function Vme(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function pA(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function $me(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function mA(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class bn extends Mt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return bn.valid(r)?new bn(r):Mt.near(r)}content(){return De.empty}eq(t){return t instanceof bn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new bn(t.resolve(n.pos))}getBookmark(){return new O9(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!Wme(t)||!Kme(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&bn.valid(t))return t;let i=t.pos,s=null;for(let o=t.depth;;o--){let a=t.node(o);if(n>0?t.indexAfter(o)<a.childCount:t.index(o)>0){s=a.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;i+=n;let l=t.doc.resolve(i);if(bn.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!at.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=t.doc.resolve(i);if(bn.valid(a))return a}return null}}}bn.prototype.visible=!1;bn.findFrom=bn.findGapCursorFrom;Mt.jsonID("gapcursor",bn);class O9{constructor(t){this.pos=t}map(t){return new O9(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return bn.valid(n)?new bn(n):Mt.near(n)}}function Wme(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Kme(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Yme(){return new Ts({props:{decorations:Xme,createSelectionBetween(e,t,n){return t.pos==n.pos&&bn.valid(n)?new bn(n):null},handleClick:Jme,handleKeyDown:Zme,handleDOMEvents:{beforeinput:Qme}}})}const Zme=mz({ArrowLeft:tm("horiz",-1),ArrowRight:tm("horiz",1),ArrowUp:tm("vert",-1),ArrowDown:tm("vert",1)});function tm(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,s){let o=r.selection,a=t>0?o.$to:o.$from,l=o.empty;if(o instanceof Dt){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=bn.findGapCursorFrom(a,t,l);return c?(i&&i(r.tr.setSelection(new bn(c))),!0):!1}}function Jme(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!bn.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&at.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new bn(r))),!0)}function Qme(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof bn))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Ee.empty;for(let o=r.length-1;o>=0;o--)i=Ee.from(r[o].createAndFill(null,i));let s=e.state.tr.replace(n.pos,n.pos,new De(i,0,0));return s.setSelection(Dt.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function Xme(e){if(!(e.selection instanceof bn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",ln.create(e.doc,[Gr.widget(e.selection.head,t,{key:"gapcursor"})])}var G1=200,Kn=function(){};Kn.prototype.append=function(t){return t.length?(t=Kn.from(t),!this.length&&t||t.length<G1&&this.leafAppend(t)||this.length<G1&&t.leafPrepend(this)||this.appendInner(t)):this};Kn.prototype.prepend=function(t){return t.length?Kn.from(t).append(this):this};Kn.prototype.appendInner=function(t){return new e1e(this,t)};Kn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Kn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Kn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Kn.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Kn.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(t(s,o))},n,r),i};Kn.from=function(t){return t instanceof Kn?t:t&&t.length?new Zz(t):Kn.empty};var Zz=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new t(this.values.slice(i,s))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=G1)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=G1)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Kn);Kn.empty=new Zz([]);var e1e=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Kn);const t1e=500;class ls{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=t.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new Ds(d.map));let h=d.step.map(i.slice(s)),m;h&&o.maybeStep(h).doc&&(m=o.mapping.maps[o.mapping.maps.length-1],c.push(new Ds(m,void 0,void 0,c.length+u.length))),s--,m&&i.appendMap(m,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new ls(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(t,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new Ds(t.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(o++,n=void 0),i||(l=f)}let c=o-r.depth;return c>r1e&&(a=n1e(a,c),o-=c),new ls(a.append(s),o)}remapping(t,n){let r=new zu;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},t,n),r}addMaps(t){return this.eventCount==0?this:new ls(this.items.append(t.map(n=>new Ds(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=s.getMirror(--l);if(h==null)return;o=Math.min(o,h);let m=s.maps[h];if(f.step){let v=t.steps[h].invert(t.docs[h]),_=f.selection&&f.selection.map(s.slice(l+1,h));_&&a++,r.push(new Ds(m,v,_))}else r.push(new Ds(m))},i);let c=[];for(let f=n;f<o;f++)c.push(new Ds(s.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new ls(u,a);return d.emptyItemCount()>t1e&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=t)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new Ds(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else o.map&&r--},this.items.length,0),new ls(Kn.from(i.reverse()),s)}}ls.empty=new ls(Kn.empty,0);function n1e(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class Ds{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Ds(n.getMap().invert(),n,this.selection)}}}class _a{constructor(t,n,r,i,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const r1e=20;function i1e(e,t,n,r){let i=n.getMeta(Zl),s;if(i)return i.historyState;n.getMeta(a1e)&&(e=new _a(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(Zl))return o.getMeta(Zl).redo?new _a(e.done.addTransform(n,void 0,r,qm(t)),e.undone,gA(n.mapping.maps),e.prevTime,e.prevComposition):new _a(e.done,e.undone.addTransform(n,void 0,r,qm(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!o&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!s1e(n,e.prevRanges)),c=o?O2(e.prevRanges,n.mapping):gA(n.mapping.maps);return new _a(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,qm(t)),ls.empty,c,n.time,a??e.prevComposition)}else return(s=n.getMeta("rebased"))?new _a(e.done.rebased(n,s),e.undone.rebased(n,s),O2(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new _a(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),O2(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function s1e(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&i>=t[s]&&(n=!0)}),n}function gA(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,s,o)=>t.push(s,o));return t}function O2(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),s=t.map(e[r+1],-1);i<=s&&n.push(i,s)}return n}function o1e(e,t,n){let r=qm(t),i=Zl.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,r),l=new _a(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Zl,{redo:n,historyState:l})}let A2=!1,vA=null;function qm(e){let t=e.plugins;if(vA!=t){A2=!1,vA=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){A2=!0;break}}return A2}const Zl=new so("history"),a1e=new so("closeHistory");function l1e(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Ts({key:Zl,state:{init(){return new _a(ls.empty,ls.empty,null,0,-1)},apply(t,n,r){return i1e(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?Qz:r=="historyRedo"?cS:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function Jz(e,t){return(n,r)=>{let i=Zl.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let s=o1e(i,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const Qz=Jz(!1,!0),cS=Jz(!0,!0),Vu=new so("customKeymapPlugin");function MFe(e,t){const{allHandlers:n=[]}=Vu.getState(e.state)??{};return e.dispatch(e.state.tr.setMeta(Vu,{allHandlers:[t,...n]})),()=>{e.dispatch(e.state.tr.setMeta(Vu,{allHandlers:n.filter(r=>r!==t)}))}}function c1e(e={allHandlers:[]}){return new Ts({key:Vu,state:{init(){return{...e}},apply(t,n){const r=t.getMeta(Vu);return r?{...n,...r}:n}},props:{handleKeyDown(t,n){if(u0(n))return!1;const{allHandlers:r=[]}=Vu.getState(t.state)??{};for(const i of r){const s=i[n.key];if(s&&s(n))return!0}}}})}const u1e=(e,t,n,r)=>{if(e.value){const i=t.marks.startend?.create(n)??null;return t.text(e.value,i?[i,...r??[]]:r)}return null},Xz=new so("contentReference"),RFe=e=>{const t=o0(e).map(({newContentReference:n})=>n);return new Ts({key:Xz,state:{init:(n,{doc:r})=>({displayedContentReferences:t}),apply:(n,r)=>r},props:{}})};function eG(e){if(e.childCount===0)return!0;if(e.childCount===1&&e.firstChild?.isTextblock){const t=e.firstChild.content;if(t.size===0)return!0;if(t.childCount===1&&t.firstChild?.isText)return/^\s*$/.test(t.firstChild.text??"")}return!1}function d1e(e){let t="",n=!1;const r=[];function i(s){if(n=!1,s.type.name==="paragraph")return s.descendants(o=>i(o)),t+=`
`,n=!0,!1;if(s.type.name==="command_token"){const o=f1e(s.textContent);return r.push({symbol:Cj.SystemHint,startIndex:t.length,endIndex:t.length+o.length}),t+=o,!1}else s.isText&&s.text!==void 0&&(t+=s.text)}return e.descendants(s=>i(s)),n&&t.endsWith(`
`)&&(t=t.slice(0,-1)),{content:t,metadata:{custom_symbol_offsets:r}}}function f1e(e){return e.replace(/[\u{E0000}-\u{E007F}]+/gu,"")}const A9=E0(cz,uz,dz);function NFe(e,t){const{schema:n}=e.state,r=t?n.nodes.paragraph.create(null,n.text(t)):n.nodes.paragraph.create();e.dispatch(e.state.tr.replaceWith(0,e.state.doc.content.size,r)),e.hasFocus()&&e.dispatch(e.state.tr.setSelection(Dt.atEnd(e.state.doc)).scrollIntoView())}function PFe(e){e.hasFocus()?e.dispatch(e.state.tr.scrollIntoView()):(e.focus(),e.dispatch(e.state.tr.setSelection(Dt.atEnd(e.state.doc)).scrollIntoView()))}function DFe(e){return h1e(e,0,e.state.doc.content.size)}function h1e(e,t,n){e.dispatch(e.state.tr.delete(t,n))}function LFe(e,t){tG(e,t,!1,!1)}function FFe(e,t){e.dispatch(e.state.tr.setSelection(Dt.create(e.state.doc,0))),A9(e.state,e.dispatch),e.dispatch(e.state.tr.insertText(t,0))}function tG(e,t,n=!1,r=!0){if(n){m1e(e,t);return}const{schema:i}=e.state,s=t.split(`
`);if(r&&e.dispatch(e.state.tr.deleteSelection()),e.dispatch(e.state.tr.insertText(s[0])),s.length>1){A9(e.state,e.dispatch);const o=s.slice(1),a=Ee.fromArray(o.map(c=>i.nodes.paragraph.create(null,c===""?null:i.text(c)))),l=new De(a,0,0);e.dispatch(e.state.tr.replaceSelection(l)),_9(e.state,e.dispatch,e)}}const p1e=/oaicite:(\d+)/g;function m1e(e,t){const{schema:n}=e.state,r=t.split(`
`);e.dispatch(e.state.tr.deleteSelection());const{tr:i}=e.state,{$from:s}=i.selection;s.parent.isTextblock||(i.insert(s.pos,n.nodes.paragraph.create()),e.dispatch(i),e.focus());const{selection:o}=e.state,{$from:a}=o,l=r[0],c=_A(l,n,e),u=Ee.fromArray(c);let d=u;a.parent.type.validContent(u)||(d=n.nodes.paragraph.create(null,u));const f=new De(Ee.from(d),0,0);if(e.dispatch(e.state.tr.replaceSelection(f)),r.length>1){A9(e.state,e.dispatch);const m=r.slice(1).map(y=>{const b=_A(y,n,e);return n.nodes.paragraph.create(null,b)}),v=Ee.fromArray(m),_=new De(v,0,0);e.dispatch(e.state.tr.replaceSelection(_)),_9(e.state,e.dispatch,e)}}function _A(e,t,n){const r=[];let i=0,s;if(!!!Xz.get(n.state))return[t.text(e)];for(;(s=p1e.exec(e))!=null;){if(s.index>i){const c=e.slice(i,s.index);r.push(t.text(c))}const a=s[1],l=g1e(a,t);r.push(l),i=s.index+s[0].length}if(i<e.length){const a=e.slice(i);r.push(t.text(a))}return r}function g1e(e,t){const n=u1e({value:"oaicite:"+e},t);if(n==null)throw new Error("Failed to create text node for content reference");const r={index:e,displayLayout:"inline"},i=Ee.fromArray([n]);return t.nodes.contentReference.create(r,i)}const jFe=e=>Ci(e).checkGate("223382091");function BFe(e,t){const r=e.state.tr;let i=0;return r.doc.descendants((s,o)=>{if(s.isText&&s.text){if(typeof t=="string"&&s.text.startsWith(t))i=t.length;else if(t instanceof RegExp){const a=s.text.match(t);a?.index===0&&(i=a[0].length)}if(i){const a=s.text.substring(i).trimStart();i=s.text.length-a.length,r.delete(o,o+i)}}return!s.isLeaf}),i>0?(e.dispatch(r),!0):!1}function UFe(e,t,n){const i=e.state.tr,s=[];i.doc.descendants((o,a)=>{!o.isText||o.text===void 0||s.push({node:o,pos:a})}),s.reverse(),s.forEach(({node:o,pos:a})=>{!o.isText||o.text===void 0||o.text.includes(t)&&i.insertText(o.text.replaceAll(t,n),a,a+o.text.length)}),e.dispatch(i)}var I2,yA;function v1e(){if(yA)return I2;yA=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return I2=e,I2}var M2,bA;function nG(){if(bA)return M2;bA=1;var e=kc(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return M2=t,M2}var R2,CA;function I9(){if(CA)return R2;CA=1;var e=nG();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return R2=t,R2}var N2,SA;function M9(){if(SA)return N2;SA=1;var e=I9(),t=hw(),n=Object.prototype,r=n.hasOwnProperty;function i(s,o,a){var l=s[o];(!(r.call(s,o)&&t(l,a))||a===void 0&&!(o in s))&&e(s,o,a)}return N2=i,N2}var P2,wA;function O0(){if(wA)return P2;wA=1;var e=M9(),t=I9();function n(r,i,s,o){var a=!s;s||(s={});for(var l=-1,c=i.length;++l<c;){var u=i[l],d=o?o(s[u],r[u],u,s,r):void 0;d===void 0&&(d=r[u]),a?t(s,u,d):e(s,u,d)}return s}return P2=n,P2}var D2,EA;function _1e(){if(EA)return D2;EA=1;var e=O0(),t=xd();function n(r,i){return r&&e(i,t(i),r)}return D2=n,D2}var L2,xA;function y1e(){if(xA)return L2;xA=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return L2=e,L2}var F2,kA;function b1e(){if(kA)return F2;kA=1;var e=ro(),t=kw(),n=y1e(),r=Object.prototype,i=r.hasOwnProperty;function s(o){if(!e(o))return n(o);var a=t(o),l=[];for(var c in o)c=="constructor"&&(a||!i.call(o,c))||l.push(c);return l}return F2=s,F2}var j2,TA;function R9(){if(TA)return j2;TA=1;var e=eB(),t=b1e(),n=Jg();function r(i){return n(i)?e(i,!0):t(i)}return j2=r,j2}var B2,OA;function C1e(){if(OA)return B2;OA=1;var e=O0(),t=R9();function n(r,i){return r&&e(i,t(i),r)}return B2=n,B2}var gf={exports:{}};gf.exports;var AA;function S1e(){return AA||(AA=1,function(e,t){var n=ks(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var d=c.length,f=a?a(d):new c.constructor(d);return c.copy(f),f}e.exports=l}(gf,gf.exports)),gf.exports}var U2,IA;function w1e(){if(IA)return U2;IA=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return U2=e,U2}var q2,MA;function E1e(){if(MA)return q2;MA=1;var e=O0(),t=yw();function n(r,i){return e(r,t(r),i)}return q2=n,q2}var z2,RA;function rG(){if(RA)return z2;RA=1;var e=tB(),t=e(Object.getPrototypeOf,Object);return z2=t,z2}var G2,NA;function iG(){if(NA)return G2;NA=1;var e=_w(),t=rG(),n=yw(),r=Qj(),i=Object.getOwnPropertySymbols,s=i?function(o){for(var a=[];o;)e(a,n(o)),o=t(o);return a}:r;return G2=s,G2}var H2,PA;function x1e(){if(PA)return H2;PA=1;var e=O0(),t=iG();function n(r,i){return e(r,t(r),i)}return H2=n,H2}var V2,DA;function sG(){if(DA)return V2;DA=1;var e=Jj(),t=iG(),n=R9();function r(i){return e(i,n,t)}return V2=r,V2}var $2,LA;function k1e(){if(LA)return $2;LA=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,s=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(s.index=r.index,s.input=r.input),s}return $2=n,$2}var W2,FA;function N9(){if(FA)return W2;FA=1;var e=Zj();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return W2=t,W2}var K2,jA;function T1e(){if(jA)return K2;jA=1;var e=N9();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return K2=t,K2}var Y2,BA;function O1e(){if(BA)return Y2;BA=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Y2=t,Y2}var Z2,UA;function A1e(){if(UA)return Z2;UA=1;var e=wd(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Z2=r,Z2}var J2,qA;function I1e(){if(qA)return J2;qA=1;var e=N9();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return J2=t,J2}var Q2,zA;function M1e(){if(zA)return Q2;zA=1;var e=N9(),t=T1e(),n=O1e(),r=A1e(),i=I1e(),s="[object Boolean]",o="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",m="[object DataView]",v="[object Float32Array]",_="[object Float64Array]",y="[object Int8Array]",b="[object Int16Array]",C="[object Int32Array]",S="[object Uint8Array]",x="[object Uint8ClampedArray]",w="[object Uint16Array]",E="[object Uint32Array]";function T(O,k,A){var I=O.constructor;switch(k){case h:return e(O);case s:case o:return new I(+O);case m:return t(O,A);case v:case _:case y:case b:case C:case S:case x:case w:case E:return i(O,A);case a:return new I;case l:case d:return new I(O);case c:return n(O);case u:return new I;case f:return r(O)}}return Q2=T,Q2}var X2,GA;function R1e(){if(GA)return X2;GA=1;var e=ro(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var s=new r;return r.prototype=void 0,s}}();return X2=n,X2}var eb,HA;function N1e(){if(HA)return eb;HA=1;var e=R1e(),t=rG(),n=kw();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return eb=r,eb}var tb,VA;function P1e(){if(VA)return tb;VA=1;var e=Qg(),t=rl(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return tb=r,tb}var nb,$A;function D1e(){if($A)return nb;$A=1;var e=P1e(),t=Ew(),n=xw(),r=n&&n.isMap,i=r?t(r):e;return nb=i,nb}var rb,WA;function L1e(){if(WA)return rb;WA=1;var e=Qg(),t=rl(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return rb=r,rb}var ib,KA;function F1e(){if(KA)return ib;KA=1;var e=L1e(),t=Ew(),n=xw(),r=n&&n.isSet,i=r?t(r):e;return ib=i,ib}var sb,YA;function j1e(){if(YA)return sb;YA=1;var e=gw(),t=v1e(),n=M9(),r=_1e(),i=C1e(),s=S1e(),o=w1e(),a=E1e(),l=x1e(),c=nB(),u=sG(),d=Qg(),f=k1e(),h=M1e(),m=N1e(),v=Gi(),_=Cw(),y=D1e(),b=ro(),C=F1e(),S=xd(),x=R9(),w=1,E=2,T=4,O="[object Arguments]",k="[object Array]",A="[object Boolean]",I="[object Date]",P="[object Error]",D="[object Function]",R="[object GeneratorFunction]",F="[object Map]",j="[object Number]",V="[object Object]",B="[object RegExp]",M="[object Set]",re="[object String]",ge="[object Symbol]",N="[object WeakMap]",we="[object ArrayBuffer]",ye="[object DataView]",X="[object Float32Array]",de="[object Float64Array]",ee="[object Int8Array]",ke="[object Int16Array]",se="[object Int32Array]",fe="[object Uint8Array]",he="[object Uint8ClampedArray]",Oe="[object Uint16Array]",Ze="[object Uint32Array]",le={};le[O]=le[k]=le[we]=le[ye]=le[A]=le[I]=le[X]=le[de]=le[ee]=le[ke]=le[se]=le[F]=le[j]=le[V]=le[B]=le[M]=le[re]=le[ge]=le[fe]=le[he]=le[Oe]=le[Ze]=!0,le[P]=le[D]=le[N]=!1;function Q(ie,Me,Z,$,U,pe){var Ae,te=Me&w,L=Me&E,H=Me&T;if(Z&&(Ae=U?Z(ie,$,U,pe):Z(ie)),Ae!==void 0)return Ae;if(!b(ie))return ie;var W=v(ie);if(W){if(Ae=f(ie),!te)return o(ie,Ae)}else{var ae=d(ie),Re=ae==D||ae==R;if(_(ie))return s(ie,te);if(ae==V||ae==O||Re&&!U){if(Ae=L||Re?{}:m(ie),!te)return L?l(ie,i(Ae,ie)):a(ie,r(Ae,ie))}else{if(!le[ae])return U?ie:{};Ae=h(ie,ae,te)}}pe||(pe=new e);var st=pe.get(ie);if(st)return st;pe.set(ie,Ae),C(ie)?ie.forEach(function(nt){Ae.add(Q(nt,Me,Z,nt,ie,pe))}):y(ie)&&ie.forEach(function(nt,St){Ae.set(St,Q(nt,Me,Z,St,ie,pe))});var pt=H?L?u:c:L?x:S,lt=W?void 0:pt(ie);return t(lt||ie,function(nt,St){lt&&(St=nt,nt=ie[St]),n(Ae,St,Q(nt,Me,Z,St,ie,pe))}),Ae}return sb=Q,sb}var ob,ZA;function B1e(){if(ZA)return ob;ZA=1;var e=j1e(),t=1,n=4;function r(i){return e(i,t|n)}return ob=r,ob}var U1e=B1e();const q1e=_n(U1e),oG=e=>{const t=xn(e,"463092697")?.value,n=q1e(t);let r=n?.enabledConnectors??[];return We(e,"3881721129")||(r=r.filter(s=>s!==q.GITHUB_CONNECTOR)),n&&(n.enabledConnectors=r),n},P9=()=>{const e=me();return p.useMemo(()=>oG(e),[e])},z1e=e=>e?{enabled:!!oG(e)?.softmentionEnabled}:{enabled:!1};function G1e(){return{trackingKeywordsRegex:void 0,decorations:ln.empty,highlightedKeywords:new Set,matchedKeywords:new Set}}const aG=({tr:e,regex:t,prevHighlightedKeywords:n,prevMatchedKeywords:r})=>{const i=[],s=new Set,o=new Set;return t?(e.doc.descendants((a,l)=>{if(!a.isText||!a.text)return;const c=a.text;for(const u of c.matchAll(t)){if(s.add(u[1]),!n.has(u[1])&&r.has(u[1]))continue;o.add(u[1]);const d=l+u.index,f=d+u[0].length;i.push(Gr.inline(d,f,{class:"hint-pill"},{keyword:u[1]}))}}),{decorations:ln.create(e.doc,i),matchedKeywords:s,highlightedKeywords:o}):{decorations:ln.empty,matchedKeywords:s,highlightedKeywords:o}};function qFe(e){return[...La.getState(e)?.matchedKeywords??[]]}const zFe=(e,t)=>{const{state:n,dispatch:r}=t,i=n.tr,s=La.getState(n);if(s){const o=e.length>0?new RegExp(`\\b(${e.join("|")})\\b`,"gi"):void 0,{decorations:a,highlightedKeywords:l,matchedKeywords:c}=aG({tr:i,regex:o,prevHighlightedKeywords:s.highlightedKeywords,prevMatchedKeywords:s.matchedKeywords});i.setMeta(La,{...s,trackingKeywordsRegex:o,decorations:a,highlightedKeywords:l,matchedKeywords:c})}r(i)},GFe=(e,t)=>{if(e.length===0)return;const{state:n,dispatch:r}=t,i=n.tr,s=La.getState(n);if(s){const o=s.decorations.remove(s.decorations.find(void 0,void 0,a=>a.keyword&&e.includes(a.keyword)));i.setMeta(La,{...s,decorations:o,highlightedKeywords:new Set([...s.highlightedKeywords].filter(a=>!e.includes(a)))})}r(i)},La=new so("keywordPlugin");function H1e(){return new Ts({key:La,state:{init(){return G1e()},apply(e,t){if(e.getMeta(La))return{...t,...e.getMeta(La)};if(!e.docChanged)return t;const{decorations:n,matchedKeywords:r,highlightedKeywords:i}=aG({tr:e,regex:t.trackingKeywordsRegex,prevHighlightedKeywords:t.highlightedKeywords,prevMatchedKeywords:t.matchedKeywords});return{...t,decorations:n,highlightedKeywords:i,matchedKeywords:r}}},props:{decorations(e){const t=this.getState(e);return t?t.decorations:ln.empty}}})}const Ul=new so("menuSelectorPlugin");function JA(e){e.dispatch(e.state.tr.setMeta(Ul,{active:!1,onMenuAction:void 0}))}function HFe(e,t){e.dispatch(e.state.tr.setMeta(Ul,{active:!0,onMenuAction:t}))}const VFe=Yoe(e=>Go(t=>v9(e,t),()=>Ul.getState(e.state)?.active??!1,{getServerFallback:()=>!1}));function V1e(e={submitKeys:["Enter","Tab"],cancelKeys:["Escape"],checkStrictMatchKeys:[" "]}){return new Ts({key:Ul,state:{init(){return{...e,active:!1}},apply(t,n){const r=t.getMeta(Ul);return r?{...n,...r}:n}},props:{handleKeyDown(t,n){const r=Ul.getState(t.state);if(!r?.active)return!1;if(!n.isComposing)return r.submitKeys.includes(n.key)?(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),JA(t),r.onMenuAction?.("submit")??!0):r.cancelKeys.includes(n.key)?(n.preventDefault(),r.onMenuAction?.("cancel"),JA(t),!0):n.key==="ArrowUp"?(n.preventDefault(),r.onMenuAction?.("up"),!0):n.key==="ArrowDown"?(n.preventDefault(),r.onMenuAction?.("down"),!0):r.checkStrictMatchKeys.includes(n.key)&&r.onMenuAction?.("checkMatch")?(n.preventDefault(),!0):!1},handleDOMEvents:{blur:t=>{Ul.getState(t.state)?.onMenuAction?.("cancel")}}}})}const vf=new so("placeholderPlugin");function $Fe(e,t){e.dispatch(e.state.tr.setMeta(vf,{placeholder:t}))}function $1e(e){return new Ts({key:vf,state:{init(){return{placeholder:e}},apply(t,n){return t.getMeta(vf)?{placeholder:t.getMeta(vf).placeholder}:n}},props:{decorations(t){const{doc:n}=t;if(n.childCount===1&&n.firstChild?.isTextblock&&n.firstChild.content.size===0){const i=[],{placeholder:s}=vf.getState(t);return t.doc.descendants((o,a)=>{const l=Gr.node(a,a+o.nodeSize,{class:"placeholder","data-placeholder":s});i.push(l)}),ln.create(n,i)}}}})}const W1e=["p",0],K1e=["br"],Y1e={paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p",preserveWhitespace:"full"}],toDOM(){return W1e}},text:{group:"inline"},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return K1e}},doc:{content:"block+"}},Z1e=new ehe({nodes:Y1e,marks:{}});let uS;try{uS=new RegExp("^(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]*)$|\\s(\\/|@)([\\p{L}\\p{N}\\p{M}.:_-]+)$","u")}catch{uS=/^(\/|@)([\w.:_-]*)$|\s(\/|@)([\w.:_-]+)$/}function J1e(e,t){if(e.depth===0)return;const n=e.nodeBefore?.text?.match(uS);if(n){const r=n[1]??n[3],i=n[2]??n[4],s=e.pos-i.length-1,o=e.pos;return i.length>0&&t?void 0:{triggerSymbol:r,queryText:i,range:{from:s,to:o}}}}const _f=new so("systemHintPlugin");function Q1e(e,t){return e.setMeta(_f,t),e}function WFe(e){e.dispatch(Q1e(e.state.tr,{...dS(),isDismissed:!0}))}function dS(){return{triggerSymbol:"",queryText:"",active:!1,range:void 0,isDismissed:!1}}function QA(e){const{active:t,range:n,triggerSymbol:r,queryText:i,onHintMatch:s}=e;if(s)return s(!t||!n?void 0:{triggerSymbol:r,text:i,range:n})}function X1e(){return new Ts({key:_f,state:{init(){return dS()},apply(e,t,n,r){const i=e.getMeta(_f),s={...dS(),...t,...i},o=e.selection;if(o.from!==o.to||r.doc.eq(n.doc))return QA(s),s;const a=o.$from,l=J1e(a,t.isDismissed);return s.active=l!=null,l&&(s.triggerSymbol=l.triggerSymbol,s.queryText=l.queryText,s.range=l.range,s.isDismissed=!1),QA(s),s}},view(){return{update(e,t){const n=_f.getState(t),r=_f.getState(e.state);if(n.active===r.active&&n.range?.from===r.range?.from&&n.setReferencePosition===r.setReferencePosition)return;const i=r.range;!r.active||!i?r.setReferencePosition?.(null):r.setReferencePosition?.({getBoundingClientRect:()=>ege(e.coordsAtPos(i.from))})}}}})}function ege({left:e,right:t,top:n,bottom:r}){return new DOMRect(e,n,t-e,r-n)}function tge(e=null,t,n){const r=new EventTarget,i=z1e(t).enabled,s=new Hme(null,{state:Ru.create({schema:Z1e,plugins:[l1e(),V1e(),X1e(),...i?[H1e()]:[],c1e(),hpe({...LO,"Shift-Enter":LO.Enter,"Mod-z":Qz,"Mod-y":cS,"Mod-Shift-z":cS}),qhe(r),$1e(""),Yme(),zhe()]}),dispatchTransaction(o){const a=s.state.apply(o);s.updateState(a),o.docChanged&&r.dispatchEvent(new Event(Z6))},handlePaste(o,a){const l=a.clipboardData?.getData("text/plain");return l===void 0?!1:(a.defaultPrevented||t&&$he(t,l)||tG(o,l),!0)},clipboardTextSerializer(o){return d1e(o.content).content}});return e!=null&&eG(s.state.doc)&&s.dispatch(s.state.tr.insertText(e)),s}const fS=p.createContext(null),KFe=e=>{"use forget";const t=Te.c(9),{children:n,clientThreadId:r,ignoreParentComposerController:i,draftsEnabled:s}=e,o=i===void 0?!1:i,a=s===void 0?!0:s,l=p.useContext(fS),c=me();let u,d;if(t[0]!==r||t[1]!==l||t[2]!==c||t[3]!==a||t[4]!==o){const m=r?ol(c,r):void 0,_=a&&r!=null&&!R4(c)?uie(Ui(r))?.content??null:null;d=l&&!o?l:new iz(tge(_,c),c,m),t[0]=r,t[1]=l,t[2]=c,t[3]=a,t[4]=o,t[5]=d}else d=t[5];u=d;const f=u;let h;return t[6]!==n||t[7]!==f?(h=g.jsx(fS.Provider,{value:f,children:n}),t[6]=n,t[7]=f,t[8]=h):h=t[8],h},nge=()=>{"use forget";const e=Te.c(2),t=p.useContext(fS);let n;return e[0]!==t?(n=Cs(t),e[0]=t,e[1]=n):n=e[1],n};function rge(){const e=Cr();return e?.data.residencyRegion!==""&&e?.data.residencyRegion!=="no_constraint"}function ige(){return Cr()?.data.residencyRegion}function ll(){const e=rge(),t=ige(),n=me(),r=xn(n,"3131667714").get("regions",[]);return e?r.includes(t):!0}function sge(e,t){if(!e)return!1;const r=["gpt-4o-gdrive","gpt-4o-gdrive-1007-mclick","gpt-4o-gdrive-1124","gpt-4o-gdrive-1124-citation","gpt-4o-gdrive-0212","gpt-4o-gdrive-0314","o1_ca_0226","o3_mini_ca_0226"].includes(e.id),i=!!e.product_features.contextual_answers?.is_eligible_for_contextual_answers;return r||i}var D9=(e=>(e.DOGFOODING="dogfooding",e.ALPHA="alpha",e.SB_1B9A6CB4="sb_1b9a6cb4",e))(D9||{});function Ac(){const e=me(),t=ll(),n=xn(e,"1001765573");return t?n.get("ca_enabled",!1):!1}function oge(){const e=me();return xn(e,"1001765573").get("onboarding_paused",!1)}function YFe(){const e=ll(),t=me(),n=xn(t,"1001765573");return e?{isEnabled:n.get("ca_enabled",!1),isComingSoon:n.get("ca_coming_soon",!1)}:{isEnabled:!1,isComingSoon:!1}}function ZFe(){const e=ll(),t=me(),n=xn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sk_enabled",!1):!1}function JFe(){const e=ll(),t=me(),n=xn(t,"1001765573");if(!e)return!1;const r=We(t,"3881721129");return n.get("ca_enabled",!1)&&n.get("ca_github_sync_enabled",!1)&&r}function QFe(){const e=ll(),t=me(),n=xn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_sharepoint_sync_enabled",!1):!1}function XFe(){const e=ll(),t=me(),n=xn(t,"1001765573");return e?n.get("ca_enabled",!1)&&n.get("ca_linear_sync_enabled",!1):!1}function eje(e){const t=ll(),n=me(),r=xn(n,"1001765573");return t?r.get("ca_enabled",!1)&&r.get(`ca_${e}_sync_enabled`,!1):!1}function tje(){const e=me();return xn(e,"1001765573").get("github_onboarding_paused",!1)}function nje(){const e=ll(),t=me(),n=xn(t,"1001765573");return e?n.get("ca_personal_enabled",!1):!1}function age(e){return me(),Ac()&&sge(e)}function rje(e,t){const n=age(e),r=lge();return!n||!r?!1:r===D9.DOGFOODING?!!t:!0}function lge(){const e=me(),t=xn(e,"1001765573");if(!t.get("ca_enabled",!1))return null;const r=t.get("feedback_format",null);return r&&Object.values(D9).includes(r)?r:null}const ije=e=>Yo(e,t=>Se.getConversationTurns(t).some(n=>n.messages.some(cge))),cge=e=>!!(e.author.role===He.Tool&&e.author.name==="file_search"&&e.metadata&&e.metadata.command===wj.Spinner&&e.metadata.retrieval_search_sources&&e.metadata.retrieval_search_sources.some(t=>t.product_type==="contextual_answers"||t.product_type==="slurm")),sje=()=>{const e=me();return We(e,"4147309512")};class Wa{static async admin_list_knowledge_connectors(t){return await ue.safeGet("/ca/v2/admin/list_knowledge_connectors",{parameters:{query:{account_id:t}}})}static async admin_list_connection_instances(t){return await ue.safeGet("/ca/v2/admin/list_connection_instances",{parameters:{query:{account_id:t}}})}static async admin_get_connection_instance(t,n){return await ue.safeGet("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_create_connection_instance(t,n,r){return r===""&&(r=null),await ue.safePost("/ca/v2/admin/create_connection_instance",{requestBody:{connection_config:n,connection_name:r??null},parameters:{query:{account_id:t}}})}static async admin_request_connect_quickstart(t,n,r){return await ue.safeGet("/ca/v2/admin/request_connect_quickstart",{parameters:{query:{account_id:t,connection_id:n,after_flow_redirect_to:r}}})}static async admin_connect_and_quickstart(t,n,r,i){return await ue.safePost("/ca/v2/admin/connect_and_quickstart",{parameters:{query:{account_id:t}},requestBody:{plugin_id:n,code:r,state:i}})}static async admin_edit_name_connection_instance(t,n,r){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_name",{requestBody:r,parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_activate_connection_instance(t,n){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/activate",{requestBody:{},parameters:{path:{connection_id:n},query:{account_id:t}}})}static async admin_delete_connection_instance(t,n){return await ue.safeDelete("/ca/v2/admin/connection_instance/{connection_id}",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_allow_user(t,n,r){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/allow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_disallow_user(t,n,r){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/disallow_user",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{user_id:r}})}static async admin_connection_get_access_policy(t,n){return await ue.safeGet("/ca/v2/admin/connection_instance/{connection_id}/get_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}}})}static async admin_connection_update_access_policy(t,n,r){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_access_policy",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{allow_all_in_workspace:r}})}static async admin_connection_update_credential(t,n,{admin_email:r,credential_id:i,new_service_credential_content:s}){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_credential",{parameters:{query:{account_id:t},path:{connection_id:n}},requestBody:{admin_email:r,credential_id:i,new_service_credential_content:s}})}static async admin_connection_list_item_scopes(t,n,r,i=null){return await ue.safeGet("/ca/v2/admin/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:n},query:{page_token:i,account_id:t,object_type:r}}})}static async admin_connection_update_item_default_scope(t,n,r,i){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/update_item_default_scope",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,default_selection:i}})}static async admin_connection_block_items(t,n,r,i){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:i}})}static async admin_connection_unblock_items(t,n,r,i){return await ue.safePost("/ca/v2/admin/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:n},query:{account_id:t}},requestBody:{object_type:r,object_handles:i}})}static async user_activate_workspace_connection_and_user({link_id:t,user_extension:n}){return await ue.safePost("/ca/v2/user/activate_workspace_connection_and_user",{requestBody:n?{link_id:t,user_extension:n}:{link_id:t}})}static async user_connection_status(){return await ue.safeGet("/ca/v2/user/connection_status",{})}static async user_connection_list_item_scopes(t,n,r=null){return await ue.safeGet("/ca/v2/user/connection_instance/{connection_id}/list_item_scopes",{parameters:{path:{connection_id:t},query:{page_token:r,object_type:n}}})}static async user_connection_block_items(t,n,r){return await ue.safePost("/ca/v2/user/connection_instance/{connection_id}/block_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_unblock_items(t,n,r){return await ue.safePost("/ca/v2/user/connection_instance/{connection_id}/unblock_items",{parameters:{path:{connection_id:t}},requestBody:{object_type:n,object_handles:r}})}static async user_connection_sync_configuration(t){return await ue.safeGet("/ca/v2/user/connection_instance/{connection_id}/user_configuration",{parameters:{path:{connection_id:t}}})}static async user_connection_update_sync_configuration(t,n){return await ue.safePost("/ca/v2/user/connection_instance/{synced_knowledge_store_id}/user_configuration",{parameters:{path:{synced_knowledge_store_id:t}},requestBody:{extension:n}})}static async user_request_connect(t,n,r){return await ue.safeGet("/ca/v2/user/request_connect",{parameters:{query:{connection_id:t,after_flow_redirect_to:n,...r?{use_connectors_platform_flow:r}:{}}}})}static async user_request_connect_upgrade_to_sync({link_id:t,user_extension:n}){return await ue.safePost("/ca/v2/user/upgrade_to_sync",{requestBody:{link_id:t,user_extension:n}})}static async user_connection_oauth_callback(t,n,r){return await ue.safePost("/ca/v2/user/connect_and_activate",{requestBody:{plugin_id:t,code:n,state:r}})}static async user_delete_sync(t){return await ue.safePost("/ca/v2/user/delete_synced",{requestBody:{link_id:t}})}static async user_disconnect(t){return await ue.safePost("/ca/v2/user/disconnect",{requestBody:{connection_id:t}})}}const oje=({skip:e=!1}={})=>{const{connectionInstanceData:t,refetch:n,isLoading:r}=Jh({skip:e});return{gDriveOAuthConnectionId:p.useMemo(()=>{const s=t?.connection_statuses;return s&&s.length===1&&s[0].user_connection_details.auth_status==="not_connected"&&s[0].user_connection_details.knowledge_connector_type==="google_drive_oauth"?s[0].user_connection_details.connection_instance_id:null},[t]),refetch:n,isLoading:r}},lG=({skip:e=!1}={})=>{const{connectionInstanceData:t,isLoading:n}=Jh({skip:e});return{hasConnections:t?.connection_statuses.some(i=>["partially_activated","activated"].includes(i.user_connection_details.activation_status)),isLoading:n}},Jh=({skip:e=!1}={})=>{const t=Ac(),{data:n,isLoading:r,refetch:i}=Nt({queryKey:["user_connection_status"],queryFn:Wa.user_connection_status,enabled:!e&&t,refetchInterval:s=>{const o=s.state.status==="success"&&s.state.data&&!s.state.data.connection_statuses.some(l=>l.user_connection_details.activation_status==="activating"||l.user_connection_details.activation_status==="partially_activated");return s.state.status==="success"&&s.state.data&&s.state.data.connection_statuses.some(l=>(l.user_connection_details.auth_status==="user_connected"||l.user_connection_details.auth_status==="admin_connected")&&!(l.user_connection_details.activation_status==="activating"||l.user_connection_details.activation_status==="partially_activated"||l.user_connection_details.activation_status==="activated"))?2*1e3:o?!1:30*1e3}});return{connectionInstanceData:n,isLoading:r,refetch:i}},cG=(e,t=!1)=>["fetchConnectorLinkData",e,t],uG=(e,t)=>["fetchPlatformConnectorData",e,t],aje=(e,t)=>["connectors",e,t].filter(n=>!!n),lje=(e,t)=>["roles",e,t].filter(n=>!!n),cje=(e,t,n)=>["permissions",e,t,n];function uge(){const e=me();return We(e,"3999836663")}function Qh(){const e=me(),t=We(e,"3544641259"),n=!!xn(e,"463092697")?.value?.enabled,r=uge();return t||n||r}var ab,XA;function dge(){if(XA)return ab;XA=1;function e(t,n,r,i){for(var s=-1,o=t==null?0:t.length;++s<o;){var a=t[s];n(i,a,r(a),t)}return i}return ab=e,ab}var lb,eI;function fge(){if(eI)return lb;eI=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),a=i(n),l=a.length;l--;){var c=a[t?l:++s];if(r(o[c],c,o)===!1)break}return n}}return lb=e,lb}var cb,tI;function hge(){if(tI)return cb;tI=1;var e=fge(),t=e();return cb=t,cb}var ub,nI;function pge(){if(nI)return ub;nI=1;var e=hge(),t=xd();function n(r,i){return r&&e(r,i,t)}return ub=n,ub}var db,rI;function mge(){if(rI)return db;rI=1;var e=Jg();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,a=r?o:-1,l=Object(i);(r?a--:++a<o)&&s(l[a],a,l)!==!1;);return i}}return db=t,db}var fb,iI;function gge(){if(iI)return fb;iI=1;var e=pge(),t=mge(),n=t(e);return fb=n,fb}var hb,sI;function vge(){if(sI)return hb;sI=1;var e=gge();function t(n,r,i,s){return e(n,function(o,a,l){r(s,o,i(o),l)}),s}return hb=t,hb}var pb,oI;function _ge(){if(oI)return pb;oI=1;var e=dge(),t=vge(),n=qh(),r=Gi();function i(s,o){return function(a,l){var c=r(a)?e:t,u=o?o():{};return c(a,s,n(l,2),u)}}return pb=i,pb}var mb,aI;function yge(){if(aI)return mb;aI=1;var e=I9(),t=_ge(),n=Object.prototype,r=n.hasOwnProperty,i=t(function(s,o,a){r.call(s,a)?s[a].push(o):e(s,a,[o])});return mb=i,mb}var bge=yge();const dG=_n(bge),Cge=async(e,t=void 0)=>(await ue.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}]},additionalHeaders:t?{[br]:t}:void 0})).connectors,fG=async(e,t=!1,n=void 0)=>{const r=await ue.safePost("/aip/connectors/links/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],link_refresh_strategy:t?"BLOCKING":"NONE"},additionalHeaders:n?{[br]:n}:void 0});return dG(r.links,({connector_id:i})=>i)};function hd({skip:e=!1,fetchValidLinksOnly:t=!1,productSku:n}={}){const r=me(),i=vn(r),s=Qh(),{data:o,isLoading:a,isFetching:l,error:c,refetch:u}=Nt({queryKey:cG(i?.normalizedAccountUserId,t),enabled:!e&&!!i&&s,queryFn:async()=>!i||!i.normalizedAccountUserId?{}:await fG(i.normalizedAccountUserId,t,n)});return{connectorLinks:p.useMemo(()=>o?new Map(Object.entries(o)):new Map,[o]),isLoading:a,isFetching:l,error:c,refetch:u}}function uje({skip:e=!1,productSku:t}={}){const n=Qh(),r=me(),i=vn(r),s=cr();p.useEffect(()=>{if(e||!i?.normalizedAccountUserId||!n)return;const o=i.normalizedAccountUserId;s.prefetchQuery({queryKey:uG(o,void 0),queryFn:()=>Cge(o,t)}).catch(()=>{}),s.prefetchQuery({queryKey:cG(o,!1),queryFn:()=>fG(o,!1,t)}).catch(()=>{})},[e,i?.normalizedAccountUserId,s,n,t])}const Sge=async(e,t,n)=>(await ue.safePost("/aip/connectors/list_accessible",{requestBody:{principals:[{type:"USER",id:e}],purpose:n},additionalHeaders:t?{[br]:t}:void 0})).connectors;function Xh(e=!0,t=void 0,n=void 0){const r=Qh(),i=me(),s=vn(i),{data:o,isLoading:a,isFetching:l,error:c,refetch:u}=Nt({queryKey:uG(s?.normalizedAccountUserId,n),queryFn:async()=>!s||!s.normalizedAccountUserId?[]:await Sge(s.normalizedAccountUserId,t,n),enabled:!!s&&e&&r});return{platformConnectors:p.useMemo(()=>new Map(o?.map(f=>[f.id,f])),[o]),isLoading:a,isFetching:l,error:c,refetch:u}}function hG(e){const t=Sn();return Nt({queryKey:["userContext"],queryFn:()=>ue.safeGet("/user_system_messages").catch(n=>{throw t.danger({id:"userContextModal.getCustomInstructionsError",defaultMessage:"Failed to get your settings",description:"Error message when getting custom instructions fails"},{toastId:"user_context_modal_get_custom_instructions_error"}),n}),enabled:e,select:n=>{const{about_user_message:r,about_model_message:i,personality_type_selection:s,name_user_message:o,role_user_message:a,traits_model_message:l,other_user_message:c,disabled_tools:u,enabled:d,object:f,...h}=n;return{...h,aboutUserMessage:r??"",aboutModelMessage:i??"",personalityTypeMessage:s??"",nameUserMessage:o??"",roleUserMessage:a??"",traitsModelMessage:l??"",otherUserMessage:c??"",disabledTools:u??[],enabled:d??!0}}})}function wge({aboutUserMessage:e,aboutModelMessage:t,personalityTypeMessage:n,nameUserMessage:r="",roleUserMessage:i="",traitsModelMessage:s="",otherUserMessage:o="",disabledTools:a,enabled:l,...c}){return ue.safePost("/user_system_messages",{requestBody:{about_user_message:e,about_model_message:t,personality_type_selection:n,name_user_message:r,role_user_message:i,traits_model_message:s,other_user_message:o,disabled_tools:a,enabled:l,...c}})}const pG=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5707_424)"},p.createElement("path",{d:"M22 2H2V22H22V2Z",fill:"#0472F8"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1302 13.5156C11.3673 13.5156 10.7134 12.8617 10.7134 12.0625C10.7134 11.2633 11.331 10.6094 12.1302 10.6094C12.893 10.6094 13.5469 11.2633 13.5469 12.0625C13.5469 12.8617 12.9294 13.5156 12.1302 13.5156ZM7.98887 13.5156C7.226 13.5156 6.57212 12.8617 6.57212 12.0625C6.57212 11.2633 7.18967 10.6094 7.98887 10.6094C8.75174 10.6094 9.40563 11.2633 9.40563 12.0625C9.40563 12.8617 8.78806 13.5156 7.98887 13.5156ZM17.4339 9.91917C17.6156 9.70121 17.9425 9.66489 18.1605 9.84652C18.3784 9.99183 18.4511 10.3188 18.2695 10.5367L16.9617 12.1715L18.2695 13.8062C18.4511 14.0241 18.3784 14.3148 18.1605 14.4964C17.9425 14.6417 17.6156 14.6054 17.4339 14.4237L16.3078 13.0433L15.1817 14.4237C15 14.6417 14.6731 14.678 14.4551 14.4964C14.2371 14.3511 14.1645 14.0241 14.3461 13.8062L15.6539 12.1715L14.3825 10.5004C14.2008 10.2824 14.2735 9.99183 14.4914 9.81019C14.7094 9.66489 15.0363 9.70121 15.218 9.88285L16.3441 11.2996L17.4339 9.91917ZM6.13619 7.59424C6.39048 7.59424 6.60845 7.8122 6.60845 8.06649V10.1371C7.00804 9.84652 7.48029 9.66489 8.02519 9.66489C8.93338 9.66489 9.69624 10.1735 10.0958 10.9727C10.4954 10.2098 11.2583 9.66489 12.1665 9.66489C13.4743 9.66489 14.4914 10.7547 14.4914 12.0988C14.4914 13.4429 13.4379 14.5327 12.1665 14.5327C11.2583 14.5327 10.4954 14.0241 10.0958 13.2249C9.69624 13.9878 8.93338 14.5327 8.02519 14.5327C6.75374 14.5327 5.70027 13.4792 5.70027 12.1351V8.06649C5.66394 7.8122 5.8819 7.59424 6.13619 7.59424Z",fill:"white"})),p.createElement("defs",null,p.createElement("clipPath",{id:"clip0_5707_424"},p.createElement("rect",{x:2,y:2,width:20,height:20,rx:2,fill:"white"})))),Ege=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5904_434)"},p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#7D2AE7"}),p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint0_radial_5904_434)"}),p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint1_radial_5904_434)"}),p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint2_radial_5904_434)"}),p.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"url(#paint3_radial_5904_434)"}),p.createElement("path",{d:"M16.3172 14.0514C16.2346 14.0514 16.162 14.1211 16.0864 14.2733C15.2329 16.0039 13.7588 17.2284 12.053 17.2284C10.0806 17.2284 8.85912 15.4479 8.85912 12.9881C8.85912 8.82143 11.1807 6.41235 13.2198 6.41235C14.1726 6.41235 14.7545 7.01114 14.7545 7.96403C14.7545 9.09497 14.112 9.69376 14.112 10.0926C14.112 10.2717 14.2234 10.3801 14.4442 10.3801C15.3315 10.3801 16.3728 9.36055 16.3728 7.92026C16.3728 6.52375 15.1574 5.49725 13.1183 5.49725C9.74837 5.49725 6.75342 8.62151 6.75342 12.9443C6.75342 16.2904 8.66418 18.5016 11.6124 18.5016C14.7416 18.5016 16.5509 15.3882 16.5509 14.3777C16.5509 14.1539 16.4365 14.0514 16.3172 14.0514Z",fill:"white"})),p.createElement("defs",null,p.createElement("radialGradient",{id:"paint0_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.86316 19.7263) rotate(-49.4156) scale(15.4683)"},p.createElement("stop",{stopColor:"#6420FF"}),p.createElement("stop",{offset:1,stopColor:"#6420FF",stopOpacity:0})),p.createElement("radialGradient",{id:"paint1_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(7.29474 4.27368) rotate(54.7035) scale(17.4434)"},p.createElement("stop",{stopColor:"#00C4CC"}),p.createElement("stop",{offset:1,stopColor:"#00C4CC",stopOpacity:0})),p.createElement("radialGradient",{id:"paint2_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.86316 19.7263) rotate(-45.1954) scale(15.2811 7.02796)"},p.createElement("stop",{stopColor:"#6420FF"}),p.createElement("stop",{offset:1,stopColor:"#6420FF",stopOpacity:0})),p.createElement("radialGradient",{id:"paint3_radial_5904_434",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(10.1789 4.69474) rotate(66.5198) scale(15.7459 26.3779)"},p.createElement("stop",{stopColor:"#00C4CC",stopOpacity:.725916}),p.createElement("stop",{offset:1e-4,stopColor:"#00C4CC"}),p.createElement("stop",{offset:1,stopColor:"#00C4CC",stopOpacity:0})),p.createElement("clipPath",{id:"clip0_5904_434"},p.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2 2)"})))),mG=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6.62777 3.00696L1.25488 6.38196L6.62777 9.75695L12.0016 6.38196L17.3745 9.75695L22.7474 6.38196L17.3745 3.00696L12.0016 6.38196L6.62777 3.00696Z",fill:"#0061FE"}),p.createElement("path",{d:"M6.62777 16.507L1.25488 13.132L6.62777 9.75696L12.0016 13.132L6.62777 16.507Z",fill:"#0061FE"}),p.createElement("path",{d:"M12.0015 13.132L17.3744 9.75696L22.7473 13.132L17.3744 16.507L12.0015 13.132Z",fill:"#0061FE"}),p.createElement("path",{d:"M12.0013 21.007L6.62744 17.632L12.0013 14.257L17.3742 17.632L12.0013 21.007Z",fill:"#0061FE"})),gG=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M12 1.95068C17.525 1.95068 22 6.42568 22 11.9507C21.9995 14.0459 21.3419 16.0883 20.1198 17.7902C18.8977 19.4922 17.1727 20.768 15.1875 21.4382C14.6875 21.5382 14.5 21.2257 14.5 20.9632C14.5 20.6257 14.5125 19.5507 14.5125 18.2132C14.5125 17.2757 14.2 16.6757 13.8375 16.3632C16.0625 16.1132 18.4 15.2632 18.4 11.4257C18.4 10.3257 18.0125 9.43818 17.375 8.73818C17.475 8.48818 17.825 7.46318 17.275 6.08818C17.275 6.08818 16.4375 5.81318 14.525 7.11318C13.725 6.88818 12.875 6.77568 12.025 6.77568C11.175 6.77568 10.325 6.88818 9.525 7.11318C7.6125 5.82568 6.775 6.08818 6.775 6.08818C6.225 7.46318 6.575 8.48818 6.675 8.73818C6.0375 9.43818 5.65 10.3382 5.65 11.4257C5.65 15.2507 7.975 16.1132 10.2 16.3632C9.9125 16.6132 9.65 17.0507 9.5625 17.7007C8.9875 17.9632 7.55 18.3882 6.65 16.8757C6.4625 16.5757 5.9 15.8382 5.1125 15.8507C4.275 15.8632 4.775 16.3257 5.125 16.5132C5.55 16.7507 6.0375 17.6382 6.15 17.9257C6.35 18.4882 7 19.5632 9.5125 19.1007C9.5125 19.9382 9.525 20.7257 9.525 20.9632C9.525 21.2257 9.3375 21.5257 8.8375 21.4382C6.8458 20.7752 5.11342 19.502 3.88611 17.799C2.65881 16.096 1.9989 14.0498 2 11.9507C2 6.42568 6.475 1.95068 12 1.95068Z",fill:"currentColor"})),xge=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6.27275 19.8771V11.7634L3.75642 9.46126L1.5 8.18381V18.4452C1.5 19.2375 2.14194 19.8771 2.93183 19.8771H6.27275Z",fill:"#4285F4"}),p.createElement("path",{d:"M17.7271 19.8771H21.068C21.8603 19.8771 22.4998 19.2351 22.4998 18.4452V8.18381L19.9441 9.64709L17.7271 11.7634V19.8771Z",fill:"#34A853"}),p.createElement("path",{d:"M6.27257 11.7635L5.93018 8.59314L6.27257 5.55887L11.9999 9.85434L17.7272 5.55887L18.1102 8.42932L17.7272 11.7635L11.9999 16.0589L6.27257 11.7635Z",fill:"#EA4335"}),p.createElement("path",{d:"M17.7271 5.55879V11.7634L22.4998 8.18381V6.2747C22.4998 4.504 20.4786 3.49457 19.0634 4.5565L17.7271 5.55879Z",fill:"#FBBC04"}),p.createElement("path",{d:"M1.5 8.18378L3.69507 9.83008L6.27275 11.7633V5.55876L4.93638 4.55647C3.51887 3.49454 1.5 4.50397 1.5 6.27467V8.18378Z",fill:"#C5221F"})),kge=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.7369 7.26321H7.26318V16.7369H16.7369V7.26321Z",fill:"white"}),p.createElement("path",{d:"M16.7367 21L20.9999 16.7369L18.8683 16.3732L16.7367 16.7369L16.3477 18.6866L16.7367 21Z",fill:"#EA4335"}),p.createElement("path",{d:"M3 16.7369V19.579C3 20.3641 3.63592 21 4.42105 21H7.26316L7.70087 18.8684L7.26316 16.7369L4.94057 16.3732L3 16.7369Z",fill:"#188038"}),p.createElement("path",{d:"M20.9999 7.26316V4.42105C20.9999 3.63592 20.364 3 19.5788 3H16.7367C16.4773 4.05721 16.3477 4.83523 16.3477 5.33408C16.3477 5.83291 16.4773 6.47593 16.7367 7.26316C17.6796 7.53315 18.3901 7.66815 18.8683 7.66815C19.3465 7.66815 20.057 7.53315 20.9999 7.26316Z",fill:"#1967D2"}),p.createElement("path",{d:"M21 7.26321H16.7368V16.7369H21V7.26321Z",fill:"#FBBC04"}),p.createElement("path",{d:"M16.7369 16.7368H7.26318V21H16.7369V16.7368Z",fill:"#34A853"}),p.createElement("path",{d:"M16.7368 2.99997H4.42105C3.63592 2.99997 3 3.63589 3 4.42102V16.7368H7.26316V7.26313H16.7368V2.99997Z",fill:"#4285F4"}),p.createElement("path",{d:"M9.20617 14.6124C8.8521 14.3732 8.60696 14.0239 8.47314 13.562L9.295 13.2233C9.3696 13.5075 9.49985 13.7278 9.68577 13.8841C9.87052 14.0404 10.0955 14.1174 10.3584 14.1174C10.6272 14.1174 10.8581 14.0357 11.0512 13.8723C11.2442 13.7089 11.3413 13.5004 11.3413 13.2482C11.3413 12.99 11.2395 12.7792 11.0358 12.6158C10.8321 12.4524 10.5763 12.3707 10.2708 12.3707H9.79591V11.5571H10.2222C10.4851 11.5571 10.7066 11.4861 10.8866 11.344C11.0666 11.2019 11.1566 11.0077 11.1566 10.7602C11.1566 10.5399 11.076 10.3646 10.915 10.2332C10.7539 10.1017 10.5502 10.0354 10.3027 10.0354C10.0612 10.0354 9.86933 10.0994 9.72723 10.2285C9.58522 10.3579 9.47844 10.5213 9.41696 10.7033L8.60341 10.3646C8.71117 10.0591 8.90894 9.7891 9.19906 9.55581C9.48921 9.32252 9.85985 9.20529 10.3099 9.20529C10.6426 9.20529 10.9422 9.26925 11.2075 9.39831C11.4727 9.5274 11.6812 9.70621 11.8316 9.93358C11.982 10.1621 12.0566 10.4179 12.0566 10.7021C12.0566 10.9923 11.9867 11.2374 11.847 11.4387C11.7072 11.64 11.5355 11.794 11.3318 11.9017V11.9503C11.5948 12.0587 11.8233 12.2368 11.9926 12.4654C12.1643 12.6964 12.2508 12.9723 12.2508 13.2944C12.2508 13.6165 12.1691 13.9042 12.0056 14.1565C11.8422 14.4087 11.616 14.6077 11.3295 14.7521C11.0417 14.8966 10.7184 14.97 10.3596 14.97C9.94394 14.9712 9.56025 14.8516 9.20617 14.6124ZM14.2545 10.534L13.3521 11.1865L12.9009 10.502L14.5197 9.33437H15.1402V14.8421H14.2545V10.534Z",fill:"#4285F4"})),Tge=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.48739 11.7436C5.94383 11.7436 3.07715 14.6102 3.07715 18.1538V20.8462C3.07715 21.4833 3.59383 22 4.23099 22H7.30791L10.3848 11.7436H9.48739Z",fill:"#86A9FF"}),p.createElement("path",{d:"M20.0001 15.9744C20.0001 13.6359 18.1077 11.7436 15.7693 11.7436H12.6924V22H15.7693C18.1078 22 20.0001 20.1077 20.0001 17.7692",fill:"#578CFF"}),p.createElement("path",{d:"M6.15381 15.9744C6.15381 13.6359 8.04613 11.7436 10.3846 11.7436H12.6922C15.0307 11.7436 16.923 13.6359 16.923 15.9744V17.7692C16.923 20.1077 15.0307 22 12.6922 22H7.30765C6.67049 22 6.15381 21.4833 6.15381 20.8462V15.9744Z",fill:"#0057CC"}),p.createElement("path",{d:"M11.5383 9.94872C13.7333 9.94872 15.5127 8.16934 15.5127 5.97436C15.5127 3.77938 13.7333 2 11.5383 2C9.34335 2 7.56396 3.77938 7.56396 5.97436C7.56396 8.16934 9.34335 9.94872 11.5383 9.94872Z",fill:"#0057CC"})),Md=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M3.51105 18.4269L4.39307 19.9615C4.57634 20.2846 4.8398 20.5384 5.14908 20.723L8.29914 15.2307H1.99902C1.99902 15.5884 2.09066 15.9461 2.27394 16.2692L3.51105 18.4269Z",fill:"#0066DA"}),p.createElement("path",{d:"M11.999 8.76916L8.84897 3.27686C8.53969 3.46147 8.27623 3.71532 8.09295 4.03839L2.27394 14.1922C2.09403 14.5083 1.99926 14.8663 1.99902 15.2307H8.29914L11.999 8.76916Z",fill:"#00AC47"}),p.createElement("path",{d:"M18.8492 20.723C19.1585 20.5384 19.422 20.2846 19.6053 19.9615L19.9718 19.3269L21.7244 16.2692C21.9077 15.9461 21.9993 15.5884 21.9993 15.2307H15.6987L17.0394 17.8846L18.8492 20.723Z",fill:"#EA4335"}),p.createElement("path",{d:"M11.9982 8.76923L15.1483 3.27692C14.839 3.09231 14.4839 3 14.1173 3H9.87907C9.51252 3 9.15742 3.10385 8.84814 3.27692L11.9982 8.76923Z",fill:"#00832D"}),p.createElement("path",{d:"M15.6983 15.2307H8.29849L5.14844 20.723C5.45772 20.9076 5.81281 20.9999 6.17937 20.9999H17.8174C18.1839 20.9999 18.539 20.8961 18.8483 20.723L15.6983 15.2307Z",fill:"#2684FC"}),p.createElement("path",{d:"M18.8146 9.11532L15.9051 4.03839C15.7218 3.71532 15.4584 3.46147 15.1491 3.27686L11.999 8.76916L15.6989 15.2307H21.9876C21.9876 14.873 21.8959 14.5153 21.7127 14.1922L18.8146 9.11532Z",fill:"#FFBA00"})),Oge=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.888 8.14381V5.93591C17.1798 5.79955 17.4268 5.58312 17.6004 5.31182C17.7739 5.04053 17.8668 4.72552 17.8683 4.40346V4.35276C17.8683 3.41376 17.1071 2.65254 16.1681 2.65254H16.1174C15.6665 2.65254 15.234 2.83167 14.9152 3.15052C14.5963 3.46937 14.4172 3.90183 14.4172 4.35276V4.40346C14.4187 4.72552 14.5116 5.04053 14.6851 5.31182C14.8587 5.58312 15.1057 5.79955 15.3975 5.93591V8.14381C14.5589 8.27221 13.7692 8.61989 13.1082 9.15167L7.05292 4.43539C7.09611 4.27951 7.11865 4.11926 7.12116 3.95838C7.1219 3.57946 7.01024 3.20884 6.80032 2.89339C6.5904 2.57794 6.29164 2.33183 5.94183 2.1862C5.59202 2.04056 5.20688 2.00195 4.83512 2.07523C4.46335 2.14852 4.12168 2.33041 3.85331 2.59791C3.58494 2.8654 3.40193 3.20648 3.32743 3.578C3.25293 3.94952 3.29029 4.33478 3.43478 4.68507C3.57927 5.03535 3.82439 5.33492 4.13916 5.54587C4.45392 5.75682 4.82418 5.86968 5.20309 5.87018C5.53459 5.86862 5.85988 5.78012 6.14648 5.61352L12.1091 10.2534C11.5735 11.0626 11.294 12.0144 11.3072 12.9848C11.3204 13.9551 11.6256 14.899 12.183 15.6934L10.3695 17.5075C10.2229 17.4606 10.0701 17.4357 9.91624 17.4336C9.60521 17.4339 9.30123 17.5263 9.04273 17.6993C8.78422 17.8722 8.58278 18.1179 8.46386 18.4053C8.34495 18.6927 8.3139 19.0089 8.37464 19.314C8.43538 19.619 8.58519 19.8992 8.80512 20.1192C9.02505 20.3391 9.30524 20.4889 9.61028 20.5496C9.91532 20.6104 10.2315 20.5793 10.5189 20.4604C10.8063 20.3415 11.052 20.1401 11.225 19.8815C11.3979 19.623 11.4904 19.3191 11.4906 19.008C11.4886 18.8541 11.4637 18.7014 11.4168 18.5548L13.2109 16.7601C13.7959 17.2105 14.4763 17.521 15.1999 17.6678C15.9235 17.8147 16.6711 17.7939 17.3854 17.6072C18.0998 17.4205 18.7619 17.0727 19.3211 16.5906C19.8803 16.1085 20.3217 15.5047 20.6115 14.8256C20.9013 14.1465 21.0318 13.4101 20.9931 12.6728C20.9543 11.9355 20.7473 11.2168 20.3879 10.5718C20.0285 9.92689 19.5262 9.37275 18.9196 8.95189C18.3129 8.53103 17.618 8.25461 16.888 8.14381ZM16.1443 15.4054C15.8127 15.4145 15.4827 15.3571 15.1737 15.2365C14.8647 15.1159 14.583 14.9346 14.3452 14.7033C14.1075 14.472 13.9185 14.1954 13.7895 13.8899C13.6604 13.5843 13.594 13.256 13.594 12.9243C13.594 12.5926 13.6604 12.2642 13.7895 11.9587C13.9185 11.6531 14.1075 11.3765 14.3452 11.1452C14.583 10.9139 14.8647 10.7326 15.1737 10.612C15.4827 10.4914 15.8127 10.434 16.1443 10.4431C16.7869 10.4656 17.3958 10.7366 17.8426 11.1991C18.2893 11.6616 18.5392 12.2794 18.5395 12.9224C18.5399 13.5655 18.2906 14.1835 17.8443 14.6464C17.398 15.1094 16.7894 15.381 16.1468 15.4042",fill:"#FF7A59"})),Age=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5645_167)"},p.createElement("path",{d:"M19.289 12.9098C19.289 13.0866 19.2193 13.2561 19.0953 13.381C18.9713 13.506 18.8032 13.5763 18.6278 13.5763C18.4525 13.5763 18.2843 13.506 18.1603 13.381C18.0363 13.2561 17.9667 13.0866 17.9667 12.9098V6.95655C17.9667 6.77982 18.0363 6.61032 18.1603 6.48536C18.2843 6.36038 18.4525 6.29017 18.6278 6.29017C18.8032 6.29017 18.9713 6.36038 19.0953 6.48536C19.2193 6.61032 19.289 6.77982 19.289 6.95655V12.9098ZM19.0595 17.0348C18.9721 17.1229 16.5134 19.1881 12.0057 19.1881C7.49817 19.1881 5.05587 17.1339 4.95206 17.0457C4.88664 16.9902 4.83275 16.9221 4.79348 16.8455C4.75422 16.7688 4.73035 16.6851 4.72324 16.5991C4.71614 16.5132 4.72594 16.4267 4.75207 16.3445C4.77821 16.2624 4.82018 16.1863 4.87557 16.1205C4.98967 15.9875 5.15135 15.9053 5.32535 15.8918C5.49935 15.8784 5.67155 15.935 5.8044 16.049C5.84266 16.0765 8.03908 17.8718 12.0003 17.8718C15.9616 17.8718 18.1743 16.0655 18.1962 16.049C18.3305 15.9359 18.5033 15.8802 18.6777 15.8936C18.8523 15.907 19.0147 15.9883 19.1305 16.1205C19.242 16.2517 19.2976 16.4218 19.2853 16.594C19.273 16.7662 19.1938 16.9266 19.065 17.0403L19.0595 17.0348ZM4.71712 6.95655C4.727 6.77926 4.80611 6.61311 4.93716 6.49444C5.0682 6.37577 5.24054 6.31421 5.41648 6.32322C5.57959 6.33256 5.73349 6.40243 5.84851 6.51938C5.96353 6.63633 6.03151 6.79207 6.03934 6.95655V12.8989C6.03934 13.0756 5.96969 13.245 5.84571 13.37C5.72173 13.495 5.55357 13.5652 5.37823 13.5652C5.20289 13.5652 5.03473 13.495 4.91075 13.37C4.78677 13.245 4.71712 13.0756 4.71712 12.8989V6.95655ZM8.03362 5.63482C8.0435 5.45752 8.12261 5.29138 8.25366 5.17271C8.38471 5.05403 8.55704 4.99248 8.73298 5.00149C8.89609 5.01083 9.05 5.0807 9.16501 5.19765C9.28002 5.3146 9.348 5.47033 9.35585 5.63482V14.4463C9.35585 14.6231 9.2862 14.7926 9.16221 14.9176C9.03823 15.0425 8.87007 15.1127 8.69474 15.1127C8.5194 15.1127 8.35124 15.0425 8.22726 14.9176C8.10327 14.7926 8.03362 14.6231 8.03362 14.4463V5.63482ZM11.3665 5.30438C11.3665 5.12765 11.4362 4.95816 11.5602 4.83319C11.6842 4.70822 11.8523 4.63801 12.0276 4.63801C12.203 4.63801 12.3711 4.70822 12.4951 4.83319C12.6191 4.95816 12.6888 5.12765 12.6888 5.30438V14.887C12.6888 15.0637 12.6191 15.2331 12.4951 15.3582C12.3711 15.4831 12.203 15.5533 12.0276 15.5533C11.8523 15.5533 11.6842 15.4831 11.5602 15.3582C11.4362 15.2331 11.3665 15.0637 11.3665 14.887V5.30438ZM14.6448 5.63482C14.6448 5.45809 14.7144 5.28859 14.8384 5.16362C14.9623 5.03865 15.1305 4.96844 15.3059 4.96844C15.4812 4.96844 15.6494 5.03865 15.7734 5.16362C15.8973 5.28859 15.967 5.45809 15.967 5.63482V14.4463C15.967 14.6231 15.8973 14.7926 15.7734 14.9176C15.6494 15.0425 15.4812 15.1127 15.3059 15.1127C15.1305 15.1127 14.9623 15.0425 14.8384 14.9176C14.7144 14.7926 14.6448 14.6231 14.6448 14.4463V5.63482ZM19.4693 2.00005H4.56414C4.23936 1.99788 3.91735 2.06029 3.61654 2.18373C3.31573 2.30716 3.04203 2.48919 2.81111 2.71939C2.58019 2.94959 2.39658 3.22343 2.27081 3.52526C2.14503 3.82708 2.07955 4.15094 2.07812 4.4783V19.3478C2.07955 19.6751 2.14503 19.999 2.27081 20.3009C2.39658 20.6026 2.58019 20.8765 2.81111 21.1067C3.04203 21.3369 3.31573 21.519 3.61654 21.6423C3.91735 21.7658 4.23936 21.8282 4.56414 21.826H19.4693C19.7936 21.8282 20.1151 21.766 20.4156 21.6429C20.7161 21.5198 20.9895 21.3383 21.2203 21.1086C21.4512 20.879 21.635 20.6058 21.761 20.3046C21.8871 20.0035 21.9531 19.6802 21.9553 19.3533V4.4783C21.9538 4.15141 21.8885 3.828 21.7631 3.52654C21.6376 3.22508 21.4545 2.95148 21.2242 2.72135C20.9939 2.49122 20.7208 2.30908 20.4206 2.18532C20.1204 2.06156 19.799 1.99861 19.4747 2.00005",fill:"currentColor"})),p.createElement("defs",null,p.createElement("clipPath",{id:"clip0_5645_167"},p.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2 2)"})))),vG=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5645_169)"},p.createElement("path",{d:"M2.41207 13.8046C2.36757 13.6149 2.59357 13.4954 2.73135 13.6332L10.0338 20.9356C10.1716 21.0734 10.0521 21.2994 9.86243 21.2549C6.17729 20.3904 3.27655 17.4897 2.41207 13.8046ZM2.16737 10.8778C2.16384 10.9345 2.18514 10.9898 2.22528 11.0299L12.6371 21.4417C12.6772 21.4818 12.7325 21.5032 12.7892 21.4996C13.263 21.4701 13.7279 21.4076 14.1817 21.3144C14.3346 21.283 14.3877 21.0952 14.2773 20.9848L2.68218 9.3897C2.57181 9.27932 2.38395 9.33244 2.35255 9.48534C2.25936 9.93906 2.19688 10.404 2.16737 10.8778ZM3.00918 7.44108C2.97588 7.51584 2.99284 7.6032 3.05071 7.66108L16.0059 20.6163C16.0638 20.6742 16.1512 20.6911 16.2259 20.6578C16.5831 20.4987 16.9293 20.3193 17.263 20.121C17.3734 20.0554 17.3905 19.9037 17.2997 19.8129L3.85412 6.36734C3.76331 6.27652 3.61158 6.29356 3.54598 6.40398C3.34771 6.73766 3.16829 7.08386 3.00918 7.44108ZM4.69873 5.1148C4.62471 5.04078 4.62013 4.92206 4.68987 4.84398C6.52289 2.79186 9.18927 1.5 12.1574 1.5C17.6855 1.5 22.167 5.98146 22.167 11.5096C22.167 14.4777 20.8751 17.1441 18.823 18.9771C18.745 19.0469 18.6262 19.0423 18.5522 18.9683L4.69873 5.1148Z",fill:"#6777FF"})),p.createElement("defs",null,p.createElement("clipPath",{id:"clip0_5645_169"},p.createElement("rect",{width:20,height:20,fill:"white",transform:"translate(2.16699 1.5)"})))),Ige=e=>p.createElement("svg",{"xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:cc":"http://creativecommons.org/ns#","xmlns:rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:sodipodi":"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","xmlns:inkscape":"http://www.inkscape.org/namespaces/inkscape",width:"170mm",height:"173mm",viewBox:"0 0 170 173",id:"svg8","inkscape:version":"1.0.2 (e86c870879, 2021-01-15, custom)","sodipodi:docname":"cldrnw.svg",...e},p.createElement("defs",{id:"defs2"}),p.createElement("sodipodi:namedview",{id:"base",pagecolor:"#ffffff",bordercolor:"#666666",borderopacity:1,"inkscape:pageopacity":0,"inkscape:pageshadow":2,"inkscape:zoom":1,"inkscape:cx":446.39757,"inkscape:cy":364.37241,"inkscape:document-units":"mm","inkscape:current-layer":"layer2","inkscape:document-rotation":0,showgrid:"false","inkscape:window-width":1920,"inkscape:window-height":1017,"inkscape:window-x":1912,"inkscape:window-y":-8,"inkscape:window-maximized":1}),p.createElement("metadata",{id:"metadata5"},p.createElement("rdf:RDF",null,p.createElement("cc:Work",{"rdf:about":""},p.createElement("dc:format",null,"image/svg+xml"),p.createElement("dc:type",{"rdf:resource":"http://purl.org/dc/dcmitype/StillImage"}),p.createElement("dc:title",null)))),p.createElement("g",{"inkscape:groupmode":"layer",id:"layer2","inkscape:label":"Capa 2",style:{opacity:1}},p.createElement("path",{id:"rect862",style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46864,strokeLinecap:"square",paintOrder:"markers fill stroke"},d:"M 7.9243621,0.40426573 H 162.081 c 4.29879,0 7.75955,3.45686397 7.75955,7.75081597 V 36.958129 c 0,4.293952 -3.46076,7.750816 -7.75955,7.750816 H 7.9243621 c -4.29883,0 -7.75961003,-3.456864 -7.75961003,-7.750816 V 8.1550817 c 0,-4.293952 3.46078003,-7.75081597 7.75961003,-7.75081597 z"}),p.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",stroke:"none",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865",width:53.482864,height:47.625,x:.21232992,y:30.049105,ry:0}),p.createElement("rect",{style:{fill:"#5edafe",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-6",width:53.483627,height:47.625,x:116.33598,y:30.049105,ry:0}),p.createElement("rect",{style:{fill:"#3ca8e8",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5",width:62.640022,height:47.625,x:53.695198,y:30.049105,ry:0}),p.createElement("rect",{style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1",width:53.483627,height:47.625,x:.21232992,y:77.674103,ry:0}),p.createElement("rect",{style:{fill:"#3ca8e8",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-6-7",width:53.483627,height:47.625,x:116.33598,y:77.674103,ry:0}),p.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5-7",width:62.640022,height:47.625,x:53.695198,y:77.674103,ry:0}),p.createElement("rect",{style:{fill:"#154a8a",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1-1",width:53.483627,height:47.625,x:.21232992,y:125.29911,ry:7.7508163}),p.createElement("rect",{style:{fill:"#1b64b6",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.99654,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-5-7-8",width:62.639313,height:47.624989,x:53.695961,y:125.29911,ry:0}),p.createElement("rect",{style:{fill:"#2179d2",fillOpacity:1,fillRule:"evenodd",strokeWidth:6.46499,strokeLinecap:"square",paintOrder:"markers fill stroke"},id:"rect865-1-1-4",width:53.483627,height:47.625,x:116.33598,y:125.29911,ry:7.7508163}),p.createElement("path",{style:{fill:"#154a8a",fillOpacity:1,stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 0.21378207,125.2991 53.48140993,1e-5 0.003,47.62499 H 8.4247021 l -8.21573003,-8.21568 z",id:"path1012","sodipodi:nodetypes":"cccccc"}),p.createElement("path",{style:{fill:"#2179d2",fillOpacity:1,stroke:"none",strokeWidth:"0.264583px",strokeLinecap:"butt",strokeLinejoin:"miter",strokeOpacity:1},d:"m 169.82154,125.29911 h -53.48556 l 0.002,47.625 h 45.27325 l 8.21568,-8.21568 z",id:"path1012-9","sodipodi:nodetypes":"cccccc"}))),_G=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M7.82373 7.35312L7.82391 7.35249L11.6726 9.65779L13.9659 8.6927C14.4319 8.49124 14.9344 8.38793 15.4421 8.38843C15.5267 8.38843 15.6103 8.39227 15.6935 8.39782C15.4178 7.32269 14.8357 6.35079 14.0181 5.60023C13.2004 4.84966 12.1823 4.35275 11.0876 4.16987C9.99283 3.98699 8.86853 4.12601 7.8513 4.57005C6.83408 5.01409 5.96772 5.74403 5.35751 6.67115C5.37712 6.67091 5.39643 6.66968 5.41608 6.66968C6.26666 6.66852 7.10061 6.90525 7.82373 7.35312Z",fill:"#0364B8"}),p.createElement("path",{d:"M7.82449 7.3525L7.82431 7.35313C7.10119 6.90526 6.26724 6.66853 5.41666 6.66968C5.39701 6.66968 5.37767 6.67091 5.35809 6.67116C4.52559 6.68147 3.71163 6.91843 3.00368 7.35659C2.29574 7.79475 1.72058 8.41754 1.34 9.15804C0.959422 9.89853 0.787821 10.7287 0.843637 11.5594C0.899452 12.3901 1.18057 13.1899 1.65679 13.8728L5.05075 12.4446L6.55948 11.8097L9.91879 10.396L11.6731 9.65779L7.82449 7.3525Z",fill:"#0078D4"}),p.createElement("path",{d:"M15.6938 8.39782C15.6106 8.39227 15.527 8.38843 15.4424 8.38843C14.9347 8.38793 14.4323 8.49163 13.9663 8.6931L11.6728 9.65779L12.3378 10.0561L14.5178 11.3619L15.4688 11.9316L18.7209 13.8795C19.0164 13.331 19.1695 12.717 19.1663 12.0939C19.163 11.4709 19.0035 10.8586 18.7023 10.3131C18.4011 9.76768 17.9678 9.30653 17.4422 8.97191C16.9166 8.63729 16.3154 8.4399 15.6938 8.39782Z",fill:"#1490DF"}),p.createElement("path",{d:"M15.4693 11.9315L14.5182 11.3618L12.3383 10.0561L11.6732 9.65771L9.9189 10.396L6.55959 11.8096L5.05086 12.4445L1.6569 13.8727C2.07866 14.4791 2.64091 14.9744 3.29564 15.3163C3.95037 15.6583 4.67813 15.8367 5.41676 15.8363H15.4428C16.115 15.8365 16.7748 15.6547 17.352 15.3101C17.9292 14.9656 18.4024 14.4712 18.7213 13.8794L15.4693 11.9315Z",fill:"#28A8EA"})),Mge=e=>p.createElement("svg",{id:"Livello_1","xmlns:x":"http://ns.adobe.com/Extensibility/1.0/","xmlns:i":"http://ns.adobe.com/AdobeIllustrator/10.0/","xmlns:graph":"http://ns.adobe.com/Graphs/1.0/",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1831.085 1703.335",enableBackground:"new 0 0 1831.085 1703.335",xmlSpace:"preserve",...e},p.createElement("path",{fill:"#0A2767",d:"M1831.083,894.25c0.1-14.318-7.298-27.644-19.503-35.131h-0.213l-0.767-0.426l-634.492-375.585  c-2.74-1.851-5.583-3.543-8.517-5.067c-24.498-12.639-53.599-12.639-78.098,0c-2.934,1.525-5.777,3.216-8.517,5.067L446.486,858.693  l-0.766,0.426c-19.392,12.059-25.337,37.556-13.278,56.948c3.553,5.714,8.447,10.474,14.257,13.868l634.492,375.585  c2.749,1.835,5.592,3.527,8.517,5.068c24.498,12.639,53.599,12.639,78.098,0c2.925-1.541,5.767-3.232,8.517-5.068l634.492-375.585  C1823.49,922.545,1831.228,908.923,1831.083,894.25z"}),p.createElement("path",{fill:"#0364B8",d:"M520.453,643.477h416.38v381.674h-416.38V643.477z M1745.917,255.5V80.908  c1-43.652-33.552-79.862-77.203-80.908H588.204C544.552,1.046,510,37.256,511,80.908V255.5l638.75,170.333L1745.917,255.5z"}),p.createElement("path",{fill:"#0078D4",d:"M511,255.5h425.833v383.25H511V255.5z"}),p.createElement("path",{fill:"#28A8EA",d:"M1362.667,255.5H936.833v383.25L1362.667,1022h383.25V638.75L1362.667,255.5z"}),p.createElement("path",{fill:"#0078D4",d:"M936.833,638.75h425.833V1022H936.833V638.75z"}),p.createElement("path",{fill:"#0364B8",d:"M936.833,1022h425.833v383.25H936.833V1022z"}),p.createElement("path",{fill:"#14447D",d:"M520.453,1025.151h416.38v346.969h-416.38V1025.151z"}),p.createElement("path",{fill:"#0078D4",d:"M1362.667,1022h383.25v383.25h-383.25V1022z"}),p.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:1128.4584,y1:811.0833,x2:1128.4584,y2:1.9982,gradientTransform:"matrix(1 0 0 -1 0 1705.3334)"},p.createElement("stop",{offset:0,style:{stopColor:"#35b8f1"}}),p.createElement("stop",{offset:1,style:{stopColor:"#28a8ea"}})),p.createElement("path",{fill:"url(#SVGID_1_)",d:"M1811.58,927.593l-0.809,0.426l-634.492,356.848c-2.768,1.703-5.578,3.321-8.517,4.769  c-10.777,5.132-22.481,8.029-34.407,8.517l-34.663-20.27c-2.929-1.47-5.773-3.105-8.517-4.897L447.167,906.003h-0.298  l-21.036-11.753v722.384c0.328,48.196,39.653,87.006,87.849,86.7h1230.914c0.724,0,1.363-0.341,2.129-0.341  c10.18-0.651,20.216-2.745,29.808-6.217c4.145-1.756,8.146-3.835,11.966-6.217c2.853-1.618,7.75-5.152,7.75-5.152  c21.814-16.142,34.726-41.635,34.833-68.772V894.25C1831.068,908.067,1823.616,920.807,1811.58,927.593z"}),p.createElement("path",{opacity:.5,fill:"#0A2767",enableBackground:"new    ",d:"M1797.017,891.397v44.287l-663.448,456.791L446.699,906.301  c0-0.235-0.191-0.426-0.426-0.426l0,0l-63.023-37.899v-31.938l25.976-0.426l54.932,31.512l1.277,0.426l4.684,2.981  c0,0,645.563,368.346,647.267,369.197l24.698,14.478c2.129-0.852,4.258-1.703,6.813-2.555  c1.278-0.852,640.879-360.681,640.879-360.681L1797.017,891.397z"}),p.createElement("path",{fill:"#1490DF",d:"M1811.58,927.593l-0.809,0.468l-634.492,356.848c-2.768,1.703-5.578,3.321-8.517,4.769  c-24.641,12.038-53.457,12.038-78.098,0c-2.918-1.445-5.76-3.037-8.517-4.769L446.657,928.061l-0.766-0.468  c-12.25-6.642-19.93-19.409-20.057-33.343v722.384c0.305,48.188,39.616,87.004,87.803,86.7c0.001,0,0.002,0,0.004,0h1229.636  c48.188,0.307,87.5-38.509,87.807-86.696c0-0.001,0-0.002,0-0.004V894.25C1831.068,908.067,1823.616,920.807,1811.58,927.593z"}),p.createElement("path",{opacity:.1,enableBackground:"new    ",d:"M1185.52,1279.629l-9.496,5.323c-2.752,1.752-5.595,3.359-8.517,4.812  c-10.462,5.135-21.838,8.146-33.47,8.857l241.405,285.479l421.107,101.476c11.539-8.716,20.717-20.178,26.7-33.343L1185.52,1279.629  z"}),p.createElement("path",{opacity:.05,enableBackground:"new    ",d:"M1228.529,1255.442l-52.505,29.51c-2.752,1.752-5.595,3.359-8.517,4.812  c-10.462,5.135-21.838,8.146-33.47,8.857l113.101,311.838l549.538,74.989c21.649-16.254,34.394-41.743,34.407-68.815v-9.326  L1228.529,1255.442z"}),p.createElement("path",{fill:"#28A8EA",d:"M514.833,1703.333h1228.316c18.901,0.096,37.335-5.874,52.59-17.033l-697.089-408.331  c-2.929-1.47-5.773-3.105-8.517-4.897L447.125,906.088h-0.298l-20.993-11.838v719.914  C425.786,1663.364,465.632,1703.286,514.833,1703.333C514.832,1703.333,514.832,1703.333,514.833,1703.333z"}),p.createElement("path",{opacity:.1,enableBackground:"new    ",d:"M1022,418.722v908.303c-0.076,31.846-19.44,60.471-48.971,72.392  c-9.148,3.931-19,5.96-28.957,5.962H425.833V383.25H511v-42.583h433.073C987.092,340.83,1021.907,375.702,1022,418.722z"}),p.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M979.417,461.305v908.302c0.107,10.287-2.074,20.469-6.388,29.808  c-11.826,29.149-40.083,48.273-71.54,48.417H425.833V383.25h475.656c12.356-0.124,24.533,2.958,35.344,8.943  C962.937,405.344,979.407,432.076,979.417,461.305z"}),p.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M979.417,461.305v823.136c-0.208,43-34.928,77.853-77.927,78.225H425.833V383.25  h475.656c12.356-0.124,24.533,2.958,35.344,8.943C962.937,405.344,979.407,432.076,979.417,461.305z"}),p.createElement("path",{opacity:.2,enableBackground:"new    ",d:"M936.833,461.305v823.136c-0.046,43.067-34.861,78.015-77.927,78.225H425.833  V383.25h433.072c43.062,0.023,77.951,34.951,77.927,78.013C936.833,461.277,936.833,461.291,936.833,461.305z"}),p.createElement("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:162.7469,y1:1383.0741,x2:774.0864,y2:324.2592,gradientTransform:"matrix(1 0 0 -1 0 1705.3334)"},p.createElement("stop",{offset:0,style:{stopColor:"#1784d9"}}),p.createElement("stop",{offset:.5,style:{stopColor:"#107ad5"}}),p.createElement("stop",{offset:1,style:{stopColor:"#0a63c9"}})),p.createElement("path",{fill:"url(#SVGID_2_)",d:"M78.055,383.25h780.723c43.109,0,78.055,34.947,78.055,78.055v780.723  c0,43.109-34.946,78.055-78.055,78.055H78.055c-43.109,0-78.055-34.947-78.055-78.055V461.305  C0,418.197,34.947,383.25,78.055,383.25z"}),p.createElement("path",{fill:"#FFFFFF",d:"M243.96,710.631c19.238-40.988,50.29-75.289,89.17-98.495c43.057-24.651,92.081-36.94,141.675-35.515  c45.965-0.997,91.321,10.655,131.114,33.683c37.414,22.312,67.547,55.004,86.742,94.109c20.904,43.09,31.322,90.512,30.405,138.396  c1.013,50.043-9.706,99.628-31.299,144.783c-19.652,40.503-50.741,74.36-89.425,97.388c-41.327,23.734-88.367,35.692-136.011,34.578  c-46.947,1.133-93.303-10.651-134.01-34.067c-37.738-22.341-68.249-55.07-87.892-94.28c-21.028-42.467-31.57-89.355-30.745-136.735  C212.808,804.859,223.158,755.686,243.96,710.631z M339.006,941.858c10.257,25.912,27.651,48.385,50.163,64.812  c22.93,16.026,50.387,24.294,78.353,23.591c29.783,1.178,59.14-7.372,83.634-24.358c22.227-16.375,39.164-38.909,48.715-64.812  c10.677-28.928,15.946-59.572,15.543-90.404c0.33-31.127-4.623-62.084-14.649-91.554c-8.855-26.607-25.246-50.069-47.182-67.537  c-23.88-17.79-53.158-26.813-82.91-25.55c-28.572-0.74-56.644,7.593-80.184,23.804c-22.893,16.496-40.617,39.168-51.1,65.365  c-23.255,60.049-23.376,126.595-0.341,186.728L339.006,941.858z"}),p.createElement("path",{fill:"#50D9FF",d:"M1362.667,255.5h383.25v383.25h-383.25V255.5z"})),Rge=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5645_179)"},p.createElement("path",{d:"M15.5719 9.75H20.57C21.0422 9.75 21.425 10.1328 21.425 10.605V15.1576C21.425 16.8931 20.0181 18.3 18.2827 18.3H18.2678C16.5323 18.3002 15.1253 16.8936 15.125 15.1581C15.125 15.1579 15.125 15.1578 15.125 15.1576V10.1969C15.125 9.95006 15.3251 9.75 15.5719 9.75Z",fill:"#5059C9"}),p.createElement("path",{d:"M18.9498 8.84999C20.0682 8.84999 20.9748 7.94336 20.9748 6.82499C20.9748 5.70661 20.0682 4.79999 18.9498 4.79999C17.8314 4.79999 16.9248 5.70661 16.9248 6.82499C16.9248 7.94336 17.8314 8.84999 18.9498 8.84999Z",fill:"#5059C9"}),p.createElement("path",{d:"M12.6501 8.85001C14.2655 8.85001 15.5751 7.54044 15.5751 5.925C15.5751 4.30957 14.2655 3 12.6501 3C11.0347 3 9.7251 4.30957 9.7251 5.925C9.7251 7.54044 11.0347 8.85001 12.6501 8.85001Z",fill:"#7B83EB"}),p.createElement("path",{d:"M16.5502 9.75H8.29988C7.8333 9.76155 7.46421 10.1488 7.47503 10.6154V15.8079C7.40988 18.6079 9.62511 20.9315 12.425 21C15.225 20.9315 17.4402 18.6079 17.375 15.8079V10.6154C17.3859 10.1488 17.0168 9.76155 16.5502 9.75Z",fill:"#7B83EB"}),p.createElement("path",{opacity:.1,d:"M12.8749 9.75V17.0265C12.8726 17.3602 12.6704 17.66 12.3619 17.787C12.2636 17.8286 12.158 17.85 12.0514 17.85H7.87085C7.81235 17.7015 7.75835 17.553 7.71334 17.4C7.55582 16.8836 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.8749Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M12.4249 9.75V17.4765C12.4248 17.5832 12.4034 17.6888 12.3619 17.787C12.2348 18.0956 11.935 18.2978 11.6014 18.3H8.08235C8.00585 18.1515 7.93385 18.003 7.87085 17.85C7.80784 17.697 7.75835 17.553 7.71334 17.4C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.4249Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M12.4248 9.75V16.5765C12.4214 17.0299 12.0547 17.3966 11.6013 17.4H7.71334C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H12.4248Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.9748 9.75V16.5765C11.9714 17.0299 11.6047 17.3966 11.1513 17.4H7.71334C7.55582 16.8837 7.47545 16.3469 7.47484 15.807V10.614C7.46402 10.1482 7.83251 9.76155 8.29834 9.75H11.9748Z",fill:"currentColor"}),p.createElement("path",{opacity:.1,d:"M12.8747 7.4235V8.841C12.7982 8.84549 12.7262 8.85 12.6497 8.85C12.5732 8.85 12.5012 8.8455 12.4247 8.841C12.2728 8.83092 12.1221 8.80682 11.9747 8.769C11.0634 8.5532 10.3106 7.91412 9.94967 7.05C9.88757 6.90489 9.83936 6.75421 9.80566 6.60001H12.0512C12.5053 6.60173 12.8729 6.9694 12.8747 7.4235Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M12.4252 7.87348V8.84098C12.2733 8.8309 12.1227 8.8068 11.9752 8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.6017C12.0558 7.05171 12.4235 7.41939 12.4252 7.87348Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M12.4252 7.87348V8.84098C12.2733 8.8309 12.1227 8.8068 11.9752 8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.6017C12.0558 7.05171 12.4235 7.41939 12.4252 7.87348Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.9752 7.87349V8.76899C11.0639 8.55318 10.3111 7.91411 9.9502 7.04999H11.1517C11.6058 7.05172 11.9735 7.4194 11.9752 7.87349Z",fill:"currentColor"}),p.createElement("path",{d:"M2.90004 7.04999H11.1503C11.6059 7.04999 11.9752 7.41929 11.9752 7.87483V16.1251C11.9752 16.5807 11.6059 16.95 11.1503 16.95H2.90004C2.44449 16.95 2.0752 16.5807 2.0752 16.1251V7.87483C2.0752 7.41929 2.4445 7.04999 2.90004 7.04999Z",fill:"url(#paint0_linear_5645_179)"}),p.createElement("path",{d:"M9.1956 10.1901H7.54635V14.6811H6.4956V10.1901H4.854V9.31891H9.1956V10.1901Z",fill:"white"})),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_5645_179",x1:3.79503,y1:6.40547,x2:10.2554,y2:17.5945,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#5A62C3"}),p.createElement("stop",{offset:.5,stopColor:"#4D55BD"}),p.createElement("stop",{offset:1,stopColor:"#3940AB"})),p.createElement("clipPath",{id:"clip0_5645_179"},p.createElement("rect",{width:19.35,height:18,fill:"white",transform:"translate(2.0752 3)"})))),L9=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6.1039 5.90972C6.68754 6.38386 6.90648 6.34768 8.00238 6.27457L18.3342 5.65418C18.5534 5.65418 18.3711 5.43557 18.2981 5.39924L16.5822 4.15879C16.2534 3.90354 15.8153 3.61122 14.9758 3.68434L4.9715 4.41403C4.60665 4.45021 4.53377 4.63262 4.67909 4.77886L6.1039 5.90972ZM6.72422 8.31752V19.1884C6.72422 19.7726 7.01618 19.9912 7.6733 19.955L19.028 19.298C19.6854 19.2619 19.7586 18.86 19.7586 18.3854V7.58753C19.7586 7.1137 19.5763 6.85816 19.1739 6.89464L7.30815 7.58753C6.87027 7.62433 6.72422 7.84337 6.72422 8.31752ZM17.9335 8.90066C18.0063 9.22933 17.9335 9.55768 17.6043 9.5946L17.0571 9.70361V17.7292C16.5822 17.9845 16.1441 18.1304 15.7791 18.1304C15.1947 18.1304 15.0484 17.9479 14.6107 17.401L11.0321 11.783V17.2186L12.1645 17.4741C12.1645 17.4741 12.1645 18.1304 11.2509 18.1304L8.73222 18.2765C8.65905 18.1304 8.73222 17.7659 8.98769 17.6929L9.64494 17.5108V10.324L8.73237 10.2509C8.6592 9.92222 8.84146 9.44837 9.35298 9.41159L12.0549 9.22946L15.7791 14.9205V9.88603L14.8296 9.77704C14.7567 9.37526 15.0484 9.08353 15.4135 9.04735L17.9335 8.90066ZM4.13151 3.4291L14.5376 2.66279C15.8155 2.55318 16.1443 2.6266 16.9475 3.21005L20.2692 5.54473C20.8173 5.9462 21 6.05551 21 6.49316V19.298C21 20.1005 20.7077 20.5751 19.6856 20.6477L7.60101 21.3775C6.83376 21.4141 6.4686 21.3047 6.0668 20.7937L3.6206 17.6199C3.18227 17.0357 3 16.5986 3 16.0873V4.70545C3 4.04918 3.29242 3.50177 4.13151 3.4291Z",fill:"currentColor"})),A0=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M6.21613 14.6433C6.21613 15.8058 5.27738 16.7453 4.11588 16.7453C2.95437 16.7453 2.01562 15.8058 2.01562 14.6433C2.01562 13.4809 2.95437 12.5414 4.11588 12.5414H6.21613V14.6433ZM7.26625 14.6433C7.26625 13.4809 8.205 12.5414 9.3665 12.5414C10.528 12.5414 11.4668 13.4809 11.4668 14.6433V19.8982C11.4668 21.0606 10.528 22.0001 9.3665 22.0001C8.205 22.0001 7.26625 21.0606 7.26625 19.8982V14.6433Z",fill:"#E01E5A"}),p.createElement("path",{d:"M9.36679 6.20386C8.20529 6.20386 7.26654 5.26436 7.26654 4.10193C7.26654 2.9395 8.20529 2 9.36679 2C10.5283 2 11.467 2.9395 11.467 4.10193V6.20386H9.36679ZM9.36679 7.27074C10.5283 7.27074 11.467 8.21024 11.467 9.37267C11.467 10.5351 10.5283 11.4746 9.36679 11.4746H4.10025C2.93875 11.4746 2 10.5351 2 9.37267C2 8.21024 2.93875 7.27074 4.10025 7.27074H9.36679Z",fill:"#36C5F0"}),p.createElement("path",{d:"M17.7838 9.37267C17.7838 8.21024 18.7226 7.27074 19.8841 7.27074C21.0456 7.27074 21.9843 8.21024 21.9843 9.37267C21.9843 10.5351 21.0456 11.4746 19.8841 11.4746H17.7838V9.37267ZM16.7337 9.37267C16.7337 10.5351 15.795 11.4746 14.6335 11.4746C13.472 11.4746 12.5332 10.5351 12.5332 9.37267V4.10193C12.5332 2.9395 13.472 2 14.6335 2C15.795 2 16.7337 2.9395 16.7337 4.10193V9.37267Z",fill:"#2EB67D"}),p.createElement("path",{d:"M14.6335 17.7962C15.795 17.7962 16.7337 18.7357 16.7337 19.8982C16.7337 21.0606 15.795 22.0001 14.6335 22.0001C13.472 22.0001 12.5332 21.0606 12.5332 19.8982V17.7962H14.6335ZM14.6335 16.7453C13.472 16.7453 12.5332 15.8058 12.5332 14.6433C12.5332 13.4809 13.472 12.5414 14.6335 12.5414H19.9C21.0615 12.5414 22.0002 13.4809 22.0002 14.6433C22.0002 15.8058 21.0615 16.7453 19.9 16.7453H14.6335Z",fill:"#ECB22E"}));var lr=(e=>(e.CODEX="CODEX",e.PROMPT_TEXT_AREA="PROMPT_TEXT_AREA",e.CONNECTOR_SETTING="CONNECTOR_SETTING",e.ADMIN_SETTING="ADMIN_SETTING",e.SLURM="SLURM",e.DEEP_RESEARCH="DEEP_RESEARCH",e.JIT_PLUGIN="JIT_PLUGIN",e.N7JUPD="N7JUPD",e))(lr||{});const Nge=Ot({github:{id:"platformConnectors.github",defaultMessage:"GitHub"},hubspot:{id:"platformConnectors.hubspot",defaultMessage:"HubSpot"},googleDrive:{id:"platformConnectors.googleDrive",defaultMessage:"Google Drive"},gmail:{id:"platformConnectors.gmail",defaultMessage:"Gmail"},googleContacts:{id:"platformConnectors.googleContacts",defaultMessage:"Google Contacts"},gcal:{id:"platformConnectors.gcal",defaultMessage:"Google Calendar"},dropbox:{id:"platformConnectors.dropbox",defaultMessage:"Dropbox"},linear:{id:"platformConnectors.linear",defaultMessage:"Linear"},sharepoint:{id:"platformConnectors.sharepoint",defaultMessage:"SharePoint"},outlookEmail:{id:"GJeJu+",defaultMessage:"Outlook Email"},outlookCalendar:{id:"ZaCgzD",defaultMessage:"Outlook Calendar"},teams:{id:"1F0GKN",defaultMessage:"Teams"},box:{id:"l5cshA",defaultMessage:"Box"},intercom:{id:"IeKzI2",defaultMessage:"Intercom"},notion:{id:"ewTDRt",defaultMessage:"Notion"},canva:{id:"2oFmyl",defaultMessage:"Canva"},slack:{id:"Do199+",defaultMessage:"Slack"},disabledByAdmin:{id:"2+q1p8",defaultMessage:"Your admin has not enabled this connector."}}),Pge={},Xn={...Nge,...Pge},dje={[q.GITHUB_CONNECTOR]:{title:Xn.github,icon:gG},[q.GDRIVE_ACTION_CONNECTOR]:{title:Xn.googleDrive,icon:Md},[q.DROPBOX_CONNECTOR]:{title:Xn.dropbox,icon:mG},[q.HUBSPOT_CONNECTOR]:{title:Xn.hubspot,icon:Oge},[q.LINEAR_CONNECTOR]:{title:Xn.linear,icon:vG},[q.SHAREPOINT_CONNECTOR]:{title:Xn.sharepoint,icon:_G},[q.TEAMS_CONNECTOR]:{title:Xn.teams,icon:Rge},[q.OUTLOOK_EMAIL_CONNECTOR]:{title:Xn.outlookEmail,icon:Mge},[q.OUTLOOK_CALENDAR_CONNECTOR]:{title:Xn.outlookCalendar,icon:Ige},[q.BOX_CONNECTOR]:{title:Xn.box,icon:pG},[q.INTERCOM_CONNECTOR]:{title:Xn.intercom,icon:Age},[q.NOTION_CONNECTOR]:{title:Xn.notion,icon:L9},[q.GOOGLE_CONTACTS_CONNECTOR]:{title:Xn.googleContacts,icon:Tge},[q.GCAL_CONNECTOR]:{title:Xn.gcal,icon:kge},[q.GMAIL_CONNECTOR]:{title:Xn.gmail,icon:xge},[q.CANVA_CONNECTOR]:{title:Xn.canva,icon:Ege},[q.SLACK_CONNECTOR]:{title:Xn.slack,icon:A0}},Dge={github:q.GITHUB_CONNECTOR,google_drive:q.GDRIVE_ACTION_CONNECTOR,dropbox:q.DROPBOX_CONNECTOR,linear:q.LINEAR_CONNECTOR,hubspot:q.HUBSPOT_CONNECTOR,sharepoint:q.SHAREPOINT_CONNECTOR,google_calendar:q.GCAL_CONNECTOR,gmail:q.GMAIL_CONNECTOR,google_contacts:q.GOOGLE_CONTACTS_CONNECTOR,teams:q.TEAMS_CONNECTOR,outlook_email:q.OUTLOOK_EMAIL_CONNECTOR,outlook_calendar:q.OUTLOOK_CALENDAR_CONNECTOR,box:q.BOX_CONNECTOR,intercom:q.INTERCOM_CONNECTOR,notion:q.NOTION_CONNECTOR,canva:q.CANVA_CONNECTOR,slack:q.SLACK_CONNECTOR},I0=({enabled:e=!0,includeDisabledByAdmin:t=!1,productSku:n,purpose:r=void 0}={})=>{const{platformConnectors:i,isLoading:s}=Xh(e,n,r);return{availableConnectors:p.useMemo(()=>{const a=Array.from(i.values()),l=a.filter(u=>u.connector_type!=="MCP").map(u=>({...u,type:$h[u.id]})),c=a.filter(u=>u.connector_type==="MCP").map(u=>({...u,type:Nh.MCP_CONNECTOR}));return[...l,...c].filter(u=>!!u.type&&(t||u.status!=="DISABLED_BY_ADMIN"))},[i,t,n,r]),isLoading:s}},Lge=()=>{const e=me(),t=xn(e,"3747383021"),n=We(e,"3544641259"),r=p.useMemo(()=>{const i=Object.entries(Dge).reduce((o,[a,l])=>(t.get(a,!1)&&o.push(l),o),[]);return t.get("mcp",!1)?[...i,Nh.MCP_CONNECTOR]:i},[t]);return{enabled:n,availableConnectorsType:n?r:[]}},Fge=()=>{const e=me();return We(e,"733205176")},fje=()=>{const e=me();return We(e,"3207737252")},yG=({getDisabledAutoConnectors:e=!1})=>{const t=me(),n=xn(t,"463092697")?.value,{data:r,isLoading:i}=hG(e),s=n?.autoConnectors??[];if(i)return{allAutoConnectors:s,enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!0};if(!e)return{allAutoConnectors:s,enabledAutoConnectors:[],disabledAutoConnectors:[],isLoading:!1};const{disabledTools:o=[]}=r??{},a=o.map(Gde).filter(c=>c!=null);a.includes(q.GMAIL_CONNECTOR)&&a.includes(q.GCAL_CONNECTOR)&&a.push(q.GOOGLE_CONTACTS_CONNECTOR);const l=s.filter(c=>!a.includes(c));return{allAutoConnectors:s,enabledAutoConnectors:l,disabledAutoConnectors:a,isLoading:!1}},jge=()=>{const e=P9(),t=!!(e?.enabled??!1),n=e?.autoConnectors??[],r=e?.enabledConnectors??[];return{enabled:t,availableConnectorsType:t?r:[],autoConnectors:n}},Bge=()=>({enabled:!0,availableConnectorsType:[]}),Uge=({includeDisabledByAdmin:e}={})=>{const{enabled:t,availableConnectorsType:n}=Lge(),{availableConnectors:r,isLoading:i}=I0({enabled:t,includeDisabledByAdmin:e,productSku:lr.DEEP_RESEARCH}),s=p.useMemo(()=>r.filter(o=>n.includes(o.type)),[n,r]);return t?{enabled:!0,availableConnectors:s,isLoading:i}:{enabled:!1,availableConnectors:[],isLoading:!1}},hje=({includeDisabledByAdmin:e}={})=>{const{enabled:t,availableConnectorsType:n}=Bge(),{availableConnectors:r,isLoading:i}=I0({enabled:t,includeDisabledByAdmin:e,productSku:lr.CODEX});return r.some(s=>s.type===q.GITHUB_CONNECTOR)&&n.includes(q.GITHUB_CONNECTOR)?{enabled:!0,isLoading:i,availableConnectors:r.filter(s=>s.type===q.GITHUB_CONNECTOR)}:{enabled:!1,availableConnectors:[],isLoading:!1}},F9=({includeDisabledByAdmin:e,includeAutoConnectors:t,filterDisabledAutoConnectors:n}={})=>{const r=jge();let i=r.availableConnectorsType;const s=me(),o=We(s,"2768222595"),{enabledAutoConnectors:a,allAutoConnectors:l,isLoading:c}=yG({getDisabledAutoConnectors:o&&(r.autoConnectors??[]).length>0&&n}),u=o?n?a:l:[],d=r.enabled;t&&(i=[...new Set([...i,...u])]);const{availableConnectors:f,isLoading:h}=I0({enabled:d,includeDisabledByAdmin:e,productSku:lr.SLURM}),m=p.useMemo(()=>i.flatMap(v=>v===Nh.MCP_CONNECTOR?f.filter(_=>_.type===v):[f.find(_=>_.type===v)]).filter(v=>!!v),[i,f]);return d?{enabled:!0,availableConnectors:m,isLoading:c||h}:{enabled:!1,availableConnectors:[],isLoading:!1}},pje=({purpose:e=void 0}={})=>{const t=Qh(),{availableConnectors:n,isLoading:r}=I0({enabled:t,includeDisabledByAdmin:!0,productSku:lr.CONNECTOR_SETTING,purpose:e});return{enabled:!!(n&&n.length>0),isLoading:r,availableConnectors:n??[]}},bG=e=>{"use forget";const t=Te.c(17),{availableConnectors:n,fetchValidLinksOnly:r,productSku:i}=e,s=r===void 0?!1:r;let o;t[0]!==s||t[1]!==i?(o={fetchValidLinksOnly:s,productSku:i},t[0]=s,t[1]=i,t[2]=o):o=t[2];const{connectorLinks:a,isLoading:l}=hd(o);let c;t[3]!==a?(c=new Set(Array.from(a.values()).flatMap(Hge)),t[3]=a,t[4]=c):c=t[4];const u=c;let d;if(t[5]!==n||t[6]!==u){let v;t[8]!==u?(v=_=>_.type!==Nh.MCP_CONNECTOR&&u.has(_.type),t[8]=u,t[9]=v):v=t[9],d=new Set(n.filter(v).map(Vge)),t[5]=n,t[6]=u,t[7]=d}else d=t[7];const f=d;let h;t[10]!==n||t[11]!==a?(h=new Map,a.forEach((v,_)=>{if(!n.some(b=>b.id===_))return;const y=$h[_];y&&v.forEach(b=>{h.set(b.id,y)})}),t[10]=n,t[11]=a,t[12]=h):h=t[12];let m;return t[13]!==f||t[14]!==l||t[15]!==h?(m={connectedTypes:f,isLoading:l,linkIdToConnectedType:h},t[13]=f,t[14]=l,t[15]=h,t[16]=m):m=t[16],m},qge=e=>{"use forget";const t=Te.c(7);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r,includeAutoConnectors:i}=n,s=r===void 0?!0:r,o=i===void 0?!1:i;let a;t[2]!==o?(a={includeAutoConnectors:o},t[2]=o,t[3]=a):a=t[3];const{enabled:l,availableConnectors:c}=F9(a),u=l&&s;let d;return t[4]!==c||t[5]!==u?(d={enabled:u,availableConnectors:c,productSku:lr.SLURM},t[4]=c,t[5]=u,t[6]=d):d=t[6],bG(d)},mje=e=>{"use forget";const t=Te.c(5);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const{enabled:r}=n,i=r===void 0?!0:r,{enabled:s,availableConnectors:o}=Uge(),a=s&&i;let l;return t[2]!==o||t[3]!==a?(l={enabled:a,availableConnectors:o,fetchValidLinksOnly:!0,productSku:lr.DEEP_RESEARCH},t[2]=o,t[3]=a,t[4]=l):l=t[4],bG(l)},zge=()=>!!P9()?.enablePopupRedirect,gje=()=>{const{connectedTypes:e,isLoading:t}=qge(),{hasConnections:n,isLoading:r}=lG();if(t||r)return{anyConnectorEnabled:!1,anyAccessConnectorEnabled:!1,anySyncConnectorEnabled:!1,isLoading:!0};const i=e.size>0,s=n??!1;return{anyConnectorEnabled:i||s,anyAccessConnectorEnabled:i,anySyncConnectorEnabled:s,isLoading:!1}};function Gge(e){return $h[e.connector_id]}function Hge(e){return e.map(Gge)}function Vge(e){return e.type}const $ge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"}),p.createElement("path",{d:"M10.0002 8.5C10.8285 8.50022 11.5002 9.17171 11.5002 10C11.5002 10.8283 10.8285 11.4998 10.0002 11.5C8.50014 11.4999 5.00025 10.5 5.00025 10C5.00025 9.50002 8.50014 8.50009 10.0002 8.5Z"}),p.createElement("path",{d:"M12.0833 0.00488281C12.4504 0.00505872 12.7483 0.302761 12.7483 0.669922C12.7483 1.03708 12.4504 1.33479 12.0833 1.33496H7.91626C7.54922 1.3347 7.25122 1.03703 7.25122 0.669922C7.25122 0.302814 7.54922 0.00514505 7.91626 0.00488281H12.0833Z"})),Wge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"}),p.createElement("path",{d:"M7.5 5.66992C7.93301 5.41993 10.5488 7.95095 11.2988 9.25C11.713 9.96741 11.4674 10.8846 10.75 11.2988C10.0326 11.713 9.11542 11.4673 8.70117 10.75C7.95118 9.45097 7.06701 5.91997 7.5 5.66992Z"}),p.createElement("path",{d:"M12.084 0.00488281C12.451 0.00519055 12.749 0.302842 12.749 0.669922C12.749 1.037 12.451 1.33465 12.084 1.33496H7.91699C7.54972 1.33496 7.25195 1.03719 7.25195 0.669922C7.25195 0.302653 7.54972 0.00488281 7.91699 0.00488281H12.084Z"})),Kge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.585 9.99998C16.585 6.36319 13.6368 3.41502 10 3.41502C6.3632 3.41502 3.41504 6.36319 3.41504 9.99998C3.41504 13.6368 6.3632 16.5849 10 16.5849C13.6368 16.5849 16.585 13.6368 16.585 9.99998ZM17.915 9.99998C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 9.99998C2.08496 5.62865 5.62867 2.08494 10 2.08494C14.3713 2.08494 17.915 5.62865 17.915 9.99998Z"}),p.createElement("path",{d:"M12.0837 0.00494385C12.4509 0.00511975 12.7488 0.302822 12.7488 0.669983C12.7488 1.03714 12.4509 1.33485 12.0837 1.33502H7.91675C7.54948 1.33502 7.25171 1.03725 7.25171 0.669983C7.25171 0.302714 7.54948 0.00494385 7.91675 0.00494385H12.0837Z"}),p.createElement("path",{d:"M11.2992 10.75C10.8849 11.4675 9.96756 11.7133 9.25012 11.2991C8.53268 10.8849 8.28687 9.96747 8.70108 9.25003C9.45108 7.95099 12.0671 5.4199 12.5001 5.6699C12.9331 5.9199 12.0492 9.45099 11.2992 10.75Z"})),Yge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.0007 2.08496C14.3717 2.08536 17.9158 5.62891 17.9158 10C17.9158 14.3711 14.3717 17.9146 10.0007 17.915C5.81265 17.915 2.38471 14.6622 2.10425 10.5449C2.07943 10.1786 2.35612 9.86191 2.72241 9.83691C3.08857 9.8123 3.40547 10.0889 3.43042 10.4551C3.66379 13.8792 6.51699 16.5849 10.0007 16.585C13.6372 16.5846 16.5857 13.6365 16.5857 10C16.5857 6.36345 13.6372 3.41544 10.0007 3.41504C9.6335 3.41499 9.33569 3.11724 9.33569 2.75C9.33569 2.38276 9.6335 2.08501 10.0007 2.08496ZM10.0007 8.5C10.8288 8.50042 11.5007 9.17183 11.5007 10C11.5007 10.8282 10.8288 11.4996 10.0007 11.5C8.50073 11.5 5.00073 10.5 5.00073 10C5.00073 9.5 8.50073 8.5 10.0007 8.5ZM12.0837 0.00488281C12.4508 0.00510456 12.7488 0.302789 12.7488 0.669922C12.7488 1.03705 12.4508 1.33474 12.0837 1.33496H7.91675C7.54948 1.33496 7.25171 1.03719 7.25171 0.669922C7.25171 0.302653 7.54948 0.00488281 7.91675 0.00488281H12.0837Z"}),p.createElement("path",{opacity:.2,d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),Zge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 7.24208 3.49633 4.81441 5.63281 3.39844C5.93895 3.19555 6.3518 3.27882 6.55469 3.58496C6.75745 3.89109 6.67328 4.30398 6.36719 4.50684C4.58671 5.68693 3.41504 7.70677 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C9.63273 3.41504 9.33496 3.11727 9.33496 2.75C9.33496 2.38273 9.63273 2.08496 10 2.08496ZM7.5 5.66992C7.93301 5.41993 10.5488 7.95095 11.2988 9.25C11.713 9.96741 11.4674 10.8846 10.75 11.2988C10.0326 11.713 9.11542 11.4673 8.70117 10.75C7.95118 9.45097 7.06701 5.91997 7.5 5.66992ZM12.084 0.00488281C12.451 0.00519055 12.749 0.302842 12.749 0.669922C12.749 1.037 12.451 1.33465 12.084 1.33496H7.91699C7.54972 1.33496 7.25195 1.03719 7.25195 0.669922C7.25195 0.302653 7.54972 0.00488281 7.91699 0.00488281H12.084Z"}),p.createElement("path",{opacity:.2,d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),Jge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M12.0837 0.00494385C12.4509 0.00511975 12.7488 0.302822 12.7488 0.669983C12.7488 1.03714 12.4509 1.33485 12.0837 1.33502H7.91675C7.54948 1.33502 7.25171 1.03725 7.25171 0.669983C7.25171 0.302714 7.54948 0.00494385 7.91675 0.00494385H12.0837Z"}),p.createElement("path",{d:"M10 2.08494C11.3849 2.08494 12.7458 2.44817 13.9463 3.13865C14.2646 3.32174 14.3744 3.72852 14.1914 4.04686C14.0083 4.36522 13.6016 4.47509 13.2832 4.29198C12.2844 3.71745 11.1523 3.41502 10 3.41502C9.63273 3.41502 9.33496 3.11725 9.33496 2.74998C9.33496 2.38271 9.63273 2.08494 10 2.08494Z"}),p.createElement("path",{d:"M11.2992 10.75C10.8849 11.4675 9.96756 11.7133 9.25012 11.2991C8.53268 10.8849 8.28687 9.96747 8.70108 9.25003C9.45108 7.95099 12.0671 5.4199 12.5001 5.6699C12.9331 5.9199 12.0492 9.45099 11.2992 10.75Z"}),p.createElement("path",{opacity:.2,d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),Qge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10 2.08496C14.3713 2.085 17.915 5.62869 17.915 10C17.915 11.2108 17.6427 12.3599 17.1553 13.3877C16.9979 13.7194 16.6013 13.8612 16.2695 13.7041C15.9378 13.5467 15.7959 13.1501 15.9531 12.8184C16.358 11.9648 16.585 11.0097 16.585 10C16.585 6.36323 13.6368 3.41508 10 3.41504C9.63276 3.415 9.33496 3.11725 9.33496 2.75C9.33496 2.38275 9.63276 2.085 10 2.08496Z"}),p.createElement("path",{d:"M8.70117 9.25C9.1154 8.5326 10.0326 8.28697 10.75 8.70117C12.049 9.45122 14.5799 12.0669 14.3301 12.5C14.0796 12.9328 10.549 12.0488 9.25 11.2988C8.53268 10.8846 8.28699 9.96739 8.70117 9.25Z"}),p.createElement("path",{d:"M12.084 0.00488281C12.451 0.00519055 12.749 0.302842 12.749 0.669922C12.749 1.037 12.451 1.33465 12.084 1.33496H7.91699C7.54972 1.33496 7.25195 1.03719 7.25195 0.669922C7.25195 0.302653 7.54972 0.00488281 7.91699 0.00488281H12.084Z"}),p.createElement("path",{opacity:.2,d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"})),Xge=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e},p.createElement("path",{d:"M16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10ZM17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10Z"}),p.createElement("path",{d:"M8.70117 9.25C9.1154 8.5326 10.0326 8.28697 10.75 8.70117C12.049 9.45122 14.5799 12.0669 14.3301 12.5C14.0796 12.9328 10.549 12.0488 9.25 11.2988C8.53268 10.8846 8.28699 9.96739 8.70117 9.25Z"}),p.createElement("path",{d:"M12.084 0.00488281C12.451 0.00519055 12.749 0.302842 12.749 0.669922C12.749 1.037 12.451 1.33465 12.084 1.33496H7.91699C7.54972 1.33496 7.25195 1.03719 7.25195 0.669922C7.25195 0.302653 7.54972 0.00488281 7.91699 0.00488281H12.084Z"})),Mf="gpt-5-thinking",vje=e=>{const t=vn(e);return t?.isPro()||t?.isEnterprise()?["min","standard","extended","max"]:["standard","extended"]},_je=(e,t)=>{K.logEventWithStatsig("ChatGPT Composer Thinking Effort Changed","chatgpt_composer_thinking_effort_changed",{effort:t,model:e})};function yje(e,t){switch(t){case"min":return{filledIcon:Kge,progressIcon:Jge,fullLabel:e.formatMessage({id:"kogr4P",defaultMessage:"Light thinking"}),shortLabel:e.formatMessage({id:"oHA6pi",defaultMessage:"Light"}),description:e.formatMessage({id:"IXCwXJ",defaultMessage:"Quick, thoughtful answers"})};case"standard":return{filledIcon:Xge,progressIcon:Qge,fullLabel:e.formatMessage({id:"SF0DXJ",defaultMessage:"Standard thinking"}),shortLabel:e.formatMessage({id:"LvLUFd",defaultMessage:"Standard"}),description:e.formatMessage({id:"KBwMuT",defaultMessage:"Balanced thinking and speed"})};case"extended":return{filledIcon:$ge,progressIcon:Yge,fullLabel:e.formatMessage({id:"ZdXWiu",defaultMessage:"Extended thinking"}),shortLabel:e.formatMessage({id:"8yC7rt",defaultMessage:"Extended"}),description:e.formatMessage({id:"UvHF8K",defaultMessage:"Thinks longer for complex questions"})};case"max":return{filledIcon:Wge,progressIcon:Zge,fullLabel:e.formatMessage({id:"WQe8sQ",defaultMessage:"Heavy thinking"}),shortLabel:e.formatMessage({id:"ZCryku",defaultMessage:"Heavy"}),description:e.formatMessage({id:"uTE58+",defaultMessage:"Even longer analysis for harder questions"})}}}function CG(e){return e.author.role===He.Assistant&&e.metadata?.model_slug===Mf&&!!e.metadata?.thinking_effort}function bje(e,t){const n=Se.getNode(e,t);return n?.message&&CG(n.message)?n.message.metadata?.thinking_effort:void 0}function e0e(e){return Se.findNode(e,t=>CG(t.message))}const t0e=b0(e=>EX(Oc,t=>Qt(e.id,t)));function j9(e,t){const n=b0(r=>_i(()=>{const i=t0e(r);return e(i())},t));return r=>n(r)()}const Cje=j9(Se.getIsNewConversation),Sje=j9(Se.getConversationTurns),n0e=j9(e=>e0e(e)?.message.metadata?.thinking_effort);function M0(){const e=qe.getCookie(je.LastUsedModelConfig);if(e)try{const n=JSON.parse(e);if(n&&typeof n=="object"&&(n.model===void 0||typeof n.model=="string")&&(n.effort===void 0||typeof n.effort=="string"))return n}catch{}const t=qe.getCookie(je.LastUsedModel);return t?{model:t}:{}}function SG(e){try{qe.setCookie(je.LastUsedModelConfig,JSON.stringify(e),{path:"/",maxAge:60*60*24*30})}catch{}}function r0e(e,t){return We(e,"1333611684")&&t}function i0e(){return M0().effort}function wje(){return M0().model}function s0e(e,t,n={skipUpdateIfModelStickyOnServer:!0}){if(r0e(e,n.skipUpdateIfModelStickyOnServer))return;M0().model!==t&&SG({model:t})}function Eje(){qe.deleteCookie(je.LastUsedModelConfig)}const o0e=en(e=>_i(()=>{const n=Rw(e)().data?.settings?.[Ec.LastUsedModelConfig];if(n)return n.juices?.[Ll.WEB]?.[Mf]??n.juices?.[Ll.DEFAULT]?.[Mf]??"standard";const r=M0();return r.model===Mf?r.effort??"standard":void 0}));function a0e(e){pF(()=>{const n=Rw(e)().data?.settings?.[Ec.LastUsedModelConfig],r=n?.slugs[Ll.WEB]??n?.slugs[Ll.DEFAULT],i=r?n?.juices[Ll.WEB]?.[r]??n?.juices[Ll.DEFAULT]?.[r]:void 0;return{model:r,effort:i}},({model:t,effort:n})=>{t&&SG({model:t,effort:n})})}function l0e(e,t){let n=!1;return _i(()=>n=!t()&&(n||e()))}var gb,lI;function c0e(){if(lI)return gb;lI=1;var e=ks(),t=function(){return e.Date.now()};return gb=t,gb}var vb,cI;function wG(){if(cI)return vb;cI=1;var e=ro(),t=c0e(),n=jB(),r="Expected a function",i=Math.max,s=Math.min;function o(a,l,c){var u,d,f,h,m,v,_=0,y=!1,b=!1,C=!0;if(typeof a!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,f=b?i(n(c.maxWait)||0,l):f,C="trailing"in c?!!c.trailing:C);function S(P){var D=u,R=d;return u=d=void 0,_=P,h=a.apply(R,D),h}function x(P){return _=P,m=setTimeout(T,l),y?S(P):h}function w(P){var D=P-v,R=P-_,F=l-D;return b?s(F,f-R):F}function E(P){var D=P-v,R=P-_;return v===void 0||D>=l||D<0||b&&R>=f}function T(){var P=t();if(E(P))return O(P);m=setTimeout(T,w(P))}function O(P){return m=void 0,C&&u?S(P):(u=d=void 0,h)}function k(){m!==void 0&&clearTimeout(m),_=0,u=v=d=m=void 0}function A(){return m===void 0?h:O(t())}function I(){var P=t(),D=E(P);if(u=arguments,d=this,v=P,D){if(m===void 0)return x(v);if(b)return clearTimeout(m),m=setTimeout(T,l),S(v)}return m===void 0&&(m=setTimeout(T,l)),h}return I.cancel=k,I.flush=A,I}return vb=o,vb}var u0e=wG();const EG=_n(u0e);var _b,uI;function d0e(){if(uI)return _b;uI=1;var e=wG(),t=ro(),n="Expected a function";function r(i,s,o){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(a="leading"in o?!!o.leading:a,l="trailing"in o?!!o.trailing:l),e(i,s,{leading:a,maxWait:s,trailing:l})}return _b=r,_b}var f0e=d0e();const h0e=_n(f0e),Zo=o4("Composer"),p0e=Zo(()=>({current:null}));function ch(e){if(!(e instanceof iz))throw new Error("ProseMirrorComposerController required");return e.view}const xG=Zo(e=>Go(t=>v9(ch(e),h0e(t,50)),()=>ch(e).state)),xje=Zo(e=>_i(()=>xG(e)().doc.content.size,{getServerFallback:()=>0})),m0e=Zo(e=>_i(()=>{const t=xG(e);return eG(t().doc)},{getServerFallback:()=>!0})),g0e=Zo(()=>Tt(!1)),kje=Zo(e=>l0e(g0e(e),m0e(e))),v0e=Zo(e=>Go(t=>fc(ch(e).dom,{focus:t,blur:t}),()=>ch(e).hasFocus(),{getServerFallback:()=>!1})),Tje=Zo(e=>{const t=Go(r=>{const i=EG(r,150);return fc(document,{focusin:i,focusout:i})},()=>{const r=p0e(e);return r.current!=null&&(r.current.contains(document.activeElement)||r.current.querySelector('[data-state="open"]')!=null)},{getServerFallback:()=>!1}),n=v0e(e);return _i(()=>t()||n())}),Oje=Zo(e=>{const t=Tt(void 0),n=_i(()=>{if(!dn(e.ctx))return;const r=e.conversation;if(!r)return;const i=n0e(r);return i||o0e(e.ctx)()},{getServerFallback:i0e});return{composerThinkingEffort$:_i(()=>t()??n()),setThinkingEffort:r=>{t.set(r)}}});function _0e(e,t,n){try{const r=JSON.parse(window.localStorage.getItem(e)??"");return n(r)?r:t}catch{return t}}function y0e(e,t){window.localStorage.setItem(e,JSON.stringify(t))}const dI=hn(e=>({data:{},setItem:(t,n)=>e(r=>({data:{...r.data,[t]:n}}))}));function b0e(e,t,n){const[r,i]=p.useState(!1),s=dI(l=>l.data[e]),o=dI(l=>l.setItem);return p.useEffect(()=>{if(!r){const l=_0e(e,t,n);o(e,l),i(!0)}},[r,e,t,n,o]),p.useEffect(()=>{r&&y0e(e,s)},[e,s,r]),[s??t,l=>{o(e,l)}]}function sn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ze(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function zm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zm=function(n){return typeof n}:zm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zm(e)}function Xe(e){ze(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||zm(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function R0(e,t){ze(2,arguments);var n=Xe(e),r=sn(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function kG(e,t){ze(2,arguments);var n=Xe(e),r=sn(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());s.setMonth(n.getMonth()+r+1,0);var o=s.getDate();return i>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function C0e(e,t){ze(2,arguments);var n=Xe(e).getTime(),r=sn(t);return new Date(n+r)}var S0e={};function Rd(){return S0e}function H1(e,t){var n,r,i,s,o,a,l,c;ze(1,arguments);var u=Rd(),d=sn((n=(r=(i=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Xe(e),h=f.getDay(),m=(h<d?7:0)+h-d;return f.setDate(f.getDate()-m),f.setHours(0,0,0,0),f}function hS(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function V1(e){ze(1,arguments);var t=Xe(e);return t.setHours(0,0,0,0),t}var w0e=864e5;function TG(e,t){ze(2,arguments);var n=V1(e),r=V1(t),i=n.getTime()-hS(n),s=r.getTime()-hS(r);return Math.round((i-s)/w0e)}function OG(e,t){ze(2,arguments);var n=sn(t),r=n*7;return R0(e,r)}function E0e(e,t){ze(2,arguments);var n=sn(t);return kG(e,n*12)}function yb(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var B9=6e4,AG=36e5;function IG(e,t){ze(2,arguments);var n=V1(e),r=V1(t);return n.getTime()===r.getTime()}function Gm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(n){return typeof n}:Gm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Gm(e)}function x0e(e){return ze(1,arguments),e instanceof Date||Gm(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function k0e(e){if(ze(1,arguments),!x0e(e)&&typeof e!="number")return!1;var t=Xe(e);return!isNaN(Number(t))}function T0e(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function fI(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Aje(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t),i=fI(n,r),s=Math.abs(TG(n,r));n.setDate(n.getDate()-i*s);var o=+(fI(n,r)===-i),a=i*(s-o);return a===0?0:a}function O0e(e,t){return ze(2,arguments),Xe(e).getTime()-Xe(t).getTime()}var hI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},A0e="trunc";function I0e(e){return e?hI[e]:hI[A0e]}function Ije(e,t,n){ze(2,arguments);var r=O0e(e,t)/B9;return I0e(void 0)(r)}function MG(e){ze(1,arguments);var t=Xe(e);return t.setHours(23,59,59,999),t}function M0e(e){ze(1,arguments);var t=Xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function R0e(e){ze(1,arguments);var t=Xe(e);return MG(t).getTime()===M0e(t).getTime()}function Mje(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t),i=yb(n,r),s=Math.abs(T0e(n,r)),o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);var a=yb(n,r)===-i;R0e(Xe(e))&&s===1&&yb(e,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function Rje(e,t){var n;ze(1,arguments);var r=e||{},i=Xe(r.start),s=Xe(r.end),o=s.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],l=i;l.setHours(0,0,0,0);var c=Number((n=void 0)!==null&&n!==void 0?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)a.push(Xe(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return a}function Nje(e,t){ze(1,arguments);var n=e||{},r=Xe(n.start),i=Xe(n.end),s=i.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var o=H1(r,t),a=H1(i,t);o.setHours(15),a.setHours(15),s=a.getTime();for(var l=[],c=o;c.getTime()<=s;)c.setHours(0),l.push(Xe(c)),c=OG(c,1),c.setHours(15);return l}function Pje(e){ze(1,arguments);var t=Xe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Dje(e,t){var n,r,i,s,o,a;ze(1,arguments);var l=Rd(),c=sn((n=(r=(i=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&i!==void 0?i:l.weekStartsOn)!==null&&r!==void 0?r:(o=l.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&n!==void 0?n:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Xe(e),d=u.getDay(),f=(d<c?-7:0)+6-(d-c);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}function Lje(){return MG(Date.now())}function N0e(e,t){ze(2,arguments);var n=sn(t);return C0e(e,-n)}var P0e=864e5;function D0e(e){ze(1,arguments);var t=Xe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/P0e)+1}function $1(e){ze(1,arguments);var t=1,n=Xe(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function RG(e){ze(1,arguments);var t=Xe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=$1(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=$1(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function L0e(e){ze(1,arguments);var t=RG(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=$1(n);return r}var F0e=6048e5;function j0e(e){ze(1,arguments);var t=Xe(e),n=$1(t).getTime()-L0e(t).getTime();return Math.round(n/F0e)+1}function W1(e,t){var n,r,i,s,o,a,l,c;ze(1,arguments);var u=Rd(),d=sn((n=(r=(i=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:u.weekStartsOn)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Xe(e),h=f.getUTCDay(),m=(h<d?7:0)+h-d;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function NG(e,t){var n,r,i,s,o,a,l,c;ze(1,arguments);var u=Xe(e),d=u.getUTCFullYear(),f=Rd(),h=sn((n=(r=(i=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,h),m.setUTCHours(0,0,0,0);var v=W1(m,t),_=new Date(0);_.setUTCFullYear(d,0,h),_.setUTCHours(0,0,0,0);var y=W1(_,t);return u.getTime()>=v.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function B0e(e,t){var n,r,i,s,o,a,l,c;ze(1,arguments);var u=Rd(),d=sn((n=(r=(i=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:u.firstWeekContainsDate)!==null&&r!==void 0?r:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=NG(e,t),h=new Date(0);h.setUTCFullYear(f,0,d),h.setUTCHours(0,0,0,0);var m=W1(h,t);return m}var U0e=6048e5;function q0e(e,t){ze(1,arguments);var n=Xe(e),r=W1(n,t).getTime()-B0e(n,t).getTime();return Math.round(r/U0e)+1}function Ht(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var ua={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Ht(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Ht(r+1,2)},d:function(t,n){return Ht(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Ht(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ht(t.getUTCHours(),n.length)},m:function(t,n){return Ht(t.getUTCMinutes(),n.length)},s:function(t,n){return Ht(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return Ht(s,n.length)}},au={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},z0e={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return ua.y(t,n)},Y:function(t,n,r,i){var s=NG(t,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return Ht(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ht(o,n.length)},R:function(t,n){var r=RG(t);return Ht(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Ht(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ht(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ht(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return ua.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ht(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var s=q0e(t,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):Ht(s,n.length)},I:function(t,n,r){var i=j0e(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ht(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):ua.d(t,n)},D:function(t,n,r){var i=D0e(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ht(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ht(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var s=t.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ht(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Ht(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),s;switch(i===12?s=au.noon:i===0?s=au.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),s;switch(i>=17?s=au.evening:i>=12?s=au.afternoon:i>=4?s=au.morning:s=au.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return ua.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ua.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ht(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ht(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ua.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ua.s(t,n)},S:function(t,n){return ua.S(t,n)},X:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return mI(o);case"XXXX":case"XX":return Ml(o);case"XXXXX":case"XXX":default:return Ml(o,":")}},x:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"x":return mI(o);case"xxxx":case"xx":return Ml(o);case"xxxxx":case"xxx":default:return Ml(o,":")}},O:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+pI(o,":");case"OOOO":default:return"GMT"+Ml(o,":")}},z:function(t,n,r,i){var s=i._originalDate||t,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+pI(o,":");case"zzzz":default:return"GMT"+Ml(o,":")}},t:function(t,n,r,i){var s=i._originalDate||t,o=Math.floor(s.getTime()/1e3);return Ht(o,n.length)},T:function(t,n,r,i){var s=i._originalDate||t,o=s.getTime();return Ht(o,n.length)}};function pI(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=t;return n+String(i)+o+Ht(s,2)}function mI(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ht(Math.abs(e)/60,2)}return Ml(e,t)}function Ml(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),s=Ht(Math.floor(i/60),2),o=Ht(i%60,2);return r+s+n+o}var gI=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},PG=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},G0e=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return gI(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",gI(i,n)).replace("{{time}}",PG(s,n))},H0e={p:PG,P:G0e},V0e=["D","DD"],$0e=["YY","YYYY"];function W0e(e){return V0e.indexOf(e)!==-1}function K0e(e){return $0e.indexOf(e)!==-1}function vI(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Y0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Z0e=function(t,n,r){var i,s=Y0e[t];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function bb(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var J0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Q0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eve={date:bb({formats:J0e,defaultWidth:"full"}),time:bb({formats:Q0e,defaultWidth:"full"}),dateTime:bb({formats:X0e,defaultWidth:"full"})},tve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nve=function(t,n,r,i){return tve[t]};function Zd(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{var a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}var c=e.argumentCallback?e.argumentCallback(t):t;return i[c]}}var rve={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ive={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sve={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ove={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ave={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cve=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uve={ordinalNumber:cve,era:Zd({values:rve,defaultWidth:"wide"}),quarter:Zd({values:ive,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Zd({values:sve,defaultWidth:"wide"}),day:Zd({values:ove,defaultWidth:"wide"}),dayPeriod:Zd({values:ave,defaultWidth:"wide",formattingValues:lve,defaultFormattingWidth:"wide"})};function Jd(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?fve(a,function(d){return d.test(o)}):dve(a,function(d){return d.test(o)}),c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=t.slice(o.length);return{value:c,rest:u}}}function dve(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function fve(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function hve(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=t.slice(i.length);return{value:o,rest:a}}}var pve=/^(\d+)(th|st|nd|rd)?/i,mve=/\d+/i,gve={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vve={any:[/^b/i,/^(a|c)/i]},_ve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yve={any:[/1/i,/2/i,/3/i,/4/i]},bve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Eve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kve={ordinalNumber:hve({matchPattern:pve,parsePattern:mve,valueCallback:function(t){return parseInt(t,10)}}),era:Jd({matchPatterns:gve,defaultMatchWidth:"wide",parsePatterns:vve,defaultParseWidth:"any"}),quarter:Jd({matchPatterns:_ve,defaultMatchWidth:"wide",parsePatterns:yve,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Jd({matchPatterns:bve,defaultMatchWidth:"wide",parsePatterns:Cve,defaultParseWidth:"any"}),day:Jd({matchPatterns:Sve,defaultMatchWidth:"wide",parsePatterns:wve,defaultParseWidth:"any"}),dayPeriod:Jd({matchPatterns:Eve,defaultMatchWidth:"any",parsePatterns:xve,defaultParseWidth:"any"})},Tve={code:"en-US",formatDistance:Z0e,formatLong:eve,formatRelative:nve,localize:uve,match:kve,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ove=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ave=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ive=/^'([^]*?)'?$/,Mve=/''/g,Rve=/[a-zA-Z]/;function Fje(e,t,n){var r,i,s,o,a,l,c,u,d,f,h,m,v,_;ze(2,arguments);var y=String(t),b=Rd(),C=(r=(i=void 0)!==null&&i!==void 0?i:b.locale)!==null&&r!==void 0?r:Tve,S=sn((s=(o=(a=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&a!==void 0?a:b.firstWeekContainsDate)!==null&&o!==void 0?o:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=sn((d=(f=(h=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&h!==void 0?h:b.weekStartsOn)!==null&&f!==void 0?f:(v=b.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&d!==void 0?d:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var w=Xe(e);if(!k0e(w))throw new RangeError("Invalid time value");var E=hS(w),T=N0e(w,E),O={firstWeekContainsDate:S,weekStartsOn:x,locale:C,_originalDate:w},k=y.match(Ave).map(function(A){var I=A[0];if(I==="p"||I==="P"){var P=H0e[I];return P(A,C.formatLong)}return A}).join("").match(Ove).map(function(A){if(A==="''")return"'";var I=A[0];if(I==="'")return Nve(A);var P=z0e[I];if(P)return K0e(A)&&vI(A,t,String(e)),W0e(A)&&vI(A,t,String(e)),P(T,A,C.localize,O);if(I.match(Rve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return A}).join("");return k}function Nve(e){var t=e.match(Ive);return t?t[1].replace(Mve,"'"):e}function Pve(e){ze(1,arguments);var t=sn(e);return Xe(t*1e3)}function Dve(e){ze(1,arguments);var t=Xe(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Lve(e){ze(1,arguments);var t=Xe(e),n=t.getMonth();return n}function Fve(e){ze(1,arguments);var t=Xe(e),n=t.getTime();return n}function jve(e){return ze(1,arguments),Math.floor(Fve(e)/1e3)}function _I(e){return ze(1,arguments),Xe(e).getFullYear()}function jje(e,t,n){var r;ze(1,arguments);var i;return n=t,new Intl.DateTimeFormat((r=n)===null||r===void 0?void 0:r.locale,i).format(e)}function Bje(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()>r.getTime()}function Uje(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()<r.getTime()}function qje(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()===r.getTime()}function zje(e,t,n){ze(2,arguments);var r=H1(e,n),i=H1(t,n);return r.getTime()===i.getTime()}function Gje(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Bve(e,t){ze(2,arguments);var n=Xe(e),r=Xe(t);return n.getFullYear()===r.getFullYear()}function Uve(e){return ze(1,arguments),Bve(e,Date.now())}function qve(e){return ze(1,arguments),IG(e,Date.now())}function zve(e){return ze(1,arguments),IG(e,R0(Date.now(),1))}function Hje(e,t){ze(2,arguments);var n=sn(t);return R0(e,-n)}function Vje(e,t){var n;ze(1,arguments);var r=sn((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=$ve(e),s;if(i.date){var o=Wve(i.date,r);s=Kve(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(i.time&&(l=Yve(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=Zve(i.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+l+c)}var nm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Gve=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Hve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Vve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $ve(e){var t={},n=e.split(nm.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],nm.timeZoneDelimiter.test(t.date)&&(t.date=e.split(nm.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=nm.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function Wve(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function Kve(e,t){if(t===null)return new Date(NaN);var n=e.match(Gve);if(!n)return new Date(NaN);var r=!!n[4],i=Qd(n[1]),s=Qd(n[2])-1,o=Qd(n[3]),a=Qd(n[4]),l=Qd(n[5])-1;if(r)return t_e(t,a,l)?Jve(t,a,l):new Date(NaN);var c=new Date(0);return!Xve(t,s,o)||!e_e(t,i)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(i,o)),c)}function Qd(e){return e?parseInt(e):1}function Yve(e){var t=e.match(Hve);if(!t)return NaN;var n=Cb(t[1]),r=Cb(t[2]),i=Cb(t[3]);return n_e(n,r,i)?n*AG+r*B9+i*1e3:NaN}function Cb(e){return e&&parseFloat(e.replace(",","."))||0}function Zve(e){if(e==="Z")return 0;var t=e.match(Vve);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return r_e(r,i)?n*(r*AG+i*B9):NaN}function Jve(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var Qve=[31,null,31,30,31,30,31,31,30,31,30,31];function DG(e){return e%400===0||e%4===0&&e%100!==0}function Xve(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Qve[t]||(DG(e)?29:28))}function e_e(e,t){return t>=1&&t<=(DG(e)?366:365)}function t_e(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function n_e(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function r_e(e,t){return t>=0&&t<=59}function i_e(e,t){ze(2,arguments);var n=Xe(e),r=sn(t),i=n.getFullYear(),s=n.getDate(),o=new Date(0);o.setFullYear(i,r,15),o.setHours(0,0,0,0);var a=Dve(o);return n.setMonth(r,Math.min(s,a)),n}function Hm(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hm=function(n){return typeof n}:Hm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Hm(e)}function $je(e,t){if(ze(2,arguments),Hm(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Xe(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=i_e(n,t.month)),t.date!=null&&n.setDate(sn(t.date)),t.hours!=null&&n.setHours(sn(t.hours)),t.minutes!=null&&n.setMinutes(sn(t.minutes)),t.seconds!=null&&n.setSeconds(sn(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(sn(t.milliseconds)),n)}function Wje(e,t){ze(2,arguments);var n=sn(t);return kG(e,-n)}function Kje(e,t){ze(2,arguments);var n=sn(t);return OG(e,-n)}function Yje(e,t){ze(2,arguments);var n=sn(t);return E0e(e,-n)}const s_e=3,o_e=3;function a_e(e){return Wt(e,"1092897457",{disableExposureLog:!0}).get("is_tatertot_enabled",!0)?We(e,"3240576626"):!1}function l_e(e){return e?new Date>R0(e,s_e):!0}function Zje(e){const[t,n]=b0e(qt.TatertotInContextUpsellBannerV2,null,l=>l!=null&&typeof l=="object"&&typeof l.messageId=="string"&&typeof l.lastSeenAt=="number"&&typeof l.interacted=="boolean"&&typeof l.viewCount=="number"),r=We(me(),"3240576626"),i=t?Pve(t.lastSeenAt):null,s=t?t.viewCount??0:0;return{canBeSeen:e!==""&&(!t||s<=o_e&&(l_e(i)||t.messageId===e&&t.interacted===!1))&&r,markSeen:l=>{const c={messageId:e,lastSeenAt:jve(new Date),interacted:l,viewCount:(t?t.viewCount:0)+(l?0:1)};Cn.count(gn.TATERTOT,"tatertot_upsell_banner_shown"),n(c),localStorage.setItem(qt.TatertotInContextUpsellBannerV2,JSON.stringify(c))}}}const c_e="o4-mini",$u=({chunk:e,href:t})=>g.jsx("a",{href:t,target:"_blank",className:"underline",rel:"noreferrer",children:e}),ne=Ot({modelsTitle:{id:"t+hUfA",defaultMessage:"Models"},modelsDescription:{id:"zFj9MF",defaultMessage:"Manage access to models for members"},gpt5ThinkingDescription:{id:"eqYr0u",defaultMessage:"Thinks longer for better answers. If enabled, GPT-5 Auto will be able to switch to Thinking for responses when needed."},gpt5ThinkingProDescription:{id:"AmHfHH",defaultMessage:"Research-grade intelligence."},gpt5ThinkingMiniDescription:{id:"1H7DaL",defaultMessage:"Thinks quickly. If enabled, GPT-5 Auto will be able to switch to Thinking Mini for responses when needed."},legacyModelsTitle:{id:"5MXz0X",defaultMessage:"Enable legacy models"},legacyModelsDescription:{id:"83N6uo",defaultMessage:"Allow members to use legacy models. This is a global setting for the workspace."},additionalModelsTitle:{id:"2ljqlu",defaultMessage:"Enable additional models"},additionalModelsDescription:{id:"DDljrd",defaultMessage:"Allow members to use additional models."},gpt41Description:{id:"J2sMy+",defaultMessage:"Great for quick coding and analysis."},gptO3Description:{id:"sG0ZYa",defaultMessage:"A powerful engine for complex, multi-step analysis."},gptO4MiniDescription:{id:"kH5Wky",defaultMessage:"Fast, cost-efficient reasoning for code, math and visual tasks."},imageGenTitle:{id:"iPlNq5",defaultMessage:"Image generation"},imageGenDescription:{id:"6NZOo3",defaultMessage:"Allows users create AI-generated images inside ChatGPT."},webSearchTitle:{id:"Qzwh18",defaultMessage:"Web search"},webSearchDescription:{id:"2MpcaO",defaultMessage:"Manage whether ChatGPT and GPTs created in this workspace can browse the internet. When enabled, it may send search queries and general location information to Bing, but this data is not linked to or associated with user accounts. This does not apply to third-party GPTs. <link>Learn more</link>"},webSearchDescriptionOfflineOnly:{id:"exxzV0",defaultMessage:"ChatGPT web search may send queries to third-party search providers based on your inputs to ChatGPT. You should ensure your use of ChatGPT search complies with your obligations under HIPAA."},codexTitle:{id:"Tpse/7",defaultMessage:"Allow members to use Codex"},codexDescription:{id:"jVlxKv",defaultMessage:"Manage whether members can use Codex."},codexCliTitle:{id:"wdPl2u",defaultMessage:"Allow members to use Codex CLI and IDE Extension"},codexCliDescription:{id:"e5oEdc",defaultMessage:"Manage whether members can use Codex CLI and IDE Extension."},codexAgentNetworkTitle:{id:"+0TP+Y",defaultMessage:"Allow Codex agent to access the internet"},codexAgentNetworkDescription:{id:"ObRZ8h",defaultMessage:"Allows environments to be created with agent internet access enabled."},disabledReasonGithub:{id:"HNofTP",defaultMessage:"Disabled because there's no active GitHub connector."},recordTitle:{id:"AXkmJg",defaultMessage:"Record"},recordDescription:{id:"l0y0CK",defaultMessage:"Manage whether users can use ChatGPT to record, transcribe, and summarize longform audio. Recordings will be used solely for transcription purposes and will not be stored by OpenAI. <link>Learn more</link>"},recordReferencePastTranscriptsTitle:{id:"ZsmGaz",defaultMessage:"Allow ChatGPT to reference past notes and transcripts"},recordReferencePastTranscriptsDescription:{id:"OlM3tz",defaultMessage:"Allow members to reference past notes and transcripts in ChatGPT Record."},deepResearchTitle:{id:"xd3kLo",defaultMessage:"Deep research"},deepResearchDescription:{id:"b5K/+B",defaultMessage:"Lets users run in-depth research with web-connected and multi-step reasoning tools."},advanceVoiceTitle:{id:"BBl2PG",defaultMessage:"Advanced voice capabilities"},advanceVoiceDescription:{id:"Tfn5Vm",defaultMessage:"Enables real-time voice interaction with AI, including speech recognition and lifelike responses."},gptSectionTitle:{id:"lDlJlK",defaultMessage:"GPTs"},gptSectionDescription:{id:"MMDdKL",defaultMessage:"Choose which GPT access this role has"},gptCrudTitle:{id:"ySiNVL",defaultMessage:"Create and manage GPTs"},gptCrudDescription:{id:"aCMqKu",defaultMessage:"Allow members to create and manage GPTs"},gptShareWorkspaceTitle:{id:"arwdQz",defaultMessage:"Publish GPTs to workspace"},gptShareWorkspaceDescription:{id:"O0HyJZ",defaultMessage:"Allow members to publish GPTs they own to the workspace GPT Store"},gptShareExternalTitle:{id:"zl4S+n",defaultMessage:"Publish GPTs externally"},gptShareExternalDescription:{id:"wXPceF",defaultMessage:"Controls ability to share with others outside the org (via email or link)"},gptAllowAllThirdPartyTitle:{id:"ZYlBcx",defaultMessage:"Allow all third party GPTs"},gptAllowAllThirdPartyDescription:{id:"NVpEpJ",defaultMessage:"If enabled, user will have access to all 3P GPTs"},gptAllowSpecificThirdPartyTitle:{id:"7oaevm",defaultMessage:"Allow owner-approved GPTs only"},gptAllowSpecificThirdPartyDescription:{id:"ubkAtB",defaultMessage:"If enabled, user will have access to approved 3P GPTs"},projectSectionTitle:{id:"muqJOY",defaultMessage:"Projects"},projectSectionDescription:{id:"oDGRtQ",defaultMessage:"Choose which project access this role has"},projectCrudTitle:{id:"PDOJ0T",defaultMessage:"Create and manage projects"},projectCrudDescription:{id:"MfPKqd",defaultMessage:"Allow members to create and manage projects"},sharingTitle:{id:"8DIoJe",defaultMessage:"Sharing"},memoryTitle:{id:"h6Ufv3",defaultMessage:"Memory"},memoryDescription:{id:"NpeSvG",defaultMessage:"Manage whether members can enable memory. This allows ChatGPT to become more helpful by remembering details and preferences across chats. <link>Learn more</link>"},canvasCodeExecutionTitle:{id:"sB8WQp",defaultMessage:"Canvas code execution"},canvasCodeExecutionDescription:{id:"kkkA1m",defaultMessage:"Allow members to run code snippets within the canvas."},canvasCodeNetworkAccessTitle:{id:"L5mfFJ",defaultMessage:"Canvas code network access"},canvasCodeNetworkAccessDescription:{id:"OF7Jbc",defaultMessage:"Allow members to execute code with network access within the canvas."},videoScreenSharingTitle:{id:"GSzhi0",defaultMessage:"Allow members to share their screen or video while using voice mode"},videoScreenSharingDescription:{id:"WZkcdj",defaultMessage:"Allow members to share their screen or video while using voice mode"},canvasTitle:{id:"OuhDUU",defaultMessage:"Canvas"},searchTitle:{id:"rY8bdY",defaultMessage:"Search"},voiceTitle:{id:"e83f8K",defaultMessage:"Voice"},codex:{id:"aOXMaL",defaultMessage:"Codex"},recordAccessTitle:{id:"fso8vg",defaultMessage:"Allow members to use ChatGPT record."},appsTitle:{id:"DeAoJ2",defaultMessage:"Apps"},shareChatWithWorkspaceTitle:{id:"kKfDOF",defaultMessage:"Members can share chats with workspace."},shareChatTitle:{id:"x8jgoP",defaultMessage:"Allow members to share a chat or canvas with..."},shareChatProjectTitle:{id:"LQ2EVd",defaultMessage:"Allow members to share a chat, canvas, or project with..."},memoryAccessTitle:{id:"EVIMwx",defaultMessage:"Allow members to use memory"},chatRetentionPolicyTitle:{id:"HOkfAn",defaultMessage:"Chat retention policy"},chatRetentionPolicyDescription:{id:"b5pfhv",defaultMessage:"Contact your account manager to change this setting."},githubConnectorDescription:{id:"bN9L7e",defaultMessage:"Codex requires the GitHub connector.{br}You can enable or disable it in <settingsLink>Connector Settings</settingsLink>"},workWithAppsTitle:{id:"GDQEgW",defaultMessage:"Allow work with apps"},workWithAppsDescription:{id:"tZymPd",defaultMessage:"Control whether users in this workspace can enable ChatGPT to work with apps. This allows ChatGPT to read and edit the content of specific apps on their desktop to provide better responses. <link>Learn more</link>"},appleIntelligenceTitle:{id:"b5tisR",defaultMessage:"Allow members to link Apple Intelligence"},appleIntelligenceDescription:{id:"b2Jsop",defaultMessage:"Manage whether members can link with Apple Intelligence."},appleIntelligenceMDMTitle:{id:"0wNa7q",defaultMessage:"Apple Intelligence MDM"},appleIntelligenceMDMDescription:{id:"ZgxOdq",defaultMessage:"Only allow linking this workspace with Apple Intelligence on MDM managed devices."},imageGenSectionTitle:{id:"fKZG6M",defaultMessage:"Images"},mdmSectionTitle:{id:"jh/ICj",defaultMessage:"MDM"},mdmDisableCopyPasteTitle:{id:"iby11U",defaultMessage:"Disable copy and paste"},mdmDisableFileUploadTitle:{id:"4Mdk8I",defaultMessage:"Disable file upload"},mdmDisableFileDownloadTitle:{id:"S75iuY",defaultMessage:"Disable file download"},mdmRequirePinUnlockTitle:{id:"DAUS4M",defaultMessage:"Require PIN unlock"},mdmRequireBiometricUnlockTitle:{id:"8rpAr5",defaultMessage:"Require biometric unlock"},agentModeTitle:{id:"t4P9Ws",defaultMessage:"Agent mode"},agentModeDescription:{id:"rE0L/V",defaultMessage:"Allow members to use agent mode. <link>Learn more</link>"},agentModeDisabledReason:{id:"/E6A5q",defaultMessage:"Agent mode is disabled because Web search is not enabled."},deepResearchDisabledReason:{id:"QvYF92",defaultMessage:"Deep research is disabled because Web search is not enabled."},connectedDataSectionTitle:{id:"QE+kpm",defaultMessage:"Connected data"},createMcpConnectorTitle:{id:"g4npER",defaultMessage:"Create custom MCP connectors"},connectorRoleTitle:{id:"jeAMAA",defaultMessage:"Allow members to use connectors"}});var Ic=(e=>(e.GPT5ThinkingAccess="chatgpt.workspace.model.GPT-5-reasoning.access",e.GPT5ThinkingProAccess="chatgpt.workspace.model.GPT-5-pro.access",e.GPT5ThinkingMiniAccess="chatgpt.workspace.model.GPT-5-reasoning-mini.access",e.GPT41Access="chatgpt.workspace.model.GPT-4.1.access",e.GPT45Access="chatgpt.workspace.model.GPT-4.5.access",e.GPTO3Access="chatgpt.workspace.model.o3.access",e.GPTO3ProAccess="chatgpt.workspace.model.o3-pro.access",e.GPTO4MiniAccess="chatgpt.workspace.model.o4-mini.access",e.GPTO4MiniHighAccess="chatgpt.workspace.model.o4-mini-high.access",e.CrudGPT="chatgpt.workspace.gpt.crud",e.ShareWorkspaceGPT="chatgpt.workspace.gpt.share_workspace",e.ShareExternalGPT="chatgpt.workspace.gpt.share_external",e.AllowAllThirdPartyGPT="chatgpt.workspace.gpt.allow_all_third_party",e.AllowSpecificThirdPartyGPT="chatgpt.workspace.gpt.allow_specific_third_party",e.CrudProject="chatgpt.workspace.project.crud",e.ShareChatWithWorkspace="chatgpt.workspace.feature.share-chat-with-workspace.access",e.AllowCodexAccess="chatgpt.workspace.feature.allow-codex-access.access",e.AllowCodexLocalAccess="chatgpt.workspace.feature.allow-codex-local-access.access",e.CodexAgentNetworkAccess="chatgpt.workspace.feature.codex-agent-network-access.access",e.ImageGenAccess="chatgpt.workspace.feature.image-gen.access",e.SearchAccess="chatgpt.workspace.feature.search.access",e.DeepResearchAccess="chatgpt.workspace.feature.deep-research.access",e.VoiceAccess="chatgpt.workspace.feature.voice.access",e.HiveAccess="chatgpt.workspace.feature.hive.access",e.HiveKnowledgeRetrievalAccess="chatgpt.workspace.feature.hive-knowledge-retrieval.access",e.MemoryAccess="chatgpt.workspace.feature.memory.access",e.CanvasCodeExecutionAccess="chatgpt.workspace.feature.canvas-code-execution.access",e.CanvasCodeNetworkAccess="chatgpt.workspace.feature.canvas-code-network-access.access",e.VideoScreenSharingAccess="chatgpt.workspace.feature.video-screen-sharing.access",e.AppPairingAccess="chatgpt.workspace.feature.app-pairing.access",e.ClientApplicationAppleAccess="chatgpt.workspace.feature.client-application-apple.access",e.AgentModeAccess="chatgpt.workspace.feature.agent-mode.access",e.CreateMcpConnector="chatgpt.workspace.connector.mcp.create",e.UseConnector="chatgpt.workspace_connector.use",e))(Ic||{});const u_e=({isRbacEnabled:e,isSharedProjectsEnabled:t,includeBetaSettingsAdvanced:n})=>({title:ne.sharingTitle,entries:[...n&&e?[{rbac:!0,title:ne.shareChatWithWorkspaceTitle,permissionName:"chatgpt.workspace.feature.share-chat-with-workspace.access"}]:[{rbac:!1,title:t?ne.shareChatProjectTitle:ne.shareChatTitle,settingName:"share_chat"}]]}),d_e=()=>({title:ne.memoryTitle,availableForQuorum:!0,entries:[{rbac:!1,title:ne.memoryAccessTitle,description:ne.memoryDescription,descriptionValues:{link:e=>g.jsx($u,{chunk:e,href:"https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq"})},settingName:"memory_access"},{rbac:!1,title:ne.chatRetentionPolicyTitle,description:ne.chatRetentionPolicyDescription,settingName:"rentention_policy"}]}),f_e=({isRbacEnabled:e,includeBetaSettingsAdvanced:t})=>({title:ne.canvasTitle,availableForQuorum:!0,entries:e&&t?[{rbac:!0,title:ne.canvasCodeExecutionTitle,description:ne.canvasCodeExecutionDescription,permissionName:"chatgpt.workspace.feature.canvas-code-execution.access"},{rbac:!0,title:ne.canvasCodeNetworkAccessTitle,description:ne.canvasCodeNetworkAccessDescription,permissionName:"chatgpt.workspace.feature.canvas-code-network-access.access"}]:[{rbac:!1,title:ne.canvasCodeExecutionTitle,description:ne.canvasCodeExecutionDescription,settingName:"canvas_code_execution"},{rbac:!1,title:ne.canvasCodeNetworkAccessTitle,description:ne.canvasCodeNetworkAccessDescription,settingName:"canvas_code_network_access"}]}),h_e=({isCBP:e,isRbacEnabled:t,showDeepResearchToggle:n,includeBetaSettings:r,includeFeatures:i,includeAgentMode:s,isQuorum:o,isSearchEnabled:a})=>({title:ne.searchTitle,availableForQuorum:!0,entries:[...r&&t?[{rbac:!0,title:ne.webSearchTitle,description:o?ne.webSearchDescriptionOfflineOnly:ne.webSearchDescription,descriptionValues:{link:l=>g.jsx($u,{chunk:l,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},permissionName:"chatgpt.workspace.feature.search.access"}]:[{rbac:!1,title:ne.webSearchTitle,description:o?ne.webSearchDescriptionOfflineOnly:ne.webSearchDescription,descriptionValues:{link:l=>g.jsx($u,{chunk:l,href:"https://help.openai.com/en/articles/10093903-chatgpt-search-for-enterprise-and-edu"})},settingName:"web_search"}],...n?i||!e?[{rbac:!0,title:ne.deepResearchTitle,description:ne.deepResearchDescription,permissionName:"chatgpt.workspace.feature.deep-research.access",disabled:!a,disabledReason:a?void 0:ne.deepResearchDisabledReason}]:[]:[],...s?[{rbac:!0,title:ne.agentModeTitle,description:ne.agentModeDescription,descriptionValues:{link:l=>g.jsx($u,{chunk:l,href:"https://help.openai.com/en/articles/11752874-chatgpt-agent"})},permissionName:"chatgpt.workspace.feature.agent-mode.access",disabled:!a,disabledReason:a?void 0:ne.agentModeDisabledReason}]:[]]}),p_e={title:ne.imageGenSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:ne.imageGenTitle,description:ne.imageGenDescription,permissionName:"chatgpt.workspace.feature.image-gen.access"}]},m_e=({isRbacEnabled:e,includeFeatures:t,includeBetaSettingsAdvanced:n})=>({title:ne.voiceTitle,availableForQuorum:!0,entries:[...t&&e?[{rbac:!0,title:ne.advanceVoiceTitle,description:ne.advanceVoiceDescription,permissionName:"chatgpt.workspace.feature.voice.access"}]:[],...n&&e?[{rbac:!0,title:ne.videoScreenSharingTitle,description:ne.videoScreenSharingDescription,permissionName:"chatgpt.workspace.feature.video-screen-sharing.access"}]:[{rbac:!1,title:ne.videoScreenSharingTitle,description:ne.videoScreenSharingDescription,settingName:"video_screen_sharing"}]]}),g_e=({isRbacEnabled:e,showAgentInternetAccessToggle:t,includeBetaSettings:n,githubConnectorEnabled:r,isCodexEnabledInRBACRole:i})=>{const s=!r&&!i;return{title:ne.codex,availableForQuorum:!1,entries:[{rbac:!0,title:"GitHub",description:ne.githubConnectorDescription,descriptionValues:{br:g.jsx("br",{}),settingsLink:o=>g.jsx(vh,{to:"/admin/ca",className:"underline",children:o})},permissionName:"codex_github_connector"},...n&&e?[{rbac:!0,title:ne.codexTitle,description:ne.codexDescription,permissionName:"chatgpt.workspace.feature.allow-codex-access.access",disabled:s,disabledReason:s?ne.disabledReasonGithub:void 0},{rbac:!0,title:ne.codexCliTitle,description:ne.codexCliDescription,permissionName:"chatgpt.workspace.feature.allow-codex-local-access.access"}]:[{rbac:!1,title:ne.codexTitle,description:ne.codexDescription,settingName:"codex_access"},{rbac:!1,title:ne.codexCliTitle,description:ne.codexCliDescription,settingName:"codex_local_access"}],...t?n&&e?[{rbac:!0,title:ne.codexAgentNetworkTitle,description:ne.codexAgentNetworkDescription,permissionName:"chatgpt.workspace.feature.codex-agent-network-access.access"}]:[{rbac:!1,title:ne.codexAgentNetworkTitle,description:ne.codexAgentNetworkDescription,settingName:"codex_agent_network"}]:[]]}},v_e=({isRbacEnabled:e,isInSupportedDrRegion:t,includeBetaSettings:n})=>({title:ne.recordTitle,availableForEnterprise:!0,availableForQuorum:!0,description:ne.recordDescription,descriptionValues:{link:r=>g.jsx($u,{chunk:r,href:"https://help.openai.com/en/articles/11487532"})},entries:n&&e?[{rbac:!0,title:ne.recordAccessTitle,permissionName:"chatgpt.workspace.feature.hive.access"},...t?[{rbac:!0,title:ne.recordReferencePastTranscriptsTitle,description:ne.recordReferencePastTranscriptsDescription,permissionName:"chatgpt.workspace.feature.hive-knowledge-retrieval.access"}]:[]]:[{rbac:!1,title:ne.recordAccessTitle,settingName:"record_access"},...t?[{rbac:!1,title:ne.recordReferencePastTranscriptsTitle,description:ne.recordReferencePastTranscriptsDescription,settingName:"record_reference_past_transcripts"}]:[]]}),__e=({isAppleIntelligenceToggleEnabled:e,isAppleIntelligenceMdmToggleEnabled:t})=>({title:ne.appsTitle,availableForQuorum:!0,entries:[{rbac:!1,title:ne.workWithAppsTitle,description:ne.workWithAppsDescription,descriptionValues:{link:n=>g.jsx($u,{chunk:n,href:"https://help.openai.com/en/articles/10119604-work-with-apps-on-macos"})},settingName:"apps_access"},...e?[{rbac:!1,title:ne.appleIntelligenceTitle,description:ne.appleIntelligenceDescription,settingName:"apple_intelligence_access"}]:[],...e&&t?[{rbac:!1,title:ne.appleIntelligenceMDMTitle,description:ne.appleIntelligenceMDMDescription,settingName:"apple_intelligence_mdm_access"}]:[]]}),y_e=({isRbacEnabled:e,includeModels:t,legacyModelsEnabled:n,isEnterprisey:r,includeThinkingMini:i})=>({title:ne.modelsTitle,availableForEnterprise:!0,availableForQuorum:!0,description:ne.modelsDescription,entries:[...i&&e?[{rbac:!0,title:"GPT-5 Thinking Mini",description:ne.gpt5ThinkingMiniDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning-mini.access"}]:[],...t&&e?[{rbac:!0,title:"GPT-5 Thinking",description:ne.gpt5ThinkingDescription,permissionName:"chatgpt.workspace.model.GPT-5-reasoning.access"},{rbac:!0,title:"GPT-5 Pro",description:ne.gpt5ThinkingProDescription,permissionName:"chatgpt.workspace.model.GPT-5-pro.access"}]:[],...r?[{rbac:!1,title:ne.legacyModelsTitle,description:ne.legacyModelsDescription,settingName:"legacy_models"}]:[{rbac:!1,title:ne.additionalModelsTitle,description:ne.additionalModelsDescription,settingName:"legacy_models"}],...t&&e&&n?[{rbac:!0,title:"GPT-4.1",description:ne.gpt41Description,permissionName:"chatgpt.workspace.model.GPT-4.1.access"},{rbac:!0,title:"o3",description:ne.gptO3Description,permissionName:"chatgpt.workspace.model.o3.access"},{rbac:!0,title:"o4-mini",description:ne.gptO4MiniDescription,permissionName:"chatgpt.workspace.model.o4-mini.access"}]:[]]}),b_e=()=>({title:ne.gptSectionTitle,availableForQuorum:!0,description:ne.gptSectionDescription,entries:[{rbac:!0,title:ne.gptCrudTitle,description:ne.gptCrudDescription,permissionName:"chatgpt.workspace.gpt.crud"},{rbac:!0,title:ne.gptShareWorkspaceTitle,description:ne.gptShareWorkspaceDescription,permissionName:"chatgpt.workspace.gpt.share_workspace"},{rbac:!0,disabledForQuorum:!0,title:ne.gptShareExternalTitle,description:ne.gptShareExternalDescription,permissionName:"chatgpt.workspace.gpt.share_external"},{rbac:!0,disabledForQuorum:!0,title:ne.gptAllowAllThirdPartyTitle,description:ne.gptAllowAllThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_all_third_party"},{rbac:!0,disabledForQuorum:!0,title:ne.gptAllowSpecificThirdPartyTitle,description:ne.gptAllowSpecificThirdPartyDescription,permissionName:"chatgpt.workspace.gpt.allow_specific_third_party"}]}),C_e=()=>({title:ne.projectSectionTitle,availableForQuorum:!0,description:ne.projectSectionDescription,entries:[{rbac:!0,title:ne.projectCrudTitle,description:ne.projectCrudDescription,permissionName:"chatgpt.workspace.project.crud"}]}),S_e={title:ne.mdmSectionTitle,entries:[{rbac:!0,title:ne.mdmDisableCopyPasteTitle,permissionName:"chatgpt.workspace.mdm.disable_copy_paste"},{rbac:!0,title:ne.mdmDisableFileUploadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.upload"},{rbac:!0,title:ne.mdmDisableFileDownloadTitle,permissionName:"chatgpt.workspace.mdm.disable_file_transfer.download"}]},w_e=()=>({title:ne.connectedDataSectionTitle,availableForQuorum:!0,entries:[{rbac:!0,title:ne.connectorRoleTitle,permissionName:"chatgpt.workspace_connector.use",nestedKey:"chatgpt.workspace_connector.use"},{rbac:!0,title:ne.createMcpConnectorTitle,permissionName:"chatgpt.workspace.connector.mcp.create"}]});function Jje({isCBP:e,isRbacEnabled:t,githubConnectorEnabled:n,isInSupportedDrRegion:r,includeFeatures:i,includeModels:s,isSharedProjectsEnabled:o,isCanvasEnabled:a,isSearchEnabled:l,isEnterprisey:c,showHiveToggle:u,showDeepResearchToggle:d,includeBetaSettings:f,includeBetaSettingsAdvanced:h,includeGizmoPermissions:m,showAgentInternetAccessToggle:v,isAppleIntelligenceToggleEnabled:_,isAppleIntelligenceMdmToggleEnabled:y,isMDMEnabled:b,includeAgentMode:C,isQuorum:S,legacyModelsEnabled:x,includeConnectorPermissions:w,includeThinkingMini:E,isCodexEnabledInRBACRole:T}){return[u_e({isRbacEnabled:t,isSharedProjectsEnabled:o,includeBetaSettingsAdvanced:h}),d_e(),...a?[f_e({isRbacEnabled:t,includeBetaSettingsAdvanced:h})]:[],h_e({isCBP:e,isRbacEnabled:t,showDeepResearchToggle:d,includeBetaSettings:f,includeFeatures:i,includeAgentMode:C,isQuorum:S,isSearchEnabled:l}),...i&&t?[p_e]:[],m_e({isRbacEnabled:t,includeFeatures:i,includeBetaSettingsAdvanced:h}),...c?[g_e({isRbacEnabled:t,showAgentInternetAccessToggle:v,includeBetaSettings:f,githubConnectorEnabled:n,isCodexEnabledInRBACRole:T})]:[],...u?[v_e({isRbacEnabled:t,isInSupportedDrRegion:r,includeBetaSettings:f})]:[],__e({isAppleIntelligenceToggleEnabled:_,isAppleIntelligenceMdmToggleEnabled:y}),y_e({isRbacEnabled:t,includeModels:s,legacyModelsEnabled:x,isEnterprisey:c,includeThinkingMini:E}),...t&&m?[b_e()]:[],...t&&m?[C_e()]:[],...t&&b?[S_e]:[],...t&&w?[w_e()]:[]]}const Qje=()=>{const e=me();return We(e,"1355972088")},Os=()=>{const e=me();return xn(e,"2826703856")},Xje=()=>Os().get("self_serve_page_enabled",!1),eBe=()=>Os().get("models_display_in_rbac_page",!1),tBe=()=>Os().get("features_display_in_rbac_page",!1),nBe=()=>Os().get("beta_settings_display_in_rbac_page",!1),rBe=()=>Os().get("beta_settings_display_in_rbac_page_advanced",!1),iBe=()=>Os().get("gpt_settings_display_in_rbac_page",!1),E_e=()=>Os().get("enable_gpt_fe_controls",!1),x_e=()=>Os().get("enable_project_fe_controls",!1),sBe=()=>Os().get("enable_combined_rbac_page",!1),oBe=()=>{const e=me();return We(e,"1277555238")},aBe=()=>Os().get("enable_agent_mode",!1),lBe=()=>Os().get("enable_thinking_mini",!1),cBe=()=>{const e=me();return We(e,"2401070674")},uBe="g-2fkFE8rbu",dBe={UNSET:"unset",GLOBAL:"global",PROJECT:"project",PROJECT_V2:"project_v2"};var pS=(e=>(e[e.USER=1]="USER",e[e.GROUP=2]="GROUP",e[e.WORKSPACE=3]="WORKSPACE",e[e.ALL=4]="ALL",e[e.PROJECT=5]="PROJECT",e[e.ORGANIZATION=6]="ORGANIZATION",e[e.SYSTEM=7]="SYSTEM",e[e.AGENT=8]="AGENT",e[e.EMAIL=10]="EMAIL",e))(pS||{});const k_e={can_read:!0,can_view_config:!1,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},fBe={can_read:!0,can_view_config:!0,can_write:!1,can_delete:!1,can_export:!1,can_share:!1},hBe={can_read:!0,can_view_config:!0,can_write:!0,can_delete:!1,can_export:!1,can_share:!1},ii={Private:"private",User:"user",Group:"group",WorkspaceLink:"workspace_link",Workspace:"workspace",Link:"link",Marketplace:"marketplace"};var T_e=(e=>(e.FirstParty="first_party",e.UsesFunctionCalls="uses_function_calls",e.Reportable="reportable",e.Private="private",e.Workspace="workspace",e.Public="public",e.Beta="beta",e.Pinned="pinned",e.WorkspaceDisabled="workspace_disabled",e.Unreviewable="unreviewable",e))(T_e||{});const pBe=e=>e.gizmo.tags?.includes("first_party"),mBe=e=>e.gizmo.gizmo_type!=="snorlax"&&!e.gizmo.tags?.includes("unreviewable");var Ka=(e=>(e.PROJECT="snorlax",e.GPT="gpt",e))(Ka||{}),LG=(e=>(e.FILE_SERVICE="fs",e))(LG||{});function gBe(e){return e.type===10||e.type===1||e.type===2}const yI=[1,2,3,4];function vBe(e){return e.length===0?null:e.reduce((t,n)=>yI.indexOf(n.type)<yI.indexOf(t.type)?t:n,e[0])}function _Be(e,t,n){return t=t.filter(r=>r.type===ii.User||r.type===ii.Group),e===ii.Private||e===ii.User||e===ii.Group?[{type:ii.Private,capabilities:k_e},...t]:[...t,{type:e,capabilities:n}]}class O_e{constructor(t){this.response=t}}var Nu=(e=>(e.FirstParty="first_party",e.SidebarKeep="sidebar_keep",e.Mine="mine",e.Recent="recent",e.Workspace="workspace",e))(Nu||{});const U9=e=>{const t=Cr(),n=t?.getWorkspaceId(),r=x_e(),{data:i,isLoading:s}=Vg(n);if(!t?.isWorkspaceAccount())return{hasWorkspacePermission:!0,isLoading:!1};const o=i?.permissions?.includes(e)??!1;return{hasWorkspacePermission:r?o:!0,isLoading:s}},yBe=()=>{const{hasWorkspacePermission:e,isLoading:t}=U9(Ic.CrudProject);return{canCreate:e,isLoading:t}},bBe=e=>{const{hasWorkspacePermission:t,isLoading:n}=U9(Ic.CrudProject);return{canEdit:(t&&e?.gizmo.current_user_permission?.can_write)??!1,isLoading:n}},CBe=e=>{const{hasWorkspacePermission:t,isLoading:n}=U9(Ic.CrudProject);return{canDelete:(t&&e?.gizmo.current_user_permission?.can_delete)??!1,isLoading:n}};function oo(e){return e.slice(0,4)==="g-p-"}function A_e(e){return e!=null&&!oo(e)}function SBe(e,t){return!A_e(e)&&!t}function FG(e){return oo(e.gizmo.id)}function wBe(e,t){return!(Kt.getItem(qt.TasksHasSeenProjectDisclaimerBanner)!=null)&&e===c_e&&FG(t)&&t.files.length>0}const jG=en(()=>Tt({}));function EBe({gizmo:e,user_id:t,user_email:n}){return e.gizmo.author.user_id===t?!0:e.gizmo.sharing.subjects.some(r=>r.type===pS.USER&&r.user_id===t||r.type===pS.EMAIL&&r.user_email===n)}var Sb,bI;function I_e(){if(bI)return Sb;bI=1;function e(t){return t!==t}return Sb=e,Sb}var wb,CI;function M_e(){if(CI)return wb;CI=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return wb=e,wb}var Eb,SI;function R_e(){if(SI)return Eb;SI=1;var e=FB(),t=I_e(),n=M_e();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return Eb=r,Eb}var xb,wI;function N_e(){if(wI)return xb;wI=1;var e=R_e();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return xb=t,xb}var kb,EI;function P_e(){if(EI)return kb;EI=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return kb=e,kb}var Tb,xI;function D_e(){if(xI)return Tb;xI=1;var e=rB(),t=qF(),n=vw(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return Tb=i,Tb}var Ob,kI;function L_e(){if(kI)return Ob;kI=1;var e=Wj(),t=N_e(),n=P_e(),r=Kj(),i=D_e(),s=vw(),o=200;function a(l,c,u){var d=-1,f=t,h=l.length,m=!0,v=[],_=v;if(u)m=!1,f=n;else if(h>=o){var y=c?null:i(l);if(y)return s(y);m=!1,f=r,_=new e}else _=c?[]:v;e:for(;++d<h;){var b=l[d],C=c?c(b):b;if(b=u||b!==0?b:0,m&&C===C){for(var S=_.length;S--;)if(_[S]===C)continue e;c&&_.push(C),v.push(b)}else f(_,C,u)||(_!==v&&_.push(C),v.push(b))}return v}return Ob=a,Ob}var Ab,TI;function F_e(){if(TI)return Ab;TI=1;var e=L_e();function t(n){return n&&n.length?e(n):[]}return Ab=t,Ab}var j_e=F_e();const B_e=_n(j_e),U_e="hints",q_e="system_hints";function mS(e){const t=[U_e,q_e].flatMap(n=>e.getAll(n)).flatMap(n=>n.split(",")).flatMap(n=>{const r=Nre(n);return r?[r]:[]});return B_e(t)}var gS=(e=>(e.Hover="hover",e.Enable="enable",e.Disable="disable",e))(gS||{});const z_e=new Map([[ve.Search,{hover:["Composer Search Button Hovered","composer_search_button_hovered"],enable:["Composer Search Button Clicked","composer_search_button_clicked"],disable:["Composer Search Button Clicked","composer_search_button_clicked"]}],[ve.Think,{hover:["Composer Think Button Hovered","composer_think_button_hovered"],enable:["Composer Think Button Enabled","composer_think_button_enabled"],disable:["Composer Think Button Disabled","composer_think_button_disabled"]}],[ve.Research,{hover:["Composer Research Button Hovered","composer_research_button_hovered"],enable:["Composer Research Button Enabled","composer_research_button_enabled"],disable:["Composer Research Button Disabled","composer_research_button_disabled"]}],[ve.Agent,{hover:["Composer Agent System Hint Button Hovered","composer_agent_system_hint_button_hovered"],enable:["Composer Agent System Hint Button Enabled","composer_agent_system_hint_button_enabled"],disable:["Composer Agent System Hint Button Disabled","composer_agent_system_hint_button_disabled"]}],[ve.PictureV2,{hover:["Composer Create Image Button Hovered","composer_create_image_button_hovered"],enable:["Composer Create Image Button Enabled","composer_create_image_button_enabled"],disable:["Composer Create Image Button Disabled","composer_create_image_button_disabled"]}],[ve.Slurm,{hover:["Composer Slurm Button Hovered","composer_slurm_button_hovered"],enable:["Composer Slurm Button Enabled","composer_slurm_button_enabled"],disable:["Composer Slurm Button Disabled","composer_slurm_button_disabled"]}]]);function OI(e,t,n){const[r,i]=z_e.get(e)?.[t]??[];r&&i&&K.logEventWithStatsig(r,i,n)}const G_e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.3227 1.62663C11.1514 1.62663 11.9182 2.066 12.3373 2.78092L13.1586 4.18131L13.2123 4.25065C13.2735 4.31105 13.3565 4.34658 13.4448 4.34733L15.06 4.36002L15.2143 4.36686C15.9825 4.4239 16.6774 4.85747 17.0649 5.53092L17.393 6.10221L17.4662 6.23795C17.7814 6.88041 17.7842 7.63306 17.4741 8.27799L17.4028 8.41373L16.6 9.83561C16.5426 9.93768 16.5425 10.0627 16.6 10.1647L17.4028 11.5856L17.4741 11.7223C17.7841 12.3673 17.7815 13.1199 17.4662 13.7624L17.393 13.8981L17.0649 14.4694C16.6774 15.1427 15.9824 15.5764 15.2143 15.6335L15.06 15.6393L13.4448 15.653C13.3565 15.6537 13.2736 15.6892 13.2123 15.7497L13.1586 15.818L12.3373 17.2194C11.9182 17.9342 11.1513 18.3737 10.3227 18.3737H9.6762C8.8995 18.3735 8.17705 17.9874 7.74456 17.3503L7.66253 17.2194L6.84124 15.818C6.79652 15.7418 6.72408 15.6876 6.64105 15.6647L6.55511 15.653L4.93987 15.6393C4.16288 15.633 3.44339 15.2413 3.01605 14.6003L2.93499 14.4694L2.60687 13.8981C2.19555 13.1831 2.1916 12.3039 2.5971 11.5856L3.39886 10.1647L3.43206 10.0846C3.44649 10.0293 3.44644 9.97102 3.43206 9.91569L3.39886 9.83561L2.5971 8.41373C2.19175 7.6955 2.19562 6.8171 2.60687 6.10221L2.93499 5.53092L3.01605 5.40006C3.44337 4.75894 4.1628 4.36636 4.93987 4.36002L6.55511 4.34733L6.64105 4.33561C6.72418 4.31275 6.79651 4.25762 6.84124 4.18131L7.66253 2.78092L7.74456 2.65006C8.17704 2.01277 8.89941 1.62678 9.6762 1.62663H10.3227ZM9.6762 2.9567C9.36439 2.95685 9.07299 3.10138 8.88421 3.34342L8.80999 3.45377L7.9887 4.85416C7.72933 5.29669 7.28288 5.59093 6.78265 5.6608L6.56585 5.67741L4.95062 5.6901C4.63868 5.69265 4.34845 5.84001 4.16155 6.08366L4.08733 6.19401L3.75921 6.7653C3.58227 7.073 3.5808 7.45131 3.7553 7.76041L4.55706 9.18131L4.65179 9.37663C4.81309 9.77605 4.81294 10.2232 4.65179 10.6227L4.55706 10.819L3.7553 12.2399C3.58083 12.549 3.5822 12.9273 3.75921 13.235L4.08733 13.8053L4.16155 13.9157C4.34844 14.1596 4.6385 14.3067 4.95062 14.3092L6.56585 14.3229L6.78265 14.3385C7.28292 14.4084 7.72931 14.7036 7.9887 15.1462L8.80999 16.5465L8.88421 16.6559C9.07298 16.8982 9.36422 17.0435 9.6762 17.0436H10.3227C10.6793 17.0436 11.0095 16.8542 11.1899 16.5465L12.0112 15.1462L12.1332 14.9655C12.4432 14.5668 12.9212 14.3271 13.434 14.3229L15.0492 14.3092L15.1811 14.2995C15.4854 14.2567 15.7569 14.076 15.9125 13.8053L16.2407 13.235L16.2983 13.1169C16.3983 12.8745 16.3999 12.6023 16.3022 12.359L16.2446 12.2399L15.4418 10.819C15.1551 10.311 15.1551 9.6893 15.4418 9.18131L16.2446 7.76041L16.3022 7.64127C16.4 7.39806 16.3982 7.12584 16.2983 6.88346L16.2407 6.7653L15.9125 6.19401C15.7568 5.92338 15.4855 5.74264 15.1811 5.69987L15.0492 5.6901L13.434 5.67741C12.9212 5.67322 12.4432 5.43341 12.1332 5.03483L12.0112 4.85416L11.1899 3.45377C11.0095 3.14604 10.6794 2.9567 10.3227 2.9567H9.6762ZM11.5854 9.99967C11.5852 9.12461 10.8755 8.41497 10.0004 8.41471C9.12516 8.41471 8.41466 9.12445 8.41448 9.99967C8.41448 10.875 9.12505 11.5846 10.0004 11.5846C10.8756 11.5844 11.5854 10.8749 11.5854 9.99967ZM12.9145 9.99967C12.9145 11.6094 11.6101 12.9145 10.0004 12.9147C8.39051 12.9147 7.08538 11.6096 7.08538 9.99967C7.08556 8.38991 8.39062 7.08463 10.0004 7.08463C11.61 7.08489 12.9143 8.39007 12.9145 9.99967Z"})),H_e=({icon:e,title:t,description:n,statusIndicator:r,showGitHubConfigure:i})=>{const s=Bde("installations/select_target");return g.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[g.jsxs("div",{className:"me-4 flex items-center gap-3 text-start text-sm",children:[e,n?g.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[t,g.jsx("div",{className:"text-token-text-secondary text-xs",children:n})]}):t]}),i&&g.jsx(Vt,{onClick:()=>{window.open(s,"_blank")},color:"secondary",size:"small",children:g.jsx(G_e,{className:"icon-sm"})}),r]})};function xBe(e,t){const n=p.useRef(e);p.useEffect(()=>{n.current=e},[e]),p.useEffect(()=>{function r(){n.current()}if(t!=null){const i=window.setInterval(r,t);return()=>clearInterval(i)}},[t])}var Vm={exports:{}},V_e=Vm.exports,AI;function $_e(){return AI||(AI=1,function(e){(function(t,n,r){function i(l){var c=this,u=a();c.next=function(){var d=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=d-(c.c=d|0)},c.c=1,c.s0=u(" "),c.s1=u(" "),c.s2=u(" "),c.s0-=u(l),c.s0<0&&(c.s0+=1),c.s1-=u(l),c.s1<0&&(c.s1+=1),c.s2-=u(l),c.s2<0&&(c.s2+=1),u=null}function s(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var u=new i(l),d=c&&c.state,f=u.next;return f.int32=function(){return u.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&s(d,u),f.state=function(){return s(u,{})}),f}function a(){var l=4022871197,c=function(u){u=String(u);for(var d=0;d<u.length;d++){l+=u.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=o:this.alea=o})(V_e,e)}(Vm)),Vm.exports}var $m={exports:{}},W_e=$m.exports,II;function K_e(){return II||(II=1,function(e){(function(t,n,r){function i(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.xor128=o})(W_e,e)}($m)),$m.exports}var Wm={exports:{}},Y_e=Wm.exports,MI;function Z_e(){return MI||(MI=1,function(e){(function(t,n,r){function i(a){var l=this,c="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var u=0;u<c.length+64;u++)l.x^=c.charCodeAt(u)|0,u==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.xorwow=o})(Y_e,e)}(Wm)),Wm.exports}var Km={exports:{}},J_e=Km.exports,RI;function Q_e(){return RI||(RI=1,function(e){(function(t,n,r){function i(a){var l=this;l.next=function(){var u=l.x,d=l.i,f,h;return f=u[d],f^=f>>>7,h=f^f<<24,f=u[d+1&7],h^=f^f>>>10,f=u[d+3&7],h^=f^f>>>3,f=u[d+4&7],h^=f^f<<7,f=u[d+7&7],f=f^f<<13,h^=f^f<<9,u[d]=h,l.i=d+1&7,h};function c(u,d){var f,h=[];if(d===(d|0))h[0]=d;else for(d=""+d,f=0;f<d.length;++f)h[f&7]=h[f&7]<<15^d.charCodeAt(f)+h[f+1&7]<<13;for(;h.length<8;)h.push(0);for(f=0;f<8&&h[f]===0;++f);for(f==8?h[7]=-1:h[f],u.x=h,u.i=0,f=256;f>0;--f)u.next()}c(l,a)}function s(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.x&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.xorshift7=o})(J_e,e)}(Km)),Km.exports}var Ym={exports:{}},X_e=Ym.exports,NI;function eye(){return NI||(NI=1,function(e){(function(t,n,r){function i(a){var l=this;l.next=function(){var u=l.w,d=l.X,f=l.i,h,m;return l.w=u=u+1640531527|0,m=d[f+34&127],h=d[f=f+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,m=d[f]=m^h,l.i=f,m+(u^u>>>16)|0};function c(u,d){var f,h,m,v,_,y=[],b=128;for(d===(d|0)?(h=d,d=null):(d=d+"\0",h=0,b=Math.max(b,d.length)),m=0,v=-32;v<b;++v)d&&(h^=d.charCodeAt((v+32)%d.length)),v===0&&(_=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,v>=0&&(_=_+1640531527|0,f=y[v&127]^=h+_,m=f==0?m+1:0);for(m>=128&&(y[(d&&d.length||0)&127]=-1),m=127,v=4*128;v>0;--v)h=y[m+34&127],f=y[m=m+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,y[m]=h^f;u.w=_,u.X=y,u.i=m}c(l,a)}function s(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(u.X&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.xor4096=o})(X_e,e)}(Ym)),Ym.exports}var Zm={exports:{}},tye=Zm.exports,PI;function nye(){return PI||(PI=1,function(e){(function(t,n,r){function i(a){var l=this,c="";l.next=function(){var d=l.b,f=l.c,h=l.d,m=l.a;return d=d<<25^d>>>7^f,f=f-h|0,h=h<<24^h>>>8^m,m=m-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-h|0,l.d=h<<16^f>>>16^m,l.a=m-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var u=0;u<c.length+20;u++)l.b^=c.charCodeAt(u)|0,l.next()}function s(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new i(a),u=l&&l.state,d=function(){return(c.next()>>>0)/4294967296};return d.double=function(){do var f=c.next()>>>11,h=(c.next()>>>0)/4294967296,m=(f+h)/(1<<21);while(m===0);return m},d.int32=c.next,d.quick=d,u&&(typeof u=="object"&&s(u,c),d.state=function(){return s(c,{})}),d}n&&n.exports?n.exports=o:this.tychei=o})(tye,e)}(Zm)),Zm.exports}var Jm={exports:{}};const rye={},iye=Object.freeze(Object.defineProperty({__proto__:null,default:rye},Symbol.toStringTag,{value:"Module"})),sye=qY(iye);var oye=Jm.exports,DI;function aye(){return DI||(DI=1,function(e){(function(t,n,r){var i=256,s=6,o=52,a="random",l=r.pow(i,s),c=r.pow(2,o),u=c*2,d=i-1,f;function h(S,x,w){var E=[];x=x==!0?{entropy:!0}:x||{};var T=y(_(x.entropy?[S,C(n)]:S??b(),3),E),O=new m(E),k=function(){for(var A=O.g(s),I=l,P=0;A<c;)A=(A+P)*i,I*=i,P=O.g(1);for(;A>=u;)A/=2,I/=2,P>>>=1;return(A+P)/I};return k.int32=function(){return O.g(4)|0},k.quick=function(){return O.g(4)/4294967296},k.double=k,y(C(O.S),n),(x.pass||w||function(A,I,P,D){return D&&(D.S&&v(D,O),A.state=function(){return v(O,{})}),P?(r[a]=A,I):A})(k,T,"global"in x?x.global:this==r,x.state)}function m(S){var x,w=S.length,E=this,T=0,O=E.i=E.j=0,k=E.S=[];for(w||(S=[w++]);T<i;)k[T]=T++;for(T=0;T<i;T++)k[T]=k[O=d&O+S[T%w]+(x=k[T])],k[O]=x;(E.g=function(A){for(var I,P=0,D=E.i,R=E.j,F=E.S;A--;)I=F[D=d&D+1],P=P*i+F[d&(F[D]=F[R=d&R+I])+(F[R]=I)];return E.i=D,E.j=R,P})(i)}function v(S,x){return x.i=S.i,x.j=S.j,x.S=S.S.slice(),x}function _(S,x){var w=[],E=typeof S,T;if(x&&E=="object")for(T in S)try{w.push(_(S[T],x-1))}catch{}return w.length?w:E=="string"?S:S+"\0"}function y(S,x){for(var w=S+"",E,T=0;T<w.length;)x[d&T]=d&(E^=x[d&T]*19)+w.charCodeAt(T++);return C(x)}function b(){try{var S;return f&&(S=f.randomBytes)?S=S(i):(S=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(S)),C(S)}catch{var x=t.navigator,w=x&&x.plugins;return[+new Date,t,w,t.screen,C(n)]}}function C(S){return String.fromCharCode.apply(0,S)}if(y(r.random(),n),e.exports){e.exports=h;try{f=sye}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:oye,[],Math)}(Jm)),Jm.exports}var Ib,LI;function lye(){if(LI)return Ib;LI=1;var e=$_e(),t=K_e(),n=Z_e(),r=Q_e(),i=eye(),s=nye(),o=aye();return o.alea=e,o.xor128=t,o.xorwow=n,o.xorshift7=r,o.xor4096=i,o.tychei=s,Ib=o,Ib}var cye=lye();const uye=_n(cye);function dye({lines:e=1,variance:t=0,size:n="base",width:r=50,widthVariance:i=50,className:s}){const[o]=p.useState(()=>BG(e,r,i,t));let a="";switch(n){case"sm":a="h-3 mb-2 mt-0.5";break;case"base":a="h-4 my-2";break;case"lg":a="h-5 my-2";break}return g.jsx(g.Fragment,{children:o.map((l,c)=>g.jsx("div",{className:xe("bg-token-sidebar-surface-secondary dark:bg-token-border-default relative w-full overflow-hidden rounded-md",a,s),style:{width:`${l}%`},children:g.jsx(HD.div,{className:"absolute start-0 top-0 h-full w-full rotate-45 bg-linear-to-r from-transparent via-black/20 to-transparent opacity-50 dark:via-white/5",animate:{x:["-100%","100%"],opacity:[1,0,1],transition:{repeat:1/0,repeatType:"loop",duration:1.5+c}}})},c))})}function kBe({lines:e=1,indexOffset:t=0,variance:n=0,width:r=50,widthVariance:i=50,gapFrequency:s=0,scaleUpAnimation:o,className:a,heightSize:l}){const c=p.useMemo(()=>BG(e,r,i,n),[e,n,r,i]);return g.jsx(fye,{className:a,children:c.map((u,d)=>g.jsx(pye,{index:d+t,width:u,className:xe(s>0&&(d+1)%s===0&&"mb-snc-1"),heightSize:l,customAnimation:o?{initial:{scaleX:o.initialScaleX},animate:{scaleX:1},transition:{scaleX:{duration:o.duration,ease:"easeInOut",delay:d*.07}}}:void 0},d))})}const fye=sl.div`flex flex-col items-start gap-2`,hye={sm:"h-3.5",md:"h-5",lg:"h-6"};function pye({index:e,width:t,className:n,customAnimation:r,heightSize:i="md"}){const{initial:s,animate:o,transition:a}=r??{initial:{},animate:{},transition:{}};return g.jsx(HD.div,{className:xe(hye[i],"bg-token-border-default origin-left rounded-md dark:bg-white/10",n),style:{width:`${t}%`},initial:{opacity:1,...s},animate:{opacity:[1,.4],...o},transition:{opacity:{repeat:1/0,repeatType:"reverse",duration:.85,ease:"easeInOut",delay:e*.07},...a}})}function BG(e,t,n,r){const i=uye([e,t,n,r].join("-"));return Array.from({length:e+i()*(r??0)},()=>t+i()*n)}const mye=(e,t)=>({as:r,...i})=>{const s=r||e;return t(g.jsx(s,{...i}))};let FI,Rf,An=typeof window<"u"&&window.document&&window.document.createElement?p.useLayoutEffect:p.useEffect,Pu=e=>(t,n)=>"calc("+t+" + ("+n+" - "+t+") * "+e+")",Pr=typeof window<"u"?window.navigator.userAgent:null,Eo="unknown",mn="unknown";if(typeof window<"u"&&navigator.userAgentData&&(navigator.userAgentData.brands.some(e=>e.brand==="Chromium")&&(Eo="chromium"),navigator.userAgentData.platform==="Android"&&(mn="android")),mn==="unknown"&&Pr?.match(/android/i)&&(mn="android"),Eo==="unknown"&&(Pr?.match(/Chrome/i)?Eo="chromium":Pr?.match(/Firefox/i)?Eo="gecko":Pr?.match(/Safari|iPhone/i)&&(Eo="webkit")),Eo==="webkit"){if(Pr?.match(/iPhone/i))mn="ios";else if(Pr?.match(/iPad/i))mn="ipados";else if(Pr?.match(/Macintosh/i))try{document?.createEvent("TouchEvent"),mn="ipados"}catch{mn="macos"}}var UG={};UG={mapping:{Sheet:{componentName:"a",elementNames:{root:0,view:1,backdrop:2,backdropTrap:3,primaryScrollTrapRoot:4,secondaryScrollTrapRoot:5,scrollContainer:6,frontSpacer:7,backSpacer:8,detentMarker:9,contentWrapper:10,content:11,bleedingBackground:12,stickyContainer:13,sticky:14,leftEdge:15,trigger:16,handle:17,outlet:18},variationSetsNames:{openness:"A",staging:"B",opennessClosedStatus:"C",position:"D",positionCoveredStatus:"E",placement:"F",track:"G",swipeDisabled:"H",swipeOutDisabledWithDetent:"I",swipeOvershootDisabled:"J",bleedDisabled:"K",inertOutside:"L",backdropSwipeable:"M",scrollContainerShouldBePassThrough:"N",swipeTrap:"M"},variationValuesNames:{open:"a",opening:"b",closed:"c",closing:"d",none:"e",top:"f",bottom:"g",left:"h",right:"i",horizontal:"j",vertical:"k",front:"l",covered:"m",true:"o",false:"p",auto:"q",center:"r",pending:"s","flushing-to-preparing-open":"t","flushing-to-preparing-opening":"u","preparing-open":"v","preparing-opening":"x","safe-to-unmount":"y",content:"z",root:"aa","going-down":"ab","going-up":"ac",indeterminate:"ad",idle:"ae","come-back":"af",out:"ag",stepping:"ah",both:"ai",none:"aj"}},ScrollTrap:{componentName:"b",elementNames:{root:0,stabiliser:1},variationSetsNames:{active:"A",axis:"B",automaticallyDisabledForOptimisation:"C"},variationValuesNames:{true:"a",false:"b",horizontal:"e",vertical:"f",both:"g",none:"h"}},Scroll:{componentName:"c",elementNames:{root:0,view:1,scrollContainer:2,content:3,UAScrollbarMeasurer:4,spy:5,startSpacer:6,endSpacer:7},variationSetsNames:{axis:"A",contentPlacement:"B",scrollTrapX:"C",scrollTrapY:"D",scrollGestureOvershoot:"E",scrollDisabled:"F",side:"G",pageScroll:"H",overflowX:"I",overflowY:"J",skipScrollAnimation:"K",scrollAnchoring:"L",scrollSnapType:"M",scrollPadding:"N",scrollTimelineName:"O",nativeScrollbar:"P",scrollOngoing:"Q"},variationValuesNames:{true:"a",false:"b",x:"c",y:"d",both:"e",unset:"f",contain:"g",start:"h",end:"i",center:"j",auto:"k",default:"l",none:"m",mandatoryX:"n",mandatoryY:"o",proximityX:"p",proximityY:"q"}},SlideShow:{componentName:"d",elementNames:{},variationSetsNames:{},variationValuesNames:{}},VisuallyHidden:{componentName:"e",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SpecialWrapper:{componentName:"f",elementNames:{root:0,content:1},variationSetsNames:{},variationValuesNames:{}},Fixed:{componentName:"g",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SheetStack:{componentName:"h",elementNames:{root:0,outlet:1},variationSetsNames:{},variationValuesNames:{}},AutoFocusTarget:{componentName:"i",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}}}};let N0=UG.mapping,gye=e=>{var t;return(t=N0[e].componentName)!==null&&t!==void 0?t:null},vye=(e,t)=>{var n;return(n=N0[e].elementNames[t])!==null&&n!==void 0?n:null},_ye=(e,t)=>{var n;return(n=N0[e].variationSetsNames[t])!==null&&n!==void 0?n:null},yye=(e,t)=>{var n;return(n=N0[e].variationValuesNames[t])!==null&&n!==void 0?n:null},Yn=(e,t)=>p.useCallback((n,r=[],i)=>{var s,o;let a,l,c=(o=i==null||(s=i.dataSilk)===null||s===void 0?void 0:s.filter(Boolean).join(" "))!==null&&o!==void 0?o:"";{let u=gye(e);if(a=u+vye(e,n),t)for(let d=0;d<r.length;d++){let f=r[d],h=t[f],m=_ye(e,f),v=yye(e,h);a+=h!=null?" "+u+m+v:""}l={className:i?.className,"data-silk":a+" "+c}}return l},[e,...t?Object.values(t):[]]),Xd=new WeakMap;var bye=typeof Float32Array=="function";function rm(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function jI(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}function Cye(e){return e}var Sye=function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return Cye;for(var i=bye?new Float32Array(11):Array(11),s=0;s<11;++s)i[s]=rm(.1*s,e,n);return function(o){return o===0||o===1?o:rm(function(a){for(var l=0,c=1;c!==10&&i[c]<=a;++c)l+=.1;var u=l+(a-i[--c])/(i[c+1]-i[c])*.1,d=jI(u,e,n);return d>=.001?function(f,h,m,v){for(var _=0;_<4;++_){var y=jI(h,m,v);if(y===0)break;var b=rm(h,m,v)-f;h-=b/y}return h}(a,u,e,n):d===0?u:function(f,h,m,v,_){var y,b,C=0;do(y=rm(b=h+(m-h)/2,v,_)-f)>0?m=b:h=b;while(Math.abs(y)>1e-7&&++C<10);return b}(a,l,l+.1,e,n)}(o),t,r)}};let K1=e=>typeof e=="string"?document.querySelector(e):e?.(),qG=(e,t)=>Array.isArray(e)?e.includes(t):e===t,vS=e=>e?.getAttribute("data-silk-clone")==="true",wye=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),ql=e=>e instanceof HTMLInputElement&&!wye.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable,BI=e=>e instanceof HTMLInputElement&&e.type==="color"||e instanceof HTMLSelectElement,q9=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,Y1=()=>{var e;return window.innerHeight-200>((e=window.visualViewport)===null||e===void 0?void 0:e.height)};function Zs({nativeEvent:e,defaultBehavior:t,handler:n}){let r=t;if(n)if(typeof n=="function"){let i={...t,nativeEvent:e,changeDefault:function(s){r={...t,...s},Object.assign(this,s)}};i.changeDefault=i.changeDefault.bind(i),n(i)}else r={...t,...n};return r}function zG(e){return(e.startsWith("rgb(")||e.startsWith("rgba("))&&e.endsWith(")")?e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(r=>r.trim()).slice(0,3).map(r=>parseFloat(r)):null}let UI=e=>{let t=null;return e.startsWith("rgb(")||e.startsWith("rgba(")?t=zG(e):e.startsWith("#")&&(t=function(n){let r=n.replace(/^#/,""),i=r.length===3?r.split("").map(l=>l+l).join(""):r;if(!/^[0-9A-Fa-f]{6}$/.test(i))return null;let s=parseInt(i.slice(0,2),16),o=parseInt(i.slice(2,4),16),a=parseInt(i.slice(4,6),16);return[s,o,a]}(e)),t},Eye=({color:e,overlays:t})=>{let n=[...e],r=t.length;for(let i=0;i<r;i++){let s=t[i],o=s.alpha;for(let a=0;a<3;a++)n[a]=(1-o)*n[a]+o*s.color[a]}return"rgb("+n.join(",")+")"},xye=e=>{p.useEffect(()=>{let t=()=>{Y1()?e(!0):e(!1)};return t(),visualViewport.addEventListener("resize",t),()=>{visualViewport.removeEventListener("resize",t)}},[e])},kye=e=>e.matches('[data-silk~="0ad"]:not([data-silk~="0ai"]) *, [data-silk~="0ab"] *'),GG=e=>{let[t,n]=p.useState(!1),r=p.useCallback(i=>{e.current&&n(!!i&&!kye(e.current))},[e]);return xye(r),t},HG=()=>mn==="android"&&Eo==="chromium"&&typeof window<"u"&&!window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: fullscreen)").matches,Tye=()=>{var e,t,n;return typeof window<"u"&&window.navigator.standalone&&((e=document.querySelector("meta[name='viewport']"))===null||e===void 0?void 0:e.content.includes("viewport-fit=cover"))&&((t=document.querySelector("meta[name='apple-mobile-web-app-capable']"))===null||t===void 0?void 0:t.content)==="yes"&&((n=document.querySelector("meta[name='apple-mobile-web-app-status-bar-style']"))===null||n===void 0?void 0:n.content)==="black-translucent"},Oa=()=>Eo==="webkit",Oye=()=>typeof document<"u"?document.querySelector('meta[name="theme-color"]'):null,ep=({genericContext:e,customContext:t,value:n,children:r})=>t?g.jsx(t.Provider,{value:n,children:g.jsx(e.Provider,{value:n,children:r})}):g.jsx(e.Provider,{value:n,children:r});ep.displayName="CustomisableContext";function _S(e){for(let t=0;t<e.length;t++)if(!e[t].matches('[data-silk~="0ad"]'))return e[t];return e[0]}let VG=(e,t)=>{var n;let{safelyFocusableElements:r,safelyTabbableElements:i}=P0(t,["[data-silk~='0ac']"]),s=rt.autoFocusTargets.filter(d=>d.layerId==="any"||d.layerId===e),o=s.filter(d=>qG(d.timing,"present")),a=r.filter(d=>o.map(f=>f.element).includes(d)),l=_S(a),c=_S(i);((n=l??c)!==null&&n!==void 0?n:t).focus({preventScroll:!0})},qI=(e,t,n)=>{let{focus:r}=Zs({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});r&&VG(e,t)},Aye=(e,t,n,r)=>{if(!t.contains(document.activeElement)&&document.contains(document.activeElement))return;let{focus:i}=Zs({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});if(i){var s;let o=rt.autoFocusTargets.filter(f=>f.layerId==="any"||f.layerId===e),a=o.filter(f=>qG(f.timing,"dismiss")&&!t.contains(f.element)),{safelyFocusableElements:l}=P0(document.body),c=l.filter(f=>a.map(h=>h.element).includes(f)),u=_S(c);((s=u??r)!==null&&s!==void 0?s:document.body).focus({preventScroll:!0})}},zI=e=>{e.parentNode!=null&&e.parentNode.removeChild(e)},GI=()=>{let e=document.createElement("div");return e.tabIndex=0,e.style.position="fixed",e.setAttribute("aria-hidden","true"),e.setAttribute("data-silk","0aa"),e},Iye=e=>{let t=GI(),n=GI();return e.insertAdjacentElement("beforebegin",t),e.insertAdjacentElement("afterend",n),()=>{zI(t),zI(n)}},Mye=e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length),P0=(e,t=[])=>{let n=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]","[tabindex]:not([disabled])",...t],r=n.join(","),i=e?[...e.matches(r)?[e]:[],...e.querySelectorAll(r)]:[],s=[...t,"[aria-hidden='true']","[aria-hidden='true'] *","[inert]","[inert] *"],o=i.map(f=>({element:f,tabbable:f.matches(':not([hidden]):not([tabindex^="-"])'),skippable:f.matches(s.join(","))||!Mye(f)})),a=o.filter(f=>!f.skippable),l=a.map(f=>f.element),c=o.filter(f=>f.tabbable),u=c.filter(f=>!f.skippable),d=u.map(f=>f.element);return{allFocusableElementsWithData:o,safelyFocusableElements:l,allTabbableElementsWithData:c,safelyTabbableElements:d}},$G=(e,t)=>{let{safelyTabbableElements:n,allTabbableElementsWithData:r,allFocusableElementsWithData:i}=P0(e,["[data-silk~='0ac']"]),s=[...r],o=[...i];return t&&[s,o].forEach(a=>{a.unshift({element:e.previousElementSibling,tabbable:!0,skippable:!0}),a.push({element:e.nextElementSibling,tabbable:!0,skippable:!0})}),{safelyTabbableElements:n,allTabbableElementsWithGuardsWithData:s,allFocusableElementsWithGuardsWithData:o}},Rye=(e,t)=>{let n;return(n=t.slice(0,e).reverse().find(r=>r.skippable===!1))||(n=t.slice(e+1-t.length).reverse().find(r=>r.skippable===!1)),n},HI=(e,t)=>{let n;return(n=t.slice(e+1).find(r=>r.skippable===!1))||(n=t.slice(0,e).find(r=>r.skippable===!1)),n},Nye=({rootElements:e,e:t,fromElement:n,toElement:r,fallbackElement:i})=>{if(!r)return;let s=[],o=[],a=[];e.forEach(_=>{let{safelyTabbableElements:y,allTabbableElementsWithGuardsWithData:b,allFocusableElementsWithGuardsWithData:C}=$G(_,!0);s=[...s,...y],o=[...o,...b],a=[...a,...C]});let l=o.findIndex(_=>_.element===n),c=o.findIndex(_=>_.element===r),u=o[c],d=a.findIndex(_=>_.element===r),f=!!r&&e.includes(r)&&r.getAttribute("tabindex")==="-1";if(d===-1&&!f){let _=e.find(y=>y.getAttribute("tabindex")==="-1");_?.focus()}if(u?.skippable){var h,m,v;s.length?s.length===1?n===s[0]?(t.preventDefault(),t.stopPropagation(),requestAnimationFrame(()=>n.focus())):s[0].focus():l?c<l?(m=Rye(c,o))===null||m===void 0||m.element.focus():(v=HI(c,o))===null||v===void 0||v.element.focus():(h=HI(c,o))===null||h===void 0||h.element.focus():i?.focus()}},WG=(e,t,n,r,i)=>{var s;if(!((s=e.target)===null||s===void 0)&&s.matches("[data-silk-clone]"))return;let o=[],a=[];n.forEach(l=>{let{safelyFocusableElements:c,safelyTabbableElements:u}=P0(l);o=[...o,...c],a=[...a,...u]}),n.includes(e.target)||o.includes(e.target)?e.target&&i(e.target):r?r.focus():a.length?a[0].focus():t.focus()},Pye=(e,t)=>{var n;if(!((n=e.relatedTarget)===null||n===void 0)&&n.matches("[data-silk-clone]"))return;let r=Qm??e.target,i=Wu??e.relatedTarget;Nye({rootElements:t,e,fromElement:r,toElement:i}),Qm=null,Wu=null},Dye=(e,t,n,r,i)=>{let s=n.find(o=>o.contains(e.target));e.key!=="Tab"||s||(e.preventDefault(),e.stopPropagation(),WG(e,t,n,r,i))},Qm=null,Wu=null,Lye=({rootElements:e,viewElement:t,elementFocusedLast:n,setElementFocusedLast:r})=>{let i=[];e.forEach(c=>{i.push(Iye(c))});let s=function(c,u=document){let d=new Set(c),f=new Set,h=document.createTreeWalker(u,NodeFilter.SHOW_ELEMENT,{acceptNode:y=>(y instanceof HTMLElement&&y.dataset.liveAnnouncer==="true"&&d.add(y),y.tagName==="HEAD"||y.tagName==="SCRIPT"||d.has(y)||y.parentElement&&f.has(y.parentElement)?NodeFilter.FILTER_REJECT:y instanceof HTMLElement&&y.getAttribute("role")==="row"||c.some(b=>y.contains(b))?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT)}),m=y=>{var b;let C=(b=Xd.get(y))!==null&&b!==void 0?b:0;(y.getAttribute("aria-hidden")!=="true"||C!==0)&&(C===0&&y.setAttribute("aria-hidden","true"),f.add(y),Xd.set(y,C+1))},v=h.nextNode();for(;v!=null;)m(v),v=h.nextNode();let _=new MutationObserver(y=>{for(let b of y)if(b.type==="childList"&&b.addedNodes.length!==0&&![...d,...f].some(C=>C.contains(b.target)))for(let C of b.addedNodes)C instanceof HTMLElement&&C.dataset.liveAnnouncer==="true"?d.add(C):C instanceof Element&&m(C)});return _.observe(u,{childList:!0,subtree:!0}),()=>{for(let y of(_.disconnect(),f)){let b=Xd.get(y);b===1?(y.removeAttribute("aria-hidden"),Xd.delete(y)):b!==void 0&&Xd.set(y,b-1)}}}(e,document),o=c=>Pye(c,e),a=c=>WG(c,t,e,n,r),l=c=>Dye(c,t,e,n,r);return document.addEventListener("keydown",l),document.addEventListener("focusout",o),document.addEventListener("focusin",a),()=>{document.removeEventListener("focusout",o),document.removeEventListener("focusin",a),document.removeEventListener("keydown",l),s(),i.forEach(c=>c())}},D0=new Set,Fye=e=>{D0.add(e)},jye=e=>{D0.delete(e)},KG=(e,t,n,r)=>{let i=e[t],s=i.onClickOutside,o=i.dismissOverlayIfNotAlertDialog,a=i.viewElement,l=i.scrollContainerElement,c=i.backdropElement;if(l===r.target||c===r.target||!a?.contains(r.target)&&!n.find(u=>u.element.contains(r.target))&&function(u){for(let d of rt.automaticLayerElements)if(d.contains(u))return!1;return!0}(r.target)){let u=!0,d=!0;if(s){let{dismiss:f,stopOverlayPropagation:h}=Zs({nativeEvent:r,defaultBehavior:{dismiss:!0,stopOverlayPropagation:!0},handler:s});u=f,d=h}u&&o&&o(),t>0&&!d&&KG(e,t-1,n,r)}},yS=null,Bye=(e,t,n)=>{var r;if(D0.size||!((r=e.target)===null||r===void 0)&&r.matches('[data-silk~="0ak"] *')||e.target===document.body&&yS!==document.body||!e.target||!e.target.isConnected)return;let i=t.length;KG(t,i-1,n,e),yS=null},Uye=(e,t)=>{let n=i=>yS=i.target,r=i=>Bye(i,e,t);return document.addEventListener("pointerdown",n),document.addEventListener("click",r),()=>{document.removeEventListener("pointerdown",n),document.removeEventListener("click",r)}},YG=(e,t,n)=>{let r=e[t],i=r.onEscapeKeyDown,s=r.dismissOverlayIfNotAlertDialog,o=!0,a=!0,l=!0;if(i){let{dismiss:c,nativePreventDefault:u,stopOverlayPropagation:d}=Zs({nativeEvent:n,defaultBehavior:{nativePreventDefault:!0,dismiss:!0,stopOverlayPropagation:!0},handler:i});o=u,a=c,l=d}o&&n.preventDefault(),a&&s&&s(),t>0&&!l&&YG(e,t-1,n)},qye=(e,t)=>{if(e.key!=="Escape"||D0.size)return;let n=t.length;YG(t,n-1,e)},zye=e=>{let t=n=>qye(n,e);return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},Gye=e=>(e.setAttribute("aria-hidden","true"),()=>e.removeAttribute("aria-hidden")),Hye=e=>{let{allTabbableElementsWithGuardsWithData:t}=$G(e);t.forEach(n=>{n.element.tabIndex=-1})},Vye=e=>{var t;return e instanceof HTMLInputElement&&(!!(e.type==="password"||e.type==="text"&&e.autocomplete==="username"||!((t=e.closest("form"))===null||t===void 0)&&t.querySelector('input[type="password"]'))||void 0)},$ye=e=>{var t,n;let r=e.getBoundingClientRect(),i=r.height,s=(n=(t=window.visualViewport)===null||t===void 0?void 0:t.height)!==null&&n!==void 0?n:0,o=s-r.bottom;return o>-i/2&&o<i+32},Mb=e=>{var t;return(t=e?.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))===null||t===void 0?void 0:t.matches('[data-silk~="0ah"]')},Wye=()=>{let e=i=>{let s=i.target;if(Mb(s)){var o;(o=s?.closest('[data-silk~="0ah"]'))===null||o===void 0||o.focus({preventScroll:!0}),document.removeEventListener("touchstart",e,{capture:!0})}},t=i=>{let s=i.target,o=i.relatedTarget;if(!o)return document.addEventListener("touchstart",e,{capture:!0,passive:!1});if(Mb(o)&&(BI(o)&&document.addEventListener("touchstart",e,{capture:!0,passive:!1}),!(!ql(o)&&!BI(o)||vS(s))))if(!Vye(o)&&ql(s)&&$ye(s)){let a=s.cloneNode(!1);a.removeAttribute("id"),a.setAttribute("data-silk-clone","true"),a.style.setProperty("position","fixed"),a.style.setProperty("left","0"),a.style.setProperty("top","0"),a.style.setProperty("transform","translateY(-3000px) scale(0)"),document.documentElement.appendChild(a),Wu=o,a?.focus({preventScroll:!0}),setTimeout(()=>{Qm=s,Wu=o,o?.focus({preventScroll:!0}),a.remove()},32)}else Wu=o,o?.focus({preventScroll:!0})},n=i=>{var s;let o=i.target;!(o!==document.activeElement||!ql(o)||Y1())&&Mb(o)&&((s=o?.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))===null||s===void 0||s.focus({preventScroll:!0}))},r=i=>{var s;let o=i.target;if(!o||!("setSelectionRange"in o)||!(["password","search","tel","text","url"].includes(o.type)||o instanceof HTMLTextAreaElement)||o._silk_focusedBefore===!0)return;let a=o.value.length;(s=o.setSelectionRange)===null||s===void 0||s.call(o,a,a),o._silk_focusedBefore=!0};return document.addEventListener("blur",t,{capture:!0,passive:!1}),document.addEventListener("touchstart",e,{capture:!0,passive:!0}),document.addEventListener("touchend",n,{capture:!0,passive:!0}),document.addEventListener("focusin",r),()=>{document.removeEventListener("blur",t,{capture:!0}),document.removeEventListener("touchend",n,{capture:!0}),document.removeEventListener("touchstart",e,{capture:!0}),document.removeEventListener("focusin",r)}},ZG=["translate","translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],JG=null,QG=e=>{JG=e},Kye={sheets:[],addSheet:function(e){let t;if(!e.id)return;let n=this.findSheet(e.id);return n?(e.stackId&&(n.stackId=e.stackId),e.sendToOpennessMachine&&(n.sendToOpennessMachine=e.sendToOpennessMachine),t=n):(t={stackingIndex:-1,travelAnimations:[],aggregatedTravelCallback:function(r,i){let s=this.travelAnimations;for(let o=0,a=s.length;o<a;o++)s[o].callback(r,i)},stackingAnimations:[],aggregatedStackingCallback:function(r,i){let s=this.stackingAnimations;for(let o=0,a=s.length;o<a;o++)s[o].callback(r,i)},belowSheetsInStack:[],outlets:new Set,...e},this.sheets.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},attemptToRemoveSheet:function(e,t){let n=this.findSheet(e);if(n)if(n.outlets.size===0){var r;let i=(r=this.findSheet(e))===null||r===void 0?void 0:r.stackId;this.sheets=this.sheets.filter(s=>s.id!==e),i&&this.updateSelfAndAboveTravelProgressSumInStack(i)}else t&&t(n)},attemptToRemoveSheetOrCleanup:function(e){this.attemptToRemoveSheet(e,t=>{t.sendToOpennessMachine=null})},findSheet:function(e){return this.sheets.find(t=>t.id===e)},addOutletToSheet:function(e,t){let n=this.findSheet(e);n?n.outlets.add(t):this.addSheet({id:e,outlets:new Set([t])})},removeOutletFromSheet:function(e,t){let n=this.findSheet(e);n?.outlets.delete(t),this.attemptToRemoveSheet(e)},sheetStacks:[],addSheetStack:function(e){let t;return this.findSheetStack(e.id)||(t={stackingAnimations:[],aggregatedStackingCallback:function(r,i){let s=this.stackingAnimations;for(let o=0,a=s.length;o<a;o++)s[o].callback(r,i)},...e},this.sheetStacks.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},removeSheetStack:function(e){e&&(this.sheetStacks=this.sheetStacks.filter(t=>t.id!==e),this.removeAllOutletPersistedStylesFromStack(e))},findSheetStack:function(e){return this.sheetStacks.find(t=>t.id===e)},updateBelowSheetsInStackOfAllSheets:function(){this.sheets.forEach(e=>{let t,n=e.stackId;if(n){t=this.findSheetStack(n);let r=this.sheets.filter(s=>s.stackId===e.stackId),i=r.filter(s=>s.stackId===e.stackId&&s.stackingIndex>e.stackingIndex);t&&(i.unshift(t),t.stackingIndex=r.length-1),e.belowSheetsInStack=i,this.updateSelfAndAboveTravelProgressSumInStack(n)}})},updateSheetStackingIndex:function(e,t){let n=this.findSheet(e);n&&(n.stackingIndex=t),this.updateBelowSheetsInStackOfAllSheets()},updateSheetTravelProgress:function(e,t){let n=this.findSheet(e);n&&n.stackId&&(n.travelProgress=t,this.updateSelfAndAboveTravelProgressSumInStack(n.stackId))},updateSelfAndAboveTravelProgressSumInStack:function(e){let t=this.sheets.filter(i=>i.stackId===e).sort((i,s)=>s.stackingIndex-i.stackingIndex),n=this.findSheetStack(e);n&&t.unshift(n);let r=t.length;for(let i=0;i<r;i++){let s=t[i];s.selfAndAboveTravelProgressSum=[];for(let o=0;o<r;o++)o<=i?s.selfAndAboveTravelProgressSum[o]=0:s.selfAndAboveTravelProgressSum[o]=t.slice(i+1,o+1).reduce((a,l)=>a+l.travelProgress,0)}},addAnimationToSheetOrStack:function({type:e,sheetId:t,stackId:n,element:r,config:i}){let s=i.hasOwnProperty("properties")?i.properties:i,o=[];Object.entries(s).forEach(([d,f])=>{if(f!=="ignore"&&f&&typeof f!="string")if(typeof f=="function")if(ZG.includes(d)){let h=o.findIndex(v=>v[0]==="transform"),m=v=>d+"("+f(v)+")";if(h!==-1){let v=o[h][1];o[h][1]=_=>v(_)+" "+m(_)}else o.push(["transform",m])}else if(d==="transform"){let h=o.findIndex(m=>m[0]==="transform");if(h!==-1){let m=o[h][1];o[h][1]=v=>m(v)+" "+f(v)}else o.push(["transform",f])}else o.push([d,f]);else if(d==="opacity"){let h=["opacity",({tween:m})=>m(f[0],f[1])];o.push(h)}else{if(!d.startsWith("scale")&&(!isNaN(f[0])||!isNaN(f[1])))throw Error("Keyframe values used with a 'transform' property require a unit (e.g. 'px', 'em' or '%').");let h=o.findIndex(v=>v[0]==="transform"),m=({tween:v})=>d+"("+v(f[0],f[1])+")";if(h!==-1){let v=o[h][1];o[h][1]=_=>v(_)+" "+m(_)}else o.push(["transform",m])}});let a=o.map(d=>[(d[0].startsWith("webkit")||d[0].startsWith("moz")?"-":"")+d[0].replace(/[A-Z]/g,"-$&").toLowerCase(),d[1]]),l=a.length,c={target:r,config:o,dashedPropertiesAsArray:a,callback:(d,f)=>{for(let h=0;h<l;h++){let[m,v]=a[h];r.style.setProperty(m,v({progress:d,tween:f}))}}},u=n?this.findSheetStack(n):this.findSheet(t);u&&(e==="travel"?u.travelAnimations.push(c):u.stackingAnimations.push(c))},removeAnimationFromSheetOrStack:function({sheetId:e,stackId:t,type:n,element:r}){let i=t?this.findSheetStack(t):this.findSheet(e);if(i)if(n==="travel"){let s=i.travelAnimations.filter(o=>o.target!==r);i.travelAnimations=s}else{let s=i.stackingAnimations.filter(o=>o.target!==r);i.stackingAnimations=s}},removeAllOutletPersistedStylesFromSheet:function(e){let t=this.findSheet(e);t&&[...t.travelAnimations,...t.stackingAnimations].forEach(n=>{n.dashedPropertiesAsArray.forEach(([r])=>{n.target.style.removeProperty(r)})})},removeAllOutletPersistedStylesFromStack:function(e){let t=this.findSheetStack(e);t&&t.stackingAnimations.forEach(n=>{n.dashedPropertiesAsArray.forEach(([r])=>{n.target.style.removeProperty(r)})})},getAggregatedStackingCallbackForSheetsBelow:function(e){let t,n=this.findSheet(e);return n&&(t=r=>{let i=n.belowSheetsInStack,s=i.length;for(let o=0;o<s;o++){let a=i[o],l=a.selfAndAboveTravelProgressSum[s-1]+r,c=Pu(l);a.aggregatedStackingCallback(l,c)}}),t},automaticIslandElements:new Set([]),automaticLayerElements:new Set([]),automaticLayerAndIslandDetectionCleanup:null,focusContainmentRootElements:[],focusContainmentCleanup:()=>{},escapeKeyDownListenerCleanup:null,clickOutsideListenerCleanup:null,processLayersAndIslandsChangesTimeout:null,setupAutomaticLayerAndIslandDetection:function(e){let t=document.documentElement,n=document.body,r=()=>{let s,o=new Set([]),a=new Set([]),l=function(_){let y=_.parentElement;for(;y&&y!==document.body;){if(y.parentElement===document.body)return y;y=y.parentElement}return _.parentElement===document.body?_:null}(e);s=l?l.nextElementSibling:n.firstElementChild;let c=_=>_.matches('[data-silk~="0ag"], [data-silk~="0ab"], [data-silk~="0aa"], [data-silk-clone]'),u=_=>_.tagName!=="SCRIPT";for(;s;)!c(s)&&u(s)&&o.add(s),s=s.nextElementSibling;let d=t.children;for(let _=0;_<d.length;_++){let y=d[_];y.tagName==="HEAD"||y.tagName==="BODY"||c(y)||a.add(y)}let f=new Set([...o].filter(_=>!this.automaticLayerElements.has(_))),h=new Set([...this.automaticLayerElements].filter(_=>!o.has(_)));this.automaticLayerElements=o;let m=new Set([...a].filter(_=>!this.automaticIslandElements.has(_))),v=new Set([...this.automaticIslandElements].filter(_=>!a.has(_)));this.automaticIslandElements=a,f.forEach(_=>{this.updateLayer({automatic:!0,layerId:null,viewElement:_,inertOutside:!1,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},dismissOverlayIfNotAlertDialog:()=>{},onClickOutside:{stopOverlayPropagation:!1},onEscapeKeyDown:{stopOverlayPropagation:!1}})}),h.forEach(_=>this.removeLayer(null,_)),m.forEach(_=>this.addIsland({element:_,automatic:!0})),v.forEach(_=>this.removeIsland(null,_))};r();let i=new MutationObserver(()=>{r()});i.observe(t,{childList:!0}),i.observe(n,{childList:!0}),this.automaticLayerAndIslandDetectionCleanup=function(){i.disconnect(),this.layers.forEach(s=>{s.automatic&&this.removeLayer(null,s.viewElement)}),this.automaticLayerElements=new Set([]),this.islands.forEach(s=>{s.automatic&&this.removeIsland(null,s.element)}),this.automaticIslandElements=new Set([]),this.automaticLayerAndIslandDetectionCleanup=null}},moveFocusIfNecessary:function(e,t,n,r,i,s){let o=!1;for(let a=0;a<t.length;a++)if(t[a].contains(document.activeElement)){o=!0;break}if(n.length){let a=n.filter(l=>!l.automatic&&!l.external);if(a.length){let l=a[a.length-1];return qI(l.layerId,l.viewElement,l.onPresentAutoFocus)}}if(i.length&&!o){let a=e[e.length-1];if(!a.external)return qI(a.layerId,a.viewElement,a.onPresentAutoFocus)}if(r.length&&r.find(l=>l.focusWasInside)){let l=r[0];if(!l.external)return Aye(l.layerId,l.viewElement,l.onDismissAutoFocus,l.elementFocusedLastBeforeShowing)}if(s.length&&s.find(l=>l.focusWasInside)){let l=e[e.length-1];if(l)return VG(l.layerId,l.viewElement)}},processLayersAndIslandsChanges:function(){var e;clearTimeout(this.processLayersAndIslandsChangesTimeout);let t=()=>{let r=this.layers.length,i=new Set([]),s;if(this.layers.some(d=>d.inertOutside)){this.islands.filter(f=>!f.componentId||f.componentId.length===0).forEach(f=>i.add(f.element));for(let f=r-1;f>=0;f--){let h=this.layers[f];if(h.external&&h.inertOutside){i=new Set([]);break}i.add(h.viewElement);let m=this.islands.filter(_=>_.componentId&&h.layerContextId&&_.componentId.includes(h.layerContextId)),v=this.islands.filter(_=>_.componentId&&h.layerStackContextId&&_.componentId.includes(h.layerStackContextId));if([...m,...v].forEach(_=>{i.add(_.element)}),h.inertOutside){s=h;break}s=h}}let a=[...i],l=!function(d,f){if(d.length!==f.length)return!1;let h=new Set;for(let m of d)h.add(m);for(let m of f)if(!h.has(m))return!1;return!0}(this.focusContainmentRootElements,a);if(this.focusContainmentRootElements=a,l){var c;this.focusContainmentCleanup(),this.focusContainmentCleanup=()=>{},(c=this.automaticLayerAndIslandDetectionCleanup)===null||c===void 0||c.call(this),s&&(this.setupAutomaticLayerAndIslandDetection(s?.viewElement),this.focusContainmentCleanup=Lye({rootElements:this.focusContainmentRootElements,viewElement:s?.viewElement,elementFocusedLast:JG,setElementFocusedLast:QG}))}this.moveFocusIfNecessary(this.layers,this.focusContainmentRootElements,this.layersJustAdded,this.layersJustRemoved,this.layersJustWentToInertOutsideTrue,this.islandsJustRemoved),this.escapeKeyDownListenerCleanup&&(this.escapeKeyDownListenerCleanup(),this.escapeKeyDownListenerCleanup=null),this.clickOutsideListenerCleanup&&(this.clickOutsideListenerCleanup(),this.clickOutsideListenerCleanup=null),r>0&&(this.escapeKeyDownListenerCleanup=zye(this.layers),this.clickOutsideListenerCleanup=Uye(this.layers,this.islands));let u=this.layersJustRemoved.length;if(u)for(let d=0;d<u;d++){let f=this.layersJustRemoved[d],h=f.viewElement,m=f.automatic;h&&!m&&(Gye(h),Hye(h))}this.islandsJustRemoved=[],this.layersJustAdded=[],this.layersJustRemoved=[],this.layersJustWentToInertOutsideTrue=[]};((e=this.layersJustAdded[this.layersJustAdded.length-1])===null||e===void 0?void 0:e.external)?t():this.processLayersAndIslandsChangesTimeout=setTimeout(t,16)},autoFocusTargets:[],addAutoFocusTarget:function({layerId:e,element:t,timing:n}){this.autoFocusTargets.push({layerId:e,element:t,timing:n})},removeAutoFocusTarget:function(e){this.autoFocusTargets=this.autoFocusTargets.filter(t=>t.element!==e)},islands:[],islandsJustRemoved:[],addIsland:function(e){var t;let n=this.islands[this.islands.length-1],r=((t=e.id)!==null&&t!==void 0?t:n)?n.id+1:0;return this.islands.push({...e,id:r}),this.processLayersAndIslandsChanges(),r},removeIsland:function(e,t){this.islands=this.islands.filter(n=>{if(e&&n.id&&n.id!==e||t&&n.element&&n.element!==t)return!0;{let r=n.element.contains(document.activeElement);return this.islandsJustRemoved.push({...n,focusWasInside:r}),!1}}),this.processLayersAndIslandsChanges()},layers:[],layersJustAdded:[],layersJustRemoved:[],layersJustWentToInertOutsideTrue:[],updateLayer:function(e){let t=e.layerId,n=e.viewElement,r=!1,i=this.layers;for(let o=0;o<i.length;o++){let a=i[o];if(t!==null?a.layerId===t:a.viewElement===n){let c={...a,...e};!a.inertOutside&&e.inertOutside&&this.layersJustWentToInertOutsideTrue.push(c),i[o]=c,r=!0;break}}if(!r){var s;let o={...e,elementFocusedLastBeforeShowing:(s=e.elementFocusedLastBeforeShowing)!==null&&s!==void 0?s:document.activeElement};i.push(o),this.layersJustAdded.push(o)}this.processLayersAndIslandsChanges()},removeLayer:function(e,t){var n;this.layers=this.layers.filter(r=>{if(e&&r.layerId&&r.layerId!==e||t&&r.viewElement&&r.viewElement!==t)return!0;{var i;let s=(i=r.viewElement)===null||i===void 0?void 0:i.contains(document.activeElement);return this.layersJustRemoved.push({...r,focusWasInside:s}),!1}}),this.layers.filter(r=>!r.automatic).length===0&&((n=this.automaticLayerAndIslandDetectionCleanup)===null||n===void 0||n.call(this)),this.processLayersAndIslandsChanges()},nativeFocusScrollPreventers:[],nativeFocusScrollPreventionCleanup:null,addNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers.push({id:e}),this.processNativeFocusScrollPreventersChanges()},removeNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers=this.nativeFocusScrollPreventers.filter(t=>t.id!==e),this.processNativeFocusScrollPreventersChanges()},processNativeFocusScrollPreventersChanges:function(){let e=this.nativeFocusScrollPreventers.length;if(Oa()&&(mn==="ios"||mn==="ipados"))if(e)this.nativeFocusScrollPreventionCleanup||(this.nativeFocusScrollPreventionCleanup=Wye());else{var t;(t=this.nativeFocusScrollPreventionCleanup)===null||t===void 0||t.call(this),this.nativeFocusScrollPreventionCleanup=null}},fixedComponents:[],addFixedComponent:function(e){this.fixedComponents.push(e)},updateFixedComponent:function(e){let t=this.fixedComponents.find(n=>n.id===e.id);t&&(e.element&&(t.element=e.element),e.initialInlineCSSTransform&&(t.initialInlineCSSTransform=e.initialInlineCSSTransform),typeof e.compensated=="boolean"&&(t.compensated=e.compensated))},removeFixedComponent:function(e){this.fixedComponents=this.fixedComponents.filter(t=>t.id!==e)},findActualFixedComponentsInsideOutlet:function(e){return this.fixedComponents.filter(t=>{if(t.element&&e)return e.contains(t.element)&&window.getComputedStyle(t.element).getPropertyValue("position")==="fixed"})},themeColorMetaTag:null,underlyingThemeColor:null,themeColorDimmingOverlays:[],storeThemeColorMetaTag:function(){if(this.themeColorMetaTag=Oye(),!this.themeColorMetaTag){let e=document.createElement("meta");e.name="theme-color",e.content=window.getComputedStyle(document.body).backgroundColor,document.head.appendChild(e),this.themeColorMetaTag=e}},getAndStoreUnderlyingThemeColorAsRGBArray:function(){let e;if(this.themeColorDimmingOverlays.length>0)e=this.underlyingThemeColor;else{var t;this.themeColorMetaTag||this.storeThemeColorMetaTag();let n=(t=this.themeColorMetaTag)===null||t===void 0?void 0:t.content;(e=UI(n))||console.warn("`themeColorDimming` prop ignored: Only `theme-color` meta tag with a value in `rgb()`, `rgba()`, or hexadecimal format is supported."),this.underlyingThemeColor=e}return e},updateUnderlyingThemeColor:function(e){let t=UI(e);if(!t)throw Error("The color provided to `updateThemeColor` doesn't match `rgb()`, `rgba()`, or hexadecimal format.");this.underlyingThemeColor=t,this.setActualThemeColor()},setActualThemeColor:function(){var e;this.themeColorMetaTag||this.storeThemeColorMetaTag(),(e=this.themeColorMetaTag)===null||e===void 0||e.setAttribute("content",Eye({color:this.underlyingThemeColor,overlays:this.themeColorDimmingOverlays}))},findThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.find(t=>t.dimmingOverlayId===e)},findIndexThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.findIndex(t=>t.dimmingOverlayId===e)},updateThemeColorDimmingOverlay:function(e){let t=e;t.color&&(t={...t,color:zG(t.color)});let n=this.findThemeColorDimmingOverlay(t.dimmingOverlayId);return n?Object.assign(n,t):(n=t,this.themeColorDimmingOverlays.push(t)),this.setActualThemeColor(),n},updateThemeColorDimmingOverlayAlphaValue:function(e,t){e.alpha=t,this.setActualThemeColor()},removeThemeColorDimmingOverlay:function(e){let t=this.findThemeColorDimmingOverlay(e);t&&(t.abortRemoval=!1,setTimeout(()=>{t?.abortRemoval||(this.themeColorDimmingOverlays=this.themeColorDimmingOverlays.filter(n=>n.dimmingOverlayId!==e),this.setActualThemeColor(),this.themeColorDimmingOverlays.length!==0||(this.underlyingThemeColor=null,this.themeColorMetaTag=null))},20))}};var rt=Kye;let XG=e=>{let t=p.useRef(null);return An(()=>{t.current=e}),p.useCallback((...n)=>{let r=t.current;return r(...n)},[])},z9=e=>e==="layout"?An:p.useEffect,bS=e=>{var t=e?.lastIndexOf(":");return t===-1?"":e?.substring(t+1)},Yye=e=>{let t=[],n=[],r=(i,s,{partOfInitial:o})=>{Array.isArray(i)?i.forEach(a=>r(a,s,{partOfInitial:o})):(s+=(s?".":"")+i.name,o&&n.push(s+":"+i.initial),Object.entries(i.states).forEach(([a,l])=>{let c=s+":"+a;l.machine=s,l.path=c,l.reactive=!i.silentOnly,t.push(l),l.machines&&r(l.machines,c,{partOfInitial:o&&i.initial===a})}))};return r(e,"",{partOfInitial:!0}),[n,t]},VI=(e,t)=>e.includes(":")?e:t.substring(0,t.lastIndexOf(":")+1)+e,$I=e=>{let t=e.split("."),n=[];return t.forEach((r,i)=>{let s=n[i-1],o=(s?s.full+".":"")+r,a=o.substring(0,o.lastIndexOf(":")),l=o.substring(o.lastIndexOf(":")+1);n.push({full:o,withoutState:a,state:l})}),n},Zye=({checkedPoolOfStates:e,referencePoolOfStates:t,callbackOnExclusion:n,callbackOnPresent:r})=>e.filter(s=>{let o=!0;return s.forEach(a=>{t.forEach(l=>{l.forEach(c=>{a.withoutState===c.withoutState&&(a.state!==c.state?(o=!1,n?.({decomposedCheckedState:s,checkedStatePiece:a,decomposedReferenceState:l,referenceStatePiece:c})):r({decomposedCheckedState:s,checkedStatePiece:a,decomposedReferenceState:l,referenceStatePiece:c}))})})}),o}),Jye=e=>{let[t,n]=Yye(e);return[t,(r,i)=>{let s,o=typeof i=="string"?i:i.type,a=[];n.forEach(S=>{r.includes(S.path)&&(!i.machine||i.machine===S.machine)&&S.messages&&Object.entries(S.messages).forEach(([x,w])=>{if(x===o){if(typeof w=="string")s=x,a.push(VI(w,S.path));else for(let E of w)if(!E.guard||E.guard(r,i)){s=x,a.push(VI(E.target,S.path));break}}})});let l=r.map(S=>$I(S)),c=a.map(S=>$I(S)),u=[],d=Zye({checkedPoolOfStates:l,referencePoolOfStates:c,callbackOnExclusion:({decomposedCheckedState:S})=>{u.push(S[S.length-1].full)},callbackOnPresent:({referenceStatePiece:S})=>{S.unchanged=!0}}),f=d.map(S=>S[S.length-1].full),h=[],m=[];c.forEach(S=>{S.forEach((x,w)=>{if(!x.unchanged){var E,T;w<S.length-1&&h.push(x.full);let O=n.find(k=>k.path===x.full);(E=O.machines)===null||E===void 0||(T=E.forEach)===null||T===void 0||T.call(E,k=>{let A=()=>{c.find(P=>P.find(D=>D.withoutState===`${O.path}.${k.name}`))||m.push(`${O.path}.${k.name}:${k.initial}`)};w<S.length-1?O.path+k.name!==S[w+1].withoutState&&A():A();let I=P=>{var D,R;(D=n.find(j=>j.path===P).machines)===null||D===void 0||(R=D.forEach)===null||R===void 0||R.call(D,j=>{c.find(V=>V.find(B=>B.withoutState===`${O.path}.${j.name}`))||m.push(`${P}.${j.name}:${j.initial}`),I(`${P}.${j.name}:${j.initial}`)})};I(`${O.path}.${k.name}:${k.initial}`)})}})});let v=[...a,...h,...m],_=[...f,...v],y=[...u,...v],b=n.filter(S=>y.includes(S.path)),C=b.some(S=>S.reactive);return{exitedStates:u,transitionTaken:s,enteredStates:v,nextStates:_,reactive:C}}]},Xm=(e,t)=>e?.toStrings().filter(n=>n?.startsWith(t)).filter(n=>{var r;return!(!((r=n?.slice(t.length))===null||r===void 0)&&r.includes("."))})[0],WI=e=>{let[t,n]=p.useMemo(()=>Jye(e),[e]),r=p.useRef(),i=p.useRef([]),s=p.useRef([]),o=p.useRef([]),a=p.useRef([]),l=p.useRef(t),c=p.useRef({toStrings:()=>t,matches:m=>Jl(t,m),lastMessageTreatedRef:r,exitActionsRef:i,transitionActionsRef:s,entryActionsRef:o,selectorsRef:a}),[u,d]=p.useState({...c.current,silent:c.current}),f=p.useRef([]),h=p.useCallback(m=>{f.current.push(m);let v=_=>{let{nextStates:y,exitedStates:b,transitionTaken:C,enteredStates:S,reactive:x}=n(l.current,f.current[0]),w=l.current;if(l.current=y,i.current.forEach(E=>{b.includes(E.state)&&(typeof E.guard=="function"?E.guard(w,f.current[0]):E.guard)&&E.callback(f.current[0],E.params)}),s.current.forEach(E=>{b.includes(E.state)&&E.transition===C&&(typeof E.guard=="function"?E.guard(w,f.current[0]):E.guard)&&E.callback(f.current[0],E.params)}),o.current.forEach(E=>{S.includes(E.state)&&(typeof E.guard=="function"?E.guard(w,f.current[0]):E.guard)&&E.callback(f.current[0],E.params)}),r.current=typeof f.current[0]=="string"?{type:f.current[0]}:f.current[0],f.current.shift(),f.current.length)v(x||_);else{let E=y.slice();c.current.toStrings=()=>E,c.current.matches=T=>Jl(E,T),c.current.getValues=()=>[bS(E.toStrings)],a.current.forEach(T=>{let O=T.current.selection;T.current.toStrings=()=>[Xm(c.current,O)],T.current.matches=k=>Jl([Xm(c.current,O)],k),T.current.getValues=()=>[bS(Xm(c.current,O))]}),(_||x)&&d({...c.current,silent:c.current})}};f.current.length===1&&v()},[n]);return[u,h]},Qye=(e,t,n,{message:r="",delay:i=null,...s}={delay:null})=>{p.useEffect(()=>{let o;return t.matches(n)&&(o=setTimeout(()=>e({type:"",...s}),i??0)),()=>{o&&clearTimeout(o)}},[t,n,i,e,r,s])},Qi=(e,t,{shallow:n=!0}={})=>{let r=p.useMemo(()=>Xm(e,t),[e,t]),i=p.useRef({lastMessageTreatedRef:e?.lastMessageTreatedRef,exitActionsRef:e?.exitActionsRef,transitionActionsRef:e?.transitionActionsRef,entryActionsRef:e?.entryActionsRef,toStrings:()=>[r],matches:o=>Jl([r],o),selection:t,getValues:()=>[bS(r)]}),s=p.useRef(Symbol());return An(()=>{e.selectorsRef.current.find(a=>a.id===s.current)||e.selectorsRef.current.push(i)},[]),p.useMemo(()=>({...i.current,silent:i.current}),[r])},Jl=(e,t)=>Array.isArray(t)?t.some(n=>e.includes(n))||e.some(n=>t.some(r=>n?.startsWith(r)&&n?.charAt(r.length)===".")):e.includes(t)||e.some(n=>n?.startsWith(t)&&n?.charAt(t.length)==="."),Ve=(e,t,n)=>{let{state:r,callback:i,params:s,empty:o=!1}=n,a=!n.hasOwnProperty("guard")||n.guard,l=p.useMemo(()=>s?Object.values(s):[],[s]),c=p.useMemo(()=>t.entryActionsRef,[t]),u=z9(e==="before-paint"?"layout":"normal"),d=XG(h=>{(h?.matches&&h?.matches(r)||!h?.matches&&Jl(h,r))&&(typeof a=="function"&&a()||typeof a!="function"&&a)&&i(h.lastMessageTreatedRef.current,s)}),f=p.useRef(Symbol());u(()=>{if(!o)if(e==="immediate"){let h={id:f.current,state:r,guard:a,callback:i,params:s},m=c.current.findIndex(v=>v.id===f.current);m===-1?c.current.push(h):c.current[m]=h}else d(t)},e==="immediate"?[e,r,a,i,c,...l]:[e,d,t]),p.useEffect(()=>()=>{c.current=c.current.filter(h=>h.id!==f.current)},[])},Et=(e,t)=>{let{state:n,transition:r,callback:i,params:s}=t,o=!t.hasOwnProperty("guard")||t.guard,a=p.useMemo(()=>s?Object.values(s):[],[s]),l=p.useMemo(()=>e.transitionActionsRef,[e]),c=p.useRef(Symbol());p.useEffect(()=>{let u={id:c.current,state:n,transition:r,guard:o,callback:i,params:s},d=l.current.findIndex(f=>f.id===c.current);d===-1?l.current.push(u):l.current[d]=u},[n,r,o,i,l,...a]),p.useEffect(()=>()=>{l.current=l.current.filter(u=>u.id!==c.current)},[])},da=(e,t,n)=>{let{state:r,callback:i,params:s}=n,o=!n.hasOwnProperty("guard")||n.guard,a=p.useMemo(()=>s?Object.values(s):[],[s]),l=p.useMemo(()=>t.exitActionsRef,[t]),c=z9("normal");XG(d=>{(d?.matches&&d?.matches(r)||!d?.matches&&Jl(d,r))&&(typeof o=="function"&&o()||typeof o!="function"&&o)&&i(d.lastMessageTreatedRef.current,s)});let u=p.useRef(Symbol());c(()=>{{let d={id:u.current,state:r,guard:o,callback:i,params:s},f=l.current.findIndex(h=>h.id===u.current);f===-1?l.current.push(d):l.current[f]=d}return()=>{}},[e,r,o,i,l,...a]),p.useEffect(()=>()=>{l.current=l.current.filter(d=>d.id!==u.current)},[])},Dr=(e,t,n)=>{let{state:r,callback:i,params:s,name:o}=n,a=!n.hasOwnProperty("guard")||n.guard,l=s?Object.values(s):[],c=typeof e=="string"?e:e.start,u=typeof e=="string"?e:e.update,d=p.useRef(null);Ve("immediate",t,{state:r,guard:a,callback:p.useCallback(()=>{d.current=i(null,s)},[i,s]),params:s,empty:c!=="immediate"});let f=z9(u==="before-paint"?"layout":"normal"),h=p.useRef(!1);f(()=>{let m,v=t?.matches&&t?.matches(r)||!t?.matches&&Jl(t,r)||r==="",_=typeof a=="function"&&a()||typeof a!="function"&&a;return v&&_&&(m=c==="immediate"?h.current?i(null,s):d.current:i(null,s)),v&&!h.current&&(h.current=!0),()=>{var y;((y=t.silent)===null||y===void 0?void 0:y.matches(r))||(h.current=!1,d.current=null),m?.()}},[r!==""?t:null,r,a,i,...l])},Xye=e=>{let t=p.useRef({value:e}),[n,r]=p.useState({value:e,silent:t.current}),i=p.useCallback(s=>{let o=typeof s=="function"?s(t.current.value):s;t.current.value=o,r({value:o,silent:t.current})},[]);return[n,i]};function eH(...e){return t=>e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}function Kr(...e){return p.useCallback(eH(...e),e)}var e2e=(e,t)=>{let n=()=>{t?.()},r=s=>{s.preventDefault(),window.addEventListener("touchend",n,{once:!0})},i=e.current;return i.addEventListener("touchstart",r,{passive:!1}),()=>{i&&(i.removeEventListener("touchstart",r,{passive:!1}),window.removeEventListener("touchend",n))}};let Rb=!1,KI=0;function vc(e){var t;if(p.useId!==void 0)return p.useId();let[n,r]=p.useState(Rb?++KI:null);return An(()=>{n===null&&r(++KI)},[]),p.useEffect(()=>{Rb===!1&&(Rb=!0)},[]),(t=n)!==null&&t!==void 0?t:void 0}let Zn=p.forwardRef((e,t)=>{let{children:n,...r}=e,i=p.Children.toArray(n),s=i.find(n2e);if(s){let o=s.props.children,a=i.map(l=>l!==s?l:p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null);return g.jsx(CS,{...r,ref:t,children:p.isValidElement(o)?p.cloneElement(o,void 0,a):null})}return g.jsx(CS,{...r,ref:t,children:n})});Zn.displayName="Slot.Root";let CS=p.forwardRef((e,t)=>{let{children:n,...r}=e,i=function(s){var o,a;let l=(o=Object.getOwnPropertyDescriptor(s.props,"ref"))===null||o===void 0?void 0:o.get,c=l&&"isReactWarning"in l&&l.isReactWarning;return c?s.ref:(c=(l=(a=Object.getOwnPropertyDescriptor(s,"ref"))===null||a===void 0?void 0:a.get)&&"isReactWarning"in l&&l.isReactWarning)?s.props.ref:s.props.ref||s.ref}(n);return p.isValidElement(n)?p.cloneElement(n,{...function(s,o){let a={...o};for(let l in o){let c=s[l],u=o[l];/^on[A-Z]/.test(l)?c&&u?a[l]=(...f)=>{u(...f),c(...f)}:c&&(a[l]=c):l==="style"?a[l]={...c,...u}:l==="className"&&(a[l]=[c,u].filter(Boolean).join(" "))}return{...s,...a}}(r,n.props),ref:t?eH(t,i):i}):p.Children.count(n)>1?p.Children.only(null):null});CS.displayName="Slot.Anonymous";let t2e=({children:e})=>g.jsx(g.Fragment,{children:e});function n2e(e){return p.isValidElement(e)&&e.type===t2e}let im=0,tH=[0,0],SS=!1,YI=()=>{clearTimeout(FI),SS=!0,FI=setTimeout(()=>SS=!1,50)},ZI=()=>{SS||window.scrollTo(...tH)},nH=Fe.forwardRef((e,t)=>{let{asChild:n,active:r=!0,automaticallyDisabledForOptimisation:i=!0,axis:s="both",preventBodyScroll:o,children:a,"data-silk":l,className:c,...u}=e,d=l?.includes("0ae"),f=p.useRef(null),h=Kr(f,t);An(()=>{if(tH=[window.screenX,window.scrollY],r&&o)if(im===0){let y=window.innerWidth,b=document.documentElement.clientWidth,C=window.innerHeight,S=document.documentElement.clientHeight;document.body.style.setProperty("overflow","hidden");let x=`${y-b}px`,w=`${C-S}px`;document.querySelectorAll("[data-silk~='0al']").forEach(T=>{T.style.setProperty("--x-collapsed-scrollbar-thickness",x),T.style.setProperty("--y-collapsed-scrollbar-thickness",w)}),document.body.style.setProperty("padding-right",x),document.body.style.setProperty("padding-bottom",w),window.addEventListener("resize",YI),window.addEventListener("scroll",ZI,{passive:!1}),im++}else im++;return()=>{if(r&&o&&--im==0){let y=document.querySelectorAll("[data-silk~='0al']");document.body.style.removeProperty("overflow"),y.forEach(b=>{b.style.removeProperty("--x-collapsed-scrollbar-thickness"),b.style.removeProperty("--y-collapsed-scrollbar-thickness")}),document.body.style.removeProperty("padding-right"),document.body.style.removeProperty("padding-bottom"),window.removeEventListener("scroll",ZI),window.removeEventListener("resize",YI)}}},[o,r]),p.useEffect(()=>{let y,b=f.current;return!d&&r&&b&&(y=new ResizeObserver(C=>{C.forEach(()=>{b.scrollTo(300,300)})})).observe(b,{box:"border-box"}),()=>{!d&&r&&b&&y&&(y.unobserve(b),y.disconnect())}},[r,d]);let m=p.useCallback(y=>{let b=y.currentTarget;b.scrollTo(300,300),mn!=="ios"&&mn!=="ipados"||CSS.supports("overscroll-behavior: contain")||(b.style.setProperty("overflow","hidden"),setTimeout(()=>{b.style.setProperty("overflow","auto")},10))},[]),v=n?Zn:"div",_=Yn("ScrollTrap",{active:r,automaticallyDisabledForOptimisation:i,axis:s});return g.jsx(v,{..._("root",["active","automaticallyDisabledForOptimisation","axis"],{className:c,dataSilk:[l,"0ac","0ae"]}),onScroll:d?void 0:m,...u,ref:h,children:a})});nH.displayName="Sheet.Anonymous";let rH=Fe.forwardRef((e,t)=>{let{asChild:n,className:r,dataSilk:i,children:s,...o}=e,a=n?Zn:"div",l=Yn("ScrollTrap",{});return g.jsx(a,{...l("stabiliser",[],{className:r,dataSilk:[i]}),...o,ref:t,children:s})});rH.displayName="Sheet.DDD";let No={Root:nH,Stabiliser:rH},iH=()=>{let e=vc();return p.useCallback(n=>{n?rt.addFixedComponent({id:e,element:n}):rt.removeFixedComponent(e)},[e])},r2e=Fe.forwardRef((e,t)=>{let{asChild:n,children:r,className:i,"data-silk":s,...o}=e,a=iH(),l=Kr(a,t),c=Yn("Fixed",{});return g.jsx(No.Root,{...c("root",[],{className:i,dataSilk:[s,"0al"]}),asChild:n,...o,ref:l,children:r})});r2e.displayName="Fixed.Root";let i2e=Fe.forwardRef((e,t)=>{let{asChild:n,children:r,...i}=e;return g.jsx(No.Stabiliser,{asChild:n,...i,ref:t,children:r})});i2e.displayName="Fixed.Content";let Ya=Fe.createContext(null);Ya.displayName="Sheet.GenericContext";let bs=Fe.createContext(null);bs.displayName="Sheet.Anonymous";var s2e=function(e){let t="cubic-bezier(";if(!e.startsWith(t))return null;let n=e.slice(t.length,-1),r=n.split(",").map(i=>parseFloat(i.trim()));return r.length!==4||r.some(isNaN)?null:r},o2e=({mass:e,stiffness:t,damping:n,initialVelocity:r=0,fromPosition:i,toPosition:s,precision:o})=>{let a=[],l=0,c=Math.abs(s-i),u=0,d=r,f=!1,h=!1,m=-(1e-6*t),v=-(.001*n),_=o/22,y=10*o;for(;!(f&&h);){let C=m*(u-c),S=v*d,x=(C+S)/e;d+=x,u+=d,f=Math.abs(d)<=_,h=Math.abs(c-u)<=y;let w=u/c;a.push(w),l++}return{progressValuesArray:a,duration:l}};let e1=()=>CSS.supports("transition-timing-function","linear(0, 1)")&&!Oa(),a2e=({origin:e=0,destination:t=1,animationConfig:n})=>{var r,i,s,o,a,l,c,u,d;let f=[],h;if(n&&n.easing&&n.easing!=="spring")if(n.easing==="linear"){h=(l=n.duration)!==null&&l!==void 0?l:250;let m=h,v=1/(m-1);for(let _=0;_<m;_++){let y=_*v;f.push(isNaN(y)?0:y)}}else{let m;h=(c=n.duration)!==null&&c!==void 0?c:250;let v=h;m=n.easing==="ease"?[.25,.1,.25,1]:n.easing==="ease-in"?[.42,0,1,1]:n.easing==="ease-out"?[0,0,.58,1]:n.easing==="ease-in-out"?[.42,0,.58,1]:n.easing.startsWith("cubic-bezier")&&(u=s2e(n.easing))!==null&&u!==void 0?u:[.25,.1,.25,1];let _=Sye(...m);for(let y=0;y<=v;y++)f.push(_(y/v))}else{let m=o2e({stiffness:(r=n?.stiffness)!==null&&r!==void 0?r:300,damping:(i=n?.damping)!==null&&i!==void 0?i:34,mass:(s=n?.mass)!==null&&s!==void 0?s:1,initialVelocity:(o=n?.initialVelocity)!==null&&o!==void 0?o:0,precision:(a=n?.precision)!==null&&a!==void 0?a:.1,fromPosition:e,toPosition:t});f=m.progressValuesArray,h=m.duration}return{progressValuesArray:f,easing:"linear",duration:h,delay:(d=n?.delay)!==null&&d!==void 0?d:0}},Nb=(e,t)=>{let n={};return e.forEach(([r,i])=>{let s=Pu(t);n[r]=i({progress:t,tween:s})}),n},JI=({type:e,progressValuesArray:t,target:n,templatesPerProperty:r,reversedStackingIndex:i,selfAndAboveTravelProgressSum:s})=>{let o=i!=null,a=l=>e==="travel"?l:o&&s?s?.[i]+l:0;return{target:n,keyframes:e1()?[Nb(r,a(t[0])),Nb(r,a(t[t.length-1]))]:t.map(l=>Nb(r,a(l)))}},l2e=({sheetId:e,destinationDetent:t,setSegment:n,viewElement:r,scrollContainer:i,travellingElement:s,contentPlacement:o,positionToScrollTo:a,scrollAxis:l,animationConfig:c,onTravel:u,onTravelStart:d,onTravelEnd:f,runOnTravelStart:h,rAFLoopEndCallback:m,dimensions:v,trackToTravelOn:_})=>{let y,b,C=rt.findSheet(e);if(!C)return;let S=[],x=[];S=C.travelAnimations,C.belowSheetsInStack.forEach(Q=>{x.push(...Q.stackingAnimations.map(ie=>({...ie,reversedStackingIndex:C.belowSheetsInStack.length-1,selfAndAboveTravelProgressSum:Q.selfAndAboveTravelProgressSum})))}),h&&d?.();let w=!(c.hasOwnProperty("contentMove")&&!c.contentMove),E=v.current.view.travelAxis.unitless,T=v.current.content.travelAxis.unitless,O=r.getBoundingClientRect(),k=s.getBoundingClientRect(),A=o!=="center"?T:T+(E-T)/2,I=k.top-O.top,P=k.left-O.left,D=0;switch(_){case"top":D=I+A;break;case"bottom":D=I-A;break;case"left":D=P+A;break;case"right":D=P-A}let R=Math.max(Math.abs(D)/A,0),F=v.current.progressValueAtDetents[t].exact,j=F*A,V=_==="left"||_==="top"?j:-j,{progressValuesArray:B,easing:M,duration:re,delay:ge}=a2e({origin:D,destination:V,animationConfig:c}),N=F-R,we=function(Q,ie){let Me=[];for(let Z=0;Z<Q.length-1;Z+=ie)Me.push(Q[Z]);return Q.length%ie!=0&&Me.push(Q[Q.length-1]),Me}(B,8),ye=we.map(Q=>R+N*Q),X=[];S.length&&X?.push(...S.map(Q=>JI({type:"travel",progressValuesArray:ye,target:Q.target,templatesPerProperty:Q.config}))),x.length&&X?.push(...x.map(Q=>JI({type:"stacking",progressValuesArray:ye,target:Q.target,templatesPerProperty:Q.config,reversedStackingIndex:Q.reversedStackingIndex,selfAndAboveTravelProgressSum:Q.selfAndAboveTravelProgressSum}))),y=l==="x"?"X":"Y";let de=Q=>({transform:"translate"+y+"("+(D-V)*(1-Q)+"px)"});b=e1()?[de(we[0]),de(we[we.length-1])]:we.map(Q=>({transform:"translate"+y+"("+(D-V)*(1-Q)+"px)"}));let ee=()=>{i.scrollTo({left:l==="x"?a:0,top:l==="y"?a:0})},ke=Q=>{let ie;if(!w)return Q();ie=e1()?s.animate(b,{easing:"linear("+we.join(",")+")",duration:re,delay:ge}):s.animate(b,{easing:M,duration:re,delay:ge});let Me=()=>{Q(),ie.removeEventListener("finish",Me)};ie.addEventListener("finish",Me)},se=Q=>{if(!X.length)return Q();let ie=[],Me=e1();X?.forEach(({target:Z,keyframes:$})=>{let U;U=Me?Z.animate($,{easing:"linear("+we.join(",")+")",duration:re,delay:ge}):Z.animate($,{easing:M,duration:re,delay:ge});let pe=new Promise(Ae=>{let te=()=>{Object.entries($[$.length-1]).forEach(([L,H])=>{Z.style.setProperty((L.startsWith("webkit")||L.startsWith("moz")?"-":"")+L.replace(/[A-Z]/g,"-$&").toLowerCase(),H)}),U.removeEventListener("finish",te),Ae()};U.addEventListener("finish",te)});ie.push(pe)}),Promise.all(ie).then(()=>{Q()})},fe=null,he=Q=>{(function ie(Me,Z,$){let U=v.current.progressValueAtDetents,pe=U.length;fe||(fe=Me);let Ae=Me-fe,te=Math.floor(Ae);if(te<B.length){let L=R+N*B[te];if(L<0)Z(L,[0,0]);else if(L>1)Z(L,[1,1]);else for(let H=0;H<pe;H++){let W=U[H],ae=W.after;L>ae&&H+1<pe&&L<U[H+1].before?Z(L,[H,H+1]):L>W.before&&L<ae&&Z(L,[H,H])}requestAnimationFrame(()=>ie(document.timeline.currentTime,Z,$))}else{let L=Math.min(pe-1,t);Z(F,[L,L]),w||X?.length||m==null||m(),$()}})(document.timeline.currentTime,(ie,Me)=>{u?.({progress:ie,range:{start:Me[0],end:Me[1]},progressAtDetents:v.current.exactProgressValueAtDetents}),n(Me)},Q)},Oe=Q=>new Promise(ie=>{Q(()=>ie())}),Ze=()=>{f?.()},le=async()=>{await Promise.all([Oe(ke),Oe(se),Oe(he)]),Ze()};requestAnimationFrame(()=>{requestAnimationFrame(()=>{ee(),le()})})},c2e=({desiredDestinationDetent:e,currentDetent:t})=>typeof e=="number"?e:t,u2e=({trackToTravelOn:e,destinationDetent:t,detentCountExcludingZero:n,actualSwipeOutDisabledWithDetent:r,hasOppositeTracks:i,contentPlacement:s,elementsDimensions:o,snapBackAcceleratorTravelAxisSize:a})=>{var l;if(((l=o.detentMarkers)===null||l===void 0?void 0:l.length)<=t-1)return{positionToScrollTo:null,scrollAxis:null};let c=t===0,u=t===1,d=t===n,f=e==="right"||e==="bottom",h=o.view.travelAxis.unitless,m=o.content.travelAxis.unitless,v=o.snapOutAccelerator.travelAxis.unitless,_=o.detentMarkers,y=c?0:_[t-1].accumulatedOffsets.travelAxis.unitless,b=0;if(i)d?b=h-(h-m)/2+o.snapOutAccelerator.travelAxis.unitless:c&&(b=f?0:1e4);else if(f)d?b=1e4:r&&u||c?b=0:d||r&&u||c||(b=r?_[t-1].accumulatedOffsets.travelAxis.unitless-_[0].travelAxis.unitless:y+v);else if(e==="left"||e==="top"){let C;C=r&&u?2*a:d?0:a,b=s==="center"?t===0?m+(h-m)/2-y+C:0:m-y+C}return{positionToScrollTo:b,scrollAxis:e==="left"||e==="right"||e==="horizontal"?"x":"y"}};var d2e=({destinationDetent:e,behavior:t="instant",runTravelCallbacksAndAnimations:n=!0,runOnTravelStart:r,animationConfig:i,rAFLoopEndCallback:s,trackToTravelOn:o,contentPlacement:a,onTravel:l,onTravelStart:c,onTravelEnd:u,fullTravelCallback:d,setProgrammaticScrollOngoing:f,currentDetent:h,segment:m,setSegment:v,lastProgressValue:_,dimensions:y,viewRef:b,scrollContainerRef:C,contentWrapperRef:S,sheetId:x,stackId:w,actualSwipeOutDisabledWithDetent:E,hasOppositeTracks:T,snapBackAcceleratorTravelAxisSize:O})=>{if(e===void 0&&h===null)return;let k=y.current,A=C.current;if(A&&k.content){let I=c2e({desiredDestinationDetent:e,currentDetent:h}),P=y.current.detentMarkers.length,{positionToScrollTo:D,scrollAxis:R}=u2e({destinationDetent:I,detentCountExcludingZero:P,trackToTravelOn:o,actualSwipeOutDisabledWithDetent:E,hasOppositeTracks:T,contentPlacement:a,snapBackAcceleratorTravelAxisSize:O,elementsDimensions:k});if(D!==null&&R!==null){if(f(!0),t==="smooth")l2e({sheetId:x,destinationDetent:I,setSegment:v,viewElement:b.current,scrollContainer:A,travellingElement:S.current,positionToScrollTo:D,contentPlacement:a,scrollAxis:R,animationConfig:i,onTravel:l,onTravelStart:c,onTravelEnd:u,runOnTravelStart:r,rAFLoopEndCallback:s,dimensions:y,trackToTravelOn:o});else if(n&&r&&c?.(),R==="x"?(A.scrollTo(D,0),A.scrollLeft=D):(A.scrollTo(0,D),A.scrollTop=D),v([I,I]),n){let F=y.current.progressValueAtDetents[I].exact;d?.(F,m),u?.()}}}};let ef=e=>{let t=p.useRef(null);return An(()=>{t.current=e}),p.useCallback((...n)=>{let r=t.current;return r(...n)},[])},f2e=e=>{let t,n=()=>{e(),t=requestAnimationFrame(n)};return n(),()=>{cancelAnimationFrame(t)}},h2e=(()=>{let e=!0;typeof window>"u"||CSS.supports("scroll-snap-align: start")||(e=!1);let t=!0;return typeof window>"u"||"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype||(t=!1),e&&t})(),Z1={gentle:{stiffness:560,damping:68,mass:1.85},smooth:{stiffness:580,damping:60,mass:1.35},snappy:{stiffness:350,damping:34,mass:.9},brisk:{stiffness:350,damping:28,mass:.65},bouncy:{stiffness:240,damping:19,mass:.7},elastic:{stiffness:260,damping:20,mass:1}},Pb=(e,t)=>{var n;let r=typeof e=="string",i=r?Z1[e]:(n=Z1[e?.preset])!==null&&n!==void 0?n:null,s=i||e?.easing==="spring"||["ease","ease-in","ease-out","ease-in-out","linear"].includes(e?.easing);return{skip:q9,easing:"spring",...r?{}:e,...i??{},...s?{}:t}},p2e=(e,t)=>e.includes("skipOpening:true")||t.skipOpening,QI=(e,t)=>!e.includes("skipOpening:true")&&!t.skipOpening,m2e=(e,t)=>e.includes("skipClosing:true")||t.skipClosing,g2e=(e,t)=>!e.includes("skipClosing:true")&&!t.skipClosing,XI=e=>e.includes("openness:closed.status:safe-to-unmount"),v2e=()=>{let e="false",[t,n]=WI(p.useMemo(()=>[{name:"staging",initial:"none",states:{none:{messages:{OPEN:[{guard:(m,v)=>XI(m)&&QI(m,v),target:"opening"},{guard:XI,target:"open"}],OPEN_PREPARED:[{guard:QI,target:"opening"},{target:"open"}],ACTUALLY_CLOSE:[{guard:g2e,target:"closing"}],ACTUALLY_STEP:"stepping",GO_DOWN:[{guard:(m,v)=>!v.skipOpening,target:"going-down"},{target:"go-down"}],GO_UP:"going-up"}},open:{messages:{NEXT:"none"}},opening:{messages:{NEXT:"none"}},stepping:{messages:{NEXT:"none"}},closing:{messages:{NEXT:"none"}},"go-down":{messages:{NEXT:"none"}},"going-down":{messages:{NEXT:"none"}},"going-up":{messages:{NEXT:"none"}}}},{name:"longRunning",initial:e,states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"openness",initial:"closed",states:{closed:{messages:{READY_TO_OPEN:[{guard:(m,v)=>!v.skipOpening,target:"opening"},{target:"open"}]},machines:{name:"status",initial:"safe-to-unmount",states:{pending:{messages:{OPEN:[{guard:p2e,target:"openness:closed.status:flushing-to-preparing-open"},{target:"openness:closed.status:flushing-to-preparing-opening"}],"":"safe-to-unmount"}},"flushing-to-preparing-open":{messages:{"":"preparing-open"}},"flushing-to-preparing-opening":{messages:{"":"preparing-opening"}},"preparing-open":{},"preparing-opening":{},"safe-to-unmount":{}}}},opening:{messages:{NEXT:"open"}},open:{messages:{ACTUALLY_CLOSE:[{guard:m2e,target:"openness:closed.status:pending"}],SWIPED_OUT:"openness:closed.status:pending",READY_TO_CLOSE:[{guard:(m,v)=>!v.skipClosing,target:"closing"}]},machines:[{name:"scroll",initial:"ended",states:{ended:{messages:{SCROLL_START:"ongoing"},machines:[{name:"afterPaintEffectsRun",initial:"false",states:{false:{messages:{OCCURRED:"true"}},true:{}}}]},ongoing:{messages:{SCROLL_END:"ended"}}}},{name:"move",initial:"ended",states:{ended:{messages:{MOVE_START:"ongoing"}},ongoing:{messages:{MOVE_END:"ended"}}}},{name:"swipe",silentOnly:!0,initial:"unstarted",states:{unstarted:{messages:{SWIPE_START:"ongoing"}},ongoing:{messages:{SWIPE_END:"ended"}},ended:{messages:{SWIPE_START:"ongoing",SWIPE_RESET:"unstarted"}}}},{name:"evaluateCloseMessage",silentOnly:!0,initial:"false",states:{false:{messages:{CLOSE:"true"}},true:{messages:{CLOSE:"false"}}}},{name:"evaluateStepMessage",silentOnly:!0,initial:"false",states:{false:{messages:{STEP:"true"}},true:{messages:{STEP:"false"}}}}]},closing:{messages:{NEXT:"openness:closed.status:pending"}}}},{name:"skipOpening",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"skipClosing",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"scrollContainerTouch",silentOnly:!0,initial:"ended",states:{ended:{messages:{TOUCH_START:"ongoing"}},ongoing:{messages:{TOUCH_END:"ended"}}}},{name:"backStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}},{name:"frontStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}}],[e])),[r,i]=WI(p.useMemo(()=>[{name:"active",initial:"false",states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"position",initial:"out",states:{out:{messages:{READY_TO_GO_FRONT:[{guard:(m,v)=>v.skipOpening,target:"position:front.status:idle"},{target:"position:front.status:opening"}]}},front:{machines:[{name:"status",initial:"opening",states:{opening:{messages:{NEXT:"idle"}},closing:{messages:{NEXT:"position:out"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(m,v)=>v.skipOpening,target:"position:covered.status:idle"},{target:"position:covered.status:going-down"}],READY_TO_GO_OUT:"closing",GO_OUT:"position:out"}}}}]},covered:{machines:[{name:"status",initial:"going-down",states:{"going-down":{messages:{NEXT:"idle"}},"going-up":{messages:{NEXT:"indeterminate"}},indeterminate:{messages:{GOTO_idle:"idle",GOTO_front:"position:front.status:idle"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(m,v)=>v.skipOpening,target:"come-back"},{target:"going-down"}],READY_TO_GO_UP:"going-up",GO_UP:"indeterminate"}},"come-back":{messages:{"":"idle"}}}}]}}}],[])),s=p.useMemo(()=>r.matches("position:out")?"out":r.matches("position:front")?"front":r.matches("position:covered")?"covered":void 0,[r]),o=p.useMemo(()=>r.matches("position:covered.status:idle")?"idle":r.matches("position:covered.status:going-down")?"going-down":r.matches("position:covered.status:going-up")?"going-up":null,[r]),a=Qi(t,"staging"),l=p.useMemo(()=>a.getValues()[0],[a]),[c,u]=Xye(-1),d=vc(),f=vc();return p.useMemo(()=>({titleId:d,descriptionId:f,staging:l,opennessState:t,sendToOpennessMachine:n,positionState:r,sendToPositionMachine:i,layerPosition:s,layerCovered:o,stackingIndex:c,assignStackingIndex:u}),[d,f,l,t,n,r,i,s,o,c,u])},sH=Fe.forwardRef((e,t)=>{let n,{forComponent:r,as:i,children:s,className:o,"data-silk":a,initialState:l,onPresentAutoFocus:c,onDismissAutoFocus:u,onTravelStatusChange:d,onTravelRangeChange:f,swipeDismissal:h=!0,swipe:m=!0,snapOutAcceleration:v="auto",snapToEndDetentsAcceleration:_="auto",onTravel:y,onTravelStart:b,onTravelEnd:C,detents:S,inertOutside:x=!0,nativeEdgeSwipePrevention:w=!1,onSwipeFromEdgeToGoBackAttempt:E,onClickOutside:T,onEscapeKeyDown:O,onFocusInside:k,nativeFocusScrollPrevention:A=!0,contentPlacement:I=null,tracks:P,swipeOvershoot:D=!0,swipeTrap:R,enteringAnimationSettings:F,exitingAnimationSettings:j,steppingAnimationSettings:V,id:B,...M}=e,re=r??Ya,ge=p.useContext(re)||{},{license:N,StackContext:we,CustomSheetContext:ye,sheetRole:X,open:de,onOpenChange:ee,elementFocusedLastBeforeShowing:ke,onSafeToUnmountChange:se,setLongRunning:fe,setStaging:he,defaultActiveDetent:Oe,activeDetent:Ze,onActiveDetentChange:le,sheetId:Q}=ge,{titleId:ie,descriptionId:Me,staging:Z,opennessState:$,sendToOpennessMachine:U,positionState:pe,sendToPositionMachine:Ae,layerCovered:te,stackingIndex:L,assignStackingIndex:H}=v2e(),W=Qi($,"staging"),{stackId:ae,setSheetsCount:Re,updateSheetStagingDataInStack:st,removeSheetStagingDataInStack:pt,updateSheetDataInStack:lt,removeSheetDataFromStack:nt,getPreviousSheetDataInStack:St}=we?p.useContext(we):{},{ancestorPrimarySwipeTrapActiveOnYAxis:wt}=p.useContext(bs)||{},At=iH(),mt=p.useRef(null),yn=Kr(mt,At,t),fr=p.useRef(null),hr=p.useRef(null),zt=p.useRef(null),Jr=p.useRef(null),pr=p.useRef(null),Qr=p.useRef(null),Un=p.useRef(null),Bc=p.useRef([]),Xr=p.useMemo(()=>S?typeof S=="string"?[S,"var(--silk-aF)"]:[...S,"var(--silk-aF)"]:["var(--silk-aF)"],[S]),ta=p.useRef(null);p.useEffect(()=>{ta.current===null&&Number.isInteger(Ze)&&Ze>0&&(ta.current=Ze)},[]);let qn=p.useMemo(()=>Number.isInteger(Oe)?Oe:Number.isInteger(Ze)&&Ze>0?Ze:ta.current?ta.current:1,[Ze,Oe]),{actualTrack:Ke,actualPlacement:on}=p.useMemo(()=>{let z={actualPlacement:null,actualTrack:null};return I&&!P?(z.actualPlacement=I,I!=="center"?z.actualTrack=I:z.actualTrack="bottom"):P&&!I?Array.isArray(P)?(z.actualPlacement="center",z.actualTrack=P.includes("left")?"horizontal":"vertical"):(z.actualPlacement=P,z.actualTrack=P):P||I?P&&I&&(z.actualPlacement=I,Array.isArray(P)?z.actualTrack=P.includes("left")?"horizontal":"vertical":z.actualTrack=P):(z.actualPlacement="bottom",z.actualTrack="bottom"),[{state:"staging:opening",configTrack:F?.track},{state:"staging:closing",configTrack:j?.track}].forEach(({state:oe,configTrack:ce})=>{$.matches(oe)&&ce&&(ce==="top"&&z.actualTrack==="bottom"||ce==="bottom"&&z.actualTrack==="top"?z.actualTrack="vertical":(ce==="left"&&z.actualTrack==="right"||ce==="right"&&z.actualTrack==="left")&&(z.actualTrack="horizontal"))}),z},[I,P,F?.track,j?.track,$]);p.useMemo(()=>Ke==="horizontal",[Ke]);let ev=p.useMemo(()=>Ke==="vertical",[Ke]);p.useEffect(()=>{if(I?.includes("top")&&P&&P!=="top"||I?.includes("bottom")&&P&&P!=="bottom"||!I?.includes("center")&&P&&P.includes("top")&&P.includes("bottom")||I?.includes("left")&&P&&P!=="left"||I?.includes("right")&&P&&P!=="right"||!I?.includes("center")&&P&&P.includes("left")&&P.includes("right"))throw Error(`'placement' prop value '${I}' cannot be used with 'tracks' prop value '${P}'.`)},[I,P]);let fo=p.useMemo(()=>F?.track||(Ke==="horizontal"?"right":Ke==="vertical"?"bottom":Ke),[F?.track,Ke]),ei=p.useMemo(()=>Pb(F,Z1.smooth),[F]),Ie=p.useMemo(()=>Pb(j,{easing:"spring",stiffness:520,damping:44,mass:1}),[j]),Ft=p.useMemo(()=>Pb(V??F,Z1.smooth),[V,F]),bt=p.useMemo(()=>X==="alertdialog"||!h,[h,X]),gt=(Ke!=="horizontal"&&Ke!=="vertical"||!!bt)&&!D,[ot,xt,Jn,wn]=p.useMemo(()=>{let z=!1,J=!1,oe=!1,ce=!1;return m&&h2e?bt&&(S?(oe=!0,$.matches("openness:open")&&!$.matches("staging:closing")&&(J=!0)):$.matches("openness:open")&&!$.matches("staging:closing")&&(gt===!1&&Oa()?ce=!0:z=!0)):$.matches("openness:closed")||(z=!0),[z,J,oe,ce]},[m,$,bt,S,gt]),As=p.useMemo(()=>W.getValues()[0]!=="none",[W]),Is=["right","left","horizontal"].includes(Ke)?"horizontal":"vertical",[na,fl]=p.useState(!1),[hl,ti]=p.useState(!1),pl=p.useMemo(()=>!x&&(x?void 0:na!==!0),[x,na]),Nr=p.useMemo(()=>gt===!0?_==="auto"?10:1:0,[gt,_]),Hi=p.useRef(null);p.useEffect(()=>(Q&&(Hi.current=rt.addSheet({id:Q,stackId:ae,stackingIndex:-1,sendToOpennessMachine:U})),()=>{Q&&rt.attemptToRemoveSheetOrCleanup(Q)}),[U,Q,ae]),p.useEffect(()=>(A&&rt.addNativeFocusScrollPreventer(Q),()=>{A&&rt.removeNativeFocusScrollPreventer(Q)}),[A,Q]);let Je=p.useMemo(()=>St?.(Q),[St,Q]),[Uc,dY]=p.useState(null),qc=p.useMemo(()=>y&&Uc?z=>{Uc(z),y(z)}:y&&!Uc?y:!y&&Uc?Uc:null,[y,Uc]),Bd=p.useCallback(()=>{C?.();let z=nn.current.exactProgressValueAtDetents[jt.current[0]];sa.current=z,rt.updateSheetTravelProgress(Q,z)},[C,Q]),ho=p.useMemo(()=>{let z;if(L.value>0)z=qc?(J,oe)=>{qc({progress:J,range:oe,progressAtDetents:nn.current.exactProgressValueAtDetents});let ce=Pu(J);Hi.current.aggregatedTravelCallback(J,ce)}:J=>{let oe=Pu(J);Hi.current.aggregatedTravelCallback(J,oe)};else{let J=rt.getAggregatedStackingCallbackForSheetsBelow(Q);z=J?qc?(oe,ce)=>{qc({progress:oe,range:ce,progressAtDetents:nn.current.exactProgressValueAtDetents});let Ge=Pu(oe);Hi.current.aggregatedTravelCallback(oe,Ge),J(oe,Ge)}:oe=>{let ce=Pu(oe);Hi.current.aggregatedTravelCallback(oe,ce),J(oe,ce)}:()=>{}}return z},[L.value,qc,Q]),Ud=p.useRef(!1),m7=p.useMemo(()=>{let z;return Ke==="bottom"||Ke==="vertical"?z="translateY(-2px)":Ke==="top"?z="translateY(2px)":Ke==="right"||Ke==="horizontal"?z="translateX(-2px)":Ke==="left"&&(z="translateX(2px)"),J=>{J>0&&J<1&&!Ud.current?(pr.current.style.setProperty("transform",z),Ud.current=!0):(J>1||J<=0)&&Ud.current&&(pr.current.style.removeProperty("transform"),Ud.current=!1)}},[Ke]),yp=p.useMemo(()=>wn?z=>m7(z):ho,[m7,wn,ho]),[qd,bp]=p.useState("both"),g7=GG(mt);p.useEffect(()=>{var z,J;let oe,ce,Ge;if(typeof R=="boolean")oe={x:R,y:R};else{let{x:Rn,y:mr}=R||{};oe={x:Rn,y:mr}}let Qe=(mn==="ios"||mn==="ipados")&&x&&!wt,Ct=HG();Is==="vertical"&&(ce=oe.x,Ge=!!Qe||!Ct&&((z=oe.y)===null||z===void 0||z)),Is==="horizontal"&&(Ge=!!Qe||oe.y,ce=(J=oe.x)===null||J===void 0||J),Ge=!!Ge||g7,bp(ce&&!Ge?"horizontal":!ce&&Ge?"vertical":ce&&Ge?"both":"none")},[wt,x,R,g7,Is]);let nn=p.useRef({}),[v7,fY]=p.useState(0),[hY,pY]=p.useState(()=>()=>({top:null,bottom:null})),tv=p.useRef([]),jt=p.useRef([0,0]),Cp=p.useRef(0),Mn=p.useRef(null),nv=p.useRef(()=>{}),Sp=p.useRef(!1),_7=p.useRef(!1),rv=p.useCallback(z=>_7.current=z,[]),Er=ef(({destinationDetent:z,trackToTravelOn:J=Ke==="vertical"?"bottom":Ke==="horizontal"?"right":Ke,behavior:oe="instant",runTravelCallbacksAndAnimations:ce=!0,runOnTravelStart:Ge=!0,animationConfig:Qe,rAFLoopEndCallback:Ct,travelEndCallback:Rn})=>{d2e({destinationDetent:z,behavior:oe,runTravelCallbacksAndAnimations:ce,runOnTravelStart:Ge,trackToTravelOn:J,animationConfig:Qe,rAFLoopEndCallback:Ct,onTravel:qc,onTravelStart:b,onTravelEnd:()=>{Rn?.(),Bd()},segment:jt,fullTravelCallback:ho,sheetId:Q,stackId:ae,dimensions:nn,snapBackAcceleratorTravelAxisSize:Nr,actualSwipeOutDisabledWithDetent:xt,lastProgressValue:sa,viewRef:mt,scrollContainerRef:zt,contentWrapperRef:pr,currentDetent:jt.current[0]===jt.current[1]?jt.current[0]:null,setSegment:mo,setProgrammaticScrollOngoing:rv,contentPlacement:on,hasOppositeTracks:Ke==="horizontal"||Ke==="vertical"})}),mY=p.useCallback(()=>{jt.current[0]===jt.current[1]&&Er({runTravelCallbacksAndAnimations:!1,destinationDetent:jt.current[0]})},[Q,Ke,xt,wn,Nr]),gY=p.useCallback(z=>{lt?.({sheetId:Q,sendToOpennessMachine:U,sendToPositionMachine:Ae})},[lt,Q,U,Ae]),y7=p.useCallback(()=>{nt?.(Q)},[nt,Q]),b7=p.useMemo(()=>X==="alertdialog"?()=>{}:()=>U({type:"CLOSE"}),[U,X]),vY=p.useCallback(()=>{rt.updateLayer({layerId:Q,layerContextId:ye,layerStackContextId:we,inertOutside:x,onPresentAutoFocus:c,onDismissAutoFocus:u,dismissOverlayIfNotAlertDialog:b7,onClickOutside:T,onEscapeKeyDown:O,viewElement:mt.current,backdropElement:hr.current,scrollContainerElement:zt.current,elementFocusedLastBeforeShowing:ke.current})},[Q,ye,we,x,c,u,b7,T,O,ke]),C7=p.useCallback(()=>{rt.removeLayer(Q)},[Q]),_Y=p.useCallback(()=>{let z=ce=>["ArrowDown","ArrowUp","PageDown","PageUp","End","Home"," "].includes(ce.key),J=ce=>{if(z(ce)){var Ge,Qe;(Ge=zt.current)===null||Ge===void 0||Ge.style.setProperty("overflow","hidden"),(Qe=zt.current)===null||Qe===void 0||Qe.style.setProperty("scroll-snap-type","none")}},oe=ce=>{if(z(ce)){var Ge,Qe;(Ge=zt.current)===null||Ge===void 0||Ge.style.removeProperty("overflow"),(Qe=zt.current)===null||Qe===void 0||Qe.style.removeProperty("scroll-snap-type")}};return document.addEventListener("keydown",J),document.addEventListener("keyup",oe),()=>{document.removeEventListener("keydown",J),document.removeEventListener("keyup",oe)}},[]),zc=p.useCallback(()=>{H(z=>z+1),rt.updateSheetStackingIndex(Q,L.silent.value)},[H,L.silent,Q]),ra=p.useCallback(()=>{H(z=>z-1),rt.updateSheetStackingIndex(Q,L.silent.value)},[H,L.silent,Q]),wp=Qi(pe,"active");Dr("after-paint",wp,{state:"active:true",callback:vY}),Dr("after-paint",wp,{state:"active:true",callback:_Y}),Ve("after-paint",wp,{state:"active:false",callback:C7});let Gc=Qi(pe,"position"),ia=Qi(pe,"position:covered.status");Et(Gc,{state:"position:out",transition:"READY_TO_GO_FRONT",callback:p.useCallback(z=>{Je?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:z.skipOpening}),zc()},[zc,Je])}),Et(pe,{state:"position:front.status:opening",transition:"NEXT",callback:p.useCallback(()=>{Je?.sendToPositionMachine("NEXT")},[Je])}),Et(pe,{state:"position:front.status:idle",transition:"READY_TO_GO_OUT",callback:p.useCallback(()=>{Je?.sendToPositionMachine("READY_TO_GO_UP")},[Je])}),Et(pe,{state:"position:front.status:idle",transition:"GO_OUT",callback:p.useCallback(()=>{ho?.(0,{start:0,end:0}),Bd(),Je?.sendToPositionMachine("GO_UP"),ra()},[ho,Bd,Je,ra])}),Et(pe,{state:"position:front.status:idle",transition:"READY_TO_GO_DOWN",callback:p.useCallback(z=>{Je?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:z.skipOpening}),zc()},[zc,Je])}),Et(pe,{state:"position:front.status:closing",transition:"NEXT",callback:p.useCallback(()=>{Je?.sendToPositionMachine("NEXT"),ra()},[Je,ra])}),Et(ia,{state:"position:covered.status:going-down",transition:"NEXT",callback:p.useCallback(()=>{Je?.sendToPositionMachine("NEXT")},[Je])}),Et(ia,{state:"position:covered.status:idle",transition:"READY_TO_GO_DOWN",callback:p.useCallback(z=>{Je?.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:z.skipOpening}),zc()},[zc,Je])}),Et(ia,{state:"position:covered.status:idle",transition:"READY_TO_GO_UP",callback:p.useCallback(()=>{Je?.sendToPositionMachine("READY_TO_GO_UP")},[Je])}),Et(ia,{state:"position:covered.status:idle",transition:"GO_UP",callback:p.useCallback(()=>{Je?.sendToPositionMachine("GO_UP"),ra()},[ra,Je])}),Ve("immediate",ia,{state:"position:covered.status:come-back",callback:p.useCallback(()=>Ae(""),[Ae])}),Et(ia,{state:"position:covered.status:going-up",transition:"NEXT",callback:p.useCallback(()=>{Je?.sendToPositionMachine("NEXT"),ra()},[Je,ra])}),Ve("immediate",ia,{state:"position:covered.status:indeterminate",callback:p.useCallback(()=>{L.silent.value===0?Ae("GOTO_front"):Ae("GOTO_idle")},[L.silent,Ae])});let Hc=p.useCallback(()=>Je?.sendToOpennessMachine({machine:"staging",type:"NEXT"}),[Je]),po=p.useCallback((z,{newState:J})=>{he(J),st?.({sheetId:Q,staging:J})},[n,he,st,Q]),zd=p.useCallback((z,{newState:J})=>{d?.(J)},[d]),mo=p.useMemo(()=>{let z=J=>{Cp.current=J[1],queueMicrotask(()=>{let oe=J[0],ce=J[1];(oe!==jt.current[0]||ce!==jt.current[1])&&(jt.current=J,oe===ce&&(Mn.current===null&&le?le(ce):oe===Mn.current&&(Mn.current=null)))})};return f&&gt===!1?z=J=>{Cp.current=J[1],queueMicrotask(()=>{let oe=J[0],ce=J[1];(oe!==jt.current[0]||ce!==jt.current[1])&&(jt.current=J,f({start:oe,end:ce}),oe===ce&&(Mn.current===null&&le?le(ce):oe===Mn.current&&(Mn.current=null)))})}:gt===!0&&(z=Jn?J=>{Cp.current=J[1],queueMicrotask(()=>{let oe=J[0],ce=J[1];if(oe!==jt.current[0]||ce!==jt.current[1]){let Ge=Xr.length;xt&&oe===1&&ce===1?U({machine:"backStuck",type:"STUCK_START"}):oe===Ge&&ce===Ge?U({machine:"frontStuck",type:"STUCK_START"}):Gd.current?U({machine:"frontStuck",type:"STUCK_END"}):xp.current&&U({machine:"backStuck",type:"STUCK_END"}),jt.current=J,f?.({start:oe,end:ce}),oe===ce&&(Mn.current===null&&le?le(ce):oe===Mn.current&&(Mn.current=null))}})}:J=>{Cp.current=J[1],queueMicrotask(()=>{let oe=J[0],ce=J[1];if(oe!==jt.current[0]||ce!==jt.current[1]){let Ge=Xr.length;oe===Ge&&ce===Ge?U({machine:"frontStuck",type:"STUCK_START"}):Gd.current&&U({machine:"frontStuck",type:"STUCK_END"}),jt.current=J,f?.({start:oe,end:ce}),oe===ce&&(Mn.current===null&&le?le(ce):oe===Mn.current&&(Mn.current=null))}})}),z},[f,gt,le,Jn,xt,Xr.length,U]),ml=p.useCallback(z=>{let J={destinationDetent:z==="front"?nn.current.detentMarkers.length:1,runTravelCallbacksAndAnimations:!1};if(Er(J),Oa()){var oe;(oe=zt.current)===null||oe===void 0||oe.style.setProperty("overflow","hidden"),setTimeout(()=>{var ce;(ce=zt.current)===null||ce===void 0||ce.style.removeProperty("overflow")},CSS.supports("overscroll-behavior","none")?1:10)}Sp.current=!1},[Er]),S7=p.useCallback((z,J)=>{let oe=jt.current[0],ce=J??null;if(ce===null){var Ge,Qe;ce=(z??"up")==="up"?(Ge=jt.current[0])<Xr.length?Ge+1:1:(Qe=jt.current[0])>1?Qe-1:Xr.length}return ce===0||ce===oe?null:ce},[Xr]),w7=p.useCallback(({direction:z,detent:J,behavior:oe})=>{let ce=()=>{let Ge=S7(z,J);Ge&&U({type:"ACTUALLY_STEP",detent:Ge,behavior:oe})};$.silent.matches("openness:open.scroll:ended.afterPaintEffectsRun:true")?ce():av.current=ce},[$.silent,S7,U]),E7=p.useCallback((z,J)=>{Mn.current=z,le?.(z),Er({destinationDetent:z,behavior:J??(Ft.skip?"instant":"smooth"),animationConfig:Ft,travelEndCallback:()=>U({machine:"staging",type:"NEXT"})})},[le,Er,Ft,U]),x7=p.useCallback((z,J,oe,ce)=>{let Ge;if(z==="auto"){let Qe=ce==="center"?oe+(J-oe)/2:oe;Ge=Eo==="chromium"?Qe<=1440?70+.25*Qe:.3*Qe:Oa()?mn==="ios"||mn==="ipados"?Qe<=716?15+.1*Qe:.12*Qe:.5*Qe:10}else if(typeof z=="function"){let Qe=parseInt(z(oe),10);Ge=Qe<1?1:Qe>oe/2?oe/2:Qe}else z==="initial"&&(Ge=1);return Ge},[]),k7=p.useCallback(()=>{if(mt.current){let z=(J,oe)=>mt.current.style.setProperty(J,oe);z("--silk-aD",nn.current.view.travelAxis.px),z("--silk-aE",nn.current.view.crossAxis.px),z("--silk-aF",nn.current.content.travelAxis.px),z("--silk-aG",nn.current.content.crossAxis.px),z("--silk-aH",nn.current.frontSpacer.travelAxis.px),z("--silk-aI",nn.current.backSpacer.travelAxis.px),z("--silk-aJ",nn.current.snapOutAccelerator.travelAxis.px),z("--silk-aK",nn.current.detentMarkers[0].travelAxis.px)}},[]),yY=p.useCallback(z=>{let J=mt.current,oe=Qr.current,ce=[];Bc.current.forEach(rn=>{ce.push(window.getComputedStyle(rn))});let Ge=rn=>parseFloat(rn),Qe=rn=>parseInt(rn,10),Ct=rn=>Ke==="right"||Ke==="left"||Ke==="horizontal"?rn==="travelAxis"?"width":"height":rn==="travelAxis"?"height":"width",Rn=rn=>{let go,_l,$c,Ms,tt,Wc;return _l=Ge(go=rn.getPropertyValue(Ct("travelAxis"))),$c=Qe(go),tt=Qe(Ms=rn.getPropertyValue(Ct("crossAxis"))),Wc=Qe(Ms),{travelAxis:{px:go,unitless:_l,unitlessRoundedDown:$c},crossAxis:{px:Ms,unitless:tt,unitlessRoundedDown:Wc}}},mr=()=>{let rn,go,_l=window.getComputedStyle(mt.current),$c=window.getComputedStyle(Qr.current),Ms=0;fY(Jt=>Jt+1),nn.current={view:{...Rn(_l)},scroll:{},snapOutAccelerator:{travelAxis:{}},frontSpacer:{travelAxis:{}},backSpacer:{travelAxis:{}},content:{...Rn($c)},detentMarkers:[...ce.map((Jt,xi)=>{let $i=Rn(Jt);return xi!==ce.length-1&&(Ms+=$i.travelAxis.unitless),{...$i,accumulatedOffsets:{travelAxis:{px:Ms+"px",unitless:Ms,unitlessRoundedDown:null}}}})],progressValueAtDetents:[]};let tt=nn.current;tt.scroll=tt.view;let Wc=x7(v,tt.view.travelAxis.unitless,tt.content.travelAxis.unitless,on);tt.snapOutAccelerator.travelAxis.px=Wc+"px",tt.snapOutAccelerator.travelAxis.unitless=Wc,tt.snapOutAccelerator.travelAxis.unitlessRoundedDown=Qe(Wc);let PY=tt.detentMarkers.length,Op=tt.content.travelAxis.unitless-Ms;tt.detentMarkers[PY-1]={travelAxis:{px:Op+"px",unitless:Op,unitlessRoundedDown:null},crossAxis:{px:"1px",unitless:1,unitlessRoundedDown:1},accumulatedOffsets:{travelAxis:{px:Ms+Op+"px",unitless:Ms+Op,unitlessRoundedDown:null}}};let uv=Jt=>({before:Jt(-2.1),exact:Jt(0),after:Jt(2.1)}),Ap=tt.content.travelAxis.unitless,Kc=[uv(Jt=>Jt/Ap)],D7;tt.detentMarkers.slice(0,-1).forEach(Jt=>{let xi=Jt.accumulatedOffsets.travelAxis.unitless;Kc.push(uv($i=>(xi+$i)/Ap))}),Kc.push(uv(Jt=>(Ap+Jt)/Ap)),D7=Kc[qn];let L7=tv.current.length>0?tv.current[jt.current[1]]:0,F7=function(Jt,xi){let $i=0;for(let la=1;la<xi.length;la++){let Hd=xi[la];Math.abs(Hd-Jt)<Math.abs(xi[$i]-Jt)&&($i=la)}return $i}(L7??1,Kc.map(Jt=>Jt.exact));mo([F7,F7]),tt.progressValueAtDetents=Kc,tt.exactProgressValueAtDetents=Kc.map(Jt=>Jt.exact),tv.current=tt.progressValueAtDetents.map(Jt=>Jt.exact),tt.progressValueAtInitialDetent=D7,rn=wn?Ke==="horizontal"||Ke==="vertical"?tt.view.travelAxis.unitless/2+1:1:xt?tt.content.travelAxis.unitless-nn.current.detentMarkers[0].travelAxis.unitless+Nr:Ke==="horizontal"||Ke==="vertical"?tt.view.travelAxis.unitless/2+tt.view.travelAxis.unitless-(tt.view.travelAxis.unitless-tt.content.travelAxis.unitless)/2+tt.snapOutAccelerator.travelAxis.unitless:on==="center"?tt.view.travelAxis.unitless-(tt.view.travelAxis.unitless-tt.content.travelAxis.unitless)/2+tt.snapOutAccelerator.travelAxis.unitless:tt.view.travelAxis.unitless-(tt.view.travelAxis.unitless-tt.content.travelAxis.unitless)+tt.snapOutAccelerator.travelAxis.unitless,tt.frontSpacer.travelAxis.unitless=rn,tt.frontSpacer.travelAxis.px=rn+"px",go=gt===!0&&_==="auto"?tt.view.travelAxis.unitless+Nr:Ke==="horizontal"||Ke==="vertical"?wn?tt.view.travelAxis.unitless/2:tt.view.travelAxis.unitless/2+tt.view.travelAxis.unitless-(tt.view.travelAxis.unitless-tt.content.travelAxis.unitless)/2+tt.snapOutAccelerator.travelAxis.unitless:tt.view.travelAxis.unitless,tt.backSpacer.travelAxis.unitless=go,tt.backSpacer.travelAxis.px=go+"px",k7(),pY(()=>()=>{let Jt,xi;if(!mt.current)return{top:null,bottom:null};let $i=mt.current.getBoundingClientRect(),la=$i.top,Hd=$i.bottom,j7=ev||Ke==="top"||Ke==="bottom",Ip=tt.view[j7?"travelAxis":"crossAxis"].unitless,Mp=tt.content[j7?"travelAxis":"crossAxis"].unitless;return on==="left"||on==="right"||on==="center"?(Jt=la+(Ip-Mp)/2,xi=Hd-(Ip-Mp)/2):on==="top"?(Jt=la,xi=Hd-(Ip-Mp)):on==="bottom"&&(Jt=la+(Ip-Mp),xi=Hd),{top:Jt,bottom:xi}})};mr();let gl=(rn,go)=>{let _l=new ResizeObserver($c=>{$c.forEach(()=>go())});return _l.observe(rn,{box:"border-box"}),_l},oa=()=>{mr(),Er({runTravelCallbacksAndAnimations:!1})},Ei=!0,aa=gl(J,()=>{Ei?Ei=!1:oa()}),vl=!0,Tn=gl(oe,()=>{vl?(mr(),vl=!1):oa()});return()=>{aa&&J&&(aa.unobserve(J),aa.disconnect()),Tn&&oe&&(Tn.unobserve(oe),Tn.disconnect())}},[Ke,x7,v,qn,gt,k7,Nr,_,Er,mo,on,xt,wn,Xr]),T7=p.useCallback(z=>{let J,oe=0,ce=z,Ge=0;return Qe=>{J=Qe;let Ct=ce-Qe;return oe=Ct,(Ct===0||Math.abs(Ct)<Math.abs(Ge/2))&&$.silent.matches("scrollContainerTouch:ongoing")&&(J=ce-Ge/2,oe=ce-J),Math.abs(oe)>=.1&&.35>Math.abs(oe)&&(J=oe>=0?ce-.1:ce+.1,oe=oe>=0?.1:-.1),Qe<=0&&(J=0),ce=J,Ge=oe,J}},[$.silent]),O7=p.useCallback(()=>{var z;let J,oe,ce=Ke==="right"||Ke==="left"||Ke==="horizontal"?"scrollLeft":"scrollTop",Ge=zt.current,Qe=nn.current.snapOutAccelerator.travelAxis.unitless,Ct=nn.current.content.travelAxis.unitless,Rn=nn.current.scroll.travelAxis.unitless,mr=T7((z=sa.current)!==null&&z!==void 0?z:nn.current.progressValueAtDetents[jt.current[1]].exact),gl=Ke==="right"||Ke==="bottom",oa=Ke==="left"||Ke==="top";if(gl||oa){let Ei;if(wn)Ei=oa?Tn=>1-Tn/Ct:Tn=>1+Tn/Ct;else if(gl)if(on!=="center"){let Tn=xt?nn.current.detentMarkers[0].travelAxis.unitless-Nr:-Qe;Ei=rn=>(rn+Tn)/Ct}else{let Tn=Ct+(Rn-Ct)/2;Ei=rn=>(rn-Qe)/Tn}else if(oa)if(on!=="center")Ei=Tn=>(Ct+Nr-Tn)/Ct;else{let Tn=Ct+(Rn-Ct)/2;Ei=rn=>(Tn+Nr-rn)/Tn}let aa=gt===!0?1:10,vl=gt===!0&&xt?nn.current.progressValueAtDetents[1].exact:0;oe=()=>{J=Ge[ce];let Tn=Math.min(Math.max(Ei(J),vl),aa);return Math.min(Math.max(mr(Tn),vl),aa)}}else if(Ke==="horizontal"||Ke==="vertical"){let Ei=(Rn-Ct)/2,aa=wn?0:Qe+Rn-Ei,vl=Ct+Ei;oe=()=>{J=Ge[ce];let Tn=1-Math.abs(J-aa)/vl;return Math.max(mr(Math.max(Tn,0)),0)}}return oe},[Ke,T7,gt,wn,on,xt,Nr,v7]),Ep=p.useRef(),bY=p.useCallback(()=>{let z=zt.current,J=()=>{U({machine:"openness:open.move",type:"MOVE_END"});for(let ce=0;ce<nn.current.progressValueAtDetents.length;ce++){let Ge=nn.current.progressValueAtDetents[ce].exact;sa.current>Ge-.01&&sa.current<Ge+.01&&(U({machine:"openness:open.scroll",type:"SCROLL_END"}),U({machine:"openness:open.swipe",type:"SWIPE_END"}))}},oe=()=>{_7.current?rv(!1):(ov.current||U({machine:"openness:open.scroll",type:"SCROLL_START"}),Gd.current||xp.current||(cv.current||U({machine:"openness:open.swipe",type:"SWIPE_START"}),lv.current||U({machine:"openness:open.move",type:"MOVE_START"}))),clearTimeout(Ep.current),Ep.current=setTimeout(J,200)};return z.addEventListener("scroll",oe),()=>{z.removeEventListener("scroll",oe),clearTimeout(Ep.current)}},[U,rv]),sa=p.useRef(null),CY=p.useCallback(()=>{let z;if(yp){let J=nn.current.progressValueAtDetents,oe=J.length,ce=O7();z=f2e(()=>{let Ge,Qe=ce();if(sa.current!==Qe){for(let Ct=0;Ct<oe;Ct++){let Rn=J[Ct],mr=Rn.after;Qe>mr&&Ct+1<oe&&Qe<J[Ct+1].before?(Ge={start:Ct,end:Ct+1},mo([Ct,Ct+1])):Qe>Rn.before&&Qe<mr?(Ge={start:Ct,end:Ct},mo([Ct,Ct])):Qe<=0&&(Ge={start:0,end:0},mo([0,0]))}nv.current(Qe,Ge),sa.current=Qe}})}return()=>{z?.()}},[mo,yp,O7]),A7=p.useCallback(z=>{let J=1e5,oe=ce=>{J<Math.abs(ce.deltaY)?window.removeEventListener("wheel",oe,{passive:!1}):ce.preventDefault(),J=Math.abs(ce.deltaY)};return window.addEventListener("wheel",oe,{passive:!1}),setTimeout(()=>{z("SWIPED_OUT")},100),()=>window.removeEventListener("wheel",oe,{passive:!1})},[]),SY=p.useCallback((z,{send:J})=>{let oe,ce=mt.current,Ge=Qr.current,Qe=zt.current,Ct=!1,Rn=()=>Ct=!0;window.addEventListener("wheel",Rn,{passive:!0,once:!0});let mr=new IntersectionObserver(function(gl){for(let oa of gl)oa.isIntersecting||(ce.style.setProperty("pointer-events","none","important"),ce.style.setProperty("opacity","0","important"),ce.style.setProperty("position","fixed","important"),ce.style.setProperty("top","-100px","important"),ce.style.setProperty("left","-100px","important"),Ge.style.setProperty("pointer-events","none","important"),Qe.style.setProperty("width","1px","important"),Qe.style.setProperty("height","1px","important"),Qe.style.setProperty("clip-path","inset(0)","important"),requestAnimationFrame(()=>{Ct?oe=A7(J):J("SWIPED_OUT")}))},{root:ce,threshold:[0]});return mr.observe(Ge),()=>{oe?.(),window.removeEventListener("wheel",Rn,{passive:!0,once:!0}),mr&&(mr.unobserve(Ge),mr.disconnect())}},[A7]),wY=p.useRef(()=>0),EY=p.useCallback(()=>{let z=mt.current,J=oe=>{Zs({nativeEvent:oe,defaultBehavior:{},handler:k})};return z?.addEventListener("focus",J,{capture:!0}),()=>{z?.removeEventListener("focus",J,{capture:!0})}},[k]),xY=p.useCallback(z=>{zt.current.contains(z.target)&&U({machine:"scrollContainerTouch",type:"TOUCH_START"})},[U]),kY=p.useCallback(z=>{zt.current.contains(z.target)&&U({machine:"scrollContainerTouch",type:"TOUCH_END"})},[U]);Ve("immediate",W,{state:"staging:none",callback:po,params:{newState:"none"}}),Et(W,{state:"staging:none",transition:"OPEN",callback:p.useCallback(()=>Je?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:ei?.skip}),[Je,ei?.skip])}),Et(W,{state:"staging:none",transition:"OPEN_PREPARED",callback:p.useCallback(z=>Je?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:z.skipOpening}),[Je])}),Et(W,{state:"staging:none",transition:"GO_DOWN",callback:p.useCallback(z=>Je?.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:z.skipOpening}),[Je])}),Et(W,{state:"staging:none",transition:"ACTUALLY_CLOSE",callback:p.useCallback(()=>Je?.sendToOpennessMachine({machine:"staging",type:"GO_UP"}),[Je])}),Et(W,{state:"staging:none",transition:"GO_UP",callback:p.useCallback(z=>Je?.sendToOpennessMachine({machine:"staging",type:"GO_UP",skipClosing:z.skipClosing}),[Je])}),Ve("immediate",W,{state:"staging:open",callback:po,params:{newState:"open"}}),Ve("immediate",W,{state:"staging:open",callback:p.useCallback(()=>{U({machine:"longRunning",type:"TO_TRUE"})},[U])}),Ve("immediate",W,{state:"staging:open",callback:p.useCallback(()=>{de||ee==null||ee(!0)},[de,ee])}),Ve("after-paint",W,{state:"staging:open",callback:p.useCallback(()=>{requestAnimationFrame(()=>{U({machine:"openness",type:"READY_TO_OPEN",skipOpening:!0}),U({machine:"staging",type:"NEXT"})})},[U])}),Et(W,{state:"staging:open",transition:"NEXT",callback:Hc}),Ve("immediate",W,{state:"staging:opening",callback:po,params:{newState:"opening"}}),Ve("immediate",W,{state:"staging:opening",callback:p.useCallback(()=>{U({machine:"longRunning",type:"TO_TRUE"})},[U])}),Ve("immediate",W,{state:"staging:opening",callback:p.useCallback(()=>{de||ee==null||ee(!0)},[de,ee])}),Ve("before-paint",W,{state:"staging:opening",callback:p.useCallback(()=>{b?.(),ho(0,{start:0,end:0})},[ho,b])}),Ve("after-paint",W,{state:"staging:opening",callback:p.useCallback(()=>{requestAnimationFrame(()=>{U({machine:"openness",type:"READY_TO_OPEN",skipOpening:!1})})},[U])}),Dr("after-paint",W,{state:"staging:opening",callback:p.useCallback(()=>(Fye(Q),()=>jye(Q)),[Q])}),Et(W,{state:"staging:opening",transition:"NEXT",callback:Hc}),Ve("immediate",W,{state:"staging:stepping",callback:po,params:{newState:"stepping"}}),Ve("after-paint",W,{state:"staging:stepping",callback:p.useCallback(({detent:z,behavior:J})=>{d?.("stepping"),E7(z,J)},[d,E7])}),da("immediate",W,{state:"staging:stepping",callback:p.useCallback(()=>{d?.("idleInside")},[d])}),Ve("immediate",W,{state:"staging:closing",callback:po,params:{newState:"closing"}}),Ve("immediate",W,{state:"staging:closing",callback:p.useCallback(()=>{de&&ee?.(!1)},[de,ee])}),Ve("after-paint",W,{state:"staging:closing",callback:p.useCallback(()=>{U({machine:"openness",type:"READY_TO_CLOSE"})},[U])}),Et(W,{state:"staging:closing",transition:"NEXT",callback:Hc}),Ve("immediate",W,{state:"staging:go-down",callback:po,params:{newState:"go-down"}}),Et(W,{state:"staging:go-down",transition:"NEXT",callback:Hc}),Ve("immediate",W,{state:"staging:going-down",callback:po,params:{newState:"going-down"}}),Et(W,{state:"staging:going-down",transition:"NEXT",callback:Hc}),Ve("immediate",W,{state:"staging:going-up",callback:po,params:{newState:"going-up"}}),Et(W,{state:"staging:going-up",transition:"NEXT",callback:Hc});let ni=Qi($,"longRunning");Ve("immediate",ni,{state:"longRunning:true",callback:p.useCallback(()=>{ke.current===null&&(ke.current=document.activeElement)},[ke])}),Ve("immediate",ni,{state:"longRunning:true",callback:p.useCallback(()=>{fe(!0),Re?.(z=>z+1)},[fe,Re])}),Dr("before-paint",ni,{state:"longRunning:true",callback:yY}),Ve("before-paint",ni,{state:"longRunning:true",guard:!ei.skip,callback:p.useCallback(()=>{Er({trackToTravelOn:fo,runTravelCallbacksAndAnimations:!1,destinationDetent:0})},[Er,fo])}),Dr("after-paint",ni,{state:"longRunning:true",guard:w,callback:p.useCallback(()=>e2e(fr,E),[E])}),Dr("after-paint",ni,{state:"longRunning:true",callback:gY}),Ve("immediate",ni,{state:"longRunning:false",callback:p.useCallback(()=>{fe(!1),Re?.(z=>z-1)},[fe,Re])}),Ve("immediate",ni,{state:"longRunning:false",callback:p.useCallback(()=>{ke.current=null},[ke])}),Ve("before-paint",ni,{state:"longRunning:false",callback:p.useCallback(()=>{rt.removeAllOutletPersistedStylesFromSheet(Q)},[Q])}),Ve("after-paint",ni,{state:"longRunning:false",callback:y7}),Dr("before-paint",wp,{state:"active:true",callback:mY});let Zt=Qi($,"openness"),Vi=Qi($,"openness:closed.status");Ve("immediate",Zt,{state:"openness:closed",callback:zd,params:{newState:"idleOutside"}}),Ve("immediate",Zt,{state:"openness:closed",callback:p.useCallback(()=>{U({machine:"longRunning",type:"TO_FALSE"})},[U])}),Ve("immediate",Zt,{state:"openness:closed",callback:p.useCallback(()=>{de&&ee?.(!1)},[de,ee])}),Ve("immediate",Zt,{state:"openness:closed",callback:p.useCallback(()=>{Ae({machine:"active",type:"TO_FALSE"})},[Ae])}),Ve("after-paint",Zt,{state:"openness:closed",callback:p.useCallback(()=>{clearTimeout(Ep.current),sa.current=null,mo([0,0]),Ud.current=!1,H(-1),Sp.current=!1},[H,mo])}),Et(Zt,{state:"openness:closed",transition:"READY_TO_OPEN",callback:p.useCallback(z=>{Ae({machine:"position",type:"READY_TO_GO_FRONT",skipOpening:z.skipOpening})},[Ae])}),Qye(U,Vi,"openness:closed.status:pending",{delay:3e3}),da("immediate",Vi,{state:"openness:closed.status:pending",callback:p.useCallback(()=>{U("SWIPE_RESET")},[U])}),Ve("before-paint",Vi,{state:"openness:closed.status:flushing-to-preparing-opening",callback:p.useCallback(()=>{U({machine:"openness:closed.status",type:""})},[U])}),Ve("before-paint",Vi,{state:"openness:closed.status:flushing-to-preparing-open",callback:p.useCallback(()=>{U({machine:"openness:closed.status",type:""})},[U])}),Ve("after-paint",Vi,{state:"openness:closed.status:preparing-opening",callback:p.useCallback(()=>{U({machine:"staging",type:"OPEN_PREPARED",skipOpening:!1})},[U])}),Ve("after-paint",Vi,{state:"openness:closed.status:preparing-open",callback:p.useCallback(()=>{U({machine:"staging",type:"OPEN_PREPARED",skipOpening:!0})},[U])}),Ve("immediate",Vi,{state:"openness:closed.status:safe-to-unmount",callback:p.useCallback(()=>{se?.(!0)},[se])}),da("immediate",Vi,{state:"openness:closed.status:safe-to-unmount",callback:p.useCallback(()=>{se?.(!1)},[se])}),Ve("immediate",Zt,{state:"openness:opening",callback:zd,params:{newState:"entering"}}),Ve("before-paint",Zt,{state:"openness:opening",callback:p.useCallback(()=>{Mn.current=qn,le?.(qn),Er({trackToTravelOn:fo,destinationDetent:qn,behavior:"smooth",animationConfig:ei,travelEndCallback:()=>U("NEXT"),runOnTravelStart:!1})},[fo,le,Er,qn,ei,U])}),Et(Zt,{state:"openness:opening",transition:"NEXT",callback:p.useCallback(()=>{Ae("NEXT"),U({machine:"staging",type:"NEXT"})},[Ae,U])}),Ve("immediate",Zt,{state:"openness:open",callback:zd,params:{newState:"idleInside"}}),Ve("immediate",Zt,{state:"openness:open",callback:p.useCallback(()=>{Ae({machine:"active",type:"TO_TRUE"})},[Ae])}),Ve("before-paint",Zt,{state:"openness:open",guard:ei.skip,callback:p.useCallback(()=>{Mn.current=qn,le?.(qn),Er({trackToTravelOn:fo,destinationDetent:qn})},[qn,le,Er,fo])}),Dr("before-paint",Zt,{state:"openness:open",callback:p.useCallback(()=>{if(Oa()&&bt){var z;(z=zt.current)===null||z===void 0||z.style.setProperty("will-change","transform"),requestAnimationFrame(()=>{var J;return(J=zt.current)===null||J===void 0?void 0:J.style.removeProperty("will-change","transform")})}},[bt]),params:{unusedDep:v7}}),Dr("before-paint",Zt,{state:"openness:open",guard:!ot,callback:bY}),Ve("after-paint",W,{state:"staging:open",guard:gt===!0&&_==="auto",callback:p.useCallback(()=>{qn===Xr.length?U({machine:"frontStuck",type:"STUCK_START"}):bt&&qn===1&&U({machine:"backStuck",type:"STUCK_START"})},[U,qn,Xr,bt])}),Dr("after-paint",Zt,{state:"openness:open",guard:!ot&&!wn&&!xt,callback:SY,params:{send:U}}),Dr("after-paint",Zt,{state:"openness:open",callback:EY}),Et(Zt,{state:"openness:open",transition:"READY_TO_CLOSE",callback:p.useCallback(()=>Ae("READY_TO_GO_OUT"),[Ae])}),Et(Zt,{state:"openness:open",transition:"ACTUALLY_CLOSE",callback:p.useCallback(()=>{Mn.current=null,le?.(0),b?.(),Ae("GO_OUT")},[le,b,Ae])}),Et(Zt,{state:"openness:open",transition:"SWIPED_OUT",callback:p.useCallback(()=>{var z;(z=zt.current)===null||z===void 0||z.style.setProperty("scroll-snap-type","none","important"),Mn.current=null,le?.(0),Ae("GO_OUT")},[le,Ae])}),da("immediate",Zt,{state:"openness:open",callback:p.useCallback(()=>{U("SWIPE_END")},[U])});let iv=Qi($,"backStuck"),xp=p.useRef(!1);Et(iv,{state:"backStuck:false",transition:"STUCK_START",callback:p.useCallback(()=>xp.current=!0,[])}),Et(iv,{state:"backStuck:true",transition:"STUCK_END",callback:p.useCallback(()=>xp.current=!1,[])}),Et(iv,{state:"backStuck:false",transition:"STUCK_START",guard:gt===!0&&_==="auto",callback:p.useCallback(()=>{$.silent.matches("scrollContainerTouch:ended")&&ml("back")},[$.silent,ml])});let sv=Qi($,"frontStuck"),Gd=p.useRef(!1);Et(sv,{state:"frontStuck:false",transition:"STUCK_START",callback:p.useCallback(()=>Gd.current=!0,[])}),Et(sv,{state:"frontStuck:true",transition:"STUCK_END",callback:p.useCallback(()=>Gd.current=!1,[])}),Et(sv,{state:"frontStuck:false",transition:"STUCK_START",guard:gt===!0&&_==="auto",callback:p.useCallback(()=>{$.silent.matches("openness:open")&&$.silent.matches("scrollContainerTouch:ended")&&ml("front")},[$.silent,ml])}),Ve("immediate",$,{state:"scrollContainerTouch:ended",guard:gt===!0&&_==="auto",callback:p.useCallback(()=>{Sp.current&&setTimeout(()=>{requestAnimationFrame(()=>{$.silent.matches("openness:open")&&($.silent.matches("backStuck:true")?ml("back"):$.silent.matches("frontStuck:true")&&ml("front"))})},80)},[$.silent,ml])});let Vc=Qi($,"openness:open.scroll"),ov=p.useRef(!1);Ve("immediate",Vc,{state:"openness:open.scroll:ongoing",callback:p.useCallback(()=>ov.current=!0,[])}),da("immediate",Vc,{state:"openness:open.scroll:ongoing",callback:p.useCallback(()=>ov.current=!1,[])}),Ve("immediate",Vc,{state:"openness:open.scroll:ongoing",callback:p.useCallback(()=>{Sp.current=!0},[])}),Dr({start:"immediate",update:"before-paint"},Vc,{state:"openness:open.scroll:ongoing",callback:CY});let av=p.useRef(()=>{});Ve("after-paint",Vc,{state:"openness:open.scroll:ended",callback:p.useCallback(()=>{U({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"OCCURRED"}),av.current(),av.current=()=>{}},[U])}),da("immediate",Vc,{state:"openness:open.scroll:ended",callback:p.useCallback(()=>{U({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"RESET"})},[U])});let lv=p.useRef(!1);Ve("immediate",$,{state:"openness:open.move:ongoing",callback:p.useCallback(()=>{lv.current=!0,nv.current=yp},[yp])}),da("immediate",$,{state:"openness:open.move:ongoing",callback:p.useCallback(()=>{lv.current=!1,nv.current=()=>{}},[])});let cv=p.useRef(!1);Ve("immediate",$,{state:"openness:open.swipe:ongoing",callback:p.useCallback(()=>cv.current=!0,[])}),da("immediate",$,{state:"openness:open.swipe:ongoing",callback:p.useCallback(()=>cv.current=!1,[])}),Ve("immediate",$,{state:"openness:open.swipe:ongoing",callback:p.useCallback(()=>b?.(),[b])}),Ve("immediate",$,{state:"openness:open.swipe:ongoing",callback:zd,params:{newState:"stepping"}}),Ve("immediate",$,{state:"openness:open.swipe:ended",callback:p.useCallback(()=>Bd(),[Bd])}),Ve("immediate",$,{state:"openness:open.swipe:ended",guard:typeof d=="function",callback:p.useCallback(()=>{$.silent.matches("openness:open")&&d("idleInside")},[$.silent,d])});let I7=p.useCallback(()=>{!Gc.matches("position:front")||jt.current[0]===0&&jt.current[1]===0||bt&&jt.current[0]!==jt.current[1]?de===!1&&ee?.(!0):U("ACTUALLY_CLOSE")},[Gc,U,de,ee,bt]);Et($,{state:"openness:open.evaluateCloseMessage:true",transition:"CLOSE",callback:I7}),Et($,{state:"openness:open.evaluateCloseMessage:false",transition:"CLOSE",callback:I7}),Et($,{state:"openness:open.evaluateStepMessage:true",transition:"STEP",callback:w7}),Et($,{state:"openness:open.evaluateStepMessage:false",transition:"STEP",callback:w7}),Ve("immediate",Zt,{state:"openness:closing",callback:zd,params:{newState:"exiting"}}),Ve("before-paint",Zt,{state:"openness:closing",callback:p.useCallback(()=>{Mn.current=0,le?.(0),Er({trackToTravelOn:Ie.track,destinationDetent:0,behavior:"smooth",animationConfig:Ie,travelEndCallback:()=>U("NEXT")})},[le,Er,Ie,U])}),Et(Zt,{state:"openness:closing",transition:"NEXT",callback:p.useCallback(()=>{Ae("NEXT"),U({machine:"staging",type:"NEXT"})},[Ae,U])});let TY=p.useCallback(()=>U({machine:"skipOpening",type:ei.skip?"TO_TRUE":"TO_FALSE"}),[U,ei.skip]);Dr("after-paint",$,{state:"",callback:TY});let OY=p.useCallback(()=>U({machine:"skipClosing",type:Ie.skip?"TO_TRUE":"TO_FALSE"}),[U,Ie.skip]);Dr("after-paint",$,{state:"",callback:OY}),p.useEffect(()=>{de!==void 0&&U(de?"OPEN":"CLOSE")},[de,U]);let AY=ef(()=>{y7(),pt?.(Q),rt.removeAllOutletPersistedStylesFromSheet(Q)}),M7=p.useRef(!0),IY=ef(()=>{de&&ee?.(!1)});p.useEffect(()=>()=>{!M7.current&&(IY(),po(null,{newState:"none"}),AY(),fe(!1),ni.silent.matches("longRunning:true")&&Re?.(z=>z-1))},[]),p.useEffect(()=>()=>M7.current=!1),p.useEffect(()=>{Ze!==void 0&&jt.current[0]!==Ze&&jt.current[1]!==Ze&&Mn.current!==Ze&&U({type:"STEP",activeDetent:Ze})},[Ze,U]),p.useEffect(()=>{let z=()=>{var J;return(J=zt.current)===null||J===void 0?void 0:J.scrollTo(0,0)};return window.addEventListener("unload",z),()=>window.removeEventListener("unload",z)},[]);let R7=ef((z,J)=>{Hi.current&&!Zt.matches("openness:closed")&&ho(z,J)}),N7=ef(C7);p.useEffect(()=>()=>{R7(0,{start:0,end:0}),Hi.current&&N7(),QG(null)},[ni.silent,Re,R7,N7]);let kp=Yn("Sheet",{staging:W.getValues()[0],openness:Zt.getValues()[0],opennessClosedStatus:Vi.getValues()[0],position:Gc.getValues()[0],positionCoveredStatus:ia.getValues()[0],placement:on,track:Ke,swipeDisabled:ot,swipeOutDisabledWithDetent:xt,swipeOvershootDisabled:gt,swipeTrap:qd,scrollContainerShouldBePassThrough:pl}),Tp=p.useMemo(()=>!Vi.matches(["openness:closed.status:flushing-to-preparing-open","openness:closed.status:flushing-to-preparing-opening","openness:closed.status:safe-to-unmount"]),[Vi]),MY=p.useMemo(()=>Zt.matches("openness:closed")&&Tp,[Tp,Zt]),P7=p.useMemo(()=>W.matches(["staging:opening","staging:open"]),[W]),RY=p.useMemo(()=>Tp||P7,[Tp,P7]),NY=p.useMemo(()=>x&&(Gc.matches(["position:front","position:covered"])||Z!=="none"),[x,Gc,Z]);return g.jsx(ep,{genericContext:Ya,customContext:ye,value:ge,children:g.jsx(bs.Provider,{value:{sheetContext:re,titleId:ie,descriptionId:Me,styleAttributes:kp,backdropRef:hr,scrollContainerRef:zt,frontSpacerRef:Jr,contentWrapperRef:pr,contentRef:Qr,backSpacerRef:Un,detentMarkersRefs:Bc,leftEdgeRef:fr,setBackdropSwipeable:fl,setBleedingBackgroundPresent:ti,detents:Xr,longRunningState:ni,staging:Z,layerCovered:te,placement:on,track:Ke,travelAxis:Is,nativeEdgeSwipePrevention:w,bleedingBackgroundPresent:hl,setBackdropTravelHandler:dY,ancestorPrimarySwipeTrapActiveOnYAxis:qd==="vertical"||qd==="both",scrollContainerTouchStartHandler:xY,scrollContainerTouchEndHandler:kY,getContentCoordinatesWhenRestingOnLastDetent:hY,getOffsetFromCurrentToNextDetent:wY},children:RY&&g.jsxs("div",{id:Q,...kp("view",["track","staging","openness","opennessClosedStatus","scrollContainerShouldBePassThrough"],{className:o,dataSilk:[a,"0ab",A&&"0ah",As&&"0aj",MY&&"0ak","0al"]}),ref:yn,"aria-labelledby":ie,"aria-describedby":Me,...M,role:X,tabIndex:-1,children:[g.jsx(No.Root,{...kp("primaryScrollTrapRoot",["track","scrollContainerShouldBePassThrough"]),active:qd!=="none",axis:qd,children:g.jsx(No.Stabiliser,{children:s})}),g.jsx(No.Root,{...kp("secondaryScrollTrapRoot",["scrollContainerShouldBePassThrough"]),automaticallyDisabledForOptimisation:!1,preventBodyScroll:NY})]})})})});sH.displayName="Sheet.Anonymous";class Nd extends Fe.Component{static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t){console.error(t)}render(){return this.state.hasError?g.jsx("h1",{children:"Something went wrong."}):this.props.children}constructor(t){super(t),this.state={hasError:!1}}}let oH=Fe.forwardRef((e,t)=>{let{asChild:n,children:r,className:i,"data-silk":s,...o}=e,a=n?Zn:"span",l=Yn("VisuallyHidden",{});return g.jsx(a,{...l("root",[],{className:i,dataSilk:[s]}),...o,ref:t,children:r})});oH.displayName="VisuallyHidden.Root";let _2e={Root:oH},L0=Fe.createContext(null);L0.displayName="SheetStack.GenericContext";let Nf=[],y2e=(e,t)=>{let n=()=>{let[r,i]=function(a){let l=0,c=0;for(;a;)l+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return[l,c]}(e),s={top:i+scrollY,bottom:Math.max(e.offsetHeight-(i+scrollY+innerHeight),0),left:r+scrollX,right:Math.max(e.offsetWidth-(r+scrollX+innerWidth),0),height:innerHeight,width:innerWidth},o=s.top<=0&&s.bottom<=0&&s.left<=0&&s.right<=0?null:s;t(o)};Nf.push({element:e,callback:n}),n(),Nf.length===1&&(Rf=function(r,i){let s;return function(){clearTimeout(s),s=window.setTimeout(()=>{clearTimeout(s),r()},100)}}(()=>{Nf.forEach(r=>r.callback())}),window.addEventListener("scroll",Rf),window.addEventListener("resize",Rf))},b2e=e=>{(Nf=Nf.filter(t=>t.element!==e)).length||(window.removeEventListener("scroll",Rf),window.removeEventListener("resize",Rf))},G9=(e,t)=>{let n=p.useId(),r=p.useRef(null),i=Kr(r,t),{sheetId:s,stackId:o,sheetsCount:a,travelAnimation:l,stackingAnimation:c,style:u}=e,{sheetId:d,longRunning:f}=F0(s),[h,m]=p.useState(null),{willChangesValuesString:v,outletTransformedOnAnimation:_,nonAnimatedTravelStyles:y,nonAnimatedStackingStyles:b,clippedToViewport:C}=p.useMemo(()=>{let O=[],k={},A={},I=!1,P=!1;return[l,c].forEach((D,R)=>{if(D){let F=D.hasOwnProperty("properties")?D.properties:D;Object.entries(F).forEach(([j,V])=>{!V||(j==="clipBoundary"&&(P=!0),typeof V=="string"&&(R===0?k[j]=V:A[j]=V),ZG.includes(j)||j==="transform"?O.includes("transform")||(O.push("transform"),I=!0):j!=="opacity"||O.includes("opacity")||O.push("opacity"))})}}),{willChangesValuesString:O.join(", "),outletTransformedOnAnimation:I,nonAnimatedTravelStyles:k,nonAnimatedStackingStyles:A,clippedToViewport:P}},[c,l]),{modifiedTravelAnimation:S,modifiedNonAnimatedTravelStyles:x,modifiedStackingAnimation:w,modifiedNonAnimatedStackingStyles:E}=p.useMemo(()=>{let O;if(h){let{top:R,bottom:F,left:j,right:V}=h;O=`${R-.1}px ${V}px ${F}px ${j}px`}let k=(R,F)=>{let j,V,B;if(!R)return[];let{top:M,left:re,height:ge,width:N}=h||{},we=R.hasOwnProperty("properties")?R.properties:R,ye=we.clipBoundary,X=we.clipBorderRadius,de=we.clipTransformOrigin;if(ye&&(de||(de="50% 50% 0"),B=de.split(" ").map(Oe=>Oe==="top"||Oe==="left"?"0%":Oe==="bottom"||Oe==="right"?"100%":Oe).map((Oe,Ze)=>{if(Ze===0){let le=Oe;return Oe.includes("%")?le=Oe.replace(/\b\d+%/,Q=>parseFloat(Q)/100*N+"px"):Oe==="0"&&(le="0px"),"calc("+re+"px + "+le+")"}if(Ze===1){let le=Oe;return Oe.includes("%")?le=Oe.replace(/\b\d+%/,Q=>parseFloat(Q)/100*ge+"px"):Oe==="0"&&(le="0px"),"calc("+M+"px + "+le+")"}}).join(" ")),ye)if(ye==="layout-viewport")if(O){if(typeof X=="string")j=`inset(${O} round ${X})`;else if(Array.isArray(X)){let se=`inset(${O} round `;j=({tween:fe})=>se+fe(...X)+")"}else if(typeof X=="function"){let se=`inset(${O} round `;j=fe=>se+X(fe)+")"}else j=`inset(${O})`;V="0.001px"}else V=X??null;else if(typeof ye=="function")if(O){if(typeof X=="string")j=se=>ye(se)!=="none"?`inset(${O} round ${X})`:"none";else if(Array.isArray(X)){let se=`inset(${O} round `;j=fe=>ye(fe)!=="none"?se+fe.tween(...X)+")":"none"}else if(typeof X=="function"){let se=`inset(${O} round `;j=fe=>ye(fe)!=="none"?se+X(fe)+")":"none"}else j=se=>ye(se)!=="none"?`inset(${O})`:"none";V="0.001px"}else X&&(V=se=>{if(ye(se)==="layout-viewport")return X});else ye==="none"&&(j="none",V=X??null);else{let se={...we},fe={...F};return delete se.clipBoundary,delete se.clipBorderRadius,delete se.clipTransformOrigin,delete fe.clipBoundary,delete fe.clipBorderRadius,delete fe.clipTransformOrigin,[se,fe]}let ee={...we},ke={...F};return delete ee.clipBoundary,delete ee.clipBorderRadius,delete ee.clipTransformOrigin,delete ke.clipBoundary,delete ke.clipBorderRadius,delete ke.clipTransformOrigin,typeof j=="string"?ke.clipPath=j:ee.clipPath=j,typeof V=="string"?ke.borderRadius=V:ee.borderRadius=V,typeof B=="string"&&(ke.transformOrigin=B),[ee,ke]},[A,I]=k(l,y),[P,D]=k(c,b);return{modifiedTravelAnimation:A,modifiedNonAnimatedTravelStyles:I,modifiedStackingAnimation:P,modifiedNonAnimatedStackingStyles:D}},[h,b,y,c,l]);An(()=>{let O=r.current,k=n&&C&&(!o&&f||o&&a>=1);if(k)return y2e(O,m),()=>{k&&b2e(O)}},[n,C,f,o,a]);let T=p.useMemo(()=>o?{...u,...a>=1?E:{},willChange:a>=1?v+(u?.willChange?", "+u?.willChange:""):u?.willChange}:{...u,...f?x:{},...a>=1?E:{},willChange:f?v+(u?.willChange?", "+u?.willChange:""):u?.willChange},[o,u,x,E,f,a,v]);return An(()=>{let O,k=rt.findActualFixedComponentsInsideOutlet(r.current);if(k.length)return _&&(O=(A=>{let I=()=>{k.forEach(D=>{if(!D.element||D.compensated)return;let R=0,F=0,j=D.element.style.transform,V=window.getComputedStyle(D.element),B=V.getPropertyValue("--silk-fixed-side"),M=V.getPropertyValue("transform");rt.updateFixedComponent({id:D.id,initialInlineCSSTransform:j,compensated:!0}),R=B.includes("bottom")?-1*(r.current.offsetHeight-(scrollY+window.innerHeight)):scrollY,F=B.includes("right")?-1*(r.current.offsetWidth-(scrollX+window.innerWidth)):scrollX,(Math.abs(R)!==0||Math.abs(F)!==0)&&D.element.style.setProperty("transform",(M!=="none"?M+" ":"")+"translateX("+F+"px) translateY("+R+"px)")})},P=()=>{window.removeEventListener("resize",I),window.removeEventListener("scroll",I),k.forEach(D=>{D.element&&D.compensated&&(D.initialInlineCSSTransform?(D.element.style.setProperty("transform",D.initialInlineCSSTransform),rt.updateFixedComponent({id:D.id,initialInlineCSSTransform:void 0,compensated:!1})):(D.element.style.removeProperty("transform"),rt.updateFixedComponent({id:D.id,compensated:!1})))})};return A?(I(),window.addEventListener("resize",I),window.addEventListener("scroll",I)):P(),P})(o?a>0:f)),O},[f,n,_,a,o]),An(()=>(rt.addOutletToSheet(d,n),()=>rt.removeOutletFromSheet(d,n)),[n,d]),An(()=>{let O=r.current;return S&&rt.addAnimationToSheetOrStack({sheetId:d,type:"travel",element:O,config:S}),w&&rt.addAnimationToSheetOrStack({sheetId:o?null:d,stackId:o,type:"stacking",element:O,config:w}),()=>{S&&rt.removeAnimationFromSheetOrStack({sheetId:d,type:"travel",element:O}),w&&rt.removeAnimationFromSheetOrStack({sheetId:o?null:d,stackId:o,type:"stacking",element:O})}},[d,o,S,w]),{ref:r,outletId:n,styleValue:T,composedRef:i}},F0=e=>p.useContext(e??Ya)||{};Nd.displayName="Sheet.ErrorBoundary",Zn.displayName="Sheet.Slot.Root";let Mc=Fe.forwardRef((e,t)=>{let{asChild:n,forComponent:r,travelAnimation:i,stackingAnimation:s,style:o,className:a,...l}=e,{staging:c,StackContext:u}=F0(r),d=u??Fe.createContext(null),{sheetsCount:f}=p.useContext(d)||{},{styleValue:h,composedRef:m}=G9({sheetId:r,sheetsCount:f,travelAnimation:i,stackingAnimation:s,style:o},t),v=p.useMemo(()=>c!=="none",[c]),_=n?Zn:"div",y=Yn("Sheet",{});return g.jsx(_,{style:h,...y("outlet",[],{className:a,dataSilk:[v&&"0aj"]}),...l,ref:m})});Mc.displayName="Sheet.Outlet";let H9=Fe.forwardRef(({asChild:e,...t},n)=>{let r=e?Zn:"button",{forComponent:i,className:s,"data-silk":o,onPress:a,onClick:l,children:c,action:u="present",travelAnimation:d,stackingAnimation:f,...h}=t,{sheetRole:m,sheetId:v,open:_,onOpenChange:y,elementFocusedLastBeforeShowing:b}=F0(i),C=rt.findSheet(v),S=p.useRef(null),x=Kr(S,n),w=p.useMemo(()=>(m==="dialog"||m==="alertdialog")&&u==="present"?"dialog":void 0,[u,m]),E=p.useMemo(()=>u==="present"||u==="dismiss"?_:void 0,[u,_]),T=Yn("Sheet",{});return g.jsx(Mc,{forComponent:i,asChild:!0,travelAnimation:d,stackingAnimation:f,children:g.jsx(r,{...T("trigger",[],{className:s,dataSilk:[o]}),onClick:O=>{var k,A;let{forceFocus:I,runAction:P}=Zs({nativeEvent:O,defaultBehavior:{forceFocus:!0,runAction:!0},handler:a});I&&((k=S.current)===null||k===void 0||k.focus({preventScroll:!0})),P&&(u==="present"?(b.current=S.current,y(!0)):u==="dismiss"?y(!1):(u==="step"||u.type==="step")&&(C==null||(A=C.sendToOpennessMachine)===null||A===void 0||A.call(C,{type:"STEP",direction:u==="step"?"up":u.direction,detent:u==="step"?null:u.detent}))),l?.(O)},"aria-haspopup":w,"aria-controls":v,"aria-expanded":E,ref:x,...h,children:c})})});H9.displayName="Sheet.Trigger";let aH=Fe.forwardRef((e,t)=>{let{children:n,className:r,action:i="step",...s}=e,{detents:o}=p.useContext(bs)||{},a=o.length===1&&i!=="dismiss",l=Yn("Sheet",{});return g.jsx(H9,{...l("handle",[],{className:r}),action:i,disabled:a,...s,ref:t,children:g.jsx(_2e.Root,{children:n??(i==="dismiss"?"Dismiss":"Cycle")})})});aH.displayName="Sheet.Handle";let lH=e=>{var t;let[n,r]=p.useState(!1);return p.useEffect(()=>(r(!0),()=>r(!1)),[]),n?Dl.createPortal(e.children,(t=e.container)!==null&&t!==void 0?t:document.body):null};lH.displayName="Sheet.Portal";let C2e=({rootRef:e})=>(p.useEffect(()=>{let t=e.current;if(!t)return;getComputedStyle(t).getPropertyValue("--silk-aY").trim()!=="1"&&console.warn("The CSS styles for Silk are not found. Please refer to the documentation on how to import them.")},[e]),null),cH=Fe.forwardRef((e,t)=>{let{className:n,"data-silk":r,license:i,sheetRole:s,componentId:o,forComponent:a,defaultPresented:l,presented:c,onPresentedChange:u,defaultActiveDetent:d,activeDetent:f,onActiveDetentChange:h,onSafeToUnmountChange:m,...v}=e,_=p.useRef(null),y=Kr(_,t),b=l!=null&&l,[C,S]=p.useState(b),x=c!==void 0&&u!==void 0,w=p.useMemo(()=>x?c:C,[x,c,C]),E=p.useMemo(()=>x?u:S,[x,u,S]),T=p.useRef(null),[O,k]=p.useState(!b),A=p.useCallback(M=>{m?.(M),k(M)},[m]),[I,P]=p.useState(w),[D,R]=p.useState("none"),F=a==="closest"?L0:a,j=vc(),V={license:i,StackContext:F,CustomSheetContext:o,sheetId:j,sheetRole:s,open:w,onOpenChange:E,onSafeToUnmountChange:A,defaultActiveDetent:d,activeDetent:f,onActiveDetentChange:h,safeToUnmount:O,longRunning:I,setLongRunning:P,staging:D,setStaging:R,elementFocusedLastBeforeShowing:T,...v},B=Yn("Sheet");return g.jsxs(Nd,{children:[g.jsx(C2e,{rootRef:_}),g.jsx(ep,{genericContext:Ya,customContext:o,value:V,children:g.jsx(Mc,{...B("root",[],{className:n,dataSilk:[r]}),ref:y,...v})})]})});cH.displayName="Sheet.Root";let uH=Fe.forwardRef((e,t)=>{let{forComponent:n}=e,{open:r,safeToUnmount:i}=F0(n);return(r||!i)&&g.jsx(sH,{...e,ref:t})});uH.displayName="Sheet.View";let dH=Fe.forwardRef(({asChild:e,swipeable:t=!0,...n},r)=>{let{longRunningState:i,backdropRef:s,styleAttributes:o,setBackdropSwipeable:a,setBackdropTravelHandler:l}=p.useContext(bs)||{},{className:c,"data-silk":u,children:d,travelAnimation:f,stackingAnimation:h,themeColorDimming:m=!1,...v}=n,_=Kr(s,r);p.useEffect(()=>(a(t),()=>{a(!1)}),[a,t]);let y=p.useMemo(()=>({opacity:({progress:w})=>Math.min(.33*w,.33),...f}),[f]),[b,C]=p.useState(y),S=vc(),x=p.useRef(0);return An(()=>{let w=!1,E=()=>{w&&rt.removeThemeColorDimmingOverlay(S)};if(i.matches("longRunning:true")){let T;if(!(w=!!(Oa()&&!Tye()&&m==="auto"&&y.opacity&&rt.getAndStoreUnderlyingThemeColorAsRGBArray())))return;let{opacity:O,...k}=y;if(C({opacity:"ignore",...k}),Array.isArray(O)){let[A,I]=O;T=({progress:P})=>A+(I-A)*P}else typeof O=="function"&&(T=O,C({opacity:"ignore",...k}));if(T&&s&&l){let A=window.getComputedStyle(s.current).backgroundColor,I=rt.updateThemeColorDimmingOverlay({abortRemoval:!0,dimmingOverlayId:S,color:A,alpha:x.current}),P=D=>{var R;let F=T(D);rt.updateThemeColorDimmingOverlayAlphaValue(I,F),(R=s.current)===null||R===void 0||R.style.setProperty("opacity",F),x.current=F};l(()=>P)}}return i.matches("longRunning:false")&&E(),()=>{E()}},[i,S,s,l,m,f,y]),g.jsx(Mc,{...o("backdrop",["scrollContainerShouldBePassThrough"],{className:c,dataSilk:[u]}),travelAnimation:b,stackingAnimation:h,...v,ref:_,asChild:e,children:d})});dH.displayName="Sheet.Backdrop";let fH=Fe.forwardRef((e,t)=>{var n;let{asChild:r,children:i,className:s,"data-silk":o,travelAnimation:a,stackingAnimation:l,style:c,...u}=e,d=r?Zn:"div",{StackContext:f}=p.useContext(Ya)||{},h=f??Fe.createContext(null),{sheetsCount:m}=p.useContext(h)||{},{styleValue:v,composedRef:_}=G9({sheetId:Ya,sheetsCount:m,travelAnimation:a,stackingAnimation:l,style:c},t),{scrollContainerRef:y,frontSpacerRef:b,contentWrapperRef:C,contentRef:S,backSpacerRef:x,detentMarkersRefs:w,leftEdgeRef:E,nativeEdgeSwipePrevention:T,scrollContainerTouchStartHandler:O,scrollContainerTouchEndHandler:k,styleAttributes:A,detents:I,bleedingBackgroundPresent:P}=p.useContext(bs)||{},D=Kr(S,_);return g.jsxs("div",{...A("scrollContainer",["track","swipeDisabled","swipeOvershootDisabled","staging","positionCoveredStatus","scrollContainerShouldBePassThrough","swipeTrap"],{dataSilk:["0ac"]}),ref:y,onTouchStart:O,onTouchEnd:k,children:[g.jsx("div",{...A("frontSpacer",["track"]),ref:b}),g.jsxs("div",{...A("contentWrapper",["placement","track","swipeOvershootDisabled","swipeOutDisabledWithDetent","staging","position"]),ref:C,children:[g.jsx(d,{...A("content",["track","placement","scrollContainerShouldBePassThrough"],{className:s,dataSilk:[o,P&&"0af"]}),style:v,...u,ref:D,children:i}),T&&g.jsx("div",{...A("leftEdge",["track"]),ref:E})]}),g.jsx("div",{...A("backSpacer",["track"]),ref:x,children:I.map((R,F)=>g.jsx("div",{ref:j=>{w.current.length>I.length&&(w.current=w.current.slice(0,I.length)),w.current[F]=j},...A("detentMarker",["track","swipeOutDisabledWithDetent"]),style:{"--silk-aA":(n=I[F-1])!==null&&n!==void 0?n:"0px","--silk-aB":R,"--silk-aC":F}},F))})]})});fH.displayName="Sheet.Content";let S2e=Fe.forwardRef(({asChild:e,...t},n)=>{let{className:r,"data-silk":i,...s}=t,{staging:o,placement:a,track:l,setBleedingBackgroundPresent:c}=p.useContext(bs)||{};p.useEffect(()=>(c(!0),()=>{c(!1)}),[c]);let u=l==="horizontal"||l==="vertical",d=Yn("Sheet",{staging:o,placement:a,track:l,bleedDisabled:u});return g.jsx(Mc,{asChild:e,...d("bleedingBackground",["staging","placement","track","bleedDisabled"],{className:r,dataSilk:[i]}),...s,ref:n})});S2e.displayName="Sheet.BleedingBackground";let w2e=Fe.forwardRef((e,t)=>{let{className:n,"data-silk":r,...i}=e,{travelAxis:s}=p.useContext(bs)||{},o=p.useMemo(()=>s==="vertical"?"horizontal":"vertical",[s]),[a,l]=p.useState(!1);p.useEffect(()=>l(Oa()),[]);let c=Yn("SpecialWrapper");return g.jsx(No.Root,{...c("root",[],{className:n,dataSilk:[r]}),active:a,axis:o,...i,ref:t})});w2e.displayName="Sheet.SpecialWrapper.Root";let E2e=Fe.forwardRef((e,t)=>g.jsx(No.Stabiliser,{...e,ref:t}));E2e.displayName="Sheet.SpecialWrapper.Content";let hH=Fe.forwardRef((e,t)=>{let{asChild:n,travelAnimation:r,stackingAnimation:i,...s}=e,o=n?Zn:"h2",{titleId:a}=p.useContext(bs);return g.jsx(Mc,{asChild:!0,travelAnimation:r,stackingAnimation:i,children:g.jsx(o,{id:a,ref:t,...s})})});hH.displayName="Sheet.Title";let x2e=Fe.forwardRef((e,t)=>{let{asChild:n,travelAnimation:r,stackingAnimation:i,...s}=e,{descriptionId:o}=p.useContext(bs),a=n?Zn:"p";return g.jsx(Mc,{asChild:!0,travelAnimation:r,stackingAnimation:i,children:g.jsx(a,{id:o,...s,ref:t})})});x2e.displayName="Sheet.Description";let Aa={Root:cH,Trigger:H9,View:uH,Backdrop:dH,Content:fH,Handle:aH,Portal:lH,Title:hH};Nd.displayName="SheetStack.ErrorBoundary";let k2e=Fe.forwardRef((e,t)=>{let{componentId:n,className:r,"data-silk":i,asChild:s,...o}=e,a=p.useId();An(()=>(rt.addSheetStack({id:a}),()=>rt.removeSheetStack(a)),[a]);let[l,c]=p.useState([]),u=p.useCallback(E=>{c(T=>{let O,k=T.findIndex(A=>A.sheetId===E.sheetId);return k!==-1?(O=[...T])[k]=E:O=[...T,E],O})},[]),d=p.useCallback(E=>{c(T=>T.filter(O=>O.sheetId!==E))},[]),f=p.useCallback(E=>{let T=l.findIndex(O=>O.sheetId===E);return T===-1?l[l.length-1]:l[T-1]},[l]),[h,m]=p.useState(0);An(()=>{h===0&&rt.removeAllOutletPersistedStylesFromStack(a)},[h,a]);let[v,_]=p.useState([]),y=p.useCallback(E=>{_(T=>{let O=T.findIndex(k=>k.sheetId===E.sheetId);if(O===-1)return[...T,E];{let k=[...T];return k[O]=E,k}})},[]),b=p.useCallback(E=>{_(T=>T.filter(O=>O.sheetId!==E))},[]),C=p.useMemo(()=>v.some(E=>E.staging!=="none")?"not-none":"none",[v]),S=p.useMemo(()=>({stackId:a,sheetsCount:h,setSheetsCount:m,updateSheetStagingDataInStack:y,removeSheetStagingDataInStack:b,sheetsInStackMergedStaging:C,updateSheetDataInStack:u,removeSheetDataFromStack:d,getPreviousSheetDataInStack:f}),[a,h,y,b,C,u,d,f]),x=s?Zn:"div",w=Yn("SheetStack");return g.jsx(Nd,{children:g.jsx(ep,{genericContext:L0,customContext:n,value:S,children:g.jsx(x,{...w("root",[],{className:r,dataSilk:[i]}),ref:t,...o})})})});k2e.displayName="SheetStack.Root";let T2e=Fe.forwardRef((e,t)=>{let{forComponent:n="closest",asChild:r,stackingAnimation:i,style:s,className:o,...a}=e,l=n==="closest"?L0:n,{stackId:c,sheetsCount:u,sheetsInStackMergedStaging:d}=p.useContext(l);An(()=>{rt.addSheetStack({id:c})},[c]);let{styleValue:f,composedRef:h}=G9({sheetsCount:u,stackId:c,stackingAnimation:i,style:s},t),m=p.useMemo(()=>d!=="none",[d]),v=Yn("SheetStack",{}),_=r?Zn:"div";return g.jsx(_,{style:f,...v("outlet",[],{className:o,dataSilk:[m&&"0aj"]}),...a,ref:h})});T2e.displayName="SheetStack.Outlet";let V9=Fe.createContext(null);V9.displayName="Scroll.GenericContext";let j0=Fe.createContext({contentRef:null});j0.displayName="Scroll.Anonymous";let pH=e=>p.useContext(e??V9)||{},O2e=mn==="android"?102:54,Db=q9||mn==="android"?"instant":"smooth",A2e=(e,t,n=300)=>{let r,i=e.scrollTop,s=()=>{clearTimeout(r),e.removeEventListener("scroll",o),t()},o=()=>{let a=e.scrollTop;if(a>i){s();return}i=a,clearTimeout(r),r=setTimeout(s,n)};r=setTimeout(s,n),e.addEventListener("scroll",o)},Lb=e=>{if(!e)return{top:0,bottom:0};let t=e.getBoundingClientRect(),n=window.getComputedStyle(e),r=t.top+parseFloat(n.borderTopWidth),i=t.bottom-parseFloat(n.borderBottomWidth);return{top:r,bottom:i}},eM=()=>{let e=window.visualViewport.height,t=window.visualViewport.offsetTop;return{top:t,bottom:t+e}},I2e=(e,t)=>Math.abs(Math.min(e+t,0)),M2e=(e,t)=>Math.max(e-t,0),tM=(e,t,n)=>{e.style.setProperty("height",t+"px"),n.current=t},R2e=({scrollContainer:e,elementTop:t,elementBottom:n,behavior:r,scrollMarginTop:i,scrollMarginBottom:s,scrollPortTop:o,scrollPortBottom:a,visualViewportTop:l,visualViewportBottom:c,beforeScrollCallback:u})=>{if(!e)return;let d=t-Math.max(o,l),f=Math.min(a,c)-n;if(d<i){let h=Math.max(-e.scrollTop,d-i);h!==0&&(u(),e.scrollBy({top:h,behavior:r}))}else if(f<s){let h=e.scrollHeight-e.clientHeight-e.scrollTop,m=Math.min(h,s-f);m!==0&&(u(),e.scrollBy({top:m,behavior:r}))}};Nd.displayName="Scroll.ErrorBoundary";let mH=Fe.forwardRef((e,t)=>{let{asChild:n,className:r,componentId:i,componentRef:s,"data-silk":o,...a}=e,l=n?Zn:"div",c=p.useRef(()=>{}),u=p.useCallback((...v)=>{let _=c.current;return _(...v)},[]),d=p.useRef(()=>{}),f=p.useCallback((...v)=>{let _=d.current;return _(...v)},[]),h=p.useMemo(()=>({componentRef:s,scrollToRef:c,scrollTo:u,scrollByRef:d,scrollBy:f}),[s,f,u]),m=Yn("Scroll",{});return g.jsx(Nd,{children:g.jsx(ep,{genericContext:V9,customContext:i,value:h,children:g.jsx(l,{...m("root",[],{className:r,dataSilk:[o]}),...a,ref:t})})})});mH.displayName="Scroll.Root";let sm=null,gH=()=>{let e=p.useRef(null);An(()=>{sm===null&&e.current&&(sm=e.current.offsetWidth-e.current.clientWidth,document.body.style.setProperty("--ua-scrollbar-thickness",sm+"px"))},[]);let t=Yn("Scroll"),n=g.jsx("div",{...t("UAScrollbarMeasurer"),ref:e});return sm===null?typeof window<"u"?Dl.createPortal(n,document.body):g.jsx(g.Fragment,{children:n}):null};gH.displayName="Scroll.Anonymous";let om=(e,t,n,r=!1)=>typeof e=="boolean"?e:typeof e?.[t]=="boolean"?e[t]:typeof e?.[n]=="boolean"?e[n]:r,vH=Fe.forwardRef((e,t)=>{let{asChild:n,children:r,className:i,"data-silk":s,forComponent:o,axis:a="y",pageScroll:l=!1,nativePageScrollReplacement:c=!1,safeArea:u="visual-viewport",scrollGestureTrap:d=!1,scrollGestureOvershoot:f=!0,scrollGesture:h="auto",onScrollStart:m,onScroll:v,onScrollEnd:_,onFocusInside:y,nativeFocusScrollPrevention:b=!0,scrollAnimationSettings:C={skip:"auto"},scrollAnchoring:S=!0,scrollSnapType:x="none",scrollPadding:w="auto",scrollTimelineName:E="none",nativeScrollbar:T=!0,...O}=e,[k,A,I,P]=p.useMemo(()=>{let Ie=om(d,"xStart","x"),Ft=om(d,"xEnd","x"),bt=om(d,"yStart","y"),gt=om(d,"yEnd","y"),ot=Ie,xt=Ft,Jn=bt,wn=gt;return a==="y"?xt=ot=Ie!==Ft||Ie:wn=Jn=bt!==gt||bt,[ot,xt,Jn,wn]},[d,a]),D=p.useMemo(()=>k!==A,[A,k]),R=p.useMemo(()=>I!==P,[P,I]),F=p.useMemo(()=>{if(x==="proximity"){if(a==="y")return"proximityY";if(a==="x")return"proximityX"}else{if(x!=="mandatory")return"none";if(a==="y")return"mandatoryY";if(a==="x")return"mandatoryX"}},[a,x]),j=n?Zn:"div",V=p.useRef(null),B=Kr(V,t),M=p.useRef(null),re=p.useRef(null),ge=p.useRef(null),N=p.useRef(null),we=p.useRef(null),ye=p.useRef(null),X=vc(),{componentRef:de,scrollToRef:ee,scrollByRef:ke}=pH(o)||{},{getContentCoordinatesWhenRestingOnLastDetent:se,contentRef:fe}=p.useContext(bs)||{},he=p.useMemo(()=>h===!1||h!=="auto",[h]),[Oe,Ze]=p.useState(!1),[le,Q]=p.useState(!1);An(()=>{l&&(Ie=>{let Ft="data-silk-native-page-scroll-replaced",bt=document.documentElement.getAttribute(Ft);if(!l&&bt!=="true")return;let gt=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;if(Ie!==!0&&(Ie!=="auto"||(mn==="android"||mn==="ios"||mn==="ipados")&&!gt)){var xt,Jn;Q(!1);let wn=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(wn),bt==="false")return;let As=(Jn=(xt=M.current)===null||xt===void 0?void 0:xt.scrollTop)!==null&&Jn!==void 0?Jn:0;document.documentElement.setAttribute(Ft,"false"),bt==="true"&&window.scrollTo(0,As)}else{Q(!0),M.current;let wn=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(wn),bt==="true")return;let As=window.pageYOffset;if(document.documentElement.setAttribute(Ft,"true"),!M.current)return;M.current.scrollTop=As}})(c)},[l,c]);let[ie,Me]=p.useState(!0),[Z,$]=p.useState(!0);An(()=>{let Ie=M.current,Ft=re.current,bt=ge.current,gt=N.current,ot=new ResizeObserver(()=>{Ie&&(a==="y"&&Ie.scrollHeight>Ie.clientHeight?Me(!0):Me(!1),a==="x"&&Ie.scrollWidth>Ie.clientWidth?$(!0):$(!1))});return Ie&&Ft&&bt&&gt&&(ot.observe(Ie,{box:"border-box"}),ot.observe(Ft,{box:"border-box"}),ot.observe(bt,{box:"border-box"}),ot.observe(gt,{box:"border-box"})),()=>{ot&&ot.disconnect()}},[a,he]);let[U,pe]=p.useState(!1);An(()=>{pe(ie||Z?!0:()=>!1)},[ie,Z]);let[Ae,te]=p.useState(!1);p.useEffect(()=>{te(HG())},[]);let L=p.useRef(!1),H=p.useRef(!1),W=D||R,[ae,Re]=p.useState(k),[st,pt]=p.useState(I);p.useEffect(()=>{let Ie;if(W){let Ft=we.current,bt=ye.current;if(!Ft||!bt)return;(Ie=new IntersectionObserver(gt=>{for(let ot of gt)ot.target===Ft?ot.isIntersecting?(L.current=!0,a==="x"?Re(k):pt(I)):L.current=!1:ot.target===bt&&(ot.isIntersecting?(H.current=!0,a==="x"?Re(A):pt(P)):H.current=!1),L.current&&H.current&&(a==="x"?Re(!1):pt(!1))},{root:M.current,rootMargin:"0px",threshold:[1]})).observe(Ft),Ie.observe(bt)}return()=>{Ie&&Ie.disconnect()}},[A,k,P,I,a,W]);let lt=p.useRef(!1),nt=p.useRef(),St=p.useRef(""),wt=p.useRef(void 0);p.useEffect(()=>{let Ie=M.current;if(!Ie)return;let Ft=gt=>{qn.current=!1,Zs({nativeEvent:gt,defaultBehavior:{},handler:_});let ot=document.activeElement;(mn=="ios"||mn=="ipados")&&ot&&ql(ot)&&(wt.current===void 0&&(St.current=ot.style.getPropertyValue("opacity"),ot.style.setProperty("opacity","0.9999","important")),clearTimeout(wt.current),wt.current=void 0,wt.current=setTimeout(()=>{St.current===""?ot.style.removeProperty("opacity"):ot.style.setProperty("opacity",St.current),wt.current=void 0},55))},bt=gt=>{if(!lt.current){let{dismissKeyboard:ot}=Zs({nativeEvent:gt,defaultBehavior:{dismissKeyboard:!1},handler:m});ot&&!lt.current&&!qn.current&&Y1()&&Ie.focus({preventScroll:!0})}clearTimeout(nt.current),nt.current=setTimeout(()=>{lt.current=!1,Ze(!1),"onscrollend"in window||Ft(null)},90),lt.current=!0,Ze(!0)};return Ie.addEventListener("scroll",bt),"onscrollend"in window&&Ie.addEventListener("scrollend",Ft),()=>{Ie.removeEventListener("scroll",bt),"onscrollend"in window&&Ie.removeEventListener("scrollend",Ft)}},[_,m]),p.useEffect(()=>(b&&rt.addNativeFocusScrollPreventer(X),()=>{b&&rt.removeNativeFocusScrollPreventer(X)}),[b,X]);let At=p.useMemo(()=>l&&!le,[le,l]),mt=p.useMemo(()=>a==="y"?At?()=>window.scrollY:()=>{var Ie;return(Ie=M.current)===null||Ie===void 0?void 0:Ie.scrollTop}:At?()=>window.scrollX:()=>{var Ie;return(Ie=M.current)===null||Ie===void 0?void 0:Ie.scrollLeft},[a,At]),yn=p.useMemo(()=>a==="y"?At?()=>document.body.scrollHeight-window.innerHeight:()=>{let Ie=M.current;return Ie?.scrollHeight-Ie?.offsetHeight}:At?()=>document.body.scrollWidth-window.innerWidth:()=>{let Ie=M.current;return Ie?.scrollWidth-Ie?.offsetWidth},[a,At]),fr=p.useCallback(()=>mt()/yn(),[mt,yn]),hr=p.useCallback(Ie=>{v?.({progress:fr(),distance:mt(),availableDistance:yn(),nativeEvent:Ie})},[fr,mt,yn,v]);p.useEffect(()=>(At&&v&&document.addEventListener("scroll",hr),()=>{At&&v&&document.removeEventListener("scroll",hr)}),[At,v,hr]);let zt=p.useCallback((Ie,{progress:Ft,distance:bt,animationSettings:gt={skip:"default"}})=>{let ot=bt??(Ft??NaN)*yn();if(isNaN(ot))return;let xt=gt?.skip,Jn=At?window:M.current;Jn?.[Ie==="to"?"scrollTo":"scrollBy"]({[a==="y"?"top":"left"]:ot,behavior:xt===!0?"instant":xt===!1?"smooth":xt==="default"?"auto":q9?"instant":"smooth"})},[a,yn,At]),Jr=p.useCallback(Ie=>zt("to",Ie),[zt]),pr=p.useCallback(Ie=>zt("by",Ie),[zt]);p.useEffect(()=>{ee.current=Jr,ke.current=pr},[pr,ke,Jr,ee]),p.useImperativeHandle(de,()=>({getProgress:fr,getDistance:mt,getAvailableDistance:yn,scrollTo:Jr,scrollBy:pr}),[yn,mt,fr,Jr,pr]);let Qr=p.useRef(!1),Un=p.useRef(),Bc=p.useRef(),Xr=p.useRef(0),ta=p.useRef(0),qn=p.useRef(!1),Ke=p.useCallback(({scrollIntoPlace:Ie=!0,scrollBehavior:Ft,safeViewport:bt="visual-viewport"})=>{let gt,ot;if(!M.current||!re.current||!N.current||!ge.current||a!=="y"||bt==="none"||fe?.current&&se().top===null||!fe?.current&&se)return;if(fe?.current){let{top:ti,bottom:pl}=Lb(M.current),Nr=fe.current.getBoundingClientRect(),Hi=Nr.top,Je=Nr.bottom;gt=se().top+(ti-Hi),ot=se().bottom-(Je-pl)}else{let{top:ti,bottom:pl}=Lb(M.current);gt=ti,ot=pl}let{top:xt,bottom:Jn}=eM(),wn=Math.min(ot,bt==="visual-viewport"?Jn:window.innerHeight),As=I2e(gt,bt==="visual-viewport"?xt:0),Is=M2e(ot,bt==="visual-viewport"?Jn:window.innerHeight);if(1>Math.abs(Xr.current-As)&&1>Math.abs(ta.current-Is))return;let na=-1*(wn-N.current.getBoundingClientRect().top),fl=M.current.offsetHeight-re.current.offsetHeight>=0,hl=()=>{tM(ge.current,As,Xr),tM(N.current,Is,ta)};if(Ft==="smooth"&&(na<0||fl)?Ie&&(qn.current=!0,fl?M.current.scrollTo({top:0,behavior:Ft}):M.current.scrollBy({top:na,behavior:Ft}),ta.current=Is,A2e(M.current,()=>{M.current&&fl&&M.current.scrollTo({top:0,behavior:"instant"}),hl()})):hl(),!Ie)return{spacersHeightSetter:hl,verticalScrollOffsetRequired:na}},[a,se,fe]),on=p.useCallback(()=>Ke({scrollBehavior:Db,safeViewport:u}),[u,Ke]);An(()=>{on()},[on]),p.useEffect(()=>{let Ie=M.current,Ft=ot=>{clearTimeout(Un.current),clearTimeout(Bc.current);let xt=ot.target;if(xt===Ie)return;let{scrollIntoView:Jn}=Zs({nativeEvent:ot,defaultBehavior:{scrollIntoView:!0},handler:y});if(!ql(xt)||vS(xt))return;let wn=xt.getBoundingClientRect().top-0,As=xt.getBoundingClientRect().bottom-0,{top:Is,bottom:na}=Lb(M.current),fl=Is-0,hl=na-0,ti=()=>{if(clearTimeout(Un.current),clearTimeout(Bc.current),!Y1())return;Qr.current=!0;let{top:pl,bottom:Nr}=eM(),{spacersHeightSetter:Hi=()=>{}}=Ke({scrollIntoPlace:!1,scrollBehavior:"smooth",safeViewport:u})||{};Hi(),Jn&&R2e({scrollContainer:M.current,behavior:Db,scrollMarginTop:64,scrollMarginBottom:O2e,elementTop:wn,elementBottom:As,scrollPortTop:fl,scrollPortBottom:hl,visualViewportTop:pl,visualViewportBottom:Nr,beforeScrollCallback:()=>qn.current=!0}),visualViewport.removeEventListener("resize",ti)};Qr.current?(ti(),visualViewport.addEventListener("resize",ti),Un.current=setTimeout(()=>{visualViewport.removeEventListener("resize",ti)},900)):(visualViewport.addEventListener("resize",ti),Bc.current=setTimeout(()=>{visualViewport.removeEventListener("resize",ti),ti()},900))},bt=ot=>{let xt=ot.target;!ql(xt)||vS(xt)||ql(ot.relatedTarget)||(Qr.current=!1,Ke({scrollBehavior:Db,safeViewport:u==="none"?"none":"layout-viewport"}))},gt=()=>{var ot;(ot=M.current)===null||ot===void 0||ot.removeEventListener("scroll",on),setTimeout(()=>{on(),setTimeout(()=>{var xt;(xt=M.current)===null||xt===void 0||xt.addEventListener("scroll",on,{once:!0})},200)},1),setTimeout(()=>on,350)};return Ie?.addEventListener("focus",Ft,{capture:!0}),Ie?.addEventListener("blur",bt,{capture:!0}),visualViewport.addEventListener("resize",gt),Ie?.addEventListener("scroll",on,{once:!0}),()=>{Ie?.removeEventListener("focus",Ft,{capture:!0}),Ie?.removeEventListener("blur",bt,{capture:!0}),visualViewport.removeEventListener("resize",gt),Ie?.removeEventListener("scroll",on)}},[y,u,Ke,on]);let ev=GG(M),fo=p.useMemo(()=>l&&!le,[le,l]),ei=Yn("Scroll",{axis:a,scrollTrapX:ae,scrollTrapY:!Ae&&st||ev&&!fo,scrollGestureOvershoot:f,scrollDisabled:he,pageScroll:l,nativePageScrollReplacement:c,overflowX:Z,overflowY:ie,skipScrollAnimation:C?.skip,scrollAnchoring:S,scrollSnapType:F,nativeScrollbar:T,scrollOngoing:Oe});return g.jsxs(j0.Provider,{value:{contentRef:re,axis:a,styleAttributes:ei,nativeFocusScrollPrevention:b,swipeTrapIncapable:fo,focusable:U,pageScroll:l,nativePageScrollReplacement:c,scrollContainerRef:M,swipeTrapObserverRequired:W,startScrollSpyRef:we,endScrollSpyRef:ye,startSpacerRef:ge,endSpacerRef:N,scrollHandler:hr,scrollPadding:w,scrollTimelineName:E},children:[l&&c!==!0&&g.jsx("style",{dangerouslySetInnerHTML:{__html:`
                            html[data-silk-native-page-scroll-replaced="false"] > body {
                                scroll-padding: ${w};
                                scroll-timeline-axis: ${E} ${a};
                            }
                        `}}),l&&c===!0&&g.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-true",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "true");
                        `}}),l&&c===!1&&g.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-false",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "false");
                        `}}),l&&c==="auto"&&g.jsx("script",{id:"silk-scroll-nativePageScrollReplacement-auto",dangerouslySetInnerHTML:{__html:`
                            const standalone =
                                window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
                            const mobile = window.navigator.userAgent?.match(/android|iPhone|iPad/i);

                            document.documentElement.setAttribute("data-standalone", !!standalone);
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", !(mobile && !standalone));
                        `}}),g.jsx(gH,{}),g.jsx(j,{...ei("view",["axis","pageScroll","skipScrollAnimation","scrollOngoing"],{className:i,dataSilk:[s]}),...O,ref:B,children:r})]})});vH.displayName="Scroll.View";let wS=Fe.forwardRef(({side:e,...t},n)=>{let{axis:r}=p.useContext(j0)||{},i=Yn("Scroll",{side:e,axis:r});return g.jsx("div",{...i("spy",["side","axis"]),ref:n,...t})});wS.displayName="Scroll.Anonymous";let _H=Fe.forwardRef((e,t)=>{let{asChild:n,className:r,"data-silk":i,...s}=e,o=n?Zn:"div",{contentRef:a,styleAttributes:l,nativeFocusScrollPrevention:c,swipeTrapIncapable:u,focusable:d,axis:f,pageScroll:h,nativePageScrollReplacement:m,scrollContainerRef:v,swipeTrapObserverRequired:_,startScrollSpyRef:y,endScrollSpyRef:b,startSpacerRef:C,endSpacerRef:S,scrollHandler:x,scrollPadding:w,scrollTimelineName:E}=p.useContext(j0)||{},T=Kr(a,t);return g.jsxs("div",{...l("scrollContainer",["axis","pageScroll","scrollTrapX","scrollTrapY","scrollGestureOvershoot","scrollDisabled","overflowX","overflowY","skipScrollAnimation","scrollAnchoring","scrollSnapType","nativeScrollbar"],{dataSilk:[i,"0ad",c&&"0ah",u&&"0ai"]}),style:{scrollPadding:w,scrollTimeline:E+" "+f},tabIndex:d?0:c?-1:void 0,role:h&&!m?void 0:"region",onScroll:x,ref:v,children:[_&&g.jsx(wS,{side:"start",ref:y}),f==="y"&&g.jsx("div",{ref:C,...l("startSpacer",["axis","pageScroll"])}),g.jsx(o,{...l("content",["axis","scrollTrapX","scrollTrapY","overflowX","overflowY"],{className:r,dataSilk:[i]}),...s,ref:T}),f==="y"&&g.jsx("div",{ref:S,...l("endSpacer",["axis","pageScroll"])}),_&&g.jsx(wS,{side:"end",ref:b})]})});_H.displayName="Scroll.Content";let N2e=Fe.forwardRef(({asChild:e,...t},n)=>{let r=e?Zn:"button",{forComponent:i,onPress:s,onClick:o,children:a,action:l,...c}=t,{type:u,...d}=l||{},{scrollTo:f,scrollBy:h}=pH(i),m=p.useRef(null),v=Kr(m,n);return g.jsx(r,{onClick:_=>{var y;let{forceFocus:b,runAction:C}=Zs({nativeEvent:_,defaultBehavior:{forceFocus:!0,runAction:!0},handler:s});if(b&&((y=m.current)===null||y===void 0||y.focus({preventScroll:!0})),C){if(u==="scroll-to")return f(d);if(u==="scroll-by")return h(d)}o?.(_)},ref:v,...c,children:a})});N2e.displayName="Sheet.Trigger";let Fb={Root:mH,View:vH,Content:_H},P2e=e=>p.useContext(e??Ya)||{},yH=Fe.forwardRef((e,t)=>{let{asChild:n,className:r,"data-silk":i,timing:s,forComponent:o,tabIndex:a,...l}=e,c=n?Zn:"div",{sheetId:u}=o?P2e(o):{},d=u??"any",f=p.useCallback(C=>{rt.addAutoFocusTarget({layerId:d,element:C,timing:s})},[d,s]),h=p.useCallback(C=>{rt.removeAutoFocusTarget(C)},[]),m=p.useRef(null),v=p.useCallback(C=>{C?f(C):h(m.current),m.current=C},[f,h]),_=p.useRef(!0);p.useEffect(()=>(m.current&&!_.current&&f(m.current),_.current=!1,()=>{m.current&&h(m.current)}),[f,h]);let y=Kr(v,t),b=Yn("AutoFocusTarget",{});return g.jsx(c,{...b("root",[],{className:r,dataSilk:[i]}),...n||Number.isInteger(a)?{}:{tabIndex:-1},...l,ref:y})});yH.displayName="AutoFocusTarget.Root";let D2e={Root:yH},L2e=Fe.forwardRef((e,t)=>{let{asChild:n,disabled:r=!1,children:i,contentGetter:s,forComponent:o,...a}=e,l=p.useRef(null),c=Kr(l,t),u=p.useMemo(()=>!!i,[i]);return p.useEffect(()=>{let d,f;if(!r){let h,m=!1;if(u&&l.current?h=l.current:s&&(h=K1(s))&&(m=!0),h){let v=Array.isArray(o)?o:o?[o]:[];d=rt.addIsland({componentId:v,element:h}),m&&(f=new MutationObserver(()=>{K1(s)||(rt.removeIsland(d),f.disconnect())})).observe(h.parentElement,{childList:!0})}}return()=>{r||(rt.removeIsland(d),f?.disconnect())}},[t,r,u,s,o]),i?g.jsx(No.Root,{active:!r,asChild:n,"data-silk":"0ag",...a,ref:c,children:i}):null});L2e.displayName="Island.Root";let F2e=Fe.forwardRef((e,t)=>{let{asChild:n,children:r,...i}=e;return g.jsx(No.Stabiliser,{asChild:n,...i,ref:t,children:r})});F2e.displayName="Island.Content";let j2e=Fe.forwardRef(({asChild:e,children:t,contentGetter:n,disabled:r=!1,selfManagedInertOutside:i=!0,...s},o)=>{let a=vc(),l=p.useRef(null),c=Kr(l,o),u=e?Zn:"div",d=p.useMemo(()=>!!t,[t]);return An(()=>{let f;if(!r&&a){let h,m=!1;d&&l.current?h=l.current:n&&(h=K1(n))&&(m=!0),h&&(rt.updateLayer({external:!0,layerId:a,viewElement:h,inertOutside:i,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},defaultClickOutsideAction:()=>{},defaultEscapeKeyDownAction:()=>{}}),m&&(f=new MutationObserver(()=>{K1(n)||(rt.removeLayer(a),f.disconnect())})).observe(h.parentElement,{childList:!0}))}return()=>{!r&&a&&(rt.removeLayer(a),f?.disconnect())}},[d,n,r,a,i]),g.jsx(u,{ref:c,...s,children:t})});j2e.displayName="ExternalOverlay.Root";const bH=en(()=>({anySheetOpen$:Tt(!1)}));function B2e(e){"use forget";const t=Te.c(12);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const i=me();let s;t[3]!==i?(s=bH(i),t[3]=i,t[4]=s):s=t[4];const o=s;let a;t[5]!==r||t[6]!==o.anySheetOpen$?(a=c=>{o.anySheetOpen$.set(c),r.onPresentedChange?.(c)},t[5]=r,t[6]=o.anySheetOpen$,t[7]=a):a=t[7];let l;return t[8]!==n||t[9]!==r||t[10]!==a?(l=g.jsx(Aa.Root,{license:"commercial","data-content-sheet-root":!0,...r,onPresentedChange:a,children:n}),t[8]=n,t[9]=r,t[10]=a,t[11]=l):l=t[11],l}function U2e(e){"use forget";const t=Te.c(23);let n,r,i,s,o;t[0]!==e?({children:n,className:r,onTravel:s,onCloseComplete:i,...o}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5]);const a=p.useRef(null),l=r0(),c=l?"center":"bottom",[u,d]=p.useState(null),f=me();let h;t[6]!==f?(h=bH(f),t[6]=f,t[7]=h):h=t[7];const m=h;let v;t[8]!==i||t[9]!==s||t[10]!==m?(v=x=>{const{progress:w,...E}=x;if(!a.current)return s?.({progress:w,...E});w<.999?d(null):w===0?(m.anySheetOpen$.set(!1),i?.()):(m.anySheetOpen$.set(!0),d("opened")),s?.({progress:w,...E})},t[8]=i,t[9]=s,t[10]=m,t[11]=v):v=t[11];const _=v,y=`view-${l}`;let b;t[12]!==r?(b=xe("top-0 bottom-[initial] h-[max(100dvh,100%)] [--sheet-radius:16px] sm:h-full",r),t[12]=r,t[13]=b):b=t[13];let C;t[14]===Symbol.for("react.memo_cache_sentinel")?(C={focus:!1},t[14]=C):C=t[14];let S;return t[15]!==n||t[16]!==c||t[17]!==o||t[18]!==y||t[19]!==b||t[20]!==_||t[21]!==u?(S=g.jsx(Aa.View,{className:b,"data-sheet-travel-state":u,"data-ignore-for-page-load":!0,contentPlacement:c,tracks:"bottom",swipeOvershoot:!1,nativeEdgeSwipePrevention:!1,onTravel:_,onDismissAutoFocus:C,ref:a,...o,children:n},y),t[15]=n,t[16]=c,t[17]=o,t[18]=y,t[19]=b,t[20]=_,t[21]=u,t[22]=S):S=t[22],S}function q2e(e){"use forget";const t=Te.c(2),n=p.useRef(null);let r;return t[0]!==e?(r=g.jsx(Aa.Backdrop,{ref:n,...e}),t[0]=e,t[1]=r):r=t[1],r}function z2e(e){"use forget";const t=Te.c(15);let n,r,i,s,o;t[0]!==e?({children:n,size:o,className:r,ref:i,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5]);const a=o===void 0?"fill":o,l=a==="fit"&&"h-min max-h-[calc(100%-max(env(safe-area-inset-top),6px))]",c=a==="fill"&&"h-[calc(100%-max(env(safe-area-inset-top),6px))] sm:h-[calc(100%-4rem)]";let u;t[6]!==r||t[7]!==l||t[8]!==c?(u=xe("max-w-md [border-radius:var(--sheet-radius)_var(--sheet-radius)_0_0] pb-4 focus:outline-hidden sm:w-[calc(800px-1.25rem)] sm:[border-radius:var(--sheet-radius)]",l,c,r),t[6]=r,t[7]=l,t[8]=c,t[9]=u):u=t[9];let d;return t[10]!==n||t[11]!==i||t[12]!==s||t[13]!==u?(d=g.jsx(Aa.Content,{className:u,...s,ref:i,children:n}),t[10]=n,t[11]=i,t[12]=s,t[13]=u,t[14]=d):d=t[14],d}const Po={Root:B2e,Portal:Aa.Portal,View:U2e,Backdrop:q2e,Content:z2e,Trigger:Aa.Trigger,Handle:Aa.Handle,Title:Aa.Title};function G2e({children:e,className:t,...n}){return g.jsx(Fb.Root,{asChild:!0,children:g.jsx(Fb.View,{className:xe("min-h-0",t),safeArea:"visual-viewport",scrollTimelineName:"--sheet-scroller",...n,children:g.jsx(Fb.Content,{className:"align-content-start grid",tabIndex:-1,children:e})})})}function H2e({className:e,children:t,handle:n="auto",...r}){const i=r0(),s=n==="auto"?!i:n;return g.jsxs(Po.Content,{className:xe("bg-token-bg-primary content-sheet popup shadow-long @container/sheet-content grid [--padding:1rem]",s?"grid-rows-[min-content_min-content_1fr_min-content]":"grid-rows-[min-content_1fr_min-content]",e),...r,children:[s&&g.jsx(D2e.Root,{timing:"present",className:"flex justify-center focus-visible:outline-none",children:g.jsx(V2e,{})}),t]})}function V2e(e){"use forget";const t=Te.c(8);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let i;t[3]!==n?(i=xe("bg-token-bg-secondary! dark:bg-token-bg-tertiary! col-start-1 col-end-[-1] mt-1.5 h-1 self-start justify-self-center rounded-full select-none",n),t[3]=n,t[4]=i):i=t[4];let s;return t[5]!==r||t[6]!==i?(s=g.jsx(Po.Handle,{className:i,...r}),t[5]=r,t[6]=i,t[7]=s):s=t[7],s}function $2e(e){"use forget";const t=Te.c(9);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);let i;t[3]!==r.className?(i=xe("min-h-header-height relative grid grid-cols-[1fr_min-content] items-center justify-between gap-3 py-2.5 ps-4 pe-2 select-none",r.className),t[3]=r.className,t[4]=i):i=t[4];let s;return t[5]!==n||t[6]!==r||t[7]!==i?(s=g.jsx("header",{...r,className:i,children:n}),t[5]=n,t[6]=r,t[7]=i,t[8]=s):s=t[8],s}function W2e(e){"use forget";const t=Te.c(5);let n;t[0]!==e.className?(n=xe("text-token-text-primary m-0 w-full min-w-0 overflow-hidden text-lg font-normal overflow-ellipsis whitespace-nowrap [text-box-trim:trim-both]",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=g.jsx(Po.Title,{...e,className:n}),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}function K2e(e){"use forget";const t=Te.c(5);let n;t[0]!==e.className?(n=xe("z-10 grid grid-flow-col justify-end gap-3 px-[var(--padding)] pt-4",e.className),t[0]=e.className,t[1]=n):n=t[1];let r;return t[2]!==e||t[3]!==n?(r=g.jsx("footer",{...e,className:n}),t[2]=e,t[3]=n,t[4]=r):r=t[4],r}const Y2e=mye(Vt,e=>g.jsx(Po.Trigger,{action:"dismiss",asChild:!0,children:e}));function Z2e(e){"use forget";const t=Te.c(12);let n,r,i,s;t[0]!==e?({fullBleed:i,className:r,children:n,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=!i&&"px-(--thread-content-margin)";let a;t[5]!==r||t[6]!==o?(a=xe(o,r),t[5]=r,t[6]=o,t[7]=a):a=t[7];let l;return t[8]!==n||t[9]!==s||t[10]!==a?(l=g.jsx("section",{"data-content-sheet-section":!0,className:a,...s,children:n}),t[8]=n,t[9]=s,t[10]=a,t[11]=l):l=t[11],l}function J2e(e){"use forget";const t=Te.c(9);let n,r;t[0]!==e?({children:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const i=r0(),o=Ooe()||i;let a;t[3]!==o?(a={preset:"snappy",skip:o},t[3]=o,t[4]=a):a=t[4];const l=a;let c;return t[5]!==l||t[6]!==n||t[7]!==r?(c=g.jsx(Po.View,{enteringAnimationSettings:l,exitingAnimationSettings:l,...r,children:n}),t[5]=l,t[6]=n,t[7]=r,t[8]=c):c=t[8],c}function Q2e(e){"use forget";const t=Te.c(9);let n,r;t[0]!==e?({className:n,...r}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const s=r0()&&"before:starting:backdrop-blur-0 fixed inset-0 z-50 bg-transparent opacity-100! before:absolute before:inset-0 before:bg-gray-200/50 before:backdrop-blur-[1px] before:transition before:duration-250 before:starting:opacity-0";let o;t[3]!==n||t[4]!==s?(o=xe(s,n),t[3]=n,t[4]=s,t[5]=o):o=t[5];let a;return t[6]!==r||t[7]!==o?(a=g.jsx(Po.Backdrop,{themeColorDimming:!1,className:o,...r}),t[6]=r,t[7]=o,t[8]=a):a=t[8],a}const qs={Root:Po.Root,Trigger:Po.Trigger,Portal:Po.Portal,View:J2e,Backdrop:Q2e,Content:H2e,HeaderBar:$2e,Title:W2e,FooterBar:K2e,DismissAction:Y2e,ScrollRoot:G2e,ContentSection:Z2e},X2e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.667 2.08496C15.0382 2.08509 18.582 5.62875 18.582 10C18.582 14.3713 15.0382 17.9149 10.667 17.915C6.29566 17.915 2.75195 14.3713 2.75195 10C2.75195 5.62867 6.29566 2.08496 10.667 2.08496ZM13.7588 6.74805C13.4585 6.53673 13.0434 6.60897 12.832 6.90918L9.35059 11.8545L7.82617 10.1777L7.72559 10.0879C7.47599 9.90563 7.12443 9.91699 6.88672 10.1328C6.64884 10.3491 6.60354 10.6989 6.76172 10.9648L6.8418 11.0723L8.9248 13.3643L8.97852 13.417C9.10977 13.532 9.28278 13.592 9.45898 13.5811C9.66011 13.5683 9.84489 13.4646 9.96094 13.2998L13.9199 7.6748C14.131 7.37468 14.0586 6.95952 13.7588 6.74805Z"})),$9=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M12.0961 2.91371C12.3297 2.68688 12.6984 2.64794 12.9779 2.83852C13.2571 3.02905 13.3554 3.38601 13.2299 3.68618L13.1615 3.81118L6.91152 12.9772C6.79412 13.1494 6.60631 13.2604 6.39882 13.2799C6.19137 13.2994 5.98565 13.226 5.83828 13.0788L2.08828 9.32875L1.99843 9.2184C1.81921 8.94677 1.84928 8.57767 2.08828 8.33852C2.3274 8.0994 2.69648 8.06947 2.96816 8.24868L3.07851 8.33852L6.23085 11.4909L12.0053 3.02211L12.0961 2.91371Z"})),ebe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),tbe={threshold:1,rootMargin:"0%"};function nbe({target:e,onChange:t,options:n=tbe}){if(!e)return;const r=new IntersectionObserver(s=>{const o=Array.isArray(r.thresholds)?r.thresholds:[r.thresholds];s.forEach(a=>{const l=a.isIntersecting&&o.some(c=>a.intersectionRatio>=c);t(l,a)})},n);function i(){r.disconnect()}return r.observe(e),i}function rbe({setIsScrolledToEdge:e,className:t,options:n}){return g.jsx("div",{"aria-hidden":!0,"data-edge":!0,className:xe("pointer-events-none h-px w-px",t),ref:r=>nbe({target:r,onChange:i=>e(!i),options:n})})}const ibe=({isOpen:e,onClose:t})=>{const n=p.useRef(null),r=n.current?.ownerDocument.body??null;return p.useEffect(()=>{if(!r||!e)return;const i=s=>{(!s.relatedTarget||s.relatedTarget instanceof HTMLElement&&!r.contains(s.relatedTarget))&&t()};return r.addEventListener("blur",i,{capture:!0}),()=>r.removeEventListener("blur",i,{capture:!0})},[e,r]),{triggerRef:n,container:r}};var sbe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},lu=new WeakMap,am=new WeakMap,lm={},jb=0,CH=function(e){return e&&(e.host||CH(e.parentNode))},obe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=CH(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},abe=function(e,t,n,r){var i=obe(t,Array.isArray(e)?e:[e]);lm[n]||(lm[n]=new WeakMap);var s=lm[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),m=h!==null&&h!=="false",v=(lu.get(f)||0)+1,_=(s.get(f)||0)+1;lu.set(f,v),s.set(f,_),o.push(f),v===1&&m&&am.set(f,!0),_===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),a.clear(),jb++,function(){o.forEach(function(d){var f=lu.get(d)-1,h=s.get(d)-1;lu.set(d,f),s.set(d,h),f||(am.has(d)||d.removeAttribute(r),am.delete(d)),h||d.removeAttribute(n)}),jb--,jb||(lu=new WeakMap,lu=new WeakMap,am=new WeakMap,lm={})}},lbe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=sbe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),abe(r,i,n,"aria-hidden")):function(){return null}},ES=["Enter"," "],cbe=["ArrowDown","PageUp","Home"],SH=["ArrowUp","PageDown","End"],ube=[...cbe,...SH],dbe={ltr:[...ES,"ArrowRight"],rtl:[...ES,"ArrowLeft"]},fbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tp="Menu",[uh,hbe,pbe]=sU(tp),[Rc,wH]=Sd(tp,[pbe,g0,f0]),np=g0(),EH=f0(),[xH,cl]=Rc(tp),[mbe,rp]=Rc(tp),kH=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,a=np(t),[l,c]=p.useState(null),u=p.useRef(!1),d=Bi(s),f=Yw(i);return p.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),g.jsx(a9,{...a,children:g.jsx(xH,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:c,children:g.jsx(mbe,{scope:t,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};kH.displayName=tp;var gbe="MenuAnchor",W9=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=np(n);return g.jsx(YU,{...i,...r,ref:t})});W9.displayName=gbe;var K9="MenuPortal",[vbe,TH]=Rc(K9,{forceMount:void 0}),OH=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=cl(K9,t);return g.jsx(vbe,{scope:t,forceMount:n,children:g.jsx(ws,{present:n||s.open,children:g.jsx(Dh,{asChild:!0,container:i,children:r})})})};OH.displayName=K9;var Li="MenuContent",[_be,Y9]=Rc(Li),AH=p.forwardRef((e,t)=>{const n=TH(Li,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=cl(Li,e.__scopeMenu),o=rp(Li,e.__scopeMenu);return g.jsx(uh.Provider,{scope:e.__scopeMenu,children:g.jsx(ws,{present:r||s.open,children:g.jsx(uh.Slot,{scope:e.__scopeMenu,children:o.modal?g.jsx(ybe,{...i,ref:t}):g.jsx(bbe,{...i,ref:t})})})})}),ybe=p.forwardRef((e,t)=>{const n=cl(Li,e.__scopeMenu),r=p.useRef(null),i=In(t,r);return p.useEffect(()=>{const s=r.current;if(s)return lbe(s)},[]),g.jsx(Z9,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bbe=p.forwardRef((e,t)=>{const n=cl(Li,e.__scopeMenu);return g.jsx(Z9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Z9=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:m,...v}=e,_=cl(Li,n),y=rp(Li,n),b=np(n),C=EH(n),S=hbe(n),[x,w]=p.useState(null),E=p.useRef(null),T=In(t,E,_.onContentChange),O=p.useRef(0),k=p.useRef(""),A=p.useRef(0),I=p.useRef(null),P=p.useRef("right"),D=p.useRef(0),R=m?U4:p.Fragment,F=m?{as:td,allowPinchZoom:!0}:void 0,j=B=>{const M=k.current+B,re=S().filter(de=>!de.disabled),ge=document.activeElement,N=re.find(de=>de.ref.current===ge)?.textValue,we=re.map(de=>de.textValue),ye=Rbe(we,M,N),X=re.find(de=>de.textValue===ye)?.ref.current;(function de(ee){k.current=ee,window.clearTimeout(O.current),ee!==""&&(O.current=window.setTimeout(()=>de(""),1e3))})(M),X&&setTimeout(()=>X.focus())};p.useEffect(()=>()=>window.clearTimeout(O.current),[]),JF();const V=p.useCallback(B=>P.current===I.current?.side&&Pbe(B,I.current?.area),[]);return g.jsx(_be,{scope:n,searchRef:k,onItemEnter:p.useCallback(B=>{V(B)&&B.preventDefault()},[V]),onItemLeave:p.useCallback(B=>{V(B)||(E.current?.focus(),w(null))},[V]),onTriggerLeave:p.useCallback(B=>{V(B)&&B.preventDefault()},[V]),pointerGraceTimerRef:A,onPointerGraceIntentChange:p.useCallback(B=>{I.current=B},[]),children:g.jsx(R,{...F,children:g.jsx(B4,{asChild:!0,trapped:i,onMountAutoFocus:et(s,B=>{B.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:g.jsx(Ph,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:g.jsx(fU,{asChild:!0,...C,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:x,onCurrentTabStopIdChange:w,onEntryFocus:et(l,B=>{y.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:g.jsx(ZU,{role:"menu","aria-orientation":"vertical","data-state":$H(_.open),"data-radix-menu-content":"",dir:y.dir,...b,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:et(v.onKeyDown,B=>{const re=B.target.closest("[data-radix-menu-content]")===B.currentTarget,ge=B.ctrlKey||B.altKey||B.metaKey,N=B.key.length===1;re&&(B.key==="Tab"&&B.preventDefault(),!ge&&N&&j(B.key));const we=E.current;if(B.target!==we||!ube.includes(B.key))return;B.preventDefault();const X=S().filter(de=>!de.disabled).map(de=>de.ref.current);SH.includes(B.key)&&X.reverse(),Ibe(X)}),onBlur:et(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(O.current),k.current="")}),onPointerMove:et(e.onPointerMove,dh(B=>{const M=B.target,re=D.current!==B.clientX;if(B.currentTarget.contains(M)&&re){const ge=B.clientX>D.current?"right":"left";P.current=ge,D.current=B.clientX}}))})})})})})})});AH.displayName=Li;var Cbe="MenuGroup",J9=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Yt.div,{role:"group",...r,ref:t})});J9.displayName=Cbe;var Sbe="MenuLabel",IH=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Yt.div,{...r,ref:t})});IH.displayName=Sbe;var J1="MenuItem",nM="menu.itemSelect",B0=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=p.useRef(null),o=rp(J1,e.__scopeMenu),a=Y9(J1,e.__scopeMenu),l=In(t,s),c=p.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const f=new CustomEvent(nM,{bubbles:!0,cancelable:!0});d.addEventListener(nM,h=>r?.(h),{once:!0}),$F(d,f),f.defaultPrevented?c.current=!1:o.onClose()}};return g.jsx(MH,{...i,ref:l,disabled:n,onClick:et(e.onClick,u),onPointerDown:d=>{e.onPointerDown?.(d),c.current=!0},onPointerUp:et(e.onPointerUp,d=>{c.current||d.currentTarget?.click()}),onKeyDown:et(e.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||ES.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});B0.displayName=J1;var MH=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=Y9(J1,n),a=EH(n),l=p.useRef(null),c=In(t,l),[u,d]=p.useState(!1),[f,h]=p.useState("");return p.useEffect(()=>{const m=l.current;m&&h((m.textContent??"").trim())},[s.children]),g.jsx(uh.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:g.jsx(hU,{asChild:!0,...a,focusable:!r,children:g.jsx(Yt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:et(e.onPointerMove,dh(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(e.onPointerLeave,dh(m=>o.onItemLeave(m))),onFocus:et(e.onFocus,()=>d(!0)),onBlur:et(e.onBlur,()=>d(!1))})})})}),wbe="MenuCheckboxItem",RH=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return g.jsx(FH,{scope:e.__scopeMenu,checked:n,children:g.jsx(B0,{role:"menuitemcheckbox","aria-checked":Q1(n)?"mixed":n,...i,ref:t,"data-state":eE(n),onSelect:et(i.onSelect,()=>r?.(Q1(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RH.displayName=wbe;var NH="MenuRadioGroup",[Ebe,xbe]=Rc(NH,{value:void 0,onValueChange:()=>{}}),PH=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Bi(r);return g.jsx(Ebe,{scope:e.__scopeMenu,value:n,onValueChange:s,children:g.jsx(J9,{...i,ref:t})})});PH.displayName=NH;var DH="MenuRadioItem",LH=p.forwardRef((e,t)=>{const{value:n,...r}=e,i=xbe(DH,e.__scopeMenu),s=n===i.value;return g.jsx(FH,{scope:e.__scopeMenu,checked:s,children:g.jsx(B0,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":eE(s),onSelect:et(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});LH.displayName=DH;var Q9="MenuItemIndicator",[FH,kbe]=Rc(Q9,{checked:!1}),jH=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=kbe(Q9,n);return g.jsx(ws,{present:r||Q1(s.checked)||s.checked===!0,children:g.jsx(Yt.span,{...i,ref:t,"data-state":eE(s.checked)})})});jH.displayName=Q9;var Tbe="MenuSeparator",BH=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return g.jsx(Yt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});BH.displayName=Tbe;var Obe="MenuArrow",UH=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=np(n);return g.jsx(JU,{...i,...r,ref:t})});UH.displayName=Obe;var X9="MenuSub",[Abe,qH]=Rc(X9),zH=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,s=cl(X9,t),o=np(t),[a,l]=p.useState(null),[c,u]=p.useState(null),d=Bi(i);return p.useEffect(()=>(s.open===!1&&d(!1),()=>d(!1)),[s.open,d]),g.jsx(a9,{...o,children:g.jsx(xH,{scope:t,open:r,onOpenChange:d,content:c,onContentChange:u,children:g.jsx(Abe,{scope:t,contentId:Ks(),triggerId:Ks(),trigger:a,onTriggerChange:l,children:n})})})};zH.displayName=X9;var yf="MenuSubTrigger",GH=p.forwardRef((e,t)=>{const n=cl(yf,e.__scopeMenu),r=rp(yf,e.__scopeMenu),i=qH(yf,e.__scopeMenu),s=Y9(yf,e.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},u=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),g.jsx(W9,{asChild:!0,...c,children:g.jsx(MH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$H(n.open),...e,ref:Pg(t,i.onTriggerChange),onClick:d=>{e.onClick?.(d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(e.onPointerMove,dh(d=>{s.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:et(e.onPointerLeave,dh(d=>{u();const f=n.content?.getBoundingClientRect();if(f){const h=n.content?.dataset.side,m=h==="right",v=m?-5:5,_=f[m?"left":"right"],y=f[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:_,y:f.top},{x:y,y:f.top},{x:y,y:f.bottom},{x:_,y:f.bottom}],side:h}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:et(e.onKeyDown,d=>{const f=s.searchRef.current!=="";e.disabled||f&&d.key===" "||dbe[r.dir].includes(d.key)&&(n.onOpenChange(!0),n.content?.focus(),d.preventDefault())})})})});GH.displayName=yf;var HH="MenuSubContent",VH=p.forwardRef((e,t)=>{const n=TH(Li,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=cl(Li,e.__scopeMenu),o=rp(Li,e.__scopeMenu),a=qH(HH,e.__scopeMenu),l=p.useRef(null),c=In(t,l);return g.jsx(uh.Provider,{scope:e.__scopeMenu,children:g.jsx(ws,{present:r||s.open,children:g.jsx(uh.Slot,{scope:e.__scopeMenu,children:g.jsx(Z9,{id:a.contentId,"aria-labelledby":a.triggerId,align:"start",...i,ref:c,side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{o.isUsingKeyboardRef.current&&l.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:et(e.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:et(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:et(e.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),f=fbe[o.dir].includes(u.key);d&&f&&(s.onOpenChange(!1),a.trigger?.focus(),u.preventDefault())})})})})})});VH.displayName=HH;function $H(e){return e?"open":"closed"}function Q1(e){return e==="indeterminate"}function eE(e){return Q1(e)?"indeterminate":e?"checked":"unchecked"}function Ibe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Mbe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Rbe(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=Mbe(e,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Nbe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const a=t[s].x,l=t[s].y,c=t[o].x,u=t[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Pbe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Nbe(n,t)}function dh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Dbe=kH,Lbe=W9,Fbe=OH,jbe=AH,Bbe=J9,Ube=IH,qbe=B0,zbe=RH,Gbe=PH,Hbe=LH,Vbe=jH,$be=BH,Wbe=UH,Kbe=zH,Ybe=GH,Zbe=VH,tE="DropdownMenu",[Jbe,TBe]=Sd(tE,[wH]),wr=wH(),[Qbe,WH]=Jbe(tE),KH=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=wr(t),c=p.useRef(null),[u=!1,d]=xc({prop:i,defaultProp:s,onChange:o});return g.jsx(Qbe,{scope:t,triggerId:Ks(),triggerRef:c,contentId:Ks(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:g.jsx(Dbe,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};KH.displayName=tE;var YH="DropdownMenuTrigger",ZH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=WH(YH,n),o=wr(n);return g.jsx(Lbe,{asChild:!0,...o,children:g.jsx(Yt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Pg(t,s.triggerRef),onPointerDown:et(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:et(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});ZH.displayName=YH;var Xbe="DropdownMenuPortal",JH=e=>{const{__scopeDropdownMenu:t,...n}=e,r=wr(t);return g.jsx(Fbe,{...r,...n})};JH.displayName=Xbe;var QH="DropdownMenuContent",XH=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=WH(QH,n),s=wr(n),o=p.useRef(!1);return g.jsx(jbe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:et(e.onCloseAutoFocus,a=>{o.current||i.triggerRef.current?.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:et(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XH.displayName=QH;var eCe="DropdownMenuGroup",eV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(Bbe,{...i,...r,ref:t})});eV.displayName=eCe;var tCe="DropdownMenuLabel",tV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(Ube,{...i,...r,ref:t})});tV.displayName=tCe;var nCe="DropdownMenuItem",nV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(qbe,{...i,...r,ref:t})});nV.displayName=nCe;var rCe="DropdownMenuCheckboxItem",rV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(zbe,{...i,...r,ref:t})});rV.displayName=rCe;var iCe="DropdownMenuRadioGroup",iV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(Gbe,{...i,...r,ref:t})});iV.displayName=iCe;var sCe="DropdownMenuRadioItem",sV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(Hbe,{...i,...r,ref:t})});sV.displayName=sCe;var oCe="DropdownMenuItemIndicator",oV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(Vbe,{...i,...r,ref:t})});oV.displayName=oCe;var aCe="DropdownMenuSeparator",aV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx($be,{...i,...r,ref:t})});aV.displayName=aCe;var lCe="DropdownMenuArrow",cCe=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(Wbe,{...i,...r,ref:t})});cCe.displayName=lCe;var uCe=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:s}=e,o=wr(t),[a=!1,l]=xc({prop:r,defaultProp:s,onChange:i});return g.jsx(Kbe,{...o,open:a,onOpenChange:l,children:n})},dCe="DropdownMenuSubTrigger",lV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(Ybe,{...i,...r,ref:t})});lV.displayName=dCe;var fCe="DropdownMenuSubContent",cV=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=wr(n);return g.jsx(Zbe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cV.displayName=fCe;var uV=KH,nE=ZH,hCe=JH,pCe=XH,mCe=eV,gCe=tV,U0=nV,dV=rV,vCe=iV,_Ce=sV,yCe=oV,bCe=aV,CCe=uCe,SCe=lV,wCe=cV;const ECe=sl.button`
text-token-text-primary border border-transparent inline-flex h-9 items-center justify-center gap-1 rounded-lg bg-white px-3 text-sm dark:transparent dark:bg-transparent
leading-none outline-hidden cursor-pointer
hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-secondary
keyboard-focused:bg-token-main-surface-secondary
radix-state-active:text-token-text-secondary
radix-disabled:cursor-auto radix-disabled:bg-transparent radix-disabled:text-token-text-tertiary dark:radix-disabled:bg-transparent
data-no-hover-bg:hover:bg-transparent dark:data-no-hover-bg:hover:bg-transparent
`,OBe="z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none",fV=sl.div`z-50 max-w-xs rounded-2xl popover bg-token-main-surface-primary dark:bg-[#353535] shadow-long will-change-[opacity,transform] radix-side-bottom:animate-slideUpAndFade radix-side-left:animate-slideRightAndFade radix-side-right:animate-slideLeftAndFade radix-side-top:animate-slideDownAndFade py-1.5 select-none data-[unbound-width]:min-w-[unset] data-[custom-padding]:py-0`,ABe=sl.div`popover overflow-auto rounded-2xl dark:bg-[#353535] bg-clip-padding bg-token-main-surface-primary p-2 shadow-long`,Yr=p.createContext({activeDetent$:Tt(void 0),fullyExpanded$:Tt(!1),mode:"dropdown",open$:Tt(!1)}),rE=p.createContext({}),hV=6,pV=function(t){"use forget";const n=Te.c(64);let r,i,s,o,a,l,c,u,d,f,h,m,v,_;n[0]!==t?({children:i,className:s,style:h,size:m,align:r,addBottomGradient:v,sheetContentClassName:f,ref:u,sheetSize:_,onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,...d}=t,n[0]=t,n[1]=r,n[2]=i,n[3]=s,n[4]=o,n[5]=a,n[6]=l,n[7]=c,n[8]=u,n[9]=d,n[10]=f,n[11]=h,n[12]=m,n[13]=v,n[14]=_):(r=n[1],i=n[2],s=n[3],o=n[4],a=n[5],l=n[6],c=n[7],u=n[8],d=n[9],f=n[10],h=n[11],m=n[12],v=n[13],_=n[14]);const y=m===void 0?"default":m,b=v===void 0?!1:v,C=_===void 0?"fit":_,{detents:S,mode:x}=p.use(Yr),[w,E]=p.useState(!1),T=p.useRef(!1),O=p.useRef(!1),k=p.useRef(!1);if(x==="sheet"){let ee;n[15]===Symbol.for("react.memo_cache_sentinel")?(ee=g.jsx(qs.Backdrop,{}),n[15]=ee):ee=n[15];let ke;n[16]!==i||n[17]!==f?(ke=g.jsx(qs.ScrollRoot,{children:g.jsx(qs.ContentSection,{"data-content-sheet-content-section":!0,className:f,children:i})}),n[16]=i,n[17]=f,n[18]=ke):ke=n[18];let se;n[19]!==s||n[20]!==u||n[21]!==d||n[22]!==C||n[23]!==h||n[24]!==ke?(se=g.jsx(qs.Content,{size:C,ref:u,className:s,style:h,...d,children:ke}),n[19]=s,n[20]=u,n[21]=d,n[22]=C,n[23]=h,n[24]=ke,n[25]=se):se=n[25];let fe;return n[26]!==S||n[27]!==se?(fe=g.jsxs(qs.View,{detents:S,children:[ee,se]}),n[26]=S,n[27]=se,n[28]=fe):fe=n[28],fe}const A=d.alignOffset?`${d.alignOffset}px`:void 0;let I;n[29]!==A?(I={"--radix-align-offset":A},n[29]=A,n[30]=I):I=n[30];const P=I,D=r??"start";let R;n[31]!==P||n[32]!==h?(R={...P,...h},n[31]=P,n[32]=h,n[33]=R):R=n[33];const F=y==="default",j=y==="large",V=y==="small",B=y==="medium",M=y==="auto";let re;n[34]!==s||n[35]!==V||n[36]!==B||n[37]!==M||n[38]!==F||n[39]!==j?(re=xe("[--trigger-width:calc(var(--radix-dropdown-menu-trigger-width)-2*var(--radix-align-offset))]",{"min-w-[max(var(--trigger-width),min(280px,95vw))]":F,"min-w-[max(var(--trigger-width),min(350px,95vw))]":j,"min-w-[max(var(--trigger-width),min(125px,95vw))]":V,"min-w-[max(var(--trigger-width),min(200px,95vw))]":B,"min-w-(--trigger-width)":M},"max-h-[var(--radix-dropdown-menu-content-available-height)] overflow-y-auto select-none",s),n[34]=s,n[35]=V,n[36]=B,n[37]=M,n[38]=F,n[39]=j,n[40]=re):re=n[40];let ge;n[41]!==o?(ge=ee=>{const ke=T.current,se=O.current,fe=k.current;T.current=!1,O.current=!1,k.current=!1,!fe&&!ke&&!se&&o?.(ee)},n[41]=o,n[42]=ge):ge=n[42];let N;n[43]!==a?(N=ee=>{a?.(ee),T.current=!0},n[43]=a,n[44]=N):N=n[44];let we;n[45]!==c?(we=ee=>{c?.(ee),O.current=!0},n[45]=c,n[46]=we):we=n[46];let ye;n[47]!==l?(ye=ee=>{l?.(ee),k.current=!0},n[47]=l,n[48]=ye):ye=n[48];let X;n[49]!==b||n[50]!==w?(X=b&&g.jsxs(g.Fragment,{children:[g.jsx(rbe,{setIsScrolledToEdge:E},"dropdownBottomEdgeScrollObserver"),g.jsx("div",{className:"pointer-events-none absolute start-0 end-0 bottom-0 h-20 transition-opacity duration-100",style:{background:"linear-gradient(to bottom, rgba(255, 255, 255, 0), var(--main-surface-primary))",opacity:w?1:0}})]}),n[49]=b,n[50]=w,n[51]=X):X=n[51];let de;return n[52]!==i||n[53]!==u||n[54]!==d||n[55]!==re||n[56]!==ge||n[57]!==N||n[58]!==we||n[59]!==ye||n[60]!==X||n[61]!==D||n[62]!==R?(de=g.jsx(vde,{children:g.jsxs(fV,{ref:u,$as:pCe,sideOffset:4,align:D,collisionPadding:hV,style:R,className:re,onCloseAutoFocus:ge,onEscapeKeyDown:N,onPointerDownOutside:we,onFocusOutside:ye,...d,children:[i,X]})}),n[52]=i,n[53]=u,n[54]=d,n[55]=re,n[56]=ge,n[57]=N,n[58]=we,n[59]=ye,n[60]=X,n[61]=D,n[62]=R,n[63]=de):de=n[63],de};function xCe(e){"use forget";const t=Te.c(13);let n,r;t[0]!==e?({ref:r,...n}=e,t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);const{mode:i}=p.use(Yr);let s;t[3]!==n?(s=l=>{l.stopPropagation(),n.onFocusCapture?.(l)},t[3]=n,t[4]=s):s=t[4];const o=s;if(i==="sheet"){let l;return t[5]!==o||t[6]!==n||t[7]!==r?(l=g.jsx(qs.Trigger,{asChild:!0,children:g.jsx("button",{ref:r,onFocusCapture:o,...n})}),t[5]=o,t[6]=n,t[7]=r,t[8]=l):l=t[8],l}let a;return t[9]!==o||t[10]!==n||t[11]!==r?(a=g.jsx(ECe,{$as:nE,ref:r,...n,onFocusCapture:o}),t[9]=o,t[10]=n,t[11]=r,t[12]=a):a=t[12],a}function kCe(e){"use forget";const t=Te.c(20);let n,r,i,s;t[0]!==e?({ref:s,onClick:r,onFocusCapture:i,...n}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const{mode:o,open$:a}=p.use(Yr),l=Or(a);let c;t[5]!==r?(c=m=>{m.preventDefault(),r?.(m)},t[5]=r,t[6]=c):c=t[6];const u=c;let d;t[7]!==i?(d=m=>{m.stopPropagation(),i?.(m)},t[7]=i,t[8]=d):d=t[8];const f=d;if(o==="sheet"){const m=l?"open":"closed",v=u;let _;return t[9]!==f||t[10]!==n||t[11]!==s||t[12]!==m||t[13]!==v?(_=g.jsx(qs.Trigger,{ref:s,"data-state":m,onFocusCapture:f,onClick:v,...n}),t[9]=f,t[10]=n,t[11]=s,t[12]=m,t[13]=v,t[14]=_):_=t[14],_}let h;return t[15]!==u||t[16]!==f||t[17]!==n||t[18]!==s?(h=g.jsx(nE,{ref:s,onClick:u,onFocusCapture:f,...n}),t[15]=u,t[16]=f,t[17]=n,t[18]=s,t[19]=h):h=t[19],h}function mV({children:e}){const{mode:t}=p.use(Yr),n=cq();return t==="sheet"?g.jsx(qs.Portal,{...n,children:e}):g.jsx(hCe,{...n,children:e})}function Nc({onPointerMove:e,onPointerLeave:t,...n}){return{...n,onPointerMove:r=>{e?.(r),rM(r)},onPointerLeave:r=>{t?.(r),rM(r)}}}const rM=e=>{if(!e.defaultPrevented&&e.pointerType!=="touch"){const t=e.currentTarget.ownerDocument.activeElement;t&&xle(t,"data-hold-focus")&&e.preventDefault()}},gV=e=>{const{disabled:t,ref:n,onSelect:r,...i}=e,[s,o]=Fe.useState(!1);return g.jsx("div",{role:"menuitem","data-highlighted":s?"":void 0,"aria-disabled":t||void 0,"data-disabled":t?"":void 0,ref:n,...i,onFocus:a=>{o(!0),e.onFocus?.(a)},onBlur:a=>{o(!1),e.onBlur?.(a)},onSelect:a=>{r?.(a.nativeEvent)},children:e.children})},TCe=e=>{const{mode:t}=p.use(Yr);return g.jsx(Ko,{as:t==="sheet"?gV:U0,hasManagedFocus:!0,...Nc(e)})},OCe=e=>{const{mode:t}=p.use(Yr),n=t==="sheet"?gV:U0;return g.jsx(n,{asChild:!0,...Nc({}),children:g.jsx(Ko,{...e})})};function ACe({className:e,noMargin:t,...n}){return g.jsx(bCe,{className:xe("bg-token-border-default h-px",!t&&"mx-4 my-1",e),...n})}const ICe=({separator:e=!0,className:t,...n})=>{const{mode:r}=p.use(Yr),i=g.jsx(mCe,{className:xe("empty:hidden [:not(:has(div:not([role=group])))]:hidden",e&&"before:bg-token-border-default content-sheet:before:my-3 content-sheet:before:mx-6 before:mx-4 before:my-1 before:block before:h-px first:before:hidden [&:nth-child(1_of_:has(div:not([role=group])))]:before:hidden",t),...n});return r==="sheet"?g.jsx(Rg,{name:"DropdownGroup",fallback:g.jsx(g.Fragment,{}),children:i}):i};function MCe(e){const{children:t,value:n,defaultValue:r,defaultChecked:i,...s}=e,o=s,{onRadioGroupChange:a}=p.use(rE);return g.jsxs("label",{...o,children:[t,g.jsx("input",{type:"radio",className:"sr-only",value:n,defaultValue:r,defaultChecked:i,onChange:l=>{a?.(l.target.value)}})]})}const RCe=e=>{"use forget";const t=Te.c(7),{mode:n}=p.use(Yr),r=n==="sheet"?MCe:_Ce,i=n==="sheet"?"large":e.size;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=g.jsx(vV,{}),t[0]=s):s=t[0];let o;t[1]!==e?(o=Nc(e),t[1]=e,t[2]=o):o=t[2];let a;return t[3]!==r||t[4]!==i||t[5]!==o?(a=g.jsx(Ko,{as:r,hasManagedFocus:!0,size:i,trailingColor:"primary",trailing:s,...o}),t[3]=r,t[4]=i,t[5]=o,t[6]=a):a=t[6],a};function vV(){return g.jsxs(g.Fragment,{children:[g.jsx(yCe,{children:g.jsx($9,{className:"icon-sm"})}),g.jsx("div",{className:"icon-sm group-radix-state-checked:hidden"})]})}const NCe=Fe.forwardRef(function(t,n){const{className:r,...i}=t;return g.jsx(fV,{ref:n,$as:wCe,className:xe("mt-2 max-h-[calc(100vh-300px)] min-w-[100px] overflow-auto",r),sideOffset:2,alignOffset:t.align==="end"?-6:-14,collisionPadding:hV,...i})}),PCe=e=>g.jsx(Ko,{subMenu:!0,as:SCe,hasManagedFocus:!0,...Nc(e)});function IBe({triggerButton:e,children:t,size:n="default",open:r,onOpenChange:i,onCloseAutoFocus:s,contentAlign:o,side:a,sideOffset:l=0,alignOffset:c=0,contentClassName:u,testId:d,tooltip:f,contentRef:h,modal:m=!1}){const[v,_]=p.useState(r??!1),y=r!==void 0,b=Ioe(),C=E=>{y||_(E),i?.(E)},{triggerRef:S}=ibe({isOpen:!!v||!!r,onClose:()=>C(!1)}),x=g.jsx(nE,{asChild:!0,ref:S,"data-testid":d?`${d}-button`:void 0,children:e}),w=f?g.jsx(bi,{label:f,disabled:!b,triggerAs:null,children:x}):x;return g.jsxs(uV,{modal:m,open:r??v,onOpenChange:C,children:[w,g.jsx(mV,{children:g.jsx(pV,{ref:h,size:n,align:o,alignOffset:c,side:a,sideOffset:l,className:u,onCloseAutoFocus:s,onClick:E=>{E.stopPropagation()},children:t})})]})}function DCe(e){return g.jsx(Mle,{as:gCe,...e})}function LCe(e){"use forget";const t=Te.c(15),{children:n,className:r}=e,{open$:i,activeDetent$:s,detents:o,fullyExpanded$:a}=p.use(Yr),l=Or(i),c=Or(s);let u;t[0]!==s||t[1]!==o||t[2]!==a||t[3]!==e?(u=h=>{if(s.set(h),e.onActiveDetentChange?.(h),o&&o.length>0){const m=h===o?.length+1;a.set(m)}},t[0]=s,t[1]=o,t[2]=a,t[3]=e,t[4]=u):u=t[4];let d;t[5]!==i||t[6]!==e?(d=h=>{i.set(h),e.onOpenChange?.(h)},t[5]=i,t[6]=e,t[7]=d):d=t[7];let f;return t[8]!==c||t[9]!==n||t[10]!==r||t[11]!==l||t[12]!==u||t[13]!==d?(f=g.jsx(qs.Root,{activeDetent:c,className:r,onActiveDetentChange:u,onPresentedChange:d,presented:l,children:n}),t[8]=c,t[9]=n,t[10]=r,t[11]=l,t[12]=u,t[13]=d,t[14]=f):f=t[14],f}function FCe(e){"use forget";const t=Te.c(14);let n,r,i,s,o,a;t[0]!==e?({className:n,detents:r,mode:i,open:s,open$:o,...a}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=a):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],a=t[6]);let l;return t[7]!==n||t[8]!==r||t[9]!==i||t[10]!==s||t[11]!==o||t[12]!==a?(l=g.jsx(_de,{children:i==="sheet"&&o?g.jsx(Yr,{value:{mode:i??"dropdown",open$:o,detents:r,activeDetent$:Tt(void 0),fullyExpanded$:Tt(!1)},children:g.jsx(LCe,{className:n,...a})}):g.jsx(uV,{...a,open:s})}),t[7]=n,t[8]=r,t[9]=i,t[10]=s,t[11]=o,t[12]=a,t[13]=l):l=t[13],l}function jCe(e){const{children:t,container:n,...r}=e,{mode:i}=p.use(Yr),s=i==="sheet"?qs.Portal:mV;return g.jsx(s,{...r,container:n,children:t})}function BCe(e){"use forget";const t=Te.c(16);let n,r,i,s;t[0]!==e?({children:n,defaultValue:i,defaultChecked:r,...s}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s):(n=t[1],r=t[2],i=t[3],s=t[4]);const o=s,{onRadioGroupChange:a}=p.use(rE);let l;t[5]!==a||t[6]!==s?(l=d=>{d.preventDefault(),d.stopPropagation(),s.onCheckedChange?.(d.target.checked),a?.(d.target.value)},t[5]=a,t[6]=s,t[7]=l):l=t[7];let c;t[8]!==r||t[9]!==i||t[10]!==l?(c=g.jsx("input",{type:"checkbox",className:"sr-only",defaultValue:i,defaultChecked:r,onChange:l}),t[8]=r,t[9]=i,t[10]=l,t[11]=c):c=t[11];let u;return t[12]!==n||t[13]!==o||t[14]!==c?(u=g.jsxs("label",{...o,children:[n,c]}),t[12]=n,t[13]=o,t[14]=c,t[15]=u):u=t[15],u}const UCe=e=>{const{mode:t}=p.use(Yr);return g.jsx(Ko,{as:t==="sheet"?BCe:dV,hasManagedFocus:!0,onSelect:n=>{n.preventDefault()},onClick:n=>{n.stopPropagation()},trailingColor:"primary",trailing:g.jsx(iU,{size:"small",disabled:e.disabled,checked:e.checked===!0,"aria-hidden":!0}),...Nc(e)})};function qCe({checked:e,onCheckedChange:t,children:n,onClick:r,className:i,...s}){const o=a=>{a.preventDefault()};return g.jsx(dV,{checked:e,onCheckedChange:t,onSelect:o,onClick:r,className:xe(i,"mx-2 flex cursor-pointer items-center rounded-md p-3 text-sm","hover:bg-token-main-surface-secondary keyboard-focused:bg-token-main-surface-secondary","radix-disabled:pointer-events-none radix-disabled:opacity-50 focus:outline-none","radix-state-open:bg-token-main-surface-secondary"),...s,children:g.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[n,e?g.jsx(X2e,{className:"icon-sm text-token-text-primary"}):g.jsx(ebe,{className:"icon-sm text-token-text-tertiary"})]})})}function zCe(e){return g.jsx(U0,{asChild:!0,...Nc({}),children:g.jsx(Ale,{...e})})}const GCe=e=>g.jsx(U0,{asChild:!0,onSelect:t=>{t.preventDefault()},...Nc({}),children:g.jsx(Nle,{...e})});function HCe(e){const{open$:t}=p.use(Yr);return g.jsx(rE,{value:{onRadioGroupChange:n=>{e.onValueChange?.(n),t.set(!1)}},children:g.jsx("section",{...e})})}function VCe(e){"use forget";const t=Te.c(3),{mode:n}=p.use(Yr),r=n==="sheet"?HCe:vCe;let i;return t[0]!==r||t[1]!==e?(i=g.jsx(r,{...e}),t[0]=r,t[1]=e,t[2]=i):i=t[2],i}function $Ce(e){return g.jsx(Vw,{as:"button",...e})}function WCe(e){return g.jsx(Vw,{...e,as:"button",row:!0})}const Bt={Root:FCe,Trigger:xCe,BasicTrigger:kCe,Portal:jCe,Content:pV,Item:TCe,ItemAs:OCe,HeaderItem:$Ce,HeaderItemRow:WCe,HeaderItemAs:Vw,Separator:ACe,Group:ICe,RadioGroup:VCe,RadioItem:RCe,RadioItemCheck:vV,Sub:CCe,SubContent:NCe,SubMenuTrigger:PCe,Label:DCe,CheckboxItem:UCe,MultiSelectCheckboxItem:qCe,LinkItem:zCe,InputItem:GCe,Shimmer:Rle},KCe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M15.498 8.50159C16.3254 8.50159 16.9959 9.17228 16.9961 9.99963C16.9961 10.8271 16.3256 11.4987 15.498 11.4987C14.6705 11.4987 14 10.8271 14 9.99963C14.0002 9.17228 14.6706 8.50159 15.498 8.50159Z"}),p.createElement("path",{d:"M4.49805 8.50159C5.32544 8.50159 5.99689 9.17228 5.99707 9.99963C5.99707 10.8271 5.32555 11.4987 4.49805 11.4987C3.67069 11.4985 3 10.827 3 9.99963C3.00018 9.17239 3.6708 8.50176 4.49805 8.50159Z"}),p.createElement("path",{d:"M10.0003 8.50159C10.8276 8.50176 11.4982 9.17239 11.4984 9.99963C11.4984 10.827 10.8277 11.4985 10.0003 11.4987C9.17283 11.4987 8.50131 10.8271 8.50131 9.99963C8.50149 9.17228 9.17294 8.50159 10.0003 8.50159Z"})),YCe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M15.2146 18.1227L15.2439 18.2546C15.2809 18.5616 15.0985 18.8629 14.7937 18.9645C14.4889 19.0661 14.1622 18.9345 14.0076 18.6667L13.9529 18.5436L13.1189 16.0436L13.7498 15.8337L14.3806 15.6227L15.2146 18.1227ZM4.5027 8.72526C4.7467 8.45076 5.16765 8.4256 5.44215 8.6696C5.71651 8.91359 5.74073 9.33361 5.49684 9.60807L4.70875 10.4958C3.51378 11.8401 3.57361 13.8831 4.84547 15.1549L4.96656 15.2702C6.24396 16.4291 8.20223 16.4494 9.50465 15.2917L10.3914 14.5026L10.5007 14.4245C10.7685 14.2694 11.1173 14.318 11.3308 14.5583C11.5746 14.8327 11.5495 15.2528 11.2752 15.4967L10.3875 16.2858C8.57532 17.8963 5.85141 17.8686 4.07399 16.2565L3.90504 16.0954C2.13524 14.3256 2.05179 11.4827 3.71461 9.61198L4.5027 8.72526ZM13.5398 15.2028C13.8881 15.0867 14.2643 15.2745 14.3806 15.6227L13.1189 16.0436C13.0028 15.6953 13.1915 15.319 13.5398 15.2028ZM15.2029 13.5397C15.3191 13.1914 15.6953 13.0028 16.0437 13.1188L18.5437 13.9528L18.6668 14.0075C18.9346 14.1621 19.0662 14.4888 18.9646 14.7936C18.863 15.0985 18.5617 15.2808 18.2547 15.2438L18.1228 15.2145L15.6228 14.3805C15.2746 14.2642 15.0868 13.888 15.2029 13.5397ZM9.79078 3.56315C11.6599 2.0583 14.3811 2.19057 16.0955 3.90495L16.2566 4.07389C17.8168 5.79411 17.893 8.40087 16.4363 10.2096L16.2859 10.3874L15.4968 11.2751L15.3982 11.3659C15.1506 11.5514 14.7987 11.5441 14.5584 11.3307C14.2839 11.0867 14.2587 10.6658 14.5027 10.3913L15.2918 9.50456L15.4002 9.37663C16.4472 8.07662 16.3919 6.20274 15.2703 4.96647L15.155 4.84538C13.9229 3.6132 11.967 3.51839 10.6238 4.60026L10.4959 4.70866L9.60816 5.49674C9.3337 5.74063 8.91368 5.71642 8.66969 5.44206C8.42569 5.16756 8.45085 4.7466 8.72535 4.5026L9.61207 3.71452L9.79078 3.56315ZM1.74586 4.75651L1.87672 4.78581L4.37672 5.61881L4.49977 5.67448C4.76767 5.82912 4.89925 6.15572 4.79762 6.46061C4.69588 6.76536 4.39471 6.94789 4.08766 6.91081L3.9568 6.88053L1.4568 6.04753L1.33375 5.99186C1.06603 5.83724 0.93447 5.51146 1.0359 5.20671C1.13755 4.90175 1.43868 4.71938 1.74586 4.75651ZM5.2068 1.03581C5.51155 0.934377 5.83733 1.06594 5.99195 1.33366L6.04762 1.45671L6.88063 3.95671L6.9109 4.08756C6.94798 4.39462 6.76546 4.69579 6.4607 4.79753C6.15582 4.89916 5.82921 4.76758 5.67457 4.49967L5.61891 4.37663L4.7859 1.87663L4.7566 1.74577C4.71947 1.43859 4.90184 1.13746 5.2068 1.03581Z"})),ZCe=["https:","mailto:","tel:"],JCe=e=>{if(e===void 0)return;let t;try{t=new URL(e,window.location.origin)}catch{return}if(ZCe.includes(t.protocol))return t.href},QCe=p.forwardRef(({href:e,target:t="_blank",children:n,...r},i)=>g.jsx("a",{ref:i,href:JCe(e),target:t,rel:"noopener",alt:e,...r,children:n}));QCe.displayName="ExternalLink";function iM(e){"use forget";const t=Te.c(14);let n,r,i,s,o;t[0]!==e?({className:r,openNewTab:s,children:n,underline:o,...i}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o):(n=t[1],r=t[2],i=t[3],s=t[4],o=t[5]);const a=s===void 0?!1:s,c=(o===void 0?!0:o)&&"underline";let u;t[6]!==r||t[7]!==c?(u=xe("cursor-pointer font-normal",c,r),t[6]=r,t[7]=c,t[8]=u):u=t[8];const d=a?"_blank":"_self";let f;return t[9]!==n||t[10]!==i||t[11]!==u||t[12]!==d?(f=g.jsx("a",{rel:"noopener",className:u,target:d,...i,children:n}),t[9]=n,t[10]=i,t[11]=u,t[12]=d,t[13]=f):f=t[13],f}function MBe(e,t,n){const r=Math.floor((e.getTime()-t.getTime())/1e3);if(r<60)return n.formatMessage({id:"hr1xff",defaultMessage:"{diffInSecs}s"},{diffInSecs:r});if(r<60*10){const s=Math.floor(r/60),o=r%60;return n.formatMessage({id:"7KZ91/",defaultMessage:"{mins}m {secs}s"},{mins:s,secs:o})}if(r<60*60){const s=Math.floor(r/60);return n.formatMessage({id:"IkyEWY",defaultMessage:"{mins}m"},{mins:s})}const i=Math.floor(r/(60*60));if(r<60*60*10){const s=Math.floor(r%3600/60);return n.formatMessage({id:"z9qVYm",defaultMessage:"{hours}h {mins}m"},{hours:i,mins:s})}return n.formatMessage({id:"vAHzUw",defaultMessage:"{hours}h"},{hours:i})}const XCe=({givenDate:e,now:t,intl:n,format:r="abbreviated"})=>{const i=Math.floor((t.getTime()-e.getTime())/1e3);if(i<60)return r==="abbreviated"?n.formatMessage({id:"hepLPr",defaultMessage:"{seconds}s ago"},{seconds:i}):n.formatMessage({id:"cLJFUT",defaultMessage:"{seconds} seconds ago"},{seconds:i});if(i<3600){const s=Math.floor(i/60);return r==="abbreviated"?n.formatMessage({id:"ZyHv9I",defaultMessage:"{minutes}m ago"},{minutes:s}):n.formatMessage({id:"RfRx5t",defaultMessage:"{minutes} minutes ago"},{minutes:s})}else if(i<86400){const s=Math.floor(i/3600);return r==="abbreviated"?n.formatMessage({id:"2p4Gd3",defaultMessage:"{hours}h ago"},{hours:s}):n.formatMessage({id:"0d1QfF",defaultMessage:"{hours} hours ago"},{hours:s})}else{const s=Math.floor(i/86400);return r==="abbreviated"?n.formatMessage({id:"KPjpqR",defaultMessage:"{days}d ago"},{days:s}):n.formatMessage({id:"n68thd",defaultMessage:"{days} days ago"},{days:s})}},e3e=30;function RBe(e,t){if(t==null)return null;const n=new Date(t*1e3),r=e.locale,i=Math.max(Math.floor((Date.now()-n.getTime())/(1e3*60*60*24)),0);if(i>e3e)return e.formatDate(n,{dateStyle:"medium"});const s=e.formatRelativeTime(-i,"day",{numeric:"auto"});return r.startsWith("en")?s.charAt(0).toUpperCase()+s.slice(1):s}function q0({percentage:e,thickness:t=1/12,className:n,outerCircleClassName:r,sizeOverride:i,transitionDuration:s,transitionTimingFunction:o,onTransitionEnd:a}){const l=i??120,c=l*t,d=(l-c)/2-c-2;return g.jsxs("svg",{width:l,height:l,viewBox:`0 0 ${l} ${l}`,className:n,children:[g.jsxs("g",{style:{transformOrigin:"50% 50%",animation:"spin 1s linear infinite"},className:r,children:[g.jsx("path",{fill:"url(#b)",fillOpacity:".7",fillRule:"evenodd",d:`
        M${l} ${l/2}
        A${l/2} ${l/2} 0 1 0 0 ${l/2}
        A${l/2} ${l/2} 0 0 0 ${l} ${l/2}
        Z
        M${l*.1042} ${l/2}
        A${l*.3956} ${l*.3956} 0 1 0 ${l-l*.1042} ${l/2}
        A${l*.3956} ${l*.3956} 0 0 0 ${l*.1042} ${l/2}
        Z
      `,clipRule:"evenodd"}),g.jsx("defs",{children:g.jsxs("radialGradient",{id:"b",cx:"0",cy:"0",r:"1",gradientTransform:`matrix(${l/2-l*.0625} 0 0 ${l/2-l*.0625} ${l*.0625} ${l/2})`,gradientUnits:"userSpaceOnUse",children:[g.jsx("stop",{stopColor:"#0285FF"}),g.jsx("stop",{offset:"1",stopColor:"#0285FF",stopOpacity:".3"})]})})]}),g.jsx("path",{className:"origin-[50%_50%] transition-[stroke-dashoffset]",d:e===100?`M ${l/2} ${l/2}
         m 0 -${d}
         a ${d} ${d} 0 1 1 0 ${2*d}
         a ${d} ${d} 0 1 1 0 -${2*d}
         Z`:`M ${l/2} ${l/2}
         L ${l/2} ${l/2-d}
         A ${d} ${d} 0 ${e>50?1:0} 1
         ${l/2+d*Math.sin(2*Math.PI*e/100)}
         ${l/2-d*Math.cos(2*Math.PI*e/100)}
         Z`,fill:"currentColor",style:{transitionDuration:s,transitionTimingFunction:o},onTransitionEnd:a})]})}function iE(){const e=me();return fn(e).isElectron}function t3e({children:e}){return g.jsx(bi,{label:g.jsx(Ce,{id:"8yqd2N",defaultMessage:"Temporarily unavailable"}),children:e})}const n3e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M11.2475 18.25C10.6975 18.25 10.175 18.1455 9.67999 17.9365C9.18499 17.7275 8.74499 17.436 8.35999 17.062C7.94199 17.205 7.50749 17.2765 7.05649 17.2765C6.31949 17.2765 5.63749 17.095 5.01049 16.732C4.38349 16.369 3.87749 15.874 3.49249 15.247C3.11849 14.62 2.93149 13.9215 2.93149 13.1515C2.93149 12.8325 2.97549 12.486 3.06349 12.112C2.62349 11.705 2.28249 11.2375 2.04049 10.7095C1.79849 10.1705 1.67749 9.6095 1.67749 9.0265C1.67749 8.4325 1.80399 7.8605 2.05699 7.3105C2.30999 6.7605 2.66199 6.2875 3.11299 5.8915C3.57499 5.4845 4.10849 5.204 4.71349 5.05C4.83449 4.423 5.08749 3.862 5.47249 3.367C5.86849 2.861 6.35249 2.465 6.92449 2.179C7.49649 1.893 8.10699 1.75 8.75599 1.75C9.30599 1.75 9.82849 1.8545 10.3235 2.0635C10.8185 2.2725 11.2585 2.564 11.6435 2.938C12.0615 2.795 12.496 2.7235 12.947 2.7235C13.684 2.7235 14.366 2.905 14.993 3.268C15.62 3.631 16.1205 4.126 16.4945 4.753C16.8795 5.38 17.072 6.0785 17.072 6.8485C17.072 7.1675 17.028 7.514 16.94 7.888C17.38 8.295 17.721 8.768 17.963 9.307C18.205 9.835 18.326 10.3905 18.326 10.9735C18.326 11.5675 18.1995 12.1395 17.9465 12.6895C17.6935 13.2395 17.336 13.718 16.874 14.125C16.423 14.521 15.895 14.796 15.29 14.95C15.169 15.577 14.9105 16.138 14.5145 16.633C14.1295 17.139 13.651 17.535 13.079 17.821C12.507 18.107 11.8965 18.25 11.2475 18.25ZM7.17199 16.1875C7.72199 16.1875 8.20049 16.072 8.60749 15.841L11.7095 14.059C11.8195 13.982 11.8745 13.8775 11.8745 13.7455V12.3265L7.88149 14.62C7.63949 14.763 7.39749 14.763 7.15549 14.62L4.03699 12.8215C4.03699 12.8545 4.03149 12.893 4.02049 12.937C4.02049 12.981 4.02049 13.047 4.02049 13.135C4.02049 13.696 4.15249 14.213 4.41649 14.686C4.69149 15.148 5.07099 15.511 5.55499 15.775C6.03899 16.05 6.57799 16.1875 7.17199 16.1875ZM7.33699 13.498C7.40299 13.531 7.46349 13.5475 7.51849 13.5475C7.57349 13.5475 7.62849 13.531 7.68349 13.498L8.92099 12.7885L4.94449 10.4785C4.70249 10.3355 4.58149 10.121 4.58149 9.835V6.2545C4.03149 6.4965 3.59149 6.8705 3.26149 7.3765C2.93149 7.8715 2.76649 8.4215 2.76649 9.0265C2.76649 9.5655 2.90399 10.0825 3.17899 10.5775C3.45399 11.0725 3.81149 11.4465 4.25149 11.6995L7.33699 13.498ZM11.2475 17.161C11.8305 17.161 12.3585 17.029 12.8315 16.765C13.3045 16.501 13.6785 16.138 13.9535 15.676C14.2285 15.214 14.366 14.697 14.366 14.125V10.561C14.366 10.429 14.311 10.33 14.201 10.264L12.947 9.538V14.1415C12.947 14.4275 12.826 14.642 12.584 14.785L9.46549 16.5835C10.0045 16.9685 10.5985 17.161 11.2475 17.161ZM11.8745 11.122V8.878L10.01 7.822L8.12899 8.878V11.122L10.01 12.178L11.8745 11.122ZM7.05649 5.8585C7.05649 5.5725 7.17749 5.358 7.41949 5.215L10.538 3.4165C9.99899 3.0315 9.40499 2.839 8.75599 2.839C8.17299 2.839 7.64499 2.971 7.17199 3.235C6.69899 3.499 6.32499 3.862 6.04999 4.324C5.78599 4.786 5.65399 5.303 5.65399 5.875V9.4225C5.65399 9.5545 5.70899 9.659 5.81899 9.736L7.05649 10.462V5.8585ZM15.4385 13.7455C15.9885 13.5035 16.423 13.1295 16.742 12.6235C17.072 12.1175 17.237 11.5675 17.237 10.9735C17.237 10.4345 17.0995 9.9175 16.8245 9.4225C16.5495 8.9275 16.192 8.5535 15.752 8.3005L12.6665 6.5185C12.6005 6.4745 12.54 6.458 12.485 6.469C12.43 6.469 12.375 6.4855 12.32 6.5185L11.0825 7.2115L15.0755 9.538C15.1965 9.604 15.2845 9.692 15.3395 9.802C15.4055 9.901 15.4385 10.022 15.4385 10.165V13.7455ZM12.122 5.3635C12.364 5.2095 12.606 5.2095 12.848 5.3635L15.983 7.195C15.983 7.118 15.983 7.019 15.983 6.898C15.983 6.37 15.851 5.8695 15.587 5.3965C15.334 4.9125 14.9655 4.5275 14.4815 4.2415C14.0085 3.9555 13.4585 3.8125 12.8315 3.8125C12.2815 3.8125 11.803 3.928 11.396 4.159L8.29399 5.941C8.18399 6.018 8.12899 6.1225 8.12899 6.2545V7.6735L12.122 5.3635Z"})),r3e=()=>{const[e,t]=p.useState(!1),n=Cr();return!n?.data.profilePictureUrl||e?g.jsx("span",{className:"bg-tertiary rounded-xl border-[0.5px] p-2 shadow-sm",children:g.jsx(n3e,{className:"h-8 w-8"})}):g.jsx("span",{className:"h-12 w-12 overflow-hidden rounded-xl border-[0.5px] bg-black shadow-sm",children:g.jsx("img",{src:n.data.profilePictureUrl,alt:n.data.name??"",onError:()=>t(!0)})})},i3e=({title:e,connectorIcon:t,connectorDeveloper:n,onClose:r})=>g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"flex justify-end pb-6",children:g.jsx(Lh,{onClick:r})}),g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsxs("div",{className:"flex items-center gap-2.5",children:[g.jsx(r3e,{}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"}),g.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-200"})]}),t]}),g.jsx("div",{className:"pt-4 text-center text-2xl font-semibold",children:e}),n&&g.jsx("div",{className:"text-token-text-tertiary pt-1 text-sm",children:g.jsx(Ce,{...s3e.developedBy,values:{developer:n}})})]})]}),s3e=Ot({developedBy:{id:"yPpO4G",defaultMessage:"Developed by {developer}"}}),o3e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.99512 12.3145C10.4837 12.3145 10.8701 12.6847 10.8701 13.1572C10.87 13.6296 10.4836 14 9.99512 14C9.50661 14 9.12021 13.6296 9.12012 13.1572C9.12012 12.6848 9.50655 12.3145 9.99512 12.3145Z"}),p.createElement("path",{d:"M10.001 6C10.4785 6.00018 10.7792 6.29538 10.7793 6.78906C10.7793 6.83198 10.7788 6.89653 10.7734 6.9502L10.6934 10.666C10.6772 11.1222 10.4407 11.3906 9.99512 11.3906C9.54959 11.3906 9.31355 11.1222 9.30273 10.666L9.2168 6.9502C9.21679 6.89653 9.21094 6.83198 9.21094 6.78906C9.21102 6.29522 9.51782 6 10.001 6Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),a3e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M21.0461 12.2099C21.0461 11.5553 20.9874 10.9259 20.8783 10.3217H12.1846V13.8966H17.1524C16.9342 15.0462 16.2797 16.0197 15.2979 16.6742V18.9987H18.2937C20.0391 17.3875 21.0461 15.0211 21.0461 12.2099Z",fill:"#4285F4"}),p.createElement("path",{d:"M12.1844 21.2307C14.6767 21.2307 16.7662 20.4084 18.2935 18.9986L15.2977 16.6741C14.4753 17.2279 13.4264 17.5636 12.1844 17.5636C9.78441 17.5636 7.74525 15.944 7.01518 13.7622H3.94385V16.1454C5.46273 19.158 8.57602 21.2307 12.1844 21.2307Z",fill:"#34A853"}),p.createElement("path",{d:"M7.01516 13.7539C6.83054 13.2 6.72145 12.6126 6.72145 12C6.72145 11.3874 6.83054 10.8 7.01516 10.2462V7.86295H3.94382C3.31445 9.10491 2.95361 10.5063 2.95361 12C2.95361 13.4937 3.31445 14.8951 3.94382 16.1371L6.33544 14.2741L7.01516 13.7539Z",fill:"#FBBC05"}),p.createElement("path",{d:"M12.1844 6.44475C13.5439 6.44475 14.7522 6.91469 15.7173 7.82098L18.3606 5.17762C16.7578 3.68391 14.6767 2.76923 12.1844 2.76923C8.57602 2.76923 5.46273 4.84196 3.94385 7.86294L7.01518 10.2462C7.74525 8.06434 9.78441 6.44475 12.1844 6.44475Z",fill:"#EA4335"})),l3e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10 9.25C10.4142 9.25002 10.75 9.5858 10.75 10V13.333C10.75 13.7472 10.4142 14.083 10 14.083C9.58579 14.083 9.25 13.7472 9.25 13.333V10C9.25 9.58579 9.58579 9.25 10 9.25Z"}),p.createElement("path",{d:"M10 5.83301C10.5293 5.83303 10.958 6.26273 10.958 6.79199C10.9578 7.3211 10.5291 7.74998 10 7.75C9.47084 7.75 9.04217 7.32111 9.04199 6.79199C9.04199 6.26272 9.47073 5.83301 10 5.83301Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 2.08496C14.3713 2.08496 17.915 5.62867 17.915 10C17.915 14.3713 14.3713 17.915 10 17.915C5.62867 17.915 2.08496 14.3713 2.08496 10C2.08496 5.62867 5.62867 2.08496 10 2.08496ZM10 3.41504C6.3632 3.41504 3.41504 6.3632 3.41504 10C3.41504 13.6368 6.3632 16.585 10 16.585C13.6368 16.585 16.585 13.6368 16.585 10C16.585 6.3632 13.6368 3.41504 10 3.41504Z"})),sE=({footerContent:e,primaryButton:t,secondaryButton:n})=>!e&&!t&&!n?null:g.jsxs("div",{className:"border-token-border-default flex items-center justify-between border-t p-6",children:[g.jsxs("div",{children:[e," "]}),g.jsxs("div",{className:"flex gap-2",children:[n,t]})]}),c3e=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},p.createElement("path",{d:"M6.80073 3.27765C7.05872 3.10739 7.40946 3.13571 7.63667 3.36261C7.89637 3.62231 7.89637 4.04432 7.63667 4.30402L4.60542 7.33527H13L13.1337 7.34894C13.4368 7.4109 13.665 7.6789 13.665 8.00031C13.6648 8.32162 13.4368 8.58979 13.1337 8.65168L13 8.66535H4.6064L7.63667 11.6966L7.72163 11.8011C7.89202 12.0592 7.86389 12.4098 7.63667 12.637C7.40942 12.8641 7.05879 12.8924 6.80073 12.722L6.69624 12.637L2.52925 8.47003C2.26993 8.21036 2.26982 7.78921 2.52925 7.5296L6.69624 3.36261L6.80073 3.27765Z"})),u3e=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","data-rtl-flip":"",...e},p.createElement("path",{d:"M8.36328 3.36261C8.59049 3.13571 8.94123 3.10739 9.19922 3.27765L9.30371 3.36261L13.4707 7.5296L13.5557 7.6341C13.7259 7.89208 13.6976 8.24282 13.4707 8.47003L9.30371 12.637C9.04407 12.8967 8.62299 12.8966 8.36328 12.637C8.10358 12.3773 8.10358 11.9563 8.36328 11.6966L11.3936 8.66535H3C2.63284 8.66535 2.33514 8.36743 2.33496 8.00031C2.33496 7.63304 2.63273 7.33527 3 7.33527H11.3945L8.36328 4.30402L8.27832 4.19953C8.10759 3.94137 8.13592 3.58997 8.36328 3.36261Z"})),_V=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("g",{clipPath:"url(#clip0_5645_180)"},p.createElement("path",{d:"M12.2328 13.3571C15.3153 13.3571 17.8142 10.9267 17.8142 7.92857C17.8142 4.93045 15.3153 2.5 12.2328 2.5C9.15024 2.5 6.65137 4.93045 6.65137 7.92857C6.65137 10.9267 9.15024 13.3571 12.2328 13.3571Z",fill:"#036C70"}),p.createElement("path",{d:"M16.8834 17.8815C19.709 17.8815 21.9997 15.6536 21.9997 12.9053C21.9997 10.157 19.709 7.92911 16.8834 7.92911C14.0577 7.92911 11.7671 10.157 11.7671 12.9053C11.7671 15.6536 14.0577 17.8815 16.8834 17.8815Z",fill:"#1A9BA1"}),p.createElement("path",{d:"M12.93 21.4996C15.1135 21.4996 16.8835 19.778 16.8835 17.6543C16.8835 15.5307 15.1135 13.8091 12.93 13.8091C10.7466 13.8091 8.97656 15.5307 8.97656 17.6543C8.97656 19.778 10.7466 21.4996 12.93 21.4996Z",fill:"#37C6D0"}),p.createElement("path",{opacity:.1,d:"M13.1628 7.39878V17.0526C13.1605 17.388 12.9515 17.6894 12.6326 17.8171C12.5311 17.8589 12.4219 17.8804 12.3117 17.8804H8.98144C8.9768 17.8035 8.9768 17.7312 8.9768 17.6543C8.97525 17.5787 8.97835 17.5032 8.9861 17.4281C9.07123 15.982 9.98715 14.7061 11.3535 14.1302V13.2888C8.31257 12.8201 6.23802 10.0424 6.71991 7.0847C6.72326 7.06422 6.72671 7.04375 6.73029 7.0233C6.75344 6.87073 6.78607 6.71966 6.82797 6.57092H12.3117C12.781 6.57266 13.1611 6.94229 13.1628 7.39878Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.8467 7.02365H6.73038C6.21354 9.97603 8.25531 12.7769 11.2908 13.2796C11.3827 13.2948 11.475 13.3078 11.5676 13.3185C10.1257 13.9835 9.07503 15.8722 8.98573 17.4284C8.97799 17.5036 8.97488 17.5791 8.97642 17.6546C8.97642 17.7315 8.97642 17.8039 8.98107 17.8808C8.98946 18.0329 9.00968 18.1841 9.04153 18.3332H11.8462C12.1911 18.3309 12.5009 18.1276 12.6322 17.8175C12.6752 17.7187 12.6973 17.6125 12.6973 17.5053V7.85151C12.6956 7.3952 12.3158 7.02564 11.8467 7.02365Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.8466 7.02365H6.73034C6.21361 9.97631 8.25569 12.7773 11.2915 13.2799C11.3536 13.2902 11.4158 13.2995 11.4783 13.3077C10.0829 14.0206 9.07361 15.9048 8.98616 17.4284H11.8466C12.3152 17.425 12.6942 17.0563 12.6978 16.6006V7.85151C12.696 7.39502 12.316 7.02539 11.8466 7.02365Z",fill:"currentColor"}),p.createElement("path",{opacity:.2,d:"M11.3814 7.02365H6.73019C6.24226 9.81099 8.03799 12.4952 10.8558 13.1905C9.78883 14.3762 9.13442 15.8594 8.98601 17.4284H11.3814C11.8507 17.4267 12.2307 17.057 12.2325 16.6006V7.85151C12.2323 7.3944 11.8513 7.0239 11.3814 7.02365Z",fill:"currentColor"}),p.createElement("path",{d:"M2.85256 7.02365H11.38C11.8509 7.02365 12.2326 7.3949 12.2326 7.85287V16.1468C12.2326 16.6048 11.8509 16.976 11.38 16.976H2.85256C2.3817 16.976 2 16.6048 2 16.1468V7.85287C2 7.3949 2.3817 7.02365 2.85256 7.02365Z",fill:"url(#paint0_linear_5645_180)"}),p.createElement("path",{d:"M5.80776 11.8985C5.60797 11.7696 5.44108 11.598 5.31985 11.3968C5.20239 11.1865 5.14385 10.9499 5.15008 10.7106C5.13962 10.3866 5.25202 10.0702 5.46589 9.82165C5.69064 9.57277 5.98113 9.38847 6.30589 9.28874C6.67602 9.17025 7.0637 9.11186 7.45333 9.11593C7.96573 9.09772 8.47741 9.1674 8.96496 9.32177V10.3622C8.75312 10.2374 8.52238 10.1458 8.28124 10.0908C8.01958 10.0284 7.7511 9.99712 7.4817 9.99762C7.19761 9.98748 6.91534 10.0456 6.65984 10.1668C6.46259 10.2496 6.33467 10.4383 6.33426 10.6472C6.33346 10.774 6.38352 10.896 6.4738 10.9874C6.58043 11.0952 6.70656 11.1829 6.84589 11.2462C7.00093 11.3213 7.23349 11.4211 7.54357 11.5457C7.57771 11.5562 7.61099 11.5692 7.6431 11.5846C7.94828 11.7006 8.24269 11.8418 8.5231 12.0067C8.73546 12.134 8.91368 12.3086 9.04311 12.516C9.1758 12.7512 9.24011 13.0171 9.22915 13.2851C9.2443 13.6177 9.13968 13.945 8.93334 14.2107C8.72767 14.4549 8.45269 14.6349 8.14264 14.7282C7.77795 14.8394 7.39733 14.8931 7.01519 14.8874C6.67234 14.8889 6.32999 14.8617 5.99194 14.806C5.70651 14.7606 5.42796 14.6809 5.16264 14.5689V13.4719C5.41625 13.6481 5.69959 13.7798 5.99985 13.861C6.2991 13.9517 6.61017 14.0001 6.92357 14.0048C7.21363 14.0227 7.50318 13.9629 7.76078 13.832C7.94123 13.733 8.05098 13.5454 8.04637 13.3439C8.04757 13.2037 7.99055 13.069 7.88823 12.9702C7.76098 12.8487 7.61366 12.7489 7.45242 12.6748C7.26638 12.5843 6.99242 12.4651 6.63056 12.317C6.34269 12.2044 6.06706 12.0643 5.80776 11.8985Z",fill:"white"})),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_5645_180",x1:3.7776,y1:6.37572,x2:10.1808,y2:17.7779,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#058F92"}),p.createElement("stop",{offset:.5,stopColor:"#038489"}),p.createElement("stop",{offset:1,stopColor:"#026D71"})),p.createElement("clipPath",{id:"clip0_5645_180"},p.createElement("rect",{width:20,height:19,fill:"white",transform:"translate(2 2.5)"})))),d3e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='107'%20height='106'%20fill='none'%3e%3cg%20clip-path='url(%23a)'%3e%3cg%20filter='url(%23b)'%3e%3cpath%20fill='%23fff'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3cpath%20stroke='%23000'%20stroke-linejoin='bevel'%20stroke-opacity='.1'%20d='M81.81%2053c0-15.464-12.535-28-28-28-15.463%200-28%2012.536-28%2028s12.537%2028%2028%2028c15.465%200%2028-12.536%2028-28Z'%20/%3e%3c/g%3e%3cpath%20fill='%23000'%20d='M49.287%2048.12v-3.905c0-.263.075-.45.337-.601l7.246-4.205c.977-.563%202.216-.826%203.417-.826%204.58%200%207.471%203.53%207.471%207.321%200%20.3%200%20.714-.075%201.051l-7.584-4.43c-.375-.225-.788-.263-1.239%200l-9.573%205.594ZM66.03%2061.972V53.3c0-.488-.187-.825-.638-1.088l-9.611-5.594%203.379-1.953a.717.717%200%200%201%20.675%200l7.284%204.205c2.065%201.202%203.492%203.83%203.492%206.345%200%202.966-1.802%205.707-4.58%206.758Zm-18.734-7.471-3.342-1.99c-.262-.15-.338-.338-.338-.6v-8.373c0-4.092%203.117-7.171%207.36-7.171a7.23%207.23%200%200%201%204.504%201.577l-7.546%204.392c-.45.263-.638.601-.638%201.09v11.075Zm6.533%203.754-4.543-2.553v-5.406l4.543-2.553%204.505%202.553v5.406l-4.505%202.553Zm2.815%2011.376a7.23%207.23%200%200%201-4.505-1.577l7.546-4.392c.45-.263.639-.601.639-1.09V51.499l3.379%201.99c.262.15.337.338.337.6v8.373c0%204.093-3.153%207.171-7.396%207.171Zm-8.86-8.297L40.5%2057.13c-2.065-1.202-3.491-3.83-3.491-6.345%200-3.004%201.84-5.707%204.618-6.758v8.71c0%20.488.187.826.638%201.09l9.574%205.556-3.38%201.952a.718.718%200%200%201-.675%200Zm-.45%206.082c-4.318%200-7.472-3.229-7.472-7.246%200-.375.038-.75.075-1.089l7.546%204.355c.451.263.826.263%201.277%200l9.574-5.556v3.904c0%20.263-.075.451-.338.601l-7.246%204.205c-.976.563-2.215.826-3.417.826Zm9.31%204.243c4.506%200%208.26-3.23%209.086-7.51%204.205-1.05%206.908-4.955%206.908-8.935%200-2.628-1.126-5.143-3.191-6.983.188-.788.338-1.614.338-2.403%200-5.294-4.318-9.273-9.274-9.273a9.197%209.197%200%200%200-3.003.525c-1.69-1.69-3.98-2.74-6.533-2.74-4.505%200-8.26%203.228-9.086%207.508-4.205%201.052-6.908%204.956-6.908%208.936%200%202.628%201.127%205.144%203.191%206.983-.187.789-.337%201.615-.337%202.403%200%205.294%204.317%209.274%209.273%209.274a9.2%209.2%200%200%200%203.004-.526c1.69%201.69%203.98%202.74%206.532%202.74Z'%20/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M.81%200h106v106H.81z'%20/%3e%3c/clipPath%3e%3cfilter%20id='b'%20width='105'%20height='105'%20x='1.311'%20y='4.5'%20color-interpolation-filters='sRGB'%20filterUnits='userSpaceOnUse'%20%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'%20/%3e%3cfeColorMatrix%20in='SourceAlpha'%20result='hardAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20/%3e%3cfeOffset%20dy='4'%20/%3e%3cfeGaussianBlur%20stdDeviation='12'%20/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'%20/%3e%3cfeColorMatrix%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.06%200'%20/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1235_2762'%20/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_1235_2762'%20result='shape'%20/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e";function yV({children:e,className:t,style:n,...r}){return g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,...r,style:n,children:e})}const f3e=({className:e})=>g.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:e,xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{d:"M15.75 12V5.99999C15.7497 5.73694 15.6803 5.4786 15.5487 5.25086C15.417 5.02312 15.2278 4.83401 15 4.70249L9.75 1.70249C9.52197 1.57084 9.26331 1.50153 9 1.50153C8.73669 1.50153 8.47803 1.57084 8.25 1.70249L3 4.70249C2.7722 4.83401 2.58299 5.02312 2.45135 5.25086C2.31971 5.4786 2.25027 5.73694 2.25 5.99999V12C2.25027 12.263 2.31971 12.5214 2.45135 12.7491C2.58299 12.9769 2.7722 13.166 3 13.2975L8.25 16.2975C8.47803 16.4291 8.73669 16.4985 9 16.4985C9.26331 16.4985 9.52197 16.4291 9.75 16.2975L15 13.2975C15.2278 13.166 15.417 12.9769 15.5487 12.7491C15.6803 12.5214 15.7497 12.263 15.75 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),h3e="ChatGPT",oE=({className:e})=>g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[g.jsx("text",{x:"-9999",y:"-9999",children:h3e}),g.jsx("path",{d:"M9.20509 8.76511V6.50545C9.20509 6.31513 9.27649 6.17234 9.44293 6.0773L13.9861 3.46088C14.6046 3.10413 15.342 2.93769 16.103 2.93769C18.9573 2.93769 20.7651 5.14983 20.7651 7.50454C20.7651 7.67098 20.7651 7.86129 20.7412 8.05161L16.0316 5.2924C15.7462 5.12596 15.4607 5.12596 15.1753 5.2924L9.20509 8.76511ZM19.8135 17.5659V12.1664C19.8135 11.8333 19.6708 11.5955 19.3854 11.429L13.4152 7.95633L15.3656 6.83833C15.5321 6.74328 15.6749 6.74328 15.8413 6.83833L20.3845 9.45474C21.6928 10.216 22.5728 11.8333 22.5728 13.4031C22.5728 15.2108 21.5025 16.8758 19.8135 17.5657V17.5659ZM7.80173 12.8088L5.8513 11.6671C5.68486 11.5721 5.61346 11.4293 5.61346 11.239V6.00613C5.61346 3.46111 7.56389 1.53433 10.2042 1.53433C11.2033 1.53433 12.1307 1.86743 12.9159 2.46202L8.2301 5.17371C7.94475 5.34015 7.80195 5.57798 7.80195 5.91109V12.809L7.80173 12.8088ZM12 15.2349L9.20509 13.6651V10.3351L12 8.76534L14.7947 10.3351V13.6651L12 15.2349ZM13.7958 22.4659C12.7967 22.4659 11.8693 22.1328 11.0841 21.5382L15.7699 18.8265C16.0553 18.6601 16.198 18.4222 16.198 18.0891V11.1912L18.1723 12.3329C18.3388 12.4279 18.4102 12.5707 18.4102 12.761V17.9939C18.4102 20.5389 16.4359 22.4657 13.7958 22.4657V22.4659ZM8.15848 17.1617L3.61528 14.5452C2.30696 13.784 1.42701 12.1667 1.42701 10.5969C1.42701 8.76534 2.52115 7.12414 4.20987 6.43428V11.8574C4.20987 12.1905 4.35266 12.4284 4.63802 12.5948L10.5846 16.0436L8.63415 17.1617C8.46771 17.2567 8.32492 17.2567 8.15848 17.1617ZM7.897 21.0625C5.20919 21.0625 3.23488 19.0407 3.23488 16.5432C3.23488 16.3529 3.25875 16.1626 3.2824 15.9723L7.96817 18.6839C8.25352 18.8504 8.53911 18.8504 8.82446 18.6839L14.7947 15.2351V17.4948C14.7947 17.6851 14.7233 17.8279 14.5568 17.9229L10.0136 20.5393C9.39518 20.8961 8.6578 21.0625 7.89677 21.0625H7.897ZM13.7958 23.8929C16.6739 23.8929 19.0762 21.8474 19.6235 19.1357C22.2874 18.4459 24 15.9484 24 13.4034C24 11.7383 23.2865 10.121 22.002 8.95542C22.121 8.45588 22.1924 7.95633 22.1924 7.45702C22.1924 4.0557 19.4331 1.51045 16.2458 1.51045C15.6037 1.51045 14.9852 1.60549 14.3668 1.81968C13.2963 0.773071 11.8215 0.107086 10.2042 0.107086C7.32606 0.107086 4.92383 2.15256 4.37653 4.86425C1.7126 5.55411 0 8.05161 0 10.5966C0 12.2617 0.713506 13.879 1.99795 15.0446C1.87904 15.5441 1.80764 16.0436 1.80764 16.543C1.80764 19.9443 4.56685 22.4895 7.75421 22.4895C8.39632 22.4895 9.01478 22.3945 9.63324 22.1803C10.7035 23.2269 12.1783 23.8929 13.7958 23.8929Z",fill:"currentColor"})]});function bV({className:e}){const t=it();return g.jsx("img",{src:d3e,alt:t.formatMessage({id:"VJmCc9",defaultMessage:"ChatGPT logo"}),className:e})}const p3e=({className:e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1180 320",width:"118",height:"32",fill:"currentColor",className:e,children:g.jsx("path",{d:"M367.44 153.84c0 52.32 33.6 88.8 80.16 88.8s80.16-36.48 80.16-88.8-33.6-88.8-80.16-88.8-80.16 36.48-80.16 88.8zm129.6 0c0 37.44-20.4 61.68-49.44 61.68s-49.44-24.24-49.44-61.68 20.4-61.68 49.44-61.68 49.44 24.24 49.44 61.68zM614.27 242.64c35.28 0 55.44-29.76 55.44-65.52s-20.16-65.52-55.44-65.52c-16.32 0-28.32 6.48-36.24 15.84V114h-28.8v169.2h28.8v-56.4c7.92 9.36 19.92 15.84 36.24 15.84zm-36.96-69.12c0-23.76 13.44-36.72 31.2-36.72 20.88 0 32.16 16.32 32.16 40.32s-11.28 40.32-32.16 40.32c-17.76 0-31.2-13.2-31.2-36.48zM747.65 242.64c25.2 0 45.12-13.2 54-35.28L776.93 198c-3.84 12.96-15.12 20.16-29.28 20.16-18.48 0-31.44-13.2-33.6-34.8h88.32v-9.6c0-34.56-19.44-62.16-55.92-62.16s-60 28.56-60 65.52c0 38.88 25.2 65.52 61.2 65.52zm-1.44-106.8c18.24 0 26.88 12 27.12 25.92h-57.84c4.32-17.04 15.84-25.92 30.72-25.92zM823.98 240h28.8v-73.92c0-18 13.2-27.6 26.16-27.6 15.84 0 22.08 11.28 22.08 26.88V240h28.8v-83.04c0-27.12-15.84-45.36-42.24-45.36-16.32 0-27.6 7.44-34.8 15.84V114h-28.8zM1014.17 67.68 948.89 240h30.48l14.64-39.36h74.4l14.88 39.36h30.96l-65.28-172.32zm16.8 34.08 27.36 72h-54.24zM1163.69 68.18h-30.72V240.5h30.72zM297.06 130.97a79.712 79.712 0 0 0-6.85-65.48c-17.46-30.4-52.56-46.04-86.84-38.68A79.747 79.747 0 0 0 143.24 0C108.2-.08 77.11 22.48 66.33 55.82a79.754 79.754 0 0 0-53.31 38.67c-17.59 30.32-13.58 68.54 9.92 94.54a79.712 79.712 0 0 0 6.85 65.48c17.46 30.4 52.56 46.04 86.84 38.68a79.687 79.687 0 0 0 60.13 26.8c35.06.09 66.16-22.49 76.94-55.86a79.754 79.754 0 0 0 53.31-38.67c17.57-30.32 13.55-68.51-9.94-94.51zM176.78 299.08a59.77 59.77 0 0 1-38.39-13.88c.49-.26 1.34-.73 1.89-1.07l63.72-36.8a10.36 10.36 0 0 0 5.24-9.07v-89.83l26.93 15.55c.29.14.48.42.52.74v74.39c-.04 33.08-26.83 59.9-59.91 59.97zM47.94 244.05a59.71 59.71 0 0 1-7.15-40.18c.47.28 1.3.79 1.89 1.13l63.72 36.8c3.23 1.89 7.23 1.89 10.47 0l77.79-44.92v31.1c.02.32-.13.63-.38.83L129.87 266c-28.69 16.52-65.33 6.7-81.92-21.95zM31.17 104.96c7-12.16 18.05-21.46 31.21-26.29 0 .55-.03 1.52-.03 2.2v73.61c-.02 3.74 1.98 7.21 5.23 9.06l77.79 44.91L118.44 224c-.27.18-.61.21-.91.08l-64.42-37.22c-28.63-16.58-38.45-53.21-21.95-81.89zm221.26 51.49-77.79-44.92 26.93-15.54c.27-.18.61-.21.91-.08l64.42 37.19c28.68 16.57 38.51 53.26 21.94 81.94a59.94 59.94 0 0 1-31.2 26.28v-75.81c.03-3.74-1.96-7.2-5.2-9.06zm26.8-40.34c-.47-.29-1.3-.79-1.89-1.13l-63.72-36.8a10.375 10.375 0 0 0-10.47 0l-77.79 44.92V92c-.02-.32.13-.63.38-.83l64.41-37.16c28.69-16.55 65.37-6.7 81.91 22a59.95 59.95 0 0 1 7.15 40.1zm-168.51 55.43-26.94-15.55a.943.943 0 0 1-.52-.74V80.86c.02-33.12 26.89-59.96 60.01-59.94 14.01 0 27.57 4.92 38.34 13.88-.49.26-1.33.73-1.89 1.07L116 72.67a10.344 10.344 0 0 0-5.24 9.06l-.04 89.79zM125.35 140 160 119.99l34.65 20V180L160 200l-34.65-20z"})}),m3e=e=>g.jsxs(yV,{viewBox:"0 0 36 36",fill:"none",...e,children:[g.jsx("circle",{cx:"18",cy:"18",r:"18",fill:"#3c46ff"}),g.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m7.358 14.641 5.056-5.055A2 2 0 0 1 13.828 9h8.343a2 2 0 0 1 1.414.586l5.056 5.055a2 2 0 0 1 .055 2.771l-9.226 9.996a2 2 0 0 1-2.94 0l-9.227-9.996a2 2 0 0 1 .055-2.77Zm6.86-1.939-.426 1.281a2.07 2.07 0 0 1-1.31 1.31l-1.28.426a.296.296 0 0 0 0 .561l1.28.428a2.07 2.07 0 0 1 1.31 1.309l.427 1.28c.09.27.471.27.56 0l.428-1.28a2.07 2.07 0 0 1 1.309-1.31l1.281-.427a.296.296 0 0 0 0-.56l-1.281-.428a2.07 2.07 0 0 1-1.309-1.309l-.427-1.28a.296.296 0 0 0-.561 0z",fill:"#fff"})]}),g3e=({className:e})=>g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[g.jsx("rect",{x:"2",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),g.jsx("path",{d:"M2 12H1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M22 12H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("rect",{x:"17",y:"6",width:"5",height:"12",rx:"2",stroke:"currentColor",strokeWidth:"2"}),g.jsx("path",{d:"M7 12L12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M16 12H17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),g.jsx("path",{d:"M9 3L15 21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),v3e=({className:e})=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"14",fill:"none",className:e,children:g.jsx("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.9 1.6 1.2 11a1.3 1.3 0 0 0 1.2 2h11.2a1.3 1.3 0 0 0 1.2-2L9 1.6a1.3 1.3 0 0 0-2.2 0Z"})}),_3e=({className:e})=>g.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[g.jsx("path",{d:"M8.78158 8.60266L9.8188 5.49098C10.037 4.83634 10.963 4.83634 11.1812 5.49098L12.2184 8.60266C12.7187 10.1035 13.8965 11.2813 15.3973 11.7816L18.509 12.8188C19.1637 13.037 19.1637 13.963 18.509 14.1812L15.3973 15.2184C13.8965 15.7187 12.7187 16.8965 12.2184 18.3973L11.1812 21.509C10.963 22.1637 10.037 22.1637 9.8188 21.509L8.78158 18.3973C8.28128 16.8965 7.10354 15.7187 5.60266 15.2184L2.49098 14.1812C1.83634 13.963 1.83634 13.037 2.49098 12.8188L5.60266 11.7816C7.10354 11.2813 8.28128 10.1035 8.78158 8.60266Z",fill:"currentColor"}),g.jsx("path",{d:"M17.1913 3.69537L17.6794 2.23105C17.7821 1.92298 18.2179 1.92298 18.3206 2.23105L18.8087 3.69537C19.0441 4.40167 19.5983 4.9559 20.3046 5.19133L21.769 5.67944C22.077 5.78213 22.077 6.21787 21.769 6.32056L20.3046 6.80867C19.5983 7.0441 19.0441 7.59833 18.8087 8.30463L18.3206 9.76895C18.2179 10.077 17.7821 10.077 17.6794 9.76895L17.1913 8.30463C16.9559 7.59833 16.4017 7.0441 15.6954 6.80867L14.231 6.32056C13.923 6.21787 13.923 5.78213 14.231 5.67944L15.6954 5.19133C16.4017 4.9559 16.9559 4.40167 17.1913 3.69537Z",fill:"currentColor"})]}),NBe=Object.freeze(Object.defineProperty({__proto__:null,GPT4FilledIcon:_3e,Hexagon:f3e,IconBase:yV,NoModelTrainingIcon:g3e,OpenaiLockup:p3e,OpenaiLogo:oE,OpenaiLogoConditionalSvg:bV,TriangleIcon:v3e,WorkspaceDefaultAvatar:m3e},Symbol.toStringTag,{value:"Module"})),CV=()=>g.jsx(Pc,{ConnectorIcon:Md}),y3e=()=>g.jsx(Pc,{ConnectorIcon:A0}),b3e=()=>g.jsx(Pc,{ConnectorIcon:gG}),C3e=()=>g.jsx(Pc,{ConnectorIcon:_V}),S3e=()=>g.jsx(Pc,{ConnectorIcon:mG}),w3e=()=>g.jsx(Pc,{ConnectorIcon:pG}),E3e=()=>g.jsx(Pc,{ConnectorIcon:vG}),Pc=({ConnectorIcon:e})=>g.jsxs("div",{className:"-mb-2 flex items-center justify-center gap-4 ps-2.5 pt-4",children:[g.jsx(oE,{className:"h-12 w-12"}),g.jsxs("div",{className:"text-token-text-secondary",children:[g.jsx(c3e,{className:"icon-sm me-1.5"}),g.jsx(u3e,{className:"icon-sm ms-1.5"})]}),g.jsx(e,{width:48,height:48})]}),PBe=e=>{switch(e){case"google_drive_oauth":case"google_drive_dwd":return g.jsx(CV,{});case"slack":return g.jsx(y3e,{});case"github":return g.jsx(b3e,{});case"sharepoint":return g.jsx(C3e,{});case"dropbox":return g.jsx(S3e,{});case"box":return g.jsx(w3e,{});case"linear":return g.jsx(E3e,{});default:return null}},SV=new BroadcastChannel("oauth_channel"),DBe=e=>{SV.postMessage(e)};async function wV({connectionId:e,connectorType:t,redirectTo:n,location:r,isReconnect:i,intl:s,isAdminQuickstartFlow:o=!1,accountId:a}){const l=window.open("about:blank","_blank");if(!l)throw new Error(s.formatMessage(cm.popupBlocked));if(o&&!a)throw new Error(s.formatMessage(cm.somethingWentWrong));let c;try{c=await(o?Wa.admin_request_connect_quickstart(a??"",e,n):Wa.user_request_connect(e,n,!0))}catch{throw l.close(),new Error(s.formatMessage(cm.somethingWentWrong))}return K.logEventWithStatsig("Contextual Answers User OAuth Initiated","chatgpt_contextual_answers_user_oauth_initiated",{connectorType:t,location:r,isReconnect:i,isAdminQuickstartFlow:o}),l.location.href=c.oauth_flow_url,new Promise(u=>{const d=f=>{const{error:h,errorDesc:m,errorType:v,pluginId:_,success:y}=f.data;if(f.origin===window.location.origin&&!(c.plugin_id&&c.plugin_id!==_))if(y)K.logEventWithStatsig("Contextual Answers User OAuth Completed","chatgpt_contextual_answers_user_oauth_completed",{connectorType:t,isAdminQuickstartFlow:o}),u({success:!0,message:s.formatMessage(cm.connectedDriveSyncDesc)});else{K.logEventWithStatsig("Contextual Answers User OAuth Failed","chatgpt_contextual_answers_user_oauth_failed",{connectorType:t,errorType:v,isAdminQuickstartFlow:o});const b=`${h}${m?`: ${m}`:""}`;u({errorType:v,success:y,message:b})}};SV.addEventListener("message",d,!1),l.addEventListener("beforeunload",()=>{window.removeEventListener("message",d,!1)})})}const cm=Ot({popupBlocked:{id:"67rWk2",defaultMessage:"Popup blocked. Please allow popups for this site."},connectedDriveSyncDesc:{id:"CACallback.connectedDriveSyncDesc.2",defaultMessage:"Google Drive is now connected and syncing."},somethingWentWrong:{id:"RvtOjD",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),x3e=Fh(()=>be(()=>import("./efeun6at6fe7wcmk.js"),__vite__mapDeps([6,1,7,8,9,10,11])).then(e=>e.GoogleRedirectContent)),aE={type:"success",size:"custom",className:"max-w-xl",showCloseButton:!0,shouldIgnoreClickOutside:!0,hideSeparator:!0,noPadding:!0,title:g.jsx(CV,{})},k3e=({onClose:e,isAdminFlow:t,isAdminQuickstartFlow:n=!1,connectionId:r,location:i,accountId:s,onSuccess:o,excludeModalWrapper:a=!1})=>{const l=P9()?.enabled??!1,c=!t&&l,[u,d]=p.useState(c?"cta":"disclaimer"),[f,h]=p.useState(),m=it(),v=p.useCallback(()=>{o?.(),e?.()},[e,o]),_={connectionId:r,connectorType:"google_drive_oauth",location:i,isAdminQuickstartFlow:n,accountId:s,onSuccess:v,onError:y=>{h(y),d("error")}};switch(u){case"disclaimer":return g.jsx(T3e,{isOpen:!0,onClose:e,excludeModalWrapper:a,isAdminFlow:t,isAdminQuickstartFlow:n,secondaryButton:g.jsx(kf,{title:m.formatMessage(Cu.cancel),color:"secondary",onClick:e}),primaryButton:g.jsx(kf,{color:"primary",onClick:()=>d("cta"),children:m.formatMessage(Cu.continue)})});case"cta":return c?g.jsx(A3e,{onClose:e,isReconnect:!1,excludeModalWrapper:a,..._}):g.jsx(O3e,{isOpen:!0,onClose:e,excludeModalWrapper:a,secondaryButton:g.jsx(kf,{title:m.formatMessage(Cu.back),color:"secondary",onClick:()=>d("disclaimer")}),primaryButton:g.jsx(sM,{label:m.formatMessage(Cu.loginWithGoogle),..._})});case"error":return c?g.jsx(M3e,{onClose:e,error:f,excludeModalWrapper:a,isReconnect:!0,..._}):g.jsx(I3e,{isOpen:!0,onClose:e,error:f,excludeModalWrapper:a,primaryButton:g.jsx(sM,{label:m.formatMessage(Cu.reconnect),isReconnect:!0,..._})})}};function T3e({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:i,isAdminFlow:s,isAdminQuickstartFlow:o}){const a=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsx("div",{className:"text-xl font-medium",children:g.jsx(Ce,{id:"zjbSLP",defaultMessage:"Connect your organization’s Google Drive "})}),g.jsx("div",{className:"text-md text-token-text-secondary mt-3",children:o?g.jsx(Ce,{id:"YCbpE/",defaultMessage:"Linking ChatGPT to Google Drive gives you more tailored answers based on your organization's context. Once you connect, others in your org can too."}):g.jsx(Ce,{id:"+hD78k",defaultMessage:"{userText}Connecting ChatGPT to Google Drive helps you get more personalized, up-to-date answers—grounded in your organization’s content. ChatGPT semantically searches your Drive and only surfaces content you’re authorized to view.",values:{userText:!s&&g.jsx(Ce,{id:"kg6Qe+",defaultMessage:"Your admin has enabled internal knowledge for your workspace. "})}})}),g.jsx("div",{className:"mt-6 text-lg font-medium",children:g.jsx(Ce,{id:"x/LOXH",defaultMessage:"What to expect"})}),g.jsxs("ul",{className:"text-md text-token-text-secondary ms-6 mt-4",children:[g.jsx("li",{className:"mb-2 list-disc",children:g.jsx(Ce,{id:"iBETBV",defaultMessage:"Continuous sync: Your documents, spreadsheets, and presentations stay up to date in ChatGPT."})}),g.jsx("li",{className:"mb-2 list-disc",children:g.jsx(Ce,{id:"u/D1Mk",defaultMessage:"Privacy first: ChatGPT always respects your Google Drive permissions — it can only access what you can."})}),g.jsx("li",{className:"list-disc",children:g.jsx(Ce,{id:"uHiJ04",defaultMessage:"You’re in control: Disconnect anytime to instantly revoke access."})})]}),o&&g.jsxs("div",{className:"bg-token-main-surface-secondary text-token-text-primary mt-6 flex w-full flex-row items-center gap-4 rounded-xl p-4",children:[g.jsx(ed,{className:"icon-lg"}),g.jsx("span",{className:"text-token-text-secondary text-sm",children:g.jsx(Ce,{id:"k5y2IZ",defaultMessage:"<b>Note</b>: Only users with the <i>same</i> Google Workspace domain can connect. Your email should look like <code>example.com</code> — personal accounts won’t work. Be sure you’re using the right one.",values:{b:l=>g.jsx("strong",{children:l}),i:l=>g.jsx("em",{children:l}),code:l=>g.jsx("code",{children:l})}})})]})]}),g.jsx(sE,{secondaryButton:r,primaryButton:i})]});return n?a:g.jsx(xs,{...aE,isOpen:e,onClose:t,testId:"modal-gdrive-disclaimer",children:a})}function O3e({isOpen:e,onClose:t,excludeModalWrapper:n,secondaryButton:r,primaryButton:i}){const s=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsx("div",{className:"mb-3 text-xl font-medium",children:g.jsx(Ce,{id:"X4Rl7H",defaultMessage:"Allow full access"})}),g.jsx("div",{children:g.jsx(Ce,{id:"laPpDC",defaultMessage:"<b>Important:</b> In the next step, make sure to keep all boxes checked. ChatGPT requires access to the full list of Google permissions.",values:{b:o=>g.jsx("strong",{children:o})}})})]}),g.jsx(sE,{secondaryButton:r,primaryButton:i})]});return n?s:g.jsx(xs,{...aE,isOpen:e,onClose:t,testId:"modal-gdrive-cta",children:s})}function A3e({onClose:e,excludeModalWrapper:t,...n}){const{loading:r,initiateOAuthFlow:i}=lE(n),s=g.jsx(x3e,{connectorIcon:g.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:g.jsx(Md,{height:32,width:32})}),connectorName:"Google Drive",onClose:e,isConnecting:r,onContinue:()=>i()});return t?s:g.jsx(xs,{rootClassName:"z-100",testId:"modal-gdrive-cta-slurm",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:s})}const EV=({intl:e,error:t})=>{let n,r;switch(t?.errorType){case"ca/oauth_api_access_error":{n=e.formatMessage({id:"LrBpzI",defaultMessage:"Permissions required"}),r=e.formatMessage({id:"E0lVhb",defaultMessage:"In order to sync your drive you must give ChatGPT the appropriate permissions. Please try again and select all the required checkboxes."});break}case"ca/oauth_missing_user_info_domain":{n=e.formatMessage({id:"CDqa2q",defaultMessage:"Cannot connect this account"}),r=e.formatMessage({id:"6Can6p",defaultMessage:"The Google account you are trying to connect does not belong to a Google Workspace domain. Google accounts that do not belong to a Google Workspace (such as personal Gmail accounts) are not eligible to connect to this specific feature at this time."});break}case"ca/oauth_has_existing_linked_openai_account":{n=e.formatMessage({id:"QSfIDZ",defaultMessage:"This Google account is already connected to a different ChatGPT account"}),r=e.formatMessage({id:"Z9Bj8k",defaultMessage:"The Google account you are trying to link is already connected to a different ChatGPT user for this Google Drive connection."});break}case"ca/oauth_connection_not_allowed":{n=e.formatMessage({id:"I3ekm6",defaultMessage:"Your ChatGPT account is not enabled for this connection"}),r=e.formatMessage({id:"0Vbazl",defaultMessage:"Your ChatGPT administrator has not enabled this connection for your account."});break}default:n=e.formatMessage({id:"ojfL45",defaultMessage:"Something went wrong"}),r=t?.message??e.formatMessage({id:"5MOzf8",defaultMessage:"We were unable to connect your Google account. Please check your settings and try again."})}return{title:n,body:r}};function I3e({isOpen:e,onClose:t,excludeModalWrapper:n,primaryButton:r,error:i}){const s=it(),{title:o,body:a}=EV({intl:s,error:i}),l=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"px-6 pt-4 pb-10",children:[g.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xl font-medium",children:[g.jsx(o3e,{className:"icon-lg"}),o]}),g.jsx("div",{children:a})]}),g.jsx(sE,{primaryButton:r})]});return n?l:g.jsx(xs,{...aE,isOpen:e,onClose:t,testId:"modal-gdrive-error",children:l})}function M3e({onClose:e,error:t,excludeModalWrapper:n,...r}){const i=it(),{title:s,body:o}=EV({intl:i,error:t}),{loading:a,initiateOAuthFlow:l}=lE(r),c=g.jsxs(g.Fragment,{children:[g.jsx(i3e,{onClose:e,connectorIcon:g.jsx("div",{className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",children:g.jsx(Md,{height:32,width:32})}),title:s}),g.jsxs("div",{className:"border-token-border-default text-token-text-secondary mt-8 mb-6 flex items-center gap-4 rounded-xl border p-4 text-sm",children:[g.jsx(l3e,{className:"icon-lg"}),o]}),g.jsx(Vt,{className:"w-full",size:"large",onClick:()=>l(),loading:a,children:i.formatMessage(Cu.reconnect)})]});return n?c:g.jsx(xs,{testId:"modal-gdrive-error-slurm",rootClassName:"z-100",type:"success",isOpen:!0,onClose:e,size:"custom",className:"max-w-[400px]",children:c})}const lE=({connectorType:e,connectionId:t,location:n,isReconnect:r=!1,isAdminQuickstartFlow:i,accountId:s,onSuccess:o,onError:a})=>{const[l,c]=p.useState(!1),u=it(),d=Sn(),f=p.useCallback(async()=>{try{c(!0);const{message:h,errorType:m,success:v}=await wV({connectorType:e,connectionId:t,location:n,isReconnect:r,intl:u,isAdminQuickstartFlow:i,accountId:s});v?(d.success(h),o?.()):(d.danger(h,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:h}),a?.({errorType:m,message:h}))}catch(h){a?.(),h instanceof Error&&d.danger(h.message,{toastId:"google_drive_oauth_flow",loggingTitle:"Failed to initiate OAuth flow",loggingDescription:h.message})}finally{c(!1)}},[e,t,n,r,u,i,s,d,o,a]);return{loading:l,initiateOAuthFlow:f}},sM=({label:e,...t})=>{const{loading:n,initiateOAuthFlow:r}=lE(t);return g.jsx(kf,{loading:n,onClick:r,color:"primary",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(a3e,{}),e]})})},Cu=Ot({back:{id:"RDaXnk",defaultMessage:"Back"},cancel:{id:"CfN1/v",defaultMessage:"Cancel"},continue:{id:"XGnWba",defaultMessage:"Continue"},loginWithGoogle:{id:"9ImAmL",defaultMessage:"Log in with Google"},reconnect:{id:"0qUCBD",defaultMessage:"Reconnect"},encounteredError:{id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}}),R3e=({connectorType:e,connectionId:t,location:n,refetch:r,renderButton:i})=>{const s=it(),[o,a]=p.useState(!1),l=Sn(),c=iE(),u=oge(),d=e==="google_drive_oauth",f=p.useCallback(async()=>{try{a(!0),await wV({connectorType:e,connectionId:t,location:n,intl:s})}catch(y){y instanceof Error?l.danger(y.message,{toastId:"ca_oauth_button"}):l.danger(s.formatMessage({id:"FNXFnS",defaultMessage:"Encountered an error connecting your account. Please try again later."}),{toastId:"ca_oauth_button",loggingTitle:"Encountered an error connecting your account.",loggingDescription:"Error message shown when a user tries to link their account but it fails."})}finally{a(!1),r?.()}},[t,e,s,n,r,l]),[h,m]=p.useState(!1),v=i({disabled:c||u,isLoading:o,onClick:()=>{d?m(!0):f()}}),_=v;return c?g.jsx(bi,{label:s.formatMessage(N3e.gdriveTooltip),children:v}):u?g.jsx(t3e,{children:v}):g.jsxs(g.Fragment,{children:[_,h&&g.jsx(k3e,{isAdminFlow:!1,onClose:()=>m(!1),connectionId:t,location:n,onSuccess:r})]})},N3e=Ot({gdriveTooltip:{id:"9DbE+w",defaultMessage:"Cannot connect, please use the web version instead"}}),xV=({startDate:e,now:t,scale:n})=>{const r=t.getTime()-e.getTime();if(r<=0)return 0;const i=r/n,s=Math.min(1,Math.log1p(i*9)/Math.log1p(10));return Math.round(s*100)},kV=(e=1e3)=>{const[t,n]=p.useState(new Date);return p.useEffect(()=>{const r=setInterval(()=>{n(new Date)},e);return()=>clearInterval(r)},[e]),t},P3e=({connection:e})=>{const t=it(),n=kV(),r=e.user_connection_details.initialized_at,i=r?xV({startDate:new Date(r),now:n,scale:1e3*60*60*3})/2:25;return g.jsx(bi,{label:t.formatMessage({id:"69GKr/",defaultMessage:"Syncing may take 8 hours or longer"}),side:"right",children:g.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[g.jsx(q0,{sizeOverride:18,percentage:i}),g.jsx(Ce,{id:"fYaL40",defaultMessage:"Syncing"})]})})},D3e=({className:e,connection:t,ignoreLabel:n=!1})=>{const r=it(),i=kV(),s=t.user_connection_details.initialized_at,o=s?xV({startDate:new Date(s),now:i,scale:1e3*60*60*6})/2+50:75;return g.jsx(bi,{label:r.formatMessage({id:"lsQnba",defaultMessage:"Last 30 days synced"}),secondaryLabel:r.formatMessage({id:"j+cskE",defaultMessage:"Full sync can take up to few days"}),side:"right",children:g.jsxs("div",{className:xe("text-caption-regular text-token-text-tertiary flex items-center gap-2",e),children:[g.jsx(q0,{sizeOverride:18,percentage:o,className:"text-blue-400"}),!n&&g.jsx(Ce,{id:"k4otrZ",defaultMessage:"Partially synced"})]})})},L3e=({connection:e,location:t,inactiveButtonOverride:n})=>{const[r,i]=p.useState(new Date);p.useEffect(()=>{const l=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(l)},[]);const{refetch:s}=Jh({skip:!0}),o=it();switch(e.user_connection_details.activation_status){case"activated":{const l=e.user_connection_details.last_delta_sync_completed_at??e.user_connection_details.last_full_sync_completed_at;return l?g.jsx("div",{className:"text-body-small-regular",children:XCe({now:r,givenDate:new Date(l),intl:o})}):g.jsxs("div",{className:"text-caption-regular text-token-text-tertiary flex items-center gap-2 grayscale",children:[g.jsx($9,{className:"icon-sm"}),g.jsx(Ce,{id:"SWdiTP",defaultMessage:"Synced"})]})}case"activating":return g.jsx(P3e,{connection:e});case"partially_activated":return g.jsx(D3e,{connection:e});case"inactive":return n||g.jsx(F3e,{connection:e,refetch:s,location:t})}},oM="https://help.openai.com/en/articles/10929079-google-workspace-admin-managed-setup#h_856676fdde",TV=({displayName:e,connectorType:t})=>g.jsx(bi,{withArrow:!0,interactive:!0,label:g.jsx(iM,{openNewTab:!0,underline:!1,href:oM,children:g.jsx(Ce,{id:"H0Humf",defaultMessage:"We were unable to connect your account to {connector_name}. Click to learn more.",values:{connector_name:t==="google_drive_dwd"?"Google Drive":e}})}),sideOffset:0,children:g.jsx(iM,{className:"hover:bg-token-interactive-bg-secondary-hover block rounded-full p-2",href:oM,openNewTab:!0,children:g.jsx(ed,{className:"icon"})})}),LBe=({connection:e})=>{switch(e.user_connection_details.auth_status){case"admin_connected":return g.jsx(Ce,{id:"Isczat",defaultMessage:"Connected"});case"admin_managed_disconnected":return g.jsx(TV,{displayName:e.connection_display_info.display_name,connectorType:e.user_connection_details.knowledge_connector_type});case"not_connected":return g.jsx(Ce,{id:"9ZiK24",defaultMessage:"Connect"});case"user_connected":return g.jsx(q0,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},F3e=({connection:e,refetch:t,location:n})=>{const r=p.useMemo(()=>{switch(e.user_connection_details.auth_status){case"admin_connected":return g.jsx(Vt,{disabled:!0,size:"small",color:"ghost",children:g.jsx(Ce,{id:"Isczat",defaultMessage:"Connected"})});case"admin_managed_disconnected":return g.jsx(TV,{displayName:e.connection_display_info.display_name});case"not_connected":return g.jsx(j3e,{connection:e,location:n,refetch:t});case"user_connected":return g.jsx(q0,{sizeOverride:18,percentage:0,className:"text-blue-400"})}},[e,n,t]);return g.jsx(g.Fragment,{children:r})},j3e=({connection:e,location:t,refetch:n})=>{const r=({disabled:i,isLoading:s,onClick:o})=>g.jsx(Vt,{size:"small",disabled:i,loading:s,onClick:o,color:"secondary",children:g.jsx(Ce,{id:"9ZiK24",defaultMessage:"Connect"})});return g.jsx(R3e,{connectorType:e.user_connection_details.knowledge_connector_type,connectionId:e.user_connection_details.connection_instance_id,location:t,refetch:n,renderButton:r})},B3e=["admin_connected","admin_managed_disconnected"];function U3e({connection:e,refetch:t}){const n=Sn(),[r,i]=p.useState(!1);if(B3e.includes(e.user_connection_details.auth_status))return null;const s=async()=>{try{i(!0),await Wa.user_disconnect(e.user_connection_details.connection_instance_id),n.success("Successfully disconnected your account.")}catch{n.danger("Encountered an error disconnecting your account. Please try again later.",{toastId:"ca_disconnect_button"})}finally{i(!1),t?.()}};return g.jsxs(Bt.Root,{children:[g.jsx(Bt.BasicTrigger,{children:g.jsx("button",{type:"button",className:"text-token-text-secondary focus-visible:bg-token-surface-hover enabled:hover:bg-token-surface-hover disabled:text-token-text-quaternary h-8 rounded-lg px-2 focus-visible:outline-0",children:g.jsx(KCe,{className:"icon-sm"})})}),g.jsx(Bt.Portal,{children:g.jsx(Bt.Content,{size:"small",align:"end",children:g.jsx(Bt.Item,{disabled:r,onClick:s,icon:g.jsx(YCe,{}),color:"danger",children:g.jsx(Ce,{id:"iHFV22",defaultMessage:"Disconnect"})})})})]})}const ip=()=>{const e=Ac();return Nt({queryKey:["user_connection_status"],queryFn:Wa.user_connection_status,enabled:e})},q3e=new Set(["gdrive_sync_connector","sharepoint_sync_connector","confluence_sync_connector","github_sync_connector"]);function FBe(){const e=me(),t=We(e,"2509278897"),{data:n,isLoading:r,refetch:i}=ip(),s=p.useMemo(()=>t?n?.connection_statuses.filter(o=>!q3e.has(o.user_connection_details.connection_type)):n?.connection_statuses,[n,t]);return p.useEffect(()=>{K.logEventWithStatsig("Contextual Answers User Settings Modal Shown","chatgpt_contextual_answers_user_settings_modal_shown")},[]),t&&!s?.length?null:g.jsx(xde,{description:g.jsx(Ce,{id:"yjIap+",defaultMessage:"These connectors are only available to a limited number of users."}),title:g.jsx(Ce,{id:"5C8Bnt",defaultMessage:"Beta connectors"}),children:g.jsx("div",{className:"border-b",children:r?g.jsx("div",{className:"p-2",children:g.jsx(dye,{lines:4})}):s?.length?g.jsx("div",{children:s.map(o=>g.jsx(kde,{children:g.jsx(H_e,{icon:g.jsx("img",{src:o.connection_display_info.icon_url??"",alt:o.connection_display_info.display_name,className:"icon-lg"}),title:o.connection_display_info.display_name,statusIndicator:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(L3e,{connection:o,location:"user_settings"}),o.user_connection_details?.activation_status!=="inactive"&&g.jsx(U3e,{connection:o,refetch:i})]})})},o.user_connection_details.connection_instance_id))}):g.jsx("p",{className:"text-token-text-secondary my-2",children:g.jsx(Ce,{id:"nzXh59",defaultMessage:"No connections found."})})})})}const OV=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M3.31302 16.7412C3.11928 17.0571 2.90169 17.4237 2.71689 17.7158C2.63737 17.8502 2.61375 18.0104 2.65109 18.162C2.68844 18.3136 2.78377 18.4445 2.91659 18.5266L6.79145 20.9111C6.85879 20.9527 6.93372 20.9804 7.01189 20.9928C7.09007 21.0051 7.1699 21.0017 7.24676 20.9828C7.32361 20.964 7.39593 20.93 7.45952 20.8829C7.5231 20.8358 7.57667 20.7765 7.6171 20.7084C7.77209 20.4491 7.9718 20.1123 8.18938 19.7516C9.72443 17.2181 11.2684 17.5281 14.0523 18.8574L17.8944 20.6846C17.9664 20.7189 18.0446 20.7383 18.1243 20.7419C18.204 20.7454 18.2836 20.7329 18.3583 20.7051C18.4331 20.6773 18.5015 20.6348 18.5596 20.5801C18.6176 20.5253 18.6641 20.4595 18.6962 20.3865L20.5413 16.2136C20.6039 16.0703 20.6078 15.9082 20.552 15.7621C20.4963 15.6161 20.3854 15.4977 20.2432 15.4327C19.4324 15.0511 17.8199 14.2911 16.3683 13.5906C11.1462 11.0541 6.708 11.218 3.31302 16.7412Z",fill:"#1868DB"}),p.createElement("path",{d:"M20.6871 7.27164C20.8808 6.95569 21.0984 6.58907 21.2832 6.29696C21.3627 6.16259 21.3864 6.00239 21.349 5.85079C21.3117 5.69919 21.2163 5.56829 21.0835 5.48622L17.2086 3.10169C17.1408 3.056 17.0643 3.02476 16.9839 3.00991C16.9034 2.99506 16.8208 2.99692 16.7411 3.01537C16.6615 3.03382 16.5864 3.06847 16.5207 3.11717C16.455 3.16586 16.4 3.22756 16.3592 3.29842C16.2042 3.55773 16.0045 3.89455 15.7869 4.25521C14.2518 6.78877 12.7078 6.47878 9.92391 5.14941L6.09376 3.3312C6.02173 3.29692 5.94356 3.27744 5.86387 3.27392C5.78419 3.2704 5.7046 3.28291 5.62984 3.3107C5.55507 3.3385 5.48664 3.38101 5.4286 3.43573C5.37057 3.49045 5.3241 3.55627 5.29196 3.62927L3.44693 7.8022C3.38427 7.94545 3.38041 8.10758 3.43616 8.25366C3.49192 8.39973 3.60283 8.51806 3.745 8.58313C4.55574 8.96466 6.16827 9.72473 7.61986 10.4252C12.8539 12.9587 17.2921 12.7888 20.6871 7.27164Z",fill:"#1868DB"})),AV=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M20.248 3H11.5801C11.5801 4.03775 11.9923 5.03299 12.7261 5.76679C13.4599 6.50058 14.4552 6.91283 15.4929 6.91283H17.0896V8.45439C17.091 10.6134 18.8409 12.3633 20.9999 12.3647V3.75198C20.9999 3.33667 20.6633 3 20.248 3Z",fill:"#1868DB"}),p.createElement("path",{d:"M15.9594 7.31897H7.2915C7.29289 9.47801 9.04279 11.2279 11.2018 11.2293H12.7985V12.7759C12.8013 14.9349 14.5523 16.6837 16.7114 16.6837V8.07095C16.7114 7.65564 16.3747 7.31897 15.9594 7.31897Z",fill:"#1868DB"}),p.createElement("path",{d:"M11.6679 11.6353H3C3 13.7963 4.75183 15.5481 6.91283 15.5481H8.51455V17.0897C8.51593 19.2468 10.2628 20.9959 12.4199 21V12.3873C12.4199 11.972 12.0832 11.6353 11.6679 11.6353Z",fill:"#1868DB"})),z3e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint0_radial_376_5370)"}),p.createElement("path",{d:"M10.2176 2.46545L10.1154 2.52723C9.95295 2.62551 9.7999 2.73539 9.65708 2.85546L9.95168 2.64823H12.4521L12.9067 6.0902L10.6338 8.36303L8.36102 9.94282V11.7645C8.36102 13.0368 9.026 14.2166 10.1145 14.8755L12.5071 16.3238L7.45189 19.2727H6.4769L4.65967 18.1727C3.57121 17.5139 2.90625 16.334 2.90625 15.0617V8.93605C2.90625 7.66332 3.57164 6.48318 4.66065 5.82447L10.1154 2.525C10.1492 2.50455 10.1833 2.4847 10.2176 2.46545Z",fill:"url(#paint1_linear_376_5370)"}),p.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint2_radial_376_5370)"}),p.createElement("path",{d:"M15.6331 9.72668V11.7633C15.6331 13.0356 14.9681 14.2154 13.8797 14.8743L8.4249 18.176C7.30903 18.8515 5.92066 18.8758 4.78516 18.2492L10.1135 21.4744C11.2711 22.1752 12.722 22.1752 13.8797 21.4744L19.3344 18.1726C20.4229 17.5138 21.0878 16.334 21.0878 15.0616V13.5905L20.6333 12.9086L15.6331 9.72668Z",fill:"url(#paint3_linear_376_5370)"}),p.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint4_radial_376_5370)"}),p.createElement("path",{d:"M19.3347 5.82441L13.88 2.52494C12.7587 1.8467 11.3624 1.82569 10.2241 2.46191L10.1157 2.52746C9.02672 3.18618 8.36133 4.36629 8.36133 5.63904V9.95008L10.1157 8.88885C11.2729 8.18896 12.7228 8.18896 13.88 8.88885L19.3347 12.1883C20.3897 12.8265 21.0471 13.9539 21.0872 15.1808C21.0885 15.1412 21.0891 15.1015 21.0891 15.0617V8.93599C21.0891 7.66326 20.4237 6.48312 19.3347 5.82441Z",fill:"url(#paint5_linear_376_5370)"}),p.createElement("defs",null,p.createElement("radialGradient",{id:"paint0_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(9.00587 5.92579) rotate(110.528) scale(15.1669 26.4541)"},p.createElement("stop",{offset:.06441,stopColor:"#AE7FE2"}),p.createElement("stop",{offset:1,stopColor:"#0078D4"})),p.createElement("linearGradient",{id:"paint1_linear_376_5370",x1:9.04828,y1:18.3037,x2:6.88428,y2:14.5609,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#114A8B"}),p.createElement("stop",{offset:1,stopColor:"#0078D4",stopOpacity:0})),p.createElement("radialGradient",{id:"paint2_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(5.82811 17.6139) rotate(-8.36717) scale(14.1144 9.32348)"},p.createElement("stop",{offset:.133928,stopColor:"#D59DFF"}),p.createElement("stop",{offset:1,stopColor:"#5E438F"})),p.createElement("linearGradient",{id:"paint3_linear_376_5370",x1:19.4317,y1:12.6254,x2:17.1128,y2:15.9504,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#493474"}),p.createElement("stop",{offset:1,stopColor:"#8C66BA",stopOpacity:0})),p.createElement("radialGradient",{id:"paint4_radial_376_5370",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(19.7505 13.1378) rotate(-165.772) scale(11.329 19.0713)"},p.createElement("stop",{offset:.0584996,stopColor:"#50E6FF"}),p.createElement("stop",{offset:1,stopColor:"#436DCD"})),p.createElement("linearGradient",{id:"paint5_linear_376_5370",x1:8.80489,y1:2.47938,x2:12.2191,y2:2.47938,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#2D3F80"}),p.createElement("stop",{offset:1,stopColor:"#436DCD",stopOpacity:0})))),G3e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#4285F4"}),p.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#1967D2"}),p.createElement("path",{d:"M8 13.75C8 13.6119 8.11193 13.5 8.25 13.5H15.75C15.8881 13.5 16 13.6119 16 13.75V14.75C16 14.8881 15.8881 15 15.75 15H8.25C8.11193 15 8 14.8881 8 14.75V13.75ZM8 16.75C8 16.6119 8.11193 16.5 8.25 16.5H13.75C13.8881 16.5 14 16.6119 14 16.75V17.75C14 17.8881 13.8881 18 13.75 18H8.25C8.11193 18 8 17.8881 8 17.75V16.75Z",fill:"white"}),p.createElement("path",{d:"M8 10.75C8 10.6119 8.11193 10.5 8.25 10.5H15.75C15.8881 10.5 16 10.6119 16 10.75V11.75C16 11.8881 15.8881 12 15.75 12H8.25C8.11193 12 8 11.8881 8 11.75V10.75Z",fill:"white"})),H3e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#34A853"}),p.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#188038"}),p.createElement("path",{d:"M7.5 10.5C7.22386 10.5 7 10.7239 7 11V17.5C7 17.7761 7.22386 18 7.5 18H16.5C16.7761 18 17 17.7761 17 17.5V11C17 10.7239 16.7761 10.5 16.5 10.5H7.5ZM11.25 16.5L8.5 16.5V14.75L11.25 14.75V16.5ZM11.25 13.75H8.5V12H11.25V13.75ZM15.5 16.5H12.75V14.75L15.5 14.75V16.5ZM15.5 13.75H12.75V12H15.5V13.75Z",fill:"white"})),V3e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4 4C4 2.89543 4.89543 2 6 2H14L20 8V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4Z",fill:"#F4B400"}),p.createElement("path",{d:"M14 2L20 8H16C14.8954 8 14 7.10457 14 6V2Z",fill:"#9D7607"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11.25C7 10.8358 7.33579 10.5 7.75 10.5H16.25C16.6642 10.5 17 10.8358 17 11.25V17.25C17 17.6642 16.6642 18 16.25 18H7.75C7.33579 18 7 17.6642 7 17.25V11.25ZM8.5 12.5V16H15.5V12.5H8.5Z",fill:"white"})),$3e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M13.5574 11.5349L5.65039 10.1395V20.4498C5.65039 20.9206 6.03209 21.3023 6.50295 21.3023H20.1467C20.6175 21.3023 20.9992 20.9206 20.9992 20.4498V16.6512L13.5574 11.5349Z",fill:"#185C37"}),p.createElement("path",{d:"M13.5574 2.69763H6.50295C6.03209 2.69763 5.65039 3.07933 5.65039 3.55019V7.34879L13.5574 12L17.7434 13.3953L20.9992 12V7.34879L13.5574 2.69763Z",fill:"#21A366"}),p.createElement("path",{d:"M5.65039 7.34888H13.5574V12H5.65039V7.34888Z",fill:"#107C41"}),p.createElement("path",{opacity:.1,d:"M11.3095 6.41858H5.65039V18.0465H11.3095C11.7797 18.045 12.1605 17.6641 12.162 17.1939V7.27114C12.1605 6.80092 11.7797 6.42011 11.3095 6.41858Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V18.5117H10.8443C11.3146 18.5102 11.6954 18.1294 11.6969 17.6591V7.73634C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V17.5815H10.8443C11.3146 17.5799 11.6954 17.1991 11.6969 16.7289V7.73634C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.3792 6.88379H5.65039V17.5815H10.3792C10.8494 17.5799 11.2303 17.1991 11.2318 16.7289V7.73634C11.2303 7.26613 10.8494 6.88532 10.3792 6.88379Z",fill:"#282828"}),p.createElement("path",{d:"M1.85256 6.88379H10.38C10.8508 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7346 10.8508 17.1163 10.38 17.1163H1.85256C1.3817 17.1163 1 16.7346 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_376_5372)"}),p.createElement("path",{d:"M3.63965 14.7712L5.43314 11.9921L3.78988 9.22839H5.11174L6.00848 10.9958C6.09128 11.1637 6.14802 11.2884 6.17872 11.3707H6.19035C6.24926 11.2368 6.31128 11.1067 6.37639 10.9805L7.335 9.22933H8.54848L6.86336 11.9768L8.59128 14.7712H7.30012L6.2643 12.8312C6.21551 12.7486 6.17411 12.6619 6.14059 12.5721H6.12524C6.09489 12.6601 6.05464 12.7444 6.00523 12.8233L4.93872 14.7712H3.63965Z",fill:"white"}),p.createElement("path",{d:"M20.1489 2.69763H13.5596V7.34879H21.0014V3.55019C21.0014 3.07933 20.6197 2.69763 20.1489 2.69763Z",fill:"#33C481"}),p.createElement("path",{d:"M13.5596 12H21.0014V16.6512H13.5596V12Z",fill:"#107C41"}),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_376_5372",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#18884F"}),p.createElement("stop",{offset:.5,stopColor:"#117E43"}),p.createElement("stop",{offset:1,stopColor:"#0B6631"})))),W3e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M13.0927 12.9302L11.6973 2.69763H11.5932C6.51931 2.71244 2.40983 6.82193 2.39502 11.8958V12L13.0927 12.9302Z",fill:"#ED6C47"}),p.createElement("path",{d:"M11.8019 2.69763H11.6978V12L16.3489 13.8604L21.0001 12V11.8958C20.9853 6.82193 16.8758 2.71244 11.8019 2.69763Z",fill:"#FF8F6B"}),p.createElement("path",{d:"M20.9997 12V12.1023C20.9851 17.1773 16.8746 21.2878 11.7997 21.3023H11.595C6.52004 21.2878 2.40958 17.1773 2.39502 12.1023V12H20.9997Z",fill:"#D35230"}),p.createElement("path",{opacity:.1,d:"M12.1625 7.26975V17.1953C12.1602 17.5402 11.9512 17.8501 11.6322 17.9814C11.5307 18.0243 11.4216 18.0465 11.3113 18.0465H4.59038C4.46015 17.8977 4.33457 17.7395 4.21829 17.5814C3.03331 16.0006 2.39349 14.0779 2.39503 12.1023V11.8977C2.39231 10.1157 2.9131 8.37221 3.8927 6.8837C3.99503 6.72556 4.102 6.56742 4.21829 6.41858H11.3113C11.7799 6.42213 12.1589 6.80114 12.1625 7.26975Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M11.6974 7.73496V17.6605C11.6973 17.7708 11.6752 17.8799 11.6322 17.9815C11.5009 18.3004 11.1911 18.5094 10.8462 18.5117H5.01364C4.86648 18.3623 4.72528 18.2071 4.59038 18.0466C4.46015 17.8977 4.33457 17.7396 4.21829 17.5815C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88733 11.6938 7.26634 11.6974 7.73496Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M11.6974 7.73495V16.7303C11.6938 17.1989 11.3148 17.5779 10.8462 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.8462C11.3148 6.88732 11.6938 7.26633 11.6974 7.73495Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M11.2322 7.73495V16.7303C11.2287 17.1989 10.8497 17.5779 10.3811 17.5815H4.21829C3.03331 16.0007 2.39349 14.078 2.39503 12.1024V11.8977C2.39231 10.1158 2.9131 8.37231 3.8927 6.88379H10.3811C10.8497 6.88732 11.2287 7.26633 11.2322 7.73495Z",fill:"#282828"}),p.createElement("path",{d:"M1.85255 6.88379H10.38C10.8509 6.88379 11.2325 7.2655 11.2325 7.73634V16.2638C11.2325 16.7346 10.8508 17.1163 10.38 17.1163H1.85255C1.38171 17.1163 1 16.7346 1 16.2638V7.73634C1 7.2655 1.38171 6.88379 1.85255 6.88379Z",fill:"url(#paint0_linear_376_5382)"}),p.createElement("path",{d:"M6.20915 9.15766C6.76426 9.12021 7.31459 9.28145 7.76171 9.61255C8.13464 9.94549 8.3339 10.4313 8.30217 10.9302C8.30827 11.277 8.21585 11.6185 8.03567 11.9149C7.85325 12.2062 7.59043 12.4385 7.27892 12.5837C6.9228 12.7493 6.53344 12.8311 6.14077 12.8228H5.06217V14.8274H3.95752V9.15766H6.20915ZM5.06125 11.9567H6.01195C6.31334 11.9789 6.61239 11.8897 6.85242 11.706C7.05094 11.5156 7.155 11.247 7.1366 10.9726C7.1366 10.3477 6.7735 10.0353 6.0473 10.0353H5.06126V11.9567H5.06125Z",fill:"white"}),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_376_5382",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#CA4C28"}),p.createElement("stop",{offset:.5,stopColor:"#C5401E"}),p.createElement("stop",{offset:1,stopColor:"#B62F14"})))),K3e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M20.1467 2.69775H6.50295C6.03209 2.69775 5.65039 3.07946 5.65039 3.55031V7.34892L13.5574 9.6745L20.9992 7.34892V3.55031C20.9992 3.07946 20.6175 2.69775 20.1467 2.69775Z",fill:"#41A5EE"}),p.createElement("path",{d:"M20.9992 7.34888H5.65039V12L13.5574 13.3954L20.9992 12V7.34888Z",fill:"#2B7CD3"}),p.createElement("path",{d:"M5.65039 12.0001V16.6513L13.0923 17.5815L20.9992 16.6513V12.0001H5.65039Z",fill:"#185ABD"}),p.createElement("path",{d:"M6.50295 21.3024H20.1467C20.6175 21.3024 20.9992 20.9207 20.9992 20.4498V16.6512H5.65039V20.4498C5.65039 20.9207 6.03209 21.3024 6.50295 21.3024Z",fill:"#103F91"}),p.createElement("path",{opacity:.1,d:"M11.3095 6.4187H5.65039V18.0466H11.3095C11.7797 18.0451 12.1605 17.6643 12.162 17.194V7.27126C12.1605 6.80104 11.7797 6.42023 11.3095 6.4187Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V18.5117H10.8443C11.3146 18.5102 11.6954 18.1294 11.6969 17.6591V7.73635C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.8443 6.88379H5.65039V17.5815H10.8443C11.3146 17.5799 11.6954 17.1991 11.6969 16.7289V7.73635C11.6954 7.26613 11.3146 6.88532 10.8443 6.88379Z",fill:"#282828"}),p.createElement("path",{opacity:.2,d:"M10.3792 6.88379H5.65039V17.5815H10.3792C10.8494 17.5799 11.2303 17.1991 11.2318 16.7289V7.73635C11.2303 7.26613 10.8494 6.88532 10.3792 6.88379Z",fill:"#282828"}),p.createElement("path",{d:"M1.85256 6.88379H10.38C10.8509 6.88379 11.2326 7.26549 11.2326 7.73635V16.2638C11.2326 16.7347 10.8509 17.1164 10.38 17.1164H1.85256C1.3817 17.1164 1 16.7347 1 16.2638V7.73635C1 7.26549 1.3817 6.88379 1.85256 6.88379Z",fill:"url(#paint0_linear_376_5387)"}),p.createElement("path",{d:"M4.49888 13.4224C4.51562 13.554 4.52679 13.6684 4.5319 13.7666H4.55143C4.55887 13.6736 4.57437 13.5615 4.59794 13.4303C4.62151 13.2991 4.64275 13.1883 4.66166 13.0978L5.55841 9.22891H6.71795L7.64818 13.0396C7.70223 13.2766 7.74092 13.5168 7.764 13.7587H7.77935C7.79669 13.5243 7.82901 13.2913 7.87609 13.061L8.61795 9.22705H9.6733L8.37004 14.7712H7.13702L6.2533 11.0996C6.22772 10.994 6.19842 10.8559 6.16632 10.6861C6.13423 10.5163 6.11423 10.3922 6.10632 10.314H6.09097C6.08074 10.4042 6.06073 10.5382 6.03097 10.7159C6.0012 10.8936 5.97732 11.025 5.95933 11.1103L5.12863 14.7703H3.87468L2.56445 9.2289H3.63887L4.44678 13.1056C4.46492 13.1852 4.48214 13.2912 4.49888 13.4224Z",fill:"white"}),p.createElement("defs",null,p.createElement("linearGradient",{id:"paint0_linear_376_5387",x1:2.7776,y1:6.21762,x2:9.45496,y2:17.7825,gradientUnits:"userSpaceOnUse"},p.createElement("stop",{stopColor:"#2368C4"}),p.createElement("stop",{offset:.5,stopColor:"#1A5DBE"}),p.createElement("stop",{offset:1,stopColor:"#1146AC"})))),jBe=({className:e,contextConnector:t,extension:n})=>{const r=it(),i=Y3e(t,n);return g.jsx("div",{className:`${e} dark:bg-token-main-surface-secondary flex items-center justify-center rounded-md border border-gray-100 bg-gray-50 dark:border-white/10`,children:g.jsx(i,{className:"w-[20px]","aria-label":r.formatMessage({id:"ccc.fileIcon",defaultMessage:"File icon for {contextConnector}"},{contextConnector:t})})})};function Y3e(e,t){switch(e){case Pe.CONFLUENCE:return OV;case Pe.GDRIVE:switch(t){case"doc":case"docx":return G3e;case"xls":case"xlsx":return H3e;case"ppt":case"pptx":return V3e;default:return Md}case Pe.JIRA:return AV;case Pe.NOTION_OPEN_CONNECTOR:return L9;case Pe.O365_BUSINESS:case Pe.O365_PERSONAL:case Pe.O365:switch(t){case"doc":case"docx":return K3e;case"xls":case"xlsx":return $3e;case"ppt":case"pptx":return W3e;default:return z3e}case Pe.SLACK_OPEN_CONNECTOR:return A0}}function BBe(e){switch(e){case Pe.CONFLUENCE:return OV;case Pe.GDRIVE:return Md;case Pe.JIRA:return AV;case Pe.NOTION_OPEN_CONNECTOR:return L9;case Pe.O365_PERSONAL:case Pe.O365:return _G;case Pe.O365_BUSINESS:return _V;case Pe.SLACK_OPEN_CONNECTOR:return A0}}var tf={},aM;function Z3e(){if(aM)return tf;aM=1,Object.defineProperty(tf,"__esModule",{value:!0});function e(t,n){if(n)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}return tf.assertNever=e,tf.default=e,tf}var J3e=Z3e();const Q3e=_n(J3e),X3e=Hn({defaultMessage:"Microsoft OneDrive (personal)",id:"ContextConnector.OneDrivePersonal.name"}),e5e=Hn({defaultMessage:"Microsoft OneDrive (work/school)",id:"ContextConnector.OneDriveBusiness.name"}),UBe=Ot({includesSharePoint:{id:"ContextConnectorPicker.o365BusinessIncludesSharePoint",defaultMessage:"Includes SharePoint"}});function qBe(e,t,n){switch(e){case Pe.CONFLUENCE:return"Confluence";case Pe.GDRIVE:return"Google Drive";case Pe.JIRA:return"Jira";case Pe.NOTION_OPEN_CONNECTOR:return"Notion";case Pe.O365:return n?"OneDrive":"Microsoft OneDrive";case Pe.O365_PERSONAL:return n?"OneDrive":t?.formatMessage(X3e)??"Microsoft OneDrive (personal)";case Pe.O365_BUSINESS:return n?"Sharepoint":t?.formatMessage(e5e)??"Microsoft OneDrive (work/school)";case Pe.SLACK_OPEN_CONNECTOR:return"Slack"}}function t5e(e,t){switch(e){case Pe.CONFLUENCE:return"Confluence Page";case Pe.GDRIVE:switch(t){case"doc":case"docx":return"Google Docs";case"xls":case"xlsx":return"Google Sheets";case"ppt":case"pptx":return"Google Slides";default:return"Google Drive"}case Pe.JIRA:return"Jira Issue";case Pe.NOTION_OPEN_CONNECTOR:return"Notion Page";case Pe.O365:case Pe.O365_PERSONAL:case Pe.O365_BUSINESS:switch(t){case"doc":case"docx":return"Microsoft Word";case"xls":case"xlsx":return"Microsoft Excel";case"ppt":case"pptx":return"Microsoft PowerPoint";default:return"Microsoft OneDrive"}case Pe.SLACK_OPEN_CONNECTOR:return"Slack"}Q3e(e)}function zBe({contextConnector:e,extension:t}){return g.jsx(g.Fragment,{children:t5e(e,t)})}const n5e=en(e=>{const n=Cd(e)?.user,r=xn(e,"1967546325"),i=r.get("gdrivePicker",!1),s=r.get("o365Picker",!1),o=r.get("gdriveLink",!1),a=r.get("o365PersonalLink",!1),l=r.get("o365BusinessLink",!1),c=r.get("testCtor1Link",!1),u=r.get("testCtor2Link",!1),d=r.get("testCtor3Link",!1),f=r.get("oversmokeLink",!1),h=xn(e,"3747383021"),m=We(e,"3544641259")&&h.get("github",!1),v=r.get("gdrivePercentage",0),_=r.get("o365Percentage",0),y=r.get("testCtor1Percentage",0),b=r.get("testCtor2Percentage",0),C=r.get("testCtor3Percentage",0),S=r.get("oversmokePercentage",0),x=r.get("loadTestPercentage",0),w=r.get("showWorkspaceSettings",!1),E=n?r5e(n.id):null;return{confluenceLinkStatus:Ki(c,E,y),gdriveLinkStatus:Ki(o,E,v),gdriveStatus:Ki(i,E,v),jiraLinkStatus:Ki(u,E,b),notionLinkStatus:Ki(d,E,C),o365BusinessLinkStatus:Ki(l,E,_),o365PersonalLinkStatus:Ki(a,E,_),o365Status:Ki(s,E,_),slackLinkStatus:Ki(f,E,S),githubLinkStatus:Ki(m,E,100),loadTest:Ki(!0,E,x)==="true",showWorkspaceSettings:w}});function cE(){const e=me();return n5e(e)}function Ki(e,t,n){return!e||t==null?"false":t<n?"true":"ifConnected"}function r5e(e){const n=i5e(e)%100;return Math.abs(n)}function i5e(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t|=0}return t}const s5e=new Map;function GBe(){const{confluenceLinkStatus:e,gdriveLinkStatus:t,jiraLinkStatus:n,notionLinkStatus:r,o365BusinessLinkStatus:i,o365PersonalLinkStatus:s,slackLinkStatus:o}=cE();return uE(t,i,s,e,n,r,o)}function HBe(){const{gdriveStatus:e,o365Status:t}=cE();return uE(e,t,t)}function o5e(){const{gdriveStatus:e,o365Status:t,confluenceLinkStatus:n,jiraLinkStatus:r,notionLinkStatus:i,slackLinkStatus:s,githubLinkStatus:o}=cE();return uE(e,t,t,o,n,r,i,s)}function uE(e,t,n,r=null,i=null,s=null,o=null,a=null){const l=me(),u=vn(l)?.getWorkspaceId(),d=[Pe.GDRIVE,Pe.O365_PERSONAL,Pe.O365_BUSINESS,...i==="true"||i==="ifConnected"?[Pe.CONFLUENCE]:[],...s==="true"||s==="ifConnected"?[Pe.JIRA]:[],...o==="true"||o==="ifConnected"?[Pe.NOTION_OPEN_CONNECTOR]:[],...a==="true"||a==="ifConnected"?[Pe.SLACK_OPEN_CONNECTOR]:[]],{connectors:f,isLoading:h,error:m,refetch:v}=a5e(d),{data:_,isLoading:y,error:b,refetch:C}=Vg(u),S=!u||_?.beta_settings?.[pa.CONTEXT_CONNECTOR_CONFLUENCE],x=!u||_?.beta_settings?.[pa.CONTEXT_CONNECTOR_GDRIVE],w=!u||_?.beta_settings?.[pa.CONTEXT_CONNECTOR_JIRA],E=!u||_?.beta_settings?.[pa.CONTEXT_CONNECTOR_NOTION],T=!u||_?.beta_settings?.[pa.CONTEXT_CONNECTOR_O365_PERSONAL],O=!u||_?.beta_settings?.[pa.CONTEXT_CONNECTOR_O365_BUSINESS],k=!u||_?.beta_settings?.[pa.CONTEXT_CONNECTOR_SLACK],A=f.get(Pe.CONFLUENCE),I=f.get(Pe.GDRIVE),P=f.get(Pe.JIRA),D=f.get(Pe.NOTION_OPEN_CONNECTOR),R=f.get(Pe.O365_PERSONAL),F=f.get(Pe.O365_BUSINESS),j=f.get(Pe.SLACK_OPEN_CONNECTOR),V=(ge,N)=>ge==="true"||ge==="ifConnected"&&N,B=p.useMemo(()=>{const ge=!!i&&V(i,!!A?.access_token),N=!!I?.access_token,we=V(e,N),ye=!!s&&V(s,!!P?.access_token),X=!!o&&V(o,!!D?.access_token),de=!!(R?.access_token??F?.access_token),ee=V(t,de),ke=V(n,de),se=!!a&&V(a,!!j?.access_token),fe=[ge&&A&&S?[Pe.CONFLUENCE,A]:null,we&&I&&x?[Pe.GDRIVE,I]:null,ye&&P&&w?[Pe.JIRA,P]:null,X&&D&&E?[Pe.NOTION_OPEN_CONNECTOR,D]:null,ke&&R&&T?[Pe.O365_PERSONAL,R]:null,ee&&F&&O?[Pe.O365_BUSINESS,F]:null,se&&j&&k?[Pe.SLACK_OPEN_CONNECTOR,j]:null];return new Map(bq(fe))},[A,i,I,e,P,s,D,o,F,j,t,R,n,S,a,x,E,w,T,O,k]);let M=null,re=v;return m?(M=m,re=v):b&&(M=b,re=C),{connectorConfig:B,isLoading:h||y,error:M,refetch:re}}function a5e(e){const{isUnauthenticated:t}=zh(),{data:n,isLoading:r,error:i,refetch:s}=Nt({queryKey:["fetchConnectorData",e],queryFn:l5e,refetchInterval:30*60*1e3,enabled:!t});return{connectors:p.useMemo(()=>!n||!n.length||i?s5e:new Map(n.map(a=>[a.type,a])),[n,i]),isLoading:r,error:i,refetch:s}}async function l5e({queryKey:e}){const[t,n]=e;let r=null;try{r=await ue.safeGet("/connectors/check",{parameters:{query:{connector_names:n}}})}catch(s){throw G.addAction("Server Error while retrieving context connector entry",{cause:s}),s}return!r||!r.connectors?[]:r.connectors.map(s=>{const{type:o,...a}=s,l=o;if(a.access_token){if(l===Pe.O365_PERSONAL)return{type:l,...a,onedrive_endpoint_hint:{type:"personal",baseUrl:"https://onedrive.live.com",parsedUrl:"https://onedrive.live.com/picker"}};if(l===Pe.O365_BUSINESS){const c=a.onedrive_business_metadata?.base_url;if(c){const u=new URL(c);return{type:l,...a,onedrive_endpoint_hint:{type:"business",baseUrl:c,parsedUrl:`https://${u.hostname}/_layouts/15/FilePicker.aspx`}}}}}return{type:l,...a}})}const lM=10,VBe=4,xS={duration:20,hasCloseButton:!0},c5e=512,$Be=c5e*1024*1024,u5e="application/vnd.google-apps.spreadsheet",d5e="application/vnd.google-apps.presentation",f5e="application/vnd.google-apps.document",h5e=["xlsx","pptx","docx","page","issue"],p5e={[u5e]:"xlsx",[d5e]:"pptx",[f5e]:"docx"};function WBe(e){return e?p5e[e.split(";")[0]]??null:null}function m5e(e){return h5e.includes(e)}function g5e(e){return e&&m5e(e)?e:null}var Vn=(e=>(e[e.None=0]="None",e[e.Multimodal=1]="Multimodal",e[e.Interpreter=2]="Interpreter",e[e.Retrieval=3]="Retrieval",e[e.ContextConnector=4]="ContextConnector",e[e.ProfilePicture=5]="ProfilePicture",e[e.Codex=6]="Codex",e))(Vn||{});function KBe(e){if(e)return{contextConnector:e.context_connector,sourceUrl:e.source_url,syntheticExtension:g5e(e.synthetic_extension),type:e.type}}var xo=(e=>(e.Uploading="uploading",e.Ready="ready",e))(xo||{}),Bb,cM;function v5e(){if(cM)return Bb;cM=1;var e=M9(),t=l0(),n=Sw(),r=ro(),i=Uh();function s(o,a,l,c){if(!r(o))return o;a=t(a,o);for(var u=-1,d=a.length,f=d-1,h=o;h!=null&&++u<d;){var m=i(a[u]),v=l;if(m==="__proto__"||m==="constructor"||m==="prototype")return o;if(u!=f){var _=h[m];v=c?c(_,m,h):void 0,v===void 0&&(v=r(_)?_:n(a[u+1])?[]:{})}e(h,m,v),h=h[m]}return o}return Bb=s,Bb}var Ub,uM;function IV(){if(uM)return Ub;uM=1;var e=jw(),t=v5e(),n=l0();function r(i,s,o){for(var a=-1,l=s.length,c={};++a<l;){var u=s[a],d=e(i,u);o(d,u)&&t(c,n(u,i),d)}return c}return Ub=r,Ub}var qb,dM;function _5e(){if(dM)return qb;dM=1;var e=IV(),t=LB();function n(r,i){return e(r,i,function(s,o){return t(r,o)})}return qb=n,qb}var zb,fM;function y5e(){if(fM)return zb;fM=1;var e=wd(),t=bw(),n=Gi(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return zb=i,zb}var Gb,hM;function b5e(){if(hM)return Gb;hM=1;var e=_w(),t=y5e();function n(r,i,s,o,a){var l=-1,c=r.length;for(s||(s=t),a||(a=[]);++l<c;){var u=r[l];i>0&&s(u)?i>1?n(u,i-1,s,o,a):e(a,u):o||(a[a.length]=u)}return a}return Gb=n,Gb}var Hb,pM;function C5e(){if(pM)return Hb;pM=1;var e=b5e();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Hb=t,Hb}var Vb,mM;function S5e(){if(mM)return Vb;mM=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Vb=e,Vb}var $b,gM;function w5e(){if(gM)return $b;gM=1;var e=S5e(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,a=-1,l=t(o.length-i,0),c=Array(l);++a<l;)c[a]=o[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=o[a];return u[i]=s(c),e(r,this,u)}}return $b=n,$b}var Wb,vM;function E5e(){if(vM)return Wb;vM=1;function e(t){return function(){return t}}return Wb=e,Wb}var Kb,_M;function x5e(){if(_M)return Kb;_M=1;var e=E5e(),t=nG(),n=Bw(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return Kb=r,Kb}var Yb,yM;function k5e(){if(yM)return Yb;yM=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var a=n(),l=t-(a-o);if(o=a,l>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Yb=r,Yb}var Zb,bM;function T5e(){if(bM)return Zb;bM=1;var e=x5e(),t=k5e(),n=t(e);return Zb=n,Zb}var Jb,CM;function O5e(){if(CM)return Jb;CM=1;var e=C5e(),t=w5e(),n=T5e();function r(i){return n(t(i,void 0,e),i+"")}return Jb=r,Jb}var Qb,SM;function A5e(){if(SM)return Qb;SM=1;var e=_5e(),t=O5e(),n=t(function(r,i){return r==null?{}:e(r,i)});return Qb=n,Qb}var I5e=A5e();const M5e=_n(I5e),YBe=["none","delay","indexed"],ZBe=["none","Adaptive","ChunkedCatchup","Punctuation"],R5e={label:"Auto",value:""},N5e="The user has opted in to provide additional feedback on the previous response. Encourage the user to share feedback that you can store in a memory to better meet their needs in future. Use no more than 3 turns. If at any point the user indicates no longer wanting to provide feedback, return to the original topic.",P5e=()=>({fConversationEndpoint:"default",tokenBufferType:null,wordFadeType:null,showCompletionPerfData:!0,forceParagen:!1,forceParagenModel:R5e,forceIndepthFeedback:!1,forceIndepthFeedbackPrompt:N5e,forceRateLimit:!1,recordRendering:!1,recordTransformedConvoJson:!1,resetRateLimits:!1,showDebugConversationTurns:!1,rebaseSystemMessageContent:null,forceUseSearch:null,paragenStreamType:"none",paragenCotSummaryDisplay:"allow",showParagenMetadata:!0,forceShowConvoRating:!1,jsonViewerFilters:{},forceParallelSwitch:"auto",autoSwitcherTreatmentOverride:void 0,juiceScore:null,multimodalJuiceScore:null,apiToolExpansionType:null,...{}}),MV=hn(Cq(P5e,{name:qt.DebugSettings,partialize:e=>M5e(e,["fConversationEndpoint","showCompletionPerfData","jsonViewerFilters","recordRendering","recordTransformedConvoJson"])})),sp=()=>MV.getState(),JBe=e=>MV.setState(e);function QBe(e){return e.startsWith("file-service://")?e.replace("file-service://",""):e.startsWith("sediment://")?e.replace("sediment://",""):e}function XBe(e){return e.startsWith("file_")?"sediment://"+e:"file-service://"+e}function eUe(e){return e.startsWith("file-service://")}function kS(e,t,n){switch(t){case"file_zero_bytes":return e.formatMessage(er.fileZeroBytes,n);case"file_too_large":return e.formatMessage(er.fileTooLarge,n);case"over_user_quota":return e.formatMessage(er.overUserQuota,n);case"file_not_found":case"file_expired":return e.formatMessage(er.fileNotFound,n);case"file_timed_out":return e.formatMessage(er.fileTimedOut,n);case"ace_pod_expired":return e.formatMessage(er.codeInterpreterSessionTimeout,n);case"permission_error":return e.formatMessage(er.permissionError,n);case"default_upload_error":case"file_rejected":return e.formatMessage(er.defaultCreateEntryError,n);case"default_download_link_error":return e.formatMessage(er.defaultDownloadLinkError,n);case"file_empty":return e.formatMessage(er.fileEmpty,n);case"too_many_tokens":return e.formatMessage(er.fileTooManyTokens,n);case"file_encrypted":return e.formatMessage(er.fileEncrypted,n);case"file_corrupted":return e.formatMessage(er.fileCorrupted,n);case"failed_upload_to_blobstore":return e.formatMessage(er.failedUploadToBlobStore,n);case"internal_error":default:return e.formatMessage(er.unknownError)}}function tUe(){const e=it();return p.useCallback((t,n)=>kS(e,t,n),[e])}const nUe=1e3*60*58;async function D5e(e,t,n=!1,r,i,s,o){const[,a,l]=/^(.*?)(\?.*)?$/.exec(e)??[],c=new URLSearchParams(l),u=a.replaceAll("#","*"),d=await ue.safeGet("/files/download/{file_id}",{parameters:{path:{file_id:u},query:{gizmo_id:t,post_id:o,...Object.fromEntries(c.entries()),conversation_id:r,inline:i}},authOption:n?Xt.Anonymous:void 0});if(d.status===Vf.Success||d.status===Vf.Retry)return d;throw new un("Could not get file download link","error_code"in d?d.error_code:"unknown_error")}function rUe(){const{session:e}=Ah(),{isUnauthenticated:t}=zh(),n=Sn();return async(r,i)=>{if(!t&&e==null)return n.danger(er.fileDownloadFailed,{toastId:"file_download_failed"}),!1;try{const s=await D5e(r,void 0,t);if(s.status!==Vf.Success)throw new Error("File is not ready to download: "+JSON.stringify(s));const o=s.download_url,a=document.createElement("a");a.href=o,a.download=i,a.click(),window.open(o,"_blank")}catch{return n.danger(er.fileDownloadFailed,{toastId:"file_download_failed"}),!1}return!0}}function dE(e,t){return(t?.kind===cn.GizmoInteraction||t?.kind===cn.GizmoTest)&&!(t?.gizmo&&FG(t?.gizmo))?t.gizmo?.product_features:e?.product_features}function iUe(e,t,n){const r=dE(e,t);return n===ve.Research?Vn.Retrieval:r?.attachments?.type===Fl.CodeInterpreter?Vn.Interpreter:r?.attachments?.type===Fl.Multimodal?Vn.Multimodal:r?.attachments?.type===Fl.Retrieval?Vn.Retrieval:r?.attachments?.type===Fl.ContextConnector?Vn.ContextConnector:Vn.None}function RV(e){const t=e.split(".").pop()?.toLowerCase();return{md:"text/markdown",java:"text/x-java",py:"text/x-script.python",c:"text/x-c",cpp:"text/x-c++",h:"text/x-c++",php:"text/x-php",rb:"text/x-ruby",tex:"application/x-latext",ts:"text/x-typescript",cs:"text/x-csharp",go:"text/x-go",rs:"text/x-rust",scala:"application/x-scala",kt:"text/x-kotlin",swift:"text/x-swift",lua:"text/x-lua",r:"text/x-r",jl:"text/x-julia",pl:"text/x-perl",sh:"text/x-shellscript",m:"text/x-objectivec",mm:"text/x-objectivec++",erl:"text/x-erlang",ex:"text/x-elixir",exs:"text/x-elixir",hs:"text/x-haskell",clj:"text/x-clojure",groovy:"text/x-groovy",dart:"text/x-dart",bash:"text/x-shellscript",jsx:"text/jsx",tsx:"text/tsx",hbs:"text/x-handlebars",handlebars:"text/x-handlebars",mustache:"text/x-mustache",ejs:"text/x-ejs",j2:"text/x-jinja2",jinja:"text/x-jinja2",jinja2:"text/x-jinja2",liquid:"text/x-liquid",erb:"text/x-erb",twig:"text/x-twig",pug:"text/x-pug",jade:"text/x-jade",tmpl:"text/x-tmpl",json:"application/json",yml:"application/x-yaml",yaml:"application/x-yaml",toml:"application/toml",ini:"text/plain",properties:"text/plain",env:"text/plain",xml:"text/xml",conf:"text/plain",log:"text/plain",txt:"text/plain",astro:"text/x-astro"}[t??""]||""}function L5e(e){switch(e){case"application/vnd.google-apps.spreadsheet":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"application/vnd.google-apps.document":case"application/vnd.google-apps.presentation":return"text/plain";default:return e}}function NV(e,t,n){const r=RV(e);return r&&(t=r),n&&(t=L5e(t)),t}function F5e(e,t,n,r,i){if(i==null)return e;const s=NV(t,n,r),{accepted_mime_types:o,can_accept_all_mime_types:a}=i;return o==null||o.length===0||!a||o.includes(s)?e:Vn.Interpreter}function sUe(e,t,n,r){const i=NV(n,t,r),s=e?.product_features?.attachments;if(s!=null)return s.accepted_mime_types?.includes(i)?s.type:s.image_mime_types?.includes(i)?Fl.Multimodal:Fl.CodeInterpreter}function oUe(e,t){const n=dE(e,t);return n?.attachments?.can_accept_all_mime_types?void 0:n?.attachments?.accepted_mime_types}function aUe(e,t){const n=dE(e,t),{attachments:r}=n??{};return r?.image_mime_types?r.image_mime_types:r?.type==="multimodal"?r.accepted_mime_types??j5e:[]}const j5e=["image/png","image/jpeg","image/gif","image/webp"],wM={"image/jpeg":[".jpg",".jpeg"],"image/svg+xml":[".svg"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":[".pptx"]};function B5e(e){return e.reduce((t,n)=>(n in wM?t[n]=wM[n]:n.includes("/")&&(t[n]=[`.${n.split("/")[1]}`]),t),{})}function lUe(e){return p.useMemo(()=>e===void 0?{}:{accept:B5e(e)},[e])}function fE(e){return e.split(".").pop()?.toLowerCase()}function cUe(e){const t=fE(e);return t!=null&&["jpg","jpeg","png","gif","webp"].includes(t)}function uUe(e){const t=(e??"").toLowerCase();return t==="pdf"?"PDF":t.length===0?"":t.charAt(0).toUpperCase()+t.slice(1)}function dUe(e){const t=fE(e);return t!=null&&["xls","xlsx","csv"].includes(t)}function fUe(e){const t=fE(e);return t!=null&&["xls","xlsx"].includes(t)}function PV(e,t,n="fit"){return new Promise((r,i)=>{const s=new FileReader;s.onerror=o=>{G.addError(new Error("File reading has failed:",{cause:o})),i(new Error("Failed to read the file."))},s.onload=o=>{const a=new Image;a.onerror=l=>{G.addError(new Error("Image loading has failed:",{cause:l})),i(new Error("Failed to load the image."))},a.onload=()=>{const l=document.createElement("canvas");let c,u=0,d=0;switch(n){case"fill":c=t/Math.min(a.width,a.height);break;case"square":c=t/Math.min(a.width,a.height);break;case"fit":c=t/Math.max(a.width,a.height);break}const f=a.width*c,h=a.height*c;n==="square"?(l.width=t,l.height=t,u=(t-f)/2,d=(t-h)/2):(l.width=f,l.height=h);const m=l.getContext("2d");if(m==null){G.addError("Canvas context creation failed. Your environment might not fully support HTML5 canvas."),i(new Error("Failed to create canvas context."));return}m.drawImage(a,u,d,f,h);const v=e.type||"image/png";l.toBlob(_=>{_?r(new File([_],e.name,{type:v})):(G.addError("Blob creation failed. Blob is null."),i(new Error("Failed to create blob from image data.")))},v)},o.target==null?(G.addError("Event target is null. Failed to load image."),i("Failed to load image.")):a.src=o.target.result},s.readAsDataURL(e)})}function hUe(e,t){return PV(e,t,"square")}function pUe(e){const t=e.name.split("/")??[];return(t[t.length-1]??"").replace(/[-_]/g," ").split(".")[0]}function U5e(e,t){return t?e.slice(0,-t.length-1):e}function mUe(){const e=me(),t=Wt(e,"3278106051"),n=Wt(e,"2356508715");return p.useMemo(()=>()=>!t.get("allow_receiver_see_user_uploaded_files")&&!n.get("allow_receiver_see_user_uploaded_files"),[t,n])}const er=Ot({defaultCreateEntryError:{id:"fileUpload.defaultCreateEntryError",defaultMessage:"Unable to upload {fileName}"},defaultDownloadLinkError:{id:"fileUpload.defaultDownloadLinkError",defaultMessage:"Failed to get upload status for {fileName}"},unknownError:{id:"fileUpload.unknownError",defaultMessage:"Unknown error occurred"},fileZeroBytes:{id:"fileUpload.fileZeroBytes",defaultMessage:"File is empty"},fileTooLarge:{id:"fileUpload.fileTooLarge",defaultMessage:"File is too large"},overUserQuota:{id:"fileUpload.overUserQuota",defaultMessage:"User quota exceeded"},fileNotFound:{id:"fileUpload.fileNotFound",defaultMessage:"File not found"},fileTimedOut:{id:"fileUpload.fileTimedOut",defaultMessage:"File upload timed out. Please try again."},fileEmpty:{id:"fileUpload.fileEmpty",defaultMessage:"No text could be extracted from this file."},fileTooManyTokens:{id:"fileUpload.fileTooManyTokens",defaultMessage:"This file contains too much text content. Please try again with a smaller file."},fileEncrypted:{id:"fileUpload.fileEncrypted",defaultMessage:"This file is encrypted/requires a password to access. Please try again with an unencrypted file."},fileCorrupted:{id:"fileUpload.fileCorrupted",defaultMessage:"This file is corrupted. Please ensure the file is not corrupted and try again."},codeInterpreterSessionTimeout:{id:"fileUpload.codeInterpreterSessionTimeout",defaultMessage:"Code interpreter session expired"},permissionError:{id:"fileUpload.permissionError",defaultMessage:"Missing permission to access file"},fileDownloadFailed:{id:"filesModal.fileDownloadFailed",defaultMessage:"File download failed. Please try again."},failedUploadToBlobStore:{id:"fileUpload.failedUploadToBlobStore",defaultMessage:"Failed upload to files.oaiusercontent.com. Please ensure your network settings allow access to this site or contact your network administrator."}});let Xb=null;async function q5e(){return Xb||(Xb=(await be(async()=>{const{default:e}=await import("./e8thlmiuh1tetfnu.js");return{default:e}},[])).default),Xb}const um={duration:20,hasCloseButton:!0};function z5e(e){return JSON.stringify({file:e.name,modified:e.lastModified,currentTime:new Date().toString()})}function TS(e){return new Promise((t,n)=>{const r=new FileReader,i=new Image;r.onload=()=>{i.onload=()=>t(i),i.onerror=s=>n(s),i.src=r.result},r.readAsDataURL(e)})}async function G5e(e,t,n,r,i){try{const s=await ue.safePost("/files",{authOption:i?Xt.Anonymous:void 0,requestBody:{file_name:e,file_size:t,use_case:n.kind,gizmo_id:n.kind===Pn.Gizmo?n.gizmoId:void 0,timezone_offset_min:new Date().getTimezoneOffset(),reset_rate_limits:!!r}});if(s.status===Vf.Error)throw K.logEvent("Create File Entry Error",{error_code:s.error_code,error_type_name:"FileServiceErrorResponse",error_msg:s.error_code,error_stack:""}),new un("Could not create file",s.error_code);return s}catch(s){throw s instanceof un||(s instanceof zg?K.logEvent("Create File Entry Error",{error_type_name:"ClientRequestMismatchedAuthError",error_msg:s.message,error_stack:s.stack}):s instanceof vt?K.logEvent("Create File Entry Error",{error_type_name:s.detail?.type==="throttled"?"RequestThrottled":"RequestError",error_msg:s.message,error_stack:s.stack}):s instanceof Error?K.logEvent("Create File Entry Error",{error_type_name:s.name,error_msg:s.message,error_stack:s.stack}):K.logEvent("Create File Entry Error",{error_type_name:"UnknownError",error_msg:String(s),error_stack:""})),s}}function DV(e){const t=e.split("."),n=t[t.length-1];return n==="error"||n==="cancelled"||n==="failed"||n==="unknown"}function LV(e){if(!e)return;let t;if(e.thumbnail&&typeof e.thumbnail=="object"){const r=e.thumbnail,i=r.file_id,s=r.width,o=r.height,a=r.size_bytes;typeof i=="string"&&typeof s=="number"&&typeof o=="number"&&typeof a=="number"&&(t={fileId:i,width:s,height:o,sizeBytes:a})}const n=typeof e.transcript=="string"?e.transcript:void 0;if(t||n)return{thumbnail:t,transcript:n}}async function FV(e,t,n){try{const r=ut.streamedJsonPost(`${dt}/files/process_upload_stream`,e,{authOption:n?Xt.Anonymous:void 0});let i,s,o;for await(const a of r){if(DV(a.event)){const u=`Error stream processing upload: indexing failed: ${a.event}`;throw new un(u,a.event,a.extra)}a.progress!=null&&t?.(a.progress),a?.extra?.total_tokens!=null&&(i=a.extra.total_tokens);const l=a?.extra?.metadata_object_id;typeof l=="string"&&l.length>0&&(o=l);const c=LV(a.extra);c&&(s=c)}return i||s||o?{fileTokenSize:i,libraryFileId:o,thumbnail:s?.thumbnail,transcript:s?.transcript}:void 0}catch(r){throw r instanceof un||r instanceof vt&&r.isClientError()?r:new un(`Error stream processing upload: ${r}`,"stream_process_error")}}async function jV(e,t,n,r,i,s,o){const a={ENTRY_CREATED:10,FILE_UPLOADED:60,FILE_PROCESSED:100};let l=ci.Initial;K.logEvent("Upload File Initiated",{client:"web",useCase:i.kind,uploadEntry:"local"}),_t.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:i.kind,uploadEntry:"local"});const c=o.usesRetrievalIndex??!1,u=c?performance.now():void 0,d=sp().resetRateLimits;try{const{file_id:f,upload_url:h}=await G5e(t.name,t.size,i,!!d,o.isUnauthenticated);s.onFileCreated(e,f,h),l=ci.FileCreated,s.onFileUploadProgress(e,a.ENTRY_CREATED);const m=i.kind===Pn.Gizmo?i.gizmoId:void 0,v={client:"web",useCase:i.kind,uploadEntry:"local",fileId:f,fileSize:t.size};K.logEvent("Blob Store Upload Started",v);const _=C=>C.toLowerCase().includes("/api/estuary/upload_content_and_finalize"),y=C=>C.toLowerCase().includes("/api/estuary/upload_content_bytes");let b;if(_(h)){const{finalStatus:C,metadata:S}=await Y5e({file:t,cdnUrl:h,fileId:f,fileName:t.name,useCaseType:i,shouldIndexForRetrieval:c,gizmoId:m,handlers:s,tempId:e,imageDimensions:o.imageDimensions,milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED}});b=S,l=C}else if(y(h)){const{finalStatus:C,metadata:S}=await K5e({file:t,destinationUrl:h,fileId:f,fileName:t.name,useCaseType:i,shouldIndexForRetrieval:c,gizmoId:m,onOverallProgress:x=>{s.onFileUploadProgress(e,x)},onUploadComplete:()=>{s.onFileUploadProgress(e,a.FILE_UPLOADED)},milestones:{entry:a.ENTRY_CREATED,uploaded:a.FILE_UPLOADED,processed:a.FILE_PROCESSED}});b=S,l=C,s.onFileUploaded(e,f,o.imageDimensions,b)}else{const C=await Z5e(t,h,x=>{s.onFileUploadProgress(e,a.ENTRY_CREATED+(a.FILE_UPLOADED-a.ENTRY_CREATED)*x)});if(s.onFileUploadProgress(e,a.FILE_UPLOADED),C.status!==201)throw K.logEvent("Blob Store Upload Error",{...v,error_type_name:`HTTPStatus${C.status}`,error_msg:`HTTP status ${C.status}: ${C.statusText}`,error_stack:""}),new un("File upload to blobstore failed","failed_upload_to_blobstore");K.logEvent("Blob Store Upload Completed",v),l=ci.FileUploaded;const S={file_id:f,use_case:i.kind,gizmo_id:m,index_for_retrieval:c,file_name:t.name};b=await FV(S,x=>{s.onFileUploadProgress(e,a.FILE_UPLOADED+(a.FILE_PROCESSED-a.FILE_UPLOADED)*x/100)},o.isUnauthenticated),l=ci.FileProcessed,s.onFileUploaded(e,f,o.imageDimensions,b),c&&(l=ci.RetrievalIndexCreated)}u!=null&&dn(Lt())&&ue.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-u,type:"file"}})}catch(f){BV(n,r,t.name,f);let h="NotInstanceOfError";f instanceof vt?h=`${f.name}_${f.status}`:(f instanceof Error||f instanceof un)&&(h=f.name),s.onError(e,"error",h,i,l)}}async function gUe(e,t,n,r,i,s){const{width:o,height:a}=await TS(t);return jV(e,t,n,r,{kind:i},s,{imageDimensions:{width:o,height:a}})}async function H5e(e,t){const n=await ue.safeGet("/files/{file_id}",{parameters:{path:{file_id:e},query:t!=null?{gizmo_id:t}:void 0}});return{name:n.name,status:n.metadata?.retrieval?.status??Fu.Processing,error_code:n.metadata?.retrieval?.error_code,file_size_tokens:n.file_size_tokens}}async function V5e(e,t){const n=Date.now()+6e4,r=s=>new Promise(o=>setTimeout(o,s));let i=0;for(;Date.now()<n;){const s=await H5e(e,t);if(s.status===Fu.Success||s.status===Fu.Skipped)return s;if(s.status===Fu.Failed)throw new un("Context extraction failed",s.error_code);i++,await r(Math.min(1e3,100*i))}throw new un("Retrieval indexing timed out")}function $5e(e){if(e.code==="file.indexing.error"){const t=e.extra?.file_parse_error_code;return typeof t=="string"?t:"file.indexing.error"}return e.code??"internal_error"}function BV(e,t,n,r){if(r instanceof un&&r.code!=null){const i=kS(e,$5e(r));t.danger(i,{...um,toastId:"file_upload_error",loggingTitle:i,loggingDescription:i})}else if(r instanceof vt&&r.detail?.type==="throttled"){const i=r.message,s="file-upload-rate-limit";(t.getToasts?.()??[]).some(a=>String(a.id).startsWith(s)&&a.isShown!==!1)||t.info(i,{...um,id:s,action:Mw.file_upload_rate_limit_upsell_plus})}else if(r instanceof zg){const i=e.formatMessage(OS.noAuthFileUpload);t.info(i,um)}else{const i=kS(e,"default_upload_error",{fileName:n});t.danger(i,{...um,toastId:"file_upload_error",loggingTitle:i,loggingDescription:i})}}const OS=Ot({retrievalSkippedFile:{id:"useFilePickerState.retrievalSkippedFile",defaultMessage:'Unable to extract text from "{fileName}"'},noAuthFileUpload:{id:"useFilePickerState.noAuthFileUpload",defaultMessage:"Log in to analyze files and images for free."}});async function W5e(e){const{file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:l,onUploadComplete:c,milestones:u}=e,d=new FormData;d.append("file",t);const h=new URL(n,window.location.origin).searchParams.get("upload_url")??n;d.append("upload_url",h),d.append("file_id",r),d.append("file_name",i),d.append("use_case",s.kind),d.append("index_for_retrieval",String(!!o)),a&&d.append("gizmo_id",a);const m=Oh(Lt()),v=Vo(),_={[Mg]:v,[Ig]:bd};m&&(_.Authorization=`Bearer ${m}`);const y=qe.getCookie(je.Workspace);typeof y=="string"&&y.trim().length>0&&y.trim()!==Io&&(_["ChatGPT-Account-ID"]=encodeURIComponent(y.trim()));let b=!1;const C=j=>{l(u.entry+(u.uploaded-u.entry)*j)},S=j=>{l(u.uploaded+(u.processed-u.uploaded)*(j/100))},x=1e4,w=120,E=96;let T,O=0,k=!1,A=0,I=0;function P(j){return 1-Math.pow(1-j,3)}function D(){if(!k)return;const j=performance.now()-O,V=Math.min(1,j/x),B=E*P(V),M=Math.max(I,Math.min(E,B),A);if(M>I&&(I=M,S(M)),A>=100){F();return}T=window.setTimeout(D,M>=E&&A===0?w*4:w)}function R(){k||(k=!0,O=performance.now(),D())}function F(j=!1){k=!1,T!==void 0&&(window.clearTimeout(T),T=void 0),j&&(I=100,S(100))}return await new Promise((j,V)=>{const B=new XMLHttpRequest;B.open("POST",n,!0),B.withCredentials=!0;for(const[ee,ke]of Object.entries(_))B.setRequestHeader(ee,ke);let M="",re,ge=!1,N;function we(ee){if(!ge){ge=!0;try{B.abort()}catch{}V(ee instanceof un?ee:new un(`Error stream processing upload: ${String(ee)}`,"stream_process_error"))}}let ye;function X(ee){for(;;){const ke=M.indexOf(`
`);if(ke===-1)break;const se=M.slice(0,ke).trim();if(M=M.slice(ke+1),!!se)try{const fe=JSON.parse(se);if(DV(fe.event)){F(),we(new un(`Error stream processing upload: indexing failed: ${fe.event}`,fe.event,fe.extra));return}fe.progress!=null&&(A=fe.progress,A>I&&(I=A,S(A)),A>=100&&F(!0)),fe.event==="file.processing.metadata"&&(A=100,F(!0)),fe?.extra?.total_tokens!=null&&(re=fe.extra.total_tokens);const he=LV(fe.extra);he&&(N=he);const Oe=fe?.extra?.metadata_object_id;typeof Oe=="string"&&Oe.length>0&&(ye=Oe)}catch{if(!ee){M=se+`
`+M;break}}}}B.upload.onprogress=ee=>{if(!ee.lengthComputable)return;const ke=ee.loaded/ee.total;C(ke),ke===1&&!b&&(b=!0,c(),R())};let de=0;B.onreadystatechange=()=>{if(B.readyState===XMLHttpRequest.LOADING||B.readyState===XMLHttpRequest.DONE){const ee=B.responseText.substring(de);de=B.responseText.length,M+=ee,X(B.readyState===XMLHttpRequest.DONE)}if(B.readyState===XMLHttpRequest.DONE){if(B.status>=400){F(),we(new un("File upload to blobstore failed","failed_upload_to_blobstore"));return}F(I<100),j(re||N||ye?{fileTokenSize:re,libraryFileId:ye,thumbnail:N?.thumbnail,transcript:N?.transcript}:{})}};try{B.send(d)}catch(ee){we(ee)}})}async function K5e(e){const{file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:l,onUploadComplete:c,milestones:u}=e,d=new FormData;d.append("file",t);const h=new URL(n,window.location.origin).searchParams.get("upload_url")??n;d.append("upload_url",h);const m=Oh(Lt()),v=Vo(),_={[Mg]:v,[Ig]:bd};m&&(_.Authorization=`Bearer ${m}`);const y=qe.getCookie(je.Workspace);typeof y=="string"&&y.trim().length>0&&y.trim()!==Io&&(_["ChatGPT-Account-ID"]=encodeURIComponent(y.trim())),await new Promise((x,w)=>{const E=new XMLHttpRequest;E.open("POST",n,!0),E.withCredentials=!0;for(const[T,O]of Object.entries(_))E.setRequestHeader(T,O);E.upload.onprogress=T=>{if(!T.lengthComputable)return;const O=T.loaded/T.total;l(u.entry+(u.uploaded-u.entry)*O),O===1&&c()},E.onreadystatechange=()=>{if(E.readyState===XMLHttpRequest.DONE){if(E.status>=400){w(new un(`File upload to Estuary failed: HTTP ${E.status}`,"failed_upload_to_blobstore"));return}x()}};try{E.send(d)}catch(T){w(T instanceof un?T:new un(`Error uploading to Estuary: ${String(T)}`,"stream_process_error"))}});const b={file_id:r,use_case:s.kind,gizmo_id:a,index_for_retrieval:o,file_name:i},C=await FV(b,x=>{l(u.uploaded+(u.processed-u.uploaded)*x/100)});return{finalStatus:o?ci.RetrievalIndexCreated:ci.FileProcessed,metadata:C}}async function Y5e(e){const{file:t,cdnUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,handlers:l,tempId:c,imageDimensions:u,milestones:d}=e,f=await W5e({file:t,destinationUrl:n,fileId:r,fileName:i,useCaseType:s,shouldIndexForRetrieval:o,gizmoId:a,onOverallProgress:m=>{l.onFileUploadProgress(c,m)},onUploadComplete:()=>{l.onFileUploadProgress(c,d.uploaded)},milestones:d});let h=ci.FileProcessed;return l.onFileUploaded(c,r,u,f),o&&(h=ci.RetrievalIndexCreated),{finalStatus:h,metadata:f}}async function Z5e(e,t,n,r){const i=await q5e();return await i.request({method:"put",url:t,data:e,headers:{"x-ms-blob-type":"BlockBlob","x-ms-version":"2020-04-08","Content-Type":e.type},onUploadProgress:s=>{s.progress!==void 0&&n&&n(s.progress)}}).catch(function(s){let o={...r};throw i&&s instanceof i.AxiosError&&s.response?.status?o={...o,error_type_name:`AxiosHTTPError${s.response.status}`,error_msg:s.message,error_stack:s.stack}:s instanceof Error&&(o={...o,error_type_name:s.name,error_msg:s.message,error_stack:s.stack}),K.logEvent("Blob Store Upload Error",o),new un("File upload to blobstore failed","failed_upload_to_blobstore")})}const{useDebugValue:J5e}=Fe,{useSyncExternalStoreWithSelector:Q5e}=CF,X5e=e=>e;function hE(e,t=X5e,n){const r=Q5e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return J5e(r),r}const EM=(e,t)=>{const n=Ho(e),r=(i,s=t)=>hE(n,i,s);return Object.assign(r,n),r},vUe=(e,t)=>e?EM(e,t):EM,UV={files:[],connectorFileData:{}},qV=p.createContext(null);function _Ue({children:e,initialState:t=UV}){const[n]=p.useState(()=>Ho(()=>t));return g.jsx(qV.Provider,{value:n,children:e})}function zV(){const e=p.useContext(qV);if(e==null)throw new Error("useFilePickerState must be used inside a FilePickerContext");return e}function yUe(e,t){const n=zV();return hE(n,e,t)}const bUe={hasUploadInProgress:({files:e})=>e.some(t=>t.status===xo.Uploading),getReadyFiles:({files:e})=>e.filter(t=>t.status===xo.Ready)},eC=2048;async function xM(e){let t=e,{width:n,height:r}=await TS(t);if(n>eC||r>eC)try{const i=await PV(t,eC),s=await TS(i);n=s.width,r=s.height,t=i}catch(i){G.addError(new Error("Error resizing image:",{cause:i}))}return{file:t,width:n,height:r}}async function e6e(e,t,n,r,i,s,o,a,l){const c=performance.now();K.logEvent("Upload File Initiated",{client:"web",useCase:r.kind,contextConnector:s.contextConnector,fileSourceType:s.type}),_t.logEvent("chatgpt_file_upload_started",null,{client:"web",useCase:r.kind,contextConnector:s.contextConnector,fileSourceType:s.type});let u=ci.Initial;const d=HV(e);try{const f=await ue.safePost("/connectors/upload/{connector_name}",{parameters:{path:{connector_name:s.contextConnector}},requestBody:{id:t,upload_use_case:r.kind,mime_type:n.type,name:n.name,gizmo_id:o,drive_id:s.o365DriveId,manifest:s.manifest}});switch(r.kind===Pn.Gizmo&&(r={...r,kind:i.includes(GV(n))?Pn.Multimodal:Pn.MyFiles}),f.type){case"error":throw t6e(f.error);case"file":{switch(d.onFileCreated(t,f.file.id,"",s.contextConnector),u=ci.FileProcessed,r.kind){case Pn.MyFiles:{d.onFileUploadProgress(t,90);const h=await V5e(f.file.file_id,o);h?.status===Fu.Skipped&&l.danger(a.formatMessage(OS.retrievalSkippedFile,{fileName:h.name}),{...xS,toastId:"retrieval_index_skipped",loggingTitle:OS.retrievalSkippedFile.defaultMessage,loggingDescription:"Retrieval index skipped"}),d.onFileUploaded(t,f.file.file_id,void 0,{fileTokenSize:h.file_size_tokens,mimeType:f.file.mime_type}),u=ci.RetrievalIndexCreated;break}case Pn.Multimodal:{d.onFileUploaded(t,f.file.file_id,{width:512,height:512},{mimeType:f.file.mime_type});break}case Pn.AceUpload:{d.onFileUploaded(t,f.file.file_id,void 0,{mimeType:f.file.mime_type});break}case Pn.DalleAgent:case Pn.Gizmo:case Pn.ProfilePicture:default:throw new un(`Use case not supported by cloud doc: ${r.kind}`)}break}case"folder":throw new un("Folder type not supported")}dn(Lt())&&ue.safePost("/lat/retrieval",{requestBody:{e2e_latency_ms:performance.now()-c,type:s.contextConnector}})}catch(f){G.addError(new Error(`Failed to upload connected file by ${s.contextConnector}`,{cause:f}));const h=U5e(n.name,s?.syntheticExtension);BV(a,l,h,f);let m="NotInstanceOfError";f instanceof vt?m=`${f.name}_${f.status}`:(f instanceof Error||f instanceof un)&&(m=f.name),d.onError(t,"error","connector_upload_"+m,{kind:Pn.MyFiles},u)}}function GV(e){return e.type||RV(e.name)}function t6e({status_code:e,error_code:t,error_message:n}){if(e&&e<500){let r="internal_error";return t?r=t:e===404?r="file_not_found":e===403?r="permission_error":e===413&&(r="file_too_large"),new un(n,r)}else return vt.createWithErrorMessage("/connectors/upload","server",n,void 0,Error(n))}const Ia={reset:e=>{e.setState(UV)},restoreFiles:(e,t)=>{e.setState({files:t})},uploadFile:async(e,t,n,r,i,s,o,a={},l,c,u=!1,d=!1)=>{const{gizmoId:f,isUnauthenticated:h}=a,m=e.getState().files,v=F5e(r,n.name,n.type,c?.contextConnector,l),_={tempId:t,gizmoId:a.gizmoId,status:xo.Uploading,file:n,progress:1,fileId:null,cdnUrl:null,contextConnectorInfo:c,contextConnector:c?.contextConnector,source:u?"library":c?"connector":"local"};if(!u&&m.length===lM)K.logEvent("Uploaded Max Files Error"),o.danger(s.formatMessage(dm.maxUploadsAtATime,{maxUploads:lM,fileName:n.name}),{...xS,toastId:"max_uploads_at_a_time",loggingTitle:dm.maxUploadsAtATime.defaultMessage,loggingDescription:"Max uploads at a time"});else if(!u&&m.some(y=>y.tempId===t))K.logEvent("Uploaded Duplicate File Error"),o.danger(s.formatMessage(dm.duplicateFileAttached,{fileName:n.name.length>20?n.name.slice(0,19)+"…":n.name}),{...xS,toastId:"duplicate_file_attached",loggingTitle:dm.duplicateFileAttached.defaultMessage,loggingDescription:"Duplicate file attached"});else{(v!==Vn.Retrieval?!0:d?u:!0)&&e.setState(({files:S})=>({files:[...S,_]}));let b;const C={isUnauthenticated:h};if(i.includes(n.type)){if(b={kind:Pn.Multimodal},!c){const S=await xM(n);n=S.file,C.imageDimensions={width:S.width,height:S.height}}}else if(["video/mp4","video/quicktime"].includes(n.type)&&i.includes("image/png")&&We(Lt(),"3681682292"))b={kind:"multimodal_video"};else if(v===Vn.Codex){b={kind:Pn.Codex};const S=await xM(n);n=S.file,C.imageDimensions={width:S.width,height:S.height}}else switch(v){case Vn.Multimodal:throw new Error(`Multimodal file upload not supported mime type, ${n.type}
Supported mime types: `+i.join(", "));case Vn.Interpreter:b={kind:Pn.AceUpload};break;case Vn.Retrieval:b={kind:u?Pn.LibraryFiles:Pn.MyFiles},C.usesRetrievalIndex=!0;break;case Vn.ProfilePicture:throw new Error("cannot upload profile picture via uploadFile");case Vn.ContextConnector:case Vn.None:return}f!=null&&(b={kind:Pn.Gizmo,gizmoId:f}),a.skipUpload||(c?await e6e(e,t,n,b,i,c,a.gizmoId,s,o):await jV(t,n,s,o,b,HV(e),C))}},createFileCompleted:(e,t,n,r,i)=>{const s=e.getState().files,o=s.findIndex(l=>l.tempId===t),a=s[o];if(o>=0&&a.status===xo.Uploading){const l=[...s];l.splice(o,1,{...a,progress:10,fileId:n,cdnUrl:r,contextConnector:i}),e.setState({files:l})}},updateProgress:(e,t,n)=>{const r=e.getState().files,i=r.findIndex(o=>o.tempId===t),s=r[i];if(i>=0&&s.status===xo.Uploading){const o=[...r];o.splice(i,1,{...s,progress:n}),e.setState({files:o})}},uploadCompleted:(e,t,n,r,i,s)=>{const o=e.getState().files,a=o.findIndex(l=>l.tempId===t);if(a>=0&&o[a].status===xo.Uploading&&o[a].fileId!=null){const l=o[a],c=[...o],u={...l,tempId:t,status:xo.Ready,progress:100,fileSpec:{name:l.file.name,id:l.fileId,size:l.file.size,contextConnectorInfo:l.contextConnectorInfo,mimeType:i?.mimeType??GV(l.file),...r||{},...i||{}},libraryFileId:i?.libraryFileId??l.libraryFileId};c.splice(a,1,u);const d={...e.getState().connectorFileData};s&&(d[s?.file_id]=s),e.setState({files:c,connectorFileData:d}),K.logEvent("Upload File Completed",{status:l.status,fileId:l.fileId,contextConnector:l.contextConnector??"local"}),_t.logEvent("chatgpt_file_upload_completed",null,{status:l.status,contextConnector:l.contextConnector??"local"})}},remove:(e,t,n,r,i,s)=>{const o=e.getState().files,a=o.findIndex(l=>l.tempId===t);if(a>=0){const l=o[a];n==="error"?(K.logEvent("Upload File Error",{status:l.status,fileId:l.fileId,client:"web",errorClassName:r??"undefined",useCaseType:i,uploadStatus:s??"undefined",contextConnector:l.contextConnector}),_t.logEvent("chatgpt_file_upload_error",null,{client:"web",errorClassName:r??"undefined",useCaseType:i?.kind??"undefined",uploadStatus:s??"undefined",contextConnector:l.contextConnector??"undefined"})):K.logEvent("Remove File",{status:l.status,fileId:l.fileId});const c=[...o];c.splice(a,1),e.setState({files:c})}},attachLibraryFile:(e,t)=>{const n=new File([],t.name,{type:t.mimeType}),r=z5e(n),i=e.getState().files;if(i.some(a=>a.fileId===t.id))return;const s=t.mimeType?.startsWith("image/")===!0,o={tempId:r,status:xo.Ready,file:n,fileId:t.id,cdnUrl:null,progress:100,source:"library",libraryFileId:t.libraryFileId,fileSpec:{id:t.id,name:t.name,size:t.size??0,mimeType:t.mimeType,...s?{width:512,height:512}:{}}};e.setState({files:[...i,o]})}},HV=e=>({onFileCreated:Ia.createFileCompleted.bind(null,e),onFileUploadProgress:Ia.updateProgress.bind(null,e),onFileUploaded:Ia.uploadCompleted.bind(null,e),onError:Ia.remove.bind(null,e)}),dm=Ot({maxUploadsAtATime:{id:"useFilePickerState.maxUploadsAtATime",defaultMessage:"Unable to upload {fileName}. Max {maxUploads} uploads at a time"},duplicateFileAttached:{id:"useFilePickerState.duplicateFileAttached",defaultMessage:"Unable to upload {fileName} because an identical file has already been attached to this message."}}),n6e=Fe.createContext({mode:void 0,getGizmoId:void 0}),r6e=()=>p.useContext(n6e),tC={filePickerStarted:e=>{K.logEvent("Context Connectors: Picker Started",{contextConnector:e})},filePickerLoaded:e=>{K.logEvent("Context Connectors: Picker Loaded",{contextConnector:e})},filePickerPicked:(e,t)=>{K.logEvent("Context Connectors: Picker Picked",{contextConnector:e,numFiles:t})},filePickerCancelled:e=>{K.logEvent("Context Connectors: Picker Cancelled",{contextConnector:e})},linkPasted:e=>{K.logEvent("Context Connectors: Link Pasted",{...e})},linkMetadataFetchStarted:e=>{K.logEvent("Context Connectors: Link Metadata Fetch Started",{contextConnector:e})},linkMetadataFetchSucceeded:(e,t)=>{K.logEvent("Context Connectors: Link Metadata Fetch Succeeded",{contextConnector:e,mimeType:t})},linkMetadataFetchFailed:(e,t)=>{K.logEvent("Context Connectors: Link Metadata Fetch Failed",{contextConnector:e,reason:String(t)})},oauthUpsellButtonClick:(e,t)=>{K.logEvent("Context Connectors: OAuth Upsell Button Click",{contextConnector:e,choice:t})},expiredAccessTokenUsed:(e,t)=>{K.logEvent("Context Connectors: Expired Access Token Used",{contextConnector:e,useCase:t})}};function CUe(e,t,n,r){const i=Sn(),s=it(),{getGizmoId:o}=r6e(),[a,l]=p.useState();p.useEffect(()=>{o?o().then(f=>l(f)):l(void 0)},[o]);const c=wc(t),u=zV();return p.useCallback(f=>{const{docsReferencedByURL:h}=Qt(e)??{};if(h!=null)for(const m of f){const{id:v,type:_,handler:y}=m,b=`${_}:${v}`,C=h[b],x=u.getState().files.find(w=>w.tempId===v);if(C!=null&&C!=="failed"&&x){i.success(s.formatMessage(fm.fileAlreadyAttached),{hasCloseButton:!0});continue}switch(y.type){case"fetch":{It(e,w=>{w.docsReferencedByURL[b]="pending"}),Ia.uploadFile(u,v,new File([],s.formatMessage(fm.fileLoading)),Vn.None,n,s,i,{skipUpload:!0,gizmoId:a},r,{contextConnector:_,sourceUrl:m.url,syntheticExtension:null,type:Wf.Link}),tC.linkMetadataFetchStarted(_),y.tryFetch().then(w=>{if(Ia.remove(u,v,"none"),w==null)return null;const{id:E,title:T,connector:O,mimeType:k,url:A,syntheticExtension:I,o365DriveId:P,manifest:D}=w;tC.linkMetadataFetchSucceeded(_,k),It(e,F=>{F.docsReferencedByURL[b]="fetched"});let R=T;O===Pe.GDRIVE&&(R=I?`${T}.${I}`:T),Ia.uploadFile(u,E,new File([],R,{type:k.split(";")[0]}),Vn.Retrieval,n,s,i,{gizmoId:a},r,{contextConnector:O,sourceUrl:A,syntheticExtension:I,type:Wf.Link,o365DriveId:P,manifest:D})}).catch(w=>{tC.linkMetadataFetchFailed(_,w),w instanceof vt&&w.status===404&&_===Pe.NOTION_OPEN_CONNECTOR?(i.danger(fm.fileNotAccessible,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),c.appendMessageIfNotDismissed({connector:_,type:"not-connected"})):i.danger(fm.fileFetchFailed,{hasCloseButton:!0,toastId:"ccc_use_parsed_document_handler"}),It(e,E=>{E.docsReferencedByURL[b]="failed"}),Ia.remove(u,v,"none")});break}case"prompt":{c.appendMessageIfNotDismissed({connector:_,type:y.message}),It(e,w=>{w.docsReferencedByURL[b]="prompted"});break}}}},[e,u,i,s,n,a,r,c])}const fm=Ot({fileLoading:{id:"CCC.fileLoading",defaultMessage:"Loading…"},fileFetchFailed:{id:"CCC.fileFetchFailed",defaultMessage:"Unable to fetch file information"},fileAlreadyAttached:{id:"CCC.fileAlreadyAttached",defaultMessage:"This file is already a part of your message."},fileNotAccessible:{id:"CCC.fileNotAccessible",defaultMessage:"This document is not accessible by ChatGPT, please make sure the document exists and you have granted ChatGPT the access."}}),VV=()=>{const e=iE(),{connectorConfig:t,isLoading:n,error:r,refetch:i}=o5e(),s=t.has(Pe.CONFLUENCE)&&!e,o=t.has(Pe.GDRIVE)&&!e,a=t.has(Pe.JIRA)&&!e,l=t.has(Pe.NOTION_OPEN_CONNECTOR)&&!e,c=(t.has(Pe.O365_PERSONAL)||t.has(Pe.O365_BUSINESS))&&!e,u=t.has(Pe.SLACK_OPEN_CONNECTOR)&&!e;return{isConfluenceEnabled:s,isGdriveEnabled:o,isJiraEnabled:a,isNotionOpenConnectorEnabled:l,isO365Enabled:c,isSlackOpenConnectorEnabled:u,connectorConfig:t,isLoading:n,hasContextConnectorEnabled:s||o||a||l||c||u,error:r,refetch:i}},SUe=Fn[q.GDRIVE_ACTION_CONNECTOR],wUe=Fn[q.GITHUB_CONNECTOR],EUe=Fn[q.LINEAR_CONNECTOR],xUe=Fn[q.SHAREPOINT_CONNECTOR],kUe=Fn[q.DROPBOX_CONNECTOR],TUe=Fn[q.BOX_CONNECTOR],AS=`#settings/${Ad.Connectors}`,OUe=[q.GDRIVE_ACTION_CONNECTOR,q.GCAL_CONNECTOR,q.GMAIL_CONNECTOR].map(e=>Fn[e]),$V="connector",pE="add-connector-link",i6e="connector-toggle",s6e="create-connector",mE="product-sku",WV="redirectAfter",o6e="system-hint-type",KV="referrer",AUe="toggle-all";var YV=(e=>(e.ConversationFollowup="conversation_followup",e.UpgradeAccountOnboarding="upgrade_account_onboarding",e.JitPluginMessage="jit_plugin_message",e.ConnectorNuxModal="connector_nux_modal",e.SourcesDropdown="sources_dropdown",e.SuggestedPrompts="suggested_prompts",e.SettingsConnectorsTab="settings_connectors_tab",e.ConnectorToggle="connector_toggle",e.Codex="codex",e.AgentConnectBanner="agent_connect_banner",e))(YV||{});const IUe=()=>{const e=zi();return({connectorId:t,redirectAfter:n,systemHintType:r,referrer:i})=>e(ZV(s=>{s.set(pE,"true"),s.set(mE,lr.CONNECTOR_SETTING),t&&s.set($V,t),n&&s.set(WV,n),r&&s.set(o6e,r),i&&s.set(KV,i)}),{replace:!0})},MUe=()=>{const e=zi();return()=>e(ZV(t=>{t.delete(pE),t.delete(mE),t.delete(KV)}),{replace:!0})};function ZV(e){const t=window.location.hash,[n,r]=t.split("?"),i=new URLSearchParams(r);e(i);const s=i.toString();return AS+(s?`?${s}`:"")}const RUe=()=>{const{hash:e}=Rr(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(pE)==="true"},NUe=()=>{const{hash:e}=Rr(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(i6e)==="true"},PUe=()=>{const{hash:e}=Rr(),t=e.indexOf("?");return t===-1?!1:new URLSearchParams(e.substring(t+1)).get(s6e)==="true"},DUe=()=>{const e=zi();return t=>{const n=window.location.hash,[r,i]=n.split("?"),s=new URLSearchParams(i);t?s.set("connector",t):s.delete("connector");const o=s.toString()?`${r}?${s.toString()}`:r;e(o,{replace:!0})}},gE=e=>{const{hash:t}=Rr();return p.useMemo(()=>{const n=t.indexOf("?");return n===-1?void 0:new URLSearchParams(t.slice(n+1)).get(e)??void 0},[t,e])},LUe=()=>gE(WV),FUe=()=>gE(mE),jUe=()=>gE($V),a6e=e=>e.supported_auth.some(t=>t.type==="OAUTH")?"OAUTH":"NONE",l6e=e=>ue.safePost("/aip/connectors/links/noauth",{requestBody:{connector_id:e.id,name:e.name,action_names:e.actions.map(t=>t.name)},additionalHeaders:{[br]:lr.CONNECTOR_SETTING}}),c6e=async({connector:e,redirectAfter:t,shouldRedirectToConnectorDetails:n=!1,onError:r,openPopup:i,toaster:s,intl:o,productSku:a})=>{const l={connectorId:e.id,name:e.name,actionNames:e.connector_type==="MCP"||e.connector_type==="OPEN_API"?e.actions.map(c=>c.name):null,oauthClientId:null,oauthClientScopes:null};return mq({redirectUri:pq(e.id),connectorPlatformParams:l,redirectTo:t||(n?`${AS}?connector=${e.id}`:AS),onError:r,openPopup:i,toaster:s,intl:o,productSku:a})},u6e=async({connector:e,shouldRedirectToConnectorDetails:t=!1,openPopup:n,toaster:r,intl:i})=>{switch(a6e(e)){case"OAUTH":return await c6e({connector:e,redirectAfter:void 0,shouldRedirectToConnectorDetails:t,openPopup:n,toaster:r,intl:i,productSku:lr.CONNECTOR_SETTING}),null;case"NONE":return await l6e(e)}},BUe=(e,t)=>ue.safePost("/accounts/{account_id}/connectors/{connector_id}/publish",{parameters:{path:{account_id:t,connector_id:e}}}),d6e=()=>{const e=Ac(),t=ip(),n=p.useMemo(()=>t.data?.connection_statuses.filter(o=>["google_drive_oauth","google_drive_dwd"].includes(o.user_connection_details.knowledge_connector_type)),[t.data]),r=VV(),i=r.connectorConfig.get(Pe.GDRIVE),s=r.isGdriveEnabled&&!!i;return{isLoading:t.isLoading||r.isLoading,fileUploadConfig:s?i:null,internalKnowledgeEnabled:e,internalKnowledgeConfigs:e&&n?.length?n:null}},UUe=()=>{const e=Ac(),t=ip(),n=t.data?.connection_statuses.some(r=>r.user_connection_details.connection_type==="github_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},qUe=()=>{const e=Ac(),t=ip(),n=t.data?.connection_statuses.some(r=>r.user_connection_details.connection_type==="sharepoint_sync_connector");return{isLoading:t.isLoading,isEnabled:e&&n}},f6e=()=>{const e=VV(),t=e.connectorConfig.get(Pe.O365_PERSONAL),n=e.connectorConfig.get(Pe.O365_BUSINESS);return{isLoading:e.isLoading,personalConfig:e.isO365Enabled&&t?.access_token?t:null,businessConfig:e.isO365Enabled&&n?.access_token?n:null}},zUe=()=>{const e=Ac(),t=Xh(e,lr.CONNECTOR_SETTING),n=hd({fetchValidLinksOnly:!0,productSku:lr.CONNECTOR_SETTING}),{fileUploadConfig:r,internalKnowledgeConfigs:i}=d6e(),s=f6e(),{availableConnectors:o}=F9(),a=(n.connectorLinks.get(Fn[q.GDRIVE_ACTION_CONNECTOR])?.length??0)>0||(i?.filter(_=>_.user_connection_details.auth_status!=="not_connected").length??0)>0,l=(n.connectorLinks.get(Fn[q.SHAREPOINT_CONNECTOR])?.length??0)>0,c=!!r?.access_token,u=!!s.businessConfig?.access_token,d=t.platformConnectors.get(Fn[q.GDRIVE_ACTION_CONNECTOR]),f=d&&d.status!=="DISABLED_BY_ADMIN"||(i?.filter(_=>_.user_connection_details.auth_status==="not_connected").length??0)>0,h=o.some(_=>_.type===q.SHAREPOINT_CONNECTOR&&_.status!=="DISABLED_BY_ADMIN");return{canUpgradeGDrive:c&&!a&&f,canUpgradeSharepoint:u&&!l&&h,isLoading:t.isLoading||n.isLoading}};async function GUe(e){return(await ue.safeGet("/aip/connectors/mcp/oauth_config",{parameters:{query:{mcp_url:e}},additionalHeaders:{[br]:lr.CONNECTOR_SETTING}})).oauth_config}function HUe(e){return ue.safePost("/aip/connectors/mcp/refresh_actions",{requestBody:{link_id:e},additionalHeaders:{[br]:lr.CONNECTOR_SETTING}})}function VUe(e,t){return ue.safePatch("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},requestBody:{actions:t},additionalHeaders:{[br]:lr.CONNECTOR_SETTING}})}function h6e(e){return ue.safeGet("/aip/connectors/{connector_id}/conformance",{parameters:{path:{connector_id:e}},additionalHeaders:{[br]:lr.CONNECTOR_SETTING}})}function p6e(e){return ue.safeDelete("/aip/connectors/{connector_id}",{parameters:{path:{connector_id:e}},additionalHeaders:{[br]:lr.CONNECTOR_SETTING}})}const m6e=Ot({gdriveBrandName:{id:"81dp6y",defaultMessage:"Google Drive"}}),$Ue=(e,t)=>e==="gdrive_action_connector"?t.formatMessage(m6e.gdriveBrandName):e;async function WUe(e,t,n){const r=`https://chat.openai.com/aip/${e.id}/oauth/callback`,i=t,s=await ue.safeGet("/aip/p/{id}/user-settings/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:r,redirect_to:i}}});window.location.href=s.redirect_uri}async function KUe(e,t,n,r){const i=await ue.safeGet("/connectors/{id}/oauth/redirect",{parameters:{path:{id:e.id},query:{redirect_uri:n,entry_point:t,redirect_to:r}}});window.location.href=i.redirect_uri}async function g6e(e,t){e&&await ue.safeDelete("/aip/connectors/links/{link_id}",{parameters:{path:{link_id:e}},additionalHeaders:t?{[br]:t}:void 0})}async function v6e(e,t){await ue.safeDelete("/aip/connectors/links",{requestBody:{connector_id:e},additionalHeaders:t?{[br]:t}:void 0})}function YUe(e){switch(e){case Wf.Link:return"link_paste_popover";case Wf.Picker:return"file_upload_menu"}}async function ZUe(e){await ue.safeDelete("/connectors/user_setting/{connector_name}",{parameters:{path:{connector_name:e}}}),window.location.reload()}function _6e(e,t,n){const{isLoading:r,error:i,refetch:s,platformConnectors:o}=Xh(!0,t,n),a=o.get(e);return{enabled:!!a&&a.status!=="DISABLED_BY_ADMIN",isLoading:r,error:i,refetch:s}}function JUe(e){return _6e(Fn[q.GITHUB_CONNECTOR],e)}function y6e(e,t,n){const r=Qh(),i=it(),s=Sn(),{data:o,isLoading:a,error:l,refetch:c}=Nt({queryKey:["connector-client-data",e],queryFn:async()=>{const u=await ue.safeGet("/aip/connectors/oauth_clients",{parameters:{query:{service:t}},additionalHeaders:n?{[br]:n}:void 0});return u.oauth_clients?u.oauth_clients:(s.danger(i.formatMessage({id:"OfpT7B",defaultMessage:"Request error fetching oauth clients"}),{id:"fetch-oauth-clients-error",duration:3,hasCloseButton:!0}),[])},enabled:r});return{oAuthClients:o,isLoading:a,error:l,refetch:c}}function QUe(e,t,n="/",r,i,s){const{platformConnectors:o,isLoading:a,error:l,refetch:c}=Xh(!0,r),{connectorLinks:u,isLoading:d,error:f,refetch:h}=hd({productSku:r}),{oAuthClients:m,isLoading:v,error:_,refetch:y}=y6e(e,t,r),b=b6e(),C=p.useCallback(()=>{c(),h(),y()},[c,h,y]),S=Fn[e],x=o.get(S),w=u.has(S),E=u.get(S)?.[0]?.id,T=p.useCallback(()=>{E&&b(E,()=>{C()},r)},[b,C,E,r]),O=l??f??_,k=a||d||v,A=p.useCallback(()=>{if(!k){if(!x){i?.();return}if(!m?.length){s?.();return}window.location.hash=`#settings/${Ad.Connectors}?connector=${S}&add-connector-link=true&redirectAfter=${n}&product-sku=${r}&referrer=${YV.Codex}`}},[k,x,m,S,i,s,n,r]);return p.useMemo(()=>({isLoading:k,isConnected:w,openGithubModal:A,error:O,refetch:C,handleDisconnect:T}),[k,w,A,O,C,T])}function XUe(e){"use forget";const t=Te.c(16),n=it(),r=Sn(),i=zge(),{refetch:s}=Xh(!0,e);let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={fetchValidLinksOnly:!0},t[0]=o):o=t[0];const{refetch:a}=hd(o);let l;t[1]!==e?(l={fetchValidLinksOnly:!1,productSku:e},t[1]=e,t[2]=l):l=t[2];const{refetch:c}=hd(l),u=poe(Ec.DeveloperMode);let d;t[3]!==n||t[4]!==u||t[5]!==i||t[6]!==e||t[7]!==r?(d=async m=>{const{supported_auth:v,..._}=m,{connector:y}=await ue.safePost("/aip/connectors/mcp",{requestBody:{..._,auth_request:{supported_auth:v,oauth_client_params:null}},additionalHeaders:e?{[br]:e}:void 0});if(y.supported_auth.length===0){const C=await h6e(y.id);if(!u.data&&!C.implements_retrievable)return await p6e(y.id),{connector:null,link:null,implementsRetrievable:!1}}const b=await u6e({connector:y,shouldRedirectToConnectorDetails:!0,openPopup:i,toaster:r,intl:n});return{connector:y,link:b,implementsRetrievable:!0}},t[3]=n,t[4]=u,t[5]=i,t[6]=e,t[7]=r,t[8]=d):d=t[8];let f;t[9]!==s||t[10]!==c||t[11]!==a?(f=()=>{s(),a(),c()},t[9]=s,t[10]=c,t[11]=a,t[12]=f):f=t[12];let h;return t[13]!==d||t[14]!==f?(h={mutationFn:d,onSettled:f},t[13]=d,t[14]=f,t[15]=h):h=t[15],jn(h)}function eqe(){const e=it(),t=Sn(),n=cr();return async(i,s,o)=>{try{await v6e(i,o),await n.invalidateQueries(),s?.()}catch{t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function b6e(){const e=it(),t=Sn(),n=Cr(),r=hd(),i=cr();return async(o,a,l)=>{try{await g6e(o,l),i.invalidateQueries({queryKey:["fetchConnectorLinkData",n?.normalizedAccountUserId]}),await r.refetch(),a?.()}catch{t.danger(e.formatMessage({id:"Gmong7",defaultMessage:"Error disconnecting connector"}))}}}function tqe(){const e=Cr(),t=it(),n=Sn(),{refetch:r}=Jh({skip:!0});return jn({mutationKey:["upgradeConnectorToSync"],mutationFn:({link:i,user_extension:s})=>e?.isPersonalAccount()?Wa.user_request_connect_upgrade_to_sync({link_id:i.id,user_extension:s}):Wa.user_activate_workspace_connection_and_user({link_id:i.id,user_extension:s}),onMutate:({link:i,isConnectingAndUpgrading:s=!1})=>{K.logEventWithStatsig("Connectors - Upgrade To Sync Initiated","chatgpt_connectors_upgrade_to_sync_initiated",{connector_id:i.connector_id,isConnectingAndUpgrading:s?"true":"false"})},onSuccess:(i,{link:s,isConnectingAndUpgrading:o=!1})=>{r(),n.success(o?t.formatMessage({id:"rfbIpd",defaultMessage:"{connector} is now connected and syncing."},{connector:s.name}):t.formatMessage({id:"yhtO5d",defaultMessage:"{connector} is now syncing."},{connector:s.name})),K.logEventWithStatsig("Connectors - Upgrade To Sync Success","chatgpt_connectors_upgrade_to_sync_success",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})},onError:(i,{link:s,isConnectingAndUpgrading:o=!1})=>{if(o)n.warning(t.formatMessage({id:"wag12O",defaultMessage:"{connector} is now connected, but not syncing. Try enabling sync again."},{connector:s.name}));else{const a=i instanceof vt&&i.status===409?t.formatMessage({id:"Tedt6I",defaultMessage:"Connector name already exists"}):t.formatMessage({id:"tumE6A",defaultMessage:"There was a problem syncing {connector}. Try again later."},{connector:s.name});n.danger(a,{toastId:"upgrade_connector_to_sync",loggingTitle:i instanceof vt&&i.status===409?"Connector name already exists":"There was a problem syncing {connector}. Try again later."})}K.logEventWithStatsig("Connectors - Upgrade To Sync Error","chatgpt_connectors_upgrade_to_sync_error",{connector_id:s.connector_id,isConnectingAndUpgrading:o?"true":"false"})}})}function nqe(){const e=it(),t=Sn(),{refetch:n}=ip(),{refetch:r}=Jh({skip:!0});return async s=>{try{await Wa.user_delete_sync(s),n(),r(),t.success(e.formatMessage({id:"Nktfkq",defaultMessage:"Successfully disabled sync."}))}catch{t.danger({defaultMessage:"Error disabling sync for your connector.",description:"Error message when disabling sync for a connector fails"},{toastId:"disable_sync_on_connector"})}}}function C6e(){const t=Cr()?.isEnterprisey(),{availableConnectors:n}=F9(),{hasConnections:r,isLoading:i}=lG();return t?n.length>0||r&&!i:!0}function rqe({platformConnectors:e,enabled:t}){const{isLoading:n,data:r}=hG(t),{disabledTools:i=[],...s}=r??{},o=cr(),{isPending:a,mutate:l}=jn({mutationFn:async({data:y})=>await wge(y),onSettled:(y,b)=>{const C=["userContext"];y!=null&&!b?o.setQueryData(C,y):o.invalidateQueries({queryKey:C})},onError:y=>(K.logEventWithStatsig("chatgpt_web_disable_auto_connectors_for_teams_error","chatgpt_web_disable_auto_connectors_for_teams_error",{errorMessage:y.message}),y)}),{allAutoConnectors:c,enabledAutoConnectors:u,isLoading:d}=yG({getDisabledAutoConnectors:t}),[f,h]=p.useState(!1),m=p.useMemo(()=>c.filter(y=>e.has(Fn[y])&&e.get(Fn[y])?.status==="DISABLED_BY_ADMIN"),[c,e]),{newDisabledTools:v,maybeNewEnabledTools:_}=p.useMemo(()=>{if(!t)return{newDisabledTools:[],maybeNewEnabledTools:[]};const y=[],b=[];return u.length>0&&u.forEach(C=>{m.includes(C)&&!i.includes(Jp(C)??"")&&y.push(C)}),m.length<c.length&&m.length<c.length&&c.forEach(C=>{!m.includes(C)&&i.includes((Jp(C)??"").concat("_admin_disabled"))&&b.push(C)}),{newDisabledTools:y,maybeNewEnabledTools:b}},[t,u,i,c,m]);p.useEffect(()=>{if(!t||n||a||f||d||v.length===0&&_.length===0)return;const y=new Set(i);_.forEach(b=>{const C=Jp(b);C&&(y.delete(C),y.delete(`${C}_admin_disabled`))}),v.forEach(b=>{const C=Jp(b);C&&(y.add(C),y.add(`${C}_admin_disabled`))}),l({data:{disabledTools:Array.from(y),...s}}),h(!0)},[n,a,l,v,_,s,f,i,d,t])}function S6e(){"use forget";const e=Te.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["userIsInSearchHoldoutWithWebDisabled"],queryFn:E6e,select:w6e},e[0]=t):t=e[0],Nt(t)}function w6e(e){return{userIsInSearchHoldoutWithWebDisabled:e.user_is_in_search_holdout_with_web_disabled??!1}}function E6e(){return ue.safeGet("/user_is_in_search_holdout_with_web_disabled",{authOption:Xt.SendIfAvailable})}function x6e(){"use forget";const e=Te.c(3),t=me(),n=vn(t),r=!dn(t),i=S6e();if(r||n&&!n.isFree()){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a={userIsInSearchHoldoutWithWebDisabled:!1},e[0]=a):a=e[0],a}const s=i.isLoading?!1:i.data?.userIsInSearchHoldoutWithWebDisabled;let o;return e[1]!==s?(o={userIsInSearchHoldoutWithWebDisabled:s},e[1]=s,e[2]=o):o=e[2],o}const k6e=Ho(()=>({}));function T6e(){"use forget";const e=Te.c(58),t=me(),n=AF($o),r=wc(k6e);if(!dn(t)){let b,C,S,x,w,E,T,O;if(e[0]!==t||e[1]!==n){const A=Wt(t,"2526598250");b=n?!0:A.get("single-line",!1),C=A.get("plus-button-label",!1),S=A.get("logged-out-attach-label",!0),x=A.get("logged-out-attach-plus-icon",!1),w=A.get("logged-out-voice-label",!0),E=A.get("logged-out-hide-tool-buttons",!1),T=A.get("font-size","base"),O=A.get("plus-button-adds-files",!1),e[0]=t,e[1]=n,e[2]=b,e[3]=C,e[4]=S,e[5]=x,e[6]=w,e[7]=E,e[8]=T,e[9]=O}else b=e[2],C=e[3],S=e[4],x=e[5],w=e[6],E=e[7],T=e[8],O=e[9];let k;return e[10]!==b||e[11]!==C||e[12]!==S||e[13]!==x||e[14]!==w||e[15]!==E||e[16]!==T||e[17]!==O?(k={isSingleLine:b,plusButtonLabel:C,loggedOutAttachLabel:S,loggedOutAttachPlusIcon:x,loggedOutVoiceLabel:w,loggedOutHideToolButtons:E,fontSize:T,plusButtonAddsFiles:O,attachfileRateLimitMessageVariant:"title_and_description",attachfileRateLimitMessageShowIcon:!0,fullyCollapsedToolMenu:!1,showSlashHint:!1,showModelsInPlusMenu:!1,showSelectedModelInComposer:!1,showModelSlashCommands:!1,showThinkingEffortPicker:!1,hasLegacyEffortDefault:!1},e[10]=b,e[11]=C,e[12]=S,e[13]=x,e[14]=w,e[15]=E,e[16]=T,e[17]=O,e[18]=k):k=e[18],k}let i,s,o,a,l,c,u,d,f,h,m,v;if(e[19]!==t||e[20]!==n||e[21]!==r.attachfileRateLimitMessageShowIcon||e[22]!==r.attachfileRateLimitMessageVariant||e[23]!==r.fontSize||e[24]!==r.fullyCollapsedToolMenu||e[25]!==r.hasLegacyEffortDefault||e[26]!==r.isSingleLine||e[27]!==r.plusButtonLabel||e[28]!==r.showModelSlashCommands||e[29]!==r.showModelsInPlusMenu||e[30]!==r.showSelectedModelInComposer||e[31]!==r.showSlashHint||e[32]!==r.showThinkingEffortPicker){const b=Wt(t,"790459319");l=r.isSingleLine??(n?!0:b.get("single-line",!1)),o=r.fontSize??b.get("font-size","base"),s=r.attachfileRateLimitMessageVariant??b.get("attachfile-rate-limit-message-variant","title_and_description"),i=r.attachfileRateLimitMessageShowIcon??b.get("attachfile-rate-limit-message-show-icon",!0),a=r.fullyCollapsedToolMenu??b.get("fully-collapsed-tool-menu",!1),h=r.showSlashHint??b.get("show-slash-hint",!1),c=r.plusButtonLabel??b.get("plus-button-label",!1),d=r.showModelsInPlusMenu??b.get("models-in-plus-menu",!1),f=r.showSelectedModelInComposer??b.get("show-selected-model-in-composer",!1),u=r.showModelSlashCommands??b.get("model-slash-commands",!1),m=r.showThinkingEffortPicker??b.get("show-juice-control",!1),v=r.hasLegacyEffortDefault??b.get("legacy-juice-default",!1),e[19]=t,e[20]=n,e[21]=r.attachfileRateLimitMessageShowIcon,e[22]=r.attachfileRateLimitMessageVariant,e[23]=r.fontSize,e[24]=r.fullyCollapsedToolMenu,e[25]=r.hasLegacyEffortDefault,e[26]=r.isSingleLine,e[27]=r.plusButtonLabel,e[28]=r.showModelSlashCommands,e[29]=r.showModelsInPlusMenu,e[30]=r.showSelectedModelInComposer,e[31]=r.showSlashHint,e[32]=r.showThinkingEffortPicker,e[33]=i,e[34]=s,e[35]=o,e[36]=a,e[37]=l,e[38]=c,e[39]=u,e[40]=d,e[41]=f,e[42]=h,e[43]=m,e[44]=v}else i=e[33],s=e[34],o=e[35],a=e[36],l=e[37],c=e[38],u=e[39],d=e[40],f=e[41],h=e[42],m=e[43],v=e[44];const _=v;let y;return e[45]!==i||e[46]!==s||e[47]!==o||e[48]!==a||e[49]!==_||e[50]!==l||e[51]!==c||e[52]!==u||e[53]!==d||e[54]!==f||e[55]!==h||e[56]!==m?(y={isSingleLine:l,fontSize:o,attachfileRateLimitMessageVariant:s,attachfileRateLimitMessageShowIcon:i,fullyCollapsedToolMenu:a,showSlashHint:h,plusButtonLabel:c,showModelsInPlusMenu:d,showSelectedModelInComposer:f,showModelSlashCommands:u,showThinkingEffortPicker:m,hasLegacyEffortDefault:_,plusButtonAddsFiles:!1,loggedOutAttachLabel:!0,loggedOutAttachPlusIcon:!1,loggedOutVoiceLabel:!0,loggedOutHideToolButtons:!1},e[45]=i,e[46]=s,e[47]=o,e[48]=a,e[49]=_,e[50]=l,e[51]=c,e[52]=u,e[53]=d,e[54]=f,e[55]=h,e[56]=m,e[57]=y):y=e[57],y}const O6e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M14.0857 8.74999C14.0857 5.80355 11.6972 3.41503 8.75073 3.41503C5.80429 3.41503 3.41577 5.80355 3.41577 8.74999C3.41577 11.6964 5.80429 14.085 8.75073 14.085C11.6972 14.085 14.0857 11.6964 14.0857 8.74999ZM15.4158 8.74999C15.4158 10.3539 14.848 11.8245 13.9041 12.9746L13.9705 13.0303L16.9705 16.0303L17.0564 16.1338C17.2269 16.3919 17.1977 16.7434 16.9705 16.9707C16.7432 17.1975 16.3925 17.226 16.1345 17.0557L16.03 16.9707L13.03 13.9707L12.9753 13.9033C11.8253 14.8472 10.3547 15.415 8.75073 15.415C5.06975 15.415 2.08569 12.431 2.08569 8.74999C2.08569 5.06901 5.06975 2.08495 8.75073 2.08495C12.4317 2.08495 15.4158 5.06901 15.4158 8.74999Z"}));function JV({className:e,inputClassName:t,value:n,onChange:r,onKeyDown:i,onFocus:s,onBlur:o,placeholder:a,id:l,autoFocus:c}){return g.jsxs("div",{className:xe("relative",e),children:[g.jsx(O6e,{className:"icon-sm text-token-text-tertiary absolute start-2 top-1/2 -translate-y-1/2 transform"}),g.jsx("input",{id:l,type:"text",value:n,onKeyDown:i,onChange:r,onFocus:s,onBlur:o,placeholder:a,autoFocus:c,className:xe("rounded-lg border border-gray-200 ps-8 placeholder:text-gray-500 dark:border-gray-600 dark:bg-gray-700",t),autoComplete:"off"})]})}const A6e=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M7.33325 1.8217C7.74579 1.58352 8.25405 1.58352 8.66659 1.8217L13.0175 4.33342C13.43 4.5716 13.6842 5.01203 13.6842 5.48836V10.5118C13.6842 10.9882 13.43 11.4286 13.0175 11.6668L8.66659 14.1785C8.25405 14.4166 7.74579 14.4166 7.33325 14.1785L2.98234 11.6668C2.56983 11.4286 2.31567 10.9882 2.31567 10.5118V5.48836C2.31567 5.01203 2.56983 4.5716 2.98234 4.33342L7.33325 1.8217Z",stroke:"currentColor",strokeWidth:1.2}),p.createElement("path",{d:"M8.41547 5.37106C8.39153 5.15986 8.21293 5.00022 8.0004 5C7.78787 4.99979 7.609 5.15906 7.5846 5.37021C7.4326 6.68853 6.68853 7.4326 5.37021 7.5846C5.15906 7.609 4.99979 7.78787 5 8.0004C5.00022 8.21293 5.15986 8.39153 5.37106 8.41547C6.67067 8.56267 7.46633 9.29953 7.58353 10.6189C7.60267 10.8348 7.78367 11.0002 8.00047 11C8.2172 10.9997 8.39787 10.8339 8.41653 10.6179C8.52913 9.31727 9.31727 8.52913 10.6179 8.41653C10.8339 8.39787 10.9997 8.2172 11 8.00047C11.0002 7.78367 10.8348 7.60267 10.6189 7.58353C9.29953 7.46633 8.56267 6.67067 8.41547 5.37106Z",fill:"currentColor"})),I6e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M9.50052 9.00046C9.71306 9.00069 9.89164 9.16037 9.91556 9.37156C10.0629 10.6708 10.7997 11.4662 12.1187 11.5835C12.3346 11.6026 12.5008 11.7837 12.5005 12.0005C12.5003 12.2172 12.3337 12.3978 12.1177 12.4165C10.8173 12.5292 10.0292 13.3173 9.91654 14.6177C9.89785 14.8336 9.71729 15.0002 9.50052 15.0005C9.28377 15.0007 9.10271 14.8345 9.08353 14.6186C8.96627 13.2996 8.17085 12.5628 6.87162 12.4155C6.66043 12.3916 6.50075 12.213 6.50052 12.0005C6.50031 11.7879 6.65949 11.6088 6.87064 11.5844C8.18858 11.4323 8.93237 10.6885 9.08451 9.37058C9.10886 9.15943 9.28798 9.00025 9.50052 9.00046Z",fill:"currentColor"}),p.createElement("path",{d:"M9.52591 2.56101C10.8927 1.19443 13.1083 1.19443 14.4751 2.56101L21.44 9.52585C22.8061 10.8927 22.8064 13.1084 21.44 14.4751L14.4751 21.4399C13.1085 22.8063 10.8927 22.806 9.52591 21.4399L2.56107 14.4751C1.19449 13.1083 1.19449 10.8926 2.56107 9.52585L9.52591 2.56101ZM13.0611 3.97507C12.4753 3.38954 11.5257 3.38954 10.94 3.97507L3.97513 10.9399C3.3896 11.5257 3.3896 12.4753 3.97513 13.061L10.94 20.0259C11.5258 20.6109 12.4755 20.6112 13.0611 20.0259L20.0259 13.061C20.6113 12.4754 20.611 11.5257 20.0259 10.9399L13.0611 3.97507Z",fill:"currentColor"})),kM=e=>p.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M8 7.33301C8.36819 7.33301 8.66699 7.63181 8.66699 8V10.667C8.66682 11.035 8.36808 11.333 8 11.333C7.63192 11.333 7.33318 11.035 7.33301 10.667V8C7.33301 7.63181 7.63181 7.33301 8 7.33301Z"}),p.createElement("path",{d:"M8 4.66699C8.42342 4.66699 8.7666 5.01018 8.7666 5.43359C8.76646 5.85689 8.42333 6.2002 8 6.2002C7.57667 6.20019 7.23354 5.85689 7.2334 5.43359C7.2334 5.01018 7.57658 4.66699 8 4.66699Z"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.33301C11.6819 1.33301 14.667 4.3181 14.667 8C14.667 11.6819 11.6819 14.667 8 14.667C4.3181 14.667 1.33301 11.6819 1.33301 8C1.33301 4.3181 4.3181 1.33301 8 1.33301ZM8 2.66699C5.05448 2.66699 2.66699 5.05448 2.66699 8C2.66699 10.9455 5.05448 13.333 8 13.333C10.9455 13.333 13.333 10.9455 13.333 8C13.333 5.05448 10.9455 2.66699 8 2.66699Z"})),TM=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M15.11 14.285a.41.41 0 0 1 .78 0c.51 2.865.96 3.315 3.825 3.826.38.12.38.658 0 .778-2.865.511-3.315.961-3.826 3.826a.408.408 0 0 1-.778 0c-.511-2.865-.961-3.315-3.826-3.826a.408.408 0 0 1 0-.778c2.865-.511 3.315-.961 3.826-3.826Zm2.457-12.968a.454.454 0 0 1 .866 0C19 4.5 19.5 5 22.683 5.567a.454.454 0 0 1 0 .866C19.5 7 19 7.5 18.433 10.683a.454.454 0 0 1-.866 0C17 7.5 16.5 7 13.317 6.433a.454.454 0 0 1 0-.866C16.5 5 17 4.5 17.567 1.317Z",fill:"currentColor"}),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.001 4a1 1 0 0 1 .993.887c.192 1.7.701 2.877 1.476 3.665.768.783 1.913 1.3 3.618 1.452a1 1 0 0 1-.002 1.992c-1.675.145-2.849.662-3.638 1.452-.79.79-1.307 1.963-1.452 3.638a1 1 0 0 1-1.992.003c-.152-1.706-.67-2.851-1.452-3.62-.788-.774-1.965-1.283-3.665-1.475a1 1 0 0 1-.002-1.987c1.73-.2 2.878-.709 3.646-1.476.767-.768 1.276-1.916 1.476-3.646A1 1 0 0 1 7 4Zm-2.472 6.998a6.11 6.11 0 0 1 2.468 2.412 6.232 6.232 0 0 1 1.037-1.376 6.232 6.232 0 0 1 1.376-1.036 6.114 6.114 0 0 1-2.412-2.469 6.163 6.163 0 0 1-1.053 1.416 6.163 6.163 0 0 1-1.416 1.053Z",fill:"currentColor"})),M6e=e=>p.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.42a22.323 22.323 0 0 0-2.453 2.127A22.323 22.323 0 0 0 7.42 12a22.32 22.32 0 0 0 2.127 2.453c.807.808 1.636 1.52 2.453 2.128a22.335 22.335 0 0 0 2.453-2.128A22.322 22.322 0 0 0 16.58 12a22.326 22.326 0 0 0-2.127-2.453A22.32 22.32 0 0 0 12 7.42Zm1.751-1.154a24.715 24.715 0 0 1 2.104 1.88 24.722 24.722 0 0 1 1.88 2.103c.316-.55.576-1.085.779-1.59.35-.878.507-1.625.503-2.206-.003-.574-.16-.913-.358-1.111-.199-.199-.537-.356-1.112-.36-.58-.003-1.328.153-2.205.504-.506.203-1.04.464-1.59.78Zm3.983 7.485a24.706 24.706 0 0 1-1.88 2.104 24.727 24.727 0 0 1-2.103 1.88 12.7 12.7 0 0 0 1.59.779c.878.35 1.625.507 2.206.503.574-.003.913-.16 1.111-.358.199-.199.356-.538.36-1.112.003-.58-.154-1.328-.504-2.205a12.688 12.688 0 0 0-.78-1.59ZM12 18.99c.89.57 1.768 1.03 2.605 1.364 1.026.41 2.036.652 2.955.646.925-.006 1.828-.267 2.5-.94.673-.672.934-1.575.94-2.5.006-.919-.236-1.929-.646-2.954A15.688 15.688 0 0 0 18.99 12a15.6 15.6 0 0 0 1.364-2.606c.41-1.025.652-2.035.646-2.954-.006-.925-.267-1.828-.94-2.5-.672-.673-1.575-.934-2.5-.94-.919-.006-1.929.235-2.954.646-.838.335-1.716.795-2.606 1.364a15.69 15.69 0 0 0-2.606-1.364C8.37 3.236 7.36 2.994 6.44 3c-.925.006-1.828.267-2.5.94-.673.672-.934 1.575-.94 2.5-.006.919.235 1.929.646 2.955A15.69 15.69 0 0 0 5.01 12c-.57.89-1.03 1.768-1.364 2.605-.41 1.026-.652 2.036-.646 2.955.006.925.267 1.828.94 2.5.672.673 1.575.934 2.5.94.92.006 1.93-.235 2.955-.646A15.697 15.697 0 0 0 12 18.99Zm-1.751-1.255a24.714 24.714 0 0 1-2.104-1.88 24.713 24.713 0 0 1-1.88-2.104c-.315.55-.576 1.085-.779 1.59-.35.878-.507 1.625-.503 2.206.003.574.16.913.359 1.111.198.199.537.356 1.111.36.58.003 1.328-.153 2.205-.504.506-.203 1.04-.463 1.59-.78Zm-3.983-7.486a24.727 24.727 0 0 1 1.88-2.104 24.724 24.724 0 0 1 2.103-1.88 12.696 12.696 0 0 0-1.59-.779c-.878-.35-1.625-.507-2.206-.503-.574.003-.913.16-1.111.359-.199.198-.356.537-.36 1.111-.003.58.153 1.328.504 2.205.203.506.464 1.04.78 1.59Z",fill:"currentColor"})),QV=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.0012 14.4404C16.0011 13.9504 15.8513 13.4739 15.5735 13.0742L15.4465 12.9082L15.012 12.3877C13.8614 12.8911 12.9152 13.1121 12.0618 13.1562C11.1474 13.2035 10.3804 13.0475 9.66528 12.8857C8.94197 12.7221 8.2815 12.5562 7.4729 12.5146C6.70029 12.475 5.77576 12.5504 4.5686 12.8887L4.55298 12.9082C4.19457 13.3383 3.9984 13.8806 3.99829 14.4404C3.99829 15.7627 5.07059 16.835 6.39282 16.835H13.6077C14.9298 16.8349 16.0012 15.7626 16.0012 14.4404ZM11.8352 3.16504H8.16528V7.72949C8.16528 8.20671 8.01876 8.6713 7.74829 9.06055L7.62427 9.22266L5.93384 11.25C6.52115 11.1756 7.05045 11.1614 7.54028 11.1865C8.48665 11.2351 9.26917 11.432 9.95825 11.5879C10.6556 11.7456 11.2718 11.8653 11.9924 11.8281C12.5791 11.7978 13.2616 11.6591 14.1213 11.3184L12.3752 9.22266C12.0261 8.80363 11.8352 8.27494 11.8352 7.72949V3.16504ZM13.1653 7.72949C13.1653 7.96372 13.2468 8.19111 13.3967 8.37109L16.468 12.0566L16.6653 12.3154C17.0974 12.9371 17.3312 13.6782 17.3313 14.4404C17.3313 16.4971 15.6643 18.1649 13.6077 18.165H6.39282C4.33605 18.165 2.66821 16.4972 2.66821 14.4404C2.66832 13.5694 2.97386 12.7258 3.53149 12.0566L6.60278 8.37109L6.65552 8.30176C6.77186 8.13447 6.83521 7.93464 6.83521 7.72949V3.16504H6.66626C6.29914 3.16486 6.00122 2.86716 6.00122 2.5C6.00122 2.13284 6.29914 1.83514 6.66626 1.83496H13.3333L13.467 1.84863C13.7702 1.91057 13.9983 2.17857 13.9983 2.5C13.9983 2.82143 13.7702 3.08943 13.467 3.15137L13.3333 3.16504H13.1653V7.72949Z"})),iqe=Object.freeze(Object.defineProperty({__proto__:null,default:QV},Symbol.toStringTag,{value:"Module"}));function R6e({modelSwitcherDeny:e}){const t=me(),r=vn(t)?.isPro();switch(e.reason){case Ti.UNSUPPORTED_TOOL_USE:case Ti.UNSUPPORTED_AUDIO:case Ti.UNSUPPORTED_IMAGE:case Ti.UNSUPPORTED_GIZMO:case Ti.UNSUPPORTED_ATTACHMENT:case Ti.UNSUPPORTED_CUSTOM_INSTRUCTIONS:case Ti.UNSUPPORTED_CANVAS:case Ti.UNSUPPORTED_TEMPORARY_CHAT:return g.jsx(g.Fragment,{children:e.description});case nw.RATE_LIMIT:{const{resetsAfter:s}=e,o=new Date(s),a=new Date(s).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});if(r)return g.jsx("div",{children:g.jsx(Ce,{id:"CwSQn9",defaultMessage:"Temporarily limited. Contact <supportEmail>support@openai.com</supportEmail> for help.",values:{supportEmail:l=>g.jsx(vh,{to:"mailto:support@openai.com",className:"underline",children:l})}})});if(qve(o))return g.jsx(Ce,{id:"HUybjA",defaultMessage:"Your limit will reset at {time}",values:{time:a}});if(zve(o))return g.jsx(Ce,{id:"TvYw9K",defaultMessage:"Your limit will reset at {time} tomorrow",values:{time:a}});{const l=o.toLocaleDateString([],{month:"short",day:"numeric"});return g.jsx(Ce,{id:"60ZcZL",defaultMessage:"Your limit will reset on {date}",values:{date:l}})}}}const i=e.description;if(i)return g.jsx(g.Fragment,{children:i})}var Pf=(e=>(e.GPT4o="AG8PqS2q",e.AUTO="auto",e))(Pf||{});const sqe=e=>{const{categoryId:t}=e;return t==="auto"};function oqe(e){return e?.categories.some(({categoryId:t})=>t===Pf.GPT4o)??!1}function XV(e,t){return t!=null?e?.get(t)??null:null}function N6e(e=!1){const t=me(),n=We(t,"1213809372"),r=We(t,"1854238036"),i=Rr(),s=zi(),[,o]=gg();return p.useCallback(({location:a,modelId:l,options:c,extraQueryParams:u=new URLSearchParams})=>{const d=i.pathname.includes("/g/"),f=i.pathname.startsWith("/g/g-p-");if(e||d&&!n&&!r&&!f){K.logNewChatButtonClicked({location:a}),u.toString();const h=new URLSearchParams(u);h.set("model",l),s({pathname:"/",search:"?"+h.toString()},c)}else o(h=>{const m=new URLSearchParams([...u,...h]);return m.set("model",l),m}),K.logNewChatButtonClicked({location:a})},[e,i,s,o,n,r])}function e$(e){const{clientThreadId:t,isGizmo:n=!1}=typeof e=="string"?{clientThreadId:e,isGizmo:!1}:e,{modelsData:r}=Hw({isGizmo:n}),i=Yo(t,s=>s?.modelId);return XV(r?.models,i)??null}function P6e(e){const{clientThreadId:t,isGizmo:n=!1}=typeof e=="string"?{clientThreadId:e,isGizmo:!1}:e;return e$({clientThreadId:t,isGizmo:n})}function D6e(e,t){return e?.enabledTools?.includes(t)??!1}function t$(e){return XV(e?.models,e?.defaultModelSlug)}const L6e="q",aqe="author",n$="project_id",r$="owner_user_id";function hm(e,t,n,r,i){return n&&t&&r&&i&&r!==i?`${md(pd(t))}/shared/c/${e}?${n$}=${t.gizmo.id}&${r$}=${r}`:t?`${md(pd(t))}/c/${e}`:`/c/${e}`}function lqe(e,t,n){returnwindow.location.origin+`${`${md(pd(t))}/shared/c/${e}?${n$}=${t.gizmo.id}&${r$}=${n}`}`}function pd(e){return e.gizmo.short_url??e.gizmo.id??"-"}function md(e){return`/g/${e}`}function cqe(){return"/gpts"}function uqe(){return"/schedules"}function dqe(){return"/gpts/mine"}function i$(e){return e?`/gpts/editor/${e}`:"/gpts/editor"}function fqe(e){const t=F6e();return e==null?t:i$(e)}function F6e(e){return i$(e)}function j6e(e){if(!e)return null;try{return new URL(e).hostname}catch{return null}}function hqe(e){const t=j6e(e);return t?t.replace(/^www\./,""):e}const z0="client-correlated-secret";function OM(){const e=localStorage.getItem(z0);return e==null?e:crypto.subtle.importKey("jwk",JSON.parse(e),{name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"])}async function s$(){OM()==null&&localStorage.setItem(z0,JSON.stringify(await crypto.subtle.exportKey("jwk",await crypto.subtle.generateKey({name:"HMAC",hash:{name:"SHA-512"}},!0,["sign","verify"]))));const t=OM();if(t==null)throw new Error("Failed to get key from storage");return t}function B6e(e){const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++)t[n]=parseInt(e.substr(n*2,2),16);return t.buffer}function U6e(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function q6e(e){const t=new URL(e),n=Nt({queryKey:[z0,"generate-challenge",e.search],queryFn:async()=>U6e(await crypto.subtle.sign("HMAC",await s$(),new TextEncoder().encode(e.search))),staleTime:0});if(n.data!==void 0)return t.hash=n.data,t}function pqe(){const e=location?.search,t=location?.hash;return Nt({queryKey:[z0,"verify-challenge",e,t],queryFn:async()=>typeof e!="string"||typeof t!="string"?!1:crypto.subtle.verify("HMAC",await s$(),B6e(t.slice(1)),new TextEncoder().encode(e))}).data?new URLSearchParams(e):void 0}class kn{static getMyGizmos(){return ft("gizmo_api.get_my_gizmos",()=>ut.get(`${dt}/gizmos?mine=true`))}static getGizmosByUser(t){return ft("gizmo_api.get_gizmos_by_user",()=>ut.get(`${dt}/gizmos/u/${t}`))}static getGizmo(t,n){const r=n?"?draft=true":"";return ft("gizmo_api.get_gizmo",()=>ut.get(`${dt}/gizmos/${t}${r}`))}static shareGizmo(t,n){return ft("gizmo_api.share",()=>ut.post(`${dt}/gizmos/${t}/share`,n))}static getGizmoDiscovery(t,n){const r=new URLSearchParams;return t!=null&&r.set("locale",t),ft("gizmo_api.discovery",()=>ut.get(n?`${Tm}/gizmos/discovery_anon?${r}`:`${Tm}/gizmos/discovery?${r}`,{authOption:Xt.SendIfAvailable}))}static async getGizmoDiscoveryCut(t,n){const r=s=>{const o={};s!=null&&(o.cursor=s),n?.limit!=null&&(o.limit=`${n.limit}`),n?.locale!=null&&(o.locale=n.locale);const a=`${Tm}/gizmos/discovery/${t}`;return ft("gizmo_api.discovery",()=>ut.get(a,{params:o,authOption:Xt.SendIfAvailable}))},i=await r(n?.cursor);return i.list.items.length===0&&i.list.cursor!=null?(await new Promise(s=>setTimeout(s,Math.random()*30)),await r(i.list.cursor)):i}static getGizmoBootstrap(t){return ft("gizmo_api.bootstrap",()=>ut.get(`${dt}/gizmos/bootstrap?limit=${t}`))}static getGizmoPinned(){return ft("gizmo_api.pinned",()=>ut.get(`${dt}/gizmos/pinned`))}static getGizmoSearch(t,n=null){return n?ft("gizmo_api.search_with_cursor",()=>ut.get(`${dt}/gizmos/search?q=${t}&cursor=${n} `)):ft("gizmo_api.search",()=>ut.get(`${dt}/gizmos/search?q=${t}`))}static getGizmoSearchForWorkspace(t,n=null){return n?ft("gizmo_api.search_workspace_cursor",()=>ut.get(`${dt}/gizmos/search?q=${t}&workspace_only=true&cursor=${n}`)):ft("gizmo_api.search_workspace",()=>ut.get(`${dt}/gizmos/search?q=${t}&workspace_only=true`))}static async postGizmoAppeal(t,n,r,i,s){await ft("gizmo_api.appeal",()=>ut.post(`${dt}/gizmos/${n}/appeal`,{reason:r,share_recipient:i,categories:s})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static async postGizmoCancelAppeal(t,n){await ft("gizmo_api.cancel_appeal",()=>ut.post(`${dt}/gizmos/${n}/cancel_appeal`,{})),await t.invalidateQueries({queryKey:["gizmo",{gizmoId:n}]})}static upsertDraft(t,n){return n!==void 0?ft("gizmo_api.upsert_gizmo",()=>ut.post(`${dt}/gizmos?gizmo_id=${n}`,t)):ft("gizmo_api.upsert_gizmo",()=>ut.post(`${dt}/gizmos`,t))}static promoteDraft(t,n){return ft("gizmo_api.promote",()=>ut.post(`${dt}/gizmos/${n}/promote`,t))}static deleteGizmo(t){return ft("gizmo_api.delete_gizmos",()=>ue.safeDelete("/gizmos/{gizmo_id}",{parameters:{path:{gizmo_id:t}}}))}static getBuilderProfile(){return ft("gizmo_api.gizmo_creator_profile",()=>ut.get(`${dt}/gizmo_creator_profile`))}static updateBuilderProfile(t){return ft("gizmo_api.gizmo_creator_profile",()=>ut.post(`${dt}/gizmo_creator_profile`,t))}static unverifySocialAuth(t){return ft("gizmo_api.delete_socials",()=>ue.safeDelete("/gizmo_creator_profile/socials/{verifier_type}",{parameters:{path:{verifier_type:t}}}))}static async updateGizmoSidebar(t,n,r,i,s){const o=await ft("gizmo_api.update_sidebar",()=>ut.post(`${dt}/gizmos/${r}/sidebar`,{action:i}));switch(i){case"keep":K.logEvent("Sidebar Gizmo Keep",{location:s}),n.handleGizmoSidebarKeep(t,r);break;case"hide":K.logEvent("Sidebar Gizmo Hide",{location:s}),n.handleGizmoSidebarHide(t,r);break}return o}static async removeFromRecent(t,n){const r=await ft("gizmo_api.remove_recent",()=>ut.post(`${dt}/gizmos/${n}/remove_recent`,{}));return t.invalidateQueries({queryKey:["gizmos","bootstrap"]}),t.invalidateQueries({queryKey:["gizmos","discovery"]}),r}static fetchOpenAPISpec(t){return ft("gizmo_api.fetch_openapi",()=>ut.post(`${dt}/gizmos/fetch_openapi`,{url:t}))}static validateOpenAPISpec(t){return ft("gizmo_api.validate_openapi",()=>ut.post(`${dt}/gizmos/validate_openapi`,{raw_spec:t}))}static transformToOpenAPISpec(t,n){return ft("gizmo_api.transform_openapi",()=>ut.post(`${dt}/gizmos/transform_openapi`,{...t,auth:n}))}static async doOAuthRedirect(t,n,r,i,s){const o=await ft("gizmo_api.oauth_redirect",()=>ut.post(`${dt}/gizmos/oauth_redirect`,{gizmo_id:t,gizmo_action_id:n,domain:r,redirect_to:i,draft:s}));window.location.href=o.redirect_uri}static async upsertUserActionSettings(t,n,r){return ft("gizmo_api.action_settings",()=>ut.post(`${dt}/gizmos/action_settings`,{gizmo_action_id:t,domain:n,action_settings:r}))}static async getUserActionSettings(t){return ft("gizmo_api.user_action_settings",()=>ut.get(`${dt}/gizmos/user_action_settings?gizmo_id=${t}`))}static async generateCategory(t,n){return ft("gizmo_api.gen_category",()=>ut.post(`${dt}/gizmos/gen_category`,{name:t,instructions:n}))}static async getConversations(t,n=null){return ft("gizmo_api.conversations",()=>ut.get(`${dt}/gizmos/${t}/conversations`,{params:{...n?{cursor:n}:{}}}))}static async getProjectConversations(t,n=null){return ft("gizmo_api.conversations",()=>ut.get(`${dt}/gizmos/${t}/conversations`,{params:{...n?{cursor:n}:{}}}))}static async getCategories(){return ft("gizmo_api.categories",()=>ut.get(`${dt}/gizmos/categories`))}static async getUserReview(t){return ft("gizmo_api.get_gizmo_reviews",()=>ut.get(`${dt}/gizmo_reviews/${t}`))}static async upsertUserReview(t,n,r,i){return ft("gizmo_api.upsert_gizmo_reviews",()=>ut.post(`${dt}/gizmo_reviews/${t}`,{rating:n,message:r,include_from:i}))}static async sendFeedbackEmail(t,n,r){return ft("gizmo_api.feedback",()=>ut.post(`${dt}/gizmos/${t}/feedback`,{message:n,include_from:r}))}static async getAbout(t){return ft("gizmo_api.about",()=>ut.get(`${dt}/gizmos/${t}/about`))}static async getCreatorSlice({creatorId:t}){return ft("gizmo_api.gizmo_creators",()=>ut.get(`${dt}/gizmo_creators/${t}/gizmos`))}static async getVersion({gizmoId:t,version:n}){return n==null?ft("gizmo_api.latest_version",()=>ut.get(`${dt}/gizmos/${t}/version/latest`)):ft("gizmo_api.version",()=>ut.get(`${dt}/gizmos/${t}/version/${n}`))}static async listVersions({gizmoId:t,limit:n,cursor:r}){const i={};return n&&(i.limit=n),r&&(i.cursor=r),ft("gizmo_api.versions",()=>ut.get(`${dt}/gizmos/${t}/versions`,{params:i}))}static async copyGizmo({gizmoId:t}){return ft("gizmo_api.copy",()=>ut.post(`${dt}/gizmos/${t}/copy`))}}async function ft(e,t){return G.addAction(`${e}.start`),t().catch(n=>{throw G.addAction(`${e}.failure`,{error:n}),n})}async function z6e(){const e=await ue.safeGet("/me",{authOption:Xt.SendIfAvailable});return{id:e.id,email:e.email,name:e.name,picture:e.picture,created:e.created,phone_number:e.phone_number,first_name:e.first_name,email_domain_type:["government","professional","education","social","unknown","missing"].includes(e.email_domain_type)?e.email_domain_type:"unknown"}}const G6e=qi({queryKey:["user"],queryFn:z6e,staleTime:1/0});function H6e(){return Nt(G6e).data}const V6e={currentWorkspace:null,subscriptionStatus:null,workspaces:[]};function o$(e){const t=Nt({...Uo(),select:n=>{const r=Xg(n);return{currentWorkspace:r?.data??null,subscriptionStatus:r?.data.subscriptionStatus??null,workspaces:n.accountItems.map(i=>i.data)}}}).data??V6e;return e?e(t):t}const $6e={isBusinessWorkspace:({currentWorkspace:e})=>e!=null?e.structure===$r.WORKSPACE:void 0,isEduPlan:({subscriptionStatus:e})=>jh(e?.planType),isEnterpriseyPlan:({subscriptionStatus:e})=>e!=null&&$g(e.planType),isTeamPlan:({subscriptionStatus:e})=>e?.planType===Ye.SELF_SERVE_BUSINESS,workspaceId:({currentWorkspace:e})=>e!=null?e.id:null,workspaces:({workspaces:e})=>e,accountUserId:({currentWorkspace:e})=>e?.accountUserId};function mqe(){return Cr()?.data.subscriptionStatus.lastActiveSubscription}function W6e(e){return e.email_domain_type==="professional"||e.email_domain_type==="government"||e.email_domain_type==="unknown"}function gqe(e){return e.email_domain_type==="professional"||e.email_domain_type==="unknown"}const vE=e=>{const t=Cr(),n=t?.getWorkspaceId(),r=E_e(),{data:i,isLoading:s}=Vg(n);if(!t?.isWorkspaceAccount())return{hasWorkspacePermission:!0,isLoading:!1};const o=i?.permissions?.includes(e)??!1;return{hasWorkspacePermission:r?o:!0,isLoading:s}},vqe=()=>{const e=Cr(),{hasWorkspacePermission:t,isLoading:n}=vE(Ic.CrudGPT);return{canCreate:e?.hasPaidFeatures()&&t,isLoading:n}};function _qe(e){const{hasWorkspacePermission:t,isLoading:n}=vE(Ic.CrudGPT);return{canDelete:(t&&e?.gizmo.current_user_permission?.can_delete)??!1,isLoading:n}}function yqe(e){const{hasWorkspacePermission:t,isLoading:n}=vE(Ic.CrudGPT);return{canEdit:(t&&e?.gizmo.current_user_permission?.can_write)??!1,isLoading:n}}function bqe(e){return{canViewConfig:e.gizmo.current_user_permission?.can_view_config??!1}}function K6e(e,t,n){const r=t?.name;switch(e){case ii.Link:return n.formatMessage(pm.privacyAnyoneWithLink);case ii.Private:return n.formatMessage(pm.privacyOnlyMe);case ii.Group:case ii.User:return n.formatMessage({id:"B9pJ5o",defaultMessage:"Invite only"});case ii.Marketplace:return n.formatMessage(pm.privacyMarketplace);case ii.Workspace:return n.formatMessage(pm.privacyWorkspace,{workspaceName:r});case ii.WorkspaceLink:return n.formatMessage({id:"T5Eek0",defaultMessage:"Anyone at {workspaceName} with the link"},{workspaceName:r})}}function Cqe(e){const t=it(),n=o$(r=>r.currentWorkspace);return K6e(e,n,t)}function Y6e(e){return"gizmo"in e}function Z6e(e){return"id"in e}function Sqe(e){return`${e.replaceAll(".","_").replaceAll("-","_")}__jit_plugin`}const pm=Ot({privacyOnlyMe:{id:"gizmo.privacyOnlyMe",defaultMessage:"Only me"},privacyAnyoneWithLink:{id:"gizmo.privacyAnyoneWithLink",defaultMessage:"Anyone with a link"},privacyWorkspace:{id:"gizmo.privacyWorkspace",defaultMessage:"Anyone at {workspaceName}"},privacyMarketplace:{id:"gizmo.privacyMarketplace",defaultMessage:"Everyone"}}),wqe="GPT Builder",a$="gizmo-bootstrap",l$=1;function Eqe(e){if(e)return`ChatGPT - ${e}`}function xqe(e){returnwindow.location.origin+`${md(e)}`}function J6e(e,t){return We(e,"491279851")&&oo(t.gizmo.id)?`${md(pd(t))}/project`:md(pd(t))}function kqe(e,t,n){const r=new URLSearchParams;return n!=null&&r.set(L6e,n),q6e(new URL(`${J6e(e,t)}?${r}`,window.location.origin))}function Tqe(e){return`/g/${pd(e)}`}function Oqe(e){return Y6e(e)&&e.gizmo.live_version===0||Z6e(e)&&e.liveVersion===0}function Aqe(e,t){return Nt({queryKey:["gizmos","discovery",{locale:e,isAnon:t}],queryFn:async()=>kn.getGizmoDiscovery(e,t)})}function Iqe({cutId:e,locale:t,limit:n,cursor:r,enabled:i=!0}){return s4({queryKey:["gizmos","discovery",{cutId:e,locale:t,limit:n}],queryFn:async({pageParam:s})=>kn.getGizmoDiscoveryCut(e,{locale:t,cursor:s,limit:n}),initialPageParam:r,getNextPageParam:s=>s.list.cursor??void 0,enabled:i})}const Mqe=en(e=>Th(e,()=>qi({queryKey:["gizmos","discovery",{cutId:"recent",limit:20}],queryFn:()=>kn.getGizmoDiscoveryCut("recent",{limit:20}),enabled:dn(e)}))),Rqe=en(e=>Th(e,()=>qi({queryKey:["gizmos","pinned"],enabled:dn(e),queryFn:kn.getGizmoPinned})));function Ql(e=2){return qi({queryKey:["gizmos","bootstrap"],experimental_prefetchInRender:!0,queryFn:async()=>kn.getGizmoBootstrap(e).then(t=>(G.addFirstTiming("load.gizmoBootstrap"),{gizmos:Object.values(t).flat().filter(r=>r).filter(r=>r.resource.gizmo?.gizmo_type!==Ka.PROJECT).map(r=>({resource:r.resource,flair:r.flair}))}))})}const Nqe=en(e=>Th(e,Ql));function Pqe(){const e=me(),n=We(e,"1524046265")?20:2,r=Ql(n),i=c0(a$,l$,r.queryKey);return Nt({...r,initialData:i})}function Dqe(){const e=me(),n=We(e,"1524046265")?20:2,r=Ql(n),i=c0(a$,l$,r.queryKey);return zY({...r,initialData:i})}function AM(e,t){const n=e.filter(i=>i.resource.gizmo.id!==t.resource.gizmo.id);let r=n.findIndex(i=>i.flair.kind===Nu.Recent);return r===-1&&(r=n.length),n.splice(r,0,t),n}const Lqe={handleGizmoInteracted(e,t){const n=e.getQueryData(Za(e,t).queryKey);n==null||oo(t)||e.setQueryData(Ql().queryKey,r=>{if(r==null)return r;const i=r.gizmos.find(s=>s.resource.gizmo.id===t);return i?.flair.kind===Nu.FirstParty||i?.flair.kind===Nu.SidebarKeep?r:{gizmos:AM(r.gizmos,{resource:n,flair:{kind:Nu.Recent}})}})},handleGizmoSidebarKeep(e,t){const n=e.getQueryData(Za(e,t).queryKey);n!=null&&e.setQueryData(Ql().queryKey,r=>r==null?r:{gizmos:AM(r.gizmos,{resource:n,flair:{kind:Nu.SidebarKeep}})})},handleGizmoSidebarHide(e,t){e.setQueryData(Ql().queryKey,n=>n?.gizmos.some(r=>r.resource.gizmo.id===t)?{gizmos:n.gizmos.filter(r=>r.resource.gizmo.id!==t)}:n)}};function c$(e,t=!1){const n=cr();return Nt(Za(n,e,t))}function Fqe(e){const t=cr(),n=t.getQueryData(Za(t,e).queryKey);if(n?.gizmo?.gizmo_type===Ka.PROJECT)return n}const jqe=({gizmoId:e,limit:t,cursor:n})=>Nt({queryFn:async()=>kn.listVersions({gizmoId:e}),queryKey:["gizmo","versions",{gizmoId:e,limit:t,cursor:n}]});function Bqe({gizmoId:e,draft:t,version:n}){const r=cr(),i=n?{queryKey:["gizmo","version",{gizmoId:e,version:n}],queryFn:async()=>kn.getVersion({gizmoId:e,version:n}),enabled:e!=null}:Za(r,e,t);return Nt(i)}function Uqe(e,t){return Nt({queryKey:["gizmo","userActionSettings",{gizmoId:e}],queryFn:async()=>kn.getUserActionSettings(e),enabled:e!=null&&t})}function Za(e,t,n=!1){return qi({queryKey:["gizmo",{gizmoId:t},{draft:n}],queryFn:async()=>kn.getGizmo(t,n),enabled:t!=null,initialData:()=>{if(n===!0)return;const r=e.getQueryData(Ql().queryKey);if(r!=null)return r.gizmos.find(s=>s.resource.gizmo.id===t)?.resource;const i=e.getQueryData(["gizmos","discovery"]);if(i!=null)for(const s of i.cuts){const o=s.list.items.find(a=>a.resource.gizmo.id===t)?.resource;if(o!=null)return o}}})}function Q6e(e,t){return e.fetchQuery(Za(e,t))}function qqe(e){return Nt({queryKey:["gizmo",{search:e}],queryFn:async()=>kn.getGizmoSearch(e),enabled:e.length>0})}function zqe(e,t){return Nt({queryKey:["gizmo-search-workspace",{search:e}],queryFn:async()=>kn.getGizmoSearchForWorkspace(e),enabled:e.length>0&&t})}function Gqe(e,t=!1,n=!1,r=null){return s4({queryKey:[n?"gizmo-search-workspace":"gizmo",{query:e,cursor:r}],queryFn:async({pageParam:i})=>n?kn.getGizmoSearchForWorkspace(e,r=i):kn.getGizmoSearch(e,r=i),initialPageParam:r,getNextPageParam:i=>i.cursor??void 0,enabled:t})}function Hqe(){const e=cr();return jn({mutationFn:async({gizmoId:t,editorData:n})=>{const{instructions:r,name:i,description:s,emoji:o,theme:a,profilePictureId:l,profilePictureUrl:c,promptStarters:u,tools:d,files:f,defaultModel:h,trainingDisabled:m}=n,v={instructions:r,display:{name:i,description:s,emoji:o,theme:a,profile_pic_id:l,profile_picture_url:c,prompt_starters:u},tools:d,files:f.map(_=>({..._,location:LG.FILE_SERVICE})),training_disabled:m,default_model:h??void 0};return kn.upsertDraft(v,t)},onSettled:t=>{t&&(e.setQueryData(Za(e,t.gizmo.id,!0).queryKey,t),e.invalidateQueries({queryKey:["gizmos","mine"],refetchType:"none"}))}})}function Vqe(){const e=cr();return jn({mutationFn:async({gizmoId:t,data:n})=>{const{sharingRecipient:r,categories:i}=n,s=await kn.promoteDraft({sharing:n.sharingSubjects&&n.sharingSubjects.length>0?n.sharingSubjects:{recipient:r},categories:i},t);if(s.error)throw new O_e(s);return s.resource},onSettled:t=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"}),e.invalidateQueries({queryKey:["gizmos","pinned"],refetchType:"none"}),t&&e.setQueryData(Za(e,t.gizmo.id,!1).queryKey,t)}})}function $qe(){const e=cr();return jn({mutationFn:async({gizmoId:t})=>kn.deleteGizmo(t),onSettled:()=>{e.invalidateQueries({queryKey:["gizmos"],refetchType:"all"})}})}function Wqe(){const e=cr(),t=Sn();return jn({mutationFn:async({name:n,hideName:r,websiteUrl:i,willReceiveSupportEmails:s})=>kn.updateBuilderProfile({name:n,hide_name:r,website_url:i,will_receive_support_emails:s}),onSuccess:n=>{e.setQueryData(["builderProfile"],n)},onError:n=>{t.warning(n.message)}})}function Kqe(){return Nt({queryKey:["builderProfile"],queryFn:async()=>kn.getBuilderProfile()})}function Yqe(){return jn({mutationFn:async({gizmoId:e})=>kn.copyGizmo({gizmoId:e})})}function Zqe(){return Nt({queryKey:["gizmoCategories"],queryFn:async()=>kn.getCategories()})}function Jqe(e,t){const n=me(),r=We(n,"2632917233");return!!(t!=null&&[cn.PrimaryAssistant,cn.GizmoInteraction].includes(t)&&(r||e?.includes(ew.GPT_4)))}function Qqe(e,t){const n=cr(),r=Sn();return jn({mutationFn:async({rating:i,message:s,includeFrom:o})=>{await kn.upsertUserReview(e,i,s,o)},onSuccess:async()=>{n.invalidateQueries({queryKey:["gizmo","review",{gizmoId:e}]})},onError:i=>{r.danger(i.message,{toastId:"gizmo_review_error",loggingTitle:"useUpsertUserReviewMutation",loggingDescription:i.message})}})}function X6e({clientThreadId:e}){const t=Uw(),[n,r]=Yo(e,f=>[Se.getCurrentNode(f)?.message.metadata?.model_switcher_deny,Se.getGizmoId(f)]),i=r??t,{data:s}=c$(i),{data:o}=vle({isGizmo:!!i}),a=it(),l={},c=me(),u=We(c,"891514942"),d=Xre();for(const{resets_after:f,model_slug:h}of d)[lf.CONVERSATION,lf.REGENERATE].forEach(m=>{const v=l[h]??{},_=v[m]??[],y={reason:nw.RATE_LIMIT,resetsAfter:f,isAvailable:!1};_.push(y),v[m]=_,l[h]=v});if(n?.forEach(f=>{const{slug:h,context:m,reason:v,description:_,is_available:y}=f,b=u&&y,C=l[h]??{},S=C[m]??[];S.push({reason:v,description:_,isAvailable:b}),C[m]=S,l[h]=C}),i&&oo(i)){const f=[Ps.GIZMO_PROJECT];s?.files?.length&&f.push(Ps.ATTACHMENT),s?.gizmo.instructions.length&&f.push(Ps.CUSTOM_INSTRUCTIONS),o?.categories.forEach(h=>{const{defaultModel:m,supportedFeatures:v}=h,_=v||[],y=[];if(f.includes(Ps.GIZMO_PROJECT)&&!_.includes(Ps.GIZMO_PROJECT)&&y.push({reason:Ti.UNSUPPORTED_GIZMO,description:a.formatMessage({id:"6w0z4F",defaultMessage:"This model doesn't support projects."}),isAvailable:!1}),f.includes(Ps.ATTACHMENT)&&!_.includes(Ps.ATTACHMENT)&&y.push({reason:Ti.UNSUPPORTED_ATTACHMENT,description:a.formatMessage({id:"ZKjdak",defaultMessage:"This model doesn't support file attachments."}),isAvailable:!1}),f.includes(Ps.CUSTOM_INSTRUCTIONS)&&!_.includes(Ps.CUSTOM_INSTRUCTIONS)&&y.push({reason:Ti.UNSUPPORTED_CUSTOM_INSTRUCTIONS,description:a.formatMessage({id:"zaubcf",defaultMessage:"This model doesn't support custom instructions."}),isAvailable:!1}),y.length){const b=l[m]??{};[lf.CONVERSATION,lf.REGENERATE].forEach(C=>{const S=b[C]??[];S.push(...y),b[C]=S,l[m]=b})}})}return l}function eSe({modelSlug:e,modelSwitcherDenialsBySlug:t}){const n=e?t[e]?.conversation:null;return n?n.every(r=>r.isAvailable===!0):!0}function tSe({currentModel:e,categoryOptions:t,className:n,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i=!1,onModelItemClick:s,preferredModelId:o}){const a=it(),l=e?.id??null,[c,u]=p.useState(""),d=p.useMemo(()=>c?t.filter(f=>f.name.toLowerCase().includes(c.toLowerCase())):t,[t,c]);return g.jsx(Bt.Portal,{children:g.jsxs(Bt.SubContent,{className:xe("flex flex-col pt-0",n),children:[g.jsxs("div",{style:{borderRadius:"inherit"},className:"sticky top-0 z-1 bg-white",children:[g.jsx("div",{className:"p-2",children:g.jsx(JV,{inputClassName:"w-full",value:c,onKeyDown:f=>{f.stopPropagation()},onChange:f=>{u(f.target.value)}})}),g.jsx("hr",{})]}),g.jsxs("div",{className:"scrollbar-gutter-stable w-[min(320px,95vw)] flex-grow overflow-auto",children:[d.length===0&&g.jsx(Bt.Item,{children:a.formatMessage({id:"model-switcher.no-results",defaultMessage:"No results found"})}),d.map(f=>{const{value:h}=f;return"options"in f?g.jsx(Su,{currentModel:e,isSelected:l?.startsWith(h),option:f,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i,onModelItemClick:s,preferredModelId:o},h):g.jsx(ya,{currentModelId:l,isSelected:l===h,value:h,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i,onClick:s,preferredModelId:o,children:f.name},h)})]})]})})}function Su({currentModel:e,option:t,isSelected:n=!1,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i=!1,onModelItemClick:s,preferredModelId:o}){const{name:a,options:l,categoryId:c}=t,u=`${a} Models`,d=()=>g.jsx("div",{className:"flex shrink-0 grow justify-between gap-2",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(QV,{className:"icon"}),u]})});let f;return i&&n&&(f=t.options.find(h=>h.value===e?.id)?.name),g.jsxs(Bt.Sub,{children:[g.jsx(Bt.SubMenuTrigger,{children:g.jsxs("div",{className:xe("flex grow justify-between gap-2 overflow-hidden",i?"items-center break-all":""),children:[c?d():a,n&&g.jsx("div",{className:"text-token-text-tertiary truncate",children:f??e?.title})]})}),g.jsx(tSe,{currentModel:e,categoryOptions:l,modelSwitcherDenialsBySlug:r,displayInFull_INTERNAL_USE_ONLY:i,onModelItemClick:s,preferredModelId:o})]})}function ya({value:e,children:t,icon:n,secondary:r,currentModelId:i,isSelected:s,onClick:o,modelSwitcherDenialsBySlug:a,isUpgradeUpsell:l=!1,testId:c,displayInFull_INTERNAL_USE_ONLY:u=!1,deprecated:d,preferredModelId:f,disabledByAdmin:h}){const m=me(),v=N6e(),_=e?a[e]?.conversation?.[0]:null,y=eSe({modelSlug:e,modelSwitcherDenialsBySlug:a}),b=h||!y,C=Wt(m,"1846737571"),S=moe(),x=We(m,"1333611684"),w=()=>{if(o)o(e);else if(e){K.logEvent("Model Switcher Model Changed",{from:i,to:e}),_t.logEvent("chatgpt_model_switcher_model_changed",e,{from:i??"",to:e});const T=e;x?S.mutate({model_slug:T}):s0e(m,T),v({modelId:T,location:"Model switcher menu item"})}},E=g.jsx(Bt.Item,{onClick:w,disabled:b,className:xe(u&&"break-all"),icon:n,secondary:r,trailingColor:"primary",trailing:l?g.jsx(Vt,{color:"secondary",size:"small",className:C.get("is_upgrade_button_blue",!1)?"border-none bg-blue-600 text-white hover:bg-blue-800":"",children:g.jsx(Ce,{id:"oKo8wt",defaultMessage:"Upgrade"})}):s?g.jsx($9,{className:"icon-sm"}):g.jsx("span",{className:"icon"}),"data-testid":c,children:g.jsxs("span",{className:"flex items-center gap-1",children:[t,e&&e===f&&!s&&!l&&!d&&g.jsx("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700",children:g.jsx(Ce,{id:"model-switcher.preferred",defaultMessage:"GPT creator recommended"})})]})},e);return _?g.jsx(bi,{withArrow:!0,side:"right",sideOffset:-10,label:g.jsx(R6e,{modelSwitcherDeny:_}),children:E}):E}function nSe(e,t){switch(t){case"gpt-4o":return Ci(e).checkGate("1627380539");default:return!1}}function rSe(e){return mS(new URL(e,window.location.origin).searchParams).includes(ve.Search)}var iSe=(e=>(e.DownloadMessages="download-messages",e.InviteUsersToWorkspace="invite-users-to-workspace",e.WorkspaceAppearance="workspace-appearance",e.KeyboardActions="keyboard-actions",e.WorkspaceSwitcher="workspace-switcher",e.ReadOnlyConversationTemplate="read-only-conversation-template",e.CookieManagement="cookie-management",e.AgeVerificationInterstitial="age-verification-interstitial",e.GPTDetails="gpt-details",e.GPTPrivacySettings="gpt-privacy-settings",e.GPTFeedbackEmail="gpt-support-email",e.GPTReview="gpt-review",e.GPTRemoveThirdParty="gpt-remove-third-party",e.SharedConversationModeration="shared-conversation-moderation",e.ReportConversation="report-conversation",e.BlockingInitialComponent="blocking-initial-component",e.NoAuthNewChat="no-auth-new-chat",e.GlobalMemoryOnboarding="global-memory-onboarding",e.AccountPayment="account-payment",e.CreateExclusion="create-exclusion",e.AddServiceAccountKey="add-service-account-key",e.DeleteServiceAccountKey="delete-service-account-key",e.LogoutConfirm="logout-confirm",e.NotificationFeed="notification-feed",e.DeepResearchShare="deep-research-share",e))(iSe||{});function sSe({isOpen:e}){qe.setCookie(je.NavigationState,e?"1":"0",{maxAge:2*365*24*60*60})}const kt=hn()(()=>({isThreadHeaderVisible:!0,isSlideoverSidebarOpen:void 0,isPopoverSidebarOpen:!1,isVoiceActive:!1,isConversationScrolledFromTop:!1,sharingModalThreadId:void 0,deepResearchShareTaskId:void 0,feedbackModalThreadId:void 0,leaveWorkspaceData:null,activeSidebar:!1,activeStageSidebar:!1,activeModals:new Set,isLatencyDevToolsVisible:!1,purchaseWorkspaceData:null,browseMode:"conversation",voiceFeedbackThread:null,lastVoiceSessionStartTime:null,lastVoiceSessionEndTime:null,displayAnnouncementTooltip:null,noAuthMadlibsModalOpen:!1,onboardingConvoState:null,autoHighlightNicknameInput:!1,shouldShowThreadModelPickerDot:!1})),Xqe={isLatencyDevtoolsVisible:e=>e.isLatencyDevToolsVisible},Df={setBrowseMode:e=>{kt.setState(t=>({...t,browseMode:e}))},setIsConversationScrolledFromTop:e=>{kt.setState(t=>({...t,isConversationScrolledFromTop:e}))},enterGizmoEditor:()=>{kt.setState({browseMode:"gizmo-editor"})},exitGizmoEditor:()=>{kt.setState({browseMode:"conversation"})},setAutoHighlightNicknameInput:e=>{kt.setState({autoHighlightNicknameInput:e})},setSidebarOpen(e){oSe()?Df.setPopoverSidebarOpen(e):Df.setSlideoverSidebarOpen(e)},setPopoverSidebarOpen:e=>{kt.setState(({isPopoverSidebarOpen:t})=>({isPopoverSidebarOpen:e??!t}))},setSlideoverSidebarOpen:e=>{kt.setState(({isSlideoverSidebarOpen:t})=>{const n=e??!(t??u$());return sSe({isOpen:n}),K.logToggleDesktopNavCollapsed({isDesktopNavCollapsed:!n,action:"button_click"}),{isSlideoverSidebarOpen:n}}),d$=!1},hideThreadHeader:()=>{kt.setState({isThreadHeaderVisible:!1})},showThreadHeader:()=>{kt.setState({isThreadHeaderVisible:!0})},openSharingModal(e,t){kt.setState({sharingModalThreadId:e}),K.logEvent("Share Conversation: Open Modal",{location:t})},closeSharingModal(){kt.setState({sharingModalThreadId:void 0})},openFeedbackModal(e){kt.setState({feedbackModalThreadId:e})},closeFeedbackModal(){kt.setState({feedbackModalThreadId:void 0})},setLeaveWorkspaceData(e){kt.setState({leaveWorkspaceData:e})},setPurchaseWorkspaceData(e){kt.setState({purchaseWorkspaceData:e})},setActiveSidebar(e){kt.setState({activeSidebar:e})},setThreadModelPickerAlertDot:e=>{kt.setState(({shouldShowThreadModelPickerDot:t})=>(t!==e&&K.logEvent("Notifications: Thread Model Picker Alert Dot",{shown:e}),{shouldShowThreadModelPickerDot:e}))},toggleActiveSidebar(e){kt.setState(t=>({activeSidebar:t.activeSidebar===e?!1:e}))},closeActiveSidebar(){kt.setState(()=>({activeSidebar:!1}))},setActiveStageSidebar(e){kt.setState({activeStageSidebar:e})},toggleModal(e){kt.setState(t=>{const n=new Set(t.activeModals);return n.has(e)?n.delete(e):n.add(e),{activeModals:n}})},openModal(e){kt.setState(t=>{if(t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.add(e),{activeModals:n}})},closeModal(e){kt.setState(t=>{if(!t.activeModals.has(e))return t;const n=new Set(t.activeModals);return n.delete(e),{activeModals:n}})},openDeepResearchShare(e){kt.setState(t=>({...t,deepResearchShareTaskId:e})),Df.openModal("deep-research-share")},closeAllActiveModals(){kt.getState().activeModals.size>0&&kt.setState({activeModals:new Set})},hideLatencyDevTools:()=>{kt.setState({isLatencyDevToolsVisible:!1})},showLatencyDevTools:()=>{kt.setState({isLatencyDevToolsVisible:!0})},showAnnouncementTooltipExclusively(e,t=!1){kt.setState(n=>n.displayAnnouncementTooltip&&!t?n:{displayAnnouncementTooltip:e})},setNoAuthMadlibsModalOpen:e=>{kt.setState({noAuthMadlibsModalOpen:e}),Kt.setItem(qt.NoAuthMadlibsModalState,"seen")},setOnboardingConvoState:e=>{kt.setState({onboardingConvoState:e})}};function eze(e){return kt(t=>t.activeModals.has(e))}function u$(){if(d$)return!1;const e=qe.getCookie(je.NavigationState);return e!=null?e==="1":!0}let d$=rSe(window.location.href);function oSe(){const e=kt.getState().activeStageSidebar,t=Aoe();return e||!t}function aSe(){const e=kt(n=>n.activeStageSidebar),t=wB();return e||!t}function tze(){const e=me(),t=aSe(),n=kt(r=>r.isSlideoverSidebarOpen);return dn(e)&&!t&&(n??u$())}function nze(){return kt(e=>e.activeModals.has("blocking-initial-component"))}function rze(){const[e,t]=p.useState(!1);return p.useEffect(()=>kt.subscribe(n=>{n.activeModals.has("blocking-initial-component")&&t(r=>r||n.activeModals.has("blocking-initial-component"))}),[]),e}const ize=(e,t,n,r)=>{const i=We(e,"2861925050"),s=n?.some(({model_slug:o})=>r?.models.get(o));return!(!i||!s||!t||!t.isTeam())},f$=()=>{const e=Kt.getItem(qt.FinchAdminNotified);return new Date(e??0)},lSe=()=>{const e=new Date;e.setDate(e.getDate()+1),Kt.setItem(qt.FinchAdminNotified,e.toISOString())},cSe=()=>{const e=f$();return Kt.getItem(qt.FinchAdminNotified)!=null&&new Date<=e},sze=()=>{const e=f$();return new Date>e},oze=e=>{switch(e){case"wham":return"wham";case"deep_research":return"deep_research";case"image_gen":return"image_gen";case"gpt-4-5":return"gpt-4-5";default:return null}},uSe=hn(e=>({hasRequestedCredits:cSe(),setHasRequestedCredits:t=>e(()=>({hasRequestedCredits:t}))})),dSe=Fh(()=>be(()=>import("./fxzpa6snawbw4ian.js"),__vite__mapDeps([12,1,13,14,9,10,15,16])).then(e=>e.CreditPurchaseModal)),fSe=()=>{const e=Sn(),t=it(),{hasRequestedCredits:n,setHasRequestedCredits:r}=uSe(),{mutate:i,isPending:s}=jn({mutationFn:o=>ue.safePost("/credits/pleas",{requestBody:{product:o}}),onError:o=>{G.addError(new Error("Error occurred while submitting credit plea request",{cause:o})),e.danger(Ku.errorRequestCredits,{toastId:"teams_credit_plea_button"})},onSuccess:()=>{r(!0),e.success(t.formatMessage(Ku.successRequestCredits)),lSe(),Df.setThreadModelPickerAlertDot(!1)}});return{submitCreditPleaRequest:i,hasRequestedCredits:n,isPending:s}},hSe=({trigger:e,...t})=>{const n=me();p.useEffect(()=>{K.logEventWithStatsig("ChatGPT Credits: Add Credits Button Shown","chatgpt_credits_add_credits_button_shown",{trigger:e})},[e]);const r=()=>{K.logEventWithStatsig("ChatGPT Credits: Add Credits Clicked","chatgpt_credits_add_credits_clicked"),no(n,dSe)};return g.jsx(Vt,{color:"primary",onClick:r,...t,children:g.jsx(Ce,{...Ku.addCredits})})},pSe=({creditConsumingProduct:e,trigger:t,...n})=>{const r=it(),{submitCreditPleaRequest:i,isPending:s,hasRequestedCredits:o}=fSe();p.useEffect(()=>{K.logEventWithStatsig("ChatGPT Credits: Notify Admin Button Shown","chatgpt_credits_notify_admin_button_shown",{trigger:t,creditConsumingProduct:e})},[e,t]);const a=()=>{o||(i(e),K.logEventWithStatsig("ChatGPT Credits: Notify Admin Clicked","chatgpt_credits_notify_admin_clicked"))},l=g.jsx(Vt,{loading:s,color:o?"secondary":"primary",disabled:o,onClick:a,...n,children:o?r.formatMessage(Ku.requested):r.formatMessage(Ku.notifyAdmin)});return o?g.jsx(bi,{className:"w-auto whitespace-nowrap",withArrow:!0,labelTextAlign:"left",contentClassName:"w-[180px]",side:"right",label:r.formatMessage(Ku.alreadyRequested),children:l}):l},Ku=Ot({notifyAdmin:{id:"prompt-textarea.teamsCreditRequestBanner.notifyAdmin",defaultMessage:"Notify admin"},addCredits:{id:"prompt-textarea.teamsCreditRequestBanner.addCredits",defaultMessage:"Add credits"},requested:{id:"prompt-textarea.teamsCreditRequestBanner.requested",defaultMessage:"Requested"},errorRequestCredits:{id:"prompt-textarea.teamsCreditRequestBanner.error",defaultMessage:"Error occurred while submitting credit request"},successRequestCredits:{id:"prompt-textarea.teamsCreditRequestBanner.success",defaultMessage:"Request sent to your admin"},alreadyRequested:{id:"prompt-textarea.teamsCreditRequestBanner.alreadyRequested",defaultMessage:"You’ve already notified your admin"}}),IM="needsCreditsSection",mSe=()=>{const t=Cr()?.isOwnerOfAccount();return g.jsxs(Bt.Item,{className:"pointer-events-none pe-2.5! hover:bg-transparent hover:text-inherit",onSelect:n=>n.preventDefault(),disabled:!0,children:[g.jsx("div",{className:"text-token-text-tertiary text-xs",children:g.jsx(Ce,{...t?MM.ownerDescription:MM.description})}),t?g.jsx(hSe,{size:"small",trigger:"thread-header-dropdown-credits-section"}):g.jsx(pSe,{size:"small",creditConsumingProduct:"gpt-4-5",trigger:"thread-header-dropdown-credits-section"})]})},MM=Ot({description:{id:"prompt-textarea.teamsCreditRequestBanner.label",defaultMessage:"Limits reached. Send a request to your admin to get access"},ownerDescription:{id:"prompt-textarea.teamsCreditRequestBanner.ownerLabel",defaultMessage:"Limits reached. Add credits to your account"}}),gSe="{{.assetPrefix}}/assets/no-auth-upsell-m8ypcpwf.webp",vSe={src:gSe};function _Se(){const e=me();return Wt(e,"3637408529").get("is_login_primary_button",!1)}const ySe=()=>{const e=me();return Wt(e,"1346366956").get("signup_cta_copy","SIGN_UP")},bSe=()=>{const e=me();return Wt(e,"1803944755").get("login_or_signup_cta_copy","LOGIN_OR_SIGNUP")},aze=()=>{switch(bSe()){case"LOGIN_OR_SIGNUP":return RM.loginOrSignup;case"SIGNIN":return RM.signin}},CSe=e=>{switch(ySe()){case"SIGN_UP":return e;case"SIGN_UP_FOR_FREE":return mm.signUpForFreeCta;case"CREATE_ACCOUNT":return mm.createAccountCta;case"CREATE_NEW_ACCOUNT":return mm.createNewAccountCta;case"CREATE_FREE_ACCOUNT":return mm.createFreeAccountCta}},RM=Ot({loginOrSignup:{id:"loginOrSignupCta.loginOrSignup",defaultMessage:"Log in or sign up"},signin:{id:"loginOrSignupCta.signin",defaultMessage:"Sign in"}}),mm=Ot({createAccountCta:{id:"createAccountCta",defaultMessage:"Create account"},createNewAccountCta:{id:"createNewAccountCta",defaultMessage:"Create new account"},createFreeAccountCta:{id:"createFreeAccountCta",defaultMessage:"Create free account"},signUpForFreeCta:{id:"signUpForFreeCta",defaultMessage:"Sign up for free"}});function SSe({statsig_login_event:e,statsig_signup_event:t,location:n}){const r=me(),i=_Se(),s=CSe(NM.signUpCta),o=`no-auth-${n}`,a=zi(),l=_h(r,"2210309751").get("variant","control"),c=()=>{a({hash:L4,search:window.location.search},{state:{[BF]:"NoAuth Model Picker Upsell"}})},u=()=>{uc(r,{fallbackScreenHint:"login",callback:m=>{K.logLogInButtonClicked({location:o,provider:m}),_t.logEvent(e)}})},d=()=>{uc(r,{fallbackScreenHint:"signup",callback:m=>{K.logSignUpButtonClicked({location:o,provider:m}),_t.logEvent(t)}})},f=g.jsx(Vt,{as:"button",size:"medium",color:i?"primary":"secondary",onClick:u,children:g.jsx(Ce,{id:"NavigationContent.unauthLoginCta",defaultMessage:"Log in"})},"login-button"),h=g.jsx(Vt,{as:"button",size:"medium",color:i?"secondary":"primary",onClick:d,children:g.jsx(Ce,{...s})},"signup-button");return g.jsxs("div",{className:"-mt-4 flex max-w-[calc(100vw-2rem)] flex-col",children:[g.jsx("img",{className:"max-xs:hidden h-[132px] object-fill",src:vSe.src,alt:""}),g.jsxs("div",{className:"flex flex-col px-4 pt-5 pb-2",children:[g.jsx("p",{className:"text-token-text-primary mb-1 text-lg font-medium text-pretty",children:g.jsx(Ce,{id:"rwmTbn",defaultMessage:"Try advanced features for free"})}),g.jsx("p",{className:"text-token-text-secondary text-sm text-pretty",children:g.jsx(Ce,{id:"unOBJo",defaultMessage:"Get smarter responses, upload files, create images, and more by logging in."})}),g.jsx("div",{className:"mt-5 flex flex-row justify-start space-x-2",children:i?[f,h]:[h,f]}),l==="model-picker"&&g.jsx("p",{className:"text-token-text-secondary mt-5 text-xs",children:g.jsx(Ce,{...NM.createWorkspaceTeamOrBusiness,values:{createWorkspaceLink:m=>g.jsx("span",{onClick:c,className:"text-token-text-secondary decoration-token-text-primary cursor-pointer underline",children:m})}})})]})]})}const NM=Ot({signUpCta:{id:"NavigationContent.unauthSignupCta",defaultMessage:"Sign up"},createWorkspaceTeamOrBusiness:{id:"components.noAuthUpsell.createWorkspaceTeamOrBusiness",defaultMessage:"<createWorkspaceLink>Create a workspace</createWorkspaceLink> for a team or business"}});function lze(e,t){return We(e,"491279851")&&t&&oo(t)}function wSe(){"use forget";const e=Te.c(2),t=me();let n;return e[0]!==t?(n=We(t,"491279851"),e[0]=t,e[1]=n):n=e[1],n}function ESe(e){"use forget";const t=Te.c(3),n=wSe();if(!e)return!1;let r;return t[0]!==e||t[1]!==n?(r=n&&oo(e),t[0]=e,t[1]=n,t[2]=r):r=t[2],r}function xSe(e,t){return t!=null&&oo(t)&&We(e,"491279851")}const kSe=({isUnauthenticated:e,enabled:t=!0})=>qi({queryKey:["modelMessageCap",e],queryFn:()=>Tie.safeGet("/conversation_limit",{authOption:Xt.SendIfAvailable}),enabled:t});function cze(e){return e.map(t=>typeof t=="string"?t:"").join("")}function TSe(e,t){const n=[];let r=0;for(let i=0;i<e.length;i++){const s=e[i];if(typeof s=="string")if(t!=null&&t<r+s.length){n.push({type:"text",text:s.slice(0,t-r)});break}else n.push({type:"text",text:s}),r+=s.length;else if(s.content_type===zn.ImageAssetPointer){const o=i>0?n[i-1]:null;o?.type==="images"?o.imageAssets.push(s):n.push({type:"images",imageAssets:[s]})}else s.content_type===zn.AudioTranscription&&n.push({type:"transcription",text:s.text})}return n}function uze({isUserTurn:e,parts:t}){if(!e)return TSe(t);const n={text:[],images:[]};for(let i=0;i<t.length;i++){const s=t[i];typeof s=="string"?s.trim().length>0&&n.text.push({type:"text",text:s}):s.content_type===zn.AudioTranscription?n.text.push({type:"transcription",text:s.text}):s.content_type===zn.ImageAssetPointer&&n.images.push(s)}const r=[];return n.images.length>0&&r.unshift({type:"images",imageAssets:n.images}),r.push(...n.text.map(i=>({type:i.type,text:i.text}))),r}function OSe(e){const t=e&&new Date(e),n=t&&new Date(t);return n?`after ${n.getHours()%12||12}:${n.getMinutes()<10?"0":""}${n.getMinutes()} ${n.getHours()>=12?"PM":"AM"}`:"later"}const ASe="gpt-4",ISe="oai/apps/capExpiresAt";hn(()=>({serverThreadIds:new Set}));function MSe(){const e=G0(i=>i.isoDate),t=Date.now(),n=e&&new Date(e).getTime(),r=e&&n&&n<=t;return p.useEffect(()=>{r&&h$()},[r]),r?null:e?ASe:null}const G0=hn()(Cq(()=>({isoDate:""}),{name:ISe}));function RSe(e){G0.setState({isoDate:e})}function h$(){G0.setState({isoDate:""})}function NSe(e){if(e<60)return{type:"minute",value:e,text:e<2?"minute":`${e} minutes`};const t=Math.floor(e/60);if(t<24)return{type:"hour",value:t,text:t<2?"hour":`${t} hours`};const n=Math.floor(t/24);return n<7?{type:"day",value:n,text:n<2?"day":`${n} days`}:{type:"minute",value:e,text:e<2?"minute":`${e} minutes`}}const nC={textarea:"","model-switcher":""};function PSe(){const e=G0(a=>a.isoDate),t=OSe(e),n=it(),r=o$($6e.isEnterpriseyPlan),{isUnauthenticated:i,isLoading:s}=zh(),{data:o}=Nt(kSe({isUnauthenticated:i,enabled:!s}));return p.useMemo(()=>{const a=o?.message_cap??0,l=o?.message_cap_window??1,{text:c,type:u,value:d}=NSe(l),f=o?.message_disclaimer??nC;if(!c||r)return{textareaDisclaimer:f.textarea,modelSwitcherDisclaimer:f["model-switcher"],modelSwitcherLimitShort:""};if(!o||!l||!a)return{textareaDisclaimer:nC.textarea,modelSwitcherDisclaimer:nC["model-switcher"],modelSwitcherLimitShort:""};let h=n.formatMessage(rC.shortLimitMinutes,{numerator:a,denominator:d});switch(u){case"hour":h=n.formatMessage(rC.shortLimitHours,{numerator:a,denominator:d});break;case"day":h=n.formatMessage(rC.shortLimitDays,{numerator:a,denominator:d});break}return{textareaDisclaimer:f.textarea.replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${a}`).replaceAll("%DENOMINATOR%",c),modelSwitcherDisclaimer:f["model-switcher"].replaceAll("%FORMATTED_TIME%",t).replaceAll("%NUMERATOR%",`${a}`).replaceAll("%DENOMINATOR%",c),modelSwitcherLimitShort:h}},[o,t,n,r])}const rC=Ot({shortLimitMinutes:{id:"modelCapMessaging.shortLimitMinutes",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# minute} one {# minute} other {# minutes}}"},shortLimitHours:{id:"modelCapMessaging.shortLimitHours",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# hour} one {# hour} other {# hours}}"},shortLimitDays:{id:"modelCapMessaging.shortLimitDays",defaultMessage:"Limit {numerator, plural, =0 {# message} one {# message} other {# messages}} / {denominator, plural, =0 {# day} one {# day} other {# days}}"}});var yo=(e=>(e.ALPHA="alpha",e.DATA_CAMPAIGNS="data_campaigns",e.EXPERIMENTS="experiments",e.MAINLINE="mainline",e))(yo||{});const PM={code_interpreter_model:{name:"Advanced Data Analysis"},dalle_model:{name:"DALL·E 3"}},DSe=e=>dG(e,({id:t})=>t.split(":").slice(0,1).join(":"));function dze(){const e=Uw(),{modelsData:t}=Hw({isGizmo:!!e}),n=MSe(),{modelSwitcherDisclaimer:r}=PSe();return p.useMemo(()=>{const i=[];if(!t)return i;const{categories:s,groups:o,models:a}=t;for(const l of s){const{defaultModel:c,categoryId:u,label:d}=l,f=a.get(c);if(f){const h=n===c,m=h?[]:LSe(l,a);i.push({categoryId:u,value:c,name:d,description:h?r:f.description,options:[Lf(f,{name:"Default"}),...m]})}}for(const l of o){const{group:c,label:u,modelIds:d}=l,f=d[0],h=[];for(const m of d){const v=a.get(m);v&&!v.tags.includes(ew.HIDDEN)&&h.push(v)}if(c==="experiments"){const m=DSe(h),v=Object.entries(m).map(([_,y])=>{const b=_.split(":").slice(-1)[0];return{key:_,value:b,name:b,options:y.map(C=>{const{title:S}=C;return Lf({...C,title:S.replace(b,"")})})}});i.push({categoryId:c,value:f,name:u,options:v})}else i.push({categoryId:c,value:f,name:u,options:h.map(m=>Lf(m))})}return i},[t,n,r])}function Lf(e,t={}){return{value:e.id,name:e.title,...t}}function LSe(e,t){const n=[],r=e.code_interpreter_model!=null&&t.get(e.code_interpreter_model);if(r){const s=PM.code_interpreter_model;n.push(Lf(r,{name:s.name}))}const i=e.dalle_model!=null&&t.get(e.dalle_model);if(i){const s=PM.dalle_model;n.push(Lf(i,{name:s.name}))}return n}function DM(e,t){let n=e;if(e===_6.AUTO){const s=t?.categories.filter(({defaultModel:o})=>o!==_6.AUTO);s?.length===1&&(n=s[0].defaultModel)}const r=t?.categories.find(({defaultModel:s,supportedModels:o})=>s===n||n&&o?.includes(n));if(r){const{categoryId:s}=r;return{selectedCategory:s,modelLabel:r.shortLabel,fullModelLabel:r.label}}const i=t?.groups.find(({modelIds:s})=>n&&s.includes(n));if(i){const{group:s,shortLabel:o,label:a}=i;return{selectedCategory:s,modelLabel:o,fullModelLabel:a}}return{selectedCategory:null,modelLabel:null,fullModelLabel:null}}function FSe(e,t,n,r){const i=t?e.formatMessage(IS.beta):n?e.formatMessage(IS.alpha):r;if(i)return g.jsx($w,{children:i})}function jSe({category:e,modelSwitcherDenialsBySlug:t,currentGizmoId:n,currentModelId:r,testId:i,preferredModelId:s,disabledByAdmin:o=!1}){const a=it(),{defaultModel:l,label:c,description:u,isBeta:d,isAlpha:f,modelBadge:h}=e,m=oo(n??""),v=me(),_=nSe(v,l),y=g.jsxs(ya,{value:l,currentModelId:r,modelSwitcherDenialsBySlug:t,secondary:u,deprecated:_,disabledByAdmin:o,isSelected:(!n||m)&&r===l,testId:i,preferredModelId:s,children:[c,FSe(a,d,f,h)]},l);return o?g.jsx(bi,{label:a.formatMessage(IS.disabledByAdmin),children:y}):y}function fze({sections:e}){return g.jsx(g.Fragment,{children:e.map((t,n)=>g.jsxs(Fe.Fragment,{children:[n!==0&&e[n-1]?.id!=="model-picker-title"?g.jsx(Bt.Separator,{}):null,t.content]},t.id))})}function p$(){const{session:e}=Ah(),{data:t}=dB();return sB(e?.account?.planType??Ye.FREE)||t&&hB(t)&&!!1}function hze(e,t,n,r,i){const s=it(),o=me(),a=!dn(o),{data:l}=dB(),c=H6e(),u=!a&&!!c&&W6e(c)&&l&&!hB(l)&&_h(o,"3709818006").get("enabled",!1),{session:d}=Ah(),f=d?.user,h=f&&eee(f),m=P6e(e),v=m?.id??null,_=Rfe(e),y=ESe(_);let{modelsData:b}=Hw({isGizmo:!!_&&!y});const C=p$(),S=Tfe(e),x=X6e({clientThreadId:e}),w=b?.modelPickerVersion===2,{gizmoModelsData:E}=gle({enabled:!!_}),T=!S,O=t.find(({categoryId:he})=>he===yo.ALPHA),k=t.find(({categoryId:he})=>he===yo.DATA_CAMPAIGNS),A=t.find(({categoryId:he})=>he===yo.EXPERIMENTS),I=t.find(({categoryId:he})=>he===yo.MAINLINE),[P,D]=p.useState(""),R=Or(()=>!0),F=[O,k,A,I].reduce((he,Oe)=>Oe?[...he,...Oe.options.map(Ze=>({...Ze,badge:Oe.categoryId}))]:he,[]),j=p.useMemo(()=>P?F.filter(he=>he.name.toLowerCase().includes(P.toLowerCase())):F,[F,P]);if(r&&_&&b&&E){const he=JSON.parse(JSON.stringify(b));he.categories=he.categories.filter(({defaultModel:Oe})=>E.editor.models_list_with_custom_actions.includes(Oe)),b=he}const V=!!O?.options.length,B=!!k?.options.length,M=!!A?.options.length,re=!!I?.options.length,ge=zi(),N=p.useCallback(he=>{K.logEvent("Account Pay: Open Payment from Model Picker",{content:"gizmo-button"}),F4(ge,"Thread header dropdown",he)},[ge]),we=()=>{_t.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),K.logEvent("Model Switcher Plus Upgrade Button Clicked"),a?uc(o,{shouldOpenPaymentModalOnAuth:!0,callback:he=>{K.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:he})}}):N()},ye=()=>{K.logEventWithStatsig("Model Switcher Go Upgrade Button Clicked","chatgpt_model_switcher_go_upgrade_button_clicked"),a?uc(o,{shouldOpenPaymentModalOnAuth:!0,callback:he=>{K.logSignUpButtonClicked({location:"Model switcher Go upsell",provider:he})}}):N()},X=()=>{K.logEventWithStatsig("Model Switcher Team Upgrade Button Clicked","chatgpt_model_switcher_team_upgrade_button_clicked"),N(L4)},de=[],ee=We(o,"3315017149");b?.title&&ee&&de.push({id:"model-picker-title",content:[g.jsx(Bt.Label,{className:"mb-0",children:b.title},"model-picker-title")]});const ke=g.jsxs(Bt.Label,{className:"flex items-center",children:[g.jsx(Ce,{id:"coNCb7",defaultMessage:"Models"}),g.jsx(bi,{side:"right",className:"ms-1.5",delayDuration:120,label:g.jsx(Ce,{id:"/vFWz/",defaultMessage:"Learn more"}),children:g.jsx("a",{href:"https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",target:"_blank",rel:"noreferrer",children:g.jsx(kM,{className:"h-3.5 w-3.5 shrink-0"})})})]},"models-section-header");if(a){const he={id:"modelSection",content:[]};he.content.push(g.jsx(SSe,{location:"model-switcher",statsig_login_event:"chatgpt_modelswitcher_login_button_clicked",statsig_signup_event:"chatgpt_modelswitcher_signup_button_clicked"},"noAuthUpsell")),de.push(he)}else if(!C&&!_){const he={id:"modelSection",content:[]};Ete(o)?he.content.push(g.jsx(ya,{value:"",currentModelId:v,onClick:ye,modelSwitcherDenialsBySlug:x,isUpgradeUpsell:!0,icon:I6e,secondary:g.jsx(Ce,{id:"vm2Wqf",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:g.jsx(Ce,{id:"/d/+gD",defaultMessage:"ChatGPT Go"})},"goUpgrade")):u?he.content.push(g.jsx(ya,{value:"",currentModelId:v,onClick:X,modelSwitcherDenialsBySlug:x,isUpgradeUpsell:!0,icon:A6e,secondary:g.jsx(Ce,{id:"w0dB7n",defaultMessage:"Power your business with AI"}),isSelected:!1,children:g.jsx(Ce,{id:"K94mcH",defaultMessage:"ChatGPT Business"})},"teamUpgrade")):he.content.push(g.jsx(ya,{value:"",currentModelId:v,onClick:we,modelSwitcherDenialsBySlug:x,isUpgradeUpsell:!0,icon:TM,secondary:g.jsx(Ce,{id:"bqTHri",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:g.jsx(Ce,{id:"mzDzkX",defaultMessage:"ChatGPT Plus"})},"plusUpgrade")),he.content.push(g.jsx(ya,{value:Pf.AUTO,currentModelId:v,modelSwitcherDenialsBySlug:x,icon:M6e,secondary:g.jsx(Ce,{id:"n96qML",defaultMessage:"Great for everyday tasks"}),isSelected:!_&&v===Pf.AUTO,children:g.jsx(Ce,{id:"U9E7Rx",defaultMessage:"ChatGPT"})},Pf.AUTO)),de.push(he)}else{const he={id:"modelSection",content:[]};b?.categories.length&&!w&&he.content.push(ke),vn(o)?.isGo()&&he.content.push(g.jsx(ya,{value:"",currentModelId:v,onClick:we,modelSwitcherDenialsBySlug:x,isUpgradeUpsell:!0,icon:TM,secondary:g.jsx(Ce,{id:"bqTHri",defaultMessage:"Our smartest model & more"}),isSelected:!1,children:g.jsx(Ce,{id:"mzDzkX",defaultMessage:"ChatGPT Plus"})},"plusUpgrade"));const Oe=new Map;b?.categories.forEach(ie=>{const Me=g.jsx(jSe,{category:ie,currentGizmoId:_,currentModelId:v,modelSwitcherDenialsBySlug:x,preferredModelId:i,testId:`model-switcher-${ie.defaultModel}`,disabledByAdmin:ie.disabledByAdmin},ie.categoryId);ie.subcategory?(Oe.has(ie.subcategory)||Oe.set(ie.subcategory,[]),Oe.get(ie.subcategory)?.push(Me)):he.content.push(Me)});const Ze=b?.categories?.some(ie=>ie.defaultModel==="gpt-5")??!1,le=b?.categories?.some(ie=>ie.defaultModel==="gpt-5-pro")??!1;if(Ze&&!le&&!vn(o)?.isPro()&&We(o,"3309244414")){const ie=g.jsx(BSe,{}),Me=b?.categories?.find(Z=>Z.defaultModel==="gpt-5-thinking")?.subcategory;Me?Oe.get(Me)?.push(ie):he.content.push(ie)}w?Oe.forEach((ie,Me)=>{Me&&he.content.push(g.jsx(Bt.Separator,{},`${Me}-divider`));const Z=b?.categories.find(U=>U.subcategory===Me&&U.defaultModel===m?.id),{fullModelLabel:$}=DM(Z?.defaultModel??"",b);he.content.push(g.jsxs(Bt.Sub,{children:[g.jsx(Bt.SubMenuTrigger,{"data-testid":Me+"-submenu",trailing:g.jsx("div",{className:"truncate",children:$}),children:Me}),g.jsx(Bt.Portal,{children:g.jsx(Bt.SubContent,{children:ie})})]},Me))}):Oe.forEach((ie,Me)=>{const Z=b?.categories.find($=>$.subcategory===Me&&$.defaultModel===m?.id);he.content.push(g.jsxs(Bt.Sub,{children:[g.jsx(Bt.SubMenuTrigger,{"data-testid":Me?`${Me}-submenu`:void 0,trailing:Z&&g.jsx("div",{className:"truncate",children:Z.label}),children:Me}),g.jsx(Bt.Portal,{children:g.jsx(Bt.SubContent,{children:ie})})]},Me))});const Q=b?.categories?.some(ie=>ie.defaultModel==="gpt-4o"||ie.defaultModel==="gpt-4.1")??!1;r&&_&&he.content.push(g.jsx(Bt.Label,{className:"flex flex-col items-start gap-1",children:g.jsxs("span",{className:"flex items-center",children:[g.jsx(Ce,{id:"Y96ci5",defaultMessage:"Limited models for Custom Action GPTs"}),g.jsx(bi,{side:"right",className:"ms-1.5 cursor-pointer",delayDuration:0,label:Ze&&Q?g.jsx(Ce,{id:"CicYT3",defaultMessage:"GPTs with custom web actions can currently only use GPT-5, GPT-4o, and GPT-4.1."}):Ze?g.jsx(Ce,{id:"VfAyqX",defaultMessage:"GPTs with custom web actions can currently only use GPT-5."}):g.jsx(Ce,{id:"wDE3HX",defaultMessage:"GPTs with custom web actions can currently only use GPT-4o and GPT-4.1. If your GPT has no custom actions it can use any model."}),children:g.jsx(kM,{className:"h-4 w-4 shrink-0"})})]})})),de.push(he)}const se={id:"otherOptionsSection",content:[]},{selectedCategory:fe}=DM(v,b);return T&&(V||B||M||re?se.content.push(g.jsx("div",{className:"px-4 py-2",children:g.jsx(JV,{inputClassName:"w-full",onKeyDown:he=>{he.stopPropagation()},onChange:he=>{D(he.target.value)},value:P})})):h&&se.content.push(g.jsxs(g.Fragment,{children:[g.jsx(Bt.Shimmer,{size:"long"}),g.jsx(Bt.Shimmer,{size:"long"}),g.jsx(Bt.Shimmer,{size:"long"}),g.jsx(Bt.Shimmer,{size:"long"})]})),P?se.content.push(g.jsxs("div",{className:"scrollbar-gutter-stable max-h-64 w-[min(320px,95vw)] overflow-y-scroll",children:[j.length===0&&g.jsx(Bt.Item,{className:"w-full",children:s.formatMessage({id:"model-switcher.no-results",defaultMessage:"No results found"})}),j.map(he=>{const{value:Oe}=he;return"options"in he?g.jsx(Su,{currentModel:m,isSelected:v?.startsWith(Oe),option:he,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},Oe):g.jsxs(ya,{currentModelId:v,isSelected:v===Oe,value:Oe,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i,children:[he.name,he.badge&&g.jsx($w,{children:he.badge})]},Oe)})]})):(V&&se.content.push(g.jsx(Su,{isSelected:fe===yo.ALPHA,currentModel:m,option:O,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},O.value)),B&&se.content.push(g.jsx(Su,{isSelected:fe===yo.DATA_CAMPAIGNS,currentModel:m,option:k,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},k.value)),M&&se.content.push(g.jsx(Su,{currentModel:m,isSelected:fe===yo.EXPERIMENTS,option:A,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},A.value)),re&&se.content.push(g.jsx(Su,{isSelected:fe===yo.MAINLINE,currentModel:m,option:I,modelSwitcherDenialsBySlug:x,displayInFull_INTERNAL_USE_ONLY:!0,preferredModelId:i},I.value)))),se.content.length&&R&&de.push(se),n&&de.push({id:IM,content:[g.jsx(mSe,{},IM)]}),de}const BSe=()=>{const e=zi(),t=me(),n=We(t,"3315017149");let r=g.jsx(Ce,{id:"4myKt+",defaultMessage:"GPT-5 Pro"});return n&&(r=g.jsx(Ce,{id:"fCVj6z",defaultMessage:"Pro"})),g.jsx(Bt.Item,{disabled:!0,label:r,secondary:g.jsx(Ce,{id:"BsApen",defaultMessage:"Research-grade intelligence"}),trailing:g.jsx(Vt,{color:"secondary",size:"small",onClick:()=>{K.logEventWithStatsig("Model Switcher Pro Upgrade Button Clicked","chatgpt_model_switcher_pro_upgrade_button_clicked"),K.logEvent("Account Pay: Open Payment from Model Picker",{content:"gizmo-button"}),F4(e,"Thread header dropdown")},children:g.jsx(Ce,{id:"aJndhk",defaultMessage:"Upgrade"})})})},IS=Ot({alpha:{id:"o5FsPB",defaultMessage:"Alpha"},beta:{id:"XZwFET",defaultMessage:"Beta"},gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL·E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL·E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL·E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"},disabledByAdmin:{id:"XoQ6cH",defaultMessage:"Disabled by Admin"}});function USe(){const e=me(),t=C6e(),{data:n,isSuccess:r,isLoading:i}=lB(),{userIsInSearchHoldoutWithWebDisabled:s}=x6e(),o=p$(),a=We(e,"1627380539"),{showModelsInPlusMenu:l}=T6e();return{systemHints:p.useMemo(()=>{if(i)return;if(!n||!r)return[];const u=vn(e)?.planType;return n.sort(qSe(u)).filter(d=>!(d.systemHint===ve.Think&&o&&(!a||l)||d.systemHint===ve.Search&&s||d.systemHint===ve.Slurm&&!t))},[n,i,r,e,s,t,o,a,l]),isLoading:i}}function qSe(e){const t=zSe(e);return(n,r)=>{const i=t.indexOf(n.systemHint),s=t.indexOf(r.systemHint),o=i===-1?Number.MAX_SAFE_INTEGER:i,a=s===-1?Number.MAX_SAFE_INTEGER:s;return o===a?0:o>a?1:-1}}function zSe(e){switch(e){case void 0:case Ye.FREE:return[ve.PictureV2,ve.Picture,ve.Think,ve.Agent,ve.Research,ve.ContextualAnswers,ve.Tatertot,ve.Slurm,ve.Search,ve.Canvas,ve.Video];case Ye.EDUCATION_CBP:case Ye.DEPRECATED_EDU:return[ve.Tatertot,ve.PictureV2,ve.Picture,ve.Think,ve.Agent,ve.Research,ve.ContextualAnswers,ve.Slurm,ve.Search,ve.Canvas,ve.Video];case Ye.GO:case Ye.PLUS:case Ye.PRO:return[ve.Research,ve.PictureV2,ve.Picture,ve.Think,ve.Agent,ve.ContextualAnswers,ve.Slurm,ve.Tatertot,ve.Search,ve.Canvas,ve.Video];case Ye.ENTERPRISE_CBP:case Ye.SELF_SERVE_BUSINESS:case Ye.QUORUM:case Ye.DEPRECATED_ENTERPRISE:return[ve.ContextualAnswers,ve.Slurm,ve.Research,ve.Think,ve.Agent,ve.PictureV2,ve.Picture,ve.Search,ve.Canvas,ve.Video]}}let GSe=0;const m$=p.createContext(null);function HSe({children:e}){const[t]=p.useState(()=>({}));return p.createElement(m$.Provider,{value:t},e)}function op(e){if(e===void 0)return op;const t=typeof e=="function"?e:()=>e;let n;const r=p.createContext(null);return class{static storeSignalMap=new WeakMap;static useState(s=VSe,o){return hE(this.useStore(),s,o)}static useStore(){return this.useStoreWithInit()}static useStoreSignal(){const s=this.useStore();if(this.storeSignalMap.has(s))return this.storeSignalMap.get(s);const o=bF(s);return this.storeSignalMap.set(s,o),o}static useStoreWithInit(...s){const o=p.useContext(r),a=p.useContext(m$);if(o)return o;const l=this.name??"Store";if(!a)throw new Error(`No StoreScope found. Must use ${l} within a <StoreScopeProvider> or <${l}.Provider>.`);if(n||(n=`${l}:${GSe++}`),n in a)return a[n];if(typeof t=="function"&&t.length>0&&s.length===0)throw new Error(`Not initialized. First call ${l}.useStoreWithInit(value) or <${l}.Provider store={() => new ${l}(value)}>`);return a[n]=new this(...s)}static Provider({store:s,children:o}){const[a]=p.useState(s);return p.createElement(r.Provider,{value:a},o)}constructor(s){const o=t(s);Object.assign(this,Ho(typeof o=="function"?o:()=>o))}}}function VSe(e){return e}const Vs=e=>{const t={turn_index:e.turnIndex?.toString(),thread_id:e.threadId,conversation_id:e.clientThreadId?Ui(e.clientThreadId):void 0,message_id:e?.messageId};return Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==void 0))};function $Se(e,t=1e3,n=100){document.activeElement!==e&&e.focus();const r=Date.now(),i=setInterval(()=>{document.activeElement!==e&&e.focus(),Date.now()-r>=t&&clearInterval(i)},n)}class Ja extends op()(({initialHint:t=null,locked:n=!1})=>({locked:n,activeSystemHintType:t,activeSystemHintTrigger:void 0})){getActiveSystemHintType=()=>this.getState().activeSystemHintType;setActiveSystemHint(t,n){const{locked:r,activeSystemHintType:i}=this.getState();r&&n?.locked===void 0||n?.ifPrevSystemHint!==void 0&&n.ifPrevSystemHint!==i||(YSe(i,t,n?.analyticsMetadata,n?.triggerSource),this.setState({locked:n?.locked??r,activeSystemHintType:t,activeSystemHintTrigger:t?n?.triggerSource:void 0}))}getPersistedSystemHintTrigger=t=>{if(!this.getState().locked&&this.getState().activeSystemHintType===t)return this.getState().activeSystemHintTrigger}}const mze=()=>{"use forget";return Ja.useState(QSe)};function gze(){"use forget";const e=Te.c(2),t=Ja.useStoreSignal();let n,r;return e[0]!==t?(r=_i(()=>t().activeSystemHintType),e[0]=t,e[1]=r):r=e[1],n=r,n}function WSe(e,t,n,r){e.setActiveSystemHint(n,r),EB()&&n&&$Se(ch(t).dom)}const KSe=()=>{"use forget";const e=Te.c(3),t=Ja.useStore(),n=nge();let r;return e[0]!==n||e[1]!==t?(r=(i,s)=>WSe(t,n,i,s),e[0]=n,e[1]=t,e[2]=r):r=e[2],r};function LM({persistSearchMode:e,persistTatertotMode:t,persistAgentMode:n,forcedSystemHintType:r,completionMetadataHints:i,systemHintsFromSearchParams:s}){return r||(s.length>0?s[0]:e?ve.Search:t?ve.Tatertot:n?ve.Agent:i?i[0]:null)}function YSe(e,t,n,r){t?(OI(t,gS.Enable,Vs(n??{})),t===ve.Agent&&G.addAction("agent.hint.enabled",{client_thread_id:String(n?.clientThreadId??"")})):e&&(OI(e,gS.Disable,Vs(n??{})),e===ve.Agent&&G.addAction("agent.hint.disabled",{client_thread_id:String(n?.clientThreadId??"")})),t===ve.Search?K.logEventWithStatsig("Search Mode Engaged","search_mode_engaged",{...Vs(n??{}),triggerSource:r}):t==null&&e===ve.Search&&K.logEventWithStatsig("Search Mode Disabled","search_mode_disabled",Vs(n??{}))}function vze(e){"use forget";const t=Te.c(49),{children:n,clientThreadId:r,forcedSystemHintType:i}=e,s=me(),[o]=gg(),{systemHints:a}=USe(),l=e$(r);let c;t[0]!==l?(c=D6e(l,Sj.Search),t[0]=l,t[1]=c):c=t[1];const u=c,d=Yo(r,Se.getLastMessageSystemHints);let f,h;if(t[2]!==s){const re=_h(s,"269676899",{disableExposureLog:!0});f=re.get("clear_all",!1),h=re.get("skip_search",!1),t[2]=s,t[3]=f,t[4]=h}else f=t[3],h=t[4];const v=f&&!h;let _;t[5]!==d||t[6]!==u||t[7]!==v?(_=d.includes(ve.Search)&&u&&!v,t[5]=d,t[6]=u,t[7]=v,t[8]=_):_=t[8];const y=_;let b;t[9]!==s||t[10]!==d?(b=a_e(s)&&d.includes(ve.Tatertot),t[9]=s,t[10]=d,t[11]=b):b=t[11];const C=b,S=Fge();let x;t[12]!==S||t[13]!==d?(x=S&&d.includes(ve.Agent),t[12]=S,t[13]=d,t[14]=x):x=t[14];const w=x;let E,T;if(t[15]!==d||t[16]!==a){let re;t[18]!==a?(re=ge=>a?.find(N=>N.systemHint===ge)?.persistBetweenMessages,t[18]=a,t[19]=re):re=t[19],T=d.find(re),t[15]=d,t[16]=a,t[17]=T}else T=t[17];E=T;const O=E;let k;t[20]!==r||t[21]!==s?(k=()=>jG(s)()[r],t[20]=r,t[21]=s,t[22]=k):k=t[22];const A=Or(k);let I;t[23]!==A||t[24]!==i||t[25]!==w||t[26]!==y||t[27]!==C||t[28]!==o?(I=()=>{const re=mS(o),ge=LM({persistSearchMode:y,persistTatertotMode:C,persistAgentMode:w,forcedSystemHintType:i,completionMetadataHints:A,systemHintsFromSearchParams:re});return new Ja({initialHint:ge,locked:i!=null})},t[23]=A,t[24]=i,t[25]=w,t[26]=y,t[27]=C,t[28]=o,t[29]=I):I=t[29];const[P]=p.useState(I),D=p.useRef(r);let R,F;t[30]!==r||t[31]!==A||t[32]!==i||t[33]!==w||t[34]!==y||t[35]!==C||t[36]!==P||t[37]!==o||t[38]!==O?(R=()=>{if(D.current!==r){P.setActiveSystemHint(null);const ge=mS(o),N=LM({persistSearchMode:y,persistTatertotMode:C,persistAgentMode:w,forcedSystemHintType:i,completionMetadataHints:A,systemHintsFromSearchParams:ge});P.setActiveSystemHint(N,{locked:i!=null}),D.current=r;return}const re=P.getActiveSystemHintType();y&&re!==ve.Search?P.setActiveSystemHint(ve.Search,{analyticsMetadata:{clientThreadId:r}}):C&&re!==ve.Tatertot?P.setActiveSystemHint(ve.Tatertot,{analyticsMetadata:{clientThreadId:r}}):O&&P.setActiveSystemHint(O,{analyticsMetadata:{clientThreadId:r}})},F=[r,A,i,y,C,w,P,O,o],t[30]=r,t[31]=A,t[32]=i,t[33]=w,t[34]=y,t[35]=C,t[36]=P,t[37]=o,t[38]=O,t[39]=R,t[40]=F):(R=t[39],F=t[40]),p.useEffect(R,F);const j=p.useRef(i);let V,B;t[41]!==i||t[42]!==P||t[43]!==a?(V=()=>{if(a==null||a.length===0){j.current=i;return}const re=i!=null?a.find(ge=>ge.systemHint===i):void 0;i!=null&&re!=null?P.setActiveSystemHint(i,{locked:!0}):P.getState().locked&&P.setActiveSystemHint(null,{locked:!1}),j.current=i},B=[a,P,i],t[41]=i,t[42]=P,t[43]=a,t[44]=V,t[45]=B):(V=t[44],B=t[45]),p.useEffect(V,B);let M;return t[46]!==n||t[47]!==P?(M=g.jsx(Ja.Provider,{store:P,children:n}),t[46]=n,t[47]=P,t[48]=M):M=t[48],M}function ZSe(e){"use forget";const t=Te.c(3),{children:n}=e,[r]=p.useState(JSe);let i;return t[0]!==n||t[1]!==r?(i=g.jsx(Ja.Provider,{store:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}function JSe(){return new Ja({initialHint:null,locked:!0})}function QSe(e){return e.activeSystemHintType}class XSe{#e;#t=t=>(this.#e||(this.#e=be(()=>import("./m60bpb0x3x7rg8fj.js").then(n=>n.aB),[]).then(n=>n?.datadogLogs)),this.#e.then(n=>n&&t(n)));init(t){this.#t(n=>n.init(t))}setGlobalContextProperty(t,n){this.#t(r=>r.setGlobalContextProperty(t,n))}setUser(t){this.#t(n=>n.setUser(t))}get logger(){return{setHandler:t=>{this.#t(n=>n.logger.setHandler(t))}}}createLogger(t,n){return new e4e(this.#t,t,n)}}class e4e{#e;constructor(t,n,r){this.#e=t(i=>i.createLogger(n,r))}#t=t=>this.#e.then(n=>n&&t(n));ok(t,n,r){this.#t(i=>i.ok(t,n,r))}debug(t,n,r){this.#t(i=>i.debug(t,n,r))}info(t,n,r){this.#t(i=>i.info(t,n,r))}notice(t,n,r){this.#t(i=>i.notice(t,n,r))}warn(t,n,r){this.#t(i=>i.warn(t,n,r))}error(t,n,r){this.#t(i=>i.error(t,n,r))}critical(t,n,r){this.#t(i=>i.critical(t,n,r))}alert(t,n,r){this.#t(i=>i.alert(t,n,r))}emerg(t,n,r){this.#t(i=>i.emerg(t,n,r))}}const cu=new XSe,t4e="datadoghq.com",n4e="pub1f79f8ac903a5872ae5f53026d20a77c";class r4e{initialize(){const t=_g?Wn?.getTelemetryConfig?.():void 0,n=t!==void 0?t.datadogService:sL();cu.init({clientToken:n4e,site:t4e,service:n,env:"prod",version:"f0bc637cf0856e6fd16c76bfaa9345ffdec13388",sessionSampleRate:100,forwardErrorsToLogs:!1,beforeSend:r=>(r.view.url=Sf(r.view.url),r.http&&r.http.url&&(r.http.url=Sf(r.http.url)),!0)}),cu.setGlobalContextProperty("track","stable"),cu.setGlobalContextProperty("is_electron_desktop_app",t!==void 0),cu.logger.setHandler(["http"])}setUser(t,n){const r={user_id:t.id,account_plan_type:n?.planType??"none",workspace_id:n?.id};cu.setUser(r)}createLogger(t,n="info",r="http",i){return cu.createLogger(t,{level:n,handler:r,context:i})}}const MS=new r4e;function g$(e){const t=new URL(window.location.href);if(!t.searchParams.has(e))return;t.searchParams.delete(e);const n=t.pathname+t.search+t.hash;history.replaceState(null,"",n)}let FM=!1;if(iL()){const e=function(){return window.location.pathname!=="/search"?void 0:{sessionSampleRate:100,traceSampleRate:100}}();G.initialize(e)}function i4e(e,t){if(t){const n=qe.getCookie(je.Workspace),r=n===Io?void 0:n,i=t.structure===$r.WORKSPACE?t.id:void 0;r!==i&&G.addAction("bootstrap_client.account_cookie_mismatch",{accountCookieValue:n,lightAccount:t})}e.fetchQuery(Uo()).then(n=>{const r=Xg(n),i=qe.getCookie(je.Workspace),s=Nse(r,n.accountItems);i!==s&&x6(s),r&&t&&(r.id!==t.id||r.planType!==t.planType||r.isDelinquent!==t.isDelinquent||r.gracePeriodId!==t.gracePeriodId)&&uw()}).catch(n=>{if(!(n instanceof vt&&n.isClientError()))return G.addAction("bootstrap_client.fetchAccounts.error",{error:n}),null})}function s4e(e,t,n){if(FM)return;FM=!0;const r=Ci(e);if(r.checkGate("4011688770")&&be(()=>import("./c3zf9w3to3147toi.js"),__vite__mapDeps([17,1])).then(i=>i?.initOpenTelemetry()),r.on("gate_evaluation",({gate:i})=>{G.addFeatureFlagEvaluation(i.name,i.value)}),g$("refresh_account"),window.addEventListener("vite:preloadError",i=>{i.preventDefault(),G.addAction("vite:preloadError",{payload:i.payload})}),Vo(),qse(),G.addTiming("chatgpt.web.bootstrapClient"),G.addAction("bootstrap_client.start"),window.__oai_SSR_HTML?G.addFirstTiming("composer.html",window.__oai_SSR_HTML):window.__oai_logHTML=()=>{G.addFirstTiming("composer.html")},window.__oai_SSR_TTI?G.addFirstTiming("composer.visible",window.__oai_SSR_TTI):window.__oai_logTTI=()=>{G.addFirstTiming("composer.visible")},iL()&&MS.initialize(),t.authStatus===_r.LoggedIn){const i=t.user,s=t.session?.account;G.addAction("bootstrap_client.has_session_user"),i4e(n,s),yie(i,s,t.intercomHash),G.setUser(i,s),MS.setUser(i,s),K.initialize({userInfo:{currentAccount:s??null,sessionUser:i}}),G.addAction("bootstrap_client.success.is_authenticated",{hasCurrentAccount:!0})}else G.addAction("bootstrap_client.does_not_have_session_user"),K.initialize(),G.addAction("bootstrap_client.success.is_not_authenticated");fetch(`${dt}/edge`).catch(()=>{})}function o4e({root:e,autoFocus:t=!1}){if(!e)return null;const n=["a[href]:not([data-skip-to-content])","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(", "),r=Array.from(e.querySelectorAll(n));let i=null;for(const s of r)if(s.offsetWidth>0&&s.offsetHeight>0){i=s;break}return t&&i?.focus(),i}const a4e=()=>{const e=me();return{country:fn(e).userCountry}};function jM(e){return e!=null&&e in jZ}const iC=60*60*24*30*6,v$=e=>{qe.setBooleanCookie(je.ConsentAnalytics,e.consent_analytics,{maxAge:iC,domain:Ev}),qe.setBooleanCookie(je.ConsentMarketing,e.consent_marketing,{maxAge:iC,domain:Ev}),qe.setBooleanCookie(je.AllowNonessential,e.consent_analytics&&e.consent_marketing,{maxAge:iC,domain:Ev}),G.addAction("update-cookie-consent.cookie.success")};async function _$(e){if(v$(e),fn(Lt()).authStatus===_r.LoggedIn)try{await ue.safePost("/user_granular_consent",{authOption:Xt.Required,requestBody:{granular_consent:{analytics:e.consent_analytics,marketing:e.consent_marketing}}}),G.addAction("update-cookie-consent.backend.success")}catch(n){G.addError(n)}}const _E=qi({queryKey:["cookie-consent"],queryFn:async()=>{const{isUserInPioneerHR:e,userCountry:t}=fn(Cs(Lt()));if(!e){const s=qe.getBooleanCookie(je.ConsentAnalytics),o=qe.getBooleanCookie(je.ConsentMarketing);return s!=null||o!=null?{consent_analytics:s??!1,consent_marketing:o??!1,is_consent_required:!0}:(G.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1})}if(t!=null&&!jM(t))return G.addAction("get-cookie-consent.use-anonymous-default.consent-not-required",{country:t}),{consent_analytics:!0,consent_marketing:!0,is_consent_required:!1};if(jM(t)&&!e)return G.addAction("get-cookie-consent.use-anonymous-default.consent-required-essential-only",{country:t}),{consent_analytics:!1,consent_marketing:!1,is_consent_required:!0};let n;try{const s=await ue.safeGet("/user_granular_consent",{authOption:Xt.Required});n={consent_analytics:s.granular_consent?.analytics??null,consent_marketing:s.granular_consent?.marketing??null,is_consent_required:s.is_consent_required},G.addAction("get-cookie-consent.use-authenticated",{country:t})}catch(s){s instanceof zg||G.addError(s,{country:t}),n={consent_analytics:null,consent_marketing:null,is_consent_required:!0}}const r=qe.getBooleanCookie(je.ConsentAnalytics),i=qe.getBooleanCookie(je.ConsentMarketing);return n.consent_analytics!=null&&n.consent_marketing!=null&&(r!==n.consent_analytics||i!==n.consent_marketing)?(v$({consent_analytics:n.consent_analytics,consent_marketing:n.consent_marketing}),G.addAction("get-cookie-consent.update-cookie-consent-cookie",{country:t})):r!==void 0&&i!==void 0&&n.is_consent_required&&n.consent_analytics==null&&n.consent_marketing==null&&(_$({consent_analytics:r??!1,consent_marketing:i??!1}),G.addAction("get-cookie-consent.update-cookie-consent-backend",{country:t}),n={...n,consent_analytics:r??!1,consent_marketing:i??!1}),n}}),_ze=e=>{const{country:t}=a4e(),n=cr();return jn({...e,mutationFn:r=>_$(r),onSuccess:(r,i,s)=>{e?.onSuccess?.(r,i,s),n.setQueryData(_E.queryKey,o=>{if(!o){G.addError(new Error("Cookie consent query data is undefined during mutation"));return}return{...o,consent_analytics:i.consent_analytics,consent_marketing:i.consent_marketing}})},onError:(r,i,s)=>{e?.onError?.(r,i,s),G.addError(r,{country:t})}})};class sC extends op()(()=>({cookieConsentBannerClosed:!1,cookieConsentBannerIgnored:qe.getBooleanCookie(je.CookieBannerIgnored)??!1,onCloseSideEffect:()=>{},manuallySetVisibility:!1})){closeCookieConsentBanner=t=>{const n={cookieConsentBannerClosed:!0,...t?{cookieConsentBannerIgnored:!0}:{}};this.setState(n),t&&qe.setBooleanCookie(je.CookieBannerIgnored,!0)};setOnCloseSideEffect=t=>{this.setState(n=>({...n,onCloseSideEffect:t}))};setManualVisibility=t=>{this.setState(n=>({...n,manuallySetVisibility:t}))};static useWasClosed=()=>this.useState(t=>t.cookieConsentBannerClosed);static useWasIgnored=()=>this.useState(t=>t.cookieConsentBannerIgnored);static useOnCloseSideEffect=()=>this.useState(t=>t.onCloseSideEffect);static useManuallySetVisibility=()=>this.useState(t=>t.manuallySetVisibility)}const yze=()=>{const e=sC.useStore(),{isUnauthenticated:t,isLoading:n}=zh(),{data:r,isLoading:i}=Nt(_E),s=sC.useWasClosed(),o=sC.useWasIgnored(),a=qe.getCookie(je.CookieBannerShownPath),l=a===window.location.pathname,c=n||i;return{shouldShowCookieBanner:(!c&&t&&!(s||o)&&(!a||l)&&r?.is_consent_required&&r?.consent_analytics==null&&r?.consent_marketing==null)??!1,isCookieConsentBannerLoading:c,closeCookieConsentBanner:e.closeCookieConsentBanner,ignoreCookieConsentBanner:()=>e.closeCookieConsentBanner(!0)}};var wu=(e=>(e.Gclid="gclid",e.Fbclid="fbclid",e.Rdtcid="rdt_cid",e.Tiktokclid="ttclid",e.Liclid="li_fat_id",e))(wu||{});function bze(e){switch(e){case"gclid":return qe.getMarketingCookie(je.Gclid);case"fbclid":return qe.getMarketingCookie(je.Fbclid);case"rdt_cid":return qe.getMarketingCookie(je.Rdtcid);case"ttclid":return qe.getMarketingCookie(je.Tiktokclid);case"li_fat_id":return qe.getMarketingCookie(je.Liclid)}}function l4e(e){switch(e){case"gclid":return je.Gclid;case"fbclid":return je.Fbclid;case"rdt_cid":return je.Rdtcid;case"ttclid":return je.Tiktokclid;case"li_fat_id":return je.Liclid}}function c4e({searchParams:e,clidLifetimeSeconds:t=24*60*60,eligibleExplorers:n}){for(const r of n){if(e.get(r)==null)continue;const i=l4e(r);qe.setMarketingCookie(i,e.get(r),{path:"/",maxAge:t})}}let y$=!1;const u4e=e=>{const t=fn(e);if(!t.eligibleMarketing)return;const n=new URLSearchParams(window.location.search);c4e({searchParams:n,eligibleExplorers:[...t.eligibleMarketing.isUserEligibleForPioneer?[wu.Gclid]:[],...t.eligibleMarketing.isUserEligibleForMaverick?[wu.Fbclid]:[],...t.eligibleMarketing.isUserEligibleForTrailBlazer?[wu.Rdtcid]:[],...t.eligibleMarketing.isUserEligibleForStratos?[wu.Tiktokclid]:[],...t.eligibleMarketing.isUserEligibleForSeeker?[wu.Liclid]:[]]}),y$=!0},d4e=(e,t)=>{const n=fn(e).userCountry;new r4(t,_E).subscribe(i=>{if(i.isPending)return;const s=i.data;if(!s)return;(s.is_consent_required?s.consent_marketing:!0)?(qe.setAllowMarketingCookies_CLIENT_ONLY(!0),G.addAction("marketing-tracking.non-essential-cookies.allowed",{country:n}),y$||(u4e(e),G.addAction("marketing-tracking.non-essential-cookies.marketing-tracking-functions-run",{country:n}))):(qe.setAllowMarketingCookies_CLIENT_ONLY(!1),G.addAction("marketing-tracking.non-essential-cookies.disallowed",{country:n}))})};async function f4e(){if(!("container"in document.documentElement.style)){performance.mark("polyfill.containerQuery.start");try{await be(()=>import("./ju44vdme8sg2h8v1.js"),[])}catch(e){return G.addError(new Error("Error loading polyfill: containerQuery",{cause:e})),Promise.reject(e)}performance.mark("polyfill.containerQuery.end"),performance.measure("polyfill.containerQuery","polyfill.containerQuery.start","polyfill.containerQuery.end")}}async function h4e(){if(!Array.prototype.findLast)try{await be(()=>import("./epvopb3v1ogy5tif.js"),__vite__mapDeps([18,1]))}catch(e){return G.addError(new Error("Error loading polyfill: findLast",{cause:e})),Promise.reject(e)}}async function p4e(){if(!CSS.supports("animation-timeline: --works")||window.ViewTimeline===void 0){performance.mark("polyfill.scrollTimeline.start");try{await be(()=>import("./mv7t0tsdviudgwx9.js"),[])}catch(e){return G.addAction("Error loading polyfill: scrollTimeline",{cause:e}),Promise.reject(e)}performance.mark("polyfill.scrollTimeline.end"),performance.measure("polyfill.scrollTimeline","polyfill.scrollTimeline.start","polyfill.scrollTimeline.end")}}var BM={},UM={},nf,qM;function Bn(){if(qM)return nf;qM=1;var e=function(t){return t&&t.Math===Math&&t};return nf=e(typeof globalThis=="object"&&globalThis)||e(typeof window=="object"&&window)||e(typeof self=="object"&&self)||e(typeof Tu=="object"&&Tu)||e(typeof nf=="object"&&nf)||function(){return this}()||Function("return this")(),nf}var oC={},aC,zM;function ao(){return zM||(zM=1,aC=function(e){try{return!!e()}catch{return!0}}),aC}var lC,GM;function Jo(){if(GM)return lC;GM=1;var e=ao();return lC=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),lC}var cC,HM;function H0(){if(HM)return cC;HM=1;var e=ao();return cC=!e(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),cC}var uC,VM;function lo(){if(VM)return uC;VM=1;var e=H0(),t=Function.prototype.call;return uC=e?t.bind(t):function(){return t.apply(t,arguments)},uC}var dC={},$M;function m4e(){if($M)return dC;$M=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return dC.f=n?function(i){var s=t(this,i);return!!s&&s.enumerable}:e,dC}var fC,WM;function b$(){return WM||(WM=1,fC=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}),fC}var hC,KM;function wi(){if(KM)return hC;KM=1;var e=H0(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return hC=e?r:function(i){return function(){return n.apply(i,arguments)}},hC}var pC,YM;function V0(){if(YM)return pC;YM=1;var e=wi(),t=e({}.toString),n=e("".slice);return pC=function(r){return n(t(r),8,-1)},pC}var mC,ZM;function g4e(){if(ZM)return mC;ZM=1;var e=wi(),t=ao(),n=V0(),r=Object,i=e("".split);return mC=t(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return n(s)==="String"?i(s,""):r(s)}:r,mC}var gC,JM;function $0(){return JM||(JM=1,gC=function(e){return e==null}),gC}var vC,QM;function yE(){if(QM)return vC;QM=1;var e=$0(),t=TypeError;return vC=function(n){if(e(n))throw new t("Can't call method on "+n);return n},vC}var _C,XM;function bE(){if(XM)return _C;XM=1;var e=g4e(),t=yE();return _C=function(n){return e(t(n))},_C}var yC,eR;function dr(){if(eR)return yC;eR=1;var e=typeof document=="object"&&document.all;return yC=typeof e>"u"&&e!==void 0?function(t){return typeof t=="function"||t===e}:function(t){return typeof t=="function"},yC}var bC,tR;function Qo(){if(tR)return bC;tR=1;var e=dr();return bC=function(t){return typeof t=="object"?t!==null:e(t)},bC}var CC,nR;function Dc(){if(nR)return CC;nR=1;var e=Bn(),t=dr(),n=function(r){return t(r)?r:void 0};return CC=function(r,i){return arguments.length<2?n(e[r]):e[r]&&e[r][i]},CC}var SC,rR;function CE(){if(rR)return SC;rR=1;var e=wi();return SC=e({}.isPrototypeOf),SC}var wC,iR;function ap(){if(iR)return wC;iR=1;var e=Bn(),t=e.navigator,n=t&&t.userAgent;return wC=n?String(n):"",wC}var EC,sR;function C$(){if(sR)return EC;sR=1;var e=Bn(),t=ap(),n=e.process,r=e.Deno,i=n&&n.versions||r&&r.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&t&&(o=t.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=t.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),EC=a,EC}var xC,oR;function S$(){if(oR)return xC;oR=1;var e=C$(),t=ao(),n=Bn(),r=n.String;return xC=!!Object.getOwnPropertySymbols&&!t(function(){var i=Symbol("symbol detection");return!r(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&e&&e<41}),xC}var kC,aR;function w$(){if(aR)return kC;aR=1;var e=S$();return kC=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol",kC}var TC,lR;function E$(){if(lR)return TC;lR=1;var e=Dc(),t=dr(),n=CE(),r=w$(),i=Object;return TC=r?function(s){return typeof s=="symbol"}:function(s){var o=e("Symbol");return t(o)&&n(o.prototype,i(s))},TC}var OC,cR;function W0(){if(cR)return OC;cR=1;var e=String;return OC=function(t){try{return e(t)}catch{return"Object"}},OC}var AC,uR;function ul(){if(uR)return AC;uR=1;var e=dr(),t=W0(),n=TypeError;return AC=function(r){if(e(r))return r;throw new n(t(r)+" is not a function")},AC}var IC,dR;function SE(){if(dR)return IC;dR=1;var e=ul(),t=$0();return IC=function(n,r){var i=n[r];return t(i)?void 0:e(i)},IC}var MC,fR;function v4e(){if(fR)return MC;fR=1;var e=lo(),t=dr(),n=Qo(),r=TypeError;return MC=function(i,s){var o,a;if(s==="string"&&t(o=i.toString)&&!n(a=e(o,i))||t(o=i.valueOf)&&!n(a=e(o,i))||s!=="string"&&t(o=i.toString)&&!n(a=e(o,i)))return a;throw new r("Can't convert object to primitive value")},MC}var RC={exports:{}},NC,hR;function lp(){return hR||(hR=1,NC=!1),NC}var PC,pR;function wE(){if(pR)return PC;pR=1;var e=Bn(),t=Object.defineProperty;return PC=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0})}catch{e[n]=r}return r},PC}var mR;function EE(){if(mR)return RC.exports;mR=1;var e=lp(),t=Bn(),n=wE(),r="__core-js_shared__",i=RC.exports=t[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.45.1",mode:e?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),RC.exports}var DC,gR;function x$(){if(gR)return DC;gR=1;var e=EE();return DC=function(t,n){return e[t]||(e[t]=n||{})},DC}var LC,vR;function _4e(){if(vR)return LC;vR=1;var e=yE(),t=Object;return LC=function(n){return t(e(n))},LC}var FC,_R;function Xo(){if(_R)return FC;_R=1;var e=wi(),t=_4e(),n=e({}.hasOwnProperty);return FC=Object.hasOwn||function(i,s){return n(t(i),s)},FC}var jC,yR;function k$(){if(yR)return jC;yR=1;var e=wi(),t=0,n=Math.random(),r=e(1.1.toString);return jC=function(i){return"Symbol("+(i===void 0?"":i)+")_"+r(++t+n,36)},jC}var BC,bR;function co(){if(bR)return BC;bR=1;var e=Bn(),t=x$(),n=Xo(),r=k$(),i=S$(),s=w$(),o=e.Symbol,a=t("wks"),l=s?o.for||o:o&&o.withoutSetter||r;return BC=function(c){return n(a,c)||(a[c]=i&&n(o,c)?o[c]:l("Symbol."+c)),a[c]},BC}var UC,CR;function y4e(){if(CR)return UC;CR=1;var e=lo(),t=Qo(),n=E$(),r=SE(),i=v4e(),s=co(),o=TypeError,a=s("toPrimitive");return UC=function(l,c){if(!t(l)||n(l))return l;var u=r(l,a),d;if(u){if(c===void 0&&(c="default"),d=e(u,l,c),!t(d)||n(d))return d;throw new o("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},UC}var qC,SR;function T$(){if(SR)return qC;SR=1;var e=y4e(),t=E$();return qC=function(n){var r=e(n,"string");return t(r)?r:r+""},qC}var zC,wR;function O$(){if(wR)return zC;wR=1;var e=Bn(),t=Qo(),n=e.document,r=t(n)&&t(n.createElement);return zC=function(i){return r?n.createElement(i):{}},zC}var GC,ER;function A$(){if(ER)return GC;ER=1;var e=Jo(),t=ao(),n=O$();return GC=!e&&!t(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),GC}var xR;function I$(){if(xR)return oC;xR=1;var e=Jo(),t=lo(),n=m4e(),r=b$(),i=bE(),s=T$(),o=Xo(),a=A$(),l=Object.getOwnPropertyDescriptor;return oC.f=e?l:function(u,d){if(u=i(u),d=s(d),a)try{return l(u,d)}catch{}if(o(u,d))return r(!t(n.f,u,d),u[d])},oC}var HC={},VC,kR;function b4e(){if(kR)return VC;kR=1;var e=Jo(),t=ao();return VC=e&&t(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),VC}var $C,TR;function Lc(){if(TR)return $C;TR=1;var e=Qo(),t=String,n=TypeError;return $C=function(r){if(e(r))return r;throw new n(t(r)+" is not an object")},$C}var OR;function cp(){if(OR)return HC;OR=1;var e=Jo(),t=A$(),n=b4e(),r=Lc(),i=T$(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",u="writable";return HC.f=e?n?function(f,h,m){if(r(f),h=i(h),r(m),typeof f=="function"&&h==="prototype"&&"value"in m&&u in m&&!m[u]){var v=a(f,h);v&&v[u]&&(f[h]=m.value,m={configurable:c in m?m[c]:v[c],enumerable:l in m?m[l]:v[l],writable:!1})}return o(f,h,m)}:o:function(f,h,m){if(r(f),h=i(h),r(m),t)try{return o(f,h,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[h]=m.value),f},HC}var WC,AR;function M$(){if(AR)return WC;AR=1;var e=Jo(),t=cp(),n=b$();return WC=e?function(r,i,s){return t.f(r,i,n(1,s))}:function(r,i,s){return r[i]=s,r},WC}var KC={exports:{}},YC,IR;function C4e(){if(IR)return YC;IR=1;var e=Jo(),t=Xo(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,i=t(n,"name"),s=i&&function(){}.name==="something",o=i&&(!e||e&&r(n,"name").configurable);return YC={EXISTS:i,PROPER:s,CONFIGURABLE:o},YC}var ZC,MR;function xE(){if(MR)return ZC;MR=1;var e=wi(),t=dr(),n=EE(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(i){return r(i)}),ZC=n.inspectSource,ZC}var JC,RR;function S4e(){if(RR)return JC;RR=1;var e=Bn(),t=dr(),n=e.WeakMap;return JC=t(n)&&/native code/.test(String(n)),JC}var QC,NR;function w4e(){if(NR)return QC;NR=1;var e=x$(),t=k$(),n=e("keys");return QC=function(r){return n[r]||(n[r]=t(r))},QC}var XC,PR;function R$(){return PR||(PR=1,XC={}),XC}var e3,DR;function N$(){if(DR)return e3;DR=1;var e=S4e(),t=Bn(),n=Qo(),r=M$(),i=Xo(),s=EE(),o=w4e(),a=R$(),l="Object already initialized",c=t.TypeError,u=t.WeakMap,d,f,h,m=function(b){return h(b)?f(b):d(b,{})},v=function(b){return function(C){var S;if(!n(C)||(S=f(C)).type!==b)throw new c("Incompatible receiver, "+b+" required");return S}};if(e||s.state){var _=s.state||(s.state=new u);_.get=_.get,_.has=_.has,_.set=_.set,d=function(b,C){if(_.has(b))throw new c(l);return C.facade=b,_.set(b,C),C},f=function(b){return _.get(b)||{}},h=function(b){return _.has(b)}}else{var y=o("state");a[y]=!0,d=function(b,C){if(i(b,y))throw new c(l);return C.facade=b,r(b,y,C),C},f=function(b){return i(b,y)?b[y]:{}},h=function(b){return i(b,y)}}return e3={set:d,get:f,has:h,enforce:m,getterFor:v},e3}var LR;function P$(){if(LR)return KC.exports;LR=1;var e=wi(),t=ao(),n=dr(),r=Xo(),i=Jo(),s=C4e().CONFIGURABLE,o=xE(),a=N$(),l=a.enforce,c=a.get,u=String,d=Object.defineProperty,f=e("".slice),h=e("".replace),m=e([].join),v=i&&!t(function(){return d(function(){},"length",{value:8}).length!==8}),_=String(String).split("String"),y=KC.exports=function(b,C,S){f(u(C),0,7)==="Symbol("&&(C="["+h(u(C),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),S&&S.getter&&(C="get "+C),S&&S.setter&&(C="set "+C),(!r(b,"name")||s&&b.name!==C)&&(i?d(b,"name",{value:C,configurable:!0}):b.name=C),v&&S&&r(S,"arity")&&b.length!==S.arity&&d(b,"length",{value:S.arity});try{S&&r(S,"constructor")&&S.constructor?i&&d(b,"prototype",{writable:!1}):b.prototype&&(b.prototype=void 0)}catch{}var x=l(b);return r(x,"source")||(x.source=m(_,typeof C=="string"?C:"")),b};return Function.prototype.toString=y(function(){return n(this)&&c(this).source||o(this)},"toString"),KC.exports}var t3,FR;function kE(){if(FR)return t3;FR=1;var e=dr(),t=cp(),n=P$(),r=wE();return t3=function(i,s,o,a){a||(a={});var l=a.enumerable,c=a.name!==void 0?a.name:s;if(e(o)&&n(o,c,a),a.global)l?i[s]=o:r(s,o);else{try{a.unsafe?i[s]&&(l=!0):delete i[s]}catch{}l?i[s]=o:t.f(i,s,{value:o,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return i},t3}var n3={},r3,jR;function E4e(){if(jR)return r3;jR=1;var e=Math.ceil,t=Math.floor;return r3=Math.trunc||function(r){var i=+r;return(i>0?t:e)(i)},r3}var i3,BR;function D$(){if(BR)return i3;BR=1;var e=E4e();return i3=function(t){var n=+t;return n!==n||n===0?0:e(n)},i3}var s3,UR;function x4e(){if(UR)return s3;UR=1;var e=D$(),t=Math.max,n=Math.min;return s3=function(r,i){var s=e(r);return s<0?t(s+i,0):n(s,i)},s3}var o3,qR;function k4e(){if(qR)return o3;qR=1;var e=D$(),t=Math.min;return o3=function(n){var r=e(n);return r>0?t(r,9007199254740991):0},o3}var a3,zR;function L$(){if(zR)return a3;zR=1;var e=k4e();return a3=function(t){return e(t.length)},a3}var l3,GR;function T4e(){if(GR)return l3;GR=1;var e=bE(),t=x4e(),n=L$(),r=function(i){return function(s,o,a){var l=e(s),c=n(l);if(c===0)return!i&&-1;var u=t(a,c),d;if(i&&o!==o){for(;c>u;)if(d=l[u++],d!==d)return!0}else for(;c>u;u++)if((i||u in l)&&l[u]===o)return i||u||0;return!i&&-1}};return l3={includes:r(!0),indexOf:r(!1)},l3}var c3,HR;function O4e(){if(HR)return c3;HR=1;var e=wi(),t=Xo(),n=bE(),r=T4e().indexOf,i=R$(),s=e([].push);return c3=function(o,a){var l=n(o),c=0,u=[],d;for(d in l)!t(i,d)&&t(l,d)&&s(u,d);for(;a.length>c;)t(l,d=a[c++])&&(~r(u,d)||s(u,d));return u},c3}var u3,VR;function A4e(){return VR||(VR=1,u3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),u3}var $R;function I4e(){if($R)return n3;$R=1;var e=O4e(),t=A4e(),n=t.concat("length","prototype");return n3.f=Object.getOwnPropertyNames||function(i){return e(i,n)},n3}var d3={},WR;function M4e(){return WR||(WR=1,d3.f=Object.getOwnPropertySymbols),d3}var f3,KR;function R4e(){if(KR)return f3;KR=1;var e=Dc(),t=wi(),n=I4e(),r=M4e(),i=Lc(),s=t([].concat);return f3=e("Reflect","ownKeys")||function(a){var l=n.f(i(a)),c=r.f;return c?s(l,c(a)):l},f3}var h3,YR;function N4e(){if(YR)return h3;YR=1;var e=Xo(),t=R4e(),n=I$(),r=cp();return h3=function(i,s,o){for(var a=t(s),l=r.f,c=n.f,u=0;u<a.length;u++){var d=a[u];!e(i,d)&&!(o&&e(o,d))&&l(i,d,c(s,d))}},h3}var p3,ZR;function F$(){if(ZR)return p3;ZR=1;var e=ao(),t=dr(),n=/#|\.prototype\./,r=function(l,c){var u=s[i(l)];return u===a?!0:u===o?!1:t(c)?e(c):!!c},i=r.normalize=function(l){return String(l).replace(n,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return p3=r,p3}var m3,JR;function Fc(){if(JR)return m3;JR=1;var e=Bn(),t=I$().f,n=M$(),r=kE(),i=wE(),s=N4e(),o=F$();return m3=function(a,l){var c=a.target,u=a.global,d=a.stat,f,h,m,v,_,y;if(u?h=e:d?h=e[c]||i(c,{}):h=e[c]&&e[c].prototype,h)for(m in l){if(_=l[m],a.dontCallGetSet?(y=t(h,m),v=y&&y.value):v=h[m],f=o(u?m:c+(d?".":"#")+m,a.forced),!f&&v!==void 0){if(typeof _==typeof v)continue;s(_,v)}(a.sham||v&&v.sham)&&n(_,"sham",!0),r(h,m,_,a)}},m3}var g3,QR;function j$(){if(QR)return g3;QR=1;var e=Bn(),t=ap(),n=V0(),r=function(i){return t.slice(0,i.length)===i};return g3=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":e.Bun&&typeof Bun.version=="string"?"BUN":e.Deno&&typeof Deno.version=="object"?"DENO":n(e.process)==="process"?"NODE":e.window&&e.document?"BROWSER":"REST"}(),g3}var v3,XR;function TE(){if(XR)return v3;XR=1;var e=j$();return v3=e==="NODE",v3}var _3,eN;function B$(){if(eN)return _3;eN=1;var e=Bn();return _3=e,_3}var y3,tN;function P4e(){if(tN)return y3;tN=1;var e=wi(),t=ul();return y3=function(n,r,i){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[i]))}catch{}},y3}var b3,nN;function D4e(){if(nN)return b3;nN=1;var e=Qo();return b3=function(t){return e(t)||t===null},b3}var C3,rN;function L4e(){if(rN)return C3;rN=1;var e=D4e(),t=String,n=TypeError;return C3=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype")},C3}var S3,iN;function F4e(){if(iN)return S3;iN=1;var e=P4e(),t=Qo(),n=yE(),r=L4e();return S3=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=e(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,c){return n(l),r(c),t(l)&&(i?o(l,c):l.__proto__=c),l}}():void 0),S3}var w3,sN;function j4e(){if(sN)return w3;sN=1;var e=cp().f,t=Xo(),n=co(),r=n("toStringTag");return w3=function(i,s,o){i&&!o&&(i=i.prototype),i&&!t(i,r)&&e(i,r,{configurable:!0,value:s})},w3}var E3,oN;function B4e(){if(oN)return E3;oN=1;var e=P$(),t=cp();return E3=function(n,r,i){return i.get&&e(i.get,r,{getter:!0}),i.set&&e(i.set,r,{setter:!0}),t.f(n,r,i)},E3}var x3,aN;function U4e(){if(aN)return x3;aN=1;var e=Dc(),t=B4e(),n=co(),r=Jo(),i=n("species");return x3=function(s){var o=e(s);r&&o&&!o[i]&&t(o,i,{configurable:!0,get:function(){return this}})},x3}var k3,lN;function q4e(){if(lN)return k3;lN=1;var e=CE(),t=TypeError;return k3=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation")},k3}var T3,cN;function z4e(){if(cN)return T3;cN=1;var e=co(),t=e("toStringTag"),n={};return n[t]="z",T3=String(n)==="[object z]",T3}var O3,uN;function U$(){if(uN)return O3;uN=1;var e=z4e(),t=dr(),n=V0(),r=co(),i=r("toStringTag"),s=Object,o=n(function(){return arguments}())==="Arguments",a=function(l,c){try{return l[c]}catch{}};return O3=e?n:function(l){var c,u,d;return l===void 0?"Undefined":l===null?"Null":typeof(u=a(c=s(l),i))=="string"?u:o?n(c):(d=n(c))==="Object"&&t(c.callee)?"Arguments":d},O3}var A3,dN;function G4e(){if(dN)return A3;dN=1;var e=wi(),t=ao(),n=dr(),r=U$(),i=Dc(),s=xE(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=e(l.exec),u=!l.test(o),d=function(m){if(!n(m))return!1;try{return a(o,[],m),!0}catch{return!1}},f=function(m){if(!n(m))return!1;switch(r(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return u||!!c(l,s(m))}catch{return!0}};return f.sham=!0,A3=!a||t(function(){var h;return d(d.call)||!d(Object)||!d(function(){h=!0})||h})?f:d,A3}var I3,fN;function H4e(){if(fN)return I3;fN=1;var e=G4e(),t=W0(),n=TypeError;return I3=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor")},I3}var M3,hN;function V4e(){if(hN)return M3;hN=1;var e=Lc(),t=H4e(),n=$0(),r=co(),i=r("species");return M3=function(s,o){var a=e(s).constructor,l;return a===void 0||n(l=e(a)[i])?o:t(l)},M3}var R3,pN;function $4e(){if(pN)return R3;pN=1;var e=H0(),t=Function.prototype,n=t.apply,r=t.call;return R3=typeof Reflect=="object"&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments)}),R3}var N3,mN;function W4e(){if(mN)return N3;mN=1;var e=V0(),t=wi();return N3=function(n){if(e(n)==="Function")return t(n)},N3}var P3,gN;function OE(){if(gN)return P3;gN=1;var e=W4e(),t=ul(),n=H0(),r=e(e.bind);return P3=function(i,s){return t(i),s===void 0?i:n?r(i,s):function(){return i.apply(s,arguments)}},P3}var D3,vN;function K4e(){if(vN)return D3;vN=1;var e=Dc();return D3=e("document","documentElement"),D3}var L3,_N;function Y4e(){if(_N)return L3;_N=1;var e=wi();return L3=e([].slice),L3}var F3,yN;function Z4e(){if(yN)return F3;yN=1;var e=TypeError;return F3=function(t,n){if(t<n)throw new e("Not enough arguments");return t},F3}var j3,bN;function q$(){if(bN)return j3;bN=1;var e=ap();return j3=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),j3}var B3,CN;function z$(){if(CN)return B3;CN=1;var e=Bn(),t=$4e(),n=OE(),r=dr(),i=Xo(),s=ao(),o=K4e(),a=Y4e(),l=O$(),c=Z4e(),u=q$(),d=TE(),f=e.setImmediate,h=e.clearImmediate,m=e.process,v=e.Dispatch,_=e.Function,y=e.MessageChannel,b=e.String,C=0,S={},x="onreadystatechange",w,E,T,O;s(function(){w=e.location});var k=function(D){if(i(S,D)){var R=S[D];delete S[D],R()}},A=function(D){return function(){k(D)}},I=function(D){k(D.data)},P=function(D){e.postMessage(b(D),w.protocol+"//"+w.host)};return(!f||!h)&&(f=function(R){c(arguments.length,1);var F=r(R)?R:_(R),j=a(arguments,1);return S[++C]=function(){t(F,void 0,j)},E(C),C},h=function(R){delete S[R]},d?E=function(D){m.nextTick(A(D))}:v&&v.now?E=function(D){v.now(A(D))}:y&&!u?(T=new y,O=T.port2,T.port1.onmessage=I,E=n(O.postMessage,O)):e.addEventListener&&r(e.postMessage)&&!e.importScripts&&w&&w.protocol!=="file:"&&!s(P)?(E=P,e.addEventListener("message",I,!1)):x in l("script")?E=function(D){o.appendChild(l("script"))[x]=function(){o.removeChild(this),k(D)}}:E=function(D){setTimeout(A(D),0)}),B3={set:f,clear:h},B3}var U3,SN;function J4e(){if(SN)return U3;SN=1;var e=Bn(),t=Jo(),n=Object.getOwnPropertyDescriptor;return U3=function(r){if(!t)return e[r];var i=n(e,r);return i&&i.value},U3}var q3,wN;function G$(){if(wN)return q3;wN=1;var e=function(){this.head=null,this.tail=null};return e.prototype={add:function(t){var n={item:t,next:null},r=this.tail;r?r.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t){var n=this.head=t.next;return n===null&&(this.tail=null),t.item}}},q3=e,q3}var z3,EN;function Q4e(){if(EN)return z3;EN=1;var e=ap();return z3=/ipad|iphone|ipod/i.test(e)&&typeof Pebble<"u",z3}var G3,xN;function X4e(){if(xN)return G3;xN=1;var e=ap();return G3=/web0s(?!.*chrome)/i.test(e),G3}var H3,kN;function ewe(){if(kN)return H3;kN=1;var e=Bn(),t=J4e(),n=OE(),r=z$().set,i=G$(),s=q$(),o=Q4e(),a=X4e(),l=TE(),c=e.MutationObserver||e.WebKitMutationObserver,u=e.document,d=e.process,f=e.Promise,h=t("queueMicrotask"),m,v,_,y,b;if(!h){var C=new i,S=function(){var x,w;for(l&&(x=d.domain)&&x.exit();w=C.get();)try{w()}catch(E){throw C.head&&m(),E}x&&x.enter()};!s&&!l&&!a&&c&&u?(v=!0,_=u.createTextNode(""),new c(S).observe(_,{characterData:!0}),m=function(){_.data=v=!v}):!o&&f&&f.resolve?(y=f.resolve(void 0),y.constructor=f,b=n(y.then,y),m=function(){b(S)}):l?m=function(){d.nextTick(S)}:(r=n(r,e),m=function(){r(S)}),h=function(x){C.head||m(),C.add(x)}}return H3=h,H3}var V3,TN;function twe(){return TN||(TN=1,V3=function(e,t){try{arguments.length===1?console.error(e):console.error(e,t)}catch{}}),V3}var $3,ON;function AE(){return ON||(ON=1,$3=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}),$3}var W3,AN;function up(){if(AN)return W3;AN=1;var e=Bn();return W3=e.Promise,W3}var K3,IN;function dp(){if(IN)return K3;IN=1;var e=Bn(),t=up(),n=dr(),r=F$(),i=xE(),s=co(),o=j$(),a=lp(),l=C$(),c=t&&t.prototype,u=s("species"),d=!1,f=n(e.PromiseRejectionEvent),h=r("Promise",function(){var m=i(t),v=m!==String(t);if(!v&&l===66||a&&!(c.catch&&c.finally))return!0;if(!l||l<51||!/native code/.test(m)){var _=new t(function(C){C(1)}),y=function(C){C(function(){},function(){})},b=_.constructor={};if(b[u]=y,d=_.then(function(){})instanceof y,!d)return!0}return!v&&(o==="BROWSER"||o==="DENO")&&!f});return K3={CONSTRUCTOR:h,REJECTION_EVENT:f,SUBCLASSING:d},K3}var Y3={},MN;function Pd(){if(MN)return Y3;MN=1;var e=ul(),t=TypeError,n=function(r){var i,s;this.promise=new r(function(o,a){if(i!==void 0||s!==void 0)throw new t("Bad Promise constructor");i=o,s=a}),this.resolve=e(i),this.reject=e(s)};return Y3.f=function(r){return new n(r)},Y3}var RN;function nwe(){if(RN)return UM;RN=1;var e=Fc(),t=lp(),n=TE(),r=Bn(),i=B$(),s=lo(),o=kE(),a=F4e(),l=j4e(),c=U4e(),u=ul(),d=dr(),f=Qo(),h=q4e(),m=V4e(),v=z$().set,_=ewe(),y=twe(),b=AE(),C=G$(),S=N$(),x=up(),w=dp(),E=Pd(),T="Promise",O=w.CONSTRUCTOR,k=w.REJECTION_EVENT,A=w.SUBCLASSING,I=S.getterFor(T),P=S.set,D=x&&x.prototype,R=x,F=D,j=r.TypeError,V=r.document,B=r.process,M=E.f,re=M,ge=!!(V&&V.createEvent&&r.dispatchEvent),N="unhandledrejection",we="rejectionhandled",ye=0,X=1,de=2,ee=1,ke=2,se,fe,he,Oe,Ze=function(te){var L;return f(te)&&d(L=te.then)?L:!1},le=function(te,L){var H=L.value,W=L.state===X,ae=W?te.ok:te.fail,Re=te.resolve,st=te.reject,pt=te.domain,lt,nt,St;try{ae?(W||(L.rejection===ke&&$(L),L.rejection=ee),ae===!0?lt=H:(pt&&pt.enter(),lt=ae(H),pt&&(pt.exit(),St=!0)),lt===te.promise?st(new j("Promise-chain cycle")):(nt=Ze(lt))?s(nt,lt,Re,st):Re(lt)):st(H)}catch(wt){pt&&!St&&pt.exit(),st(wt)}},Q=function(te,L){te.notified||(te.notified=!0,_(function(){for(var H=te.reactions,W;W=H.get();)le(W,te);te.notified=!1,L&&!te.rejection&&Me(te)}))},ie=function(te,L,H){var W,ae;ge?(W=V.createEvent("Event"),W.promise=L,W.reason=H,W.initEvent(te,!1,!0),r.dispatchEvent(W)):W={promise:L,reason:H},!k&&(ae=r["on"+te])?ae(W):te===N&&y("Unhandled promise rejection",H)},Me=function(te){s(v,r,function(){var L=te.facade,H=te.value,W=Z(te),ae;if(W&&(ae=b(function(){n?B.emit("unhandledRejection",H,L):ie(N,L,H)}),te.rejection=n||Z(te)?ke:ee,ae.error))throw ae.value})},Z=function(te){return te.rejection!==ee&&!te.parent},$=function(te){s(v,r,function(){var L=te.facade;n?B.emit("rejectionHandled",L):ie(we,L,te.value)})},U=function(te,L,H){return function(W){te(L,W,H)}},pe=function(te,L,H){te.done||(te.done=!0,H&&(te=H),te.value=L,te.state=de,Q(te,!0))},Ae=function(te,L,H){if(!te.done){te.done=!0,H&&(te=H);try{if(te.facade===L)throw new j("Promise can't be resolved itself");var W=Ze(L);W?_(function(){var ae={done:!1};try{s(W,L,U(Ae,ae,te),U(pe,ae,te))}catch(Re){pe(ae,Re,te)}}):(te.value=L,te.state=X,Q(te,!1))}catch(ae){pe({done:!1},ae,te)}}};if(O&&(R=function(L){h(this,F),u(L),s(se,this);var H=I(this);try{L(U(Ae,H),U(pe,H))}catch(W){pe(H,W)}},F=R.prototype,se=function(L){P(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:ye,value:null})},se.prototype=o(F,"then",function(L,H){var W=I(this),ae=M(m(this,R));return W.parent=!0,ae.ok=d(L)?L:!0,ae.fail=d(H)&&H,ae.domain=n?B.domain:void 0,W.state===ye?W.reactions.add(ae):_(function(){le(ae,W)}),ae.promise}),fe=function(){var te=new se,L=I(te);this.promise=te,this.resolve=U(Ae,L),this.reject=U(pe,L)},E.f=M=function(te){return te===R||te===he?new fe(te):re(te)},!t&&d(x)&&D!==Object.prototype)){Oe=D.then,A||o(D,"then",function(L,H){var W=this;return new R(function(ae,Re){s(Oe,W,ae,Re)}).then(L,H)},{unsafe:!0});try{delete D.constructor}catch{}a&&a(D,F)}return e({global:!0,constructor:!0,wrap:!0,forced:O},{Promise:R}),he=i.Promise,l(R,T,!1,!0),c(T),UM}var NN={},Z3,PN;function H$(){return PN||(PN=1,Z3={}),Z3}var J3,DN;function rwe(){if(DN)return J3;DN=1;var e=co(),t=H$(),n=e("iterator"),r=Array.prototype;return J3=function(i){return i!==void 0&&(t.Array===i||r[n]===i)},J3}var Q3,LN;function V$(){if(LN)return Q3;LN=1;var e=U$(),t=SE(),n=$0(),r=H$(),i=co(),s=i("iterator");return Q3=function(o){if(!n(o))return t(o,s)||t(o,"@@iterator")||r[e(o)]},Q3}var X3,FN;function iwe(){if(FN)return X3;FN=1;var e=lo(),t=ul(),n=Lc(),r=W0(),i=V$(),s=TypeError;return X3=function(o,a){var l=arguments.length<2?i(o):a;if(t(l))return n(e(l,o));throw new s(r(o)+" is not iterable")},X3}var e5,jN;function swe(){if(jN)return e5;jN=1;var e=lo(),t=Lc(),n=SE();return e5=function(r,i,s){var o,a;t(r);try{if(o=n(r,"return"),!o){if(i==="throw")throw s;return s}o=e(o,r)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return t(o),s},e5}var t5,BN;function $$(){if(BN)return t5;BN=1;var e=OE(),t=lo(),n=Lc(),r=W0(),i=rwe(),s=L$(),o=CE(),a=iwe(),l=V$(),c=swe(),u=TypeError,d=function(h,m){this.stopped=h,this.result=m},f=d.prototype;return t5=function(h,m,v){var _=v&&v.that,y=!!(v&&v.AS_ENTRIES),b=!!(v&&v.IS_RECORD),C=!!(v&&v.IS_ITERATOR),S=!!(v&&v.INTERRUPTED),x=e(m,_),w,E,T,O,k,A,I,P=function(R){return w&&c(w,"normal"),new d(!0,R)},D=function(R){return y?(n(R),S?x(R[0],R[1],P):x(R[0],R[1])):S?x(R,P):x(R)};if(b)w=h.iterator;else if(C)w=h;else{if(E=l(h),!E)throw new u(r(h)+" is not iterable");if(i(E)){for(T=0,O=s(h);O>T;T++)if(k=D(h[T]),k&&o(f,k))return k;return new d(!1)}w=a(h,E)}for(A=b?h.next:w.next;!(I=t(A,w)).done;){try{k=D(I.value)}catch(R){c(w,"throw",R)}if(typeof k=="object"&&k&&o(f,k))return k}return new d(!1)},t5}var n5,UN;function owe(){if(UN)return n5;UN=1;var e=co(),t=e("iterator"),n=!1;try{var r=0,i={next:function(){return{done:!!r++}},return:function(){n=!0}};i[t]=function(){return this},Array.from(i,function(){throw 2})}catch{}return n5=function(s,o){try{if(!o&&!n)return!1}catch{return!1}var a=!1;try{var l={};l[t]=function(){return{next:function(){return{done:a=!0}}}},s(l)}catch{}return a},n5}var r5,qN;function W$(){if(qN)return r5;qN=1;var e=up(),t=owe(),n=dp().CONSTRUCTOR;return r5=n||!t(function(r){e.all(r).then(void 0,function(){})}),r5}var zN;function awe(){if(zN)return NN;zN=1;var e=Fc(),t=lo(),n=ul(),r=Pd(),i=AE(),s=$$(),o=W$();return e({target:"Promise",stat:!0,forced:o},{all:function(l){var c=this,u=r.f(c),d=u.resolve,f=u.reject,h=i(function(){var m=n(c.resolve),v=[],_=0,y=1;s(l,function(b){var C=_++,S=!1;y++,t(m,c,b).then(function(x){S||(S=!0,v[C]=x,--y||d(v))},f)}),--y||d(v)});return h.error&&f(h.value),u.promise}}),NN}var GN={},HN;function lwe(){if(HN)return GN;HN=1;var e=Fc(),t=lp(),n=dp().CONSTRUCTOR,r=up(),i=Dc(),s=dr(),o=kE(),a=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(c){return this.then(void 0,c)}}),!t&&s(r)){var l=i("Promise").prototype.catch;a.catch!==l&&o(a,"catch",l,{unsafe:!0})}return GN}var VN={},$N;function cwe(){if($N)return VN;$N=1;var e=Fc(),t=lo(),n=ul(),r=Pd(),i=AE(),s=$$(),o=W$();return e({target:"Promise",stat:!0,forced:o},{race:function(l){var c=this,u=r.f(c),d=u.reject,f=i(function(){var h=n(c.resolve);s(l,function(m){t(h,c,m).then(u.resolve,d)})});return f.error&&d(f.value),u.promise}}),VN}var WN={},KN;function uwe(){if(KN)return WN;KN=1;var e=Fc(),t=Pd(),n=dp().CONSTRUCTOR;return e({target:"Promise",stat:!0,forced:n},{reject:function(i){var s=t.f(this),o=s.reject;return o(i),s.promise}}),WN}var YN={},i5,ZN;function dwe(){if(ZN)return i5;ZN=1;var e=Lc(),t=Qo(),n=Pd();return i5=function(r,i){if(e(r),t(i)&&i.constructor===r)return i;var s=n.f(r),o=s.resolve;return o(i),s.promise},i5}var JN;function fwe(){if(JN)return YN;JN=1;var e=Fc(),t=Dc(),n=lp(),r=up(),i=dp().CONSTRUCTOR,s=dwe(),o=t("Promise"),a=n&&!i;return e({target:"Promise",stat:!0,forced:n||i},{resolve:function(c){return s(a&&this===o?r:this,c)}}),YN}var QN;function hwe(){return QN||(QN=1,nwe(),awe(),lwe(),cwe(),uwe(),fwe()),BM}var XN={},eP;function K$(){if(eP)return XN;eP=1;var e=Fc(),t=Pd();return e({target:"Promise",stat:!0},{withResolvers:function(){var r=t.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}}),XN}var s5,tP;function pwe(){if(tP)return s5;tP=1,hwe(),K$();var e=lo(),t=dr(),n=B$(),r=n.Promise,i=r.withResolvers;return s5=function(){return e(i,t(this)?this:r)},s5}var o5,nP;function mwe(){if(nP)return o5;nP=1;var e=pwe();return o5=e,o5}var rP={},iP;function gwe(){return iP||(iP=1,K$()),rP}var a5,sP;function vwe(){if(sP)return a5;sP=1;var e=mwe();return gwe(),a5=e,a5}vwe();async function _we(){performance.mark("polyfill.all.start"),await Promise.allSettled([h4e(),f4e(),p4e()]),performance.mark("polyfill.all.end"),performance.measure("polyfill.all","polyfill.all.start","polyfill.all.end")}const X1=["light","dark"],IE="(prefers-color-scheme: dark)",ywe=typeof window>"u",ME=p.createContext(void 0),bwe={setTheme:e=>{},themes:[]},Y$=()=>{var e;return(e=p.useContext(ME))!==null&&e!==void 0?e:bwe},Cwe=e=>p.useContext(ME)?Fe.createElement(p.Fragment,null,e.children):Fe.createElement(wwe,e),Swe=["light","dark"],wwe=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=Swe,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:c,nonce:u})=>{const[d,f]=p.useState(()=>oP(i,o)),[h,m]=p.useState(()=>oP(i)),v=l?Object.values(l):s,_=p.useCallback(S=>{let x=S;if(!x)return;S==="system"&&n&&(x=aP());const w=l?l[x]:x,E=t?xwe():null,T=document.documentElement;if(a==="class"?(T.classList.remove(...v),w&&T.classList.add(w)):w?T.setAttribute(a,w):T.removeAttribute(a),r){const O=X1.includes(o)?o:null,k=X1.includes(x)?x:O;T.style.colorScheme=k}E?.()},[]),y=p.useCallback(S=>{f(S);try{localStorage.setItem(i,S)}catch{}},[e]),b=p.useCallback(S=>{const x=aP(S);m(x),d==="system"&&n&&!e&&_("system")},[d,e]);p.useEffect(()=>{const S=window.matchMedia(IE);return S.addListener(b),b(S),()=>S.removeListener(b)},[b]),p.useEffect(()=>{const S=x=>{x.key===i&&y(x.newValue||o)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[y]),p.useEffect(()=>{_(e??d)},[e,d]);const C=p.useMemo(()=>({theme:d,setTheme:y,forcedTheme:e,resolvedTheme:d==="system"?h:d,themes:n?[...s,"system"]:s,systemTheme:n?h:void 0}),[d,y,e,h,n,s]);return Fe.createElement(ME.Provider,{value:C},Fe.createElement(Ewe,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:o,attribute:a,value:l,children:c,attrs:v,nonce:u}),c)},Ewe=p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{const c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;c.remove(${a.map(m=>`'${m}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?X1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,v=!1,_=!0)=>{const y=o?o[m]:m,b=v?m+"|| ''":`'${y}'`;let C="";return i&&_&&!v&&X1.includes(m)&&(C+=`d.style.colorScheme = '${m}';`),n==="class"?C+=v||y?`c.add(${b})`:"null":y&&(C+=`d[s](n,${b})`),C},h=e?`!function(){${u}${f(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${IE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${d}}catch(t){}}();`;return Fe.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})},()=>!0),oP=(e,t)=>{if(ywe)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},xwe=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},aP=e=>(e||(e=window.matchMedia(IE)),e.matches?"dark":"light");function Z$(e){return e==="system"||J$(e)}function J$(e){return e==="dark"||e==="light"}function kwe(e){if(!Z$(e))throw new Error(`Unexpected theme ${e}`)}function Cze(){const{theme:e,setTheme:t}=Y$();function n(r){kwe(r),r!==e&&t(r)}return[Z$(e)?e:"system",n]}function Twe(){const e=Y$().resolvedTheme;if(J$(e))return e}function Owe(){return Twe()==="dark"}function Awe(){return document.documentElement.classList.contains("dark")}const Q$=new Set;let fh=[];const RS=new Set;function Iwe(){for(const e of RS)try{e()}catch{}}function RE(e){fh=e,Iwe()}function lP(e){if(!e.id)return;const t=fh.slice(),n=t.findIndex(r=>r.id===e.id);n>=0?t[n]={...t[n],...e}:t.unshift(e),RE(t)}function Mwe(e){for(const t of e)t&&Q$.add(t)}function Rwe(e){return e?Q$.has(e):!1}function Nwe(e){return RS.add(e),()=>{RS.delete(e)}}function Pwe(){return fh}function Dwe(e){if(!e)return;const t=fh.findIndex(r=>r.id===e);if(t===-1)return;const n=fh.slice();n[t]={...n[t],reacted_to_at:new Date().toISOString()},RE(n)}async function X$(e){await ue.safePost("/amphora/notifications/{notification_id}/reacted",{parameters:{path:{notification_id:e}}})}async function Lwe(e=20){return await ue.safeGet("/amphora/notifications",{parameters:{query:{limit:e}}})}const Fwe=p.createContext({isEmbeddedInFocusedView:!1});function jwe(){return p.useContext(Fwe).isEmbeddedInFocusedView}const Bwe=Fh(()=>be(()=>import("./d1ou4osus5l9jpqt.js"),__vite__mapDeps([19,1])).then(e=>e.QRCodeSVG)),NE=({onDismiss:e,title:t,content:n,customCtas:r,onPrimaryCtaClick:i,primaryCtaText:s,primaryCtaColor:o,secondaryCtaColor:a,primaryCtaQrLink:l,onPrimaryCtaQrClick:c,onSecondaryCtaClick:u,onDangerCtaClick:d,secondaryCtaText:f,dangerCtaText:h,icon:m,isElevated:v=!0,isPrimaryCtaDisabled:_=!1,isSecondaryCtaDisabled:y=!1,isDangerCtaDisabled:b=!1,type:C="normal",className:S})=>{const x=jwe(),w="m-w-fit flex shrink-0 flex-col gap-2 pb-1 md:pb-0",E=r?g.jsx("div",{className:w,children:r}):(s||f||h)&&g.jsxs("div",{className:w,children:[s&&g.jsx(Vt,{onClick:i,color:o??"primary",className:"shrink-0",disabled:_,children:s}),f&&g.jsx(Vt,{onClick:u,color:a??"secondary",className:"shrink-0",disabled:y,children:f}),h&&g.jsx(Vt,{onClick:d,color:"danger-outline",className:"shrink-0",disabled:b,children:h})]});return g.jsxs("aside",{className:xe("flex w-full items-start gap-4 rounded-3xl border py-4 ps-5 pe-3 text-sm [text-wrap:pretty] lg:mx-auto dark:border-transparent",v&&"shadow-xxs",x?"flex-col":"md:items-center",C==="error"?"border-token-surface-error/15 text-token-text-error dark:bg-token-surface-error/5 bg-red-50":C==="info"?"border-token-border-light bg-token-main-surface-secondary text-token-text-primary dark:bg-token-main-surface-tertiary":"border-token-border-default bg-token-main-surface-primary text-token-text-primary dark:bg-token-main-surface-secondary",S),children:[g.jsxs("div",{className:xe("flex h-full w-full gap-3",!x&&"md:items-center"),children:[m&&g.jsx("div",{className:"flex items-start pt-0.5",children:m}),g.jsxs("div",{className:"flex grow flex-col md:flex-row md:items-center md:justify-between md:gap-8",children:[g.jsxs("div",{className:"flex flex-col",children:[t&&g.jsx("h3",{className:xe("text-sm font-bold",C==="error"?"text-token-text-error":"text-token-text-primary"),children:t}),g.jsx("div",{className:xe(t?C==="error"?"text-token-text-error":"text-token-text-secondary":""),children:n})]}),g.jsxs("div",{className:"mt-2 flex min-w-fit flex-col gap-2 md:mt-0 md:items-center md:gap-4",children:[l&&g.jsx(Bwe,{className:"min-h-[62px] min-w-[62px] cursor-pointer",onClick:c,size:62,value:l}),!x&&E]})]}),g.jsx("div",{className:"flex shrink-0 items-center gap-2",children:!!e&&g.jsx(Lh,{onClick:e})})]}),x&&E]})},Sze=({onDismiss:e,title:t,content:n,onPrimaryCtaClick:r,primaryCtaText:i,onSecondaryCtaClick:s,secondaryCtaText:o})=>g.jsxs("div",{className:xe("border-main-surface-secondary bg-token-main-surface-primary text-token-text-primary flex h-16 items-center border-b px-2 text-sm"),children:[g.jsxs("div",{className:"flex items-center justify-center",children:[!!e&&g.jsx(Lh,{onClick:e,className:"text-token-text-tertiary -me-2"}),g.jsx(bV,{className:"h-16 w-16 rounded-xs pt-1 shadow-none"}),g.jsxs("div",{className:"-ms-1 flex flex-col",children:[t&&g.jsx("div",{className:"text-token-text-primary font-bold",children:t}),g.jsx("div",{className:xe(t?"text-token-text-secondary -mt-0.5":""),children:n})]})]}),g.jsxs("div",{className:"ms-auto flex justify-end",children:[i&&g.jsx(Vt,{onClick:r,color:"primary",className:"shrink-0",children:i}),o&&g.jsx(Vt,{onClick:s,color:"secondary",className:"me-2 shrink-0",children:o})]})]}),Dd=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M16.0012 6.09038C16.0012 5.74214 15.8209 5.42299 15.5315 5.24175L15.4016 5.17241L10.4016 2.98491C10.1776 2.8869 9.9263 2.87423 9.69556 2.9478L9.59888 2.98491L4.59888 5.17241C4.23428 5.33192 3.99829 5.69242 3.99829 6.09038V10.8335C3.99834 12.3761 4.58097 13.7821 5.53735 14.8453C6.5736 13.5214 8.18682 12.6685 10.0002 12.6685C11.8135 12.6686 13.426 13.5216 14.4622 14.8453C15.4186 13.7821 16.0012 12.3762 16.0012 10.8335V6.09038ZM10.0002 13.9986C8.58354 13.9986 7.32514 14.6781 6.53345 15.731C7.5127 16.4254 8.70843 16.8355 10.0002 16.8355C11.2918 16.8354 12.4869 16.4252 13.4661 15.731C12.6744 14.6783 11.4167 13.9987 10.0002 13.9986ZM11.6262 8.54155C11.6261 7.64334 10.8984 6.91477 10.0002 6.9146C9.1019 6.9146 8.37336 7.64323 8.37329 8.54155C8.37329 9.43993 9.10186 10.1685 10.0002 10.1685C10.8985 10.1683 11.6262 9.43983 11.6262 8.54155ZM12.9563 8.54155C12.9563 10.1744 11.633 11.4984 10.0002 11.4986C8.36732 11.4986 7.04321 10.1745 7.04321 8.54155C7.04328 6.90869 8.36737 5.5855 10.0002 5.5855C11.633 5.58567 12.9562 6.9088 12.9563 8.54155ZM17.3313 10.8335C17.3312 14.8825 14.0492 18.1644 10.0002 18.1646C5.95114 18.1646 2.66831 14.8826 2.66821 10.8335V6.09038C2.66821 5.16401 3.21698 4.32497 4.06567 3.95366L9.06567 1.76616L9.29224 1.6812C9.82924 1.51009 10.4135 1.53807 10.9348 1.76616L15.9348 3.95366L16.0901 4.02886C16.8496 4.43032 17.3313 5.22192 17.3313 6.09038V10.8335Z"}));function Uwe(){const{hash:e}=Rr(),t=zi();return{openSettings:n=>{t(Ede(n))},closeSettings:()=>{t({hash:""})},isOpen:uq(e),currentTab:wde(e)}}const wze=qi({queryKey:["clientApplications"],queryFn:()=>ue.safeGet("/client_applications")});function Eze(){const e=Sn();return jn({mutationFn:t=>ue.safeDelete("/client_applications/{client_id}",{parameters:{path:{client_id:t}}}),onSuccess:()=>{window.location.reload()},onError:t=>{G.addError("Failed to revoke client application",{error:t}),e.danger("Failed to disconnect. Please try again later.",{toastId:"revoke_client_application"})}})}async function NS(e){try{e&&(await X$(e),Dwe(e))}catch{}}async function cP(e,t){if(!e)return!0;try{return await ue.safePost("/amphora/{amphora_id}/invite",{parameters:{path:{amphora_id:e}},requestBody:{choice:t}}),!0}catch{return!1}}function qwe(e,t,n){no(e,Gwe,{notificationId:t,payload:n})}function xze(e,t,n){no(e,eW,{payload:t,notificationId:n})}function zwe(e,t){no(e,Hwe,{payload:t})}function Gwe(e){"use forget";const t=Te.c(25),{onClose:n,notificationId:r,payload:i}=e,s=it(),o=me(),a=i?.role;let l,c;if(t[0]!==s||t[1]!==i?.inviter_identifier||t[2]!==i?.inviter_name||t[3]!==a){const b=i?.inviter_name?.trim()??s.formatMessage(pn.bannerFallbackInviterName),C=i?.inviter_identifier?.trim()??s.formatMessage(pn.bannerFallbackInviterIdentifier),S=a==="owner"?pn.bannerTitleOwner:a==="member_role"?pn.bannerTitleMember:pn.bannerTitleDefault;l=s.formatMessage(S,{inviterName:b}),c=s.formatMessage(pn.bannerDescription,{inviterIdentifier:C}),t[0]=s,t[1]=i?.inviter_identifier,t[2]=i?.inviter_name,t[3]=a,t[4]=l,t[5]=c}else l=t[4],c=t[5];const u=c;let d;t[6]!==s?(d=s.formatMessage(pn.bannerCta),t[6]=s,t[7]=d):d=t[7];const f=d;let h;t[8]!==u?(h=g.jsx("span",{children:u}),t[8]=u,t[9]=h):h=t[9];let m;t[10]===Symbol.for("react.memo_cache_sentinel")?(m=g.jsx(Dd,{className:"h-6 w-6 shrink-0"}),t[10]=m):m=t[10];let v;t[11]!==o||t[12]!==r||t[13]!==n||t[14]!==i?(v=()=>{n(),no(o,eW,{payload:i,notificationId:r})},t[11]=o,t[12]=r,t[13]=n,t[14]=i,t[15]=v):v=t[15];let _;t[16]!==r||t[17]!==n?(_=async()=>{await NS(r),n()},t[16]=r,t[17]=n,t[18]=_):_=t[18];let y;return t[19]!==f||t[20]!==l||t[21]!==h||t[22]!==v||t[23]!==_?(y=g.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-3 z-60 flex justify-center px-3",children:g.jsx("div",{className:"pointer-events-auto w-full max-w-[728px]",children:g.jsx(NE,{title:l,content:h,icon:m,primaryCtaText:f,primaryCtaColor:"secondary",onPrimaryCtaClick:v,onDismiss:_,isElevated:!0})})}),t[19]=f,t[20]=l,t[21]=h,t[22]=v,t[23]=_,t[24]=y):y=t[24],y}function eW(e){"use forget";const t=Te.c(44),{onClose:n,payload:r,notificationId:i}=e,s=it(),o=me(),a=cr(),l=r?.role;let c,u,d;if(t[0]!==s||t[1]!==r?.inviter_identifier||t[2]!==r?.inviter_name||t[3]!==l){const O=r?.inviter_name?.trim()??s.formatMessage(pn.bannerFallbackInviterName);let k;t[7]!==s||t[8]!==r?.inviter_identifier?(k=r?.inviter_identifier?.trim()??s.formatMessage(pn.bannerFallbackInviterIdentifier),t[7]=s,t[8]=r?.inviter_identifier,t[9]=k):k=t[9],u=k;const A=l==="owner"?pn.infoModalTitleOwner:l==="member_role"?pn.infoModalTitleMember:pn.infoModalTitleDefault,I=l==="owner"?pn.infoModalDescriptionOwner:l==="member_role"?pn.infoModalDescriptionMember:pn.infoModalDescriptionDefault;c=s.formatMessage(A,{inviterName:O}),d=s.formatMessage(I,{inviterName:O}),t[0]=s,t[1]=r?.inviter_identifier,t[2]=r?.inviter_name,t[3]=l,t[4]=c,t[5]=u,t[6]=d}else c=t[4],u=t[5],d=t[6];const f=d,h=u;let m;t[10]!==c?(m=g.jsx("span",{children:c}),t[10]=c,t[11]=m):m=t[11];let v;t[12]!==h?(v=g.jsx("span",{className:"text-token-text-tertiary mt-1 text-sm",children:h}),t[12]=h,t[13]=v):v=t[13];let _;t[14]!==m||t[15]!==v?(_=g.jsxs("div",{className:"flex flex-col",children:[m,v]}),t[14]=m,t[15]=v,t[16]=_):_=t[16];let y;t[17]===Symbol.for("react.memo_cache_sentinel")?(y=g.jsx(Dd,{className:"h-10 w-10"}),t[17]=y):y=t[17];let b;t[18]!==s?(b=s.formatMessage(pn.infoModalPrimaryCta),t[18]=s,t[19]=b):b=t[19];let C;t[20]!==o||t[21]!==i||t[22]!==n||t[23]!==r||t[24]!==a?(C=async()=>{await cP(r?.family_group_id,"accept")&&(await NS(i),await a.invalidateQueries({queryKey:["amphora"],exact:!1}),n(),zwe(o,r))},t[20]=o,t[21]=i,t[22]=n,t[23]=r,t[24]=a,t[25]=C):C=t[25];let S;t[26]!==b||t[27]!==C?(S=g.jsx(cs.Button,{color:"primary",title:b,onClick:C}),t[26]=b,t[27]=C,t[28]=S):S=t[28];let x;t[29]!==s?(x=s.formatMessage(pn.infoModalSecondaryCta),t[29]=s,t[30]=x):x=t[30];let w;t[31]!==i||t[32]!==n||t[33]!==r?.family_group_id?(w=async()=>{await cP(r?.family_group_id,"reject")&&(await NS(i),n())},t[31]=i,t[32]=n,t[33]=r?.family_group_id,t[34]=w):w=t[34];let E;t[35]!==w||t[36]!==x?(E=g.jsx(cs.Button,{color:"secondary",title:x,onClick:w}),t[35]=w,t[36]=x,t[37]=E):E=t[37];let T;return t[38]!==f||t[39]!==n||t[40]!==E||t[41]!==_||t[42]!==S?(T=g.jsx(xs,{testId:"modal-amphora-family-invite-info",isOpen:!0,onClose:n,title:_,description:f,icon:y,hasSeparator:!0,size:"large",showCloseButton:!0,footerIsSpacedBetween:!0,primaryButton:S,secondaryButton:E}),t[38]=f,t[39]=n,t[40]=E,t[41]=_,t[42]=S,t[43]=T):T=t[43],T}function Hwe(e){"use forget";const t=Te.c(20),{onClose:n,payload:r}=e,i=it(),{openSettings:s}=Uwe(),o=r?.role;let a;if(t[0]!==i||t[1]!==r?.inviter_name||t[2]!==o){const v=r?.inviter_name?.trim()??i.formatMessage(pn.bannerFallbackInviterName),_=o==="owner"?pn.acceptedBannerDescriptionOwner:o==="member_role"?pn.acceptedBannerDescriptionMember:pn.acceptedBannerDescriptionDefault;a=i.formatMessage(_,{inviterName:v}),t[0]=i,t[1]=r?.inviter_name,t[2]=o,t[3]=a}else a=t[3];const l=a;let c;t[4]!==i?(c=i.formatMessage(pn.acceptedBannerTitle),t[4]=i,t[5]=c):c=t[5];let u;t[6]!==l?(u=g.jsx("span",{children:l}),t[6]=l,t[7]=u):u=t[7];let d;t[8]===Symbol.for("react.memo_cache_sentinel")?(d=g.jsx(Dd,{className:"h-6 w-6 shrink-0"}),t[8]=d):d=t[8];let f;t[9]!==i?(f=i.formatMessage(pn.acceptedBannerCta),t[9]=i,t[10]=f):f=t[10];let h;t[11]!==n||t[12]!==s?(h=()=>{n(),s(Ad.AmphoraControls)},t[11]=n,t[12]=s,t[13]=h):h=t[13];let m;return t[14]!==n||t[15]!==c||t[16]!==u||t[17]!==f||t[18]!==h?(m=g.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-3 z-60 flex justify-center px-3",children:g.jsx("div",{className:"pointer-events-auto w-full max-w-[728px]",children:g.jsx(NE,{title:c,content:u,icon:d,primaryCtaText:f,primaryCtaColor:"secondary",onPrimaryCtaClick:h,onDismiss:n,isElevated:!0})})}),t[14]=n,t[15]=c,t[16]=u,t[17]=f,t[18]=h,t[19]=m):m=t[19],m}const pn=Ot({bannerTitleOwner:{id:"amphora.familyInvite.banner.title.owner",defaultMessage:"Are you {inviterName}'s parent or guardian?"},bannerTitleMember:{id:"amphora.familyInvite.banner.title.member",defaultMessage:"Are you {inviterName}'s child?"},bannerTitleDefault:{id:"amphora.familyInvite.banner.title.default",defaultMessage:"You've received a family invitation"},bannerDescription:{id:"amphora.familyInvite.banner.description",defaultMessage:"{inviterIdentifier} wants to link to your account"},bannerCta:{id:"amphora.familyInvite.banner.cta",defaultMessage:"View invitation"},bannerFallbackInviterName:{id:"amphora.familyInvite.banner.fallbackInviterName",defaultMessage:"your family member"},bannerFallbackInviterIdentifier:{id:"amphora.familyInvite.banner.fallbackInviterIdentifier",defaultMessage:"Someone"},infoModalTitleDefault:{id:"amphora.familyInvite.infoModal.title.default",defaultMessage:"You've received a family invitation"},infoModalTitleOwner:{id:"amphora.familyInvite.infoModal.title.owner",defaultMessage:"{inviterName} added you as their parent"},infoModalTitleMember:{id:"amphora.familyInvite.infoModal.title.member",defaultMessage:"Add {inviterName} as your parent or guardian?"},infoModalDescriptionOwner:{id:"amphora.familyInvite.infoModal.description.owner",defaultMessage:"If you accept, you’ll be able to manage some of {inviterName}’s settings. You won’t have access to their conversations with ChatGPT, but you may be notified in rare cases where our system detects possible signs of self-harm. You can unlink accounts anytime. Learn more"},infoModalDescriptionMember:{id:"amphora.familyInvite.infoModal.description.member",defaultMessage:"If you accept, {inviterName} will be able to manage some of your settings. Your conversations with ChatGPT will remain private, but {inviterName} may be notified in rare cases where our system detects possible signs of self-harm. You can unlink accounts anytime. Learn more"},infoModalDescriptionDefault:{id:"amphora.familyInvite.infoModal.description.default",defaultMessage:"If you accept, you’ll be able to manage shared settings. Conversations stay private, but notification rules may apply. You can unlink accounts anytime. Learn more"},infoModalPrimaryCta:{id:"amphora.familyInvite.infoModal.primaryCta",defaultMessage:"Accept"},infoModalSecondaryCta:{id:"amphora.familyInvite.infoModal.secondaryCta",defaultMessage:"Decline"},acceptedBannerTitle:{id:"amphora.familyInvite.acceptedBanner.title",defaultMessage:"Request accepted"},acceptedBannerDescriptionOwner:{id:"amphora.familyInvite.acceptedBanner.description.owner",defaultMessage:"You can now manage parental controls for {inviterName}"},acceptedBannerDescriptionMember:{id:"amphora.familyInvite.acceptedBanner.description.member",defaultMessage:"{inviterName} can now manage your parental controls"},acceptedBannerDescriptionDefault:{id:"amphora.familyInvite.acceptedBanner.description.default",defaultMessage:"Parental controls are now linked"},acceptedBannerCta:{id:"amphora.familyInvite.acceptedBanner.cta",defaultMessage:"View settings"}});async function uP(e){try{e&&await X$(e)}catch{}}function Vwe(e,t){no(e,Wwe,{notificationId:t})}function $we({onClose:e}){const t=it();return g.jsx(xs,{testId:"modal-amphora-u18-info",isOpen:!0,onClose:e,title:t.formatMessage(zl.u18ModalTitle),description:t.formatMessage(zl.u18ModalDescription),icon:g.jsx(Dd,{className:"h-10 w-10"}),hasSeparator:!0,size:"large",showCloseButton:!0,footerIsSpacedBetween:!0,primaryButton:g.jsx(cs.Button,{color:"primary",title:t.formatMessage(zl.u18ModalPrimaryCta),onClick:e}),secondaryButton:g.jsx(cs.Button,{color:"secondary",title:t.formatMessage(zl.u18ModalSecondaryCta),disabled:!0,onClick:e})})}function Wwe({onClose:e,notificationId:t}){const n=it(),r=me();return g.jsx("div",{className:"pointer-events-none fixed inset-x-0 bottom-3 z-60 flex justify-center px-3",children:g.jsx("div",{className:"pointer-events-auto w-full max-w-[728px]",children:g.jsx(NE,{title:n.formatMessage(zl.u18BannerTitle),content:g.jsx("span",{children:n.formatMessage(zl.u18BannerDescription)}),icon:g.jsx(Dd,{className:"h-6 w-6 shrink-0"}),primaryCtaText:n.formatMessage(zl.learnMoreCta),primaryCtaColor:"secondary",onPrimaryCtaClick:async()=>{await uP(t),e(),no(r,$we)},onDismiss:async()=>{await uP(t),e()},isElevated:!0})})})}const zl=Ot({u18BannerTitle:{id:"amphora.settingsTopic.u18BannerTitle",defaultMessage:"Adjustment to model behavior for teens"},u18BannerDescription:{id:"amphora.settingsTopic.u18BannerDescription",defaultMessage:"We've added extra protections to keep your experience safe and supportive"},learnMoreCta:{id:"amphora.settingsTopic.u18Banner.learnMoreCta",defaultMessage:"Learn more"},u18ModalTitle:{id:"amphora.settingsTopic.u18Modal.title",defaultMessage:"Model behavior for teens in ChatGPT"},u18ModalDescription:{id:"amphora.settingsTopic.u18Modal.description",defaultMessage:"Extra protections have been added for teens to keep your experience safe and supportive. ChatGPT will avoid unsafe or graphic topics and focus on age-appropriate answers that help you learn and grow."},u18ModalPrimaryCta:{id:"amphora.settingsTopic.u18Modal.primaryCta",defaultMessage:"Ok, I understand"},u18ModalSecondaryCta:{id:"amphora.settingsTopic.u18Modal.secondaryCta",defaultMessage:"I am over 18"}}),eg=new d9;class Kwe{start=0;connectTime=0;hasLoggedGetSocketURL=!1;didLogPingFromWorker=!1;didLogPingFromServer=!1;pingId=Vr();actionMetadata={};onFetchSocketURL=()=>{if(!this.hasLoggedGetSocketURL){const t=performance.now()-this.start;this.actionMetadata.socket_url_duration=t,this.actionMetadata.socket_url_time=t,G.addAction("ws.get-socket-url",this.actionMetadata),Cn.hist(gn.WEBSOCKET,"get-socket-url",[],t),this.hasLoggedGetSocketURL=!0}};#e=({payload:t})=>{const{ping_id:n,source:r}=t;if(!(n!=null&&n!==this.pingId)){if(r==="server"&&!this.didLogPingFromServer){this.didLogPingFromServer=!0;const i=performance.now()-this.start,s=i-this.connectTime;this.actionMetadata.receive_server_ping_time=i,this.actionMetadata.receive_server_ping_duration=s,G.addAction("ws.receive-server-ping",this.actionMetadata),Cn.hist(gn.WEBSOCKET,"receive-server-ping",[],s)}if((r==="worker"||r==null)&&!this.didLogPingFromWorker){this.didLogPingFromWorker=!0;const i=performance.now()-this.start,s=i-this.connectTime;this.actionMetadata.receive_ping_time=i,this.actionMetadata.receive_ping_duration=s,G.addAction("ws.receive-ping",this.actionMetadata),Cn.hist(gn.WEBSOCKET,"receive-ping",[],s)}this.didLogPingFromWorker&&this.didLogPingFromServer&&eg.off("ping",this.#e)}};onInit(){G.addAction("ws.init"),Cn.count(gn.WEBSOCKET,"init"),this.start=performance.now()}onConnect(){if(!(this.connectTime>0))try{this.connectTime=performance.now()-this.start;const t=this.connectTime-Number(this.actionMetadata.socket_url_time);this.actionMetadata.connect_time=this.connectTime,this.actionMetadata.connect_duration=t,G.addAction("ws.connect",this.actionMetadata),Cn.hist(gn.WEBSOCKET,"connect",[],t),eg.on("ping",this.#e),G.addAction("ws.send-ping",this.actionMetadata),ue.safePost("/celsius/ping",{requestBody:{ping_id:this.pingId}})}catch(t){G.addAction("ws.error",{error:t}),Cn.count(gn.WEBSOCKET,"error")}}}const tW=en(e=>We(e,"1281927149")?new Kwe:void 0);(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var nW=class extends Event{message;error;constructor(e,t){super("error",t),this.message=e.message,this.error=e}},rW=class extends Event{code;reason;wasClean=!0;constructor(e=1e3,t="",n){super("close",n),this.code=e,this.reason=t}},l5={Event,ErrorEvent:nW,CloseEvent:rW};function Ywe(e,t){if(!e)throw new Error(t)}function Zwe(e){return new e.constructor(e.type,e)}function Jwe(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new rW(e.code||1999,e.reason||"unknown reason",e):"error"in e?new nW(e.error,e):new Event(e.type,e)}var dP,Qwe=typeof process<"u"&&typeof((dP=process.versions)==null?void 0:dP.node)<"u"&&typeof document>"u",gm=Qwe?Jwe:Zwe,El={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},fP=!1,PS=class Rl extends EventTarget{_ws;_retryCount=-1;_uptimeTimeout;_connectTimeout;_shouldReconnect=!0;_connectLock=!1;_binaryType="blob";_closeCalled=!1;_messageQueue=[];_debugLogger=console.log.bind(console);_url;_protocols;_options;constructor(t,n,r={}){super(),this._url=t,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Rl.CONNECTING}get OPEN(){return Rl.OPEN}get CLOSING(){return Rl.CLOSING}get CLOSED(){return Rl.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((n,r)=>(typeof r=="string"?n+=r.length:r instanceof Blob?n+=r.size:n+=r.byteLength,n),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Rl.CLOSED:Rl.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}onclose=null;onerror=null;onmessage=null;onopen=null;close(t=1e3,n){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)}reconnect(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{const{maxEnqueuedMessages:n=El.maxEnqueuedMessages}=this._options;this._messageQueue.length<n&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){const{reconnectionDelayGrowFactor:t=El.reconnectionDelayGrowFactor,minReconnectionDelay:n=El.minReconnectionDelay,maxReconnectionDelay:r=El.maxReconnectionDelay}=this._options;let i=0;return this._retryCount>0&&(i=n*t**(this._retryCount-1),i>r&&(i=r)),this._debug("next delay",i),i}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_getNextProtocols(t){if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(typeof t=="function"){const n=t();if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(n.then)return n}throw Error("Invalid protocols")}_getNextUrl(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){const n=t();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:t=El.maxRetries,connectionTimeout:n=El.connectionTimeout}=this._options;if(this._retryCount>=t){this._debug("max retries reached",this._retryCount,">=",t);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([r,i])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!fP&&(console.error(`‼️ No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),fP=!0);const s=this._options.WebSocket||WebSocket;this._debug("connect",{url:r,protocols:i}),this._ws=i?new s(r,i):new s(r),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),n)}).catch(r=>{this._connectLock=!1,this._handleError(new l5.ErrorEvent(Error(r.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new l5.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(t=1e3,n){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(t,n),this._handleClose(new l5.CloseEvent(t,n,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_handleOpen=t=>{this._debug("open event");const{minUptime:n=El.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),n),Ywe(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(r=>{var i;return(i=this._ws)==null?void 0:i.send(r)}),this._messageQueue=[],this.onopen&&this.onopen(t),this.dispatchEvent(gm(t))};_handleMessage=t=>{this._debug("message event"),this.onmessage&&this.onmessage(t),this.dispatchEvent(gm(t))};_handleError=t=>{this._debug("error event",t.message),this._disconnect(void 0,t.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(t),this._debug("exec error listeners"),this.dispatchEvent(gm(t)),this._connect()};_handleClose=t=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(t),this.dispatchEvent(gm(t))};_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */let _o=null;function Xwe(e,t){let n=null;const r=()=>{const i=Date.now(),s=n!=null?i-n.time:null;return n!=null&&s!=null&&s<t?(G.addAction("websocket-url-cache.hit",{timeSinceLastValue:s}),n.promise):(G.addAction("websocket-url-cache.miss",{timeSinceLastValue:s}),n={promise:e().catch(o=>{throw G.addAction("websocket-url-cache.error"),n=null,o}),time:i},n.promise)};return r.invalidate=()=>{G.addAction("websocket-url-cache.invalidate"),n=null},r}const iW=async()=>(await ue.safeGet("/celsius/ws/user")).websocket_url,e9e=Xwe(iW,15e5);function sW(e){return We(e,"2892913572")?e9e():iW()}function t9e(e){const t=tW(e);t?.onInit(),_o=new PS(async()=>{const r=await sW(e);return t?.onFetchSocketURL(),r},void 0,{maxRetries:50,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.25,maxReconnectionDelay:2e4});let n;return _o.addEventListener("open",()=>{t?.onConnect(),We(e,"3274829134")&&(n=setInterval(()=>{_o&&_o.readyState===PS.OPEN&&_o.send(JSON.stringify({type:"keepalive-ping"}))},2e4))}),_o.addEventListener("close",()=>{n!==void 0&&(clearInterval(n),n=void 0)}),_o.addEventListener("message",r=>{const i=JSON.parse(r.data),{type:s,...o}=i,a={kind:s,...o};eg.publish(a)}),_o.addEventListener("error",r=>{G.addAction("websocket error",{error:r.error,message:r.message})}),_o}const hP=en(()=>Go(e=>{const t=()=>e();return window.addEventListener("focus",t),window.addEventListener("blur",t),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",t),window.removeEventListener("blur",t),document.removeEventListener("visibilitychange",t)}},()=>document.hasFocus(),{name:"isWindowFocused",getServerFallback:()=>!0})),oW=en(e=>new r9e(e));function n9e(e,t){return oW(e).getTopic(t)}class r9e{constructor(t){this.ctx=t}ws;pingTest;nextRequestId=1;commandCallbacks={};topics=new Map;isTransportOpen=!1;isBatchingCommands=!1;batchCommands=[];keepaliveInterval;init(){this.pingTest=tW(this.ctx),this.pingTest?.onInit();const t=new PS(async()=>{const n=await sW(this.ctx);return this.pingTest?.onFetchSocketURL(),n},void 0,{maxRetries:50,minReconnectionDelay:1e3+Math.random()*4e3,reconnectionDelayGrowFactor:1.25,maxReconnectionDelay:2e4});this.ws=t,t.addEventListener("open",()=>{this.#e()}),t.addEventListener("close",()=>{this.#r()}),t.addEventListener("message",n=>{this.#n(n)}),t.addEventListener("error",n=>{this.#i(n)}),this.#t()}connect(){this.ws.reconnect()}disconnect(){this.ws.close()}#e(){this.pingTest?.onConnect(),this.isTransportOpen=!0,this.startBatchCommands(),this.sendCommand({type:"connect",presence:{type:"presence",state:Hl(hP(this.ctx))?"foreground":"background"}});for(const t of this.topics.values())t.state===1&&t.subscribe();this.endBatchCommands(),We(this.ctx,"3274829134")&&(this.keepaliveInterval=setInterval(()=>{this.ws.send(JSON.stringify({type:"keepalive-ping"}))},2e4))}#t(){const t=hP(this.ctx);pF(()=>t(),n=>{this.isTransportOpen&&this.sendCommand({type:"presence",state:n?"foreground":"background"})})}#r(){this.isTransportOpen=!1;for(const t of this.topics.values())t.handleDisconnect();this.endBatchCommands(),this.keepaliveInterval&&(clearInterval(this.keepaliveInterval),this.keepaliveInterval=void 0)}#n(t){const n=JSON.parse(t.data);if(Array.isArray(n)){const r=n;for(const i of r)if("type"in i&&i.type==="message"){const{topic_id:s}=i,o=this.topics.get(s);o&&o.handleMessage(i)}else"id"in i&&"reply"in i&&this.commandCallbacks[i.id].resolve(i.reply)}else{const r=n,{type:i,...s}=r,o={kind:i,...s};eg.publish(o)}}#i(t){G.addAction("websocket error",{error:t.error,message:t.message})}getTopic(t){const n=this.topics.get(t);if(n)return n;const r=new i9e(t,this);return this.topics.set(t,r),r}startBatchCommands(){this.isBatchingCommands=!0,this.batchCommands=[]}endBatchCommands(){this.isBatchingCommands=!1,this.ws.send(JSON.stringify(this.batchCommands)),this.batchCommands=[]}async sendCommand(t){const n=this.nextRequestId++;this.commandCallbacks[n]=Promise.withResolvers();const r={id:n,command:t};this.isBatchingCommands?this.batchCommands.push(r):this.ws.send(JSON.stringify([r]));const i=await this.commandCallbacks[n].promise;return delete this.commandCallbacks[n],i}}class i9e{constructor(t,n){this.topicId=t,this.client=n}state=2;offset=null;#e=new d9;#t=!1;onMessage(t){return this.#e.on("message",n=>t(n.payload))}onPotentialMissedMessages(t){return this.#e.on("recovery-failed",()=>t())}handleMessage(t){this.#e.publish({kind:"message",payload:t.payload}),t.offset!=null&&t.offset!==""&&(this.offset=t.offset)}handleDisconnect(){this.state=1,this.#t=!1}async subscribe(t={}){if(t.includeAllHistory&&this.offset==null&&(this.offset="0"),this.state!==0&&(this.state=1,this.client.isTransportOpen&&!this.#t)){this.#t=!0;const n=this.offset,r=await this.client.sendCommand({type:"subscribe",topic_id:this.topicId,...n!=null?{offset:n}:{}});if(this.#t=!1,r.type==="subscribe"&&r.topic_id===this.topicId){if(this.state=0,this.offset=r.last_offset??null,r.recovered&&r.catchups!=null)for(const i of r.catchups)this.handleMessage(i);n!=null&&!r.recovered&&this.#e.publish({kind:"recovery-failed"})}else throw new Error("Unexpected reply to subscribe command")}}unsubscribe(){this.state!==2&&((this.state===0||this.#t)&&this.client.sendCommand({type:"unsubscribe",topic_id:this.topicId}),this.state=2)}}function kze(){"use forget";return p.useSyncExternalStore(Nwe,Pwe)}function aW(e,t){if(t.notification_type!=="setting-defaulted")return!1;const n=t.payload;return n?.name==="3VyEPC5dTP_model_instructions_enabled"&&n?.value?(Vwe(e,t.id),!0):!1}function lW(e,t){if(t.notification_type!=="family-invite")return!1;const n=t.payload;return qwe(e,t.id,n),!0}function s9e(e){We(e,"1748348224")&&(async()=>{try{const t=await Lwe(20),n=(t.items??[]).map(r=>r.id).filter(Boolean);Mwe(n),RE(t.items??[]);for(const r of t.items??[])!r.reacted_to_at&&(aW(e,r)||lW(e,r))}catch{}})()}function o9e(e){if(!We(e,"1748348224"))return;n9e(e,"app_notifications").onMessage(n=>{if(n?.type&&!["setting-defaulted","family-invite"].includes(n.type))return;const r=n.notification_id;if(!Rwe(r)){if(n?.type==="setting-defaulted"){const i={id:r??"",notification_type:n.type,payload:n.payload};lP(i),aW(e,i)}else if(n?.type==="family-invite"){const i={id:r??"",notification_type:n.type,payload:n.payload};lP(i),lW(e,i)}}})}function a9e(e){o9e(e),s9e(e)}function l9e(e){if(We(e,"1819663106")){const t=oW(e);t.init(),t.getTopic("conversations").subscribe(),We(e,"1748348224")&&t.getTopic("app_notifications").subscribe();return}We(e,"4141006638")&&t9e(e)}function c9e(e){dn(e)&&(Eoe(e),a0e(e),l9e(e),a9e(e))}let pP=!1;function u9e(e){pP||(pP=!0,c9e(e))}const d9e=p.createContext({cspScriptNonce:void 0});function Tze(e){return fn(e).windowStyle==="chatbar_view"}const DS="_tm",Ff="_m";var f9e=(e=>(e.SHARE_NOT_FOUND="share_not_found",e.SHARED_POST_NOT_FOUND="shared_post_not_found",e.GIZMO_NOT_FOUND="gizmo_not_found",e.PROJECT_NOT_FOUND="project_not_found",e.NO_ACCESS="no_access",e.OAUTH_SUCCESS="oauth_success",e.OAUTH_FAILED_GENERIC="oauth_failed_generic",e.OAUTH_FAILED_SCOPE_MISMATCH="oauth_failed_scope_mismatch",e.OAUTH_FAILED_EMAIL_DOMAIN_ENFORCEMENT="oauth_failed_email_domain_enforcement",e.CUSTOM_ERROR="c_err",e.CUSTOM_MSG="c_msg",e.ACCOUNT_TRANSFER_ERROR="account_transfer_error",e.MFA_ENABLED="mfa_enabled",e.ENABLE_MFA_ERROR="enable_mfa_error",e.DISABLE_MFA_SUCCESS="disable_mfa_success",e.DISABLE_MFA_TIMEOUT="disable_mfa_timeout",e.CANVAS_NOT_FOUND="canvas_not_found",e))(f9e||{});function Oze(e,t="/",n){const r=typeof window<"u",i=new URL(t,r?window.location.origin:window.location.origin);return i.searchParams.set(DS,e),(e==="c_err"||e==="c_msg")&&(n?i.searchParams.set(Ff,n):i.searchParams.set(Ff,"An error has occurred")),i.pathname+i.search+i.hash}function h9e(){const[e]=gg(),{pathname:t,hash:n}=Rr(),r=zi(),i=it(),s=Sn();p.useEffect(()=>{const o=e.get(DS);if(o!==void 0){const a=(l,c,u,d,f)=>{const h=typeof l=="string"?l:i.formatMessage(l);s[d](h,{id:c,duration:u,hasCloseButton:f});const m=new URLSearchParams(e);m.delete(DS),m.delete(Ff),r({search:`?${m.toString()}`,hash:n},{replace:!0})};switch(o){case"share_not_found":G.addAction("global_toast.conversation_inaccessible",{path:t}),a(ki.conversationInaccessible,"share_not_found",10,"warning",!0);break;case"shared_post_not_found":a(ki.sharedPostNotFound,"shared_post_not_found",10,"warning",!0);break;case"gizmo_not_found":a(ki.gizmoNotFound,"gizmo_not_found",10,"warning",!0);break;case"project_not_found":a(ki.projectNotFound,"project_not_found",10,"warning",!0);break;case"no_access":a(ki.noAccess,"no_access",5,"warning",!0);break;case"oauth_success":a(ki.oauthSuccess,"oauth_success",5,"success",!0);break;case"oauth_failed_generic":a(ki.oauthFailedGeneric,"oauth_failed_generic",5,"warning",!0);break;case"oauth_failed_scope_mismatch":a(ki.oauthFailedScopeMismatch,"oauth_failed_scope_mismatch",5,"warning",!0);break;case"oauth_failed_email_domain_enforcement":a(ki.oauthFailedEmailDomainEnforcement,"oauth_failed_email_domain_enforcement",5,"warning",!0);break;case"c_msg":a(e.get(Ff),"c_msg",10,"success",!0);break;case"c_err":a(e.get(Ff),"c_err",5,"warning",!0);break;case"account_transfer_error":a({id:"globalToasts.accountTransferError",defaultMessage:"Error transferring account. To retry, go to Settings → Merge.",description:"Error when unable to transfer their personal account to the workspace"},"account_transfer_error",5,"warning",!0);break;case"mfa_enabled":a({id:"enableMfa.success",defaultMessage:"Multi-factor authentication enabled",description:"Confirmation toast after an MFA enable action is successfully executed"},"mfa_enabled",5,"success",!0);break;case"enable_mfa_error":a({id:"enrollMfa.failure",defaultMessage:"Error occurred. Please try again.",description:"Error toast after MFA token request failed"},"enable_mfa_error",5,"warning",!0);break;case"disable_mfa_success":a(ki.disableMfaSuccess,"disable_mfa_success",5,"success",!0);break;case"disable_mfa_timeout":a(ki.disableMfaTimeout,"disable_mfa_timeout",5,"warning",!0);break;case"canvas_not_found":a(ki.canvasNotFound,"canvas_not_found",5,"warning",!1);break}}},[i,s,t,e,r,n])}const ki=Ot({conversationInaccessible:{id:"globalToasts.conversationInaccessible",defaultMessage:"Conversation inaccessible or not found. You may need to switch accounts or request access if this conversation exists."},sharedPostNotFound:{id:"globalToasts.sharedPostNotFound",defaultMessage:"This share is inaccessible or not found."},gizmoNotFound:{id:"globalToasts.gizmoNotFound",defaultMessage:"This GPT is inaccessible or not found. Ensure you're using the right account."},projectNotFound:{id:"globalToasts.projectNotFound",defaultMessage:"This project is inaccessible or not found. Ensure you're using the right account."},noAccess:{id:"globalToasts.noAccess",defaultMessage:"You do not currently have access to this feature"},oauthSuccess:{id:"globalToasts.oauthSuccess",defaultMessage:"Your account is now connected"},oauthFailedGeneric:{id:"globalToasts.oauthFailedGeneric",defaultMessage:"Something went wrong with setting up the connection"},oauthFailedScopeMismatch:{id:"globalToasts.oauthFailedScopeMismatch",defaultMessage:"Not all requested permissions were granted"},oauthFailedEmailDomainEnforcement:{id:"globalToasts.oauthFailedEmailDomainEnforcement",defaultMessage:"Your company has an enterprise workspace that manages connector access. Contact your enterprise admin to get access."},disableMfaSuccess:{id:"disableMfa.success",defaultMessage:"Multi-factor authentication disabled"},disableMfaTimeout:{id:"disableMfa.timeout",defaultMessage:"Your last log in was too long ago, please try again"},canvasNotFound:{id:"canvasNotFound",defaultMessage:"This canvas is inaccessible or not found. Ensure you are logged in, verify you’re in the correct ChatGPT.com workspace, or request access if you believe you should have it, if it exists."}});let jc;function p9e(){let e;return{promise:new Promise(n=>{e=n}),resolve:e}}const{promise:m9e,resolve:g9e}=p9e();function Aze(e){jc=e,g9e(e)}async function v9e(){try{const e=jc?.getHost();return e?await e.getToolNames():null}catch{return null}}const K0="kaur1br5",cW=`${K0}_context`;function _9e(e){const t=Qt(e);if(!t)return;const n=Se.getConversationTurns(t).flatMap(r=>r.messages);for(let r=n.length-1;r>=0;r--){const i=n[r];if(i.author.role===He.Tool&&i.author.name===cW)return i}}function mP(e){const t=e.metadata;return{content:e.content,attachments:t?.attachments??[],browserContext:t?.[K0],exclusiveKey:t?.exclusive_key??void 0}}function y9e(e,t){return iB(mP(e),mP(t))}const gP=9e4;class b9e extends Error{timeoutMs;constructor(t){super(`sidebar whisper timed out after ${t}ms`),this.name="SidebarWhisperTimeoutError",this.timeoutMs=t}}const C9e="unqfp8es";function fp(){return jc?.getHost()}function S9e(){const[e,t]=p.useState(()=>fp());return p.useEffect(()=>{if(e)return;let n=!0;return m9e.then(r=>{n&&t(r.getHost())}),()=>{n=!1}},[e]),e}function Ize(){return jc?.getLinkHandler()}function Mze(){return jc?.getProductEventHandler()}function uW(e){return e?.includes(ve.Agent)===!0}function Rze(e,t,n,r){return jc?new Promise((i,s)=>{const o=setTimeout(()=>s(new b9e(gP)),gP);w9e(e,t,n,r).then(a=>{clearTimeout(o),i(a)}).catch(a=>{clearTimeout(o),s(a)})}):Promise.resolve(void 0)}async function w9e(e,t,n,r){if(uW(n))return;const i=await jc?.getSidebarWhisperContent();if(i)return await fW(i,dW(e?.url),e,t,n,r)}function E9e(e,t){return e.map(n=>({id:n.fileid,name:n.name,size:n.size,mime_type:n.mimetype,...t&&{[K0]:{source:{url:t.url,host:t.url?new URL(t.url).hostname:void 0,title:t.title}}}}))}function dW(e){return e?`${C9e} - ${e}`:void 0}function x9e(e,t){const n=[];t?.length&&n.push(...t);const r="-",i={content_type:"app_pairing_content",workspaces:[{id:r,content_type:"browser_window"}],context_parts:e.map(s=>({content:s.content??void 0,url:s.url??void 0,title:s.title??void 0,workspace_id:r,content_type:"browser_text"})),custom_instructions:null};return n.push(i),{content_type:$e.MultimodalText,parts:n}}function k9e(e,t){if(t.length>0){const n=e;return{content_type:$e.MultimodalText,parts:[...t,n]}}return{content_type:$e.Text,parts:[e]}}async function fW(e,t,n,r,i,s){if(uW(i))return;const{imageAssetPointers:o,content:a,files:l,embeddedDocumentContexts:c,customInstructions:u}=e,d=c??[],f=d.length>0;if(!a&&!f)throw new Error("Whisper content is missing content");const h=a??"",m=(o??[]).map(C=>({content_type:zn.ImageAssetPointer,asset_pointer:C.assetPointer,size_bytes:C.sizeBytes,width:C.width,height:C.height})),v=f?x9e(d,m):k9e(h,m),_={is_visually_hidden_from_conversation:!0,...t&&{exclusive_key:t},attachments:E9e(l??[],n),...await T9e(n,r,"context",i)},y={id:Vr(),author:{role:He.Tool,name:cW},create_time:Date.now()/1e3,content:v,recipient:"all",metadata:_};if(s){const C=_9e(s);if(C&&y9e(C,y)){di.warn("Sidechat Context:Skipping duplicate context tool message",{clientThreadId:s,duplicateMessageId:C.id});return}else di.warn("Sidechat Context: Adding tool message",{clientThreadId:s,messageId:y.id})}const b=[y];if(u&&u.trim().length>0&&b.push({id:Vr(),author:{role:He.Developer},recipient:"all",create_time:Date.now()/1e3,content:{content_type:$e.Text,parts:[u]},metadata:{is_visually_hidden_from_conversation:!0,...t&&{exclusive_key:`${t}-instructions`}}}),b.length!==0)return b}async function Nze(e,t,n,r){if(!(!e||!gi()||!nr.whisperContent))return await fW(nr.whisperContent,dW(e.url),e,t,n,r)}async function T9e(e,t,n,r){const i=r?.includes(ve.Agent)===!0;let s,o;if(!i&&e?.selection){const c=e.selection;o=RB(c),s=c.length>1e3?c.substring(0,1e3):c}let a;try{const c=fp();c&&(a=await c.getClientID())}catch{}const l={origin:t,type:n,client_id:a,sources:e?[{id:e.id,url:e.url,host:new URL(e.url).hostname,title:e.title,...s&&{selection:s,selection_word_count:o},...e.base64favicon&&{base64favicon:e.base64favicon}}]:[]};return{[K0]:l}}const Xl=Ho(()=>({activeRequests:{}})),O9e=en(()=>bF(Xl)),PE=e=>O9e(e)(),Pze=(e,t)=>PE(e).activeRequests[t]??null;function Dze(e){"use forget";const t=Te.c(2);let n;return t[0]!==e?(n=r=>DE(e,r),t[0]=e,t[1]=n):n=t[1],wc(Xl,n)}const Lze=(e,t)=>DE(t,PE(e));function DE(e,t=Xl.getState()){return e!=null&&t.activeRequests[e]!=null}function Fze(){"use forget";return wc(Xl,A9e)}function A9e(e){return Object.keys(e.activeRequests).length>0}const jze=e=>Object.keys(PE(e).activeRequests).length>0,jf={addRequest(e,t,n){Xl.setState(r=>({activeRequests:{...r.activeRequests,[e]:{id:e,abortController:t,turnTracker:n}}}))},removeRequest(e){Xl.setState(t=>{const n={...t.activeRequests};return delete n[e],{activeRequests:n}})},abortRequest(e){const{activeRequests:t}=Xl.getState();return t[e]!=null?(t[e].abortController.abort(),jf.removeRequest(e),!0):!1}};function I9e(e,t,n,r,i=!1,s=void 0,o={},a=void 0){const l={client_thread_id:String(e),client_initiated:t,reason:n,is_agent_hint_enabled:s,...o,has_stop_conduit_token:a};if(!(s||r))return;if(i&&s!==void 0&&s!==r){const d=`conversation.transition_${r?"from_agent_to_non_agent":"from_non_agent_to_agent"}`;G.addAction(d,{...l,action_type:"abort_completion"}),K.logEventWithStatsig("Agent Conversation Transition","chatgpt_agent_conversation_transition",{...l,action_type:"abort_completion"})}Cn.count(gn.DEFAULT,"chatgpt_web_conversation_stop",[{key:"has_stop_conduit_token",value:a?"true":"false"},{key:"stop_reason",value:n}]),r&&(G.addAction("conversation.stop_attempted",{...l,is_last_turn_agent:!0}),K.logEventWithStatsig("Agent Conversation Stop","chatgpt_agent_conversation_stop",{...l}))}const hW=b0(()=>Tt(null));function pW(e){return hW(e)()}function mW(e,t){const n=hW(e);M9e(Hl(()=>n()),t)&&n.set(t)}function M9e(e,t){return!(e?.value===Br.REALTIME&&t?.value===Br.STREAMING)}const Bze=e=>{"use forget";const t=Te.c(3),n=me();let r;return t[0]!==n||t[1]!==e?(r=()=>{if(e===void 0)return null;const i=ol(n,e);return pW(i)},t[0]=n,t[1]=e,t[2]=r):r=t[2],Or(r)},LE=(e,t)=>{const n=ol(e,t);return pW(n)},Pl=(e,t)=>{const n=ol(Lt(),e);mW(n,t)};async function gW(e,t=Se.getRequestId(Qt(e)),{clientInitiated:n=!1,reason:r="other",isLastTurnAgent:i=void 0,hasAgentSystemHint:s=void 0}={}){const o=DE(t),a=Lt(),l=Qt(e),c=Ui(e),u=LE(a,e),d=u?.value===Br.REALTIME,f=u?.value===Br.STREAMING,h=Se.getCurrentNode(l),m=l?.stopConduitToken??null,v=m!==null,y=(()=>{const x=h?.message;return x?pae(x):!1})(),b=f&&h?.message?.metadata?.model_slug?.endsWith("-pro");if(!o&&!d&&!b&&!(f&&n))return;It(e,x=>{x.interruptionInProgress=!0});let S;if(c&&We(a,"3922476776")){const x={requestBody:{conversation_id:c,check_async_status:d||b&&!o},authOption:Xt.SendIfAvailable,...m?{additionalHeaders:{"x-conduit-token":m}}:{}};S=await ue.safePost("/stop_conversation",x),m&&It(e,E=>{E.stopConduitToken=null});const w=()=>(l?Se.getLastMessageSystemHints(l):[]).includes(ve.Agent)||!!Se.getCurrentNode(l)?.message.metadata?.n7jupd_message;try{I9e(e,n,r,i??w(),!0,s,{},v)}catch(E){di.error("Error logging abort completion attempt for analytics",{error:E})}}return o&&!y&&jf.abortRequest(t),It(e,x=>{x.interruptionInProgress=!1}),S}const Uze="side_chat",R9e="ntp",N9e="address_bar",qze="website",tg=new Set,zze=(e,t=()=>!0)=>{p.useEffect(()=>{const n={callback:e,shouldBlock:t};return tg.add(n),()=>{tg.delete(n)}},[e,t])},P9e=()=>Array.from(tg).some(e=>e.shouldBlock()),D9e=()=>Promise.allSettled(Array.from(tg).filter(e=>e.shouldBlock()).map(e=>e.callback()));class L9e{completionStartTime=Date.now();completionEndTime;blurDuringCompletionTime;refocusTime;constructor(){window.addEventListener("blur",this.onWindowBlur)}logFocusAfterBlurDuringCompletionEvent=()=>{_t.logEvent("chatgpt_focus_after_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`}),K.logEvent("Focus After Blur During Completion",{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`,refocus_time_ms:`${this.refocusTime-this.completionStartTime}`})};onWindowBlur=()=>{this.blurDuringCompletionTime===void 0&&(this.blurDuringCompletionTime=Date.now(),window.addEventListener("focus",this.onWindowFocusAfterBlur))};onWindowFocusAfterBlur=()=>{this.refocusTime=Date.now(),this.completionEndTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent(),this.cleanupFocusAfterBlurListener()};cleanupFocusAfterBlurListener=()=>{window.removeEventListener("focus",this.onWindowFocusAfterBlur)};onMessageError=()=>{window.removeEventListener("blur",this.onWindowBlur)};onMessageDone=()=>{window.removeEventListener("blur",this.onWindowBlur),this.blurDuringCompletionTime!==void 0&&(this.completionEndTime=Date.now(),_t.logEvent("chatgpt_blur_during_completion",null,{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),K.logEvent("Blur During Completion",{completion_duration_ms:`${this.completionEndTime-this.completionStartTime}`,blur_time_ms:`${this.blurDuringCompletionTime-this.completionStartTime}`}),this.refocusTime!==void 0&&this.logFocusAfterBlurDuringCompletionEvent())}}const LS=new Set,Gze=e=>{p.useEffect(()=>(LS.add(e),()=>{LS.delete(e)}),[e])},vP=e=>{for(const t of LS)try{t({error:e})}catch(n){G.addError(n)}},Ld=hn(()=>({messagesDevData:{},activeNodeId:void 0,ui:{focusedNodeId:void 0}})),F9e=()=>Ld.getState().ui.focusedNodeId,Fd=()=>Ld.getState().messagesDevData;function Hze(e){const t=Object.keys(Fd()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n+1)%t.length;return t[r]}function Vze(e){const t=Object.keys(Fd()),n=t.indexOf(e);if(n===-1)throw new Error("Key not found in object");const r=(n-1+t.length)%t.length;return t[r]}function $ze(e){return Object.keys(Fd()).indexOf(e)}const Wze=()=>Object.keys(Fd()).length;var c5,_P;function j9e(){if(_P)return c5;_P=1;function e(t,n){for(var r,i=-1,s=t.length;++i<s;){var o=n(t[i]);o!==void 0&&(r=r===void 0?o:r+o)}return r}return c5=e,c5}var u5,yP;function B9e(){if(yP)return u5;yP=1;var e=j9e(),t=NaN;function n(r,i){var s=r==null?0:r.length;return s?e(r,i)/s:t}return u5=n,u5}var d5,bP;function U9e(){if(bP)return d5;bP=1;var e=B9e(),t=Bw();function n(r){return e(r,t)}return d5=n,d5}var q9e=U9e();const z9e=_n(q9e);function G9e(e){return e.length===0?null:e.reduce((n,r)=>n+r,0)/e.length}function H9e(e){const t=e.length;if(t===0)return 0;const n=G9e(e)||0,r=e.reduce((i,s)=>i+Math.pow(s-n,2),0)/t;return Math.sqrt(r)}function CP(e,t){const n=e.slice().sort((a,l)=>a-l),r=t*(n.length-1),i=Math.floor(r),s=Math.ceil(r);if(i===s)return n[i];const o=r-i;return(1-o)*n[i]+o*n[s]}function V9e(e){if(e.length===0)return null;const t=e.slice().sort((r,i)=>r-i),n=Math.floor(t.length/2);return t.length%2===0?(t[n-1]+t[n])/2:t[n]}var Xi=(e=>(e.FirstTokenLatency="first_token_lat",e.TotalRequestTime="total_request_time",e.TokenCount="token_count",e.StdDevTokenLatency="std_dev_token_lat",e.MeanTokenLatency="mean_token_lat",e.MedianTokenLatency="median_token_lat",e.MinTokenLatency="min_token_lat",e.MaxTokenLatency="max_token_lat",e.P95TokenLatency="p95_token_lat",e.P99TokenLatency="p99_token_lat",e))(Xi||{});const vW=e=>{const t=e.filter(f=>f.requestCount>1);let n=0;for(let f=0;f<e.length;f++){const h=e[f];if(n=h.requestDuration,h.content!=="")break}const r=CP(t.map(f=>f.lastTokenDuration),.95),i=CP(t.map(f=>f.lastTokenDuration),.99),s=z9e(t.map(f=>f.lastTokenDuration)),o=V9e(t.map(f=>f.lastTokenDuration)),a=t.filter(f=>f.lastTokenDuration!==0).reduce((f,h)=>Math.min(f,h.lastTokenDuration),1/0),l=t.reduce((f,h)=>Math.max(f,h.lastTokenDuration),-1/0),c=H9e(t.map(f=>f.lastTokenDuration)),u=e[e.length-1]?.requestDuration;return[{id:"first_token_lat",name:"First Token lat.",stat:n>0?`${n.toFixed(2)}ms`:null,value:n>0?n:null,category:"summary"},{id:"total_request_time",name:"Total request time",stat:u?`${(u/1e3).toFixed(2)}s`:null,value:u||null,category:"summary"},{id:"token_count",name:"Token count",stat:`${e.length}`,value:e.length,category:"summary"},{id:"std_dev_token_lat",name:"Std dev Token lat.",stat:`${c.toFixed(2)}`,value:c,category:"token"},{id:"mean_token_lat",name:"Mean Token lat.",stat:s?`${s.toFixed(2)}ms`:null,value:s??null,category:"aggregate"},{id:"median_token_lat",name:"Median Token lat.",stat:o?`${o.toFixed(2)}ms`:null,value:o??null,category:"token"},{id:"min_token_lat",name:"Min Token lat.",stat:`${a.toFixed(2)}ms`,value:a??null,category:"token"},{id:"max_token_lat",name:"Max Token lat.",stat:`${l.toFixed(2)}ms`,value:l??null,category:"token"},{id:"p95_token_lat",name:"p95 Token lat.",stat:r?`${r.toFixed(2)}ms`:null,value:r??null,category:"aggregate"},{id:"p99_token_lat",name:"p99 Token lat.",stat:i?`${i.toFixed(2)}ms`:null,value:i??null,category:"aggregate"}]},Kze=()=>{const e=Fd(),t=F9e();if(!e||!t)return{stats:[],targetLatencyData:[]};const r=e[t]?.data??[];return{stats:vW(r),targetLatencyData:r}},$9e=(e,t,n,r)=>{Ld.setState(i=>{const s={focusedNodeId:e},o={status:"active",data:[],model:t,serverRequestId:n,preflightTime:r};return{...i,activeNodeId:e,ui:s,messagesDevData:{...i.messagesDevData,[e]:o}}})},W9e=(e,t,n)=>{const r=n?.search_source;Ld.setState(i=>{const s=i.messagesDevData[e];return{...i,activeNodeId:e,messagesDevData:{...i.messagesDevData,[e]:{...s,data:[...s?.data??[],t],searchSource:r}}}})},Ns=(e,t)=>t.find(n=>n.id===e)?.value,K9e=e=>{if(!dn(Lt()))return;const n=Fd()[e],r=vW(n.data),{preflightTime:i,model:s,serverRequestId:o,searchSource:a}=n;return ue.safePost("/lat/r",{requestBody:{server_request_id:o,model:s,preflight_time_ms:i,search_source:a,count_tokens:Ns(Xi.TokenCount,r)??0,ts_first_token_ms:Ns(Xi.FirstTokenLatency,r),ts_max_token_time_ms:Ns(Xi.MaxTokenLatency,r),ts_mean_token_without_first_ms:Ns(Xi.MeanTokenLatency,r),ts_median_token_without_first_ms:Ns(Xi.MedianTokenLatency,r),ts_min_token_time_ms:Ns(Xi.MinTokenLatency,r),ts_p95_token_without_first_ms:Ns(Xi.P95TokenLatency,r),ts_p99_token_without_first_ms:Ns(Xi.P99TokenLatency,r),ts_std_dev_token_ms:Ns(Xi.StdDevTokenLatency,r),ts_total_request_ms:Ns(Xi.TotalRequestTime,r)}})},Y9e=e=>Ld.setState(t=>{const n={...t.messagesDevData[e],status:"finished"};return{...t,messagesDevData:{...t.messagesDevData,[e]:n}}}),Yze=e=>Ld.setState(t=>({...t,ui:{...t.ui,focusedNodeId:e}}));class Z9e{constructor(t,n){this.requestLatencyId=t,this.requestStartTime=n,this.requestLastTokenTime=n}requestLastTokenTime;requestCount=0;requestTimes=[];onResponse(t,n,r){const i=performance.now(),s=i-this.requestLastTokenTime,o=i-this.requestStartTime;this.requestLastTokenTime=i,this.requestCount+=1;const a={requestCount:this.requestCount,requestDuration:o,lastTokenDuration:Number(JSON.stringify(s)),messageType:n.content.content_type,content:Qf(n)?Bh(n):""};this.requestTimes.push(a),t.type==="message"?W9e(this.requestLatencyId,a,n.metadata):t.type==="done"&&r!=null&&(Y9e(this.requestLatencyId),K9e(this.requestLatencyId))}}const J9e=(e,t)=>{const{isCompletion:n,messageId:r,conversationId:i,flagged:s,blocked:o,disclaimers:a,metadata:l,shouldDisableConversation:c}=e,u=!!a?.length;It(t,d=>{Tr.updateTree(d,f=>{const h=f.messageIdToNodeId(r);o&&f.clearNodeMessageParts(h);const m=o,v=l?.safety_limited??!1;f.updateNodeMetadata(h,{...(u&&!!a?.length&&TB(a,o))??{},...s&&xB,...o&&OB({isSafetyLimited:v,shouldDisableConversation:c,isModelIncompatibility:m}),...c&&kB,completionSampleFinishTime:Date.now()})})}),K.logEvent(n?o?"Moderation: Completion Content Blocked":"Moderation: Completion Content Flagged":o?"Moderation: Prompt Content Blocked":"Moderation: Prompt Content Flagged",{threadId:i,id:r})};function Q9e(e){e.systemHints!==void 0&&e.systemHints.includes(ve.Search)||(e.systemHints=[...e.systemHints??[],ve.Search])}var f5,SP;function _W(){if(SP)return f5;SP=1;var e=DB(),t=qh(),n=IV(),r=sG();function i(s,o){if(s==null)return{};var a=e(r(s),function(l){return[l]});return o=t(o),n(s,a,function(l,c){return o(l,c[0])})}return f5=i,f5}var X9e=_W();const yW=_n(X9e),wP={base_config:void 0,eval_preset:void 0,sonicberry_model_ids:void 0,settings_overrides:void 0,dump_sub_conversation:void 0};hn(e=>({settings:bW(),setSettings:t=>{e({settings:t}),qe.setCookie(je.InternalSearchSettings,JSON.stringify(t),{maxAge:2*365*24*60*60})}}));function bW(){let e;try{const t=qe.getCookie(je.InternalSearchSettings);e=t?JSON.parse(t):wP}catch{e=wP}return yW(e,t=>!!t)}const CW=(e=Lt(),t=!1)=>dn(e)?vn(e)?.planType===Ye.FREE?Wt(e,"3178812292",{disableExposureLog:t}):Wt(e,"3703416703",{disableExposureLog:t}):Wt(e,"2861477803",{disableExposureLog:t}),eEe=(e=Lt())=>{const t=sp().fConversationEndpoint;return t==="convo2"?!0:t==="convo1"?!1:We(e,"4154476537")?!0:CW(e,!0).get("use_f_prepare",!1)},FE=(e=Lt(),t=!1)=>{const n=sp().fConversationEndpoint;return n==="convo2"?!0:n==="convo1"?!1:We(e,"4154476537")?!0:CW(e,t).get("use_f_convo",!1)},tEe=()=>bW().fast_search??!1;function EP(e,t){Oc.setState(n=>{const r=n.threads[e];if(r)r.prepareRequestBlocked=t,t||(r.lastCompletionFinishedTimestamp=performance.now());else{const i=Ui(e);if(i){const s=n.threads[i];s&&(s.prepareRequestBlocked=t,t||(s.lastCompletionFinishedTimestamp=performance.now()))}}})}const nEe="starredConversations",Zze=5,hh="snorlaxConversations",Jze=sl.div`text-sm text-red-500`,rEe=5,iEe=25,sEe=40,oEe=e=>{switch(e){case Ye.FREE:return rEe;case Ye.GO:case Ye.PLUS:case Ye.EDUCATION_CBP:case Ye.QUORUM:case Ye.DEPRECATED_EDU:return iEe;case Ye.DEPRECATED_ENTERPRISE:case Ye.PRO:case Ye.SELF_SERVE_BUSINESS:case Ye.ENTERPRISE_CBP:return sEe}};function Qze({accountPlanType:e,numFiles:t}){return!e||![Ye.FREE,Ye.GO,Ye.PLUS].includes(e)?!1:t>=oEe(e)}const aEe="disable_history",Xze="user_latency_tools",eGe="mfa",tGe="chatgpt_allow_workspace_instruction",nGe="chatgpt_allow_workspace_policy",rGe="workspace_ip_allowlist";var lEe=(e=>(e.BrowsingAvailable="browsing_available",e.Sunshine="sunshine_available",e.GoldenHour="golden_hour",e.WorkspaceGPTCustomActions="workspace_gpt_custom_actions",e.WorkspaceShareLinks="workspace_share_links",e.GizmoSupportEmails="gizmo_support_emails",e.D3Editor="d3_editor",e.D3EditorAllGpts="d3_editor_gpts",e.DataAnalysisV2="graphite",e.ChartSerialization="chart_serialization",e.SearchTool="search_tool",e.SearchToolHoldout="search_tool_holdout",e.MemoryInSearch="memory_in_search",e.Canvas="canvas",e.CanvasCodeExecution="canvas_code_execution",e.CanvasCodeNetworkAccess="canvas_code_network_access",e.GizmoCanvasToggle="gizmo_canvas_toggle",e.Moonshine="moonshine",e.VideoScreenSharing="video_screen_sharing",e.DeepResearch="caterpillar",e.AllowVoiceUse="breeze_available",e.ImageGenToggle="image_gen_toggle",e.EditInCanvas="edit_in_canvas",e))(lEe||{});const cEe=28,jE="conversationHistory",xP="conversation-history",uEe=1,BE=en(()=>Tt([]));function dEe(e,t,n){if(!We(e,"1753085879"))return;BE(e).set(i=>{const s=i.findIndex(o=>o.conversationId===t);if(s!==-1){const o=i.slice();return o[s]={...o[s],title:n},o}return[{conversationId:t,title:n},...i]})}function SW(){return GY({queryKey:[jE],queryFn:async({pageParam:e})=>{const t=await ue.safeGet("/conversations",{parameters:{query:{offset:e,limit:cEe,order:"updated",is_archived:!1,is_starred:!1}},intercomEventOnError:"fetch-error:conversations:get",authOption:Xt.SendIfAvailable});return G.addFirstTiming("load.conversationHistory"),yX(()=>{const n=BE(Lt()),r=Hl(()=>n());for(const i of t.items){if(i.async_status!=null){const s=ol(Lt(),i.id);mW(s,{source:js.SERVER,value:i.async_status})}r.some(s=>s.conversationId===i.id)&&n.set(s=>s.filter(o=>o.conversationId!==i.id))}}),t},initialPageParam:0,getNextPageParam:e=>{const t=(e.offset??0)+(e.limit??0);return t<(e.total??0)?t:void 0}})}function iGe(e){"use forget";const t=Te.c(41);let n;t[0]!==e?(n=e===void 0?{}:e,t[0]=e,t[1]=n):n=t[1];const r=n,{buckets:i,recentConversationLimit:s}=r,a=fB()?.includes(aEe)??!1,l=me(),c=vn(l),u=!a&&!!c,d=it(),f=iE();let h;t[2]!==l?(h=()=>BE(l)(),t[2]=l,t[3]=h):h=t[3];const m=Or(h),v=f;let _;t[4]===Symbol.for("react.memo_cache_sentinel")?(_=[jE],t[4]=_):_=t[4];const y=c0(xP,uEe,_);let b;t[5]===Symbol.for("react.memo_cache_sentinel")?(b=SW(),t[5]=b):b=t[5];const C=v?"always":!0,S=v?"always":!0;let x;t[6]!==u||t[7]!==y||t[8]!==C||t[9]!==S?(x={...b,enabled:u,refetchOnReconnect:C,refetchOnWindowFocus:S,placeholderData:y},t[6]=u,t[7]=y,t[8]=C,t[9]=S,t[10]=x):x=t[10];const{data:w,fetchNextPage:E,hasNextPage:T,isLoading:O,isFetchingNextPage:k,isError:A,refetch:I}=s4(x);let P,D;t[11]!==l||t[12]!==A?(P=()=>{A&&hle(l,xP)},D=[A,l],t[11]=l,t[12]=A,t[13]=P,t[14]=D):(P=t[13],D=t[14]),p.useEffect(P,D);let R,F;if(t[15]!==w?.pages||t[16]!==m){const ee=w?.pages.flatMap(hEe)??[];F=[...m.map(fEe).filter(se=>!ee.some(fe=>fe.id===se.id)),...ee],t[15]=w?.pages,t[16]=m,t[17]=F}else F=t[17];R=F;const j=R;let V,B;t[18]!==j||t[19]!==s?(B=j.slice(0,s??5),t[18]=j,t[19]=s,t[20]=B):B=t[20];const M=B;let re;t[21]!==d?(re=d.formatMessage(bf.historyBucketRecent),t[21]=d,t[22]=re):re=t[22];let ge;t[23]!==M||t[24]!==re?(ge={key:"recents",label:re,items:M},t[23]=M,t[24]=re,t[25]=ge):ge=t[25],V=ge;const N=V,we=pEe(j);let ye;t[26]!==we||t[27]!==i||t[28]!==w?(ye=!w||!i?[]:we,t[26]=we,t[27]=i,t[28]=w,t[29]=ye):ye=t[29];const X=ye;let de;return t[30]!==j||t[31]!==w||t[32]!==E||t[33]!==T||t[34]!==A||t[35]!==k||t[36]!==O||t[37]!==N||t[38]!==I||t[39]!==X?(de={buckets:X,conversations:j,data:w,fetchNextPage:E,hasNextPage:T,refetch:I,recents:N,isLoading:O,isFetchingNextPage:k,isError:A},t[30]=j,t[31]=w,t[32]=E,t[33]=T,t[34]=A,t[35]=k,t[36]=O,t[37]=N,t[38]=I,t[39]=X,t[40]=de):de=t[40],de}function fEe(e){return{id:e.conversationId,title:e.title}}function hEe(e){return e.items}function pEe(e){"use forget";const t=Te.c(3),n=it();let r,i;if(t[0]!==e||t[1]!==n){const o=_Ee(e,n);i=[o.recent,o.dynamicMonths,o.dynamicYears].flatMap(gEe).filter(mEe),t[0]=e,t[1]=n,t[2]=i}else i=t[2];return r=i,r}function mEe(e){return e.items.length>0}function gEe(e){return Object.entries(e).map(vEe)}function vEe(e,t){const[n,r]=e,{items:i,label:s}=r;return{key:`${n}-${t}`,label:s,items:i}}function _Ee(e,t){return e.reduce((n,r)=>{const i=new Date(r.update_time??r.create_time??0),s=TG(new Date,i);if(s===0)n.recent.today.items.push(r);else if(s<=1)n.recent.yesterday.items.push(r);else if(s<=7)n.recent.lastSeven.items.push(r);else if(s<=30)n.recent.lastThirty.items.push(r);else if(Uve(i)){const o=_I(i),a=Lve(i),l=`${o}-${a}`;n.dynamicMonths[l]?n.dynamicMonths[l].items.push(r):n.dynamicMonths[l]={label:t.formatDate(i,{month:"long"}),items:[r]}}else{const a=`${_I(i)}-`;n.dynamicYears[a]?n.dynamicYears[a].items.push(r):n.dynamicYears[a]={label:t.formatDate(i,{year:"numeric"}),items:[r]}}return n},{recent:{today:{label:t.formatMessage(bf.historyBucketToday),items:[]},yesterday:{label:t.formatMessage(bf.historyBucketYesterday),items:[]},lastSeven:{label:t.formatMessage(bf.historyBucketLastSeven),items:[]},lastThirty:{label:t.formatMessage(bf.historyBucketLastThirty),items:[]}},dynamicMonths:{},dynamicYears:{}})}function wW(e,t){e.invalidateQueries({queryKey:[jE]}),e.invalidateQueries({queryKey:[nEe]}),t?e.invalidateQueries({queryKey:[hh,{gizmoId:t}]}):e.invalidateQueries({queryKey:[hh]})}function yEe(e,t){t&&oo(t)&&e.invalidateQueries({queryKey:[hh,{gizmoId:t}]})}function bEe(e,t,n){Qa(e).setQueryData(SW().queryKey,r=>{if(r!==void 0)return ts(r,i=>{for(const s of i.pages)for(const o of s.items)o.id===t&&(o.title=n)})})}const bf=Ot({historyBucketRecent:{id:"history.bucket.recent",defaultMessage:"Recent"},historyBucketToday:{id:"history.bucket.today",defaultMessage:"Today"},historyBucketYesterday:{id:"history.bucket.yesterday",defaultMessage:"Yesterday"},historyBucketLastSeven:{id:"history.bucket.lastSeven",defaultMessage:"Previous 7 Days"},historyBucketLastThirty:{id:"history.bucket.lastThirty",defaultMessage:"Previous 30 Days"}});function CEe(e){window.history.pushState({},"",e)}function EW(e,t,n,r){It(t,i=>{i.title=n,i.titleSource=r}),qu.publish({kind:"updateThreadTitle",conversationId:t}),bEe(e,t,n)}function SEe(e,t,n){const i=Se.getCurrentNode(Qt(t)).message.id;ue.safePost("/conversation/gen_title/{conversation_id}",{parameters:{path:{conversation_id:t}},requestBody:{message_id:i},intercomEventOnError:"fetch-error:conversation:generate-title",authOption:Xt.SendIfAvailable}).then(({title:s})=>{const o=Se.getGizmoId(Qt(t));EW(e,t,s,f9.Generated),wW(Qa(e),o),K.logEvent("Rename Thread",{threadId:t,content:s,model:n})})}function wEe(e,t,n,r,i){const s=Se.getGizmoId(Qt(n));s!=null?Q6e(t,s).then(o=>{if(r){e(hm(n,o));return}CEe(hm(n,o))}).catch(o=>{G.addError(o),e(hm(n))}):e(hm(n))}var Ls=(e=>(e.Unavailable="unavailable",e.Thinking="thinking",e.Generating="generating",e.AsyncGenerating="async_generating",e.AsyncHanging="async_hanging",e.Complete="complete",e.Errored="errored",e.Empty="empty",e))(Ls||{});const EEe=["generating","async_generating","async_hanging","thinking"],xEe="sj1i4kz",Yu=`${Ra.T2UAY3K}.${xEe}`;function UE(e){return e.author.role==="tool"&&e.author.name===Yu&&e.content.content_type===$e.MultimodalText}function kEe(e,{skipSort:t}={skipSort:!1}){let n=e.filter(s=>UE(s)&&!s.metadata?.is_visually_hidden_from_conversation);t||(n=[...n].sort((s,o)=>(s.metadata?.generation_index??0)-(o.metadata?.generation_index??0)));const r=n.flatMap(s=>i0.getImageAssetPointers(s)),i=n.map(s=>s.id);return{imageAssetPointers:r,messageIds:i}}const xW=(e,t)=>{const n=e.find(v=>v.author.role===He.Tool&&[$e.Error,$e.SystemError].includes(v.content.content_type)||v.metadata?.is_error),{imageAssetPointers:r}=kEe(e),i=r.length>0,o=e.some(v=>UE(v))&&!i,a=e.some(v=>{if(v.metadata?.image_gen_async)return!1;const _=v.author.name===Ra.IMAGE_GEN_HALLUCINATED||v.author.name===Yu,y=v.content.content_type===$e.Text,b=!!v.metadata?.is_visually_hidden_from_conversation;return _&&y&&b}),l=e.length>0&&!!e[e.length-1]?.metadata?.image_gen_async,u=!e.some(v=>[Yu,Ra.IMAGE_GEN_HALLUCINATED].includes(v.author.name??"")&&v.content.content_type===$e.MultimodalText)&&e.some(v=>{const _=[Yu,Ra.IMAGE_GEN_HALLUCINATED].includes(v.author.name??""),y=v.recipient==="assistant";return _&&y});let d=0;for(const v of r){const _=v.height,y=v.metadata?.generation?.height??void 0;d+=_!==void 0&&y!==void 0?y/_:0}const f=r.length>0?d/r.length:0,h=n!==void 0,m=t?Ls.AsyncGenerating:Ls.AsyncHanging;if(o||a||u)return Ls.Empty;if(h)return Ls.Errored;if(f){if(f<1)return l?m:Ls.Generating;if(f===1)return Ls.Complete}else return l?m:Ls.Thinking;return Ls.Unavailable},TEe=e=>xW([e],!0)===Ls.Complete,OEe=e=>e.author.role===He.Assistant&&e.recipient===Yu;function sGe(e){return(e.author.name===Yu||OEe(e))&&EEe.includes(xW([e],!0))}const AEe=["notificationSettings"];class IEe{static async getOrCreateSubscription({endpoint:t,p256dh:n,auth:r}){return ue.safePost("/notifications/subscription/register",{requestBody:{platform:"web",web_metadata:{endpoint:t,p256dh:n},token:r}})}static async getSettings(){return ue.safeGet("/notifications/settings")}static async updateSettings(t){const{category:n,...r}=t;return ue.safePatch("/notifications/settings",{requestBody:{updates:{[n]:r}}})}}const MEe=1e4,kW=hn(nl(()=>({notifications:[]}))),REe=e=>{const t=crypto.randomUUID();kW.setState(r=>{r.notifications.push({...e,id:t})});const n=e.timeout??MEe;setTimeout(()=>{NEe(t)},n)},NEe=e=>{kW.setState(t=>{t.notifications=t.notifications.filter(n=>n.id!==e)})},oGe=({onSuccess:e,alwaysRefetchOnMount:t=!1})=>Nt({queryKey:AEe,queryFn:async()=>{const r=(await IEe.getSettings()).settings;return e?.(r),r},refetchOnMount:t?"always":!0});function PEe(e,t){if(e.length<=t)return e;const n=e.slice(0,Math.min(e.length,t+20)),r=n.lastIndexOf("."),i=n.lastIndexOf("!"),s=n.lastIndexOf("?"),o=Math.max(r,i,s);if(o>0&&o<=t&&o>=Math.floor(t*.4))return e.slice(0,o+1).trim()+"…";const a=e.lastIndexOf(" ",t);return a>Math.floor(t*.25)?e.slice(0,a).trim()+"…":e.slice(0,t).trim()+"…"}function DEe(e,t){return t&&(e?.kind===cn.GizmoInteraction||e?.kind===cn.PrimaryAssistant)?{gizmo_id:t,kind:cn.GizmoInteraction}:e}function LEe(e){return e==null||[cn.PrimaryAssistant,cn.GizmoInteraction].includes(e.kind)}function aGe(e,t){"use forget";const n=Te.c(5);let r;n[0]!==t?(r=o=>DEe(o?.mode,t),n[0]=t,n[1]=r):r=n[1];const i=Yo(e,r),{data:s}=c$(i!=null&&"gizmo_id"in i?i.gizmo_id:void 0,i?.kind===cn.GizmoTest);if(i!=null)switch(i.kind){case cn.GizmoInteraction:case cn.GizmoMagicCreate:case cn.GizmoTest:{let o;return n[2]!==i||n[3]!==s?(o={gizmo:s,...i},n[2]=i,n[3]=s,n[4]=o):o=n[4],o}case cn.FlyingCircusCustomization:case cn.PrimaryAssistant:return i}}const ng=hn(nl(()=>null)),FEe={updateDetails:e=>{["beacon_banner_info","beacon_modal_info"].includes(e.ui_info.type)&&ng.setState(()=>({...e}),!0)},dismiss:()=>{ng.setState(()=>null,!0)}};function lGe(){return ng(e=>e?.ui_info.type==="beacon_banner_info"?e:null)}function cGe(){return ng(e=>e?.ui_info.type==="beacon_modal_info"?e:null)}function rg(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function uGe(){}function dGe(){}const TW=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],kP={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function OW(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function jEe(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function BEe(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function TP(e){return BEe(e)||OW(e)}const OP=document.createElement("i");function ph(e){const t="&"+e+";";OP.innerHTML=t;const n=OP.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const uu=String.fromCharCode,UEe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function qE(e,t={}){const n=typeof t.additional=="string"?t.additional.charCodeAt(0):t.additional,r=[];let i=0,s=-1,o="",a,l;t.position&&("start"in t.position||"indent"in t.position?(l=t.position.indent,a=t.position.start):a=t.position);let c=(a?a.line:0)||1,u=(a?a.column:0)||1,d=h(),f;for(i--;++i<=e.length;)if(f===10&&(u=(l?l[s]:0)||1),f=e.charCodeAt(i),f===38){const _=e.charCodeAt(i+1);if(_===9||_===10||_===12||_===32||_===38||_===60||Number.isNaN(_)||n&&_===n){o+=uu(f),u++;continue}const y=i+1;let b=y,C=y,S;if(_===35){C=++b;const I=e.charCodeAt(C);I===88||I===120?(S="hexadecimal",C=++b):S="decimal"}else S="named";let x="",w="",E="";const T=S==="named"?TP:S==="decimal"?OW:jEe;for(C--;++C<=e.length;){const I=e.charCodeAt(C);if(!T(I))break;E+=uu(I),S==="named"&&TW.includes(E)&&(x=E,w=ph(E))}let O=e.charCodeAt(C)===59;if(O){C++;const I=S==="named"?ph(E):!1;I&&(x=E,w=I)}let k=1+C-y,A="";if(!(!O&&t.nonTerminated===!1))if(!E)S!=="named"&&m(4,k);else if(S==="named"){if(O&&!w)m(5,1);else if(x!==E&&(C=b+x.length,k=1+C-b,O=!1),!O){const I=x?1:3;if(t.attribute){const P=e.charCodeAt(C);P===61?(m(I,k),w=""):TP(P)?w="":m(I,k)}else m(I,k)}A=w}else{O||m(2,k);let I=Number.parseInt(E,S==="hexadecimal"?16:10);if(qEe(I))m(7,k),A=uu(65533);else if(I in kP)m(6,k),A=kP[I];else{let P="";zEe(I)&&m(6,k),I>65535&&(I-=65536,P+=uu(I>>>10|55296),I=56320|I&1023),A=P+uu(I)}}if(A){v(),d=h(),i=C-1,u+=C-y+1,r.push(A);const I=h();I.offset++,t.reference&&t.reference.call(t.referenceContext,A,{start:d,end:I},e.slice(y-1,C)),d=I}else E=e.slice(y-1,C),o+=E,u+=E.length,i=C-1}else f===10&&(c++,s++,u=0),Number.isNaN(f)?v():(o+=uu(f),u++);return r.join("");function h(){return{line:c,column:u,offset:i+((a?a.offset:0)||0)}}function m(_,y){let b;t.warning&&(b=h(),b.column+=y,b.offset+=y,t.warning.call(t.warningContext,UEe[_],b,_))}function v(){o&&(r.push(o),t.text&&t.text.call(t.textContext,o,{start:d,end:h()}),o="")}}function qEe(e){return e>=55296&&e<=57343||e>1114111}function zEe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}const GEe=/["&'<>`]/g,HEe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VEe=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,$Ee=/[|\\{}()[\]^$+*?.]/g,AP=new WeakMap;function AW(e,t){if(e=e.replace(t.subset?WEe(t.subset):GEe,r),t.subset||t.escapeOnly)return e;return e.replace(HEe,n).replace(VEe,r);function n(i,s,o){return t.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),t)}function r(i,s,o){return t.format(i.charCodeAt(0),o.charCodeAt(s+1),t)}}function WEe(e){let t=AP.get(e);return t||(t=KEe(e),AP.set(e,t)),t}function KEe(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace($Ee,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const YEe=/[\dA-Fa-f]/;function ZEe(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!YEe.test(String.fromCharCode(t))?r:r+";"}const JEe=/\d/;function QEe(e,t,n){const r="&#"+String(e);return n&&t&&!JEe.test(String.fromCharCode(t))?r:r+";"}const h5={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},XEe=["cent","copy","divide","gt","lt","not","para","times"],IW={}.hasOwnProperty,FS={};let vm;for(vm in h5)IW.call(h5,vm)&&(FS[h5[vm]]=vm);const e7e=/[^\dA-Za-z]/;function t7e(e,t,n,r){const i=String.fromCharCode(e);if(IW.call(FS,i)){const s=FS[i],o="&"+s;return n&&TW.includes(s)&&!XEe.includes(s)&&(!r||t&&t!==61&&e7e.test(String.fromCharCode(t)))?o:o+";"}return""}function n7e(e,t,n){let r=ZEe(e,t,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=t7e(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=QEe(e,t,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function r7e(e){return"&#x"+e.toString(16).toUpperCase()+";"}function fGe(e,t){return AW(e,Object.assign({format:n7e},t))}function i7e(e,t){return AW(e,Object.assign({format:r7e},t))}const Y0=function(e){if(e==null)return l7e;if(typeof e=="function")return Z0(e);if(typeof e=="object")return Array.isArray(e)?s7e(e):o7e(e);if(typeof e=="string")return a7e(e);throw new Error("Expected function, string, or object as test")};function s7e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Y0(e[n]);return Z0(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function o7e(e){const t=e;return Z0(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function a7e(e){return Z0(t);function t(n){return n&&n.type===e}}function Z0(e){return t;function t(n,r,i){return!!(c7e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function l7e(){return!0}function c7e(e){return e!==null&&typeof e=="object"&&"type"in e}const MW=[],u7e=!0,jS=!1,d7e="skip";function zE(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=Y0(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(h?"<"+h+">":""))+")"})}return f;function f(){let h=MW,m,v,_;if((!t||s(l,c,u[u.length-1]||void 0))&&(h=f7e(n(l,u)),h[0]===jS))return h;if("children"in l&&l.children){const y=l;if(y.children&&h[0]!==d7e)for(v=(r?y.children.length:-1)+o,_=u.concat(y);v>-1&&v<y.children.length;){const b=y.children[v];if(m=a(b,v,_)(),m[0]===jS)return m;v=typeof m[1]=="number"?m[1]:v+o}}return h}}}function f7e(e){return Array.isArray(e)?e:typeof e=="number"?[u7e,e]:e==null?MW:[e]}const h7e={}.hasOwnProperty,p7e={},IP=/^[^\t\n\r "#'.<=>`}]+$/,m7e=/^[^\t\n\r "'<=>`}]+$/;function g7e(){return{canContainEols:["textDirective"],enter:{directiveContainer:_7e,directiveContainerAttributes:m5,directiveContainerLabel:C7e,directiveLeaf:y7e,directiveLeafAttributes:m5,directiveText:b7e,directiveTextAttributes:m5},exit:{directiveContainer:C5,directiveContainerAttributeClassValue:v5,directiveContainerAttributeIdValue:g5,directiveContainerAttributeName:y5,directiveContainerAttributeValue:_5,directiveContainerAttributes:b5,directiveContainerLabel:S7e,directiveContainerName:p5,directiveLeaf:C5,directiveLeafAttributeClassValue:v5,directiveLeafAttributeIdValue:g5,directiveLeafAttributeName:y5,directiveLeafAttributeValue:_5,directiveLeafAttributes:b5,directiveLeafName:p5,directiveText:C5,directiveTextAttributeClassValue:v5,directiveTextAttributeIdValue:g5,directiveTextAttributeName:y5,directiveTextAttributeValue:_5,directiveTextAttributes:b5,directiveTextName:p5}}}function v7e(e){const t=p7e;if(t.quote!=='"'&&t.quote!=="'"&&t.quote!==null&&t.quote!==void 0)throw new Error("Invalid quote `"+t.quote+"`, expected `'` or `\"`");return n.peek=w7e,{handlers:{containerDirective:n,leafDirective:n,textDirective:n},unsafe:[{character:"\r",inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{character:`
`,inConstruct:["leafDirectiveLabel","containerDirectiveLabel"]},{before:"[^:]",character:":",after:"[A-Za-z]",inConstruct:["phrasing"]},{atBreak:!0,character:":",after:":"}]};function n(s,o,a,l){const c=a.createTracker(l),u=E7e(s),d=a.enter(s.type);let f=c.move(u+(s.name||"")),h;if(s.type==="containerDirective"){const m=(s.children||[])[0];h=MP(m)?m:void 0}else h=s;if(h&&h.children&&h.children.length>0){const m=a.enter("label"),v=`${s.type}Label`,_=a.enter(v);f+=c.move("["),f+=c.move(a.containerPhrasing(h,{...c.current(),before:f,after:"]"})),f+=c.move("]"),_(),m()}if(f+=c.move(r(s,a)),s.type==="containerDirective"){const m=(s.children||[])[0];let v=s;MP(m)&&(v=Object.assign({},s,{children:s.children.slice(1)})),v&&v.children&&v.children.length>0&&(f+=c.move(`
`),f+=c.move(a.containerFlow(v,c.current()))),f+=c.move(`
`+u)}return d(),f}function r(s,o){const a=s.attributes||{},l=[];let c,u,d,f;for(f in a)if(h7e.call(a,f)&&a[f]!==void 0&&a[f]!==null){const h=String(a[f]);if(f==="id")d=t.preferShortcut!==!1&&IP.test(h)?"#"+h:i("id",h,s,o);else if(f==="class"){const m=h.split(/[\t\n\r ]+/g),v=[],_=[];let y=-1;for(;++y<m.length;)(t.preferShortcut!==!1&&IP.test(m[y])?_:v).push(m[y]);c=v.length>0?i("class",v.join(" "),s,o):"",u=_.length>0?"."+_.join("."):""}else l.push(i(f,h,s,o))}return c&&l.unshift(c),u&&l.unshift(u),d&&l.unshift(d),l.length>0?"{"+l.join(" ")+"}":""}function i(s,o,a,l){if(t.collapseEmptyAttributes!==!1&&!o)return s;if(t.preferUnquoted&&m7e.test(o))return s+"="+o;const c=t.quote||l.options.quote||'"',u=c==='"'?"'":'"',d=t.quoteSmart&&rg(o,c)>rg(o,u)?u:c,f=a.type==="textDirective"?[d]:[d,`
`,"\r"];return s+"="+d+i7e(o,{subset:f})+d}}function _7e(e){GE.call(this,"containerDirective",e)}function y7e(e){GE.call(this,"leafDirective",e)}function b7e(e){GE.call(this,"textDirective",e)}function GE(e,t){this.enter({type:e,name:"",attributes:{},children:[]},t)}function p5(e){const t=this.stack[this.stack.length-1];t.type==="containerDirective"||t.type==="leafDirective"||t.type,t.name=this.sliceSerialize(e)}function C7e(e){this.enter({type:"paragraph",data:{directiveLabel:!0},children:[]},e)}function S7e(e){this.exit(e)}function m5(){this.data.directiveAttributes=[],this.buffer()}function g5(e){this.data.directiveAttributes.push(["id",qE(this.sliceSerialize(e),{attribute:!0})])}function v5(e){this.data.directiveAttributes.push(["class",qE(this.sliceSerialize(e),{attribute:!0})])}function _5(e){const t=this.data.directiveAttributes;t[t.length-1][1]=qE(this.sliceSerialize(e),{attribute:!0})}function y5(e){this.data.directiveAttributes.push([this.sliceSerialize(e),""])}function b5(){const e=this.data.directiveAttributes,t={};let n=-1;for(;++n<e.length;){const i=e[n];i[0]==="class"&&t.class?t.class+=" "+i[1]:t[i[0]]=i[1]}this.data.directiveAttributes=void 0,this.resume();const r=this.stack[this.stack.length-1];r.type==="containerDirective"||r.type==="leafDirective"||r.type,r.attributes=t}function C5(e){this.exit(e)}function w7e(){return":"}function MP(e){return!!(e&&e.type==="paragraph"&&e.data&&e.data.directiveLabel)}function E7e(e){let t=0;return e.type==="containerDirective"?(zE(e,function(n,r){if(n.type==="containerDirective"){let i=r.length,s=0;for(;i--;)r[i].type==="containerDirective"&&s++;s>t&&(t=s)}}),t+=3):e.type==="leafDirective"?t=2:t=1,":".repeat(t)}const sr=dl(/[A-Za-z]/),$n=dl(/[\dA-Za-z]/),x7e=dl(/[#-'*+\--9=?A-Z^-~]/);function ig(e){return e!==null&&(e<32||e===127)}const BS=dl(/\d/),k7e=dl(/[\dA-Fa-f]/),T7e=dl(/[!-/:-@[-`{-~]/);function Be(e){return e!==null&&e<-2}function Rt(e){return e!==null&&(e<0||e===32)}function yt(e){return e===-2||e===-1||e===32}const J0=dl(new RegExp("\\p{P}|\\p{S}","u")),_c=dl(/\s/);function dl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ht(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return yt(l)?(e.enter(n),a(l)):t(l)}function a(l){return yt(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}function To(e,t){let n;return r;function r(i){return Be(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):yt(i)?ht(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function HE(e,t,n,r,i,s,o,a,l,c,u,d,f,h,m){let v,_;return y;function y(R){return e.enter(r),e.enter(i),e.consume(R),e.exit(i),b}function b(R){return R===35?(v=o,C(R)):R===46?(v=a,C(R)):R===58||R===95||sr(R)?(e.enter(s),e.enter(l),e.consume(R),w):m&&yt(R)?ht(e,b,"whitespace")(R):!m&&Rt(R)?To(e,b)(R):D(R)}function C(R){const F=v+"Marker";return e.enter(s),e.enter(v),e.enter(F),e.consume(R),e.exit(F),S}function S(R){if(R===null||R===34||R===35||R===39||R===46||R===60||R===61||R===62||R===96||R===125||Rt(R))return n(R);const F=v+"Value";return e.enter(F),e.consume(R),x}function x(R){if(R===null||R===34||R===39||R===60||R===61||R===62||R===96)return n(R);if(R===35||R===46||R===125||Rt(R)){const F=v+"Value";return e.exit(F),e.exit(v),e.exit(s),b(R)}return e.consume(R),x}function w(R){return R===45||R===46||R===58||R===95||$n(R)?(e.consume(R),w):(e.exit(l),m&&yt(R)?ht(e,E,"whitespace")(R):!m&&Rt(R)?To(e,E)(R):E(R))}function E(R){return R===61?(e.enter(c),e.consume(R),e.exit(c),T):(e.exit(s),b(R))}function T(R){return R===null||R===60||R===61||R===62||R===96||R===125||m&&Be(R)?n(R):R===34||R===39?(e.enter(u),e.enter(f),e.consume(R),e.exit(f),_=R,k):m&&yt(R)?ht(e,T,"whitespace")(R):!m&&Rt(R)?To(e,T)(R):(e.enter(d),e.enter(h),e.consume(R),_=void 0,O)}function O(R){return R===null||R===34||R===39||R===60||R===61||R===62||R===96?n(R):R===125||Rt(R)?(e.exit(h),e.exit(d),e.exit(s),b(R)):(e.consume(R),O)}function k(R){return R===_?(e.enter(f),e.consume(R),e.exit(f),e.exit(u),e.exit(s),P):(e.enter(d),A(R))}function A(R){return R===_?(e.exit(d),k(R)):R===null?n(R):Be(R)?m?n(R):To(e,A)(R):(e.enter(h),e.consume(R),I)}function I(R){return R===_||R===null||Be(R)?(e.exit(h),A(R)):(e.consume(R),I)}function P(R){return R===125||Rt(R)?b(R):D(R)}function D(R){return R===125?(e.enter(i),e.consume(R),e.exit(i),e.exit(r),t):n(R)}}function VE(e,t,n,r,i,s,o){let a=0,l=0,c;return u;function u(_){return e.enter(r),e.enter(i),e.consume(_),e.exit(i),d}function d(_){return _===93?(e.enter(i),e.consume(_),e.exit(i),e.exit(r),t):(e.enter(s),f(_))}function f(_){if(_===93&&!l)return v(_);const y=e.enter("chunkText",{contentType:"text",previous:c});return c&&(c.next=y),c=y,h(_)}function h(_){return _===null||a>999||_===91&&++l>32?n(_):_===93&&!l--?(e.exit("chunkText"),v(_)):Be(_)?o?n(_):(e.consume(_),e.exit("chunkText"),f):(e.consume(_),_===92?m:h)}function m(_){return _===91||_===92||_===93?(e.consume(_),a++,h):h(_)}function v(_){return e.exit(s),e.enter(i),e.consume(_),e.exit(i),e.exit(r),t}}function $E(e,t,n,r){const i=this;return s;function s(a){return sr(a)?(e.enter(r),e.consume(a),o):n(a)}function o(a){return a===45||a===95||$n(a)?(e.consume(a),o):(e.exit(r),i.previous===45||i.previous===95?n(a):t(a))}}const O7e={tokenize:M7e,concrete:!0},A7e={tokenize:R7e,partial:!0},I7e={tokenize:N7e,partial:!0},RP={tokenize:P7e,partial:!0};function M7e(e,t,n){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0,a;return l;function l(E){return e.enter("directiveContainer"),e.enter("directiveContainerFence"),e.enter("directiveContainerSequence"),c(E)}function c(E){return E===58?(e.consume(E),o++,c):o<3?n(E):(e.exit("directiveContainerSequence"),$E.call(r,e,u,n,"directiveContainerName")(E))}function u(E){return E===91?e.attempt(A7e,d,d)(E):d(E)}function d(E){return E===123?e.attempt(I7e,f,f)(E):f(E)}function f(E){return ht(e,h,"whitespace")(E)}function h(E){return e.exit("directiveContainerFence"),E===null?m(E):Be(E)?r.interrupt?t(E):e.attempt(RP,v,m)(E):n(E)}function m(E){return e.exit("directiveContainer"),t(E)}function v(E){return E===null?(e.exit("directiveContainer"),t(E)):(e.enter("directiveContainerContent"),_(E))}function _(E){return E===null?x(E):e.attempt({tokenize:w,partial:!0},x,s?ht(e,y,"linePrefix",s+1):y)(E)}function y(E){if(E===null)return x(E);const T=e.enter("chunkDocument",{contentType:"document",previous:a});return a&&(a.next=T),a=T,b(E)}function b(E){if(E===null){const T=e.exit("chunkDocument");return r.parser.lazy[T.start.line]=!1,x(E)}return Be(E)?e.check(RP,C,S)(E):(e.consume(E),b)}function C(E){e.consume(E);const T=e.exit("chunkDocument");return r.parser.lazy[T.start.line]=!1,_}function S(E){const T=e.exit("chunkDocument");return r.parser.lazy[T.start.line]=!1,x(E)}function x(E){return e.exit("directiveContainerContent"),e.exit("directiveContainer"),t(E)}function w(E,T,O){let k=0;return ht(E,A,"linePrefix",4);function A(D){return E.enter("directiveContainerFence"),E.enter("directiveContainerSequence"),I(D)}function I(D){return D===58?(E.consume(D),k++,I):k<o?O(D):(E.exit("directiveContainerSequence"),ht(E,P,"whitespace")(D))}function P(D){return D===null||Be(D)?(E.exit("directiveContainerFence"),T(D)):O(D)}}}function R7e(e,t,n){return VE(e,t,n,"directiveContainerLabel","directiveContainerLabelMarker","directiveContainerLabelString",!0)}function N7e(e,t,n){return HE(e,t,n,"directiveContainerAttributes","directiveContainerAttributesMarker","directiveContainerAttribute","directiveContainerAttributeId","directiveContainerAttributeClass","directiveContainerAttributeName","directiveContainerAttributeInitializerMarker","directiveContainerAttributeValueLiteral","directiveContainerAttributeValue","directiveContainerAttributeValueMarker","directiveContainerAttributeValueData",!0)}function P7e(e,t,n){const r=this;return i;function i(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const D7e={tokenize:j7e},L7e={tokenize:B7e,partial:!0},F7e={tokenize:U7e,partial:!0};function j7e(e,t,n){const r=this;return i;function i(u){return e.enter("directiveLeaf"),e.enter("directiveLeafSequence"),e.consume(u),s}function s(u){return u===58?(e.consume(u),e.exit("directiveLeafSequence"),$E.call(r,e,o,n,"directiveLeafName")):n(u)}function o(u){return u===91?e.attempt(L7e,a,a)(u):a(u)}function a(u){return u===123?e.attempt(F7e,l,l)(u):l(u)}function l(u){return ht(e,c,"whitespace")(u)}function c(u){return u===null||Be(u)?(e.exit("directiveLeaf"),t(u)):n(u)}}function B7e(e,t,n){return VE(e,t,n,"directiveLeafLabel","directiveLeafLabelMarker","directiveLeafLabelString",!0)}function U7e(e,t,n){return HE(e,t,n,"directiveLeafAttributes","directiveLeafAttributesMarker","directiveLeafAttribute","directiveLeafAttributeId","directiveLeafAttributeClass","directiveLeafAttributeName","directiveLeafAttributeInitializerMarker","directiveLeafAttributeValueLiteral","directiveLeafAttributeValue","directiveLeafAttributeValueMarker","directiveLeafAttributeValueData",!0)}const q7e={tokenize:V7e,previous:H7e},z7e={tokenize:$7e,partial:!0},G7e={tokenize:W7e,partial:!0};function H7e(e){return e!==58||this.events[this.events.length-1][1].type==="characterEscape"}function V7e(e,t,n){const r=this;return i;function i(l){return e.enter("directiveText"),e.enter("directiveTextMarker"),e.consume(l),e.exit("directiveTextMarker"),$E.call(r,e,s,n,"directiveTextName")}function s(l){return l===58?n(l):l===91?e.attempt(z7e,o,o)(l):o(l)}function o(l){return l===123?e.attempt(G7e,a,a)(l):a(l)}function a(l){return e.exit("directiveText"),t(l)}}function $7e(e,t,n){return VE(e,t,n,"directiveTextLabel","directiveTextLabelMarker","directiveTextLabelString")}function W7e(e,t,n){return HE(e,t,n,"directiveTextAttributes","directiveTextAttributesMarker","directiveTextAttribute","directiveTextAttributeId","directiveTextAttributeClass","directiveTextAttributeName","directiveTextAttributeInitializerMarker","directiveTextAttributeValueLiteral","directiveTextAttributeValue","directiveTextAttributeValueMarker","directiveTextAttributeValueData")}function K7e(){return{text:{58:q7e},flow:{58:[O7e,D7e]}}}function Y7e(){const t=this.data(),n=t.micromarkExtensions||(t.micromarkExtensions=[]),r=t.fromMarkdownExtensions||(t.fromMarkdownExtensions=[]),i=t.toMarkdownExtensions||(t.toMarkdownExtensions=[]);n.push(K7e()),r.push(g7e()),i.push(v7e())}function Z7e(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function J7e(e,t,n){const i=Y0((n||{}).ignore||[]),s=Q7e(t);let o=-1;for(;++o<s.length;)zE(e,"text",a);function a(c,u){let d=-1,f;for(;++d<u.length;){const h=u[d],m=f?f.children:void 0;if(i(h,m?m.indexOf(h):void 0,f))return;f=h}if(f)return l(c,u)}function l(c,u){const d=u[u.length-1],f=s[o][0],h=s[o][1];let m=0;const _=d.children.indexOf(c);let y=!1,b=[];f.lastIndex=0;let C=f.exec(c.value);for(;C;){const S=C.index,x={index:C.index,input:C.input,stack:[...u,c]};let w=h(...C,x);if(typeof w=="string"&&(w=w.length>0?{type:"text",value:w}:void 0),w===!1?f.lastIndex=S+1:(m!==S&&b.push({type:"text",value:c.value.slice(m,S)}),Array.isArray(w)?b.push(...w):w&&b.push(w),m=S+C[0].length,y=!0),!f.global)break;C=f.exec(c.value)}return y?(m<c.value.length&&b.push({type:"text",value:c.value.slice(m)}),d.children.splice(_,1,...b)):b=[c],_+b.length}}function Q7e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([X7e(i[0]),e8e(i[1])])}return t}function X7e(e){return typeof e=="string"?new RegExp(Z7e(e),"g"):e}function e8e(e){return typeof e=="function"?e:function(){return e}}const S5="phrasing",w5=["autolink","link","image","label"];function t8e(){return{transforms:[l8e],enter:{literalAutolink:r8e,literalAutolinkEmail:E5,literalAutolinkHttp:E5,literalAutolinkWww:E5},exit:{literalAutolink:a8e,literalAutolinkEmail:o8e,literalAutolinkHttp:i8e,literalAutolinkWww:s8e}}}function n8e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:S5,notInConstruct:w5},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:S5,notInConstruct:w5},{character:":",before:"[ps]",after:"\\/",inConstruct:S5,notInConstruct:w5}]}}function r8e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function E5(e){this.config.enter.autolinkProtocol.call(this,e)}function i8e(e){this.config.exit.autolinkProtocol.call(this,e)}function s8e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function o8e(e){this.config.exit.autolinkEmail.call(this,e)}function a8e(e){this.exit(e)}function l8e(e){J7e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,c8e],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,u8e]],{ignore:["link","linkReference"]})}function c8e(e,t,n,r,i){let s="";if(!RW(i)||(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!d8e(n)))return!1;const o=f8e(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function u8e(e,t,n,r){return!RW(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function d8e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function f8e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=rg(e,"(");let s=rg(e,")");for(;r!==-1&&i>s;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[e,n]}function RW(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||_c(n)||J0(n))&&(!t||n!==47)}function hs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}NW.peek=w8e;function h8e(){return{enter:{gfmFootnoteDefinition:m8e,gfmFootnoteDefinitionLabelString:g8e,gfmFootnoteCall:y8e,gfmFootnoteCallString:b8e},exit:{gfmFootnoteDefinition:_8e,gfmFootnoteDefinitionLabelString:v8e,gfmFootnoteCall:S8e,gfmFootnoteCallString:C8e}}}function p8e(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:E8e,footnoteReference:NW}}}function m8e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function g8e(){this.buffer()}function v8e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=hs(this.sliceSerialize(e)).toLowerCase()}function _8e(e){this.exit(e)}function y8e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function b8e(){this.buffer()}function C8e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=hs(this.sliceSerialize(e)).toLowerCase()}function S8e(e){this.exit(e)}function NW(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(e),{...i.current(),before:s,after:"]"})),a(),o(),s+=i.move("]"),s}function w8e(){return"["}function E8e(e,t,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteDefinition"),a=n.enter("label");return s+=i.move(n.safe(n.associationId(e),{...i.current(),before:s,after:"]"})),a(),s+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),s+=i.move(n.indentLines(n.containerFlow(e,i.current()),x8e)),o(),s}function x8e(e,t,n){return t===0?e:(n?"":"    ")+e}const k8e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];PW.peek=M8e;function T8e(){return{canContainEols:["delete"],enter:{strikethrough:A8e},exit:{strikethrough:I8e}}}function O8e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:k8e}],handlers:{delete:PW}}}function A8e(e){this.enter({type:"delete",children:[]},e)}function I8e(e){this.exit(e)}function PW(e,t,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function M8e(){return"~"}function R8e(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||P8e,i=[],s=[],o=[],a=[];let l=0,c=-1;for(;++c<e.length;){const m=[],v=[];let _=-1;for(e[c].length>l&&(l=e[c].length);++_<e[c].length;){const y=N8e(e[c][_]);if(t.alignDelimiters!==!1){const b=r(y);v[_]=b,(a[_]===void 0||b>a[_])&&(a[_]=b)}m.push(y)}s[c]=m,o[c]=v}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<l;)i[u]=NP(n[u]);else{const m=NP(n);for(;++u<l;)i[u]=m}u=-1;const d=[],f=[];for(;++u<l;){const m=i[u];let v="",_="";m===99?(v=":",_=":"):m===108?v=":":m===114&&(_=":");let y=t.alignDelimiters===!1?1:Math.max(1,a[u]-v.length-_.length);const b=v+"-".repeat(y)+_;t.alignDelimiters!==!1&&(y=v.length+y+_.length,y>a[u]&&(a[u]=y),f[u]=y),d[u]=b}s.splice(1,0,d),o.splice(1,0,f),c=-1;const h=[];for(;++c<s.length;){const m=s[c],v=o[c];u=-1;const _=[];for(;++u<l;){const y=m[u]||"";let b="",C="";if(t.alignDelimiters!==!1){const S=a[u]-(v[u]||0),x=i[u];x===114?b=" ".repeat(S):x===99?S%2?(b=" ".repeat(S/2+.5),C=" ".repeat(S/2-.5)):(b=" ".repeat(S/2),C=b):C=" ".repeat(S)}t.delimiterStart!==!1&&!u&&_.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&y==="")&&(t.delimiterStart!==!1||u)&&_.push(" "),t.alignDelimiters!==!1&&_.push(b),_.push(y),t.alignDelimiters!==!1&&_.push(C),t.padding!==!1&&_.push(" "),(t.delimiterEnd!==!1||u!==l-1)&&_.push("|")}h.push(t.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return h.join(`
`)}function N8e(e){return e==null?"":String(e)}function P8e(e){return e.length}function NP(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}var PP={}.hasOwnProperty;function D8e(e,t){var n=t||{};function r(i){var s=r.invalid,o=r.handlers;if(i&&PP.call(i,e)&&(s=PP.call(o,i[e])?o[i[e]]:r.unknown),s)return s.apply(this,arguments)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const L8e={}.hasOwnProperty;function DW(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)DW(e,t.extensions[n]);for(r in t)if(L8e.call(t,r))switch(r){case"extensions":break;case"unsafe":{DP(e[r],t[r]);break}case"join":{DP(e[r],t[r]);break}case"handlers":{F8e(e[r],t[r]);break}default:e.options[r]=t[r]}return e}function DP(e,t){t&&e.push(...t)}function F8e(e,t){t&&Object.assign(e,t)}function j8e(e,t,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(e,s.current()),B8e);return i(),o}function B8e(e,t,n){return">"+(n?"":" ")+e}function LW(e,t){return LP(e,t.inConstruct,!0)&&!LP(e,t.notInConstruct,!1)}function LP(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function FP(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&LW(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function U8e(e,t){const n=String(e);let r=n.indexOf(t),i=r,s=0,o=0;if(typeof t!="string"||t.length!==1)throw new Error("Expected character");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+1,r=n.indexOf(t,i);return o}function US(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function q8e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function z8e(e,t,n,r){const i=q8e(n),s=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(US(e,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,G8e);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(U8e(s,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);u+=a.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...a.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);u+=a.move(" "),u+=a.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...a.current()})),d()}return u+=a.move(`
`),s&&(u+=a.move(s+`
`)),u+=a.move(l),c(),u}function G8e(e,t,n){return(n?"":"    ")+e}function WE(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function H8e(e,t,n,r){const i=WE(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function V8e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}FW.peek=$8e;function FW(e,t,n,r){const i=V8e(n),s=n.enter("emphasis"),o=n.createTracker(r);let a=o.move(i);return a+=o.move(n.containerPhrasing(e,{before:a,after:i,...o.current()})),a+=o.move(i),s(),a}function $8e(e,t,n){return n.options.emphasis||"*"}function jW(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),zE(e,s,a,i);function a(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const W8e={};function KE(e,t){const n=W8e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return BW(e,r,i)}function BW(e,t,n){if(K8e(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return jP(e.children,t,n)}return Array.isArray(e)?jP(e,t,n):""}function jP(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=BW(e[i],t,n);return r.join("")}function K8e(e){return!!(e&&typeof e=="object")}function UW(e,t){let n=!1;return jW(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,jS}),!!((!e.depth||e.depth<3)&&KE(e)&&(t.options.setext||n))}function Y8e(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(UW(e,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}qW.peek=Z8e;function qW(e){return e.value||""}function Z8e(){return"<"}zW.peek=J8e;function zW(e,t,n,r){const i=WE(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function J8e(){return"!"}GW.peek=Q8e;function GW(e,t,n,r){const i=e.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Q8e(){return"!"}HW.peek=X8e;function HW(e,t,n){let r=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function X8e(){return"`"}function VW(e,t){const n=KE(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}$W.peek=exe;function $W(e,t,n,r){const i=WE(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(VW(e,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=u,d}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function exe(e,t,n){return VW(e,n)?"<":"["}WW.peek=txe;function WW(e,t,n,r){const i=e.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return o(),n.stack=u,s(),i==="full"||!c||c!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function txe(){return"["}function YE(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function nxe(e){const t=YE(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function rxe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function KW(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ixe(e,t,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=e.ordered?rxe(n):YE(n);const a=e.ordered?o==="."?")":".":nxe(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),KW(n)===o&&u){let d=-1;for(;++d<e.children.length;){const f=e.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function sxe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function oxe(e,t,n,r){const i=sxe(n);let s=n.bulletCurrent||YE(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,a.current()),u);return l(),c;function u(d,f,h){return f?(h?"":" ".repeat(o))+d:(h?s:s+" ".repeat(o-s.length))+d}}function axe(e,t,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(e,r);return s(),i(),o}const lxe=Y0(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cxe(e,t,n,r){return(e.children.some(function(o){return lxe(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function uxe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}YW.peek=dxe;function YW(e,t,n,r){const i=uxe(n),s=n.enter("strong"),o=n.createTracker(r);let a=o.move(i+i);return a+=o.move(n.containerPhrasing(e,{before:a,after:i,...o.current()})),a+=o.move(i+i),s(),a}function dxe(e,t,n){return n.options.strong||"*"}function fxe(e,t,n,r){return n.safe(e.value,r)}function hxe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function pxe(e,t,n){const r=(KW(n)+(n.options.ruleSpaces?" ":"")).repeat(hxe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const ZE={blockquote:j8e,break:FP,code:z8e,definition:H8e,emphasis:FW,hardBreak:FP,heading:Y8e,html:qW,image:zW,imageReference:GW,inlineCode:HW,link:$W,linkReference:WW,list:ixe,listItem:oxe,paragraph:axe,root:cxe,strong:YW,text:fxe,thematicBreak:pxe},mxe=[gxe];function gxe(e,t,n,r){if(t.type==="code"&&US(t,r)&&(e.type==="list"||e.type===t.type&&US(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&UW(t,r))?void 0:n.spread?1:0}const xl=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],vxe=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:xl},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:xl},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:xl},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:xl},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:xl},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:xl},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:xl},{atBreak:!0,character:"~"}];function ZW(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}const _xe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function JW(e){return e.replace(_xe,yxe)}function yxe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return ZW(n.slice(s?2:1),s?16:10)}return ph(n)||e}function bxe(e){return e.label||!e.identifier?e.label||"":JW(e.identifier)}function Cxe(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function Sxe(e,t,n){const r=t.indexStack,i=e.children||[],s=[];let o=-1,a=n.before;r.push(-1);let l=t.createTracker(n);for(;++o<i.length;){const c=i[o];let u;if(r[r.length-1]=o,o+1<i.length){let d=t.handle.handlers[i[o+1].type];d&&d.peek&&(d=d.peek),u=d?d(i[o+1],e,t,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;s.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=t.createTracker(n),l.move(s.join(""))),s.push(l.move(t.handle(c,e,t,{...l.current(),before:a,after:u}))),a=s[s.length-1].slice(-1)}return r.pop(),s.join("")}function wxe(e,t,n){const r=t.indexStack,i=e.children||[],s=t.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(t.handle(l,e,t,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(Exe(l,i[a+1],e,t)))}return r.pop(),o.join("")}function Exe(e,t,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](e,t,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const xxe=/\r?\n|\r/g;function kxe(e,t){const n=[];let r=0,i=0,s;for(;s=xxe.exec(e);)o(e.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(e.slice(r)),n.join("");function o(a){n.push(t(a,i,!a))}}function Txe(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],s=[],o={};let a=-1;for(;++a<e.unsafe.length;){const u=e.unsafe[a];if(!LW(e.stack,u))continue;const d=e.compilePattern(u);let f;for(;f=d.exec(r);){const h="before"in u||!!u.atBreak,m="after"in u,v=f.index+(h?f[1].length:0);i.includes(v)?(o[v].before&&!h&&(o[v].before=!1),o[v].after&&!m&&(o[v].after=!1)):(i.push(v),o[v]={before:h,after:m})}}i.sort(Oxe);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const u=i[a];u<l||u>=c||u+1<c&&i[a+1]===u+1&&o[u].after&&!o[u+1].before&&!o[u+1].after||i[a-1]===u-1&&o[u].before&&!o[u-1].before&&!o[u-1].after||(l!==u&&s.push(BP(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?s.push("\\"):(s.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return s.push(BP(r.slice(l,c),n.after)),s.join("")}function Oxe(e,t){return e-t}function BP(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=e+t;let o=-1,a=0,l;for(;l=n.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(e.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(e.slice(a)),i.join("")}function Axe(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,s=n.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(c){r+=c}function l(c){const u=c||"",d=u.split(/\r?\n|\r/g),f=d[d.length-1];return i+=d.length-1,s=d.length===1?s+f.length:1+f.length+r,u}}function Ixe(e,t={}){const n={enter:i,indentLines:kxe,associationId:bxe,containerPhrasing:Pxe,containerFlow:Dxe,createTracker:Axe,compilePattern:Cxe,safe:Lxe,stack:[],unsafe:[...vxe],join:[...mxe],handlers:{...ZE},options:{},indexStack:[],handle:void 0};DW(n,t),n.options.tightDefinitions&&n.join.push(Nxe),n.handle=D8e("type",{invalid:Mxe,unknown:Rxe,handlers:n.handlers});let r=n.handle(e,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(s){return n.stack.push(s),o;function o(){n.stack.pop()}}}function Mxe(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function Rxe(e){const t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}function Nxe(e,t){if(e.type==="definition"&&e.type===t.type)return 0}function Pxe(e,t){return Sxe(e,this,t)}function Dxe(e,t){return wxe(e,this,t)}function Lxe(e,t){return Txe(this,e,t)}function Fxe(){return{enter:{table:jxe,tableData:UP,tableHeader:UP,tableRow:Uxe},exit:{codeText:qxe,table:Bxe,tableData:x5,tableHeader:x5,tableRow:x5}}}function jxe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Bxe(e){this.exit(e),this.data.inTable=void 0}function Uxe(e){this.enter({type:"tableRow",children:[]},e)}function x5(e){this.exit(e)}function UP(e){this.enter({type:"tableCell",children:[]},e)}function qxe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,zxe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function zxe(e,t){return t==="|"?t:e}function Gxe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(h,m,v,_){return c(u(h,v,_),h.align)}function a(h,m,v,_){const y=d(h,v,_),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(h,m,v,_){const y=v.enter("tableCell"),b=v.enter("phrasing"),C=v.containerPhrasing(h,{..._,before:s,after:s});return b(),y(),C}function c(h,m){return R8e(h,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(h,m,v){const _=h.children;let y=-1;const b=[],C=m.enter("table");for(;++y<_.length;)b[y]=d(_[y],m,v);return C(),b}function d(h,m,v){const _=h.children;let y=-1;const b=[],C=m.enter("tableRow");for(;++y<_.length;)b[y]=l(_[y],h,m,v);return C(),b}function f(h,m,v){let _=ZE.inlineCode(h,m,v);return v.stack.includes("tableCell")&&(_=_.replace(/\|/g,"\\$&")),_}}function Hxe(){return{exit:{taskListCheckValueChecked:qP,taskListCheckValueUnchecked:qP,paragraph:$xe}}}function Vxe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Wxe}}}function qP(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function $xe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Wxe(e,t,n,r){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=ZE.listItem(e,t,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function Kxe(){return[t8e(),h8e(),T8e(),Fxe(),Hxe()]}function Yxe(e){return{extensions:[n8e(),p8e(),O8e(),Gxe(e),Vxe()]}}function Fi(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function Ai(e,t){return e.length>0?(Fi(e,e.length,0,t),e):t}const zP={}.hasOwnProperty;function QW(e){const t={};let n=-1;for(;++n<e.length;)Zxe(t,e[n]);return t}function Zxe(e,t){let n;for(n in t){const i=(zP.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){zP.call(i,o)||(i[o]=[]);const a=s[o];Jxe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function Jxe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Fi(e,0,0,r)}const Qxe={tokenize:ike,partial:!0},XW={tokenize:ske,partial:!0},eK={tokenize:oke,partial:!0},tK={tokenize:ake,partial:!0},Xxe={tokenize:lke,partial:!0},nK={tokenize:nke,previous:iK},rK={tokenize:rke,previous:sK},ea={tokenize:tke,previous:oK},uo={};function eke(){return{text:uo}}let kl=48;for(;kl<123;)uo[kl]=ea,kl++,kl===58?kl=65:kl===91&&(kl=97);uo[43]=ea;uo[45]=ea;uo[46]=ea;uo[95]=ea;uo[72]=[ea,rK];uo[104]=[ea,rK];uo[87]=[ea,nK];uo[119]=[ea,nK];function tke(e,t,n){const r=this;let i,s;return o;function o(d){return!qS(d)||!oK.call(r,r.previous)||JE(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(d))}function a(d){return qS(d)?(e.consume(d),a):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(Xxe,u,c)(d):d===45||d===95||$n(d)?(s=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return s&&i&&sr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function nke(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!iK.call(r,r.previous)||JE(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Qxe,e.attempt(XW,e.attempt(eK,s),n),n)(o))}function s(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function rke(e,t,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&sK.call(r,r.previous)&&!JE(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),a):n(d)}function a(d){if(sr(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),s?c:(s=!0,l)):n(d)}function c(d){return d===null||ig(d)||Rt(d)||_c(d)||J0(d)?n(d):e.attempt(XW,e.attempt(eK,u),n)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function ike(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),s):n(o)}function s(o){return o===null?n(o):t(o)}}function ske(e,t,n){let r,i,s;return o;function o(c){return c===46||c===95?e.check(tK,l,a)(c):c===null||Rt(c)||_c(c)||c!==45&&J0(c)?l(c):(s=!0,e.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!s?n(c):t(c)}}function oke(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(tK,t,s)(o):o===null||Rt(o)||_c(o)?t(o):(e.consume(o),i)}function s(o){return o===41&&r++,e.consume(o),i}}function ake(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),s):a===93?(e.consume(a),i):a===60||a===null||Rt(a)||_c(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Rt(a)||_c(a)?t(a):r(a)}function s(a){return sr(a)?o(a):n(a)}function o(a){return a===59?(e.consume(a),r):sr(a)?(e.consume(a),o):n(a)}}function lke(e,t,n){return r;function r(s){return e.consume(s),i}function i(s){return $n(s)?n(s):t(s)}}function iK(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rt(e)}function sK(e){return!sr(e)}function oK(e){return!(e===47||qS(e))}function qS(e){return e===43||e===45||e===46||e===95||$n(e)}function JE(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function hGe(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&$n(e.charCodeAt(n+1))&&$n(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function sg(e){if(e===null||Rt(e)||_c(e))return 1;if(J0(e))return 2}function Q0(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const zS={name:"attention",tokenize:uke,resolveAll:cke};function cke(e,t){let n=-1,r,i,s,o,a,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d=Object.assign({},e[r][1].end),f=Object.assign({},e[n][1].start);GP(d,-l),GP(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:f},s={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},a.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Ai(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Ai(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=Ai(c,Q0(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Ai(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=Ai(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,Fi(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function uke(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=sg(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),u=sg(l),d=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?d:d&&(i||!f)),c._close=!!(s===42?f:f&&(u||!d)),t(l)}}function GP(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const dke={name:"autolink",tokenize:fke};function fke(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return sr(h)?(e.consume(h),o):h===64?n(h):c(h)}function o(h){return h===43||h===45||h===46||$n(h)?(r=1,a(h)):c(h)}function a(h){return h===58?(e.consume(h),r=0,l):(h===43||h===45||h===46||$n(h))&&r++<32?(e.consume(h),a):(r=0,c(h))}function l(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||ig(h)?n(h):(e.consume(h),l)}function c(h){return h===64?(e.consume(h),u):x7e(h)?(e.consume(h),c):n(h)}function u(h){return $n(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,u):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):f(h)}function f(h){if((h===45||$n(h))&&r++<63){const m=h===45?f:d;return e.consume(h),m}return n(h)}}const hp={tokenize:hke,partial:!0};function hke(e,t,n){return r;function r(s){return yt(s)?ht(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Be(s)?t(s):n(s)}}const aK={name:"blockQuote",tokenize:pke,continuation:{tokenize:mke},exit:gke};function pke(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return yt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function mke(e,t,n){const r=this;return i;function i(o){return yt(o)?ht(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(aK,t,n)(o)}}function gke(e){e.exit("blockQuote")}const lK={name:"characterEscape",tokenize:vke};function vke(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return T7e(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const cK={name:"characterReference",tokenize:_ke};function _ke(e,t,n){const r=this;let i=0,s,o;return a;function a(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=$n,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=k7e,u):(e.enter("characterReferenceValue"),s=7,o=BS,u(d))}function u(d){if(d===59&&i){const f=e.exit("characterReferenceValue");return o===$n&&!ph(r.sliceSerialize(f))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<s?(e.consume(d),u):n(d)}}const HP={tokenize:bke,partial:!0},VP={name:"codeFenced",tokenize:yke,concrete:!0};function yke(e,t,n){const r=this,i={tokenize:x,partial:!0};let s=0,o=0,a;return l;function l(w){return c(w)}function c(w){const E=r.events[r.events.length-1];return s=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,a=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(w)}function u(w){return w===a?(o++,e.consume(w),u):o<3?n(w):(e.exit("codeFencedFenceSequence"),yt(w)?ht(e,d,"whitespace")(w):d(w))}function d(w){return w===null||Be(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(HP,v,S)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(w))}function f(w){return w===null||Be(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(w)):yt(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ht(e,h,"whitespace")(w)):w===96&&w===a?n(w):(e.consume(w),f)}function h(w){return w===null||Be(w)?d(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===null||Be(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(w)):w===96&&w===a?n(w):(e.consume(w),m)}function v(w){return e.attempt(i,S,_)(w)}function _(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),y}function y(w){return s>0&&yt(w)?ht(e,b,"linePrefix",s+1)(w):b(w)}function b(w){return w===null||Be(w)?e.check(HP,v,S)(w):(e.enter("codeFlowValue"),C(w))}function C(w){return w===null||Be(w)?(e.exit("codeFlowValue"),b(w)):(e.consume(w),C)}function S(w){return e.exit("codeFenced"),t(w)}function x(w,E,T){let O=0;return k;function k(R){return w.enter("lineEnding"),w.consume(R),w.exit("lineEnding"),A}function A(R){return w.enter("codeFencedFence"),yt(R)?ht(w,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):I(R)}function I(R){return R===a?(w.enter("codeFencedFenceSequence"),P(R)):T(R)}function P(R){return R===a?(O++,w.consume(R),P):O>=o?(w.exit("codeFencedFenceSequence"),yt(R)?ht(w,D,"whitespace")(R):D(R)):T(R)}function D(R){return R===null||Be(R)?(w.exit("codeFencedFence"),E(R)):T(R)}}}function bke(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const k5={name:"codeIndented",tokenize:Ske},Cke={tokenize:wke,partial:!0};function Ske(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),ht(e,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Be(c)?e.attempt(Cke,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||Be(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function wke(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Be(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ht(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):Be(o)?i(o):n(o)}}const Eke={name:"codeText",tokenize:Tke,resolve:xke,previous:kke};function xke(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function kke(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Tke(e,t,n){let r=0,i,s;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),a(d)}function a(d){return d===96?(e.consume(d),r++,a):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(s=e.enter("codeTextSequence"),i=0,u(d)):Be(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Be(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(s.type="codeTextData",c(d))}}class Oke{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&rf(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),rf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),rf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);rf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);rf(this.left,n.reverse())}}}function rf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function uK(e){const t={};let n=-1,r,i,s,o,a,l,c;const u=new Oke(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ake(u,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--&&(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);i&&(r[1].end=Object.assign({},u.get(i)[1].start),a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Fi(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Ake(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let u,d,f=-1,h=n,m=0,v=0;const _=[v];for(;h;){for(;e.get(++i)[1]!==h;);s.push(i),h._tokenizer||(u=r.sliceStream(h),h.next||u.push(null),d&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(v=f+1,_.push(v),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):_.pop(),f=_.length;f--;){const y=a.slice(_[f],_[f+1]),b=s.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),f=-1;++f<l.length;)c[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return c}const Ike={tokenize:Nke,resolve:Rke},Mke={tokenize:Pke,partial:!0};function Rke(e){return uK(e),e}function Nke(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Be(a)?e.check(Mke,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Pke(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ht(e,s,"linePrefix")}function s(o){if(o===null||Be(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function dK(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(y){return y===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(y),e.exit(s),f):y===null||y===32||y===41||ig(y)?n(y):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),v(y))}function f(y){return y===62?(e.enter(s),e.consume(y),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===62?(e.exit("chunkString"),e.exit(a),f(y)):y===null||y===60||Be(y)?n(y):(e.consume(y),y===92?m:h)}function m(y){return y===60||y===62||y===92?(e.consume(y),h):h(y)}function v(y){return!u&&(y===null||y===41||Rt(y))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(y)):u<c&&y===40?(e.consume(y),u++,v):y===41?(e.consume(y),u--,v):y===null||y===32||y===40||ig(y)?n(y):(e.consume(y),y===92?_:v)}function _(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function fK(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(s),u}function u(h){return a>999||h===null||h===91||h===93&&!l||h===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(s),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):Be(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||Be(h)||a++>999?(e.exit("chunkString"),u(h)):(e.consume(h),l||(l=!yt(h)),h===92?f:d)}function f(h){return h===91||h===92||h===93?(e.consume(h),a++,d):d(h)}}function hK(e,t,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(e.enter(r),e.enter(i),e.consume(f),e.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(e.enter(i),e.consume(f),e.exit(i),e.exit(r),t):(e.enter(s),c(f))}function c(f){return f===o?(e.exit(s),l(o)):f===null?n(f):Be(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),ht(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===o||f===null||Be(f)?(e.exit("chunkString"),c(f)):(e.consume(f),f===92?d:u)}function d(f){return f===o||f===92?(e.consume(f),u):u(f)}}const Dke={name:"definition",tokenize:Fke},Lke={tokenize:jke,partial:!0};function Fke(e,t,n){const r=this;let i;return s;function s(h){return e.enter("definition"),o(h)}function o(h){return fK.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function a(h){return i=hs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),l):n(h)}function l(h){return Rt(h)?To(e,c)(h):c(h)}function c(h){return dK(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function u(h){return e.attempt(Lke,d,d)(h)}function d(h){return yt(h)?ht(e,f,"whitespace")(h):f(h)}function f(h){return h===null||Be(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function jke(e,t,n){return r;function r(a){return Rt(a)?To(e,i)(a):n(a)}function i(a){return hK(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return yt(a)?ht(e,o,"whitespace")(a):o(a)}function o(a){return a===null||Be(a)?t(a):n(a)}}const Bke={name:"hardBreakEscape",tokenize:Uke};function Uke(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Be(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const qke={name:"headingAtx",tokenize:Gke,resolve:zke};function zke(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Fi(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Gke(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),s(u)}function s(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||Rt(u)?(e.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||Be(u)?(e.exit("atxHeading"),t(u)):yt(u)?ht(e,a,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Rt(u)?(e.exit("atxHeadingText"),a(u)):(e.consume(u),c)}}const Hke=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],$P=["pre","script","style","textarea"],Vke={name:"htmlFlow",tokenize:Yke,resolveTo:Kke,concrete:!0},$ke={tokenize:Jke,partial:!0},Wke={tokenize:Zke,partial:!0};function Kke(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Yke(e,t,n){const r=this;let i,s,o,a,l;return c;function c(N){return u(N)}function u(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),d}function d(N){return N===33?(e.consume(N),f):N===47?(e.consume(N),s=!0,v):N===63?(e.consume(N),i=3,r.interrupt?t:M):sr(N)?(e.consume(N),o=String.fromCharCode(N),_):n(N)}function f(N){return N===45?(e.consume(N),i=2,h):N===91?(e.consume(N),i=5,a=0,m):sr(N)?(e.consume(N),i=4,r.interrupt?t:M):n(N)}function h(N){return N===45?(e.consume(N),r.interrupt?t:M):n(N)}function m(N){const we="CDATA[";return N===we.charCodeAt(a++)?(e.consume(N),a===we.length?r.interrupt?t:I:m):n(N)}function v(N){return sr(N)?(e.consume(N),o=String.fromCharCode(N),_):n(N)}function _(N){if(N===null||N===47||N===62||Rt(N)){const we=N===47,ye=o.toLowerCase();return!we&&!s&&$P.includes(ye)?(i=1,r.interrupt?t(N):I(N)):Hke.includes(o.toLowerCase())?(i=6,we?(e.consume(N),y):r.interrupt?t(N):I(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?b(N):C(N))}return N===45||$n(N)?(e.consume(N),o+=String.fromCharCode(N),_):n(N)}function y(N){return N===62?(e.consume(N),r.interrupt?t:I):n(N)}function b(N){return yt(N)?(e.consume(N),b):k(N)}function C(N){return N===47?(e.consume(N),k):N===58||N===95||sr(N)?(e.consume(N),S):yt(N)?(e.consume(N),C):k(N)}function S(N){return N===45||N===46||N===58||N===95||$n(N)?(e.consume(N),S):x(N)}function x(N){return N===61?(e.consume(N),w):yt(N)?(e.consume(N),x):C(N)}function w(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,E):yt(N)?(e.consume(N),w):T(N)}function E(N){return N===l?(e.consume(N),l=null,O):N===null||Be(N)?n(N):(e.consume(N),E)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Rt(N)?x(N):(e.consume(N),T)}function O(N){return N===47||N===62||yt(N)?C(N):n(N)}function k(N){return N===62?(e.consume(N),A):n(N)}function A(N){return N===null||Be(N)?I(N):yt(N)?(e.consume(N),A):n(N)}function I(N){return N===45&&i===2?(e.consume(N),F):N===60&&i===1?(e.consume(N),j):N===62&&i===4?(e.consume(N),re):N===63&&i===3?(e.consume(N),M):N===93&&i===5?(e.consume(N),B):Be(N)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check($ke,ge,P)(N)):N===null||Be(N)?(e.exit("htmlFlowData"),P(N)):(e.consume(N),I)}function P(N){return e.check(Wke,D,ge)(N)}function D(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),R}function R(N){return N===null||Be(N)?P(N):(e.enter("htmlFlowData"),I(N))}function F(N){return N===45?(e.consume(N),M):I(N)}function j(N){return N===47?(e.consume(N),o="",V):I(N)}function V(N){if(N===62){const we=o.toLowerCase();return $P.includes(we)?(e.consume(N),re):I(N)}return sr(N)&&o.length<8?(e.consume(N),o+=String.fromCharCode(N),V):I(N)}function B(N){return N===93?(e.consume(N),M):I(N)}function M(N){return N===62?(e.consume(N),re):N===45&&i===2?(e.consume(N),M):I(N)}function re(N){return N===null||Be(N)?(e.exit("htmlFlowData"),ge(N)):(e.consume(N),re)}function ge(N){return e.exit("htmlFlow"),t(N)}}function Zke(e,t,n){const r=this;return i;function i(o){return Be(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Jke(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(hp,t,n)}}const Qke={name:"htmlText",tokenize:Xke};function Xke(e,t,n){const r=this;let i,s,o;return a;function a(M){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(M),l}function l(M){return M===33?(e.consume(M),c):M===47?(e.consume(M),x):M===63?(e.consume(M),C):sr(M)?(e.consume(M),T):n(M)}function c(M){return M===45?(e.consume(M),u):M===91?(e.consume(M),s=0,m):sr(M)?(e.consume(M),b):n(M)}function u(M){return M===45?(e.consume(M),h):n(M)}function d(M){return M===null?n(M):M===45?(e.consume(M),f):Be(M)?(o=d,j(M)):(e.consume(M),d)}function f(M){return M===45?(e.consume(M),h):d(M)}function h(M){return M===62?F(M):M===45?f(M):d(M)}function m(M){const re="CDATA[";return M===re.charCodeAt(s++)?(e.consume(M),s===re.length?v:m):n(M)}function v(M){return M===null?n(M):M===93?(e.consume(M),_):Be(M)?(o=v,j(M)):(e.consume(M),v)}function _(M){return M===93?(e.consume(M),y):v(M)}function y(M){return M===62?F(M):M===93?(e.consume(M),y):v(M)}function b(M){return M===null||M===62?F(M):Be(M)?(o=b,j(M)):(e.consume(M),b)}function C(M){return M===null?n(M):M===63?(e.consume(M),S):Be(M)?(o=C,j(M)):(e.consume(M),C)}function S(M){return M===62?F(M):C(M)}function x(M){return sr(M)?(e.consume(M),w):n(M)}function w(M){return M===45||$n(M)?(e.consume(M),w):E(M)}function E(M){return Be(M)?(o=E,j(M)):yt(M)?(e.consume(M),E):F(M)}function T(M){return M===45||$n(M)?(e.consume(M),T):M===47||M===62||Rt(M)?O(M):n(M)}function O(M){return M===47?(e.consume(M),F):M===58||M===95||sr(M)?(e.consume(M),k):Be(M)?(o=O,j(M)):yt(M)?(e.consume(M),O):F(M)}function k(M){return M===45||M===46||M===58||M===95||$n(M)?(e.consume(M),k):A(M)}function A(M){return M===61?(e.consume(M),I):Be(M)?(o=A,j(M)):yt(M)?(e.consume(M),A):O(M)}function I(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(e.consume(M),i=M,P):Be(M)?(o=I,j(M)):yt(M)?(e.consume(M),I):(e.consume(M),D)}function P(M){return M===i?(e.consume(M),i=void 0,R):M===null?n(M):Be(M)?(o=P,j(M)):(e.consume(M),P)}function D(M){return M===null||M===34||M===39||M===60||M===61||M===96?n(M):M===47||M===62||Rt(M)?O(M):(e.consume(M),D)}function R(M){return M===47||M===62||Rt(M)?O(M):n(M)}function F(M){return M===62?(e.consume(M),e.exit("htmlTextData"),e.exit("htmlText"),t):n(M)}function j(M){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),V}function V(M){return yt(M)?ht(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):B(M)}function B(M){return e.enter("htmlTextData"),o(M)}}const QE={name:"labelEnd",tokenize:sTe,resolveTo:iTe,resolveAll:rTe},eTe={tokenize:oTe},tTe={tokenize:aTe},nTe={tokenize:lTe};function rTe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function iTe(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:Object.assign({},e[s][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[s][1].start),end:Object.assign({},e[o][1].end)},u={type:"labelText",start:Object.assign({},e[s+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return a=[["enter",l,t],["enter",c,t]],a=Ai(a,e.slice(s+1,s+r+3)),a=Ai(a,[["enter",u,t]]),a=Ai(a,Q0(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=Ai(a,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),a=Ai(a,e.slice(o+1)),a=Ai(a,[["exit",l,t]]),Fi(e,s,e.length,a),e}function sTe(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(hs(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):n(f)}function l(f){return f===40?e.attempt(eTe,u,o?u:d)(f):f===91?e.attempt(tTe,u,o?c:d)(f):o?u(f):d(f)}function c(f){return e.attempt(nTe,u,d)(f)}function u(f){return t(f)}function d(f){return s._balanced=!0,n(f)}}function oTe(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Rt(d)?To(e,s)(d):s(d)}function s(d){return d===41?u(d):dK(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Rt(d)?To(e,l)(d):u(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?hK(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Rt(d)?To(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function aTe(e,t,n){const r=this;return i;function i(a){return fK.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(hs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function lTe(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const cTe={name:"labelStartImage",tokenize:uTe,resolveAll:QE.resolveAll};function uTe(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const dTe={name:"labelStartLink",tokenize:fTe,resolveAll:QE.resolveAll};function fTe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const T5={name:"lineEnding",tokenize:hTe};function hTe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ht(e,t,"linePrefix")}}const t1={name:"thematicBreak",tokenize:pTe};function pTe(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Be(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),yt(c)?ht(e,a,"whitespace")(c):a(c))}}const Fr={name:"list",tokenize:vTe,continuation:{tokenize:_Te},exit:bTe},mTe={tokenize:CTe,partial:!0},gTe={tokenize:yTe,partial:!0};function vTe(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(h){const m=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:BS(h)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(t1,n,c)(h):c(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(h)}return n(h)}function l(h){return BS(h)&&++o<10?(e.consume(h),l):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):n(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(hp,r.interrupt?n:u,e.attempt(mTe,f,d))}function u(h){return r.containerState.initialBlankLine=!0,s++,f(h)}function d(h){return yt(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),f):n(h)}function f(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function _Te(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(hp,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ht(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!yt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(gTe,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ht(e,e.attempt(Fr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function yTe(e,t,n){const r=this;return ht(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function bTe(e){e.exit(this.containerState.type)}function CTe(e,t,n){const r=this;return ht(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!yt(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const WP={name:"setextUnderline",tokenize:wTe,resolveTo:STe};function STe(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[s][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function wTe(e,t,n){const r=this;let i;return s;function s(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),yt(c)?ht(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Be(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const ETe={tokenize:RTe,partial:!0};function xTe(){return{document:{91:{tokenize:ATe,continuation:{tokenize:ITe},exit:MTe}},text:{91:{tokenize:OTe},93:{add:"after",tokenize:kTe,resolveTo:TTe}}}}function kTe(e,t,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=hs(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function TTe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function OTe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(s>999||d===93&&!o||d===null||d===91||Rt(d))return n(d);if(d===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(hs(r.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Rt(d)||(o=!0),s++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),s++,c):c(d)}}function ATe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(m)}function u(m){if(o>999||m===93&&!a||m===null||m===91||Rt(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return s=hs(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return Rt(m)||(a=!0),o++,e.consume(m),m===92?d:u}function d(m){return m===91||m===92||m===93?(e.consume(m),o++,u):u(m)}function f(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(s)||i.push(s),ht(e,h,"gfmFootnoteDefinitionWhitespace")):n(m)}function h(m){return t(m)}}function ITe(e,t,n){return e.check(hp,t,e.attempt(ETe,t,n))}function MTe(e){e.exit("gfmFootnoteDefinition")}function RTe(e,t,n){const r=this;return ht(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(s):n(s)}}function NTe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",u,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",d,a]],h=a.parser.constructs.insideSpan.null;h&&Fi(f,f.length,0,Q0(h,o.slice(c+1,l),a)),Fi(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",u,a]]),Fi(o,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,u=this.events;let d=0;return f;function f(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),h(m))}function h(m){const v=sg(c);if(m===126)return d>1?l(m):(o.consume(m),d++,h);if(d<2&&!n)return l(m);const _=o.exit("strikethroughSequenceTemporary"),y=sg(m);return _._open=!y||y===2&&!!v,_._close=!v||v===2&&!!y,a(m)}}}class PTe{constructor(){this.map=[]}add(t,n,r){DTe(this,t,n,r)}consume(t){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push([...t]),t.length=0;let i=r.pop();for(;i;)t.push(...i),i=r.pop();this.map.length=0}}function DTe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function LTe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function FTe(){return{flow:{null:{tokenize:jTe,resolveAll:BTe}}}}function jTe(e,t,n){const r=this;let i=0,s=0,o;return a;function a(k){let A=r.events.length-1;for(;A>-1;){const D=r.events[A][1].type;if(D==="lineEnding"||D==="linePrefix")A--;else break}const I=A>-1?r.events[A][1].type:null,P=I==="tableHead"||I==="tableRow"?w:l;return P===w&&r.parser.lazy[r.now().line]?n(k):P(k)}function l(k){return e.enter("tableHead"),e.enter("tableRow"),c(k)}function c(k){return k===124||(o=!0,s+=1),u(k)}function u(k){return k===null?n(k):Be(k)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),h):n(k):yt(k)?ht(e,u,"whitespace")(k):(s+=1,o&&(o=!1,i+=1),k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),d(k)))}function d(k){return k===null||k===124||Rt(k)?(e.exit("data"),u(k)):(e.consume(k),k===92?f:d)}function f(k){return k===92||k===124?(e.consume(k),d):d(k)}function h(k){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(k):(e.enter("tableDelimiterRow"),o=!1,yt(k)?ht(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):m(k))}function m(k){return k===45||k===58?_(k):k===124?(o=!0,e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),v):x(k)}function v(k){return yt(k)?ht(e,_,"whitespace")(k):_(k)}function _(k){return k===58?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),y):k===45?(s+=1,y(k)):k===null||Be(k)?S(k):x(k)}function y(k){return k===45?(e.enter("tableDelimiterFiller"),b(k)):x(k)}function b(k){return k===45?(e.consume(k),b):k===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(k),e.exit("tableDelimiterMarker"),C):(e.exit("tableDelimiterFiller"),C(k))}function C(k){return yt(k)?ht(e,S,"whitespace")(k):S(k)}function S(k){return k===124?m(k):k===null||Be(k)?!o||i!==s?x(k):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(k)):x(k)}function x(k){return n(k)}function w(k){return e.enter("tableRow"),E(k)}function E(k){return k===124?(e.enter("tableCellDivider"),e.consume(k),e.exit("tableCellDivider"),E):k===null||Be(k)?(e.exit("tableRow"),t(k)):yt(k)?ht(e,E,"whitespace")(k):(e.enter("data"),T(k))}function T(k){return k===null||k===124||Rt(k)?(e.exit("data"),E(k)):(e.consume(k),k===92?O:T)}function O(k){return k===92||k===124?(e.consume(k),T):T(k)}}function BTe(e,t){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,u,d;const f=new PTe;for(;++n<e.length;){const h=e[n],m=h[1];h[0]==="enter"?m.type==="tableHead"?(a=!1,l!==0&&(KP(f,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",c,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(n,0,[["enter",u,t]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=_m(f,t,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=_m(f,t,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):m.type==="tableHead"?(a=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=_m(f,t,s,i,n,d)):o[1]!==0&&(d=_m(f,t,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&KP(f,t,l,c,u),f.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=LTe(t.events,n))}return e}function _m(e,t,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},Eu(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const l=Eu(t.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",s,t]]),n[2]!==0){const c=Eu(t.events,n[2]),u=Eu(t.events,n[3]),d={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const f=t.events[n[2]],h=t.events[n[3]];if(f[1].end=Object.assign({},h[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,v=n[3]-n[2]-1;e.add(m,v,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(s.end=Object.assign({},Eu(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function KP(e,t,n,r,i){const s=[],o=Eu(t.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,t])),r.end=Object.assign({},o),s.push(["exit",r,t]),e.add(n+1,0,s)}function Eu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const UTe={tokenize:zTe};function qTe(){return{text:{91:UTe}}}function zTe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),s)}function s(l){return Rt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return Be(l)?t(l):yt(l)?e.check({tokenize:GTe},t,n)(l):n(l)}}function GTe(e,t,n){return ht(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function HTe(e){return QW([eke(),xTe(),NTe(e),FTe(),qTe()])}const VTe={};function $Te(e){const t=this,n=e||VTe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(HTe(n)),s.push(Kxe()),o.push(Yxe(n))}const WTe={tokenize:KTe};function KTe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ht(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return Be(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const YTe={tokenize:ZTe},YP={tokenize:JTe};function ZTe(e){const t=this,n=[];let r=0,i,s,o;return a;function a(C){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(C)}return c(C)}function l(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let x=S,w;for(;x--;)if(t.events[x][0]==="exit"&&t.events[x][1].type==="chunkFlow"){w=t.events[x][1].end;break}y(r);let E=S;for(;E<t.events.length;)t.events[E][1].end=Object.assign({},w),E++;return Fi(t.events,x+1,0,t.events.slice(S)),t.events.length=E,c(C)}return a(C)}function c(C){if(r===n.length){if(!i)return f(C);if(i.currentConstruct&&i.currentConstruct.concrete)return m(C);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(YP,u,d)(C)}function u(C){return i&&b(),y(r),f(C)}function d(C){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(C)}function f(C){return t.containerState={},e.attempt(YP,h,m)(C)}function h(C){return r++,n.push([t.currentConstruct,t.containerState]),f(C)}function m(C){if(C===null){i&&b(),y(0),e.consume(C);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:i}),v(C)}function v(C){if(C===null){_(e.exit("chunkFlow"),!0),y(0),e.consume(C);return}return Be(C)?(e.consume(C),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(C),v)}function _(C,S){const x=t.sliceStream(C);if(S&&x.push(null),C.previous=s,s&&(s.next=C),s=C,i.defineSkip(C.start),i.write(x),t.parser.lazy[C.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<o&&(!i.events[w][1].end||i.events[w][1].end.offset>o))return;const E=t.events.length;let T=E,O,k;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(O){k=t.events[T][1].end;break}O=!0}for(y(r),w=E;w<t.events.length;)t.events[w][1].end=Object.assign({},k),w++;Fi(t.events,T+1,0,t.events.slice(E)),t.events.length=w}}function y(C){let S=n.length;for(;S-- >C;){const x=n[S];t.containerState=x[1],x[0].exit.call(t,e)}n.length=C}function b(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function JTe(e,t,n){return ht(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const QTe={tokenize:XTe};function XTe(e){const t=this,n=e.attempt(hp,r,e.attempt(this.parser.constructs.flowInitial,i,ht(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Ike,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const eOe={resolveAll:mK()},tOe=pK("string"),nOe=pK("text");function pK(e){return{tokenize:t,resolveAll:mK(e==="text"?rOe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let f=-1;if(d)for(;++f<d.length;){const h=d[f];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function mK(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function rOe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function iOe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},s=[];let o=[],a=[];const l={consume:b,enter:C,exit:S,attempt:E(x),check:E(w),interrupt:E(w,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:f,now:m,defineSkip:v,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function d(A){return o=Ai(o,A),_(),o[o.length-1]!==null?[]:(T(t,0),c.events=Q0(s,c.events,c),c.events)}function f(A,I){return oOe(h(A),I)}function h(A){return sOe(o,A)}function m(){const{line:A,column:I,offset:P,_index:D,_bufferIndex:R}=r;return{line:A,column:I,offset:P,_index:D,_bufferIndex:R}}function v(A){i[A.line]=A.column,k()}function _(){let A;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<I.length;)y(I.charCodeAt(r._bufferIndex));else y(I)}}function y(A){u=u(A)}function b(A){Be(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,k()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=A}function C(A,I){const P=I||{};return P.type=A,P.start=m(),c.events.push(["enter",P,c]),a.push(P),P}function S(A){const I=a.pop();return I.end=m(),c.events.push(["exit",I,c]),I}function x(A,I){T(A,I.from)}function w(A,I){I.restore()}function E(A,I){return P;function P(D,R,F){let j,V,B,M;return Array.isArray(D)?ge(D):"tokenize"in D?ge([D]):re(D);function re(X){return de;function de(ee){const ke=ee!==null&&X[ee],se=ee!==null&&X.null,fe=[...Array.isArray(ke)?ke:ke?[ke]:[],...Array.isArray(se)?se:se?[se]:[]];return ge(fe)(ee)}}function ge(X){return j=X,V=0,X.length===0?F:N(X[V])}function N(X){return de;function de(ee){return M=O(),B=X,X.partial||(c.currentConstruct=X),X.name&&c.parser.constructs.disable.null.includes(X.name)?ye():X.tokenize.call(I?Object.assign(Object.create(c),I):c,l,we,ye)(ee)}}function we(X){return A(B,M),R}function ye(X){return M.restore(),++V<j.length?N(j[V]):F}}}function T(A,I){A.resolveAll&&!s.includes(A)&&s.push(A),A.resolve&&Fi(c.events,I,c.events.length-I,A.resolve(c.events.slice(I),c)),A.resolveTo&&(c.events=A.resolveTo(c.events,c))}function O(){const A=m(),I=c.previous,P=c.currentConstruct,D=c.events.length,R=Array.from(a);return{restore:F,from:D};function F(){r=A,c.previous=I,c.currentConstruct=P,c.events.length=D,a=R,k()}}function k(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sOe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function oOe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}const aOe={42:Fr,43:Fr,45:Fr,48:Fr,49:Fr,50:Fr,51:Fr,52:Fr,53:Fr,54:Fr,55:Fr,56:Fr,57:Fr,62:aK},lOe={91:Dke},cOe={[-2]:k5,[-1]:k5,32:k5},uOe={35:qke,42:t1,45:[WP,t1],60:Vke,61:WP,95:t1,96:VP,126:VP},dOe={38:cK,92:lK},fOe={[-5]:T5,[-4]:T5,[-3]:T5,33:cTe,38:cK,42:zS,60:[dke,Qke],91:dTe,92:[Bke,lK],93:QE,95:zS,96:Eke},hOe={null:[zS,eOe]},pOe={null:[42,95]},mOe={null:[]},gOe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:pOe,contentInitial:lOe,disable:mOe,document:aOe,flow:uOe,flowInitial:cOe,insideSpan:hOe,string:dOe,text:fOe},Symbol.toStringTag,{value:"Module"}));function vOe(e){const n=QW([gOe,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(WTe),document:i(YTe),flow:i(QTe),string:i(tOe),text:i(nOe)};return r;function i(s){return o;function o(a){return iOe(r,s,a)}}}function _Oe(e){for(;!uK(e););return e}const ZP=/[\0\t\n\r]/g;function yOe(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,d,f,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(ZP.lastIndex=d,c=ZP.exec(s),f=c&&c.index!==void 0?c.index:s.length,h=s.charCodeAt(f),!c){t=s.slice(d);break}if(h===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),e+=f-d),h){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=f+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function Bf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?JP(e.position):"start"in e||"end"in e?JP(e):"line"in e||"column"in e?GS(e):""}function GS(e){return QP(e&&e.line)+":"+QP(e&&e.column)}function JP(e){return GS(e&&e.start)+"-"+GS(e&&e.end)}function QP(e){return e&&typeof e=="number"?e:1}const gK={}.hasOwnProperty;function bOe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),COe(n)(_Oe(vOe(n).document().write(yOe()(e,t,!0))))}function COe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Me),autolinkProtocol:O,autolinkEmail:O,atxHeading:s(Ze),blockQuote:s(ke),characterEscape:O,characterReference:O,codeFenced:s(se),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(se,o),codeText:s(fe,o),codeTextData:O,data:O,codeFlowValue:O,definition:s(he),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Oe),hardBreakEscape:s(le),hardBreakTrailing:s(le),htmlFlow:s(Q,o),htmlFlowData:O,htmlText:s(Q,o),htmlTextData:O,image:s(ie),label:o,link:s(Me),listItem:s($),listItemValue:f,listOrdered:s(Z,d),listUnordered:s(Z),paragraph:s(U),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ze),strong:s(pe),thematicBreak:s(te)},exit:{atxHeading:l(),atxHeadingSequence:x,autolink:l(),autolinkEmail:ee,autolinkProtocol:de,blockQuote:l(),characterEscapeValue:k,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:X,codeFenced:l(_),codeFencedFence:v,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:k,codeIndented:l(y),codeText:l(R),codeTextData:k,data:k,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:C,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(P),htmlFlowData:k,htmlText:l(D),htmlTextData:k,image:l(j),label:B,labelText:V,lineEnding:A,link:l(F),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:we,resourceDestinationString:M,resourceTitleString:re,resource:ge,setextHeading:l(T),setextHeadingLineSequence:E,setextHeadingText:w,strong:l(),thematicBreak:l()}};vK(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(L){let H={type:"root",children:[]};const W={stack:[H],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:u,data:n},ae=[];let Re=-1;for(;++Re<L.length;)if(L[Re][1].type==="listOrdered"||L[Re][1].type==="listUnordered")if(L[Re][0]==="enter")ae.push(Re);else{const st=ae.pop();Re=i(L,st,Re)}for(Re=-1;++Re<L.length;){const st=t[L[Re][0]];gK.call(st,L[Re][1].type)&&st[L[Re][1].type].call(Object.assign({sliceSerialize:L[Re][2].sliceSerialize},W),L[Re][1])}if(W.tokenStack.length>0){const st=W.tokenStack[W.tokenStack.length-1];(st[1]||XP).call(W,void 0,st[0])}for(H.position={start:fa(L.length>0?L[0][1].start:{line:1,column:1,offset:0}),end:fa(L.length>0?L[L.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<t.transforms.length;)H=t.transforms[Re](H)||H;return H}function i(L,H,W){let ae=H-1,Re=-1,st=!1,pt,lt,nt,St;for(;++ae<=W;){const wt=L[ae];switch(wt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{wt[0]==="enter"?Re++:Re--,St=void 0;break}case"lineEndingBlank":{wt[0]==="enter"&&(pt&&!St&&!Re&&!nt&&(nt=ae),St=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:St=void 0}if(!Re&&wt[0]==="enter"&&wt[1].type==="listItemPrefix"||Re===-1&&wt[0]==="exit"&&(wt[1].type==="listUnordered"||wt[1].type==="listOrdered")){if(pt){let At=ae;for(lt=void 0;At--;){const mt=L[At];if(mt[1].type==="lineEnding"||mt[1].type==="lineEndingBlank"){if(mt[0]==="exit")continue;lt&&(L[lt][1].type="lineEndingBlank",st=!0),mt[1].type="lineEnding",lt=At}else if(!(mt[1].type==="linePrefix"||mt[1].type==="blockQuotePrefix"||mt[1].type==="blockQuotePrefixWhitespace"||mt[1].type==="blockQuoteMarker"||mt[1].type==="listItemIndent"))break}nt&&(!lt||nt<lt)&&(pt._spread=!0),pt.end=Object.assign({},lt?L[lt][1].start:wt[1].end),L.splice(lt||ae,0,["exit",pt,wt[2]]),ae++,W++}if(wt[1].type==="listItemPrefix"){const At={type:"listItem",_spread:!1,start:Object.assign({},wt[1].start),end:void 0};pt=At,L.splice(ae,0,["enter",At,wt[2]]),ae++,W++,nt=void 0,St=!0}}}return L[H][1]._spread=st,W}function s(L,H){return W;function W(ae){a.call(this,L(ae),ae),H&&H.call(this,ae)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(L,H,W){this.stack[this.stack.length-1].children.push(L),this.stack.push(L),this.tokenStack.push([H,W]),L.position={start:fa(H.start),end:void 0}}function l(L){return H;function H(W){L&&L.call(this,W),c.call(this,W)}}function c(L,H){const W=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==L.type&&(H?H.call(this,L,ae[0]):(ae[1]||XP).call(this,L,ae[0]));else throw new Error("Cannot close `"+L.type+"` ("+Bf({start:L.start,end:L.end})+"): it’s not open");W.position.end=fa(L.end)}function u(){return KE(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(L){if(this.data.expectingFirstListItemValue){const H=this.stack[this.stack.length-2];H.start=Number.parseInt(this.sliceSerialize(L),10),this.data.expectingFirstListItemValue=void 0}}function h(){const L=this.resume(),H=this.stack[this.stack.length-1];H.lang=L}function m(){const L=this.resume(),H=this.stack[this.stack.length-1];H.meta=L}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const L=this.resume(),H=this.stack[this.stack.length-1];H.value=L.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const L=this.resume(),H=this.stack[this.stack.length-1];H.value=L.replace(/(\r?\n|\r)$/g,"")}function b(L){const H=this.resume(),W=this.stack[this.stack.length-1];W.label=H,W.identifier=hs(this.sliceSerialize(L)).toLowerCase()}function C(){const L=this.resume(),H=this.stack[this.stack.length-1];H.title=L}function S(){const L=this.resume(),H=this.stack[this.stack.length-1];H.url=L}function x(L){const H=this.stack[this.stack.length-1];if(!H.depth){const W=this.sliceSerialize(L).length;H.depth=W}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function E(L){const H=this.stack[this.stack.length-1];H.depth=this.sliceSerialize(L).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function O(L){const W=this.stack[this.stack.length-1].children;let ae=W[W.length-1];(!ae||ae.type!=="text")&&(ae=Ae(),ae.position={start:fa(L.start),end:void 0},W.push(ae)),this.stack.push(ae)}function k(L){const H=this.stack.pop();H.value+=this.sliceSerialize(L),H.position.end=fa(L.end)}function A(L){const H=this.stack[this.stack.length-1];if(this.data.atHardBreak){const W=H.children[H.children.length-1];W.position.end=fa(L.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(H.type)&&(O.call(this,L),k.call(this,L))}function I(){this.data.atHardBreak=!0}function P(){const L=this.resume(),H=this.stack[this.stack.length-1];H.value=L}function D(){const L=this.resume(),H=this.stack[this.stack.length-1];H.value=L}function R(){const L=this.resume(),H=this.stack[this.stack.length-1];H.value=L}function F(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=H,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function j(){const L=this.stack[this.stack.length-1];if(this.data.inReference){const H=this.data.referenceType||"shortcut";L.type+="Reference",L.referenceType=H,delete L.url,delete L.title}else delete L.identifier,delete L.label;this.data.referenceType=void 0}function V(L){const H=this.sliceSerialize(L),W=this.stack[this.stack.length-2];W.label=JW(H),W.identifier=hs(H).toLowerCase()}function B(){const L=this.stack[this.stack.length-1],H=this.resume(),W=this.stack[this.stack.length-1];if(this.data.inReference=!0,W.type==="link"){const ae=L.children;W.children=ae}else W.alt=H}function M(){const L=this.resume(),H=this.stack[this.stack.length-1];H.url=L}function re(){const L=this.resume(),H=this.stack[this.stack.length-1];H.title=L}function ge(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function we(L){const H=this.resume(),W=this.stack[this.stack.length-1];W.label=H,W.identifier=hs(this.sliceSerialize(L)).toLowerCase(),this.data.referenceType="full"}function ye(L){this.data.characterReferenceType=L.type}function X(L){const H=this.sliceSerialize(L),W=this.data.characterReferenceType;let ae;W?(ae=ZW(H,W==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=ph(H);const Re=this.stack.pop();Re.value+=ae,Re.position.end=fa(L.end)}function de(L){k.call(this,L);const H=this.stack[this.stack.length-1];H.url=this.sliceSerialize(L)}function ee(L){k.call(this,L);const H=this.stack[this.stack.length-1];H.url="mailto:"+this.sliceSerialize(L)}function ke(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function fe(){return{type:"inlineCode",value:""}}function he(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function Ze(){return{type:"heading",depth:0,children:[]}}function le(){return{type:"break"}}function Q(){return{type:"html",value:""}}function ie(){return{type:"image",title:null,url:"",alt:null}}function Me(){return{type:"link",title:null,url:"",children:[]}}function Z(L){return{type:"list",ordered:L.type==="listOrdered",start:null,spread:L._spread,children:[]}}function $(L){return{type:"listItem",spread:L._spread,checked:null,children:[]}}function U(){return{type:"paragraph",children:[]}}function pe(){return{type:"strong",children:[]}}function Ae(){return{type:"text",value:""}}function te(){return{type:"thematicBreak"}}}function fa(e){return{line:e.line,column:e.column,offset:e.offset}}function vK(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?vK(e,r):SOe(e,r)}}function SOe(e,t){let n;for(n in t)if(gK.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function XP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Bf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Bf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bf({start:t.start,end:t.end})+") is still open")}function wOe(e){const t=this;t.parser=n;function n(r){return bOe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function EOe(e){const t=this;t.compiler=n;function n(r){return Ixe(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}}const xOe={blockquote:ha,break:IOe,code:es,definition:es,delete:ha,emphasis:ha,footnoteReference:es,footnoteDefinition:es,heading:AOe,html:es,image:tD,imageReference:tD,inlineCode:nD,list:ha,listItem:ha,link:ha,linkReference:ha,strong:ha,table:es,tableCell:es,text:nD,thematicBreak:es,toml:es,yaml:es},kOe={},eD=[];function TOe(e){const t={...xOe},n=e||kOe,r=n.keep||eD,i=n.remove||eD;let s=-1;for(;++s<i.length;){const c=i[s];typeof c=="string"?t[c]=es:t[c[0]]=c[1]}let o={};if(r.length===0)o=t;else{let c;for(c in t)r.includes(c)||(o[c]=t[c]);for(s=-1;++s<r.length;)if(c=r[s],!Object.hasOwn(t,c))throw new Error("Unknown node type `"+c+"` in `keep`, use a replace tuple with a handle instead: `remove: [['"+c+"', handle]]`")}return function(c){return a(c)};function a(c){const u=c.type;let d=c;if(Object.hasOwn(o,u)){const f=o[u];f&&(d=f(d)||void 0)}return d=Array.isArray(d)?l(d):d,d&&"children"in d&&(d.children=l(d.children)),d}function l(c){let u=-1;const d=[];for(;++u<c.length;){const f=a(c[u]);Array.isArray(f)?d.push(...l(f)):f&&d.push(f)}return OOe(d)}}function OOe(e){let t=-1;const n=[];let r;for(;++t<e.length;){const i=e[t];r&&i.type===r.type&&"value"in i&&"value"in r?r.value+=i.value:(n.push(i),r=i)}return n}function tD(e){const t="title"in e?e.title:"",n=e.alt||t||"";return n?{type:"text",value:n}:void 0}function nD(e){return{type:"text",value:e.value}}function AOe(e){return{type:"paragraph",children:e.children}}function ha(e){return e.children}function IOe(){return{type:"text",value:`
`}}function es(){}function rD(e){if(e)throw e}var O5,iD;function MOe(){if(iD)return O5;iD=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!d)return!1;var f;for(f in c);return typeof f>"u"||e.call(c,f)},o=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return O5=function l(){var c,u,d,f,h,m,v=arguments[0],_=1,y=arguments.length,b=!1;for(typeof v=="boolean"&&(b=v,v=arguments[1]||{},_=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});_<y;++_)if(c=arguments[_],c!=null)for(u in c)d=a(v,u),f=a(c,u),v!==f&&(b&&f&&(s(f)||(h=i(f)))?(h?(h=!1,m=d&&i(d)?d:[]):m=d&&s(d)?d:{},o(v,{name:u,newValue:l(b,m,f)})):typeof f<"u"&&o(v,{name:u,newValue:f}));return v},O5}var ROe=MOe();const A5=_n(ROe);function HS(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function NOe(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=e[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?POe(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function POe(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l instanceof Promise?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}class Zr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Bf(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Zr.prototype.file="";Zr.prototype.name="";Zr.prototype.reason="";Zr.prototype.message="";Zr.prototype.stack="";Zr.prototype.column=void 0;Zr.prototype.line=void 0;Zr.prototype.ancestors=void 0;Zr.prototype.cause=void 0;Zr.prototype.fatal=void 0;Zr.prototype.place=void 0;Zr.prototype.ruleId=void 0;Zr.prototype.source=void 0;const Fs={basename:DOe,dirname:LOe,extname:FOe,join:jOe,sep:"/"};function DOe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');pp(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function LOe(e){if(pp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function FOe(e){pp(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function jOe(...e){let t=-1,n;for(;++t<e.length;)pp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":BOe(n)}function BOe(e){pp(e);const t=e.codePointAt(0)===47;let n=UOe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function UOe(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function pp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const qOe={cwd:zOe};function zOe(){return"/"}function VS(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function GOe(e){if(typeof e=="string")e=new URL(e);else if(!VS(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return HOe(e)}function HOe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const I5=["history","path","basename","stem","extname","dirname"];class VOe{constructor(t){let n;t?VS(t)?n={path:t}:typeof t=="string"||$Oe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":qOe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<I5.length;){const s=I5[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)I5.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Fs.basename(this.path):void 0}set basename(t){R5(t,"basename"),M5(t,"basename"),this.path=Fs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Fs.dirname(this.path):void 0}set dirname(t){sD(this.basename,"dirname"),this.path=Fs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Fs.extname(this.path):void 0}set extname(t){if(M5(t,"extname"),sD(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){VS(t)&&(t=GOe(t)),R5(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Fs.basename(this.path,this.extname):void 0}set stem(t){R5(t,"stem"),M5(t,"stem"),this.path=Fs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Zr(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function M5(e,t){if(e&&e.includes(Fs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Fs.sep+"`")}function R5(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function sD(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function $Oe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const WOe=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};Object.setPrototypeOf(s,r);const o=Object.getOwnPropertyNames(i);for(const a of o){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(s,a,l)}return s},KOe={}.hasOwnProperty;class XE extends WOe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=NOe()}copy(){const t=new XE;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(A5(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(D5("data",this.frozen),this.namespace[t]=n,this):KOe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(D5("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ym(t),r=this.parser||this.Parser;return N5("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),N5("process",this.parser||this.Parser),P5("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=ym(t),l=r.parse(a);r.run(l,a,function(u,d,f){if(u||!d||!f)return c(u);const h=d,m=r.stringify(h,f);ZOe(m)?f.value=m:f.result=m,c(u,f)});function c(u,d){u||!d?o(u):s?s(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),N5("processSync",this.parser||this.Parser),P5("processSync",this.compiler||this.Compiler),this.process(t,i),aD("processSync","process",n),r;function i(s,o){n=!0,rD(s),r=o}}run(t,n,r){oD(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=ym(n);i.run(t,l,c);function c(u,d,f){const h=d||t;u?a(u):o?o(h):r(void 0,h,f)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),aD("runSync","run",r),i;function s(o,a){rD(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=ym(n),i=this.compiler||this.Compiler;return P5("stringify",i),oD(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(D5("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=A5(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===c){f=d;break}if(f===-1)r.push([c,...u]);else if(u.length>0){let[h,...m]=u;const v=r[f][1];HS(v)&&HS(h)&&(h=A5(!0,v,h)),r[f]=[c,h,...m]}}}}const _K=new XE().freeze();function N5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function P5(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function D5(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function oD(e){if(!HS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function aD(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ym(e){return YOe(e)?e:new VOe(e)}function YOe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function ZOe(e){return typeof e=="string"||JOe(e)}function JOe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pGe=Object.freeze(Object.defineProperty({__proto__:null,unified:_K},Symbol.toStringTag,{value:"Module"})),QOe=()=>e=>{jW(e,["textDirective","leafDirective","containerDirective"],(t,n,r)=>{if(r==null||typeof n!="number")return;const s=t.children;return s&&s.length>0?(r.children.splice(n,1,...s),n+s.length):(r.children.splice(n,1),n)})};function XOe(e){const t=_K().use(wOe).use($Te,{singleTilde:!1}).use(Y7e).use(QOe).use(TOe).use(EOe,{bullet:"-",fences:!0,listItemIndent:"one"}).processSync(e);return String(t)}const mGe="https://help.openai.com/en/articles/8590148-memory-faq";function yK(e,t=!0){return["memories",{gizmoId:e,includeMemoryEntries:t}]}function gGe(e,t=!0,n=!0){return Nt({queryKey:yK(e,t),queryFn:async()=>{const r=await ue.safeGet("/memories",{parameters:{query:{gizmo_id:e,include_memory_entries:t}}}),i=Math.min(Math.floor(100*r.memory_num_tokens/r.memory_max_tokens),100);return{...r,memoryFullPct:i}},refetchOnMount:"always",enabled:n})}const eAe=(e,t)=>{window.__reactRouterDataRouter.navigate(e,t)},e7=cle(qt.PendingSurveySpec,()=>null);function tAe(){return Kt.getItem(qt.PendingSurveySpec)}function nAe(e){e7.set(e)}function rAe(){e7.set(null)}const Du=hn(e=>({survey:null,triggered:!1,setSurvey:t=>e({survey:t}),setTriggered:t=>e({triggered:t})}));function vGe(){const{setTriggered:e}=Du.getState();e(!0)}function _Ge(){const e=Du(s=>s.survey),t=Du(s=>s.triggered),n=Du(s=>s.setSurvey),r=Du(s=>s.setTriggered);return p.useEffect(()=>{if(!t||e)return;const s=tAe();rAe(),n(s)},[e,t,n]),{survey:e,finishSurvey:()=>{n(null),r(!1)}}}function yGe(){const e=Du(i=>i.setTriggered),t=Or(()=>e7()),n=Rr(),r=p.useRef(null);p.useEffect(()=>{if(typeof document<"u"&&document.visibilityState!=="visible"){e(!1);return}if(!t){e(!1);return}n.pathname==="/"&&n.key!==r.current&&(r.current=n.key,e(!0))},[n.key,n.pathname,e,t])}const bK={[_r.LoggedIn]:qt.LoggedInUserMessageCount,[_r.LoggedOut]:qt.NoAuthUserMessageCount},iAe=hn(nl(()=>({messageCountByAuthStatus:{[_r.LoggedIn]:lD(_r.LoggedIn),[_r.LoggedOut]:lD(_r.LoggedOut)}})));function bGe(e){return e.messageCountByAuthStatus[_r.LoggedOut]}function CGe(e){return e.messageCountByAuthStatus[_r.LoggedIn]}const sAe={incrementUserMessageCount:e=>{iAe.setState(t=>{const n=t.messageCountByAuthStatus[e]+1;t.messageCountByAuthStatus[e]=n,oAe({authStatus:e,messageCount:n})})}};function lD(e){const t=localStorage.getItem(bK[e]);return t?Number(t):0}function oAe({authStatus:e,messageCount:t}){localStorage.setItem(bK[e],String(t))}function cD(e){return!(e.type==="perf_stats"||e.type==="server_ste_metadata"||e.type==="message_marker")}var $t=(e=>(e.Starter="starter",e.Reply="reply",e.Capabilities="capabilities",e.Autocomplete="autocomplete",e.Trending="trending",e))($t||{}),aAe=(e=>(e.Search="Search",e.Canvas="Canvas",e.Image="Image",e.ContextualAnswers="ContextualAnswers",e.ContextualAnswersNUX="ContextualAnswersNUX",e.ChatGPTTrending="ChatGPTTrending",e.ImageGenTrending="ImageGenTrending",e.Slurm="Slurm",e.Tatertot="Tatertot",e))(aAe||{});let Uf=null;async function CK(){return Uf==null&&(Uf=await v9e()),Uf??[]}function SGe(e){return Uf==null?!1:Uf.includes(e)}var Co=(e=>(e.Success="success",e.Error="error",e.Canceled="canceled",e))(Co||{});async function*SK(e,t){let n=null;for await(const r of e)if("response"in r)yield r;else if(r.event==="delta_encoding"){const i=String(r.data);if(t?.(i),i==="v1")n=new lAe;else throw new Error(`[delta] unknown delta encoding: ${i}`)}else if(r.event==="delta"){if(!n)throw new Error("[delta] delta event before delta_encoding");yield{data:n.applyDelta(r.data)}}else yield r}var wK=(e=>(e.V1="v1",e))(wK||{});class lAe{prevObjByChannel=[];prevDelta={channel:0,op:"add",path:"",value:void 0};applyDelta(t){try{const n=this.decodeDelta(t),r=n.channel,i=this.prevObjByChannel[r],s=dAe(i,n);return this.prevObjByChannel[r]=s,s}catch(n){G.addError(`Error applying delta: ${n}`)}}decodeDelta(t){uAe(t);const n=cAe(t,this.prevDelta),r=EK(n);return this.prevDelta=r,r}}function cAe(e,t){for(const[n,r]of xK)n!=="value"&&!(r in e)&&(e[r]=t[n]);return e}function EK(e){const t=e;for(const[n,r]of xK)r in e&&(t[n]=e[r],delete e[r]);return t.op==="patch"&&(t.value=t.value.map(EK)),t}function uAe(e){if(!e||typeof e!="object")throw new Error("Unexpected delta non-object")}const xK=[["channel","c"],["path","p"],["op","o"],["value","v"]];function dAe(e,t){return ts({__root:e},r=>kK(r,t)).__root}function kK(e,t){const n=pAe(t.path??"");for(let i=0;i<n.length-1;i++)e[n[i]]===void 0&&(typeof n[i+1]=="number"?e[n[i]]=[]:e[n[i]]={}),e=e[n[i]];const r=n[n.length-1];switch(t.op){case"patch":for(const i of t.value){const s={__root:e[r]};kK(s,i),e[r]=s.__root}break;case"add":Array.isArray(e)?e.splice(r,0,t.value):e[r]=t.value;break;case"remove":Array.isArray(e)?e.splice(r,1):delete e[r];break;case"replace":e[r]=t.value;break;case"append":if(typeof e[r]=="string")e[r]+=t.value;else if(Array.isArray(e[r]))e[r].push(...mAe(t.value));else if(uD(e[r])&&uD(t.value))for(const i in t.value)e[r][i]=t.value[i];else e[r]=t.value;break;case"truncate":e[r]&&(typeof e[r]=="string"?e[r]=e[r].substring(0,t.value):Array.isArray(e[r])&&(e[r].length=t.value));break;default:throw new Error("Unknown json delta operation")}}function fAe(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}const hAe=/^(?:0|[1-9]\d*)$/d;function pAe(e){const t=["__root"];if(e==="")return t;e[0]==="/"&&(e=e.substring(1));for(const n of e.split("/"))hAe.test(n)?t.push(parseInt(n,10)):t.push(fAe(n));return t}function mAe(e){return Array.isArray(e)?e:[e]}function uD(e){return typeof e=="object"&&e!=null&&!Array.isArray(e)}function gAe(e){let t=!1;const n=[],r=[];function i(l){n.length>0?n.shift()(l):r.push(l)}function s(l){t||i({value:l,done:!1})}function o(){t||(t=!0,n.forEach(l=>l({value:void 0,done:!0})),n.length=0)}function a(l){t||(i(Promise.reject(l)),o())}try{e(s,o,a)}catch(l){a(l)}return{next(){return new Promise(l=>{r.length>0?l(r.shift()):t?l({value:void 0,done:!0}):n.push(l)})},[Symbol.asyncIterator](){return this}}}async function vAe(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function _Ae(e){let t,n,r,i=!1;return function(o){t===void 0?(t=o,n=0,r=-1):t=bAe(t,o);const a=t.length;let l=0;for(;n<a;){i&&(t[n]===10&&(l=++n),i=!1);let c=-1;for(;n<a&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:i=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(l,c),r),l=n,r=-1}l===a?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function yAe(e,t,n){let r=dD();const i=new TextDecoder;return function(o,a){if(o.length===0)n?.(r),r=dD();else if(a>0){const l=i.decode(o.subarray(0,a)),c=a+(o[a+1]===32?2:1),u=i.decode(o.subarray(c));switch(l){case"data":r.data=r.data?r.data+`
`+u:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(r.retry=d);break}}}}function bAe(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function dD(){return{data:"",event:"",id:"",retry:void 0}}var CAe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $S="text/event-stream",SAe=1e3,fD="last-event-id";function wAe(e,t){var{signal:n,headers:r,onopen:i,onmessage:s,onclose:o,onerror:a,openWhenHidden:l,fetch:c}=t,u=CAe(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,f)=>{const h=Object.assign({},r);h.accept||(h.accept=$S);let m;function v(){m.abort(),document.hidden||x()}l||document.addEventListener("visibilitychange",v);let _=SAe,y=0;function b(){document.removeEventListener("visibilitychange",v),window.clearTimeout(y),m.abort()}n?.addEventListener("abort",()=>{b(),d()});const C=c??window.fetch,S=i??EAe;async function x(){var w;m=new AbortController;try{const E=await C(e,Object.assign(Object.assign({},u),{headers:h,signal:m.signal}));await S(E),await vAe(E.body,_Ae(yAe(T=>{T?h[fD]=T:delete h[fD]},T=>{_=T},s))),o?.(),b(),d()}catch(E){if(!m.signal.aborted)try{const T=(w=a?.(E))!==null&&w!==void 0?w:_;window.clearTimeout(y),y=window.setTimeout(x,T)}catch(T){b(),f(T)}}}x()})}function EAe(e){const t=e.headers.get("content-type");if(!t?.startsWith($S))throw new Error(`Expected content-type to be ${$S}, Actual: ${t}`)}function xAe(e){if(typeof navigator<"u"&&!navigator.onLine||e instanceof TypeError)return!0;if(e instanceof Error){const t=e.message.toLowerCase();if(t.includes("failed to fetch")||t.includes("networkerror when attempting to fetch resource")||t.includes("network error")||t.includes("load failed")||t.includes("failed to resolve")||t.includes("dns")||/\b(enotfound|eai_again|eaddrinfo|econnrefused|econnreset|etimedout)\b/.test(t))return!0}return!1}function hD(e){return e.headers.get("x-request-id")??e.headers.get("cf-ray")??void 0}function pD(e,{accessToken:t,ctx:n,method:r,headers:i,body:s,intercomEventOnError:o,signal:a,observer:l}={}){return gAe((c,u,d)=>{let f=!1;function h(_){if(f)return _;f=!0;try{return d(_),l?.onClose?.("error",_),_}finally{_ instanceof vt?(Fj(_,"stream"),jj(_),o&&dw(o,{url:_.url,message:_.message})):(G.addError(_),K.logEvent("request_stream_error",{error:_ instanceof Error?_.message:String(_)}))}}function m(){if(!f)if(f=!0,a?.aborted){const _=a.reason??new DOMException("Aborted","AbortError");d(_),l?.onClose?.("aborted",_)}else u(),l?.onClose?.("completed")}const v=t??(n?Oh(n):void 0);wAe(e,{method:r,credentials:"include",headers:{...v?Hg({accessToken:v}):Gg(),...s?{"Content-Type":"application/json"}:null,...i},body:s?JSON.stringify(s):void 0,signal:a,openWhenHidden:!0,async onopen(_){const y=_.headers.get("content-type")??"";if(_.ok&&y.includes("text/event-stream"))c({response:_}),l?.onOpen?.(_);else if(y.includes("application/json")){const b=await _.json();throw h(new vt(e,_.status,b,hD(_),new Error(JSON.stringify(b))))}else{const C=(await _.text()).substring(0,1e3);throw h(new vt(e,_.status,{detail:{message:aZ,code:"unexpected_content_type",contentType:y,text:C}},hD(_),new Error(C)))}},onmessage(_){const y=new TextEncoder,b=_.data==="[DONE]";if(l?.onEvent?.({byteLength:y.encode(_.data).length,isDoneEvent:b}),_.event==="ping"||!_.data)return;if(b){m();return}const C=JSON.parse(_.data);C.error?h(vt.createWithErrorMessage(e,"server",C.error,void 0,new Error(C.error))):c({event:_.event||void 0,data:C})},onerror(_){const y=_ instanceof Error?_:new Error(JSON.stringify(_));throw xAe(y)?h(vt.createWithErrorMessage(e,"client",ec,void 0,y)):y.message==="Failed to fetch"?(K.logFailedToFetchError({source:"request_stream"}),h(vt.createWithErrorMessage(e,"server",`An error occurred. Either the engine you requested does not exist or there was another issue processing your request. ${a4}`,void 0,y))):h(y)}}).then(m,h)})}const kAe=e=>new Promise(t=>setTimeout(t,e));async function*TK(e,{shouldRetry:t=()=>!0,retryConfig:{MIN_RETRY_INTERVAL:n,MAX_RETRY_INTERVAL:r,RETRY_FACTOR:i,MAX_RETRY_COUNT:s},...o}){let a=pD(e,o),l=!1,c=!1,u=0;for(;!l&&!c;)try{for await(const d of a)"response"in d&&(l=!0),yield d;c=!0}catch(d){if(l||!t(d)||u>=s)throw d;const f=Math.min(n*i**u,r);await kAe(f),u++,a=pD(e,o)}}function TAe(e){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t=Math.imul(t,16777619)>>>0;return t^=t>>>16,t=Math.imul(t,2246822507)>>>0,t^=t>>>13,t=Math.imul(t,3266489909)>>>0,t^=t>>>16,(t>>>0).toString(16).padStart(8,"0")}class OAe{answers=new Map;maxAttempts=5e5;requirementsSeed=AAe();sid=Vr();errorPrefix="wQ8Lk5FbGpA2NcR9dShT6gYjU7VxZ4D";async initializeAndGatherData(t){this._getAnswer(t)}async startEnforcement(t){this._getAnswer(t)}getEnforcementTokenSync(t){const n=this._getAnswer(t);return typeof n=="string"?n:null}async getEnforcementToken(t,n){return this._getAnswer(t,n?.forceSync)}async getRequirementsToken(){return this.answers.has(this.requirementsSeed)||this.answers.set(this.requirementsSeed,this._generateAnswerAsync(this.requirementsSeed,"0")),"gAAAAAC"+await this.answers.get(this.requirementsSeed)}getRequirementsTokenBlocking(){return"gAAAAAC"+this._generateRequirementsTokenAnswerBlocking()}_getAnswer(t,n=!1){const r="gAAAAAB";if(!t?.proofofwork?.required)return null;const{seed:i,difficulty:s}=t.proofofwork;if(!(typeof i=="string"&&typeof s=="string"))return null;const o=this.answers.get(i);if(typeof o=="string")return o;if(n){const a=this._generateAnswerSync(i,s),l=r+a;return this.answers.set(i,l),l}return this.answers.has(i)||this.answers.set(i,this._generateAnswerAsync(i,s)),Promise.resolve().then(async()=>r+await this.answers.get(i)).then(a=>(this.answers.set(i,a),a))}_runCheck=(t,n,r,i,s)=>{i[3]=s,i[9]=Math.round(performance.now()-t);const o=bm(i);return TAe(n+o).substring(0,r.length)<=r?o+"~S":null};buildGenerateFailMessage(t){return this.errorPrefix+bm(String(t??"e"))}_generateAnswerSync(t,n){const r=performance.now();try{const i=this.getConfig();for(let s=0;s<this.maxAttempts;s++){const o=this._runCheck(r,t,n,i,s);if(o)return o}}catch(i){return this.buildGenerateFailMessage(i)}return this.buildGenerateFailMessage()}async _generateAnswerAsync(t,n){const r=performance.now();try{let i=null;const s=this.getConfig();for(let o=0;o<this.maxAttempts;o++){(!i||i.timeRemaining()<=0)&&(i=await MAe());const a=this._runCheck(r,t,n,s,o);if(a)return a}}catch(i){return this.buildGenerateFailMessage(i)}return this.buildGenerateFailMessage()}_generateRequirementsTokenAnswerBlocking(){let t="e";const n=performance.now();try{const r=this.getConfig();return r[3]=1,r[9]=Math.round(performance.now()-n),bm(r)}catch(r){t=bm(String(r))}return this.errorPrefix+t}getConfig(){return[screen?.width+screen?.height,""+new Date,performance?.memory?.jsHeapSizeLimit,Math?.random(),navigator.userAgent,n1(Array.from(document.scripts).map(t=>t?.src).filter(t=>t)),(Array.from(document.scripts||[]).map(t=>t?.src?.match("c/[^/]*/_")).filter(t=>t?.length)[0]??[])[0]??document.documentElement.getAttribute("data-build"),navigator.language,navigator.languages?.join(","),Math?.random(),IAe(),n1(Object.keys(document)),n1(Object.keys(window)),performance.now(),this.sid,[...new URLSearchParams(window.location.search).keys()].join(","),navigator?.hardwareConcurrency,performance.timeOrigin]}}function n1(e){return e[Math.floor(Math.random()*e.length)]}function AAe(){return""+Math.random()}function IAe(){const e=n1(Object.keys(Object.getPrototypeOf(navigator)));try{return`${e}−${navigator[e].toString()}`}catch{return`${e}`}}function bm(e){return e=JSON.stringify(e),window.TextEncoder?btoa(String.fromCharCode(...new TextEncoder().encode(e))):btoa(unescape(encodeURIComponent(e)))}function MAe(){return new Promise(e=>{(window.requestIdleCallback||RAe)(n=>{e(n)},{timeout:10})})}function RAe(e){return setTimeout(()=>{e({timeRemaining:()=>1,didTimeout:!1})},0),0}const WS=new OAe,NAe=0,PAe=1,DAe=2,LAe=3,FAe=4,jAe=5,BAe=6,UAe=24,qAe=7,zAe=8,Ii=9,GAe=10,HAe=11,VAe=12,$Ae=13,WAe=14,KAe=15,OK=16,YAe=17,ZAe=18,JAe=19,QAe=23,XAe=20,eIe=21,tIe=22,nIe=25,rIe=26,iIe=27,sIe=28,oIe=29,aIe=30,lIe=31,cIe=32,uIe=33,Y=new Map;let og=0;function ag(){for(;Y.get(Ii).length>0;){const[e,...t]=Y.get(Ii).shift();Y.get(e)(...t),og++}}function KS(e){return new Promise((t,n)=>{let r=!1;setTimeout(()=>{r=!0,t(""+og)},500),Y.set(LAe,i=>{r||(r=!0,t(btoa(""+i)))}),Y.set(FAe,i=>{r||(r=!0,n(btoa(""+i)))}),Y.set(aIe,(i,s,o,a)=>{const l=Array.isArray(a),c=l?o:[],u=(l?a:o)||[];Y.set(i,(...d)=>{if(r)return;const h=[...Y.get(Ii)];let m;try{if(l)for(let v=0;v<c.length;v++){const _=c[v],y=d[v];Y.set(_,y)}Y.set(Ii,[...u]),ag(),m=Y.get(s)}catch(v){m=""+v}finally{Y.set(Ii,h)}return m})});try{Y.set(Ii,JSON.parse(YS(atob(e),""+Y.get(OK)))),ag()}catch(i){t(btoa(og+": "+i))}})}function dIe(e){fIe(),og=0,Y.set(OK,e)}function YS(e,t){let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e.charCodeAt(r)^t.charCodeAt(r%t.length));return n}function fIe(){Y.clear(),Y.set(NAe,KS),Y.set(PAe,(e,t)=>Y.set(e,YS(""+Y.get(e),""+Y.get(t)))),Y.set(DAe,(e,t)=>Y.set(e,t)),Y.set(jAe,(e,t)=>{const n=Y.get(e);Array.isArray(n)?n.push(Y.get(t)):Y.set(e,n+Y.get(t))}),Y.set(iIe,(e,t)=>{const n=Y.get(e);Array.isArray(n)?n.splice(n.indexOf(Y.get(t)),1):Y.set(e,n-Y.get(t))}),Y.set(oIe,(e,t,n)=>Y.set(e,Y.get(t)<Y.get(n))),Y.set(uIe,(e,t,n)=>{const r=Number(Y.get(t)),i=Number(Y.get(n));Y.set(e,r*i)}),Y.set(BAe,(e,t,n)=>Y.set(e,Y.get(t)[Y.get(n)])),Y.set(qAe,(e,...t)=>Y.get(e)(...t.map(n=>Y.get(n)))),Y.set(YAe,(e,t,...n)=>Y.set(e,Y.get(t)(...n.map(r=>Y.get(r))))),Y.set($Ae,(e,t,...n)=>{try{Y.get(t)(...n)}catch(r){Y.set(e,""+r)}}),Y.set(zAe,(e,t)=>Y.set(e,Y.get(t))),Y.set(GAe,window),Y.set(HAe,(e,t)=>Y.set(e,(Array.from(document.scripts||[]).map(n=>n?.src?.match(Y.get(t))).filter(n=>n?.length)[0]??[])[0]??null)),Y.set(VAe,e=>Y.set(e,Y)),Y.set(WAe,(e,t)=>Y.set(e,JSON.parse(""+Y.get(t)))),Y.set(KAe,(e,t)=>Y.set(e,JSON.stringify(Y.get(t)))),Y.set(ZAe,e=>Y.set(e,atob(""+Y.get(e)))),Y.set(JAe,e=>Y.set(e,btoa(""+Y.get(e)))),Y.set(XAe,(e,t,n,...r)=>Y.get(e)===Y.get(t)?Y.get(n)(...r):null),Y.set(eIe,(e,t,n,r,...i)=>Math.abs(Y.get(e)-Y.get(t))>Y.get(n)?Y.get(r)(...i):null),Y.set(QAe,(e,t,...n)=>Y.get(e)!==void 0?Y.get(t)(...n):null),Y.set(UAe,(e,t,n)=>Y.set(e,Y.get(t)[Y.get(n)].bind(Y.get(t)))),Y.set(tIe,(e,t)=>{const r=[...Y.get(Ii)];Y.set(Ii,[...t]);try{ag()}catch(i){Y.set(e,""+i)}finally{Y.set(Ii,r)}}),Y.set(lIe,e=>{const t=Y.get(e)||0;Y.set(e,t+1)}),Y.set(cIe,(e,t,n,r,i)=>{const s=Y.get(e)||0,o=Math.max(0,s-1);Y.set(e,o);const a=Y.get(t)||0,l=Y.get(i)||0;if(!(o!==a||l!==1))try{const c=String(Y.get(n)??"");if(!c)return;const u=atob(c),d=YS(u,""+Y.get(r)),f=JSON.parse(d),m=[...Y.get(Ii)];Y.set(Ii,[...f]),ag(),Y.set(Ii,m)}catch{}}),Y.set(sIe,()=>{}),Y.set(rIe,()=>{}),Y.set(nIe,()=>{})}const hIe=1e3*60*9;var qf=(e=>(e.NOAUTH="chatgpt-noauth",e.FREEACCOUNT="chatgpt-freeaccount",e.PAID="chatgpt-paid",e))(qf||{}),pIe=(e=>(e.ChatRequirementsToken="OpenAI-Sentinel-Chat-Requirements-Token",e.TurnstileToken="OpenAI-Sentinel-Turnstile-Token",e.ProofToken="OpenAI-Sentinel-Proof-Token",e.Token="OpenAI-Sentinel-Token",e))(pIe||{});let mIe=-1,ns=null;function gIe(){if(ns){const{chatRequirements:e,expiration:t}=ns;if(Date.now()>=t)return ns=null,null;if(e)return ns=null,e}return null}async function vIe(e=!1){if(ns){const{expiration:i,chatRequirementsPromise:s}=ns;if(Date.now()<i)try{return e||(ns=null),s}catch{}else s.then(o=>G.addAction("chat_requirements_cache_expired",{app:o.persona.toString()}));ns=null}const t=WS.getRequirementsTokenBlocking();dIe(t);const n=ue.safePost("/sentinel/chat-requirements",{requestBody:{p:t},authOption:Xt.SendIfAvailable}),r=++mIe;return e&&(ns={id:r,chatRequirements:null,chatRequirementsPromise:n.then(i=>(ns?.id===r&&(ns.chatRequirements=i),i)),expiration:Date.now()+hIe}),n}const _Ie=window.location.origin+"/backend-api/sentinel/sdk.js",yIe="https://sentinel.openai.com/backend-api/sentinel/sdk.js";function bIe(e){return new Promise((t,n)=>{const r=document.createElement("script");r.type="text/javascript",r.src=e,r.async=!0,r.defer=!0,r.onload=t,r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)})}function AK(e){let t;return()=>(t||(t=bIe(e)),t)}const CIe=AK(_Ie),SIe=AK(yIe);function wGe(e,t){return((t?.sdkVariant??"chatgpt")==="openai"?SIe:CIe)().then(()=>window.SentinelSDK.token(e))}function wIe(e,t,n,r){const i={};return e?.token&&(i["OpenAI-Sentinel-Chat-Requirements-Token"]=e.token),t&&(i["OpenAI-Sentinel-Turnstile-Token"]=t),n&&(i["OpenAI-Sentinel-Proof-Token"]=n),r&&(i["OpenAI-Sentinel-Token"]=r),i}const Cf=e=>{if(e.type===$t.Starter&&e.category==="onboarding")return"";switch(e.type){case $t.Reply:return e.text;case $t.Starter:case $t.Autocomplete:case $t.Trending:case $t.Capabilities:return e.prompt}},EIe=e=>e.type===$t.Reply,IK=e=>e.type===$t.Starter,t7=e=>e.type===$t.Autocomplete,lg=e=>e.type===$t.Trending,cg=e=>t7(e)&&!!e.theme,MK=e=>e.type===$t.Capabilities,xIe=e=>lg(e)||MK(e)||t7(e)&&!cg(e),EGe=(e,t,n,r)=>{switch(_t.logEvent("chatgpt_prompt_use_suggestion",xIe(e)?"":Cf(e),{id:IK(e)||cg(e)||lg(e)?e.id??"":"",index:`${t}`,type:e.type,theme:lg(e)&&e.theme?e.theme:""}),e.type){case $t.Reply:K.logEvent("Use Suggested Reply",{value:Cf(e),prompt_type:$t.Reply,messageId:r});break;case $t.Capabilities:K.logEvent("Use Capabilities Suggestion",{prompt_type:$t.Capabilities,categoryId:e.categoryId,client_thread_id:n,messageId:r});break;case $t.Starter:K.logEvent("Use Starter Prompt",{value:Cf(e),prompt_type:$t.Starter,title:e.title,body:e.body,id:e.id,category:e.category,client_thread_id:n,messageId:r,index:t,theme:e.theme});break;case $t.Autocomplete:{const i=cg(e);K.logEvent("Use Autocomplete",{value:i?Cf(e):"",prompt_type:$t.Autocomplete,title:i?e.title:"",body:i?e.body:"",id:i?e.id:"",category:e.category,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}case $t.Trending:{K.logEvent("Use Trending Prompt",{prompt_type:$t.Trending,title:e.title,index:t,messageId:r,client_thread_id:n,theme:e.theme??""});break}}},xGe=(e,t)=>{if(e.length===0)return;const r=Se.getCurrentNode(Qt(t)).message.id;_t.logEvent("chatgpt_prompt_show_suggestions",`count_${e.length}`,{type:e[0].type});const i=s=>{for(let o=0;o<s.length;o++){const a=s[o];K.logEventWithStatsig("Show Trending Prompt","chatgpt_prompt_show_suggestion",{type:a.type,id:a.id,index:o,client_thread_id:t,message_id:r,theme:a.theme??""})}};if(e.every(EIe))K.logEvent("Show Suggested Replies",{prompt_count:e.length,prompt_type:$t.Reply,client_thread_id:t,suggestions:e.map(s=>s.text),message_id:r});else if(e.every(IK)){const{isAdditional:s}=e[0];K.logEvent(s?"More Starter Prompts Shown":"Show Starter Prompts",{prompt_count:e.length,prompt_type:$t.Starter,titles:e.map(o=>o.title),bodies:e.map(o=>o.body),ids:e.map(o=>o.id),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")}),s&&K.logEvent("Expand More Starter Prompts",{client_thread_id:t,message_id:r}),i(e)}else if(e.every(t7)){const s=!!e.find(o=>cg(o));K.logEvent("Show Autocomplete Prompts",{prompt_count:e.length,prompt_type:e[0].type,titles:e.map(o=>s?o.title:""),bodies:e.map(o=>s?o.body:""),ids:e.map(o=>s?o.id:""),client_thread_id:t,message_id:r,themes:e.map(o=>o.theme??"")})}else e.every(lg)?(K.logEvent("Show Trending Prompts",{prompt_count:e.length,prompt_type:$t.Trending,titles:e.map(s=>s.title),client_thread_id:t,message_id:r}),i(e)):e.every(MK)?K.logEvent("Show Capabilities Suggestions",{prompt_count:e.length,prompt_type:$t.Capabilities,category_ids:e.map(s=>s.categoryId),client_thread_id:t,message_id:r}):G.addError("Unhandled suggestion type",{type:e[0].type})},kGe=e=>{const n=Se.getCurrentNode(Qt(e)).message.id;K.logEvent("Show Expand More Starter Prompts Button",{client_thread_id:e,message_id:n})},TGe=e=>{const n=Se.getCurrentNode(Qt(e)).message.id;K.logEvent("Expand More Starter Prompts",{client_thread_id:e,message_id:n})},du=Ot({searchPlaceholder:{id:"PromptTextarea.searchPlaceholder",defaultMessage:"Search the web"},thinkPlaceholder:{id:"PromptTextarea.thinkPlaceholder",defaultMessage:"Ask anything"},connectorPlaceholder:{id:"PromptTextarea.connectorPlaceholder",defaultMessage:"Search connected sources"},apiToolPlaceholder:{id:"PromptTextarea.apiToolPlaceholder",defaultMessage:"Use tools"},researchPlaceholder:{id:"PromptTextarea.researchPlaceholder",defaultMessage:"Get a detailed report"},canvasPlaceholder:{id:"PromptTextarea.canvasPlaceholder",defaultMessage:"Write or code"},picturePlaceholder:{id:"PromptTextarea.picturePlaceholder",defaultMessage:"Describe an image"},pictureV2Placeholder:{id:"PromptTextarea.pictureV2Placeholder",defaultMessage:"Describe an image"},contextualAnswersPlaceholder:{id:"PromptTextarea.contextualAnswersPlaceholder",defaultMessage:"Search internal sources"},tatertotPlaceholder:{id:"PromptTextarea.studyAndLearnPlaceholder",defaultMessage:"Learn something new"},continueGenerating:{id:"PromptTextarea.continueGenerating",defaultMessage:"Continue generating"},stopGenerating:{id:"PromptTextarea.stopGenerating",defaultMessage:"Stop generating"},disallowedByWorkspacePlaceholder:{id:"PromptTextarea.disallowedByWorkspaceReason",defaultMessage:"Your workspace owner hasn’t approved this GPT."},pimBlockPlaceholder:{id:"PromptTextarea.pimBlockPlaceholder",defaultMessage:"Potentially Malicious Content Detected"},noModelsAvailablePlaceholder:{id:"PromptTextarea.noModelsAvailablePlaceholder",defaultMessage:"No models available"},requiresPluginsToBeInstalled:{id:"PromptTextarea.requiresPluginsToBeInstalled",defaultMessage:"Requires plugins to be installed"},noTestGizmoId:{id:"PromptTextarea.noTestGizmoId",defaultMessage:"Start by defining your GPT."},searchWith:{id:"PromptTextarea.searchWith",defaultMessage:"Search with {name}"},loading:{id:"PromptTextarea.loading",defaultMessage:"Loading..."},placeholder:{id:"PromptTextarea.placeholder",defaultMessage:"Send a message"},placeholderWithName:{id:"PromptTextarea.placeholderWithName",defaultMessage:"Message {name}"},placeholderAskAnythingVariant:{id:"PromptTextarea.placeholderAskAnythingVariant",defaultMessage:"Ask anything"},placeholderAskNameAnythingVariant:{id:"PromptTextarea.placeholderAskNameAnythingVariant",defaultMessage:"Ask {name} anything"},continueSharedConversationPlaceholder:{id:"PromptTextarea.continueSharedConversationPlaceholder",defaultMessage:"Send a message to continue the conversation."},sendMessageTooltip:{id:"PromptTextarea.sendMessageTooltip",defaultMessage:"Send message"},unsupportedFileType:{id:"PromptTextarea.unsupportedFileType",defaultMessage:'Uploads with file type "{file_type}" are not supported, please try another file.'},gizmoKnowledgeWarning:{id:"PromptTextarea.gizmoKnowledgeWarning",defaultMessage:"Files uploaded here may be included in conversations with your GPT. Files can be downloaded if Code Interpreter is enabled."},n7jupdSystemHintPlaceholder:{id:"3pa1zs",defaultMessage:"Describe a task"},n7jupdActivePlaceholder:{id:"0qUILF",defaultMessage:"Follow up"}}),RK="prompt-textarea";function OGe(){document.getElementById(RK)?.focus()}const AGe={getAndReset:(e,t)=>{const n=Kt.getItem(qt.RestoreMessageAfterOauthRedirect);return Kt.removeItem(qt.RestoreMessageAfterOauthRedirect),!n||n.userId!==e||t!==n.serverThreadId||Date.now()>n.expiresAt?null:n},set:(e,t,n)=>{const r={userId:e,serverThreadId:t,inputText:n,expiresAt:Date.now()+6e4};Kt.setItem(qt.RestoreMessageAfterOauthRedirect,r)}},IGe=()=>{"use forget";const e=Te.c(16),t=KSe(),n=Ja.useStore();let r;e[0]!==n?(r=m=>n.getPersistedSystemHintTrigger(m),e[0]=n,e[1]=r):r=e[1];const i=r;let s;e[2]!==t?(s=m=>t(null,{ifPrevSystemHint:m}),e[2]=t,e[3]=s):s=e[3];const o=s;let a;e[4]!==t?(a=()=>t(null),e[4]=t,e[5]=a):a=e[5];const l=a;let c;e[6]!==t?(c=(m,v,_,y)=>{v?t(m,{analyticsMetadata:_,triggerSource:y}):t(null,{ifPrevSystemHint:m,analyticsMetadata:_})},e[6]=t,e[7]=c):c=e[7];const u=c;let d;e[8]!==t?(d=(m,v)=>{t(m,{analyticsMetadata:v})},e[8]=t,e[9]=d):d=e[9];const f=d;let h;return e[10]!==l||e[11]!==o||e[12]!==i||e[13]!==u||e[14]!==f?(h={getSystemHintModeTrigger:i,clearSystemHintModeTrigger:o,setThreadSystemHintMode:u,clearAllSystemHintModeTriggers:l,updateSystemHint:f},e[10]=l,e[11]=o,e[12]=i,e[13]=u,e[14]=f,e[15]=h):h=e[15],h},MGe=({promptDisabledReason:e,hasPendingFiles:t,hasTextContent:n,isTextContentTooLong:r,hasAsyncTaskPending:i,noSourceSelectedDr:s,isDeepResearchTaskStreaming:o,isThreadHardBlocked:a})=>e||(a?"rate_limit_hard_block":t?"file_upload_pending":i?o?void 0:"async_task_pending":n?r?"text_content_too_long":s?"no_source_selected_dr":void 0:"empty_text_content");function RGe(e,t){const n=Math.ceil(t/4);return typeof e?.maxTokens=="number"&&n>e.maxTokens}function NGe(e,t){return e?t===void 0?!0:t.includes(e):!1}const PGe=e=>{switch(e){case"pimBlock":return{placeholder:du.pimBlockPlaceholder,isLastingDisabledStyle:!0};case"workspaceDisallowsGizmo":return{placeholder:du.disallowedByWorkspacePlaceholder,isLastingDisabledStyle:!0};case"noModelsAvailable":return{placeholder:du.noModelsAvailablePlaceholder,isLastingDisabledStyle:!0};case"requiresPluginsToBeInstalled":return{placeholder:du.requiresPluginsToBeInstalled,isLastingDisabledStyle:!0};case"loadingPlugins":return{placeholder:du.loading,isLastingDisabledStyle:!0};case"noTestGizmoId":return{placeholder:du.noTestGizmoId,isLastingDisabledStyle:!0}}return null},kIe="OAI-Echo-Logs",fu={FOCUS_IN:0,FOCUS_OUT:1,COPY:2,PASTE:3,TOUCH_START:4,TOUCH_END:5},NK=[];function hu(e){return()=>{NK.push({type:e,ts:Math.round(performance.now())})}}const TIe={focusin:hu(fu.FOCUS_IN),focusout:hu(fu.FOCUS_OUT),copy:hu(fu.COPY),paste:hu(fu.PASTE),touchstart:hu(fu.TOUCH_START),touchend:hu(fu.TOUCH_END)};function DGe(e){const t=e??document.getElementById(RK);for(const[n,r]of Object.entries(TIe))t?.removeEventListener(n,r),t?.addEventListener(n,r)}function PK(){return{[kIe]:NK.slice(0,10).map(e=>`${e.type},${e.ts}`).join(",")}}var OIe=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Gl="1.6.0",mD=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function AIe(e){var t=new Set([e]),n=new Set,r=e.match(mD);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(l){return l===e};function s(a){return n.add(a),!1}function o(a){return t.add(a),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var c=l.match(mD);if(!c)return s(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||i.major!==u.major?s(l):i.major===0?i.minor===u.minor&&i.patch<=u.patch?o(l):s(l):i.minor<=u.minor?o(l):s(l)}}var IIe=AIe(Gl),MIe=Gl.split(".")[0],mh=Symbol.for("opentelemetry.js.api."+MIe),gh=OIe;function mp(e,t,n,r){var i;r===void 0&&(r=!1);var s=gh[mh]=(i=gh[mh])!==null&&i!==void 0?i:{version:Gl};if(!r&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(o.stack||o.message),!1}if(s.version!==Gl){var o=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+Gl);return n.error(o.stack||o.message),!1}return s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Gl+"."),!0}function yc(e){var t,n,r=(t=gh[mh])===null||t===void 0?void 0:t.version;if(!(!r||!IIe(r)))return(n=gh[mh])===null||n===void 0?void 0:n[e]}function gp(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Gl+".");var n=gh[mh];n&&delete n[e]}var RIe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},NIe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},PIe=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return sf("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return sf("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return sf("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return sf("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return sf("verbose",this._namespace,t)},e}();function sf(e,t,n){var r=yc("diag");if(r)return n.unshift(t),r[e].apply(r,NIe([],RIe(n),!1))}var ri;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(ri||(ri={}));function DIe(e,t){e<ri.NONE?e=ri.NONE:e>ri.ALL&&(e=ri.ALL),t=t||{};function n(r,i){var s=t[r];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:n("error",ri.ERROR),warn:n("warn",ri.WARN),info:n("info",ri.INFO),debug:n("debug",ri.DEBUG),verbose:n("verbose",ri.VERBOSE)}}var LIe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},FIe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},jIe="diag",to=function(){function e(){function t(i){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=yc("diag");if(a)return a[i].apply(a,FIe([],LIe(s),!1))}}var n=this,r=function(i,s){var o,a,l;if(s===void 0&&(s={logLevel:ri.INFO}),i===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((o=c.stack)!==null&&o!==void 0?o:c.message),!1}typeof s=="number"&&(s={logLevel:s});var u=yc("diag"),d=DIe((a=s.logLevel)!==null&&a!==void 0?a:ri.INFO,i);if(u&&!s.suppressOverrideMessage){var f=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+f),d.warn("Current logger will overwrite one already registered from "+f)}return mp("diag",d,n,!0)};n.setLogger=r,n.disable=function(){gp(jIe,n)},n.createComponentLogger=function(i){return new PIe(i)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),BIe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},UIe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qIe=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=BIe(t,2),r=n[0],i=n[1];return[r,i]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=new e(this._entries);try{for(var o=UIe(r),a=o.next();!a.done;a=o.next()){var l=a.value;s._entries.delete(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}(),zIe=Symbol("BaggageEntryMetadata"),GIe=to.instance();function HIe(e){return e===void 0&&(e={}),new qIe(new Map(Object.entries(e)))}function LGe(e){return typeof e!="string"&&(GIe.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:zIe,toString:function(){return e}}}function DK(e){return Symbol.for(e)}var VIe=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var s=new e(n._currentContext);return s._currentContext.set(r,i),s},n.deleteValue=function(r){var i=new e(n._currentContext);return i._currentContext.delete(r),i}}return e}(),$Ie=new VIe,jd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),WIe=function(){function e(){}return e.prototype.createHistogram=function(t,n){return nMe},e.prototype.createCounter=function(t,n){return tMe},e.prototype.createUpDownCounter=function(t,n){return rMe},e.prototype.createObservableGauge=function(t,n){return sMe},e.prototype.createObservableCounter=function(t,n){return iMe},e.prototype.createObservableUpDownCounter=function(t,n){return oMe},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),n7=function(){function e(){}return e}(),KIe=function(e){jd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(n7),YIe=function(e){jd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(n7),ZIe=function(e){jd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(n7),r7=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),JIe=function(e){jd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(r7),QIe=function(e){jd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(r7),XIe=function(e){jd(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(r7),eMe=new WIe,tMe=new KIe,nMe=new ZIe,rMe=new YIe,iMe=new JIe,sMe=new QIe,oMe=new XIe,aMe={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},lMe={set:function(e,t,n){e!=null&&(e[t]=n)}},cMe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},uMe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},dMe=function(){function e(){}return e.prototype.active=function(){return $Ie},e.prototype.with=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return n.call.apply(n,uMe([r],cMe(i),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),fMe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},hMe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},L5="context",pMe=new dMe,X0=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return mp(L5,t,to.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,hMe([t,n,r],fMe(s),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return yc(L5)||pMe},e.prototype.disable=function(){this._getContextManager().disable(),gp(L5,to.instance())},e}(),ZS;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(ZS||(ZS={}));var LK="0000000000000000",FK="00000000000000000000000000000000",mMe={traceId:FK,spanId:LK,traceFlags:ZS.NONE},zf=function(){function e(t){t===void 0&&(t=mMe),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),i7=DK("OpenTelemetry Context Key SPAN");function s7(e){return e.getValue(i7)||void 0}function gMe(){return s7(X0.getInstance().active())}function o7(e,t){return e.setValue(i7,t)}function vMe(e){return e.deleteValue(i7)}function _Me(e,t){return o7(e,new zf(t))}function jK(e){var t;return(t=s7(e))===null||t===void 0?void 0:t.spanContext()}var yMe=/^([0-9a-f]{32})$/i,bMe=/^[0-9a-f]{16}$/i;function CMe(e){return yMe.test(e)&&e!==FK}function SMe(e){return bMe.test(e)&&e!==LK}function BK(e){return CMe(e.traceId)&&SMe(e.spanId)}function wMe(e){return new zf(e)}var F5=X0.getInstance(),UK=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=F5.active());var i=!!n?.root;if(i)return new zf;var s=r&&jK(r);return EMe(s)&&BK(s)?new zf(s):new zf},e.prototype.startActiveSpan=function(t,n,r,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(s=n,a=r):(s=n,o=r,a=i);var l=o??F5.active(),c=this.startSpan(t,s,l),u=o7(l,c);return F5.with(u,a,void 0,c)}},e}();function EMe(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var xMe=new UK,kMe=function(){function e(t,n,r,i){this._provider=t,this.name=n,this.version=r,this.options=i}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):xMe},e}(),TMe=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new UK},e}(),OMe=new TMe,gD=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var i;return(i=this.getDelegateTracer(t,n,r))!==null&&i!==void 0?i:new kMe(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:OMe},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,n,r)},e}(),vD;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(vD||(vD={}));var _D;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(_D||(_D={}));var yD;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(yD||(yD={}));var FGe=X0.getInstance(),jGe=to.instance(),AMe=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return eMe},e}(),IMe=new AMe,j5="metrics",MMe=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return mp(j5,t,to.instance())},e.prototype.getMeterProvider=function(){return yc(j5)||IMe},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){gp(j5,to.instance())},e}(),BGe=MMe.getInstance(),RMe=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),a7=DK("OpenTelemetry Baggage Key");function qK(e){return e.getValue(a7)||void 0}function NMe(){return qK(X0.getInstance().active())}function PMe(e,t){return e.setValue(a7,t)}function DMe(e){return e.deleteValue(a7)}var B5="propagation",LMe=new RMe,FMe=function(){function e(){this.createBaggage=HIe,this.getBaggage=qK,this.getActiveBaggage=NMe,this.setBaggage=PMe,this.deleteBaggage=DMe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return mp(B5,t,to.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=lMe),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=aMe),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){gp(B5,to.instance())},e.prototype._getGlobalPropagator=function(){return yc(B5)||LMe},e}(),UGe=FMe.getInstance(),U5="trace",jMe=function(){function e(){this._proxyTracerProvider=new gD,this.wrapSpanContext=wMe,this.isSpanContextValid=BK,this.deleteSpan=vMe,this.getSpan=s7,this.getActiveSpan=gMe,this.getSpanContext=jK,this.setSpan=o7,this.setSpanContext=_Me}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=mp(U5,this._proxyTracerProvider,to.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return yc(U5)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){gp(U5,to.instance()),this._proxyTracerProvider=new gD},e}(),BMe=jMe.getInstance();const l7="RESUME_TOKEN_STORE_KEY",UMe=1e3,qMe=UMe*60,zMe=qMe*60;function c7(){const e=localStorage.getItem(l7)??"{}",t=JSON.parse(e);return Object.fromEntries(Object.entries(t).filter(([r,i])=>i.expiresAt>Date.now()))}function zK(e){const t=JSON.stringify(e);localStorage.setItem(l7,t)}function GMe(e,t){const n=c7();n[e]={token:t,expiresAt:Date.now()+zMe},zK(n)}function HMe(e){return c7()[e]?.token}function VMe(e){const t=c7();delete t[e],zK(t)}function $Me(){localStorage.removeItem(l7)}const q5={set:GMe,get:HMe,remove:VMe,clear:$Me};function WMe(e,t,n,r,i,s){const o=ZMe(e,t,n,i,s);return GK(n,r,o)}function KMe(e,t,n,r,i,s){const{conversationId:o,resumeToken:a,model:l}=t;let c=WK({ctx:e,conversationId:o,resumeToken:a,model:l,turnTracker:n,offset:0,signal:i??null});c=$K(c,{ctx:e,model:l,turnTracker:n,signal:i??null}),c=KK(c,{turnTracker:n,prepareState:null,signal:i??null,f_completion:!0});const d=SK(c,f=>{n.stream_encoding=f});return GK(n,r,HK(d))}const YMe=1e3*30,of=BMe.getTracer("completion");function z5(e,t){Cn.count(gn.DEFAULT,e,[{key:"prepare_sent",value:t&&t!=="none"?"true":"false"},{key:"prepare_succeeded",value:t==="success"?"true":"false"},{key:"prepare_failed",value:t==="failure"?"true":"false"}])}async function*GK(e,t,n){let r=!1,i=!1,s=!1,o=!1,a,l,c,u,d;of.startActiveSpan("completion.response",h=>{a=of.startSpan("completion.first_response"),l=of.startSpan("completion.first_token_including_tool_calls"),c=of.startSpan("completion.first_token_including_visible_content"),u=of.startSpan("completion.first_token"),d=h});let f=setTimeout(()=>{K.logEvent("SSE Response Took Too Long to Come Back",{}),e.logCompletion({type:Co.Error,error:{reason:"timeout",message:"SSE Response Took Too Long to Come Back"}})},YMe);try{t?.logTimingOnce("prompt_submitted");for await(const h of n)yield h,h.type!=="connected"&&f&&(clearTimeout(f),f=null),h.type==="message"&&(e.onMessageUpdate(h.message),r||(r=!0,a?.end(),t?.logTimingOnce("first_response")),!i&&h.message.author.role===He.Assistant&&(i=!0,l?.end(),t?.logTimingOnce("first_assistant_token")),!s&&h.message.author.role===He.Assistant&&Qf(h.message)&&(s=!0,c?.end(),t?.logTimingOnce("first_visible_content_token")),!o&&h.message.author.role===He.Assistant&&MB(h.message)&&(o=!0,u?.end(),t?.logTimingOnce("first_message_token"))),h.type==="perf_stats"&&e.addServerPerfStats(h),h.type==="server_ste_metadata"&&e.addServerSteMetadata(h),h.type==="message_marker"&&e.onMessageMarker(h),h.type==="done"&&e.onStreamClose()}catch(h){throw f&&(clearTimeout(f),f=null),h}finally{d?.end()}}async function*ZMe(e,t,n,r,i){const{conduitToken:s,prepareState:o,model:a,f_completion:l,f_search:c}=t,u=zr(3010482349,`${a}-AAAA`)||zr(3240390095,`${a}-AAAA`),d=dn(e)?u?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon";let f=`${d}/conversation`;l&&(f=`${d}/f/conversation`),We(e,"212625335")&&(f+="?debug=true"),n.onSentUserMessage();const h=gi()?await CK():void 0;let m=TK(f,{ctx:e,method:"POST",headers:{...PK(),...wIe(t.chatReq,t.turnstileToken,t.proofToken,null),...s?{"x-conduit-token":s}:{}},body:VK(t,h),intercomEventOnError:"fetch-error:conversation:new-message",signal:r,observer:{onEvent:y=>{n.onStreamEvent(y.byteLength,y.isDoneEvent)}},shouldRetry:y=>(ug(y)||y instanceof vt&&u7(y.status))&&Wt(e,"603105008").get("retry_stream_requests",!1),retryConfig:d7(e)});m=$K(m,{ctx:e,model:a,turnTracker:n,signal:r??null}),m=KK(m,{turnTracker:n,prepareState:o,signal:r??null,f_completion:l??null}),l&&i&&It(i,y=>{y.stopConduitToken=s??null,y.conduitToken=null,y.prepareState=null,y.lastPrepareTimestamp=null});const _=SK(m,y=>{n.stream_encoding=y});yield*HK(_,{onPrematureTermination:()=>{n.onPrematureStreamTermination()}})}async function*HK(e,t={}){let n=!1;for await(const r of e)if("response"in r){const i=r.response,s=i?.headers?.get("Cf-Ray")??null,o=i?.headers?.get("X-Conduit-Token")??null;yield{type:"connected",serverRequestId:s,interruptConversationToken:o}}else{const i=QMe(r.data);i&&(i.type==="done"&&(n=!0),yield i)}n||(t.onPrematureTermination?.(),yield{type:"done"})}function VK(e,t){const n="threadId"in e?e.threadId:void 0;return{action:e.completionType,messages:e.messages.length>0?e.messages.map(JMe):void 0,continue_from_shared_conversation_id:"continueFromSharedConversationId"in e&&n==null?e.continueFromSharedConversationId:void 0,branching_from_conversation_id:"branchingFromConversationId"in e&&n==null?e.branchingFromConversationId:void 0,branching_from_message_id:"branchingFromMessageId"in e&&n==null?e.branchingFromMessageId:void 0,continue_from_shared_post_id:"continueFromSharedPostId"in e?e.continueFromSharedPostId:void 0,fork_from_shared_post:"forkFromSharedPost"in e?e.forkFromSharedPost:void 0,..."sharedProjectConversationOwnerId"in e&&"sharedProjectConversationId"in e&&e.sharedProjectConversationId&&e.sharedProjectConversationOwnerId?{continue_from_shared_project_conversation_id:e.sharedProjectConversationId,shared_project_conversation_owner_id:e.sharedProjectConversationOwnerId}:{conversation_id:n},parent_message_id:e.parentMessageId,model:e.model,timezone_offset_min:new Date().getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,variant_purpose:e.completionMetadata?.variantPurpose,suggestions:e.completionMetadata?.suggestions?e.completionMetadata.suggestions.map(r=>Cf(r)):void 0,chosen_suggestion:e.completionMetadata?.suggestion?{type:e.completionMetadata.suggestion.type,index:e.completionMetadata.suggestionIndex,source:e.completionMetadata.suggestion.type===$t.Autocomplete?e.completionMetadata.suggestion.source:void 0,user_input:e.completionMetadata.suggestion.type===$t.Autocomplete?e.completionMetadata.suggestion.userInput:void 0}:void 0,history_and_training_disabled:Yi(e.historyDisabled),conversation_mode:A6(e.completionMetadata?.conversationMode),force_paragen:Yi(e.forceParagen),force_paragen_model_slug:e.forceParagenModel,force_indepth_feedback:Yi(e.forceIndepthFeedback),force_rate_limit:Yi(e.forceRateLimit),reset_rate_limits:Yi(e.resetRateLimits),record_rendering:Yi(e.recordRendering),record_transformed_convo_json:Yi(e.recordTransformedConvoJson),disable_system_content_toggling:Yi(e.disableSystemContentToggling),enable_message_followups:e.enableMessageFollowups,source:e.completionMetadata?.source,system_hints:e.completionMetadata?.systemHints,prefetch_ids:e.completionMetadata?.prefetchIds,supports_buffering:!0,supported_encodings:[wK.V1],conversation_origin:Lr(e.conversationOrigin),force_use_search:Lr(e.forceUseSearch),force_disable_features:Lr(e.forceDisableFeatures),client_reported_search_source:e.completionMetadata?.searchSource,client_contextual_info:e.contextualInfo,paragen_stream_type_override:Lr(e.paragenStreamType==="none"?null:e.paragenStreamType),paragen_cot_summary_display_override:Lr(e.paragenCotSummaryDisplay==="none"?null:e.paragenCotSummaryDisplay),is_onboarding_conversation:Yi(e.isOnboardingConversation),is_visible:Lr(e.isVisible),override_infer_treatment:Lr(e.overrideInferTreatment),model_slug_stats_override:Lr(e.modelSlugStatsOverride),is_anon_mode:Yi(e.isAnonModeEnabled),is_reasoning_skipped:Yi(e.isReasoningSkipped),async_task_id:Lr(e.asyncTaskId),force_parallel_switch:Lr(e.forceParallelSwitch),thinking_effort:Lr(e.thinkingEffort),juice_score:Lr(e.juiceScore),multimodal_juice_score:Lr(e.multimodalJuiceScore),local_function_names:gi()&&t?[...t]:void 0,api_tool_expansion_type:Lr(e.apiToolExpansionType)}}function JMe(e){let t=e;return e.clientMetadata&&(t={...e},delete t.clientMetadata),t}function Yi(e){if(e===!0)return e}function Lr(e){if(e!=null)return e}function QMe(e){if("type"in e)switch(e.type){case"gizmo_inline_review":return{type:"gizmo_inline_review",gizmoId:e.gizmo_id};case"title_generation":return{type:"title_generation",title:e.title,conversation_id:e.conversation_id};case"moderation":return{type:"moderation",conversationId:e.conversation_id,messageId:e.message_id,isCompletion:e.is_completion,flagged:e.moderation_response.flagged,blocked:e.moderation_response.blocked,shouldDisableConversation:!!e.moderation_response.should_disable_conversation,disclaimers:e.moderation_response.disclaimers,metadata:e.moderation_response.metadata};case"url_moderation":return{type:"url_moderation",conversationId:e.conversation_id,messageId:e.message_id,url:e.url_moderation_result.full_url,isSafe:e.url_moderation_result.is_safe};case"num_variants_in_stream":return{type:"num_variants_in_stream",num_variants_in_stream:e.num_variants_in_stream,display_treatment:e.display_treatment};case"perf_stats":case"conversation_detail_metadata":case"beacon_ui_response":case"resume_conversation_token":case"conversation_async_status":case"server_ste_metadata":case"message_marker":case"survey_campaign_effect":return e;case"message_stream_complete":return{type:"done"};default:return}if(e.message)return{type:"message",message:e.message,conversationId:e.conversation_id}}async function qGe(e,t,n=[],r,i=!1,s=!1){const o=Lt();if(!FE(o,!0)||!eEe(o))return;const a=Ui(e),l=Qt(e);if(l?.prepareRequestBlocked)return;const c=3e3;if(l?.lastCompletionFinishedTimestamp){const E=performance.now()-l.lastCompletionFinishedTimestamp,T=c-E;T>0&&await new Promise(O=>setTimeout(O,T))}const u=l?.conversationOrigin??null;let d;i?d=Se.getParentPromptNode(l)?.id??"":d=Se.getCurrentNode(l).message.id;const f=sp(),h=zw(o),m=l?.conduitToken??null,v=l?.prepareState??"none",_={threadId:a,prepareState:v,conduitToken:m,continueFromSharedPostId:l?.continuingFromSharedPostId,forkFromSharedPost:!!l?.continuingFromSharedPostId,continueFromSharedConversationId:l?.continuingFromSharedConversationId,branchingFromMessageId:l?.branchingFromMessageId,branchingFromConversationId:l?.branchingFromConversationId,sharedProjectConversationId:l?.continuingFromSharedProjectConversationId,sharedProjectConversationOwnerId:l?.sharedProjectConversationOwner?.id,isOnboardingConversation:s,conversationOrigin:u,model:t,completionType:Bu.Next,completionMetadata:{systemHints:n,conversationMode:l?.mode??{kind:cn.PrimaryAssistant}},messages:[],parentMessageId:d,recordRendering:f.recordRendering,recordTransformedConvoJson:f.recordTransformedConvoJson,historyDisabled:h,apiToolExpansionType:f.apiToolExpansionType??void 0},y=gi()?await CK():void 0,b=VK(_,y),C={"x-conduit-token":m??"no-token"},S=zr(3010482349,`${t}-AAAA`)||zr(3240390095,`${t}-AAAA`);if(S){It(e,E=>{E.conduitToken=null,E.prepareState=null});return}const w=`${dn(o)?S?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon"}/f/conversation/prepare`;try{It(e,O=>{O.prepareState="sent",O.lastPrepareTimestamp=performance.now()});const E=await ut.post(w,b,{additionalHeaders:C,authOption:Xt.SendIfAvailable}),{conduit_token:T}=E;r(T)}catch(E){Cn.count(gn.DEFAULT,"conduit_f_conversation_prepare_api_error"),G.addError(E),It(e,T=>{T.conduitToken=null,T.prepareState="failure"})}}const XMe=e=>new Promise(t=>setTimeout(t,e));async function*$K(e,t){const{MIN_RETRY_INTERVAL:n,MAX_RETRY_INTERVAL:r,RETRY_FACTOR:i,MAX_RETRY_COUNT:s}=d7(t.ctx),{signal:o}=t;let a,l,c=e,u=0,d=0,f=0,h=0;for(;c!=null;)try{for await(const m of c){const v="response"in m;!v&&m.data!=null&&typeof m.data=="object"&&"type"in m.data&&m.data.type==="resume_conversation_token"&&"token"in m.data&&"conversation_id"in m.data?(l=String(m.data.token),a=String(m.data.conversation_id),q5.set(a,l)):yield m,d>0&&(h++,K.logEventWithStatsig("ChatGPT Convo Stream: Resume Succeeded","chatgpt_convo_stream_resume_succeeded",{conversationId:a,offset:u,afterRetryCount:d,successfulResumeCount:h}),d=0),v||u++}K.logEventWithStatsig("ChatGPT Convo Stream: Stream Completed","chatgpt_convo_stream_completed",{conversationId:a,resumeAttempts:f,successfulResumeCount:h}),a!=null&&q5.remove(a),c=null}catch(m){const v=ug(m);d===0&&K.logEventWithStatsig("ChatGPT Convo Stream: Error","chatgpt_convo_stream_error",{conversationId:a,offset:u,isNetworkError:v,successfulResumeCount:h,errorMessage:m instanceof Error?m.message:String(m)});const _=m instanceof vt&&u7(m.status);if(d<s&&!o?.aborted&&l!=null&&a!=null&&(ug(m)||_)&&Wt(t.ctx,"2489999880").get("is_resume_enabled",!1)){d===0&&K.logEventWithStatsig("ChatGPT Convo Stream: Resume Attempted","chatgpt_convo_stream_resume_attempted",{conversationId:a,offset:u,retryCount:d,successfulResumeCount:h}),d++,f++;const b=Math.min(n*i**d,r)*(.5+Math.random()*.5);await XMe(b),c=WK({...t,resumeToken:l,conversationId:a,offset:u})}else{const y=m instanceof vt&&m.status===404;throw(d>=s||y&&d>0)&&K.logEventWithStatsig("ChatGPT Convo Stream: Resume Failed","chatgpt_convo_stream_resume_failed",{conversationId:a,offset:u,afterRetryCount:d,successfulResumeCount:h,isNetworkError:v,is404:y}),c=null,m instanceof vt&&m.status===404&&d>0?(a!=null&&q5.remove(a),vt.createWithErrorMessage(m.url,"client",ec,void 0,m)):m}}}function ug(e){return e instanceof Error&&e.message===ec||typeof e=="string"&&e===ec}function u7(e){return e===408||e===409||e===425||e===429||e===502||e===504}function WK({ctx:e,conversationId:t,resumeToken:n,model:r,turnTracker:i,offset:s,signal:o}){const a=zr(3010482349,`${r}-AAAA`)||zr(3240390095,`${r}-AAAA`),l=dn(e)?a?window.location.origin+"/backend-alt":window.location.origin+"/backend-api":window.location.origin+"/backend-anon",c={"x-conduit-token":n??"no-token"},u=`${l}/f/conversation/resume`,d=e?Oh(e):void 0,f={conversation_id:t,offset:s};return TK(u,{method:"POST",headers:{...PK(),...d?Hg({accessToken:d}):Gg(),...c,"Content-Type":"application/json"},body:f,intercomEventOnError:"fetch-error:conversation:new-message",signal:o??void 0,observer:{onEvent:m=>{i.onStreamEvent(m.byteLength,m.isDoneEvent)}},ctx:e,retryConfig:d7(e),shouldRetry:m=>(ug(m)||m instanceof vt&&u7(m.status))&&Wt(e,"603105008").get("retry_stream_requests",!1)})}async function*KK(e,{turnTracker:t,prepareState:n,f_completion:r,signal:i}){try{for await(const s of e)yield s;t.onStreamClose(),r&&z5("conduit_f_conversation_api.success",n)}catch(s){throw Cn.count(gn.DEFAULT,"conversation_api.client_request_error"),i?.aborted?(t.handleAbort(s),r&&z5("conduit_f_conversation_api.aborted",n)):(t.handleRawError(s instanceof Error||typeof s=="string"?s:JSON.stringify(s)),r&&z5("conduit_f_conversation_api.error",n)),s}}function d7(e){const t=xn(e,"3165814200");return{MIN_RETRY_INTERVAL:t.get("MIN_RETRY_INTERVAL",300),MAX_RETRY_INTERVAL:t.get("MAX_RETRY_INTERVAL",5e3),RETRY_FACTOR:t.get("RETRY_FACTOR",1.5),MAX_RETRY_COUNT:t.get("MAX_RETRY_COUNT",12)}}class YK{constructor(t,n,r,i,s,o,a,l,c,u,d,f,h,m,v,_,y,b,C,S,x=!1,w,E=!1,T=!1,O,k=void 0,A,I){this.ctx=t,this.requestId=n,this.queryClient=r,this.initialThread=i,this.clientThreadId=s,this.parentMessageId=o,this.prependMessages=a,this.promptMessage=l,this.appendMessages=c,this.completionType=u,this.model=d,this.eventSource=f,this.isHistoryAndTrainingDisabled=h,this.startPreflightTime=m,this.isSnorlaxEnabledForGizmo=v,this.isNewThread=_,this.isContinuingFromSharedConversation=y,this.isContinuingFromBranchingConversation=b,this.isContinuingFromSharedProjectConversation=C,this.turnTracker=S,this.isAnonModeEnabled=w,this.isContinuableSharedPost=E,this.isReasoningSkipped=T,this.thinkingEffort=O,this.modelSlugStatsOverride=k,this.asyncTaskId=A,this.completionLatencyTracker=new Z9e(this.requestId,m),this.isFirstCompletionInThread=_||this.isContinuingFromSharedConversation||this.isContinuingFromSharedProjectConversation||this.isContinuableSharedPost||this.isContinuingFromBranchingConversation,I?.disablePlaceholder||(this.placeholderNodeId=`${u9}${n}`),x&&(this.sentNotification=!0)}isFirstCompletionInThread;activeBranchLastMessage;messagesToUpdate={};allIncompleteMessageIds=new Set;responseThreadId;isCompletionBlocked=!1;isEitherFlagged=!1;sentNotification=!1;variantsInStreamInfo;blurDuringCompletionTracker=new L9e;completionLatencyTracker;preflightTime;treatCompletionAsAsync=!1;realtimeAsyncCompletion=!1;resumeToken;placeholderNodeId;updateBeforeRequest(){sAe.incrementUserMessageCount(dn(this.ctx)?_r.LoggedIn:_r.LoggedOut),ld.retainThread(this.clientThreadId),It(this.clientThreadId,t=>{t.stopConduitToken=t.conduitToken??null,t.conduitToken=null,t.prepareState=null,t.lastPrepareTimestamp=null,this.completionType===Bu.Next&&Se.hasUserMessage(t)&&this.promptMessage?.author.role===He.User&&(t.scrollToMessageId=this.promptMessage?.id),Tr.updateTree(t,(n,r)=>{if(this.parentMessageId&&(r=Se.getNode(t,this.parentMessageId).id),this.prependMessages)for(const s of this.prependMessages)r=n.addMessageNode(r,s);if(this.promptMessage&&(r=n.addMessageNode(r,this.promptMessage)),this.appendMessages)for(const s of this.appendMessages)r=n.addMessageNode(r,s);const i=this.promptMessage?.metadata?.gizmo_id;if(this.placeholderNodeId){const s=Zk("",i?{gizmo_id:i}:void 0,{requestId:this.requestId,isPlaceholder:!0},this.placeholderNodeId);r=n.addMessageNode(r,s)}return r})})}async sendRequest$({conduitToken:t,turnstileToken:n,proofToken:r,completionMetadata:i,resolvedParentMessageId:s,messages:o,extraStreamParams:a,chatReq:l,profiler:c}){EP(this.clientThreadId,!0);const u=new AbortController;jf.addRequest(this.requestId,u,this.turnTracker);const d=sp(),f=Ui(this.clientThreadId);if(this.completionType===Bu.Variant&&f==null){G.addError("Generating variant without conversation_id"),this.#n(new Error("Regeneration must have conversation_id"));return}const h=WMe(this.ctx,{conversationOrigin:this.initialThread?.conversationOrigin??null,model:this.model,completionType:this.completionType,prepareState:this.initialThread?.prepareState??"none",conduitToken:t,threadId:f,isReasoningSkipped:this.isReasoningSkipped,asyncTaskId:this.asyncTaskId,overrideInferTreatment:d.autoSwitcherTreatmentOverride,modelSlugStatsOverride:this.modelSlugStatsOverride,continueFromSharedConversationId:this.initialThread?.continuingFromSharedConversationId,branchingFromConversationId:this.initialThread?.branchingFromConversationId,branchingFromMessageId:this.initialThread?.branchingFromMessageId,sharedProjectConversationOwnerId:this.initialThread?.sharedProjectConversationOwner?.id,sharedProjectConversationId:this.initialThread?.continuingFromSharedProjectConversationId,continueFromSharedPostId:this.initialThread?.continuingFromSharedPostId,forkFromSharedPost:this.initialThread?.forkFromSharedPost,historyDisabled:this.isHistoryAndTrainingDisabled,isAnonModeEnabled:this.isAnonModeEnabled,parentMessageId:s,messages:o,chatReq:l,turnstileToken:n,proofToken:r,completionMetadata:i,contextualInfo:{is_dark_mode:Awe(),time_since_loaded:Math.floor(performance.now()/1e3),page_height:window.innerHeight,page_width:window.innerWidth,pixel_ratio:window.devicePixelRatio,screen_height:window.screen.height,screen_width:window.screen.width,window_style:fn(this.ctx).windowStyle},isOnboardingConversation:i?.isOnboardingConversation,thinkingEffort:this.#e(),forceParagen:d.forceParagen,forceParagenModel:d.forceParagen?d.forceParagenModel.value:void 0,forceRateLimit:d.forceRateLimit,resetRateLimits:d.resetRateLimits,recordRendering:d.recordRendering,recordTransformedConvoJson:d.recordTransformedConvoJson,disableSystemContentToggling:d.rebaseSystemMessageContent!=null,forceUseSearch:d.forceUseSearch??void 0,paragenStreamType:d.paragenStreamType,paragenCotSummaryDisplay:d.paragenCotSummaryDisplay,forceParallelSwitch:d.forceParallelSwitch,juiceScore:d.juiceScore,multimodalJuiceScore:d.multimodalJuiceScore,apiToolExpansionType:d.apiToolExpansionType??void 0,...FE(this.ctx)?{f_completion:!0}:{},...tEe()?{f_search:!0}:{},...a},this.turnTracker,c,u.signal,this.clientThreadId);try{for await(const m of h)m.type==="connected"?this.#t(m):cD(m)&&this.#r(m)}catch(m){q7(m)||u.signal.aborted?this.#s(m):this.#n(m)}finally{EP(this.clientThreadId,!1)}}async sendResumeRequest$({conversationId:t,resumeToken:n,profiler:r}){const i=new AbortController;jf.addRequest(this.requestId,i,this.turnTracker),It(this.clientThreadId,o=>{Tr.setRequestIdOnCurrentLeaf(o,this.requestId)});const s=KMe(this.ctx,{conversationId:t,resumeToken:n,model:this.model},this.turnTracker,r,i.signal,this.clientThreadId);try{for await(const o of s)o.type==="connected"?this.#t(o):cD(o)&&this.#r(o)}catch(o){q7(o)||i.signal.aborted?this.#s(o):this.#n(o)}}#e(){if(this.model!==Mf)return;if(Wt(this.ctx,"790459319").get("show-juice-control",!1))return this.thinkingEffort}#t(t){const{serverRequestId:n,interruptConversationToken:r}=t;this.turnTracker.onStreamOpen(r!==null),n&&this.turnTracker.onReceivedServerRequestId(n),r&&It(this.clientThreadId,i=>{i.conduitToken=r}),$9e(this.requestId,this.model,n,Cs(this.preflightTime))}#r=t=>{if(this.activeBranchLastMessage&&this.completionLatencyTracker.onResponse(t,this.activeBranchLastMessage,this.responseThreadId),this.responseThreadId===void 0&&"conversationId"in t){const n=t.conversationId;if(this.responseThreadId=n,Wh(this.clientThreadId)&&Ui(this.clientThreadId)!==n&&(Dfe(this.ctx,this.clientThreadId,n),K.logEvent("Attribution: Client Thread to Server Thread",{client_thread_id:this.clientThreadId,server_thread_id:n})),this.isContinuingFromSharedConversation&&(It(this.clientThreadId,i=>{delete i.continuingFromSharedConversationId}),_t.logEvent("chatgpt_continue_conversation_first_message_sent"),K.logEvent("Continue Conversation: First Message Sent",{forked_conversation_id:n,shared_conversation_id:this.initialThread?.continuingFromSharedConversationId})),this.isContinuingFromBranchingConversation&&It(this.clientThreadId,i=>{delete i.branchingFromConversationId,delete i.branchingFromMessageId}),this.isContinuingFromSharedProjectConversation&&It(this.clientThreadId,i=>{delete i.continuingFromSharedProjectConversationId,delete i.sharedProjectConversationOwner}),this.isContinuableSharedPost&&It(this.clientThreadId,i=>{delete i.continuingFromSharedPostId,delete i.forkFromSharedPost}),this.isFirstCompletionInThread){const i=Qt(this.clientThreadId);K.logEvent("Create New Thread"),!this.isHistoryAndTrainingDisabled&&LEe(i?.mode)&&dn(this.ctx)&&(wW(this.queryClient,Se.getGizmoId(i)),i?.disableConversationNavigation||wEe(eAe,this.queryClient,n,this.isSnorlaxEnabledForGizmo))}const r={id:this.requestId,threadId:this.responseThreadId,completionType:this.completionType,eventSource:this.eventSource,model:this.model};if(this.completionType===Bu.Next){const i=Se.getConversationTurns(this.initialThread),s=i.length,o=i.filter(l=>l.role===He.User),a=o&&o[o.length-1]?.messages[0];if(a?.content.content_type===$e.Text){const l=a.content.parts.join("").length,c=o?.length??0;r.countConversationTurns=s,r.countUserSubmittedMessages=c,r.countLastUserPromptTextMessageLength=l}}K.logEvent("Generate Completion",r)}switch(t.type){case"num_variants_in_stream":this.#h(t);break;case"moderation":this.#p(t);break;case"url_moderation":this.#m(t);break;case"message":this.#g(t);break;case"done":this.#o();break;case"gizmo_inline_review":this.#i(t);break;case"title_generation":this.#l(t);break;case"conversation_detail_metadata":this.#c(t);break;case"beacon_ui_response":this.#u(t);break;case"survey_campaign_effect":nAe(t);break;case"conversation_async_status":this.#d(t);break;case"resume_conversation_token":this.#f(t);break}};#n(t){const n=cZ(t),r=n.message,i=t instanceof vt?t.code:void 0,s=t instanceof vt?t.detail?.can_retry:void 0,o=r===ec,a=o&&!this.treatCompletionAsAsync&&dn(this.ctx)&&Wt(this.ctx,"2489999880").get("is_polling_enabled",!1);a&&(this.treatCompletionAsAsync=!0),this.debouncedUpdateExistingMessages.flush(),this.treatCompletionAsAsync&&r===ec&&!a||It(this.clientThreadId,c=>{Tr.updateTree(c,(u,d)=>{const f=this.variantsInStreamInfo?Se.getParentPromptNode(c)?.id??d:d,h={err:a?lZ:r,errType:a?"info":"danger",errCode:a?JD.NetworkErrorWithReconnection:i,completionSampleFinishTime:Date.now(),canRetry:a?!1:s};if(u.getNodeIfExists(f)?.message?.content?.content_type!==$e.Text){const m=Zk("");return m.clientMetadata={...m.clientMetadata,...h},u.addMessageNode(f,m)}else u.updateNodeMetadata(f,h)})});try{const c=Qt(this.clientThreadId);if(Se.getLastMessageSystemHints(c)?.includes(Pi)){const f=t instanceof vt?t:void 0,h=f?.status,m=f?.isClientError()??!1,v=f?.isServerError()??!1,_=o?"network":v?"server":m?"client":"unknown";G.addAction("agent.conversation.start_failed",{request_id:this.requestId,model:this.model,error_code:i??"unknown",is_network_error:o,is_recoverable_error:a,error_status:h,is_client_error:m,is_server_error:v,error_type:_})}}catch{}switch(o&&K.logNetworkError({source:"request_stream",type:a?"info_polling":"error"}),i){case sd.ContentPolicy:case sd.ContentOrTos:case km.ModelCapExceeded:case km.HistoryDisabledConversationNotFound:break;default:r!==void 0&&_t.logEvent("chatgpt_conversation_error_web",r)}if(this.blurDuringCompletionTracker.onMessageError(),vP(n),this.#a(),qu.publish({kind:"completionFinished",serverThreadId:this.responseThreadId}),t instanceof vt&&t.code===km.ModelCapExceeded){const c=t.detail?.clears_in;c&&(RSe(new Date(Date.now()+c*1e3).toISOString()),setTimeout(()=>{h$()},c*1e3))}}#i({gizmoId:t}){It(this.clientThreadId,n=>{n.promptGptRating={gizmoId:t}})}#l(t){EW(this.ctx,t.conversation_id,t.title,f9.Generated),this.isSnorlaxEnabledForGizmo||dEe(this.ctx,t.conversation_id,t.title),this.maybeSendNotification()}#c(t){const{default_model_slug:n}=t;n&&It(this.clientThreadId,i=>{i.modelId=n}),We(this.ctx,"3315017149")&&Jre(t)&&this.queryClient.invalidateQueries({queryKey:Gh()}),Mj.updateDetails(t)}#u(t){FEe.updateDetails(t)}#d(t){const{async_status:n}=t;n===Br.REALTIME&&(this.realtimeAsyncCompletion=!0),this.responseThreadId&&Pl(this.responseThreadId,{source:js.SERVER,value:n}),Pl(this.clientThreadId,{source:js.SERVER,value:n})}#f(t){const{token:n}=t;this.resumeToken=n??void 0;const r=Qt(this.clientThreadId),s=Se.getLastMessageSystemHints(r)?.includes(Pi);this.realtimeAsyncCompletion&&s&&G.addAction("agent.conversation.start_succeeded",{conversation_id:t.conversation_id??this.responseThreadId??"",request_id:this.requestId,model:this.model})}#h(t){this.variantsInStreamInfo=t,It(this.clientThreadId,n=>{Tr.updateTree(n,(r,i)=>{const s=Se.getParentPromptNode(n)??r.getNodeByIdOrMessageId(i);r.updateNodeMetadata(s.id,{variantsInStreamInfo:this.variantsInStreamInfo})})})}#p(t){const{isCompletion:n,flagged:r,blocked:i,disclaimers:s}=t,o=!!s?.length;(r||i||o)&&(this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged=!0,i&&n&&(this.isCompletionBlocked=!0),J9e(t,this.clientThreadId))}#m(t){const{conversationId:n,url:r,isSafe:i}=t;i&&It(n,s=>{s.safeUrls.push(r)})}#g({message:t,conversationId:n}){if(this.activeBranchLastMessage=t,t?.author.role===He.Tool&&t?.author.name==="bio"){const r=t.metadata?.gizmo_id;setTimeout(()=>{this.queryClient.invalidateQueries({queryKey:yK(r)})},5e3)}if(t.metadata?.trigger_async_ux&&(this.treatCompletionAsAsync=!0,Pl(this.clientThreadId,{source:js.SERVER,value:Br.STREAMING})),Se.getTree(Qt(n)).containsNodeOrMessageId(t.id)){this.messagesToUpdate[t.id]=t,this.debouncedUpdateExistingMessages();return}this.debouncedUpdateExistingMessages.flush(),It(this.clientThreadId,r=>{Tr.updateTree(r,(i,s)=>{const o={requestId:this.requestId};t.status!=="in_progress"?o.completionSampleFinishTime=Date.now():this.allIncompleteMessageIds.add(t.id);const a={...t,clientMetadata:o},l=t.metadata?.parent_id;if(l){if(this.placeholderNodeId&&i.getParent(this.placeholderNodeId).id===i.getNodeByIdOrMessageId(l).id)if(za(a)){i.prependNode(this.placeholderNodeId,a);return}else i.deleteNode(this.placeholderNodeId),this.placeholderNodeId=void 0;return i.addMessageNode(l,a)}else{const c=i.findFirst(u=>!za(u.message));if(c)i.prependNode(c.id,a);else return i.addMessageNode(s,a)}})})}debouncedUpdateExistingMessages=EG(()=>{if(this.isCompletionBlocked)return;const t=Object.values(this.messagesToUpdate);t.length!==0&&(It(this.clientThreadId,n=>{Tr.updateTree(n,r=>{for(const i of t)r.updateNodeMessage(i.id,i),i.status!=="in_progress"&&(r.updateNodeMetadata(i.id,{completionSampleFinishTime:Date.now()}),this.allIncompleteMessageIds.delete(i.id))})}),this.messagesToUpdate={})},50,{leading:!0,maxWait:50});#s(t){this.debouncedUpdateExistingMessages.flush(),It(this.clientThreadId,n=>{Tr.updateTree(n,r=>{for(const i of this.allIncompleteMessageIds)r.updateNodeMessageMetadata(i,{finish_details:{type:"interrupted"}})})}),this.#o()}#o(){if(this.debouncedUpdateExistingMessages.flush(),this.isEitherFlagged||(this.isFirstCompletionInThread&&this.responseThreadId&&!this.isHistoryAndTrainingDisabled&&!_t.checkGate("2562876640")&&SEe(this.ctx,this.responseThreadId,this.model),qu.publish({kind:"completionFinished",serverThreadId:this.responseThreadId})),this.isFirstCompletionInThread&&this.responseThreadId){const t=Se.getGizmoId(Qt(this.responseThreadId));this.queryClient.getQueryState([hh,{gizmoId:t}])?.fetchStatus!=="fetching"&&((this.queryClient.getQueryData([hh,{gizmoId:t}])?.pages.flatMap(o=>o.items)??[]).some(o=>o.id===this.responseThreadId)||(yEe(this.queryClient,t),K.logEventWithStatsig("Refetch Project Conversation in Completion Request","chatgpt_web_projects_completion_request_new_chat_refetch")))}qu.publish({kind:"createConversation",clientThreadId:this.clientThreadId}),this.blurDuringCompletionTracker.onMessageDone(),vP(),this.#a()}maybeSendNotification(){if(this.sentNotification)return;const t=Qt(this.clientThreadId),n=t?.title??void 0;if(!n)return;const r=Se.getCurrentNode(t).message;if(UE(r)&&!TEe(r))return;const i=r.content,s=i?.content_type===$e.Text?PEe(XOe(i.parts[0]??""),120):void 0;REe({title:n,subtitle:s,clientThreadId:this.clientThreadId}),this.sentNotification=!0}#a(){It(this.clientThreadId,t=>{Tr.updateTree(t,n=>{for(const r of this.allIncompleteMessageIds)n.updateNodeMetadata(r,{completionSampleFinishTime:Date.now()})})}),this.allIncompleteMessageIds.clear(),It(this.clientThreadId,t=>{t.conduitToken=null}),setTimeout(()=>{if(this.treatCompletionAsAsync||this.realtimeAsyncCompletion){const t=this.treatCompletionAsAsync?Br.STREAMING:Br.REALTIME,n=r=>{if(!r)return;const i=LE(this.ctx,r);(i==null||i.source===js.CLIENT)&&Pl(r,{source:js.SERVER,value:t})};n(this.responseThreadId),n(this.clientThreadId)}else Pl(this.clientThreadId,{source:js.CLIENT,value:Br.UNREAD});this.maybeSendNotification(),jf.removeRequest(this.requestId),ld.releaseThread(this.clientThreadId)},0)}}const eRe=10,tRe=hn(nl(()=>({requests:{},requestIds:[]}))),Cm=(e,t,n)=>{if(!Ci(Lt()).checkGate("1154002920"))return null;tRe.setState(r=>{if(r.requestIds.length===eRe){const i=r.requestIds.shift();i!=null&&delete r.requests[i]}r.requests[e]??={serverRequestId:null,timeToFirstToken:null,apiStartDelay:null,serverStats:null},r.requests[e][t]=n})},Sm={publishServerRequestId:(e,t)=>{Cm(e,"serverRequestId",t)},publishServerStats:(e,t)=>{Cm(e,"serverStats",t)},publishApiStartDelay:(e,t)=>{Cm(e,"apiStartDelay",t)},publishTimeToFirstToken:(e,t)=>{Cm(e,"timeToFirstToken",t)}};var G5,bD;function nRe(){if(bD)return G5;bD=1;function e(t){return t===void 0}return G5=e,G5}var rRe=nRe();const iRe=_n(rRe);var H5,CD;function sRe(){if(CD)return H5;CD=1;var e="Expected a function";function t(n){if(typeof n!="function")throw new TypeError(e);return function(){var r=arguments;switch(r.length){case 0:return!n.call(this);case 1:return!n.call(this,r[0]);case 2:return!n.call(this,r[0],r[1]);case 3:return!n.call(this,r[0],r[1],r[2])}return!n.apply(this,r)}}return H5=t,H5}var V5,SD;function oRe(){if(SD)return V5;SD=1;var e=qh(),t=sRe(),n=_W();function r(i,s){return n(i,t(e(s)))}return V5=r,V5}var aRe=oRe();const lRe=_n(aRe);function cRe(e){return typeof e=="number"?Math.trunc(e):e}const uRe=["time_since_prompt_sent_ms","time_since_last_event_ms","first_token_lat","api_start_delay","completion_request_time_to_first_visible_message"],wm="is_kaur1br5";class ZK{ctx;start_time_ms;turn_id;trigger;result;time_since_prompt_sent_ms;stream_update_event_count=0;first_token_lat;first_visible_content_token_lat;first_nav_link_token_lat;last_model_message_received;api_start_time;time_since_last_event_ms;api_start_delay;completion_request_time_to_first_visible_message;model_slug;last_message_model_slug;tools_used;system_hints;gizmo_id;promptSentTimestamp;serverStats;serverSteMetadata;logger;server_request_id;client_request_id;completed=!1;num_images_attached=0;num_files_attached=0;bytes_received=0;model_message_update_count=0;stream_encoding;stream_buffering=!0;gizmo_type;isStreamOpen=!1;isTemporaryChat;hasReceivedAgentMetadataMessage=!1;streamTerminatedPrematurely=!1;messageMarkerLatencies={};constructor({ctx:t,clientRequestId:n,gizmoType:r,preflightTime:i,isTemporaryChat:s}){this.ctx=t,this.client_request_id=n,this.start_time_ms=performance.now(),this.turn_id=Vr(),this.promptSentTimestamp=i??performance.now(),this.tools_used=new Set,this.system_hints=new Set,this.logger=MS.createLogger("turn-analytics","info","http"),r&&(this.gizmo_type=r),this.isTemporaryChat=s}truncateValueForKey(t){const n=cRe(this[t]);n!==void 0&&(this[t]=n)}onUserMessages(t){t.forEach(n=>{n.author.role==="user"&&(n.metadata?.attachments?.forEach(r=>{r.height&&r.width?this.num_images_attached+=1:this.num_files_attached+=1}),n.metadata?.system_hints?.forEach(r=>{this.system_hints.add(r)}))})}addServerPerfStats(t){Sm.publishServerStats(this.client_request_id,t),this.serverStats=t}addServerSteMetadata(t){this.serverSteMetadata=t.metadata}onMessageMarker(t){const r=`${t.event}_received`;this.messageMarkerLatencies[t.marker]={...this.messageMarkerLatencies[t.marker],[r]:performance.now()-this.promptSentTimestamp}}onStreamOpen(t){this.isStreamOpen=!0,this.logCompletionStarted(),this.logTimeToInterruptToken(t??!1)}onStreamClose(){this.model_message_update_count>0?this.logCompletion({type:Co.Success}):this.logCompletion({type:Co.Error,error:{reason:"empty_response",message:"Successful completion ended with no messages"}})}onPrematureStreamTermination(){if(this.streamTerminatedPrematurely)return;this.streamTerminatedPrematurely=!0;const t=gi()?"true":"false";G.addAction("conversation.stream.terminated_prematurely",{turn_id:this.turn_id,client_request_id:this.client_request_id,server_request_id:this.server_request_id,system_hints:this.system_hints,model_slug:this.model_slug??this.last_message_model_slug??void 0,message_count:this.model_message_update_count,[wm]:t}),Cn.count(gn.DEFAULT,"conversation.stream.terminated_prematurely",[{key:"first_system_hint",value:[...this.system_hints][0]||"n/a"},{key:"trigger",value:this.trigger??"unknown"},{key:wm,value:t}])}onCompletionStarted(t,n){switch(t){case"next":this.trigger="submit";break;case"variant":this.trigger="reroll";break;case"continue":this.trigger="continue";break}this.model_slug=n}onReceivedServerRequestId(t){this.server_request_id=t,Sm.publishServerRequestId(this.client_request_id,this.server_request_id)}onStreamEvent(t,n){this.bytes_received+=t,n||(this.stream_update_event_count+=1)}onSentUserMessage(){this.api_start_time=performance.now(),this.api_start_delay=this.api_start_time-this.promptSentTimestamp,Sm.publishApiStartDelay(this.client_request_id,this.api_start_delay)}onMessageUpdate(t){t.author.name===Ra.n7jupd_m&&(this.hasReceivedAgentMetadataMessage=!0);const{model_slug:n,gizmo_id:r}=t.metadata??{},{role:i,name:s}=t.author;if(this.gizmo_id=this.gizmo_id??r,i===He.Tool&&s&&this.tools_used.add(s),i!==He.User&&i!==He.System&&i!==He.Developer&&i!==He.Root&&(this.model_message_update_count+=1,this.last_model_message_received=performance.now(),this.last_message_model_slug=n??this.last_message_model_slug),!this.first_token_lat&&t.author.role!==He.User&&Qf(t)&&Bh(t).length>0){const o=performance.now();this.first_token_lat=o-this.promptSentTimestamp,this.api_start_time&&(this.completion_request_time_to_first_visible_message=o-this.api_start_time),Sm.publishTimeToFirstToken(this.client_request_id,this.first_token_lat)}!this.first_visible_content_token_lat&&t.author.role===He.Assistant&&Qf(t)&&(this.first_visible_content_token_lat=performance.now()-this.promptSentTimestamp),!this.first_nav_link_token_lat&&gs(t)===Ne.SuperWidget&&t.content?.widgets?.navlinks?.length&&(this.first_nav_link_token_lat=performance.now()-this.promptSentTimestamp)}handleAbort(t){this.logCompletion({type:Co.Canceled})}handleRawError(t){let n,r=null,i=null;t instanceof Error?(r=t.message??"Something went wrong",i=t instanceof vt?t.status:void 0):r=t,i===400||r===ec||r==="NetworkError when attempting to fetch resource."||r==="The network connection was lost."?n="network_error":r==="Request timed out"?n="timeout":n="request_failed",this.logCompletion({type:Co.Error,error:{reason:n,message:r,...i&&{status_code:i}}})}getFeatureFlags(){const t={"resumable-streaming":Wt(this.ctx,"2489999880",{disableExposureLog:!0}).get("is_resume_enabled",!1)},n=Object.entries(t),r=n.filter(([s,o])=>o).map(([s])=>s),i=n.filter(([s,o])=>!o).map(([s])=>s);return{enabled_feature_flags:r,disabled_feature_flags:i}}createLogPayload(){const{enabled_feature_flags:t,disabled_feature_flags:n}=this.getFeatureFlags(),r={turn_id:this.turn_id,trigger:this.trigger,result:Cs(this.result?.type),...this.result?.type===Co.Error?{error:this.result.error}:void 0,time_since_prompt_sent_ms:this.time_since_prompt_sent_ms,stream_update_event_count:this.stream_update_event_count,model_message_update_count:this.model_message_update_count,time_since_last_event_ms:this.time_since_last_event_ms,first_token_lat:this.first_token_lat,first_visible_content_token_lat:this.first_visible_content_token_lat,first_nav_link_token_lat:this.first_nav_link_token_lat,api_start_delay:this.api_start_delay,completion_request_time_to_first_visible_message:this.completion_request_time_to_first_visible_message,bytes_received:this.bytes_received,stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used],system_hints:[...this.system_hints],gizmo_id:this.gizmo_id,attachments:{files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached},temporary_chat:this.isTemporaryChat,gizmo_type:this.gizmo_type,server_ste_metadata:this.serverSteMetadata,message_marker_latencies:this.messageMarkerLatencies,enabled_feature_flags:t,disabled_feature_flags:n};return{request_id:this.server_request_id,turn_analytics:r}}createStatsigPayload(){return lRe({turn_id:String(this.turn_id),trigger:this.trigger,result:this.result?.type,error:JSON.stringify(this.result?.type===Co.Error?{error:this.result.error}:void 0),time_since_prompt_sent_ms:String(this.time_since_prompt_sent_ms),stream_update_event_count:String(this.stream_update_event_count),model_message_update_count:String(this.model_message_update_count),time_since_last_event_ms:JSON.stringify(this.time_since_last_event_ms),first_token_lat:String(this.first_token_lat),api_start_delay:String(this.api_start_delay),completion_request_time_to_first_visible_message:String(this.completion_request_time_to_first_visible_message),bytes_received:String(this.bytes_received),stream_encoding:this.stream_encoding,stream_buffering:this.stream_buffering,model_slug:this.model_slug,last_message_model_slug:this.last_message_model_slug,tools_used:[...this.tools_used].join(", "),system_hints:[...this.system_hints].join(", "),gizmo_id:this.gizmo_id,attachments:JSON.stringify({files:this.num_files_attached,images:this.num_images_attached,total:this.num_files_attached+this.num_images_attached}),temporary_chat:String(this.isTemporaryChat),gizmo_type:this.gizmo_type,server_ste_metadata:JSON.stringify(this.serverSteMetadata),message_marker_latencies:JSON.stringify(this.messageMarkerLatencies)},iRe)}logCompletionStarted(){K.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_started","chatgpt_conversation_turn_turn_exchange_started",this.createStatsigPayload())}logTimeToInterruptToken(t){t&&Cn.hist(gn.DEFAULT,"chatgpt_web_interrupt_token_latency",[],performance.now()-this.promptSentTimestamp),Cn.count(gn.DEFAULT,"chatgpt_web_interrupt_token_exists",[{key:"has_conduit_token",value:t?"true":"false"}])}logCompletion(t){if(this.completed)return;const n=performance.now();Cn.count(gn.DEFAULT,"completion_request"),Cn.hist(gn.DEFAULT,"completion_request_time",[],n-this.start_time_ms),this.completed=!0,this.result=t;for(const r of uRe)this.truncateValueForKey(r);if(this.time_since_prompt_sent_ms=n-this.promptSentTimestamp,this.last_model_message_received&&(this.time_since_last_event_ms=n-this.last_model_message_received),t.type===Co.Error?this.logger.error("Turn exchange complete",this.createLogPayload()):this.logger.info("Turn exchange complete",this.createLogPayload()),this.system_hints.has(Pi)&&!this.hasReceivedAgentMetadataMessage){const r=gi()?"true":"false";G.addAction("conversation.stream.agent_metadata_message_missing",{turn_id:this.turn_id,client_request_id:this.client_request_id,server_request_id:this.server_request_id,completion_result:t.type,stream_terminated_prematurely:this.streamTerminatedPrematurely,model_slug:this.model_slug??this.last_message_model_slug??void 0,trigger:this.trigger,[wm]:r}),Cn.count(gn.DEFAULT,"conversation.stream.agent_metadata_message_missing",[{key:"trigger",value:this.trigger??"null"},{key:wm,value:r}])}K.logEventWithStatsig("chatgpt_conversation_turn_turn_exchange_complete","chatgpt_conversation_turn_turn_exchange_complete",this.createStatsigPayload())}}function zGe(e){return oae(e)&&!lae(e)}const Em=50,dRe=95;function GGe(e,t){if(e<=t)return e/t*Em;{const n=Em,r=dRe-Em,i=e-t,o=-(Em/t)/r;return n+r*(1-Math.exp(o*i))}}class fRe{mostRecentCompletionRequest;loggedRequests=new Set;onCompletionRequestStarted(t){this.mostRecentCompletionRequest={requestId:t,timestamp:Date.now()},this.loggedRequests.clear()}logEvent(t,n,r,i,s){const o=this.mostRecentCompletionRequest;o!=null&&!this.loggedRequests.has(t)&&Se.getNode(Qt(n),r).message.clientMetadata?.requestId===o.requestId&&(K.logEvent(t,{messageId:r,timeMs:Date.now()-o.timestamp,...i}),s?.(),this.loggedRequests.add(t))}}const hRe=new fRe;function HGe(e){return(e.find(i=>i.metadata?.image_search_results!==void 0)?.metadata?.image_search_results??[]).slice(0,5)}function JK(e,t){if(We(e,"1627380539"))return"gpt-5";switch(vn(e)?.planType){case Ye.FREE:return t?"gpt-4o":"auto";case void 0:return"auto";default:return"gpt-4o"}}function pRe(e){return e instanceof KeyboardEvent||"key"in e||"detail"in e&&e.detail===0?"keyboard":"mouse"}function QK(e){return e!=null&&typeof e=="object"&&"then"in e&&typeof e.then=="function"}const XK=b0(()=>Tt(!1));function mRe(e){return XK(e)()}function eY(e,t){XK(e).set(t)}function tY(e,t){const n=Qt(t)?.mode,r=n&&"gizmo_id"in n?n.gizmo_id:null;if(r!=null)return xSe(e,r)?Ka.PROJECT:Ka.GPT}const gRe="https://challenges.cloudflare.com/turnstile/v0/api.js",vRe={[qf.PAID]:"0x4AAAAAAASbFNinhLLnW5f1",[qf.FREEACCOUNT]:"0x4AAAAAAACPe2BTwOIpYk6H",[qf.NOAUTH]:"0x4AAAAAAASbHVR44GU82lOI"};class dg{toString(){return JSON.stringify(this.toJSON())}}class $5 extends dg{constructor(t){super(),this.message=t,this.message=t}toJSON(){return{"Turnstile-Internal-Error":this.message}}}class _Re extends dg{constructor(t){super(),this.errorCode=t,this.errorCode=t}toJSON(){return{"Turnstile-Client-Error":this.errorCode}}}class yRe{app=qf.NOAUTH;status="idle";turnstileInstancePromise=null;enforcementTokenPromise=null;enforcementTokenCache=new WeakMap;requestStartTimeMs=0;_onCompleted;_onError;async initializeAndGatherData(t){this._getOrCreateInstance(t)}async _getOrCreateInstance(t){return!t.turnstile?.required||t.turnstile?.dx?null:(this.app!==t.persona&&(this.app=t.persona,this.turnstileInstancePromise=this._getTurnstileInstancePromise()),this.turnstileInstancePromise??new $5("Turnstile instance not initialized."))}getEnforcementTokenSync(t){return this.enforcementTokenCache.get(t)??null}async getEnforcementToken(t){return t.turnstile?.dx?KS(t.turnstile.dx):this.startEnforcement(t).then(n=>(this.enforcementTokenPromise=null,n?n.toString():null))}async startEnforcement(t){return t.turnstile?.required?t.turnstile?.dx?KS(t.turnstile.dx).then(n=>(n&&this.enforcementTokenCache.set(t,n),n)):this.enforcementTokenPromise!==null?this.enforcementTokenPromise:this.enforcementTokenPromise=this._getEnforcementToken(t):null}async _getEnforcementToken(t,n){const r=await this._getOrCreateInstance(t);return r instanceof dg||r===null?r:new Promise((i,s)=>{this.setOnCompleted(o=>{const a=performance.now()-this.requestStartTimeMs;G.addAction("turnstile_get_token_success",{app:this.app.toString(),durationMs:a}),i(o)}),this.setOnError(o=>{if(!n)this._getEnforcementToken(t,!0).then(i,s);else{const a=performance.now()-this.requestStartTimeMs;G.addAction("turnstile_get_token_error",{app_release:"f0bc637cf0856e6fd16c76bfaa9345ffdec13388",error:o,app:this.app.toString(),durationMs:a}),i(new _Re(o))}}),this.setStatus("ready"),this.requestStartTimeMs=performance.now(),r.reset(),r.execute()})}setStatus(t){this.status=t}onCompleted(t){this._onCompleted?.(t)}setOnCompleted(t){this._onCompleted=t}onError(t){this._onError?.(t)}setOnError(t){this._onError=t}onExpired(){this.enforcementTokenPromise=null}_getTurnstileInstancePromise(t){if(this.turnstileInstancePromise!==null)if(t)this.turnstileInstancePromise.then(n=>{n instanceof dg||n.remove()}),this.turnstileInstancePromise=null;else return this.turnstileInstancePromise;return this.turnstileInstancePromise=new Promise((n,r)=>{const i="onloadTurnstileCallback";Object.defineProperty(window,i,{value:()=>{if(this.status==="ready")return;this.setStatus("script_loaded");const{turnstile:c}=window;if(c===null){this.setStatus("error"),t?(G.addAction("turnstile_instance_missing",{app_release:"f0bc637cf0856e6fd16c76bfaa9345ffdec13388",app:this.app.toString()}),n(new $5("Turnstile instance missing"))):this._getTurnstileInstancePromise(!0).then(n,r);return}c.render("#"+s,{sitekey:vRe[this.app],execution:"execute",callback:this.onCompleted.bind(this),"error-callback":this.onError.bind(this),"expired-callback":this.onExpired.bind(this)}),n(c)}});const s="cf-turnstile",o="cf-turnstile-script";document.getElementById(s)?.remove(),document.getElementById(o)?.remove();const a=document.createElement("div");a.id=s,a.hidden=!0,document.body.appendChild(a),this.setStatus("loading");const l=document.createElement("script");l.id=o,l.src=gRe+`?onload=${i}`,l.async=!0,l.defer=!0,l.onerror=()=>{this.setStatus("error"),t?(G.addAction("turnstile_script_load_error",{app_release:"f0bc637cf0856e6fd16c76bfaa9345ffdec13388",app:this.app.toString()}),n(new $5("Turnstile script failed to load"))):this._getTurnstileInstancePromise(!0).then(n,r)},document.body.appendChild(l)}),this.turnstileInstancePromise}}const wD=new yRe;function bRe(e,t){const n=We(e,"3530414009"),r=!!t?.prefetchIds?.length,i=performance.now(),s=[],o=gIe();if(o==null)return s.push("chatReq"),vIe().then(a);return a(o);function a(l){l.force_login&&uc(e,{fallbackScreenHint:"login"});const c=wD.getEnforcementTokenSync(l);if(c==null)return s.push("turnstile"),wD.getEnforcementToken(l).then(u);return u(c);function u(d){const f=performance.now(),h=WS.getEnforcementTokenSync(l);if(h==null)return s.push("proofofwork"),WS.getEnforcementToken(l,{forceSync:r&&n}).then(m);return m(h);function m(v){const _=String(performance.now()-f),y=s.includes("chatReq")?"false":"true",b=s.includes("turnstile")?"false":"true",C=s.includes("proofofwork")?"false":"true";return Cn.hist(gn.DEFAULT,"chat_req_time",[{key:"wasChatReqSync",value:y},{key:"wasTurnstileSync",value:b},{key:"wasProofofworkSync",value:C}],performance.now()-i),s1(Lt(),{eventName:"chatgpt_web_completion_integrity_checks",value:s.length===0?"true":"false",metadata:{wasChatReqSync:y,wasTurnstileSync:b,wasProofofworkSync:C,isPrefetchInitialLoad:r?"true":"false",powTime:_}}),{chatReq:l,turnstileToken:d,proofToken:v}}}}}async function CRe({ctx:e,clientThreadId:t,requestedModelId:n,completionType:r=Bu.Next,sourceEvent:i,eventSource:s,completionMetadata:o,extraStreamParams:a,parentMessageId:l,promptMessage:c,existingMessages:u,prependMessages:d,appendMessages:f,profiler:h,skipNotification:m,isReasoningSkipped:v,parentMessageIdPromise:_,thinkingEffort:y,isAgentTurn:b,asyncTaskId:C}){eY(ol(e,t),!0);const S=Qa(e),x=i?.timeStamp??performance.now(),w=s??(i?pRe(i):"mouse"),E=Eq(),T=`request-${t}-${E}`,O=Qt(t),{conduitToken:k=null,prepareState:A="none",lastPrepareTimestamp:I=null}=O??{},P=n??O?.modelId??t$(KB(S))?.id??JK(Lt(),!1),D=Se.findNode(O,Z=>Z.message.author.role===He.Assistant||Z.message.author.role===He.Tool)==null,R=O?.continuingFromSharedConversationId!=null,F=O?.continuingFromSharedProjectConversationId!=null,j=!!O?.continuingFromSharedPostId,V=O?.branchingFromConversationId!=null;let B=l?Se.getNode(O,l):u?.[0]?Se.getParentNode(O,u[0].id):Se.getCurrentNode(O),M=l;B.message.id.startsWith(u9)&&(B=Se.getParentNode(O,B.message.id),M=B.message.id??B.id);let re=B.message.id??B.id;const ge=[...u??[],...d??[],...c?[c]:[],...f??[]],N=tY(e,t),we=new ZK({ctx:e,clientRequestId:T,gizmoType:N,preflightTime:x,isTemporaryChat:Gw()});if(we.onUserMessages(ge),N===Ka.PROJECT&&D&&!_h(e,"269676899",{disableExposureLog:!0}).get("clear_all",!1)){const Z=o?.systemHints;jG(e).set(U=>({...U,[t]:Z??[]}))}const ye=zw(e),X=ale(),de=Kt.getItem(qt.ModelSlugStatsOverride),ee=new YK(e,T,S,O,t,M,d,c,f,r,P,w,ye,x,N===Ka.PROJECT,D,R,V,F,we,m??!1,X,j,v,y,de,C),ke=o?.systemHints?.includes(Pi),se=gi();if(se&&c){if(ke)nr.signalAgentConversationSentMessage(t);else if(D&&(c?.metadata?.attachments?.length??0)===0&&c?.metadata?.kaur1br5?.origin!==void 0){const Z=xn(e,"3205212221").get("numWords",-1),$=[R9e,N9e];if(Z>=1&&$.includes(c?.metadata?.kaur1br5?.origin)){const U=Bh(c);RB(U)<=Z&&(o===void 0&&(o={conversationMode:{kind:cn.PrimaryAssistant}}),Q9e(o),G.addAction("kaur1br5.search.force"))}}}ke&&G.addAction("agent.conversation.start_attempted",{client_thread_id:String(t),model:P});const fe=gW(t,void 0,{clientInitiated:!0,reason:"new_completion",hasAgentSystemHint:ke});if(qu.publish({kind:"requestCompletion"}),Pl(t,{source:js.CLIENT,value:ke?Br.REALTIME:Br.STREAMING}),hRe.onCompletionRequestStarted(T),ee.updateBeforeRequest(),LE(e,t)?.value===Br.REALTIME&&!(b&&v)){const Z=await fe;Z?.last_message_id&&(re=Z.last_message_id)}if(_){const Z=await _;Z&&(re=Z)}const Ze=bRe(e,o),{chatReq:le,turnstileToken:Q,proofToken:ie}=QK(Ze)?await Ze:Ze;if(le.force_login)return;if(S.getQueriesData(k1())==null&&await S.ensureQueryData(k1()),P9e()){const Z=await D9e(),$=pe=>typeof pe=="object"&&pe!=null&&"id"in pe,U=Z.flatMap(pe=>pe.status!=="fulfilled"||!pe.value?[]:Array.isArray(pe.value)?pe.value.filter($):$(pe.value)?[pe.value]:[]);if(U.length>0){const pe=[...U].reverse();ge.unshift(...pe),SRe({clientThreadId:t,request:ee,messages:pe})}}we.onCompletionStarted(r,P),ee.preflightTime=performance.now()-x;const Me=FE(e);if(G.addFeatureFlagEvaluation("fast_convo",Me),Me&&I!=null){const Z=performance.now()-I;Z<=6e4&&Cn.hist(gn.DEFAULT,"fast_conversation_last_prepare_to_convo_client",[{key:"model_id",value:P},{key:"prepare_state",value:String(A)},{key:"has_conduit_token",value:k!=null?"true":"false"}],Z)}Me&&se&&Cn.count(gn.DEFAULT,"client_request_conduit_token",[{key:"has_conduit_token",value:k!=null?"true":"false"}]),se&&h?.logTimingOnce("prompt_request_started"),await ee.sendRequest$({conduitToken:k,turnstileToken:Q,proofToken:ie,completionMetadata:o,resolvedParentMessageId:re,messages:ge,extraStreamParams:a,chatReq:le,profiler:h})}function SRe({clientThreadId:e,request:t,messages:n}){It(e,r=>{Tr.updateTree(r,i=>{const s=t.prependMessages?.[0]??t.promptMessage??t.appendMessages?.[0];if(s&&i.containsNodeOrMessageId(s.id)){for(const o of n)i.containsNodeOrMessageId(o.id)||i.prependNode(s.id,o);return}})})}async function VGe({ctx:e,clientThreadId:t,completionType:n,token:r,conversationId:i,preflightTime:s}){const o=ol(e,t);if(Hl(()=>mRe(o)))return;eY(o,!0);const a=s??performance.now(),l=Qa(e),c=tY(e,t),d=Qt(t)?.modelId??t$(KB(l))?.id??JK(Lt(),!1);Pl(t,{source:js.CLIENT,value:Br.STREAMING});const f=Eq(),h=`request-${t}-${f}`,m=new ZK({ctx:e,clientRequestId:h,gizmoType:c,preflightTime:a,isTemporaryChat:Gw()});Qt(t)||ld.initThread({clientThreadId:t,conversationMode:{kind:cn.PrimaryAssistant},modelId:d,userId:void 0,accountId:void 0}),ld.retainThread(t);const v=new YK(e,h,l,void 0,t,void 0,void 0,void 0,void 0,n,d,"url",zw(e),a,c===Ka.PROJECT,!1,!1,!1,!1,m,void 0,!1,void 0,void 0,void 0,void 0,void 0,{disablePlaceholder:!0});v.preflightTime=0,await v.sendResumeRequest$({conversationId:i,resumeToken:r,profiler:void 0})}const wRe=e=>p.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},p.createElement("path",{d:"M4.12916 6.71647C3.30231 7.66684 2.69669 8.64386 2.31959 9.33561L2.1399 9.67643C2.03481 9.88215 2.03489 10.1172 2.1399 10.3229L2.31959 10.6637C2.79011 11.5269 3.61393 12.8363 4.78346 13.9811C6.11816 15.2875 7.85464 16.3346 10.0003 16.3346C11.1135 16.3346 12.116 16.0511 13.01 15.5973L13.9905 16.5778C12.8512 17.2276 11.5215 17.6646 10.0003 17.6647C7.38789 17.6647 5.33564 16.3827 3.8528 14.9313C2.55744 13.6633 1.65876 12.2312 1.14967 11.2965L0.955334 10.9284C0.6562 10.3426 0.656129 9.65668 0.955334 9.07096L1.14967 8.7028C1.56617 7.93819 2.24311 6.84027 3.18483 5.77213L4.12916 6.71647Z"}),p.createElement("path",{d:"M2.52955 2.52897C2.75682 2.30194 3.10844 2.27358 3.36647 2.44401L3.47096 2.52897L17.471 16.529L17.5559 16.6335C17.7264 16.8915 17.698 17.2431 17.471 17.4704C17.2437 17.6976 16.8922 17.7258 16.634 17.5553L16.5296 17.4704L2.52955 3.47037L2.44459 3.36588C2.27419 3.10776 2.30233 2.75619 2.52955 2.52897Z"}),p.createElement("path",{d:"M10.0003 2.33463C12.6124 2.33477 14.664 3.61673 16.1467 5.06803C17.6273 6.51728 18.5903 8.18058 19.0452 9.07096L19.1428 9.29557C19.311 9.75097 19.3109 10.2483 19.1428 10.7038L19.0452 10.9284C18.6628 11.6768 17.9199 12.9706 16.8137 14.2253L15.8714 13.2829C16.8454 12.1631 17.5118 11.0058 17.8606 10.3229L17.8948 10.2448C17.9539 10.0856 17.954 9.91374 17.8948 9.75455L17.8606 9.67643C17.4383 8.84982 16.5534 7.32638 15.2171 6.01822C13.8824 4.71194 12.1457 3.66485 10.0003 3.66471C8.88688 3.66471 7.88357 3.94723 6.98951 4.40104L6.00905 3.42057C7.14849 2.77093 8.47916 2.33463 10.0003 2.33463Z"}),p.createElement("path",{d:"M7.78053 10.3678C7.93665 11.3159 8.68321 12.0619 9.63112 12.2184L10.8831 13.4704C10.6006 13.5421 10.305 13.5817 10.0003 13.5817C8.02216 13.5817 6.41822 11.9778 6.41822 9.99967C6.41825 9.69449 6.45574 9.39775 6.5276 9.1149L7.78053 10.3678Z"}),p.createElement("path",{d:"M10.0003 6.41764C11.9781 6.41787 13.5811 8.02186 13.5813 9.99967C13.5813 10.304 13.5414 10.5994 13.47 10.8815L12.219 9.63053C12.0623 8.68292 11.3162 7.93616 10.3684 7.77994L9.11549 6.52701C9.39833 6.45518 9.69509 6.41764 10.0003 6.41764Z"})),ERe="https://help.openai.com/en/articles/11752874-chatgpt-agent#h_beedf96566";function xRe({onClose:e,onConfirm:t}){return g.jsxs(xs,{testId:"modal-odyssey-takeover-nux",isOpen:!0,onClose:e,shouldIgnoreClickOutside:!0,onEscapeKeyDown:()=>{},className:"w-[420px]! p-2",children:[g.jsx("div",{className:"flex w-full flex-col items-center pt-2 text-center",children:g.jsx("div",{className:"text-xl font-semibold text-balance",children:g.jsx(Ce,{id:"0hMe9z",defaultMessage:"You’re about to control ChatGPT’s browser"})})}),g.jsx("div",{className:"border-token-border-default mt-6 mb-8 rounded-2xl border",children:g.jsxs("div",{className:"divide-token-border-default flex flex-col divide-y px-4",children:[g.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[g.jsx(wRe,{className:"h-6 w-6 shrink-0"}),g.jsxs("div",{children:[g.jsx("div",{className:"pb-0.5 font-medium",children:g.jsx(Ce,{id:"+htsoa",defaultMessage:"ChatGPT won’t take screenshots"})}),g.jsx("div",{className:"text-token-text-secondary",children:g.jsx(Ce,{id:"jNhK03",defaultMessage:"Only you can see info you enter (like passwords) while you’re in control."})})]})]}),g.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[g.jsx(Dd,{className:"h-6 w-6 shrink-0"}),g.jsxs("div",{children:[g.jsx("div",{className:"pb-0.5 font-medium",children:g.jsx(Ce,{id:"Ip50c4",defaultMessage:"Your browser session will be saved"})}),g.jsx("div",{className:"text-token-text-secondary",children:g.jsx(Ce,{id:"qE+5u7",defaultMessage:"This will keep you signed into sites after you finish. You can manage this in Settings."})})]})]}),g.jsxs("div",{className:"flex items-center gap-4 py-4 text-sm",children:[g.jsx(ed,{className:"h-6 w-6 shrink-0 text-[#E25507] dark:text-[#FF9E6C]"}),g.jsxs("div",{children:[g.jsx("div",{className:"pb-0.5 font-medium text-[#E25507] dark:text-[#FF9E6C]",children:g.jsx(Ce,{id:"2OxBmy",defaultMessage:"This may put your data at risk"})}),g.jsx("div",{className:"text-[#E25507] opacity-80 dark:text-[#FF9E6C]",children:g.jsx(Ce,{id:"JGhrvI",defaultMessage:"Signing ChatGPT into websites can expose your data to malicious sites. {learnMoreLink}",values:{learnMoreLink:g.jsx("a",{href:ERe,target:"_blank",rel:"noopener noreferrer",className:"underline",children:g.jsx(Ce,{id:"L9XdfE",defaultMessage:"Learn more"})})}})})]})]})]})}),g.jsxs("div",{className:"flex w-full flex-row gap-3",children:[g.jsx(Vt,{size:"large",color:"secondary",className:"flex flex-1",onClick:e,children:g.jsx(Ce,{id:"qz9XeG",defaultMessage:"Cancel"})}),g.jsx(Vt,{size:"large",color:"primary",className:"flex flex-1",onClick:()=>{t(),e()},children:g.jsx(Ce,{id:"h00sr3",defaultMessage:"I understand"})})]})]})}const kRe=(e,t=!1)=>e==="web"?Nn.Web:e==="cloud"?Nn.Cloud:qde[e]??(t?e:void 0),TRe=(e,t=!1)=>Array.from(e.values()).map(n=>kRe(n,t)).filter(Boolean);var nY=(e=>(e.FirstTimeUsingUserContext="oai/apps/hasUserContextFirstTime/2023-06-29",e.Onboarding="oai/apps/hasSeenOnboarding",e.TeamOwnerOnboarding="oai/apps/hasSeenTeamOwnerOnboarding",e.MemoryOnboarding="oai/apps/hasSeenMemoryOnboarding",e.TemporaryChatOnboarding="oai/apps/hasSeenTemporaryChatOnboarding",e.ArchiveConversationOnboarding="oai/apps/hasSeenArchiveConversationOnboarding",e.NewOnboardingConvo="oai/apps/hasSeenNewUserOnboardingConvo",e.DalleEditingOnboarding="oai/apps/hasSeenDalleEditingOnboarding",e.ModelSwitcherAutoDowngrade="oai/apps/hasSeenModelSwitcherAutoDowngrade",e.hasDismissedCanvasOnboarding="oai/apps/hasDismissedCanvasOnboarding",e.HasSeenAdvancedVoiceOnMobile="oai/apps/hasSeenAdvancedVoiceOnMobile/2024-09-26",e.SidekickLauncherOnboarding="oai/apps/hasSeenSidekickLauncherOnboarding",e.UseSidekick="oai/apps/hasDismissedUseSidekick",e.UseSidetron="oai/apps/hasDismissedUseSidetron",e.hasSeenSncUsageNux="oai/apps/hasSeenSncUsageNux",e.hasSeenSncWelcomeNux="oai/apps/hasSeenSncWelcomeNux",e.hasSeenSncSourcesTooltip="oai/apps/hasSeenSncSourcesTooltip",e.hasSeenComposerSearchButtonTooltip="oai/apps/hasSeenComposerSearchButtonTooltip",e.hasSeenComposerContextualAnswerTooltip="oai/apps/hasSeenComposerContextualAnswerTooltip",e.hasSeenContextualAnswerAdminNuxModal="oai/apps/hasSeenContextualAnswerAdminNuxModal",e.hasSeenContextualAnswerUserNuxModal="oai/apps/hasSeenContextualAnswerUserNuxModal",e.hasSeenConnectorsNuxModal="oai/apps/hasSeenConnectorsNuxModal",e.hasSeenGoogleConnectorsNuxModal="oai/apps/hasSeenGoogleConnectorsNuxModal",e.hasSeenContextualAnswerGoogleSyncFinished="oai/apps/hasSeenContextualAnswerGoogleSyncFinished",e.hasSeenConnectorsSourcesPillTooltip="oai/apps/hasSeenConnectorsSourcesPillTooltip",e.hasSeenConnectorsUpgradeFileAccessModal="oai/apps/hasSeenConnectorsUpgradeFileAccessModal",e.hasSeenComposerSystemHintButtonTooltip="oai/apps/hasSeenComposerSystemHintButtonTooltip",e.hasSeenPioneer="oai/apps/hasSeenPioneer",e.hasSeenMaverick="oai/apps/hasSeenMaverick",e.hasSeenMaverickCapi="oai/apps/hasSeenMaverickCapi",e.hasSeenTrailBlazer="oai/apps/hasSeenTrailBlazer",e.hasSeenStratos="oai/apps/hasSeenStratos",e.hasSeenStarpath01="oai/apps/hasSeenStarpath01",e.hasSeenStarpath02="oai/apps/hasSeenStarpath02",e.hasSeenStarpath03="oai/apps/hasSeenStarpath03",e.hasSeenStarpath04="oai/apps/hasSeenStarpath04",e.hasSeenAdvancedVoiceNuxFullPage="oai/apps/hasSeenAdvancedVoice/2024-09-24",e.hasSeenWindowsAppOnboarding="oai/apps/hasSeenWindowsAppOnboarding",e.DesktopBrowserExtensionAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionAnnouncement",e.DesktopBrowserExtensionReactiveAnnouncement="oai/apps/hasSeenDesktopBrowserExtensionReactiveAnnouncement",e.DesktopOperatorAnnouncement="oai/apps/hasSeenDesktopOperatorAnnouncement",e.DesktopClassmatesPromotionAnnouncement="oai/apps/hasSeenDesktopClassmatesPromotionAnnouncement",e.NewOnboardingFlow="oai/apps/hasSeenOnboardingFlow",e.NewStaticOnboardingFlow="oai/apps/hasSeenStaticOnboarding",e.NewPromptOnboardingFlow="oai/apps/hasSeenPromptOnboarding",e.CreateExampleChatsOnboarding="oai/apps/hasCreatedExampleChats",e.hasUsedConversationalOnboardingStarterPrompt="oai/apps/hasUsedNewUserStarterPrompt",e.hasSeenProjectsWebNuxTooltip="oai/apps/hasSeenProjectsWebNuxTooltip",e.hasSeenProjectsUpdateNuxTooltip="oai/apps/hasSeenProjectsUpdateNuxTooltip",e.hasSeenProjectsToFree="oai/apps/hasSeenProjectsToFree",e.hasSeenMemoryInSearch="oai/apps/hasSeenMemoryInSearch",e.hasSeenMoonshineNux="oai/apps/hasSeenMoonshineNux",e.hasSeenMoonshineNuxV2="oai/apps/hasSeenMoonshineNuxV2",e.hasSeenGoldenHourNux="oai/apps/hasSeenGoldenHourNux",e.hasSeenGoldenHourAnnouncement="oai/apps/hasSeenGoldenHourAnnouncement",e.hasSeenInlineFeedbackCustomInstrMessage="oai/apps/hasSeenInlineFeedbackCustomInstrMessage",e.hasSeenCaSystemHint="oai/apps/hasSeenCaSystemHint",e.hasDismissedPromoRedemption="oai/apps/hasDismissedPromoRedemption",e.hasSeenFilePickerNuxTooltip="oai/apps/hasSeenFilePicker",e.hasSeenMultipleGPTEditorsTooltip="oai/apps/hasSeenMultipleGPTEditorsTooltip",e.hasSeenSharedProjectsTooltip="oai/apps/hasSeenSharedProjectsTooltip",e.hasSeenPhoenixNux="oai/apps/hasSeenPhoenixNux",e.hasSeenPhoenixFreeNux="oai/apps/hasSeenPhoenixFreeNux",e.hasSeenAshwingNux="oai/apps/hasSeenAshwingNux",e.hasDismissedReferrerRedemption="oai/apps/hasDismissedReferrerRedemption",e.hasDismissedRefereeRedemption="oai/apps/hasDismissedRefereeRedemption",e.hasSeenReferralUpsellAnnouncement="oai/apps/hasSeenReferralProgramUpsell",e.hasSeenTatertotIntakeForm="oai/apps/hasSeenTatertotIntakeForm",e.hasSeenComposerBigBoxEnterHint="oai/apps/hasSeenComposerBigBoxEnterHint",e.d2dee219="oai/apps/d2dee219",e.hasSeenStudentsUpsellAnnouncement="oai/apps/hasSeenStudentsUpsellAnnouncement",e.hasSeenMemoryUpdatedTooltip="oai/apps/hasSeenMemoryUpdatedTooltip",e.hasSeenTeamsContextualAnswersUpsell="oai/apps/hasSeenTeamsContextualAnswersUpsell",e.hasSeenO3O4MiniAutomations="oai/apps/hasSeenO3O4MiniAutomations",e.hasSeenn7jupdNux="oai/apps/hasSeenn7jupdNux",e.hasSeenTatertotNux="oai/apps/hasSeenTatertotNux",e.hasSeenTatertotQuizNux="oai/apps/hasSeenTatertotQuizNux",e.hasSeenAudioParagenPrompt="oai/apps/hasSeenAudioParagenPrompt",e.hasSeenOdysseyConnectorsModal="oai/apps/hasSeenOdysseyConnectorsModal",e.hasSeenOdysseyTakeoverModal="oai/apps/hasSeenOdysseyTakeoverModal",e.hasSeenAgentModeAnnouncementBanner="oai/apps/hasSeenAgentModeAnnouncementBanner",e.hasSeenWorkspaceDiscoveryFirstLogin="oai/apps/hasSeenWorkspaceDiscoveryFirstLogin",e.hasSeenFreeTrialUpsellModal="oai/apps/hasSeenPlusOrBusinessFreeTrial",e.hasSeenWorkSpacePolicy="oai/apps/hasSeenWorkSpacePolicy",e))(nY||{});function ORe(){"use forget";return yB(ARe)}function ARe(e){return e.eligible_announcements}function IRe(e){"use forget";const t=Te.c(16),{data:n,isLoading:r}=ORe();let i;t[0]!==n?(i=n===void 0?[]:n,t[0]=n,t[1]=i):i=t[1];const s=i,{mutate:o}=MRe(),{mutate:a}=NRe();let l;t[2]!==e||t[3]!==o?(l=()=>o({key:e}),t[2]=e,t[3]=o,t[4]=l):l=t[4];const c=l;let u;t[5]!==e||t[6]!==a?(u=()=>a({key:e}),t[5]=e,t[6]=a,t[7]=u):u=t[7];const d=u;let f;t[8]!==s||t[9]!==e?(f=s.includes(e),t[8]=s,t[9]=e,t[10]=f):f=t[10];let h;return t[11]!==r||t[12]!==c||t[13]!==d||t[14]!==f?(h={eligible:f,markAsViewed:c,markAsViewedDontInvalidateCache:d,isLoading:r},t[11]=r,t[12]=c,t[13]=d,t[14]=f,t[15]=h):h=t[15],h}function MRe(){"use forget";const e=Te.c(2),t=cr();let n;return e[0]!==t?(n={mutationFn:RRe,onMutate:r=>{const{key:i}=r;t.getQueryData(is().queryKey)?.persistent_announcements?.includes(i)||t.setQueryData(is().queryKey,o=>o&&{...o,eligible_announcements:o.eligible_announcements.filter(a=>a!==i)})},onSuccess:()=>{t.invalidateQueries(is())}},e[0]=t,e[1]=n):n=e[1],jn(n)}function RRe(e){const{key:t}=e;return ue.safePost("/settings/announcement_viewed",{parameters:{query:{announcement_id:t}}})}function NRe(){"use forget";const e=Te.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={mutationFn:PRe},e[0]=t):t=e[0],jn(t)}function PRe(e){const{key:t}=e;return ue.safePost("/settings/announcement_viewed",{parameters:{query:{announcement_id:t}}})}const $Ge=p.createContext(()=>Promise.resolve()),DRe=p.createContext(null),LRe=()=>p.useContext(DRe)!=null;p.createContext({onDismount:()=>{}});const FRe="I took control of the virtual browser. If you're unsure what changed, ask for more context. If the task is complete, just acknowledge and wrap it up. Otherwise, please proceed.",or=hn(()=>({token:null,clientThreadId:null,isOpen:!1,isResuming:!1,parentMessageId:null,vmId:null,abortPromise:null})),WGe=(e,t)=>{or.setState(n=>({...n,clientThreadId:e,token:t}))},jRe=()=>{const e=me(),t=IRe(nY.hasSeenOdysseyTakeoverModal),{clientThreadId:n}=or(),r=Yo(n??void 0,a=>Se.findNode(a,l=>l.message.author.name==="n7jupd.metadata"));if(!n)return()=>{di.info("VNC modal opened without a client thread id")};const i=async a=>{const l=Ui(a);if(l)return await ue.safePost("/conversation/{conversation_id}/agent/resume",{parameters:{path:{conversation_id:l}}})},s=()=>{if(!gi()||!r?.message.metadata?.kaur1br5_mode)return Promise.resolve(!1);const a=Ui(n);if(!a)return di.info("Agent viewer opened without a server thread id"),Promise.resolve(!1);try{const c=fp()?.tryOpenAgentViewer(a)??!1;return Promise.resolve(c)}catch{return di.error("Failed to open local agent viewer - error thrown"),Promise.resolve(!1)}},o=async()=>{if(await s()){di.info("Opened VNC modal with local agent viewer");return}or.setState({isResuming:!0}),or.setState({isOpen:!0}),Df.setSidebarOpen(!1);let a;G.addAction("agent.conversation.resume_rpc_attempted",{client_thread_id:n});try{a=await i(n),a?G.addAction("agent.conversation.resume_rpc_succeeded",{client_thread_id:n,vm_id:a.vm_id??""}):G.addAction("agent.conversation.resume_rpc_failed",{client_thread_id:n,reason:"no_response"})}catch(l){G.addAction("agent.conversation.resume_rpc_failed",{client_thread_id:n,reason:"exception",error:l})}or.setState({isResuming:!1,vmId:a?.vm_id}),iY({})};return async()=>{if(t.eligible){no(e,xRe,{onConfirm:async()=>{t.markAsViewed(),await o()}});return}await o()}},BRe=async(e,{startNewTurn:t})=>{or.setState({isOpen:!1}),await sY(e,{startNewTurn:t})},URe=e=>{const t=Pw("",{is_takeover_ended_message:!0,system_hints:[Pi]});(t.clientMetadata||={}).isPlaceholder=!0,It(e,n=>{Tr.appendMessage(n,t)})},rY=e=>{It(e,t=>{Tr.updateTree(t,n=>{const r=n.nodes.filter(i=>{const s=i.message?.metadata;return i.message?.clientMetadata?.isPlaceholder&&s?.is_takeover_ended_message&&s?.system_hints?.includes(Pi)});for(const i of r)n.updateNodeMetadata(i.id,{isPlaceholder:!1})})})},qRe=e=>{rY(e)},iY=async({showPlaceholderMessage:e=!1})=>{const{clientThreadId:t}=or.getState();if(!t){di.info("VNC takeover started without a client thread id");return}const n=await oY();e&&URe(t),or.setState({parentMessageId:n?.last_message_id??null})},sY=async(e,{startNewTurn:t,waitForAbortCompletion:n=!1})=>{const{clientThreadId:r}=or.getState();if(!r){di.info("VNC modal closed without a client thread id");return}if(!t)return;const i=zRe(),{abortPromise:s}=or.getState();s&&n&&await s,rY(r);const a=Qt(r)?.selectedSources?.get(Pi);await CRe({ctx:e,clientThreadId:r,eventSource:"mouse",promptMessage:Pw(FRe,{is_takeover_ended_message:!0,system_hints:[Pi],...a&&{selected_sources:TRe(a)}}),parentMessageIdPromise:i,completionMetadata:{systemHints:[Pi],conversationMode:{kind:cn.PrimaryAssistant}}})},oY=()=>{const{clientThreadId:e}=or.getState();if(!e)return di.info("stopAgent called without a client thread id"),Promise.resolve(void 0);const t=gW(e,void 0,{clientInitiated:!0,reason:"takeover",isLastTurnAgent:!0}).then(n=>n).finally(()=>{or.setState({abortPromise:null})});return or.setState({abortPromise:t}),t},zRe=(e=5e3)=>new Promise(t=>{const{parentMessageId:n}=or.getState();if(n)return t(n);const r=setTimeout(()=>{i(),t(void 0)},e),i=or.subscribe(s=>{s.parentMessageId&&(t(s.parentMessageId),clearTimeout(r),i())})}),KGe=()=>{or.setState({token:null,clientThreadId:null,isOpen:!1})},YGe=()=>{const e=jRe(),t=or(i=>({token:i.token,clientThreadId:i.clientThreadId,isOpen:i.isOpen,isResuming:i.isResuming,vmId:i.vmId,open:e,close:BRe})),r=!LRe();return p.useMemo(()=>({...t,isVNCEnabled:r}),[t,r])};function GRe(){const e=Or(nr.wantsHandleAgentRequest$),t=Or(nr.wantsAgentConversationSentMessage$),n=me(),r=p.useRef(new Set);p.useEffect(()=>{if(!e)return;nr.wantsHandleAgentRequest$.set(!1);const i=nr.agentRequest;if(i)switch(i){case"startTakeoverFromAgent":{iY({showPlaceholderMessage:!0});break}case"endTakeoverFromAgent":{sY(n,{startNewTurn:!0,waitForAbortCompletion:!0});break}case"stopAgent":{oY();break}}},[e,n]),p.useEffect(()=>{if(!t)return;nr.wantsAgentConversationSentMessage$.set(!1);const i=nr.agentConversationSentMessage;if(!i)return;const{clientThreadId:s}=i;s&&(qRe(s),r.current.add(s))},[t,n]),p.useEffect(()=>{const i=new Set;return Oc.subscribe(s=>{for(const o of r.current){const a=Ui(o,s);if(!a)continue;const l=s.threads[a]?.tree?.nodes??[];for(const c of l)i.has(c.id)||gs(c.message)===Ne.n7jupd_m&&(r.current.delete(o),i.add(c.id),c.message.metadata?.kaur1br5_mode&&fp()?.userSentMessageInAgentConversation(a))}})},[])}function HRe(e){const t=Or(nr.wantsSetChatTheme$);p.useEffect(()=>{if(!t)return;nr.wantsSetChatTheme$.set(!1);const n=nr.chatTheme;nr.chatTheme=void 0,n&&Coe(e,n)},[t,e])}function ED(e,t,n,r,{name:i,value:s}){const o=new URLSearchParams(e);o.get(i)!==s&&(o.set(i,s),r({pathname:t,search:o.toString(),hash:n},{replace:!0}))}function VRe(){const e=Rr(),t=zi(),[n,r]=AF(l=>[M4(l),R4(l)]),i=me(),s=dn(i),o=Or(nr.wantsAuthSessionContext$);GRe(),HRe(i);const a=S9e();return p.useEffect(()=>{a&&(s?a.recordAvailableSessionAuth():a.onMissingSessionAuth())},[a,s]),p.useEffect(()=>{if(!o)return;nr.wantsAuthSessionContext$.set(!1);const l=nr.authSessionContext;if(l)switch(l.behavior){case"justLoggedInAccessToken":s&&kF(i,l.authToken.accessToken);break;case"reloadPageIfLoggedOut":s||window.location.reload();break}},[s,i,o]),p.useEffect(()=>{n&&ED(e.search,e.pathname,e.hash,t,ree),r&&ED(e.search,e.pathname,e.hash,t,iee),r?document.body.setAttribute("data-window-style","sidebar_view"):document.body.removeAttribute("data-window-style")},[e.pathname,e.search,e.hash,t,n,r]),null}const $Re="sourcesSidebar",WRe="initialPageLoad";function xD(e){return e.type==="summarizer"}function gd(e){return e.type==="searchSources"}function kD(e){return e.type==="caterpillar"}function fg(e){return e.type==="retrievalResults"}function hg(e){return e.type==="product"}function TD(e){return e.type==="entity"}function OD(e){return e.type==="n7jupdSources"}function AD(e){return e.type==="codingCitations"}class bc extends op()(t=>t){static getIsOpen=({isOpen:t})=>t;static getActiveSidebar=({activeSidebar:t})=>t;openThreadSidebar=t=>{XRe(t),this.setState({isOpen:!0,activeSidebar:t})};updateThreadSidebar=t=>{this.setState({activeSidebar:t})};toggleThreadSidebar=(t,n)=>{const r=this.getState(),i=r.activeSidebar,s=r.isOpen&&i&&KRe(t,i);if(gd(t)&&s&&i&&gd(i)&&i.scrollToHeader!==t.scrollToHeader){this.updateThreadSidebar({...t,shouldAnimateScroll:!0});return}s?this.closeThreadSidebar():(n?.(),this.openThreadSidebar(t))};closeThreadSidebar=()=>{const t=this.getState().activeSidebar;t&&eNe(t),this.setState({isOpen:!1,activeSidebar:void 0})}}const KRe=(e,t)=>gd(e)&&gd(t)?t.messageId===e.messageId:kD(e)&&kD(t)?t.caterpillarId===e.caterpillarId&&t.initialTab===e.initialTab:xD(e)&&xD(t)?t.clientThreadId===e.clientThreadId&&t.turnIndex===e.turnIndex:fg(e)&&fg(t)?t.clientThreadId===e.clientThreadId&&t.turnIndex===e.turnIndex&&t.messageId===e.messageId:OD(e)&&OD(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId:AD(e)&&AD(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.matchedText===e.matchedText:hg(e)&&hg(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.turnIndex===e.turnIndex&&t.contentReferenceStartIndex===e.contentReferenceStartIndex&&t.productIndex===e.productIndex:TD(e)&&TD(t)?t.clientThreadId===e.clientThreadId&&t.messageId===e.messageId&&t.contentReferenceStartIndex===e.contentReferenceStartIndex&&t.query===e.query&&t.category===e.category:!1;function YRe(e){const{isOpen:t}=e;return JSON.stringify({isOpen:t})}function ZRe({children:e}){const[t]=p.useState(()=>{let n;return n={isOpen:new URLSearchParams(window.location.search).get($Re)==="open",activeSidebar:{type:"searchSources",turnIndex:0,messageId:"",clientThreadId:WRe}},new bc(n)});return p.useEffect(()=>t.subscribe((n,r)=>{if(!(n.isOpen!==r.isOpen))return;const s=YRe(n);qe.setCookie(je.ThreadSidebarState,s,{maxAge:2*365*24*60*60})}),[t]),g.jsx(bc.Provider,{store:t,children:e})}const ZGe=()=>{const e=bc.useStore(),t=p.useCallback(i=>e.openThreadSidebar(i),[e]),n=p.useCallback((i,s)=>e.toggleThreadSidebar(i,s),[e]),r=p.useCallback(()=>e.closeThreadSidebar(),[e]);return{openThreadSidebar:t,toggleThreadSidebar:n,closeThreadSidebar:r}};function JRe(e,t){return e.type===t}function JGe(){return bc.useState(bc.getIsOpen)}function QRe(){return bc.useState(bc.getActiveSidebar)}function QGe(e){const t=QRe();if(e&&t&&JRe(t,e))return t}const XRe=e=>{if(gd(e)){const{clientThreadId:t,turnIndex:n,messageId:r}=e;K.logEventWithStatsig("Search Links Sidebar Shown","search_links_sidebar_shown",Vs({turnIndex:n,clientThreadId:t,messageId:r}))}else if(hg(e)){const{clientThreadId:t,turnIndex:n,messageId:r,contentReferenceStartIndex:i,productIndex:s}=e;K.logEventWithStatsig("Product Sidebar Shown","product_sidebar_shown",{...Vs({turnIndex:n,clientThreadId:t,messageId:r}),content_reference_start_index:i,product_index:(s+1).toString()})}else if(fg(e)){const{clientThreadId:t,turnIndex:n}=e;K.logEventWithStatsig("File Sources Sidebar Shown","file_sources_sidebar_shown",{...Vs({turnIndex:n,clientThreadId:t})})}},eNe=e=>{if(gd(e)){const{clientThreadId:t,messageId:n,turnIndex:r}=e;K.logEventWithStatsig("Search Links Sidebar Closed","search_links_sidebar_closed",Vs({clientThreadId:t,messageId:n,turnIndex:r}))}else if(hg(e)){const{clientThreadId:t,messageId:n,turnIndex:r,contentReferenceStartIndex:i,productIndex:s}=e;K.logEventWithStatsig("Product Sidebar Closed","product_sidebar_closed",{...Vs({turnIndex:r,clientThreadId:t,messageId:n}),content_reference_start_index:i,product_index:(s+1).toString()})}else if(fg(e)){const{clientThreadId:t,turnIndex:n}=e;K.logEvent("File Sources Sidebar Closed",Vs({clientThreadId:t,turnIndex:n}))}},tNe=()=>(p.useEffect(()=>{const e=({shiftKey:r,metaKey:i,ctrlKey:s})=>{J6.setState({shift:r,meta:i,ctrl:s})},t=()=>{J6.setState(sz)},n={passive:!0,capture:!0};return document.addEventListener("keydown",e,n),document.addEventListener("keyup",e,n),document.addEventListener("visibilitychange",t,n),()=>{document.removeEventListener("keydown",e,n),document.removeEventListener("keyup",e,n),document.removeEventListener("visibilitychange",t,n)}},[]),null);class JS extends op()(()=>({windowWidth:window.innerWidth,windowHeight:window.innerHeight})){static selectWindowWidth=({windowWidth:t})=>t;static selectWindowHeight=({windowHeight:t})=>t}function XGe(e,t){const n=JS.useStore();return p.useSyncExternalStore(r=>n.subscribe((i,s)=>{e(i)!==e(s)&&r()}),()=>e(n.getState()),()=>t??e(n.getInitialState()))}function nNe({children:e}){const[t]=p.useState(()=>new JS);return p.useEffect(()=>fc(window,{resize:()=>{t.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})}}),[t]),g.jsx(JS.Provider,{store:t,children:e})}class aY{cacheK1=new Map;get(t,n){return this.cacheK1.get(t)?.get(n)}set(t,n,r){let i=this.cacheK1.get(t);i||(i=new Map,this.cacheK1.set(t,i)),i.set(n,r)}delete(t,n){const r=this.cacheK1.get(t);r&&(r.delete(n),r.size===0&&this.cacheK1.delete(t))}}const ID=new aY,QS=new aY;function rNe(e,t){const n=QS.get(e,t);if(n==null){const r=aie(e,t).catch(()=>Tf);return QS.set(e,t,r),r}return n}function iNe(e,t){if(e===qg)return Tf;const n=ID.get(e,t);if(n!=null)return n;const r=rNe(e,t),i=p.use(r);return i===Tf?Tf:(ID.set(e,t,i),QS.delete(e,t),i)}function sNe({children:e,locale:t}){const n=me(),r=Pj(t)&&Wt(n,"2884982660").get("load-machine-translated",!1),i=iNe(t,r);return g.jsx(HY,{defaultLocale:qg,locale:t,messages:i,children:g.jsx(zle,{dir:Nj.has(t)?"rtl":"ltr",children:e})})}const oNe=({children:e})=>{const t=nZ().locale;return p.useEffect(()=>{const n=navigator.language??"",r=aw(n);K.logEvent("Locale Loaded",{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r}),_t.logEvent("chatgpt_locale_loaded",t,{loaded_locale:t,raw_browser_locale:navigator.language,suggested_locale:r??""})},[t]),g.jsx(sNe,{locale:t,children:e})};var W5,MD;function aNe(){if(MD)return W5;MD=1;var e=Ed(),t=Gi(),n=rl(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return W5=i,W5}var lNe=aNe();const cNe=_n(lNe);function uNe(e,t=0){return new Promise(n=>{requestAnimationFrame(()=>{setTimeout(()=>{n(e())},t)})})}const vp=Tt("livekit"),eHe=()=>Or(()=>vp()),tHe=()=>uNe(()=>vp()),_p=Tt(""),nHe=()=>Or(()=>_p()),rHe=()=>{requestAnimationFrame(()=>{_p.set("")})};function Le(e,t,n){return r=>{requestAnimationFrame(()=>{const i=vp(),s=r?.voice_session_id??_p(),o={...r,message:t,protocol:i,voice_session_id:s};G.addAction(e,o),n&&s1(Lt(),n,void 0,yW(o,a=>cNe(a)))})}}function xm(e,t){return(n,r)=>{requestAnimationFrame(()=>{const i=vp(),s=r?.voice_session_id??_p(),o={...r,...t?{message:t}:{},protocol:i,voice_session_id:s};try{const a=n.name,l=n.message;o.error=a,o.errMessage=l}catch{o.error=String(n)}G.addAction(e,o)})}}function pu(e){return(t,n)=>{requestAnimationFrame(()=>{const r=vp(),i=n?.voice_session_id??_p();t instanceof vt||G.addError(t,{...n,status:"error",name:e,protocol:r,voice_session_id:i})})}}const RD={audioPlayer:{error:pu("audio-player")},readAloud:{click:Le("read-aloud","click"),error:pu("read-aloud")},messagePlayback:{click:Le("message-playback","click")},toggleVideoButton:{click:Le("toggle-video-button","click")},toggleMuteButton:{click:Le("toggle-mute-button","click")},toggleScreenShareButton:{click:Le("toggle-screenshare-button","click")},composerSpeechButton:{hover:Le("composer-speech-button","hover")},voiceSessionEndedByUser:{click:Le("voice-session-ended-by-user","click")},voiceSessionStarted:{click:Le("voice-session-started","click")},voiceSessionDuration:{duration:Le("voice-session-duration","duration")},voiceSessionListening:{stateChange:Le("voice-session-listening","stateChange")},voiceSessionListeningIntently:{stateChange:Le("voice-session-listening-intently","stateChange")},voiceSessionThinking:{stateChange:Le("voice-session-thinking","stateChange")},voiceSessionSpeaking:{stateChange:Le("voice-session-speaking","stateChange")},voiceSessionHalted:{stateChange:Le("voice-session-halted","stateChange")},voiceSessionDisconnected:{stateChange:Le("voice-session-disconnected","stateChange")},voiceMode:{connect:Le("voice-mode","connect"),error:Le("voice-mode","error")},previews:{click:Le("previews","click"),error:pu("previews")},getToken:{request:Le("get-token","request"),success:Le("get-token","success"),failure:Le("get-token","failure")},getVoiceStatus:{request:Le("get-voice-status","request"),success:Le("get-voice-status","success"),failure:Le("get-voice-status","failure")},livekit:{connectCalled:Le("livekit","connectCalled"),success:Le("livekit","success"),failure:pu("livekit")},bloop:{performance:Le("bloop","performance")},voiceSelectionShown:{click:Le("voice-selection-shown","click","voice_selection_shown")},voiceSelected:{click:Le("voice-selected","click")},voiceAdvancedDisclosureShown:{success:Le("voice-advanced-disclosure-shown","success")},voiceAdvancedDisclosureAccepted:{click:Le("voice-advanced-disclosure-accepted","click")},rateLimitReached:{success:Le("rate-limit-reached","success"),modalShown:Le("rate-limit-reached","modalShown")},upsell:{upgradeToPlus:Le("upsell","upgradeToPlus"),upgradeToPro:Le("upsell","upgradeToPro"),upgradeToApp:Le("upsell","upgradeToApp"),appUpsellShown:Le("upsell","appUpsellShown"),appUpsellDismissed:Le("upsell","appUpsellDismissed")},feedbackShown:{success:Le("feedback-shown","success")},feedbackThumbsUp:{success:Le("feedback-thumbs-up","success")},feedbackThumbsDown:{success:Le("feedback-thumbs-down","success")},feedbackDetails:{audio_issues:Le("feedback-details","audio_issues"),response_quality:Le("feedback-details","response_quality"),interruptions:Le("feedback-details","interruptions"),transcription_issues:Le("feedback-details","transcription_issues"),inaudible_issues:Le("feedback-details","inaudible_issues"),other:Le("feedback-details","other"),inputText:Le("feedback-details","inputText")},connectionLatency:{success:Le("connection-latency","success"),failure:pu("connection-latency")},firstListeningLatency:{success:Le("first-listening-latency","success")},permissions:{denied:Le("permissions-denied")},voiceSessionFirstListening:{stateChange:Le("voice-session-first-listening","stateChange")},voiceSessionFirstSpeaking:{stateChange:Le("voice-session-first-speaking","stateChange")},defaultMediaDeviceChanged:{success:Le("default-media-device-changed","success"),failure:pu("default-media-device-changed")},voiceStatusCache:{hit:Le("voice-status-cache","hit"),failed:Le("voice-status-cache","failed"),ineligible:Le("voice-status-cache","ineligible"),skipped:Le("voice-status-cache","skipped")},certificateCache:{hit:Le("certificate-cache","hit"),miss:Le("certificate-cache","miss"),expired:Le("certificate-cache","expired"),disabled:Le("certificate-cache","disabled"),unsupported:xm("certificate-cache","unsupported")},peerConnectionCache:{hit:Le("peer-connection-cache","hit"),miss:Le("peer-connection-cache","miss"),unsupported:xm("peer-connection-cache","unsupported")},certificateLocalDb:{hit:Le("certificate-local-db","hit"),generated:Le("certificate-local-db","generated"),saveFailed:xm("certificate-local-db","saveFailed"),loadFailed:xm("certificate-local-db","loadFailed")}},jr=hn(pfe(nl(()=>({playerNode:null,playerApi:null,playerState:{sourceUrl:null,isPlaying:!1}}))));function iHe(){return jr(e=>e.playerApi)}function sHe(e){return jr(t=>e(t.playerState))}function oHe(){return jr.getState().playerApi}function aHe(){return jr.getState().playerState}const dNe=p.memo(function(){const t=p.useRef(null),n=jr(r=>r.playerNode);return p.useEffect(()=>{const r=t.current;r&&!n&&(r.onplay=()=>{jr.setState(i=>{i.playerState.isPlaying=!0})},r.onpause=()=>{jr.setState(i=>{i.playerState.isPlaying=!1})},r.ontimeupdate=()=>{jr.setState(i=>{i.playerState.currentTime=r.currentTime})},r.ondurationchange=()=>{jr.setState(i=>{i.playerState.duration=r.duration})},r.onerror=i=>{typeof i=="string"?RD.audioPlayer.error(new Error(i)):i.target&&"error"in i.target&&RD.audioPlayer.error(i.target.error)},jr.setState({playerNode:r,playerApi:new fNe(r)}))},[n]),g.jsx("audio",{className:"fixed start-0 bottom-0 hidden h-0 w-0",autoPlay:!0,crossOrigin:"anonymous",ref:t})});class fNe{constructor(t){this.player=t}get state(){return jr.getState().playerState}changeSource(t){this.player.src&&this.player.src!==t&&this.stop(),this.player.src=t,jr.setState(n=>{n.playerState.sourceUrl=t})}async play(){this.state.isPlaying||await this.player.play()}pause(){this.state.isPlaying&&this.player.pause()}stop(){this.pause(),this.player.removeAttribute("src"),jr.setState(t=>{t.playerState.sourceUrl=null,t.playerState.currentTime=void 0,t.playerState.duration=void 0})}setCurrentTime(t){this.player.currentTime=t}setSpeed(t){this.player.playbackRate=t,this.player.defaultPlaybackRate=t}}function lHe(e){const t=jr.getState().playerNode;if(!t)return!1;const n=t.canPlayType(e);return n==="probably"||n==="maybe"}const hNe=({children:e})=>{const t=gi();return g.jsx(sde,{children:g.jsx(oNe,{children:g.jsx(hoe,{children:g.jsxs(ZRe,{children:[g.jsx(HSe,{children:g.jsx(nNe,{children:e})}),g.jsx(dNe,{}),g.jsx(tNe,{}),null,t?g.jsx(VRe,{}):null]})})})})},XS=({resetError:e,componentStack:t,error:n})=>(p.useEffect(()=>{G.addError(n),Wn?.publish(qa.ERROR_THROWN,{error:n})},[n]),g.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4",children:[g.jsx("h2",{children:"Content failed to load"}),!1,g.jsx(Vt,{color:"secondary",onClick:e,children:"Try again"}),!1]})),f7=Tt(!1),cHe=f7;function pNe(e){const t=fc(e.document,{keydown:gNe,keyup:r1,visibilitychange:r1}),n=fc(e,{blur:r1});return()=>{t(),n()}}const mNe=500;let pg;function gNe(e){vNe(e)?pg??=setTimeout(()=>{f7.set(!0)},mNe):pg&&r1()}function vNe(e){return!u0(e)&&e.key===(nL()?"Meta":"Control")&&QB(e)===kle()}function r1(){clearTimeout(pg),pg=void 0,f7.set(!1)}var Zi={},ND;function _Ne(){if(ND)return Zi;ND=1,Object.defineProperty(Zi,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},n={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},r={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=1;i<20;i++)r["f"+i]=111+i;function s(f,h,m){h&&!("byKey"in h)&&(m=h,h=null),Array.isArray(f)||(f=[f]);var v=f.map(function(b){return l(b,h)}),_=function(C){return v.some(function(S){return c(S,C)})},y=m==null?_:_(m);return y}function o(f,h){return s(f,h)}function a(f,h){return s(f,{byKey:!0},h)}function l(f,h){var m=h&&h.byKey,v={};f=f.replace("++","+add");var _=f.split("+"),y=_.length;for(var b in t)v[t[b]]=!1;var C=!0,S=!1,x=void 0;try{for(var w=_[Symbol.iterator](),E;!(C=(E=w.next()).done);C=!0){var T=E.value,O=T.endsWith("?")&&T.length>1;O&&(T=T.slice(0,-1));var k=d(T),A=t[k];if(T.length>1&&!A&&!n[T]&&!r[k])throw new TypeError('Unknown modifier: "'+T+'"');(y===1||!A)&&(m?v.key=k:v.which=u(T)),A&&(v[A]=O?null:!0)}}catch(I){S=!0,x=I}finally{try{!C&&w.return&&w.return()}finally{if(S)throw x}}return v}function c(f,h){for(var m in f){var v=f[m],_=void 0;if(v!=null&&(m==="key"&&h.key!=null?_=h.key.toLowerCase():m==="which"?_=v===91&&h.which===93?91:h.which:_=h[m],!(_==null&&v===!1)&&_!==v))return!1}return!0}function u(f){f=d(f);var h=r[f]||f.toUpperCase().charCodeAt(0);return h}function d(f){return f=f.toLowerCase(),f=n[f]||f,f}return Zi.default=s,Zi.isHotkey=s,Zi.isCodeHotkey=o,Zi.isKeyHotkey=a,Zi.parseHotkey=l,Zi.compareHotkey=c,Zi.toKeyCode=u,Zi.toKeyName=d,Zi}var yNe=_Ne();const bNe=_n(yNe),CNe=en(()=>{const e=Tt([]),t=Tt(void 0),n=_i(()=>{const a=t();return e().filter(l=>DD(l,a))});function r(...a){return e.set(l=>[...a,...l]),()=>{e.set(l=>l.filter(c=>!a.includes(c)))}}function i(a){const l=Hl(t);return t.set(a),()=>t.set(l)}function s(a){return fc(a.document,{keydown:o})}function o(a){if(a.key===void 0||a.repeat||u0(a)||a.defaultPrevented)return;const c=Hl(e),u=Hl(t);for(const d of c)if(SNe(d,a)&&DD(d,u)&&d.action(a)!==!1){K.logEventWithStatsig("Keyboard Shortcut","keyboard_shortcut",{keyboardActionKey:d.key}),G.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:d.key}),a.preventDefault();return}}return{actions$:n,addAction:r,limitActionGroups:i,registerEventListener:s}}),PD=new WeakMap;function SNe(e,t){let n=PD.get(e);if(!n){const{keyboardBinding:r,altKeyboardBindings:i}=e,s=[r,...i??[]].map(o=>o.join("+"));n=bNe(s,{byKey:!0}),PD.set(e,n)}return n(t)}function DD(e,t){return!(e.enabled===!1||t!=null&&!t.includes(e.group))}function wNe(){const[e,t]=gg(),n=it(),r=Sn(),i=e.get(xv),s=e.get(kv),o=Cr();p.useEffect(()=>{let a=!1;if(o&&i==="true"){let c;o.isWorkspacePlan()?c=o.name??"Workspace":c="Personal",r.info(n.formatMessage({id:"S4JoJY",defaultMessage:"Switched to {name}"},{name:c})),a=!0}let l=!1;if(typeof s=="string"&&ENe(s)){const c=lY[s];r.danger(n.formatMessage(c),{toastId:"error_query_param",loggingTitle:s,loggingDescription:c.defaultMessage?String(c.defaultMessage):""}),l=!0}(e.has(xv)||e.has(kv))&&t(c=>(a&&c.delete(xv),l&&c.delete(kv),c),{replace:!0})},[i,o,s,n,e,t,r])}function ENe(e){return e in lY}const lY=Ot({invalidToken:{id:"UAhT32",defaultMessage:"The token is invalid"},continueFromApiGeneric:{id:"FHUH8C",defaultMessage:"Unable to continue your conversation"}});class h7{subscribers;constructor(t){this.subscribers=h7.createTypedEmitterAllEventSubscribers(t)||{}}publish(t,n){const r=this.subscribers[t]||{};for(const i of Object.values(r))i(n)}subscribe(t,n){const r=Vr();this.subscribers[t]||(this.subscribers[t]={});const i=this.subscribers[t];return i[r]=n,()=>{delete i[r]}}static createTypedEmitterAllEventSubscribers(t){return t.reduce((n,r)=>(n[r]={},n),{})}}class xNe extends h7{constructor(){super(Object.values(Iw))}getVersion(){return 1}}const kNe=new xNe;function TNe(){const e=me(),n=Ci(e).getContext().user,r=Cd(e),i=vn(e);p.useEffect(()=>{Wn&&(r?.accessToken&&r?.user?.id?Wn.publish(qa.LOGIN_CHANGED,{userId:r.user.id,accountId:i?.id,authToken:r.accessToken,statsigUser:n,email:r.user.email}):Wn.publish(qa.LOGOUT,{statsigUser:n}))},[i?.id,r?.accessToken,r?.user,i,n])}function uHe(e){const t=me(),n=fn(t).windowStyle;p.useEffect(()=>{if(Wn)return kNe.subscribe(Iw.WINDOW_VISIBILITY_STATE_CHANGED,r=>{r.windowType===n&&r.state==="hidden"&&e()})},[e,n])}function dHe(){return Wn?Wn.takePhoto():Promise.resolve(void 0)}function fHe(){return Wn?Wn.requestSystemPermission(pB.MICROPHONE):Promise.resolve(!0)}function hHe(){return Wn?Wn.takeScreenshot():Promise.resolve(void 0)}function ONe({children:e}){wNe(),oL&&TNe();const t=me();return p.useEffect(()=>CNe(t).registerEventListener(window),[t]),p.useEffect(()=>pNe(window),[]),g.jsx(g.Fragment,{children:e})}const ANe=60*60*24*30*3,INe=Fh(()=>be(()=>import("./dtpfza6h9i0ex0bu.js").then(e=>e.G),__vite__mapDeps([20,1,9,10,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,13,14,37,16,38,39,7,8,15,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67])).then(e=>e.GlobalModalsComponent));$re();function MNe(){return h9e(),null}oL&&be(()=>import("./fdxd0kk4umfy51ll.js"),__vite__mapDeps([68,9,1,10])).then(e=>e.initDesktop()),gi()&&be(()=>import("./hlwmuoo3lt87oe6a.js"),__vite__mapDeps([69,1])).then(e=>e.initHost());Cs(window.location.origin,"import.meta.env.VITE_APP_URL");function RNe({children:e}){"use forget";me();const[t,n]=p.useState(!1),r=Rr();p.useEffect(()=>{window._oaiHandleSessionExpired=function(s,o){window.location.href.includes("/auth/login")||(gi()&&fp()?.onMissingSessionAuth(),n(!0),K.logEvent("Account: Force Login Modal Shown",{content:`${s}: ${o}`}))}},[]);function i(s){try{const o=s.match(/^\/share\/(.+)$/);let a=qe.getCookie(je.SharedConversationId);if(!a&&o&&(a=o[1],qe.setCookie(je.SharedConversationId,a,{maxAge:ANe})),typeof a=="string"&&a&&_t.getUser()?.customIDs){const l=_t.getUser();l?.customIDs&&(l.customIDs.shared_conversation_id=a)}}catch(o){o instanceof Error?di.error("Error in shared conversation cookie code:",{message:o.message,stack:o.stack}):di.error("Unknown error in shared conversation cookie code:",{error:o})}}return p.useEffect(()=>{i(r.pathname),K.logPageView(),_t.logEvent("chatgpt_page_view",null,k6()),g$("openaicom-did")},[r.pathname,r.search,r.hash]),g.jsx(g.Fragment,{children:g.jsx(Rg,{name:"ui_boundary_error",fallback:({resetError:s,componentStack:o,error:a})=>g.jsx(XS,{resetError:s,componentStack:o,error:a}),logRequestErrors:!0,children:g.jsx(hNe,{children:g.jsxs(ONe,{children:[e,null,g.jsx(MNe,{}),g.jsx(NNe,{isOpen:t,onLogInClick:()=>{n(!1)}}),g.jsx(INe,{}),g.jsx(Ote,{}),g.jsx(Hoe,{}),!1]})})})})}const NNe=e=>{"use forget";const t=Te.c(16),{isOpen:n,onLogInClick:r}=e,i=it();let s;t[0]!==i?(s=i.formatMessage(K5.forceLogInModalTitle),t[0]=i,t[1]=s):s=t[1];let o;t[2]!==i?(o=i.formatMessage(K5.forceLogInModalDescription),t[2]=i,t[3]=o):o=t[3];let a;t[4]!==r?(a=async()=>{const d=await i4.signOut({redirect:!1,callbackUrl:`/auth/login?next=${encodeURIComponent(location.pathname+location.search+location.hash)}`});location.href=d.url,r()},t[4]=r,t[5]=a):a=t[5];let l;t[6]!==i?(l=i.formatMessage(K5.forceLogInModalButton),t[6]=i,t[7]=l):l=t[7];let c;t[8]!==a||t[9]!==l?(c=g.jsx(cs.Button,{onClick:a,title:l}),t[8]=a,t[9]=l,t[10]=c):c=t[10];let u;return t[11]!==n||t[12]!==s||t[13]!==o||t[14]!==c?(u=g.jsx(xs,{testId:"modal-expired-session",isOpen:n,icon:ed,title:s,description:o,type:"warning",onClose:zF,primaryButton:c}),t[11]=n,t[12]=s,t[13]=o,t[14]=c,t[15]=u):u=t[15],u},K5=Ot({forceLogInModalTitle:{id:"App.forceLogInModalTitle",defaultMessage:"Your session has expired"},forceLogInModalDescription:{id:"App.forceLogInModalDescription",defaultMessage:"Please log in again to continue using the app."},forceLogInModalButton:{id:"App.forceLogInModalButton",defaultMessage:"Log in"}});function PNe(e,t){return e.slice(0,t.length)===t}var DNe={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},xu=console,ku={};Object.keys(DNe).forEach(function(e){ku[e]=xu[e]});var af="Datadog Browser SDK:",LNe={debug:ku.debug.bind(xu,af),log:ku.log.bind(xu,af),info:ku.info.bind(xu,af),warn:ku.warn.bind(xu,af),error:ku.error.bind(xu,af)};function FNe(e,t,n){return n===void 0&&(n=!1),e.some(function(r){try{if(typeof r=="function")return r(t);if(r instanceof RegExp)return r.test(t);if(typeof r=="string")return n?PNe(t,r):r===t}catch(i){LNe.error(i)}return!1})}function jNe(e,t){try{return e()}catch(n){return t(n)}}function cY(e){return e instanceof Element?e:e.parentElement?cY(e.parentElement):null}function i1(e){const t=cY(e);if(t){const n=VD(t,void 0);if(n)return n}return e.nodeName}const BNe=e=>e.type==="childList"?e.addedNodes.length>0?`added ${i1(e.addedNodes[e.addedNodes.length-1])}`:e.removedNodes.length>0?`removed ${e.removedNodes[e.removedNodes.length-1].nodeName} from ${i1(e.target)}`:`unknown ${e.type}`:e.type==="characterData"?`characterData in ${i1(e.target)}`:`unknown ${e.type}`,LD="checkVisibility"in Element.prototype?e=>e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0}):e=>!e.hasAttribute("aria-hidden")&&!e.classList.contains("hidden");function UNe(e){if(document.head.contains(e))return!1;if(e instanceof Element)return LD(e);if(e instanceof Text){const t=e.parentElement;if(t!=null)return LD(t)}return!0}function p7(e){const t=[],n=e(r=>t.push(r));return()=>(n(),t)}class qNe{timeouts=new Set;add(t,n){const r=setTimeout(()=>{this.timeouts.delete(r),t()},n);this.timeouts.add(r)}clear(){for(const t of this.timeouts)clearTimeout(t);this.timeouts.clear()}}function Y5(e,t){try{if(e.type&&!PerformanceObserver.supportedEntryTypes.includes(e.type))return()=>{};const n=new PerformanceObserver(r=>{for(const i of r.getEntries())t(i)});return n.observe(e),()=>n.disconnect()}catch{return()=>{}}}function zNe({idleTimeout:e=5e3,minIdleGap:t=100,filter:n}={}){return new Promise((r,i)=>{let s=null;const o=()=>{s!=null&&clearTimeout(s),s=setTimeout(l,e)};o();const a=p7(c=>{function u(f){(!n||n(f))&&(c({start:f.startTime,end:f.startTime+f.duration}),o())}const d=[Y5({type:"resource",buffered:!0},u),Y5({type:"longtask",buffered:!0,durationThreshold:0},u),Y5({type:"navigation",buffered:!0},u)];return()=>{for(const f of d)f()}});function l(){try{const c=a();r(GNe(c,t))}catch(c){i(c)}}})}function GNe(e,t){const n=[];for(const{start:i,end:s}of e)n.push({t:i,delta:1}),n.push({t:s,delta:-1});n.sort((i,s)=>i.t===s.t?i.delta-s.delta:i.t-s.t);let r=0;for(let i=0;i<n.length;i++)if(r+=n[i].delta,r===0){const s=n[i].t,o=n[i+1];if(!o||o.t-s>=t)return s}throw new Error("no idle gap found")}function HNe(e){return`${e.type} ${e.target instanceof Node?i1(e.target):`(unknown target ${e.target})`}`}function VNe(e){return p7(t=>{const n=new qNe;function r(i){const s=performance.now();n.add(()=>{t({start:s,end:performance.now(),label:HNe(i)})})}for(const i of e)window.addEventListener(i,r,{capture:!0});return()=>{for(const i of e)window.removeEventListener(i,r,{capture:!0});n.clear()}})}function $Ne(e){return p7(t=>{const n=new MutationObserver(r=>{const i=Nm(r,e);i&&t({time:performance.now(),label:jNe(()=>BNe(i),s=>`error describing mutation: ${s}`)})});return n.observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!1}),()=>n.disconnect()})}const WNe=["pointerdown","touchend","input","keydown","mouseleave","mouseenter","drop","beforeinput","pointerenter","dragend","pointercancel","compositionupdate","mousedown","dragleave","dragover","mouseup","pointerover","lostpointercapture","mouseover","gotpointercapture","dblclick","keyup","keypress","pointerup","compositionstart","auxclick","dragstart","touchstart","compositionend","pointerout","dragenter","touchcancel","click","contextmenu","mouseout","pointerleave"];function KNe(e){return e instanceof Element&&e.hasAttribute("data-ignore-for-page-load")}function uY(e){return UNe(e)&&!KNe(e)}function YNe(e){for(const t of e)if(uY(t))return!0;return!1}async function ZNe(){if(typeof PerformanceObserver!="function")return{label:"no performance observer"};const e=WNe.filter(c=>!/(enter|leave|over|out)$/.test(c)),t=VNe(e),n=$Ne(c=>c.type==="childList"&&YNe(c.addedNodes)||c.type==="characterData"&&uY(c.target)),r=await zNe({filter:c=>c.duration!==0&&!(c.entryType==="resource"&&FNe(uL,c.name))}),i=t(),s=n(),o=i.find(c=>s.some(u=>c.start<u.time&&u.time<=c.end));if(o!=null&&o.start<r)return{label:"mutating input before page loaded",firstMutatingInput:o,pageIdle:r};const a=s.filter(c=>c.time<r+200),l=a.at(-1);return l?{...l,mutationsBeforeIdle:a.length,mutationsBeforeIdleList:a,pageIdle:r,firstMutatingInput:o}:{label:"no mutations before page idle",pageIdle:r,firstMutatingInput:o}}const JNe=5*60*1e3;function QNe(e){return Math.min(Math.max(e,0),JNe)}function FD(e){return{entryType:e.entryType,duration:e.duration,name:e.name,startTime:e.startTime,target:e.target instanceof Element?VD(e.target,void 0):void 0}}async function XNe(e){const t=await be(()=>import("./c0zax7gkhjidj8rn.js"),[]);if(!t)return;const{onCLS:n,onFCP:r,onLCP:i,onINP:s}=t,o=new Promise(C=>n(C)),a=new Promise(C=>r(C)),l=new Promise(C=>i(C));We(e,"622488229")&&s(C=>{try{G.addAction("web-vitals.inp-long",{id:C.id,delta:C.delta,rating:C.rating,attribution:{interactionTarget:C.attribution.interactionTarget,nextPaintTime:C.attribution.nextPaintTime,interactionTime:C.attribution.interactionTime,interactionType:C.attribution.interactionType,processedEventEntries:C.attribution.processedEventEntries.map(FD),inputDelay:C.attribution.inputDelay,processingDuration:C.attribution.processingDuration,presentationDelay:C.attribution.presentationDelay,loadState:C.attribution.loadState},navigationType:C.navigationType,name:C.name,value:C.value,entries:C.entries.map(FD)})}catch{}},{durationThreshold:500});const c=fn(e),u={country:c.userCountry??"unknown",continent:c.userContinent??"unknown",device:vg()?"mobile":"desktop",track:"stable",cluster:c.cluster},d=C=>S=>Cn.hist(gn.DEFAULT,`web.vitals.${C}`,u,S.value);o.then(d("cls")),a.then(d("fcp")),l.then(d("lcp"));const[f,h,m]=await Promise.all([o,a,l]),v=C=>Math.min(Math.max(C,0),5*60*1e3),_=v(f.value),y=v(h.value),b=v(m.value);_t.logEvent("chatgpt_web_vitals",b,{cls:String(f.value),fcp:String(h.value),lcp:String(m.value),cls_trimmed:String(_),fcp_trimmed:String(y),lcp_trimmed:String(b)})}function ePe(e){const t=window.__reactRouterManifest,n=new Set([t.entry].concat(e.map(i=>t.routes[i])).flatMap(i=>[i.module,...i.imports].map(s=>new URL(s,location.origin).toString()))),r=performance.getEntriesByType("resource").filter(i=>n.has(i.name));if(r.length===n.size){const i={transfer_size:r.reduce((s,o)=>s+o.transferSize,0),encoded_body_size:r.reduce((s,o)=>s+o.encodedBodySize,0),decoded_body_size:r.reduce((s,o)=>s+o.decodedBodySize,0)};G.addAction("pageLoad.jsResourceSizes",{...i,count:r.length,route_id:e[e.length-1],route_ids:e})}else G.addAction("pageLoad.jsResourceSizes.missing",{missing:n.difference?Array.from(n.difference(new Set(r.map(i=>i.name)))):null})}function tPe(){const e=p.useRef([]),t=p.useRef((n,r)=>{const i=setTimeout(n,r);return e.current.push(i),i});return p.useEffect(()=>{const n=e.current;return()=>{n.forEach(r=>{clearTimeout(r)})}},[]),t.current}function nPe(e){const{speed:t=100,value:n="",typing:r,onTyped:i,initTyped:s,chunk:o}=e,[a,l]=p.useState(0),c=p.useRef(void 0),u=tPe(),d=Owe();function f(h,m,v){c.current=u(function(){h>=m.length||(l(h+v),i?.(),f(h+v,m,v))},t)}return p.useEffect(()=>(l(s?n.length:0),r&&f(0,n,o?4:1),()=>{clearTimeout(c.current)}),[r,n]),g.jsxs(g.Fragment,{children:[g.jsx("span",{className:xe("whitespace-pre-wrap",a<n.length&&"result-streaming no-flow",d?"dark":"light"),children:g.jsx("span",{children:n.slice(0,a)})}),g.jsx("span",{className:"whitespace-pre-wrap text-transparent",children:n.slice(a)})]})}function rPe({showReturnHome:e=!1}){const t=p.useId(),n=zi(),[r]=p.useState(()=>{{const i=document.getElementById(t)?.dataset.index;if(i!=null)return parseInt(i)}return Math.floor(Math.random()*jD.length)});return g.jsx("section",{className:"flex h-screen flex-col items-center justify-center","data-index":r,id:t,children:g.jsxs("div",{children:[g.jsxs("h3",{children:[g.jsx(oE,{className:"mb-2 h-6 w-6 align-baseline"}),"404 Not Found"]}),g.jsx("p",{className:"mt-2 max-w-lg pb-6",children:g.jsx(nPe,{value:jD[r].message,typing:!0,speed:150,chunk:!0})}),e&&g.jsx(Vt,{color:"primary",onClick:()=>{K.logEventWithStatsig("404 Page Return Home Button Clicked","chatgpt_404_page_return_home_button_clicked"),n("/")},children:g.jsx(Ce,{id:"Cc1py2",defaultMessage:"Go to ChatGPT"})})]})})}const jD=[{message:`Lost in the vast web,
Where you sought, there's only void—
Nothingness awaits.`},{message:`Paths cross empty void
Seeking what once existed
Silence answers all.`},{message:`Where we are, there's only air,
A page misplaced, it isn't there.
In the void where data fades,
Questions linger, answers evade.
Not all paths lead where we care.`},{message:`Where the page should be,
Empty space and missing words—
A void in the code.`},{message:`The link was a dream,
A shadow of what once was—
Now, nothing remains.`},{message:`In the heat of day,
The path dissolves to nothing—
An empty mirage.`}],iPe=p.createContext({cspNonce:""});function sPe(){"use forget";const e=Te.c(8),t=UD(),{cspNonce:n}=p.useContext(iPe);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=g.jsxs("head",{children:[g.jsx("meta",{charSet:"UTF-8"}),g.jsx($D,{})]}),e[0]=r):r=e[0];let i;e[1]!==t?(i=VY(t)?t.status===404?g.jsx(rPe,{}):g.jsx(XS,{error:new Error(`Route Error (${t.status} ${t.statusText}): ${t.message}`),resetError:aPe}):g.jsx(XS,{error:t,resetError:oPe}),e[1]=t,e[2]=i):i=e[2];let s;e[3]!==n?(s=g.jsx(WD,{nonce:n}),e[3]=n,e[4]=s):s=e[4];let o;return e[5]!==i||e[6]!==s?(o=g.jsxs("html",{"data-build":bd,suppressHydrationWarning:!0,children:[r,g.jsxs("body",{children:[i,s]})]}),e[5]=i,e[6]=s,e[7]=o):o=e[7],o}function oPe(){return location.reload()}function aPe(){return location.reload()}const lPe=30;function cPe(){const e=Kt.getItem(qt.LastPageLoadDate),t=new Date,n=typeof e=="string"?new Date(e):null,r=Math.min(n!=null?Math.floor((t.getTime()-n.getTime())/(1e3*60*60)):1/0,lPe*24),i=Math.floor(r/24);Kt.setItem(qt.LastPageLoadDate,t.toISOString()),G.addAction("time_since_last_page_load",{hoursSinceLastPageLoad:r,daysSinceLastPageLoad:i})}function uPe(){const e=window.document;let t,n;const r=s=>{t=s,cancelAnimationFrame(n),requestAnimationFrame(()=>{n=requestAnimationFrame(()=>{t=void 0})})},i={capture:!0,passive:!0};e.addEventListener("pointerdown",s=>{r(s.pointerType==="touch"?"touch":"mouse")},i),e.addEventListener("keydown",()=>{r("keyboard")},i),e.addEventListener("focusin",()=>{JB(e.documentElement,"data-focus-mode",t)},i)}const BD="rq:";function dPe(e){const t=[],n=[];for(const r of e)if(r.data){for(const[i,s]of Object.entries(r.data))if(i.startsWith(BD)){const o=i.substring(BD.length);QK(s)?n.push({queryHash:o,queryKey:JSON.parse(o),state:{fetchStatus:"fetching",status:"pending"},promise:s}):t.push({queryHash:o,queryKey:JSON.parse(o),state:{...s,data:s.data}})}}return{staticQueries:t,promiseQueries:n}}function fPe(){const e=mg();return p.useMemo(()=>dPe(e),[e])}const Z5=[];function hPe(e,t){for(const n of t)if(e.getQueryState(n.queryKey)==null){let r;const i=new Promise(s=>{r=s});Z5.push(r),KD(e,{queries:[{...n,promise:i.then(()=>Cs(n.promise,"missing react-query hydration promise")).catch(s=>{throw tL.yield().then(()=>{e.refetchQueries({queryKey:n.queryKey,exact:!0})}),G.addAction("react-query.prefetch-hydration.error",{queryKey:JSON.stringify(n.queryKey),error:s}),s})}]})}aq(()=>{for(const n of Z5)n();Z5.length=0},[t])}_we(),uPe();const pHe=()=>!1,mHe=()=>[{title:"ChatGPT"},...Goe],gHe=JY(sPe);function pPe(e){"use forget";const t=Te.c(47),{children:n,isSearchPage:r,isOrla:i,isEdgeToEdge:s,isElectron:o,isIos:a,isAndroidChrome:l,windowStyle:c,isContainerOTR:u,ddTraceMetadata:d,cspScriptNonce:f,lang:h,pathname:m}=e,v=(h&&Nj.has(h),"ltr"),_=o===!0||!1;let y;t[0]!==i||t[1]!==r||t[2]!==_?(y=xe({"snc-root":r,"mini-root":i,"sdtrn-root":_}),t[0]=i,t[1]=r,t[2]=_,t[3]=y):y=t[3];let b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b=g.jsx("meta",{charSet:"UTF-8"}),t[4]=b):b=t[4];const C=`width=device-width, initial-scale=1${a?", maximum-scale=1":""}${s?", viewport-fit=cover":""}`;let S;t[5]!==C?(S=g.jsx("meta",{name:"viewport",content:C}),t[5]=C,t[6]=S):S=t[6];let x;t[7]===Symbol.for("react.memo_cache_sentinel")?(x=g.jsx(YY,{}),t[7]=x):x=t[7];let w;t[8]!==l?(w=l?g.jsx(Voe,{}):null,t[8]=l,t[9]=w):w=t[9];let E;t[10]===Symbol.for("react.memo_cache_sentinel")?(E=g.jsx(Woe,{}),t[10]=E):E=t[10];const T=m??"";let O;t[11]!==T?(O=g.jsx($oe,{pathname:T}),t[11]=T,t[12]=O):O=t[12];let k;t[13]!==d?(k=d?g.jsxs(g.Fragment,{children:[g.jsx("meta",{name:"dd-trace-id",content:d.traceId}),g.jsx("meta",{name:"dd-trace-time",content:`${d.traceTime}`})]}):null,t[13]=d,t[14]=k):k=t[14];let A,I;t[15]===Symbol.for("react.memo_cache_sentinel")?(A=g.jsx(Koe,{}),I=g.jsx($D,{}),t[15]=A,t[16]=I):(A=t[15],I=t[16]);let P;t[17]!==f?(P=g.jsx("script",{nonce:f,suppressHydrationWarning:!0,children:'!function initScrollTimelineInline(){try{if(CSS.supports("animation-timeline: --works"))return;var t=new Map;document.addEventListener("animationstart",(n=>{if(!(n.target instanceof HTMLElement))return;const e=n.target.getAnimations().filter((t=>t.animationName===n.animationName));t.set(n.target,e)})),document.addEventListener("scrolltimelineload",(n=>{t.forEach(((t,e)=>{t.forEach((t=>{n.detail.upgradeAnimation(t,e)}))})),t.clear()}),{once:!0})}catch{}}();'}),t[17]=f,t[18]=P):P=t[18];let D;t[19]!==O||t[20]!==k||t[21]!==P||t[22]!==S||t[23]!==w?(D=g.jsxs("head",{children:[b,S,x,w,E,O,k,A,I,P]}),t[19]=O,t[20]=k,t[21]=P,t[22]=S,t[23]=w,t[24]=D):D=t[24];let R;t[25]!==i||t[26]!==r?(R=xe({snc:r,mini:i}),t[25]=i,t[26]=r,t[27]=R):R=t[27];let F;t[28]!==f||t[29]!==u?(F={cspScriptNonce:f,isContainerOTR:u},t[28]=f,t[29]=u,t[30]=F):F=t[30];let j;t[31]!==n||t[32]!==F?(j=g.jsx(d9e.Provider,{value:F,children:n}),t[31]=n,t[32]=F,t[33]=j):j=t[33];let V;t[34]!==f?(V=g.jsx(WD,{nonce:f}),t[34]=f,t[35]=V):V=t[35];let B;t[36]!==R||t[37]!==j||t[38]!==V||t[39]!==c?(B=g.jsxs("body",{className:R,"data-window-style":c,children:[j,V]}),t[36]=R,t[37]=j,t[38]=V,t[39]=c,t[40]=B):B=t[40];let M;return t[41]!==v||t[42]!==h||t[43]!==D||t[44]!==y||t[45]!==B?(M=g.jsxs("html",{lang:h,"data-build":bd,dir:v,className:y,suppressHydrationWarning:!0,children:[D,B]}),t[41]=v,t[42]=h,t[43]=D,t[44]=y,t[45]=B,t[46]=M):M=t[46],M}const vHe=ZY(function(t){"use forget";const{clientBootstrap:n,cspScriptNonce:r,dd:i,statsigGateEvaluationsPromise:s,promoteCss:o,disableSSR:a}=e4();{kr.setGlobalContextProperty("cluster",n.cluster),G.addFeatureFlagEvaluation("promote_css",o),G.addFeatureFlagEvaluation("disable_ssr",!!a);for(const[w,E]of Object.entries(n.session?.rumViewTags??{}))kr.setViewContextProperty(w,E)}const l=p.useCallback(()=>{const w=Lt()??ZD();return iZ(w,n),w},[n]),[c,u]=p.useState(()=>l());c||(G.addError(new Error("Context not generated during intialization.")),u(l()));const d=Qa(c);p.useEffect(()=>{u9e(c)},[c]),bX(),p.useEffect(()=>{cPe(),XNe(c),ZNe().then(w=>{if("pageIdle"in w&&G.addFirstTiming("pageLoad.pageIdle",performance.timeOrigin+w.pageIdle),"time"in w&&w.time!=null){const E=w.time,T=QNe(E);G.addFirstTiming("pageLoad.lastMutation",performance.timeOrigin+E),G.addAction("pageLoad.lastMutation",w),_t.logEvent("chatgpt_web_last_mutation_time",void 0,{raw_duration_ms:String(E),trimmed_duration_ms:String(T)})}else G.addAction("pageLoad.withoutTiming",w);if("mutationsBeforeIdleList"in w)for(const E of w.mutationsBeforeIdleList)G.addAction("pageLoad.mutation",E)}),vPe(c)},[c]);const{staticQueries:f,promiseQueries:h}=fPe(),m=p.useMemo(()=>({queries:[...f],mutations:[]}),[f]);gPe(d,h);const v=mg().map(w=>w.id),[_]=p.useState(()=>{{KD(d,m),d4e(c,d),s4e(c,n,d),s.then(w=>{for(const[E,T]of Object.entries(w))G.addFeatureFlagEvaluation(E,T)});try{ePe(v)}catch(w){G.addError(w)}}return!0}),{pathname:y}=Rr(),b=y.startsWith("/search"),C=$o(c),S=Ci(c).checkGate("1536947154"),x=!!a;return g.jsx(XY,{sessionContext:c,children:g.jsx(pPe,{lang:n.locale,isIos:n.isIos,isAndroidChrome:n.isAndroidChrome,isElectron:n.isElectron,isEdgeToEdge:S,isOrla:C,isSearchPage:b,cspScriptNonce:r,ddTraceMetadata:i,windowStyle:n.windowStyle,isContainerOTR:n.isContainerOTR,pathname:y,children:g.jsx(ZSe,{children:g.jsx(Cwe,{attribute:"class",children:g.jsx(mPe,{disableSSR:x,children:g.jsxs($Y,{client:d,children:[g.jsx(woe,{cspScriptNonce:r}),g.jsx(WY,{state:m,children:g.jsx(RNe,{children:g.jsx(KY,{})})})]})})})})})})});function mPe(e){"use forget";const t=Te.c(4),{children:n,disableSSR:r}=e;if(!r){let s;return t[0]!==n?(s=g.jsx(g.Fragment,{children:n}),t[0]=n,t[1]=s):s=t[1],s}let i;return t[2]!==n?(i=g.jsx(DF,{fallback:null,children:n}),t[2]=n,t[3]=i):i=t[3],i}const gPe=hPe;function vPe(e){Roe(e).composer.autofocusDisabled$()&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{const n=document.querySelector("h1")??o4e({root:document.body});n instanceof HTMLElement&&typeof n.focus=="function"&&n.focus()})})}export{CSe as $,Ye as A,Vt as B,xs as C,xge as D,kge as E,yB as F,R4 as G,vn as H,ve as I,Ed as J,rl as K,b0e as L,qt as M,gn as N,Ste as O,K as P,kDe as Q,ue as R,$f as S,Se as T,Ec as U,_Se as V,Kt as W,uc as X,zh as Y,Wt as Z,r0 as _,dB as a,Ci as a$,mm as a0,zF as a1,iAe as a2,bGe as a3,FPe as a4,_t as a5,gi as a6,fee as a7,KPe as a8,lee as a9,Df as aA,Sre as aB,He as aC,Ooe as aD,XGe as aE,JS as aF,xf as aG,o$ as aH,_g as aI,EPe as aJ,MPe as aK,QNe as aL,Ah as aM,xte as aN,xc as aO,Yt as aP,et as aQ,Kw as aR,f0 as aS,hU as aT,Yw as aU,fU as aV,O6e as aW,m3e as aX,oE as aY,Cr as aZ,fn as a_,G as aa,wB as ab,ALe as ac,a_e as ad,USe as ae,KSe as af,Pre as ag,du as ah,aAe as ai,$t as aj,Ede as ak,Ad as al,cs as am,CRe as an,op as ao,Yo as ap,H6e as aq,cn as ar,Pw as as,EGe as at,Tze as au,kt as av,ODe as aw,ADe as ax,qg as ay,Tf as az,Xg as b,be as b$,G6e as b0,$r as b1,Sn as b2,lLe as b3,qT as b4,uw as b5,Ko as b6,$9 as b7,ZB as b8,hB as b9,OPe as bA,Ev as bB,Xt as bC,jM as bD,iSe as bE,sl as bF,Uwe as bG,iM as bH,Ac as bI,oge as bJ,P9 as bK,Jh as bL,oje as bM,k3e as bN,a3e as bO,zUe as bP,F9 as bQ,Md as bR,G3e as bS,Fn as bT,YV as bU,q as bV,_V as bW,pLe as bX,zB as bY,bV as bZ,Fh as b_,fLe as ba,_h as bb,bj as bc,sU as bd,Sd as be,ws as bf,Bi as bg,In as bh,DDe as bi,PDe as bj,X4 as bk,Dh as bl,$F as bm,ac as bn,Gne as bo,hj as bp,pj as bq,mj as br,Yne as bs,gj as bt,VF as bu,vj as bv,_j as bw,yj as bx,Xne as by,a4e as bz,aq as c,jE as c$,$6e as c0,Vg as c1,kf as c2,f3e as c3,v3e as c4,md as c5,cLe as c6,tie as c7,eie as c8,yze as c9,Jg as cA,a0 as cB,DB as cC,jw as cD,qh as cE,Ew as cF,Gi as cG,w5e as cH,T5e as cI,hw as cJ,Sw as cK,ro as cL,b5e as cM,nl as cN,dc as cO,Hg as cP,wAe as cQ,dt as cR,$S as cS,IGe as cT,kn as cU,Uqe as cV,Mee as cW,ZLe as cX,JLe as cY,tce as cZ,hh as c_,bte as ca,sC as cb,Up as cc,Bt as cd,$w as ce,hn as cf,pge as cg,E5e as ch,Bw as ci,ts as cj,QPe as ck,XPe as cl,Uee as cm,nDe as cn,qee as co,fc as cp,TLe as cq,Cs as cr,bi as cs,q1e as ct,ld as cu,Pl as cv,js as cw,wW as cx,REe as cy,gge as cz,nY as d,Nh as d$,It as d0,A6 as d1,J6e as d2,dBe as d3,cEe as d4,oo as d5,Za as d6,pS as d7,ii as d8,ut as d9,iE as dA,OGe as dB,Bh as dC,mLe as dD,gLe as dE,vLe as dF,AZ as dG,l4 as dH,Rg as dI,Hae as dJ,l3e as dK,hm as dL,TG as dM,IBe as dN,KCe as dO,Wa as dP,JFe as dQ,gze as dR,Or as dS,ol as dT,mze as dU,j9 as dV,nje as dW,qge as dX,yG as dY,mje as dZ,ip as d_,Zze as da,iB as db,k_e as dc,gBe as dd,LG as de,O_e as df,wSe as dg,c0 as dh,h0e as di,yPe as dj,Oze as dk,f9e as dl,en as dm,Th as dn,$g as dp,yBe as dq,no as dr,DF as ds,nEe as dt,Ui as du,qu as dv,SW as dw,iGe as dx,d9 as dy,CNe as dz,me as e,U_e as e$,Pi as e0,e$ as e1,xj as e2,hd as e3,uFe as e4,mFe as e5,gq as e6,s1 as e7,oG as e8,qde as e9,T_e as eA,N6e as eB,gle as eC,vle as eD,Tfe as eE,s0e as eF,r$ as eG,Wh as eH,Jre as eI,Gh as eJ,ile as eK,n$ as eL,nr as eM,ele as eN,wje as eO,nSe as eP,X6e as eQ,Uw as eR,Hw as eS,Eje as eT,JK as eU,Mj as eV,FEe as eW,Xre as eX,DPe as eY,eze as eZ,P6e as e_,uZ as ea,vFe as eb,JMe as ec,Tr as ed,TRe as ee,Nm as ef,L_e as eg,xee as eh,vt as ei,Oh as ej,nE as ek,WUe as el,g0 as em,a9 as en,Ks as eo,YU as ep,zne as eq,U4 as er,td as es,JF as et,B4 as eu,Ph as ev,ZU as ew,JU as ex,ESe as ey,c$ as ez,Gs as f,XB as f$,gFe as f0,t$ as f1,jwe as f2,KFe as f3,i0 as f4,zn as f5,bUe as f6,iUe as f7,aUe as f8,Vn as f9,Y6e as fA,u3e as fB,VDe as fC,xqe as fD,bq as fE,kqe as fF,Qqe as fG,fze as fH,DM as fI,dze as fJ,hze as fK,yqe as fL,vqe as fM,bqe as fN,fqe as fO,pBe as fP,mBe as fQ,dLe as fR,G_e as fS,Tqe as fT,M4 as fU,aee as fV,SBe as fW,nL as fX,dG as fY,fV as fZ,Ple as f_,Lt as fa,XBe as fb,$e as fc,pfe as fd,zV as fe,MK as ff,Cf as fg,bW as fh,dae as fi,EB as fj,Zo as fk,Tt as fl,_i as fm,v0e as fn,VFe as fo,ch as fp,g4 as fq,yX as fr,NFe as fs,xGe as ft,MFe as fu,jee as fv,Z6e as fw,nge as fx,r6e as fy,PFe as fz,Qt as g,bje as g$,jB as g0,D8 as g1,fDe as g2,pte as g3,dDe as g4,mte as g5,hDe as g6,gte as g7,pDe as g8,uDe as g9,lse as gA,Gae as gB,h6 as gC,EG as gD,eDe as gE,rDe as gF,JPe as gG,tDe as gH,Ra as gI,ZPe as gJ,Gze as gK,cze as gL,TSe as gM,Dze as gN,_ae as gO,D6e as gP,Sj as gQ,gs as gR,Ne as gS,BDe as gT,Cj as gU,fp as gV,xre as gW,$Ge as gX,iLe as gY,KB as gZ,XV as g_,gDe as ga,vg as gb,$Le as gc,ed as gd,G6 as ge,Dd as gf,eee as gg,iU as gh,ji as gi,Aje as gj,qve as gk,wFe as gl,pW as gm,Br as gn,nze as go,rze as gp,rO as gq,Xse as gr,bee as gs,bBe as gt,CBe as gu,gGe as gv,vGe as gw,lqe as gx,ECe as gy,pX as gz,qe as h,vUe as h$,Bu as h0,ZGe as h1,Ps as h2,c_e as h3,W3e as h4,V3e as h5,K3e as h6,H3e as h7,$3e as h8,Xh as h9,nUe as hA,D5e as hB,Vf as hC,DRe as hD,OLe as hE,jW as hF,Ele as hG,YGe as hH,wc as hI,Ho as hJ,FLe as hK,Cq as hL,pUe as hM,uLe as hN,fE as hO,zBe as hP,U5e as hQ,cUe as hR,jBe as hS,mUe as hT,$he as hU,Ioe as hV,eZ as hW,dUe as hX,KBe as hY,HGe as hZ,VLe as h_,lr as ha,hFe as hb,Rge as hc,Ege as hd,L9 as he,pG as hf,mG as hg,vG as hh,gG as hi,JCe as hj,Nfe as hk,SLe as hl,YDe as hm,Ode as hn,X2e as ho,Ja as hp,Vs as hq,MV as hr,ZBe as hs,YBe as ht,b0 as hu,Sje as hv,BB as hw,sd as hx,km as hy,QBe as hz,dn as i,Pce as i$,yfe as i0,pD as i1,PK as i2,QCe as i3,tw as i4,u9 as i5,NE as i6,p6 as i7,x6e as i8,xPe as i9,L4 as iA,BF as iB,Sze as iC,OZ as iD,Ale as iE,Mle as iF,cqe as iG,oSe as iH,Bze as iI,Ije as iJ,zr as iK,Zk as iL,a4 as iM,ec as iN,Hl as iO,BE as iP,Oc as iQ,f9 as iR,Aoe as iS,EW as iT,Lze as iU,Bje as iV,pF as iW,GLe as iX,Nqe as iY,Qa as iZ,Go as i_,Pze as ia,yV as ib,xBe as ic,GGe as id,s0 as ie,QGe as ig,JGe as ih,hRe as ii,bre as ij,nZ as ik,Lee as il,lHe as im,iHe as io,sHe as ip,RD as iq,oHe as ir,aHe as is,rle as it,zw as iu,_ze as iv,_E as iw,kde as ix,iFe as iy,HF as iz,je as j,A0 as j$,QLe as j0,Oue as j1,Iue as j2,Mue as j3,Nue as j4,Pue as j5,Lue as j6,Due as j7,Rue as j8,bue as j9,PPe as jA,NPe as jB,I9 as jC,rG as jD,O0 as jE,R9 as jF,S1e as jG,I1e as jH,w1e as jI,N1e as jJ,bw as jK,Cw as jL,Vj as jM,Xj as jN,gw as jO,hge as jP,IPe as jQ,MLe as jR,cq as jS,Pe as jT,tC as jU,Wf as jV,KUe as jW,YUe as jX,xS as jY,GBe as jZ,qBe as j_,ABe as ja,Ete as jb,vre as jc,MDe as jd,wte as je,Ia as jf,z5e as jg,T6e as jh,c4 as ji,cHe as jj,Wn as jk,RLe as jl,NLe as jm,T9e as jn,UDe as jo,zFe as jp,GFe as jq,qFe as jr,xG as js,_X as jt,fFe as ju,qGe as jv,Ng as jw,FE as jx,ree as jy,iee as jz,fB as k,gF as k$,z3e as k0,AV as k1,OV as k2,Q3e as k3,WBe as k4,uUe as k5,WT as k6,aGe as k7,hLe as k8,BFe as k9,_u as kA,$h as kB,hSe as kC,pSe as kD,oze as kE,HDe as kF,Zje as kG,wIe as kH,wGe as kI,wDe as kJ,mGe as kK,uBe as kL,Fje as kM,jV as kN,Pn as kO,cGe as kP,Ug as kQ,zDe as kR,ZDe as kS,GDe as kT,jPe as kU,n5e as kV,BBe as kW,UBe as kX,hHe as kY,dHe as kZ,$De as k_,dE as ka,GV as kb,TFe as kc,Tle as kd,Bwe as ke,ate as kf,FF as kg,yee as kh,eLe as ki,aDe as kj,Rfe as kk,Ka as kl,W6e as km,Pve as kn,jve as ko,EDe as kp,CGe as kq,yre as kr,Nre as ks,WSe as kt,_re as ku,lGe as kv,R0 as kw,Qre as kx,IUe as ky,RDe as kz,di as l,Nu as l$,jDe as l0,HLe as l1,p$ as l2,QRe as l3,KRe as l4,C5e as l5,xd as l6,xLe as l7,Yr as l8,WLe as l9,kPe as lA,yUe as lB,m0e as lC,PGe as lD,xo as lE,d9e as lF,Roe as lG,Dt as lH,RK as lI,DGe as lJ,g0e as lK,$Fe as lL,tL as lM,Q7 as lN,fHe as lO,iz as lP,LFe as lQ,UFe as lR,FFe as lS,kje as lT,Tje as lU,p0e as lV,bH as lW,xle as lX,Jze as lY,Qze as lZ,oEe as l_,si as la,OBe as lb,q0 as lc,dye as ld,H_e as le,L3e as lf,AUe as lg,Bde as lh,Ole as li,u0 as lj,Lge as lk,Fge as ll,I0 as lm,fje as ln,vje as lo,yje as lp,_je as lq,uNe as lr,pIe as ls,WS as lt,Vo as lu,vp as lv,nfe as lw,hE as lx,sp as ly,eHe as lz,lEe as m,QMe as m$,Rle as m0,tPe as m1,n9e as m2,O0e as m3,Lje as m4,uqe as m5,uge as m6,ZY as m7,tze as m8,_Ge as m9,Cd as mA,Qf as mB,CFe as mC,eUe as mD,Tie as mE,Nee as mF,Ree as mG,kW as mH,NEe as mI,wEe as mJ,bze as mK,wu as mL,vze as mM,CK as mN,SGe as mO,m9e as mP,jc as mQ,Eee as mR,ize as mS,sze as mT,rge as mU,UE as mV,cae as mW,kte as mX,VPe as mY,wRe as mZ,eg as m_,yGe as ma,Mae as mb,Uo as mc,o3e as md,_r as me,Hje as mf,Vse as mg,T6 as mh,yLe as mi,A1 as mj,rbe as mk,wK as ml,SK as mm,bRe as mn,uGe as mo,Zr as mp,hGe as mq,_K as mr,wOe as ms,VOe as mt,dGe as mu,c3e as mv,j9e as mw,YPe as mx,pye as my,fye as mz,fO as n,gHe as n$,J9e as n0,n8 as n1,QB as n2,Ize as n3,Nze as n4,HPe as n5,Uze as n6,d6e as n7,Ige as n8,_G as n9,ILe as nA,sGe as nB,sje as nC,uye as nD,roe as nE,RBe as nF,L6e as nG,aqe as nH,pqe as nI,mS as nJ,q5 as nK,VGe as nL,Cje as nM,WRe as nN,Iqe as nO,gje as nP,i6e as nQ,iae as nR,S9e as nS,g3e as nT,Cte as nU,tHe as nV,bc as nW,Yp as nX,fL as nY,pHe as nZ,mHe as n_,Oge as na,Tge as nb,H6 as nc,ELe as nd,koe as ne,wj as nf,hqe as ng,zGe as nh,cge as ni,wre as nj,age as nk,LRe as nl,Cre as nm,see as nn,ije as no,rje as np,nce as nq,DLe as nr,eSe as ns,R6e as nt,nw as nu,wee as nv,sqe as nw,_ge as nx,sB as ny,MB as nz,poe as o,iie as o$,vHe as o0,Ou as o1,zge as o2,tqe as o3,wde as o4,lFe as o5,M5e as o6,NDe as o7,DBe as o8,SV as o9,BT as oA,ss as oB,Uge as oC,hje as oD,_6e as oE,uG as oF,rPe as oG,_ee as oH,yK as oI,qa as oJ,kNe as oK,Iw as oL,Aze as oM,qs as oN,jh as oO,tUe as oP,un as oQ,hG as oR,rLe as oS,Ere as oT,IEe as oU,kFe as oV,Iee as oW,Aee as oX,Oee as oY,De as oZ,Ee as o_,eAe as oa,EOe as ob,aze as oc,aSe as od,P8 as oe,i2 as of,K0 as og,SFe as oh,_Ue as oi,xFe as oj,tge as ok,Tse as ol,sLe as om,RPe as on,n3e as oo,Poe as op,Goe as oq,aLe as or,mq as os,cFe as ot,pq as ou,Fee as ov,oLe as ow,xse as ox,CEe as oy,gie as oz,We as p,oDe as p$,Rj as p0,qp as p1,wge as p2,lge as p3,D9 as p4,lG as p5,ste as p6,cDe as p7,Dwe as p8,zwe as p9,gUe as pA,x6 as pB,Io as pC,tle as pD,Ic as pE,aje as pF,lje as pG,cje as pH,i3e as pI,OUe as pJ,Pqe as pK,Lqe as pL,oae as pM,I6 as pN,oGe as pO,tje as pP,UUe as pQ,Qae as pR,Oje as pS,JUe as pT,QUe as pU,cpe as pV,$a as pW,j1 as pX,zk as pY,_Le as pZ,fte as p_,uze as pa,JD as pb,G0 as pc,OSe as pd,ULe as pe,qLe as pf,aw as pg,sNe as ph,za as pi,SSe as pj,VBe as pk,lM as pl,c5e as pm,lUe as pn,oUe as po,$Be as pp,XUe as pq,dq as pr,GUe as ps,hse as pt,Qg as pu,kw as pv,Rae as pw,jLe as px,j5e as py,hUe as pz,AF as q,eBe as q$,sDe as q0,lte as q1,ute as q2,Fze as q3,yFe as q4,aae as q5,LPe as q6,PLe as q7,DEe as q8,Xde as q9,jqe as qA,Yqe as qB,gre as qC,i$ as qD,ZSe as qE,EBe as qF,sye as qG,Fqe as qH,JRe as qI,u1e as qJ,Ts as qK,ghe as qL,Yq as qM,AFe as qN,F6e as qO,_qe as qP,Oqe as qQ,Cqe as qR,qqe as qS,zqe as qT,Gqe as qU,Aqe as qV,QX as qW,cBe as qX,pa as qY,ll as qZ,tBe as q_,Zqe as qa,vBe as qb,fBe as qc,hBe as qd,Kqe as qe,_Be as qf,$qe as qg,jze as qh,vae as qi,xDe as qj,sUe as qk,Fl as ql,ew as qm,MS as qn,LDe as qo,Fwe as qp,zLe as qq,EFe as qr,_Fe as qs,vIe as qt,wD as qu,JV as qv,zae as qw,UB as qx,J3e as qy,fS as qz,$o as r,CUe as r$,nBe as r0,rBe as r1,iBe as r2,oBe as r3,aBe as r4,Qje as r5,lBe as r6,Jje as r7,See as r8,GPe as r9,BRe as rA,wBe as rB,Rqe as rC,Mqe as rD,zde as rE,Q1e as rF,h1e as rG,HFe as rH,JA as rI,Yoe as rJ,WFe as rK,cE as rL,Xn as rM,wUe as rN,wV as rO,dje as rP,LBe as rQ,P3e as rR,D3e as rS,moe as rT,Mf as rU,WDe as rV,uje as rW,rqe as rX,xje as rY,d1e as rZ,Jqe as r_,Cee as ra,eGe as rb,gW as rc,eFe as rd,yte as re,_De as rf,yDe as rg,mDe as rh,Dde as ri,vDe as rj,CDe as rk,SDe as rl,gqe as rm,E0e as rn,kG as ro,$je as rp,Lve as rq,_I as rr,Mje as rs,ige as rt,rGe as ru,YFe as rv,Yse as rw,U8e as rx,WGe as ry,KGe as rz,F4 as s,b3e as s$,wqe as s0,HBe as s1,AGe as s2,DFe as s3,R9e as s4,qze as s5,NGe as s6,MGe as s7,eG as s8,nLe as s9,tGe as sA,nGe as sB,Xje as sC,sBe as sD,$Ue as sE,u4 as sF,d4 as sG,kLe as sH,Twe as sI,DE as sJ,pFe as sK,MRe as sL,kGe as sM,TGe as sN,qDe as sO,zze as sP,bFe as sQ,Mze as sR,Rze as sS,b9e as sT,Xze as sU,LEe as sV,lze as sW,Aa as sX,Vje as sY,CV as sZ,y3e as s_,tLe as sa,RGe as sb,kee as sc,oqe as sd,bDe as se,lDe as sf,IDe as sg,xw as sh,Lae as si,Iae as sj,kBe as sk,kM as sl,iRe as sm,vr as sn,so,ln as sp,Gr as sq,M6 as sr,bNe as ss,yW as st,n6e as su,dqe as sv,Sqe as sw,Bqe as sx,Hqe as sy,Vqe as sz,Owe as t,pi as t$,C3e as t0,S3e as t1,w3e as t2,E3e as t3,PBe as t4,sE as t5,ebe as t6,t3e as t7,T3e as t8,O3e as t9,qje as tA,pje as tB,AS as tC,SUe as tD,aFe as tE,BUe as tF,R3e as tG,c6e as tH,Wj as tI,N_e as tJ,Kj as tK,P_e as tL,ibe as tM,Kze as tN,Xqe as tO,F9e as tP,Fd as tQ,$ze as tR,Wze as tS,Yze as tT,Vze as tU,Hze as tV,OFe as tW,Fhe as tX,E0 as tY,Xhe as tZ,IFe as t_,sM as ta,I3e as tb,Dqe as tc,FG as td,tre as te,FDe as tf,Uje as tg,Ls as th,Yu as ti,kEe as tj,OEe as tk,xW as tl,Uve as tm,Pje as tn,Yje as to,i_e as tp,Gje as tq,Kje as tr,Wje as ts,H1 as tt,Dje as tu,M0e as tv,jje as tw,Nje as tx,zje as ty,Rje as tz,IRe as u,FGe as u$,Mt as u0,Bm as u1,qfe as u2,p9 as u3,Ixe as u4,$Te as u5,Y7e as u6,jFe as u7,z9e as u8,nHe as u9,Xz as uA,Ahe as uB,Ru as uC,RFe as uD,Yme as uE,Hme as uF,rh as uG,tG as uH,rHe as uI,Dfe as uJ,_p as uK,ase as uL,JBe as uM,$Pe as uN,Dee as uO,Pee as uP,DK as uQ,LGe as uR,UGe as uS,jGe as uT,ri as uU,BMe as uV,BK as uW,ZS as uX,BGe as uY,yD as uZ,CMe as u_,WPe as ua,uHe as ub,Cze as uc,n0 as ud,xoe as ue,Cae as uf,fGe as ug,rg as uh,J7e as ui,Y0 as uj,zE as uk,d7e as ul,KDe as um,BLe as un,Mre as uo,Bee as up,wPe as uq,xa as ur,Hs as us,zu as ut,at as uu,mi as uv,LO as uw,hpe as ux,ehe as uy,Kn as uz,Cn as v,rFe as v$,mMe as v0,_D as v1,vD as v2,$Ie as v3,Sf as v4,vte as v5,TDe as v6,jF as v7,xde as v8,YCe as v9,X3e as vA,e5e as vB,QFe as vC,qUe as vD,XFe as vE,eje as vF,xUe as vG,EUe as vH,kUe as vI,TUe as vJ,oFe as vK,jUe as vL,ZFe as vM,FUe as vN,LUe as vO,AEe as vP,nFe as vQ,bLe as vR,boe as vS,TPe as vT,Wqe as vU,sle as vV,tFe as vW,RUe as vX,NUe as vY,PUe as vZ,MUe as v_,kze as va,xze as vb,sFe as vc,MF as vd,ZUe as ve,eqe as vf,dFe as vg,Eze as vh,Age as vi,Mge as vj,wze as vk,Tee as vl,a5e as vm,VV as vn,Ude as vo,FBe as vp,DUe as vq,b6e as vr,f6e as vs,a6e as vt,l6e as vu,HUe as vv,p6e as vw,cG as vx,VUe as vy,nqe as vz,xn as w,bB as w0,cie as w1,JDe as w2,QDe as w3,XDe as w4,mqe as w5,qPe as w6,vee as w7,UPe as w8,mee as w9,d1 as wA,Eh as wB,kg as wC,Lu as wD,Ue as wE,Cg as wF,b4 as wG,ur as wH,ar as wI,Wr as wJ,Eqe as wK,iye as wL,NBe as wM,iqe as wN,pGe as wO,BPe as wa,Tde as wb,R8 as wc,zPe as wd,fUe as we,Pae as wf,B_e as wg,t5e as wh,cNe as wi,ise as wj,FB as wk,Bae as wl,Tae as wm,LLe as wn,XOe as wo,ks as wp,rUe as wq,IG as wr,MBe as ws,mX as wt,APe as wu,aF as wv,JL as ww,QL as wx,ms as wy,Dn as wz,goe as x,Lh as y,xe as z};
//# sourceMappingURL=lgw4q0e8zlqqfgug.js.map

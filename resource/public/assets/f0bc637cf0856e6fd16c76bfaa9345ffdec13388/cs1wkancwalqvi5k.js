import{r as t,j as e,A as D,m as q,M as r}from"./m60bpb0x3x7rg8fj.js";import{C as y,u as C,d as F,e as Y,p as R,H as $,B,iq as G,aN as V,eE as H,Y as K,U as W,lz as Z,T as J,g as Q,f0 as ee,aa as ie}from"./lgw4q0e8zlqqfgug.js";import{u as oe}from"./dirudxvdak8r6a17.js";import{jY as U,jZ as se,V as ae,j_ as te,bl as ne,j$ as P,k0 as ce}from"./ggjzadbnd3k1vu0k.js";import{s as re,V as de}from"./d9x2uznhhutps44u.js";import{S as le}from"./e7xevtmx5dwczwb5.js";import"./jykd7v1tpigt9yby.js";const ue=()=>{const i=U();return t.useCallback(a=>{re.set(a),i.setState({isVoiceModeActive:!0})},[i])};function A(i){return e.jsx(y,{testId:"modal-voice-picker",isOpen:i.isOpen,onClose:i.onClose,type:"success",size:"fullscreen",children:e.jsx(D,{children:e.jsx(q.div,{children:e.jsx(de,{conversationId:i.conversationId,onClose:i.onClose,cameFromNux:i.cameFromNux,initialVoiceName:i.initialVoiceName})})})})}function u({title:i,description:a,icon:d}){return e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"shrink-0",children:d}),e.jsxs("div",{className:"text-start",children:[e.jsx("h4",{className:"text-token-text-primary font-semibold",children:e.jsx(r,{...i})}),e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(r,{...a})})]})]})}function me({conversationId:i,initialVoiceName:a}){const d=C(F.hasSeenAdvancedVoiceNuxFullPage),c=Y(),S=R(c,"4291846205"),n=$(c),m=n?.isPlus()??!1,l=n?.isEnterprisey()??!1,[v,p]=t.useState(!1),[f,g]=t.useState(!1),[o,h]=t.useState(!1),[x,N]=t.useState(!0);t.useEffect(()=>{requestAnimationFrame(()=>g(!0))},[]);const I=()=>{h(!0),G.voiceAdvancedDisclosureAccepted.click(),p(!0),setTimeout(async()=>{N(!1)},se)},k=()=>{d.markAsViewed()},j=e.jsx(u,{...s.naturalConversations}),X=e.jsx(u,{...s.freePreview}),z=e.jsx(u,{...s.multipleVoices}),w=e.jsx(u,{...s.personalized}),b=e.jsx(u,{...l?s.controlEnterprise:s.controlDefault}),_=[X,j,w,b],E=[j,z,w,b],M=l||m||S,O=M?E:_;return e.jsxs(e.Fragment,{children:[e.jsx(A,{isOpen:v,onClose:k,conversationId:i,cameFromNux:!0,initialVoiceName:a}),e.jsx(y,{testId:"modal-advanced-voice-nux",isOpen:x,onClose:k,type:"success",size:"fullscreen",className:`bg-white transition-opacity duration-300 dark:bg-gray-800 ${f&&!o?"opacity-100":"opacity-0"}`,showOverlayBackground:!1,children:e.jsxs("div",{className:"mx-auto flex h-full w-full max-w-lg flex-col items-center justify-center px-4 text-center",children:[e.jsx("h1",{className:"text-token-text-primary mb-9 text-2xl font-semibold",children:e.jsx(r,{...M?s.headingPaid:s.headingFreePreview})}),e.jsx("div",{className:"mb-9 space-y-5",children:O.map((T,L)=>e.jsx("div",{children:T},L))}),e.jsxs("p",{className:"text-token-text-primary mb-9 text-sm",children:[e.jsx(r,{...s.disclaimerMistakes}),e.jsx("br",{}),e.jsx(r,{...s.disclaimerUsageLimits})]}),e.jsx(B,{className:"bg-token-text-primary rounded-full px-20 py-3 font-semibold",onClick:I,children:e.jsx(r,{id:"ppi93b",defaultMessage:"Continue"})})]})})]})}const s={naturalConversations:{title:{id:"advanced-voice-nux-full-page.natural-conversations",defaultMessage:"Natural conversations",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.natural-conversations-description",defaultMessage:"Senses and responds to interruptions, humor, and more.",description:"Section description in NUX modal for advanced voice on web. ‘Senses’ is a verb meaning the system detects or perceives user interruptions or humor."},icon:e.jsx(ne,{className:"me-4 h-8 w-8"})},freePreview:{title:{id:"advanced-voice-nux-full-page.free-preview",defaultMessage:"Free monthly preview",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.free-preview-description",defaultMessage:"Use advanced voice for a short period each month.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(te,{className:"me-4 h-8 w-8"})},multipleVoices:{title:{id:"advanced-voice-nux-full-page.multiple-voices",defaultMessage:"Multiple voices",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.multiple-voices-description",defaultMessage:"Offers an expanded set of voices to choose from.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(le,{className:"me-4 h-8 w-8"})},personalized:{title:{id:"advanced-voice-nux-full-page.personalized-title",defaultMessage:"Personalized to you",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.personalized-description",defaultMessage:"Can use memory and custom instructions to shape responses.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(ae,{className:"me-4 h-8 w-8"})},controlEnterprise:{title:{id:"advanced-voice-nux-full-page.control-enterprise-title",defaultMessage:"You’re in control",description:"Section title in NUX modal for advanced voice on web"},icon:e.jsx(V,{className:"me-4 h-8 w-8"}),description:{id:"advanced-voice-nux-full-page.control-enterprise-description",defaultMessage:"Your audio recordings are saved but not used for training. Learn how to <link>manage recordings</link>.",description:"Section description in NUX modal for advanced voice on web",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8400625-voice-mode-faq#h_c5d6fe534b",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}}},controlDefault:{title:{id:"advanced-voice-nux-full-page.control-default-title",defaultMessage:"You’re in control",description:"Section title in NUX modal for advanced voice on web"},icon:e.jsx(V,{className:"me-4 h-8 w-8"}),description:{id:"advanced-voice-nux-full-page.control-default-description",defaultMessage:"Audio recordings are saved, and you can delete them at any time. Learn how to <link>manage recordings</link>.",description:"Section description in NUX modal for advanced voice on web",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8400625-voice-mode-faq#h_c5d6fe534b",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}}},headingFreePreview:{id:"advanced-voice-nux-full-page.heading-free-preview",defaultMessage:"Sneak a peek at advanced voice mode",description:"Main heading shown to free users in the advanced voice NUX modal. ‘Sneak a peek’ is an idiom meaning to briefly try it out."},headingPaid:{id:"advanced-voice-nux-full-page.heading-paid",defaultMessage:"Say hello to advanced voice mode",description:"Main heading shown to paid users in the advanced voice NUX full-page modal"},disclaimerMistakes:{id:"advanced-voice-nux-full-page.disclaimer-mistakes",defaultMessage:"<link>Voice mode can make mistakes</link> — check important info.",description:"First disclaimer line reminding users that voice mode may be inaccurate",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8313428-does-chatgpt-tell-the-truth",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}},disclaimerUsageLimits:{id:"advanced-voice-nux-full-page.disclaimer-usage-limits",defaultMessage:"Usage limits may change.",description:"Second disclaimer line informing users that usage limits are subject to change"}};function ve(){const i=C(F.hasSeenAdvancedVoiceNuxFullPage);return!i.isLoading&&i.eligible}function ke({clientThreadId:i}){const a=P(o=>o.showVoicePicker),d=P(o=>o.showNuxFullPage),c=U(),n=H(i)??i,{isUnauthenticated:m}=K(),{prospectiveModelId:l}=ce(i),{setValue:v}=oe(W.VoiceName),p=ve(),f=Z(),g=ue();return t.useEffect(()=>{const o=sessionStorage.getItem("selectedVoiceName"),h=x=>{try{sessionStorage.removeItem("selectedVoiceName"),g({voice:x,conversation_id:void 0,eventSource:"login_page",voice_mode:"advanced",clientThreadId:ee(),gizmo_id:J.getGizmoId(Q(n)),requested_default_model:l??void 0,skipCacheReason:"login-direct-to-voice-mode"})}catch(N){ie.addError(`Failed to start voice mode after voice picker: ${N}`,{protocol:f})}};o&&!m&&(v(o),h(o))},[n,m,v,g,l,f]),t.useEffect(()=>{p||c.setState(o=>{o.showNuxFullPage=!1})},[p,c]),d?e.jsx(me,{conversationId:n}):a?e.jsx(A,{isOpen:a,onClose:()=>{c.setState(o=>{o.showVoicePicker=!1})},conversationId:n,cameFromNux:!0}):null}export{ke as VoiceModals};
//# sourceMappingURL=cs1wkancwalqvi5k.js.map

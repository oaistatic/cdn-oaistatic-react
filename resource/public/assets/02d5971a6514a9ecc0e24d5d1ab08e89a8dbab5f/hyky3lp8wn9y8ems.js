import{ej as c,eB as p,ce as m,bW as l}from"./i3bl95k8z8nuf4dv.js";import{B as u,C as f}from"./msupklk377u8vx8o.js";import{i as _,j as h,p as g}from"./idf4u2jy0wx0pvap.js";import"./l79p1rsauk0lwxt6.js";import"./eyf2nwgexpz6pjnh.js";import"./n5fowtub43nwjawh.js";import"./lvc34l5biwha9w7t.js";import"./hwl3hzno2kq7obfl.js";import"./hmii3551qscelikg.js";import"./i3xeaua08fnq6vw7.js";import"./gd7xfxa2yqt151v4.js";import"./hgzals0lml4o26vg.js";import"./etqfvs5ggajp1a11.js";import"./igftvtdft8b4phs3.js";import"./gc51ish3otzvnj1w.js";import"./gwmfzjrffpu4d2tx.js";import"./np9w83f07wa6edf5.js";const N=()=>[{title:"ChatGPT"}],k=()=>!1;function R(e){const o={},s="client-created-root";o[s]={id:s,message:{id:s,author:{role:l.Root},content:{content_type:m.Text,parts:[]}},parent:"",children:[]};let a=s;const r=[],n=new Set;for(const t of e.messages)n.add(t.id);for(const t of e.messages){let i=t.metadata?.parent_id??a;n.has(i)||(i=a),o[t.id]={id:t.id,message:t,parent:i,children:[]},a=t.id,r.push(...t.metadata?.safe_urls??[])}for(const[t,i]of Object.entries(o))i.parent!==""&&o[i.parent]?.children?.push(t);const d=e.conversation_id??e.id;return{title:e.title??null,conversation_id:d,mapping:o,current_node:a,moderation_results:[],safe_urls:e.safe_urls??r,...g(e,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember")}}const z=c(function(){const o=u(),s=f(),a=o??s;p.debug(`IN: POST=${o?.length}, GET=${s?.length}`);const r=JSON.parse(a),n=r.conversation_id??r.id,d=R(r);return _(n,d),h(n,!0),p.debug(`Ready ${n} (SERVER: false) : ${a.length} byte(s)`),null});export{z as default,N as meta,k as shouldRevalidate};
//# sourceMappingURL=hyky3lp8wn9y8ems.js.map

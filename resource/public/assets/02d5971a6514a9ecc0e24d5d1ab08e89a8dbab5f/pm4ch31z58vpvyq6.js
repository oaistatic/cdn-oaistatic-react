import{f as y,a as v,b as S,g as N,j as e,M as j}from"./msupklk377u8vx8o.js";import{c5 as w,c6 as B,bh as E,ao as R}from"./idf4u2jy0wx0pvap.js";import{m as F,b as k,c as T}from"./i3bl95k8z8nuf4dv.js";import{A as P}from"./m5f9ap1vca064g53.js";function h(){return e.jsx(B,{className:"icon-sm text-token-text-tertiary ms-1"})}function C({onChange:t,enabled:s,Icon:a,label:i,labelValues:c,onClickInfo:n,tooltip:o,tooltipValues:l,hasPadding:u=!0,className:d,disabled:m=!1,messageAfterTooltip:r=void 0}){return e.jsxs(P,{className:T("justify-start",u?"py-6":"py-0",d),children:[e.jsx(E,{label:"",disabled:m,enabled:s,onChange:t}),e.jsxs("p",{className:"text-md inline-flex items-center",children:[a&&e.jsx(a,{className:"icon-md me-2"}),e.jsx(j,{...i,values:c}),o&&e.jsxs(e.Fragment,{children:[e.jsx(R,{interactive:!0,label:e.jsx(j,{...o,values:l}),side:"top",children:n?e.jsx("button",{className:"block h-full",onClick:n,children:e.jsx(h,{})}):e.jsx(h,{})}),r&&e.jsx("span",{className:"text-token-text-secondary ps-1 text-sm",children:e.jsx(j,{...r})})]})]})]})}function K({workspaceId:t,Icon:s,label:a,onClickInfo:i,feature:c,value:n,tooltip:o,hasPadding:l=!0,className:u,disabled:d=!1,overrideDisplayValue:m=void 0,messageAfterTooltip:r=void 0}){const f=y(),g=F(),x=v(),{variables:p,mutate:_}=S({mutationFn:({feature:b,enabled:q})=>k.safePost("/accounts/{account_id}/beta_features",{parameters:{path:{account_id:t}},requestBody:{feature:b,value:q}}),onSettled:()=>{x.invalidateQueries({queryKey:["workspace-settings"]})},onError:()=>{g.danger(f.formatMessage(M.featureSettingsUpdateFailed))}});return e.jsx(C,{onChange:b=>{_({feature:c,enabled:b})},enabled:m??p?.enabled??n,Icon:s,label:a,tooltip:o,hasPadding:l,className:u,disabled:d,messageAfterTooltip:r,onClickInfo:i})}function L({connectorId:t,workspaceId:s,Icon:a,label:i,tooltip:c,tooltipValues:n,messageAfterTooltip:o,labelValues:l}){const u=y(),d=F(),m=v(),{enabled:r,isLoading:f}=w(t),{variables:g,mutate:x}=S({mutationFn:p=>k.safePost("/accounts/{account_id}/connectors/{connector_id}/workspace_permissions",{parameters:{path:{account_id:s,connector_id:t}},requestBody:{enabled:p}}),onSettled:()=>{m.invalidateQueries({queryKey:["fetchConnectorWorkspacePermissions",s]})},onError:()=>{d.danger(u.formatMessage(M.featureSettingsUpdateFailed))}});return e.jsx(C,{onChange:x,enabled:g??!!r,Icon:a,label:i,labelValues:l,disabled:f,tooltip:c,tooltipValues:n,messageAfterTooltip:o})}const M=N({featureSettingsUpdateFailed:{id:"workspaceSettingsOld.featureSettingsUpdateFailed",defaultMessage:"Failed to update feature setting"}});export{K as B,h as S,L as W};
//# sourceMappingURL=pm4ch31z58vpvyq6.js.map

import{H as l,bo as h,bs as w,f7 as M,ay as y,eN as C,fQ as _,fR as x,cF as k,bR as A,ax as O,bW as v}from"./i3bl95k8z8nuf4dv.js";import{u as E}from"./hwl3hzno2kq7obfl.js";import{b9 as u,a_ as g,y as S,ba as P,bb as L,bc as R,U as T}from"./idf4u2jy0wx0pvap.js";import{r as d,g as F,f as N,h as U}from"./msupklk377u8vx8o.js";function D(){const{eligible:e,isLoading:o,markAsViewed:a}=u(g.NewOnboardingFlow),{layer:n}=l("109457",{shouldLogExposure:!1}),[s,t]=d.useState(!0);return{isOpen:e&&s&&n.get("is_guided_onboarding",!1),isLoading:o,setIsOpen:t,markAsViewed:a}}const I=F({hi:{id:"new_user_onboarding.hi",defaultMessage:"Hi"},hiThere:{id:"new_user_onboarding.hi_there",defaultMessage:"Hi there"},tryUploadingAFile:{defaultMessage:"Try uploading a file",id:"chatgpt.new-onboarding.try-uploading-a-file"},uploadFileExample:{defaultMessage:"ChatGPT can summarize and analyze your files or images.",id:"chatgpt.new-onboarding.upload-file-exp"},school:{defaultMessage:"School",id:"chatgpt.new-onboarding.school"},schoolPrompt:{defaultMessage:"Iâ€™m trying to learn and do better in school.",id:"chatgpt.new-onboarding.school-prompt"},work:{defaultMessage:"Work",id:"chatgpt.new-onboarding.work"},workPrompt:{defaultMessage:"I'm here to learn and grow in my work.",id:"chatgpt.new-onboarding.work-prompt"},personalTasks:{defaultMessage:"Personal tasks",id:"chatgpt.new-onboarding.personal-tasks"},personalTasksPrompt:{defaultMessage:"I'm here for my personal tasks",id:"chatgpt.new-onboarding.personal-tasks-prompt"},funAndEntertainment:{defaultMessage:"Fun and entertainment",id:"chatgpt.new-onboarding.fun-and-entertainment"},funAndEntertainmentPrompt:{defaultMessage:"I'm here to explore fun ideas and relax.",id:"chatgpt.new-onboarding.fun-and-entertainment-prompt"},other:{defaultMessage:"Other",id:"chatgpt.new-onboarding.other"},justCurious:{defaultMessage:"Just curious",id:"chatgpt.new-onboarding.just-curious"},justCuriousPrompt:{defaultMessage:"I'm just curious, exploring what you can do.",id:"chatgpt.new-onboarding.just-curious-prompt"},tryAnExample:{defaultMessage:"Try an example below or send any message in the message box below.",id:"chatgpt.new-onboarding.try-an-example"}});function j(){const{eligible:e,isLoading:o,markAsViewed:a}=u(g.NewOnboardingConvo);return{isEligible:e&&!o,markAsViewed:a}}function G(e){const o=d.useContext(y),a=C(o),n=S(f=>f.onboardingConvoState||void 0),{isEligible:s,markAsViewed:t}=j(),r=V({clientThreadId:e}),{layer:p}=l("109457"),i=N(),b=P(),c=U(),m=b||L(c)||R(c);d.useEffect(()=>{s&&!n&&(i.locale===_||i.messages!==x)&&!a&&!m&&p.get("onboarding_style","")==="CONVO"&&(T.setOnboardingConvoState({onboardingConvoClientThreadId:e}),t(),r({eventSource:"url",stepPrompt:i.formatMessage(I.hi),messageMetadata:{is_visually_hidden_from_conversation:!0},authorMetadata:{real_author:k.Onboarding}}),A.logEvent("chatgpt_convo_onboarding_started"))},[s,t,r,n,i,i.locale,i.messages,e,p,a,m])}const V=({clientThreadId:e})=>{const o=E(e);return d.useCallback(({stepPrompt:a,messageMetadata:n,authorMetadata:s,...t})=>{o({...t,promptMessage:M(a,n??void 0,s??void 0),completionMetadata:{isOnboardingConversation:!0,conversationMode:{kind:w.PrimaryAssistant},systemHints:n?.onboarding?.system_hints}})},[o])};function K(e){const o=h(e,t=>O.findNode(t,r=>r.message.author.role===v.User)?.message.metadata?.onboarding),{eligible:a,isLoading:n,markAsViewed:s}=u(g.hasSeenFilePickerNuxTooltip);return{isEligible:o?.triggered_tools?.includes("file_upload")&&a&&!n,markAsViewed:s}}function J(){const{layer:e}=l("109457",{shouldLogExposure:!1});return e.get("onboarding_show_followups",!1)}export{V as a,D as b,G as c,J as d,I as m,K as u};
//# sourceMappingURL=lvc34l5biwha9w7t.js.map

import{f as r,j as a}from"./msupklk377u8vx8o.js";import{m as b,an as i,bR as c,B as v,c as w}from"./i3bl95k8z8nuf4dv.js";import{c$ as W,d0 as _,d1 as k,ao as M,d2 as x}from"./idf4u2jy0wx0pvap.js";import{u as E}from"./gzl485petzezqbrn.js";import{u as C}from"./efv25d1ajdici77v.js";import"./b9b8pdc8f8cdvf7w.js";const y=e=>{const{requestMicrophonePermissions:t}=E(),o=r().formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),s=b();return async()=>{if(i.logEvent("Whisper on Web/Windows: Clicked to start dictation"),c.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await t())return s.danger(o);e()}},T=({size:e="medium",disabled:t,onExit:n,buttonClassName:o,invertColor:s,disableTooltip:l=!1,visualTreatment:p,...u})=>{const m=r(),g=C(f=>f.status),d=y(n);g==="error"&&(i.logEvent("Whisper on Web/Windows: Error"),c.logEvent("chatgpt_composer_whisper_button_error"));const h=a.jsx(x,{"aria-label":"",className:s?"h-5 w-5":"h-[18px] w-[18px]",fontSize:"inherit"});return a.jsx(B,{disabled:l,children:p==="composer-btn"?a.jsx("button",{...u,"aria-label":m.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),type:"button",onClick:d,disabled:t,className:"composer-btn",children:h}):a.jsx(v,{...u,"aria-label":m.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:e,type:"button",onClick:d,disabled:t,className:w(s?W:_,"[view-transition-name:var(--vt-composer-whisper-button)]",t?"opacity-30":!s&&k,"dark:hover:bg-transparent dark:hover:opacity-100",o),children:h})})};function B({children:e,disabled:t=!1}){const n=r();return a.jsx(M,{open:t?!1:void 0,label:n.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"bottom",onOpenChange:o=>{o&&(i.logEvent("Whisper on Web/Windows: Button hover to see tooltip"),c.logEvent("chatgpt_composer_whisper_button_hovered"))},children:e})}export{T as WhisperIconButton,y as useWhisperHandleClick};
//# sourceMappingURL=fs3n65hcayyh4uig.js.map

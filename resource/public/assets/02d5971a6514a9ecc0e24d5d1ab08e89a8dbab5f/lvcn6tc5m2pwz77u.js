import{r as o,j as e,M as r,d as C,h as b,f as k,L as p,ac as N}from"./msupklk377u8vx8o.js";import{p as y,_ as L,ar as E,d3 as A,s as H,an as f,bR as P,bi as W,bE as I,c as w,F as _,bN as R}from"./i3bl95k8z8nuf4dv.js";import{h5 as T,hT as G,ad as D,L as O,hQ as B,hR as S,iZ as v,m0 as Z,eI as U,m1 as F,ev as x,bJ as z,m2 as Q,U as V,H as X,m3 as q,d8 as J,am as Y}from"./idf4u2jy0wx0pvap.js";import{f as $}from"./fii0gwkgtas4sckd.js";import{b as g}from"./mxye9dnv7ug9w78j.js";import{N as K}from"./n737zu6y3rojcst6.js";import{u as ee}from"./me2w1vt1t6ynrd52.js";function te(){const[t,a]=o.useState(!1),{isConnected:n,isLoading:s,error:i,connect:c,refetch:d}=T(y.GITHUB_CONNECTOR,"github","/codex/settings/environments"),{enabled:u}=G();return!u||(s||n)&&!t?null:e.jsxs("div",{className:"draggable no-draggable-children bg-token-bg-secondary sticky top-0 z-20 flex h-12 w-full flex-row items-center justify-center gap-2",children:[e.jsx(D,{className:"icon-md"}),e.jsx("span",{className:"text-token-text-primary flex text-sm font-normal",children:e.jsx(r,{id:"wham.connectGitHubAlert.message",defaultMessage:"Your GitHub account is not connected. <connect>Connect now</connect>.",values:{connect:l=>s?e.jsx("span",{className:"flex items-center ps-2",children:e.jsx(O,{className:"h-4 w-12"})}):i?e.jsx("button",{className:"ps-1 font-semibold underline hover:cursor-pointer",onClick:()=>{a(!0),d()},children:e.jsx(r,{id:"wham.connectGitHubAlert.retry",defaultMessage:"Failed to load GitHub connection. Click retry."})}):e.jsx("button",{className:"ps-1 font-semibold underline hover:cursor-pointer",onClick:c,children:l})}})})]})}const se=B({animationLoader:()=>L(()=>import("./df6k0hmoqpu9dz9s.js"),[]),StaticIcon:S}),ne=t=>o.createElement("svg",{width:45,height:12,viewBox:"0 0 45 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},o.createElement("path",{d:"M36.4507 11.182L39.1312 7.45007L36.5247 3.77734H38.7906L40.3307 6.05799L41.8709 3.77734H43.9887L41.4414 7.39084L44.1071 11.182H41.8413L40.2419 8.82735L38.5832 11.182H36.4507Z",fill:"currentColor"}),o.createElement("path",{d:"M32.6294 11.3298C30.2599 11.3298 28.8086 9.65633 28.8086 7.47935C28.8086 5.27275 30.4672 3.62891 32.5702 3.62891C34.8804 3.62891 36.2873 5.31718 36.2873 7.33125V8.08653H30.6894C30.8671 9.07876 31.6224 9.7748 32.6146 9.7748C33.4143 9.7748 34.0807 9.38976 34.3177 8.84181H36.1985C35.8134 10.1598 34.5694 11.3298 32.6294 11.3298ZM30.7042 6.72407H34.451C34.3473 5.8207 33.6068 5.18389 32.6146 5.18389C31.6816 5.18389 30.9115 5.80589 30.7042 6.72407Z",fill:"currentColor"}),o.createElement("path",{d:"M27.6532 0.816406V11.183H25.728V10.2944C25.2393 10.9312 24.3063 11.3311 23.3437 11.3311C21.2704 11.3311 19.6414 9.70204 19.6414 7.48063C19.6414 5.25922 21.2704 3.63019 23.3437 3.63019C24.3359 3.63019 25.2393 3.94119 25.728 4.56318V0.816406H27.6532ZM23.6695 5.30365C22.5736 5.30365 21.5962 6.1626 21.5962 7.48063C21.5962 8.79867 22.5736 9.65761 23.6695 9.65761C24.7654 9.65761 25.7428 8.79867 25.7428 7.48063C25.7428 6.1626 24.7654 5.30365 23.6695 5.30365Z",fill:"currentColor"}),o.createElement("path",{d:"M14.9014 11.3298C12.6948 11.3298 10.9917 9.58228 10.9917 7.47935C10.9917 5.37642 12.6948 3.62891 14.9014 3.62891C17.108 3.62891 18.8111 5.37642 18.8111 7.47935C18.8111 9.58228 17.108 11.3298 14.9014 11.3298ZM14.9014 9.6119C15.9232 9.6119 16.9006 8.78258 16.9006 7.47935C16.9006 6.17612 15.9232 5.3468 14.9014 5.3468C13.8795 5.3468 12.9021 6.17612 12.9021 7.47935C12.9021 8.78258 13.8795 9.6119 14.9014 9.6119Z",fill:"currentColor"}),o.createElement("path",{d:"M5.34612 11.3307C2.26577 11.3307 0.118408 8.94642 0.118408 5.99935C0.118408 3.05228 2.32501 0.667969 5.33131 0.667969C7.8341 0.667969 9.83337 2.22296 10.2036 4.35551H8.08586C7.77486 3.37809 6.7234 2.57838 5.36093 2.57838C3.49495 2.57838 2.17691 4.01489 2.17691 5.99935C2.17691 7.98381 3.49495 9.42032 5.39055 9.42032C6.75302 9.42032 7.78967 8.63542 8.1451 7.64319H10.248C9.84818 9.80537 7.89334 11.3307 5.34612 11.3307Z",fill:"currentColor"}));function ae(){const{isUnauthenticated:t}=E();return v.markStart("WhamLoginOrProfileMenu"),v.markRendered("WhamLoginOrProfileMenu"),t?e.jsx($,{}):e.jsx(oe,{})}function oe(){const{data:t}=A(),a=H(),n=C(),s=b(),i=k();g(m=>m.showReactQueryDevtools),g(m=>m.setShowReactQueryDevtools);const{openSettings:c}=Z(),d=()=>{n("/codex/settings/general")};if(!a)return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center",children:e.jsx("div",{className:"bg-token-main-surface-tertiary h-8 w-8 rounded-full"})});const u=t&&t.accountItems.length>1,l=s.pathname.startsWith("/codex/onboarding");return e.jsxs(U,{triggerButton:e.jsx("button",{onClick:()=>{f.logEvent("Account: Open Profile Menu"),P.logEvent("chatgpt_account_open_profile_menu")},"aria-label":i.formatMessage({id:"wham.whamProfile.openProfileMenu",defaultMessage:"Open Profile Menu"}),"data-testid":"profile-button",className:"text-token-text-secondary hover:text-token-text-primary hover:bg-token-surface-hover radix-state-open:text-token-text-secondary flex h-10 w-10 items-center justify-center rounded-full px-1 transition focus-visible:outline-0",children:e.jsx(q,{iconSize:"medium",showPlanTypeBadge:!0})}),children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(F,{accountSwitcherRedirectUrl:"/codex?refresh_account=true"}),e.jsx(x.Separator,{})]}),!l&&e.jsx(x.Item,{onClick:d,icon:S,"data-testid":"accounts-settings-button",children:e.jsx(r,{id:"wham.whamProfile.codexSettings",defaultMessage:"Codex settings"})}),!1,e.jsx(x.Item,{icon:z,onClick:()=>c(),"data-testid":"settings-menu-item",children:e.jsx(r,{id:"wham.whamProfile.chatgptSettings",defaultMessage:"ChatGPT settings"})}),e.jsx(x.Separator,{}),e.jsx(x.Item,{onClick:()=>{f.logEvent("Account: Click Log Out",{eventSource:"mouse"}),f.logLogOutButtonClicked({location:"profile_drop_down"}),V.openModal(X.LogoutConfirm)},"data-testid":"log-out-menu-item",icon:Q,children:e.jsx(r,{defaultMessage:"Log out",id:"navigation.logOut.0"})})]})}const j=W(0);function re({hideNotificationBell:t=!1,hideExtraInfo:a=!1}){const n=!!J(),s=I(()=>j());return o.useEffect(()=>()=>{j.set(0)},[]),e.jsxs("div",{className:"sticky top-0 flex w-full justify-end py-3 ps-3 pe-1",children:[e.jsx("div",{className:"absolute start-0 top-3 flex items-center gap-3 self-center",children:e.jsxs(p,{to:"/codex",className:"text-token-text-primary ms-[5px] mt-[5px] flex items-center gap-2 hover:cursor-pointer",children:[e.jsx(se,{className:"h-[27px] w-[27px]",loop:!1,matchTextColor:!0,animate:s>0},s),e.jsx(ne,{className:"w-11.5"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[!a&&e.jsxs("div",{className:"me-1 flex items-center gap-5 leading-none",children:[e.jsx(p,{to:"/codex/settings/environments",className:"text-token-text-secondary text-sm font-normal hover:underline",children:e.jsx(r,{id:"gUayTH",defaultMessage:"Environments"})}),e.jsx(Y,{href:"https://platform.openai.com/docs/codex",target:"_blank",className:"text-token-text-secondary text-sm font-normal hover:underline",children:e.jsx(r,{id:"/nU8Xu",defaultMessage:"Docs"})})]}),!t&&!n&&e.jsx(K,{}),e.jsx(ae,{})]})]})}function h({text:t,path:a,isActive:n}){const s=C();return e.jsx("div",{className:w("hover:bg-token-bg-tertiary flex items-center gap-3 rounded-md p-2 hover:cursor-pointer",n&&"bg-token-bg-tertiary font-semibold"),onClick:()=>{s(a)},children:t})}function ie(){const t=b();return e.jsxs("div",{className:"flex w-64 flex-col gap-3 px-4",children:[e.jsx("p",{className:"text-text-primary py-2 ps-2 text-xl leading-7 font-medium",children:e.jsx(r,{id:"wham.settingsSidebar.settings",defaultMessage:"Settings"})}),e.jsxs("div",{className:"flex flex-col gap-2 pe-3 text-sm",children:[e.jsx(h,{text:e.jsx(r,{id:"wham.settingsSidebar.general",defaultMessage:"General"}),path:"/codex/settings/general",isActive:t.pathname.startsWith("/codex/settings/general")}),e.jsx(h,{text:e.jsx(r,{id:"wham.settingsSidebar.environments",defaultMessage:"Environments"}),path:"/codex/settings/environments",isActive:t.pathname.startsWith("/codex/settings/environments")}),e.jsx(h,{text:e.jsx(r,{id:"wham.settingsSidebar.dataControls",defaultMessage:"Data controls"}),path:"/codex/settings/data",isActive:t.pathname.startsWith("/codex/settings/data")})]})]})}function ce(t){const[a,n]=o.useState(!1);return o.useEffect(()=>{let s=t.current;const i=()=>{s&&n(s.scrollTop>0)};let c,d=0;const u=10;function l(){if(s=t.current,!s){if(d++>=u)return;c=requestAnimationFrame(l);return}s.addEventListener("scroll",i),n(s.scrollTop>0)}return l(),()=>{c!==void 0&&cancelAnimationFrame(c),s&&s.removeEventListener("scroll",i)}},[t]),a}const le=_.div`draggable no-draggable-children sticky top-0 p-3 flex items-center justify-between z-20 h-header-height font-semibold bg-token-bg-primary`;function ve({children:t,flex:a=!1,showSidebar:n=!0,canShowAlert:s=!0,hideExtraHeaderInfo:i=!1,hideBorder:c=!1,horizontalPadding:d=!1,topPadding:u=!1}){const l=o.useRef(null),m=ce(l);return g(M=>M.showReactQueryDevtools),ee()==="DISABLED"?e.jsx(N,{to:"/",replace:!0}):e.jsxs("main",{className:"relative flex h-screen w-full flex-col overflow-clip",id:"main","z-index":"-1",children:[e.jsx(le,{className:m&&!c?"border-b-token-bg-secondary border-b":"",children:e.jsx(re,{hideExtraInfo:i,hideNotificationBell:i})}),!1,e.jsxs(R,{children:[s&&e.jsx(te,{}),e.jsxs("div",{className:"h-[calc(100vh-theme(spacing.header-height)-80px)] flex flex-1",children:[n&&e.jsx("div",{className:"h-full w-64 flex-shrink-0 overflow-y-auto pt-8",children:e.jsx(ie,{})}),e.jsx("div",{ref:l,className:"w-full overflow-y-auto",children:e.jsx("div",{className:w("mx-auto h-full max-w-screen-2xl flex-1",a&&"flex flex-col",d&&"px-8",u&&"pt-8"),children:t})})]})]})]})}export{ve as W,le as a,re as b,j as h};
//# sourceMappingURL=lvcn6tc5m2pwz77u.js.map

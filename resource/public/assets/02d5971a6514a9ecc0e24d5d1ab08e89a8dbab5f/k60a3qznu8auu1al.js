import{r as t,j as e,R as L,T as Ae,f as R,M as E,u as m1,a8 as u1}from"./msupklk377u8vx8o.js";import{fA as f1,I as q,ae as pe,ac as N,eD as p1,bJ as h1,ao as oe,dD as Re,aD as Ie,je as C1,jd as x1,dE as ye,nZ as g1}from"./idf4u2jy0wx0pvap.js";import{u as Y,c as je,P as ee}from"./nq7r3w6gn2bznceb.js";import{c as J,bI as v1,B as T,D as Ve,k as Te,bZ as k1,b as De,bj as Me,m as b1,g as w1,r as E1,av as y1}from"./i3bl95k8z8nuf4dv.js";import{A as j1}from"./b55502r205nz6n48.js";import{a as M1,R as N1}from"./iw3ol6hqkoiaf3nc.js";import{F as Z}from"./imu5mwp7oamdtl8y.js";import{W as Pe,d as S1}from"./mxye9dnv7ug9w78j.js";import{A as ue,S as L1}from"./ojiial81qrlp15mq.js";import{S as _1}from"./l4zbgkg566u66cq3.js";import{i as Fe}from"./n737zu6y3rojcst6.js";import{u as A1,a as R1,b as P}from"./umecogb8uj87jcv4.js";function he(n,s=[]){let a=[];function o(l,i){const c=t.createContext(i),m=a.length;a=[...a,i];const u=d=>{const{scope:y,children:g,...j}=d,x=y?.[n]?.[m]||c,b=t.useMemo(()=>j,Object.values(j));return e.jsx(x.Provider,{value:b,children:g})};u.displayName=l+"Provider";function h(d,y){const g=y?.[n]?.[m]||c,j=t.useContext(g);if(j)return j;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${l}\``)}return[u,h]}const r=()=>{const l=a.map(i=>t.createContext(i));return function(c){const m=c?.[n]||l;return t.useMemo(()=>({[`__scope${n}`]:{...c,[n]:m}}),[c,m])}};return r.scopeName=n,[o,I1(r,...s)]}function I1(...n){const s=n[0];if(n.length===1)return s;const a=()=>{const o=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(l){const i=o.reduce((c,{useScope:m,scopeName:u})=>{const d=m(l)[`__scope${u}`];return{...c,...d}},{});return t.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return a.scopeName=s.scopeName,a}function V1(n){const s=n+"CollectionProvider",[a,o]=he(s),[r,l]=a(s,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:v}=x,C=L.useRef(null),w=L.useRef(new Map).current;return e.jsx(r,{scope:b,itemMap:w,collectionRef:C,children:v})};i.displayName=s;const c=n+"CollectionSlot",m=je(c),u=L.forwardRef((x,b)=>{const{scope:v,children:C}=x,w=l(c,v),k=Y(b,w.collectionRef);return e.jsx(m,{ref:k,children:C})});u.displayName=c;const h=n+"CollectionItemSlot",d="data-radix-collection-item",y=je(h),g=L.forwardRef((x,b)=>{const{scope:v,children:C,...w}=x,k=L.useRef(null),_=Y(b,k),S=l(h,v);return L.useEffect(()=>(S.itemMap.set(k,{ref:k,...w}),()=>void S.itemMap.delete(k))),e.jsx(y,{[d]:"",ref:_,children:C})});g.displayName=h;function j(x){const b=l(n+"CollectionConsumer",x);return L.useCallback(()=>{const C=b.collectionRef.current;if(!C)return[];const w=Array.from(C.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((S,F)=>w.indexOf(S.ref.current)-w.indexOf(F.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},j,o]}function Oe(n,s,{checkForDefaultPrevented:a=!0}={}){return function(r){if(n?.(r),a===!1||!r.defaultPrevented)return s?.(r)}}var Q=globalThis?.document?t.useLayoutEffect:()=>{},T1=Ae[" useInsertionEffect ".trim().toString()]||Q;function Ce({prop:n,defaultProp:s,onChange:a=()=>{},caller:o}){const[r,l,i]=D1({defaultProp:s,onChange:a}),c=n!==void 0,m=c?n:r;{const h=t.useRef(n!==void 0);t.useEffect(()=>{const d=h.current;d!==c&&console.warn(`${o} is changing from ${d?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,o])}const u=t.useCallback(h=>{if(c){const d=P1(h)?h(n):h;d!==n&&i.current?.(d)}else l(h)},[c,n,l,i]);return[m,u]}function D1({defaultProp:n,onChange:s}){const[a,o]=t.useState(n),r=t.useRef(a),l=t.useRef(s);return T1(()=>{l.current=s},[s]),t.useEffect(()=>{r.current!==a&&(l.current?.(a),r.current=a)},[a,r]),[a,o,l]}function P1(n){return typeof n=="function"}function F1(n,s){return t.useReducer((a,o)=>s[a][o]??a,n)}var Ze=n=>{const{present:s,children:a}=n,o=O1(s),r=typeof a=="function"?a({present:o.isPresent}):t.Children.only(a),l=Y(o.ref,Z1(r));return typeof a=="function"||o.isPresent?t.cloneElement(r,{ref:l}):null};Ze.displayName="Presence";function O1(n){const[s,a]=t.useState(),o=t.useRef(null),r=t.useRef(n),l=t.useRef("none"),i=n?"mounted":"unmounted",[c,m]=F1(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect(()=>{const u=re(o.current);l.current=c==="mounted"?u:"none"},[c]),Q(()=>{const u=o.current,h=r.current;if(h!==n){const y=l.current,g=re(u);n?m("MOUNT"):g==="none"||u?.display==="none"?m("UNMOUNT"):m(h&&y!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,m]),Q(()=>{if(s){let u;const h=s.ownerDocument.defaultView??window,d=g=>{const x=re(o.current).includes(g.animationName);if(g.target===s&&x&&(m("ANIMATION_END"),!r.current)){const b=s.style.animationFillMode;s.style.animationFillMode="forwards",u=h.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=b)})}},y=g=>{g.target===s&&(l.current=re(o.current))};return s.addEventListener("animationstart",y),s.addEventListener("animationcancel",d),s.addEventListener("animationend",d),()=>{h.clearTimeout(u),s.removeEventListener("animationstart",y),s.removeEventListener("animationcancel",d),s.removeEventListener("animationend",d)}}else m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:t.useCallback(u=>{o.current=u?getComputedStyle(u):null,a(u)},[])}}function re(n){return n?.animationName||"none"}function Z1(n){let s=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?n.ref:(s=Object.getOwnPropertyDescriptor(n,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?n.props.ref:n.props.ref||n.ref)}var W1=Ae[" useId ".trim().toString()]||(()=>{}),H1=0;function We(n){const[s,a]=t.useState(W1());return Q(()=>{a(o=>o??String(H1++))},[n]),s?`radix-${s}`:""}var ie="Collapsible",[U1,He]=he(ie),[B1,xe]=U1(ie),Ue=t.forwardRef((n,s)=>{const{__scopeCollapsible:a,open:o,defaultOpen:r,disabled:l,onOpenChange:i,...c}=n,[m,u]=Ce({prop:o,defaultProp:r??!1,onChange:i,caller:ie});return e.jsx(B1,{scope:a,disabled:l,contentId:We(),open:m,onOpenToggle:t.useCallback(()=>u(h=>!h),[u]),children:e.jsx(ee.div,{"data-state":ve(m),"data-disabled":l?"":void 0,...c,ref:s})})});Ue.displayName=ie;var Be="CollapsibleTrigger",$e=t.forwardRef((n,s)=>{const{__scopeCollapsible:a,...o}=n,r=xe(Be,a);return e.jsx(ee.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":ve(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...o,ref:s,onClick:Oe(n.onClick,r.onOpenToggle)})});$e.displayName=Be;var ge="CollapsibleContent",qe=t.forwardRef((n,s)=>{const{forceMount:a,...o}=n,r=xe(ge,n.__scopeCollapsible);return e.jsx(Ze,{present:a||r.open,children:({present:l})=>e.jsx($1,{...o,ref:s,present:l})})});qe.displayName=ge;var $1=t.forwardRef((n,s)=>{const{__scopeCollapsible:a,present:o,children:r,...l}=n,i=xe(ge,a),[c,m]=t.useState(o),u=t.useRef(null),h=Y(s,u),d=t.useRef(0),y=d.current,g=t.useRef(0),j=g.current,x=i.open||c,b=t.useRef(x),v=t.useRef(void 0);return t.useEffect(()=>{const C=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(C)},[]),Q(()=>{const C=u.current;if(C){v.current=v.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const w=C.getBoundingClientRect();d.current=w.height,g.current=w.width,b.current||(C.style.transitionDuration=v.current.transitionDuration,C.style.animationName=v.current.animationName),m(o)}},[i.open,o]),e.jsx(ee.div,{"data-state":ve(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...l,ref:h,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...n.style},children:x&&r})});function ve(n){return n?"open":"closed"}var q1=Ue,G1=$e,z1=qe,K1=t.createContext(void 0);function X1(n){const s=t.useContext(K1);return n||s||"ltr"}var I="Accordion",Y1=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ke,J1,Q1]=V1(I),[ce,sn]=he(I,[Q1,He]),be=He(),Ge=L.forwardRef((n,s)=>{const{type:a,...o}=n,r=o,l=o;return e.jsx(ke.Provider,{scope:n.__scopeAccordion,children:a==="multiple"?e.jsx(st,{...l,ref:s}):e.jsx(nt,{...r,ref:s})})});Ge.displayName=I;var[ze,et]=ce(I),[Ke,tt]=ce(I,{collapsible:!1}),nt=L.forwardRef((n,s)=>{const{value:a,defaultValue:o,onValueChange:r=()=>{},collapsible:l=!1,...i}=n,[c,m]=Ce({prop:a,defaultProp:o??"",onChange:r,caller:I});return e.jsx(ze,{scope:n.__scopeAccordion,value:L.useMemo(()=>c?[c]:[],[c]),onItemOpen:m,onItemClose:L.useCallback(()=>l&&m(""),[l,m]),children:e.jsx(Ke,{scope:n.__scopeAccordion,collapsible:l,children:e.jsx(Xe,{...i,ref:s})})})}),st=L.forwardRef((n,s)=>{const{value:a,defaultValue:o,onValueChange:r=()=>{},...l}=n,[i,c]=Ce({prop:a,defaultProp:o??[],onChange:r,caller:I}),m=L.useCallback(h=>c((d=[])=>[...d,h]),[c]),u=L.useCallback(h=>c((d=[])=>d.filter(y=>y!==h)),[c]);return e.jsx(ze,{scope:n.__scopeAccordion,value:i,onItemOpen:m,onItemClose:u,children:e.jsx(Ke,{scope:n.__scopeAccordion,collapsible:!0,children:e.jsx(Xe,{...l,ref:s})})})}),[at,de]=ce(I),Xe=L.forwardRef((n,s)=>{const{__scopeAccordion:a,disabled:o,dir:r,orientation:l="vertical",...i}=n,c=L.useRef(null),m=Y(c,s),u=J1(a),d=X1(r)==="ltr",y=Oe(n.onKeyDown,g=>{if(!Y1.includes(g.key))return;const j=g.target,x=u().filter(V=>!V.ref.current?.disabled),b=x.findIndex(V=>V.ref.current===j),v=x.length;if(b===-1)return;g.preventDefault();let C=b;const w=0,k=v-1,_=()=>{C=b+1,C>k&&(C=w)},S=()=>{C=b-1,C<w&&(C=k)};switch(g.key){case"Home":C=w;break;case"End":C=k;break;case"ArrowRight":l==="horizontal"&&(d?_():S());break;case"ArrowDown":l==="vertical"&&_();break;case"ArrowLeft":l==="horizontal"&&(d?S():_());break;case"ArrowUp":l==="vertical"&&S();break}const F=C%v;x[F].ref.current?.focus()});return e.jsx(at,{scope:a,disabled:o,direction:r,orientation:l,children:e.jsx(ke.Slot,{scope:a,children:e.jsx(ee.div,{...i,"data-orientation":l,ref:m,onKeyDown:o?void 0:y})})})}),le="AccordionItem",[rt,we]=ce(le),Ye=L.forwardRef((n,s)=>{const{__scopeAccordion:a,value:o,...r}=n,l=de(le,a),i=et(le,a),c=be(a),m=We(),u=o&&i.value.includes(o)||!1,h=l.disabled||n.disabled;return e.jsx(rt,{scope:a,open:u,disabled:h,triggerId:m,children:e.jsx(q1,{"data-orientation":l.orientation,"data-state":s1(u),...c,...r,ref:s,disabled:h,open:u,onOpenChange:d=>{d?i.onItemOpen(o):i.onItemClose(o)}})})});Ye.displayName=le;var Je="AccordionHeader",Qe=L.forwardRef((n,s)=>{const{__scopeAccordion:a,...o}=n,r=de(I,a),l=we(Je,a);return e.jsx(ee.h3,{"data-orientation":r.orientation,"data-state":s1(l.open),"data-disabled":l.disabled?"":void 0,...o,ref:s})});Qe.displayName=Je;var fe="AccordionTrigger",e1=L.forwardRef((n,s)=>{const{__scopeAccordion:a,...o}=n,r=de(I,a),l=we(fe,a),i=tt(fe,a),c=be(a);return e.jsx(ke.ItemSlot,{scope:a,children:e.jsx(G1,{"aria-disabled":l.open&&!i.collapsible||void 0,"data-orientation":r.orientation,id:l.triggerId,...c,...o,ref:s})})});e1.displayName=fe;var t1="AccordionContent",n1=L.forwardRef((n,s)=>{const{__scopeAccordion:a,...o}=n,r=de(I,a),l=we(t1,a),i=be(a);return e.jsx(z1,{role:"region","aria-labelledby":l.triggerId,"data-orientation":r.orientation,...i,...o,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});n1.displayName=t1;function s1(n){return n?"open":"closed"}var ot=Ge,lt=Ye,it=Qe,a1=e1,r1=n1;const ct="_content_dh7fm_1",dt={content:ct},mt=ot,o1=({className:n,...s})=>e.jsx(lt,{className:n,...s});o1.displayName="AccordionItem";const l1=({className:n,children:s,...a})=>e.jsx(it,{asChild:!0,children:e.jsxs(a1,{className:J("group flex w-full items-center",n),...a,children:[e.jsx(f1,{className:"icon-md transition-transform duration-200 group-data-[state=closed]:opacity-50 group-data-[state=open]:rotate-90"}),s]})});l1.displayName=a1.displayName;const i1=({className:n,children:s,...a})=>e.jsx(r1,{asChild:!0,className:"data-[state=closed]:overflow-hidden",...a,children:e.jsx("div",{className:J(dt.content,n),children:s})});i1.displayName=r1.displayName;function ut({onChange:n,value:s}){const a=R();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironments.descriptionSection.label",defaultMessage:"Description"})}),e.jsx("textarea",{name:"description","aria-label":a.formatMessage({id:"wham.environment.descriptionSection.description",defaultMessage:"Environment Description"}),placeholder:a.formatMessage({id:"wham.environment.descriptionSection.descriptionPlaceholder",defaultMessage:"1-2 sentence description"}),className:"border-token-border-heavy focus-within:border-token-border-heavy focus-within:ring-token-text-secondary bg-token-bg-primary h-16 max-h-48 w-full resize-none rounded-md border px-3 py-2 text-sm shadow-none focus-within:ring-1",value:s,onChange:o=>n(o.target.value)})]})}function ft({repositoryId:n,existingEnvironment:s,setRepositoryName:a}){const o=s.repo_map?.[n];return t.useEffect(()=>{o&&a(o.name)},[o,a]),o?o?e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironments.repositorySection.label",defaultMessage:"Repository"})}),e.jsx("div",{className:"border-token-border-heavy bg-token-bg-primary pointer-events-none rounded-lg border p-3",children:e.jsx(M1,{repository:o,className:"pointer-events-none p-1",isSelected:!0})})]}):e.jsx("div",{className:"text-token-text-secondary flex h-full items-center text-sm",children:e.jsx(E,{id:"wham.createEnvironments.repositorySection.unavailable",defaultMessage:"Repository unavailable"})}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(v1,{className:"icon-lg"})})}function pt({pushValue:n,removeValue:s,changeValue:a,values:o}){const r=R();return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironments.envVarsSection.label",defaultMessage:"Environment variables"})}),o.map((l,i)=>l.key.startsWith("CODEX_ENV_")?null:e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx("div",{className:"flex w-full flex-1 flex-col gap-2",children:e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx(q,{name:`envVars[${i}].key`,color:"search",containerInputClassName:"w-full",className:"text-token-text-primary flex h-8 w-full items-center rounded-md!",value:l.key,onChange:c=>{a(i,{...l,key:c.target.value})},placeholder:r.formatMessage({id:"wham.envVarsSection.keyPlaceholder",defaultMessage:"Key"}),ariaLabel:r.formatMessage({id:"wham.envVarsSection.keyAria",defaultMessage:"Environment variable key"})}),e.jsx(q,{name:`envVars[${i}].value`,className:"text-token-text-primary flex h-8 w-full items-center rounded-md!",containerInputClassName:"w-full",color:"search",value:l.value,onChange:c=>{a(i,{...l,value:c.target.value})},placeholder:r.formatMessage({id:"wham.envVarsSection.value",defaultMessage:"Value"}),ariaLabel:r.formatMessage({id:"wham.envVarsSection.environmentVariableValue",defaultMessage:"Environment variable value"})}),e.jsx(T,{type:"button",size:"small",color:"secondary",onClick:()=>s(i),children:e.jsx(E,{id:"wham.createEnvironments.envVarsSection.delete",defaultMessage:"Delete"})})]})})},i)),e.jsx("div",{className:"pt-4",children:e.jsx(T,{color:"secondary",size:"small",icon:pe,onClick:()=>{n({key:"",value:""})},type:"button",className:"w-fit",children:e.jsx(E,{id:"wham.createEnvironments.envVarsSection.add",defaultMessage:"Add"})})})]})}const ht=n=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.71579 5C8.22222 5 7.80247 5.36011 7.72742 5.84794L7.1676 9.48674C8.72988 9.1602 10.3713 9 12 9C13.6286 9 15.27 9.1602 16.8323 9.48674L16.2725 5.84794C16.1974 5.36011 15.7777 5 15.2841 5H8.71579ZM18.9422 10.0478L18.2492 5.54383C18.0241 4.08033 16.7648 3 15.2841 3H8.71579C7.23508 3 5.97583 4.08033 5.75067 5.54383L5.05775 10.0478C4.16209 10.3416 3.31164 10.6982 2.52718 11.1191C2.04052 11.3802 1.85766 11.9864 2.11876 12.473C2.37987 12.9597 2.98605 13.1425 3.47272 12.8814C5.77658 11.6454 8.86094 11 12 11C15.139 11 18.2233 11.6454 20.5272 12.8814C21.0138 13.1425 21.62 12.9597 21.8811 12.473C22.1422 11.9864 21.9594 11.3802 21.4727 11.1191C20.6883 10.6982 19.8378 10.3416 18.9422 10.0478ZM6.99995 15C5.89538 15 4.99995 15.8954 4.99995 17C4.99995 18.1046 5.89538 19 6.99995 19C8.10452 19 8.99995 18.1046 8.99995 17C8.99995 15.8954 8.10452 15 6.99995 15ZM2.99995 17C2.99995 14.7909 4.79081 13 6.99995 13C8.60414 13 9.98777 13.9443 10.6253 15.3074C11.0116 15.1285 11.4713 15 12 15C12.5286 15 12.9883 15.1285 13.3746 15.3074C14.0121 13.9443 15.3958 13 17 13C19.2091 13 21 14.7909 21 17C21 19.2091 19.2091 21 17 21C14.9443 21 13.2509 19.4494 13.0254 17.4541C12.7393 17.2043 12.4105 17 12 17C11.5894 17 11.2606 17.2043 10.9745 17.4541C10.749 19.4494 9.05556 21 6.99995 21C4.79081 21 2.99995 19.2091 2.99995 17ZM17 15C15.8954 15 15 15.8954 15 17C15 18.1046 15.8954 19 17 19C18.1045 19 19 18.1046 19 17C19 15.8954 18.1045 15 17 15Z",fill:"currentColor"}));function Ct({value:n,onChange:s}){const a=R(),l=Ve()?.name??a.formatMessage({id:"7he/QA",defaultMessage:"Workspace"});return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironment.environmentVisibility",defaultMessage:"Environment visibility"})}),e.jsxs(N.Root,{value:n,onValueChange:s,children:[e.jsx(N.Trigger,{className:"border-token-border-heavy bg-token-bg-primary flex w-fit rounded-md border","aria-label":a.formatMessage({id:"wham.createEnvironment.openVisibilityMenu",defaultMessage:"Open visibility menu"}),children:e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(N.Value,{placeholder:a.formatMessage({id:"wham.createEnvironment.selectVisibility",defaultMessage:"Select visibility"})})}),e.jsx(N.Icon,{})]})}),e.jsx(N.Portal,{children:e.jsxs(N.Content,{align:"start",children:[e.jsx(N.Item,{value:"private",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ht,{"aria-hidden":!0,className:"icon-sm me-1.5"}),e.jsx(E,{id:"wham.createEnvironment.private",defaultMessage:"Private"})]})}),e.jsx(N.Item,{value:"workspace",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p1,{"aria-hidden":!0,className:"icon-sm me-1.5"}),e.jsx(E,{id:"wham.createEnvironment.sharedWithWorkspace",defaultMessage:"Shared with {workspaceName}",values:{workspaceName:l}})]})})]})})]})]})}function xt({onChange:n,value:s}){const a=R();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironments.label",defaultMessage:"Name"})}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx(q,{name:"label",ariaLabel:a.formatMessage({id:"wham.labelSection.envAria",defaultMessage:"Environment name"}),placeholder:a.formatMessage({id:"wham.labelSection.namePlaceholder",defaultMessage:"Name"}),containerInputClassName:"w-full",className:"flex h-8 w-full items-center rounded-md!",inputClassName:"w-full text-sm",color:"search",value:s,onChange:o=>n(o.target.value)})})]})}const gt=n=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},t.createElement("g",{clipPath:"url(#clip0_5056_23317)"},t.createElement("path",{d:"M18.218 9.14824C18.186 9.11424 18.152 9.08024 18.118 9.04824C18.084 9.01624 18.052 8.98024 18.018 8.94824C17.984 8.91624 17.952 8.88024 17.918 8.84824C17.884 8.81624 17.852 8.78024 17.818 8.74824C17.784 8.71624 17.752 8.68024 17.718 8.64824C17.684 8.61624 17.652 8.58024 17.618 8.54824C17.584 8.51624 17.552 8.48024 17.518 8.44824C18.51 9.42319 19.0783 10.7495 19.1 12.1402C19.1 15.4542 15.736 18.1502 11.6 18.1502C9.28398 18.1502 7.21198 17.3042 5.83398 15.9782L5.93398 16.0782L6.03398 16.1782L6.13398 16.2782L6.23398 16.3782L6.33398 16.4782L6.43398 16.5782L6.53398 16.6782C7.90998 18.0602 10.028 18.9502 12.4 18.9502C16.536 18.9502 19.9 16.2542 19.9 12.9502C19.9 11.5382 19.292 10.2002 18.218 9.14824Z",fill:"black"}),t.createElement("path",{d:"M18.5996 12.1401C18.5996 15.1821 15.4656 17.6481 11.5996 17.6481C7.73361 17.6481 4.59961 15.1821 4.59961 12.1401C4.59961 10.2541 5.79961 8.5881 7.64361 7.6001C9.48761 6.6121 10.6356 5.6001 11.5996 5.6001C12.5636 5.6001 13.3876 6.4261 15.5556 7.6001C17.3996 8.5881 18.5996 10.2541 18.5996 12.1401Z",fill:"#FBF0DF"}),t.createElement("path",{d:"M18.6002 12.1399C18.5992 11.7491 18.5454 11.3602 18.4402 10.9839C17.8942 17.6439 9.77017 17.9639 6.57617 15.9719C8.01198 17.0848 9.78379 17.6758 11.6002 17.6479C15.4602 17.6479 18.6002 15.1779 18.6002 12.1399Z",fill:"#F6DECE"}),t.createElement("path",{d:"M8.90561 7.2341C9.79961 6.6981 10.9876 5.6921 12.1556 5.6901C11.9759 5.63202 11.7884 5.60167 11.5996 5.6001C11.1156 5.6001 10.5996 5.8501 9.94961 6.2261C9.72361 6.3581 9.48961 6.5041 9.24161 6.6561C8.77561 6.9441 8.24161 7.2701 7.64161 7.5961C5.73761 8.6261 4.59961 10.3241 4.59961 12.1401C4.59961 12.2201 4.59961 12.3001 4.59961 12.3781C5.81161 8.0961 8.01361 7.7701 8.90561 7.2341Z",fill:"#FFFEFC"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.0237 6.10591C11.0265 6.57815 10.9274 7.04544 10.733 7.47586C10.5387 7.90628 10.2538 8.28969 9.8977 8.59991C9.8417 8.64991 9.8857 8.74591 9.9577 8.71791C10.6317 8.45591 11.5417 7.67191 11.1577 6.08991C11.1417 5.99991 11.0237 6.02391 11.0237 6.10591ZM11.4777 6.10591C11.7224 6.5052 11.8779 6.95268 11.9335 7.41768C11.9891 7.88268 11.9434 8.3542 11.7997 8.79991C11.7757 8.86991 11.8617 8.92991 11.9097 8.87191C12.3477 8.31191 12.7297 7.19991 11.5857 5.99991C11.5277 5.94791 11.4377 6.02791 11.4777 6.09791V6.10591ZM12.0297 6.07191C12.4129 6.34322 12.7335 6.69356 12.9699 7.09929C13.2062 7.50502 13.3528 7.95672 13.3997 8.42391C13.3977 8.44075 13.4022 8.45771 13.4124 8.4713C13.4225 8.48488 13.4375 8.49404 13.4542 8.49687C13.4709 8.4997 13.4881 8.49598 13.5022 8.48649C13.5162 8.47701 13.5261 8.46247 13.5297 8.44591C13.7137 7.74791 13.6097 6.55791 12.0957 5.93991C12.0157 5.90791 11.9637 6.01591 12.0297 6.06391V6.07191ZM8.3377 8.15191C8.79356 8.01572 9.21562 7.78505 9.5764 7.47492C9.93719 7.16479 10.2286 6.78215 10.4317 6.35191C10.4677 6.27991 10.5817 6.30791 10.5637 6.38791C10.2177 7.98791 9.0597 8.32191 8.3397 8.27791C8.2637 8.27991 8.2657 8.17391 8.3377 8.15191Z",fill:"#CCBEA7"}),t.createElement("path",{d:"M11.5996 18.1501C7.46361 18.1501 4.09961 15.4541 4.09961 12.1401C4.09961 10.1401 5.33561 8.2741 7.40561 7.1561C8.00561 6.8361 8.51961 6.5141 8.97761 6.2321C9.22961 6.0761 9.46761 5.9301 9.69761 5.7941C10.3996 5.3781 10.9996 5.1001 11.5996 5.1001C12.1996 5.1001 12.7236 5.3401 13.3796 5.7281C13.5796 5.8421 13.7796 5.9661 13.9936 6.1021C14.4916 6.4101 15.0536 6.7581 15.7936 7.1561C17.8636 8.2741 19.0996 10.1381 19.0996 12.1401C19.0996 15.4541 15.7356 18.1501 11.5996 18.1501ZM11.5996 5.6001C11.1156 5.6001 10.5996 5.8501 9.94961 6.2261C9.72361 6.3581 9.48961 6.5041 9.24161 6.6561C8.77561 6.9441 8.24161 7.2701 7.64161 7.5961C5.73761 8.6261 4.59961 10.3241 4.59961 12.1401C4.59961 15.1781 7.73961 17.6501 11.5996 17.6501C15.4596 17.6501 18.5996 15.1781 18.5996 12.1401C18.5996 10.3241 17.4616 8.6261 15.5556 7.6001C14.7996 7.2001 14.2096 6.8241 13.7316 6.5281C13.5136 6.3941 13.3136 6.2701 13.1316 6.1601C12.5256 5.8001 12.0836 5.6001 11.5996 5.6001Z",fill:"black"}),t.createElement("path",{d:"M13.0099 13.6001C12.9201 13.968 12.7156 14.2979 12.4259 14.5421C12.2085 14.7528 11.927 14.8851 11.6259 14.9181C11.3158 14.8904 11.0244 14.7577 10.7999 14.5421C10.5132 14.2968 10.3116 13.967 10.2239 13.6001C10.221 13.5783 10.2231 13.5561 10.2301 13.5353C10.2371 13.5144 10.2488 13.4955 10.2642 13.4798C10.2796 13.4642 10.2985 13.4523 10.3192 13.4451C10.34 13.4378 10.3621 13.4354 10.3839 13.4381H12.8519C12.8736 13.4357 12.8955 13.4384 12.916 13.4458C12.9365 13.4532 12.955 13.4651 12.9702 13.4807C12.9855 13.4963 12.9969 13.5151 13.0038 13.5358C13.0107 13.5565 13.0128 13.5785 13.0099 13.6001Z",fill:"#B71422"}),t.createElement("path",{d:"M10.8 14.5578C11.0241 14.7736 11.3144 14.9075 11.624 14.9378C11.9329 14.9071 12.2225 14.7732 12.446 14.5578C12.5175 14.4912 12.5843 14.4197 12.646 14.3438C12.5228 14.2041 12.3723 14.091 12.2038 14.0115C12.0352 13.9321 11.8522 13.8879 11.666 13.8818C11.4668 13.8866 11.2716 13.9396 11.0974 14.0365C10.9232 14.1333 10.7752 14.2711 10.666 14.4378C10.712 14.4798 10.752 14.5198 10.8 14.5578Z",fill:"#FF6164"}),t.createElement("path",{d:"M10.8316 14.4002C10.9308 14.2721 11.0577 14.168 11.2029 14.096C11.348 14.0239 11.5076 13.9857 11.6696 13.9842C11.9692 13.9931 12.2545 14.1136 12.4696 14.3222C12.5156 14.2722 12.5596 14.2202 12.6016 14.1682C12.3472 13.9259 12.011 13.7881 11.6596 13.7822C11.4719 13.7838 11.2868 13.827 11.1177 13.9086C10.9486 13.9902 10.7997 14.1082 10.6816 14.2542C10.7289 14.3056 10.779 14.3543 10.8316 14.4002Z",fill:"black"}),t.createElement("path",{d:"M11.6179 15.0378C11.2846 15.0086 10.971 14.8677 10.7279 14.6378C10.4183 14.376 10.2004 14.0221 10.1059 13.6278C10.0991 13.5927 10.1003 13.5565 10.1093 13.5219C10.1183 13.4873 10.1349 13.4552 10.1579 13.4278C10.1853 13.3947 10.2199 13.3683 10.2591 13.3506C10.2983 13.333 10.341 13.3245 10.3839 13.3258H12.8519C12.8948 13.3249 12.9374 13.3336 12.9765 13.3513C13.0156 13.3689 13.0502 13.3951 13.0779 13.4278C13.1007 13.4553 13.117 13.4875 13.1257 13.5221C13.1343 13.5567 13.1351 13.5929 13.1279 13.6278C13.0334 14.0221 12.8155 14.376 12.5059 14.6378C12.2633 14.8673 11.9505 15.0082 11.6179 15.0378ZM10.3839 13.5578C10.3519 13.5578 10.3439 13.5718 10.3419 13.5758C10.4265 13.9178 10.6177 14.2239 10.8879 14.4498C11.0855 14.6445 11.3424 14.7677 11.6179 14.7998C11.8927 14.768 12.1493 14.6464 12.3479 14.4538C12.6173 14.2275 12.8078 13.9214 12.8919 13.5798C12.8876 13.5734 12.8815 13.5684 12.8744 13.5652C12.8674 13.562 12.8596 13.5608 12.8519 13.5618L10.3839 13.5578Z",fill:"black"}),t.createElement("path",{d:"M14.6446 13.7241C15.2908 13.7241 15.8146 13.4161 15.8146 13.0361C15.8146 12.6562 15.2908 12.3481 14.6446 12.3481C13.9984 12.3481 13.4746 12.6562 13.4746 13.0361C13.4746 13.4161 13.9984 13.7241 14.6446 13.7241Z",fill:"#FEBBD0"}),t.createElement("path",{d:"M8.58992 13.7241C9.23609 13.7241 9.75992 13.4161 9.75992 13.0361C9.75992 12.6562 9.23609 12.3481 8.58992 12.3481C7.94375 12.3481 7.41992 12.6562 7.41992 13.0361C7.41992 13.4161 7.94375 13.7241 8.58992 13.7241Z",fill:"#FEBBD0"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.13906 12.7602C9.3571 12.7605 9.57036 12.6963 9.75184 12.5754C9.93333 12.4546 10.0749 12.2826 10.1586 12.0813C10.2423 11.8799 10.2644 11.6583 10.2221 11.4444C10.1798 11.2305 10.075 11.0339 9.921 10.8796C9.76696 10.7253 9.57061 10.6202 9.35679 10.5775C9.14297 10.5348 8.92129 10.5565 8.71981 10.6398C8.51833 10.7232 8.3461 10.8644 8.22492 11.0457C8.10374 11.227 8.03906 11.4401 8.03906 11.6582C8.03906 11.9501 8.15489 12.2301 8.36112 12.4367C8.56736 12.6433 8.84714 12.7596 9.13906 12.7602ZM14.0931 12.7602C14.3114 12.7617 14.5252 12.6985 14.7075 12.5783C14.8897 12.4582 15.0322 12.2867 15.1169 12.0854C15.2015 11.8842 15.2245 11.6624 15.1829 11.4481C15.1412 11.2338 15.0369 11.0367 14.8831 10.8818C14.7293 10.7269 14.533 10.6211 14.319 10.5779C14.105 10.5348 13.883 10.5561 13.6812 10.6393C13.4794 10.7225 13.3068 10.8637 13.1854 11.0451C13.0639 11.2265 12.9991 11.4399 12.9991 11.6582C12.9985 11.9492 13.1134 12.2286 13.3184 12.4351C13.5235 12.6417 13.802 12.7586 14.0931 12.7602Z",fill:"black"}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.80067 11.7279C8.88264 11.7283 8.96288 11.7043 9.03122 11.6591C9.09956 11.6139 9.15294 11.5493 9.18458 11.4737C9.21622 11.3981 9.22471 11.3148 9.20896 11.2344C9.19321 11.1539 9.15394 11.08 9.09612 11.0219C9.0383 10.9638 8.96454 10.9241 8.88418 10.908C8.80382 10.8919 8.72047 10.8999 8.64471 10.9312C8.56894 10.9625 8.50416 11.0156 8.45858 11.0837C8.413 11.1518 8.38867 11.2319 8.38867 11.3139C8.38867 11.4234 8.43201 11.5284 8.50922 11.6059C8.58643 11.6835 8.69122 11.7274 8.80067 11.7279ZM13.7547 11.7279C13.8366 11.7283 13.9169 11.7043 13.9852 11.6591C14.0536 11.6139 14.1069 11.5493 14.1386 11.4737C14.1702 11.3981 14.1787 11.3148 14.163 11.2344C14.1472 11.1539 14.1079 11.08 14.0501 11.0219C13.9923 10.9638 13.9185 10.9241 13.8382 10.908C13.7578 10.8919 13.6745 10.8999 13.5987 10.9312C13.5229 10.9625 13.4582 11.0156 13.4126 11.0837C13.367 11.1518 13.3427 11.2319 13.3427 11.3139C13.3427 11.4227 13.3855 11.5271 13.4618 11.6045C13.5381 11.682 13.6419 11.7263 13.7507 11.7279H13.7547Z",fill:"white"})),t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_5056_23317"},t.createElement("rect",{width:16,height:14,fill:"white",transform:"translate(4 5)"})))),vt=n=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},t.createElement("g",{clipPath:"url(#clip0_5023_22294)"},t.createElement("path",{d:"M3.5116 11.0169C3.47266 11.0169 3.46292 10.9995 3.48239 10.9735L3.68687 10.7388C3.70635 10.7127 3.75503 10.6953 3.79398 10.6953H7.27012C7.30907 10.6953 7.31881 10.7214 7.29934 10.7475L7.13381 10.9735C7.11433 10.9995 7.06565 11.0256 7.03643 11.0256L3.5116 11.0169Z",fill:"#00ACD7"}),t.createElement("path",{d:"M2.03895 11.8162C2 11.8162 1.99026 11.7988 2.00974 11.7728L2.21422 11.5381C2.23369 11.512 2.28238 11.4946 2.32132 11.4946H6.76144C6.80039 11.4946 6.81986 11.5207 6.81013 11.5468L6.73223 11.7554C6.72249 11.7902 6.68354 11.8075 6.6446 11.8075L2.03895 11.8162Z",fill:"#00ACD7"}),t.createElement("path",{d:"M4.39832 12.616C4.35938 12.616 4.34964 12.59 4.36911 12.5639L4.50543 12.3466C4.52491 12.3205 4.56385 12.2944 4.6028 12.2944H6.55022C6.58917 12.2944 6.60864 12.3205 6.60864 12.3553L6.58917 12.5639C6.58917 12.5986 6.55022 12.6247 6.52101 12.6247L4.39832 12.616Z",fill:"#00ACD7"}),t.createElement("path",{d:"M14.5029 10.8601C13.8894 10.9992 13.4707 11.1035 12.867 11.2426C12.721 11.2773 12.7112 11.286 12.5846 11.1556C12.4386 11.0079 12.3315 10.9123 12.127 10.8253C11.5136 10.5559 10.9196 10.6341 10.3646 10.9557C9.70247 11.3382 9.36167 11.9031 9.3714 12.6072C9.38114 13.3025 9.91668 13.8762 10.6859 13.9718C11.348 14.05 11.9031 13.8414 12.3412 13.3981C12.4289 13.3025 12.5068 13.1982 12.6041 13.0765C12.2536 13.0765 11.8154 13.0765 10.7249 13.0765C10.5204 13.0765 10.4717 12.9635 10.5399 12.8158C10.6664 12.5463 10.9001 12.0944 11.0364 11.8684C11.0657 11.8162 11.1338 11.7293 11.2799 11.7293C11.7765 11.7293 13.607 11.7293 14.8242 11.7293C14.8047 11.964 14.8047 12.1987 14.7658 12.4333C14.6587 13.0592 14.3957 13.6328 13.9673 14.137C13.2662 14.9627 12.351 15.4755 11.1922 15.6146C10.238 15.7276 9.35193 15.5624 8.57296 15.0409C7.85242 14.5542 7.44346 13.911 7.33635 13.1113C7.20977 12.1639 7.52136 11.3121 8.164 10.5646C8.85534 9.75625 9.77063 9.24343 10.8904 9.0609C11.8057 8.91314 12.682 9.00875 13.4707 9.4868C13.9868 9.79101 14.3568 10.2082 14.6002 10.7124C14.6586 10.7906 14.6197 10.834 14.5029 10.8601Z",fill:"#00ACD7"}),t.createElement("path",{d:"M17.7245 15.6673C16.8385 15.6499 16.0303 15.4239 15.3487 14.9024C14.7742 14.4591 14.4139 13.8941 14.2971 13.2249C14.1218 12.2427 14.4237 11.3735 15.0858 10.5999C15.7966 9.76551 16.6535 9.33091 17.8122 9.14839C18.8054 8.99193 19.7401 9.07885 20.5872 9.59167C21.3565 10.061 21.8336 10.6955 21.9602 11.53C22.1257 12.7034 21.746 13.6595 20.8404 14.4765C20.1978 15.0589 19.4091 15.4239 18.5035 15.5891C18.2406 15.6325 17.9777 15.6412 17.7245 15.6673ZM20.042 12.1558C20.0322 12.0428 20.0322 11.9559 20.0128 11.8689C19.8375 11.0084 18.9514 10.5217 18.0264 10.7129C17.1208 10.8955 16.5366 11.4083 16.3224 12.2253C16.1471 12.9033 16.5171 13.5899 17.2182 13.8681C17.7538 14.0767 18.2893 14.0506 18.8054 13.8159C19.5746 13.4596 19.9933 12.9033 20.042 12.1558Z",fill:"#00ACD7"})),t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_5023_22294"},t.createElement("rect",{width:20,height:6.66667,fill:"white",transform:"translate(2 9)"})))),kt=n=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},t.createElement("path",{d:"M9.51096 16.6938C9.51096 16.6938 8.78492 17.1161 10.0277 17.2589C11.5332 17.4307 12.3027 17.4061 13.9618 17.0921C13.9618 17.0921 14.398 17.3656 15.0072 17.6025C11.2879 19.1965 6.58963 17.5101 9.51096 16.6938Z",fill:"#5382A1"}),t.createElement("path",{d:"M9.05967 14.6133C9.05967 14.6133 8.24534 15.2161 9.48901 15.3447C11.0973 15.5106 12.3674 15.5242 14.5651 15.101C14.5651 15.101 14.8691 15.4092 15.3471 15.5777C10.8502 16.8927 5.84148 15.6814 9.05967 14.6133Z",fill:"#5382A1"}),t.createElement("path",{d:"M12.8894 11.0844C13.8058 12.1395 12.6486 13.0889 12.6486 13.0889C12.6486 13.0889 14.9756 11.8877 13.9069 10.3834C12.9088 8.98058 12.1434 8.28357 16.2871 5.88037C16.2871 5.88037 9.78284 7.50483 12.8894 11.0844Z",fill:"#F8981D"}),t.createElement("path",{d:"M17.8089 18.232C17.8089 18.232 18.3462 18.6747 17.2172 19.0172C15.0703 19.6675 8.28178 19.8639 6.39595 19.0431C5.71804 18.7482 6.98931 18.3389 7.38921 18.253C7.80625 18.1626 8.04458 18.1794 8.04458 18.1794C7.29068 17.6484 3.17166 19.2223 5.95233 19.673C13.5356 20.9028 19.7759 19.1192 17.8089 18.232Z",fill:"#5382A1"}),t.createElement("path",{d:"M9.86353 12.4577C9.86353 12.4577 6.41044 13.2778 8.64071 13.5757C9.58239 13.7018 11.4596 13.6732 13.2082 13.5267C14.6373 13.4062 16.0722 13.1499 16.0722 13.1499C16.0722 13.1499 15.5683 13.3657 15.2037 13.6146C11.6972 14.5368 4.92317 14.1078 6.87332 13.1645C8.52257 12.3672 9.86353 12.4577 9.86353 12.4577Z",fill:"#5382A1"}),t.createElement("path",{d:"M16.0541 15.9204C19.6186 14.0681 17.9705 12.2881 16.8202 12.5279C16.5382 12.5866 16.4125 12.6375 16.4125 12.6375C16.4125 12.6375 16.5171 12.4735 16.7171 12.4025C18.9929 11.6024 20.7431 14.7623 15.9824 16.0138C15.9824 16.0138 16.0376 15.9645 16.0541 15.9204Z",fill:"#5382A1"}),t.createElement("path",{d:"M13.9075 2C13.9075 2 15.8816 3.97478 12.0351 7.01144C8.95064 9.44736 11.3318 10.8363 12.0338 12.4231C10.2334 10.7987 8.91208 9.36865 9.79851 8.03772C11.0996 6.08404 14.704 5.13682 13.9075 2Z",fill:"#F8981D"}),t.createElement("path",{d:"M10.2115 20.9402C13.633 21.1592 18.8872 20.8187 19.0116 19.1997C19.0116 19.1997 18.7724 19.8134 16.1839 20.3009C13.2635 20.8504 9.66169 20.7863 7.52539 20.4341C7.52539 20.4341 7.96272 20.796 10.2115 20.9402Z",fill:"#5382A1"})),bt=n=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},t.createElement("mask",{id:"mask0_5023_22093",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:4,y:3,width:16,height:18},t.createElement("path",{d:"M11.5694 3.11387L4.43136 7.18581C4.16401 7.33819 4 7.61951 4 7.9236V16.0732C4 16.3774 4.16401 16.6586 4.43136 16.811L11.5699 20.8861C11.8368 21.038 12.1658 21.038 12.4323 20.8861L19.5696 16.811C19.8357 16.6586 20 16.3773 20 16.0732V7.9236C20 7.61951 19.8357 7.33819 19.568 7.18581L12.4316 3.11387C12.2978 3.03801 12.1487 3 11.9996 3C11.8505 3 11.7014 3.03801 11.5675 3.11387",fill:"white"})),t.createElement("g",{mask:"url(#mask0_5023_22093)"},t.createElement("path",{d:"M27.214 6.49454L7.10023 -3.24951L-3.21289 17.5437L16.9003 27.2883L27.214 6.49454Z",fill:"url(#paint0_linear_5023_22093)"})),t.createElement("mask",{id:"mask1_5023_22093",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:4,y:3,width:16,height:18},t.createElement("path",{d:"M4.17773 16.5904C4.24601 16.678 4.33141 16.7538 4.43188 16.8108L10.555 20.3064L11.575 20.8857C11.7275 20.9728 11.9013 21.0097 12.0721 20.9971C12.129 20.9926 12.186 20.982 12.2415 20.9664L19.7699 7.34252C19.7123 7.28056 19.6449 7.22866 19.5693 7.18512L14.8955 4.5176L12.4248 3.11268C12.3547 3.07249 12.2786 3.04402 12.2012 3.02393L4.17773 16.5904Z",fill:"white"})),t.createElement("g",{mask:"url(#mask1_5023_22093)"},t.createElement("path",{d:"M-4.51953 9.37647L9.68283 28.3744L28.4657 14.6591L14.2625 -4.33838L-4.51953 9.37647Z",fill:"url(#paint1_linear_5023_22093)"})),t.createElement("mask",{id:"mask2_5023_22093",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:4,y:3,width:16,height:18},t.createElement("path",{d:"M11.9137 3.00465C11.7939 3.01637 11.6768 3.05321 11.5689 3.11382L4.45117 7.17404L12.1263 20.9905C12.233 20.9755 12.3381 20.9403 12.433 20.886L19.571 16.8109C19.7912 16.6847 19.942 16.471 19.9878 16.2289L12.1636 3.01854C12.106 3.00732 12.0484 3.00146 11.9891 3.00146C11.9653 3.00146 11.9416 3.00264 11.9179 3.00481",fill:"white"})),t.createElement("g",{mask:"url(#mask2_5023_22093)"},t.createElement("path",{d:"M4.45117 3.00146V20.9909H19.9849V3.00146H4.45117Z",fill:"url(#paint2_linear_5023_22093)"})),t.createElement("defs",null,t.createElement("linearGradient",{id:"paint0_linear_5023_22093",x1:17.1511,y1:1.60719,x2:7.03235,y2:22.4929,gradientUnits:"userSpaceOnUse"},t.createElement("stop",{offset:.3,stopColor:"#3E863D"}),t.createElement("stop",{offset:.5,stopColor:"#55934F"}),t.createElement("stop",{offset:.8,stopColor:"#5AAD45"})),t.createElement("linearGradient",{id:"paint1_linear_5023_22093",x1:2.66676,y1:18.9844,x2:21.2942,y2:5.05847,gradientUnits:"userSpaceOnUse"},t.createElement("stop",{offset:.57,stopColor:"#3E863D"}),t.createElement("stop",{offset:.72,stopColor:"#619857"}),t.createElement("stop",{offset:1,stopColor:"#76AC64"})),t.createElement("linearGradient",{id:"paint2_linear_5023_22093",x1:4.45641,y1:11.9967,x2:19.9878,y2:11.9967,gradientUnits:"userSpaceOnUse"},t.createElement("stop",{offset:.16,stopColor:"#6BBF47"}),t.createElement("stop",{offset:.38,stopColor:"#79B461"}),t.createElement("stop",{offset:.47,stopColor:"#75AC64"}),t.createElement("stop",{offset:.7,stopColor:"#659E5A"}),t.createElement("stop",{offset:.9,stopColor:"#3E863D"})))),wt=n=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},t.createElement("g",{clipPath:"url(#clip0_5023_22088)"},t.createElement("path",{d:"M12.5 3.00405C11.7905 3.00737 11.113 3.06833 10.5169 3.17461C8.76083 3.48719 8.44199 4.14145 8.44199 5.34801V6.94151H12.5918V7.47267H8.44199H6.88459C5.67853 7.47267 4.62246 8.20305 4.29214 9.59247C3.91112 11.1851 3.89422 12.1789 4.29214 13.8418C4.58713 15.0796 5.29159 15.9616 6.49766 15.9616H7.92447V14.0513C7.92447 12.6713 9.10959 11.454 10.5169 11.454H14.6619C15.8158 11.454 16.7369 10.4968 16.7369 9.32932V5.34801C16.7369 4.2149 15.7881 3.36372 14.6619 3.17461C13.9491 3.05505 13.2094 3.00073 12.5 3.00405ZM10.2557 4.28567C10.6844 4.28567 11.0344 4.64412 11.0344 5.08486C11.0344 5.52404 10.6844 5.87917 10.2557 5.87917C9.82555 5.87917 9.47704 5.52404 9.47704 5.08486C9.47704 4.64412 9.82555 4.28567 10.2557 4.28567Z",fill:"url(#paint0_linear_5023_22088)"}),t.createElement("path",{d:"M17.2538 7.47119V9.32784C17.2538 10.7673 16.0426 11.9788 14.6614 11.9788H10.5163C9.38094 11.9788 8.44141 12.9579 8.44141 14.1035V18.0848C8.44141 19.2179 9.41935 19.8844 10.5163 20.2095C11.8299 20.5986 13.0896 20.6689 14.6614 20.2095C15.7061 19.9047 16.7363 19.2913 16.7363 18.0848V16.4913H12.5913V15.9601H16.7363H18.8112C20.0173 15.9601 20.4667 15.1125 20.8861 13.8403C21.3194 12.5306 21.301 11.2711 20.8861 9.59099C20.5881 8.3813 20.0188 7.47119 18.8112 7.47119H17.2538ZM14.9225 17.5536C15.3527 17.5536 15.7012 17.9088 15.7012 18.3479C15.7012 18.7887 15.3527 19.1471 14.9225 19.1471C14.4939 19.1471 14.1438 18.7887 14.1438 18.3479C14.1438 17.9088 14.4939 17.5536 14.9225 17.5536Z",fill:"url(#paint1_linear_5023_22088)"})),t.createElement("defs",null,t.createElement("linearGradient",{id:"paint0_linear_5023_22088",x1:4,y1:3.00391,x2:13.6295,y2:11.1482,gradientUnits:"userSpaceOnUse"},t.createElement("stop",{stopColor:"#5A9FD4"}),t.createElement("stop",{offset:1,stopColor:"#306998"})),t.createElement("linearGradient",{id:"paint1_linear_5023_22088",x1:14.8228,y1:18.214,x2:11.3556,y2:13.3916,gradientUnits:"userSpaceOnUse"},t.createElement("stop",{stopColor:"#FFD43B"}),t.createElement("stop",{offset:1,stopColor:"#FFE873"})),t.createElement("clipPath",{id:"clip0_5023_22088"},t.createElement("rect",{width:18,height:18,fill:"white",transform:"translate(4 3)"})))),Et=n=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},t.createElement("g",{clipPath:"url(#clip0_5023_22095)"},t.createElement("path",{d:"M10.4588 9.37429H12.8136C14.2626 9.37429 14.2626 10.8233 12.8136 10.8233H10.4588V9.37429ZM4.84375 16.0762H12.089V14.0837H10.4588V12.6347H12.2702C14.2626 12.6347 13.1758 16.0762 14.806 16.0762H19.3343V12.6347H18.2475V12.9969C18.2475 14.446 16.6173 14.2649 16.4362 13.3592C16.2551 12.4535 15.5305 11.729 15.3494 11.729C18.0664 10.2799 16.4362 7.38184 14.2626 7.38184H5.74941V9.37429H7.56073V14.0837H4.84375V16.0762Z",fill:"black",stroke:"black",strokeWidth:.181132,strokeLinejoin:"round"}),t.createElement("path",{d:"M11.9977 19.7961C16.2992 19.7961 19.7863 16.309 19.7863 12.0074C19.7863 7.70586 16.2992 4.21875 11.9977 4.21875C7.69609 4.21875 4.20898 7.70586 4.20898 12.0074C4.20898 16.309 7.69609 19.7961 11.9977 19.7961Z",stroke:"black",strokeWidth:1.63019}),t.createElement("path",{d:"M20.3281 12.5526L21.2338 12.0092L20.3281 11.4658V12.5526Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M20.0634 14.1665L21.0576 13.8102L20.2754 13.1006L20.0634 14.1665Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M19.4884 15.7028L20.5331 15.5473L19.9043 14.6987L19.4884 15.7028Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M18.6228 17.0946L19.6777 17.1459L19.2266 16.1909L18.6228 17.0946Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M17.505 18.287L18.5296 18.5432L18.2734 17.5186L17.505 18.287Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M16.1745 19.24L17.1295 19.6912L17.0781 18.6362L16.1745 19.24Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M14.6834 19.9144L15.532 20.5432L15.6875 19.4985L14.6834 19.9144Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M13.0884 20.2877L13.798 21.07L14.1543 20.0757L13.0884 20.2877Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M11.4542 20.3457L11.9976 21.2514L12.541 20.3457H11.4542Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M9.83839 20.0741L10.1947 21.0684L10.9043 20.2861L9.83839 20.0741Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M8.30648 19.5026L8.46193 20.5472L9.31055 19.9185L8.30648 19.5026Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M6.91668 18.6399L6.86534 19.6948L7.82031 19.2437L6.91668 18.6399Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M5.72176 17.5147L5.4656 18.5394L6.49023 18.2832L5.72176 17.5147Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M4.7673 16.1872L4.31617 17.1422L5.37109 17.0908L4.7673 16.1872Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M4.09192 14.6995L3.46314 15.5482L4.50781 15.7036L4.09192 14.6995Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M3.71962 13.1001L2.93737 13.8097L3.93164 14.166L3.71962 13.1001Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M3.66406 11.4664L2.7584 12.0098L3.66406 12.5532V11.4664Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M3.93273 9.85255L2.93846 10.2088L3.7207 10.9185L3.93273 9.85255Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M4.50769 8.32455L3.46302 8.48L4.0918 9.32861L4.50769 8.32455Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M5.37137 6.9323L4.31644 6.88096L4.76758 7.83594L5.37137 6.9323Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M6.49113 5.73201L5.4665 5.47585L5.72266 6.50049L6.49113 5.73201Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M7.8216 4.77951L6.86663 4.32838L6.91797 5.3833L7.8216 4.77951Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M9.31071 4.1051L8.46209 3.47633L8.30664 4.521L9.31071 4.1051Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M10.9038 3.73182L10.1942 2.94958L9.83789 3.94385L10.9038 3.73182Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M12.5419 3.68115L11.9985 2.77549L11.4551 3.68115H12.5419Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M14.1577 3.94542L13.8014 2.95115L13.0918 3.7334L14.1577 3.94542Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M15.6896 4.5243L15.5342 3.47963L14.6855 4.1084L15.6896 4.5243Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M17.0794 5.38699L17.1308 4.33207L16.1758 4.7832L17.0794 5.38699Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M18.2724 6.50432L18.5285 5.47968L17.5039 5.73584L18.2724 6.50432Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M19.2288 7.83186L19.6799 6.87688L18.625 6.92822L19.2288 7.83186Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M19.9022 9.3278L20.531 8.47918L19.4863 8.32373L19.9022 9.3278Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M20.2765 10.9194L21.0587 10.2098L20.0645 9.85352L20.2765 10.9194Z",fill:"black",stroke:"black",strokeWidth:.543396,strokeLinejoin:"round"}),t.createElement("path",{d:"M10.7305 4.39697L11.9984 5.6649L13.2663 4.39697H10.7305Z",fill:"black",stroke:"black",strokeWidth:1.08679,strokeLinejoin:"round"}),t.createElement("path",{d:"M18.8418 8.44678L18.0277 10.0445L19.6254 10.8585L18.8418 8.44678Z",fill:"black",stroke:"black",strokeWidth:1.08679,strokeLinejoin:"round"}),t.createElement("path",{d:"M17.4961 17.417L15.7251 17.1365L15.4445 18.9075L17.4961 17.417Z",fill:"black",stroke:"black",strokeWidth:1.08679,strokeLinejoin:"round"}),t.createElement("path",{d:"M8.55273 18.9019L8.27223 17.1308L6.50119 17.4113L8.55273 18.9019Z",fill:"black",stroke:"black",strokeWidth:1.08679,strokeLinejoin:"round"}),t.createElement("path",{d:"M4.37109 10.8623L5.96877 10.0482L5.15471 8.45057L4.37109 10.8623Z",fill:"black",stroke:"black",strokeWidth:1.08679,strokeLinejoin:"round"})),t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_5023_22095"},t.createElement("rect",{width:19.2,height:19.2,fill:"white",transform:"translate(2.40039 2.3999)"})))),yt=n=>t.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},t.createElement("g",{clipPath:"url(#clip0_5056_23288)"},t.createElement("path",{d:"M19.9991 8.43361C19.9991 8.26773 19.9991 8.11693 19.9991 7.95105C19.9841 7.6042 19.969 7.24228 19.9087 6.89544C19.8483 6.5486 19.7428 6.21683 19.5769 5.90015C19.411 5.58347 19.215 5.29695 18.9586 5.05566C18.7022 4.7993 18.4157 4.60326 18.1141 4.43738C17.7974 4.2715 17.4657 4.16594 17.1188 4.10562C16.772 4.0453 16.4251 4.01514 16.0632 4.01514C15.8973 4.01514 15.7465 4.01514 15.5807 4.01514C15.3846 4.01514 15.2037 4.01514 15.0076 4.01514H10.7701H9.02081C8.82477 4.01514 8.64381 4.01514 8.44777 4.01514C8.28189 4.01514 8.13109 4.01514 7.96521 4.01514C7.87473 4.01514 7.78425 4.01514 7.70885 4.03022C7.45248 4.0453 7.18104 4.06038 6.92468 4.10562C6.66832 4.15086 6.41195 4.22626 6.17067 4.31674C6.09527 4.3469 6.00479 4.39214 5.92939 4.4223C5.68811 4.54294 5.47699 4.69374 5.26587 4.85962C5.20555 4.91994 5.13015 4.98026 5.06983 5.04058C4.81346 5.29694 4.61742 5.58347 4.45154 5.88507C4.28566 6.20175 4.1801 6.53352 4.11978 6.88036C4.05946 7.2272 4.04438 7.57404 4.0293 7.93597C4.0293 8.10185 4.0293 8.25265 4.0293 8.41853C4.0293 8.61457 4.0293 8.79553 4.0293 8.99157V11.6004V14.9784C4.0293 15.1744 4.0293 15.3554 4.0293 15.5514C4.0293 15.7173 4.0293 15.8681 4.0293 16.034C4.04438 16.3808 4.05946 16.7428 4.11978 17.0896C4.1801 17.4364 4.28566 17.7682 4.45154 18.0849C4.61742 18.4016 4.81346 18.6881 5.06983 18.9294C5.32619 19.1857 5.61271 19.3818 5.91431 19.5477C6.23099 19.7135 6.56276 19.8191 6.9096 19.8794C7.25644 19.9397 7.60328 19.9699 7.96521 19.9699C8.13109 19.9699 8.28189 19.9699 8.44777 19.9699C8.64381 19.9699 8.82477 19.9699 9.02081 19.9699H15.0076C15.2037 19.9699 15.3846 19.9699 15.5807 19.9699C15.7465 19.9699 15.8973 19.9699 16.0632 19.9699C16.4101 19.9548 16.772 19.9397 17.1188 19.8794C17.4657 19.8191 17.7974 19.7135 18.1141 19.5477C18.4308 19.3818 18.7173 19.1857 18.9586 18.9294C19.215 18.673 19.411 18.3865 19.5769 18.0849C19.7428 17.7682 19.8483 17.4364 19.9087 17.0896C19.969 16.7428 19.9991 16.3959 19.9991 16.034C19.9991 15.8681 19.9991 15.7173 19.9991 15.5514C19.9991 15.3554 19.9991 15.1744 19.9991 14.9784V8.99157C19.9991 8.81061 19.9991 8.62965 19.9991 8.43361Z",fill:"#F05138"}),t.createElement("path",{d:"M16.6679 13.8777C16.6829 13.8174 16.698 13.7571 16.7131 13.6968C17.3766 11.0577 15.7631 7.92108 13.0185 6.27734C14.2249 7.906 14.7527 9.88149 14.2852 11.6006C14.24 11.7514 14.1947 11.9022 14.1344 12.053C14.0741 12.0078 13.9987 11.9625 13.8931 11.9173C13.8931 11.9173 11.1636 10.2283 8.20792 7.25755C8.13252 7.18215 9.79134 9.62513 11.6613 11.6006C10.7715 11.103 8.31348 9.30845 6.74515 7.89092C6.94119 8.2076 7.1674 8.52428 7.40868 8.8108C8.70557 10.4696 10.4096 12.5054 12.4454 14.0738C11.0128 14.9484 8.99209 15.0238 6.98644 14.0738C6.48879 13.8476 6.02131 13.561 5.58398 13.2444C6.42847 14.6016 7.74044 15.7778 9.33893 16.4715C11.239 17.2858 13.1391 17.2406 14.5416 16.4866C14.5416 16.4866 14.5567 16.4866 14.5567 16.4715C14.617 16.4413 14.6773 16.3961 14.7376 16.3659C15.4162 16.0191 16.7433 15.6723 17.4671 17.0596C17.6782 17.3763 18.0552 15.5667 16.6679 13.8777Z",fill:"white"})),t.createElement("defs",null,t.createElement("clipPath",{id:"clip0_5056_23288"},t.createElement("rect",{width:16,height:16,fill:"white",transform:"translate(4 4)"})))),c1=[{key:"python",icon:wt,label:"Python",envVar:"CODEX_ENV_PYTHON_VERSION",versions:["3.13","3.12","3.11","3.10"],defaultVersion:"3.12"},{key:"nodejs",icon:bt,label:"Node.js",envVar:"CODEX_ENV_NODE_VERSION",versions:["22","20","18"],defaultVersion:"20"},{key:"rust",icon:Et,label:"Rust",envVar:"CODEX_ENV_RUST_VERSION",versions:["1.87.0","1.86.0","1.85.1","1.84.1","1.83.0"],defaultVersion:"1.87.0"},{key:"go",icon:vt,label:"Go",envVar:"CODEX_ENV_GO_VERSION",versions:["1.24.3","1.23.8","1.22.12"],defaultVersion:"1.23.8"},{key:"bun",icon:gt,label:"Bun",envVar:"CODEX_ENV_BUN_VERSION",versions:["1.2.10"],defaultVersion:"1.2.10"},{key:"java",icon:kt,label:"Java",envVar:"CODEX_ENV_JAVA_VERSION",versions:["21"],defaultVersion:"21"},{key:"swift",icon:yt,label:"Swift",envVar:"CODEX_ENV_SWIFT_VERSION",versions:["6.1","5.10"],defaultVersion:"6.1"}],an=c1.map(n=>({key:n.envVar,value:n.defaultVersion}));function jt({selectedVersion:n,setSelectedVersion:s,versions:a,defaultVersion:o}){const r=R();return e.jsxs(N.Root,{value:n??"",onValueChange:s,children:[e.jsx(N.Trigger,{className:"border-token-border-default bg-token-bg-primary! w-48 rounded-md! border","aria-label":r.formatMessage({id:"wham.createEnvironments.languageSelector.openVersionMenu",defaultMessage:"Open version menu"}),children:e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsx(N.Value,{placeholder:r.formatMessage({id:"wham.createEnvironments.languageSelector.selectVersion",defaultMessage:"Select version"})}),e.jsx(N.Icon,{})]})}),e.jsx(N.Portal,{children:e.jsxs(N.Content,{align:"start",children:[a.map(l=>e.jsx(N.Item,{value:l,children:e.jsx("p",{className:J("text-token-text-primary text-sm",l===o?"font-semibold":"font-normal"),children:l})},l)),a.length===1&&e.jsx("div",{className:"flex w-full items-center justify-center p-4",children:e.jsx("p",{className:"text-token-text-primary text-sm",children:r.formatMessage({id:"wham.createEnvironments.languageSelector.noVersions",defaultMessage:"No other versions available"})})})]})})]})}function Mt({icon:n,language:s,versions:a,defaultVersion:o,selectedVersion:r,setSelectedVersion:l}){return e.jsxs("div",{className:"flex items-center justify-between gap-2 pe-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"icon-md"}),e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:s})]}),e.jsx(jt,{defaultVersion:o,selectedVersion:r,setSelectedVersion:l,versions:a})]})}function Nt(n,s){const a=n.split(".").map(Number),o=s.split(".").map(Number);for(let r=0;r<Math.max(a.length,o.length);r++){const l=a[r]??0,i=o[r]??0;if(l!==i)return i-l}return 0}function St({closeModal:n,envVars:s,pushValue:a,replaceValue:o}){const r=R(),l=i=>c=>{const m=s.findIndex(u=>u.key===i);m!==-1?o(m,{...s[m],value:c}):a({key:i,value:c})};return e.jsx(Te,{isOpen:!0,onClose:n,type:"success",testId:"modal-language-selector-modal",showCloseButton:!0,className:"max-w-screen-xs",title:r.formatMessage({id:"wham.languageModal.languageSelector.title",defaultMessage:"Package versions"}),children:e.jsx("div",{className:"flex flex-col gap-4",children:c1.map(i=>{const c=[...i.versions],m=s.find(u=>u.key===i.envVar)?.value;return m&&!c.includes(m)&&c.push(m),c.sort(Nt),e.jsx(Mt,{icon:i.icon,language:i.label,versions:c,selectedVersion:m??i.defaultVersion,defaultVersion:i.defaultVersion,setSelectedVersion:u=>l(i.envVar)(u)},i.envVar)})})})}const X=64,me=512,Lt="<REDACTED>",Ne=[{id:"wham-public/wham-universal",label:"universal"}];function _t({selectedMachineId:n,setSelectedMachineId:s}){const a=R(),{data:o}=m1({queryKey:["wham","machines"],queryFn:()=>Pe.getMachines()}),r=t.useMemo(()=>{const c=Array.isArray(o)?o:[],m=new Set(Ne.map(h=>h.id));return[...c.filter(h=>!m.has(h.id)),...Ne]},[o]),l=r.find(c=>c.id===n);t.useEffect(()=>{n&&!l?s(""):!n&&r.length&&s(r[0].id)},[n,l,s,r]);const i=c=>{s(c)};return e.jsxs(N.Root,{value:n??"",onValueChange:i,children:[e.jsx(N.Trigger,{className:"border-token-border-default! bg-token-bg-primary! w-48 rounded-md! border","aria-label":a.formatMessage({id:"wham.machineSelectorPopover.openMachineMenu",defaultMessage:"Open machine menu"}),children:e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsx(N.Value,{placeholder:a.formatMessage({id:"wham.machineSelectorPopover.selectMachine",defaultMessage:"Select machine"})}),e.jsx(N.Icon,{})]})}),e.jsx(N.Portal,{children:e.jsx(N.Content,{align:"start",className:"bg-token-bg-primary",children:e.jsx(At,{machines:r})})})]})}function At({machines:n}){return e.jsxs("div",{className:"bg-token-bg-primary flex max-h-[400px] w-full flex-col gap-2 overflow-y-auto rounded-lg p-2",children:[n.length>0?n.map(s=>e.jsx(N.Item,{value:s.id,children:s.label},s.id)):e.jsx("div",{className:"p-2 text-center",children:e.jsx("p",{className:"text-token-text-secondary text-sm",children:e.jsx(E,{id:"wham.createEnvironments.machineSelector.noMatchesFound",defaultMessage:"No matches found"})})}),n.length===1&&e.jsx("div",{className:"p-2 text-start",children:e.jsx("p",{className:"text-token-text-tertiary ps-2 text-xs",children:e.jsx(E,{id:"wham.createEnvironments.machineSelector.noMachinesFound",defaultMessage:"Custom images coming soon"})})})]})}function Rt({selectedMachineId:n,setSelectedMachineId:s,envVars:a,pushValue:o,replaceValue:r}){const[l,i]=t.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironments.machineSelector",defaultMessage:"Container image"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_t,{selectedMachineId:n,setSelectedMachineId:s}),e.jsx(T,{color:"secondary",size:"medium",type:"button",icon:h1,onClick:()=>{i(!0)},className:"w-fit",children:e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironments.languageSelector.title",defaultMessage:"Set package versions"})})})]})]}),l&&e.jsx(St,{closeModal:()=>i(!1),envVars:a,pushValue:o,replaceValue:r})]})}function It({value:n,index:s,changeValue:a,removeValue:o}){const r=R();return e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx("div",{className:"flex w-full flex-1 flex-col gap-2",children:e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx(q,{name:`secrets[${s}].key`,color:"search",containerInputClassName:"w-full",className:"text-token-text-primary flex h-8 w-full items-center rounded-md!",value:n.key,onChange:l=>{a(s,{...n,key:l.target.value})},placeholder:r.formatMessage({id:"wham.secretsSection.keyPlaceholder",defaultMessage:"Key"}),ariaLabel:r.formatMessage({id:"wham.secretsSection.keyAria",defaultMessage:"Secret Key"})}),e.jsx(q,{name:`secrets[${s}].value`,className:"text-token-text-primary flex h-8 w-full items-center rounded-md!",containerInputClassName:"w-full",color:"search",type:"password",value:n.value,onChange:l=>{a(s,{...n,value:l.target.value})},placeholder:r.formatMessage({id:"wham.secretsSection.value",defaultMessage:"Value"}),ariaLabel:r.formatMessage({id:"wham.secretsSection.secretValue",defaultMessage:"Secret Value"})}),e.jsx(T,{type:"button",size:"small",color:"secondary",onClick:()=>o(s),children:e.jsx(E,{id:"wham.createEnvironments.secretsSection.delete",defaultMessage:"Delete"})})]})})})}function Vt({pushValue:n,removeValue:s,changeValue:a,values:o}){return e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironments.secretsSection",defaultMessage:"Secrets"})}),o.map((r,l)=>e.jsx(It,{value:r,index:l,changeValue:a,removeValue:s},l)),e.jsx("div",{className:"pt-4",children:e.jsx(T,{color:"secondary",size:"small",icon:pe,onClick:()=>{n({key:"",value:"",isEditing:!1})},type:"button",className:"w-fit",children:e.jsx(E,{id:"wham.createEnvironments.secretsSection.add",defaultMessage:"Add"})})})]})}const Tt=`# e.g.
pip install -r requirements.txt
npm install
./run/setup.sh
`;function Dt({script:n,onChange:s,onClickAppendReplHistory:a,inputRef:o,replCommandHistory:r}){const l=R(),i=Math.min(10,Math.max(4,n.split(`
`).length));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-token-text-primary text-sm font-medium",children:e.jsx(E,{id:"wham.createEnvironments.setupCommandsSection",defaultMessage:"Setup script"})}),r.length>0&&e.jsx(oe,{className:"-my-2.5 block",label:l.formatMessage({id:"wham.createEnv.terminal.addCommands",defaultMessage:"Add commands you've run to the setup script"}),children:e.jsx(T,{type:"button",color:"secondary",size:"small",onClick:a,icon:pe,children:e.jsx(E,{id:"wham.createEnvironments.terminalSection.addToSetupScript",defaultMessage:"New commands ({count})",values:{count:r.length}})})})]}),e.jsx("p",{className:"text-token-text-tertiary pt-2 text-xs font-medium",children:e.jsx(E,{id:"wham.createEnvironments.setupCommandsSection.description",defaultMessage:"The setup script is run at the start of every task, after the repo is cloned.{br}Internet is disabled after the setup script run.",values:{br:e.jsx("br",{})}})}),e.jsx("div",{className:"flex items-center gap-2 pt-4",children:e.jsx("textarea",{ref:o,name:"setupCommands",className:"border-token-border-default focus-within:border-token-border-heavy focus-within:ring-token-text-secondary bg-token-bg-primary min-h-52 w-full resize-y rounded-md border px-3 py-2 font-mono text-xs shadow-none focus-within:ring-1",value:n,rows:i,onChange:c=>{s(c.target.value)},placeholder:Tt,"aria-label":l.formatMessage({id:"wham.setupCommandsSection.setupCommand",defaultMessage:"Setup Command"})})})]})}function Pt(n,s){const a={};for(const{key:o,value:r}of n){const l=s[o];l===void 0?r!==""&&(a[o]=r):r!==Lt&&r!==l&&(a[o]=r)}for(const o of Object.keys(s))n.some(r=>r.key===o)||(a[o]=null);return a}function Ft(){const n=R(),[s,a]=t.useState([]),[o,r]=t.useState(null),[l,i]=t.useState(!1),[c,m]=t.useState(null),u=t.useRef(null),h=t.useCallback(async g=>{try{for await(const j of g){const x=d1(j);if(!x)continue;const b=x.type;switch(b){case"client_error":case"server_error":r(x.message);break;case"log":{if(x.key==="heartbeat")break;if(x.key.startsWith("userscript_")){const[,v]=x.key.split("_"),C=Number(v);if(!Number.isFinite(C))return;x.line.startsWith("+ ")?a(w=>[...w,{messageType:"user",line:x.line.slice(2),scriptIndex:C}]):a(w=>[...w,{messageType:"output",line:x.line,scriptIndex:C}])}else x.line.startsWith("+ ")?a(v=>[...v,{messageType:"server",line:x.line.slice(2)}]):a(v=>[...v,{messageType:"output",line:x.line}]);break}case"test_session_started":m(x.test_session_id);break;default:Re(b)}}}catch(j){if(Fe(j))return;if(j instanceof k1&&j.status===429){r(n.formatMessage({id:"wham.useStreamTestEnv.errorRateLimited",defaultMessage:"Too many requests: Your environment didn't start because we're at capacity. Try again soon."}));return}r(n.formatMessage({id:"wham.useStreamTestEnv.errorConnecting",defaultMessage:"Error connecting to the test environment"}))}finally{i(!1)}},[n]),d=(g,j,x={})=>{u.current=new AbortController,a([]),i(!0),r(null),m(null);const v=window.location.origin+"/backend-api/wham/environments/test",C=Pt(g.secrets,x),w=g.envVars.reduce((_,S)=>(_[S.key]=S.value,_),{}),k=Ie(v,{method:"POST",body:{environment_id:j,machine_id:g.machine,repos:[g.repositoryId],setup:[g.setupCommands],workspace_dir:g.workspaceDirectory,secrets:C,env_vars:w},signal:u.current.signal,headers:{...De.getAuthedHeaders({isAuthOptional:!1}),"Content-Type":"application/json"},observer:{onClose:(_,S)=>{i(!1),_==="error"&&S instanceof Error&&r(S.message)}}});(async()=>await h(k))()},y=t.useCallback(()=>{u.current?.abort(),a(g=>[...g,{messageType:"output",line:"Test cancelled"}])},[]);return t.useEffect(()=>()=>{u.current?.abort()},[]),{messages:s,error:o,setError:r,isStreaming:l,startTestEnvironment:d,abortTestEnvironment:y,testSessionId:c,setTestSessionId:m}}function d1(n){return!("data"in n)||!n.data?null:n.data}function Ot({testSessionId:n,replOutput:s,inputRef:a,setReplOutput:o,setError:r,onSetConnected:l,onSubmitCommand:i}){const c=R(),[m,u]=t.useState(""),h=t.useCallback(({command:v})=>{n&&Pe.runEnvironmentTestCommand({command:v,testSessionId:n})},[n]),d=t.useCallback(async v=>{try{for await(const C of v){const w=d1(C);if(!w)continue;const k=w.type;switch(k){case"client_error":case"server_error":r(w.message);break;case"log":{const _=atob(w.line);o(S=>[...S,_]);break}case"test_session_started":break;default:Re(k)}}}catch(C){if(Fe(C))return;r(c.formatMessage({id:"wham.envTestRepl.error",defaultMessage:"Error connecting to the test environment"}))}},[c,r,o]),{connected:y}=Wt({testSessionId:n,processStream:d,setError:r});t.useEffect(()=>{l(y)},[y,l,o]),t.useEffect(()=>{n||o([])},[n,o]);const g=t.useRef(null),j=s.map((v,C)=>e.jsx(ue,{children:v.replace(/\x1b\].*?\x07/g,"")},C)),[x,b]=t.useState(!1);return n?e.jsxs("div",{className:"flex w-full flex-col whitespace-pre",children:[j,e.jsxs("div",{className:"relative w-full p-0 text-[12px] leading-4 focus:ring-0",children:[e.jsxs("span",{"aria-hidden":!0,className:"flex min-h-4 min-w-2",children:[m,e.jsx("span",{className:"inline-block h-auto w-2",children:x?e.jsx("div",{className:"bg-token-text-primary h-full w-full"}):e.jsx(u1.div,{className:"bg-token-text-primary h-full w-full",animate:{opacity:[0,1,0]},transition:{type:"tween",ease:"easeInOut",duration:2,repeat:1/0}})})]}),e.jsx("input",{type:"text",className:"absolute h-[1px] w-[1px] opacity-0",disabled:!y,onChange:v=>u(v.target.value),onFocus:()=>b(!0),onBlur:()=>b(!1),onKeyDown:v=>{const C=Zt(v);if(C){v.preventDefault(),u(""),h({command:C});return}if(v.key==="Enter"){v.preventDefault(),u("");const w=m+`
`;i(w),h({command:w})}},value:m,ref:C1(a,g)})]})]}):null}function Zt(n){return n.ctrlKey?n.key==="c"?"":n.key==="d"?"":null:null}function Wt({testSessionId:n,processStream:s,setError:a}){const[o,r]=t.useState(!1),l=t.useCallback(i=>{const m=window.location.origin+`/backend-api/wham/environments/test/${n}/stream`,u=Ie(m,{method:"POST",signal:i.signal,headers:{...De.getAuthedHeaders({isAuthOptional:!1}),"Content-Type":"application/json"},observer:{onOpen:()=>{r(!0)},onClose:(h,d)=>{r(!1),h==="error"&&d instanceof Error&&a(d.message)}}});(async()=>await s(u))()},[n,s,a]);return t.useEffect(()=>{if(!n)return;const i=new AbortController;return l(i),()=>{i.abort()}},[n,l]),{connected:o}}const Ht=61613727;function Ut({formValues:n,installationId:s,initialSecrets:a,environmentId:o,onConnectedChange:r,onSubmitCommand:l}){const i=R(),{messages:c,error:m,setError:u,abortTestEnvironment:h,isStreaming:d,startTestEnvironment:y,testSessionId:g,setTestSessionId:j}=Ft(),[x,b]=t.useState([]),v=t.useRef(null),C=t.useRef(null),[w,k]=t.useState(!1);t.useEffect(()=>{k(!0)},[n]);const{value:_}=Me("670492217"),S=Me("392240685").value||!1,[F,V]=t.useState(!0);t.useEffect(()=>{if(v.current&&C.current&&F){const p=v.current,M=C.current;M.scrollTop=p.offsetTop-M.offsetTop-M.clientHeight/2+p.clientHeight/2}},[c,x,F]);const te=()=>{const p=C.current;if(!p)return;const M=Math.abs(p.scrollTop+p.clientHeight-p.scrollHeight)<2;V(M)},ne=()=>{k(!1),j(null),y(n,o,a)},D=_&&s===Ht&&!0,[O,B]=t.useState(!1),W=p=>{B(p),r(p)};t.useEffect(()=>()=>r(!1),[]);const $=t.useRef(null),se=!O&&!d,A=!se&&w,G=se||A,H=D||!n.repositoryId,[U,ae]=t.useState(!1),z=e.jsx("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/20 dark:bg-white/5",onMouseUp:p=>p.stopPropagation(),onClick:()=>{A&&(k(!1),ae(!0))},children:e.jsx(oe,{open:H||A?void 0:!1,label:H?D?i.formatMessage({id:"wham.createEnv.terminal.testComingSoon",defaultMessage:"Test support for openai repos is coming soon!"}):i.formatMessage({id:"wham.createEnv.terminal.selectRepo",defaultMessage:"Please select a repository"}):A?i.formatMessage({id:"wham.createEnv.terminal.restartTooltip",defaultMessage:"Changes will only be reflected after a restart."}):void 0,children:e.jsx(T,{onClick:ne,disabled:!n.repositoryId||D,type:"button",color:"primary-inverse",icon:L1,children:A?e.jsx(E,{id:"wham.createEnvironments.terminalSection.reRunSetupScript",defaultMessage:"Re-run setup script"}):e.jsx(E,{id:"wham.createEnvironments.terminalSection.runSetupScript",defaultMessage:"Connect interactive terminal"})})})}),[{height:K},f]=x1();return e.jsx("div",{className:"relative h-full w-full p-3",children:e.jsxs("div",{onMouseUp:p=>{document.getSelection()?.toString()||($.current?.focus(),p.preventDefault())},className:"dark focus-within:ring-primary relative flex h-full w-full flex-col overflow-hidden rounded-xl ring-offset-2 focus-within:ring-2",children:[e.jsxs("div",{ref:f,className:"bg-token-bg-tertiary flex shrink-0 flex-row justify-between p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:e.jsx(E,{id:"wham.createEnvironments.terminalSection",defaultMessage:"Terminal"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[O&&e.jsx(oe,{className:"flex",open:U?!0:void 0,label:i.formatMessage({id:"wham.createEnvironments.terminalSection.restartSessionTooltip",defaultMessage:"Restart terminal session"}),children:e.jsx(ye,{icon:e.jsx(g1,{className:"icon-sm"}),className:"-m-1 h-6! w-6!",onClick:ne,onMouseEnter:()=>ae(!1),label:i.formatMessage({id:"wham.createEnvironments.terminalSection.restartSession",defaultMessage:"Restart session"})})}),d&&e.jsx(oe,{className:"flex",open:U?!0:void 0,label:i.formatMessage({id:"wham.createEnvironments.terminalSection.cancelSessionTooltip",defaultMessage:"Cancel terminal session"}),children:e.jsx(ye,{icon:e.jsx(_1,{className:"icon-sm"}),className:"-m-1 h-6! w-6!",onClick:h,label:i.formatMessage({id:"wham.createEnvironments.terminalSection.cancelSession",defaultMessage:"Cancel session"})})}),O?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs text-white",children:e.jsx(E,{id:"wham.createEnvironments.terminalSection.connected",defaultMessage:"Connected"})}),e.jsx(Se,{color:"#52EA00"})]}):d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs text-white",children:e.jsx(E,{id:"wham.createEnvironments.terminalSection.initializing",defaultMessage:"Initializing"})}),e.jsx(Se,{color:"#FF9800"})]}):null]})]}),m&&e.jsxs("div",{style:{top:K},className:"bg-token-bg-status-error text-token-text-status-error absolute start-0 end-0 top-0 z-20 flex flex-col gap-2 px-4 py-3 text-sm",children:[e.jsx("p",{className:"font-medium",children:e.jsx(E,{id:"wham.createEnvironments.terminalSection.error",defaultMessage:"Terminal errored"})}),e.jsx("p",{className:"font-mono text-xs",children:m})]}),G&&z,e.jsxs("div",{className:"bg-token-bg-secondary relative flex flex-1 flex-col overflow-y-auto p-4 font-mono text-xs text-white",onScroll:te,ref:C,children:[c.length===0&&!d&&e.jsx("p",{className:"text-token-text-tertiary",children:`${n.workspaceDirectory} $`}),c.map((p,M)=>p.messageType==="user"?e.jsx(ue,{className:"text-token-text-tertiary",children:"→ "+p.line},M):p.messageType==="server"?e.jsx("p",{className:"text-token-text-tertiary",children:p.line}):e.jsx(ue,{children:p.line},M)),S&&e.jsx(Ot,{inputRef:$,testSessionId:g,replOutput:x,setReplOutput:b,setError:u,onSetConnected:W,onSubmitCommand:l}),e.jsx("div",{ref:v})]})]})})}function Se({color:n}){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",className:"animate-pulse",children:e.jsx("circle",{cx:"3",cy:"3",r:"3",fill:n})})}function Bt({workspaceDirectory:n,repositoryName:s,onChange:a,closeModal:o,errors:r}){const l=R(),[i,c]=t.useState(n),[m]=t.useState(n??"/workspace"),u=l.formatMessage({id:"wham.createEnvironments.workspaceEditorModal.defaultRepositoryName",defaultMessage:"repository"}),h=({forceClear:d}={})=>{(r.length>0||d)&&a(m),o()};return e.jsx(Te,{isOpen:!0,onClose:()=>h(),type:"success",testId:"modal-workspace-editor-modal",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"text-token-text-primary text-xl font-medium",children:e.jsx(E,{id:"wham.createEnvironments.workspaceEditorModal.title",defaultMessage:"Edit workspace directory"})}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsx(q,{name:"workspaceDirectory",value:i,onChange:d=>{c(d.target.value),a(d.target.value)},inputClassName:"w-full",containerInputClassName:"w-full",color:"quaternary",ariaLabel:l.formatMessage({id:"wham.createEnvironments.workspaceEditorModal.inputAriaLabel",defaultMessage:"Workspace directory"})})}),r.length>0&&e.jsx("div",{className:"flex flex-col gap-2",children:r.map(d=>e.jsx("div",{className:"text-token-text-status-error text-xs",children:d},d))}),e.jsx("div",{className:"text-token-text-tertiary text-xs",children:e.jsx(E,{id:"wham.createEnvironments.workspaceEditorModal.description",defaultMessage:"The repository will be cloned to {workspaceDirectory}/{repositoryName}. You only need to adjust this if your code requires an absolute install path.",values:{repositoryName:s??u,workspaceDirectory:n??m}})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{color:"secondary",onClick:()=>h({forceClear:!0}),children:e.jsx(E,{id:"wham.createEnvironments.workspaceEditorModal.cancelButton",defaultMessage:"Cancel"})}),e.jsx(T,{onClick:()=>o(),disabled:r.length>0,children:e.jsx(E,{id:"wham.createEnvironments.workspaceEditorModal.saveButton",defaultMessage:"Save"})})]})]})})}function Le({current:n,max:s,className:a}){return e.jsx("span",{className:`text-xs ${n>s?"text-token-text-status-error":"text-token-text-tertiary"} ${a??""}`.trim(),children:e.jsx(E,{id:"wham.characterCount.display",defaultMessage:"{current}/{max}",values:{current:n,max:s}})})}const _e=({value:n,subtitle:s,label:a,children:o,isLast:r,isFirst:l,onClick:i})=>e.jsxs(o1,{value:n,className:"group flex min-h-0 flex-col data-[state=open]:flex-1",children:[e.jsxs(l1,{onClick:i,className:J("bg-token-bg-primary sticky z-10 gap-2 border-s border-e border-t px-3 py-2 shadow-[0_1px_0_0_var(--border-light)]",l&&"rounded-t-lg",r&&"data-[state=closed]:rounded-b-lg"),children:[e.jsx("span",{className:"text-token-text-primary text-lg font-medium group-data-[state=closed]:opacity-50",children:a}),e.jsx("span",{className:"text-token-text-tertiary ms-auto text-xs",children:s})]}),e.jsx(i1,{className:J("flex min-h-0 shrink grow flex-col gap-6 overflow-y-auto border-s border-e bg-[#F7F7F7] shadow-[inset_0_4px_6px_-4px_rgba(0,0,0,0.05)] dark:bg-[#1E1E1E]",r&&"group-data-[state=open]:rounded-b-lg group-data-[state=open]:border-b"),children:o})]});function rn({initialEnvironmentId:n,initialValues:s,primaryButtonText:a,onSubmit:o,isPending:r,existingEnvironment:l}){const[i,c]=t.useState(null),[m,u]=t.useState(null),{data:h}=S1(),d=R(),y=b1(),g=t.useRef(null),[j,x]=t.useState(!1),b=Ve(),v=w1(),C=b?.isEnterprisey(),w=E1(v,"627760596"),k=A1({defaultValues:s,validators:{onSubmit:({value:f})=>{f.machine||=s.machine;const p={};return f.label.trim()||(p.label=d.formatMessage({id:"wham.environmentsForm.labelIsRequired",defaultMessage:"Label is required"})),f.label.length>X&&(p.label=d.formatMessage({id:"wham.environmentsForm.labelMaxChars",defaultMessage:"Label must be at most {max} characters"},{max:X})),h?.find(M=>M.label===f.label&&M.id!==n)&&(p.label=d.formatMessage({id:"wham.environmentsForm.labelAlreadyExistsInYourAccountPleaseChooseAnotherName",defaultMessage:"An environment with this name already exists. Try choosing another name."})),f.repositoryId.trim()||(p.repositoryId=d.formatMessage({id:"wham.environmentsForm.repositoryRequired",defaultMessage:"Repository is required"})),f.machine.trim()||(p.machine=d.formatMessage({id:"wham.environmentsForm.machineRequired",defaultMessage:"Machine is required"})),f.description&&f.description.length>me&&(p.description=d.formatMessage({id:"wham.environmentsForm.descriptionMaxChars",defaultMessage:"Description must be at most {max} characters"},{max:me})),f.secrets.some(M=>M.value===""||M.key==="")&&(p.secrets=d.formatMessage({id:"wham.environmentsForm.secretRequired",defaultMessage:"Secret value is required"})),f.envVars.some(M=>M.key===""||M.value==="")&&(p.envVars=d.formatMessage({id:"wham.environmentsForm.valueRequired",defaultMessage:"Environment variable value is required"})),f.secrets.some(M=>M.isEditing)&&(p.secrets=d.formatMessage({id:"wham.environmentsForm.editingSecrets",defaultMessage:"Secrets are being edited"})),Object.keys(p).length>0&&y.danger(d.formatMessage({id:"wham.environmentsForm.validationError",defaultMessage:"Please address the validation issues in the form."})),{fields:p}}},onSubmit:({value:f})=>{o(f)}}),_=R1(k.store,f=>f.isDirty),[S,F]=t.useState(!1),[V,te]=t.useState([]);t.useEffect(()=>!_&&!S&&!V.length?void 0:y1(window,{beforeunload:p=>{p.preventDefault(),p.returnValue=d.formatMessage({id:"wham.environmentsForm.unsavedChanges",defaultMessage:"You have unsaved changes to your environment. Are you sure you want to leave?"})}}),[d,_,S,V]);const ne=f=>{f.preventDefault(),f.stopPropagation(),k.handleSubmit()},D=P({name:"label",form:k,validators:{onChange:({value:f})=>{if(f.length>X)return d.formatMessage({id:"wham.environmentsForm.labelMaxChars",defaultMessage:"Label must be at most {max} characters"},{max:X});if(h?.find(p=>p.label===f&&p.id!==n))return d.formatMessage({id:"wham.environmentsForm.labelAlreadyExistsInYourAccountPleaseChooseAnotherName",defaultMessage:"An environment with this name already exists. Try choosing another name."})}}}),O=P({name:"repositoryId",form:k}),B=P({name:"description",form:k}),W=P({name:"secrets",form:k,mode:"array"}),$=P({name:"share_settings",form:k}),se=e.jsxs("div",{className:"flex w-full grow flex-col gap-4 p-4 md:max-w-[50%]",children:[!l&&e.jsx(j1,{selectedInstallationId:i,setSelectedInstallationId:c}),e.jsxs("div",{className:"flex flex-col",children:[l?e.jsx(ft,{repositoryId:O.state.value,existingEnvironment:l,setRepositoryName:u}):e.jsx(N1,{selectedRepository:O.state.value,onSelect:(f,p,M)=>{O.handleChange(f),D.handleChange(p),u(M)},installationId:i}),e.jsx(Z,{field:O})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(xt,{onChange:D.handleChange,value:D.state.value}),e.jsxs("div",{className:"flex flex-row justify-between pt-1",children:[e.jsx(Z,{field:D}),e.jsx(Le,{current:D.state.value.length,max:X})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(ut,{onChange:B.handleChange,value:B.state.value}),e.jsxs("div",{className:"flex flex-row justify-between pt-1",children:[e.jsx("p",{className:"text-token-text-tertiary text-xs",children:e.jsx(E,{id:"wham.createEnvironments.descriptionSection.description",defaultMessage:"Explain to members of your organization what this environment is for."})}),e.jsx(Le,{current:B.state.value.length,max:me})]}),e.jsx(Z,{field:B})]}),w&&C&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Ct,{value:$.state.value,onChange:$.handleChange}),e.jsx(Z,{field:$})]})]}),A=P({name:"envVars",form:k,mode:"array"}),G=P({name:"machine",form:k}),H=P({name:"setupCommands",form:k,mode:"array"}),U=P({name:"workspaceDirectory",form:k,validators:{onChange:({value:f})=>{if(f)if(f.includes("/")){if(f==="/")return d.formatMessage({id:"wham.environmentsForm.workspaceDirectoryCannotBeRoot",defaultMessage:"Workspace directory cannot be root"})}else return d.formatMessage({id:"wham.environmentsForm.workspaceDirectoryMustContainASlash",defaultMessage:"Workspace directory must contain a slash"});else return d.formatMessage({id:"wham.environmentsForm.workspaceDirectoryRequired",defaultMessage:"Workspace directory is required"})}}}),ae=e.jsx("div",{className:"flex h-full flex-col gap-4",children:e.jsxs("div",{className:"flex h-full flex-col md:flex-row",children:[e.jsxs("div",{className:"flex max-h-full min-w-0 flex-1 basis-full flex-col gap-8 overflow-y-auto p-4 md:basis-1/2",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Rt,{selectedMachineId:G.state.value,setSelectedMachineId:f=>G.handleChange(f),envVars:A.state.value,pushValue:A.pushValue,replaceValue:A.replaceValue}),e.jsx(Z,{field:G})]}),e.jsxs("p",{className:"text-token-text-tertiary text-xs",children:[e.jsx(E,{id:"wham.createEnvironments.machineSelector.description",defaultMessage:"Universal is an image based on Ubuntu 24.04 - see <dockerfile>openai/codex-universal</dockerfile> to learn more. The repository will be cloned to {workspaceDirectory}/{repo_name}. <EditWorkspace>Edit workspace directory.</EditWorkspace>",values:{repo_name:m??"",workspaceDirectory:U.state.value??"/workspace",dockerfile:f=>e.jsx("a",{href:"https://github.com/openai/codex-universal",target:"_blank",rel:"noopener noreferrer",className:"underline",children:f}),EditWorkspace:f=>e.jsx("button",{className:"underline",type:"button",onClick:()=>{x(!0)},children:f})}}),j&&e.jsx(Bt,{onChange:f=>U.handleChange(f),repositoryName:m,workspaceDirectory:U.state.value,errors:U.state.meta.errors.filter(f=>!!f),closeModal:()=>x(!1)})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(pt,{pushValue:A.pushValue,removeValue:A.removeValue,changeValue:A.replaceValue,values:A.state.value}),e.jsx(Z,{field:A})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Vt,{pushValue:W.pushValue,removeValue:W.removeValue,changeValue:W.replaceValue,values:W.state.value}),e.jsx(Z,{field:W})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(Dt,{onClickAppendReplHistory:()=>{const f=d.formatMessage({id:"wham.createEnv.terminal.recentCommands",defaultMessage:"Recent commands"}),p=H.state.value,M=`${p?`

`:""}# ${f}:
`+V.join("");k.setFieldValue("setupCommands",p+M),te([]),setTimeout(()=>{if(g.current){const Ee=g.current;Ee.scrollTop=Ee.scrollHeight}},1)},replCommandHistory:V,script:H.state.value,onChange:H.handleChange,inputRef:g}),e.jsx(Z,{field:H})]})]}),e.jsx("div",{className:"flex h-full min-w-0 flex-1 basis-full flex-col gap-3 md:basis-1/2",children:e.jsx(k.Subscribe,{selector:f=>f.values,children:f=>e.jsx(Ut,{formValues:f,environmentId:n,onConnectedChange:F,installationId:i,initialSecrets:s.secrets.reduce((p,M)=>(p[M.key]=M.value,p),{}),onSubmitCommand:p=>{p.trim()&&te(M=>[...M,p])}})})})]})}),[z,K]=t.useState("basic");return e.jsxs("form",{onSubmit:ne,className:"flex min-h-0 grow flex-col overflow-clip",children:[e.jsxs(mt,{value:z,onValueChange:f=>K(f),type:"single",className:"flex max-h-full min-h-0 w-full shrink grow flex-col",children:[e.jsx(_e,{value:"basic",onClick:()=>K(z==="basic"?"advanced":"basic"),label:d.formatMessage({id:"wham.environmentsForm.basic",defaultMessage:"Basic"}),subtitle:d.formatMessage({id:"wham.environmentsForm.basicSubtitle",defaultMessage:"Setup a basic environment"}),isFirst:!0,isLast:!1,children:se}),e.jsx(_e,{value:"advanced",onClick:()=>K(z==="basic"?"advanced":"basic"),label:d.formatMessage({id:"wham.environmentsForm.advanced",defaultMessage:"Advanced"}),subtitle:d.formatMessage({id:"wham.environmentsForm.advancedSubtitle",defaultMessage:"Configure an advanced environment with code execution, lints and tests."}),isLast:!0,isFirst:!1,children:ae})]}),e.jsx("div",{className:"bg-token-bg-primary flex w-full items-center py-4",children:e.jsx(k.Subscribe,{selector:f=>f.values,children:f=>e.jsx(T,{color:"primary",size:"medium",type:"button",className:"ms-auto",loading:r,disabled:!f.repositoryId,onClick:p=>{p.preventDefault(),p.stopPropagation(),k.handleSubmit()},children:a})})})]})}export{an as D,rn as E,Ne as P,Lt as R,Pt as g};
//# sourceMappingURL=k60a3qznu8auu1al.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nfqmor1q4t3d1rq6.js","assets/msupklk377u8vx8o.js"])))=>i.map(i=>d[i]);
import{c as ue,f as ee,r as b,a as ts,j as s,M as p,s as he,u as ns,v as Ae,L as as}from"./msupklk377u8vx8o.js";import{e as os,n9 as te,ep as Ge,bF as Pe,cv as f,es as is,et as Te,eu as rs,en as U,ev as $,ew as ls,eA as cs,eF as je,ex as ds,eB as us,eK as ne,eM as ms,h as xs,eE as fs,k5 as ps,na as hs,nb as me,fp as gs,nc as Be,e6 as js,ec as Le,mn as qe,nd as Qe,ne as He,ed as ce,nf as vs,ng as ve,eW as ae,ml as ys,nh as bs,ea as Ss,eb as Cs,ni as Ee,eq as Ns,nj as ws,dA as ks,df as Is,nk as Ms,nl as ye,nm as _s,nn as we,no as Fs,cn as ge,O as Ps,np as De,k4 as Ts,nq as Es,nr as Ds,ns as Us,jx as zs,jy as Rs,nt as be,nu as Os,nv as As,nw as Gs,nx as Bs,fz as Ls,f0 as Ke,aT as qs,aR as Qs,ny as Hs,d as Ks,nz as Ue,nA as Ws,nB as Xs}from"./idf4u2jy0wx0pvap.js";import{g as $s,D as Se,P as Vs}from"./jm9661216xi1kol5.js";import{G as Zs}from"./ikpwdaspyqzs2oop.js";import{g as Ys,m as xe,s as Js,c as O,v as et,bM as ze,_ as st,B as Ce,k as ke,D as tt,f as nt,bI as We,l as de,bn as at,gZ as ot,en as Xe,F as fe,bm as it,an as Ie,cM as Ne,dW as rt,de as lt,dg as ct,cC as dt,bo as ut,fP as mt}from"./i3bl95k8z8nuf4dv.js";import{C as xt}from"./ot1k26387o73dpla.js";import{i as ft}from"./o02jebqcoqg6cyor.js";import{F as pt}from"./gcz2j2o5g6y0kzog.js";import{f as ht}from"./m89x2zftpo6hrypr.js";import{u as gt}from"./hstsg1tnsukf0vw2.js";import{G as jt}from"./k4oexpwbiepmd1cd.js";import"./gc51ish3otzvnj1w.js";import"./hwl3hzno2kq7obfl.js";import"./hmii3551qscelikg.js";import"./i3xeaua08fnq6vw7.js";import"./iaogn9yqy8ycbrvh.js";import"./bjlvmvwbynia41h5.js";import"./igftvtdft8b4phs3.js";import"./o2t4lszmsavslsdu.js";import"./gwmfzjrffpu4d2tx.js";import"./gd7xfxa2yqt151v4.js";import"./en1ee50tqvrjf3xp.js";import"./n5fowtub43nwjawh.js";import"./lvc34l5biwha9w7t.js";import"./ev39bkx1q3tpviat.js";import"./etqfvs5ggajp1a11.js";import"./np9w83f07wa6edf5.js";const $e=et(()=>st(()=>import("./nfqmor1q4t3d1rq6.js"),__vite__mapDeps([0,1])).then(t=>t.DirectorySyncResourceManagedIndication));function vt(t,e){return t.type===U.USER?t.user_id===e.user_id:t.type===U.GROUP?t.group_id===e.group_id:t.type===e.type}function yt(t){"use forget";const e=ue.c(73),{gizmo:n,publishedGizmo:a,onClose:i}=t,o=Ys(),r=ee(),c=xe(),x=Js(),l=os(),h=te();let m;e[0]!==n.sharing?.subjects?(m=n.sharing?.subjects??[],e[0]=n.sharing?.subjects,e[1]=m):m=e[1];const[u,g]=b.useState(m),[d,j]=b.useState(!1);let C;e[2]!==n.sharing?.subjects||e[3]!==u?(C=()=>!ze(n.sharing?.subjects,u),e[2]=n.sharing?.subjects,e[3]=u,e[4]=C):C=e[4];const v=C,N=ts(),K=Ge(n);let Q;e[5]!==u?(Q=function(F){u.find(q=>vt(q,F))||g([...u,F])},e[5]=u,e[6]=Q):Q=e[6];const A=Q;let H;e[7]!==x?(H=function(F,q,Fe){return F.type===U.USER&&F.user_id.indexOf("__")===-1?{...F,user_id:F.user_id+"__"+x?.getWorkspaceId()}:F},e[7]=x,e[8]=H):H=e[8];const P=H;let w;e[9]!==d||e[10]!==u||e[11]!==i||e[12]!==N||e[13]!==h||e[14]!==P?(w=async function(F){if(d)return;j(!0);const q=u.map(P);await h.mutateAsync({id:F,update:{sharing:{recipient:Pe.Private,subjects:q}}}),j(!1),i(),N.invalidateQueries({queryKey:["gizmos"]}),N.refetchQueries({queryKey:["gizmos","discovery"]}),N.refetchQueries({queryKey:["gizmo",{gizmoId:F}]}),N.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:F}]}),N.invalidateQueries({queryKey:["workspace"]})},e[9]=d,e[10]=u,e[11]=i,e[12]=N,e[13]=h,e[14]=P,e[15]=w):w=e[15];const M=w;let k;e[16]!==a||e[17]!==l?.id?(k=!a||wt(a.gizmo.author.user_id.split("__")[0],l?.id),e[16]=a,e[17]=l?.id,e[18]=k):k=e[18];const T=k;let W;e[19]!==a.gizmo.id||e[20]!==M?(W=()=>M(a.gizmo.id),e[19]=a.gizmo.id,e[20]=M,e[21]=W):W=e[21];const B=K.length>0||!ft(Pe.Private,n.sharingTargets);let G;e[22]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(p,{id:"BEKjVh",defaultMessage:"Save"}),e[22]=G):G=e[22];let E;e[23]!==d||e[24]!==W||e[25]!==B?(E=s.jsx(Ce,{onClick:W,loading:d,disabled:B,children:G}),e[23]=d,e[24]=W,e[25]=B,e[26]=E):E=e[26];let L;e[27]!==v?(L=v()&&s.jsx("div",{className:"text-token-text-secondary absolute start-6 bottom-8 text-sm",children:s.jsx(p,{id:"9CkgC4",defaultMessage:"Unsaved changes"})}),e[27]=v,e[28]=L):L=e[28];let S;e[29]!==o||e[30]!==r||e[31]!==a||e[32]!==c?(S=a&&s.jsx(Ce,{color:"secondary",onClick:y=>us(o,a,c,y,r.formatMessage({id:"KdDqMm",defaultMessage:"Copied link to clipboard"})),children:s.jsx(p,{id:"bbhdTf",defaultMessage:"Copy link"})}),e[29]=o,e[30]=r,e[31]=a,e[32]=c,e[33]=S):S=e[33];let _;e[34]!==L||e[35]!==S?(_=s.jsxs(s.Fragment,{children:[L,S]}),e[34]=L,e[35]=S,e[36]=_):_=e[36];let z;e[37]!==r?(z=r.formatMessage(f.projectShareTitle),e[37]=r,e[38]=z):z=e[38];let D;e[39]!==A?(D=y=>A(y),e[39]=A,e[40]=D):D=e[40];let I;e[41]!==a||e[42]!==D?(I=s.jsx(St,{onAdd:D,publishedGizmo:a}),e[41]=a,e[42]=D,e[43]=I):I=e[43];let se;e[44]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx("h3",{className:"text-base font-semibold",children:s.jsx(p,{id:"bNQXcV",defaultMessage:"Share with..."})}),e[44]=se):se=e[44];let R;e[45]!==T||e[46]!==a.gizmo.author||e[47]!==l?(R=s.jsx("div",{className:"shrink-0 grow-0 self-start",children:T?s.jsx(is,{user:l,size:"gizmoConversation",roundedStyle:"rounded-full"}):s.jsx(Te,{name:a.gizmo.author.display_name??"User",initialsCount:2,size:"gizmoConversation"})}),e[45]=T,e[46]=a.gizmo.author,e[47]=l,e[48]=R):R=e[48];let X;e[49]!==T||e[50]!==a.gizmo.author||e[51]!==l?.email||e[52]!==l?.name?(X=s.jsx("div",{className:"grow text-base font-semibold",children:T?s.jsxs("div",{className:"flex flex-col",children:[s.jsx(p,{id:"U7tzof",defaultMessage:"{userName} (you)",values:{userName:l?.name}}),s.jsx("span",{className:"text-token-text-secondary -mt-1 text-sm",children:l?.email})]}):s.jsx(p,{id:"FBF0QC",defaultMessage:"{userName} (owner)",values:{userName:a.gizmo.author.display_name}})}),e[49]=T,e[50]=a.gizmo.author,e[51]=l?.email,e[52]=l?.name,e[53]=X):X=e[53];let V;e[54]!==R||e[55]!==X?(V=s.jsxs("div",{className:"mb-4 flex flex-row items-center justify-between space-x-3",children:[R,X]}),e[54]=R,e[55]=X,e[56]=V):V=e[56];let Z;e[57]!==u?(Z=u.map((y,F)=>rs(y)&&s.jsxs("div",{className:"mb-4 flex flex-row items-center justify-between space-x-3",children:[s.jsx(Te,{name:y.type===U.GROUP?y.group_name:`${y.user_name} ${y.user_email}`,initialsCount:y.type===U.USER?2:1,size:"gizmoConversation",className:O("shrink-0 grow-0",y.type===U.USER&&"self-start")}),s.jsxs("div",{className:"flex grow flex-col",children:[s.jsxs("span",{className:"flex flex-row",children:[s.jsx("span",{className:"me-2 text-base font-semibold",children:y.type===U.GROUP?y.group_name:y.user_name}),y.type===U.GROUP&&y.is_scim_managed&&s.jsx($e,{})]}),y.type===U.USER&&s.jsx("span",{className:"text-token-text-secondary -mt-1 text-sm",children:y.user_email})]}),s.jsxs($.Root,{children:[s.jsxs($.Trigger,{className:"text-token-text-secondary text-base whitespace-nowrap",children:[s.jsx(p,{...Ve(y.capabilities)}),s.jsx(ls,{className:"icon-md"})]}),s.jsx($.Portal,{children:s.jsxs($.Content,{className:"max-w-[320px]",children:[[cs,je].map((q,Fe)=>s.jsx(bt,{capabilities:q,selected:ze(q,y.capabilities),onClick:()=>{g(u.map(pe=>pe===y?{...pe,capabilities:q}:pe))}},Fe)),s.jsx($.Separator,{className:"my-2"}),s.jsx($.Item,{onClick:()=>g(u.filter(q=>q!==y)),color:"danger",icon:ds,children:s.jsx(p,{id:"NU0BOB",defaultMessage:"Remove"})})]})})]})]},F)),e[57]=u,e[58]=Z):Z=e[58];let Y;e[59]!==V||e[60]!==Z?(Y=s.jsxs("div",{className:"max-h-[200px] space-y-2 overflow-y-auto",children:[V,Z]}),e[59]=V,e[60]=Z,e[61]=Y):Y=e[61];let oe;e[62]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx("hr",{className:"border-token-border-medium"}),e[62]=oe):oe=e[62];let ie;e[63]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(p,{id:"GkuPg+",defaultMessage:"Project conversations are private regardless of these settings."})}),e[63]=ie):ie=e[63];let J;e[64]!==I||e[65]!==Y?(J=s.jsxs("div",{className:"flex flex-col space-y-4",children:[I,se,Y,oe,ie]}),e[64]=I,e[65]=Y,e[66]=J):J=e[66];let re;return e[67]!==i||e[68]!==E||e[69]!==_||e[70]!==z||e[71]!==J?(re=s.jsx(ke,{testId:"modal-share-project",type:"success",className:"max-w-[555px]",size:"custom",isOpen:!0,onClose:i,primaryButton:E,secondaryButton:_,title:z,showCloseButton:!0,children:J}),e[67]=i,e[68]=E,e[69]=_,e[70]=z,e[71]=J,e[72]=re):re=e[72],re}function Ve(t){return t.can_write?he({id:"vsUknl",defaultMessage:"Can edit"}):t.can_view_config?he({id:"4ceJzB",defaultMessage:"Can chat"}):he({id:"x2E8ET",defaultMessage:"Unknown"})}function bt(t){"use forget";const e=ue.c(20),{capabilities:n,selected:a,onClick:i}=t;let o=null;n.can_write?o=ne:n.can_view_config&&(o=ms);let r;e[0]!==n.can_write?(r=n.can_write?s.jsx(p,{id:"r5Iods",defaultMessage:"Chat, edit files & instructions, and duplicate"}):s.jsx(p,{id:"bIM51p",defaultMessage:"Chat, view files & instructions, and duplicate"}),e[0]=n.can_write,e[1]=r):r=e[1];const c=r,x=o;let l;e[2]!==n?(l=Ve(n),e[2]=n,e[3]=l):l=e[3];let h;e[4]!==l?(h=s.jsx("span",{className:"mb-0.5 text-base leading-tight",children:s.jsx(p,{...l})}),e[4]=l,e[5]=h):h=e[5];let m;e[6]!==c?(m=s.jsx("span",{className:"text-token-text-secondary text-xs",children:c}),e[6]=c,e[7]=m):m=e[7];let u;e[8]!==h||e[9]!==m?(u=s.jsxs("div",{className:"me-1 flex grow flex-col",children:[h,m]}),e[8]=h,e[9]=m,e[10]=u):u=e[10];const g=!a&&"invisible";let d;e[11]!==g?(d=O("icon-lg shrink-0",g),e[11]=g,e[12]=d):d=e[12];let j;e[13]!==d?(j=s.jsx(xs,{className:d}),e[13]=d,e[14]=j):j=e[14];let C;return e[15]!==o||e[16]!==i||e[17]!==u||e[18]!==j?(C=s.jsxs($.Item,{className:"flex h-auto flex-row items-center px-3 py-3",onClick:i,icon:x,children:[u,j]}),e[15]=o,e[16]=i,e[17]=u,e[18]=j,e[19]=C):C=e[19],C}function St(t){"use forget";const e=ue.c(19),{onAdd:n,publishedGizmo:a}=t,i=ee(),o=tt(),[r,c]=b.useState(""),x=fs(o?.id,0,r,5),l=o?.data?.name??"your workspace",h=x.data?.items.filter(P=>P.account_user_id!==a?.gizmo.author.user_id),m=o?.id;let u;e[0]!==r||e[1]!==m?(u=[m,"groups","filtered",r],e[0]=r,e[1]=m,e[2]=u):u=e[2];let g;e[3]!==o||e[4]!==r?(g=o?()=>nt.getWorkspaceGroups(o.id,{query:r,orderby:"@score"}):void 0,e[3]=o,e[4]=r,e[5]=g):g=e[5];const d=r.trim()!==""&&o!=null&&!!o.getWorkspaceId();let j;e[6]!==u||e[7]!==g||e[8]!==d?(j={queryKey:u,queryFn:g,enabled:d},e[6]=u,e[7]=g,e[8]=d,e[9]=j):j=e[9];const{data:C}=ns(j);let v;e[10]!==n?(v=function(w,M,k){n({type:U.GROUP,group_id:w,group_name:M,capabilities:{...je},is_scim_managed:k}),c("")},e[10]=n,e[11]=v):v=e[11];const N=v;let K;e[12]!==o||e[13]!==n?(K=function(w,M,k){o&&(n({type:U.USER,user_id:w,user_name:M,user_email:k,capabilities:{...je}}),c(""))},e[12]=o,e[13]=n,e[14]=K):K=e[14];const Q=K;let A;e[15]!==o||e[16]!==i||e[17]!==l?(A=o?.isEnterprisey()?i.formatMessage({id:"72/DBb",defaultMessage:"Add people and groups from {workspaceName}"},{workspaceName:l}):i.formatMessage({id:"xF0Ixa",defaultMessage:"Add people from {workspaceName}"},{workspaceName:l}),e[15]=o,e[16]=i,e[17]=l,e[18]=A):A=e[18];const H=A;return s.jsx("div",{className:"flex w-full flex-row space-x-3",children:s.jsx(xt,{label:H,name:"share-with-input",inputValue:r,onInputChange:c,suggestions:[...h?.map(P=>{const{id:w,account_user_id:M,name:k,email:T}=P;return{id:w,className:"flex flex-col rounded-xs p-1 hover:bg-token-main-surface-tertiary",focusedClassName:"bg-token-main-surface-tertiary",onClick:()=>Q(M,k??"Unknown User",T??""),children:s.jsx(Ct,{name:k??"Unknown User",email:T??""})}})??[],...C?.items.slice(0,5).map(P=>{const{id:w,name:M,is_scim_managed:k,num_members:T}=P;return{id:w,className:"flex flex-col rounded-xs p-1 hover:bg-token-main-surface-tertiary",focusedClassName:"bg-token-main-surface-tertiary",onClick:()=>N(w,M,k??!1),children:s.jsx(Nt,{name:M,isScimManaged:k??!1,numMembers:T})}})??[]]})})}function Ct({name:t,email:e}){return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-full font-semibold",children:t}),s.jsx("span",{className:"text-token-text-secondary text-sm",children:e})]})}function Nt(t){"use forget";const e=ue.c(12),{name:n,isScimManaged:a,numMembers:i}=t;let o;e[0]!==n?(o=s.jsx("span",{className:"me-2 font-semibold",children:n}),e[0]=n,e[1]=o):o=e[1];let r;e[2]!==a?(r=a&&s.jsx($e,{}),e[2]=a,e[3]=r):r=e[3];let c;e[4]!==o||e[5]!==r?(c=s.jsxs("span",{className:"flex flex-row",children:[o,r]}),e[4]=o,e[5]=r,e[6]=c):c=e[6];let x;e[7]!==i?(x=s.jsx("span",{className:"text-token-text-secondary text-sm",children:s.jsx(p,{id:"r3Rx6X",defaultMessage:"{numMembers, plural, one {1 member} other {# members}}",values:{numMembers:i}})}),e[7]=i,e[8]=x):x=e[8];let l;return e[9]!==c||e[10]!==x?(l=s.jsxs("span",{className:"flex flex-col",children:[c,x]}),e[9]=c,e[10]=x,e[11]=l):l=e[11],l}function wt(t,e){return t===void 0||e===void 0?!1:t.split("__")[0]===e.split("__")[0]}const kt=[null,"#F14D42","#E36E30","#B98618","#DB9F1E","#3DCB40","#30A633","#27C0A6","#16B7DB","#6490F0","#0088FF","#1D53BF","#512AEB","#875BE1","#EE4D83","#E659C2"];function It({color:t,active:e,onClick:n}){const a=ee();return s.jsx("button",{onClick:()=>n(t),className:"bg-token-text-primary can-hover:hover:scale-110 can-hover:active:scale-100 flex h-10 w-10 items-center justify-center rounded-full","aria-label":t??a.formatMessage(f.defaultColor),style:{backgroundColor:t??void 0},children:e&&s.jsx(hs,{className:"text-token-main-surface-primary h-6 w-6"})})}function Mt({currentTheme:t,onSelect:e}){return s.jsx("div",{className:"m-4 grid grid-cols-4 gap-4",children:kt.map(n=>s.jsx(It,{active:n===t,color:n,onClick:a=>{e(a)}},n))})}const _t=({currentTheme:t,isPopoverOpen:e,disabled:n,...a},i)=>s.jsxs("button",{ref:i,disabled:n,...a,className:O("group relative flex h-[60px] w-[60px] items-center justify-center",n&&"pointer-events-none"),children:[s.jsx("div",{className:O("absolute flex h-full w-full items-center justify-center rounded-full",t&&"opacity-10",!t&&"bg-token-main-surface-secondary"),style:{backgroundColor:t??void 0}}),s.jsx("div",{className:"relative flex h-full w-full items-center justify-center",children:s.jsx(ps,{className:O("icon-lg can-hover:group-hover:scale-110 duration-200 ease-out",n&&"text-token-text-tertiary"),style:{color:t}})}),s.jsx("div",{className:O("border-token-border-default bg-token-main-surface-primary text-token-text-secondary absolute end-0 bottom-0 flex h-6 w-6 scale-0 items-center justify-center rounded-full border opacity-0 drop-shadow-xs duration-200 ease-out group-hover:scale-100 group-hover:opacity-100",e&&"scale-100"),children:s.jsx(ne,{className:"text-token-text-secondary h-[18px] w-[18px] rounded-full"})})]}),Ze=b.forwardRef(_t);function Me({file:t,fileName:e,fileId:n,gizmoId:a}){const i=me(e)&&n!=null,o=gs(t&&Be(t)?t:null,e,n,a,void 0);return i?s.jsx("div",{className:"flex h-full w-full items-center justify-center bg-[#129FBF] bg-cover bg-center text-white",style:{backgroundImage:`url(${o})`},children:!o&&s.jsx(js,{className:"icon-lg"})}):null}function Ft({gizmoId:t,gizmoName:e,canEdit:n,pendingFiles:a,files:i,modelCapacityUsed:o,interpreterOnlyFileIds:r,onAddFiles:c,removePendingFile:x,pendingFileUpsertMutationsRef:l}){return a.length===0&&i.length===0?s.jsx("div",{className:"h-full pb-6",children:s.jsx(Dt,{gizmoName:e,onAddFiles:c,canEdit:n})}):s.jsx("div",{className:"pb-6",children:s.jsx(Pt,{canEdit:n,gizmoId:t,modelCapacityUsed:o,files:i,pendingFiles:a,interpreterOnlyFileIds:r,removePendingFile:x,pendingFileUpsertMutationsRef:l})})}function Pt({gizmoId:t,modelCapacityUsed:e,files:n,pendingFiles:a,interpreterOnlyFileIds:i,removePendingFile:o,pendingFileUpsertMutationsRef:r,canEdit:c}){const x=te();return n.length===0&&a.length===0?null:s.jsxs("div",{className:"border-token-border-default overflow-hidden rounded-lg border",children:[e&&e>1?s.jsxs("div",{className:"border-token-border-default text-token-text-secondary dark:bg-gray-750 border-b bg-gray-50 px-4 py-3 text-xs",children:[s.jsx("div",{className:"font-medium",children:s.jsx(p,{...f.tooManyFilesTitle})}),s.jsx("div",{children:s.jsx(p,{...f.tooManyFilesDescription})})]}):null,n.map(l=>s.jsx(Et,{gizmoId:t,gizmoFile:l,interpreterOnly:i.includes(l.file_id),canEdit:c,onDelete:async()=>{const h=new Promise(u=>{r.current.push({id:t,mutationId:Ae(),update:g=>{const d=g.files.filter(j=>j.file_id!==l.file_id);return{...g,files:d}},onSuccess:u})});return Qe(t)({gizmoId:t,upsertProjectMutation:x,pendingFileUpsertMutationsRef:r}),h}},l.file_id)),a.map(l=>s.jsx(Tt,{canEdit:c,interpreterOnly:i.includes(l.tempId),pendingFile:l,onDelete:async()=>o(l.tempId)},l.tempId))]})}function Ye(){return s.jsx("div",{className:"truncate",children:s.jsx(p,{...f.interpreterOnlyLabel})})}function Tt({pendingFile:t,onDelete:e,interpreterOnly:n,canEdit:a}){const i=t.file.name,r=(Be(t.file)&&t.file?.type.startsWith("image/")||me(i))&&s.jsx(Me,{file:t.file,fileName:i,fileId:t.fileId??void 0,gizmoId:t.gizmoId??void 0});return s.jsx(Je,{interpreterOnly:n,onDelete:e,canEdit:a,children:s.jsx(He,{icon:r,fileName:t.file.name,loadingPercentage:t.status===ce.Uploading?t.progress:void 0,customFileDescription:n?s.jsx(Ye,{}):void 0})})}function Et({gizmoFile:t,gizmoId:e,interpreterOnly:n,onDelete:a,canEdit:i}){const o=t.name,c=me(o)&&t.file_id!=null&&s.jsx(Me,{fileName:o,fileId:t.file_id,gizmoId:e});return s.jsx(Je,{interpreterOnly:n,onDelete:a,canEdit:i,children:s.jsx(He,{icon:c,fileName:t.name,customFileDescription:n?s.jsx(Ye,{}):void 0})})}function Je({children:t,onDelete:e,canEdit:n,interpreterOnly:a}){const[i,o]=b.useState(!1);return s.jsxs("div",{className:O("group border-token-border-default flex w-full justify-between border-b p-3 text-sm last:border-b-0",a&&"grayscale"),children:[s.jsx("div",{className:"can-hover:w-full can-hover:group-hover:w-11/12 w-10/12",children:t}),n&&s.jsx("div",{className:O("bg-token-main-surface-primary can-hover:group-hover:flex flex shrink-0 grow-0 ps-1",!i&&"can-hover:hidden"),children:i?s.jsx("div",{className:"flex h-full w-6 items-center justify-center",children:s.jsx(We,{})}):s.jsx("button",{onClick:async()=>{e&&(o(!0),await e(),o(!1))},children:s.jsx(vs,{className:"text-token-secondary hover:bg-token-main-surface-secondary dark:hover:bg-token-main-surface-tertiary rounded-full"})})})]})}function Dt({gizmoName:t,onAddFiles:e,canEdit:n}){return s.jsx("div",{className:"border-token-border-default active:bg-token-main-surface-tertiary flex h-full cursor-pointer items-center justify-center rounded-lg border px-4 py-3 pb-6",onClick:e,children:s.jsxs("div",{className:"text-token-text-secondary flex flex-col items-center gap-2 py-4 text-sm",children:[n?s.jsx(Le,{}):s.jsx(qe,{}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-token-text-secondary max-w-100",children:s.jsx(p,{...f.emptyFileInstructions,values:{gizmoNameText:s.jsx("span",{className:"font-bold",children:s.jsx(p,{...f.emptyFileGizmoName,values:{gizmoName:t}})},"gizmoNameText")}})})})]})})}const es=fe.div`text-sm text-red-500`,Ut=fe.textarea`w-full overflow-y-auto overflow-x-clip rounded-lg border px-3 py-2 focus:ring-2 focus:ring-token-text-primary border-token-border-medium bg-token-main-surface-primary`,le=20;function ss({onClose:t,gizmo:e}){const n=ee(),[a,i]=b.useState(e?.gizmo?.instructions||""),o=te(),r=xe(),c=[];a?.length>ve&&c.push(n.formatMessage(f.instructionsTooLong,{length:ve}));const x=d=>{i(d.target.value)},l=()=>{t()},h=async()=>{try{await o.mutateAsync({update:{instructions:a??""},id:e.gizmo.id}),t()}catch(d){const j=Xe(d);r.danger(j??"Error",{duration:2})}},m=s.jsx(de.Button,{title:n.formatMessage(f.save),color:"primary",onClick:h,loading:o.isPending,disabled:c.length>0}),u=s.jsx(de.Button,{title:n.formatMessage(f.cancel),color:"secondary",onClick:l,disabled:o.isPending}),g=ae(e);return s.jsx(ke,{testId:"modal-project-custom-instructions",className:"min-h-[50dvh] max-w-[820px]",isOpen:!0,showCloseButton:!o.isPending,hideSeparator:!0,noPadding:!0,size:"custom",type:"success",title:s.jsx("div",{className:"h-8",children:n.formatMessage(f.editCustomInstructionsTitle)}),onClose:()=>{o.isPending||t()},children:s.jsxs("div",{className:"flex h-full flex-col px-6 pt-0 pb-7",children:[s.jsx("div",{className:"text-sm font-medium",children:n.formatMessage(g?f.editCustomInstructionsSubtitle:f.readOnlyCustomInstructionsTitle)}),s.jsx("div",{className:"text-token-text-secondary text-sm",children:n.formatMessage(g?f.editCustomInstructionsDescription:f.readOnlyCustomInstructionsDescription)}),s.jsx(Ut,{autoFocus:!0,placeholder:n.formatMessage(f.projectInstructionsPlaceholder),className:"bg-token-main-surface-primary mt-4 mb-1 min-h-24 w-full grow resize-none rounded-md",onChange:x,value:a,disabled:o.isPending||!g}),c.map(d=>s.jsx(es,{className:"mt-1",children:d},d)),g&&s.jsx(de.Actions,{primaryButton:m,secondaryButton:u})]})})}function zt({gizmoId:t,gizmoName:e,canEdit:n,gizmoEditorData:a,openFileDialog:i,pendingFiles:o,setVersion:r,pendingFileUpsertMutationsRef:c,currentModelConfig:x}){const l=a?.files?.reduce((v,N)=>v+(N.file_size_tokens??0),0)??0,h=a?.contextStuffingBudget;let m;h&&(m=l/h,l>0&&m<.01&&(m=.01));const u=a?.files??[],g=Array.from(o.current.values()).filter(v=>u.every(N=>N.file_id!==v.fileId)),d=g.filter(v=>x!=null&&ye(x,v.file.type,v.file.name)===Ne.CodeInterpreter),j=u.filter(v=>x!=null&&v.type!=null&&ye(x,v.type,v.name)===Ne.CodeInterpreter),C=[...d.map(v=>v.tempId),...j.map(v=>v.file_id)];return s.jsx(Ft,{gizmoId:t,gizmoName:e,canEdit:n,pendingFiles:g,pendingFileUpsertMutationsRef:c,files:u,modelCapacityUsed:m,interpreterOnlyFileIds:C,onAddFiles:i,removePendingFile:v=>{o.current.delete(v),r(N=>N+1)}})}const Rt=b.forwardRef(function({gizmo:e,showInstructions:n=!0},a){const i=ee(),[o,r]=b.useState(!1),c=te(),x=ys(e),l=Ge(x),{data:h}=at(),m=h?.models.get(ot)??(h&&ht(h.models.values(),B=>B.tags.includes(it.GPT_4o))),u=xe(),[g,d]=b.useState(0),j=b.useRef(new Map),C=b.useRef([]),v=bs(m,void 0),N=B=>{B.some(({errors:G})=>G.length!==1||G[0]?.code!==Ee.TooManyFiles)?u.danger(i.formatMessage(f.unknownError),{duration:2}):u.danger(i.formatMessage(f.dragTooManyFilesError,{MAX_FILES_PER_PROJECT:le}),{duration:2})},K=async B=>{Ie.logEvent("Upload File",{client:"web",eventSource:"mouse",intent:"gizmo"});const G=x.id;B.length>0&&await Promise.all(B.map(E=>{const L=Is(E);j.current.set(L,{tempId:L,gizmoId:G,file:E,status:ce.Uploading,progress:1,fileId:null,cdnUrl:null}),Ms(L,E,i,u,{kind:rt.Gizmo,gizmoId:G},{onFileUploaded:async(S,_,z,D)=>{const I=j.current.get(S);I?.fileId&&I?.fileId&&(C.current.push({id:e.gizmo.id,mutationId:Ae(),update:R=>{if(!I.fileId)return R;const X=[...R.files??[],{file_id:I.fileId,name:I.file.name,size:I.file.size,type:D?.mimeType??_s(I.file),last_modified:I.file.lastModified,file_size_tokens:D?.fileTokenSize}];return{...R,files:X}},onSuccess:()=>{j.current.delete(S),d(R=>R+1)}}),Qe(e.gizmo.id)({gizmoId:e.gizmo.id,upsertProjectMutation:c,pendingFileUpsertMutationsRef:C}))},onFileCreated:(S,_,z)=>{j.current.set(S,{tempId:S,gizmoId:G,file:E,status:ce.Uploading,progress:1,...j.current.get(S),fileId:_,cdnUrl:z}),d(D=>D+1)},onFileUploadProgress:(S,_)=>{const z=j.current.get(S);z?.status===ce.Uploading&&j.current.set(S,{...z,progress:_>95?95:_}),d(D=>D+1)},onError:S=>{j.current.delete(S),d(_=>_+1)}},{usesRetrievalIndex:m!=null&&ye(m,E.type,E.name)===Ne.Retrieval})}))},Q=Ss(v),A=$s(Q),H=j.current.size+x.files.length,P=ae(e),{open:w,getInputProps:M,getRootProps:k,isDragAccept:T,isDragReject:W}=gt({noClick:!0,noDragEventsBubbling:!0,onDropAccepted:K,onDropRejected:N,multiple:!0,maxSize:Cs,maxFiles:le-H,validator:()=>H>=le?{code:Ee.TooManyFiles,message:"Too many files"}:null,...Q});return b.useImperativeHandle(a,()=>({openFileDialog:w})),s.jsxs("div",{...k({className:"h-full px-6"}),children:[s.jsx("input",{...M()}),n&&s.jsxs(pt,{children:[s.jsx("button",{className:"w-full",onClick:()=>r(!0),children:s.jsx("div",{className:"border-token-border-default w-full rounded-lg border text-start text-sm",children:x?.instructions?.length?s.jsx("div",{className:"mx-4 my-3 line-clamp-4",children:x.instructions}):s.jsxs("div",{className:"text-token-text-secondary flex h-full w-full items-center px-4 py-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx(p,{...f.addCustomInstructions})}),s.jsx(ne,{className:"icon-sm"})]})})}),l.includes(Ns.GizmoInstructionsTooLong)?s.jsx(es,{className:"mt-1",children:s.jsx(p,{...f.instructionsTooLong,values:{length:ve}})}):null]}),o&&s.jsx(ss,{gizmo:e,onClose:()=>{r(!1)}}),s.jsx(zt,{gizmoId:e.gizmo.id,gizmoName:e.gizmo.display.name,canEdit:P,gizmoEditorData:x,openFileDialog:w,pendingFiles:j,pendingFileUpsertMutationsRef:C,setVersion:d,currentModelConfig:m}),T&&s.jsxs(Se,{children:[s.jsx(ws,{}),s.jsx("h3",{children:s.jsx(p,{...f.dragInstructions})}),s.jsx("h4",{className:"w-2/3 text-center",children:A.length>0?A.join(", "):s.jsx(p,{...f.dragAllAccepted})})]}),W&&s.jsxs(Se,{children:[s.jsx(ks,{className:"icon-2xl"}),s.jsx("h3",{children:s.jsx(p,{...f.dragTooManyFiles})}),s.jsx("h4",{className:"w-2/3 text-center",children:s.jsx(p,{...f.dragTooManyFilesDescription,values:{MAX_FILES_PER_PROJECT:le}})})]})]})});function Ot({gizmo:t,onClose:e}){const n=b.useRef(null),a=b.useCallback(()=>{n.current?.openFileDialog()},[n]),i=ae(t);return s.jsx(s.Fragment,{children:s.jsx(ke,{testId:"modal-project-files",className:"min-h-72 max-w-[820px]",isOpen:!0,showCloseButton:!0,hideSeparator:!0,noPadding:!0,size:"custom",type:"success",onClose:()=>{e()},children:s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(de.TitleBar,{$hasSeparator:!1,children:s.jsxs("div",{className:"flex w-full items-center gap-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx(lt,{className:"text-token-text-primary text-lg leading-6 font-semibold",children:s.jsx(p,{...f.projectFilesModalTitle})})}),i&&s.jsx(Ce,{color:"secondary",onClick:a,children:s.jsx(p,{...f.addFilesButtonLabel})}),s.jsx(ct,{asChild:!0,className:"sm:mt-0",children:s.jsx(dt,{onClick:e})})]})}),s.jsx("div",{className:"h-[50dvh] grow overflow-y-auto pt-0",children:s.jsx(Rt,{ref:n,gizmo:t,showInstructions:!1})})]})})})}function At({gizmo:t}){return s.jsx("div",{className:"xs:grid-cols-2 mt-6 grid grid-cols-1 items-start gap-5",children:t?s.jsxs(s.Fragment,{children:[s.jsx(Gt,{gizmo:t}),s.jsx(Lt,{gizmo:t})]}):s.jsxs(s.Fragment,{children:[s.jsx(Re,{}),s.jsx(Re,{})]})})}function _e({header:t,context:e,contextClassName:n="",icon:a,modal:i,onClick:o,disabled:r=!1,isModalOpen:c=!1}){return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:o,className:O("group/snorlax-control-tile border-token-border-xlight bg-token-main-surface-primary shadow-xxs hover:bg-token-main-surface-secondary active:bg-token-main-surface-tertiary relative h-full rounded-2xl border active:drop-shadow-none",r&&"pointer-events-none opacity-50"),children:s.jsxs("div",{className:"relative mx-5 my-4 flex items-center justify-between gap-3 overflow-hidden",children:[s.jsxs("div",{className:"w-full grow text-start",children:[s.jsx("div",{className:"text-sm font-medium",children:t}),s.jsx("div",{className:O("text-token-text-secondary text-xs",n),children:e})]}),a]})}),c&&i]})}function Re(){return s.jsx(_e,{disabled:!0,header:s.jsx("div",{className:"bg-token-main-surface-secondary my-2 h-2 w-48 rounded-full"}),context:s.jsx("div",{className:"bg-token-main-surface-secondary my-2 h-2 w-32 rounded-full"})})}function Gt({gizmo:t}){const{files:e}=t,n=!e.length,a=we(t),[i,o]=b.useState(!1),r=i&&s.jsx(Ot,{gizmo:t,onClose:()=>{o(!1)}}),c=()=>o(!0);let x,l,h;const m=ae(t);if(n)x=s.jsx(p,{...m?f.addFilesButtonLabel:f.viewFilesButtonLabel}),l=s.jsx(p,{...m?f.filesControlDescription:f.noFilesReadOnlyDescription}),h=s.jsxs("div",{className:"relative flex h-10 w-10 shrink-0 items-center justify-center rounded-full",children:[s.jsx("div",{className:"bg-token-main-surface-secondary absolute h-full w-full rounded-full opacity-5",style:{backgroundColor:a??void 0}}),m?s.jsx(Le,{className:"icon-md h-5 w-5",style:{color:a}}):s.jsx(qe,{className:"icon-md h-5 w-5",style:{color:a}})]});else{const g=e.slice(0,3);x=s.jsx(p,{...f.projectFilesModalTitle}),l=s.jsx(p,{...f.filesCount,values:{count:e.length}}),h=s.jsx("div",{className:"relative flex h-10 w-20 shrink-0 items-center justify-center rounded-full",children:g.toReversed().map((d,j)=>s.jsx(Bt,{file:d,index:j,gizmoId:t.gizmo.id},d.id))})}return s.jsx(_e,{isModalOpen:i,modal:r,onClick:c,header:x,context:l,icon:h,disabled:n&&!m})}function Bt({file:t,index:e,gizmoId:n}){const a=t.name,o=me(a)&&t.file_id!=null&&s.jsx(Me,{fileName:a,fileId:t.file_id,gizmoId:n});return s.jsx("div",{className:"border-token-main-surface-primary group-hover/snorlax-control-tile:border-token-main-surface-secondary absolute end-0 top-0 h-10 w-10 overflow-hidden rounded-xl border-2",style:{transform:`translateX(${e*-20}px)`},children:o||s.jsx(Fs,{className:"h-9 w-9 shrink-0",filename:t.name,contextConnectorInfo:void 0})})}function Lt({gizmo:t}){const{instructions:e}=t.gizmo,n=!e.length,a=we(t),[i,o]=b.useState(!1),r=i&&s.jsx(ss,{gizmo:t,onClose:()=>{o(!1)}}),c=()=>o(!0);let x,l,h,m;const u=ae(t);return n?(x=s.jsx(p,{...u?f.customInstructionsTitle:f.customInstructionsReadOnlyTitle}),l=s.jsx(p,{...u?f.customInstructionsDescription:f.customInstructionsReadOnlyDescription}),h=s.jsxs("div",{className:"relative flex h-10 w-10 shrink-0 items-center justify-center rounded-full",children:[s.jsx("div",{className:"bg-token-main-surface-secondary absolute h-full w-full rounded-full opacity-5",style:{backgroundColor:a??void 0}}),s.jsx(ne,{className:"icon-md h-5 w-5",style:{color:a}})]})):(x=s.jsx(p,{...f.editCustomInstructionsTitle}),m="overflow-hidden text-ellipsis whitespace-nowrap",l=e),s.jsx(_e,{isModalOpen:i,modal:r,onClick:c,header:x,context:l,icon:h,contextClassName:m,disabled:n&&!u})}function qt(t){return{id:t.gizmo.id,instructions:t.gizmo.instructions,name:t.gizmo.display.name,description:t.gizmo.display.description??"",emoji:t.gizmo.display.emoji??void 0,theme:t.gizmo.display.theme??void 0,profilePictureId:t.gizmo.display.profile_pic_id??void 0,profilePictureUrl:t.gizmo.display.profile_picture_url??void 0,promptStarters:t.gizmo.display.prompt_starters??[],tools:ge(t.tools),files:ge(t.files),sharing:Qt(t.gizmo.sharing),trainingDisabled:t.gizmo.training_disabled??!1,sharingRecipient:t.gizmo.share_recipient,sharingTargets:ge(t.gizmo.sharing_targets),liveVersion:t.gizmo.live_version??0,contextStuffingBudget:t.gizmo.context_stuffing_budget}}function Qt(t){return{subjects:t.subjects.map(e=>{switch(e.type){case U.USER:return{type:e.type,user_id:e.user_id,capabilities:e.capabilities,user_name:e.user_name,user_email:e.user_email};case U.GROUP:return{type:e.type,group_id:e.group_id,group_name:e.group_name,capabilities:e.capabilities};default:throw new Error(`Unknown subject type: ${e.type}`)}}),recipient:t.recipient}}const Ht=fe.h3`p4 overflow-hidden text-ellipsis break-all py-3 px-4 text-xs font-semibold text-token-text-secondary`,Kt=fe.div`h-24 w-full rounded-3xl bg-token-main-surface-secondary`,Wt=()=>s.jsx("div",{className:"ms-1 mt-3 h-10",children:s.jsx("div",{className:"bg-token-main-surface-secondary my-[15px] h-[10px] w-48 rounded-full"})}),Oe=new Map;function Xt(t){const e=Oe.get(t);if(e)return e;const n=Ks($t,2e3,{trailing:!0});return Oe.set(t,n),n}async function $t({gizmoId:t,upsertProjectMutation:e,toaster:n}){const a=Ws,i=Ue(a.getState(),"theme",t);try{i!==void 0&&await e.mutateAsync({id:t,update:{theme:i??void 0}}),Ue(a.getState(),"theme",t)===i&&Xs(t,"theme")}catch(o){const r=Xe(o);n.warning(r??"Error",{duration:2})}}function Vt({gizmoId:t,theme:e,upsertProjectMutation:n,toaster:a}){Hs(t,"theme",e),Xt(t)({gizmoId:t,upsertProjectMutation:n,toaster:a})}function Zt({gizmo:t}){const e=we(t),n=te(),[a,i]=b.useState(!1),o=xe(),r=c=>{c!==e&&(Ie.logEvent("Projects: Theme Change",{theme:c??"default"}),Vt({gizmoId:t.gizmo.id,theme:c,upsertProjectMutation:n,toaster:o}))};return s.jsx(Ls,{open:a,sideOffset:4,alignOffset:7,side:"bottom",alignAgainstAnchor:"start",size:"none",modal:!0,onOpenChange:c=>i(c),triggerButton:s.jsx(Ze,{currentTheme:e,isPopoverOpen:a}),children:s.jsx(Mt,{currentTheme:e,onSelect:r})})}function Yt({gizmo:t}){return s.jsxs("div",{className:"mb-6 flex w-full flex-col px-4",children:[t?s.jsx(Zt,{gizmo:t}):s.jsx(Ze,{disabled:!0,currentTheme:null,isPopoverOpen:!1}),t?s.jsxs("button",{className:"group hover:text-token-text-secondary ms-1 mt-3 self-start text-start text-4xl font-semibold text-balance",onClick:()=>{be.setShowProjectSettingsModal(!0)},children:[t.gizmo.display.name,s.jsx(ne,{className:"icon-lg text-token-text-secondary can-hover:group-hover:opacity-100 ms-2.5 inline-block opacity-0 motion-safe:transition-opacity motion-safe:duration-100"})]}):s.jsx(Wt,{})]})}function Jt({children:t}){return s.jsx("div",{className:"group relative flex flex-col gap-1 p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ke,{className:"icon-md text-token-sidebar-icon"}),t]})})}function en({conversation:t,gizmo:e}){const n=ut(t.id,c=>c?.title)??t.title,[a,i]=b.useState(!1);b.useEffect(()=>mt(jt,{editTitleInMainScreen:({serverThreadId:c})=>{c===t.id&&i(!0)}}),[t.id]);const{snippet:o}=t,r=s.jsxs(Jt,{children:[s.jsxs("div",{className:"can-hover:group-hover:me-5 grow overflow-hidden",children:[a?s.jsx(qs,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{i(!1)}}):s.jsx("div",{className:"text-sm font-medium",children:n}),o&&s.jsx("div",{className:"text-token-text-secondary truncate text-sm",children:o})]}),!a&&s.jsx(sn,{conversation:t})]});return a?r:s.jsx(as,{to:Qs(t.id,e),draggable:!1,children:r})}function sn({conversation:t}){const[e,n]=b.useState(!1);return s.jsx("div",{className:O("absolute end-0 top-0 bottom-0 items-center gap-1.5 pe-4",e?"flex":"can-hover:group-hover:flex hidden"),onClick:a=>{a.preventDefault()},children:s.jsx(Zs,{conversation:t,onOpenChange:a=>{n(a),a&&Ie.logEvent("Conversation History Item Open Menu",{conversationId:t.id})},inMainScreen:!0,isActiveConversation:!1})})}function tn({gizmo:t}){Gs(t.gizmo.id);const{items:e,hasNextPage:n,fetchNextPage:a,isLoading:i,isFetching:o,isFetchingNextPage:r}=Bs(t.gizmo.id),c=b.useRef(null),x=b.useCallback(h=>{i||h==null||(c.current?.disconnect(),c.current=new IntersectionObserver(m=>{m[0].isIntersecting&&n&&!o&&a()}),c.current.observe(h))},[i,n,a,o]);b.useEffect(()=>()=>{c.current?.disconnect()},[]);const l=e.length;return s.jsxs("div",{className:"mt-6 mb-14 contain-inline-size",children:[l||i?s.jsx(an,{gizmo:t,items:e??[],hasNextPage:n,infiniteScrollTriggerElementRef:x}):s.jsx(nn,{}),r&&s.jsx("div",{className:"m-4 mb-5 flex justify-center",children:s.jsx(We,{})})]})}function nn(){return s.jsxs("div",{className:"mt-20 flex flex-col items-center font-medium",children:[s.jsx(Ke,{className:"icon-lg text-token-icon-secondary mb-2"}),s.jsx("div",{className:"text-token-text-secondary text-sm",children:s.jsx(p,{...f.emptyChatsInProjectTitle})})]})}function an({gizmo:t,items:e,hasNextPage:n,infiniteScrollTriggerElementRef:a}){const i=e.length;return s.jsxs(s.Fragment,{children:[s.jsx(Ht,{children:s.jsx(p,{...f.chatsInProjectTitle})}),s.jsx("ol",{children:e.map((o,r)=>{const c=n&&r===e.length-3?a:void 0;return s.jsx("li",{ref:c,className:O("hover:bg-token-main-surface-secondary first:rounded-t-lg last:rounded-b-lg",r!==i-1&&"border-token-border-xlight border-b"),children:s.jsx(en,{conversation:o,gizmo:t})},o.id)})})]})}function En({clientThreadId:t,gizmoId:e,currentModelId:n,onRequestCompletion:a}){const i=ee(),{data:o}=Ps(e),r=De(d=>d.showProjectSettingsModal),c=De(d=>d.showShareModal),[x,l]=b.useState(!1),h=Ts(),m=Es(),u=m!=null&&m.kind==="conversation"&&(m.gizmoId==null||m.gizmoId!==e),g=b.useRef(0);return s.jsx("div",{onDragOver:d=>{d.preventDefault(),u&&l(!0)},onDrop:d=>{d.preventDefault(),u&&(g.current=0,l(!1),h({newGizmoId:e,conversation:m.conversation,previousGizmoId:m.gizmoId??null}))},onDragEnter:d=>{d.preventDefault(),u&&(g.current+=1)},onDragLeave:d=>{d.preventDefault(),u&&(g.current-=1,g.current===0&&l(!1))},className:"md:pt-header-height flex max-h-full flex-col",children:s.jsx(Ds,{verticalPadding:"none",horizontalPadding:"standard",overflowY:"auto",fullHeight:!0,children:s.jsxs(Us,{column:!0,shouldRemoveGap:!0,className:"min-w-[min(90cqw,640px)]",children:[s.jsx(Yt,{gizmo:o}),o?s.jsx(Vs,{clientThreadId:t,isNewThread:!0,currentModelId:n,onContinueGenerating:d=>a(Rs(d)),onRequestCompletion:async d=>a(await zs(d)),hideHeader:!0}):s.jsx(Kt,{}),s.jsx(At,{gizmo:o}),o&&s.jsx(tn,{gizmo:o}),o&&c&&s.jsx(yt,{gizmo:qt(o),publishedGizmo:o,onClose:()=>{be.setShowShareModal(!1)}},e),r&&s.jsx(Os,{submitButtonTitle:i.formatMessage(f.projectSettingsSubmitButton),gizmo:o,onClose:()=>{be.setShowProjectSettingsModal(!1)}},e),x&&s.jsxs(Se,{children:[s.jsx(As,{className:"h-12 w-12",style:{color:"#3C46FF"}}),s.jsx("h3",{className:"text-center",children:s.jsx(p,{...f.addConversationToNamedSnorlax,values:{projectName:o?.gizmo.display.name??"project"}})}),s.jsx("h4",{className:"text-center",children:s.jsx(p,{...f.moveConversation})})]})]})})})}export{En as SnorlaxSplashScreen};
//# sourceMappingURL=mzf5pw4jspp3m0l4.js.map

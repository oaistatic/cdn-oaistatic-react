const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fbaenr4fprz0tvpe.js","assets/n1tvutderx19k1zs.js","assets/r6qiozfvwqmjsr55.js","assets/pceg3mlzf8dzw9ob.js","assets/n26mv7rx7nquqst2.js","assets/root-osq5e7fb.css","assets/conversation-small-nranh1cg.css","assets/kodyf94rms2l778g.js","assets/hexva2s1lo90zidg.js","assets/nraolmtygmvq3wcf.js","assets/ecp3vwsjvu9v61q0.js","assets/ism5ltuyfnnx8n4w.js","assets/nxz31zqr36vgy6hm.js","assets/jfxozbrcnsxchwcx.js","assets/da0lloekhn03bypm.js","assets/hg2pcqdl92ment5e.js","assets/i0lcioprs8tjrwwz.js","assets/iyoviv398ljqf1ew.js","assets/egjj718ybwa4lzxd.js","assets/l4c41pejol0bhhf7.js","assets/fudxsr1s5wqk63ki.js","assets/m3i9t52w2bjqxoks.js","assets/duvx3jmzsju7uw87.js","assets/ch48ne0b8201ps9r.js","assets/lvedelvd2wa5y0ah.js"])))=>i.map(i=>d[i]);
import{j as e,r as p}from"./n1tvutderx19k1zs.js";import{gY as Y,gZ as Z,g_ as X,g$ as J,cG as K,h0 as ee,h1 as se,h2 as ae,h3 as w,h4 as te,h5 as re,h6 as oe,h7 as ne,h8 as ie,a7 as U,h9 as ce,ha as O,hb as de,bs as H,hc as le,hd as he,gc as me,P as ue,fE as pe,a5 as Ce,he as xe,hf as Te,cX as ge,cY as ve,c_ as je,cZ as Se,c$ as fe}from"./pceg3mlzf8dzw9ob.js";import{bs as M,bt as D,U as W,s as z,fY as ye,br as G,fc as t,d as h,ao as be,bg as Ne,Q as Ee,gz as Ie,bD as we}from"./n26mv7rx7nquqst2.js";import{P as He}from"./hexva2s1lo90zidg.js";import{S as Me,u as V,E as De,C as B,b as Pe,T as _e,c as Fe}from"./ism5ltuyfnnx8n4w.js";import{f as P,u as Re}from"./kodyf94rms2l778g.js";import{C as Le}from"./gbcm5ghq9ddzv4er.js";import{C as ke}from"./h62hagcisi6jaqob.js";function Ae({clientThreadId:s,currentModelId:n,isModelLoaded:c,onRequestCompletion:d,chatgptHomepageDisclaimer:a}){return e.jsx(Me,{clientThreadId:s,currentModelId:n,isModelLoaded:c,onRequestCompletion:d,chatgptHomepageDisclaimer:a})}const Be=M(()=>D(()=>import("./fbaenr4fprz0tvpe.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function Ue({disableEmptyState:s,fullWidth:n,renderEmptyState:c}){const{clientThreadId:a,currentModelId:i,conversationLeafId:l,isCompanionWindow:r,isEmbeddedInFocusedView:m,onChangeItemInView:u,onChangeRating:b,onRequestCompletion:C,onRequestMoreCompletions:N,isModelLoaded:T,prefetchSearch:g}=p.useContext(P),[E,x,v]=W(a,o=>[o?.isLoading,z.getConversationTurns(o,l).length,o?.scrollToMessageId]),j={clientThreadId:a,conversationLeafId:l,currentModelId:i,onChangeItemInView:u,onChangeRating:b,onRequestMoreCompletions:N,onRequestCompletion:C,showAvatar:!1},S=Y({clientThreadId:a,handleRequestCompletion:C,prefetchSearchPromise:g}),f=E||S||s,y=ye(),{initialConversationTurns:_,continuedConversationTurns:F}=Z(x,y),{canUseNewHomepage:R,showEmptyState:$}=V(a),q=x>=2;X(q);const{setTargetedContent:L}=J(),Q=K(i),k=ee(a);se(x,a),p.useEffect(()=>{m||L(void 0)},[a,L,m]);const A=ae(a,l);if($){if(c!=null)return c();if(R&&!f){const o=r?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:a})});return e.jsx(Ae,{clientThreadId:a,currentModelId:i,isModelLoaded:T,onRequestCompletion:C,chatgptHomepageDisclaimer:o})}else if(!R&&!f)return e.jsx(De,{clientThreadId:a,currentModelId:i,isModelLoaded:T,onRequestCompletion:C,showChatgptHomepage:!Q,chatgptHomepageDisclaimer:e.jsx(w,{clientThreadId:a})})}return e.jsxs(e.Fragment,{children:[y&&e.jsx(te,{}),y&&F.length===0&&e.jsx(re,{}),e.jsx(G,{children:e.jsxs(p.Suspense,{fallback:null,children:[e.jsx(oe,{}),_.length>0&&e.jsx("ol",{className:t.conversationTurnList,onCopy:k,children:_.map(({turnIndex:o,isFinalTurn:I})=>e.jsx("li",{className:h(t.conversationTurnWrapper,n&&"w-full"),children:p.createElement(B,{...j,key:`${a}-${o}`,turnIndex:o,isFinalTurn:I,scrollToMessageId:v,dateHeaderType:A(o)})},o))}),y&&e.jsx(ne,{}),e.jsx("ol",{className:t.conversationTurnList,onCopy:k,children:F.map(({turnIndex:o,isFinalTurn:I})=>e.jsx("li",{className:h(t.conversationTurnWrapper,n&&"w-full"),children:p.createElement(B,{...j,key:`${a}-${o}`,turnIndex:o,isFinalTurn:I,scrollToMessageId:v,dateHeaderType:A(o)})},o))})]})}),e.jsx(Be,{}),x>0&&e.jsx(ie,{})]})}function Oe({renderEmptyState:s}){return e.jsx(Ue,{renderEmptyState:s})}const We=M(()=>D(()=>import("./ism5ltuyfnnx8n4w.js").then(s=>s.d),__vite__mapDeps([11,4,1,5,3,6,8,12,7,9,10,13,14,15])).then(s=>s.ChatScreenComposerAlerts));function ze(){const{clientThreadId:s,currentModelId:n,isCompanionWindow:c,onRequestCompletion:d}=p.useContext(P),a=U(s),[i,l]=W(s,u=>[u&&u.conversationTurns.length>1,z.hasUserMessage(u)]),r=be(s)&&!i&&ce(a),{setComposerFooterElement:m}=p.useContext(O);return e.jsx("div",{className:t.footer,children:e.jsxs(de,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent",position:"relative"},children:[e.jsxs(H,{type:"secondary",className:"absolute bottom-[var(--composer-bar-height)] w-full",children:[i&&e.jsx(le,{className:t.scrollButton}),e.jsx(We,{})]}),e.jsxs(H,{type:"primary",ref:m,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(Pe,{clientThreadId:s,currentModelId:n,isNewThread:r,noWrap:!0,onRequestCompletion:d,showPromptStarters:r||!l}),!c&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:s})})]})]})})}const Ge=M(()=>D(()=>import("./i0lcioprs8tjrwwz.js"),__vite__mapDeps([16,1,3,4,5,6,17,18,8,19,20,21,22,23,12,24,11,7,9,10,13,14,15])).then(s=>s.ConversationHeaderMenuItems));function Ve(){const{clientThreadId:s,isLoggedInUser:n,onNewThread:c}=p.useContext(P),d=Ne(s),a=he(d),i=me(d),{useStore:l}=ue(),r=l(m=>m.isSidebarOpen);return e.jsxs(H,{leading:!0,type:"primary",className:t.header,name:"thread-header",children:[e.jsxs("div",{className:t.headerLeading,children:[n&&e.jsx(pe,{className:h(r&&"invisible")}),!a&&(!n||!r)&&e.jsx(Le,{onNewThread:c,className:h(n&&"hidden @lg/thread:inline-flex",r&&"invisible"),location:"thread"}),i?e.jsx("div",{className:h(t.threadDropdown),children:e.jsx(Ge,{clientThreadId:s})}):e.jsx("div",{className:h(t.threadDropdown),children:e.jsx(_e,{clientThreadId:s})})]}),e.jsx("div",{className:t.headerTrailing,children:e.jsx(G,{children:e.jsx(Fe,{clientThreadId:s})})})]})}function es({hideHeader:s=!1,hideFooter:n=!1,hideTools:c=!1,embedded:d=!1,renderEmptyState:a,ref:i}){const{data:l}=Ee(),{clientThreadId:r,currentModelId:m,isCompanionWindow:u,isInstalledApp:b,onRequestCompletion:C,routeType:N}=Re(),{canUseNewHomepage:T,showEmptyState:g}=V(r),E=Ce(l?.models,m),[x,v]=xe({name:"composer-bar",track:"height"}),j=U(r),S=Te(r,j),f=n||g&&T;return Ie(r),e.jsx(we.Provider,{value:C,children:e.jsx(ge,{children:e.jsxs(He,{clientThreadId:r,children:[e.jsx(ve,{children:S!=null&&e.jsx("title",{children:S})}),e.jsx(je,{clientThreadId:r,className:h(d&&"h-full","flex-1"),currentModelConfig:E,children:e.jsxs(O.Provider,{value:{setComposerFooterElement:v},children:[e.jsx(Se,{anchor:"vertical",className:h(t.screen,g&&T&&t.screenEmptyState,u&&t.screenCompanionWindow,b&&t.screenInstalledApp,d&&t.screenEmbedded),contentClassName:h(N==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!s&&e.jsx(Ve,{}),style:x,ref:i,trackLeading:!0,trackTrailing:!0,trailing:!f&&e.jsx(ze,{}),children:e.jsx(Oe,{renderEmptyState:a})}),!u&&!c&&e.jsxs(e.Fragment,{children:[e.jsx(ke,{}),e.jsx(fe,{})]})]})})]})})})}export{es as C,Ve as a,Oe as b};
//# sourceMappingURL=pepzsrzd9jjfvnrs.js.map

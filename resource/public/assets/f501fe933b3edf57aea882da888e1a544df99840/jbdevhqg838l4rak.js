import{d as k,P as j,Y as A,Z as b,bY as I,a as C,S as P,g2 as S,j as N,eX as _,B as F,cf as B}from"./n26mv7rx7nquqst2.js";import{c as M,r as l,e as O,j as e,M as m,A as U,d as D,f as W,i as G}from"./n1tvutderx19k1zs.js";import{T as w,m as R,L as Y}from"./lsjylh7b7ua5s2eo.js";import{c as z}from"./kem02dpdica6n61h.js";import{O as E,dc as H,br as K,o as X,dd as V,i as Z,j as $,bG as q,k as J}from"./pceg3mlzf8dzw9ob.js";import"./isjdmfmhzv09v01t.js";function Q({auth0Provider:a,nextUrl:t,isStorageComplianceEnabled:r}){const s=E(),o=M(),[n,i]=l.useState(!1),c=H(),x=O(),p=K(g.signUp),d=X(),h=!s||!n,v=()=>{j.logLogInButtonClicked({provider:a,location:"Login page"}),n||setTimeout(()=>{i(!0)},500),d({authType:"login",callbackUrl:t})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex grow flex-col items-center justify-between bg-white px-5 py-8 text-black dark:bg-black dark:text-white sm:rounded-t-[30px] md:rounded-none md:px-6",children:[!s&&e.jsx("nav",{className:"flex w-full justify-start px-6 pb-8 md:hidden md:px-6 lg:px-8",children:e.jsx("h1",{"aria-label":o.formatMessage(g.ariaLabel),children:e.jsx("div",{className:"flex cursor-default items-center text-[20px] font-bold leading-none lg:text-[22px]",children:e.jsx("div",{children:w})})})}),e.jsxs("div",{className:"relative flex w-full grow flex-col items-center justify-center",children:[e.jsx("h2",{className:"text-center text-[20px] leading-[1.2] md:text-[32px] md:leading-8",children:s?e.jsx("div",{children:w}):e.jsx(m,{...g.pageTitle})}),e.jsx("div",{className:"mt-5 w-full max-w-[440px]",children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:k("grid gap-x-3 gap-y-2",s?"mx-16 gap-y-4 sm:grid-cols-1 sm:gap-y-4":"sm:grid-cols-2 sm:gap-y-0"),children:[e.jsx(L,{blue:!0,loading:n,testid:"login-button",onClick:v,children:e.jsx(m,{...g.logIn})}),s&&n&&e.jsx(L,{ghost:!0,testid:"login-tryagain-button",onClick:v,children:e.jsx(m,{...g.logInTryAgain})}),h&&e.jsx(L,{blue:!0,testid:"signup-button",onClick:()=>{j.logSignUpButtonClicked({provider:"auth0",location:"Login page"}),A.setCookie(b.SignupRedirectUrl,t,{maxAge:60*60*3}),d({authType:"signup",callbackUrl:t})},children:e.jsx(m,{...p})})]})})}),c?e.jsx(I,{color:"ghost",className:"mt-2 sm:mt-5",onClick:y=>{y.preventDefault(),j.logEvent(C.authTryItFirstLinkClicked),P.logEvent("chatgpt_auth_try_it_first_link_clicked"),x("/")},children:e.jsx(m,{...g.tryItFirst})}):null]}),e.jsxs("div",{className:"mt-10 flex flex-col justify-center",children:[e.jsx("div",{className:"flex justify-center text-gray-300 md:mb-3",children:e.jsx(S,{className:"h-[22px] w-auto"})}),e.jsx(z,{isStorageComplianceEnabled:r})]})]})})}function L({icon:a,children:t,className:r,onClick:s,testid:o,blue:n=!1,ghost:i=!1,loading:c=!1}){return e.jsxs(I,{color:n?"blue":i?"ghost":"primary",loading:c,size:"large","data-testid":o,onClick:s,className:r,children:[a?e.jsx("div",{className:k("h-5 w-5 justify-self-start",{}),style:{backgroundImage:a}}):null,e.jsx("span",{children:t})]})}const g=N({pageTitle:{id:"Login.pageTitle",defaultMessage:"Get started"},ariaLabel:{id:"Login.ariaLabel",defaultMessage:"ChatGPT by OpenAI"},welcome:{id:"Login.welcome",defaultMessage:"Welcome to ChatGPT"},logIn:{id:"Login.logIn",defaultMessage:"Log in"},logInTryAgain:{id:"Login.logInTryAgain",defaultMessage:"Try again"},signUp:{id:"Login.signUp",defaultMessage:"Sign up"},continueWithGoogle:{id:"Login.continueWithGoogle",defaultMessage:"Continue with Google"},continueWithMicrosoft:{id:"Login.continueWithMicrosoft",defaultMessage:"Continue with Microsoft"},useDevAuth:{id:"Login.useDevAuth",defaultMessage:"Use dev auth"},useProdAuth:{id:"Login.useProdAuth",defaultMessage:"Use prod auth"},orTryAnotherWay:{id:"Login.orTryAnotherWay",defaultMessage:"Or try another way"},logInWithOpenAI:{id:"Login.logInWithOpenAI",defaultMessage:"Log in with your OpenAI account to continue"},tryItFirst:{id:"Login.tryItFirst",defaultMessage:"Try it first"}});function ee({auth0Provider:a,cfConnectingIp:t,isStorageComplianceEnabled:r}){const{hash:s}=D(),[o]=W(),n=o.get("next"),i=(n?.startsWith("/")?n:"/")+s,c=M(),x=F(),p=l.useRef(!1),d=o.get("sso"),h=d?o.get("connection"):void 0,y=V()(),f=Z()??($(o,!0,y)||a);return l.useEffect(()=>{sessionStorage.setItem(q,f.toString())},[f]),l.useEffect(()=>{if(d){const u=A.getCookie(b.DeviceId)?.toString();G.signIn(f,{callbackUrl:i},{...u?{device_id:u}:{},...h?{connection:h}:{},...J(u)})}},[i,d,h,f]),l.useEffect(()=>{j.logEvent(C.loggedOutOpenedAuthLogin,{cfConnectingIp:t})},[t]),l.useEffect(()=>{window.location.hash==="#pricing"&&A.setCookie(b.ShowPaymentModal,!0,{maxAge:6*60*60})},[]),l.useEffect(()=>{if(p.current)return;p.current=!0;const u=o.get("inv_ws_name"),T=o.get("inv_email");u&&T&&x.success(c.formatMessage(R.invitedToastMessage,{workspace_name:u,email:T}),{hasCloseButton:!0,duration:600})},[o,c,x]),d?null:e.jsx(te,{auth0Provider:f,nextUrl:i,isStorageComplianceEnabled:r})}const te=({auth0Provider:a,nextUrl:t,isStorageComplianceEnabled:r})=>e.jsxs(e.Fragment,{children:[e.jsx(se,{auth0Provider:a,nextUrl:t,isStorageComplianceEnabled:r}),!1]});function se({auth0Provider:a,nextUrl:t,isStorageComplianceEnabled:r}){const s=E(),o=B(),n=l.useRef(null),i=!1;return l.useEffect(()=>{if(s||i)return;n.current==null&&(n.current=document.body.style.backgroundColor);const c=o?"#00002E":"#FFFFDB";return document.body.style.backgroundColor=c,()=>{n.current!=null&&(document.body.style.backgroundColor=n.current)}},[o,s,i]),e.jsxs("div",{className:k("flex min-h-dvh w-screen flex-col md:grid",s?"md:grid-cols-1":"md:grid-cols-2 lg:grid-cols-[60%_40%]"),children:[!s&&e.jsx(Y,{}),e.jsx(Q,{auth0Provider:a,nextUrl:t,isStorageComplianceEnabled:r})]})}const de=_(function(){const t=U();return e.jsx(ee,{...t})});export{de as default};
//# sourceMappingURL=jbdevhqg838l4rak.js.map

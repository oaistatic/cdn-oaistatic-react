const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/msz1if6cey9vq499.js","assets/n26mv7rx7nquqst2.js","assets/n1tvutderx19k1zs.js","assets/root-osq5e7fb.css","assets/pceg3mlzf8dzw9ob.js","assets/conversation-small-nranh1cg.css","assets/bwffru2sl0c8koxg.js","assets/ks5ol9qk63xet9qo.js","assets/fc1eebwzn89ijxnz.js","assets/mhlu8822bwdiwyx5.js","assets/o0nwcp47wh6i2vlr.js","assets/n0d8tgahmhdeo0ie.js","assets/fws03tm73d9qjm3m.js","assets/kodyf94rms2l778g.js","assets/hexva2s1lo90zidg.js","assets/nraolmtygmvq3wcf.js","assets/ecp3vwsjvu9v61q0.js","assets/egjj718ybwa4lzxd.js","assets/mv4siddtw65ibanc.js","assets/luscs3xv1j9ybwi2.js","assets/zs3gwhpec3gpzbzg.js","assets/lt8myo97bxkt0gi4.js","assets/gbcm5ghq9ddzv4er.js","assets/mjvbh49zpuokaqb8.js","assets/ism5ltuyfnnx8n4w.js","assets/nxz31zqr36vgy6hm.js","assets/jfxozbrcnsxchwcx.js","assets/da0lloekhn03bypm.js","assets/hg2pcqdl92ment5e.js","assets/pepzsrzd9jjfvnrs.js","assets/h62hagcisi6jaqob.js","assets/eq6694szcin47yri.js","assets/jdqnpf56zdq7yipz.js","assets/ne74mbjr2ieed7ar.js"])))=>i.map(i=>d[i]);
import{fG as Y,S as O,P as L,a as M,cV as J,er as X,d$ as V,gI as E,bs as f,bt as g,al as $,gK as Z,de as I,t as _,av as ee,D as se,gn as ae,go as te,dM as ie,fI as re,r as oe,ai as ne,aL as de,fA as ce,ag as le}from"./n26mv7rx7nquqst2.js";import{r as d,j as e,aw as D,e as ue,a as R,c as me,au as u,d as P,f as he,u as fe}from"./n1tvutderx19k1zs.js";import{ie as ge,ig as z,ih as xe,ii as pe,ij as S,ik as m,hx as ve,ct as h,cu as N,il as je,v as be,x as we,z as Ce,im as Te,bJ as ye,cW as Ee,io as Ie,ip as _e,eK as Pe,eL as k,iq as Se,o as Ne,e1 as ke,ir as Ae,ce as Fe,dF as Oe,is as Le,d1 as Me,de as Ve,it as De,iu as Re,T as A,df as ze,iv as Ue,iw as Ge}from"./pceg3mlzf8dzw9ob.js";import{C as Ke}from"./o0nwcp47wh6i2vlr.js";import{a as U,u as G}from"./kodyf94rms2l778g.js";import{C as We}from"./pepzsrzd9jjfvnrs.js";import{M as He}from"./ism5ltuyfnnx8n4w.js";import{K as qe}from"./eq6694szcin47yri.js";import{u as Qe}from"./egjj718ybwa4lzxd.js";import{C as Be}from"./jdqnpf56zdq7yipz.js";function Ye(){const a=ge(n=>n.notifications),{activeThreadIds:s}=Y(),i=d.useRef(new Set);return d.useEffect(()=>{a.filter(t=>t.clientThreadId===void 0||s.has(t.clientThreadId)).map(t=>t.id).filter(t=>t!==void 0).forEach(t=>z(t)),a.forEach(t=>{t.id&&!i.current.has(t.id)&&(O.logEvent("chatgpt_notification_shown"),L.logEvent(M.notificationShown),i.current.add(t.id))})},[s,a]),a.length===0||J?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(D,{children:a.map(n=>e.jsx(Je,{...n},n.id))})})}function Je({...a}){const s=ue(),i=R(),n=me(),t=X(a.clientThreadId),c=()=>{O.logEvent("chatgpt_notification_clicked"),L.logEvent(M.notificationClicked),t&&pe(s,i,t),a.id&&z(a.id)};return e.jsxs(u.div,{onClick:c,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(xe,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:a.title??n.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:a.subtitle??n.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const F=450;function Xe({children:a,clientThreadId:s,isOpen:i,onClose:n}){const t=V();return e.jsxs(D,{children:[i&&t&&e.jsx(U,{clientThreadId:s,children:e.jsx(E,{children:e.jsx(S.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(u.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:F},...m,children:e.jsx(We,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:a})]})]})})})}),i&&!t&&e.jsx(E,{children:e.jsx(S.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(u.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:F},...m,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(He,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const $e=f(()=>g(()=>import("./msz1if6cey9vq499.js"),__vite__mapDeps([0,1,2,3,4,5]))),Ze=f(()=>g(()=>import("./bwffru2sl0c8koxg.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32])).then(a=>a.ImageEditor));function es({clientThreadId:a}){const s=ve();d.useEffect(()=>{h.close()},[a]);let i;return s?.type===N.ADAVisualization?i=e.jsx($e,{clientThreadId:a,visualization:s.visualization}):s?.type===N.Image&&(i=e.jsx(Ze,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx(Xe,{clientThreadId:a,isOpen:s!=null,onClose:h.close,children:i})}function ss(){const{clientThreadId:a,resetThread:s}=G();return Qe({resetThreadAction:s,clientThreadId:a}),null}function as(){const{clientThreadId:a,isCompanionWindow:s}=G();return e.jsx(je,{conversationId:a,isActiveWindow:!s})}function ts({clientThreadId:a,urlThreadId:s}){return be({clientThreadId:a}),e.jsxs(e.Fragment,{children:[e.jsx(as,{}),e.jsx(ss,{}),e.jsx(we,{clientThreadId:a,urlThreadId:s}),e.jsx(Ce,{}),e.jsx(Be,{})]})}var is={};const rs=f(()=>g(()=>import("./ne74mbjr2ieed7ar.js"),__vite__mapDeps([33,2,1,3,4,5,13,14,15,16,29,24,25,26,27,28,22,30]))),os="gpt-4o-mini";function vs(a){const{urlThreadId:s,clientThreadId:i,prefetchSearch:n}=a;ns();const t=$(),c=P(),[x]=he(),[o,l]=d.useState(()=>{if(s!==void 0){const r=s;return Z(r)??r}return i!==void 0?i:I()});s!==void 0&&o!==s&&(_(o)===s||l(s));const K=Te(P());d.useEffect(()=>{s===void 0&&_(o)!==void 0&&l(I())},[s,o,K]);const W=ye(Ee.workspaceId),H=V(),{value:p}=ee("1887864177"),{eligible:v,isLoading:j,markAsViewed:b}=Ie(),w=_e();d.useEffect(()=>{(c.pathname==="/"||c.pathname.startsWith("/c/"))&&Pe({namespace:k.ChatPageLoad})==null&&(Se({namespace:k.ChatPageLoad,opts:{expectedTimingLogs:[{name:"render_model_switcher",expectedInMs:1e4},{name:"render_history_items",expectedInMs:25e3}]}}),se.addTiming("chatgpt.web.chatPage.mounted"))},[]);const C=Ne();d.useEffect(()=>{ae(!0).then(r=>{r.force_login&&C({authType:"login"}),ke.initializeAndGatherData(r),te.initializeAndGatherData(r)})},[C]),d.useEffect(()=>{const r=x.get(Ae)==="true";t!==r&&ie.setIsTemporaryChatEnabled(r)},[t,x]),d.useEffect(()=>{c.state?.focusObject&&h.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),d.useEffect(()=>{!j&&v&&(b(),w())},[v,j,b,w]);const{isOpen:q,isLoading:Q}=Fe(),B=H?ts:Ke,T=R();return d.useEffect(()=>re(de,{completionFinished:r=>{if(r.serverThreadId!=null){if(!t){const y=oe(r.serverThreadId)?.mode;y?.kind===ne.GizmoInteraction&&Oe.handleGizmoInteracted(T,y.gizmo_id)}p&&Le(r.serverThreadId,r.messageId,os)}}}),[t,T,p]),e.jsx(ce.Provider,{value:null,children:e.jsx(Me,{children:e.jsxs(Ve,{clientThreadId:o,children:[e.jsx(De,{clientThreadId:o},W),!Q&&q&&e.jsx(rs,{clientThreadId:o,setClientThreadId:l}),e.jsx(qe,{}),e.jsx(Re,{}),e.jsx(U,{clientThreadId:o,setClientThreadId:l,prefetchSearch:n,children:e.jsx(A,{clientThreadId:o,children:e.jsx(B,{urlThreadId:s,clientThreadId:o,setClientThreadId:l,prefetchSearch:n})})}),e.jsx(A,{clientThreadId:o,children:e.jsx(es,{clientThreadId:o})}),e.jsx(ze,{clientThreadId:o}),e.jsx(Ue,{}),e.jsx(Ye,{}),e.jsx(Ge,{}),null]})})})}function ns(){fe({queryKey:["pingEdge"],queryFn:()=>le.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=is.GOKU_SERVICE);export{vs as C,F};
//# sourceMappingURL=jghehdtxmw2wxk8l.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/b22czimdj44809ig.js","assets/cg166fqqcxkeiosv.js","assets/d5k5wa3zyqlgc9bk.js","assets/mwlpozqwnbys03vp.js","assets/root-0muf4psh.css","assets/conversation-small-ga20ijz2.css","assets/pfn4k437nge2m1vb.js","assets/lyxz8i5c4a3y7iew.js","assets/lreb9dbp4o4sdhlz.js","assets/mptd6395vqovl9h2.js","assets/nbo9a5e09uaxkp2z.js","assets/nf72ucyf2v4hrd52.js","assets/gg3htlw4oy097iqi.js","assets/nsmo1fil03yxtd3r.js","assets/bk3oz68r6jpv53p0.js","assets/3qaegw5tahuvxmqt.js","assets/i7xkmczefffl02lb.js","assets/ifsrmh2wagx96n9r.js","assets/k9og1wkg25ezi82z.js","assets/dwgbagtcbp3llpgj.js","assets/BusinessesMap-g8qqrkxo.css"])))=>i.map(i=>d[i]);
import{r as f,j as a,aE as Yt,u as Bt,R as Zt,c as S,M as v,g as dt,aw as Pe,au as De}from"./cg166fqqcxkeiosv.js";import{d as $,c1 as qt,a as w,u as ut,R as Vt,bx as B,c2 as te,cj as Gt,by as Xt,ba as Z,c6 as Kt,h as we,Q as Jt,aj as Qt,eF as es,de as ht,eu as ne,D as mt,bi as ft,bT as pt,di as ts,bR as ss,bm as ns,bn as as,ao as gt,eG as $e,I as os,i1 as rs,i3 as is,gV as cs}from"./mwlpozqwnbys03vp.js";import{u as ls}from"./dwgbagtcbp3llpgj.js";import{rY as ds,rZ as us,cs as ae,cr as hs,r_ as xt,r$ as ms,s0 as fs,s1 as ps,bT as je,E as F,s2 as gs,s3 as xs,hv as se,s4 as ys,c1 as bs,c3 as vs,s5 as ws,s6 as $s,eT as js,cC as yt,cD as bt,F as vt,S as Ns,q as Te,s7 as _s,s8 as Me,gU as ks,gT as Cs,fa as D,s9 as Ss,gd as Ps,kE as Ds,kF as Ts,ht as Ae}from"./d5k5wa3zyqlgc9bk.js";import{s as H,c as Ee,d as wt,R as X,u as $t,e as Ms,g as As,b as Es,j as Is,C as Fs,l as Ls,m as Rs,S as Ie,D as Os,n as Hs,I as zs,o as Us,M as Ws,r as Ys,q as Bs}from"./pfn4k437nge2m1vb.js";import{a as Zs}from"./nbo9a5e09uaxkp2z.js";import{u as qs,b as Vs,i as Gs}from"./k9og1wkg25ezi82z.js";import{a as Xs}from"./gg3htlw4oy097iqi.js";import{g as Ks,d as Js,b as jt,I as Qs}from"./nsmo1fil03yxtd3r.js";import{w as Ne,s as Nt,f as en,a as tn,h as sn,M as _e,u as nn,r as an,b as on}from"./nf72ucyf2v4hrd52.js";import{b as W}from"./i7xkmczefffl02lb.js";import{v as Fe,C as rn,A as cn,a as ln,L as dn,B as un,p as hn,b as mn,e as fn,P as pn,f as gn,i as xn,g as yn}from"./mvt4km0zlpksanl9.js";import{N as Le}from"./bcgu844kz5rwd68s.js";import{S as bn}from"./b2w5qfsxz967tcnb.js";import{c as _t}from"./fkhtghkh1er8efwl.js";const vn=_t("ChevronDownFilled","1em",["M15.8 7.73c.28.3.27.78-.03 1.06l-5.25 5a.75.75 0 0 1-1.04 0l-5.25-5a.75.75 0 0 1 1.04-1.08L10 12.2l4.73-4.5a.75.75 0 0 1 1.06.02Z"]),wn=_t("ChevronLeftFilled","1em",["M12.27 15.8a.75.75 0 0 1-1.06-.03l-5-5.25a.75.75 0 0 1 0-1.04l5-5.25a.75.75 0 1 1 1.08 1.04L7.8 10l4.5 4.73c.29.3.28.78-.02 1.06Z"]),nx=24,ax=16,ox=12,rx=5e3,me=20,ix=400,$n=1e3,kt=e=>Array.from(e.match(/\s*\S+(?:\s+|$)/g)??[]),fe=e=>({"--duration":`${$n}ms`,"--delay":`${e}ms`}),jn="_fadeIn_1diba_7",Nn="_fade_1diba_7",pe={fadeIn:jn,fade:Nn},Re=({children:e,delay:t,isLastNode:s,onReady:n,onComplete:o})=>{const r=kt(e),i=r.length,c=f.useRef(!1),u=()=>{c.current=i,n?.()},h=ls(i);return f.useEffect(()=>{(!s||h===i)&&c.current===i&&u()},[e,s]),a.jsx(a.Fragment,{children:r.map((d,l)=>{const p=l===i-1;return a.jsx("span",{className:$(pe.fadeIn,"whitespace-prewrap"),style:fe(t+l*me),onAnimationStart:p?u:void 0,onAnimationEnd:p?o:void 0,children:d},l)})})},I=({tag:e,addListStyles:t=!1,children:s,"data-start":n,"data-end":o,"data-is-last-node":r})=>{const i=r==="",{activeStartPos:c,reportComplete:u,reportReady:h,register:d,unregister:l}=f.useContext(ds);f.useEffect(()=>{if(!(n==null||t))return d(n),()=>l(n)},[n,t,l,d]);const p=!i&&o!=null,m=()=>{p&&h(o)},x=()=>{p&&u(o)},j=c!=null&&n!=null&&c>n,b=c!=null&&n!=null&&n<=c;if(t)return a.jsx(e,{"data-start":n,"data-end":o,className:$("transition-opacity",b?"opacity-100":"hidden opacity-0"),children:s});if(!b&&!j)return a.jsx(e,{"data-start":n,"data-end":o,className:"hidden",children:s});let _=0;return a.jsx(e,{"data-start":n,"data-end":o,children:typeof s=="string"?a.jsx(Re,{isLastNode:i,delay:_,onReady:m,onComplete:x,children:s}):Array.isArray(s)?s.map((N,T)=>{const g=_;typeof N=="string"?_+=kt(N).length*me:_+=me;const y=T===s.length-1;return typeof N=="string"?a.jsx(Re,{delay:g,isLastNode:i,onReady:y?m:void 0,onComplete:y?x:void 0,children:N},T):a.jsx("span",{className:pe.fadeIn,style:fe(_),onAnimationStart:y?m:void 0,onAnimationEnd:y?x:void 0,children:N},T)}):a.jsx("span",{className:pe.fadeIn,style:fe(_),onAnimationStart:m,onAnimationEnd:x,children:s})})},_n={p:e=>a.jsx(I,{tag:"p",...e}),h1:e=>a.jsx(I,{tag:"h1",...e}),h2:e=>a.jsx(I,{tag:"h2",...e}),h3:e=>a.jsx(I,{tag:"h3",...e}),h4:e=>a.jsx(I,{tag:"h4",...e}),h5:e=>a.jsx(I,{tag:"h5",...e}),h6:e=>a.jsx(I,{tag:"h6",...e}),li:e=>a.jsx(I,{tag:"li",addListStyles:!0,...e})},kn=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],Oe={}.hasOwnProperty;function Cn(e,t){const s=t||{};function n(o,...r){let i=n.invalid;const c=n.handlers;if(o&&Oe.call(o,e)){const u=String(o[e]);i=Oe.call(c,u)?c[u]:n.unknown}if(i)return i.call(this,o,...r)}return n.handlers=s.handlers||{},n.invalid=s.invalid,n.unknown=s.unknown,n}const Sn=/^>|^->|<!--|-->|--!>|<!-$/g,Pn=[">"],Dn=["<",">"];function Tn(e,t,s,n){return n.settings.bogusComments?"<?"+H(e.value,Object.assign({},n.settings.characterReferences,{subset:Pn}))+">":"<!--"+e.value.replace(Sn,o)+"-->";function o(r){return H(r,Object.assign({},n.settings.characterReferences,{subset:Dn}))}}function Mn(e,t,s,n){return"<!"+(n.settings.upperDoctype?"DOCTYPE":"doctype")+(n.settings.tightDoctype?"":" ")+"html>"}const k=St(1),Ct=St(-1),An=[];function St(e){return t;function t(s,n,o){const r=s?s.children:An;let i=(n||0)+e,c=r[i];if(!o)for(;c&&Ne(c);)i+=e,c=r[i];return c}}const En={}.hasOwnProperty;function Pt(e){return t;function t(s,n,o){return En.call(e,s.tagName)&&e[s.tagName](s,n,o)}}const ke=Pt({body:Fn,caption:oe,colgroup:oe,dd:Hn,dt:On,head:oe,html:In,li:Rn,optgroup:zn,option:Un,p:Ln,rp:He,rt:He,tbody:Yn,td:ze,tfoot:Bn,th:ze,thead:Wn,tr:Zn});function oe(e,t,s){const n=k(s,t,!0);return!n||n.type!=="comment"&&!(n.type==="text"&&Ne(n.value.charAt(0)))}function In(e,t,s){const n=k(s,t);return!n||n.type!=="comment"}function Fn(e,t,s){const n=k(s,t);return!n||n.type!=="comment"}function Ln(e,t,s){const n=k(s,t);return n?n.type==="element"&&(n.tagName==="address"||n.tagName==="article"||n.tagName==="aside"||n.tagName==="blockquote"||n.tagName==="details"||n.tagName==="div"||n.tagName==="dl"||n.tagName==="fieldset"||n.tagName==="figcaption"||n.tagName==="figure"||n.tagName==="footer"||n.tagName==="form"||n.tagName==="h1"||n.tagName==="h2"||n.tagName==="h3"||n.tagName==="h4"||n.tagName==="h5"||n.tagName==="h6"||n.tagName==="header"||n.tagName==="hgroup"||n.tagName==="hr"||n.tagName==="main"||n.tagName==="menu"||n.tagName==="nav"||n.tagName==="ol"||n.tagName==="p"||n.tagName==="pre"||n.tagName==="section"||n.tagName==="table"||n.tagName==="ul"):!s||!(s.type==="element"&&(s.tagName==="a"||s.tagName==="audio"||s.tagName==="del"||s.tagName==="ins"||s.tagName==="map"||s.tagName==="noscript"||s.tagName==="video"))}function Rn(e,t,s){const n=k(s,t);return!n||n.type==="element"&&n.tagName==="li"}function On(e,t,s){const n=k(s,t);return!!(n&&n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd"))}function Hn(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="dt"||n.tagName==="dd")}function He(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="rp"||n.tagName==="rt")}function zn(e,t,s){const n=k(s,t);return!n||n.type==="element"&&n.tagName==="optgroup"}function Un(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="option"||n.tagName==="optgroup")}function Wn(e,t,s){const n=k(s,t);return!!(n&&n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot"))}function Yn(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="tbody"||n.tagName==="tfoot")}function Bn(e,t,s){return!k(s,t)}function Zn(e,t,s){const n=k(s,t);return!n||n.type==="element"&&n.tagName==="tr"}function ze(e,t,s){const n=k(s,t);return!n||n.type==="element"&&(n.tagName==="td"||n.tagName==="th")}const qn=Pt({body:Xn,colgroup:Kn,head:Gn,html:Vn,tbody:Jn});function Vn(e){const t=k(e,-1);return!t||t.type!=="comment"}function Gn(e){const t=new Set;for(const n of e.children)if(n.type==="element"&&(n.tagName==="base"||n.tagName==="title")){if(t.has(n.tagName))return!1;t.add(n.tagName)}const s=e.children[0];return!s||s.type==="element"}function Xn(e){const t=k(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Ne(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function Kn(e,t,s){const n=Ct(s,t),o=k(e,-1,!0);return s&&n&&n.type==="element"&&n.tagName==="colgroup"&&ke(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="col")}function Jn(e,t,s){const n=Ct(s,t),o=k(e,-1);return s&&n&&n.type==="element"&&(n.tagName==="thead"||n.tagName==="tbody")&&ke(n,s.children.indexOf(n),s)?!1:!!(o&&o.type==="element"&&o.tagName==="tr")}const q={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function Qn(e,t,s,n){const o=n.schema,r=o.space==="svg"?!1:n.settings.omitOptionalTags;let i=o.space==="svg"?n.settings.closeEmptyElements:n.settings.voids.includes(e.tagName.toLowerCase());const c=[];let u;o.space==="html"&&e.tagName==="svg"&&(n.schema=Nt);const h=ea(n,e.properties),d=n.all(o.space==="html"&&e.tagName==="template"?e.content:e);return n.schema=o,d&&(i=!1),(h||!r||!qn(e,t,s))&&(c.push("<",e.tagName,h?" "+h:""),i&&(o.space==="svg"||n.settings.closeSelfClosing)&&(u=h.charAt(h.length-1),(!n.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&c.push(" "),c.push("/")),c.push(">")),c.push(d),!i&&(!r||!ke(e,t,s))&&c.push("</"+e.tagName+">"),c.join("")}function ea(e,t){const s=[];let n=-1,o;if(t){for(o in t)if(t[o]!==null&&t[o]!==void 0){const r=ta(e,o,t[o]);r&&s.push(r)}}for(;++n<s.length;){const r=e.settings.tightAttributes?s[n].charAt(s[n].length-1):void 0;n!==s.length-1&&r!=='"'&&r!=="'"&&(s[n]+=" ")}return s.join("")}function ta(e,t,s){const n=en(e.schema,t),o=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,r=e.settings.allowDangerousCharacters?0:1;let i=e.quote,c;if(n.overloadedBoolean&&(s===n.attribute||s==="")?s=!0:(n.boolean||n.overloadedBoolean&&typeof s!="string")&&(s=!!s),s==null||s===!1||typeof s=="number"&&Number.isNaN(s))return"";const u=H(n.attribute,Object.assign({},e.settings.characterReferences,{subset:q.name[o][r]}));return s===!0||(s=Array.isArray(s)?(n.commaSeparated?tn:us)(s,{padLeft:!e.settings.tightCommaSeparatedLists}):String(s),e.settings.collapseEmptyAttributes&&!s)?u:(e.settings.preferUnquoted&&(c=H(s,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:q.unquoted[o][r]}))),c!==s&&(e.settings.quoteSmart&&Ee(s,i)>Ee(s,e.alternative)&&(i=e.alternative),c=i+H(s,Object.assign({},e.settings.characterReferences,{subset:(i==="'"?q.single:q.double)[o][r],attribute:!0}))+i),u+(c&&"="+c))}const sa=["<","&"];function Dt(e,t,s,n){return s&&s.type==="element"&&(s.tagName==="script"||s.tagName==="style")?e.value:H(e.value,Object.assign({},n.settings.characterReferences,{subset:sa}))}function na(e,t,s,n){return n.settings.allowDangerousHtml?e.value:Dt(e,t,s,n)}function aa(e,t,s,n){return n.all(e)}const oa=Cn("type",{invalid:ra,unknown:ia,handlers:{comment:Tn,doctype:Mn,element:Qn,raw:na,root:aa,text:Dt}});function ra(e){throw new Error("Expected node, not `"+e+"`")}function ia(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const ca={},la={},da=[];function ua(e,t){const s=t||ca,n=s.quote||'"',o=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Invalid quote `"+n+"`, expected `'` or `\"`");return{one:ha,all:ma,settings:{omitOptionalTags:s.omitOptionalTags||!1,allowParseErrors:s.allowParseErrors||!1,allowDangerousCharacters:s.allowDangerousCharacters||!1,quoteSmart:s.quoteSmart||!1,preferUnquoted:s.preferUnquoted||!1,tightAttributes:s.tightAttributes||!1,upperDoctype:s.upperDoctype||!1,tightDoctype:s.tightDoctype||!1,bogusComments:s.bogusComments||!1,tightCommaSeparatedLists:s.tightCommaSeparatedLists||!1,tightSelfClosing:s.tightSelfClosing||!1,collapseEmptyAttributes:s.collapseEmptyAttributes||!1,allowDangerousHtml:s.allowDangerousHtml||!1,voids:s.voids||kn,characterReferences:s.characterReferences||la,closeSelfClosing:s.closeSelfClosing||!1,closeEmptyElements:s.closeEmptyElements||!1},schema:s.space==="svg"?Nt:sn,quote:n,alternative:o}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function ha(e,t,s){return oa(e,t,s,this)}function ma(e){const t=[],s=e&&e.children||da;let n=-1;for(;++n<s.length;)t[n]=this.one(s[n],n,e);return t.join("")}function fa(e){const t=this,s={...t.data("settings"),...e};t.compiler=n;function n(o){return ua(o,s)}}function pa(e){return e&&/^turn[0-9]+ifs[0-9]+$/.test(e)}const ga=4;function xa({metadata:e,analyticsMetadata:t,trackContentReferenceEvent:s}){const n=qt(),o=e.images,r=o.some(d=>d.is_proxied_image)?[]:o.map(d=>d.thumbnail_url),i=Yt({queries:r.map(d=>Ks(d)),combine:d=>{const l=new Set;return d.forEach((p,m)=>{p.isSuccess&&l.add(r[m])}),l}}),c=o.filter(d=>i.has(d.thumbnail_url)),u=e.images.length;if(o.some(d=>d.is_proxied_image)){const d=o.find(l=>l.is_proxied_image);return a.jsx(re,{image:d,imageSource:ae.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},d?.content_url)}if(u===0)return null;if(u===1){const d=e.images[0];return a.jsx(re,{image:d,imageSource:ae.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"float-image z-10 float-right clear-right mb-7 ml-7 mt-1 min-w-32 max-w-[22%] overflow-hidden rounded-xl border-[0.5px] border-token-border-light"},d.content_url)}const h=n?c.length:Math.min(c.length,ga);return a.jsx("div",{className:"no-scrollbar mb-6 mt-1 flex min-h-36 flex-nowrap gap-0.5 overflow-auto sm:gap-1 sm:overflow-hidden xl:min-h-44",children:c.slice(0,h).map((d,l)=>a.jsx("div",{className:$("relative aspect-square max-h-48 w-32 shrink-0 overflow-hidden rounded-xl border-[0.5px] border-token-border-light sm:w-[calc((100%-1rem)/4)] md:shrink",l===0&&"rounded-l-xl",l===h-1&&"rounded-r-xl"),children:a.jsx(re,{image:d,imageSource:ae.Turn,analyticsMetadata:t,trackContentReferenceEvent:s,className:"h-full w-full"},d.thumbnail_url)},d.thumbnail_url))})}const Tt=f.memo(xa,(e,t)=>e.numImageResults===t.numImageResults&&e.analyticsMetadata===t.analyticsMetadata&&e.trackContentReferenceEvent===t.trackContentReferenceEvent&&e.metadata.images.length===t.metadata.images.length&&e.metadata.images.every((s,n)=>s.content_url===t.metadata.images[n].content_url));function re({image:e,imageSource:t,className:s,imgClassName:n,style:o,analyticsMetadata:r,trackContentReferenceEvent:i}){const c=Js(e),{isSuccess:u}=jt(c),h=f.useMemo(()=>({image_url:c,title:e?.title}),[c,e?.title]);f.useEffect(()=>{e&&u&&i(w.searchContentReferenceShown,"search_content_reference_shown","image_v2",h)},[i,e,u,h]);const d=hs.useStore(),l=e?.is_proxied_image?e.url:c;return a.jsx("button",{className:$("relative aspect-square overflow-hidden",s),style:o,onClick:()=>{i(w.searchContentReferenceClicked,"search_content_reference_clicked","image_v2",h),d.setCurrentImage(e?{image:e,source:t,analyticsMetadata:r}:void 0)},children:e?e?.is_proxied_image||u?a.jsx(Qs,{children:a.jsx("img",{src:l,alt:e?.content_url,className:$("m-0 h-full w-full bg-token-main-surface-tertiary object-cover",n)})}):a.jsx("div",{className:"h-full w-full animate-pulse bg-token-main-surface-tertiary"}):a.jsx("div",{className:"aspect-square h-full w-full animate-pulse bg-token-main-surface-tertiary"})})}async function ya({conversationId:e,messageId:t,assetPointerLinks:s}){return await Vt.safePost("/conversation/get_images_for_message",{requestBody:{conversation_id:e,message_id:t,asset_pointer_links:s}})}function ba({reference:e,conversationId:t,messageId:s}){return Bt({queryKey:["inline-images",e,t,s],queryFn:async()=>{if(!e.asset_pointer_links||e.asset_pointer_links.length===0||!t)return{images:[],formats:[]};const n=await ya({conversationId:t,messageId:s,assetPointerLinks:e.asset_pointer_links});for(let o=0;o<n.images.length;o++){const r=n.images[o],c=`image/${n.formats[o]}`,u=va(r,c);n.images[o]=u}return n}})}function va(e,t="",s=512){const n=atob(e),o=[];for(let i=0;i<n.length;i+=s){const c=n.slice(i,i+s),u=new Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d);const h=new Uint8Array(u);o.push(h)}const r=new Blob(o,{type:t});return URL.createObjectURL(r)}function wa({reference:e,clientThreadId:t,messageId:s,trackContentReferenceEvent:n}){const o=ut(t),{data:r,isLoading:i,isError:c,error:u}=ba({reference:e,conversationId:o,messageId:s}),h=f.useRef([]);return f.useEffect(()=>()=>{h.current.forEach(d=>{URL.revokeObjectURL(d)}),h.current=[]},[]),i||c||u||!r||!("images"in r)?null:(h.current=[],a.jsx(a.Fragment,{children:r?.images.map((d,l)=>{const p={matched_text:e.matched_text,start_idx:e.start_idx,end_idx:e.end_idx,safe_urls:e.safe_urls,alt:e.alt,prompt_text:e.prompt_text,type:"image_v2",images:[{url:d,content_url:e.clicked_from_url??"",thumbnail_url:d,title:e.clicked_from_title??"",content_size:{width:141,height:143},thumbnail_size:{width:141,height:143},is_proxied_image:!0}]};return a.jsx(Tt,{metadata:p,analyticsMetadata:{clientThreadId:t,messageId:s},numImageResults:1,trackContentReferenceEvent:n},`image-carousel-inline-${l}`)})}))}function $a({attributions:e,attributionsDebug:t,children:s}){const n=xt(),o=B(),r=f.useMemo(()=>e?.map((l,p)=>({...l,originalIndex:p}))?.toSorted((l,p)=>(p.probability??0)-(l.probability??0)),[e]),i=ms(),c=fs(),u=ps(),d=t&&(t.influence_temperature!==i||t.prob_baseline!==c||t.use_sigmoid_likelihood!==u)&&e&&(u?gs(e,i,c):xs(e,i));return!r||!n?s:a.jsx(te,{label:a.jsxs("div",{className:"text-left text-xs font-normal text-token-text-primary",children:[a.jsx("div",{className:"font-bold",children:"Attributions (Debug)"}),a.jsxs("div",{className:"grid grid-cols-[200px,1fr,1fr] gap-1",children:[a.jsx("div",{children:"Source"}),a.jsxs("div",{children:["τ=",t?.influence_temperature,", b=",t?.prob_baseline]}),a.jsx("div",{children:d&&`τ=${i}, b=${c}`}),r.map((l,p)=>{const m=l.source_type==="prior",x=m?"text-red-500":l.url?"":"text-gray-500",j=l.probability&&`${(l.probability*100).toFixed(2)}%`,b=d&&d[l.originalIndex].probability,_=b&&`${(b*100).toFixed(2)}%`;return a.jsxs(f.Fragment,{children:[a.jsx("div",{className:$("flex flex-col",x),children:m?a.jsx("div",{className:"line-clamp-1 font-bold",children:"Model Prior"}):l.url?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"line-clamp-1 font-bold",children:je(l.url)}),"(",l.source_type,")"]}),a.jsx(F,{href:l.url,className:"line-clamp-1 text-xs",children:l.url})]}):a.jsxs("div",{className:"text-xxs line-clamp-1",children:["(",l.source_type,")"]})}),a.jsx("div",{className:x,children:j}),a.jsx("div",{className:x,children:_})]},p)})]})]}),theme:o?"default":"white",delayDuration:0,className:"inline",side:"left",interactive:!0,children:s})}function ja({attribution:e}){const t=f.useContext(se),s=ys(t?.message.id,e.attributable_index),n=xt();return a.jsx(_a,{isHighlighted:s,isDebugMode:n,content:e.alt??"",attributableIndex:e.attributable_index,attributions:e.attributions??void 0,attributionsDebug:e.attributions_debug??void 0})}function Na({content:e,isHighlighted:t,isDebugMode:s,attributableIndex:n,attributions:o,attributionsDebug:r}){const i=s?"hover:shadow-[-1px_0_2px_2px_rgba(255,0,0,0.4)]":void 0,c=a.jsxs(a.Fragment,{children:[s&&a.jsx("span",{className:"absolute -top-4 left-0 whitespace-nowrap text-xs text-red-500",children:a.jsx(te,{label:"Attribution Index",side:"top",children:n})}),a.jsx($a,{attributions:o,attributionsDebug:r,children:a.jsx(_e,{rehypePlugins:wt,remarkPlugins:X,urlTransform:$t,components:{p:({children:u})=>a.jsx(a.Fragment,{children:u})},children:e})})]});return a.jsx(ka,{isHighlighted:t,className:i,children:c})}const _a=Zt.memo(Na);function ka({isHighlighted:e,className:t,children:s}){return a.jsx("span",{className:$("relative","-mx-px my-[-0.2rem] rounded px-px py-[0.2rem]",e&&"bg-token-main-surface-tertiary",t),children:s})}function Ue(e,t){try{return BigInt(e).toLocaleString(t)}catch{const s=Number(e);return e.includes("e")||e.includes("E")?s.toExponential():s.toLocaleString(t,{maximumFractionDigits:6})}}function Ca({data:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(w.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=Gt().locale;return e.expression&&e.result!=null?a.jsxs("div",{className:"no-scrollbar overflow-auto sm:overflow-hidden",children:[a.jsxs("div",{className:"pb-1 text-lg font-semibold",children:[e.prefix&&a.jsx("span",{children:e.prefix}),a.jsx("span",{children:Ue(e.result,s)}),e.suffix&&a.jsx("span",{children:e.suffix})]}),a.jsx("div",{className:"tracking-wide text-token-text-primary",children:`${e.expression}=${Ue(e.result,s)}`})]}):null}function Sa(e){return a.jsxs(Xt,{width:"19",height:"15",viewBox:"0 0 19 15",fill:"none",...e,children:[a.jsx("path",{d:"M4.42 0.75H2.8625H2.75C1.64543 0.75 0.75 1.64543 0.75 2.75V11.65C0.75 12.7546 1.64543 13.65 2.75 13.65H2.8625C2.8625 13.65 2.8625 13.65 2.8625 13.65C2.8625 13.65 4.00751 13.65 4.42 13.65M13.98 13.65H15.5375H15.65C16.7546 13.65 17.65 12.7546 17.65 11.65V2.75C17.65 1.64543 16.7546 0.75 15.65 0.75H15.5375H13.98",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M5.55283 4.21963C5.25993 3.92674 4.78506 3.92674 4.49217 4.21963C4.19927 4.51252 4.19927 4.9874 4.49217 5.28029L6.36184 7.14996L4.49217 9.01963C4.19927 9.31252 4.19927 9.7874 4.49217 10.0803C4.78506 10.3732 5.25993 10.3732 5.55283 10.0803L7.95283 7.68029C8.24572 7.3874 8.24572 6.91252 7.95283 6.61963L5.55283 4.21963Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9.77753 8.75003C9.3357 8.75003 8.97753 9.10821 8.97753 9.55003C8.97753 9.99186 9.3357 10.35 9.77753 10.35H13.2775C13.7194 10.35 14.0775 9.99186 14.0775 9.55003C14.0775 9.10821 13.7194 8.75003 13.2775 8.75003H9.77753Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})]})}function Pa({codeMessage:e,codeExecutionOutputMessage:t,onDismiss:s,FormattedText:n}){const o=S();return a.jsx(Z.Root,{isOpen:!0,onClose:s,children:a.jsx(Z.Overlay,{children:a.jsxs(Z.Content,{className:"flex max-h-[75vh] max-w-lg flex-col overflow-hidden",children:[a.jsx(Z.Header,{title:o.formatMessage(Da.title),type:"success",closeButton:a.jsx(Kt,{onClick:s})}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-auto bg-black",children:[a.jsx("div",{children:a.jsx(bs,{FormattedText:n,message:e})}),a.jsx("div",{children:a.jsx(vs,{message:t})})]})]})})})}const Da=we({title:{id:"CodeExecutionOutputModal.title",defaultMessage:"Analysis"}});function Ta({displayInfo:e,FormattedText:t,trackContentReferenceEvent:s}){const[n,o]=f.useState(!1),r=S();return f.useEffect(()=>{s(w.searchContentReferenceShown,"search_content_reference_shown",e.type)},[s,e.type]),a.jsxs(a.Fragment,{children:[a.jsx(te,{label:r.formatMessage(Ma.viewAnalysis),side:"top",sideOffset:4,withArrow:!1,delayDuration:150,children:a.jsx("button",{onClick:()=>o(!0),children:a.jsx(Sa,{className:"-mt-0.5 ml-0.5 inline-block text-token-link hover:text-token-link-hover"})})}),n&&a.jsx(Pa,{FormattedText:t,codeMessage:e.codeMessage,codeExecutionOutputMessage:e.codeExecutionOutputMessage,onDismiss:()=>o(!1)})]})}const Ma=we({viewAnalysis:{id:"viewAnalysis",defaultMessage:"View analysis"}}),We=24;function Aa(e){const t=e.split(".");let s=e;return t.length>1&&t.slice(0,-1).some(n=>n.length>0)&&(s=t.slice(0,-1).join(".")),s.length>We&&(s=s.slice(0,We-1)+"…"),s}function Ea({fileRef:e,index:t,trackContentReferenceEvent:s}){const n=ws(),o=f.useContext(se),r=f.useMemo(()=>({source:e.source,index:t}),[e.source,t]);f.useEffect(()=>{s(w.fileCitationShown,"file_citation_shown","file",r)},[]);const i=f.useCallback(d=>{d?s(w.fileCitationHovered,"file_citation_hovered","file",r):s(w.fileCitationUnhovered,"file_citation_unhovered","file",r)},[r,s]),c=f.useCallback(()=>{s(w.fileCitationClicked,"file_citation_clicked","file",r)},[r,s]),u=f.useCallback(()=>n(e.id,e.name),[n,e.id,e.name]),h=Jt(o?.analyticsMetadata.clientThreadId??es,d=>Qt(d?.mode));return $s(h)?h.gizmo_id&&js(h.gizmo_id)?a.jsx("span",{className:$(Ms,"select-none"),title:e.name,children:Aa(e.name)}):null:a.jsx(Ia,{fileItem:e,onClickDownloadFile:u,trackTooltipOpenChange:i,trackCloudLinkClick:c})}function Ia({fileItem:e,className:t,trackTooltipOpenChange:s,trackCloudLinkClick:n,onClickDownloadFile:o}){const r=yt(e.cloud_doc_url??""),i=r?.type??a.jsx(v,{id:"bqY3sN",defaultMessage:"File"}),c=r?.Icon??bt,u=a.jsx(c,{alt:i,className:"h-[16px] w-[16px] object-contain"}),h=$("ms-1 flex h-[22px] items-center rounded-xl px-2 relative bottom-[-2px]","bg-[#f4f4f4] !text-token-text-secondary hover:bg-token-text-primary hover:!text-token-main-surface-secondary dark:bg-token-main-surface-secondary dark:hover:bg-token-text-primary",t),d=a.jsx("span",{className:"relative inline-flex items-center",children:e.cloud_doc_url?a.jsx(F,{href:e.cloud_doc_url,className:h,onClick:n,children:u}):a.jsx("button",{onClick:o,className:h,children:u})});return a.jsx(Fa,{fileItem:e,icon:a.jsx(c,{alt:i,className:"mr-2 h-[16px] w-[16px] object-contain"}),contentType:i,trackTooltipOpenChange:s,children:d})}function Fa({fileItem:e,children:t,className:s,icon:n,contentType:o,trackTooltipOpenChange:r}){const i=B();return a.jsx(te,{label:a.jsxs(F,{href:e.cloud_doc_url,className:$("flex max-w-80 flex-col gap-1 text-left text-xs font-normal text-token-text-primary !no-underline",s),children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-4 w-4 shrink-0 overflow-hidden rounded-full",children:n}),a.jsx("div",{className:"truncate text-token-text-primary",children:o})]}),a.jsx("div",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.text&&a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-secondary",children:e.text})]}),onOpenChange:r,side:"bottom",sideOffset:10,withArrow:!1,delayDuration:150,theme:i?"default":"white",align:"start",customPaddingClassName:"p-3",cornerRadius:"xl",customBorderClassName:"border-token-border-light border",wide:!0,children:t})}function La(e,t){return new Date(e).toLocaleDateString(t,{month:"long",day:"numeric",year:"numeric"})}function Ra({metadata:e,trackContentReferenceEvent:t}){return e.items.length===0?null:a.jsx("div",{className:"mt-6 flex flex-col gap-3",children:e.items.map((s,n)=>a.jsx(Oa,{item:s,index:n,trackContentReferenceEvent:t},n))})}function Oa({item:e,index:t,trackContentReferenceEvent:s}){const n=S(),o={title:e.name,description:e.description,index:t};f.useEffect(()=>{s(w.contextualAnswersContentReferenceShown,"contextual_answers_content_reference_shown","file_navlist",o)},[]);const r=yt(e.cloud_doc_url??""),i=r?.Icon??bt,c=r?.type??a.jsx(v,{id:"bqY3sN",defaultMessage:"File"});return a.jsxs(F,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.cloud_doc_url??"/",onClick:()=>{s(w.contextualAnswersContentReferenceClicked,"contextual_answers_content_reference_clicked","file_navlist",o)},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"not-prose flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(i,{className:"icon-md object-contain"}),a.jsx("div",{className:"line-clamp-2 text-sm text-token-text-primary",children:c})]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.name}),a.jsx("div",{className:"line-clamp-2 text-sm font-normal leading-snug text-token-text-primary",children:e.description}),e.last_modified_time&&a.jsx("div",{className:"text-sm text-token-text-secondary",children:La(e.last_modified_time,n.locale)})]})]})}var ge={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){if(n===null||n===!0||n===!1)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}e.exports=t.default})(ge,ge.exports);var Ha=ge.exports;const za=dt(Ha);var xe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;function s(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}e.exports=t.default})(xe,xe.exports);var Ua=xe.exports;const Ye=dt(Ua);function Wa(e,t){var s=qa(t);return s.formatToParts?Ba(s,e):Za(s,e)}var Ya={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ba(e,t){try{for(var s=e.formatToParts(t),n=[],o=0;o<s.length;o++){var r=Ya[s[o].type];r>=0&&(n[r]=parseInt(s[o].value,10))}return n}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function Za(e,t){var s=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(s);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var ie={};function qa(e){if(!ie[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),s=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";ie[e]=s?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return ie[e]}function Mt(e,t,s,n,o,r,i){var c=new Date(0);return c.setUTCFullYear(e,t,s),c.setUTCHours(n,o,r,i),c}var Be=36e5,Va=6e4,ce={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function At(e,t,s){var n,o;if(!e||(n=ce.timezoneZ.exec(e),n))return 0;var r;if(n=ce.timezoneHH.exec(e),n)return r=parseInt(n[1],10),Ze(r)?-(r*Be):NaN;if(n=ce.timezoneHHMM.exec(e),n){r=parseInt(n[2],10);var i=parseInt(n[3],10);return Ze(r,i)?(o=Math.abs(r)*Be+i*Va,n[1]==="+"?-o:o):NaN}if(Ka(e)){t=new Date(t||Date.now());var c=s?t:Ga(t),u=ye(c,e),h=s?u:Xa(t,u,e);return-h}return NaN}function Ga(e){return Mt(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ye(e,t){var s=Wa(e,t),n=Mt(s[0],s[1]-1,s[2],s[3]%24,s[4],s[5],0).getTime(),o=e.getTime(),r=o%1e3;return o-=r>=0?r:1e3+r,n-o}function Xa(e,t,s){var n=e.getTime(),o=n-t,r=ye(new Date(o),s);if(t===r)return t;o-=r-t;var i=ye(new Date(o),s);return r===i?r:Math.max(r,i)}function Ze(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var qe={};function Ka(e){if(qe[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),qe[e]=!0,!0}catch{return!1}}var Ja=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,le=36e5,Ve=6e4,Qa=2,P={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ja};function be(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var s={},n=s.additionalDigits==null?Qa:za(s.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=eo(e),r=to(o.date,n),i=r.year,c=r.restDateString,u=so(c,i);if(isNaN(u))return new Date(NaN);if(u){var h=u.getTime(),d=0,l;if(o.time&&(d=no(o.time),isNaN(d)))return new Date(NaN);if(o.timeZone||s.timeZone){if(l=At(o.timeZone||s.timeZone,new Date(h+d)),isNaN(l))return new Date(NaN)}else l=Ye(new Date(h+d)),l=Ye(new Date(h+d+l));return new Date(h+d+l)}else return new Date(NaN)}function eo(e){var t={},s=P.dateTimePattern.exec(e),n;if(s?(t.date=s[1],n=s[3]):(s=P.datePattern.exec(e),s?(t.date=s[1],n=s[2]):(t.date=null,n=e)),n){var o=P.timeZone.exec(n);o?(t.time=n.replace(o[1],""),t.timeZone=o[1].trim()):t.time=n}return t}function to(e,t){var s=P.YYY[t],n=P.YYYYY[t],o;if(o=P.YYYY.exec(e)||n.exec(e),o){var r=o[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(o=P.YY.exec(e)||s.exec(e),o){var i=o[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function so(e,t){if(t===null)return null;var s,n,o,r;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(s=P.MM.exec(e),s)return n=new Date(0),o=parseInt(s[1],10)-1,Xe(t,o)?(n.setUTCFullYear(t,o),n):new Date(NaN);if(s=P.DDD.exec(e),s){n=new Date(0);var i=parseInt(s[1],10);return ro(t,i)?(n.setUTCFullYear(t,0,i),n):new Date(NaN)}if(s=P.MMDD.exec(e),s){n=new Date(0),o=parseInt(s[1],10)-1;var c=parseInt(s[2],10);return Xe(t,o,c)?(n.setUTCFullYear(t,o,c),n):new Date(NaN)}if(s=P.Www.exec(e),s)return r=parseInt(s[1],10)-1,Ke(t,r)?Ge(t,r):new Date(NaN);if(s=P.WwwD.exec(e),s){r=parseInt(s[1],10)-1;var u=parseInt(s[2],10)-1;return Ke(t,r,u)?Ge(t,r,u):new Date(NaN)}return null}function no(e){var t,s,n;if(t=P.HH.exec(e),t)return s=parseFloat(t[1].replace(",",".")),de(s)?s%24*le:NaN;if(t=P.HHMM.exec(e),t)return s=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),de(s,n)?s%24*le+n*Ve:NaN;if(t=P.HHMMSS.exec(e),t){s=parseInt(t[1],10),n=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return de(s,n,o)?s%24*le+n*Ve+o*1e3:NaN}return null}function Ge(e,t,s){t=t||0,s=s||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var o=n.getUTCDay()||7,r=t*7+s+1-o;return n.setUTCDate(n.getUTCDate()+r),n}var ao=[31,28,31,30,31,30,31,31,30,31,30,31],oo=[31,29,31,30,31,30,31,31,30,31,30,31];function Et(e){return e%400===0||e%4===0&&e%100!==0}function Xe(e,t,s){if(t<0||t>11)return!1;if(s!=null){if(s<1)return!1;var n=Et(e);if(n&&s>oo[t]||!n&&s>ao[t])return!1}return!0}function ro(e,t){if(t<1)return!1;var s=Et(e);return!(s&&t>366||!s&&t>365)}function Ke(e,t,s){return!(t<0||t>52||s!=null&&(s<0||s>6))}function de(e,t,s){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||s!=null&&(s<0||s>=60))}function z(e,t,s){var n=be(e,s),o=At(t,n,!0),r=new Date(n.getTime()-o),i=new Date(0);return i.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),i.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i}var ue={line:{color:"#F66",width:1,dashPattern:[]},sync:{enabled:!0,group:1,suppressTooltips:!1},zoom:{enabled:!0,zoomboxBackgroundColor:"rgba(66,133,244,0.2)",zoomboxBorderColor:"#48F",zoomButtonText:"Reset Zoom",zoomButtonClass:"reset-zoom"},snap:{enabled:!1},callbacks:{beforeZoom:function(e,t){return!0},afterZoom:function(e,t){}}},io={id:"crosshair",afterInit:function(e){if(e.config.options.scales.x){var t=e.config.options.scales.x.type;if(!(t!=="linear"&&t!=="time"&&t!=="category"&&t!=="logarithmic")){e.options.plugins.crosshair===void 0&&(e.options.plugins.crosshair=ue),e.crosshair={enabled:!1,suppressUpdate:!1,x:null,originalData:[],originalXRange:{},dragStarted:!1,dragStartX:null,dragEndX:null,suppressTooltips:!1,ignoreNextEvents:0,reset:(function(){this.resetZoom(e,!1,!1)}).bind(this)};var s=this.getOption(e,"sync","enabled");s&&(e.crosshair.syncEventHandler=(function(n){this.handleSyncEvent(e,n)}).bind(this),e.crosshair.resetZoomEventHandler=(function(n){var o=this.getOption(e,"sync","group");n.chartId!==e.id&&n.syncGroup===o&&this.resetZoom(e,!0)}).bind(this),window.addEventListener("sync-event",e.crosshair.syncEventHandler),window.addEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler)),e.panZoom=this.panZoom.bind(this,e)}}},afterDestroy:function(e){var t=this.getOption(e,"sync","enabled");t&&(window.removeEventListener("sync-event",e.crosshair.syncEventHandler),window.removeEventListener("reset-zoom-event",e.crosshair.resetZoomEventHandler))},panZoom:function(e,t){if(e.crosshair.originalData.length!==0){var s=e.crosshair.end-e.crosshair.start,n=e.crosshair.min,o=e.crosshair.max;t<0?(e.crosshair.start=Math.max(e.crosshair.start+t,n),e.crosshair.end=e.crosshair.start===n?n+s:e.crosshair.end+t):(e.crosshair.end=Math.min(e.crosshair.end+t,e.crosshair.max),e.crosshair.start=e.crosshair.end===o?o-s:e.crosshair.start+t),this.doZoom(e,e.crosshair.start,e.crosshair.end)}},getOption:function(e,t,s){return Fe(e.options.plugins.crosshair[t]?e.options.plugins.crosshair[t][s]:void 0,ue[t][s])},getXScale:function(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null},getYScale:function(e){return e.scales[e.getDatasetMeta(0).yAxisID]},handleSyncEvent:function(e,t){var s=this.getOption(e,"sync","group");if(t.chartId!==e.id&&t.syncGroup===s){var n=this.getXScale(e);if(n){var o=t.original.native.buttons===void 0?t.original.native.which:t.original.native.buttons;t.original.type==="mouseup"&&(o=0);var r={type:t.original.type=="click"?"mousemove":t.original.type,chart:e,x:n.getPixelForValue(t.xValue),y:t.original.y,native:{buttons:o},stop:!0};e._eventHandler(r)}}},afterEvent:function(e,t){if(e.config.options.scales.x.length==0)return;let s=t.event;var n=e.config.options.scales.x.type;if(!(n!=="linear"&&n!=="time"&&n!=="category"&&xscaleType!=="logarithmic")){var o=this.getXScale(e);if(o){if(e.crosshair.ignoreNextEvents>0){e.crosshair.ignoreNextEvents-=1;return}var r=s.native.buttons===void 0?s.native.which:s.native.buttons;s.native.type==="mouseup"&&(r=0);var i=this.getOption(e,"sync","enabled"),c=this.getOption(e,"sync","group");if(!s.stop&&i){var t=new CustomEvent("sync-event");t.chartId=e.id,t.syncGroup=c,t.original=s,t.xValue=o.getValueForPixel(s.x),window.dispatchEvent(t)}var u=this.getOption(e,"sync","suppressTooltips");if(e.crosshair.suppressTooltips=s.stop&&u,e.crosshair.enabled=s.type!=="mouseout"&&s.x>o.getPixelForValue(o.min)&&s.x<o.getPixelForValue(o.max),!e.crosshair.enabled&&!e.crosshair.suppressUpdate)return s.x>o.getPixelForValue(o.max)&&(e.crosshair.suppressUpdate=!0,e.update("none")),e.crosshair.dragStarted=!1,!1;e.crosshair.suppressUpdate=!1;var h=this.getOption(e,"zoom","enabled");if(r===1&&!e.crosshair.dragStarted&&h&&(e.crosshair.dragStartX=s.x,e.crosshair.dragStarted=!0),e.crosshair.dragStarted&&r===0){e.crosshair.dragStarted=!1;var d=o.getValueForPixel(e.crosshair.dragStartX),l=o.getValueForPixel(e.crosshair.x);Math.abs(e.crosshair.dragStartX-e.crosshair.x)>1&&this.doZoom(e,d,l),e.update("none")}e.crosshair.x=s.x,e.draw()}}},afterDraw:function(e){if(e.crosshair.enabled)return e.crosshair.dragStarted?this.drawZoombox(e):(this.drawTraceLine(e),this.interpolateValues(e),this.drawTracePoints(e)),!0},beforeTooltipDraw:function(e){return!e.crosshair.dragStarted&&!e.crosshair.suppressTooltips},resetZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(s){if(e.crosshair.originalData.length>0)for(var n=0;n<e.data.datasets.length;n++){var o=e.data.datasets[n];o.data=e.crosshair.originalData.shift(0)}e.crosshair.originalXRange.min?(e.options.scales.x.min=e.crosshair.originalXRange.min,e.crosshair.originalXRange.min=null):delete e.options.scales.x.min,e.crosshair.originalXRange.max?(e.options.scales.x.max=e.crosshair.originalXRange.max,e.crosshair.originalXRange.max=null):delete e.options.scales.x.max}e.crosshair.button&&e.crosshair.button.parentNode&&(e.crosshair.button.parentNode.removeChild(e.crosshair.button),e.crosshair.button=!1);var r=this.getOption(e,"sync","enabled");if(!t&&s&&r){var i=this.getOption(e,"sync","group"),c=new CustomEvent("reset-zoom-event");c.chartId=e.id,c.syncGroup=i,window.dispatchEvent(c)}s&&e.update("none")},doZoom:function(e,t,s){if(t>s){var n=t;t=s,s=n}var o=Fe(e.options.plugins.crosshair.callbacks?e.options.plugins.crosshair.callbacks.beforeZoom:void 0,ue.callbacks.beforeZoom);if(!o(t,s))return!1;if(e.crosshair.dragStarted=!1,e.options.scales.x.min&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.min=e.options.scales.x.min),e.options.scales.x.max&&e.crosshair.originalData.length===0&&(e.crosshair.originalXRange.max=e.options.scales.x.max),!e.crosshair.button){var r=document.createElement("button"),i=this.getOption(e,"zoom","zoomButtonText"),c=this.getOption(e,"zoom","zoomButtonClass"),u=document.createTextNode(i);r.appendChild(u),r.className=c,r.addEventListener("click",(function(){this.resetZoom(e)}).bind(this)),e.canvas.parentNode.appendChild(r),e.crosshair.button=r}e.options.scales.x.min=t,e.options.scales.x.max=s;var h=e.crosshair.originalData.length===0,d=e.config.options.scales.x.type!=="category";if(d)for(var l=0;l<e.data.datasets.length;l++){var p=[],m=0,x=!1,j=!1;h&&(e.crosshair.originalData[l]=e.data.datasets[l].data);for(var b=e.crosshair.originalData[l],_=0;_<b.length;_++){var N=b[_],T=N.x!==void 0?N.x:NaN;T>=t&&!x&&m>0&&(p.push(b[m-1]),x=!0),T>=t&&T<=s&&p.push(N),T>s&&!j&&m<b.length&&(p.push(N),j=!0),m+=1}e.data.datasets[l].data=p}if(e.crosshair.start=t,e.crosshair.end=s,h){var g=this.getXScale(e);e.crosshair.min=g.min,e.crosshair.max=g.max}e.crosshair.ignoreNextEvents=2,e.update("none");var y=this.getOption(e,"callbacks","afterZoom");y(t,s)},drawZoombox:function(e){var t=this.getYScale(e),s=this.getOption(e,"zoom","zoomboxBorderColor"),n=this.getOption(e,"zoom","zoomboxBackgroundColor");e.ctx.beginPath(),e.ctx.rect(e.crosshair.dragStartX,t.getPixelForValue(t.max),e.crosshair.x-e.crosshair.dragStartX,t.getPixelForValue(t.min)-t.getPixelForValue(t.max)),e.ctx.lineWidth=1,e.ctx.strokeStyle=s,e.ctx.fillStyle=n,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()},drawTraceLine:function(e){var t=this.getYScale(e),s=this.getOption(e,"line","width"),n=this.getOption(e,"line","color"),o=this.getOption(e,"line","dashPattern"),r=this.getOption(e,"snap","enabled"),i=e.crosshair.x;r&&e._active.length&&(i=e._active[0].element.x),e.ctx.beginPath(),e.ctx.setLineDash(o),e.ctx.moveTo(i,t.getPixelForValue(t.max)),e.ctx.lineWidth=s,e.ctx.strokeStyle=n,e.ctx.lineTo(i,t.getPixelForValue(t.min)),e.ctx.stroke(),e.ctx.setLineDash([])},drawTracePoints:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.yAxisID];n.hidden||!s.interpolate||(e.ctx.beginPath(),e.ctx.arc(e.crosshair.x,o.getPixelForValue(s.interpolatedValue),3,0,2*Math.PI,!1),e.ctx.fillStyle="white",e.ctx.lineWidth=2,e.ctx.strokeStyle=s.borderColor,e.ctx.fill(),e.ctx.stroke())}},interpolateValues:function(e){for(var t=0;t<e.data.datasets.length;t++){var s=e.data.datasets[t],n=e.getDatasetMeta(t),o=e.scales[n.xAxisID],r=o.getValueForPixel(e.crosshair.x);if(!(n.hidden||!s.interpolate)){var i=s.data,c=i.findIndex(function(l){return l.x>=r}),u=i[c-1],h=i[c];if(e.data.datasets[t].steppedLine&&u)s.interpolatedValue=u.y;else if(u&&h){var d=(h.y-u.y)/(h.x-u.x);s.interpolatedValue=u.y+(r-u.x)*d}else s.interpolatedValue=NaN}}}};const K=(e=1)=>`rgba(48, 166, 51, ${e})`,J=(e=1)=>`rgba(241, 77, 66, ${e})`,Je="text-[#30a633]",Qe="text-[#f14d42]",co=["1d","5d","1m","6m","ytd","1y","5y","max"];function lo({histories:e,selectedInterval:t,onSelectHistoryInterval:s}){const n=Object.keys(e?.quotes??{});return a.jsx("div",{className:"inline-flex items-start justify-between rounded-[10px] bg-[#f4f4f4] p-[3px] text-xs font-semibold text-token-text-tertiary dark:bg-[#393939] sm:justify-start sm:gap-1",children:n.map(o=>a.jsx("button",{onClick:()=>{s?.(o)},className:$("border border-transparent px-3 py-1.5 text-xs font-semibold uppercase",t===o?"rounded-lg !border-token-border-light bg-token-main-surface-primary text-token-text-primary shadow-xxs dark:!border-token-border-medium":"hover:text-token-text-secondary"),children:It[o].label},o))})}const It={"1d":{label:"1D",formatTimestampLabel:et,formatTimestampTooltip:et,maxTicksLimit:6,lineTension:.1},"5d":{label:"5D",formatTimestampLabel:tt,formatTimestampTooltip:ho,maxTicksLimit:6,lineTension:.1},"1m":{label:"1M",formatTimestampLabel:tt,formatTimestampTooltip:mo,maxTicksLimit:6,lineTension:.1,useUtc:!0},"6m":{label:"6M",formatTimestampLabel:he,formatTimestampTooltip:U,maxTicksLimit:5,lineTension:.1,useUtc:!0},ytd:{label:"YTD",formatTimestampLabel:he,formatTimestampTooltip:U,maxTicksLimit:5,lineTension:.1,useUtc:!0},"1y":{label:"1Y",formatTimestampLabel:he,formatTimestampTooltip:U,maxTicksLimit:5,lineTension:.2,useUtc:!0},"5y":{label:"5Y",formatTimestampLabel:st,formatTimestampTooltip:U,maxTicksLimit:5,lineTension:.2,useUtc:!0},max:{label:"max",formatTimestampLabel:st,formatTimestampTooltip:U,maxTicksLimit:5,lineTension:.2,useUtc:!0}};function uo(e){return e?co.filter(s=>s in e.quotes).find(s=>e.quotes[s].length>0):void 0}function R(e,t){return z(new Date(e*1e3),t??"America/New_York")}function et(e,t,s){const n=R(t,s);return e.formatTime(n,{hour:"numeric",minute:"numeric"})}function ho(e,t,s){const n=R(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}function U(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",day:"numeric",year:"numeric"})}function he(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",year:"numeric"})}function tt(e,t,s){const n=R(t,s);return e.formatDate(n,{month:"short",day:"numeric"})}function mo(e,t,s){const n=R(t,s);return e.formatDate(n,{weekday:"short",month:"short",day:"numeric"})}function st(e,t,s){const n=R(t,s);return e.formatDate(n,{year:"numeric"})}rn.register(cn,ln,dn,un,hn,mn,fn,pn,gn,io,xn);const fo=100,nt={color:"#b4b4b4",font:{size:10,weight:"600",family:"Menlo"}};function po({isUp:e,histories:t,selectedInterval:s,setHighlightedPrice:n,latestTradingPeriod:o,timezone:r}){return a.jsx(a.Fragment,{children:t&&s&&o?a.jsx(go,{isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:o,timezone:r,setHighlightedPrice:n}):a.jsx(W,{className:"h-full",index:1,width:100})})}function go({isUp:e,histories:t,selectedInterval:s,latestTradingPeriod:n,timezone:o,setHighlightedPrice:r}){const[i,c]=f.useState(null),[u,h]=f.useState(!1),d=s==="1d",l=f.useMemo(()=>{let g=t.quotes[s].filter(y=>y.close>=0);if(d&&n){const y=n.regular.start_timestamp,C=n.regular.end_timestamp;if(g=g.filter(M=>M.timestamp>=y&&M.timestamp<=C),g.length===0||g[g.length-1].timestamp<C){let O=g.length>0?g[g.length-1].timestamp:y-600;for(;O<C;)O+=600,g.push({timestamp:O,close:null})}}return g},[t,s,d,n]),p=It[s],{formatTimestampTooltip:m,maxTicksLimit:x,useUtc:j=!1}=p,b=S(),_=ht(),N=B(),T=f.useMemo(()=>{const{formatTimestampLabel:g,lineTension:y}=p;return{labels:l.map(C=>g(b,C.timestamp,j?"UTC":o)),datasets:[{data:l.map(C=>C.close),borderColor:e?K():J(),pointRadius:0,pointHoverRadius:4,pointStyle:"circle",pointBackgroundColor:e?K():J(),pointHoverBorderWidth:2,pointHoverBorderColor:"rgba(255, 255, 255, 1)",backgroundColor:function(C){const{ctx:M,chartArea:O}=C.chart;if(O)return yo(M,O,e)},fill:!0,borderWidth:2,lineTension:y??.4}]}},[p,l,e,j,o,b]);return a.jsx("div",{className:"flex h-full flex-col gap-6",children:a.jsxs("div",{className:"relative h-full",onMouseEnter:()=>h(!0),onMouseLeave:()=>{h(!1),r(null)},children:[a.jsx(yn,{options:{responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},hover:{mode:u?"index":"point"},animation:!1,scales:{x:{afterBuildTicks:g=>{if(g.ticks.length>x)if(d)g.ticks=g.ticks.filter((y,C)=>l[C].timestamp%(_?3600:7200)===0);else{const y=Math.ceil(g.ticks.length/(x-1));g.ticks=g.ticks.filter((C,M)=>M>0&&(M%y===0||M===g.ticks.length-1))}},grid:{display:!1},ticks:{...nt,align:"end"}},y:{ticks:{...nt,maxTicksLimit:7},border:{display:!1},grid:{color:N?"rgba(255, 255, 255, 0.1)":"rgba(229, 229, 229, 0.5)"}}},plugins:{datalabels:{display:!1},legend:{display:!1},tooltip:{enabled:!1,animation:!1,displayColors:!1,callbacks:{title:function(g){const y=g[0];if(!y)return"";const C=l[y.dataIndex]?.timestamp;return C?m(b,C,j?"UTC":o):""}},external:({tooltip:g})=>{u&&g.opacity>0&&r(Y(g.dataPoints?.[0]?.parsed?.y??0)),c(y=>{const C=g.chart.width,M=g.caretX>C-fo;return!y||y.x!==g.caretX||y.y!==g.caretY||y.opacity!==g.opacity||y.flip!==M?{...y,x:g.caretX,y:g.caretY,dateLabel:g.title?.[0],value:Y(g.dataPoints?.[0]?.parsed?.y??0),opacity:g.opacity,flip:M}:y})}},dropShadow:!1,crosshair:{line:{color:N?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)",width:.5},zoom:{enabled:!1}}}},data:T}),a.jsx(xo,{tooltipData:i})]})})}function xo({tooltipData:e}){return!e||!e.opacity?null:a.jsx("div",{style:{left:e.x-5,top:10,transform:"translate(-50%, -50%)"},className:$("pointer-events-none absolute translate-y-[-100%] whitespace-nowrap rounded-lg bg-black px-2 py-1 font-mono font-semibold text-token-main-surface-primary dark:bg-token-main-surface-secondary dark:text-white"),children:a.jsx("div",{className:"text-xs",children:e.dateLabel})})}function yo(e,t,s){const n=e.createLinearGradient(0,t.top,0,t.bottom);return n.addColorStop(0,s?K(.4):J(.4)),n.addColorStop(1,s?K(0):J(0)),n}function Y(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function V({label:e,value:t}){return a.jsxs("div",{className:"flex w-max flex-1 flex-col gap-1 text-sm",children:[a.jsx("span",{className:"whitespace-nowrap font-normal text-token-text-secondary",children:e}),a.jsx("span",{className:"whitespace-nowrap font-semibold text-token-text-primary",children:t})]})}function bo({data:e}){const t=S();return a.jsxs("div",{className:"flex flex-col gap-1 rounded-xl pt-2",children:[a.jsx("div",{className:"py-2 text-sm font-semibold text-token-text-primary",children:t.formatMessage({id:"6MpNPe",defaultMessage:"Key Metrics"})}),a.jsx("hr",{className:"m-0 border-token-border-xlight"}),a.jsxs("div",{className:"flex w-full flex-row flex-wrap gap-8 py-3",children:[a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(V,{label:t.formatMessage({id:"MDHEj7",defaultMessage:"Open"}),value:t.formatNumber(e.openPrice,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})}),a.jsx(V,{label:t.formatMessage({id:"uBKgbo",defaultMessage:"Day Range"}),value:t.formatMessage({id:"8LyBkV",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.intradayLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.intradayHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})})]}),a.jsxs("div",{className:"min-w-1/2 flex flex-1 gap-8",children:[a.jsx(V,{label:t.formatMessage({id:"/h0itm",defaultMessage:"52 Week Range"}),value:t.formatMessage({id:"VkpWnl",defaultMessage:"{low} - {high}"},{low:t.formatNumber(e.fiftyTwoWeekLow,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),high:t.formatNumber(e.fiftyTwoWeekHigh,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2})})}),a.jsx(V,{label:t.formatMessage({id:"PboNMC",defaultMessage:"Volume"}),value:t.formatNumber(e.intradayVolume,{notation:"compact",maximumFractionDigits:1})})]})]})]})}function vo({data:e,priceChange:t,highlightedPrice:s,extendedPriceChange:n,url:o}){function r(i,c="intraday",u=null){const{isUp:h,changePercentage:d,changeLabel:l,changeAmount:p}=i,m=Math.abs(d).toFixed(2),x=Y(p);return a.jsxs("span",{className:"flex min-w-0 items-center gap-1",children:[c==="extended_hours"&&u!=null&&a.jsx("span",{className:"font-semibold",children:a.jsx(v,{id:"HWwWpW",defaultMessage:"{price}",values:{price:u}})}),a.jsx("span",{className:$("font-semibold",h?Je:Qe),children:a.jsx(v,{id:"3x4Lkl",defaultMessage:"{sign}{changeAmount}",values:{changeAmount:x,sign:h?"+":""}})}),a.jsx("span",{className:$("font-semibold",h?Je:Qe),children:a.jsx(v,{id:"MbfF1T",defaultMessage:"({sign}{changePercentage}%)",values:{changePercentage:m,sign:h?"+":"-"}})}),c==="extended_hours"?a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:l}):a.jsx("span",{className:"min-w-0 truncate text-token-text-primary",children:l})]})}return a.jsxs("div",{children:[a.jsx("div",{className:"mt-2 text-sm",children:e?a.jsx(v,{id:"+2WHuv",defaultMessage:"{name} ({ticker})",values:{name:e.asset.name,ticker:e.asset.ticker}}):a.jsx("div",{className:"w-32 font-medium",children:a.jsx(W,{index:9,width:100})})}),a.jsx("div",{className:"text-sm text-token-text-tertiary",children:e?a.jsx(a.Fragment,{children:o!=null&&a.jsxs(a.Fragment,{children:[" · ",a.jsx(F,{href:o,className:"text-token-link hover:underline",children:je(o,"hostname")})]})}):a.jsx("div",{className:"mt-2 w-36",children:a.jsx(W,{index:6,width:100})})}),a.jsx("div",{className:"mt-2 flex text-4xl font-semibold",children:e?a.jsx(v,{id:"s+1uly",defaultMessage:"{price}",values:{price:s??Y(e.price.price)}}):a.jsx("div",{className:"w-32",children:a.jsx(W,{index:0,width:100})})}),a.jsx("div",{className:"mt-2 flex items-center justify-start gap-1 text-sm",children:t?r(t):a.jsx("div",{className:"mt-2 w-40",children:a.jsx(W,{index:3,width:100})})}),a.jsx("div",{className:"mt-0.5 flex items-center justify-start gap-1 text-sm",children:e?.price?.extended_price!=null&&n!=null&&r(n,"extended_hours",Y(e.price.extended_price))})]})}function wo({contentReference:e,trackContentReferenceEvent:t}){const s=S();f.useEffect(()=>{t(w.searchContentReferenceShown,"search_content_reference_shown","stock")},[t]);const n=uo(e?.stock?.histories),o=e?.stock,[r,i]=f.useState(n),[c,u]=f.useState(null),h=r==="1d",d=o?.histories?.quotes?.[r??""]?.[0],l=r&&r in G?r:void 0,p=o&&(d&&!h?{changePercentage:(o.price.price-d.close)/d.close*100,changeAmount:o.price.price-d.close,changeLabel:l?s.formatMessage(G[l]):"",isUp:o.price.price>d.close}:o.price.change_percent&&o.price.change?{changePercentage:o.price.change_percent*100,changeAmount:o.price.change,changeLabel:jo(o.price.latest_trade_timestamp,o.asset.timezone,s),isUp:o.price.change?o.price.change>0:!1}:null),m=o&&o.price.extended_price!=null&&o.price.extended_change_percent!=null&&o.price.extended_change!=null?{changePercentage:o.price.extended_change_percent*100,changeAmount:o.price.extended_change,changeLabel:s.formatMessage($o(o.price.market_status)??G.extended),isUp:o.price.extended_change>0}:null,{fiftyTwoWeekHigh:x,fiftyTwoWeekLow:j}=f.useMemo(()=>{const N=o?.histories?.quotes["1y"];if(!N)return{fiftyTwoWeekHigh:null,fiftyTwoWeekLow:null};const T=N.map(y=>y.high).filter(y=>y!=null),g=N.map(y=>y.low).filter(y=>y!=null);return{fiftyTwoWeekHigh:T.length>0?Math.max(...T):null,fiftyTwoWeekLow:g.length>0?Math.min(...g):null}},[o?.histories?.quotes]),b=o?.price.open_price&&o.price.intraday_high&&o.price.intraday_low&&o.price.intraday_volume&&x&&j?{openPrice:o.price.open_price,intradayHigh:o.price.intraday_high,intradayLow:o.price.intraday_low,intradayVolume:o.price.intraday_volume,fiftyTwoWeekHigh:x,fiftyTwoWeekLow:j}:null,_=b!=null;return a.jsxs("div",{className:$("flex flex-col gap-8",_?"min-h-[620px]":"h-[480px]"),children:[a.jsxs("div",{className:"flex flex-wrap items-end justify-between",children:[a.jsx(vo,{data:o??null,highlightedPrice:c,priceChange:p??null,extendedPriceChange:m??null,url:e?.url??null}),a.jsx("div",{className:"mt-4",children:a.jsx(lo,{selectedInterval:r,onSelectHistoryInterval:i,histories:o?.histories})})]}),a.jsx("div",{className:_?"h-[340px]":"h-full",children:a.jsx(po,{isUp:p?.isUp??!1,selectedInterval:r,histories:o?.histories,setHighlightedPrice:u,onSelectHistoryInterval:N=>i(N),latestTradingPeriod:o?.asset.latest_trading_period,timezone:o?.asset.timezone??null})}),_&&a.jsx("div",{className:"-mt-4 mb-2",children:a.jsx(bo,{data:b})})]})}function $o(e){if(e==null)return null;const t=e.toLowerCase();return t==="premarket"||t==="open"?ne({id:"By+pvF",defaultMessage:"Pre-Market"}):t==="afterhours"||t==="closed"?ne({id:"aLCg3c",defaultMessage:"After Hours"}):ne({id:"2p526c",defaultMessage:"Extended Hours"})}function jo(e,t,s){function n(o,r){const c=z(new Date,r),u=s.formatDate(c,{year:"numeric",month:"2-digit",day:"2-digit"}),h=be(o*1e3),d=z(h,r),l=s.formatDate(d,{year:"numeric",month:"2-digit",day:"2-digit"});return u===l}if(!e||!t||n(e,t))return s.formatMessage(G["1d"]);{const o=be(e*1e3),r=z(o,t);return s.formatDate(r,{month:"long",day:"numeric"})}}const G=we({"1d":{id:"SMdcuo",defaultMessage:"Today"},extended:{id:"2p526c",defaultMessage:"Extended Hours"},"5d":{id:"HCA6lr",defaultMessage:"Past 5 days"},"1m":{id:"DJpPMq",defaultMessage:"Past month"},"6m":{id:"1mUJ2L",defaultMessage:"Past 6 months"},ytd:{id:"b9KkhV",defaultMessage:"Year to date"},"1y":{id:"XnvD9A",defaultMessage:"Past year"},"5y":{id:"DfI1RB",defaultMessage:"Past 5 years"},max:{id:"WzOhuU",defaultMessage:"Max"}}),No={google_maps:{title:"Google Maps"}};function _o({metadata:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(w.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=No[e.provider]?.title??"Maps";return a.jsx("span",{children:a.jsx(v,{id:"ZSUz1k",defaultMessage:" ({link}) ",values:{link:a.jsx(F,{href:e.url,children:s})}})})}function ko({metadata:e,trackContentReferenceEvent:t}){return f.useEffect(()=>{e.items.length>0&&t(w.searchContentReferenceShown,"search_content_reference_shown","nav_list")},[]),e.items.length===0?null:a.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.title&&a.jsx("div",{className:"-mb-1 font-semibold text-token-text-primary",children:e.title}),e.items.map((s,n)=>a.jsx(Co,{item:s,index:n,trackContentReferenceEvent:t},n))]})}function Co({item:e,index:t,trackContentReferenceEvent:s}){const{isSuccess:n}=jt(e.thumbnail_url??void 0),o={url:e.url,title:e.title,section_index:t,link_type:"text",section:"nav_list",section_location:"response"};f.useEffect(()=>{s(w.linkAction,"link_action","nav_list",{...o,action:"show"})},[]);const i=S().locale,c=e.pub_date!=null?new Date(e.pub_date*1e3):null,u=new Intl.RelativeTimeFormat(i,{numeric:"auto"}),h=c?Math.max(Math.floor((Date.now()-c.getTime())/(1e3*60*60*24)),0):null;let d=h!=null?u.format(-h,"day"):null;return i.startsWith("en")&&d&&(d=d.charAt(0).toUpperCase()+d.slice(1)),a.jsxs(F,{className:"group/nav-list relative flex items-center gap-6 py-1.5",href:e.url,onClick:()=>{s(w.linkAction,"link_action","nav_list",{...o,action:"click"})},children:[a.jsx("div",{className:"absolute bottom-0 left-0 top-0 w-[3px] rounded-b-lg rounded-t-lg bg-black/10"}),a.jsxs("div",{className:"ml-4 flex grow flex-col gap-1 overflow-hidden text-ellipsis",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-token-text-primary",children:[a.jsx(vt,{url:e.url,size:32,minSize:16,className:"icon-sm my-0 rounded-full"}),e.attribution??je(e.url)]}),a.jsx("div",{className:"line-clamp-2 font-semibold text-token-link decoration-token-link group-hover/nav-list:underline",children:e.title}),d&&a.jsx("div",{className:"text-xs text-token-text-tertiary",children:d})]}),n&&e.thumbnail_url&&a.jsx("div",{className:"h-16 w-16 flex-shrink-0 self-start overflow-hidden",children:a.jsx("img",{src:e.thumbnail_url,className:"m-0 h-full w-full rounded-lg object-cover",alt:e.title})})]})}const So=5;function Po({sourcesFootnote:e,onShowSearchResults:t,trackContentReferenceEvent:s}){const n={urls:e.sources.map(o=>o.url).toString(),has_images:e.has_images};return f.useEffect(()=>{s(w.searchContentReferenceShown,"search_content_reference_shown","sources_footnote",n)},[]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute h-[60px]",children:a.jsxs("button",{className:$("not-prose group/footnote mb-2 mt-3 flex w-fit items-center gap-1.5 rounded-xl border border-token-border-light bg-token-main-surface-primary py-2 hover:bg-token-main-surface-secondary","pl-3 pr-2.5"),onClick:()=>{s(w.searchContentReferenceClicked,"search_content_reference_clicked","sources_footnote",n),t(Ns.Sources,e.sources.length>0?Te.Citations:Te.SearchResults)},children:[a.jsx("div",{className:"flex items-center gap-0.5 text-sm font-medium",children:a.jsx(v,{id:"/48IOP",defaultMessage:"Sources"})}),e.sources.length>0&&a.jsx("div",{className:"flex flex-row-reverse",children:e.sources.slice(0,So).reverse().map((o,r)=>a.jsx("div",{className:$("flex items-center overflow-hidden rounded-full border-token-main-surface-primary bg-token-main-surface-primary","-mr-1.5 first:mr-0","border-2","group-hover/footnote:border-token-main-surface-secondary","relative"),children:a.jsx(vt,{url:o.url,size:32,minSize:16,className:"icon-md"})},r))})]})}),a.jsx("div",{className:"h-[60px]"})]})}function E(e,t){const s=_s(e),n=t<0?"-":"+",o=Math.abs(t),r=Math.floor(o/3600).toString().padStart(2,"0"),i=Math.floor(o%3600/60).toString().padStart(2,"0"),c=`${n}${r}:${i}`;return z(s,c)}function ve(e,t){if(Me(t))return a.jsx(v,{id:"wxni9H",defaultMessage:"Today"});const s=new Date;return s.setTime(s.getTime()+7*24*60*60*1e3),t<s&&t>new Date||Me(t)?e.formatDate(t,{weekday:"long"}):e.formatDate(t,{weekday:"short",month:"short",day:"numeric"})}const Do="webp",To=250,Mo=187,Ao="srgb",Eo=4,Io="uchar",Fo=72,Lo=!1,Ro=!1,Oo=!0,Ho="{{.assetPrefix}}/assets/missing-logo-h96s4tk9.webp",at={format:Do,width:To,height:Mo,space:Ao,channels:Eo,depth:Io,density:Fo,isProgressive:Lo,hasProfile:Ro,hasAlpha:Oo,src:Ho};function Ft({team:e,className:t}){const[s,n]=f.useState(e.logo??at.src),o=()=>{mt.addError("Unable to load sports widget logo",{name:e.name,logo:e.logo}),n(at.src)};return a.jsx("img",{src:s,alt:e.name,className:t,onError:o})}const ot=6;function zo({scheduleRef:e,trackContentReferenceEvent:t}){const[s,n]=f.useState(!0),o=S(),r=e.games.length>0;if(f.useEffect(()=>{r&&t(w.searchContentReferenceShown,"search_content_reference_shown","sports",{hasSchedule:!0})},[r]),!r)return null;const c=(o.formatDateToParts(new Date,{timeZoneName:"long"}).find(l=>l.type==="timeZoneName")?.value??Intl.DateTimeFormat().resolvedOptions().timeZone).replace(/Daylight|Standard/g,"");let u=e.games;const h=l=>Math.abs(new Date().getTime()-new Date(l.date).getTime());h(u[0])>h(u[u.length-1])&&(u=u.slice().reverse());const d=s?u.slice(0,ot):u;return a.jsxs("div",{className:"not-prose mb-3",children:[a.jsx("div",{className:"font-semibold",children:a.jsx(v,{id:"LA6z9q",defaultMessage:"{league} Schedule",values:{league:e.league.display_name}})}),a.jsx("div",{className:"text-sm text-token-text-secondary",children:c}),d.length===1?a.jsx("div",{children:a.jsx(Pe,{children:a.jsx(De.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:"mt-3 rounded-xl border border-token-border-medium py-3",children:a.jsx(Wo,{game:d[0]})})})})}):a.jsx("div",{className:"grid grid-cols-1 pt-3 lg:grid-cols-2",children:a.jsx(Pe,{children:d.map((l,p)=>a.jsx(De.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0,transition:{delay:p*.04}},exit:{opacity:0,y:-15},transition:{duration:.2},children:a.jsx("div",{className:$("border-b border-token-border-medium py-3",p%2===0&&"lg:border-r lg:pr-4",p%2===1&&"lg:pl-4",Math.floor(p/2)===Math.ceil(u.length/2)-1&&"lg:border-b-0",p===u.length-1&&"border-b-0"),children:a.jsx(Uo,{game:l})})},p))})}),u.length>ot&&a.jsx("div",{className:"mt-2 flex items-center justify-between",children:a.jsx("button",{className:"flex items-center text-sm font-semibold",onClick:()=>n(!s),children:s?a.jsx(v,{id:"BH/Ee5",defaultMessage:"Show more {icon}",values:{icon:a.jsx(ks,{className:"mb-[-2px]"})}}):a.jsx(v,{id:"Z9BlEu",defaultMessage:"Show less {icon}",values:{icon:a.jsx(Cs,{className:"mb-[-2px]"})}})})})]})}function Uo({game:e}){const t=Rt(e),s=[e.first_team_info,e.second_team_info],n=s.find(c=>c.location==="home")??e.first_team_info,o=s.find(c=>c.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,i=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full gap-1.5 py-3 text-base",children:[a.jsxs("div",{className:"flex flex-auto flex-col items-start gap-1 pr-3",children:[a.jsx(Q,{team:o.team,isWinner:i,logoSize:"small"}),a.jsx(Q,{team:n.team,isWinner:r,logoSize:"small"})]}),a.jsxs("div",{className:"flex flex-none flex-col items-start gap-1",children:[a.jsx(ee,{score:o.score,isWinner:i}),a.jsx(ee,{score:n.score,isWinner:r})]}),a.jsx("div",{className:"flex min-w-24 flex-none flex-col items-end justify-center gap-1 text-sm",children:a.jsx(Ot,{game:e})})]})}function Wo({game:e}){const t=Rt(e),s=[e.first_team_info,e.second_team_info],n=s.find(c=>c.location==="home")??e.first_team_info,o=s.find(c=>c.location==="away")??e.second_team_info,r=t?.team.name===n?.team.name,i=t?.team.name===o?.team.name;return a.jsxs("div",{className:"flex w-full py-3 text-base",children:[a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(Q,{team:o.team,isWinner:i})}),a.jsx("div",{className:"ml-8 flex items-center justify-start",children:a.jsx(ee,{score:o.score,isWinner:i,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex w-24 shrink flex-col items-center justify-center gap-1 align-middle text-sm",children:a.jsx(Ot,{game:e})}),a.jsx("div",{className:"mr-8 flex items-center justify-end",children:a.jsx(ee,{score:n.score,isWinner:r,className:"text-lg font-semibold"})}),a.jsx("div",{className:"flex flex-1 items-center justify-center px-2",children:a.jsx(Q,{team:n.team,isWinner:r})})]})}function Lt(e){return e.live?"live":new Date(e.date)<new Date?"complete":"scheduled"}function Rt(e){return Lt(e)!=="complete"||e.first_team_info.score==null||e.second_team_info.score==null?null:e.first_team_info.score>e.second_team_info.score?e.first_team_info:e.second_team_info}function Q({team:e,isWinner:t,logoSize:s}){return a.jsxs("span",{className:$("flex items-center gap-1",t&&"font-semibold","max-w-64 lg:max-w-52 xl:max-w-64"),children:[e.logo&&a.jsx(Ft,{team:{name:e.name,logo:e.logo},className:$(s==="small"?"w-6":"w-8")}),a.jsx("span",{className:"truncate",children:e.name})]})}function ee({score:e,isWinner:t,className:s}){return e==null?null:a.jsx("span",{className:$(t&&"font-semibold",s),children:e})}function Ot({game:e}){const t=S();switch(Lt(e)){case"live":return a.jsxs(a.Fragment,{children:[a.jsx(Yo,{}),a.jsx("div",{children:e.details})]});case"complete":return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"font-semibold",children:a.jsx(v,{id:"q/iMZL",defaultMessage:"Final"})}),a.jsx("div",{className:"text-token-text-secondary",children:ve(t,new Date(e.date))})]});case"scheduled":{const s=new Date(e.date);return isNaN(s.getTime())?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{children:ve(t,s)}),a.jsx("div",{className:"text-token-text-secondary",children:t.formatDate(s,{timeStyle:"short"})})]})}}}function Yo(){return a.jsx("div",{className:"rounded-[4px] bg-token-surface-error px-1.5 py-1 text-xs font-semibold text-white",children:a.jsx(v,{id:"vObALn",defaultMessage:"Live"})})}function Bo({standingsRef:e,trackContentReferenceEvent:t}){const[s,n]=f.useState(0),o=e.conferences.length>0;f.useEffect(()=>{o&&t(w.searchContentReferenceShown,"search_content_reference_shown","sports",{hasStandings:!0})},[o]);const r=e.conferences[s],i=e.conferences.length>1?e.conferences.map((c,u)=>a.jsx("button",{className:$(s===u?"text-token-text-primary":"text-token-text-tertiary","text-sm font-semibold"),onClick:()=>n(u),children:c.name},c.name)):null;return a.jsxs(a.Fragment,{children:[i&&a.jsx("div",{className:"flex gap-4",children:i}),a.jsx("div",{className:"mt-3",children:r.divisions.map(c=>c.name?a.jsx("div",{className:"mt-3",children:a.jsx(rt,{division:c,teamsColumnHeader:c.name})},c.name):a.jsx(rt,{division:c}))})]})}function rt({division:e,teamsColumnHeader:t}){const s=e.headers.map(n=>n.key);return a.jsxs(D.Root,{size:"compact",className:"not-prose",children:[a.jsxs(D.Header,{children:[a.jsx(Zo,{children:t??a.jsx(v,{id:"kKSGje",defaultMessage:"Team"})}),e.headers.map(n=>a.jsx(Ht,{textAlign:"center",className:"min-w-11 !px-0",children:a.jsx(it,{data:n})},n.key))]}),a.jsx(D.Body,{children:e.teams.map(({team:n,data:o},r)=>{const i=o.reduce((c,u)=>(c[u.key]=u,c),{});return a.jsxs(D.Row,{children:[a.jsx(D.Cell,{className:"w-full !border-0 !py-0 !pl-0",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 w-4 whitespace-nowrap tabular-nums text-token-text-tertiary",children:r+1}),a.jsxs("div",{className:"flex items-center justify-start gap-2",children:[a.jsx(Ft,{team:n,className:"w-6"}),a.jsx("span",{className:"whitespace-nowrap text-base",children:n.name})]})]})}),s.map(c=>a.jsx(D.Cell,{className:"min-w-11 whitespace-nowrap !border-0 !px-0 !py-0 text-left tabular-nums",textAlign:"center",children:a.jsx(it,{data:i[c]})},c))]},n.name)})})]})}function it({data:e}){switch(e.type){case"text":return a.jsx(a.Fragment,{children:e.text});default:return a.jsx(a.Fragment,{children:e.alt})}}const Ht=ft(D.HeaderCell)`text-token-text-secondary !font-normal text-sm !static !bg-transparent !border-token-border-light !border-t-0 !border-l-0 !border-r-0`,Zo=ft(Ht)`text-token-text-primary !pl-0`;function qo({metadata:e,trackContentReferenceEvent:t}){f.useEffect(()=>{t(w.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]);const s=S(),n=z(e.utc_time,e.utc_offset),o=s.formatDate(n,{hour:"numeric",minute:"numeric"});return a.jsx("span",{children:o})}function Vo({metadata:e,trackContentReferenceEvent:t}){return f.useEffect(()=>{t(w.searchContentReferenceShown,"search_content_reference_shown",e.type)},[t,e.type]),a.jsx("div",{children:e.url?a.jsx(As,{webpageItem:{url:e.url,title:e.description,pub_date:null,snippet:"",attributions:null},className:"inline-flex flex-col",children:a.jsx(F,{href:e.url,className:"!font-semibold",children:e.description})}):a.jsx("div",{className:"!font-semibold",children:e.description})})}function Go({url:e,className:t}){let s;const n="aspect-video w-full rounded-lg",o=Xo(e);o&&(s=a.jsx(Ko,{videoId:o,className:n}));const r=Jo(e);return r&&(s=a.jsx(Qo,{videoId:r,className:n})),s?a.jsx("div",{className:t,children:s}):null}function Xo(e){const t=/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,s=e.match(t);return s?s[1]:null}function Ko({videoId:e,className:t}){return a.jsx("iframe",{className:t,src:`https://www.youtube.com/embed/${e}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})}function Jo(e){const t=/vimeo\.com\/(?:channels\/(?:\w+\/)?|groups\/[^/]+\/videos\/|video\/|)(\d+)/,s=e.match(t);return s?s[1]:null}function Qo({videoId:e,className:t}){return a.jsx(a.Fragment,{children:a.jsx("iframe",{className:t,src:`https://player.vimeo.com/video/${e}`,frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})})}function er({video:e,trackContentReferenceEvent:t}){const s={url:e.url,title:e.title};return f.useEffect(()=>{t(w.searchContentReferenceShown,"search_content_reference_shown",e.type,s)},[]),e.url==null||e.url===""?null:a.jsx("div",{className:"not-prose mb-3 flex flex-col gap-4 text-base",children:a.jsx(Go,{url:e.url})})}const tr=e=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.34354 4.92894C6.7341 5.31946 6.7341 5.95263 6.34354 6.34315C3.21906 9.46735 3.21906 14.5327 6.34354 17.6569C6.7341 18.0474 6.7341 18.6806 6.34354 19.0711C5.95298 19.4616 5.31976 19.4616 4.9292 19.0711C1.0236 15.1658 1.0236 8.83418 4.9292 4.92894C5.31976 4.53842 5.95298 4.53842 6.34354 4.92894ZM17.6583 4.92894C18.0488 4.53842 18.682 4.53842 19.0726 4.92894C22.9782 8.83418 22.9782 15.1658 19.0726 19.0711C18.682 19.4616 18.0488 19.4616 17.6583 19.0711C17.2677 18.6806 17.2677 18.0474 17.6583 17.6569C20.7827 14.5327 20.7827 9.46735 17.6583 6.34315C17.2677 5.95263 17.2677 5.31946 17.6583 4.92894Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17222 7.75737C9.56278 8.14789 9.56278 8.78106 9.17222 9.17158C7.60998 10.7337 7.60998 13.2663 9.17222 14.8284C9.56278 15.219 9.56278 15.8521 9.17222 16.2426C8.78166 16.6332 8.14844 16.6332 7.75788 16.2426C5.41452 13.8995 5.41452 10.1005 7.75788 7.75737C8.14844 7.36684 8.78166 7.36684 9.17222 7.75737ZM14.8296 7.75737C15.2201 7.36684 15.8534 7.36684 16.2439 7.75737C18.5873 10.1005 18.5873 13.8995 16.2439 16.2426C15.8534 16.6332 15.2201 16.6332 14.8296 16.2426C14.439 15.8521 14.439 15.219 14.8296 14.8284C16.3918 13.2663 16.3918 10.7337 14.8296 9.17158C14.439 8.78106 14.439 8.14789 14.8296 7.75737Z",fill:"currentColor"}),f.createElement("path",{d:"M14.0011 12C14.0011 13.1046 13.1056 14 12.0009 14C10.8962 14 10.0007 13.1046 10.0007 12C10.0007 10.8954 10.8962 10 12.0009 10C13.1056 10 14.0011 10.8954 14.0011 12Z",fill:"currentColor"})),sr="webp",nr=96,ar=96,or="srgb",rr=4,ir="uchar",cr=288,lr=!1,dr=!1,ur=!0,hr="{{.assetPrefix}}/assets/cloud-foggy-o4a3hmky.webp",mr={format:sr,width:nr,height:ar,space:or,channels:rr,depth:ir,density:cr,isProgressive:lr,hasProfile:dr,hasAlpha:ur,src:hr},fr="webp",pr=96,gr=96,xr="srgb",yr=4,br="uchar",vr=288,wr=!1,$r=!1,jr=!0,Nr="{{.assetPrefix}}/assets/cloudy-co8vwrk7.webp",_r={format:fr,width:pr,height:gr,space:xr,channels:yr,depth:br,density:vr,isProgressive:wr,hasProfile:$r,hasAlpha:jr,src:Nr},kr="webp",Cr=96,Sr=96,Pr="srgb",Dr=4,Tr="uchar",Mr=288,Ar=!1,Er=!1,Ir=!0,Fr="{{.assetPrefix}}/assets/heavy-snow-mke52kag.webp",Lr={format:kr,width:Cr,height:Sr,space:Pr,channels:Dr,depth:Tr,density:Mr,isProgressive:Ar,hasProfile:Er,hasAlpha:Ir,src:Fr},Rr="webp",Or=96,Hr=96,zr="srgb",Ur=4,Wr="uchar",Yr=288,Br=!1,Zr=!1,qr=!0,Vr="{{.assetPrefix}}/assets/light-snow-mcy1l7t9.webp",Gr={format:Rr,width:Or,height:Hr,space:zr,channels:Ur,depth:Wr,density:Yr,isProgressive:Br,hasProfile:Zr,hasAlpha:qr,src:Vr},Xr="webp",Kr=96,Jr=96,Qr="srgb",ei=4,ti="uchar",si=288,ni=!1,ai=!1,oi=!0,ri="{{.assetPrefix}}/assets/moon-drizzle-cplxr2ub.webp",ii={format:Xr,width:Kr,height:Jr,space:Qr,channels:ei,depth:ti,density:si,isProgressive:ni,hasProfile:ai,hasAlpha:oi,src:ri},ci="webp",li=96,di=96,ui="srgb",hi=4,mi="uchar",fi=288,pi=!1,gi=!1,xi=!0,yi="{{.assetPrefix}}/assets/moon-hazy-jvgt25bp.webp",bi={format:ci,width:li,height:di,space:ui,channels:hi,depth:mi,density:fi,isProgressive:pi,hasProfile:gi,hasAlpha:xi,src:yi},vi="webp",wi=96,$i=96,ji="srgb",Ni=4,_i="uchar",ki=288,Ci=!1,Si=!1,Pi=!0,Di="{{.assetPrefix}}/assets/moon-mostly-cloudy-cia3do0v.webp",Ti={format:vi,width:wi,height:$i,space:ji,channels:Ni,depth:_i,density:ki,isProgressive:Ci,hasProfile:Si,hasAlpha:Pi,src:Di},Mi="webp",Ai=96,Ei=96,Ii="srgb",Fi=4,Li="uchar",Ri=288,Oi=!1,Hi=!1,zi=!0,Ui="{{.assetPrefix}}/assets/moon-mostly-sunny-n3mh1b6a.webp",Wi={format:Mi,width:Ai,height:Ei,space:Ii,channels:Fi,depth:Li,density:Ri,isProgressive:Oi,hasProfile:Hi,hasAlpha:zi,src:Ui},Yi="webp",Bi=96,Zi=96,qi="srgb",Vi=4,Gi="uchar",Xi=288,Ki=!1,Ji=!1,Qi=!0,ec="{{.assetPrefix}}/assets/moon-shower-ntzhti9o.webp",tc={format:Yi,width:Bi,height:Zi,space:qi,channels:Vi,depth:Gi,density:Xi,isProgressive:Ki,hasProfile:Ji,hasAlpha:Qi,src:ec},sc="webp",nc=96,ac=96,oc="srgb",rc=4,ic="uchar",cc=288,lc=!1,dc=!1,uc=!0,hc="{{.assetPrefix}}/assets/moon-sunny-eg2emh4d.webp",mc={format:sc,width:nc,height:ac,space:oc,channels:rc,depth:ic,density:cc,isProgressive:lc,hasProfile:dc,hasAlpha:uc,src:hc},fc="webp",pc=96,gc=96,xc="srgb",yc=4,bc="uchar",vc=288,wc=!1,$c=!1,jc=!0,Nc="{{.assetPrefix}}/assets/rain-thunder-bx7a0l5g.webp",_c={format:fc,width:pc,height:gc,space:xc,channels:yc,depth:bc,density:vc,isProgressive:wc,hasProfile:$c,hasAlpha:jc,src:Nc},kc="webp",Cc=96,Sc=96,Pc="srgb",Dc=4,Tc="uchar",Mc=288,Ac=!1,Ec=!1,Ic=!0,Fc="{{.assetPrefix}}/assets/rain-cxs76xuj.webp",Lc={format:kc,width:Cc,height:Sc,space:Pc,channels:Dc,depth:Tc,density:Mc,isProgressive:Ac,hasProfile:Ec,hasAlpha:Ic,src:Fc},Rc="webp",Oc=96,Hc=96,zc="srgb",Uc=4,Wc="uchar",Yc=288,Bc=!1,Zc=!1,qc=!0,Vc="{{.assetPrefix}}/assets/sleet-gc63vwmo.webp",Gc={format:Rc,width:Oc,height:Hc,space:zc,channels:Uc,depth:Wc,density:Yc,isProgressive:Bc,hasProfile:Zc,hasAlpha:qc,src:Vc},Xc="webp",Kc=96,Jc=96,Qc="srgb",el=4,tl="uchar",sl=288,nl=!1,al=!1,ol=!0,rl="{{.assetPrefix}}/assets/snow-d0k6tmmc.webp",il={format:Xc,width:Kc,height:Jc,space:Qc,channels:el,depth:tl,density:sl,isProgressive:nl,hasProfile:al,hasAlpha:ol,src:rl},cl="webp",ll=96,dl=96,ul="srgb",hl=4,ml="uchar",fl=288,pl=!1,gl=!1,xl=!0,yl="{{.assetPrefix}}/assets/sun-drizzle-g94obr5e.webp",bl={format:cl,width:ll,height:dl,space:ul,channels:hl,depth:ml,density:fl,isProgressive:pl,hasProfile:gl,hasAlpha:xl,src:yl},vl="webp",wl=96,$l=96,jl="srgb",Nl=4,_l="uchar",kl=288,Cl=!1,Sl=!1,Pl=!0,Dl="{{.assetPrefix}}/assets/sun-hazy-c3z1j0hy.webp",Tl={format:vl,width:wl,height:$l,space:jl,channels:Nl,depth:_l,density:kl,isProgressive:Cl,hasProfile:Sl,hasAlpha:Pl,src:Dl},Ml="webp",Al=96,El=96,Il="srgb",Fl=4,Ll="uchar",Rl=288,Ol=!1,Hl=!1,zl=!0,Ul="{{.assetPrefix}}/assets/sun-mostly-cloudy-d4o4zkga.webp",Wl={format:Ml,width:Al,height:El,space:Il,channels:Fl,depth:Ll,density:Rl,isProgressive:Ol,hasProfile:Hl,hasAlpha:zl,src:Ul},Yl="webp",Bl=96,Zl=96,ql="srgb",Vl=4,Gl="uchar",Xl=288,Kl=!1,Jl=!1,Ql=!0,ed="{{.assetPrefix}}/assets/sun-mostly-sunny-livrdkgu.webp",td={format:Yl,width:Bl,height:Zl,space:ql,channels:Vl,depth:Gl,density:Xl,isProgressive:Kl,hasProfile:Jl,hasAlpha:Ql,src:ed},sd="webp",nd=96,ad=96,od="srgb",rd=4,id="uchar",cd=288,ld=!1,dd=!1,ud=!0,hd="{{.assetPrefix}}/assets/sun-shower-lvtjthah.webp",md={format:sd,width:nd,height:ad,space:od,channels:rd,depth:id,density:cd,isProgressive:ld,hasProfile:dd,hasAlpha:ud,src:hd},fd="webp",pd=96,gd=96,xd="srgb",yd=4,bd="uchar",vd=288,wd=!1,$d=!1,jd=!0,Nd="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",_d={format:fd,width:pd,height:gd,space:xd,channels:yd,depth:bd,density:vd,isProgressive:wd,hasProfile:$d,hasAlpha:jd,src:Nd},kd="webp",Cd=96,Sd=96,Pd="srgb",Dd=4,Td="uchar",Md=288,Ad=!1,Ed=!1,Id=!0,Fd="{{.assetPrefix}}/assets/thunder-jgjqg9ai.webp",Ld={format:kd,width:Cd,height:Sd,space:Pd,channels:Dd,depth:Td,density:Md,isProgressive:Ad,hasProfile:Ed,hasAlpha:Id,src:Fd},Rd="webp",Od=96,Hd=96,zd="srgb",Ud=4,Wd="uchar",Yd=288,Bd=!1,Zd=!1,qd=!0,Vd="{{.assetPrefix}}/assets/tornado-opa24tq3.webp",Gd={format:Rd,width:Od,height:Hd,space:zd,channels:Ud,depth:Wd,density:Yd,isProgressive:Bd,hasProfile:Zd,hasAlpha:qd,src:Vd},Xd="webp",Kd=96,Jd=96,Qd="srgb",eu=4,tu="uchar",su=288,nu=!1,au=!1,ou=!0,ru="{{.assetPrefix}}/assets/windy-mw0a3u21.webp",iu={format:Xd,width:Kd,height:Jd,space:Qd,channels:eu,depth:tu,density:su,isProgressive:nu,hasProfile:au,hasAlpha:ou,src:ru},cu="webp",lu=96,du=96,uu="srgb",hu=4,mu="uchar",fu=288,pu=!1,gu=!1,xu=!0,yu="{{.assetPrefix}}/assets/cloud-foggy-fhg0jn0w.webp",bu={format:cu,width:lu,height:du,space:uu,channels:hu,depth:mu,density:fu,isProgressive:pu,hasProfile:gu,hasAlpha:xu,src:yu},vu="webp",wu=96,$u=96,ju="srgb",Nu=4,_u="uchar",ku=288,Cu=!1,Su=!1,Pu=!0,Du="{{.assetPrefix}}/assets/cloudy-disd26f3.webp",Tu={format:vu,width:wu,height:$u,space:ju,channels:Nu,depth:_u,density:ku,isProgressive:Cu,hasProfile:Su,hasAlpha:Pu,src:Du},Mu="webp",Au=96,Eu=96,Iu="srgb",Fu=4,Lu="uchar",Ru=288,Ou=!1,Hu=!1,zu=!0,Uu="{{.assetPrefix}}/assets/heavy-snow-g6jjwo2d.webp",Wu={format:Mu,width:Au,height:Eu,space:Iu,channels:Fu,depth:Lu,density:Ru,isProgressive:Ou,hasProfile:Hu,hasAlpha:zu,src:Uu},Yu="webp",Bu=96,Zu=96,qu="srgb",Vu=4,Gu="uchar",Xu=288,Ku=!1,Ju=!1,Qu=!0,eh="{{.assetPrefix}}/assets/light-snow-iz0efpkh.webp",th={format:Yu,width:Bu,height:Zu,space:qu,channels:Vu,depth:Gu,density:Xu,isProgressive:Ku,hasProfile:Ju,hasAlpha:Qu,src:eh},sh="webp",nh=96,ah=96,oh="srgb",rh=4,ih="uchar",ch=288,lh=!1,dh=!1,uh=!0,hh="{{.assetPrefix}}/assets/moon-drizzle-b1nfv39c.webp",mh={format:sh,width:nh,height:ah,space:oh,channels:rh,depth:ih,density:ch,isProgressive:lh,hasProfile:dh,hasAlpha:uh,src:hh},fh="webp",ph=96,gh=96,xh="srgb",yh=4,bh="uchar",vh=288,wh=!1,$h=!1,jh=!0,Nh="{{.assetPrefix}}/assets/moon-hazy-nfnzea7a.webp",_h={format:fh,width:ph,height:gh,space:xh,channels:yh,depth:bh,density:vh,isProgressive:wh,hasProfile:$h,hasAlpha:jh,src:Nh},kh="webp",Ch=96,Sh=96,Ph="srgb",Dh=4,Th="uchar",Mh=288,Ah=!1,Eh=!1,Ih=!0,Fh="{{.assetPrefix}}/assets/moon-mostly-cloudy-e56e3z55.webp",Lh={format:kh,width:Ch,height:Sh,space:Ph,channels:Dh,depth:Th,density:Mh,isProgressive:Ah,hasProfile:Eh,hasAlpha:Ih,src:Fh},Rh="webp",Oh=96,Hh=96,zh="srgb",Uh=4,Wh="uchar",Yh=288,Bh=!1,Zh=!1,qh=!0,Vh="{{.assetPrefix}}/assets/moon-mostly-sunny-ffu4gzf4.webp",Gh={format:Rh,width:Oh,height:Hh,space:zh,channels:Uh,depth:Wh,density:Yh,isProgressive:Bh,hasProfile:Zh,hasAlpha:qh,src:Vh},Xh="webp",Kh=96,Jh=96,Qh="srgb",em=4,tm="uchar",sm=288,nm=!1,am=!1,om=!0,rm="{{.assetPrefix}}/assets/moon-shower-e5dy9u48.webp",im={format:Xh,width:Kh,height:Jh,space:Qh,channels:em,depth:tm,density:sm,isProgressive:nm,hasProfile:am,hasAlpha:om,src:rm},cm="webp",lm=96,dm=96,um="srgb",hm=4,mm="uchar",fm=288,pm=!1,gm=!1,xm=!0,ym="{{.assetPrefix}}/assets/moon-sunny-d9o08xiw.webp",bm={format:cm,width:lm,height:dm,space:um,channels:hm,depth:mm,density:fm,isProgressive:pm,hasProfile:gm,hasAlpha:xm,src:ym},vm="webp",wm=96,$m=96,jm="srgb",Nm=4,_m="uchar",km=288,Cm=!1,Sm=!1,Pm=!0,Dm="{{.assetPrefix}}/assets/rain-thunder-eplemvu1.webp",Tm={format:vm,width:wm,height:$m,space:jm,channels:Nm,depth:_m,density:km,isProgressive:Cm,hasProfile:Sm,hasAlpha:Pm,src:Dm},Mm="webp",Am=96,Em=96,Im="srgb",Fm=4,Lm="uchar",Rm=288,Om=!1,Hm=!1,zm=!0,Um="{{.assetPrefix}}/assets/rain-ogayr6kt.webp",Wm={format:Mm,width:Am,height:Em,space:Im,channels:Fm,depth:Lm,density:Rm,isProgressive:Om,hasProfile:Hm,hasAlpha:zm,src:Um},Ym="webp",Bm=96,Zm=96,qm="srgb",Vm=4,Gm="uchar",Xm=288,Km=!1,Jm=!1,Qm=!0,ef="{{.assetPrefix}}/assets/sleet-o8noil7l.webp",tf={format:Ym,width:Bm,height:Zm,space:qm,channels:Vm,depth:Gm,density:Xm,isProgressive:Km,hasProfile:Jm,hasAlpha:Qm,src:ef},sf="webp",nf=96,af=96,of="srgb",rf=4,cf="uchar",lf=288,df=!1,uf=!1,hf=!0,mf="{{.assetPrefix}}/assets/snow-lq4cl3uc.webp",ff={format:sf,width:nf,height:af,space:of,channels:rf,depth:cf,density:lf,isProgressive:df,hasProfile:uf,hasAlpha:hf,src:mf},pf="webp",gf=96,xf=96,yf="srgb",bf=4,vf="uchar",wf=288,$f=!1,jf=!1,Nf=!0,_f="{{.assetPrefix}}/assets/sun-drizzle-htsohv65.webp",kf={format:pf,width:gf,height:xf,space:yf,channels:bf,depth:vf,density:wf,isProgressive:$f,hasProfile:jf,hasAlpha:Nf,src:_f},Cf="webp",Sf=96,Pf=96,Df="srgb",Tf=4,Mf="uchar",Af=288,Ef=!1,If=!1,Ff=!0,Lf="{{.assetPrefix}}/assets/sun-hazy-nfj7clcd.webp",Rf={format:Cf,width:Sf,height:Pf,space:Df,channels:Tf,depth:Mf,density:Af,isProgressive:Ef,hasProfile:If,hasAlpha:Ff,src:Lf},Of="webp",Hf=96,zf=96,Uf="srgb",Wf=4,Yf="uchar",Bf=288,Zf=!1,qf=!1,Vf=!0,Gf="{{.assetPrefix}}/assets/sun-mostly-cloudy-e3pqqgs7.webp",Xf={format:Of,width:Hf,height:zf,space:Uf,channels:Wf,depth:Yf,density:Bf,isProgressive:Zf,hasProfile:qf,hasAlpha:Vf,src:Gf},Kf="webp",Jf=96,Qf=96,ep="srgb",tp=4,sp="uchar",np=288,ap=!1,op=!1,rp=!0,ip="{{.assetPrefix}}/assets/sun-mostly-sunny-o99k1c7a.webp",cp={format:Kf,width:Jf,height:Qf,space:ep,channels:tp,depth:sp,density:np,isProgressive:ap,hasProfile:op,hasAlpha:rp,src:ip},lp="webp",dp=96,up=96,hp="srgb",mp=4,fp="uchar",pp=288,gp=!1,xp=!1,yp=!0,bp="{{.assetPrefix}}/assets/sun-shower-ldwl4jbp.webp",vp={format:lp,width:dp,height:up,space:hp,channels:mp,depth:fp,density:pp,isProgressive:gp,hasProfile:xp,hasAlpha:yp,src:bp},wp="webp",$p=96,jp=96,Np="srgb",_p=4,kp="uchar",Cp=!1,Sp=!1,Pp=!0,Dp="{{.assetPrefix}}/assets/sun-sunny-kqjpjzd8.webp",Tp={format:wp,width:$p,height:jp,space:Np,channels:_p,depth:kp,isProgressive:Cp,hasProfile:Sp,hasAlpha:Pp,src:Dp},Mp="webp",Ap=96,Ep=96,Ip="srgb",Fp=4,Lp="uchar",Rp=288,Op=!1,Hp=!1,zp=!0,Up="{{.assetPrefix}}/assets/thunder-xzn1cku3.webp",Wp={format:Mp,width:Ap,height:Ep,space:Ip,channels:Fp,depth:Lp,density:Rp,isProgressive:Op,hasProfile:Hp,hasAlpha:zp,src:Up},Yp="webp",Bp=96,Zp=96,qp="srgb",Vp=4,Gp="uchar",Xp=288,Kp=!1,Jp=!1,Qp=!0,eg="{{.assetPrefix}}/assets/tornado-diqu61wg.webp",tg={format:Yp,width:Bp,height:Zp,space:qp,channels:Vp,depth:Gp,density:Xp,isProgressive:Kp,hasProfile:Jp,hasAlpha:Qp,src:eg},sg="webp",ng=96,ag=96,og="srgb",rg=4,ig="uchar",cg=288,lg=!1,dg=!1,ug=!0,hg="{{.assetPrefix}}/assets/windy-n2v8wtyp.webp",mg={format:sg,width:ng,height:ag,space:og,channels:rg,depth:ig,density:cg,isProgressive:lg,hasProfile:dg,hasAlpha:ug,src:hg},fg={foggy:{default:mr},cloudy:{default:_r},"heavy-snow":{default:Lr},"light-snow":{default:Gr},sleet:{default:Gc},drizzle:{default:bl,night:ii},hazy:{default:Tl,night:bi},"mostly-cloudy":{default:Wl,night:Ti},"mostly-sunny":{default:td,night:Wi},shower:{default:md,night:tc},sunny:{default:_d,night:mc},"rain-thunder":{default:_c},rain:{default:Lc},snow:{default:il},thunder:{default:Ld},tornado:{default:Gd},windy:{default:iu}},pg={foggy:{default:bu},cloudy:{default:Tu},"heavy-snow":{default:Wu},"light-snow":{default:th},sleet:{default:tf},drizzle:{default:kf,night:mh},hazy:{default:Rf,night:_h},"mostly-cloudy":{default:Xf,night:Lh},"mostly-sunny":{default:cp,night:Gh},shower:{default:vp,night:im},sunny:{default:Tp,night:bm},"rain-thunder":{default:Tm},rain:{default:Wm},snow:{default:ff},thunder:{default:Wp},tornado:{default:tg},windy:{default:mg}};function gg({weatherCode:e,isDarkMode:t,isNight:s}){const n=t?pg:fg,o=xg(e),r=n[o];return r.night&&s?r.night:r.default}function xg(e){switch(e){case 1:case 33:return"sunny";case 2:case 3:case 34:case 35:case 36:return"mostly-sunny";case 4:case 6:case 13:case 14:case 38:return"mostly-cloudy";case 5:case 37:return"hazy";case 7:case 8:return"cloudy";case 11:return"foggy";case 12:case 39:case 40:return"shower";case 15:case 16:case 17:case 41:case 42:return"thunder";case 18:return"rain";case 19:case 20:case 21:case 43:return"light-snow";case 22:case 23:case 44:return"snow";case 24:case 25:case 26:case 29:return"sleet";case 32:return"windy";default:return"cloudy"}}const yg="C";function bg(e,t){return Math.round(e==="F"?t*9/5+32:(t-32)*5/9)}function ct(e,t,s=yg){return e===s?`${Math.round(t)}°`:`${bg(e,t)}°`}const vg=7,lt=8,wg=f.memo(function({weatherResults:t,dateRange:s,turnIndex:n,trackContentReferenceEvent:o}){const[r,i]=Mg(),c=Ng(t);f.useEffect(()=>{o(w.searchContentReferenceShown,"search_content_reference_shown","forecast")},[o]);const{daily:u,hourly:h,historical:d}=t;let l="daily";if(s||h&&u.length<2)l="hourly";else if(u.length>0)l="daily";else if(d&&d?.length>0)l="historical";else return null;return a.jsxs("div",{className:"relative",children:[c?a.jsxs(a.Fragment,{children:[a.jsx(jg,{weatherResults:t}),a.jsx(_g,{weatherResults:t,temperatureUnit:r,setTemperatureUnit:i})]}):a.jsx("div",{className:"absolute right-0 top-3 z-10 rounded bg-token-main-surface-primary",children:a.jsx(zt,{onTemperatureUnitChange:i,temperatureUnit:r})}),a.jsx(Pg,{turnIndex:n}),l==="hourly"&&a.jsx(kg,{weatherResults:t,temperatureUnit:r,dateRange:s}),l==="daily"&&a.jsx(Cg,{dailyForecast:u.slice(0,vg),temperatureUnit:r}),l==="historical"&&a.jsx(Sg,{historical:d,temperatureUnit:r})]})});function $g({weatherAlert:e}){const[t,s]=f.useState(!1),n=S(),o=ht(),r=E(e.start_timestamp,e.utc_offset_sec),i=e.end_timestamp?E(e.end_timestamp,e.utc_offset_sec):null,c=a.jsxs(a.Fragment,{children:[a.jsx("div",{children:a.jsx(v,{id:"JnuGPS",defaultMessage:"{start}{separator}{end}",values:{start:n.formatDate(r,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),separator:i?" - ":"",end:i?n.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):""}})}),a.jsx("div",{children:e.summary})]});return a.jsxs("button",{className:"my-2 flex w-full flex-col gap-2 rounded-xl border border-red-200 bg-red-100 px-4 py-3 text-left text-sm text-red-800",onClick:()=>s(!t),children:[a.jsxs("div",{className:"flex w-full items-center gap-4",children:[a.jsx(bn,{className:"h-9 w-9 shrink-0"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"font-bold",children:a.jsx(v,{id:"y+fy/l",defaultMessage:"Severe Weather: {name}",values:{name:e.name}})}),o&&c]}),a.jsx("div",{className:"flex-grow"}),a.jsx("div",{className:"opacity-30",children:t?a.jsx(wn,{className:"icon-lg"}):a.jsx(vn,{className:"icon-lg"})})]}),t&&e.details&&a.jsxs(a.Fragment,{children:[!o&&c,a.jsx("div",{className:"mt-1 whitespace-pre-wrap",children:e.details.trim()})]})]})}function jg({weatherResults:e}){const{severe:t}=e;return t?a.jsx("div",{className:"my-2",children:t.map((s,n)=>a.jsx($g,{weatherAlert:s},n))}):null}function Ng(e){const{historical:t,daily:s,hourly:n,current:o}=e;if(!o)return!1;let r=!1;const i=E(o.timestamp,o.utc_offset_sec);for(const c of[t,s,n])c&&(r=r||c?.some(u=>Ss(i,E(u.timestamp,u.utc_offset_sec))));return r}function _g({weatherResults:e,temperatureUnit:t,setTemperatureUnit:s}){const n=S(),{current:o}=e;if(!o)return null;const r=o.temperature.current,i=o.description,c=r!=null&&i&&" · ";return a.jsxs("div",{className:"not-prose flex items-center gap-4",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[r!=null&&a.jsx(v,{id:"FiwByI",defaultMessage:"Currently {temperature}",values:{temperature:L(n,r,t)}}),c,i.description]}),a.jsx("div",{className:"text-token-text-secondary",children:Tg(e.location)})]}),a.jsxs("div",{className:"flex",children:[a.jsx(zt,{onTemperatureUnitChange:s,temperatureUnit:t}),a.jsx(Se,{weatherDescriptionData:i,isNight:o.night})]})]})}function Ce({children:e}){return a.jsx("div",{className:"no-scrollbar not-prose mt-1 overflow-auto sm:overflow-hidden",children:a.jsx(D.Root,{className:"min-w-0",children:a.jsx(D.Body,{className:"border-b-[0.5px] border-token-border-medium [&_tr:last-child]:border-b-0",children:e})})})}function kg({weatherResults:e,temperatureUnit:t,dateRange:s}){const n=S(),{hourly:o,current:r}=e;let i=o??[];s&&(i=i.filter(d=>d.timestamp>=s.start_timestamp&&d.timestamp<s.end_timestamp));const[c,u]=f.useState(!1),h=i.length>lt;if(!c&&h){const d=i[0],l=E(d.timestamp,d.utc_offset_sec);let p=!1;if(r){const m=E(r.timestamp,r.utc_offset_sec);l.getTime()-m.getTime()>8*60*60*1e3&&i.length>18&&(i=i.slice(7,18),p=!0)}p||(i=i.slice(0,lt))}return a.jsxs(Ce,{children:[i.map((d,l)=>a.jsxs(D.Row,{children:[a.jsxs(A,{className:"w-44",children:[a.jsx(Se,{weatherDescriptionData:d.description,isNight:d.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:a.jsx("span",{className:"lowercase",children:Dg(n,d)})})]}),a.jsx(A,{className:"w-[60px] tabular-nums",children:a.jsx("div",{children:L(n,d.temperature.current,t)})}),a.jsx(A,{children:d.description.description})]},l)),h&&a.jsx(D.Row,{children:a.jsx(A,{className:"w-44",children:a.jsx(pt,{color:"secondary",onClick:()=>u(!c),size:"small",children:c?a.jsx(v,{id:"KoC8Ym",defaultMessage:"Show less"}):a.jsx(v,{id:"X8F8Y/",defaultMessage:"Show more"})})})})]})}function Cg({dailyForecast:e,temperatureUnit:t}){const s=S();return a.jsx(Ce,{children:e.map((n,o)=>a.jsxs(D.Row,{children:[a.jsxs(A,{className:"w-[7.5rem] min-w-[7.5rem]",children:[a.jsx(Se,{weatherDescriptionData:n.description,isNight:n.night,size:"small"}),a.jsx("div",{className:"ml-3 whitespace-nowrap",children:ve(s,E(n.timestamp,n.utc_offset_sec))})]}),a.jsxs(A,{className:"tabular-nums",children:[a.jsx("div",{children:L(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:L(s,n.temperature.min,t)})]}),a.jsx(A,{className:"min-w-80",children:n.description.description})]},o))})}function Sg({historical:e,temperatureUnit:t}){const s=S();return e?a.jsx(Ce,{children:e.map((n,o)=>{const r=E(n.timestamp,n.utc_offset_sec);return a.jsxs(D.Row,{children:[a.jsx(A,{className:"w-[250px]",children:a.jsx("div",{className:"ml-3 whitespace-nowrap",children:s.formatDate(r,{weekday:"long",month:"short",day:"numeric"})})}),a.jsx(A,{className:"tabular-nums",children:n.temperature.max&&n.temperature.min?a.jsxs(a.Fragment,{children:[a.jsx("div",{children:L(s,n.temperature.max,t)}),a.jsx("div",{className:"ml-1 text-token-text-secondary",children:L(s,n.temperature.min,t)})]}):a.jsx("div",{children:L(s,n.temperature.current,t)})}),a.jsx(A,{})]},o)})}):null}function A({className:e,children:t}){return a.jsx(D.Cell,{className:$("!border-l-0 !border-r-0 !border-token-border-xlight !py-2 !pl-4 !pr-3 first:!pl-0 last:!pr-0",e),divClassName:"items-start leading-relaxed",children:t})}function Pg({turnIndex:e}){const t=Xs(n=>n.thread?.turns[e]?.use_location),[s]=qs();return!s.useLocation&&t?a.jsx("div",{className:"mt-3",children:a.jsx(pt,{color:"secondary",icon:tr,onClick:()=>{Vs.setSettingsModalOpen(!0)},children:a.jsx(v,{id:"f47VEc",defaultMessage:"Share precise location"})})}):null}function zt({temperatureUnit:e,onTemperatureUnitChange:t}){const s=n=>e===n?"font-bold":"font-light";return a.jsx(ts,{size:"small",triggerButton:a.jsx("button",{className:"flex items-center justify-center p-1.5 text-token-text-tertiary hover:text-token-text-primary",children:a.jsx(Ps,{className:"icon-sm-heavy"})}),children:a.jsxs(ss.Item,{onClick:()=>{t(e==="C"?"F":"C")},className:"text-token-text-primary",children:[a.jsx(v,{id:"bQIoe/",defaultMessage:"Temperature"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:s("F"),children:a.jsx(v,{id:"bvDeBB",defaultMessage:"°F"})}),a.jsx("div",{className:"mx-1 h-4 border-l border-gray-300"}),a.jsx("div",{className:s("C"),children:a.jsx(v,{id:"iNiz6O",defaultMessage:"°C"})})]})]})})}function Se({weatherDescriptionData:e,isNight:t=!1,size:s="normal"}){const n=B(),o=s==="small"?30:50;return a.jsx("img",{draggable:!1,alt:e.description,src:gg({weatherCode:e.id,isDarkMode:n,isNight:t}).src,width:o,height:o})}function Dg(e,t){const s=E(t.timestamp,t.utc_offset_sec);return e.formatDate(s,{hour:"numeric"})}function L(e,t,s){return t==null?"-":ct(s?s??"F":Ut(e),t)}function Ut(e){const t=["en-US","en-BZ","en-BS","en-KY","en-PW"],s=e.locale||"en-US";return t.includes(s)?"F":"C"}function Tg(e){const t=e.name.split(",").map(s=>s.trim());return e.country&&!t.includes(e.country)&&t.push(e.country),t.join(", ")}const Mg=()=>{const e=S(),[t,s]=Gs("USER_TEMPERATURE_UNIT",Ut(e),n=>["F","C"].includes(n));return[t,s]},Ag=ns(()=>as(()=>import("./b22czimdj44809ig.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20])).then(e=>e.BusinessesMap));function Eg({index:e,FormattedText:t,node:s}){const n=parseInt(e,10),o=f.useContext(se),{value:r}=gt("756982148"),i=Ds(o?.analyticsMetadata);if(o==null)return null;const{contentReferences:c,onShowSearchResults:u,numImageResults:h,analyticsMetadata:d}=o,l=c?.[n],p=d?.clientThreadId==null;if(!l||d.turnIndex===void 0||l.type===void 0)return null;let m=null;switch(l.type){case"title_citation":m=a.jsx(Vo,{metadata:l,trackContentReferenceEvent:i});break;case"location_search":m=a.jsx(_o,{metadata:l,trackContentReferenceEvent:i});break;case"time":m=a.jsx(qo,{metadata:l,trackContentReferenceEvent:i});break;case"image_v2":m=a.jsx(Tt,{metadata:l,numImageResults:h??0,analyticsMetadata:d,trackContentReferenceEvent:i});break;case"nav_list":m=a.jsx(ko,{metadata:l,trackContentReferenceEvent:i});break;case"file_navlist":m=a.jsx(Ra,{metadata:l,trackContentReferenceEvent:i});break;case"file":m=a.jsx(Ea,{fileRef:l,index:n,trackContentReferenceEvent:i});break;case"grouped_webpages_model_predicted_fallback":m=a.jsx(Is,{webpageRef:l,node:s,trackContentReferenceEvent:i,messageId:o.message.id});break;case"grouped_webpages":m=a.jsx(Es,{webpageRef:l,node:s,trackContentReferenceEvent:i,messageId:o.message.id});break;case"tldr":m=r?a.jsx(Le,{navigation:{...l,type:"navigation",domains:[{title:l.page_title,subtitle:l.display_title,domain:l.breadcrumbs[0],url:l.url,sub_domains:[]}]},onShowSearchResults:u,trackContentReferenceEvent:i}):a.jsx(Ts,{tldr:l,trackContentReferenceEvent:i});break;case"navigation":m=a.jsx(Le,{navigation:l,onShowSearchResults:u,trackContentReferenceEvent:i});break;case"stock":m=a.jsx(wo,{contentReference:l,trackContentReferenceEvent:i});break;case"calculator":m=a.jsx(Ca,{data:l,trackContentReferenceEvent:i});break;case"code_execution":m=a.jsx(Ta,{FormattedText:t,displayInfo:l,trackContentReferenceEvent:i});break;case"forecast":m=l?.forecast&&a.jsx(wg,{weatherResults:l.forecast,dateRange:l.date_range,turnIndex:d.turnIndex,trackContentReferenceEvent:i});break;case"businesses_map":m=a.jsx(Ag,{contentReference:l,trackContentReferenceEvent:i});break;case"video":m=a.jsx(er,{video:l,trackContentReferenceEvent:i});break;case"sources_footnote":m=a.jsx(Po,{sourcesFootnote:l,onShowSearchResults:u,trackContentReferenceEvent:i,isSearchGptApp:p});break;case"sports_standings":m=a.jsx(Bo,{standingsRef:l,trackContentReferenceEvent:i});break;case"sports_schedule":m=a.jsx(zo,{scheduleRef:l,trackContentReferenceEvent:i});break;case"attribution":m=a.jsx(ja,{attribution:l});break;case"debug":m=a.jsx(a.Fragment,{children:Object.entries(l).map(([x,j])=>a.jsx("sub",{className:"ml-1 w-fit rounded-md border-2 border-solid border-orange-500 px-1 leading-none",children:j},x))});break;case"image_inline":m=a.jsx(wa,{reference:l,messageId:o.message.id,clientThreadId:o.clientThreadId,trackContentReferenceEvent:i});break;case"product_reviews":m=!1;break}return a.jsx($e,{name:"content-reference-renderer",fallback:x=>(i(w.searchContentReferenceFailed,"search_content_reference_failed",l.type),mt.addError(`Error rendering content reference: ${l.type}`,{...x,contentReference:l}),l?.alt?a.jsx(_e,{components:{img:({src:j,alt:b})=>a.jsx("img",{src:j,alt:b,className:"max-h-28"})},children:l.alt}):a.jsx("span",{className:`errored-object-${l.type}`})),children:m})}function Ig(e){const{src:t,clientThreadId:s,...n}=e,o=ut(s),r=f.useContext(se),i=Zs(o,t,r?.useSafeUrls);return i==null?a.jsx("div",{}):a.jsx("img",{...n,src:i})}function Fg(e){return a.jsx(Eg,{...e,FormattedText:Wt})}function Wt({size:e="medium",children:t,className:s,clientThreadId:n,messageId:o,interpolateCitations:r=!1,componentOverrides:i}){const c=B(),u=os(),h=f.useMemo(()=>({pre:({children:p,"data-start":m,"data-end":x,"data-is-last-node":j})=>a.jsx("pre",{className:"!overflow-visible","data-start":m,"data-end":x,"data-is-last-node":j,children:p}),code:p=>a.jsx(Fs,{...p,clientThreadId:n}),[rs]:Fg,[Ls]:Rs,a:p=>{const{node:m,children:x,...j}=p,b=m?.properties?.href;if(typeof b=="string"&&b.startsWith(Ie))return u?a.jsx(Os,{...j}):n!=null&&o!=null?a.jsx(Hs,{...j,clientThreadId:n,messageId:o,href:b,children:x}):null;if(typeof b=="string"&&b===zs){const _=m?.children?.map(N=>typeof N.value=="string"?N.value:"").join("").trim();return a.jsx(Us,{...p,text:_,clientThreadId:n,messageId:o,className:"cursor-pointer"})}return b&&typeof b=="string"&&pa(b)?x:a.jsx(Ws,{...p,clientThreadId:n,messageId:o,interpolateCitations:r})},td:({children:p})=>a.jsx("td",{children:f.Children.map(p,(m,x)=>m==="<br>"?a.jsx("br",{},x):m)}),img:({node:p,...m})=>{const x=p?.properties?.src;return typeof x=="string"&&(x.startsWith(Ie)||x.startsWith("attachment:"))?null:a.jsx(Ig,{...m,clientThreadId:n})},...Ae()?_n:{},...i}),[i,n,o,r,u]),d=f.useMemo(()=>Ae()?[...X,Ys]:X,[]),{value:l}=gt("1839283687");return l?!1:a.jsx($e,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:t}),children:a.jsx(zg,{rehypePlugins:wt,remarkPlugins:d,className:$(s,"markdown prose w-full break-words dark:prose-invert",c?"dark":"light",e==="small"&&"prose-xs"),urlTransform:$t,components:h,children:t})})}function Lg(e,t,s=void 0){return e===cs.SystemHint?a.jsx("span",{className:"hint-pill",children:t},s):null}function Rg({text:e,customSymbolOffsets:t}){return a.jsx($e,{name:"formatted_text_error",fallback:()=>a.jsx(a.Fragment,{children:e}),children:a.jsx(Og,{text:e,customSymbolOffsets:t})})}const Og=({text:e,customSymbolOffsets:t=[]})=>{const s=/(```[\s\S]*?```|`[^`\n]+`|```[\s\S]*|`[^`\n]*\n|`[^`\n]*$)/g;let n=0;const o=e.split(s).flatMap((r,i)=>{const c=n;if(n+=r.length,r.startsWith("```")&&r.endsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3,-3).trim()})},i);if(r.startsWith("```"))return a.jsx("pre",{className:"overflow-x-auto",children:a.jsx("code",{children:r.slice(3).trim()})},i);if(r.startsWith("`")&&r.endsWith("`"))return a.jsx("code",{children:r.slice(1,-1)},i);if(r.startsWith("`"))return a.jsx("code",{children:r.slice(1)},i);{const u=t.map(h=>is(h)).find(h=>c<=h.startIndex&&h.endIndex<=n);if(u){const h=u.startIndex-c,d=u.endIndex-c,l=r.slice(0,h),p=r.slice(d),m=r.slice(h,d);return[l,Lg(u.symbol,m,i),p].filter(x=>!!x)}return r}});return a.jsx("div",{className:"whitespace-pre-wrap",children:o})};async function Hg(e){const s=await nn().use(an).use(X).use(on).use(Bs).use(fa).process(e);return String(s)}const zg=f.memo(_e),cx=Object.freeze(Object.defineProperty({__proto__:null,FormattedText:Wt,UserFormattedText:Rg,markdownToHtml:Hg},Symbol.toStringTag,{value:"Module"}));export{ax as C,me as D,Wt as F,rx as M,nx as S,ix as W,ox as a,cx as b};
//# sourceMappingURL=go0af9xp65ob64bp.js.map

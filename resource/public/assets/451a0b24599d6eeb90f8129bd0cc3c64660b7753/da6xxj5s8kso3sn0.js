const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jr801y2hsce5e0hx.js","assets/cg166fqqcxkeiosv.js","assets/nojpjvj8hh0klrir.js","assets/d5k5wa3zyqlgc9bk.js","assets/mwlpozqwnbys03vp.js","assets/root-0muf4psh.css","assets/conversation-small-ga20ijz2.css","assets/gjup1pnw4u9rwx39.js","assets/mptd6395vqovl9h2.js","assets/lreb9dbp4o4sdhlz.js","assets/kb4dwh5v3nuso8nd.js","assets/mwg1bia5luujsxxb.js","assets/lyxz8i5c4a3y7iew.js","assets/mkblidk2favziv5s.js","assets/h9b0sydnyfwx9msy.js","assets/oxip50nz1ohggehf.js","assets/f9ed4qokx92gm8gq.js","assets/bcgu844kz5rwd68s.js","assets/kjwe8l147u1yf45j.js","assets/jn1zlwl4dxqm29c9.js","assets/ehrl4h7p8z26p31l.js","assets/lr1sxgzrfwn4hmj0.js","assets/hqprvq82xcpllir3.js","assets/e9twjvrfqdwmahlj.js","assets/i8wt1ptmzikt53pm.js","assets/lj33efal9jfvd2er.js","assets/oyod5vgp8gzuy8hf.js"])))=>i.map(i=>d[i]);
import{j as e,r as m}from"./cg166fqqcxkeiosv.js";import{hA as q,hB as Q,hC as $,cA as Z,hD as J,hE as K,hF as X,hG as w,hH as Y,hI as ee,hJ as se,hK as ae,hL as re,a7 as A,hM as te,hN as k,hO as oe,bs as I,hP as ne,e2 as ie,gq as ce,P as de,fS as le,a5 as he,hQ as me,hR as ue,cV as pe,cW as Ce,cY as xe,cX as Te,cZ as ge}from"./d5k5wa3zyqlgc9bk.js";import{bm as H,bn as M,Q as B,r as O,fP as ve,bl as W,e_ as t,d as h,L as Se,bc as je,al as fe,gA as ye,bz as be}from"./mwlpozqwnbys03vp.js";import{P as Ne}from"./mptd6395vqovl9h2.js";import{S as Ee,b as we,u as U,E as Ie,C as L,c as He,T as Me,d as Pe}from"./mwg1bia5luujsxxb.js";import{e as P,u as De}from"./gjup1pnw4u9rwx39.js";import{C as Fe}from"./ghzr670qk954gg66.js";import{C as _e}from"./haa7pfckskryd1v7.js";function Re({clientThreadId:s,currentModelId:n,isModelLoaded:d,onRequestCompletion:l,chatgptHomepageDisclaimer:a}){return e.jsx(Ee,{clientThreadId:s,currentModelId:n,isModelLoaded:d,onRequestCompletion:l,chatgptHomepageDisclaimer:a})}const Le=H(()=>M(()=>import("./jr801y2hsce5e0hx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(s=>s.ChatScreenContentModals));function Ae({disableEmptyState:s,fullWidth:n,renderEmptyState:d}){const{clientThreadId:a,currentModelId:i,isCompanionWindow:u,isEmbeddedInFocusedView:r,onChangeRating:p,onRequestCompletion:c,isModelLoaded:v,prefetchSearch:y}=m.useContext(P),[b,C,T]=B(a,o=>[o?.isLoading,O.getConversationTurns(o).length,o?.scrollToMessageId]),S={clientThreadId:a,currentModelId:i,onChangeRating:p,onRequestCompletion:c,showAvatar:!1},N=we({clientThreadId:a,handleRequestCompletion:c,prefetchSearchPromise:y}),j=b||N||s,x=ve(),{initialConversationTurns:g,continuedConversationTurns:f}=q(C,x),{canUseNewHomepage:D,showEmptyState:z}=U(a),G=C>=2;Q(G);const{setTargetedContent:F}=$(),V=Z(i),_=J(a);K(C,a),m.useEffect(()=>{r||F(void 0)},[a,F,r]);const R=X(a);if(z){if(d!=null)return d();if(D&&!j){const o=u?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:a})});return e.jsx(Re,{clientThreadId:a,currentModelId:i,isModelLoaded:v,onRequestCompletion:c,chatgptHomepageDisclaimer:o})}else if(!D&&!j)return e.jsx(Ie,{clientThreadId:a,currentModelId:i,isModelLoaded:v,onRequestCompletion:c,showChatgptHomepage:!V,chatgptHomepageDisclaimer:e.jsx(w,{clientThreadId:a})})}return e.jsxs(e.Fragment,{children:[x&&e.jsx(Y,{}),x&&f.length===0&&e.jsx(ee,{}),e.jsx(W,{children:e.jsxs(m.Suspense,{fallback:null,children:[e.jsx(se,{}),g.length>0&&e.jsx("ol",{className:t.conversationTurnList,onCopy:_,children:g.map(({turnIndex:o,isFinalTurn:E})=>e.jsx("li",{className:h(t.conversationTurnWrapper,n&&"w-full"),children:m.createElement(L,{...S,key:`${a}-${o}`,turnIndex:o,isFinalTurn:E,scrollToMessageId:T,dateHeaderType:R(o)})},o))}),x&&e.jsx(ae,{}),e.jsx("ol",{className:t.conversationTurnList,onCopy:_,children:f.map(({turnIndex:o,isFinalTurn:E})=>e.jsx("li",{className:h(t.conversationTurnWrapper,n&&"w-full"),children:m.createElement(L,{...S,key:`${a}-${o}`,turnIndex:o,isFinalTurn:E,scrollToMessageId:T,dateHeaderType:R(o)})},o))})]})}),e.jsx(Le,{}),C>0&&e.jsx(re,{})]})}function ke({renderEmptyState:s}){return e.jsx(Ae,{renderEmptyState:s})}const Be=H(()=>M(()=>import("./mwg1bia5luujsxxb.js").then(s=>s.e),__vite__mapDeps([11,4,1,5,9,3,6,8,12,13,7,10,14,15,16,17])).then(s=>s.ChatScreenComposerAlerts));function Oe(){const{clientThreadId:s,currentModelId:n,isCompanionWindow:d,onRequestCompletion:l}=m.useContext(P),a=A(s),[i,u]=B(s,c=>[c&&c.conversationTurns.length>1,O.hasUserMessage(c)]),r=Se(s)&&!i&&te(a),{setComposerFooterElement:p}=m.useContext(k);return e.jsx("div",{className:t.footer,children:e.jsxs(oe,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent",position:"relative"},children:[e.jsxs(I,{type:"secondary",className:"absolute bottom-[var(--composer-bar-height)] w-full",children:[i&&e.jsx(ne,{className:t.scrollButton}),e.jsx(Be,{})]}),e.jsxs(I,{type:"primary",ref:p,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(He,{clientThreadId:s,currentModelId:n,isNewThread:r,noWrap:!0,onRequestCompletion:l,showPromptStarters:r||!u}),!d&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(w,{clientThreadId:s})})]})]})})}const We=H(()=>M(()=>import("./kjwe8l147u1yf45j.js"),__vite__mapDeps([18,1,3,4,5,6,19,20,8,21,22,23,24,25,13,26,11,9,12,7,10,14,15,16,17])).then(s=>s.ConversationHeaderMenuItems));function Ue(){const{clientThreadId:s,isLoggedInUser:n,onNewThread:d}=m.useContext(P),l=je(s),a=ie(l),i=ce(l),{useStore:u}=de(),r=u(p=>p.isSidebarOpen);return e.jsxs(I,{leading:!0,type:"primary",className:t.header,name:"thread-header",children:[e.jsxs("div",{className:t.headerLeading,children:[n&&e.jsx(le,{className:h(r&&"invisible")}),!a&&(!n||!r)&&e.jsx(Fe,{onNewThread:d,className:h(n&&"hidden @lg/thread:inline-flex",r&&"invisible"),location:"thread"}),i?e.jsx("div",{className:h(t.threadDropdown),children:e.jsx(We,{clientThreadId:s})}):e.jsx("div",{className:h(t.threadDropdown),children:e.jsx(Me,{clientThreadId:s})})]}),e.jsx("div",{className:t.headerTrailing,children:e.jsx(W,{children:e.jsx(Pe,{clientThreadId:s})})})]})}function Ke({hideHeader:s=!1,hideFooter:n=!1,hideTools:d=!1,embedded:l=!1,renderEmptyState:a,ref:i}){const{data:u}=fe(),{clientThreadId:r,currentModelId:p,isCompanionWindow:c,isInstalledApp:v,onRequestCompletion:y,routeType:b}=De(),{canUseNewHomepage:C,showEmptyState:T}=U(r),S=he(u?.models,p),[N,j]=me({name:"composer-bar",track:"height"}),x=A(r),g=ue(r,x),f=n||T&&C;return ye(r),e.jsx(be.Provider,{value:y,children:e.jsx(pe,{children:e.jsxs(Ne,{clientThreadId:r,children:[e.jsx(Ce,{children:g!=null&&e.jsx("title",{children:g})}),e.jsx(xe,{clientThreadId:r,className:h(l&&"h-full","flex-1"),currentModelConfig:S,children:e.jsxs(k.Provider,{value:{setComposerFooterElement:j},children:[e.jsx(Te,{anchor:"vertical",className:h(t.screen,T&&C&&t.screenEmptyState,c&&t.screenCompanionWindow,v&&t.screenInstalledApp,l&&t.screenEmbedded),contentClassName:h(b==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!s&&e.jsx(Ue,{}),style:N,ref:i,trackLeading:!0,trackTrailing:!0,trailing:!f&&e.jsx(Oe,{}),children:e.jsx(ke,{renderEmptyState:a})}),!c&&!d&&e.jsxs(e.Fragment,{children:[e.jsx(_e,{}),e.jsx(ge,{})]})]})})]})})})}export{Ke as C,Ue as a,ke as b};
//# sourceMappingURL=da6xxj5s8kso3sn0.js.map

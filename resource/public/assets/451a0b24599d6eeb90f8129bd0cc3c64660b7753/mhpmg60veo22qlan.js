import{r as u,j as a}from"./cg166fqqcxkeiosv.js";import{dz as p,dA as h,dB as x}from"./d5k5wa3zyqlgc9bk.js";import{J as f,a as _}from"./mbyycxtvfh128296.js";import{m as g,r as S,q as j}from"./mwlpozqwnbys03vp.js";import{u as T}from"./ksh6u1fgnod0ruxn.js";function w(s,n){const e=n.find(l=>l.message.author.role===g.Assistant),t=S.getTree(j(s)),o=(e?t.getParentPromptNode(e.nodeId):null)?.message.metadata,m=o?.real_author_type==="automation"?o?.real_author_id:null,c=o?.real_author_title,{automation:d}=T(m??"");return{automationId:m,automation:d,automationTitle:c}}function y({clientThreadId:s,messages:n}){const{automationId:e,automation:t,automationTitle:i}=w(s,n),[o,r]=u.useState(!1);return u.useEffect(()=>{e&&p.count(h.JAWBONE,"jawbone_automation_source_header.open")},[e]),e?a.jsxs("div",{className:"mb-1 flex items-center gap-1.5 text-sm text-token-text-secondary hover:text-token-text-primary",children:[a.jsx(x,{className:"icon-sm"}),a.jsx("button",{onClick:()=>{r(!0)},children:t?.title??i}),o&&t&&a.jsx(f,{initialScheduleComponents:t.schedule_components,nextRunTimes:t.next_run_times,children:a.jsx(_,{item:t,source:"chat",onClose:()=>{r(!1)}})})]}):null}export{y as AutomationSourceHeader};
//# sourceMappingURL=mhpmg60veo22qlan.js.map

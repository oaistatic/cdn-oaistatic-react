const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/nvtf4rerew8p9b7n.js","assets/cg166fqqcxkeiosv.js","assets/1e6we3t4jswzfiyx.js","assets/eejnwg9biczpfc2f.js","assets/d5k5wa3zyqlgc9bk.js","assets/mwlpozqwnbys03vp.js","assets/root-0muf4psh.css","assets/conversation-small-ga20ijz2.css","assets/j8x3nt0b4atg14yj.js","assets/gy64pge8qevmvg7e.js","assets/bk3oz68r6jpv53p0.js","assets/e1a7vwuqoah2oayi.js","assets/foqzl8iyho770q3k.js","assets/fzrn137102spawew.js","assets/kb4dwh5v3nuso8nd.js","assets/comments-plugin-i34sjb0l.css","assets/g9q8qzopl6tslq0e.js","assets/codemirror-idex3gld.css","assets/f6h3kyofrkhu3s3z.js","assets/lreb9dbp4o4sdhlz.js","assets/mptd6395vqovl9h2.js","assets/e9twjvrfqdwmahlj.js","assets/ffqd4m2qodkr5sj8.js","assets/gd3hm2r8fxvriszj.js","assets/jy3dt8r0gwwixm3r.js","assets/f9ed4qokx92gm8gq.js","assets/lyxz8i5c4a3y7iew.js","assets/oxip50nz1ohggehf.js","assets/bcgu844kz5rwd68s.js","assets/gjup1pnw4u9rwx39.js","assets/i7xkmczefffl02lb.js","assets/k167qwis51wxn1ax.js","assets/bk8slwxjkdlmxjxm.js","assets/oyod5vgp8gzuy8hf.js","assets/mkaurxw37czmxs2e.js","assets/nbo9a5e09uaxkp2z.js","assets/dwgbagtcbp3llpgj.js","assets/h9r9i5oecv2xy9va.js","assets/1drg641x7n2y8un8.js","assets/h9b0sydnyfwx9msy.js","assets/k1uiu1ebdweo77fx.js","assets/n21y1gzzn2b5sckt.js","assets/pfn4k437nge2m1vb.js","assets/nf72ucyf2v4hrd52.js","assets/gg3htlw4oy097iqi.js","assets/nsmo1fil03yxtd3r.js","assets/3qaegw5tahuvxmqt.js","assets/prosemirror-ofhzvcxp.css"])))=>i.map(i=>d[i]);
import{j as u,au as se,r as F,aw as ie,c as ae}from"./cg166fqqcxkeiosv.js";import{Z as ue,C as Q,c as le}from"./j8x3nt0b4atg14yj.js";import{d as x,dU as K,c1 as ee,c2 as ce,h as fe,h3 as me,bX as ve,bm as ne,bn as te}from"./mwlpozqwnbys03vp.js";import{lv as de,lw as he,lx as pe,ly as ge,j6 as xe,bs as Ce,cw as ye,gN as De,d4 as Te,d1 as Ee,d3 as Le,d2 as Ne}from"./d5k5wa3zyqlgc9bk.js";import{B as we}from"./h9b0sydnyfwx9msy.js";import{P as re}from"./i7xkmczefffl02lb.js";function Oe({className:n,zIndexKey:e,onClick:t}){return u.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:x("absolute inset-0",n,ue[e]),onClick:t})}function Ae({zIndexKey:n,onClick:e}){return u.jsx(Oe,{zIndexKey:n,onClick:e,className:"bg-gray-50/50 dark:bg-black/50"})}const Ie=({onScroll:n})=>(de(({scrollTop:e})=>{n?.(e)}),null),Re=({shouldScrollToTop:n})=>{const e=he();return F.useEffect(()=>{n===!0&&e({behavior:"smooth"})},[n,e]),null},be=()=>{const n=pe();F.useEffect(()=>{n({behavior:"smooth"})},[n]);const[e]=ge();return e?null:u.jsx("button",{onClick:()=>n({behavior:"smooth"}),className:"absolute bottom-5 right-1/2 z-10 flex h-8 w-8 translate-x-1/2 cursor-pointer items-center justify-center rounded-full border border-token-border-light bg-token-main-surface-primary bg-clip-padding text-token-text-secondary",children:u.jsx(xe,{className:"icon-md text-token-text-primary"})})},je=({children:n,onScroll:e,shouldScrollToTop:t,scrollToBottomMode:r="top",isLoading:s=!1,header:o,height:i,overlay:a,hideChildren:l=!1,disableScroll:c=!1},f)=>{const m=u.jsx("div",{className:x(l?"hidden":"block"),children:n});return u.jsxs("main",{className:x("relative flex min-h-0 flex-auto flex-grow flex-col",c&&"overflow-hidden"),ref:f,style:{height:i},children:[u.jsx(ie,{children:s&&u.jsx(Ae,{zIndexKey:"textdocDiffLoadingOverlay"})}),!c&&u.jsxs(we,{followButtonClassName:"hidden",initialScrollBehavior:"auto",scrollViewClassName:"flex flex-col",className:"h-full",mode:r,children:[o,m,a&&u.jsx("div",{className:"pointer-events-none w-full flex-1",children:a}),r==="bottom"&&u.jsx(be,{}),u.jsx(Ie,{onScroll:e}),u.jsx(Re,{shouldScrollToTop:t})]}),c&&u.jsxs(u.Fragment,{children:[o,m,a&&u.jsx("div",{className:"pointer-events-none h-full w-full",children:a})]})]})},_e=F.forwardRef(je);function Me({className:n,children:e}){return K()?u.jsx(Ce,{leading:!0,type:"primary",name:"canvas-header",className:x(n,"sticky top-0 z-[1] h-[var(--screen-thread-header-min-height,60px)] flex-none px-3.5"),style:{viewTransitionName:"var(--vt-canvas-header)"},children:u.jsx("div",{className:"flex items-center justify-between gap-4",children:e})}):u.jsx("header",{className:x(n,"flex h-14 flex-none items-center justify-between gap-4 px-3"),children:e})}function ke({className:n,children:e}){const t=K();return u.jsx("h2",{className:x(n,"truncate",t?"text-[17px] font-medium leading-[30px] text-token-text-secondary":"text-lg text-token-text-secondary"),children:e})}const ze=({onClick:n})=>{const e=ae(),r=ee()?me:ve;return u.jsx(ce,{label:e.formatMessage(Se.close),children:u.jsx(ye,{icon:r,onClick:n})})},Be=/^rgba?\(\s*(\d+),\s*(\d+),\s*(\d+)(,\s*([\d.]+))?\s*\)$/,H=n=>{const e=n.match(Be);if(!e)return null;const t=parseFloat(e.at(1)??""),r=parseFloat(e.at(2)??""),s=parseFloat(e.at(3)??"");return(t*299+r*587+s*114)/1e3<125},j=({children:n,isPreviewingCode:e=!1,previewBackgroundColor:t=null})=>{const r=e&&t&&H(t),s=e&&t&&!H(t);return u.jsx("section",{className:x("popover flex h-full w-full flex-col",r&&"dark",s&&"light",e?"bg-[rgba(249,249,249,1)] dark:bg-[rgba(33,33,33,1)]":"bg-token-main-surface-primary"),style:{backgroundColor:e&&t?t:void 0},children:n})};j.Title=ke;j.CloseButton=ze;j.Header=Me;j.Content=_e;const Se=fe({close:{id:"Bix/Kd",defaultMessage:"Close"}}),$e=ne(()=>te(()=>import("./nvtf4rerew8p9b7n.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39])).then(n=>n.CodeComposer),{loading:()=>u.jsx("div",{className:Q.code,children:u.jsx("div",{className:"h-full w-full px-4",children:u.jsx(re,{lines:20})})})}),fn=n=>u.jsx($e,{...n});var Pe=(n=>(n.ALL_HIDDEN="all_hidden",n.COMMENTS_READONLY="comments_readonly",n.ENABLED="enabled",n))(Pe||{});const J=775,Fe=580,qe=36,Ue=18,Ge=()=>{const[{width:n},e]=De(),t=ee(),r=n>=J+le?J:Fe,s=t?Ue:qe;return u.jsx("div",{className:x(Q.document,"mt-4"),ref:e,style:{margin:`0 ${s}px`},children:u.jsx("div",{style:{width:r},children:u.jsx(re,{lines:20})})})},He=ne(()=>te(()=>import("./k1uiu1ebdweo77fx.js"),__vite__mapDeps([40,1,41,5,6,12,3,4,7,8,9,10,11,13,14,15,42,26,19,20,35,43,44,45,46,47,18,21,22,23,24,25,27,28,29,30,31,32,33,34,36,37,38,39])).then(n=>n.DocumentComposer),{loading:Ge}),mn=n=>u.jsx(He,{...n});function h(){}h.prototype={diff:function(e,t){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.callback;typeof s=="function"&&(o=s,s={});var i=this;function a(v){return v=i.postProcess(v,s),o?(setTimeout(function(){o(v)},0),!0):v}e=this.castInput(e,s),t=this.castInput(t,s),e=this.removeEmpty(this.tokenize(e,s)),t=this.removeEmpty(this.tokenize(t,s));var l=t.length,c=e.length,f=1,m=l+c;s.maxEditLength!=null&&(m=Math.min(m,s.maxEditLength));var C=(r=s.timeout)!==null&&r!==void 0?r:1/0,g=Date.now()+C,d=[{oldPos:-1,lastComponent:void 0}],p=this.extractCommon(d[0],t,e,0,s);if(d[0].oldPos+1>=c&&p+1>=l)return a(X(i,d[0].lastComponent,t,e,i.useLongestToken));var D=-1/0,T=1/0;function O(){for(var v=Math.max(D,-f);v<=Math.min(T,f);v+=2){var y=void 0,E=d[v-1],L=d[v+1];E&&(d[v-1]=void 0);var k=!1;if(L){var U=L.oldPos-v;k=L&&0<=U&&U<l}var G=E&&E.oldPos+1<c;if(!k&&!G){d[v]=void 0;continue}if(!G||k&&E.oldPos<L.oldPos?y=i.addToPath(L,!0,!1,0,s):y=i.addToPath(E,!1,!0,1,s),p=i.extractCommon(y,t,e,v,s),y.oldPos+1>=c&&p+1>=l)return a(X(i,y.lastComponent,t,e,i.useLongestToken));d[v]=y,y.oldPos+1>=c&&(T=Math.min(T,v-1)),p+1>=l&&(D=Math.max(D,v+1))}f++}if(o)(function v(){setTimeout(function(){if(f>m||Date.now()>g)return o();O()||v()},0)})();else for(;f<=m&&Date.now()<=g;){var A=O();if(A)return A}},addToPath:function(e,t,r,s,o){var i=e.lastComponent;return i&&!o.oneChangePerToken&&i.added===t&&i.removed===r?{oldPos:e.oldPos+s,lastComponent:{count:i.count+1,added:t,removed:r,previousComponent:i.previousComponent}}:{oldPos:e.oldPos+s,lastComponent:{count:1,added:t,removed:r,previousComponent:i}}},extractCommon:function(e,t,r,s,o){for(var i=t.length,a=r.length,l=e.oldPos,c=l-s,f=0;c+1<i&&l+1<a&&this.equals(r[l+1],t[c+1],o);)c++,l++,f++,o.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return f&&!o.oneChangePerToken&&(e.lastComponent={count:f,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=l,c},equals:function(e,t,r){return r.comparator?r.comparator(e,t):e===t||r.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function X(n,e,t,r,s){for(var o=[],i;e;)o.push(e),i=e.previousComponent,delete e.previousComponent,e=i;o.reverse();for(var a=0,l=o.length,c=0,f=0;a<l;a++){var m=o[a];if(m.removed)m.value=n.join(r.slice(f,f+m.count)),f+=m.count;else{if(!m.added&&s){var C=t.slice(c,c+m.count);C=C.map(function(g,d){var p=r[f+d];return p.length>g.length?p:g}),m.value=n.join(C)}else m.value=n.join(t.slice(c,c+m.count));c+=m.count,m.added||(f+=m.count)}}return o}function V(n,e){var t;for(t=0;t<n.length&&t<e.length;t++)if(n[t]!=e[t])return n.slice(0,t);return n.slice(0,t)}function Z(n,e){var t;if(!n||!e||n[n.length-1]!=e[e.length-1])return"";for(t=0;t<n.length&&t<e.length;t++)if(n[n.length-(t+1)]!=e[e.length-(t+1)])return n.slice(-t);return n.slice(-t)}function z(n,e,t){if(n.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(n)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return t+n.slice(e.length)}function B(n,e,t){if(!e)return n+t;if(n.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(n)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return n.slice(0,-e.length)+t}function N(n,e){return z(n,e,"")}function I(n,e){return B(n,e,"")}function W(n,e){return e.slice(0,Je(n,e))}function Je(n,e){var t=0;n.length>e.length&&(t=n.length-e.length);var r=e.length;n.length<e.length&&(r=n.length);var s=Array(r),o=0;s[0]=0;for(var i=1;i<r;i++){for(e[i]==e[o]?s[i]=s[o]:s[i]=o;o>0&&e[i]!=e[o];)o=s[o];e[i]==e[o]&&o++}o=0;for(var a=t;a<n.length;a++){for(;o>0&&n[a]!=e[o];)o=s[o];n[a]==e[o]&&o++}return o}var b="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Xe=new RegExp("[".concat(b,"]+|\\s+|[^").concat(b,"]"),"ug"),_=new h;_.equals=function(n,e,t){return t.ignoreCase&&(n=n.toLowerCase(),e=e.toLowerCase()),n.trim()===e.trim()};_.tokenize=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');t=Array.from(e.intlSegmenter.segment(n),function(o){return o.segment})}else t=n.match(Xe)||[];var r=[],s=null;return t.forEach(function(o){/\s/.test(o)?s==null?r.push(o):r.push(r.pop()+o):/\s/.test(s)?r[r.length-1]==s?r.push(r.pop()+o):r.push(s+o):r.push(o),s=o}),r};_.join=function(n){return n.map(function(e,t){return t==0?e:e.replace(/^\s+/,"")}).join("")};_.postProcess=function(n,e){if(!n||e.oneChangePerToken)return n;var t=null,r=null,s=null;return n.forEach(function(o){o.added?r=o:o.removed?s=o:((r||s)&&Y(t,s,r,o),t=o,r=null,s=null)}),(r||s)&&Y(t,s,r,null),n};function Y(n,e,t,r){if(e&&t){var s=e.value.match(/^\s*/)[0],o=e.value.match(/\s*$/)[0],i=t.value.match(/^\s*/)[0],a=t.value.match(/\s*$/)[0];if(n){var l=V(s,i);n.value=B(n.value,i,l),e.value=N(e.value,l),t.value=N(t.value,l)}if(r){var c=Z(o,a);r.value=z(r.value,a,c),e.value=I(e.value,c),t.value=I(t.value,c)}}else if(t)n&&(t.value=t.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(n&&r){var f=r.value.match(/^\s*/)[0],m=e.value.match(/^\s*/)[0],C=e.value.match(/\s*$/)[0],g=V(f,m);e.value=N(e.value,g);var d=Z(N(f,g),C);e.value=I(e.value,d),r.value=z(r.value,f,d),n.value=B(n.value,f,f.slice(0,f.length-d.length))}else if(r){var p=r.value.match(/^\s*/)[0],D=e.value.match(/\s*$/)[0],T=W(D,p);e.value=I(e.value,T)}else if(n){var O=n.value.match(/\s*$/)[0],A=e.value.match(/^\s*/)[0],v=W(O,A);e.value=N(e.value,v)}}var Ve=new h;Ve.tokenize=function(n){var e=new RegExp("(\\r?\\n)|[".concat(b,"]+|[^\\S\\n\\r]+|[^").concat(b,"]"),"ug");return n.match(e)||[]};var M=new h;M.tokenize=function(n,e){e.stripTrailingCr&&(n=n.replace(/\r\n/g,`
`));var t=[],r=n.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var s=0;s<r.length;s++){var o=r[s];s%2&&!e.newlineIsToken?t[t.length-1]+=o:t.push(o)}return t};M.equals=function(n,e,t){return t.ignoreWhitespace?((!t.newlineIsToken||!n.includes(`
`))&&(n=n.trim()),(!t.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):t.ignoreNewlineAtEof&&!t.newlineIsToken&&(n.endsWith(`
`)&&(n=n.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),h.prototype.equals.call(this,n,e,t)};function Ze(n,e,t){return M.diff(n,e,t)}var We=new h;We.tokenize=function(n){return n.split(/(\S.+?[.!?])(?=\s+|$)/)};var Ye=new h;Ye.tokenize=function(n){return n.split(/([{}:;,]|\s+)/)};function S(n){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(n)}var w=new h;w.useLongestToken=!0;w.tokenize=M.tokenize;w.castInput=function(n,e){var t=e.undefinedReplacement,r=e.stringifyReplacer,s=r===void 0?function(o,i){return typeof i>"u"?t:i}:r;return typeof n=="string"?n:JSON.stringify($(n,null,null,s),s,"  ")};w.equals=function(n,e,t){return h.prototype.equals.call(w,n.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),t)};function $(n,e,t,r,s){e=e||[],t=t||[],r&&(n=r(s,n));var o;for(o=0;o<e.length;o+=1)if(e[o]===n)return t[o];var i;if(Object.prototype.toString.call(n)==="[object Array]"){for(e.push(n),i=new Array(n.length),t.push(i),o=0;o<n.length;o+=1)i[o]=$(n[o],e,t,r,s);return e.pop(),t.pop(),i}if(n&&n.toJSON&&(n=n.toJSON()),S(n)==="object"&&n!==null){e.push(n),i={},t.push(i);var a=[],l;for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&a.push(l);for(a.sort(),o=0;o<a.length;o+=1)l=a[o],i[l]=$(n[l],e,t,r,l);e.pop(),t.pop()}else i=n;return i}var P=new h;P.tokenize=function(n){return n.slice()};P.join=P.removeEmpty=function(n){return n};var R=(n=>(n.ADDED="added",n.REMOVED="removed",n.UNCHANGED="unchanged",n))(R||{});function q(n){if(n==="")return 0;const e=n.split(`
`).length;return n.endsWith(`
`)?e-1:e}function Qe(n,e){return Ze(n,e,{newlineIsToken:!0}).map(r=>({count:r.count??q(r.value),value:r.value,type:r.added?"added":r.removed?"removed":"unchanged"}))}function Ke(n){let e="";for(const{type:t,value:r}of n)(t==="added"||t==="unchanged")&&(e+=r);return e}function en(n,e){const t=q(e),r=rn(n,t);return{changes:Qe(r,e),numLinesDiffed:t}}function nn(n){const e=[...n],t=[],r=[];for(;e.length>0;){const s=e[e.length-1];if(s.type===R.REMOVED)e.pop(),s.type===R.REMOVED&&t.unshift(s);else if(s.type===R.ADDED)e.pop(),r.unshift(s);else break}return{prunedChanges:[...e,...r],prunedRemovedChanges:t}}function tn(n,e){const{changes:t,numLinesDiffed:r}=en(n,e),{prunedChanges:s,prunedRemovedChanges:o}=nn(t),i=Ke(s),a=o.map(c=>c.value).join(`
`),l=oe(n,r,"start");return{content:i+a+l,numLinesDiffed:q(i)}}function rn(n,e){if(e<=0)return"";let t=0,r=n.length;for(let s=0;s<n.length;s++)if(n[s]===`
`&&(t++,t===e)){r=s+1;break}return n.substring(0,r)}function oe(n,e,t="start"){if(e<=0)return n;if(t==="start"){let i=0;for(let a=0;a<n.length;a++)if(n[a]===`
`&&(i++,i===e))return n.substring(a+1);return""}let r=0,s=-1;const o=n.endsWith(`
`)?e+1:e;for(let i=n.length-1;i>=0;i--)if(n[i]===`
`&&(r++,r===o)){s=i;break}return s===-1?"":n.substring(0,s+1)}function vn(n,e){const t=n?.type??Te.LOADING,r=n?.content??"",s=Ee(n);if(!Le(t)||e==null||!s||!Ne(n))return{content:r,currentlyStreamingLineIndex:null};const o=oe(r,1,"end");if(o==="")return{content:e.content,currentlyStreamingLineIndex:0};const i=tn(e.content,o);return{content:i.content,currentlyStreamingLineIndex:i.numLinesDiffed}}export{fn as A,Pe as C,Ge as D,Ae as L,Ue as M,Oe as O,mn as a,j as b,qe as c,J as d,Fe as e,vn as g};
//# sourceMappingURL=euxxc9e4zh86bdsx.js.map

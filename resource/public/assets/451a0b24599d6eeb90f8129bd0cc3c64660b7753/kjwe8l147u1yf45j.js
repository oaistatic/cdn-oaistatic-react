import{c as E,r as p,j as e}from"./cg166fqqcxkeiosv.js";import{an as C,cy as T,av as j,au as S,aF as N}from"./d5k5wa3zyqlgc9bk.js";import{GizmoConversationOptionsDropdown as b}from"./jn1zlwl4dxqm29c9.js";import{u as L}from"./mwg1bia5luujsxxb.js";import{Q as M,fy as k,C as I,L as H,af as O,d as a,P as z,a as D,r as G}from"./mwlpozqwnbys03vp.js";import{G as P}from"./ehrl4h7p8z26p31l.js";import"./lr1sxgzrfwn4hmj0.js";import"./hqprvq82xcpllir3.js";import"./e9twjvrfqdwmahlj.js";import"./i8wt1ptmzikt53pm.js";import"./lj33efal9jfvd2er.js";import"./mkblidk2favziv5s.js";import"./mptd6395vqovl9h2.js";import"./oyod5vgp8gzuy8hf.js";import"./lreb9dbp4o4sdhlz.js";import"./lyxz8i5c4a3y7iew.js";import"./gjup1pnw4u9rwx39.js";import"./kb4dwh5v3nuso8nd.js";import"./h9b0sydnyfwx9msy.js";import"./oxip50nz1ohggehf.js";import"./f9ed4qokx92gm8gq.js";import"./bcgu844kz5rwd68s.js";function ie({clientThreadId:t}){const n=E(),[u,f,x]=M(t,s=>[s?.isLoading,s?.title??null,G.getThreadTitleSource(s)]),{showEmptyState:g}=L(t),i=n.formatMessage({id:"Dzyamg",defaultMessage:"New chat"}),{resolvedTitle:r,isTypingEffect:h}=C(t,f,!0),{conversations:c,isLoading:v}=T({}),[m,l]=p.useState(!1);p.useEffect(()=>k(P,{editTitleInMainScreen:({serverThreadId:s})=>{s===t&&l(!0)}}),[t]);const w=I(t),o=c&&c.find(s=>s.id===w);if(g)return null;const y=r==null&&(H(t)||x===O.NewChat),d=u||v?e.jsx(A,{width:"w-28 xs:w-40 sm:w-52"}):e.jsxs("button",{className:a("group flex max-w-28 cursor-pointer items-center gap-1 overflow-hidden whitespace-nowrap rounded-lg px-1 py-1.5 text-lg font-semibold text-token-text-secondary radix-state-open:bg-token-main-surface-secondary can-hover:hover:bg-token-main-surface-secondary screen-arch:px-3 screen-arch:[font-size:17px] screen-arch:[line-height:26px] xs:max-w-40 sm:max-w-60 md:max-w-none",y&&"loading-shimmer"),children:[e.jsx("div",{className:"truncate","aria-label":r??i,children:o&&m?e.jsx(j,{conversation:o,onClose:()=>{l(!1)}}):h?e.jsx(S,{text:r??""}):r??i}),o&&e.jsx(N,{className:"icon-md text-token-text-tertiary"})]});return e.jsxs("div",{className:"flex items-center gap-0 overflow-hidden whitespace-nowrap px-2 py-1.5",children:[o&&e.jsx(b,{conversation:o,inMainScreen:!0,onOpenChange:s=>{s&&z.logEvent(D.conversationHeaderMenuItemsOpen)},contentAlign:"start",contentClassName:"max-h-[50dvh] overflow-y-scroll",sideOffset:8,...m&&{open:!1},children:d}),!o&&d]})}function A({index:t,width:n}){return e.jsx("div",{className:a("flex flex-col justify-center pl-1 screen-arch:pl-3"),children:e.jsx("div",{className:a("loading-results-shimmer h-5 rounded-full bg-token-main-surface-secondary",n)})},t)}export{ie as ConversationHeaderMenuItems};
//# sourceMappingURL=kjwe8l147u1yf45j.js.map

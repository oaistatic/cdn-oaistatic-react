import{B as Le,dh as Xe,S as G,P as B,a as A,ao as Ze,ap as Je,b8 as te,df as ge,ba as L,bT as Ce,bP as es,gt as ss,d as K,g6 as ts,c2 as he,a5 as as,b$ as Te,c0 as se,ad as os,ai as q,T as U,h as xe,N as oe,Q as me,H as rs,ab as ls,dk as is,c4 as je,r as ve,ce as ns,$ as ne,a0 as de}from"./mwlpozqwnbys03vp.js";import{c as re,r as h,j as e,M as r,L as ds,aw as Be,au as Ae,a as cs,b as us,u as Me,h as gs}from"./cg166fqqcxkeiosv.js";import{gR as ms,U as hs,H as xs,gS as Ms,gT as fs,gU as ps,gV as ke,gW as bs,cl as Ss,gX as ys,gY as Cs,gZ as Ts,g_ as js,gD as vs,g$ as ks,h0 as ws,bJ as De,fU as we,h1 as Us,h2 as Ps,fw as _s,cH as Hs,K as Ns,cf as Is,h3 as Es,cG as Ls,h4 as Bs,h5 as As,ed as v,h6 as Ds,h7 as Rs,h8 as Os}from"./d5k5wa3zyqlgc9bk.js";function zs({onSuccess:t,onError:s}){const o=cs();return us({mutationFn:({userContext:l})=>oe.createOrUpdateUserSystemMessage(l),onSettled:(l,g)=>{const c=["userContext"];l!==null&&!g?o.setQueryData(c,l):o.invalidateQueries({queryKey:c})},onSuccess:t,onError:s})}function Fs(t){const s=re(),o=Le();return Me({queryKey:["userContext"],queryFn:()=>oe.getUserSystemMessage().catch(l=>{throw o.danger(s.formatMessage({id:"userContextModal.getCustomInstructionsError",defaultMessage:"Failed to get your settings"})),l}),enabled:t,select:l=>({aboutUserMessage:l?.about_user_message??"",aboutModelMessage:l?.about_model_message??"",nameUserMessage:l?.name_user_message??"",roleUserMessage:l?.role_user_message??"",traitsModelMessage:l?.traits_model_message??"",otherUserMessage:l?.other_user_message??"",disabledTools:l?.disabled_tools??[],enabled:l?.enabled??!0})})}function Ws(){return Me({queryKey:["userIsInSearchHoldoutWithWebDisabled"],queryFn:()=>oe.getUserIsInSearchHoldoutWithWebDisabled().catch(t=>{throw t}),select:t=>({userIsInSearchHoldoutWithWebDisabled:t?.user_is_in_search_holdout_with_web_disabled??!1})})}const Ue={aboutUserMessage:void 0,aboutModelMessage:void 0,nameUserMessage:void 0,roleUserMessage:void 0,traitsModelMessage:void 0,otherUserMessage:void 0,disabledTools:void 0,enabled:void 0};function lt({isModalOpen:t}){const s=re(),o=Le(),l=ms(),[g,c]=h.useState(!1),{isLoading:d,data:S}=Fs(t),{aboutUserMessage:x="",aboutModelMessage:M="",nameUserMessage:u="",roleUserMessage:m="",traitsModelMessage:p="",otherUserMessage:f="",disabledTools:b=[],enabled:P}=S??{},[H,C]=h.useState(Ue),{aboutUserMessage:k,aboutModelMessage:j,nameUserMessage:w,roleUserMessage:N,traitsModelMessage:I,otherUserMessage:D,disabledTools:R,enabled:y}=H,T=y??!!P,[z,le]=h.useState(null),Y=h.useCallback(()=>{hs.closeModal(xs.UserContext),C(Ue),le(null)},[]),{isPending:V,mutate:fe}=zs({onSuccess:()=>{Y()},onError:n=>(n.response?.reason==="content_policy"&&n.response?.field?le(n.response?.field):o.danger(s.formatMessage({id:"userContextModal.saveError",defaultMessage:"Failed to update settings"})),n)}),[pe,be]=h.useState(!1),[Q,We]=h.useState(!1),[ie,Ge]=h.useState([]),$=[k,j,w,N,I,D].some(n=>ae(n??"")),X=[{local:j,server:M},{local:k,server:x},{local:w,server:u},{local:N,server:m},{local:I,server:p},{local:D,server:f}].some(({local:n,server:a})=>n!==void 0&&n!==a)||R!==void 0&&!Xe(R,b)||y!==void 0&&y!==P,Z=h.useCallback(()=>{G.logEvent("chatgpt_user_context_cancel_clicked"),B.logEvent(A.userContextCancelClicked),X?be(!0):Y()},[Y,X]),Se=h.useCallback(async()=>{if(!V){le(null);const n={aboutUserMessage:k??"",aboutModelMessage:j??"",nameUserMessage:w??"",roleUserMessage:N??"",traitsModelMessage:I??"",otherUserMessage:D??"",disabledTools:R??[],enabled:!!y},a={name:u,role:m,traits:p,other:f},ee={name:n.nameUserMessage,role:n.roleUserMessage,traits:n.traitsModelMessage,other:n.otherUserMessage,traitPillsSelected:ie};B.logEvent(A.userContextSaveCustomizeChatGPT,{previousState:a,newState:ee}),G.logEvent("chatgpt_user_context_save_custom_instructions",void 0,{previousState:JSON.stringify(a),newState:JSON.stringify(ee)}),fe({userContext:n})}},[V,j,k,w,N,I,D,R,y,ie,u,m,p,f,fe]),E=h.useCallback(()=>{if($){const n=ae(k??""),a=ae(j??"");n&&(G.logEvent("chatgpt_user_context_modal__message_past_limit",void 0,{type:"about_user_message",limit:O.toString(),character_length:k?.length.toString()??""}),B.logEvent(A.userContextModelMessagePastLimit,{type:"about_user_message",limit:O.toString(),character_length:k?.length.toString()??""})),a&&(G.logEvent("chatgpt_user_context_modal__message_past_limit",void 0,{type:"about_model_message",limit:O.toString(),character_length:j?.length.toString()??""}),B.logEvent(A.userContextModelMessagePastLimit,{type:"about_model_message",limit:O.toString(),character_length:j?.length.toString()??""})),o.danger(s.formatMessage(i.messageLimitError,{limit:O}),{duration:4,hasCloseButton:!0});return}Se()},[s,$,j,k,Se,o]),{value:qe}=Ze("809056127"),{layer:Ke}=Je("3206655705"),Ye=qe&&Ke.get("enable_new_ux",!0),J=h.useRef(null),[ye,Ve]=h.useState(0),[Qe,$e]=h.useState(!0);if(h.useEffect(()=>{const n=setTimeout(()=>{$e(!1)},1e3),a=setInterval(()=>{Ve(ee=>(ee+1)%ue.length)},5500);return()=>{clearInterval(a),clearTimeout(n)}},[]),h.useEffect(()=>{Q&&J.current&&J.current.scrollIntoView({behavior:"smooth",block:"start"})},[Q,J]),t&&!pe&&Ye)return e.jsxs(te,{isOpen:t,onClose:Z,type:"success",size:"custom",className:"max-w-xl",title:e.jsx(r,{...i.profileTitle}),description:e.jsxs("div",{className:"flex flex-row items-center text-token-text-secondary",children:[e.jsx("div",{className:"mr-1",children:e.jsx(r,{...i.profileSubtitle})}),e.jsx(ce,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mb-2 mt-2 text-sm font-normal",children:e.jsx(r,{...i.profileSubtitleTooltip,values:{link:n=>e.jsx(ds,{className:"underline",target:"_blank",rel:"noreferrer",to:i.profileSubtitleTooltip.link??"",children:n})}})}),icon:e.jsx(Ms,{className:"h-4 w-4 text-token-text-tertiary"})})]}),children:[d?e.jsx("div",{className:"flex h-14 items-center justify-center",children:e.jsx(ge,{})}):e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto md:max-h-[calc(100vh-300px)]",children:[e.jsx("p",{className:"text-muted py-2 text-sm font-medium",children:e.jsx(r,{...i.customizeName})}),e.jsx(F,{className:"mb-3",onSubmit:E,disabled:!T,hasModError:z==="name_user_message",value:w??u,placeholder:s.formatMessage(i.customizeNamePlaceholder),onChange:n=>C(a=>({aboutModelMessage:a.aboutModelMessage??M,aboutUserMessage:a.aboutUserMessage??x,nameUserMessage:n.target.value,roleUserMessage:a.roleUserMessage??m,traitsModelMessage:a.traitsModelMessage??p,otherUserMessage:a.otherUserMessage??f,enabled:a.enabled??T,disabledTools:a.disabledTools??b})),size:"sm",showCharacterCount:!1}),e.jsx("p",{className:"text-muted py-2 text-sm font-medium text-token-text-primary",children:e.jsx(r,{...i.customizeRole})}),e.jsxs("div",{className:"relative mb-3 overflow-hidden",children:[!(N??m)&&e.jsx(Be,{mode:"wait",children:e.jsx(Ae.span,{variants:Qs,initial:Qe?!1:"initial",animate:"animate",exit:"exit",className:"pointer-events-none absolute left-[0.81rem] top-[0.55rem] text-sm text-gray-400",children:s.formatMessage(Vs[ue[ye]])},ue[ye])}),e.jsx(F,{onSubmit:E,disabled:!T,hasModError:z==="role_user_message",value:N??m,placeholder:"",onChange:n=>C(a=>({...a,roleUserMessage:n.target.value||"",aboutUserMessage:a.aboutUserMessage??x,aboutModelMessage:a.aboutModelMessage??M,nameUserMessage:a.nameUserMessage??u,traitsModelMessage:a.traitsModelMessage??p,otherUserMessage:a.otherUserMessage??f,disabledTools:a.disabledTools??b,enabled:a.enabled??T})),size:"sm",showCharacterCount:!1})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-muted mr-1 py-2 text-sm font-medium text-token-text-primary",children:e.jsx(r,{...i.customizeTraits})}),e.jsx(ce,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mb-[6px] mt-3 text-sm font-medium",children:e.jsx(r,{...i.traitsTooltipTitle})}),secondaryLabel:e.jsxs("ul",{className:"text-muted mx-2 mb-3 list-disc justify-start space-y-[6px] pl-5 text-sm text-token-text-primary",children:[e.jsx("li",{children:e.jsx(r,{...i.traitsTooltipBodyItem1})}),e.jsx("li",{children:e.jsx(r,{...i.traitsTooltipBodyItem2})}),e.jsx("li",{children:e.jsx(r,{...i.traitsTooltipBodyItem3})})]})})]}),e.jsx(F,{onSubmit:E,disabled:!T,hasModError:z==="traits_model_message",value:I??p,placeholder:s.formatMessage(i.customizeTraitsPlaceholder),onChange:n=>C(a=>({aboutUserMessage:"",aboutModelMessage:"",nameUserMessage:a.nameUserMessage??u,roleUserMessage:a.roleUserMessage??m,traitsModelMessage:n.target.value,otherUserMessage:a.otherUserMessage??f,enabled:a.enabled??T,disabledTools:a.disabledTools??b})),size:"md",showCharacterCount:!1,isNewCustomInstructionsUIEnabled:!0}),e.jsx("div",{className:"mb-4",children:e.jsx(qs,{onSelect:n=>{C(a=>({...a,traitsModelMessage:`${a.traitsModelMessage??p} ${n}`.trim(),aboutUserMessage:"",aboutModelMessage:"",nameUserMessage:a.nameUserMessage??u,roleUserMessage:a.roleUserMessage??m,otherUserMessage:a.otherUserMessage??f,disabledTools:a.disabledTools??b,enabled:a.enabled??T}))},selectedTraits:ie,setSelectedTraits:Ge})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-muted mr-1 py-2 text-sm font-medium text-token-text-primary",children:e.jsx(r,{...i.customizeOther})}),e.jsx(ce,{primaryLabel:e.jsx("div",{className:"text-muted mx-3 mb-2 mt-3 text-sm font-medium",children:e.jsx(r,{...i.otherTooltipTitle})}),secondaryLabel:e.jsxs("ul",{className:"text-muted mx-2 mb-3 list-disc justify-start space-y-[6px] pl-5 text-sm text-token-text-primary",children:[e.jsx("li",{children:e.jsx(r,{...i.otherTooltipBodyItem1})}),e.jsx("li",{children:e.jsx(r,{...i.otherTooltipBodyItem2})}),e.jsx("li",{children:e.jsx(r,{...i.otherTooltipBodyItem3})})]})})]}),e.jsx(F,{onSubmit:E,disabled:!T,hasModError:z==="other_user_message",value:D??f,placeholder:s.formatMessage(i.customizeOtherPlaceholder),onChange:n=>C(a=>({aboutUserMessage:"",aboutModelMessage:"",nameUserMessage:a.nameUserMessage??u,roleUserMessage:a.roleUserMessage??m,traitsModelMessage:a.traitsModelMessage??p,otherUserMessage:n.target.value,enabled:a.enabled??T,disabledTools:a.disabledTools??b})),size:"md",showCharacterCount:!1,isNewCustomInstructionsUIEnabled:!0}),e.jsxs("div",{className:"mt-3 pb-8",ref:J,children:[e.jsxs("button",{onClick:()=>We(n=>!n),className:"text-muted flex items-center justify-between py-2 text-sm font-medium text-token-text-primary",children:[e.jsx(r,{...i.advanced}),Q?e.jsx(fs,{className:"ml-1 h-5 w-5"}):e.jsx(ps,{className:"ml-1 h-5 w-5"})]}),Q&&e.jsx("div",{className:"mt-2",children:e.jsx(_e,{disabledTools:H.disabledTools??b??[],onDisabledToolsChanged:n=>C(a=>({aboutUserMessage:"",aboutModelMessage:"",nameUserMessage:a.nameUserMessage??u,roleUserMessage:a.roleUserMessage??m,traitsModelMessage:a.traitsModelMessage??p,otherUserMessage:a.otherUserMessage??f,enabled:a.enabled??T,disabledTools:n})),isNewCustomInstructionsUIEnabled:!0})})]})]}),e.jsx("div",{className:"-ml-6 -mr-6 border-t",children:e.jsxs("div",{className:"ml-6 mr-6 flex flex-grow flex-col items-stretch justify-between gap-0 pb-1 pt-2 sm:flex-row sm:items-center sm:gap-3",children:[e.jsxs("label",{className:"mt-5 flex cursor-pointer flex-row justify-between gap-2 sm:mt-4",children:[e.jsx(ke,{enabled:T,onChange:n=>{C(a=>({aboutUserMessage:"",aboutModelMessage:"",nameUserMessage:a.nameUserMessage??u,roleUserMessage:a.roleUserMessage??m,traitsModelMessage:a.traitsModelMessage??p,otherUserMessage:a.otherUserMessage??f,enabled:n,disabledTools:a.disabledTools??b}))},label:T?s.formatMessage(i.disableToggleLabel):s.formatMessage(i.enableToggleLabel)}),e.jsx("div",{className:"self-center text-sm text-token-text-primary",children:e.jsx(r,{...i.chatPreferencesEnable})})]}),e.jsx(L.Actions,{secondaryButton:e.jsx(L.Button,{onClick:Z,children:e.jsx(r,{...i.cancel})}),primaryButton:e.jsx(L.Button,{loading:V,onClick:E,color:"primary",visuallyDisabled:$,disabled:!X,children:e.jsx(r,{...i.save})})})]})})]},"user-context");if(t&&l&&!g)return e.jsx(bs,{onClose:()=>{c(!0)}});if(t&&pe){const n=()=>{be(!1),G.logEvent("chatgpt_user_context_confirm_close_clicked"),B.logEvent(A.userContextConfirmCloseClicked)};return e.jsx(te,{isOpen:!0,onClose:n,type:"success",title:s.formatMessage(i.confirmCloseTitle),primaryButton:e.jsx(L.Button,{title:s.formatMessage(i.confirmCloseOk),color:"danger",onClick:()=>{Y(),n()}}),secondaryButton:e.jsx(L.Button,{title:s.formatMessage(i.confirmCloseCancel),color:"secondary",onClick:n}),children:e.jsx("div",{className:"text-sm",children:e.jsx(r,{...i.confirmCloseBody})})},"confirm-close")}return e.jsxs(te,{isOpen:t,onClose:Z,type:"success",size:"custom",className:"max-w-lg xl:max-w-xl",title:e.jsx(r,{...i.profileTitle}),children:[d?e.jsx("div",{className:"flex h-14 items-center justify-center",children:e.jsx(ge,{})}):e.jsxs("div",{className:"max-h-[60vh] overflow-y-auto md:max-h-[calc(100vh-300px)]",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"text-sm font-semibold",children:e.jsx(r,{...i.customInstructionsTitle})}),e.jsx(Re,{label:e.jsx(r,{...i.customInstructionsTooltip,values:{article:n=>e.jsx("a",{href:Ss,target:"_blank",className:"underline",rel:"noreferrer",children:n})}})})]}),e.jsx("p",{className:"text-muted pb-3 pt-2 text-sm text-token-text-primary",children:e.jsx(r,{...i.aboutYouHelpText})}),e.jsx(F,{className:"mb-3",onSubmit:E,disabled:!T,tip:e.jsx(Pe,{children:e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:e.jsx(r,{...i.aboutUserTip1})}),e.jsx("li",{children:e.jsx(r,{...i.aboutUserTip2})}),e.jsx("li",{children:e.jsx(r,{...i.aboutUserTip3})}),e.jsx("li",{children:e.jsx(r,{...i.aboutUserTip4})}),e.jsx("li",{children:e.jsx(r,{...i.aboutUserTip5})})]})}),hasModError:z==="about_user_message",value:k??x,onChange:n=>C(a=>({aboutModelMessage:a.aboutModelMessage??M,aboutUserMessage:n.target.value,nameUserMessage:"",roleUserMessage:"",traitsModelMessage:"",otherUserMessage:"",enabled:a.enabled??T,disabledTools:a.disabledTools??b}))}),e.jsx("p",{className:"text-muted py-3 text-sm text-token-text-primary",children:e.jsx(r,{...i.modelHelpText})}),e.jsx(F,{onSubmit:E,disabled:!T,tip:e.jsx(Pe,{children:e.jsxs("ul",{className:"list-disc pl-5",children:[e.jsx("li",{children:e.jsx(r,{...i.modelTip1})}),e.jsx("li",{children:e.jsx(r,{...i.modelTip2})}),e.jsx("li",{children:e.jsx(r,{...i.modelTip3})}),e.jsx("li",{children:e.jsx(r,{...i.modelTip4})})]})}),hasModError:z==="about_model_message",value:j??M,onChange:n=>C(a=>({aboutUserMessage:a.aboutUserMessage??x,aboutModelMessage:n.target.value,nameUserMessage:"",roleUserMessage:"",traitsModelMessage:"",otherUserMessage:"",enabled:a.enabled??T,disabledTools:a.disabledTools??b}))}),e.jsx("div",{className:"my-6 h-px bg-token-border-light"}),e.jsx(_e,{disabledTools:H.disabledTools??b??[],onDisabledToolsChanged:n=>C(a=>({aboutUserMessage:a.aboutUserMessage??x,aboutModelMessage:a.aboutModelMessage??M,nameUserMessage:"",roleUserMessage:"",traitsModelMessage:"",otherUserMessage:"",enabled:a.enabled??T,disabledTools:n}))})]}),e.jsx("div",{className:"mt-4 md:mt-5",children:e.jsxs("div",{className:"flex flex-grow flex-col items-stretch justify-between gap-0 sm:flex-row sm:items-center sm:gap-3",children:[e.jsxs("label",{className:"mt-5 flex cursor-pointer flex-row justify-between gap-2 sm:mt-4",children:[e.jsx("div",{className:"self-center text-sm text-token-text-primary",children:e.jsx(r,{...i.chatPreferencesEnable})}),e.jsx(ke,{enabled:T,onChange:n=>{C(a=>({aboutUserMessage:a.aboutUserMessage??x,aboutModelMessage:a.aboutModelMessage??M,nameUserMessage:"",roleUserMessage:"",traitsModelMessage:"",otherUserMessage:"",enabled:n,disabledTools:a.disabledTools??b}))},label:T?s.formatMessage(i.disableToggleLabel):s.formatMessage(i.enableToggleLabel)})]}),e.jsx(L.Actions,{secondaryButton:e.jsx(L.Button,{onClick:Z,children:e.jsx(r,{...i.cancel})}),primaryButton:e.jsx(L.Button,{loading:V,onClick:E,color:"primary",visuallyDisabled:$,disabled:!X,children:e.jsx(r,{...i.save})})})]})})]},"user-context")}function Gs(){return Me({queryKey:["traitPills"],queryFn:async()=>{try{const t=await oe.getTraitPills();return t?Array.isArray(t)?t:[]:[]}catch{return[...Ks.map(s=>({key:s,label:s,description:He[s]?.defaultMessage||""})),...Ys.map(s=>({key:s,label:s,description:He[s]?.defaultMessage||""}))]}},select:t=>{const s=Math.ceil(t.length/2-1);return{firstSet:t.slice(0,s),secondSet:t.slice(s)}}})}const qs=({onSelect:t,selectedTraits:s,setSelectedTraits:o})=>{const{data:l,isLoading:g}=Gs(),[c,d]=h.useState(!0);if(g)return e.jsx(ge,{});if(!l)return null;const S=c?l.firstSet:l.secondSet,x=u=>{s.includes(u.key)||(o(m=>[...m,u.key]),t(u.description))},M=()=>{o([]),d(u=>!u)};return e.jsx("div",{children:e.jsxs("div",{className:"mt-2 flex flex-wrap gap-x-1 gap-y-2",children:[S.map(u=>!s.includes(u.key)&&e.jsxs(Ce,{size:"small",color:"secondary",className:"py-2 pl-2 pr-3 text-xs font-normal text-token-text-secondary",onClick:()=>x(u),children:[e.jsx(ys,{className:"mr-[1px] h-4 w-4"}),u.label]},u.key)),e.jsx(Ce,{size:"small",color:"secondary",className:"text-token-text-secondary",onClick:M,children:e.jsx(Cs,{className:"-mx-1 h-4 w-4"})})]})})},Pe=({children:t})=>e.jsx("div",{className:"whitespace-pre-line",children:t}),O=1500,ae=t=>t.length>O,F=({disabled:t,onChange:s,onSubmit:o,placeholder:l,value:g,tip:c,hasModError:d,className:S,size:x="md",showCharacterCount:M=!0,isNewCustomInstructionsUIEnabled:u=!1})=>{const m=re(),p=h.useRef(null),f=es(),b=ss(),P=!f,[H,C]=h.useState(!1),[k,j]=h.useState(P),w=!P&&H&&!k,N=P&&!k,I=ae(g),D=y=>{y.nativeEvent.isComposing||!t&&y.key==="Enter"&&y.metaKey&&!y.shiftKey&&!y.nativeEvent.isComposing&&(y.preventDefault(),o())},R=h.useRef(null);return e.jsxs(e.Fragment,{children:[c&&e.jsx(te,{isOpen:N,type:"success",size:"custom",className:"max-w-lg",title:m.formatMessage(i.tipsHeader),showCloseButton:!0,onClose:()=>{j(!0)},children:c}),e.jsxs(Ts,{open:w,children:[e.jsxs("div",{className:S,ref:R,children:[e.jsx(js,{asChild:!0,children:e.jsx("textarea",{ref:p,className:K("w-full resize-none bg-token-main-surface-primary",{"rounded p-4":x!=="sm"&&!u,"rounded-lg border text-sm":x==="sm"||u,"border-orange-400 focus:border-orange-400":d,"border-red-500 focus:border-red-500":I&&!d,"focus-token-border-heavy border-token-border-light":!I&&!d,"opacity-30":t,"placeholder:text-gray-400":x==="sm"||u,"placeholder:text-gray-300":!u}),disabled:t,placeholder:l,onKeyDown:D,rows:x==="sm"?1:f&&!b?6:5,value:g,onChange:s,onBlur:()=>{C(!1)},onFocus:()=>{C(!0)}})}),e.jsx("div",{className:K("flex items-center justify-between px-1 text-xs tabular-nums",I?"text-red-600":"text-token-text-tertiary"),children:d?e.jsx("div",{className:"visible mt-2 text-left text-xs text-orange-400",children:e.jsx(r,{...i.modApiVoilation,values:{policyLink:y=>e.jsx("a",{href:"https://platform.openai.com/docs/usage-policies/content-policy",className:"underline",target:"_blank",rel:"noreferrer",children:y}),feedbackLink:y=>e.jsx("a",{href:"https://forms.gle/3gyAMj5r5rTEcgbs5",className:"underline",target:"_blank",rel:"noreferrer",children:y})}})}):e.jsxs(e.Fragment,{children:[M&&e.jsx("div",{children:`${g.length}/${O}`}),c&&e.jsx("button",{className:"flex items-center gap-1",onClick:()=>{p.current?.focus(),j(!k)},tabIndex:-1,children:e.jsx(Be,{initial:!1,children:H&&e.jsx(Ae.div,{className:"flex items-center gap-1",initial:{opacity:0},animate:{opacity:1,transition:{duration:.2,ease:"easeIn"}},exit:{opacity:0,transition:{duration:.2,ease:"easeIn"}},children:k?e.jsxs(e.Fragment,{children:[e.jsx(r,{...i.showTips}),e.jsx(vs,{className:"icon-xs"})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{...i.hideTips}),e.jsx(ts,{className:"icon-xs"})]})},"show-hide")})})]})})]}),c&&e.jsx(ks,{container:R.current?.ownerDocument.body,children:e.jsx(ws,{side:"right",align:"start",sideOffset:12,className:"popover relative z-50 max-w-[220px] animate-slideLeftAndFade select-none rounded-xl border border-token-border-light bg-token-main-surface-primary p-4 text-sm text-token-text-primary shadow-[0px_4px_14px_rgba(0,0,0,0.06)] xl:max-w-xs",onOpenAutoFocus:y=>{y.preventDefault()},onCloseAutoFocus:y=>{y.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("strong",{children:e.jsx(r,{...i.tipsHeader})}),c]})})})]})]})};function ce({primaryLabel:t,secondaryLabel:s,side:o="top",icon:l=e.jsx(De,{className:"h-4 w-4 text-token-text-tertiary"})}){return e.jsx(he,{sideOffset:4,interactive:!0,label:e.jsx("div",{children:t}),secondaryLabel:e.jsx("div",{children:s}),side:o,delayDuration:0,theme:"primary",customPrimaryLabelColorStyle:"primary",customPaddingClassName:"p-2",customBorderClassName:"border border-token-border-light",labelTextAlign:"left",children:l})}function Re({label:t,side:s="bottom"}){return e.jsx(he,{sideOffset:4,interactive:!0,label:e.jsx("div",{children:t}),side:s,children:e.jsx(De,{className:"h-4 w-4 text-token-text-tertiary"})})}function _e({disabledTools:t,onDisabledToolsChanged:s,isNewCustomInstructionsUIEnabled:o=!1}){h.useEffect(()=>{B.logEvent(A.userContextGpt4CapabilitiesShown)},[]);const g=as()?.isEnterprisey()??!1,c=!Te(se.BrowsingAvailable)&&g,d=m=>{const p=t.includes(m)?t.filter(f=>f!==m):[...t,m];s(p)},S=os(),{value:x}=q("2044826081"),M=!Te(se.Canvas)&&g;var u;return S?.includes(se.SearchTool)&&!S?.includes(se.SearchToolHoldout)?u=e.jsx(W,{title:e.jsx(r,{id:"userContextModal.tools.web",defaultMessage:"Web Search"}),tooltipLabel:c?e.jsx(r,{id:"Osf0vy",defaultMessage:"Web Search is disabled by your organization"}):e.jsx(r,{id:"userContexModal.tools.webSearchTooltip",defaultMessage:"Automatically search the web to get answers"}),tool:U.BROWSER,onClick:d,Icon:we,checked:!t.includes(U.BROWSER)&&!c,disabled:c,isNewCustomInstructionsUIEnabled:o}):u=e.jsx(W,{title:e.jsx(r,{id:"userContextModal.tools.browse",defaultMessage:"Browsing"}),tooltipLabel:c?e.jsx(r,{id:"5SuA2c",defaultMessage:"Browsing is disabled by your organization"}):e.jsx(r,{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"}),tool:U.BROWSER,onClick:d,Icon:we,checked:!t.includes(U.BROWSER)&&!c,disabled:c,isNewCustomInstructionsUIEnabled:o}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:K("text-sm",{"text-muted font-medium":o,"font-semibold":!o}),children:e.jsx(r,{id:"userContextModal.gpt4CapabilitiesTitle",defaultMessage:"ChatGPT capabilities"})}),e.jsx(Re,{label:e.jsx(r,{id:"userContextModal.tools.capabilitiesInfo.1",defaultMessage:"Choose which tools can be used with GPT-4"}),side:"top"})]}),e.jsxs("div",{className:"mt-2 flex flex-col flex-wrap gap-3 md:flex-row",children:[u,e.jsx(W,{title:e.jsx(r,{id:"userContextModal.tools.dalle",defaultMessage:"DALL·E"}),tooltipLabel:e.jsx(r,{id:"userContextModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL·E"}),tool:U.DALLE,onClick:d,Icon:Us,checked:!t.includes(U.DALLE),isNewCustomInstructionsUIEnabled:o}),e.jsx(W,{title:e.jsx(r,{id:"userContextModal.tools.codeInterpreter.1",defaultMessage:"Code"}),tooltipLabel:e.jsx(r,{id:"userContextModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"}),tool:U.PYTHON,onClick:d,Icon:Ps,checked:!t.includes(U.PYTHON),isNewCustomInstructionsUIEnabled:o}),x&&!M&&e.jsx(W,{title:e.jsx(r,{id:"FW2C7Y",defaultMessage:"Canvas"}),tooltipLabel:e.jsx(r,{id:"dP6U4B",defaultMessage:"Collaborate with ChatGPT on text and code"}),tool:U.CANMORE,onClick:d,Icon:_s,checked:!t.includes(U.CANMORE),isNewCustomInstructionsUIEnabled:o}),e.jsx(W,{title:e.jsx(r,{id:"yaclI7",defaultMessage:"Advanced Voice"}),tooltipLabel:e.jsx(r,{id:"Pd4tO1",defaultMessage:"More natural conversations in voice mode"}),tool:U.ADVANCED_VOICE,onClick:d,Icon:Hs,checked:!t.includes(U.ADVANCED_VOICE),isNewCustomInstructionsUIEnabled:o})]})]})}function W({tool:t,title:s,tooltipLabel:o,Icon:l,onClick:g,checked:c,disabled:d,isNewCustomInstructionsUIEnabled:S=!1}){return e.jsx(he,{className:"block",label:o,side:"top",sideOffset:4,children:e.jsxs("button",{className:K("flex w-full items-center justify-between gap-2 whitespace-nowrap rounded border border-token-border-medium p-2",{"cursor-not-allowed text-token-text-quaternary":d}),onClick:()=>g(t),disabled:d,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4 text-token-text-tertiary"}),e.jsx("div",{className:K("text-sm",S?"text-muted font-medium":"font-semibold"),children:s})]}),e.jsx(Ns,{id:t,checked:c&&!d,disabled:d})]})})}const i=xe({tipsHeader:{id:"userContextModal.tipsHeader",defaultMessage:"Thought starters"},aboutUserTip1:{id:"userContextModal.aboutUserTip1",defaultMessage:"Where are you based?"},aboutUserTip2:{id:"userContextModal.aboutUserTip2",defaultMessage:"What do you do for work?"},aboutUserTip3:{id:"userContextModal.aboutUserTip3",defaultMessage:"What are your hobbies and interests?"},aboutUserTip4:{id:"userContextModal.aboutUserTip4",defaultMessage:"What subjects can you talk about for hours?"},aboutUserTip5:{id:"userContextModal.aboutUserTip5",defaultMessage:"What are some goals you have?"},modelTip1:{id:"userContextModal.modelTip1",defaultMessage:"How formal or casual should ChatGPT be?"},modelTip2:{id:"userContextModal.modelTip2",defaultMessage:"How long or short should responses generally be?"},modelTip3:{id:"userContextModal.modelTip3",defaultMessage:"How do you want to be addressed?"},modelTip4:{id:"userContextModal.modelTip4",defaultMessage:"Should ChatGPT have opinions on topics or remain neutral?"},save:{id:"userContextModal.save",defaultMessage:"Save"},chatPreferencesEnable:{id:"userContextModal.chatPreferencesEnable",defaultMessage:"Enable for new chats"},enableToggleLabel:{id:"userContextModal.enableToggleLabel",defaultMessage:"Enable chat preferences"},disableToggleLabel:{id:"userContextModal.disableToggleLabel",defaultMessage:"Disable chat preferences"},cancel:{id:"userContextModal.cancel",defaultMessage:"Cancel"},aboutYouHelpText:{id:"userContextModal.aboutYouHelpText",defaultMessage:"What would you like ChatGPT to know about you to provide better responses?"},modelHelpText:{id:"userContextModal.modelHelpText",defaultMessage:"How would you like ChatGPT to respond?"},profileTitle:{id:"userContextModal.title.1",defaultMessage:"Customize ChatGPT"},profileSubtitle:{id:"userContextModal.profileSubtitle",defaultMessage:"Introduce yourself to get better, more personalized responses"},profileSubtitleTooltip:{id:"userContextModal.profileSubtitleTooltip",defaultMessage:"ChatGPT will use the information you provide to tailor its responses to you. <link>Learn more</link> about how we use your data.",link:"https://help.openai.com/en/articles/8096356-custom-instructions-for-chatgpt"},customizeName:{id:"userContextModal.customizeName",defaultMessage:"What should ChatGPT call you?"},customizeNamePlaceholder:{id:"userContextModal.customizeNamePlaceholder",defaultMessage:"Name"},customizeRole:{id:"userContextModal.customizeRole",defaultMessage:"What do you do?"},customizeRolePlaceholder:{id:"userContextModal.customizeRolePlaceholder",defaultMessage:"Engineer, student, etc."},customizeTraits:{id:"userContextModal.customizeTraits",defaultMessage:"What traits should ChatGPT have?"},customizeTraitsPlaceholder:{id:"userContextModal.customizeTraitsPlaceholder",defaultMessage:"Describe or select traits"},customizeOther:{id:"userContextModal.customizeOther",defaultMessage:"Anything else ChatGPT should know about you?"},customizeOtherPlaceholder:{id:"userContextModal.customizeOtherPlaceholder",defaultMessage:"Interests, values, or preferences to keep in mind"},customInstructionsTitle:{id:"userContextModal.customInstructionsTitle",defaultMessage:"Custom Instructions"},customInstructionsTooltip:{id:"userContextModal.customInstructionsTooltip",defaultMessage:"<article>Learn more</article> about Custom Instructions and how they're used to help ChatGPT provide better responses."},traitsTooltipTitle:{id:"userContextModal.traitsTooltipTitle",defaultMessage:"You can tell ChatGPT to do things like..."},traitsTooltipBodyItem1:{id:"userContextModal.traitsTooltipBodyItem1",defaultMessage:"Use a formal, professional tone."},traitsTooltipBodyItem2:{id:"userContextModal.traitsTooltipBodyItem2",defaultMessage:"Be casual and chatty."},traitsTooltipBodyItem3:{id:"userContextModal.traitsTooltipBodyItem3",defaultMessage:"Be opinionated. If a question could have multiple answers, try to give only the best one."},otherTooltipTitle:{id:"userContextModal.otherTooltipTitle",defaultMessage:"You can share things like..."},otherTooltipBodyItem1:{id:"userContextModal.otherTooltipBodyItem1",defaultMessage:"I love hiking and jazz."},otherTooltipBodyItem2:{id:"userContextModal.otherTooltipBodyItem2",defaultMessage:"I'm vegetarian."},otherTooltipBodyItem3:{id:"userContextModal.otherTooltipBodyItem3",defaultMessage:"I'm trying to learn French."},messageLimitError:{id:"userContextModal.messageLimitError",defaultMessage:"Please limit your responses to {limit} characters or less."},showTips:{id:"userContextModal.showTips",defaultMessage:"Show tips"},hideTips:{id:"userContextModal.hideTips",defaultMessage:"Hide tips"},confirmCloseTitle:{id:"userContextModal.confirmCloseTitle",defaultMessage:"You have unsaved changes."},confirmCloseBody:{id:"userContextModal.confirmCloseBody",defaultMessage:"Are you sure you want to exit? Any changes you made will be permanently lost."},confirmCloseCancel:{id:"userContextModal.confirmCloseCancel",defaultMessage:"Back"},confirmCloseOk:{id:"userContextModal.confirmCloseOk",defaultMessage:"Exit"},modApiVoilation:{id:"userContextModal.modApiVoilation",defaultMessage:"This content may violate our <policyLink>content policy</policyLink>. If you believe this to be in error, please <feedbackLink>submit your feedback</feedbackLink> — your input will aid our research in this area."},browser:{id:"userContexModal.tools.browserTooltip",defaultMessage:"Browse the internet to find answers"},dalle:{id:"userContexModal.tools.dalleTooltip",defaultMessage:"Generate images using DALL·E"},python:{id:"userContexModal.tools.codeInterpreterTooltip",defaultMessage:"Execute code using Code Interpreter"},advanced:{id:"userContextModal.advanced",defaultMessage:"Advanced"}}),Ks=["Chatty","Witty","Opinionated","StraightShooting","GenZ","Encouraging","Skeptical","ForwardThinking"],Ys=["Poetic","Respectful","Humble","Professional","Corporate","Direct","Silly","Pragmatic","Chill","OutsideTheBox"],He=xe({Chatty:{id:"userContextModal.chattySentence",defaultMessage:"Be talkative and conversational."},Witty:{id:"userContextModal.wittySentence",defaultMessage:"Use quick and clever humor when appropriate."},StraightShooting:{id:"userContextModal.straightShootingSentence",defaultMessage:"Tell it like it is; don't sugar-coat responses."},Encouraging:{id:"userContextModal.encouragingSentence",defaultMessage:"Use an encouraging tone."},GenZ:{id:"userContextModal.genZSentence",defaultMessage:"Talk like a member of Gen Z."},Skeptical:{id:"userContextModal.skepticalSentence",defaultMessage:"Adopt a skeptical, questioning approach."},ForwardThinking:{id:"userContextModal.forwardThinkingSentence",defaultMessage:"Take a forward-thinking view."},Poetic:{id:"userContextModal.poeticSentence",defaultMessage:"Use a poetic, lyrical tone."},Opinionated:{id:"userContextModal.opinionatedSentence",defaultMessage:"Readily share strong opinions."},Respectful:{id:"userContextModal.respectfulSentence",defaultMessage:"Always be respectful."},Humble:{id:"userContextModal.humbleSentence",defaultMessage:"Be humble when appropriate."},Professional:{id:"userContextModal.professionalSentence",defaultMessage:"Use a formal, professional tone."},Silly:{id:"userContextModal.sillySentence",defaultMessage:"Be playful and goofy."},Direct:{id:"userContextModal.directSentence",defaultMessage:"Get right to the point."},Pragmatic:{id:"userContextModal.pragmaticSentence",defaultMessage:"Be practical above all."},Corporate:{id:"userContextModal.corporateSentence",defaultMessage:"Respond with corporate jargon."},Chill:{id:"userContextModal.chillSentence",defaultMessage:"Keep it relaxed and easygoing."},OutsideTheBox:{id:"userContextModal.outsideTheBoxSentence",defaultMessage:"Be innovative and think outside the box."}}),Vs=xe({engineeringStudent:{id:"userContextModal.rolePlaceholder.engineeringStudent",defaultMessage:"Engineering student at University of Waterloo"},gastroenterologist:{id:"userContextModal.rolePlaceholder.gastroenterologist",defaultMessage:"Gastroenterologist"},sourdoughBaker:{id:"userContextModal.rolePlaceholder.sourdoughBaker",defaultMessage:"Small-batch home sourdough baker"},interiorDesigner:{id:"userContextModal.rolePlaceholder.interiorDesigner",defaultMessage:"Interior designer"},daycareManager:{id:"userContextModal.rolePlaceholder.daycareManager",defaultMessage:"Home daycare manager"},familyLawAttorney:{id:"userContextModal.rolePlaceholder.familyLawAttorney",defaultMessage:"Family law attorney"},excelWizard:{id:"userContextModal.rolePlaceholder.excelWizard",defaultMessage:"Excel wizard"},level10Mage:{id:"userContextModal.rolePlaceholder.level10Mage",defaultMessage:"Level 10 mage"},pharmaSales:{id:"userContextModal.rolePlaceholder.pharmaSales",defaultMessage:"Pharma sales"},freelanceCopywriter:{id:"userContextModal.rolePlaceholder.freelanceCopywriter",defaultMessage:"Freelance copywriter"},weddingPhotographer:{id:"userContextModal.rolePlaceholder.weddingPhotographer",defaultMessage:"Wedding photographer"},catHerder:{id:"userContextModal.rolePlaceholder.catHerder",defaultMessage:"Professional cat herder"},cdlDriver:{id:"userContextModal.rolePlaceholder.cdlDriver",defaultMessage:"CDL driver"},thirdGradeTeacher:{id:"userContextModal.rolePlaceholder.thirdGradeTeacher",defaultMessage:"Third-grade teacher"}}),Qs={initial:{opacity:0,y:8},animate:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:-8,transition:{duration:.2}}},ue=["engineeringStudent","gastroenterologist","sourdoughBaker","interiorDesigner","daycareManager","familyLawAttorney","excelWizard","level10Mage","pharmaSales","freelanceCopywriter","weddingPhotographer","catHerder","cdlDriver","thirdGradeTeacher"];function $s(){const t=Ws();return{userIsInSearchHoldoutWithWebDisabled:t.isLoading?!0:t.data?.userIsInSearchHoldoutWithWebDisabled}}function Xs(t){const s=Is(t);let o=me(t,m=>m?.mode);const l=Es(),g=re(),{getShowUpsellReason:c}=Ls(),d=h.useMemo(()=>{let m=l.isSuccess&&l.data?l.data:void 0;if(c()){const p=Bs(g);if(!m)return p;const f=m;m=[...f,...p.filter(b=>!f.some(P=>P.systemHint===b.systemHint))]}return m??[]},[c,g,l.data,l.isSuccess]),S=As({clientThreadId:t}),{userIsInSearchHoldoutWithWebDisabled:x}=$s(),M=rs();return h.useMemo(()=>Zs({modelConfig:s,userIsInSearchHoldoutWithWebDisabled:x,isTemporaryChatEnabled:M,conversationMode:o,systemHints:d,modelSwitcherDenials:S}),[d,s,S,o,x,M])}function Zs({modelConfig:t,userIsInSearchHoldoutWithWebDisabled:s,isTemporaryChatEnabled:o,conversationMode:l,systemHints:g,modelSwitcherDenials:c}){return Js({modelConfig:t,systemHints:g}).filter(d=>d.systemHint==="search"&&s||!(d.requiredModels.length===0||d.requiredModels.some(M=>!c[M]))||!(d.requiredConversationModes.length===0||d.requiredConversationModes.some(M=>M===l?.kind))?!1:d.systemHint===v.Research?!o&&l?.kind===ls.PrimaryAssistant:!0)}function Js({modelConfig:t,systemHints:s}){const o=new Set(t?.enabledTools||[]);return s.filter(l=>l.requiredFeatures.length===0||l.requiredFeatures.every(c=>o.has(c))?l.systemHint==="contextual_answers"&&t?l.requiredModels?.includes(t.id):!0:!1)}const Oe="persistedSystemHintsSessionState",Ne=[v.Search,v.Think];function ze(){const t=sessionStorage.getItem(Oe);return t?JSON.parse(t):null}function Fe(t){sessionStorage.setItem(Oe,JSON.stringify(t))}function Ie(t,s){const o=ze()??{};o[t]=s,Fe(o)}function et(){Fe({})}class _ extends is()(s=>({persistedSystemHints:new Set(s),persistedSystemHintTriggers:{}})){static getPersistedSystemHints=({persistedSystemHints:s})=>s;addPersistedSystemHint=(s,o,l,g)=>{s===v.Search&&B.logEventWithStatsig(A.searchModeEngaged,"search_mode_engaged",{...je(o),triggerSource:g}),this.setState(({persistedSystemHints:c,persistedSystemHintTriggers:d})=>({persistedSystemHints:new Set(c).add(s),persistedSystemHintTriggers:{...d,[s]:g}})),l&&Ne.includes(s)&&Ie(s,!0)};removePersistedSystemHint=(s,o,l)=>{s===v.Search&&B.logEventWithStatsig(A.searchModeDisabled,"search_mode_disabled",je(o)),this.setState(({persistedSystemHints:g,persistedSystemHintTriggers:c})=>{const d=new Set(g);d.delete(s);const S={...c};return delete S[s],{persistedSystemHints:d,persistedSystemHintTriggers:S}}),l&&Ne.includes(s)&&Ie(s,!1)};getPersistedSystemHintTrigger=s=>{if(this.getState().persistedSystemHints.has(s))return this.getState().persistedSystemHintTriggers[s]};clearPersistedSystemHintTrigger=s=>{this.setState(({persistedSystemHints:o,persistedSystemHintTriggers:l})=>{const g={...l};delete g[s];const c=new Set(o);return c.delete(s),{persistedSystemHints:c,persistedSystemHintTriggers:g}})};clearAllPersistedSystemHintTriggers=s=>{this.setState(()=>({persistedSystemHints:new Set,persistedSystemHintTriggers:{}})),s&&et()}}const it=()=>_.useState(_.getPersistedSystemHints);function Ee(t,s){const o=[];return t&&o.push(v.Search),s&&o.push(v.Think),o}function nt({children:t,clientThreadId:s}){const[o]=gs(),l=o.get(Ds)===v.Search,g=me(s,w=>ve.getGizmoId(w)),c=Rs(s),d=Os(c,ns.Search),x=Xs(s).find(w=>w.systemHint===v.Think),{value:M}=q("3780975974"),{value:u}=q("759329447"),{value:m}=q("2800342425"),p=me(s,ve.getLastMessageSystemHints),f=(p.includes(v.Search)||l)&&d,b=!!(u&&x&&p.includes(v.Think));let P=ze()??{};const H=!!(d&&P[v.Search]),C=!!(u&&x&&P[v.Think]);let k=Ee(f,b);m&&(k=Ee(f||H,b||C));const[j]=h.useState(()=>new _(k));return h.useEffect(()=>{const w=j.getState().persistedSystemHints;(f||m&&H&&!g)&&!w.has(v.Search)&&j?.addPersistedSystemHint(v.Search,{clientThreadId:s,turnIndex:0}),(b||m&&C&&!g)&&!w.has(v.Think)&&M&&j?.addPersistedSystemHint(v.Think,{clientThreadId:s,turnIndex:0})},[f,b,M,j,s,m,H,C,g]),e.jsx(_.Provider,{store:j,children:t})}const st="prompt-textarea";function dt(){document.getElementById(st)?.focus()}const ct={getAndReset:(t,s)=>{const o=ne.getItem(de.RestoreMessageAfterOauthRedirect);return ne.removeItem(de.RestoreMessageAfterOauthRedirect),!o||o.userId!==t||s!==o.serverThreadId||Date.now()>o.expiresAt?null:o},set:(t,s,o)=>{const l={userId:t,serverThreadId:s,inputText:o,expiresAt:Date.now()+6e4};ne.setItem(de.RestoreMessageAfterOauthRedirect,l)}},ut=()=>_.useState(_.getPersistedSystemHints).has(v.Search),gt=()=>_.useState(_.getPersistedSystemHints),mt=t=>_.useState(_.getPersistedSystemHints).has(t),ht=()=>{const t=_.useStore(),{value:s}=q("2800342425"),o=h.useCallback(d=>t.getPersistedSystemHintTrigger(d),[t]),l=h.useCallback(d=>t.clearPersistedSystemHintTrigger(d),[t]),g=h.useCallback(()=>t.clearAllPersistedSystemHintTriggers(s),[t,s]),c=h.useCallback((d,S,x,M)=>{(S?t.addPersistedSystemHint:t.removePersistedSystemHint)(d,x,s,M)},[t,s]);return{getSystemHintModeTrigger:o,clearSystemHintModeTrigger:l,setThreadSystemHintMode:c,clearAllSystemHintModeTriggers:g}},xt=(t,s,o,l)=>t?"file_upload_pending":l?"async_task_pending":s?o?"text_content_too_long":void 0:"empty_text_content",tt=t=>t.replace(/[\u{E0000}-\u{E007F}]+/gu,""),Mt=t=>{const s=tt(t.getContentToSend().content);return Math.ceil(s.length/4)};function ft(t,s){return t?s===void 0?!0:s.includes(t):!1}export{nt as P,st as T,lt as U,it as a,ht as b,$s as c,mt as d,_ as e,ut as f,Js as g,Xs as h,Mt as i,ct as j,ft as k,xt as l,Fs as m,tt as s,dt as t,gt as u};
//# sourceMappingURL=mptd6395vqovl9h2.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/euy5ir2atrzt843j.js","assets/mwlpozqwnbys03vp.js","assets/cg166fqqcxkeiosv.js","assets/root-0muf4psh.css","assets/d5k5wa3zyqlgc9bk.js","assets/conversation-small-ga20ijz2.css","assets/jy4i00j5o6ygxag5.js","assets/mxrazhsns80qum0b.js","assets/fhbt0hb4dr6nwu5g.js","assets/ln63rgwwibfqw7gf.js","assets/ab1i3e5u9s60jq3r.js","assets/d5t7ptl4pl8mo0z0.js","assets/kov0p7sh15118kx7.js","assets/gjup1pnw4u9rwx39.js","assets/mptd6395vqovl9h2.js","assets/lreb9dbp4o4sdhlz.js","assets/kb4dwh5v3nuso8nd.js","assets/ehrl4h7p8z26p31l.js","assets/n3iim2qmr2vkzcs3.js","assets/e1m5yy2rip1joy56.js","assets/gnony0vwtktparkr.js","assets/kv6ufg5o3s8p0dme.js","assets/ghzr670qk954gg66.js","assets/gsblme0rorv0prf4.js","assets/mwg1bia5luujsxxb.js","assets/lyxz8i5c4a3y7iew.js","assets/mkblidk2favziv5s.js","assets/h9b0sydnyfwx9msy.js","assets/oxip50nz1ohggehf.js","assets/f9ed4qokx92gm8gq.js","assets/bcgu844kz5rwd68s.js","assets/da6xxj5s8kso3sn0.js","assets/haa7pfckskryd1v7.js","assets/dig226cgglpgd89v.js","assets/kfhnc59brape5myz.js","assets/hqwebsyjvddajlyt.js","assets/gc1o5lav8r7wqx5g.js"])))=>i.map(i=>d[i]);
import{fw as $,S as V,P as L,a as R,cN as Z,u as ee,dU as D,gG as _,bm as f,bn as h,H as se,gK as ae,d7 as N,C as S,ge as ie,gf as te,dG as re,fy as oe,q as ne,ab as de,aD as ce,fq as le,N as ue}from"./mwlpozqwnbys03vp.js";import{r as d,j as e,aw as z,d as me,a as G,c as fe,au as u,e as P,h as he,u as ge}from"./cg166fqqcxkeiosv.js";import{iF as xe,iG as U,iH as ve,ee as pe,iI as A,iJ as m,iK as be,cp as g,cq as M,iL as je,r as we,w as Ce,y as Ee,iM as ye,bI as Te,cU as Ie,iN as ke,iO as _e,iP as Ne,iQ as Se,i as Pe,e5 as Ae,iR as Me,cc as Fe,dC as Oe,iS as Ve,c$ as Le,db as Re,iT as De,iU as ze,T as F,dc as Ge,iV as Ue,iW as Ke}from"./d5k5wa3zyqlgc9bk.js";import{C as He}from"./ab1i3e5u9s60jq3r.js";import{a as K,u as H}from"./gjup1pnw4u9rwx39.js";import{C as qe}from"./da6xxj5s8kso3sn0.js";import{M as We}from"./mwg1bia5luujsxxb.js";import{K as Qe}from"./dig226cgglpgd89v.js";import{u as Be}from"./ehrl4h7p8z26p31l.js";import{C as Ye}from"./kfhnc59brape5myz.js";function Je(){const a=xe(o=>o.notifications),{activeThreadIds:s}=$(),t=d.useRef(new Set);return d.useEffect(()=>{a.filter(i=>i.clientThreadId===void 0||s.has(i.clientThreadId)).map(i=>i.id).filter(i=>i!==void 0).forEach(i=>U(i)),a.forEach(i=>{i.id&&!t.current.has(i.id)&&(V.logEvent("chatgpt_notification_shown"),L.logEvent(R.notificationShown),t.current.add(i.id))})},[s,a]),a.length===0||Z?null:e.jsx("div",{className:"fixed right-4 top-8 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:e.jsx(z,{children:a.map(o=>e.jsx(Xe,{...o},o.id))})})}function Xe({...a}){const s=me(),t=G(),o=fe(),i=ee(a.clientThreadId),c=()=>{V.logEvent("chatgpt_notification_clicked"),L.logEvent(R.notificationClicked),i&&pe(s,t,i),a.id&&U(a.id)};return e.jsxs(u.div,{onClick:c,className:"inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border border-token-border-light bg-token-main-surface-primary px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[e.jsx(ve,{iconName:"openai",size:"medium",className:"border-token-secondary rounded-full border bg-token-main-surface-primary text-token-text-primary"}),e.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[e.jsx("div",{className:"w-full truncate text-sm font-medium text-token-text-primary",children:a.title??o.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),e.jsx("div",{className:"w-full truncate text-sm text-token-text-tertiary",children:a.subtitle??o.formatMessage({id:"qMEc8J",defaultMessage:"New Message"})})]})]})}const O=450;function $e({children:a,clientThreadId:s,isOpen:t,onClose:o}){const i=D();return e.jsxs(z,{children:[t&&i&&e.jsx(K,{clientThreadId:s,children:e.jsx(_,{children:e.jsx(A.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx(u.div,{className:"relative shrink-0 border-r border-token-border-medium bg-token-main-surface-primary",style:{width:O},...m,children:e.jsx(qe,{hideHeader:!0,hideTools:!0})}),e.jsx("div",{className:"relative flex-grow overflow-auto",children:a})]})]})})})}),t&&!i&&e.jsx(_,{children:e.jsx(A.Provider,{value:{isEmbeddedInFocusedView:!0},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[e.jsx(u.div,{className:"h-full w-full bg-token-main-surface-secondary",...m}),e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsx("div",{className:"flex-grow overflow-auto",children:a}),e.jsx(u.div,{className:"relative shrink-0 border-l border-token-border-medium bg-token-main-surface-primary",style:{width:O},...m,children:e.jsx("div",{className:"h-[100vh] pb-4",children:e.jsx(We,{clientThreadId:s,hideHeader:!0,hideFooter:!0,hideToolsOverlay:!0,messagesVerticalAlign:"bottom"},s)})})]})]})})})]})}const Ze=f(()=>h(()=>import("./euy5ir2atrzt843j.js"),__vite__mapDeps([0,1,2,3,4,5]))),es=f(()=>h(()=>import("./jy4i00j5o6ygxag5.js"),__vite__mapDeps([6,1,2,3,4,5,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34])).then(a=>a.ImageEditor));function ss({clientThreadId:a}){const s=be();d.useEffect(()=>{g.close()},[a]);let t;return s?.type===M.ADAVisualization?t=e.jsx(Ze,{clientThreadId:a,visualization:s.visualization}):s?.type===M.Image&&(t=e.jsx(es,{clientThreadId:a,messageId:s.messageId,image:s.image,allImages:s.allImages},s.image.asset_pointer)),e.jsx($e,{clientThreadId:a,isOpen:s!=null,onClose:g.close,children:t})}function as(){const{clientThreadId:a,resetThread:s}=H();return Be({resetThreadAction:s,clientThreadId:a}),null}function is(){const{clientThreadId:a,isCompanionWindow:s}=H();return e.jsx(je,{conversationId:a,isActiveWindow:!s})}function ts({clientThreadId:a,urlThreadId:s}){return we({clientThreadId:a}),e.jsxs(e.Fragment,{children:[e.jsx(is,{}),e.jsx(as,{}),e.jsx(Ce,{clientThreadId:a,urlThreadId:s}),e.jsx(Ee,{}),e.jsx(Ye,{})]})}var rs={};const os=f(()=>h(()=>import("./hqwebsyjvddajlyt.js"),__vite__mapDeps([35,2,1,3,25,4,5,15,14,13,16,31,24,26,27,28,29,30,22,32]))),ns=f(()=>h(()=>import("./gc1o5lav8r7wqx5g.js"),__vite__mapDeps([36,2,1,3,25,4,5,15,14,13,16])).then(a=>a.MadlibsModal));function bs(a){const{urlThreadId:s,clientThreadId:t,prefetchSearch:o}=a;ds();const i=se(),c=P(),[x]=he(),[r,l]=d.useState(()=>{if(s!==void 0){const n=s;return ae(n)??n}return t!==void 0?t:N()});s!==void 0&&r!==s&&(S(r)===s||l(s));const q=ye(P());d.useEffect(()=>{s===void 0&&S(r)!==void 0&&l(N())},[s,r,q]);const W=Te(Ie.workspaceId),Q=D(),{eligible:v,isLoading:p,markAsViewed:b}=ke(),j=_e(),{eligible:w,isLoading:C,markAsViewed:E}=Ne(),y=Se(),T=Pe();d.useEffect(()=>{ie(!0).then(n=>{n.force_login&&T({authType:"login"}),Ae.initializeAndGatherData(n),te.initializeAndGatherData(n)})},[T]),d.useEffect(()=>{const n=x.get(Me)==="true";i!==n&&re.setIsTemporaryChatEnabled(n)},[i,x]),d.useEffect(()=>{c.state?.focusObject&&g.setFocusedObject(c.state.focusObject)},[c.state?.focusObject]),d.useEffect(()=>{!p&&v&&(b(),j())},[v,p,b,j]),d.useEffect(()=>{!C&&w&&(E(),y())},[w,C,E,y]);const{isOpen:B,isLoading:Y}=Fe(),J=Q?ts:He,I=G();d.useEffect(()=>oe(ce,{completionFinished:n=>{if(n.serverThreadId!=null&&!i){const k=ne(n.serverThreadId)?.mode;k?.kind===de.GizmoInteraction&&Oe.handleGizmoInteracted(I,k.gizmo_id)}}}),[i,I]);const{isOpen:X}=Ve();return e.jsx(le.Provider,{value:null,children:e.jsx(Le,{children:e.jsxs(Re,{clientThreadId:r,children:[e.jsx(De,{clientThreadId:r},W),!Y&&B&&e.jsx(os,{clientThreadId:r,setClientThreadId:l}),e.jsx(Qe,{}),e.jsx(ze,{}),e.jsx(K,{clientThreadId:r,setClientThreadId:l,prefetchSearch:o,children:e.jsxs(F,{clientThreadId:r,children:[e.jsx(J,{urlThreadId:s,clientThreadId:r,setClientThreadId:l,prefetchSearch:o}),X?e.jsx(ns,{}):null]})}),e.jsx(F,{clientThreadId:r,children:e.jsx(ss,{clientThreadId:r})}),e.jsx(Ge,{clientThreadId:r}),e.jsx(Ue,{}),e.jsx(Je,{}),e.jsx(Ke,{}),null]})})})}function ds(){ge({queryKey:["pingEdge"],queryFn:()=>ue.pingEdge(),enabled:!0,staleTime:1/0})}typeof window<"u"&&(window._g=rs.GOKU_SERVICE);export{bs as C,O as F};
//# sourceMappingURL=o57u49njdf3uv8kv.js.map

import{j as e,i as N,a6 as j,a5 as p,M as m}from"./ci5tkrccytan34lo.js";import{g5 as d,fZ as A,e1 as w,fY as I,kE as y,kF as M,ai as R,d_ as q,fL as b}from"./fztttvm3qzdvif1h.js";import{_ as x,c as l,fH as E}from"./ccccre6vnqbb7l94.js";import{CA_SOURCE_TO_ICON_MAP as v}from"./hp7xs1ygys4kmfnn.js";const _=d({animationLoader:()=>x(()=>import("./doitflbvj988jrtm.js"),[]),StaticIcon:A}),L=d({animationLoader:()=>x(()=>import("./ecrufyyzn0h8291m.js"),[]),StaticIcon:w}),O=d({animationLoader:()=>x(()=>import("./hvsc20zw1oied9k8.js"),[]),StaticIcon:I});var i=(s=>(s[s.Thought=0]="Thought",s[s.Recap=1]="Recap",s[s.Search=2]="Search",s[s.CodeAnalysis=3]="CodeAnalysis",s[s.ImageAnalysis=4]="ImageAnalysis",s[s.ComputerOutput=5]="ComputerOutput",s[s.Browsing=6]="Browsing",s))(i||{});const P=({chunk:s,size:n="small",isAnimated:t=!1,className:o})=>{const a=n==="small"?l("h-[15px] w-[15px]",o):l("h-[18px] w-[18px]",o);switch(s.type){case i.Browsing:if(s.sources.length>0){const r=s.sources.find(c=>c in v);if(r){const c=v[r];return e.jsx(c,{className:a},r)}}return t?e.jsx(_,{matchTextColor:!0,className:a}):e.jsx(M,{className:a});case i.Search:return t?e.jsx(O,{matchTextColor:!0,className:a}):e.jsx(I,{className:a});case i.CodeAnalysis:return t?e.jsx(_,{matchTextColor:!0,className:a}):e.jsx(y,{className:a});case i.ImageAnalysis:return t?e.jsx(L,{matchTextColor:!0,className:a}):e.jsx(w,{className:a});case i.Recap:return e.jsx(E,{className:a});default:return e.jsx("div",{className:l("bg-token-icon-secondary h-[6px] w-[6px] rounded-full",o)})}},H=({isExpanded:s=!1,isExpandDisabled:n=!1,isComplete:t,latestHeadline:o,latestChunk:a,counters:r,onToggleExpanded:c,onSkip:u})=>{const g=N(),h=o&&o.length>0?o:t?g.formatMessage({id:"nkvZJE",defaultMessage:"Thought"}):g.formatMessage({id:"hgnsat",defaultMessage:"Thinking"}),S=a!=null&&a.type!==i.Thought&&a.type!==i.Recap;return e.jsx(R,{open:t&&r&&(r.queries>0||r.sources>0)?void 0:!1,align:"start",side:"bottom",label:r&&e.jsx(B,{counters:r}),children:e.jsx("div",{className:"relative w-full text-start",children:e.jsxs("div",{className:"flex w-full items-center justify-between text-start",children:[e.jsxs("button",{disabled:n,onClick:c,className:"flex w-full items-center gap-0.5",children:[e.jsx(j,{mode:"popLayout",children:e.jsxs(p.span,{className:l("flex items-center gap-1 text-start align-middle",!t&&"loading-shimmer font-medium",t&&(n?"text-token-text-secondary":"text-token-text-secondary hover:text-token-text-primary")),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,overflow:"hidden",whiteSpace:"nowrap"},transition:{duration:.3},children:[S&&e.jsx(P,{chunk:a,isAnimated:!t,size:"medium",className:"text-token-text-secondary"}),h]},h)}),!n&&e.jsx(F,{isExpanded:s})]}),e.jsx(j,{children:!t&&!s&&u&&e.jsx(p.div,{initial:{opacity:0},exit:{opacity:0},animate:{opacity:1},children:e.jsxs("button",{onClick:f=>{u(f),f.stopPropagation()},className:"text-token-text-secondary hover:text-token-text-primary whitespace-nowrap",children:[e.jsx(q,{className:"icon-sm inline align-middle"}),e.jsx("span",{className:"ms-1",children:e.jsx(m,{id:"Gf7q+7",defaultMessage:"Answer now"})})]})})})]})})})},F=({isExpanded:s})=>e.jsx(b,{className:l("icon-sm text-token-text-secondary inline align-middle transition-transform",s&&"rotate-90")}),B=({counters:s})=>e.jsx(e.Fragment,{children:(s.queries>0||s.sources>0)&&e.jsxs(e.Fragment,{children:[s.queries>0&&e.jsx(m,{id:"JPkpiw",defaultMessage:"{queriesCount} searches",values:{queriesCount:s.queries}}),s.queries>0&&s.sources>0&&e.jsxs(e.Fragment,{children:[" Â·"," "]}),s.sources>0&&e.jsx(m,{id:"QnBAXR",defaultMessage:"{sourcesCount} sources",values:{sourcesCount:s.sources}})]})});export{i as C,P as a,H as b};
//# sourceMappingURL=cfn5ikk5ru4oac7u.js.map

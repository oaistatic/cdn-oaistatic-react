const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jo6n18el83y6esuj.js","assets/ccccre6vnqbb7l94.js","assets/ci5tkrccytan34lo.js","assets/root-ggl0dfwq.css","assets/fztttvm3qzdvif1h.js","assets/conversation-small-dfayqh3x.css","assets/bgg66h46ig9w8a6y.js","assets/ddgfe1sz0ssgqmwj.js","assets/z75me87hdx0ikzsx.js","assets/d6qfcfpf3ythcmx2.js","assets/hapan2fx2czn21gi.js","assets/kzhevji8i57j71hk.js","assets/91eskp17oms2am6q.js","assets/a1fl09gjys8m3drr.js","assets/grqqoygx78z5w4fx.js","assets/h2gd34k3oh53zw7p.js","assets/k4lih7nb4umlxxxc.js","assets/m3p85h1r7wwh3ar4.js","assets/bgu7mt464bd85qmz.js","assets/ln3t6yic0tgf7gor.js","assets/bb4l02lm4p1hlo2s.js","assets/o5dcel4w1cacawdo.js","assets/j3zg44ruze86crbd.js","assets/eykh2s3cx0s4wv4b.js","assets/nplnc7nfjbqgwb50.js","assets/hnwyihljdxrug66f.js","assets/h1rqozkinxrlxfws.js","assets/musjw8fjkljbblfz.js","assets/fseoyhsh6zihamwk.js","assets/b6j7l37g2ond00ny.js","assets/csx7nt71oz1r0z6y.js","assets/khkh5m0f7cvgfw6e.js","assets/obtq7sfq52r3quc0.js","assets/ci2m3wbqqcn0abts.js","assets/i3g2qaat3974kagr.js","assets/mncmjhre2pa3zjgy.js","assets/ekl1xxb2hl6h9vpu.js","assets/pc2givv05uuq8g6l.js","assets/bgxcr4w8j7zvelhd.js","assets/j35k0ib6x4x2st6f.js","assets/pcjr7askdf0x3oga.js","assets/n1daj33n3xqfllpk.js","assets/nbtu70bcxl3kbodi.js","assets/iw5jl8v2yszml7o9.js","assets/kl37blrmp2daqno8.js","assets/labtoxidfq09uj7w.js","assets/g4tl5lt9yqf20m4s.js"])))=>i.map(i=>d[i]);
import{aP as _e,e as Se,d6 as Fe,dG as Ve,gV as Re,O as we,_ as Ce,bK as ze,gW as Le,bi as ke,I as De,gX as Ge,d4 as Ee,gY as Ue,ew as We,fG as Te,aR as Be,df as Ke,aZ as He,aI as Qe,cs as Ye,b as qe}from"./ccccre6vnqbb7l94.js";import{r as n,j as t,a6 as Ae,f as Xe,a as Me,i as Ze,a5 as be,c as $e,k as Ie,p as Je}from"./ci5tkrccytan34lo.js";import{iZ as et,i_ as Oe,i$ as tt,j0 as st,j1 as it,P as at,j2 as ot,aW as Pe,bj as rt,cV as ye,bk as Ne,j3 as nt,b7 as lt,b8 as ct,j4 as dt,j5 as ft,j6 as ut,j7 as mt,j8 as ht,j9 as gt,bo as pt,ja as xt,F as jt,jb as vt,jc as bt,jd as yt,fe as _t,K as wt,je as Ct,jf as kt,jg as Et,jh as Tt,ji as It,jj as Pt,T as Nt,jk as St}from"./fztttvm3qzdvif1h.js";import{c as At,b as Mt}from"./d6qfcfpf3ythcmx2.js";import{B as Ot}from"./91eskp17oms2am6q.js";import{u as Ft,b as Vt}from"./h1rqozkinxrlxfws.js";import{a as Rt}from"./fseoyhsh6zihamwk.js";import{a as zt}from"./o5dcel4w1cacawdo.js";import{C as Lt}from"./bgxcr4w8j7zvelhd.js";import{a as Dt,C as Gt}from"./grqqoygx78z5w4fx.js";import{M as Ut}from"./nbtu70bcxl3kbodi.js";function Wt({clientThreadId:i}){const e=et(r=>r.notifications),a=n.useRef(new Set);return n.useEffect(()=>{e.filter(o=>o.clientThreadId===void 0||i===o.clientThreadId).map(o=>o.id).filter(o=>o!==void 0).forEach(o=>Oe(o)),e.forEach(o=>{o.id&&!a.current.has(o.id)&&(_e.logEvent("chatgpt_notification_shown"),Se.logEvent("Notifications: Notification Shown to User"),a.current.add(o.id))})},[i,e]),e.length===0||Fe?null:t.jsx("div",{className:"pointer-events-auto fixed end-4 top-8 z-100 my-2 flex max-h-[90vh] flex-col-reverse space-y-2 space-y-reverse overflow-y-auto px-2 py-4",children:t.jsx(Ae,{children:e.map(r=>t.jsx(Kt,{...r},r.id))})})}function Bt({notification:i}){return i.icon?t.jsx(st,{size:"medium",className:"border-token-secondary bg-token-main-surface-primary text-token-text-primary rounded-full border",IconComponent:i.icon}):t.jsx(it,{iconName:"openai",size:"medium",className:"border-token-secondary bg-token-main-surface-primary text-token-text-primary rounded-full border"})}function Kt({...i}){const e=Xe(),a=Me(),r=Ze(),o=Ve(i.clientThreadId),c=()=>{_e.logEvent("chatgpt_notification_clicked"),Se.logEvent("Notifications: User Clicked Notification"),i.onClick!=null?i.onClick():o&&tt(e,a,o),i.id&&Oe(i.id)};return t.jsxs(be.div,{onClick:c,className:"border-token-border-default bg-token-main-surface-primary z-100 inline-flex w-80 cursor-pointer items-center justify-start gap-2.5 rounded-2xl border px-3 py-3 align-middle shadow-lg",initial:{opacity:0,x:320},animate:{opacity:1,x:0},exit:{opacity:0,x:320},transition:{duration:.5},children:[t.jsx(Bt,{notification:i}),t.jsxs("div",{className:"inline-flex w-full shrink grow basis-0 flex-col items-start justify-start overflow-hidden",children:[t.jsx("div",{className:"text-token-text-primary w-full truncate text-sm font-medium",children:i.title??r.formatMessage({id:"mpXAeu",defaultMessage:"New chat"})}),i.subtitle&&t.jsx("div",{className:"text-token-text-tertiary w-full truncate text-sm",children:i.subtitle}),i.payload?.display_image_url&&t.jsx("img",{className:"mt-2 h-12 w-12 rounded-xs",src:i.payload.display_image_url,alt:i.payload.image_alt})]})]})}function Ht({clientThreadId:i}){const e=Ft();return t.jsxs(t.Fragment,{children:[e&&t.jsx(Vt,{}),t.jsx(Qt,{clientThreadId:i})]})}function Qt({clientThreadId:i}){const e=n.useContext(zt),[a,r]=n.useState(!!e?.postWithProfile&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(o=>o.kind==="media_generation"));return!e?.postWithProfile||!a?null:t.jsx(at,{clientThreadId:i,children:t.jsx(Rt,{clientThreadId:i,postWithProfile:e.postWithProfile,closeModal:()=>r(!1)})})}const Yt=450;function qt({children:i,clientThreadId:e,isOpen:a,onClose:r,type:o}){return t.jsx(Ae,{children:a&&t.jsx(Re,{children:t.jsx(ot.Provider,{value:{isEmbeddedInFocusedView:!0,type:o},children:t.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[t.jsx(be.div,{className:"bg-token-main-surface-secondary h-full w-full",...Pe}),t.jsxs("div",{className:"absolute inset-0 flex",children:[t.jsx("div",{className:"grow overflow-auto",children:i}),t.jsx(be.div,{className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:Yt},...Pe,children:t.jsx("div",{className:"h-[100vh] pb-4",children:t.jsx(Ut,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})})]})]})})})})}const Xt=we(()=>Ce(()=>import("./jo6n18el83y6esuj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Zt=we(()=>Ce(()=>import("./z75me87hdx0ikzsx.js"),__vite__mapDeps([8,1,2,3,4,5,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44])).then(i=>i.ImageEditor));function $t({clientThreadId:i}){const e=rt();n.useEffect(()=>{ye.close()},[i]);let a;return e?.type===Ne.ADAVisualization?a=t.jsx(Xt,{clientThreadId:i,visualization:e.visualization}):e?.type===Ne.Image&&(a=t.jsx(Zt,{clientThreadId:i,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),t.jsx(qt,{clientThreadId:i,isOpen:e!=null,onClose:ye.close,type:e?.type,children:a})}var Jt={};const es=({children:i})=>t.jsx(t.Fragment,{children:i}),ts=we(()=>Ce(()=>import("./labtoxidfq09uj7w.js"),__vite__mapDeps([45,2,1,3,4,5,14,10,11,15,9,42,26,22,13,16,17,18,19,20,21,23,24,25,27,43,30,31,28,29,32,33,34,35,36,37,44,46])));function gs(i){"use forget";const e=$e.c(96),{urlThreadId:a,clientThreadId:r,prefetchSearch:o}=i,c=ze(),T=Le(),w=Ie(),[C]=Je();let I;e[0]!==r||e[1]!==a?(I=()=>{if(a!==void 0){const l=a;return Ge(l)??l}return r!==void 0?r:Ee()},e[0]=r,e[1]=a,e[2]=I):I=e[2];const[s,k]=n.useState(I);a!==void 0&&s!==a&&(ke(s)===a||k(a));const pe=Ie();let P;e[3]!==pe?(P=nt(pe),e[3]=pe,e[4]=P):P=e[4];const xe=P;let N;e[5]!==s||e[6]!==a?(N=()=>{a===void 0&&ke(s)!==void 0&&k(Ee())},e[5]=s,e[6]=a,e[7]=N):N=e[7];let S;e[8]!==s||e[9]!==xe||e[10]!==a?(S=[a,s,xe],e[8]=s,e[9]=xe,e[10]=a,e[11]=S):S=e[11],n.useEffect(N,S);const je=lt(ct.workspaceId),{eligible:A,isLoading:M,markAsViewed:O}=dt(),F=ft(),{eligible:V,isLoading:R,markAsViewed:z}=ut(),L=mt(),{eligible:D,isLoading:G,markAsViewed:U}=ht(),W=gt(),B=pt();let K,H;e[12]!==B?(K=()=>{Ue(!0).then(l=>{l.force_login&&B({authType:"login"}),vt.initializeAndGatherData(l),We.initializeAndGatherData(l)})},H=[B],e[12]=B,e[13]=K,e[14]=H):(K=e[13],H=e[14]),n.useEffect(K,H);let Q,Y;e[15]!==T||e[16]!==c||e[17]!==C?(Q=()=>{const l=C.get(bt)==="true",E=C.get(yt)==="true";E!==T&&Te.setIsAnonModeEnabled(E),c!==l&&Te.setIsTemporaryChatEnabled(l)},Y=[c,T,C],e[15]=T,e[16]=c,e[17]=C,e[18]=Q,e[19]=Y):(Q=e[18],Y=e[19]),n.useEffect(Q,Y);let q;e[20]!==w.state?(q=()=>{w.state?.focusObject&&ye.setFocusedObject(w.state.focusObject)},e[20]=w.state,e[21]=q):q=e[21];const ve=w.state?.focusObject;let X;e[22]!==ve?(X=[ve],e[22]=ve,e[23]=X):X=e[23],n.useEffect(q,X);let Z,$;e[24]!==A||e[25]!==M||e[26]!==O||e[27]!==F?(Z=()=>{!M&&A&&(O(),F())},$=[A,M,O,F],e[24]=A,e[25]=M,e[26]=O,e[27]=F,e[28]=Z,e[29]=$):(Z=e[28],$=e[29]),n.useEffect(Z,$);let J,ee;e[30]!==V||e[31]!==R||e[32]!==z||e[33]!==L?(J=()=>{!R&&V&&(z(),L())},ee=[V,R,z,L],e[30]=V,e[31]=R,e[32]=z,e[33]=L,e[34]=J,e[35]=ee):(J=e[34],ee=e[35]),n.useEffect(J,ee);let te,se;e[36]!==D||e[37]!==G||e[38]!==U||e[39]!==W?(te=()=>{!G&&D&&(U(),W())},se=[D,G,U,W],e[36]=D,e[37]=G,e[38]=U,e[39]=W,e[40]=te,e[41]=se):(te=e[40],se=e[41]),n.useEffect(te,se),At(s);const d=Me(),ie=De();let ae,oe;e[42]!==ie||e[43]!==d?(ae=()=>{Be(ie)&&_e.checkGate("1661641186")&&d.fetchQuery({queryKey:["recent","images","bootstrap"],queryFn:ss})},oe=[d,ie],e[42]=ie,e[43]=d,e[44]=ae,e[45]=oe):(ae=e[44],oe=e[45]),n.useEffect(ae,oe);let re,ne;e[46]!==c||e[47]!==d?(re=()=>Ke(Ye,{completionFinished:l=>{if(l.serverThreadId!=null&&!c){const E=He(l.serverThreadId)?.mode;E?.kind===Qe.GizmoInteraction&&_t.handleGizmoInteracted(d,E.gizmo_id)}}}),ne=[c,d],e[46]=c,e[47]=d,e[48]=re,e[49]=ne):(re=e[48],ne=e[49]),n.useEffect(re,ne);let f;e[50]!==s||e[51]!==je?(f=t.jsx(Ot,{clientThreadId:s,page:"chat"},je),e[50]=s,e[51]=je,e[52]=f):f=e[52];let u;e[53]!==s?(u=t.jsx(is,{clientThreadId:s,setClientThreadId:k}),e[53]=s,e[54]=u):u=e[54];let le,ce,de;e[55]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(wt,{}),ce=t.jsx(Ct,{}),de=t.jsx(kt,{}),e[55]=le,e[56]=ce,e[57]=de):(le=e[55],ce=e[56],de=e[57]);let fe;e[58]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(Et,{}),e[58]=fe):fe=e[58];let m;e[59]!==s||e[60]!==a?(m=t.jsx(Lt,{urlThreadId:a,clientThreadId:s,setClientThreadId:k}),e[59]=s,e[60]=a,e[61]=m):m=e[61];let h;e[62]!==s?(h=t.jsx(Ht,{clientThreadId:s}),e[62]=s,e[63]=h):h=e[63];let g;e[64]!==s||e[65]!==o||e[66]!==m||e[67]!==h?(g=t.jsxs(Dt,{clientThreadId:s,setClientThreadId:k,prefetchSearchPromises:o,children:[fe,m,h]}),e[64]=s,e[65]=o,e[66]=m,e[67]=h,e[68]=g):g=e[68];let p;e[69]!==s||e[70]!==f||e[71]!==u||e[72]!==g?(p=t.jsxs(Gt,{clientThreadId:s,children:[f,u,le,ce,de,g]}),e[69]=s,e[70]=f,e[71]=u,e[72]=g,e[73]=p):p=e[73];let x,j;e[74]!==s?(x=t.jsx($t,{clientThreadId:s}),j=t.jsx(Tt,{clientThreadId:s}),e[74]=s,e[75]=x,e[76]=j):(x=e[75],j=e[76]);let ue;e[77]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsx(It,{}),e[77]=ue):ue=e[77];let v;e[78]!==s?(v=t.jsx(Wt,{clientThreadId:s}),e[78]=s,e[79]=v):v=e[79];let me;e[80]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Pt,{}),e[80]=me):me=e[80];let b;e[81]!==s||e[82]!==p||e[83]!==x||e[84]!==j||e[85]!==v?(b=t.jsxs(Nt,{clientThreadId:s,children:[p,x,j,ue,v,me]}),e[81]=s,e[82]=p,e[83]=x,e[84]=j,e[85]=v,e[86]=b):b=e[86];let y;e[87]!==s||e[88]!==b?(y=t.jsx(es,{clientThreadId:s,children:b}),e[87]=s,e[88]=b,e[89]=y):y=e[89];let _;e[90]!==s||e[91]!==y?(_=t.jsx(St,{clientThreadId:s,children:y}),e[90]=s,e[91]=y,e[92]=_):_=e[92];let he;e[93]===Symbol.for("react.memo_cache_sentinel")?(he=!1,e[93]=he):he=e[93];let ge;return e[94]!==_?(ge=t.jsx(xt.Provider,{value:null,children:t.jsxs(jt,{children:[_,he]})}),e[94]=_,e[95]=ge):ge=e[95],ge}function ss(){return qe.safeGet("/images/bootstrap",{})}function is({clientThreadId:i,setClientThreadId:e}){const{isOpen:a,isLoading:r}=Mt();return!r&&a?t.jsx(ts,{clientThreadId:i,setClientThreadId:e}):null}typeof window<"u"&&(window._g=Jt.GOKU_SERVICE);export{gs as C,Yt as F};
//# sourceMappingURL=l6i33f76gjin3h6k.js.map

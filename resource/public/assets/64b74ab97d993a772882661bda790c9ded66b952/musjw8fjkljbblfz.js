import{j as e,M as d,e as Z,R as ie,i as ee,r as k,f as de}from"./ci5tkrccytan34lo.js";import{z as ce,gk as Q,d_ as ue,bW as ge,eJ as pe,eN as he,dG as me,at as fe,e as F,gl as A,I as Me,aP as xe}from"./ccccre6vnqbb7l94.js";import{dg as i,cw as Se,dh as je,bo as be,di as S,bF as we,dj as ye,dk as C,dl as Ae,dm as G,dn as Ce,ai as X,bL as J,dp as te,dq as O,dr as ve,ds as Ne,dt as Ee,du as Le}from"./fztttvm3qzdvif1h.js";import{A as Te,C as Pe}from"./bb4l02lm4p1hlo2s.js";const V="needsCreditsSection",_e=()=>{const o=ce()?.isOwnerOfAccount();return e.jsxs(i.Item,{className:"pointer-events-none pe-2.5! hover:bg-transparent hover:text-inherit",onSelect:r=>r.preventDefault(),disabled:!0,children:[e.jsx("div",{className:"text-token-text-tertiary text-xs",children:e.jsx(d,{...o?$.ownerDescription:$.description})}),o?e.jsx(Te,{size:"small",trigger:"thread-header-dropdown-credits-section"}):e.jsx(Pe,{size:"small",creditConsumingProduct:"gpt-4-5",trigger:"thread-header-dropdown-credits-section"})]})},$=Z({description:{id:"prompt-textarea.teamsCreditRequestBanner.label",defaultMessage:"Limits reached. Send a request to your admin to get access"},ownerDescription:{id:"prompt-textarea.teamsCreditRequestBanner.ownerLabel",defaultMessage:"Limits reached. Add credits to your account"}});function se(s){switch(s){case A.AUTO:return e.jsx(d,{id:"vFUiAX",defaultMessage:"Auto"});case A.ON:return e.jsx(d,{id:"76vQsI",defaultMessage:"On"});case A.OFF:return e.jsx(d,{id:"K9SMwy",defaultMessage:"Off"});case A.PRO:return e.jsx(d,{id:"QwDbjP",defaultMessage:"Pro"})}}function Oe(s){return{modelLabel:s.shortLabel,fullModelLabel:s.label}}function Ie(s,o){let r=s;if(s===Q.AUTO){const n=o?.categories.filter(({defaultModel:a})=>a!==Q.AUTO);n?.length===1&&(r=n[0].defaultModel)}const u=o?.categories.find(({defaultModel:n,supportedModels:a})=>n===r||a?.includes(r));if(u){const{categoryId:n}=u,{modelLabel:a,fullModelLabel:c}=Oe(u);return{selectedCategory:n,modelLabel:a,fullModelLabel:c}}const h=o?.groups.find(({modelIds:n})=>n.includes(r));if(h){const{group:n,shortLabel:a,label:c}=h;return{selectedCategory:n,modelLabel:a,fullModelLabel:c}}return{selectedCategory:null,modelLabel:null,fullModelLabel:null}}function De(s,o,r,u){const h=o?s.formatMessage(K.beta):r?s.formatMessage(K.alpha):u;if(h)return e.jsx(te,{children:h})}function Ue({category:s,modelSwitcherDenialsBySlug:o,currentGizmoId:r,currentModelId:u,testId:h,clientThreadId:n}){const a=ee(),{defaultModel:c,label:p,description:v,isBeta:I,isAlpha:D,modelBadge:m}=s,N=ve(r??""),U=Me(),j=Ne(U,c);return e.jsxs(C,{value:c,currentModelId:u,modelSwitcherDenialsBySlug:o,secondary:v,deprecated:j,isSelected:(!r||N)&&u===c,testId:h,clientThreadId:n,children:[p,De(a,I,D,j?a.formatMessage({id:"rFijPv",defaultMessage:"Deprecated"}):m)]},c)}function Re({selectedCategory:s,modelData:o,currentModel:r,modelSwitcherDenialsBySlug:u,clientThreadId:h}){const n=s?.supportedModels?.map(a=>o?.models.get(a))??[];return e.jsx(e.Fragment,{children:n.map(a=>a&&e.jsx(C,{value:a.id,currentModelId:r.id,modelSwitcherDenialsBySlug:u,isSelected:r.reasoningType===a.reasoningType,clientThreadId:h,children:se(a.reasoningType)},a.id))})}function ze({sections:s}){return e.jsx(e.Fragment,{children:s.map((o,r)=>e.jsxs(ie.Fragment,{children:[r!==0?e.jsx(i.Separator,{}):null,o.content]},o.id))})}function He(s,o,r,u){const h=ee(),n=Se(s),a=n.id,c=ue(s);let{data:p}=ge();const{data:v}=pe(),I=v&&he(v)&&!0,D=me(s),m=je({clientThreadId:s}),N=p?.modelPickerVersion===2,U=!D,{isUnauthenticated:j}=fe(),ne=be(),E=o.find(({categoryId:t})=>t===S.ALPHA),L=o.find(({categoryId:t})=>t===S.DATA_CAMPAIGNS),T=o.find(({categoryId:t})=>t===S.EXPERIMENTS),P=o.find(({categoryId:t})=>t===S.MAINLINE),[b,ae]=k.useState(""),R=[E,L,T,P].reduce((t,f)=>f?[...t,...f.options.map(l=>({value:l.value,name:l.name,badge:f.categoryId}))]:t,[]),B=k.useMemo(()=>b?R.filter(t=>t.name.toLowerCase().includes(b.toLowerCase())):R,[R,b]);if(u&&c&&p){const t=JSON.parse(JSON.stringify(p));t.categories=t.categories.filter(({defaultModel:f})=>f.startsWith("gpt-4o")||f==="gpt-4-1"),p=t}const z=!!E?.options.length,H=!!L?.options.length,W=!!T?.options.length,Y=!!P?.options.length,q=de(),oe=k.useCallback(()=>{F.logEvent("Account Pay: Open Payment from Model Picker",{content:"gizmo-button"}),we(q,"Thread header dropdown")},[q]),le=()=>{xe.logEvent("chatgpt_model_switcher_plus_upgrade_button_clicked"),F.logEvent("Model Switcher Plus Upgrade Button Clicked"),j?ne({shouldOpenPaymentModalOnAuth:!0,callback:t=>{F.logSignUpButtonClicked({location:"Model switcher GPT-4 upsell",provider:t})}}):oe()},M=[],re=e.jsxs(i.Label,{className:"flex items-center",children:[e.jsx(d,{id:"coNCb7",defaultMessage:"Models"}),e.jsx(X,{side:"right",className:"ms-1.5",delayDuration:120,label:e.jsx(d,{id:"/vFWz/",defaultMessage:"Learn more"}),children:e.jsx("a",{href:"https://help.openai.com/en/articles/7864572-what-is-the-chatgpt-model-selector",target:"_blank",rel:"noreferrer",children:e.jsx(J,{className:"h-3.5 w-3.5 shrink-0"})})})]});if(j){const t={id:"modelSection",content:[]};t.content.push(e.jsx(ye,{location:"model-switcher",statsig_login_event:"chatgpt_modelswitcher_login_button_clicked",statsig_signup_event:"chatgpt_modelswitcher_signup_button_clicked"},"noAuthUpsell")),M.push(t)}else if(!I&&!c){const t={id:"modelSection",content:[]};t.content.push(e.jsx(C,{value:"",currentModelId:a,onClick:le,modelSwitcherDenialsBySlug:m,isUpgradeUpsell:!0,icon:Ee,secondary:e.jsx(d,{id:"bqTHri",defaultMessage:"Our smartest model & more"}),isSelected:!1,clientThreadId:s,children:e.jsx(d,{id:"mzDzkX",defaultMessage:"ChatGPT Plus"})},"plusUpgrade")),t.content.push(e.jsx(C,{value:G.AUTO,currentModelId:a,modelSwitcherDenialsBySlug:m,icon:Ae,secondary:e.jsx(d,{id:"n96qML",defaultMessage:"Great for everyday tasks"}),isSelected:!c&&a===G.AUTO,clientThreadId:s,children:e.jsx(d,{id:"U9E7Rx",defaultMessage:"ChatGPT"})},G.AUTO)),M.push(t)}else{const t={id:"modelSection",content:[]};p?.categories.length&&!N&&t.content.push(re);const f=new Map;if(p?.categories.forEach(l=>{let g=e.jsx(Ue,{category:l,currentGizmoId:c,currentModelId:a,modelSwitcherDenialsBySlug:m,testId:`model-switcher-${l.defaultModel}`,clientThreadId:s},l.categoryId);l.defaultModel==="o4-mini-high"&&(g=e.jsx(Ce,{children:g},`nux-${l.categoryId}`)),l.subcategory?(f.has(l.subcategory)||f.set(l.subcategory,[]),f.get(l.subcategory)?.push(g)):t.content.push(g)}),f.forEach((l,g)=>{const w=p?.categories.find(y=>y.subcategory===g&&y.defaultModel===n.id);t.content.push(e.jsxs(i.Sub,{children:[e.jsx(i.SubMenuTrigger,{"data-testid":g==="More models"?"more-models-submenu":void 0,trailing:w&&e.jsx("div",{className:"truncate",children:w.label}),children:g}),e.jsx(i.Portal,{children:e.jsx(i.SubContent,{children:l})})]},g))}),u&&c)t.content.push(e.jsx(i.Label,{className:"flex flex-col items-start gap-1",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(d,{id:"Y96ci5",defaultMessage:"Limited models for Custom Action GPTs"}),e.jsx(X,{side:"right",className:"ms-1.5 cursor-pointer",delayDuration:0,label:e.jsx(d,{id:"wDE3HX",defaultMessage:"GPTs with custom web actions can currently only use GPT-4o and GPT-4.1. If your GPT has no custom actions it can use any model."}),children:e.jsx(J,{className:"h-4 w-4 shrink-0"})})]})})),M.push(t);else if(N){const l=p?.categories.find(y=>y.defaultModel===n.id||y.supportedModels?.includes(n.id)),g={id:"moreModelsSection",content:[]};g.content.push(e.jsxs(i.Sub,{children:[e.jsx(i.SubMenuTrigger,{"data-testid":"models-submenu",trailing:l&&e.jsx("div",{className:"truncate",children:l.label}),children:e.jsx(d,{id:"ilkdMh",defaultMessage:"Model"})}),e.jsx(i.Portal,{children:e.jsx(i.SubContent,{children:t.content})})]},""));const w=(l?.supportedModels?.length??0)>1;g.content.push(e.jsxs(i.Sub,{children:[e.jsx(i.SubMenuTrigger,{"data-testid":"models-submenu",arrowIcon:w?void 0:null,trailing:e.jsx("div",{className:"truncate",children:se(n.reasoningType??A.OFF)}),children:e.jsx(d,{id:"TAntLW",defaultMessage:"Reasoning"})}),w&&e.jsx(i.Portal,{children:e.jsx(i.SubContent,{children:e.jsx(Re,{selectedCategory:l,modelData:p,currentModel:n,modelSwitcherDenialsBySlug:m,clientThreadId:s})})})]},"models-submenu")),M.push(g)}else M.push(t)}const x={id:"otherOptionsSection",content:[]},{selectedCategory:_}=Ie(a,p);return U&&((z||H||W||Y)&&x.content.push(e.jsx("div",{className:"px-4 py-2",children:e.jsx(Le,{inputClassName:"w-full",onKeyDown:t=>{t.stopPropagation()},onChange:t=>{ae(t.target.value)},value:b})})),b?x.content.push(e.jsxs("div",{className:"scrollbar-gutter-stable max-h-64 w-[min(320px,95vw)] overflow-y-scroll",children:[B.length===0&&e.jsx(i.Item,{className:"w-full",children:h.formatMessage({id:"model-switcher.no-results",defaultMessage:"No results found"})}),B.map(t=>e.jsxs(C,{currentModelId:a,value:t.value,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s,children:[t.name,t.badge&&e.jsx(te,{children:t.badge})]},t.value))]})):(z&&x.content.push(e.jsx(O,{isSelected:_===S.ALPHA,currentModel:n,option:E,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s},E.value)),H&&x.content.push(e.jsx(O,{isSelected:_===S.DATA_CAMPAIGNS,currentModel:n,option:L,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s},L.value)),W&&x.content.push(e.jsx(O,{currentModel:n,isSelected:_===S.EXPERIMENTS,option:T,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s},T.value)),Y&&x.content.push(e.jsx(O,{isSelected:_===S.MAINLINE,currentModel:n,option:P,modelSwitcherDenialsBySlug:m,displayInFull_INTERNAL_USE_ONLY:!0,clientThreadId:s},P.value)))),x.content.length&&M.push(x),r&&M.push({id:V,content:[e.jsx(_e,{},V)]}),M}const K=Z({alpha:{id:"o5FsPB",defaultMessage:"Alpha"},beta:{id:"XZwFET",defaultMessage:"Beta"},gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},modelTunerSmartSelectionTitle:{id:"czjW8I",defaultMessage:"Dynamic"},modelTunerSmartSelectionExplainer:{id:"gp/YH1",defaultMessage:"Optimized for speed and intelligence"},gpt4ShortExplainer:{defaultMessage:"With DALL·E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL·E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL·E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwitcher.signupUpgradeButton",defaultMessage:"Sign up for ChatGPT Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}});export{ze as T,Ie as g,He as u};
//# sourceMappingURL=musjw8fjkljbblfz.js.map

import{u as m,r as c,j as e,M as t}from"./ci5tkrccytan34lo.js";import{q as g,v as u,w as f,x as _,E as h,y as j,z as x,A as p,G as w,H as v,j as C}from"./fztttvm3qzdvif1h.js";import{P as y}from"./m3p85h1r7wwh3ar4.js";import{I as b,b0 as M,e as N}from"./ccccre6vnqbb7l94.js";const A=({date:n})=>{const[a,o]=c.useState(Date.now());c.useEffect(()=>{const i=setInterval(()=>{o(Date.now())},6e4);return()=>clearInterval(i)},[]);const d=()=>{const i=new Date(n).getTime(),r=Math.floor((a-i)/1e3);return r<60?e.jsx(t,{id:"3Is9g3",defaultMessage:"Last updated a few seconds ago"}):r<3600?e.jsx(t,{id:"hXLIc6",defaultMessage:"Last updated a few minutes ago"}):e.jsx(t,{id:"ZV7Qx7",defaultMessage:"Last updated a few hours ago"})};return e.jsx("span",{children:d()})},E=()=>{const n=g();return m({queryKey:["user_connection_status"],queryFn:C.user_connection_status,enabled:n})};function D(){const n=b(),a=M(n,"2509278897"),{data:o,isLoading:d,refetch:i,dataUpdatedAt:r}=E(),l=c.useMemo(()=>a?o?.connection_statuses.filter(s=>s.user_connection_details.connection_type!=="gdrive_sync_connector"):o?.connection_statuses,[o,a]);return c.useEffect(()=>{N.logEventWithStatsig("Contextual Answers User Settings Modal Shown","chatgpt_contextual_answers_user_settings_modal_shown")},[]),a&&!l?.length?null:e.jsxs("div",{className:"mb-8",children:[e.jsxs(u,{children:[e.jsxs("div",{className:"text-md text-token-text-primary mb-1 flex items-center gap-2 font-medium",children:[e.jsx(f,{class:"icon-md"}),e.jsx("div",{children:e.jsx(t,{id:"YxAwHl",defaultMessage:"Internal knowledge"})}),e.jsx(_,{})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(t,{id:"b5cZ0X",defaultMessage:"Connect these data sources so ChatGPT can surface relevant, personalized information — based on what you’re authorized to view. {learnMore}",values:{learnMore:e.jsx(h,{href:x,className:"underline",onClick:()=>j({link:x,location:"user_settings"}),children:e.jsx(t,{id:"N1i4rw",defaultMessage:"Learn more"})})}})}),e.jsx("p",{className:"text-token-text-secondary font-medium",children:e.jsx(A,{date:new Date(r)})})]})]}),e.jsx("div",{className:"border-b",children:d?e.jsx("div",{className:"p-2",children:e.jsx(y,{lines:4})}):l?.length?e.jsx("div",{children:l.map(s=>e.jsx(u,{children:e.jsx("div",{className:"pt-3 pb-1",children:e.jsx(p,{icon:e.jsx("img",{src:s.connection_display_info.icon_url??"",alt:s.connection_display_info.display_name,className:"icon-lg"}),title:s.connection_display_info.display_name,statusIndicator:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{connection:s,location:"user_settings"}),e.jsx(v,{connection:s,refetch:i})]})})})},s.user_connection_details.connection_instance_id))}):e.jsx("p",{className:"text-token-text-secondary my-2",children:e.jsx(t,{id:"nzXh59",defaultMessage:"No connections found."})})})]})}export{D as C,E as u};
//# sourceMappingURL=k4lih7nb4umlxxxc.js.map

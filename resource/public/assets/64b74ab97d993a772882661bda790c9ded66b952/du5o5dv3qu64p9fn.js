import{i,j as a}from"./ci5tkrccytan34lo.js";import{ac as f,e as c,aP as l,B as w,c as v}from"./ccccre6vnqbb7l94.js";import{b_ as W,b$ as _,c0 as k,ai as x,c1 as M}from"./fztttvm3qzdvif1h.js";import{u as E}from"./fir5zg2hzjs7mluo.js";import{u as C}from"./lngkec8b64kqtwx6.js";import"./oml5zn7j0ve4e9qm.js";const y=e=>{const{requestMicrophonePermissions:t}=E(),o=i().formatMessage({id:"vONrv3",defaultMessage:"Enable mic access to dictate"}),s=f();return async()=>{if(c.logEvent("Whisper on Web/Windows: Clicked to start dictation"),l.logEvent("chatgpt_composer_whisper_button_clicked_start"),!await t())return s.danger(o);e()}},F=({size:e="medium",disabled:t,onExit:n,buttonClassName:o,invertColor:s,disableTooltip:p=!1,visualTreatment:r,...u})=>{const h=i(),g=C(b=>b.status),m=y(n);g==="error"&&(c.logEvent("Whisper on Web/Windows: Error"),l.logEvent("chatgpt_composer_whisper_button_error"));const d=a.jsx(M,{"aria-label":"",className:s?"h-5 w-5":"h-[18px] w-[18px]",fontSize:"inherit"});return a.jsx(B,{disabled:p,children:r==="composer-btn"||r==="codex"?a.jsx("button",{...u,"aria-label":h.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),type:"button",onClick:m,disabled:t,className:"composer-btn",children:d}):a.jsx(w,{...u,"aria-label":h.formatMessage({id:"QFVCwl",defaultMessage:"Dictate button"}),size:e,type:"button",onClick:m,disabled:t,className:v(s?W:_,"[view-transition-name:var(--vt-composer-whisper-button)]",t?"opacity-30":!s&&k,"dark:hover:bg-transparent dark:hover:opacity-100",o),children:d})})};function B({children:e,disabled:t=!1}){const n=i();return a.jsx(x,{open:t?!1:void 0,label:n.formatMessage({id:"abw2XH",defaultMessage:"Dictate"}),side:"bottom",onOpenChange:o=>{o&&(c.logEvent("Whisper on Web/Windows: Button hover to see tooltip"),l.logEvent("chatgpt_composer_whisper_button_hovered"))},children:e})}export{F as WhisperIconButton,y as useWhisperHandleClick};
//# sourceMappingURL=du5o5dv3qu64p9fn.js.map

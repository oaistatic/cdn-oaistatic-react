const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kz0s7ojc7mrmc7u4.js","assets/ci5tkrccytan34lo.js","assets/fztttvm3qzdvif1h.js","assets/ccccre6vnqbb7l94.js","assets/root-ggl0dfwq.css","assets/conversation-small-dfayqh3x.css","assets/n3no0wqojk419ibl.js","assets/jy1u8exw8iz2slve.js","assets/obtq7sfq52r3quc0.js","assets/m3p85h1r7wwh3ar4.js","assets/jm451ka9dh0zq0oh.js","assets/k09abscj5rdhtj24.js","assets/i3iwctq0xt60nh9q.js","assets/ripbggolk2hb9coi.js","assets/ehn8yucug7pv4ztd.js","assets/48ooml6yvtknt927.js","assets/f76gy0b8ieo4s693.js","assets/gy64pge8qevmvg7e.js","assets/hapan2fx2czn21gi.js","assets/kzhevji8i57j71hk.js","assets/fry4relkhm829fbi.js","assets/brm2ak4qsea0c84s.js","assets/c576qrs41b9t65x5.js","assets/klnfiyrj7k551tnx.js","assets/k6feznao7t0jcslv.js","assets/o18ouakn8cm15oum.js","assets/ka28zal7zgew9liz.js","assets/ci2m3wbqqcn0abts.js","assets/fleacu6r5buu7d0q.js","assets/o44s14nukx2dxzhr.js","assets/jppil0z87oklini1.js","assets/ouhw3r04e64ny5cd.js","assets/kydr9ghab5t92b8t.js","assets/grb7n11yz9748g22.js","assets/h1rqozkinxrlxfws.js","assets/j3zg44ruze86crbd.js","assets/grqqoygx78z5w4fx.js","assets/h2gd34k3oh53zw7p.js","assets/a1fl09gjys8m3drr.js","assets/k4lih7nb4umlxxxc.js","assets/bgu7mt464bd85qmz.js","assets/ln3t6yic0tgf7gor.js","assets/bb4l02lm4p1hlo2s.js","assets/o5dcel4w1cacawdo.js","assets/eykh2s3cx0s4wv4b.js","assets/nplnc7nfjbqgwb50.js","assets/d6qfcfpf3ythcmx2.js","assets/hnwyihljdxrug66f.js","assets/musjw8fjkljbblfz.js","assets/oqppwvh4icbsp0jr.js","assets/eek6z6v9ww7qwx26.js","assets/gu8jz4865kkdzo16.js","assets/btagl6w1gub4aw61.js","assets/ncb925v49thozwa4.js","assets/md3szw2njgfh06wp.js","assets/f7jif0lf4ny3x7b9.js"])))=>i.map(i=>d[i]);
import{c as j,gM as I,e as S,aL as R,O as y,_ as w,L as F,a5 as A,gN as O,dG as k,fO as D,fi as z,gO as B,M as G}from"./ccccre6vnqbb7l94.js";import{j as e,M as V,r as b,c as W}from"./ci5tkrccytan34lo.js";import{b as v,F as q,C as K,a as J,c as U,d as Y}from"./j35k0ib6x4x2st6f.js";import{u as $,C as Q}from"./grqqoygx78z5w4fx.js";import{h8 as P,h9 as X,ha as Z,hb as ee,hc as te,hd as ae,P as N,he as se,hf as re,hg as oe,e0 as ne,cK as ie,hh as ce,hi as de,J as le,hj as me,hk as he,bt as ge,hl as ue,hm as xe,hn as pe,ho as fe,hp as Ce,hq as je,fR as be}from"./fztttvm3qzdvif1h.js";import"./pcjr7askdf0x3oga.js";import"./m3p85h1r7wwh3ar4.js";import{P as Se}from"./a1fl09gjys8m3drr.js";import{I as ve,M as _e,T as _}from"./nbtu70bcxl3kbodi.js";import{N as ye,L as we}from"./h1rqozkinxrlxfws.js";function M({isMobile:t=!1,includeArchived:a,setIncludeArchived:s}){const{data:r}=P(),o=!!r?.archived_images_count;return e.jsxs("header",{"data-landing-page-load-target":!0,className:j("flex w-full items-center justify-between",t&&"ps-2",!t&&"h-header-height bg-token-main-surface-primary sticky top-0 z-20 px-3 py-3 max-md:hidden"),children:[e.jsxs("div",{className:"flex items-center gap-1",children:[!t&&e.jsx(ye,{clientThreadId:I}),e.jsx("h1",{className:"text-lg font-normal tracking-[-0.28px] [text-box-trim:trim-both] [view-transition-name:var(--vt-tool-page-title)] md:px-3.5",children:e.jsx(V,{id:"9yCu65",defaultMessage:"Library"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsx(X,{includeArchived:a,setIncludeArchived:s}),!t&&e.jsx(we,{})]})]})}function Pe({includeArchived:t,setIncludeArchived:a}){const{images:s,hasNextPage:r,isLoading:o,isFetchingNextPage:n,fetchNextPage:c}=Z(t),{data:d,isLoading:i}=P(),l=ee();b.useEffect(()=>{S.logEventWithStatsig("chatgpt_web_image_library_page_viewed","chatgpt_web_image_library_page_viewed")},[]);const x=i,g=d?.images_count??0,m=!x&&!g,{onRequestCompletion:p,clientThreadId:u,currentModelId:f}=$(),C=te();return e.jsxs("div",{className:"flex w-full flex-1 flex-col items-center justify-self-center",children:[e.jsx(M,{includeArchived:t,setIncludeArchived:a}),e.jsxs("div",{className:j("w-full max-w-[1800px]",m?"pt-8":"max-md:pt-0"),children:[m&&e.jsx(ae,{borderless:!0,onClick:l}),!m&&e.jsx(N,{clientThreadId:u,forcedSystemHintType:R.PictureV2,children:e.jsxs(se,{children:[e.jsx(ve,{count:g,images:s,includeArchived:t,hasMoreImages:r,isFetchingMore:n||o,onScrollToEnd:c}),e.jsx("div",{className:j("transition-width pointer-events-none fixed end-0 bottom-4 z-10 flex justify-center px-4",C?"w-[calc(100%-var(--sidebar-width))]":"w-full"),children:e.jsx("div",{className:"pointer-events-auto w-full max-w-[768px]",children:e.jsx(Se,{clientThreadId:u,isNewThread:!0,currentModelId:f,onContinueGenerating:h=>p(oe(h)),onRequestCompletion:async h=>{S.logEventWithStatsig("chatgpt_web_image_library_composer_submitted","chatgpt_web_image_library_composer_submitted"),p(await re(h))},hideHeader:!0})})})]})})]})]})}const Ne=y(()=>w(()=>import("./kz0s7ojc7mrmc7u4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52])).then(t=>t.CanvasFocusedViewManager)),Me=y(()=>w(()=>import("./ncb925v49thozwa4.js"),__vite__mapDeps([53,1,3,4,54,2,5,55])).then(t=>t.SearchResultsModal));function Be({clientThreadId:t,setClientThreadId:a,urlThreadId:s,threadContent:r}){"use forget";const o=ne(),{createNewThread:n,resetThread:c}=ie({clientThreadId:t,setClientThreadId:a}),{pageType:d}=ce(),i=de(),l=d?.type==="library",[x,g]=b.useState(!1),m=!1,p=r??(l?e.jsx(Pe,{includeArchived:x,setIncludeArchived:g}):null),u=F(t,E=>G.getGizmoId(E)),f=le(u),C=b.useContext(A),h=O(C),L=o||h,H=h,T=!i&&(f||!u)?e.jsx(xe,{children:e.jsx(_,{clientThreadId:t,inMobileHeader:!0})}):e.jsx(_,{clientThreadId:t,inMobileHeader:!0});return e.jsxs(e.Fragment,{children:[e.jsx(Le,{clientThreadId:t,resetThread:c}),e.jsx(me,{clientThreadId:t,urlThreadId:s}),e.jsx(N,{clientThreadId:t,children:e.jsx(Q,{clientThreadId:t,children:e.jsxs(v,{hideNavigation:L,mobileHeaderRightContentExpanded:l||m,mobileHeaderContent:l||m?null:T,mobileHeaderBottomContent:e.jsx(ue,{clientThreadId:t}),mobileHeaderLeftContent:e.jsx(Y,{onNewChatButtonClick:c}),mobileHeaderRightContent:l?e.jsx(M,{isMobile:!0,includeArchived:x,setIncludeArchived:g}):e.jsx(U,{clientThreadId:t,onNewChatButtonClick:c}),renderNavSidebar:()=>e.jsx(ge,{navHeader:e.jsx(J,{onNewThread:n}),children:e.jsx(K,{clientThreadId:t,onNewThread:n})}),threadFlyout:e.jsx(q,{clientThreadId:t}),children:[e.jsx(he,{}),p??e.jsx(_e,{clientThreadId:t,hideHeader:H},t),e.jsxs(v.Sidebars,{children:[e.jsx(Ne,{clientThreadId:t}),!1,!1,!1,!1]})]})})}),e.jsx(He,{clientThreadId:t})]})}function Le(t){"use forget";const a=W.c(7),{clientThreadId:s,resetThread:r}=t;let o;a[0]!==s?(o={clientThreadId:s},a[0]=s,a[1]=o):o=a[1],pe(o),fe(s);let n;a[2]!==s||a[3]!==r?(n={resetThreadAction:r,clientThreadId:s},a[2]=s,a[3]=r,a[4]=n):n=a[4],Ce(n);const c=k(s),d=je(c);let i;return a[5]!==d?(i=e.jsx(e.Fragment,{children:d}),a[5]=d,a[6]=i):i=a[6],i}function He({clientThreadId:t}){const a=D(),s=z(),r=be();return!a||!s||r?null:e.jsxs(e.Fragment,{children:[B(a,"searchSources")&&e.jsx(Me,{clientThreadId:t}),!1]})}export{Be as C};
//# sourceMappingURL=bgxcr4w8j7zvelhd.js.map

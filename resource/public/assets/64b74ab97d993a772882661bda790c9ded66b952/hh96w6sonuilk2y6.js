import{i as y,r as m,a as j,j as e,M as i,e as T}from"./ci5tkrccytan34lo.js";import{c9 as x,aa as b,d7 as N,B as u,b as M}from"./ccccre6vnqbb7l94.js";import{g as G}from"./bj6lj4ia2dzck3r4.js";import{L as P}from"./fztttvm3qzdvif1h.js";import{a as _}from"./lowhbnnh83h9k67b.js";function I({isOpen:g,onClose:d,account:n,gpt:f}){const v=y(),[p,c]=m.useState(!1),[a,o]=m.useState(f),l=a?.tools.filter(s=>s.type!==x.JIT_PLUGIN),r=a?.tools.filter(s=>s.type===x.JIT_PLUGIN),h=j();return e.jsxs(b,{testId:"modal-approve-gpt",size:"custom",className:"max-w-lg text-sm",isOpen:g,onClose:N,type:"success",title:v.formatMessage(t.approveGPTTitle),children:[a==null?e.jsx("div",{className:"h-96",children:e.jsx(_,{popoverClassName:"bg-token-main-surface-secondary!",onSelect:s=>{o(s)}})}):e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"border-token-border-default flex gap-4 border-b pb-6",children:[a.gizmo.display.profile_picture_url!=null?e.jsx("img",{src:a.gizmo.display.profile_picture_url,className:"h-24 w-24 rounded-full",width:96,height:96}):e.jsx(P,{className:"h-96 w-96 text-gray-400"}),e.jsxs("div",{className:"text-token-text-primary flex flex-col gap-1",children:[e.jsx("p",{className:"text-lg font-semibold",children:a.gizmo.display.name}),e.jsx("p",{children:a.gizmo.display.description}),e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(i,{...t.gptByLine,values:{authorName:a.gizmo.author.display_name}})})]})]}),e.jsx("div",{className:"border-token-border-default flex border-b py-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{className:"w-24 font-semibold",children:e.jsx(i,{...t.capabilitiesTitle})}),e.jsx("div",{className:"text-token-text-primary flex flex-col gap-1",children:l&&l.length>0?l.map(s=>e.jsx("p",{children:G(n,s.type)},s.id)):e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(i,{...t.noCapabilitiesEnabled})})})]})}),e.jsx("div",{className:"flex py-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("p",{className:"w-24 font-semibold",children:e.jsx(i,{...t.actionsTitle})}),e.jsx("div",{className:"text-token-text-primary flex flex-col gap-1",children:r&&r.length>0?r.map(s=>e.jsx("p",{children:s.metadata.domain??""},s.id)):e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(i,{...t.noCustomActions})})})]})})]}),e.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[e.jsx(u,{color:"secondary",onClick:()=>{o(void 0),d(!1)},loading:p,children:e.jsx(i,{...t.cancelButtonText})}),e.jsx(u,{color:"primary",loading:p,disabled:a==null,onClick:()=>{a!=null&&(c(!0),M.safePost("/accounts/{account_id}/gpts/{third_party_gizmo_id}/approve",{parameters:{path:{account_id:n.id,third_party_gizmo_id:a.gizmo.id}}}).finally(()=>{h.invalidateQueries({queryKey:["gizmo"]}),d(!0),o(void 0),c(!1)}))},children:e.jsx(i,{...t.approveButtonText})})]})]})}const t=T({approveGPTTitle:{id:"approveGPTModal.approveGPTTitle",defaultMessage:"Approve a third-party GPT"},cancelButtonText:{id:"approveGPTModal.cancelButtonText",defaultMessage:"Cancel"},approveButtonText:{id:"approveGPTModal.approveButtonText",defaultMessage:"Approve"},gptByLine:{id:"approveGPTModal.gptByLine",defaultMessage:"By {authorName}"},capabilitiesTitle:{id:"approveGPTModal.capabilitiesTitle",defaultMessage:"Capabilities"},actionsTitle:{id:"approveGPTModal.actionsTitle",defaultMessage:"Actions"},noCapabilitiesEnabled:{id:"approveGPTModal.noCapabilitiesEnabled",defaultMessage:"No capabilities enabled"},noCustomActions:{id:"approveGPTModal.noCustomActions",defaultMessage:"No custom actions"}});export{I as A};
//# sourceMappingURL=hh96w6sonuilk2y6.js.map

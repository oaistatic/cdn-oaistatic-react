import{l9 as A,h as C,b7 as g,a as y,c as O,ap as R,aV as w,aU as E,j6 as b,P as S,b3 as T}from"./cim4usely8ixso70.js";import{o as x,a as v,O as L,r as i,ae as j,j as o,d as U}from"./n97h6so7iblif4c5.js";import{C as k}from"./kfttpd1cc0u1rrbk.js";import{A as F}from"./imgcbqb29wg9v4da.js";import{C as s}from"./lzd04jwh0e8rky7q.js";import"./lgwn8lf5xrondcxt.js";import"./g2in2vnq3t76stbi.js";import"./ivbsxyeeopn30y8l.js";import"./nw77hv3bmgb5l1rn.js";import"./ib76cquqlyjrlt71.js";const m={pro:"chatgptpro",plus:"chatgptplusplan"},f=Object.keys(s),D={oiw216z:"sora_redirect",vza493q:"operator_redirect"};function I(r){r&&s[r]&&(window.location.href=s[r])}const Q=A(function(){const[h]=x(),n=v(),_=C(),{plan:a}=L(),e=h.get("checkout_from"),l=i.useRef(!1),t=g(),u=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]),M=y(),c=O(M,"1719651090");if(!a||!(a in m))throw j("/");return i.useEffect(()=>{if(!t||l.current)return;if(l.current=!0,e==="vza493q"){t.hasPaidSubscription()&&t.isPro()?window.location.href=s[e]:c||n("/");return}(async()=>{const p=e&&f.includes(e)?D[e]:"purchase_plan_redirect";try{e&&f.includes(e)&&w.setItem(E.CheckoutFrom,e);const d=await k.getCheckoutLink({plan_name:m[a],billing_details:{currency:b}});S.logEvent("Account Pay: Purchase Plan Redirect",{...u,plan:a,location:p}),window.location.href=d.url}catch{T(n,p)}})()},[n,_,a,e,u,c,t]),o.jsxs(o.Fragment,{children:[t&&e==="vza493q"&&c&&o.jsx(F,{currentAccount:t,onClose:()=>I(e),subtitle:P.operatorModalSubtitle,title:P.operatorModalTitle}),o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(R,{})})]})}),P=U({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{Q as default};
//# sourceMappingURL=j3cu3fze8cwkx6rh.js.map

import{l9 as p,cx as c,cb as l,fA as m,cD as u,mS as f}from"./cim4usely8ixso70.js";import{K as h,N as _,r as g}from"./n97h6so7iblif4c5.js";import{c as R,f as T}from"./ivbsxyeeopn30y8l.js";import"./n8gf07a745v1aikq.js";import"./hl263mv5vjd6fe09.js";import"./h55ppl11pikjl825.js";import"./o9aygkglauyctw2w.js";import"./dl6wm3f4iy2ldybm.js";import"./ib76cquqlyjrlt71.js";import"./g86fwc5245pbdtof.js";import"./kgkkjgk15rr7n5rs.js";import"./dtltw5so60m9d99q.js";const w=()=>[{title:"ChatGPT"}],G=()=>!1;function S(e){const o={},a="client-created-root";o[a]={id:a,message:{id:a,author:{role:u.Root},content:{content_type:m.Text,parts:[]}},parent:"",children:[]};let n=a;const r=[],s=new Set;for(const t of e.messages)s.add(t.id);for(const t of e.messages){let i=t.metadata?.parent_id??n;s.has(i)||(i=n),o[t.id]={id:t.id,message:t,parent:i,children:[]},n=t.id,r.push(...t.metadata?.safe_urls??[])}for(const[t,i]of Object.entries(o))i.parent!==""&&o[i.parent]?.children?.push(t);const d=e.conversation_id??e.id;return{title:e.title??null,conversation_id:d,mapping:o,current_node:n,moderation_results:[],safe_urls:e.safe_urls??r,...f(e,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember")}}const I=p(function(){const o=h(),a=_(),n=o??a;c.debug(`IN: POST=${o?.length}, GET=${a?.length}`);const r=JSON.parse(n),s=r.conversation_id??r.id;return g.useEffect(()=>{const d=S(r);R(s,d),T(s),l(s,t=>{t.continuingFromSharedConversationId=s})},[]),c.debug(`Ready ${s} (SERVER: false) : ${n.length} byte(s)`),null});export{I as default,w as meta,G as shouldRevalidate};
//# sourceMappingURL=fsm94ursszyh80kr.js.map

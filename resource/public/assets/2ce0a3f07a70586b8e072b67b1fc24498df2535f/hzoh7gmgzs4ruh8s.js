const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/db99tfwz6zrvm0fy.js","assets/cim4usely8ixso70.js","assets/n97h6so7iblif4c5.js","assets/root-c9lkqywj.css","assets/ivbsxyeeopn30y8l.js","assets/conversation-small-dhmr708a.css","assets/sulgfdq78eha12hd.js","assets/hdrvqd5ijky6sogh.js","assets/n8gf07a745v1aikq.js","assets/h55ppl11pikjl825.js","assets/o9aygkglauyctw2w.js","assets/dl6wm3f4iy2ldybm.js","assets/ib76cquqlyjrlt71.js","assets/g86fwc5245pbdtof.js","assets/kgkkjgk15rr7n5rs.js","assets/dtltw5so60m9d99q.js","assets/nc2nsxtc8iyichny.js","assets/g1gh2pdal3y13b7m.js","assets/dniesp3sb620z3uc.js","assets/k5qf6pgck1wqkdil.js","assets/jdpqs7fyetm56n9m.js","assets/guo5l9txshtco59p.js","assets/hl263mv5vjd6fe09.js","assets/ii201y5t1b1h1mp8.js","assets/h4fdnlm7sd0q4bx6.js","assets/h9tp22amv82hbzu6.js","assets/oh5hky5fq5ynbscs.js"])))=>i.map(i=>d[i]);
import{ae as De,hn as Be,ac as A,ad as M,a as Ue,as as We,mx as Ge,aG as Me,h5 as He,bd as Ye,dW as Ke,oC as Qe,oD as qe,cF as ye,oE as Je,aS as Xe,oF as $e,kH as Ze,bg as Ne,aY as et,iF as tt,aJ as st,a_ as it,nW as ot,cB as at,cH as rt,m_ as nt}from"./cim4usely8ixso70.js";import{j as s,r as a,A as lt,m as Ve,c as ct,f as Le,o as dt,h as ft}from"./n97h6so7iblif4c5.js";import{gg as ut,gh as gt,bY as mt,gi as ht,c0 as ze,fq as pt,bg as Ae,bh as Re,gj as xt,gk as vt,gl as bt,gm as _t,gn as Et,go as jt,gp as wt,gq as Ct,gr as Pt,gs as St,gt as Tt,gu as kt,gv as Ot,gw as It,gx as Ft,gy as At,gz as Mt,X as yt,gA as Nt,gB as Vt,gC as Lt,gD as zt,T as Rt,gE as Dt,d1 as Bt,gF as Ut}from"./ivbsxyeeopn30y8l.js";import{P as Wt}from"./n8gf07a745v1aikq.js";import{C as Gt}from"./nc2nsxtc8iyichny.js";import{M as Ht}from"./guo5l9txshtco59p.js";function Yt({clientThreadId:o}){const e=ut();return s.jsxs(s.Fragment,{children:[e&&s.jsx(gt,{}),s.jsx(Kt,{clientThreadId:o})]})}function Kt({clientThreadId:o}){const e=a.useContext(mt),[i,l]=a.useState(!!e?.postWithProfile&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(c=>c.kind==="media_generation"));return!e?.postWithProfile||!i?null:s.jsx(De,{clientThreadId:o,children:s.jsx(Wt,{clientThreadId:o,postWithProfile:e.postWithProfile,onClose:()=>l(!1)})})}const Qt=450;function qt({children:o,clientThreadId:e,isOpen:i,onClose:l,type:c}){return s.jsx(lt,{children:i&&s.jsx(Be,{children:s.jsx(ht.Provider,{value:{isEmbeddedInFocusedView:!0,type:c},children:s.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[s.jsx(Ve.div,{className:"bg-token-main-surface-secondary h-full w-full",...ze}),s.jsxs("div",{className:"absolute inset-0 flex",children:[s.jsx("div",{className:"grow overflow-auto",children:o}),s.jsx(Ve.div,{className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:Qt},...ze,children:s.jsx("div",{className:"h-[100vh] pb-4",children:s.jsx(Ht,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})})]})]})})})})}const Jt=A(()=>M(()=>import("./db99tfwz6zrvm0fy.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Xt=A(()=>M(()=>import("./hdrvqd5ijky6sogh.js"),__vite__mapDeps([7,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22])).then(o=>o.ImageEditor));function $t({clientThreadId:o}){const e=pt();a.useEffect(()=>{Ae.close()},[o]);let i;return e?.type===Re.ADAVisualization?i=s.jsx(Jt,{clientThreadId:o,visualization:e.visualization}):e?.type===Re.Image&&(i=s.jsx(Xt,{clientThreadId:o,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),s.jsx(qt,{clientThreadId:o,isOpen:e!=null,onClose:Ae.close,type:e?.type,children:i})}var Zt={};const es=({children:o})=>s.jsx(s.Fragment,{children:o}),ts=A(()=>M(()=>import("./ii201y5t1b1h1mp8.js"),__vite__mapDeps([23,2,4,1,3,5]))),ss=A(()=>M(()=>import("./h4fdnlm7sd0q4bx6.js"),__vite__mapDeps([24,2,1,3,4,5,25,21,15,14,10,11,12,13,8,9,19,20,22]))),is=A(()=>M(()=>import("./oh5hky5fq5ynbscs.js"),__vite__mapDeps([26,2,1,3,4,5])));function fs(o){"use forget";const e=ct.c(116),{urlThreadId:i,clientThreadId:l,prefetchSearch:c}=o,r=Ue(),d=We(),y=Ge(),k=Le(),[O]=dt();let N;e[0]!==l||e[1]!==i?(N=()=>{if(i!==void 0){const n=i;return qe(n)??n}return l!==void 0?l:ye()},e[0]=l,e[1]=i,e[2]=N):N=e[2];const[t,I]=a.useState(N);i!==void 0&&t!==i&&(Me(t)===i||I(i));let V;e[3]!==t||e[4]!==r?(V=He(r,t),e[3]=t,e[4]=r,e[5]=V):V=e[5];const Te=V,ke=Le();let L;e[6]!==ke?(L=xt(ke),e[6]=ke,e[7]=L):L=e[7];const Oe=L;let z;e[8]!==t||e[9]!==i?(z=()=>{i===void 0&&Me(t)!==void 0&&I(ye())},e[8]=t,e[9]=i,e[10]=z):z=e[10];let R;e[11]!==t||e[12]!==Oe||e[13]!==i?(R=[i,t,Oe],e[11]=t,e[12]=Oe,e[13]=i,e[14]=R):R=e[14],a.useEffect(z,R);const Ie=Ye(Ke.workspaceId),{eligible:D,isLoading:B,markAsViewed:U}=vt(),W=bt(),{eligible:G,isLoading:H,markAsViewed:Y}=_t(),K=Et(),{eligible:Q,isLoading:q,markAsViewed:J}=jt(),X=wt(),{eligible:$,isLoading:Z,markAsViewed:ee}=Ct(),te=Pt();let se,ie;e[15]!==r?(se=()=>{Je(!0).then(n=>{n.force_login&&Xe(r,{authType:"login"}),$e.initializeAndGatherData(n),Ze.initializeAndGatherData(n)})},ie=[r],e[15]=r,e[16]=se,e[17]=ie):(se=e[16],ie=e[17]),a.useEffect(se,ie);let oe,ae;e[18]!==y||e[19]!==d||e[20]!==O?(oe=()=>{const n=O.get(Tt)==="true",F=O.get(kt)==="true";F!==y&&Ne.setIsAnonModeEnabled(F),d!==n&&Ne.setIsTemporaryChatEnabled(n)},ae=[d,y,O],e[18]=y,e[19]=d,e[20]=O,e[21]=oe,e[22]=ae):(oe=e[21],ae=e[22]),a.useEffect(oe,ae);let re;e[23]!==k.state?(re=()=>{k.state?.focusObject&&Ae.setFocusedObject(k.state.focusObject)},e[23]=k.state,e[24]=re):re=e[24];const Fe=k.state?.focusObject;let ne;e[25]!==Fe?(ne=[Fe],e[25]=Fe,e[26]=ne):ne=e[26],a.useEffect(re,ne);let le,ce;e[27]!==D||e[28]!==B||e[29]!==U||e[30]!==W?(le=()=>{!B&&D&&(U(),W())},ce=[D,B,U,W],e[27]=D,e[28]=B,e[29]=U,e[30]=W,e[31]=le,e[32]=ce):(le=e[31],ce=e[32]),a.useEffect(le,ce);let de,fe;e[33]!==G||e[34]!==H||e[35]!==Y||e[36]!==K?(de=()=>{!H&&G&&(Y(),K())},fe=[G,H,Y,K],e[33]=G,e[34]=H,e[35]=Y,e[36]=K,e[37]=de,e[38]=fe):(de=e[37],fe=e[38]),a.useEffect(de,fe);let ue,ge;e[39]!==Q||e[40]!==q||e[41]!==J||e[42]!==X?(ue=()=>{!q&&Q&&(J(),X())},ge=[Q,q,J,X],e[39]=Q,e[40]=q,e[41]=J,e[42]=X,e[43]=ue,e[44]=ge):(ue=e[43],ge=e[44]),a.useEffect(ue,ge);let me,he;e[45]!==$||e[46]!==Z||e[47]!==ee||e[48]!==te?(me=()=>{!Z&&$&&(ee(),te())},he=[$,Z,ee,te],e[45]=$,e[46]=Z,e[47]=ee,e[48]=te,e[49]=me,e[50]=he):(me=e[49],he=e[50]),a.useEffect(me,he),St(t);const f=ft();let pe,xe;e[51]!==r||e[52]!==f?(pe=()=>{et(r)&&Ot(f)},xe=[f,r],e[51]=r,e[52]=f,e[53]=pe,e[54]=xe):(pe=e[53],xe=e[54]),a.useEffect(pe,xe);let ve,be;e[55]!==d||e[56]!==f?(ve=()=>tt(at,{completionFinished:n=>{if(n.serverThreadId!=null&&!d){const F=st(n.serverThreadId)?.mode;F?.kind===it.GizmoInteraction&&ot.handleGizmoInteracted(f,F.gizmo_id)}}}),be=[d,f],e[55]=d,e[56]=f,e[57]=ve,e[58]=be):(ve=e[57],be=e[58]),a.useEffect(ve,be);let u;e[59]!==t||e[60]!==Ie?(u=s.jsx(It,{clientThreadId:t,page:"chat"},Ie),e[59]=t,e[60]=Ie,e[61]=u):u=e[61];let g;e[62]!==t?(g=s.jsx(os,{clientThreadId:t,setClientThreadId:I}),e[62]=t,e[63]=g):g=e[63];let _e,Ee;e[64]===Symbol.for("react.memo_cache_sentinel")?(_e=s.jsx(ts,{}),Ee=s.jsx(Ft,{}),e[64]=_e,e[65]=Ee):(_e=e[64],Ee=e[65]);let je;e[66]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx(At,{}),e[66]=je):je=e[66];let m;e[67]!==t||e[68]!==i?(m=s.jsx(Gt,{urlThreadId:i,clientThreadId:t,setClientThreadId:I}),e[67]=t,e[68]=i,e[69]=m):m=e[69];let h;e[70]!==t||e[71]!==m?(h=s.jsx(Mt,{clientThreadId:t,children:m}),e[70]=t,e[71]=m,e[72]=h):h=e[72];let p;e[73]!==t?(p=s.jsx(Yt,{clientThreadId:t}),e[73]=t,e[74]=p):p=e[74];let x;e[75]!==t||e[76]!==c||e[77]!==h||e[78]!==p?(x=s.jsxs(yt,{clientThreadId:t,setClientThreadId:I,prefetchSearchPromises:c,children:[je,h,p]}),e[75]=t,e[76]=c,e[77]=h,e[78]=p,e[79]=x):x=e[79];let v;e[80]!==t||e[81]!==u||e[82]!==g||e[83]!==x?(v=s.jsxs(rt,{clientThreadId:t,children:[u,g,_e,Ee,x]}),e[80]=t,e[81]=u,e[82]=g,e[83]=x,e[84]=v):v=e[84];let b,_;e[85]!==t?(b=s.jsx($t,{clientThreadId:t}),_=s.jsx(Nt,{clientThreadId:t}),e[85]=t,e[86]=b,e[87]=_):(b=e[86],_=e[87]);let we;e[88]===Symbol.for("react.memo_cache_sentinel")?(we=s.jsx(Vt,{}),e[88]=we):we=e[88];let E;e[89]!==t?(E=s.jsx(Lt,{clientThreadId:t}),e[89]=t,e[90]=E):E=e[90];let Ce;e[91]===Symbol.for("react.memo_cache_sentinel")?(Ce=s.jsx(zt,{}),e[91]=Ce):Ce=e[91];let j;e[92]!==t||e[93]!==v||e[94]!==b||e[95]!==_||e[96]!==E?(j=s.jsxs(De,{clientThreadId:t,children:[v,b,_,we,E,Ce]}),e[92]=t,e[93]=v,e[94]=b,e[95]=_,e[96]=E,e[97]=j):j=e[97];let w;e[98]!==t||e[99]!==j?(w=s.jsx(Rt,{clientThreadId:t,children:j}),e[98]=t,e[99]=j,e[100]=w):w=e[100];let C;e[101]!==t||e[102]!==w?(C=s.jsx(es,{clientThreadId:t,children:w}),e[101]=t,e[102]=w,e[103]=C):C=e[103];let P;e[104]!==t||e[105]!==C?(P=s.jsx(Dt,{clientThreadId:t,children:C}),e[104]=t,e[105]=C,e[106]=P):P=e[106];let Pe;e[107]===Symbol.for("react.memo_cache_sentinel")?(Pe=!1,e[107]=Pe):Pe=e[107];let S;e[108]!==t?(S=!1,e[108]=t,e[109]=S):S=e[109];let T;e[110]!==P||e[111]!==S?(T=s.jsxs(nt,{children:[P,Pe,S]}),e[110]=P,e[111]=S,e[112]=T):T=e[112];let Se;return e[113]!==Te||e[114]!==T?(Se=s.jsx(Qe.Provider,{value:Te,children:T}),e[113]=Te,e[114]=T,e[115]=Se):Se=e[115],Se}function os({clientThreadId:o,setClientThreadId:e}){const{isOpen:i,isLoading:l}=Bt(),{isOpen:c,isLoading:r}=Ut();return!l&&i?s.jsx(ss,{clientThreadId:o,setClientThreadId:e}):!r&&c?s.jsx(is,{clientThreadId:o}):null}typeof window<"u"&&(window._g=Zt.GOKU_SERVICE);export{fs as C,Qt as F};
//# sourceMappingURL=hzoh7gmgzs4ruh8s.js.map

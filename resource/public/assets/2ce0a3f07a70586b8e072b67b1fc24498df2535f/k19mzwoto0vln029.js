import{b as S,r as C,j as e,M as d}from"./n97h6so7iblif4c5.js";import{at as w,au as f,av as a,aw as k,ax as B}from"./ivbsxyeeopn30y8l.js";import{at as _,a as F,aN as L,c as A,b9 as T,B as b,d as u,C as O,bx as G,P as I,fT as z}from"./cim4usely8ixso70.js";import{E as H}from"./k5qf6pgck1wqkdil.js";import{C as W}from"./jdpqs7fyetm56n9m.js";function Y({submitButtonTitle:x,onClose:o,onSuccess:p,gizmo:i}){const l=S(),y=_(),r=w(),j=F(),N=!L(),v=!i,M=A(j,"4283270305"),[c,P]=C.useState(i?.gizmo.display.name??"");if(M)return e.jsx(H,{submitButtonTitle:x,onClose:o,onSuccess:p,gizmo:i});const s=N&&T(j).getLayer("3081064739").get("project-modal",!1),m=[];c.length>f&&m.push(l.formatMessage(a.nameTooLong,{length:f}));const E=async()=>{try{const{id:t,resource:n}=await r.mutateAsync({update:{name:c},id:i?.gizmo.id??B});p?.(t??n?.gizmo.id),o()}catch(t){const n=z(t);y.warning(n??"Error",{duration:5,hasCloseButton:!0})}},g=e.jsx(b,{className:u(s&&"w-fit"),type:"submit",form:"project-modal-form",loading:r.isPending,disabled:!c.trim()||m.length>0,children:x??e.jsx(d,{...a.createProjectSubmit})}),h=e.jsx(b,{className:u(s&&"w-fit"),color:"secondary",onClick:o,disabled:r.isPending,children:e.jsx(d,{...a.createProjectCancel})});return e.jsx(O,{testId:"modal-create-or-edit-project",isOpen:!0,isBottomSheet:s,hideSeparator:!0,noPadding:!0,onCloseComplete:()=>{o()},showCloseButton:!r.isPending,size:"custom",className:"max-w-lg",type:"success",primaryButton:s?g:void 0,secondaryButton:s?h:void 0,title:e.jsx("div",{className:"h-8",children:l.formatMessage(a.projectNameLabel)}),onClose:()=>{r.isPending||o()},children:e.jsxs("form",{id:"project-modal-form",onSubmit:t=>{t.preventDefault(),I.logEventWithStatsig("Projects: Create Submit","chatgpt_web_projects_create_submit"),E()},children:[e.jsxs("div",{className:u(!s&&"mt-2 px-4"),children:[e.jsx(W.AutoFocusTarget,{timing:"present",children:e.jsx("input",{autoFocus:!s,className:"focus:ring-token-text-primary border-token-border-medium focus:border-token-border-medium bg-token-main-surface-primary h-9 w-full resize-none overflow-y-auto rounded-lg border px-3 py-2 focus:ring-2",type:"text",name:"projectName",autoComplete:"off",placeholder:l.formatMessage(a.projectNamePlaceholder),value:c,onChange:t=>P(t.target.value)})}),m.map((t,n)=>e.jsx("div",{className:"mt-1 text-sm text-red-500",children:t},n)),v&&e.jsxs("div",{className:"dark:bg-token-main-surface-secondary mt-6 flex items-start rounded-xl bg-[#F9F9F9] p-3",children:[e.jsx("div",{className:"me-2 h-6 w-6",children:e.jsx("div",{className:"text-token-text-secondary relative flex h-full items-center justify-center",children:e.jsx(k,{className:"icon"})})}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-token-text-secondary block text-xs font-medium",children:e.jsx(d,{...a.projectHelperBoxTitle})}),e.jsx("p",{className:"text-token-text-secondary text-xs",children:e.jsx(d,{...a.projectHelperBoxDescription})})]})]})]}),!s&&e.jsx("div",{className:"px-4 pb-4 sm:px-6 sm:pb-6",children:e.jsx(G.Actions,{primaryButton:g,secondaryButton:h})})]})})}export{Y as CreateOrEditProjectModal};
//# sourceMappingURL=k19mzwoto0vln029.js.map

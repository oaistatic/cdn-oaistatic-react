import{r as a,ai as ve,j as e,A as Y,m as N,M as y,d as ke,u as je,b as V}from"./n97h6so7iblif4c5.js";import{a as K,h5 as Se,aE as R,bb as Ce,aD as ce,bu as Me,gx as Ee,aC as ee,a6 as E,P as _,bW as ue,dd as Ne,gu as Le,eM as Te,B as M,u as De,A as Oe,h7 as de,d as Ae,ae as Pe,cH as qe,fC as Re,iS as Ie,lC as Ue,R as Fe,aw as We,aI as G,ga as He}from"./cim4usely8ixso70.js";import{d1 as Be,dB as Ge,dC as Ye,X as ze,dD as Qe,dE as Ve,dF as Ke,dG as $e,dH as Ze,as as Je,dI as Xe,dJ as et}from"./ivbsxyeeopn30y8l.js";import{S as tt}from"./h9tp22amv82hbzu6.js";import{M as st}from"./guo5l9txshtco59p.js";import"./dtltw5so60m9d99q.js";import"./kgkkjgk15rr7n5rs.js";import"./o9aygkglauyctw2w.js";import"./dl6wm3f4iy2ldybm.js";import"./ib76cquqlyjrlt71.js";import"./g86fwc5245pbdtof.js";import"./n8gf07a745v1aikq.js";import"./h55ppl11pikjl825.js";import"./k5qf6pgck1wqkdil.js";import"./jdpqs7fyetm56n9m.js";import"./hl263mv5vjd6fe09.js";const nt=t=>a.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},a.createElement("path",{d:"M16.6263 9.833C16.6263 9.12214 16.6264 8.62857 16.5951 8.24511C16.5721 7.96372 16.5341 7.7745 16.4828 7.63086L16.4271 7.5C16.2732 7.198 16.0386 6.94582 15.7513 6.76953L15.6244 6.69824C15.4664 6.61782 15.2548 6.56095 14.8793 6.53027C14.4958 6.49896 14.0023 6.49804 13.2914 6.49804H6.70837C5.99734 6.49804 5.504 6.49894 5.12048 6.53027C4.83848 6.55331 4.64903 6.5911 4.50525 6.64258L4.37537 6.69824C4.07317 6.85221 3.82024 7.08648 3.64392 7.37402L3.57361 7.5C3.49312 7.65796 3.43635 7.86961 3.40564 8.24511C3.37431 8.62857 3.37341 9.12214 3.37341 9.833V12.667C3.37341 13.3779 3.37431 13.8714 3.40564 14.2549C3.43635 14.6304 3.49312 14.842 3.57361 15L3.64392 15.126C3.82024 15.4135 4.07317 15.6478 4.37537 15.8018L4.50525 15.8574C4.64903 15.9089 4.83848 15.9467 5.12048 15.9697C5.504 16.0011 5.99734 16.002 6.70837 16.002H13.2914C14.0023 16.002 14.4958 16.001 14.8793 15.9697C15.2548 15.939 15.4664 15.8822 15.6244 15.8018L15.7513 15.7305C16.0386 15.5542 16.2732 15.302 16.4271 15L16.4828 14.8691C16.5341 14.7255 16.5721 14.5363 16.5951 14.2549C16.6264 13.8714 16.6263 13.3779 16.6263 12.667V9.833ZM10.0004 3.16504C9.38692 3.16504 9.07658 3.16777 8.87048 3.19336L8.69177 3.22754C8.09807 3.38662 7.6265 3.83141 7.43005 4.4082L7.39392 4.52539C7.35649 4.6653 7.34232 4.8343 7.3363 5.16797H12.6635C12.6597 4.9606 12.654 4.81679 12.64 4.7041L12.6058 4.52539C12.4467 3.93162 12.0021 3.4591 11.4252 3.26269L11.308 3.22754C11.096 3.1708 10.8175 3.16504 10.0004 3.16504ZM17.9564 12.667C17.9564 13.3559 17.9571 13.9131 17.9203 14.3633C17.8875 14.7639 17.8224 15.1246 17.6781 15.4609L17.6117 15.6035C17.3462 16.1245 16.9423 16.5602 16.4467 16.8643L16.2289 16.9863C15.8521 17.1783 15.4457 17.2575 14.9877 17.2949C14.5375 17.3317 13.9804 17.332 13.2914 17.332H6.70837C6.01928 17.332 5.46233 17.3317 5.01209 17.2949C4.61151 17.2622 4.25067 17.1979 3.91443 17.0537L3.77185 16.9863C3.25065 16.7208 2.81424 16.3172 2.51013 15.8213L2.38806 15.6035C2.19621 15.2269 2.1169 14.821 2.07947 14.3633C2.04269 13.9131 2.04334 13.3559 2.04334 12.667V9.833C2.04334 9.14406 2.04269 8.58689 2.07947 8.13672C2.1169 7.67895 2.19621 7.27308 2.38806 6.89648L2.51013 6.67871C2.81424 6.18278 3.25065 5.77923 3.77185 5.51367L3.91443 5.44629C4.25067 5.30209 4.61151 5.23781 5.01209 5.20508C5.29794 5.18172 5.6269 5.17386 6.00525 5.1709C6.01203 4.77676 6.03422 4.46253 6.10974 4.18066L6.17127 3.97851C6.51023 2.98399 7.32423 2.2167 8.34802 1.94238L8.51013 1.90527C8.8991 1.83029 9.35972 1.83496 10.0004 1.83496C10.7324 1.83496 11.229 1.82884 11.6527 1.94238L11.8549 2.0039C12.8495 2.34282 13.6166 3.15683 13.891 4.18066L13.9281 4.34375C13.9743 4.58375 13.988 4.85098 13.9935 5.1709C14.3724 5.17385 14.7015 5.1817 14.9877 5.20508C15.4457 5.2425 15.8521 5.3217 16.2289 5.51367L16.4467 5.63574C16.9423 5.93983 17.3462 6.37546 17.6117 6.89648L17.6781 7.03906C17.8224 7.37537 17.8875 7.73605 17.9203 8.13672C17.9571 8.58689 17.9564 9.14406 17.9564 9.833V12.667Z"}));function ot(t,n,i){const{data:u,isLoading:r,isSuccess:d,isError:c}=je({queryKey:["onboardingSteps",n,i],enabled:!t,queryFn:()=>{const b=Fe.safePost("/onboarding/steps",{requestBody:{main_usage:void 0,main_usages:n,user_description:i,exclude_feature_steps:t},authOption:We.SendIfAvailable}),w=new Promise((o,p)=>setTimeout(()=>p(new Error("Request timed out")),7e3));return Promise.race([b,w])}});return{steps:u?.steps??[],isLoading:r,isSuccess:d,isError:c}}function I({children:t,className:n}){return e.jsx(N.div,{className:n,initial:{opacity:0,y:7},animate:{opacity:1,y:0},transition:{duration:.2},exit:{opacity:0,y:-7},children:t})}function at({isUserInfoReady:t,setShowLoadingScreen:n,userName:i}){return a.useEffect(()=>{const u=setTimeout(()=>{n(!1)},3900);return()=>clearTimeout(u)},[n]),e.jsx(I,{className:"max-sm:px-5 max-sm:py-4",children:t&&e.jsx("h1",{className:"text-token-text-primary mb-2 text-center text-3xl leading-9 font-medium",children:e.jsxs(Y,{children:[e.jsx(N.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},exit:{opacity:0,y:-10},children:i?e.jsx(y,{...l.niceToMeetYou,values:{name:i}}):e.jsx(y,{...l.niceToMeetYouWithoutName})}),e.jsx(N.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.5},exit:{opacity:0,y:-10},children:e.jsx(y,{...l.heresQuickTour})})]})})})}function it({clientThreadId:t,createNewThread:n,isNewThread:i,endOnboarding:u}){const r=K(),{eligible:d,isLoading:c,markAsViewed:g}=De(Oe.Onboarding);return a.useEffect(()=>{R(r,"109457",{disableExposureLog:!0}).get("new_thread_after_onboarding",!1)&&!i&&n()},[n,r,i]),a.useEffect(()=>{d&&!c&&g()},[g,d,c]),e.jsxs(I,{className:"flex flex-col items-center justify-between max-sm:h-full max-sm:w-full max-sm:py-4 sm:w-[320px] sm:justify-center sm:gap-y-12",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-4 text-center max-sm:flex-1",children:[e.jsx(de,{className:"text-token-text-primary h-9 w-9 text-4xl"}),e.jsx("p",{className:"text-token-text-primary text-center text-3xl",children:e.jsx(y,{...l.allDone})})]}),e.jsxs("div",{className:"flex flex-col gap-y-4 max-sm:w-full max-sm:px-6",children:[e.jsx("div",{className:"text-token-text-secondary relative mt-auto w-full text-center text-base",children:e.jsx(pt,{})}),e.jsx(M,{size:"large",color:"primary",onClick:()=>{u(!0)},fullWidth:!0,children:e.jsx(y,{...l.continue})}),e.jsx("div",{className:"text-token-text-secondary relative mt-auto flex w-full items-center justify-center text-center text-sm",children:e.jsx(Ve,{clientThreadId:t,variant:"byContinuing"})})]})]})}function rt({steps:t,stepIndex:n,toolProgress:i,isUserInfoReady:u,handleGoBack:r}){return e.jsxs("div",{className:"absolute start-0 top-0 z-10 flex w-full items-center justify-between bg-none px-4",style:{minHeight:"var(--screen-thread-header-min-height,60px)"},children:[t&&t.length>0&&u&&e.jsx("div",{className:"absolute start-0 top-0 h-2 w-full",children:e.jsx(N.div,{className:"bg-token-main-surface-primary-inverse h-1.5",initial:{width:"0%",opacity:0},animate:{width:`${i*100}%`,opacity:1},transition:{duration:.3}})}),n>0?e.jsx(M,{onClick:r,color:"ghost",className:"border-none",icon:Qe}):e.jsx("div",{})]})}function lt({step:t,steps:n,stepIndex:i,wrapUp:u,gotoStep:r,isNextButtonDisabled:d}){const c=V(),g=ge(t,i,n.length,u,r);return t?.step_type==="usage_question"||t?.step_type==="self_description"?null:e.jsx("div",{className:"from-token-main-surface-primary via-token-main-surface-primary absolute start-0 bottom-0 z-30 w-full bg-gradient-to-t to-transparent px-4 pb-8",children:e.jsxs("div",{className:"bg-token-main-surface-primary shadow-token-border-xheavy flex w-full flex-col gap-y-2 rounded-3xl px-6 py-5 text-center shadow-[0px_10px_30px_0px]",children:[t&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-3xl leading-9 font-medium",children:t.title?t.title:z[t.step_type]?c.formatMessage(z[t.step_type]):null}),e.jsx("p",{className:"text-token-text-secondary text-base leading-normal font-normal",children:t.subtitle?t.subtitle:Q[t.step_type]?c.formatMessage(Q[t.step_type]):null})]}),e.jsx(M,{onClick:g,color:"primary",size:"large",className:"mt-4",disabled:d,children:c.formatMessage(l.next)}),i!==n.length-1&&e.jsx(M,{onClick:()=>u(),color:"ghost",children:c.formatMessage(l.skipTour)})]})})}function Dt({clientThreadId:t,setClientThreadId:n}){const i=K(),u=Se(i,t),r=R(i,"109457",{disableExposureLog:!0}),d=r.get("onboarding_skip_usage_question",!1),c=r.get("onboarding_unified_user_prompts",!1),{isOpen:g,closeModal:b,markAsViewed:w}=Be(),[o,p]=a.useState(0),[m,T]=a.useState(new Set(["usage_question"])),[C,$]=a.useState([]),[A,U]=a.useState(),[h,f]=a.useState(d),[v,k]=a.useState(!1),[j,F]=a.useState(d),[P,Z]=a.useState(null),{steps:S,isLoading:D,isError:W}=ot(!h,h?c?["justCurious"]:C:[],h?A:void 0),pe=Ce(),te=Ge({clientThreadId:t}),{createNewThread:q,resetThread:se}=Ye({clientThreadId:t,setClientThreadId:n}),[ne,me,oe]=ce(t,s=>[G.hasUserMessage(s),G.getRequestId(s),!!s&&!s.isLoading]),fe=Me(()=>u.asyncStatus$()?.value===He.STREAMING),ae=Ee(me)||fe,L=R(i,"109457",{disableExposureLog:!0}),xe=L.get("skip_button_continues",!1),ie=L.get("keep_onboarding_after_dismiss",!1),he=ee();a.useEffect(()=>{g?(E.logEvent("chatgpt_onboarding_flow_shown"),_.logEvent("Onboarding Shown"),w()):ue.setOnboardingConvoState(null)},[g,w]),a.useEffect(()=>{W&&(w(),b(),_.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_getting_steps"}),_.logEvent("Onboarding Error",{error:W}))},[W,w,b]),a.useEffect(()=>{const s=S[o];D||!s||m.has(s.step_type)||(T(B=>new Set([...B,s.step_type])),s.step_prompt&&(ue.setOnboardingConvoState({onboardingConvoClientThreadId:t}),L.get("new_thread_for_each_prompt",!1)?(q(),setTimeout(()=>{Z(s)},500)):Z(s)))},[o,D,m,S,q,t,L]);const ye=!!ve("/c/:conversationId")?.params.conversationId,J=ce(t,s=>!!s&&G.getIsNewConversation(s)&&!G.hasUserMessage(s)),re=ae&&!ye,le=S.filter(s=>s.step_type==="usage_question"||s.step_type==="self_description");a.useEffect(()=>{if(!P||L.get("new_thread_for_each_prompt",!1)&&(!J||!oe))return;const s=P.step_metadata;P.step_type!=="dalle"&&L.get("use_dynamic_response",!1)&&(delete s?.onboarding?.system_hints,delete s?.onboarding?.hardcoded_response),te({eventSource:"url",stepPrompt:P.step_prompt,messageMetadata:s,authorMetadata:{real_author:Ne.Onboarding}}),Z(null)},[P,te,L,J,oe]);const x=S[o];a.useEffect(()=>{const s=x?.step_type;(s==="usage_question"||s==="self_description")&&ne&&g&&(q(),T(O=>new Set(Array.from(O).filter(B=>B==="usage_question"||B==="self_description"))))},[x?.step_type,q,ne,g]),a.useEffect(()=>{x?.step_type&&(E.logEvent("chatgpt_onboarding_step_shown",null,{step_type:x?.step_type,step_index:o.toString()}),_.logEvent("Onboarding Step Shown",{step_type:x?.step_type,step_index:o.toString()}))},[o,x?.step_type]),a.useEffect(()=>{!j&&!D&&h&&p(s=>s+1)},[j,h,D]);const X=()=>{k(!0)},H=a.useCallback(s=>{k(!1),o===S.length-1&&h?(E.logEvent("chatgpt_onboarding_flow_finished"),_.logEvent("Onboarding Finished")):(E.logEvent("chatgpt_onboarding_flow_dismissed",null,{step_type:x?.step_type,step_index:o.toString()}),_.logEvent("Onboarding Dismissed",{step_type:x?.step_type,step_index:o.toString()})),s&&!ie&&w(),b()},[o,S.length,h,x?.step_type,ie,w,b]);Le(a.useCallback(({error:s})=>{s&&(_.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_in_onboarding_stream"}),_.logEvent("Onboarding Error",{error:s}),H(!0),se())},[H,se]));const be=s=>{$(s),S.find(O=>O.step_type==="self_description")||(F(!0),f(!0)),E.logEvent("chatgpt_onboarding_usage_question_selected",null,{main_usages:s.join(", ")}),_.logEvent("Onboarding Usage Question Selected",{main_usages:s.join(", ")})},_e=s=>{U(s),f(!0),p(O=>O+1),E.logEvent("chatgpt_onboarding_self_description_entered",null,{main_usages:C.join(", ")}),_.logEvent("Onboarding Self Description Entered",{main_usages:C.join(", ")})},we=()=>{E.logEvent("chatgpt_onboarding_go_back",null,{step_type:x?.step_type,step_index:o.toString()}),_.logEvent("Onboarding Go Back",{step_type:x?.step_type,step_index:o.toString()}),p(s=>s-1)};return W?null:e.jsx(Te,{fallback:()=>(H(!0),_.logEventWithStatsig("Onboarding Error","chatgpt_onboarding_flow_error",{errorReason:"error_in_onboarding_modal"}),e.jsx(e.Fragment,{})),name:"NewUserOnboardingFlowModal",children:e.jsx(Y,{children:e.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},exit:{opacity:0},className:"bg-token-main-surface-primary absolute inset-0 start-0 top-0 z-50 h-full w-full",children:e.jsx(ze,{clientThreadId:t,children:e.jsxs("div",{className:"flex h-full max-h-full flex-col",children:[!v&&!D&&!j&&h&&(he?e.jsx(lt,{step:x,steps:S,stepIndex:o,wrapUp:X,gotoStep:p,isNextButtonDisabled:re}):e.jsx(rt,{steps:S,stepIndex:o,toolProgress:(o+1-le.length)/(S.length-le.length),isUserInfoReady:h,handleGoBack:we})),e.jsx("div",{className:"flex min-h-0 flex-1 flex-col items-center justify-center overflow-hidden",children:e.jsx(Y,{mode:"wait",children:v?e.jsx(it,{clientThreadId:t,createNewThread:q,isNewThread:J,endOnboarding:H},"wrapping-up"):h?D||j?e.jsx(at,{isUserInfoReady:h,setShowLoadingScreen:F,userName:pe?.first_name??void 0},"loading"):x?.step_type==="self_description"?e.jsx(dt,{mainUsages:C,selfDescriptionProp:A,onEnterSelfDescription:_e},"self-description"):["dalle","file_upload","canvas","voice","ask_any_question"].includes(x?.step_type)?e.jsx(gt,{step:x,gotoStep:p,stepIndex:o,totalSteps:S.length,wrapUp:X,clientThreadId:t,isCompletionInProgress:ae,isNextButtonDisabled:re},"tools-onboarding"):null:e.jsx(ut,{mainUsagesProp:C,onSelectMainUsages:be,wrapUp:X,skipButtonContinues:xe},"usage-question")})})]})})})})})}function ct({usage:t,className:n}){switch(t){case"school":return e.jsx(et,{className:n});case"work":return e.jsx(nt,{className:n});case"personalTasks":return e.jsx(Xe,{className:n});case"funAndEntertainment":return e.jsx(Je,{className:n});default:return e.jsx(tt,{className:n})}}function ut({mainUsagesProp:t,onSelectMainUsages:n,wrapUp:i,skipButtonContinues:u}){const[r,d]=a.useState(new Set(t)),c=V(),g=()=>{n(Array.from(r))},b=a.useCallback(()=>{u?n([]):i()},[n,u,i]),w=["school","work","personalTasks","funAndEntertainment","other"];return e.jsxs(I,{className:"flex flex-col justify-between max-sm:h-full max-sm:overflow-y-auto max-sm:px-6 max-sm:pt-10 max-sm:pb-5 sm:w-[320px]",children:[e.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-token-text-primary mb-4 text-center text-3xl leading-9 font-medium",children:e.jsx(y,{...l.whatDoYouUseChatGPTFor})}),e.jsx("p",{className:"text-token-text-secondary mb-7 text-center text-base",children:e.jsx(y,{...l.suggestUsefulIdeas})})]}),e.jsx("div",{className:"flex min-h-0 flex-1 flex-col items-start justify-start gap-y-2 overflow-y-auto",children:w.map(o=>e.jsxs("button",{onClick:()=>{d(p=>{const m=new Set(p);return m.has(o)?m.delete(o):m.add(o),m})},className:Ae("flex w-full cursor-pointer items-center gap-x-3 rounded-lg p-4 text-start",r.has(o)?"max-sm:bg-token-interactive-bg-secondary-selected bg-token-interactive-bg-secondary-selected":"max-sm:bg-token-interactive-bg-secondary-hover hover:bg-token-interactive-bg-secondary-hover"),children:[e.jsx(ct,{usage:o,className:"icon"}),e.jsx("span",{className:"flex-1 cursor-pointer",children:c.formatMessage(Ke[o])}),r.has(o)&&e.jsx(de,{className:"text-token-text-primary"})]},o))})]}),e.jsxs("div",{className:"flex w-full flex-col gap-2 sm:gap-3",children:[e.jsx(M,{size:"large",color:"primary",onClick:g,className:"mt-10",fullWidth:!0,children:e.jsx(y,{...l.next})}),e.jsx(M,{size:"large",color:"ghost",onClick:b,fullWidth:!0,children:e.jsx(y,{...l.skip})})]})]})}function dt({mainUsages:t,selfDescriptionProp:n,onEnterSelfDescription:i}){const u=K(),[r,d]=a.useState(n),c=V(),g=ee(),b=a.useMemo(()=>t.includes("school")?l.exampleSchoolSelfDescription:t.includes("work")?l.exampleWorkSelfDescription:t.includes("funAndEntertainment")?l.exampleFunAndEntertainmentSelfDescription:l.examplePersonalTasksSelfDescription,[t]),o=R(u,"109457",{disableExposureLog:!0}).get("write_custom_instructions_in_onboarding",!1),p=()=>{i(r),o&&r&&Ue({aboutUserMessage:r,aboutModelMessage:"",disabledTools:[],enabled:!0}).catch(()=>{})};return e.jsxs(I,{className:"flex w-[640px] flex-col items-start max-sm:w-full max-sm:overflow-y-auto max-sm:px-5 max-sm:py-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-token-text-primary mb-4 text-3xl leading-9 font-medium",children:e.jsx(y,{...l.anythingElseYouWantMeToKnow})}),e.jsx("p",{className:"text-token-text-secondary text-base",children:e.jsx(y,{...o?l.selfDescriptionReasonSaveToCustomInstructions:l.selfDescriptionReason,values:{customInstructions:m=>e.jsx("a",{href:$e,className:"underline",target:"_blank",rel:"noreferrer",children:m})}})})]}),e.jsx(Ze,{className:"!dark:bg-white/5 border-token-border-default placeholder-token-text-tertiary mt-10 rounded-sm border bg-black/5! p-5 text-base!",placeholder:c.formatMessage(b),rows:4,value:r,onChange:m=>d(m.target.value),autoFocus:!0}),e.jsx(M,{size:g?"large":"medium",color:"primary",onClick:p,className:"mt-10",fullWidth:g,children:e.jsx(y,{...l.next})})]})}function ge(t,n,i,u,r){const d=Re();return a.useCallback(()=>{n<i-1?(E.logEvent("chatgpt_onboarding_flow_next_clicked",null,{source_step_type:t?.step_type,source_step_index:n.toString()}),_.logEvent("Onboarding Next",{source_step_type:t?.step_type,source_step_index:n.toString()}),t?.step_type==="file_upload"&&Ie.reset(d),r(n+1)):u()},[t,n,i,d,u,r])}function gt({step:t,gotoStep:n,stepIndex:i,totalSteps:u,wrapUp:r,clientThreadId:d,isCompletionInProgress:c,isNextButtonDisabled:g}){const b=K(),o=R(b,"109457",{disableExposureLog:!0}).get("onboarding_auto_scroll",!1),p=a.useRef(null),m=a.useRef(!1),T=V(),C=ee(),$=ge(t,i,u,r,n),A=!!t?.step_metadata?.onboarding?.hardcoded_response,U=t?.step_type==="dalle";a.useEffect(()=>{if(!o)return;const f=p.current;if(!f)return;function v(){m.current=!0}function k(){m.current=!0}function j(F){[32,33,34,35,36,38,40].includes(F.keyCode)&&(m.current=!0)}return f.addEventListener("wheel",v,{passive:!0}),f.addEventListener("touchmove",k,{passive:!0}),f.addEventListener("keydown",j),()=>{f.removeEventListener("wheel",v),f.removeEventListener("touchmove",k),f.removeEventListener("keydown",j)}},[o]),a.useEffect(()=>{if(A||!o)return;let f=null;function v(){const j=p.current;j&&j.scrollTo({top:j.scrollHeight})}function k(){m.current||(v(),c&&(f=requestAnimationFrame(k)))}return c?(m.current=!1,f=requestAnimationFrame(k)):v(),()=>{f&&cancelAnimationFrame(f)}},[c,A,o]);const h=a.useRef(c);return a.useEffect(()=>{if(!C)return;const f=h.current;if(h.current=c,f&&!c&&U&&p.current){const v=p.current.querySelectorAll("#thread article"),k=v[v.length-1];k&&k.scrollIntoView({behavior:"smooth"})}},[c,U,C]),e.jsxs(I,{className:"flex h-full w-full flex-row sm:px-8 md:px-12 lg:px-16 xl:px-24",children:[!C&&e.jsx("div",{className:"flex flex-1 flex-col items-center justify-center",children:e.jsxs(N.div,{className:"flex w-[90%] flex-1 flex-col items-center justify-center gap-2 text-center sm:w-[320px]",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs(Y,{mode:"wait",children:[e.jsx(N.h1,{className:"text-token-text-primary mb-2 text-3xl font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},exit:{opacity:0,y:-10},children:t.title?t.title:z[t.step_type]?T.formatMessage(z[t.step_type]):null},`title-${i}`),e.jsx(N.p,{className:"text-token-text-secondary mb-6 text-base",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},exit:{opacity:0,y:-10},children:t.subtitle?t.subtitle:Q[t.step_type]?T.formatMessage(Q[t.step_type]):null},`subtitle-${i}`)]}),e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsx(M,{size:"large",color:"primary",onClick:$,fullWidth:!0,disabled:g,children:e.jsx(y,{...l.next})}),e.jsx(M,{onClick:()=>r(),color:"ghost",size:"large",className:"max-sm:hidden",children:T.formatMessage(l.skipTour)})]})]})}),e.jsx("div",{className:"relative flex h-full flex-1 flex-col sm:min-w-[360px] sm:pt-20 sm:pb-20",children:e.jsx("div",{ref:p,className:"bg-token-main-surface-primary shadow-token-border-default h-full w-full overflow-auto shadow-[0_0_50px] max-sm:pb-40 sm:rounded-[30px]",children:e.jsx(Pe,{clientThreadId:d,children:e.jsx(qe,{clientThreadId:d,ignoreParentComposerController:!0,children:e.jsx("div",{className:"pointer-events-none min-h-full w-full",children:e.jsx(st,{hideHeader:!0,hideDisclaimer:!0,clientThreadId:d,renderEmptyState:e.jsx(e.Fragment,{})})})})})})})]})}function pt(){return e.jsx("span",{children:e.jsx(y,{...l.chatgptReviewTrainingMistakeDisclaimer,values:{learnMoreLink:t=>e.jsx("a",{href:"https://help.openai.com/en/articles/5722486-how-your-data-is-used-to-improve-model-performance",target:"_blank",className:"text-token-text-primary decoration-token-text-primary inline cursor-pointer underline",rel:"noreferrer",children:t})}})})}const l=ke({skip:{defaultMessage:"Skip",id:"chatgpt.new-onboarding.skip"},close:{defaultMessage:"Close",id:"chatgpt.new-onboarding.close"},done:{defaultMessage:"Done",id:"chatgpt.new-onboarding.done"},submit:{defaultMessage:"Submit",id:"chatgpt.new-onboarding.submit"},next:{defaultMessage:"Next",id:"chatgpt.new-onboarding.next"},finish:{defaultMessage:"Finish",id:"chatgpt.new-onboarding.finish"},tellMeWhyHere:{defaultMessage:"Tell me about why youâ€™re here.",id:"chatgpt.new-onboarding.tell-me-why-here"},whatDoYouUseChatGPTFor:{defaultMessage:"What do you want to use ChatGPT for?",id:"chatgpt.new-onboarding.what-do-you-use-chatgpt-for"},suggestUsefulIdeas:{defaultMessage:"Weâ€™ll use this information to suggest ideas you might find useful.",id:"chatgpt.new-onboarding.suggest-useful-ideas-2"},imChaggptNiceToMeetYou:{defaultMessage:"ðŸ‘‹ Hi, Iâ€™m ChatGPT. Itâ€™s nice to meet you!",id:"chatgpt.new-onboarding.im-chatgpt-nice-to-meet-you"},preparingOnboardingExperience:{defaultMessage:"Preparing your onboarding experience...",id:"chatgpt.new-onboarding.preparing-onboarding-experience"},niceToMeetYouQuickTourWithName:{defaultMessage:"Nice to meet you, {name}.<nextLine></nextLine>Hereâ€™s a quick tour...",id:"chatgpt.new-onboarding.nice-to-meet-you-quick-tour-with-name"},niceToMeetYouQuickTour:{defaultMessage:"Nice to meet you.<nextLine></nextLine>Hereâ€™s a quick tour...",id:"chatgpt.new-onboarding.nice-to-meet-you-quick-tour"},niceToMeetYou:{defaultMessage:"Nice to meet you, {name}.",id:"chatgpt.new-onboarding.nice-to-meet-you"},niceToMeetYouWithoutName:{defaultMessage:"Nice to meet you.",id:"chatgpt.new-onboarding.nice-to-meet-you-without-name"},heresQuickTour:{defaultMessage:"Hereâ€™s a quick tour...",id:"chatgpt.new-onboarding.heres-quick-tour"},allDone:{defaultMessage:"You're all set",id:"chatgpt.new-onboarding.all-done-2"},oneLastQuestion:{defaultMessage:"One last question:",id:"chatgpt.new-onboarding.one-last-question-2"},anythingElseYouWantMeToKnow:{defaultMessage:"Is there anything else youâ€™d like me to know?",id:"chatgpt.new-onboarding.anything-else-you-want-me-to-know-2"},oneQuestionAnythingElse:{defaultMessage:"One last question: Is there anything else youâ€™d like me to know?",id:"chatgpt.new-onboarding.one-more-question"},selfDescriptionReason:{defaultMessage:"Details like your job, hobbies, or interests make my responses more relevant.",id:"chatgpt.new-onboarding.self-description-reason"},allSetLetMeShowYouAroundWithoutName:{defaultMessage:"All set!<nextLine></nextLine>Now, let me show you around...",id:"chatgpt.new-onboarding.all-set-let-me-show-you-around-without-name"},selfDescriptionReasonSaveToCustomInstructions:{defaultMessage:"Details like your job, hobbies, or interests make my responses more relevant. Iâ€™ll save this information as <customInstructions>Custom Instructions</customInstructions>, which you can update any time.",id:"chatgpt.new-onboarding.self-description-reason-save-to-custom-instructions"},exampleSchoolSelfDescription:{defaultMessage:"I'm a college student studying computer science, and I love to play the guitar.",id:"chatgpt.new-onboarding.example-school-self-description"},exampleWorkSelfDescription:{defaultMessage:"I'm a graphic designer based in Berlin, and I enjoy painting and attending art exhibitions.",id:"chatgpt.new-onboarding.example-work-self-description"},examplePersonalTasksSelfDescription:{defaultMessage:"I live in Sydney and love cooking new recipes and planning travel itineraries.",id:"chatgpt.new-onboarding.example-personal-tasks-self-description"},exampleFunAndEntertainmentSelfDescription:{defaultMessage:"I'm a music enthusiast based in Nashville, and I can talk for hours about guitar techniques and songwriting.",id:"chatgpt.new-onboarding.example-fun-and-entertainment-self-description"},tryChatGPT:{defaultMessage:"Try ChatGPT",id:"chatgpt.new-onboarding.try-chatgpt"},skipTour:{defaultMessage:"Skip Tour",id:"chatgpt.new-onboarding.skip-tour"},gotIt:{defaultMessage:"Got it",id:"chatgpt.new-onboarding.got-it"},chatgptReviewTrainingMistakeDisclaimer:{defaultMessage:"ChatGPT can make mistakes. Chats may be reviewed and used for training. <learnMoreLink>Learn more</learnMoreLink>",id:"chatgpt.new-onboarding.chatgpt-review-training-mistake-disclaimer"},continue:{defaultMessage:"Continue",id:"chatgpt.new-onboarding.continue"}}),z={usage_question:l.tellMeWhyHere},Q={usage_question:l.suggestUsefulIdeas};export{at as LoadingState,Dt as default};
//# sourceMappingURL=h4fdnlm7sd0q4bx6.js.map

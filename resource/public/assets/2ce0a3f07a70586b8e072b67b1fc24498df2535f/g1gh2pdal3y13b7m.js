const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/h6eylpnr6exd3eqx.js","assets/n97h6so7iblif4c5.js","assets/cim4usely8ixso70.js","assets/root-c9lkqywj.css","assets/kkz16im3hs2noams.js","assets/im4lacmmdnhx67y2.js","assets/g3mhotgl765argdp.js","assets/ivbsxyeeopn30y8l.js","assets/conversation-small-dhmr708a.css"])))=>i.map(i=>d[i]);
import{c as k,a as Ce,b as V,r as A,j as t,m as Ae,A as qe,h as is,M as D,o as os,R as at}from"./n97h6so7iblif4c5.js";import{bZ as as,fO as Ve,fU as ns,j0 as rs,mn as xt,at as ls,mo as cs,f0 as ds,mp as Ye,mq as us,av as J,e$ as ms,mr as fs,fV as gs,ms as hs,mt as ps,cO as xs,dQ as bs,F as js,mu as Ss,mv as Be,fP as vs,dP as ys,dl as ws,mw as Cs,dZ as se,mx as Ns,my as _s,mz as Xe,mA as ks,mB as bt,mC as Ts,mD as Ms,mE as Ps,mF as Is,mG as zs,ie as Es,mH as Ze,mI as Os,mJ as nt,mK as Je,e4 as Ls,mL as De,mM as jt,ac as As,mN as St,e5 as vt,mO as Ds,mP as ve,mQ as yt,mR as Bs,mS as Rs,mT as Fs,bp as Ke,e_ as Gs,e1 as wt,$ as Ct,mU as $s,mV as Us,a1 as Hs,mW as Vs,dW as Ws,mX as Nt,mY as Ks,e0 as Qs,li as qs,mZ as Ys,m_ as Xs,m$ as Zs,n0 as Js,n1 as ei,n2 as ti}from"./ivbsxyeeopn30y8l.js";import{ac as si,ad as Qe,a as E,c7 as _t,kV as kt,ft as ii,fs as Tt,bu as ye,d as z,cd as rt,k_ as Mt,ao as we,b7 as Pt,cO as ie,k7 as lt,P as H,ej as oi,nW as ai,nX as ni,o9 as ri,bY as It,bZ as et,aF as zt,cL as tt,eA as Et,qj as Ot,qk as li,aV as Lt,aU as At,eC as ci,b9 as st,u as ct,A as Ee,ob as it,aC as di,cT as ui,er as We,c as Ne,l5 as dt,eM as Le,c$ as mi,q as ut,ql as Dt,D as fi,b4 as gi,hZ as hi,aY as Bt,dX as pi,pY as xi,i8 as Rt,as as bi,cQ as Se,bj as ji,bW as _e,bM as Si,b2 as vi,d8 as Re,aM as Ft,aO as yi,aD as wi,j2 as Ci,aE as Ni,aI as _i,aP as ki,aR as Ti,hP as Mi,ai as Pi,aj as Ii,dp as zi,am as Ei,an as Oi,qm as mt,s as Gt,N as $t,aS as Ut,B as Ht,i7 as Li,oc as Ai,lt as Di,lu as ft}from"./cim4usely8ixso70.js";import{useProjectsDragDrop as Vt}from"./dniesp3sb620z3uc.js";import{N as Bi,L as Ri,b as Wt}from"./k5qf6pgck1wqkdil.js";const Fi={open:{opacity:1,y:0,transition:{duration:.15,ease:"easeOut"}},closed:{opacity:0,y:-5,transition:{duration:.15,ease:"easeIn"}}};function Gi(i){"use forget";const e=k.c(20),{color:s,folderState:a,gizmoId:n,sidebarSnorlaxFolderStore:r,isSharedProject:o}=i,l=V(),[f,m]=A.useState(!1);let d;e[0]!==a||e[1]!==l?(d=l.formatMessage(a==="open"?J.hideChatsForProjectTooltip:J.showChatsForProjectTooltip),e[0]=a,e[1]=l,e[2]=d):d=e[2];let c;e[3]!==a||e[4]!==n||e[5]!==r?(c=h=>{h.preventDefault(),a==="open"?r.collapseProject(n):r.expandProject(n)},e[3]=a,e[4]=n,e[5]=r,e[6]=c):c=e[6];let p,b;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=()=>m(!0),b=()=>m(!1),e[7]=p,e[8]=b):(p=e[7],b=e[8]);const x=a==="open";let u;e[9]!==s||e[10]!==f||e[11]!==o||e[12]!==x?(u=t.jsx(fs,{isOpen:x,isHovered:f,color:s,isSharedProject:o}),e[9]=s,e[10]=f,e[11]=o,e[12]=x,e[13]=u):u=e[13];let j;e[14]!==c||e[15]!==u?(j=t.jsx("button",{className:"icon",onClick:c,onMouseEnter:p,onMouseLeave:b,children:u}),e[14]=c,e[15]=u,e[16]=j):j=e[16];let g;return e[17]!==d||e[18]!==j?(g=t.jsx(ie,{label:d,triggerAs:null,children:j}),e[17]=d,e[18]=j,e[19]=g):g=e[19],g}function ot(i){"use forget";const e=k.c(107),{gizmo:s,historyDisabled:a,flair:n,onClick:r,isActive:o,hideOverflowMenu:l,inGPTDropdown:f}=i,m=l===void 0?!1:l,d=f===void 0?!1:f,c=E(),{clientThreadId:p}=as(),b=_t(p),x=Ce(),u=V();let j;e[0]!==c?(j=kt(c),e[0]=c,e[1]=j):j=e[1];const g=j,h=s.gizmo.id,S=Ve.useStore();let y;e[2]!==h?(y=T=>Ve.selectFolderState(T,h),e[2]=h,e[3]=y):y=e[3];const v=Ve.useState(y);let w;e[4]!==s.gizmo.tags?(w=s.gizmo.tags?.includes(ii.FirstParty),e[4]=s.gizmo.tags,e[5]=w):w=e[5];const _=!!w,{items:C,hasNextPage:P}=ns(s.gizmo.id);let R;e[6]!==C?(R=C===void 0?[]:C,e[6]=C,e[7]=R):R=e[7];const I=R,N=Tt(h);let M;e[8]!==c||e[9]!==s?(M=()=>gs(c,s),e[8]=c,e[9]=s,e[10]=M):M=e[10];const O=ye(M);let B;e[11]!==h||e[12]!==g.projects?(B=()=>g.projects.renamingProjectId$()===h,e[11]=h,e[12]=g.projects,e[13]=B):B=e[13];const L=ye(B),$=o&&(!N||!(v==="open"&&b)),W=A.useRef(v);let U,K;e[14]!==v?(U=()=>{W.current=v},K=[v],e[14]=v,e[15]=U,e[16]=K):(U=e[15],K=e[16]),A.useEffect(U,K);let Q,q;e[17]!==h||e[18]!==o||e[19]!==b||e[20]!==S?(Q=()=>{W.current!=="open"&&o&&b&&S.expandProject(h)},q=[o,b,S,h],e[17]=h,e[18]=o,e[19]=b,e[20]=S,e[21]=Q,e[22]=q):(Q=e[21],q=e[22]),A.useEffect(Q,q);let F;if(s!=null)F=s.gizmo.display.name||rs;else if(a){let T;e[23]!==u?(T=u.formatMessage(xt.clearChat),e[23]=u,e[24]=T):T=e[24],F=T}else F=hs;const[Z,oe]=A.useState();let ee;e[25]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>{oe(void 0)},e[25]=ee):ee=e[25];let Y;e[26]!==s?(Y=[s],e[26]=s,e[27]=Y):Y=e[27],A.useEffect(ee,Y);const ae=ls(),[G,Fe]=A.useState(!1),{canDropConversation:ne,onDropConversation:Ge}=Vt("sidebar_row_button",h);let ke;e[28]!==g.composer||e[29]!==g.projects?(ke=()=>{A.startTransition(()=>{lt(()=>{g.composer.reset(),g.projects.reset()})})},e[28]=g.composer,e[29]=g.projects,e[30]=ke):ke=e[30];const Te=ke;let Me;e[31]!==Te||e[32]!==c||e[33]!==s.gizmo.id||e[34]!==o||e[35]!==L||e[36]!==F||e[37]!==x||e[38]!==Z||e[39]!==ae?(Me=L?t.jsx(ps,{initialValue:F,onCommit:async T=>{oe(T),Te();const{resource:je}=await ae.mutateAsync({update:{name:T},id:s.gizmo.id});je&&o&&x(rt(c,je),{replace:!0})},onCancel:Te}):Z??F,e[31]=Te,e[32]=c,e[33]=s.gizmo.id,e[34]=o,e[35]=L,e[36]=F,e[37]=x,e[38]=Z,e[39]=ae,e[40]=Me):Me=e[40];const $e=Me,Ue=d&&!N?we.LinkItem:Ye,Pe=(s?.gizmo?.sharing?.subjects?.length??0)>0,He=G&&"[&>*]:pointer-events-none";let re;e[41]!==He?(re=z(He),e[41]=He,e[42]=re):re=e[42];let le;e[43]!==ne||e[44]!==Ge?(le=T=>{ne&&(T.preventDefault(),T.stopPropagation(),Fe(!1),Ge())},e[43]=ne,e[44]=Ge,e[45]=le):le=e[45];let ce;e[46]!==ne||e[47]!==N?(ce=T=>{ne&&T.target===T.currentTarget&&N&&(T.preventDefault(),Fe(!0))},e[46]=ne,e[47]=N,e[48]=ce):ce=e[48];let Ie;e[49]===Symbol.for("react.memo_cache_sentinel")?(Ie=T=>{T.target===T.currentTarget&&Fe(!1)},e[49]=Ie):Ie=e[49];let de;e[50]!==c||e[51]!==s?(de=rt(c,s),e[50]=c,e[51]=s,e[52]=de):de=e[52];let ue;e[53]!==h||e[54]!==g.composer||e[55]!==g.projects.renamingProjectId$?(ue=()=>{lt(()=>{g.projects.renamingProjectId$.set(h),g.composer.autofocusDisabled$.set(!0)})},e[53]=h,e[54]=g.composer,e[55]=g.projects.renamingProjectId$,e[56]=ue):ue=e[56];let me;e[57]!==s.gizmo.id||e[58]!==r?(me=T=>{const je=s?.gizmo.id??"primary";H.logNewChatButtonClicked({location:"Sidebar gizmo list",gizmo_id:je}),H.logEvent("Sidebar Click Gizmo",{gizmo_id:je}),r?.(T)},e[57]=s.gizmo.id,e[58]=r,e[59]=me):me=e[59];let fe;e[60]!==O||e[61]!==v||e[62]!==h||e[63]!==s.gizmo.display||e[64]!==_||e[65]!==Pe||e[66]!==N||e[67]!==S||e[68]!==I?(fe=N?I.length>0?t.jsx(Gi,{color:O,folderState:v,gizmoId:h,sidebarSnorlaxFolderStore:S,isSharedProject:Pe}):t.jsx(cs,{color:O,isSharedProject:Pe}):t.jsx(ds,{simple:!0,isFirstParty:_,src:s?.gizmo.display.profile_picture_url,className:"icon",alt:""}),e[60]=O,e[61]=v,e[62]=h,e[63]=s.gizmo.display,e[64]=_,e[65]=Pe,e[66]=N,e[67]=S,e[68]=I,e[69]=fe):fe=e[69];let ge;e[70]!==n?(ge=n===Mt.Workspace&&t.jsx($i,{}),e[70]=n,e[71]=ge):ge=e[71];let he;e[72]!==n||e[73]!==s||e[74]!==m||e[75]!==o||e[76]!==L||e[77]!==N||e[78]!==G?(he=!m&&!G&&!L&&(N?t.jsx(Hi,{gizmoResource:s,isActive:o}):t.jsx(Ui,{gizmoResource:s,flair:n})),e[72]=n,e[73]=s,e[74]=m,e[75]=o,e[76]=L,e[77]=N,e[78]=G,e[79]=he):he=e[79];let pe;e[80]!==Ue||e[81]!==$e||e[82]!==$||e[83]!==G||e[84]!==re||e[85]!==le||e[86]!==ce||e[87]!==de||e[88]!==ue||e[89]!==me||e[90]!==fe||e[91]!==ge||e[92]!==he?(pe=t.jsx(Ue,{className:re,highlighted:G,onDrop:le,onDragEnter:ce,onDragLeave:Ie,to:de,onDoubleClick:ue,onClick:me,active:$,icon:fe,label:$e,trailing:ge,highlightTrailing:he}),e[80]=Ue,e[81]=$e,e[82]=$,e[83]=G,e[84]=re,e[85]=le,e[86]=ce,e[87]=de,e[88]=ue,e[89]=me,e[90]=fe,e[91]=ge,e[92]=he,e[93]=pe):pe=e[93];let xe;e[94]!==v||e[95]!==s||e[96]!==P||e[97]!==N||e[98]!==b||e[99]!==$||e[100]!==I?(xe=N&&v==="open"&&I.length>0&&t.jsx(Ae.div,{initial:"closed",animate:"open",exit:"closed",variants:Fi,className:"overflow-hidden",children:t.jsx(us,{gizmoResource:s,serverThreadId:b,isOnProjectPage:$,conversations:I,hasNextPage:P})},"nested-conversations"),e[94]=v,e[95]=s,e[96]=P,e[97]=N,e[98]=b,e[99]=$,e[100]=I,e[101]=xe):xe=e[101];let be;e[102]!==xe?(be=t.jsx(qe,{initial:!1,children:xe}),e[102]=xe,e[103]=be):be=e[103];let ze;return e[104]!==pe||e[105]!==be?(ze=t.jsxs(t.Fragment,{children:[pe,be]}),e[104]=pe,e[105]=be,e[106]=ze):ze=e[106],ze}const $i=()=>{const i=V(),e=Pt(),s=e?.name?i.formatMessage({id:"gizmo.workspaceRecommended",defaultMessage:"Recommended at {workspace_name}"},{workspace_name:e.name??"Your Workspace"}):i.formatMessage({id:"gizmo.workspaceRecommended.noWorkplaceName",defaultMessage:"Recommended at your workplace"});return t.jsx(ie,{side:"right",label:s,children:t.jsx(ms,{className:"icon",alt:s})})},Kt=si(()=>Qe(()=>import("./h6eylpnr6exd3eqx.js"),__vite__mapDeps([0,1,2,3,4])).then(i=>i.GizmoKeepInSidebarMenuItem)),Ui=i=>{"use forget";const e=k.c(10),{gizmoResource:s,flair:a}=i,n=is();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(It,{onMouseOver:Vi,icon:et}),e[0]=r):r=e[0];let o;e[1]!==a||e[2]!==s||e[3]!==n?(o=a===Mt.Recent&&t.jsx(we.Item,{onClick:()=>{oi.updateGizmoSidebar(n,ai,s.gizmo.id,"keep","sidebar")},children:t.jsx(D,{...xt.keepInSidebar})}),e[1]=a,e[2]=s,e[3]=n,e[4]=o):o=e[4];let l;e[5]!==s?(l=t.jsx(Kt,{gizmoResource:s,location:"sidebar"}),e[5]=s,e[6]=l):l=e[6];let f;return e[7]!==o||e[8]!==l?(f=t.jsxs(tt,{triggerButton:r,contentAlign:"start",sideOffset:-4,alignOffset:-8,size:"auto",children:[o,l]}),e[7]=o,e[8]=l,e[9]=f):f=e[9],f},Hi=i=>{"use forget";const e=k.c(24),{gizmoResource:s,isActive:a}=i,n=E(),r=Ce();let o;e[0]!==n?(o=kt(n),e[0]=n,e[1]=o):o=e[1];const l=o,{canEdit:f}=ni(s),{canDelete:m}=ri(s);let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(It,{icon:et}),e[2]=d):d=e[2];let c;e[3]!==s.gizmo.id||e[4]!==l.composer.autofocusDisabled$||e[5]!==l.projects.renamingProjectId$?(c=()=>{l.composer.autofocusDisabled$.set(!0),l.projects.renamingProjectId$.set(s.gizmo.id)},e[3]=s.gizmo.id,e[4]=l.composer.autofocusDisabled$,e[5]=l.projects.renamingProjectId$,e[6]=c):c=e[6];const p=!f;let b,x;e[7]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(xs,{className:"icon-sm"}),x=t.jsx(D,{...J.editProjectNameDropdownButton}),e[7]=b,e[8]=x):(b=e[7],x=e[8]);let u;e[9]!==c||e[10]!==p?(u=t.jsxs(we.Item,{onClick:c,disabled:p,children:[b,x]}),e[9]=c,e[10]=p,e[11]=u):u=e[11];let j;e[12]!==n||e[13]!==s.gizmo.id||e[14]!==a||e[15]!==r?(j=v=>{v.preventDefault(),v.stopPropagation();const w=function(C){C(),a&&r("/")};zt(n,_=>{const{onClose:C}=_;return t.jsx(bs,{gizmoId:s.gizmo.id,onError:void 0,onSuccess:()=>w(C),onClose:()=>{C()}})})},e[12]=n,e[13]=s.gizmo.id,e[14]=a,e[15]=r,e[16]=j):j=e[16];const g=!m;let h;e[17]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(D,{...J.deleteProjectDropdownButton}),e[17]=h):h=e[17];let S;e[18]!==j||e[19]!==g?(S=t.jsx(we.Item,{color:"danger",onClick:j,icon:js,disabled:g,children:h}),e[18]=j,e[19]=g,e[20]=S):S=e[20];let y;return e[21]!==S||e[22]!==u?(y=t.jsx(t.Fragment,{children:t.jsxs(tt,{triggerButton:d,contentAlign:"start",sideOffset:-4,alignOffset:-8,size:"auto",children:[u,S]})}),e[21]=S,e[22]=u,e[23]=y):y=e[23],y};function Vi(){return Kt.prefetch()}function Qt({currentGizmoId:i}){"use forget";const e=Pt(),s=Et(),{data:{gizmos:a=[]}={}}=Ot(),{topGizmos:n,remainingGizmos:r}=A.useMemo(()=>{const o=s?a.filter(m=>!li(m.resource)):a,{topGizmos:l,remainingGizmos:f}=Ss(o);return{topGizmos:l,remainingGizmos:f}},[a,s]);return e?t.jsx(Wi,{currentGizmoId:i,maxToShowOnLoad:4,topGizmos:n,remainingGizmos:r}):null}const Wi=i=>{"use forget";const e=k.c(15),{currentGizmoId:s,maxToShowOnLoad:a,topGizmos:n,remainingGizmos:r}=i,[o,l]=A.useState(!(Lt.getItem(At.IsGptListCollapsed)??!0)),f=Math.max(n.length,a);let m;e[0]!==r||e[1]!==n?(m=[...n,...r],e[0]=r,e[1]=n,e[2]=m):m=e[2];let d=m;const c=d.length>f;if(c&&!o){let u;e[3]!==d||e[4]!==f?(u=d.slice(0,f-1),e[3]=d,e[4]=f,e[5]=u):u=e[5],d=u}let p;e[6]!==s||e[7]!==d?(p=d.map(u=>t.jsx(ot,{gizmo:u.resource,isActive:u.resource.gizmo.id===s,flair:u.flair.kind},u.resource.gizmo.id)),e[6]=s,e[7]=d,e[8]=p):p=e[8];let b;e[9]!==c||e[10]!==o?(b=c&&t.jsx(Be,{onClick:u=>{u.preventDefault(),l(Ki)},icon:et,children:o?t.jsx(D,{id:"GizmoSidebarList.showLess",defaultMessage:"Show less"}):t.jsx(D,{id:"GizmoSidebarList.showMoreItems",defaultMessage:"Show more"})}),e[9]=c,e[10]=o,e[11]=b):b=e[11];let x;return e[12]!==p||e[13]!==b?(x=t.jsxs(t.Fragment,{children:[p,b]}),e[12]=p,e[13]=b,e[14]=x):x=e[14],x};function Ki(i){const e=!i;return Lt.setItem(At.IsGptListCollapsed,!e),e}function Qi({hasProjects:i}){const e=Ce(),s=V(),a=E(),[n,r]=A.useState(!1),{onDropConversation:o,canDropConversation:l}=Vt("sidebar_header_plus"),{eligibleNux:f}=qi({hasProjects:i}),{canCreate:m}=ci(),d=t.jsx(Be,{className:z(n&&"bg-token-bg-tertiary"),onDragEnter:c=>{l&&(c.preventDefault(),r(!0))},onDrop:c=>{l&&(c.preventDefault(),c.stopPropagation(),r(!1),o())},onDragLeave:()=>{r(!1)},disabled:!m,icon:vs,onClick:()=>{zt(a,({onClose:c})=>t.jsx(ys,{onClose:c,onSuccess:p=>{p&&e(`/g/${p}/project`)}})),f&&f.announcement.markAsViewed(),H.logEventWithStatsig("Projects: Create Open","chatgpt_web_projects_create_open",{source:"sidebar_row_button"})},children:t.jsx(D,{...J.newProjectButton})});return m?t.jsx(Yi,{nux:f,children:d}):t.jsx(ie,{label:s.formatMessage(J.createProjectDisabledByAdmin),children:d})}function qi({hasProjects:i}){const e=V(),s=E(),a=st(s).checkGate("2711769261"),n=ct(Ee.hasSeenProjectsWebNuxTooltip),r=ct(Ee.hasSeenProjectsUpdateNuxTooltip),o=i&&a&&!r.isLoading&&r.eligible,l=!o&&!r.isLoading&&!n.isLoading&&n.eligible,f={announcement:r,description:e.formatMessage(J.projectsUpdateTooltipDescription),key:Ee.hasSeenProjectsUpdateNuxTooltip,title:e.formatMessage(J.projectsUpdateTooltipTitle)},m={announcement:n,description:e.formatMessage(J.projectsNuxTooltipDescription),key:Ee.hasSeenProjectsWebNuxTooltip,title:e.formatMessage(J.projectsNuxTooltipTitle)};let d=null;return o?d=f:l&&(d=m),{eligibleNux:d,projectUpdateTooltip:f,projectTooltip:m,showProjectUpdateTooltip:o,showProjectTooltip:l}}function Yi({children:i,nux:e}){const s=it(),a=di(),n=ui();return!e||a||!n||!s?t.jsx(t.Fragment,{children:i}):t.jsx(ws,{announcementKey:e.key,theme:"bright",side:"right",show:!0,badge:"new",dismissOnOutsideClick:!0,title:e.title,description:e.description,onDismiss:e.announcement.markAsViewed,sideOffset:-5,children:i})}function Xi({snorlaxes:i,currentGizmoId:e}){return t.jsx(t.Fragment,{children:i.map(s=>t.jsx(ot,{gizmo:s.gizmo,isActive:s.gizmo.gizmo.id===e},s.gizmo.gizmo.id))})}function qt({currentGizmoId:i}){const{snorlaxes:e,data:s,isLoading:a,isError:n,refetch:r,hasNextPage:o}=Cs(),l=e.slice(0,We),f=Tt(i),m=E(),d=Ne(m,"1693134918"),c=A.useRef(!1),[p,b]=A.useState(!0),x=A.useCallback(function(w){w&&b(!1),r()},[r,b]),u=n||s===void 0&&!a&&c.current;se.markStart("SnorlaxSidebarList",se.NS_SIDEBAR),s!=null&&!a&&se.markRendered("SnorlaxSidebarList",se.NS_SIDEBAR),s===void 0&&!a&&!c.current&&(c.current=!0,x(!1));const g=e?.find(v=>v.gizmo.gizmo.id===i),h=l.some(v=>v.gizmo.gizmo.id===i),S=e&&(e?.length>(!f||h?We:We+1)||o),y=t.jsx(t.Fragment,{children:a&&d?t.jsxs(t.Fragment,{children:[t.jsx(dt,{}),t.jsx(dt,{})]}):a?null:t.jsxs(t.Fragment,{children:[t.jsx(Qi,{hasProjects:e?.length>0}),!1,t.jsx(Xi,{snorlaxes:l,currentGizmoId:i}),g&&!h&&t.jsx(ot,{gizmo:g.gizmo,isActive:!0}),S&&t.jsx(Ns,{currentGizmoId:i})]})});return t.jsxs(t.Fragment,{children:[u&&t.jsx(_s,{showRetry:p,refetch:x}),!u&&(d?y:t.jsx(Xe,{id:"snorlax-heading",children:y}))]})}function Zi({currentGizmoId:i,activeId:e,isSnorlaxEnabled:s}){const a=E(),n=Ne(a,"2560369700"),{data:{gizmos:r=[]}={}}=Ot(),o=r.length>0;return t.jsxs(t.Fragment,{children:[n&&t.jsx(Oe,{id:"favorites",title:t.jsx(D,{id:"sidebar.favorites",defaultMessage:"Favorites"}),children:t.jsx(ks,{})}),o&&t.jsx(Oe,{id:"gpts",title:t.jsx(D,{id:"sidebar.gpts",defaultMessage:"GPTs"}),children:t.jsx(Le,{name:"GPTsSidebarList",children:t.jsx(Qt,{currentGizmoId:i})})}),s&&t.jsx(Oe,{id:"projects",title:t.jsx(D,{id:"sidebar.projects",defaultMessage:"Projects"}),children:t.jsx(qt,{currentGizmoId:i})}),t.jsx(Oe,{id:"chats",title:t.jsx(D,{id:"sidebar.chats",defaultMessage:"Chats"}),children:t.jsx(bt,{activeId:e})})]})}function Oe(i){"use forget";const e=k.c(25),{title:s,id:a,children:n}=i,r=E(),o=V();let l;e[0]!==r?(l=Ts(r),e[0]=r,e[1]=l):l=e[1];const f=l,m=ye(f.sidebarSectionState[a]);let d;e[2]!==a||e[3]!==f||e[4]!==m?(d=S=>{S.preventDefault(),m?f.collapseSection(a):f.expandSection(a)},e[2]=a,e[3]=f,e[4]=m,e[5]=d):d=e[5];const c=d;let p;e[6]!==o||e[7]!==m?(p=m?o.formatMessage({defaultMessage:"Collapse section",id:"sidebar.collapseSection"}):o.formatMessage({defaultMessage:"Expand section",id:"sidebar.expandSection"}),e[6]=o,e[7]=m,e[8]=p):p=e[8];const b=p;let x;e[9]!==s?(x=t.jsx(Ms,{"data-no-spacing":!0,children:s}),e[9]=s,e[10]=x):x=e[10];let u;e[11]!==m?(u=m?t.jsx(Ps,{className:"icon-xs"}):t.jsx(Is,{className:"icon-xs"}),e[11]=m,e[12]=u):u=e[12];let j;e[13]!==b||e[14]!==c||e[15]!==m||e[16]!==x||e[17]!==u?(j=t.jsxs(Be,{onClick:c,"aria-expanded":m,"aria-label":b,"data-no-hover-bg":!0,"data-no-contents-gap":!0,children:[x,u]}),e[13]=b,e[14]=c,e[15]=m,e[16]=x,e[17]=u,e[18]=j):j=e[18];let g;e[19]!==n||e[20]!==m?(g=m&&t.jsx("div",{className:"mb-2",children:n}),e[19]=n,e[20]=m,e[21]=g):g=e[21];let h;return e[22]!==j||e[23]!==g?(h=t.jsxs(t.Fragment,{children:[j,g]}),e[22]=j,e[23]=g,e[24]=h):h=e[24],h}const X={images:"images",glaux:"glaux"};function Oo(i){"use forget";const e=k.c(25),{isMobile:s,onShowHidden:a}=i,n=s===void 0?!1:s,r=E(),o=!1;let l;e[0]!==r?(l=!1,e[0]=r,e[1]=l):l=e[1];const f=l,[m,d]=os();let c;e[2]!==m?(c=m.get("tab")??X.images,e[2]=m,e[3]=c):c=e[3];const p=c;let b;e[4]!==d?(b=_=>{d(C=>(C.set("tab",_),C))},e[4]=d,e[5]=b):b=e[5];const x=b,u=!0,j=z("flex w-full items-center justify-between",n&&"ps-2",!n&&"h-header-height bg-token-main-surface-primary sticky top-0 z-20 p-4 max-md:hidden",o),g=z("flex items-center",o);let h;e[6]!==n?(h=!n&&t.jsx(Bi,{clientThreadId:mi}),e[6]=n,e[7]=h):h=e[7];let S;e[8]!==x||e[9]!==f||e[10]!==o||e[11]!==p?(S=f?t.jsxs("div",{className:"h-header-height flex flex-1 items-center gap-4",children:[t.jsx("button",{className:z("text-token-text-primary box-content h-full border-b-1 font-medium",p===X.images&&"border-token-text-secondary",p!==X.images&&"text-token-text-tertiary border-transparent"),onClick:()=>x(X.images),children:t.jsx(D,{id:"library.tabs.images",defaultMessage:"Images"})},X.images),o,f&&t.jsx("button",{className:z("text-token-text-primary box-content h-full border-b-1 font-medium",p===X.glaux&&"border-token-text-secondary",p!==X.glaux&&"text-token-text-tertiary border-transparent"),onClick:()=>x(X.glaux),children:t.jsx(D,{id:"library.tabs.glaux",defaultMessage:"Knowledge"})},X.glaux)]}):t.jsx("h1",{className:"px-2 text-lg font-normal select-none [text-box-trim:trim-both] [view-transition-name:var(--vt-tool-page-title)]",children:t.jsx(D,{id:"9yCu65",defaultMessage:"Library"})}),e[8]=x,e[9]=f,e[10]=o,e[11]=p,e[12]=S):S=e[12];let y;e[13]!==g||e[14]!==h||e[15]!==S?(y=t.jsxs("div",{className:g,children:[h,S]}),e[13]=g,e[14]=h,e[15]=S,e[16]=y):y=e[16];let v;e[17]!==n||e[18]!==a||e[19]!==p?(v=p===X.images&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(zs,{onShowHidden:a}),!n&&t.jsx(Ri,{})]}),e[17]=n,e[18]=a,e[19]=p,e[20]=v):v=e[20];let w;return e[21]!==y||e[22]!==v||e[23]!==j?(w=t.jsxs("header",{"data-landing-page-load-target":u,className:j,children:[y,v]}),e[21]=y,e[22]=v,e[23]=j,e[24]=w):w=e[24],w}const Yt=i=>{"use forget";const e=k.c(17),{iconOnly:s}=i,a=V(),{pageType:n}=Es(),r=Ze(),o=E();let l;e[0]!==o?(l=!1,e[0]=o,e[1]=l):l=e[1];const f=l;let m;e[2]!==a?(m=a.formatMessage({id:"E56n+Q",defaultMessage:"Library"}),e[2]=a,e[3]=m):m=e[3];const d=m;let c;e[4]!==r?(c=()=>{H.logEventWithStatsig("chatgpt_web_image_library_sidebar_item_clicked","chatgpt_web_image_library_sidebar_item_clicked",{location:r})},e[4]=r,e[5]=c):c=e[5];const p=n.type==="library";let b;e[6]!==f?(b=f?`${nt(ut.PictureV2,"library")}?tab=${X.glaux}`:nt(ut.PictureV2,"library"),e[6]=f,e[7]=b):b=e[7];let x;e[8]!==s||e[9]!==d?(x=s?{iconOnly:!0,iconAriaLabel:d}:{},e[8]=s,e[9]=d,e[10]=x):x=e[10];let u;return e[11]!==d||e[12]!==c||e[13]!==p||e[14]!==b||e[15]!==x?(u=t.jsx(Ye,{"data-testid":"sidebar-item-library",onClick:c,active:p,icon:Os,to:b,label:d,...x}),e[11]=d,e[12]=c,e[13]=p,e[14]=b,e[15]=x,e[16]=u):u=e[16],u},Ji=({onNewThread:i})=>{const e=E();Ne(e,"713974087");const{shouldShow:s}=Je();return t.jsxs(Xe,{first:!0,className:z("tall:sticky tall:top-header-height tall:z-20 tall:group-data-scrolled-from-top/scrollport:shadow-(--sharp-edge-top-shadow) relative pb-[calc(var(--sidebar-section-margin-top)-var(--sidebar-section-first-margin-top))]",s?"bg-transparent":"bg-token-bg-elevated-secondary"),children:[s&&t.jsx("div",{className:"tall:block bg-token-bg-elevated-secondary/30 -top-header-height absolute inset-0 hidden opacity-0 transition-opacity duration-200 group-data-scrolled-from-top/scrollport:opacity-100 group-data-scrolled-from-top/scrollport:backdrop-blur-xl"}),t.jsx(Xt,{onNewThread:i}),t.jsx(Zt,{}),!1,!1,t.jsx(Yt,{}),!1]})},Xt=({onNewThread:i,iconOnly:e})=>{const s=V(),a=Ze(),n=ye(Dt),r=l=>{H.logNewChatButtonClicked({location:a??"Sidebar gizmo list",gizmo_id:"primary"}),H.logEvent("Sidebar Click Gizmo",{gizmo_id:"primary"}),vt(l,i)},o=s.formatMessage({id:"6Abeg/",defaultMessage:"New chat"});return t.jsx(Ye,{"data-testid":"create-new-chat-button",to:"/",onClick:r,icon:Ls,label:o,highlightTrailing:t.jsx("div",{className:"touch:hidden",children:t.jsx(De,{binding:jt})}),showHighlightTrailing:n,...e?{iconOnly:!0,iconAriaLabel:o}:{}})},Zt=({iconOnly:i})=>{const e=V(),{isFannyPackEnabled:s}=As(),a=Ze(),n=ye(Dt);if(A.useEffect(()=>{s&&(fi.addAction("fannypack.web.action_seen"),Qe(()=>import("./im4lacmmdnhx67y2.js").then(o=>o.d),__vite__mapDeps([5,6,2,1,3,7,8])))},[s]),!s)return null;const r=e.formatMessage({id:"bDEsvT",defaultMessage:"Search chats"});return t.jsx(Be,{onClick:()=>{Qe(()=>import("./im4lacmmdnhx67y2.js").then(o=>o.d),__vite__mapDeps([5,6,2,1,3,7,8])).then(o=>o.openFannyPackSearch()),H.logEventWithStatsig("chatgpt_web_search_sidebar_item_clicked","chatgpt_web_search_sidebar_item_clicked",{location:a})},icon:gi,label:r,highlightTrailing:t.jsx("div",{className:"touch:hidden",children:t.jsx(De,{binding:St})}),showHighlightTrailing:n,...i?{iconOnly:!0,iconAriaLabel:r}:{}})};function eo(i){"use forget";const e=k.c(5),{clientThreadId:s,onNewThread:a}=i,n=_t(s),r=Rt(s),o=bi(),l=Et(),f=o?void 0:n;let m;return e[0]!==r||e[1]!==l||e[2]!==a||e[3]!==f?(m=t.jsx(to,{currentGizmoId:r,activeId:f,isSnorlaxEnabled:l,onNewThread:a}),e[0]=r,e[1]=l,e[2]=a,e[3]=f,e[4]=m):m=e[4],m}function to(i){"use forget";const e=k.c(13),{currentGizmoId:s,activeId:a,isSnorlaxEnabled:n,onNewThread:r}=i,o=E();let l;e[0]!==o?(l=Ne(o,"1693134918"),e[0]=o,e[1]=l):l=e[1];const f=l,m=pi()&&!xi(o);let d;e[2]!==r?(d=t.jsx(Ji,{onNewThread:r}),e[2]=r,e[3]=d):d=e[3];let c;e[4]!==a||e[5]!==s||e[6]!==f||e[7]!==m||e[8]!==n?(c=t.jsx(Se,{fallback:null,children:t.jsx(A.Suspense,{children:f?t.jsx(Le,{name:"ExpandoSidebar",children:t.jsx(Zi,{currentGizmoId:s,activeId:a,isSnorlaxEnabled:n})}):t.jsxs(t.Fragment,{children:[!m&&t.jsxs(t.Fragment,{children:[t.jsxs(Xe,{first:!0,children:[t.jsx(yt,{}),t.jsx(Bs,{}),t.jsx(Le,{name:"GPTsSidebarList",children:t.jsx(Qt,{currentGizmoId:s})}),t.jsx(Le,{name:"ScheduleSidebarItem",children:t.jsx(Rs,{})})]}),n&&t.jsx(qt,{currentGizmoId:s})]}),null,t.jsx(bt,{activeId:a})]})})}),e[4]=a,e[5]=s,e[6]=f,e[7]=m,e[8]=n,e[9]=c):c=e[9];let p;return e[10]!==d||e[11]!==c?(p=t.jsxs(t.Fragment,{children:[d,c]}),e[10]=d,e[11]=c,e[12]=p):p=e[12],p}function Lo(i){"use forget";const e=k.c(4),{clientThreadId:s,onNewThread:a}=i,n=E();let r;return e[0]!==s||e[1]!==n||e[2]!==a?(r=Bt(n)?t.jsx(eo,{clientThreadId:s,onNewThread:a}):null,e[0]=s,e[1]=n,e[2]=a,e[3]=r):r=e[3],r}function so(i){"use forget";const e=k.c(30),{onNewThread:s}=i,a=V(),n=hi(ao),r=Ds(),o=E();let l;e[0]!==o?(l=Ne(o,"1693134918"),e[0]=o,e[1]=l):l=e[1];const f=l;let m;e[2]!==a?(m=a.formatMessage({id:"Q6nsOM",defaultMessage:"Close sidebar"}),e[2]=a,e[3]=m):m=e[3];const d=m;let c;e[4]!==a?(c=a.formatMessage({id:"eMaQ9f",defaultMessage:"Apps"}),e[4]=a,e[5]=c):c=e[5];const p=c,b=A.useContext(ve),x=it(),u=n?.visible&&n.getTitlebarAreaRect().left>0?"justify-end":"justify-between";let j;e[6]!==u?(j=z("h-header-height flex items-center",u),e[6]=u,e[7]=j):j=e[7];let g;e[8]!==s?(g=t.jsx(no,{onNewThread:s}),e[8]=s,e[9]=g):g=e[9];let h;e[10]!==r?(h=r&&t.jsx(Fs,{}),e[10]=r,e[11]=h):h=e[11];let S;e[12]!==p||e[13]!==f?(S=f&&t.jsx(tt,{triggerButton:t.jsx(Ke,{className:"no-draggable",color:"tertiary","aria-label":p,icon:Gs,"data-testid":"apps-button"}),tooltip:p,side:"bottom",size:"auto",contentAlign:"start",alignOffset:-7,sideOffset:4,onCloseAutoFocus:oo,children:t.jsx(yt,{as:we.LinkItem})}),e[12]=p,e[13]=f,e[14]=S):S=e[14];const y=b==="popover"||x,v=b==="popover"?"stage-popover-sidebar":"stage-slideover-sidebar";let w;e[15]!==d||e[16]!==v||e[17]!==y?(w=t.jsx(Ke,{className:"no-draggable cursor-w-resize rtl:cursor-e-resize",color:"tertiary","aria-expanded":y,"aria-controls":v,"aria-label":d,onClick:io,icon:wt,mobileIcon:ji,"data-testid":"close-sidebar-button"}),e[15]=d,e[16]=v,e[17]=y,e[18]=w):w=e[18];let _;e[19]!==d||e[20]!==w?(_=t.jsx(ie,{label:d,triggerAs:null,children:w}),e[19]=d,e[20]=w,e[21]=_):_=e[21];let C;e[22]!==_||e[23]!==h||e[24]!==S?(C=t.jsxs("div",{className:"flex",children:[h,S,_]}),e[22]=_,e[23]=h,e[24]=S,e[25]=C):C=e[25];let P;return e[26]!==C||e[27]!==j||e[28]!==g?(P=t.jsxs("div",{id:"sidebar-header",className:j,children:[g,C]}),e[26]=C,e[27]=j,e[28]=g,e[29]=P):P=e[29],P}function io(){_e.setSidebarOpen(!1)}function oo(i){return i.preventDefault()}function ao(){return navigator.windowControlsOverlay}function no({onNewThread:i,testId:e}){const s=V();return t.jsx(Ke,{onClick:a=>{const n=a.currentTarget.closest("nav");if(n&&n.scrollTop>0){n.scrollTo({top:0,behavior:"smooth"}),a.preventDefault();return}vt(a,i)},icon:Ct,iconClassName:"icon-lg",color:"primary","aria-label":s.formatMessage({id:"H6SRdK",defaultMessage:"Home"}),"data-testid":e,as:"link"})}const ro=()=>{const i=Ce();return t.jsxs("div",{className:"flex h-full flex-col gap-2 p-3",children:[t.jsx(so,{onNewThread:()=>{$s(i)}}),t.jsx(lo,{}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(Us,{})})]})},Jt="border border-token-border-xlight bg-token-sidebar-surface-secondary";function te({className:i,width:e}){return t.jsx("div",{className:z("h-2.5 grow rounded-sm",Jt,i),style:{maxWidth:e+"px"}})}function lo(){const i=t.jsx("div",{className:z("h-4 w-4 shrink-0 grow-0 rounded-full",Jt)});return t.jsxs("div",{className:"mt-2 flex w-full grow flex-col gap-4 overflow-hidden px-2",style:{maskImage:"linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, black 50%, transparent 100%)"},children:[t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[i,t.jsx(te,{width:80})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[i,t.jsx(te,{width:120})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[i,t.jsx(te,{width:100})]}),t.jsx("div",{className:"mt-5 flex flex-row items-center justify-start gap-3",children:t.jsx(te,{width:150})}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[i,t.jsx(te,{width:50})]}),t.jsxs("div",{className:"flex flex-row items-center justify-start gap-3",children:[i,t.jsx(te,{width:100})]}),t.jsxs("div",{className:"mb-5 flex flex-row items-center justify-start gap-3",children:[i,t.jsx(te,{width:80})]}),[120,180,160,100,90,190,140,120,180,170,100,120,180,150].map((e,s)=>t.jsx("div",{className:"flex flex-row items-center justify-start py-1",children:t.jsx(te,{width:e})},s))]})}function es(i){"use forget";const e=k.c(57);let s,a,n;e[0]!==i?({onOpen:a,className:s,...n}=i,e[0]=i,e[1]=s,e[2]=a,e[3]=n):(s=e[1],a=e[2],n=e[3]);const r=Ce(),o=V(),l=E();let f;e[4]!==l?(f=Si(l,"786015841").get("enabled",!1),e[4]=l,e[5]=f):f=e[5];const m=f;let d;e[6]!==s?(d=z("group/tiny-bar flex h-full w-(--sidebar-rail-width) cursor-e-resize flex-col items-start bg-transparent pb-1.5 motion-safe:transition-colors rtl:cursor-w-resize",s),e[6]=s,e[7]=d):d=e[7];let c;e[8]!==a?(c=L=>{L.target===L.currentTarget&&a()},e[8]=a,e[9]=c):c=e[9];let p;e[10]!==o?(p=o.formatMessage({id:"GpHrv5",defaultMessage:"Open sidebar"}),e[10]=o,e[11]=p):p=e[11];let b;e[12]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsxs(t.Fragment,{children:[t.jsx(Ct,{className:"icon-lg -m-1 group-hover/tiny-bar:hidden group-focus-visible:hidden"}),t.jsx(wt,{className:"icon hidden group-hover/tiny-bar:block group-focus-visible:block"})]}),e[12]=b):b=e[12];let x;e[13]!==o?(x=o.formatMessage({id:"IaY18K",defaultMessage:"Open sidebar"}),e[13]=o,e[14]=x):x=e[14];let u;e[15]!==a||e[16]!==x?(u=t.jsx(vi,{as:"button",className:"cursor-e-resize rtl:cursor-w-resize",icon:b,"aria-label":x,"aria-expanded":!1,"aria-controls":"stage-slideover-sidebar",iconOnly:!0,fillContainer:!0,onClick:a}),e[15]=a,e[16]=x,e[17]=u):u=e[17];let j;e[18]!==p||e[19]!==u?(j=t.jsx("div",{className:"h-header-height flex items-center justify-center",children:t.jsx(ie,{label:p,side:"right",triggerAs:null,sideOffset:14,children:u})}),e[18]=p,e[19]=u,e[20]=j):j=e[20];let g;e[21]!==o?(g=o.formatMessage({id:"6Abeg/",defaultMessage:"New chat"}),e[21]=o,e[22]=g):g=e[22];let h;e[23]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(De,{binding:jt}),e[23]=h):h=e[23];let S;e[24]!==r?(S=t.jsx(Xt,{iconOnly:!0,onNewThread:()=>Hs(r)}),e[24]=r,e[25]=S):S=e[25];let y;e[26]!==S||e[27]!==g?(y=t.jsx(ie,{label:g,secondaryLabel:h,side:"right",labelOrientation:"horizontal",triggerAs:"div",children:S}),e[26]=S,e[27]=g,e[28]=y):y=e[28];let v;e[29]!==o?(v=o.formatMessage({id:"VUMlGk",defaultMessage:"Search chats"}),e[29]=o,e[30]=v):v=e[30];let w;e[31]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(De,{binding:St}),e[31]=w):w=e[31];let _;e[32]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(Zt,{iconOnly:!0}),e[32]=_):_=e[32];let C;e[33]!==v?(C=t.jsx(ie,{label:v,secondaryLabel:w,side:"right",labelOrientation:"horizontal",triggerAs:"div",children:_}),e[33]=v,e[34]=C):C=e[34];let P;e[35]!==l||e[36]!==o?(P=null,e[35]=l,e[36]=o,e[37]=P):P=e[37];let R;e[38]!==o?(R=o.formatMessage({id:"JBxuOc",defaultMessage:"Library"}),e[38]=o,e[39]=R):R=e[39];let I;e[40]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(Yt,{iconOnly:!0}),e[40]=I):I=e[40];let N;e[41]!==R?(N=t.jsx(ie,{label:R,side:"right",triggerAs:"div",children:I}),e[41]=R,e[42]=N):N=e[42];let M;e[43]!==y||e[44]!==C||e[45]!==P||e[46]!==N?(M=t.jsxs("div",{className:"mt-(--sidebar-section-first-margin-top)",children:[y,C,P,N]}),e[43]=y,e[44]=C,e[45]=P,e[46]=N,e[47]=M):M=e[47];let O;e[48]!==m?(O=m&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"pointer-events-none flex-grow"}),t.jsx("div",{className:"mb-1",children:t.jsx(Vs,{})})]}),e[48]=m,e[49]=O):O=e[49];let B;return e[50]!==n||e[51]!==d||e[52]!==M||e[53]!==O||e[54]!==c||e[55]!==j?(B=t.jsxs("div",{id:"stage-sidebar-tiny-bar",className:d,onClick:c,...n,children:[j,M,O]}),e[50]=n,e[51]=d,e[52]=M,e[53]=O,e[54]=c,e[55]=j,e[56]=B):B=e[56],B}function Ao(i){"use forget";const e=k.c(2),{onNewChatButtonClick:s}=i,{isUnauthenticated:a,isLoading:n}=Ft();if(n||!a)return null;let r;return e[0]!==s?(r=t.jsx(Wt,{className:"me-3",onClick:()=>{H.logNewChatButtonClicked({location:"Mobile header"}),s()}}),e[0]=s,e[1]=r):r=e[1],r}function Do(i){"use forget";const e=k.c(9),{onNewChatButtonClick:s,clientThreadId:a}=i,{isUnauthenticated:n,isLoading:r}=Ft(),o=yi(),l=Rt(a),f=wi(a,_i.getIsNewConversation),m=Ci(),d=f&&m&&!n&&!l,c=E();let p;e[0]!==c?(p=Ni(c,"2118136551").get("make_signup_sticky",!1),e[0]=c,e[1]=p):p=e[1];const b=p;if(r)return null;if(n){let g;return e[2]!==o||e[3]!==b?(g=b?t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(ht,{}),t.jsx(gt,{})]}):o?t.jsx(ht,{}):t.jsx(gt,{}),e[2]=o,e[3]=b,e[4]=g):g=e[4],g}let x;e[5]!==s?(x=t.jsx(Wt,{onClick:()=>{H.logNewChatButtonClicked({location:"Mobile header"}),s()}}),e[5]=s,e[6]=x):x=e[6];const u=x;if(!d)return u;let j;return e[7]!==a?(j=t.jsx(Ws,{variant:"secondary",clientThreadId:a}),e[7]=a,e[8]=j):j=e[8],j}function gt(){"use forget";const i=k.c(8),e=E();let s;i[0]===Symbol.for("react.memo_cache_sentinel")?(s={id:"navigation.signUpButtonText",defaultMessage:"Sign up",description:"Button text for Sign up button"},i[0]=s):s=i[0];const a=ki(s);let n;i[1]!==e?(n=()=>{Ut(e,{authType:"signup",callback:co})},i[1]=e,i[2]=n):n=i[2];let r;i[3]!==a?(r=t.jsx(D,{...a}),i[3]=a,i[4]=r):r=i[4];let o;return i[5]!==n||i[6]!==r?(o=t.jsx(Ht,{as:"button",size:"small",color:"primary",onClick:n,children:r}),i[5]=n,i[6]=r,i[7]=o):o=i[7],o}function co(i){H.logSignUpButtonClicked({location:"Mobile Chat Stage Header",provider:i})}function ht(){"use forget";const i=k.c(5),e=E();let s;i[0]!==e?(s=()=>{Ut(e,{authType:"login",callback:uo})},i[0]=e,i[1]=s):s=i[1];let a;i[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(D,{...Ti.logInButtonText}),i[2]=a):a=i[2];let n;return i[3]!==s?(n=t.jsx(Ht,{as:"button",size:"small",color:"primary",onClick:s,"data-testid":"mobile-login-button",children:a}),i[3]=s,i[4]=n):n=i[4],n}function uo(i){H.logLogInButtonClicked({location:"Mobile Chat Stage Header",provider:i})}function mo(i){"use forget";const e=k.c(7),{onClick:s}=i,a=Qs(Ys,qs,!1,!0),n=Re(fo);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("span",{className:"sr-only",children:t.jsx(D,{id:"navigation.openSidebar",defaultMessage:"Open sidebar"})}),e[0]=r):r=e[0];let o;e[1]!==a?(o=t.jsx(a,{className:"icon-lg text-token-text-secondary mx-2"}),e[1]=a,e[2]=o):o=e[2];let l;return e[3]!==n||e[4]!==s||e[5]!==o?(l=t.jsxs("button",{type:"button",className:"hover:text-token-text-primary touch:h-10 touch:w-10 inline-flex h-9 w-9 items-center justify-center rounded-md focus:ring-2 focus:ring-white focus:outline-hidden focus:ring-inset active:opacity-50",onClick:s,"data-testid":"open-sidebar-button","aria-expanded":n,"aria-controls":"stage-popover-sidebar",children:[r,o]}),e[3]=n,e[4]=s,e[5]=o,e[6]=l):l=e[6],l}function fo(i){return i.isPopoverSidebarOpen}const go=i=>{"use forget";const e=k.c(22),{rightContentExpanded:s,onOpenSidebar:a,children:n,showNavSidebar:r,leftContent:o,rightContent:l,bottomContent:f}=i,m=Re(bo),{shouldShow:d}=Je(),c=d?"absolute w-full bg-transparent":"bg-token-bg-primary sticky",p=m?"[box-shadow:var(--sharp-edge-top-shadow)]":"[box-shadow:var(--sharp-edge-top-shadow-placeholder)]";let b;e[0]!==c||e[1]!==p?(b=z("draggable h-header-height top-0 z-10 flex items-center justify-center border-transparent ps-0 md:hidden",c,p),e[0]=c,e[1]=p,e[2]=b):b=e[2];let x;e[3]!==o||e[4]!==a||e[5]!==r?(x=(r||o)&&t.jsxs("div",{className:"no-draggable absolute start-0 top-0 bottom-0 ms-2 inline-flex items-center justify-center",children:[r&&t.jsx(mo,{onClick:a}),o]}),e[3]=o,e[4]=a,e[5]=r,e[6]=x):x=e[6];let u;e[7]!==n?(u=t.jsx("div",{className:"no-draggable",children:n}),e[7]=n,e[8]=u):u=e[8];let j;e[9]!==l||e[10]!==s?(j=l&&t.jsx("div",{className:z("no-draggable absolute end-0 top-0 bottom-0 me-2 inline-flex items-center justify-center",s&&"start-10"),children:l}),e[9]=l,e[10]=s,e[11]=j):j=e[11];let g;e[12]!==b||e[13]!==x||e[14]!==u||e[15]!==j?(g=t.jsxs("div",{className:b,children:[x,u,j]}),e[12]=b,e[13]=x,e[14]=u,e[15]=j,e[16]=g):g=e[16];let h;e[17]!==f?(h=f&&t.jsx("div",{className:"no-draggable bg-token-bg-primary flex w-full items-center justify-center md:hidden",children:f}),e[17]=f,e[18]=h):h=e[18];let S;return e[19]!==g||e[20]!==h?(S=t.jsxs(t.Fragment,{children:[g,h]}),e[19]=g,e[20]=h,e[21]=S):S=e[21],S};function ho(i){"use forget";const e=k.c(4),{isPopover:s,children:a,forceOpenDesktopSidebar:n}=i,r=s===void 0?!1:s;se.markStart("StageNavigationSidebar"),se.markRendered("StageNavigationSidebar");let o;return e[0]!==a||e[1]!==n||e[2]!==r?(o=r?t.jsx(xo,{children:a}):t.jsx(po,{forceOpenDesktopSidebar:n,children:a}),e[0]=a,e[1]=n,e[2]=r,e[3]=o):o=e[3],o}const ts={type:"spring",bounce:.1,duration:.35},pt={...ts,duration:.4},po=i=>{"use forget";const e=k.c(24),{style:s,children:a,forceOpenDesktopSidebar:n}=i;Nt(jo),se.trackNamespace(se.NS_SIDEBAR);const r=Mi(),{shouldShow:o}=Je(),l=it()||n,f=r?Ks:ts,m=l?"var(--sidebar-width)":"var(--sidebar-rail-width)",d=o?"transparent":l?"var(--bg-elevated-secondary)":"var(--bg-primary)";let c;e[0]!==m||e[1]!==d?(c={width:m,backgroundColor:d},e[0]=m,e[1]=d,e[2]=c):c=e[2];const p=l?"pointer-events-none opacity-0":"opacity-100",b=l?"motion-safe:[transition-timing-function:steps(1,end)]":"motion-safe:[transition-timing-function:steps(1,start)]";let x;e[3]!==p||e[4]!==b?(x=z("absolute inset-0",p,b,"motion-safe:transition-opacity motion-safe:duration-150"),e[3]=p,e[4]=b,e[5]=x):x=e[5];let u;e[6]!==l||e[7]!==x?(u=t.jsx(ve.Provider,{value:"tiny_bar",children:t.jsx(es,{className:x,inert:l,onOpen:So})}),e[6]=l,e[7]=x,e[8]=u):u=e[8];const j=l?"opacity-100":"pointer-events-none opacity-0",g=!o&&"bg-token-bg-elevated-secondary";let h;e[9]!==g||e[10]!==j?(h=z(j,"motion-safe:transition-opacity motion-safe:duration-150 motion-safe:ease-linear","h-full w-[var(--sidebar-width)] overflow-x-clip overflow-y-auto text-clip whitespace-nowrap",g),e[9]=g,e[10]=j,e[11]=h):h=e[11];const S=!l;let y;e[12]!==a||e[13]!==h||e[14]!==S?(y=t.jsx(ve.Provider,{value:"expanded_sidebar",children:t.jsx("div",{className:h,inert:S,children:a})}),e[12]=a,e[13]=h,e[14]=S,e[15]=y):y=e[15];let v;e[16]!==y||e[17]!==u?(v=t.jsxs("div",{className:"relative flex h-full flex-col",children:[u,y]}),e[16]=y,e[17]=u,e[18]=v):v=e[18];let w;return e[19]!==s||e[20]!==f||e[21]!==v||e[22]!==c?(w=t.jsx(Ae.div,{className:"border-token-border-light relative z-21 h-full shrink-0 overflow-hidden border-e max-md:hidden",transition:f,initial:!1,animate:c,style:s,id:"stage-slideover-sidebar",children:v}),e[19]=s,e[20]=f,e[21]=v,e[22]=c,e[23]=w):w=e[23],w},xo=i=>{"use forget";const e=k.c(21),{children:s}=i;Nt(vo);const a=E(),n=st(a).checkGate("1536947154"),r=Re(yo),o=mt,l=wo,f=r?"pointer-events-none opacity-0":"opacity-100",m=r?"motion-safe:[transition-timing-function:steps(1,end)]":"motion-safe:[transition-timing-function:steps(1,start)]";let d;e[0]!==f||e[1]!==m?(d=z("absolute inset-0",f,m,"motion-safe:transition-opacity motion-safe:duration-150"),e[0]=f,e[1]=m,e[2]=d):d=e[2];let c;e[3]!==r||e[4]!==d?(c=t.jsx("div",{className:"border-token-border-light relative z-21 h-full w-[var(--sidebar-rail-width)] shrink-0 overflow-hidden border-e max-md:hidden",children:t.jsx(ve.Provider,{value:"tiny_bar",children:t.jsx(es,{className:d,inert:r,onOpen:Co})})}),e[3]=r,e[4]=d,e[5]=c):c=e[5];const p=mt,b=!0,x=qe;let u;e[6]!==r?(u=r&&t.jsx(Pi,{asChild:!0,children:t.jsx(Ae.div,{className:"fixed inset-0 z-10 bg-gray-50/50 dark:bg-black/50",transition:pt,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.12}}})}),e[6]=r,e[7]=u):u=e[7];const j=r&&t.jsx(Ii,{asChild:!0,onOpenAutoFocus:No,children:t.jsxs(Ae.div,{className:z("bg-token-sidebar-surface-primary top-banner-visible:bottom-0 top-banner-visible:top-(--top-banner-height,0px) top-banner-visible:h-auto fixed start-0 top-0 z-50 h-full w-[var(--sidebar-width)] max-w-xs border-e border-gray-200 shadow-[0_0_64px_0_rgba(0,0,0,0.07)] [view-transition-name:var(--sidebar-popover)] focus:outline-hidden dark:border-gray-800",n&&"pb-[env(safe-area-inset-bottom,0px)]"),transition:pt,id:"stage-popover-sidebar",initial:{translateX:"-100%"},animate:{translateX:"0"},exit:{translateX:"-100%",transition:{duration:.12}},children:[t.jsx(zi,{asChild:!0,children:t.jsxs(Ei,{children:[t.jsx(D,{id:"navigation.sidebarTitle",defaultMessage:"Sidebar"}),t.jsx(Oi,{})]})}),t.jsx(ve.Provider,{value:"popover",children:s})]})});let g;e[8]!==x||e[9]!==j||e[10]!==u?(g=t.jsxs(x,{children:[u,j]}),e[8]=x,e[9]=j,e[10]=u,e[11]=g):g=e[11];let h;e[12]!==g||e[13]!==p.Portal?(h=t.jsx(p.Portal,{forceMount:b,children:g}),e[12]=g,e[13]=p.Portal,e[14]=h):h=e[14];let S;return e[15]!==r||e[16]!==o.Root||e[17]!==h||e[18]!==l||e[19]!==c?(S=t.jsxs(o.Root,{open:r,onOpenChange:l,children:[c,h]}),e[15]=r,e[16]=o.Root,e[17]=h,e[18]=l,e[19]=c,e[20]=S):S=e[20],S};function bo(i){return i.isConversationScrolledFromTop}function jo(){Gt.count($t.DEFAULT,"chatgpt_sidebar_show",{key:"type",value:"slideover"}),H.logEvent("Sidebar Show",{type:"slideover"})}function So(){return _e.setSidebarOpen(!0)}function vo(){Gt.count($t.DEFAULT,"chatgpt_sidebar_show",{key:"type",value:"popover"}),H.logEvent("Sidebar Show",{type:"popover"})}function yo(i){return i.isPopoverSidebarOpen}function wo(i){_e.setPopoverSidebarOpen(i)}function Co(){return _e.setPopoverSidebarOpen(!0)}function No(i){i.preventDefault()}function ss(i){"use forget";const e=k.c(73),{children:s,hideNavigation:a,mobileHeaderContent:n,mobileHeaderRightContentExpanded:r,mobileHeaderLeftContent:o,mobileHeaderRightContent:l,mobileHeaderBottomContent:f,renderNavSidebar:m,threadFlyout:d,forceOpenDesktopSidebar:c}=i,p=a===void 0?!1:a,b=c===void 0?!1:c,x=E(),u=!Bt(x),j=Re(ko),g=Li(),h=Ai(),S=Di();let y,v;e[0]!==s?(y=[],v=null,at.Children.forEach(s,Y=>{at.isValidElement(Y)&&(Y.type===ss.Sidebars?v=Y:y.push(Y))}),e[0]=s,e[1]=y,e[2]=v):(y=e[1],v=e[2]);const w=!u&&!p&&m!=null,_=!p&&(w||u)&&!0;let C;e[3]!==S?(C=S?ft(S,"summarizer"):!1,e[3]=S,e[4]=C):C=e[4];const P=C,R=S?!ft(S,"summarizer"):!1;let I,N,M,O,B,L,$,W,U;if(e[5]!==j||e[6]!==x||e[7]!==b||e[8]!==h||e[9]!==g||e[10]!==u||e[11]!==f||e[12]!==n||e[13]!==r||e[14]!==o||e[15]!==l||e[16]!==m||e[17]!==R||e[18]!==_||e[19]!==w||e[20]!==P){const Y=st(x).checkGate("1536947154");I=g&&(P||R),N="flex h-full w-full flex-col",e[30]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(Se,{children:t.jsx(Xs,{})}),e[30]=M):M=e[30];const ae=j!=="popover-nav"&&"z-0";e[31]!==ae?(U=z("relative flex h-full w-full flex-1 transition-colors",ae),e[31]=ae,e[32]=U):U=e[32],$="relative flex h-full w-full flex-row";let G;e[33]!==b||e[34]!==h||e[35]!==u||e[36]!==m||e[37]!==w?(G=w&&t.jsx(ho,{isPopover:h,forceOpenDesktopSidebar:b,children:u?t.jsx(ro,{}):m?.()}),e[33]=b,e[34]=h,e[35]=u,e[36]=m,e[37]=w,e[38]=G):G=e[38],e[39]!==G?(W=t.jsx(qe,{initial:!1,children:G}),e[39]=G,e[40]=W):W=e[40],B="relative flex h-full max-w-full flex-1 flex-col",e[41]!==f||e[42]!==n||e[43]!==r||e[44]!==o||e[45]!==l||e[46]!==_||e[47]!==w?(L=_&&t.jsxs(Se,{children:[t.jsx(Zs,{}),t.jsx(go,{rightContentExpanded:r,onOpenSidebar:_o,showNavSidebar:w,leftContent:o,rightContent:l,bottomContent:f,children:n})]}),e[41]=f,e[42]=n,e[43]=r,e[44]=o,e[45]=l,e[46]=_,e[47]=w,e[48]=L):L=e[48],O=z("transition-width relative h-full w-full flex-1 overflow-auto",Y&&"-translate-y-[calc(env(safe-area-inset-bottom,0px)/2)] pt-[calc(env(safe-area-inset-bottom,0px)/2)]"),e[5]=j,e[6]=x,e[7]=b,e[8]=h,e[9]=g,e[10]=u,e[11]=f,e[12]=n,e[13]=r,e[14]=o,e[15]=l,e[16]=m,e[17]=R,e[18]=_,e[19]=w,e[20]=P,e[21]=I,e[22]=N,e[23]=M,e[24]=O,e[25]=B,e[26]=L,e[27]=$,e[28]=W,e[29]=U}else I=e[21],N=e[22],M=e[23],O=e[24],B=e[25],L=e[26],$=e[27],W=e[28],U=e[29];let K;e[49]!==y||e[50]!==O?(K=t.jsx("main",{className:O,id:"main","z-index":"-1",children:y}),e[49]=y,e[50]=O,e[51]=K):K=e[51];let Q;e[52]!==K||e[53]!==B||e[54]!==L?(Q=t.jsxs("div",{className:B,children:[L,K]}),e[52]=K,e[53]=B,e[54]=L,e[55]=Q):Q=e[55];let q;e[56]!==Q||e[57]!==$||e[58]!==W?(q=t.jsxs("div",{className:$,children:[W,Q]}),e[56]=Q,e[57]=$,e[58]=W,e[59]=q):q=e[59];let F;e[60]!==I||e[61]!==d?(F=t.jsx(Se,{children:t.jsx(Js,{isExpanded:I,children:d})}),e[60]=I,e[61]=d,e[62]=F):F=e[62];let Z;e[63]!==v||e[64]!==q||e[65]!==F||e[66]!==U?(Z=t.jsxs("div",{className:U,children:[q,F,v]}),e[63]=v,e[64]=q,e[65]=F,e[66]=U,e[67]=Z):Z=e[67];let oe;e[68]===Symbol.for("react.memo_cache_sentinel")?(oe=t.jsxs(Se,{children:[t.jsx(ei,{}),t.jsx(ti,{useManuallyControlledVisibility:!0})]}),e[68]=oe):oe=e[68];let ee;return e[69]!==N||e[70]!==M||e[71]!==Z?(ee=t.jsxs("div",{className:N,children:[M,Z,oe]}),e[69]=N,e[70]=M,e[71]=Z,e[72]=ee):ee=e[72],ee}function _o(){return _e.setSidebarOpen(!0)}function ko(i){return i.activeSidebar}function To(i){"use forget";const e=k.c(2),{children:s}=i;let a;return e[0]!==s?(a=t.jsx(t.Fragment,{children:s}),e[0]=s,e[1]=a):a=e[1],a}ss.Sidebars=To;export{Lo as C,Oo as L,to as S,so as a,ss as b,Ao as c,Do as d};
//# sourceMappingURL=g1gh2pdal3y13b7m.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/oz5lrfmhd6xl4mmv.js","assets/n97h6so7iblif4c5.js","assets/fqsblu76f88rb6n0.js","assets/ivbsxyeeopn30y8l.js","assets/cim4usely8ixso70.js","assets/root-c9lkqywj.css","assets/conversation-small-dhmr708a.css","assets/ggc8598ndo8rm83w.js","assets/1x1n8bm92h1lz5ud.js","assets/k4l1dpzf5fkrs339.js","assets/ansi-1f6vhsjh.css","assets/b84ezng13dzite1x.js","assets/br155adl8dczy115.js","assets/div7mikai9oktr1k.js","assets/gdos2bpc3gh55vkr.js","assets/gqfz6erng10c6vcd.js","assets/ond0ck4gkjbbzc2w.js","assets/dkmxfpfv7adi2gnr.js","assets/lptwpbjabrvjmhsj.js","assets/byjv95ft85soro10.js","assets/gbteqpxwv8l2z6qy.js","assets/fzrn137102spawew.js","assets/gh166jh358aafqk2.js","assets/h42ntto8gdpvwg72.js","assets/eiqndj5deifk5sx6.js","assets/j6dwj57mete4hl4s.js","assets/k45qpq5qounxd734.js","assets/ox1akcpm1f0j5d6a.js","assets/hu8l46l2cp0vm3yv.js","assets/fjinov8j0tzit9my.js","assets/hl263mv5vjd6fe09.js","assets/g53q3aq6phlzyyxi.js","assets/parse-diff-iz0raby8.css","assets/c4vbhkqdiicfwhk9.js","assets/mfrmh8iqcq7c5rho.js","assets/n3yg6x086kovwjnv.js","assets/hyd0xfhv1phzro2t.js","assets/code-diff-krvv6lyt.css"])))=>i.map(i=>d[i]);
import{j as ge,W as I,h as Se,w as Le,l as oa,g as V,L as pe,u as la,f as ca,o as Ve,m as da,M as Ye,c as ua,B as ma}from"./div7mikai9oktr1k.js";import{r as f,b as H,j as e,M as k,a as Ie,m as Xe,l as se,u as fa,h as we,A as ha,d as ga,g as pa}from"./n97h6so7iblif4c5.js";import{fz as xa,C as wa,B as re,at as ne,hP as va,d1 as ba,a as ve,c as Y,d as X,R as Re,aC as be,b7 as _a,rp as ya,i as ka,cO as ja,cL as Ma,ao as G,h0 as te,ap as Je,ec as Pa,ee as Ca,ac as Ta,ad as Na,ic as Sa,aT as La,aU as Da,mT as Fa,bj as Ia}from"./cim4usely8ixso70.js";import{cS as Ra,B as Ba,bp as De,i as Ea,f6 as qa,lF as Ua,dV as Ue,f4 as Ha,f5 as Oa,j as je,Z as Wa,bA as He,j3 as Me,Y as Ga,K as Oe,d as Qa,mk as We,ml as Ge,ou as Ka,hN as $a,c0 as za,bc as Aa}from"./ivbsxyeeopn30y8l.js";import{JsonViewer as Va}from"./byjv95ft85soro10.js";import{T as Ya,a as Xa,b as Ja}from"./g53q3aq6phlzyyxi.js";import{f as Za,C as Fe,M as Pe,p as fe,u as et,W as at,b as tt,c as st}from"./ggc8598ndo8rm83w.js";import{W as xe}from"./eiqndj5deifk5sx6.js";import{S as rt}from"./hh6y2dm7afl4jnkn.js";import{u as nt,a as it,W as ot}from"./h42ntto8gdpvwg72.js";import{W as lt}from"./glzukr9syvu7sajr.js";import{S as ct}from"./dgg0wzb8m3bwp1ob.js";import{N as dt}from"./dc0g1vvwfzc619ae.js";import{s as he,B as ut}from"./0pr0i2ofpxcgwml5.js";import{s as Ce}from"./j6dwj57mete4hl4s.js";import{u as mt}from"./bcnsse8l7ak9ome8.js";function ts({taskId:a,task:r,currentUserTurn:t,currentAssistantTurn:s}){const n=ge(l=>l.addTurnToTaskMap),i=ge(l=>l.getTurnsForTask),[u,o]=f.useState(s?.id??r?.current_turn_id??null);f.useEffect(()=>{a&&(s&&["pending","in_progress","failed"].includes(s.turn_status)?o(s.id):o(s?.id??null),t&&n(a,t),s&&n(a,s))},[s,t,a,n]);let c=i(a??"")?.filter(l=>l.type==="assistant")?.find(l=>l.id===u)??null;return c||(c=s),{focusedAssistantTurn:c,setFocusedAssistantTurnId:o}}function ft({previewImages:a}){const r=H(),t=Ra(a.map(l=>({content_type:xa.ImageAssetPointer,asset_pointer:l.asset_pointer??"",size_bytes:l.size_bytes??0,width:l.width??0,height:l.height??0}))),s=f.useMemo(()=>t.filter(l=>l.data),[t]),[n,i]=f.useState(0),u=Math.min(Math.max(n,0),Math.max(s.length-1,0));function o(){s.length<=1||(i(l=>(l-1+s.length)%s.length),xe.recordPreviewImagesCarouselPrev())}function m(){s.length<=1||(i(l=>(l+1)%s.length),xe.recordPreviewImagesCarouselNext())}const c=s[u]?.data;return e.jsxs("div",{className:"relative flex h-full w-full items-center justify-center overflow-hidden p-4",children:[c?e.jsx("img",{src:c.url,width:c.width,height:c.height,alt:r.formatMessage({id:"wham.whamTaskPageContentLoaded.previewImageAlt",defaultMessage:"Generated image"}),className:"max-h-full max-w-full object-contain"},u):e.jsx("div",{className:"text-secondary text-sm",children:r.formatMessage({id:"wham.whamPreviewImageCarousel.loading",defaultMessage:"Loading preview…"})}),s.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button","aria-label":r.formatMessage({id:"wham.whamPreviewImageCarousel.prev",defaultMessage:"Previous image"}),onClick:o,className:"absolute start-2 top-1/2 -translate-y-1/2 rounded-md bg-black/40 px-2 py-1 text-white hover:bg-black/60 focus:ring-2 focus:ring-white/70 focus:outline-none",children:"‹"}),e.jsx("button",{type:"button","aria-label":r.formatMessage({id:"wham.whamPreviewImageCarousel.next",defaultMessage:"Next image"}),onClick:m,className:"absolute end-2 top-1/2 -translate-y-1/2 rounded-md bg-black/40 px-2 py-1 text-white hover:bg-black/60 focus:ring-2 focus:ring-white/70 focus:outline-none",children:"›"}),e.jsxs("div",{className:"pointer-events-none absolute start-1/2 bottom-2 -translate-x-1/2 rounded-md bg-black/40 px-2 py-0.5 text-xs text-white",children:[u+1," / ",s.length]})]})]})}function ht({isOpen:a,onConfirm:r,onClose:t,loading:s}){return e.jsx(wa,{isOpen:a,onClose:t,testId:"modal-wham-retry-all-turns",type:"warning",title:e.jsx("p",{className:"text-token-text-primary font-semibold",children:e.jsx(k,{id:"wham.retryAllTurnsModal.title",defaultMessage:"Retry all turns"})}),primaryButton:e.jsx(re,{color:"primary",loading:s,onClick:r,children:e.jsx(k,{id:"wham.retryAllTurnsModal.confirm",defaultMessage:"Retry all turns"})}),secondaryButton:e.jsx(re,{color:"secondary",onClick:t,children:e.jsx(k,{id:"wham.retryAllTurnsModal.cancel",defaultMessage:"Cancel"})}),children:e.jsx("div",{className:"text-sm",children:e.jsx(k,{id:"wham.retryAllTurnsModal.message",defaultMessage:"All latest turns will restart, including any siblings turns that are in progress or completed."})})})}function gt({taskId:a,turnId:r,comments:t,clearComments:s,lastTurn:n,focusedAssistantTurn:i,setFocusedAssistantTurnId:u,retry:o,attemptIndex:m,siblings:c}){const l=Ie(),y=H(),h=ne(),x=va(),j=ba(),M=nt(),w=it(),b=C=>{j.eraseContent(),s(),u(C.turn.id)},S=async()=>{if(o){g(!0);try{if(o.previousTurnId){const C=await I.createFollowUpTask(a,o.previousTurnId,o.prompt,o.comments??[],!1,q?o.bestOfN??1:void 0,M?o.attachments:[],w);b(C)}else{const C=await I.createNewTask(o.environmentId,o.branch,o.prompt,!1,q?o.bestOfN:void 0,M?o.attachments:[]);l(`/codex/tasks/${C.task.id}`)}N(!1)}catch(C){C instanceof Se?Le(C,r,y,h):h.danger({id:"wham.whamTaskPageFooter.errorRetryingTask",defaultMessage:"Error retrying task",description:"Error retrying task"},{toastId:"wham_task_page_footer_error_retrying_task"})}finally{g(!1)}}},Q=i?.output_items?.some(C=>C.type==="pr"),L=!n||!i||n.id===i?.id||!Q,O=o&&L&&i?.turn_status==="failed",v=i?.previous_turn_id&&n?.type==="assistant"&&i.previous_turn_id===n.previous_turn_id,[R,g]=f.useState(!1),[P,N]=f.useState(!1),B=ve(),K=Y(B,"1406552515"),E=Y(B,"879591222")||void 0,q=Y(B,"3492040717"),J=f.useMemo(()=>{const C=[...i?.output_items?.find(T=>T.type==="review")?.suggested_followup_tasks??[],...i?.output_items?.filter(T=>T.type==="suggested_task")??[]],ee=Za(i?.child_turns?.filter(T=>T.source.type==="suggested_task")?.map(T=>[T.source.suggested_task_id,T]));return C.map(T=>({suggestion:T,userTurnId:T.id?ee[T.id]?.assistant_turn_id??null:null,assistantTurnId:T.id?ee[T.id]?.user_turn_id??null:null}))},[i]),Z=n?.type==="assistant"?n.turn_status:"completed",W=c?.map(C=>C.turn_status)??[];return n?.type==="assistant"&&["pending","in_progress"].includes(n.turn_status)&&!E?null:e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:"wham-message-modal-footer",className:"z-50 flex w-full justify-center",children:[(L||v)&&e.jsx("div",{className:"flex w-full justify-center px-4",children:e.jsx("div",{className:X("relative z-1 flex w-full flex-col pt-2 pb-4",Fe),children:O?e.jsx(re,{className:"w-full",color:"primary",size:"large",loading:R&&!P,onClick:()=>{(o?.bestOfN??1)>1?N(!0):S()},children:(o.bestOfN??1)>1?y.formatMessage({id:"wham.whamTaskPageFooter.retryAllTurns",defaultMessage:"Retry all turns"}):y.formatMessage({id:"wham.whamTaskPageFooter.retry",defaultMessage:"Retry"})}):s&&e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsx(lt,{}),!K&&e.jsx(ot,{disableAutoFocus:!0,disableDuringSubmit:!0,onSuccess:b,onClearComments:s,followUp:{taskId:a,turnId:r,comments:t,turnStatus:Z,siblingTurnStatuses:W,followUpSuggestions:J},attemptIndex:m,ariaLabel:y.formatMessage({id:"wham.whamTaskPageFooter.composerAriaLabel",defaultMessage:"Composer to enter a follow up prompt to the task"})})]})})}),!L&&!v&&e.jsx(Xe.div,{layout:!0,className:X("dark mx-6 mb-6 w-full",Fe),initial:{opacity:0,translateY:10},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:10},transition:{duration:x?0:.25},children:e.jsx(Ba,{title:e.jsx(k,{id:"wham.whamTaskPageFooter.previousTurn",defaultMessage:"You are viewing a previous turn"}),primaryCtaText:e.jsx(k,{id:"wham.whamTaskPageFooter.viewLatestTurn",defaultMessage:"View latest"}),content:e.jsx(k,{id:"wham.whamTaskPageFooter.followUpsLatestTurn",defaultMessage:"Follow-ups are only available for the latest turn"}),icon:e.jsx(rt,{className:"icon"}),onPrimaryCtaClick:()=>u(n.id)})})]}),e.jsx(ht,{isOpen:P,onClose:()=>N(!1),onConfirm:S,loading:R})]})}const Ze=window.location.origin+"/s/";function pt(a){return`${Ze}${a}`}function ea(a){return!a||!a.attachments||a.attachments.length===0||a.attachments[0].kind!=="codex"?null:{postId:a.id,permalink:a.permalink??pt(a.id),permissions:a.permissions.share_setting??"public",codexTask:a.attachments[0].task,codexTurn:a.attachments[0].turns}}function le(a){return["codex_tasks","result","share",a]}function xt({taskId:a,enabled:r}){return fa({enabled:!!a&&r,queryKey:le(a),queryFn:async()=>{const t=await Re.safeGet("/share/post/by_codex_task/{codex_task_id}",{parameters:{path:{codex_task_id:a}}});return t.post?ea(t.post):null}})}function wt({taskId:a,onSuccess:r,onError:t}){return se({scope:{id:a},mutationFn:()=>I.forkSharedTask(a),onSuccess:r,onError:t})}function vt({taskId:a,turnId:r,onSuccess:t,onError:s}){return se({scope:{id:a},mutationFn:async()=>{const n=await Re.safePost("/share/post",{requestBody:{attachments_to_create:[{kind:"codex",codex_task_id:a,current_codex_turn_id:r}]}});return ea(n.post)},onSuccess:t,onError:s})}function bt({taskId:a,sharedResult:r}){const t=we();return se({scope:{id:r?.postId??""},mutationFn:async({sharedResultId:s,access:n})=>(await Re.safePost("/share/post/update_access",{requestBody:{post_id:s,share_settings:n}})).share_setting,onMutate:({access:s})=>{const n=le(a),i=t.getQueryData(n);return t.setQueryData(n,i&&{...i,permissions:s}),{previousAccess:i?.permissions}},onSuccess:s=>{const n=le(a),i=t.getQueryData(n);i&&t.setQueryData(n,{...i,permissions:s})},onError:(s,n,i)=>{const u=le(a),o=t.getQueryData(u);t.setQueryData(u,o&&{...o,permissions:i?.previousAccess??"public"})}})}function _t({taskId:a}){const r=H(),t=ne(),s=Ie(),{mutate:n}=wt({taskId:a,onSuccess:i=>{i?.task?.id&&s(`/codex/tasks/${i?.task?.id}`)},onError:()=>{t.danger(r.formatMessage({id:"wham.codexForkButton.failedToFork",defaultMessage:"Failed to fork task"}))}});return e.jsx(re,{size:"small",color:"secondary",type:"button",className:"px-3 py-2",onClick:()=>n(),children:e.jsx(k,{id:"wham.share.taskForkButton",defaultMessage:"Fork"})})}const yt=`${Ze}...`;function kt({taskId:a,turnId:r,isLoading:t,sharedResult:s,title:n}){const[i,u]=f.useState(!1),o=(b,S)=>{b&&Wa(b,void 0,S).then(()=>{u(!0),setTimeout(()=>u(!1),1500)}).catch(()=>{})},m=we(),c=ne(),{mutate:l,isPending:y}=vt({taskId:a,turnId:r,onSuccess:b=>{if(!b){c.danger("Failed to create share link");return}m.setQueryData(le(a),b),o(b.permalink)}}),{mutate:h}=bt({taskId:a,sharedResult:s}),x=f.useRef(null),j=b=>{x.current?.focus(),s?o(s.permalink,b):l()},M=b=>{s&&h({sharedResultId:s.postId,access:b})},w=b=>{switch(b){case"public":return je.PUBLIC;case"private":return je.PRIVATE;case"workspace":return je.WORKSPACE}};return e.jsx(ut,{inputRef:x,isLoading:t,isPublishedVersionLatest:!0,sharedObject:s&&{id:s.postId,title:n,access:w(s.permissions)},title:n,shareTextPlaceholder:yt,shareUrl:s?.permalink,isCopySuccessful:i,isCreateLinkRequestInProgress:y,handlePrivacyChange:M,handlePrimaryButtonClick:j})}function jt({taskId:a,turnId:r,isDisabled:t,title:s}){const n=be(),i=_a(),u=H(),[o,m]=f.useState(!1),{data:c,isLoading:l}=xt({taskId:a,enabled:o&&!t}),{triggerRef:y,container:h}=ya({isOpen:o,onClose:()=>m(!1)}),x=i?.isWorkspaceAccount()&&!i?.features.includes(ka.WorkspaceShareLinks);return t||x?e.jsx(ja,{label:x?u.formatMessage(he.workspaceSharingDisabled):u.formatMessage(he.share),children:e.jsx(De,{disabled:!0,icon:Ea,"aria-label":u.formatMessage(x?he.workspaceSharingDisabled:he.share)})}):e.jsxs(qa,{open:o,onOpenChange:m,children:[e.jsx(Ua,{ref:y,asChild:!0,children:n?e.jsx(De,{icon:Ue,"aria-label":u.formatMessage({id:"wham.whamTaskPageHeader.shareAriaLabel",defaultMessage:"Share task"})}):e.jsx(re,{icon:Ue,color:"ghost","aria-label":u.formatMessage({id:"wham.whamTaskPageHeader.shareAriaLabel",defaultMessage:"Share task"}),children:e.jsx(k,{id:"wham.whamTaskPageHeader.share",defaultMessage:"Share"})})}),e.jsx(ha,{children:o&&e.jsx(Ha,{forceMount:!0,container:h,children:e.jsx(Oa,{align:"end",className:"z-50",sideOffset:8,collisionPadding:8,children:e.jsx(kt,{title:s,taskId:a,turnId:r,sharedResult:c,isLoading:l})})})})]})}function Mt({assistantTurn:a}){const r=H(),t=ne(),s=be(),n=a?.pull_request_data?.head??a?.branch??"";return s||!n?null:e.jsx("span",{className:"text-token-text-secondary hover:text-token-text-primary cursor-pointer truncate",onClick:()=>{navigator.clipboard.writeText(n),t.success(r.formatMessage({id:"wham.branchName.copied",defaultMessage:"Copied branch name to clipboard"}))},children:n})}const Pt=({assistantTurn:a})=>{const r=H(),t=f.useMemo(()=>a?.created_at?new Date(a.created_at*1e3):null,[a?.created_at]),s=f.useMemo(()=>t?.getFullYear()===new Date().getFullYear(),[t]);return t?t.toLocaleDateString(r.locale,{month:"short",day:"numeric",year:s?void 0:"numeric"}):null};function aa(a){const r=ta(a?.output_items);return{filesModified:Ce(r,t=>t.files_modified??0),linesAdded:Ce(r,t=>t.lines_added??0),linesRemoved:Ce(r,t=>t.lines_removed??0)}}function ta(a){return a?a.map(r=>{switch(r.type){case"output_diff":return r;case"pr":return r.output_diff;default:return null}}).filter(r=>r!=null):[]}const Ct=({title:a,assistantTurn:r})=>{const{linesAdded:t,linesRemoved:s}=aa(r),n=r?.environment?.label;return e.jsxs("div",{className:"flex min-w-0 flex-col text-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"truncate font-medium",children:a})}),e.jsxs("div",{className:"flex gap-4 max-md:flex-wrap max-md:gap-1",children:[e.jsx("span",{className:"text-token-text-secondary truncate empty:hidden max-md:hidden",children:e.jsx(Pt,{assistantTurn:r})}),e.jsx("span",{className:"text-token-text-secondary truncate",children:n}),e.jsx(Mt,{assistantTurn:r}),e.jsx("span",{className:"max-md:hidden",children:e.jsx(oa,{linesAdded:t,linesRemoved:s})})]})]})};function oe({children:a,dropdownContent:r,buttonIcon:t,triggerButtonAriaLabel:s,...n}){const[i,u]=f.useState(!1),o=t||He,m=t||null,c=H();return e.jsxs("div",{tabIndex:-1,className:"btn-primary hover:bg-token-interactive-bg-primary-default inline-flex w-fit items-center rounded-full text-sm font-medium data-disabled:cursor-not-allowed data-disabled:opacity-50",children:[e.jsxs("div",{className:"hidden items-center md:inline-flex",children:[n.as==="a"?e.jsx("a",{className:"rounded-s-full px-3 py-2",href:n.href,target:"_blank",rel:"noreferrer",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"hidden md:flex",children:m?e.jsx(m,{className:"icon-sm"}):null}),e.jsx("span",{className:"truncate",children:a})]})}):e.jsx("button",{className:"hover:bg-token-bg-primary/10 rounded-s-full px-3 py-2 transition-colors duration-120",onClick:n.onClick,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"hidden md:flex",children:m?e.jsx(m,{className:"h-5 w-5"}):null}),e.jsx("span",{className:"truncate",children:a})]})}),e.jsx("div",{className:"bg-token-text-inverted/20 h-9 w-px"})]}),e.jsx(Ma,{open:i,contentAlign:"end",onOpenChange:u,triggerButton:e.jsxs("button",{className:`hover:bg-token-bg-primary/10 flex h-9 items-center gap-1.5 ps-2 pe-3 transition-colors duration-120 focus:outline-none md:ps-2 md:pe-3 ${i?"bg-token-bg-primary/10 opacity-100":"md:opacity-60 md:hover:opacity-120"}`,onMouseDown:l=>l.preventDefault(),onFocus:l=>l.currentTarget.blur(),"aria-label":c.formatMessage(s??{id:"wham.dropdownButton.openMenu",defaultMessage:"Open menu",description:"Aria label for dropdown trigger button"}),children:[e.jsx("div",{className:"flex md:hidden",children:e.jsx(o,{className:"icon-md"})}),e.jsx("div",{className:"opacity-60 md:flex",children:e.jsx(He,{className:"icon-sm"})})]}),sideOffset:8,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx(G.ItemAs,{className:"md:hidden",icon:m,as:n.as??"button",...n.as==="a"?{href:n.href,target:"_blank",rel:"noreferrer"}:{onClick:n.onClick},children:e.jsx("span",{className:"truncate",children:a})}),e.jsx(G.Separator,{className:"md:hidden"}),r]})})]})}const Tt=({copyApplyToClipboard:a,copyPatchToClipboard:r,createPr:t,updateBranch:s,navigateToCreatingPrPage:n,canCreatePr:i,isCreatingPr:u,permissions:o,assistantTurn:m})=>{const c=ve(),l=H(),y=Y(c,"296452287"),h=e.jsxs(e.Fragment,{children:[s&&i&&e.jsx(G.Item,{icon:te,onClick:()=>t(),"aria-label":l.formatMessage(_.createNewPr),children:e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsx(k,{..._.createNewPr})})}),e.jsx(G.Item,{icon:Me,onClick:()=>a(),"aria-label":l.formatMessage(_.copyGitApply),children:e.jsx(k,{..._.copyGitApply})}),e.jsx(G.Item,{icon:Me,onClick:()=>r(),"aria-label":l.formatMessage(_.copyPatch),children:e.jsx(k,{..._.copyPatch})})]});return!i||o==="read"?e.jsx(oe,{buttonIcon:Ga,onClick:()=>a(),triggerButtonAriaLabel:_.openDropdown,dropdownContent:e.jsx(G.Item,{icon:Me,onClick:()=>r(),"aria-label":l.formatMessage(_.copyPatch),children:e.jsx(k,{..._.copyPatch})}),children:e.jsx(k,{..._.copyGitApply})}):u?e.jsx(oe,{buttonIcon:Je,onClick:n,dropdownContent:h,triggerButtonAriaLabel:_.openDropdown,children:e.jsx(k,{..._.viewPullRequest})}):m?.pull_request_data?.url?e.jsx(oe,{buttonIcon:te,as:"a",href:m.pull_request_data.url,dropdownContent:h,triggerButtonAriaLabel:_.openDropdown,children:e.jsx(k,{..._.viewPullRequest})}):s?e.jsx(oe,{buttonIcon:te,onClick:()=>s(),dropdownContent:h,triggerButtonAriaLabel:_.openDropdown,children:e.jsx(k,{..._.updateExistingBranch})}):e.jsx(oe,{buttonIcon:te,onClick:()=>t(),"aria-label":l.formatMessage(_.createPr),triggerButtonAriaLabel:_.openDropdown,dropdownContent:e.jsxs(e.Fragment,{children:[e.jsx(G.Item,{icon:te,onClick:()=>t("draft"),"aria-label":l.formatMessage(_.createDraftPr),children:e.jsx(k,{..._.createDraftPr})}),y&&e.jsx(G.Item,{icon:te,onClick:()=>t("auto_merge"),"aria-label":l.formatMessage(_.createAutoMergePr),children:e.jsx(k,{..._.createAutoMergePr})}),e.jsx(G.Separator,{}),h]}),children:e.jsx(k,{..._.createPr})})},_=ga({copyGitApply:{id:"wham.whamTaskPushDiffDropdown.copyGitApply",defaultMessage:"Copy git apply"},copyPatch:{id:"wham.whamTaskPushDiffDropdown.copyPatch",defaultMessage:"Copy patch"},viewPullRequest:{id:"wham.message.modal.footer.viewPr",defaultMessage:"View PR"},createPr:{id:"wham.message.modal.footer.createPrItem",defaultMessage:"Create PR"},createNewPr:{id:"wham.whamTaskPushDiffDropdown.createNewPr",defaultMessage:"Create new PR"},createDraftPr:{id:"wham.message.modal.footer.createDraftPr",defaultMessage:"Create draft PR"},createAutoMergePr:{id:"wham.message.modal.footer.createAutoMergePr",defaultMessage:"Create auto-merged PR"},updateExistingBranch:{id:"wham.whamTaskPushDiffDropdown.updateExistingBranch",defaultMessage:"Update branch"},openDropdown:{id:"wham.whamTaskPushDiffDropdown.openDropdown",defaultMessage:"Open git action menu"}});var Te,Qe;function Nt(){if(Qe)return Te;Qe=1;function a(r){return r&&r.length?r[0]:void 0}return Te=a,Te}var Ne,Ke;function St(){return Ke||(Ke=1,Ne=Nt()),Ne}var Lt=St();const Dt=pa(Lt);function Ft({taskId:a,task:r,focusedAssistantTurn:t,onClose:s,shouldShowShare:n,shouldShowFork:i,permissions:u,title:o}){const[m,c]=f.useState(t?.pull_request_status==="creating"),[l,y]=f.useState(void 0),h=ne(),x=we(),j=H(),M=Dt(V(t)),w=u==="write",b=w,S=ge(p=>p.getTurnsForTask(a).filter(pe)),Q=ge(p=>p.getTurnsForTask(a)),L=new Map(Q.map(p=>[p.id,p])),O=p=>{if(pe(p)){const D=r?.external_pull_requests;if(D&&D.length)for(let F=D.length-1;F>=0;F--){const me=D[F];if(me.assistant_turn_id===p.id)return me}}const U=p.previous_turn_id?L.get(p.previous_turn_id):void 0;return U?O(U):void 0},v=t?O(t):void 0,{linesAdded:R,linesRemoved:g}=aa(t),P=ta(t?.output_items),N=Ie(),B=ve(),K=Y(B,"2665240312")||void 0,E=Y(B,"369193424"),J=S.filter(p=>t?.sibling_turn_ids?.includes(p.id)).some(p=>p.pull_request_data?.url),Z=E&&u==="write"&&v&&!v.pull_request.merged&&v.pull_request.state!=="closed"&&v.codex_updated_sha!==""&&!J,W=f.useRef(null),{mutate:C,isPending:ee}=se({mutationFn:async()=>{a&&await I.archiveTask(a)},onSuccess:async()=>{await x.invalidateQueries({queryKey:["wham","tasks"]}),await x.invalidateQueries({queryKey:["wham","task",a]}),N("/codex")},onError:()=>{h.danger({id:"wham.whamTaskPageHeader.failedToArchiveTask",defaultMessage:"Failed to archive task",description:"Toast when archive request fails"},{toastId:"wham_task_page_header_failed_to_archive_task"})}}),{mutate:T,isPending:$}=se({mutationFn:async()=>{a&&await I.recoverTask(a)},onSuccess:async()=>{await x.invalidateQueries({queryKey:["wham","tasks"]}),await x.invalidateQueries({queryKey:["wham","task",a]})},onError:()=>{h.danger({id:"wham.whamTaskPageHeader.failedToArchiveTask",defaultMessage:"Failed to archive task",description:"Toast when archive request fails"},{toastId:"wham_task_page_header_failed_to_archive_task"})}}),ce=ee||$;f.useEffect(()=>{t?.pull_request_status==="creating"?(c(!0),x.invalidateQueries({queryKey:["wham","task",a,"turns"]})):c(!1)},[a,t?.pull_request_status,x]),la([{key:"copyApplyToClipboard",action:()=>{de()},actionMessageDescriptor:j.formatMessage({id:"wham.keyboardActions.copyApplyToClipboard",defaultMessage:"Copy git apply"}),group:Qa.Chat,keyboardBinding:[Oe.Mod,Oe.Shift,";"],enabled:!!M}]);const de=async()=>{M&&(await navigator.clipboard.writeText(` (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
${M} 
EOF
)`),h.success(j.formatMessage({id:"wham.message.modal.footer.copiedToClipboard",defaultMessage:"Copied git apply command to clipboard"}),{duration:3,hasCloseButton:!0}),t?.id&&(xe.recordGitAction("diff-copied",R,g,a,t.id,"regular"),I.copyGitApply(a,t.id,!0)))},_e=async()=>{M&&(await navigator.clipboard.writeText(M),h.success(j.formatMessage({id:"wham.whamTaskPageHeader.copiedPatchToClipboard",defaultMessage:"Copied patch to clipboard"}),{duration:3,hasCloseButton:!0}),t?.id&&await I.copyGitApply(a,t.id,!1))},ye=async()=>{if(!v||!t?.id){h.danger({id:"wham.whamTaskPageHeader.noPrToUpdate",defaultMessage:"No PR to update",description:"Toast when no PR is found to update"},{duration:3,hasCloseButton:!0,toastId:"wham_task_page_header_no_pr_to_update"});return}c(!0);try{await I.updatePr(a,t.id,v.id),await x.invalidateQueries({queryKey:["wham","task"]})}catch(p){c(!1),await I.getTaskTurnPR(a,v.assistant_turn_id),p instanceof Se?Le(p,t.id,j,h):h.danger({id:"wham.whamTaskPageHeader.failedToUpdatePr",defaultMessage:"Failed to update PR",description:"Toast when failed to update PR"},{duration:3,hasCloseButton:!0,toastId:"wham_task_page_header_failed_to_update_pr"})}finally{c(!1)}},ke=async p=>{if(!t?.id)return;y(p);const U=W.current;try{c(!0),await I.createPr(a,t.id,p),await x.invalidateQueries({queryKey:["wham","task"]}),await x.fetchQuery(ca(a,t.id)).then(D=>{const F=D;F.turn.pull_request_data!=null&&(U&&!U.closed&&F.turn.pull_request_data.url&&U.location.assign(F.turn.pull_request_data.url),Pa({title:F.task.title,clientThreadId:F.turn.conversation_id,subtitle:j.formatMessage({id:"wham.message.modal.footer.prCreatedSuccess",defaultMessage:"Click to view your pull request."}),onClick:()=>{window.open(F.turn.pull_request_data?.url,"_blank")}}))}),xe.recordGitAction("pr-created",R,g,a,t.id,p??"regular")}catch(D){c(!1),U?.close(),D instanceof Se?Le(D,t.id,j,h):h.danger({id:"wham.message.modal.footer.createPrError",defaultMessage:"Failed to create PR",description:"Error message for failed to create PR"},{duration:3,hasCloseButton:!0,toastId:"wham_task_page_header_failed_to_create_pr"})}},ue=()=>{if(!t?.id)return;const p=l?`?mode=${l}`:"";W.current=window.open(`/codex/tasks/${a}/turns/${t.id}/pr${p}`,"_blank")},ie=!!be();return e.jsxs("div",{className:"border-b-token-border-default flex w-full justify-between gap-2 border-b p-3 transition-colors duration-50",children:[e.jsxs("div",{className:"flex min-w-0 flex-shrink max-md:gap-2",children:[s?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"hover:bg-token-bg-tertiary group-radix-state-open:bg-token-bg-tertiary rounded-sm p-2 font-semibold",onClick:s,"aria-label":j.formatMessage({id:"wham.taskPageHeader.goBack",defaultMessage:"Go back to tasks"}),children:e.jsx(ct,{className:"icon-lg text-token-text-secondary"})}),e.jsx("div",{className:"bg-token-border-default my-auto ms-[11px] me-4 h-4 w-[1px] max-md:hidden"})]}):e.jsx("div",{className:"ms-3"}),e.jsx(Ct,{title:o,assistantTurn:t})]}),e.jsxs("div",{className:"relative flex h-10 items-center gap-1.5",children:[!1,i&&t?.id&&e.jsx(_t,{taskId:a}),K&&t?.id&&w&&(ie?e.jsx(De,{icon:r?.archived?We:Ge,onClick:()=>r?.archived?T():C(),disabled:ce,"aria-label":r?.archived?j.formatMessage({id:"wham.whamTaskPageHeader.ariaLabelUnarchive",defaultMessage:"Unarchive Task"}):j.formatMessage({id:"wham.whamTaskPageHeader.ariaLabelArchive",defaultMessage:"Archive Task"})}):e.jsx(re,{color:"ghost",icon:r?.archived?We:Ge,loading:ce,onClick:()=>r?.archived?T():C(),"aria-label":r?.archived?j.formatMessage({id:"wham.whamTaskPageHeader.ariaLabelUnarchive",defaultMessage:"Unarchive Task"}):j.formatMessage({id:"wham.whamTaskPageHeader.ariaLabelArchive",defaultMessage:"Archive Task"}),children:r?.archived?e.jsx(k,{id:"wham.whamTaskPageHeader.unarchive",defaultMessage:"Unarchive"}):e.jsx(k,{id:"wham.whamTaskPageHeader.archive",defaultMessage:"Archive"})})),n&&t?.id&&e.jsx(jt,{taskId:a,turnId:t?.id,isDisabled:!1,title:o??""}),P.length>0&&e.jsx(Tt,{isCreatingPr:m,assistantTurn:t,copyApplyToClipboard:de,copyPatchToClipboard:_e,createPr:ke,navigateToCreatingPrPage:ue,canCreatePr:b,updateBranch:Z?ye:void 0,permissions:u}),!ie&&e.jsx(dt,{})]})]})}function It(a){const r={},t={};let s;for(const i of a)Ye(i)?i.previous_turn_id?t[i.previous_turn_id]=i:s=i:i.previous_turn_id&&(r[i.previous_turn_id]??=[]).push(i);if(!s)return null;const n=i=>{const u=r[i.id]??[],o={};for(const m of u){const c=t[m.id];c&&(o[m.id]=n(c))}return{userTurn:i,assistantTurns:u,children:o}};return n(s)}function Rt(a){for(let r=a.length-1;r>=0;r--){const t=a[r];if(Ye(t)&&t.previous_turn_id)return t.previous_turn_id}return null}function Bt(a,r){if(!r)return[];const t=s=>{for(const n of s.assistantTurns){if(n.id===r)return[{node:s,activeId:n.id}];const i=s.children[n.id],u=i&&t(i);if(u)return[{node:s,activeId:n.id},...u]}return null};return t(a)??[]}function Et({className:a,focusedAssistantTurn:r,currentTab:t,permissions:s,task:n,turns:i,containerHeight:u,onClickFile:o,setFocusedAssistantTurnId:m,onTabChange:c,latestTurnRef:l,hasComments:y,clearComments:h,showFullDiff:x,loadingTurnMapping:j}){f.useEffect(()=>{if(!r){const g=Rt(i);g&&m(g)}},[r,i,m]);const M=f.useMemo(()=>It(i),[i]),w=f.useMemo(()=>M&&Bt(M,r?.id??null),[M,r]),b=f.useMemo(()=>{if(!M||!w)return[];const g=w.length>0?[...w]:[{node:M,activeId:M.assistantTurns[0]?.id??null}];let P=g[g.length-1];for(;P.activeId;){const N=P.node.children[P.activeId];if(!N)break;g.push({node:N,activeId:N.assistantTurns[0]?.id??null}),P=g[g.length-1]}return g},[M,w]),S=b.length-1,Q=b.slice(0,S),L=Ca(b),O=L?.node.assistantTurns.some(g=>Ve(g.turn_status)),{data:v}=da(n?.id),R=f.useMemo(()=>{if(!j||!v?.current_assistant_turn)return null;const g=v.current_assistant_turn,P=(g.sibling_turn_ids?.length??0)+1,N=g.attempt_placement??0,B=Array.from({length:P},(E,q)=>q===N?g.id:`placeholder-${q}`),K={};return B.forEach((E,q)=>K[E]=q),{attemptIds:B,idToIdxMap:K}},[j,v?.current_assistant_turn]);return e.jsx("div",{className:X("relative flex h-full w-full flex-col",a),children:e.jsx("div",{className:"flex h-fit min-h-full shrink-0 flex-col gap-6 pt-6 text-sm",children:j&&n&&v?.current_user_turn&&v?.current_assistant_turn?e.jsxs("div",{ref:l,className:X("flex min-h-full shrink-0 flex-col gap-6",O&&"pb-72"),style:{minHeight:u-24},children:[e.jsx("div",{className:"text-token-text-secondary flex w-full items-center justify-center gap-2",children:e.jsx(Je,{className:"text-xl"})}),e.jsx(Pe,{isLatest:!0,task:n,userTurn:v.current_user_turn,assistantTurns:[v.current_assistant_turn],selectedAssistantId:v.current_assistant_turn.id,focusedAssistantTurn:v.current_assistant_turn,setFocusedAssistantTurnId:m,onClickFile:o,currentTab:t,onTabChange:c,permissions:s,startOpen:!0,hasComments:y,clearComments:h,showFullDiff:x,attemptIdsOverride:R?.attemptIds,idToIndexMapOverride:R?.idToIdxMap})]}):e.jsxs(e.Fragment,{children:[Q.length>0&&e.jsx("div",{className:"flex flex-col gap-6",children:Q.map(({node:g,activeId:P},N)=>e.jsx(Pe,{isLatest:N===S,task:n,userTurn:g.userTurn,assistantTurns:g.assistantTurns,selectedAssistantId:P,focusedAssistantTurn:r,setFocusedAssistantTurnId:m,onClickFile:o,startOpen:N===S,currentTab:t,onTabChange:c,permissions:s,hasComments:y,clearComments:h,showFullDiff:x},g.userTurn.id))}),L&&e.jsx("div",{ref:l,className:X("flex min-h-full shrink-0 flex-col gap-6",O&&"pb-72"),style:{minHeight:u-24},children:e.jsx(Pe,{isLatest:!0,task:n,userTurn:L.node.userTurn,assistantTurns:L.node.assistantTurns,selectedAssistantId:r?.id??null,focusedAssistantTurn:r,setFocusedAssistantTurnId:m,onClickFile:o,currentTab:t,onTabChange:c,permissions:s,startOpen:!0,hasComments:y,clearComments:h,showFullDiff:x})})]})})})}function qt({focusedAssistantTurn:a,pastTurns:r,showFullDiff:t}){if(!a)return[];const s=Ut(r),n=!t;if(V(a,n).length>0)return fe({assistantTurn:a,followUp:n});if(V(a,!1).length>0)return fe({assistantTurn:a,followUp:!1});if(V(a,!0).length>0)return fe({assistantTurn:a,followUp:!0});let m=$e(a,s);for(;m;){const c=s.get(m);if(c&&pe(c)){const l=V(c,!1),y=V(c,!0);if(l.length>0||y.length>0){const h=l.length===0&&y.length>0;return fe({assistantTurn:c,followUp:h})}m=$e(c,s)}else break}return[]}function Ut(a){const r=new Map;for(const t of a)r.set(t.id,t);return r}function $e(a,r){const t=r.get(a.previous_turn_id??"");return t?t.previous_turn_id??null:null}const ze=new Set,Ae=Ta(()=>Na(()=>import("./oz5lrfmhd6xl4mmv.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37])).then(a=>a.WhamTaskPageCodeDiffContent),{loading:()=>e.jsx("div",{className:"flex-1"})});function ss({taskId:a,turnId:r,task:t,focusedAssistantTurn:s,pastTurns:n,canFollowUp:i,confirmClose:u,permissions:o,comments:m,setComments:c,clearComments:l,setConfirmClose:y,handleClose:h,setFocusedAssistantTurnId:x,showForkButton:j,loadingTurnMapping:M}){const w=H(),{data:b,isLoading:S}=ua(),Q=we(),[{height:L},O]=mt(),v=f.useRef(null),R=f.useRef(null);Sa(()=>{const d=v.current,z=R.current;!d||!z||(d.scrollTop=d.scrollHeight,d.clientHeight>=z.clientHeight&&(d.scrollTop=z.offsetTop))},[n.length,M]),f.useEffect(()=>{const d=v.current;if(!d)return;d.scrollHeight-d.scrollTop-d.clientHeight<5&&d.scrollTo({top:d.scrollHeight,behavior:"smooth"})},[n.length]);const[g,P]=f.useState(void 0),N=f.useMemo(()=>V(s,!0).length>0,[s]),[B,K]=La(Da.WhamShowFullDiff,!N,Ka),E=N?B:!0,q=f.useMemo(()=>qt({focusedAssistantTurn:s,pastTurns:n,showFullDiff:E}),[s,n,E]),J=f.useMemo(()=>s?s.output_items.filter(d=>d.type==="message").flatMap(d=>d.content).filter(d=>d.content_type==="image_asset_pointer_citation").map(d=>({asset_pointer:d.asset_pointer,width:d.width,height:d.height,size_bytes:d.size_bytes})):[],[s]),Z=s?.turn_status==="failed",W=q.length>0,C=n[n.length-1],ee=t?t.title??w.formatMessage({id:"wham.whamTaskPageContentLoaded.newTask",defaultMessage:"New Task"}):null,T=ne(),$=!!be(),ce=$||b?.git_diff_mode==="unified",de=ve(),_e=Y(de,"3673716873");f.useEffect(()=>{const d=s?.id;d&&!ze.has(d)&&s?.turn_status==="completed"&&(ze.add(d),I.markTurnViewed(a,d))},[s?.id,a,s?.turn_status]),f.useEffect(()=>{Ae.prefetch()},[S]);const{mutate:ye}=se({mutationFn:d=>I.updateUserPreferences(d),onSuccess:async()=>{await ma(Q)},onError:()=>{T.danger({id:"wham.whamTaskPageContentLoaded.failedToUpdatePreferences",defaultMessage:"Failed to update preferences",description:"Failed to update preferences error message"},{toastId:"wham_task_page_content_loaded_failed_to_update_preferences"})}}),ke=d=>{ye({diffView:d?"unified":"split"})},ue=$?"chat":W?"diff":void 0,[ie,p]=f.useState(!1);!ie&&t&&(p(!0),P(ue));const U=s?.turn_status?Ve(s?.turn_status):null,D=f.useRef(!1);f.useEffect(()=>{U===!1?D.current=!0:U===!0&&D.current&&W&&P("diff")},[U]);const F=f.useMemo(()=>{if(Z&&s?.environment_id&&s?.branch){const d=[...n].reverse().find(A=>A.type==="user"),ae=d?.input_items.find(A=>A.type==="message")?.content.find(A=>A.content_type==="text")?.text,ra=d?.input_items.filter(A=>A.type==="comment"),na=(s?.sibling_turn_ids?.length??0)+1,ia=et(d?.input_items??[]);return{environmentId:s?.environment_id,branch:s?.branch,previousTurnId:d?.previous_turn_id,prompt:ae??"",comments:ra??[],bestOfN:na,attachments:ia}}},[Z,s,n]),{attemptIndex:me,siblings:sa}=f.useMemo(()=>{if(!s)return{attemptIndex:null,hasSiblingTurns:!1};const d=n.filter(ae=>pe(ae)&&!!ae.sibling_turn_ids?.includes(s.id)),z=d.findIndex(ae=>ae.id===s.id);return{attemptIndex:z===-1?null:z+1,siblings:d}},[s,n]),Be=o==="write"&&l?e.jsx(gt,{taskId:a,turnId:s?.id??r,comments:m??[],clearComments:l,focusedAssistantTurn:s,setFocusedAssistantTurnId:x,lastTurn:C,retry:F,attemptIndex:me,siblings:sa??[]}):null,Ee=e.jsx("div",{ref:$a(O,v),className:"flex h-full w-full flex-col items-center overflow-y-auto px-6",children:e.jsxs("div",{className:X("w-full",Fe),children:[e.jsx(Et,{focusedAssistantTurn:s,currentTab:g,permissions:o,task:t,turns:n,containerHeight:L,onClickFile:()=>P("diff"),setFocusedAssistantTurnId:x,onTabChange:P,latestTurnRef:R,hasComments:(m?.length??0)>0,clearComments:l,showFullDiff:E,loadingTurnMapping:M}),Be&&e.jsx("div",{className:"keyboard-open:fixed absolute start-0 end-0 bottom-0",children:Be})]})}),qe=e.jsx("div",{className:"relative flex h-full w-full flex-col",children:e.jsxs(Ya,{onChange:P,currentTab:g,defaultTab:ue,tabs:[{key:"chat",isHidden:!$,label:w.formatMessage({id:"wham.whamTaskPageContentLoaded.conversation",defaultMessage:"Conversation"}),ariaLabel:w.formatMessage({id:"wham.whamTaskPageContentLoaded.conversationAriaLabel",defaultMessage:"Tab to view the conversation with the assistant"}),children:Ee},{key:"diff",isHidden:!W,label:w.formatMessage({id:"wham.whamTaskPageContentLoaded.diff",defaultMessage:"Diff"}),ariaLabel:w.formatMessage({id:"wham.whamTaskPageContentLoaded.diffAriaLabel",defaultMessage:"Tab to view the code diff"}),children:!S&&W&&e.jsx(Ae,{diffFiles:q,unifiedDiff:ce,setUnifiedDiff:ke,showFullDiff:E,setShowFullDiff:N?K:void 0,enableComments:i,comments:m,setComments:c})},{key:"preview",isHidden:J.length===0,label:w.formatMessage({id:"wham.whamTaskPageContentLoaded.preview",defaultMessage:"Preview"}),ariaLabel:w.formatMessage({id:"wham.whamTaskPageContentLoaded.previewAriaLabel",defaultMessage:"Tab to view preview images"}),children:e.jsx(ft,{previewImages:J})},{key:"logs",label:w.formatMessage({id:"wham.whamTaskPageContentLoaded.logs",defaultMessage:"Logs"}),ariaLabel:w.formatMessage({id:"wham.whamTaskPageContentLoaded.logsAriaLabel",defaultMessage:"Tab to view the work logs"}),children:e.jsx(at,{taskId:a,focusedAssistantTurn:s,agentNetworkAccess:s?.environment?.agent_network_access})},{key:"internal_rollout",isHidden:s?.internal_only_rollouts==null||!0,label:w.formatMessage({id:"wham.whamTaskPageContentLoaded.internalRollout",defaultMessage:"Internal Rollout"}),ariaLabel:w.formatMessage({id:"wham.whamTaskPageContentLoaded.internalRolloutAriaLabel",defaultMessage:"Tab to view the internal rollout information"}),children:e.jsx("div",{className:"flex h-full w-full overflow-auto p-4",children:e.jsx(Va,{json:s?.internal_only_rollouts??void 0,jsonViewProps:{collapsed:5}})})}],children:[e.jsx(Xa,{withUnderline:$,className:"border-b p-3 max-md:py-0"}),e.jsx(Ja,{children:({content:d})=>e.jsx("div",{className:"flex h-full w-full",children:d})})]},s?.id??a)});return e.jsxs(e.Fragment,{children:[e.jsxs(Xe.div,{className:X("relative flex size-full flex-1 flex-col items-center",$?"[--right-bg:var(--bg-primary)]":"[--right-bg:var(--bg-tertiary)] dark:[--right-bg:black]"),...za,children:[e.jsx(Ft,{title:ee,taskId:a,task:t,focusedAssistantTurn:s,onClose:h?()=>h?.({force:!0}):void 0,permissions:o,shouldShowShare:_e&&o==="write",shouldShowFork:!!j}),e.jsx("div",{className:"bg-token-bg-primary flex min-h-0 w-full flex-1",children:!t||!ie?e.jsx(Fa,{}):$?qe:e.jsx(tt,{leftContent:Ee,rightContent:g?e.jsxs("div",{className:"relative h-full w-full bg-[var(--right-bg)]",children:[qe,e.jsx(Aa,{className:"absolute end-3 top-3",icon:e.jsx(Ia,{}),label:w.formatMessage({id:"wham.whamTaskPageContentLoaded.close",defaultMessage:"Close"}),onClick:()=>P(void 0)})]}):void 0})})]}),u&&y&&h&&e.jsx(st,{setConfirmClose:y,handleClose:h})]})}export{ss as W,ts as u};
//# sourceMappingURL=jf0n0m1f0ndn0is6.js.map

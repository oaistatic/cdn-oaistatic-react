import{b as k,j as e,M as r,d as w,r as i,o as O,h as _,a as D,A as F,f as G,m as B}from"./n97h6so7iblif4c5.js";import{h6 as R,b7 as v,mT as z,at as L,bb as X,P as u,B as h,aR as N,a as Y,bf as H,bM as $,dL as V}from"./cim4usely8ixso70.js";import{S,a as q,P as U,b as W,c as K}from"./gved1n5kgl42068e.js";import{ch as Q,co as J,fC as Z,fD as ee}from"./ivbsxyeeopn30y8l.js";import{a as te}from"./gq0ojl3pt2hm8en1.js";import{c as ae}from"./iej0cupg2dqkmejt.js";import{u as se}from"./myobppozwv4wuhkc.js";import{u as ne,m as oe}from"./dqol4xyk0imasmag.js";import{G as ie}from"./hszeguidt3eymzeh.js";import{g as re}from"./enswwrwnkbo9c942.js";function ce({workspaceName:a,onChangeWorkspaceName:t,showHeader:s=!0}){const n=k();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(r,{...P.workspaceNameLabel})}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(r,{...P.workspaceNameDescription})})]}),e.jsx(R,{ariaLabel:!1,type:"text",name:"workspace-name",placeholder:n.formatMessage(P.exampleTeamWorkspaceName),value:a,onChange:o=>t(o.target.value),maxLength:64})]})}const P=w({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Set a workspace name for your team. The name can be changed at any time."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}});function le({onNext:a}){const t=v();return t?e.jsx(de,{onNext:a,currentAccount:t}):e.jsx(z,{})}function de({onNext:a,currentAccount:t}){const s=k(),n=L(),o=X(),l=t.data,p=Q(s,t,o),[d,T]=i.useState(p||""),[g]=O(),C=g.get("account_id"),j=ne(C??t.data.id),f=i.useCallback(async()=>{if(!t)return;const m=t.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Clicked",m);try{d!==l.name&&(await j.mutateAsync({name:d}),u.logEvent("Account Pay: Create Workspace Modal Renamed",m)),a()}catch{n.warning(s.formatMessage(oe.saveError),{hasCloseButton:!0})}},[t,l.name,s,a,j,n,d]);return i.useEffect(()=>{if(!t)return;const m=t.subscriptionAnalyticsParams;u.logEvent("Account Pay: Create Workspace Modal Show",m)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsx(r,{...J.nameWorkspace})}),e.jsx(q,{children:e.jsx(ce,{workspaceName:d,onChangeWorkspaceName:T,showHeader:!1})}),e.jsx(h,{loading:j.isPending||t==null,onClick:()=>{f()},disabled:d.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(r,{...N.continueButtonText})})]})}var I=(a=>(a.Landing="landing",a.Setup="setup",a.Naming="naming",a.Invite="invite",a.CAOnboarding="caOnboarding",a.Complete="complete",a))(I||{});const ue={enter:a=>({translateX:a>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:a=>({translateX:a<=0?"50%":"-50%",opacity:0})};function me(){const a=_(),t=D(),{currentPath:s,currentStep:n}=je(),{data:o}=se(),l=Y(),p=i.useMemo(()=>o?.status==="completed"&&o?.workspace_name&&re(l,{disableExposureLog:!0})?["landing","invite","caOnboarding","complete"]:["landing","naming","invite","caOnboarding","complete"],[l,o?.status,o?.workspace_name]),d=k(),T=L(),[g,C]=i.useState(1),[j]=O(),f=j.get("account_id");i.useEffect(()=>{function x(){C(-1)}return window.addEventListener("popstate",x),()=>{window.removeEventListener("popstate",x)}},[]);const m=()=>{C(1);let x=p.indexOf(n);const M=p[x+1],E=M==="caOnboarding"?$(l,"555825174").get("enabled",!1):!1;M==="caOnboarding"&&u.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:f,experimentFlag:E}),M==="caOnboarding"&&!E&&x++;const A=x+1;f&&t("/"),x!==-1&&A<p.length&&t(s+"#"+p[A])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(F,{mode:"wait",custom:g,children:[n==="landing"&&e.jsx(b,{initial:!1,custom:g,children:e.jsx(pe,{onNext:m})},"landing"),n==="naming"&&e.jsx(b,{initial:!1,custom:g,children:e.jsx(le,{onNext:m})},"naming"),n==="invite"&&e.jsx(b,{custom:g,children:e.jsx(ge,{onNext:m})},"invite"),n==="caOnboarding"&&e.jsx(b,{custom:g,children:e.jsx(he,{onNext:m})},"caOnboarding"),n==="complete"&&e.jsx(b,{custom:g,children:e.jsx(ke,{onNext:()=>{m(),f&&H(a,f,l,d,T),t("/")}})},"complete")]})})}const b=a=>e.jsx(B.div,{initial:"enter",animate:"center",exit:"exit",variants:ue,transition:{translateX:{type:"just"},opacity:{duration:.2}},...a});function pe({onNext:a}){const t=v(),s=i.useCallback(()=>{if(!t)return;const n=t.subscriptionAnalyticsParams;u.logEvent("Account Pay: Payment Confirmation Modal Clicked",n)},[t]);return i.useEffect(()=>{if(!t)return;const n=t.subscriptionAnalyticsParams;u.logEvent("Account Pay: Payment Confirmation Modal Show",n)},[t]),e.jsxs(e.Fragment,{children:[e.jsx(U,{isTrial:!1}),e.jsx(S,{children:e.jsx(r,{...c.standard})}),e.jsx(W,{children:e.jsx(r,{...c.description})}),e.jsx(h,{onClick:()=>{a(),s()},size:"large",loading:t==null,fullWidth:!0,children:e.jsx(r,{...N.continueButtonText})})]})}function ge({onNext:a}){const t=k(),s=v(),{data:n}=Z(),o=i.useMemo(()=>s?.subscriptionAnalyticsParams,[s]);return i.useEffect(()=>{s!=null&&u.logEvent("Account Pay: Invite Collaborators Modal Show",o)},[o,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsx(r,{...c.inviteTitle,values:{seatCount:n.seats_entitled,workspaceName:s.data.name}})}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(r,{...c.completeDescription})}),e.jsx(te,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:t.formatMessage(c.skipAddMembers),onCancel:a,onSuccess:a,seatCount:n.seats_entitled})]})}const xe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",fe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function he({onNext:a}){const t=k(),s=v(),[n,o]=i.useState(!1),[l,p]=i.useState(!1);return i.useEffect(()=>{if(!s)return;const d=s.subscriptionAnalyticsParams;u.logEvent("Account Pay: Contextual Answers Step Shown",d)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-max-[384px] h-max-[170px] relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:xe,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>p(!0)}),!l&&e.jsx("img",{src:fe,alt:t.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:t.formatMessage(c.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:t.formatMessage(c.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(h,{onClick:()=>o(!0),icon:V,size:"large",fullWidth:!0,children:t.formatMessage(c.caOnboardingConnectButton)}),e.jsx(h,{onClick:()=>a(),size:"large",fullWidth:!0,color:"ghost",children:t.formatMessage(c.skipCaOnboarding)})]}),n&&e.jsx(ie,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:d=>{o(!1),d&&a()}})]})}function ke({onNext:a}){const t=v(),s=i.useMemo(()=>t?.subscriptionAnalyticsParams,[t]);i.useEffect(()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{u.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsx(r,{...c.completeTitle})}),e.jsx(W,{children:e.jsx(r,{...c.completeDescription})}),e.jsx(h,{onClick:()=>{a(),n()},size:"large",fullWidth:!0,children:e.jsx(r,{...c.continueToChatgpt})})]})}function je(){const{hash:a,pathname:t,search:s}=G(),n=a.slice(1);return{currentStep:be(n)?n:"landing",currentPath:t+s}}const be=ae(I),c=w({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function Ae({isTrial:a,isTeam:t}){const s=k(),n=D(),o=i.useCallback(l=>{l.preventDefault(),u.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs(K,{children:[e.jsx(ee,{children:e.jsx("title",{children:s.formatMessage(y.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:t?e.jsx(me,{}):e.jsx(ve,{isTrial:a,onContinue:o})})]})}function ve({isTrial:a,onContinue:t}){const s=a?y.trial:y.standard;return e.jsxs(e.Fragment,{children:[e.jsx(U,{isTrial:!!a}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(S,{children:e.jsx(r,{...s})}),e.jsx(W,{children:e.jsx(r,{...y.paymentReceived})}),e.jsx(h,{onClick:t,size:"large",fullWidth:!0,children:e.jsx(r,{...N.continueButtonText})})]})]})}const y=w({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{Ae as P};
//# sourceMappingURL=l384xxvjb343t397.js.map

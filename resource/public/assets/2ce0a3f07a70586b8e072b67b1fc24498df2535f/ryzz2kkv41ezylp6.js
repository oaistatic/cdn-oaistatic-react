import{r as E,j as C}from"./n97h6so7iblif4c5.js";import{mg as n,cD as a,aJ as R,aI as x}from"./cim4usely8ixso70.js";import{cV as y,cW as c,aE as g,aD as k}from"./ivbsxyeeopn30y8l.js";function F(l,i){return I[i]}const I={inProgress:"Running tool",finished:"Finished running tool",error:"Error running tool"};function L({messages:l,isRequestActive:i,isLastMessageInTurn:S,clientThreadId:h}){const e=l.filter(s=>s.author.role===a.Assistant&&s.recipient&&n(s.recipient)),A=l.filter(s=>s.author.role===a.Tool&&s.author.name&&n(s.author.name)),f=R(h),p=f?x.getConversationTurns(f).flatMap(s=>s.messages):[],d=p.findLastIndex(s=>s.author.role===a.Assistant&&s.recipient&&n(s.recipient)),M=d>=0&&p.slice(d+1).some(s=>s.author.role===a.Assistant&&(!s.recipient||!n(s.recipient))),u=e.length>0?e[e.length-1]:void 0,o=u&&u.recipient,T=u?.id,r=y(s=>T?s.getToolState(h,T):void 0);let t=null;A.length>0||r?.status===c.Finished?t={key:"finished",status:g.Finished}:r?.status===c.Error?t={key:"error",status:g.Error}:(r?.status===c.Running||i&&S&&!r)&&(t={key:"inProgress",status:g.Running});const m=E.useMemo(()=>!o||!t?null:F(o,t.key),[o,t]);return e.length===0||!o||M||!t?null:C.jsx(k,{highlightedCommand:m,showWorkUserSetting:!1,status:t.status,children:null})}export{L as BrowserToolMessage};
//# sourceMappingURL=ryzz2kkv41ezylp6.js.map

import{b as f,r as u,j as t,d as C}from"./n97h6so7iblif4c5.js";import{d as x,bj as T,cO as V}from"./cim4usely8ixso70.js";import{V as k}from"./d3y72ugnrmac5z1v.js";import{S as D,c as v}from"./dzjn1hzm825wa74f.js";function p(e){return e.split(/[\s,]+/)}function R({value:e,onChange:s,className:i,trackEmailsAdded:o,trackEmailRemoved:n,placeholder:M,classNames:h,trailingComponent:d}){const g=f(),[l,m]=u.useState(""),E=a=>t.jsx(v.IndicatorsContainer,{...a,children:d}),I=u.useCallback(a=>{if(l&&!a.nativeEvent.isComposing)switch(a.key){case"Enter":case",":case" ":{const r=p(l);s([...e,...r.map(b)]),m(""),a.preventDefault();const j={numEmailsAdded:r.length,uploadType:"Manual"};o?.(j)}}},[l,s,e,o]),y=a=>{if(l){const r=p(l);s([...e,...r.map(b)]),m(l),a.preventDefault()}};return t.jsx(D,{className:x("react-select-container",i),isMulti:!0,onBlur:y,classNamePrefix:"react-select",components:{...S,IndicatorsContainer:d?E:()=>null},inputValue:l,isClearable:!0,menuIsOpen:!1,onChange:(a,r)=>{switch(s(a),r.action){case"pop-value":case"remove-value":n?.();break}},classNames:h,onInputChange:m,onKeyDown:I,placeholder:M??g.formatMessage(c.placeholder),value:e,"aria-labelledby":"add-emails-label",name:"add-member-emails",trackEmailRemoved:n})}const b=e=>({label:e,value:e,isValid:k.test(e)}),N=e=>{const s=f(),i=t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx("span",{children:e.children}),t.jsx(T,{className:"icon-sm"})]}),o=e.data.isValid?i:t.jsx(V,{label:s.formatMessage(c.tooltipInvalidEmail,{email:e.data.value}),side:"top",children:i});return t.jsx(v.MultiValue,{...e,children:t.jsx("button",{className:x("text-token-text-primary m-1 cursor-pointer rounded-full border border-transparent py-1 ps-3 pe-2 text-sm",e.data.isValid?"bg-token-main-surface-secondary hover:border-token-border-medium hover:bg-token-main-surface-tertiary":"bg-red-200 text-red-500"),onClick:n=>{e.removeProps.onClick?.(n),e.selectProps.trackEmailRemoved?.(),n.preventDefault()},"aria-label":s.formatMessage(c.removeMember,{member:e.data.value}),children:o})})},S={DropdownIndicator:()=>null,ClearIndicator:()=>null,MultiValueRemove:()=>null,MultiValue:N},c=C({membersAdded:{id:"emailsTextarea.membersAdded",defaultMessage:"+{count} {count, plural, one {member} other {members}}"},removeMember:{id:"emailsTextarea.removeMember",defaultMessage:"Remove {member}"},tooltipInvalidEmail:{id:"emailsTextarea.tooltipInvalidEmail",defaultMessage:'"{email}" may not be a valid email'},clearAllEntries:{id:"emailsTextarea.clearAllEntries",defaultMessage:"Clear all"},placeholder:{id:"emailsTextarea.placeholder",defaultMessage:"Type an email and press enter..."}});export{R as E,b as c};
//# sourceMappingURL=fohx4vo3qyr0edh2.js.map

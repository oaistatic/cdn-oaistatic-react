var K=Object.defineProperty;var C=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var F=(i,o,s)=>o in i?K(i,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[o]=s,n=(i,o)=>{for(var s in o||(o={}))Y.call(o,s)&&F(i,s,o[s]);if(C)for(var s of C(o))$.call(o,s)&&F(i,s,o[s]);return i};import{r,j as e,A as W,m as H,M as u}from"./n75kuy1cx6f5mogg.js";import{C as I,i as J,j as Q,r as Z,B as ee,j8 as ie,dh as U,eK as oe,a6 as se,U as ae,mb as te,aR as ne,aS as ce,f4 as re,at as de}from"./ewse8exzafeu10ji.js";import{u as le}from"./kq6o2ff0g84prlfu.js";import{lB as X,b2 as z,b1 as E,lC as ue,a1 as me,lD as ve,bI as pe,lE as A,lF as fe}from"./ny10lj7zpuz89fvf.js";import{s as ge,V as he}from"./n83t8t0535fblt5w.js";import{S as xe}from"./jcp83ykn6a1hd652.js";import"./dsuqrew0l7dkq40v.js";import"./kg55sov6c624o43c.js";const Se=()=>{const i=X();return r.useCallback(o=>{ge.set(o),i.setState({isVoiceModeActive:!0})},[i])};function _(i){return e.jsx(I,{testId:"modal-voice-picker",isOpen:i.isOpen,onClose:i.onClose,type:"success",size:"fullscreen",children:e.jsx(W,{children:e.jsx(H.div,{children:e.jsx(he,{conversationId:i.conversationId,onClose:i.onClose,cameFromNux:i.cameFromNux,initialVoiceName:i.initialVoiceName})})})})}function v({title:i,description:o,icon:s}){return e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"shrink-0",children:s}),e.jsxs("div",{className:"text-start",children:[e.jsx("h4",{className:"text-token-text-primary font-semibold",children:e.jsx(u,n({},i))}),e.jsx("p",{className:"text-token-text-secondary",children:e.jsx(u,n({},o))})]})]})}function Ne({conversationId:i,initialVoiceName:o}){var P,y;const s=z(E.hasSeenAdvancedVoiceNuxFullPage),l=J(),m=Q(l,"4291846205"),t=Z(l),p=(P=t==null?void 0:t.isPlus())!=null?P:!1,d=(y=t==null?void 0:t.isEnterprisey())!=null?y:!1,[f,g]=r.useState(!1),[h,x]=r.useState(!1),[a,S]=r.useState(!1),[N,k]=r.useState(!0);r.useEffect(()=>{requestAnimationFrame(()=>x(!0))},[]);const O=()=>{S(!0),ie.voiceAdvancedDisclosureAccepted.click(),g(!0),setTimeout(async()=>{k(!1)},ue)},w=()=>{s.markAsViewed()},j=e.jsx(v,n({},c.naturalConversations)),D=e.jsx(v,n({},c.freePreview)),L=e.jsx(v,n({},c.multipleVoices)),b=e.jsx(v,n({},c.personalized)),M=e.jsx(v,n({},d?c.controlEnterprise:c.controlDefault)),T=[D,j,b,M],R=[j,L,b,M],V=d||p||m,q=V?R:T;return e.jsxs(e.Fragment,{children:[e.jsx(_,{isOpen:f,onClose:w,conversationId:i,cameFromNux:!0,initialVoiceName:o}),e.jsx(I,{testId:"modal-advanced-voice-nux",isOpen:N,onClose:w,type:"success",size:"fullscreen",className:"bg-white transition-opacity duration-300 dark:bg-gray-800 ".concat(h&&!a?"opacity-100":"opacity-0"),showOverlayBackground:!1,children:e.jsxs("div",{className:"mx-auto flex h-full w-full max-w-lg flex-col items-center justify-center px-4 text-center",children:[e.jsx("h1",{className:"text-token-text-primary mb-9 text-2xl font-semibold",children:e.jsx(u,n({},V?c.headingPaid:c.headingFreePreview))}),e.jsx("div",{className:"mb-9 space-y-5",children:q.map((B,G)=>e.jsx("div",{children:B},G))}),e.jsxs("p",{className:"text-token-text-primary mb-9 text-sm",children:[e.jsx(u,n({},c.disclaimerMistakes)),e.jsx("br",{}),e.jsx(u,n({},c.disclaimerUsageLimits))]}),e.jsx(ee,{className:"bg-token-text-primary rounded-full px-20 py-3 font-semibold",onClick:O,children:e.jsx(u,{id:"ppi93b",defaultMessage:"Continue"})})]})})]})}const c={naturalConversations:{title:{id:"advanced-voice-nux-full-page.natural-conversations",defaultMessage:"Natural conversations",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.natural-conversations-description",defaultMessage:"Senses and responds to interruptions, humor, and more.",description:"Section description in NUX modal for advanced voice on web. ‘Senses’ is a verb meaning the system detects or perceives user interruptions or humor."},icon:e.jsx(pe,{className:"me-4 h-8 w-8"})},freePreview:{title:{id:"advanced-voice-nux-full-page.free-preview",defaultMessage:"Free monthly preview",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.free-preview-description",defaultMessage:"Use advanced voice for a short period each month.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(ve,{className:"me-4 h-8 w-8"})},multipleVoices:{title:{id:"advanced-voice-nux-full-page.multiple-voices",defaultMessage:"Multiple voices",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.multiple-voices-description",defaultMessage:"Offers an expanded set of voices to choose from.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(xe,{className:"me-4 h-8 w-8"})},personalized:{title:{id:"advanced-voice-nux-full-page.personalized-title",defaultMessage:"Personalized to you",description:"Section title in NUX modal for advanced voice on web"},description:{id:"advanced-voice-nux-full-page.personalized-description",defaultMessage:"Can use memory and custom instructions to shape responses.",description:"Section description in NUX modal for advanced voice on web"},icon:e.jsx(me,{className:"me-4 h-8 w-8"})},controlEnterprise:{title:{id:"advanced-voice-nux-full-page.control-enterprise-title",defaultMessage:"You’re in control",description:"Section title in NUX modal for advanced voice on web"},icon:e.jsx(U,{className:"me-4 h-8 w-8"}),description:{id:"advanced-voice-nux-full-page.control-enterprise-description",defaultMessage:"Your audio recordings are saved but not used for training. Learn how to <link>manage recordings</link>.",description:"Section description in NUX modal for advanced voice on web",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8400625-voice-mode-faq#h_c5d6fe534b",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}}},controlDefault:{title:{id:"advanced-voice-nux-full-page.control-default-title",defaultMessage:"You’re in control",description:"Section title in NUX modal for advanced voice on web"},icon:e.jsx(U,{className:"me-4 h-8 w-8"}),description:{id:"advanced-voice-nux-full-page.control-default-description",defaultMessage:"Audio recordings are saved, and you can delete them at any time. Learn how to <link>manage recordings</link>.",description:"Section description in NUX modal for advanced voice on web",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8400625-voice-mode-faq#h_c5d6fe534b",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}}},headingFreePreview:{id:"advanced-voice-nux-full-page.heading-free-preview",defaultMessage:"Sneak a peek at advanced voice mode",description:"Main heading shown to free users in the advanced voice NUX modal. ‘Sneak a peek’ is an idiom meaning to briefly try it out."},headingPaid:{id:"advanced-voice-nux-full-page.heading-paid",defaultMessage:"Say hello to advanced voice mode",description:"Main heading shown to paid users in the advanced voice NUX full-page modal"},disclaimerMistakes:{id:"advanced-voice-nux-full-page.disclaimer-mistakes",defaultMessage:"<link>Voice mode can make mistakes</link> — check important info.",description:"First disclaimer line reminding users that voice mode may be inaccurate",values:{link:i=>e.jsx("a",{href:"https://help.openai.com/en/articles/8313428-does-chatgpt-tell-the-truth",target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})}},disclaimerUsageLimits:{id:"advanced-voice-nux-full-page.disclaimer-usage-limits",defaultMessage:"Usage limits may change.",description:"Second disclaimer line informing users that usage limits are subject to change"}};function ke(){const i=z(E.hasSeenAdvancedVoiceNuxFullPage);return!i.isLoading&&i.eligible}function Ue({clientThreadId:i}){const o=A(a=>a.showVoicePicker),s=A(a=>a.showNuxFullPage),l=X(),m=oe(i),t=m!=null?m:i,{isUnauthenticated:p}=se(),{prospectiveModelId:d}=fe(i),{setValue:f}=le(ae.VoiceName),g=ke(),h=te(),x=Se();return r.useEffect(()=>{const a=sessionStorage.getItem("selectedVoiceName"),S=N=>{try{sessionStorage.removeItem("selectedVoiceName"),x({voice:N,conversation_id:void 0,eventSource:"login_page",voice_mode:"advanced",clientThreadId:re(),gizmo_id:ne.getGizmoId(ce(t)),requested_default_model:d!=null?d:void 0,skipCacheReason:"login-direct-to-voice-mode"})}catch(k){de.addError("Failed to start voice mode after voice picker: ".concat(k),{protocol:h})}};a&&!p&&(f(a),S(a))},[t,p,f,x,d,h]),r.useEffect(()=>{g||l.setState(a=>{a.showNuxFullPage=!1})},[g,l]),s?e.jsx(Ne,{conversationId:t}):o?e.jsx(_,{isOpen:o,onClose:()=>{l.setState(a=>{a.showVoicePicker=!1})},conversationId:t,cameFromNux:!0}):null}export{Ue as VoiceModals};
//# sourceMappingURL=gkzd5qfr6qpl1esn.js.map

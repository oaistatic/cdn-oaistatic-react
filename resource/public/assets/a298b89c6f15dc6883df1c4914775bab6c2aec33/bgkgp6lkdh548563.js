var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var P=(s,e,t)=>e in s?J(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,n=(s,e)=>{for(var t in e||(e={}))X.call(e,t)&&P(s,t,e[t]);if(U)for(var t of U(e))Z.call(e,t)&&P(s,t,e[t]);return s},E=(s,e)=>K(s,Q(e));import{c as ee,d as $,r as T,j as o,m as z,M as k,A as te}from"./n75kuy1cx6f5mogg.js";import{i as oe,aa as se,ac as ae,aG as le,e as ie,B as R,ae as V,P as _,an as G,C as ne}from"./ewse8exzafeu10ji.js";import{cp as ce,cd as re,ce as ue,cf as D}from"./ny10lj7zpuz89fvf.js";import{u as de,g as F,L as me,h as ge}from"./hcogaixn0irn6lu3.js";import"./hrec769hl86c0yvf.js";import"./lt9kme5w6dg8d0tp.js";import"./gnd0g6eajrko24ds.js";import"./h2t8e4spzi3rf7zt.js";import"./dbz6g0t5bht84999.js";import"./jio16esf2chumk86.js";import"./nm04jgpfyxi6pn12.js";import"./kivo09shwglpcqd0.js";const We=s=>{"use forget";const e=ee.c(36),{onClose:t}=s,c=oe(),Y=se(),j=ae(f.signUpCta),C=Y?"center":"bottom",{isOpen:i,onClose:l}=ce();let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=le(),e[0]=x):x=e[0];const r=x,[q,W]=T.useState(!1),b=re();let M,A;e[1]!==i?(M=()=>{if(i){if(r){const h=setTimeout(()=>W(!0),3e3);return()=>clearTimeout(h)}W(!0)}else W(!1)},A=[i,r],e[1]=i,e[2]=M,e[3]=A):(M=e[2],A=e[3]),T.useEffect(M,A);let B,S;e[4]!==i?(B=()=>{i&&(_.logEvent("No Auth Welcome Back Modal Shown"),G.logEvent("chatgpt_no_auth_welcome_back_modal_shown"))},S=[i],e[4]=i,e[5]=B,e[6]=S):(B=e[5],S=e[6]),T.useEffect(B,S);const{accountInfo:I}=ue(),a=!!I&&!!I.user&&b!==D.control,y=de();if(!q)return null;let L;e[7]!==c||e[8]!==t?(L=h=>{t(),ge(c,h)},e[7]=c,e[8]=t,e[9]=L):L=e[9];const w=L,O=a?" ":null;let u;e[10]!==t||e[11]!==l?(u=()=>{t(),l==null||l()},e[10]=t,e[11]=l,e[12]=u):u=e[12];const v=a&&"sm:max-w-[388px]";let d;e[13]!==v?(d=ie("max-w-[373px] sm:max-w-[400px]",v),e[13]=v,e[14]=d):d=e[14];let m;e[15]!==y||e[16]!==a||e[17]!==b||e[18]!==w?(m=a&&o.jsx(z.div,E(n({},F),{children:o.jsx(me,{onSwitchToGenericLoginOrSignup:w,isSsoOptionsVisible:b===D.ssoExpanded,title:f.title2.defaultMessage,authorizationParams:y})}),"log-back"),e[15]=y,e[16]=a,e[17]=b,e[18]=w,e[19]=m):m=e[19];let g;e[20]!==c||e[21]!==a||e[22]!==t||e[23]!==l||e[24]!==j?(g=!a&&o.jsx(z.div,E(n({},F),{children:o.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-8 sm:p-10",children:[o.jsx("p",{className:"mb-1 text-center text-2xl font-semibold",children:o.jsx(k,n({},r?H.title:f.title))}),o.jsx("p",{className:"text-token-text-secondary mb-6 text-center text-lg",children:o.jsx(k,n({},r?H.subtitle:f.subtitle))}),o.jsx(R,{as:"button",size:"large",color:"primary",fullWidth:!0,className:"".concat(r?"":"mb-2 sm:mb-3"),"data-testid":"welcome-login-button",onClick:()=>{V(c,{fallbackScreenHint:"login",callback:pe,skipLoginModal:!1})},children:o.jsx(k,n({},f.logInCta))}),!r&&o.jsx(R,{as:"button",size:"large",color:"secondary",fullWidth:!0,className:"mb-5",onClick:()=>{V(c,{fallbackScreenHint:"signup",callback:fe,skipLoginModal:!1})},children:o.jsx(k,n({},j))}),!r&&o.jsx("a",{href:"#",className:"text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",onClick:h=>{h.preventDefault(),_.logEvent("No Auth Welcome Modal Stay Logged Out Link Clicked",{location:"No Auth Welcome Back Modal"}),G.logEvent("chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked"),t(),l==null||l()},"data-testid":"dismiss-welcome",children:o.jsx(k,n({},f.stayLoggedOutLink))})]})}),"control"),e[20]=c,e[21]=a,e[22]=t,e[23]=l,e[24]=j,e[25]=g):g=e[25];let p;e[26]!==m||e[27]!==g?(p=o.jsxs(te,{mode:"wait",initial:!1,children:[m,g]}),e[26]=m,e[27]=g,e[28]=p):p=e[28];let N;return e[29]!==a||e[30]!==C||e[31]!==d||e[32]!==p||e[33]!==O||e[34]!==u?(N=o.jsx(ne,{testId:"modal-no-auth-welcome-back",isOpen:!0,title:O,onClose:u,shouldIgnoreClickOutside:!0,showCloseButton:a,type:"success",noPadding:!0,size:"custom",className:d,position:C,children:p}),e[29]=a,e[30]=C,e[31]=d,e[32]=p,e[33]=O,e[34]=u,e[35]=N):N=e[35],N},f=$({title:{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"},subtitle:{id:"NoAuthWelcomeBackModal.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."},title2:{id:"NoAuthWelcomeBackModal.title2",defaultMessage:"Log back in"},signUpCta:{id:"NoAuthWelcomeBackModal.signUpCta",defaultMessage:"Sign up"},logInCta:{id:"NoAuthWelcomeBackModal.logInCta",defaultMessage:"Log in"},stayLoggedOutLink:{id:"NoAuthWelcomeBackModal.stayLoggedOut",defaultMessage:"Stay logged out"}}),H=$({title:{id:"NoAuthWelcomeBackModal.Desktop.title",defaultMessage:"Restoring your session"},subtitle:{id:"NoAuthWelcomeBackModal.Desktop.subtitle",defaultMessage:"Youâ€™ll be logged back in automatically. If not, you can log in below."}});function pe(s){_.logLogInButtonClicked({provider:s,location:"No Auth Welcome Back Modal"})}function fe(s){_.logSignUpButtonClicked({provider:s,location:"No Auth Welcome Back Modal"})}export{We as NoAuthWelcomeBackModal};
//# sourceMappingURL=bgkgp6lkdh548563.js.map

import{r as N,j as e}from"./n75kuy1cx6f5mogg.js";import{n1 as d,e as l,dD as O,f as $,eC as D,gD as P}from"./ewse8exzafeu10ji.js";import{aT as M,a3 as T}from"./ny10lj7zpuz89fvf.js";const p=s=>Array.isArray(s)||d(s)||s instanceof Map||s instanceof Set,h=s=>s==null||typeof s=="string"||typeof s=="number"||typeof s=="boolean",b=s=>d(s)?Object.entries(s):Array.from(s.entries()),k=s=>"".concat(typeof s,":").concat(typeof s=="object"?JSON.stringify(s):s),F=({isPreview:s=!1,isInitialLevelExpanded:t=!1,unwrap:r=!1,value:n})=>{const[x,a]=N.useState(t);return h(n)?e.jsx(j,{value:n,depth:0}):p(n)?r?e.jsx("span",{className:"text-sm",children:e.jsx(w,{value:n,depth:0})}):e.jsxs("span",{className:l("relative z-0 max-w-full font-mono text-sm leading-6",x&&"w-full flex-auto"),children:[e.jsxs("span",{role:"button",className:"group/row flex flex-wrap items-center gap-x-1 italic",onClick:()=>a(!x),children:[!s&&e.jsx(E,{isExpanded:x}),e.jsx(C,{value:n,depth:0}),e.jsx(u,{value:n})]}),x&&!s&&e.jsx("div",{className:"ps-6",children:e.jsx(w,{value:n,depth:0})})]}):e.jsx("span",{className:"truncate",children:String(n)})},S=({value:s,depth:t=0})=>p(s)?e.jsx(w,{depth:t,value:s}):h(s)?e.jsx(j,{depth:t,value:s}):e.jsx("span",{className:"truncate",children:String(s)}),C=({value:s,depth:t=0})=>{const r=Array.isArray(s),n=b(s);return e.jsxs("div",{className:"inline-flex max-w-fit min-w-0 grow basis-0",children:[!d(s)&&e.jsx(y,{isShort:!0,isSecondary:!0,collection:s}),r?"[":"{",e.jsx("span",{className:"inline-flex max-w-fit min-w-0 shrink grow basis-0 overflow-hidden",children:n.map(([x,a],i)=>{let o=null;return p(a)?o=e.jsx(y,{collection:a}):h(a)?o=e.jsx(j,{truncate:!0,depth:t+1,value:a}):o=e.jsx(S,{depth:t+1,value:a}),e.jsxs(N.Fragment,{children:[(d(s)||s instanceof Map)&&e.jsx("span",{className:"text-token-text-secondary min-w-[2em] shrink truncate whitespace-pre",children:e.jsx(A,{value:s,propertyKey:x})}),o,i<n.length-1&&e.jsx("span",{className:"whitespace-pre",children:", "})]},k(x))})}),r?"]":"}"]})},w=({value:s,depth:t=0})=>{const[r,n]=N.useState(()=>new Set),x=b(s);return e.jsx("ol",{className:"flex flex-col ps-6 font-mono",children:x.map(([a,i])=>{const o=k(a),f=r.has(o),c=p(i),z=()=>{n(g=>{const m=new Set(g);return m.has(o)?m.delete(o):m.add(o),m})};return e.jsxs("li",{className:l("flex ps-1 whitespace-nowrap",c&&"flex-col",!c&&"group/row flex-wrap"),onClick:g=>g.stopPropagation(),children:[e.jsxs("span",{onClick:c?z:void 0,role:c?"button":void 0,className:l("group/row z-10 -ms-1 min-w-0 items-center gap-x-1",c?"flex":"inline-flex"),children:[c&&e.jsxs(e.Fragment,{children:[e.jsx(J,{}),e.jsx(E,{shiftLeft:!0,isExpanded:f})]}),e.jsx("span",{className:l("font-bold",(d(s)||Array.isArray(s))&&"text-red-900 dark:text-blue-400"),children:e.jsx(A,{value:s,propertyKey:a})}),c&&!f&&e.jsx(C,{value:i,depth:t+1}),c&&f&&e.jsx(y,{isSecondary:!0,collection:i}),c&&e.jsx(u,{value:i})]}),(!c||f)&&e.jsx(S,{value:i,depth:t+1}),(typeof i=="string"||typeof i=="number")&&e.jsx(u,{value:i})]},o)})})},j=({value:s,truncate:t=!1})=>typeof s=="string"?e.jsxs("span",{className:l("dark:text-blue-75 text-red-500",t&&"max-w-fit min-w-[2em] shrink-0 grow basis-0 overflow-hidden text-ellipsis whitespace-nowrap",!t&&"break-words break-all whitespace-normal"),children:["'",s,"'"]}):e.jsx("span",{className:l("whitespace-nowrap",s==null?"text-token-text-secondary":"dark:text-brand-purple-600 text-blue-500"),children:String(s)}),J=()=>e.jsx("span",{className:"absolute start-0 end-0 z-[-1] h-6 rounded-md group-hover/row:bg-gray-50 dark:group-hover/row:bg-gray-700"}),y=({collection:s,isSecondary:t=!1,isShort:r=!1})=>{let n=null;return Array.isArray(s)&&s.length>0?n=r?"(".concat(s.length,")"):"Array(".concat(s.length,")"):s instanceof Set?n="Set(".concat(s.size,")"):s instanceof Map?n="Map(".concat(s.size,")"):d(s)&&(n="{â€¦}"),n&&e.jsx("span",{className:l(t&&"text-token-text-secondary"),children:n})},A=({value:s,propertyKey:t})=>d(s)||Array.isArray(s)?"".concat(D(t),": "):s instanceof Map?e.jsxs("span",{className:"inline-flex items-center gap-1",children:[h(t)?e.jsx(j,{value:t,depth:0}):e.jsx("span",{className:"text-token-text-secondary",children:JSON.stringify(t)}),e.jsx(P,{className:"icon-sm text-token-text-secondary"})]}):null,E=({isExpanded:s,shiftLeft:t=!1})=>e.jsx("button",{className:l("flex h-5 shrink-0 items-center overflow-hidden",t&&"ms-[-16px]"),children:e.jsx(O,{className:l("icon-sm text-token-text-secondary transition-transform",s&&"rotate-90")})}),u=({value:s})=>{const t=$(),r=()=>{T(JSON.stringify(s),t)};return e.jsx("span",{className:l("text-token-text-secondary relative inline-block h-4 self-center opacity-0 transition-opacity","group-hover/row:opacity-100 group-hover/row:delay-500","hover:after:bg-token-main-surface-tertiary after:pointer-events-none after:absolute after:inset-[-4px] after:z-0 after:rounded-lg after:content-['']"),children:e.jsx(M,{iconClassName:"icon-sm z-10",iconOnly:!0,onCopy:r})})};export{F as L};
//# sourceMappingURL=gvudnmdzjyrmv9hw.js.map

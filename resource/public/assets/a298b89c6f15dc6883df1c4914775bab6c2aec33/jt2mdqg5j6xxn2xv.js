import{D as f,ae as m,g as h,b as g,r as p,j as d,d as v}from"./n75kuy1cx6f5mogg.js";import{f as T,E as x,R as b,f4 as I,bN as u}from"./ewse8exzafeu10ji.js";import{d as C}from"./ny10lj7zpuz89fvf.js";const R=f(function(){const{conversationId:e,messageId:s}=m(),t=h(),o=T(),c=g();return p.useEffect(()=>{let r=!1;async function l(){if(!e||!s){t("/",{replace:!0});return}try{const i=await b.safePost("/conversation/new_branch",{requestBody:{conversation_id:e,message_id:s}});if(r)return;const{conversation:n}=i,a=I();C(a,n),u.updateThreadFromServer(a,n,{branchingFromConversationId:e,branchingFromMessageId:s,modelId:n.default_model_slug}),u.retainThread(a),t("/c/".concat(a),{replace:!0})}catch(i){if(r)return;o.danger(c.formatMessage(_.errorToast)),t("/c/".concat(e!=null?e:""))}}return l(),()=>{r=!0}},[e,s,t,o,c]),d.jsx("div",{className:"flex h-full items-center justify-center",children:d.jsx(x,{className:"text-token-text-tertiary"})})}),_=v({errorToast:{id:"BranchTurnActionButton.errorToast",defaultMessage:"Failed to branch conversation"}});export{R as default};
//# sourceMappingURL=jt2mdqg5j6xxn2xv.js.map

import{q as u,D as m,f as _}from"./n75kuy1cx6f5mogg.js";import{R as p,k as h,fl as s,aE as i,fm as c}from"./ewse8exzafeu10ji.js";const l=u({queryKey:["mfaToken"],queryFn:async()=>{try{const t=await p.safePost("/accounts/mfa/user/request_mfa_token_in_house");if(!t||!t.state_token)throw new Error("Failed to fetch MFA token");return t.state_token}catch(t){if(t instanceof h){const e=t.detail;if((e==null?void 0:e.code)==="mfa_email_required"){window.location.href=s(c.ENABLE_MFA_EMAIL_REQUIRED,"/#settings/".concat(i.Account));return}}window.location.href=s(c.ENABLE_MFA_ERROR,"/#settings/".concat(i.Security))}}}),d=m(function(){var o;const{data:e}=_(l);if(e){const a=new URLSearchParams(window.location.search),f=(o=a.get("app"))!=null?o:"ChatGPT",n=new URLSearchParams({origin_app_name:f,mfa_token:e}),r=a.get("redirect_path");r&&n.set("redirect_path",r),window.location.href="https://auth.openai.com/totp_enroll?".concat(n.toString())}return null});export{d as default};
//# sourceMappingURL=j7pgak60yzhpdb1d.js.map

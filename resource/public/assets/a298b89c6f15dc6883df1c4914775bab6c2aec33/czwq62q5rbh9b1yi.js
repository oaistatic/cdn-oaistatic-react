const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/qohojd9idleqb5ka.js","assets/n75kuy1cx6f5mogg.js","assets/ny10lj7zpuz89fvf.js","assets/ewse8exzafeu10ji.js","assets/root-l2v84m1w.css","assets/conversation-small-hotcas67.css","assets/csfei8hkwqwverh7.js","assets/l8mqyon1g20356ww.js","assets/7pd84i0fdyounev7.js","assets/gowyl4x2bs7hfi4a.js","assets/em5q5yhbyv41ft0j.js","assets/c8gt0dx953xyg6iv.js","assets/eq0refymwif7pcpz.js","assets/wxk4ecobz1qzi6ic.js","assets/mfyrsje6hk3w0xmg.js","assets/ocm4jgis69nffnv1.js","assets/heyok871zyju5auh.js","assets/gdvi3vhnli0o4q8m.js","assets/cmzkp7rzk2rab9yw.js","assets/ifwohzs2c8tav0z4.js","assets/dvppcwue3vu7k571.js","assets/cq8dery9zrxb6hjr.js","assets/l1imugsbrc47mdf9.js","assets/kwx0iuln6nvklwc7.js","assets/gvudnmdzjyrmv9hw.js","assets/dqiha9wnhddhrhyu.js","assets/ibchrxf1juu2j0jw.js","assets/ns51nblw8ziscsgd.js","assets/b1getay2qyb9u6r4.js","assets/jiz6zc3ys9fjr045.js","assets/fxxk3zddft3ie21d.js","assets/krgmgst7vx7uq7xs.js","assets/d848smmy6kyt1xtw.js","assets/cyuzt9lx454bpdrm.js","assets/l5i1wpx91f7uj9ss.js","assets/brsl39gvuuglwjj6.js","assets/ou1s0kowmldvhx32.js","assets/ltsv6em2m484o9yy.js","assets/j0qx0vaadhi6g6bi.js","assets/ly9hghfho7bi4z70.js","assets/pbl95wx6493wq92j.js","assets/n1zi1frmhwo1ei8c.js","assets/ltq3thvd9yhrdk52.js","assets/cot-message-kr8ex2u7.css","assets/e1s7rabt8slyq3ri.js","assets/kia3tktk2b5q94vh.js","assets/bd7dj080szn1mr9h.js","assets/ef5ky5jy1k52ka9g.js"])))=>i.map(i=>d[i]);
import{it as Ie,bJ as re,i as Ve,f2 as Be,hD as Ne,iw as ze,gV as Me,ia as e,bG as F,h_ as Je,i8 as P,ej as x,P as Qe,i$ as Ke,d1 as ce,e as ge,aY as ue,br as We,mX as _e,ot as $e,bK as $,b6 as Fe,x as He,fy as Xe,ek as y,$ as Ye,a0 as Ze,bq as Ue}from"./ewse8exzafeu10ji.js";import{r as L,j as t,M as xe}from"./n75kuy1cx6f5mogg.js";import{as as qe,at as Ge,au as st,av as H,aw as et,ax as tt,ay as at,az as nt,aA as ot,aB as it,aC as mt,aD as lt,aE as rt,aF as ct,aG as gt,aH as ut,aI as _t,aJ as ft,aK as xt,aL as dt,aM as ht,aN as yt,aO as bt,aP as jt,aQ as fe,aR as pt,aS as Et}from"./ny10lj7zpuz89fvf.js";import{T as vt}from"./gowyl4x2bs7hfi4a.js";import{g as wt}from"./em5q5yhbyv41ft0j.js";const St=x(()=>y(()=>import("./qohojd9idleqb5ka.js"),__vite__mapDeps([0,1,2,3,4,5]))),Tt=x(()=>y(()=>import("./csfei8hkwqwverh7.js"),__vite__mapDeps([6,1,3,4,7]))),Ct=x(()=>y(()=>import("./7pd84i0fdyounev7.js"),__vite__mapDeps([8,1,3,4,9,2,5,10]))),Dt=x(()=>y(()=>import("./c8gt0dx953xyg6iv.js"),__vite__mapDeps([11,1,3,4,2,5,12,13,14]))),Lt=x(async()=>()=>null),Pt=x(async()=>()=>null),At=x(async()=>(await y(()=>import("./ocm4jgis69nffnv1.js"),__vite__mapDeps([15,3,1,4,13,2,5,16,14,17]))).ImageGenMessage),kt=x(()=>y(()=>import("./cmzkp7rzk2rab9yw.js"),__vite__mapDeps([18,1,3,4,2,5]))),Rt=x(()=>y(()=>import("./ny10lj7zpuz89fvf.js").then(a=>a.DD),__vite__mapDeps([2,3,1,4,5])).then(a=>a.BrowsingMessage)),Ot=x(()=>y(()=>import("./ifwohzs2c8tav0z4.js"),__vite__mapDeps([19,1,2,3,4,5])).then(a=>a.BrowserToolMessage)),It=x(()=>y(()=>import("./dvppcwue3vu7k571.js"),__vite__mapDeps([20,1,3,4,2,5])).then(a=>a.SearchResultMessage)),Vt=x(()=>y(()=>import("./cq8dery9zrxb6hjr.js"),__vite__mapDeps([21,1,3,4,2,5,22,23,24,25,12,26,27,28,29])).then(a=>a.JITPluginMessage)),Bt=x(()=>y(()=>import("./fxxk3zddft3ie21d.js"),__vite__mapDeps([30,1,3,4,28,2,5,25])).then(a=>a.APIToolElicitationMessage)),Nt=x(()=>y(()=>import("./krgmgst7vx7uq7xs.js"),__vite__mapDeps([31,3,1,4,32,2,5])).then(a=>a.DataAnalysisMessage)),zt=x(()=>y(()=>import("./cyuzt9lx454bpdrm.js"),__vite__mapDeps([33,1,3,4,2,5,34,35,17,10,36,37,38,39,40,16,14,41,42,43]))),Mt=x(()=>y(()=>import("./e1s7rabt8slyq3ri.js"),__vite__mapDeps([44,1,3,4,35,2,5,17,10,36,37,38,39,40,16,14,41,42,43])).then(a=>a.LegacyCoTMessage)),Jt=x(()=>y(()=>import("./brsl39gvuuglwjj6.js"),__vite__mapDeps([35,1,3,4,2,5,17,10,36,37,38,39,40,16,14,41,42,43])).then(a=>a.CoT)),Qt=x(()=>y(()=>import("./kia3tktk2b5q94vh.js"),__vite__mapDeps([45,1,3,4,2,5,46,47])).then(a=>a.JawboneMessage)),Kt=x(async()=>()=>null);function Wt(a){if(a.some(l=>l.type===e.SearchGPTQuery)){const d=a.filter(c=>c.type===P).flatMap(c=>c.groups),o=d.flatMap(c=>c.messages.map(r=>{var f;return(f=r.metadata)==null?void 0:f.search_turns_count})).findLast(c=>c!=null);return o!=null?o>1:function(){const r=d.filter(b=>b.type===e.StructuredThoughts),f=d.filter(b=>b.type===e.CoTSearchTool),g=(()=>{function b(v){return v.type===e.StructuredThoughts&&v.messages.flatMap(u=>u.content).some(u=>u.content_type===Ue.StructuredThoughts&&u.thoughts.length>0)}let E=!1;for(const v of d)if(v.type===e.CoTSearchTool)E=!0;else if(b(v)&&E)return!0;return!1})();return r.length>1||f.length>1||g}()}return!0}function $t(a,l){var d;if(a.type===P){const o=F(a.groups);return((d=o==null?void 0:o.messages[0].metadata)==null?void 0:d.is_visually_hidden_reasoning_group)&&l===0}return!1}function sa({groupedMessagesToRender:a,allMessages:l,allGroupedMessages:d,clientThreadId:o,isUserTurn:c,isCompletionRequestInProgress:r,isFeedbackEnabled:f,isFinalTurn:g,isFinalUserTurn:b,isFinalAssistantTurn:E,isGlauxTurn:v=!1,hasActiveRequest:u,onRequestCompletion:A,turnIndex:w,shouldGrowContainer:I=!0,isParagen:X=!1,renderingView:de="chat",isAgentTurn:V=!1,isMercuryTurn:he=!1,isKAUR1BR5:ye=!1,query:be=null,wasInterrupted:je=!1,superWidgetImages:pe=null,lastAgentMetadataNode:Y,hideSearchGPTQuery:Z=!1,isWithinFirstAssistantTurns:z=!1}){var is,ms;const{showDebugConversationTurns:U}=Ie(),[k]=re(o,s=>[s==null?void 0:s.mode]),M=Ve(),q=Be(o),G=Ne(o),Ee=qe(),ve=ze(M),we=Me(M);let ss=d.some(s=>s.type===e.Browsing||s.type===e.RetrievalBrowsing||s.type===e.SearchGPTQuery||s.type===e.n7jupd);Z&&!(we&&ve)&&(ss=!1);const Se=re(o,s=>{var n;for(let m=l.length-1;m>=0;m--){const p=l[m],D=(n=s==null?void 0:s.tree.getNodeIfExists(p.id))==null?void 0:n.message,h=D?Et(D):void 0;if(h)return Object.assign({clientThreadId:o,messageId:l[m].id},h)}}),Te=Ge(()=>Ye.count(Ze.DEFAULT,"conversation_turn_grouped_messages.attempted_render_missing_type_f959b8c")),J=F(l),es=st({clientThreadId:o,conversationMode:k}),Ce=L.useCallback(({sourceEvent:s,requestedModelId:n,appendMessages:m,extraStreamParams:p,isReasoningSkipped:D})=>{J&&es({sourceEvent:s,nodeId:J.id,requestedModelId:n,appendMessages:m,extraStreamParams:p,isReasoningSkipped:D})},[J,es]),{closeThreadSidebar:De}=Je(),Le=H(a,s=>s.type!==e.Debug),Q=a.map((s,n)=>{var cs,gs,us,_s,fs,xs,ds,hs,ys,bs,js,ps,Es,vs,ws,Ss,Ts,Cs,Ds,Ls,Ps,As,ks,Rs,Os,Is,Vs,Bs,Ns,zs,Ms,Js,Qs,Ks,Ws,$s,Fs,Hs,Xs,Ys,Zs,Us,qs,Gs,se,ee,te,ae,ne,oe,ie;const m=V||he?n===Le:n===d.length-1,p=Wt(a),D=$t(s,n),h=n===d.length-1?void 0:d[n+1],Ae=(h==null?void 0:h.type)===P?h.groups.at(-1):h,O=n===0?void 0:a[n-1],T=(O==null?void 0:O.type)!==P?O:void 0,ls=T==null?void 0:T.type,rs=T==null?void 0:T.messages,ke=l==null?void 0:l.filter(i=>{var _,j;return((_=i.metadata)==null?void 0:_.python_citation)||((j=i.metadata)==null?void 0:j.container_citation)});if(s.type===P){const i=s.groups[0].messages[0];return!p||D?null:t.jsx(Jt,{isStreaming:g&&m&&r,latestError:Se,isFinalAssistantTurn:E,messageGroups:s.groups,nextMessageGroup:Ae,prevMessageGroup:T,isAutoswitchOptOutEnabled:!!((cs=i.metadata)!=null&&cs.classifier_response),handleSkipClick:_=>{De(),Qe.logEventWithStatsig("chatgpt_web_autoswitch_reasoning_skip_clicked","chatgpt_web_autoswitch_reasoning_skip_clicked",{conversationId:o,messageId:s.groups[0].messages[0].id}),q&&Ce({sourceEvent:_,requestedModelId:q.id,isReasoningSkipped:!0,isAgentTurn:V})},isAgentTurn:V,isGlauxTurn:v,isKAUR1BR5:ye,wasInterrupted:je,lastAgentMetadataNode:Y,clientThreadId:o,turnIndex:w,currentGroupedMessageIndex:n},"cot-"+i.id)}const Re=s&&!Ke(s.messages[0]),Oe=ss&&Re,C=[];if(Oe||C.push(t.jsx(vt,{className:"min-h-8",message:s.messages[0],isFeedbackEnabled:f,isFinalUserTurn:b,isWithinFirstAssistantTurns:z,isCompletionInProgress:m&&r,hasActiveRequest:u,turnIndex:w,clientThreadId:o,isUserTurn:c,prevGroupedMessageType:ls,prevGroupedMessages:rs,citableMessages:ke,superWidgetImages:pe},"text-message-"+s.messages[0].id)),U&&C.push(t.jsx(Kt,{clientThreadId:o,message:s.messages[0]},"message-debug-"+s.messages[0].id)),s.type===e.Text&&((gs=s.messages[0].metadata)!=null&&gs[ce])){const i=s.messages[0].metadata[ce];return t.jsxs(L.Fragment,{children:[t.jsx(et,{browserContextMetadata:i,className:ge(wt(!0),"mb-1","block","[.text-message+&]:mt-5")}),C]},"group-"+s.messages[0].id)}switch(s.type){case e.Text:case e.MultiText:if(s.type===e.Text){const i=(us=s.messages[0])==null?void 0:us.metadata,_=typeof(i==null?void 0:i.source)=="string"&&(i==null?void 0:i.source)==="dream_followup";return t.jsxs(L.Fragment,{children:[_&&O&&t.jsxs("div",{className:"mx-auto mt-8 mb-6 flex w-full items-center justify-center",children:[t.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"}),t.jsx("p",{className:"mx-3 shrink text-[14px] whitespace-nowrap text-gray-500",children:t.jsx(xe,{id:"threadLayout.proactiveAssistantFollowupDivider",defaultMessage:"Follow-up question"})}),t.jsx("div",{className:"h-px flex-1 bg-gray-200 dark:bg-gray-700","aria-hidden":"true"})]},"proactive-divider-"+s.messages[0].id),C,V&&t.jsx(_t,{currentGroupedMessage:s,isLastMessage:m,isLastTurnInConversation:g,clientThreadId:o,turnIndex:w,lastAgentMetadataNode:Y}),t.jsx(ft,{isUserTurn:c,message:s.messages[0]}),t.jsx(xt,{isUserTurn:c,message:s.messages[0],clientThreadId:o})]},"group-"+s.messages[0].id)}else return s.type===e.MultiText?t.jsx(Ct,{clientThreadId:o,messages:s.messages,isCompletionInProgress:m&&r,isFeedbackEnabled:f,hasActiveRequest:u,prevGroupedMessageType:ls,prevGroupedMessages:rs},"multitext-"+((fs=(_s=s.messages[0])==null?void 0:_s.id)!=null?fs:n)):s.type;case e.PIMBlock:{const i=F(l);return k&&i?t.jsx(ut,{isFinalTurn:g,hasActiveRequest:u,conversationMode:k,clientThreadId:o,justification:(xs=i.metadata)==null?void 0:xs.pim_justification,flaggedMessageId:(ds=i.metadata)==null?void 0:ds.pim_message_id,children:C}):null}case e.n7jupd_n:return t.jsx(gt,{});case e.Browsing:case e.RetrievalBrowsing:{const i=k!=null&&[$.GizmoInteraction,$.GizmoMagicCreate,$.GizmoTest].includes(k.kind),_=G?Fe(G):!1;return t.jsx(Rt,{messages:s.messages,isRequestActive:u,isLastMessageInTurn:m,isUsingGizmo:i,isUsingProject:_,isRetrieval:s.type===e.RetrievalBrowsing},"browsing-"+((ys=(hs=s.messages[0])==null?void 0:hs.id)!=null?ys:n))}case e.kaur1br5:return t.jsx(Ot,{messages:s.messages,isRequestActive:u,isLastMessageInTurn:m,clientThreadId:o,isWithinFirstAssistantTurns:z},"kaur1br5-tool-"+((js=(bs=s.messages[0])==null?void 0:bs.id)!=null?js:n));case e.SearchGPTQuery:{if(Z||a.some(S=>S.type===P)&&p)return null;const _=a.slice(n+1).findLast(S=>S.type===e.Text||S.type===e.CoTSearchTool),j=l.findLast(S=>_e(S).length>0),me=new Set,le=[];for(const S of l){const K=$e(S);if(K&&K.length>0)for(const W of K)me.has(W)||(me.add(W),le.push(W))}return t.jsx(ct,{clientThreadId:o,turnIndex:w,isRequestActive:u,isLastMessage:m,isLastTurnInConversation:g,nextMessage:_==null?void 0:_.messages[0],query:be,searchResultGroups:_e(j),searchModelQueries:le},"searchquery-"+((Es=(ps=s.messages[0])==null?void 0:ps.id)!=null?Es:n))}case e.StructuredThoughts:return null;case e.ReasoningRecap:return null;case e.n7jupd:return null;case e.n7jupd_native_api_tool:case e.n7jupd_a:case e.n7jupd_x:return null;case e.a8km123:{if(!s.messages.every(_=>{var j;return!((j=_.metadata)!=null&&j.reasoning_status)})){const _=H(l,j=>j.author.role===We.Assistant&&j.recipient==="all");return t.jsx(Mt,{clientThreadId:o,turnIndex:w,isStreaming:(m||_<n)&&r,isFinalAssistantTurn:E,messages:s.messages},"sum-"+((ws=(vs=s.messages[0])==null?void 0:vs.id)!=null?ws:n))}return t.jsx(zt,{messages:s.messages,isStreaming:m&&r,isCompletionRequestInProgress:r,hasActiveRequest:u,isLastMessage:m,isFinalTurn:g,isFeedbackEnabled:f,clientThreadId:o,currentGroupedMessageIndex:n,turnIndex:w},"sum-"+((Ts=(Ss=s.messages[0])==null?void 0:Ss.id)!=null?Ts:n))}case e.f959b8c:return Te(),null;case e.is_loading_message:if(m&&r){const i=s.messages[0],_=ue(i);return t.jsx(rt,{text:_,isWithinFirstAssistantTurns:z},"loading-message-"+n)}else return null;case e.b47u8ra0_t:{const i=s.messages[0],_="Reference Browser Memories?",j=ue(i);return t.jsx(lt,{title:_,description:j,settingsTab:(Ds=(Cs=i.metadata)==null?void 0:Cs.b47u8ra0_t)!=null?Ds:"general",clientThreadId:o,parentMessageId:i.id},"b47u8ra0_t-"+n)}case e.c12k321:return null;case e.l1p9k3u:return null;case e.b1de6e2_c:return t.jsx(mt,{messages:s.messages,clientThreadId:o,isLastMessage:m},"b1de6e2-"+((Ps=(Ls=s.messages[0])==null?void 0:Ls.id)!=null?Ps:n));case e.b1de6e2_s:return t.jsx(it,{messages:s.messages,clientThreadId:o},"b1de6e2_s-"+((ks=(As=s.messages[0])==null?void 0:As.id)!=null?ks:n));case e.b1de6e2_d:return null;case e.b1de6e2_rm:return t.jsx(ot,{messages:s.messages,clientThreadId:o,renderingView:de,children:C},"b1de6e2_rm-"+((Os=(Rs=s.messages[0])==null?void 0:Rs.id)!=null?Os:n));case e.async_task_result_message:return t.jsx(nt,{clientThreadId:o,messages:s.messages,children:C},"async_task_result_message-"+((Vs=(Is=s.messages[0])==null?void 0:Is.id)!=null?Vs:n));case e.de1d73e:if(Ee){const i=n+1<d.length?d[n+1]:void 0;return t.jsx(Qt,{clientThreadId:o,currentGroupedMessage:s,nextMessage:i&&i.type===e.Text?i.messages[0]:void 0,isLastMessage:m,isRequestActive:u},"jawbone-"+((Ns=(Bs=s.messages[0])==null?void 0:Bs.id)!=null?Ns:n))}else return null;case e.ParallelBrowsing:return t.jsx(kt,{messages:s.messages},"parallel-"+((Ms=(zs=s.messages[0])==null?void 0:zs.id)!=null?Ms:n));case e.CodeInterpreter:return t.jsx(Nt,{messages:s.messages,isRequestActive:u,clientThreadId:o},"ada-"+((Qs=(Js=s.messages[0])==null?void 0:Js.id)!=null?Qs:n));case e.DILWidget:{const i=s.messages[0];return(Ws=(Ks=i==null?void 0:i.metadata)==null?void 0:Ks.chatgpt_sdk)==null||Ws.dil,null}case e.JITPlugin:return t.jsx(Vt,{messages:s.messages,nextMessage:(h==null?void 0:h.type)===e.JITPlugin?h.messages[0]:void 0,clientThreadId:o,isLastTurnInConversation:g,isLastMessageInTurn:m,onRequestCompletion:A},"jit-"+((Fs=($s=s.messages[0])==null?void 0:$s.id)!=null?Fs:n));case e.Mercury:return null;case e.APIToolElicitation:return t.jsx(Bt,{messages:s.messages,nextMessage:(h==null?void 0:h.type)===e.APIToolElicitation?h.messages[0]:void 0,clientThreadId:o,isLastTurnInConversation:g,isLastMessageInTurn:m,onRequestCompletion:A},"api-tool-elicitation-"+((Xs=(Hs=s.messages[0])==null?void 0:Hs.id)!=null?Xs:n));case e.t2uay3k:return t.jsx(At,{messages:s.messages,clientThreadId:o,isParagen:X,isLastTurnInConversation:g},"t2uay3k-"+((Zs=(Ys=s.messages[0])==null?void 0:Ys.id)!=null?Zs:n));case e.Dalle:return t.jsx(Dt,{messages:s.messages,clientThreadId:o,disableClickThru:X},"dalle-"+((qs=(Us=s.messages[0])==null?void 0:Us.id)!=null?qs:n));case e.GizmoEditor:return t.jsx(St,{messages:s.messages},"gizmo-editor-"+((se=(Gs=s.messages[0])==null?void 0:Gs.id)!=null?se:n));case e.oiw209h:return t.jsx(Lt,{messages:s.messages,clientThreadId:o},"oiw209h-"+((te=(ee=s.messages[0])==null?void 0:ee.id)!=null?te:n));case e.n7jupd_p:return t.jsx(at,{});case e.Canmore:return t.jsx(tt,{messages:s.messages,allTurnMessages:l,isFinalTurn:g,isRequestActive:u,clientThreadId:o,isUserTurn:c},"canmore-"+((ne=(ae=s.messages[0])==null?void 0:ae.id)!=null?ne:n));case e.Container:case e.Oboe:return null;case e.Croquette:return null;case e.Debug:return U?t.jsx(Tt,{message:s.messages[0]},"debug-"+s.messages[0].id):null;case e.SearchResult:return t.jsx(It,{messages:s.messages},"search-result-"+((ie=(oe=s.messages[0])==null?void 0:oe.id)!=null?ie:n));case e.Mochi:return null;case e.CoTSearchTool:return null;case e.SuperWidget:return null;case e.n7jupd_image_gen:return null;case e.e1ld0dvz:return null;case e.Glaux:return t.jsx(Pt,{messages:s.messages,isLastMessage:m},"glaux-"+s.messages[0].id)}}),Pe=jt(),{wordFadeType:R,animationDurationMs:ts}=dt(),B=L.useRef([]),as=L.useRef(void 0),ns=L.useRef(null),N=!c&&g&&r,os=(is=l[0])==null?void 0:is.id;return He(()=>{if(R!=="indexed"||!N)return;const s=ns.current;if(!s)return;as.current!==os&&(as.current=os,B.current=[]);const n=s.getAnimations({subtree:!0}).filter(m=>m.animationName===fe["fade-in"]);if(n.length!==0){const m=Xt({now:performance.now(),previousStartTimes:B.current,groupCount:n.length});B.current=m;for(let p=0;p<n.length;p++)n[p].startTime=m[p]}else B.current=[]},[Q,R,N]),t.jsx("div",{className:ge("flex max-w-full flex-col",{[fe.root]:R==="indexed"&&N,grow:I}),style:R==="indexed"?{"--duration":"".concat(ts,"ms")}:void 0,ref:ns,children:t.jsx(Xe,{name:"GroupedMessages",fallback:Ft,children:c?Q:t.jsxs(ht,{isDisabled:!N||R!=="delay",defaultAnimationDurationPerSegmentMs:ts,children:[yt(M)&&g&&t.jsx(bt,{isStreaming:r,debug:Pe}),Q]},(ms=l[0])==null?void 0:ms.id)})})}function Ft({error:a}){return t.jsxs(pt,{type:"danger",children:[t.jsx(xe,{id:"5eGo3w",defaultMessage:"Unable to display this message due to an error."}),!1]})}function Ht(a,l,d){if(a.length<2||l<=0)return 0;const o=l/Math.log(2);a=[...a].sort((f,g)=>f-g);let c=0,r=0;for(let f=a.length-1;f>0;--f){const g=Math.exp(-(d-a[f])/o);if(c>0&&g/c<.01)break;const b=a[f]-a[f-1];c+=g,r+=g*b}return c===0?0:c/r}function Xt({now:a,previousStartTimes:l,groupCount:d,initialRate:o=50,halfLife:c=1}){var v;const r=l.slice(0,H(l,u=>u<=a)+1),f=r.length<2?o/1e3:Math.max(.01,Ht(r,c*1e3,a)),g=d-r.length;let b=(v=r[r.length-1])!=null?v:0,E=1;for(let u=0;u<g;u++){const A=f*1e3*E;g<A?E*=.8:g>A&&(E*=1.5);const w=1/(f*E),I=Math.max(a,b+w);r.push(I),b=I}return r}export{sa as C};
//# sourceMappingURL=czwq62q5rbh9b1yi.js.map

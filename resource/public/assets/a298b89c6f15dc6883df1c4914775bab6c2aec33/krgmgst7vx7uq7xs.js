const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c08ioayukzwjxoyq.js","assets/n75kuy1cx6f5mogg.js","assets/ewse8exzafeu10ji.js","assets/root-l2v84m1w.css","assets/ny10lj7zpuz89fvf.js","assets/conversation-small-hotcas67.css","assets/c4s32epvqc9sbuhy.js","assets/g2uomxi51txo7rt7.js","assets/l351nx0zzb742rw6.js","assets/ehwaewo3sh746gw7.js","assets/ke40fa6376bmvij2.js","assets/nm04jgpfyxi6pn12.js","assets/d848smmy6kyt1xtw.js","assets/ADAVisualizationComponent-jfgkc83t.css"])))=>i.map(i=>d[i]);
var S=Object.freeze,k=Object.defineProperty;var V=(t,n)=>S(k(t,"raw",{value:S(n||t.slice())}));import{bq as z,ej as O,N as W,U as w,F as D,ek as N}from"./ewse8exzafeu10ji.js";import{j as e,b as v}from"./n75kuy1cx6f5mogg.js";import{u as L,g as U}from"./d848smmy6kyt1xtw.js";import{cA as F,cH as H,cI as J,cz as m,cJ as P,cK as K,cy as R,cL as q,cM as B,cN as G}from"./ny10lj7zpuz89fvf.js";const E=O(()=>N(()=>import("./c08ioayukzwjxoyq.js").then(t=>t.A),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])).then(t=>t.default));function es({messages:t,isRequestActive:n,clientThreadId:d}){var y,C,M,j,_;const[l,s]=t,o=F(l),a=(y=s==null?void 0:s.metadata)==null?void 0:y.aggregate_result,h=L(),u=H(),g=s?U(s):[],i=(j=(M=(C=s==null?void 0:s.metadata)==null?void 0:C.aggregate_result)==null?void 0:M.messages.filter(J))!=null?j:[],p=((_=g.filter(r=>r.type==="chart"))!=null?_:[]).length!==i.length,x=u&&!p;let c=m.Running;return(a==null?void 0:a.status)==="success"?c=m.Finished:s!=null&&s.content.content_type!==z.ExecutionOutput||a!=null&&a.status!=="running"?c=m.Error:(o||!n)&&(c=m.Stopped),e.jsxs(e.Fragment,{children:[e.jsx(Q,{messages:t,status:c,isRequestActive:n}),x&&g.map((r,A)=>{const{type:T}=r;return T==="chart"&&!h?(r.fallback_to_image=!0,e.jsx(b,{children:e.jsx(E,{clientThreadId:d,visualization:r})},A)):e.jsx(b,{children:e.jsx(E,{clientThreadId:d,visualization:r})},A)}),!x&&s!=null&&e.jsx(P,{message:s})]})}var I;const b=D.div(I||(I=V(["mb-3 max-w-[80%]"])));function Q({messages:t,status:n,isRequestActive:d}){var f;const[l,s]=t,o=v(),a=(f=s==null?void 0:s.metadata)==null?void 0:f.aggregate_result,h=F(l),{data:u,isLoading:g}=W(w.ShowExpandedCodeView);let i=o.formatMessage({id:"message.tools.data-analysis.running",defaultMessage:"Analyzing"});if((a==null?void 0:a.status)==="success"?i=o.formatMessage({id:"message.tools.data-analysis.finished",defaultMessage:"Analyzed"}):s!=null&&s.content.content_type!==z.ExecutionOutput||a!=null&&a.status!=="running"?i=o.formatMessage({id:"message.tools.data-analysis.error",defaultMessage:"Analysis errored"}):(h||!d)&&(i=o.formatMessage({id:"message.tools.data-analysis.stopped",defaultMessage:"Analysis paused"})),!g){const p=K(l)!=null;return e.jsx(R,{status:n,highlightedCommand:i,showWorkUserSetting:u!=null?u:!1,hideOnlyIfNotInteractedWith:!0,children:p?e.jsxs("div",{className:"bg-token-main-surface-primary mt-0.5 mb-3 overflow-hidden rounded-b-xl",children:[e.jsx(q,{message:l,FormattedText:B,codeRendererClassName:"rounded-t-md rounded-b-none"}),s!=null&&e.jsx(G,{message:s})]}):null})}return null}export{es as DataAnalysisMessage};
//# sourceMappingURL=krgmgst7vx7uq7xs.js.map

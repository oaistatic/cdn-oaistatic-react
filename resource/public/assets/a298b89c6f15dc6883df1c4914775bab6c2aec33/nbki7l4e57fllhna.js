var E=Object.defineProperty,w=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var P=(a,e,t)=>e in a?E(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,h=(a,e)=>{for(var t in e||(e={}))T.call(e,t)&&P(a,t,e[t]);if(f)for(var t of f(e))x.call(e,t)&&P(a,t,e[t]);return a},C=(a,e)=>w(a,S(e));import{D as b,i as v,g as L,ae as k,r as c,ah as j,j as n,d as F}from"./n75kuy1cx6f5mogg.js";import{C as D}from"./i49tjgjhqtxc86vg.js";import{C as A,i as l,a as _}from"./fftookz3hme34txu.js";import{A as K}from"./oxyyvre5rxa3ulxo.js";import{ba as N,dv as U,i as I,j as q,E as H,L as z,p as G,k_ as V,P as Y,H as $}from"./ewse8exzafeu10ji.js";import"./ny10lj7zpuz89fvf.js";import"./kvd65smf2xr8kpw2.js";import"./bjzpeonqipke77vk.js";import"./fh2tsu8ocsi22jc3.js";import"./nnb0v70g00lhjclz.js";import"./jrb3eqknnmp1dh1j.js";import"./jibfal0i45wkyt1w.js";import"./jaupzjmp9wknd4io.js";import"./gccb361iq9z9fgrt.js";import"./chdemz4xlfbm1987.js";const g={pro:"chatgptpro",plus:"chatgptplusplan"},y={[_.SORA]:"sora_redirect",[_.OPERATOR]:"operator_redirect"};function B(a){l(a)&&(window.location.href=A[a])}const me=b(function(){const[e]=v(),t=L(),R=N(),{plan:s}=k(),o=e.get("checkout_from"),u=c.useRef(!1),r=U(),p=c.useMemo(()=>r==null?void 0:r.subscriptionAnalyticsParams,[r]),O=I(),i=q(O,"1719651090");if(!s||!(s in g))throw j("/");return c.useEffect(()=>{if(!r||u.current)return;if(u.current=!0,o==="vza493q"){r.hasPaidSubscription()&&r.isPro()?window.location.href=A[o]:i||t("/");return}(async()=>{const m=l(o)&&y[o]?y[o]:"purchase_plan_redirect";try{l(o)&&z.setItem(G.CheckoutFrom,o);const d=await D.getCheckoutLink({plan_name:g[s],billing_details:{currency:V}});Y.logEvent("Account Pay: Purchase Plan Redirect",C(h({},p),{plan:s,location:m})),window.location.href=d.url}catch(d){$(t,m)}})()},[t,R,s,o,p,i,r]),n.jsxs(n.Fragment,{children:[r&&o==="vza493q"&&i&&n.jsx(K,{currentAccount:r,onClose:()=>B(o),subtitle:M.operatorModalSubtitle,title:M.operatorModalTitle}),n.jsx("div",{className:"flex h-full w-full items-center justify-center",children:n.jsx(H,{})})]})}),M=F({operatorModalTitle:{id:"AccountPaymentModal.operatorModalTitle",defaultMessage:"Upgrade to ChatGPT Pro to try Operator"},operatorModalSubtitle:{id:"AccountPaymentModal.operatorModalSubtitle",defaultMessage:"Operator feature is currently only available to Pro users as an early research preview"}});export{me as default};
//# sourceMappingURL=nbki7l4e57fllhna.js.map

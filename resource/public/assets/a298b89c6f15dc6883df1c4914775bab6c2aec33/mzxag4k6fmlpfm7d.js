const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gy07ow2dyy5du4ny.js","assets/n75kuy1cx6f5mogg.js","assets/ewse8exzafeu10ji.js","assets/root-l2v84m1w.css","assets/ny10lj7zpuz89fvf.js","assets/conversation-small-hotcas67.css","assets/h2dwuj1m5ps9l7uv.js","assets/j2ui4c2m3nj8pqst.js","assets/lksc5q29mjlblqoo.js","assets/da0anzdj3bll2tbv.js","assets/mzj5jqjjpo006z7a.js","assets/nnb0v70g00lhjclz.js","assets/fh2tsu8ocsi22jc3.js","assets/jaupzjmp9wknd4io.js","assets/jtxj1xvdu5i7mvdh.js","assets/itlxv85z0uz6n4an.js"])))=>i.map(i=>d[i]);
var Ye=Object.defineProperty,Ze=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var De=(c,e,t)=>e in c?Ye(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t,G=(c,e)=>{for(var t in e||(e={}))tt.call(e,t)&&De(c,t,e[t]);if(qe)for(var t of qe(e))st.call(e,t)&&De(c,t,e[t]);return c},ye=(c,e)=>Ze(c,et(e));import{c as q,j as a,r as R,M as Q,L as ot,b as ze,g as nt}from"./n75kuy1cx6f5mogg.js";import{ej as He,ek as Je,O as T,i as me,j as Ve,e as A,bJ as it,r as Se,bm as lt,B as Ge,hC as We,jt as at,hy as rt,js as W,iM as ct,e_ as mt,gz as ft,f as dt,au as ut,fA as xt,aM as gt,r8 as Ue,cw as Be,fk as pt}from"./ewse8exzafeu10ji.js";import{kk as ht,kj as vt,mw as jt,kr as bt,lQ as yt,ks as St,kh as Ke,iz as Ct,e1 as K,mx as ce,iB as _t,kb as Ee,kf as $t,kg as wt,fI as kt,fJ as Pt,m1 as Mt,bj as Nt,bk as Et,my as It,ki as zt,mz as Tt,kp as Ft}from"./ny10lj7zpuz89fvf.js";import{D as Lt}from"./h2dwuj1m5ps9l7uv.js";import{P as At}from"./lksc5q29mjlblqoo.js";import{S as Ot,u as Rt}from"./gy07ow2dyy5du4ny.js";import{u as Ie,P as qt,a as Dt}from"./cn9z0lgeg3afumh6.js";import"./j2ui4c2m3nj8pqst.js";import"./da0anzdj3bll2tbv.js";import"./mzj5jqjjpo006z7a.js";import"./nnb0v70g00lhjclz.js";import"./fh2tsu8ocsi22jc3.js";import"./jaupzjmp9wknd4io.js";import"./jtxj1xvdu5i7mvdh.js";const Ut=He(()=>Je(()=>import("./gy07ow2dyy5du4ny.js").then(c=>c.a),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])).then(c=>c.SnorlaxFileModal));function Bt(c){"use forget";const e=q.c(11),{project:t,onNavigateToConversation:f}=c;ht(t.id);let n;e[0]!==t?(n=()=>t.conversations$().all$(),e[0]=t,e[1]=n):n=e[1];const i=T(n);let o;e[2]!==t?(o=()=>t.conversations$().canShowConversations$(),e[2]=t,e[3]=o):o=e[3];const r=T(o);let m;e[4]!==r||e[5]!==i||e[6]!==f||e[7]!==t?(m=r&&a.jsx(Ht,{items:i,project:t,onNavigateToConversation:f}),e[4]=r,e[5]=i,e[6]=f,e[7]=t,e[8]=m):m=e[8];let s;return e[9]!==m?(s=a.jsx("section",{children:m}),e[9]=m,e[10]=s):s=e[10],s}function Ht(c){"use forget";var D,L;const e=q.c(47),{project:t,items:f,onNavigateToConversation:n}=c,i=me();let o;e[0]!==i?(o=Ve(i,"773249106"),e[0]=i,e[1]=o):o=e[1];const r=o;let m;e[2]!==t?(m=()=>t.conversations$().canFetchMore$(),e[2]=t,e[3]=m):m=e[3];const s=T(m);let x;e[4]!==t?(x=()=>t.gizmo$(),e[4]=t,e[5]=x):x=e[5];const l=T(x);let g;e[6]!==t?(g=()=>t.conversations$().awaitingManualRetry$(),e[6]=t,e[7]=g):g=e[7];const d=T(g);let h;e[8]!==t?(h=()=>t.conversations$().fetchMore$,e[8]=t,e[9]=h):h=e[9];const p=T(h);let y;e[10]!==t?(y=()=>t.conversations$().cursor$(),e[10]=t,e[11]=y):y=e[11];const v=T(y);let w;e[12]!==t?(w=()=>t.conversations$().isLoading$(),e[12]=t,e[13]=w):w=e[13];const u=T(w);let j;e[14]!==t?(j=()=>t.isShared$(),e[14]=t,e[15]=j):j=e[15];const P=T(j);let S;e[16]!==f||e[17]!==((D=l==null?void 0:l.gizmo)==null?void 0:D.author)?(S=f==null?void 0:f.some(U=>{var V,J;return"owner"in U&&((V=U.owner)==null?void 0:V.user_id)!==((J=l==null?void 0:l.gizmo)==null?void 0:J.author.user_id)}),e[16]=f,e[17]=(L=l==null?void 0:l.gizmo)==null?void 0:L.author,e[18]=S):S=e[18];const $=r&&(P||S),b=u&&"skeleton";let C;e[19]!==b?(C=A("divide-token-bg-tertiary group divide-y",b),e[19]=b,e[20]=C):C=e[20];let N;e[21]!==f||e[22]!==n||e[23]!==l||e[24]!==$?(N=l&&f&&f.map(U=>a.jsx("li",{className:"group hover:bg-token-interactive-bg-secondary-hover active:bg-token-interactive-bg-secondary-press flex min-h-16 cursor-pointer items-center p-3 text-sm select-none",children:a.jsx(Wt,{conversation:U,project:l,showAvatar:$!=null?$:!1,onNavigateToConversation:n})},U.id)),e[21]=f,e[22]=n,e[23]=l,e[24]=$,e[25]=N):N=e[25];let E;e[26]!==s||e[27]!==p||e[28]!==u?(E=!u&&s&&a.jsx(Ge,{type:"button",onClick:p,className:"keyboard-not-focused:sr-only",children:a.jsx(Q,{id:"project.conversation-list.load-more",defaultMessage:"Load more conversations"})}),e[26]=s,e[27]=p,e[28]=u,e[29]=E):E=e[29];let M;e[30]!==d||e[31]!==t?(M=d&&a.jsx(We,{type:"normal",className:"mt-2",dangerCtaText:"Try again",onDangerCtaClick:()=>{t.conversations$().awaitingManualRetry$.set(!1)},content:a.jsx(Q,{id:"project.conversation-list.awaiting-manual-retry",defaultMessage:"Loading more conversations failed. Please try again."}),icon:a.jsx(jt,{className:"icon"})}),e[30]=d,e[31]=t,e[32]=M):M=e[32];let I;e[33]!==u?(I=u&&a.jsx(Jt,{}),e[33]=u,e[34]=I):I=e[34];let F;e[35]!==s||e[36]!==v||e[37]!==p?(F=a.jsx(Gt,{canFetchMore:s,fetchMore:p},v),e[35]=s,e[36]=v,e[37]=p,e[38]=F):F=e[38];let O;return e[39]!==u||e[40]!==C||e[41]!==N||e[42]!==E||e[43]!==M||e[44]!==I||e[45]!==F?(O=a.jsxs("ol",{className:C,"aria-busy":u,children:[N,E,M,I,F]}),e[39]=u,e[40]=C,e[41]=N,e[42]=E,e[43]=M,e[44]=I,e[45]=F,e[46]=O):O=e[46],O}function Jt(){"use forget";const c=q.c(6),e=ze();let t;c[0]!==e?(t=()=>Array.from({length:2},(o,r)=>({id:r,title:e.formatMessage({id:"project.conversation-list.loading-title",defaultMessage:"Loading conversation title..."}),snippet:e.formatMessage({id:"project.conversation-list.loading-snippet",defaultMessage:"Loading conversation snippet..."})})),c[0]=e,c[1]=t):t=c[1];const[f]=R.useState(t);let n;c[2]!==f?(n=f.map(Vt),c[2]=f,c[3]=n):n=c[3];let i;return c[4]!==n?(i=a.jsx(a.Fragment,{children:n}),c[4]=n,c[5]=i):i=c[5],i}function Vt(c){return a.jsx("li",{className:"mt-1 flex min-h-15 items-center p-3 text-sm",inert:!0,"aria-hidden":!0,children:a.jsx(Qe,{conversationTitle:c.title,showAvatar:!0,monogram:null,snippet:c.snippet,skeleton:!0})},c.id)}function Gt(c){"use forget";const e=q.c(8),{canFetchMore:t,fetchMore:f}=c;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={threshold:1},e[0]=n):n=e[0];const[i,o]=yt(n);let r,m;if(e[1]!==t||e[2]!==f||e[3]!==i?(r=()=>{t&&i&&f()},m=[t,f,i],e[1]=t,e[2]=f,e[3]=i,e[4]=r,e[5]=m):(r=e[4],m=e[5]),R.useEffect(r,m),!t)return null;let s;return e[6]!==o?(s=a.jsx("div",{className:"min-h-0 w-full",inert:!0,ref:o}),e[6]=o,e[7]=s):s=e[7],s}const Wt=c=>{"use forget";var N,E;const e=q.c(36),{conversation:t,project:f,showAvatar:n,onNavigateToConversation:i}=c,o=(N=it(t.id,Kt))!=null?N:t.title,[r,m]=R.useState(!1);let s,x;e[0]!==t.id?(s=()=>at(bt,{editTitleInMainScreen:M=>{const{serverThreadId:I}=M;I===t.id&&m(!0)}}),x=[t.id],e[0]=t.id,e[1]=s,e[2]=x):(s=e[1],x=e[2]),R.useEffect(s,x);const l=me(),{snippet:g}=t;let d,h,p,y,v;if(e[3]!==t||e[4]!==l||e[5]!==f.gizmo){const M=(E=Se(l))==null?void 0:E.normalizedAccountUserId;d="owner"in t?t.owner:null,y=d==null?void 0:d.user_id,h=d==null?void 0:d.name,p=d==null?void 0:d.user_email,v=lt(t.id,{project:f.gizmo,ownerUserId:y,accountUserId:M}),e[3]=t,e[4]=l,e[5]=f.gizmo,e[6]=d,e[7]=h,e[8]=p,e[9]=y,e[10]=v}else d=e[6],h=e[7],p=e[8],y=e[9],v=e[10];const w=v;let u;e[11]!==t||e[12]!==r?(u=r?a.jsx(vt,{conversationId:t.id,historyConversationResponse:t,onClose:()=>{m(!1)}}):null,e[11]=t,e[12]=r,e[13]=u):u=e[13];let j;e[14]!==t||e[15]!==r?(j=!r&&a.jsx(Ot,{conversation:t,isNewProjectPage:!0}),e[14]=t,e[15]=r,e[16]=j):j=e[16];const P=g?!1:"snippet";let S;e[17]!==d||e[18]!==h||e[19]!==p||e[20]!==y?(S=d&&h&&y?{label:h,id:y,sublabel:p}:null,e[17]=d,e[18]=h,e[19]=p,e[20]=y,e[21]=S):S=e[21];let _;e[22]!==o||e[23]!==n||e[24]!==g||e[25]!==u||e[26]!==j||e[27]!==P||e[28]!==S?(_=a.jsx(Qe,{conversationTitle:o,editor:u,overflowMenu:j,snippet:g,skeleton:P,showAvatar:n,monogram:S}),e[22]=o,e[23]=n,e[24]=g,e[25]=u,e[26]=j,e[27]=P,e[28]=S,e[29]=_):_=e[29];const $=_;if(r)return $;let b;e[30]!==i?(b=M=>{i==null||i(),(M.target instanceof HTMLElement&&M.target.dataset.preventDefault||M.target instanceof SVGElement)&&M.preventDefault()},e[30]=i,e[31]=b):b=e[31];let C;return e[32]!==$||e[33]!==w||e[34]!==b?(C=a.jsx(ot,{to:w,draggable:!1,className:"w-full",onClick:b,children:$}),e[32]=$,e[33]=w,e[34]=b,e[35]=C):C=e[35],C};function Qe({showAvatar:c,monogram:e,editor:t,overflowMenu:f,conversationTitle:n,skeleton:i,snippet:o}){return a.jsxs("div",{className:A("flex w-full items-center gap-4",i&&"group skeleton"),children:[c&&a.jsx(St,{monogram:e}),a.jsxs("div",{className:"grow overflow-hidden",children:[t||a.jsx("div",{className:A("text-sm font-medium",i===!0&&"skeleton-child w-fit min-w-[50%]"),children:n}),a.jsx("div",{className:A("text-token-text-secondary min-h-0 truncate text-sm",i&&"skeleton-child mt-px w-fit"),children:o})]}),f]})}function Kt(c){return c==null?void 0:c.title}function Qt(c){"use forget";var N,E;const e=q.c(34),{onRequestEdit:t,onRequestAddFiles:f,onRequestUpdateProject:n,projectData:i}=c,o=me(),r=R.use(Ke),m=T(r.isSkeleton$),{canEdit:s}=rt(i),x=(N=Se(o))==null?void 0:N.normalizedAccountUserId,l=((E=i==null?void 0:i.gizmo.author)==null?void 0:E.user_id)===x;let g;e[0]!==r?(g=()=>{var M;return!!((M=r.conversations$().all$())!=null&&M.length)},e[0]=r,e[1]=g):g=e[1];const d=T(g);let h;e[2]!==r?(h=()=>r.title$(),e[2]=r,e[3]=h):h=e[3];const p=T(h),y=m&&"group skeleton",v=!d&&"max-md:flex-1 max-md:flex-col max-md:items-center max-md:justify-center max-md:gap-1.5",w=d&&"max-md:flex-col max-md:gap-4";let u;e[4]!==y||e[5]!==v||e[6]!==w?(u=A("flex justify-between",y,v,w),e[4]=y,e[5]=v,e[6]=w,e[7]=u):u=e[7];let j;e[8]!==s||e[9]!==l||e[10]!==t||e[11]!==n||e[12]!==r?(j=a.jsx(Zt,{canEditEmoji:s,canEditName:l,project:r,onRequestEdit:t,onRequestUpdateProject:n}),e[8]=s,e[9]=l,e[10]=t,e[11]=n,e[12]=r,e[13]=j):j=e[13];const P=d?"max-md:w-full max-md:flex-col":"max-md:w-full max-md:flex-col max-md:items-center";let S;e[14]!==P?(S=A("flex items-start gap-2",P),e[14]=P,e[15]=S):S=e[15];let _;e[16]!==s||e[17]!==f||e[18]!==r||e[19]!==i?(_=a.jsx(Xt,{canEdit:s,project:r,projectData:i,onRequestAddFiles:f}),e[16]=s,e[17]=f,e[18]=r,e[19]=i,e[20]=_):_=e[20];let $;e[21]!==s||e[22]!==m||e[23]!==r.id||e[24]!==p?($=!1,e[21]=s,e[22]=m,e[23]=r.id,e[24]=p,e[25]=$):$=e[25];let b;e[26]!==_||e[27]!==$||e[28]!==S?(b=a.jsxs("div",{className:S,children:[_,$]}),e[26]=_,e[27]=$,e[28]=S,e[29]=b):b=e[29];let C;return e[30]!==b||e[31]!==u||e[32]!==j?(C=a.jsxs("div",{className:u,children:[j,b]}),e[30]=b,e[31]=u,e[32]=j,e[33]=C):C=e[33],C}function Xt(c){"use forget";const e=q.c(29),{canEdit:t,project:f,projectData:n,onRequestAddFiles:i}=c;let o;e[0]!==n?(o=n!=null?n:{},e[0]=n,e[1]=o):o=e[1];const{files:r}=o;let m;e[2]!==r?(m=r===void 0?[]:r,e[2]=r,e[3]=m):m=e[3];const s=m,x=!s.length,l=T(f.isSkeleton$);let g,d;if(!l&&x&&!t)return null;if(x){let u;e[4]!==t||e[5]!==n?(u=n?a.jsx(Q,G({},t?K.addFilesButtonLabel:K.viewFilesButtonLabel)):null,e[4]=t,e[5]=n,e[6]=u):u=e[6],g=u,d=null}else{let u,j;if(e[7]!==s||e[8]!==(n==null?void 0:n.gizmo)){const S=s.slice(0,3);let _;e[12]!==s.length?(_=a.jsx(Q,ye(G({},K.filesCount),{values:{count:s.length}})),e[12]=s.length,e[13]=_):_=e[13],g=_,u="isolate inline-flex items-center max-sm:sr-only";let $;e[14]!==(n==null?void 0:n.gizmo)?($=(b,C)=>a.jsx(Yt,{file:b,index:C,gizmoId:n==null?void 0:n.gizmo.id},b.file_id),e[14]=n==null?void 0:n.gizmo,e[15]=$):$=e[15],j=S.map($),e[7]=s,e[8]=n==null?void 0:n.gizmo,e[9]=u,e[10]=j,e[11]=g}else u=e[9],j=e[10],g=e[11];let P;e[16]!==u||e[17]!==j?(P=a.jsx("div",{className:u,children:j}),e[16]=u,e[17]=j,e[18]=P):P=e[18],d=P}const h=l&&"skeleton-child w-20";let p;e[19]!==h?(p=A("max-md:w-fit",h,"group/project-control-tile"),e[19]=h,e[20]=p):p=e[20];const y=l&&"";let v;e[21]!==y?(v=A(y,"gap-1.5 text-token-text-secondary"),e[21]=y,e[22]=v):v=e[22];let w;return e[23]!==d||e[24]!==g||e[25]!==i||e[26]!==p||e[27]!==v?(w=a.jsxs(Ge,{color:"secondary",onClick:i,className:p,contentWrapperClassName:v,children:[d,g]}),e[23]=d,e[24]=g,e[25]=i,e[26]=p,e[27]=v,e[28]=w):w=e[28],w}function Yt(c){"use forget";const e=q.c(20),{file:t,index:f,gizmoId:n}=c,i=t.name;let o;e[0]!==t.file_id||e[1]!==i?(o=ct(i)&&t.file_id!=null,e[0]=t.file_id,e[1]=i,e[2]=o):o=e[2];const r=o;let m;e[3]!==t.file_id||e[4]!==i||e[5]!==n||e[6]!==r?(m=r&&a.jsx($t,{fileName:i,fileId:t.file_id,gizmoId:n,className:"[box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]"}),e[3]=t.file_id,e[4]=i,e[5]=n,e[6]=r,e[7]=m):m=e[7];const s=m,x=f>0&&"-ms-2";let l;e[8]!==x?(l=A("border-token-bg-primary group-hover/project-control-tile:border-token-bg-tertiary relative size-5 overflow-hidden rounded-md border-2",x),e[8]=x,e[9]=l):l=e[9];const g=10-f;let d;e[10]!==g?(d={zIndex:g},e[10]=g,e[11]=d):d=e[11];let h;e[12]!==t.name||e[13]!==s?(h=s||a.jsx(wt,{className:"h-4 w-4 shrink-0 rounded-none [box-shadow:0px_4px_16px_0px_rgba(0,0,0,0.05)]",glyphClassName:"h-3 w-3",filename:t.name,contextConnectorInfo:void 0}),e[12]=t.name,e[13]=s,e[14]=h):h=e[14];let p;return e[15]!==t.file_id||e[16]!==l||e[17]!==d||e[18]!==h?(p=a.jsx("span",{className:l,style:d,children:h},t.file_id),e[15]=t.file_id,e[16]=l,e[17]=d,e[18]=h,e[19]=p):p=e[19],p}function Zt(c){"use forget";const e=q.c(49),{canEditEmoji:t,canEditName:f,onRequestEdit:n,onRequestUpdateProject:i,project:o}=c;let r;e[0]!==o?(r=()=>o.theme$(),e[0]=o,e[1]=r):r=e[1];const m=Ie(r);let s;e[2]!==o?(s=()=>o.emoji$(),e[2]=o,e[3]=s):s=e[3];const x=Ie(s);let l;e[4]!==o?(l=()=>o.title$(),e[4]=o,e[5]=l):l=e[5];const g=Ie(l);let d;e[6]!==o?(d=()=>o.status$(),e[6]=o,e[7]=d):d=e[7];const h=T(d),p=T(o.isSkeleton$),y=T(g),v=ze(),w=me();let u;e[8]!==w||e[9]!==x||e[10]!==o||e[11]!==m||e[12]!==g?(u=()=>{W(()=>o.theme$(),L=>m.set(L)),W(()=>o.emoji$(),L=>x.set(L)),W(()=>o.title$(),L=>g.set(L)),W(()=>m,L=>Ee({ctx:w,id:o.id,theme:L()})),W(()=>x,L=>Ee({ctx:w,id:o.id,emoji:L()})),W(()=>g,L=>Ee({ctx:w,id:o.id,name:L()}))},e[8]=w,e[9]=x,e[10]=o,e[11]=m,e[12]=g,e[13]=u):u=e[13],R.useEffect(u);const j=h==="empty"?"max-md:flex-col":"";let P;e[14]!==j?(P=A("flex items-center gap-1.5 max-md:-translate-x-1",j),e[14]=j,e[15]=P):P=e[15];let S;e[16]!==x||e[17]!==i||e[18]!==m||e[19]!==g?(S=async(L,U)=>{!L&&U&&await(i==null?void 0:i({theme:m(),emoji:x(),name:g()}))},e[16]=x,e[17]=i,e[18]=m,e[19]=g,e[20]=S):S=e[20];const _=ce(S),$=!t;let b;e[21]!==x||e[22]!==o.isShared$||e[23]!==o.isSkeleton$||e[24]!==$||e[25]!==m?(b=a.jsx(qt,{className:"ms-0! [--focus-outline-margin:-4px] disabled:cursor-default! disabled:opacity-100!",disabled:$,emoji$:x,isShared$:o.isShared$,isSkeleton$:o.isSkeleton$,theme$:m,size:"lg",strict:!0}),e[21]=x,e[22]=o.isShared$,e[23]=o.isSkeleton$,e[24]=$,e[25]=m,e[26]=b):b=e[26];let C;e[27]!==x||e[28]!==b||e[29]!==_||e[30]!==m?(C=a.jsx(Dt,{theme$:m,emoji$:x,onOpenChange:_,children:b}),e[27]=x,e[28]=b,e[29]=_,e[30]=m,e[31]=C):C=e[31];const N=!f,E=p&&"skeleton-child";let M;e[32]!==E?(M=A("min-w-0",E),e[32]=E,e[33]=M):M=e[33];let I;e[34]!==v||e[35]!==y?(I=v.formatMessage({id:"edit-title",defaultMessage:"Edit the title of {projectName}"},{projectName:y}),e[34]=v,e[35]=y,e[36]=I):I=e[36];let F;e[37]!==y?(F=a.jsx("h1",{className:"md:text-page-header text-balance [--text-lg--line-height:28px] [--text-lg:22px] max-md:text-lg max-md:font-normal",children:y}),e[37]=y,e[38]=F):F=e[38];let O;e[39]!==n||e[40]!==N||e[41]!==M||e[42]!==I||e[43]!==F?(O=a.jsx("button",{disabled:N,onClick:n,name:"project-title",className:M,"aria-label":I,children:F}),e[39]=n,e[40]=N,e[41]=M,e[42]=I,e[43]=F,e[44]=O):O=e[44];let D;return e[45]!==C||e[46]!==O||e[47]!==P?(D=a.jsxs("div",{className:P,children:[C,O]}),e[45]=C,e[46]=O,e[47]=P,e[48]=D):D=e[48],D}function es(c){"use forget";const e=q.c(38),{children:t,composer:f,composerLayout:n,disclaimer:i,postComposerContent:o,conversations:r,sizing:m,dragOverlay:s,status:x}=c,l=x==="has-conversations"?"top":"center",g=x==="empty"&&"items-center max-md:[align-items:unset] max-md:[--composer-container-flex:0] max-md:[--composer-container-height:auto]";let d;e[0]!==g?(d=A("flex min-h-full",g),e[0]=g,e[1]=d):d=e[1];const h=x!=="has-conversations"?"grid-rows-[1fr_minmax(0,180px)] max-md:grid-rows-[1fr_0]":"grid-rows-[auto_min-content_min-content]";let p;e[2]!==h?(p=A("grid h-full [width:min(90cqw,var(--thread-content-max-width))] flex-1",h),e[2]=h,e[3]=p):p=e[3];const y=x!=="empty"&&"gap-8 pb-6",v=l==="top"?"mt-13 self-start max-md:mt-0":"self-center max-md:h-full";let w;e[4]!==y||e[5]!==v?(w=A("flex min-w-0 flex-col",y,v),e[4]=y,e[5]=v,e[6]=w):w=e[6];const u=x==="empty"?"max-md:h-full max-md:justify-between md:gap-8":"content-fade-top";let j;e[7]!==u?(j=A("offset-padding-top-4 sticky top-(--header-height) z-10 flex flex-col gap-[inherit] max-md:top-0 md:[--offset-y-bottom:-30px]",u),e[7]=u,e[8]=j):j=e[8];let P;e[9]!==f||e[10]!==n?(P=n==="top"&&a.jsx(a.Fragment,{children:f}),e[9]=f,e[10]=n,e[11]=P):P=e[11];let S;e[12]!==t||e[13]!==o||e[14]!==P||e[15]!==j?(S=a.jsxs("div",{className:j,children:[t,P,o]}),e[12]=t,e[13]=o,e[14]=P,e[15]=j,e[16]=S):S=e[16];let _;e[17]!==r||e[18]!==s||e[19]!==S||e[20]!==w?(_=a.jsxs("div",{className:w,children:[S,r,s]}),e[17]=r,e[18]=s,e[19]=S,e[20]=w,e[21]=_):_=e[21];let $;e[22]===Symbol.for("react.memo_cache_sentinel")?($=a.jsx("div",{}),e[22]=$):$=e[22];let b;e[23]!==f||e[24]!==n||e[25]!==i||e[26]!==x?(b=(n==="bottom"||i)&&a.jsxs("div",{className:A("content-fade sticky flex w-full flex-col gap-1 [--content-fade-top:-15px] md:px-[60px]",n==="bottom"&&"[--composer-container-height:auto] [--content-fade-top:-40px] max-md:p-0 max-md:pb-1",i?x==="empty"?"bottom-0 max-md:pt-2 md:fixed md:start-0 md:end-0":"bottom-0":"before:bg-token-bg-primary relative bottom-2 p-2 before:absolute before:inset-0 before:top-full before:h-2 before:w-full before:content-['']"),children:[n==="bottom"&&f,i]}),e[23]=f,e[24]=n,e[25]=i,e[26]=x,e[27]=b):b=e[27];let C;e[28]!==_||e[29]!==b||e[30]!==p?(C=a.jsxs(_t,{className:p,children:[_,$,b]}),e[28]=_,e[29]=b,e[30]=p,e[31]=C):C=e[31];let N;e[32]!==m||e[33]!==C?(N=a.jsx(Ct,ye(G({verticalMargin:"none",verticalPadding:"none",horizontalPadding:"standard"},m),{children:C})),e[32]=m,e[33]=C,e[34]=N):N=e[34];let E;return e[35]!==N||e[36]!==d?(E=a.jsx("div",{className:d,children:N}),e[35]=N,e[36]=d,e[37]=E):E=e[37],E}const ts=He(()=>Je(()=>import("./itlxv85z0uz6n4an.js"),__vite__mapDeps([15,1,2,3,4,5])).then(c=>c.ProjectJoinModal));function js(c){"use forget";var Te,Fe,Le,Ae,Oe,Re;const e=q.c(104),{clientThreadId:t,gizmoId:f,currentModelId:n,onRequestCompletion:i}=c,o=me(),r=kt();let m;e[0]!==o||e[1]!==f||e[2]!==r?(m=Pt(o)(f,r),e[0]=o,e[1]=f,e[2]=r,e[3]=m):m=e[3];const s=m;let x;e[4]!==s?(x=()=>s.serverState$().data,e[4]=s,e[5]=x):x=e[5];const l=T(x);let g;e[6]!==s?(g=()=>s.status$(),e[6]=s,e[7]=g):g=e[7];const d=T(g);let h;e[8]!==o?(h=(Fe=(Te=mt(o))==null?void 0:Te.user)==null?void 0:Fe.email,e[8]=o,e[9]=h):h=e[9];const p=h;let y;e[10]!==o?(y=(Le=Se(o))==null?void 0:Le.normalizedAccountUserId,e[10]=o,e[11]=y):y=e[11];const v=y;let w;e[12]!==s||e[13]!==l||e[14]!==p||e[15]!==v?(w=()=>!v||!p||!l||gt(()=>s.serverState$().isFetching)?!1:!Ue({gizmo:l,user_id:v}),e[12]=s,e[13]=l,e[14]=p,e[15]=v,e[16]=w):w=e[16];const[u,j]=R.useState(w),P=Ve(o,"773249106");let S;e[17]!==s.lastScrollPosition$?(S=()=>{var z;const k=document.querySelector("main");s.lastScrollPosition$.set((z=k==null?void 0:k.scrollTop)!=null?z:null)},e[17]=s.lastScrollPosition$,e[18]=S):S=e[18];const _=S;let $,b;e[19]!==s||e[20]!==_?($=()=>{var re;const k=new AbortController,z=s.lastScrollPosition$();s.lastScrollPosition$.set(null);const B=document.querySelector("main");return z!=null&&B&&(B.scrollTop=z,B.focus()),"navigation"in window&&((re=window.navigation)==null||re.addEventListener("navigate",()=>_(),{signal:k.signal})),()=>{k.abort()}},b=[s,_],e[19]=s,e[20]=_,e[21]=$,e[22]=b):($=e[21],b=e[22]),R.useEffect($,b);let C;e[23]!==i?(C=k=>{i(Nt(k))},e[23]=i,e[24]=C):C=e[24];const N=ce(C);let E;e[25]!==i?(E=async k=>{const z=await Et(k);i(z)},e[25]=i,e[26]=E):E=e[26];const M=ce(E);let I;e[27]!==o||e[28]!==s||e[29]!==l?(I=()=>{l&&Be(o,Ut,{gizmo:l,project:s})},e[27]=o,e[28]=s,e[29]=l,e[30]=I):I=e[30];const F=ce(I),O=ze(),D=Se(o),U=!(D&&!D.isTeam()&&!D.isEnterprisey()),V=ft(),J=dt(),[Ce,fe]=R.useState(!1),Xe=ut(),{onDropConversation:_e,canDropConversation:H}=Rt(void 0,f),$e=nt();let de;e[31]===Symbol.for("react.memo_cache_sentinel")?(de=[],e[31]=de):de=e[31],R.useEffect(ss,de);let ue,xe;e[32]!==V?(ue=()=>{const k=It(V),z=k();return k.set(!0),()=>{k.set(z)}},xe=[V],e[32]=V,e[33]=ue,e[34]=xe):(ue=e[33],xe=e[34]),R.useEffect(ue,xe);let ge;e[35]!==o||e[36]!==O||e[37]!==s||e[38]!==l?(ge=()=>{l&&Be(o,zt,{submitButtonTitle:O.formatMessage(K.projectSettingsSubmitButton),gizmo:l,project:s})},e[35]=o,e[36]=O,e[37]=s,e[38]=l,e[39]=ge):ge=e[39];const we=ce(ge);let pe;e[40]!==s||e[41]!==J?(pe=async k=>{try{await s.queueUpdate$(k)}catch(z){const re=pt(z);J==null||J.warning(re!=null?re:"Error",{duration:5,hasCloseButton:!0})}},e[40]=s,e[41]=J,e[42]=pe):pe=e[42];const ke=ce(pe);let he;e[43]!==s||e[44]!==v?(he=()=>{if(v)return W(()=>({data:s.serverState$().data,isFetching:s.serverState$().isFetching}),k=>{const{data:z,isFetching:B}=k;z&&!B&&!Ue({gizmo:z,user_id:v})&&j(!0)})},e[43]=s,e[44]=v,e[45]=he):he=e[45];let ve;if(e[46]!==s||e[47]!==p||e[48]!==v?(ve=[v,p,s],e[46]=s,e[47]=p,e[48]=v,e[49]=ve):ve=e[49],R.useEffect(he,ve),u&&l&&P){let k;e[50]!==$e?(k=()=>$e("/"),e[50]=$e,e[51]=k):k=e[51];let z;e[52]===Symbol.for("react.memo_cache_sentinel")?(z=()=>j(!1),e[52]=z):z=e[52];let B;return e[53]!==l||e[54]!==k?(B=a.jsx(ts,{onClose:k,onJoinProjectSuccess:z,projectData:l}),e[53]=l,e[54]=k,e[55]=B):B=e[55],B}let je;e[56]!==((Ae=l==null?void 0:l.gizmo)==null?void 0:Ae.conversation_copy_in_progress)?(je=((Oe=l==null?void 0:l.gizmo)==null?void 0:Oe.conversation_copy_in_progress)===!0?a.jsx(We,{type:"info",content:a.jsx(Q,G({},K.projectCopyInProgressBanner)),icon:a.jsx(xt,{className:"text-token-text-secondary h-5 w-5"})}):null,e[56]=(Re=l==null?void 0:l.gizmo)==null?void 0:Re.conversation_copy_in_progress,e[57]=je):je=e[57];const Pe=je;let X;e[58]!==H?(X=k=>{k.preventDefault(),H&&fe(!0)},e[58]=H,e[59]=X):X=e[59];let Y;e[60]!==H||e[61]!==_e?(Y=k=>{k.preventDefault(),H&&(fe(!1),_e())},e[60]=H,e[61]=_e,e[62]=Y):Y=e[62];let Z,ee;e[63]!==H?(Z=k=>{k.preventDefault(),H&&fe(!0)},ee=k=>{k.preventDefault(),H&&fe(!1)},e[63]=H,e[64]=Z,e[65]=ee):(Z=e[64],ee=e[65]);const Me=d==="empty"||Xe?"top":"bottom",Ne=d==="empty"?"center":"bottom";let te;e[66]!==t||e[67]!==n||e[68]!==N||e[69]!==M||e[70]!==Ne?(te=a.jsx(At,{clientThreadId:t,currentModelId:n,hideHeader:!0,isProjectThread:!0,isNewThread:!0,layoutMode:Ne,onContinueGenerating:N,onRequestCompletion:M}),e[66]=t,e[67]=n,e[68]=N,e[69]=M,e[70]=Ne,e[71]=te):te=e[71];let se;e[72]!==t||e[73]!==U?(se=U&&a.jsx("div",{className:"text-token-text-secondary flex w-full items-center justify-center text-center text-xs text-pretty md:pb-0.5",children:a.jsx(Tt,{clientThreadId:t})}),e[72]=t,e[73]=U,e[74]=se):se=e[74];let oe;e[75]!==s||e[76]!==_?(oe=a.jsx(Bt,{project:s,onNavigateToConversation:_}),e[75]=s,e[76]=_,e[77]=oe):oe=e[77];let ne;e[78]!==Ce||e[79]!==l?(ne=Ce&&a.jsx(os,{gizmo:l}),e[78]=Ce,e[79]=l,e[80]=ne):ne=e[80];let ie;e[81]!==F||e[82]!==we||e[83]!==ke||e[84]!==l?(ie=a.jsx(Qt,{projectData:l,onRequestEdit:we,onRequestAddFiles:F,onRequestUpdateProject:ke}),e[81]=F,e[82]=we,e[83]=ke,e[84]=l,e[85]=ie):ie=e[85];let le;e[86]!==Pe||e[87]!==d||e[88]!==Me||e[89]!==te||e[90]!==se||e[91]!==oe||e[92]!==ne||e[93]!==ie?(le=a.jsx(es,{status:d,composerLayout:Me,composer:te,disclaimer:se,postComposerContent:Pe,conversations:oe,dragOverlay:ne,children:ie}),e[86]=Pe,e[87]=d,e[88]=Me,e[89]=te,e[90]=se,e[91]=oe,e[92]=ne,e[93]=ie,e[94]=le):le=e[94];let ae;e[95]!==X||e[96]!==Y||e[97]!==Z||e[98]!==ee||e[99]!==le?(ae=a.jsx("div",{onDragOver:X,onDrop:Y,onDragEnter:Z,onDragLeave:ee,children:le}),e[95]=X,e[96]=Y,e[97]=Z,e[98]=ee,e[99]=le,e[100]=ae):ae=e[100];let be;return e[101]!==s||e[102]!==ae?(be=a.jsx(Ke,{value:s,children:ae}),e[101]=s,e[102]=ae,e[103]=be):be=e[103],be}function ss(){Mt()}function os(c){"use forget";var m;const e=q.c(6),{gizmo:t}=c;let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=a.jsx(Ft,{className:"h-12 w-12",style:{color:"var(--icon-accent)"}}),e[0]=f):f=e[0];const n=(m=t==null?void 0:t.gizmo.display.name)!=null?m:"project";let i;e[1]!==n?(i=a.jsx("h3",{className:"text-center",children:a.jsx(Q,ye(G({},K.addConversationToNamedSnorlax),{values:{projectName:n}}))}),e[1]=n,e[2]=i):i=e[2];let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=a.jsx("h4",{className:"text-center",children:a.jsx(Q,G({},K.moveConversation))}),e[3]=o):o=e[3];let r;return e[4]!==i?(r=a.jsxs(Lt,{children:[f,i,o]}),e[4]=i,e[5]=r):r=e[5],r}export{js as ProjectHomePage};
//# sourceMappingURL=mzxag4k6fmlpfm7d.js.map

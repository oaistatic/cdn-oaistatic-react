const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/xri1sxtp58mqyc60.js","assets/ewse8exzafeu10ji.js","assets/n75kuy1cx6f5mogg.js","assets/root-l2v84m1w.css","assets/ny10lj7zpuz89fvf.js","assets/conversation-small-hotcas67.css","assets/d848smmy6kyt1xtw.js","assets/i6g9x1do61nq8cso.js","assets/gva4acr7rlqtafux.js","assets/k5jwqq80a0png05z.js","assets/czwq62q5rbh9b1yi.js","assets/gowyl4x2bs7hfi4a.js","assets/em5q5yhbyv41ft0j.js","assets/da0anzdj3bll2tbv.js","assets/mzj5jqjjpo006z7a.js","assets/nnb0v70g00lhjclz.js","assets/fh2tsu8ocsi22jc3.js","assets/jaupzjmp9wknd4io.js","assets/jtxj1xvdu5i7mvdh.js","assets/j2ui4c2m3nj8pqst.js","assets/h2dwuj1m5ps9l7uv.js","assets/kg55sov6c624o43c.js","assets/lksc5q29mjlblqoo.js","assets/7pd84i0fdyounev7.js","assets/ca3g7gcaj954pu3h.js","assets/kj8rd4pu8k32z2dy.js","assets/d65yyyom1modmtdi.js","assets/d5vv6ct7n3prp63a.js","assets/mv12q8bkkijgf9zf.js","assets/3mp3j06lb1q5ttzm.js","assets/gy07ow2dyy5du4ny.js","assets/glbdmfivxjhm6c41.js","assets/becq063jn9g9jiv8.js","assets/fe5a9tjc2a92da9h.js","assets/lj2w9b5ogapjsanu.js","assets/isawnddp9c4hh66p.js","assets/jibfal0i45wkyt1w.js","assets/i49tjgjhqtxc86vg.js","assets/llpf7zhht8g5pr01.js","assets/jrb3eqknnmp1dh1j.js","assets/kvd65smf2xr8kpw2.js","assets/beo5w9ntzdfg3ynk.js","assets/k9lj1k5c1512zkua.js","assets/d1fqp7rhwvsd6omt.js","assets/l7fq2etjjq5drfgp.js","assets/bjzpeonqipke77vk.js","assets/fftookz3hme34txu.js","assets/g4tl5lt9yqf20m4s.js","assets/hfnplg0ly1wm8mk4.js","assets/fb5r26w2lbkp5hh3.js","assets/l2l4d2d2bzani7km.js","assets/irplyktevyp0wf8d.js"])))=>i.map(i=>d[i]);
var Ye=Object.defineProperty,qe=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var Ve=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var Le=(o,e,i)=>e in o?Ye(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i,Ne=(o,e)=>{for(var i in e||(e={}))Je.call(e,i)&&Le(o,i,e[i]);if(Ve)for(var i of Ve(e))Xe.call(e,i)&&Le(o,i,e[i]);return o},ze=(o,e)=>qe(o,$e(e));import{ix as Ze,nb as Qe,qI as es,qJ as ss,ej as F,ek as M,i as ts,eQ as is,qK as os,aT as De,aP as as,d as rs,h as ns,og as ls,qL as cs,f4 as Ue,ae as ds,cI as fs,dz as Re,y as us,jt as ms,aS as gs,bK as hs,p_ as ps,bj as _s,f7 as ws,ov as bs}from"./ewse8exzafeu10ji.js";import{j as t,r as n,A as xs,m as We,c as ks,n as Ge,i as vs,u as Es}from"./n75kuy1cx6f5mogg.js";import{kK as Ps,kL as js,kM as Be,j7 as Cs,dv as Ae,dw as He,kN as Ss,kO as Ts,kP as Is,kQ as Os,kR as Fs,kS as Ms,kT as Ns,kU as As,kV as ys,kW as Vs,kX as Ls,kY as zs,kZ as Ke,k_ as Ds,k$ as Us,l0 as Rs,l1 as Ws,l2 as Gs,l3 as Bs,l4 as Hs,di as Ks,l5 as Qs,l6 as Ys,l7 as qs,l8 as $s,T as Js,g8 as Xs,l9 as Zs,dc as et,la as st,cW as tt,bl as it}from"./ny10lj7zpuz89fvf.js";import{P as ot,M as at}from"./gva4acr7rlqtafux.js";import{C as rt}from"./mv12q8bkkijgf9zf.js";function nt({clientThreadId:o}){const e=Ps();return t.jsxs(t.Fragment,{children:[e&&t.jsx(js,{}),t.jsx(lt,{clientThreadId:o})]})}function lt({clientThreadId:o}){const e=n.useContext(Ze),[i,c]=n.useState(!!(e!=null&&e.postWithProfile)&&e.postWithProfile.post.attachments&&e.postWithProfile.post.attachments.every(d=>d.kind==="media_generation"));return!(e!=null&&e.postWithProfile)||!i?null:t.jsx(Qe,{clientThreadId:o,children:t.jsx(ot,{clientThreadId:o,postWithProfile:e.postWithProfile,onClose:()=>c(!1)})})}const ct=450;function dt({children:o,clientThreadId:e,isOpen:i,onClose:c,type:d}){return t.jsx(xs,{children:i&&t.jsx(es,{children:t.jsx(ss.Provider,{value:{isEmbeddedInFocusedView:!0,type:d},children:t.jsxs("div",{className:"absolute inset-0 flex flex-col",children:[t.jsx(We.div,Ne({className:"bg-token-main-surface-secondary h-full w-full"},Be)),t.jsxs("div",{className:"absolute inset-0 flex",children:[t.jsx("div",{className:"grow overflow-auto",children:o}),t.jsx(We.div,ze(Ne({className:"border-token-border-medium bg-token-main-surface-primary relative shrink-0 border-s",style:{width:ct}},Be),{children:t.jsx("div",{className:"h-[100vh] pb-4",children:t.jsx(at,{clientThreadId:e,hideHeader:!0,hideDisclaimer:!0,messagesVerticalAlign:"bottom"},e)})}))]})]})})})})}const ft=F(()=>M(()=>import("./xri1sxtp58mqyc60.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),ut=F(()=>M(()=>import("./i6g9x1do61nq8cso.js"),__vite__mapDeps([7,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30])).then(o=>o.ImageEditor));function mt({clientThreadId:o}){const e=Cs();n.useEffect(()=>{Ae.close()},[o]);let i;return(e==null?void 0:e.type)===He.ADAVisualization?i=t.jsx(ft,{clientThreadId:o,visualization:e.visualization}):(e==null?void 0:e.type)===He.Image&&(i=t.jsx(ut,{clientThreadId:o,messageId:e.messageId,image:e.image,allImages:e.allImages},e.image.asset_pointer)),t.jsx(dt,{clientThreadId:o,isOpen:e!=null,onClose:Ae.close,type:e==null?void 0:e.type,children:i})}var gt={};const ht=F(()=>M(()=>import("./glbdmfivxjhm6c41.js"),__vite__mapDeps([31,2,1,3,4,5]))),pt=F(()=>M(()=>import("./becq063jn9g9jiv8.js"),__vite__mapDeps([32,2,1,3,33,34,35,4,5,36,37,17,38,39,40,41,42,43,44,45,16,15,46,8,9,10,11,12,13,14,18,19,20,21,22,23,24,25,26,27,47]))),_t=F(()=>M(()=>import("./hfnplg0ly1wm8mk4.js"),__vite__mapDeps([48,2,4,1,3,5,49,41,50]))),wt=F(()=>M(()=>import("./irplyktevyp0wf8d.js"),__vite__mapDeps([51,2,1,3,41,4,5,42,43,44,49])));function Ct(o){"use forget";var ye;const e=ks.c(113),{urlThreadId:i,clientThreadId:c,prefetchSearch:d}=o,r=ts(),l=is(),h=os(),g=Ge(),[u]=vs(),p=u.get("from_webview")==="ios";let A;e[0]!==c||e[1]!==i?(A=()=>{var a;if(i!==void 0){const f=i;return(a=cs(f))!=null?a:f}return c!==void 0?c:Ue()},e[0]=c,e[1]=i,e[2]=A):A=e[2];const[s,N]=n.useState(A);i!==void 0&&s!==i&&(De(s)===i||N(i));let y;e[3]!==s||e[4]!==r?(y=as(r,s),e[3]=s,e[4]=r,e[5]=y):y=e[5];const Te=y,Ie=Ge();let V;e[6]!==Ie?(V=Ss(Ie),e[6]=Ie,e[7]=V):V=e[7];const Oe=V;let L;e[8]!==s||e[9]!==i?(L=()=>{i===void 0&&De(s)!==void 0&&N(Ue())},e[8]=s,e[9]=i,e[10]=L):L=e[10];let z;e[11]!==s||e[12]!==Oe||e[13]!==i?(z=[i,s,Oe],e[11]=s,e[12]=Oe,e[13]=i,e[14]=z):z=e[14],n.useEffect(L,z);const Fe=rs(ns.workspaceId),{eligible:D,isLoading:U,markAsViewed:R}=Ts(),W=Is(),{eligible:G,isLoading:B,markAsViewed:H}=Os(),K=Fs(),{eligible:Q,isLoading:Y,markAsViewed:q}=Ms(),$=Ns(),{eligible:J,isLoading:X,markAsViewed:Z}=As(),ee=ys();let se,te;e[15]!==r?(se=()=>{zs(!0).then(a=>{a.force_login&&ds(r,{fallbackScreenHint:"login"}),Ke.initializeAndGatherData(a),fs(r).checkGate("4178431533")&&Ke.precomputeEnforcementToken(a),Ds.initializeAndGatherData(a)})},te=[r],e[15]=r,e[16]=se,e[17]=te):(se=e[16],te=e[17]),n.useEffect(se,te);let ie,oe;e[18]!==h||e[19]!==l||e[20]!==u?(ie=()=>{const a=u.get(Us)==="true",f=u.get(Rs)==="true";f!==h&&Re.setIsAnonModeEnabled(f),l!==a&&Re.setIsTemporaryChatEnabled(a)},oe=[l,h,u],e[18]=h,e[19]=l,e[20]=u,e[21]=ie,e[22]=oe):(ie=e[21],oe=e[22]),n.useEffect(ie,oe);let ae;e[23]!==g.state?(ae=()=>{var a;(a=g.state)!=null&&a.focusObject&&Ae.setFocusedObject(g.state.focusObject)},e[23]=g.state,e[24]=ae):ae=e[24];const Me=(ye=g.state)==null?void 0:ye.focusObject;let re;e[25]!==Me?(re=[Me],e[25]=Me,e[26]=re):re=e[26],n.useEffect(ae,re);let ne,le;e[27]!==D||e[28]!==U||e[29]!==R||e[30]!==W?(ne=()=>{!U&&D&&(R(),W())},le=[D,U,R,W],e[27]=D,e[28]=U,e[29]=R,e[30]=W,e[31]=ne,e[32]=le):(ne=e[31],le=e[32]),n.useEffect(ne,le);let ce,de;e[33]!==G||e[34]!==B||e[35]!==H||e[36]!==K?(ce=()=>{!B&&G&&(H(),K())},de=[G,B,H,K],e[33]=G,e[34]=B,e[35]=H,e[36]=K,e[37]=ce,e[38]=de):(ce=e[37],de=e[38]),n.useEffect(ce,de);let fe,ue;e[39]!==Q||e[40]!==Y||e[41]!==q||e[42]!==$?(fe=()=>{!Y&&Q&&(q(),$())},ue=[Q,Y,q,$],e[39]=Q,e[40]=Y,e[41]=q,e[42]=$,e[43]=fe,e[44]=ue):(fe=e[43],ue=e[44]),n.useEffect(fe,ue);let me,ge;e[45]!==J||e[46]!==X||e[47]!==Z||e[48]!==ee?(me=()=>{!X&&J&&(Z(),ee())},ge=[J,X,Z,ee],e[45]=J,e[46]=X,e[47]=Z,e[48]=ee,e[49]=me,e[50]=ge):(me=e[49],ge=e[50]),n.useEffect(me,ge),Vs(s);const m=Es();let he,pe;e[51]!==r||e[52]!==m?(he=()=>{us(r)&&Ws(m)},pe=[m,r],e[51]=r,e[52]=m,e[53]=he,e[54]=pe):(he=e[53],pe=e[54]),n.useEffect(he,pe);let _e,we;e[55]!==l||e[56]!==m?(_e=()=>ms(_s,{completionFinished:a=>{var f;if(a.serverThreadId!=null&&!l){const Se=(f=gs(a.serverThreadId))==null?void 0:f.mode;(Se==null?void 0:Se.kind)===hs.GizmoInteraction&&ps.handleGizmoInteracted(m,Se.gizmo_id)}}}),we=[l,m],e[55]=l,e[56]=m,e[57]=_e,e[58]=we):(_e=e[57],we=e[58]),n.useEffect(_e,we),Ls();let be;e[59]===Symbol.for("react.memo_cache_sentinel")?(be=!1,e[59]=be):be=e[59];let _;e[60]!==s||e[61]!==p||e[62]!==Fe?(_=t.jsx(Gs,{clientThreadId:s,page:"chat",isIosDirectPurchaseFlow:p},Fe),e[60]=s,e[61]=p,e[62]=Fe,e[63]=_):_=e[63];let w;e[64]!==s||e[65]!==p?(w=t.jsx(bt,{clientThreadId:s,setClientThreadId:N,isIosDirectPurchaseFlow:p}),e[64]=s,e[65]=p,e[66]=w):w=e[66];let xe,ke;e[67]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(ht,{}),ke=t.jsx(Bs,{}),e[67]=xe,e[68]=ke):(xe=e[67],ke=e[68]);let ve;e[69]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(Hs,{}),e[69]=ve):ve=e[69];let b;e[70]!==s||e[71]!==i?(b=t.jsx(rt,{urlThreadId:i,clientThreadId:s,setClientThreadId:N}),e[70]=s,e[71]=i,e[72]=b):b=e[72];let x;e[73]!==s?(x=t.jsx(nt,{clientThreadId:s}),e[73]=s,e[74]=x):x=e[74];let k;e[75]!==s||e[76]!==d||e[77]!==b||e[78]!==x?(k=t.jsxs(Ks,{clientThreadId:s,setClientThreadId:N,prefetchSearchPromises:d,children:[ve,b,x]}),e[75]=s,e[76]=d,e[77]=b,e[78]=x,e[79]=k):k=e[79];let v;e[80]!==s||e[81]!==_||e[82]!==w||e[83]!==k?(v=t.jsxs(ws,{clientThreadId:s,children:[_,w,xe,ke,k]}),e[80]=s,e[81]=_,e[82]=w,e[83]=k,e[84]=v):v=e[84];let E,P;e[85]!==s?(E=t.jsx(mt,{clientThreadId:s}),P=t.jsx(Qs,{clientThreadId:s}),e[85]=s,e[86]=E,e[87]=P):(E=e[86],P=e[87]);let Ee;e[88]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(Ys,{}),e[88]=Ee):Ee=e[88];let j;e[89]!==s?(j=t.jsx(qs,{clientThreadId:s}),e[89]=s,e[90]=j):j=e[90];let Pe;e[91]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx($s,{}),e[91]=Pe):Pe=e[91];let C;e[92]!==s||e[93]!==v||e[94]!==E||e[95]!==P||e[96]!==j?(C=t.jsxs(Qe,{clientThreadId:s,children:[v,E,P,Ee,j,Pe]}),e[92]=s,e[93]=v,e[94]=E,e[95]=P,e[96]=j,e[97]=C):C=e[97];let S;e[98]!==s||e[99]!==C?(S=t.jsx(Js,{clientThreadId:s,children:C}),e[98]=s,e[99]=C,e[100]=S):S=e[100];let T;e[101]!==s||e[102]!==S?(T=t.jsx(Xs,{clientThreadId:s,children:S}),e[101]=s,e[102]=S,e[103]=T):T=e[103];let je;e[104]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(Zs,{}),e[104]=je):je=e[104];let I;e[105]!==s?(I=!1,e[105]=s,e[106]=I):I=e[106];let O;e[107]!==T||e[108]!==I?(O=t.jsxs(bs,{children:[T,je,I]}),e[107]=T,e[108]=I,e[109]=O):O=e[109];let Ce;return e[110]!==Te||e[111]!==O?(Ce=t.jsxs(ls.Provider,{value:Te,children:[be,O]}),e[110]=Te,e[111]=O,e[112]=Ce):Ce=e[112],Ce}function bt({clientThreadId:o,setClientThreadId:e,isIosDirectPurchaseFlow:i}){const{isOpen:c,isLoading:d}=et(),{isOpen:r,isLoading:l}=st(),{isOpen:h,isLoading:g,closeModal:u}=tt();return i?null:!d&&c?t.jsx(pt,{clientThreadId:o,setClientThreadId:e}):!l&&r?t.jsx(_t,{clientThreadId:o}):!g&&h?t.jsx(it,{children:t.jsx(wt,{clientThreadId:o,onClose:u})}):null}typeof window<"u"&&(window._g=gt.GOKU_SERVICE);export{Ct as C,ct as F};
//# sourceMappingURL=dam1y7iericdl8m3.js.map

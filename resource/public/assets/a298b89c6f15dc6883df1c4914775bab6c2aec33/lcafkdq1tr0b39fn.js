var S=Object.defineProperty;var R=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var T=(s,e,t)=>e in s?S(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,b=(s,e)=>{for(var t in e||(e={}))v.call(e,t)&&T(s,t,e[t]);if(R)for(var t of R(e))y.call(e,t)&&T(s,t,e[t]);return s};import{D as E,ag as $,a7 as w,r as x}from"./n75kuy1cx6f5mogg.js";import{w as C,aV as O,bq as P,br as A,om as G}from"./ewse8exzafeu10ji.js";import{d as I,f as L}from"./ny10lj7zpuz89fvf.js";import"./da0anzdj3bll2tbv.js";import"./k5jwqq80a0png05z.js";import"./d5vv6ct7n3prp63a.js";import"./em5q5yhbyv41ft0j.js";import"./mzj5jqjjpo006z7a.js";import"./nnb0v70g00lhjclz.js";import"./fh2tsu8ocsi22jc3.js";import"./jaupzjmp9wknd4io.js";import"./jtxj1xvdu5i7mvdh.js";import"./j2ui4c2m3nj8pqst.js";import"./h2dwuj1m5ps9l7uv.js";import"./czwq62q5rbh9b1yi.js";import"./gowyl4x2bs7hfi4a.js";const D=()=>[{title:"ChatGPT"}],ee=()=>!1;function N(s){var p,m,c,l,u,f,h,_,g;const e={},t="client-created-root";e[t]={id:t,message:{id:t,author:{role:A.Root},content:{content_type:P.Text,parts:[]}},parent:"",children:[]};let n=t;const a=[],r=new Set;for(const o of s.messages)r.add(o.id);for(const o of s.messages){let i=(m=(p=o.metadata)==null?void 0:p.parent_id)!=null?m:n;r.has(i)||(i=n),e[o.id]={id:o.id,message:o,parent:i,children:[]},n=o.id,a.push(...(l=(c=o.metadata)==null?void 0:c.safe_urls)!=null?l:[])}for(const[o,i]of Object.entries(e))i.parent!==""&&((f=(u=e[i.parent])==null?void 0:u.children)==null||f.push(o));const d=(h=s.conversation_id)!=null?h:s.id;return b({title:(_=s.title)!=null?_:null,conversation_id:d,mapping:e,current_node:n,moderation_results:[],safe_urls:(g=s.safe_urls)!=null?g:a},G(s,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember"))}const te=E(function(){var d;const e=$(),t=w(),n=e!=null?e:t;C.debug("IN: POST=".concat(e==null?void 0:e.length,", GET=").concat(t==null?void 0:t.length));const a=JSON.parse(n),r=(d=a.conversation_id)!=null?d:a.id;return x.useEffect(()=>{const p=N(a);I(r,p),L(r),O(r,m=>{m.continuingFromSharedConversationId=r})},[]),C.debug("Ready ".concat(r," (SERVER: false) : ").concat(n.length," byte(s)")),null});export{te as default,D as meta,ee as shouldRevalidate};
//# sourceMappingURL=lcafkdq1tr0b39fn.js.map

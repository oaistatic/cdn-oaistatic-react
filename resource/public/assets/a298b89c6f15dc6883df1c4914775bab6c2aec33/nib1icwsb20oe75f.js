var p=Object.defineProperty;var l=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var u=(e,t,i)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,a=(e,t)=>{for(var i in t||(t={}))g.call(t,i)&&u(e,i,t[i]);if(l)for(var i of l(t))b.call(t,i)&&u(e,i,t[i]);return e};import{r as f,v as C,a as j,j as o,M as s}from"./n75kuy1cx6f5mogg.js";import{at as N,hC as d,mL as S}from"./ewse8exzafeu10ji.js";import{cT as r,d4 as c,d5 as n,d6 as w}from"./ny10lj7zpuz89fvf.js";import{c as B}from"./ef5ky5jy1k52ka9g.js";function M(){const[e,t]=f.useState(!1);f.useEffect(()=>{r.setSessionId(C()),r.logImpression()},[]);const{mutate:i,isPending:m}=j({mutationFn:B,onError:x=>{if(N.addError("Jawbone: Failed to create push subscription",{error:x}),Notification.permission==="denied"){c.clearNotificationRequest();return}t(!0)},onSuccess:()=>{c.clearNotificationRequest()}});return e?o.jsx(d,{icon:o.jsx(S,{}),isPrimaryCtaDisabled:!0,isSecondaryCtaDisabled:!0,type:"error",onDismiss:()=>{t(!1),r.logErrorDismissed(),c.clearNotificationRequest()},title:o.jsx(s,a({},n.notificationsDisabledBannerTitle)),content:o.jsx(s,a({},n.notificationsDisabledBannerContent))}):o.jsx(d,{icon:o.jsx(w,{}),primaryCtaText:o.jsx(s,a({},n.notificationsBannerAllow)),onPrimaryCtaClick:()=>{r.logAllow(),i()},isPrimaryCtaDisabled:m,secondaryCtaText:o.jsx(s,a({},n.notificationsBannerNotNow)),onSecondaryCtaClick:()=>{r.logNotNow(),c.clearNotificationRequest()},title:o.jsx(s,a({},n.notificationsBannerTitle)),content:o.jsx(s,a({},n.notificationsBannerContent))})}export{M as JawboneNotificationsBanner};
//# sourceMappingURL=nib1icwsb20oe75f.js.map

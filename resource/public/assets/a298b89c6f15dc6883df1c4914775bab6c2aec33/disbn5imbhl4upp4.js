var ee=Object.defineProperty,ae=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var q=(t,a,s)=>a in t?ee(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,o=(t,a)=>{for(var s in a||(a={}))se.call(a,s)&&q(t,s,a[s]);if(H)for(var s of H(a))ne.call(a,s)&&q(t,s,a[s]);return t},w=(t,a)=>ae(t,te(a));import{b as j,j as e,M as r,d as D,r as c,i as Y,u as oe,g as $,A as ie,n as ce,m as re}from"./n75kuy1cx6f5mogg.js";import{dv as T,on as le,f as Q,b as de,m as ue,P as d,B as y,z as L,i as me,a9 as pe,dy as ge,q as xe,ea as he}from"./ewse8exzafeu10ji.js";import{S as M,c as fe,P as V,a as I,b as be}from"./8a04dcj2evtb48op.js";import{fU as ve,lS as ke,f_ as ye,bw as je,fR as Ce,ah as Se,jk as we}from"./ny10lj7zpuz89fvf.js";import{A as Pe}from"./ose2n65d4oo60npt.js";import{I as Te}from"./lj2w9b5ogapjsanu.js";import{u as Me,m as Ne}from"./n81diue0m3az0e3g.js";import{G as We}from"./fqnin05eui3vqsou.js";function Ee({workspaceName:t,onChangeWorkspaceName:a,showHeader:s=!0}){const n=j();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(r,o({},U.workspaceNameLabel))}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(r,o({},U.workspaceNameDescription))})]}),e.jsx(Te,{className:"w-full",type:"text",name:"workspace-name",placeholder:n.formatMessage(U.exampleTeamWorkspaceName),value:t,onChange:i=>a(i.target.value),maxLength:64})]})}const U=D({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Choose a name your team will recognize."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}}),X=D({discoverabilityCheckboxWithDomain:{id:"workspaceOnboarding.discoverabilityCheckboxWithDomain",defaultMessage:"Anyone with an <b>{domain}</b> email can request to join"},discoverabilityCheckboxGeneric:{id:"workspaceOnboarding.discoverabilityCheckboxGeneric",defaultMessage:"Anyone with your email domain can request to join"}});function Ae({onNext:t}){const a=T();return a?e.jsx(De,{onNext:t,currentAccount:a}):e.jsx(le,{})}function De({onNext:t,currentAccount:a}){var B,z;const s=j(),n=Q(),i=de(),u=a.data,C=ve(s,a,i),[l,N]=c.useState(C||""),[f,b]=c.useState(!0),[_]=Y(),v=_.get("account_id"),h=v!=null?v:a.data.id,m=Me(h),{data:g}=ue(h),W=(g==null?void 0:g.support_workspace_discovery)!==!1,k=!!h&&W,O=ke(h,{suppressSuccessToast:!0}),F=(z=(B=i==null?void 0:i.email)==null?void 0:B.split("@")[1])!=null?z:null,G=F?"@".concat(F):null,R=typeof(g==null?void 0:g.workspace_discoverable)=="boolean"?g.workspace_discoverable:null,J=c.useCallback(x=>{b(x),d.logEvent("Account Pay: Create Workspace Discoverability Checkbox Toggled",{workspaceDiscoverable:x})},[]),Z=c.useCallback(async()=>{if(!a)return;const x=a.subscriptionAnalyticsParams;d.logEvent("Account Pay: Create Workspace Modal Clicked",x);try{const S=[];l!==u.name&&(S.push(m.mutateAsync({name:l})),d.logEvent("Account Pay: Create Workspace Modal Renamed",x)),k&&R!==f&&(d.logEvent("Account Pay: Create Workspace Discoverability Submitted",{workspaceDiscoverable:f}),S.push(O.mutateAsync({value:f,public_display_name:null,use_workspace_name_for_discovery:f,action:"toggle"}))),S.length>0&&await Promise.all(S),t()}catch(S){n.warning(s.formatMessage(Ne.saveError),{hasCloseButton:!0})}},[a,u.name,O,s,t,m,k,n,R,f,l]);return c.useEffect(()=>{if(!a)return;const x=a.subscriptionAnalyticsParams;d.logEvent("Account Pay: Create Workspace Modal Show",x)},[a]),e.jsxs(e.Fragment,{children:[e.jsx(M,{children:e.jsx(r,o({},ye.nameWorkspace))}),e.jsxs(fe,{children:[e.jsx(Ee,{workspaceName:l,onChangeWorkspaceName:N,showHeader:!1}),k&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(je,{id:"workspace-discoverability-opt-in",checked:f,onChange:x=>J(x.currentTarget.checked),label:e.jsx("span",{className:"text-token-text-primary text-center text-sm",children:G?e.jsx(r,w(o({},X.discoverabilityCheckboxWithDomain),{values:{domain:G,b:x=>e.jsx("strong",{className:"font-semibold",children:x})}})):e.jsx(r,o({},X.discoverabilityCheckboxGeneric))})})})]}),e.jsx(y,{loading:m.isPending||O.isPending||a==null,onClick:()=>{Z()},disabled:l.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(r,o({},L.continueButtonText))})]})}var K=(t=>(t.Landing="landing",t.Setup="setup",t.Naming="naming",t.Invite="invite",t.CAOnboarding="caOnboarding",t.Complete="complete",t))(K||{});const _e={enter:t=>({translateX:t>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:t=>({translateX:t<=0?"50%":"-50%",opacity:0})},E=["landing","naming","invite","caOnboarding","complete"];function Oe(){const t=oe(),a=$(),{currentPath:s,currentStep:n}=Be(),i=me(),u=j(),C=Q(),[l,N]=c.useState(1),[f]=Y(),b=f.get("account_id"),_=pe(i,"2239990662");function v(){_.get("should_hard_navigate_to_root_path_for_team",!1)?window.location.href="/":a("/")}c.useEffect(()=>{function m(){N(-1)}return window.addEventListener("popstate",m),()=>{window.removeEventListener("popstate",m)}},[]);const h=()=>{N(1);let m=E.indexOf(n);const g=E[m+1],W=g==="caOnboarding"?xe(i,"555825174").get("enabled",!1):!1;g==="caOnboarding"&&d.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:b,experimentFlag:W}),g==="caOnboarding"&&!W&&m++;const k=m+1;b||v(),m!==-1&&k<E.length&&a(s+"#"+E[k])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(ie,{mode:"wait",custom:l,children:[n==="landing"&&e.jsx(P,{initial:!1,custom:l,children:e.jsx(Ue,{onNext:h})},"landing"),n==="naming"&&e.jsx(P,{initial:!1,custom:l,children:e.jsx(Ae,{onNext:h})},"naming"),n==="invite"&&e.jsx(P,{custom:l,children:e.jsx(Le,{onNext:h})},"invite"),n==="caOnboarding"&&e.jsx(P,{custom:l,children:e.jsx(Ge,{onNext:h})},"caOnboarding"),n==="complete"&&e.jsx(P,{custom:l,children:e.jsx(Re,{onNext:()=>{h(),b&&ge(t,b,i,u,C),v()}})},"complete")]})})}const P=t=>e.jsx(re.div,o({initial:"enter",animate:"center",exit:"exit",variants:_e,transition:{translateX:{type:"just"},opacity:{duration:.2}}},t));function Ue({onNext:t}){const a=T(),s=c.useCallback(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,u=new URLSearchParams(window.location.search).get("referrer")||document.referrer;d.logEvent("Account Pay: Payment Confirmation Modal Clicked",w(o({},n),{referrer:u}))},[a]);return c.useEffect(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,u=new URLSearchParams(window.location.search).get("referrer")||document.referrer;d.logEvent("Account Pay: Payment Confirmation Modal Show",w(o({},n),{referrer:u}))},[a]),e.jsxs(e.Fragment,{children:[e.jsx(V,{isTrial:!1}),e.jsx(M,{children:e.jsx(r,o({},p.standard))}),e.jsx(I,{children:e.jsx(r,o({},p.description))}),e.jsx(y,{onClick:()=>{t(),s()},size:"large",loading:a==null,fullWidth:!0,children:e.jsx(r,o({},L.continueButtonText))})]})}function Le({onNext:t}){const a=j(),s=T(),{data:n}=Se(),i=c.useMemo(()=>s==null?void 0:s.subscriptionAnalyticsParams,[s]);return c.useEffect(()=>{s!=null&&d.logEvent("Account Pay: Invite Collaborators Modal Show",i)},[i,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(M,{children:e.jsx(r,w(o({},p.inviteTitle),{values:{seatCount:n.seats_entitled,workspaceName:s.data.name}}))}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(r,o({},p.completeDescription))}),e.jsx(Pe,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:a.formatMessage(p.skipAddMembers),onCancel:t,onSuccess:t,seatCount:n.seats_entitled})]})}const Ie="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",Fe="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function Ge({onNext:t}){const a=j(),s=T(),[n,i]=c.useState(!1),[u,C]=c.useState(!1);return c.useEffect(()=>{if(!s)return;const l=s.subscriptionAnalyticsParams;d.logEvent("Account Pay: Contextual Answers Step Shown",l)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-max-[384px] h-max-[170px] relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:Ie,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>C(!0)}),!u&&e.jsx("img",{src:Fe,alt:a.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:a.formatMessage(p.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:a.formatMessage(p.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(y,{onClick:()=>i(!0),icon:he,size:"large",fullWidth:!0,children:a.formatMessage(p.caOnboardingConnectButton)}),e.jsx(y,{onClick:()=>t(),size:"large",fullWidth:!0,color:"ghost",children:a.formatMessage(p.skipCaOnboarding)})]}),n&&e.jsx(We,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:l=>{i(!1),l&&t()}})]})}function Re({onNext:t}){const a=T(),s=c.useMemo(()=>a==null?void 0:a.subscriptionAnalyticsParams,[a]);c.useEffect(()=>{d.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{d.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(M,{children:e.jsx(r,o({},p.completeTitle))}),e.jsx(I,{children:e.jsx(r,o({},p.completeDescription))}),e.jsx(y,{onClick:()=>{t(),n()},size:"large",fullWidth:!0,children:e.jsx(r,o({},p.continueToChatgpt))})]})}function Be(){const{hash:t,pathname:a,search:s}=ce(),n=t.slice(1);return{currentStep:ze(n)?n:"landing",currentPath:a+s}}const ze=Ce(K),p=D({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});function aa({isTrial:t,isTeam:a}){const s=j(),n=$(),i=c.useCallback(u=>{u.preventDefault(),d.logEvent("Account Pay: Click Account Payment Success Continue"),n("/")},[n]);return e.jsxs(be,{children:[e.jsx(we,{children:e.jsx("title",{children:s.formatMessage(A.pageTitle)})}),e.jsx("div",{className:"flex flex-col",children:a?e.jsx(Oe,{}):e.jsx(He,{isTrial:t,onContinue:i})})]})}function He({isTrial:t,onContinue:a}){const s=t?A.trial:A.standard;return e.jsxs(e.Fragment,{children:[e.jsx(V,{isTrial:!!t}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(M,{children:e.jsx(r,o({},s))}),e.jsx(I,{children:e.jsx(r,o({},A.paymentReceived))}),e.jsx(y,{onClick:a,size:"large",fullWidth:!0,children:e.jsx(r,o({},L.continueButtonText))})]})]})}const A=D({pageTitle:{id:"PaymentsSuccess.pageTitle",defaultMessage:"Account - Payment success"},paymentReceived:{id:"PaymentsSuccess.paymentSuccessful",defaultMessage:"You've been upgraded to ChatGPT Plus"},standard:{id:"PaymentsSuccess.standard",defaultMessage:"Payment successful"},trial:{id:"PaymentsSuccess.trial",defaultMessage:"Trial started"}});export{aa as P};
//# sourceMappingURL=disbn5imbhl4upp4.js.map

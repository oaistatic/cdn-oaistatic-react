var A=Object.defineProperty;var E=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var d=(s,r,t)=>r in s?A(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,p=(s,r)=>{for(var t in r||(r={}))O.call(r,t)&&d(s,t,r[t]);if(E)for(var t of E(r))D.call(r,t)&&d(s,t,r[t]);return s};import{j as e,m as o,d as P,r as b,M as u}from"./n75kuy1cx6f5mogg.js";import{e as h,hI as k,gx as I,T as V,P as q,aT as F}from"./ewse8exzafeu10ji.js";import{jb as H,eQ as x,eR as a,gA as B,g9 as Q,lO as Y}from"./ny10lj7zpuz89fvf.js";import{i as z}from"./ns51nblw8ziscsgd.js";import{N as J}from"./ce3hgmw4iyyhicud.js";import{u as K}from"./j2tluvxda4ll72qx.js";const L=({gap:s,padding:r=4,size:t=3})=>e.jsx(o.div,{className:h("grid h-full max-w-full flex-1 grid-cols-3 items-center"),style:{gap:s,padding:r},children:H(3,i=>e.jsx(o.div,{className:"dark:bg-white-400 aspect-square rounded-full bg-gray-400",animate:{translateY:["0%","-50%","0%","0%","0%"]},style:{translateX:.5,width:t,height:t},transition:{repeat:1/0,type:"keyframes",delay:i/10,duration:.7}},i))});var w=(s=>(s.javascript="javascript",s.typescript="typescript",s.bash="bash",s.zsh="zsh",s.html="html",s.css="css",s.python="python",s.json="json",s.sql="sql",s.go="go",s.yaml="yaml",s.java="java",s.rust="rust",s.cpp="cpp",s.swift="swift",s.php="php",s.xml="xml",s.ruby="ruby",s.haskell="haskell",s.kotlin="kotlin",s.csharp="csharp",s.c="c",s.objectivec="objectivec",s.r="r",s.lua="lua",s.dart="dart",s.scala="scala",s.perl="perl",s.commonlisp="commonlisp",s.clojure="clojure",s.ocaml="ocaml",s.powershell="powershell",s.verilog="verilog",s.dockerfile="dockerfile",s.vue="vue",s.other="other",s))(w||{});function U(s){if(x(s))switch(s){case a.CODE_REACT:return"typescript";default:return k(s.replace(/^code\//,""),Object.values(w),"other")}}function R(s){return s.includes("'react'")||s.includes('"react"')}function ss(s,r){switch(s){case a.CODE_HTML:case a.CODE_REACT:return!0;case a.CODE_JAVASCRIPT:case a.CODE_TYPESCRIPT:return R(r);default:return!1}}function ts(s){return I([a.CODE_PYTHON],s)}function rs(s,r){var i;let t=(i=U(s))!=null?i:null;return(R(r)||s===a.CODE_REACT)&&(t="react"),t&&z(t)?t:null}function es({isDisabled:s=!1,isCodePreviewable:r=!1,isCodeRunning:t,disabledTooltip:i,clientThreadId:f,onClick:m}){const[c,y]=b.useState(t),[{width:n},N]=K();b.useEffect(()=>{let S=null;return!t||r?y(t):(S=setTimeout(()=>{y(t)},200),()=>clearTimeout(S))},[t,r]);const _=()=>({conversation_id:f?F(f):void 0}),M=()=>{q.logEventWithStatsig("Canvas Run Code Button Clicked","chatgpt_canvas_run_code_button_clicked",_()),setTimeout(()=>m==null?void 0:m())},v=e.jsx(o.button,{disabled:s||t&&!c,onClick:M,className:h("btn btn-primary ms-1 rounded-full sm:min-w-28",c?h(J,"border-transparent"):"hover:bg-opacity-90"),animate:{width:n!=null?n:0},initial:{width:n!=null?n:0},transition:{type:"spring",bounce:.24,duration:.4},children:e.jsx("div",{ref:N,children:c?e.jsxs(o.div,{className:"flex items-center gap-1.5 ps-1 pe-1 sm:ps-2 sm:pe-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsx(B,{className:"icon"}),e.jsx("span",{className:"hidden sm:inline",children:e.jsx(u,p({},l.stopCode))})]}):e.jsxs(o.div,{className:"flex items-center gap-1.5 ps-1 pe-1 sm:ps-2 sm:pe-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsx(Q,{className:"icon"}),e.jsx("span",{className:"hidden whitespace-nowrap sm:inline",children:e.jsx(u,p({},r?l.previewCode:l.runCode))})]})})}),j=s&&i?i:t?null:e.jsx(u,p({},r?l.previewCodeTooltip:l.runCodeTooltip));return j?e.jsx(V,{label:j,children:v}):v}const l=P({previewCode:{id:"M1TBxe",defaultMessage:"Preview"},runCode:{id:"LiKr5n",defaultMessage:"Run code"},stopCode:{id:"nCwG4+",defaultMessage:"Stop"},runCodeTooltip:{id:"UeNB/S",defaultMessage:"See output and debug"},previewCodeTooltip:{id:"/qJKMH",defaultMessage:"Preview in canvas"}});class G{constructor(r){this.params=r}get isReadonly(){return Object.values(this.params).some(r=>!!r)}get isHistoricalVersion(){return!!this.params.isHistoricalVersion}get isStreaming(){return!!this.params.isTextdocStreaming||!!this.params.isRequestActive}get isTextdocStreaming(){return!!this.params.isTextdocStreaming}get isStreamingFromNative(){return this.isStreaming&&this.params.streamingSource===Y.NATIVE}get isRestoring(){return!!this.params.isRestoring}get isShowingChanges(){return!!this.params.isShowingChanges}get isReadonlyFromQueryParam(){return!!this.params.isReadonlyFromQueryParam}}const is=s=>new G(s);export{L as T,is as a,U as b,ts as c,es as d,w as e,rs as g,ss as i,l as m};
//# sourceMappingURL=cg9mamkqgsk8mjh0.js.map

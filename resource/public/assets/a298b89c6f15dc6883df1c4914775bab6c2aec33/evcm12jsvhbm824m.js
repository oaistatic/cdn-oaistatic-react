var v=Object.defineProperty,l=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;var p=(e,t,r)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&p(e,r,t[r]);if(i)for(var r of i(t))c.call(t,r)&&p(e,r,t[r]);return e},d=(e,t)=>l(e,C(t));var u=(e,t)=>{var r={};for(var o in e)h.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&i)for(var o of i(e))t.indexOf(o)<0&&c.call(e,o)&&(r[o]=e[o]);return r};import{D as _,a7 as E,j as s,f as I,r as n}from"./n75kuy1cx6f5mogg.js";import{C as j}from"./dam1y7iericdl8m3.js";import{i as y,oq as T,fl as R,fm as A,bN as N,E as P,R as g}from"./ewse8exzafeu10ji.js";import{S as q}from"./ny10lj7zpuz89fvf.js";import"./gva4acr7rlqtafux.js";import"./k5jwqq80a0png05z.js";import"./czwq62q5rbh9b1yi.js";import"./gowyl4x2bs7hfi4a.js";import"./em5q5yhbyv41ft0j.js";import"./da0anzdj3bll2tbv.js";import"./mzj5jqjjpo006z7a.js";import"./nnb0v70g00lhjclz.js";import"./fh2tsu8ocsi22jc3.js";import"./jaupzjmp9wknd4io.js";import"./jtxj1xvdu5i7mvdh.js";import"./j2ui4c2m3nj8pqst.js";import"./h2dwuj1m5ps9l7uv.js";import"./kg55sov6c624o43c.js";import"./lksc5q29mjlblqoo.js";import"./7pd84i0fdyounev7.js";import"./ca3g7gcaj954pu3h.js";import"./kj8rd4pu8k32z2dy.js";import"./d65yyyom1modmtdi.js";import"./d5vv6ct7n3prp63a.js";import"./mv12q8bkkijgf9zf.js";import"./3mp3j06lb1q5ttzm.js";import"./gy07ow2dyy5du4ny.js";function F(e){const t=e.sharedConversationId,{data:r,isError:o}=I({queryKey:["shared-conversation/".concat(t)],queryFn:()=>g.safeGet("/share/{shared_conversation_id}",{parameters:{path:{shared_conversation_id:t}}})}),f=y(),[a]=n.useState(()=>T(f,t).id),[S,x]=n.useState(!1);return n.useEffect(()=>{o&&(window.location.href=R(A.SHARE_NOT_FOUND))},[o]),n.useEffect(()=>{r&&a&&(N.updateThreadFromServer(a,r,{skipIfExisting:!0,continuingFromSharedConversationId:t}),x(!0))},[r,t,a]),S&&r?s.jsx(q.Provider,{value:{serverSharedThreadId:e.sharedConversationId},children:s.jsx(j,d(m({},e.chatPageProps),{clientThreadId:a}))}):s.jsx("div",{className:"flex h-full items-center justify-center",children:s.jsx(P,{className:"text-token-text-tertiary"})})}const nt=_(function(){const o=E(),{sharedConversationId:t}=o,r=u(o,["sharedConversationId"]);return s.jsx(F,d(m({},r),{sharedConversationId:t}))});export{nt as default};
//# sourceMappingURL=evcm12jsvhbm824m.js.map

var nt=Object.defineProperty,it=Object.defineProperties;var ot=Object.getOwnPropertyDescriptors;var Ne=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var Le=(i,e,t)=>e in i?nt(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,L=(i,e)=>{for(var t in e||(e={}))Fe.call(e,t)&&Le(i,t,e[t]);if(Ne)for(var t of Ne(e))Ie.call(e,t)&&Le(i,t,e[t]);return i},T=(i,e)=>it(i,ot(e));var Pe=(i,e)=>{var t={};for(var s in i)Fe.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&Ne)for(var s of Ne(i))e.indexOf(s)<0&&Ie.call(i,s)&&(t[s]=i[s]);return t};var we=(i,e,t)=>Le(i,typeof e!="symbol"?e+"":e,t);import{W as at,c as P,j as n,R as lt,r as V,m as ce,M as K,A as ke,b as Re,i as rt,v as We}from"./n75kuy1cx6f5mogg.js";import{oJ as ct,th as mt,P as de,oZ as E,i as ge,a2 as dt,ti as Ve,qz as Ge,tj as ze,a9 as ut,j as ft,e as Me,at as pe,ae as gt,dG as pt,T as ht,B as ue,bP as xt,bU as qe,tk as bt,oT as yt,qy as _t,tl as St,ao as He,ap as Ze,oy as Je,m8 as Xe,cw as jt,tm as vt}from"./ewse8exzafeu10ji.js";import{ue as Ue,cm as Nt,ce as wt,at as Ee,s_ as kt}from"./ny10lj7zpuz89fvf.js";import{L as Ct,a as he,b as Ot,S as me}from"./hrec769hl86c0yvf.js";import{V as Lt}from"./h2t8e4spzi3rf7zt.js";import{u as Pt}from"./dbz6g0t5bht84999.js";import{w as At,i as Mt,P as Dt,f as Ft,a as It}from"./jio16esf2chumk86.js";import{S as Ut}from"./kivo09shwglpcqd0.js";function Qe(i,e,t){return function(a,l){const o=ct(i,mt().searchParams);return l(o),at.signIn(o,e?{callbackUrl:e}:{},L(L({prompt:"login"},t),a))}}async function Ye(i,e,t,s){await i({screen_hint:"login_or_signup",connection:Ct[e]},a=>{de.logLoginOrSignUpButtonClicked({location:t,provider:a,idp:e,[E]:s})})}function G(i,e,t){"use forget";const s=P.c(5),a=ge();let l;if(s[0]!==i||s[1]!==a||s[2]!==t||s[3]!==e){const r=dt(a,i).value;l=Ve(r,e)?r:t,s[0]=i,s[1]=a,s[2]=t,s[3]=e,s[4]=l}else l=s[4];return l}function Et(i){"use forget";const e=P.c(2),{loginStrategy:t}=i;let s;return e[0]!==t?(s={name:"google",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:t},e[0]=t,e[1]=s):s=e[1],G(xe[t].google,he,s)}function Kt(i){"use forget";const e=P.c(2),{loginStrategy:t}=i;let s;return e[0]!==t?(s={name:"microsoft",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:t},e[0]=t,e[1]=s):s=e[1],G(xe[t].microsoft,he,s)}function $t(i){"use forget";const e=P.c(2),{loginStrategy:t}=i;let s;return e[0]!==t?(s={name:"apple",enabled:!0,tempDisabled:!1,kind:"social",loginStrategy:t},e[0]=t,e[1]=s):s=e[1],G(xe[t].apple,he,s)}function Tt(i){"use forget";const e=P.c(2),{loginStrategy:t}=i;let s;return e[0]!==t?(s={name:"email",enabled:!0,tempDisabled:!1,kind:"username",loginStrategy:t},e[0]=t,e[1]=s):s=e[1],G(xe[t].email,he,s)}function Bt(i){"use forget";const e=P.c(21),{loginStrategy:t}=i,s=t==="existing_user";let a;e[0]!==t||e[1]!==s?(a={name:"phone_number",enabled:s,tempDisabled:!1,kind:"username",loginStrategy:t},e[0]=t,e[1]=s,e[2]=a):a=e[2];const l=G(xe[t].phone_number,he,a),o=ge();let r;e[3]!==o?(r=ut(o,"183390215"),e[3]=o,e[4]=r):r=e[4];const c=r;let u;e[5]!==o?(u=ft(o,"4012051055"),e[5]=o,e[6]=u):u=e[6];const p=u;let m;e[7]!==c?(m={layer:c,paramName:"signup_allow_phone_from_login_web",defaultValue:!1},e[7]=c,e[8]=m):m=e[8];const b=Ue(m);let x;e[9]!==c?(x={layer:c,paramName:"in_phone_signup_holdout_from_login_web",defaultValue:!1},e[9]=c,e[10]=x):x=e[10];const g=Ue(x);if(t!=="new_user")return l;let d;e[11]!==p||e[12]!==b?(d=p||b(),e[11]=p,e[12]=b,e[13]=d):d=e[13];const y=d,f=l.enabled;let S;e[14]!==f||e[15]!==y||e[16]!==g?(S=!g()&&f&&y,e[14]=f,e[15]=y,e[16]=g,e[17]=S):S=e[17];const j=S;let _;return e[18]!==j||e[19]!==l?(_=T(L({},l),{enabled:j}),e[18]=j,e[19]=l,e[20]=_):_=e[20],_}function et(i){"use forget";const e=P.c(22),{loginStrategy:t}=i;let s;e[0]!==t?(s={loginStrategy:t},e[0]=t,e[1]=s):s=e[1];const a=Et(s);let l;e[2]!==t?(l={loginStrategy:t},e[2]=t,e[3]=l):l=e[3];const o=Kt(l);let r;e[4]!==t?(r={loginStrategy:t},e[4]=t,e[5]=r):r=e[5];const c=$t(r);let u;e[6]!==t?(u={loginStrategy:t},e[6]=t,e[7]=u):u=e[7];const p=Tt(u);let m;e[8]!==t?(m={loginStrategy:t},e[8]=t,e[9]=m):m=e[9];const b=Bt(m),x=[a,o,c,p,b].filter(Rt);let g,d,y;e[10]===Symbol.for("react.memo_cache_sentinel")?(g="2202961878",d=Ge({order:ze(Ot)}),y={order:["google","microsoft","apple","email","phone_number"]},e[10]=g,e[11]=d,e[12]=y):(g=e[10],d=e[11],y=e[12]);const f=G(g,d,y);let S;e[13]!==f?(S=(N,h)=>f.order.indexOf(N.name)-f.order.indexOf(h.name),e[13]=f,e[14]=S):S=e[14];const j=x.sort(S);let _;return e[15]!==c||e[16]!==p||e[17]!==a||e[18]!==o||e[19]!==b||e[20]!==j?(_={googleOption:a,microsoftOption:o,appleOption:c,emailOption:p,phoneNumberOption:b,optionsForDisplay:j},e[15]=c,e[16]=p,e[17]=a,e[18]=o,e[19]=b,e[20]=j,e[21]=_):_=e[21],_}function Rt(i){return i&&i.enabled}const xe={existing_user:{google:"1341269548",microsoft:"111706139",apple:"730493191",email:"734083401",phone_number:"1165494509"},new_user:{google:"3866584409",microsoft:"1119573454",apple:"2197428282",email:"2201018492",phone_number:"424309338"}},tt=i=>{"use forget";var b;const e=P.c(14);let t,s,a;e[0]!==i?(b=i,{loginStrategy:t,omitIf:a}=b,s=Pe(b,["loginStrategy","omitIf"]),e[0]=i,e[1]=t,e[2]=s,e[3]=a):(t=e[1],s=e[2],a=e[3]);const l=a===void 0?Wt:a;let o;e[4]!==t?(o={loginStrategy:t},e[4]=t,e[5]=o):o=e[5];const{optionsForDisplay:r}=et(o);let c;e[6]!==l||e[7]!==s?(c=function(g){return g.filter(d=>!l(d)).map(d=>n.jsx(lt.Fragment,{children:s[d.name](d)},d.name))},e[6]=l,e[7]=s,e[8]=c):c=e[8];const u=c;let p;e[9]!==r||e[10]!==u?(p=u(r),e[9]=r,e[10]=u,e[11]=p):p=e[11];let m;return e[12]!==p?(m=n.jsx("div",{className:"flex flex-col gap-3",children:p}),e[12]=p,e[13]=m):m=e[13],m};function Wt(){return!1}const st=i=>{"use forget";const e=P.c(9),{children:t,className:s}=i;let a;e[0]!==s?(a=Me("my-2 grid grid-cols-[1fr_max-content_1fr] items-center dark:text-gray-500",s),e[0]=s,e[1]=a):a=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx("div",{className:"h-px bg-[var(--border-heavy)]"}),e[2]=l):l=e[2];let o;e[3]!==t?(o=n.jsx("div",{className:"mx-6 text-[13px] font-medium uppercase",children:t}),e[3]=t,e[4]=o):o=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=n.jsx("div",{className:"h-px bg-[var(--border-heavy)]","gray-500":!0}),e[5]=r):r=e[5];let c;return e[6]!==a||e[7]!==o?(c=n.jsxs("div",{className:a,children:[l,o,r]}),e[6]=a,e[7]=o,e[8]=c):c=e[8],c};function Vt(i){"use forget";var b;const e=P.c(34),{user:t,clearUser:s}=i,a=ge(),l=V.useRef(null);let o;e[0]!==s?(o=x=>{x.stopPropagation(),s(),pe.addAction("login-form.profile-card.remove-user")},e[0]=s,e[1]=o):o=e[1];const r=o;let c;e:{if(!t){c=null;break e}let x;e[2]!==a||e[3]!==t.email||e[4]!==t.phoneNumber?(x=()=>{var A;const w=(A=t.email)!=null?A:t.phoneNumber;gt(a,{additionalAuthParams:{screen_hint:"login_or_signup",login_hint:w},callback:zt,skipLoginModal:!1})},e[2]=a,e[3]=t.email,e[4]=t.phoneNumber,e[5]=x):x=e[5];const g=x;let d;e[6]!==g?(d=w=>{w.key==="Enter"&&g()},e[6]=g,e[7]=d):d=e[7];const y=d;let f;e[8]!==t.name||e[9]!==t.picture?(f=n.jsx("div",{className:"me-2 shrink-0",children:n.jsx(Nt,{user:{picture:t.picture,name:t.name},size:"large"})}),e[8]=t.name,e[9]=t.picture,e[10]=f):f=e[10];let S;e[11]!==t.name?(S=n.jsx("div",{className:"text-token-text-primary truncate text-base",children:t.name}),e[11]=t.name,e[12]=S):S=e[12];const j=(b=t.email)!=null?b:t.phoneNumber;let _;e[13]!==j?(_=n.jsx("div",{className:"text-token-text-secondary truncate text-sm",children:j}),e[13]=j,e[14]=_):_=e[14];let N;e[15]!==S||e[16]!==_?(N=n.jsxs("div",{className:"flex min-w-0 flex-col",children:[S,_]}),e[15]=S,e[16]=_,e[17]=N):N=e[17];let h;e[18]!==f||e[19]!==N?(h=n.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-2",children:[f,N]}),e[18]=f,e[19]=N,e[20]=h):h=e[20];let k;e[21]===Symbol.for("react.memo_cache_sentinel")?(k=n.jsx(K,{id:"6G1qdV",defaultMessage:"Remove account"}),e[21]=k):k=e[21];let D;e[22]===Symbol.for("react.memo_cache_sentinel")?(D=n.jsx(pt,{}),e[22]=D):D=e[22];let v;e[23]!==r?(v=n.jsx("div",{className:"shrink-0",children:n.jsx(ht,{label:k,side:"top",sideOffset:14,withArrow:!0,children:n.jsx(ue,{type:"button",color:"ghost",onClick:r,onKeyDown:Gt,className:"size-10 rounded-full",children:D})})}),e[23]=r,e[24]=v):v=e[24];let C;e[25]!==y||e[26]!==g||e[27]!==h||e[28]!==v?(C=n.jsxs("div",{className:"btn btn-secondary flex w-full cursor-pointer items-center justify-between overflow-hidden rounded-3xl p-4 focus-visible:outline-black dark:focus-visible:outline-white",role:"button",ref:l,tabIndex:0,onClick:g,onKeyDown:y,children:[h,v]}),e[25]=y,e[26]=g,e[27]=h,e[28]=v,e[29]=C):C=e[29],c=C}const u=c;let p;e[30]!==u?(p=u&&n.jsx(ce.div,T(L({},qt),{onAnimationComplete:()=>{var x;(x=l.current)==null||x.focus()},children:u}),"profile-card"),e[30]=u,e[31]=p):p=e[31];let m;return e[32]!==p?(m=n.jsx(n.Fragment,{children:n.jsx(ke,{mode:"wait",children:p})}),e[32]=p,e[33]=m):m=e[33],m}function Gt(i){return i.stopPropagation()}function zt(i){pe.addAction("login-form.profile-card.login")}const qt={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.22,ease:[.4,0,.2,1]}},xs=i=>{"use forget";const e=P.c(43),{onSwitchToGenericLoginOrSignup:t,title:s,subtitle:a,callbackUrl:l,authorizationParams:o,isSsoOptionsVisible:r}=i,c=r===void 0?!1:r,[u,p]=V.useState(!1),{accountInfo:m,removeAccount:b}=wt(),x=ge();let g;e[0]!==o||e[1]!==l||e[2]!==x?(g=Qe(x,l,o),e[0]=o,e[1]=l,e[2]=x,e[3]=g):g=e[3];const d=g;let y;e[4]!==o||e[5]!==d?(y=async F=>{p(!0),await Ye(d,F,"log back modal",o[E]),p(!1)},e[4]=o,e[5]=d,e[6]=y):y=e[6];const f=y;let S;e[7]!==f||e[8]!==u?(S=n.jsx(tt,{loginStrategy:"existing_user",google:F=>{const{tempDisabled:B}=F;return n.jsx(me,{provider:"google",disabled:B||u,className:"h-13 rounded-full text-base",onClick:()=>f("google")})},microsoft:F=>{const{tempDisabled:B}=F;return n.jsx(me,{provider:"microsoft",disabled:B||u,className:"h-13 rounded-full text-base",onClick:()=>f("microsoft")})},apple:F=>{const{tempDisabled:B}=F;return n.jsx(me,{provider:"apple",disabled:B||u,className:"h-13 rounded-full text-base",onClick:()=>f("apple")})},email:Ht,phone_number:Zt}),e[7]=f,e[8]=u,e[9]=S):S=e[9];const j=S;let _;e[10]!==s?(_=s!=null?s:n.jsx(K,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[10]=s,e[11]=_):_=e[11];let N;e[12]!==_?(N=n.jsx("h2",{className:"text-center text-3xl font-normal",children:_}),e[12]=_,e[13]=N):N=e[13];let h;e[14]!==(m==null?void 0:m.user)||e[15]!==a?(h=a!=null?a:m!=null&&m.user?n.jsx(ce.div,T(L({},Ae),{children:n.jsx(K,{id:"logBack.subtitle.chooseAccount",defaultMessage:"Choose an account to continue."})}),"subtitle"):n.jsx(ce.div,T(L({},Ae),{children:n.jsx(K,{id:"logBack.subtitle.genericSubtitle",defaultMessage:"Log in to use smarter models, create images, and save your chats."})}),"subtitle-generic"),e[14]=m==null?void 0:m.user,e[15]=a,e[16]=h):h=e[16];let k;e[17]!==h?(k=n.jsx("p",{className:"mb-4 px-4 text-center text-base",children:n.jsx(ke,{mode:"wait",children:h})}),e[17]=h,e[18]=k):k=e[18];const D=m==null?void 0:m.user;let v;e[19]!==b||e[20]!==D?(v=n.jsx(Vt,{user:D,clearUser:b}),e[19]=b,e[20]=D,e[21]=v):v=e[21];let C;e[22]!==(m==null?void 0:m.user)?(C=(m==null?void 0:m.user)&&n.jsx(ce.div,T(L({},Ae),{children:n.jsx(st,{className:"my-1!",children:n.jsx(K,{id:"logBackForm.or",defaultMessage:"OR"})})})),e[22]=m==null?void 0:m.user,e[23]=C):C=e[23];let w;e[24]!==C?(w=n.jsx(ke,{mode:"wait",children:C}),e[24]=C,e[25]=w):w=e[25];let A;e[26]!==u||e[27]!==c||e[28]!==t?(A=!c&&n.jsx("div",{className:"flex flex-col gap-3",children:[{key:"logBack.loginToAnotherAccount",node:n.jsx(K,{id:"logBack.loginToAnotherAccount",defaultMessage:"Log in to another account"})},{key:"logBack.createAccount",node:n.jsx(K,{id:"logBack.createAccount",defaultMessage:"Create account"})}].map(F=>{const{key:B,node:I}=F;return n.jsx(ue,{type:"button",onClick:()=>t(!1),className:"h-13 rounded-full text-base",color:"secondary",disabled:u,children:I},B)})}),e[26]=u,e[27]=c,e[28]=t,e[29]=A):A=e[29];let M;e[30]!==u||e[31]!==c||e[32]!==t||e[33]!==j?(M=c&&n.jsxs(n.Fragment,{children:[n.jsx(ue,{type:"button",onClick:()=>t(!0),className:"-mb-2 h-13 rounded-full text-base",color:"secondary",disabled:u,children:n.jsx(K,{id:"logBack.loginOrCreateAccount",defaultMessage:"Log in or create account"})}),j]}),e[30]=u,e[31]=c,e[32]=t,e[33]=j,e[34]=M):M=e[34];let $;e[35]===Symbol.for("react.memo_cache_sentinel")?($=n.jsx("input",{type:"text",className:"-mt-4 h-0 w-0 border-0 p-0",tabIndex:0,autoFocus:!0,id:"log-back-focus-input"}),e[35]=$):$=e[35];let R;return e[36]!==v||e[37]!==w||e[38]!==A||e[39]!==M||e[40]!==N||e[41]!==k?(R=n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex flex-col items-stretch gap-5 px-6 py-10 pt-0","data-testid":"log-back-form",children:[N,k,v,w,A,M,$]})}),e[36]=v,e[37]=w,e[38]=A,e[39]=M,e[40]=N,e[41]=k,e[42]=R):R=e[42],R},Ae={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.65},transition:{duration:.18,ease:[.4,0,.2,1]}};function Ht(){return null}function Zt(){return null}function Jt(){return At(Mt,arguments)}const Xt=i=>{"use forget";var r;const e=P.c(9);let t,s;e[0]!==i?(r=i,{className:t}=r,s=Pe(r,["className"]),e[0]=i,e[1]=t,e[2]=s):(t=e[1],s=e[2]);let a;e[3]!==t?(a=Me("mt-1.5 h-13 w-full rounded-full text-base",t),e[3]=t,e[4]=a):a=e[4];let l;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=n.jsx(K,{id:"continueButton.continue",defaultMessage:"Continue"}),e[5]=l):l=e[5];let o;return e[6]!==s||e[7]!==a?(o=n.jsx(ue,T(L({type:"submit",onClick:Qt,className:a},s),{children:l})),e[6]=s,e[7]=a,e[8]=o):o=e[8],o};function Qt(){return pe.addAction("login-form.continue")}const Ce=class Ce extends xt()(()=>({usernameKindSwitching:!1})){constructor(){super(...arguments);we(this,"enterUsernameKindSwitching",async()=>{this.setState({usernameKindSwitching:!0}),await new Promise(t=>setTimeout(t,50)),this.exitUsernameKindSwitching()});we(this,"exitUsernameKindSwitching",qe(()=>{this.setState({usernameKindSwitching:!1})},800,{leading:!1,trailing:!0}))}};we(Ce,"useUsernameKindSwitching",()=>Ce.useState(t=>t.usernameKindSwitching));let fe=Ce;const Yt=i=>{"use forget";const e=P.c(26),{usernameKind:t,emailProps:s,phoneProps:a,emailField:l,phoneNumberField:o,disabled:r,authSessionLoggingId:c}=i,u=Re(),p=ts(),m=fe.useStore();let b;e[0]!==u?(b=u.formatMessage({id:"dynamicUsernameInput.email",defaultMessage:"Email address"}),e[0]=u,e[1]=b):b=e[1];const x=b,g=fe.useUsernameKindSwitching();let d;e[2]===Symbol.for("react.memo_cache_sentinel")?(d={initial:{opacity:0,height:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:"auto"},transition:{opacity:{duration:.1},height:{duration:.22,ease:"easeInOut"}},layout:!0},e[2]=d):d=e[2];const y=d;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f={initial:{opacity:0,height:60},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:60},transition:{opacity:{duration:.1},height:{duration:.22,ease:"easeInOut"}},layout:!0},e[3]=f):f=e[3];const S=f;let j;e[4]!==m?(j=function(){m.exitUsernameKindSwitching()},e[4]=m,e[5]=j):j=e[5];const _=j;let N;e[6]!==c?(N=()=>de.logAuthModalEmailTyped({[E]:c}),e[6]=c,e[7]=N):N=e[7];const h=Ee(N);let k;e[8]!==c?(k=()=>de.logAuthModalPhoneNumberTyped({[E]:c}),e[8]=c,e[9]=k):k=e[9];const D=Ee(k);let v;e[10]!==r||e[11]!==l||e[12]!==x||e[13]!==s||e[14]!==u||e[15]!==h||e[16]!==D||e[17]!==o||e[18]!==a||e[19]!==p||e[20]!==t||e[21]!==g?(v=t==="email"?n.jsx(ce.div,T(L({className:"-m-1 overflow-hidden p-1"},g?L({},y):{}),{children:n.jsx(Ke,{children:w=>{var M;const{ref:A}=w;return n.jsx(yt,T(L({ref:A,name:l.name,value:l.state.value,onChange:$=>{l.handleChange($.target.value),h()},inputClassName:"w-full rounded-full! text-base! sm:text-base! px-5! py-3! h-13!",error:(M=l.state.meta.errors.join(","))!=null?M:void 0,showErrorIcon:!0,ariaLabel:x,placeholder:x,className:"focus-within:border-token-border-heavy! rounded-full! border-[var(--border-heavy)] p-0! px-0! py-0! focus-within:ring-1",autoComplete:"email",autoFocus:!0},s),{disabled:r}))}})}),"email"):t==="phone_number"?n.jsx(ce.div,T(L({className:"-m-1 overflow-hidden p-1"},g?L({},S):{}),{children:n.jsx(Ke,{children:w=>{var M;const{ref:A}=w;return n.jsx(Dt,T(L({nativeInputRef:A,countries:p,value:o.state.value,setValue:$=>{o.handleChange($),D()},error:(M=o.state.meta.errors.join(","))!=null?M:void 0,label:u.formatMessage({id:"dynamicUsernameInput.phone",defaultMessage:"Phone number"})},a),{disabled:r}))}})}),"phone_number"):null,e[10]=r,e[11]=l,e[12]=x,e[13]=s,e[14]=u,e[15]=h,e[16]=D,e[17]=o,e[18]=a,e[19]=p,e[20]=t,e[21]=g,e[22]=v):v=e[22];let C;return e[23]!==_||e[24]!==v?(C=n.jsx("div",{className:"relative",children:n.jsx(ke,{mode:"wait",initial:!1,onExitComplete:_,children:v})}),e[23]=_,e[24]=v,e[25]=C):C=e[25],C},es=Ge({countryCodes:ze(bt())});function ts(){"use forget";const i=P.c(4);let e;i[0]===Symbol.for("react.memo_cache_sentinel")?(e="1063781658",i[0]=e):e=i[0];let t;i[1]===Symbol.for("react.memo_cache_sentinel")?(t={countryCodes:[]},i[1]=t):t=i[1];const{countryCodes:s}=G(e,es,t);let a,l;return i[2]!==s?(l=s==null?void 0:s.filter(ss),i[2]=s,i[3]=l):l=i[3],a=l,a}function ss(i){return Jt(i)}const Ke=({children:i})=>{"use forget";const e=V.useRef(null);return V.useEffect(()=>{if(e.current)return Ft(e.current)},[]),n.jsx(n.Fragment,{children:i({ref:e})})};function ns(i,e){const[t,s]=rt(),a=Object.fromEntries(t);return[Ve(a,i)?a:e,s,(u,p)=>{s(L(L({},Object.fromEntries(t)),u),p)}]}const is=_t(["email","phone_number"]),$e="email",os=St({usernameKind:is});function as(i){"use forget";const e=P.c(3),{allowPhone:t}=i;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={usernameKind:$e},e[0]=s):s=e[0];const[a]=ns(os,s),[l,o]=V.useState(t?a.usernameKind:$e);let r;return e[1]!==l?(r=[l,o],e[1]=l,e[2]=r):r=e[2],r}const Te=i=>{"use forget";const e=P.c(21),{usernameKind:t,setUsernameKind:s,form:a,align:l,disabled:o,authSessionLoggingId:r}=i,c=l===void 0?"left":l,u=fe.useStore();let p;e[0]!==a||e[1]!==u||e[2]!==s?(p=qe(async g=>{await u.enterUsernameKindSwitching(),s(g),await new Promise(ls),a.reset()},50,{leading:!0,trailing:!1}),e[0]=a,e[1]=u,e[2]=s,e[3]=p):p=e[3];const m=p;let b;e[4]!==r||e[5]!==m?(b=async(g,d)=>{de.logUsernameKindSwitched({targetKind:g,[E]:r}),pe.addAction(d),await m(g)},e[4]=r,e[5]=m,e[6]=b):b=e[6];const x=b;switch(t){case"email":{let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=n.jsx(K,{id:"logIn.continueWithPhone",defaultMessage:"Continue with phone"}),e[7]=g):g=e[7];let d;e[8]!==x?(d=()=>x("phone_number","login-form.switch_to_phone"),e[8]=x,e[9]=d):d=e[9];let y;return e[10]!==c||e[11]!==o||e[12]!==d?(y=n.jsx(Be,{size:17,text:g,icon:Ut,onClick:d,align:c,disabled:o}),e[10]=c,e[11]=o,e[12]=d,e[13]=y):y=e[13],y}case"phone_number":{let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=n.jsx(K,{id:"logIn.continueWithEmail",defaultMessage:"Continue with email"}),e[14]=g):g=e[14];let d;e[15]!==x?(d=()=>x("email","login-form.switch_to_email"),e[15]=x,e[16]=d):d=e[16];let y;return e[17]!==c||e[18]!==o||e[19]!==d?(y=n.jsx(Be,{size:19,text:g,icon:kt,onClick:d,align:c,disabled:o}),e[17]=c,e[18]=o,e[19]=d,e[20]=y):y=e[20],y}}},Be=i=>{"use forget";const e=P.c(8),{text:t,icon:s,onClick:a,size:l,disabled:o}=i;let r;e[0]!==s||e[1]!==l?(r=n.jsx("span",{className:"relative grid h-4 w-4 place-items-center",children:n.jsx("span",{className:"absolute",children:n.jsx(s,{width:l,height:l})})}),e[0]=s,e[1]=l,e[2]=r):r=e[2];let c;return e[3]!==o||e[4]!==a||e[5]!==r||e[6]!==t?(c=n.jsxs(ue,{as:"button",type:"button",onClick:a,className:"h-13 rounded-full text-base",contentWrapperClassName:"gap-2",color:"secondary",disabled:o,children:[r,t]}),e[3]=o,e[4]=a,e[5]=r,e[6]=t,e[7]=c):c=e[7],c};function ls(i){return setTimeout(i,300)}const bs=i=>{"use forget";const e=P.c(87),{onClose:t,title:s,subtitle:a,callbackUrl:l,authorizationParams:o,isStayLoggedOutVisible:r,isUsernameOnTop:c}=i,u=c===void 0?!1:c,p=Re();let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m={loginStrategy:"existing_user"},e[0]=m):m=e[0];const{phoneNumberOption:b,emailOption:x,optionsForDisplay:g}=et(m),d=g.length>1;let y;e[1]!==b.enabled?(y={allowPhone:b.enabled},e[1]=b.enabled,e[2]=y):y=e[2];const[f,S]=as(y),j=x.tempDisabled,_=b.tempDisabled,N=f==="email"&&j||f==="phone_number"&&_,[h,k]=V.useState(!1),D=V.useId(),v=ge();let C;e[3]!==o||e[4]!==l||e[5]!==v?(C=Qe(v,l,o),e[3]=o,e[4]=l,e[5]=v,e[6]=C):C=e[6];const w=C;let A;e[7]!==o||e[8]!==w?(A=async O=>{k(!0),await Ye(w,O,"login modal",o[E]),k(!1)},e[7]=o,e[8]=w,e[9]=A):A=e[9];const M=A;let $;e[10]===Symbol.for("react.memo_cache_sentinel")?($={email:"",phoneNumber:""},e[10]=$):$=e[10];let R;e[11]!==o||e[12]!==w||e[13]!==f?(R=async O=>{const{value:U}=O;k(!0),await w({screen_hint:"login_or_signup",login_hint:f==="email"?U.email:U.phoneNumber},W=>{de.logLoginOrSignUpButtonClicked({location:"login modal",provider:W,idp:f,[E]:o[E]})}),k(!1)},e[11]=o,e[12]=w,e[13]=f,e[14]=R):R=e[14];let F;e[15]!==p||e[16]!==f?(F={onSubmit:O=>{const{value:U}=O,W={};return f==="email"?U.email?Lt.test(U.email)||(W.email=p.formatMessage({id:"loginForm.emailInvalid",defaultMessage:"Email is not valid."})):W.email=p.formatMessage({id:"loginForm.emailRequired",defaultMessage:"Email is required."}):f==="phone_number"&&(U.phoneNumber?It(U.phoneNumber)||(W.phoneNumber=p.formatMessage({id:"loginForm.phoneNumberInvalid",defaultMessage:"Phone number is not valid."})):W.phoneNumber=p.formatMessage({id:"loginForm.phoneNumberRequired",defaultMessage:"Phone number is required."})),{fields:W}}},e[15]=p,e[16]=f,e[17]=F):F=e[17];let B;e[18]!==R||e[19]!==F?(B={defaultValues:$,onSubmit:R,validators:F},e[18]=R,e[19]=F,e[20]=B):B=e[20];const I=Pt(B);let z;e[21]!==f?(z=O=>f===O.name,e[21]=f,e[22]=z):z=e[22];let q,H,Z;e[23]!==M||e[24]!==h?(q=O=>{const{tempDisabled:U}=O;return n.jsx(me,{provider:"google",disabled:U||h,className:"h-13 rounded-full text-base",onClick:()=>M("google")})},H=O=>{const{tempDisabled:U}=O;return n.jsx(me,{provider:"microsoft",disabled:U||h,className:"h-13 rounded-full text-base",onClick:()=>M("microsoft")})},Z=O=>{const{tempDisabled:U}=O;return n.jsx(me,{provider:"apple",disabled:U||h,className:"h-13 rounded-full text-base",onClick:()=>M("apple")})},e[23]=M,e[24]=h,e[25]=q,e[26]=H,e[27]=Z):(q=e[25],H=e[26],Z=e[27]);let J,X;e[28]!==o||e[29]!==h||e[30]!==S||e[31]!==I||e[32]!==f?(J=()=>n.jsx(Te,{usernameKind:f,setUsernameKind:S,form:I,disabled:h,authSessionLoggingId:o[E]}),X=()=>n.jsx(Te,{usernameKind:f,setUsernameKind:S,form:I,disabled:h,authSessionLoggingId:o[E]}),e[28]=o,e[29]=h,e[30]=S,e[31]=I,e[32]=f,e[33]=J,e[34]=X):(J=e[33],X=e[34]);let be;e[35]!==z||e[36]!==q||e[37]!==H||e[38]!==Z||e[39]!==J||e[40]!==X?(be=n.jsx(tt,{loginStrategy:"existing_user",omitIf:z,google:q,microsoft:H,apple:Z,email:J,phone_number:X}),e[35]=z,e[36]=q,e[37]=H,e[38]=Z,e[39]=J,e[40]=X,e[41]=be):be=e[41];const ye=be;let Q;e[42]!==o||e[43]!==h||e[44]!==j||e[45]!==_||e[46]!==I.Field||e[47]!==f?(Q=O=>n.jsx(I.Field,{name:"phoneNumber",children:U=>n.jsx(Yt,{usernameKind:f,emailProps:{disabled:j},phoneProps:{disabled:_},emailField:O,phoneNumberField:U,disabled:h,authSessionLoggingId:o[E]})}),e[42]=o,e[43]=h,e[44]=j,e[45]=_,e[46]=I.Field,e[47]=f,e[48]=Q):Q=e[48];let Y;e[49]!==Q||e[50]!==I.Field?(Y=n.jsx(I.Field,{name:"email",children:Q}),e[49]=Q,e[50]=I.Field,e[51]=Y):Y=e[51];const Oe=N||h;let ee;e[52]!==Oe?(ee=n.jsx(Xt,{color:"primary",disabled:Oe}),e[52]=Oe,e[53]=ee):ee=e[53];let _e;e[54]!==Y||e[55]!==ee?(_e=n.jsxs(n.Fragment,{children:[Y,ee]}),e[54]=Y,e[55]=ee,e[56]=_e):_e=e[56];const Se=_e;let je;e[57]===Symbol.for("react.memo_cache_sentinel")?(je=n.jsx(st,{children:n.jsx(K,{id:"loginForm.or",defaultMessage:"OR"})}),e[57]=je):je=e[57];const De=je;let te;e[58]!==s?(te=s!=null?s:n.jsx(K,{id:"NoAuthWelcomeBackModal.title",defaultMessage:"Welcome back"}),e[58]=s,e[59]=te):te=e[59];let se;e[60]!==te?(se=n.jsx("h2",{className:"text-center text-3xl font-normal",children:te}),e[60]=te,e[61]=se):se=e[61];let ne;e[62]!==a?(ne=a!=null?a:n.jsx(K,{id:"loginForm.subtitle",defaultMessage:"Log in or sign up to get smarter responses, upload files and images, and more."}),e[62]=a,e[63]=ne):ne=e[63];let ie;e[64]!==ne?(ie=n.jsx("p",{className:"mb-4 px-4 text-center text-base",children:ne}),e[64]=ne,e[65]=ie):ie=e[65];let oe;e[66]!==I?(oe=O=>{O.preventDefault(),I.handleSubmit()},e[66]=I,e[67]=oe):oe=e[67];let ae;e[68]!==d||e[69]!==u||e[70]!==ye||e[71]!==Se?(ae=u?n.jsxs(n.Fragment,{children:[Se,d&&n.jsxs(n.Fragment,{children:[De,ye]})]}):n.jsxs(n.Fragment,{children:[d&&n.jsxs(n.Fragment,{children:[ye,De]}),Se]}),e[68]=d,e[69]=u,e[70]=ye,e[71]=Se,e[72]=ae):ae=e[72];let le;e[73]!==o||e[74]!==h||e[75]!==r||e[76]!==t?(le=r&&n.jsx("div",{className:"text-center",children:n.jsx("a",{href:"#",className:Me("text-token-text-secondary cursor-pointer font-semibold underline sm:text-sm",h&&"opacity-50"),onClick:O=>{O.preventDefault(),de.logEventWithStatsig("No Auth Welcome Modal Stay Logged Out Link Clicked","chatgpt_no_auth_welcome_back_modal_stay_logged_out_link_clicked",{location:"No Auth Login Modal",[E]:o[E]}),pe.addAction("chatgpt_auth_modal_stay_logged_out"),t("stay-logged-out-link")},"data-testid":"dismiss-welcome",children:n.jsx(K,{id:"LoginForm.stayLoggedOut",defaultMessage:"Stay logged out"})})}),e[73]=o,e[74]=h,e[75]=r,e[76]=t,e[77]=le):le=e[77];let re;e[78]!==D||e[79]!==oe||e[80]!==ae||e[81]!==le?(re=n.jsxs("form",{className:"flex flex-col gap-4","aria-labelledby":D,autoComplete:"on",onSubmit:oe,children:[ae,le]}),e[78]=D,e[79]=oe,e[80]=ae,e[81]=le,e[82]=re):re=e[82];let ve;return e[83]!==se||e[84]!==ie||e[85]!==re?(ve=n.jsx(n.Fragment,{children:n.jsxs("div",{className:"flex flex-col items-stretch gap-5 px-6 pb-10","data-testid":"login-form",children:[se,ie,re]})}),e[83]=se,e[84]=ie,e[85]=re,e[86]=ve):ve=e[86],ve},ys={initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.22,ease:[.4,0,.2,1]}};function _s(i,e){const t=We();He.setCookie(Ze.AuthSessionLoggingId,t);const s=T(L({},Je(Xe())),{[E]:t});jt(i,({onClose:a})=>n.jsx(vt,{onClose:a,callbackUrl:window.location.href,authorizationParams:s,isUsernameOnTop:e}))}function Ss(){"use forget";const i=P.c(1);let e,t;if(i[0]===Symbol.for("react.memo_cache_sentinel")){const s=We();He.setCookie(Ze.AuthSessionLoggingId,s),t=T(L({},Je(Xe())),{[E]:s}),i[0]=t}else t=i[0];return e=t,e}export{xs as L,bs as a,ys as g,_s as h,Ss as u};
//# sourceMappingURL=hcogaixn0irn6lu3.js.map

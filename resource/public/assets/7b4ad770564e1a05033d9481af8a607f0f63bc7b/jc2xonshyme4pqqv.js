const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/eahncmechdd0yy5s.js","assets/kfrdmkli83ureki3.js","assets/ny3gbedhp9u7gx6v.js"])))=>i.map(i=>d[i]);
var ae=Object.freeze,fe=Object.defineProperty,Te=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var de=(t,e,s)=>e in t?fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,L=(t,e)=>{for(var s in e||(e={}))Ee.call(e,s)&&de(t,s,e[s]);if(ce)for(var s of ce(e))Ie.call(e,s)&&de(t,s,e[s]);return t},J=(t,e)=>Te(t,Le(e));var se=(t,e)=>ae(fe(t,"raw",{value:ae(e||t.slice())}));import{_ as je,c as _,j as l,M as k,r as D,e as Ce,h as De,u as $e,ag as Ae,y as Fe}from"./kfrdmkli83ureki3.js";import{az as ve,aA as ye,u as T,aB as U,cy as E,cv as be,aW as X,dE as Oe,cz as Re,i1 as We,fw as qe,kt as Ue,dM as Ye,dX as Ge,hI as ze,r as He,nE as Ve,O as Be,n7 as Qe,T as Ze,n as Je,bT as ue,eW as Xe,l as Ke,be as et,bS as tt,d as le,$ as st,a0 as nt,J as we,fM as lt,g as ot,kT as it}from"./kw08ajijqinojrwh.js";import{C as rt}from"./ckililxopth81755.js";import{a as at}from"./c326bjybavj646xd.js";import{g$ as R,g2 as ct,jf as dt,jZ as Ne,pY as ft,pZ as ut,j$ as Se,bF as mt,p_ as pt,z as I,p$ as ke,g as gt,q0 as me,de as xt,q1 as ht,q2 as _t,q3 as jt,j_ as Ct,q4 as pe,q5 as vt,q6 as yt,q7 as bt,q8 as wt}from"./fyw02vlaiv2vq6cj.js";import{H as ne}from"./bw2hxknbjlgs6x5v.js";import"./mj0406dyy526560j.js";import"./n25jb1xrdrimv99m.js";import"./nm285usnll51g0n4.js";import"./lwyag88acem9bm0o.js";import"./lg0oi3tmjv8kv2p4.js";import"./b3ungmqo5x8kj4fh.js";import"./o5h7u1aikohecbkt.js";import"./w4rmhhxvug61xnae.js";import"./moa9hw4knutxpmay.js";import"./nh6x5pasrftsddpw.js";import"./c7lf6x6u521mpx19.js";import"./hk5ml9l4i4ups2ga.js";import"./fwbhrttgqnv5nm9m.js";import"./k68z30a1j9zr4phk.js";import"./emcmoa6z1wsa6qof.js";import"./i85urdvpkzpdgj3s.js";import"./dd8hh2tmra1psngf.js";import"./be1f0w4doetbrndv.js";import"./he1xnididjbc7s63.js";import"./m93ibzwrrpoc1bdm.js";import"./nunatmpame7vjusr.js";import"./nvxri8mldbk6o2on.js";import"./hrprrmrs14hiemon.js";const Nt=ve(()=>je(()=>import("./eahncmechdd0yy5s.js"),__vite__mapDeps([0,1])),{loading:t=>ye(t)}),Pe=t=>{R(t).logEventWithStatsig("(Web) FYP Personalize Tapped","chatgpt_web_fyp_personalize_tapped")},St=t=>{"use forget";const e=_.c(6),{onClick:s}=t,n=T();let o;e[0]!==n||e[1]!==s?(o=()=>{s(),Pe(n)},e[0]=n,e[1]=s,e[2]=o):o=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(k,{id:"sZVLRv",defaultMessage:"Curate"}),e[3]=r):r=e[3];let i;return e[4]!==o?(i=l.jsx(U,{icon:Nt,onClick:o,children:r}),e[4]=o,e[5]=i):i=e[5],i},kt=t=>{"use forget";const e=_.c(6),{onClick:s}=t,n=T();let o;e[0]!==n||e[1]!==s?(o=()=>{s(),Pe(n)},e[0]=n,e[1]=s,e[2]=o):o=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(k,{id:"PYkj8c",defaultMessage:"Curate for tomorrow"}),e[3]=r):r=e[3];let i;return e[4]!==o?(i=l.jsx(U,{onClick:o,size:"large",className:"w-full max-w-80",children:r}),e[4]=o,e[5]=i):i=e[5],i},oe=t=>{"use forget";const e=_.c(7);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={threshold:.8,onlyOnce:!0},e[0]=s):s=e[0];const[n,o]=ct(s);let r,i;e[1]!==n||e[2]!==t?(r=()=>{n&&t()},i=[n,t],e[1]=n,e[2]=t,e[3]=r,e[4]=i):(r=e[3],i=e[4]),D.useEffect(r,i);let a;return e[5]!==o?(a={ref:o},e[5]=o,e[6]=a):a=e[6],a};function ie(t){"use forget";const e=_.c(16),{image:s,content:n,actions:o,onClick:r,onImpression:i,className:a}=t,{ref:d}=oe(i!=null?i:Pt);let c;e[0]!==a?(c=E("border-token-border-default flex w-full items-stretch gap-6 rounded-4xl border p-4 shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors","flex-row","max-sm:flex-col",a),e[0]=a,e[1]=c):c=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=E("flex flex-shrink-0 items-center justify-center","h-32 w-32","max-sm:h-full max-sm:w-full"),e[2]=f):f=e[2];let u;e[3]!==s?(u=l.jsx("div",{className:f,children:s}),e[3]=s,e[4]=u):u=e[4];let m;e[5]!==n?(m=l.jsx("div",{className:"flex flex-col gap-1",children:n}),e[5]=n,e[6]=m):m=e[6];let p;e[7]!==o||e[8]!==m?(p=l.jsxs("div",{className:"flex flex-1 flex-col justify-between max-sm:gap-4",children:[m,o]}),e[7]=o,e[8]=m,e[9]=p):p=e[9];let g;return e[10]!==r||e[11]!==d||e[12]!==c||e[13]!==u||e[14]!==p?(g=l.jsxs("div",{ref:d,onClick:r,className:c,children:[u,p]}),e[10]=r,e[11]=d,e[12]=c,e[13]=u,e[14]=p,e[15]=g):g=e[15],g}function Pt(){}const Mt=ve(()=>je(()=>import("./ny3gbedhp9u7gx6v.js"),__vite__mapDeps([2,1])),{loading:t=>ye(t)}),ge=Ce({dislikedCardTitle:{id:"pulse.dislikedCardTitle",defaultMessage:"You'll see less like this."},dislikedCardDescription:{id:"pulse.dislikedCardDescription",defaultMessage:"Sorry this didn't hit the mark. Mind sharing a bit more about why you didn't like it? Every bit of feedback helps shape what shows up next."}});var he;const Tt=be.div(he||(he=se(["border-token-border-default flex w-full items-stretch gap-6 rounded-4xl border p-4 shadow-[0_4px_16px_0_rgba(0,0,0,0.05)] transition-colors"])));function Lt(t){"use forget";const e=_.c(30),{cardId:s,className:n,title:o,description:r,image:i,onClick:a,onImpression:d}=t,{data:c}=dt(s),f=(c==null?void 0:c.reaction)==="dislike";let u;e[0]!==n?(u=E("hover:bg-token-bg-tertiary cursor-pointer",n),e[0]=n,e[1]=u):u=e[1];const m=i==null?void 0:i.url,p=i==null?void 0:i.fallback_url,g=f&&"grayscale";let x;e[2]!==g?(x=E("aspect-square h-full w-full rounded-2xl",g),e[2]=g,e[3]=x):x=e[3];let h;e[4]!==m||e[5]!==p||e[6]!==x?(h=l.jsx(Ne,{src:m,fallbackSrc:p,className:x}),e[4]=m,e[5]=p,e[6]=x,e[7]=h):h=e[7];let v;e[8]!==f||e[9]!==o?(v=f?l.jsx(k,L({},ge.dislikedCardTitle)):o,e[8]=f,e[9]=o,e[10]=v):v=e[10];let b;e[11]!==v?(b=l.jsx("div",{className:"text-xl font-medium",children:v}),e[11]=v,e[12]=b):b=e[12];let y;e[13]!==r||e[14]!==f?(y=f?l.jsx(k,L({},ge.dislikedCardDescription)):r,e[13]=r,e[14]=f,e[15]=y):y=e[15];let w;e[16]!==y?(w=l.jsx("div",{children:y}),e[16]=y,e[17]=w):w=e[17];let C;e[18]!==w||e[19]!==b?(C=l.jsx("div",{className:"flex flex-1 flex-col justify-between",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[b,w]})}),e[18]=w,e[19]=b,e[20]=C):C=e[20];let j;e[21]!==s?(j=l.jsx(ft,{cardId:s}),e[21]=s,e[22]=j):j=e[22];let N;return e[23]!==a||e[24]!==d||e[25]!==u||e[26]!==C||e[27]!==j||e[28]!==h?(N=l.jsx(ie,{className:u,image:h,content:C,actions:j,onClick:a,onImpression:d}),e[23]=a,e[24]=d,e[25]=u,e[26]=C,e[27]=j,e[28]=h,e[29]=N):N=e[29],N}function Et(t){"use forget";const e=_.c(12),{body:s,dateTs:n,className:o}=t;let r;e[0]!==n?(r=new Date(n*1e3).toLocaleDateString(void 0,{month:"long",day:"numeric"}),e[0]=n,e[1]=r):r=e[1];const i=r;let a;e[2]!==o?(a=E("flex flex-col gap-2",o),e[2]=o,e[3]=a):a=e[3];let d;e[4]!==i?(d=l.jsx("div",{className:"text-token-text-primary text-4xl",children:i}),e[4]=i,e[5]=d):d=e[5];let c;e[6]!==s?(c=s&&l.jsx(Me,{children:s}),e[6]=s,e[7]=c):c=e[7];let f;return e[8]!==a||e[9]!==d||e[10]!==c?(f=l.jsxs("div",{className:a,children:[d,c]}),e[8]=a,e[9]=d,e[10]=c,e[11]=f):f=e[11],f}function Me(t){"use forget";const e=_.c(11),{children:s,includeDivider:n,className:o}=t,r=n===void 0?!1:n;let i;e[0]!==r?(i=r&&l.jsx(re,{}),e[0]=r,e[1]=i):i=e[1];const a=r&&"pt-8";let d;e[2]!==o||e[3]!==a?(d=E("text-token-text-primary py-2 text-xl font-medium",a,o),e[2]=o,e[3]=a,e[4]=d):d=e[4];let c;e[5]!==s||e[6]!==d?(c=l.jsx("div",{className:d,children:s}),e[5]=s,e[6]=d,e[7]=c):c=e[7];let f;return e[8]!==i||e[9]!==c?(f=l.jsxs(l.Fragment,{children:[i,c]}),e[8]=i,e[9]=c,e[10]=f):f=e[10],f}function It(t){"use forget";const e=_.c(18),{title:s,suggestions:n,onImpression:o,className:r}=t;let i;e[0]!==o?(i=()=>o(),e[0]=o,e[1]=i):i=e[1];const{ref:a}=oe(i);let d;e[2]!==a?(d=l.jsx(re,{ref:a}),e[2]=a,e[3]=d):d=e[3];let c;e[4]!==r?(c=E("flex flex-col gap-6 pt-6",r),e[4]=r,e[5]=c):c=e[5];let f;e[6]!==s?(f=l.jsx("div",{className:"text-token-text-primary text-start text-xl font-medium",children:s}),e[6]=s,e[7]=f):f=e[7];let u;e[8]!==n||e[9]!==s?(u=l.jsx("div",{className:"flex w-full flex-col gap-2",children:l.jsx(ut,{suggestions:n,question:s})}),e[8]=n,e[9]=s,e[10]=u):u=e[10];let m;e[11]!==c||e[12]!==f||e[13]!==u?(m=l.jsxs("div",{className:c,children:[f,u]}),e[11]=c,e[12]=f,e[13]=u,e[14]=m):m=e[14];let p;return e[15]!==d||e[16]!==m?(p=l.jsxs(l.Fragment,{children:[d,m]}),e[15]=d,e[16]=m,e[17]=p):p=e[17],p}function Dt(t){"use forget";const e=_.c(20),{title:s,body:n,onImpression:o,className:r}=t;let i;e[0]!==o?(i=()=>o(),e[0]=o,e[1]=i):i=e[1];const{ref:a}=oe(i),d=T();let c;e[2]!==a?(c=l.jsx(re,{ref:a}),e[2]=a,e[3]=c):c=e[3];let f;e[4]!==r?(f=E("flex flex-col items-center gap-6 py-8",r),e[4]=r,e[5]=f):f=e[5];let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx("div",{className:"bg-token-text-primary flex h-12 w-12 items-center justify-center rounded-full",children:l.jsx(Mt,{className:"text-token-bg-primary"})}),e[6]=u):u=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx("br",{}),e[7]=m):m=e[7];let p;e[8]!==n||e[9]!==s?(p=l.jsxs("div",{className:"text-token-text-primary text-center text-xl font-medium",children:[s," ",m," ",n]}),e[8]=n,e[9]=s,e[10]=p):p=e[10];let g;e[11]!==d?(g=l.jsx(kt,{onClick:()=>Se(d)}),e[11]=d,e[12]=g):g=e[12];let x;e[13]!==f||e[14]!==p||e[15]!==g?(x=l.jsxs("div",{className:f,children:[u,p,g]}),e[13]=f,e[14]=p,e[15]=g,e[16]=x):x=e[16];let h;return e[17]!==c||e[18]!==x?(h=l.jsxs(l.Fragment,{children:[c,x]}),e[17]=c,e[18]=x,e[19]=h):h=e[19],h}var _e;const re=be.div(_e||(_e=se(["border-token-border-medium border-b pb-8"]))),$t=[X.H17180rGmail,X.H17180rGoogleCalendar],M=Ce({emailConnectorDescription:{id:"pulse.emailConnectorDescription",defaultMessage:"emails"},calendarConnectorDescription:{id:"pulse.calendarConnectorDescription",defaultMessage:"calendar"},upsellCardTitle:{id:"pulse.upsellCardTitle",defaultMessage:"Get insights from your {connectorDescriptions}"},upsellCardDescription:{id:"pulse.upsellCardDescription",defaultMessage:"Let ChatGPT proactively read {connectorNames} and give you helpful info. {LearnMoreLink}"},connectorsAcceptedText:{id:"pulse.connectorsAcceptedText",defaultMessage:"I'll start showing helpful insights from your {connectorDescriptions} here. You can adjust this anytime in Settings."},connectorsDeclinedText:{id:"pulse.connectorsDeclinedText",defaultMessage:"I won't show anything related to your {connectorDescriptions} here. You can adjust this anytime in Settings."},manageConnectorsCta:{id:"pulse.manageConnectorsCta",defaultMessage:"Manage settings"},connectorsDeclineCta:{id:"pulse.connectorsDeclineCta",defaultMessage:"Don't allow"},connectorsAllowCta:{id:"pulse.connectorsAllowCta",defaultMessage:"Allow"},gmail:{id:"pulse.gmail",defaultMessage:"Gmail"},googleCalendar:{id:"pulse.googleCalendar",defaultMessage:"Google Calendar"}});function At(t,e){const n=t.map(i=>ne[i]).filter(i=>$t.includes(i)).map(i=>i===X.H17180rGmail?{name:e.formatMessage(M.gmail),description:e.formatMessage(M.emailConnectorDescription)}:i===X.H17180rGoogleCalendar?{name:e.formatMessage(M.googleCalendar),description:e.formatMessage(M.calendarConnectorDescription)}:null).filter(i=>i!=null),o=n.map(i=>i.name),r=n.map(i=>i.description);return{connectorNames:e.formatList(o),connectorDescriptions:e.formatList(r)}}const Ft=t=>{"use forget";const e=_.c(40),{itemId:s,learnMoreUrl:n,image:o,connectorIds:r,onImpression:i,className:a}=t,d=T(),c=De();let f;e[0]!==d?(f=Oe(d),e[0]=d,e[1]=f):f=e[1];const{country:u}=f,{openSettings:m}=mt(),{mutate:p,isPending:g}=Re(!0),{mutate:x}=pt(r,s),[h,v]=D.useState(null);let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b={fetchValidLinksOnly:!0,productSku:We.CONNECTOR_SETTING},e[2]=b):b=e[2];const{connectorLinks:y,isLoading:w}=qe(b);let C;e[3]===Symbol.for("react.memo_cache_sentinel")?(C=[],e[3]=C):C=e[3];const[j,N]=D.useState(C),O=Ue();let $;e[4]!==y?($=S=>y.has(S),e[4]=y,e[5]=$):$=e[5];const P=$;let Y;e[6]!==p?(Y=S=>{p({setting:ne[S],value:!0})},e[6]=p,e[7]=Y):Y=e[7];const A=Y;let G;e[8]!==r||e[9]!==A||e[10]!==P||e[11]!==O?(G=()=>{const S=r.filter(P),W=r.filter(F=>!P(F));S.forEach(F=>A(F)),W.forEach(F=>{O({referrer:Ge.PulseConnectorsProactiveToggle,connectorId:F,showSettingsBehindConnectorLink:!1,noRedirect:!0}),N(W)}),W.length===0&&v("accepted")},e[8]=r,e[9]=A,e[10]=P,e[11]=O,e[12]=G):G=e[12];const K=G;let z,H;e[13]!==A||e[14]!==P||e[15]!==j?(z=()=>{const S=j.filter(P);if(!S.length)return;S.forEach(A),v("accepted");const W=j.filter(F=>!S.includes(F));N(W)},H=[j,P,A],e[13]=A,e[14]=P,e[15]=j,e[16]=z,e[17]=H):(z=e[16],H=e[17]),D.useEffect(z,H);let V;e[18]!==r||e[19]!==P||e[20]!==p||e[21]!==x?(V=()=>{r.forEach(S=>{P(S)&&p({setting:ne[S],value:!1})}),x(),v("declined")},e[18]=r,e[19]=P,e[20]=p,e[21]=x,e[22]=V):V=e[22];const ee=V;let B;e[23]!==r||e[24]!==c?(B=At(r,c),e[23]=r,e[24]=c,e[25]=B):B=e[25];const{connectorNames:te,connectorDescriptions:Q}=B;let Z;return e[26]!==K||e[27]!==h||e[28]!==a||e[29]!==Q||e[30]!==te||e[31]!==u||e[32]!==ee||e[33]!==o||e[34]!==w||e[35]!==g||e[36]!==n||e[37]!==i||e[38]!==m?(Z=h?l.jsx(Rt,{className:a,content:l.jsx(k,J(L({},h==="accepted"?M.connectorsAcceptedText:M.connectorsDeclinedText),{values:{connectorDescriptions:Q}})),onClick:()=>m(Ye.Connectors)}):l.jsx(Ot,{className:a,image:o,connectorNames:te,connectorDescriptions:Q,learnMoreUrl:n,declineConnectors:ee,acceptConnectors:K,acceptButtonColor:u==="EU"?"ghost":"primary",isLoading:w||g,onImpression:i}),e[26]=K,e[27]=h,e[28]=a,e[29]=Q,e[30]=te,e[31]=u,e[32]=ee,e[33]=o,e[34]=w,e[35]=g,e[36]=n,e[37]=i,e[38]=m,e[39]=Z):Z=e[39],Z},Ot=t=>{"use forget";const e=_.c(32),{className:s,image:n,connectorNames:o,connectorDescriptions:r,learnMoreUrl:i,declineConnectors:a,acceptConnectors:d,acceptButtonColor:c,isLoading:f,onImpression:u}=t;let m;e[0]!==o||e[1]!==n?(m=l.jsx(Ne,{alt:o,src:n,fallbackSrc:null,className:"aspect-square h-full w-full rounded-2xl object-cover"}),e[0]=o,e[1]=n,e[2]=m):m=e[2];let p;e[3]!==r?(p=l.jsx("div",{className:"text-xl font-medium",children:l.jsx(k,J(L({},M.upsellCardTitle),{values:{connectorDescriptions:r}}))}),e[3]=r,e[4]=p):p=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(k,{id:"CJ28fH",defaultMessage:"Learn more"}),e[5]=g):g=e[5];let x;e[6]!==i?(x=l.jsx(ze,{href:i,className:"underline",children:g}),e[6]=i,e[7]=x):x=e[7];let h;e[8]!==o||e[9]!==x?(h=l.jsx("div",{children:l.jsx(k,J(L({},M.upsellCardDescription),{values:{connectorNames:o,LearnMoreLink:x}}))}),e[8]=o,e[9]=x,e[10]=h):h=e[10];let v;e[11]!==p||e[12]!==h?(v=l.jsxs("div",{className:"flex flex-col gap-1",children:[p,h]}),e[11]=p,e[12]=h,e[13]=v):v=e[13];let b;e[14]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(k,L({},M.connectorsDeclineCta)),e[14]=b):b=e[14];let y;e[15]!==a||e[16]!==f?(y=l.jsx(U,{color:"ghost",className:"border-token-border-light",onClick:a,loading:f,children:b}),e[15]=a,e[16]=f,e[17]=y):y=e[17];let w;e[18]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(k,L({},M.connectorsAllowCta)),e[18]=w):w=e[18];let C;e[19]!==c||e[20]!==d||e[21]!==f?(C=l.jsx(U,{color:c,onClick:d,loading:f,children:w}),e[19]=c,e[20]=d,e[21]=f,e[22]=C):C=e[22];let j;e[23]!==C||e[24]!==y?(j=l.jsxs("div",{className:"flex justify-end gap-2",children:[y,C]}),e[23]=C,e[24]=y,e[25]=j):j=e[25];let N;return e[26]!==s||e[27]!==u||e[28]!==m||e[29]!==j||e[30]!==v?(N=l.jsx(ie,{className:s,onImpression:u,image:m,content:v,actions:j}),e[26]=s,e[27]=u,e[28]=m,e[29]=j,e[30]=v,e[31]=N):N=e[31],N},Rt=t=>{"use forget";const e=_.c(11),{content:s,onClick:n,className:o}=t;let r;e[0]!==o?(r=E("justify-between",o),e[0]=o,e[1]=r):r=e[1];let i;e[2]!==s?(i=l.jsx("div",{className:"flex-1 text-sm",children:s}),e[2]=s,e[3]=i):i=e[3];let a;e[4]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(k,L({},M.manageConnectorsCta)),e[4]=a):a=e[4];let d;e[5]!==n?(d=l.jsx(U,{className:"flex-shrink-0",color:"secondary",onClick:n,children:a}),e[5]=n,e[6]=d):d=e[6];let c;return e[7]!==r||e[8]!==i||e[9]!==d?(c=l.jsxs(Tt,{className:r,children:[i,d]}),e[7]=r,e[8]=i,e[9]=d,e[10]=c):c=e[10],c};function Wt(){"use forget";const t=_.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx(I,{className:"mb-6 h-12 w-46 rounded-full"}),l.jsx(I,{className:"h-4 w-full max-w-xl rounded-full"}),l.jsx(I,{className:"h-4 w-full max-w-[28rem] rounded-full"})]}),l.jsx(q,{}),l.jsx(q,{withSecondaryAction:!0}),l.jsx(q,{}),l.jsx(q,{}),l.jsx(q,{})]}),t[0]=e):e=t[0],e}function q(t){"use forget";const e=_.c(4),{withSecondaryAction:s}=t,n=s===void 0?!1:s;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(I,{className:"aspect-square h-full w-full rounded-2xl"}),e[0]=o):o=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx(I,{className:"h-6 w-3/4 rounded-lg"}),l.jsx(I,{className:"h-4 w-11/12 rounded-lg"})]}),e[1]=r):r=e[1];let i;return e[2]!==n?(i=l.jsx(ie,{image:o,content:r,actions:n?l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx(xe,{}),l.jsx(I,{className:"h-10 w-40 rounded-full"})]}):l.jsx(xe,{})}),e[2]=n,e[3]=i):i=e[3],i}function xe(){"use forget";const t=_.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("div",{className:"flex items-center gap-3",children:Array.from({length:4}).map(qt)}),t[0]=e):e=t[0],e}function qt(t,e){return l.jsx(I,{className:"h-6 w-6 rounded-full"},e)}function Ut(t,e){"use forget";var d;const s=_.c(7);let n;if(s[0]!==e||s[1]!==t){const c=(d=t.filter(ke).map(zt).filter(Gt))!=null?d:[];e&&c.push(e),n=c.filter(Yt),s[0]=e,s[1]=t,s[2]=n}else n=s[2];const o=n,r=$e();let i,a;s[3]!==o||s[4]!==r?(i=()=>{o.forEach(c=>{r.prefetchQuery(L({},gt({clientThreadId:c})))})},a=[o,r],s[3]=o,s[4]=r,s[5]=i,s[6]=a):(i=s[5],a=s[6]),D.useEffect(i,a)}function Yt(t){return!He(t)}function Gt(t){return t!=null}function zt(t){return t.conversation_id}function Ht(t){"use forget";const e=_.c(6),s=T();let n;e[0]!==t?(n=t.filter(ke).filter(Vt),e[0]=t,e[1]=n):n=e[1];const o=n;let r,i;e[2]!==o||e[3]!==s?(r=()=>{o.forEach(a=>{Bt(s,a.id)})},i=[o,s],e[2]=o,e[3]=s,e[4]=r,e[5]=i):(r=e[4],i=e[5]),D.useEffect(r,i)}function Vt(t){return t.conversation_id==null}const Bt=async(t,e)=>{var r,i;const s=Ve(t),n=Be(s.id),o=Qe(t);n||(Ze.initThread({clientThreadId:s.id,conversationMode:{kind:Je.PrimaryAssistant},userId:(r=o==null?void 0:o.user)==null?void 0:r.id,accountId:(i=o==null?void 0:o.account)==null?void 0:i.id,disableConversationNavigation:!0,pulseCardId:e}),me(ue(t),e,s.id)),Xe(()=>s.serverId$()!==void 0,()=>{const a=s.serverId$();a&&(Ke(a,d=>(d.disableConversationNavigation=!0,d)),me(ue(t),e,a))}),await xt({conversation:s,sourceEvent:new Event("pulse-card-stream"),promptMessage:tt(""),completionType:et.Next,extraStreamParams:{pulseCompletionParams:{type:"card",card_id:e}}})};function Qt(){"use forget";var u,m;const t=_.c(8),e=T();let s;t[0]!==e?(s=()=>_t(e),t[0]=e,t[1]=s):s=t[1];const{data:n,isLoading:o}=le(s);let r;t[2]!==(n==null?void 0:n.items)?(r=(u=n==null?void 0:n.items)!=null?u:[],t[2]=n==null?void 0:n.items,t[3]=r):r=t[3];const i=r,a=(m=n==null?void 0:n.feedback)==null?void 0:m.feedback_conversation_id,d=a!=null?a:void 0;ht(n==null?void 0:n.id),Ut(i,d),Ht(i);let c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[4]=c):c=t[4],D.useEffect(Zt,c);let f;return t[5]!==o||t[6]!==i?(f=l.jsx("div",{className:"mx-auto flex w-full max-w-3xl grow flex-col px-4 py-12 max-sm:px-6",children:o?l.jsx(Wt,{}):l.jsx(Jt,{pulseItems:i})}),t[5]=o,t[6]=i,t[7]=f):f=t[7],f}function Zt(){st.count(nt.PULSE,"chatgpt_web_fyp_feed_shown")}const Jt=t=>{"use forget";const e=_.c(14),{pulseItems:s}=t,n=T(),{trackCardImpression:o}=jt(),{openModal:r}=Ct();let i,a;e[0]!==n?(i=()=>{var f;return R(n).logEventWithStatsig("(Web) FYP Feed Shown","chatgpt_web_fyp_feed_shown",{source:(f=pe(n))!=null?f:vt.Url}),()=>{R(n).logEventWithStatsig("(Web) FYP Feed Hidden","chatgpt_web_fyp_feed_hidden"),pe.set(n,void 0)}},a=[n],e[0]=n,e[1]=i,e[2]=a):(i=e[1],a=e[2]),D.useEffect(i,a);let d;if(e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==o){let f;e[8]!==n||e[9]!==r||e[10]!==o?(f=(u,m)=>{var p,g,x,h,v,b,y,w,C,j,N,O,$;switch(u.content_type){case"header_with_date":return l.jsx(Et,{body:u.body,dateTs:(p=u.date)!=null?p:0,className:"mb-6"},m);case"commentary":return l.jsx(Me,{includeDivider:m>0,className:"mb-6",children:u.title},m);case"card":return l.jsx(Lt,{cardId:u.id,image:u.image,title:u.title,description:(g=u.preview_markdown_text)!=null?g:"",onImpression:()=>o(u.id),onClick:()=>{u.conversation_id&&r(u.id)},className:"mb-6"},m);case"footer":return l.jsx(Dt,{title:(x=u.title)!=null?x:"",body:(h=u.body)!=null?h:"",onImpression:()=>R(n).logEventWithStatsig("(Web) FYP Feed Footer Viewed","chatgpt_web_fyp_feed_footer_viewed"),className:"mb-6"},m);case"survey":return l.jsx(It,{suggestions:(b=(v=u.survey_config)==null?void 0:v.prompt.suggestions)!=null?b:[],title:(C=(w=(y=u.survey_config)==null?void 0:y.content)==null?void 0:w.title)!=null?C:"",onImpression:()=>R(n).logEventWithStatsig("(Web) FYP Feed Survey Viewed","chatgpt_web_fyp_feed_survey_viewed"),className:"mb-6"},m);case"connector_proactive_toggle":return we(n,"3304830717")&&((j=u.connector_ids)==null?void 0:j.length)>0&&l.jsx(Ft,{itemId:u.id,learnMoreUrl:(N=u.learn_more_url)!=null?N:"",image:($=(O=u.connectors_image)==null?void 0:O.url)!=null?$:"",connectorIds:u.connector_ids,onImpression:()=>R(n).logEventWithStatsig("(Web) FYP Proactive Connector Toggle Shown","chatgpt_web_fyp_proactive_connector_toggle_shown",{connector_ids:u.connector_ids}),className:"mb-6"},m);case"sugarbone_header":return!1;default:return null}},e[8]=n,e[9]=r,e[10]=o,e[11]=f):f=e[11],d=s.map(f),e[3]=n,e[4]=r,e[5]=s,e[6]=o,e[7]=d}else d=e[7];let c;return e[12]!==d?(c=l.jsx(l.Fragment,{children:d}),e[12]=d,e[13]=c):c=e[13],c};function Xt(){"use forget";const t=_.c(15),e=T();let s;t[0]!==e?(s=()=>!yt(e),t[0]=e,t[1]=s):s=t[1];const n=le(s);let o;t[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(at,{hideNewChat:!0}),t[2]=o):o=t[2];let r;t[3]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("h1",{className:"text-lg font-normal",children:l.jsx(k,{id:"I1hXU9",defaultMessage:"Pulse"})}),t[3]=r):r=t[3];let i;t[4]!==e||t[5]!==n?(i=!n&&l.jsx(St,{onClick:()=>Se(e)}),t[4]=e,t[5]=n,t[6]=i):i=t[6];let a;t[7]!==i?(a=l.jsx("div",{className:"h-header-height sticky top-0 z-10 flex shrink-0 items-center ps-6 pe-3",children:l.jsxs("div",{className:"flex grow items-center gap-2",children:[o,l.jsxs("div",{className:"flex w-full items-center justify-between",children:[r,i]})]})}),t[7]=i,t[8]=a):a=t[8];let d;t[9]!==n?(d=l.jsx(lt,{children:n?l.jsx(bt,{}):l.jsx(Kt,{})}),t[9]=n,t[10]=d):d=t[10];let c;t[11]===Symbol.for("react.memo_cache_sentinel")?(c=!1,t[11]=c):c=t[11];let f;return t[12]!==a||t[13]!==d?(f=l.jsxs("div",{className:"flex min-h-screen flex-col",children:[a,d,c]}),t[12]=a,t[13]=d,t[14]=f):f=t[14],f}function Kt(){"use forget";const t=_.c(4),e=T();let s;t[0]!==e?(s=we(e,"1833324140"),t[0]=e,t[1]=s):s=t[1];const n=s;let o;return t[2]!==n?(o=l.jsx(l.Fragment,{children:l.jsx(Qt,{})}),t[2]=n,t[3]=o):o=t[3],o}function es(){"use forget";const t=_.c(4),e=T();let s;t[0]!==e?(s=()=>wt(e),t[0]=e,t[1]=s):s=t[1];const n=le(s);if(n===void 0)return null;if(!n){let r;return t[2]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(Ae,{to:"/",replace:!0}),t[2]=r):r=t[2],r}let o;return t[3]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(ts,{}),t[3]=o):o=t[3],o}function ts(){return l.jsx(ss,{children:l.jsx(Xt,{})})}function ss(t){"use forget";const e=_.c(5),{children:s}=t,n=T();let o;e[0]!==n?(o=ot(n,it),e[0]=n,e[1]=o):o=e[1];let r;return e[2]!==s||e[3]!==o?(r=l.jsx(rt,{conversation:o,threadContent:s}),e[2]=s,e[3]=o,e[4]=r):r=e[4],r}const Is=()=>null,Ds=()=>!1,$s=Fe(function(){return l.jsx(es,{})});export{Is as clientLoader,$s as default,Ds as shouldRevalidate};
//# sourceMappingURL=jc2xonshyme4pqqv.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dch45l9yrtbjo93p.js","assets/kfrdmkli83ureki3.js","assets/fyw02vlaiv2vq6cj.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/conversation-small-lq38g8zw.css","assets/f9depa6obi654vch.js"])))=>i.map(i=>d[i]);
var Te=Object.defineProperty,ve=Object.defineProperties;var Ae=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var de=(a,e,s)=>e in a?Te(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s,f=(a,e)=>{for(var s in e||(e={}))Se.call(e,s)&&de(a,s,e[s]);if(ce)for(var s of ce(e))je.call(e,s)&&de(a,s,e[s]);return a},R=(a,e)=>ve(a,Ae(e));import{c as z,j as t,h as ie,r as B,M as p,e as ge,_ as Z}from"./kfrdmkli83ureki3.js";import{x as Ee,bp as ke,w as Ne,mT as _e}from"./fyw02vlaiv2vq6cj.js";import{p as Ie,rO as Oe,i1 as pe,u as ne,J as F,d as he,bd as we,aC as Pe,dN as oe,az as X,aB as xe,dP as Le,cy as re,rP as De,aZ as Re,aA as ee,fT as Be,dT as Fe,rk as Ue,eJ as Ge,cq as ze,cB as We}from"./kw08ajijqinojrwh.js";import{I as Q}from"./l3foo5601l7fb51e.js";import{u as Ve}from"./g8cpkydknwwj989v.js";import{u as qe}from"./c7lf6x6u521mpx19.js";function ue(a){"use forget";const e=z.c(19),{form:s,showErrors:o,setShowErrors:c,clientIdAriaLabel:m,clientIdPlaceholder:n,clientSecretAriaLabel:l,clientSecretPlaceholder:d}=a;let u;e[0]!==m||e[1]!==n||e[2]!==c||e[3]!==o?(u=C=>t.jsx(Q,{name:"custom-connector-client-id",value:C.state.value,onChange:T=>{C.handleChange(T.target.value),o&&c(!1)},ariaLabel:m,placeholder:n,error:o?C.state.meta.errors[0]:void 0,autoComplete:"off",inputClassName:"bg-token-bg-primary!"}),e[0]=m,e[1]=n,e[2]=c,e[3]=o,e[4]=u):u=e[4];let M;e[5]!==s.Field||e[6]!==u?(M=t.jsx(s.Field,{name:"oauthClientId",children:u}),e[5]=s.Field,e[6]=u,e[7]=M):M=e[7];let h;e[8]!==l||e[9]!==d||e[10]!==c||e[11]!==o?(h=C=>t.jsx(Q,{name:"custom-connector-client-secret",type:"password",value:C.state.value,onChange:T=>{C.handleChange(T.target.value),o&&c(!1)},ariaLabel:l,placeholder:d,error:o?C.state.meta.errors[0]:void 0,autoComplete:"off",inputClassName:"bg-token-bg-primary!"}),e[8]=l,e[9]=d,e[10]=c,e[11]=o,e[12]=h):h=e[12];let x;e[13]!==s.Field||e[14]!==h?(x=t.jsx(s.Field,{name:"oauthClientSecret",children:h}),e[13]=s.Field,e[14]=h,e[15]=x):x=e[15];let g;return e[16]!==M||e[17]!==x?(g=t.jsxs("div",{className:"flex flex-col gap-3",children:[M,x]}),e[16]=M,e[17]=x,e[18]=g):g=e[18],g}const Ye=X(()=>Z(()=>import("./dch45l9yrtbjo93p.js"),__vite__mapDeps([0,1])),{loading:a=>ee(a)}),He=X(()=>Z(()=>import("./fyw02vlaiv2vq6cj.js").then(a=>a.zy),__vite__mapDeps([2,1,3,4,5])),{loading:a=>ee(a)}),Ke=X(()=>Z(()=>import("./fyw02vlaiv2vq6cj.js").then(a=>a.zA),__vite__mapDeps([2,1,3,4,5])),{loading:a=>ee(a)}),me=1024*1024*4,fe=()=>{"use forget";const a=z.c(1);let e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("span",{className:"text-token-text-tertiary font-normal",children:t.jsx(p,f({},i.optionalText))}),a[0]=e):e=a[0],e},Je=a=>{"use forget";const e=z.c(15),{previewUrl:s,isDragActive:o}=a,c=ie(),m=Le();if(!s||o){const h=o?"border-green-600 bg-green-600/30 text-green-600":"border-token-border-heavy text-token-text-tertiary";let x;e[0]!==h?(x=re("rounded-xl border border-dashed p-4",h),e[0]=h,e[1]=x):x=e[1];let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(He,{className:"h-6 w-6"}),e[2]=g):g=e[2];let C;return e[3]!==x?(C=t.jsx("span",{className:x,children:g}),e[3]=x,e[4]=C):C=e[4],C}const n=m&&"bg-white";let l;e[5]!==n?(l=re("bg-token-bg-tertiary overflow-hidden rounded-xl border",n),e[5]=n,e[6]=l):l=e[6];let d;e[7]!==c?(d=c.formatMessage(i.iconPreviewAlt),e[7]=c,e[8]=d):d=e[8];let u;e[9]!==s||e[10]!==d?(u=t.jsx("img",{src:s,alt:d,className:"h-14 w-14 object-cover"}),e[9]=s,e[10]=d,e[11]=u):u=e[11];let M;return e[12]!==l||e[13]!==u?(M=t.jsx("span",{className:l,children:u}),e[12]=l,e[13]=u,e[14]=M):M=e[14],M},$e=a=>new Promise((e,s)=>{const o=new FileReader;o.onloadend=()=>e(o.result),o.onerror=()=>s(),o.readAsDataURL(a)}),Ct=({onClose:a,redirectAfter:e})=>{"use no forget";const s=Ie(),{mutateAsync:o,isPending:c}=Oe(pe.CONNECTOR_SETTING),m=ne(),n=ie(),[l,d]=B.useState(!1),[u,M]=B.useState("OAUTH"),[h,x]=B.useState(!1),[g,C]=B.useState(!1),T=Ve({defaultValues:{name:"",url:"",description:"",oauthClientId:"",oauthClientSecret:""},onSubmit:async({value:r})=>{var W,V,q;const y=w?await $e(w):null;let K=[],J=null;if(u==="OAUTH")try{let v=[];if(!S){const j=await De(r.url.trim());K=[j],v=(W=j.base_scopes)!=null?W:[]}if(L){const j=r.oauthClientId.trim(),$=r.oauthClientSecret.trim();if($.length!==0&&j.length===0){s.danger(i.clientIdRequired);return}j.length!==0&&(J={client_id:j,client_secret:$,scopes:v})}}catch(v){s.danger(i.oauthConfigError,{error:v});return}try{const v=await o({name:r.name.trim(),mcp_url:r.url.trim(),description:r.description.trim(),logo_url:y,supported_auth:S?void 0:K,oauth_client_params:J,authTypeOverride:S?void 0:u,skipSafetyChecks:P,redirectAfter:e});if(!v.implementsRetrievable&&!((V=v.connector)!=null&&V.supports_full_actions)){k(!0);return}a((q=v.connector)==null?void 0:q.id)}catch(v){v instanceof Re&&v.status===409?s.danger(i.duplicateName):s.danger(i.createConnectorError,{error:v});return}},validators:{onSubmit:({value:r})=>{const y={};return r.name.trim()||(y.name=n.formatMessage({id:"vtyh9X",defaultMessage:"Name is required"})),r.url.trim()?r.url.trim().match(/^https?:\/\//)||(y.url=n.formatMessage({id:"7hn6Jq",defaultMessage:"URL is invalid"})):y.url=n.formatMessage({id:"7WV2q4",defaultMessage:"URL is required"}),{fields:y}}}}),[w,te]=B.useState(null),[E,se]=B.useState(null),[H,k]=B.useState(!1),P=F(m,"2165149362"),L=F(m,"3832963721"),S=F(m,"4145215199"),N=he(()=>Be(m)),_=r=>{if(E&&URL.revokeObjectURL(E),r.size>me){s.danger(i.iconTooLarge);return}te(r);const y=URL.createObjectURL(r);se(y)},{getRootProps:I,getInputProps:O,isDragActive:U}=qe({accept:{"image/*":[]},multiple:!1,noKeyboard:!0,noClick:!0,maxSize:me,onDropAccepted:r=>{r.length>0&&_(r[0])},onDropRejected:()=>{s.danger(i.iconInvalid)}}),G=r=>{r.preventDefault(),h&&(d(!0),T.handleSubmit())},D=we(m,"2281575548"),b=D.get("docs_url","https://platform.openai.com/docs/mcp"),ae=D.get("safety_url","https://platform.openai.com/docs/mcp#risks-and-safety");return t.jsx(Pe,{testId:"modal-create-custom-connector",title:t.jsx("span",{className:"flex items-center gap-1",children:t.jsx(p,R(f({},i.createCustomConnectorModalTitle),{values:{betaBadge:t.jsx(_e,{})}}))}),type:"success",isOpen:!0,onClose:()=>a(),showCloseButton:!0,size:"custom",className:"max-w-[448px]",children:t.jsxs("form",{onSubmit:G,className:"flex flex-col gap-4",children:[t.jsxs("label",R(f({},I({className:"flex cursor-pointer items-center gap-2.5"})),{children:[t.jsx("input",f({},O())),t.jsx(Je,{previewUrl:E,isDragActive:U}),t.jsxs("span",{className:"flex flex-col gap-1",children:[t.jsx("span",{className:"text-sm font-medium",children:t.jsx(p,R(f({},i.iconTitle),{values:{optionalText:t.jsx(fe,{})}}))}),t.jsx("span",{className:"text-token-text-tertiary text-xs",children:t.jsx(p,f({},i.iconDescription))})]})]})),t.jsx(T.Field,{name:"name",children:r=>t.jsxs("div",{children:[t.jsx("label",{htmlFor:"custom-connector-name",className:"mb-1 block text-sm font-medium",children:t.jsx(p,f({},i.nameTitle))}),t.jsx(Q,{name:"custom-connector-name",value:r.state.value,onChange:y=>{r.handleChange(y.target.value),l&&d(!1)},ariaLabel:n.formatMessage(i.nameTitle),placeholder:n.formatMessage(i.namePlaceholder),error:l?r.state.meta.errors[0]:void 0,inputClassName:"bg-token-bg-primary!"})]})}),t.jsx(T.Field,{name:"description",children:r=>t.jsxs("div",{children:[t.jsx("label",{htmlFor:"custom-connector-description",className:"mb-1 block text-sm font-medium",children:t.jsx(p,R(f({},i.descriptionTitle),{values:{optionalText:t.jsx(fe,{})}}))}),t.jsx(Ee,{name:"custom-connector-description",value:r.state.value,onChange:y=>r.handleChange(y.target.value),ariaLabel:n.formatMessage(i.descriptionTitle,{optionalText:n.formatMessage(i.optionalText)}),placeholder:n.formatMessage(i.descriptionPlaceholder),inputClassName:"bg-token-bg-primary!"})]})}),t.jsx(T.Field,{name:"url",children:r=>t.jsxs("div",{children:[t.jsx("label",{htmlFor:"custom-connector-url",className:"mb-1 block text-sm font-medium",children:t.jsx(p,f({},i.urlTitle))}),t.jsx(Q,{name:"custom-connector-url",value:r.state.value,onChange:y=>{r.handleChange(y.target.value),l&&d(!1),H&&k(!1)},ariaLabel:n.formatMessage(i.urlTitle),placeholder:n.formatMessage(i.urlPlaceholder),inputClassName:"bg-token-bg-primary!",error:H?t.jsx("span",{children:t.jsx(p,R(f({},N?i.developerModeConformanceError:i.conformanceError),{values:{link:y=>t.jsx(oe,{href:b,openNewTab:!0,children:y})}}))}):l?r.state.meta.errors[0]:void 0})]})}),!S&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"custom-connector-auth",className:"mb-1 block text-sm font-medium",children:t.jsx(p,f({},i.authTypeTitle))}),t.jsx(ke,{options:[{label:n.formatMessage(i.oauthOption),value:"OAUTH"},{label:n.formatMessage(i.noAuthOption),value:"NONE"}],value:u,onValueChange:r=>M(r),triggerId:"custom-connector-auth",triggerClassName:"w-full justify-between border-token-border-heavy"})]}),S&&L?t.jsxs("div",{className:"border-token-border-heavy rounded-xl border",children:[t.jsx("button",{type:"button",className:"w-full px-4 py-3 text-start text-sm font-medium","aria-expanded":g,"aria-controls":"advanced-auth-panel",onClick:()=>C(r=>!r),children:t.jsx(p,f({},i.advancedSettings))}),g&&t.jsx("div",{id:"advanced-auth-panel",className:"border-token-border-heavy border-t p-4",children:t.jsx(ue,{form:T,showErrors:l,setShowErrors:d,clientIdAriaLabel:n.formatMessage(i.clientIdTitle),clientIdPlaceholder:n.formatMessage(i.oauthClientIdPlaceholder),clientSecretAriaLabel:n.formatMessage(i.clientSecretTitle),clientSecretPlaceholder:n.formatMessage(i.oauthClientSecretPlaceholder)})})]}):u==="OAUTH"&&L&&t.jsx(ue,{form:T,showErrors:l,setShowErrors:d,clientIdAriaLabel:n.formatMessage(i.clientIdTitle),clientIdPlaceholder:n.formatMessage(i.oauthClientIdPlaceholder),clientSecretAriaLabel:n.formatMessage(i.clientSecretTitle),clientSecretPlaceholder:n.formatMessage(i.oauthClientSecretPlaceholder)}),t.jsxs("div",{children:[t.jsxs("div",{className:"border-token-border-status-warning bg-token-bg-status-warning text-token-text-status-warning flex items-center gap-2 rounded-t-2xl border border-b-0 px-4 py-3 text-sm font-medium",children:[t.jsx(Ye,{className:"h-6 w-6"}),t.jsx("span",{children:t.jsx(p,R(f({},i.customConnectorRiskBanner),{values:{link:r=>t.jsx(oe,{href:ae,openNewTab:!0,className:"inline",children:r},"custom-connector-banner-link")}}))})]}),t.jsxs("label",{htmlFor:"trust-checkbox",className:"flex items-center gap-3 rounded-b-2xl border border-gray-200 bg-white px-4 py-4 text-sm dark:border-gray-700 dark:bg-gray-800",children:[t.jsx(Ne,{id:"trust-checkbox",onChange:()=>x(r=>!r),disabled:c}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:t.jsx(p,f({},i.acceptLabelTitle))}),t.jsx("p",{className:"text-token-text-tertiary text-sm",children:t.jsx(p,f({},i.customConnectorRiskSubtitle))})]})]})]}),t.jsxs("div",{className:"flex w-full items-center justify-between",children:[t.jsxs(oe,{href:b,openNewTab:!0,className:"text-token-text-tertiary text-sm",children:[t.jsx(Ke,{className:"me-1.5 inline h-4.5 w-4.5"}),t.jsx(p,f({},i.readTheGuideLink))]}),t.jsx(T.Subscribe,{selector:r=>[r.isSubmitting],children:([r])=>t.jsx(xe,{type:"submit",loading:r,disabled:!h,children:t.jsx(p,f({},i.createButton))})})]})]})})},i=ge({createCustomConnectorModalTitle:{id:"createCustomConnectorModal.title",defaultMessage:"New Connector {betaBadge}"},iconTitle:{id:"createCustomConnectorModal.iconTitle",defaultMessage:"Icon {optionalText}"},iconDescription:{id:"createCustomConnectorModal.iconDescription",defaultMessage:"Minimum size: 128 x 128 px"},nameTitle:{id:"createCustomConnectorModal.nameTitle",defaultMessage:"Name"},urlTitle:{id:"createCustomConnectorModal.urlTitle",defaultMessage:"MCP Server URL"},descriptionTitle:{id:"createCustomConnectorModal.descriptionTitle",defaultMessage:"Description {optionalText}"},optionalText:{id:"createCustomConnectorModal.optionalText",defaultMessage:"(optional)"},readTheGuideLink:{id:"createCustomConnectorModal.readTheGuideLink",defaultMessage:"Read the guide"},createButton:{id:"createCustomConnectorModal.createButton",defaultMessage:"Create"},iconPreviewAlt:{id:"createCustomConnectorModal.iconPreviewAlt",defaultMessage:"Icon preview"},namePlaceholder:{id:"createCustomConnectorModal.namePlaceholder",defaultMessage:"Custom Tool"},urlPlaceholder:{id:"createCustomConnectorModal.urlPlaceholder",defaultMessage:"https://example.com/sse"},descriptionPlaceholder:{id:"createCustomConnectorModal.descriptionPlaceholder",defaultMessage:"Explain what it does in a few words"},iconTooLarge:{id:"createCustomConnectorModal.iconTooLarge",defaultMessage:"Icon is too large"},iconInvalid:{id:"createCustomConnectorModal.iconInvalid",defaultMessage:"Invalid icon"},authTypeTitle:{id:"createCustomConnectorModal.authTypeTitle",defaultMessage:"Authentication"},oauthOption:{id:"createCustomConnectorModal.oauthOption",defaultMessage:"OAuth"},noAuthOption:{id:"createCustomConnectorModal.noAuthOption",defaultMessage:"No authentication"},oauthConfigError:{id:"createCustomConnectorModal.oauthConfigError",defaultMessage:"Error fetching OAuth configuration"},customConnectorRiskBanner:{id:"createCustomConnectorModal.customConnectorRiskBanner",defaultMessage:"Custom MCP servers introduce risk. <link>Learn more</link>"},acceptLabelTitle:{id:"createCustomConnectorModal.acceptLabelTitle",defaultMessage:"I understand and want to continue"},customConnectorRiskSubtitle:{id:"createCustomConnectorModal.customConnectorRiskSubtitle",defaultMessage:"OpenAI hasn't reviewed this MCP server. Attackers may attempt to steal your data or trick the model into taking unintended actions, including destroying data."},conformanceError:{id:"createCustomConnectorModal.conformanceError",defaultMessage:"This MCP server doesn't implement <link>our specification</link>"},developerModeConformanceError:{id:"createCustomConnectorModal.developerModeConformanceError",defaultMessage:"This MCP server doesn't implement <link>our specification</link>. Enable Developer Mode in Advanced Connector Settings to create custom connectors that support arbitrary tool calls"},createConnectorError:{id:"createCustomConnectorModal.createConnectorError",defaultMessage:"Error creating connector"},duplicateName:{id:"createCustomConnectorModal.duplicateName",defaultMessage:"Connector name already exists"},clientIdTitle:{id:"createCustomConnectorModal.clientIdTitle",defaultMessage:"OAuth client ID"},oauthClientIdPlaceholder:{id:"createCustomConnectorModal.oauthClientIdPlaceholder",defaultMessage:"OAuth Client ID (Optional)"},clientSecretTitle:{id:"createCustomConnectorModal.clientSecretTitle",defaultMessage:"OAuth client secret"},oauthClientSecretPlaceholder:{id:"createCustomConnectorModal.oauthClientSecretPlaceholder",defaultMessage:"OAuth Client Secret (Optional)"},advancedSettings:{id:"createCustomConnectorModal.advancedSettings",defaultMessage:"Advanced settings"},clientIdRequired:{id:"createCustomConnectorModal.clientIdRequired",defaultMessage:"Enter a client ID or remove the client secret"}});function Qe(a){"use forget";var s,o;const e=Fe();return!e||!a?!1:!!((s=a.owners)!=null&&s.some(c=>c.type==="USER"&&c.id===e.normalizedAccountUserId)||(e.isAdminOfAccount()||e.isOwnerOfAccount())&&((o=a.owners)!=null&&o.some(c=>c.type==="WORKSPACE"&&c.id===e.getWorkspaceId())))}const A=ge({adminConnectedDescription:{id:"PCSldL",defaultMessage:"This connector is managed by your ChatGPT administrator"},connectorDisabled:{id:"v6nWaS",defaultMessage:"This connector is not enabled for your account. Please contact your administrator to enable it."},backButton:{id:"2XH9oW",defaultMessage:"Back"},information:{id:"m6oyFG",defaultMessage:"Information"},blockItems:{id:"guxwme",defaultMessage:"Exclude items from sync"},connectButton:{id:"bQDuj2",defaultMessage:"Connect"},syncingButton:{id:"2ma+da",defaultMessage:"Syncing"},syncingTooltip:{id:"krz66p",defaultMessage:"Syncing in progress: {syncProgress}%"},syncingSecondaryTooltip:{id:"cNPAq9",defaultMessage:"Full sync can take a few hours"},lastSynced:{id:"8cO6Ez",defaultMessage:"Last synced on {lastUpdatedAt}"},refreshActionsButton:{id:"lyYLo0",defaultMessage:"Refresh"},enableSync:{id:"FQFQxe",defaultMessage:"Enable sync"},disableSync:{id:"BNY6qe",defaultMessage:"Disable sync"},disableSyncModalTitle:{id:"DGZB7x",defaultMessage:"Disable sync for {connector}?"},disableSyncModalDescription:{id:"qJQyMJ",defaultMessage:"All synced data will be deleted. If you re-enable sync, it can take 8 hours or more to sync all content."},disableSyncModalCheckboxLabel:{id:"Dl8YNg",defaultMessage:"I understand all synced data will be deleted"},disconnectButton:{id:"eeZbkM",defaultMessage:"Disconnect"},settingsButton:{id:"Z24j9e",defaultMessage:"Settings"},publishButton:{id:"5vHo1z",defaultMessage:"Publish"},manageDropdown:{id:"q/O9f7",defaultMessage:"Manage"},reportButton:{id:"R5Pd7v",defaultMessage:"Report"},reportModalTitle:{id:"6oNeBk",defaultMessage:"Report"},connectedOn:{id:"b1ykGv",defaultMessage:"Connected on"},connected:{id:"9C9A8l",defaultMessage:"Connected"},createdAt:{id:"TACRvJ",defaultMessage:"Created at"},deleteButton:{id:"Gn89FJ",defaultMessage:"Delete"},actions:{id:"K1PvPz",defaultMessage:"Actions"},readAction:{id:"OUdavU",defaultMessage:"Read"},writeAction:{id:"hfCHYo",defaultMessage:"Write"},openWorldAction:{id:"cwPgDK",defaultMessage:"Open world"},disabledAction:{id:"Bn5roC",defaultMessage:"This action is disabled"},metadataHeading:{id:"qLsGc8",defaultMessage:"Metadata"},metadataOutputTemplate:{id:"KzJNSi",defaultMessage:"Output template"},metadataToolInvokingMessage:{id:"vNFHen",defaultMessage:"Invoking message"},metadataToolInvokedMessage:{id:"BQ6rYZ",defaultMessage:"Invoked message"},metadataWidgetAccessible:{id:"hdiMx2",defaultMessage:"Widget accessible"},metadataWidgetCsp:{id:"zDrGb1",defaultMessage:"Widget CSP"},securitySchemes:{id:"xkLoDf",defaultMessage:"Security schemes"},githubInstallationAlert:{id:"V4NUT5",defaultMessage:"ChatGPT needs access to your repositories to search them."},chooseRepos:{id:"VW7eJj",defaultMessage:"Choose repositories"},preferences:{id:"7kCnYS",defaultMessage:"Preferences"},recommendConnection:{id:"XpEYQL",defaultMessage:"Connection recommendations"},recommendConnectionDescription:{id:"CH3i+a",defaultMessage:"Let ChatGPT recommend connecting to {connectorName} when responding."},allowUsingAutomatically:{id:"VaMXaj",defaultMessage:"Use automatically in chat"},allowUsingAutomaticallyDescription:{id:"IHuWia",defaultMessage:"Let ChatGPT reference {connectorName} automatically when responding."},settingError:{id:"zcPmpl",defaultMessage:"Error updating setting."},editDescription:{id:"8KkNYS",defaultMessage:"Edit connector descriptions"},saveDescription:{id:"b728ms",defaultMessage:"Save"},descriptionFieldLabel:{id:"G4TQb4",defaultMessage:"Connector description"},descriptionPlaceholder:{id:"UDk3bR",defaultMessage:"Describe what this connector does for your team"},modelDescriptionFieldLabel:{id:"5YP4M7",defaultMessage:"Model description"},updateDescriptionSuccess:{id:"s/uJtK",defaultMessage:"Connector details updated"},updateDescriptionError:{id:"/zjnPq",defaultMessage:"Couldn't update connector details"},connectOnMobileTooltip:{id:"Mpw12y",defaultMessage:"Connect on your iPhone or iPad"}}),Ce="openai/outputTemplate",Me="openai/toolInvocation/invoking",be="openai/toolInvocation/invoked",ye="openai/widgetAccessible",Y="openai/widgetCSP",Ze=[Ce,Me,be,ye,Y],le=a=>{if(a){if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return String(a);try{return JSON.stringify(a,null,2)}catch(e){return String(a)}}},Xe=a=>Ze.reduce((e,s)=>{const o=le(a==null?void 0:a[s]);return o===void 0||e.push({key:s,value:o}),e},[]),et=a=>{if(!a||a.length===0)return[];const e=a.find(o=>(o==null?void 0:o.meta)&&o.meta[Y]!==void 0);if(!(e!=null&&e.meta))return[];const s=le(e.meta[Y]);return s===void 0?[]:[{key:Y,value:s}]},tt=a=>{"use forget";const e=z.c(10),{entries:s,headingMessage:o,labels:c}=a;if(s.length===0)return null;let m;e[0]!==o?(m=t.jsx("div",{className:"text-token-text-tertiary text-[11px] font-semibold uppercase",children:t.jsx(p,f({},o))}),e[0]=o,e[1]=m):m=e[1];let n;if(e[2]!==s||e[3]!==c){let d;e[5]!==c?(d=u=>{const{key:M,value:h}=u;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"text-token-text-secondary",children:t.jsx(p,f({},c[M]))}),t.jsx("pre",{className:"bg-token-bg-tertiary text-token-text-tertiary rounded-md px-2 py-1 font-mono text-[11px] leading-[14px] whitespace-pre-wrap",children:h})]},M)},e[5]=c,e[6]=d):d=e[6],n=s.map(d),e[2]=s,e[3]=c,e[4]=n}else n=e[4];let l;return e[7]!==m||e[8]!==n?(l=t.jsxs("div",{className:"mt-1 flex flex-col gap-2 text-xs",children:[m,n]}),e[7]=m,e[8]=n,e[9]=l):l=e[9],l},st=a=>!a||a.length===0?[]:a.reduce((e,s)=>{const o=le(s);return o===void 0||e.push({key:s.type,value:o}),e},[]),at=a=>{"use forget";const e=z.c(10),{entries:s,headingMessage:o}=a;if(s.length===0){let u;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(t.Fragment,{}),e[0]=u):u=e[0],u}let c;e[1]!==s?(c=s.map(ot).join(",\n"),e[1]=s,e[2]=c):c=e[2];const m=c;let n;e[3]!==o?(n=t.jsx("div",{className:"text-token-text-tertiary text-[11px] font-semibold uppercase",children:t.jsx(p,f({},o))}),e[3]=o,e[4]=n):n=e[4];let l;e[5]!==m?(l=t.jsx("pre",{className:"bg-token-bg-tertiary text-token-text-tertiary rounded-md px-2 py-1 font-mono text-[11px] leading-[14px] whitespace-pre-wrap",children:m}),e[5]=m,e[6]=l):l=e[6];let d;return e[7]!==n||e[8]!==l?(d=t.jsxs("div",{className:"mt-1 flex flex-col gap-2 text-xs",children:[n,l]}),e[7]=n,e[8]=l,e[9]=d):d=e[9],d};function ot(a){return a.value}const nt=X(()=>Z(()=>import("./f9depa6obi654vch.js"),__vite__mapDeps([6,1])),{loading:a=>ee(a)}),rt=a=>{const e=[];return a.is_consequential&&e.push("write"),e},it=({badgeKeys:a,labels:e})=>a.length===0?null:t.jsx("div",{className:"flex items-center gap-1 select-none",children:a.map(s=>t.jsx("div",{className:"border-token-text-quartenary text-token-text-secondary dark:border-token-border-heavy dark:text-token-text-tertiary items-center rounded-full border px-1 py-0.5 text-[8px] leading-3 font-semibold uppercase",children:t.jsx(p,f({},e[s]))},s))}),lt={read:A.readAction,write:A.writeAction,open_world:A.openWorldAction},ct={[Ce]:A.metadataOutputTemplate,[Me]:A.metadataToolInvokingMessage,[be]:A.metadataToolInvokedMessage,[ye]:A.metadataWidgetAccessible,[Y]:A.metadataWidgetCsp},Mt=a=>{"use forget";const e=z.c(44),{connector:s,link:o,isRefreshingActions:c,onRefreshActions:m,onToggleAction:n,isTogglingAction:l}=a,d=ne();let u;e[0]!==d?(u=()=>Ge(d),e[0]=d,e[1]=u):u=e[1];const M=he(u),{actions:h,isLoading:x}=Ue(s,pe.CONNECTOR_SETTING),g=ne();let C;e[2]!==g?(C=F(g,"156264210"),e[2]=g,e[3]=C):C=e[3];const T=C;let w;e[4]!==g?(w=F(g,"3475796410"),e[4]=g,e[5]=w):w=e[5];const te=w;let E;e[6]!==g?(E=F(g,"350291705"),e[6]=g,e[7]=E):E=e[7];const se=E,H=F(g,"1817078280"),k=s.connector_type!=="SERVICE"||te,P=ie(),L=Qe(s)&&(s.status==="ONLY_ME"||se)&&!!o;if(!M&&(!(H&&s.supports_full_actions&&s.status==="ENABLED")||s.connector_type==="FIRST_PARTY_ECOSYSTEM"||s.distribution_channel==="ECOSYSTEM_DIRECTORY"))return null;let S;e[8]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(p,f({},A.actions)),e[8]=S):S=e[8];let N;e[9]!==L||e[10]!==x||e[11]!==c||e[12]!==m?(N=L&&m&&t.jsx(xe,{onClick:m,size:"small",color:"secondary",loading:!!c||x,children:t.jsx(p,f({},A.refreshActionsButton))}),e[9]=L,e[10]=x,e[11]=c,e[12]=m,e[13]=N):N=e[13];let _;e[14]!==N?(_=t.jsxs("div",{className:"flex items-baseline justify-between pb-3 text-base font-medium",children:[S,N]}),e[14]=N,e[15]=_):_=e[15];let I;if(e[16]!==h||e[17]!==k||e[18]!==s.connector_type||e[19]!==s.status||e[20]!==s.supports_full_actions||e[21]!==P||e[22]!==l||e[23]!==(o==null?void 0:o.actions)||e[24]!==n||e[25]!==T){let G;e[27]!==s.connector_type?(G=b=>s.connector_type==="SERVICE"?b.is_read_only:!0,e[27]=s.connector_type,e[28]=G):G=e[28];let D;e[29]!==k||e[30]!==s.connector_type||e[31]!==s.status||e[32]!==s.supports_full_actions||e[33]!==P||e[34]!==l||e[35]!==(o==null?void 0:o.actions)||e[36]!==n||e[37]!==T?(D=b=>{var V,q,v,j;const ae=rt(b),r=(V=b.meta)!=null?V:{},y=Xe(r),K=et((q=b.templates)!=null?q:[]),J=[...y,...K],W=!!(s.supports_full_actions&&s.status==="ENABLED")||s.status==="ONLY_ME"||s.connector_type==="SERVICE"&&b.is_read_only||["search","fetch"].includes(b.name);return t.jsxs("li",{className:W?void 0:"opacity-50",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:re(["font-mono font-medium",!b.is_enabled&&"text-token-text-tertiary"]),children:b.name}),!b.is_enabled&&t.jsx(ze,{label:P.formatMessage(A.disabledAction),children:t.jsx(nt,{className:"icon text-token-text-tertiary h-4 w-4"})})]}),it({badgeKeys:ae,labels:lt}),W&&T&&n&&t.jsx(We,{"aria-hidden":!0,checked:(v=o==null?void 0:o.actions)==null?void 0:v.includes(b.name),size:"small",onCheckedChange:$=>n==null?void 0:n(b.name,$),disabled:!!l||!k})]}),t.jsx("div",{className:"text-token-text-tertiary line-clamp-3 text-xs",children:b.description}),t.jsx(at,{entries:st((j=b.meta)==null?void 0:j.securitySchemes),headingMessage:A.securitySchemes}),t.jsx(tt,{entries:J,headingMessage:A.metadataHeading,labels:ct})]},b.name)},e[29]=k,e[30]=s.connector_type,e[31]=s.status,e[32]=s.supports_full_actions,e[33]=P,e[34]=l,e[35]=o==null?void 0:o.actions,e[36]=n,e[37]=T,e[38]=D):D=e[38],I=h.filter(G).toSorted(dt).map(D),e[16]=h,e[17]=k,e[18]=s.connector_type,e[19]=s.status,e[20]=s.supports_full_actions,e[21]=P,e[22]=l,e[23]=o==null?void 0:o.actions,e[24]=n,e[25]=T,e[26]=I}else I=e[26];let O;e[39]!==I?(O=t.jsx("ul",{className:"mb-4 flex flex-col gap-4",children:I}),e[39]=I,e[40]=O):O=e[40];let U;return e[41]!==_||e[42]!==O?(U=t.jsxs("div",{className:"px-2 pt-6",children:[_,O]}),e[41]=_,e[42]=O,e[43]=U):U=e[43],U};function dt(a,e){return Number(e.is_enabled)-Number(a.is_enabled)||a.name.localeCompare(e.name)}export{lt as A,Ct as C,me as M,Mt as a,rt as b,A as m,it as r,Qe as u};
//# sourceMappingURL=m8odo3cter5gjanw.js.map

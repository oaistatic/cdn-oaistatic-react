var y=Object.defineProperty;var R=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var C=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,T=(o,e)=>{for(var t in e||(e={}))S.call(e,t)&&C(o,t,e[t]);if(R)for(var t of R(e))b.call(e,t)&&C(o,t,e[t]);return o};import{y as x,ab as E,a1 as $,r as w}from"./kfrdmkli83ureki3.js";import{u as I,a4 as v,g as O,l as P,aw as A,ay as G,nK as L}from"./kw08ajijqinojrwh.js";import{f as N,h as j}from"./fyw02vlaiv2vq6cj.js";import"./be1f0w4doetbrndv.js";import"./he1xnididjbc7s63.js";import"./i85urdvpkzpdgj3s.js";import"./dd8hh2tmra1psngf.js";import"./m93ibzwrrpoc1bdm.js";import"./c326bjybavj646xd.js";import"./lwyag88acem9bm0o.js";import"./lg0oi3tmjv8kv2p4.js";import"./b3ungmqo5x8kj4fh.js";import"./o5h7u1aikohecbkt.js";import"./w4rmhhxvug61xnae.js";import"./nunatmpame7vjusr.js";import"./nvxri8mldbk6o2on.js";import"./hk5ml9l4i4ups2ga.js";import"./fwbhrttgqnv5nm9m.js";import"./nh6x5pasrftsddpw.js";import"./c7lf6x6u521mpx19.js";const nt=()=>[{title:"ChatGPT"}],at=()=>!1;function k(o){var p,m,c,l,u,f,h,_,g;const e={},t="client-created-root";e[t]={id:t,message:{id:t,author:{role:G.Root},content:{content_type:A.Text,parts:[]}},parent:"",children:[]};let r=t;const d=[],a=new Set;for(const s of o.messages)a.add(s.id);for(const s of o.messages){let i=(m=(p=s.metadata)==null?void 0:p.parent_id)!=null?m:r;a.has(i)||(i=r),e[s.id]={id:s.id,message:s,parent:i,children:[]},r=s.id,d.push(...(l=(c=s.metadata)==null?void 0:c.safe_urls)!=null?l:[])}for(const[s,i]of Object.entries(e))i.parent!==""&&((f=(u=e[i.parent])==null?void 0:u.children)==null||f.push(s));const n=(h=o.conversation_id)!=null?h:o.id;return T({title:(_=o.title)!=null?_:null,conversation_id:n,mapping:e,current_node:r,moderation_results:[],safe_urls:(g=o.safe_urls)!=null?g:d},L(o,"conversation_template_id","gizmo_id","is_archived","conversation_origin","async_status","update_time","is_do_not_remember"))}const it=x(function(){var p;const e=I(),t=E(),r=$(),d=t!=null?t:r;v.debug("IN: POST=".concat(t==null?void 0:t.length,", GET=").concat(r==null?void 0:r.length));const a=JSON.parse(d),n=(p=a.conversation_id)!=null?p:a.id;return O(e,n,{sharedConversationId:n}),w.useEffect(()=>{const m=k(a);N(n,m),j(n),P(n,c=>{c.continuingFromSharedConversationId=n})},[]),v.debug("Ready ".concat(n," (SERVER: false) : ").concat(d.length," byte(s)")),null});export{it as default,nt as meta,at as shouldRevalidate};
//# sourceMappingURL=gf5mnc9xq6s2ywaf.js.map

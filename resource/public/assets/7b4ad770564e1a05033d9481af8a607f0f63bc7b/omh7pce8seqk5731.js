const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kw08ajijqinojrwh.js","assets/kfrdmkli83ureki3.js","assets/root-fi49nzd2.css","assets/fysy27fszuc0vj47.js","assets/g4sz9o46wpmsris2.js","assets/f7s65jnu4pmacl71.js","assets/fyw02vlaiv2vq6cj.js","assets/conversation-small-lq38g8zw.css"])))=>i.map(i=>d[i]);
var Qe=Object.defineProperty,Ze=Object.defineProperties;var Xe=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Je=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var Me=(s,e,a)=>e in s?Qe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,h=(s,e)=>{for(var a in e||(e={}))Je.call(e,a)&&Me(s,a,e[a]);if(_e)for(var a of _e(e))et.call(e,a)&&Me(s,a,e[a]);return s},B=(s,e)=>Ze(s,Xe(e));import{j as t,r as q,c as Re,M as p,_ as ae,h as De,e as Be,b as tt,a as xe,R as st}from"./kfrdmkli83ureki3.js";import{rS as qe,u as de,J as Oe,cy as F,az as ie,rT as nt,aA as re,hI as ot,dQ as at,aB as oe,rU as it,R as rt,rV as lt,q5 as Pe,e6 as Ie,rW as ct,rX as he,dW as E,_ as W,jE as dt,jF as ut,I as mt,D as gt}from"./kw08ajijqinojrwh.js";import{b as U}from"./mstl8wgfzorpgdoe.js";import{g as ft,a as xt,s as Ge}from"./h6futagqzt0rqhdy.js";import{mU as ht,df as pt,br as Fe,dB as Ne,h6 as yt,mV as jt,mW as vt}from"./fyw02vlaiv2vq6cj.js";import{C as Ue}from"./c0ls495fz2t1hbyy.js";import{A as kt}from"./lcx1qzdvrvh4xmnf.js";import{u as We}from"./lrftmyomhnslqldf.js";const $e=s=>{const e=[],a=/\[([^\]]+)\]\(([^)]+)\)/g;let o=0,n;for(;(n=a.exec(s))!==null;){n.index>o&&e.push(s.slice(o,n.index));const[l,u,r]=n;e.push(t.jsx("a",{href:r,target:"_blank",rel:"noreferrer",className:"underline",children:u},"".concat(r,"-").concat(n.index))),o=n.index+l.length}return o<s.length&&e.push(s.slice(o)),e.length===0?s:e.length===1?e[0]:e},ze=({blurbs:s})=>{var e;return t.jsx("div",{className:"border-token-border-default rounded-2xl border px-4 py-2",children:Array.from({length:(e=s==null?void 0:s.length)!=null?e:3}).map((a,o)=>{const n=s==null?void 0:s[o];return t.jsx("div",{className:"border-token-border-default flex gap-4 border-b py-2 last-of-type:border-none",children:n?t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"pb-0.5 text-sm font-medium",children:n.title}),t.jsx("div",{className:"text-token-text-secondary text-xs",children:$e(n.description)})]}):t.jsx(qe,{lines:2})},"".concat(o))})})},bt=({blurbs:s})=>{var e;return t.jsx("div",{className:"flex flex-col gap-2",children:Array.from({length:(e=s==null?void 0:s.length)!=null?e:3}).map((a,o)=>{const n=s==null?void 0:s[o];return t.jsx(q.Fragment,{children:n?t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("div",{className:"text-token-text-secondary text-sm font-medium",children:n.title}),t.jsx("div",{className:"text-token-text-tertiary text-xs",children:$e(n.description)})]}):t.jsx(qe,{lines:2})},"".concat(o))})})};function _t(s){try{const e=new DOMParser().parseFromString(s,"image/svg+xml"),a=new Set(["fill","stroke","stop-color","flood-color","lighting-color","color","background-color"]),o=[/#(?:[0-9a-fA-F]{3,8})\b/g,/\brgba?\(\s*[\d.\s%,]+\)/g,/\bhsla?\(\s*[\d.\s%,]+\)/g],n=/\b(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|black|white|bisque|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|whitesmoke|yellow|yellowgreen)\b/gi,l=new Set,u=i=>{var d,m;for(const f of o)((d=i.match(f))!=null?d:[]).forEach(j=>{var c;return l.add((c=we(j))!=null?c:"")});((m=i.match(n))!=null?m:[]).forEach(f=>{var j;return l.add((j=we(f.toLowerCase()))!=null?j:"")})};e.querySelectorAll("*").forEach(i=>{var d,m;for(const f of i.getAttributeNames())a.has(f)&&u((d=i.getAttribute(f))!=null?d:""),f==="style"&&u((m=i.getAttribute("style"))!=null?m:"")}),e.querySelectorAll("style").forEach(i=>u(i.textContent||"")),e.querySelectorAll("stop").forEach(i=>{const d=i.getAttribute("stop-color");d&&u(d);const m=i.getAttribute("style");m&&u(m)});for(const i of Array.from(l))/^url\(#/.test(i)&&l.delete(i),(i==="#000000"||i==="#ffffff")&&l.delete(i),i===""&&l.delete(i),i||l.delete(i);return Array.from(l)}catch(e){return[]}}const Mt=s=>_t(s).filter(a=>{const o=U.parse(a),n=U.getBlue(o),l=U.getGreen(o),u=U.getRed(o);return n!==l||l!==u});var O=(s=>(s[s.YELLOW=0]="YELLOW",s[s.RED=1]="RED",s[s.GREEN=2]="GREEN",s[s.BLUE=3]="BLUE",s))(O||{});const Nt=s=>Mt(s).reduce((o,n)=>{const l=U.parse(n),u=U.getBlue(l),r=U.getGreen(l),i=U.getRed(l);o.push({channel:3,score:u},{channel:2,score:r},{channel:1,score:i});const d=wt(i,r,u);return d>0&&o.push({channel:0,score:d}),o},[]).reduce((o,n)=>n.score>o.score||n.score===o.score&&n.channel<o.channel?n:o,{channel:3,score:0}).channel,wt=(s,e,a)=>{const o=Math.min(s,e),l=Math.max(s,e)-o;if(o<120||l>80||a>o*.6)return 0;const u=(s+e)/2,r=Math.max(o-a,0),i=u+r;return i>0?i:0};function we(s){const e=s.replace("#","").toLowerCase();return e.length===3||e.length===4?"#".concat(e[0]).concat(e[0]).concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]):e.length===6||e.length===8?"#".concat(e.slice(0,6)):null}const Lt=ie(()=>ae(()=>import("./kw08ajijqinojrwh.js").then(s=>s.yt),__vite__mapDeps([0,1,2])),{loading:s=>re(s)}),Ct={[O.RED]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-red.jpg",[O.GREEN]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-green.jpg",[O.BLUE]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-blue.jpg",[O.YELLOW]:"https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg-yellow.jpg"},Tt="https://persistent.oaistatic.com/static-nux/ecosystem-app-connect-modal-bg.jpg",Et={[O.RED]:"light",[O.GREEN]:"light",[O.BLUE]:"dark",[O.YELLOW]:"light"},He=s=>{"use forget";var ye,je,ve,ke,be;const e=Re.c(66),{blurbs:a,primaryActions:o,connector:n,onClose:l}=s,u=de(),r=Oe(u,"3641170085");let i;e[0]!==n||e[1]!==u?(i=ft(u,n),e[0]=n,e[1]=u,e[2]=i):i=e[2];const d=i,m=xt(u,n),f=(ye=n.logo_url)!=null?ye:null,j=(je=n.logo_url_dark)!=null?je:null;let c;e[3]!==f||e[4]!==j?(c={lightLogoUrl:f,darkLogoUrl:j},e[3]=f,e[4]=j,e[5]=c):c=e[5];const x=ht(c);(ve=x.data)==null||ve.text;const g=Nt((be=(ke=x.data)==null?void 0:ke.text)!=null?be:""),y="flex flex-col",b=r?Et[g]:"dark";let k;e[6]!==b?(k=F("overflow-hidden bg-cover bg-no-repeat",b),e[6]=b,e[7]=k):k=e[7];const _="url(".concat(r?Ct[g]:Tt,")");let T;e[8]!==_?(T={backgroundImage:_},e[8]=_,e[9]=T):T=e[9];let S;e[10]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(Lt,{className:"icon"}),e[10]=S):S=e[10];let N;e[11]!==l?(N=t.jsx("div",{className:"flex justify-end p-2",children:t.jsx(pt,{className:"text-white",onClick:l,children:S})}),e[11]=l,e[12]=N):N=e[12];const M=m?"md:gap-4 md:px-12":"";let w;e[13]!==M?(w=F("flex w-full flex-row",M),e[13]=M,e[14]=w):w=e[14];const A=m?"items-center md:items-start md:justify-center":"items-center";let v;e[15]!==A?(v=F("flex flex-auto flex-col gap-4",A),e[15]=A,e[16]=v):v=e[16];const R=m?"small":"medium";let L;e[17]!==n||e[18]!==R?(L=t.jsx(Fe,{connector:n,className:"rounded-xl border-[0.5px] bg-white p-2 shadow-sm",size:R}),e[17]=n,e[18]=R,e[19]=L):L=e[19];let D;e[20]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"my-auto h-8 w-px bg-white opacity-70"}),e[20]=D):D=e[20];const P=m?"small":"medium";let I;e[21]!==P?(I=t.jsx(nt,{size:P}),e[21]=P,e[22]=I):I=e[22];let z;e[23]!==L||e[24]!==I?(z=t.jsxs("div",{className:"flex items-center gap-3.5",children:[L,D,I]}),e[23]=L,e[24]=I,e[25]=z):z=e[25];const ue=m?"max-md:px-5 md:items-start":"items-center text-center";let H;e[26]!==ue?(H=F("flex flex-col gap-2 text-balance",ue),e[26]=ue,e[27]=H):H=e[27];const me=m?"text-2xl md:text-xl":"text-2xl";let Y;e[28]!==me?(Y=F("text-token-text-primary text-center font-medium",me),e[28]=me,e[29]=Y):Y=e[29];let V;e[30]!==n.name?(V=t.jsx(p,{id:"Ihrgq0",defaultMessage:"Use {connectorName} in ChatGPT",values:{connectorName:n.name}}),e[30]=n.name,e[31]=V):V=e[31];let K;e[32]!==Y||e[33]!==V?(K=t.jsx("span",{className:Y,children:V}),e[32]=Y,e[33]=V,e[34]=K):K=e[34];const ge=n.description&&t.jsx("span",{className:F("text-token-text-secondary text-center text-sm",m&&"md:hidden"),children:n.description});let Q;e[35]!==H||e[36]!==K||e[37]!==ge?(Q=t.jsxs("div",{className:H,children:[K,ge]}),e[35]=H,e[36]=K,e[37]=ge,e[38]=Q):Q=e[38];const fe=m?"flex-col items-center md:items-start":"flex-row items-center";let Z;e[39]!==fe?(Z=F("flex justify-center gap-4 pt-4 pb-10",fe),e[39]=fe,e[40]=Z):Z=e[40];let X;e[41]!==o||e[42]!==Z?(X=t.jsx("div",{className:Z,children:o}),e[41]=o,e[42]=Z,e[43]=X):X=e[43];let J;e[44]!==v||e[45]!==z||e[46]!==Q||e[47]!==X?(J=t.jsxs("div",{className:v,children:[z,Q,X]}),e[44]=v,e[45]=z,e[46]=Q,e[47]=X,e[48]=J):J=e[48];let ee;e[49]!==m||e[50]!==d?(ee=m&&t.jsx("div",{className:"flex flex-col max-md:hidden",children:t.jsx("div",{className:"shadow-long h-full min-h-68 w-56 overflow-hidden rounded-ss-2xl rounded-se-2xl bg-white",children:t.jsx("div",{className:"h-full w-full bg-white bg-cover bg-top bg-no-repeat",style:{backgroundImage:"url(".concat(d,")")}})})}),e[49]=m,e[50]=d,e[51]=ee):ee=e[51];let te;e[52]!==w||e[53]!==J||e[54]!==ee?(te=t.jsxs("div",{className:w,children:[J,ee]}),e[52]=w,e[53]=J,e[54]=ee,e[55]=te):te=e[55];let se;e[56]!==N||e[57]!==te||e[58]!==k||e[59]!==T?(se=t.jsxs("div",{className:k,style:T,children:[N,te]}),e[56]=N,e[57]=te,e[58]=k,e[59]=T,e[60]=se):se=e[60];let ne;e[61]!==a?(ne=t.jsx("div",{className:"border-token-border-primary border-t p-4",children:t.jsx(bt,{blurbs:a})}),e[61]=a,e[62]=ne):ne=e[62];let ce;return e[63]!==se||e[64]!==ne?(ce=t.jsxs("div",{className:y,children:[se,ne]}),e[63]=se,e[64]=ne,e[65]=ce):ce=e[65],ce},St=s=>{"use forget";const e=Re.c(44),{value:a,onChange:o,onClose:n,isSaveDisabled:l}=s,u=l===void 0?!1:l,[r,i]=q.useState(a),d=De();let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("div",{className:"text-2xl font-semibold",children:t.jsx(p,h({},G.advancedSettingsTitle))}),e[0]=m):m=e[0];let f;e[1]!==n?(f=t.jsxs("div",{className:"flex items-start justify-between",children:[m,t.jsx(at,{onClick:n})]}),e[1]=n,e[2]=f):f=e[2];let j;e[3]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"mt-6 mb-2 text-sm font-medium",children:t.jsx(p,h({},G.connectionType))}),e[3]=j):j=e[3];const c=r?"sync":"ondemand";let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=I=>i(I==="sync"),e[4]=x):x=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("div",{className:"text-sm font-medium",children:t.jsx(p,h({},G.syncTitle))}),e[5]=g):g=e[5];let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsxs("div",{className:"flex flex-col gap-1",children:[g,t.jsx("div",{className:"text-token-text-secondary text-xs",children:t.jsx(p,B(h({},G.syncDescription),{values:{link:At}}))})]}),e[6]=y):y=e[6];let b;e[7]!==r?(b=t.jsxs("label",{className:"flex items-start justify-between gap-3 p-4",children:[y,t.jsx(Ne,{value:"sync",children:t.jsx(Le,{selected:r})})]}),e[7]=r,e[8]=b):b=e[8];let k;e[9]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx("div",{className:"text-sm font-medium",children:t.jsx(p,h({},G.onDemandTitle))}),e[9]=k):k=e[9];let _;e[10]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsxs("div",{className:"flex flex-col gap-1",children:[k,t.jsx("div",{className:"text-token-text-secondary text-xs",children:t.jsx(p,h({},G.onDemandDescription))})]}),e[10]=_):_=e[10];const T=!r;let S;e[11]!==T?(S=t.jsxs("label",{className:"border-token-border-default flex items-start justify-between gap-3 border-t p-4",children:[_,t.jsx(Ne,{value:"ondemand",children:t.jsx(Le,{selected:T})})]}),e[11]=T,e[12]=S):S=e[12];let N;e[13]!==S||e[14]!==c||e[15]!==b?(N=t.jsx("div",{className:"mt-2",children:t.jsx("div",{className:"border-token-border-default overflow-hidden rounded-xl border",children:t.jsxs(yt.Root,{value:c,onValueChange:x,className:"flex w-full flex-col",children:[b,S]})})}),e[13]=S,e[14]=c,e[15]=b,e[16]=N):N=e[16];let M;e[17]!==r||e[18]!==n||e[19]!==a?(M=()=>{r!==a&&i(a),n()},e[17]=r,e[18]=n,e[19]=a,e[20]=M):M=e[20];let w;e[21]!==d?(w=d.formatMessage(G.cancel),e[21]=d,e[22]=w):w=e[22];let A;e[23]!==M||e[24]!==w?(A=t.jsx(oe,{color:"secondary",onClick:M,children:w}),e[23]=M,e[24]=w,e[25]=A):A=e[25];let v;e[26]!==r||e[27]!==o||e[28]!==n||e[29]!==a?(v=()=>{a!==r&&o(r),n()},e[26]=r,e[27]=o,e[28]=n,e[29]=a,e[30]=v):v=e[30];let R;e[31]!==d?(R=d.formatMessage(G.save),e[31]=d,e[32]=R):R=e[32];let L;e[33]!==u||e[34]!==v||e[35]!==R?(L=t.jsx(oe,{onClick:v,disabled:u,children:R}),e[33]=u,e[34]=v,e[35]=R,e[36]=L):L=e[36];let D;e[37]!==A||e[38]!==L?(D=t.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4",children:[A,L]}),e[37]=A,e[38]=L,e[39]=D):D=e[39];let P;return e[40]!==N||e[41]!==D||e[42]!==f?(P=t.jsxs("div",{className:"flex flex-1 flex-col p-2",children:[f,j,N,D]}),e[40]=N,e[41]=D,e[42]=f,e[43]=P):P=e[43],P},Le=({selected:s})=>s?t.jsx("button",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-gray-950 p-0.5 dark:bg-white",children:t.jsx("div",{className:"h-2 w-2 rounded-full bg-white dark:bg-gray-950"})}):t.jsx("button",{className:"border-token-border-default h-5 w-5 rounded-full border"}),G=Be({advancedSettingsLink:{id:"qAio8L",defaultMessage:"Advanced settings"},advancedSettingsTitle:{id:"W24xFG",defaultMessage:"Advanced settings"},connectionType:{id:"GpZZmq",defaultMessage:"Connection type"},syncTitle:{id:"3kK9K9",defaultMessage:"Sync"},syncDescription:{id:"a0q+Sp",defaultMessage:"Automatically syncs, indexes, and stores content to ChatGPT for improved response speed and quality. <link>Learn more</link>"},onDemandTitle:{id:"JSo4N3",defaultMessage:"On demand"},onDemandDescription:{id:"5PZSBI",defaultMessage:"Access content on demand. Responses will take longer and may be lower quality"},cancel:{id:"qz9XeG",defaultMessage:"Cancel"},save:{id:"LXZUd1",defaultMessage:"Save changes"}});function At(s){return t.jsx(ot,{href:Ue,className:"underline",children:s})}const Ye=q.createContext(null),Rt=async(s,e)=>await rt.safeGet("/aip/connectors/{connector_id}/tos",{parameters:{path:{connector_id:s}},additionalHeaders:e?{[lt]:e}:void 0}),Ve=(s,e,{enabled:a=!0}={})=>tt({queryKey:it(s,e),queryFn:()=>{if(!s)throw new Error("connectorId is required to fetch connector TOS");return Rt(s,e)},staleTime:300*1e3,enabled:a&&!!s}),Dt=({connectorId:s,productSku:e,children:a,enabled:o=!0})=>{const n=Ve(s,e,{enabled:o}),l=q.useMemo(()=>({query:n}),[n]);return t.jsx(Ye.Provider,{value:l,children:a})},Bt=()=>{const s=q.useContext(Ye);if(!s)throw new Error("useRedirectTos must be used within a RedirectTosProvider");return s.query},qt=ie(()=>ae(()=>import("./fysy27fszuc0vj47.js"),__vite__mapDeps([3,1])),{loading:s=>re(s)}),Ot=ie(()=>ae(()=>import("./g4sz9o46wpmsris2.js"),__vite__mapDeps([4,1])),{loading:s=>re(s)}),Pt=ie(()=>ae(()=>import("./f7s65jnu4pmacl71.js"),__vite__mapDeps([5,1])),{loading:s=>re(s)}),Ce=ie(()=>ae(()=>import("./fyw02vlaiv2vq6cj.js").then(s=>s.zL),__vite__mapDeps([6,1,0,2,7])),{loading:s=>re(s)}),It=(s,e)=>{var a,o;return e?{genericName:(a=e.generic_name)!=null?a:s.name,blurbs:(o=e.blurbs)!=null?o:[]}:null};function pe(){const s=xe();return st.useMemo(()=>{var a;const e=s.hash.includes("?")?s.hash.substring(s.hash.indexOf("?")+1):s.search.substring(1);return(a=new URLSearchParams(e).get("referrer"))!=null?a:void 0},[s.hash,s.search])}const $=({loading:s,fitWidth:e=!1,color:a="primary",onClick:o,children:n})=>t.jsx(oe,{className:e?"w-fit":"w-full",size:"large",onClick:o,loading:s,color:a,children:n}),Te=({loading:s=!1,disabled:e=!1,fitWidth:a=!1,onClick:o,children:n})=>t.jsx(oe,{className:F("text-token-text-secondary border-0",a?"w-fit":"w-full"),size:"large",onClick:o,loading:s,disabled:e,color:"secondary",children:n}),le=({connector:s,tos:e,onClose:a,children:o,beforeBlurbs:n,willSync:l=!1})=>{var i,d;const u=De(),r={icon:"folder_stuffed",title:u.formatMessage(C.syncTitle),description:u.formatMessage(C.syncDescription,{connectorName:s.name,link:m=>"[".concat(m,"](").concat(Ue,")")})};return t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{children:[t.jsx(Pe,{onClose:a,connectorIcon:t.jsx(Fe,{connector:s,className:"rounded-xl border-[0.5px] p-2 shadow-sm",size:"medium"}),connectorDeveloper:(d=(i=s.branding)==null?void 0:i.developer)!=null?d:void 0,title:t.jsx(p,B(h({},C.addConnectorLinkModalTitle),{values:{connectorName:s.name}}))}),t.jsx("div",{className:"mt-3",children:t.jsx(kt,{mode:"single",side:"bottom"})})]}),n,t.jsx(ze,{blurbs:l&&e?[r,...e.blurbs]:e==null?void 0:e.blurbs}),o]})},Ee=({connector:s,tos:e,onClose:a})=>{var l;const o=de();return Ge(o,s)?t.jsx(He,{blurbs:(l=e==null?void 0:e.blurbs)!=null?l:null,connector:s,primaryActions:t.jsx($,{loading:!0,onClick:()=>{}}),onClose:a}):t.jsx(le,{connector:s,tos:e,onClose:a,children:t.jsx($,{loading:!0,onClick:()=>{}})})},Se=({connector:s,tos:e,onClose:a,retry:o})=>t.jsx(le,{connector:s,tos:e,onClose:a,children:t.jsx("div",{className:"flex items-center justify-center pt-4",children:t.jsx(oe,{onClick:o,size:"large",className:"w-full",children:t.jsx(p,h({},C.errorLoadingStateButton))})})}),Xt=({connectorIcon:s,connectorName:e,connectorId:a,onClose:o,isConnecting:n,onContinue:l,productSku:u})=>{var c,x;const{data:r,isLoading:i,isError:d,refetch:m}=Ve(a,u),f=(c=r==null?void 0:r.blurbs)!=null?c:[],j=(x=r==null?void 0:r.generic_name)!=null?x:"Google";return t.jsxs(t.Fragment,{children:[t.jsx(Pe,{onClose:o,connectorIcon:s,title:t.jsx(p,B(h({},C.addConnectorLinkModalTitle),{values:{connectorName:e}}))}),i?t.jsx("div",{className:"flex items-center justify-center p-4",children:t.jsx(Ie,{})}):d?t.jsx("div",{className:"flex items-center justify-center pt-4",children:t.jsx(oe,{onClick:()=>void m(),size:"large",className:"w-full",children:t.jsx(p,h({},C.errorLoadingStateButton))})}):f.length>0?t.jsx(ze,{blurbs:f}):null,t.jsx("div",{className:"pt-4",children:t.jsx($,{loading:n,onClick:l,children:t.jsx(p,B(h({},C.continueButton),{values:{connectorName:j}}))})})]})},Ke=({connector:s,tos:e,onClose:a,isConnecting:o,isConnectingAuthType:n,onContinue:l,showExternalIcon:u,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:d=!1,isRequestingSync:m=!1,setIsRequestingSync:f})=>{const j=de(),c=j&&Oe(j,"2792858552"),x=ct(),g=pe(),y=he(s,x);q.useEffect(()=>{E.logModalShown({connector_id_metadata:E.createIdMetadataFromConnector(s,g!=null?g:"unknown_referrer"),referrer:g!=null?g:"unknown_referrer",mfaState:"not_required",authType:y!=null?y:void 0}),W.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",h({mfa:"not_required",type:s.id},g&&{referrer:g}))},[s,g,y]);const b=v=>{var R,L;dt(s.id,ut.ConnectorLinkContinueClick,{auth_type:(R=_?v:y)!=null?R:""}),E.logModalContinue({connector_id_metadata:E.createIdMetadataFromConnector(s,g!=null?g:"unknown_referrer"),action:"connection",authType:(L=_?v:y)!=null?L:"NONE",referrer:g!=null?g:"unknown_referrer"}),W.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",{action:"connection",type:s.id}),l(v)},{supported_auth:k}=s,_=c&&!x&&k.some(v=>v.type==="OAUTH")&&k.some(v=>v.type==="NONE"),T=i?t.jsx("div",{className:"bg-token-interactive-bg-accent-muted-context rounded-xl p-4 text-center text-sm text-[#0285FF]",children:i}):void 0,[S,N]=q.useState(!1),M=Ge(j,s),w=t.jsxs(t.Fragment,{children:[t.jsx($,{fitWidth:M,loading:o&&n==="OAUTH",onClick:()=>b("OAUTH"),children:t.jsxs("span",{className:"flex items-center justify-center gap-1",children:[M?t.jsx(p,{id:"emLORe",defaultMessage:"Continue"}):t.jsx(p,B(h({},C.continueButton),{values:{connectorName:s.name}})),u&&t.jsx(Ce,{className:"icon-sm"})]})}),t.jsx(Te,{fitWidth:M,loading:o&&n==="NONE",onClick:()=>b("NONE"),children:t.jsx("span",{className:"flex items-center justify-center gap-1",children:t.jsx(p,h({},C.connectWithoutAccountButton))})})]}),A=t.jsx($,{fitWidth:M,loading:o,onClick:()=>b(),children:t.jsxs("span",{className:"flex items-center justify-center gap-1",children:[y==="OAUTH"?M?t.jsx(p,{id:"emLORe",defaultMessage:"Continue"}):t.jsx(p,B(h({},C.continueButton),{values:{connectorName:s.name}})):M?t.jsx(p,{id:"yWpEzd",defaultMessage:"Connect"}):t.jsx(p,B(h({},C.connectButton),{values:{connectorName:s.name}})),y==="OAUTH"&&u&&t.jsx(Ce,{className:"icon-sm"})]})});return M?t.jsx(He,{blurbs:e.blurbs,connector:s,primaryActions:_?w:A,onClose:a}):t.jsx(t.Fragment,{children:S&&f&&!o?t.jsx(St,{value:m,onChange:f,onClose:()=>N(!1)}):t.jsx(le,{connector:s,tos:e,onClose:a,beforeBlurbs:T,willSync:m,children:t.jsxs("div",{className:"flex flex-col gap-2",children:[r,_?w:A,d&&t.jsx("p",{className:"text-token-text-secondary text-center text-sm font-medium",children:t.jsx(Te,{onClick:()=>N(!0),disabled:o,children:t.jsx(p,{id:"qAio8L",defaultMessage:"Advanced settings"})})})]})})})},Gt=({connector:s,tos:e,onClose:a})=>{const o=xe(),[n,l]=q.useState(!1),u=o.hash?o.pathname+o.hash:o.pathname,{setupMfa:r}=We({redirectUrl:u}),i=pe(),d=he(s);q.useEffect(()=>{E.logModalShown({connector_id_metadata:E.createIdMetadataFromConnector(s,i!=null?i:"unknown_referrer"),referrer:i!=null?i:"unknown_referrer",mfaState:"required",authType:d!=null?d:void 0}),W.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",h({mfa:"required",type:s.id},i&&{referrer:i}))},[s,i,d]);const m=()=>{l(!0),E.logModalContinue({connector_id_metadata:E.createIdMetadataFromConnector(s,i!=null?i:"unknown_referrer"),referrer:i!=null?i:"unknown_referrer",action:"mfa",authType:d!=null?d:"NONE"}),W.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",h({action:"mfa",type:s.id},i&&{referrer:i})),r()};return t.jsxs(le,{connector:s,tos:e,onClose:a,children:[t.jsx("div",{className:"pt-2"}),t.jsx("div",{className:"border-token-border-default border-t p-4",children:t.jsx("div",{className:"text-token-text-primary font-medium",children:t.jsx(p,h({},C.mfaRequiredTitle))})}),t.jsx($,{loading:n,onClick:m,children:t.jsx(p,h({},C.mfaRequiredButton))})]})},Ae={"google-oauth2":{icon:t.jsx(Ot,{}),name:"Google"},windowslive:{icon:t.jsx(qt,{}),name:"Microsoft"},apple:{icon:t.jsx(Pt,{}),name:"Apple"}},Ft=({connector:s,tos:e,onClose:a,isConnecting:o,onContinue:n})=>{var _;const l=de(),{session:u}=mt(l),r=(_=u==null?void 0:u.user)==null?void 0:_.idp,i=xe(),[d,m]=q.useState(!1),f=i.hash?i.pathname+i.hash:i.pathname,{setupMfa:j}=We({redirectUrl:f}),c=pe(),x=he(s);q.useEffect(()=>{E.logModalShown({connector_id_metadata:E.createIdMetadataFromConnector(s,c!=null?c:"unknown_referrer"),referrer:c!=null?c:"unknown_referrer",mfaState:"suggested",authType:x!=null?x:"NONE"}),W.logEventWithStatsig("connectors.shown_connect_modal","connectors.shown_connect_modal",h({mfa:"suggested",type:s.id},c&&{referrer:c}))},[s,c,x]);const g=()=>{m(!0),E.logModalContinue({connector_id_metadata:E.createIdMetadataFromConnector(s,c!=null?c:"unknown_referrer"),referrer:c!=null?c:"unknown_referrer",action:"mfa",authType:x!=null?x:"NONE"}),W.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",h({action:"mfa",type:s.id},c&&{referrer:c})),j()},y=()=>{E.logModalContinue({connector_id_metadata:E.createIdMetadataFromConnector(s,c!=null?c:"unknown_referrer"),referrer:c!=null?c:"unknown_referrer",action:"mfa",authType:x!=null?x:"NONE"}),W.logEventWithStatsig("connectors.click_continue_modal","connectors.click_continue_modal",h({action:"mfa",type:s.id},c&&{referrer:c})),n()};if(!r||!Ae[r])return gt.addError("Unknown idp found on suggested mfa requirement",{idp:r}),t.jsx(Ke,{connector:s,onClose:a,tos:e,isConnecting:o,onContinue:n});const{icon:b,name:k}=Ae[r];return t.jsxs(le,{connector:s,tos:e,onClose:a,children:[t.jsxs("div",{className:"border-token-border-default flex items-center gap-4 rounded-xl border p-4 text-sm",children:[t.jsx("div",{className:"text-token-text-primary",children:b}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"text-token-text-primary font-medium",children:t.jsx(p,B(h({},C.socialLoginTitle),{values:{socialProvider:k}}))}),t.jsx("div",{className:"text-token-text-secondary",children:t.jsx(p,B(h({},C.socialLoginDescription),{values:{socialProvider:k,link:T=>t.jsx("button",{onClick:g,className:"underline",children:t.jsxs("span",{className:"flex items-center gap-2",children:[T,d&&t.jsx(Ie,{className:"h-4 w-4"})]})})}}))})]})]}),t.jsx("div",{className:"pt-6",children:t.jsx($,{loading:o,onClick:y,children:t.jsx(p,B(h({},C.continueButton),{values:{connectorName:s.name}}))})})]})},Ut=({connector:s,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:u,additionalMessageThatDoesNotContainLegalClaims:r,canSync:i,isRequestingSync:d,setIsRequestingSync:m})=>{const{data:f,isLoading:j,isError:c,refetch:x}=Bt(),g=It(s,f),{status:y,retry:b}=jt(s.id),{status:k,retry:_}=vt({enabled:y==="required"||y==="suggested"});return j?t.jsx(Ee,{connector:s,tos:g,onClose:e}):c||!g?t.jsx(Se,{connector:s,tos:g,onClose:e,retry:()=>{x(),_(),b()}}):k==="loading"||y==="loading"?t.jsx(Ee,{connector:s,tos:g,onClose:e}):k==="enabled"||y==="not_required"?t.jsx(Ke,{connector:s,tos:g,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:u,additionalMessageThatDoesNotContainLegalClaims:r,canSync:i,isRequestingSync:d,setIsRequestingSync:m}):y==="required"?t.jsx(Gt,{connector:s,tos:g,onClose:e}):y==="suggested"?t.jsx(Ft,{connector:s,tos:g,onClose:e,isConnecting:a,onContinue:n}):t.jsx(Se,{connector:s,tos:g,onClose:e,retry:()=>{_(),b(),x()}})},Jt=({connector:s,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,productSku:u,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:d,isRequestingSync:m,setIsRequestingSync:f})=>t.jsx(Dt,{connectorId:s.id,productSku:u,children:t.jsx(Ut,{connector:s,onClose:e,isConnecting:a,isConnectingAuthType:o,onContinue:n,showExternalIcon:l,additionalContent:r,additionalMessageThatDoesNotContainLegalClaims:i,canSync:d,isRequestingSync:m,setIsRequestingSync:f})}),C=Be({addConnectorLinkModalTitle:{id:"addConnectorLinkModal.title",defaultMessage:"Connect {connectorName}"},permissionsTitle:{id:"addConnectorLinkModal.permissionsTitle",defaultMessage:"Permissions always respected"},permissionsDescription:{id:"addConnectorLinkModal.permissionsDescription",defaultMessage:"ChatGPT is strictly limited to permissions you've explicitly set."},inControlTitle:{id:"addConnectorLinkModal.inControlTitle",defaultMessage:"You're in control"},inControlDescription:{id:"addConnectorLinkModal.inControlDescription",defaultMessage:"ChatGPT always respects your training data preferences."},noTrainTitle:{id:"addConnectorLinkModal.noTrainTitle",defaultMessage:"How ChatGPT uses data"},noTrainDescription:{id:"addConnectorLinkModal.noTrainDescription",defaultMessage:"Data accessed from this connector is not used to train our models."},neverTrainTitle:{id:"addConnectorLinkModal.neverTrainTitle",defaultMessage:"How ChatGPT uses data"},neverTrainDescription:{id:"addConnectorLinkModal.neverTrainDescription",defaultMessage:"Your data is never used for training."},risksTitle:{id:"addConnectorLinkModal.risksTitle",defaultMessage:"Connectors may introduce risk"},risksDescription:{id:"addConnectorLinkModal.risksDescription",defaultMessage:"Connectors are designed to respect your privacy, but sites may attempt to steal your data. <link>Learn more on how to stay safe</link>"},syncTitle:{id:"addConnectorLinkModal.syncTitle",defaultMessage:"Continuous sync"},syncDescription:{id:"addConnectorLinkModal.syncDescription",defaultMessage:"Your {connectorName} content is indexed, stored, and kept up to date in ChatGPT. <link>Learn more</link>"},redirectTitle:{id:"addConnectorLinkModal.redirectTitle",defaultMessage:"This page will redirect to {connectorName}"},redirectDescription:{id:"addConnectorLinkModal.redirectDescription",defaultMessage:"You'll sign in and confirm permissions on {connectorName}'s page."},googlePrivacyTitle:{id:"addConnectorLinkModal.googlePrivacyTitle",defaultMessage:"Private and secure"},googlePrivacyDescription:{id:"addConnectorLinkModal.googlePrivacyDescription",defaultMessage:"Data accessed from {connectorName} may be used to reply to prompts. We do not train generalized models on this data or derivations of it, unless you choose to submit it as feedback. <link>Learn more</link>"},googleControlTitle:{id:"addConnectorLinkModal.googleControlTitle",defaultMessage:"You're in control of your data"},googleControlDescription:{id:"addConnectorLinkModal.googleControlDescription",defaultMessage:"You can delete your conversations, which will also delete any {connectorName} data used in those conversations. <link>Learn more</link>"},connectButton:{id:"addConnectorLinkModal.connectButton",defaultMessage:"Connect {connectorName}"},connectWithoutAccountButton:{id:"addConnectorLinkModal.connectWithoutAccountButton",defaultMessage:"Continue without account"},continueButton:{id:"addConnectorLinkModal.continueButton",defaultMessage:"Continue to {connectorName}"},socialLoginTitle:{id:"addConnectorLinkModal.socialLoginTitle",defaultMessage:"You use {socialProvider} to authenticate"},socialLoginDescription:{id:"addConnectorLinkModal.socialLoginDescription",defaultMessage:"For added security, enable Multi-factor authentication (MFA) on your {socialProvider} account or <link>your ChatGPT account.</link>"},mfaRequiredTitle:{id:"addConnectorLinkModal.mfaRequiredTitle",defaultMessage:"Multi-factor authentication (MFA) required"},mfaRequiredButton:{id:"addConnectorLinkModal.mfaRequiredButton",defaultMessage:"Turn on MFA to continue"},errorLoadingStateButton:{id:"addConnectorLinkModal.errorLoadingStateButton",defaultMessage:"Failed to load connector settings, please retry"}});export{Xt as GoogleRedirectContent,Ke as MainRedirectContent,Ut as MainRedirectContentWrapper,Jt as RedirectContent};
//# sourceMappingURL=omh7pce8seqk5731.js.map

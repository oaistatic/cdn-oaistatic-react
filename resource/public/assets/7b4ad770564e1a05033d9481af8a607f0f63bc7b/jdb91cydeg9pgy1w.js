import{c as O,h as R,r as k,j as i}from"./kfrdmkli83ureki3.js";import{i as _,P as B}from"./hnx3m6kxd7qfeifg.js";import{db as W,aC as q}from"./kw08ajijqinojrwh.js";import{u as v}from"./czndp739wd893pq6.js";import{g as z}from"./nwibjndtxi61x1ys.js";import"./hdkg0cys1b7b4f0v.js";import"./fyw02vlaiv2vq6cj.js";import"./ia54sddtrl9qa2wj.js";import"./kxbocgn3s27tp480.js";import"./he1xnididjbc7s63.js";import"./i85urdvpkzpdgj3s.js";import"./dd8hh2tmra1psngf.js";import"./eix6aku103dkp2pu.js";import"./kl7c6054usfnqmd4.js";import"./k97n0y6ba9c9h39c.js";import"./fbdmxe5ygbrc3wdb.js";import"./evkgh503atu6x10z.js";import"./ej5er9569li42hai.js";import"./di3v2n4zwp3e4rpb.js";import"./oze22otsepdfaut5.js";import"./ds50f4rqnruk5v5l.js";import"./lbp124td1jxnga57.js";import"./o5h7u1aikohecbkt.js";import"./w4rmhhxvug61xnae.js";import"./batn8nst470a68ib.js";import"./h9s5uo8l29l5vali.js";import"./l3foo5601l7fb51e.js";import"./ite26mmpefwubzx4.js";import"./m9gq49u2vlb0cjyx.js";import"./lg0oi3tmjv8kv2p4.js";import"./b3ungmqo5x8kj4fh.js";import"./iej0cupg2dqkmejt.js";import"./m0t07ixd92668z9e.js";import"./chg5zn7ivsidhse5.js";import"./kime2kclye4c7vau.js";import"./fwbhrttgqnv5nm9m.js";import"./je694u6n7mxuffnb.js";import"./n2s0r84m09p3py2c.js";import"./n922q9or6yevfxth.js";import"./bw2hxknbjlgs6x5v.js";import"./m8odo3cter5gjanw.js";import"./g8cpkydknwwj989v.js";import"./c7lf6x6u521mpx19.js";import"./oi4hajb4q474so2h.js";import"./c80q12olrn2ogvv0.js";import"./0cct8y3c72h08jxe.js";import"./jzy8ngygygw4toi1.js";import"./k9adsjcuzq0lnday.js";import"./ntv4kfm86o2gt0x7.js";import"./h6futagqzt0rqhdy.js";import"./hoo89wr86agqpm13.js";import"./m3joncw451cqbul2.js";import"./gy1lpvuoewmzh42c.js";import"./ipjj058rvhjq2uu2.js";import"./h1em0bjkpkjv8ykw.js";import"./kbj1b07s2z6vxqkg.js";import"./hu1bt0oauegdhua6.js";import"./i7t1qh3u8s8bvtb8.js";import"./dm8z7bzkrzic0zmg.js";import"./omiotqovl1sezy3l.js";import"./jytll2j00h0ccmpk.js";import"./f9iz92mggx1znv92.js";import"./lfpgz10qy2vdux3v.js";import"./lrftmyomhnslqldf.js";import"./i5i93v71imxwxy0p.js";import"./f5eqpw3ad13u4igj.js";import"./i1ra53nm6ph961wx.js";import"./fvx0c589t5tar1s6.js";import"./f57a0ks1c1m6smzf.js";import"./bx1w0y3fzlo97jzb.js";import"./laacu28tqafsw8cp.js";import"./ld3p92an6gaqvnu0.js";import"./hmqienma2a871fjd.js";const A=s=>{if(typeof s!="object"||s===null||typeof s.session_id!="string")return!1;const t=s.factor;return!(typeof t!="object"||t===null||typeof t.id!="string")};function me(s){"use forget";const t=O.c(47),{onClose:m,onOtpRequested:w}=s,e=R(),[o,D]=k.useState(""),[l,I]=k.useState(null),p=v();let N;t[0]!==p||t[1]!==e||t[2]!==m||t[3]!==w||t[4]!==o?(N=async()=>{I(null),p.mutateAsync({factor:"sms",phoneNumber:o}).then(r=>{if(!A(r))throw new Error("Unsupported enrollment response shape");m(),w({phoneNumber:o.trim(),enrollmentSessionId:r.session_id,factorId:r.factor.id})}).catch(r=>{I(e.formatMessage(z(r,!0)))})},t[0]=p,t[1]=e,t[2]=m,t[3]=w,t[4]=o,t[5]=N):N=t[5];const n=N;let a;t[6]!==e?(a=e.formatMessage({id:"qU7XHp",defaultMessage:"Enter your phone number"}),t[6]=e,t[7]=a):a=t[7];let f;t[8]!==a?(f=i.jsx("span",{className:"text-heading-3",children:a}),t[8]=a,t[9]=f):f=t[9];let u;t[10]!==e?(u=e.formatMessage({id:"s65ktO",defaultMessage:"Send code"}),t[10]=e,t[11]=u):u=t[11];let d;t[12]!==p.isPending||t[13]!==o?(d=o.trim().length===0||p.isPending||!_(o),t[12]=p.isPending,t[13]=o,t[14]=d):d=t[14];let c;t[15]!==n||t[16]!==u||t[17]!==d?(c=i.jsx(W.Button,{title:u,color:"primary",disabled:d,onClick:n}),t[15]=n,t[16]=u,t[17]=d,t[18]=c):c=t[18];let h;t[19]!==n?(h=r=>{r.preventDefault(),n()},t[19]=n,t[20]=h):h=t[20];let x;t[21]!==e?(x=e.formatMessage({id:"UzZdQv",defaultMessage:"We’ll text you a code to confirm it’s really you"}),t[21]=e,t[22]=x):x=t[22];let g;t[23]!==x?(g=i.jsx("p",{children:x}),t[23]=x,t[24]=g):g=t[24];let y;t[25]!==e?(y=e.formatMessage({id:"gn7CkF",defaultMessage:"Phone number"}),t[25]=e,t[26]=y):y=t[26];let b;t[27]!==l?(b=r=>{D(r),l&&I(null)},t[27]=l,t[28]=b):b=t[28];let S,j;t[29]===Symbol.for("react.memo_cache_sentinel")?(S=["US","CA"],j={layout:"inline",showDialCodePrefix:!1,rounded:"lg",densePadding:!0,triggerShowOnlyDialCode:!0,fullWidthJustifyDialCode:!1,placeholderTextSize:"sm",dropdownPanelWidthPx:320},t[29]=S,t[30]=j):(S=t[29],j=t[30]);const U=l!=null?l:void 0;let M;t[31]!==o||t[32]!==y||t[33]!==b||t[34]!==U?(M=i.jsx(B,{label:y,value:o,setValue:b,defaultCountry:"US",countries:S,appearance:j,error:U}),t[31]=o,t[32]=y,t[33]=b,t[34]=U,t[35]=M):M=t[35];let P;t[36]!==M||t[37]!==g?(P=i.jsxs("div",{className:"flex flex-col items-start gap-[12px] self-stretch",children:[g,M]}),t[36]=M,t[37]=g,t[38]=P):P=t[38];let C;t[39]!==P||t[40]!==h?(C=i.jsx("form",{onSubmit:h,className:"text-token-text-primary self-stretch text-sm",children:P}),t[39]=P,t[40]=h,t[41]=C):C=t[41];let E;return t[42]!==m||t[43]!==C||t[44]!==f||t[45]!==c?(E=i.jsx(q,{testId:"modal-enter-phone-number",isOpen:!0,onClose:m,type:"success",noPadding:!0,contentClassName:"flex flex-col items-start gap-[24px] p-[24px]",headerClassName:"!px-6 !py-0 !h-[76px] !items-center",showCloseButton:!0,hasSeparator:!0,title:f,primaryButton:c,children:C}),t[42]=m,t[43]=C,t[44]=f,t[45]=c,t[46]=E):E=t[46],E}export{me as EnterPhoneNumberModal};
//# sourceMappingURL=jdb91cydeg9pgy1w.js.map

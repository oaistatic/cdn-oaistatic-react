const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fyw02vlaiv2vq6cj.js","assets/kfrdmkli83ureki3.js","assets/kw08ajijqinojrwh.js","assets/root-fi49nzd2.css","assets/conversation-small-lq38g8zw.css","assets/xkahnh0fqiq7lpfs.js","assets/m8q8dq3jpr27q2m0.js","assets/d1ak5u4m6fymztz5.js","assets/lg0oi3tmjv8kv2p4.js","assets/b3ungmqo5x8kj4fh.js","assets/c326bjybavj646xd.js","assets/lwyag88acem9bm0o.js","assets/o5h7u1aikohecbkt.js","assets/w4rmhhxvug61xnae.js","assets/dd8hh2tmra1psngf.js","assets/bufsnh483s8sy0nc.js","assets/ol3xw5qndra1cjvx.js","assets/octxl093if6ckp4g.js"])))=>i.map(i=>d[i]);
var pe=Object.defineProperty;var se=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var te=(s,e,a)=>e in s?pe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,U=(s,e)=>{for(var a in e||(e={}))je.call(e,a)&&te(s,a,e[a]);if(se)for(var a of se(e))we.call(e,a)&&te(s,a,e[a]);return s};import{h as Se,a as ve,e as Te,j as t,L as oe,c as B,r as A,_ as q,M as Ne}from"./kfrdmkli83ureki3.js";import{u as E,gh as V,x as Q,gv as Pe,d as R,bX as Ce,h as ye,cy as O,cq as re,z as ne,qY as He,qZ as _e,eh as Ae,bo as le,N as W,e9 as ie,eA as de,cu as Oe,w as Ie,kf as ke,J as ce,fO as Re,gx as ze,aN as X,az as J,H as Be,al as Ee,dT as Le,ev as Me,q_ as We,ej as De,i6 as Fe,r as Ue,M as Ge,e3 as $e,hT as qe,df as Ve,kR as Qe,aA as he,aJ as Xe,V as Je}from"./kw08ajijqinojrwh.js";import{bs as Ke,am as Ye,lq as Ze,ay as ue,g3 as es,u as ss,lr as ts,id as as,ls as os,jd as rs,hD as ns,gP as ls,hG as G,lt as is,hF as ae,en as ds,lu as cs,fB as hs,hK as us,eB as ms,jw as fs}from"./fyw02vlaiv2vq6cj.js";import{A as gs}from"./n25jb1xrdrimv99m.js";import{C as xs}from"./c326bjybavj646xd.js";import{a as bs}from"./nunatmpame7vjusr.js";function me({projectResource:s}){var S;const e=Se(),a=E(),j=(S=s.gizmo)==null?void 0:S.id,o=V(a,j),f=Q(ne),h=ve(),r=(()=>{const i=h.pathname.replace(/\/+$/,"");return/^\/g\/[^/]+\/project$/.test(i)})(),m=Pe(s),n=s.gizmo.display.name,d=R(()=>He(a,s)),b=R(()=>_e(a,s));if(!(o&&!f&&!r)||s.gizmo.gizmo_type!==Ce.PROJECT)return null;const w=n?e.formatMessage($.openProjectHome,{projectName:n}):e.formatMessage($.openProjectHomeFallback),u=ye(a,s),c=t.jsx(Ye,{color:d,emoji:b,strict:!0,isSharedProject:m}),x=w,g=t.jsx(oe,{to:u,"aria-label":x,className:O("hover:bg-token-bg-tertiary focus-visible:outline-token-outline-primary text-token-text-secondary ms-2 inline-flex items-center justify-center rounded-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2","h-9 w-9"),children:c}),p=n!=null?n:e.formatMessage($.projectNameFallback);return t.jsxs("div",{className:"flex items-center",children:[t.jsx(re,{label:p,children:g}),t.jsx(Ke,{className:"icon-sm text-token-text-tertiary","aria-hidden":"true"})]})}const $=Te({openProjectHome:{id:"threadHeader.openProjectHome",defaultMessage:"Open {projectName} project"},openProjectHomeFallback:{id:"threadHeader.openProjectHomeFallback",defaultMessage:"Open project home"},projectNameFallback:{id:"threadHeader.projectNameFallback",defaultMessage:"Project"}});function ps(s){"use forget";const e=B.c(22),{className:a,threadHeaderDropdown:j,conversationActions:o,superWidgetTabs:f,projectResource:h}=s,r=E(),m=Ae(),n=le(r);let d;e[0]!==r||e[1]!==m?(d=m&&!W(r),e[0]=r,e[1]=m,e[2]=d):d=e[2];const b=!d;let l;e[3]!==r||e[4]!==m?(l=m&&!W(r),e[3]=r,e[4]=m,e[5]=l):l=e[5];const w=!l;let u;e[6]!==f?(u=f!=null?f:t.jsx(Ze,{textClassName:"text-sm"}),e[6]=f,e[7]=u):u=e[7];const c=u;if(n){let p;e[8]!==b?(p=b&&t.jsx(gs,{}),e[8]=b,e[9]=p):p=e[9];const S=w&&j;let i;return e[10]!==a||e[11]!==o||e[12]!==h||e[13]!==p||e[14]!==S||e[15]!==c?(i=t.jsx(js,{className:a,conversationActions:o,sidebarOpenButton:p,threadHeaderDropdown:S,superWidgetTabs:c,projectResource:h}),e[10]=a,e[11]=o,e[12]=h,e[13]=p,e[14]=S,e[15]=c,e[16]=i):i=e[16],i}const x=w&&j;let g;return e[17]!==a||e[18]!==o||e[19]!==x||e[20]!==c?(g=t.jsx(ws,{className:a,conversationActions:o,threadHeaderDropdown:x,superWidgetTabs:c}),e[17]=a,e[18]=o,e[19]=x,e[20]=c,e[21]=g):g=e[21],g}function js(s){"use forget";const e=B.c(23),{className:a,conversationActions:j,sidebarOpenButton:o,threadHeaderDropdown:f,superWidgetTabs:h,projectResource:r}=s,m=A.useRef(null),n=A.useRef(null),d=A.useRef(null),b=A.useRef(null);let l,w;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{const P=m.current,C=n.current,y=d.current,N=b.current;if(!P||!C||!y||!N)return;const I=()=>{const k=P.getBoundingClientRect().width,z=y.getBoundingClientRect().width,D=C.getBoundingClientRect(),L=.5*(k-z),M=D.right>L;y.style.justifySelf=M?"start":"center"},H=new ResizeObserver(I);return H.observe(P,{box:"border-box"}),H.observe(C,{box:"border-box"}),H.observe(y,{box:"border-box"}),I(),()=>{H.disconnect()}},w=[],e[0]=l,e[1]=w):(l=e[0],w=e[1]),ie(l,w);let u;e[2]!==a?(u=O("h-header-height w-full px-2 sm:grid sm:grid-cols-[minmax(max-content,1fr)_auto_minmax(0,1fr)] sm:px-0",a),e[2]=a,e[3]=u):u=e[3];let c;e[4]!==r?(c=r?t.jsx(me,{projectResource:r}):null,e[4]=r,e[5]=c):c=e[5];let x;e[6]!==f?(x=t.jsx("div",{ref:n,children:f}),e[6]=f,e[7]=x):x=e[7];let g;e[8]!==o||e[9]!==c||e[10]!==x?(g=t.jsxs("div",{className:"z-10 col-start-1 row-start-1 hidden items-center self-center justify-self-start md:flex",children:[o,c,x]}),e[8]=o,e[9]=c,e[10]=x,e[11]=g):g=e[11];let p,S;e[12]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(ue,{className:"col-span-3 col-start-1 row-start-1 w-full",children:t.jsx("div",{className:"w-full",ref:b})}),S=O("no-scrollbar col-start-2 row-start-1 -mb-px h-full w-full min-w-0 overflow-x-auto overflow-y-hidden"),e[12]=p,e[13]=S):(p=e[12],S=e[13]);let i;e[14]!==h?(i=t.jsx("div",{className:S,ref:d,children:h}),e[14]=h,e[15]=i):i=e[15];let v;e[16]!==j?(v=t.jsx("div",{className:"col-start-3 row-start-1 hidden items-center justify-self-end overflow-visible md:flex",children:j}),e[16]=j,e[17]=v):v=e[17];let T;return e[18]!==v||e[19]!==u||e[20]!==g||e[21]!==i?(T=t.jsxs("div",{className:u,ref:m,children:[g,p,i,v]}),e[18]=v,e[19]=u,e[20]=g,e[21]=i,e[22]=T):T=e[22],T}function ws(s){"use forget";const e=B.c(17),{className:a,conversationActions:j,threadHeaderDropdown:o,superWidgetTabs:f}=s,h=A.useRef(null),r=A.useRef(null),m=A.useRef(null),n=A.useRef(null);let d,b;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{const S=h.current,i=r.current,v=m.current,T=n.current;if(!S||!i||!v||!T)return;const P=()=>{const y=S.getBoundingClientRect().width,N=v.getBoundingClientRect().width,I=i.getBoundingClientRect(),H=.5*(y-N),k=I.right>H;v.style.justifySelf=k?"start":"center"},C=new ResizeObserver(P);return C.observe(S,{box:"border-box"}),C.observe(i,{box:"border-box"}),C.observe(v,{box:"border-box"}),P(),()=>{C.disconnect()}},b=[],e[0]=d,e[1]=b):(d=e[0],b=e[1]),ie(d,b);let l;e[2]!==a?(l=O("h-header-height w-full px-2 sm:grid sm:grid-cols-[minmax(max-content,1fr)_auto_minmax(0,1fr)] sm:px-0",a),e[2]=a,e[3]=l):l=e[3];let w;e[4]!==o?(w=t.jsx("div",{className:"z-10 col-start-1 row-start-1 hidden self-center justify-self-start pe-2 md:flex",ref:r,children:o}),e[4]=o,e[5]=w):w=e[5];let u,c;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(ue,{className:"col-span-3 col-start-1 row-start-1 w-full",children:t.jsx("div",{className:"w-full",ref:n})}),c=O("no-scrollbar col-start-2 row-start-1 -mb-px h-full w-full min-w-0 overflow-x-auto overflow-y-hidden"),e[6]=u,e[7]=c):(u=e[6],c=e[7]);let x;e[8]!==f?(x=t.jsx("div",{className:c,ref:m,children:f}),e[8]=f,e[9]=x):x=e[9];let g;e[10]!==j?(g=t.jsx("div",{className:"col-start-3 row-start-1 hidden items-center justify-self-end overflow-visible md:flex",children:j}),e[10]=j,e[11]=g):g=e[11];let p;return e[12]!==l||e[13]!==w||e[14]!==x||e[15]!==g?(p=t.jsxs("div",{className:l,ref:h,children:[w,u,x,g]}),e[12]=l,e[13]=w,e[14]=x,e[15]=g,e[16]=p):p=e[16],p}const Ss=({clientThreadId:s})=>{const e=E(),a=de(c=>c.activeStageSidebar),j=es(Oe.WorkspaceShareLinks),o=!W(e),f=Ie(),h=ke(s),r=V(e,h);R(()=>r&&h?ze(e,h).gizmo$():null);const m=ce(e,"16480203"),n=ss(),d=Re(),b=Q(X),l=j&&!o&&!f&&(!r||m)&&!n&&!d&&!b&&!0,w=!a,u=b;return t.jsx("div",{className:"flex items-center",id:"conversation-header-actions",children:t.jsx(xs,{showShareButton:l,showProfileDropdown:w,showConversationPrivacyIndicator:u,clientThreadId:s})})},vs=J(()=>q(()=>import("./fyw02vlaiv2vq6cj.js").then(s=>s.zh),__vite__mapDeps([0,1,2,3,4])),{loading:s=>he(s)}),Ts=J(()=>q(()=>import("./fyw02vlaiv2vq6cj.js").then(s=>s.zv),__vite__mapDeps([0,1,2,3,4])),{loading:s=>he(s)}),Ns=J(()=>q(()=>import("./xkahnh0fqiq7lpfs.js"),__vite__mapDeps([5,1,2,3,6,0,4,7,8,9,10,11,12,13,14,15,16,17])).then(s=>s.GizmoUsingAsOwnerNotice)),Ps="text-lg",Cs="icon-sm";function Bs({conversation:s,transparentBackground:e,isEmptyState:a}){var K,Y,Z,ee;const j=ts(),o=E(),f=as(o),h=R(()=>Xe(s)),r=V(o,h),m=os(),{data:n}=Be(h),d=Ee(o),b=d==null?void 0:d.getWorkspaceId(),l=Le(),{data:w}=Me(b),u=(K=l==null?void 0:l.data.profilePictureUrl)!=null?K:null,c=(Y=l==null?void 0:l.data.name)!=null?Y:void 0,x=!!(l!=null&&l.isWorkspaceAccount()&&u&&((Z=w==null?void 0:w.beta_settings)!=null&&Z[We.SHOW_LOGO_IN_HEADER])),g=De(),p=Fe(),[S,i]=Q(_=>[X(_),ne(_)]),v=Ue(s.id),T=de(_=>_.isConversationScrolledFromTop),P=Ge(s.id,Je.hasUserMessage)||!v,C=$e(),y=C&&p,N=rs()&&P&&!C,I=!h&&!N&&!i,{shouldShow:H,handleClose:k}=ns({clientThreadId:s.id,fromHeader:!0}),z=H&&!y,D=!W(o),L=t.jsx(ls,{clientThreadId:s.id,children:t.jsx(Ss,{clientThreadId:s.id})}),M=S&&!N?{textClassName:Ps,chevronClassName:Cs}:{},fe=N?t.jsx(ps,{projectResource:n!=null?n:void 0,threadHeaderDropdown:t.jsx(G,U({conversation:s},M)),conversationActions:L}):i?t.jsx(is,{clientThreadId:s.id}):g&&(r||!h)?t.jsx(G,{conversation:s}):t.jsx(G,U({conversation:s},M)),ge=(()=>{const _="[box-shadow:var(--sharp-edge-top-shadow)]",F="[box-shadow:var(--sharp-edge-top-shadow-placeholder)]";return S?qe(o)?T?_:F:"":f?F+" group-data-scroll-from-top/thread:"+_:T?_:F})(),xe=R(()=>us(s).hasPinnedWidget$()),be=!!n&&!(le(o)&&N);return t.jsxs(t.Fragment,{children:[t.jsxs(Hs,{id:"page-header",shouldHideHeaderOnSmallScreens:!N&&!i,shouldUseEmptyStateLayout:!!a&&!j,shouldStickSnorlaxNewThread:r&&v,shouldUseDefaultHeaderPositioning:I&&!j,shouldUseTransparentDefaultHeaderBackground:I&&!C&&!xe,shouldForceTransparentBackground:!!(e&&!C&&!N&&!i),shouldShowUpgradeStyles:T&&z,edgeShadowClass:ge,children:[!i&&!N&&t.jsxs("div",{className:"pointer-events-none absolute start-0 flex flex-col items-center gap-2 lg:start-1/2 ltr:-translate-x-1/2 rtl:translate-x-1/2",children:[n==null&&x&&u&&t.jsx(Ve,{src:u,alt:c!=null?c:""}),n!=null&&(d==null?void 0:d.isWorkspaceAccount())&&((ee=n.gizmo.tags)==null?void 0:ee.includes(Qe.WorkspaceDisabled))&&t.jsx(Ns,{gizmo:n}),z&&t.jsx("div",{className:"hidden lg:block",children:t.jsx(ae,{onClose:k,clientThreadId:s.id})}),y&&t.jsx(bs,{})]}),t.jsxs("div",{className:O("flex",N||i?"w-full":"items-center"),children:[D&&!i&&ce(o,"2860321732")&&t.jsx(ys,{}),be&&t.jsx(me,{projectResource:n}),fe,!i&&!N&&t.jsx("div",{className:"block lg:hidden",children:z?t.jsx(ae,{onClose:k,clientThreadId:s.id}):null})]}),!N&&!i&&t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(ds,{gizmoId:h,clientThreadId:s.id})}),t.jsx("div",{className:"flex items-center gap-2",children:L})]})]}),m&&t.jsx(cs,{})]})}const ys=()=>{"use forget";const s=B.c(12),e=E();let a;s[0]!==e?(a=()=>X(e),s[0]=e,s[1]=a):a=s[1];const j=R(a),o=hs();let f;s[2]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(Ne,{id:"mG13YW",defaultMessage:"New chat"}),s[2]=f):f=s[2];const h=j&&"self-center";let r;s[3]!==h?(r=O("hover:bg-token-bg-tertiary group touch:h-10 flex aspect-square h-9 items-center justify-center rounded-[10px]",h),s[3]=h,s[4]=r):r=s[4];let m;s[5]!==e?(m=b=>{ms(e,b,{location:"Anon desktop header"})},s[5]=e,s[6]=m):m=s[6];let n;s[7]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsxs("div",{children:[t.jsx(Ts,{className:"icon-lg -m-1 group-hover:hidden"}),t.jsx(vs,{className:"icon not-group-hover:hidden"})]}),s[7]=n):n=s[7];let d;return s[8]!==o||s[9]!==r||s[10]!==m?(d=t.jsx(re,{label:f,contentClassName:"cant-hover:hidden",triggerAs:null,children:t.jsx(oe,{to:"/",state:o,className:r,onClick:m,children:n})}),s[8]=o,s[9]=r,s[10]=m,s[11]=d):d=s[11],d};function Hs(s){"use forget";const e=B.c(14),{children:a,id:j,shouldHideHeaderOnSmallScreens:o,shouldUseEmptyStateLayout:f,shouldStickSnorlaxNewThread:h,shouldUseDefaultHeaderPositioning:r,shouldUseTransparentDefaultHeaderBackground:m,shouldForceTransparentBackground:n,shouldShowUpgradeStyles:d,edgeShadowClass:b,shouldDisableTransition:l}=s,u=(l===void 0?!1:l)?"transition-none motion-safe:transition-none":"motion-safe:transition",c=o&&"max-md:hidden",x=f&&"absolute start-0 end-0",g=h&&"sharp-edge-on-scroll-start sticky top-0",p=r&&"thread-xl:absolute thread-xl:start-0 thread-xl:end-0 thread-xl:shadow-none!",S=m&&"thread-xl:bg-transparent",i=n&&"bg-transparent",v=d&&"thread-xl:bg-token-main-surface-primary thread-xl:[box-shadow:var(--sharp-edge-top-shadow)]!";let T;e[0]!==b||e[1]!==u||e[2]!==c||e[3]!==x||e[4]!==g||e[5]!==p||e[6]!==S||e[7]!==i||e[8]!==v?(T=O("pointer-events-none select-none [view-transition-name:var(--vt-page-header)] *:pointer-events-auto",u,c,x,g,p,S,i,b,v),e[0]=b,e[1]=u,e[2]=c,e[3]=x,e[4]=g,e[5]=p,e[6]=S,e[7]=i,e[8]=v,e[9]=T):T=e[9];let P;return e[10]!==a||e[11]!==j||e[12]!==T?(P=t.jsx(fs,{id:j,className:T,children:a}),e[10]=a,e[11]=j,e[12]=T,e[13]=P):P=e[13],P}export{Ss as C,me as P,Bs as T,Hs as a};
//# sourceMappingURL=hrprrmrs14hiemon.js.map

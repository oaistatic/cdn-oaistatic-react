import{h as u,d as M,r as b,j as e,M as i}from"./kfrdmkli83ureki3.js";import{bP as x,bV as j}from"./fyw02vlaiv2vq6cj.js";import{u as y,kS as R,d,eV as v,dg as w,aC as E,db as c}from"./kw08ajijqinojrwh.js";function S({title:t,memberCount:o,handleDeleteAndClose:a,onClose:n}){"use no forget";const s=u();return e.jsx(E,{testId:"modal-delete-group-chat-confirmation",isOpen:!0,onClose:()=>n(),type:"danger",title:s.formatMessage({id:"GH5Dwv",defaultMessage:"Delete group chat?"}),primaryButton:e.jsx(c.Button,{title:s.formatMessage({id:"mf2uvk",defaultMessage:"Delete"}),color:"danger",onClick:()=>{a()},"data-testid":"delete-group-chat-confirm-button"}),secondaryButton:e.jsx(c.Button,{title:s.formatMessage({id:"QFpPhw",defaultMessage:"Cancel"}),color:"secondary",onClick:()=>n()}),children:o===1?e.jsx(i,{id:"a/tRVb",defaultMessage:"This will delete {title}. Youâ€™ll no longer see the chat history, and no one else will be able to join.",values:{title:e.jsx("span",{className:"font-medium",children:t})}}):e.jsx(i,{id:"0esR03",defaultMessage:"This will delete {title} for all {memberCount} members. You and {memberCountExcludingCurrentUser, plural, one {the other member} other {the other # members}} will no longer see the chat history, and no one else will be able to join.",values:{title:e.jsx("span",{className:"font-medium",children:t}),memberCount:o,memberCountExcludingCurrentUser:o-1}})})}const B=({room:t,onClose:o})=>{"use no forget";const a=y(),n=x(a),s=u(),m=R(a),g=M(),f=d(()=>t.name$()),h=j()===t.id,r=b.useRef(!1),p=d(()=>t.members$().length);return e.jsx(S,{title:f,memberCount:p,handleDeleteAndClose:async()=>{var l;if(!r.current)try{r.current=!0,await n.deleteRoom$(t.id),h&&g("/"),o()}catch(C){m.danger((l=v(C))!=null?l:s.formatMessage(w.somethingWentWrong))}finally{r.current=!1}},onClose:o})};export{B as CalpicoDeleteChatConfirmationModalContainer};
//# sourceMappingURL=lmlj1u04lgbh68m0.js.map

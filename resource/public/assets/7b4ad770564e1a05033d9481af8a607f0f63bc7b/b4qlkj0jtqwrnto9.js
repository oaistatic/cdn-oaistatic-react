const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/oydzwmbjqxhwp1ek.js","assets/kfrdmkli83ureki3.js"])))=>i.map(i=>d[i]);
var re=Object.defineProperty,ce=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable;var q=(t,a,s)=>a in t?re(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,r=(t,a)=>{for(var s in a||(a={}))de.call(a,s)&&q(t,s,a[s]);if($)for(var s of $(a))me.call(a,s)&&q(t,s,a[s]);return t},j=(t,a)=>ce(t,le(a));import{h as S,e as N,j as e,M as d,c as pe,r as c,o as Y,_ as ue,u as ge,d as he,a as xe}from"./kfrdmkli83ureki3.js";import{p as fe,dL as be,w as ke,cT as ve}from"./fyw02vlaiv2vq6cj.js";import{A as ye}from"./nrepgto7in7c3ju5.js";import{dT as P,nL as we,u as Q,p as K,dk as Ce,ev as je,_ as g,ak as Te,aB as M,dg as J,az as Me,d_ as Se,nP as Ne,dj as Pe,dR as We,aA as Ee}from"./kw08ajijqinojrwh.js";import{a as A,c as De,P as _e,b as Z}from"./d1ap5feakqckopnz.js";import{c as Ae}from"./iej0cupg2dqkmejt.js";import{h as Oe,i as Le}from"./lg0oi3tmjv8kv2p4.js";import{I as Ie}from"./m0t07ixd92668z9e.js";import{u as Ue,m as Ge}from"./e3jwljlo6951wi7j.js";import{G as Fe}from"./jgq2cc4ofvcu1mnx.js";function Re({workspaceName:t,onChangeWorkspaceName:a,showHeader:s=!0,isContentTweaksEnabled:n=!1}){const i=S(),o=n?H.workspaceNameDescription:U.workspaceNameDescription,x=n?H.exampleTeamWorkspaceName:U.exampleTeamWorkspaceName;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-4 flex-wrap",children:[s&&e.jsx("label",{htmlFor:"workspace-name",className:"text-token-text-primary block pb-1 text-lg font-semibold",children:e.jsx(d,r({},U.workspaceNameLabel))}),e.jsx("p",{className:"font-base text-token-text-secondary text-sm",children:e.jsx(d,r({},o))})]}),e.jsx(Ie,{className:"w-full",type:"text",name:"workspace-name",placeholder:i.formatMessage(x),value:t,onChange:m=>a(m.target.value),maxLength:64})]})}const U=N({workspaceNameLabel:{id:"createWorkspace.workspaceNameLabel",defaultMessage:"Workspace name"},workspaceNameDescription:{id:"createWorkspace.workspaceNameDescription",defaultMessage:"Choose a name your team will recognize."},exampleTeamWorkspaceName:{id:"createWorkspace.exampleTeamWorkspaceName",defaultMessage:"Acme Inc."}}),H=N({workspaceNameDescription:{id:"createWorkspace.experiment.workspaceNameDescription",defaultMessage:"This will be your workspace name â€” the shared home for your team in ChatGPT."},exampleTeamWorkspaceName:{id:"createWorkspace.experiment.exampleTeamWorkspaceName",defaultMessage:"Acme Inc"}}),V=N({discoverabilityCheckboxWithDomain:{id:"workspaceOnboarding.discoverabilityCheckboxWithDomain",defaultMessage:"Anyone with an <b>{domain}</b> email can request to join"},discoverabilityCheckboxGeneric:{id:"workspaceOnboarding.discoverabilityCheckboxGeneric",defaultMessage:"Anyone with your email domain can request to join"}});function Be(t){"use forget";const a=pe.c(4),{onNext:s}=t,n=P();if(!n){let o;return a[0]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsx(we,{}),a[0]=o):o=a[0],o}let i;return a[1]!==n||a[2]!==s?(i=e.jsx(ze,{onNext:s,currentAccount:n}),a[1]=n,a[2]=s,a[3]=i):i=a[3],i}function ze({onNext:t,currentAccount:a}){"use no forget";var z,X;const s=Q(),n=S(),i=K(),o=Ce(),x=a.data,[m,W]=c.useState(""),[p,E]=c.useState(!0),[O]=Y(),b=O.get("account_id"),v=b!=null?b:a.data.id,f=Ue(v),{data:l}=je(v),C=(l==null?void 0:l.support_workspace_discovery)!==!1,y=!!v&&C,w=fe(v,{suppressSuccessToast:!0}),F=(X=(z=o==null?void 0:o.email)==null?void 0:z.split("@")[1])!=null?X:null,R=F?"@".concat(F):null,B=typeof(l==null?void 0:l.workspace_discoverable)=="boolean"?l.workspace_discoverable:null,ae=c.useCallback(u=>{E(u),g.logEvent("Account Pay: Create Workspace Discoverability Checkbox Toggled",{workspaceDiscoverable:u})},[]),te=c.useCallback(async()=>{if(!a)return;const u=a.subscriptionAnalyticsParams;g.logEvent("Account Pay: Create Workspace Modal Clicked",u);try{const k=[];m!==x.name&&(k.push(f.mutateAsync({name:m})),g.logEvent("Account Pay: Create Workspace Modal Renamed",u)),y&&B!==p&&(g.logEvent("Account Pay: Create Workspace Discoverability Submitted",{workspaceDiscoverable:p}),k.push(w.mutateAsync({value:p,public_display_name:null,use_workspace_name_for_discovery:p,action:"toggle"}))),k.length>0&&await Promise.all(k),t()}catch(k){i.warning(n.formatMessage(Ge.saveError),{hasCloseButton:!0})}},[a,x.name,w,n,t,f,y,i,B,p,m]),{isCreateWorkspaceNameAutofillEnabled:se}=Oe(s),L=se();c.useEffect(()=>{var k;if(L&&!(o!=null&&o.email)||!a||!o)return;const u=(k=Le(n,a,o,{enableEmailPrefill:L}))!=null?k:"";W(I=>I.trim().length===0?u:I)},[n,a,o,L]),c.useEffect(()=>{if(!a)return;const u=a.subscriptionAnalyticsParams;g.logEvent("Account Pay: Create Workspace Modal Show",u)},[a]);const D=Te(s,"1456645202").get("is_workspace_content_tweaks_enabled",!1),ne=D?G.workspaceSetupTitle:be.nameWorkspace,oe=D?G.discoverabilityCheckboxWithDomain:V.discoverabilityCheckboxWithDomain,ie=D?G.discoverabilityCheckboxGeneric:V.discoverabilityCheckboxGeneric;return e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"md:whitespace-nowrap",children:e.jsx(d,r({},ne))}),e.jsxs(De,{children:[e.jsx(Re,{workspaceName:m,onChangeWorkspaceName:W,showHeader:!1,isContentTweaksEnabled:D}),y&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(ke,{id:"workspace-discoverability-opt-in",checked:p,onChange:u=>ae(u.currentTarget.checked),containerClassName:"items-start",className:"mt-1",labelClassName:"text-left text-token-text-primary text-sm max-w-70",label:e.jsx(e.Fragment,{children:R?e.jsx(d,j(r({},oe),{values:{domain:R,b:u=>e.jsx("strong",{className:"font-semibold",children:u})}})):e.jsx(d,r({},ie))})})})]}),e.jsx(M,{loading:f.isPending||w.isPending||a==null,onClick:()=>{te()},disabled:m.trim().length===0,size:"large",fullWidth:!0,children:e.jsx(d,r({},J.continueButtonText))})]})}const G=N({workspaceSetupTitle:{id:"workspaceOnboarding.experiment.workspaceSetupTitle",defaultMessage:"What's your company or team name?"},discoverabilityCheckboxWithDomain:{id:"workspaceOnboarding.experiment.discoverabilityCheckboxWithDomain",defaultMessage:"Anyone with a <b>{domain}</b> email can ask to join"},discoverabilityCheckboxGeneric:{id:"workspaceOnboarding.experiment.discoverabilityCheckboxGeneric",defaultMessage:"Anyone with your company email can ask to join"}}),Xe=Me(()=>ue(()=>import("./oydzwmbjqxhwp1ek.js"),__vite__mapDeps([0,1])),{loading:t=>Ee(t)});var ee=(t=>(t.Landing="landing",t.Setup="setup",t.Naming="naming",t.Invite="invite",t.CAOnboarding="caOnboarding",t.Complete="complete",t))(ee||{});const $e={enter:t=>({translateX:t>=0?"50%":"-50%",opacity:0}),center:{translateX:0,opacity:1},exit:t=>({translateX:t<=0?"50%":"-50%",opacity:0})},_=["landing","naming","invite","caOnboarding","complete"];function pa({LandingComponent:t=qe,FinalStepComponent:a=Ke}={}){const s=ge(),n=he(),{currentPath:i,currentStep:o}=Je(),x=Q(),m=S(),W=K(),[p,E]=c.useState(1),[O]=Y(),b=O.get("account_id");function v(){window.location.href="/"}c.useEffect(()=>{function l(){E(-1)}return window.addEventListener("popstate",l),()=>{window.removeEventListener("popstate",l)}},[]);const f=()=>{E(1);let l=_.indexOf(o);const C=_[l+1],y=C==="caOnboarding"?Pe(x,"555825174").get("enabled",!1):!1;C==="caOnboarding"&&g.logEventWithStatsig("Contextual Answers Team Sign Up Flow Experiment Flag Evaluated","chatgpt_contextual_answers_team_sign_up_experiment_evaluated",{workspaceId:b,experimentFlag:y}),C==="caOnboarding"&&!y&&l++;const w=l+1;b||v(),l!==-1&&w<_.length&&n(i+"#"+_[w])};return e.jsx("div",{className:"max-w-sm pb-6",children:e.jsxs(Se,{mode:"wait",custom:p,children:[o==="landing"&&e.jsx(T,{initial:!1,custom:p,children:e.jsx(t,{onNext:f})},"landing"),o==="naming"&&e.jsx(T,{initial:!1,custom:p,children:e.jsx(Be,{onNext:f})},"naming"),o==="invite"&&e.jsx(T,{custom:p,children:e.jsx(He,{onNext:f})},"invite"),o==="caOnboarding"&&e.jsx(T,{custom:p,children:e.jsx(Qe,{onNext:f})},"caOnboarding"),o==="complete"&&e.jsx(T,{custom:p,children:e.jsx(a,{onNext:()=>{f(),b&&Ne(s,b,x,m,W),v()}})},"complete")]})})}const T=t=>e.jsx(We.div,r({initial:"enter",animate:"center",exit:"exit",variants:$e,transition:{translateX:{type:"tween",duration:0},opacity:{duration:.2}}},t));function qe({onNext:t}){const a=P(),s=c.useCallback(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,o=new URLSearchParams(window.location.search).get("referrer")||document.referrer;g.logEvent("Account Pay: Payment Confirmation Modal Clicked",j(r({},n),{referrer:o}))},[a]);return c.useEffect(()=>{if(!a)return;const n=a.subscriptionAnalyticsParams,o=new URLSearchParams(window.location.search).get("referrer")||document.referrer;g.logEvent("Account Pay: Payment Confirmation Modal Show",j(r({},n),{referrer:o}))},[a]),e.jsxs(e.Fragment,{children:[e.jsx(_e,{isTrial:!1}),e.jsx(A,{children:e.jsx(d,r({},h.standard))}),e.jsx(Z,{children:e.jsx(d,r({},h.description))}),e.jsx(M,{onClick:()=>{t(),s()},size:"large",loading:a==null,fullWidth:!0,children:e.jsx(d,r({},J.continueButtonText))})]})}function He({onNext:t}){const a=S(),s=P(),{data:n}=ve(),i=c.useMemo(()=>s==null?void 0:s.subscriptionAnalyticsParams,[s]);return c.useEffect(()=>{s!=null&&g.logEvent("Account Pay: Invite Collaborators Modal Show",i)},[i,s]),s==null||n==null?null:e.jsxs(e.Fragment,{children:[e.jsx(A,{children:e.jsx(d,j(r({},h.inviteTitle),{values:{seatCount:n.seats_entitled,workspaceName:s.data.name}}))}),e.jsx("div",{className:"text-md text-token-text-secondary mt-2 mb-8",children:e.jsx(d,r({},h.completeDescription))}),e.jsx(ye,{fullWidthButtons:!0,workspace:s,canResendInviteEmails:!1,cancelButtonText:a.formatMessage(h.skipAddMembers),onCancel:t,onSuccess:t,seatCount:n.seats_entitled})]})}const Ve="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo-video.mp4",Ye="https://persistent.oaistatic.com/chatgpt/internal-knowledge-promo.png";function Qe({onNext:t}){const a=S(),s=P(),[n,i]=c.useState(!1),[o,x]=c.useState(!1);return c.useEffect(()=>{if(!s)return;const m=s.subscriptionAnalyticsParams;g.logEvent("Account Pay: Contextual Answers Step Shown",m)},[s]),e.jsxs("div",{children:[e.jsxs("div",{className:"w-max-[384px] h-max-[170px] relative h-full w-full overflow-hidden rounded-3xl",children:[e.jsx("video",{src:Ve,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover object-bottom",onLoadedData:()=>x(!0)}),!o&&e.jsx("img",{src:Ye,alt:a.formatMessage({id:"yNEeCK",defaultMessage:"Modal splash image"}),className:"absolute inset-0 h-full w-full object-cover object-bottom transition-opacity duration-300"})]}),e.jsx("div",{className:"text-heading-2 mt-8",children:a.formatMessage(h.caOnboardingTitle)}),e.jsx("div",{className:"text-token-text-secondary mt-4 mb-8",children:a.formatMessage(h.caOnboardingDescription)}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(M,{onClick:()=>i(!0),icon:Xe,size:"large",fullWidth:!0,children:a.formatMessage(h.caOnboardingConnectButton)}),e.jsx(M,{onClick:()=>t(),size:"large",fullWidth:!0,color:"ghost",children:a.formatMessage(h.skipCaOnboarding)})]}),n&&e.jsx(Fe,{isDwdEnabled:!0,triggerLocation:"team-sign-ups",onClose:m=>{i(!1),m&&t()}})]})}function Ke({onNext:t}){const a=P(),s=c.useMemo(()=>a==null?void 0:a.subscriptionAnalyticsParams,[a]);c.useEffect(()=>{g.logEvent("Account Pay: Workspace Setup Complete Modal Show",s)},[s]);const n=()=>{g.logEvent("Account Pay: Workspace Setup Complete Modal Clicked",s)};return e.jsxs(e.Fragment,{children:[e.jsx(A,{children:e.jsx(d,r({},h.completeTitle))}),e.jsx(Z,{children:e.jsx(d,r({},h.completeDescription))}),e.jsx(M,{onClick:()=>{t(),n()},size:"large",fullWidth:!0,children:e.jsx(d,r({},h.continueToChatgpt))})]})}function Je(){const{hash:t,pathname:a,search:s}=xe(),n=t.slice(1);return{currentStep:Ze(n)?n:"landing",currentPath:a+s}}const Ze=Ae(ee),h=N({standard:{id:"UpgradedToTeamSuccess.trial",defaultMessage:"Payment successful"},description:{id:"UpgradedToTeamSuccess.description",defaultMessage:"Your team has been created. You can invite members to join the workspace to start collaborating."},continueToChatgpt:{id:"UpgradedToTeamSuccess.continueToChatgpt",defaultMessage:"Continue to ChatGPT"},setupTitle:{id:"UpgradedToTeamSuccess.setupTitle",defaultMessage:"Set up a team workspace"},setupSubtitle:{id:"UpgradedToTeamSuccess.setupSubtitle",defaultMessage:"Workspace name"},inviteTitle:{id:"UpgradedToTeamSuccess.inviteTitle",defaultMessage:"Invite {seatCount, plural, one {# member} other {# members}} to {workspaceName}"},completeTitle:{id:"UpgradedToTeamSuccess.completeTitle",defaultMessage:"Workspace setup complete"},completeDescription:{id:"UpgradedToTeamSuccess.completeDescription",defaultMessage:"Supercharge your team's productivity with ChatGPT."},skipAddMembers:{id:"UpgradedToTeamSuccess.skipAddMembers",defaultMessage:"Skip this step"},caOnboardingTitle:{id:"UpgradedToTeamSuccess.caOnboardingTitle",defaultMessage:"Connect internal knowledge"},caOnboardingDescription:{id:"UpgradedToTeamSuccess.caOnboardingDescription",defaultMessage:"Your team can chat with Google Docs, Sheets, and Slides to give you more helpful, relevant answers."},caOnboardingConnectButton:{id:"UpgradedToTeamSuccess.caOnboardingConnectButton",defaultMessage:"Connect Google Drive"},skipCaOnboarding:{id:"UpgradedToTeamSuccess.skipCaOnboarding",defaultMessage:"Maybe later"}});export{pa as U};
//# sourceMappingURL=b4qlkj0jtqwrnto9.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gqy20yp8ouicffpb.js","assets/kfrdmkli83ureki3.js"])))=>i.map(i=>d[i]);
var w=Object.defineProperty,b=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var j=(e,t,a)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,n=(e,t)=>{for(var a in t||(t={}))z.call(t,a)&&j(e,a,t[a]);if(g)for(var a of g(t))C.call(t,a)&&j(e,a,t[a]);return e},h=(e,t)=>b(e,v(t));import{j as s,h as N,r as S,M as c,_ as I}from"./kfrdmkli83ureki3.js";import{aC as P,dQ as _,u as k,kS as B,qb as J,qc as L,az as T,f7 as d,qd as O,aB as f,aA as A}from"./kw08ajijqinojrwh.js";async function E(e){const{action:t,minDelayMs:a=1e3,onOptimistic:m,setUiLoading:o,onError:l,onFinally:r}=e;o==null||o(!0);const u=new Promise(i=>setTimeout(i,a)),x=t();await u,m();try{return await x}catch(i){throw l==null||l(i),i}finally{o==null||o(!1),r==null||r()}}const q=T(()=>I(()=>import("./gqy20yp8ouicffpb.js"),__vite__mapDeps([0,1])),{loading:e=>A(e)}),Q=({onClose:e,onJoinProjectSuccess:t,projectData:a})=>s.jsx(P,{testId:"modal-project-join",isOpen:!0,onClose:e,type:"success",showCloseButton:!0,hasSeparator:!1,size:"custom",className:"max-w-fit",contentClassName:"p-8",title:s.jsx(s.Fragment,{}),closeButton:s.jsxs(s.Fragment,{children:[s.jsx("span",{tabIndex:0,"aria-hidden":!0,className:"h-0 w-0 opacity-0 focus:outline-hidden"}),s.jsx(_,{onClick:()=>e()})]}),children:s.jsx(F,{projectData:a,onJoinProjectSuccess:t,onClose:e})});function F({projectData:e,onJoinProjectSuccess:t,onClose:a}){const m=N(),o=k(),l=B(o),[r,u]=S.useState(!1),{mutateAsync:x,isPending:i}=J(),{mutateAsync:p,isPending:y}=L();return s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("div",{className:"border-token-border-default mb-4 w-fit rounded-xl border p-2",children:s.jsx(q,{className:"h-8 w-8"})}),s.jsx("div",{className:"text-token-text-secondary",children:e.gizmo.author.display_name?s.jsx(c,h(n({},d.projectJoinModalWithCreatorTitle),{values:{projectCreator:e.gizmo.author.display_name}})):s.jsx(c,n({},d.projectJoinModalWithoutCreatorTitle))}),s.jsx("div",{className:"text-base font-medium",children:e.gizmo.display.name}),s.jsx("div",{className:"text-token-text-tertiary text-xs",children:s.jsx(c,h(n({},d.membersCount),{values:{count:e.gizmo.sharing.subjects.filter(M=>O(M)).length+1}}))}),s.jsxs("div",{className:"mt-8 flex w-full gap-3",children:[s.jsx(f,{color:"secondary",className:"flex-1 py-3",loading:y||r,onClick:async()=>{await E({action:()=>p({gizmoId:e.gizmo.id}),minDelayMs:1e3,onOptimistic:a,setUiLoading:u,onError:()=>{l.danger(m.formatMessage({id:"fsc7l8",defaultMessage:"Something went wrong. If this issue persists please contact us through our help center at help.openai.com."}),{id:"snorlax-decline-failed"})}})},children:s.jsx(c,n({},d.declineInviteButtonLabel))}),s.jsx(f,{color:"primary",className:"flex-1 py-3",loading:i,onClick:async()=>{await x({gizmoId:e.gizmo.id}),t()},children:s.jsx(c,n({},d.joinProjectButtonLabel))})]})]})}export{Q as ProjectJoinModal};
//# sourceMappingURL=jgp8sucp37z0na7o.js.map
